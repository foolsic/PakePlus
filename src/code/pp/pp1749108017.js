(function(){var dc=window.location.hostname=="www.vectorpea.com"?1:0,aP=!0;(function(){var s;try{s=window.localStorage}catch(hj){}var M={};
if(s){var O=s.getItem("_ppp");if(O)M=JSON.parse(O);else{var P="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var R=0;R<P.length;R++){var y=s.getItem(P[R]);if(y!=null)M[P[R]]=y}}}var F=window.locStor={};F.setItem=function(h,m){M[h]=m;
if(s)s.setItem("_ppp",JSON.stringify(M))};F.getItem=function(h){return M[h]};F.removeItem=function(h){delete M[h];
if(s)s.setItem("_ppp",JSON.stringify(M))};if(dc==0){window.showCap=function(){A(!0)};window.hideCap=function(){A(!1)};
function A(h){document.getElementById("cap").setAttribute("style",h?"":"display:none;");window.locStor.setItem("capShown",""+h)}if(window.locStor.getItem("capShown")=="false"||window.self!=window.top){}else window.showCap()}}());
var dB={oO:0,WX:null,Dd:null,a1h:null,Eo:null,L1:null,ayX:!0,awE:0,qW:!1};dB.event=function(s,M,O){if(dc!=0)return;
if(M!=null&&M<Math.random())return;if(O==null)O=0;var P=new XMLHttpRequest;P.open("GET","/papi/event.php?id="+s+"&g="+O+"&rnd="+Math.random());
P.send()};dB.$n=function(s){if(dc!=0)s="//www.photopea.com/"+s;return s};dB.y$=function(s){var M=location.href;
if(M.indexOf("photopea.com")!=-1||M.indexOf("vectorpea.com")!=-1)return"//vecpea.com/"+s;return dB.$n(s)};
dB.Mo=function(){var s=dB.Nx();if(s==null)return null;var M=i.wI(24)?" ":"",O=i.X7[i.uh("Uu,"+M)];O=O[i.uh(M+"$/")];
var P=dB.atw(1,999);if(P&&dB.SV(P)*50>O()/20)return[0,P];var y=s.inTeams;if(y)for(var R=0;R<y.length;
R++)if(y[R][1]*50>O()/20)return[1,y[R]];return null};dB.I9=function(){return dB.aKR()!=null};dB.qG=function(){return dB.SV(dB.atw(1e3,999999999))};
dB.SV=function(s){return s==null?0:s[0]+s[1]*24*60*60};dB.atw=function(s,M){var O=dB.Nx(),P=O.pmnts,y=0,F=null;
if(P==null||P.length==0)return 0;for(var R=0;R<P.length;R++){var A=P[R],h=dB.SV(A);if(s<=A[2]&&A[2]<=M)if(y<h){y=h;
F=A}}return F};dB.Nx=function(){return dB.L1};dB.Lc=function(s){window.addEventListener("message",dB.aFu,!1);
setInterval(dB.aCV,5e3);if(dB.I9()&&navigator.onLine){dB.WX=s;dB.xm()}else setTimeout(s,1)};dB.aCV=function(){if(dB.I9()&&dB.qW){dB.ajX(dB.XS());
dB.qW=!1}};dB.rG=function(s){dB.WX=s;var M="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
dB.a1h=window.open(M,"_blank")};dB.aed=function(){var s=window.locStor;s.removeItem(dB.oO+"_uid");s.removeItem(dB.oO+"_provider");
s.removeItem(dB.oO+"_token");dB.L1=null};dB.aFu=function(s){if(s.data instanceof ArrayBuffer||s.data instanceof Object)return;
if(s.data.charAt(0)!="{")return;var M=JSON.parse(s.data);if(M.prms==null)return;var O=M.prms.split(",");
if(O[0]=="papi_logged_in"){var P=window.locStor;P.setItem(dB.oO+"_uid",O[1]);dB.M3(O[2]);P.setItem(dB.oO+"_provider",O[3]);
dB.a1h.close();dB.xm()}if(O[0]=="payment_complete"){dB.Eo.close();dB.xm()}};dB.aKR=function(){var s=window.locStor.getItem(dB.oO+"_token");
if(s!=null&&Date.now()*.001+10<parseInt(s.split("-")[0]))return s;return null};dB.M3=function(s){var M=window.locStor.getItem(dB.oO+"_token");
if(M!=null&&parseInt(s.split("-")[0])<parseInt(M.split("-")[0]))return;window.locStor.setItem(dB.oO+"_token",s);
clearTimeout(dB.awE);dB.awE=setTimeout(dB.asG,Math.min(1e9,parseInt(s.split("-")[0])*1e3-Date.now()-20*1e3))};
dB.auA=function(s,M,O,P){if(!navigator.onLine)throw"a";var y=new XMLHttpRequest;y.open("POST","https://www.photopea.com/papi/record_new.php",!0);
y.onload=O;var F=dB.Dt(0)+"&read=3&tuid="+s+"&tid="+M;if(P)F+="&tpl="+encodeURIComponent(P);y.setRequestHeader("Content-type","application/x-www-form-urlencoded");
y.send(F)};dB.asG=function(){if(!navigator.onLine)throw"a";var s=new XMLHttpRequest;s.open("POST","https://www.photopea.com/papi/record_new.php",!0);
s.onload=dB.ail;var M=dB.Dt(0)+"&read=2";s.setRequestHeader("Content-type","application/x-www-form-urlencoded");
s.send(M)};dB.xm=function(){if(!navigator.onLine)throw"b";var s=new XMLHttpRequest;s.open("POST","https://www.photopea.com/papi/record_new.php",!0);
s.onload=dB.ar0;var M=dB.Dt(0)+"&read=1";s.setRequestHeader("Content-type","application/x-www-form-urlencoded");
s.send(M)};dB.ajX=function(s){if(!navigator.onLine)throw"c";var M=new XMLHttpRequest;M.open("POST","https://www.photopea.com/papi/record_new.php",!0);
M.onload=dB.abn;var O=dB.Dt(0)+"&read=0&score="+(s.tpl?1:0)+"&spublic="+dB.ayX+"&record="+encodeURIComponent(JSON.stringify(s));
M.setRequestHeader("Content-type","application/x-www-form-urlencoded");M.send(O)};dB.ar0=function(s){var M=JSON.parse(s.target.response);
if(M.error){}else{dB.L1=M.user;var O=dB.XS(),P=M.record;if(M.record){dB.ayX=M.spublic;dB.a7T(P)}else if(O)dB.ajX(O)}dB.M3(M.token);
var y=dB.WX,F=dB.Dd;if(y){dB.WX=null;y()}if(F){dB.Dd=null;F()}};dB.ail=function(s){var M=JSON.parse(s.target.response);
dB.M3(M.token)};dB.abn=function(s){var M=JSON.parse(s.target.response);dB.M3(M.token);if(dB.Dd)dB.xm()};
dB.Dt=function(s){var M=window.locStor;return"app="+s+"&uid="+M.getItem(dB.oO+"_uid")+"&token="+M.getItem(dB.oO+"_token")};
dB.iJ=function(s){if(s){dB.Dd=s;dB.xm()}return dB.XS()};dB.Cf=function(s,M){dB.a7T(s);dB.qW=!0;if(M){dB.Dd=M;
dB.aCV()}};dB.XS=function(){var s=window.locStor.getItem(dB.oO+"_stateLocal"),M;if(s==null)return null;
try{M=JSON.parse(s)}catch(hj){return null}return M};dB.a7T=function(s){var M=JSON.stringify(s);window.locStor.setItem(dB.oO+"_stateLocal",M)};
dB.order=function(s,M,O){dB.WX=O;var P=window.locStor,y="https://www.photopea.com/papi/order.php?ptype="+M+"&param="+s+"&uid="+P.getItem(dB.oO+"_uid")+"&token="+P.getItem(dB.oO+"_token");
dB.Eo=window.open(y,"_blank")};dB.ahC=function(s,M){dB.WX=M;var O=window.locStor,P="https://www.photopea.com/papi/insertKey.php?key="+s+"&uid="+O.getItem(dB.oO+"_uid")+"&token="+O.getItem(dB.oO+"_token");
dB.Eo=window.open(P,"_blank")};var dN={};dN.a3c=function(s,M){if(typeof M!="string")throw"e";var O=i.X7[i.uh("%|xK")];
if(O==null)return"XYP";var P=s.toString(16).slice(0,4),y=P+M+"aQYRDCB";return O(y).slice(5,17)+P.split("").reverse().join("")};
dN.hT=function(){var s=i.X7[i.BF("3M"+(i.wI(26)?"]K":"fa"))];s=s[i.BF("]["+(!i.wI(28)?",":"`"))];return Math.floor(s()/1e3)};
dN.wI=function(s){var M=0;for(var R=0;R<s;R++)M+=Math.random();return M/s<Math.PI/4};dN.BF=function(s){var M="";
if(!dN.wI(28))s+="-3";for(var R=0;R<s.length;R++){var O=s.charCodeAt(R);if(O<32||126<O)throw"e";M+=String.fromCharCode(32+(O-32+17+3*R)%95)}return M};
dN.uh=function(s){var M="";if(!dN.wI(28))s+="-1";for(var R=0;R<s.length;R++){var O=s.charCodeAt(R);O-=32;
O+=95e4;O-=17+3*R;O=O%95;M+=String.fromCharCode(32+O)}return M};dN.hc=dN.BF("XP");dN.nM=dN.BF("XYP");
dN.tq=dN.BF("c[Y");dN.aox=dN.BF("][`");dN.qX=dN.BF("SU_");dN.wp=dN.BF("b^L");dN.auF=dN.BF("61=");dN.Fu=dN.BF("Q[M_");
dN.rN=dN.BF("WQJJ");dN.Xg=dN.BF("W^NL");dN.aop=dN.BF("[QOZ");dN.j3=dN.BF("[[JJ");dN.a3M=dN.BF("[[PU");
dN.Vk=dN.BF("^\\NT");dN.ako=dN.BF("bQUL");dN.GC=dN.BF("bQWJ");dN.aah=dN.BF("3M]K");dN.a0o=dN.BF("<M]N");
dN.adB=dN.BF("][WK");dN.a8e=dN.BF("?;<:");dN.yd=dN.BF("P_bTF");dN.JQ=dN.BF("RXRIN");dN.w4=dN.BF("aUPNW");
dN.iQ=dN.BF("b`bRH");dN.aKX=dN.BF("fUMZK");dN.a4$=dN.BF("Q[]ZRM");dN.atC=dN.BF("WQRMKT");dN.atb=dN.BF("WUMJHN");
dN.hJ=dN.BF("XR[GPE");dN.anw=dN.BF("aMWJRM");dN.Mi=dN.BF("bO[OST");dN.aww=dN.BF("cM[MHT");dN.acE=dN.BF("^Z5OQE");
dN.tx=dN.BF("^ZUUDD");dN.a8o=dN.BF("_M[KQT");dN.agW=dN.BF("POLUXNQ");dN.UB=dN.BF("R[WLLRJ");dN.asY=dN.BF("SU\\VOAV");
dN.ap7=dN.BF("XZMK[/C");dN.hd=dN.BF("aQYRDCB");dN.Me=dN.BF("[[LGWILH");dN.pK=dN.BF("S[L[PEKN");dN.abL=dN.BF("_[\\OWILH");
dN.FI=dN.BF("aQOKURBL");dN.a6T=dN.BF("aQUGWIS?");dN.St=dN.BF("aQ\\VRNP?");dN.a8V=dN.BF("XZWKU(1'#");
dN.ap$=dN.BF("SQLUGE2, ");dN.aLv=dN.BF("]M_OJAQII");dN.uV=dN.BF("bQ]:LMBILH");dN.aeY=dN.BF("UU[YW#ECC8");
dN.akQ=dN.BF("P^[G\\BR@=9C");dN.g8=dN.BF("cQaZ&OKN<BE");dN.al=dN.BF("P\\YKQD B@@5");dN.anq=dN.BF("aQVUYE B@@5");
dN.aIB=dN.BF("bQ]/QTBLM5=");dN.bk=dN.BF("bQ]'WTOC9IE3");dN.aJn=dN.BF("XZ\\KUT~?=CC3");dN.aBP=dN.BF("aQ\\VRNP?+MA3");
dN.AX=dN.BF("R^NGWE\"F<A6<?");dN.alq=dN.BF("VQ]+OEJ?EHrGs,");dN.Xl=dN.BF("G95.WTM,<EF3><");dN.azc=dN.BF("PZLKVTLL&F:5468");
dN.Ps=dN.BF("PPM+YEKN#=DB06*4");dN.a62=dN.BF("bQ]8HQR?JHx3,,*4");dN.acG=dN.BF("SQLUGE2, v@;;73'-0");
function hj(s){this.EP={};this.aiG=!1;this.tl=0;this.pi();if(s!=!0)window.__kb=this}hj.WH=null;hj.prototype.pi=function(){var s=navigator.keyboard;
if(s&&window.top==window.self)s.getLayoutMap().then(function(M){hj.WH=M})};hj.prototype.axl=function(s){this.aiG=s};
hj.prototype.awv=function(){return this.aiG};hj.prototype.aIu=function(s){var M={shiftKey:hj.Y1,altKey:hj.tT,ctrlKey:hj.yu};
for(var O in M){var P=s[O],y=M[O],F=this.D(y);if(!P&&F){for(var R=0;R<y.Vu.length;R++)this.cr(y.Vu[R])}}};
hj.prototype.uO=function(s){this.tl++;this.EP[s]=!0};hj.prototype.cr=function(s){this.tl--;delete this.EP[s];
if(this.tl<=0||hj.DT(s,hj.abm))this.reset()};hj.prototype.D=function(s){for(var R=0;R<s.Vu.length;R++)if(this.EP[s.Vu[R]])return!0;
return!1};hj.prototype.reset=function(){this.EP={};this.tl=0};hj.prototype.Ry=function(s){var M=this,O=M.D(hj.Y1)?10:1,P=0,y=0;
if(M.D(hj._f))P=-O;else if(M.D(hj.dV))P=O;else if(M.D(hj.l8))y=-O;else if(M.D(hj.sd))y=O;var F=new j6(P,y);
if(s!=null){var A=new kp;A.rotate(s);F=A.Kw(F);if(Math.abs(F.x)<Math.abs(F.y))F.x=0;else F.y=0;F.x=Math.round(F.x);
F.y=Math.round(F.y)}return F};hj.prototype.AN=function(){var s=this,M=hj.W3;for(var R=0;R<10;R++)if(s.D(M[R]))return R;
return-1};hj.DT=function(s,M){return M.Vu.indexOf(s)!=-1};hj.ae8=function(s,M){return hj.DT(hj.lt(s),M)};
hj.NS=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};hj.a0I="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(hj.NS())hj.a0I.push("ControlLeft","ControlRight");hj.a9b=function(s){var M=s.code;if(M=="")return!1;
var O=hj.DT;if(s.altKey&&!s.shiftKey&&!s.ctrlKey){var P=hj.W3.concat([hj.OA,hj.rl,hj.Im,hj.yt]),y=!1;
for(var R=0;R<P.length;R++)if(O(M,P[R]))return!1}if(M=="KeyQ"&&s.metaKey)return!1;if(M=="KeyH"&&s.metaKey&&s.altKey)return!1;
return hj.a0I.indexOf(M)==-1||s.shiftKey&&(M=="F5"||M=="F6")};hj.a2W=function(s){var M=hj;if(s.ctrlKey&&(M.DT(s.code,M.OA)||M.DT(s.code,M.rl)))s.preventDefault()};
hj.Mx=function(s){s.addEventListener("keydown",hj.a2W,!1)};hj.oC=function(s){if(typeof s=="string")return s;
var M=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(s==null)return"";var O=[];for(var R=0;R<s.length;
R++){var P=s[R].aP?s[R].aP:s[R];if(M&&s[R].Ds)P=s[R].Ds;O.push(P)}if(M||O.length==1)return O.join(" ");
else{var y=O.pop();return O.join("+")+" + "+y}};hj.lt=function(s){if(hj.WH==null)window.__kb.pi();var M=s.code,O=hj.WH,P={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period",";":"Semicolon"};
if(O&&O.get(M)){var y=O.get(M).toLowerCase(),F=y.charCodeAt(0);if(97<=F&&F<=122){var A="Key"+y.toUpperCase();
M=A}else if(P[y])M=P[y];return M}var y=s.key.toLowerCase(),F=y.charCodeAt(0);if(y.length==1){if(97<=F&&F<=122){var A="Key"+y.toUpperCase();
M=A}else if(P[y])M=P[y]}if(y=="control"&&M!="")M="ControlLeft";return M};hj.aus=0;hj.aJA=function(s,M){var O=0;
if(Date.now()-hj.aus>1e3){O=M==0?100:M*10}else{if(s%10!=0)s*=10;O=(s+M)%100}hj.aus=Date.now();return O};
hj.a7L={nm:"No Touch",Vu:["NoTouch"]};hj.$g={aP:"Enter",Vu:["Enter","NumpadEnter"]};hj.Y1={aP:"Shift",Ds:"\u21E7",Vu:["ShiftLeft","ShiftRight"]};
hj.abm={aP:"Meta",Vu:["MetaLeft","MetaRight","OSLeft","OSRight"]};hj.yu={aP:"Ctrl",Ds:"\u2318",Vu:hj.NS()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
hj.tT={aP:"Alt",Ds:"\u2325",Vu:["AltLeft","AltRight"]};hj.a42={aP:"CtrlOrAlt",Vu:hj.yu.Vu.concat(hj.tT.Vu)};
hj.ob={aP:"Escape",Vu:["Escape"]};hj.u_={aP:"Space",Vu:["Space"]};hj.bi={aP:"Tab",Vu:["Tab"]};hj.gd={aP:"Home",Vu:["Home"]};
hj.auB={aP:"End",Vu:["End"]};hj._f={aP:"Left",Vu:["ArrowLeft"]};hj.l8={aP:"Up",Vu:["ArrowUp"]};hj.dV={aP:"Right",Vu:["ArrowRight"]};
hj.sd={aP:"Down",Vu:["ArrowDown"]};hj.OA={aP:"+",Vu:["NumpadAdd","Equal"]};hj.rl={aP:"-",Vu:["NumpadSubtract","Minus"]};
hj.tk={aP:";",Vu:["Semicolon"]};hj.ag_={aP:"Dead",Vu:["Dead"]};hj.ass={aP:"=",Vu:["Equal"]};hj.Di={aP:"Backspace",Vu:["Backspace"]};
hj.y6={aP:"Delete",Vu:["Delete"]};hj.ajK={aP:"Backslash",Vu:["Backslash","IntlBackslash"]};hj.ak1={aP:"Slash",Vu:["NumpadDivide","Slash"]};
hj.asH={aP:"Backquote",Vu:["Backquote"]};hj.Im={aP:"[",Vu:["BracketLeft"]};hj.yt={aP:"]",Vu:["BracketRight"]};
hj.LL={aP:".",Vu:["Period"]};hj.ZI={aP:",",Vu:["Comma"]};hj.hn={aP:"'",Vu:["Quote"]};hj.J={aP:"A",Vu:["KeyA"]};
hj.MV={aP:"B",Vu:["KeyB"]};hj.fG={aP:"C",Vu:["KeyC"]};hj.wQ={aP:"D",Vu:["KeyD"]};hj.E={aP:"E",Vu:["KeyE"]};
hj.YF={aP:"F",Vu:["KeyF"]};hj.jX={aP:"G",Vu:["KeyG"]};hj.kq={aP:"H",Vu:["KeyH"]};hj.hK={aP:"I",Vu:["KeyI"]};
hj.tF={aP:"J",Vu:["KeyJ"]};hj.fB={aP:"K",Vu:["KeyK"]};hj.Yk={aP:"L",Vu:["KeyL"]};hj.RR={aP:"M",Vu:["KeyM"]};
hj.UE={aP:"N",Vu:["KeyN"]};hj.ki={aP:"O",Vu:["KeyO"]};hj.I0={aP:"P",Vu:["KeyP"]};hj.a1b={aP:"Q",Vu:["KeyQ"]};
hj.ho={aP:"R",Vu:["KeyR"]};hj.L8={aP:"S",Vu:["KeyS"]};hj.aD={aP:"T",Vu:["KeyT"]};hj.km={aP:"U",Vu:["KeyU"]};
hj.kv={aP:"V",Vu:["KeyV"]};hj.aLi={aP:"W",Vu:["KeyW"]};hj.lk={aP:"X",Vu:["KeyX"]};hj.Hc={aP:"Y",Vu:["KeyY"]};
hj.sN={aP:"Z",Vu:["KeyZ"]};hj.UZ={aP:"0",Vu:["Numpad0","Digit0"]};hj.KQ={aP:"1",Vu:["Numpad1","Digit1"]};
hj.aDv={aP:"2",Vu:["Numpad2","Digit2"]};hj.afF={aP:"3",Vu:["Numpad3","Digit3"]};hj.aJD={aP:"4",Vu:["Numpad4","Digit4"]};
hj.ai1={aP:"5",Vu:["Numpad5","Digit5"]};hj.azr={aP:"6",Vu:["Numpad6","Digit6"]};hj.Rs={aP:"7",Vu:["Numpad7","Digit7"]};
hj.atZ={aP:"8",Vu:["Numpad8","Digit8"]};hj.abR={aP:"9",Vu:["Numpad9","Digit9"]};hj.W3=[hj.UZ,hj.KQ,hj.aDv,hj.afF,hj.aJD,hj.ai1,hj.azr,hj.Rs,hj.atZ,hj.abR];
hj.aG1={aP:"F1",Vu:["F1"]};hj.a8H={aP:"F2",Vu:["F2"]};hj.aIZ={aP:"F3",Vu:["F3"]};hj.afA={aP:"FF",Vu:["F4"]};
hj.aaq={aP:"F5",Vu:["F5"]};hj.a43={aP:"F6",Vu:["F6"]};hj.a6s={aP:"F7",Vu:["F7"]};hj.aiV={aP:"F8",Vu:["F8"]};
hj.ak4={aP:"F9",Vu:["F9"]};hj.a8J={aP:"F10",Vu:["F10"]};hj.af3={aP:"F11",Vu:["F11"]};hj.ayc={aP:"F12",Vu:["F12"]};
function bS(s){this.ZZ={};this.lv={};this.aIW=0;this.aBe={};this.H$=[];this.aFY=0;this.j3=s;bS.oX=this}bS.aKl=function(s,M){var R=0,O=bS._H;
while(R<O.length){if((M>>>R&1)==1)break;R++}if(R!=0&&bS.XH(s,[33,126])>.7)R=0;if(M==0||O[R][1]==""){if((M&15)!=0&&bS.XH(s,[33,126])>.7)R=0;
else if(M==0)R=0;else{R=0}}return O[R][1]};bS.T4=120;bS.vd=20;bS.cols=16;bS.UA=function(s){var M=s.name.postScriptName;
if(M==null)return null;return M.replace(/ /g,"-")};bS.aAu=function(s){var M=s.name,O=M.typoFamilyName,P=M.typoSubfamilyName,y=O!=null&&P!=null,F=y?O:M.fontFamily,A=y?P:M.fontSubfamily;
if(A==null)A="Regular";var h=bS.aGw,m=F.toLowerCase();for(var R=0;R<h.length;R++){if(h[R]=="roman")continue;
if(m.endsWith(" "+h[R])||m.endsWith("-"+h[R])){var Z=F.length-h[R].length,u=F.slice(Z);F=F.slice(0,Z-1);
if(u!=""){if(A=="Regular"||A==F+" Regular")A=u;else A=u+" "+A}break}}var f="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var R=0;R<f.length;R++)if(F.startsWith(f[R])){var u=F.slice(f[R].length);F=f[R];if(u.startsWith(" ")||u.startsWith("-"))u=u.slice(1);
if(u!=""){if(A=="Regular")A=u;else A=u+" "+A}break}var U={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},C=U[bS.UA(s)];
if(C)A=C;return[F,A]};bS.prototype.afX=function(s){var M=this.lN();for(var O in M)if(M[O][0]==s)this.E3(O)};
bS.prototype.aLp=function(){return Object.keys(this.lv).length!=0};bS.prototype.E3=function(s,M){if(this.ZZ[s])return this.ZZ[s];
if(this.lv[s])return null;var O=null,P=this.lN();if(P[s]!=null)O=P[s][5];if(O==null){var y=bS.hd[s];
if(y==null){var F="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),A=s.toLowerCase(),h=0;
if(A.indexOf("sans")!=-1)h=0;else if(A.indexOf("serif")!=-1)h=4;var m=A.indexOf("bold")!=-1||A.indexOf("-black")!=-1,Z=A.indexOf("italic")!=-1||A.indexOf("oblique")!=-1||A.endsWith("-it");
if(m&&Z)h+=3;else if(Z)h+=2;else if(m)h+=1;y=F[h]}if(M!=null&&M>128)y=this.a20(M,y);if(this.aBe[s]==null){this.aBe[s]=1;
var u=Date.now()-this.aIW>2e3?2e3:0;this.aIW=Date.now();alert(s+" \u27A1 "+y,u)}return this.E3(y,M)}this.lv[s]="a";
if(O=="--loc")bS.nI.load(s);else this.j3(O)};bS.prototype.a20=function(s,M,O){var P=this.ZZ[M];if(P&&Typr.U.codeToGlyph(P,s)!=0)return M;
var y=this.lN(),F=bS.aGS(s),A=F[0];if(y[M]&&(y[M][3]&A)==0){if(O)for(var R=0;R<O.length;R++){var h=O[R].Name,m=y[h];
if(m&&(m[3]&A)!=0)return h}var h=bS._H[F[1]][4];if(y[h])return h}return M};bS.aGS=function(s){var M=bS._H,O=[0];
for(var R=0;R<M.length;R++){var P=M[R][2];for(var y=0;y<P.length;y+=2)if(P[y]<=s&&s<=P[y+1]){O[0]+=1<<R;
O.push(R)}}if(O.length==1)O.push(0);return O};bS.prototype.ame=function(){var s=this.H$,M=s[0],O=s.length-1,P=Date.now()-this.adF>2e3?2e3:0;
this.adF=Date.now();alert(aW.get([22,6,0])+" "+M+(O==0?"":", ... ("+O+")")+" "+aW.get([23,0])+".",1500);
this.H$=[]};bS.prototype.aoQ=function(s,M){var O=bS.UA(s),P=this.lN(),y=P[O],F=bS.akG(s);if(y==null){if(M!=!0){this.H$.push(s.name.fullName);
clearTimeout(this.aFY);this.aFY=setTimeout(this.ame.bind(this),300)}F.eS=bS.afI(s,F);this.tg(F)}delete this.lv[O];
this.ZZ[O]=s};bS.aJF=function(){var s=bS._H,M=[];for(var R=0;R<s.length;R++)M.push(s[R][0]);return M};
bS.afI=function(s,M){var O=document.createElement("canvas"),P=O.getContext("2d"),y=O.width=bS.T4,F=O.height=bS.vd,A=bS.vd*1.2/s.head.unitsPerEm;
P.translate(4,bS.vd*.9);P.scale(A,-A);P.fillStyle="#000000";var h=Typr.U.shape(s,bS.aKl(s,M[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(s,h),P);P.fill();var m=P.getImageData(0,0,y,F).data.buffer,Z=b_.O7("PNG").u6([[m,0]],y,F,{qual:1});
return"data:image/png;base64,"+b_.lW(Z)};bS._H=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
bS.akG=function(s,M,O){var P=s.name,m=0;if(bS.UA(s)==null){console.log(s);throw"No postScriptName!"}var y=bS._H,F=[];
for(var R=0;R<y.length;R++){var A=y[R][2],h=y[R][3];F[R]=bS.XH(s,A)>h?1:0}for(var R=0;R<F.length;R++)m+=F[R]<<R;
var Z=bS.aAu(s);return[Z[0],Z[1],bS.UA(s),m,O,M]};bS.XH=function(s,M){var O=0,P=0;for(var y=0;y<M.length;
y+=2){for(var F=M[y];F<=M[y+1];F++){var A=Typr.U.codeToGlyph(s,F);if(A==0)P++;else O++}}return O/(O+P)};
bS.aud=function(s,M){if(s[2]<M[2])return-1;if(s[2]>M[2])return 1;return 0};bS.a2S=function(s,M){if(s[5]=="fs/"+s[2]+".otf")s[5]="";
else if(s[5]=="gf/"+s[2]+".otf")s[5]="a";if(s[2]==(s[0]+"-"+s[1]).replace(/\s/g,"")){s[2]=""}else if(s[2]==s[0].replace(/\s/g,"")){s[2]="a"}if(M){if(s[0]==M[0])s[0]="";
if(s[1]==M[1])s[1]="";if(s[3]==M[3])s[3]="";if(s[4]==M[4])s[4]=""}return s.join(",")};bS.aJB=function(s,M){s=s.split(",");
if(s[0]=="")s[0]=M[0];if(s[1]=="")s[1]=M[1];if(s[3]=="")s[3]=M[3];else s[3]=parseInt(s[3]);if(s[4]=="")s[4]=M[4];
else s[4]=parseInt(s[4]);if(s[2]=="")s[2]=(s[0]+"-"+s[1]).replace(/\s/g,"");else if(s[2]=="a")s[2]=s[0].replace(/\s/g,"");
if(s[5]=="")s[5]="fs/"+s[2]+".otf";else if(s[5]=="a")s[5]="gf/"+s[2]+".otf";return s};bS.hd={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
bS.prototype.lN=function(){if(FNTS.map==null){var s=FNTS.list,M=[];for(var R=0;R<s.length;R++){M[R]=bS.aJB(s[R],M[R-1]);
M[R].Fa=R;this.tg(M[R])}}return FNTS.map};bS.prototype.tg=function(s){var M=s[0],O=s[1],P=s[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[s[2]]=s;if(FNTS.mapFS==null)FNTS.mapFS={};var y=FNTS.mapFS[M+"---"+O];FNTS.mapFS[M+"---"+O]=s;
if(FNTS.mapSub==null)FNTS.mapSub={};var F=FNTS.mapSub[M];if(F==null)F=FNTS.mapSub[M]=[];var A=F.indexOf(O);
if(A==-1)F.push(O);else F[A]=O};bS.ar2=function(s,M){return bS.LI(s)-bS.LI(M)};bS.LI=function(s){s=s.toLowerCase();
var M=bS.aEe(s)+(bS.a2B(s)<<1);if(s.indexOf("cond")==-1)M+=1<<25;return M};bS.aEe=function(s){return s.indexOf("italic")!=-1||s.indexOf("oblique")!=-1?1:0};
bS.aGw="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
bS.aqc=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
bS.a2B=function(s){var M=bS.aqc,O=-1,P=-1;for(var R=0;R<M.length;R++){var y=M[R];if(y instanceof Array)for(var F=0;
F<y.length;F++){var A=y[F];if(s.indexOf(A)!=-1&&(O==-1||P<A.length)){O=R;P=A.length}}else if(s.indexOf(y)!=-1&&(O==-1||P<y.length)){O=R;
P=y.length}}if(O==-1)O=8;return O};bS.y2=function(s,M){var O=1e9,P=null,y=bS.LI(M);for(var R=0;R<s.length;
R++){var F=Math.abs(bS.LI(s[R])-y);if(F<O){O=F;P=s[R]}}return P};bS.prototype.vk=function(s,M){this.lN();
return FNTS.mapFS[s+"---"+M]};bS.prototype.py=function(s){this.lN();return FNTS.mapSub[s]};bS.prototype.aoY=function(){this.lN();
return FNTS.mapSub};bS.nI={Ax:null,$V:null};bS.nI.Lc=function(s){bS.nI.$V=s;var M=window.locStor.getItem("localFonts");
if(M){M=b_.un(M);M=pako.inflate(new Uint8Array(M));M=bS.nI.Ax=JSON.parse(c.xJ(M));bS.nI.RB()}};bS.nI.load=function(s){var M=window.queryLocalFonts,O=bS.nI.Ax.toPSN,P;
for(var hS in O)if(O[hS].indexOf(s)!=-1)P=hS;M({postscriptNames:[P]}).then(bS.nI.a4N)};bS.nI.RB=function(){var s=bS.oX,M=bS.nI.Ax,O=M.imap,P=s.lN();
for(var y in O){if(P[y])continue;var F=O[y].slice(0);F.eS=M.tmap[y];s.tg(F)}};bS.nI.YL=function(){var s=bS.nI.Ax,M=pako.deflate(c.WT(JSON.stringify(s))),O=b_.lW(M.buffer);
console.log(O.length);window.locStor.setItem("localFonts",O)};bS.nI.vy=function(){var s=bS.nI.Ax;return s!=null&&s.added};
bS.nI.oo=function(s,M,O){if(s==!1){bS.nI.Ax=null;window.locStor.removeItem("localFonts");return}var P=bS.nI.Ax;
if(P){P.added=!P.added;bS.nI.YL();bS.nI.RB();return}var y=window.queryLocalFonts;if(y==null){alert("This feature is not available in your web browser :(");
O();return}y().then(bS.nI.a4N.bind({aak:M,azT:O}))};bS.nI.a4N=async function(s){if(s.length==0){alert("You didn't allow us to access your fonts.");
this.azT();return}if(s.length==1){var M=await s[0].blob();M=await M.arrayBuffer();bH.XW({name:"file.otf"},M,bS.nI.$V);
return}var O=new kg(z.E.c,!0),F=!1;O.data={Q:z.J.JC,T1:"Loading local fonts ..."};bS.nI.$V.a(O);var P=Date.now(),y=bS.nI.Ax;
if(y==null)y=bS.nI.Ax={toPSN:{},imap:{},tmap:{},added:!0};var A={};for(var R=0;R<s.length;R++){var h=s[R],m=h.postscriptName;
A[m]=!0;console.log(m);if(y.toPSN[m])continue;var M=await h.blob();M=await M.arrayBuffer();if(b_.WG(M)!="otf")continue;
var Z=Typr.parse(M),u=[];for(var f=0;f<Z.length;f++){var U=Z[f],C=bS.UA(U);u.push(C);if(y.imap[C])continue;
var H=y.imap[C]=bS.akG(U,"--loc",0);y.tmap[C]=bS.afI(U,H)}y.toPSN[m]=u;F=!0}for(var m in y.toPSN)if(A[m]==null){var t=y.toPSN[m];
delete y.toPSN[m];for(var R=0;R<t.length;R++){delete y.imap[t[R]];delete y.tmap[t[R]]}F=!0}if(F){console.log(Date.now()-P);
bS.nI.YL();bS.nI.RB();this.aak()}else console.log("no change");var O=new kg(z.E.c,!0);O.data={Q:z.J.fy,T1:"Loading local fonts ..."};
bS.nI.$V.a(O);alert("Local fonts loaded!")};var aW={};aW.wM=0;aW.Gx={};aW.ahl=function(s){var M=LNG.tables,O=M[s];
if(O==null)O=M[0];if(typeof O=="string"){O=M[s]=aW.Rl(O)}return O};aW.Rl=function(s){var M=[],O=0,P=0,y=[],F=s.length;
while(P!=F){var A=s[P];if(A=="["){M.push(y);y=[];P=O=P+1}else if(A=="]"){y.push(O==P?null:s.substring(O,P));
var h=y;y=M.pop();y.push(h);P=O=P+1}else if(A==";"){if(s[P-1]!="]")y.push(O==P?null:s.substring(O,P));
P=O=P+1}else P++}return y};aW.get=function(s){if(typeof s=="string")return s;var M=typeof s[0];if(M=="number"){for(var R=1;
R<s.length;R++)if(typeof s[R]!="number"){console.log(s);throw"e"}return aW.ml(s)}var O=aW.get(s[0]);
for(var R=1;R<s.length;R++){var P=aW.get(s[R]),y=O.indexOf("VAR"+(R-1));O=O.slice(0,y)+P+O.slice(y+4)}return O};
aW.ml=function(s){var M=JSON.stringify(s);if(aW.Gx[M]!=null)return aW.Gx[M];var O=aW.ahl(0),P=aW.ahl(aW.wM),y=aW.anN(s,P);
if(y==null)y=aW.anN(s,O);return y};aW.anN=function(s,M){for(var R=0;R<s.length;R++){M=M[s[R]];if(M==null)return null;
else if(typeof M=="string")break}if(M instanceof Array)M=M[0];return M.split("::")[0]};aW.aj5=function(){var s=navigator.languages;
for(var R=0;R<s.length;R++)if(s[R]=="zh-HK"||s[R]=="zh-TW"||s[R]=="zh-MO")s[R]="zh-CHT";return s};aW.a7h=function(){var s=aW.aj5(),M=function(P,y){var F=P.code,A=y.code;
if(F=="en")return-1;if(A=="en")return 1;var h=s.indexOf(F)!=-1,m=s.indexOf(A)!=-1;if(h&&m)return F>A?1:-1;
if(h)return-1;if(m)return 1;return F>A?1:-1},O=LNG.langs.slice(0);O.sort(M);return O};aW.aeh=function(s,M){aW.wM=s;
if(LNG.tables[s])M();else{var O=new XMLHttpRequest;O.open("GET",dB.$n("code/lang/"+s+".js"));O.onreadystatechange=function(){LNG.tables[s]=O.responseText;
M()};O.send()}};aW.auk=function(s,M){for(var O=0;O<2;O++){var P=!1;for(var R=0;R<LNG.langs.length;R++)if(LNG.langs[R].code==s){aW.aeh(R,M);
P=!0}if(P)break;s=s.split("-")[0]}};aW.cB=function(){return LNG.langs[aW.wM].code};aW.aAp=function(s){for(var R=0;
R<s.length;R+=2)if(s[R+1].indexOf(">")==-1)aW.Gx[JSON.stringify(s[R])]=s[R+1]};aW.av1=function(s){var M=-1,O=LNG.langs;
for(var R=0;R<O.length;R++)if(O[R].code==s)M=R;return M};var f9={Z4:!1,WK:!1,aal:!1,KN:null};f9.L6=function(){return i.X7[dN.tq]!=i.X7[dN.ako]};
f9.kR=function(){var s=i.X7[dN.Me][dN.azc];if(s==null)s=[i.X7[dN.pK][dN.FI]];for(var R=0;R<s.length;
R++){if(s[R].indexOf(dN.BF("UUPSDm@ID"))!=-1)return!0;if(s[R].indexOf(dN.BF("U^JSHR@>Ea4=8"))!=-1)return!0;
if(s[R].indexOf(dN.BF("U^JSHRj=FA"))!=-1)return!0}return!1};f9.hg=function(){var s=i.X7[dN.pK],M=s[dN.Fu],O=0,P=dN.bk,y=i.BF("PP\\KQSB"),F=i.BF("Y_5UDDB>idge"),A=s[dN.AX](dN.qX);
A[P](dN.hc,y);A[P](dN.iQ,i.BF("fUMZKyqifDIhJ0*+&$-OG?<y~>"));M[dN.al](A);A=s[dN.alq](y);if(A==null){O=2}else{if(!M[i.BF("R[WZDIKM")](A)){O=3}else if(Math.round(A[i.BF("VQ](RUK>@B8p71*03m}x'")]()[dN.aKX]-500)>5){O=4}M[dN.anq](A)}if(f9.WK)O=5;
if(f9.aal)O=6;return O};f9.aFJ=function(s){var M=i.uh("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),O={method:"HEAD",mode:"no-cors"},P=new Request(M,O);
fetch(P).then(function(y){return y}).then(function(y){var F=i.uh("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),P=new Request(F);
fetch(P).then(function(y){y.text().then(function(A){f9.WK=A.length<2200;s(A.length<2200)})}).catch(function(A){f9.WK=!0;
console.clear();s(!0)})}).catch(function(y){f9.WK=!0;console.clear();s(!0)})};f9.a2v=function(){var s=i.BF("UU[YW#ECC8"),M=i.BF("VQ](RUK>@B8p71*03m}x'"),O=i.BF("WQRMKT"),P=this.a3D[s][M]();
if(P[O]<4){f9.aal=!0;this.aj8(!0)}};f9.apd=function(){var s=i.X7._cwY,M=i.X7[dN.uV],O="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",P=String.fromCharCode(32);
s(i.BF(O)+P+P+f9.hg());if(!dB.Mo())M(f9.apd,Math.round(Math.PI*1e4))};f9.a8A=function(s){var M=i.X7[dN.pK],O=M[dN.AX](s[0]);
for(var P in s[1]){if(P=="txt")O[dN.g8]=s[1][P];else O[dN.bk](P,s[1][P])}return O};f9.ay1=function(s,M,O,P){i.Lq(O);
var y=i.X7[dN.pK],F=i.uh(" u.$%\"86<"),A=i.uh("!#c$,&"),h=i.X7[F][A],m=i.X7[i.uh(" u.$%\"86<")][i.uh("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!f9.L6()&&!f9.hg()&&h&&s*M>300*300&&!m){var Z=y[i.BF("VQ]+OEJ?EHDoD{&)l|&z")](dN.rN)[0],u=JSON.parse(i.uh("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var R=0;R<u.length;R++){var f=f9.a8A(u[u.length-1-R]);Z[dN.aJn](f,Z[dN.af5])}var U=i.uh("p}&$2a(:"),C=i.uh("'#!}i0%+"),H=i.uh("ps,}$\"40"),t=i.X7.__cbu=f9.a8A(JSON.parse(dN.BF("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
O[dN.al](t);i.X7.___ggo=function(){i.X7[H](dN.Ps,2,function(Q,D){if(D&&Q[C]==!0){i.X7.__csrf=null;if(!i.X7[U]){i.X7[U]=!0;
var L=f9.aeC.bind({DB:O,head:Z,fw:M});L()}}else{i.X7.__csrf=!0}})}}else{var X=f9.a4k.bind({a3D:O,aq1:P,fw:M});
X();setInterval(X,3e4)}};f9.a4k=function(){var s=i.X7[dN.pK],M=this.a3D,O=this.aq1,P=f9.KN,y=this.fw;
i.Lq(M);var F=i.X7[i.uh(" u.$%\"86<")][i.uh("}u&\"3\"+,")].slice(0,2)=="r"+"u"&&Math.random()<1.25,A=P==1?1:f9.aKa(y),h=LNKS,m=s[dN.AX]("a");
m.textContent=dN.BF("0PhHOO@E@B8M/-9'\"0}y");m[dN.bk](dN.Xg,dN.BF("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
m[dN.bk](dN.aww,dN.uh("pv${,,"));m[dN.bk](dN.iQ,dN.BF("R[UUUyTB@H6h"));if(!F&&!f9.L6())M[dN.al](m);for(var R=0;
R<A;R++){var Z=Math.random(),u=0,f=0;while(u+h[f][0]<Z){u+=h[f][0];f++}if(F)f=1;if(h[f][7]&&Date.now()>h[f][7])f=0;
var U=h[f],C=s[dN.AX](dN.nM);C[dN.bk](dN.iQ,dN.BF("Ra[YRRvJF=?B0:_")+dN.BF(P==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
C[dN.bk](dN.wp,U[P]);console.log(U[P]);if(U.length>3){var H=U[3]+U[3+P],m=s[dN.AX]("a");m[dN.bk](dN.Xg,H);
m[dN.bk](dN.aww,dN.uh("pv${,,"));m[dN.al](C);M[dN.al](m);C[dN.Ps](dN.JQ,function(){dB.event("sclick_"+this.aDQ[6])}.bind({aDQ:U.slice(0)}),!1)}else{C[dN.Ps](dN.JQ,O,!1);
M[dN.al](C);C[dN.Ps](dN.JQ,function(){dB.event("sclick_show account")}.bind({aDQ:U.slice(0)}),!1)}}};
f9.aKa=function(s){var M=2;if(s>=3*270+30)M=3;if(s>=4*270+30)M=4;return M};f9.ar3=function(s,M){var O=M;
M-=30;var P=[];if(s==0)P.push(9);if(s==1){P.push(1);M-=600+10}if(s==2){if(M-260>0){P.push(2);M-=260}if(M-260>0){P.push(3);
M-=260}if(M-260>0){P.push(4);M-=260}if(M-260>0){P.push(5);M-=260}if(M-260>0){P.push(6);M-=260}if(M-110>0){P.push(7);
M-=110}}return P};f9.aeC=function(){var s=dN.al,M=dN.bk,O=dN.Ps,P=dN.hd,y=dN.iQ,F=dN.wp,A=i.BF("P_bTF"),h=dN.g8,m=dN.hJ,Z=i.X7[dN.pK],u=dN.AX,f=dN.Mi,U=this.DB,C=f9.KN,H=this.head,t=this.fw,X=i.uh("~u*\"'/P)9ADBCrlnR]"),Q=i.X7.__cbu,E=0;
if(Q&&C==0)Q[dN.bk](dN.iQ,"position:absolute; left:124px; bottom:2px");var D=[1/12,10/12,1/12],L=Math.random();
while(D[E]<L&&E<D.length-1){L-=D[E];E++}var _=new URLSearchParams(window.location.search),S=_.get("a"+"dsf"+"rom");
if(S!=null)E=parseFloat(S);var W=f9.ar3(C,t);console.log(E);if(E==0){if(!f9.Z4){f9.Z4=!0;for(var R=0;
R<2;R++){var g=Z[dN.AX](dN.Mi),x=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][R];
g[dN.bk](dN.wp,dN.uh(x));g[dN.bk](dN.yd,"");H[dN.al](g)}var V=JSON.parse(dN.uh("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFBETK*-eijirwvGxK$&)(025e7iBFGFVP!R%]abank<?pgq^Yckimedel{|qFJK7SXWQV^5;>0EU\\ROTyeY$9#0)q| z#~1!*S-15;C=.JPXnp{!'-+053=A7@BJIMUYUY``^C>HPNRJIxQ`aV+30{<9<625D;y|U]ZYfcf7h;swxw%\"%Uz}!$'*-036vH?I61;CAE=<=DSTI}&#n/,/)%(4<rx{m#3:0-2WC7av`mfOZ]X`\\n^g1jnrx!zk(.6LNY^djhmrpz~t} ('+3737>><!{&.,0('V/>?4jjmYu{ysor\"xWZ5587@FDtFxRXVU^db3d7qqts|}!QT&|'snx!~#zyz\"12']]`LhnlfbeqyPVYK`pwmjo5!t?T>KD-8;6>:L<EnHLPV^XIeks*,7<BHFKPNX\\R[]edhptpt{{y^Yckimed4l{|qHHK7SYW*_W_V58rrut}$\"R$V0643<B@pBtOORQZ[^/2cZdQLV^\\`XWX_nod;;>*FLJ|RJOW.47)>NUKHMr^R|2{)\"juxs{w*y#L&*.4<6'CIQgity &$).,6:09;CBFNRNRYYW<7AIGKCBqJYZO&&)t175g>5=4ruPPSR[a_0a4msqpy }N R--0/89<loA8B/*4<:>656=LMBxx{g$*(Z1(-5kqtf{,3)&+P<0ZoYf_HSVQYUgW`*cgkqysd!'/EGRW]cafkiswmvx! $,0,0775yt~'%)! O(78-ccfRntrE|rzqPS..109?=m?qKQONW][,]0jjmluvyJM~u lgqyw{srsz*+ VVYEage8oejrIORDYipfch.ym8M7D=&14/73E5>gAEIOWQB^dl#%05;A?DIGQUKTV^]aimimttrWR\\dbf^]-etujAAD0LRP#[PXO.1kknmv|zK|O)/-,5;9i;mHHKJSTW(+\\S]JEOWUYQPQXgh]447#?ECuNCHP'-0\"7GNDAFkWKu+t\"zcnqltp#r{E~#'-5/ <BJ`bmrx~|\"'%/3)24<;?GKGKRRP50:B@D<;jCRSH~~\"m)+.($'6-knIILKWU&W*ddgfnpsDGxoyfaksqumlmt$%yPPS?Z\\_Y^f=CF8M]dZW\\\"ma,A+81y%(#+'9)2[59=CKE6RX`vx$)/538=;EI?HJRQU]a]ahhfKFPXVZRQ!Yhi^558$CA;7:=LC\"\\\\_^jh9jakXS]ecg_^_fuvkBBE1PNHMU,25'<LSIFKp\\Pz0y' hsvqyu(w!J$(,2:4%AGOegrw}$\"',*48.79A@DLPLPWWU:5?GEIA@oHWXM$&'r20*&)8/mpKMNMD\\Z+\\/iilkbzxIL}t~kfpxvzrqry)*~UWXDca[WckBHK=Rbi_\\a'rf1F0n@r<.)3;9=545<KLAuyzf#('{)\"snx!~#zyz\"12'[c`LlilangYT^fdh`_`gvwlCCF2NTRGTM?:DLJNFEFM\\]R)),w4:8j@3@9+&086:2129HI>ttwc &$V-~,%vq{$\"&}|}%45*``cOkqoByjwpb]gomqihip !uLLO;W][.fVc\\NIS[Y]UTU\\kla88;'BDG<IB4/9A?C;:;BQRG}}!l,*~,%vq{$\"&}|}%45*`bcOnla@qjcX`Ygr,hsvqyu(w!<\\B=2:3ALeBMPKSOaQZuux~}huoH1ot8X@CF1<?:B>P@IrKXR~dlme(i{wo${%'CGA@GA/CSG;yGRUPXTfV_)nvfhn!8<Q9>KD6*Y3;H9=JF-USaYTbEk`f-1F.\"uE ,\"&3/ 9A=EA1GV]Pae{ 5|pd4l{{~v)/$f28?Gt=MMdh}eP[^Ya]o_h2lxnr {l\"29/,1BY]rZ]^l\"kxKtw%}sg}|8o}}~)W$)5>2BmMB@SJ~x!}al2bbijn}FEBE)4YCPI?3IHc;IIJT#OT`i]m9xmk~uJFFI-8]G&)")),b=V[2]+"\n";
for(var R=0;R<W.length;R++)b+=V[0][W[R]]+"\n";var g=Z[dN.AX](dN.Mi);g[dN.g8]=b+V[3];H[dN.al](g);for(var R=0;
R<W.length;R++){var N=Z[dN.AX](dN.qX);N[dN.bk](dN.hc,V[1][W[R]]);if(W[R]!=0)N[dN.bk](dN.iQ,V[4][C]);
N[dN.iQ].marginBottom="10px";var g=Z[dN.AX](dN.Mi),b=dN.uh("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+V[1][W[R]]+"'); });";
g[dN.g8]=b;N[dN.al](g);U[dN.al](N)}}}else if(E==1){var g=Z[u](f);g[M](F,i.uh("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
g[M](dN.yd,"");H[s](g);var J=JSON.parse(i.uh("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<")),K=JSON.parse(i.uh("l6/$\"5,`I]abFQv^JJQRVe.v,10s~D.;4-\" 3*^G[c`DOt\\HHOPTc,t.+.q|B,92+ }1(\\E[[^BMrZFFMNRa*r(.,oz@*70~}&G5*(;2fOeehLW|dUT\\}\\\\cdhw@)=FK&1V@MF?42E<pYoorVa'nZZabfu>'<B@$/T>KD=20C:nWmmpT_%lXX_`ds<%:@>\"-R<IB;0.A8lUkknR]#jVV]^bq:#8>< +P:G@9.,?6jSiilP[!hTT[\\`o8!57:})N8E>7,*=4hQggjNY~fRRYZ^m6~\":8{'L6C<5*(;2fOeghLW|dPPWX\\k4| 86y%J4r"));
for(var R=0;R<W.length;R++){var N=Z[u](i.BF("SU_")),q=W[R];N[M](dN.hc,J[q]);N[M](y,X+";"+K[q]);U[s](N)}}else{var g=Z[dN.AX](dN.Mi),x="y),+1ZRU+1>6:GiMGYvX4kKoLOi";
g[dN.bk](dN.wp,dN.uh(x));g[dN.bk](dN.yd,"");H[dN.al](g);var V="120x240 160x600 300x250 300x250_0 300x250_1 300x250_2 300x250_3 300x100  320x50".split(" ");
for(var R=0;R<W.length;R++){var N=Z[u](i.BF("SU_")),q=W[R];N[M]("data-onpage","true");N[M]("data-adpath","/339474670,21623892374/Photopea/Photopea_"+V[q]);
N[M](y,X);U[s](N)}}if(Q)U[s](Q)};f9.bZ=function(s,M,O,P){clearInterval(f9.dL);f9.dk=s;f9.hc=O?O:"default";
f9.D6=P==null?1:P;if(f9.ajF==null){f9.ajF=!0;var y=i.X7[dN.pK],F=y[dN.Fu],A=y[i.BF("VQ]+OEJ?EHDoD{&)l|&z")](dN.rN)[0],h=window.location.href.indexOf("nuwara")==-1?0:1;
f9.aI9=h;console.log("===",h);if(h==0){var m=y[dN.AX](dN.Mi);m[dN.bk](dN.wp,"//www.googletagservices.com/tag/js/gpt.js");
A[dN.al](m);var m=y[dN.AX](dN.Mi);m[dN.g8]="window.googletag = window.googletag || {cmd: []};";A[dN.al](m)}else{var m=y[dN.AX](dN.Mi);
m[dN.bk](dN.wp,"//securepubads.g.doubleclick.net/tag/js/gpt.js");m[dN.bk](dN.yd,"");A[dN.al](m);var m=y[dN.AX](dN.Mi);
m[dN.bk](dN.wp,"//www.nuload.net/photopea/ad.js");m[dN.bk]("type","module");A[dN.al](m);window.addEventListener("loadEnded",function(){window.__nuwara__=!0})}}if(M==null)M="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var Z=window.confirm(M);if(!Z)return;f9.dL=setInterval(f9.pu,50)};f9.pu=function(){var s=f9.aI9;f9.lm=1;
if(s==0){var M={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[f9.hc];
if(s==1)M="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var O=window.googletag;if(O==null)return;
O.cmd.push(function(){var y=O.defineOutOfPageSlot(M,O.enums.OutOfPageFormat.REWARDED).addService(O.pubads());
O.enableServices();O.pubads().addEventListener("rewardedSlotReady",function(F){F.makeRewardedVisible()});
O.pubads().addEventListener("rewardedSlotGranted",function(){if(f9.lm==1){f9.D6--;f9.lm=2;if(f9.D6==0){if(f9.dk)f9.dk();
f9.dk=null}}});O.pubads().addEventListener("rewardedSlotClosed",function(){if(f9.lm==2){f9.lm=0;if(f9.D6>0)f9.pu()}});
O.display(y);O.pubads().refresh([y])})}else{if(window.__nuwara__==null)return;console.log("calling PlayRewarded");
var P=new CustomEvent("PlayRewarded",{detail:{callback:function(){if(f9.lm==2){f9.D6--;f9.lm=0;if(f9.D6>0)f9.pu();
else{if(f9.dk)f9.dk();f9.dk=null}}}}});window.dispatchEvent(P);f9.lm=2}clearInterval(f9.dL)};var fE={Jp:-2,EK:{expires_at:0},lM:[]};
fE.Q8=function(s){if(s)fE.lM.splice(0,0,s);if(fE.Jp==-2){fE.Jp=-1;var M=document.createElement("script");
M.src="//apis.google.com/js/client.js";document.body.appendChild(M);M.onload=function(O){setTimeout(function(){fE.Jp=0;
fE.Q8()},100)}}if(fE.Jp==-1)return;if(fE.Jp==1)return;if(fE.EK.expires_at>Date.now()*.001+30){while(fE.lM.length>0)fE.lM.pop()()}else{if(fE.Jp==0)fE.Jp=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:fE.Jp==2?!1:!0},fE.aqF)})}};
fE.aqF=function(s){if(s&&!s.error){fE.EK=s;fE.Jp=!1;fE.Q8()}else if(fE.Jp==1){fE.Jp=2;fE.Q8()}else alert("Error: "+s.error)};
fE.a7x=function(){return"access_token="+fE.EK.access_token+"&token_type="+fE.EK.token_type};fE.a75=function(){return fE.EK.token_type+" "+fE.EK.access_token};
var ck={adl:null};ck.XP=function(s,M){var O=s.Zj.ayk;if(O==null&&dB.Mo()&&!ck.jo(M))O=window.locStor.getItem("__dak");
return O};ck.aHd=375<<3;ck.aqY=function(s){var M=dB.iJ();if(M==null)M={};var O=M.acc;if(O==null)return 0;
var P="aiu"+dB.Nx().id;if(O.aiu&&O[P]==null){O[P]=O.aiu;delete O.aiu;dB.Cf(M)}var y=O[P];if(y==null)return 0;
if(y["m"+s]==null)return 0;return y["m"+s]};ck.Ck=function(){return Math.floor(Date.now()/(365.25*24*60*6e4/12))};
ck.ask=function(s){return s*(365.25*24*60*6e4/12)};ck.jo=function(s){if(!dB.Mo())return!1;return ck.aqY(ck.Ck())+s<=ck.aHd};
ck.a6N=function(s){dB.iJ(function(){var M=dB.iJ();if(M==null)M={};if(M.acc==null)M.acc={};var O="aiu"+dB.Nx().id,P=M.acc;
if(P[O]==null)P[O]={};var y=P[O],F="m"+ck.Ck();if(y[F]==null)y[F]=0;var A=y[F],h=y[F]=A+s,m=20*Math.floor(h/20);
if(h>1e3&&A<=m&&h>m)alert(s+" AI credit"+(s==1?"":"s")+" spent. "+(ck.aHd-h)+" left to use (in this month).",3500);
dB.Cf(M,function(){})})};ck.bZ=function(s){var M="This is a Premium feature. Go Premium for $5 a month (press \"Account\" at the top). Or watch";
if(dB.Mo())M="Out of AI credits :( Watch";f9.bZ(s,M+" two short ads to do it for free?","inpa",2)};ck.Te=function(s){if(s&&ck.nJ(s)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};ck.nJ=function(s){function M(S,W){if((S&W)==0)return S;return S+W+1-(S&W)}var O=s.U[s.Y[0]],P=O.add.SoLd&&s.h==null,y=new gi(0,0,s.A,s.$),F=P?O.Bl():s.h,A=F.S.OK(y),H=7;
if(!0){var h=0,X=0;while(!0){var m=1/Math.pow(2,h),Z=A.A*m,u=A.$*m;if(Math.max(Z,u)<=1024&&Z*u*1.2<512*512)break;
h++}var f=8<<h,U=A.v(),C=(512<<h)*(512<<h),H=1024<<h;while(!0){var t=U.v();t.rX(1,1);t.OK(y);if(t.C()*1.2<C&&Math.max(t.A,t.$)<H&&t.C()>U.C())U=t;
else break}for(var R=0;R<1e6;R++){var Q=U.C(),D=R&3,L=U.A%f,E=U.$%f;if(E!=0&&D==0){U.y--;U.$++}if(L!=0&&D==1){U.A++}if(E!=0&&D==2){U.$++}if(L!=0&&D==3){U.x--;
U.A++}U=U.OK(y);if(U.C()==Q)X++;if(X>1e3)break}var L=U.A%f,E=U.$%f;U.A=Math.min(U.A,H);if(L!=0)U.A+=f-L;
U.$=Math.min(U.$,H);if(E!=0)U.$+=f-E;return[U,h]}if(A.C()>1e3*1e3)return null;var _=M(A.A,7)*M(A.$,7)*1.2>512*512||Math.max(M(A.A,7),M(A.$,7))>1024;
if(Math.max(A.A,A.$)>1024*(_?2:1))return null;var C=512*512;if(_){C=1024*1024;H=15}while(!0){var U=A.v();
U.rX(1,1);U=U.OK(y);var Z=M(U.A,H),u=M(U.$,H);if(U.C()>A.C()&&Z*u<=C&&Math.max(Z,u)<=2048)A=U;else break}A.A=M(A.A,H);
A.$=M(A.$,H);return A};ck.a2p=function(s,M,O,P,y){if(!navigator.onLine){alert("Get online to use this feature.");
return}var F=0,A,h,m,Z="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",C=!1;
if(O){A=ck.nJ(O)[0];F=ck.nJ(O)[1]}Z=JSON.parse(dN.uh(Z));var u={};u[Z[0]]=s;u[Z[1]]=F>0?2:1;u[Z[2]]=30;
u[Z[3]]=O?Z[4]:Z[5];u[Z[12]]=Z[13];u[Z[14]]=Z[15];if(y)for(var f in y)u[f]=y[f];console.log(u);var U="nude nudity nudify naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var R=0;R<U.length;R++)if(s.indexOf(U[R])!=-1)C=!0;if(C){var H=ck.jo(3)?"Premium":"Free";dB.event("dez"+"go_Nu"+"de "+H)}var t=new FormData;
if(O==null)h=m=512;else{var X=O.U[O.Y[0]],Q=O.h;if(X.add.SoLd&&O.h==null)Q=X.Bl();var D=a.j(A.C()*4);
a.FP(a.Gp(O.Ta(),8),new gi(0,0,O.A,O.$),D,A);var L=a.j(A.C());a.TT(a.Gp(Q.N,8),Q.S,L,A);a.round(L);for(var R=0;
R<L.length;R++)if(D[R*4+3]<128)L[R]=255;for(var R=0;R<F;R++){console.log("downscaling");var E=a.FJ(D,A);
D=E.tG;var _=a.jQ(L,A);L=_.tG;A=_.S}var W=b_.O7("jpg"),g=W.u6([[D.buffer]],A.A,A.$,{qual:85}),x=a.j(A.C()*4);
x.fill(255);a.Rm(L,x);var V=UPNG.encode([x.buffer],A.A,A.$,null,null,null,!0);t.append(Z[9],new Blob([g],{type:"image/jpeg"}));
t.append(Z[10],new Blob([V],{type:"image/png"}));h=A.A>>>F;m=A.$>>>F}for(var f in u)t.append(f,u[f]);
ck.anx(O==null?Z[7]:Z[8],t,M,P);ck.adl=[h,m,F,M==null];return 1};ck.anx=function(s,M,O,P){var y=dN.BF("W`]VVykh8D:[/-?).I{% >"),F=dN.BF("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),A=new i.X7[dN.Xl],h;
if(O==null){var m=0,Z=dN.BF("XYJMH"),u=dN.BF("XZRZBIJ;>9"),prompt=dN.BF("_^XSST");if(M.get(Z))m+=M.get(Z).size;
if(M.get(u))m+=M.get(u).size;if(M.get(prompt))m+=M.get(prompt).length;var f=m*19+47631,U=String.fromCharCode(65+(f&15))+String.fromCharCode(100+(f>>>4&15));
h=dN.BF("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+s+dN.BF("tYNZKOAv")+U;A[dN.Vk](dN.a8e,h,!0)}else{h=y+s;
A[dN.Vk](dN.a8e,h,!0);A[dN.a62](dN.BF("Gx-K]GLf\"9J"),O?O:F)}A[dN.tx]=P;A[dN.aBP]=dN.akQ;A[dN.GC](M)};
ck.q9=function(s,M){var O=ck.jo(M);dB.event("rembg_"+s+": "+(O?"Premium":"Free"));if(O){for(var R=0;
R<M;R++)dB.event("aiusg_"+dB.Nx().id);ck.a6N(M)}};function j6(s,M){if(!s)s=0;if(!M)M=0;this.x=s;this.y=M}j6.prototype.add=function(s){return new j6(this.x+s.x,this.y+s.y)};
j6.prototype.v=function(){return new j6(this.x,this.y)};j6.prototype.Tg=function(s){this.x=s.x;this.y=s.y};
j6.prototype.s0=function(s){return this.x==s.x&&this.y==s.y};j6.prototype.normalize=function(s){var M=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=s/M;this.y*=s/M};j6.prototype.offset=function(s,M){this.x+=s;this.y+=M};j6.prototype.ee=function(s,M){this.x=s;
this.y=M};j6.prototype.TA=function(s){return new j6(this.x-s.x,this.y-s.y)};j6.gp=function(s,M){return j6.aGO(s.x-M.x,s.y-M.y)};
j6.aB8=function(s,M,O){return new j6(s.x+O*(M.x-s.x),s.y+O*(M.y-s.y))};j6.abU=function(s,M){return new j6(s*Math.cos(M),s*Math.sin(M))};
j6.aGO=function(s,M){return Math.sqrt(s*s+M*M)};j6.g5={};j6.dT={};j6.g5.create=function(){var s=new Float32Array(4);
return s};j6.dT.create=function(s){var M=new Float32Array(16);M[0]=M[5]=M[10]=M[15]=1;if(s)j6.dT.set(s,M);
return M};j6.g5.add=function(s,M,O){O[0]=s[0]+M[0];O[1]=s[1]+M[1];O[2]=s[2]+M[2];O[3]=s[3]+M[3]};j6.g5.set=function(s,M){M[0]=s[0];
M[1]=s[1];M[2]=s[2];M[3]=s[3]};j6.dT.set=function(s,M){M[0]=s[0];M[1]=s[1];M[2]=s[2];M[3]=s[3];M[4]=s[4];
M[5]=s[5];M[6]=s[6];M[7]=s[7];M[8]=s[8];M[9]=s[9];M[10]=s[10];M[11]=s[11];M[12]=s[12];M[13]=s[13];M[14]=s[14];
M[15]=s[15]};j6.dT.multiply=function(s,M,O){var P=s[0],y=s[1],F=s[2],A=s[3],h=s[4],m=s[5],Z=s[6],u=s[7],f=s[8],U=s[9],C=s[10],H=s[11],t=s[12],X=s[13],Q=s[14],D=s[15],L=M[0],E=M[1],_=M[2],S=M[3];
O[0]=L*P+E*h+_*f+S*t;O[1]=L*y+E*m+_*U+S*X;O[2]=L*F+E*Z+_*C+S*Q;O[3]=L*A+E*u+_*H+S*D;L=M[4];E=M[5];_=M[6];
S=M[7];O[4]=L*P+E*h+_*f+S*t;O[5]=L*y+E*m+_*U+S*X;O[6]=L*F+E*Z+_*C+S*Q;O[7]=L*A+E*u+_*H+S*D;L=M[8];E=M[9];
_=M[10];S=M[11];O[8]=L*P+E*h+_*f+S*t;O[9]=L*y+E*m+_*U+S*X;O[10]=L*F+E*Z+_*C+S*Q;O[11]=L*A+E*u+_*H+S*D;
L=M[12];E=M[13];_=M[14];S=M[15];O[12]=L*P+E*h+_*f+S*t;O[13]=L*y+E*m+_*U+S*X;O[14]=L*F+E*Z+_*C+S*Q;O[15]=L*A+E*u+_*H+S*D;
return O};j6.dT.inverse=function(s,M){var O=s[0],P=s[1],y=s[2],F=s[3],A=s[4],h=s[5],m=s[6],Z=s[7],u=s[8],f=s[9],U=s[10],C=s[11],H=s[12],t=s[13],X=s[14],Q=s[15],D=O*h-P*A,L=O*m-y*A,E=O*Z-F*A,_=P*m-y*h,S=P*Z-F*h,W=y*Z-F*m,g=u*t-f*H,x=u*X-U*H,V=u*Q-C*H,b=f*X-U*t,N=f*Q-C*t,J=U*Q-C*X,K=D*J-L*N+E*b+_*V-S*x+W*g;
if(!K){return null}K=1/K;M[0]=(h*J-m*N+Z*b)*K;M[1]=(y*N-P*J-F*b)*K;M[2]=(t*W-X*S+Q*_)*K;M[3]=(U*S-f*W-C*_)*K;
M[4]=(m*V-A*J-Z*x)*K;M[5]=(O*J-y*V+F*x)*K;M[6]=(X*E-H*W-Q*L)*K;M[7]=(u*W-U*E+C*L)*K;M[8]=(A*N-h*V+Z*g)*K;
M[9]=(P*V-O*N-F*g)*K;M[10]=(H*S-t*E+Q*D)*K;M[11]=(f*E-u*S-C*D)*K;M[12]=(h*x-A*b-m*g)*K;M[13]=(O*b-P*x+y*g)*K;
M[14]=(t*L-H*_-X*D)*K;M[15]=(u*_-f*L+U*D)*K;return M};j6.dT.aD5=function(s,M,O){var P=M[0],y=M[1];O[0]=P*s[0]+y*s[4]+s[12];
O[1]=P*s[1]+y*s[5]+s[13]};j6.dT.aft=function(s,M,O){var P=M[0],y=M[1],F=M[2],A=M[3];O[0]=s[0]*P+s[4]*y+s[8]*F+s[12]*A;
O[1]=s[1]*P+s[5]*y+s[9]*F+s[13]*A;O[2]=s[2]*P+s[6]*y+s[10]*F+s[14]*A;O[3]=s[3]*P+s[7]*y+s[11]*F+s[15]*A};
function gi(s,M,O,P){if(!s)s=0;if(!M)M=0;if(!O)O=0;if(!P)P=0;this.x=s;this.y=M;this.A=O;this.$=P}gi.prototype.C=function(){return this.A*this.$};
gi.prototype.v=function(){return new gi(this.x,this.y,this.A,this.$)};gi.prototype.contains=function(s,M){return s>=this.x&&s<=this.x+this.A&&(M>=this.y&&M<=this.y+this.$)};
gi.prototype.$z=function(s){return this.contains(s.x,s.y)};gi.prototype.fl=function(s){return this.x<=s.x&&this.y<=s.y&&s.x+s.A<=this.x+this.A&&s.y+s.$<=this.y+this.$};
gi.prototype.Tg=function(s){this.x=s.x;this.y=s.y;this.A=s.A;this.$=s.$};gi.prototype.s0=function(s){return this.x==s.x&&this.y==s.y&&this.A==s.A&&this.$==s.$};
gi.prototype.rX=function(s,M){this.x-=s;this.y-=M;this.A+=2*s;this.$+=2*M};gi.prototype.a0B=function(s){this.rX(s.x,s.y)};
gi.prototype.OK=function(s){var M=Math.max(this.x,s.x),O=Math.max(this.y,s.y),P=Math.min(this.x+this.A,s.x+s.A),y=Math.min(this.y+this.$,s.y+s.$);
if(P<M||y<O)return new gi;else return new gi(M,O,P-M,y-O)};gi.prototype.$B=function(s){if(s.y+s.$<this.y||s.x>this.x+this.A||s.y>this.y+this.$||s.x+s.A<this.x)return!1;
return!0};gi.prototype.g3=function(){return this.A<=0||this.$<=0};gi.prototype.offset=function(s,M){this.x+=s;
this.y+=M};gi.prototype.a6c=function(s){this.offset(s.x,s.y)};gi.prototype.a5a=function(){this.x=this.y=this.A=this.$=0};
gi.prototype.ee=function(s,M,O,P){this.x=s;this.y=M;this.A=O;this.$=P};gi.prototype.v8=function(s){if(this.g3())return s.v();
if(s.g3())return this.v();var M=this.v();M.aE7(s);return M};gi.WZ=new Float32Array(2);gi.prototype.aE7=function(s){if(s.g3())return;
if(this.g3()){this.Tg(s);return}this.aqn(s.x,s.y);this.aqn(s.x+s.A,s.y+s.$)};gi.prototype.aqn=function(s,M){var O=Math.min(this.x,s),P=Math.min(this.y,M);
this.A=Math.max(this.x+this.A,s)-O;this.$=Math.max(this.y+this.$,M)-P;this.x=O;this.y=P};gi.prototype.aEa=function(s,M){this.x=s;
this.y=M;this.A=this.$=0};function kp(s,M,O,P,y,F){if(typeof s==="undefined"){s=1;M=0;O=0;P=1;y=0;F=0}this.cd=s;
this.X=M;this.xN=O;this.zv=P;this.cj=y;this.H3=F}kp.prototype.dI=function(){return Math.sqrt(Math.abs(this.cd*this.zv-this.X*this.xN))};
kp.prototype.a7E=function(){var s=this,M=function(O){return Math.abs(O)<1e-9?0:O};s.cd=M(s.cd);s.X=M(s.X);
s.xN=M(s.xN);s.zv=M(s.zv);s.cj=M(s.cj);s.H3=M(s.H3)};kp.prototype.Kw=function(s){return new j6(s.x*this.cd+s.y*this.xN+this.cj,s.x*this.X+s.y*this.zv+this.H3)};
kp.prototype.translate=function(s,M){this.cj+=s;this.H3+=M};kp.prototype.rotate=function(s){var M=new kp(Math.cos(s),-Math.sin(s),Math.sin(s),Math.cos(s),0,0);
this.concat(M)};kp.prototype.scale=function(s,M){var O=new kp(s,0,0,M,0,0);this.concat(O)};kp.prototype.concat=function(s){this.Tg(new kp(this.cd*s.cd+this.X*s.xN,this.cd*s.X+this.X*s.zv,this.xN*s.cd+this.zv*s.xN,this.xN*s.X+this.zv*s.zv,this.cj*s.cd+this.H3*s.xN+s.cj,this.cj*s.X+this.H3*s.zv+s.H3))};
kp.prototype.or=function(){var s=this.cd*this.zv-this.X*this.xN;this.Tg(new kp(this.zv/s,-this.X/s,-this.xN/s,this.cd/s,(this.xN*this.H3-this.zv*this.cj)/s,(this.X*this.cj-this.cd*this.H3)/s))};
kp.prototype.v=function(){return new kp(this.cd,this.X,this.xN,this.zv,this.cj,this.H3)};kp.prototype.Tg=function(s){this.cd=s.cd;
this.X=s.X;this.xN=s.xN;this.zv=s.zv;this.cj=s.cj;this.H3=s.H3};kp.Pj=function(s){return[s.cd,s.X,s.xN,s.zv,s.cj,s.H3]};
kp.abz=function(s){return new kp(s[0],s[1],s[2],s[3],s[4],s[5])};function b_(){}b_.aeF={a2a:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),avf:"DDS TIFF AVIF TGA EXR BMP ICO DXF RAW EMF PPM".split(" ")};
b_.x5="psd jpg png gif webp svg bmp".split(" ");b_.YE=function(s,M){var O=s.memory.buffer.byteLength,P=(M-O>>>16)+1;
try{if(O<M)s.memory.grow(P)}catch(hj){return P*65536}return 0};b_.gy={EN:function(s,M){fetch(s).then(function(O){return O.arrayBuffer()}).then(function(O){var P=new Uint8Array(O),y=0,m="";
if(M){y=P.length;var F={level:9},A=pako.deflateRaw(P,F),h=UZIP.deflateRaw(P,F);console.log(y,A.length,h.length);
P=A.length<h.length?A:h}for(var R=0;R<P.length;R++)m+=String.fromCharCode(P[R]);var Z=btoa(m);console.log(JSON.stringify([y,Z]))})},get:function(s,M){var O=BINDB[s],P=Date.now(),y=atob(O[1]),F=y.length,A=new Uint8Array(F);
for(var R=0;R<F;R++)A[R]=y.charCodeAt(R);if(O[0]!=0){var h=new Uint8Array(O[0]);UZIP.inflateRaw(A,h);
A=h}if(M){var m=b_.WG(A.buffer);A=b_.O7(m).AR(A.buffer)}return A}};b_.aAq=function(s,M){return new Promise(function(O,P){s.AR(M,null,function(y,F){O(F)})})};
b_.WG=function(s){if(!(s instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var M=new Uint8Array(s),O=b_.a5N,P,y=0,F=M.length-1;
if(O(M,[239,187,191]))y=3;while(y<M.length&&(M[y]==9||M[y]==10||M[y]==13||M[y]==32))y++;while(F!=0&&(M[F]==9||M[F]==10||M[F]==13||M[F]==32))F--;
if(O(M,[24,70,73,67]))P="gp3";if(O(M,[66,67,70,90]))P="gp3";if(O(M,[77,84,104,100]))P="mid";if(O(M,[56,66,80,83]))P="psd";
if(O(M,[6,6,237,245]))P="indd";if(O(M,[68,73,67,77],128))P="dcm";if(O(M,[99,104,108,118]))P="chlv";if(O(M,[208,207,17,224])){if(c.Ah(M,"L\0t\0f\0H\0e\0a\0d\0e\0r")!=-1)P="ufo";
else P="office"}if(O(M,[102,116,121,112,109,105,102,49],4)||O(M,[102,116,121,112,97,118,105,102],4))P="avif";
if(O(M,[102,116,121,112,104,101,105,99],4)||O(M,[102,116,121,112,109,105,102,49],4)||O(M,[102,116,121,112,109,115,102,49],4))P="heic";
if(O(M,[102,116,121,112,105,115,111,109],4))P="mp4";if(O(M,[102,116,121,112,109,112,52,50],4))P="mp4";
if(O(M,[102,116,121,112,113,116,32,32],4))P="mp4";if(O(M,[102,116,121,112,105,115,111,53],4))P="mp4";
if(O(M,[26,69,223,163]))P="mkv";if(O(M,[102,116,121,112,99,114,120,32],4))P="cr3";if(O(M,[0,255,75,65]))P="afphoto";
if(O(M,[67,83,70,67,72,85,78,75]))P="clip";if(O(M,[83,65,73,45,67,65]))P="sai2";if(O(M,[70,82,65,67]))P="frac";
if(O(M,[120])&&[94,156,218].indexOf(M[1])!=-1)P="pxd";if(O(M,[80,68,78,51]))P="pdn";if(O(M,[103,105,109,112,32,120,99,102,32]))P="xcf";
if(O(M,[102,105,103,45,107,105,119,105]))P="fig";if(O(M,[105,99,110,115]))P="icns";if(O(M,[137,80,78,71,13,10,26,10])){P="png";
var A=8;while(A<M.length){var h=c.h4(M,A);A+=4;var m=c.Db(M,A,4);A+=4;if(m=="mkTS")P="fpng";A+=h+4}}if(O(M,[87,76]))P="cdr";
if(O(M,[82,73,70,70])){var Z=h8.kM(M),u=Z.hF;if(u=="WEBP")P="webp";else if(u.slice(0,3)=="CDR")P="cdr";
else if(u=="sfbk")P="sf2";else P=u}if(O(M,[70,79,82,77])||O(M,[70,79,82,52])||O(M,[76,73,83,84])||O(M,[67,65,84,32])){var Z=dP.kM(M),u=Z.hF;
if(u=="ILBM"||u=="CIMG"||u=="ANIM")P="ilbm";else P=u}if(O(M,[255,216,255]))P="jpg";if(O(M,[0,0,0,12,106,80,32,32]))P="jpg";
if(O(M,[48,0,1,0],4))P="jb2";if(O(M,[71,73,70,56]))P="gif";if(O(M,[255,10])||O(M,[0,0,0,12,74,88,76,32,13,10,135,10]))P="jxl";
if(O(M,[0,0,0,2,121,102,113,76]))P="msh";if(O(M,[0,0,0,3,121,102,113,76]))P="msh";if(O(M,[0,0,0,16]))P="atn";
if(O(M,[0,1]))P="aco";if(O(M,[0,2]))P="aco";if(O(M,[65,83,69,70]))P="aco";if([0,1].indexOf(M[1])!=-1&&[1,2,3,9,10,11].indexOf(M[2])!=-1&&[0,16,24,32].indexOf(M[7])!=-1)P="tga";
if(O(M,[0,2,56,66,83,76]))P="asl";if(O(M,[0,1,0,-1,0,2,0]))P="abr";if(O(M,[0,2,0,-1,0,2,0]))P="abr";
if(O(M,[0,6,0,1]))P="abr";if(O(M,[0,6,0,2]))P="abr";if(O(M,[0,7,0,2]))P="abr";if(O(M,[0,9,0,2]))P="abr";
if(O(M,[0,10,0,2]))P="abr";if(O(M,[56,66,70,83]))P="shc";if(O(M,[56,66,80,84]))P="pat";if(O(M,[56,66,71,82]))P="grd";
if(O(M,[71,73,77,80,32,71,114,97]))P="grd";if(O(M,[56,66,84,80]))P="tpl";if(O(M,[0,4,0,5]))P="acv";if(O(M,[99,117,115,104]))P="csh";
if(O(M,[0,1,0,0,0]))P="otf";if(O(M,[79,84,84,79]))P="otf";if(O(M,[116,116,99,102]))P="otf";if(O(M,[119,79,70,70]))P="otf";
if(O(M,[68,68,83,32]))P="dds";if(O(M,[80,86,82,3]))P="pvr";if(O(M,[86,84,70,0]))P="vtf";if(O(M,[83,73,77,80]))P="fits";
if((O(M,[0,0,1,0])||O(M,[0,0,2,0]))&&M[4]!=0)P="ico";if(O(M,[66,77]))P="bmp";if(O(M,[40,0,0,0]))P="bmp";
if(O(M,[80,49]))P="ppm";if(O(M,[80,50]))P="ppm";if(O(M,[80,51]))P="ppm";if(O(M,[80,52]))P="ppm";if(O(M,[80,53]))P="ppm";
if(O(M,[80,54]))P="ppm";if(O(M,[73,73,42,0]))P="tiff";if(O(M,[77,77,0,42]))P="tiff";if(O(M,[73,73,85,0]))P="tiff";
if(O(M,[73,73,82,83]))P="tiff";if(O(M,[73,73,82,79]))P="tiff";if(P=="tiff"){var f=UTIF.decode(M),U=b_.RW.aKY(f);
if(U[1])P=U[1];else if(f[0].t37724)P="ptif"}if(O(M,[70,85,74,73,70,73,76,77]))P="raf";if(O(M,[112]))P="lif";
if(O(M,[73,73,26,0]))P="ciff";if(O(M,[83,81,76,105]))P="sketch";if(O(M,[80,75])){var C=UZIP.parse(s,!0);
if(C["document.json"])P="sketch";else if(C.manifest)P="xd";else if(C["maindoc.xml"])P="kra";else if(C["content/root.dat"])P="cdr";
else if(C["content/riffData.cdr"])P="cdr";else if(C["canvas.fig"])P="fig";else if(C["manifest.json"])P="pxz";
else P="zip"}if(M.length>260&&O(M,[117,115,116,97,114,32],257))P="zip";if(O(M,[55,122,188,175]))P="7z";
if(O(M,[123]))P="json";if(c.h4(M,0)==M.length)P="icc";if(O(M,[35])&&P==null)P="icc";if(O(M,[84,73,84,76],y))P="icc";
if(O(M,[76,85,84,95],y))P="icc";if(O(M,[60,63,120,109],y)){if(c.Ah(M,"<look>")!=-1)P="icc";else P="svg"}if(O(M,[255,254,60,0],y))P="svg";
if(O(M,[60,115,118,103],y))P="svg";if(O(M,[60,33,100,111],y)||O(M,[60,33,68,79],y)||O(M,[60,33,45,45],y)||O(M,[60,104,116,109],y)||O(M,[60,72,84,77],y)){if(c.Ah(M,"<svg")!=-1)P="svg";
else P="html"}if(O(M,[37,33])||O(M,[197,208,211,198])){if(c.Ah(M,"%AI9_PrivateDataBegin")!=-1||c.Ah(M,"%AI5_BeginLayer")!=-1||c.Ah(M,"%AI5_NumLayers")!=-1)P="ai";
else P="eps"}if(O(M,[37,80,68,70],y)){var H=c.Ah(M,"/AIMetaData ");if(H!=-1){if(c.Ah(M,">>/Encrypt ",H)!=-1)P="pdf";
else P="ai"}else P="pdf"}else if(O(M,[10,69,79,70],F-3))P="dxf";if(O(M,[1,0,9,0]))P="wmf";if(O(M,[215,205,198,154]))P="wmf";
if(O(M,[1,0,0,0]))P="emf";if(O(M,[118,47,49,1]))P="exr";if(O(M,[35,63,82,65]))P="hdr";if(O(M,[35,63,82,71]))P="hdr";
if(O(M,[10,10,10,10]))P="jsx";if(O(M,[77,90]))P="exe";if(P==null){if(O(M,[0,5,22,7]))P="adoub";if(O(M,[73,68,51]))P="mp3";
if(O(M,[73,103,103,83]))P="ogg";if(O(M,[91,73,110,116]))P="url";if(O(M,[98,112,108,105]))P="bpli";if(O(M,[98,118,52,49]))P="lz4";
if(O(M,[119,79,70,50]))P="woff2";if(O(M,[60,63,112,104]))P="php";if(O(M,[82,97,114,33]))P="rar"}if(P==null&&a.raw.dG(M.length)!=null)return"tiff";
return P};b_.a5N=function(s,M,O){if(O==null)O=0;for(var R=0;R<M.length;R++)if(M[R]!=-1&&s[O+R]!=M[R])return!1;
return!0};b_.O7=function(s){var M={BMP:b_.aGV,CDR:b_.w_,DDS:b_.Cd,EMF:b_.k8,DXF:b_.N0,EPS:b_.gO,FIG:b_.rf,FPNG:b_.mN,INDD:b_.Lz,CHLV:b_.afv,GIF:b_.qa,ICO:b_.zs,ILBM:b_.aJl,FITS:b_.ajx,EXR:b_.SZ,HDR:b_.ZT,JPG:b_.xp,LIF:b_.O0,DCM:b_.a3I,PDF:b_.yb,PDN:b_.Ek,PNG:b_.Li,ICNS:b_.a5r,PPM:b_.ja,PSD:b_.yP,PXD:b_.Ws,PXZ:b_.A$,RAW:b_.$m,SKETCH:b_.$Q,UFO:b_.Pg,OFFICE:b_.FT,SVG:b_.l$,TGA:b_.M8,AVIF:b_.N7,HEIC:b_.N7,JXL:b_.N7,TIFF:b_.RW,PTIF:b_.xk,DNG:b_.RW,CR2:b_.RW,NEF:b_.RW,ARW:b_.RW,RW2:b_.RW,ORF:b_.RW,FFF:b_.RW,RAF:b_.A3,CR3:b_.uq,VTF:b_.a4v,WEBP:b_.l0,WMF:b_.ri,XCF:b_.Y2,XD:b_.e6,KRA:b_.cl,EXE:b_.a0s,AI:b_.Pa,AFPHOTO:b_.yy,CLIP:b_.W9,SAI2:b_.rr,FRAC:b_.i9,MP4:b_.aIF,MKV:b_.aIF,MID:b_.a9_,GP3:b_.a2V};
return M[s.toUpperCase()]};b_.qm=function(R){var s=b_.aeF.a2a,M=b_.aeF.avf,O,P=[];if(R==null)O=s.concat(M);
else O=R==0?s:M;for(var R=0;R<O.length;R++)if(b_.O7(O[R]).u6)P.push(O[R]);return P};b_.aiD=function(){var s;
function M(P){var y=P.target,F=y.width,A=y.height,h=document.createElement("canvas");h.width=F;h.height=A;
var m=h.getContext("2d");m.drawImage(y,0,0);s({IK:new gi(0,0,F,A),data:m.getImageData(0,0,F,A).data.buffer})}function O(P,y,F){s=F;
var A=document.createElement("img");A.onload=M;A.src="data:"+y+";base64,"+b_.lW(P)}return O}();b_.hI=function(s,M,O,P,y){var F=b_.TB(s,M,O,P,y),A=b_.jz(F);
return A.buffer};b_.jz=function(s){var M=atob(s.split(",").pop()),O=new Uint8Array(M.length);for(var R=0;
R<M.length;R++)O[R]=M.charCodeAt(R);return O};b_.TB=function(s,M,O,P,y,F){if(!(s instanceof ArrayBuffer))throw"e";
if(P==null)P="png";if(P=="png"&&F==!0){var A=b_.O7("PNG").u6([[s,0]],M,O);return"data:image/png;base64,"+b_.lW(A)}var h=b_.jE;
if(h==null)h=b_.jE=document.createElement("canvas");if(h.width!=M||h.height!=O){h.width=M;h.height=O}var m=h.getContext("2d"),Z=new ImageData(new Uint8ClampedArray(s,0,M*O*4),M,O);
m.putImageData(Z,0,0);return h.toDataURL("image/"+P,y)};b_.axh=function(s,M,O,P,y){if(y==null)y=0;var F="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",A="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+F+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(s==1)A+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
A+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+y+")\" xlink:href=\""+M+"\" x=\""+80*O+"\" y=\""+80*P+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var h=new Uint8Array(A.length);c.gS(A,h,0);var m="data:image/svg+xml;base64,"+b_.lW(h.buffer);return{qJ:m,Iz:new gi(0,0,128,128),gB:new j6(64,64)}};
b_.lW=function(s){var M=new Uint8Array(s),O="";for(var R=0;R<M.length;R++)O+=String.fromCharCode(M[R]);
return btoa(O)};b_.un=function(s){var M=atob(s),O=M.length,P=new Uint8Array(O);for(var R=0;R<O;R++)P[R]=M.charCodeAt(R);
return P.buffer};b_.aoG=function(s,M,O,P){var y=new Uint8Array(s),F=~~(y.length/(M*O*2)),A;if(P)for(var R=0;
R<y.length;R+=2){var h=y[R];y[R]=y[R+1];y[R+1]=h}y=new Uint16Array(y.buffer,0,y.buffer.byteLength>>>1);
if(F==4)A=y.buffer;else if(F==3||F==2||F==1){var m=new Uint16Array(M*O*4);A=m.buffer;m.fill(65535);for(var Z=0;
Z<m.length;Z+=4){var R=Z>>>2,u=Z>>>1,f=R*3;if(F==3){m[Z]=y[f];m[Z+1]=y[f+1];m[Z+2]=y[f+2]}else if(F==2){m[Z]=m[Z+1]=m[Z+2]=y[u];
m[Z+3]=y[u+1]}else m[Z]=m[Z+1]=m[Z+2]=y[R]}}else throw F;return A};b_.amy=function(s){var M=[],O=[];
for(var R=0;R<s.U.length;R++){var P=s.U[R];if(P.getName().slice(0,3)=="_a_"){M.push(R);O.push(P.CD())}}return[M,O]};
b_.Yg=function(s,M,O,P,y,F){if(O==null)O=s.A;if(P==null)P=s.$;var A=new gi(0,0,s.A,s.$),h=new kp(O/(s.A+.001),0,0,P/(s.$+.001),0,0),Z;
s.rA(!0);M=M.toUpperCase();var m=b_.O7(M);if(m.uQ){Z=m.u6(s,O,P,y,F)}else if(dc==1){var u=s.Rc(F,O,P);
Z=m.u6([[u,0,s.FR,s.j0]],O,P,y)}else{var f=b_.amy(s),U=f[0],C=f[1],H=s.s5(),D=null;if(s.depth==32)H=null;
var t=H&&y?y.srgb:!1,X=H&&!t?H[0]:null,Q=M=="EXR"?32:y&&y.ke16?16:8;if(s.dj.length!=0){D=[];for(var R=0;
R<s.dj.length;R++)D.push(s.dj[R].mw(A))}if(U.length<2){var L=b_.acd(s.Ta(),H,t,s,Q),E;if(O==s.A&&P==s.$)E=L.buffer;
else{var _=$.TR.GI([L,A],h);E=_.buffer.buffer;if(D){var S=a.j(A.C()*4);for(var R=0;R<D.length;R++){a.GS(D[R],S,3);
var _=$.TR.GI([S,A],h),W=D[R]=a.j(_.S.C());a.YT(_.buffer,W,3)}}}Z=m.u6([[E,0,s.FR,s.j0,D,X]],O,P,y)}else{var g=[];
for(var R=0;R<U.length;R++){var x=U[R],V=s.root.vt(x),u;if(V.w.ES()){var b=V.children;for(var N=0;N<b.length;
N++){if(U.indexOf(b[N].index)!=-1)alert("You have a frame inside a folder, which is also a frame. This folder should not be a frame (should not start with _a_).",6e3)}}for(var N=0;
N<U.length;N++)s.U[U[N]].x1(U[N]==x);s.DA();s.vw();s.kp();if(O==s.A&&P==s.$)u=s.Ta().slice(0);else{var _=$.TR.GI([s.Ta(),A],h);
u=_.buffer}var E=b_.acd(u,H,t,s,Q).buffer,J=s.U[x].getName().split(",");g.push([E,J[1]?parseInt(J[1]):100,s.FR,s.j0,D,X])}for(var R=0;
R<U.length;R++)s.U[U[R]].x1(C[R]);s.vw();s.kp();if(y){var K=y.rvrs,q=y.bmrn,d=y.sped/100,l=1;if(d!=1)for(var R=0;
R<g.length;R++)g[R][1]=Math.round((g[R][1]==0?16:g[R][1])/d);if(l<1){var T=0,B=[],w=0,N=0;for(var R=0;
R<g.length;++R){T+=g[R][1];if(R>0){B.push(B[B.length-1]+g[R-1][1])}else{B.push(0)}}var p=l*g.length,I=T/p,e=[];
for(var R=0;R<p;++R){var G=0;while(w>B[N]&&N+1<g.length){G+=g[N][1];++N}if(G!=0){var j=Math.round(Math.min(1,(B[N]-w)/g[N][1])*G);
e[e.length-1][1]+=G-j;if(g[N][1]<g[N-1][1]/2){e.push(g[N-1])}else{e.push(g[N])}e[e.length-1][1]=g[N][1]+j}else if(N<g.length){e.push(g[N])}w+=I;
++N}while(N<g.length){e[e.length-1][1]+=g[N][1];++N}g=e}if(K)g.reverse();if(q){var o=g.slice(1,g.length-1);
o.reverse();g=g.concat(o)}}Z=m.u6(g,O,P,y)}}return Z};b_.acd=function(s,M,O,P,y){var F=P.En();if(P.depth==32&&y!=32)for(var R=0;
R<s.length;R++)s[R]=Math.min(1,s[R]);if(O){s=s.slice(0);ICC.U.applyLUT(M[3],M[2],s,s)}else if(F&&P.add.fcmy==1){s=s.slice(0);
ICC.U.applyLUT(F[P.add.fcmy==1?5:3],F[2],s,s)}if(P.depth>y){s=a.Gp(s,y);alert("Converting "+P.depth+"-bit to "+y+"-bit colors",3e3)}return s};
b_.a61=function(s,M){var O=new Uint8Array(s.data),P=new Uint8Array(M.data),y=0,F=0;for(var A=0;A<O.length;
A+=4){var h=O[A]-P[A],m=O[A+1]-P[A+1],f=O[A+2]-P[A+2],U=O[A+3]-P[A+3],C=h*h+m*m+f*f+U*U>>>2;y+=C;if(C>25)F++}var H=F/s.IK.C()<1e-4;
return H};b_.T7=function(s,M){var O=M[0].GF&&M[0].GF.startsWith("_a_"),P;if(O&&!1){var y=0,F=M.length;
for(var R=0;R<M.length-1;R++){var A=M[R],h=M[R+1],m=b_.a61(A,h);if(m){var f=parseFloat(A.GF.split(",").pop()),U=parseFloat(h.GF.split(",").pop());
A.GF=A.GF.split(",")[0]+","+Math.round(f+U);M.splice(R+1,1);R--;y++}}if(y!=0){alert("Deleted "+y+" frames out of "+F+".");
for(var R=0;R<M.length;R++){var C=M[R],H=C.GF;C.GF="_a_frm"+R+","+H.split(",")[1]}}}var t=new fr(s+"."+["psd","ai"][dc]);
if(M[0].depth)t.depth=M[0].depth;var X=new gi(0,0,1,1);if(O){P=t.Tk();P.add.lsct=dU.l9;P.jj(s);P.mX="pass";
P.Xa=24;P.x1(!0);t.U.push(t.kA())}for(var R=0;R<M.length;R++){var Q=M[R];X=X.v8(Q.IK);var D=t.Tk();D.x1(R==0);
D.jj(M.length==1?"Background":"Layer "+R);if(R==0&&Q.FR)t.FR=Q.FR;if(R==0&&Q.j0)t.j0=Q.j0;if(Q.GF)D.jj(Q.GF);
if(Q.Sc)for(var L=0;L<Q.Sc.length;L++){var E=Q.Sc[L],_=fr.ce(E[0]);_.add.vmsk.u=E[1];a.z.R7(E[1],new kp(X.A,0,0,X.$,0,0));
t.J4.push(_)}if(Q.FQ)t.FQ=Q.FQ;D.S=Q.IK.v();var S=Q.depth?Q.depth:t.depth;if(S==8)D.buffer=new Uint8Array(Q.data);
else if(S==16)D.buffer=new Uint16Array(Q.data);else if(S==32)D.buffer=new Float32Array(Q.data);D.buffer=a.Gp(D.buffer,t.depth);
if(R==0&&Q.Uh)t.A1(Q.Uh);a.Dq(D,!0);t.U.push(D)}if(O)t.U.push(P);if(M[0].dj){for(var R=0;R<M[0].dj.length;
R++){var W=new ad.OL;t.dj.push(W);W.S=M[0].IK.v();W.N=M[0].dj[R]}}t.Y=[O?t.U.length-1:0];t.A=X.A;t.$=X.$;
if(dc==0)t.buffer=a.j(X.C()*4,t.depth);t.vw();return t};b_.aew=function(s,M,O){var P=s.length-O,y=new Uint8Array(P);
for(var R=0;R<M;R++)y[R]=s[R];for(var R=M;R<P;R++)y[R]=s[R+O];return y};b_.aDa=function(s,M,O){var P=s.length,y=O.length,F=new Uint8Array(P+y);
for(var R=0;R<M;R++)F[R]=s[R];for(var R=M;R<P;R++)F[R+y]=s[R];F.set(O,M);return F};b_.a83=function(s,M,O,P,y,F,A,h,m){var Z=new kg(z.E.H,!0);
Z.l=$.FZ;Z.data={Q:"h_stepbck"};var u={};for(var f=1;f<O.length;f++){var U=s.Y.slice(0),C=b_.ajH(s,m,M,O,P,f),H="img"+f,t=O[0].indexOf(A);
if(A!=""){if(t==-1)alert("Column "+A+" not found.");else H=O[f][t]}u[H+"."+y.toLowerCase()]=new Uint8Array(b_.Yg(s,y,null,null,F,h));
for(var R=0;R<C;R++)m.a(Z)}return UZIP.encode(u)};b_.ajH=function(s,M,O,P,y,F){var A=new kg(z.E.c,!0),Z=0;
A.data={Q:z.J.Mz};var h=new kg(z.E.H,!0);h.l=$.mu;h.data={Q:ad.Z8,PA:{buffer:null,S:null}};var m=h.data.PA;
for(var u=0;u<O.length;u++){var f=O[u],U=f.trait,C=parseInt(f.docRef.slice(4,-2)),H=-1;for(var R=0;R<s.U.length;
R++)if(s.U[R].add.lyid==C)H=R;if(H==-1)continue;var t=P[0].indexOf(f.varName);if(t==-1){alert("Column "+f.varName+" is missing");
return}var X=P[F][t],Q=s.U[H];s.Y=[H];if(U=="textcontent"){A.data.Pp="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(X)+";";
M.a(A);Z++}if(U=="visibility"&&Q.CD()+""!=X.toLowerCase()){X=X.trim().toLowerCase();if(X!="true"&&X!="false")X=X==""?"false":"true";
A.data.Pp="app.activeDocument.activeLayer.visible = "+X+";";if(Q.CD()+""!=X){M.a(A);Z++}}if(U=="fileref"){var D=X.split("/").pop(),L=null;
for(var hS in y)if(hS.split("/").pop()==D)L=y[hS];if(L==null){alert("Image "+D+" is missing.")}else{var E=b_.O7(b_.WG(L.buffer)).AR(L.buffer)[0],_=E.IK,S=Q.S,V=0,b=0;
if(Q.add.SoLd){var W=$.TR.NI(Q.add.SoLd.nonAffineTransform);S=a.b.q7(W)}var g=S.A/S.$,x=_.A/_.$;if(g>x){b=S.$;
V=~~(b*x)}else{V=S.A;b=~~(V/x)}A.data.Pp="app.activeDocument.activeLayer.visible = false;";M.a(A);Z++;
var N=$.TR.GI([new Uint8Array(E.data),_],new kp(V/_.A,0,0,b/_.$,0,0));m.S=N.S;m.buffer=N.buffer;N.S.x=S.x+(S.A-V>>>1);
N.S.y=S.y+(S.$-b>>>1);M.a(h);Z++;var J=s.U[s.Y[0]];J.N_=Q.N_;J.nN=Q.nN;J.mX=Q.mX;J.$E=Q.$E}}}return Z};
b_.Li={};b_.Li.u6=function(s,M,O,P){if(P==null)P={qual:100,rept:0};var y={sRGB:1,loop:P.rept},F=s[0],A=Math.floor(F[0].byteLength/(M*O*4))*8,U;
if(F[5]!=null){delete y.sRGB;y.iCCP=F[5]}if(F[2]!=null){var h=Math.round(F[2]*(1e4/254));y.pHYs=[h,h,1]}if(F[3]!=null&&P.mtdt&&Object.keys(F[3]).length!=0){y.iTXt={"XML:com.adobe.xmp":jW.zw(F[3])}}var m=P.qual,Z=m==100?0:Math.max(2,Math.floor(m*5));
if(Z==5)Z=4;var u=[],f=[];for(var R=0;R<s.length;R++){u.push(s[R][0]);f.push(s[R][1])}if(P.ctoa&&s[0][4]){u[0]=u[0].slice(0);
a.GS(s[0][4][0],new Uint8Array(u[0]),3)}if(A==8)U=UPNG.encode(u,M,O,Z,f,y,P.nplt);else{var C=[];for(var H=0;
H<u.length;H++){var t=C[H]=u[H].slice(0),X=new Uint8Array(t);for(var R=0;R<X.length;R+=2){var Q=X[R];
X[R]=X[R+1];X[R+1]=Q}}U=UPNG.encodeLL(C,M,O,3,1,16,f,y,!1)}return U};b_.Li.S3=function(s,M,O,P){if(P==null)P=8;
if(P==16){s=s.slice(0);var y=new Uint8Array(s);for(var R=0;R<y.length;R+=2){var F=y[R];y[R]=y[R+1];y[R+1]=F}}return UPNG.encodeLL([s],M,O,3,1,P,null,null,!0)};
b_.Li.AR=function(s){var M=Date.now(),O=UPNG.decode(s),P=O.width,y=O.height,F=8,A=O.ctype,h,m=0,Z=null,u=O.tabs.iCCP;
if(O.tabs.pHYs)m=Math.round(O.tabs.pHYs[0]*254/1e4);var f=O.tabs.iTXt;if(f&&f["XML:com.adobe.xmp"])Z=jW.P5(f["XML:com.adobe.xmp"]);
if(aP&&O.depth==16){h=[b_.aoG(O.data.buffer.slice(0,P*y*8),P,y,!0)];F=16}else h=UPNG.toRGBA8(O);if(h.length==1)return[{IK:new gi(0,0,P,y),data:h[0],FR:m,Uh:u,j0:Z,depth:F}];
var U=[];for(var R=0;R<h.length;R++){U.push({GF:"_a_frm"+R+","+O.frames[R].delay,IK:new gi(0,0,P,y),data:h[R],FR:m,Uh:u,j0:Z,depth:F})}return U};
b_.ja={};b_.ja.u6=function(s,M,O,P){var y=new Uint8Array(s[0][0]),F=M*O,A=F*3,h="P6\n"+M+" "+O+"\n255\n",m=h.length,Z=new Uint8Array(m+A);
for(var R=0;R<m;R++)Z[R]=h.charCodeAt(R);for(var R=0;R<F;R++){var u=R*4,f=R*3+m;Z[f]=y[u];Z[f+1]=y[u+1];
Z[f+2]=y[u+2]}return Z.buffer};b_.ja.AR=function(s){s=new Uint8Array(s);var M=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],O=0,P=String.fromCharCode(s[0])+String.fromCharCode(s[1]),y=[],F=0,A=P=="P1"||P=="P4"?2:3;
for(O=2;O<s.length;O++){var h=s[O],m=String.fromCharCode(h);if(h=="#".charCodeAt(0)){while(s[O]!="\n".charCodeAt(0))O++;
continue}var Z=M.indexOf(h)!=-1;if(F==0&&!Z){y.push(m);F=1;continue}if(F==1&&!Z){y[y.length-1]+=m;continue}if(F==1&&Z){F=0;
if(y.length==A)break;continue}}var u=parseInt(y[0]),f=parseInt(y[1]),U=u*f*4,C=P=="P1"||P=="P4"?1:255/parseInt(y[2]),H=a.j(U);
if(P=="P1"||P=="P2"||P=="P3"){var t="",X=0,F=0,Q="#".charCodeAt(0);for(var R=O;R<s.length;R++){var h=s[R],m=String.fromCharCode(h),Z=M.indexOf(h)!=-1;
if(h==Q){while(s[R]!="\n".charCodeAt(0))R++}else if(F==0&&!Z){t=m;F=1}else if(F==1){if(Z){F=0;var D=parseInt(t);
t="";if(P=="P1"){H[X]=H[X+1]=H[X+2]=(1-D)*255;H[X+3]=255;X+=4}if(P=="P2"){H[X]=H[X+1]=H[X+2]=Math.round(D*C);
H[X+3]=255;X+=4}if(P=="P3"){H[X]=Math.round(D*C);X++;if((X&3)==3){H[X]=255;X++}}}else t+=m}}}var L=u*f;
if(P=="P4")for(var E=0;E<f;E++){var _=E*8*Math.ceil(u/8);for(var S=0;S<u;S++){var R=_+S,W=s[O+1+(R>>3)];
W=W>>7-(R&7)&1;var g=E*u+S<<2;H[g]=H[g+1]=H[g+2]=(1-W)*255;H[g+3]=255}}if(P=="P5")for(var R=0;R<L;R++){var g=4*R;
H[g]=H[g+1]=H[g+2]=Math.round(s[O+1+R]*C);H[g+3]=255}if(P=="P6")for(var R=0;R<L;R++){var g=4*R,x=O+1+3*R;
H[g]=Math.round(s[x]*C);H[g+1]=Math.round(s[x+1]*C);H[g+2]=Math.round(s[x+2]*C);H[g+3]=255}return[{IK:new gi(0,0,u,f),data:H.buffer}]};
b_.Cd={};b_.Cd.u6=function(s,M,O,P){if(P==null)P={cmpr:0,mpmp:!0};if(typeof P[0]=="boolean")P[0]=0;var y=new Uint8Array(s[0][0]);
if(P.ctoa&&s[0][4]){y=y.slice(0);a.GS(s[0][4][0],y,3)}var F=M&3,A=O&3;if(F!=0||A!=0){var h=M+(F==0?0:4-F),m=O+(A==0?0:4-A),Z=new Uint8Array(h*m*4);
a.vK(Z,4278190080);a.FP(y,new gi(0,0,M,O),Z,new gi(0,0,h,m));y=Z;M=h;O=m}var u=UTEX.DDS.encode(y.buffer,M,O,[P.cmpr,P.mpmp,P.dxsr]);
if(!1){var f=UTEX.DDS.decode(u)[0],Z=new Uint8Array(f.EV),U=0;for(var R=0;R<y.length;R++){var C=y[R]-Z[R];
U+=C*C}console.log(U)}return u};b_.Cd.AR=function(s){var M=UTEX.DDS.decode(s),O=[];for(var R=0;R<1;R++){var P=M[R],y={IK:new gi(0,0,P.width,P.height),data:P.image};
a.apW(y);O.push(y)}return O};b_.a4v={};b_.a4v.AR=function(s){var M=UTEX.VTF.decode(s).pop(),O={IK:new gi(0,0,M.width,M.height),data:M.image};
a.apW(O);return[O]};b_.xp={};b_.xp.atj=null;b_.xp.any=function(s,M){var O=b_.xp.atj,P=s.byteLength,y=M.width,F=M.height,A=y*F,h=5e6+2*P+A*(M.progressive?Math.max(2,M.numComponents)*4+1:8),m=O.instance.exports;
b_.YE(m,h);var Z=new Uint8Array(m.memory.buffer),u=m.malloc(P);Z.set(new Uint8Array(s),u);var f=m.malloc(4),U=m.malloc(4),hS=m.malloc(4),C=m.stbi_load_from_memory(u,P,f,U,hS,4);
m.free(u);m.free(f,U,hS);m.free(C);var H=Z.slice(C,C+A*4);return H};(function(){var s=b_.gy.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(s).then(function(M){b_.xp.atj=M})}());b_.xp.u6=function(s,M,O,P){if(P==null)P={qual:85,mtdt:!0};
var y=s[0],F=new Uint8Array(y[0]);if(a.vI(F)){var A=new Uint8Array(F.length);A.fill(255);var h=new gi(0,0,M,O);
a.B.qZ("norm",F,h,A,h,h,1);F=A}var m=new Uint8Array(b_.hI(F.buffer,M,O,"jpeg",P.qual/100));if(m.length<2e4||y[5]){var Z=c.Ah(m,[255,226]);
if(Z!=-1){var u=c.m4(m,Z+2);m=b_.aew(m,Z,u+2)}}if(y[5]!=null){var f=4+c.m4(m,4),U=y[5].length+16,C=new Uint8Array(U+2);
C[0]=255;C[1]=226;c.gz(C,2,U);c.Eu(C,4,"ICC_PROFILE");C[16]=C[17]=1;C.set(y[5],18);m=b_.aDa(m,f,C)}if(y[2]!=null){var H=b_.xp.lb(m)[224][0]+2;
H+=9;m[H]=1;c.gz(m,H+1,y[2]);c.gz(m,H+3,y[2])}if(y[3]!=null&&P.mtdt==!0&&Object.keys(y[3]).length!=0){var t=0,X=0,Q=0,D=jW.MG(y[3]),L=new Uint8Array(UTIF.encode([D])),E="http://ns.adobe.com/xap/1.0/",f=20;
t=4+6+L.length;var _=jW.zw(y[3]),S=c.WT(_);X=4+E.length+1+S.length;var W=jW.az0(y[3]);if(W.length!=0){var g=0,b=0;
for(var R=0;R<W.length;R++)g+=5+W[R][1].length;var x=g+(g&1),V=a.j(14+4+4+4+x);c.Eu(V,b,"Photoshop 3.0");
b+=14;c.Eu(V,b,"8BIM");b+=4;V[b++]=4;V[b++]=4;b+=2;c.FE(V,b,g);b+=4;for(var R=0;R<W.length;R++){var N=W[R],J=N[1];
V[b++]=28;V[b++]=2;V[b++]=N[0];c.gz(V,b,J.length);b+=2;c.Eu(V,b,J);b+=J.length}Q=4+V.length}var K=t+X+Q,q=new Uint8Array(m.length+K);
for(var R=0;R<20;R++)q[R]=m[R];for(var R=20;R<m.length;R++)q[R+K]=m[R];q[f]=255;q[f+1]=225;c.gz(q,f+2,t-2);
c.Eu(q,f+4,"Exif");for(var R=0;R<L.length;R++)q[f+10+R]=L[R];f+=t;q[f]=255;q[f+1]=225;c.gz(q,f+2,X-2);
c.Eu(q,f+4,E);for(var R=0;R<S.length;R++)q[f+4+E.length+1+R]=S[R];f+=X;if(Q!=0){q[f]=255;q[f+1]=237;
c.gz(q,f+2,Q-2);for(var R=0;R<V.length;R++)q[f+4+R]=V[R];f+=Q}m=q}return m.buffer};b_.xp.lb=function(s){var M=0,O=[],P=s.length;
while(M<P){while(s[M]!=255&&M<P)M++;while(s[M]==255)M++;if(M==P)break;var y=s[M];M++;if(O[y]==null)O[y]=[];
O[y].push(M-2);if(y==216)continue;if(y==217)break;if(224<=y&&y<=239||y==218||y==219||y==192||y==193||y==194||y==196||y==221||y==254){var F=c.m4(s,M);
M+=F;if(y==218)while(M<P&&(s[M]!=255||(s[M+1]==0||208<=s[M+1]&&s[M+1]<=215)))M++;continue}console.log("unknown marker ",y.toString(16),M);
break}if(O[217]==null){console.log("EOI marker missing");var A=s.length-2;s[A]=255;s[A+1]=217;O[217]=[A]}return O};
b_.xp.aGt=function(s){s=new Uint8Array(s);if(s[0]!=255)return s.buffer;var M=b_.xp.lb(s),O=b_.xp.ahB(s,M);
if(O.numComponents!=4)return s.buffer;var P=O.width,y=O.height,F=b_.xp.ak0(s,M,!0);return b_.xp.u6([[F[0].data]],P,y,{qual:85})};
b_.xp.ahB=function(s,M){var O=(M[192]?M[192]:M[193]?M[193]:M[194])[0]+4,P={};P.progressive=M[194]!=null;
P.precision=s[O];O++;P.height=c.m4(s,O);O+=2;P.width=c.m4(s,O);O+=2;P.numComponents=s[O];O++;if(M[224]){var y=P.jfif={};
O=M[224][0]+2+2+5+2;y.densityUnits=s[O];O++;y.xDensity=c.m4(s,O);O+=2;y.yDensity=c.m4(s,O);O+=2}if(M[238]){var y=P.adobe={};
O=M[238][0]+2+2+6;y.version=s[O];O++;y.flags0=c.m4(s,O);O+=2;y.flags1=c.m4(s,O);O+=2;y.transform=s[O];
O++}return P};b_.xp.aqJ=function(s,M,O){var P=M,y=c.m4(s,P);P+=2;var F=c.Db(s,P,4);if(F=="Exif"){P+=6;
var A=s.slice(P,P+y-8),h;try{h=UTIF.decode(A.buffer,{parseMN:!1,debug:!1})}catch(hj){}if(h&&h.length!=0)O.exif=h}else if(F=="http"){var m=0;
while(s[P+m]!=0)m++;var Z=c.Db(s,P,m);P+=m+1;if(Z=="http://ns.adobe.com/xmp/extension/"){var u=c.Db(s,P,32);
P+=32;P+=8;var f=M+y-P;while(s[P+f-1]==0)f--;if(O.xmp_extn==null)O.xmp_extn="";try{O.xmp_extn+=c.xJ(s,P,f)}catch(hj){}}else if(Z=="http://ns.adobe.com/xap/1.0/"){var U=c.xJ(s.slice(P,P+y-m-3));
if(U[0]=="?")U="<"+U;O.xmp=U}}else console.log(F)};b_.xp.ak0=function(s,M,O){var P=b_.xp.ahB(s,M),y=P.width,F=P.height,A=y*F,h,E=72,_,W,g=null;
if(y*F*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var m=-1;if(P.adobe)m=P.adobe.transform;if(O||y*F>1e7||m==0||m==2||P.progressive||window.WebAssembly==null){var Z=new PDFJS.JpegImage;
Z.parse(s);var u=Z.getData({width:y,height:F,forceRGB:!0,isSourcePDF:O}),h=a.j(A*4);for(var R=0;R<A;
R++){var f=R<<2,U=f-R;h[f]=u[U];h[f+1]=u[U+1];h[f+2]=u[U+2];h[f+3]=255}}else{h=b_.xp.any(s.buffer,P)}var C=M[225];
if(C)for(var R=0;R<C.length;R++)b_.xp.aqJ(s,C[R]+2,P);var H=M[226];if(H){for(var R=0;R<H.length;R++){var t=H[R],X=c.m4(s,t+2),Q=c.Db(s,t+4,11);
if(P.icc==null&&Q=="ICC_PROFILE"){var D=c.h4(s,t+18);P.icc=s.slice(t+18,t+18+D)}}}var L=M[217][0]+2;
if(L!=s.length)P.suffix=s.slice(L);var S=[y,F,1,0,0,0,1,0];if(P.jfif&&P.jfif.densityUnits!=0){E=Math.round([72,1,2.54][P.jfif.densityUnits]*P.jfif.xDensity)}else if(P.exif&&P.exif[0].t282!=null){var x=P.exif[0].t282[0];
E=x[0]/x[1]}if(P.exif){var V=P.exif;_=jW.hM(V[0]);var b=V[0].t274;if(b)b=b[0];if(b!=null&&b>1&&b<20)S=a.raw.ads(b,y,F)}if(P.xmp){_=jW.P5(P.xmp,_)}if(P.icc)W=P.icc;
var N=M[237],J=[],K=[];if(N){var q=new Uint8Array(65536),d=0,t=0;for(var R=0;R<N.length;R++){t=N[R]+2;
var l=t+c.m4(s,t);t+=2;var T=t;while(s[t]!=0)t++;t++;var B=c.Db(s,T,t-T-1),p=l-t;if(p<0)break;while(d+p>q.length){var I=new Uint8Array(q.length*2);
I.set(q);q=I}var w=new Uint8Array(s.buffer,t,p);q.set(w,d);d+=p}t=0;s=q;while(t<d){var e=c.Db(s,t,4);
t+=4;var G=c.m4(s,t);t+=2;var j=s[t++],o=c.Db(s,t,j);t+=j;if((j&1)==0)t++;var X=c.h4(s,t);t+=4;var L=t+X+(X&1);
if(G==1028){while(t+4<L){var r=s[t++],k=s[t++],a7=s[t++],Y=c.m4(s,t);t+=2;if(r==28&&k==2)J.push([a7,c.Db(s,t,Y)]);
t+=Y}}else if(G==1032)g=jv.aum(s,t);else if((G&2e3)==2e3){var v=dM.F_(s,t,X);K.push([o,v])}else{}t=L}if(J.length!=0)_=jW.awg(J,_)}var n=[{IK:new gi(0,0,y,F),data:h.buffer,FR:E,j0:_,Uh:W,Sc:K.length==0?null:K,FQ:g}],_=P.xmp_extn;
if(_){var cm=new DOMParser,a5=cm.parseFromString(_,"image/svg+xml"),a5=a5.children[0].children[0].children[0],gP=[a5.getAttribute("GImage:Data"),a5.getAttribute("GDepth:Data")];
for(var R=0;R<gP.length;R++)if(gP[R]){var cg=atob(gP[R]),a9=new Uint8Array(cg.length);c.Eu(a9,0,cg);
a9=a9.buffer;var ew=b_.WG(a9),h7=b_.O7(ew).AR(a9);n.push(h7[0])}}if(P.suffix){var bh=P.suffix,ba=!1,jx=c.Db(bh,4,4),c4=c.Ah(bh,[255,216,255]);
if(b_.a5N(bh,[0,0,1,10,14,0,0,0])){if(ba)console.log("Samsung");var t=0;while(t!=bh.length){var bq=c.vJ(bh,t+2);
t+=4;var di={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[bq];if(di!=null){var il=c.je(bh,t);t+=4;
var j0=c.Db(bh,t,il);t+=il;var j1=c.Db(bh,t,di);t+=di;if(bq==2608){var b5=t,b4=c.h4(bh,t+24);t+=b4+24;
var lm=c.h4(bh,t);t+=lm;var ix=bh.slice(b5,t);b_.xp.a0U(ix)}}else if(bq==18502){while(c.Db(bh,t,4)!="SEFT")t+=4;
t+=4}else{break;console.log(c.DN(bh,t,128));console.log(bh.slice(t));throw bq.toString(16)}}}else if(jx=="ftyp"){if(ba)console.log("MP4 Video");
b_.xp.a0U(bh)}else if(c.Db(bh,0,4)=="fixe"){if(ba)console.log("fixe");alert("Unknown data - "+bh.length+" B - at the end of the file",3e3);
var t=4,X=c.je(bh,t);t+=4;var jy=c.je(bh,t);t+=4;var bz=c.je(bh,t);t+=4;console.log(X,jy,bz,bh.slice(t,t+84));
t+=84;var c5=c.Db(bh,t,32);t+=32;t+=8;var c5=c.Db(bh,t,32);t+=32}else if(c.Db(bh,8,13)=="FocusShot_Map"){if(ba)console.log("FocusShot_Map");
var k0=c.h4(bh,0),Y=c.je(bh,4),a9=a.j(A*4),cd=a.j(A*4);for(var fz=0;fz<F;fz++)for(var fu=0;fu<y;fu++){var R=fz*y+fu,f=R<<2,c6=8+13+((fz>>>1)*y+fu>>>1),k7=bh[c6],hP=bh[c6+(A>>>2)];
a9[f]=a9[f+1]=a9[f+2]=k7;a9[f+3]=255;cd[f]=cd[f+1]=cd[f+2]=hP;cd[f+3]=255}n.push({IK:new gi(0,0,y,F),data:a9.buffer},{IK:new gi(0,0,y,F),data:cd.buffer})}else if(jx=="edof"){if(ba)console.log("edof");
var b=bh[8+7];console.log(b.toString(16));var t=8+16,e1=c.vJ(bh,t),fs=c.vJ(bh,t+2),A=e1*fs;t+=4;t+=32+16;
var eh=a.j(A*4);for(var R=0;R<A;R++){var f=R<<2;eh[f]=eh[f+1]=eh[f+2]=bh[t+R];eh[f+3]=255}if(b==16){}else if(b==19){var gW=eh.slice(0);
a.F.gV(eh,gW,e1,fs);var hk=e1;e1=fs;fs=hk;a.F.br(gW,eh,e1,fs)}else throw"Unknown orientation of a depth map";
n.push({IK:new gi(0,0,e1,fs),data:eh.buffer})}else if(c.Db(bh,0,64).indexOf("DualShot")!=-1){if(ba)console.log("DualShot");
var jz=c.je,lh=c.Db,ag=c.vJ,t=0;function eo(){var cM=jz(bh,t);if(jz(bh,t+4)!=0)throw"e";t+=8;return cM}var aC=c.h4(bh,t);
t+=4;try{if(aC==45066){t=1226;var y=eo(),F=eo();t=3445}else if(aC==45322){var e8=jz(bh,t);t+=4;var c5=lh(bh,t,e8);
t+=e8;if(c5!="DualShot_DepthMap_1")throw c5;y=1008;F=756;if(n[0].IK.A==4080){y=1020;F=764}}else throw aC;
var lb=a.j(y*F*4);lb.fill(255);a.Rm(bh.slice(t,t+y*F),lb);n.push({IK:new gi(0,0,y,F),data:lb.buffer})}catch(hj){console.log("error reading a depth map")}try{if(c4!=0)bh=bh.slice(c4);
n=n.concat(b_.O7("jpg").AR(bh.buffer))}catch(hj){}}else if(c4!=-1&&!(bh[0]==255&&bh[1]==129)){if(ba)console.log("another JPG at",c4);
try{if(c4!=0)bh=bh.slice(c4);n=n.concat(b_.O7("jpg").AR(bh.buffer))}catch(hj){}}else if(c.Db(bh,0,4)=="PMPD"){if(ba)console.log("Xiaomi stuff");
var t=4,jn=c.je(bh,12),k3=c.je(bh,16),e1=c.je(bh,1060),fs=c.je(bh,1064),cP=e1>fs,cV=n[0].IK.A>n[0].IK.$,l2=bh.slice(bh.length-e1*fs-4),dS=a.j(e1*fs);
for(var fz=0;fz<fs;fz++)for(var fu=0;fu<e1;fu++)dS[fz*e1+fu]=l2[(fs-fz-1)*e1+fu];var lb=a.j(e1*fs*4);
lb.fill(255);a.Rm(dS,lb);if(cP!=cV){var gW=lb.slice(0);a.F.gV(lb,gW,e1,fs);var hk=e1;e1=fs;fs=hk;a.F.br(gW,lb,e1,fs)}n.push({IK:new gi(0,0,e1,fs),data:lb.buffer})}else console.log(c.Db(bh,0,4),bh)}if(n.length>1){var gH=n[0].IK,bL=!1,au=!0;
n[0].GF="Main";var hd=[!1];for(var R=1;R<n.length;R++){hd[R]=b_.xp.aEj(new Uint8Array(n[R].data));if(hd[R])bL=!0;
if(!n[R].IK.s0(n[0].IK))au=!1}if(!bL&&!au)n=n.slice(0,1);else for(var R=1;R<n.length;R++){n[R].GF=hd[R]?"Depth Map":null;
var ev=n[R].IK;if(!ev.s0(gH)){var eF=gH.A/ev.A,fn=gH.$/ev.$,iu=new kp;iu.scale(eF,fn);var gz=$.TR.nZ([new Uint8Array(n[R].data),ev],1,a.F.y1(iu));
n[R].IK=gz.S;n[R].data=gz.buffer}}}if(b_.xp.pY==1)if(S[2]!=1||S[6]!=1)for(var R=0;R<n.length;R++){var dL=n[R],dm=new Uint8Array(dL.data),y=dL.IK.A,F=dL.IK.$,e1=S[0],fs=S[1],h=a.j(e1*fs*4);
a.F.UL(dm,y,F,h,S);dL.IK=new gi(0,0,e1,fs);dL.data=h.buffer}return n};b_.xp.a0U=function(s){if(window.confirm("Photopea found a "+fK.si(s.length)+" MP4 video inside your image. Would you like to save it?",4e3)){cD.save(s.slice(0).buffer,"video.mp4")}};
b_.xp.aEj=function(s){var M=!0;for(var R=0;R<s.length;R+=4){M=M&&s[R]==s[R+1]&&s[R+1]==s[R+2]}return M};
b_.xp.pY=0;b_.xp.AR=function(s,M,O){s=new Uint8Array(s);if(s[0]==255){var P=b_.xp.lb(s);if(P[195]==null){b_.xp.pY++;
var y=b_.xp.ak0(s,P,!1);b_.xp.pY--;return y}var F=c.m4(s,P[195][0]+5),A=c.m4(s,P[195][0]+7),h=UTIF.LosslessJpegDecode(s),m=A*F,Z=a.j(m*4);
for(var R=0;R<m;R++){var u=R<<2,f=u-R;Z[u]=h[f];Z[u+1]=h[f+1];Z[u+2]=h[f+2];Z[u+3]=255}return[{IK:new gi(0,0,A,F),data:Z.buffer}]}else if(s[0]==0&&s[4]==48&&s[6]==1){var U=s,C=new PDFJS.Jbig2Image,H=[];
if(M)H.push({data:M,start:0,end:M.length});H.push({data:U,start:0,end:U.length});var h=C.parseChunks(H);
if(!O)for(var R=0;R<h.length;R++)h[R]=~h[R];var A=c.h4(s,11),F=c.h4(s,15),t=Math.ceil(A/8),X=a.j(A*F*4);
for(var Q=0;Q<F;Q++){var D=Q*t;for(var L=0;L<A;L++){var u=(Q*A+L)*4,E=h[D+(L>>>3)]>>>7-(L&7)&1,_=E*255;
X[u]=_;X[u+1]=_;X[u+2]=_;X[u+3]=255}}return[{IK:new gi(0,0,A,F),data:X.buffer}]}else{var C=new PDFJS.JpxImage;
C.parse(s);var A=C.width,F=C.height,S=C.tiles,W=C.componentsCount,g=new Uint8Array(A*F*4),x=new gi(0,0,A,F);
for(var C=0;C<S.length;C++){var V=S[C],b=V.width,N=V.height,J=b*N,K=V.items,q=new gi(V.left,V.top,b,N),d=new Uint8Array(J*4);
if(W==1)for(var R=0;R<J;R++){var l=K[R],u=R*4;d[u]=l;d[u+1]=l;d[u+2]=l;d[u+3]=255}else if(W==3)for(var R=0;
R<J;R++){var f=R*3,u=R*4;d[u]=K[f];d[u+1]=K[f+1];d[u+2]=K[f+2];d[u+3]=255}else if(W==4)d.set(K);else console.log("Unknown number of components: "+W);
a.FP(d,q,g,x)}return[{IK:x,data:g.buffer}]}};b_.l0={};b_.l0.u6=function(s,M,O,P){if(P==null)P={qual:70,mtdt:!0,rept:0};
var y=P.qual/100,_=0;if(s.length==1){var F=new Uint8Array(b_.hI(s[0][0],M,O,"webp",y));if(b_.WG(F.buffer)!="webp"){alert("Your browser cannot export WEBP :(",3e3);
throw"e"}if(F.length<2e4){var A=h8.kM(F.buffer),h=A.sub;for(var R=0;R<h.length;R++)if(h[R].Xh=="ICCP"){var m=h[R];
F=b_.aew(F,m.p-8,m.size+8);c.rq(F,4,A.size-(m.size+8));break}}if(P.mtdt&&s[0][3]){var Z=s[0][3],u=new Uint8Array(UTIF.encode([jW.MG(Z)])),f=u,U=c.WT(jW.zw(Z)),C=8+f.length;
C+=C&1;var H=8+U.length;H+=H&1;var t=new Uint8Array(C+H);c.Eu(t,0,"EXIF");c.rq(t,4,f.length);t.set(f,8);
c.Eu(t,C,"XMP ");c.rq(t,C+4,U.length);t.set(U,C+8);var X=new Uint8Array(F.length+t.length),A=h8.kM(F.buffer),h=A.sub;
X.set(F,0);X.set(t,F.length);c.rq(X,4,c.je(X,4)+t.length);F=X;var Q=h8.kM(F.buffer)}return F.buffer}var D=c.qe,L=c.GA,E=new jY;
D(E,_,"RIFF    WEBPVP8X");_+=16;L(E,_,10);_+=4;L(E,_,18);_+=4;L(E,_,M-1);_+=3;L(E,_,O-1);_+=3;D(E,_,"ANIM");
_+=4;L(E,_,6);_+=4;E.Qv(_,4);E.data[_+3]=255;c.Fb(E,_+4,P.rept);_+=6;var S=[];for(var R=0;R<s.length;
R++){S.push(s[R][0])}var W=UPNG.encode.compress(S,M,O,y==1?0:Math.max(2,Math.floor(y*500)),[!1,!0,!0,0,!0]).frames;
function g(A,p,I,w){var q=A.p-8,d=A.size+8;I.Qv(w,d);for(var R=0;R<d;R++)I.data[w+R]=p[q+R];return w+d}for(var R=0;
R<s.length;R++){D(E,_,"ANMF");_+=4;var x=_,q=0,d=0;_+=4;var V=W[R],b=V.rect,N=[b.x>>>1,b.y>>>1,b.width-1,b.height-1,s[R][1]];
for(var J=0;J<5;J++)L(E,_+3*J,N[J]);_+=15;E.Qv(_,1);E.data[_]=1-V.blend<<1|V.dispose;_++;var K=new Uint8Array(b_.hI(V.img.buffer,b.width,b.height,"webp",1)),h=h8.kM(K.buffer).sub,l={};
for(var T=0;T<h.length;T++)l[h[T].Xh]=h[T];if(l.VP8L)_=g(l.VP8L,K,E,_);else throw"e";var B=_-x-4;L(E,x,B);
if((B&1)==1){E.Qv(_,1);_++}}L(E,4,_-8);return E.data.slice(0,_).buffer};(function(){var s=b_.gy.get("wasm/webp").buffer;
WebAssembly.instantiate(s).then(function(M){var O=M.instance.exports;b_.l0.exp=O})}());b_.l0.AR=function(s){var M=new Uint8Array(s),O=b_.l0.amH,P=null,y=h8.kM(s).sub,F={},A=null;
for(var R=0;R<y.length;R++)F[y[R].Xh]=y[R];if(F.EXIF){var h=F.EXIF,m=h.p,Z=m+h.size;if(M[h.p]==69)m+=6;
var u=s.slice(m,Z),h=UTIF.decode(u)[0];console.log(h);if(h)A=jW.hM(h);console.log(A)}var h=F["XMP\0"];
if(h==null)h=F["XMP "];if(h){var u=new Uint8Array(s,h.p,h.size);if(A==null)A={};A=jW.P5(c.xJ(u),A)}var f=F.ANIM,U=F.VP8L,C=F["VP8 "],H=F.VP8X;
if(f==null){var t,X;if(C){t=c.vJ(M,C.p+6);X=c.vJ(M,C.p+8)}else if(U){var Q=c.je(M,U.p+1);t=(Q&(1<<14)-1)+1;
X=(Q>>>14&(1<<14)-1)+1}else throw"e";var D=O(P,s,{p:0,size:M.length},t,X);D.j0=A;return[D]}var L=H.p,t=1+(c.je(M,L+4)&16777215),X=1+(c.je(M,L+7)&16777215),E=[],_=new gi(0,0,t,X),S=a.j(t*X*4);
for(var R=0;R<y.length;R++){var W=y[R];if(W.Xh!="ANMF")continue;var g=[];for(var x=0;x<5;x++)g.push(c.je(M,W.p+x*3)&16777215);
var V=new gi(g[0]*2,g[1]*2,g[2]+1,g[3]+1),b=g[4],N=O(P,s,{p:W.p+16,size:W.size-16},t,X),J=new Uint8Array(N.data),K=M[W.p+15];
if(K>>>1==0)a.B.qZ("norm",J,V,S,_,V,1);else a.FP(J,V,S,_);E.push({GF:"_a_"+E.length+","+b,IK:_.v(),data:S.buffer.slice(0)});
if((K&1)==1){J.fill(0);a.FP(J,V,S,_)}}return E};b_.l0.amH=function(s,M,O,P,y){var F=b_.l0.exp,A=F.memory,h=5e6+2*O.size+P*y*10;
b_.YE(F,h);var m=new Uint8Array(A.buffer),Z=F.malloc(O.size);m.set(new Uint8Array(M,O.p,O.size),Z);var u=F.malloc(8),f=F.WebPDecodeARGB(Z,O.size,u,u+4),U=c.je(m,u),C=c.je(m,u+4),H=U*C*4,t=a.j(H);
for(var R=0;R<H;R+=4){t[R]=m[f+R+1];t[R+1]=m[f+R+2];t[R+2]=m[f+R+3];t[R+3]=m[f+R]}F.WebPFree(f);F.free(u);
F.free(Z);return{IK:new gi(0,0,U,C),data:t.buffer}};b_.aGV=function(){function s(h,m,Z,u){var f=new Uint8Array(h[0][0]),U=new Uint32Array(f.buffer),C=[],H={},X=24,Q=0,S=0;
for(var R=0;R<U.length;R++){var t=U[R]&16777215;if(H[t]==null){H[t]=C.length;C.push(t);if(C.length>256){C=null;
break}}}if(u&&u.nplt)C=null;if(C){X=1;while(1<<X<C.length)X*=2;if(X==2)X=4}var D={V5:m,fw:Z,IS:1,Fz:X,eL:0,a8_:Q},L=4*Math.floor((D.Fz*D.V5+31)/32);
D.size=L*D.fw+2;var E=new jY,_=C?(1<<X)*4:0;c.qe(E,S,"BM");S+=2;c.GA(E,S,L*Z+16+40+_);S+=4;c.GA(E,S,0);
S+=4;c.GA(E,S,54+_);S+=4;E.Qv(S,40);c.GA(E,S,40);S+=4;A(E.data,S,D,L);S+=36;if(C){E.Qv(S,_);var W=E.data;
for(var R=0;R<C.length;R++){var g=S+R*4,x=C[R]>>>16,V=C[R]>>>8&255,b=C[R]&255;W[g]=x;W[g+1]=V;W[g+2]=b}S+=_}E.Qv(S,L*Z);
if(X==24)for(var N=0;N<Z;N++){var J=S+(Z-1-N)*L;for(var K=0;K<m;K++){var q=(N*m+K)*4;E.data[J+K*3+2]=f[q];
E.data[J+K*3+1]=f[q+1];E.data[J+K*3+0]=f[q+2]}}else if(X==8)for(var N=0;N<Z;N++){var J=S+(Z-1-N)*L;for(var K=0;
K<m;K++){var q=N*m+K,d=H[U[q]&16777215];E.data[J+K]|=d}}else if(X==4)for(var N=0;N<Z;N++){var J=S+(Z-1-N)*L;
for(var K=0;K<m;K++){var q=N*m+K,d=H[U[q]&16777215];E.data[J+(K>>>1)]|=d<<4-(K&1)*4}}else if(X==1)for(var N=0;
N<Z;N++){var J=S+(Z-1-N)*L;for(var K=0;K<m;K++){var q=N*m+K,d=H[U[q]&16777215];E.data[J+(K>>>3)]|=d<<7-(K&7)}}S+=L*Z+2;
return E.data.slice(0,S).buffer}function M(h){h=new Uint8Array(h);if(c.je(h,0)==40)return[O(h.buffer,0)];
var m=0,Z=c.Db(h,m,2);m+=2;if(Z!="BM"){alert("Unsupported BMP format: "+Z);return}var u=c.je(h,m);m+=4;
m+=4;var f=c.je(h,m);m+=4;return[O(h.buffer,m,f)]}function O(h,m,Z){h=new Uint8Array(h);var u=c.je(h,m),f=F(h,m+4);
if(f.IS!=1)alert("unsupported number of color planes: "+f.IS);if(f.eL!=0&&f.eL!=1&&f.eL!=2&&f.eL!=3&&f.eL!=861165636){alert("Unsupported BMP compression: "+f.eL);
return}m+=u;var U=m,C=h;if(Z==null)Z=m;if(f.eL==1||f.eL==2){var H=y(h,Z,f);f.Fz=8;h=H;Z=0}var t=4*Math.floor((f.Fz*f.V5+31)/32),X=f.V5,Q=Math.abs(f.fw),D=new Uint8Array(X*Q*4);
D.fill(255);if(f.Fz==32)for(var L=0;L<Q;L++){var E=Z+(Q-1-L)*t;for(var _=0;_<X;_++){var S=(L*X+_)*4;
D[S]=h[E+_*4+2];D[S+1]=h[E+_*4+1];D[S+2]=h[E+_*4+0];D[S+3]=h[E+_*4+3]}}else if(f.Fz==24)for(var L=0;
L<Q;L++){var E=Z+(Q-1-L)*t;for(var _=0;_<X;_++){var S=(L*X+_)*4;D[S]=h[E+_*3+2];D[S+1]=h[E+_*3+1];D[S+2]=h[E+_*3+0]}}else if(f.Fz==16){if(f.eL==861165636)UTEX.readBC2(h,Z,D,X,Q);
else for(var L=0;L<Q;L++){var E=Z+(Q-1-L)*t;for(var _=0;_<X;_++){var S=(L*X+_)*4,W=h[E+_*2+1]<<8|h[E+_*2];
if(Z==m){D[S]=(W>>>10&31)*(255/31);D[S+1]=(W>>>5&31)*(255/31);D[S+2]=(W&31)*(255/31)}else{D[S]=(W>>>11)*(255/31);
D[S+1]=(W>>>5&63)*(255/63);D[S+2]=(W&31)*(255/31)}}}}else if(f.Fz==8)for(var L=0;L<Q;L++){var E=Z+(Q-1-L)*t;
for(var _=0;_<X;_++){var S=(L*X+_)*4,g=h[E+_];D[S]=C[U+4*g+2];D[S+1]=C[U+4*g+1];D[S+2]=C[U+4*g+0]}}else if(f.Fz==4)for(var L=0;
L<Q;L++){var E=Z+(Q-1-L)*t;for(var _=0;_<X;_++){var S=(L*X+_)*4,g=h[E+(_>>1)];g=g>>4-4*(_&1);g=g&15;
D[S]=C[U+4*g+2];D[S+1]=C[U+4*g+1];D[S+2]=C[U+4*g+0]}}else if(f.Fz==1)for(var L=0;L<Q;L++){var E=Z+(Q-1-L)*t;
for(var _=0;_<X;_++){var S=(L*X+_)*4,x=h[E+(_>>3)];x=x>>7-(_&7);x=x&1;D[S]=C[U+4*x+2];D[S+1]=C[U+4*x+1];
D[S+2]=C[U+4*x+0]}}else throw"Unknown bit depth "+f.Fz;if(f.fw<0){var V=new Uint32Array(D.buffer),b=Q>>>1;
for(var L=0;L<b;L++){var N=L*X,J=(Q-L-1)*X;for(var _=0;_<X;_++){var K=V[N+_];V[N+_]=V[J+_];V[J+_]=K}}}return{IK:new gi(0,0,X,Q),data:D.buffer}}function P(h,R){return h>>>4-((R&1)<<2)&15}function y(h,m,Z){var u=Z.V5,f=Math.abs(Z.fw),U=new Uint8Array(u*f),C=0,H=0,R=0;
while(H<f){var t=h[m++],X=h[m++],Q=H*u+C;if(t>0){if(Z.Fz==4)for(R=0;R<t;R++){U[Q+R]=P(X,R)}else for(R=0;
R<t;R++){U[Q+R]=X}C+=t}else if(t==0&&X==0){H++;C=0}else if(t==0&&X==1){break}else if(t==0&&X==2){C+=h[m++];
H+=h[m++]}else{var D=X;if(Z.Fz==4){for(R=0;R<X;R++){U[Q+R]=P(h[m+(R>>>1)],R)}D=Math.ceil(X/2)}else{for(R=0;
R<X;R++){U[Q+R]=h[m+R]}}if((D&1)!=0)D++;m+=D;C+=X}}return U}function F(h,m){var Z=c.KF,u=c.je,f=c.vJ,U={};
U.V5=Z(h,m);m+=4;U.fw=Z(h,m);m+=4;U.IS=f(h,m);m+=2;U.Fz=f(h,m);m+=2;U.eL=u(h,m);m+=4;U.size=u(h,m);m+=4;
var C=Z(h,m);m+=4;var H=Z(h,m);m+=4;U.a8_=u(h,m);m+=4;m+=4;return U}function A(h,m,Z,u){c.rq(h,m,Z.V5);
m+=4;c.rq(h,m,Z.fw);m+=4;c.S1(h,m,Z.IS);m+=2;c.S1(h,m,Z.Fz);m+=2;c.rq(h,m,Z.eL);m+=4;c.rq(h,m,Z.size);
m+=4;c.rq(h,m,2834);m+=4;c.rq(h,m,2834);m+=4;c.rq(h,m,Z.a8_);m+=4;m+=4}return{AR:M,u6:s,al1:O}}();b_.qa={};
b_.qa.u6=function(s,M,O,P){if(P==null)P={qual:100,dthr:!1};var y=[],F=[],A=M*O*4,t=null;for(var h=0;
h<s.length;h++){var m=new Uint8Array(s[h][0].slice(0));for(var R=0;R<A;R+=4){var Z=m[R+3]=m[R+3]>127?255:0;
if(Z==0)m[R]=m[R+1]=m[R+2]=0}y.push(m.buffer);F.push(s[h][1])}var u=Math.round(2+254*P.qual/100),f=UPNG.encode.compress(y,M,O,u,[!0,!1,!1,8,!1,P.dthr]),U=f.plte,C=new Uint8Array(4),H=new Uint32Array(C.buffer);
for(var R=0;R<U.length;R++){H[0]=U[R];var X=C[0];C[0]=C[2];C[2]=X;U[R]=H[0];if(H[0]==0&&t==null)t=R}while(U.length<256)U.push(0);
var Q=new Uint8Array(2e4+Math.round(1.5*M*O*s.length)),D=P.rept,L={palette:U};if(D!=1)L.loop=D==0?0:D-1;
var E=new GifWriter(Q,M,O,L);for(var R=0;R<s.length;R++){var _=f.frames[R],S=_.rect,W=_.blend,g=_.dispose,x=Math.round(F[R]/10);
if(x<2)x=2;E.addFrame(S.x,S.y,S.width,S.height,_.img,{transparent:t,disposal:g+1,delay:x})}return Q.slice(0,E.end()).buffer};
b_.qa.AR=function(s){var M=Date.now(),O=[],P=UGIF.decode(s),y=UGIF.toRGBA8(P),F=new gi(0,0,P.width,P.height);
for(var R=0;R<y.length;R++){var A=P.frames[R];O.push({IK:F.v(),GF:"_a_frm"+R+","+A.delay*10,data:y[R]})}return O};
b_.zs={};b_.zs.u6=function(s,M,O,P){if(M>256||O>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var y=Math.min(M,256),F=Math.min(O,256),A=new gi(0,0,y,F),h=a.j(A.C()*4),m=new gi(0,0,M,O),Z=new Uint8Array(s[0][0]);
a.FP(Z,m,h,A);s[0][0]=h.buffer;M=y;O=F}var u=new Uint8Array(s[0][0]).slice(0),U=0;u[3]=Math.min(u[3],254);
var f=new jY,C=P&&P[0]==!0;c.Fb(f,U,0);U+=2;c.Fb(f,U,C?2:1);U+=2;c.Fb(f,U,1);U+=2;var H=new Uint8Array(UPNG.encode([u.buffer],M,O,null,null,null,!0));
f.Qv(U,16);f.data[U]=M==256?0:M;U++;f.data[U]=O==256?0:O;U++;U+=2;c.Fb(f,U,C?Math.round(M/2):1);U+=2;
c.Fb(f,U,C?Math.round(O/2):32);U+=2;c.GA(f,U,H.length);U+=4;c.GA(f,U,6+16);U+=4;f.Qv(U,H.length);f.data.set(H,U);
U+=H.length;return f.data.slice(0,U).buffer};b_.zs.AR=function(s){s=new Uint8Array(s);var M=4,O=c.vJ(s,M);
M+=2;var P=[];for(var R=0;R<O;R++){var y=b_.zs.al9(s,M+R*16),F=s.buffer.slice(y.offset,y.offset+y.size),A=b_.WG(F);
A=A?A:"bmp";if(A=="png"){var h=b_.O7(A),m=h.AR(F);y.d1=m[0]}else{var Z=b_.O7("BMP").al1(F,0),F=a.j(y.V5*y.fw*4);
a.FP(new Uint8Array(Z.data),new gi(0,0,Z.IK.A,Z.IK.$),F,new gi(0,y.fw,y.V5,y.fw));Z.data=F.buffer;Z.IK.$=y.fw;
y.d1=Z}P.push(y)}P.sort(function(u,f){if(u.V5!=f.V5)return u.V5-f.V5;return u.au5-f.au5});return[P.pop().d1]};
b_.zs.al9=function(s,M){var O={};O.V5=s[M];M++;if(O.V5==0)O.V5=256;O.fw=s[M];M++;if(O.fw==0)O.fw=256;
O.aeq=s[M];M++;M++;O.a0G=c.vJ(s,M);M+=2;O.au5=c.vJ(s,M);M+=2;O.size=c.je(s,M);M+=4;O.offset=c.je(s,M);
M+=4;return O};b_.RW={};b_.RW.aKY=function(s){var M,O="dng";if(s[0].t33421)M=s[0];else if(s[0].subIFD&&s[0].t271&&s[0].t271[0]=="Hasselblad"){O="fff";
M=s[0].subIFD[0];M.t33421=[2,2]}else if(s[0].subIFD&&s[0].subIFD[0].t33421){M=s[0].subIFD[0];if(M.t50706==null){if(M.t258[0]==8)M.t258[0]=12}O=M.t50713||M.t50717?"dng":"arw"}else if(s[0].subIFD&&s[0].subIFD[0]&&s[0].subIFD[0].t262&&s[0].subIFD[0].t262[0]==34892)M=s[0].subIFD[0];
else if(s[0].t50706)M=s[0];else if(s[0].subIFD&&s[0].subIFD[1]&&s[0].subIFD[1].t33421){O="nef";M=s[0].subIFD[1]}else if(s[0].subIFD&&s[0].subIFD[2]&&s[0].subIFD[2].t33421){O="nef";
M=s[0].subIFD[2]}else if(s[3]&&s[3].t50648){O="cr2";var P=s[0].exifIFD,y=P.makerNote;M=s[3];var F=y.t224[1],A=y.t224[2];
M.t256=[F];M.t257=[A];M.t258=[16];M.t259=[7];M.t262=[32803];M.t277=[1];M.t33421=[2,2];var h=M.t50656[0],m=a.raw.Ok[h];
if(m==null)throw"e";M.t33422=m}else if(s[0].t1&&s[0].t1.length==4){O="rw2";var Z=s[0],u={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},f=Z.t280==null;
M={};for(var U in u)if(Z["t"+U])M["t"+u[U]]=Z["t"+U];M.t2=Z.t2;M.t3=Z.t3;M.t10=Z.t10;M.t45=Z.t45;M.t258=[16];
M.t33421=[2,2];var C=Z.t9[0];if(f)C=2;M.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][C-1];var H=Z.t4[0],t=Z.t5[0],X=Z.t6[0],Q=Z.t7[0];
M.t50829=[H,t,X,Q];var D=Z.t36[0],L=Z.t37[0],E=Z.t38[0];M.t50728=[L/D,L/L,L/E]}else if(s[0].t258&&s[0].t258[0]>=12&&s[0].t258.length==1&&s[0].t271&&(s[0].t271[0].startsWith("OLYMPUS")||s[0].t271[0].startsWith("OM Digital Solutions"))){O="orf";
M=s[0];M.t33421=[2,2]}return[M,M?O:null]};b_.RW.AR=function(s){var M=Date.now();if(a.raw.dG(s.byteLength))return[a.raw.ayY(s)];
var O=UTIF.decode(s);console.log(O.slice(0));console.log(O[0]);var P=b_.RW.aKY(O),y=P[0];if(y){UTIF.decodeImage(s,y,O);
for(var F in O[0])if((F[0]=="t"||F[0]=="e"||F[0]=="d")&&y[F]==null)y[F]=O[0][F];y.Ox=O[0].t274?O[0].t274[0]:1;
return[y]}var A=[];for(var R=0;R<O.length;R++){var h=O[R],m=null,t=72,S,W=8;UTIF.decodeImage(s,h,O);
if(h.width==null)continue;if(h.t258&&h.t258[0]==16&&h.t277&&h.t277[0]==1){var Z=0,u=0,f=0,U=h.data;for(var C=0;
C<U.length;C+=2){var H=U[C+1]<<8|U[C];if(H>Z)Z=H;u+=H;f++}m=1/256*65535/(.5*Z+.5*(2*u/f))}var X=h.t282,Q=h.t296,D=jW.hM(h),L=h.t258,E=h.width,_=h.height;
if(X!=null&&Q!=null){t=X[0][0]/X[0][1];if(Q[0]==3)t=Math.round(t/2.54)}if(aP&&L[0]==16){S=b_.aoG(h.data.buffer,E,_);
W=16}else S=UTIF.toRGBA8(h,m).buffer;A.push({IK:new gi(0,0,E,_),data:S,FR:t,j0:D,Uh:h.t34675?h.t34675.slice(0):null,depth:W})}return A};
b_.RW.u6=function(s,M,O,P){if(P==null)P={mtdt:!0};var y={},F=s[0].slice(0),A=new Uint8Array(F[0]);if(!a.vI(A)&&F[4]&&F[4][0]){A=A.slice(0);
a.GS(F[4][0],A,3)}if(F[3]!=null&&P.mtdt)y=jW.MG(F[3]);if(F[2]!=null){y.t282=y.t283=[[Math.round(F[2]),1]];
y.t296=[2]}return UTIF.encodeImage(A.buffer,M,O,y)};b_.xk={};b_.xk.uQ=!0;b_.xk.AR=function(s,M){var O=c.Ah(new Uint8Array(s),"Alpha 1"),P=UTIF.decode(s),y=P[0],C=0;
console.log(P);var F=M.A=y.t256[0],A=M.$=y.t257[0],h=F*A;M.buffer=a.j(h*4);M.mL=!1;M.VS=y.t258[0];M.Vr=3;
var m=y.t34377;if(m){var Z=new Uint8Array(m.length+4);Z.set(m,4);c.FE(Z,0,m.length);eQ.aa9(M,Z,0);eQ.a3_(M)}var u=y.t37724.slice(36),f=c.Db(u,0,4)=="MIB8";
bG.rK(u,0,u.length,M.add,!1,M,f);var U=f?c.je:c.h4;while(C<u.length){var H=c.Q$(u,C,f);C+=4;var t=c.Q$(u,C,f);
C+=4;var X=U(u,C);C+=4;if(t=="Layr"){jv.hZ(M,u,C,f);for(var R=0;R<M.U.length;R++){var Q=M.U[R];if(Q.add.vstk)Q.uH(M)}}C+=X;
if((X&3)!=0)C+=4-(X&3)}var D=y.t277[0],L=new Uint8Array(s,y.t273[0]);for(var R=3;R<D;R++){var E=a.j(h);
for(var _=0;_<h;_++)E[_]=L[_*D+R];var S=new ad.OL;M.dj.push(S);S.name=M.Z0?M.Z0[R-3]:"Alpha";S.N=E;S.S=new gi(0,0,F,A)}};
b_.a5r={};b_.a5r.AR=function(s){s=new Uint8Array(s);var M=8,O,P=0;while(M<s.length){var y=c.Db(s,M,4),F=c.h4(s,M+4);
if(y.startsWith("ic")){var A=s.slice(M+8,M+F),h=b_.WG(A.buffer),m=b_.O7(h),Z=m.AR(A.buffer),u=Z[0].IK.C();
if(u>P){P=u;O=Z}}M+=F}return O};b_.yP={};b_.yP.uQ=!0;b_.yP.AR=function(s,M){jv.kM(s,M)};b_.yP.aID=function(s,M,O,P){s.rA(!0);
if(P==null)P=[!1,!1,!1,!1,!1];if(!P[0])s.Ta();var y=new jY,F=jv.$a(s,y,P);return[y.data.buffer,F]};b_.yP.u6=function(s,M,O,P){var y=b_.yP.aID(s,M,O,P),F=y[0],A=y[1];
return F.byteLength==A?F:F.slice(0,A)};b_.Ws={};b_.Ws.uQ=!0;b_.Ws.AR=function(s,M){var O=pako.inflate(new Uint8Array(s)),P=c.m4(O,0),y=c.m4(O,2),F=4;
M.A=c.h4(O,F);F+=4;M.$=c.h4(O,F);F+=4;M.buffer=a.j(M.A*M.$*4);var A=c.m4(O,F);F+=2;F+=4;for(var h=0;
h<A;h++){var m=M.Tk(),H=0,d=1,l=2,T=3,B=0;M.U.push(m);var Z=c.h4(O,F);F+=4;var u=F,f=c.m4(O,u);u+=2;
var U=c.xJ(O,u,f);u+=f;m.jj(U);var C=O[u];u++;if(C!=0&&C!=1)throw C;m.S.x=c.VU(O,u);u+=4;m.S.y=c.VU(O,u);
u+=4;m.S.A=c.h4(O,u);u+=4;m.S.$=c.h4(O,u);u+=4;if(P>3){H=c.VU(O,u);u+=4}m.N_=Math.round(255*O[u]/100);
u++;var t=O[u];u++;m.x1(t!=0);m.mX="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[O[u]];
u++;var X=O[u];u++;if(X)m.add.lspf=1<<31;if(P>3){var Q=c.m4(O,u);u+=2;if(Q!=0){var D=JSON.parse(c.xJ(O,u,Q));
u+=Q;var L=D.text,E=D.textSettings,_=E.font,S=E.size,W=E.padding,g=parseInt(E.color.slice(1),16);m.add.lnsr="rend";
m.add.TySh=iP.cN(0,0);m.add.TySh.WY=new gi(0,0,100,100);var x=m.add.TySh.M=new kp,V=m.S.A/2,b=m.S.$/2;
x.translate(-V,-b);x.rotate(-H*Math.PI/180);x.translate(V,b);x.translate(m.S.x+W,m.S.y+W);var N=m.add.TySh.nA;
iP.hV(N,1);iP.w9(N,[0,0,m.S.A-W*2,m.S.$]);iP.Xq(N,0,L);var J=iP.ty(N,0,1);J.TY.FontSize=S;J.TY.FillColor={Type:1,Values:[1,(g>>>16&255)/255,(g>>>8&255)/255,(g>>>0&255)/255]};
if(E.bold)_+="-Bold";iP.Z2(J,_);J.Gy.Justification=["left","right","center"].indexOf(E.align);iP.UP(N,0,L.length,J)}}var K=c.h4(O,u);
u+=4;if(K!=m.S.C()*4){for(var R=m.S.A;R>m.S.A/2;R--){var q=K/(R*4);if(q==Math.round(q)){m.S.A=R;m.S.$=q;
break}}}m.buffer=a.j(m.S.C()*4);if(P>3){d=0;l=1;T=2;B=3}for(var R=0;R<K;R+=4){m.buffer[R]=O[u+R+d];m.buffer[R+1]=O[u+R+l];
m.buffer[R+2]=O[u+R+T];m.buffer[R+3]=O[u+R+B]}u+=K;var p=c.h4(O,u);u+=4;if(p==0&&P>3){F+=Z;continue}var I=O[u];
u++;var w=c.m4(O,u);u+=2;if(p!=0){m.$E=new ad.OL;m.$E.S=m.S.v();m.$E.N=a.j(m.S.C());for(var R=0;R<p;
R+=4)m.$E.N[R>>>2]=O[u+R+1];u+=p}if(I!=0){var e=JSON.parse(aV.default);m.add.lmfx=e;for(var R=0;R<aV.order.length;
R++)e[aV.e1[R]]={t:"VlLs",v:[]};var G={"102":9,"101":2,"103":0,"104":3,"105":8};for(var R=0;R<I;R++){var j=c.m4(O,u),r=u+j+4,k=O.slice(u,r),a7=O[u+2];
u+=3;var Y=G[a7+""],v=JSON.parse(aV.d$[Y]);e[aV.e1[Y]].v.push({t:"Objc",v:v});if(Y!=0){v.Md.v.BlnM=h0.Qz("norm");
v.Opct.v.val=O[u];u++;if(Y==9||Y==2){v.Dstn.v.val=O[u+1];u+=2}else u+=2;v.blur.v.val=Math.round(O[u]*1.2);
u++;if(Y==9||Y==2){v.uglg.v=!1;v.lagl.v.val=180-c.m4(O,u);u+=2}v.Clr.v=a.wv.gN({o:O[u+1],R:O[u+2],X:O[u+3]})}else{v.hglM.v.BlnM=v.sdwM.v.BlnM=h0.Qz("norm");
u+=2;var n=O[u++],cm=O[u++];v.blur.v.val=Math.round(Math.sqrt(cm*n)*1.3);v.srgR.v.val=Math.round(100*n/cm);
v.uglg.v=!1;v.lagl.v.val=180-c.m4(O,u);u+=2;v.hglO.v.val=O[u++];v.hglC.v=a.wv.gN({o:O[u+1],R:O[u+2],X:O[u+3]});
u+=4;v.sdwO.v.val=O[u++];v.sdwC.v=a.wv.gN({o:O[u+1],R:O[u+2],X:O[u+3]});u+=4}u=r}}if(u-F<Z){var a5=c.h4(O,u),a9=0;
u+=4;u++;var f=c.m4(O,u);u+=2;var L=c.xJ(O,u,f);u+=f;L=L.replace(/\r/g,"\n");var f=c.m4(O,u);u+=2;var _=c.xJ(O,u,f);
u+=f;var S=c.m4(O,u);u+=2;var gP=m.S.x,cg=m.S.A;if(a5&4)a9=1;if(a5&2)a9=2;var ew=Math.round(S*.4);if(a9==0||a9==2)cg+=ew;
if(a9==1||a9==2){cg+=ew;gP-=ew}m.add.lnsr="rend";m.add.TySh=iP.cN(0,0);m.add.TySh.WY=new gi(0,0,100,100);
m.add.TySh.M=new kp(1,0,0,1,gP,m.S.y+S*.25);var N=m.add.TySh.nA;iP.hV(N,1);iP.w9(N,[0,0,cg,m.S.$]);iP.Xq(N,0,L);
var J=iP.ty(N,0,1);J.TY.FontSize=S;J.TY.FillColor={Type:1,Values:[1,O[u+1]/255,O[u+2]/255,O[u+3]/255]};
u+=4;if(O[u+5])_+="-Bold";if(O[u+6])_+="-Italic";iP.Z2(J,_);J.Gy.Justification=a9;u+=8;iP.UP(N,0,L.length,J)}F+=Z}};
b_.A$={};b_.A$.uQ=!0;b_.A$.AR=function(s,M){var O=UZIP.parse(s),P=JSON.parse(c.xJ(O["manifest.json"].buffer));
M.A=P.width;M.$=P.height;M.buffer=a.j(M.A*M.$*4);M.name=P.name+".psd";var y=P.stack;for(var F=0;F<y.length;
F++){var A=y[F],h=A.type,m=A.rect,Z=A.format,u=Z?Z.fill:null,f=M.Tk();f.jj(A.name);f.x1(A.visible);f.N_=Math.round(255*A.opacity);
var U=f.S=new gi(m.x,m.y,m.w,m.h),C=m.r;if(C==null)C=0;M.U.push(f);if(h=="image"&&C!=0||h=="shape"&&Z.variant=="svg"){var H=M.N4(O[A.content],f.getName(),0,0);
H.Xa=f.Xa;H.N_=f.N_;f=H;M.U.pop();M.U.push(f);var t=a.b.hC(U).L;a.b.M(t,b_.A$.Hb(U,C),t);f.add.SoLd.Trnf=$.TR.kZ(t);
f.add.SoLd.nonAffineTransform=$.TR.kZ(t);f.VN(M,!1)}else if(h=="image"){if(U.C()!=0){var X=O[A.content].buffer,Q=b_.WG(X),D=b_.O7(Q),L=D.AR(X)[0];
U.A=L.IK.A;U.$=L.IK.$;f.buffer=new Uint8Array(L.data)}}else if(h=="shape"){f.Xa|=16;var E=f.add.vstk=aV.To.Jb(!0),_=f.add.vmsk=new ad.Vp,S,W=Z.variant;
if(W=="rectangle"||W=="rounded"){S=a.z.uU.Rect(U.x,U.y,U.A,U.$,Z.radii)}else if(W=="ellipse"){S=a.z.uU.Y9(U.x,U.y,U.A,U.$)}else if(W=="path"){var g=Typr.U.SVGToPath(A.content),x={J8:g.cmds,L:g.crds};
S=a.b.Ie(x);var V=a.z._E(S);a.z.R7(S,new kp(U.A/V.A,0,0,U.$/V.$,U.x,U.y))}else if(W=="line"){var x={J8:["M","L"],L:[U.x,U.y,U.x+U.A,U.y]};
S=a.b.Ie(x)}else console.log(Z);f.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:0,R:0,X:0})}};
if(u==null){E.fillEnabled.v=!1}else if(u.type=="color"){f.add.SoCo.Clr.v=a.wv.gN(CSS.K7(u.value))}else if(u.type=="gradient"){delete f.add.SoCo;
f.add.GdFl=b_.A$.R_(u,C)}else console.log(u);var N=b_.A$.Hb(U,C);a.z.R7(S,N);var J=A.style;if(J&&J.outline){var K=J.outline;
E.strokeEnabled.v=!0;E.strokeStyleLineWidth.v.val=K.size;E.strokeStyleContent.v.Clr.v=a.wv.gN(CSS.K7(K.color))}_.u=S;
f.$k();f.uH(M)}else if(h=="text"){f.add.lnsr="rend";f.add.TySh=iP.cN(0,0);f.add.TySh.WY=new gi(0,0,100,100);
var q=f.add.TySh.nA;iP.hV(q,1);iP.w9(q,[0,0,U.A,U.$]);var d=A.content;iP.Xq(q,0,d);var l=iP.ty(q,0,Math.min(d.length,1)),T=Z.font.name,B=Z.font.content;
if(B&&O[B]){var p=O[B];if(p instanceof Uint8Array)p=O[B]=Typr.parse(p.buffer)[0];T=p.name.postScriptName}iP.Z2(l,T);
var I=l.TY.FontSize=Math.round(Z.size);if(u&&u.value){var w=null;if(u.type=="color")w=u.value;else if(u.type=="gradient")w=u.value.stops[0].color;
if(w){var e=CSS.K7(w);l.TY.FillColor={Type:1,Values:[1,e.o/255,e.R/255,e.X/255]}}}var G=Z.linespace;
if(G){l.TY.AutoLeading=!1;l.TY.Leading=Math.round(I*(1.06+parseFloat(G)));console.log(G,l.TY)}l.TY.FauxBold=Z.bold;
l.Gy.Justification=["left","right","center","justify"].indexOf(Z.align);iP.UP(q,0,d.length,l);var j=new kp,o=U.A/2,r=U.$/2;
j.translate(Math.round(I*0),Math.round(I*.25));j.translate(-o,-r);j.rotate(-C*Math.PI/180);j.translate(o,r);
j.translate(U.x,U.y);f.add.TySh.M=j;f.S=new gi}else console.log(A)}M.Jf=!0};b_.A$.Hb=function(s,M){var O=s.x+s.A/2,P=s.y+s.$/2,y=new kp;
y.translate(-O,-P);y.rotate(-M*Math.PI/180);y.translate(O,P);return y};b_.A$.R_=function(s,M){var O=JSON.parse(aV.d$[aV.order.indexOf("GrFl")]),P=O.Grad.v;
P.Intr.v=0;var y=[],F=s.value.stops;for(var R=0;R<F.length;R++){var A=F[R],h=CSS.K7(A.color);y.push([A.position,[h.o/255,h.R/255,h.X/255]])}a.wv.mv(y,P);
O.Angl.v.val=-(s.value.direction+M)+90+180;return O};b_.cl={};b_.cl.uQ=!0;b_.cl.AR=function(s,M){gY.kM(s,M)};
var gY=function(){function s(f,U){var C=Date.now(),H=UZIP.parse(f),t=H["maindoc.xml"],X=new DOMParser,Q=X.parseFromString(c.xJ(t),"image/svg+xml").children[0].children[0],D=Q.getAttribute("name"),L=U.A=Z(Q,"width"),E=U.$=Z(Q,"height");
U.FR=Math.round(Z(Q,"x-res"));var _=Q.children[0].children;M(_,U,{fr:D,bb:H,xs:null});console.log(Date.now()-C);
C=Date.now()}function M(f,U,C){for(var H=0;H<f.length;H++){var t=f[f.length-1-H],X=t.getAttribute("nodetype");
if(X=="transparencymask"){C.xs.$E=u(t,C);continue}var Q=t.getAttribute("compositeop"),D=t.getAttribute("filename"),L=t.getAttribute("channelflags"),E=t.children;
E=E.length==0?null:E[0].children;var _=U.Tk();if(X=="paintlayer"){var S=Z(t,"x"),W=Z(t,"y"),g=C.bb[C.fr+"/layers/"+D+".defaultpixel"],x=C.bb[C.fr+"/layers/"+D],V=m(x);
_.S=V[0];_.S.offset(S,W);_.buffer=V[1];if(_.S.g3()&&g.join()!="0,0,0,0"){_.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:g[0],R:g[1],X:g[2]})}};
_.uH(U)}}else if(X=="grouplayer"){_.add.lsct=dU.l9;_.mX="pass";_.Xa|=24;U.U.push(U.kA());var b=C.xs;
C.xs=_;M(E,U,C);C.xs=b}else if(X=="shapelayer"){var x=C.bb[C.fr+"/layers/"+D+".shapelayer/content.svg"],N=c.xJ(x),J=U.N4(x,_.getName(),0,0);
_=J;var K=new gi(0,0,U.A,U.$),q=a.b.hC(K).L;_.add.SoLd.Trnf=$.TR.kZ(q);_.add.SoLd.nonAffineTransform=$.TR.kZ(q);
_.VN(U,!1)}else if(X=="clonelayer"){var R=-1;for(var l=0;l<f.length;l++)if(f[l].getAttribute("name")==t.getAttribute("clonefrom"))R=l;
if(R!=-1){M([f[R]],U,C);_=U.U.pop()}}else console.log(X,t);_.jj(t.getAttribute("name"));if(Z(t,"locked")==1)_.add.lspf=1<<31;
_.x1(Z(t,"visible")==1);var T={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[Q];if(T)_.mX=T;
else console.log(Q);_.N_=Z(t,"opacity");if(L=="1110")_.nN=!0;var B=E?E[0]:null;if(B&&B.tagName=="mask")_.$E=u(B,C);
U.U.push(_)}}function O(f,U){var C=0,H=0,t=f.length,X,Q,D;while(C<t){X=f[C++];if(X>31){Q=X>>>5;if(Q==7)Q=7+f[C++];
D=(X&31)<<8|f[C++];var L=H-D-1,E=Q>>>1;U[H++]=U[L++];U[H++]=U[L++];for(var R=0;R<E;R++){U[H++]=U[L++];
U[H++]=U[L++]}if((Q&1)==1)U[H++]=U[L++]}else{for(var R=0;R<=X;R++){U[H++]=f[C++]}}}}function P(f,U){var C=0;
while(f[U+C]!=10)C++;return c.Db(f,U,C)}var y=new gi(0,0,64,64),F=new Uint8Array(64*64*4),A=new Uint8Array(64*64*4);
function h(){for(var R=0;R<4096;R++){var f=R<<2;F[f+0]=A[R+8192];F[f+1]=A[R+4096];F[f+2]=A[R];F[f+3]=A[R+12288]}}function m(f){var U=0,C={};
for(var R=0;R<5;R++){var H=P(f,U);U+=H.length+1;H=H.split(" ");C[H[0]]=parseInt(H[1])}var t=C.PIXELSIZE,X=[],Q=new gi;
while(U<f.length){var H=P(f,U),D=H.split(",");U+=H.length+1;if(D[2]!="LZF")throw D[2];y.x=parseInt(D[0]);
y.y=parseInt(D[1]);Q=Q.v8(y);var L=parseInt(D[3]);X.push([y.v(),new Uint8Array(f.buffer,U+1,L-1)]);U+=L}var E=a.j(Q.C()*t);
for(var R=0;R<X.length;R++){var _=X[R];O(_[1],A);if(t==4){h();a.FP(F,_[0],E,Q)}else a.TT(A,_[0],E,Q)}return[Q,E]}function Z(f,U){return parseInt(f.getAttribute(U))}function u(f,U){var C=f.getAttribute("filename"),H=U.bb[U.fr+"/layers/"+C+".pixelselection"],t=m(H),X=new ad.OL;
X.ph=Z(f,"visible")==1;X.S=t[0];X.N=t[1];return X}return{kM:s}}();b_.$Q={};b_.$Q.uQ=!0;b_.$Q.AR=function(s,M){dI.kM(s,M)};
b_.i9={};b_.i9.AR=function(s){var M=new Uint8Array(s),O=b_.i9.vD(M,0,0),P=O.sub[2],y=b_.i9.ae3(M,P),F=O.sub[3],A=b_.i9.ae3(M,F);
return[y,A]};b_.i9.ae3=function(s,M){var O=M.sub[M.sub.length-1],P=O.sub[0].p,y=O.sub[1].p,F=s.slice(P,P+16),A=s.slice(y,y+O.sub[1].size),h=c.je,m=s[P],Z=h(s,P+1),u=h(s,P+5),f=s[P+13],U=new gi(0,0,Z,u),C=a.j(Z*u*4);
if(f){a.vK(C,4278190080)}else{UTEX.readBC1(s,y,C,Z,u)}return{IK:U,data:C}};b_.i9.vD=function(s,M,O){var P=c.Db,y=c.je,F=P(s,M,4);
F=F.split("").reverse().join("");var A=y(s,M+4);if(A!=0){console.log(s.slice(M-8));throw A}var h=y(s,M+8);
while((h&3)!=0)h++;var m={Xh:F,p:M+12,size:h};if(F=="CARF"||F=="CTEX"||F=="CREW"||F=="BMAP"){m.sub=[];
M+=12;if(F=="CTEX"||F=="CREW")M+=32;var Z=m.p+m.size;while(M<Z){var u=b_.i9.vD(s,M,O+1);m.sub.push(u);
M+=12+u.size+(u.size&1)}}return m};b_.e6={};b_.e6.uQ=!0;b_.e6.AR=function(s,M){ij.kM(s,M)};b_.rf={};
b_.rf.uQ=!0;b_.rf.AR=function(s,M){bo.kM(s,M)};b_.Y2={};b_.Y2.uQ=!0;b_.Y2.AR=function(s,M){hb.kM(s,M)};
b_.mN={};b_.mN.uQ=!0;b_.mN.AR=function(s,M){az.kM(s,M)};b_.yy={};b_.yy.uQ=!0;b_.yy.AR=function(s,M){eb.kM(s,M)};
b_.l$={};b_.l$.uQ=!0;b_.l$.u6=function(s,M,O,P,y,F){if(P==null)P={arst:!0,mini:!0};var A=k8.mK(s,{G5:P.arst,hidden:P.ahid,awT:P.vtxt,a2I:P.rtxt,r_:P.mini,a0A:M,agE:O},y.s4,F);
return A};b_.l$.AR=function(s,M,O){k8.kM(s,M,O)};b_.gO={};b_.gO.uQ=!0;b_.gO.AR=function(s,M){var O=150,P=new kp(1,0,0,-1,0,0);
P.scale(O/72,O/72);M.FR=O;var y=new ft(M,P,!0);FromPS.Parse(s,y)};b_.yb={};b_.yb.uQ=!0;b_.yb.u6=function(s,M,O,P,y){if(P==null)P={pags:"",qual:100};
P.fmts=["jpg"];var F=new ToPDF;km.mK(s,P,F,y.s4,M,O);return F.buffer};b_.yb.AR=function(s,M,O){var P=2;
while(!0){var y=P*72,F=new kp(1,0,0,-1,0,0);F.scale(y/72,y/72);M.FR=y;var A=new ft(M,F,!0);FromPDF.Parse(s,A);
var h=Math.max(M.A,M.$);if(O&&h<Math.max(O[0],O[1])){M.U=[];var m=P;while(h*(P/m)<Math.max(O[0],O[1]))P++}else break}};
b_.ri={};b_.ri.uQ=!0;b_.ri.AR=function(s,M){var O=72,P=new kp(1,0,0,1,0,0);P.scale(O/72,O/72);M.FR=O;
var y=new ft(M,P,!1);FromWMF.Parse(s,y)};b_.k8={};b_.k8.gD=!0;b_.k8.uQ=!0;b_.k8.u6=function(s,M,O,P,y){if(P==null)P={pags:"",qual:100};
P.fmts=[];var F=new ToEMF;km.mK(s,P,F,y.s4);return F.buffer};b_.k8.AR=function(s,M){var O=72,P=new kp(1,0,0,1,0,0);
P.scale(O/72,O/72);M.FR=O;var y=new ft(M,P,!1);FromEMF.Parse(s,y)};b_.w_={};b_.w_.uQ=!0;b_.w_.AR=function(s,M){return dp.kM(s,M)};
b_.aJl={};b_.aJl.AR=function(){var s,M,O,P,y,F,A=0,h=0,m=0,Z=0,u=0,D="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",L=null;
function f(E){var _=dP.kM(E),S=_.hF,N=0,J,K;console.log(_);var W=new Uint8Array(E);if(S=="ILBM")return U(_,W);
if(S=="CIMG")return t(_,W);if(S=="ANIM"&&_.sub[0].Xh=="ADAT")return Q(_,W);if(S!="ANIM")throw S;var g=c.m4,x=c.h4,V=_.sub,b=U(V[0],W);
for(var q=1;q<V.length-2;q++){var d=b[Math.max(0,q-2)].a2f.slice(0),l=V[q];for(var T=0;T<l.sub.length;
T++){var B=l.sub[T],p=B.p;if(B.Xh=="ANHD"){var I=W[p++];if(I!=5)throw I;var P=W[p++],e=g(W,p),G=g(W,p+2);
if(e!=0&&e!=s)throw e;if(G!=0&&G!=M)throw G;var o=g(W,p+4),r=g(W,p+6);if(o!=0||r!=0)throw o;p+=8;var k=g(W,p);
p+=2;J=g(W,p);p+=2;if(W[p++]!=0)throw"e";if(W[p++]!=0)throw"e";K=g(W,p);p+=2}else if(B.Xh=="DLTA"){var a7=[],Y=p;
for(var R=0;R<16;R++)a7.push(x(W,p+R*4));p+=64;var v=F;for(var n=0;n<y;n++){if(a7[n]==0)continue;p=Y+a7[n];
for(var cm=0;cm<v;cm++){var a5=W[p++],gP=0;if(a5==0)continue;for(var R=0;R<a5;R++){var cg=W[p++];if(cg==0){var a9=W[p++],ew=W[p++];
for(var h7=0;h7<a9;h7++){d[(gP*y+n)*v+cm]=ew;gP++}}else if(cg<128){gP+=cg}else{cg-=128;for(var h7=0;
h7<cg;h7++){d[(gP*y+n)*v+cm]=W[p+h7];gP++}p+=cg}}}}}else console.log(B.Xh)}if(q==1&&J>100)J=0;var bh=J==0?17:Math.round((J-N)*1e3/60);
b.push({data:H(W,d).buffer,IK:new gi(0,0,s,M),a2f:d,GF:"_a_frm"+q+","+bh});N=J}if(m!=0&&s>M*2){var ba=new Uint32Array(s*M*2);
ba.fill(4294967295);for(var q=0;q<b.length;q++){var jx=b[q],c4=new Uint32Array(jx.data);for(var gP=0;
gP<M;gP++){var bq=gP*2;for(var cm=0;cm<s;cm++)ba[bq*s+cm]=c4[gP*s+cm];bq++;for(var cm=0;cm<s;cm++)ba[bq*s+cm]=c4[gP*s+cm]}jx.IK.$*=2;
jx.data=ba.slice(0).buffer}}return b}function U(E,_){var S,W,g;A=0;h=0;Z=0;u=0;m=0;for(var x=0;x<E.sub.length;
x++){var V=E.sub[x],b=V.p;if(V.Xh=="BMHD"){var N=[];for(var R=0;R<4;R++)N[R]=c.m4(_,b+2*R);b+=8;var J=N[2],K=N[3];
s=N[0];M=N[1];O=_[b++];P=_[b++];g=_[b++];if(g!=0&&g!=1)throw g;F=s+15>>>4<<1;y=O+P}else if(V.Xh=="CMAP")A=b;
else if(V.Xh=="CAMG"){var q=c.h4(_,b);h=q&32768,m=q&4,Z=q&2048;u=q&128}else if(V.Xh=="BODY"){W=a.j(F*M*y);
if(g==0)W=_.slice(b,b+W.length);if(g==1)jR.Fe(_,b,V.size,W,0,W.length)}else if(V.Xh=="PLTP"){console.log(_.slice(b,b+V.size))}}S=H(_,W);
return[{IK:new gi(0,0,s,M),data:S.buffer,a2f:W}]}function C(E,hS){return E[hS>>>3]>>>7-(hS&7)&1}function H(E,_){var S=O-2,W=(1<<S)-1,g=Math.round(255/W),x,V,b,N=F*8;
if(A!=0){var J=1<<O,K=!0;for(var R=1;R<J;R++){var q=A+R*3;if(E[q]!=E[q-3]||E[q+1]!=E[q-2]||E[q+2]!=E[q-1]&&E[q+2]!=E[q-1]+1)K=!1}if(K){for(var R=0;
R<J;R++){var q=A+R*3,d=Math.round(R*255/(J-1));E[q]=E[q+1]=E[q+2]=d}}}var l=a.j(s*M*4);for(var T=0;T<M;
T++)for(var B=0;B<s;B++){var p=0;for(var I=0;I<y;I++){var w=(T*y+I)*N+B,e=C(_,w);p|=e<<I}p=p&(1<<O)-1;
var R=T*s+B,G=R<<2;if(A!=0){if(Z!=0&&p>>>S!=0){var j=p>>>S,o=(p&W)*g;if(j==1)b=o;else if(j==2)x=o;else if(j==3)V=o}else{var o=A+p*3;
x=E[o+0];V=E[o+1];b=E[o+2]}}else{if(O==24){x=p>>>0&255;V=p>>>8&255;b=p>>>16&255}else if(O==16){var r=0,k=1,Y=4;
for(var I=0;I<16;I++)r+=(p>>>I&1)<<15-I;var a7=(1<<k)-1,v=(1<<Y)-1;x=(r>>>7&a7)*(255/a7);V=b=x}else throw O}l[G+0]=x;
l[G+1]=V;l[G+2]=b;l[G+3]=255}return l}function t(E,_){var S=1,W=2,g=4,x=c.h4,V=c.m4,s=200,M=200,b,N,J,K;
for(var q=0;q<E.sub.length;q++){var d=E.sub[q],l=d.p;if(d.Xh=="TBHD"){s=x(_,l);l+=4;M=x(_,l);l+=4;K=a.j(s*M*4);
J=new gi(0,0,s,M);l+=4;var T=x(_,l);l+=4;var B=V(_,l);l+=2;if(B!=0)throw"e";N=V(_,l);l+=2;var p=x(_,l);
l+=4;if(p!=1)throw p;b=0;if(T&S)b+=3;if(T&W)b+=1}if(d.hF=="TBMP"){var I=d.sub;for(var w=0;w<I.length;
w++){var e=I[w].p,G=I[w].size,j=V(_,e),o=V(_,e+2),r=V(_,e+4)-j+1,k=V(_,e+6)-o+1;e+=8;var a7=a.j(r*k*4),Y=a.j(r*k);
a7.fill(255);for(var R=0;R<4;R++){e=X(_,e,G-8,Y,0);a.GS(Y,a7,3-R)}if(e!=I[w].p+G)throw"e";a.FP(a7,new gi(j,o,r,k),K,J)}}}return[{IK:J,data:K.buffer}]}function X(E,_,S,W,g){var x=_;
while(g<W.length){var V=E[_++],d4=(V&127)+1;if(V&128){V=E[_++];for(var R=0;R<d4;++R)W[g++]=V}else{for(var R=0;
R<d4;++R)W[g++]=E[_++]}}return _}function Q(E,_){if(L==null){var S=b_.un(D);L=new Uint32Array(pako.inflate(new Uint8Array(S)).buffer)}var W=c.h4,g=c.m4,x=E.sub[0],V=E.sub[1],s=g(_,x.p),M=g(_,x.p+2),b=g(_,x.p+4),d,R,l,T,B,p;
if(b!=3)throw b;var N=new gi(0,0,s,M),J=a.j(s*M*4),K=a.j(s*M);J.fill(255);var q=new Uint32Array(J.buffer),I=V.p;
for(T=0;T<2;T++){p=T;B=0;d=Math.floor((s*M+2-T-1)/2);while(d>0){R=_[I++];if(R&128){R=257-R;d-=R;l=_[I++];
B=B&L[l]|L[l+256];do{q[p]=B;p+=2}while(--R)}else{R++;d-=R;do{l=_[I++];q[p]=B=B&L[l]|L[l+256];p+=2}while(--R)}}}for(var R=0;
R<J.length;R+=4){var w=J[R+3],e=J[R+2],G=J[R+1];J[R]=w;J[R+1]=e;J[R+2]=G;J[R+3]=255}for(var j=0;j<M>>>1;
j++){for(var o=0;o<s;o++){var R=j*s+o,l=(M-1-j)*s+o,r=q[R];q[R]=q[l];q[l]=r}}return[{IK:N,data:J.buffer}]}return f}();
b_.M8={};b_.M8.uQ=!1;b_.M8.u6=function(s,M,O,P){var y=null,F=new Uint8Array(s[0][0]),A=2;if(P.ctoa&&s[0][4])y=s[0][4];
else if(a.vI(F)){y=[new Uint8Array(F.length>>>2)];a.YT(F,y[0],3)}var h=y?!0:!1,m=h?4:3,Z=new Uint8Array(M*O*m);
for(var u=0;u<O;u++)for(var f=0;f<M;f++){var U=u*M+f<<2,C=((O-u-1)*M+f)*m;Z[C]=F[U+2];Z[C+1]=F[U+1];
Z[C+2]=F[U+0];if(h)Z[C+3]=y[0][u*M+f]}if(!0){var H=Z.length,t=0,X=new Uint8Array(H*2),Q=0,D=0,L=M*m;
while(D<H){var E=D,_=0,S=L*(Math.floor(D/L)+1);while(E<S&&_<128){var W=!0;for(var R=0;R<m;R++)W=W&Z[D+R]==Z[E+R];
if(!W)break;E+=m;_++}if(_==1){var g=1;while(g<128&&D+(g+1)*m<S){var W=!0,x=D+g*m;for(var R=0;R<m;R++)W=W&Z[x+R]==Z[x+m+R];
if(W)break;g++}X[Q++]=g-1;for(var V=0;V<g;V++)for(var R=0;R<m;R++)X[Q++]=Z[D++]}else{X[Q++]=127+_;for(var R=0;
R<m;R++)X[Q+R]=Z[D+R];Q+=m;D+=m*_;t+=_}}Z=X.slice(0,Q);A+=8}var b=new Uint8Array(18+Z.length+26);b[2]=A;
c.S1(b,12,M);c.S1(b,14,O);b[16]=m*8;b[17]=m==4?8:0;b.set(Z,18);c.Eu(b,18+Z.length+8,"TRUEVISION-XFILE.");
return b.buffer};b_.M8.AR=function(s){var M=new Uint8Array(s),O=0,P=M[0],y=M[1],F=M[2],A=M[4]*256+M[3],h=M[6]*256+M[5],m=M[7],Z=M[9]*256+M[8],u=M[11]*256+M[10],f=M[13]*256+M[12],U=M[15]*256+M[14],C=M[16],H=M[17],t=H>>>4,X=c.Db(M,18,P),Q=a.j(f*U*4),O=18+P+(h*m>>>3),D=new Uint8Array(M.buffer,O);
if(F>3){var L=0,E=M,_=new Uint8Array(f*U*C>>>3),S=O,W=0,g=M.length,x=C>>>3;while(W<_.length){var hS=E[S];
S++;if(hS<128)for(var R=0;R<hS+1;R++){for(var V=0;V<x;V++){_[W]=E[S];W++;S++}}else{for(var R=0;R<hS-127;
R++){for(var V=0;V<x;V++){_[W]=E[S+V];W++}}S+=x}}F-=8;D=_;O=S}else O+=f*U*C>>>3;var b=new Uint8Array(4),N=b_.M8.adg;
for(var J=0;J<U;J++)for(var K=0;K<f;K++){var q=(t&2)==0?(U-J-1)*f+K:J*f+K,d=J*f+K,l,T,B,p=255,I=q*C>>>3;
if(F==1){var w=0;if(C==8)w=D[I];else throw"e";N(M,18+P+A+(w*m>>>3),m,b);l=b[0];T=b[1];B=b[2];p=b[3]}else if(F==2){N(D,I,C,b);
l=b[0];T=b[1];B=b[2];p=b[3]}else if(F==3){if(C==8)l=T=B=D[I];else throw"e"}var e=d*4;Q[e]=l;Q[e+1]=T;
Q[e+2]=B;Q[e+3]=p}var b={IK:new gi(0,0,f,U),data:Q.buffer,GF:X};if(a.vI(Q)){var G=a.j(f*U);a.YT(Q,G,3);
a.$j(Q,1);b.dj=[G]}return[b]};b_.M8.adg=function(s,M,O,P){var y,F,A,h=255;if(O==24||O==32){A=s[M];F=s[M+1];
y=s[M+2];if(O==32)h=s[M+3]}else if(O==16){var m=s[M+1]<<8|s[M+0];y=m>>>10&31;F=m>>>5&31;A=m>>>0&31;y=Math.round(y*(255/31));
F=Math.round(F*(255/31));A=Math.round(A*(255/31))}else throw"e";P[0]=y;P[1]=F;P[2]=A;P[3]=h};b_.N7=function(){var s=[],M=!1,O,P=null,y=50,F=10,f;
function A(H,t,X,Q){s.push([0,H,Q,X]);u()}async function h(H,t,X,Q){y=Q.qual;F=Q.smlr?5:10;return new Promise(function(D){s.push([1,H,t,X,D]);
u()})}function m(H){var t=s.shift();t[3](null,[H],t[2]);M=!1;u()}function Z(){P=i.m("iframe");P.setAttribute("src","code/ext_formats/formatsLoader.html");
i.P(P,"display:none");window.addEventListener("message",C,!1);document.body.appendChild(P)}function u(){if(M||s.length==0)return;
M=!0;var H=s[0];if(H[0]==0&&b_.WG(H[1])=="avif"){b_.aiD(H[1],"image/avif",m)}else if(P==null)Z();else U()}async function U(){var H=s[0],t;
if(H[0]==0){var X=H[1],Q=new Uint8Array(X),D=new Blob([X]);t={subject:"open",body:D};var L=c.Ah(Q,"Exif\0\0MM");
O=null;if(L!=-1){var E=UTIF.decode(X.slice(L+6));O=jW.hM(E[0])}}else{var _={fmt:"avif",speed:F,quality:y,nochroma:0,lossless:0},S=new ImageData(new Uint8ClampedArray(H[1][0][0]),H[2],H[3]);
t={subject:"save",body:S,prms:_}}f=Date.now();P.contentWindow.postMessage(t)}function C(H){var t=H.data,X=t.subject,Q=t.body;
console.log(t);if(X=="rdy"){M=!1;u()}else if(X=="img"){m({IK:new gi(0,0,Q.width,Q.height),data:Q.data.buffer,j0:O})}else if(X=="file"){console.log(Date.now()-f);
s[0][4](Q.buffer);M=!1;s.shift();u()}else console.log(t)}return{uQ:!1,$c:!0,AR:A,u6:h}}();b_.aIF=function(){var s,M=[],O=10,h,m,Z,u=0,f,U,C;
function P(L){var E=b_.WG(L);if(E=="mp4")return new ic(new Blob([L]));else return new eJ(new Blob([L]))}async function y(L,E,_,S,W){s=_;
M.push(L,S);var g=P(L),x=(await g.BE()).rM;console.log(x);var f=x.width,U=x.height,V=x.Tf,b=V/x.fh,N=V/b,J=f+" \xD7 "+U+" px, "+V+" frames, "+fK.si(f*U*4*V)+" decoded<br/>";
J+=b.toFixed(2)+" seconds, "+N.toFixed(2)+" FPS";var K=new kg(z.E.c,!0);K.data={Q:z.J.xL,Rj:"setFPS",dK:O,Xp:F,azi:J};
W.a(K)}function F(L){O=Math.max(1,Math.min(60,L));var E=window.VideoDecoder;if(E)A();else H()}async function A(){var L=Date.now(),E=M.shift(),C=[],_=P(E),S=(await _.BE()).rM,f=S.width,U=S.height,W=S.Tf,g=W/S.fh,x=W/g,V=Math.min(x,O),b=Math.max(1,Math.round(x/V));
for(var R=0;R<W;R++){if(R%b!=0)continue;var N=await _.sn(0,R);C.push({GF:"_a_"+C.length+","+Math.round(1e3/V),IK:new gi(0,0,f,U),data:N.buffer})}s(null,C,M.shift());
if(M.length!=0)A()}function H(){if(M.length==0)return;h=document.createElement("canvas");m=h.getContext("2d");
Z=document.createElement("video");var L="data:"+"video/mp4"+";base64,"+b_.lW(M.shift());Z.src=L;Z.muted=!0;
Z.currentTime=0;Z.addEventListener("canplay",t,!1);Z.addEventListener("timeupdate",X,!1)}function t(L){Z.removeEventListener("canplay",t);
f=h.width=Z.videoWidth;U=h.height=Z.videoHeight;C=[];Z.play()}function X(L){clearTimeout(u);m.drawImage(Z,0,0);
C.push({GF:"_a_"+C.length+","+Math.round(1e3/O),IK:new gi(0,0,f,U),data:m.getImageData(0,0,f,U).data.buffer});
var E=Z.currentTime+1/O;if(E<Z.duration&&L){Z.currentTime=E;u=setTimeout(X,1e3)}else{s(null,C,M.shift());
Z.removeEventListener("timeupdate",X);H();C=null}}function Q(){this.yH=new Uint8Array(1024);this.p=0}Q.prototype.write=function(L){var E=this.yH,_=this.p;
if(L instanceof ArrayBuffer)L=new Uint8Array(L);if(L instanceof Uint8Array){while(E.length<_+L.length){var S=new Uint8Array(E.length*2);
S.set(E);E=S}E.set(L,_);_+=L.length}else if(L.I=="write"){E.set(L.data,L.position)}else{console.log(L);
throw"e"}this.yH=E;this.p=_};Q.prototype.close=function(){this.yH=this.yH.slice(0,this.p)};async function D(L,f,U,E){var _=f,S=U;
if((f&1)!=0)f++;if((U&1)!=0)U++;var W=f!=_||U!=S,g=W?a.j(f*U*4):null,x={rM:{p1:1,Tf:L.length,fh:1e3/L[0][1],width:f,height:U}},V=new Q,b=.02*(1+Math.pow(3.2*E.qual/100,2.3)),N=new dY(V,x,b);
for(var R=0;R<L.length;R++){var J=L[R],K=new Uint8Array(J[0]),q=K;if(W){a.FP(K,new gi(0,0,_,S),g,new gi(0,0,f,U));
q=g}await N.a3i(q,0,R)}await N.finish();return V.yH.buffer}return{uQ:!1,$c:!0,AR:y,u6:D}}();b_.O0={};
b_.O0.AR=function(s){var M=new Uint8Array(s),O=0,P=112,y=42,F=c.je,u;O+=8;var A=M[O];O++;if(A!=y)throw"e";
var h=F(M,O);O+=4;var m=c.Tr(M,O,h);O+=h*2;var Z=[];while(O<M.length){u=F(M,O);O+=4;if(u!=P)throw u;
O+=4;u=M[O];O++;if(u!=y)throw u;var f=F(M,O);O+=4;var U=M[O];O++;if(U!=y){O-=5;f=F(M,O);O+=8;u=M[O];
O++;if(u!=y)throw u}var C=F(M,O)*2;O+=4;if(f>0)Z.push(O+C);O+=C+f}var H=new DOMParser,t=H.parseFromString(m,"image/svg+xml").firstChild.firstChild,X=[];
b_.O0.atH(t,M,Z,X);return X};b_.O0.atH=function(s,M,O,P){var y=s.firstChild.firstChild;if(y.tagName=="Image"){var F=y.getElementsByTagName("ImageDescription")[0],A=F.children[0].children,h=F.children[1].children,m=O.shift(),Z=[];
for(var R=0;R<h.length;R++)Z.push(parseInt(h[R].getAttribute("NumberOfElements")));while(Z.length>3)Z[2]*=Z.pop();
var u=A.length,f=Z[0],U=Z[1],C=Z[2],H=parseInt(h[0].getAttribute("BytesInc"));for(var t=0;t<C;t++){var X=a.j(f*U*4);
X.fill(255);for(var Q=0;Q<u;Q++){var D=a.j(f*U);if(H==1)for(var L=0;L<D.length;L++)D[L]=M[m+L];else if(H==2)for(var L=0;
L<D.length;L++)D[L]=Math.min(255,(M[m+L*2+1]<<8|M[m+L*2])>>>2);else throw H;if(Q!=3)a.GS(D,X,Q);if(u==1){a.GS(D,X,1);
a.GS(D,X,2)}m+=f*U*H}P.push({IK:new gi(0,0,f,U),data:X.buffer})}}else{var E=s.children,_=0;while(_<E.length&&E[_].tagName!="Children")_++;
if(_==E.length)throw"e";E=E[_].children;for(var S=0;S<E.length;S++)b_.O0.atH(E[S],M,O,P)}};b_.a3I=function(){function s(A,h,m,Z,u){var f=new Int8Array(A.buffer),U=new Int8Array(Z.buffer),C=h+m;
while(h<C){var hS=f[h];h++;if(hS>=0&&hS<128)for(var R=0;R<hS+1;R++){U[u]=f[h];u++;h++}if(hS>=-127&&hS<0){for(var R=0;
R<-hS+1;R++){U[u]=f[h];u++}h++}}return u}function M(A,h,m,Z,u,f){var U=h*m*Z>>>3,C=a.j(U*u),H=P(A,0,0,0)[0];
for(var t=0;t<u;t++){var X=H[t+1];if(f){var Q=b_.O7("jpg").AR(X.buffer),D=a.j(U);a.K1(new Uint8Array(Q[0].data),D);
C.set(D,U*t)}else if(X[0]==255&&X[1]==216&&X[2]==255){var L=UTIF.LosslessJpegDecode(X);C.set(new Uint8Array(L[0].buffer),U*t)}else s(X,64,X.length,C,U*t)}return C}function O(A){var h=new Uint8Array(A),m=0,Z=c.Db(h,0,128);
m+=128;var u=c.Db(h,m,4);m+=4;var f=y(h,m,0)[0],U=f.g28;if(U==null){alert("No image.");return[]}var C=U.cols,H=U.rows,t=C*H,X=U.photoInterpret,Q=U.bitsAlloc,D=U.bitsStored,L=U.lossyCompr;
if(L==null)L=f.g8.lossyCompr;var E=f.g7fe0.pixelData,_=U.numOfFrames;_=_?parseInt(_):1;var S=new Uint8Array(E.buffer),W=t*Q>>>3;
if(S.length!=W*_){E=M(E,C,H,Q,_,L)}else{}if(Q==16)E=new Uint16Array(E.buffer);console.log(U);console.log(f);
var g=[];for(var x=0;x<_;x++){var V=x*W,A=a.j(C*H*4);A.fill(255);if(X=="MONOCHROME2"){var b=0,N=255,J=U.largestValue,K=U.smallestValue;
if(J!=null){N=J;b=K}else if(D!=8){N=0;b=1e9;for(var R=0;R<t;R++){var q=E[V+R];if(q>1<<D-8){if(q>N)N=q;
if(q<b)b=q}}}var d=255/(N-b);for(var R=0;R<t;R++){var q=Math.max(0,Math.min(255,(E[V+R]-b)*d)),T=R*4;
A[T]=A[T+1]=A[T+2]=q}}else if(X=="PALETTE COLOR"){var B=U.pltRed,p=U.pltGreen,I=U.pltBlue;for(var R=0;
R<t;R++){var w=E[V+R],T=R*4;A[T]=B[w]>>>8;A[T+1]=p[w]>>>8;A[T+2]=I[w]>>>8}}else throw X;g.push({IK:new gi(0,0,C,H),data:A.buffer})}return g}function P(A,h,m,Z){if(m==0)m=A.length;
var u=c.vJ,f=c.Sw,U=c.je,C=[],H=h;while(h<m){var t=u(A,h);h+=2;var X=u(A,h);h+=2;var Q=U(A,h);h+=4;if(t==65534&&X==57344){if(Q==4294967295){var D=y(A,h,Z+1);
C.push(D[0]);h=D[1]}else{C.push(A.slice(h,h+Q));h+=Q}}else if(t==65534&&X==57357){}else if(t==65534&&X==57565)break;
else throw"e"}return[C,h]}function y(A,h,m){var Z=c.vJ,u=c.Sw,f=c.je,U=c.KF,C={},H="\t".repeat(m);while(h<A.length){var t=Z(A,h),L="",E=0,S=null;
h+=2;var X=Z(A,h);h+=2;var Q=t.toString(16),D=X.toString(16);if(t==65532)break;if(t==65534&&X==57357){h-=4;
break}if(t==65534&&X==57565)throw"e";if(X==0){h+=8;continue}if(65<=A[h+1]){L=c.Db(A,h,2);h+=2;if(L=="OB"||L=="SQ"||L=="OW"){E=f(A,h+2);
h+=6}else{E=Z(A,h);h+=2}}else{L=F[Q][D].split(",")[1];E=f(A,h);h+=4}var _=F[Q][D];if(_)_=_.split(",")[0];
if(_==null){_="t"+D}if(L=="SQ"){var W=P(A,h,h+E,m);S=W[0];h=W[1];E=0}else if(L=="US")S=Z(A,h);else if(L=="SS")S=u(A,h);
else if(L=="UL")S=f(A,h);else if(L=="SL")S=U(A,h);else if(L=="FL")S=c.Tz(A,h);else if(L=="AT")S=[Z(A,h),Z(A,h+2)];
else if(L=="OB")S=A.slice(h,h+E);else if(L=="OW")S=new Uint16Array(A.slice(h,h+E).buffer);else if(L=="FD")S=new Float64Array(A.slice(h,h+E).buffer);
else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(L)!=-1){var g=h+E;while(A[g-1]==0)g--;
S=c.Db(A,h,g-h).trim()}else{console.log(H,JSON.stringify(c.Db(A,h,Math.min(E,32))));throw L}if(C["g"+Q]==null)C["g"+Q]={};
C["g"+Q][_]=S;h+=E}return[C,h]}var F={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"23":{},"25":{},"27":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"32":{},"37":{},"38":{},"40":{},"43":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{AR:O}}();b_.ajx={};b_.ajx.AR=function(s){var M=new Uint8Array(s),O=0,P={};for(var R=0;R<306;R++){var y=c.Db(M,O,8).trim(),F=c.Db(M,O+9,71).split("/")[0].trim();
P[y]=F;O+=80;if(y=="END"){O=Math.ceil(O/2880)*2880;break}}var A=parseInt(P.NAXIS1),h=parseInt(P.NAXIS2),m=A*h,Z=parseInt(P.BITPIX),u=P.BZERO?parseInt(P.BZERO):0,f=P.NAXIS3?parseInt(P.NAXIS3):1,U=new Float32Array(s,O,s.byteLength-O>>>2),C=new Float32Array(m),H=a.j(m*4,16);
H.fill(65535);var t=a.j(m,16);for(var X=0;X<f;X++){var Q=1e9,D=-1e9;for(var R=0;R<m;R++){if(Z==-32){var L=M[O+0];
M[O+0]=M[O+3];M[O+3]=L;var L=M[O+1];M[O+1]=M[O+2];M[O+2]=L;C[R]=U[R];O+=4}else if(Z==16){C[R]=u+c.VQ(M,O);
O+=2}else throw Z;var E=C[R];if(E<Q)Q=E;if(E>D)D=E}var _=1/D;for(var S=0;S<h;S++)for(var W=0;W<A;W++){var R=S*A+W,g=(h-S-1)*A+W,E=C[R]*_;
t[R]=65535*E}if(f==1)a.Rm(t,H);else a.GS(t,H,X)}return[{IK:new gi(0,0,A,h),data:H,GF:P.OBJECT,depth:16}]};
b_.A3={};b_.A3.AR=function(s){var M=new Uint8Array(s),O=16,P=c.Db(M,O,4),F=32,Q=0,D=0,L=!1,T;O+=4;var y=c.Db(M,O,8);
O+=8;while(M[O+F-1]==0)F--;var A=c.Db(M,O,F);O+=32;var h=c.Db(M,O,4);O+=4;O+=20;var m=c.h4(M,O);O+=4;
var Z=c.h4(M,O);O+=4;var u=c.h4(M,O);O+=4;var f=c.h4(M,O);O+=4;var U=c.h4(M,O);O+=4;var C=c.h4(M,O);
O+=4;var H=A,t=[0,1,1,2];if(H=="X10"){H="FinePix X10";t=[2,1,1,0]}var X={t271:["FujiFilm"],t272:[H],t277:[1],t33421:[2,2],t33422:t,Ox:1};
O=u;var E=[],_=c.m4,S=c.h4(M,O);O+=4;for(var R=0;R<S;R++){var W=_(M,O);O+=2;var g=_(M,O);O+=2;if(W==256){D=_(M,O);
Q=_(M,O+2)}else if(W==272){E=[_(M,O),_(M,O+2)]}else if(W==273){E.push(_(M,O),_(M,O+2))}else if(W==304){L=!(M[O]>>>7)}else if(W==305){var x=Math.round(Math.sqrt(g)),V=[];
for(var b=0;b<g;b++)V.push(M[O+b]);V.reverse();X.t33421=[x,x];X.t33422=V}else if(W==12272){var N=_(M,O),J=_(M,O+2),K=_(M,O+6);
X.t50728=[N/J,1,N/K]}O+=g}var q=Q<D,d=M.slice(U,U+C),l=Math.round(C*8/(Q*D));if(d[0]==73&&d[1]==73&&d[2]==42){T=UTIF.decode(d.buffer)[0].fujiIFD;
l=T.t61443[0];var B=T.t61454,p=T.t61450;if(p)X.t50714=p;if(B)X.t50728=[B[0]/B[1],1,B[0]/B[2]];var I=T.t61447[0];
d=d.slice(I,I+T.t61448[0])}var C=d.length,w=C*8<Q*D*l;if(w){console.log("compressed");var e=X.t33422,G=~~Math.sqrt(e.length),j=[];
for(var R=0;R<G;R++)j[R]=e.slice(R*G,R*G+G);d=new Uint8Array(UTIF._decompressRAF(d,j).buffer);C=d.length}function o(v,n,cm){cm=cm<<8-(n&7);
var a5=n>>>3;v[a5]|=cm>>>16;v[a5+1]|=cm>>>8;v[a5+2]|=cm}var r=C*8/(Q*D);if(r==16)for(var R=0;R<C;R+=2){var k=d[R];
d[R]=d[R+1];d[R+1]=k}else if(r==14){for(var R=0;R<C;R+=4){var k=d[R];d[R]=d[R+3];d[R+3]=k;k=d[R+1];d[R+1]=d[R+2];
d[R+2]=k}}else if(r==12)for(var R=0;R<C;R+=3){var a7=d[R+2]<<16|d[R+1]<<8|d[R+0];a7=a7>>>12|(a7&4095)<<12;
d[R]=a7>>>16&255;d[R+1]=a7>>>8&255;d[R+2]=a7&255}if(q)d=b_.A3.aCp(d,Q,D);var Y=q?2:1;Q*=Y;X.t256=[Q];
X.t257=[D];X.t258=[l];X.t50719=[E[1],E[0]*Y];X.t50720=[E[3],E[2]*Y];X.width=Q;X.height=D;X.data=new Uint8Array(d.buffer);
return[X]};b_.A3.aCp=function(s,M,O){s=new Uint16Array(s.buffer);var P=new Uint16Array(M*O*2);for(var y=0;
y<O;y+=2)for(var F=0;F<M;F++){var A=y*M+F,h=A*2,m=s[A],Z=s[A+M];P[h+1]=P[h+2*M]=Z;if(((y>>>1)+F&1)==0){P[h]=m;
P[h+2*M+1]=s[A+1]}else{P[h]=s[A-1];P[h+2*M+1]=m}}return P};b_.uq={};b_.uq.aiF=function(s,M,O){O=O<<8-(M&7);
var P=M>>>3;s[P]|=O>>>16;s[P+1]|=O>>>8;s[P+2]|=O};b_.uq.$c=!0;b_.uq.AR=async function(s,M,O,P){var y=new Uint8Array(s),F=0,A=Date.now(),h=await dj.kM(new Blob([s])),m=h.moov.uuid[0],Z=new CR3Parser(s),u=Z.getTrack().meta,f=m.CMT1[0],U=f.t256[0]=u.width,C=f.t257[0]=u.height,H=U*C,t=f.exifIFD=m.CMT2[0],X=t.makerNote=m.CMT3[0],Q=h.moov.trak[3].mdia.minf.stbl,D=Q.co64[0],L=y.slice(D,D+Q.stsz[0]),E=0;
while(E<L.length){var _=c.je(L,E);E+=4;var S=c.vJ(L,E);E+=2;var W=L[E]==1;E+=2;E+=4;if(S==8||S==9){var g=UTIF.decode(L.slice(E+8,E+_-12).buffer)[0];
for(var x in g)X[x]=g[x]}E+=_-12}f.t277=[1];f.t33421=[2,2];f.t33422=[0,1,1,2];f.Ox=1;if(f.t274)f.Ox=f.t274[0];
var V=Z.extractCFA(),b=u.bitDepth;if(b!=14)throw"e";f.t258=[b];var N=new Uint8Array(Math.ceil(H*b/8)),J=16-b;
for(var R=0;R<H;R++)b_.uq.aiF(N,R*14,V[R]<<J);f.width=U;f.height=C;f.data=N;O(null,[f],P)};b_.$m={};
b_.$m.gD=!0;b_.$m.u6=function(s,M,O,P){var y=new Uint8Array(s[0][0]),F=M*O,A=[1,3,4][P.cnum],h=8+8*P.dpth,m=P.endi;
if(A==1){var Z=new Uint8Array(M*O);a.YT(y,Z,0);y=Z}if(A==3){var Z=new Uint8Array(M*O*3);for(var R=0;
R<F;R++){var u=R*4,f=R*3;Z[f]=y[u];Z[f+1]=y[u+1];Z[f+2]=y[u+2]}y=Z}if(h==16){var U=y.length,Z=new Uint8Array(U*2);
for(var R=0;R<U;R++){var C=Math.round(y[R]*(65535/255));Z[R*2+m]=C>>>8;Z[R*2+1-m]=C&255}y=Z}return y.buffer};
b_.SZ={};b_.SZ.AR=function(s){if(s.buffer)s=s.buffer;var M=new Uint8Array(s),O=4,P=c.je(M,O);O+=4;var y={};
O=b_.SZ.nF(M,O,y);var F=y.compression,A=y.channels,h=A.length,m=Date.now();if(F==3&&h>4){var Z=y.dataWindow,u=Z[2]+1,f=Z[3]+1,U=[];
for(var C=0;C<f;C+=16){var H=c.je(M,O+U.length*8);U.push(H)}function t(k,J){var K=0,hS=k.length>>>1;
for(var R=0;R<k.length;R+=2){J[R]=k[K++];J[R+1]=k[hS++]}}var X=[],Q={},D=[];for(var R=0;R<A.length;R++){var L=A[R],E=L[0];
if(E.indexOf(".")==-1)E="main."+E;var _=E.split(".");while(_.length>2)_[0]=_.shift()+"_"+_[0];var S=_[0],W=_[1];
if(Q[S]==null){Q[S]=X.length;var g=a.j(u*f*4,32);X.push(g);g.fill(255)}D.push([Q[S],{R:0,G:1,B:2,A:3}[W]])}for(var R=0;
R<U.length;R++){var x=U[R],C=c.je(M,x),N;x+=4;var V=R==U.length-1?f-C:16,b=c.je(M,x);x+=4;if(F==3){var N=new Uint8Array(V*u*h*4);
UZIP.inflateRaw(M.slice(x+2,x+b),N);for(var J=1;J<N.length;J++){var K=N[J-1]+N[J]-128;N[J]=K}var q=new Uint8Array(N.length);
t(N,q);N=new Float32Array(q.buffer)}for(var d=0;d<h;d++){var l=D[d],T=X[l[0]],B=l[1];for(var p=0;p<V;
p++){for(var I=0;I<u;I++){var w=((p+C)*u+I)*4;T[w+B]=N[p*(h*u)+d*u+I]}}}}var e=[];for(var E in Q){e.push({IK:new gi(0,0,u,f),data:X[Q[E]].buffer,depth:32,Uh:b_.gy.get("icc/srgb_lin"),GF:E})}return e.reverse()}else{function G(f){var k=(f&32768)>>15,a7=(f&31744)>>10,Y=f&1023;
if(a7===0)return(k?-1:1)*2**-14*(Y/2**10);if(a7===31)return Y?NaN:(k?-1:1)*Infinity;return(k?-1:1)*2**(a7-15)*(1+Y/2**10)}var j=y.channels[0][1],o=EXRLoader.parse(s,1015),u=o.width,f=o.height,T=a.j(u*f*4,32);
for(var p=0;p<f;p++)for(var I=0;I<u;I++){var R=(p*u+I)*4,r=((f-p-1)*u+I)*4;T[R]=o.data[r+0];T[R+1]=o.data[r+1];
T[R+2]=o.data[r+2];T[R+3]=o.data[r+3]}return[{IK:new gi(0,0,u,f),data:T.buffer,depth:32,Uh:b_.gy.get("icc/srgb_lin")}]}};
b_.SZ.u6=function(s,M,O,P,y){if(y==null){y={compression:3,channels:[["A",2,0,1,1],["B",2,0,1,1],["G",2,0,1,1],["R",2,0,1,1]]};
y.dataWindow=y.displayWindow=[0,0,M-1,O-1]}var F=s[0],A,h=Math.floor(F[0].byteLength/(M*O*4))*8,u=0,g=0;
if(h==32)A=new Float32Array(F[0]);if(h==16)A=a.Gp(new Uint16Array(F[0]),32);if(h==8)A=a.Gp(new Uint8Array(F[0]),32);
if(h==8||h==16){var m=a.R0;for(var R=0;R<A.length;R+=4){A[R]=m(A[R]);A[R+1]=m(A[R+1]);A[R+2]=m(A[R+2])}}var Z=new Uint8Array(5e3);
c.rq(Z,u,20000630);u+=4;c.rq(Z,u,2);u+=4;u=b_.SZ.f1(Z,u,y);function f(J,_){var S=0,hS=J.length>>>1;for(var R=0;
R<J.length;R+=2){J[S++]=_[R];J[hS++]=_[R+1]}}var U=[];for(var C=0;C<O;C+=16){var H=Math.min(16,O-C),t=new Float32Array(H*M*4);
for(var X=0;X<4;X++)for(var Q=0;Q<H;Q++)for(var D=0;D<M;D++){var L=((Q+C)*M+D)*4;t[Q*(4*M)+X*M+D]=A[L+(3-X)]}var E=new Uint8Array(t.buffer);
t=new Uint8Array(E.length);f(t,E);for(var _=t.length-1;_>0;_--){var S=t[_]-t[_-1]+128;t[_]=S}var W=UZIP.deflate(t);
U.push(W)}for(var R=0;R<U.length;R++)g+=U[R].length;var x=u+U.length*16+g,V=Z;Z=new Uint8Array(x);Z.set(V,0);
var b=u+U.length*8;for(var R=0;R<U.length;R++){c.rq(Z,u,b);u+=8;b+=8+U[R].length}for(var R=0;R<U.length;
R++){var N=U[R];c.rq(Z,u,R*16);u+=4;c.rq(Z,u,N.length);u+=4;Z.set(N,u);u+=N.length}return Z};b_.SZ.f1=function(s,M,O){var P={"Exif:ImageHistory":"string",Software:"string",capDate:"string",channels:"chlist",screenWindowCenter:"v2f",dataWindow:"box2i",displayWindow:"box2i",pixelAspectRatio:"float",screenWindowWidth:"float"},y=c.Eu,F=c.rq,A=c.d_;
for(var h in O){var m=P[h],Z=O[h],u=0;if(m==null)m=h;y(s,M,h);M+=h.length+1;y(s,M,m);M+=m.length+1;var f=M;
M+=4;if(m=="box2i"){for(var R=0;R<4;R++)F(s,M+R*4,Z[R]);u=16}else if(m=="float"){A(s,M,Z);u=4}else if(m=="v2f"){for(var R=0;
R<2;R++)A(s,M+R*4,Z[R]);u=8}else if(m=="string"){y(s,M,Z);u=Z.length}else if(m=="chlist"){var U=M;for(var R=0;
R<Z.length;R++){var C=Z[R];y(s,U,C[0]);U+=C[0].length+1;F(s,U,C[1]);U+=4;F(s,U,C[2]);U+=4;F(s,U,C[3]);
U+=4;F(s,U,C[4]);U+=4}u=U-M+1}else{s[M]=Z;u=1}F(s,f,u);M+=u}M++;return M};b_.SZ.nF=function(s,M,O){function P(H,t){var X=t;
while(H[X]!=0)X++;return X-t}while(s[M]!=0){var y=c.Db(s,M,P(s,M));M+=y.length+1;var F=c.Db(s,M,P(s,M));
M+=F.length+1;var A=c.je(s,M);M+=4;var h=s.slice(M,M+A);if(A==1)h=s[M];else if(F=="box2i"){h=[];for(var R=0;
R<4;R++)h.push(c.KF(s,M+4*R))}else if(F=="float")h=c.Tz(s,M);else if(F=="v2f"){h=[];for(var R=0;R<2;
R++)h.push(c.Tz(s,M+4*R))}else if(F=="chlist"){var m=M;h=[];while(s[m]!=0){var Z=c.Db(s,m,P(s,m));m+=Z.length+1;
var u=c.je(s,m);m+=4;var f=s[m];m++;m+=3;var U=c.je(s,m);m+=4;var C=c.je(s,m);m+=4;h.push([Z,u,f,U,C])}}else if(F=="string"){h=c.Db(h,0,h.length)}else console.log("-----",F);
O[y]=h;M+=A}return M+1};b_.ZT={};b_.ZT.AR=function(s,M){var O=new Uint8Array(s),P=0,y=[],F,A,h;while(!0){var m=P;
while(O[m]!=10&&m-P<80&&O[m]<128)m++;if(O[m]!=10)break;var Z=c.Db(O,P,m-P);if(Z.startsWith("-Y")){var u=Z.split(" ");
A=parseInt(u[1]);F=parseInt(u[3]);h=a.j(F*A*4)}P=m+1}var f=Date.now();b_.ZT.aAk(O,h,P,F,A);var U=new Float32Array(F*A*4),C=[];
for(var R=0;R<256;R++)C[R]=1/255*Math.pow(2,R-128);for(var R=0;R<F*A;R++){var H=R*4,t=h[H+3];if(t!=0){var X=C[t];
U[H]=(h[H+0]+.5)*X;U[H+1]=(h[H+1]+.5)*X;U[H+2]=(h[H+2]+.5)*X}U[H+3]=1}return[{IK:new gi(0,0,F,A),data:U.buffer,depth:32,Uh:b_.gy.get("icc/srgb_lin")}]};
b_.ZT.aAk=function(s,M,O,P,y){var F=new Int8Array(s.buffer);for(var A=0;A<y;A++){var h=A*P,m=F[O],Z=F[O+1],u=F[O+2];
O+=4;if(m==2&&Z==2&&u>=0){for(var f=0;f<4;f++){var U=h,C=0;while(C<P){var H=s[O];O++;if(H<=128){for(var R=0;
R<H;R++){M[f+U*4]=s[O];O++;U++}}else{var t=s[O];O++;H-=128;for(R=0;R<H;R++){M[f+U*4]=t;U++}}C+=H}}}else{var U=h;
for(var C=0;C<P;C++){var m=0,Z=0,u=0,X=0;if(C>0){m=F[O];Z=F[O+1];u=F[O+2];X=F[O+3];O+=4}if(m==1&&Z==1&&u==1){console.log("doing a run");
var H=X&255,Q=M[(U-1)*4],D=M[(U-1)*4+1],L=M[(U-1)*4+2],E=M[(U-1)*4+3];for(R=0;R<H;R++){M[U*4+0]=Q;M[U*4+1]=D;
M[U*4+2]=L;M[U*4+3]=E;U+=1}C+=H-1}else{M[U*4+0]=s[O-4];M[U*4+1]=s[O-3];M[U*4+2]=s[O-2];M[U*4+3]=s[O-1];
U+=1}}}}};b_.N0={};b_.N0.gD=!0;b_.N0.uQ=!0;b_.N0.u6=function(s,M,O,P,y){P={pags:"",qual:100};P.fmts=["jpg"];
var F=new ToDXF;km.mK(s,P,F,y.s4);return F.buffer};b_.N0.AR=function(s,M){var O=72,P=new kp(1,0,0,1,0,0);
P.scale(O/72,O/72);M.FR=O;var y=new ft(M,P,!1);FromDXF.Parse(s,y)};b_.a0s={};b_.a0s.AR=function(){var s=c.vJ,M=c.je,O=c.Db,P;
function y(A,h,m,Z,u){var f=M(A,m),U=M(A,m+4),C=M(A,m+8),H=s(A,m+12),t=s(A,m+14);m+=16;var X={};for(var R=0;
R<H+t;R++){var Q=M(A,m),D=M(A,m+4),L,E;if(Q>>>31==1){Q=Q&16777215}if(R<H)L=c.Tr(A,h+Q+2,s(A,h+Q));else L="id"+Q;
var _=Z.slice(0);_.push(L);if(D>>>31==1){D=D&268435455;E=y(A,h,h+D,_,u)}else{var S=M(A,h+D),W=M(A,h+D+4),g=M(A,h+D+8),x=M(A,h+D+12);
if(x!=0)throw"e";if(S<u[0]||S>u[0]+u[1])throw"e";var V=u[2]+S-u[0];E=A.slice(V,V+W);var b=b_.WG(E.buffer);
if(b&&["bmp","png","ico"].indexOf(b)!=-1){var N=b_.O7(b);if(!N.uQ){var J=null;try{J=N.AR(E.buffer)}catch(hj){}if(J){J[0].GF=_[1];
P.push(J[0])}}}else if(b)console.log(b)}X[L]=E;m+=8}return X}function F(A){P=[];var h=new Uint8Array(A),m=0,Z=s(h,m);
m+=2;m+=58;var u=M(h,m);m+=4;m=u;var f=O(h,m,4);m+=4;var U=s(h,m);m+=2;var C=s(h,m);m+=2;var H=M(h,m);
m+=4;var t=M(h,m);m+=4;var X=M(h,m);m+=4;var Q=s(h,m);m+=2;var D=s(h,m);m+=2;m+=Q;var L={};for(var R=0;
R<C;R++){var E=m;while(h[E]!=0)E++;var _=O(h,m,E-m),S=M(h,m+8),W=M(h,m+12),g=M(h,m+16),x=M(h,m+20),V=M(h,m+24),b=M(h,m+28),N=s(h,m+32),J=s(h,m+34),D=M(h,m+36);
L[_]=[W,S,x,g,D];if(V+b!=0)throw"e";m+=40}for(var K in L){var q=L[K];m=q[2];if(K==".rsrc"){var d=y(h,m,m,[],q),l="id134"}}return P}return F}();
b_.Pa={};b_.Pa.uQ=!0;b_.Pa.AR=function(s,M,O){if(O&&O.length!=2)O=null;eq.kM(s,M,O)};b_.Pa.u6=function(s,M,O){return eq.mK(s)};
(function(){var s=b_.gy.get("wasm/zstd").buffer;WebAssembly.instantiate(s).then(function(M){var O=M.instance.exports;
b_.Pa.azD=O})}());b_.Pa.Dc=function(s,M){var O=b_.Pa.azD,P=s.length,y=O.memory,F=2*P+1e6,m=4;b_.YE(O,F);
var A=new Uint8Array(y.buffer),h=O.malloc(P);A.set(s,h);while(!0){var Z=M==null?P*m:M,u=b_.YE(O,F+Z);
if(u!=0){alert("This file is too bif for your browser (WASM memory grow breaks at "+fK.si(u)+")",5e3);
return null}var f=O.malloc(Z),U=O.ZSTD_decompress(f,Z,h,P);if(U==-70){O.free(f);m+=m>>>1;if(M!=null)throw"error"}else{A=new Uint8Array(y.buffer);
s=A.slice(f,f+U);O.free(f);break}}O.free(h);return s};b_.Ek={};b_.Ek.uQ=!0;b_.Ek.AR=function(){var s=0,M=1,O=2,P=3,y=4,F=5,A=6,h=7,m=1,Z=2,u=7,f=8,U=9,C,H,t,X,Q;
function D(){var hS=c.KF(C,H);H+=4;return hS}function L(){var T=0,B=0;for(var R=0;R<5;R++){var p=C[H++];
T+=(p&127)<<B;B+=7;if((p&128)==0)break}return T}function E(){var T=L(),B=c.xJ(C,H,T);H+=T;return B}function _(){return{typeName:E(),amg:D()}}function S(){var T=D(),B=E(),p=[],I=D();
for(var R=0;R<I;R++)p.push([E()]);return{id:T,TD:B,a2F:p}}function W(T){var B=T.a2F,p=[];for(var R=0;
R<B.length;R++)B[R].push(C[H++]);for(var R=0;R<B.length;R++){var I=B[R][1],w;B[R].push(g(I))}}function g(T){var B;
if(T==s)B=C[H++];else if(T==P)B=E();else if(T==y)B=_();else if(T==M||T==O||T==A||T==F){}else throw T;
return B}function x(T,B,p){var I;if(T==s){if(B==m)I=C[H++]==1;else if(B==Z){I=C[H++]}else if(B==f)I=D();
else if(B==U){I=D();D()}else throw B}else if(T==P){I=J(p+1)}else if(T==y){I=J(p+1)}else if(T==F){I=J(p+1)}else if(T==M){I=J(p+1)}else if(T==A){I=J(p+1)}else if(T==O){I=J(p+1)}else throw T;
return I}function V(T,B){var p=t["c"+T],I=p.a2F,w={_class:p.TD};for(var R=0;R<I.length;R++){var e=I[R],G=e[1],j=e[2],o=x(G,j,B),r=e[0];
w[r]=o}return w}function b(T,B,p,I){var w=[];for(var R=0;R<T;R++){var e=x(B,p,I);if(e.t&&e.t=="null_count"){var G=e.rM;
for(var j=0;j<G;j++)w.push(null);R+=G-1}else w.push(e)}return w}function N(){return[D(),D()]}function J(T){if(T==null)throw"e";
var B=null,p=C[H],I=null;H++;if(p==0){var w=D(),e=D(),G=D(),j=D();B=[w,e,G,j]}else if(p==1){I=D();var o=D();
B=V(o,T)}else if(p==4){var r=S();I=r.id;W(r);t["c"+r.id]=r;B=V(r.id,T)}else if(p==5){var r=S();I=r.id;
W(r);var k=D();t["c"+r.id]=r;B=V(r.id,T)}else if(p==6){I=D();var a7=E();B=a7}else if(p==7){I=D();var Y=C[H++];
if(Y!=0)throw Y;var v=D();if(v!=1)throw v;var n=D(),cm=C[H++],a5=g(cm);B=b(n,cm,a5,T)}else if(p==9){var gP=D();
B={t:"ref",rM:gP};Q["o"+gP]=!0}else if(p==10){B={t:"null_count",rM:1}}else if(p==11){B={t:"end"}}else if(p==12){var k=D(),cg=E()}else if(p==13){var a9=C[H++];
B={t:"null_count",rM:a9}}else if(p==16){var ew=N();I=ew[0];B=b(ew[1],y,null,T)}else if(p==17){var ew=N();
I=ew[0];B=b(ew[1],M,null,T)}else throw"e";if(I!=null&&I>0){if(X["o"+I]!=null)throw"e";X["o"+I]=B}return B}function K(T,X){if(T instanceof Array){for(var R=0;
R<T.length;R++)T[R]=q(T[R],X)}else if(T instanceof Object){for(var B in T)T[B]=q(T[B],X)}}function q(T,X){if(T&&T.t&&T.t=="ref")return X["o"+T.rM];
else return T}function d(T,B,p){var I=Date.now();C=new Uint8Array(T);H=0;t={};X={};Q={};var w=c.Db(C,0,4);
if(w!="PDN3")throw w;H+=4;var e=c.vJ(C,H)+C[H+2]*256*256;H+=3;var G=c.Db(C,H,e);H+=e;H+=2;while(!0){var j=J(0);
if(j&&j.t&&j.t=="end")break}for(var o in Q)if(X[o]==null)throw o;for(var o in X)K(X[o],X);var r=X.o1;
console.log(r);B.A=r.width;B.$=r.height;B.buffer=a.j(B.A*B.$*4);var k=r.layers["ArrayList+_items"];for(var R=0;
R<k.length;R++){var a7=k[R];if(a7==null)continue;var Y=a7["Layer+width"],v=a7["Layer+height"],n=a7["Layer+properties"],cm=a7.properties,a5=cm.blendOp._class.split("+").pop();
a5=a5.slice(0,a5.length-7);var gP={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[a5],cg=B.Tk();
cg.jj(n.name);cg.N_=n.opacity;cg.x1(n.visible);cg.mX=gP;if(C[H]!=0)throw"e";H++;var a9=c.h4(C,H);H+=4;
var ew=Math.ceil(Y*v*4/a9);cg.S=new gi(0,0,Y,v);var h7=cg.buffer=a.j(Y*v*4);for(var bh=0;bh<ew&&H<C.length;
bh++){var ba=l();h7.set(ba[1],ba[0]*a9)}for(var jx=0;jx<h7.length;jx+=4){var c4=h7[jx+0];h7[jx+0]=h7[jx+2];
h7[jx+2]=c4}B.U.push(cg)}}function l(){var T=c.h4(C,H);H+=4;var B=c.h4(C,H);H+=4;H+=10;B-=10;var p=pako.inflateRaw(C.slice(H,H+B));
H+=B;return[T,p]}return d}();b_.Lz={};b_.Lz.uQ=!0;b_.Lz.AR=function(s,M){eT.kM(s,M)};b_.W9={};b_.W9.uQ=!0;
b_.W9.AR=function(){var s,M,X=null,W,g;function O(){var d=s[M];M+=1;return d}function P(){var d=c.m4(s,M);
M+=2;return d}function y(){var d=c.h4(s,M);M+=4;return d}function F(){var d=c.VU(s,M);M+=4;return d}function A(){var d=c.dy(s,M);
M+=8;return d}function h(){var d=y();if(d>200)throw d;var l=c.QY(s,M,d);M+=d*2;return l}function m(){var d=c.tV(s,M);
M+=8;return d}function Z(){var d=c.C6(s,M);M+=4;return d}function u(){var d=y();if(y()!=4)throw"e";var l=[];
for(var R=0;R<d;R++)l.push(y());return l}function f(d,l,T){for(var R=0;R<d.length;R++)if(d[R][l]==T)return d[R]}function U(d,l){var T=Date.now();
s=new Uint8Array(d);M=c.Ah(s,"CH"+"NK"+"SQ"+"Li")+8;var B=A(),p=c7.parse(s.buffer.slice(M,M+B)),I=c7.a0g(p,!0);
console.log(I);var w=I.Canvas[0],e=w.Width,G=w.Height,j=w.Unit,o=l.FR=w.Resolution;if(j==0){}else if(j==1){e=Math.round(e*o/2.54);
G=Math.round(G*o/2.54)}else if(j==2){e=Math.round(e*o/25.4);G=Math.round(G*o/25.4)}else if(j==3){e=Math.round(e*o);
G=Math.round(G*o)}else if(j==5){e=Math.round(e*o/72);G=Math.round(G*o/72)}else{console.log(w);throw j}l.A=e;
l.$=G;l.buffer=a.j(e*G*4);console.log(Date.now()-T);var r=f(I.Layer,"MainId",w.RootFolder);N(I,s,l,r.FirstChildIndex,0);
console.log(Date.now()-T)}function C(){var d=c.vJ(s,M);M+=2;return d}function H(){var d=c.je(s,M);M+=4;
return d}function t(){var d=c.KF(s,M);M+=4;return d}function Q(d){var l={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},B=0;
s=d;M=0;var T={};while(M<s.length){var p=H(),I=H(),w=M+I;if(I==0)continue;var e=[];if(p==11){var G=H();
for(var j=0;j<G;j++){var o=[H(),H()];e.push(o);B+=o[1];var r=M+H()-4;o.push(C(),C(),C(),C());o.push(c.$L(s,M));
M+=8;var k=C();o.push(c.Tr(s,M,k));M+=k*2;if(M!=r)throw"e"}}else if(p==31){e=c.xJ(s,M,I);M+=I}else if(p==34)for(var R=0;
R<3;R++)e.push(H()>>>16);else if(p==42)for(var R=0;R<4;R++)e.push(t());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(p)!=-1){if(I!=4)throw"e";
e=H();if([37,45,46,51,53,55,61,62].indexOf(p)!=-1){M=w;continue}}else if(p==47){var a7=C();if(H()!=50)throw"e";
if(H()!=0)throw"e";var Y=C();e=c.Db(s,M,Y);M+=Y}else if(p==57){var G=C();for(var R=0;R<G;R++){var v=C(),n=c.Db(s,M,v);
M+=v;var cm=C(),a5=c.Db(s,M,cm);M+=cm;e.push([n,a5])}if(M<w){var gP=H();for(var R=0;R<G;R++)e[R].push(gP)}}else if(p==39||p==63)e.push(H(),H());
else if(p==64){for(var R=0;R<8;R++)e.push(c.KF(s,M+R*4)/100);M+=32}else{e=s.slice(M,w);M+=I}var cg=l[p];
if(cg==null)cg="t"+p;if(T[cg])throw"e";T[cg]=e;if(M!=w)throw p}if(X){}X=T;return T}function D(d){s=d;
M=0;var l=y();if(l!=d.length)throw"e";var T=y(),B=h(),p=y(),I=m(),w=[y()/4294967295,y()/4294967295,y()/4294967295];
return[p,I,w]}function L(d,l){function T(){var e1=[];for(var R=0;R<4;R++)e1.push(c.VU(s,M+R*4));M+=16;
return e1}function B(hS){var e1=[];for(var R=0;R<hS;R++)e1.push(Z());return e1}function p(e1){var fs="";
for(var R=M;R<e1;R+=4)fs+=s.slice(R,R+4).join(", ")+"\n";return fs}s=d;M=l+8;var I=A(),w=M+I;M+=56;if(M==w)return;
var e=[],G=[],j=[],o=[],r=[];while(M<w){var k=y(),h7=1;if(k!=88&&k!=92&&k!=96&&k!=100)throw k;var a7=y();
if(a7!=72&&a7!=76)throw a7;var Y=y();if(Y!=88&&Y!=104&&Y!=120)throw Y;var v=y();if(v!=88)throw v;var n=y(),cm=y(),a5=T(),gP=[];
j.push(gP);for(var R=0;R<6;R++){gP.push(E(y()))}var cg=m();if(a7==76)y();var a9=y();if((cm&1)==0){console.log("8 extra bytes");
y();a9=y()}var ew=m();o.push(ew);var bh=y(),ba=(cm&256)!=0,jx=[],c4=[],bq={88:1,104:2,120:3}[Y];for(var R=0;
R<n;R++){var di=R==0?1:bq;for(var il=0;il<di;il++)jx.push(m(),m());c4.push(di==1?R==0?"M":"L":di==2?"Q":"C");
var j0=T(),j1=y();h7=Z();var b5=B(10),b4=y(),lm=y()}r.push(h7);if(Y==104){var ix=m(),jy=m();if(ba){c4.push("Q");
jx.push(ix,jy,jx[0],jx[1])}}if(Y==120){var ix=m(),jy=m(),bz=m(),c5=m();if(ba){c4.push("C");jx.push(ix,jy,bz,c5,jx[0],jx[1])}}if(cm&128){var k0=["M"],cd=[jx[0],jx[1]],fz=jx.length>>>1,fu=a.b.aBr(jx);
for(var R=0;R<fz;R++){var c6=jx[2*R],k7=jx[2*R+1],hP=.7;for(var il=0;il<2;il++){fu[R*4+il*2]=hP*fu[R*4+il*2]+(1-hP)*c6;
fu[R*4+il*2+1]=hP*fu[R*4+il*2+1]+(1-hP)*k7}}for(var R=1;R<fz;R++){k0.push("C");cd.push(fu[R*4-2],fu[R*4-1],fu[R*4],fu[R*4+1],jx[R*2],jx[R*2+1])}if(ba){k0.push("C");
cd.push(fu[fz*4-2],fu[fz*4-1],fu[0],fu[1],jx[0],jx[1])}jx=cd;c4=k0}if(ba)c4.push("Z");G=G.concat(jx);
e=e.concat(c4)}if(M!=w)throw"e";return[{L:G,J8:e},j,o,r]}function E(d){return Math.min(255,Math.round(d/16777216))}function _(d){s=d;
M=0;var l=y();if(l!=16)throw l;var T=y();if(T!=102)throw T;var B=y();if(B!=42&&B!=58)throw B;var p=y();
if(d.length-p!=118+B)throw d.length-p;var I=h();if(I!="Parameter")throw I;var w=y(),e=y(),G=y(),j=y(),o=[];
for(var R=0;R<16;R++)o.push(y());var I=h();if(I!="InitColor")throw I;if(y()!=20)throw"e";var r=y(),k=y(),a7=y();
if(y()!=4)throw"e";if(B==58){var Y=[];o.push(Y);for(var R=0;R<4;R++)Y.push(E(y()))}var I=h();if(I!="BlockSize")throw I;
var v=y();if(v!=12)throw v;var n=u();if(M!=s.length)throw"e";return[w,e,G,j,r*255,o]}function S(d,l){var T=c.Db(l,0,40),B=f(d["ExternalC"+"hunk"],"Exte"+"rnalID",T);
if(B==null){console.log("chnk not found",T)}return B?B.Offset:-1}function x(d,l,T,B){if(W==null){W=a.j(256*256*4);
g=a.j(256*256)}var p=d.Mipmap,I=d.MipmapInfo,w=d.Offscreen,e=f(p,"MainId",T),G=f(I,"MainId",e.BaseMipmapInfo),j=f(w,"MainId",G.Offscreen),o=S(d,j.BlockData),U=null;
if(o==-1)return null;var r=b_.W9.apv(l,o),k=_(j.Attribute),a7=k[0],Y=k[1],v=k[2],n=k[3],cm=k[4],a5=k[5],gP=a5[16],cg=a5[1],a9=a5[2],ew=cg+a9;
if(a9!=a5[5])throw"e";if(cg!=a5[7])throw"e";var h7=a.j(256*(a5[6]+a5[8])),bh=new gi;if(gP)bh=new gi(0,0,a7,Y);
else{for(var ba=0;ba<n;ba++)for(var jx=0;jx<v;jx++){var c4=r[ba*v+jx];if(c4.length==0)continue;bh=bh.v8(new gi(jx<<8,ba<<8,256,256))}}var bq=bh.OK(new gi(0,0,a7,Y)),di=a.j(bq.C()*(ew==1?1:4));
if(gP)a.vK(di,255<<24|gP[0]<<16|gP[1]<<8|gP[2]);if(ew==1)di.fill(cm);var il=new Uint32Array(W.buffer),j0={};
for(var ba=0;ba<n;ba++)for(var jx=0;jx<v;jx++){var c4=r[ba*v+jx];if(c4.length==0)continue;var j1=new Uint8Array(c4.buffer,c4.byteOffset+2,c4.length-6),b5=new gi(jx<<8,ba<<8,256,256),b4=h7;
if(j1.length<2e3){var T=j1.length+","+h7.length+","+j1.slice(0,16).join(":");if(j0[T]==null){UZIP.inflateRaw(j1,h7);
j0[T]=h7.slice(0)}b4=j0[T]}else UZIP.inflateRaw(j1,h7);if(ew==1){if(a5[8]==32){V(b4,0,g);a.TT(g,b5,di,bq)}else a.TT(b4,b5,di,bq)}else if(ew==2){if(a5[8]==32){a.vK(W,267387135);
V(b4,0,g);a.GS(g,W,3);V(b4,256*32,g);a.Rm(g,W)}else for(var R=0;R<262144;R+=4){var gP=b4[65536+(R>>>2)];
W[R]=gP;W[R+1]=gP;W[R+2]=gP;W[R+3]=b4[R>>>2]}a.FP(W,b5,di,bq)}else if(ew==5){for(var R=0;R<262144;R+=4){il[R>>>2]=b4[R>>>2]<<24|b4[65536+R+0]<<16|b4[65536+R+1]<<8|b4[65536+R+2]}a.FP(W,b5,di,bq)}else throw ew}if(B&&ew==1){var lm=a.j(a7*Y*4);
a.GS(di,lm,3);di=lm}return[bq,di,cm]}function V(d,M,l){for(var R=0;R<l.length;R++){l[R]=(d[M+(R>>>3)]>>>7-(R&7)&1)*255}}var b=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function N(d,l,T,B,p){var I=d.Layer,w=d.Canvas[0];while(B!=0){var e=f(I,"MainId",B),G=e.Type,v=!1;console.log(e);
var j=T.Tk();j.jj(e.Name);j.N_=Math.min(255,e.Opacity);j.x1((e.Visibility&1)!=0);j.mX=b[e.Composite];
if(j.mX==null){alert("Unknown blend mode "+e.Composite);j.mX="norm"}j.nN=e.Clip==1;T.U.push(j);var o=e.LayerMaskMipmap;
if(o!=0){var r=x(d,l,o,!1);if(r){j.$E=new ad.OL;j.$E.S=r[0];j.$E.N=r[1];j.$E.color=r[2];J(j.$E.S,e,"Mask","Mask");
j.$E.FW()}}var k=[];for(var R=0;R<3;R++)k.push(E(e["DrawColorMain"+["Red","Green","Blue"][R]]));var a7={t:"Objc",v:a.wv.gN({o:k[0],R:k[1],X:k[2]})},Y=JSON.parse(aV.default);
for(var R=0;R<aV.order.length;R++)Y[aV.e1[R]]={t:"VlLs",v:[]};if(e.DrawColorEnable==1&&G!=1584){v=!0;
var n=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);n.Clr=a7;Y.solidFillMulti.v.push({t:"Objc",v:n})}if(e.EffectInfo){var cm=D(e.EffectInfo),k=cm[2];
if(cm[0]==1){v=!0;var n=JSON.parse(aV.d$[aV.order.indexOf("FrFX")]);n.Clr.v=a.wv.gN({o:k[0]*255,R:k[1]*255,X:k[2]*255});
n.Sz.v.val=Math.round(cm[1]);Y.frameFXMulti.v.push({t:"Objc",v:n})}}if(e.FilterLayerInfo){s=e.FilterLayerInfo;
M=0;var a5=y(),gP=y();if(gP!=s.length-M)throw"e";var cg={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[a5];
if(cg!=null){var a9=bW.Jb(cg);j.add[cg]=a9?a9:{};if(cg=="brit")bW.Pj["g"+cg](a9,[F(),F(),!0]);if(cg=="hue2")aU.lB(a9,0,[F(),F(),F()]);
if(cg=="curv"){var ew=[],h7=M;for(var R=0;R<32;R++){M=h7+R*130;var bh=P(),ba=[];ew.push(ba);for(var jx=0;
jx<bh;jx++)ba.push(P()/65535,P()/65535)}for(var R=0;R<4;R++){var ba=ew[R],c4=ef.n0(a9,R),bq=c4[0];for(var jx=0;
jx<ba.length;jx+=2){var di=c4[jx>>>1]=a.G(bq);di.v.Hrzn.v=Math.round(ba[jx]*255);di.v.Vrtc.v=Math.round(ba[jx+1]*255)}ef.lB(a9,R,c4)}}if(cg=="grdm"){var il=a9.Grad.v,j0=[],j1=y();
if(j1!=gP-4)throw j1;var b5=y();if(b5!=16&&b5!=24)throw b5;var b4=y();if(b4!=28)throw b4;var lm=y();
for(var R=0;R<lm;R++){var ix=0,jy=[];for(var jx=0;jx<7;jx++)jy.push(y());j0.push([jy[6]/32768,[jy[1]/4294967295,jy[2]/4294967295,jy[3]/4294967295],jy[4]/4294967295])}a.wv.mv(j0,il)}if(cg=="blnc"){a9.PrsL.v=y()==1;
for(var R=0;R<3;R++){var bz=a9[["ShdL","MdtL","HghL"][R]].v;for(var jx=0;jx<3;jx++)bz[jx].v=F()}}}else console.log("Unknown adjustment",a5,gP,j.getName())}if(G==1584){j.Xa|=16;
j.add.SoCo={classID:"null",Clr:a7};j.uH(T)}else if(G==800){T.U.pop()}else if(e.Folder!=0){j.add.lsct=(e.Folder&16)!=0?dU.aY:dU.l9;
j.mX="pass";T.U.pop();T.U.push(T.kA());N(d,l,T,e.FirstChildIndex,p+1);T.U.push(j)}else if(G==0||G==1||G==2||G==3){var r=x(d,l,e.RenderMipmap,!0);
if(r){j.S=r[0];j.buffer=r[1];J(j.S,e,"Render","");if(j.S.C()<2e6)j.FW()}if(e.ResizableOriginalMipmap){var c5=x(d,l,e.ResizableOriginalMipmap,!0),k0=c5[0],cd;
if(k0.C()>4e6)cd=b_.Li.S3(c5[1].buffer,k0.A,k0.$);else cd=b_.O7("PNG").u6([[c5[1].buffer,0]],k0.A,k0.$);
var fz=T.N4(new Uint8Array(cd),j.getName(),0,0);j.add.SoLd=fz.add.SoLd;j.buffer=fz.buffer;j.S=fz.S;s=e.ResizableImageInfo;
M=0;var fu=[];for(var R=0;R<10;R++)fu.push(y());var c6=[];for(var R=0;R<7;R++)c6.push(m());for(var R=0;
R<6;R++)fu.push(y());var k7=[];for(var R=0;R<8;R++)k7.push(m());var hP=k7[4];k7[4]=k7[6];k7[6]=hP;hP=k7[5];
k7[5]=k7[7];k7[7]=hP;for(var R=0;R<8;R+=2){k7[R]+=e.OffsetX;k7[R+1]+=e.OffsetY}j.add.SoLd.Trnf=$.TR.kZ(k7);
j.add.SoLd.nonAffineTransform=$.TR.kZ(k7);if(j.CD()||a.b.hG(k7).C()<1e8)j.VN(T,!1)}if(e.TextLayerType!=null){var e1="TextLayerString",fs="TextLayerAttributes",eh=[e[e1]],gW=[e[fs]];
if(e[e1+"Array"]){s=e[e1+"Array"];M=0;while(M<s.length){var gP=H();eh.push(s.slice(M,M+gP));M+=gP}s=e[fs+"Array"];
M=0;while(M<s.length){var gP=H();gW.push(s.slice(M,M+gP));M+=gP}}var hk=j;T.U.pop();for(var jz=0;jz<eh.length;
jz++){var j=hk.v(),k3=0,cP=0;T.U.push(j);var lh=Q(gW[jz]),ag=lh.runs,eo=lh.fnts,aC=lh.bplg,e8=lh.bbox,lb=e8[2]-e8[0],jn=e8[3]-e8[1];
if(aC){k3=aC[2]-aC[0];cP=aC[3]-aC[1]}var cV=new kp;cV.translate(-lb/2,-jn/2);cV.rotate(Math.atan2(-cP,k3));
cV.translate(lb/2,jn/2);var l2=e8[0]+e.OffsetX,dS=e8[1]+e.OffsetY;cV.translate(l2,dS);j.add.lnsr="rend";
j.add.TySh=iP.cN(0,0);j.add.TySh.WY=new gi(0,0,500,500);j.add.TySh.M=cV;var gH=j.add.TySh.nA,hd=c.xJ(eh[jz]);
j.jj(hd);iP.Xq(gH,0,hd);iP.hV(gH,1);iP.w9(gH,[0,0,lb,jn]);if(ag)for(var R=0;R<ag.length;R++){var bL=ag[R],au=bL[0],ev=au+bL[1],eF=bL[2],fn=iP.ty(gH,au,ev),iu=T.FR/72*lh.size/100;
if((eF&512)!=0)iu*=bL[6]/100;fn.TY.FontSize=Math.round(iu);var a7=(eF&256)!=0?bL.slice(3):lh.colr;fn.TY.FillColor={Type:1,Values:[1,a7[0]/65535,a7[1]/65535,a7[2]/65535]};
var gz=bL[7]==""?lh.font:bL[7];if(eo){if(eo[R])gz=eo[R][1];else for(var jx=0;jx<eo.length;jx++)if(eo[jx][0]==gz)gz=eo[jx][1]}iP.Z2(fn,gz);
iP.UP(gH,au,ev,fn)}if(j.S.C()==0)T.Jf=!0;else{j.S=new gi(l2,dS,lb,jn);j.buffer=a.j(j.S.C()*4);a.FP(hk.buffer,hk.S,j.buffer,j.S)}}}}var dL=d.VectorObjectList;
if(e.VectorNormalType!=null&&dL&&f(dL,"LayerId",B)){var dm=f(dL,"LayerId",B).VectorData,cM=S(d,dm),l5=L(l,cM);
if(l5){var i3=null;if(j.add.TySh){var i3=j.v();T.U.push(i3);delete j.add.TySh}K(j,e,l5[0]);if(j.ES()){j.Xa|=24;
var fz=T.Tk();fz.jj(j.getName());fz.N_=j.N_;T.U.push(fz);K(fz,e,l5[0]);q(fz,l5);fz.uH(T)}else{q(j,l5,i3!=null)}j.uH(T);
if(i3){i3.add.TySh.M.concat(new kp(1,0,0,1,j.S.x+j.S.A/2,j.S.y+j.S.$/2))}}}if(v)j.add.lmfx=Y;if(B==w.CurrentLayer)T.Y=[T.U.indexOf(j)];
B=e.NextIndex}}function J(d,l,T,B){d.x+=l[T+"OffscrOffsetX"]+l[B+"OffsetX"];d.y+=l[T+"OffscrOffsetY"]+l[B+"OffsetY"]}function K(d,l,T){d.add.vmsk=new ad.Vp;
a.b.M(T.L,new kp(1,0,0,1,l.OffsetX,l.OffsetY),T.L);d.add.vmsk.u=a.b.Ie(T);d.$k()}function q(d,l,T){var B=l[1][0],p=l[2][0];
d.Xa|=16;var I=d.add.vstk=aV.To.Jb(!0,!0);I.fillEnabled.v=T==!0;d.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:255,R:255,X:255})}};
I.strokeStyleContent.v.Clr.v=a.wv.gN({o:B[0],R:B[1],X:B[2]});I.strokeStyleLineWidth.v.val=p*2;I.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return U}();
b_.W9.apv=function(s,M){var O={yH:s,mr:M+8},m=0;function P(x){var V=c.h4(x.yH,x.mr);x.mr+=4;return V}function y(x){var V=P(x);
if(V>200)throw V;var N=c.QY(x.yH,x.mr,V);x.mr+=V*2;return N}function F(x){var V=P(x);if(P(x)!=4)throw"e";
var Z=[];for(var R=0;R<V;R++)Z.push(P(x));return Z}var A=c.dy(O.yH,O.mr);O.mr+=8;var h=O.mr+A;O.mr+=56;
var Z=[];while(O.mr<h){var u=P(O),f=O.mr+u-4;if(f>h)throw"e";if(u==11){O.mr-=4;var U=y(O),C=P(O);if(C!=12)throw"e";
var H=F(O),t=y(O),C=P(O);if(C!=12)throw"e";var X=F(O);if(O.mr!=h)throw"e"}else{var Q=y(O),D=P(O);if(D!=m)throw D;
m++;var L=c.m4(O.yH,O.mr);O.mr+=2;if(L!=0&&L!=1&&L!=2&&L!=5)throw L;var E=O.yH[O.mr++];if(E!=0&&E!=32&&E!=64)throw E;
var _=P(O);if(_!=1)throw _;if(P(O)!=1)throw"e";if(O.yH[O.mr++]!=0)throw"e";if(P(O)==1){var S=P(O),W=c.je(O.yH,O.mr);
if(S!=W+4)throw"e";Z.push(new Uint8Array(O.yH.buffer,O.mr+4,W));O.mr+=S}else Z.push(new Uint8Array(0));
var g=y(O);if(O.mr!=f)throw O.mr}}return Z};b_.rr={};b_.rr.uQ=!0;b_.rr.AR=function(s,M){aT.kM(s,M)};
b_.Pg={};b_.Pg.uQ=!0;b_.Pg.AR=function(s,M){var O=Date.now(),P=jV.parse(s),y=c.KF,F=c.Sw,A=P.LtfHeader,h=0,m=y(A,h);
h+=4;if(m!=A.length)throw"e";var Z=y(A,h);h+=4;if(Z!=4609100)throw"e";var u=y(A,h);h+=4;if(u!=400&&u!=500&&u!=600)throw u;
var f=F(A,h);h+=2;if(f!=2&&f!=4&&f!=32)throw f;var U=F(A,h);h+=2;var C=y(A,h),H=y(A,h+4);h+=8;var t=y(A,h)/1e4;
h+=8;var u=y(A,h),f=y(A,h+4);h+=8;if(u!=0&&u!=1&&u!=2)throw u;if(u==600)for(var R=0;R<20;R++)if(A[h+R]!=0)throw R;
h+=20;var u=y(A,h);h+=4;if(u!=0&&u!=1)throw u;var X=y(A,h);h+=4;if(X!=0&&X!=1)throw X;for(var R=0;R<476;
R++)if(A[h+R]!=0)throw R;h+=476;var Q=h+104;M.A=C;M.$=H;M.buffer=a.j(C*H*4);var D=P.LtfMainPalette,L=P.LtfObjectList;
h=0;if(L){var hS=y(L,0);if(y(L,4)!=hS)throw"e";for(var E=0;E<hS;E++){h=8+E*192;var _=h+128;while(L[_]!=0)_+=2;
var S=c.Tr(L,h+128,_-(h+128)>>>1);b_.Pg.DS(P[S],M,D)}}var W=M.Tk();M.U.push(W);W.jj("Background");if(P.LtfMainImage){var g=b_.Pg.ft(P.LtfMainImage,null,D);
W.buffer=g[0];W.S=g[1]}else{W.S=new gi(0,0,C,H);var x=y(A,Q);b_.Pg.aI3(W,D?y(D,2+x*4):x)}M.U.reverse()};
b_.Pg.agH=function(s){var M="";for(var R=0;R<s.length;R++){var O=""+s[R];while(O.length<3)O=" "+O;M+=O+", "}return M};
b_.Pg.DS=function(s,M,O){var P=c.KF,y=M.Tk(),A=0;M.U.push(y);var F=s.ObjectData;if(P(F,0)!=F.length)throw"e";
A+=4;var h=A;while(F[h]!=0)h++;y.jj(c.Db(F,A,h-A));A=h+1;if(h==5){if(F[A]!=0)throw"e";A++}var m=s.ObjectMask0,Z=s.PathStream;
if(Z&&m==null){var u=y.add.vmsk=new ad.Vp;u.u=b_.Pg.ND(Z);y.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:F[232],R:F[233],X:F[234]})}};
y.add.vstk=aV.To.Jb(!0);y.uH(M)}if(m==null)return;y.S=new gi(P(m,0),P(m,4),P(m,8),P(m,12));if(s.ObjectImage){var f=b_.Pg.ft(s.ObjectImage,null,O,y.S.A);
if(f[1].A!=y.S.A)throw"e";y.buffer=f[0]}else b_.Pg.aI3(y,P(F,188));b_.Pg.ft(new Uint8Array(m.buffer,16),y.buffer)};
b_.Pg.aI3=function(s,M){s.buffer=a.j(s.S.C()*4);a.vK(s.buffer,255<<24|M)};b_.Pg.ND=function(s){var M=c.Sw,O=c.KF,P=c.Tz,A=0;
function y(X,Q){var D=M(X,Q),L=M(X,Q+2);return L}var F=pako.inflate(s.slice(12));A=128;for(var R=0;R<260;
R++)if(F[A+R]!=0)throw R;A+=260;if(O(F,A)!=50)throw"e";A+=4;if(O(F,A)!=0)throw"e";A+=4;if(O(F,A)!=0)throw"e";
A+=4;var h=O(F,A);A+=4;var h=O(F,A);if(h!=106&&h!=186&&h!=196&&h!=236)throw O(F,A);A+=4;if(O(F,A)!=0)throw"e";
A+=4;if(O(F,A)!=24)throw"e";A+=4;if(O(F,A)!=0)throw"e";A+=4;var h=O(F,A);A+=4;var m=O(F,A);A+=4;if(O(F,A)!=0)throw"e";
A+=4;if(O(F,A)!=0)throw"e";A+=4;if(O(F,A)!=1280)throw"e";A+=4;for(var R=0;R<24;R++)if(F[A+R]!=0)throw R;
A+=24;var Z=O(F,A);A+=4;if(42+Z*10!=m)throw"e";var u=O(F,A);A+=4;var f=O(F,A);A+=4;var U=[{I:6},{I:8,all:0}];
U.push({I:0,length:Z,VF:0,gW:2,zm:0,fd:0});for(var R=0;R<Z;R++){var C=y(F,A+2),H=y(F,A+6),t=new j6(C,H);
U.push({I:2,Rb:t.v(),nr:t,XO:t.v()});A+=10}return U};b_.Pg.ft=function(s,M,O,P){var y=c.KF,F=c.vJ,A=b_.Pg.agH,h=0,m=y(s,h),H,t=0,q;
h+=4;var Z=y(s,h);h+=4;var u=y(s,h);h+=4;var f=y(s,h);h+=4;var U=y(s,h);h+=4;var C=m*Z,X=s.length;if(C==X-20)H=new Uint8Array(s.buffer,20+s.byteOffset);
else if(u==64*64*3||M&&u==64*64){var Q=b_.O7("jpg"),D=0,L=0;H=a.j(m*Z);while(h<s.length){var E=y(s,h);
h+=4;var _=Q.AR(s.slice(h,h+E))[0],f=_.IK,S=new Uint8Array(_.data),W=M?m:m/3;for(var g=0;g<f.$;g++)for(var x=0;
x<f.A;x++){var V=g*f.A+x,b=(g+L)*W+(x+D);if(M)H[b]=S[V*4];else{H[b*3+0]=S[V*4+2];H[b*3+1]=S[V*4+1];H[b*3+2]=S[V*4+0]}}D+=64;
if(D>W){L+=64;D=0}h+=E}}else{H=a.j(C);for(var V=0;V<C;V+=u){var N=V+u,J=y(s,h);h+=4;while(t<N&&h<X){var K=s[h];
h++;if(K<128)for(var R=0;R<K+1;R++){H[t++]=s[h++];if(M)continue;H[t++]=s[h++];H[t++]=s[h++]}else{K-=127;
for(var R=0;R<K;R++){H[t++]=s[h+0];if(M)continue;H[t++]=s[h+1];H[t++]=s[h+2]}h+=M?1:3}}}}if(M){for(var R=0;
R<C;R++)M[R*4+3]=H[R];return[H,new gi(0,0,m,Z)]}if(O){q=a.j(C*4);for(var R=0;R<C;R++){var d=R<<2,u=2+H[R]*4;
q[d]=O[u];q[d+1]=O[u+1];q[d+2]=O[u+2];q[d+3]=255}}else if(P!=null&&P==m){q=a.j(C*4);q.fill(255);for(var R=0;
R<C;R++)q[R*4+0]=q[R*4+1]=q[R*4+2]=H[R]}else{m=Math.round(m/3);C=m*Z;q=a.j(C*4);for(var R=0;R<C;R++){var b=R*3,d=R<<2;
q[d]=H[b];q[d+1]=H[b+1];q[d+2]=H[b+2];q[d+3]=255}}return[q,new gi(0,0,m,Z)]};b_.FT={};b_.FT.uQ=!0;b_.FT.AR=function(){var s=c.vJ,M=c.je,O=0;
function P(F,A){O=s(F,A+2);console.log("nFib",O,O.toString(16));A+=32;if(s(F,A)!=14)throw"e";A+=2;A+=28;
if(s(F,A)!=22)throw"e";A+=2;var h=M(F,A);A+=4;A+=8;var m=M(F,A);A+=4;var Z=M(F,A);A+=4;var u=M(F,A);
A+=4;A+=4;var f=M(F,A);A+=4;var U=M(F,A);A+=4;var C=M(F,A);A+=4;var H=M(F,A);A+=4;A+=11*4;var t=s(F,A);
A+=2;for(var R=0;R<t;R++){var X=M(F,A),Q=M(F,A+4);A+=8}}function y(F,A){var h=jV.parse(F);console.log(h);
var m=["WordDocument","Data"],Z=new gi;for(var u=0;u<m.length;u++){var f=h[m[u]],U=[],C=0;while(C<f.length){var H=c.Ah(f,[255,216,255],C);
if(H==-1)break;U.push(H);C=H+1}var t=[];for(var R=0;R<U.length;R++){var X=f.slice(U[R],U[R+1]),Q=b_.xp.AR(X.buffer)[0];
Z=Z.v8(Q.IK);var D=A.Tk();A.U.push(D);D.jj("Layer");D.S=Q.IK;D.buffer=new Uint8Array(Q.data)}}if(A.U.length==0){alert("No images found inside a document.");
return}A.A=Z.A;A.$=Z.$;A.buffer=a.j(Z.C()*4)}return y}();b_.afv={};b_.afv.AR=function(s){var M=new Uint8Array(s),O=c.je,A=16;
if(c.Db(M,0,4)!="chlv")throw"e";var P=O(M,4),y=O(M,8),F=O(M,12),h=[];while(A<M.length){var m=O(M,A),Z=O(M,A+48),u=O(M,A+52),f=Z*u,U=Z*4,C=a.j(Z*u*4);
C.fill(255);for(var H=0;H<u;H++)for(var t=0;t<Z;t+=4){var R=H*Z+t,X=R*4,Q=A+108+(R>>>2)*6;C[X]=M[Q+1];
C[X+4]=M[Q+3];C[X+8]=M[Q+4];C[X+12]=M[Q+5];for(var D=0;D<16;D+=4){C[X+D+1]=M[Q+0];C[X+D+2]=M[Q+2]}}var L=new Int8Array(C.buffer),E=new Uint8ClampedArray(C.buffer);
for(var H=0;H<u;H++)for(var t=0;t<Z;t++){var R=(H*Z+t)*4,_=C[R],S=L[R+1],W=L[R+2],g=_+(45*W>>5),x=_-(11*S+23*W>>5),V=_+(113*S>>6);
E[R]=g;E[R+1]=x;E[R+2]=V}A+=m+4;h.push({IK:new gi(0,0,Z,u),data:C.buffer,GF:"_a_"+h.length})}return h};
var ci={};ci.Qh=!1;ci.a4Y=!1;ci.ZW=!1;ci.Tb=document.createElement("canvas");ci.KM=null;ci._k=null;ci.Ks=0;
(function(){var s={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},M;if(!M)M=ci.Tb.getContext("webgl2",s);
if(M){ci.Qh=!0;ci.a4Y=!0;ci.KM=M;ci._k=M.createFramebuffer();M.bindFramebuffer(M.FRAMEBUFFER,ci._k);
M.disable(M.BLEND);M.disable(M.DEPTH_TEST);var O=M.createBuffer();M.bindBuffer(M.ARRAY_BUFFER,O);M.bufferData(M.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),M.STATIC_DRAW);
M.enableVertexAttribArray(0);M.vertexAttribPointer(0,2,M.FLOAT,!1,0,0)}}());ci.axe=function(s){s=s.replace(/\s\s+/g," ");
s=s.replace(/; /g,";");s=s.replace(/} /g,"}");s=s.replace(/ }/g,"}");s=s.replace(/{ /g,"{");s=s.replace(/ {/g,"{");
s=s.replace(/= /g,"=");s=s.replace(/ =/g,"=");s=s.replace(/\| /g,"|");s=s.replace(/ \|/g,"|");return s};
ci.zW=function(s,M){var O=ci.KM;if(s>O.getParameter(O.MAX_TEXTURE_SIZE)){ci.Qh=!1;alert("Too big texture ("+s+" px), Disabling WebGL")}if(M==16&&O.getExtension("EXT_texture_norm16")==null){ci.Qh=!1;
alert("EXT_texture_norm16 missing, Disabling WebGL")}};ci.Uy=function(s,M){return new Float32Array([(s.x-M.x)/M.A,(s.y-M.y)/M.$,s.A/M.A,s.$/M.$])};
ci.FL=function(){return this.Tb};ci.b2=function(s,M){var O=ci.KM;O.bindFramebuffer(O.FRAMEBUFFER,ci._k);
O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,s.U9,0);O.viewport(0,0,s.A,s.$);
if(M){O.enable(O.SCISSOR_TEST);O.scissor(M.x,M.y,M.A,M.$)}else O.disable(O.SCISSOR_TEST)};ci.aEk=function(s,M,O){if(O)throw"error";
var P=ci.KM;P.disable(P.SCISSOR_TEST);P.bindFramebuffer(P.FRAMEBUFFER,null);P.viewport(0,0,s,M);if(O){P.enable(P.SCISSOR_TEST);
P.scissor(O.x,O.y,Math.round(O.A),Math.round(O.$))}else P.disable(P.SCISSOR_TEST)};ci.oU=function(){var s=ci.KM;
s.colorMask(!1,!1,!1,!0);ci.s3(255<<24);s.colorMask(!0,!0,!0,!0)};ci.s3=function(s){var M=ci.KM,O=(s>>>0&255)*(1/255),P=(s>>>8&255)*(1/255),y=(s>>>16&255)*(1/255),F=(s>>>24&255)*(1/255);
M.clearColor(O,P,y,F);M.clear(M.COLOR_BUFFER_BIT)};ci.ci=function(s,M,O,P,y){var F=M.OK(P);if(y)F=F.OK(y);
if(F.g3())return;var A=ci.KM;ci.b2(s);A.bindTexture(A.TEXTURE_2D,O.U9);A.copyTexSubImage2D(A.TEXTURE_2D,0,F.x-P.x,F.y-P.y,F.x-M.x,F.y-M.y,F.A,F.$)};
ci.w2=function(R,s,M,O){if(O==null)O=8;var P=ci.aCM[R];if(P==null||P.A!=s||P.$!=M||P.depth!=O){if(P)P.delete();
P=new ci.po(s,M,O)}ci.aCM[R]=P;return P};ci.aCM=[];ci.Qe=function(){this.sL=null;this.km=null};ci.Qe.I8=null;
ci.Qe.prototype.Ui=function(s){if(this.km)return;this.km={};var M=ci.KM,O=this.sL,P=this.km;for(var R=0;
R<s.length;R++){var y=s[R];P[y]=M.getUniformLocation(O,y)}};ci.Qe.prototype.Qd=function(){};ci.Qe.prototype.bu=function(s){var M=ci.KM;
for(var R=0;R<s.length;R+=2){M.uniform1i(s[R],R>>>1);M.activeTexture(M["TEXTURE"+(R>>>1)]);M.bindTexture(M.TEXTURE_2D,s[R+1])}M.activeTexture(M.TEXTURE0)};
ci.Qe.prototype.Lc=function(s,M){var O=ci.KM,P=O.createShader(O.FRAGMENT_SHADER);O.shaderSource(P,s);
O.compileShader(P);if(!O.getShaderParameter(P,O.COMPILE_STATUS))console.log(O.getShaderInfoLog(P));var y=O.createShader(O.VERTEX_SHADER);
O.shaderSource(y,M);O.compileShader(y);if(!O.getShaderParameter(y,O.COMPILE_STATUS))console.log(O.getShaderInfoLog(y));
var F=O.createProgram();O.attachShader(F,y);O.attachShader(F,P);O.linkProgram(F);if(!O.getProgramParameter(F,O.LINK_STATUS))console.log("Could not initialise shaders");
this.sL=F};ci.Qe.prototype.Yx=function(){if(ci.Qe.I8!=this){ci.KM.useProgram(this.sL);ci.Qe.I8=this}};
ci.GZ=function(s,M,O){ci.aE++;ci.Ks+=s*M;if(ci.ZW)console.log("GL.Channels instances: "+ci.aE+", memory: "+ci.Ks);
var P=ci.KM;this.A=s;this.$=M;if(O==null)O=8;if(O==16){P.getExtension("EXT_texture_norm16")}this.depth=O;
this.aR=O==8?P.R8:O==16?33322:P.R32F;this.yz=O==8?P.RED:O==16?P.RED:P.RED;this.FH=O==8?P.UNSIGNED_BYTE:O==16?P.UNSIGNED_SHORT:P.FLOAT;
this.U9=P.createTexture();this.KZ=null;this.LH(this.U9,s,M)};ci.GZ.prototype.LH=function(s,M,O){var P=ci.KM;
P.bindTexture(P.TEXTURE_2D,s);P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,P.NEAREST);P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST);
P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE);P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE);
P.texImage2D(P.TEXTURE_2D,0,this.aR,M,O,0,this.yz,this.FH,null)};ci.GZ.prototype.set=function(s,M){var O=ci.KM;
O.bindTexture(O.TEXTURE_2D,this.U9);O.pixelStorei(O.UNPACK_ALIGNMENT,1);var P=this.A*this.$;if(M==null||M.C()*10>P)O.texImage2D(O.TEXTURE_2D,0,this.aR,this.A,this.$,0,this.yz,this.FH,s);
else{var y=new gi(0,0,this.A,this.$),F=a.j(M.C(),this.depth);a.TT(s,y,F,M);O.texSubImage2D(O.TEXTURE_2D,0,M.x,M.y,M.A,M.$,this.yz,this.FH,F)}O.pixelStorei(O.UNPACK_ALIGNMENT,4)};
ci.GZ.prototype.delete=function(){var s=ci.KM;if(this.U9){s.deleteTexture(this.U9);ci.aE--;ci.Ks-=this.A*this.$}if(ci.ZW)if(ci.ZW)console.log("GL.Channels instances: "+ci.aE+", memory: "+ci.Ks*4)};
ci.aE=0;ci.po=function(s,M,O,P){if(O==null)O=8;if(P==null)P=!1;ci.aE++;ci.Ks+=s*M*4;if(ci.ZW)console.log("GL.Channels instances: "+ci.aE+", memory: "+ci.Ks);
var y=ci.KM;if(O==16){y.getExtension("EXT_texture_norm16")}if(O==32){y.getExtension("EXT_color_buffer_float");
if(y.getExtension("OES_texture_float_linear")==null)P=!1}this.aFz=P;this.A=s;this.$=M;this.depth=O;this.aR=O==8?y.RGBA:O==16?32859:O==32?y.RGBA32F:y.RGBA16F;
this.yz=O==8?y.RGBA:O==16?y.RGBA:y.RGBA;this.FH=O==8?y.UNSIGNED_BYTE:O==16?y.UNSIGNED_SHORT:y.FLOAT;
this.U9=y.createTexture();this.KZ=null;this.LH(this.U9,s,M)};ci.RG=function(){var s=ci.KM;return s.getExtension("OES_texture_float_linear")?32:33};
ci.po.prototype.set=function(s,M){var O=ci.KM;O.disable(O.SCISSOR_TEST);O.bindTexture(O.TEXTURE_2D,this.U9);
if(s==null||s instanceof Uint8Array||s instanceof Uint16Array||s instanceof Float32Array){var P=this.A,y=this.$,F=P*y;
if((M==null||M.C()*10>F)&&(s==null||s.length>=F*4))O.texImage2D(O.TEXTURE_2D,0,this.aR,P,y,0,this.yz,this.FH,s);
else{var A=s;if(s.length==F*4){var A=a.j(M.C()*4,this.depth);a.FP(s,new gi(0,0,P,y),A,M)}O.texSubImage2D(O.TEXTURE_2D,0,M.x,M.y,M.A,M.$,this.yz,this.FH,A)}}else O.texImage2D(O.TEXTURE_2D,0,this.aR,this.yz,this.FH,s)};
ci.po.prototype.get=function(s){var M=ci.KM;ci.b2(this);M.readPixels(0,0,this.A,this.$,this.yz,this.FH,s)};
ci.po.prototype.rL=function(s){if(s.g3())return;var M=ci.KM;if(this.KZ==null){this.KZ=M.createTexture();
this.LH(this.KZ,this.A,this.$);ci.aE++;ci.Ks+=this.A*this.$*4}M.bindFramebuffer(M.FRAMEBUFFER,ci._k);
M.bindTexture(M.TEXTURE_2D,this.KZ);if(s){var O=Math.max(s.x,0),P=Math.max(s.y,0);M.copyTexSubImage2D(M.TEXTURE_2D,0,O,P,O,P,s.A,s.$)}else M.copyTexImage2D(M.TEXTURE_2D,0,this.yz,0,0,this.A,this.$,0)};
ci.po.prototype.LH=function(s,M,O){var P=ci.KM;P.bindTexture(P.TEXTURE_2D,s);P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,this.aFz?P.LINEAR:P.NEAREST);
P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,P.NEAREST);P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_S,P.CLAMP_TO_EDGE);
P.texParameteri(P.TEXTURE_2D,P.TEXTURE_WRAP_T,P.CLAMP_TO_EDGE);P.texImage2D(P.TEXTURE_2D,0,this.aR,M,O,0,this.yz,this.FH,null)};
ci.po.prototype.delete=function(){var s=ci.KM;if(this.U9){s.deleteTexture(this.U9);ci.aE--;ci.Ks-=this.A*this.$*4}if(this.KZ){s.deleteTexture(this.KZ);
ci.aE--;ci.Ks-=this.A*this.$*4}if(ci.ZW)if(ci.ZW)console.log("GL.Channels instances: "+ci.aE+", memory: "+ci.Ks)};
ci.po.prototype.v=function(){var s=ci.KM,M=new ci.po(this.A,this.$);ci.b2(this);s.bindTexture(s.TEXTURE_2D,M.U9);
s.copyTexImage2D(s.TEXTURE_2D,0,this.yz,0,0,this.A,this.$,0);return M};ci.oj={at8:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a8z:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",iD:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",pG:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",axw:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",jF:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",bz:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",wQ:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",ajj:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",n9:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a90:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",zb:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",aFA:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",GX:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",kr:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",jl:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",yR:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",rk:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",H8:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",ab7:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",aK$:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",de:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",a2y:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
ci.B={};ci.B.mS={};ci.B.apZ=null;ci.B.fQ=null;ci.B.ve=null;ci.B.a7G=function(s,M,O,P,y,F,A,h){if(h==null)h=cb.lh();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(s)==-1){A=A*h.fill;h.fill=1;h.style=!1}var m=M instanceof Array,Z=s+(h.Js?"1":"0")+(m?"1":"0");
if(ci.B.mS[Z]==null)ci.B.mS[Z]=new ci.B.iL(s,h.Js!=null,m);var u=ci.B.mS[Z],f=O.OK(y).OK(F);f.offset(-y.x,-y.y);
if(f.g3())return;var U=ci.KM;ci.b2(P,f);P.rL(f);u.Yx();u.Qd(m?M[1].U9:M.U9,P.KZ,ci.Uy(O,y),A,h.fill,h.style?1:0,h.gZ?1:0,h.Js?new Float32Array(h.Js):null,m?M[0]:null);
U.drawArrays(U.TRIANGLES,0,6)};ci.B.M0=function(s,M,O,P,y,F,A,h,m,Z,u){if(ci.B.aEK==null)ci.B.aEK=new ci.B.dZ(!0,!0,1);
if(ci.B.a73==null)ci.B.a73=new ci.B.dZ(!0,!0,4);if(ci.B.fQ==null)ci.B.fQ=new ci.B.dZ(!0,!1,1);if(ci.B.ve==null)ci.B.ve=new ci.B.dZ(!1,!0,1);
var f=Z?1:0,U=s?y?y instanceof ci.GZ?ci.B.aEK:ci.B.a73:ci.B.fQ:ci.B.ve,C=new Float32Array(u?[u[0],u[1],u[2],1]:[1,1,1,1]),H=M?M.OK(P).OK(h):P.OK(h);
if(H.g3())return;H.offset(-P.x,-P.y);var t=ci.KM;ci.b2(O,H);O.rL(H);U.Yx();if(s==null)U.Qd(null,O.KZ,y.U9,ci.Uy(P,P),ci.Uy(F,P),A/255,m,f,C);
else if(y)U.Qd(s.U9,O.KZ,y.U9,ci.Uy(M,P),ci.Uy(F,P),A/255,m,f,C);else U.Qd(s.U9,O.KZ,null,ci.Uy(M,P),null,A/255,m,f,C);
t.drawArrays(t.TRIANGLES,0,6)};ci.B.aCI=function(s,M,O){if(ci.B.aAR==null)ci.B.aAR=new ci.B.xb;var P=ci.B.aAR,y=new gi(0,0,s.A,s.$),F=ci.KM;
ci.b2(M);M.rL(y);P.Yx();P.Qd(y,s.U9,M.KZ,O.U9);F.drawArrays(F.TRIANGLES,0,6)};ci.B.YF={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/max(a,vec3(0.000001)), ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
ci.B.iL=function(s,M,O){ci.Qe.call(this);var P="\t\t\tprecision highp float;\t\t\t"+ci.oj.iD+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(O?"uniform vec4 scolor;":"")+"\t\t\t"+(M?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+ci.oj.jF+"\t\t\t"+ci.oj.bz+"\t\t\t"+ci.oj.wQ+"\t\t\t"+ci.oj.at8+"\t\t\t"+ci.oj.a8z+"\t\t\t"+ci.oj.ajj+"\t\t\t"+ci.oj.n9+"\t\t\t"+ci.oj.a90+"\t\t\t"+ci.oj.zb+"\t\t\t"+ci.oj.hash+"\t\t\t"+(M?ci.oj.de:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+ci.B.YF[s]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(O?"scolor; src.a=texture2D(source, sCoord).r;":"texture2D(source, sCoord);"),y="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(s=="diss")P+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else P+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(M?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Lc(P,y)};ci.B.iL.prototype=new ci.Qe;ci.B.iL.prototype.Qd=function(s,M,O,P,y,F,A,h,m){this.Ui("srct alpha source target fill style keepBGA blIf scolor".split(" "));
var Z=ci.KM,u=this.km;Z.uniform4fv(u.srct,O);Z.uniform1f(u.alpha,P);Z.uniform1f(u.fill,y);Z.uniform1f(u.style,F);
Z.uniform1f(u.keepBGA,A);if(h)Z.uniform4fv(u.blIf,h);if(m){var f=m?1/a.Cs(a.$i(m)):0;Z.uniform4fv(u.scolor,new Float32Array([m[0]*f,m[1]*f,m[2]*f,0]))}this.bu([u.source,s,u.target,M])};
ci.B.dZ=function(s,M,O){ci.Qe.call(this);this.aGy=s;this._7=M;var P="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+ci.oj.aFA+"\t\t\t"+ci.oj.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(s?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(M?"* (in01(wCoord) ? texture2D(weight, wCoord)."+(O==1?"r":"a")+" : wcolor)":"")+";\t\t\t\t"+(s?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( ao==0.0 ? vec3(0,0,0) : (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(M?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",y="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Lc(P,y)};ci.B.dZ.prototype=new ci.Qe;ci.B.dZ.prototype.Qd=function(s,M,O,P,y,F,A,h,m){if(this._7)this.Ui("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.Ui("srct awg dissv source target cswitch".split(" "));var Z=ci.KM,u=this.km;Z.uniform4fv(u.srct,P);
if(this._7){Z.uniform4fv(u.wrct,y);Z.uniform1f(u.wcolor,F)}else{Z.uniform4fv(u.cswitch,m)}Z.uniform1f(u.awg,A);
Z.uniform1f(u.dissv,h);var f=[u.source,s,u.target,M];if(this._7)f.push(u.weight,O);this.bu(f)};ci.B.xb=function(){ci.Qe.call(this);
var s="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).r; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",M="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Lc(s,M)};ci.B.xb.prototype=new ci.Qe;ci.B.xb.prototype.Qd=function(s,M,O,P){this.Ui(["rct","prev","next","alpha"]);
var y=ci.KM,F=this.km;y.uniform4fv(F.rct,[0,0,1,1]);this.bu([F.prev,M,F.next,O,F.alpha,P])};ci.Qy={cT:{},AU:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
ci.Qy.Wm=function(s,M){var O=ak.DO,P=[O.fR,O.tu,O.Ww,O.bQ,O.Wv,O.sz,O.jk,O.lo].indexOf(s.I),y=ci.Qy.cT[s.I];
if(y==null)y=ci.Qy.cT[s.I]=new ci.cT[P];y.Yx();y.Qd(M,s);ci.KM.drawArrays(ci.KM.TRIANGLES,0,6)};ci.cT=[];
ci.cT[0]=function(){ci.Qe.call(this);this.alS={};var s="\t\t\tprecision highp float;\t\t\t"+ci.oj.bz+"\t\t\t"+ci.oj.iD+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec4 getC(float x) { \t\t\t\tif(x>1.0) {  \t\t\t\t\tvec4 a = texture2D(map, vec2((254.5/256.0), 0));\t\t\t\t\tvec4 b = texture2D(map, vec2((255.5/256.0), 0));\t\t\t\t\treturn b + (b-a)*(x-1.0)*255.0; \t\t\t\t} \t\t\t\treturn texture2D(map, vec2((0.5/256.0)+x*(255.0/256.0), 0)); \t\t\t}\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = getC(src.r).r;\t\t\t\tfloat g = getC(src.g).g;\t\t\t\tfloat b = getC(src.b).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Lc(s,ci.Qy.AU)};ci.cT[0].prototype=new ci.Qe;ci.cT[0].prototype.Qd=function(s,M){var O={o:M.xh,R:M.PC,X:M.yI,cd:new Float32Array(M.xh.length)};
O.cd.fill(1);var P=O.o.length,y=this.alS["m"+P];if(y==null)y=this.alS["m"+P]={aHH:new ci.po(P,1,ci.RG()),tG:a.j(P*4,32)};
a.oh(O,y.tG);var F=y.aHH;F.set(y.tG);this.Ui(["source","map","toGray","presLum"]);var A=ci.KM,h=this.km;
A.uniform1f(h.toGray,M.Gg?1:0);A.uniform1f(h.presLum,M.qi?1:0);this.bu([h.source,s,h.map,F.U9]);A.activeTexture(A.TEXTURE1);
var m=A.LINEAR;A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,m);A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,m);
A.activeTexture(A.TEXTURE0)};ci.cT[1]=function(){ci.Qe.call(this);this.g$=new ci.po(256,1,ci.RG());var s="\t\t\t\tprecision highp float;\t\t\t\t"+ci.oj.jl+"\t\t\t\t"+ci.oj.GX+"\t\t\t\t"+ci.oj.kr+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h+0.0015, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g; \t\t\t\t\tfloat lc = mapv.b; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359*0.5)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Lc(s,ci.Qy.AU)};ci.cT[1].prototype=new ci.Qe;ci.cT[1].prototype.Qd=function(s,M){this.g$.set(M.map);
this.Ui(["source","map","cfa","cfb","colorize"]);var O=ci.KM,P=this.km;O.uniform1f(P.cfa,M.apK);O.uniform1f(P.cfb,M.Nt);
O.uniform1i(P.colorize,M.a45);this.bu([P.source,s,P.map,this.g$.U9]);O.activeTexture(O.TEXTURE1);var y=O.LINEAR;
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,y);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,y);
O.activeTexture(O.TEXTURE0)};ci.cT[2]=function(){ci.Qe.call(this);var s="\t\t\tprecision mediump float;\t\t\t"+ci.oj.jl+"\t\t\t"+ci.oj.yR+"\t\t\t"+ci.oj.rk+"\t\t\t"+ci.oj.GX+"\t\t\t"+ci.oj.kr+"\t\t\t"+ci.oj.ab7+"\t\t\t"+ci.oj.aK$+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Lc(s,ci.Qy.AU)};ci.cT[2].prototype=new ci.Qe;ci.cT[2].prototype.Qd=function(s,M){this.Ui(["source","vib","sat","yF"]);
var O=ci.KM,P=this.km;O.uniform1f(P.vib,M.dh[0]);O.uniform1f(P.sat,M.dh[1]);O.uniform3fv(P.yF,new Float32Array([M.dh[2],M.dh[3],M.dh[3]]));
this.bu([P.source,s])};ci.cT[3]=function(){ci.Qe.call(this);var s="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Lc(s,ci.Qy.AU)};ci.cT[3].prototype=new ci.Qe;ci.cT[3].prototype.Qd=function(s,M){this.Ui(["source","trf"]);
var O=ci.KM,P=this.km;O.uniformMatrix4fv(P.trf,!1,new Float32Array(a.rD.gV(M.pO)));this.bu([P.source,s])};
ci.cT[4]=function(){ci.Qe.call(this);var s="\t\t\tprecision mediump float; \t\t\t"+ci.oj.H8+"\t\t\t"+ci.oj.jl+"\t\t\t"+ci.oj.kr+"\t\t\t"+ci.oj.GX+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Lc(s,ci.Qy.AU)};ci.cT[4].prototype=new ci.Qe;ci.cT[4].prototype.Qd=function(s,M){this.Ui(["source","mnm","mxm","shift","lim"]);
var O=ci.KM,P=this.km;O.uniform3fv(P.mnm,new Float32Array(M.w5));O.uniform3fv(P.mxm,new Float32Array(M.n8));
O.uniform3fv(P.shift,new Float32Array(M.shift));O.uniform1f(P.lim,M.cI);this.bu([P.source,s])};ci.cT[5]=function(){ci.Qe.call(this);
var s="\t\t\tprecision mediump float;\t\t\t"+ci.oj.iD+"\t\t\t"+ci.oj.pG+"\t\t\t"+ci.oj.axw+"\t\t\t"+ci.oj.GX+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Lc(s,ci.Qy.AU)};ci.cT[5].prototype=new ci.Qe;ci.cT[5].prototype.Qd=function(s,M){this.Ui(["source","cfs"]);
var O=ci.KM,P=this.km;O.uniform3fv(P.cfs,M.axv);this.bu([P.source,s])};ci.cT[6]=function(){ci.Qe.call(this);
var s="\t\t\tprecision mediump float;\t\t\t"+ci.oj.jl+"\t\t\t"+ci.oj.pG+"\t\t\t"+ci.oj.axw+"\t\t\t"+ci.oj.GX+"\t\t\t"+ci.oj.kr+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Lc(s,ci.Qy.AU)};ci.cT[6].prototype=new ci.Qe;ci.cT[6].prototype.Qd=function(s,M){this.Ui(["source","wght","prms"]);
var O=ci.KM,P=this.km,y=[M.jg,M.afC,M.bz,M.a4c,M.J6,M.az6];O.uniform1fv(P.wght,new Float32Array(M.a3z));
O.uniform1fv(P.prms,new Float32Array(y));this.bu([P.source,s])};ci.cT[7]=function(){ci.Qe.call(this);
this.a1={};var s="\t\t\tprecision mediump float;\t\t\t"+ci.oj.a2y+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Lc(s,ci.Qy.AU)};ci.cT[7].prototype=new ci.Qe;ci.cT[7].prototype.Qd=function(s,M){this.Ui(["source","lut","N"]);
var O=ci.KM,P=this.km,y=M.UE,F=M.OC;if(this.a1["m"+y]==null)this.a1["m"+y]=new ci.po(y,y*y,ci.RG());
var A=this.a1["m"+y];A.set(F);O.uniform1f(P.N,y);this.bu([P.source,s,P.lut,A.U9]);O.activeTexture(O.TEXTURE1);
var h=O.LINEAR;O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,h);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,h);
O.activeTexture(O.TEXTURE0)};ci.filter={TU:{},AU:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",apV:0,aIO:1,_h:2,a48:8,aA$:3,adX:4,aGM:5,Jh:6,aCD:7};
ci.filter.Wm=function(s,M){var O=ci.filter,P,y=s.I+":"+(s.uP?s.uP.join(","):""),P=ci.filter.TU[y];if(P==null)P=ci.filter.TU[y]=new ci.TU[s.I](s.uP);
P.Yx();P.Qd(M,s);ci.KM.drawArrays(ci.KM.TRIANGLES,0,6)};ci.TU=[0,0,0,0,0,0,0,0,0,0,0,0];ci.TU[7]=function(){ci.Qe.call(this);
var s="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Lc(dN.uh(s),dN.uh(ci.filter.AU))};ci.TU[7].prototype=new ci.Qe;ci.TU[7].prototype.Qd=function(s,M){this.Ui(["source","iwh","kern"]);
var O=ci.KM,P=this.km;O.uniform2fv(P.iwh,M.Hd);O.uniform1fv(P.kern,M.aDd);this.bu([P.source,s])};ci.TU[6]=function(s){ci.Qe.call(this);
var M=s[0],O=s[1],P=s[2],y="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|NNrafa%[}=3495/&+&I1)'VgAFAd;wGOE/^PY8ggmsAz zK1",F=dN.uh(y);
F=F.replaceAll("PRC",P+".0");F=F.replaceAll("DIR",["x,0","0,x"][O]);this.Lc(F,ci.Qy.AU)};ci.TU[6].prototype=new ci.Qe;
ci.TU[6].prototype.Qd=function(s,M){this.Ui(["source","iwh","rad"]);var O=ci.KM,P=this.km;O.uniform2fv(P.iwh,M.Hd);
O.uniform1f(P.rad,M.jK);this.bu([P.source,s])};ci.TU[4]=function(s){ci.Qe.call(this);var M=s[0],O=s[1],P="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+s[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][O]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][M]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][O]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(O==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Lc(P,ci.Qy.AU)};ci.TU[4].prototype=new ci.Qe;ci.TU[4].prototype.Qd=function(s,M){this.Ui(["source","iwh","rrad","tr"]);
var O=ci.KM,P=this.km;O.uniform2fv(P.iwh,M.Hd);O.uniform1f(P.rrad,M.cb);O.uniform1f(P.tr,M.anB);this.bu([P.source,s]);
var y=O.LINEAR;y=O.NEAREST;O.activeTexture(O.TEXTURE0);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,y);
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,y);O.activeTexture(O.TEXTURE0)};ci.TU[5]=function(){ci.Qe.call(this);
var s="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Lc(dN.uh(s),dN.uh(ci.filter.AU))};ci.TU[5].prototype=new ci.Qe;ci.TU[5].prototype.Qd=function(s,M){this.Ui(["source","ssum","iwh","amnt","edgf"]);
var O=ci.KM,P=this.km;O.uniform2fv(P.iwh,M.Hd);O.uniform1f(P.amnt,M.a0x);O.uniform1f(P.edgf,M.ary);this.bu([P.source,s,P.ssum,M.ajZ])};
ci.TU[3]=function(){ci.Qe.call(this);var s="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Lc(dN.uh(s),dN.uh(ci.filter.AU))};ci.TU[3].prototype=new ci.Qe;ci.TU[3].prototype.Qd=function(s,M){this.Ui("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var O=ci.KM,P=this.km;O.uniform2fv(P.iwh,M.Hd);O.uniform1f(P.tdep,M.aGf);O.uniform1f(P.rrad,M.cb);O.uniform2fv(P.spec,M.a4h);
O.uniform3fv(P.nois,M.a5t);O.uniformMatrix4fv(P.poly0,!1,M.aEV);O.uniformMatrix4fv(P.poly1,!1,M.aHJ);
this.bu([P.source,s]);var y=O.LINEAR;O.activeTexture(O.TEXTURE0);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,y);
O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,y);O.activeTexture(O.TEXTURE0)};ci.TU[0]=function(){ci.Qe.call(this);
var s="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Lc(dN.uh(s),dN.uh(ci.filter.AU))};ci.TU[0].prototype=new ci.Qe;ci.TU[0].prototype.Qd=function(s,M){this.Ui(["source","iwh","ld","shine"]);
var O=ci.KM,P=this.km;O.uniform2fv(P.iwh,M.Hd);O.uniform3fv(P.ld,M.ag9);O.uniform1f(P.shine,M.apX);this.bu([P.source,s,P.tang,M.iH])};
ci.TU[1]=function(){ci.Qe.call(this);var s="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Lc(dN.uh(s),dN.uh(ci.filter.AU))};ci.TU[1].prototype=new ci.Qe;ci.TU[1].prototype.Qd=function(s,M){this.Ui(["source","iwh","isc","bristle"]);
var O=ci.KM,P=this.km;O.uniform2fv(P.iwh,M.Hd);O.uniform1f(P.isc,M.acj);O.uniform1f(P.bristle,M.a8n);
this.bu([P.source,s])};ci.TU[2]=function(){ci.Qe.call(this);var s="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Lc(dN.uh(s),dN.uh(ci.filter.AU))};ci.TU[2].prototype=new ci.Qe;ci.TU[2].prototype.Qd=function(s,M){this.Ui(["source","tang","iwh","sigma","expo"]);
var O=ci.KM,P=this.km;O.uniform2fv(P.iwh,M.Hd);O.uniform1f(P.sigma,M.K_);O.uniform1f(P.expo,M.LD);this.bu([P.source,s,P.tang,M.iH]);
var y=O.LINEAR;O.activeTexture(O.TEXTURE0);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,y);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,y);
O.activeTexture(O.TEXTURE0)};ci.TU[8]=function(){ci.Qe.call(this);var s="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.Lc(dN.BF(s),dN.uh(ci.filter.AU))};ci.TU[8].prototype=new ci.Qe;ci.TU[8].prototype.Qd=function(s,M){this.Ui(["source","tang","iwh","sigma"]);
var O=ci.KM,P=this.km;O.uniform2fv(P.iwh,M.Hd);O.uniform1f(P.sigma,M.K_);this.bu([P.source,s,P.tang,M.iH]);
var y=O.LINEAR;O.activeTexture(O.TEXTURE0);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,y);O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,y);
O.activeTexture(O.TEXTURE0)};function a(){}a.O={};a.as8={};a.G=function(s){return JSON.parse(JSON.stringify(s))};
a.$i=function(s){if(s instanceof ci.po)return s.depth;return s instanceof Float32Array?32:s instanceof Uint16Array?16:8};
a.Cs=function(s){return s==8?255:s==16?65535:1};a.Gp=function(s,M,O){var P=a.$i(s),y=s.length;if(P==M)return s;
if(O==null)O=a.j(y,M);if(M==8){if(P==16)for(var R=0;R<y;R++)O[R]=s[R]>>>8;if(P==32)for(var R=0;R<y;R++)O[R]=Math.min(255,~~(.5+255*s[R]))}else if(M==16){if(P==8)for(var R=0;
R<y;R++)O[R]=s[R]<<8|s[R];if(P==32)for(var R=0;R<y;R++)O[R]=Math.min(65535,65535*s[R])}else if(M==32){if(P==8)for(var R=0;
R<y;R++)O[R]=s[R]*(1/255);if(P==16)for(var R=0;R<y;R++)O[R]=s[R]*(1/65535)}return O};a.aj6=function(s,M){for(var R=0;
R<s.length;R+=2)s[R]=a.Gp(s[R],M)};a.a2l=function(){var s=[64,64,128,256,512,1024,2048],M=[];for(var R=0;
R<s.length;R++){var O=s[R],P=document.createElement("canvas");P.width=O;P.height=O;M.push(P.getContext("2d",{willReadFrequently:!0}))}return M}();
a.FL=function(s,M){var O,P=a.a2l,R=1,y=Math.max(s,M);while(R<P.length&&y>P[R].canvas.width)R++;if(R==P.length){O=P[0];
var F=O.canvas;F.width=s;F.height=M}else{O=P[R];O.clearRect(0,0,s,M)}return O};a.Md=function(s,M,O,P){if(P==null)P=new Uint32Array(M*O);
P[0]=s[0];for(var y=1;y<M;y++)P[y]=P[y-1]+s[y];for(var F=1;F<O;F++){var R=F*M;P[R]=P[R-M]+s[R];for(var y=1;
y<M;y++)P[R+y]=s[R+y]+P[R+y-1]+P[R+y-M]-P[R+y-M-1]}return P};a.jv=function(s,M,O,P,y,F){var A=(y-1)*M,h=F*M;
return s[h+P]-s[h+O-1]-s[A+P]+s[A+O-1]};a.a0V=function(s,M,O,P){var y=M*4;if(P==null)P=new Uint32Array(M*O*4);
P[0]=s[0];P[1]=s[1];P[2]=s[2];P[3]=s[3];for(var F=1;F<M;F++)a.ajQ(s,P,4,F<<2);for(var A=1;A<O;A++){var R=A*M<<2;
a.ajQ(s,P,y,R);for(var F=4;F<y;F+=4){var h=R+F;P[h]=s[h]+P[h-4]+P[h-y]-P[h-y-4];P[h+1]=s[h+1]+P[h-3]+P[h-y+1]-P[h-y-3];
P[h+2]=s[h+2]+P[h-2]+P[h-y+2]-P[h-y-2];P[h+3]=s[h+3]+P[h-1]+P[h-y+3]-P[h-y-1]}}return P};a.ajQ=function(s,M,O,R){M[R]=M[R-O]+s[R];
M[R+1]=M[R-O+1]+s[R+1];M[R+2]=M[R-O+2]+s[R+2];M[R+3]=M[R-O+3]+s[R+3]};a.aJ4=function(s,M,O,P,y,F){var A=y+O<<2,h=y+M<<2,m=P+O<<2,Z=P+M<<2;
F[0]+=s[A]-s[h]-s[m]+s[Z];F[1]+=s[A+1]-s[h+1]-s[m+1]+s[Z+1];F[2]+=s[A+2]-s[h+2]-s[m+2]+s[Z+2];F[3]+=s[A+3]-s[h+3]-s[m+3]+s[Z+3]};
a.Ou=function(s,M,O){var P={},y=0,F=0,A=new Uint32Array(s.buffer),h=A.length,m=Date.now();for(var Z=1;
Z<O-1;Z++)for(var u=1;u<M-1;u++){var f=Z*M+u,U=A[f];if(U>>>24<230)F++;if(P[U]==null){P[U]=!0;y++}}if(F!=0||y<20)return!1;
return!0};a.eZ=function(s,M,O,P,y,F){if(y==null)y=F=0;var A=Math.round(Math.log(P)/Math.log(2)),h=new Uint32Array(s.buffer);
for(var R=0;R<O;R++)for(var m=0;m<M;m++){h[R*M+m]=a.aL4(R+F,m+y,A)}};a.aym=function(R,s,M){return 255-((R>>>M)+(s>>>M)&1)*51};
a.aL4=function(R,s,M){return 4294967295-((R>>>M)+(s>>>M)&1)*3355443};a.Aj=function(s,M){var O=M==null?1:M/255;
return{o:(s>>>16&255)*O,R:(s>>>8&255)*O,X:(s&255)*O}};a.DU=function(s,M){var O=M==null?1:255/M;return Math.round(s.o*O)<<16|Math.round(s.R*O)<<8|Math.round(s.X*O)};
a.Rr=function(s){var M=s.toString(16);while(M.length<6)M="0"+M;return M};a.a7D=function(s){return parseInt(s,16)};
a.bz=function(s){return.3*s.o+.59*s.R+.11*s.X};a.jF=function(s){return Math.max(s.o,s.R,s.X)-Math.min(s.o,s.R,s.X)};
a.w6=function(s,M,O){return.3*s+.59*M+.11*O};a.acr=function(s,M,O){return Math.max(s,M,O)-Math.min(s,M,O)};
a.pG=function(s,M){var O=M-s,P=Math.abs(O),y=O-1,F=O+1;if(Math.abs(y)<P)O=y;else if(Math.abs(F)<P)O=F;
return O};a.$W=function(s){return s<.0031308?12.92*s:1.055*Math.pow(s,1/2.4)-.055};a.R0=function(s){return s<.04045?s/12.92:Math.pow((s+.055)/1.055,2.4)};
a.alF=function(s){var M=new Uint8Array(256);for(var R=0;R<256;R++)M[R]=~~(.5+255*a.$W(R/255));for(var R=0;
R<s.length;R++)s[R]=M[s[R]]};a.AA=function(s){var M=new Uint8Array(256);for(var R=0;R<256;R++)M[R]=~~(.5+255*a.R0(R/255));
for(var R=0;R<s.length;R++)s[R]=M[s[R]]};a.amb=function(s,M){var O=Math.min(s.length,M.length);for(var R=0;
R<O;R+=4){var P=s[R],y=s[R+1],F=s[R+2];M[R]=16+Math.floor(65.481/255*P+128.553/255*y+24.966/255*F+.5);
M[R+1]=128-Math.floor(37.797/255*P-74.203/255*y+112/255*F+.5);M[R+2]=128+Math.floor(112/255*P-93.786/255*y-18.214/255*F+.5);
M[R+3]=s[R+3]}};a.ajv=function(s,M,O){var P,y,F,A=Math.max(s,M,O),h=Math.min(s,M,O);F=A;if(A!=0)y=(A-h)/A;
else y=0;if(y==0)P=0;else{var m=A-h,Z=(A-s)/m,u=(A-M)/m,f=(A-O)/m;if(s==A)P=f-u;else if(M==A)P=2+Z-f;
else P=4+u-Z;P*=1/6;if(P<0)P=P+1}return{fw:P,BP:y,X:F}};a.a98=function(s,M,O){var P=0,y=0,F=0;if(M==0)P=y=F=O;
else{var A=(s-Math.floor(s))*6,h=Math.floor(A),m=A-Math.floor(A),Z=O*(1-M),u=O*(1-M*m),f=O*(1-M*(1-m));
switch(h){case 0:P=O;y=f;F=Z;break;case 1:P=u;y=O;F=Z;break;case 2:P=Z;y=O;F=f;break;case 3:P=Z;y=u;
F=O;break;case 4:P=f;y=Z;F=O;break;case 5:P=O;y=Z;F=u;break}}return{o:P,R:y,X:F}};a.GX=function(s,M,O){var P=Math.max(s,M,O),y=Math.min(s,M,O),F=0,A=0,h=(P+y)*.5;
if(P!=y){var m=P-y;A=h>.5?m/(2-(P+y)):m/(P+y);switch(P){case s:F=(M-O)/m+(M<O?6:0);break;case M:F=(O-s)/m+2;
break;case O:F=(s-M)/m+4;break}F*=1/6}return{fw:F,BP:A,$T:h}};a.kr=function(s,M,O){var P,y,F;if(M==0)P=y=F=O;
else{var A=O<.5?O*(1+M):O+M-O*M,h=2*O-A;P=a.jl(h,A,s+1/3);y=a.jl(h,A,s);F=a.jl(h,A,s-1/3)}return{o:P,R:y,X:F}};
a.jl=function(s,M,O){if(O<0)O+=1;if(O>1)O-=1;if(O<1/6)return s+(M-s)*6*O;if(O<1/2)return M;if(O<2/3)return s+(M-s)*(2/3-O)*6;
return s};a.yR=function(s,M,O){var P=Math.max(s,M,O),y=Math.min(s,M,O),F,A,h=P,m=P-y;A=P==0?0:m/P;if(P==y)F=0;
else{switch(P){case s:F=(M-O)/m+(M<O?6:0);break;case M:F=(O-s)/m+2;break;case O:F=(s-M)/m+4;break}F*=1/6}return{fw:F,BP:A,rM:h}};
a.rk=function(s,M,O){var P,y,F,R,A,h,m,Z;R=Math.floor(s*6);A=s*6-R;h=O*(1-M);m=O*(1-A*M);Z=O*(1-(1-A)*M);
switch(R%6){case 0:P=O,y=Z,F=h;break;case 1:P=m,y=O,F=h;break;case 2:P=h,y=O,F=Z;break;case 3:P=h,y=m,F=O;
break;case 4:P=Z,y=h,F=O;break;case 5:P=O,y=h,F=m;break}return{o:P,R:y,X:F}};a.Sa=function(){var s=[],M=[];
for(var R=0;R<8e3;R++){var O=R*(1/4e3);s[R]=a.R0(O);M[R]=O>.008856?Math.pow(O,1/3):(903.3*O+16)*(1/116)}return[s,M]}();
a.H8=function(s,M,O,P){if(P==null)P=[.9642,1,.8249];var y=a.Sa[0],F=a.Sa[1];s=y[~~(.5+s*(4e3/255))];
M=y[~~(.5+M*(4e3/255))];O=y[~~(.5+O*(4e3/255))];var A=a.rD.aLH,h=A[0]*s+A[1]*M+A[2]*O,m=A[4]*s+A[5]*M+A[6]*O,Z=A[8]*s+A[9]*M+A[10]*O;
h=h*(1/P[0]);m=m*(1/P[1]);Z=Z*(1/P[2]);return a.aDI(h,m,Z)};a.aDI=function(s,M,O){var P=a.Sa[1],y=P[~~(.5+s*4e3)],F=P[~~(.5+M*4e3)],A=P[~~(.5+O*4e3)];
return{Yk:116*F-16,cd:500*(y-F),X:200*(F-A)}};a.lU=function(s,M,O){var P=903.3,y=.008856,F=(s+16)/116,A=F*F*F,h=F-O/200,m=h*h*h,Z=M/500+F,u=Z*Z*Z,f=m>y?m:(116*h-16)/P,U=A>y?A:(116*F-16)/P,C=u>y?u:(116*Z-16)/P,H=C*96.42,t=U*100,X=f*82.49,Q=a.rD.YO(a.rD.vz,[H/100,t/100,X/100,0]);
for(var R=0;R<4;R++)Q[R]=Math.max(0,Math.min(255,a.$W(Q[R])*255));return{o:Q[0],R:Q[1],X:Q[2]}};a.aHl=function(s,M,O,P,y){var F=s.Yk,A=s.cd,h=s.X,m=(F<M.Yk?M.Yk-F:O.Yk<F?O.Yk-F:0)*(1/100),Z=(A<M.cd?M.cd-A:O.cd<A?O.cd-A:0)*(1/116),u=(h<M.X?M.X-h:O.X<h?O.X-h:0)*(1/116),f=Math.sqrt(m*m+Z*Z+u*u)*1.35;
return f<=P?Math.min(1,1.17*(1-f*y)):0};a.Vq=function(s){var M=a.Kc("cmykToRgb"),O=M[2],P=M[3],y=[0,0,0,0];
ICC.U.applyLUT4(P,O,s,y);return y};a.a0Z=function(s){var M=a.Kc("cmykToRgb"),O=M[2],P=M[3];ICC.U.applyLUT4(P,O,s,s)};
a.abk=function(){var s=function(hS){return Math.round(hS*255)},M="",O=3;for(var R=0;R<tab.length;R++){var P=s(tab[R]);
if(O<=R)P=P-s(tab[R-O])+256&255;M+=P.toString(16).padStart(2,"0")}return M};a.Kc=function(s){var M=LUTS["_"+s];
if(M==null){var O=LUTS[s],P=O[0],hS=O[1],y=O[2],F=O[3],A=[];for(var R=0;R<F.length;R+=2)A.push(parseInt(F.slice(R,R+2),16));
for(var R=hS;R<A.length;R++)A[R]=A[R]+A[R-hS]&255;for(var R=0;R<A.length;R++)A[R]*=1/255;M=LUTS["_"+s]=[P,hS,y,A]}return M};
a.y5=function(s){var M=a.Kc("rgbToCmyk"),O=M[2],P=M[3],y=[0,0,0,0];ICC.U.applyLUT3to4(P,O,s,y);return y};
a.avQ=function(s){var M=a.Kc("rgbToCmyk"),O=M[2],P=M[3];ICC.U.applyLUT3to4(P,O,s,s);a.or(s)};a.K1=function(s,M,O){var P=s.length,y=.3,F=.59,A=.11;
if(O){y=O[0];F=O[1];A=O[2]}for(var R=0;R<P;R+=4)M[R>>2]=~~(s[R+0]*y+s[R+1]*F+s[R+2]*A+.5)};a.Rm=function(s,M){var O=M.length;
for(var R=0;R<O;R+=4){var P=s[R>>>2];M[R]=P;M[R+1]=P;M[R+2]=P}};a.oh=function(s,M){var O=a.$i(s.cd),P=a.$i(M);
if(O!=P)throw"e";if(O==8)a.aGK(s,M);else{var y=s.o,F=s.R,A=s.X,h=s.cd;for(var R=0;R<M.length;R+=4){var m=R>>>2;
M[R]=y[m];M[R+1]=F[m];M[R+2]=A[m];M[R+3]=h[m]}}};a.aGK=function(s,M){var O=s.cd,P=s.o,y=s.R,F=s.X,A=Math.min(s.cd.length,M.buffer.byteLength>>>2),h=4*Math.floor(A/4),m=new Uint32Array(M.buffer),Z=new Uint32Array(O.buffer),u=new Uint32Array(P.buffer),f=new Uint32Array(y.buffer),U=new Uint32Array(F.buffer);
for(var R=0;R<h;R+=4){var C=Z[R>>2],H=U[R>>2],t=f[R>>2],X=u[R>>2];m[R]=C<<24|(H&255)<<16|(t&255)<<8|X&255;
m[R+1]=(C&65280)<<16|(H&65280)<<8|t&65280|(X&65280)>>>8;m[R+2]=(C&16711680)<<8|H&16711680|(t&16711680)>>>8|(X&16711680)>>>16;
m[R+3]=C&4278190080|(H&4278190080)>>>8|(t&4278190080)>>>16|(X&4278190080)>>>24}for(var R=h;R<A;R++)m[R]=O[R]<<24|F[R]<<16|y[R]<<8|P[R]};
a.hv=function(s,M){var O=a.$i(M.cd),P=a.$i(s);if(O!=P)throw"e";if(O==8)a.acB(s,M);else{var y=M.o,F=M.R,A=M.X,h=M.cd;
for(var R=0;R<s.length;R+=4){var m=R>>>2;y[m]=s[R];F[m]=s[R+1];A[m]=s[R+2];h[m]=s[R+3]}}};a.acB=function(s,M){var O=M.cd,P=M.o,y=M.R,F=M.X,A=Math.min(M.cd.length,s.buffer.byteLength>>>2),h=4*Math.floor(A/4),m=new Uint32Array(s.buffer),Z=new Uint32Array(O.buffer),u=new Uint32Array(P.buffer),f=new Uint32Array(y.buffer),U=new Uint32Array(F.buffer);
for(var R=0;R<h;R+=4){var C=m[R],H=m[R+1],t=m[R+2],X=m[R+3];u[R>>2]=C&255|(H&255)<<8|(t&255)<<16|X<<24;
f[R>>2]=(C&65280)>>8|H&65280|(t&65280)<<8|(X&65280)<<16;U[R>>2]=(C&16711680)>>16|(H&16711680)>>8|t&16711680|(X&16711680)<<8;
Z[R>>2]=C>>>24|H>>>24<<8|t>>>24<<16|X&4278190080}for(var R=h;R<A;R++){var Q=m[R];P[R]=Q>>0&255;y[R]=Q>>8&255;
F[R]=Q>>16&255;O[R]=Q>>24&255}};a.YT=function(s,M,O){var P=Math.min(s.length/4,M.length),y=a.$i(s);if(y!=a.$i(M))throw"e";
if(y==8){for(var R=0;R<P;R++){M[R]=s[(R<<2)+O]}}else for(var R=0;R<P;R++){M[R]=s[(R<<2)+O]}};a.GS=function(s,M,O){var P=a.$i(s);
if(P!=a.$i(M))throw"e";var y=Math.min(M.length>>>2,s.length);if(P==8){var F=new Uint8Array(M.buffer),A=new Uint32Array(s.buffer),R=0;
while(R+4<y){var h=A[R>>>2];F[(R<<2)+O]=h&255;F[(R<<2)+O+4]=h>>>8&255;F[(R<<2)+O+8]=h>>>16&255;F[(R<<2)+O+12]=h>>>24;
R+=4}while(R<y){F[(R<<2)+O]=s[R];R++}}else{for(var R=0;R<y;R++)M[(R<<2)+O]=s[R]}};a.vK=function(s,M){new Uint32Array(s.buffer).fill(M)};
a.bJ=function(s,M,O,P){var y=a.$i(s),F=a.Cs(y),A=s.length,h=Math.round(M*F),m=Math.round(O*F),Z=Math.round(P*F);
if(y==8)for(var R=0;R<A;R+=4){s[R]=h;s[R+1]=m;s[R+2]=Z}if(y==16)for(var R=0;R<A;R+=4){s[R]=h;s[R+1]=m;
s[R+2]=Z}if(y==32)for(var R=0;R<A;R+=4){s[R]=M*F;s[R+1]=O*F;s[R+2]=P*F}};a.$j=function(s,M){var O=a.$i(s),P=a.Cs(O),y=s.length,F=Math.round(M*P);
if(O==8)for(var R=0;R<y;R+=4){s[R+3]=F}if(O==16)for(var R=0;R<y;R+=4){s[R+3]=F}if(O==32)for(var R=0;
R<y;R+=4){s[R+3]=M*P}};a.anv=function(s,M,O,P,y){if(y==null)y=0;var F=new Uint32Array(s.buffer);O=O.OK(M);
var A=O.x-M.x,h=O.y-M.y,m=O.A,Z=O.$,u=M.A;for(var f=0;f<Z;f++){var R=(h+f)*u+A;for(var U=0;U<m;U++){F[R]=F[R]&y|P;
R++}}};a.jO=function(s,M){var O=Math.min(s.buffer.byteLength,M.buffer.byteLength),P=O>>>2,y=new Uint32Array(s.buffer,0,P),F=new Uint32Array(M.buffer,0,P);
F.set(y)};a.s0=function(s,M){var O=s.buffer.byteLength,P=M.buffer.byteLength,y=new Uint32Array(s.buffer,0,O>>2),F=new Uint32Array(M.buffer,0,P>>2);
if(O!=P)return!1;var A=y.length;for(var R=0;R<A;R++)if(F[R]!=y[R])return!1;return!0};a.or=function(s){var M=a.$i(s),O=s.length;
if(M==8)for(var R=0;R<O;R++)s[R]=~s[R];if(M==16)for(var R=0;R<O;R++)s[R]=~s[R];if(M==32)for(var R=0;
R<O;R++)s[R]=1-s[R]};a.aGU=function(s){var M=s.length;for(var R=0;R<M;R+=4){s[R]=~s[R];s[R+1]=~s[R+1];
s[R+2]=~s[R+2]}};a.aja=function(s){var M=s.length;for(var R=3;R<M;R+=4)s[R]=~s[R]};a.aHU=function(s){return s+(s%4==0?0:4-s%4)};
a.j=function(s,M){if(M==null)M=8;var O=M==8?Uint8Array:M==16?Uint16Array:Float32Array;if(M==8)s=a.aHU(s);
if(M==16)s+=s&1;try{var P=new O(s)}catch(hj){alert("Not enough RAM! (need "+Math.round(s/(1<<20))+" MB)",7e3);
throw"low_ram"}return P};a.apW=function(s){var M=s.IK.A,O=s.IK.$,P=M*4,y=M*O,F=new Uint8Array(s.data),A=0,h=0;
for(var m=1;m<O;m++)for(var Z=1;Z<M;Z++){var R=(m*M+Z)*4;if(F[R-1]==0&&F[R+3]==0&&F[R-P+3]==0){h++;var u=F[R],f=F[R+1],U=F[R+2],C=u-F[R-4],H=u-F[R-P],t=f-F[R-3],X=f-F[R-P+1],Q=U-F[R-2],D=U-F[R-P+2];
if(C*C+t*t+Q*Q!=0&&H*H+X*X+D*D!=0)A++}}if(h/y>.01&&A/h>.05){var L=a.j(M*O);a.YT(F,L,3);s.dj=[L];for(var R=0;
R<F.length;R+=4)F[R+3]=255}};a.aB9=function(s,M,O,P){if(P==null)P=0;var y=0;while(y+3<s.length&&s[y+3].C()>=P&&M.dI()*(1<<(y>>>1))<O)y+=2;
var F=s[1],A=s[y+1],h=new kp;h.translate(-A.x,-A.y);h.scale(F.A/A.A,F.$/A.$);h.translate(F.x,F.y);h.concat(M);
return[y,h]};a.pT=function(s){var M=s.length,O=s[M-2],P=s[M-1];while(P.A>=2&&P.$>=2){var y=a.FJ(O,P);
s.push(y.tG,y.S);O=y.tG;P=y.S}};a.uC=function(s){var M=s.length,O=s[M-2],P=s[M-1];while(P.A>=2&&P.$>=2){var y=a.jQ(O,P);
s.push(y.tG,y.S);O=y.tG;P=y.S}};a.FJ=function(s,M,O){var P=M.A,y=M.$,F=P>>1,A=y>>1,h=new gi(M.x>>>1,M.y>>>1,F,A),m,Z=a.$i(s);
if(Z==8){m=O&&O.length==F*A*4?O:a.j(F*A*4);var u=new Uint32Array(s.buffer),f=new Uint32Array(m.buffer);
for(var U=0;U<A;U++)for(var C=0;C<F;C++){var H=U*F+C,t=(U<<1)*P+(C<<1),X=u[t],Q=u[t+1],D=u[t+P],L=u[t+P+1],E=X>>>24,_=Q>>>24,S=D>>>24,W=L>>>24,g=E+_+S+W;
if(g==1020){var x=(X>>>0&255)+(Q>>>0&255)+(D>>>0&255)+(L>>>0&255)+2>>>2,V=(X>>>8&255)+(Q>>>8&255)+(D>>>8&255)+(L>>>8&255)+2>>>2,b=(X>>>16&255)+(Q>>>16&255)+(D>>>16&255)+(L>>>16&255)+2>>>2;
f[H]=255<<24|b<<16|V<<8|x}else if(g==0)f[H]=0;else{var x=(X>>>0&255)*E+(Q>>>0&255)*_+(D>>>0&255)*S+(L>>>0&255)*W,V=(X>>>8&255)*E+(Q>>>8&255)*_+(D>>>8&255)*S+(L>>>8&255)*W,b=(X>>>16&255)*E+(Q>>>16&255)*_+(D>>>16&255)*S+(L>>>16&255)*W,N=1/g;
x=~~(x*N+.5);V=~~(V*N+.5);b=~~(b*N+.5);f[H]=g+2>>>2<<24|b<<16|V<<8|x}}}else{m=a.j(F*A*4,Z);for(var U=0;
U<A;U++)for(var C=0;C<F;C++){var H=U*F+C<<2,t=(U<<1)*P+(C<<1)<<2,J=t,K=t+4,q=t+P*4,d=t+P*4+4,E=s[J+3],_=s[K+3],S=s[q+3],W=s[d+3],g=E+_+S+W;
if(g==0){}else{var N=1/g;m[H]=(s[J]*E+s[K]*_+s[q]*S+s[d]*W)*N;m[H+1]=(s[J+1]*E+s[K+1]*_+s[q+1]*S+s[d+1]*W)*N;
m[H+2]=(s[J+2]*E+s[K+2]*_+s[q+2]*S+s[d+2]*W)*N;m[H+3]=g*.25}}}return{S:h,tG:m}};a.ael=function(s,M,O){var P=M.A,y=M.$,F=P>>1,A=y>>1,h=new gi(M.x,M.y,F,A),m=O&&O.length==F*A*4?O:a.j(F*A*4),Z=new Uint32Array(s.buffer),u=new Uint32Array(m.buffer);
for(var f=0;f<A;f++)for(var U=0;U<F;U++){var C=f*F+U,H=(f<<1)*P+(U<<1),t=Z[H],X=Z[H+1],Q=Z[H+P],D=Z[H+P+1],L=2+(t>>>0&255)+(X>>>0&255)+(Q>>>0&255)+(D>>>0&255)>>>2,E=2+(t>>>8&255)+(X>>>8&255)+(Q>>>8&255)+(D>>>8&255)>>>2,_=2+(t>>>16&255)+(X>>>16&255)+(Q>>>16&255)+(D>>>16&255)>>>2,S=2+(t>>>24&255)+(X>>>24&255)+(Q>>>24&255)+(D>>>24&255)>>>2;
u[C]=S<<24|_<<16|E<<8|L}return{S:h,tG:m}};a.al$=function(s,M,O){var P=M.A,y=M.$,F=2*Math.floor(P/3),A=2*Math.floor(y/3),h=new gi(M.x,M.y,F,A),m=O&&O.length==F*A*4?O:a.j(F*A*4),Z=new Uint32Array(s.buffer),u=new Uint32Array(m.buffer);
for(var f=0;f<A;f+=2)for(var U=0;U<F;U+=2){var C=f*F+U,H=(f*3>>>1)*P+(U*3>>>1),t=Z[H],X=Z[H+1],Q=Z[H+2],D=Z[H+P],L=Z[H+1+P],E=Z[H+2+P],_=Z[H+P+P],S=Z[H+1+P+P],W=Z[H+2+P+P],g=t>>>24<<2,x=(t>>>16&255)*g,V=(t>>>8&255)*g,b=(t&255)*g,N=X>>>24<<1,J=(X>>>16&255)*N,K=(X>>>8&255)*N,q=(X&255)*N,d=Q>>>24<<2,l=(Q>>>16&255)*d,T=(Q>>>8&255)*d,B=(Q&255)*d,p=D>>>24<<1,I=(D>>>16&255)*p,w=(D>>>8&255)*p,e=(D&255)*p,G=L>>>24,j=(L>>>16&255)*G,o=(L>>>8&255)*G,r=(L&255)*G,k=E>>>24<<1,a7=(E>>>16&255)*k,Y=(E>>>8&255)*k,v=(E&255)*k,n=_>>>24<<2,cm=(_>>>16&255)*n,a5=(_>>>8&255)*n,gP=(_&255)*n,cg=S>>>24<<1,a9=(S>>>16&255)*cg,ew=(S>>>8&255)*cg,h7=(S&255)*cg,bh=W>>>24<<2,ba=(W>>>16&255)*bh,jx=(W>>>8&255)*bh,c4=(W&255)*bh,bq=g+N+p+G,di=d+N+k+G,il=n+cg+p+G,j0=bh+cg+k+G,j1=bq==0?0:1/bq,b5=di==0?0:1/di,b4=il==0?0:1/il,lm=j0==0?0:1/j0,ix=0,jy=0,bz=0,c5=0;
ix=~~(.5+(b+q+e+r)*j1);jy=~~(.5+(V+K+w+o)*j1);bz=~~(.5+(x+J+I+j)*j1);c5=~~(.5+bq*(1/9));u[C]=c5<<24|bz<<16|jy<<8|ix;
ix=~~(.5+(B+q+v+r)*b5);jy=~~(.5+(T+K+Y+o)*b5);bz=~~(.5+(l+J+a7+j)*b5);c5=~~(.5+di*(1/9));u[C+1]=c5<<24|bz<<16|jy<<8|ix;
ix=~~(.5+(gP+h7+e+r)*b4);jy=~~(.5+(a5+ew+w+o)*b4);bz=~~(.5+(cm+a9+I+j)*b4);c5=~~(.5+il*(1/9));u[C+F]=c5<<24|bz<<16|jy<<8|ix;
ix=~~(.5+(c4+h7+v+r)*lm);jy=~~(.5+(jx+ew+Y+o)*lm);bz=~~(.5+(ba+a9+a7+j)*lm);c5=~~(.5+j0*(1/9));u[C+F+1]=c5<<24|bz<<16|jy<<8|ix}return{S:h,tG:m}};
a.aEy=function(s,M,O){var P=M.A,y=M.$,F=2*Math.floor(P/3),A=2*Math.floor(y/3),h=new gi(M.x,M.y,F,A),m=O&&O.length==F*A*4?O:a.j(F*A*4),Z=new Uint32Array(s.buffer),u=new Uint32Array(m.buffer);
for(var f=0;f<A;f+=2)for(var U=0;U<F;U+=2){var C=f*F+U,H=(f*3>>>1)*P+(U*3>>>1),t=Z[H],X=Z[H+1],Q=Z[H+2],D=Z[H+P],L=Z[H+1+P],E=Z[H+2+P],_=Z[H+P+P],S=Z[H+1+P+P],W=Z[H+2+P+P],g=(t>>>16&255)<<2,x=(t>>>8&255)<<2,V=(t&255)<<2,b=(X>>>16&255)<<1,N=(X>>>8&255)<<1,J=(X&255)<<1,K=(Q>>>16&255)<<2,q=(Q>>>8&255)<<2,d=(Q&255)<<2,l=(D>>>16&255)<<1,T=(D>>>8&255)<<1,B=(D&255)<<1,p=L>>>16&255,I=L>>>8&255,w=L&255,e=(E>>>16&255)<<1,G=(E>>>8&255)<<1,j=(E&255)<<1,o=(_>>>16&255)<<2,r=(_>>>8&255)<<2,k=(_&255)<<2,a7=(S>>>16&255)<<1,Y=(S>>>8&255)<<1,v=(S&255)<<1,n=(W>>>16&255)<<2,cm=(W>>>8&255)<<2,a5=(W&255)<<2,gP=0,cg=0,a9=0;
gP=~~(.5+(V+J+B+w)*(1/9));cg=~~(.5+(x+N+T+I)*(1/9));a9=~~(.5+(g+b+l+p)*(1/9));u[C]=255<<24|a9<<16|cg<<8|gP;
gP=~~(.5+(d+J+j+w)*(1/9));cg=~~(.5+(q+N+G+I)*(1/9));a9=~~(.5+(K+b+e+p)*(1/9));u[C+1]=255<<24|a9<<16|cg<<8|gP;
gP=~~(.5+(k+v+B+w)*(1/9));cg=~~(.5+(r+Y+T+I)*(1/9));a9=~~(.5+(o+a7+l+p)*(1/9));u[C+F]=255<<24|a9<<16|cg<<8|gP;
gP=~~(.5+(a5+v+j+w)*(1/9));cg=~~(.5+(cm+Y+G+I)*(1/9));a9=~~(.5+(n+a7+e+p)*(1/9));u[C+F+1]=255<<24|a9<<16|cg<<8|gP}return{S:h,tG:m}};
a.vI=function(s){var M=255,O=s.length;O-=O&31;for(var R=3;R<O;R+=32)M=M&s[R]&s[R+4]&s[R+8]&s[R+12]&s[R+16]&s[R+20]&s[R+24]&s[R+28];
return M!=255};a.a4K=function(s,M,O,P){var y=a.FJ,F=a.al$,A={tG:s,S:M},h=a.aFT(O);for(var R=0;R<h.length;
R++){if(h[R]==2)A=y(A.tG,A.S,P);else A=F(A.tG,A.S,P)}return A};a.a1i=function(s,M,O,P){var y=a.jQ,F=a.aGh,A={tG:s,S:M},h=a.aFT(O);
for(var R=0;R<h.length;R++){if(h[R]==2)A=y(A.tG,A.S,P);else A=F(A.tG,A.S,P)}return A};a.aFT=function(s){var M=[],O=s;
while(O<.499){M.push(2);O*=2}M.push(O<.5001?2:3);return M};a.jQ=function(s,M,O){var P=M.A,y=M.$,F=P>>1,A=y>>1,h=new gi(M.x,M.y,F,A);
if(s==null)return{S:h};var m=O&&O.length>=F*A?O:a.j(F*A);for(var Z=0;Z<A;Z++){var u=Z*F;for(var f=0;
f<F;f++){var U=(Z<<1)*P+(f<<1);m[u+f]=2+s[U]+s[U+1]+s[U+P]+s[U+P+1]>>>2}}return{S:h,tG:m}};a.aGh=function(s,M,O){var P=M.A,y=M.$,F=2*Math.floor(P/3),A=2*Math.floor(y/3),h=new gi(M.x,M.y,F,A);
if(s==null)return{S:h};var m=O&&O.length>=F*A?O:a.j(F*A);for(var Z=0;Z<A;Z+=2)for(var u=0;u<F;u+=2){var f=Z*F+u,U=(Z*3>>>1)*P+(u*3>>>1),C=s[U]<<2,H=s[U+1]<<1,t=s[U+2]<<2,X=s[U+P]<<1,Q=s[U+1+P],D=s[U+2+P]<<1,L=s[U+P+P]<<2,E=s[U+1+P+P]<<1,_=s[U+2+P+P]<<2;
m[f]=~~(.5+(C+H+X+Q)*(1/9));m[f+1]=~~(.5+(t+H+D+Q)*(1/9));m[f+F]=~~(.5+(L+E+X+Q)*(1/9));m[f+F+1]=~~(.5+(_+E+D+Q)*(1/9))}return{S:h,tG:m}};
a.a3K=function(s,M,O,P,y){var F=M.OK(P);if(y)F=F.OK(y);var A=Math.max(0,F.x-M.x),h=Math.max(0,F.x-P.x),m=Math.max(0,F.y-M.y),Z=Math.max(0,F.y-P.y),u=F.A,f=F.$;
for(var R=0;R<f;R++){var U=(m+R)*M.A+A,C=(Z+R)*P.A+h;for(var H=0;H<u;H++){O[C+H]=Math.max(O[C+H],s[U+H])}}};
a.TT=function(s,M,O,P,y){var F=M.OK(P);if(y)F=F.OK(y);var A=Math.max(0,F.x-M.x),h=Math.max(0,F.x-P.x),m=Math.max(0,F.y-M.y),Z=Math.max(0,F.y-P.y),u=F.A,f=F.$,U=a.$i(s),C=a.$i(O);
if(U!=C)throw"e";var H=U>>>3,t=new Uint8Array(O.buffer);for(var R=0;R<f;R++){var X=(m+R)*M.A+A,Q=(Z+R)*P.A+h;
t.set(new Uint8Array(s.buffer,X*H,u*H),Q*H)}};a.aJ0=function(s,M,O,P){if(M.s0(P)){a.GS(s,O,3);return}var y=M.OK(P),F=Math.max(0,y.x-M.x),A=Math.max(0,y.x-P.x),h=Math.max(0,y.y-M.y),m=Math.max(0,y.y-P.y),Z=y.A,u=y.$;
for(var R=0;R<u;R++){var f=(h+R)*M.A+F,U=(m+R)*P.A+A;for(var C=0;C<Z;C++)O[(U+C<<2)+3]=s[f+C]}};a.Sz=function(s,M,O,P){var y=M.OK(P),F=Math.max(0,y.x-M.x),A=Math.max(0,y.x-P.x),h=Math.max(0,y.y-M.y),m=Math.max(0,y.y-P.y),Z=y.A,u=y.$;
for(var R=0;R<u;R++){var f=(h+R)*M.A+F,U=(m+R)*P.A+A;for(var C=0;C<Z;C++)O[U+C]=s[(f+C<<2)+3]}};a.FP=function(s,M,O,P,y){if(M.s0(P)&&(y==null||y.s0(P))){O.set(s);
return}var F=M.OK(P);if(y)F=F.OK(y);var A=Math.max(0,F.x-M.x),h=Math.max(0,F.x-P.x),m=Math.max(0,F.y-M.y),Z=Math.max(0,F.y-P.y),u=F.A,f=F.$,U=4*(a.$i(O)>>>3),C=new Uint8Array(O.buffer);
for(var R=0;R<f;R++){var H=(m+R)*M.A+A,t=(Z+R)*P.A+h;C.set(new Uint8Array(s.buffer,H*U,u*U),t*U)}};a.ci=function(s,M,O,P){var y=M.OK(P),F=Math.max(0,y.x-M.x),A=Math.max(0,y.x-P.x),h=Math.max(0,y.y-M.y),m=Math.max(0,y.y-P.y),Z=y.A,u=y.$,f=s.cd,U=s.o,C=s.R,H=s.X,t=O.cd,X=O.o,Q=O.R,D=O.X;
for(var R=0;R<u;R++){var L=(h+R)*M.A+F,E=(m+R)*P.A+A;for(var _=0;_<Z;_++){t[E+_]=f[L+_];X[E+_]=U[L+_];
Q[E+_]=C[L+_];D[E+_]=H[L+_]}}};a.Zs=function(s){var M=s.length,O=a.$i(s),P=a.Cs(O),y=1/P;if(O==8)for(var R=0;
R<M;R+=4){var F=s[R+3];if(F==255)continue;s[R]=~~(s[R]*F*(1/255)+.5);s[R+1]=~~(s[R+1]*F*(1/255)+.5);
s[R+2]=~~(s[R+2]*F*(1/255)+.5)}else for(var R=0;R<M;R+=4){var F=s[R+3];if(F==P)continue;s[R]=s[R]*(F*y);
s[R+1]=s[R+1]*(F*y);s[R+2]=s[R+2]*(F*y)}};a.d7=function(s){var M=s.length,O=a.$i(s),P=a.Cs(O),y=1/P;
if(O==8)for(var R=0;R<M;R+=4){var F=s[R+3];if(F==0||F==255)continue;var A=255/F;s[R]=~~(s[R]*A+.5);s[R+1]=~~(s[R+1]*A+.5);
s[R+2]=~~(s[R+2]*A+.5)}else{for(var R=0;R<M;R+=4){var F=s[R+3];if(F==0||F==P)continue;var A=P/F;s[R]=s[R]*A;
s[R+1]=s[R+1]*A;s[R+2]=s[R+2]*A}}};a.p$=function(s,M){for(var R=0;R<s.length;R++)if(s[R]!=M)return!1;
return!0};a.Qq=function(s){return s+1+(s>>>8)>>>8};a.round=function(s,M){var O=a.$i(s),P=s.length;if(M==null)M=a.Cs(O)>>>1;
if(O==8)for(var R=0;R<P;R++)s[R]=s[R]<M?0:255;if(O==16)for(var R=0;R<P;R++)s[R]=s[R]<M?0:65535;if(O==32)for(var R=0;
R<P;R++)s[R]=s[R]<M?0:1};a.zr=function(s,M){var O=s.length,P=a.$i(s);if(P==8)for(var R=0;R<O;R++)s[R]=Math.round(s[R]*M);
if(P==16)for(var R=0;R<O;R++)s[R]=Math.round(s[R]*M);if(P==32)for(var R=0;R<O;R++)s[R]=s[R]*M};a.kd=function(s,M){var O=a.$i(s);
if(O==8){var P=new Uint32Array(s.buffer),y=new Uint32Array(M.buffer),F=P.length;for(var R=0;R<F;R++){var A=P[R],h=y[R];
y[R]=a.Qq((A>>>24)*(h>>>24))<<24|a.Qq((A>>>16&255)*(h>>>16&255))<<16|a.Qq((A>>>8&255)*(h>>>8&255))<<8|a.Qq((A&255)*(h&255))}}else{var m=1/(O==16?65535:1);
for(var R=0;R<s.length;R++)M[R]=M[R]*s[R]*m}};a.QV=function(s,M){var O=a.$i(s);if(O!=a.$i(M))throw"e";
var P=s.length;if(O==8)for(var R=0;R<P;R++)M[(R<<2)+3]=M[(R<<2)+3]*s[R]*(1/255);if(O==16)for(var R=0;
R<P;R++)M[(R<<2)+3]=M[(R<<2)+3]*s[R]*(1/65535);if(O==32)for(var R=0;R<P;R++)M[(R<<2)+3]=M[(R<<2)+3]*s[R]};
a.aJ6=function(s,M,O,P){var y=Math.max(0,P.x-M.x),F=Math.max(0,M.x-P.x),A=Math.max(0,P.y-M.y),h=Math.max(0,M.y-P.y),m=Math.min(M.x+M.A,P.x+P.A)-Math.max(M.x,P.x),Z=Math.min(M.y+M.$,P.y+P.$)-Math.max(M.y,P.y);
for(var R=0;R<Z;R++){var u=(A+R)*M.A+y,f=(h+R)*P.A+F;for(var U=0;U<m;U++){O[f]=a.Qq(O[f]*s[u]);u++;f++}}};
a._5=function(s,M,O,P,y){var F=a.$i(s),A=M.OK(P);if(y)A=A.OK(y);var h=Math.max(0,A.x-M.x),m=Math.max(0,A.x-P.x),Z=Math.max(0,A.y-M.y),u=Math.max(0,A.y-P.y),f=A.A,U=A.$;
for(var R=0;R<U;R++){var C=(Z+R)*M.A+h,H=((u+R)*P.A+m<<2)+3;for(var t=0;t<f;t++){if(F==8)O[H]=a.Qq(O[H]*s[C]);
else if(F==16)O[H]=O[H]*s[C]*(1/65535);else if(F==32)O[H]=O[H]*s[C];C++;H+=4}}};a.Tx=function(s,M,O,P,y){var F=a.$i(s),A=M.OK(P);
if(y)A=A.OK(y);var h=Math.max(0,A.x-M.x),m=Math.max(0,A.x-P.x),Z=Math.max(0,A.y-M.y),u=Math.max(0,A.y-P.y),f=A.A,U=A.$;
for(var R=0;R<U;R++){var C=((Z+R)*M.A+h<<2)+3,H=((u+R)*P.A+m<<2)+3;for(var t=0;t<f;t++){if(F==8)O[H]=a.Qq(O[H]*s[C]);
else if(F==16)O[H]=O[H]*s[C]*(1/65535);else if(F==32)O[H]=O[H]*s[C];C+=4;H+=4}}};a.Un=function(s,M){var O=a.$i(s),P=a.Cs(O),y=255/P,U=0;
if(M==null)M=1;var F=4*M,A=s.length>>>2,h=new Float64Array(256),m=new Float64Array(256),Z=new Float64Array(256),u=new Float64Array(256),f=4*Math.floor(A/M)*M;
for(var R=0;R<f;R+=F){var C=Math.min(255,Math.round(y*s[R+0])),H=Math.min(255,Math.round(y*s[R+1])),t=Math.min(255,Math.round(y*s[R+2])),X=y*s[R+3]*M,Q=X*(1/255);
m[C]+=Q;Z[H]+=Q;u[t]+=Q;U+=X}for(var R=0;R<256;R++)h[R]=m[R]+Z[R]+u[R];return[h,m,Z,u,A,U/255]};a.a1B=function(s,M){function O(S,W){var g=-1,x=0;
while(x<=W){g++;x+=S[g]}return g}function P(S,W){var g=256,x=0;while(x<=W){g--;x+=S[g]}return g}function y(S){var W=0,g=0;
for(var R=0;R<256;R++){g+=S[R];W+=S[R]*R*(1/255)}return W/g}var F=s[0],A=s[1]/100,h=s[2]/100,m=[],Z=[];
for(var R=0;R<4;R++){var u=R==0?3:1;m[R]=O(M[R],u*A*M[5]);Z[R]=P(M[R],u*h*M[5])}var f=[y(M[1]),y(M[2]),y(M[3])],U=f.slice(0);
U.sort(function(S,W){return S-W});var C=f.indexOf(U[1]),H=(f[0]+f[1]+f[2])/3,t=[];for(var R=0;R<4;R++){var X=0,Q=255,D=m[R],L=Z[R];
if(F==0&&R==0){X=D;Q=L}if(F==1&&R!=0){X=D;Q=L}if(F==2&&R!=0){var u=f[R-1]/H;Q=Math.max(0,Math.min(255,Z[C]*u))}var E=[X,Q];
t.push(E);if(F==3&&R==0){var _=255*(1-H);E.push(_)}}return t};a.aDZ=function(s,M,O,P,y,F,A){var h=s.length,m=a.$i(s),Z=m==8?255:m==16?65535:1,u=1/Z,f=(O.length-1)*.999999,U=a.aLc;
if(!A&&!F){if(m==8&&O.length==256){O=a.Gp(O,8);P=a.Gp(P,8);y=a.Gp(y,8);for(var R=0;R<h;R+=4){M[R]=O[s[R]];
M[R+1]=P[s[R+1]];M[R+2]=y[s[R+2]];M[R+3]=s[R+3]}}else for(var R=0;R<h;R+=4){var C=s[R]*u,H=s[R+1]*u,t=s[R+2]*u,X=U(O,f*C),Q=U(P,f*H),D=U(y,f*t);
M[R]=X*Z;M[R+1]=Q*Z;M[R+2]=D*Z;M[R+3]=s[R+3]}return}for(var R=0;R<h;R+=4){var C=s[R]*u,H=s[R+1]*u,t=s[R+2]*u;
if(F)C=H=t=C*.3+H*.59+t*.11;var X=U(O,f*C),Q=U(P,f*H),D=U(y,f*t);if(A){var L=a.w6(C,H,t),E=a.w6(X,Q,D);
if(L>E){var _=(L-E)/(1-E);X+=_*(1-X);Q+=_*(1-Q);D+=_*(1-D)}else if(E==0)X=Q=D=0;else{var _=L/E;X=_*X;
Q=_*Q;D=_*D}}M[R]=X*Z;M[R+1]=Q*Z;M[R+2]=D*Z;M[R+3]=s[R+3]}};a.aLc=function(s,M){var O=s.length;if(M>=O)return s[O-1]+(s[O-1]-s[O-2])*(M-O);
var P=~~M,y=M-P;return s[P]*(1-y)+s[P+(P==O-1?0:1)]*y};a.xY=function(s,M){var O=a.Gp(s,8),P=M.A,y=M.$,top=0,F=0,A=0,h=0,m=0;
m=0;for(var Z=0;Z<y;Z++){var u=Z*P;for(var R=0;R<P;R++)m|=O[u+R];if(m!=0)break;top++}if(top==y)return new gi(0,0,0,0);
m=0;for(var Z=y-1;Z>=0;Z--){var u=Z*P;for(var R=0;R<P;R++)m|=O[u+R];if(m!=0)break;A++}var f=y-A;m=0;
for(var R=0;R<P;R++){for(var Z=top;Z<f;Z++)m|=O[Z*P+R];if(m!=0)break;F++}m=0;for(var R=P-1;R>=0;R--){for(var Z=top;
Z<f;Z++)m|=O[Z*P+R];if(m!=0)break;h++}var U=new gi(M.x+F,M.y+top,P-F-h,y-top-A);return U};a.zq=function(s,M,O,P,y){var F=a.Gp(s,8),top=0,Z=0,u=0,f=0,U=!1;
if(P==null)P=[!0,!0,!0,!0];if(O==null)O=0;if(y==null)y=4294967295;var A=new Uint32Array(F.buffer),h=M.A,m=M.$,C=[A[0],A[A.length-1],0][O];
U=!1;if(P[0])for(var H=0;H<m;H++){var t=H*h;for(var R=0;R<h;R++)if(A[t+R]&y^C)U=!0;if(U)break;top++}U=!1;
if(P[2])for(var H=m-1;H>=0;H--){var t=H*h;for(var R=0;R<h;R++)if(A[t+R]&y^C)U=!0;if(U)break;u++}U=!1;
if(P[1])for(var R=0;R<h;R++){for(var H=0;H<m;H++)if(A[H*h+R]&y^C)U=!0;if(U)break;Z++}U=!1;if(P[3])for(var R=h-1;
R>=0;R--){for(var H=0;H<m;H++)if(A[H*h+R]&y^C)U=!0;if(U)break;f++}var X=new gi(M.x+Z,M.y+top,h-Z-f,m-top-u);
return X.g3()?new gi(0,0,0,0):X};a.FW=function(s){var M=a.xY(s.N,s.S);if(M.s0(s.S))return;var O=a.j(M.C(),a.$i(s.N));
a.TT(s.N,s.S,O,M);s.N=O;s.S=M};a.Dq=function(s,M){var O=a.zq(s.buffer,s.S,2,null,M?null:4278190080);
if(O.s0(s.S))return;var P=new a.j(O.C()*4,a.$i(s.buffer));a.FP(s.buffer,s.S,P,O);s.buffer=P;s.S=O};a.extend=function(s,M,O){if(s.S.fl(M))return;
var P=s.S.v8(M),y=a.$i(s.N),F=a.j(P.C(),y);if(O!=null)F.fill(a.Cs(y)*O);a.TT(s.N,s.S,F,P);s.S=P;s.N=F};
a.aGi=function(s,M){if(M.g3()||s.S.fl(M))return;var O=s.S.v8(M),P=a.j(O.C()*4,a.$i(s.buffer));a.FP(s.buffer,s.S,P,O);
s.S=O;s.buffer=P};a.kP=function(s,M,O){if(!O.$z(s))return!1;var P=Math.floor(s.x)-O.x,y=Math.floor(s.y)-O.y,R=y*O.A+P;
return M[R]>a.Cs(a.$i(M))/2};a.aA3=function(s,M,O){if(!O.$z(s))return!1;var P=Math.floor(s.x)-O.x,y=Math.floor(s.y)-O.y,R=y*O.A+P;
return M[4*R+3]>a.Cs(a.$i(M))/2};a.po=function(s){this.cd=a.j(s);this.o=a.j(s);this.R=a.j(s);this.X=a.j(s)};
a.po.prototype.v=function(){var s=this.cd.length,M=new a.po(1);M.cd=this.cd.slice(0);M.o=this.o.slice(0);
M.R=this.R.slice(0);M.X=this.X.slice(0);return M};a.O.avd=function(s,M,O,P,y){var F=y[0]+1,A=y[1],h=Math.abs(A-25)/4,m=y[2],Z=m%2+m*m>>1,u=a.O.Z;
u.Lc(M,O);var f=u.kF(1),U=u.kF(1),C=u.kF(1);u.KU(s,P,m,m,Z);u.Ze(P);u.RL(P,f);u.RO(f,U,F,F,1);u.RO(f,C,F,F,F*F);
u.sub(C,U);u.kd(U,h);(A<25?u.sub:u.add)(f,U);u.a2(U,P);u.fg(P)};a.O.aJL=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);var A=y[0]*2.55,h=y[1],m=h>>1,Z=y[2]*.25,u=F.kF(4),f=F.kF(1),U=F.kF(1);F.Vh(s,u,h,1,!0,m);
F.Vh(s,P,h,1,!1,m);F.OD(s,f);F.N5(f,A);F.pF(f,U,3);F.g0(P,U,u);F.jr(u,P,Z)};a.O.ak5=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);F.BJ(y[3]);var A=y[0]*-3+80,h=y[1]*-3+80,m=y[2]/2+.5,Z=y[4],u=y[5],f=F.kF(1),U=F.kF(1),C=F.kF(1),H=F.kF(1),t=F.kF(4),X=F.kF(4);
F.OD(s,f);F.jO(f,U);F.Lr(f,h,5);F.akD(f,.4,0);F.pF(f,C,3);F.MS(C,f,9,3,!0,27);F.jO(U,C);F.or(C);var Q=F.sP(A,5,C);
for(var R=0;R<F.fj;R++){U[R]=Q[255-U[R]]}F.akD(U,.4,0);F.jO(U,C);F.pF(C,H,2);F.MS(H,C,5,3,!1,15);F.kd(f,m);
F.kd(C,m);F.hf(P,2155905279);F.hf(X,Z);F.hf(t,u);F.g0(X,f,P);F.g0(t,C,P)};a.O.as1=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);var A=new Uint8Array(256),h=5+10*y[1];h+=y[1]>3?(y[1]-3)*10:0;var m=~~(y[2]*.73)+50,Z=Math.min(m+h,128),u=Z-m,f=-255*m;
for(var R=0;R<256;R++){var U=R*65;A[R]=F.NR(f/u);f+=255}var C=F.kF(1),H=F.kF(1),t=F.kF(1);F.OD(s,C);
F.jO(C,t);F.pF(C,H,2*y[0]+1);F.sub(H,C);F.kd(C,65);F.MS(C,H,9,3,!0,20);for(var R=0;R<F.fj;R++){var X=t[R],Q=H[R];
C[R]=Q>0?~~((Q*X+(255-Q)*128)/255):128}F.pF(C,H,3);F.MS(H,C,15,2,!0,16);F.MS(H,t,15,2,!1,15);F.yJ(C,t);
F.HS(t,H,2);F.W6(H,A);F.pF(H,C,2);F.ds(C,P)};a.O.ak2=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);var A=2*y[0]+1,h=F.aIa[y[1]],m=y[2]*5.1,Z=y[3],u=F.kF(1),f=F.kF(1),U=F.kF(4),C=F.kF(4);
F.hf(U,Z);F.Ze(U,P);F.ayQ(u,m);F.a2(u,P);F.fg(P,U);F.OD(s,f);F.pF(f,u,A);F.sub(u,f);F.kd(f,h);F.MS(f,u,9,3,!0,20);
F.g0(s,u,U);F.Qr(U,P,3);F.Vh(P,U,15,2,!0,16);F.Vh(P,C,15,2,!1,16);F.yJ(U,C);F.jr(C,P,2)};a.O.aKp=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);var A=(15-y[0])/4+1,h=(15-y[1])/4+1,m=y[2],Z=y[3],u=F.my(y[4]),f=y[5]+1,U=y[6],C=y[7],H=y[8],t=F.kF(1),X=F.kF(1),Q=F.kF(1),D=F.kF(1),L=F.kF(4),E=F.kF(4);
F.A8(Q,m,Z,U);F.OD(s,X);F.pF(X,t,5);F.Ag(Q,t,D,f,u);F.kd(D,A);F.Tm(D,2);F.or(t);F.Ag(Q,t,X,f,u);F.kd(X,h);
F.Tm(X,2);F.hf(L,2155905279);F.hf(E,C);F.hf(P,H);F.g0(L,X,E);F.g0(E,D,P)};a.O.ajJ=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);F.BJ(y[3]);var A=y[0],h=y[1]/10,m=y[2]/10,Z=F.kF(1),u=F.kF(1),f=F.kF(1),U=F.OJ(),C=F.OJ(),H=F.OJ();
F.cD(Z);F.pF(Z,u,11);F.pF(u,Z,11);F.jJ(Z,U);F.Xk(s,Z);F.jO(Z,f);F.pF(Z,u,9);F.pF(u,Z,9);F.jJ(Z,C);F.aB(C,H,5);
F.aB(H,C,5);F.apa(U,.8);F.aKP(U,C,.8,.9);F.anJ(C,Z,A);F.RO(Z,u,2,2,1);F.RO(u,Z,2,2,3);F.RO(Z,u,2,2,3);
F.RO(f,Z,5,5,13);F.ga(u,Z,u,h);F.$f(Z,u,u,m);F.Ag(u,u,Z,5,1);F.Ze(s,P);F.a2(Z,P);F.fg(P)};a.O.a7W=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);var A=y[0],h=y[1]/2,m=y[2],Z=A/2,u=F.kF(4),f=F.kF(4);F.jO(s,P);for(var U=0;U<m;U++){F.Vh(P,u,A,1,!0,Z);
F.Vh(P,f,A,1,!1,Z);F.yJ(f,u);F.Qr(u,f,2);F.jr(f,P,h)}};a.O.aFU=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);
var A=y[0]*10,h=y[1]*4.9,m=y[2]*4.9,Z=F.kF(1),u=F.kF(1),f=F.kF(4),U=F.kF(4);F.OD(s,Z);F.N5(Z,F.a44(Z,A));
F.pF(Z,u,3);F.Vh(s,f,5,1,!1,1);F.Vh(s,P,15,2,!0,16);F.g0(P,u,f);F.Ze(f,P);F.RL(P,Z);F.Lr(Z,h,m);F.a2(Z,P);
F.fg(P)};a.O.aLB=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);F.BJ(y[4]);var A=y[0]/20,h=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][y[1]],m=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][y[2]],Z=y[3],u=new Int16Array(256);
for(var R=0;R<256;R++){u[R]=~~((R-128)*A)}var f=F.kF(1),U=F.kF(1),C=F.kF(4);F.OD(s,f);F.pF(f,U,25);F.kd(U,h);
F.Tm(U,m);F.pF(U,f,25);F.cD(U);F.a2P(f,U,u);F.jO(s,P);F.hf(C,Z);F.g0(C,f,P)};a.O.aAZ=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);var A=y[0]+5,h=15-y[1],m=A*A/2,Z=1-(3-y[2])/10,u=~~(h*h*Z-1),f=~~(h*h*(1-Z));if(f==0)f=1;var U=F.kF(1),C=F.kF(1),H=F.kF(1),t=F.kF(4);
F.OD(s,H);F.RO(H,U,A,A,m);F.pF(H,C,A);F.sub(U,C);F.N5(C,1);F.KU(s,t,h,h,u);F.KU(s,P,h,h,f);F.g0(t,C,P)};
a.O.awd=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);F.BJ(y[3]);var A=(20-y[0])*.05,h=y[1]*-2.75+60,m=65-h,Z=y[2]/10,u=F.kF(1),f=F.kF(1);
F.Xk(s,f);var U=F.sP(h,m,f);F.Ze(s,P);F.RL(P,f);F.cD(u);F.lR(f,u,A);F.W6(f,U);F.kd(f,y[2]/10);F.add(u,f);
F.a2(f,P);F.fg(P)};a.O.aBF=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);var A=5+y[0],h=15-y[1],m=y[2],Z=A*A/2+A*A%2*1,u=1-(3-y[2])/10,f=~~(h*h*u-1),U=~~(h*h*(1-u));
if(U==0)U=1;var C=F.kF(1),H=F.kF(1),t=F.kF(1),X=F.kF(1),Q=F.kF(1);F.Xk(s,H);F.HS(H,C,3);F.RO(C,H,2,2,1);
var D=F.sP(20,20,H);F.W6(H,D);F.pF(H,Q,5);F.RO(Q,C,A,A,Z);F.RO(Q,H,h,h,f);F.RO(Q,t,h,h,U);F.pF(Q,X,A);
F.sub(C,X);F.N5(X,1);F.aBq(H,X,t);F.Ze(s,P);F.a2(t,P);F.fg(P)};a.O.a1k=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);F.BJ(y[5]);var A=F.fj,h=F.bl,m=y[0],Z=y[1],u=y[2],f=y[3],U=y[4],C=.05*m+1,H=m/100,t=m>>1,X=2*m-100,Q=+(Z==9),D=+(Z==7),L=[4,1][Q],E=[3,2][Q],_=[1,2][D],S=[2,1][D],W=[50,75][Q],g=Z<4?u:(u>>1)+50,x=F.awV(W,g),V=F.z8(f),b=F.z8(U),N=F.kF(4),J=F.kF(4),K=F.kF(1),q=F.kF(1);
function d(P,x){if(g!=50){F.ada(P,x)}}function l(s,a7){for(var R=0;R<A;R++){s[R]=F.NR(s[R]+(a7[R]-128)*H)}}function T(s,a7){for(var R=0,Y=0;
R<A;R++){s[Y]=F.NR(s[Y]+(a7[Y]-128)*H);s[Y+1]=F.NR(s[Y+1]+(a7[Y+1]-128)*H);s[Y+2]=F.NR(s[Y+2]+(a7[Y+2]-128)*H);
Y+=4}}function B(s,P){F.cD(J);F.jO(s,P);T(P,J);d(P,x)}function p(a7){var Y=0;for(var v=0;v<12;v++)Y+=F.random();
return F.NR(t*(Y-6)+a7)}function I(s,P){F.jO(s,P);for(var R=0;R<h;R+=4){P[R]=p(P[R]);P[R+1]=p(P[R+1]);
P[R+2]=p(P[R+2])}d(P,x)}function w(s,P){F.jO(s,P);for(var R=0;R<h;R+=4){if(F.random()<H){P[R]=V[0];P[R+1]=V[1];
P[R+2]=V[2]}}d(P,x)}function e(s,P){F.cD(N);F.KU(N,J,E,E,L);F.jO(s,N);T(N,J);F.KU(N,P,5,5,13);d(P,x)}function G(s,P){F.cD(J);
F.jO(s,N);T(N,J);d(P,x);F.KU(N,P,E,E,L)}function j(s,P){F.jO(s,N);d(P,x);F.OD(N,K);for(var R=0,a7=0;
R<A;R++){var Y=((X-K[R]+255)*128.5+.5)/32767;if(F.random()<=Y){P[a7++]=b[0];P[a7++]=b[1];P[a7++]=b[2]}else{P[a7++]=V[0];
P[a7++]=V[1];P[a7++]=V[2]}P[a7]=s[a7];a7++}}function o(s,P){F.Ze(s,P);F.RL(P,K);F.HS(K,q,C);F.RO(q,K,E,E,L);
F.W6(K,x);F.a2(K,P);F.fg(P)}function r(s){var a7=0;if(Z==8){for(var Y=0;Y<M;Y++){s[a7++]=~~(F.random()*255)}for(var R=1;
R<O;R++){for(var Y=0;Y<M;Y++){s[a7++]=s[Y]}}}else{for(var R=0;R<O;R++){var v=~~(F.random()*255);for(var Y=0;
Y<M;Y++){s[a7++]=v}}}}function k(s,P){F.OD(s,K);F.cD(q);l(K,q);r(q);l(K,q);F.Qr(s,N,9);F.Qr(N,J,9);F.pF(K,q,2);
F.W6(q,x);F.pF(q,K,2);F.Ze(J,P);F.a2(K,P);F.fg(P)}[B,I,w,e,e,G,j,k,k,o][Z](s,P)};a.O.a5q=function(s,M,O,P,y){var F=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],A=a.O.Z,t=0,X,R,_,S,W,g=0,x=1,V=255;
A.Lc(M,O);A.BJ(y[3]);var h=A.kF(1),m=A.kF(1);A.OD(s,h);var Z=y[0],u=y[1],f=u<=50?F[u]/255:1+(255-F[101-u])/255,U=y[2],C=h.length,H=new Float32Array(C),Q=1+1/10*Z,D=(1-1/Q)/2,L=16/256,E=M-1;
for(R=0;R<A.fj;R++){H[R]=h[R]/255;m[R]=Z==1?A.random()<1/255?V:x:x}function b(N,J){var K=N*M+J;if(m[K]!=x||N>=O||J>=M){return}var S=H[K],q=f-S,d=A.random(),l=d/Q+D;
if(t==0||Math.abs(W-S)>L){X=l<=q?g:V;t=~~(A.random()*Z)}else if(.1<d){t--}else{t=0}m[K]=X;W=S}if(U==0){for(R=0;
R<M;R++){for(_=0;_<M;_++){S=R+_;if(S>=M)break;b(_,E-S)}t=0}for(R=1;R<O;R++){for(_=0;_<O;_++){S=R+_;if(S>=O||_>=M)break;
b(S,E-_)}t=0}}else if(U==1){for(R=0;R<O;R++){for(_=0;_<M;_++){b(R,_)}t=0}}else if(U==2){for(R=0;R<M;
R++){for(_=0;_<M;_++){S=R+_;if(S>=M)break;b(_,S)}t=0}for(R=1;R<O;R++){for(_=0;_<O;_++){S=R+_;if(S>=O||_>=M)break;
b(S,_)}t=0}}else{for(R=0;R<M;R++){for(_=0;_<O;_++){b(_,R)}t=0}}A.ds(m,P)};a.O.a1A=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);var A=y[0],h=y[1],m=y[2],Z=F.kF(1),u=F.kF(1),f=F.kF(1),U=F.kF(1),C=F.kF(4),H=F.kF(4);F.RL(s,U,3,4);
F.OD(s,Z);F.RO(Z,u,3,3,1);F.RO(Z,f,3,3,9);F.sub(f,u);F.pF(u,Z,3);F.Lr(Z,40,10,U);F.Vh(s,P,A,2,!1,A);
F.Vh(s,C,A,2,!0,A);F.hf(H,255);F.g0(P,Z,H);F.g0(H,Z,C);F.jr(C,P,1);F.Ze(P);F.RL(P,Z);F.Lr(Z,h,m,U);F.a2(Z,P);
F.fg(P)};a.O.ahW=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);F.BJ(y[3]);var A=y[0],h=y[1],m=y[2]/10;A=A+h;
var Z=F.kF(1),u=F.kF(1),f=F.OJ(),U=F.OJ();F.cD(Z);F.pF(Z,u,11);F.pF(u,Z,11);F.jJ(Z,f);F.aB(f,U,5);F.aB(U,f,5);
F.apa(U,.97);F.anJ(U,Z,A);F.RO(Z,u,h,h,1);F.Xk(s,Z);F.ga(u,Z,u,.6);F.$f(Z,u,u,m);F.Ag(u,u,Z,5,1);F.Ze(s,P);
F.a2(Z,P);F.fg(P)};a.O.aeV=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);var A=Math.abs(y[0]),h=A+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][A],m=2*A+1,Z=y[1]/10,u=Z*13/15,f=F.kF(1),U=F.kF(1),C=F.kF(1),H=F.kF(1),t=F.kF(4),X=F.kF(4),Q=F.kF(4),D=F.kF(4),L=F.kF(4);
F.OD(s,f);if(y[0]>=0){F.or(f)}F.jO(f,C);F.pF(f,H,h);F.pF(H,f,h);F.kd(f,Z);F.jO(f,U);F.pF(f,H,m);F.pF(H,f,m);
F.kd(f,u);F.hf(Q,y[2]);F.hf(D,y[3]);F.hf(L,y[4]);F.g0(Q,f,D,t);F.g0(L,U,t,X);F.g0(D,C,X,P);F.RL(s,C,3);
F.a2(C,P,3)};a.O.asP=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);F.BJ(y[5]);var A=y[0]*5.1,h=y[1]/100,m=F.ap8[y[2]],Z=F.kF(1),u=F.kF(1),f=F.kF(1);
F.OD(s,Z);F.ayQ(u,255);F.cD(f);F.N5(Z,A);F.lR(u,Z,.7);F.lR(f,Z,h);F.Ag(Z,Z,u,5,m);F.jO(s,P);F.aoO(P,A,y[4],y[3]);
F.Ze(P);F.a2(u,P);F.fg(P)};a.O.a1s=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);var A=y[0],h=4-y[1],m=11-y[2],Z=F.kF(1),u=F.kF(1),f=F.kF(4);
F.Xk(s,u);for(var R=0;R<h;R++){F.jO(u,Z);F.afg(Z,u,A,A)}F.Qr(s,f,A);F.Ze(f,f);F.a2(u,f);F.fg(f,f);(m<11?F.al7:F.jO)(f,P,m)};
a.O.aKb=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);F.BJ(y[2]);var A=y[0]+5,h=~~(A/5+1),m=~~(A/2)+1,Z=m*m,u=~~(A/3),f=F.ap8[y[1]],U=new Array(256);
for(var R=0;R<256;R++){U[R]=~~(.2*(R-128))}var C=F.kF(1),H=F.kF(1);F.aJ8(s,P,A);F.Ze(P);F.RL(P,C);F.cD(H);
F.a2P(C,H,U);F.a4B(H,A,A,h,h);F.ga(C,H,C,1);F.pF(C,H,u);F.pF(H,C,u);F.RO(C,H,m,m,Z);F.Ag(H,H,C,5,f);
F.a2(C,P);F.fg(P)};a.O.aLn=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);var A=F.kF(1),h=F.kF(1),m=F.kF(1),Z=F.OJ(),u=F.OJ();
F.OD(s,A);F.pF(A,h,y[2]);F.N5(h,y[0]*5.1);F.RO(h,A,2,2,4);F.pF(A,h,3);F.pF(h,A,3);F.jO(A,m);F.pF(A,h,5);
F.pF(h,A,5);F.jJ(A,Z);F.aB(Z,u,5);F.aB(u,Z,5);F.agn(Z,h,y[1]);F.or(h);F.ga(m,h,m,1);F.ds(m,P)};a.O.aI5=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);var A=1<<7-y[2],h=F.kF(1),m=F.kF(1),Z=F.kF(1);F.Xk(s,m);F.pF(m,h,3);F.jO(h,m);F.pF(h,Z,y[0]+5);
F.sub(Z,m);F.Lr(m,1,y[1]);F.kd(h,1/A);F.kd(h,A);F.sub(h,m);F.Ze(s,P);F.a2(m,P);F.fg(P)};a.O.age=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);F.BJ(y[3]);var A=F.kF(1),h=F.kF(1),m=F.kF(1);F.OD(s,A);F.axX(h,y[0]/50);F.pF(h,m,3);F.RO(A,h,9,9,41);
F.Lr(h,y[1],y[2]);F.ga(h,m,m,.75);F.$f(h,m,h,.5);F.jO(h,A);F.RO(A,m,3,3,8);F.ga(m,h,m,.75);F.kd(m,1.2);
F.HS(m,A,1);F.pF(A,m,2);F.HS(m,A,2);F.kd(A,1.2);F.pF(A,m,2);F.ds(m,P)};a.O.aEn=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);var A=y[0]+9,h=y[1]/2,m=y[2],Z=y[3],u=F.my(y[4]),f=y[5]+1,U=y[6],C=F.kF(1),H=F.kF(1),t=F.kF(4),X=F.kF(4);
F.A8(H,m,Z,U);F.aw3(s,P,A,1,1);F.aw3(P,t,A,1,1);F.aIK(t,t,X,7,h);F.kd(X,1.2);F.Tm(X,1.2);F.Ag(H,C,C,f,u);
F.kd(C,3);F.jO(s,P);F.g0(X,C,P)};a.O.aa0=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);F.BJ(y[3]);var A=y[0]+4,h=A*2/5+(A%5|0);
A--;var m=y[1]*-2.75+60,Z=65-m,u=y[2]/10,f=F.kF(1),U=F.kF(1);F.cD(f);F.Xk(s,U);var C=F.sP(m,Z,U);F.Ze(s,P);
F.RL(P,U);F.lR(U,f,.8);F.W6(U,C);F.kd(U,u);F.add(f,U);F.MS(U,f,A,3,!1,h);F.a2(f,P);F.fg(P)};a.O.apo=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);F.BJ(y[3]);var A=y[0]+5,h=(A*A>>1)+A%2,m=y[1]/10,Z=y[2],u=(Z*Z>>1)+Z%2,f=F.kF(1),U=F.kF(1),C=F.kF(1),H=F.kF(4),t=F.kF(4),X=F.kF(4);
F.cD(C);F.Ze(s,X);F.RL(X,f);F.lR(f,C,.8);F.pF(C,f,3);F.HS(f,C,m);F.a2(C,X);F.fg(X,X);F.OD(X,C);F.RO(C,f,A,A,h);
F.pF(C,U,A);F.sub(f,U);F.N5(U,1);F.KU(X,H,7,7,40);F.KU(X,t,7,7,10);F.g0(H,U,t);F.KU(t,P,Z,Z,u)};a.O.aqO=function(s,M,O,P,y){var F=a.O.Z,h=255,R,Z;
F.Lc(M,O);var A=y[0];if(A<2)h=A;else if(A<12)h=5*A-5;else if(A<47)h=2*A+28;else if(A<50){R=A-47;h=125+12.5*R+12.5*R*R}var m=new Uint8Array(256);
for(R=75,Z=15;R<256;R++,Z+=24)m[R]=Math.min(255,Z);var u=F.kF(1),f=F.kF(1),U=F.kF(1);F.OD(s,u);F.pF(u,f,11);
F.pF(f,U,11);F.sub(U,u);F.kd(u,8);F.sub(U,u);F.N5(u,h);F.or(u);F.pF(u,f,5);F.N5(f,51);F.pF(f,u,y[1]);
F.pF(u,f,y[1]);F.or(f);F.W6(f,m);F.ds(f,P)};a.O.aAK=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);var A=F.aIa[y[1]],h=y[2],m=h*1.5,Z=F.kF(1),u=F.kF(1),f=F.kF(1);
F.Xk(s,Z);F.MS(Z,u,15,2,!0,15);F.jO(u,f);F.Lr(f,h,m);F.pF(f,Z,3);F.pF(u,f,y[0]);F.sub(f,u);F.kd(u,A);
F.sub(Z,u);F.pF(u,Z,3);F.MS(Z,u,3,1,!1,1);F.Qr(s,P,15);F.Ze(P);F.a2(u,P);F.fg(P)};a.O.amz=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);F.BJ(y[3]);var A=y[0]*5.1,h=16-y[1],m=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][y[2]],Z=F.kF(1),u=F.kF(1),f=F.kF(1);
F.OD(s,Z);F.N5(Z,A);F.pF(Z,u,h);F.pF(u,Z,h);F.cD(f);F.$f(Z,f,f,1);F.ga(Z,f,Z,.75);F.kd(Z,m);F.Tm(Z,m);
F.RO(Z,u,2,2,2);F.ds(u,P)};a.O.aLE=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);var A=y[0]+9,h=y[1]+9,m=y[2],Z=y[3],u=F.my(y[4]),f=y[5]+1,U=y[6],C=F.kF(1),H=F.kF(1),t=F.kF(1),X=F.kF(1),Q=F.kF(1),D=F.kF(4);
F.Xk(s,C);F.afg(C,t,A,A);F.pF(t,C,h);F.jO(t,Q);F.jO(C,X);F.sub(Q,X);F.sub(C,Q);F.add(Q,X);F.kd(X,10);
F.A8(H,m,Z,U);F.Ag(H,C,Q,f,u);F.aBq(Q,X,t,.8);F.Qr(s,D,9);F.Qr(D,P,9);F.Ze(P);F.a2(t,P);F.fg(P)};a.O.aFp=function(s,M,O,P,y){var F=a.O.Z;
F.Lc(M,O);var A=16-y[0],h=y[1]*8,m=1-(3-y[2])/10,Z=~~(A*A*m-1),u=~~(A*A*(1-m));if(u==0)u=1;var f=F.kF(1),U=F.kF(1),C=F.kF(1),H=F.kF(4);
F.OD(s,C);F.RO(C,f,7,7,25);F.pF(C,U,7);F.sub(f,U);F.N5(U,1);F.KU(s,H,A,A,Z);F.KU(s,P,A,A,u);F.g0(H,U,P);
F.Ze(P);F.RL(P,f);F.RO(f,C,3,3,1);F.RO(f,U,3,3,9);F.sub(U,C);F.jO(C,U);F.sub(f,C);F.sub(C,U);F.RO(U,f,3,3,8);
F.Lr(f,h,1);F.a2(f,P);F.fg(P)};a.O.az4=function(s,M,O,P,y){var F=a.O.Z;F.Lc(M,O);F.BJ(y[3]);var A=y[0],h=y[1],m=y[2],Z=A>>1,u=Math.max(~~(A/5),1),f=Math.max(~~(A*2/3),1),U=F.awV(h,m),C=F.kF(1),H=F.kF(1),t=F.kF(1),X=F.kF(1),Q=F.kF(4);
F.Xk(s,C);F.anz(2147483647,4,2,2,0,255,H);F.anz(4,2147483647,2,2,0,255,X);F.cD(t);F.$f(H,t,H,1);F.$f(X,t,X,1);
F.$f(H,C,H,1);F.$f(X,C,X,1);F.Qr(s,Q,Z);F.Qr(Q,P,Z);F.RO(H,C,1,A,u);F.RO(C,H,3,A,f);F.RO(X,C,A,1,u);
F.RO(C,X,A,3,f);F.yJ(H,X);F.Ze(P);F.a2(X,P);F.fg(P);F.ada(P,U)};a.O.jw=function(s,M,O){var P=O.aI_,y=O.fj,F=O.kF(1),top=O.kF(1),A=O.kF(1),h=O.kF(1),m=O.kF(1),Z=O.kF(1),u=O.kF(1),f=O.kF(1),U=O.kF(1),C=O.V5,H=O.fw,t=a.nG.qu,X=a.nG.RN;
t(s,F,C,H,X([8,5,2,5,2,-1,2,-1,-4]));t(s,top,C,H,X([5,5,5,2,2,2,-1,-1,-1]));t(s,A,C,H,X([2,5,8,-1,2,5,-4,-1,2]));
t(s,h,C,H,X([5,2,-1,5,2,-1,5,2,-1]));t(s,m,C,H,X([2,2,2,2,2,2,2,2,2]));t(s,Z,C,H,X([-1,2,5,-1,2,5,-1,2,5]));
t(s,u,C,H,X([2,-1,-4,5,2,-1,8,5,2]));t(s,f,C,H,X([-1,-1,-1,2,2,2,5,5,5]));t(s,U,C,H,X([-4,-1,2,-1,2,5,2,5,8]));
var Q=[F,top,A,h,m,Z,u,f,U];for(var D=0;D<H;D++){for(var L=0;L<C;L++){var E=D*C+L,_=s[E],S=null,W=0;
for(var g=-1;g<2;g++){for(var x=-1;x<2;x++){var V=Q[(g+1)*3+x+1],b=Math.max(0,Math.min(D+g,H-1)),N=Math.max(0,Math.min(L+x,C-1)),J=V[b*C+N],K=Math.abs(J-_);
if(S==null||K<S){S=K;W=J}}}M[E]=W}}};a.O.a5d=function(s,M,O,P,y){var self=a.O.Z;self.Lc(M,O);var F=self.kF(1),A=self.kF(1);
for(var R=0;R<4;R++){self.RL(s,F,R);if(R<3){a.O.jw(F,A,self);a.O.jw(A,F,self);a.O.jw(F,A,self);a.O.jw(A,F,self);
a.O.jw(F,A,self);a.O.jw(A,F,self);a.O.jw(F,A,self);a.O.jw(A,F,self);a.O.jw(F,A,self)}else A=F;self.a2(A,P,R)}};
a.O.Z={};a.O.Z.V5=0;a.O.Z.fw=0;a.O.Z.fj=0;a.O.Z.t6=0;a.O.Z.bl=0;a.O.Z.Lc=function(s,M){var O=s*M,self=a.O.Z;
self.V5=s;self.fw=M;self.fj=O;self.t6=O<<1;self.bl=O<<2};a.O.Z.BJ=function(s){a.O.Z.random=function(){var M=s+=1831565813;
M=Math.imul(M^M>>>15,M|1);M^=M+Math.imul(M^M>>>7,M|61);return((M^M>>>14)>>>0)/4294967296}};a.O.Z.kF=function(s){var M=a.O.Z;
return new Uint8Array([-1,M.fj,M.t6,-1,M.bl][s])};a.O.Z.OJ=function(){return new Int32Array(a.O.Z.t6)};
a.O.Z.pF=function(s,M,O,P){if(P==null)P=O;var self=a.O.Z,y=self.V5,F=self.fw,A=P,h=P>>1,m=O,Z=O>>1,u=O*P,f=0;
for(var R=0;R<F;R++){var U=0;for(var C=0;C<A;C++){for(var H=0;H<m;H++){var t=0-Z+H,X=R-h+C;if(t<0)t=0;
else if(t>=y)t=y-1;if(X<0)X=0;else if(X>=F)X=F-1;U+=s[X*y+t]}}M[f++]=~~(U/u);for(var Q=1;Q<y;Q++){for(var C=0;
C<A;C++){var D=Q-Z-1,L=D+m,X=R-h+C;if(D<0)D=0;if(L>=y)L=y-1;if(X<0)X=0;else if(X>=F)X=F-1;U+=s[X*y+L]-s[X*y+D]}M[f++]=~~(U/u)}}};
a.O.Z.aB=function(s,M,O,P){var self=a.O.Z,y=new Int32Array(self.fj),F=new Int32Array(self.fj);for(var R=0;
R<2;R++){self.RL(s,y,R,2);self.pF(y,F,O,P);self.a2(F,M,R,2)}};a.O.Z.Qr=function(s,M,O,P){var self=a.O.Z,y=self.kF(1),F=self.kF(1);
for(var R=0;R<4;R++){self.RL(s,y,R);if(R<3)self.pF(y,F,O,P);else F=y;self.a2(F,M,R)}};a.O.Z.aw3=function(s,M,O,P,y){var self=a.O.Z,F=self.V5,A=self.fw,h=O+P-1,m=O>>1,Z=h>>1,u=0,f=O*P,U=new Int32Array(O);
for(var R=0;R<A;R++){var C=0,H=0,t=0;for(var X=0;X<O;X++){var Q=y?h-X-P:X;for(var D=Q,L=P+Q;D<L;D++){var E=0-Z+D,_=R-m+X;
if(D==Q){U[X]=E}if(E<0)E=0;else if(E>=F)E=F-1;if(_<0)_=0;else if(_>=A)_=A-1;var S=F*_+E<<2;C+=s[S];H+=s[S+1];
t+=s[S+2]}}M[u++]=~~(C/f);M[u++]=~~(H/f);M[u++]=~~(t/f);M[u]=s[u];u++;for(var W=1;W<F;W++){for(var X=0;
X<O;X++){var _=R-m+X,Q=U[X]+1;U[X]=Q;var g=Q-1,x=Q+P-1;if(_<0)_=0;else if(_>=A)_=A-1;if(g<0)g=0;else if(g>=F)g=F-1;
if(x<0)x=0;else if(x>=F)x=F-1;var V=_*F+g<<2,b=_*F+x<<2;C=C+s[b]-s[V];H=H+s[b+1]-s[V+1];t=t+s[b+2]-s[V+2]}M[u++]=~~(C/f);
M[u++]=~~(H/f);M[u++]=~~(t/f);M[u]=s[u];u++}}};a.O.Z.MS=function(s,M,O,P,y,F){var self=a.O.Z,A=self.V5,h=self.fw,m=O+P-1,Z=O>>1,u=m>>1,f=0,U=new Int32Array(O),C=new Int32Array(256),H=new Int32Array(16);
for(var R=0;R<h;R++){for(var t=0;t<256;t++){C[t]=0}for(var t=0;t<16;t++){H[t]=0}for(var X=0;X<O;X++){var Q=y?m-X-P:X;
for(var D=Q,L=P+Q;D<L;D++){var E=0-u+D,_=R-Z+X;if(D==Q){U[X]=E}if(E<0)E=0;else if(E>=A)E=A-1;if(_<0)_=0;
else if(_>=h)_=h-1;C[s[_*A+E]]++;H[s[_*A+E]>>>4]++}}var S=0,W=0;while(S+H[W>>>4]<F){S+=H[W>>>4];W+=16}for(;
W<256;W++){S+=C[W];if(S>=F)break}M[f++]=W;for(var t=1;t<A;t++){for(var X=0;X<O;X++){var _=R-Z+X,Q=U[X]+1;
U[X]=Q;var g=Q-1,x=Q+P-1;if(_<0)_=0;else if(_>=h)_=h-1;if(g<0)g=0;else if(g>=A)g=A-1;if(x<0)x=0;else if(x>=A)x=A-1;
C[s[_*A+g]]--;C[s[_*A+x]]++;H[s[_*A+g]>>>4]--;H[s[_*A+x]>>>4]++}S=0;W=0;while(S+H[W>>>4]<F){S+=H[W>>>4];
W+=16}for(;W<256;W++){S+=C[W];if(S>=F)break}M[f++]=W}}};a.O.Z.Vh=function(s,M,O,P,y,F){var self=a.O.Z,A=self.kF(1),h=self.kF(1);
for(var R=0;R<4;R++){self.RL(s,A,R);if(R<3)self.MS(A,h,O,P,y,F);else h=A;self.a2(h,M,R)}};a.O.Z.RO=function(s,M,O,P,y){y=Math.min(P*O,y);
var self=a.O.Z,F=self.V5,A=self.fw,h=P>>1,m=O>>1,Z=0,u=new Int32Array(P),f=new Int32Array(256),U=new Int32Array(16);
for(var R=0;R<A;R++){for(var C=0;C<256;C++){f[C]=0}for(var C=0;C<16;C++){U[C]=0}for(var H=0;H<P;H++){for(var t=0,X=O;
t<X;t++){var Q=0-m+t,D=R-h+H;if(t==0){u[H]=Q}if(Q<0)Q=0;else if(Q>=F)Q=F-1;if(D<0)D=0;else if(D>=A)D=A-1;
f[s[D*F+Q]]++;U[s[D*F+Q]>>>4]++}}var L=0,E=0;while(L+U[E>>>4]<y){L+=U[E>>>4];E+=16}for(;E<256;E++){L+=f[E];
if(L>=y)break}M[Z++]=E;for(var C=1;C<F;C++){for(var H=0;H<P;H++){var D=R-h+H,_=u[H]+1;u[H]=_;var S=_-1,W=_+O-1;
if(D<0)D=0;else if(D>=A)D=A-1;if(S<0)S=0;else if(S>=F)S=F-1;if(W<0)W=0;else if(W>=F)W=F-1;f[s[D*F+S]]--;
f[s[D*F+W]]++;U[s[D*F+S]>>>4]--;U[s[D*F+W]>>>4]++}L=0;for(E=0;E<256;E++){L+=f[E];if(L>=y)break}M[Z++]=E}}};
a.O.Z.KU=function(s,M,O,P,y){var self=a.O.Z,F=self.kF(1),A=self.kF(1);for(var R=0;R<4;R++){self.RL(s,F,R);
if(R<3)self.RO(F,A,O,P,y);else A=F;self.a2(A,M,R)}};a.O.Z.HS=function(s,M,O){var self=a.O.Z,P=self.V5,y=self.fw,F=0;
for(var R=0;R<y;R++){var A=R*P,h=(R-1)*P,m=(R+1)*P;if(h<0)h=A;if(m>=y)m=A;for(var Z=0;Z<P;Z++){var u=Z-1,f=Z+1;
if(u<0)u=Z;if(f>=P)f=Z;var U=A+u,C=A+f,H=h+Z,t=m+Z,X=A+Z,Q=s[U],D=s[C],L=s[H],E=s[t],_=s[X],S=_+(_*4*O+.5);
S=S-((Q+D+E+L)*O+.5);M[F++]=self.NR(S)}}};a.O.Z.jr=function(s,M,O){var self=a.O.Z,P=self.kF(1),y=self.kF(1);
for(var R=0;R<4;R++){self.RL(s,P,R);if(R<3)self.HS(P,y,O);else y=P;self.a2(y,M,R)}};a.O.Z.al7=function(s,M,O){var self=a.O.Z,P=self.V5,y=self.fw,F=0,A=O+4;
for(var R=0;R<y;R++){var h=R*P,m=(R-1)*P,Z=(R+1)*P;if(m<0)m=h;if(Z>=y)Z=h;for(var u=0;u<P;u++){var f=u-1,U=u+1;
if(f<0)f=u;if(U>=P)U=u;var C=h+f<<2,H=h+U<<2,t=m+u<<2,X=Z+u<<2,Q=h+u<<2;for(var D=0;D<3;D++){var L=s[C+D],E=s[H+D],_=s[t+D],S=s[X+D],W=s[Q+D];
M[F++]=(W*O+L+E+S+_)/A}M[F]=s[F];F++}}};a.O.Z.afg=function(s,M,O,P){var self=a.O.Z,y=self.V5,F=self.fw,A=O>>1,h=P>>1,m=0,Z=new Int32Array(O),u=new Int32Array(256);
for(var R=0;R<F;R++){for(var f=0;f<256;f++){u[f]=0}for(var U=0;U<O;U++){for(var C=0,H=P;C<H;C++){var t=0-h+C,X=R-A+U;
if(C==0){Z[U]=t}if(t<0)t=0;else if(t>=y)t=y-1;if(X<0)X=0;else if(X>=F)X=F-1;u[s[X*y+t]]++}}var Q=0,D=0;
for(var L=0;L<256;L++){if(Q<u[L]){D=L;Q=u[L]}}M[m++]=D;for(var f=1;f<y;f++){for(var U=0;U<O;U++){var X=R-A+U,E=Z[U]+1;
Z[U]=E;var _=E-1,S=E+P-1;if(X<0)X=0;else if(X>=F)X=F-1;if(_<0)_=0;else if(_>=y)_=y-1;if(S<0)S=0;else if(S>=y)S=y-1;
u[s[X*y+_]]--;u[s[X*y+S]]++}Q=0;D=0;for(var L=0;L<256;L++){if(Q<u[L]){D=L;Q=u[L]}}M[m++]=D}}};a.O.Z.aIq=[function(s,M,O,P,y,F,A,h,m,Z){return y+(s+M+O)*Z-(m+h+A)*Z},function(s,M,O,P,y,F,A,h,m,Z){return y+(M+O+F)*Z-(h+A+P)*Z},function(s,M,O,P,y,F,A,h,m,Z){return y+(O+F+m)*Z-(A+P+s)*Z},function(s,M,O,P,y,F,A,h,m,Z){return y+(F+m+h)*Z-(P+s+M)*Z},function(s,M,O,P,y,F,A,h,m,Z){return y+(m+h+A)*Z-(s+M+O)*Z},function(s,M,O,P,y,F,A,h,m,Z){return y+(h+A+P)*Z-(M+O+F)*Z},function(s,M,O,P,y,F,A,h,m,Z){return y+(A+P+s)*Z-(O+F+m)*Z},function(s,M,O,P,y,F,A,h,m,Z){return y+(P+s+M)*Z-(F+m+h)*Z}];
a.O.Z.Ag=function(s,M,O,P,y){var self=a.O.Z,F=self.V5,A=self.fw,h=F,m=self.aIq[P-1];for(var R=0;R<A;
R++){var Z=(R>0?R-1:0)*h,u=R*h,f=(R<A?R+1:R)*h;for(var U=0;U<F;U++){var C=U>0?U-1:0,H=U<F?U+1:U,t=u+U,X=s[Z+C],Q=s[Z+U],D=s[Z+H],L=s[u+C],E=M[t],_=s[u+H],S=s[f+C],W=s[f+U],g=s[f+H];
O[t]=self.NR(m(X,Q,D,L,E,_,S,W,g,y))}}};a.O.Z.aIK=function(s,M,O,P,y){var self=a.O.Z,F=self.kF(1),A=self.kF(1),h=self.kF(1);
for(var R=0;R<3;R++){self.RL(s,F,R);self.RL(M,A,R);self.Ag(F,A,h,P,y);self.a2(h,O,R)}self.RL(M,F,3);
self.a2(F,O,3)};a.O.Z.OD=function(s,M){var O=s.length,P=0;for(var R=0;R<O;R++){M[P++]=~~((s[R++]+s[R++]+s[R++]+2)/3)}};
a.O.Z.ds=function(s,M){var O=M.length,P=0;for(var R=0;R<O;R++){var y=s[R];M[P++]=y;M[P++]=y;M[P++]=y;
M[P++]=255}if(M[0]==255)M[0]--;else M[0]++};a.O.Z.Xk=function(s,M){var O=M.length,P=0;for(var R=0;R<O;
R++){var y=s[P++],F=s[P++],A=s[P++];P++;if(F>y)y=F;if(A>y)y=A;M[R]=y}};a.O.Z.Ze=function(s,M){if(M==null)M=s;
var O=s.length;for(var P=0;P<O;P+=4){var y=s[P],F=s[P+1],A=s[P+2],h=y,m=0,Z=y,f;if(F<=y){y=F}else{m=1;
Z=F}if(A<=Z){if(y>A){y=A}}else{m=2;Z=A}var u=Z-y;if(u!=0){if(m==0){f=~~(43*(F-A)/u)}else if(m==1){f=~~(43*(A+2*u-h)/u)}else{f=43*(h+4*u-F)/u}if(f<0){f=255&f-1}M[P]=f;
M[P+1]=~~(255*u/Z)}else{M[P]=u;M[P+1]=u}M[P+2]=Z;M[P+3]=s[P+3]}};a.O.Z.fg=function(s,M){if(M==null)M=s;
var O=s.length;for(var P=0;P<O;P+=4){var y=s[P],F=s[P+1],A=s[P+2];if(F){if(y==255)y=0;var h=~~(6*y/255),m=~~(-255*h+6*y);
if(h==0){M[P]=A;M[P+1]=~~(A*(255-F*(255-m)/255)/255);M[P+2]=~~(A*(255-F)/255)}else if(h==1){M[P]=~~(A*(255-F*m/255)/255);
M[P+1]=A;M[P+2]=~~(A*(255-F)/255)}else if(h==2){M[P]=~~(A*(255-F)/255);M[P+1]=A;M[P+2]=~~(A*(255-F*(255-m)/255)/255)}else if(h==3){M[P]=~~(A*(255-F)/255);
M[P+1]=~~(A*(255-F*m/255)/255);M[P+2]=A}else if(h==4){M[P]=~~(A*(255-F*(255-m)/255)/255);M[P+1]=~~(A*(255-F)/255);
M[P+2]=A}else{M[P]=A;M[P+1]=~~(A*(255-F)/255);M[P+2]=~~(A*(255-F*m/255)/255)}}else{M[P]=A;M[P+1]=A;M[P+2]=A}M[P+3]=s[P+3]}};
a.O.Z.a2=function(s,M,O,P){if(O==null)O=2;if(P==null)P=4;var y=s.length;for(var R=0;R<y;R++){M[O]=s[R];
O+=P}};a.O.Z.RL=function(s,M,O,P){if(O==null)O=2;if(P==null)P=4;var y=M.length;for(var R=0;R<y;R++){M[R]=s[O];
O+=P}};a.O.Z.aBq=function(s,M,O,P){if(P==null)P=1;var y=M.length,F=0,A;for(var F=0;F<y;F++){A=M[F];if(A){A*=P;
O[F]=~~((A*s[F]+(255-A)*O[F])/255)}}};a.O.Z.g0=function(s,M,O,P){if(P==null)P=O;var y=M.length,F=0,A,h;
for(var R=0;R<y;R++){A=M[R];if(A){h=255-A;P[F]=~~((A*s[F]+h*O[F])/255);P[F+1]=~~((A*s[F+1]+h*O[F+1])/255);
P[F+2]=~~((A*s[F+2]+h*O[F+2])/255)}P[F+3]=s[F+3];F+=4}};a.O.Z.ga=function(s,M,O,P){var y=~~(P*255),F=O.length;
for(var R=0;R<F;R++){O[R]=((255-y*(255-s[R])/255)*M[R]+s[R]*(y*(255-s[R])/255))/255}};a.O.Z.$f=function(s,M,O,P){var y=~~(P*255),F=O.length;
for(var R=0;R<F;R++){O[R]=((255-y*s[R]/255)*M[R]+s[R]*(y*s[R]/255))/255}};a.O.Z.lR=function(s,M,O){var P=M.length;
for(var R=0;R<P;R++){M[R]=~~(s[R]*O+.5)+(M[R]-~~(M[R]*O+.5))}};a.O.Z.sub=function(s,M){var O=s.length;
for(var R=0;R<O;R++){M[R]=Math.max(s[R]-M[R],0)}};a.O.Z.add=function(s,M){var O=s.length;for(var R=0;
R<O;R++){M[R]=Math.min(s[R]+M[R],255)}};a.O.Z.aI_=function(s,M){var O=s.length;for(var R=0;R<O;R++){M[R]=s[R]+M[R]}};
a.O.Z.yJ=function(s,M){var O=s.length;for(var R=0;R<O;R++){M[R]=s[R]+M[R]>>1}};a.O.Z.jO=function(s,M){var O=s.length;
for(var R=0;R<O;R++){M[R]=s[R]}};a.O.Z.W6=function(s,M){var O=s.length;for(var R=0;R<O;R++){s[R]=M[s[R]]}};
a.O.Z.ada=function(s,M){var O=a.O.Z.bl;for(var R=0;R<O;R+=4){var P=s[R],y=s[R+1],F=s[R+2],A=P;if(y>P)A=y;
if(F>P)A=F;var h=M[A];if(h){s[R]=~~(h*P/A);s[R+1]=~~(h*y/A);s[R+2]=~~(h*F/A)}else{s[R]=h;s[R+1]=h;s[R+2]=h}}};
a.O.Z.kd=function(s,M){for(var R=0,O=s.length;R<O;R++){s[R]=Math.min(255,~~(.5+s[R]*M))}};a.O.Z.Tm=function(s,M){for(var R=0,O=s.length;
R<O;R++){s[R]=255-Math.min(255,~~(.5+(255-s[R])*M))}};a.O.Z.or=function(s){var M=s.length;for(var R=0;
R<M;R++){s[R]=255-s[R]}};a.O.Z.N5=function(s,M,O,P){if(O==null)O=0;if(P==null)P=255;for(var R=0,y=s.length;
R<y;R++){s[R]=s[R]>=M?P:O}};a.O.Z.z8=function(s){return[s>>24&255,s>>16&255,s>>8&255,s&255]};a.O.Z.aoO=function(s,M,O,P){if(O==null)O=255;
if(P==null)P=4278190335;var y=a.O.Z,F=y.bl,A=y.z8(O),h=y.z8(P);for(var R=0;R<F;R+=4){var m=~~((s[R]+s[R+1]+s[R+2]+2)/3);
if(m>=M){s[R]=A[0];s[R+1]=A[1];s[R+2]=A[2]}else{s[R]=h[0];s[R+1]=h[1];s[R+2]=h[2]}}};a.O.Z.hf=function(s,M){var O=a.O.Z,P=O.bl,y=O.z8(M);
for(var R=0;R<P;){s[R++]=y[0];s[R++]=y[1];s[R++]=y[2];s[R++]=y[3]}};a.O.Z.ayQ=function(s,M){var O=s.length;
for(var R=0;R<O;){s[R++]=M}};a.O.Z.awV=function(s,M){s=s>5?(100-Math.max(4,s))/100:.95;M=M!=100?Math.max(4,M)/100:.9995;
var O=new Uint8Array(256),P=M>.5?.5/(1-M):M*2,y=~~(P*256),F=~~((.5-s*P)*256)<<8;for(var R=0;R<256;R++){O[R]=a.O.Z.NR(F>>8);
F+=y}return O};a.O.Z.cD=function(s){for(var R=0,M=a.O.Z,O=s.length;R<O;R++){s[R]=~~(M.random()*256)}};
a.O.Z.axX=function(s,M){for(var R=0,O=a.O.Z,P=s.length;R<P;R++){s[R]=O.random()<M?255:0}};a.O.Z.akD=function(s,M,O){for(var R=0,P=a.O.Z,y=s.length;
R<y;R++){if(P.random()<M)s[R]=O}};a.O.Z.a2P=function(s,M,O){var P=s.length;for(var R=0;R<P;R++){s[R]=a.O.Z.NR(s[R]+O[M[R]])}};
a.O.Z.Mj=function(s){var M=new Uint32Array(256);for(var R=0,O=s.length;R<O;R++)M[s[R]]++;return M};a.O.Z.azL=function(s,M){var O=0,P=0,y=new Uint32Array(256),F=new Float32Array(256);
for(var R=0,A=s.length;R<A;R++){var h=s[R],m=M[R];if(m==255){y[h]++;O++}else if(m>0){m/=255;P+=m;F[h]+=m;
if(P>=1){P--;O++}if(F[h]>=1){F[h]--;y[h]++}}}return[O,y]};a.O.Z.sP=function(s,M,O,P){var self=a.O.Z,y,F,u=0,U=256;
if(P){var A=self.azL(O,P);y=A[1];F=A[0]/100}else{y=self.Mj(O);F=self.fj/100}var h=new Uint8Array(256),m=F*s,Z=F*M,f=-1;
do{u+=y[++f]}while(u<=m);u=0;do{u+=y[--U]}while(u<=Z);if(U-f<=0)U=f+1;if(U>255){U=255;f=254}var C=255/(U-f),H=-f;
for(var R=0;R<256;R++){h[R]=self.NR(C*H+.5);H++}return h};a.O.Z.Lr=function(s,M,O,P){var y=a.O.Z;y.W6(s,y.sP(M,O,s,P))};
a.O.Z.a44=function(s,M){var self=a.O.Z,O=self.Mj(s),P=self.fj*M/100,y=0,F=-1;do{y+=O[++F]}while(y<=P);
return F};a.O.Z.jJ=function(s,M){var O=0,self=a.O.Z,P=self.V5,y=self.fw,F=1/Math.PI,A=F*255;for(var R=0;
R<y;R++){var h=R+1;if(h==y)h--;var m=R*P,Z=~~((1-(R+1)/y)*255);for(var u=0;u<P;u++){var f=u+1;if(f==P)f--;
var U=s[m+u],C=s[m+f],H=s[h*P+u];if(U-H==0){M[O++]=Z}else{var t=U-H+255;if(t==255){t=0}else{t=~~(Math.atan2(1/(255-t),1)*A+.5);
if(t<0)t+=255}M[O++]=t}if(U-C==0){M[O++]=~~((1-(u+1)/P)*255)}else{var t=U-C+255;if(t==255){t=0}else{t=~~(Math.atan2(1/(255-t),1)*A+.5);
if(t<0)t+=255}M[O++]=t}}}};a.O.Z.apa=function(s,M){var self=a.O.Z,O=self.V5,P=self.fw,y=0;for(var R=0;
R<P;R++){for(var F=0;F<O;F++){s[y]=~~(R*M+.5)+~~(s[y]*(1-M)+.5);y++;s[y]=~~(F*M+.5)+~~(s[y]*(1-M)+.5);
y++}}};a.O.Z.aKP=function(s,M,O,P){var self=a.O.Z,y=self.V5,F=self.fw,A=0;for(var R=0;R<F;R++){for(var h=0;
h<y;h++){M[A]=~~(M[A]*(1-O)+.5)+~~(s[A]*P+.5);A++;M[A]=~~(M[A]*(1-O)+.5)+~~(s[A]*P+.5);A++}}};a.O.Z.anJ=function(s,M,O){var self=a.O.Z,P=self.V5,y=self.fw,F=0,A=0;
for(var R=0;R<y;R++){for(var h=0;h<P;h++){var m=s[F++],Z=s[F++];M[A++]=Z%O>=2&&m%O>=2?255:0}}};a.O.Z.anz=function(s,M,O,P,y,F,A){var self=a.O.Z,h=self.V5,m=self.fw,Z=0,u=0,f=0;
for(var R=0;R<m;R++){var U=R%s<O||m-O<=R;for(var C=0;C<h;C++){A[Z++]=U||C%M<P||h-P<=C?y:F}}};a.O.Z.A8=function(s,M,O,P){var self=a.O.Z,y=self.V5,F=self.fw,A=iU.A8(M),h=A[1],m=A[0].A,Z=A[0].$,u=100/O;
for(var f=0;f<F;f++)for(var U=0;U<y;U++){var C=a.F.$A(U*u,f*u,h,m,Z);s[f*y+U]=P?255-C:C}};a.O.Z.NR=function(s){return~~Math.min(255,Math.max(0,s))};
a.O.Z.aIa=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];a.O.Z.ap8=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
a.O.Z.my=function(s){return s>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][s-41]:s/40};a.O.Z.aJ8=function(s,M,O){var self=a.O.Z,P=self.V5,y=self.fw,F=O,A=O>>1,h=A-1,m=F*F,Z=0;
for(var R=0;R<y;R++){var u=0,f=0,U=0,C=~~(R/O)*O,H=0;for(var t=0;t<F;t++){for(var X=0;X<F;X++){var Q=H+X,D=C+t;
if(Q>=P)Q=P-1;if(D>=y)D=y-1;u+=s[D*P+Q<<2];f+=s[(D*P+Q<<2)+1];U+=s[(D*P+Q<<2)+2]}}var L=~~(u/m),E=~~(f/m),_=~~(U/m);
M[Z]=L;M[Z+1]=E;M[Z+2]=_;M[Z+3]=s[Z+3];Z+=4;for(var S=1;S<P;S++){for(var t=0;t<F;t++){var W=S-1,g=W+F,D=C+t;
if(g>=P)g=P-1;if(D>=y)D=y-1;var x=D*P,V=x+g<<2,b=x+W<<2;u+=s[V]-s[b];f+=s[V+1]-s[b+1];U+=s[V+2]-s[b+2]}if(S%O==0){L=~~(u/m);
E=~~(f/m);_=~~(U/m)}M[Z]=L;M[Z+1]=E;M[Z+2]=_;M[Z+3]=s[Z+3];Z+=4}}};a.O.Z.a4B=function(s,M,O,P,y){var self=a.O.Z,F=self.V5,A=self.fw,h=0,m=0,Z=0,u=0;
for(var R=u;R<A+u;R++){var f=R%M>=P||R<P||A+u-P<=R;for(var U=0;U<F;U++){s[h++]=f&&(U%O>=y||U<y||F-y<=U)?255:0}}};
a.O.Z.agn=function(s,M,O){var P=function(Z,u){return u<=Z?Z/u&1?u-Z%u:Z%u:Z},y=[function(h,m){return P(h,255)/255},function(h,m){return(255+P(h,255)-P(m,255))/510},function(h,m){return(255-P(m,255))/255},function(h,m){return(510-P(h,255)-P(m,255))/510},function(h,m){return(255-P(h,255))/255},function(h,m){return(255-P(h,255)+P(m,255))/510},function(h,m){return P(m,255)/255},function(h,m){return(P(h,255)+P(m,255))/510}][O],F=0,A=0;
for(var R=0;R<a.O.Z.fj;R++){var h=s[F++],m=s[F++];M[A++]=~~(255*y(h,m))}};a.O.aqe=function(){var s=[],M=new Uint8Array(512),O=new Float32Array(512),P=new Float32Array(512),y=[1,-1,1,-1,1,-1,0,0],F=[1,1,-1,-1,0,0,1,-1],A=0,h,H=0;
for(;A<256;A++)s[A]=A;while(A!=0){A--;h=Math.floor(Math.random()*A);s[h]^=s[A]^(s[A]=s[h])}function m(m){m=Math.floor(m*65536);
if(m<256){m|=m<<8}for(var R=0;R<256;R++){var Q=R+256,D=s[R]^(R&1?m:m>>8)&255;M[R]=M[Q]=D;D=D%8;O[R]=O[Q]=y[D];
P[R]=P[Q]=F[D]}}function Z(Q){return Q*Q*Q*(Q*(Q*6-15)+10)}function u(Q,D,L){return(1-L)*Q+L*D}function f(Q,D){return Q&D}function U(Q,D){return Q%D}function C(Q,D,L,E,_){var S=Math.floor(Q),W=Math.floor(D),A,g,x,V,b,N;
Q=Q-S;D=D-W;S=S&255;W=W&255;A=S+M[W];V=O[A]*Q+P[A]*D;A=S+M[_(W+1,E)];x=O[A]*Q+P[A]*(D-1);A=_(S+1,L)+M[W];
b=O[A]*(Q-1)+P[A]*D;A=_(S+1,L)+M[_(W+1,E)];N=O[A]*(Q-1)+P[A]*(D-1);g=Z(Q);return u(u(V,b,g),u(x,N,g),Z(D))}function t(Q,A,D){Q[A]=D}function X(Q,D,L,E,_){var S=Math.min(Math.min(D,256),Math.min(256,L)),W=S==256||S<8,g=8,x=new Uint32Array(g),V=new Uint32Array(g),b=new Float32Array(g),N=new Float32Array(g),J=1,K=1,q=W?f:U,d=t,l;
for(var R=0;R<g;R++){l=K*1/S;if(W){V[R]=(1<<Math.ceil(Math.log2(L*l)))-1;x[R]=(1<<Math.ceil(Math.log2(D*l)))-1}else{V[R]=l*L;
x[R]=l*D}b[R]=J;N[R]=l;J*=.5;K=K<<1}m(Math.random());for(var T=0,A=0;T<L;T++){for(var B=0;B<D;B++){var p=0;
for(var I=0;I<g;I++){l=N[I];p+=C(B*l,T*l,x[I],V[I],q)*b[I]}d(E,A++,Math.round(Math.max(0,255*Math.min(1,.5+p*.5))))}}}return X}();
a.O.a5j=function(){function s(M,O,P,y){var F=new Uint8Array(M.length>>>2),A=new Uint8Array(M.length>>>2),h=new Uint8Array(M.length);
for(var R=0;R<M.length;R+=4){var m=M[R+0]*.3+M[R+1]*.59+M[R+2]*.11;A[R>>>2]=m;h[R]=M[R];h[R+1]=M[R+1];
h[R+2]=M[R+2]}a.nG.aDp(A,F,O,P);a.nG.rI(M,y,O,P,a.nG.pa[1],!1,!0);for(var R=0;R<M.length;R+=4){h[R+3]=255-F[R>>>2]}for(var R=0,Z=M.length;
R<Z;R+=4){var u=h[R+3]/255;y[R]=h[R]*u+y[R]*(1-u);y[R+1]=h[R+1]*u+y[R+1]*(1-u);y[R+2]=h[R+2]*u+y[R+2]*(1-u)}}return s}();
a.O.a4d=function(){function s(F,A,h,m,Z){var u=new Uint32Array(F.buffer),f=0;for(var R=0;R<h;R++){for(var U=0;
U<A;U++,f+=4){var C=u[R*A+U],H=C&255,t=C>>>8&255,X=C>>>16&255,Q=C>>>24&255,D=~~(Math.random()*8),L=D%3,E=0,_=0;
if(D<3){_--}else if(D>4){_++}if(L==0){E--}else if(L==2){E++}var S=U+E,W=R+_;if(S<0)S=0;else if(S>A-1)S=A-1;
if(W<0)W=0;else if(W>h-1)W=h-1;var C=u[W*A+S],g=C&255,x=C>>>8&255,V=C>>>16&255,b=C>>>24&255;m[f]=Z(H,g);
m[f+1]=Z(t,x);m[f+2]=Z(X,V);m[f+3]=Z(Q,b)}}}function M(F,A){return A}function O(F,A){return F>A?A:F}function P(F,A){return F<A?A:F}function y(F,A,h,m,Z){var u=Z[0];
if(u==0)s(F,A,h,m,M);else if(u==1)s(F,A,h,m,O);else if(u==2)s(F,A,h,m,P);else if(u==3){console.error("Not implemented")}else console.error("Mew mew")}return y}();
a.O.a5E=function(){function s(M,O,P,y,F){var A=F&&F[0]?F[0]:4,h,m,Z,u,f,U,C;for(var R=0;R<P;R++){var H=Math.max(R-A,0),t=Math.min(R+A,P-1);
for(var X=0;X<O;X++){var Q=Math.max(X-A,0),D=Math.min(X+A,O-1);h=H*O+Q<<2;u=M[h];f=M[h+1];U=M[h+2];C=M[h+3];
h=H*O+D<<2;u+=M[h];f+=M[h+1];U+=M[h+2];C+=M[h+3];h=t*O+Q<<2;u+=M[h];f+=M[h+1];U+=M[h+2];C+=M[h+3];h=t*O+D<<2;
u+=M[h];f+=M[h+1];U+=M[h+2];C+=M[h+3];h=R*O+X<<2;y[h]=u+2>>>2;y[h+1]=f+2>>>2;y[h+2]=U+2>>>2;y[h+3]=C+2>>>2}}}return s}();
a.O.aas=function(){function s(M,O,P,y){var F=new Uint8Array(M.length),A=new Uint8Array(M.length>>>2),h=new Uint8Array(M.length>>>2);
a.nG.rI(M,F,O,P,a.nG.pa[2],!1,!0);for(var R=0;R<M.length;R+=4){var m=F[R+0]*.3+F[R+1]*.59+F[R+2]*.11;
A[R>>>2]=m;y[R+0]=M[R+0];y[R+1]=M[R+1];y[R+2]=M[R+2];y[R+3]=M[R+3]}a.nG.aDp(A,h,O,P);for(var R=0;R<M.length;
R+=4){F[R+3]=~~(Math.max(0,255-h[R>>>2]-50)*(255/205))}for(var R=0,Z=M.length;R<Z;R+=4){var u=F[R+3]/255;
y[R]=F[R]*u+y[R]*(1-u);y[R+1]=F[R+1]*u+y[R+1]*(1-u);y[R+2]=F[R+2]*u+y[R+2]*(1-u)}}return s}();a.O.Rj=function(){function s(D,L){return D[L]+D[L+1]+D[L+2]+D[L+3]}function M(D,L){return D[L]+D[L+1]+D[L+2]+2*D[L+3]}function O(D,L,E,_){D[L]=E[_];
D[L+1]=E[_+1];D[L+2]=E[_+2];D[L+3]=E[_+3]}function P(D,L,E){D[L]=D[E];D[L+1]=D[E+1];D[L+2]=D[E+2];D[L+3]=D[E+3]}function y(D,L,E){D[E]=L[E];
D[E+1]=L[E+1];D[E+2]=L[E+2];D[E+3]=255-L[E+3]}function F(D){for(var R=0,L=D.length;R<L;R+=4){D[R+3]=255-D[R+3]}}function A(){var D=Math.random();
if(D>.5)return 0;if(D>.25)return 1;if(D>.1)return 2;if(D>.02143)return 3;if(D>.00445)return 4;if(D>65e-5)return 5;
if(D>415e-6)return 6;if(D>55e-6)return 7;return 8}function h(D,L,E,_,S,W){D[L]=E[_]+(S[W]-E[_]>>1);D[L+1]=E[_+1]+(S[W+1]-E[_+1]>>1);
D[L+2]=E[_+2]+(S[W+2]-E[_+2]>>1);D[L+3]=E[_+3]+(S[W+3]-E[_+3]>>1)}function m(D,L,E,_,S,W){D[L]=S[W]+E[_]>>1;
D[L+1]=S[W+1]+E[_+1]>>1;D[L+2]=S[W+2]+E[_+2]>>1;D[L+3]=S[W+3]+E[_+3]>>1}function Z(D,L,E,_,S,W,g,x,V){var b=0,N=0,J=0,R,K=S[W],q;
h(x,0,D,L,D,E);for(R=0;R<K;R++){h(x,(R+1)*4,x,R*4,D,E)}N=(K+1)*4;J+=K;W--;O(D,L,x,N-4);_[W]=s(D,L);L-=V;
while(W>0&&_[W-1]<_[W]){q=x;x=g;g=q;b=N;m(x,0,D,L-V,g,0);for(R=4;R<b;R+=4){m(x,R,x,R-4,g,R)}K=S[W];for(R=J;
R<K;R++){h(x,N,x,N-4,g,b-4);N+=4;J++}W--;O(D,L,x,N-4);_[W]=s(D,L);L-=V}}function u(D,L,E,_,S){var W=L*4,g=0,x,V,b=new Uint8Array(L+1),N=new Uint8Array(10*4),J=new Uint8Array(10*4);
for(var R=0;R<E;R++){y(_,D,g);S[0]=s(_,g);b[0]=A();x=g;g+=4;for(var K=1;K<L;K++){y(_,D,g);S[K]=s(_,g);
V=A();b[K]=V;if(S[K-1]<S[K]&&V>0){Z(_,g-4,g,S,b,K,N,J,4)}g+=4}S[L]=S[0];b[L]=b[0];if(S[L-1]<S[L]&&V>0){Z(_,g,x,S,b,L,N,J,4)}}F(_)}function f(){var D=Math.random();
if(D>.659755)return 0;if(D>.1625)return 10;if(D>.06)return 20;if(D>.01)return 30;if(D>.0035)return 40;
if(D>65e-5)return 50;if(D>415e-6)return 60;if(D>55e-6)return 70;return 80}function U(D,L,E,_,S,W){var g=f()+1,x=_[S];
for(var R=1;R<g;R++){if(0>S)break;if(_[S-R]<x){P(D,L,E)}else{break}L+=W}}function C(D,L,E,_,S){var W=L*4,g=0;
for(var R=0;R<E;R++){y(_,D,g);S[0]=s(_,g);g+=4;for(var x=1;x<L;x++){y(_,D,g);S[x]=s(D,g);if(S[x-1]<S[x]){U(_,g-4,g,S,x,-4)}g+=4}S[L]=S[0];
if(S[x-1]<S[x]){U(_,g-4,g-W,S,x,-4)}}F(_)}function H(D,L,E,_,S,W){var g=1,x,V,b=new Uint8Array(4),N,J=L;
while(Math.random()<1/g){J=L;if(_<=1)break;x=E[_];V=E[_-1];if(x<=V)break;O(b,0,D,J-W);N=!0;for(var R=_;
R<S;R++){if(V>E[R]){O(D,J-W,b,0);E[R-1]=V;N=!1;break}O(D,J-W,D,J);E[R-1]=E[R];J+=W}if(N){O(D,J-W,b,0);
E[S-1]=V}g++;_--;L-=W}}function t(D,L,E,_,S){var W=0,g=0,x=L*4;for(var R=0;R<E;R++){g=W;for(var V=0;
V<L;V++){y(_,D,W);S[V]=M(_,W);W+=4}W=g;for(var V=1;V<L;V++){if(S[V-1]<S[V]&&Math.random()<.66){H(_,W+4,S,V,L,4)}W+=4}W+=4}F(_)}function X(D,L,E,_,S){var W=S[0],g=S[1],x=new Uint16Array(L+1),V=D,b=_,N;
if(g){N=_.slice(0);Q(D,_,L,E);V=_;b=N}if(W==0)u(V,L,E,b,x);else if(W==1)C(V,L,E,b,x);else if(W==2)t(V,L,E,b,x);
if(g){Q(N,_,L,E)}}function Q(D,L,E,_){for(var S=0;S<_;S++)for(var W=0;W<E;W++){var g=S*E+W<<2,x=S*E+(E-1-W)<<2;
L[x]=D[g];L[x+1]=D[g+1];L[x+2]=D[g+2];L[x+3]=D[g+3]}}return X}();a.O.aAM=function(s,M,O,P,y){var F=a.O.Z,A=1,X=0,L=0;
F.Lc(M,O);F.BJ(y[2]);var h=3<<13,m=Math.PI/2.43,Z=m/256,u=Math.PI*2/256;function f(){var W=F.random()*256,g=F.random()*256;
return A*~~(Math.tan(m-W*Z)*325*Math.cos(g*u)*256)+h>>16}A=y[0];var U=y[1],C=(U+2)/2,H=F.random()*255,t=F.kF(1);
for(var R=0;R<O;R++){var Q=F.NR(f()+H);for(var D=0;D<M;D++){Q=F.NR(f()+Q);t[X++]=Q}}X=M;for(var R=1;
R<O;R++){var E=F.NR(f()+t[L++]);t[X++]=E;for(var D=1;D<M;D++){var _=L+1;if(D+1==M){_--}var S=(C+E+t[_]+t[L]*U)/(U+2);
E=F.NR(f()+S);t[X++]=E;L++}}F.ds(t,P)};var kW=function(){function s(G){G=G^61^G>>>16;G=G+(G<<3);G=G^G>>>4;
G=G*668265261;G=G^G>>>15;return G}var M=function(){var M=function(G){if(G){this.cd=G}this.cd=s(this.cd);
return(this.cd&16777215)*(1/16777215)};return M};function O(G,j){if(j==null){j=[0,0]}return Math.sqrt((j[0]-G[0])*(j[0]-G[0])+(j[1]-G[1])*(j[1]-G[1]))}function P(G,j){if(j==null){j=[0,0]}return[-(j[1]-G[1])/O(G,j),(j[0]-G[0])/O(G,j)]}function y(G){return[Math.cos(G),Math.sin(G)]}function F(G){var j=O(G,[0,0]),o=[G[0]/j,G[1]/j],r=Math.atan(o[1]/o[0]);
if(o[0]>0&&o[1]<0){r+=2*Math.PI}else if(o[0]<0&&o[1]<0){r+=Math.PI}else if(o[0]<0&&o[1]>0){r+=Math.PI}return r}function A(G){var A=0;
for(var R=1;R<G.length/2;++R){A+=O([G[2*R],G[2*R+1]],[G[2*(R-1)],G[2*(R-1)+1]])}return A}function h(G,j,o){var r=new Float32Array(G.length),k=1/(G.length/2),a7=_(o);
for(var R=0;R<G.length/2;++R){var Y=R*k,v=Y/2+.5,n=1,cm=0;if(o.shape==2){n=1/(2*v)}if(o.shape==3){v=(1-Y)/2+.5;
n=1/(2*v)+.5}if(o.shape==4){v=Y;n=Math.sin(3/2*Math.PI*v)/4+1}if(o.shape==5){v=(Y-.5)*6;n=(-Math.atan(v)/1.25+1)/5+.6-.2*Y}var a5=[null,null];
if(R==0){a5=P([G[2*R],G[2*R+1]],[G[2*(R+1)],G[2*(R+1)+1]])}else if(R==G.length/2-1){a5=P([G[2*(R-1)],G[2*(R-1)+1]],[G[2*R],G[2*R+1]])}else{a5=P([G[2*(R-1)],G[2*(R-1)+1]],[G[2*(R+1)],G[2*(R+1)+1]])}r[2*R]=G[2*R]+(n*j+cm)*a5[0];
r[2*R+1]=G[2*R+1]+(n*j+cm)*a5[1];if(o.style==2){r[2*R]+=S(2*R/r.length,a7,o)}}return r}function m(G,j,o){var r=new Float32Array(G.length),k=1/(G.length/2);
for(var R=0;R<G.length/2;++R){var a7=R*k,Y=[null,null],v=.6*o.HN*x(a7,j.a4T)*o.DR/100,n=.6*o.HN*x(a7,j.ar7)*o.DR/100,cm=j.aAl*v+(1-j.aAl)*n;
if(R==0){Y=P([G[2*R],G[2*R+1]],[G[2*(R+1)],G[2*(R+1)+1]])}else if(R==G.length/2-1){Y=P([G[2*(R-1)],G[2*(R-1)+1]],[G[2*R],G[2*R+1]])}else{Y=P([G[2*(R-1)],G[2*(R-1)+1]],[G[2*(R+1)],G[2*(R+1)+1]])}r[2*R]=G[2*R]+cm*Y[0];
r[2*R+1]=G[2*R+1]+cm*Y[1]}return r}function Z(G){if(G.Or==1){return[.150684932,.205479452,.465753425,.178082192]}else if(G.Or==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var j=[],o=1/(J(G)-1);
for(var R=0;R<J(G)-1;++R){j.push(o)}return j}}function u(G,j,o){var r=[],k=j-G,a7=G;for(var R=0;R<o.length-1;
++R){r.push(a7+o[R]*k);a7=r[R]}return r}function f(G,j,o,r){var k=new Float32Array(o.length),a7=0,Y={shape:Math.floor(r.random()*2.99),ayl:r.random()*.1+.15};
for(var R=0;R<o.length-1;++R){var v=a7+o[R];k[R]=((1-v)*G+v*j)*Q(r,v,Y);a7=v}return k}function U(G,j,o,r){var k=b(r),a7=r.random(),Y=a7*20+(1-a7)*26,v=new Float32Array(o.length),n=0;
for(var R=0;R<o.length-1;++R){var cm=n+o[R];v[R]=(1-cm)*G+cm*j+k/Y*(2/3*Math.sin(Math.PI*cm)+1/3*Math.sqrt(Math.sin(Math.PI*cm)));
n=cm}return v}function C(G,j,o){var r=[];for(var R=0;R<j.length-1;++R){r.push(j[R].slice());var k=R*(J(o)-1),a7=(R+1)*(J(o)-1),Y=G[a7]-G[k];
for(var v=k+1;v<a7;++v){var n=_(o),cm=new Float32Array(j[0].length),a5=(G[v]-G[k])/Y;for(var gP=0;gP<j[0].length/2;
++gP){cm[2*gP]=(1-a5)*j[R][2*gP]+a5*j[R+1][2*gP];cm[2*gP+1]=(1-a5)*j[R][2*gP+1]+a5*j[R+1][2*gP+1];if(o.style==2){cm[2*gP]+=S(2*gP/j[0].length,n,o)}}r.push(cm)}}r.push(j[j.length-1]);
return r}function H(G,j,o){var r=new Array(j.length),k=p(G),Y=null;for(var R=0;R<j.length;++R){r[R]=h(k,(j[R]-.5)*o.DR,o)}var a7=1+.05*o.a7j*b(o)/b({Or:1});
for(var R=0;R<j.length;++R){if(j[R]==0){Y=R}}for(var R=0;R<j.length;++R){var v=(o.random()-.5)*2,n=Math.round(o.random()*9+1),cm=new Float32Array(n*2+2);
for(var a5=0;a5<=n;++a5){cm[2*a5]=r[R][0]-(r[R][2*a5]-r[R][0]);cm[2*a5+1]=r[R][1]-(r[R][2*a5+1]-r[R][1])}if(R==Y){v*=.1}for(var a5=(r[R].length-1)/2;
a5>n;--a5){r[R][2*a5]=(1-v)*r[R][2*a5]+v*(r[R][2*(a5-n)]+a7*(r[R][2*a5]-r[R][2*(a5-n)]));r[R][2*a5+1]=(1-v)*r[R][2*a5+1]+v*(r[R][2*(a5-n)+1]+a7*(r[R][2*a5+1]-r[R][2*(a5-n)+1]))}for(var a5=n-1;
a5>=0;--a5){r[R][2*a5]=(1-v)*r[R][2*a5]+v*(cm[2*(n-a5)]+a7*(r[R][2*a5]-cm[2*(n-a5)]));r[R][2*a5+1]=(1-v)*r[R][2*a5+1]+v*(cm[2*(n-a5)+1]+a7*(r[R][2*a5+1]-cm[2*(n-a5)+1]))}}var gP=g(j,o);
if(o.HN>0){var cg=0;for(var R=0;R<j.length;++R){if(R==0){cg+=j[R]}else{cg+=Math.abs(j[R]-j[R-1])}var a9=cg-Math.floor(cg),ew=1;
if(a9==0){ew=0}r[R]=m(r[R],{a4T:gP[Math.floor(cg)],ar7:gP[Math.floor(cg)+ew],aAl:a9},o)}}return r}function t(G,j){var o=d(j,G),r=l(j,G),k=[],a7=[],Y=[],v=Z(G);
for(var R=0;R<j.length-1;++R){k.push(j[R]);a7.push(o[R]);Y.push(r[R]);var n=u(j[R],j[R+1],v),cm=f(o[R],o[R+1],v,G),a5=U(r[R],r[R+1],v,G);
for(var gP=0;gP<n.length;++gP){k.push(n[gP]);a7.push(cm[gP]);Y.push(a5[gP])}}k.push(j[j.length-1]);a7.push(o[o.length-1]);
Y.push(r[r.length-1]);return{adY:k,a10:a7,fW:Y}}function X(G,j,o,r){var k=new Float32Array(2*r),a7=G.length/2,Y=a7-j,v=o*Y,n=v/r;
for(var R=0;R<r;++R){var cm=Math.floor(j+R*n),a5=Math.ceil(j+R*n),o=j+R*n,gP=a5-cm,cg=1,a9=0;if(gP!=0){cg=(a5-o)/gP;
a9=(o-cm)/gP}k[2*R]=cg*G[2*cm]+a9*G[2*a5];k[2*R+1]=cg*G[2*cm+1]+a9*G[2*a5+1]}return k}function Q(G,j,o){var r=o.ayl,k=j*2*Math.PI,a7=k,Y=0;
if(o.shape==0){Y=(Math.sin(2*a7+Math.PI/2)+1)/2}else if(o.shape==1){Y=(Math.sin(a7+Math.PI/2)+1)/2}else{Y=(4*Math.sin(3/4*a7+Math.PI)+Math.sin(Math.PI/2+2*a7)-2*a7/Math.PI+6)/7}return Math.min(1,1-r+r*Y)}function D(G,j,o,r){var k=[];
for(var R=0;R<G.length;++R){k.push(X(G[R],j[R],o[R],r))}return k}function L(G,j,o){var r=[];for(var R=0;
R<G.length;++R){var k=y(2*Math.PI*o.random()),a7=y(2*Math.PI*o.random()),Y=o.rZ*.5*K({Or:1})/K(o),v=Y*o.DR/200,n=Y*j/500,cm=new Float32Array(G[0].length);
for(var a5=0;a5<G[0].length/2;++a5){var gP=y(2*Math.PI*o.random()),cg=2*a5/G[0].length;cm[2*a5]=G[R][2*a5]+v*(gP[0]+((1-cg)*k[0]+cg*a7[0]));
cm[2*a5+1]=G[R][2*a5+1]+n*(gP[1]+((1-cg)*k[1]+cg*a7[1]))}r.push(cm)}return r}function E(G,j,o){var r=o.J2,k=2/r,a7=[1/10,1/30,1/40,1/45,1/100],Y=a7[o.Or-1],v=4*(o.N_/25*k*Y)*(1-o.rZ/150),gP=0,a9=0;
if(o.style==3){return v*.09}var n=2.2*(G-.5),cm=n*n*n*n+.27+Math.max(0,(o.N_-50)/15),a5=2*(Math.sin(3*Math.PI*j)/(Math.PI*j+2)+1.1)-j/2;
j=2*j;if(j<.41){var cg=2*Math.PI*j/.41;gP=(Math.sin(cg-Math.PI/2)+1)/4+.5}else if(j<.77){var cg=2*Math.PI*(j-.41)/.36;
gP=(Math.sin(cg-Math.PI/2)+1)/4+.5-cg/2/Math.PI*.5}else{var cg=2*Math.PI*(j-.77)/.23;gP=(Math.sin(cg-Math.PI/2)+1)/2*.12}gP*=3;
gP+=Math.max(0,(o.N_-50)/15);if(o.I==6){a9=a5}else{a9=gP}return v*cm*a9}function _(G){return{J:G.random()*7/2+.5,MV:G.random()*2*Math.PI}}function S(G,j,o){return o.DR/300*J({Or:1})/J(o)*10*(Math.sin(j.J*2*Math.PI*G+j.MV)+10*(o.random()-.5))}function W(G){var j=Math.exp(-G.HN/25);
return{J:G.random()*3/2+.5,MV:G.random()*2*Math.PI,fG:(G.random()-.5)*10*j}}function g(G,j){var o=Math.ceil(T(G)),r=[];
for(var R=0;R<=o;++R){r.push(W(j))}return r}function x(G,j){var o=j.J*4*Math.PI*G+j.MV;return Math.exp(-1/2*Math.PI*G)*Math.cos(o)*Math.cos(o)*Math.cos(o)*Math.cos(o)*Math.cos(o)+G*j.fG-j.fG/4}function V(G,j,o,r,k){var a7=0,Y=K(j)-1;
for(var R=0;R<Y;++R){for(var v=0;v<G.length-1;v+=J(j)-1){for(var n=R;n<G[0].length/2-Y;n+=Y){for(var cm=v;
cm<v+(J(j)-1);++cm){o[k+a7]=E(cm*(j.J2-1)/(G.length-1)%1,n/G[0].length,j);var a5=0,gP=0;if(j.I==6&&cm!=0&&cm!=G.length-1){gP=(G[cm][2*(n+1)+1]-G[cm][2*n+1])/2;
a5=(G[cm][2*(n+1)]-G[cm][2*n])/2}r[8*k+8*a7]=G[cm][2*n]+a5;r[8*k+8*a7+1]=G[cm][2*n+1]+gP;r[8*k+8*a7+2]=G[cm][2*(n+Y)]+a5;
r[8*k+8*a7+3]=G[cm][2*(n+Y)+1]+gP;r[8*k+8*a7+4]=G[cm+1][2*(n+Y)];r[8*k+8*a7+5]=G[cm+1][2*(n+Y)+1];r[8*k+8*a7+6]=G[cm+1][2*n];
r[8*k+8*a7+7]=G[cm+1][2*n+1];++a7}}}}}function b(G){var j=[100,300,500,700,1e3];return j[G.Or-1]}function N(G){var j=[30,70,100,140,300];
return j[G.Or-1]}function J(G){var j=[5,7,26,40,100];return j[G.Or-1]}function K(G){if(G.Or==1){return 4}else if(G.Or==2){return 8}else{return Math.floor(N(G)/9)}}function q(G){var j=G.J2,o=new Float32Array(j),r=null;
for(var R=0;R<j;++R){o[R]=G.random()}if(G.J2<=3){o[0]=0;o[G.J2-1]=1}else{for(var R=0;R<2;++R){var k=Math.floor(G.random()*j);
if(r==null||r!=k){o[k]=R;r=k}else{o[k+1]=R}}}return o}function d(G,j){var o=[],r=.2,a7=0;for(var R=0;
R<G.length;++R){var k=j.random()*(1-r)+r;o.push(k)}var Y=Math.min(3,j.J2);for(var R=0;R<G.length;++R){if(o[R]>.9){++a7}}while(a7<Y){var v=Math.floor(j.random()*G.length);
if(o[v]<=.9){o[v]=.9+.1*j.random();++a7}}return o}function l(G,j){var o=b(j),r=b({Or:1}),k=[];for(var R=0;
R<G.length;++R){k.push(Math.max(1,(j.random()*10+2)*o/r))}return k}function T(G){var j=0;for(var R=0;
R<G.length;++R){if(R==0){j+=G[R]}else{j+=Math.abs(G[R]-G[R-1])}}return j}function B(G,j){if(G.length/2-1==b(j)){return G}var o=new Float32Array(2*(b(j)+1)),r=(G.length-2)/(o.length-2);
for(var R=0;R<o.length/2;++R){var k=R*r,a7=Math.floor(k),Y=Math.ceil(k),v=Y-a7,n=1,cm=0;if(v!=0){n=(Y-k)/v;
cm=(k-a7)/v}o[2*R]=n*G[2*a7]+cm*G[2*Y];o[2*R+1]=n*G[2*a7+1]+cm*G[2*Y+1]}return o}function p(G,j){var o=G.length/2,r=A(G),k=r/o,a7=!1,n=0,cm=0,a5=1;
if(j){var Y=Math.floor(r/j.aqw),v=j.aqw;if(j.a6F&&G[0]==G[G.length-2]&&G[1]==G[G.length-1]){a7=!0;v=r/(Y+1)}if(j.I==2&&!a7&&v*Y+j.length>r){o=Y+1}else{o=Y+2}k=v}var gP=new Float32Array(o*2);
gP[0]=G[0];gP[1]=G[1];for(var R=1;R<o;++R){while(n<=R*k){cm=n;n+=O([G[2*a5],G[2*a5+1]],[G[2*(a5-1)],G[2*(a5-1)+1]]);
++a5}var cg=1-(R*k-cm)/(n-cm);gP[2*R]=(1-cg)*G[2*a5]+cg*G[2*(a5-1)];gP[2*R+1]=(1-cg)*G[2*a5+1]+cg*G[2*(a5-1)+1]}gP[gP.length-2]=G[G.length-2];
gP[gP.length-1]=G[G.length-1];return gP}function I(G,j){var o=p(G,j),r=[];for(var R=0;R<(o.length-2)/2;
++R){var k=[];k.push(o[2*R]);k.push(o[2*R+1]);var a7=O([o[2*(R+1)],o[2*(R+1)+1]],[o[2*R],o[2*R+1]]),Y=[(o[2*(R+1)]-o[2*R])/a7,(o[2*(R+1)+1]-o[2*R+1])/a7],v=y((j.aGE-90)/360*2*Math.PI),n=Y;
if(j.I==3){n=v}else if(j.I==4){n=y(F(Y)+F(v))}else if(j.I==5){n=y(((j.random()-.5)*j.aGE-90)/360*2*Math.PI)}var cm=j.length;
if(j.ajp){cm=2*j.random()*j.length}k.push(o[2*R]+n[0]*cm);k.push(o[2*R+1]+n[1]*cm);r.push(k)}return r}function w(G){if(G.asL){G.p6=100*Math.random()}else{G.p6=G.alT}G.random=new M;
G.random(G.p6);if(G.I==6){G.J2=2;G.shape=5;G.a7j=0}}function e(G,j){G=B(G,j);var o=[G],cm=0;if(j.I>=2&&j.I<6){o=I(G,j)}var r=K(j)-1,k=N(j)-r,a7=(j.J2-1)*(J(j)-1),Y=o.length*k*a7,v=new Float32Array(Y),n=new Float32Array(8*Y);
for(var R=0;R<o.length;++R){for(var a5=0;a5<1e4;++a5){j.p6=s(j.p6)}j.random(j.p6);var G=B(o[R],j),gP=q(j),cg=T(gP),a9=H(G,gP,j),ew=t(j,gP),h7=C(ew.adY,a9,j);
h7=D(h7,ew.fW,ew.a10,N(j));if(j.rZ>0){h7=L(h7,A(o[R]),j)}V(h7,j,v,n,cm);cm+=k*a7}return[v,n]}var kW=function(G){var j=performance.now(),o=G[0],r=G[1];
w(r);var k=[new Float32Array(0),new Float32Array(0)];for(var R=0;R<o.length;++R){r.p6=s(r.p6);var a7=e(o[R],r),Y=new Float32Array(k[0].length+a7[0].length),v=new Float32Array(k[1].length+a7[1].length);
Y.set(k[0]);Y.set(a7[0],k[0].length);k[0]=Y;v.set(k[1]);v.set(a7[1],k[1].length);k[1]=v}var n=performance.now();
if(r.afY){console.BE("Geometry: "+String(n-j)+"ms")}return k};return kW}(),f2=function(){function s(y,F){var A=[],h=0,m=F.length,Z=0,u=0,f=new gi,U=0,C=1e9;
for(u=0;u<m;u++){var H=u*8,t=F[u];if(t<C)C=t;var X=y[H+0],Q=y[H+1],D=y[H+2],L=y[H+3],E=y[H+4],_=y[H+5],S=y[H+6],W=y[H+7],g=Math.min(X,D,E,S),x=Math.max(X,D,E,S),V=Math.min(Q,L,_,W),b=Math.max(Q,L,_,W),N=new gi(g,V,x-g,b-V),J=N.v8(f),K=U+t;
if(u-Z<10&&(u==Z||J.C()*.8<N.C()+f.C())){f=J;U=K}else{A.push(u-Z);Z=u;f=N;U=t;C=t}}if(u!=Z)A.push(u-Z);
return A}function M(y,F,A,h,m,Z){var u=document.createElement("canvas"),Q=0,Y=.8;u.width=F;u.height=A;
var f=u.getContext("2d"),U=m[0],C=m[1],H=new Float64Array(F*A),t=Date.now(),X=s(C,U);for(var D=0;D<X.length;
D++){var L=Q,E=Q+X[D],W=1e9,x=1e9,d=0;Q=E;var _=L*8,S=E*8,g=-W,V=-x;for(var b=_;b<S;b+=2){var N=C[b],J=C[b+1];
if(N<W)W=N;if(N>g)g=N;if(J<x)x=J;if(J>V)V=J}W=Math.floor(W);g=Math.ceil(g);x=Math.floor(x);V=Math.ceil(V);
var K=g-W,q=V-x;for(var l=L;l<E;l++)d+=U[l];for(var b=_;b<S;b+=8){var T=U[b>>>3],B=C[b+0],p=C[b+1],I=C[b+2],w=C[b+3],e=C[b+4],G=C[b+5],j=C[b+6],o=C[b+7];
f.fillStyle="rgba(0,0,0,"+T/d+")";f.beginPath();f.moveTo(B,p);f.lineTo(I,w);f.lineTo(e,G);f.lineTo(j,o);
f.closePath();f.fill()}var r=f.getImageData(W,x,K,q).data;for(var J=0;J<q;J++)for(var N=0;N<K;N++){var R=J*K+N,k=r[R*4+3],a7=(x+J)*F+W+N;
if(k!=0)H[a7]+=k*d}f.clearRect(W,x,K,q)}var v=Z[1].color,n=Math.pow(v.o/255,Y),cm=Math.pow(v.R/255,Y),a5=Math.pow(v.X/255,Y),gP=new gi(0,0,F,A),cg=a.j(F*A*4);
for(var J=0;J<A;J++)for(var N=0;N<F;N++){var R=J*F+N,l=R*4,U=H[R]*(1/255);cg[l]=P(n,U);cg[l+1]=P(cm,U);
cg[l+2]=P(a5,U);cg[l+3]=Math.min(255,U*255)}a.B.qZ("norm",cg,gP,h,gP,gP,1)}var O=new Uint8Array(2e3);
for(var R=0;R<2e3;R++)O[R]=255*Math.min(1,Math.log(R/700+1));function P(y,F){return O[Math.min(1500,~~(y*F*1e3))]}return M}(),hA=function(){var s=new Float32Array(3e3),M=new Float32Array(3e3),O=new Float32Array(256),P=new Float32Array(3e3);
function y(){var C=s.length;s[0]=Math.log10(157647e-9);for(var R=1;R<C;++R)s[R]=Math.log10(R/C)}function F(){var C=M.length;
for(var R=0;R<C;++R)M[R]=Math.pow(10,20*(R-C/2)/C)}function A(){var C=O.length;for(var R=0;R<C;++R)O[R]=a.R0(R/255)}function h(){var C=P.length;
for(var R=0;R<C;++R)P[R]=255*a.$W(R/(C-1))}function m(C,H){var t=C.length>>>2;for(var R=0;R<t;++R){var X=O[C[4*R]],Q=O[C[4*R+1]],D=O[C[4*R+2]],L=.3811*X+.5783*Q+.0402*D,E=.1967*X+.7244*Q+.0782*D,_=.0241*X+.1288*Q+.8444*D;
L=s[~~(L*s.length)];E=s[~~(E*s.length)];_=s[~~(_*s.length)];H[3*R]=(L+E+_)*.5773502692;H[3*R+1]=(L+E-2*_)*.4082482905;
H[3*R+2]=(L-E)*.7071067812}}function Z(C,H){var t=H.length>>>2,X=P.length-1;for(var R=0;R<t;++R){var Q=.5773502692*C[3*R],D=.4082482905*C[3*R+1],L=.7071067812*C[3*R+2],E=M[~~((Q+D+L+10)*(3e3/20))],_=M[~~((Q+D-L+10)*(3e3/20))],S=M[~~((Q-2*D+10)*(3e3/20))],W=4.4679*E-3.5873*_+.1193*S,g=-1.2186*E+2.3809*_-.1624*S,x=.0497*E-.2439*_+1.2045*S;
H[4*R]=P[~~(X*Math.max(0,Math.min(1,W)))];H[4*R+1]=P[~~(X*Math.max(0,Math.min(1,g)))];H[4*R+2]=P[~~(X*Math.max(0,Math.min(1,x)))]}}function u(C){var H=0,t=0,X=0;
for(var R=0;R<C.length;R+=3){H+=C[R];t+=C[R+1];X+=C[R+2]}return[H/(C.length/3),t/(C.length/3),X/(C.length/3)]}function f(C,u){var H=0,t=0,X=0;
for(var R=0;R<C.length;R+=3){var Q=C[R]-u[0],D=C[R+1]-u[1],L=C[R+2]-u[2];H+=Q*Q;t+=D*D;X+=L*L}return[Math.sqrt(H/(C.length/3)),Math.sqrt(t/(C.length/3)),Math.sqrt(X/(C.length/3))]}function U(C,H,t,X){y();
F();A();h();var Q=0,B,p;if(X[0]>100)Q=-(X[0]-100)/100*.13;else if(X[0]>=75)Q=(100-X[0])/25*.04;else if(X[0]>=50)Q=.04+(75-X[0])/25*.04;
else if(X[0]>=25)Q=.08+(50-X[0])/25*.08;else Q=.16+(25-X[0])/25*.24;var D=(X[1]-100+100)/100,L=X[2]/100,E=X[3],_=new Float32Array(C.length*3/4),S=new Float32Array(H.length*3/4),W=new Float32Array(t.length*3/4),g=Date.now();
m(C,_);m(H,S);m(t,W);var x=Date.now(),V=u(_),b=u(S),N=Date.now(),J=f(_,V),K=f(S,b),q=Date.now();b[0]*=Math.pow(10,Q);
if(K[0]+K[1]+K[2]<.001)K=J.slice(0);var d=[K[0]/J[0],K[1]/J[1],K[2]/J[2]],l=W.length,T=1/-1.1546978950500488;
for(var R=0;R<l;R+=3){if(E){var I=Math.max(0,Math.min(1,W[R]*T));I=1-Math.sqrt(I);B=I*b[1];p=I*b[2]}else{B=b[1];
p=b[2]}W[R]=(W[R]-V[0])*d[0]+b[0];W[R+1]=(W[R+1]-V[1])*d[1]*D+B;W[R+2]=(W[R+2]-V[2])*d[2]*D+p}var w=Date.now(),e=t.slice(0);
Z(W,t);var G=t.length>>>2;for(var R=0;R<G;++R){t[4*R]=(1-L)*t[4*R]+L*e[4*R];t[4*R+1]=(1-L)*t[4*R+1]+L*e[4*R+1];
t[4*R+2]=(1-L)*t[4*R+2]+L*e[4*R+2]}}return U}(),gm=function(){function s(M,O,P,y,F){var A=[-1,-1,-1,-1],h=255,m=160,Z,u=!1,f=new Array(4);
f[0]=new Array(O);f[1]=new Array(P);f[2]=new Array(O);f[3]=new Array(P);var U=new Array(2);U[0]=new Array(P);
U[1]=new Array(P);function C(q,d,l,T,B){this.start=T;this.axis=B;this.dir=q;this.end=-1;this.source=d;
this.C=l}function H(q,d,l,T,B){if(l%2==0){if(!f[l][q])f[l][q]=new Array;f[l][q].push(new C(l,T,B,d,q))}else{if(!f[l][d])f[l][d]=new Array;
f[l][d].push(new C(l,T,B,q,d))}var p=Date.now()}function t(R){var q=!1,d=0;if(M[4*R+3]<h)return q;var l=R%O,T=Math.floor(R/O);
X(l,T);if(R+O<O*P&&M[4*(R+O)+3]<h&&M[4*(R-O)+3]>=h&&M[4*(R-2*O)+3]>=h){var B=2;if(M[4*(R+O)+3]<=m)d=-1;
if(M[4*(R+2*O-1)+3]<h&&M[4*(R+2*O+1)+3]<h)q=!0;else if(M[4*(R+2*O-1)+3]>=h&&M[4*(R+1)+3]>=h)q=!0;else if(M[4*(R+2*O+1)+3]>=h&&M[4*(R-1)+3]>=h)q=!0;
H(l,T,B,d,q)}else if(R-O>=0&&M[4*(R-O)+3]<h&&M[4*(R+O)+3]>=h&&M[4*(R+2*O)+3]>=h){var B=0;if(M[4*(R-O)+3]<=m)d=-1;
if(M[4*(R-2*O-1)+3]<h&&M[4*(R-2*O+1)+3]<h)q=!0;else if(M[4*(R-2*O-1)+3]>=h&&M[4*(R+1)+3]>=h)q=!0;else if(M[4*(R-2*O+1)+3]>=h&&M[4*(R-1)+3]>=h)q=!0;
H(l,T,B,d,q)}d=0;if(R+1<O*P&&M[4*(R+1)+3]<h&&M[4*(R-1)+3]>=h&&M[4*(R-2)+3]>=h){var B=3;if(M[4*(R+1)+3]<=m)d=-1;
if(!q&&M[4*(R+O+2)+3]<h&&M[4*(R-O+2)+3]<h){q=!0;H(l,T,B,d,!0)}else H(l,T,B,d,!1)}else if(R>=1&&M[4*(R-1)+3]<h&&M[4*(R+1)+3]>=h&&M[4*(R+2)+3]>=h){var B=1;
if(M[4*(R-1)+3]<=m)d=-1;if(!q&&M[4*(R+O-2)+3]<h&&M[4*(R-O-2)+3]<h){q=!0;H(l,T,B,d,!0)}else H(l,T,B,d,!1)}return q}function X(R,q){if(A[0]==-1){A[0]=R;
A[1]=q;A[2]=1;A[3]=1}if(R<A[0]){A[2]+=A[0]-R;A[0]=R}if(R>A[0]+A[2])A[2]=R-A[0];if(q<A[1]){A[3]+=A[1]-q;
A[1]=q}if(q>A[1]+A[3])A[3]=q-A[1]}function Q(q,R,d,l){if(!d.C)return;var T=(q+2)%4,B=d.start,p=A[1];
if(q==2)p+=A[3];else if(q==1)p=A[0];else if(q==3)p=A[0]+A[2];var I=d.source;if(f[T][R])for(var w=0;w<f[T][R].length;
++w){if(q>1){var e=B+Math.floor((f[T][R][w].start-B)/2);if(f[T][R][w].start>B&&e<p)p=e}else{var e=B-Math.floor((B-f[T][R][w].start)/2);
if(f[T][R][w].start<B&&e>p)p=e}}for(var G=1;G<Math.abs(p-B);++G){var w=B+G;if(q==1||q==0)w=B-G;for(var j=0;
j<2;++j){var o=2*j,r=!1;if(q%2==0)o+=1;if(f[o][w]){for(var k=0;k<f[o][w].length;++k){if(f[o][w][k].C){var a7=f[o][w][k].start,Y=R-a7,v=w-B;
if(o==0||o==1)Y=-Y;if(Y<=0)continue;if(q==0||q==1)v=-v;if(v>Y){p=w;r=!0;break}}}if(r)break}}}d.end=p;
E(q,R,B,p,I)}function D(q){for(var R=0;R<f[q].length;++R){if(f[q][R])for(var d=0;d<f[q][R].length;++d){Q(q,R,f[q][R][d])}}}function L(){var q=[2,0,3,1];
for(var R=0;R<q.length;++R)D(q[R])}function E(q,R,d,l,T){if(q==2)for(var B=d;B<=l;++B){if(!_(B*O+R,(d+T)*O+R))return!1}else if(q==0)for(var B=d;
B>=l;--B){if(!_(B*O+R,(d-T)*O+R))return!1}else if(q==1)for(var B=d;B>=l;--B){if(!_(R*O+B,R*O+d-T))return!1}else if(q==3)for(var B=d;
B<=l;++B){if(!_(R*O+B,R*O+d+T))return!1}}function _(q,d){if(!Z[q]){y[4*q]=y[4*d];y[4*q+1]=y[4*d+1];y[4*q+2]=y[4*d+2];
if(u)y[4*q+3]=255;Z[q]=!0;return!0}return!1}function S(){for(var R=0;R<4;R+=1){for(var q=0;q<f[R].length;
++q){if(f[R][q])for(var d=0;d<f[R][q].length;++d){var l=f[R][q][d];for(var T=1;T<3;T+=2){var B=(R+T)%4;
if(f[B][l.start])for(var p=0;p<f[B][l.start].length;++p){if(f[B][l.start][p].start==l.axis){var hS=O*l.start+l.axis;
if(R%2==1){hS=l.start+O*l.axis;W(f[B][l.start][p])}else W(l)}}}}}}}function W(q){if(q.dir%2==0){var hS=O*q.start+q.axis,d=q.start,l=1;
if(!Z[hS+1])l=3;else if(Z[hS-1])return;var T=y[4*hS],B=y[4*hS+1],p=y[4*hS+2];while(y[4*hS]==T&&y[4*hS+1]==B&&y[4*hS+2]==p){if(l==1){if(!U[0][d])U[0][d]=new Array;
U[0][d].push(new C(l,0,!1,q.axis,d))}else{if(!U[1][d])U[1][d]=new Array;U[1][d].push(new C(l,0,!1,q.axis,d))}if(q.dir==2){hS+=O;
d++}else{hS-=O;d--}}}}function g(){for(var q=0;q<2;++q){var d=(q+1)%2;for(var R=0;R<U[q].length;++R){if(U[q][R])for(var l=0;
l<U[q][R].length;++l){var T=A[0];if(q==1)T+=A[2];var B=U[q][R][l].start;if(U[d][R])for(var p=0;p<U[d][R].length;
++p){var I=U[d][R][p].BP;if(q==0){if(I>T&&I<B){T=B-Math.floor((B-I)/2)}}else{if(I<T&&I>B){T=B+Math.ceil((I-B)/2)}}}if(q==0)E(U[q][R][l].dir,R,B-1,T,-1);
else E(U[q][R][l].dir,R,B+1,T,-1)}}}for(var R=0;R<Z.length;++R){if(!Z[R]&&R%O>=A[0]&&R%O<=A[0]+A[2]&&Math.floor(R/O)>=A[1]&&Math.floor(R/O)<=A[1]+A[3]){var B=O;
if(R<B||!Z[R-B])B=1;y[4*R]=y[4*(R-B)];y[4*R+1]=y[4*(R-B)+1];y[4*R+2]=y[4*(R-B)+2];Z[R]=!0;if(u)y[4*R+3]=255}}}function x(){Z=new Array(M.length/4);
for(var R=0;R<y.length/4;++R){Z[R]=!1;y[4*R]=M[4*R];y[4*R+1]=M[4*R+1];y[4*R+2]=M[4*R+2];y[4*R+3]=M[4*R+3];
if(y[4*R+3]==255)Z[R]=!0;if(t(R))Z[R]=!1}if(A[0]>0){A[0]--;A[2]++}if(A[1]>0){A[1]--;A[3]++}if(A[0]+A[2]<O){A[2]++}if(A[1]+A[3]<P){A[3]++}}var V=Date.now();
x();var b=Date.now();L();var N=Date.now();S();var J=Date.now();g();var K=Date.now();console.log("Init: "+String(b-V));
console.log("Filling: "+String(N-b));console.log("Check areas: "+String(J-N));console.log("Fill areas: "+String(K-J))}return s}();
function g4(){}g4.ac4=function(s){var M=[a.R0(s[0]),a.R0(s[1]),a.R0(s[2]),0];return a.rD.YO(a.rD.aLH,M)};
g4.amd=function(s){var M=a.rD.YO(a.rD.vz,s);return[a.$W(M[0]),a.$W(M[1]),a.$W(M[2])]};g4.da=function(s,M){var O={},P=5003,y=1667,F=25e3,A=57.4,h=16.1,m=1.8,Z=0,u=1.54,f=.75,H=0;
if(M>0){s-=M/100*4}if(s<0){h=22.54;A=80.36;u=.756}if(M>0){m=1.3;f=.2}var U=Math.min(P+A*s,F),C=Math.max(P-h*s,y);
if(s<0){U=Math.max(P+h*s,y);C=Math.min(P-A*s,F)}if(s>0){if(s<=14){H=(s-1)/13*.075+.025}else if(s<=29){H=.1}else if(s<=60){H=.1-.1*(s-29)/(60-29)}else{var t=s-60;
Z=-20*(t/40);H=-.3*(t/40)}}else{if(s<-60){var t=s+60;Z=-20*(t/40)}}var X=Math.abs(s)/100*u+Math.abs(M)/100*f+H,Q=-(M*m+Z),D=gR.$H(U,-Q),L=gR.NV(D),E=gR.$H(C,0),_=gR.NV(E),S=gR.apf(L,_);
O.a29=X;O.auV=S;if(s==0&&M==0)O.a3V=!0;else O.a3V=!1;return O};g4.aKv=function(s,M,O,P){if(P.a3V){return[s,M,O]}var y=this.ac4([s,M,O]),F=y[0],A=y[1],h=y[2],m=A+1e-12,Z=[F/m,A/m,h/m,0],u=a.rD.YO(P.auV,Z),f=0,U=.4;
u[0]*=m;u[1]*=m;u[2]*=m;if(m>U)f=1/(1-U)*(m-U);y[0]=(1-f)*u[0]+f*F;y[1]=(1-f)*u[1]+f*A;y[2]=(1-f)*u[2]+f*h;
return this.amd(y)};a.aa7={Oa:function(s,M){var R=s.length;s.push(M);var O=R>>>1;while(O!=0&&s[R][0]<s[O][0]){var P=s[R];
s[R]=s[O];s[O]=P;R=O;O=R>>>1}},nE:function(s){if(s.length==2)return s.pop();var top=s[1],R=1;s[1]=s.pop();
var M=s.length;while(!0){var O=R<<1,P=O+1,y=R;if(O<M&&s[O][0]<s[y][0])y=O;if(P<M&&s[P][0]<s[y][0])y=P;
if(y==R)break;var F=s[R];s[R]=s[y];s[y]=F;R=y}return top},aL9:function(s){for(var R=1;R<s.length;R++){var M=R,O=1e9;
while(M!=0){var P=s[M][0];if(P>O){console.log(R);throw"e"}O=P;M=M>>>1}}}};a.B={};a.B.s9=new Float64Array(256);
a.B.hO=new Uint8Array(256*256);a.B.at5=new Uint8Array(256*256);(function(){for(var R=0;R<256;R++)a.B.s9[R]=255/R;
for(var R=0;R<256;R++)for(var s=0;s<256;s++)a.B.hO[R*256+s]=R==0?0:Math.round(s*255/R);for(var R=0;R<256;
R++)for(var s=0;s<256;s++)a.B.at5[R*256+s]=Math.round(R*(255-s)/255)}());a.B.qZ=function(s,M,O,P,y,F,A,h){if(h==null)h=cb.lh();
var m=a.$i(M instanceof Array?M[0]:M);if(m!=a.$i(P))throw"e";if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(s)==-1){A=A*h.fill;
h.fill=1;h.style=!1}var Z="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),u="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),f=a.B[s+"F"];
if(m==8){if(h.Js==null&&s=="norm")a.B.aoM(M,O,P,y,F,A,f,h.gZ?1:0);else if(s=="diss")a.B.aGa(M,O,P,y,F,A,f,h.gZ?1:0);
else if(Z.indexOf(s)!=-1)a.B.akk(M,O,P,y,F,A,f,h);else if(u.indexOf(s)!=-1)a.B.aBc(M,O,P,y,F,A,f,h)}else{if(s=="diss")a.B.amE(M,O,P,y,F,A,f,h.gZ?1:0);
else if(Z.indexOf(s)!=-1)a.B.ank(M,O,P,y,F,A,f,h);else if(u.indexOf(s)!=-1)a.B.aaB(M,O,P,y,F,A,f,h)}};
a.B.amu=function(s,M,O){var P=s*O+1-O;return P<.001?0:1-Math.min(1,(1-M)/P)};a.B.af6=function(s,M,O){return s*O==1?1:Math.min(1,M/(1-s*O))};
a.B.wQ=function(s){return s<=.25?((16*s-12)*s+4)*s:Math.sqrt(s)};a.B.normF=function(s,M,O){return s};
a.B.darkF=function(s,M,O){return Math.min(s,M)};a.B["mul F"]=function(s,M,O){return s*M};a.B.idivF=function(s,M,O){var P=s*O+1-O;
return M==1?1:1-M>=P?0:1-(1-M)/P};a.B.lbrnF=function(s,M,O){return Math.max(0,s*O+M-O)};a.B.dkClF=function(s,M,O){var P=a.bz(s)<a.bz(M)?s:M;
O.o=P.o;O.R=P.R;O.X=P.X;return O};a.B.liteF=function(s,M,O){return Math.max(s,M)};a.B.scrnF=function(s,M,O){return M+s-M*s};
a.B["div F"]=function(s,M,O){s*=O;return M==0?0:M>=1-s?1:M/(1-s)};a.B.lddgF=function(s,M,O){s*=O;return Math.min(1,s+M)};
a.B.lgClF=function(s,M,O){var P=a.bz(s)>a.bz(M)?s:M;O.o=P.o;O.R=P.R;O.X=P.X;return O};a.B.overF=function(s,M,O){return a.B.hLitF(M,s,O)};
a.B.sLitF=function(s,M,O){return s<=.5?M-(1-2*s)*M*(1-M):M+(2*s-1)*(a.B.wQ(M)-M)};a.B.hLitF=function(s,M,O){return s<=.5?a.B["mul F"](2*s,M,O):a.B.scrnF(2*s-1,M,O)};
a.B.vLitF=function(s,M,O){return s<=.5?a.B.amu(2*s,M,O):a.B.af6(2*s-1,M,O)};a.B.lLitF=function(s,M,O){return s<=.5?a.B.lbrnF(2*s,M,O):a.B.lddgF(2*s-1,M,O)};
a.B.pLitF=function(s,M,O){return s<=.5?a.B.darkF(2*s,M,O):a.B.liteF(2*s-1,M,O)};a.B.hMixF=function(s,M,O){if(O>.99)return s+M<1?0:1;
return Math.min(1,Math.max(0,(M+s*O-O)/(1-O+1e-6)))};a.B.diffF=function(s,M,O){s*=O;return Math.abs(s-M)};
a.B.smudF=function(s,M,O){return s+M-2*s*M};a.B.fsubF=function(s,M,O){return Math.max(M-s,0)};a.B.fdivF=function(s,M,O){return Math.min(M/s,1)};
a.B["hue F"]=function(s,M,O){a.B.n9(s,a.jF(M),O);a.B.zb(O,a.bz(M),O)};a.B["sat F"]=function(s,M,O){a.B.n9(M,a.jF(s),O);
a.B.zb(O,a.bz(M),O)};a.B.colrF=function(s,M,O){a.B.zb(s,a.bz(M),O)};a.B["lum F"]=function(s,M,O){a.B.zb(M,a.bz(s),O)};
a.B.zb=function(s,M,O){var P=M-a.bz(s);O.o=s.o+P;O.R=s.R+P;O.X=s.X+P;a.B.axJ(O)};a.B.axJ=function(s){var M=s.o,O=s.R,P=s.X,y=a.w6(M,O,P),hS=Math.min(M,O,P),F=Math.max(M,O,P);
if(hS<0){var A=y/(y-hS);M=y+(M-y)*A;O=y+(O-y)*A;P=y+(P-y)*A}if(F>1){var A=(1-y)/(F-y);M=y+(M-y)*A;O=y+(O-y)*A;
P=y+(P-y)*A}s.o=M;s.R=O;s.X=P};a.B.n9=function(s,M,O){var P=a.B.a63,y=s.o,F=s.R,A=s.X;if(y==F&&F==A){O.o=O.R=O.X=0}else if(y>F){if(y>A){if(F>A){O.o=M;
O.R=P(y,F,A,M);O.X=0}else{O.o=M;O.X=P(y,A,F,M);O.R=0}}else{O.X=M;O.o=P(A,y,F,M);O.R=0}}else{if(y<A){if(F>A){O.R=M;
O.X=P(F,A,y,M);O.o=0}else{O.X=M;O.R=P(A,F,y,M);O.o=0}}else{O.R=M;O.o=P(F,y,A,M);O.X=0}}};a.B.a63=function(s,M,O,P){return(M-O)*P/(s-O)};
a.B.aoM=function(s,M,O,P,y,F,A,h){var m=M.OK(P).OK(y),Z=Math.max(0,m.x-M.x),u=Math.max(0,m.x-P.x),f=Math.max(0,m.y-M.y),U=Math.max(0,m.y-P.y),C=m.A,H=m.$,t=M.A,X=P.A,Q=s instanceof Array,D=Q?s[1]:null,L=new Uint32Array((Q?s[0]:s).buffer),E=new Uint32Array(O.buffer),_=L[0]&16777215;
for(var R=0;R<H;R++){var S=(f+R)*t+Z,W=(U+R)*X+u;for(var g=0;g<C;g++){var x=Q?_|D[S+g]<<24:L[S+g],T=1;
if(x>>>24==0)continue;if(x>>>24==255&&F==1&&h==0){E[W+g]=x;continue}var V=E[W+g],b=x&255,N=x>>>8&255,J=x>>>16&255,K=V&255,q=V>>>8&255,d=V>>>16&255,l=F,B=(V>>>24)*(1/255);
if(h==0){l=(x>>>24)*F*(1/255);T=B}var p=T*(1-l),I=l+p,w=1/I;E[W+g]=~~(.5+(h*B+(1-h)*I)*255)<<24|~~(.5+(J*l+d*p)*w)<<16|~~(.5+(N*l+q*p)*w)<<8|~~(.5+(b*l+K*p)*w)}}};
a.B.axa=function(s,M,O,P,y,F){var A=M.OK(P).OK(y),h=Math.max(0,A.x-M.x),m=Math.max(0,A.x-P.x),Z=Math.max(0,A.y-M.y),u=Math.max(0,A.y-P.y),f=A.A,U=A.$,C=M.A,H=P.A,t=a.B.hO,X=a.B.at5,Q=new Uint32Array(s.buffer),D=new Uint32Array(O.buffer),L=Math.floor(Math.random()*16777215),E=0;
for(var R=0;R<U;R++){var _=(Z+R)*C+h,S=(u+R)*H+m;for(var W=0;W<f;W++){var g=Q[_+W];if(g>>>24==0)continue;
if(g>>24==255&&F==1){D[S+W]=g;continue}var x=D[S+W],V=(g>>>24)*F*(1/255),b=(x>>>24)*(1/255),N=b*(1-V),J=V+N,K=g&255,q=g>>>8&255,d=g>>>16&255,l=x&255,T=x>>>8&255,B=x>>>16&255;
E>>>=8;if((W&3)==0)E=a.B.rm(S+W+L);var p=J==0?0:1/J,I=Math.floor(J*(256*255))+(E&255)>>>8,w=Math.floor((d*V+B*N)*p+.5),e=Math.floor((q*V+T*N)*p+.5),G=Math.floor((K*V+l*N)*p+.5);
D[S+W]=I<<24|w<<16|e<<8|G}}};a.B.de=function(s,M,O,P,y,F,A,h){var m=a.w6(s,M,O),Z=a.w6(P,y,F),u=Math.min,f=a.B.aJV,U=f(m,h,0);
U=u(U,f(s,h,8));U=u(U,f(M,h,16));U=u(U,f(O,h,24));var C=f(Z,h,4);C=u(C,f(P,h,12));C=u(C,f(y,h,20));C=u(C,f(F,h,28));
C=Math.max(C,1-A);var H=Math.min(U,C);return H<0?0:H>1?1:H};a.B.aJV=function(s,M,R){return Math.min((s-M[R])*M[R+1],(s-M[R+3])*M[R+2])};
a.B.ho=function(s){return~~(s+.5)};a.B.akk=function(s,M,O,P,y,F,A,h){var m=1/255,Z=m*F,u=a.B.ho,f=h.gZ?1:0,U=h.fill,C=h.style,H=M.OK(P).OK(y),t=Math.max(0,H.x-M.x),X=Math.max(0,H.x-P.x),Q=Math.max(0,H.y-M.y),D=Math.max(0,H.y-P.y),L=H.A,E=H.$,_=M.A,S=P.A,W=s instanceof Array,g=W?s[1]:null,x=new Uint32Array((W?s[0]:s).buffer),V=new Uint32Array(O.buffer),b=x[0]&16777215;
for(var R=0;R<E;R++){var N=(Q+R)*_+t,J=(D+R)*S+X;for(var K=0;K<L;K++,N++,J++){var q=W?b|g[N]<<24:x[N],G=1;
if(q>>>24==0)continue;var d=V[J],l=(q&255)*m,T=(q>>>8&255)*m,B=(q>>>16&255)*m,p=(d&255)*m,I=(d>>>8&255)*m,w=(d>>>16&255)*m,e=F;
if(f==0){e=(q>>>24)*Z;G=(d>>>24)*m}if(h.Js)e*=a.B.de(l,T,B,p,I,w,G,h.Js);var j=G*(1-e),o=e+j,r=o==0?0:255/o,k=C?1:e,a7=((1-G)*e*l+(1-k)*G*p+k*G*A(l,p,(1+e-k)*U))*r,Y=((1-G)*e*T+(1-k)*G*I+k*G*A(T,I,(1+e-k)*U))*r,v=((1-G)*e*B+(1-k)*G*w+k*G*A(B,w,(1+e-k)*U))*r;
o=e*U+G*(1-e*U);V[J]=u(f*(d>>>24)+(1-f)*u(o*255))<<24|u(v)<<16|u(Y)<<8|u(a7)}}};a.B.ank=function(s,M,O,P,y,F,A,h){var m=a.$i(O),Z=m==32?1:m==16?65535:255,u=1/Z,f=h.gZ?1:0,U=h.fill,C=h.style,H=a.B.ho,t=M.OK(P).OK(y),X=Math.max(0,t.x-M.x),Q=Math.max(0,t.x-P.x),D=Math.max(0,t.y-M.y),L=Math.max(0,t.y-P.y),E=t.A,_=t.$,S=M.A,W=P.A,g=s instanceof Array,x=g?s[1]:null;
if(g)s=s[0];for(var R=0;R<_;R++){var V=(D+R)*S+X,b=(L+R)*W+Q;for(var N=0;N<E;N++,V++,b++){var J=g?0:V*4,K=b*4,q=s[J]*u,d=s[J+1]*u,l=s[J+2]*u,T=(g?x[V]:s[J+3])*u*F;
if(T==0)continue;var B=O[K]*u,p=O[K+1]*u,I=O[K+2]*u,w=O[K+3]*u;if(h.Js)T*=a.B.de(q,d,l,B,p,I,w,h.Js);
var e=w*(1-T),G=T+e,j=G==0?0:Z/G,o=C?1:T,r=((1-w)*T*q+(1-o)*w*B+o*w*A(q,B,(1+T-o)*U))*j,k=((1-w)*T*d+(1-o)*w*p+o*w*A(d,p,(1+T-o)*U))*j,a7=((1-w)*T*l+(1-o)*w*I+o*w*A(l,I,(1+T-o)*U))*j;
G=T*U+w*(1-T*U);if(m==16){O[K]=H(r);O[K+1]=H(k);O[K+2]=H(a7);O[K+3]=H(f*O[K+3]+(1-f)*(G*Z))}else{O[K]=r;
O[K+1]=k;O[K+2]=a7;O[K+3]=f*O[K+3]+(1-f)*(G*Z)}}}};a.B.aBc=function(s,M,O,P,y,F,A,h){var m=1/255,Z=m*F,u=h.gZ?1:0,f=M.OK(P).OK(y),U=Math.max(0,f.x-M.x),C=Math.max(0,f.x-P.x),H=Math.max(0,f.y-M.y),t=Math.max(0,f.y-P.y),X=f.A,Q=f.$,D=s instanceof Array,L=D?s[1]:null,E=new Uint32Array((D?s[0]:s).buffer),_=new Uint32Array(O.buffer),S=E[0]&16777215,W={o:0,R:0,X:0},g={o:0,R:0,X:0},x={o:0,R:0,X:0};
for(var R=0;R<Q;R++){var V=(H+R)*M.A+U,b=(t+R)*P.A+C;for(var N=0;N<X;N++,V++,b++){var J=D?S|L[V]<<24:E[V],K=_[b],q=(J&255)*m,d=(J>>>8&255)*m,l=(J>>>16&255)*m,T=(K&255)*m,B=(K>>>8&255)*m,p=(K>>>16&255)*m,I=F,w=1;
if(u==0){I=(J>>>24)*Z;w=(K>>>24)*m}if(h.Js)I*=a.B.de(q,d,l,T,B,p,w,h.Js);var e=w*(1-I),G=I+e,j=255/G;
W.o=q;W.R=d;W.X=l;g.o=T;g.R=B;g.X=p;A(W,g,x);var o=(((1-w)*q+w*x.o)*I+T*e)*j,r=(((1-w)*d+w*x.R)*I+B*e)*j,k=(((1-w)*l+w*x.X)*I+p*e)*j,a7=u*(K>>>24)+(1-u)*Math.round(G*255);
_[b]=a7<<24|k<<16|r<<8|o}}};a.B.aaB=function(s,M,O,P,y,F,A,h){var m=a.$i(O),Z=m==32?1:m==16?65535:255,u=1/Z,f=h.gZ?1:0,U=M.OK(P).OK(y),C=Math.max(0,U.x-M.x),H=Math.max(0,U.x-P.x),t=Math.max(0,U.y-M.y),X=Math.max(0,U.y-P.y),Q=U.A,D=U.$,L={o:0,R:0,X:0},E={o:0,R:0,X:0},_={o:0,R:0,X:0},S=s instanceof Array,W=S?s[1]:null;
if(S)s=s[0];for(var R=0;R<D;R++){var g=(t+R)*M.A+C,x=(X+R)*P.A+H;for(var V=0;V<Q;V++,g++,x++){var b=S?0:g*4,N=x*4,J=s[b]*u,K=s[b+1]*u,q=s[b+2]*u,p=1;
if(s[b+3]==0)continue;var d=O[N]*u,l=O[N+1]*u,T=O[N+2]*u,B=F;if(f==0){B=(S?W[g]:s[b+3])*u*F;p=O[N+3]*u}if(h.Js)B*=a.B.de(J,K,q,d,l,T,p,h.Js);
var I=p*(1-B),w=B+I,e=Z/w;L.o=J;L.R=K;L.X=q;E.o=d;E.R=l;E.X=T;A(L,E,_);O[N]=(((1-p)*J+p*_.o)*B+d*I)*e;
O[N+1]=(((1-p)*K+p*_.R)*B+l*I)*e;O[N+2]=(((1-p)*q+p*_.X)*B+T*I)*e;O[N+3]=f*O[N+3]+(1-f)*Math.round(w*Z)}}};
a.B.Fn=function(s){s=s^61^s>>>16;s=s+(s<<3);s=s^s>>>4;s=s*668265261;s=s^s>>15;return(s&16777215)*(1/16777215)};
a.B.rm=function(s){s=s^61^s>>>16;s=s+(s<<3);s=s^s>>>4;s=s*668265261;s=s^s>>>15;return s};a.B.Yp=function(s){this.BJ=s};
a.B.Yp.prototype.get=function(){var s=this.BJ=a.B.rm(this.BJ);return(s&16777215)*(1/16777215)};a.B.aGa=function(s,M,O,P,y,F,A,h){var m=Math.round(F*(256*256*256/255)),Z=M.OK(P).OK(y),u=Math.max(0,Z.x-M.x),f=Math.max(0,Z.x-P.x),U=Math.max(0,Z.y-M.y),C=Math.max(0,Z.y-P.y),H=Z.A,t=Z.$,X=s instanceof Array,Q=X?s[1]:null,D=new Uint32Array((X?s[0]:s).buffer),L=new Uint32Array(O.buffer),E=D[0]&16777215;
for(var R=0;R<t;R++){var _=(U+R)*M.A+u,S=(C+R)*P.A+f;for(var W=0;W<H;W++,_++,S++){var g=X?E|Q[_]<<24:D[_],x=L[S],V=h*255+(1-h)*(g>>>24);
if((a.B.rm(_)&16777215)>=V*m)continue;L[S]=g&16777215|h*(x>>>24)+(1-h)*255<<24}}};a.B.amE=function(s,M,O,P,y,F,A,h){var m=a.$i(O),Z=m==32?1:m==16?65535:255,u=1/Z,f=M.OK(P).OK(y),U=Math.max(0,f.x-M.x),C=Math.max(0,f.x-P.x),H=Math.max(0,f.y-M.y),t=Math.max(0,f.y-P.y),X=f.A,Q=f.$,D=s instanceof Array,L=D?s[1]:null;
if(D)s=s[0];for(var R=0;R<Q;R++){var E=(H+R)*M.A+U,_=(t+R)*P.A+C;for(var S=0;S<X;S++,E++,_++){var W=D?0:E*4,g=_*4,x=(D?L[E]:s[W+3])*u,V=O[g+3]*u;
x=h+(1-h)*x;if((a.B.rm(E)&255)*(1/255)>=x*F)continue;O[g]=s[W];O[g+1]=s[W+1];O[g+2]=s[W+2];O[g+3]=(h*V+(1-h))*Z}}};
a.B.avw=function(s,M,O){for(var R=0;R<s.length;R+=4){var P=O[R>>>2];if(P==0)continue;var y=P*(1/255),F=1/y,A=M[R],h=M[R+1],m=M[R+2],Z=s[R],u=s[R+1],f=s[R+2];
M[R]=Math.min(255,Math.max(0,Math.round((A-(1-y)*Z)*F)));M[R+1]=Math.min(255,Math.max(0,Math.round((h-(1-y)*u)*F)));
M[R+2]=Math.min(255,Math.max(0,Math.round((m-(1-y)*f)*F)));M[R+3]=255}};a.B.VB=function(s,M,O,P,y,F,A,h,m,Z,u){if(Z==null)Z=!1;
var f=a.$i(s),U=f==8?255:f==16?65535:1;if(y&&y.length==F.C()*4){var C=a.j(F.C(),f);a.YT(y,C,3);y=C}if(y&&!M.s0(F)){var H=a.j(M.C(),f);
H.fill(U*A/255);a.TT(y,F,H,M);y=H;F=M}if(f==8){if(u==null)u=[1,1,1];var t=255<<24|u[2]*16711680|u[1]*65280|u[0]*255,X=~t;
if(Z){if(y==null)a.B.ace(s,M,O,P,y,h,m,t,X);else a.B.aKB(s,M,O,P,y,h,m)}else{if(y==null)a.B.aj9(s,M,O,P,y,h,m,t,X);
else a.B.afp(s,M,O,P,y,h,m)}}else{if(u&&u.join(",")!="1,1,1")throw"e";if(Z)a.B.aD2(s,M,O,P,y,h,m);else a.B.a70(s,M,O,P,y,h,m)}};
a.B.aj9=function(s,M,O,P,y,F,A,h,m){var Z=1/255,u=M.OK(P).OK(F),f=Math.max(0,u.x-M.x),U=Math.max(0,u.x-P.x),C=Math.max(0,u.y-M.y),H=Math.max(0,u.y-P.y),t=u.A,X=u.$,Q=new Uint32Array(s.buffer),D=new Uint32Array(O.buffer),L=a.B.hO,E=A*255&255;
for(var R=0;R<X;R++){var _=(C+R)*M.A+f,S=(H+R)*P.A+U;for(var W=0;W<t;W++,_++,S++){var g=Q[_],x=D[S],V=g>>>24,b=x>>>24,N=a.Qq(E*V+(255-E)*b),J=a.Qq(V*E),K=a.Qq(b*(255-E)),q=g&255,d=g>>>8&255,l=g>>>16&255,T=x&255,B=x>>>8&255,p=x>>>16&255,I=J*q+T*K,w=J*d+B*K,e=J*l+p*K;
I=L[N<<8|a.Qq(I)];w=L[N<<8|a.Qq(w)];e=L[N<<8|a.Qq(e)];var G=N<<24|e<<16|w<<8|I;D[S]=m&x|h&G}}};a.B.ace=function(s,M,O,P,y,F,A,h,m){var Z=1/255,u=M.OK(P).OK(F),f=Math.max(0,u.x-M.x),U=Math.max(0,u.x-P.x),C=Math.max(0,u.y-M.y),H=Math.max(0,u.y-P.y),t=u.A,X=u.$,Q=new Uint32Array(s.buffer),D=new Uint32Array(O.buffer),L=a.B.hO,E=A*16777215&16777215;
for(var R=0;R<X;R++){var _=(C+R)*M.A+f,S=(H+R)*P.A+U;for(var W=0;W<t;W++,_++,S++){if((a.B.rm(_)&16777215)<E){D[S]=m&D[S]|h&Q[_]}}}};
a.B.a70=function(s,M,O,P,y,F,A){var h=a.$i(s),m=h==8?255:h==16?65535:1,Z=1/m,u=M.OK(P).OK(F),f=Math.max(0,u.x-M.x),U=Math.max(0,u.x-P.x),C=Math.max(0,u.y-M.y),H=Math.max(0,u.y-P.y),t=u.A,X=u.$;
for(var R=0;R<X;R++){var Q=(C+R)*M.A+f,D=(H+R)*P.A+U;for(var L=0;L<t;L++,Q++,D++){var E=(y?y[Q]*Z:1)*A,_=Q*4,S=D*4,W=s[_+3]*Z,g=O[S+3]*Z,x=W*E,V=g*(1-E),b=x+V,N=b==0?0:m/b,J=s[_]*Z,K=s[_+1]*Z,q=s[_+2]*Z,d=O[S]*Z,l=O[S+1]*Z,T=O[S+2]*Z;
O[S]=(x*J+V*d)*N;O[S+1]=(x*K+V*l)*N;O[S+2]=(x*q+V*T)*N;O[S+3]=m*b}}};a.B.afp=function(s,M,O,P,y,F,A){var h=1/255,m=M.OK(P).OK(F),Z=Math.max(0,m.x-M.x),u=Math.max(0,m.x-P.x),f=Math.max(0,m.y-M.y),U=Math.max(0,m.y-P.y),C=m.A,H=m.$,t=new Uint32Array(s.buffer),X=new Uint32Array(O.buffer),Q=a.B.hO;
for(var R=0;R<H;R++){var D=(f+R)*M.A+Z,L=(U+R)*P.A+u;for(var E=0;E<C;E++,D++,L++){var _=y[D]*A&255;if(_==0)continue;
if(_==255){X[L]=t[D];continue}var S=t[D],W=X[L],g=S>>>24,x=W>>>24,V=a.Qq(_*g+(255-_)*x),b=a.Qq(g*_),N=a.Qq(x*(255-_)),J=S&255,K=S>>>8&255,q=S>>>16&255,d=W&255,l=W>>>8&255,T=W>>>16&255,B=Q[V<<8|a.Qq(b*J+d*N)],p=Q[V<<8|a.Qq(b*K+l*N)],I=Q[V<<8|a.Qq(b*q+T*N)];
X[L]=V<<24|I<<16|p<<8|B}}};a.B.aD2=function(s,M,O,P,y,F,A){var h=a.$i(s),m=h==8?255:h==16?65535:1,Z=1/m,u=M.OK(P).OK(F),f=Math.max(0,u.x-M.x),U=Math.max(0,u.x-P.x),C=Math.max(0,u.y-M.y),H=Math.max(0,u.y-P.y),t=u.A,X=u.$,Q=A*Z*65535;
for(var R=0;R<X;R++){var D=(C+R)*M.A+f,L=(H+R)*P.A+U;for(var E=0;E<t;E++,D++,L++){var _=y[D];if((a.B.rm(D)&65535)<_*Q){var S=D*4,W=L*4;
O[W]=s[S];O[W+1]=s[S+1];O[W+2]=s[S+2];O[W+3]=s[S+3]}}}};a.B.aKB=function(s,M,O,P,y,F,A){var h=1/255,m=M.OK(P).OK(F),Z=Math.max(0,m.x-M.x),u=Math.max(0,m.x-P.x),f=Math.max(0,m.y-M.y),U=Math.max(0,m.y-P.y),C=m.A,H=m.$,t=new Uint32Array(s.buffer),X=new Uint32Array(O.buffer),Q=a.B.hO,D=Math.round(A*257);
for(var R=0;R<H;R++){var L=(f+R)*M.A+Z,E=(U+R)*P.A+u;for(var _=0;_<C;_++,L++,E++){var S=y[L]*D;if((a.B.rm(L)&65535)<S)X[E]=t[L]}}};
a.B.a4_=function(s,M,O,P,y,F,A){var h=1/255,m=M.OK(P).OK(F),Z=Math.max(0,m.x-M.x),u=Math.max(0,m.x-P.x),f=Math.max(0,m.y-M.y),U=Math.max(0,m.y-P.y),C=m.A,H=m.$,t=new Uint32Array(s.buffer),X=new Uint32Array(O.buffer),Q=Math.floor(Math.random()*P.C()),D=a.B.awK;
for(var R=0;R<H;R++){var L=(f+R)*M.A+Z,E=(U+R)*P.A+u;for(var _=0;_<C;_++){var S=y[L+_]*A;if(S==0)continue;
if(S==255){X[E+_]=t[L+_];continue}var W=t[L+_],g=X[E+_],x=W>>>24,V=g>>>24,b=x*S*(1/255),N=V*(255-S)*(1/255),J=W&255,K=W>>>8&255,q=W>>>16&255,d=g&255,l=g>>>8&255,T=g>>>16&255,B=a.B.rm(E+_+Q),p=Math.floor((b+N)*256+.5)+(B>>>0&255)>>>8,I=p==0?0:256/(b+N),w=J*b+d*N,e=K*b+l*N,G=q*b+T*N,j=Math.floor(w*I+.5)+(B>>>8&255)>>>8,o=Math.floor(e*I+.5)+(B>>>16&255)>>>8,r=Math.floor(G*I+.5)+(B>>>24&255)>>>8;
X[E+_]=p<<24|r<<16|o<<8|j}}};a.B.awK=function(s){return Math.floor(s+Math.random())};a.B.On=function(s,M,O,P,y,F,A){var h=1/a.Cs(a.$i(s)),m=M.OK(P).OK(F),Z=Math.max(0,m.x-M.x),u=Math.max(0,m.x-P.x),f=Math.max(0,m.y-M.y),U=Math.max(0,m.y-P.y),C=m.A,H=m.$;
for(var R=0;R<H;R++){var t=(f+R)*M.A+Z,X=(U+R)*P.A+u;for(var Q=0;Q<C;Q++,t++,X++){var D=A*y[t]*h;if(D==0)continue;
if(D==1){O[X]=s[t];continue}O[X]=s[t]*D+O[X]*(1-D)}}};a.akA=function(){function s(F){var A=F*.85;return Math.exp(-(A*A)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function M(F,A){var h=F<A?1:s((F-A)/Math.pow(1.001-A,.86));
return h}var O=[];function P(F){if(O[F])return O[F];var A=Math.pow(F,.55),h=new Float64Array(8e3),m=0,Z=8e3;
for(var R=0;R<8e3;R++){var u=M(R*(1.55/4e3),A);if(u>=1)m=R;else if(u<=0&&Z==8e3)Z=R;h[R]=u}var f=[h,m,Z];
O[F]=f;return f}function y(F,A,h){if(F<4)A=1;var m=1+.55*(1-A),Z=Math.round(h*F*m)+2,u=new gi(0,0,Z,Z),f=a.j(Z*Z),U=[f,u],C=Z/2,H=m/(C-1);
if(F==2)H*=2;if(F==3)H*=1.6;var t=Date.now(),X=P(A),Q=Math.round(8e3/C),D=X[0],L=X[1]-Q,E=X[2]+Q,_=Math.min(Z,Z+1>>>1),S=H*.4*(4e3/1.55),W=a.j(8e3);
for(var R=0;R<8e3;R++){var g=R,x=R,V=~~Math.max(0,g-S-S),b=~~Math.max(0,g-S),N=~~Math.min(7999,g+S),J=~~Math.min(7999,g+S+S),K=~~(.5+255*(1/5)*(D[x]+D[V]+D[b]+D[N]+D[J]));
W[R]=K;if(K==0)break}for(var R=0;R<_;R++){var q=H*(R-C+.5),d=q*q,l=R*Z,T=(Z-1-R)*Z;for(var B=0;B<_;B++){var p=H*(B-C+.5),x=~~(Math.sqrt(p*p+d)*(4e3/1.55));
if(E<x)continue;else if(x<L){var K=255;while(B<_){var I=Z-1-B;f[l+B]=K;f[l+I]=K;f[T+B]=K;f[T+I]=K;B++}break}else{var K=W[x],I=Z-1-B;
f[l+B]=K;f[l+I]=K;f[T+B]=K;f[T+I]=K}}}return U}return{afG:y}}();a.st={};a.st.azJ=function(s,M,O,P,y,F){a.st.UX(s,M,O,P,y,F,null,0)};
a.st.aLt=function(s,M,O,P,y){a.st.UX(s,M,O,P,y,null,null,0)};a.st.a26=function(s,M,O,P,y,F,A,h){a.st.UX(s,M,O,P,y,null,F,A*.5,h)};
a.st.UX=function(s,M,O,P,y,F,A,h,m){var Z=0,w=0,e=1e9,G=0,j=1e9,o=0,r=1e9,k=0,a7=0,V=0,Y=0;if(F){Z=y*.5;
y=3+Math.round((y-3)*.75)}if(A){y=Math.round(y*2.2)}if(m==null)m=Math.floor(Math.random()*16777215);
var u=new a.B.Yp(m*M&16777215),f=1/y,U=Math.floor(M*f)+1,C=Math.floor(O*f)+1,H=[],t=new Uint8Array(U*C*4),X=A?.5:1,Q=F?64:0,D=y>>>1;
for(var L=0;L<C;L++){var E=A?.5*(L&1):0;for(var _=0;_<U;_++){var S=(_+u.get()*X+E)*y,W=(L+u.get()*X)*y;
H.push(S,W);var g=Math.min(M-1,Math.floor(S)),x=Math.min(O-1,Math.floor(W));for(var V=0;V<D;V+=2){var b=Math.max(0,g-V),N=Math.min(M-1,g+V),J=Math.max(0,x-V),K=Math.min(O-1,x+V);
for(var q=J;q<=K;q++)for(var d=b;d<=N;d++){var R=(q*M+d)*4;if(s[R+3]>64){g=d;x=q;d=q=V=1e9}}}var l=(x*M+g)*4,T=(L*U+_)*4;
for(var R=0;R<4;R++)t[T+R]=Math.max(0,Math.min(255,Math.floor(s[l+R]+(u.get()-.5)*Q)))}}var B=F?F:A?A:[0,0,0],p=U*C*2,I=[-U-1,-U,-U+1,-1,0,1,U-1,U,U+1];
for(var L=0;L<O;L++){V=0;for(var _=0;_<M;_++){var b=_+.5,J=L+.5,v=Math.floor(J*f),n=Math.floor(b*f),cm=v*U+n,cg=0,a9=0;
if(V>1+h){e=a.st.a4F(H,w,b,J);k=Math.sqrt(e);V--;Y++}else{e=j=r=1e9;for(var R=0;R<I.length;R++){var a5=(cm+I[R])*2;
if(a5<0||a5>=p)continue;var gP=a.st.a4F(H,a5,b,J);if(gP<r){if(gP<j){if(gP<e){o=G;r=j;G=w;j=e;w=a5;e=gP}else{o=G;
r=j;G=a5;j=gP}}else{o=a5;r=gP}}}k=Math.sqrt(e);a7=Math.sqrt(j);V=a7-(k+a7)*.5}if(A==null){var ew=(k+a7)*.5,h7=F?Math.max(0,ew-Z):0;
cg=Math.max(0,Math.min(1,.5+ew-k-h7));a9=Math.max(0,Math.min(1,1-(.5+ew-k)-h7))}else{var bh=Math.min(a.st.axg(H,w,G,b,J),a.st.axg(H,w,o,b,J));
cg=Math.max(0,Math.min(1,bh-h*.5));if(b<h||M-h<b||J<h||O-h<J)cg=0;a9=0}var ba=1-a9-cg,T=L*M+_<<2,jx=w<<1,c4=G<<1;
P[T+0]=Math.floor(.5+cg*t[jx+0]+a9*t[c4+0]+ba*B[0]);P[T+1]=Math.floor(.5+cg*t[jx+1]+a9*t[c4+1]+ba*B[1]);
P[T+2]=Math.floor(.5+cg*t[jx+2]+a9*t[c4+2]+ba*B[2]);P[T+3]=s[T+3]}}};a.st.a4F=function(s,M,O,P){var y=O-s[M],F=P-s[M+1];
return y*y+F*F};a.st.axg=function(s,M,O,P,y){var F=s[M],A=s[M+1],h=s[O],m=s[O+1],Z=(F+h)*.5,u=(A+m)*.5,f=Z+(m-A),U=u-(h-F),C=U-u,H=f-Z;
return Math.abs(C*P-H*y+f*u-U*Z)/Math.sqrt(H*H+C*C)};a.er=function(){var s=a.j(0);function M(H){if(s.length<H)s=a.j(H);
return s}function O(H,hS){var t=Math.sqrt(12*H*H/hS+1),X=Math.floor(t);if(X%2==0)X--;var Q=X+2,D=(12*H*H-hS*X*X-4*hS*X-3*hS)/(-4*X-4),L=Math.round(D),E=[];
for(var R=0;R<hS;R++)E.push(R<L?X:Q);return E}function P(H,t,X,Q){var D=a.j(t*X,a.$i(H));for(var R=0;
R<4;R++){a.YT(H,D,R);y(D,t,X,Q);a.GS(D,H,R)}}function y(H,t,X,Q){var D=a.$i(H);for(var L=0;L<Q.length;
L++){if(D==8)F(H,t,X,Q[L]-1>>1);if(D==16)A(H,t,X,Q[L]-1>>1);if(D==32)h(H,t,X,Q[L]-1>>1)}}function F(H,t,X,Q){var D=M(t*X);
m(H,D,t,X,Q);f(D,H,t,X,Q)}function A(H,t,X,Q){var D=new Uint16Array(M(t*X*2).buffer);Z(H,D,t,X,Q);U(D,H,t,X,Q)}function h(H,t,X,Q){var D=new Float32Array(M(t*X*4).buffer);
u(H,D,t,X,Q);C(D,H,t,X,Q)}function m(H,t,X,Q,D){var L=1/(D+D+1),E=X-D-D-1;for(var R=0;R<Q;R++){var _=R*X,S=_,W=_+D,g=H[_],x=H[_+X-1],V=(D+1)*g;
for(var b=0;b<D;b++)V+=H[_+b];for(var b=0;b<=D;b++){V+=H[W+b]-g;t[_+b]=V*L}W+=D+1;_+=D+1;for(var b=0;
b<E;b++){V+=H[W+b]-H[S+b];t[_+b]=V*L}W+=E;S+=E;_+=E;for(var b=X-D;b<X;b++){V+=x-H[S++];t[_++]=V*L}}}function Z(H,t,X,Q,D){var L=1/(D+D+1),E=X-D-D-1;
for(var R=0;R<Q;R++){var _=R*X,S=_,W=_+D,g=H[_],x=H[_+X-1],V=(D+1)*g;for(var b=0;b<D;b++)V+=H[_+b];for(var b=0;
b<=D;b++){V+=H[W+b]-g;t[_+b]=V*L}W+=D+1;_+=D+1;for(var b=0;b<E;b++){V+=H[W+b]-H[S+b];t[_+b]=V*L}W+=E;
S+=E;_+=E;for(var b=X-D;b<X;b++){V+=x-H[S++];t[_++]=V*L}}}function u(H,t,X,Q,D){var L=1/(D+D+1),E=X-D-D-1;
for(var R=0;R<Q;R++){var _=R*X,S=_,W=_+D,g=H[_],x=H[_+X-1],V=(D+1)*g;for(var b=0;b<D;b++)V+=H[_+b];for(var b=0;
b<=D;b++){V+=H[W+b]-g;t[_+b]=V*L}W+=D+1;_+=D+1;for(var b=0;b<E;b++){V+=H[W+b]-H[S+b];t[_+b]=V*L}W+=E;
S+=E;_+=E;for(var b=X-D;b<X;b++){V+=x-H[S++];t[_++]=V*L}}}function f(H,t,X,Q,D){var L=1/(D+D+1),E=Q-D-D-1;
for(var R=0;R<X;R++){var _=R,S=_,W=_+D*X,g=H[_],x=H[_+X*(Q-1)],V=(D+1)*g;for(var b=0;b<D;b++)V+=H[_+b*X];
for(var b=0;b<=D;b++){V+=H[W]-g;t[_]=V*L;W+=X;_+=X}for(var b=0;b<E;b++){var N=b*X;V+=H[W+N]-H[S+N];t[_+N]=V*L}S+=E*X;
W+=E*X;_+=E*X;for(var b=Q-D;b<Q;b++){V+=x-H[S];t[_]=V*L;S+=X;_+=X}}}function U(H,t,X,Q,D){var L=1/(D+D+1),E=Q-D-D-1;
for(var R=0;R<X;R++){var _=R,S=_,W=_+D*X,g=H[_],x=H[_+X*(Q-1)],V=(D+1)*g;for(var b=0;b<D;b++)V+=H[_+b*X];
for(var b=0;b<=D;b++){V+=H[W]-g;t[_]=V*L;W+=X;_+=X}for(var b=0;b<E;b++){var N=b*X;V+=H[W+N]-H[S+N];t[_+N]=V*L}S+=E*X;
W+=E*X;_+=E*X;for(var b=Q-D;b<Q;b++){V+=x-H[S];t[_]=V*L;S+=X;_+=X}}}function C(H,t,X,Q,D){var L=1/(D+D+1),E=Q-D-D-1;
for(var R=0;R<X;R++){var _=R,S=_,W=_+D*X,g=H[_],x=H[_+X*(Q-1)],V=(D+1)*g;for(var b=0;b<D;b++)V+=H[_+b*X];
for(var b=0;b<=D;b++){V+=H[W]-g;t[_]=V*L;W+=X;_+=X}for(var b=0;b<E;b++){var N=b*X;V+=H[W+N]-H[S+N];t[_+N]=V*L}S+=E*X;
W+=E*X;_+=E*X;for(var b=Q-D;b<Q;b++){V+=x-H[S];t[_]=V*L;S+=X;_+=X}}}return{SO:function(H,t,X,Q){y(H,t.A,t.$,O(X,Q?Q:3))},aB_:function(H,t,X){P(H,t.A,t.$,O(X,3))},US:function(H,t,X){y(H,t.A,t.$,[Math.round(X)*2+1])},aw_:function(H,t,X){P(H,t.A,t.$,[Math.round(X)*2+1])},adW:function(H,t,X){var Q=t.A,D=t.$;
X=Math.round(X);var L=M(Q*D),E=a.j(Q*D);for(var R=0;R<4;R++){a.YT(H,E,R);m(E,L,Q,D,X);a.GS(L,H,R)}},a7d:O}}();
a.dx=function(){var s=[];function M(B,p,I,w){var e=w.length,G=0,j=0,o=0;for(var R=0;R<e;R++){var r=w[R];
G=Math.max(G,r[2]);j=Math.max(j,r[0],p-r[0]);o=Math.max(o,r[1],I-r[1])}if(e==1){B.fill(255);return}if(e==2){var k=w[0],a7=w[1];
if(k[2]<a7[2]){var Y=k;k=a7;a7=Y}var v=k[0],n=k[1],cm=a7[0]-v,a5=-(a7[1]-n),gP=Math.sqrt(a5*a5+cm*cm),cg=1/gP;
a5/=gP;cm/=gP;var a9=Math.round(255*Math.min(k[2],a7[2])/G),ew=[];for(var R=0;R<1100;R++){var h7=Math.pow(R*.001,.82);
ew[R]=~~(.5+h7*a9+(1-h7)*255)}for(var bh=0;bh<I;bh++)for(var ba=0;ba<p;ba++){var Y=(ba-v)*a5+(bh-n)*cm,jx=v+Y*a5-ba,c4=n+Y*cm-bh,bq=Math.sqrt(jx*jx+c4*c4),di=0;
if(jx*cm-c4*a5>0)di=255;else if(bq>gP)di=a9;else di=ew[~~(.5+1e3*bq*cg)];B[bh*p+ba]=di}return}var il=Math.round((j*j+o*o)*.021),j0=s.length;
if(j0<il)for(var R=j0;R<il;R++)s[R]=1/(1e-6+Math.pow(.02*R,1.57));var j1=260/G;for(var bh=0;bh<I;bh++)for(var ba=0;
ba<p;ba++){var b5=0,b4=0;for(var R=0;R<e;R++){var lm=w[R],a5=ba-lm[0],cm=bh-lm[1],bq=s[~~(.02*(a5*a5+cm*cm))];
b4+=bq*lm[2];b5+=bq}B[bh*p+ba]=Math.min(~~(j1*b4/b5),255)}}var O=[];for(var R=0;R<1100;R++)O[R]=Math.pow(.5-.5*Math.cos(R/1e3*Math.PI),2);
function P(B,p,I,w){var e=y(w),G=1-w[10];for(var j=0;j<I;j++)for(var o=0;o<p;o++){var r=e.cd*o+e.xN*j+e.cj,k=e.X*o+e.zv*j+e.H3,a7=Math.sqrt(r*r+k*k),Y=a7<=G?0:a7>1?1:(a7-G)/(1-G);
B[j*p+o]=~~(.5+B[j*p+o]*O[~~(Y*1e3)])}}function y(B){var p=B[0],I=B[1],w=B[2]-p,e=B[3]-I,G=B[6]-p,j=B[7]-I,o=Math.sqrt(w*w+e*e),r=Math.sqrt(G*G+j*j),k=new kp;
k.scale(o,r);k.rotate(Math.atan2(-e,w));k.translate(p,I);k.or();k.translate(-.5,-.5);k.scale(2,2);return k}var F=[];
for(var R=0;R<1100;R++)F[R]=Math.pow(.5-.5*Math.cos(R/1e3*Math.PI),.8);function A(B,R,p){var I=B[R]-B[p],w=B[R+1]-B[p+1];
return Math.sqrt(I*I+w*w)}function h(B,p,I,w){var e=w[0],G=w[1],j=w[2]-e,o=-(w[3]-G),r=Math.sqrt(o*o+j*j);
o/=r;j/=r;var k=A(w,0,2),a7=A(w,0,4),Y=A(w,0,6),v=A(w,0,8);for(var n=0;n<I;n++)for(var cm=0;cm<p;cm++){var a5=(cm-e)*o+(n-G)*j,gP=e+a5*o-cm,cg=G+a5*j-n,a9=Math.sqrt(gP*gP+cg*cg),ew=0;
if(gP*j-cg*o<0)ew=a9<Y?0:a9>k?1:F[~~(1e3*(a9-Y)/(k-Y))];else ew=a9<v?0:a9>a7?1:F[~~(1e3*(a9-v)/(a7-v))];
B[n*p+cm]=~~(.5+B[n*p+cm]*ew)}}function m(B,p,I){var w=B[0],e=B[1],G=e[0]+e[1]+e[2]+e[3],k=!1;if(G==0)return[a.j(p*I),G];
var j=w[0],o=w[1],r=w[3];if(k)console.log(j,o,r);var a7=Date.now(),Y=a.j(p*I);Y.fill(255);if(e[0]!=0)M(Y,p,I,j);
if(k)console.log(Date.now()-a7,"field done");a7=Date.now();var v=a.j(p*I);v.fill(255);if(e[1]!=0)for(var R=0;
R<o.length;R++)P(v,p,I,o[R]);if(k)console.log(Date.now()-a7,"iris done");a7=Date.now();var n=a.j(p*I);
n.fill(255);if(e[3]!=0)for(var R=0;R<r.length;R++)h(n,p,I,r[R]);if(k)console.log(Date.now()-a7,"tilt done");
a7=Date.now();var cm=e[0]/G,a5=e[1]/G,gP=e[3]/G,cg=Y,a9=p*I;for(var R=0;R<a9;R++){cg[R]=cm*Y[R]+a5*v[R]+gP*n[R]}return[cg,G]}function Z(B,p,I,w,e){var G=Date.now(),j=new Uint32Array(5),o=a.a0V(B,p,I),r=e/255;
for(var k=0;k<I;k++)for(var a7=0;a7<p;a7++){var R=k*p+a7,Y=R<<2,v=w[R]*r,n=~~(v*.948);if(n==0){continue}j[0]=0;
j[1]=0;j[2]=0;j[3]=0;j[4]=0;var cm=~~(v*.612);if(1<=a7-n&&a7+n+1<=p&&1<=k-n&&k+n+1<=I){var a5=a7-n,gP=a7-cm,cg=a7+cm+1,a9=a7+n+1,ew=k-n,h7=k-cm,bh=k+cm+1,ba=k+n+1;
u(o,p,gP,cg,ew,h7,j);u(o,p,a5,a9,h7,bh,j);u(o,p,gP,cg,bh,ba,j)}else{var a5=Math.max(1,a7-n),gP=Math.max(1,a7-cm),cg=Math.min(p,a7+cm+1),a9=Math.min(p,a7+n+1),ew=Math.max(1,k-n),h7=Math.max(1,k-cm),bh=Math.min(I,k+cm+1),ba=Math.min(I,k+n+1);
u(o,p,gP,cg,ew,h7,j);u(o,p,a5,a9,h7,bh,j);u(o,p,gP,cg,bh,ba,j)}if(j[4]!=0){var jx=1/j[4];B[Y]=Math.min(255,~~(j[0]*jx));
B[Y+1]=Math.min(255,~~(j[1]*jx));B[Y+2]=Math.min(255,~~(j[2]*jx));B[Y+3]=Math.min(255,~~(j[3]*jx))}}}function u(B,p,I,w,e,G,j){var o=(w-I)*(G-e);
if(0<o){a.aJ4(B,I-1,w-1,(e-1)*p,(G-1)*p,j);j[4]+=o}}var f="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function U(B){var p=[!1,!1,!1,!1,!1,!1];for(var R=0;R<6;R++){var I="blurb"+f[R]+"EffectApplied";if(B[I]&&B[I].v)p[R]=!0}return p}function C(B,p){for(var R=0;
R<6;R++){var I="blurb"+f[R]+"EffectApplied";B[I]={t:"bool",v:p[R]}}}var H=[];for(var t=0;t<6;t++){var X,Q="blurbWidgetLocationX",D="blurbWidgetLocationY";
if(t==0)X=[Q,D,"blurbGeneralBlurAmount"];if(t==1||t==5){var L="blurb"+(t==1?"IrisBlur":"WheelSpin"),E=L+"Corner",_=L+"Feather";
X=[E+"0x",E+"0y",E+"1x",E+"1y",E+"2x",E+"2y",E+"3x",E+"3y",Q,D,_+"0",_+"1",_+"2",_+"3",t==1?L+"Amount":L+"BlurAmount"]}if(t==3){var L="blurbTiltShift",S=L+"InnerPoint",g=L+"OuterPoint";
X=[L+"CenterX",L+"CenterY",g+"1X",g+"1Y",g+"2X",g+"2Y",S+"1X",S+"1Y",S+"2X",S+"2Y",L+"BlurAmount"]}H.push(X)}function x(B,p){function I(cg,j){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:cg},Vrtc:{t:"doub",v:j}}}}var w=[];
for(var t=0;t<6;t++){var e=B[t],X=H[t];for(var R=0;R<e.length;R++){var G=e[R],j={classID:t==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:t}};
w.push({t:"Objc",v:j});if(t==4){p.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:e[0][4]*100}};var o=j.blurbPathPointList={t:"VlLs",v:[I(G[0],G[1]),I(G[5],G[6])]};
for(var r=0;r<2;r++){var k={classID:"blurbBezierKernel"};j["blurb"+(r==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:k};
var a7=G[r*5],Y=G[r*5+1],v=G[r*5+2],n=G[r*5+3];k.blurbBezierKernelUIControlPoint=I((a7+v)/2,(Y+n)/2);
var cm=v-a7,a5=n-Y,gP=Math.atan2(-(G[6]-G[1]),G[5]-G[0]);k.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-a5,cm)-gP+Math.PI)*180/Math.PI};
k.blurbBezierKernelLocation=I(a7,Y);k.blurbBezierKernelOuterPoint=I(v,n);if(cm==0&&a5==0)k.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var r=0;
r<X.length;r++)j[X[r]]={t:"doub",v:G[r]}}}delete p.blurbWidgetList;p.blurbWidgetList2={t:"VlLs",v:w}}function V(B){var p=B.blurbWidgetList;
if(p==null||p.v.length==0)p=B.blurbWidgetList2;p=p.v;var I=[[],[],[],[],[],[]],w=[0,0,0,0,0,0];for(var R=0;
R<p.length;R++){var e=p[R].v,t=e.blurbWidgetType.v,s=[];I[t].push(s);if(t<4||t==5){var X=H[t];for(var G=0;
G<X.length;G++){s[G]=e[X[G]].v}if(t==5){var j=s[0]-s[4],o=s[1]-s[5],r=Math.sqrt(j*j+o*o),k=s[s.length-1]*r*.005;
w[t]=Math.max(w[t],k)}else w[t]=Math.max(w[t],s[s.length-1])}if(t==4){var a7=B.blurbPathBlurSpeed.v.val/100;
for(var G=0;G<2;G++){var Y=e["blurb"+(G==0?"Start":"End")+"BezierKernel"].v,v=Y.blurbBezierKernelIsNull;
for(var n=0;n<2;n++){var cm=Y["blurbBezierKernel"+(n==0?"Location":"OuterPoint")].v;s.push(cm.Hrzn.v,cm.Vrtc.v)}var a5=s.length-4,gP=s[a5],cg=s[a5+1],j=s[a5+2]-gP,o=s[a5+3]-cg,r=Math.sqrt(j*j+o*o);
if(v&&v.v)r=0;s.push(a7);w[t]=Math.max(w[t],r*a7)}}}return[I,w]}function b(B,p,I){for(var w=0;w<B.length;
w++)p[I+w]=B[w]}function N(B,p){for(var t=0;t<5;t++){var I=B[0][t];for(var R=0;R<I.length;R++){var w=t==0?I[R].slice(0,2):t==4?I[R].slice(0,4).concat(I[R].slice(5,9)):I[R].slice(0,10);
a.b.M(w,p,w);if(t==4){b(w.slice(0,4),I[R],0);b(w.slice(4,8),I[R],5)}else b(w,I[R],0)}}}function J(B,p,I){var w=p.S.A,e=p.S.$,G=w*e,j=V(B),o=U(B);
for(var R=0;R<6;R++)if(!o[R])j[1][R]=0;var r=new kp;r.translate(-p.S.x,-p.S.y);N(j,r);var k=Date.now(),a7=m(j,w,e),Y=a7[0],v=a7[1];
I.buffer.set(p.buffer);var n=a.vI(I.buffer);if(n)a.Zs(I.buffer);if(v!=0)Z(I.buffer,w,e,Y,v);var cm=Math.max(j[1][4],j[1][5]);
if(cm!=0&&ci.Qh){var k=Date.now(),a5=a.j(w*e*4);for(var R=0;R<a5.length;R+=4){a5[R]=127;a5[R+1]=127}if(j[1][4]!=0)q(a5,j,w,e,cm);
if(j[1][5]!=0)K(a5,j,w,e,cm);var gP=cm*.25,cg=new Float32Array([1/w,1/e]),a9=ci.w2(0,w,e);a9.set(I.buffer);
var ew=ci.w2(1,w,e);ew.set(a5);ci.b2(a9,p.S);a9.rL(p.S);ci.filter.Wm({I:ci.filter.a48,iH:ew.U9,Hd:cg,K_:gP,LD:2},a9.KZ);
a9.get(I.buffer)}if(n)a.d7(I.buffer)}function K(B,p,I,w,e){var G=p[0][5];if(G.length==0)return;var j=Date.now();
for(var R=0;R<G.length;R++){var o=G[R],r=y(o),k=r.v();k.or();var a7=1-o[10],Y=o[14]*2.15/e;for(var v=0;
v<w;v++)for(var n=0;n<I;n++){var cm=r.cd*n+r.xN*v+r.cj,a5=r.X*n+r.zv*v+r.H3,gP=cm*cm+a5*a5;if(gP<1){var cg=cm-a5*Y,a9=a5+cm*Y,ew=k.Kw(new j6(cg,a9)),h7=4*(v*I+n),bh=Math.sqrt(gP),ba=bh<a7?0:(bh-a7)/(1-a7);
B[h7]=Math.max(0,Math.min(255,ba*B[h7]+(1-ba)*(127+ew.x-n)));B[h7+1]=Math.max(0,Math.min(255,ba*B[h7+1]+(1-ba)*(127+ew.y-v)))}}}console.log(Date.now()-j)}function q(B,p,I,w,e){var G=p[0][4];
if(G.length==0)return;var j=G[0];for(var R=1;R<G.length;R++)j=j.concat(G[R]);var o=[];for(var R=0;R<j.length;
R+=5){var r=j[R],k=j[R+1],a7=j[R+2]-r,Y=j[R+3]-j[R+1],v=Math.sqrt(a7*a7+Y*Y);if(v!=0){a7/=v;Y/=v}o.push(r,k,a7,Y,v,j[R+4])}j=o;
var n=Math.floor(j.length/6),cm=127/e;for(var k=0;k<w;k++)for(var r=0;r<I;r++){var a5=0,gP=0,cg=0,a9=0;
for(var R=0;R<n;R++){var ew=R*6,h7=j[ew],bh=j[ew+1],a7=r-h7,Y=k-bh,v=1/Math.pow(a7*a7+Y*Y,.5);gP+=v*j[ew+2];
cg+=v*j[ew+3];a9+=v*j[ew+4]*j[ew+5];a5+=v}var ba=Math.sqrt(gP*gP+cg*cg),jx=cm*a9/(ba*a5);B[4*(k*I+r)]=Math.min(gP*jx+127,255);
B[4*(k*I+r)+1]=Math.min(cg*jx+127,255)}}function d(B){var p=B.blurbOpenPanel;if(p)return p.v;else{var I=B.blurbWidgetList2.v;
for(var R=0;R<I.length;R++){var w=I[R].v.blurbWidgetSelected;if(w&&w.v)return I[R].v.blurbWidgetType.v}}return 0}function l(B,p){if(p<4)B.blurbOpenPanel={t:"long",v:p};
else{delete B.blurbOpenPanel;var I=B.blurbWidgetList2.v;for(var R=0;R<I.length;R++){I[R].v.blurbWidgetSelected.v=I[R].v.blurbWidgetType.v==p}}}function T(B,t,p,I){var w=V(B)[0],e=w[t],G;
if(t==0){G=e.length;e.push([p,I,20])}if(t==1||t==5){G=e.length*6+1;var j=100;e.push([p-j,I-j,p+j,I-j,p+j,I+j,p-j,I+j,p,I,.8,.8,.8,.8,20])}if(t==3){G=e.length*5;
e.push([p,I,p,I-50,p,I+50,p,I-20,p,I+20,20])}if(t==4){G=e.length*4+2;e.push([p-100,I,p-50,I,1,p,I,p+50,I,1])}x(w,B);
l(B,t);return G}return{apply:J,qH:V,B1:x,aK5:T,aHL:U,ayr:C,a5U:y,M:N,asU:d,TZ:l}}();a.W$={};a.W$.j=function(s,M,O,P){var y=[];
for(var F=0;F<4;F++)for(var A=0;A<4;A++)y.push(s+O*A/3,M+P*F/3);return y};a.W$.a8l=function(s,M){var O=s.slice(0);
for(var R=0;R<4;R++)for(var P=0;P<4;P++){var y=2*(R*4+P),F=2*(P*4+(3-R));if(M){var A=y;y=F;F=A}O[F]=s[y];
O[F+1]=s[y+1]}return O};a.W$.drawImage=function(s,M,O,P,y,F,A){var h=!1,m=Date.now(),Z=2;if(!P.fl(O))throw"e";
var u=P.v();u.offset(Z,Z);var f=u.v();f.rX(Z,Z);var U=a.$i(M),C=a.j(f.C()*4,U),H=O.v();O.offset(Z,Z);
a.FP(M,O,C,f);if(h)console.log(Date.now()-m,"copy rect");m=Date.now();a.Zs(C);if(h)console.log(Date.now()-m,"multiply alpha");
m=Date.now();var t=f.A-2*Z,X=f.$-2*Z,Q=Math.max(t,X),D=Math.round(50*t/Q),L=Math.round(Math.sqrt(3)*.5*50*X/Q),E=D-.5,_=t+2*Z,S=X+2*Z,W=[],g=[],x=[];
for(var V=0;V<L+1;V++){var b=(V&1)==0;for(var N=0;N<D+1;N++){var J=(N-(b?.5:0))/E,K=V/L;if(N==0)J=0;
if(N==D)J=1;W.push(_*J,S*K);if(N<D&&V<L){var q=V*(D+1)+N,d=q+1,l=q+D+1,T=l+1;if(b)g.push(q,d,l,l,d,T);
else g.push(q,d,T,q,T,l)}var B=a.W$.a7Z(s,J,K);x.push(-B)}}var p=W.slice(0);a.W$.M(s,p,u);a.b.M(p,new kp(1,0,0,1,-F.x,-F.y),p);
if(h)console.log(Date.now()-m,"mesh built");m=Date.now();var I=F.A,w=F.$;a.JJ.hW(C,_,S,y,I,w,W,p,x,g,A);
if(h)console.log(Date.now()-m,"rendered");m=Date.now();a.d7(y);if(h)console.log(Date.now()-m,"divided");
m=Date.now()};a.W$.kS=new Array(10);a.W$.UR=function(s,M){var O=200,P=0,y=0,F=1e9,A=a.W$.kS;for(var h=0;
h<O+1;h++)for(var m=0;m<O+1;m++){var Z=m/O,u=h/O;a.W$.a3X(s,Z,u,A);var f=A[8]-M.x,U=A[9]-M.y,C=f*f+U*U;
if(C<F){F=C;P=Z;y=u}}return[P,y]};a.W$.M=function(s,M,O){var P=O.x,y=O.y,F=1/O.A,A=1/O.$,h=a.W$.kS;for(var m=0;
m<M.length;m+=2){var Z=(M[m]-P)*F,u=(M[m+1]-y)*A;a.W$.a3X(s,Z,u,h);M[m]=h[8];M[m+1]=h[9]}};a.W$.a7Z=function(s,M,O){var P,y,F,A,h=a.W$.kS;
a.W$.aq5(s,M,O,h);P=h[8];y=h[9];a.W$.ae9(s,M,O,h);F=h[8];A=h[9];return P*A-y*F};a.W$.su=function(s,M,O){var P=0,y=0,F=s[2][0],A=s[2][1];
while(P+2<F.length&&F[P+1]<M)P++;M=(M-F[P])/(F[P+1]-F[P]);while(y+2<A.length&&A[y+1]<O)y++;O=(O-A[y])/(A[y+1]-A[y]);
return[P*3,y*3,M,O]};a.W$.a3X=function(s,M,O,P){var y=a.W$.su(s,M,O);a.W$.q5(P,0,y[3]);a.W$.q5(P,4,y[2]);
a.W$.ey(s[3],y[0],y[1],s[0],P)};a.W$.aq5=function(s,M,O,P){var y=a.W$.su(s,M,O);a.W$.q5(P,0,y[3]);a.W$.aqj(P,4,y[2]);
a.W$.ey(s[3],y[0],y[1],s[0],P)};a.W$.ae9=function(s,M,O,P){var y=a.W$.su(s,M,O);a.W$.aqj(P,0,y[3]);a.W$.q5(P,4,y[2]);
a.W$.ey(s[3],y[0],y[1],s[0],P)};a.W$.aqj=function(s,R,M){var O=1-M;s[R]=-3*(O*O);s[R+1]=3*(O*O)-6*(M*O);
s[R+2]=6*(M*O)-3*(M*M);s[R+3]=3*(M*M)};a.W$.q5=function(s,R,M){var O=1-M;s[R]=O*(O*O);s[R+1]=3*M*(O*O);
s[R+2]=3*(M*M)*O;s[R+3]=M*M*M};a.W$.a9u=function(s,M,O,P,y){var F=a.W$.su(s,M,O),A=F[0],h=F[1],m=F[2],Z=F[3],u=s[0],f=Math.floor(m*3),U=Math.floor(Z*3),C=a.W$.kS,H=16,W=0;
a.W$.q5(C,0,Z);a.W$.q5(C,4,m);var t=[],X=[],Q=[];for(var D=0;D<4;D++){for(var L=0;L<4;L++){var R=D*4+L,E=C[D]*C[4+L];
t.push(E);X.push((h+D)*u+A+L);if((D==U||D==U+1)&&(L==f||L==f+1)){var _=m*3-f;if(L==f)_=1-_;var S=Z*3-U;
if(D==U)S=1-S;Q[R]=_*S/E}else Q[R]=0}}for(var R=0;R<H;R++)W+=t[R]*Q[R];for(var R=0;R<H;R++)Q[R]/=W;for(var R=0;
R<H;R++){var E=t[R],g=X[R];s[3][g*2]+=Q[R]*P;s[3][g*2+1]+=Q[R]*y}};a.W$.gV=function(s){var M=s[0],O=s[1],P=s[2],y=s[3],F=y.slice(0);
for(var A=0;A<O;A++)for(var h=0;h<M;h++){y[(h*O+A)*2]=F[(A*M+h)*2];y[(h*O+A)*2+1]=F[(A*M+h)*2+1]}s[0]=O;
s[1]=M;s[2]=[P[1],P[0]]};a.W$.split=function(s,M,O){if(M==1)a.W$.gV(s);var P=s[0],y=s[1],F=s[2][0],A=s[3],h=0;
while(F[h+1]&&F[h+1]<O)h++;var m=(O-F[h])/(F[h+1]-F[h]),Z=1-m;for(var u=0;u<y;u++){var R=(u*(P+3)+h*3)*2,f=Z*A[R]+m*A[R+2],U=Z*A[R+1]+m*A[R+3],C=Z*A[R+2]+m*A[R+4],H=Z*A[R+3]+m*A[R+5],t=Z*A[R+4]+m*A[R+6],X=Z*A[R+5]+m*A[R+7],Q=Z*f+m*C,D=Z*U+m*H,L=Z*C+m*t,E=Z*H+m*X,_=Z*Q+m*L,S=Z*D+m*E;
A.splice(R+2,4,f,U,Q,D,_,S,L,E,t,X)}F.push(O);F.sort();s[0]+=3;if(M==1)a.W$.gV(s)};a.W$.ey=function(s,M,O,P,y){var F=0,A=0,h=0,m=y[0],Z=y[1],u=y[2],f=y[3],U=y[4],C=y[5],H=y[6],t=y[7],R=(O*P+M)*2;
h=m*U;F+=s[R+0]*h;A+=s[R+1]*h;h=m*C;F+=s[R+2]*h;A+=s[R+3]*h;h=m*H;F+=s[R+4]*h;A+=s[R+5]*h;h=m*t;F+=s[R+6]*h;
A+=s[R+7]*h;R+=P+P;h=Z*U;F+=s[R+0]*h;A+=s[R+1]*h;h=Z*C;F+=s[R+2]*h;A+=s[R+3]*h;h=Z*H;F+=s[R+4]*h;A+=s[R+5]*h;
h=Z*t;F+=s[R+6]*h;A+=s[R+7]*h;R+=P+P;h=u*U;F+=s[R+0]*h;A+=s[R+1]*h;h=u*C;F+=s[R+2]*h;A+=s[R+3]*h;h=u*H;
F+=s[R+4]*h;A+=s[R+5]*h;h=u*t;F+=s[R+6]*h;A+=s[R+7]*h;R+=P+P;h=f*U;F+=s[R+0]*h;A+=s[R+1]*h;h=f*C;F+=s[R+2]*h;
A+=s[R+3]*h;h=f*H;F+=s[R+4]*h;A+=s[R+5]*h;h=f*t;F+=s[R+6]*h;A+=s[R+7]*h;R+=P+P;y[8]=F;y[9]=A};a.rS={};
a.rS.a60=function(s,M,O){var P=Date.now();return a.rS.afo(s,M,O)};a.rS.aqA=function(s,M,O,P){var y=O*P,F=new Uint32Array(y),A=new Uint8Array(y),h=new Int16Array(y);
F.fill(4294967295);F[M]=0;var m=new e4(y);m.push(M,F[M]);var Z={$T:s,v1:F,Au:A,r9:h,Yk:m,a6U:M,a9:[-O-1,-O,-O+1,1,O+1,O,O-1,-1]};
return Z};a.rS.Vc=function(s,M){var O=s.$T,P=s.v1,y=s.Au,F=s.r9,A=s.Yk,h=s.a9;while(A.bq!=0&&(M==null||y[M]==0)){var m=A.pop();
if(y[m]==1)continue;y[m]=1;for(var R=0;R<8;R++){var Z=O[8*m+R],u=m+h[R];if(Z==255||y[u]==1)continue;
var f=P[m]+Z;if(f<P[u]){P[u]=f;F[u]=m-u;A.push(u,f)}}}};function e4(s){this.list=[];this.bq=0;this.xP=4294967295}e4.prototype.push=function(s,M){var O=this.list;
if(O[M]==null)O[M]=[];O[M].push(s);this.bq++;this.xP=Math.min(this.xP,M)};e4.prototype.pop=function(){this.bq--;
var s=this.list,M=this.xP,O=s[M].pop();if(s[M].length==0){s[M]=null;if(this.bq==0)this.xP=4294967295;
else{while(s[M]==null)M++;this.xP=M}}return O};a.rS.a1M=function(s,M,O,P){var y=new Int16Array(P);for(var F=0;
F<O;F++)for(var A=0;A<M;A++){var R=F*M+A,h=0;if(1<A&&A<M-2&&1<F&&F<O-2){h+=s[R-M-M];h+=s[R-M-1]+2*s[R-M]+s[R-M+1];
h+=s[R-2]+2*s[R-1]-16*s[R]+2*s[R+1]+s[R+2];h+=s[R+M-1]+2*s[R+M]+s[R+M+1];h+=s[R+M+M]}else h=-16*s[R];
y[R]=h}return y};a.rS.anY=function(s,M,O,P){if(P==null)P=128;var y=new Uint8Array(M*O);for(var F=1;F<O;
F++)for(var A=1;A<M;A++){var R=F*M+A;a.rS.afh(s,R,R-1,y,P);a.rS.afh(s,R,R-M,y,P)}return y};a.rS.afh=function(s,R,M,O,P){var y=s[R],F=s[M];
if(Math.abs(y-F)>P&&y*F<0){if(Math.abs(y)<Math.abs(F))O[R]=1;else O[M]=1}};a.rS.ae$=function(s,M,O,P){var y=new Float32Array(P),F=0;
y.fill(0);for(var A=0;A<O;A++)for(var h=0;h<M;h++){var m=0,Z=0,R=A*M+h,u=R*3;if(0<h&&h<M-1)m=s[R+1]-s[R-1];
if(0<A&&A<O-1)Z=s[R+M]-s[R-M];var f=m*m+Z*Z;if(f!=0){var U=y[u+2]=Math.sqrt(f),C=1/U;y[u]=m*C;y[u+1]=Z*C;
if(U>F)F=U}}var H=3*M*O,t=F==0?0:1/F;for(var R=0;R<H;R+=3)y[R+2]=1-y[R+2]*t;return y};a.rS.afo=function(){function s(h,m,Z){var u=new ArrayBuffer(m*Z*12),f=Date.now(),U=a.rS.a1M(h,m,Z,u),C=a.rS.anY(U,m,Z),H=a.rS.ae$(h,m,Z,u),t=new Uint8Array(m*Z*8);
t.fill(255);var X=[-m-1,-m,-m+1,1];for(var Q=1;Q<Z-1;Q++)for(var D=1;D<m-1;D++){var L=Q*m+D;for(var E=0;
E<4;E++)A(L,L+X[E],E,t,C,H)}return t}var M=new Float64Array(256);for(var R=0;R<256;R++)M[R]=Math.acos(-1+2*R/255)*(.95/Math.PI);
var O=[-1,0,1,1,1,0,-1,-1],P=[-1,-1,-1,0,1,1,1,0];for(var R=0;R<8;R++){var y=1/Math.sqrt(O[R]*O[R]+P[R]*P[R]);
O[R]*=y;P[R]*=y}var F=[O[0],P[0],O[1],P[1],O[2],P[2],O[3],P[3]];function A(h,m,Z,u,f,U){var C=3*h,H=3*m,t=1-f[m],X=1-f[h],Q=(Z&1)==0?1:Math.SQRT1_2,D=U[H+2]*Q,L=U[C+2]*Q,E=U[H+1],_=-U[H],S=U[C+1],W=-U[C],g=F[Z+Z],x=F[Z+Z+1],V=S*g+W*x,b=E*g+_*x;
if(V+b<0){V=-V;b=-b}var N=M[~~((.5+.5*V)*255)]+M[~~((.5+.5*b)*255)];u[(h<<3)+Z]=1+~~(.5+20*(.43*t+.43*N+.14*D));
u[(m<<3)+Z+4]=1+~~(.5+20*(.43*X+.43*N+.14*L))}return s}();a.nG={};a.nG.RN=function(s){var M=s.slice(0),O=0;
for(var R=0;R<s.length;R++)O+=s[R];for(var R=0;R<s.length;R++)M[R]/=O;return M};a.nG.pa=[a.nG.RN([1,2,1,2,16,2,1,2,1]),a.nG.RN([1,2,1,2,4,2,1,2,1]),a.nG.RN([0,-1,0,-1,8,-1,0,-1,0]),a.nG.RN([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
a.nG.rI=function(s,M,O,P,y,F,A){if(A==null)A=!1;var h=Math.floor(Math.sqrt(y.length)),m=h-1>>>1,Z=a.$i(s),u=a.Cs(Z),f=new Uint32Array(s.buffer),U=new Uint8ClampedArray(M.buffer);
for(var R=0;R<P;R++)for(var C=0;C<O;C++){var H=0,t=0,X=0,Q=0;for(var D=0;D<h;D++)for(var L=0;L<h;L++){var E=y[D*h+L];
if(E==0)continue;var _=C-m+L,S=R-m+D;if(_<0)_=0;else if(_>O-1)_=O-1;if(S<0)S=0;else if(S>P-1)S=P-1;if(Z==8){var W=f[S*O+_];
H+=(W&255)*E;t+=(W>>>8&255)*E;X+=(W>>>16&255)*E;Q+=(W>>>24&255)*E}else{var g=S*O+_<<2;H+=s[g]*E;t+=s[g+1]*E;
X+=s[g+2]*E;Q+=s[g+3]*E}}if(A){if(H<0)H=-H;if(t<0)t=-t;if(X<0)X=-X;if(Q<0)Q=-Q}var x=R*O+C<<2;if(Z==8){U[x]=~~(.5+H);
U[x+1]=~~(.5+t);U[x+2]=~~(.5+X);if(F)U[x+3]=~~(.5+Q)}else{M[x]=Math.max(0,Math.min(u,H));M[x+1]=Math.max(0,Math.min(u,t));
M[x+2]=Math.max(0,Math.min(u,X));if(F)M[x+3]=Math.max(0,Math.min(u,Q))}}};a.nG.afM=function(s,M,O,P){var y=s.length,F=new Uint8Array(y);
a.nG.rI(s,M,O,P,a.nG.pa[4],!1,!0);a.nG.rI(s,F,O,P,a.nG.pa[5],!1,!0);for(var R=0;R<y;R+=4){var A=M[R],h=M[R+1],m=M[R+2],Z=M[R+3],u=F[R],f=F[R+1],U=F[R+2],C=F[R+3];
M[R]=255-Math.max(0,Math.min(255,Math.sqrt(A*A+u*u)));M[R+1]=255-Math.max(0,Math.min(255,Math.sqrt(h*h+f*f)));
M[R+2]=255-Math.max(0,Math.min(255,Math.sqrt(m*m+U*U)))}};a.nG.aDp=function(s,M,O,P){var y=s.length,F=new Uint8Array(y);
a.nG.qu(s,M,O,P,a.nG.pa[4],!0);a.nG.qu(s,F,O,P,a.nG.pa[5],!0);for(var R=0;R<y;R++){var A=M[R],h=F[R];
M[R]=255-Math.max(0,Math.min(255,Math.sqrt(A*A+h*h)))}};a.nG.qu=function(s,M,O,P,y,F){M=new Uint8ClampedArray(M.buffer);
var A=[-O-1,-O,-O+1,-1,0,1,O-1,O,O+1],h=P-1,m=O-1;for(var R=1;R<h;R++)for(var Z=1;Z<m;Z++){var u=R*O+Z,f=a.nG.fY(s,u,O,y);
if(F){if(f<0)f=-f}M[u]=~~(f+.5)}};a.nG.fY=function(s,M,O,P){return s[M-O-1]*P[0]+s[M-O]*P[1]+s[M-O+1]*P[2]+s[M-1]*P[3]+s[M]*P[4]+s[M+1]*P[5]+s[M+O-1]*P[6]+s[M+O]*P[7]+s[M+O+1]*P[8]};
a.nG.a4l=function(s,M,O,P,y){var F=[-O-1,-O,-O+1,-1,0,1,O-1,O,O+1],A=P-1,h=O-1;for(var R=1;R<A;R++)for(var m=1;
m<h;m++){var Z=R*O+m;M[Z]=a.nG.a9e(s,Z,O,y)}};a.nG.a9e=function(s,M,O,P){return s[M-O-1]*P[0]+s[M-O]*P[1]+s[M-O+1]*P[2]+s[M-1]*P[3]+s[M]*P[4]+s[M+1]*P[5]+s[M+O-1]*P[6]+s[M+O]*P[7]+s[M+O+1]*P[8]};
a.LG={};a.LG.lp=function(){function s(A,h,m,Z,u,f){if(u==0){h.set(A);return}var U=a.j(m*Z),C=a.j(m*Z);
if(a.vI(A)){M(A,h,m,Z,u,f);a.YT(A,U,3);a.LG.ais(U,C,m,Z,u,f);a.GS(C,h,3)}else{for(var R=0;R<3;R++){a.YT(A,U,R);
a.LG.ais(U,C,m,Z,u,f);a.GS(C,h,R)}}}function M(A,h,m,Z,u,f){var U=0,C=new ArrayBuffer(512*4*3),H=[new Int32Array(C,0),new Int32Array(C,2048),new Int32Array(C,2*2048)],t=1+2*Math.round(Math.sqrt(u)),X=t>>>1,Q=new Array(t),D=new Array(t);
for(var R=0;R<t;R++){var C=new ArrayBuffer(512*4*3);Q[R]=[new Int32Array(C,0),new Int32Array(C,2048),new Int32Array(C,2*2048)];
D[R]=Q[R][0]}var L=[a.LG.Zv,a.LG.gh][f],E=L[0],_=L[1],S=H[0];for(var W=0;W<m;W++)if(W<u||W>m-u-t-1){S.fill(0);
var g=Math.max(W-u,0),x=Math.min(m,W+u+1),V=x-g;for(var N=0;N<u;N++)P(S,A,N*m+g,N*m+x,1);for(var N=0;
N<Z;N++){var J=N-u-1,K=N+u;if(K<Z)P(S,A,K*m+g,K*m+x,1);if(J>=0)P(S,A,J*m+g,J*m+x,-1);var q=N*m+W<<2;
U=S[300];if(U!=0)for(var R=0;R<3;R++)h[q+R]=E(H[R],A[q+R],U)}}else{for(var R=0;R<t;R++)D[R].fill(0);
var g=W-u+X,x=W+u+1+X;for(var N=0;N<u;N++)O(D,A,N*m+g,N*m+x,1,X);for(var N=0;N<Z;N++){var J=N-u-1,K=N+u;
if(J>=0)O(D,A,J*m+g,J*m+x,-1,X);if(K<Z)O(D,A,K*m+g,K*m+x,1,X);var d=Q[X];U=d[0][300];for(var R=0;R<X;
R++){var l=X-1-R,T=X+1+R,B=Q[l],p=Q[T],I=U+B[0][300],w=U+p[0][300],e=N*m+W+l<<2,G=N*m+W+T<<2;if(I!=0)for(var j=0;
j<3;j++)h[e+j]=_(d[j],B[j],A[e+j],I);if(w!=0)for(var j=0;j<3;j++)h[G+j]=_(d[j],p[j],A[G+j],w)}var q=N*m+W+X<<2;
if(U!=0)for(var j=0;j<3;j++)h[q+j]=E(d[j],A[q+j],U)}W+=t-1}}function O(A,h,m,Z,u,f){var U=y,C=m<<2,H=Z<<2;
U(A[f-1],h,m-1<<2,u);U(A[f-1],h,Z-1<<2,-u);U(A[f+1],h,Z<<2,u);U(A[f+1],h,m<<2,-u);for(var R=1;R<f;R++){var t=A[f-R-1],X=A[f+R+1];
for(var Q=0;Q<=R;Q++){var D=Q<<2;U(t,h,m-1-Q<<2,u);U(t,h,Z-1-Q<<2,-u);U(X,h,Z+Q<<2,u);U(X,h,m+Q<<2,-u)}}P(A[f],h,m,Z,u)}function P(A,h,R,m,Z){var u=R<<2,f=m<<2;
while(u<f){y(A,h,u,Z);u+=4}}function y(A,h,m,Z){var u=Z*h[m+3];A[300]+=u;F(A,h[m],0,u);F(A,h[m+1],512,u);
F(A,h[m+2],1024,u)}function F(A,h,m,Z){A[m|h]+=Z;A[m|256|h>>>4]+=Z}return s}();a.LG.ais=function(){function s(f,U,C,H,t,X){if(t==0){U.set(f);
return}if(t<=200)M(f,U,C,H,t,X);else F(f,U,C,H,t,X)}function M(f,U,C,H,t,X){var Q=0,D=new Int32Array(512),L=1+2*Math.round(Math.sqrt(t)),E=L>>>1,_=new Array(L);
for(var R=0;R<L;R++)_[R]=new Int32Array(512);var S=[a.LG.Zv,a.LG.gh][X],W=S[0],g=S[1];for(var x=0;x<C;
x++)if(x<t||x>C-t-L-1){D.fill(0);Q=0;var V=Math.max(x-t,0),N=Math.min(C,x+t+1),J=N-V;for(var K=0;K<t;
K++){Q+=J;P(D,f,K*C+V,K*C+N,1)}for(var K=0;K<H;K++){var q=K-t-1,d=K+t;if(q>=0){Q-=J;P(D,f,q*C+V,q*C+N,-1)}if(d<H){Q+=J;
P(D,f,d*C+V,d*C+N,1)}var l=W(D,f[K*C+x],Q);U[K*C+x]=l}}else{for(var R=0;R<L;R++)_[R].fill(0);Q=0;var V=x-t+E,N=x+t+1+E,J=N-V;
for(var K=0;K<t;K++){Q+=J;O(_,f,K*C+V,K*C+N,1,E)}for(var K=0;K<H;K++){var q=K-t-1,d=K+t;if(q>=0){Q-=J;
O(_,f,q*C+V,q*C+N,-1,E)}if(d<H){Q+=J;O(_,f,d*C+V,d*C+N,1,E)}for(var R=0;R<E;R++){var T=E-1-R,B=E+1+R;
U[K*C+x+T]=g(_[E],_[T],f[K*C+x+T],Q);U[K*C+x+B]=g(_[E],_[B],f[K*C+x+B],Q)}U[K*C+x+E]=W(_[E],f[K*C+x+E],Q)}x+=L-1}}function O(f,U,C,H,t,X){var Q=y;
Q(f[X-1],U[C-1],0,t);Q(f[X-1],U[H-1],0,-t);Q(f[X+1],U[H],0,t);Q(f[X+1],U[C],0,-t);for(var R=1;R<X;R++){var D=f[X-R-1],L=f[X+R+1];
for(var E=0;E<=R;E++){Q(D,U[C-1-E],0,t);Q(D,U[H-1-E],0,-t);Q(L,U[H+E],0,t);Q(L,U[C+E],0,-t)}}P(f[X],U,C,H,t)}function P(f,U,R,C,H){while(R<C)y(f,U[R++],0,H)}function y(f,U,C,H){f[C|U]+=H;
f[C|256|U>>>4]+=H}function F(f,U,C,H,t,X){var Q=0,D=new Int32Array(512),L=new Int32Array(1*C),E=new Int32Array(512*C),_=Math.min(t,C),S=Math.min(t,H),W=[a.LG.Zv,a.LG.gh][X],g=W[0];
for(var x=0;x<S;x++)A(E,L,f,C,x,1);for(var x=0;x<H;x++){if(x+t<H)A(E,L,f,C,x+t,1);if(x-t-1>=0)A(E,L,f,C,x-t-1,-1);
D.fill(0);Q=0;for(var V=0;V<_;V++){Q+=L[V];h(D,E,V)}for(var V=0;V<C;V++){var N=V-t-1,J=V+t;if(N>=0&&L[N]!=0){Q-=L[N];
m(D,E,N)}if(J<C&&L[J]!=0){Q+=L[J];h(D,E,J)}var K=Q==0?0:g(D,f[x*C+V],Q);U[x*C+V]=K}}}function A(f,U,C,H,t,X){var R=t*H;
for(var Q=0;Q<H;Q++){y(f,C[R+Q],Q<<9,X);U[Q]+=X}}function h(f,U,C){for(var R=0;R<16;R++){var H=U[C<<9|256|R];
if(H==0)continue;f[256|R]+=H;var t=R<<4,X=C<<9|t;Z(f,U,t,X);Z(f,U,t+4,X+4);Z(f,U,t+8,X+8);Z(f,U,t+12,X+12)}}function m(f,U,C){for(var R=0;
R<16;R++){var H=U[C<<9|256|R];if(H==0)continue;f[256|R]-=H;var t=R<<4,X=C<<9|t;u(f,U,t,X);u(f,U,t+4,X+4);
u(f,U,t+8,X+8);u(f,U,t+12,X+12)}}function Z(f,U,C,H){f[C]+=U[H];f[C+1]+=U[H+1];f[C+2]+=U[H+2];f[C+3]+=U[H+3]}function u(f,U,C,H){f[C]-=U[H];
f[C+1]-=U[H+1];f[C+2]-=U[H+2];f[C+3]-=U[H+3]}return s}();a.LG.hh=.5;a.LG.Zv=[function(s,M,O){var P=~~(.5+a.LG.hh*O),y=0,R=256;
while(y+s[R]<P)y+=s[R++];R=R-256<<4;while(y<P)y+=s[R++];return R-1},function(s,M,O,P){var y=~~(.5+a.LG.hh*P),F=0,R=256;
while(F+s[R]+M[R]<y){F+=s[R]+M[R];R++}R=R-256<<4;while(F<y){F+=s[R]+M[R];R++}return R-1}];a.LG.eO=100;
a.LG.gh=[function(s,M,O){var P=a.LG.eO,y=0,F=0,R=Math.max(0,M-P),A=Math.min(256,M+P+1);while(R<A){var h=s[R];
y+=R*h;F+=h;R++}return F==0?0:y/F},function(s,M,O,P){var y=a.LG.eO,F=0,A=0,R=Math.max(0,O-y),h=Math.min(256,O+y+1);
while(R<h){var m=s[R]+M[R];F+=R*m;A+=m;R++}return A==0?0:F/A}];a.F={};a.F.fu=function(s){var M=$.TR.NI(s.Trnf),O=new gi(0,0,1e3,1e3);
if(s.Sz){var P=s.Sz.v;O=new gi(0,0,P.Wdth.v,P.Hght.v)}var y=a.F.da(M,O);return a.F.to(y)};a.F.da=function(s,M){var O=s[0],P=s[1],y=s[2],F=s[3],A=s[6],h=s[7],m=s[4],Z=s[5],u=0,f=0,U=1,C=0,H=0,t=1,X=1,Q=1;
if(M){u=M.x;f=M.y;U=M.x+M.A;C=M.y;H=M.x;t=M.y+M.$;X=M.x+M.A;Q=M.y+M.$}return a.F.aFG(s,[u,f,U,C,X,Q,H,t])};
a.F.a7p=function(s){function M(y,F){for(var R=0;R<F.length;R+=2)if(!O(y,F[R],F[R+1]))return!1;return!0}function O(y,F,A){return y[2*F]==y[2*A]&&y[2*F+1]==y[2*A+1]}var P=0;
if(M(s,[0,1,2,3]))P+=1;if(M(s,[0,3,1,2]))P+=2;return P};a.F.aFG=function(s,M){function O(d,R,l){var J=d[R*2]-d[l*2],K=d[R*2+1]-d[l*2+1];
return Math.sqrt(J*J+K*K)}var P=s[0],y=s[1],F=s[2],A=s[3],h=s[6],m=s[7],Z=s[4],u=s[5],f=M[0],U=M[1],C=M[2],H=M[3],t=M[6],X=M[7],Q=M[4],D=M[5],L=[[f,U,1,0,0,0,-f*P,-U*P,P],[0,0,0,f,U,1,-f*y,-U*y,y],[C,H,1,0,0,0,-C*F,-H*F,F],[0,0,0,C,H,1,-C*A,-H*A,A],[t,X,1,0,0,0,-t*h,-X*h,h],[0,0,0,t,X,1,-t*m,-X*m,m],[Q,D,1,0,0,0,-Q*Z,-D*Z,Z],[0,0,0,Q,D,1,-Q*u,-D*u,u]],E=[0,0,0,0,0,0,0,0],_=a.pO.hB(L,E);
if(_!=0){E=[0,0,0,0,0,0,0,0];var S=a.F.a7p(s),W=a.F.a7p(M);if(S==W&&S!=0){var g=S==1,x=g?3:1,V=O(s,0,x),b=O(M,0,x),N=b/V,J=s[2*x]-s[0],K=s[2*x+1]-s[1],q=new kp;
q.translate(-P,-y);q.rotate(Math.atan2(K,J)-(g?Math.PI/2:0));if(g)q.scale(1,N);else q.scale(N,1);q.translate(f,U);
q.or();E=a.F.y1(q)}}return E};a.F.j=function(s,M){if(s==null)s=M=0;return[1,0,s,0,1,M,0,0]};a.F.w1=function(s){return Math.abs(s[6])<1e-18&&Math.abs(s[7])<1e-18};
a.F.to=function(s){return new kp(s[0],s[3],s[1],s[4],s[2],s[5])};a.F.y1=function(s){return[s.cd,s.xN,s.cj,s.X,s.zv,s.H3,0,0]};
a.F.M=function(s,M){var O=new Float64Array(2);for(var P=0;P<M.length;P+=2){var y=M[P],F=M[P+1];a.F.mk(y,F,s,O);
M[P]=O[0];M[P+1]=O[1]}};a.F.mk=function(s,M,O,P){var y=1/(O[6]*s+O[7]*M+1);P[0]=(O[0]*s+O[1]*M+O[2])*y;
P[1]=(O[3]*s+O[4]*M+O[5])*y};a.F.a2e=function(s,M){var O=new Float64Array(2);a.F.mk(M.x,M.y,s,O);return new j6(O[0],O[1])};
a.F.gV=function(s,M,O,P){s=new Uint32Array(s.buffer);M=new Uint32Array(M.buffer);for(var y=0;y<P;y++){for(var F=0;
F<O;F++){M[F*P+y]=s[y*O+F]}}};a.F.br=function(s,M,O,P){s=new Uint32Array(s.buffer);M=new Uint32Array(M.buffer);
for(var y=0;y<P;y++){for(var F=0;F<O;F++){M[y*O+F]=s[y*O+O-1-F]}}};a.F.a9T=function(s,M,O,P){s=new Uint32Array(s.buffer);
M=new Uint32Array(M.buffer);for(var y=0;y<P;y++){for(var F=0;F<O;F++){M[y*O+F]=s[(P-1-y)*O+F]}}};a.F.apG=function(s){return Math.abs(s[6])<1e-9&&Math.abs(s[7])<1e-9};
a.F.ap3=function(s){return Math.abs(s[0])<1e-9&&Math.abs(s[4])<1e-9||Math.abs(s[1])<1e-9&&Math.abs(s[3])<1e-9};
a.F.drawImage=function(s,M,O,P,y,F,A,h){if(A==null)A=!1;var m=a.F.or(s),Z=!0,u=0;for(var R=0;R<8;R++){var f=Math.round(s[R]);
if(R!=2&&R!=5)u+=Math.abs(f);if(Math.abs(f-s[R])>1e-9)Z=!1}var U=a.F.apG(s),C=a.F.ap3(s)&&U,H=C?1:0;
if(a.$i(M)!=8){a.F.a0L(m,M,O,P,y,F,U,A||h);return}if(A||Z&&u==O+P&&U){a.F.asu(m,M,O,P,y,F,U,h);return}var t=F.A,X=F.$,Q=new Float64Array(2);
y=new Uint32Array(y.buffer);M=new Uint32Array(M.buffer);for(var D=0;D<X;D++)for(var L=0;L<t;L++){var E=D*t+L,_,S,W,g,B=0,p=0,I=0,w=0;
y[E]=0;var x=L+F.x+.5,V=D+F.y+.5;_=x;S=V;W=m;var b=W[0]*_+W[1]*S+W[2],N=W[3]*_+W[4]*S+W[5];if(!U){g=1/(W[6]*_+W[7]*S+1);
b*=g;N*=g}var J=b*O,K=N*P,q=J<-1||J>O+1||K<-1||K>P+1;if(q)continue;var d=a.F.a7z(s,O,P,x,V,b,N),l=Math.round(d*2.3);
if(d<1.1){a.F.RF(J,K,M,O,P,y,E,H);continue}if(J<.6||J>O-.6||K<.6||K>P-.6){l=Math.max(l,5)}var T=1/l,e=F.x+L,G=F.y+D;
W=m;for(var R=0;R<l;R++)for(var j=0;j<l;j++){_=e+(R+.5)*T;S=G+(j+.5)*T;var J=W[0]*_+W[1]*S+W[2],K=W[3]*_+W[4]*S+W[5];
if(!U){g=1/(W[6]*_+W[7]*S+1);J*=g;K*=g}if(J<0||J>=1||K<0||K>=1)continue;J=Math.floor(J*O);K=Math.floor(K*P);
var o=K*O+J,r=M[o],k=r>>>24;B+=(r&255)*k;p+=(r>>>8&255)*k;I+=(r>>>16&255)*k;w+=k}if(w!=0){var a7=1/w;
B=~~(B*a7+.5);p=~~(p*a7+.5);I=~~(I*a7+.5);w=~~(w*T*T+.5);y[E]=w<<24|I<<16|p<<8|B}}};a.F.a0L=function(s,M,O,P,y,F,A,h){var m=F.A,Z=F.$,u=new kp;
u.scale(O,P);u.translate(1,1);var f=a.F.u2(a.F.y1(u),s),U=new gi(0,0,O,P),C=U.v();C.rX(1,1);var H=a.j(C.C()*4,a.$i(M));
a.FP(M,U,H,C);O=C.A;P=C.$;var t=F.x+.5,X=F.y+.5;a.Zs(H);for(var Q=0;Q<Z;Q++)for(var D=0;D<m;D++){var L=Q*m+D<<2,E=D+t,_=Q+X,S=f[0]*E+f[1]*_+f[2],W=f[3]*E+f[4]*_+f[5];
if(!A){var g=1/(f[6]*E+f[7]*_+1);S*=g;W*=g}if(S<.5||S>O-.5||W<.5||W>P-.5){y[L]=0;y[L+1]=0;y[L+2]=0;y[L+3]=0}else if(h){var x=~~W*O+~~S<<2;
y[L]=H[x];y[L+1]=H[x+1];y[L+2]=H[x+2];y[L+3]=H[x+3]}else a.F.aAY(S,W,H,O,y,L)}a.d7(y)};a.F.a7z=function(s,M,O,P,y,F,A){var h=a.F.alb(s,P,y,F+1/M,A),m=a.F.alb(s,P,y,F,A+1/O);
return 1/Math.sqrt(Math.max(h,m))};a.F.alb=function(s,M,O,P,y){var F=1/(s[6]*P+s[7]*y+1),A=(s[0]*P+s[1]*y+s[2])*F-M,h=(s[3]*P+s[4]*y+s[5])*F-O;
return A*A+h*h};a.F.asu=function(s,M,O,P,y,F,A,h){if(A&&F.C()>4e6&&h){a.F.aco(s,M,O,P,y,F,A,h);return}var m=F.x+F.A,Z=F.y+F.$,u=0,f=new Uint32Array(y.buffer),U=new Uint32Array(M.buffer),C=s[0]*O,H=s[1]*O,t=s[2]*O,X=s[3]*P,Q=s[4]*P,D=s[5]*P,L=s[6],E=s[7];
if(A)for(var _=F.y+.5;_<Z;_++)for(var S=F.x+.5;S<m;S++){var W=C*S+H*_+t,g=X*S+Q*_+D;if(0<W&&W<O&&0<g&&g<P){var x=~~g*O+~~W;
f[u]=U[x]}else f[u]=0;u++}else for(var _=F.y+.5;_<Z;_++)for(var S=F.x+.5;S<m;S++){var V=1/(L*S+E*_+1),W=(C*S+H*_+t)*V,g=(X*S+Q*_+D)*V;
if(0<W&&W<O&&0<g&&g<P){var x=Math.floor(g)*O+Math.floor(W);f[u]=U[x]}else f[u]=0;u++}};a.F.aco=function(s,M,O,P,y,F,A,h){var m=new Uint32Array(y.buffer),Z=new Uint32Array(M.buffer),E=0;
if(h&&(F.A&3)!=0)throw"e";var u=s[0]*O,f=s[1]*O,U=s[2]*O,C=s[3]*P,H=s[4]*P,t=s[5]*P,X=s[6],Q=s[7],D=F.A,L=F.$,_=F.x+.5,S=F.y+.5,W=(D>>>2<<2)-1e-9,g=-.1+(L>>>1<<1)-1e-9,x=~~O,V=u==0?0:1/u,b=C==0?0:1/C;
for(var N=0;N<L;N++){var J=_*u+f*(N+S)+U,K=_*C+H*(N+S)+t,q=0,d=D;if(u==0){}else if(V>0){q=Math.max(q,-J*V);
d=Math.min(d,(O-J)*V)}else{d=Math.min(d,-J*V);q=Math.max(q,(O-J)*V)}if(C==0){}else if(b>0){q=Math.max(q,-K*b);
d=Math.min(d,(P-K)*b)}else{d=Math.min(d,-K*b);q=Math.max(q,(P-K)*b)}if(d<0)d=0;if(q>d)q=d;q=~~Math.ceil(q);
d=~~d;E=~~(N*D);m.fill(0,E,E+q);E+=q;for(var l=q;l<d;l+=4){var T=u*l+J,B=C*l+K,p=~~B*x+~~T,I=Z[p];m[E]=I;
m[E+1]=I;m[E+2]=I;m[E+3]=I;E+=4}m.fill(0,E,E+D-d)}};a.F.or=function(s){var M=s[4]-s[5]*s[7],O=s[2]*s[7]-s[1],P=s[1]*s[5]-s[2]*s[4],y=s[5]*s[6]-s[3],F=s[0]-s[2]*s[6],A=s[3]*s[2]-s[0]*s[5],h=s[3]*s[7]-s[4]*s[6],m=s[1]*s[6]-s[0]*s[7],Z=1/(s[0]*s[4]-s[1]*s[3]);
return[M*Z,O*Z,P*Z,y*Z,F*Z,A*Z,h*Z,m*Z]};a.F.u2=function(s,M){var O=s[0],P=s[1],y=s[2],F=s[3],A=s[4],h=s[5],m=s[6],Z=s[7],f=M[0],U=M[1],C=M[2],H=M[3],t=M[4],X=M[5],Q=M[6],D=M[7],L=[O*f+P*H+y*Q,O*U+P*t+y*D,O*C+P*X+y,F*f+A*H+h*Q,F*U+A*t+h*D,F*C+A*X+h,m*f+Z*H+Q,m*U+Z*t+D],E=1/(m*C+Z*X+1);
for(var R=0;R<8;R++)L[R]*=E;return L};a.F.RF=function(s,M,O,P,y,F,A,h){var m=s,Z=M,U=0,C=0,H=0,t=0;s-=.499999;
M-=.499999;var u=Math.floor(s),f=Math.floor(M);if(h==0){var R=f*P+u,X=u>=0&&u<P,Q=u+1>=0&&u+1<P,D=f>=0&&f<y,L=f+1>=0&&f+1<y;
if(X&&D)U=O[R];if(Q&&D)C=O[R+1];if(X&&L)H=O[R+P];if(Q&&L)t=O[R+P+1]}else if(h==1){var E=u<0?0:u>P-1?P-1:u,_=u<-1?0:u>P-2?P-1:u+1,S=f<0?0:f>y-1?y-1:f,W=f<-1?0:f>y-2?y-1:f+1;
U=O[S*P+E];C=O[S*P+_];H=O[W*P+E];t=O[W*P+_]}else{var E=(u+50*P)%P,_=(u+50*P+1)%P,S=(f+50*y)%y,W=(f+50*y+1)%y;
U=O[S*P+E];C=O[S*P+_];H=O[W*P+E];t=O[W*P+_]}var g=s-u,x=M-f,V=(1-x)*(1-g)*(U>>>24),b=(1-x)*g*(C>>>24),N=x*(1-g)*(H>>>24),J=x*g*(t>>>24),K=V+b+N+J,q=V*(U&255)+b*(C&255)+N*(H&255)+J*(t&255),d=V*(U>>>8&255)+b*(C>>>8&255)+N*(H>>>8&255)+J*(t>>>8&255),l=V*(U>>>16&255)+b*(C>>>16&255)+N*(H>>>16&255)+J*(t>>>16&255);
if(K==0)F[A]=0;else{var T=1/K;q=~~(q*T+.5);d=~~(d*T+.5);l=~~(l*T+.5);K=~~(K+.5);F[A]=K<<24|l<<16|d<<8|q}};
a.F.aAY=function(s,M,O,P,y,F){var A=s-.499999,h=M-.499999,m=~~A,Z=~~h,u=A-m,f=h-Z,U=(1-f)*(1-u),C=(1-f)*u,H=f*(1-u),t=f*u,X=Z*P+m<<2,Q=(Z+1)*P+m<<2;
y[F]=U*O[X]+C*O[X+4]+H*O[Q]+t*O[Q+4];y[F+1]=U*O[X+1]+C*O[X+5]+H*O[Q+1]+t*O[Q+5];y[F+2]=U*O[X+2]+C*O[X+6]+H*O[Q+2]+t*O[Q+6];
y[F+3]=U*O[X+3]+C*O[X+7]+H*O[Q+3]+t*O[Q+7]};a.F.arU=function(s,M,O,P,y,F){var A=s-.499999,h=M-.499999,m=~~A,Z=~~h,u=A-m,f=h-Z,U=(1-f)*(1-u),C=(1-f)*u,H=f*(1-u),t=f*u,X=Z*P+m<<2,Q=(Z+1)*P+m<<2,D=U*O[X]+C*O[X+4]+H*O[Q]+t*O[Q+4],L=U*O[X+1]+C*O[X+5]+H*O[Q+1]+t*O[Q+5],E=U*O[X+2]+C*O[X+6]+H*O[Q+2]+t*O[Q+6],_=U*O[X+3]+C*O[X+7]+H*O[Q+3]+t*O[Q+7];
F[0]=D;F[1]=L;F[2]=E;F[3]=_};a.F.$A=function(s,M,O,P,y){s-=.499999;M-=.499999;var F=Math.floor(s),A=Math.floor(M),h=s-F,m=M-A,Z=(1-m)*(1-h),u=(1-m)*h,f=m*(1-h),U=m*h,C=(F+50*P)%P,H=(F+1+50*P)%P,t=(A+50*y)%y,X=(A+1+50*y)%y,Q=O[t*P+C],D=O[t*P+H],L=O[X*P+C],E=O[X*P+H];
return Z*Q+u*D+f*L+U*E};a.F.aLm=function(s,M,O,P,y){s-=.499999;M-=.499999;var F=Math.floor(s),A=Math.floor(M),h=s-F,m=M-A,Z=(1-m)*(1-h),u=(1-m)*h,f=m*(1-h),U=m*h,C=A*P+F,H=C+P;
return Z*O[C]+u*O[C+1]+f*O[H]+U*O[H+1]};a.F.adq=function(s,M,O,P,y){s-=.499999;M-=.499999;var F=Math.floor(s),A=Math.floor(M),h=s-F,m=M-A,Z=(1-m)*(1-h),u=(1-m)*h,f=m*(1-h),U=m*h,C=A*P+F,H=C+P;
return Z*O[C]+u*O[C+1]+f*O[H]+U*O[H+1]};a.F.aC7=function(s,M,O,P,y){s-=.499999;M-=.499999;var F=Math.floor(s),A=Math.floor(M),h=s-F,m=M-A,Z=(1-m)*(1-h),u=(1-m)*h,f=m*(1-h),U=m*h,C=A*P+F,H=C+P;
return Z*O[C]+u*O[C+1]+f*O[H]+U*O[H+1]};a.F.aq_=function(s,M,O,P,y,F,A,h,m,Z,u,f){var U=new Uint32Array(s.buffer),C=new Uint32Array(P.buffer),H=(1+2*Z)/y,t=[],X=[];
for(var Q=0;Q<y;Q++){var D=-.25+Z-Q*H;t.push(Math.cos(2*Math.PI*D)*f/u);t.push(Math.sin(2*Math.PI*D)/u)}A*=M;
h*=O;for(var L=0;L<F;L++){var E=Math.pow(L/F,m)*F;for(var Q=0;Q<y;Q++){var _=A+t[Q<<1]*E,S=h+t[(Q<<1)+1]*E,W=~~(.5+(_<0?0:_>M-1?M-1:_)),g=~~(.5+(S<0?0:S>O-1?O-1:S));
C[L*y+Q]=U[g*M+W]}}};a.F.aBQ=function(s,M,O,P,y,F,A,h,m,Z,u,f){var U=new Uint32Array(s.buffer),C=new Uint32Array(P.buffer),H=1/f,t=[],X=O*4,Q=1/X;
for(var D=0;D<X+10;D++)t.push(Math.pow(D*Q,1/m)*O*u);A*=y;h*=F;for(var D=0;D<F;D++)for(var L=0;L<y;L++){var E=H*(L-A),_=D-h,S=1.75-Math.atan2(_,E)*(1/(2*Math.PI));
S=S-~~S;S=(S+Z)*(1/(1+2*Z));var W=Math.sqrt(E*E+_*_);W=t[~~(W*4)];a.F.RF(S*M+.5,W+.5,U,M,O,C,D*y+L,1)}};
a.F.UL=function(s,M,O,P,y){var F=y[0],A=y[1];for(var h=0;h<A;h++)for(var m=0;m<F;m++){var Z=y[2]*m+y[3]*h+y[4],u=y[5]*m+y[6]*h+y[7],f=h*F+m<<2,U=u*M+Z<<2;
P[f]=s[U+0];P[f+1]=s[U+1];P[f+2]=s[U+2];P[f+3]=s[U+3]}};a.wv=function(){function s(E,_){var S=~~(.499+E*_);
return S<0?0:(S>_?_:S)<<2}function M(E,_,S,W,g,x,V,b){var N=S[0],J=S[1],K=S[2],q=S[3],d=W.A,l=W.$,T=new Uint32Array(1),B=new Uint8Array(T.buffer),p=Math.round(Math.random()*W.C()*100);
for(var I=0,R=0;I<l;I++){for(var w=0;w<d;w++,R++){var e=w+g,G=I+x,j=N*e+J*G,o=K*e+q*G,r=0;if(b==0)r=j+.5;
else if(b==1)r=2*Math.sqrt(j*j+o*o);else if(b==2)r=(Math.PI+Math.atan2(-o,-j))/(2*Math.PI);else if(b==3)r=Math.abs(j*2);
else if(b==4)r=2*(Math.abs(j)+Math.abs(o));var k=s(r,V),a7=w*4;T[0]=a.B.rm(R+p);for(var Y=0;Y<4;Y++){var v=_[k+Y]*255,n=Math.floor(v);
if(B[Y]<(v-n)*255)n++;E[(R<<2)+Y]=n}}}}function O(E,R,_,S,W){var g=R<<2;E[g]=_[S]*W;E[g+1]=_[S+1]*W;
E[g+2]=_[S+2]*W;E[g+3]=_[S+3]*W}var P=[function(E,_,S,W,g,x,V,b){var N=S[0],J=S[1],K=S[2],q=S[3],d=W.A,l=W.$;
for(var T=0,R=0;T<l;T++)for(var B=0;B<d;B++,R++){var p=B+g,I=T+x,w=N*p+J*I,e=K*p+q*I,G=w+.5;O(E,R,_,s(G,V),b)}},function(E,_,S,W,g,x,V,b){var N=S[0],J=S[1],K=S[2],q=S[3],d=W.A,l=W.$;
for(var T=0,R=0;T<l;T++)for(var B=0;B<d;B++,R++){var p=B+g,I=T+x,w=N*p+J*I,e=K*p+q*I,G=2*Math.sqrt(w*w+e*e);
O(E,R,_,s(G,V),b)}},function(E,_,S,W,g,x,V,b){var N=S[0],J=S[1],K=S[2],q=S[3],d=W.A,l=W.$;for(var T=0,R=0;
T<l;T++)for(var B=0;B<d;B++,R++){var p=B+g,I=T+x,w=N*p+J*I,e=K*p+q*I,G=(Math.PI+Math.atan2(-e,-w))/(2*Math.PI);
O(E,R,_,s(G,V),b)}},function(E,_,S,W,g,x,V,b){var N=S[0],J=S[1],K=S[2],q=S[3],d=W.A,l=W.$;for(var T=0,R=0;
T<l;T++)for(var B=0;B<d;B++,R++){var p=B+g,I=T+x,w=N*p+J*I,e=K*p+q*I,G=Math.abs(w*2);O(E,R,_,s(G,V),b)}},function(E,_,S,W,g,x,V,b){var N=S[0],J=S[1],K=S[2],q=S[3],d=W.A,l=W.$;
for(var T=0,R=0;T<l;T++)for(var B=0;B<d;B++,R++){var p=B+g,I=T+x,w=N*p+J*I,e=K*p+q*I,G=2*(Math.abs(w)+Math.abs(e));
O(E,R,_,s(G,V),b)}}];function y(E,_,S,W,g,x,V,b,N,J,K,q,d){var l=1023,T=h(E,l+1,V,N,J,d),B=a.$i(_),p=a.Cs(B);
if(B==8&&q&&E.Clrs){M(_,T,W,S,S.x-g,S.y-x,l,b)}else if(b<5){P[b](_,T,W,S,S.x-g,S.y-x,l,p)}else{var I=a.Gp(T,B),w=S.A,e=S.$,G=K.aH,j=K.Yy,o=G-j,r=1/o,k=K.UM.A-S.A>>1,a7=K.UM.$-S.$>>1,Y=K.UM.A;
for(var v=0,R=0;v<e;v++)for(var n=0;n<w;n++,R+=4){var cm=(v+a7)*Y+n+k,a5=(K.cL[cm]-j)*r,gP=Math.max(0,Math.min(l,Math.round(a5*l)))<<2;
_[R]=I[gP];_[R+1]=I[gP+1];_[R+2]=I[gP+2];_[R+3]=I[gP+3]}}}function F(E,_,S){var W=[E.Clrs.v,E.Trns.v],g=[[],[]],x=255;
for(var V=0;V<2;V++)for(var R=0;R<W[V].length;R++){var b,N=W[V][R].v;if(V==0){var J=N.Type.v.Clry;if(J=="FrgC")b={o:_>>16&255,R:_>>8&255,X:_&255};
else if(J=="BckC")b={o:S>>16&255,R:S>>8&255,X:S&255};else b=A(N.Clr.v)}else{b=N.Opct.v.val*(255/100);
if(b<x)x=b}g[V].push([b,N.Lctn.v/4096,N.Mdpn.v/100])}g.push(x>254);return g}function A(E){var _,S=E.classID;
if(S=="RGBC"){if(E.Rd)_={o:E.Rd.v,R:E.Grn.v,X:E.Bl.v};else _={o:E.redFloat.v*255,R:E.greenFloat.v*255,X:E.blueFloat.v*255};
_.o=Math.max(_.o,0);_.R=Math.max(_.R,0);_.X=Math.max(_.X,0)}else if(S=="HSBC"){_=a.rk(E.H.v.val/360,E.Strt.v/100,E.Brgh.v/100);
_.o*=255;_.R*=255;_.X*=255}else if(S=="CMYC"){var W=E.Cyn.v,g=E.Mgnt.v,x=E.Ylw.v,V=E.Blck.v,b=[W/100,g/100,x/100,V/100],N=a.Vq(b);
_={o:N[0]*255,R:N[1]*255,X:N[2]*255}}else if(S=="Grsc")_={o:255-E.Gry.v,R:255-E.Gry.v,X:255-E.Gry.v};
else if(S=="LbCl"){_=a.lU(E.Lmnc.v,E.A.v,E.B.v)}else if(S=="BkCl")_={o:0,R:0,X:0};else console.log(E);
if(isNaN(_.o))_.o=_.R=_.X=0;return _}function h(E,_,S,W,g,x){if(x==null)x="Gcls";var V;if(E.Clrs){V=F(E,W,g);
for(var R=0;R<V[0].length;R++){var b=V[0][R][0];if(x=="Lnr"){b.o=255*a.R0(b.o/255);b.R=255*a.R0(b.R/255);
b.X=255*a.R0(b.X/255)}if(x=="Perc"||x=="Smoo"){var N=a.H8(b.o,b.R,b.X);b.o=N.Yk*2.55;b.R=127.5+N.cd;
b.X=127.5+N.X}}}var J=E.Clrs?u(E,V,_,S):m(E,_,S);if(E.Clrs&&x!="Gcls"){var K=1/255,q=V[0],d=V[1];for(var R=0;
R<J.length;R+=4){if(x=="Lnr"){J[R]=a.$W(J[R]);J[R+1]=a.$W(J[R+1]);J[R+2]=a.$W(J[R+2])}if(x=="Perc"||x=="Smoo"){var l=J[R]*100,T=(J[R+1]-.5)*255,B=(J[R+2]-.5)*255,p=a.lU(l,T,B);
J[R]=p.o*K;J[R+1]=p.R*K;J[R+2]=p.X*K}if(x=="stripes"){var I=0;while(I<q.length-1&&q[I+1][1]*_<R>>>2)I++;
var p=q[I][0];J[R]=p.o*K;J[R+1]=p.R*K;J[R+2]=p.X*K;I=0;while(I<d.length-1&&d[I+1][1]*_<R>>>2)I++;J[R+3]=d[I][0]*K}}}return J}function m(E,_,S){var W=new Uint32Array(_),g=new Uint8Array(W.buffer);
W.fill(4278190080);var x=[],V=[],b=E.RndS.v,N=E.Smth.v/4096;for(var R=0;R<4;R++){x[R]=~~(E.Mnm.v[R].v*255/100);
V[R]=~~(E.Mxm.v[R].v*255/100)}var J=a.j(_*4),K=a.j(_);for(var q=0;q<3;q++){a.O.aAM(null,_,1,J,[1+Math.round(N*N*N*60),22,b*(2+q)]);
a.YT(J,K,0);a.GS(K,g,q);var d=x[q],l=V[q];for(var R=0;R<_;R++)g[4*R+q]=Math.max(d,Math.min(l,g[4*R+q]))}if(S)for(var R=0;
R<_/2;R++){var T=W[R];W[R]=W[_-1-R];W[_-1-R]=T}return a.Gp(g,32)}function Z(E){return{classID:"RGBC",Rd:{t:"doub",v:E.o},Grn:{t:"doub",v:E.R},Bl:{t:"doub",v:E.X}}}function u(E,_,S,W){var g=new Float32Array(S*4),x=1/(S-0);
for(var R=0;R<S;R++){var V=R*4,b=f(E,_,(W?S-1-R:R)*x);g[V]=b[0];g[V+1]=b[1];g[V+2]=b[2];g[V+3]=b[3]}return g}function f(E,_,S){var W=E.Intr.v*(1/4096),g=_[0],x=_[1],V=g.length-1,b=x.length-1,R=-1,N=0,J=0,K=0,q=0;
if(_[2])N=255;else{while(R<b&&x[R+1][1]<=S)R++;if(R==-1){N=x[0][0]}else if(R==b){N=x[R][0]}else{var d=C(x,R,S,W);
N=d*x[R][0]+(1-d)*x[R+1][0]}}R=-1;while(R<V&&g[R+1][1]<=S)R++;if(R==-1){var l=g[0][0];J=l.o;K=l.R;q=l.X}else if(R==V){var l=g[R][0];
J=l.o;K=l.R;q=l.X}else{var T=g[R][0],B=g[R+1][0],p=C(g,R,S,W);J=Math.min(255,p*T.o+(1-p)*B.o);K=Math.min(255,p*T.R+(1-p)*B.R);
q=Math.min(255,p*T.X+(1-p)*B.X)}return[J*(1/255),K*(1/255),q*(1/255),N*(1/255)]}function U(E,_,S){var W=f(E,_,S),g=~~(.5+W[0]*255),x=~~(.5+W[1]*255),V=~~(.5+W[2]*255),b=~~(.5+W[3]*255);
return b<<24|V<<16|x<<8|g}function C(E,R,_,S){if(E.length==2)S*=.5;var W=E[R][1],g=E[R+1][1],x=W+E[R+1][2]*(g-W),V;
if(_<x)V=.5*(_-W)/(x-W);else V=.5+.5*(_-x)/(g-x);V=.5+.5*(S*Math.cos(Math.PI*V)+(1-S)*(1-2*V));return V}function H(E,_,S){var W=.5*S.$,g=W*(E/_),x=Math.sqrt(W*W+g*g),V=.5*S.A,b=V*(_/E),N=Math.sqrt(V*V+b*b);
return Math.min(x,N)}function t(E,_){var S=Math.PI*E.Angl.v.val/180,W=E.Scl.v.val/100,g=0,x=0;if(E.Ofst){var V=E.Ofst.v;
g=V.Hrzn.v.val/100;x=V.Vrtc.v.val/100}var b=Math.cos(S),N=-Math.sin(S),J=H(b,N,_),K=J*W,q=_.x+_.A/2+g*_.A,d=_.y+_.$/2+x*_.$;
return[new j6(q,d),new j6(q+b*K,d+N*K)]}function X(E,_,S,W){var g=_.x-E.x,x=-(_.y-E.y),V=Math.sqrt(g*g+x*x),b=Math.atan2(x,g),N=Math.cos(b),J=-Math.sin(b),K=H(N,J,S),q=V/K,d=(E.x-S.x-S.A/2)/S.A,l=(E.y-S.y-S.$/2)/S.$;
W.Angl.v.val=180*b/Math.PI;W.Scl.v.val=q*100;var T=W.Ofst.v;T.Hrzn.v.val=d*100;T.Vrtc.v.val=l*100}function Q(E,_){for(var R=0;
R<E.length;R++){var S=E[R],W=Math.round(S[0]*4096),g=S[1],x=S[2],V=E[Math.max(0,R-1)][3];if(x==null)x=1;
if(V==null)V=.5;var b=Z({o:g[0]*255,R:g[1]*255,X:g[2]*255});_.Clrs.v[R]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:W},Mdpn:{t:"long",v:Math.round(V*100)},Clr:{t:"Objc",v:b},Type:{t:"enum",v:{Clry:"UsrS"}}}};
_.Trns.v[R]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:W},Mdpn:{t:"long",v:Math.round(V*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(x*100)}}}}}}function D(E,_,S){if(_){E=a.G(E);
for(var R=0;R<2;R++){var W=E[R==0?"Clrs":"Trns"].v;for(var g=0;g<W.length;g++)W[g].v.Lctn.v=4096-W[g].v.Lctn.v;
W.reverse()}}var x=[],V=1/255,b=E.Clrs.v,N=E.Trns.v,W=b;if(dc==0||b.length!=N.length){if(dc!=0)console.log("strange gradient");
if(S!=!0)W=b.concat(N);var J=F(E,0,0);for(var R=0;R<W.length;R++){var K=W[R].v,q=K.Lctn.v/4096,d=f(E,J,q);
x.push([q,[d[0],d[1],d[2]],d[3],K.Mdpn.v/100])}x.sort(function(T,B){return T[0]-B[0]});for(var R=1;R<x.length;
R++)if(x[R][0]-x[R-1][0]<.001){x.splice(R,1);R--}}else{for(var R=0;R<W.length;R++){var K=b[R].v,l=K.Clr.v,q=K.Lctn.v/4096;
x.push([q,[l.Rd.v*V,l.Grn.v*V,l.Bl.v*V],N[R].v.Opct.v.val/100,b[Math.min(R+1,b.length-1)].v.Mdpn.v/100])}}return x}function L(E,_){function S(E,V){E.addColorStop(V[0],CSS.anj(V[1],V[2]))}function W(V,b,N,J){var K=Math.log(.5)/Math.log(J),q=Math.log(.5)/Math.log(1-J),d=J>.5?Math.pow(N,K):1-Math.pow(1-N,q),l=1-d,T=V[0],B=V[1],p=b[1],I=[T+(b[0]-T)*N,[B[0]*l+p[0]*d,B[1]*l+p[1]*d,B[2]*l+p[2]*d],V[2]*l+b[2]*d];
return I}S(E,_[0]);for(var R=1;R<_.length;R++){var g=_[R-1][3];if(g!=.5)for(var x=1;x<20;x++)S(E,W(_[R-1],_[R],x/20,g));
S(E,_[R])}}return{gR:y,gN:Z,sl:A,a8u:h,bt:X,acf:t,rO:L,mv:Q,as3:D,aJS:F,ad:U}}();a.a2R={};a.a2R.YY=function(s,M,O,P,y,F,A,h,m,Z,u,f){var U,C,H,t=Date.now(),X=!1,Q=A,D=Z,L,E,_,S,W=F*255,g=255-m*255,x=1+y*6,V=1+h*6,b=1+f*4,N=(b-1)/7,J=0,K=255-0,q,d,l,T,B,p,I,w,e,G,j,o,r,k=0,a7=1,Y,v,n,cm,a5,gP,cg,a9,ew,h7,bh=1+u,ba,jx=a.j(O*P),c4=a.j(O*P),bq=a.j(O*P),di=a.j(O*P),il=255/W,j0=255/(255-g);
for(C=0;C<P;C++){for(U=0;U<O;U++){var R=C*O+U,j1=R<<2;Y=a.w6(s[j1],s[j1+1],s[j1+2]);di[R]=Y;if(Y<W)jx[R]=255-Y*il;
if(Y>g)c4[R]=255-(255-Y)*j0}}if(X)console.log("init",Date.now()-t);t=Date.now();if(y*Q>0){a.er.SO(jx,new gi(0,0,O,P),Q,2)}if(h*D>0){a.er.SO(c4,new gi(0,0,O,P),D,2)}if(X)console.log("blur",Date.now()-t);
t=Date.now();var b5=a.j(256),b4=a.j(256);for(var R=0;R<256;R++){var lm=R*(1/255),ix=0;ix=(1-Math.pow(1-lm,x))*255;
b5[R]=Math.max(0,Math.min(255,~~(ix+.5)));ix=Math.pow(lm,V)*255;b4[R]=Math.max(0,Math.min(255,~~(ix+.5)))}var jy=new Uint8ClampedArray(M.buffer),bz=new Float32Array(32768);
for(var R=0;R<32768;R++){ba=Math.sqrt(R)*(1/128);if(bh>1)ba=(1-ba)*(bh-1)+1;else ba=ba*(bh-1)+1;bz[R]=ba}for(C=0;
C<P;C++){for(U=0;U<O;U++){var R=C*O+U,j1=R<<2,ix=di[R],c5=jx[R]*(1/255),k0=c4[R]*(1/255);ix=(1-c5)*ix+c5*b5[~~ix];
ix=(1-k0)*ix+k0*b4[~~ix];Y=ix;var cd=s[j1],fz=s[j1+1],fu=s[j1+2];v=-cd*.168736-fz*.331264+fu*.5;n=cd*.5-fz*.418688-fu*.081312;
ba=bz[~~(.5+v*v+n*n)];cm=v*ba;gP=n*ba;a7=1-Math.min(2-(c5+k0),1);v=a7*v+(1-a7)*cm;n=a7*n+(1-a7)*gP;a9=Y+1.402*n;
ew=Y-.34414*v-.71414*n;h7=Y+1.772*v;jy[j1]=~~(.5+a9);jy[j1+1]=~~(.5+ew);jy[j1+2]=~~(.5+h7)}}if(X)console.log("apply masks",Date.now()-t);
t=Date.now()};a.Jt={};a.Jt.Ep=function(s,M,O,P,y){var F=Date.now(),A=!1,t=1,K=0,e=0;if(!M.fl(y)){var h=M.v8(y),m=a.j(h.C()*4);
a.FP(s,M,m,h);s=m;M=h}var Z=a.j(M.C());a.TT(O,y,Z,M);a.round(Z);y=y.OK(M);var u=y.A,f=y.$,U=u*3<f?2:1,C=f*3<u?2:1;
if(y.C()*(U*2+1)*(C*2+1)<M.C()){var h=new gi(y.x-u*U,y.y-f*U,u*(U*2+1),f*(C*2+1)).OK(M),m=a.j(h.C()*4);
a.FP(s,M,m,h);var H=a.j(h.C());a.TT(Z,M,H,h);M=h;s=m;Z=H}while((M.A+M.$)/2/t>400)t++;var X=s,Q=M,D=Z,L=Math.floor(Q.A/t),E=Math.floor(Q.$/t);
s=a.j(L*E*4);a.scale.XM(X,Q.A,Q.$,s,L,E,1/t);Z=a.j(L*E);a.scale.UL(D,Q.A,Q.$,Z,L,E,1/t);a.round(Z,1);
if(A)console.log("scale down:",t,L,E);var _=a.xY(Z,new gi(0,0,L,E));if(_.g3())return 1;var S=Math.round((_.A+_.$)/2/15);
if(A)console.log(Date.now()-F,"preprocess");F=Date.now();var W=a.j(L*E*4);a.amb(s,W);var g=Int16Array,x=new g(L*E*24),V=new g(64),b=new g(64),N=new g(64),J=new g(64);
for(var q=3;q<E-4;q++)for(var d=3;d<L-4;d++){var l=q*L+d;if(Z[l]==255)continue;if(a.Jt.aeS(W,Z,d,q,L,E,V,b,N)!=0)continue;
a.Jt.ip(V,J);var T=K*24;x[T]=d;x[T+1]=q;a.Jt.jO(V,x,T+4,12);a.Jt.ip(b,J);a.Jt.jO(b,x,T+16,4);a.Jt.ip(N,J);
a.Jt.jO(N,x,T+20,4);var B=x[T+5],p=x[T+6];x[T+5]=x[T+16];x[T+6]=x[T+20];x[T+16]=B;x[T+20]=p;K++}if(K==0)return 2;
if(A)console.log(Date.now()-F,"FWHT computed");F=Date.now();var I=[];a.Jt.t4(0,K-1,I,x,new g(2*24));
if(A)console.log(Date.now()-F,"KD tree computed");F=Date.now();var w=new Uint32Array(L*E*4);for(var R=0;
R<K;R++){var G=R,j=a.Jt.ava(G,x,I,S);if(j==-1)continue;var o=G*24,r=j*24,k=x[o],a7=x[o+1],Y=x[r],v=x[r+1];
e+=a.Jt.getError(r,o,x,1e99);var n=Y-k,cm=v-a7;w[(E+cm)*2*L+(L+n)]+=1}if(A)console.log(Date.now()-F,"NN found");
F=Date.now();var a5=[],gP=1/(2*L);for(var R=0;R<w.length;R++){if(w[R]>0){var q=Math.floor(R*gP),d=R-q*2*L;
a5.push({x:d-L,y:q-E,K:w[R],d3:-1})}}a5.sort(function(jy,bz){return bz.K-jy.K});var cg=new Int32Array(L*E),a9=[];
for(var R=0;R<L*E;R++){if(Z[R]==255){cg[R]=a9.length>>>1;a9.push(R%L,Math.floor(R/L))}else if(s[(R<<2)+3]<200){cg[R]=-2}else{cg[R]=-1}}var ew=a.Jt.ayH(L,E,a5,cg,a9);
if(ew==null){if(A)console.log("no appropriate labeling");return 3}var h7=ew.S9,top=ew.top;h7=a.Jt.adx(h7,s,L,E,top,cg,a9);
if(A)console.log(Date.now()-F,"optimal labeling found");F=Date.now();var h=y.v();h.rX(1,1);h=h.OK(Q);
var bh=a.j(h.C()*4),ba=a.j(h.C());a.FP(X,Q,bh,h);var jx=Q.A,c4=Q.$;for(var q=0;q<c4;q++)for(var d=0;
d<jx;d++){if(D[q*jx+d]==0)continue;var bq=Math.min(Math.floor(d/t),L-1),di=Math.min(Math.floor(q/t),E-1),il=cg[di*L+bq];
if(il==-1)continue;var j0=h7[il],j1=top[j0],b5=d+j1.x*t,b4=q+j1.y*t,lm=b4*jx+b5<<2,ix=(q-h.y+Q.y)*h.A+(d-h.x+Q.x)<<2;
bh[ix]=X[lm];bh[ix+1]=X[lm+1];bh[ix+2]=X[lm+2];bh[ix+3]=X[lm+3];bh[ix+3]=X[lm+3];ba[ix>>2]=j0+1}if(A)console.log(Date.now()-F,"copied back");
F=Date.now();a.cE.Ep(bh,ba,h,null,1e3);if(A)console.log(Date.now()-F,"poisson smooth");F=Date.now();
a.FP(bh,h,P,y);return 0};a.Jt.a6w=function(s,M,O,P,y,F){return a.Jt.b8(s+y.x,M+y.y,O,P,F)?0:1e9};a.Jt.adx=function(s,M,O,P,top,y,F){var A=Date.now(),h=F.length>>>1,m=[-1,0,0,-1,1,0,0,1],Z=1e99,u=[],f=[],U=2*(h*2*3+h*2),C=null,H=0,t=0,X=0,Q=1e99;
while(!0&&Date.now()<A+12e3){X++;var D=null,L=Z;for(var E=0;E<top.length;E++){var _=top[E],S=0,W=h+2,g=0;
for(var R=0;R<h;R++){var x=F[R*2],V=F[R*2+1],b=top[s[R]],N=a.Jt.a6w(x,V,O,P,_,y),J=s[R]==E?1e9:a.Jt.a6w(x,V,O,P,b,y);
for(var hS=0;hS<4;hS++){if(hS==0&&x==0||hS==1&&V==0||hS==2&&x==O-1||hS==3&&V==P-1)continue;var K=m[2*hS],q=m[2*hS+1],d=x+K,l=V+q,T=y[l*O+d];
if(T==-2){}else if(T==-1){N+=3*a.Jt.A9(d+_.x,l+_.y,d,l,O,P,M,y);N+=2*a.Jt.A9(d+_.x+K,l+_.y+q,d+K,l+q,O,P,M,y);
J+=3*a.Jt.A9(d+b.x,l+b.y,d,l,O,P,M,y);J+=2*a.Jt.A9(d+b.x+K,l+b.y+q,d+K,l+q,O,P,M,y)}else if(hS>1){if(s[R]==s[T]){var B=0;
B+=a.Jt.A9(x+b.x,V+b.y,x+_.x,V+_.y,O,P,M,y);B+=a.Jt.A9(d+b.x,l+b.y,d+_.x,l+_.y,O,P,M,y);u[S]=R;u[S+1]=T;
f[S]=B;f[S+1]=B;S+=2}else{var p=top[s[T]],I=W,w=0,e=0,G=0;W++;w+=a.Jt.A9(x+b.x,V+b.y,x+_.x,V+_.y,O,P,M,y);
w+=a.Jt.A9(d+b.x,l+b.y,d+_.x,l+_.y,O,P,M,y);e+=a.Jt.A9(x+p.x,V+p.y,x+_.x,V+_.y,O,P,M,y);e+=a.Jt.A9(d+p.x,l+p.y,d+_.x,l+_.y,O,P,M,y);
G+=a.Jt.A9(x+p.x,V+p.y,x+b.x,V+b.y,O,P,M,y);G+=a.Jt.A9(d+p.x,l+p.y,d+b.x,l+b.y,O,P,M,y);u[S]=R;u[S+1]=I;
f[S]=w;f[S+1]=w;S+=2;u[S]=T;u[S+1]=I;f[S]=e;f[S+1]=e;S+=2;u[S]=I;u[S+1]=h+1;f[S]=G;f[S+1]=0;S+=2}}}u[S]=h;
u[S+1]=R;f[S]=N;f[S+1]=0;S+=2;u[S]=R;u[S+1]=h+1;f[S]=J;f[S+1]=0;S+=2;g+=Math.min(N,J)}if(g>L)continue;
var j=a.dg.hB(W,S,h,h+1,u,f,L);if(j.v1<L){L=j.v1;var o=s.slice(0);a.Jt.a1R(o,S,u,j.yY,E,h);D=o}}if(L*1>=Z){break}Z=L;
s=D;if((X&3)==0){if(L*1.03>=Q)break;Q=L}if((X&3)==0){var r=0*top.length;for(var R=0;R<top.length&&top.length>r;
R++){if(s.indexOf(R)!=-1)continue;top.splice(R,1);for(var T=0;T<s.length;T++)if(s[T]>R)s[T]--;R--}}}return s};
a.Jt.a1R=function(s,M,O,P,y,F){for(var R=0;R<P.length;R++){var A=P[R]<<1,h=0,m=0;if(A<M){h=O[A];m=O[A+1]}else{m=O[A];
h=O[A+1]}if(h==F&&s[m]!=y)s[m]=y}};a.Jt.af8=function(top,s,M,O,P,y,F,A,h){for(var R=0;R<M.length;R++){var m=M[R],Z=!0;
if(A!=null&&!a.Jt.b8(A+m.x,h+m.y,y,F,O))continue;if(m.d3==-1)m.d3=a.Jt.alP(m,O,P,y,F);if(m.d3<=0)continue;
for(var u=0;u<top.length;u++){var f=top[u],U=m.x-f.x,C=m.y-f.y;if(U*U+C*C<s){Z=!1;break}}if(Z)return m}return null};
a.Jt.alP=function(s,M,O,P,y){var F=0;for(var R=0;R<O.length;R+=2){var A=O[R]+s.x,h=O[R+1]+s.y;if(a.Jt.b8(A,h,P,y,M))F++}return F/(O.length>>1)};
a.Jt.ayH=function(s,M,O,P,y){var F=y.length>>>1,top=[];for(var R=0;R<60;R++){var A=a.Jt.af8(top,25,O,P,y,s,M);
if(A==null)break;else top.push(A)}if(top.length==0)return null;var h=[];for(var R=0;R<F;R++){var m=y[R*2],Z=y[R*2+1],u=-1,f=0;
while(!0){f++;var U=Math.random();u=Math.floor(U*.99999*top.length);var C=top[u],H=m+C.x,t=Z+C.y;if(a.Jt.b8(H,t,s,M,P))break;
if(f>1e3){var A;A=a.Jt.af8(top,0,O,P,y,s,M,m,Z);if(A==null)for(var X=0;X<4;X++){var Q,D,L=0;while(!0){Q=~~(Math.random()*s);
D=~~(Math.random()*M);if(a.Jt.b8(Q,D,s,M,P))break;L++;if(L>500)throw"e"}A={x:Q-m,y:D-Z,K:1,d3:-1};O.push(A);
top.push(A)}else top.push(A);f=0}}h.push(u)}return{top:top,S9:h}};a.Jt.A9=function(s,M,O,P,y,F,A,h){if(s==O&&M==P)return 0;
if(s<0||M<0||s>=y||M>=F||O<0||P<0||O>=y||P>=F||h[M*y+s]!=-1||h[P*y+O]!=-1)return 1e7;var m=M*y+s<<2,Z=P*y+O<<2,u=A[m]-A[Z],f=A[m+1]-A[Z+1],U=A[m+2]-A[Z+2];
return 1+(u*u+f*f+U*U)};a.Jt.b8=function(s,M,O,P,y){return s>=0&&s<O&&M>=0&&M<P&&y[M*O+s]==-1};a.Jt.ava=function(s,M,O,P){var y=24*s,F=M[y],A=M[y+1],h=P*P,m=0,U=1e9;
while(O[m]!=99)if(M[y+O[m]]<O[m+1])m=O[m+2];else m=O[m+3];var Z=O[m+1],u=O[m+2],f=-1;for(var R=Z;R<=u;
R++){var m=R,C=m*24,H=M[C],t=M[C+1];if((H-F)*(H-F)+(t-A)*(t-A)<h)continue;var X=a.Jt.getError(C,y,M,U);
if(X<U){U=X;f=m}}return f};a.Jt.getError=function(s,M,O,P){var y=0;for(var F=4;F<24;F+=4){var A=O[M+F]-O[s+F],h=O[M+F+1]-O[s+F+1],m=O[M+F+2]-O[s+F+2],Z=O[M+F+3]-O[s+F+3];
y+=A*A+h*h+m*m+Z*Z;if(y>=P)return y+1}return y};a.Jt.t4=function(s,M,O,P,y){var F=16,U=0;if(M-s<=F){O.push(99,s,M);
return}a.Jt.hG(s,M,P,y);var A=-1,h=-1;for(var R=4;R<24;R++){var m=y[2*R+1]-y[2*R];if(m>h){h=m;A=R}}var Z=s+M>>1,u=a.Jt.a8I(Z,s,M,P,A),f=-1;
for(var R=s;R<=M;R++)if(P[24*R+A]==u){if(f==-1)f=R;U=R}if(s+8<f&&f-s>M-U)Z=f;else if(U+1<M-8)Z=U+1;else if(M-s<64){O.push(99,s,M);
return}else Z=Z;var C=O.length;O.push(A,u,0,0);O[C+2]=C+4;a.Jt.t4(s,Z-1,O,P,y);O[C+3]=O.length;a.Jt.t4(Z,M,O,P,y)};
a.Jt.hG=function(s,M,O,P){for(var R=0;R<48;R+=4){P[R]=3e4;P[R+1]=-3e4;P[R+2]=3e4;P[R+3]=-3e4}for(var R=s;
R<=M;R++){var y=R*24;for(var F=0;F<24;F++){var A=O[y+F],h=P[F<<1],m=P[(F<<1)+1];if(A<h)P[F<<1]=A;if(A>m)P[(F<<1)+1]=A}}};
a.Jt.b_=function(s,M,O){var P=0,R=0;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;
R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;
R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;
R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;
R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;
R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;
R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;
R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;
R++;P=O[s+R];O[s+R]=O[M+R];O[M+R]=P;R++};a.Jt._F=function(s,M,O,P){var y=O+P>>>1,F=s[24*y+M];while(O<=P){while(s[24*O+M]<F)O++;
while(s[24*P+M]>F)P--;if(O<=P){if(s[24*O+M]!=s[24*P+M])a.Jt.b_(O*24,P*24,s);O++;P--}}return O};a.Jt.a8I=function(s,M,O,P,y){var F=0;
while(M!=O){F=a.Jt._F(P,y,M,O);if(s<F)O=F-1;else M=F}return P[s*24+y]};a.Jt.jO=function(s,M,O,P){for(var R=0;
R<P;R++)M[O+R]=s[R]};a.Jt.aeS=function(s,M,O,P,y,F,A,h,m){var Z=(P-3)*y+(O-3),u=Z<<2;for(var f=0;f<8;
f++){if(M[Z]+M[Z+1]+M[Z+2]+M[Z+3]+M[Z+4]+M[Z+5]+M[Z+6]+M[Z+7]!=0||s[u+3]<200||s[u+7]<200||s[u+11]<200||s[u+15]<200||s[u+19]<200||s[u+23]<200||s[u+27]<200||s[u+31]<200)return 1;
var R=f<<3;A[R+0]=s[u+0];h[R+0]=s[u+1];m[R+0]=s[u+2];A[R+1]=s[u+4];h[R+1]=s[u+5];m[R+1]=s[u+6];A[R+2]=s[u+8];
h[R+2]=s[u+9];m[R+2]=s[u+10];A[R+3]=s[u+12];h[R+3]=s[u+13];m[R+3]=s[u+14];A[R+4]=s[u+16];h[R+4]=s[u+17];
m[R+4]=s[u+18];A[R+5]=s[u+20];h[R+5]=s[u+21];m[R+5]=s[u+22];A[R+6]=s[u+24];h[R+6]=s[u+25];m[R+6]=s[u+26];
A[R+7]=s[u+28];h[R+7]=s[u+29];m[R+7]=s[u+30];u+=y<<2;Z+=y}return 0};a.Jt.ip=function(s,M){M[0]=s[32]+s[0];
M[1]=s[33]+s[1];M[2]=s[34]+s[2];M[3]=s[35]+s[3];M[4]=s[36]+s[4];M[5]=s[37]+s[5];M[6]=s[38]+s[6];M[7]=s[39]+s[7];
M[8]=s[40]+s[8];M[9]=s[41]+s[9];M[10]=s[42]+s[10];M[11]=s[43]+s[11];M[12]=s[44]+s[12];M[13]=s[45]+s[13];
M[14]=s[46]+s[14];M[15]=s[47]+s[15];M[16]=s[48]+s[16];M[17]=s[49]+s[17];M[18]=s[50]+s[18];M[19]=s[51]+s[19];
M[20]=s[52]+s[20];M[21]=s[53]+s[21];M[22]=s[54]+s[22];M[23]=s[55]+s[23];M[24]=s[56]+s[24];M[25]=s[57]+s[25];
M[26]=s[58]+s[26];M[27]=s[59]+s[27];M[28]=s[60]+s[28];M[29]=s[61]+s[29];M[30]=s[62]+s[30];M[31]=s[63]+s[31];
M[32]=s[0]-s[32];M[33]=s[1]-s[33];M[34]=s[2]-s[34];M[35]=s[3]-s[35];M[36]=s[4]-s[36];M[37]=s[5]-s[37];
M[38]=s[6]-s[38];M[39]=s[7]-s[39];M[40]=s[8]-s[40];M[41]=s[9]-s[41];M[42]=s[10]-s[42];M[43]=s[11]-s[43];
M[44]=s[12]-s[44];M[45]=s[13]-s[45];M[46]=s[14]-s[46];M[47]=s[15]-s[47];M[48]=s[16]-s[48];M[49]=s[17]-s[49];
M[50]=s[18]-s[50];M[51]=s[19]-s[51];M[52]=s[20]-s[52];M[53]=s[21]-s[53];M[54]=s[22]-s[54];M[55]=s[23]-s[55];
M[56]=s[24]-s[56];M[57]=s[25]-s[57];M[58]=s[26]-s[58];M[59]=s[27]-s[59];M[60]=s[28]-s[60];M[61]=s[29]-s[61];
M[62]=s[30]-s[62];M[63]=s[31]-s[63];s[0]=M[16]+M[0];s[1]=M[17]+M[1];s[2]=M[18]+M[2];s[3]=M[19]+M[3];
s[4]=M[20]+M[4];s[5]=M[21]+M[5];s[6]=M[22]+M[6];s[7]=M[23]+M[7];s[8]=M[24]+M[8];s[9]=M[25]+M[9];s[10]=M[26]+M[10];
s[11]=M[27]+M[11];s[12]=M[28]+M[12];s[13]=M[29]+M[13];s[14]=M[30]+M[14];s[15]=M[31]+M[15];s[16]=M[0]-M[16];
s[17]=M[1]-M[17];s[18]=M[2]-M[18];s[19]=M[3]-M[19];s[20]=M[4]-M[20];s[21]=M[5]-M[21];s[22]=M[6]-M[22];
s[23]=M[7]-M[23];s[24]=M[8]-M[24];s[25]=M[9]-M[25];s[26]=M[10]-M[26];s[27]=M[11]-M[27];s[28]=M[12]-M[28];
s[29]=M[13]-M[29];s[30]=M[14]-M[30];s[31]=M[15]-M[31];M[0]=s[8]+s[0];M[1]=s[9]+s[1];M[2]=s[10]+s[2];
M[3]=s[11]+s[3];M[4]=s[12]+s[4];M[5]=s[13]+s[5];M[6]=s[14]+s[6];M[7]=s[15]+s[7];M[8]=s[0]-s[8];M[9]=s[1]-s[9];
M[10]=s[2]-s[10];M[11]=s[3]-s[11];M[12]=s[4]-s[12];M[13]=s[5]-s[13];M[14]=s[6]-s[14];M[15]=s[7]-s[15];
s[0]=M[4]+M[0];s[1]=M[5]+M[1];s[2]=M[6]+M[2];s[3]=M[7]+M[3];s[4]=M[0]-M[4];s[5]=M[1]-M[5];s[6]=M[2]-M[6];
s[7]=M[3]-M[7];s[8]=M[12]+M[8];s[9]=M[13]+M[9];s[10]=M[14]+M[10];s[11]=M[15]+M[11];s[12]=M[8]-M[12];
s[13]=M[9]-M[13];s[14]=M[10]-M[14];s[15]=M[11]-M[15];M[0]=s[2]+s[0];M[1]=s[3]+s[1];M[2]=s[0]-s[2];M[3]=s[1]-s[3];
M[4]=s[6]+s[4];M[5]=s[7]+s[5];M[6]=s[4]-s[6];M[7]=s[5]-s[7];M[8]=s[10]+s[8];M[9]=s[11]+s[9];M[10]=s[8]-s[10];
M[11]=s[9]-s[11];M[12]=s[14]+s[12];M[13]=s[15]+s[13];M[14]=s[12]-s[14];M[15]=s[13]-s[15];s[0]=M[1]+M[0];
s[1]=M[0]-M[1];s[2]=M[3]+M[2];s[3]=M[2]-M[3];s[4]=M[5]+M[4];s[5]=M[4]-M[5];s[6]=M[7]+M[6];s[7]=M[6]-M[7];
s[8]=M[9]+M[8];s[9]=M[8]-M[9];s[10]=M[11]+M[10];s[11]=M[10]-M[11];s[12]=M[13]+M[12];s[13]=M[12]-M[13];
s[14]=M[15]+M[14];s[15]=M[14]-M[15]};a.Jt.aAH=function(){var s="",hS=64,M="v",O="t",P="a",y=5,R,F,A;
for(R=hS>>1;R>0;R>>=1,y--){for(F=0;F<hS;F++){A=(F>>y&1)!=0;if(A){s+=O+"["+F+"] = "+M+"["+(-R+F)+"] - "+M+"["+F+"];  "}else{s+=O+"["+F+"] = "+M+"["+(R+F)+"] + "+M+"["+F+"];  "}}P=M;
M=O;O=P;s+="\n"}console.log(s)};a.Jt.anu=function(hS,s,M){var O=s,P=M,y=O,F=0,R,h,m;while(hS>>F!=2)F++;
var A=F;for(R=hS>>1;R>0;R>>=1,F--){for(h=0;h<hS;h++){m=(h>>F&1)!=0;if(m)P[h]=O[-R+h]-O[h];else P[h]=O[R+h]+O[h]}y=O;
O=P;P=y}if((A&1)==1)for(R=0;R<hS;R++)M[R]=O[R]};a.x0={};a.x0.ZO=function(s,M,O,P,y,F,A,h,m){var Z=Date.now(),u=new Uint32Array(s.buffer),f=new Uint32Array(M.buffer),U=A/O,C=h/P,H=1/U,t=1/C,X=new Float64Array(2),Q=3,D=1/Q,L=1/(Q*Q),E=0,_=0,S=O,W=P;
if(y){E=y.x;_=y.y;S=y.A;W=y.$}for(var g=0;g<W;g++)for(var x=0;x<S;x++){var V=E+x,b=_+g,R=b*O+V,N=R<<1,J=R<<2;
a.x0.adU(F,A,h,(V+.5)*U,(b+.5)*C,X);var K=X[0]*H,q=X[1]*t;if(K==0&&q==0)f[R]=u[R];else{a.F.RF(V+K+.5,b+q+.5,u,O,P,f,R,m)}}};
a.x0.adU=function(s,M,O,P,y,F){P-=.499999;y-=.499999;var A=~~P,h=~~y,m=P-A,Z=y-h,u=(1-Z)*(1-m),f=(1-Z)*m,U=Z*(1-m),C=Z*m,H=A<M-1?A+1:A,t=h<O-1?h+1:h,X=h*M+A<<1,Q=h*M+H<<1,D=t*M+A<<1,L=t*M+H<<1;
F[0]=u*s[X]+f*s[Q]+U*s[D]+C*s[L];F[1]=u*s[X+1]+f*s[Q+1]+U*s[D+1]+C*s[L+1]};a.x0.a21=function(s,M,O,P,y){var F=1/s,A=[-1,1,-s,s],h=P.length;
for(var m=0;m<h;m++){var R=P[m],Z=R<<1,u=m<<1,f=~~(R*F),U=R-s*f,C=O[Z],H=O[Z+1],t=0,X=0;if(U!=0&&U!=s-1){var Q=R-1<<1,D=R+1<<1,L=O[Q],E=O[D],_=O[Q+1],S=O[D+1],W=C-(L+E)*.5,g=H-(_+S)*.5;
t-=W*y;X-=g*y}if(f!=0&&f!=M-1){var Q=R-s<<1,D=R+s<<1,L=O[Q],E=O[D],_=O[Q+1],S=O[D+1],W=C-(L+E)*.5,g=H-(_+S)*.5;
t-=W*y;X-=g*y}O[Z]=C+t;O[Z+1]=H+X}};a.x0.ay9=function(s,M){var O=s+","+M;if(a.x0.aGv==O)return a.x0.aqI;
var P=a.x0.aqI=[];a.x0.aGv=O;for(var R=0;R<=1e3;R++){var y=R*.001,F=Math.sqrt(y),A=Math.exp(-4*F),h=.96*(1-F*F),m=M*((1-s)*A+s*h);
P[R]=m}return P};a.x0.aGv="";a.x0.aqI=[];a.x0.aBy=function(s,M,O,P,y,F,A,h,m,Z,u,f,U){var C=Math.max(0,Math.floor(y-A-1)),H=Math.min(M,Math.ceil(y+A+1)),t=Math.max(0,Math.floor(F-A-1)),X=Math.min(O,Math.ceil(F+A+1)),Q=2*M,D=A*A,L=1/A,E=0;
if(U&&(P==3||P==6))m=-m;var _=a.x0.ay9(h,m);for(var S=t;S<X;S++)for(var W=C;W<H;W++){var R=S*M+W,g=R<<1,x=(y-W)*L,V=(F-S)*L,b=x*x+V*V;
if(b<1){f[E]=R;var N=_[~~(b*1e3)];if(P==1){s[g]=s[g]*(1-N*.05);s[g+1]=s[g+1]*(1-N*.05)}else{var J=0,K=0,l,T,B,p;
if(P==0){J=Z*N;K=u*N}else if(P==2){}else if(P==3){J=N*V;K=-N*x}else if(P==4){J=N*x;K=N*V}else if(P==5){J=-N*x;
K=-N*V}else if(P==6){J=u*N;K=-Z*N}var q=s[g],d=s[g+1];if(W==0||W!=M-1&&J<0){l=1+s[g+2]-q;B=s[g+3]-d}else{l=q-s[g-2]+1;
B=d-s[g-1]}if(S==0||S!=O-1&&K<0){T=s[g+Q]-q;p=1+s[g+Q+1]-d}else{T=q-s[g-Q];p=d-s[g-Q+1]+1}s[g]=-(l*J+T*K-q);
s[g+1]=-(B*J+p*K-d)}E++}}};a.x0.ant=function(s){var M=s[0],O=s[0],P=s[1],y=s[1];for(var R=0;R<s.length;
R+=2){var F=s[R],A=s[R+1];if(F<M)M=F;else if(F>O)O=F;if(A<P)P=A;else if(A>y)y=A}return[M,P,O,y]};a.ae4=function(s,M,O,P,y){function F(Y,v,n,cm){return Math.sqrt((Y-n)*(Y-n)+(v-cm)*(v-cm))}function A(Y,v){return Y>=0&&Y<M&&v>=0&&v<O}function h(Y){if(Y<0)return 0;
if(Y>=M)return M-1;return Y}function m(Y){if(Y<0)return 0;if(Y>=O)return O-1;return Y}function Z(R,Y){var v=Y[3]*(1/255),n=P[R]+Y[0]*v;
if(n>255)n=255;P[R]=n;n=P[R+1]+Y[1]*v;if(n>255)n=255;P[R+1]=n;n=P[R+2]+Y[2]*v;if(n>255)n=255;P[R+2]=n}function u(Y,v,n){if(!I(Y,v))return;
if(n[3]<0)n[3]=0;Z((v*M+Y)*4,n)}function f(Y){var v=Y.slice(0,3);v[3]=0;return v}var U=M/800;function C(Y){return Math.round(Y*U)}function H(){for(var R=0;
R<=300;R++){e[R]=t(R)}}function t(O){var Y=.8,v=.2,n=Y*v,cm=O/60%2-1,a5=n*(1-cm*cm),gP=v-n,cg;if(O<60){cg=[n+gP,a5,0]}else if(O<120){cg=[a5,n,0]}else if(O<180){cg=[0,n,a5]}else if(O<240){cg=[0,a5,n]}else if(O<300){cg=[a5,0,n]}else{cg=[n,0,a5]}return[(cg[0]+gP)*255,(cg[1]+gP)*255,(cg[2]+gP)*255]}function X(O){return e[~~O]}function Q(Y){return 1-D(Y)}function D(Y){return Y-~~Y}function L(Y,v,n,cm){B(Y,v,n,0,v+1,1,cm)}function E(Y,v,n,cm,a5,gP){B(Y,v,n,0,cm,1,a5,gP)}function _(Y){for(var R=0;
R<P.length;R+=4){Z(R,Y)}}function S(Y,v,n,cm,a5,gP,cg,a9){W(Y,v,n,cm,a5,1,gP,cg,a9)}function W(Y,v,n,cm,a5,gP,cg,a9,ew){if(gP==null)gP=.5;
if(cg==null)cg=0;if(a9==null)a9=0;if(ew==null)ew=!1;var h7=Y.x,bh=Y.y,ba=n.slice(0),jx=~~(n[3]*j);cm=cm*j;
if(!ew){v=p(v);a5=p(a5);cg=p(cg);a9=p(a9)}var c4=h(h7-v),bq=h(h7+v);for(var di=c4;di<=bq;di++){var il=di-h7,j0=Math.floor(Math.sqrt(v*v-il*il)),j1=m(bh-j0),b5=m(bh);
for(var b4=j1;b4<=b5;b4++){var lm=F(di,b4,h7,bh);if(lm>v||lm<=v-a5)break;var ix=(lm-v+a5)/a5;ba[3]=jx-cm*(gP==1?ix:Math.pow(ix,gP));
Z((b4*M+di)*4,ba)}j1=m(bh+j0);for(var b4=j1;b4>b5;b4--){var lm=F(di,b4,h7,bh);if(lm>v||lm<=v-a5)break;
var ix=(lm-v+a5)/a5;ba[3]=jx-cm*(gP==1?ix:Math.pow(ix,gP));Z((b4*M+di)*4,ba)}}if(cg>0){B(Y,v+cg,ba,ba[3],cg,1,0,0,!0)}if(a9>0){B(Y,v-a5,w(n),-n[3],a9,1,0,0,!0)}}function g(Y,v,n,cm,a5,gP){B(Y,v,n,n[3],v+1,1,cm,a5,gP)}function x(Y,v,n,cm,a5){if(a5==null)a5=!1;
var gP=Y.x,cg=Y.y;cm*=j;if(!a5){v=p(v);n=p(n)}var a9=h(gP-v),ew=h(gP+v);for(var h7=a9;h7<ew;h7++){var bh=h7-gP,ba=~~Math.sqrt(v*v-bh*bh),jx=m(cg-ba),c4=m(cg);
for(var bq=jx;bq<=c4;bq++){var di=F(h7,bq,gP,cg);if(di>v||di<=v-n)break;var il=(v-di)/n,j0=X(300*il);
j0[3]=cm;Z((bq*M+h7)*4,j0)}jx=m(cg+ba);for(var bq=jx;bq>c4;bq--){var di=F(h7,bq,gP,cg);if(di>v||di<=v-n)break;
var il=(v-di)/n,j0=X(300*il);j0[3]=cm;Z((bq*M+h7)*4,j0)}}}function V(G,Y){var v=G.NU,n=G.S5,cm=Y.slice(0),a5=Y[3]*j,gP=Math.abs(n.y-v.y)>Math.abs(n.x-v.x);
if(gP){var cg=v.x;v.x=v.y;v.y=cg;cg=n.x;n.x=n.y;n.y=cg}if(v.x>n.x){var cg=v;v=n;n=cg}var a9=n.x-v.x,ew=n.y-v.y,h7=a9==0?1:ew/a9,bh=Math.round(v.x),ba=v.y+h7*(bh-v.x),jx=Q(v.x+.5),c4=bh,bq=~~ba;
if(gP){cm[3]=a5*Q(ba)*jx;u(bq,c4,cm);cm[3]=a5*D(ba)*jx;u(bq+1,c4,cm)}else{cm[3]=a5*Q(ba)*jx;u(c4,bq,cm);
cm[3]=a5*D(ba)*jx;u(c4,bq+1,cm)}var di=ba-h7;bh=Math.round(n.x);ba=n.y+h7*(bh-n.x);jx=D(n.x+.5);var il=bh,j0=~~ba;
if(gP){cm[3]=a5*Q(ba)*jx;u(j0,il,cm);cm[3]=a5*D(ba)*jx;u(j0+1,il,cm)}else{cm[3]=a5*Q(ba)*jx;u(il,j0,cm);
cm[3]=a5*D(ba)*jx;u(il,j0+1,cm)}if(gP){for(var j1=c4+1;j1<=il-1;j1++){cm[3]=a5*Q(di);u(~~di,j1,cm);cm[3]=a5*D(di);
u(~~di+1,j1,cm);di+=h7}}else{for(var j1=c4+1;j1<=il-1;j1++){cm[3]=a5*Q(di);u(j1,~~di,cm);cm[3]=a5*D(di);
u(j1,~~di+1,cm);di+=h7}}}function b(Y,v,n,cm){for(var R=0;R<4;R++){var a5=Y.e9(v+1.3*R,n);V(a5,cm,1)}}function j6(Y,v){this.x=Math.round(Y);
this.y=Math.round(v)}var N=Math.PI/180;j6.prototype.e9=function(Y,v){Y=Y*N;var n=this.x+v*Math.cos(Y),cm=this.y+v*Math.sin(Y);
return new J(this.x,this.y,n,cm)};j6.prototype.abU=function(Y,v){Y=Y*N;var n=this.lk+v*Math.cos(Y),cm=this.Hc+v*Math.sin(Y);
return new j6(n,cm)};function J(Y,v,n,cm){this.NU=new j6(Y,v);this.S5=new j6(n,cm)}J.prototype.ep=function(Y){var v=Y*this.NU.x+(1-Y)*this.S5.x,n=Y*this.NU.y+(1-Y)*this.S5.y;
return new j6(v,n)};var K=S,q=g,d=L,l=E,T=x,B=W,p=C,I=A,w=f,e=[];H();for(var R=0;R<s.length;R++){P[R]=s[R]}var G=new J(M*y[2],O*y[3],M/2,O/2),j=y[1],o=[];
o[0]=function r(){var Y=[80,40,15,60],n=0,cm=0;d(G.ep(1.4),260,Y,10);d(G.ep(1),100,[240,50,50,30],30);
q(G.ep(1),60,[255,40,0,40]);var v=[255,255,255,255];B(G.ep(1),70,v,v[3],58,.5);d(G.ep(1),12,v);v[3]=40;
K(G.ep(1),150,v,v[3],150);for(var R=0;R<40;R++){n+=Math.random()*25;cm=Math.random()*p(300)+p(100);var a5=G.ep(1).e9(n,cm);
V(G.ep(1).e9(n,cm),[110,110,110,30])}q(G.ep(1),130,[255,255,255,8]);var gP=[170,30,23,70];l(G.ep(1),70,gP,1,3,3);
var cg=[60,60,130,40];d(G.ep(.47),44,cg,5);d(G.ep(.43),22,cg,3);cg[3]=16;d(G.ep(.53),15,cg,2);var a9=[138,94,42,100];
d(G.ep(.2),16,a9,2);var ew=[130,255,170,180];q(G.ep(0),4,ew);q(G.ep(-.25),5,ew);a9=[150,90,0,50];K(G.ep(-.45),55,w(a9),-a9[3],40,2);
d(G.ep(-.42),35,a9,2);d(G.ep(-.5),15,a9,2);T(G.ep(-1.28),145,11,70);var h7=X(0);h7[3]=50;K(G.ep(-1.28),149,h7,h7[3],4);
h7=X(300);h7[3]=50;K(G.ep(-1.28),155-1,w(h7),-h7[3],3);var bh=[130,130,10,50];l(G.ep(-1),73,bh,3,2);
var ba=[40,130,70,40];K(G.ep(-1),70,w(ba),-ba[3],35);ba=[40,170,60,50];d(G.ep(-.7),25,ba,4);var ba=[70,110,50,60];
K(G.ep(1.3),30,w(ba),-ba[3],11,3);cg=[0,50,210,80];q(G.ep(-.72),20,cg)};o[1]=function k(){q(G.ep(1),150,[240,70,70,60]);
d(G.ep(1),100,[200,60,60,40],30);var Y=[255,255,255,255],v=0,n=0;B(G.ep(1),75,Y,Y[3],63);d(G.ep(1),12,Y);
q(G.ep(1),270,[200,200,200,20],10);for(var R=0;R<10;R++){v+=10+Math.random()*40;n=Math.random()*p(250)+p(80);
var cm=G.ep(1).e9(v,n);V(cm,[110,110,110,35])}v=5;n=100;for(var R=0;R<12;R++){v+=30;b(G.ep(1),v,n,[90,90,90,40])}var a5=[150,40,23,100];
l(G.ep(1),70,a5,1,3,3);var gP=[30,100,60,40];q(G.ep(-.9),180,[255,255,255,20]);d(G.ep(-.9),140,gP,15);
var cg=[170,80,25,15];l(G.ep(-.9),120,cg,1,4,4);var a9=[110,240,190,200];q(G.ep(-.6),3,a9);a9[3]=100;
q(G.ep(-.6),7,a9);var ew=[230,120,40,85];q(G.ep(-.73),9,ew);var h7=[60,60,190,50];d(G.ep(.3),28,h7,6);
h7[3]=25;d(G.ep(.34),20,h7,3)};o[2]=function a7(){var Y=[255,255,255,255],n=0,cm=0;d(G.ep(1),13,Y);B(G.ep(1),150,Y,Y[3],137);
var v=[120,80,35,20];d(G.ep(1.4),260,v,10);for(var R=0;R<40;R++){n+=5+Math.random()*30;cm=Math.random()*p(300);
V(G.ep(1).e9(n,cm),[110,110,110,20])}var a5=[10,30,255,30];d(G.ep(1),70,a5,50);var gP=[15,90,170,15];
d(G.ep(1.5),60,gP);var cg=[220,220,20,50];d(G.ep(-1.15),8,cg,2);var Y=[255,255,255,40];q(G.ep(-1.18),6,Y);
q(G.ep(-1.18),4,Y);cg=[110,110,10,8];K(G.ep(-1.2),32,w(cg),-cg[3],20,3);var a9=[5,0,16,255];for(var R=0;
R<4;R++){d(G.ep(-1.36),10,a9,3)}var ew=[90,200,150,20],h7=ew.slice(0);h7[3]*=2;d(G.ep(-1.32),7,h7,3);
d(G.ep(-1.36),7,h7,3);d(G.ep(-1.4),7,h7,3);var Y=[230,230,230,100];q(G.ep(-1.36),2,Y);Y[3]=3;d(G.ep(-.55),10,Y);
cg=[120,100,10,18];d(G.ep(-.55),160,cg,8);d(G.ep(-.55),80,cg,4);ew[3]=3;h7[3]=6;K(G.ep(-.49),13,w(h7),-h7[3],13,2);
K(G.ep(-.55),13,w(h7),-h7[3],13,2);ew[3]=20;d(G.ep(.15),25,ew,3);cg[3]=100;q(G.ep(-.52),3,cg);cg=[200,200,50,40];
d(G.ep(.27),1,cg,4);var bh=[150,40,23,30];K(G.ep(1),80,w(bh),-bh[3],2,1)};return o[y[0]]()};a.pO={};
a.pO.gV=function(s){var M=s.length,hS=s[0].length,O=new Array(hS);for(var R=0;R<hS;R++)O[R]=new Array(M);
for(var R=0;R<hS;R++)for(var P=0;P<M;P++)O[R][P]=s[P][R];return O};a.pO.TA=function(s,M){var O=s.length,hS=s[0].length,P=new Array(O);
for(var R=0;R<O;R++)P[R]=new Array(hS);for(var R=0;R<O;R++)for(var y=0;y<hS;y++)P[R][y]=s[R][y]-M[R][y];
return P};a.pO.add=function(s,M){var O=s.length,hS=s[0].length,P=new Array(O);for(var R=0;R<O;R++)P[R]=new Array(hS);
for(var R=0;R<O;R++)for(var y=0;y<hS;y++)P[R][y]=s[R][y]+M[R][y];return P};a.pO.multiply=function(s,M){var O=s.length,P=s[0].length,hS=M[0].length;
if(P!=M.length)throw"e";var y=new Array(O);for(var R=0;R<O;R++)y[R]=new Array(hS);if((P&1)!=0)for(var R=0;
R<O;R++){var F=s[R],A=y[R];for(var h=0;h<hS;h++){var m=0;for(var Z=0;Z<P;Z++)m+=F[Z]*M[Z][h];A[h]=m}}else for(var R=0;
R<O;R++){var F=s[R],A=y[R];for(var h=0;h<hS;h++){var m=0;for(var Z=0;Z<P;Z+=2)m+=F[Z]*M[Z][h]+F[Z+1]*M[Z+1][h];
A[h]=m}}return y};a.pO.xG=function(s,M){var O=s.length,hS=s[0].length,P=new Array(O);for(var R=0;R<O;
R++){var y=0;for(var F=0;F<hS;F++)y+=s[R][F]*M[F];P[R]=y}return P};a.pO.fW=function(s,M){var O=[];for(var R=0;
R<s;R++){O.push([]);for(var P=0;P<M;P++)O[R].push(0)}return O};a.pO.apB=function(s){for(var R=0;R<s.length;
R++)console.log(JSON.stringify(s[R]))};a.pO.awN=function(s){var M=[];for(var R=0;R<s.length;R++)M.push(s[R].join(","));
return"["+M.join(";")+"]"};a.pO.hB=function(s,M){var O=s.length;for(var P=0;P<O;P++){var y=0,F=Number.NEGATIVE_INFINITY;
for(var R=P;R<O;R++)if(Math.abs(s[R][P])>F){y=R;F=Math.abs(s[R][P])}a.pO.a9q(s,P,y);for(var R=P+1;R<O;
R++){if(s[P][P]==0)return 1;var A=s[R][P]/s[P][P];for(var h=P;h<O+1;h++)s[R][h]-=s[P][h]*A}}for(var R=O-1;
R>=0;R--){if(s[R][R]==0)return 1;var m=s[R][O]/s[R][R];M[R]=m;for(var h=R-1;h>=0;h--){s[h][O]-=s[h][R]*m;
s[h][R]=0}}return 0};a.pO.a9q=function(s,M,O){var P=s[M];s[M]=s[O];s[O]=P};a.pO.atr=function(s){var M=s.length,O=a.pO.fW(M,M);
for(var R=0;R<M;R++)O[R][R]=s[R];return O};a.pO.aA0=function(s){var M=s.length,O=s[0].length,P=new Array(M);
for(var R=0;R<M;R++){P[R]=0;for(var y=0;y<O;y++)P[R]+=s[R][y];P[R]/=O}return P};a.pO.Oi=function(s){var M=0;
for(var R=0;R<s.length;R++)M+=s[R]*s[R];return Math.sqrt(M)};a.rD={};a.rD.Qg=function(s){var M=~~(s+.5);
return M<0?0:M>255?255:M};a.rD.Gz=function(s,M,O){function P(m){return Math.max(0,Math.min(1,m))}var y=s.o.length;
for(var R=0;R<y;R++){var F=s.o[R],A=s.R[R],h=s.X[R];M.o[R]=P(O[0]*F+O[1]*A+O[2]*h+O[3]);M.R[R]=P(O[4]*F+O[5]*A+O[6]*h+O[7]);
M.X[R]=P(O[8]*F+O[9]*A+O[10]*h+O[11])}};a.rD.acR=function(s,M,O){var P=a.$i(s),y=P==8?255:P==16?65535:1,F=1/y,A=s.length;
function h(f){return Math.max(0,Math.min(1,f))}for(var R=0;R<A;R+=4){var m=s[R]*F,Z=s[R+1]*F,u=s[R+2]*F;
M[R]=y*h(O[0]*m+O[1]*Z+O[2]*u+O[3]);M[R+1]=y*h(O[4]*m+O[5]*Z+O[6]*u+O[7]);M[R+2]=y*h(O[8]*m+O[9]*Z+O[10]*u+O[11])}};
a.rD.abJ=function(s){var M=s[0]+s[1]+s[2],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];if(M==1){var P=s.indexOf(1);
O[P]=O[P+4]=O[P+8]=1}else{O[0]=s[0];O[5]=s[1];O[10]=s[2]}return O};a.rD.ld=function(s,M,O){return[1,0,0,s,0,1,0,M,0,0,1,O,0,0,0,1]};
a.rD.fU=function(s,M,O){return[s,0,0,0,0,M,0,0,0,0,O,0,0,0,0,1]};a.rD.aKz=function(s){return[s[0],s[1],s[2],s[4],s[5],s[6],s[8],s[9],s[10]]};
a.rD.SA=function(s){return[s[0],s[1],s[2],0,s[3],s[4],s[5],0,s[6],s[7],s[8],0,0,0,0,1]};a.rD.YO=function(s,M){return[s[0]*M[0]+s[1]*M[1]+s[2]*M[2]+s[3]*M[3],s[4]*M[0]+s[5]*M[1]+s[6]*M[2]+s[7]*M[3],s[8]*M[0]+s[9]*M[1]+s[10]*M[2]+s[11]*M[3],s[12]*M[0]+s[13]*M[1]+s[14]*M[2]+s[15]*M[3]]};
a.rD.gV=function(s){var M=[];M[0]=s[0];M[1]=s[4];M[2]=s[8];M[3]=s[12];M[4]=s[1];M[5]=s[5];M[6]=s[9];
M[7]=s[13];M[8]=s[2];M[9]=s[6];M[10]=s[10];M[11]=s[14];M[12]=s[3];M[13]=s[7];M[14]=s[11];M[15]=s[15];
return M};a.rD.add=function(s,M){var O=s.slice(0);for(var R=0;R<16;R++)O[R]+=M[R];return O};a.rD.multiply=function(s,M){var O=[];
O[0]=s[0]*M[0]+s[1]*M[4]+s[2]*M[8]+s[3]*M[12];O[1]=s[0]*M[1]+s[1]*M[5]+s[2]*M[9]+s[3]*M[13];O[2]=s[0]*M[2]+s[1]*M[6]+s[2]*M[10]+s[3]*M[14];
O[3]=s[0]*M[3]+s[1]*M[7]+s[2]*M[11]+s[3]*M[15];O[4]=s[4]*M[0]+s[5]*M[4]+s[6]*M[8]+s[7]*M[12];O[5]=s[4]*M[1]+s[5]*M[5]+s[6]*M[9]+s[7]*M[13];
O[6]=s[4]*M[2]+s[5]*M[6]+s[6]*M[10]+s[7]*M[14];O[7]=s[4]*M[3]+s[5]*M[7]+s[6]*M[11]+s[7]*M[15];O[8]=s[8]*M[0]+s[9]*M[4]+s[10]*M[8]+s[11]*M[12];
O[9]=s[8]*M[1]+s[9]*M[5]+s[10]*M[9]+s[11]*M[13];O[10]=s[8]*M[2]+s[9]*M[6]+s[10]*M[10]+s[11]*M[14];O[11]=s[8]*M[3]+s[9]*M[7]+s[10]*M[11]+s[11]*M[15];
O[12]=s[12]*M[0]+s[13]*M[4]+s[14]*M[8]+s[15]*M[12];O[13]=s[12]*M[1]+s[13]*M[5]+s[14]*M[9]+s[15]*M[13];
O[14]=s[12]*M[2]+s[13]*M[6]+s[14]*M[10]+s[15]*M[14];O[15]=s[12]*M[3]+s[13]*M[7]+s[14]*M[11]+s[15]*M[15];
return O};a.rD.or=function(s){var M=[];M[0]=s[5]*s[10]*s[15]-s[5]*s[14]*s[11]-s[6]*s[9]*s[15]+s[6]*s[13]*s[11]+s[7]*s[9]*s[14]-s[7]*s[13]*s[10];
M[1]=-s[1]*s[10]*s[15]+s[1]*s[14]*s[11]+s[2]*s[9]*s[15]-s[2]*s[13]*s[11]-s[3]*s[9]*s[14]+s[3]*s[13]*s[10];
M[2]=s[1]*s[6]*s[15]-s[1]*s[14]*s[7]-s[2]*s[5]*s[15]+s[2]*s[13]*s[7]+s[3]*s[5]*s[14]-s[3]*s[13]*s[6];
M[3]=-s[1]*s[6]*s[11]+s[1]*s[10]*s[7]+s[2]*s[5]*s[11]-s[2]*s[9]*s[7]-s[3]*s[5]*s[10]+s[3]*s[9]*s[6];
M[4]=-s[4]*s[10]*s[15]+s[4]*s[14]*s[11]+s[6]*s[8]*s[15]-s[6]*s[12]*s[11]-s[7]*s[8]*s[14]+s[7]*s[12]*s[10];
M[5]=s[0]*s[10]*s[15]-s[0]*s[14]*s[11]-s[2]*s[8]*s[15]+s[2]*s[12]*s[11]+s[3]*s[8]*s[14]-s[3]*s[12]*s[10];
M[6]=-s[0]*s[6]*s[15]+s[0]*s[14]*s[7]+s[2]*s[4]*s[15]-s[2]*s[12]*s[7]-s[3]*s[4]*s[14]+s[3]*s[12]*s[6];
M[7]=s[0]*s[6]*s[11]-s[0]*s[10]*s[7]-s[2]*s[4]*s[11]+s[2]*s[8]*s[7]+s[3]*s[4]*s[10]-s[3]*s[8]*s[6];M[8]=s[4]*s[9]*s[15]-s[4]*s[13]*s[11]-s[5]*s[8]*s[15]+s[5]*s[12]*s[11]+s[7]*s[8]*s[13]-s[7]*s[12]*s[9];
M[9]=-s[0]*s[9]*s[15]+s[0]*s[13]*s[11]+s[1]*s[8]*s[15]-s[1]*s[12]*s[11]-s[3]*s[8]*s[13]+s[3]*s[12]*s[9];
M[10]=s[0]*s[5]*s[15]-s[0]*s[13]*s[7]-s[1]*s[4]*s[15]+s[1]*s[12]*s[7]+s[3]*s[4]*s[13]-s[3]*s[12]*s[5];
M[11]=-s[0]*s[5]*s[11]+s[0]*s[9]*s[7]+s[1]*s[4]*s[11]-s[1]*s[8]*s[7]-s[3]*s[4]*s[9]+s[3]*s[8]*s[5];M[12]=-s[4]*s[9]*s[14]+s[4]*s[13]*s[10]+s[5]*s[8]*s[14]-s[5]*s[12]*s[10]-s[6]*s[8]*s[13]+s[6]*s[12]*s[9];
M[13]=s[0]*s[9]*s[14]-s[0]*s[13]*s[10]-s[1]*s[8]*s[14]+s[1]*s[12]*s[10]+s[2]*s[8]*s[13]-s[2]*s[12]*s[9];
M[14]=-s[0]*s[5]*s[14]+s[0]*s[13]*s[6]+s[1]*s[4]*s[14]-s[1]*s[12]*s[6]-s[2]*s[4]*s[13]+s[2]*s[12]*s[5];
M[15]=s[0]*s[5]*s[10]-s[0]*s[9]*s[6]-s[1]*s[4]*s[10]+s[1]*s[8]*s[6]+s[2]*s[4]*s[9]-s[2]*s[8]*s[5];var O=s[0]*M[0]+s[1]*M[4]+s[2]*M[8]+s[3]*M[12];
for(var R=0;R<16;R++)M[R]/=O;return M};a.rD.a9n=function(s){var M=[],O=s[5]*s[10]*s[15]-s[5]*s[14]*s[11]-s[6]*s[9]*s[15]+s[6]*s[13]*s[11]+s[7]*s[9]*s[14]-s[7]*s[13]*s[10],P=-s[4]*s[10]*s[15]+s[4]*s[14]*s[11]+s[6]*s[8]*s[15]-s[6]*s[12]*s[11]-s[7]*s[8]*s[14]+s[7]*s[12]*s[10],y=s[4]*s[9]*s[15]-s[4]*s[13]*s[11]-s[5]*s[8]*s[15]+s[5]*s[12]*s[11]+s[7]*s[8]*s[13]-s[7]*s[12]*s[9],F=-s[4]*s[9]*s[14]+s[4]*s[13]*s[10]+s[5]*s[8]*s[14]-s[5]*s[12]*s[10]-s[6]*s[8]*s[13]+s[6]*s[12]*s[9];
return s[0]*O+s[1]*P+s[2]*y+s[3]*F};a.rD.Hb=function(s,M,O,P){var y=Math.sin(P),F=Math.cos(P),A=1/Math.sqrt(s*s+M*M+O*O);
s*=A;M*=A;O*=A;return a.rD.SA([s*s*(1-F)+F,s*M*(1-F)-O*y,s*O*(1-F)+M*y,s*M*(1-F)+O*y,M*M*(1-F)+F,M*O*(1-F)-s*y,s*O*(1-F)-M*y,M*O*(1-F)+s*y,O*O*(1-F)+F])};
a.rD.vz=a.rD.SA([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
a.rD.acy=a.rD.SA([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
a.rD.aIC=a.rD.SA([1.3459433,-.2556075,-.0511118,-.5445989,1.5081673,.0205351,0,0,1.2118128]);a.rD.aFC=a.rD.SA([2.1861968,-.8165993,-.3530805,-.8443876,1.7943237,.024049,.0479222,-.1018347,1.2792565]);
a.rD.aLH=a.rD.or(a.rD.vz);a.dg={};a.dg.fD=new Uint32Array(1);a.dg.anO=function(s,M,O,P,y,F){var A=new Uint32Array(s),h=0,m=a.dg.fD;
if(m.length<M*4)a.dg.fD=m=new Uint32Array(M*4);var Z=new Float64Array(m.buffer);for(var R=0;R<M;R+=2){var u=y[R],f=y[R+1],U=F[R],C=F[R+1];
m[h]=f;Z[h+2>>1]=U;m[h+1]=A[u];A[u]=h+1;h+=4;m[h]=u;Z[h+2>>1]=C;m[h+1]=A[f];A[f]=h+1;h+=4}return{Au:m,at1:Z,adr:A}};
a.dg.hB=function(s,M,O,P,y,F,A){var h=1,m=a.dg.anO(s,M,O,P,y,F),Z=m.Au,u=m.at1,f=m.adr,U=new Uint32Array(s),C=new a.dg.ur(s),t=1,E=0;
C.push(O);C.push(P);var H=new a.dg.ur(s),X=new Uint8Array(s),Q=new Uint32Array(s);X[O]=1;X[P]=2;var D=new Uint32Array(s),L=new Uint32Array(s);
L[O]=L[P]=0;D[O]=D[P]=1;while(!0){var _=-1,N=0,d=1e30;while(!C.Dk()&&_==-1){var S=C.top(),W=X[S],g=f[S]-1;
while(g!=-1){var x=Z[g],V=X[x],b=g^W-1<<2;if(u[b+2>>1]!=0){if(V==0){a.dg.yA(S,g,x,X,Q,L,D);C.push(x)}else if(V==W&&D[x]<=D[S]&&L[x]>L[S])a.dg.yA(S,g,x,X,Q,L,D);
else if(V!=W){_=b}}g=Z[g+1]-1}if(_!=-1)break;C.pop()}if(_==-1){break}t++;var J=_;while(J!=-1){U[N]=J;
N++;J=Q[Z[J^4]]-1}var K=N>>1;for(var R=0;R<K;R++){var q=U[R];U[R]=U[N-R-1];U[N-R-1]=q}J=Q[Z[_]]-1;while(J!=-1){U[N]=J^4;
N++;J=Q[Z[J^4]]-1}for(var R=0;R<N;R++)d=Math.min(d,u[U[R]+2>>1]);E+=d;if(E>=A)return{yY:null,v1:E};for(var R=0;
R<N;R++){var l=U[R],T=l^4,S=Z[T],x=Z[l];u[l+2>>1]-=d;u[T+2>>1]+=d;if(u[l+2>>1]==0&&X[S]==X[x]){if(X[S]==1){Q[x]=0;
H.push(x)}if(X[S]==2){Q[S]=0;H.push(S)}}}while(!H.Dk()){var S=H.pop(),W=X[S],g=f[S]-1,B=W==1?4:0,p=0,I=0,w=1e9;
while(g!=-1){var x=Z[g],e=g^4,b=g^B;if(X[x]==W&&u[b+2>>1]>0&&a.dg.ata(x,O,P,Q,Z,t,D,L)+1<w){p=x;I=e;
w=L[x]+1}g=Z[g+1]-1}if(I!=0){a.dg.yA(p,I,S,X,Q,L,D);continue}g=f[S]-1;while(g!=-1){var x=Z[g],b=g^B;
if(X[x]==W){if(u[b+2>>1]>0){C.push(x)}if(Q[x]==g+1){Q[x]=0;H.push(x)}}g=Z[g+1]-1}X[S]=0;C.remove(S)}}var G=[];
for(var R=0;R<M;R+=2){var S=y[R],x=y[R+1];if(X[S]==1&&X[x]!=1){G.push(R>>1)}if(X[x]==1&&X[S]!=1){G.push(M+R>>1)}}return{yY:G,v1:E}};
a.dg.yA=function(s,M,O,P,y,F,A){P[O]=P[s];y[O]=M+1;F[O]=F[s]+1;A[O]=A[s]};a.dg.ata=function(s,M,O,P,y,F,A,h){var m=s,Z=P[s]-1,u=0;
while(Z!=-1&&A[s]!=F){s=y[Z^4];Z=P[s]-1;u++}if(Z==-1&&s!=M&&s!=O)return 1e9;var f=h[s]+u;u=0;Z=P[m]-1;
while(m!=s){h[m]=f-u;u++;A[m]=F;m=y[Z^4];Z=P[m]-1}return f};a.dg.ayC=function(s,M,O,P,y,F){var A=a.dg.anO(s,M,O,P,y,F),h=A.Au,m=A.at1,Z=A.adr,u=0,f=0,U=new Uint32Array(s*2),C=new a.dg.aHP(s),H=0;
while(!0){C.reset();C.push(O);for(var R=0;R<s;R++)U[R<<1]=0;while(!C.Dk()){var t=C.pop(),X=Z[t]-1;while(X!=-1){H=h[X];
if(U[H<<1]==0&&m[X+2>>1]>0&&H!=O){U[H<<1]=t+1;U[(H<<1)+1]=X;C.push(H)}X=h[X+1]-1}if(U[P<<1]!=0){break}}if(U[P<<1]==0){break}var Q=1e30;
H=P;while(!0){var D=U[H<<1]-1;if(D==-1)break;var L=U[(H<<1)+1];Q=Math.min(Q,m[L+2>>1]);H=D}H=P;while(!0){var D=U[H<<1]-1;
if(D==-1)break;var L=U[(H<<1)+1],E=L^4;m[L+2>>1]-=Q;m[E+2>>1]+=Q;H=D}u+=Q}var _=[];for(var R=0;R<M;R+=2){var D=y[R],H=y[R+1];
if((U[D<<1]!=0||D==O)&&U[H<<1]==0&&H!=O){_.push(R>>1)}if((U[H<<1]!=0||H==O)&&U[D<<1]==0&&D!=O){_.push(M+R>>1)}}return{yY:_,v1:u}};
a.dg.aHP=function(s){s|=s>>1;s|=s>>2;s|=s>>4;s|=s>>8;s|=s>>16;this.gU=new Uint32Array(s+1);this.we=s;
this.sC=0;this.lI=0};a.dg.aHP.prototype={push:function(s){var M=this.lI;this.gU[M]=s;this.lI=M+1&this.we},pop:function(){var s=this.sC,M=this.gU[s];
this.sC=s+1&this.we;return M},Dk:function(){return this.sC==this.lI},reset:function(){this.sC=0;this.lI=0}};
a.dg.ur=function(s){s|=s>>1;s|=s>>2;s|=s>>4;s|=s>>8;s|=s>>16;this.gU=new Uint32Array(s+1);this.df=new Uint32Array(s+1);
this.we=s;this.sC=0;this.lI=0};a.dg.ur.prototype={top:function(){return this.gU[this.sC]},aFV:function(){return this.gU[this.lI]},push:function(s){if(this.df[s]!=0)return;
this.df[s]=this.lI+1;var M=this.lI;this.gU[M]=s;this.lI=M+1&this.we},pop:function(){var s=this.sC,M=this.gU[s];
this.df[M]=0;this.sC=s+1&this.we;return M},Dk:function(){return this.sC==this.lI},remove:function(s){var M=this.df[s]-1;
if(M==-1)return;this.df[s]=0;if(M==this.sC){this.pop();return}var O=this.pop();this.gU[M]=O;this.df[O]=M+1},jn:function(R){return R+this.we+1&this.we}};
a.dg.ajz=function(s,M,O){var P=a.dg._F(s,M,O);if(M<P-1)a.dg.ajz(s,M,P-1);if(P<O)a.dg.ajz(s,P,O)};a.dg._F=function(s,M,O){var P=s[M+O>>>1];
while(M<=O){while(s[M]<P)M++;while(s[O]>P)O--;if(M<=O){a.dg.b_(s,M,O);M++;O--}}return M};a.dg.b_=function(s,M,O){var P=s[M];
s[M]=s[O];s[O]=P};a.qd=function(){var s,M;function O(A,h,hS){var m=hS-1,Z=h+hS;s[hS-2]=A[Z-2];M[0]=A[Z-1];
var u=Math.max;for(var R=1;R<m;R++){s[hS-2-R]=u(s[hS-1-R],A[Z-2-R]);M[R]=u(M[R-1],A[Z-1+R])}for(var R=0;
R<m;R++)A[h+R]=u(s[R],M[R])}function P(A,h,hS){var m=hS-1,Z=Math.ceil(h/m)*m;for(var u=0;u<Z;u+=m)O(A,u,hS)}function y(A,h,m,Z,hS,u){h.set(A);
if(hS==1)return;s=a.j(hS-1);M=a.j(hS-1);var f=hS>>>1,U=a.j(Math.ceil(Math.max(m,Z)/(hS-1))*(hS-1)+(hS-2)),C=new Uint8Array(U.buffer,0,m);
if(!u)a.or(h);for(var H=0;H<Z;H++){U.fill(0);U.set(new Uint8Array(h.buffer,H*m,m),f);P(U,m,hS);h.set(C,H*m)}for(var t=0;
t<m;t++){U.fill(0);for(var H=0;H<Z;H++)U[H+f]=h[H*m+t];P(U,Z,hS);for(var H=0;H<Z;H++)h[H*m+t]=U[H]}if(!u)a.or(h)}function F(A,h,m,Z,hS,u){var f=a.j(m*Z);
for(var U=0;U<4;U++){a.YT(A,f,U);if(U==3)a.or(f);y(f,f,m,Z,hS,u);if(U==3)a.or(f);a.GS(f,h,U)}}return{YY:y,aI6:F}}();
a.cV={};a.cV.aj0=function(s){for(var R=0;R<s.length;R++)a.cV.wL(s,R)};a.cV.wL=function(s,R){s[R].v.keyShapeInvalidated={t:"bool",v:!0}};
a.cV.akF=function(s){for(var R=0;R<s.length;R++)s[R].v.keyOriginIndex.v=R};a.cV.li=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
a.cV.Rn=function(s,M,O){s=s.v;var P={Rctn:2,Ln:4,Elps:5},y=P[s.classID],F=s.topLeft?a.cV.aj1(s):null,A=null,h=0,m=[!1,!1,0,0,0];
if(y==4){var Z=s.Strt.v,u=s.End.v;A=[Z.Hrzn.v.val,Z.Vrtc.v.val,u.Hrzn.v.val,u.Vrtc.v.val];h=s.Wdth.v.val;
for(var R=0;R<2;R++){var f=s[R==0?"StrA":"EndA"];if(f==null)continue;f=f.v;m[R]=f.On.v;m[2]=f.Wdth.v;
m[3]=f.Lngt.v;m[4]=f.Cncv.v.val}}if(y==null)return null;return a.cV.EO(y,y==4?null:a.cV.jC(s,M,O),F,A,h,m)};
a.cV.Qu=function(s,M,O,P,y,F,A){var h={classID:s,unitValueQuadVersion:{t:"long",v:1}};if(M)a.cV.iX(h,["Left","Top","Rght","Btom"],M);
if(O)a.cV.iX(h,["topLeft","topRight","bottomRight","bottomLeft"],O);if(s=="Ln"){h.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:P[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:P[1]}}}},h.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:P[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:P[3]}}}},h.Wdth={t:"UntF",v:{type:"#Pxl",val:y}};
for(var R=0;R<2;R++){var m=R==0?"StrA":"EndA";h[m]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:A[R]},Wdth:{t:"doub",v:A[2]},Lngt:{t:"doub",v:A[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:A[4]}}}}}}if(F)h.Nm={t:"TEXT",v:F};
return{t:"Objc",v:h}};a.cV.al_=function(s,M){var O=a.cV.tS(s),P=s[2]-s[0],y=s[3]-s[1],F=Math.sqrt(P*P+y*y),A=[0,0,F,0,F,M,0,M],h=new kp;
h.rotate(-O);h.translate(s[0],s[1]);a.b.M(A,h,A);return A};a.cV.EO=function(s,M,O,P,y,F){var A=a.cV.li(),h=A.v,m;
delete h.keyShapeInvalidated;h.keyOriginType={t:"long",v:s};h.keyOriginResolution={t:"doub",v:75};if(s==4){h.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:P[0]},Vrtc:{t:"doub",v:P[1]}}};
h.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:P[2]},Vrtc:{t:"doub",v:P[3]}}};m=a.cV.al_(P,y);
var Z=a.b.hG(m);M=[Z.x,Z.y,Z.x+Z.A,Z.y+Z.$];h.keyOriginLineWeight={t:"doub",v:y};if(F)a.cV.aes(h,F)}else m=[M[0],M[1],M[2],M[1],M[2],M[3],M[0],M[3]];
h.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};a.cV.h_(h,"keyOriginBoxCorners",m);var u={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
h.keyOriginShapeBBox={t:"Objc",v:u};a.cV.ah5(h,M);if(O!=null){var f={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
h.keyOriginRRectRadii={t:"Objc",v:f};a.cV.lr(h,O)}return A};a.cV.M=function(s,M,O,P){var y=a.F.ap3(M),F=a.F.apG(M),A=a.F.to(M),h=A.cd*A.zv-A.X*A.xN;
for(var R=0;R<s.length;R++){var m=s[R].v;if(!a.cV.bF(m))continue;if(O.length!=0&&O.indexOf(R)==-1)continue;
var Z=m.keyOriginType.v,u=M;if(h<0&&Z==2){var f=a.cV.II(m),U=0;U=f[0];f[0]=f[1];f[1]=U;U=f[2];f[2]=f[3];
f[3]=U;a.cV.lr(m,f);var C=a.cV.aW(m,"keyOriginBoxCorners"),H=a.b.hG(C),t=H.x+H.A/2,X=new kp;X.translate(-t,0);
X.scale(-1,1);X.translate(t,0);u=a.F.u2(u,a.F.y1(X))}var Q=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var D=0;D<Q.length;D++){var C=a.cV.aW(m,Q[D]);if(C==null)continue;a.F.M(u,C);a.cV.h_(m,Q[D],C);var H=a.b.hG(C);
a.cV.ah5(m,[H.x,H.y,H.x+H.A,H.y+H.$]);var L=new kp;L.rotate(-a.cV.tS(C));var E={classID:"Trnf"};m.Trnf={t:"Objc",v:E};
var _="xx xy yx yy tx ty".split(" "),S=[L.cd,L.X,L.xN,L.zv,L.cj,L.H3];for(var W=0;W<6;W++)E[_[W]]={t:"doub",v:S[W]}}if(Z==2&&P){var f=a.cV.II(m);
for(var D=0;D<4;D++)f[D]=Math.round(f[D]*M[0]);a.cV.lr(m,f)}var C=a.cV.aW(m,"keyOriginBoxCorners"),g=C[2]-C[0],x=C[3]-C[1],V=Math.sqrt(g*g+x*x);
g/=V;x/=V;var b=C[6]-C[0],N=C[7]-C[1],J=Math.sqrt(b*b+N*N);b/=J;N/=J;if(Z==4){var K=A.dI();m.keyOriginLineWeight.v*=K;
var q=a.cV.QR(m);a.F.M(M,q);a.cV.aav(m,q);var d=a.cV.a2i(m);d[2]*=K;d[3]*=K;a.cV.aes(m,d)}var l=g*b+x*N;
if(Math.abs(l)>.001){a.cV.wL(s,R)}}};a.cV.bF=function(s){var M=s.keyShapeInvalidated,O=s.keyOriginType;
return(M==null||!M.v)&&O!=null&&O.v!=9};a.cV.aaQ=function(s){var M=s.keyOriginType.v,O=a.cV.tL(s),P=O[0],y=O[1],F=O[2],A=O[3],h=new kp,m=s.keyOriginPolyCornerRadius,C;
m=m?m.v:0;var Z=a.cV.aW(s,M==7||M==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),u=a.cV.qk(Z),f=u[2],U=u[3];
P=-f/2;F=f/2;y=-U/2;A=U/2;h.rotate(-a.cV.tS(Z));h.cj=u[0];h.H3=u[1];if(M==1||M==2){var H=M==1?0:a.cV.II(s);
C=a.z.uU.Rect(P,y,F-P,A-y,H)}else if(M==4){var t=a.cV.QR(s),X=a.cV.a2i(s);h=new kp;if(X==null)C=a.z.uU.jW(t[0],t[1],t[2],t[3],s.keyOriginLineWeight.v);
else C=a.z.uU.mx(t[0],t[1],t[2],t[3],s.keyOriginLineWeight.v,X)}else if(M==5){C=a.z.uU.Y9(P,y,F-P,A-y)}else if(M==7||M==8){var Q=M==7?3:s.keyOriginPolySides.v;
C=a.z.uU.Ll(0,0,100,Math.PI/Q-Math.PI/2,Q,m,F,A)}a.z.R7(C,h);return C};a.cV.hl=function(s,M){var O=M.u;
for(var R=0;R<s.length;R++){var P=s[R].v;if(!a.cV.bF(P))continue;var y=a.cV.aaQ(P),F=a.z.AS(O,R),A=a.z.zc(O,R);
y[2].VF=O[F].VF;var h=O;O=O.slice(0,F);for(var m=2;m<y.length;m++)O.push(y[m]);for(var m=F+A;m<h.length;
m++)O.push(h[m])}M.u=O;M.oy=!0};a.cV.da=function(s){var M=1e9,O=-M,P=1e9,y=-P,F=[],A=s.Iv(),h=A[0],m=A[1];
for(var Z=0;Z<m.length;Z++){var u=h[m[Z]],f=u.add.vogk;if(f==null)continue;var U=u.add.vmsk.Y;for(var C=0;
C<f.length;C++){if(m.length==1&&U.length!=0&&U.indexOf(C)==-1)continue;var H=f[C].v,t=a.cV.ai9(H);if(t){F.push(t);
var X=t[1];M=Math.min(M,X[0]);P=Math.min(P,X[1]);O=Math.max(O,X[2]);y=Math.max(y,X[3])}}}return F.length==1?F[0]:[0,M<O?[M,P,O,y]:null,0]};
a.cV.ai9=function(s){if(!a.cV.bF(s))return;var M=s.keyOriginType.v,P=0;if(M==9)return;var O=a.cV.tL(s),y=a.cV.aW(s,"keyOriginBoxCorners");
if(y){var F=a.cV.qk(y),A=F[2],h=F[3];O[2]=O[0]+A;O[3]=O[1]+h;P=a.cV.tS(y)}var m=[M,O,P],Z=s.keyOriginPolyCornerRadius;
if(M==2)m.push(a.cV.II(s));if(M==7||M==8)m.push(Z?Z.v:0);if(M==8)m.push(s.keyOriginPolySides.v);return m};
a.cV.a1Q=function(s,M,O){for(var R=0;R<s.length;R++){if(M.indexOf(R)==-1)continue;var P=s[R].v,y=a.cV.ai9(P);
if(y){var F=y[0],A=a.cV.aW(P,F==7||F==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),h=a.cV.qk(A);
console.log(F);if(F==2){var m=[],Z=[];for(var u=0;u<4;u++){var f=y[2]+(u+.5)*Math.PI/2,U=Math.max(y[3][u]*Math.sqrt(2),20/O.xq),C=A[2*u]+Math.cos(f)*U,H=A[2*u+1]+Math.sin(f)*U;
Z.push(C,H);m.push(A[2*u],A[2*u+1])}return[R,Z,m,A,h.slice(0,2)]}if(F==5){return[R,null,null,A,h.slice(0,2)]}if(F==8){var f=y[2]-Math.PI/2,t=h[3]*.5,U=t-Math.max(y[3],20/O.xq),X=Math.sin(f),Q=Math.cos(f);
return[R,[h[0]+Q*U,h[1]+X*U],[h[0]+Q*t,h[1]+X*t],A,h.slice(0,2)]}}}return null};a.cV.tS=function(s){var M=s[2]-s[0],O=s[3]-s[1];
return-Math.atan2(-O,M)};a.cV.aeQ=function(s){var M=a.cV.tL(s);return a.cV.tS(M)};a.cV.ad5=function(s,M,O){var P=a.cV.da(s),y=-1;
for(var R=0;R<M.length;R++)if(JSON.stringify(M[R])!=JSON.stringify(P[R]))y=R;if(y==1||y==2){}var F=s.Iv(),A=F[0],h=F[1];
for(var m=0;m<h.length;m++){var Z=A[h[m]],u=Z.add.vogk;if(u==null)continue;var f=Z.add.vmsk.Y;for(var U=0;
U<u.length;U++){var C=u[U].v;if(!a.cV.bF(C))continue;if(h.length==1&&f.length!=0&&f.indexOf(U)==-1)continue;
var H=C.keyOriginType.v;if(y==1||y==2){a.cV.M(u,a.cV.aap(y,C,P,M),f,!1);break}if(y==3)if(H==2)a.cV.lr(C,M[3]);
else C.keyOriginPolyCornerRadius={t:"doub",v:M[3]};if(y==4)C.keyOriginPolySides.v=M[4];if(O)a.cV.wL(u,U)}}};
a.cV.aap=function(s,M,O,P){var y=P[1],F=O[1],A=(y[2]-y[0])/(F[2]-F[0]),h=(y[3]-y[1])/(F[3]-F[1]),m=new kp;
if(s==1){if(Math.max(Math.abs(A-1),Math.abs(h-1))>1e-8){var Z=y[0],u=y[1];if(P[0]!=0){var f=a.cV.aW(M,"keyOriginBoxCorners");
Z=f[0];u=f[1]}m.translate(-Z,-u);m.rotate(P[2]);m.scale(A,h);m.rotate(-P[2]);m.translate(Z,u)}else{m.translate(-F[0],-F[1]);
m.translate(y[0],y[1])}}else{if(P[0]!=0)y=a.cV.tL(M);var Z=(y[0]+y[2])/2,u=(y[1]+y[3])/2;m.translate(-Z,-u);
if(O[0]!=0)m.rotate(O[2]);m.rotate(-P[2]);m.translate(Z,u)}return a.F.y1(m)};a.cV.qk=function(s){var M=s[0],O=s[1],P=s[2],y=s[3],F=s[4],A=s[5],h=s[6],m=s[7],Z=P-M,u=y-O,f=Math.sqrt(Z*Z+u*u),Z=F-P,u=A-y,U=Math.sqrt(Z*Z+u*u);
return[(M+F)/2,(O+A)/2,f,U]};a.cV.aW=function(s,M){var O=s[M];if(O==null)return null;var P=[];O=O.v;
for(var y=0;y<4;y++){var F=O["rectangleCorner"+["A","B","C","D"][y]].v;P.push(F.Hrzn.v,F.Vrtc.v)}return P};
a.cV.h_=function(s,M,O){var P=s[M];if(P==null)return null;P=P.v;for(var y=0;y<4;y++){var F="rectangleCorner"+["A","B","C","D"][y];
P[F]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:O[2*y]},Vrtc:{t:"doub",v:O[2*y+1]}}}}};a.cV.tL=function(s){return a.cV.jC(s.keyOriginShapeBBox.v)};
a.cV.jC=function(s,M,O){var P=s.classID,y=s.Left.v,F=s.Rght.v,A=s.Top.v,h=s.Btom.v,m=y.type;if(y.val!=null){y=y.val;
F=F.val;A=A.val;h=h.val}if(m=="#Prc"&&M){y*=M/100;F*=M/100;A*=O/100;h*=O/100}return[y,A,F,h]};a.cV.Gt=function(s,M,O){var P=a.cV.jC(s,M,O);
return new gi(P[0],P[1],P[2]-P[0],P[3]-P[1])};a.cV.ah5=function(s,M){a.cV.iX(s.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],M)};
a.cV.II=function(s){var M=s.keyOriginRRectRadii;if(M==null)return[0,0,0,0];return a.cV.aj1(M.v)};a.cV.aj1=function(s){var M=[],O=["topLeft","topRight","bottomRight","bottomLeft"];
for(var P=0;P<4;P++)M.push(s[O[P]].v.val);return M};a.cV.lr=function(s,M){a.cV.iX(s.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],M)};
a.cV.iX=function(s,M,O){var P=s.classID;if(P=="unitRect"||P=="radii"||P=="Rctn"){for(var R=0;R<4;R++)if(O[R]!=null)s[M[R]]={t:"UntF",v:{type:"#Pxl",val:O[R]}}}else{for(var R=0;
R<4;R++)if(O[R]!=null)s[M[R]]={t:"doub",v:O[R]}}};a.cV.QR=function(s){var M=s.keyOriginLineStart.v,O=s.keyOriginLineEnd.v;
return[M.Hrzn.v,M.Vrtc.v,O.Hrzn.v,O.Vrtc.v]};a.cV.aav=function(s,M){var O=s.keyOriginLineStart.v,P=s.keyOriginLineEnd.v;
O.Hrzn.v=M[0];O.Vrtc.v=M[1];P.Hrzn.v=M[2];P.Vrtc.v=M[3]};a.cV.a2i=function(s){var M=[],O=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var R=0;R<5;R++){var P=s["keyOriginLineArr"+O[R]];if(P==null)return null;M[R]=P.v}return M};a.cV.aes=function(s,M){s.keyOriginLineArrowSt={t:"bool",v:M[0]};
s.keyOriginLineArrowEnd={t:"bool",v:M[1]};s.keyOriginLineArrWdth={t:"doub",v:M[2]};s.keyOriginLineArrLngth={t:"doub",v:M[3]};
s.keyOriginLineArrConc={t:"long",v:M[4]}};a.cV.aoC=function(s){function M(E,_){return Math.abs(E-_)<.5}function O(E,_){return M(E.x,_.x)&&M(E.y,_.y)}function P(E,_,S,W,g,x,V){for(var R=0;
R<V;R++){var b=E[_+(S+R)%V],N=W[g+(x+R)%V];if(!(O(b.nr,N.nr)&&O(b.Rb,N.Rb)&&O(b.XO,N.XO)))return!1}return!0}var y=[];
for(var F=0;F<s.length;F++){var A=s[F],m=null;if(A.I!=0&&A.I!=3||A.VF==-1)continue;var h=F;if(A.length==4||A.length==8){var Z=a.z.akW(s.slice(0,2).concat(s.slice(h,h+A.length+1)));
h=2;if(A.length==4){var u=a.z._v(Z,h+1,4),f=u.x,U=u.y,C=f+u.A,H=U+u.$;if(u.C()>4){if(a.z.rh(Z.slice(h-2,h+5)))m=a.cV.EO(2,[f,U,C,H],[0,0,0,0]);
else{var t=-1;for(var R=0;R<4;R++)if(M(Z[h+1+R].nr.y,H))t=R;if(t!=-1){var X=a.z.uU.Y9(f,U,C-f,H-U),Q=P(Z,h+1,t,X,3,0,4);
if(Q)m=a.cV.EO(5,[f,U,C,H])}}}}if(A.length==8){var u=a.z._v(Z,h+1,8),f=u.x,U=u.y,C=f+u.A,H=U+u.$;if(u.C()>4){var t=-1;
for(var R=0;R<8;R++)if(M(Z[h+1+(R+1&7)].nr.y,U)&&M(Z[h+1+(R+2&7)].nr.y,U))t=R;if(t!=-1){var D=Math.abs(Z[h+1+t].nr.y-U),L=[D,D,D,D];
if(D>.5){var X=a.z.uU.Rect(f,U,C-f,H-U,L),Q=P(Z,h+1,t,X,3,0,8);if(Q)m=a.cV.EO(2,[f,U,C,H],L)}}}}if(s[F+A.length+1]&&s[F+A.length+1].VF==-1)m=0}y.push(m?m:a.cV.li())}return y};
a.b={};a.b.v=function(s){return{J8:s.J8.slice(0),L:s.L.slice(0)}};a.b.acx=function(s){if(s.length<6)return!0;
var M=s.length-4;for(var R=0;R<M;R+=2)if(!a.b.pp(s[R],s[R+1],s[R+2],s[R+3],s[R+4],s[R+5]))return!1;if(!a.b.pp(s[M],s[M+1],s[M+2],s[M+3],s[0],s[1]))return!1;
if(!a.b.pp(s[M+2],s[M+3],s[0],s[1],s[2],s[3]))return!1;return!0};a.b.pp=function(s,M,O,P,y,F){return(M-P)*(y-O)+(O-s)*(F-P)>=0};
a.b.afw=function(s,M){function O(w,e,g){var S=e[0]-w[0],W=e[1]-w[1],G=a.b.vH(g[0],g[1],-W,S,w[0],w[1],S,W);
return[g[0]-W*G,g[1]+S*G]}function P(w,e){var S=w[0]-e[0],W=w[1]-e[1];return Math.sqrt(S*S+W*W)}s=a.b.aCT(s);
var y=[0,0,0,0],F=s.length,A=[0,0,0,0],h=Math.PI/2,m=Math.atan2(-1,0),C=1e9,H,t=0;function Z(){for(var R=0;
R<4;R++){var Q=y[R],D=(Q+2)%F,w=s[D]-s[Q],e=s[D+1]-s[Q+1],G=Math.atan2(e,w),j=m+R*h;if(G<j)j-=2*Math.PI;
A[R]=G-j}}for(var R=0;R<F;R+=2){var u=s[R],f=s[R+1];if(u<s[y[0]])y[0]=R;if(f<s[y[1]+1])y[1]=R;if(u>s[y[2]])y[2]=R;
if(f>s[y[3]+1])y[3]=R}Z();var U=a.b.hG(s).C();while(t<F/2){var X=0;for(var R=0;R<4;R++)if(A[R]<A[X])X=R;
var Q=y[X],D=(Q+2)%F,L=y[X+2&3],E=y[X+3&3],_=y[X+1&3],u=s[Q],S=s[D]-u,f=s[Q+1],W=s[D+1]-f,g=s.slice(Q,Q+2),x=s.slice(D,D+2),V=s.slice(L,L+2),b=s.slice(E,E+2),N=s.slice(_,_+2),J=O(g,x,V),K=O(b,[b[0]-W,b[1]+S],N),q=P(J,V),d=P(K,N);
if(d*q<C){C=d*q;var l=O(g,x,b);H=[l[0],l[1],S,W,d,q]}m+=A[X];y[X]=D;Z();t++}var u=H[0],f=H[1],S=H[2],W=H[3],d=H[4],q=H[5],T=Math.sqrt(S*S+W*W);
S/=T;W/=T;var B=u+S*d,p=f+W*d,I=[u,f,B,p,B-W*q,p+S*q,u-W*q,f+S*q];while(I[0]>I[2]||Math.abs((I[3]-I[1])/(I[2]-I[0]))>1){I.push(I.shift(),I.shift())}return I};
a.b.aCT=function(s){var M=0;for(var R=0;R<s.length;R+=2)if(s[R]<s[M])M=R;var O=[M];while(!0){var P=O[O.length-1],y=s[P],F=s[P+1],A=O.length==1?O[0]:O[O.length-2],h=s[A],m=s[A+1],U=0,C=1e9,H=0;
if(O.length==1)m+=20;var Z=h-y,u=m-F,f=Math.sqrt(Z*Z+u*u);Z/=f;u/=f;for(var R=0;R<s.length;R+=2){if(R==A||R==P)continue;
var t=s[R],X=s[R+1],Q=t-y,D=X-F,L=Math.sqrt(Q*Q+D*D);Q/=L;D/=L;var E=Z*Q+u*D;if(E<C||E==C&&L>H){C=E;
U=R;H=L}}if(U==O[0])break;O.push(U)}var _=[];for(var R=0;R<O.length;R++)_.push(s[O[R]],s[O[R]+1]);return _};
a.b.Ib=function(s){var M={},O=0,P={M:2,L:2,Q:4,C:6},y="",F="",A={L:[],J8:[]};for(var R=0;R<s.J8.length;
R++){var h=s.J8[R];if(h[0]=="#")y=h;else if(h[0]=="X"){var m=y+F;if(M[m]==null)M[m]={L:[],J8:[]};a.b.concat(M[m],A);
y="";F="";A={L:[],J8:[]}}else if(h[0]=="O"&&h[1]=="-")F=h;else if(h=="OX"){if(F!="")F+="-1"}else{A.J8.push(h);
var Z=P[h];if(Z==null)Z=0;for(var u=0;u<Z;u++)A.L.push(s.L[O+u]);O+=Z}}return M};a.b.a0J=function(s,M,O){var P=s[M]-s[O-2],y=s[M+1]-s[O-1];
return P*P+y*y<1e-4};a.b.QG=function(s){var M=[],O=s.L,P=s.J8.length-1;for(var y=0;y<P;y++){var R=y*6,F=O[R+6]-O[R+0],A=O[R+7]-O[R+1],h=Math.ceil(Math.sqrt(F*F+A*A));
for(var m=0;m<h;m++){var Z=m/h,u=1-Z,f=u*u*u*O[R+0]+3*u*u*Z*O[R+2]+3*u*Z*Z*O[R+4]+Z*Z*Z*O[R+6],U=u*u*u*O[R+1]+3*u*u*Z*O[R+3]+3*u*Z*Z*O[R+5]+Z*Z*Z*O[R+7];
M.push(f,U)}}return M};a.b.Ie=function(s,M,O){s=a.b.iz(s);var P=s.L,y=s.J8,F=0,A="",h=0,m=0,F=0,f=null;
for(var R=0;R<y.length;R++){var Z=y[R];if(Z=="M"){h=P[F];m=P[F+1];F+=2;A=Z}if(Z=="C"){if(A=="Z"){y.splice(R,0,"M");
P.splice(F,0,h,m);R--;continue}F+=6;A=Z}if(Z=="Z"){A=Z}}var u=[];F=0;for(var R=0;R<y.length;R++){var Z=y[R];
if(Z=="M"){f={g9:F,fj:0,tw:!1};u.push(f);F+=2}if(Z=="C"){f.fj++;F+=6}if(Z=="Z"&&f!=null){f.tw=!0}}var U=[];
for(var R=0;R<u.length;R++)if(u[R].fj!=0)U.push(u[R]);u=U;for(var R=0;R<u.length;R++){var C=u[R],H=C.g9,t=H+2+C.fj*6,Q=0;
C.rC=a.b.hG(P,H,t);var X=a.b.a0J(P,H,t);for(var D=0;D<C.fj;D++){var L=H+D*6,E=L+6;Q+=(P[E]-P[L])*(P[E+1]+P[L+1])}if(C.fj==2){var _=function(k,a7,Y){var v=1-Y;
return v*v*v*k[a7]+3*v*v*Y*k[a7+2]+3*v*Y*Y*k[a7+4]+Y*Y*Y*k[a7+6]},S=P[H],W=P[H+1],g=P[H+6],x=P[H+7],V=P[H+6],b=P[H+7],N=_(P,H,.5),J=_(P,H+1,.5),K=_(P,H+6,.5),q=_(P,H+7,.5);
Q=(N-S)*(J-W)+(g-N)*(x-J)+(K-g)*(q-x)+(V-K)*(b-q)}if(!X)Q+=(P[H]-P[t-2])*(P[H+1]+P[t-1]);C.cK=Q<=0}for(var R=0;
R<u.length-1;R++)for(var L=R+1;L<u.length;L++){var d=u[R],l=u[L];if(l.rC.fl(d.rC)){u[R]=l;u[L]=d}}var T=u.length==0?!0:u[0].cK,B=[{I:6},{I:8,all:0}];
for(var R=0;R<u.length;R++){var C=u[R],H=C.g9,t=H+2+C.fj*6,X=a.b.a0J(P,H,t);if(C.fj==1)X=!1;var p=C.tw||X?0:3,I=C.cK==T&&!M?1:0;
if(!M&&R!=0){if(u[R-1].rC.fl(C.rC)&&u[R-1].cK!=C.cK)I=0;for(var L=0;L<u.length;L++)if(L!=R&&u[L].rC.fl(C.rC))I=0}B.push({I:p,length:C.fj+(X?0:1),VF:O?0:I,gW:2});
for(var L=0;L<C.fj;L++){var F=H+L*6,w=new j6(P[F],P[F+1]),e=new j6(P[F+2],P[F+3]),G;if(L==0){if(X){G=new j6(P[t-4],P[t-3]);
if(j6.gp(G,w)<1e-5)G=w.v()}else G=w.v()}else G=new j6(P[F-2],P[F-1]);B.push({I:p+2,Rb:G,nr:w,XO:e})}if(!X){var j=new j6(P[t-2],P[t-1]);
B.push({I:p+2,Rb:new j6(P[t-4],P[t-3]),nr:j,XO:j.v()})}}for(var L=0;L<B.length;L++){var o=B[L];if(o.I>5||o.I==0||o.I==3)continue;
var r=o.Rb.s0(o.nr)||o.XO.s0(o.XO);if(!r){var d=o.Rb.x*(o.nr.y-o.XO.y)+o.nr.x*(o.XO.y-o.Rb.y)+o.XO.x*(o.Rb.y-o.nr.y);
if(Math.abs(d)<1e-6)r=!0}if(r)o.I--}return B};a.b.qN=function(s,M){var O=a.z._i(s),P=[];for(var R=2;
R<s.length;R++){var y=s[R].VF;if(y!=null){if(y==2||y==0||y==3||y==-1)P.push(y)}}var F=P.length!=0;if((F||M)&&1<O){console.log(F,M,O,"merge");
if(s.length<5e3&&O<30)s=a.z.Vn(s);else alert("Too complex shapes, skipping the merging step.")}var A=a.b.TM(s);
return{fp:A,iU:O==1?s[2].gW==2?0:1:F?1:0}};a.b.TM=function(){function s(P,y,F,A){if(A!=2&&P.XO.s0(P.nr)&&y.Rb.s0(y.nr)){F.L.push(y.nr.x,y.nr.y);
F.J8.push("L")}else{var h=P.nr,m=P.XO,Z=y.Rb,u=y.nr,f=3/2*m.x-1/2*h.x,U=3/2*m.y-1/2*h.y,C=3/2*Z.x-1/2*u.x,H=3/2*Z.y-1/2*u.y,t=C-f,X=H-U;
if(A==0&&t*t+X*X<.001){F.L.push((f+C)*.5,(U+H)*.5,u.x,u.y);F.J8.push("Q")}else{F.L.push(m.x,m.y,Z.x,Z.y,u.x,u.y);
F.J8.push("C")}}}function M(P,y,R,F,A,h){var m=y[R];P.L.push(m.nr.x,m.nr.y);P.J8.push("M");for(var Z=R;
Z<R+F-1;Z++)s(y[Z],y[Z+1],P,h);if(!A)s(y[Z],y[R],P,h)}function O(P,y){if(y==null)y=0;var F={L:[],J8:[]};
for(var R=0;R<P.length;R++){if(P[R].I>5)continue;var A=P[R].length;if(A==0)continue;if(R==P.length-1)break;
var h=P[R].I==3;M(F,P,R+1,A,h,y);if(!h)F.J8.push("Z");R+=A}return F}return O}();a.b.anP=function(s){var M=s.L,O=[],P,y=0;
for(var R=0;R<s.J8.length;R++){var F=s.J8[R];if(F=="C"){P.push(M[y++],M[y++],M[y++],M[y++],M[y++],M[y++])}else if(F=="Z"){}else{P=[];
if(F!="M"){P.push(F);R++}P.push(M[y++],M[y++]);O.push(P)}}return O};a.b.Sk=function(s,M,O,P,y){if(P==null)P=1e9;
if(y==null)y=-1;var F=1e9,A=0;for(var R=0;R<s.length;R+=2){if(R>>>1==y)continue;var h=M-s[R],m=O-s[R+1],Z=h*h+m*m;
if(Z<F){F=Z;A=R>>>1}}return F<P*P?A:-1};a.b.aB8=function(s,M,O,P){for(var R=0;R<s.length;R+=2){var y=s[R],F=s[R+1],A=M[R],h=M[R+1];
O[R]=y+(A-y)*P;O[R+1]=F+(h-F)*P}};a.b.M=function(s,M,O){for(var R=0;R<s.length;R+=2){var P=s[R],y=s[R+1];
O[R]=P*M.cd+y*M.xN+M.cj;O[R+1]=P*M.X+y*M.zv+M.H3}};a.b.hG=function(s,M,O){if(M==null)M=0;if(O==null)O=s.length;
var P=99999999999,y=-P,F=99999999999,A=-F;for(var R=M;R<O;R+=2){var h=s[R],m=s[R+1];P=Math.min(P,h);
F=Math.min(F,m);y=Math.max(y,h);A=Math.max(A,m)}return new gi(P,F,y-P,A-F)};a.b.a1x=function(s,M){var O=Math.max(M.x,Math.min(M.x+M.A,s.x)),P=Math.max(M.y,Math.min(M.y+M.$,s.y)),y=s.x-O,F=s.y-P;
return Math.sqrt(y*y+F*F)};a.b.An=function(s,M){var O=Math.floor,P=Math.ceil;if(M){O=Math.ceil;P=Math.floor}var y=O(s.x),F=P(s.x+s.A),A=O(s.y),h=P(s.y+s.$);
return new gi(y,A,F-y,h-A)};a.b.q7=function(s,M){var O=a.b.hG(s);if(M)O.rX(-1e-9,-1e-9);return a.b.An(O)};
a.b.hC=function(s,M){var O=s.x,P=s.y,y=s.x+s.A,F=s.y+s.$,A=[O,P,y,P,y,F,O,F];if(M){var h=M.v();h.or();
a.b.M(A,h,A)}return{J8:["M","L","L","L","Z"],L:A}};a.b.concat=function(s,M,O){if(O==null)O=new kp;for(var R=0;
R<M.L.length;R+=2){var P=M.L[R],y=M.L[R+1];s.L.push(P*O.cd+y*O.xN+O.cj);s.L.push(P*O.X+y*O.zv+O.H3)}for(var R=0;
R<M.J8.length;R++)s.J8.push(M.J8[R])};a.b.reverse=function(s){var M=s.J8.slice(1),O=M.pop();if(O!="Z")M.push(O);
M.reverse();M=["M"].concat(M);if(O=="Z")M.push("Z");var P=[],y=s.L.length;for(var F=0;F<y;F+=2){P[F]=s.L[y-2-F];
P[F+1]=s.L[y-2-F+1]}return{L:P,J8:M}};a.b.aHO=function(s,M,O,P,y){function F(U,C,H){return new j6(U.x*(1-H)+C.x*H,U.y*(1-H)+C.y*H)}var A=F(s,M,y),h=F(O,P,y),m=F(M,O,y),Z=F(A,m,y),u=F(m,h,y),f=F(Z,u,y);
return[A,Z,f,u,h]};a.b.iz=function(s){var M=s.L,O=[],P=[],y=0,F=0,A=0,h=0,m=0,Z=0,u=0,f=0,U=0,C=0,H=0;
for(var R=0;R<s.J8.length;R++){var t=s.J8[R];if(t=="M"){F=M[y];A=M[y+1];y+=2;P.push(t);O.push(F,A);C=F;
H=A}else if(t=="C"){h=M[y];m=M[y+1];Z=M[y+2];u=M[y+3];f=M[y+4];U=M[y+5];y+=6;P.push(t);O.push(h,m,Z,u,f,U);
F=f;A=U}else if(t=="Q"){h=M[y];m=M[y+1];Z=M[y+2];u=M[y+3];y+=4;var X=h-F,Q=m-A,D=Z-h,L=u-m;P.push("C");
O.push(F+2/3*X,A+2/3*Q,h+1/3*D,m+1/3*L,Z,u);F=Z;A=u}else if(t=="L"){h=M[y];m=M[y+1];y+=2;if(h!=F||m!=A){P.push("C");
O.push(F,A,h,m,h,m);F=h;A=m}}else{if(t=="Z"){F=C;A=H}P.push(t)}}return{J8:P,L:O}};a.b.ahz=function(s){var M=s.L,O=[],P=[],y=0;
for(var R=0;R<s.J8.length;R++){var F=s.J8[R];if(F=="Q"){var A=M[y-2],h=M[y-1],m=M[y],Z=M[y+1],u=M[y+2],f=M[y+3];
y+=4;var U=m-A,C=Z-h,H=u-m,t=f-Z;P.push("C");O.push(A+2/3*U,h+2/3*C,m+1/3*H,Z+1/3*t,u,f)}else{var X=0;
if(F=="M"||F=="L")X=2;else if(F=="C")X=6;for(var Q=0;Q<X;Q++)O.push(M[y+Q]);y+=X;P.push(F)}}return{J8:P,L:O}};
a.b.OM=function(s,M){var O=s.L,P=[],y=[],F=0,A=0,h=0,m=0,Z=0,u=0,f=0,U=0,C=0;for(var R=0;R<s.J8.length;
R++){var H=s.J8[R];if(H=="M"){A=O[F];h=O[F+1];F+=2;y.push(H);P.push(A,h)}else if(H=="C"){m=O[F];Z=O[F+1];
u=O[F+2];f=O[F+3];U=O[F+4];C=O[F+5];F+=6;a.b.LX(A,h,m,Z,u,f,U,C,M,y,P,0);A=U;h=C}else y.push(H)}return{J8:y,L:P}};
a.b.LX=function(s,M,O,P,y,F,A,h,m,Z,u,f){var U=Math.sqrt((A-s)*(A-s)+(h-M)*(h-M)),C=Math.sqrt((A-y)*(A-y)+(h-F)*(h-F))+Math.sqrt((y-O)*(y-O)+(F-P)*(F-P))+Math.sqrt((O-s)*(O-s)+(P-M)*(P-M)),H=(U+C)/2;
if(H<=m){Z.push("C");u.push(O,P,y,F,A,h)}else{var t=0,X=0,Q=0,D=0,L=0,E=0,_=0,S=0,W=0,g=0,x=0,V=0,b=0;
X=(s+O)/2;Q=(M+P)/2;D=(O+y)/2;L=(P+F)/2;E=(y+A)/2;_=(F+h)/2;S=(X+D)/2;W=(Q+L)/2;g=(D+E)/2;x=(L+_)/2;
V=(S+g)/2;b=(W+x)/2;a.b.LX(s,M,X,Q,S,W,V,b,m,Z,u,f+1);a.b.LX(V,b,g,x,E,_,A,h,m,Z,u,f+1)}};a.b.Pw=function(s,M,O,P,y){var F=Date.now(),A=a.b.a8m(s,M,O);
if(y){console.log("trace polygons",Date.now()-F);F=Date.now()}var h=[];for(var R=0;R<A.length;R++){var m=A[R],Z=m[0],u=["M"],f=s[Z[1]*M+Z[0]];
if(Z.length>8)Z=a.b.aDJ(Z,P,m[1]);if(Z.length<=4)continue;for(var U=2;U<Z.length;U+=2)u.push("L");u.push("Z");
h.push({path:{L:Z,J8:u},color:f,parent:-1,rC:a.b.hG(Z)})}if(y){console.log("simplify polygons",Date.now()-F);
F=Date.now()}for(var R=1;R<h.length;R++){var C=h[R],H=C.path.L,t=H[0],X=H[1],Q=H[2],D=H[3],L=Q-t,E=D-X,_=t+.5*L-.001*E,S=X+.5*E+.001*L;
for(var U=R-1;U>=0;U--){var W=h[U];if(!W.rC.fl(C.rC))continue;if(!iq.tD(W.path.L,_,S))continue;C.parent=U;
break}}if(y){console.log("checking parents",Date.now()-F);F=Date.now()}return h};a.b.a8m=function(s,M,O){var P=M*O,y=new Uint16Array(M*O),A=0;
for(var R=0;R<P;R++)y[R]=s[R];var F=new Uint8Array(M*O);F[1*M+1]=F[(O-1)*M+1]=F[1*M+M-1]=F[(O-1)*M+M-1]=1;
for(var h=1;h<O;h++)for(var m=1;m<M;m++){var R=h*M+m,Z=y[R-M-1],u=y[R-M],f=y[R-1],U=y[R],C=Z==U&&u==f&&Z!=u,H=0;
if(U<f){A=U;U=f;f=A}if(f<u){A=f;f=u;u=A}if(u<Z){A=u;u=Z;Z=A}if(U<f){A=U;U=f;f=A}if(f<u){A=f;f=u;u=A}if(U<f){A=U;
U=f;f=A}if(Z!=u)H++;if(u!=f)H++;if(f!=U)H++;if(U!=Z)H++;if(H>=3||C)F[R]=1}var t=[];for(var h=1;h<O;h++)for(var m=1;
m<M;m++){var R=h*M+m;if(y[R]!=y[R-1]){var X=a.b.aKU(y,M,O,m,h),Q=[];for(var D=0;D<X.length;D+=2)if(F[X[D+1]*M+X[D]]==1)Q.push(D>>>1);
t.push([X,Q]);a.b.L4(y,M,O,m,h)}}return t};a.b.L4=function(s,M,O,P,y){var F=[y*M+P],A=s[y*M+P];s[y*M+P]=65535;
while(F.length!=0){var R=F.pop();s[R]=0;if(s[R+M]==A){F.push(R+M);s[R+M]=65535}if(s[R-M]==A){F.push(R-M);
s[R-M]=65535}if(s[R-1]==A){F.push(R-1);s[R-1]=65535}if(s[R+1]==A){F.push(R+1);s[R+1]=65535}}};a.b.aKU=function(s,M,O,P,y){var F=[0,-1,1,0,0,1,-1,0],u=1;
function A(U,C,u){var R=Z*M+m,H=0;if(u==0)H=R-M;else if(u==1)H=R;else if(u==2)H=R-1;else if(u==3)H=R-M-1;
return s[H]}var h=[],m=P,Z=y,f=A(m,Z,u);do{h.push(m,Z);m+=F[u*2];Z+=F[u*2+1];if(A(m,Z,u)!=f)u=u+1&3;
else if(A(m,Z,u+3&3)!=f)u=u;else if(A(m,Z,u+2&3)!=f)u=u+3&3}while(m!=P||Z!=y);return h};a.b.aDJ=function(s,M,O){if(M==null||M==0)return s;
var P=s.length-2;if(O&&O.length!=0){var y=O[0]*2,F=O[O.length-1]*2,A=y==0?P:y-2,h=s.slice(F);for(var R=0;
R<y;R++)h.push(s[R]);if(y==F)h.push(.9*s[y]+.1*s[A],.9*s[y+1]+.1*s[A+1]);else h.push(s[y],s[y+1]);h=a.b.WW(h,M);
h.pop();h.pop();for(var R=0;R<O.length-1;R++){var m=s.slice(O[R]*2,O[R+1]*2+2);m=a.b.WW(m,M);for(var f=0;
f<m.length-2;f++)h.push(m[f])}return h}var U=s.slice(0);U.push(.9*s[0]+.1*s[P],.9*s[1]+.1*s[P+1]);U=a.b.WW(U,M);
U.pop();U.pop();return U};a.b.WW=function(s,M){var O=s.length-2,P=s[0],y=s[1],F=s[O],A=s[O+1],h=F-P,m=A-y,Z=1/Math.sqrt(h*h+m*m),u=F*y-A*P,f=-1,U=-1,C=0;
for(var R=2;R<O;R+=2){var H=s[R],t=s[R+1],X=t*t*1e6+H*H,Q=Math.abs(m*H-h*t+u)*Z;if(Q>U||Q==U&&X>C){U=Q;
f=R;C=X}}if(U<M)return[P,y,F,A];var D=a.b.WW(s.slice(0,f+2),M),L=a.b.WW(s.slice(f),M);for(var R=2;R<L.length;
R++)D.push(L[R]);return D};a.b.aoj=function(){var s=function(P,y,F,A,h,m){return(y-A)*(h-F)+(F-P)*(m-A)>=0},M=function(P,y,F,A,h,m,Z,u){var f=Z-F,U=u-A,C=h-F,H=m-A,t=P-F,X=y-A,Q=f*f+U*U,D=f*C+U*H,L=f*t+U*X,E=C*C+H*H,_=C*t+H*X,S=1/(Q*E-D*D),W=(E*L-D*_)*S,g=(Q*_-D*L)*S;
return W>=0&&g>=0&&W+g<1},O=function(P){var hS=P.length>>>1,R=0;if(hS<3)return[];var y=[],F=[];for(var R=0;
R<hS;R++)F.push(R);var A=hS;while(A>3){var h=F[(R+0)%A],m=F[(R+1)%A],Z=F[(R+2)%A],u=P[2*h],f=P[2*h+1],U=P[2*m],C=P[2*m+1],H=P[2*Z],t=P[2*Z+1],X=!1;
if(s(u,f,U,C,H,t)){X=!0;for(var Q=0;Q<A;Q++){var D=F[Q];if(D==h||D==m||D==Z)continue;if(M(P[2*D],P[2*D+1],u,f,U,C,H,t)){X=!1;
break}}}if(X){y.push(h,m,Z);F.splice((R+1)%A,1);A--;R=0}else if(R++>3*A)break}y.push(F[0],F[1],F[2]);
return y};return O}();a.b.akg=function(s,M){var O={},P={J8:[],L:[]};for(var R=0;R<M.length;R+=3){var y=M[R]*2,F=M[R+1]*2,A=M[R+2]*2;
a.b.iG(s,y,F,P,O);a.b.iG(s,y,A,P,O);a.b.iG(s,F,A,P,O)}return P};a.b.iG=function(s,M,O,P,y){if(M>O){var F=O;
O=M;M=F}if(y[M+","+O])return;y[M+","+O]=!0;P.J8.push("M","L");P.L.push(s[M],s[M+1],s[O],s[O+1])};a.b.asw=function(s,M){var O=[],P=s.length;
for(var R=0;R<P;R+=2){var y=s[R],F=s[R+1],A=s[(R+2)%P],h=s[(R+3)%P];if(h<F){var m=F;F=h;h=m}if(F<M&&M<h){var Z=(M-F)/(h-F);
O.push(y+Z*(A-y))}}O.sort(function(u,f){return u-f});return O};a.b.axD=function(s,M,O,P,y,F,A){var h=s-O,m=M-P,Z=y-O,u=F-P,f=1/Math.sqrt(h*h+m*m),U=1/Math.sqrt(Z*Z+u*u),C=h*f,H=m*f,t=Z*U,X=u*U,Q=H*A,D=-C*A,L=-X*A,E=t*A,_=a.b.vH(Q,D,C,H,L,E,t,X),S=Q+C*_,W=D+H*_,_=a.b.vH(0,0,C,H,S,W,-H,C),g=C*_,x=H*_;
return[Math.sqrt(g*g+x*x),C,H,t,X]};a.b.aim=function(s,M,O,P,y,F,A){var h=a.b.axD(s,M,O,P,y,F,A),m=h[0],Z=h[1],u=h[2],f=h[3],U=h[4],C=Math.atan2(Z*U-u*f,Z*f+u*U);
if(C<0){C=C*-1}var H=Math.PI-C,t=4/3*Math.tan(H/4),X=O+m*Z,Q=P+m*u,D=O+m*f,L=P+m*U,E=X+t*A*-Z,_=Q+t*A*-u,S=D+t*A*-f,W=L+t*A*-U;
return[0,0,X,Q,E,_,S,W,D,L]};a.b.vH=function(s,M,O,P,y,F,A,h){var m=A*(M-F)-h*(s-y),Z=h*O-A*P;if(Z==0)return 0;
return m/Z};a.b.fZ=function(s,M,O,P,y,F){return s*(P-F)+O*(F-M)+y*(M-P)};a.b.aBr=function(s){function M(K,q,d,l,T,B,I,w,e){var G=a.b.vH(K,q,d,l,T,B,I,w);
e.push(K+d*G,q+l*G)}var O=[],P=s.length,y=[];for(var R=0;R<P;R+=2){var F=R==0?P-2:R-2,A=R==P-2?0:R+2,h=s[R],m=s[R+1],Z=h-s[F],u=m-s[F+1],f=s[A]-h,U=s[A+1]-m,C=Math.sqrt(Z*Z+u*u),H=Math.sqrt(f*f+U*U);
y.push(H);var t=C/(C+H),X=h-Z*.5,Q=m-u*.5,D=h+f*.5,L=m+U*.5,E=(s[A]+s[F])*.5,_=(s[A+1]+s[F+1])*.5,S=X+t*(D-X),W=Q+t*(L-Q),g=h-S,x=m-W,V=(f*-Z+U*-u)/(C*H),b=(t-.5)*7,N=1+b*t,J=1-b*(1-t);
O.push(X+g*N,Q+x*N,D+g*J,L+x*J)}return O};a.cE=function(){};a.cE.Ep=function(s,M,O,P,y){var F=O.A,A=O.$,h=F*A,m=new Int32Array(h),hS=0;
for(var R=0;R<h;R++)if(M[R]!=0){m[R]=hS;hS++}else if(s[(R<<2)+3]<200){m[R]=-2}else m[R]=-1;if(hS==0)return;
var Z=new a.BO(hS,hS),u=new Array(3*hS),f=new Array(3*hS);for(var R=0;R<f.length;R++)f[R]=u[R]=0;var U=1/255,C=[-F,-1,1,F],H=[],t=[];
for(var X=0;X<A;X++)for(var Q=0;Q<F;Q++){var D=X*F+Q,L=D<<2,R=m[D],E=R*3,_=0,S=0,W=0;if(R==-1||R==-2)continue;
for(var g=0;g<4;g++){if(g==2){S=W;H[W]=0;t[W]=R;W++}var x=D+C[g],V=x<<2,b=m[x];if(g==0&&X==0||g==1&&Q==0||g==2&&Q==F-1||g==3&&X==A-1||b==-2)continue;
_++;if(b==-1){u[E+0]+=s[V+0];u[E+1]+=s[V+1];u[E+2]+=s[V+2]}else{H[W]=-1;t[W]=b;W++;if(M[D]==M[x]){u[E+0]+=s[L+0]-s[V+0];
u[E+1]+=s[L+1]-s[V+1];u[E+2]+=s[L+2]-s[V+2]}}}H[S]=_;Z.Uv(H,t,W)}for(var R=0;R<h;R++)if(m[R]!=-1){var N=R<<2,J=m[R],K=J*3;
f[K]=s[N+0];f[K+1]=s[N+1];f[K+2]=s[N+2]}var q=Date.now();Z.aDn(f,u,P,y);console.log(Date.now()-q);for(var R=0;
R<h;R++){var J=m[R],d=J*3,N=R<<2;if(J==-1||s[N+3]!=255)continue;s[N+0]=~~(.5+Math.max(0,Math.min(255,f[d+0])));
s[N+1]=~~(.5+Math.max(0,Math.min(255,f[d+1])));s[N+2]=~~(.5+Math.max(0,Math.min(255,f[d+2])))}};a.S={};
a.S.aJi=function(s,M){var O=[s],P=[];for(var R=0;R<M.length;R++){var y=M[R],F=!1;for(var A=R+1;A<M.length;
A++){var h=M[A];if(h[0]<=y[0]&&h[1]<=y[1]&&y[2]<=h[2]&&y[3]<=h[3]){F=!0;break}}if(!F)P.push(y)}M=P;for(var R=0;
R<M.length;R++){var y=M[R];for(var A=0;A<O.length;A++){var h=O[A],m=Math.max(y[0],h[0]),Z=Math.min(y[2],h[2]),u=Math.max(y[1],h[1]),f=Math.min(y[3],h[3]);
if(m<Z&&u<f){var U=[];if(h[1]<y[1]){var C=h.slice(0);C[3]=y[1];U.push(C)}if(h[0]<y[0]){var H=h.slice(0);
H[1]=u;H[2]=y[0];U.push(H)}if(y[2]<h[2]){var t=h.slice(0);t[1]=u;t[0]=y[2];U.push(t)}if(y[3]<h[3]){var X=[m,f,Z,h[3]];
U.push(X)}if(U.length!=0){O[A]=U[0];for(var Q=1;Q<U.length;Q++)O.push(U[Q])}}}O.push(y);O=a.S.aF8(O)}O.sort(function(y,h){return y[1]!=h[1]?y[1]-h[1]:y[0]-h[0]});
for(var R=1;R<O.length;R++){var y=O[R-1],h=O[R];if(y[0]==h[0]&&y[1]==h[1]&&y[2]==h[2]&&y[3]==h[3]){O.splice(y[4]==null?R-1:R,1);
R--}}return O};a.S.aF8=function(s){s=s.slice(0);for(var R=0;R<s.length;R++){var M=s[R],O=null;if(M[4]!=null)continue;
for(var P=0;P<s.length;P++){var y=s[P];if(R==P||y[4]!=null)continue;var F=M[0]==y[0],A=M[1]==y[1],h=M[2]==y[2],m=M[3]==y[3];
if(A&&m&&(M[2]==y[0]||M[0]==y[2])){O=[Math.min(M[0],y[0]),M[1],Math.max(M[2],y[2]),M[3]]}if(F&&h&&(M[3]==y[1]||M[1]==y[3])){O=[M[0],Math.min(M[1],y[1]),M[2],Math.max(M[3],y[3])]}if(O){s[R]=O;
s.splice(P,1);break}}if(O){R--}}return s};a.S.Bh=function(s){var M=new gi;for(var R=0;R<s.length;R++)M=M.v8(s[R]);
return M};a.S.a7s=function(s,M){var O=a.S.Bh,P=new UnionFind(s.length),S=1e3,W=1e3;for(var R=0;R<s.length;
R++)for(var y=R+1;y<s.length;y++){if(!M)continue;var F=s[R],A=s[y],f=1e9,U=1e9;if(F.$B(A)){P.link(R,y);
continue}var h=F.x+F.A,m=F.y+F.$,Z=A.x+A.A,u=A.y+A.$;if((h<A.x||Z<F.x)&&(m<A.y||u<F.y))continue;if(!(m<A.y||u<F.y))f=Math.min(Math.abs(h-A.x),Math.abs(F.x-Z));
if(!(h<A.x||Z<F.x))U=Math.min(Math.abs(m-A.y),Math.abs(F.y-u));var C=Math.min(f,U),H=Math.min(F.A,F.$,A.A,A.$);
if(C<.3*H)P.link(R,y)}var t=[],X={};for(var R=0;R<s.length;R++){var Q=P.find(R),D=s[R];if(X[Q]==null){X[Q]=t.length;
t.push([])}t[X[Q]].push(D)}var L=[],E=[];for(var R=0;R<t.length;R++){L.push(O(t[R]));var _=O(t[R]);_.jn=R;
E.push(_)}E.sort(function(l,T){return Math.max(T.$,T.A)-Math.max(l.$,l.A)});var g=new NETXUS.RectanglePacker(S,W);
while(!0){var x=!1;g.reset(S,W);for(var R=0;R<E.length;R++){var V=g.findCoords(E[R].A,E[R].$);if(V){E[R].x=V.x;
E[R].y=V.y}else{S=Math.floor(S*1.1);W=Math.floor(W*1.1);x=!0;break}}if(x)continue;break}for(var R=0;
R<t.length;R++){var b=E[R],N=b.jn,J=L[N],K=t[N],q=b.x-J.x,d=b.y-J.y;for(var y=0;y<K.length;y++)K[y].offset(q,d)}};
a.S.aIw=function(s){var M=[],O=[],P=function(_,S){return _-S};for(var R=0;R<s.length;R++){var y=s[R];
if(M.indexOf(y[0])==-1)M.push(y[0]);if(M.indexOf(y[2])==-1)M.push(y[2]);if(O.indexOf(y[1])==-1)O.push(y[1]);
if(O.indexOf(y[3])==-1)O.push(y[3])}M.sort(P);O.sort(P);M.push(M[M.length-1]+1);O.push(O[O.length-1]+1);
var F=[],A=M.length-1,h=O.length-1;for(var m=0;m<h;m++){var Z=[];F.push(Z);for(var u=0;u<A;u++){var f=M[u],U=M[u+1],C=O[m],H=O[m+1],t=(f+U)/2,X=(C+H)/2,Q=-1,D=-1;
for(var R=0;R<s.length;R++){var y=s[R];if(y[0]==f&&y[1]==C)Q=R;if(y[0]<t&&t<y[2]&&y[1]<X&&X<y[3])D=R}if(Q!=-1){var y=s[Q],L=1,E=1;
while(M[u+L]<y[2])L++;while(O[m+E]<y[3])E++;Z.push([Q,y[2]-y[0],y[3]-y[1],L,E])}else if(D!=-1)continue;
else Z.push([-1,U-f,H-C,1,1])}}return[M.pop(),O.pop(),F]};a.S.aoW=function(s,M,O,P){var y=a.S.aIw(s),F=["<table id=\"Table_01\" width=\""+y[0]+"\" height=\""+y[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],A=y[2];
for(var R=0;R<A.length;R++){var h=A[R];F.push("\t<tr>");for(var m=0;m<h.length;m++){var Z=h[m],u=null,f="",U="",C=Z[3],H=Z[4],Q="";
if(Z[0]!=-1){var t=Z[0],X=s[t];if(X.length==5){u=O[X[4]].v;f=u.url.v}U="src=\""+M[t]+"\"";if(X[4]==null&&P==2)U=""}if(C!=1)Q+=" colspan=\""+C+"\"";
if(H!=1)Q+=" rowspan=\""+H+"\"";F.push("\t\t<td"+Q+">");if(f!="")F.push("\t\t\t<a href=\""+f+"\" target=\""+u.null.v+"\">");
F.push((f==""?"":"\t")+"\t\t\t<img "+U+" width=\""+Z[1]+"\" height=\""+Z[2]+"\" alt=\""+(u?u.altTag.v:"")+"\"></td>"+(f==""?"":"</a>"))}if(R==A.length-1){F.pop();
F.pop();F.push("\t\t<td></td>")}F.push("\t</tr>")}F.push("</table>");return F.join("\n")};a.f8=function(){};
a.f8.z3=Math.floor(16*window.devicePixelRatio);a.f8.eW={};a.f8.Lf=0;a.f8.e3=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
a.f8.tR=["px","in","cm","mm","%"];a.f8.Yn=function(s,M,O,P){var y=[1,M,M/2.54,M/25.4,O/100][P];return s*y};
a.f8.tp=function(s,M,O,P){var y=[1,M,M/2.54,M/25.4,O/100][P];return s/y};a.f8.mE=function(s,M,O,P,y){var F=O.QZ.DQ,A=[1,M,M/2.54,M/25.4,P/100][F],h=[2,3,2,1,2][F];
s=s/A;var m=Math.round(s),Z=F==0&&Math.abs(s-m)<1e-6?m+"":s.toFixed(h);if(y)Z+=" "+a.f8.tR[F];return Z};
a.f8.aLs=function(s,M,O,P){var y=O.QZ.DQ,F=[1,M,M/2.54,M/25.4,P/100][y];s=parseFloat(s)*F;return s};
a.f8.aKQ=function(s,M){var O=s+","+M;if(a.f8.eW.clr==O)return;var P=Math.round(a.f8.z3*.5);a.f8.Lf=P;
var y=a.FL(P,P);y.save();y.font=P*1.5+"px monospace";var F="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var R=0;
R<F.length;R++){y.fillStyle="#"+a.Rr(M);y.fillRect(0,0,P,P);y.fillStyle="#"+a.Rr(s);y.fillText(F[R],0,P);
a.f8.eW[F[R]]=new Uint8Array(y.getImageData(0,0,P,P).data.buffer)}a.f8.eW.clr=O;y.restore()};a.f8.a3A=function(s,M,O,P){var y=0,F=0,A=4*a.f8.z3;
for(var R=9;R>=0;R--){var h=Math.pow(10,R);if(5*h*s<=A){y=5*h;F=10;break}if(2*h*s<=A){y=2*h;F=4;break}if(1*h*s<=A){y=1*h;
F=P;break}}if(y==0){y=1;F=P}var m=Math.ceil(y*s),Z=a.j(m*a.f8.z3*4);a.vK(Z,4278190080|O);for(var R=0;
R<a.f8.z3;R++)a.f8.By(Z,4*R*m,M);for(var R=0;R<m;R++)a.f8.By(Z,4*((a.f8.z3-1)*m+R),M);if(y==2)F=2;if(y==5)F=5;
if(y>1||y==1&&m>20)for(var R=1;R<F;R++)a.f8.axE(Z,R*(m/F),m,(R&1)==1?.8:.7,M);return{qJ:Z,step:y}};a.f8.axE=function(s,M,O,P,y){var M=Math.round(M);
for(var F=Math.round(a.f8.z3*P);F<a.f8.z3-1;F++)a.f8.By(s,4*(F*O+M),y)};a.f8.By=function(s,M,O){s[M+0]=O>>16&255;
s[M+1]=O>>8&255;s[M+2]=O&255};a.f8.aAa=function(s,M,O,P,y,F,A,h){var m=s.SB.A,Z=s.SB.$,u=a.f8.z3,f=M&255,U=M>>8&255,C=M>>16&255;
M=Math.round(f*.6)<<16|Math.round(U*.6)<<8|Math.round(C*.6);a.f8.aKQ(Math.round(f*.8)<<16|Math.round(U*.8)<<8|Math.round(C*.8),O);
var H=s.xq,t=s.p,X=s.JL;for(var Q=0;Q<2;Q++){var D=Q==0?F:A;s.xq=D[0];s.p=D[1];s.JL=0;var L=this.a3A(s.xq,M,O,h),E=s.ni(0,0),_=s.ni(m,Z),S=Math.floor(E.x/L.step)*L.step,W=Math.ceil(_.x/L.step)*L.step,g=Math.floor(E.y/L.step)*L.step,V=Math.ceil(_.y/L.step)*L.step,b=s.D7(S,g),N=s.D7(W,g),J=L.step*s.xq,K=Math.ceil(J);
if(Q==1){var q=L.qJ;L.qJ=a.j(q.length*4);a.F.gV(q,L.qJ,K,u)}var d=Q==0?s.Gd.data:s.M6.data,l=new gi(0,0,[m,u][Q],[u,Z][Q]),T=new gi(0,0,[K,u][Q],[u,K][Q]),B=new gi([0,Math.round(u*.2)][Q],[Math.round(u*.08),0][Q],a.f8.Lf,a.f8.Lf),p=(Q==0?W-S:V-g)/L.step;
for(var R=0;R<p;R++){if(Q==0)T.x=Math.round(b.x+R*J);else T.y=Math.round(b.y+R*J);a.FP(L.qJ,T,d,l,T);
var I=(Q==0?S+R*L.step:Math.abs(g+R*L.step)).toString(10);for(var w=0;w<I.length;w++){if(Q==0)B.x=T.x+3+w*Math.round(a.f8.Lf*.8);
else B.y=T.y+3+w*Math.round(a.f8.Lf*1.15);var e=a.f8.eW[I[w]];a.FP(e,B,d,l,B)}}}s.xq=H;s.p=t;s.JL=X;
var G=Math.floor(u*.6),j=new Uint32Array(s.Gd.data.buffer),o=new Uint32Array(s.M6.data.buffer),r=f<128?4278190080:4294967295;
if(0<P&&P<m)for(var R=0;R<G;R++)j[R*m+P]=r;if(0<y&&y<Z)for(var R=0;R<G;R++)o[y*u+R]=r};a.scale={};a.scale.Tb=document.createElement("canvas");
a.scale.KM=a.scale.Tb.getContext("2d");a.scale.g1=function(s,M,O){var P=a.scale.Tb,y=a.scale.KM;P.width=M;
P.height=O;var F=new ImageData(new Uint8ClampedArray(s.buffer),M,O);y.putImageData(F,0,0);return y.createPattern(y.canvas,"repeat")};
a.scale.aAx=function(s,M,O,P,y,F,A,h,m){var Z=a.scale.a8x(s,O,P,y,F,A,h,m);if(M){M.set(a.Gp(Z,a.$i(M)))}return new Uint8Array(Z.buffer)};
a.scale.a8x=function(s,M,O,P,y,F,A,h){var m=a.FL(M,O);m.save();m.beginPath();m.rect(0,0,M,O);m.translate(F,A);
m.scale(P,y);if(h!=null)m.rotate(-h);m.fillStyle=s;m.fill();m.restore();return new Uint8Array(m.getImageData(0,0,M,O).data.buffer)};
a.scale.M=function(s,M,O,P,y){var F=a.$i(s),A=O.X==0&&O.xN==0,h=y.A,m=y.$,Z=a.b.hC(M,O).L,u=a.b.q7(Z,A).OK(y),f=u.x,U=u.y,C=f+u.A,H=U+u.$,t=~~M.x,X=~~M.y,Q=~~M.A,D=~~M.$;
if(O.cd*(C-1+.5)+O.cj-t>Q)C--;if(A&&F==8)for(var L=U;L<H;L++){var E=O.zv*(L+.5)+O.H3-X,_=~~E*Q;for(var S=f;
S<C;S++){var W=O.cd*(S+.5)+O.cj-t,R=_+~~W;P[L*h+S]=s[R]}}else if(A)for(var L=U;L<H;L++){var E=O.zv*(L+.5)+O.H3-X,_=~~E*Q;
for(var S=f;S<C;S++){var W=O.cd*(S+.5)+O.cj-t,R=_+~~W;if(F==8)P[L*h+S]=s[R];else if(F==16)P[L*h+S]=s[R]>>>8;
else P[L*h+S]=s[R]*255}}else for(var L=U;L<H;L++)for(var S=f;S<C;S++){var g=S+.5,x=L+.5,W=O.cd*g+O.xN*x+O.cj-t,E=O.X*g+O.zv*x+O.H3-X;
if(0<=W&&0<=E&&W<Q&&E<D){var R=~~E*Q+~~W;if(F==8)P[L*h+S]=s[R];else if(F==16)P[L*h+S]=s[R]>>>8;else P[L*h+S]=s[R]*255}}};
a.scale.Wg=function(s,M,O,P,y,F){function A(p){return 255*p}var h=a.$i(s),m=new Uint32Array(s.buffer),Z=new Uint32Array(P.buffer),u=y.A,f=y.$,U=a.b.hC(M,O).L,C=F?y:a.b.q7(U).OK(y),H=C.x,t=C.y,X=H+C.A,Q=t+C.$,D=~~M.x,L=~~M.y,E=~~M.A,_=~~M.$;
O=O.v();O.translate(-D,-L);var S=O.Kw(new j6(1,0)).TA(O.Kw(new j6(0,0))),W=S.x,g=S.y;for(var x=t;x<Q;
x++){var V=O.Kw(new j6(H+.5,x+.5)),b=V.x,N=V.y,J=(x-y.y)*u+H-y.x;for(var K=H;K<X;K++){if(F){b=((E<<10)+b)%E;
N=((_<<10)+N)%_}if(0<=b&&0<=N&&b<E&&N<_){if(h==8)Z[J]=m[~~N*E+~~b];else{var q=(~~N*E+~~b)*4,d,l,T,B;
if(h==16){d=s[q]>>>8;l=s[q+1]>>>8;T=s[q+2]>>>8;B=s[q+3]>>>8}else{d=A(s[q]);l=A(s[q+1]);T=A(s[q+2]);B=A(s[q+3])}Z[J]=B<<24|T<<16|l<<8|d}}b+=W;
N+=g;J++}}};a.scale.UL=function(s,M,O,P,y,F,A){if(A<1)a.scale.aae(s,M,O,P,y,F,Math.round(1/A));else a.scale.a1F(s,M,O,P,y,F,A)};
a.scale.XM=function(s,M,O,P,y,F,A,h){if(h)h=h.OK(new gi(0,0,M,O));s=new Uint32Array(s.buffer);P=new Uint32Array(P.buffer);
if(A<1)a.scale.aC1(s,M,O,P,y,F,Math.round(1/A),h);else a.scale.azI(s,M,O,P,y,F,A)};a.scale.a1F=function(s,M,O,P,y,F,A){for(var h=0;
h<O;h++)for(var m=0;m<M;m++){var Z=s[h*M+m],u=Math.min(A,y-m*A),f=Math.min(A,F-h*A);for(var R=0;R<f;
R++)for(var U=0;U<u;U++)P[(A*h+R)*y+A*m+U]=Z}};a.scale.aae=function(s,M,O,P,y,F,A){for(var h=0;h<F;h++)for(var m=0;
m<y;m++){var Z=0,u=Math.min(A,M-m*A),f=Math.min(A,O-h*A);for(var R=0;R<f;R++)for(var U=0;U<u;U++)Z+=s[(A*h+R)*M+(A*m+U)];
P[h*y+m]=Math.round(Z/(u*f))}};a.scale.azI=function(s,M,O,P,y,F,A){for(var h=0;h<O;h++)for(var m=0;m<M;
m++){var Z=s[h*M+m],u=Math.min(A,y-m*A),f=Math.min(A,F-h*A);for(var R=0;R<f;R++)for(var U=0;U<u;U++)P[(A*h+R)*y+A*m+U]=Z}};
a.scale.a8X=function(s,M,O){return(s>>>O&255)+(M>>>O&255)>>>1};a.scale.S2=function(s,M){var O=a.scale.a8X;
return O(s,M,24)<<24|O(s,M,16)<<16|O(s,M,8)<<8|O(s,M,0)};a.scale.a7i=function(s,M,O,P,y,F){var A=a.$i(s);
if(A==8){var h=new Uint32Array(s.buffer),m=new Uint32Array(P.buffer);for(var Z=0;Z<O;Z++){for(var u=0;
u<M;u++){var f=Z*M+u,U=h[f],C=U,H=U,t=U;if(u<M-1)C=a.scale.S2(U,h[f+1]);if(Z<O-1)H=a.scale.S2(U,h[f+M]);
if(u<M-1&&Z<O-1)t=a.scale.S2(U,h[f+M+1]);var X=(Z*y+u)*2;m[X]=U;m[X+1]=C;m[X+y]=H;m[X+y+1]=t}}if((y&1)==1)for(var Z=0;
Z<F;Z++)m[Z*y+y-1]=m[Z*y+y-2];var Q=y*(F-1);if((F&1)==1)for(var u=0;u<y;u++)m[Q+u]=m[Q-y+u]}else{var D=a.scale.a3d,L=a.scale.ae5;
for(var Z=0;Z<O;Z++){for(var u=0;u<M;u++){var f=Z*M+u,X=(Z*y+u)*2;D(s,f,P,X);if(u<M-1)L(s,f,f+1,P,X+1);
else D(s,f,P,X+1);if(Z<O-1)L(s,f,f+M,P,X+y);else D(s,f,P,X+y);if(u<M-1&&Z<O-1)L(s,f,f+M+1,P,X+y+1);else D(s,f,P,X+y+1)}}if((y&1)==1)for(var Z=0;
Z<F;Z++)D(P,Z*y+y-2,P,Z*y+y-1);var Q=y*(F-1);if((F&1)==1)for(var u=0;u<y;u++)D(P,Q-y+u,P,Q+u)}};a.scale.a3d=function(s,M,O,P){var y=M<<2,F=P<<2;
O[F]=s[y];O[F+1]=s[y+1];O[F+2]=s[y+2];O[F+3]=s[y+3]};a.scale.ae5=function(s,M,O,P,y){var F=M<<2,A=O<<2,h=y<<2;
P[h]=(s[F]+s[A])*.5;P[h+1]=(s[F+1]+s[A+1])*.5;P[h+2]=(s[F+2]+s[A+2])*.5;P[h+3]=(s[F+3]+s[A+3])*.5};a.scale.aC1=function(s,M,O,P,y,F,A,h){var m=0,Z=y,u=0,f=F;
if(h){m=Math.floor(h.x/A);Z=Math.ceil((h.x+h.A)/A);u=Math.floor(h.y/A);f=Math.ceil((h.y+h.$)/A)}for(var U=u;
U<f;U++)for(var C=m;C<Z;C++){var H=0,t=0,X=0,Q=0,D=Math.min(A,M-C*A),L=Math.min(A,O-U*A);for(var R=0;
R<L;R++)for(var E=0;E<D;E++){var _=s[(A*U+R)*M+A*C+E],S=_>>>24;H+=S;t+=S*(_>>>16&255);X+=S*(_>>>8&255);
Q+=S*(_&255)}if(H!=0){var W=1/H;P[U*y+C]=H/(D*L)<<24|t*W<<16|X*W<<8|Q*W}else P[U*y+C]=0}};a.h=function(){function s(h,m,R){return(128&h[R-m-1]&h[R-m]&h[R-2]&h[R-1]&h[R+1]&h[R+m-1]&h[R+m])==0}function M(h,m,R){return(128&h[R-m-m]&h[R-m+1]&h[R+2]&h[R+m+1]&h[R+m+m])==0}function O(h,m,R){return(h[R-m]&h[R-1]&h[R+1]&h[R+m]&128)==0}function P(h,R){return(h[R]&128)!=0}function y(h,m,Z,u){var R=0,f=Z.A,U=Z.$;
if(u)for(var C=0;C<U;C++)for(var H=0;H<f;H++){if(P(h,R)&&(H<2||C<2||H>f-3||C>U-3||((h[R-1]&128)==0||m[R-1]!=0)&&s(h,f,R)||M(h,f,R)))m[R]=255;
R++}else for(var C=0;C<U;C++)for(var H=0;H<f;H++){if(P(h,R)&&(H==0||C==0||H==f-1||C==U-1||O(h,f,R)))m[R]=255;
R++}}function F(h,m,Z,u,f){var U=Z.A,C=Z.$,H=new Uint8Array(m.buffer),t=new Uint32Array(m.buffer);if(f)for(var X=2;
X<C-2;X++)for(var Q=2;Q<U-2;Q++){var R=X*U+Q;if(P(h,R)&&(((h[R-1]&128)==0||t[R-1]!=0)&&s(h,U,R)||M(h,U,R)))t[R]=u[(Q+X&4)>>>2]}else for(var X=1;
X<C-1;X++)for(var Q=1;Q<U-1;Q++){var R=X*U+Q;if(P(h,R)&&O(h,U,R)){t[R]=u[(Q+X&4)>>>2]}}}function A(h,m,Z,u,f){var U=Z.A,C=Z.$,H=new Uint8Array(m.buffer),t=new Uint32Array(m.buffer),R=0;
if(u==1)for(var X=0;X<C;X++)for(var Q=0;Q<U;Q++,R++){var D=h[R];t[R]=255-D>>>1<<24|255}else for(var X=0;
X<C;X++)for(var Q=0;Q<U;Q++,R++){var D=h[R];t[R]=255<<24|(D<<16|D<<8|D)}}return{aKy:y,aDK:F,aiP:A}}();
a.Ns={};a.Ns.dC=function(s,M,O){var P,y;if(O==0){P=s.S.v();y=a.Ns.a8M}if(O==1){P=s.S.v8(M.S);y=a.Ns.v8}if(O==2){P=M.S.v();
y=a.Ns.ahY}if(O==3){P=s.S.OK(M.S);y=a.Ns.OK}if(O==4){P=s.S.v8(M.S);y=a.Ns.aAC}if(P.g3())return null;
var F=a.$i(s.N),A=a.j(P.C(),F);a.TT(M.N,M.S,A,P);var h=a.j(P.C(),F);a.TT(s.N,s.S,h,P);y(h,A,A);var m=a.xY(A,P);
if(m.g3())return null;if(!m.s0(P)){var Z=a.j(m.C(),F);a.TT(A,P,Z,m);A=Z;P=m}return{N:A,S:P}};a.Ns.a8M=function(s,M,O){for(var R=0;
R<s.length;R++)O[R]=s[R]};a.Ns.v8=function(s,M,O){var P=a.Cs(a.$i(s));for(var R=0;R<s.length;R++)O[R]=Math.min(s[R]+M[R],P)};
a.Ns.ahY=function(s,M,O){for(var R=0;R<s.length;R++)O[R]=Math.max(M[R]-s[R],0)};a.Ns.OK=function(s,M,O){var P=a.Cs(a.$i(s)),y=1/P;
for(var R=0;R<s.length;R++)O[R]=s[R]*M[R]*y};a.Ns.aAC=function(s,M,O){var P=a.Cs(a.$i(s)),y=1/P;for(var R=0;
R<s.length;R++)O[R]=Math.min(s[R]+M[R],P)-s[R]*M[R]*y};a.BO=function(s,M){this.J=[];this.e7=[0];this.e8=[];
this.ef=[];this.TH=[0];this.kI=[];this.HC=[];this.rows=s;this.cols=M};a.BO.prototype.v=function(){var s=this,M=s.rows,O=s.cols,P=new a.BO(M,O);
P.J=s.J.slice(0);P.e7=s.e7.slice(0);P.e8=s.e8.slice(0);P.ef=s.ef.slice(0);P.TH=s.TH.slice(0);P.kI=s.kI.slice(0);
P.HC=s.HC.slice(0);return P};a.BO.prototype.Uv=function(s,M,O){var P=this.e7.length-1;for(var R=0;R<O;
R++){var y=s[R],F=M[R];this.J.push(y);this.e8.push(F);if(F==P){this.HC.push(y==0?0:1/y)}else{this.ef.push(y);
this.kI.push(F)}}this.e7.push(this.J.length);this.TH.push(this.ef.length)};a.BO.prototype.xG=function(s,M){var O=this,P=O.rows,y=O.J,F=O.e8;
if(M==null)M=new Array(P);for(var R=0;R<P;R++){var A=O.e7[R],h=O.e7[R+1],m=0;while((h-A&3)!=0){m+=y[A]*s[F[A]];
A++}for(var Z=A;Z<h;Z+=4)m+=y[Z]*s[F[Z]]+y[Z+1]*s[F[Z+1]]+y[Z+2]*s[F[Z+2]]+y[Z+3]*s[F[Z+3]];M[R]=m}return M};
a.BO.prototype.multiply=function(s){return this.FU(s.gV())};a.BO.prototype.FU=function(s){var M=this,O=M.rows,P=M.cols,y=s.rows,F=new a.BO(O,y),A=M.e8,h=s.e8;
for(var R=0;R<O;R++){var m=[],Z=[],u=M.e7[R],f=M.e7[R+1];for(var U=0;U<y;U++){var C=s.e7[U],H=s.e7[U+1],t=0,X=u,Q=C;
while(X<f&&Q<H){var D=Math.max(A[X],h[Q]);while(X<f&&A[X]<D)X++;while(Q<H&&h[Q]<D)Q++;if(X<f&&Q<H&&A[X]==h[Q])t+=M.J[X++]*s.J[Q++]}if(t!=0){m.push(t);
Z.push(U)}}F.Uv(m,Z,m.length)}return F};a.BO.prototype.gV=function(){var s=this.rows,M=this.cols,O=[];
for(var R=0;R<M;R++)O.push([[],[]]);var P=this.J,y=this.e7,F=this.e8;for(var R=0;R<s;R++){var A=y[R],h=y[R+1];
for(var m=A;m<h;m++){var Z=O[F[m]];Z[0].push(P[m]);Z[1].push(R)}}var u=new a.BO(M,s);for(var R=0;R<M;
R++)u.Uv(O[R][0],O[R][1],O[R][1].length);return u};a.BO.prototype.amV=function(){var s=this.rows,M=this.cols,O=new Array(s),P=this.J,y=this.e7,F=this.e8;
for(var R=0;R<s;R++){var A=O[R]=new Array(M);for(var h=0;h<M;h++)A[h]=0;var m=y[R],Z=y[R+1];for(var u=m;
u<Z;u++)A[F[u]]=P[u]}return O};a.BO.prototype.oI=function(s,M,O,P,y){function F(W,M,g,x){var V=W.length;
for(var R=0;R<V;R++)x[R]=W[R]-M[R]*g}function A(W,M,g,x){var V=W.length,b=0;while((V-b&3)!=0){x[b]=W[b]+M[b]*g;
b++}for(var R=b;R<V;R+=4){x[R]=W[R]+M[R]*g;x[R+1]=W[R+1]+M[R+1]*g;x[R+2]=W[R+2]+M[R+2]*g;x[R+3]=W[R+3]+M[R+3]*g}}function h(W,M,g){var x=W.length;
for(var R=0;R<x;R++)g[R]=W[R]*M[R]}function m(W,M){var g=W.length,x=0,V=0;while((g-x&3)!=0){V+=W[x]*M[x];
x++}for(var R=x;R<g;R+=4)V+=W[R]*M[R]+W[R+1]*M[R+1]+W[R+2]*M[R+2]+W[R+3]*M[R+3];return V}var Z=P!=null?2:1,u=Date.now(),f=0,U=this,C=s.slice(0),H=s.slice(0);
U.xG(s,H);F(M,H,1,C);var t=this.HC;if(Z==0){t=C.slice(0);t.fill(1)}var X=C.slice(0);h(t,C,X);var Q=X.slice(0),D=m(C,X);
while(!0){U.xG(Q,H);var L=D/m(Q,H);A(s,Q,L,s);F(C,H,L,C);if((f&7)==0&&Math.sqrt(m(C,C))<O)break;if(Z<=1)h(t,C,X);
else{var E=C.slice(0);P.aGH(E,C);y.awb(X,E)}var _=m(C,X),S=_/D;A(X,Q,S,Q);D=_;f++}};a.BO.prototype.anc=function(s,M,O,P){var y=Date.now(),F=1.96,h=0;
if(O==null)O=5e-6;if(P==null)P=1e9;var A=1-F,hS=this.rows,m=this.ef,Z=this.TH,u=this.kI,f=this.HC;while(!0){var U=0;
for(var R=0;R<hS;R++){var C=M[R],H=Z[R],t=Z[R+1];if(t-H==4)C-=m[H]*s[u[H]]+m[H+1]*s[u[H+1]]+m[H+2]*s[u[H+2]]+m[H+3]*s[u[H+3]];
else for(var X=H;X<t;X++)C-=m[X]*s[u[X]];var Q=s[R]*A+f[R]*C*F,D=Q-s[R];U+=D*D;s[R]=Q}if(U/hS<O||Date.now()>y+P)break}};
a.BO.prototype.aDn=function(s,M,O,P){var y=Date.now(),F=1.96,h=0;if(O==null)O=5e-5;if(P==null)P=1e9;
var A=1-F,hS=this.rows,m=this.ef,Z=this.TH,u=this.kI,f=this.HC;while(!0){var U=0;for(var R=0;R<hS;R++){var C=R*3,H=M[C],t=M[C+1],X=M[C+2],Q=Z[R],D=Z[R+1];
for(var L=Q;L<D;L++){var E=m[L],_=u[L]*3;H-=E*s[_+0];t-=E*s[_+1];X-=E*s[_+2]}var S=f[R]*F,W=s[C+0]*A+H*S,g=s[C+1]*A+t*S,x=s[C+2]*A+X*S,V=W-s[C+0],b=g-s[C+1],N=x-s[C+2];
U+=.4*V*V+.5*b*b+.1*N*N;s[C+0]=W;s[C+1]=g;s[C+2]=x}if(U/hS<O||Date.now()>y+P)break}};a.Vt={};a.Vt.db=function(s,M,O){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:s},Vrtc:{t:"doub",v:M},Cnty:{t:"bool",v:O}}}};
a.Vt.M=function(s,M){for(var R=0;R<s.length;R++){var O=s[R].v,P=M.Kw(new j6(O.Hrzn.v,O.Vrtc.v));O.Hrzn.v=Math.round(P.x);
O.Vrtc.v=Math.round(P.y)}};a.Vt.acF=function(s,M,O){var hS=s.length-1,P=a.pO.fW(hS+1,hS+2);for(var R=1;
R<hS;R++){P[R][R-1]=1/(s[R]-s[R-1]);P[R][R]=2*(1/(s[R]-s[R-1])+1/(s[R+1]-s[R]));P[R][R+1]=1/(s[R+1]-s[R]);
P[R][hS+1]=3*((M[R]-M[R-1])/((s[R]-s[R-1])*(s[R]-s[R-1]))+(M[R+1]-M[R])/((s[R+1]-s[R])*(s[R+1]-s[R])))}P[0][0]=2/(s[1]-s[0]);
P[0][1]=1/(s[1]-s[0]);P[0][hS+1]=3*(M[1]-M[0])/((s[1]-s[0])*(s[1]-s[0]));P[hS][hS-1]=1/(s[hS]-s[hS-1]);
P[hS][hS]=2/(s[hS]-s[hS-1]);P[hS][hS+1]=3*(M[hS]-M[hS-1])/((s[hS]-s[hS-1])*(s[hS]-s[hS-1]));a.pO.hB(P,O)};
a.Vt.aw9=function(s,M,O,P){if(s<=M[0])return O[0];if(s>=M[M.length-1])return O[M.length-1];var R=1;while(M[R]<s)R++;
var y=M[R],F=M[R-1],A=O[R],h=O[R-1],m=(s-F)/(y-F),Z=P[R-1]*(y-F)-(A-h),u=-P[R]*(y-F)+(A-h),f=(1-m)*h+m*A+m*(1-m)*(Z*(1-m)+u*m);
return f};a.Vt.aLj=function(s,M,O,P){var y={RX:[s[0]],mm:[M[0]],C$:[]};P[0]=y;for(var R=1;R<s.length-1;
R++){y.RX.push(s[R]);y.mm.push(M[R]);if(O[R]==!1){a.Vt.acF(y.RX,y.mm,y.C$);y={RX:[s[R]],mm:[M[R]],C$:[]}}P[R]=y}y.RX.push(s[R]);
y.mm.push(M[R]);a.Vt.acF(y.RX,y.mm,y.C$);P[R]=y};a.Vt.axY=function(s,M,O,P){if(s<=M[0])return O[0];if(s>=M[M.length-1])return O[M.length-1];
var R=1;while(M[R]<s)R++;var y=P[R-1];return a.Vt.aw9(s,y.RX,y.mm,y.C$)};a.Vt.a7a=function(s){var M={RX:[],mm:[],aIE:[]};
for(var R=0;R<s.length;R++){M.RX[R]=s[R].v.Hrzn.v;M.mm[R]=s[R].v.Vrtc.v;M.aIE[R]=s[R].v.Cnty?s[R].v.Cnty.v:!0}return M};
a.Vt.N8=function(s,hS,M){var O=0,P=255;if(M){O=-1e9;P=1e9}var y=a.Vt.a7a(s),F=[];a.Vt.aLj(y.RX,y.mm,y.aIE,F);
var A=new Float32Array(hS);for(var R=0;R<hS;R++)A[R]=1/255*Math.max(O,Math.min(P,a.Vt.axY(R*(255/(hS-1)),y.RX,y.mm,F)));
return A};a.Vt.a9x=function(s,hS,M){var O=Math.round(s.length/20),P=hS-s.length,y=M?(s[O]-s[0])/O:0,F=M?s[0]-P*y:s[s.length-1],A=new Float32Array(hS);
A.set(s,M?P:0);for(var R=0;R<P;R++)A[R+(M?0:P)]=F+R*y;return A};a.Vt.op=function(s,hS,M,O){if(O==null)O=8;
var P=a.Vt.N8(s,hS,!1),y;if(O==8){y=new Uint8Array(hS);for(var R=0;R<hS;R++)y[R]=~~(.5+255*P[R])}if(O==16){y=new Uint16Array(hS);
for(var R=0;R<hS;R++)y[R]=~~(.5+65535*P[R])}if(O==32)y=P;if(M&&y[0]!=0){var F=Math.ceil(hS/12);for(var R=0;
R<F;R++)y[R]*=R/F}return y};a.Vt.a4j=function(s,M){var O=new Uint8Array(s.length);for(var R=0;R<s.length;
R++)O[R]=M[s[R]];return O};a.Vt.apg=function(s,M){var O=M.length,P=new Float32Array(O);for(var R=0;R<O;
R++)P[R]=M[~~(s[R]*(O-1))];return P};a.Vt.XB=function(s,M,O){var P=document.createElement("canvas");
P.width=M;P.height=O;var y=P.getContext("2d"),F=a.Vt.op(s,256);y.scale(M/255,O/255);y.fillStyle="#fff";
y.fillRect(0,0,255,255);y.fillStyle="#333";y.beginPath();y.moveTo(0,255);for(var R=0;R<F.length;R++)y.lineTo(R,255-F[R]);
y.lineTo(255,255);y.closePath();y.fill();return P.toDataURL()};a.style={};a.style.stroke=function(s,M,O,P){var y=O.A,F=O.$,A=a.style.KJ(s,y,F);
a.style.tB(M,O,A,O,P)};a.style.tB=function(s,M,O,P,y){var F=a.Cs(a.$i(s)),A=M.OK(P),h=A.A,m=A.$;y+=.5;
var Z=A.x-M.x,u=A.y-M.y,f=M.A,U=A.x-P.x,C=A.y-P.y,H=P.A;for(var t=0;t<m;t++){var X=(t+C)*H+U,Q=(t+u)*f+Z;
for(var D=0;D<h;D++){var L=Math.max(0,Math.min(1,y-O[X+D]));s[Q+D]=F==1?L:Math.round(L*F)}}};a.style.ayz=function(s,M,O,P){for(var y=0;
y<O;y++)for(var F=0;F<M;F++){var A=y*M+F,h=0,m=0,Z=s[A];if(F==0||y==0){h=s[A+1]-Z;m=s[A+M]-Z}else if(F==O-1||y==M-1){h=Z-s[A-1];
m=Z-s[A-M]}else{h=s[A+1]-s[A-1];m=s[A+M]-s[A-M]}if(h!=0||m!=0){var u=1/Math.sqrt(h*h+m*m);h*=u;m*=u}P[A+A]=h;
P[A+A+1]=m}};a.style.KJ=function(s,M,O){s=a.Gp(s,8);var P=M*O,y=new ArrayBuffer((P+M*4)*4),F=new Float32Array(y,0,P),A=new Uint16Array(y,0,P<<1),h=new Int32Array(y,P*4,M),m=new Int32Array(y,(P+M)*4,M),Z=new Int32Array(y,(P+M*2)*4,M),u=new Int32Array(y,(P+M*3)*4,M),f=1/255;
for(let R=0;R<M;++R){let U=-O-M,C=0,H=R,t=0;for(;t<O;++t,H+=M){if(s[H]>128)U=t,C=s[H];A[H<<1]=t-U;A[(H<<1)+1]=C}U=A[H+=H-M-M],C=A[H+1];
for(;t>1;--t){if(A[H-=M+M]>U)A[H]=++U,A[H+1]=C;else U=A[H],C=A[H+1]}}for(let X=0;X<P;X+=M){var Q=X+M,D=A[X<<1]*A[X<<1],L=0;
let E=h[0]=X,_=m[0]=X,S=D,W=S;for(let H=X+1;H<Q;++H){var g=A[H<<1]*A[H<<1];while(L&&W>(_-H)*(_-H)+g){_=m[--L],E=h[L],S=A[E<<1]*A[E<<1],W=(_-E)*(_-E)+S}if(L||W<=(_-H)*(_-H)+g){var x=H-E,V=X+Math.floor((x*(H+E-X-X)+g-S)/(x<<1))+1;
if(V<Q){_=m[++L]=V,E=h[L]=H,S=g,W=(_-E)*(_-E)+S}}else _=X,E=h[0]=H,S=g,W=(_-E)*(_-E)+S}for(let R=0;R<L;
++R){var b=h[R]<<1;Z[R]=A[b]*A[b];u[R]=A[b+1]}let N=.5-A[(h[L]<<1)+1]*f;for(let H=Q-1;H>=X;--H){F[H]=Math.max(0,Math.sqrt((H-E)*(H-E)+S)+N);
if(L&&H==_){_=m[--L],E=h[L],S=Z[L],N=.5-u[L]*f}}}return F};a.style.ans=function(s,M,O){var P=new Float64Array(M*O),y=0,F=M*O;
for(var R=0;R<F;R++)y|=s[R];if(y==0){P.fill(1e9);return}var A=a.style.wr(s,M,O);for(var h=0;h<O;h++)for(var m=0;
m<M;m++){var R=h*M+m,Z=A[R*2],u=A[R*2+1];if(Z==0&&u==0){P[R]=0;continue}var f=Math.sqrt(Z*Z+u*u),U=s[(h+u)*M+m+Z]*(1/255);
P[R]=f+.5-U}return P};a.style.ajb=function(s,M,O){return(.5-O)*s};a.style.wr=function(s,M,O,P){var y=new Int16Array(M*O*2);
a.style.a9D(s,y,M,O,128);return y};a.style.a9D=function(s,M,O,P,y){var F=new Int32Array(O*P);a.style.auu(s,F,O,P,y);
a.style.abI(F,M,O,P)};a.style.auu=function(s,M,O,P,y){var F=new Int32Array(P);for(var A=0;A<O;A++){var h=O+P;
for(var m=P-1;m>=0;m--){if(s[m*O+A]>y)h=0;else h++;F[m]=h}h=O+P;for(var m=0;m<P;m++){if(s[m*O+A]>y)h=0;
else h++;M[m*O+A]=h<F[m]?-h:F[m]}}};a.style.abI=function(s,M,O,P){var y=(O+P)*(O+P),F=new Float64Array(O),A=new Uint16Array(O);
for(var h=0;h<P;h++){var m=h*O,Z=0;A[0]=0;F[0]=-y;F[1]=+y;for(var u=1;u<O;u++){var f=s[u+m]*s[u+m]+u*u,U=(f-(s[A[Z]+m]*s[A[Z]+m]+A[Z]*A[Z]))/(2*u-2*A[Z]);
while(U<=F[Z]){Z--;U=(f-(s[A[Z]+m]*s[A[Z]+m]+A[Z]*A[Z]))/(2*u-2*A[Z])}Z++;A[Z]=u;F[Z]=U;F[Z+1]=y}Z=0;
for(var u=0;u<O;u++){while(F[Z+1]<u)Z++;var C=A[Z]-u,H=s[A[Z]+m],R=h*O+u<<1;M[R]=C;M[R+1]=H}}};a.mb={};
a.mb.$C=function(s,M,O){var P=s.canvas;if(P.width!=M||P.height!=O){P.width=M;P.height=O}};a.mb.PH=function(s,M,O,P,y,F){var A=a.$i(y.N),h=A==8?255:A==16?65535:1,m=1/h;
a.mb.$C(s,M,O);if(F==null)F=!1;var Z=y.N,u=y.S,f=!y.isEnabled;if(M*O==0)return;var U=new ImageData(M,O),C=U.data,H=1/M,t=1/O,X=y.color/255;
for(var R=0;R<O;R++)for(var Q=0;Q<M;Q++){var D=(R*M+Q)*4,L=Math.round(P.x+Q*H*P.A),E=Math.round(P.y+R*t*P.$),_=0;
if(L<u.x||L>=u.x+u.A||E<u.y||E>=u.y+u.$)_=X;else _=Z[(E-u.y)*u.A+(L-u.x)]*m;_=255-y.vR+_*y.vR;if(F)_=170+Math.round(.4*(_-170));
C[D]=_;C[D+1]=_;C[D+2]=_;C[D+3]=255}s.putImageData(U,0,0);if(f)a.mb.aBm(s,M,O)};a.mb.aDr={};a.mb.axL=function(s,M,O,P){var y,F,A;
y=Math.ceil(Math.max(M,O)*.35);F=M-y;A=O-y;var h=P.generativeDocInfo,m=y+"-"+(h?1:0),Z=a.mb.aDr[m];if(Z==null){var u=a.FL(y,y),f=Math.round(y*.27),U=u.lineWidth=Math.max(1,Math.round(y*.12)),C=U/2;
if(h){u.fillStyle="black";u.fillRect(0,0,y,y);u.beginPath();for(var H=0;H<1;H++)for(var R=0;R<10;R++){var t=-Math.PI/2+R*2*Math.PI/10,X=((R&1)==0?1:.4)*y*.52,Q=.5,D=.52;
Q=y*Q+Math.cos(t)*X;D=y*D+Math.sin(t)*X;if(R==0)u.moveTo(Q,D);else u.lineTo(Q,D)}u.closePath();u.fillStyle="white";
u.fill()}else{u.fillStyle="#eeeeee";u.fillRect(0,0,y,y);u.strokeRect(1+C,1+C,y-U-2,y-U-2);u.strokeRect(f+C,f+C,y-f-f-U,y-f-f-U)}Z=a.mb.aDr[m]=u.getImageData(0,0,y,y)}s.putImageData(Z,F,A)};
a.mb.aEZ=[];a.mb.aip=function(s,M,O){var P,y,F;P=Math.ceil(Math.max(M,O)*.35);y=M-P;F=O-P;var A=a.mb.aEZ[P];
if(A==null){var h=a.FL(P,P);h.fillStyle="#eeeeee";h.fillRect(0,0,P,P);h.lineWidth=1;h.strokeRect(2.5,2.5,P-5,P-5);
var m=new ImageData(3,3),Z=m.data;a.vK(Z,4278190080);Z[4*4]=Z[4*4+1]=Z[4*4+2]=238;h.putImageData(m,1,1);
h.putImageData(m,P-4,1);h.putImageData(m,1,P-4);h.putImageData(m,P-4,P-4);A=a.mb.aEZ[P]=h.getImageData(0,0,P,P)}s.putImageData(A,y,F)};
a.mb.aDA=function(s,M,O,P,y,F){a.mb.$C(s,M,O);var A=M/P.A;if(M*O==0)return;s.fillStyle="#999999";s.setTransform(1,0,0,1,0,0);
s.clearRect(0,0,M,O);s.save();var h=a.mb.a3C;if(h==null)h=a.mb.a3C=aV.To.Jb(!0,!0);h.strokeStyleLineWidth.v.val=1/A;
s.fillStyle="#ffffff";s.scale(A,A);a.z.u9(y.u,s,0,0);a.z.u9(y.u,s,0,0,h);s.restore();if(F){s.save();
var m=M*.4,Z=O*.4;s.fillRect(M-m,O-Z,m,Z);s.beginPath();s.moveTo(M-m/2,O-Z);s.lineTo(M-m/2,O);s.setLineDash([3,3]);
s.stroke();s.restore()}};a.mb.aLr=function(s,M,O,P,y){a.mb.$C(s,M,O);if(M*O==0)return;s.setTransform(1,0,0,1,0,0);
s.fillStyle="white";s.fillRect(0,0,M,O);var F=y.w,A;if(F.add.SoLd)A=$.TR.NI(F.add.SoLd.nonAffineTransform);
else if(F.add.vmsk)A=F.add.vmsk.Zq();else if(F.add.TySh){if(F.aD.H_==null)return;A=a.b.hC(F.aD.H_).L;
a.b.M(A,F.add.TySh.M,A)}var h=a.b.hG(A),m=Math.min(M/h.A,O/h.$),Z=h.A*m,u=h.$*m;s.translate(-h.x*m+(M-Z)*.5,-h.y*m+(O-u)*.5);
s.scale(m,m);y.Co(P,s,null,null)};a.mb.aBs=null;a.mb.Ol=function(s,M,O,P,y,F,A,h,m){a.mb.$C(s,M,O);if(M*O==0)return;
var Z=Math.max(M,O),u=a.mb.aBs;if(u==null||u.width<Z||u.height<Z){a.mb.aBs=u=new ImageData(Z,Z)}Z=u.width;
var f=u.data,U=P.A/M,C=P.$/O,H=F.x,t=F.x+F.A,X=F.y,Q=F.y+F.$,D=a.$i(y)-8;for(var R=0;R<O;R++)for(var L=0;
L<M;L++){var E=R*Z+L,_=E*4,S=~~(P.x+L*U),W=~~(P.y+R*C),g=a.aym(R,L,2);if(S<H||S>=t||W<X||W>=Q||m){f[_]=g;
f[_+1]=g;f[_+2]=g;f[_+3]=255}else{var x=(W-F.y)*F.A+(S-F.x)<<2;if(D!=24){var V=(y[x+3]>>>D)*(1/255);
f[_]=(y[x+0]>>>D)*V+g*(1-V);f[_+1]=(y[x+1]>>>D)*V+g*(1-V);f[_+2]=(y[x+2]>>>D)*V+g*(1-V)}else{var V=y[x+3];
f[_]=y[x+0]*V*255+g*(1-V);f[_+1]=y[x+1]*V*255+g*(1-V);f[_+2]=y[x+2]*V*255+g*(1-V)}f[_+3]=255}}if(h!=null)for(var R=0;
R<f.length;R+=4)f[R]=f[R+1]=f[R+2]=f[R+h];s.putImageData(u,0,0);if(A)a.mb.aBm(s,M,O)};a.mb.aJM=function(s,M,O,P){a.mb.$C(s,M,O);
s.fillStyle=a.mb.sl(P.Clr.v);s.fillRect(0,0,M,O);a.mb.Fp(s,M,O)};a.mb.PZ=null;a.mb.aAo=function(s,M,O,P){a.mb.$C(s,M,O);
var y=s.canvas.width,F=s.canvas.height,A=a.mb.PZ;if(A==null||A.width!=y||A.height!=F){s.fillStyle="#ffffff";
s.fillRect(0,0,M,O);s.fillStyle="#000000";s.font=""+O*.7+"px serif";s.fillText("T",(M-O*.43)/2,O*.75);
s.fillText("T",(M-O*.43)/2,O*.75);a.mb.PZ=s.getImageData(0,0,y,F)}else s.putImageData(A,0,0)};a.mb.aCu=function(s,M,O){a.mb.$C(s,M,O);
s.clearRect(0,0,M,O);s.font=O*.7+"px serif";s.fillText(":(",(M-O*.43)/2,O*.7)};a.mb.anH=function(s,M,O,P){a.mb.$C(s,M,O);
var y=ak.get(P),F=s.canvas.width,A=a.mb.aru[F+y];if(A==null){var h=PIMG["adj/"+y],m=b_.jz(h),Z=UPNG.decode(m.buffer),u=new Uint8Array(UPNG.toRGBA8(Z)[0]),f=new gi(0,0,160,160),U=0,C=F-U*2,H=$.TR.GI([u,f],new kp(C/160,0,0,C/160,0,0)),t=new gi(0,0,F,F),X=a.j(t.C()*4);
a.B.qZ("norm",H.buffer,H.S,X,t,H.S,1);A=a.mb.aru[F+y]=new ImageData(new Uint8ClampedArray(X.buffer),F,F)}s.putImageData(A,0,0)};
a.mb.aru={};a.mb.a8f=function(s,M,O,P){a.mb.$C(s,M,O);var y=s.canvas.width,F=s.canvas.height,A=s.getImageData(0,0,y,F);
a.wv.gR(P.Grad.v,new Uint8Array(A.data.buffer),new gi(0,0,y,F),[1/y,0,0,1/F],y/2,F/2,!1,0,16711680,65280);
s.putImageData(A,0,0);a.mb.Fp(s,M,O)};a.mb.a9P=function(s,M,O,P,y){a.mb.$C(s,M,O);var F=s,A=cb.Hh(P.Ptrn.v,y.add.Patt);
if(A==null)return;var h=A.ah[1];a.mb.Ol(s,M,O,h,A.ah[0],h,!1);a.mb.Fp(F,M,O)};a.mb.aBm=function(s,M,O){s.strokeStyle="#bb0000";
s.lineWidth=3;s.beginPath();s.moveTo(M*.15,O*.15);s.lineTo(M*.85,O*.85);s.moveTo(M*.85,O*.15);s.lineTo(M*.15,O*.85);
s.closePath();s.stroke()};a.mb.Fp=function(s,M,O){s.fillStyle="#eeeeee";s.fillRect(0,O*.75,M,O*.25);
s.beginPath();s.moveTo(0,O*.75);s.lineTo(M,O*.75);s.moveTo(M*.1,O*.875);s.lineTo(M*.9,O*.875);s.moveTo(M*.65,O*.825);
s.lineTo(M*.65,O*.95);s.closePath();s.stroke()};a.mb.sl=function(s){var M=a.wv.sl(s),O=Math.round(M.o)<<16|Math.round(M.R)<<8|Math.round(M.X);
return"#"+a.Rr(O)};a.z={};a.z.eJ=function(s,M,O){var P=[],y=-1;for(var R=0;R<s.length;R++){var F=s[R];
if((F.I==0||F.I==3)&&F.VF!=-1)y++;if(F.I>5||F.I==0||F.I==3)continue;if(M!=null&&M.indexOf(y)==-1)continue;
if(O!=null&&O.indexOf(R)==-1)continue;P.push(F.Rb.x);P.push(F.Rb.y);P.push(F.nr.x);P.push(F.nr.y);P.push(F.XO.x);
P.push(F.XO.y)}return P};a.z.aT=function(s,M,O,P){var y=0,F=-1;for(var R=0;R<M.length;R++){var A=M[R];
if((A.I==0||A.I==3)&&A.VF!=-1)F++;if(A.I>5||A.I==0||A.I==3)continue;if(O!=null&&O.indexOf(F)==-1)continue;
if(P!=null&&P.indexOf(R)==-1)continue;A.Rb.ee(s[y],s[y+1]);A.nr.ee(s[y+2],s[y+3]);A.XO.ee(s[y+4],s[y+5]);
y+=6}};a.z.R7=function(s,M,O,P){var y=a.z.eJ(s,O,P);a.b.M(y,M,y);a.z.aT(y,s,O,P)};a.z.avD=function(s,M,O,P){var y=a.z.eJ(s,O,P);
a.F.M(M,y);a.z.aT(y,s,O,P)};a.z.aJz=function(s,M,O,P){if(P==null){var y=a.z.aoy(s,40,O);for(var R=0;
R<y.length;R++)s[R]=y[R]}var F=a.z.eJ(s,O,P);a.W$.M(M,F,a.b.hG(F));a.z.aT(F,s,O,P)};a.z.aoy=function(s,M,O){var P=[],y=-1;
for(var R=0;R<s.length;R++){var F=s[R],A=F.length;if(F.I>5){P.push(a.G(F));continue}F=a.G(F);P.push(F);
if(F.VF!=-1)y++;if(O&&O.indexOf(y)==-1){P=P.concat(s.slice(R+1,R+1+A))}else{var h=a.z.aaU(s,R+1,A);h=a.b.OM(h,M);
var m=a.z.asE(h);F.length=m.length;for(var Z=0;Z<m.length;Z++)P.push(m[Z])}R+=A}return P};a.z.aaU=function(s,M,O){var P={J8:["M"],L:[]},y=s[M],F=s[M+O-1];
P.L.push(y.nr.x,y.nr.y);for(var R=1;R<O;R++){var A=s[M+R-1],h=s[M+R];P.J8.push("C");P.L.push(A.XO.x,A.XO.y,h.Rb.x,h.Rb.y,h.nr.x,h.nr.y)}P.J8.push("C");
P.L.push(F.XO.x,F.XO.y,y.Rb.x,y.Rb.y,y.nr.x,y.nr.y);return P};a.z.asE=function(s){var M=[],O=s.J8,P=s.L,y=0,hS=P.length;
M.push({I:2,Rb:new j6(P[hS-4],P[hS-3]),nr:new j6(P[0],P[1]),XO:new j6(P[2],P[3])});for(var R=0;R<O.length-2;
R++){var F=R*6+4;M.push({I:2,Rb:new j6(P[F],P[F+1]),nr:new j6(P[F+2],P[F+3]),XO:new j6(P[F+4],P[F+5])})}return M};
a.z.aKq=function(s){for(var R=0;R<s.length;R++){if(s[R].I>5)continue;var M=s[R].length;if(!(M==4||M==6||M==8)){R+=M;
continue}for(var O=0;O<M;O++){var P=s[R+1+O],y=s[R+1+(O+1)%M],F=Math.min(P.nr.x,y.nr.x),A=Math.min(P.nr.y,y.nr.y),h=0,m=0;
if(P.nr.x<y.nr.x){h=P.nr.y-A;m=h-(y.nr.x-F)}else{h=y.nr.y-A;m=h-(P.nr.x-F)}if(Math.abs(m)<.2*h)return h}}return-1};
a.z._E=function(s,M,O){function P(U,C){var H=Math.min(U.x,C.x),t=Math.min(U.y,C.y),X=Math.max(U.x+U.A,C.x+C.A),Q=Math.max(U.y+U.$,C.y+C.$);
return new gi(H,t,X-H,Q-t)}var y=null,F=-1,A=!a.z.Sy(s);for(var R=0;R<s.length;R++){var h=s[R];if(h.I>5)continue;
if((h.I==0||h.I==3)&&h.VF!=-1)F++;if(M!=null&&M.indexOf(F)==-1)continue;if(R==s.length-1)break;var m=h.I==3,Z=h.length,u=h.VF,f=a.z._v(s,R+1,Z,m);
if(y==null)y=f;else if(O)y=P(y,f);else if(A){if(M!=null||u==0||u==-1||u==2)y=P(y,f);else if(u==1)y=y;
else if(u==3){y=f;A=!1}}else{if(M!=null||u==0||u==-1||u==1)y=P(y,f);else if(u==2)y=y;else if(u==3)y=y.OK(f)}R+=Z}if(y==null||y.A<0||y.$<0)y=new gi(0,0,0,0);
return y};a.z.auM=new Float64Array(4);a.z._v=function(s,R,M,O){var P=a.z.auM;P[0]=1e30;P[1]=1e30;P[2]=-1e30;
P[3]=-1e30;var y=s[R+M-1];if(!O)a.z.aBl(y.nr.x,y.nr.y,y.XO.x,y.XO.y,s[R].Rb.x,s[R].Rb.y,s[R].nr.x,s[R].nr.y,P);
for(var F=R;F<R+M-1;F++){var A=s[F],h=s[F+1];a.z.aBl(A.nr.x,A.nr.y,A.XO.x,A.XO.y,h.Rb.x,h.Rb.y,h.nr.x,h.nr.y,P)}return new gi(P[0],P[1],P[2]-P[0],P[3]-P[1])};
a.z.aBl=function(s,M,O,P,y,F,A,h,m){if(s==O&&M==P&&y==A&&F==h){m[0]=Math.min(m[0],Math.min(s,A));m[1]=Math.min(m[1],Math.min(M,h));
m[2]=Math.max(m[2],Math.max(s,A));m[3]=Math.max(m[3],Math.max(M,h));return}var Z=s,u=M,f=s,U=M,C=40,H=1/(C-1);
for(var t=0;t<C;t++){var X=t*H,Q=1-X,D=Q*Q*Q,L=3*Q*Q*X,E=3*Q*X*X,_=X*X*X,S=D*s+L*O+E*y+_*A,W=D*M+L*P+E*F+_*h;
if(S<Z)Z=S;else if(S>f)f=S;if(W<u)u=W;else if(W>U)U=W}if(Z<m[0])m[0]=Z;if(u<m[1])m[1]=u;if(f>m[2])m[2]=f;
if(U>m[3])m[3]=U};a.z.aBJ=function(s,M){var O=s.length-3,P=M%O,y=Math.floor(P);if(M<0||y>=O)return null;
var F=s[3+y],A=s[3+(y+1)%O],h=F.nr,m=F.XO,Z=A.Rb,u=A.nr,f=P-y,U=1-f,C=U*U*U*h.x+3*U*U*f*m.x+3*U*f*f*Z.x+f*f*f*u.x,H=U*U*U*h.y+3*U*U*f*m.y+3*U*f*f*Z.y+f*f*f*u.y;
return new j6(C,H)};a.z.G4=function(s,M){var O=a.b.qN(s),P=O.fp;O.fp=Typr.U.pathToSVG({crds:P.L,cmds:P.J8},M==null?2:M);
return O};a.z.ajR=function(s){var M=[],O=s.L,P=0,y=0,F=0,A=0,h=0,m=!0;for(var R=0;R<s.J8.length;R++){var Z=s.J8[R];
if(Z=="M"){if(!m&&(y!=A||F!=h))M.push(["L",[y,F],[A,h]]);A=y=O[P];h=F=O[P+1];P+=2;m=!1}else if(Z=="L"){M.push(["L",[y,F],[O[P],O[P+1]]]);
y=O[P];F=O[P+1];P+=2}else if(Z=="Q"){M.push(["Q",[y,F],[O[P],O[P+1]],[O[P+2],O[P+3]]]);y=O[P+2];F=O[P+3];
P+=4}else if(Z=="C"){M.push(["C",[y,F],[O[P],O[P+1]],[O[P+2],O[P+3]],[O[P+4],O[P+5]]]);y=O[P+4];F=O[P+5];
P+=6}else if(Z=="Z"){}else throw Z}if(!m&&(y!=A||F!=h))M.push(["L",[y,F],[A,h]]);return M};a.z.Vn=function(s){var M=Date.now(),O;
a.z.SW();var P=a.z.ps(s),y=[];for(var R=0;R<P.length;R++){var F=P[R][0],A=P[R][1];if(Math.abs(F.area)<1e-5)y.push(F);
else if(O==null)O=F;else{if(!F.closed)F.closed=!0;O=O[A](F);O.remove()}}if(O==null)O=new paper.CompoundPath(y);
else{if(O.segments)O=new paper.CompoundPath(O);for(var R=0;R<y.length;R++){O.addChild(y[R])}}var h=s.slice(0,2);
h=h.concat(a.z.pP(O));a.z.JI(P);a.z.JI([[O]]);if(h[2])h[2].VF=1;for(var R=3;R<h.length;R++)if(h[R].VF!=null)h[R].VF=-1;
return h};a.z.SW=function(){if(a.z.aem==null){var s=document.createElement("canvas");paper.setup(s);
a.z.aem=!0}};a.z.ajf=function(s,M){a.z.SW();var O=[],P=a.z.ps(s),y=new paper.Path.Rectangle(new paper.Rectangle(M.x,M.y,M.A,M.$));
y.remove();y.fillColor=new paper.Color(1,0,0);for(var R=0;R<P.length;R++){if(y.intersects(P[R][0])||y.contains(P[R][0].children[0].segments[0].point))O.push(R)}a.z.JI(P);
return O};a.z.kP=function(s,M,O,P){a.z.SW();var y=O?{curves:!0,tolerance:P}:null,F=new paper.Point(M.x,M.y),A=a.z.ps(s);
a.z.JI(A);for(var R=A.length-1;R>=0;R--){var h=A[R][0],m=h.hitTest(F,y);if(m!=null)return{Fa:R,nI:O?m.location.index:null,Uj:O?m.location.time:0}}return{Fa:-1}};
a.z.HV=function(s,M,O,P){var y=[[],[],[]];for(var R=0;R<s.length;R++){var F=s[R];if(F.I>5||F.I==0||F.I==3)continue;
var A=M.$z(F.nr),h=M.$z(F.Rb),m=M.$z(F.XO);if(O&&O.indexOf(R)==-1){if(P){if(O.indexOf(R-1)==-1)h=!1;
if(O.indexOf(R+1)==-1)m=!1}else h=m=!1}if(A)y[0].push(R);if(h)y[1].push(R);if(m)y[2].push(R)}y[3]=y[0].length+y[1].length+y[2].length;
return y};a.z.an9=function(s,M,O){var P=s[M];for(var y=M+1;y<O;y++)s[y-1]=s[y];s[O-1]=P};a.z.a9Q=function(s,M,O,P){var R,y,F,A=0;
s=s.slice(0);M.sort(function(H,t){return H-t});F=-1;for(R=2;R<s.length;){var h=s[R],m=h.length;if(h.VF!=-1)F++;
var Z=A;while(Z<M.length&&M[Z]<R+1+m)Z++;if(A!=Z){var u=M.slice(A,Z);A=Z;for(y=0;y<m;y++)if(u.indexOf(R+1+y)!=-1)s[R+1+y]=null;
if(h.I==0){var f=u[0]-(R+1);while(f!=0){a.z.an9(s,R+1,R+1+m);f--}}var U=h;U.length=0;y=0;while(y<m&&s[R+1+y]==null)y++;
while(y<m){var C=s[R+1+y];if(C!=null)U.length++;else if(y<m+1&&s[R+1+y+1]&&P){U=s[R+1+y]={I:0,VF:-1,length:0,zm:0,fd:0,gW:1}}y++}if(P)for(y=-1;
y<m;y++)if(s[R+1+y]&&s[R+1+y].I<3)s[R+1+y].I+=3;a.cV.wL(O,F)}R+=1+m}for(R=0;R<s.length;R++)if(s[R]==null){s.splice(R,1);
R--}F=0;for(R=2;R<s.length;R++){var h=s[R];if(h.length==0){if(s[R+1]&&s[R+1].VF==-1)s[R+1].VF=h.VF;else if(h.VF!=-1)O.splice(F,1);
s.splice(R,1);R--}else if(h.length!=null&&h.VF!=-1)F++}return s};a.z.avF=function(s,M){for(var R=0;R<s.length;
R++){var O=s[R];if(O.I==0||O.I==3){O.VF=R==2||M?0:-1;O.gW=M?1:2}}};a.z.aKn=function(s,M){var O=s.slice(0,2),P=-1;
for(var R=2;R<s.length;R++){if((s[R].I==0||s[R].I==3)&&s[R].VF!=-1)P++;if(M.indexOf(P)==-1)O.push(s[R])}return O};
a.z.aKT=function(s,M){var O=s.slice(0,2),P=-1;for(var R=2;R<s.length;R++){if((s[R].I==0||s[R].I==3)&&s[R].VF!=-1)P++;
if(M.indexOf(P)!=-1)O.push(s[R])}return O};a.z.aJ3=function(s){var M=0;for(var R=0;R<s.length;R++)if(s[R].I==0||s[R].I==3)M=R;
return s[M]};a.z._i=function(s,M){var O=-1;for(var R=0;R<s.length;R++)if((s[R].I==0||s[R].I==3)&&(M||s[R].VF!=-1))O++;
return O+1};a.z.AS=function(s,M,O){var P=-1;for(var R=0;R<s.length;R++)if((s[R].I==0||s[R].I==3)&&(O||s[R].VF!=-1)){P++;
if(P==M)return R}return-1};a.z.Vz=function(s,M,O){var P=-1;for(var R=0;R<s.length;R++)if((s[R].I==0||s[R].I==3)&&(O||s[R].VF!=-1)){if(R>=M)return P;
P++}return P};a.z.zc=function(s,M){var O=-1,P=0;for(var R=0;R<s.length;R++){if((s[R].I==0||s[R].I==3)&&s[R].VF!=-1)O++;
if(O==M)P++}return P};a.z.aaX=function(s){var M=180;for(var R=0;R<s.length;R++){if(s[R].I!=0&&s[R].I!=3)continue;
var O=s[R].length;if(O<3)continue;for(var P=0;P<O;P++){var y=s[R+1+(P-1+O)%O],F=s[R+1+P],A=s[R+1+(P+1)%O],h=F.nr,m=F.Rb.s0(h)?y.XO:F.Rb,Z=F.XO.s0(h)?A.Rb:F.XO;
if(h.s0(m)||h.s0(Z))continue;var u=m.x-h.x,f=m.y-h.y,U=Z.x-h.x,C=Z.y-h.y,m=Math.atan2(m.y-h.y,m.x-h.x)*180/Math.PI,Z=Math.atan2(Z.y-h.y,Z.x-h.x)*180/Math.PI,H=Math.abs(Z-m)%360,t=H>180?360-H:H;
if(t<M)M=t}}return M*Math.PI/180};a.z.pP=function(s){var M=s.segments?[s]:s.children,O=[];for(var R=0;
R<M.length;R++){var P=M[R],y=P.segments,F=P.closed?0:3,A=O.length,h=null;if(y.length<=1)continue;O.push({I:F,length:y.length,VF:0,gW:2});
for(var m=0;m<y.length;m++){var Z=y[m],u=new j6(Z.handleIn.x,Z.handleIn.y),f=new j6(Z.handleOut.x,Z.handleOut.y),U=new j6(Z.point.x,Z.point.y),C={I:F+1,Rb:U.add(u),nr:U,XO:U.add(f)};
if(h==null)h=C;O.push(C);if(m+1==y.length&&j6.gp(h.nr,C.nr)<1e-5){O.pop();O[A].length--;h.Rb=C.Rb;if(F==3)for(var H=A;
H<O.length;H++)O[H].I-=3}}}return O};a.z.ps=function(s){a.z.SW();var M=[],O,P=new paper.Color(1,0,0),y=1;
function F(H,m){H.remove();H.closed=!m;H.fillRule=y==2?"nonzero":"evenodd"}for(var R=0;R<s.length;R++){if(5<s[R].I)continue;
var A=s[R].length,h;if(R==s.length-1)break;var m=s[R].I==3;if(R==2){if(!a.z.wH(s))h="subtract";else h="unite"}else{if(s[R].VF==0)h="exclude";
if(s[R].VF==1)h="unite";if(s[R].VF==2)h="subtract";if(s[R].VF==3)h="intersect"}if(s[R].VF!=-1){y=s[R].gW;
O=new paper.CompoundPath;M.push([O,h]);O.fillRule=y==2?"nonzero":"evenodd";O.fillColor=P}var Z=[];for(var u=0;
u<A;u++){var f=s[R+1+u],U=f.Rb.TA(f.nr),C=f.XO.TA(f.nr);Z.push([[f.nr.x,f.nr.y],[U.x,U.y],[C.x,C.y]])}var H=new paper.Path(Z);
F(H,m);O.addChild(H);R+=A}return M};a.z.JI=function(s){for(var R=0;R<s.length;R++)s[R][0].remove()};
a.z.MU=function(s){for(var R=0;R<s.length;R++){var M=s[R];if(M.nr==null)continue;if(!M.nr.s0(M.Rb)||!M.nr.s0(M.XO))return!1}return!0};
a.z.asf=function(s){if(s.length<=5)return 0;var M=0,O=s.length-3-1;for(var R=0;R<O;R++){var P=s[3+R],y=s[3+R+1];
if(P.I==0||y.I==0)return 0;M+=(y.nr.x-P.nr.x)*(P.nr.y+y.nr.y)}M+=(s[3].nr.x-s[3+O].nr.x)*(s[3+O].nr.y+s[3+1].nr.y);
return-M*.5};a.z.Sy=function(s){var M=s[2],O=!1;if(s.length==2)O=s[1].all==0;else if(s[1].all==1){if(M.VF==1||M.VF==3)O=!0;
else O=!1}else{if(M.VF==1||M.VF==3||M.VF==0)O=!0;else O=!1}return O};a.z.wH=function(s){var M=a.z.Sy(s);
for(var R=3;R<s.length;R++)if(s[R].VF==3)M=!0;return M};a.z.awZ=0;a.z.abh=0;a.z.akn=0;a.z.aEc=function(s,M,O,P){if(O.g3())return;
var y=O.C(),Q=16384;a.z.awZ+=y;if(y>a.z.abh){a.z.abh=y}var F=O.A,A=O.$;if(P==null&&a.z.MU(s)&&s[2]&&s[2].VF!=2){var h=!0;
for(var R=2;R<s.length;)if(s[R].length==2)R+=3;else{h=!1;break}if(h){return}if(a.z.rh(s)){M.fill(255);
var m=a.z._E(s);if(m.C()!=y){var Z=1-(m.x-O.x),u=1-(m.y-O.y),f=1-(O.x+O.A-(m.x+m.A)),U=1-(O.y+O.$-(m.y+m.$)),C=~~(Z*255),H=~~(f*255),t=~~(u*255),X=~~(U*255);
M.fill(t,0,F);M[0]=~~(Z*u*255);M[F-1]=~~(f*u*255);for(var R=F;R<y;R+=F){M[R]=C;M[R+F-1]=H}M.fill(X,(A-1)*F,A*F);
M[y-F]=~~(Z*U*255);M[y-1]=~~(f*U*255)}return}}var D=Math.ceil(F/Q),L=Math.ceil(A/Q),E=Math.ceil(F/D),_=Math.ceil(A/L),S=Date.now();
for(var W=0;W<L;W++)for(var g=0;g<D;g++){var x=g*E,V=W*_,b=E,N=_,J=a.FL(b,N);if(!a.z.Sy(s))J.fillRect(0,0,b,N);
a.z.u9(s,J,-O.x-x,-O.y-V,P);var K=new Uint8Array(J.getImageData(0,0,b,N).data.buffer);if(b==F&&N==A)a.YT(K,M,3);
else a.Sz(K,new gi(x,V,b,N),M,new gi(0,0,F,A))}};a.z.axO=function(s){var M=!1,O=!1,P=0,y=!1;for(var R=0;
R<s.length;R++){var F=s[R].VF;if(F!=null){P++;if(F==-1)M=!0;if(F==1||F==2||F==3)O=!0;if(s[R].I==0)y=!0}}if(!M&&P<20&&y&&O)s=a.z.Vn(s);
return s};a.z.u9=function(s,M,O,P,y,F){if(y!=null){s=a.z.axO(s)}var A=1;for(var R=0;R<s.length;R++){if(5<s[R].I)continue;
var h=s[R].length;if(h==0)continue;if(R==s.length-1)break;var m=s[R].I==3,Z=s[R].VF;if(Z!=-1){M.beginPath();
if(y)a.z.IF(aV.To.nc(y),M);else{A=s[R].gW;if(Z==3&&R==2)Z=1;var u=["xor","source-over","destination-out","source-in"][Z];
M.globalCompositeOperation=u}}a.z.agl(M,s,R+1,h,O,P,m);if(m){}else M.closePath();if(s[R+1+h]==null||s[R+1+h].VF!=-1){if(y){if(F)M.clip();
M.stroke()}else M.fill(A==2?"nonzero":"evenodd")}R+=h}M.globalCompositeOperation="source-over";M.setLineDash([])};
a.z.IF=function(s,M){var O=s.WJ;M.setLineDash(s.wm);M.lineCap=["butt","round","square"][s.wF];M.lineJoin=["miter","round","bevel"][s.sa];
M.lineWidth=s.KG==1?O:O*2;M.miterLimit=s.LN};a.z.agl=function(s,M,R,O,P,y,F){var A=M[R],h=null;s.moveTo(A.nr.x+P,A.nr.y+y);
for(var m=R;m<R+O-1;m++){A=M[m];h=M[m+1];if(A.nr.s0(A.XO)&&h.Rb.s0(h.nr))s.lineTo(h.nr.x+P,h.nr.y+y);
else s.bezierCurveTo(A.XO.x+P,A.XO.y+y,h.Rb.x+P,h.Rb.y+y,h.nr.x+P,h.nr.y+y)}if(!F){A=M[m];h=M[R];if(A.nr.s0(A.XO)&&h.Rb.s0(h.nr))s.lineTo(h.nr.x+P,h.nr.y+y);
else s.bezierCurveTo(A.XO.x+P,A.XO.y+y,h.Rb.x+P,h.Rb.y+y,h.nr.x+P,h.nr.y+y)}};a.z.alm=function(s,M){var O=[],P=M?4:1;
for(var R=0;R<s.length;R+=2){var y=new j6(s[R],s[R+1]);O.push({I:P,Rb:y.v(),nr:y.v(),XO:y.v()})}return O};
a.z.as4=function(s,M,O){var P=(1-(O!=null?O:25)*.01)*10;if(P>0){for(var R=0;R<M.length;R++){var y=M[R],F=a.z.AS(s,y),A=a.z.zc(s,y),h=s.slice(F,F+A);
a.z.SW();var m=new paper.Path;m.remove();m.closed=!0;for(var Z=1;Z<h.length;Z++)m.add(new paper.Point(h[Z].nr.x,h[Z].nr.y));
var u=m.simplify(P);if(u)s.splice(F,A,...a.z.pP(m))}}return s};a.z.ul=function(s,M,O){var P=a.b.hG(s),y=Math.sqrt(Math.sqrt(P.C()))*.2,F=.2;
s=s.slice(0);var A=s.length,h=M?0:2;for(var m=0;m<5;m++)for(var R=h;R<s.length-h;R+=2){var Z=(R-2+A)%A,u=(R+2)%A,f=s[R],U=s[R+1],C=(s[Z]+s[u])*.5,H=(s[Z+1]+s[u+1])*.5;
s[R]=f+(C-f)*F;s[R+1]=U+(H-U)*F}if(O)return a.z.uU.Fr(s,null,!M);a.z.SW();var t=new paper.Path;t.remove();
t.closed=M;for(var R=0;R<s.length;R+=2)t.add(new paper.Point(s[R],s[R+1]));t.simplify(y);var X=[{I:6},{I:8,all:0}];
X=X.concat(a.z.pP(t));return X};a.z.XC=function(s,M,O){var P=s[M].length,y=s[M].I,F=0,A=s.slice(M+1,M+1+P);
for(var R=0;R<P;R++){var h=O[(R-1+P)%P],m=O[(R+1+P)%P],Z=O[R];if(Z!=0){var u=A[(R-1+P)%P].nr,f=A[(R+0+P)%P].nr,U=A[(R+1+P)%P].nr,C=j6.gp(f,u),H=j6.gp(f,U),t=a.b.axD(u.x,u.y,f.x,f.y,U.x,U.y,Z)[0],X=Math.min(t,h==0?C:C/2,m==0?H:H/2);
Z*=X/t;var Q=a.b.aim(u.x,u.y,f.x,f.y,U.x,U.y,Z),D={I:y+1,Rb:new j6(Q[2],Q[3]),nr:new j6(Q[2],Q[3]),XO:new j6(Q[4],Q[5])},L={I:y+1,Rb:new j6(Q[6],Q[7]),nr:new j6(Q[8],Q[9]),XO:new j6(Q[8],Q[9])};
s.splice(M+F+1,1,D,L);F++;s[M].length++}F++}};a.z.MU=function(s){for(var R=0;R<s.length;R++){var M=s[R],O=M.I;
if(O==1||O==2||O==4||O==5)if(!M.nr.s0(M.Rb)||!M.nr.s0(M.XO))return!1}return!0};a.z.rh=function(s){if(s.length!=7||s[2].length!=4||!a.z.MU(s))return!1;
for(var R=0;R<4;R++){var M=!0;for(var O=0;O<4;O++){var P=s[3+(R+O&3)],y=s[3+(R+O+1&3)];if(P.nr.x!=y.nr.x&&P.nr.y!=y.nr.y)M=!1}if(M)return!0}return!1};
a.z.avE=function(s){if(s.length<6)return 0;var M=s.length-2,O=0;for(var R=0;R<M;R+=2)O+=(s[R+2]-s[R])*(s[R+1]+s[R+3]);
O+=(s[0]-s[M])*(s[M+1]+s[1]);return-O*.5};a.z.akW=function(s){s=ad.Vp.X4(s);var M=a.z._i(s);for(var O=0;
O<M;O++){var P=a.z.AS(s,O)+1,y=s[P-1].length,F=[];for(var R=0;R<y;R++){var A=s[P+R].nr;F.push(A.x,A.y)}var h=a.z.avE(F);
if(h<0)a.z.auH(s,P-1)}return s};a.z.auH=function(s,M){var O=M+1,P=s[M].length,y=[];for(var R=0;R<P;R++){var F=s[O+R],A=F.Rb;
F.Rb=F.XO;F.XO=A;y.push(F)}for(var R=0;R<P;R++)s[O+R]=y[P-1-R]};a.z.uU={};a.z.uU.Fr=function(s,M,O){var P=[{I:6},{I:8,all:0}],y=null;
P.push({I:O?3:0,VF:1,length:0,zm:0,fd:0,gW:1});if(M==0||M==null)y=null;else if(M instanceof Array)y=M;
else{y=[];for(var R=0;R<s.length;R+=2)y.push(M)}P=P.concat(a.z.alm(s,O));P[2].length=P.length-3;if(y){a.z.XC(P,2,y);
P.push(P[3]);P.splice(3,1)}return P};a.z.uU.a8S=function(s,M,O,P,y){var F=[],A=[],h=.553,m=1,Z=-1;F.push({I:1,Rb:new j6(0,h),nr:new j6(0,0),XO:new j6(0,-h)});
y+=2;for(var R=0;R<y;R++){var u={I:1};if(R==0){u.nr=new j6(1,-1);u.Rb=new j6(1-h,-1);u.XO=new j6(1+h,-1)}else{var f=-(R+2)*Math.PI/2,U=1+((R&1)==1?R-1:R),C=Math.sin(f),H=Math.cos(f);
m+=U*(C-H);Z+=U*(H+C);u.nr=new j6(m,Z);u.Rb=new j6(m+U*H*h,Z-U*C*h);if((R&1)==1)U+=2;u.XO=new j6(m-U*H*h,Z+U*C*h)}var t={I:1,Rb:new j6(-u.XO.x,-u.XO.y),nr:new j6(-u.nr.x,-u.nr.y),XO:new j6(-u.Rb.x,-u.Rb.y)};
F.push(u);if(R<y-2)A.push(t)}A.reverse();F=F.concat(A);var X=[{I:6},{I:8,all:0}];X.push({I:0,VF:1,length:F.length,zm:0,fd:0,gW:1});
X=X.concat(F);var Q=new kp(O/y,0,0,O/y,0,0);Q.rotate(P);Q.translate(s,M);a.z.R7(X,Q);return X};a.z.uU.Rect=function(s,M,O,P,y){var F=[s,M,s+O,M,s+O,M+P,s,M+P];
return a.z.uU.Fr(F,y)};a.z.uU.Ll=function(s,M,O,P,y,F,A,h){var m=[],Z=2*Math.PI/y;for(var R=0;R<y;R++)m.push(Math.cos(R*Z-P),Math.sin(R*Z-P));
if(A!=null){var u=a.b.hG(m),f=u.A,U=u.$,C=A/(f/2),H=h/(U/2);for(var R=0;R<m.length;R+=2){m[R]=(m[R]-(u.x+f/2))*C;
m[R+1]=(m[R+1]-(u.y+U/2))*H}O=1}var t=new kp(O,0,0,O,0,0);t.translate(s,M);a.b.M(m,t,m);return a.z.uU.Fr(m,F)};
a.z.uU.aH9=function(s,M,O,P,y,F,A){var h=O-s,m=P-M,Z=(h-A*(F+1))/F,u=(m-A*(y+1))/y,f={J8:[],L:[]};function U(H,C,t,X){f.J8.push("M","L","L","L","Z");
f.L.push(H,C,H+t,C,H+t,C+X,H,C+X)}U(s,M,h,m);for(var C=0;C<y;C++)for(var H=0;H<F;H++)U(s+A+H*(Z+A),M+A+C*(u+A),Z,u);
return a.b.Ie(f)};a.z.uU.a2C=function(s,M,O,P,y,F,A){var h=[],m=Math.PI/y;for(var R=0;R<y*2;R++){var Z=(R&1)==0?1:A;
h.push(Z*Math.cos(R*m),Z*Math.sin(R*m))}var u=new kp(O,0,0,O,0,0);u.rotate(P);u.translate(s,M);a.b.M(h,u,h);
return a.z.uU.Fr(h,F)};a.z.uU.jW=function(s,M,O,P,y){return a.z.uU.Zf(0,s,M,O,P,y)};a.z.uU.apC=function(s,M,O,P,y,F){return a.z.uU.Zf(1,s,M,O,P,y,F)};
a.z.uU.mx=function(s,M,O,P,y,F){return a.z.uU.Zf(2,s,M,O,P,y,F)};a.z.uU.Zf=function(s,M,O,P,y,F,A){var h=Math.sqrt((P-M)*(P-M)+(y-O)*(y-O)),m;
F/=2;if(s==0)m=[-F,0,F,0,F,h,-F,h];if(s==1){var Z=F*2*A*1.3/1.5,u=F*A;m=[-F,0,F,0,F,h-Z,u,h-Z,0,h,-u,h-Z,-F,h-Z]}if(s==2){var Z=A[3],u=A[2]/2,f=Z*(2/3)*A[4]/100,U=Z-f,C=Z;
m=[];if(A[0])m.push(-F,U,-u,C,0,0,u,C,F,U);else if(F==0)m.push(0,0);else m.push(-F,0,F,0);if(A[1])m.push(F,h-U,u,h-C,0,h,-u,h-C,-F,h-U);
else if(F==0)m.push(0,h);else m.push(F,h,-F,h)}var H=new kp(1,0,0,1,0,0);H.rotate(Math.atan2(-y+O,P-M)+Math.PI/2);
H.translate(M,O);a.b.M(m,H,m);return a.z.uU.Fr(m,0)};a.z.uU.Y9=function(s,M,O,P){var y=[{I:6},{I:8,all:0}],f=.553;
y.push({I:0,VF:1,length:4,zm:0,fd:0,gW:1});var F=s,A=M,h=s+O,m=M+P,s=(F+h)/2,M=(A+m)/2,Z=(F-h)/2,u=(A-m)/2;
y.push({I:1,Rb:new j6(s-f*Z,M-u),nr:new j6(s,M-u),XO:new j6(s+f*Z,M-u)});y.push({I:1,Rb:new j6(s+Z,M-f*u),nr:new j6(s+Z,M),XO:new j6(s+Z,M+f*u)});
y.push({I:1,Rb:new j6(s+f*Z,M+u),nr:new j6(s,M+u),XO:new j6(s-f*Z,M+u)});y.push({I:1,Rb:new j6(s-Z,M+f*u),nr:new j6(s-Z,M),XO:new j6(s-Z,M-f*u)});
return y};a.z.uU.axG=function(s,M,O,P,y){var F=[{I:6},{I:8,all:0}];F.push({I:3,VF:1,length:5,zm:0,fd:0,gW:1});
var A=(y-P)/4;for(var R=0;R<5;R++){var h=R*A,m=Math.cos(h),Z=Math.sin(h),u=.553*(A/(Math.PI/2)),f=Z*u,U=-m*u,C=new j6(m,Z);
F.push({I:4,Rb:R==0?C.v():new j6(m+f,Z+U),nr:C,XO:R==4?C.v():new j6(m-f,Z-U)})}var H=new kp;H.rotate(-P);
H.scale(O,O);H.translate(s,M);a.z.R7(F,H);return F};a.Z6={};a.Z6.I={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
a.Z6.aDL={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
a.Z6.Gn=function(s){var M=s.warpStyle.v.warpStyle;if(M=="warpNone")return!0;else if(M=="warpCylinder")return!1;
else if(M=="warpCustom"){var O=!1,P=a.Z6.aAB(s);for(var R=0;R<4;R++)for(var y=0;y<4;y++){var F=P[R*2]-P[(y*4+R)*2],A=P[R*4*2+1]-P[(R*4+y)*2+1];
if(F*F>1||A*A>1)O=!0}return!O}else return s.warpValue.v==0&&s.warpPerspective.v==0&&s.warpPerspectiveOther.v==0};
a.Z6.an1=function(s){var M=a.G(s);M.v.classID="quiltWarp";M.v.deformNumRows={t:"long",v:4};M.v.deformNumCols={t:"long",v:4};
if(M.v.customEnvelopeWarp)a.Z6.afQ(M.v,[[0,1],[0,1]]);return M};a.Z6.auf=function(s){var M;if(a.Z6.Pt(s.v)==16)M=a.G(s);
else M={t:"Objc",v:a.Z6.j(a.Z6.Gt(s.v))};M.v.classID="warp";delete M.v.deformNumRows;delete M.v.deformNumCols;
var O=M.v.customEnvelopeWarp;if(O){delete O.v.quiltSliceX;delete O.v.quiltSliceY}return M};a.Z6.Pt=function(s){return s.deformNumRows.v*s.deformNumCols.v};
a.Z6.j=function(s){var M={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(s){M.classID="quiltWarp";M.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:s.y}},Left:{t:"UntF",v:{type:"#Pxl",val:s.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:s.y+s.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:s.x+s.A}}}};
M.uOrder={t:"long",v:4};M.vOrder={t:"long",v:4};M.deformNumRows={t:"long",v:4};M.deformNumCols={t:"long",v:4}}return M};
a.Z6.aaC=function(s,M,O){for(var R=0;R<s.length;R+=2){var P=s[R],y=s[R+1],F=(1-M)/2,A=1-F,h=F+P*(A-F);
y=.5+(y-.5)*h*2;var m=(1-O)/2,Z=1-m,u=m+y*(Z-m);P=.5+(P-.5)*u*2;s[R]=P;s[R+1]=y}};a.Z6.Xf=function(s,M){return{id:s,type:"UnFl",uID:"#Pxl",arr:M}};
a.Z6.afQ=function(s,M){var O=a.Z6.Gt(s);function P(F,A){F=F.slice(0);var h=F.length,R;for(R=0;R<h;R++)F[R]*=A;
F[0]-=.6;F[h-1]+=.6;return F}var y=s.customEnvelopeWarp.v;y.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[a.Z6.Xf("quiltSliceX",P(M[0],O.A))]}};
y.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[a.Z6.Xf("quiltSliceY",P(M[1],O.$))]}}};a.Z6.au7=function(s){var M=a.Z6.Gt(s);
function O(A,h){A=A.slice(0);var F=A.length,R,m=1e9,Z=-m;for(R=0;R<F;R++){if(A[R]<m)m=A[R];if(A[R]>Z)Z=A[R]}for(R=0;
R<F;R++)A[R]=(A[R]-m)/(Z-m);A[0]=0;A[F-1]=1;return A}var P=s.customEnvelopeWarp.v,y=[],F=["X","Y"];for(var R=0;
R<2;R++)y.push(O(P["quiltSlice"+(R==0?"X":"Y")].v.arr[0].arr.slice(0),R==0?M.A:M.$));return y};a.Z6.aGr=function(s,M){var O=[],P=[];
for(var R=0;R<M.length;R+=2){O.push(M[R]);P.push(M[R+1])}s.customEnvelopeWarp.v.meshPoints.v.arr=[a.Z6.Xf("Hrzn",O),a.Z6.Xf("Vrtc",P)]};
a.Z6.aAB=function(s){var M=[],O=s.customEnvelopeWarp.v.meshPoints.v.arr,P=O[0].arr,y=O[1].arr;for(var R=0;
R<P.length;R++)M.push(P[R],y[R]);return M};a.Z6.Kx=function(s,M){var O,P=s.warpStyle.v.warpStyle;if(P=="warpCustom")O=[s.deformNumCols.v,s.deformNumRows.v,a.Z6.au7(s),a.Z6.aAB(s)];
else{if(M==null)M=a.Z6.Gt(s);if(M.g3())M.A=M.$=1;if(P=="warpCylinder"){var y=$.TR.NI(s.warpValues);O=a.Z6.Z6(P,y)}else{var F="warpPerspective";
O=a.Z6.Z6(P,s.warpValue.v/100,s.warpRotate.v.Ornt=="Hrzn",s[F].v/100,s[F+"Other"].v/100,M.A/M.$)}a.Z6.aAn(O[3],M)}return O};
a.Z6.aAn=function(s,M){for(var R=0;R<s.length;R+=2){s[R]=M.x+s[R]*M.A;s[R+1]=M.y+s[R+1]*M.$}};a.Z6.avs=function(s){var M=Math.sin(s*Math.PI/2),O=Math.pow(s,1/3.5),P=(1-s)*M+s*O;
P=Math.pow(P,1.045);var y=.1725+.0573*P,F=1-(.96*M+.04*O);F=Math.pow(F,1.27);var A=1/129+(.167684-1/129)*F;
return[y,A]};a.Z6.H4=function(s,M){s.warpStyle.v.warpStyle="warpCustom";s.deformNumCols.v=M[0];s.deformNumRows.v=M[1];
var O="customEnvelopeWarp";if(s[O]==null)s[O]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
a.Z6.afQ(s,M[2]);a.Z6.aGr(s,M[3])};a.Z6.Gt=function(s){var M=s.bounds.v,O=M.Left.v.val,P=M.Rght.v.val,y=M.Top.v.val,F=M.Btom.v.val;
if(O==null){O=M.Left.v,P=M.Rght.v;y=M.Top.v,F=M.Btom.v}return new gi(O,y,P-O,F-y)};a.Z6.Z6=function(s,M,O,P,y,F){if(s=="warpCylinder"){var A=M,h=A[0],m=A[1],Z=A[2],u=A[3],f=A[4],U=A[5],C=A[6],H=[];
for(var t=0;t<4;t++)for(var X=0;X<13;X++)H.push(X/12,t/3);var Q=Z-h,D=m-u,L=f*.5*(Q/D),E=U*.5*(Q/D),_=a.Z6.avs(C),S=[0,0,0,0,0,_[0],.5],W=[0,0,0,0,L*.42,L,L],g=[0,0,0,0,E*.42,E,E];
for(var t=0;t<4;t++)for(var X=0;X<7;X++){var R=t*13+X;H[R*2]=S[X];var x=W[X],V=1+g[X],b=t/3;H[R*2+1]=x*(1-b)+V*b}for(var t=0;
t<4;t++)for(var X=0;X<6;X++){var R=t*13+X,N=t*13+12-X;H[N*2]=1-H[R*2];H[N*2+1]=H[R*2+1]}var b=_[1];return[13,4,[[0,b,.5,1-b,1],[0,1]],H]}var J=a.W$.j(0,0,1,1);
if(s!="warpNone"){if(!O)F=1/F;a.Z6.aDs(J,s,M,P,y,F);var K=J.slice(0);if(!O)for(var t=0;t<4;t++)for(var X=0;
X<4;X++){J[(t*4+X)*2]=K[(X*4+t)*2+1];J[(t*4+X)*2+1]=K[(X*4+t)*2]}if(M==0)a.Z6.aaC(J,P,y);else{var q=new kp;
q.translate(-.5,-.5);a.b.M(J,q,J);a.Z6.aJ1(J,y,P);q.or();a.b.M(J,q,J)}}return[4,4,[[0,1],[0,1]],J]};
a.Z6.aDs=function(s,M,O,P,y,F){var A=new gi(0,0,F,1);for(var R=0;R<s.length;R+=2)s[R]*=F;for(var R=0;
R<4;R++){for(var h=0;h<4;h++){var m=2*(4*R+h),Z=s[m]-A.x,u=s[m+1]-A.y,f=Z,U=u;if(O!=0){var C=A.A/2,H=A.$/2;
f-=C;U-=H;var t=f,X=f,Q=-H,D=H,L=Math.abs(O),E=Math.tan((1-L)*Math.PI/2),_=Math.sqrt(E*E+1),S=Math.atan2(1,E),W=f/C*S,g=C*_,x=C*_+A.$,V=Math.cos(S),b=Math.sin(S),N=a.Z6.afk(V,b),J=a.Z6.a4I(V,b),K=-E*C+N*g;
if(M=="warpArc"){t=Math.sin(W)*x;Q=E*C-Math.cos(S)*x+H;X=Math.sin(W)*g;D=E*C-Math.cos(S)*g+H;if(h==1||h==2){t=h==1?-J*x:J*x;
X=h==1?-J*g:J*g;Q=E*C+H-N*x;D=E*C+H-N*g}if(O<0){var q=t;t=X;X=q;q=Q;Q=-D;D=-q}}if(M=="warpArcLower"){if(h==1||h==2){X=h==1?-J*g:J*g;
D=O<0?H-K:H+K}}if(M=="warpArcUpper"||M=="warpArch"||M=="warpBulge"){if(h==1||h==2){t=h==1?-J*g:J*g;Q=O<0?-H+K:-H-K}if(M=="warpArch"){X=t;
D=Q+2*H}if(M=="warpBulge"){X=t;D=-Q}}if(M=="warpFish"||M=="warpFlag"||M=="warpWave"){var d=h;if(M=="warpFlag")d=3-h;
if(d==1){Q-=O*4*H;D+=O*4*H}if(d==2){Q+=O*4*H;D-=O*4*H}if(M=="warpFlag"||M=="warpWave")Q=D-2*H}if(M=="warpRise"){if(h<2)Q=-H+O*H*4;
D=Q+2*H}var l=(U+H)/A.$;f=t+l*(X-t);U=Q+l*(D-Q);if(M=="warpWave"){if(R==0)U=-H;if(R==3)U=H;if(R==1||R==2)U=2*H*(R/3-.5)*(1/3)+U*(2/3)}if(M=="warpFisheye"){if((R==1||R==2)&&(h==1||h==2)){f=f+4*f*O;
U=U+4*U*O}}if(M=="warpInflate"){var T=2/3;if((R==1||R==2)&&(h==1||h==2)){f=f+.5*f*O;U=U+.5*U*O}else if(R==1||R==2)f=f+T*f*O;
else if(h==1||h==2)U=U+T*U*O}if(M=="warpSqueeze"){var T=2/3;if((R==1||R==2)&&(h==1||h==2)){if(O>0)f=f-T*f*O;
else U=U+T*U*O}else if(R==1||R==2)f=f-T*f*O;else if(h==1||h==2)U=U+T*U*O}if(M=="warpTwist"){if((R==1||R==2)&&(h==1||h==2)){var B=O*Math.PI/2,_=1+Math.abs(O)*2,p=f*Math.cos(B)-U*Math.sin(B),I=f*Math.sin(B)+U*Math.cos(B);
f=p*_;U=I*_}}if(M=="warpShellLower"||M=="warpShellUpper"){if(M=="warpShellUpper"){R=3-R;U=-U}if(R>2||R==2&&(h==0||h==3)){if(O>0){var w=g+R/3*2*H;
f=Math.sin(W)*w;U=-E*C-H+Math.cos(W)*w;if(h==1||h==2){f=h==1?-J*w:J*w;U=-E*C-H+N*w}}else{if((h==1||h==2)&&R==3){f=h==1?-J*g:J*g;
U=E*C-N*g+H}else if(R==2){U=H-H*(2/3)*Math.cos(W);f=f+H*(2/3)*Math.sin(W)}}}if(M=="warpShellUpper"){R=3-R;
U=-U}}f+=C;U+=H}Z=f,u=U;s[m]=Z+A.x;s[m+1]=u+A.y}}for(var R=0;R<s.length;R+=2)s[R]/=F};a.Z6.aJ1=function(s,M,O){var P=[];
for(var y=0;y<4;y++)P.push(1-O+y/3*2*O);var F=[];for(var y=0;y<4;y++)F.push(1-M+y/3*2*M);var A=[0,0,0,0],h=[0,0,0,0];
for(var R=0;R<4;R++)for(var y=0;y<4;y++){var m=2*(4*R+y),Z=s[m],u=s[m+1];A[y]+=Z/4;h[y]+=u/4}for(var R=0;
R<4;R++)for(var y=0;y<4;y++){var f=P[y],m=2*(4*R+y),Z=s[m],u=s[m+1],U=A[y],C=h[y];s[m]=U+f*(Z-U);s[m+1]=C+f*(u-C)}var H=s.slice(0);
for(var R=0;R<4;R++)for(var y=1;y<3;y++){var m=2*(4*R+y),Z=s[m],u=s[m+1],t=m+(y==1?-2:2),X=s[t],Q=s[t+1];
s[m]=Z-X;s[m+1]=u-Q}var D=s[0],L=s[1],E=s[8],_=s[9],S=s[16],W=s[17],g=s[24],x=s[25],V=s[6],b=s[7],N=s[14],J=s[15],K=s[22],q=s[23],d=s[30],l=s[31],T=V-D,B=b-L,p=N-E,I=J-_,w=K-S,e=q-W,G=d-g,j=l-x;
for(var R=0;R<4;R++){var o=2*R*4,r=0,k=0,a7=R==1?.33:.66,Y=1-a7;if(R==0){r=T;k=B}if(R==1){r=Y*T+a7*-G;
k=Y*B+a7*-j}if(R==2){r=Y*T+a7*-G;k=Y*B+a7*-j}if(R==3){r=-G;k=-j}s[o]=s[o]+r/2;s[o+1]=s[o+1]+k/2;s[o+6]=s[o+6]-r/2;
s[o+7]=s[o+7]-k/2}for(var R=0;R<4;R++)for(var y=1;y<3;y++){var m=2*(4*R+y),Z=s[m],u=s[m+1],t=m+(y==1?-2:2),X=s[t],Q=s[t+1],f=2*R/3;
s[m]=X+f*Z;s[m+1]=Q+f*u}for(var R=1;R<3;R++)for(var y=1;y<3;y++){var m=2*(4*R+y),Z=s[m],u=s[m+1],v=R==1?-8:-16,n=R==1?16:8,cm=s[m+v],a5=s[m+v+1],gP=s[m+n],cg=s[m+n+1],f=R/3;
Z=(1-f)*cm+f*gP;u=(1-f)*a5+f*cg;s[m]=Z;s[m+1]=u}a.b.aB8(H,s,s,M)};a.Z6.afk=function(s,M){return(4-s)*(1/3)};
a.Z6.a4I=function(s,M){return(1-s)*(3-s)/(3*M)};a.v9=function(){function s(O){var P=O.quads.v,y=[];for(var R=0;
R<P.length;R++){var F=P[R].v.indices.v;for(var A=0;A<4;A++)y.push(F[A].v)}var h=[],m=[];for(var Z=0;
Z<2;Z++){var u=Z==0?h:m,f=O[Z==0?"vertices":"warpedVertices"].v;for(var R=0;R<f.length;R++){var U=f[R].v;
u.push(U.Hrzn.v.val,U.Vrtc.v.val)}}var C=O.referenceRect.v,H=C.Left.v.val,t=C.Rght.v.val,X=C.Top.v.val,Q=C.Btom.v.val,D=[];
for(var L=0;L<4;L++)D.push(O["PuX"+L].v,O["PuY"+L].v);return{fz:h,iR:m,jn:y,aFS:new gi(H,X,t-H,Q-X),Eq:O.Md.v.perspectiveWarpMode=="warp"?1:0,ex:D}}function M(O,P){var y=P.quads.v=[],F=O.jn;
for(var R=0;R<F.length;R+=4){var A=[],h={t:"Objc",v:{classID:"perspectiveWarpQuad",indices:{t:"VlLs",v:A}}};
y.push(h);for(var m=0;m<4;m++)A.push({t:"long",v:F[R+m]})}for(var Z=0;Z<2;Z++){var u=Z==0?O.fz:O.iR,f=P[Z==0?"vertices":"warpedVertices"].v;
while(f.length!=0)f.pop();for(var R=0;R<u.length;R+=2){var U={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:u[R]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:u[R+1]}}}};
f.push(U)}}var C=O.ex;for(var H=0;H<4;H++){P["PuX"+H].v=C[H*2];P["PuY"+H].v=C[H*2+1]}P.Md.v.perspectiveWarpMode=O.Eq==0?"layout":"warp"}return{Jq:s,zC:M}}();
var gR={};gR.ani={x:.34567,y:.3585};gR.aic=[{o:0,lY:.18006,rM:.26352,t:-.24341},{o:10,lY:.18066,rM:.26589,t:-.25479},{o:20,lY:.18133,rM:.26846,t:-.26876},{o:30,lY:.18208,rM:.27119,t:-.28539},{o:40,lY:.18293,rM:.27407,t:-.3047},{o:50,lY:.18388,rM:.27709,t:-.32675},{o:60,lY:.18494,rM:.28021,t:-.35156},{o:70,lY:.18611,rM:.28342,t:-.37915},{o:80,lY:.1874,rM:.28668,t:-.40955},{o:90,lY:.1888,rM:.28997,t:-.44278},{o:100,lY:.19032,rM:.29326,t:-.47888},{o:125,lY:.19462,rM:.30141,t:-.58204},{o:150,lY:.19962,rM:.30921,t:-.70471},{o:175,lY:.20525,rM:.31647,t:-.84901},{o:200,lY:.21142,rM:.32312,t:-1.0182},{o:225,lY:.21807,rM:.32909,t:-1.2168},{o:250,lY:.22511,rM:.33439,t:-1.4512},{o:275,lY:.23247,rM:.33904,t:-1.7298},{o:300,lY:.2401,rM:.34308,t:-2.0637},{o:325,lY:.24792,rM:.34655,t:-2.4681},{o:350,lY:.25591,rM:.34951,t:-2.9641},{o:375,lY:.264,rM:.352,t:-3.5814},{o:400,lY:.27218,rM:.35407,t:-4.3633},{o:425,lY:.28039,rM:.35577,t:-5.3762},{o:450,lY:.28863,rM:.35714,t:-6.7262},{o:475,lY:.29685,rM:.35823,t:-8.5955},{o:500,lY:.30505,rM:.35907,t:-11.324},{o:525,lY:.3132,rM:.35968,t:-15.628},{o:550,lY:.32129,rM:.36011,t:-23.325},{o:575,lY:.32931,rM:.36038,t:-40.77},{o:600,lY:.33724,rM:.36051,t:-116.45}];
gR.anZ=function(s){var M=gR.aic,O=2*s.x/(1.5-s.x+6*s.y),P=3*s.y/(1.5-s.x+6*s.y),y=0,F=0,A=0;for(;A<31;
A++){y=P-M[A].rM-M[A].t*(O-M[A].lY);if(A>0&&y<0){break}F=y}while(A>=M.length)A--;y/=Math.sqrt(1+M[A].t*M[A].t);
F/=Math.sqrt(1+M[A-1].t*M[A-1].t);var h=F/(F-y),m=1e6/((M[A].o-M[A-1].o)*h+M[A-1].o),Z=O-((M[A].lY-M[A-1].lY)*h+M[A-1].lY),u=P-((M[A].rM-M[A-1].rM)*h+M[A-1].rM),f=Math.sqrt(1+M[A].t*M[A].t),U=1/f,C=M[A].t/f,H=Math.sqrt(1+M[A-1].t*M[A-1].t),t=1/H,X=M[A-1].t/H,Q=(U-t)*h+t,D=(C-X)*h+X,L=Math.sqrt(Q*Q+D*D);
Q/=L;D/=L;var E=(Z*Q+u*D)*-3e3;return{AY:m,jg:E}};gR.$H=function(s,M){var O=gR.aic,P=1e6/s,y=1;for(;
y<31;y++){if(P<O[y].o){break}}var F=(O[y].o-P)/(O[y].o-O[y-1].o),A=(O[y-1].lY-O[y].lY)*F+O[y].lY,h=(O[y-1].rM-O[y].rM)*F+O[y].rM,m=Math.sqrt(1+O[y].t*O[y].t),Z=1/m,u=O[y].t/m,f=Math.sqrt(1+O[y-1].t*O[y-1].t),U=1/f,C=O[y-1].t/f,H=(U-Z)*F+Z,t=(C-u)*F+u,X=Math.sqrt(H*H+t*t);
H/=X;t/=X;A+=H*M/-3e3;h+=t*M/-3e3;return{x:1.5*A/(A-4*h+2),y:h/(A-4*h+2)}};gR.ao1=function(s){var M=s[0]+s[1]+s[2];
return{x:s[0]/M,y:s[1]/M}};gR.NV=function(s){return{x:s.x/s.y,y:1,QL:(1-s.x-s.y)/s.y}};gR.apf=function(s,M){var O=a.rD.SA([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),P=[s.x,s.y,s.QL,0],y=[M.x,M.y,M.QL,0];
P=a.rD.YO(O,P);y=a.rD.YO(O,y);var F=y[0]/P[0],A=y[1]/P[1],h=y[2]/P[2],m=a.rD.SA([F,0,0,0,A,0,0,0,h]),Z=a.rD.or(O);
return a.rD.multiply(a.rD.multiply(Z,m),O)};a.mj={};a.mj.avj=function(s,M,O,P,y,F,A,h,m,Z){for(var u=0;
u<h;u++)for(var f=0;f<A;f++){var U=3*(u*A+f),C=u+F,H=f+y,t=s[C*M+H];P[U]=t;P[U+1]=t;P[U+2]=t}};a.mj.UL=function(s,M,O,P,y,F,A,h,m,Z){var u=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],f=1/m,U=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],C=new Uint32Array(6);
for(var H=0;H<h;H++){for(var t=0;t<A;t++){var X=3*(H*A+t),Q=H+F,D=t+y;C[0]=0;C[1]=0;C[2]=0;C[3]=0;C[4]=0;
C[5]=0;for(var R=0;R<16;R+=2){var L=D+U[R],E=Q+U[R+1],_=L-m*~~(L*f),S=E-m*~~(E*f),W=Z[S*m+_];C[W]+=s[E*M+L];
C[W+3]++}var L=D,E=Q,_=L-m*~~(L*f),S=E-m*~~(E*f),W=Z[S*m+_];C[W]=s[Q*M+D];C[W+3]=1;P[X]=C[0]*u[C[3]];
P[X+1]=C[1]*u[C[4]];P[X+2]=C[2]*u[C[5]]}}};a.mj.aii=function(s,M,O,P,y,F,A,h,m,Z){var u,f,U,C,H,t,X=new Float32Array(8);
function Q(U,C){return(U&1)*2+(C&1)}for(u=0;u<O;u++)for(f=0;f<M;f++){if(f==P&&u>=P&&u<O-P)f=M-P;X.fill(0);
for(U=u-1;U!=u+2;U++)for(C=f-1;C!=f+2;C++)if(0<=C&&0<=U&&U<O&&C<M){H=y[Q(U,C)];var D=s[(U*M+C)*3+H]=F[(U+Z)*A+C+m];
X[H]+=D;X[H+4]++}H=y[Q(u,f)];for(var t=0;t<3;t++)if(t!=H&&X[t+4])s[(u*M+f)*3+t]=X[t]/X[t+4]}};a.mj.RF=function(){var s,M,O;
function P(m,R){s[m]=M[R];s[m+1]=M[R-O]+M[R-1]+M[R+1]+M[R+O]>>>2;s[m+2]=M[R-O-1]+M[R-O+1]+M[R+O-1]+M[R+O+1]>>>2}function y(m,R){s[m]=M[R-1]+M[R+1]>>>1;
s[m+1]=M[R];s[m+2]=M[R-O]+M[R+O]>>>1}function F(m,R){s[m]=M[R-O]+M[R+O]>>>1;s[m+1]=M[R];s[m+2]=M[R-1]+M[R+1]>>>1}function A(m,R){s[m]=M[R-O-1]+M[R-O+1]+M[R+O-1]+M[R+O+1]>>>2;
s[m+1]=M[R-O]+M[R-1]+M[R+1]+M[R+O]>>>2;s[m+2]=M[R]}function h(m,Z,u,f,U,C,H,t,X){s=f;M=m;O=Z;var Q=0,D=H,L=0,E=t,_=U>0&&C>0&&O-U>H&&u-C>t,S=[[0,1,1,2],[1,0,2,1],[2,1,1,0],[1,2,0,1]][X];
if(!_){Q++;D--;L++;E--;X=[2,3,0,1][X]}var W=Date.now();for(var g=L;g<E;g+=2){var x=(g+C)*O+U;if(X==0)for(var V=Q;
V<D;V+=2){var b=x+V,N=(g*H+V)*3;P(N,b);y(N+3,b+1);F(N+3*H,b+O);A(N+3*H+3,b+O+1)}else if(X==1)for(var V=Q;
V<D;V+=2){var b=x+V,N=(g*H+V)*3;y(N,b);P(N+3,b+1);A(N+3*H,b+O);F(N+3*H+3,b+O+1)}else if(X==2)for(var V=Q;
V<D;V+=2){var b=x+V,N=(g*H+V)*3;A(N,b);F(N+3,b+1);y(N+3*H,b+O);P(N+3*H+3,b+O+1)}else if(X==3)for(var V=Q;
V<D;V+=2){var b=x+V,N=(g*H+V)*3;F(N,b);A(N+3,b+1);P(N+3*H,b+O);y(N+3*H+3,b+O+1)}}if(!_)a.mj.aii(s,H,t,1,S,m,O,u,U,C);
console.log(Date.now()-W);W=Date.now()}return h}();a.mj.aHS=function(){function s(h,R,m){return h[R-m-m]+h[R-2]+h[R+2]+h[R+m+m]}function M(h,R,m){return 2*(2*h[R-m]+2*h[R-1]+4*h[R]+2*h[R+1]+2*h[R+m]-s(h,R,m))}function O(h,R,m){return h[R-m-1]+h[R-m+1]+h[R+m-1]+h[R+m+1]}function P(h,R,m){return h[R-m-m]+h[R+m+m]-2*(h[R-2]+h[R+2])+8*(h[R-1]+h[R+1])}function y(h,R,m){return h[R-1-1]+h[R+1+1]-2*(h[R-2*m]+h[R+2*m])+8*(h[R-m]+h[R+m])}function F(h,R,m){return-3*(h[R-m-m]+h[R-2]+h[R+2]+h[R+m+m])+4*(h[R-m-1]+h[R-m+1]+h[R+m-1]+h[R+m+1])+12*h[R]}function A(h,m,Z,u,f,U,C,H,t){var X=2,Q=C-2,D=2,L=H-2,E=[[0,1,1,2],[1,0,2,1],[2,1,1,0],[1,2,0,1]][t],_=0;
if(t==1){X++;Q--}if(t==2){X++;D++;Q--;L--}if(t==3){D++;L--}for(var S=D;S<L;S+=2){for(var W=X;W<Q;W+=2){var g=3*(S*C+W),x=(S+U)*m+W+f;
u[g+0]=h[x];u[g+1]=M(h,x,m)>>4;u[g+2]=F(h,x,m)>>4;u[g+3+1]=h[x+1];_=10*h[x+1]-2*O(h,x+1,m);u[g+3+0]=_+P(h,x+1,m)>>4;
u[g+3+2]=_+y(h,x+1,m)>>4;g+=3*C;x+=m;u[g+1]=h[x];_=10*h[x]-2*O(h,x,m);u[g+0]=_+y(h,x,m)>>4;u[g+2]=_+P(h,x,m)>>4;
u[g+3+0]=F(h,x+1,m)>>4;u[g+3+1]=M(h,x+1,m)>>4;u[g+3+2]=h[x+1]}}a.mj.aii(u,C,H,Math.max(X,D),E,h,m,Z,f,U)}return A}();
a.raw={};a.raw.apL=function(s){var M=Date.now(),O=s.width,P=s.height,y=0,F=0,A=O,h=P;if(s.t50829){var m=s.t50829;
y=m[1];F=m[0];A=m[3];h=m[2]}if(s.t50720&&s.t50720[0]*1.8>O){if(s.t50719){var Z=s.t50719;y+=Z[0]>>1<<1;
F+=Z[1]>>1<<1}if(s.t50720){var u=s.t50720;A=y+u[0];h=F+u[1]}}var f=A-y,U=h-F,C=a.raw.azu(s),H=s.t33422,t=s.t33421;
if(t){var u=t[0],X=H.slice(0);for(var Q=0;Q<u;Q++)for(var D=0;D<u;D++){var L=(D+(y&1))%u,E=(Q+(F&1))%u;
X[Q*u+D]=H[E*u+L]}H=X}if(s.t277[0]==1&&H)a.raw.anS(C,O,P,s,H);a.raw.Ih(2,s,C,O,P);var _=new Float32Array(f*U*3);
if(s.t277[0]==1){if(t==null){a.mj.avj(C,O,P,_,y,F,f,U)}else if(t.length!=2||t[0]!=2||t[1]!=2){console.log("Unknown CFA pattern size",t);
a.mj.UL(C,O,P,_,y,F,f,U,t[0],H)}else{var S=s.t33422.join(","),W=0;if(S=="0,1,1,2")W=0;else if(S=="1,0,2,1")W=1;
else if(S=="2,1,1,0")W=2;else if(S=="1,2,0,1")W=3;else throw"Unknown CFA pattern "+S;if((f&1)!=0||(U&1)!=0)throw"e";
var M=Date.now(),g=s.t50728,x=1/g[H[0]],V=1/g[H[1]],b=1/g[H[2]],N=1/g[H[3]];for(var Q=0;Q<P;Q+=2)for(var D=0;
D<O;D+=2){var R=Q*O+D;C[R]*=x;C[R+1]*=V;C[R+O]*=b;C[R+O+1]*=N}a.mj.aHS(C,O,P,_,y,F,f,U,W);for(var Q=0;
Q<U;Q++)for(var D=0;D<f;D++){var J=3*(Q*f+D);_[J]*=g[0];_[J+1]*=g[1];_[J+2]*=g[2]}}}else{for(var Q=0;
Q<U;Q++)for(var D=0;D<f;D++){var K=((Q+F)*O+D+y)*3,J=(Q*f+D)*3;_[J+0]=C[K+0];_[J+1]=C[K+1];_[J+2]=C[K+2]}}var q=_,d=_.length,l=a.raw.Jw(s),T=1/l;
for(var R=0;R<d;R+=3){_[R]=q[R]*T;_[R+1]=q[R+1]*T;_[R+2]=q[R+2]*T}a.raw.Ih(3,s,_,f,U);var B=s.Ox,p=f,I=U;
if(B==1||B==9){}else{var w=a.raw.ads(B,f,U),J=0;p=w[0];I=w[1];var e=_.slice(0);for(var Q=0;Q<I;Q++)for(var D=0;
D<p;D++){var G=w[2]*D+w[3]*Q+w[4],j=w[5]*D+w[6]*Q+w[7],K=(j*f+G)*3;_[J]=e[K];_[J+1]=e[K+1];_[J+2]=e[K+2];
J+=3}}return{tG:_,aoL:p,afD:I}};a.raw.ads=function(s,M,O){var P=M,y=O;if(!1){}else if(s==0)return[O,M,0,-1,M-1,1,0,0];
else if(s==2)return[M,O,-1,0,M-1,0,1,0];else if(s==3)return[M,O,-1,0,M-1,0,-1,O-1];else if(s==4)return[M,O,1,0,0,0,-1,O-1];
else if(s==5)return[O,M,0,1,0,1,0,0];else if(s==6)return[O,M,0,1,0,-1,0,O-1];else if(s==7)return[O,M,0,-1,M-1,-1,0,O-1];
else if(s==8)return[O,M,0,-1,M-1,1,0,0];else throw"unknown orientation "+s};a.raw.anS=function(s,M,O,P,y){var F=Date.now(),C=0;
if(a.raw.Jw(P)>4e4){for(var R=0;R<s.length;R++)s[R]>>=1;var A=["t50714","t50715","t50712","t50717"];
for(var R=0;R<A.length;R++){var h=P[A[R]];if(h)for(var m=0;m<h.length;m++)h[m]>>>=1}console.log("remapping to lower bit depth")}var Z=~~Math.sqrt(y.length),u=~~(.987*a.raw.Jw(P)),f=P.t50728;
if(f==null||f[0]==0)f=[1,1,1];var F=Date.now(),U=[];for(var H=1;H<O-1;H++)for(var t=1;t<M-1;t++){var R=H*M+t;
if(u<s[R])U.push(R);C=Math.max(C,s[R])}if(U.length==0)return;var X=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],Q=[];
for(var H=0;H<Z;H++)for(var t=0;t<Z;t++){var R=H*Z+t,D=Q[H*Z+t]=[0,0,0];for(var m=0;m<18;m+=2){var L=(Z+t+X[m])%Z,E=(Z+H+X[m+1])%Z,_=y[E*Z+L];
D[_]=X[m+1]*M+X[m]}}var S=f[1]/f[0],W=f[1]/f[2],g=new Float32Array(131072);for(var R=0;R<131072;R++)g[R]=Math.pow(R,1/3);
var x=s.slice(0);for(var V=0;V<U.length;V++){var R=U[V],H=~~(R/M),t=R-H*M,b=H%Z*Z+t%Z,N=y[b];if(N==1){var J=g[~~(s[R+Q[b][0]]*S+.5)],K=g[~~(s[R+Q[b][2]]*W+.5)],q=(J+K)*.5,d=Math.min(65535,~~(q*q*q));
if(d>x[R])x[R]=d}}s.set(x)};a.raw.a1$=function(s,M,O,P,y,F,A){var h=Math.max(F[0],F[1],F[2]);F=[F[0]/h,F[1]/h,F[2]/h];
console.log(F);var m=new Uint32Array(s.length);for(var Z=0;Z<O;Z++){}for(var u=0;u<M;u++){a.raw.a7S(s,m,M,O,1,1,u,y,A,F,0);
a.raw.a7S(s,m,M,O,1,-1,u,y,A,F,1)}s.set(m)};a.raw.a7S=function(s,M,O,P,y,F,A,h,m,Z,u){var f=1,U=1,C=(y==0?O:P)-1;
if(F==-1){U=C-1;C=0}for(var R=U;R!=C;R+=F){var H=R,t=A;if(y==1){H=A;t=R}var X=t*O+H,Q=m,D=m,L=y==0?1:O,E=y==0?O:1,_=s[X],S=s[X+F*L];
if(_<Q&&S<D&&3<_&&3<S){var W=1;if(R&1)W=_/S;else W=S/_;f=(3*f+W)*.25}if(Q<=_&&h[(t&1)*2+(H&1)]==1){var g=0;
if(S<D){if(R&1)g=S*f;else g=S/f}else{if(f<1){if(R&1)g=_;else g=S/f}else{if(R&1)g=S*f;else g=_}}if(u==0)M[X]=g;
else if(u==1)M[X]=Math.min(65535,(M[X]+g)/2);else M[X]+=g}else M[X]=_}};a.raw.Bb=function(s,M,O,P,y){var F=gR.$H(P[0],P[1]),A=a.raw.agZ(O,F),h=[a.rD.vz,a.rD.acy,a.rD.aIC,a.rD.aFC][y],m=a.rD.multiply(h,A),Z=Math.pow(2,P[2]+(O.t50730?O.t50730[0]:0));
m=a.rD.multiply(m,a.rD.fU(Z,Z,Z));var u=a.raw.Bb.aLC[y];if(u==null){u=a.raw.Bb.aLC[y]=new Float32Array(5e3);
var f=1/[2.4,2.1992,1.8,2.4][y];if(y==0||y==3)for(var R=0;R<5e3;R++)u[R]=a.$W(R*(1/4e3));else for(var R=0;
R<5e3;R++)u[R]=Math.pow(R*(1/4e3),f)}var U=s.length;for(var R=0;R<U;R+=4){var C=s[R],H=s[R+1],t=s[R+2],X=m[0]*C+m[1]*H+m[2]*t,Q=m[4]*C+m[5]*H+m[6]*t,D=m[8]*C+m[9]*H+m[10]*t;
if(X<0)X=0;else if(X>1)X=1;if(Q<0)Q=0;else if(Q>1)Q=1;if(D<0)D=0;else if(D>1)D=1;M[R]=u[~~(X*4e3)];M[R+1]=u[~~(Q*4e3)];
M[R+2]=u[~~(D*4e3)]}};a.raw.Bb.aLC=[];a.raw.azu=function(s){var M=s.width,O=s.height,P=M*O*s.t277,y=new Uint16Array(P),F=null,A=0;
a.raw.a0u(s,y);a.raw.Ih(1,s,y,M,O);if(s.t50712){F=s.t50712;A=F.length-1;if(F[A]>65535)throw"too big values"}var h=a.raw.adS(s),m=a.raw.aCo(s);
if(F==null)for(var R=0;R<P;R++)y[R]=Math.max(0,y[R]-h);else for(var R=0;R<P;R++){var Z=y[R];if(Z>A)Z=A;
Z=F[Z];y[R]=Math.max(0,Z-h)}return y};a.raw.adS=function(s){var M=s.t50714,O=M?M[0]:0,P=s.t50715,y=s.t50716;
if(P)O+=P[0][0]/P[0][1];if(y)O+=y[0][0]/y[0][1];return Math.round(O)};a.raw.aCo=function(s){var M=null,O=0;
if(s.t50712){M=s.t50712;O=M.length-1}var P=s.t50717?s.t50717[0]:(1<<s.t258[0])-1;if(M)P=Math.min(P,M[O]);
if(P==1)P=32767;return P};a.raw.Jw=function(s){var M=a.raw.adS(s),O=a.raw.aCo(s);return O-M};a.raw.a0u=function(s,M){var O=M.length,P=s.data,y=s.t258[0],A=null;
if(y!=32&&y!=16&&y!=14&&y!=12&&y!=10&&y!=8)throw"Unsupported Bits Per Sample:"+y;y=Math.round(P.length*8/O);
if(s.t272&&s.t272[0]=="COOLPIX B700")for(var R=0;R<P.length;R+=4){var F=P[R];P[R]=P[R+3];P[R+3]=F;var F=P[R+1];
P[R+1]=P[R+2];P[R+2]=F}if(y==16&&s.isLE){a.jO(P,M);return}for(var R=0;R<O;R+=2){var h=0,m=0,Z=0;if(y==32){if(A==null)A=new Float32Array(P.buffer);
m=~~(A[R]*32767);Z=~~(A[R+1]*32767)}else if(y==16){h=R<<1;m=P[h]<<8|P[h+1];Z=P[h+2]<<8|P[h+3]}else if(y==14){var u=R*14,f=u>>>3,U=P[f]<<24|P[f+1]<<16|P[f+2]<<8|P[f+3];
if((u&7)==0){m=U>>>18;Z=U>>>4&16383}else{m=U>>>14&16383;Z=U&16383}}else if(y==12){h=R+(R>>>1);m=P[h]<<4|P[h+1]>>4;
Z=(P[h+1]&15)<<8|P[h+2]}else if(y==10){var u=R*10,f=u>>>3;if((u&7)==0){m=(P[f]<<2|P[f+1]>>6)&1023;Z=(P[f+1]<<4|P[f+2]>>4)&1023}else{m=(P[f]<<6|P[f+1]>>2)&1023;
Z=(P[f+1]<<8|P[f+2]>>0)&1023}}else if(y==8){h=R;m=P[h];Z=P[h+1]}M[R]=m;M[R+1]=Z}};a.raw.a9H=function(s,M,O,P,y,F,A){var h=s-.499999,m=M-.499999,Z=~~h,u=~~m,f=h-Z,U=m-u,C=(1-U)*(1-f),H=(1-U)*f,t=U*(1-f),X=U*f,Q=(u*P+Z)*3,D=((u+1)*P+Z)*3,L=C*O[Q]+H*O[Q+3]+t*O[D]+X*O[D+3],E=C*O[Q+1]+H*O[Q+4]+t*O[D+1]+X*O[D+4],_=C*O[Q+2]+H*O[Q+5]+t*O[D+2]+X*O[D+5];
F[A]=L;F[A+1]=E;F[A+2]=_};a.raw.Ih=function(s,M,O,P,y){var F=M["t"+[51008,51009,51022][s-1]],u=0;if(F==null)return;
var A=P*y,h=c.h4,m=c.tV,Z=new Uint8Array(F),hR=c.h4(Z,u);u+=4;for(var f=0;f<hR;f++){var U=h(Z,u);u+=4;
var C=h(Z,u);u+=4;var H=h(Z,u);u+=4;var t=h(Z,u);u+=4;if(!1){}else if(U==1&&s==3){var X=u,Q=h(Z,X);X+=4;
var D=m(Z,X);X+=8;var L=m(Z,X);X+=8;var E=m(Z,X);X+=8;var _=m(Z,X);X+=8;var S=m(Z,X);X+=8;var W=m(Z,X);
X+=8;X+=(Q-1)*8*6;var g=m(Z,X);X+=8;var x=m(Z,X);X+=8;var V=g*P,b=x*y,N=Math.max(V,P-V),J=Math.max(b,y-b),K=Math.sqrt(N*N+J*J),q=1/K,d=O.slice(0);
for(var l=0;l<y;l++)for(var T=0;T<P;T++){var B=(T+.5-V)*q,p=(l+.5-b)*q,I=B*B+p*p,w=D+L*I+E*(I*I)+_*(I*I)*I,e=S*(2*B*p)+W*(I+2*B*B),G=W*(2*B*p)+S*(I+2*p*p),j=Math.min(V+K*(w*B+e),P-1),o=Math.min(b+K*(w*p+G),y-1),r=(l*P+T)*3;
a.raw.a9H(j,o,d,P,y,O,r)}}else if(U==3&&s==3){var X=u,k=m(Z,X);X+=8;var a7=m(Z,X);X+=8;var Y=m(Z,X);
X+=8;var v=m(Z,X);X+=8;var n=m(Z,X);X+=8;var g=m(Z,X);X+=8;var x=m(Z,X);X+=8;var V=g*P,b=x*y,N=Math.max(V,P-V),J=Math.max(b,y-b),K=Math.sqrt(N*N+J*J),q=1/K;
for(var l=0;l<y;l++)for(var T=0;T<P;T++){var B=(T+.5-V)*q,p=(l+.5-b)*q,I=B*B+p*p,cm=1+(k+(a7+(Y+(v+n*I)*I)*I)*I)*I,r=(l*P+T)*3;
O[r]=cm*O[r];O[r+1]=cm*O[r+1];O[r+2]=cm*O[r+2]}}else if(U==4&&s==1){var X=u,a5=h(Z,X);X+=4;var gP=h(Z,X);
X+=4;for(var R=0;R<A;R++)if(O[R]==a5)O[R]=O[R-2]+O[R+2]>>1}else if(U==5&&s==1){var X=u,cg=h(Z,X);X+=4;
var a9=h(Z,X);X+=4;var ew=h(Z,X);X+=4;for(var R=0;R<a9;R++){var h7=h(Z,X);X+=4;var bh=h(Z,X);X+=4;var R=h7*P+bh;
O[R]=O[R-2]+O[R+2]>>1}}else if(U==7&&s==1){var X=u,ba=c._l(Z,X);X+=16;var jx=h(Z,X);X+=4;var c4=h(Z,X);
X+=4;var bq=h(Z,X),di=h(Z,X+4);X+=8;var il=h(Z,X);X+=4;var j0=new Uint16Array(il);for(var R=0;R<il;R++)j0[R]=c.m4(Z,X+2*R);
var j1=ba.A,b5=ba.$;for(var l=0;l<b5;l+=bq)for(var T=0;T<j1;T+=di){var R=(ba.y+l)*P+(ba.x+T);O[R]=j0[O[R]]}}else if(U==8&&s==2){var X=u,ba=c._l(Z,X);
X+=16;var jx=h(Z,X);X+=4;var c4=h(Z,X);X+=4;var bq=h(Z,X),di=h(Z,X+4);X+=8;var b4=h(Z,X);X+=4;var lm=[];
for(var R=0;R<=b4;R++)lm[R]=c.tV(Z,X+R*8);var ix=ba.x,jy=ba.x+ba.A,bz=ba.y,c5=ba.y+ba.$,k0=M.t50717[0],cd=1/k0;
for(var fz=0;fz<c4;fz++)for(var l=bz;l<c5;l+=bq){var r=3*l*P+jx+fz;for(var T=ix;T<jy;T+=di){var R=r+3*T,fu=O[R]*cd,c6=lm[b4];
for(var k7=b4;k7>0;k7--)c6=c6*fu+lm[k7-1];O[R]=Math.max(0,Math.min(65535,~~(c6*k0)))}}}else if(U==9&&(s==2||s==3)){var X=u,ba=c._l(Z,X),eo=!0;
X+=16;var jx=h(Z,X);X+=4;var c4=h(Z,X);X+=4;var bq=h(Z,X),di=h(Z,X+4);X+=8;var hP=h(Z,X),e1=h(Z,X+4);
X+=8;var fs=m(Z,X),eh=m(Z,X+8);X+=16;var gW=m(Z,X),hk=m(Z,X+8);X+=16;var jz=h(Z,X);X+=4;var lh=hP*e1*jz,ag=new Float32Array(lh);
for(var k7=0;k7<lh;k7++)ag[k7]=c.C6(Z,X+k7*4);for(var k7=0;k7<lh;k7++)if(ag[k7]!=1)eo=!1;if(s==2&&jz!=1)throw"e";
if(s==3&&jz!=3)throw"e";if(!eo){var j1=Math.min(ba.A,P-ba.x),b5=Math.min(ba.$,y-ba.y),aC=.9999*(e1-1)/j1,e8=.9999*(hP-1)/b5;
for(var l=0;l<b5;l+=bq)for(var T=0;T<j1;T+=di){var R=(ba.y+l)*P+(ba.x+T),lb=T*aC,jn=l*e8,k3=Math.floor(lb),cP=Math.floor(jn),cV=lb-k3,l2=jn-cP,r=cP*e1+k3;
if(s==2){var dS=ag[r]*(1-cV)+ag[r+1]*cV,gH=ag[r+e1]*(1-cV)+ag[r+1+e1]*cV,hd=dS*(1-l2)+gH*l2;O[R]=Math.max(0,Math.min(65535,~~(O[R]*hd+.5)))}if(s==3){for(var bL=0;
bL<3;bL++){var au=r*3+bL,dS=ag[au]*(1-cV)+ag[au+3]*cV,gH=ag[au+e1*3]*(1-cV)+ag[au+3+e1*3]*cV,hd=dS*(1-l2)+gH*l2;
O[3*R+bL]=O[3*R+bL]*hd}}}}}else console.log("Unknown opcode "+U+" in OpcodeList"+s+". Length: "+t);u+=t}};
a.raw.agZ=function(s,M){var O=gR.NV(M),P=a.raw.a7u(s,M),y=a.rD.or(P),F=gR.apf(O,gR.NV(gR.ani)),A=a.rD.multiply(F,y);
return A};a.raw.a4b=function(s){var M=s.t50728,O=s.t50729,F=1;if(O)return{x:O[0][0]/O[0][1],y:O[1][0]/O[1][1]};
if(M==null||M[0]==0)M=[1,1,1];var P=M.slice(0);P.push(0);var y={x:.34567,y:.3585};do{var A=a.rD.or(a.raw.a7u(s,y)),h=a.rD.YO(A,P),m=gR.ao1(h);
F=Math.abs(y.x-m.x)+Math.abs(y.y-m.y);y=m}while(F>1e-7);return y};a.raw.a7u=function(s,M){var O=gR.anZ(M),P=a.raw.aK0,y=s.t50778?s.t50778[0]:0,F=s.t50779?s.t50779[0]:0,A=s.t50723,h=s.t50724;
if(A&&A.length==3)A=null;if(h&&h.length==3)h=null;var m=P(s.t50721,s.t50722,y,F,O.AY),Z=P(A,h,y,F,O.AY);
m=m||[1,0,0,0,1,0,0,0,1];Z=Z||[1,0,0,0,1,0,0,0,1];var u=s.t50727?[s.t50727[0],0,0,0,s.t50727[1],0,0,0,s.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return a.rD.multiply(a.rD.SA(u),a.rD.multiply(a.rD.SA(Z),a.rD.SA(m)))};a.raw.aK0=function(s,M,O,P,y){if(!s&&!M){return null}else if(s&&!M){return s}else if(y<O){return s}else if(y>P){return M}else{var F=(1/y-1/P)/(1/O-1/P),A=1-F,h=[];
for(var R=0;R<9;R++)h[R]=s[R]*F+M[R]*A;return h}};a.raw.Oi={};a.raw.dG=function(s){s*=8;var M=[8,10,12,14,16];
for(var O in CAMS){var P=CAMS[O];if(P.length==4)continue;var y=P[4],F=P[5];for(var R=0;R<M.length;R++)if(y*F*M[R]==s)return[O,M[R]]}var A=[[4e3,3e3]];
for(var R=0;R<A.length;R++){var P=A[R],y=P[0],F=P[1];for(var R=0;R<M.length;R++)if(y*F*M[R]==s)return[P,M[R]]}return null};
a.raw.ayY=function(s){var s=new Uint8Array(s);for(var R=0;R<s.length;R+=2){var M=s[R];s[R]=s[R+1];s[R+1]=M}var O=a.raw.dG(s.length),P=CAMS[O[0]];
if(P==null)P=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,O[0][0],O[0][1]];var y=P[4],F=P[5],A=Math.max(P[2],116),h={data:s,Ox:1,width:y,height:F,t256:[y],t257:[F],t258:[O[1]],t277:[1],t33421:[2,2],t33422:a.raw.Ok[P[1]],t50706:[1,2,0,0],t50714:[A,A,A,A],t50717:[P[3]],t50721:P[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var R=0;R<9;R++)h.t50721[R]/=1e4;return h};a.raw.ah3=function(s){if(s==null||s.length==0||typeof s[0]=="number")return s;
var M=[];for(var R=0;R<s.length;R++)M[R]=s[R][1]==0?0:s[R][0]/s[R][1];return M};a.raw.Ok=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
a.raw.normalize=function(s,M){if(s.t259&&s.t259[0]==52546)alert("JPEG XL compression is not supported yet.",4e3);
if(s.t50706!=null||s.t271[0].startsWith("Hasselblad")){var O=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var R=0;R<O.length;R++)if(s["t"+O[R]]!=null)s["t"+O[R]]=a.raw.ah3(s["t"+O[R]]);if(s.t271&&s.t271[0].startsWith("Hasselblad")){s.t50706=[1,2,0,0];
s.t33422=a.raw.Ok[1];s.t50723=[1,0,0,0,1,0,0,0,1];s.t50778=[17];if(!s.isLE)for(var R=0;R<s.data.length;
R+=2){var P=s.data[R];s.data[R]=s.data[R+1];s.data[R+1]=P}}if(s.t272&&s.t272[0]=="HERO10 Black"){s.t50728=[.469725,1,.739884];
if(!s.t305[0].startsWith("Adobe")){var y=new Uint16Array(s.data.buffer);for(var R=0;R<y.length;R++)y[R]>>>=2}}return}var F=s.t258[0],A=s.exifIFD,M=new Uint8Array(M);
s.t50706=[1,2,0,0];var h=s.t271[0].trim(),m=s.t272[0].trim();if(s.t50708==null)s.t50708=[h+" "+m];var Z=(h+":"+m).toLowerCase().trim(),u=CAMS[Z];
if(Z=="panasonic:dmc-lx2")u[3]=1<<16;if(u==null){alert("Unknown camera:"+Z);if(Z.startsWith("canon"))u=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(u!=null){var f=u[2],U=u[3];
if(f!=0)s.t50714=[f,f,f,f];if(U!=0)s.t50717=[U];s.t50721=u[0].slice(0);for(var R=0;R<9;R++)s.t50721[R]=s.t50721[R]*(1/1e4)}s.t50723=[1,0,0,0,1,0,0,0,1];
if(s.t50728==null)s.t50728=[.35,1,.6];s.t50778=[17];if(h.startsWith("OLYMPUS")||h.startsWith("OM Digital Solutions")){s.t33422=[2,1,1,0];
var C=A.t41730,Q;if(C)s.t33422=[C[4],C[5],C[6],C[7]];var H=s.t50341;if(H==null)H=A.t36864;var t=a.raw.atS(H.buffer,s);
s.data=new Uint8Array(t.buffer);if((s.height&1)==1)s.t50829=[0,0,s.height-1,s.width];var X=A.makerNote,D=X.t8256;
if(D)Q=D.t256;else Q=X.t12288.t256;if(Q)s.t50728=[256/Q[0],1,256/Q[1]]}else if(s.t271[0].startsWith("SONY")){var L=UTIF["_bin"+(s.isLE?"LE":"BE")],E=s.t28688,b;
if(JSON.stringify(E)!="[8000,10400,12900,14100]")console.log(E);if(E&&E.join("")!="0000"){var _=[0,0,0,0,0,4095],S=new Uint16Array(16385);
for(var R=0;R<4;R++){var W=E[R]>>>2;_[R+1]=W;if(W>4095)throw"e"}for(var R=0;R<16385;R++)S[R]=R;for(var R=0;
R<5;R++)for(var g=_[R]+1;g<=_[R+1];g++)S[g]=S[g-1]+(1<<R);var x=M.length*8<s.width*s.height*F;if(x)s.t50712=S}else console.log("no curve");
var V=s.dngPrvt;if(V){var N=V.t29184[0],J=V.t29185[0],K=(s.isLE?c.je:c.h4)(V.t29217,0),q=new Uint32Array(M.slice(N,N+(J&4294967292)).buffer),d=new Uint32Array(J>>>2);
a.raw.aDB(q,d,J>>>2,K);var l=new Uint8Array(N+J);l.set(new Uint8Array(d.buffer),N);var T=[];UTIF._readIFD(L,l,N,T,0,!1);
var B=T.pop(),p=B.t29458;s.t50728=[p[1]/p[0],1,p[1]/p[3]];s.t50730=[.5];var I=B.t29891;s.t50829=[I[1],I[0],I[3],I[2]]}else if(A.makerNote&&A.makerNote.t8208){var b=A.makerNote,w=b.t8208,e=w.length,G=0,j=new Uint8Array(256);
for(var R=249;R<256;R++)j[R]=R;for(var R=0;R<249;R++)j[R*R*R%249]=R;for(var R=0;R<e;R++)w[R]=j[w[R]];
if(e==6604)G=612;else throw"e";var p=[];for(var R=0;R<3;R++)p.push(c.Sw(w,G+R*2));console.log(p);s.t50728=[p[1]/p[0],1,p[1]/p[2]]}else console.log("no white balance");
if(s.width*s.height*1.5==s.t279[0]){f=f>>>2;s.t50714=[f,f,f,f];s.t50717=[u[3]>>>2]}}else if(s.t271[0].startsWith("Canon")){var M=s.data,o=M.slice(0),r=s.t50752,k=[],Y=0;
if(r==null||r[0]==0&&r[1]==0)k.push(s.width);else{for(var R=0;R<r[0];R++)k.push(r[1]);k.push(r[2])}var a7=s.width*2,v=s.t50885&&s.t50885[0]==4;
if(!v)for(var n=0;n<k.length;n++){var cm=k[n],a5=2*Y,gP=2*cm;for(var cg=0;cg<s.height;cg+=2){var a9=cg*a7+a5,ew=s.height*a5+cg*gP;
for(var R=0;R<gP;R++){M[a9+R]=o[ew+R];M[a9+R+a7]=o[ew+R+gP]}}Y+=cm}else{var h7=new Uint16Array(o.buffer),bh=new Uint16Array(M.buffer);
function ba(c4,bq){bh[bq*3+0]=h7[c4*3+0];bh[bq*3+1]=h7[c4*3+1];bh[bq*3+2]=h7[c4*3+2]}var jx=(r[0]*r[1]+r[2])/s.width;
for(var n=0;n<k.length;n++){var cm=Math.round(k[n]/jx);for(var cg=0;cg<s.height;cg++){var c4=s.height*Y+(jx==3?(cg>>>3)*8+[0,4,1,5,2,6,3,7][cg&7]:cg)*cm,bq=cg*s.width+Y;
for(var di=0;di<cm;di++)ba(c4+di,bq+di)}Y+=cm}var il=new Uint16Array(M.buffer),j0=new Uint16Array(1),j1=new Int16Array(j0.buffer);
for(var R=0;R<il.length;R+=3){var b5=il[R],b4=il[R+1],lm=il[R+2];j0[0]=b4<<2;b4=j1[0]>>2;j0[0]=lm<<2;
lm=j1[0]>>2;il[R+0]=Math.max(0,lm+b5);il[R+1]=Math.max(0,(b5<<12)-b4*778-(lm<<11)>>12);il[R+2]=Math.max(0,b4+b5)}}var b=A.makerNote,c4=b.t224;
if(c4){var N=s.t50719=[c4[5],c4[6]],ix=s.t50720=[c4[7]+1-c4[5],c4[8]+1-c4[6]],jy=b.t154;if(jy){N[0]+=jy[3];
N[1]+=jy[4];ix[0]=jy[1];ix[1]=jy[2]}}if(b.t16385){var bz=b.t16385,c5=bz.length,fu=1;if(bz instanceof Array)bz=new Uint16Array(bz);
if(bz instanceof Uint8Array)bz=new Int16Array(bz.slice(0).buffer);var k0=bz[0];if(c5==1273||c5==1275)k0=66;
var cd=[[null,null,null],[63,196,null],[63,231,null],[63,231,null],[63,231,696],[63,231,696],[63,231,719],[63,231,719],[null,null,null],[63,231,723],[63,504,508],[63,728,732],[63,326,782],[63,326,782],[63,326,560],[63,326,782],[71,329,796],[71,329,796],[71,329,796],[71,329,796]];
cd[-3]=[71,264,662];cd[-4]=[71,333,1385];cd[66]=[63,251,483];cd[32]=[85,343,810];cd[33]=[85,343,810];
cd[34]=[105,363,640];cd[48]=[105,363,640];var fz=cd[k0];if(fz==null){if(c5==582)fz=[25,166,null];if(c5==653)fz=[34,286,null]}var c6=s.t272?s.t272[0]:"";
if(c6=="Canon EOS DIGITAL REBEL XS"||c6=="Canon EOS 1000D")fu=.25;var G=fz[0],k7=fz[1],hP=fz[2];if(G)s.t50728=[bz[G+1]/bz[G],1,bz[G+1]/bz[G+3]];
if(k7)s.t50714=[bz[k7]*fu,bz[k7]*fu,bz[k7]*fu,bz[k7]*fu];if(hP)s.t50717=[bz[hP]*fu];if(c6=="Canon PowerShot SX50 HS")s.t50717=[3965]}else{s.t50728=[.4,1,.6]}if(v){s.t277=[3];
s.t50728=[1,1,1];s.t50714=[0,0,0,0]}}else if(s.t271[0].startsWith("NIKON")){var b=A.makerNote,e1=s.isLE?c.Sw:c.VQ,lh=0,ag=0,jn,hd=0;
if(b.t61){var fs=b.t61,eh=[];for(var R=0;R<4;R++)eh[R]=fs[R]/Math.pow(2,14-F);s.t50714=eh}if(b.t3585){var gW=b.t3585,R=0,N=22;
while(N<gW.length&&R!=-4){var hk=c.je(gW,N);N+=4;N+=14;R=c.je(gW,N)-4;N+=4;if(hk==1990472198){if(gW[N]!=0)throw"Flip"}if(hk==1990472199){var jz=c.Sw(gW,N);
if(jz==0)s.Ox=1;else if(jz==270)s.Ox=8;else throw"e "+jz}N+=R}}if(b.t183){var eo=b.t183,ix=[];for(var R=0;
R<6;R++)ix.push(e1(eo,16+R*2));lh=ix[0];ag=ix[1]}if(b.t3614){var aC=b.t3614;lh=c.je(aC,8);ag=c.je(aC,12)}if(lh!=0&&Math.max(lh,ag)<Math.max(s.width,s.height)){if(lh<ag){var P=lh;
lh=ag;ag=P}var di=s.width-lh>>>1,cg=s.height-ag>>>1;s.t50829=[cg,di,cg+ag,di+lh]}else s.t50829=[8,8,s.height-8,s.width-56];
var e8=b.t69;if(e8){var lb=e8[1];if((lb&1)==1)lb++;s.t50829=[lb,e8[0],lb+e8[3],e8[0]+e8[2]]}if(b.t12){var k3=a.raw.ah3(b.t12);
jn=[1/k3[0],1,1/k3[1]]}else if(b.t151){var cP=a.raw.aki(b,151),cV=cP[0],d4=cP[1],l2=cP[2];if(cV=="0100"&&d4>=80){var dS=[];
for(var R=0;R<4;R++)dS.push(e1(l2,68+R*2));jn=[dS[3]/dS[0],1,dS[3]/dS[1]]}else if(cV=="0102"){var dS=[];
for(var R=0;R<4;R++)dS.push(e1(l2,6+R*2));jn=[dS[1]/dS[0],1,dS[1]/dS[3]]}else if(cV=="0103"&&d4>=26){var dS=[];
for(var R=0;R<4;R++)dS.push(e1(l2,16+R*2));jn=[dS[1]/dS[0],1,dS[3]/dS[2]]}else if(cV=="0204"&&d4>=564||cV=="0205"&&d4>=284){var N=cV=="0204"?6:14,dS=[];
for(var R=0;R<4;R++)dS.push(e1(l2,N+R*2));jn=[dS[1]/dS[0],1,dS[1]/dS[3]]}else throw"e"}else console.log("no white balance info");
if(m=="NIKON D1")jn=[1,1,1];if(jn)s.t50728=jn;var gH=b.t150?b.t150:b.t140;if(gH){var bL=gH[hd++],au=gH[hd++],fn;
if(bL==73||au==88)hd+=2110;hd+=8;var ev=1<<F&32767,eF=e1(gH,hd);hd+=2;var S=[];if(eF>1)fn=Math.floor(ev/(eF-1));
if(bL==68&&au==32&&fn>0){for(R=0;R<eF;R++){S[R*fn]=e1(gH,hd);hd+=2}for(R=0;R<ev;R++)S[R]=Math.floor((S[R-R%fn]*(fn-R%fn)+S[R-R%fn+fn]*(R%fn))/fn)}else if(bL!=70&&eF<=16385){ev=eF;
for(var R=0;R<eF;R++)S[R]=e1(gH,hd+2*R);hd+=2*eF}var m=s.t272[0];if(S.length!=0)s.t50712=new Uint16Array(S);
if(s.t258[0]==14&&s.t50717&&s.t50717[0]<1e4){console.log("fixing white");s.t50717[0]*=4}}}else if(h.startsWith("FujiFilm")){}else if(h.startsWith("Panasonic")){if(s.t277==null)s.t277=[1]}else alert("Unknown camera "+h)};
a.raw.aDB=function(s,M,O,P){if(0==O)return;var y=new Uint32Array(128),F=new Uint8Array(y.buffer),A=127,h=0,m=0;
for(var A=0;A<4;A++)y[A]=P=(P*15625>>>0)*3125+1>>>0;y[3]=y[3]<<1|(y[0]^y[2])>>>31;for(var A=4;A<127;
A++)y[A]=(y[A-4]^y[A-2])<<1|(y[A-3]^y[A-1])>>>31;for(var A=0;A<127;A++)y[A]=c.h4(F,A*4);for(;O>0;O--){y[A&127]=y[A+1&127]^y[A+1+64&127];
var Z=y[A&127],u=s[h];u^=Z;M[m]=u;h++;m++;A++}};a.raw.a6q=function(s,M){var O=c.Db(M,0,4),P=a.raw.az5;
for(var R=0;R<P.length;R++)if(P[R][0]==s&&O.startsWith(P[R][1])&&(P[R][2]==0||P[R][2]==M.length))return P[R];
throw"e"};a.raw.as5=function(s){if(s.t29==null)return[];var M=a.raw.aCh,O=a.raw.acM,P=s.t29[0],y=0,A=0;
for(var R=0;R<P.length;R++){var F=P.charCodeAt(R);y=y*10+(48<=F&&F<=57?F-48:F%10)}var d4=s.t167[0];for(var R=0;
R<4;R++)A^=d4>>>(R<<3)&255;var h=M[y&255],m=O[A&255];return[h,m,96]};a.raw.aki=function(s,M){var O=s["t"+M],d4=O.length,P=a.raw.a6q(M,O),y=c.Db(O,0,4),F,A=P[4];
if(A==null)F=O.slice(4);else{F=new Uint8Array(d4-A);var h=a.raw.as5(s),m=h[0],Z=h[1],u=h[2];for(var R=0;
R<F.length;R++){Z=Z+m*u++&255;F[R]=O[A++]^Z}}return[y,d4,F]};a.raw.atS=function(s,M){var O=M.t271[0],P=M.t272[0],y=M.t256[0],F=M.t257[0],A=M.t258[0],h=M.t273[0],m=h,Z=new Uint8Array(s),u,f=y-4,U=F,C=Z.length-h,X=0,Q=0;
function H(){var S=new Uint16Array(4096),hS=0;S[hS]=3084;for(var R=12;R--;)for(var W=0;W<2048>>R;W++)S[++hS]=R+1<<8|R;
return S}function t(){return Z[m++]}function D(S,W){var g;if(S>25)return 0;if(S==0||Q<0)return 0;if(S<0){X=0;
Q=0;return 0}while(Q<S){g=t();if(g==null)break;X=(X<<8)+(255&g);Q+=8}g=Q==0?0:X<<32-Q>>>32-S;if(W){Q-=W[g]>>8;
g=255&W[g]}else Q-=S;return g}function L(){var S=H();m+=7;D(-1);for(var W=0;W<U;W++){var g=[new Int32Array(3),new Int32Array(3)];
for(var x=0;x<y;x++){var V=g[x&1],R=2*(V[2]<3),b;for(b=2+R;(65535&V[0])>>b+R;b++);var N=D(3),J=N&3;N=N<<29>>31;
var K=D(12,S);if(K==12)K=D(16-b)>>>1;var q=D(b);V[0]=K<<b|q;var d=(V[0]^N)+V[1];V[1]=d*3+V[1]>>5;V[2]=V[0]>16?0:V[2]+1;
if(x>=f)continue;var l=u[W*y+x-2],hS=u[(W-2)*y+x],T=u[(W-2)*y+x-2];u[W*y+x]=(W<2&&x<2?0:W<2?l:x<2?hS:l<T&&T<hS||hS<T&&T<l?Math.abs(l-T)>32||Math.abs(hS-T)>32?l+hS-T:l+hS>>1:Math.abs(l-T)>Math.abs(hS-T)?l:hS)+(d<<2|J)}}}function E(){var S=y*A/8,W=F+1>>1,x=0,V=0;
S+=S&6>>7;var g=S*8-y*A;for(var b=0;b<F;b++){var N=b%W*2+~~(b/W);if(N==1){x=0;m=h-(-W*S&-2048)}for(var J=0;
J<y;J++){for(x-=A;x<0;x+=8){V<<=8;for(var R=0;R<8;R+=8)V|=t()<<R}var K=V<<64-A-x>>>64-A;u[N*y+J]=K}x-=g}}function _(){var S=!O.startsWith("OLYMPUS")||!O.startsWith("OM Digi")||!O.toLowerCase().startsWith("clauss")&&!P.toLowerCase().startsWith("pix 5oo");
return S&&C<y*F*(A/8)}if(_()){u=new Uint16Array(f*U);L()}else if(y*F*2==M.data.length){u=new Uint16Array(M.data.buffer)}else{u=new Uint16Array(y*F);
E()}return u};a.raw.az5=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
a.raw.aCh=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
a.raw.acM=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
a.nP={};a.nP.nP=function(s,M,O,P,y){if(P==null)P=3;if(y==null)y=!0;var F=s.A,A=s.$,h=1/F,m=F*A,Z=Date.now(),u=!1,f=a.nP.arm(O,F,A,255,128),U=a.nP.arm(O,F,A,0,128),v=0;
if(u)console.log("extract contours",Date.now()-Z);Z=Date.now();var C=function(hP,e1){var fs=hP<<2,eh=e1<<2;
return M[fs]+M[fs+1]+M[fs+2]-(M[eh]+M[eh+1]+M[eh+2])};f.sort(C);U.sort(C);var H=a.j(m),t=a.j(m),X=[],Q=new Uint32Array(F*A);
Q.fill(4294967295);for(var R=0;R<m;R++)if(O[R]==0)t[R]=255;else if(O[R]==255)H[R]=255;else{Q[R]=X.length;
X.push(R)}var D=f.length,L=U.length,E=X.length;function _(hP,e1,fs,eh){var gW=hP.length,hk=new Array(gW*2);
for(var R=0;R<gW;R++){var l=hP[R],T=~~(l*eh),B=l-T*fs,fu=l<<2;hk[R*2]=B<<16|T;hk[R*2+1]=e1[fu]<<16|e1[fu+1]<<8|e1[fu+2]}return hk}var S=_(f,M,F,h),W=_(U,M,F,h),g=_(X,M,F,h);
if(u)console.log("Itemize",Date.now()-Z,"Unknown:",E,D,L);Z=Date.now();var x=a.style.wr(H,F,A,!0),V=a.style.wr(t,F,A,!0),b=new Array(E),N=new Array(E),J=new Array(E),K=new Array(E),q=new Array(E);
if(u)console.log("Dist transform",Date.now()-Z);Z=Date.now();var d=a.nP.v1;for(var R=0;R<E;R++){var l=X[R],T=~~(l*h),B=l-T*F,p=x[l<<1],I=x[(l<<1)+1],w=Math.sqrt(p*p+I*I),e=V[l<<1],G=V[(l<<1)+1],j=Math.sqrt(e*e+G*G);
b[R]=1/w;N[R]=1/j;var k=Math.floor(a.B.Fn(l*17)*D),a7=Math.floor(a.B.Fn(l*19)*L);J[R]=k;K[R]=a7;q[R]=d(g[R*2],g[R*2+1],S[k*2],S[k*2+1],W[a7*2],W[a7*2+1],b[R],N[R],1e9)}var Y=[-F-1,-F,-F+1,-1,1,F-1,F,F+1];
while(Math.floor(Math.max(D,L)*Math.pow(.5,v))>1)v++;for(var n=0;n<P;n++){var cm=0;for(var R=0;R<E;R++){var l=X[R],T=~~(l*h),B=l-T*F,a5=b[R],gP=N[R],cg=g[R*2],a9=g[R*2+1],ew=q[R],k=J[R],a7=K[R],di=1;
if(T!=0&&B!=0&&B!=F-1&&T!=A-1)for(var h7=0;h7<8;h7++){var bh=Q[l+Y[h7]];if(bh==4294967295)continue;var ba=J[bh],c4=K[bh];
if(ba==k&&c4==a7)continue;var bq=d(cg,a9,S[ba*2],S[ba*2+1],W[c4*2],W[c4*2+1],a5,gP,ew);if(bq<ew){ew=bq;
k=ba;a7=c4}}for(var il=0;il<v;il++){var j0=~~(D*di),j1=~~(L*di);di*=.5;var b5=a.B.Fn(l+n*17+il*31),b4=a.B.Fn(l+n*29+il*63),lm=Math.max(0,k-j0),ix=Math.min(k+j0,D-1),jy=Math.max(0,a7-j1),bz=Math.min(a7+j1,L-1),ba=lm+~~(b5*(ix-lm)),c4=jy+~~(b4*(bz-jy)),bq=d(cg,a9,S[ba*2],S[ba*2+1],W[c4*2],W[c4*2+1],a5,gP,ew);
if(bq<ew){ew=bq;k=ba;a7=c4}}q[R]=ew;J[R]=k;K[R]=a7;cm+=ew}}if(u)console.log(cm);if(u)console.log("iterations",Date.now()-Z);
Z=Date.now();var c5=O.slice(0);for(var R=0;R<E;R++){var k0=a.nP.alpha(g[R*2+1],S[J[R]*2+1],W[K[R]*2+1]);
c5[X[R]]=~~(.5+255*k0)}c5=a.oV.a6E(c5,M,new gi(0,0,F,A),16,.01*.01);if(u)console.log("guided filter",Date.now()-Z);
Z=Date.now();if(y)for(var R=0;R<m;R++)if(O[R]==255||O[R]==0)c5[R]=O[R];var cd=M.slice(0);for(var R=0;
R<E;R++){var fz=X[R],k=f[J[R]],ew=q[R],fu=fz<<2,c6=c5[fz],k7=(c6>=250?fz:k)<<2;cd[fu]=M[k7];cd[fu+1]=M[k7+1];
cd[fu+2]=M[k7+2]}a.GS(c5,cd,3);if(u)console.log(Date.now()-Z);Z=Date.now();return cd};a.nP.v1=function(s,M,O,P,y,F,A,h,m){var Z=s>>>16,u=s&65535,f=Z-(O>>>16),U=u-(O&65535),C=Z-(y>>>16),H=u-(y&65535),t=Math.sqrt(f*f+U*U)*A,X=Math.sqrt(C*C+H*H)*h;
if(t+X>=m)return 1e9;var Q=a.nP.arp(M,P,F);return Q+t+X};a.nP.arp=function(s,M,O){var P=s>>>16,y=s>>>8&255,F=s&255,A=M>>>16,h=M>>>8&255,m=M&255,Z=O>>>16,u=O>>>8&255,f=O&255,U=a.nP.alpha(s,M,O),C=P-(U*A+(1-U)*Z),H=y-(U*h+(1-U)*u),t=F-(U*m+(1-U)*f);
return Math.sqrt(C*C+H*H+t*t)};a.nP.alpha=function(s,M,O){var P=s>>>16,y=s>>>8&255,F=s&255,A=M>>>16,h=M>>>8&255,m=M&255,Z=O>>>16,u=O>>>8&255,f=O&255,U=A-Z,C=h-u,H=m-f,t=P-Z,X=y-u,Q=F-f,D=U*U+C*C+H*H,L=D==0?.5:(t*U+X*C+Q*H)/D;
return Math.max(0,Math.min(1,L))};a.nP.alk=function(s){};a.nP.arm=function(s,M,O,P,y){var F=[],A=M-1,h=O-1;
for(var m=1;m<h;m++)for(var Z=1;Z<A;Z++){var R=m*M+Z;if(s[R]==P&&(s[R-M-1]==y||s[R-M]==y||s[R-M+1]==y||(s[R-1]==y||s[R+1]==y)||(s[R+M-1]==y||s[R+M]==y||s[R+M+1]==y)))F.push(R)}return F};
a.oV={};a.oV.a38=function(s,M,O,P,y){var F=O.A,A=O.$,h=F*A,m=a.oV.ark,Z=a.j(h*4),u;Z.fill(255);var f=O,U=s,C=M,H=P;
a.GS(s,Z,0);u=a.FJ(Z,O);u=a.FJ(u.tG,u.S);f=u.S;H=P>>>2;console.log(f,H);U=a.j(f.C());a.YT(u.tG,U,0);
a.GS(M,Z,0);u=a.FJ(Z,O);u=a.FJ(u.tG,u.S);C=a.j(f.C());a.YT(u.tG,C,0);var t=a.oV.a6r(U,C,f,H,y),X=t[0],Q=t[1],D=new gi(0,0,f.A*2,f.$*2);
X=m(X,f,D,!0);X=m(X,D,O,!0);Q=m(Q,f,D,!0);Q=m(Q,D,O,!0);var L=a.j(h);for(var R=0;R<h;R++)L[R]=Math.max(0,Math.min(255,Math.floor(.5+(X[R]*M[R]+255*Q[R]))));
return L};a.oV.er=function(s,M,O,P){M.set(s);a.er.US(M,O,P)};a.oV.ark=function(s,M,O,P){var y=O.A,F=O.$,A=M.A,h=M.$,m=a.oV.RF,Z=new Float32Array(y*F);
for(var u=0;u<h;u++){var f=(u+u)*y;for(var U=0;U<A;U++){if(!0||U==0||u==0||U==A-1||u==h-1)Z[f]=Z[f+1]=Z[f+y]=Z[f+y+1]=s[u*A+U];
else{Z[f]=m(U+.25,u+.25,s,A,h);Z[f+1]=m(U+.75,u+.25,s,A,h);Z[f+y]=m(U+.25,u+.75,s,A,h);Z[f+y+1]=m(U+.75,u+.75,s,A,h)}f+=2}}return Z};
a.oV.RF=function(s,M,O,P,y){s-=.499999;M-=.499999;var F=Math.floor(s),A=Math.floor(M),h=A*P+F,m=s-F,Z=M-A,u=(1-Z)*(1-m),f=(1-Z)*m,U=Z*(1-m),C=Z*m;
if(O[h]==null||O[h+P+1]==null){console.log(s,M,P,y);throw"e"}return u*O[h+0]+f*O[h+1]+U*O[h+P+0]+C*O[h+P+1]};
a.oV.a6r=function(s,M,O,P,y){var F=O.A,A=O.$,h=F*A,m=a.oV.a37,Z=a.oV.j,u=a.oV.er,f=a.oV.zl,M=m(M,h),s=m(s,h),U=Z(h);
u(M,U,O,P);var C=Z(h);u(s,C,O,P);var H=Z(h);f(M,M,H);u(H,H,O,P);var t=Z(h);f(M,s,t);u(t,t,O,P);var X=Z(h),Q=Z(h);
for(var R=0;R<h;R++){var D=U[R],L=C[R],E=H[R]-D*D,_=t[R]-D*L,S=_/(E+y),W=L-S*D;X[R]=S;Q[R]=W}var g=Z(h);
u(X,g,O,P);var x=Z(h);u(Q,x,O,P);return[g,x]};a.oV.a6E=function(s,M,O,P,y){var F=O.A,A=O.$,h=F*A,m=a.oV.ark,Z=Date.now(),u=!1,f=O,U=s,C=M,H=P;
f=new gi(0,0,F>>>2,A>>>2);H=P>>>2;U=a.oV.aiu(s,F,A);C=a.oV.anf(M,F,A);if(u)console.log(Date.now()-Z);
Z=Date.now();var t=a.oV.arI(U,C,f,H,y),X=t[0],Q=t[1],D=t[2],L=t[3];if(u)console.log(Date.now()-Z);Z=Date.now();
var E=a.j(h);for(var _=0;_<A;_++)for(var S=0;S<F;S++){var R=_*F+S,W=(_>>>2)*(F>>>2)+(S>>>2),g=R<<2,x=X[W]*M[g]+Q[W]*M[g+1]+D[W]*M[g+2]+L[W]*255;
E[R]=Math.max(0,Math.min(255,~~(.5+x)))}if(u)console.log(Date.now()-Z);Z=Date.now();return E};a.oV.aiu=function(s,M,O){var P=M>>>2,y=O>>>2,F=a.j(P*y);
for(var A=0;A<y;A++)for(var h=0;h<P;h++)F[A*P+h]=s[A*M+h<<2];return F};a.oV.anf=function(s,M,O){var P=M>>>2,y=O>>>2,F=a.j(P*y*4);
for(var A=0;A<y;A++)for(var h=0;h<P;h++){var m=A*P+h<<2,Z=A*M+h<<4;F[m]=s[Z];F[m+1]=s[Z+1];F[m+2]=s[Z+2];
F[m+3]=s[Z+3]}return F};a.oV.arI=function(s,M,O,P,y){var F=O.A,A=O.$,h=F*A,m=a.oV.a37,Z=a.oV.j,u=a.oV.er,f=a.oV.zl,s=m(s,h),U=new a.po(F*A);
a.hv(M,U);var M=[m(U.o,h),m(U.R,h),m(U.X,h)],C=a.oV.aiY(s,M,O,P,y),H=Z(h);u(s,H,O,P);var t=Z(h);f(M[0],s,t);
u(t,t,O,P);var X=Z(h);f(M[1],s,X);u(X,X,O,P);var Q=Z(h);f(M[2],s,Q);u(Q,Q,O,P);var D=Z(h),L=Z(h),E=Z(h),_=Z(h);
for(var R=0;R<h;R++){var S=H[R],W=C.sU[R],g=C.d2[R],x=C.Jk[R],V=t[R]-W*S,b=X[R]-g*S,N=Q[R]-x*S;D[R]=C.aps[R]*V+C._t[R]*b+C.NN[R]*N;
L[R]=C._t[R]*V+C.a14[R]*b+C.Ft[R]*N;E[R]=C.NN[R]*V+C.Ft[R]*b+C.acX[R]*N;_[R]=S-D[R]*W-L[R]*g-E[R]*x}u(D,D,O,P);
u(L,L,O,P);u(E,E,O,P);u(_,_,O,P);return[D,L,E,_]};a.oV.aiY=function(s,M,O,P,y){var F=O.A,A=O.$,h=F*A,m=a.oV.j,Z=a.oV.er,u=a.oV.zl,f={};
f.sU=m(h);Z(M[0],f.sU,O,P);f.d2=m(h);Z(M[1],f.d2,O,P);f.Jk=m(h);Z(M[2],f.Jk,O,P);var U=m(h);u(M[0],M[0],U);
Z(U,U,O,P);var C=m(h);u(M[0],M[1],C);Z(C,C,O,P);var H=m(h);u(M[0],M[2],H);Z(H,H,O,P);var t=m(h);u(M[1],M[1],t);
Z(t,t,O,P);var X=m(h);u(M[1],M[2],X);Z(X,X,O,P);var Q=m(h);u(M[2],M[2],Q);Z(Q,Q,O,P);f.aps=U;f._t=C;
f.NN=H;f.a14=t;f.Ft=X;f.acX=Q;for(var R=0;R<h;R++){var D=f.sU[R],L=f.d2[R],E=f.Jk[R],_=U[R]-D*D+y,S=C[R]-D*L,W=H[R]-D*E,g=t[R]-L*L+y,x=X[R]-L*E,V=Q[R]-E*E+y,b=g*V-x*x,N=x*W-S*V,J=S*x-g*W,K=_*V-W*W,q=W*S-_*x,d=_*g-S*S,l=b*_+N*S+J*W,T=1/l;
f.aps[R]=b*T;f._t[R]=N*T;f.NN[R]=J*T;f.a14[R]=K*T;f.Ft[R]=q*T;f.acX[R]=d*T}return f};a.oV.j=function(s){return new Float32Array(s)};
a.oV.a37=function(s,M){var O=new Float32Array(M);for(var R=0;R<M;R++)O[R]=s[R]*(1/255);return O};a.oV.zl=function(s,M,O){for(var R=0;
R<s.length;R++)O[R]=s[R]*M[R]};a.XG={};a.XG.V4=function(s,M,O,P){var y=s[M]-O[P],F=s[M+1]-O[P+1],A=s[M+2]-O[P+2];
return Math.sqrt(y*y+F*F+A*A)*(1/441.7)};a.XG.getSelection=function(s,M,O){var P=M*O,y=a.j(P),F=!1,A=Math.round(O*.7),h=1,m=new Uint32Array(12),Z=a.j(12);
for(var u=0;u<A;u++)for(var f=0;f<M;f++){if(f<h||u<h||f>M-h-1||u>O-h-1){var R=u*M+f,U=R<<2,C=0;if(u<h)C=4;
else if(f>M-h-1)C=8;m[C]+=s[U];m[C+1]+=s[U+1];m[C+2]+=s[U+2];m[C+3]++;y[R]=255}}for(var R=0;R<12;R+=4)for(var H=0;
H<3;H++)Z[R+H]=m[R+H]/m[R+3];var t=new Float32Array(P);for(var R=0;R<P;R++){var U=R*4,X=a.XG.V4(s,U,Z,0),Q=a.XG.V4(s,U,Z,4),D=a.XG.V4(s,U,Z,8),L=Math.max(X,Math.max(Q,D));
t[R]=X+Q+D-L}a.XG.$M(t);var E=Date.now(),_=new Float32Array(P),S=[],W=a.j(P);for(var R=0;R<3;R++){a.YT(s,W,R);
var g=new Uint16Array(P);S.push(g);a.XG.afS(W,y,M,O,g)}if(F)console.log("MBD",Date.now()-E);E=Date.now();
for(var R=0;R<P;R++)_[R]=S[0][R]+S[1][R]+S[2][R];a.XG.$M(_);for(var R=0;R<P;R++)_[R]+=.4*t[R];var x=M>>>1,A=O>>>1,V=1/Math.sqrt(x*x+A*A);
for(var u=0;u<O;u++)for(var f=0;f<M;f++){var b=f-x,N=u-A,J=1-Math.sqrt(b*b+N*N)*V;_[u*M+f]*=J}if(F)console.log("Centeredness",Date.now()-E);
E=Date.now();for(var R=0;R<P;R++)y[R]=_[R]*255;var K=Math.round(M/120),q=Math.round(K*.8);if(F)console.log(K,q);
a.qd.YY(y,y,M,O,K+K+1,!1);if(F)console.log("erosion",Date.now()-E);E=Date.now();for(var R=0;R<P;R++)_[R]=y[R];
a.XG.$M(_);var d=a.j(256);for(var R=0;R<256;R++)d[R]=256/(1+Math.exp(-20*(R/255-.5)));for(var R=0;R<P;
R++){var l=~~(_[R]*255+.5);y[R]=d[l]}if(F)console.log("Simoid",Date.now()-E);E=Date.now();return y};
a.XG.$M=function(s){var M=s.length,O=0;for(var R=0;R<M;R++)O=Math.max(O,s[R]);var P=1/O;for(var R=0;
R<M;R++)s[R]=s[R]*P};a.XG.afS=function(s,M,O,P,y){var F=O*P,A=s.slice(0),h=s.slice(0);for(var R=0;R<F;
R++)y[R]=M[R]==255?0:65535;a.XG.a0N(s,h,A,y,O,P);a.XG.aln(s,h,A,y,O,P);a.XG.a0N(s,h,A,y,O,P);a.XG.aln(s,h,A,y,O,P);
return y};a.XG.a0N=function(s,M,O,P,y,F){for(var A=1;A<y;A++)a.XG.JM(A,-1,s,M,O,P);for(var h=1;h<F;h++){a.XG.JM(h*y,-y,s,M,O,P);
for(var A=1;A<y;A++){var R=h*y+A;a.XG.JM(R,-1,s,M,O,P);a.XG.JM(R,-y,s,M,O,P)}}};a.XG.aln=function(s,M,O,P,y,F){for(var A=y-2;
A>=0;A--)a.XG.JM(y*F-y+A,1,s,M,O,P);for(var h=F-2;h>=0;h--){a.XG.JM(h*y+y-1,y,s,M,O,P);for(var A=y-2;
A>=0;A--){var R=h*y+A;a.XG.JM(R,1,s,M,O,P);a.XG.JM(R,y,s,M,O,P)}}};a.XG.JM=function(R,s,M,O,P,y){var F=R+s,A=M[R],h=O[F],m=P[F];
if(h<A)h=A;else if(A<m)m=A;var Z=h-m;if(y[F]!=65535&&Z<y[R]){y[R]=Z;O[R]=h;P[R]=m}};a.sb={};a.sb.filter=function(s,M,O,P){var y=M.A,F=M.$,A=y*F,h=P[0],m=P[1],Z=P[2],u=P[3],f=P[4],U=P[5],C=P[6],H=Date.now(),t=new Float32Array(y*F*4);
a.sb.apT(s,y,F,t);var X=Math.ceil(h*Math.sqrt(-2*Math.log(.1))),Q=new ArrayBuffer(A*4),D=new Float32Array(Q),L=new Float32Array(A),E=new Float32Array(A);
for(var R=0;R<A;R++){var _=R*4;D[R]=t[_];L[R]=t[_+1];E[R]=t[_+2]}a.er.SO(D,M,X*1/2.4,2);a.er.SO(L,M,X*1/2.4,2);
a.er.SO(E,M,X*1/2.4,2);for(var R=0;R<A;R++){var _=R*4;t[_]=D[R];t[_+1]=L[R];t[_+2]=E[R]}var S=new Uint8Array(Q);
for(var R=0;R<A;R++){var _=R*4,W=R*4,D=t[_],L=t[_+1],E=t[_+2],g=Math.sqrt((D-E)*(D-E)+4*L*L),x=(D+E+g)*.5,V=(D+E-g)*.5,b=V-E,N=L,J=b*b+N*N;
if(J!=0){var K=Math.sqrt(J),q=1/K;b*=q;N*=q}S[W]=128+127*b;S[W+1]=128+127*N}var d=1.3*m+2,l=u*(2/10),T=s.slice();
if(ci.Qh){var B=new Float32Array([1/y,1/F]),p=ci.w2(0,y,F);p.set(T);var I=ci.w2(1,y,F);I.set(S);ci.b2(p,M);
if(f){p.rL(M);ci.filter.Wm({I:ci.filter.aIO,Hd:B,acj:1/Z,a8n:l},p.KZ)}p.rL(M);ci.filter.Wm({I:ci.filter._h,iH:I.U9,Hd:B,K_:d,LD:2},p.KZ);
if(f){p.rL(M);ci.filter.Wm({I:ci.filter.apV,Hd:B,ag9:new Float32Array(C),apX:U},p.KZ)}p.get(O)}else{if(f)a.sb.axC(1/Z,l,T,y,F);
a.sb._h(T,O,S,y,F,d);if(f)a.sb.aDy(y,F,O,C,U)}var w=A*4;for(var R=3;R<w;R+=4)O[R]=s[R]};a.sb._h=function(s,M,O,P,y,F){var A=Math.ceil(2*F),h=-1/(2*F*F),m=[],Z=1;
for(var R=0;R<A+20;R++)m[R]=Math.exp(R*R*h);var u=[0,0,0,0];for(var f=0;f<y;f++){for(var U=0;U<P;U++){var C=f*P+U,H=C*4,t=1,X=s[H],Q=s[H+1],D=s[H+2],L=s[H+3],E=(O[H]-128)*(1/127),_=(O[H+1]-128)*(1/127),S=E,W=_,g=U==0?.51:.49,x=f==0?.51:.49;
for(var R=0;R<2;R++){var V=U+g,b=f+x,N=0;while(N<A){if(V<.5||P-.5<V||b<.5||y-.5<b)break;var J=~~V,K=~~b,q=K*P+J,d=q*4,l=(O[d]-128)*(1/127),T=(O[d+1]-128)*(1/127);
if(l*S+T*W<0){l=-l;T=-T}S=l;W=T;V+=Z*l;b+=Z*T;if(V<.5||P-.5<V||b<.5||y-.5<b)break;var B=~~V,p=~~b,I=p*P+B<<2;
N+=Z;var w=m[~~N];a.F.arU(V,b,s,P,y,u);X+=u[0]*w;Q+=u[1]*w;D+=u[2]*w;L+=u[3]*w;t+=w}S=-E;W=-_}var e=1/t;
M[H]=~~(.5+X*e);M[H+1]=~~(.5+Q*e);M[H+2]=~~(.5+D*e);M[H+3]=~~(.5+L*e)}}};a.sb.aDy=function(s,M,O,P,y){for(var F=0;
F<M;F++)for(var A=0;A<s;A++){var h=F*s+A<<2,m=1+a.sb.a8j(A,F,O,s,M,P)*y;O[h]=Math.max(0,Math.min(255,O[h]*m));
O[h+1]=Math.max(0,Math.min(255,O[h+1]*m));O[h+2]=Math.max(0,Math.min(255,O[h+2]*m))}};a.sb.a8j=function(s,M,O,P,y,F){var A=O[(M*P+Math.max(0,s-1))*4+3],h=O[(M*P+Math.min(P-1,s+1))*4+3],m=O[(Math.max(0,M-1)*P+s)*4+3],Z=O[(Math.min(y-1,M+1)*P+s)*4+3],u=.7,f=(h-A)*(1/255),U=.7,C=(Z-m)*(1/255),H=-f*U,t=-u*C,X=u*U,Q=Math.sqrt(H*H+t*t+X*X),D=1/Q,L=H*D,E=t*D,_=X*D,S=F[0]*L+F[1]*E+F[2]*_;
return S};a.sb.axC=function(s,M,O,P,y){function F(h,Z,u){return Math.max(Z,Math.min(u,h))}for(var A=0;
A<y;A++)for(var h=0;h<P;h++){var m=a.sb.ahF(h+.5,A+.5,s,M);O[(A*P+h)*4+3]=Math.max(0,Math.min(255,m*255))}};
a.sb.ahF=function(s,M,O,P){function y(W,g,x){return(1-x)*W+x*g}var F=(s+613)*O,A=(M+117)*O,h=~~F,m=~~A,Z=F-h,u=A-m,f=Math.sin(11),U=Math.cos(h)*f,C=Math.cos(h+1)*f,H=Math.cos(m)*f,t=Math.cos(m+1)*f,hS=a.sb.hash(U,H),X=a.sb.hash(C,H),Q=a.sb.hash(U,t),D=a.sb.hash(C,t),L=y(hS,X,Z),E=y(Q,D,Z),_=y(L,E,u);
_=_<.5?0:1;var S=_+P*a.sb.hash(Math.cos(F)*f,Math.cos(A)*f);return S*(1/3)};a.sb.hash=function(s,M){var O=Math.sin(s*11.697096+M*73.32456)*12157.47691;
return O-Math.floor(O)};a.sb.apT=function(s,M,O,P){var y=[-1,0,1,-2,0,2,-1,0,1],F=[-1,-2,-1,0,0,0,1,2,1],A=M-1,h=O-1,m=M*4;
for(var Z=1;Z<h;Z++)for(var u=1;u<A;u++){var R=Z*M+u,f=R*4,U=a.sb.fY(s,f,m,y),C=a.sb.fY(s,f,m,F),H=a.sb.fY(s,f+1,m,y),t=a.sb.fY(s,f+1,m,F),X=a.sb.fY(s,f+2,m,y),Q=a.sb.fY(s,f+2,m,F);
P[f]=U*U+H*H+X*X;P[f+1]=U*C+H*t+X*Q;P[f+2]=C*C+t*t+Q*Q}a.sb.a41(P,M,O)};a.sb.fY=function(s,M,O,P){return s[M-O-4]*P[0]+s[M-O]*P[1]+s[M-O+4]*P[2]+s[M-4]*P[3]+s[M]*P[4]+s[M+4]*P[5]+s[M+O-4]*P[6]+s[M+O]*P[7]+s[M+O+4]*P[8]};
a.sb.a41=function(s,M,O){function P(m,R,Z){var u=R*4,f=Z*4;m[f]=m[u];m[f+1]=m[u+1];m[f+2]=m[u+2]}var y=M-1,F=O-1;
P(s,M+1,0);P(s,2*M-2,M-1);for(var A=1;A<y;A++)P(s,M+A,A);for(var h=1;h<F;h++){P(s,h*M+1,h*M);P(s,h*M+M-2,h*M+M-1)}for(var A=1;
A<y;A++)P(s,(O-2)*M+A,(O-1)*M+A);P(s,(h-2)*M+1,(h-1)*M);P(s,(h-1)*M-2,h*M-1)};a.lZ=function(){function s(Z,u,f,U){var C=new Float32Array(Z*Z),H=Z/2;
for(var t=0;t<Z;t++)for(var X=0;X<Z;X++){var Q=X+f-H,D=t+U-H;C[t*Z+X]=Math.max(0,Math.min(1,u+.5-Math.sqrt(Q*Q+D*D)))}return C}var M=[],P=null;
function O(Z,u,f,U){var C=Math.floor(u*10),H=M[C],t=Z*8,X=t>>>1;if(H==null){H=M[C]=[];var Q=new gi(0,0,t,t),D=Z/2/(1+.2*u),L=Math.floor(Z*C*.1);
for(var E=0;E<2;E++)for(var _=0;_<2;_++){var S=s(t,D,.25+_*.5,.25+E*.5),W=0;a.er.SO(S,Q,L);while(S[t*X+W]<.005)W++;
if(W!=0)W--;var g=2*(X-W),x=new gi(W,W,g,g),V=new Float32Array(g*g);for(var b=0;b<g;b++)for(var N=0;
N<g;N++)V[b*g+N]=S[(W+b)*t+W+N];H.push([V,x])}}var J=Math.floor(f),K=Math.floor(U),q=f-J,d=U-K,l=q<.5?1:0,T=d<.5?1:0;
H=H[T*2+l];var x=H[1].v();x.x+=J-X;x.y+=K-X;return[H[0],x]}function y(Z,u,f){if(P==null){P=new Uint8Array(4e4);
for(var R=0;R<4e4;R++)P[R]=Math.min(255,~~(.5+255*a.R0(R*(1/255))))}var U=Z.length;for(var R=0;R<U;R++){var C=Z[R],H=~~(255*C);
u[R]=P[H]<<24|f}}function F(Z,u,f,U,C){var H=u.OK(U),t=Math.max(0,H.x-u.x),X=Math.max(0,H.x-U.x),Q=Math.max(0,H.y-u.y),D=Math.max(0,H.y-U.y),L=H.A,E=H.$;
for(var R=0;R<E;R++){var _=(Q+R)*u.A+t,S=(D+R)*U.A+X;for(var W=0;W<L;W++){f[S+W]+=C*Z[_+W]}}}var A=-1;
function h(Z,u,f,U,C){var H=Math.round(U[1]*u*f*.01),t=U[2],X=U[3],Q=U[4],D=U[5],L=U[6],E=U[7],_=U[8],S=U[9],W=U[10]?U[10]:1,w=!1;
if(t!=A){M=[];A=t}var g=Date.now(),x=new gi(0,0,u,f),V=new m(U[0]);if(C)Z.fill(0);var b=new Float32Array(C?Z.buffer:u*f);
for(var R=0;R<H;R++){var N=V.get()*u,J=V.get()*f,K=V.get()*X,q=V.get()*t*4,d=(V.get()+L)*Math.PI*2,l=V.get()*t*4,T=(V.get()+2*L)*Math.PI*2;
N+=S*(q*Math.cos(d)+l*Math.cos(T));J+=S*(q*Math.sin(d)+l*Math.sin(T));if(_)J=J+L*f*W;var B=O(t,K,N,J%f),p=Q,I=V.get();
if(E)p=.5+.5*Q*(.5+.5*Math.sin((2*L+I)*2*Math.PI));F(B[0],B[1],b,x,p)}if(w)console.log(Date.now()-g,"add floats");
g=Date.now();var e=new Uint8Array(b.buffer);y(b,new Uint32Array(e.buffer),D.X<<16|D.R<<8|D.o);if(w)console.log(Date.now()-g,"toInt");
g=Date.now();if(!C){a.B.qZ("scrn",e,x,Z,x,x,1);if(w)console.log(Date.now()-g,"blendOver")}}function m(Z){this.ab=123456789;
this.zP=987654321;this.$E=4294967295;this.BJ(Z)}m.prototype.BJ=function(R){this.ab=123456789+R&this.$E;
this.zP=987654321-R&this.$E};m.prototype.get=function(){this.zP=36969*(this.zP&65535)+(this.zP>>16)&this.$E;
this.ab=18e3*(this.ab&65535)+(this.ab>>16)&this.$E;var Z=(this.zP<<16)+(this.ab&65535)>>>0;Z/=4294967296;
return Z};return{EN:h}}();a.gA={};a.gA.kh=function(s,M,O,P){var y=s[M*2],F=s[M*2+1],A=s[O*2],h=s[O*2+1],m=s[P*2],Z=s[P*2+1];
return y*h+A*Z+m*F-m*h-A*F-y*Z};a.gA.a1r=function(s,M){var O=[],P=[],y=[],F={};for(var R=0;R<M.length;
R+=3){var A=~~(R*(1/3)),h=M[R+0],m=M[R+1],Z=M[R+2],u=a.gA.kh(s,h,m,Z);if(u>0){var f=m;m=Z;Z=f}var U=F[Z+"-"+m],C=F[m+"-"+h],H=F[h+"-"+Z],t=[Z,U,A,null],X=[m,C,A,t],Q=[h,H,A,X];
t[3]=Q;if(U)U[1]=t;if(C)C[1]=X;if(H)H[1]=Q;F[Z+"-"+h]=Q;F[h+"-"+m]=X;F[m+"-"+Z]=t;O[h]=X;y[R]=X;O[m]=t;
y[R+1]=t;O[Z]=Q;y[R+2]=Q;P[A]=X}return{Gm:O,B$:P,iB:y}};a.gA.apx=function(s){var M=[],O=s.B$;for(var R=0;
R<O.length;R++){var P=O[R];M.push(P[0]);P=P[3];M.push(P[0]);P=P[3];M.push(P[0])}return M};a.gA.azq=function(s,M,O,P){var y=s[M*2],F=s[M*2+1],A=s[O*2],h=s[O*2+1],m=s[P*2],Z=s[P*2+1],u=A-y,f=h-F,U=m-y,C=Z-F,H=u*(y+A)+f*(F+h),t=U*(y+m)+C*(F+Z),X=2*(u*(Z-h)-f*(m-A));
if(Math.abs(X)<1e-5){var Q=Math.min(y,A,m),D=Math.min(F,h,Z),L=(Math.max(y,A,m)-Q)*.5,E=(Math.max(F,h,Z)-D)*.5;
return[Q+L,D+E,L*L+E*E,1]}var _=(C*H-f*t)/X,S=(u*t-U*H)/X,L=_-y,E=S-F;return[_,S,L*L+E*E,0]};a.gA.apz=function(s,M,O){var P=O[1],y=O[3],F=y[3],A=P[3],h=A[3],m=O[2],Z=P[2],u=O[0],f=P[0],U=y[0],C=A[0],H=a.gA.azq(s,f,C,U),t=s[u*2]-H[0],X=s[u*2+1]-H[1],Q=t*t+X*X>H[2]&&H[3]==0&&a.gA.kh(s,C,u,U)<0&&a.gA.kh(s,U,f,C)<0;
if(Q){O[0]=U;P[0]=C;O[3]=F;F[3]=A;A[3]=O;P[3]=h;h[3]=y;y[3]=P;y[2]=Z;A[2]=m;M.B$[Z]=h;M.B$[m]=F;M.Gm[f]=A;
M.Gm[u]=y}return Q};a.gA.a4a=function(s,M,O){var P=s[M*2]-s[O*2],y=s[M*2+1]-s[O*2+1];return Math.sqrt(P*P+y*y)};
a.gA.a5C=function(s,M,O){var P=O[1],y=O[3],F=y[3],A,h,m=O[2],Z,u=O[0],f=F[0],U=y[0],C;if(P){A=P[3];h=A[3];
Z=P[2];C=A[0]}var H=s.length>>>1;s[2*H]=(s[2*f]+s[2*u])*.5;s[2*H+1]=(s[2*f+1]+s[2*u+1])*.5;if(!0){var t=m,X=O,Q=M.B$.length,D=[H,null,t,X],L=[U,D,Q,F];
D[1]=L;var E=[H,null,Q,L];y[3]=D;F[3]=E;F[2]=Q;M.B$[t]=y;M.B$[Q]=E;M.Gm[u]=y;M.Gm[U]=F;M.iB.push(D,L,E)}if(P){var _=Z,S=P,W=Q+1;
E[1]=S,S[1]=E;var g=[H,null,_,S],x=[C,g,W,h];g[1]=x;var V=[H,X,W,x];X[1]=V;A[3]=g;h[3]=V;h[2]=W;M.B$[_]=A;
M.B$[W]=h;M.Gm[f]=A;M.Gm[C]=h;M.iB.push(g,x,V)}M.Gm[H]=X};a.gA.aGj=function(s,M){var O=0;while(!0){var P=O;
for(var R=0;R<M.iB.length;R++){var y=M.iB[R];if(y[1]==null)continue;var F=a.gA.apz(s,M,y);if(F){O++;
break}}if(P==O)break}return O!=0};a.gA.aEO=function(s,M,O,P){var y=0;for(var R=0;R<P;R++){var F=null,A=0;
for(var h=0;h<M.iB.length;h++){var m=M.iB[h],Z=a.gA.a4a(s,m[0],m[3][3][0])*(m[1]?1:2);if(Z>A){F=m;A=Z}}if(A>O){a.gA.a5C(s,M,F);
y++}}return y!=0};a.gA.abw=function(s,M){var O=[],U=0;for(var R=0;R<s.length;R++)O.push(0);for(var R=0;
R<M.iB.length;R++){var P=M.iB[R],y=P[0],F=P[3][3][0],A=s[y*2],h=s[y*2+1],m=s[F*2],Z=s[F*2+1],u=A-m,f=h-Z;
O[y*2]+=-u;O[y*2+1]+=-f;O[F*2]+=u;O[F*2+1]+=f}for(var R=0;R<s.length;R+=2){var C=R>>>1,H=M.Gm[C],P=H,t=!0;
do{if(P[1]==null){t=!1;break}P=P[1][3]}while(P!=H);if(t){var X=.02;s[R]+=X*O[R];s[R+1]+=X*O[R+1];U+=X*(O[R]*O[R]+O[R+1]*O[R+1])}}return U};
a.gA.af_=function(s,M,O){var P=a.b.hG(s),y=a.gA.a1r(s,M);a.gA.aGj(s,y);for(var F=0;F<300;F++){var A=!1,h=!1;
A=a.gA.aEO(s,y,O,5);if(A)h=a.gA.aGj(s,y);var m=a.gA.abw(s,y);if(!A&&!h&&m<1e-4){break}}return a.gA.apx(y)};
a.JJ={};a.JJ.ad_=function(s){var M=s.qs,O=s.uv,P=s.EL,y=s.f9,F=s.Lw,A=s.iR,h=s.Dm,m=a.pO.xG,D,L,E=0;
function Z(hS){var v=new Array(hS);for(var R=0;R<hS;R++)v[R]=0;return v}var u=O.length>>>1,f=Z(M.Tt*2),U=Z(M.Tt),C=Z(M.Tt),H=Date.now();
for(var R=0;R<s.og.length;R++){var t=M.aDE+R,X=M.V5*(A[R*2]+h[R*2]),Q=M.V5*(A[R*2+1]+h[R*2+1]);f[t*2]=X;
f[t*2+1]=Q;U[t]=X;C[t]=Q}M.asO.oI(y,M.a0X.xG(f),.01,D,L);for(var R=0;R<M.acT.iB.length;R++){var _=M.acT.iB[R],S=_[3][3][0],W=_[0],g=_[3][0],x=_[1]?_[1][3][0]:g;
if(_[1]&&S>W)continue;var V=O[S*2],b=O[S*2+1],N=O[W*2],J=O[W*2+1],K=y[S*2],q=y[S*2+1],d=y[W*2],l=y[W*2+1],T=y[g*2],B=y[g*2+1],p=y[x*2],I=y[x*2+1],w=[K,q,d,l,T,B];
if(_[1])w.push(p,I);var e=m(M.ayg[E],w),G=e[0],j=e[1],o=1/Math.sqrt(G*G+j*j);G*=o;j*=o;var r=N-V,k=J-b;
U[E]=G*r+j*k;C[E]=-j*r+G*k;E++}var a7=new Array(u),Y=new Array(u);for(var R=0;R<u;R++){a7[R]=F[R*2];
Y[R]=F[R*2+1]}M.aJ7.oI(a7,M.axd.xG(U),.5);M.aJ7.oI(Y,M.axd.xG(C),.5);for(var R=0;R<u;R++){F[R*2]=a7[R];
F[R*2+1]=Y[R]}};a.JJ.av5=function(s){var M=s.uv,O=s.EL,P=s.og,y=a.pO.multiply,F=Date.now(),A=a.gA.a1r(M,O),h=M.length>>>1,m=0,H=0,j=1e3;
for(var R=0;R<A.iB.length;R++)m+=A.iB[R][1]?.5:1;var Z=m+P.length,u=[],f=new a.BO(Z*2,h*2),U=new a.BO(Z,h),C=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],t=[],X=[];
for(var R=0;R<A.iB.length;R++){var Q=A.iB[R],D=Q[3][3][0],L=Q[0],E=Q[3][0],_=Q[1]?Q[1][3][0]:E;if(Q[1]&&D>L)continue;
var S=M[D*2],W=M[D*2+1],g=M[L*2],x=M[L*2+1],V=M[E*2],b=M[E*2+1],N=M[_*2],J=M[_*2+1],K=[[S,W,1,0],[W,-S,0,1],[g,x,1,0],[x,-g,0,1],[V,b,1,0],[b,-V,0,1]];
if(Q[1])K.push([N,J,1,0],[J,-N,0,1]);var q=a.pO.gV(K),d=y(linear.invert(y(q,K)),q);d.pop();d.pop();u.push(d);
var l=g-S,T=x-W,B=C[Q[1]?1:0];B=a.pO.TA(B,y([[l,T],[T,-l]],d));var p=[D*2,D*2+1,L*2,L*2+1,E*2,E*2+1,_*2,_*2+1],I=Q[1]?8:6,w=[];
for(var e=0;e<I;e++)w.push([p[e],B[0][e],B[1][e]]);w.sort(function(v,n){return v[0]-n[0]});for(var G=0;
G<2;G++){for(var e=0;e<I;e++){t[e]=w[e][0];X[e]=w[e][1+G]}f.Uv(X,t,I)}if(D<L)U.Uv([-1,1],[D,L],2);else U.Uv([1,-1],[L,D],2);
H++}for(var R=0;R<P.length;R++){var o=P[R];f.Uv([j],[o*2],1);f.Uv([j],[o*2+1],1);U.Uv([j],[o],1)}var r=f.gV(),k=r.FU(r),a7=U.gV(),Y=a7.FU(a7);
return{aDE:m,Tt:Z,a0X:r,asO:k,axd:a7,aJ7:Y,acT:A,ayg:u,V5:j}};a.JJ.aoT=function(s,M,O,P,y){var F=new gi(0,0,M,O),A=a.j(F.C());
a.YT(s,A,3);a.round(A,70);var h=a.xY(A,F),m=[.1,.065,.035][P]*Math.max(h.A,h.$),Z=y+1,u=M+Z*2,f=O+Z*2,U=new gi(-Z,-Z,u,f),C=a.j(U.C());
a.TT(A,F,C,U);var H=C.slice(0);for(var t=0;t<y;t++){for(var X=1;X<f-1;X++){for(var Q=1;Q<u-1;Q++){var R=X*u+Q;
H[R]=C[R-u]|C[R-1]|C[R]|C[R+1]|C[R+u]}}var D=H;H=C;C=D}var L=iq.Lm(C,u,f,Math.round(h.C()*5e-4)),E=iq.Iv(L),_=new kp(1,0,0,1,-Z,-Z);
for(var R=0;R<E.length;R++){var S=E[R];a.b.M(S.path.L,_,S.path.L);S.uv=a.JJ.aeI(S.path);S.EL=a.b.aoj(S.uv);
S.EL=a.gA.af_(S.uv,S.EL,m)}return E};a.JJ.aeI=function(s){var M=a.b.QG(s);M=a.b.aDJ(M,1);var O=[],P=M.length;
for(var R=0;R<P;R+=2){var y=M.pop(),F=M.pop();O.push(F,y)}return O};a.JJ.axj=function(s,M,O,P){function y(g,x,V,b,N){var J=N[g*2]-N[x*2],K=N[g*2+1]-N[x*2+1],q=Math.sqrt(J*J+K*K);
if(V[g].indexOf(x)==-1){V[g].push(x);b[g].push(q)}if(V[x].indexOf(g)==-1){V[x].push(g);b[x].push(q)}}var F=s.length>>>1,A=new Array(F);
if(O.length==0){A.fill(0);return A}var h=new Array(F),m=new Array(F);for(var R=0;R<F;R++){h[R]=[];m[R]=[]}for(var R=0;
R<M.length;R+=3){y(M[R],M[R+1],h,m,s);y(M[R],M[R+2],h,m,s);y(M[R+1],M[R+2],h,m,s)}var Z=new Float64Array(F*2),u=new Uint32Array(F*2);
Z.fill(1e9);var f=new Uint8Array(F);for(var U=0;U<O.length;U++){f.fill(0);var C=["---",[0,O[U]]];while(C.length!=1){var H=a.aa7.nE(C),t=H[0],X=H[1];
if(f[X]==1)continue;var Q=X<<1;if(t<Z[Q]){Z[Q+1]=Z[Q];u[Q+1]=u[Q];Z[Q]=t;u[Q]=U}else if(t<Z[Q+1]){Z[Q+1]=t;
u[Q+1]=U}f[X]=1;var D=h[X],L=m[X];for(var R=0;R<D.length;R++){var E=D[R];if(f[E]!=1){a.aa7.Oa(C,[t+L[R],E])}}}}for(var R=0;
R<F;R++){var Q=R<<1,_=Z[Q],S=Z[Q+1],W=1/(_+S);A[R]=(1-_*W)*P[u[Q]]+(1-S*W)*P[u[Q+1]]}return A};a.JJ.a1D=function(s){var M={J8:[],L:[]},O=[s];
while(O.length!=0){var P=O.pop(),y=P.rC;if(P.adu instanceof Array||P.aAr instanceof Array){M.J8.push("M","L","L","L","Z");
M.L.push(y[0],y[1],y[2],y[1],y[2],y[3],y[0],y[3])}else O.push(P.adu,P.aAr)}return M};a.JJ.hW=function(s,M,O,P,y,F,A,h,m,Z,u){var f=Math.round(Z.length/3),U=new Array(f);
for(var R=0;R<f;R++)U[R]=R;if(m)U.sort(function(H,t){return m[Z[H*3]]-m[Z[t*3]]});for(var R=0;R<f;R++){var C=U[R]*3;
a.JJ.a2q(Z[C]*2,Z[C+1]*2,Z[C+2]*2,A,h,s,M,O,P,y,F,u)}};a.JJ.a2q=function(s,M,O,P,y,F,A,h,m,Z,u,f){var U=[s,M,O,1.2,1.2,1.2,0],C=[0,0,0,0],H=y[s],t=y[s+1],X=y[M],Q=y[M+1],D=y[O],L=y[O+1],E=X-H,_=Q-t,S=D-H,W=L-t,g=E*W-S*_+1e-9,x=1/g,V=Math.max(0,Math.min(A-1,P[s])),b=Math.max(0,Math.min(A-1,P[M])),N=Math.max(0,Math.min(A-1,P[O])),J=Math.max(0,Math.min(h-1,P[s+1])),K=Math.max(0,Math.min(h-1,P[M+1])),q=Math.max(0,Math.min(h-1,P[O+1])),d=H<X?H<D?s:O:X<D?M:O,l=y[d+1]+.5,T=Math.max(0,Math.floor(Math.min(H,X,D))),B=Math.min(Z,Math.ceil(Math.max(H,X,D))),p=Math.max(0,Math.floor(Math.min(t,Q,L))),I=Math.min(u,Math.ceil(Math.max(t,Q,L))),w=1e9;
for(var e=p;e<I;e++){var G=e>l&&w!=1e9?w:T;w=1e9;for(var j=G;j<B;j++){var r=j+.5-H,k=e+.5-t,a7=(r*W-S*k)*x,Y=(E*k-r*_)*x;
if(a7>=0&&Y>=0&&a7+Y<=1){if(w==1e9)w=j;var v=1-a7-Y,n=V*v+b*a7+N*Y,cm=J*v+K*a7+q*Y;if(f){var a5=Math.floor(.5+cm)*A+Math.floor(.5+n),gP=a5<<2,cg=e*Z+j<<2;
m[cg]=F[gP];m[cg+1]=F[gP+1];m[cg+2]=F[gP+2];m[cg+3]=F[gP+3]}else{a.F.arU(n,cm,F,A,h,C);a.JJ.aDt(C,m,e*Z+j<<2)}}else if(w!=1e9)break}}};
a.JJ.aDt=function(s,M,O){if(s[3]>250){M[O]=~~(.5+s[0]);M[O+1]=~~(.5+s[1]);M[O+2]=~~(.5+s[2]);M[O+3]=~~(.5+s[3])}else{var P=M[O],y=M[O+1],F=M[O+2],A=M[O+3],h=1-s[3]*(1/255);
M[O]=~~(.5+s[0]+P*h);M[O+1]=~~(.5+s[1]+y*h);M[O+2]=~~(.5+s[2]+F*h);M[O+3]=~~(.5+s[3]+A*h)}};a.JJ.agN=function(){var s=function(O,P,y,F){var A=F[0],h=F[1],m=F[2],Z=O[A+0],u=O[A+1],f=O[h+0],U=O[h+1],C=O[m+0],H=O[m+1],t=f-Z,X=U-u,Q=C-Z,D=H-u,L=P-Z,E=y-u,_=t*D-Q*X,S=1/(_+1e-9),W=(L*D-Q*E)*S,g=(t*E-L*X)*S;
if(W>=0&&g>=0&&W+g<=1){F[3]=1-W-g;F[4]=W;F[5]=g;return 1}return 0},M=function(O,P,y,F){var A=[0,0,0,0,0,0];
for(var R=0;R<P.length;R+=3){A[0]=P[R]*2;A[1]=P[R+1]*2;A[2]=P[R+2]*2;if(s(O,y,F,A)==1)return!0}return!1};
return{a9f:s,a1a:M}}();a.Ex={};a.Ex.azh=function(s,M,O,P){s=s.slice(0);if(P)for(var R=0;R<s.length;R+=4)s[R+3]=(s[R+3]&254)+(P[R>>>2]<128?0:1);
else for(var R=0;R<s.length;R+=4)s[R+3]=s[R+3]&254;var y=a.j(M*O*4),F=!1;a.F.UL(s,M,O,y,[O,M,0,1,0,1,0,0]);
return[a.Ex.nO(s,M,O,F),a.Ex.nO(y,O,M,F)]};a.Ex.M=function(s,M){var O=!1,P=s[0],y=s[1],F=P[1],A=P[2],h=P[3],m=M.A,Z=M.$;
if(A==m&&h==Z)F=F.slice(0);else if(h!=Z){var u=a.j(A*Z*4);a.Ex.B2(y,Z,u,O);F=a.j(A*Z*4);a.F.UL(u,Z,A,F,[A,Z,0,1,0,1,0,0]);
if(A!=m){P=a.Ex.nO(F,A,Z,O);F=a.j(m*Z*4);a.Ex.B2(P,m,F,O)}}else if(A!=m){F=a.j(m*h*4);a.Ex.B2(P,m,F,O)}for(var R=0;
R<F.length;R+=4)if(F[R+3]==254)F[R+3]=255;return F};a.Ex.nO=function(s,M,O,P){var y=Date.now(),F=new Uint16Array(M*O),m=1;
a.Ex.aGC(s,M,O,F);for(var A=0;A<O;A++)for(var h=0;h<M;h++){var R=A*M+h;F[R]+=Math.floor((65535-F[R])*(s[R*4+3]&1))}var Z=Math.ceil(M/m),u=new Uint32Array(m),f=new Uint32Array(m),Z=Math.floor(M/m);
for(var U=0;U<m;U++)f[U]=U<m-1?Z:M-(m-1)*Z;for(var A=0;A<O;A++){var R=A*M;for(var U=0;U<m;U++){var Z=f[U];
for(var h=0;h<Z;h++)u[U]+=F[R+h];R+=Z}}if(P){console.log(Date.now()-y,"cost");y=Date.now()}var C=new Uint32Array(M),H=new Uint32Array(M),t=new Uint32Array(M*O);
for(var h=0;h<M;h++){t[(O-1)*M+h]=F[(O-1)*M+h]}for(var A=O-2;A>=0;A--){var X=A*M;for(var U=0;U<m;U++){var Z=f[U];
t[X]=F[X]+Math.min(t[X+M],t[X+M+1]);for(var h=1;h<Z-1;h++){var R=X+h;t[R]=F[R]+Math.min(t[R+M-1],Math.min(t[R+M],t[R+M+1]))}X+=Z-1;
t[X]=F[X]+Math.min(t[X+M-1],t[X+M]);X++}}if(P){console.log(Date.now()-y,"Building M");y=Date.now()}function Q(b,N){return b<N?b:N}function D(R,b){var N=H[R],J=t[b],K=~~(N*J*1e-4);
return K}var L=new Uint8Array(M*O),E=new Uint32Array(M);for(var R=0;R<M;R++){C[R]=R;H[R]=F[R]}for(var A=1;
A<O;A++){var _=0,X=A*M;for(var U=0;U<m;U++){var Z=f[U],R=X;E[_]=D(_,R);var S=E[_]+D(_+1,R+1),W=D(_,R+1)+D(_+1,R);
E[_+1]=Q(S,W);for(var h=2;h<Z;h++){var R=X+h,g=E[_+h-1]+D(_+h-1,R-1),x=E[_+h-2]+D(_+h-1,R-2)+D(_+h-2,R-1);
E[_+h]=Q(g,x)}var h=Z-1;while(h>=2){var R=X+h,g=E[_+h-1]+D(_+h-1,R-1),x=E[_+h-2]+D(_+h-1,R-2)+D(_+h-2,R-1);
if(E[_+h]==g){L[R-M]=1;h-=1}else{L[R-M]=0;L[R-M-1]=2;h-=2}}var R=X;if(h==0){L[R-M]=1}else{if(E[_+1]==S){L[R+1-M]=1;
L[R-M]=1}else{L[R+1-M]=0;L[R-M]=2}}X+=Z;_+=Z}a.Ex.auD(A,M,L,F,C,H,!0,y)}if(P){console.log(Date.now()-y,"Matching");
y=Date.now()}var V=F;return[UZIP.adler(s,0,s.length),s,M,O,m,f,u,C,H,L,V]};a.Ex.B2=function(s,M,O,P){var y=s.slice(0),F=y.shift(),A=y.shift(),h=y.shift(),m=y.shift(),Z=y.shift(),u=y.shift(),f=y.shift(),U=y.shift(),C=y.shift().slice(0),H=y.shift(),t=y.shift(),X=Date.now(),Q=Math.abs(h-M),D=Math.floor(Q/Z),L=new Uint32Array(Z),_=0,S=1e9,g=0,x=0,V=0;
for(var E=0;E<Z;E++)L[E]=E<Z-1?D:Q-(Z-1)*D;t.fill(0);for(var W=0;W<h;W++){_=Math.max(_,C[W]);S=Math.min(S,C[W])}for(var E=0;
E<Z;E++){var b=u[E],D=L[E];for(var N=0;N<D;N++){var J=0,K=1e9;for(var W=0;W<b;W++)if(C[x+W]<K){K=C[x+W];
J=x+W}if(M<h)C[J]=1e9;else C[J]*=1.2;if(V<h/3)g+=K;var q=U[J],d=t[q],l=d<65280?65280:d+1;if(l<65280)throw"e";
for(var T=0;T<m;T++){var R=T*h+q;t[R]=l;q+=H[R]-1}V++}x+=b}if(P){console.log(Date.now()-X,"Removing best seams");
X=Date.now()}function B(R,I){var w=R<<2,e=I<<2;O[w]=A[e];O[w+1]=A[e+1];O[w+2]=A[e+2];O[w+3]=A[e+3]}for(var T=0;
T<m;T++){var p=0,R=T*h;for(var W=0;W<M;W++,p++){if(M<h){while(t[R+p]==65280)p++;B(T*M+W,T*h+p)}else{B(T*M+W,T*h+p);
while(t[R+p]>=65280){t[R+p]--;W++;B(T*M+W,T*h+p)}}}}if(P){console.log(Date.now()-X,"Shifting image pixels");
X=Date.now()}};a.Ex.auD=function(s,M,O,P,y,F){var A=0,R=s*M;while(A<M){if(O[R-M]==1){F[A]=F[A]+P[R];
A++;R++}else{var h=y[A];y[A]=y[A+1];y[A+1]=h;var m=F[A];F[A]=F[A+1]+P[R];F[A+1]=m+P[R+1];A+=2;R+=2}}};
a.Ex.aGC=function(s,M,O,P){function y(s,R,m){var f=R<<2,U=m<<2,C=s[f]-s[U],H=s[f+1]-s[U+1],t=s[f+2]-s[U+2];
return Math.abs(C)+Math.abs(H)+Math.abs(t)}for(var F=1;F<M;F++){var A=y(s,F,F-1);P[F-1]+=A;P[F]+=A}for(var h=1;
h<O;h++){var m=h*M,A=y(s,m,m-M);P[m]+=A;P[m-M]+=A;for(var F=1;F<M;F++){var R=h*M+F,Z=y(s,R,R-1),u=y(s,R,R-M);
P[R-M]+=u;P[R-1]+=Z;P[R]+=u+Z}}for(var h=0;h<O;h++){P[h*M]*=2;P[h*M+M-1]*=2}for(var R=0;R<P.length;R++)if(P[R]==0)P[R]=1};
a.e2=function(){function s(){return 1953e6+Math.floor(Math.random()*999999)}function M(K,q){var d=q[0]-K[0],l=q[1]-K[1];
return d*d+l*l}function O(K,q,d,l,T,B,p,I){var w=d-K,e=l-q,G=a.b.vH(K,q,w,e,T,B,p-T,I-B),j=[K+G*w,q+G*e],o=G>0?[[[K,q],j,!1,0,1],[[T,B],j,!1,0,5]]:[[[d,l],j,!1,0,1],[[p,I],j,!1,0,5]];
return o}function P(K,q){var d=O(K[0],K[1],K[2],K[3],K[6],K[7],K[4],K[5]),l=O(K[0],K[1],K[6],K[7],K[2],K[3],K[4],K[5]),T=[d,l],B=[d[0][1],l[0][1]];
for(var R=0;R<2;R++){var p=B[1-R],I=T[R];if(M(I[0][0],p)<M(I[1][0],p)){var w=I[0];I[0]=I[1];I[1]=w}}var e=[s(),0,-1,0,[0,0],d[0],d[1],l[0],l[1]],G=_(e,q),j=G[1][0];
e[3]=j;e[4]=G[0][j];e[5][3]=e[6][3]=G[0].indexOf(e[5][1]);e[7][3]=e[8][3]=G[0].indexOf(e[7][1]);if((e[6][3]+1)%3!=e[7][3]){var w=e[5];
e[5]=e[7];e[7]=w;var w=e[6];e[6]=e[8];e[8]=w}for(var R=0;R<4;R++)e[5+R][4]=[1,5,7,3][R];return e}function y(K){var q=K[5],d=K[8],l=K[6],T=q[0],B=d[0],p=l[0],I=q[1],w=d[1],e=B[0],G=B[1],j=w[0]-e,o=w[1]-G,r=a.b.vH(e,G,j,o,p[0],p[1],I[0]-p[0],I[1]-p[1]);
return[T[0],T[1],e,G,e+r*j,G+r*o,p[0],p[1]]}function F(K,q){return K[0]==q[0]&&K[1]==q[1]}function A(K){return{1:0,5:1,7:2,3:3}[K]}function h(K,q,d){var l=q[5+A(K)],T=l[1],B=l[0][0]-T[0],p=l[0][1]-T[1],I=Math.sqrt(B*B+p*p);
B/=I;p/=I;for(var w=0;w<d.length;w++){var e=d[w];if(e[0]!=q[1]&&e[1]!=q[0])continue;for(var R=0;R<4;
R++){var G=e[5+R],j=G[0];if(!F(T,G[1]))continue;var o=j[0]-T[0],r=j[1]-T[1];I=Math.sqrt(o*o+r*r);o/=I;
r/=I;var k=o*B+r*p;if(Math.abs(k-1)<1e-7)return!0}}return!1}function m(K,q){a.F.M(K,q);return q}function Z(K,q){var d=[];
for(var l=0;l<K.length;l++){var T=K[l],B=T[1];for(var p=0;p<B.length;p++){if(q&&q[l].indexOf(p)==-1)continue;
var I=B[p],w=[],e=a.F.da(y(I),new gi(0,0,1,1));for(var R=1;R<=7;R+=2){w[R]=h(R,I,B)}if(!w[1]){if(!w[7])d.push([m(e,[0,0]),l,p,0]);
d.push([m(e,[.5,0]),l,p,1])}if(!w[3]){if(!w[1])d.push([m(e,[1,0]),l,p,2]);d.push([m(e,[1,.5]),l,p,3])}if(!w[5]){if(!w[3])d.push([m(e,[1,1]),l,p,4]);
d.push([m(e,[.5,1]),l,p,5])}if(!w[7]){if(!w[5])d.push([m(e,[0,1]),l,p,6]);d.push([m(e,[0,.5]),l,p,7])}}}return d}function u(K){var q=K.length-2,d=0;
for(var R=0;R<q;R+=2)d+=(K[R+2]-K[R])*(K[R+1]+K[R+3]);d+=(K[0]-K[q])*(K[q+1]+K[1]);return-d*.5}function f(K,q,d,l){}function U(K,R){var q=K[R+2&7]-K[R&7],d=K[R+3&7]-K[R+1&7],l=1/Math.sqrt(q*q+d*d);
return[q*l,d*l]}function C(K){var q=K[2];K[2]=K[6];K[6]=q;var q=K[3];K[3]=K[7];K[7]=q}function H(K,q,d,l){if(l==null)l=0;
var T=q[1],B=y(q),r=null,k,n,cm,b4,lm,o,ix;if(T==0){if(u(B)<0)C(B);var p=6,I=B[7]+B[1];for(var R=0;R<6;
R+=2){var w=B[R+1]+B[R+3];if(w<I){I=w;p=R}}B=B.slice(p).concat(B.slice(0,p));var e=$._P.gg(B,d[0],d[1]),G=Math.sqrt(M(B,B.slice(2))),j=Math.sqrt(M(B.slice(4),B.slice(6))),o=(G+j)*.5;
return[B,new gi(0,0,o,o/e)]}for(var R=0;R<K.length&&r==null;R++){k=K[R][1];for(var a7=0;a7<k.length&&r==null;
a7++)if(k[a7][0]==T)r=k[a7]}var Y=H(K,r,d,l+1),v=Y[0];Y=Y[1];for(var R=0;R<8;R+=2){var a5=v[R&7],gP=v[R+1&7],cg=v[R+2&7],a9=v[R+3&7];
for(var a7=0;a7<8;a7+=2){var ew=B[a7],h7=B[a7+1],bh=B[a7+2&7],ba=B[a7+3&7],jx=Math.abs(a.b.fZ(a5,gP,cg,a9,ew,h7))+Math.abs(a.b.fZ(a5,gP,cg,a9,bh,ba));
if(jx<=30){n=a7;cm=R}}}var c4=U(v,cm),bq=U(B,n),di=c4[0]-bq[0],il=c4[1]-bq[1],j0=di*di+il*il;if(j0<.001){C(B);
n={0:6,2:4,4:2,6:0}[n]}while(n!=(cm+4&7)){B.unshift(B.pop());n=n+1&7}var e=$._P.gg(B,d[0],d[1]),j1=a.F.da(v,Y);
j1=a.F.or(j1);var b5=[B[n],B[n+1],B[n+2&7],B[n+3&7]];a.F.M(j1,b5);var jy=a.b.hG(b5);if(cm==0||cm==4){o=jy.A;
ix=o/e;b4=jy.x;lm=jy.y+(cm==0?-ix:0)}else{ix=jy.$;o=ix*e;lm=jy.y;b4=jy.x+(cm==6?-o:0)}return[B,new gi(b4,lm,o,ix)]}function t(K,q){function d(j,o,r,k){var a7=m(j,[o,r]);
a7.push(k);return a7}var l=[];for(var T=0;T<K.length;T++){var B=K[T],p=B[1];for(var I=0;I<p.length;I++){var w=p[I],e=H(K,w,q),G=e[0],j=a.F.da(G,new gi(0,0,1,1));
l.push(d(j,.5,0,1));l.push(d(j,1,.5,3));l.push(d(j,.5,1,5));l.push(d(j,0,.5,7));l.push(d(j,.5,.5,[e?(e[1].A/e[1].$).toFixed(2):""].join(", ")))}}return l}function X(K,q,d,l){var T=[q],B=[q];
while(!0){var p=[];for(var R=0;R<K.length;R++){var I=K[R],w=!1;for(var e=0;e<T.length;e++){if(I[1]==K[T[e]][0]||I[0]==K[T[e]][1])p.push(R)}}var G=T.length;
for(var R=0;R<p.length;R++){var j=p[R],I=K[j];if(B.indexOf(j)!=-1)continue;B.push(j);var o=H([[10,K]],I,l);
if(o[1].$B(d))T.push(j)}if(G==T.length)break}return T}function Q(K,q,d){var l=d[0],T=d[1],B=q.x-K[0],p=q.y-K[1],I=a.b.vH(K[0],K[1],B,p,T[0],T[1],l[0]-T[0],l[1]-T[1]);
return[K[0]+I*B,K[1]+I*p]}function D(K,q,d){K=a.G(K);var l=K[q[1]][1][q[2]],T=q[3]>=8,B=q[3]&7;if((B&1)==0)return K;
var p=A(B);if(B==1||B==7){var I=l[5+p],w=l[5+2-p],e=l[5+(B==1?3:1)],G=l[5+(B==1?1:3)],j=I[1],o=Q(j,d,w);
if(!T&&M(o,w[1])<M(G[0],w[1]))return K;I[0]=w[0]=o;e[0]=Q(j,d,e)}else{var e=l[5+p],j=e[1],I=l[5+(B==3?0:2)],o=Q(j,d,I);
if(!T&&M(o,I[1])>M(I[0],I[1]))return K;if(Math.sign(I[1][0]-I[0][0])!=Math.sign(I[1][0]-o[0]))return K;
e[0]=o}return K}function L(K,q,d){var l=q[0]-K[0],T=q[1]-K[1],B=a.b.vH(d[0],d[1],-T,l,K[0],K[1],l,T);
return[d[0]-T*B,d[1]+l*B]}function E(K,q,d){var l=d[0],T=d[1],m=L(K,q,d),B=m[0],p=m[1],I=L(K,d,q),w=a.b.vH(B,p,l-B,T-p,q[0],q[1],I[0]-q[0],I[1]-q[1]);
return[B+(l-B)*w,p+(T-p)*w]}function _(K,q){var d=K[5][1],l=K[7][1],T=E(d,l,q),B=[d,l,T];B.sort(function(w,e){return w[0]-e[0]});
if(u([B[0][0],B[0][1],B[1][0],B[1][1],B[2][0],B[2][1]])<0){var p=B[1];B[1]=B[2];B[2]=p}var I=[B.indexOf(d),B.indexOf(l),B.indexOf(T)];
return[B,I]}function S(K,q,d){K=a.G(K);var l=q[1],T=K[l][1][q[2]],B=q[3];if((B&1)!=1)return K;var p=_(T,d),I=p[1][2],w=p[0][I],e=a.G(T);
K[l][1].push(e);e[0]=s();e[1]=T[0];e[2]=-10+B;e[3]=I;e[4]=w;if(B==1||B==5){e[7][3]=e[8][3]=I;e[7][1]=e[8][1]=w;
if(B==5){e[5][0]=e[7][0]=T[6][0];e[8][0]=y(T).slice(4,6)}}else{e[5][3]=e[6][3]=I;e[5][1]=e[6][1]=w;if(B==3){e[5][0]=e[7][0]=T[8][0];
e[6][0]=y(T).slice(4,6)}}return K}function W(K,q,d){K=a.G(K);var l=q[1],T=K[l][1][q[2]],B=T[2]+10,p=B+4&7,I=B==1||B==5,w=T[5+A(I?7:1)][1],e=T[5+A(p)][0],G=T[5+A(B)][0];
T[2]=(I?90:0)+(M(e,w)<M(G,w)?180:0);var j=P(y(T),d);for(var R=5;R<9;R++)T[R]=j[R];return K}function g(K,q,d){var hS=K.length>>1,l,T=K[2*hS-3]-d,B=K[2*hS-2]-q,p=K[2*hS-1]-d,I=!1,w=0;
for(var R=0;R<hS;R++){l=B;T=p;B=K[2*R]-q;p=K[2*R+1]-d;if(T==p)continue;I=p>T}for(var R=0;R<hS;R++){l=B;
T=p;B=K[2*R]-q;p=K[2*R+1]-d;if(T<0&&p<0)continue;if(T>0&&p>0)continue;if(l<0&&B<0)continue;if(T==p&&Math.min(l,B)<=0)return!0;
if(T==p)continue;var e=l+(B-l)*-T/(p-T);if(e==0)return!0;if(e>0)w++;if(T==0&&I&&p>T)w--;if(T==0&&!I&&p<T)w--;
I=p>T}return(w&1)==1}function x(K,q,d,l,T){var B=null;for(var p=0;p<K.length;p++){var I=K[p][1];for(var w=0;
w<I.length;w++){var e=y(I[w]);if(g(e,q,d)||T&&T[0]==p&&T[1]==w&&B==null){B=[p,w];if(l){var G=H(K,I[w],l),j=a.F.da(G[0],G[1]),o=[q,d];
j=a.F.or(j);a.F.M(j,o);B.push(o)}}}}return B}function V(K,q){for(var d=0;d<K.length;d++){var l=K[d][1],T=q[d];
if(T.length==0)continue;var B=b(l,T);for(var p=0;p<l.length;p++){if(B.indexOf(l[p][0])!=-1){l.splice(p,1);
p--}}}for(var d=0;d<K.length;d++)if(K[d][1].length==0){K.splice(d,1);d--}return K}function b(K,q){var d=[];
for(var R=0;R<10;R++)for(var l=0;l<K.length;l++){var T=K[l];if(q.indexOf(l)!=-1||d.indexOf(T[1])!=-1)if(d.indexOf(T[0])==-1)d.push(T[0])}return d}function N(K){var q=c.Db(K,0,K.length),d=q.split("\n").slice(1);
function l(){return parseFloat(d.shift())}function T(){var ew=[l(),l()];B(1);return ew}function B(hS){for(var R=0;
R<hS;R++)d.shift()}var p=[],I=l();for(var w=0;w<I;w++){var e=l(),G=l(),j=[];p.push([e,j]);for(var o=0;
o<G;o++){var r=l(),k=l(),a7=l(),Y=l(),v=T(),n=[r,k,a7,Y,v];j.push(n);for(var R=0;R<4;R++){var cm=T(),a5=T(),gP=l()==1,cg=l(),a9=l();
n.push([cm,a5,gP,cg,a9])}}}return p}function J(K){function q(G){d.push(G[0],G[1],"")}var d=["tNaF203"];
d.push(K.length);for(var l=0;l<K.length;l++){d.push(K[l][0]);var T=K[l][1];d.push(T.length);for(var B=0;
B<T.length;B++){var p=T[B];d.push(p[0],p[1],p[2],p[3]);q(p[4]);for(var R=0;R<4;R++){var I=p[5+R];q(I[0]);
q(I[1]);d.push(I[2]?1:0,I[3],I[4])}}}var w=d.join("\n"),e=new Uint8Array(w.length);c.Eu(e,0,w);return e}return{kM:N,$a:J,aE8:y,a08:P,yK:Z,acH:D,Rp:t,ap0:function(K,q){return q&&(q[3]&1)==0&&K[q[1]][1].length==1},Ne:function(K,q){return q&&(q[3]&1)==1},qc:H,a1l:S,anX:W,a3T:V,JN:b,ui:x,mD:X}}();
a.akR=function(){var s=0,M=0,P=15,F=256;function O(u,f,U,C,H,t){var X=(H-1)*f,Q=t*f;return u[Q+C]-u[Q+U-1]-u[X+C]+u[X+U-1]}var y=Math.round(P/8),A=[];
function h(u,f){for(var U=0;U<f.length;U++){var C=f[U],H=0,t=0,X=u[C.SQ],Q=X.v0,D=X.V5,L=X.fw;for(var E=-P;
E<=P;E++)for(var _=-P;_<=P;_++){var S=_+C.avI,W=E+C.aDP;if(_*_+E*E>P*P||S<0||W<0||S>=D||W>=D)continue;
var g=Q[W*D+S];H+=_*g;t+=E*g}C.Y0=Math.atan2(t,H)}}function m(u,f,U,C,H){var t=~~(u+.5),X=~~(f+.5);return O(U,C,t-y,t+y,X-y,X+y)}function Z(u,f,U,C,H){s=C;
M=H;if(A.length==0){var t=new a.B.Yp(16200817),L=8,E=0;function X(v){var V=v[0]-v[2],b=v[1]-v[3];return V*V+b*b}function Q(){var v=0,n=0;
while(v===0)v=t.get();while(n===0)n=t.get();return Math.sqrt(-2*Math.log(v))*Math.cos(2*Math.PI*n)}var D=Q,_=[];
while(E!=F){var S=Math.max(-P,Math.min(P,D()*L)),W=Math.max(-P,Math.min(P,D()*L)),g=Math.max(-P,Math.min(P,D()*L)),x=Math.max(-P,Math.min(P,D()*L)),V=S-g,b=W-x,N=Math.sqrt(V*V+b*b);
if(N<3||N>12)continue;A.push(S,W,g,x);E++}}var J=20;for(var K=0;K<f.length;K++){var q=f[K],d=u[q.SQ],l=d.Ri,U=d.v0,C=d.V5,H=d.fw,T=q.avI,B=q.aDP,p=q.Y0,I=Math.cos(p),w=Math.sin(p),e=new Uint8Array(F>>>3);
q.kT=e;for(var R=0;R<F;R++){var G=R*4,S=A[G+0],W=A[G+1],g=A[G+2],x=A[G+3],j=I*S-w*W,o=w*S+I*W,r=I*g-w*x,k=w*g+I*x,a7=m(T+j,B+o,l,C,H),Y=m(T+r,B+k,l,C,H);
e[R>>>3]|=(a7<Y?0:1)<<(R&7)}}}return{aj7:h,a0H:Z}}();a.a53=function(){function s(M,O){var P=[[9]],y=Date.now(),F=[];
for(var A=0;A<M.length;A++){var h=M[A],m=h.Ri,Z=h.V5,u=h.fw,C=9,L=1,q=24;if(m==null)continue;var f=new Float32Array(Z*u),U=new Uint8Array(Z*u),H=C>>>1,t=H>>>1,X=Math.round(C/3);
if(X!=C/3)throw"e";var Q=1/(C*C),D=1.2*(C/9);for(var E=H+1;E<u-H;E+=L)for(var _=H+1;_<Z-H;_+=L){var S=a.jv(m,Z,_-t,_+t,E-H,E+H)-3*a.jv(m,Z,_-t,_+t,E-H+X,E+H-X),W=a.jv(m,Z,_-H,_+H,E-t,E+t)-3*a.jv(m,Z,_-H+X,_+H-X,E-t,E+t),g=_-H+1,x=_+H-1,V=E-H+1,b=E+H-1,N=a.jv(m,Z,g,_-1,V,E-1)+a.jv(m,Z,_+1,x,E+1,b)-a.jv(m,Z,_+1,x,V,E-1)-a.jv(m,Z,g,_-1,E+1,b),J=(W*S-.9*N*(.9*N))*(Q*Q);
f[E*Z+_]=Math.abs(J);U[E*Z+_]=J<0?0:1}var K=Z*L;for(var E=q;E<u-q;E+=L)for(var _=q;_<Z-q;_+=L){var R=E*Z+_,d=f[R];
if(d<16)continue;if(f[R-L]>=d||f[R+L]>=d)continue;if(f[R-K-L]>=d||f[R-K]>=d||f[R-K+L]>=d)continue;if(f[R+K-L]>=d||f[R+K]>=d||f[R+K+L]>=d)continue;
F.push({x:~~(_*h.Mb+.5),y:~~(E*h.Mb+.5),avI:_,aDP:E,SQ:A,K:d,ao0:U[R],BP:D})}}if(O!=null){F.sort(function(G,j){return j.K-G.K});
F=F.slice(0,O)}return F;var l=[];for(var R=0;R<F.length;R++){var T=!0,B=F[R];for(var p=0;p<F.length;
p++){var I=F[p];if(p!=R&&I.K>B.K&&(I.SQ==B.SQ+1||I.SQ==B.SQ-1)){var w=B.x-I.x,e=B.y-I.y;if(w*w+e*e<5){T=!1;
break}}}if(T)l.push(B)}console.log(F.length,l.length);return l}return{aoi:s}}();a.ms={};a.ms.aFj=function(s){var M=s.length,O=a.ms.aaw(s,!1),y=0,F=1;
throw"e";var P=[];for(var R=0;R<M;R++)P[R]=a.ms.aDX(O[R]);var A=s[0][1],h=a.ms.match(O[y],O[F],P[F]);
console.log(h.length);var m=Math.max(Math.min(h.length,40),h.length*.54);m=Math.min(m,200);var Z=h.slice(0,m),u=a.yG.a7m(O[y],O[F],Z,A.A,A.$),f=a.yG.akK(u,[0,0,0],1),U=A.A/2,C=A.$/2,H=1/Math.max(U,C);
for(var R=0;R<1;R++){var t=Z[R],X=O[y][t[0]],Q=O[F][t[1]],D=a.yG.akJ(f,H*(X.x-U),H*(X.y-C),H*(Q.x-U),H*(Q.y-C))}var L=a.yG.ap2(u,A),E=[];
for(var R=0;R<2;R++){var _=L[R],S=[_[0][0],_[0][1],_[0][2],_[1][0],_[1][1],_[1][2],_[2][0],_[2][1]],W=$.TR.nZ(s[R],null,S);
E.push([W.buffer,W.S])}return[a.ms.a1z(E[0],E[1],O[y],O[F],Z,u,L,A)]};a.ms.LU=function(s,M){var O=s.length,P=!1,y=Date.now(),F=a.ms.aaw(s,!1,1e4);
if(P)console.log("Descriptors ready",Date.now()-y);y=Date.now();for(var R=0;R<O;R++){var A=s[R][1];for(var h=0;
h<F[R].length;h++){F[R][h].x+=A.x;F[R][h].y+=A.y}}if(P)console.log("shifted",Date.now()-y);y=Date.now();
var m=[];for(var R=0;R<O;R++)m[R]=a.ms.aDX(F[R]);if(P)console.log("trees built",Date.now()-y);y=Date.now();
var Z=[];for(var R=0;R<O-1;R++)for(var h=R+1;h<O;h++){var u=a.ms.match(F[R],F[h],m[h]);if(P)console.log("Matches found",R,h,u.length);
u=u.slice(0,u.length>>>1);if(u.length<10)continue;var f=a.ms.arR(F[R],F[h],u,2);Z.push([R,h,u,f])}Z.sort(function(x,V){return V[2].length-x[2].length});
if(P)console.log("Matches found",Date.now()-y);y=Date.now();var U=[],C=new UnionFind(O);for(var R=0;
R<Z.length;R++){var H=Z[R],t=C.find(H[0]),X=C.find(H[1]);if(t!=X){U.push(H);C.link(t,X)}}var Q=[];for(var R=0;
R<O;R++)Q[R]=[1,0,0,0,1,0,0,0];var D=[0],L=new Uint8Array(O);L[D[0]]=1;while(D.length!=0){var X=D.pop(),f=Q[X],E=[];
for(var R=0;R<U.length;R++){var H=U[R],_=H[0],S=H[1];if(_==X&&L[S]==0){Q[S]=a.F.u2(f,H[3]);D.push(S);
L[S]=1}if(S==X&&L[_]==0){Q[_]=a.F.u2(f,a.F.or(H[3]));D.push(_);L[_]=1}}}if(M==null){var W=[];for(var R=0;
R<O;R++)W.push([Q[R][2],R]);W.sort(function(x,V){return x[0]-V[0]});M=W[W.length>>>1][1]}var g=a.F.or(Q[M]);
for(var R=0;R<O;R++)Q[R]=a.F.u2(Q[R],g);if(P)console.log("Transforms reordered",Date.now()-y);y=Date.now();
return Q};a.ms.aaw=function(s,M,O){var P=[],y=!1;for(var R=0;R<s.length;R++){var F=s[R][0],A=s[R][1],h=A.A,m=A.$,Z=a.j(A.C());
a.K1(F,Z);var u=Date.now(),f=a.ms.aoS(Z,A,!0);if(y)console.log("Pyramid built ---------------",Date.now()-u);
u=Date.now();var U=a.a53.aoi(f,O);if(y)console.log("SURF Generation",Date.now()-u);u=Date.now();if(!M){a.akR.aj7(f,U);
if(y)console.log("ORB Orientations",Date.now()-u);u=Date.now();a.akR.a0H(f,U,Z,h,m);if(y)console.log("ORB Descriptors",Date.now()-u);
u=Date.now()}P.push(U)}return P};a.ms.aoS=function(s,M,O){var P=[],y=[s,M];a.uC(y);if(O){var F=a.aGh(s,M),A=F.S,h=[F.tG,A];
a.uC(h)}for(var R=0;R<y.length;R++){var m=y[2*R],Z=y[2*R+1],u=Z.A,f=Z.$,U=Math.min(u,f);if(U<30)break;
if(U<1600)P.push({v0:m,V5:u,fw:f,Mb:1<<R,Ri:a.Md(m,u,f)});if(!O)continue;var m=h[2*R],Z=h[2*R+1],u=Z.A,f=Z.$,U=Math.min(u,f);
if(U<30)break;if(U<1600)P.push({v0:m,V5:u,fw:f,Mb:(1<<R)*3/2,Ri:a.Md(m,u,f)})}return P};a.ms.arR=function(s,M,O,P){var y=Date.now(),F,A=0,h=0,m=O.length,Z=new Float64Array(2);
for(var u=0;u<3e3;u++){var f=~~(Math.random()*m),U=~~(Math.random()*m),C=~~(Math.random()*m),H=~~(Math.random()*m),K=0,q=0;
if(f==U||f==C||f==H||U==C||U==H||C==H)continue;var t=O[f],X=O[U],Q=O[C],D=O[H],L=s[t[0]],E=M[t[1]],_=s[X[0]],S=M[X[1]],W=s[Q[0]],g=M[Q[1]],x=s[D[0]],V=M[D[1]],b=[L.x,L.y,_.x,_.y,W.x,W.y,x.x,x.y],N=[E.x,E.y,S.x,S.y,g.x,g.y,V.x,V.y],J=a.F.aFG(b,N);
if(J[0]==0&&J[1]==0&&J[3]==0&&J[4]==0)continue;var d=m-A+2;for(var R=0;R<m&&R-K<d;R++){var l=s[O[R][0]],T=M[O[R][1]];
a.F.mk(T.x,T.y,J,Z);var B=Z[0]-l.x,p=Z[1]-l.y,I=B*B+p*p;if(I<P){K++;q+=I}}if(K>A||K==A&&q<h){F=J;A=K;
h=q}}return F};var hR=new Uint8Array(256);for(var R=0;R<256;R++){var d4=0,hS=R;while(hS!=0){hS=hS&hS-1;
d4++}hR[R]=d4}a.ms.aKe=function(s,M,O){var P=0,y=s.length;for(var R=0;R<y&&P<O;R++)P+=hR[s[R]^M[R]];
return P};a.ms.aEY=function(s,M,O,top,P){if(P[O]==1)return;var y=a.ms.aKe(s.kT,M.kT,top[0]);if(y<top[0]){if(y<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=y;top[3]=O}else{top[0]=y;top[1]=O}}P[O]=1};a.ms.aDX=function(s){var M=[],O=[],P=[[],[]],y=4;
for(var R=0;R<s.length;R++)(s[R].ao0==0?M:O).push(R);for(var F=0;F<2;F++){var A=new Array(y),h=[],m=F==0?M:O,Z=m.length/256,u=[];
for(var f=0;f<32;f++){var U=new Array(256),t=0;for(var C=0;C<256;C++)U[C]=[];for(var C=0;C<m.length;
C++){var H=m[C];U[s[H].kT[f]].push(H)}for(var C=0;C<256;C++)t+=Math.abs(U[C].length-Z);u.push([t,f,U])}u.sort(function(X,Q){return X[0]-Q[0]});
var h=[],A=[];P[F]=[h,A];for(var R=0;R<y;R++){h.push(u[R][1]);A.push(u[R][2])}}return P};a.ms.match=function(s,M,O){var P=[],y=new Uint16Array(M.length);
y.fill(65535);var F=new Uint8Array(M.length),top=new Uint32Array(4),A=[];for(var h=0;h<s.length;h++){var m=s[h],Z=m.kT;
top.fill(1e6);F.fill(0);var u=O[m.ao0];for(var f=0;f<u[1].length;f++){var U=u[1][f][Z[u[0][f]]];for(var C=0;
C<U.length;C++){var H=U[C];a.ms.aEY(m,M[H],H,top,F)}}if(top[2]<50&&top[2]<top[0]*.5){var t=y[top[3]];
if(t==65535){y[top[3]]=P.length;P.push([h,top[3],top[2]])}else if(top[2]<P[t][2]){P[t]=[h,top[3],top[2]]}}}P.sort(function(X,Q){return X[2]-Q[2]});
return P};a.ms.ab8=function(s){var M=new gi;for(var R=0;R<s.length;R++)M=M.v8(s[R][1]);var O=a.j(M.C()*4);
for(var R=0;R<s.length;R++)a.B.qZ("norm",s[R][0],s[R][1],O,M,M,1);return[O,M]};a.ms.a1z=function(s,M,O,P,y,F,A,h){var m=s[1].v(),Z=m.v();
m.x=m.y=0;var u=M[1].v(),f=u.v();u.x=u.y=0;u.x=m.A;var U=m.v8(u),C=f.y-Z.y,H=a.j(U.C()*4);a.FP(s[0],m,H,U);
a.FP(M[0],new gi(u.x,u.y+C,u.A,u.$),H,U);var t=document.createElement("canvas");t.width=U.A;t.height=U.$;
var X=t.getContext("2d");X.lineWidth=.5;X.putImageData(new ImageData(new Uint8ClampedArray(H.buffer),U.A,U.$),0,0);
if(F){var Q=F[0],D=a.pO.gV(Q),L=m.A,E=h.A;for(var R=0;R<y.length;R++){var _=y[R],s=O[_[0]],M=P[_[1]];
X.strokeStyle="#"+"ff0000";X.beginPath();var S=a.yG.aKS(D,A[0],M,0,E),W=a.yG.aKS(Q,A[1],s,0,E);X.moveTo(-Z.x+S[0],-Z.y+S[1]);
X.lineTo(-Z.x+S[2],-Z.y+S[3]);X.moveTo(L-f.x+W[0],-f.y+C+W[1]);X.lineTo(L-f.x+W[2],-f.y+C+W[3]);X.stroke()}}if(y){var g=y.length;
for(var R=0;R<g;R++){var _=y[R],s=O[_[0]],M=P[_[1]];X.strokeStyle="#"+"ffff00"}}var x=new Uint8Array(X.getImageData(0,0,U.A,U.$).data.buffer);
if(!1){for(var V=0;V<2;V++){var b=V==0?O:P,N=V*m.A;for(var R=0;R<b.length;R++){var J=b[R],K=~~J.x,q=~~J.y,d=(q*U.A+K+N)*4;
x[d+1]=x[d+2]=J.acU*60;x[d+0]=0;x[d+3]=255}}}return[x,U]};a.IN={};a.IN.list=[[[22,4,1],0],[[22,4,0],0],["Dual Axis",0],["Diagonal",0],[[22,5,9],0],[[12,93,5],0],[[12,93,2],0],["Parallel",0],[[19,0,1],1],["Mandala",2]];
a.IN.aag=["BasicPath","Radial","Mandala","RectangularTile"];a.IN.JW=function(s,M){var O=.28*.5,P=[{J8:["M","L"],L:[.5,.1,.5,.9]},{J8:["M","L"],L:[.1,.5,.9,.5]},{J8:["M","L","M","L"],L:[.5,.1,.5,.9,.1,.5,.9,.5]},{J8:["M","L"],L:[.1,.1,.9,.9]},{J8:["M","C","C"],L:[.5,.1,.4,.2,.4,.4,.5,.5,.6,.6,.6,.8,.5,.9]},{J8:["M","C","C","C","C"],L:[.5,.25,.5+O,.25,.75,.5-O,.75,.5,.75,.5+O,.5+O,.75,.5,.75,.5-O,.75,.25,.5+O,.25,.5,.25,.5-O,.5-O,.25,.5,.25]},null,{J8:["M","L","M","L"],L:[.35,.1,.35,.9,.65,.1,.65,.9]}],h=.4;
if(P[s])return P[s];if(s==6){var y="m418 377c30 0 16-55-28-48-78 12-76 160 54 166 135 6 204-212 34-302-135-71-303 53-296 214 8 177 170 240 236 243",F=Typr.U.SVGToPath(y);
F={L:F.crds,J8:F.cmds};a.b.M(F.L,new kp(1/840,0,0,1/840,0,0),F.L);return F}var A={J8:[],L:[]},m=2*Math.PI/M;
for(var R=0;R<M;R++){A.J8.push("M","L");A.L.push(.5,.5,.5+Math.sin(R*m)*h,.5-Math.cos(R*m)*h)}return A};
a.IN.m_=function(s,M){var O=Math.PI*.5+Math.atan2(s.y-M.y,M.x-s.x),P=new kp;P.translate(-s.x,-s.y);P.rotate(-O);
P.scale(-1,1);P.rotate(O);P.translate(s.x,s.y);return P};a.IN.aCc=function(s,M,O){var P=[new kp];if(O==null)return P;
var y=O[0],F=O[1],A=O[2];if(y==0){var h=a.z._i(A,!0),m=a.z.AS(A,0,!0),Z=A[m].length;if(h==1){if(Z==2){P.push(a.IN.m_(A[m+1].nr,A[m+2].nr))}else{var u=a.b.TM(A);
u=a.b.iz(u);var f=a.b.QG(u),U=a.b.Sk(f,s.x,s.y),hS=new j6(f[U*2],f[U*2+1]),C=s.x-hS.x,H=s.y-hS.y,t=new j6(hS.x-H,hS.y+C);
P.push(a.IN.m_(hS,t))}}if(h==2){var X=a.z.AS(A,1,!0),Q=A[X].length;if(Z==2&&Q==2){var D=A[m+1].nr,L=A[m+2].nr,E=A[X+1].nr,_=A[X+2].nr,S=a.b.vH(D.x,D.y,L.x-D.x,L.y-D.y,E.x,E.y,_.x-E.x,_.y-E.y),W=a.IN.m_(D,L);
P.push(W);var g=a.IN.m_(E,_);P.push(g);if(0<S&&S<1){W=W.v();W.concat(g);P.push(W)}}else alert("two curves")}}if(y==1||y==2){P=[];
var x=A[3].nr,V=A[4].nr;for(var R=0;R<F;R++){var b=new kp;b.translate(-x.x,-x.y);b.rotate(R*Math.PI*2/F);
b.translate(x.x,x.y);P.push(b);if(y==2){b=b.v();b.concat(a.IN.m_(x,V));P.push(b)}}}if(y==3){P=[];for(var N=-1;
N<2;N++)for(var J=-1;J<2;J++){var b=new kp;b.translate(J*M.A,N*M.$);P.push(b)}}return P};a.stack={};
a.stack.stack=function(s,M,O){var P=s.length,y=M.length;if(P==1){M.set(s[0]);return}if(O=="avrg"||O=="stdv"||O=="summ"||O=="vari"){var F=1/P;
for(var R=0;R<y;R++){var A=0;for(var h=0;h<P;h++)A+=s[h][R];var m=~~(A*F+.5);if(O=="avrg"||(R&3)==3)M[R]=m;
else if(O=="summ")M[R]=255*Math.pow(Math.min(255,A)*(1/255),1/2.4);else{var Z=0;for(var h=0;h<P;h++){var u=s[h][R]-m;
Z+=u*u}var f=Math.sqrt(Z*F)*(1/255);if(O=="stdv")M[R]=255*Math.pow(f,1/2.4);else M[R]=255*Math.pow(f*f,1/2.4)}}}else if(O=="maxx"){for(var R=0;
R<y;R++){var U=0;for(var h=0;h<P;h++)U=Math.max(U,s[h][R]);M[R]=U}}else if(O=="minn"){for(var R=0;R<y;
R++){var U=255;for(var h=0;h<P;h++)U=Math.min(U,s[h][R]);M[R]=U}}else if(O=="medn"||O=="rang"){var C=function(Q,D){return Q-D},H=new Array(P),t=0,X=0;
if((P&1)==0){X=P>>>1;t=X-1}else{t=X=P>>>1}for(var R=0;R<y;R++){for(var h=0;h<P;h++)H[h]=s[h][R];H.sort(C);
if(O=="medn")M[R]=H[t]+H[X]>>>1;else M[R]=(R&3)==3?H[P-1]:H[P-1]-H[0]}}else console.log(O)};a.rR={};
a.rR.azj=function(s,M,O,P){if(P==0)return;var y=Date.now(),F=new Uint32Array(M*O),A=new Uint8Array(M*O);
while(!0){A.fill(0);F.fill(0);var h=[],m=0;for(var Z=0;Z<O;Z++){for(var u=0;u<M;u++){var R=Z*M+u;if(A[R]==0){var f=h.length,U=a.rR.L4(s,M,O,u,Z,A,F,f);
h.push([f,u,Z,U[0],U[1],s[R]]);if(U[0]<P)m++}}}if(m==0)break;var C=h.length,H=new UnionFind(C),t=[];
for(var R=0;R<C;R++)t.push([]);for(var R=0;R<C;R++){var U=h[R],X=U[4],Q=0,D=0;if(U[3]>=P)continue;var f=U[0];
for(var L=0;L<X.length;L+=2){var E=F[X[L+1]*M+X[L]],_=h[E];if(_[3]>D){D=_[3];Q=E}}if(H.find(f)!=H.find(Q)){H.link(f,Q);
t[f].push(Q);t[Q].push(f)}}var S=new Uint32Array(C);S.fill(4294967295);var W=new Uint32Array(C);for(var R=0;
R<C;R++){if(S[R]!=4294967295||t[R].length==0)continue;var g=[R],x=[R],V=R,b=h[R][3];while(x.length!=0){var N=x.pop(),J=t[N];
for(var L=0;L<J.length;L++){var K=J[L];if(g.indexOf(K)==-1){g.push(K);x.push(K);var q=h[K];if(q[3]>b){b=q[3];
V=K}}}}for(var L=0;L<g.length;L++){S[g[L]]=V;var d=h[V];W[g[L]]=s[d[2]*M+d[1]]}}for(var Z=0;Z<O;Z++)for(var u=0;
u<M;u++){var R=Z*M+u,l=S[F[R]];if(l!=4294967295)s[R]=W[l]}}};a.rR.L4=function(s,M,O,P,y,F,A,h){var m=[P,y],Z=s[y*M+P],u=0,f=[];
F[y*M+P]=1;while(m.length!=0){var U=m.pop(),C=m.pop(),R=U*M+C;A[R]=h;u++;if(U!=O-1)if(s[R+M]==Z){if(F[R+M]==0){m.push(C,U+1);
F[R+M]=1}}else f.push(C,U+1);if(U!=0)if(s[R-M]==Z){if(F[R-M]==0){m.push(C,U-1);F[R-M]=1}}else f.push(C,U-1);
if(C!=M-1)if(s[R+1]==Z){if(F[R+1]==0){m.push(C+1,U);F[R+1]=1}}else f.push(C+1,U);if(C!=0)if(s[R-1]==Z){if(F[R-1]==0){m.push(C-1,U);
F[R-1]=1}}else f.push(C-1,U)}return[u,f]};a.rR.aEw=function(s,M,O){var P=new Uint32Array(M*O);for(var R=0;
R<P.length;R++)P[R]=s[R];var y=[];for(var F=0;F<O;F++){for(var A=0;A<M;A++){var R=F*M+A,h=P[R];if(h<1e3){var m=a.rR.a5J(P,M,O,A,F,1e3+y.length);
y.push([A,F,h,m,0])}}}for(var R=0;R<P.length;R++)P[R]-=1e3;var Z=new Float32Array(M*O);Z.fill(M+O);for(var F=0;
F<O;F++)for(var A=0;A<M;A++){var R=F*M+A,h=P[R];if(A==0||F==0||P[R-1]!=h||P[R-M]!=h)Z[R]=0;else{var u=Math.min(Z[R],Z[R-1]+1,Z[R-M]+1);
if(P[R-M-1]==h)u=Math.min(u,Z[R-M-1]+1.414);Z[R]=u}}for(var F=O-1;F>=0;F--)for(var A=M-1;A>=0;A--){var R=F*M+A,h=P[R];
if(A==M-1||F==O-1||P[R+1]!=h||P[R+M]!=h)Z[R]=0;else{var u=Math.min(Z[R],Z[R+1]+1,Z[R+M]+1);if(P[R+M+1]==h)u=Math.min(u,Z[R+M+1]+1.414);
Z[R]=u}}for(var F=0;F<O;F++)for(var A=0;A<M;A++){var R=F*M+A,f=y[P[R]];if(Z[R]>f[4]){f[4]=Z[R];f[0]=A;
f[1]=F}}return y};a.rR.a5J=function(s,M,O,P,y,F){var A=[P,y],h=s[y*M+P],m=0;s[y*M+P]=4294967295;while(A.length!=0){var y=A.pop(),P=A.pop(),R=y*M+P;
m++;s[R]=F;if(y<O-1&&s[R+M]==h){A.push(P,y+1);s[R+M]=4294967295}if(y>0&&s[R-M]==h){A.push(P,y-1);s[R-M]=4294967295}if(P>0&&s[R-1]==h){A.push(P-1,y);
s[R-1]=4294967295}if(P<M-1&&s[R+1]==h){A.push(P+1,y);s[R+1]=4294967295}}return m};a.rR.amI=function(s,M,O,P,y){var F=a.rR.awi(s.buffer,M,O).bB,A=Date.now(),h=[];
for(var R=0;R<F.length;R++){var m=F[R],Z=1;for(var u=0;u<Z;u++)h.push(m.xN)}var f=new Uint32Array(h),U=UPNG.quantize.getKDtree(new Uint8Array(f.buffer),P),C=[M,1,-M,-1,M+1,-M+1,-M-1,M-1,M+M,2,-M-M,-2,M+M-1,M+M+1,M+2,-M+2,-M-M+1,-M-M-1,-M-2,M-2,M+M+2,-M-M+2-M-M-2,M+M-2],H=new Uint8Array(M*O),t=s;
for(var X=0;X<O;X++)for(var Q=0;Q<M;Q++){var R=X*M+Q<<2,D=t[R]*(1/255),L=t[R+1]*(1/255),E=t[R+2]*(1/255),_=t[R+3]*(1/255),S=a.rR.l1(U,D,L,E,_,y);
if(S==null){var W=[],g=0;while(g<20){var x=X*M+Q+C[g]<<2,V=t[x]*(1/255),b=t[x+1]*(1/255),N=t[x+2]*(1/255),J=t[x+3]*(1/255),K=a.rR.l1(U,V,b,N,J,.005);
if(K!=null){if(W.indexOf(K)==-1){W.push(K);K.y9=1}else K.y9++}g++}W.sort(function(_,E){return E.y9-_.y9});
while(W.length!=0&&W[W.length-1].y9<3)W.pop();if(W.length==0)S=a.rR.l1(U,D,L,E,_,100);else if(W.length==1)S=W[0];
else if(W.length==2){var q=W[0],d=W[1],l=q.est.q,T=d.est.q,B=T[0]-l[0],p=T[1]-l[1],I=T[2]-l[2],w=T[3]-l[3],e=D-l[0],G=L-l[1],j=E-l[2],o=_-l[3],r=B*B+p*p+I*I+w*w,k=e*e+G*G+j*j+o*o,a7=(e*B+G*p+j*I+o*w)/r,Y=k-a7*a7*r;
if(Y<.5)S=a7<.5?q:d;else{S=a.rR.l1(U,D,L,E,_,100)}}else{var q=W[0],d=W[1],v=W[2],l=q.est.q,T=d.est.q,n=v.est.q,cm=l[0]-n[0],a5=l[1]-n[1],gP=l[2]-n[2],cg=l[3]-n[3],a9=T[0]-n[0],ew=T[1]-n[1],h7=T[2]-n[2],bh=T[3]-n[3],ba=n[0]-D,jx=n[1]-L,c4=n[2]-E,bq=n[3]-_,di=cm*cm+a5*a5+gP*gP+cg*cg,il=cm*a9+a5*ew+gP*h7+cg*bh,j0=ba*cm+jx*a5+c4*gP+bq*cg,j1=cm*a9+a5*ew+gP*h7+cg*bh,b5=a9*a9+ew*ew+h7*h7+bh*bh,b4=ba*a9+jx*ew+c4*h7+bq*bh,lm=1/(il*j1-di*b5),a7=(b5*j0-b4*il)*lm,ix=(b4*di-j0*j1)*lm,jy=1-a7-ix,bz=Math.max(a7,ix,jy);
if(bz==a7)S=q;else if(bz==ix)S=d;else S=v}}H[R>>2]=S.ind}return{EL:H,bB:U[1]}};a.rR.awi=function(s,M,O){var P=[],y={},F=M-1,A=O-1,h=0,m=new Uint32Array(s),Z=[-M-1,-M,-M+1,-1,1,M-1,M,M+1,M+M,2,-M-M,-2,M+M-1,M+M+1,M+2,-M+2,-M-M+1,-M-M-1,-M-2,M-2,M+M+2,-M-M+2-M-M-2,M+M-2];
for(var u=1;u<A;u++)for(var f=1;f<F;f++){var U=u*M+f,C=m[U],H=!0;for(var R=0;R<8;R++)H=H&&m[U+Z[R]]==C;
if(H){h++;var t=y[C];if(t==null){y[C]=P.length;P.push({xN:C,UE:1})}else P[t].UE++}}return{bB:P,aho:h}};
a.rR.l1=function(s,M,O,P,y,F){var A=UPNG.quantize.getNearest(s[0],M,O,P,y);return a.rR.aDo(A,M,O,P,y)<F?A:null};
a.rR.aDo=function(s,M,O,P,y){var F=s.est.q,A=M-F[0],h=O-F[1],m=P-F[2],Z=y-F[3];return A*A+h*h+m*m+Z*Z};
(function(){a.rR.ul=function(h,m,Z,u,f){var U=h.fB,C=m*Z,H=h.$S,t=h.EL,X=P(u,t,U,C),Q=new UnionFind(U),W=0;
for(var D=1;D<Z;D++)for(var L=1;L<m;L++){var R=D*m+L,E=t[R],_=0;if((_=t[R-1])!=E&&X[_]==X[E]&&s(H,0,E*6,_*6)<f)Q.link(E,_);
if((_=t[R-m])!=E&&X[_]==X[E]&&s(H,0,E*6,_*6)<f)Q.link(E,_)}var S=new Uint16Array(U);S.fill(65535);var g=new Uint16Array(U);
for(var R=0;R<U;R++){var x=Q.find(R);if(S[x]==65535)S[x]=W++;g[R]=S[x]}var V=new Uint16Array(C);for(var R=0;
R<C;R++)V[R]=g[t[R]];return{EL:V,fB:W}};a.rR.QF=function(h,m,Z){var u=a.j(m),f=h.length;for(var R=0;
R<f;R++){var U=Z[R];if(U==0||U==255){var C=h[R],H=2-(U>>>7),t=u[C]=u[C]|H;if(t==3)return C}}return-1};
function s(h,m,Z,u){var f=1/h[Z+5],U=1/h[u+5],C=h[Z]*f-h[u]*U,H=h[Z+1]*f-h[u+1]*U,t=h[Z+2]*f-h[u+2]*U,X=h[Z+3]*f-h[u+3]*U,Q=h[Z+4]*f-h[u+4]*U,D=Math.sqrt(C*C+H*H+t*t),L=Math.sqrt(X*X+Q*Q);
return~~(D+m*L+.5)}function M(h,m){var R=0,Z=h.length;while(R!=Z&&h[R]!=m)R+=2;return R==Z?-1:R}function O(h,R){if(R==h.length-2){h.pop();
h.pop()}else{h[R+1]=h.pop();h[R]=h.pop()}}a.rR.a5D=function(h,m,Z,u,f){var U=new Uint32Array(f*4400),C=[];
for(var R=0;R<f;R++)C.push([]);for(var H=0;H<Z;H++)for(var t=0;t<m;t++){var R=H*m+t,X=R<<2,Q=u[R],D=0,L=h[X]>>>4,E=h[X+1]>>>4,_=h[X+2]>>>4;
U[Q*4400+(L<<8|E<<4|_)]++;U[Q*4400+4096]++;U[Q*4400+4100+(L<<4|E)]++;U[Q*4400+4360+L]++;if(t!=0&&(D=u[R-1])!=Q&&M(C[Q],D)==-1){C[Q].push(D,0);
C[D].push(Q,0)}if(H!=0&&(D=u[R-m])!=Q&&M(C[Q],D)==-1){C[Q].push(D,0);C[D].push(Q,0)}}for(var R=0;R<f;
R++){var _=C[R];for(var S=0;S<_.length;S+=2)_[S+1]=A(U,R,_[S])}return[U,C]};function P(h,m,Z,u){var f=a.j(Z);
for(var R=0;R<u;R++){var U=h[R];if(U==0||U==255)f[m[R]]=2-(U>>>7)}return f}a.rR.asp=function(h,m,Z,u,f,U,C){var H=m*Z,t=C[0],X=C[1],Q=new UnionFind(u),D=P(f,h,u,H),L=-1,E=!0,_=0;
for(var R=0;R<u;R++)if(D[R]==1){if(L==-1)L=R;else Q.link(R,L)}if(L==-1){for(var R=0;R<H;R++)U[R]=f[R]==255?255:0;
return}while(E){while(E){E=!1;for(var R=0;R<u;R++){if(D[R]==0){var S=y(X[R]);if(D[S]==1){D[R]=D[S];E=!0;
Q.link(R,S)}}}}E=!0;_=0;while(E){E=!1;for(var R=0;R<u;R++){if(D[R]==0){var S=y(X[R]);if(D[S]==0){var W=R*4400,g=S*4400;
for(var x=0;x<4400;x+=2){t[W+x]+=t[g+x];t[W+x+1]+=t[g+x+1]}F(X,t,R,S);_++;D[S]=3;E=!0;Q.link(R,S)}}}}E=_!=0}var V=Q.find(L);
for(var R=0;R<u;R++)D[R]=Q.find(R)==V?255:0;for(var R=0;R<H;R++){U[R]=D[h[R]]}for(var R=0;R<H;R++){var S=f[R];
if(S==0||S==255)U[R]=S}};function y(h){var m=0,Z=0,u=h.length;for(var f=0;f<u;f+=2){var U=h[f+1];if(U>Z){Z=U;
m=f}}return h[m]}function F(h,m,Z,u){var f=h[Z],U=h[u];O(f,M(f,u));O(U,M(U,Z));for(var R=0;R<U.length;
R+=2){var C=U[R],H=h[C];O(H,M(H,u));if(M(H,Z)==-1){H.push(Z,0);f.push(C,0)}}for(var R=0;R<f.length;R+=2){var C=f[R],H=h[C],t=A(m,Z,C);
f[R+1]=t;H[M(H,Z)+1]=t}}function A(h,m,Z){var u=0,f=4096,U=m*4400,C=Z*4400;for(var H=0;H<16;H++){if(h[U+4360+H]==0||h[C+4360+H]==0)continue;
for(var t=0;t<16;t++){var X=H<<4|t;if(h[U+4100+X]==0||h[C+4100+X]==0)continue;var Q=U+(X<<4),D=C+(X<<4);
for(var R=0;R<16;R++)u+=Math.sqrt(h[Q+R]*h[D+R])}}var L=u/Math.sqrt(h[U+f]*h[C+f]);return~~(999.99999*L)}}());
a.rR.Q_=function(){var s,M,O,A=0,h=0;function P(C,H,t){var X=[],Q=t,D=t,L=t>>>2;for(var E=0;E<H;E++)for(var _=0;
_<C;_++){var S=~~((_+.5)*Q),W=~~((E+.5)*D),g=1e9,x=Math.max(0,S-L),V=Math.min(M,S+L+1),b=Math.max(0,W-L),N=Math.min(O,W+L+1);
for(var J=b;J<N;J++)for(var K=x;K<V;K++){var q=y(K,J);if(q<g){S=K;W=J;g=q}}X.push(S,W)}return X}function y(C,H){var t=(H*M+C)*4,X=M*4,Q=F(t-4,t)+F(t,t+4),D=F(t-X,t)+F(t,t+X);
return Q+D}function F(C,H){var t=s[C]-s[H],X=s[C+1]-s[H+1],Q=s[C+2]-s[H+2];return t*t+X*X+Q*Q}function m(C,H,t,X){h++;
if(X<A)A=X;C[X].push(H,t)}function Z(C){h--;while(C[A].length==0)A++}function u(C,H,t,X,Q){var D=(t*M+H)*4,L=X[Q+5],E=1/L,_=s[D]*L-X[Q],S=s[D+1]*L-X[Q+1],W=s[D+2]*L-X[Q+2],g=H*L-X[Q+3],x=t*L-X[Q+4],V=Math.sqrt(_*_+S*S+W*W),b=Math.sqrt(g*g+x*x);
return~~((V+C*b)*E+.5)}function f(C,H,t,X,Q){s=C;M=H;O=t;A=0;h=0;var D=M*O,L=Math.round(Math.min(M,O)/(X?X:30));
if(L==0)L=1;var E=(Q?Q:30)/L,_=Math.floor(M/L),S=Math.floor(O/L),W=new Uint16Array(D);for(var R=0;R<D;
R++)W[R]=65535;var g=P(_,S,L),x=g.length>>>1;if(x>65535)throw x;var V=new Uint32Array(x*6),b=[];for(var R=0;
R<1e3+O;R++)b.push([]);var N=1e3*700/(M*O),J=Math.floor(S*N);J=Math.min(S,Math.max(4,J));J=S;var V=new Uint32Array(x*6);
for(var K=0;K<S;K+=J){var q=Math.min(K+J,S);for(var d=K;d<q;d++)for(var l=0;l<_;l++){var R=d*_+l;m(b,g[R*2+1]<<16|g[R*2],R,0)}var T=Math.min(O,q*L);
if(K+J>=S)T=O;U(V,b,W,E,T)}s=null;return{EL:W,fB:x,$S:V,a09:E}}function U(C,H,t,X,Q){while(h!=0){Z(H);
var D=H[A].pop(),L=H[A].pop(),E=L>>>16,_=L&65535,R=E*M+_;if(t[R]==null)throw"e";if(t[R]==65535){var S=D*6,W=R<<2;
t[R]=D;C[S]+=s[W];C[S+1]+=s[W+1];C[S+2]+=s[W+2];C[S+3]+=_;C[S+4]+=E;C[S+5]++;if(E!=Q-1&&t[R+M]==65535)m(H,E+1<<16|_,D,u(X,_,E+1,C,S));
if(E!=0&&t[R-M]==65535)m(H,E-1<<16|_,D,u(X,_,E-1,C,S));if(_!=0&&t[R-1]==65535)m(H,E<<16|_-1,D,u(X,_-1,E,C,S));
if(_!=M-1&&t[R+1]==65535)m(H,E<<16|_+1,D,u(X,_+1,E,C,S))}}}f.OM=function(C,H,t,X,Q,D){s=C;M=H;O=t;var L=X.fB=X.fB+1,E=X.EL,_=X.$S,S=X.$S=new Uint32Array(L*6);
S.set(_,0);var W=E[Q[1]*M+Q[0]];for(var R=0;R<E.length;R++)if(E[R]==W)E[R]=65535;for(var R=0;R<6;R++)S[W*6+R]=0;
var g=[];for(var R=0;R<1e3+O;R++)g.push([]);for(var R=0;R<Q.length;R+=2)m(g,Q[R+1]<<16|Q[R],W,0);for(var R=0;
R<D.length;R+=2)m(g,D[R+1]<<16|D[R],L-1,0);U(S,g,E,X.a09,O);s=null};return f}();a.avk={};a.avk.a04=function(){var s=11,M=7,O=s>>>1,hS=M>>>1,P=2,y=2e3/P,F=[],h=null,m="";
function A(u,f,U){var C=(u[f+0]-u[U+0])*(1/255),H=(u[f+1]-u[U+1])*(1/255),t=(u[f+2]-u[U+2])*(1/255),X=(u[f+3]-u[U+3])*(1/255),Q=C*C*.125+H*H*.25+t*t*.5+X*X;
return F[~~(Q*y)]}function Z(u,f,U,C,H,t){var X=Date.now(),Q=a.j(f*U);a.K1(u,Q);var D=UZIP.adler(Q,0,f*U);
if(D!=m){var L=a.Md(Q,f,U);h=a.j(f*U*4);m=D;var E=[1,1/9,1/25,1/49,1/81];for(var _=0;_<U;_++)for(var S=0;
S<f;S++)for(var R=0;R<4;R++){var W=Math.max(1,S-R),g=Math.min(f-1,S+R),x=Math.max(1,_-R),V=Math.min(U-1,_+R),b=a.jv(L,f,W,g,x,V);
if(isNaN(b))throw S+","+_+","+R+","+b;h[(_*f+S)*4+R]=b*E[R]}}if(ci.Qh){var N=ci.w2(0,f,U);N.set(u);var J=ci.w2(1,f,U);
J.set(h);var K=ci.w2(2,f,U);ci.b2(K);ci.filter.Wm({I:ci.filter.aGM,Hd:new Float32Array([1/f,1/U]),ajZ:J.U9,a0x:H,ary:t},N.U9);
K.get(C)}else{for(var R=0;R<2e3;R++)F[R]=Math.exp(-(R/2e3)*P*(100+(1-H)*(1-H)*1e4));var q=hS+2;for(var _=q;
_<U-q;_++)for(var S=q;S<f-q;S++){var d=0,l=0,T=0,B=0;for(var p=0;p<s;p++)for(var I=0;I<s;I++){var w=S+I-O,e=_+p-O;
if(w==S&&e==_||w<q||e<q||w>=f-q||e>=U-q)continue;var G=A(h,(_*f+S)*4,(e*f+w)*4),j=e*f+w<<2;d+=G*u[j+0];
l+=G*u[j+1];T+=G*u[j+2];B+=G}if(B==0){continue}var o=1/B,r=(_*f+S)*4;C[r+0]=~~((1-t)*o*d+t*C[r+0]);C[r+1]=~~((1-t)*o*l+t*C[r+1]);
C[r+2]=~~((1-t)*o*T+t*C[r+2])}}}return Z}();a.a2J=function(){var s=6,M=s>>>1,O=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],P=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function y(t,X){var Q=!1,D=t.length,L=X[0],W=5,x=0,V=0;for(var R=1;R<D;R++)L=L.v8(X[R]);if((L.A&1)!=0)L.A++;
if((L.$&1)!=0)L.$++;var E=L.A,_=L.$,S=Math.max(E,_);while(S>>>W>8&&W<10)W++;var g=1<<W;if(E%g!=0)x=g-E%g;
if(_%g!=0)V=g-_%g;L.rX(x>>>1,V>>>1);E=L.A;_=L.$;if(E%g!=0||_%g!=0)throw"e";var b=Date.now(),N=[],J=a.j(L.C()),K=[],q=E*_,d=new Float32Array(E*_*2);
for(var R=0;R<D;R++){var l=X[R],T=a.j(l.C());a.K1(t[R],T);J.fill(0);a.TT(T,l,J,L);N.push(J.slice(0));
var B=l.x-L.x,p=l.y-L.y,I=B+l.A-2,w=p+l.$;for(var e=0;e<l.$;e++){var G=(e+p)*E;for(var j=0;j<B;j++)J[G+j]=J[G+B];
for(var j=I;j<E;j++)J[G+j]=J[G+I-1]}for(var j=0;j<E;j++){for(var e=0;e<p;e++)J[e*E+j]=J[p*E+j];for(var e=w;
e<_;e++)J[e*E+j]=J[(w-1)*E+j]}var o=new Float32Array(E*_*2);K.push(o);for(var r=0;r<q;r++)o[r*2]=J[r]*(1/255);
m(o,d,E,_,W);F(o,E,_,W)}if(Q)console.log("to gray, decompose",Date.now()-b);b=Date.now();var k=a.j(E*_);
for(var e=0;e<_;e++)for(var j=0;j<E;j++){var a7=0,Y=0,v=e*E+j<<1;for(var R=0;R<D;R++){var n=K[R],cm=n[v],a5=n[v+1],gP=cm*cm+a5*a5;
if(gP>Y){Y=gP;a7=R}}k[v>>>1]=a7}if(Q)console.log("max abs value",Date.now()-b);b=Date.now();A(k,E,_,W);
h(k,E,_);if(Q)console.log("denoise",Date.now()-b);b=Date.now();var cg=d.slice(0);for(var e=0;e<_;e++)for(var j=0;
j<E;j++){var R=e*E+j,v=R<<1,a9=K[k[R]];cg[v]=a9[v];cg[v+1]=a9[v+1]}Z(cg,d,E,_,W);if(Q)console.log("compose",Date.now()-b);
b=Date.now();for(var r=0;r<q;r++){var gP=cg[r*2]*255,a7=0,Y=1e9;for(var R=0;R<D;R++){var ew=Math.abs(N[R][r]-gP);
if(ew<Y){Y=ew;a7=R}N[R][r]=0}N[a7][r]=255}if(Q)console.log("toRGB",Date.now()-b);b=Date.now();return[N,L]}function F(t,X,Q,D){var L=X>>>D,E=Q>>>D,_=1e-4;
for(var S=0;S<Q;S++)for(var W=0;W<X;W++){if(W<L&&S<E)continue;var g=(S*X+W)*2,x=t[g],V=t[g+1],b=x*x+V*V;
if(b<_)x=V=0;else{var N=(b-_)/b;x*=N;V*=N}t[g]=x;t[g+1]=V}}function A(t,X,Q,D){for(var L=0;L<D;L++){var E=X>>>L,_=Q>>>L,S=E>>>1,W=_>>>1;
for(var g=0;g<W;g++)for(var x=0;x<S;x++){var V=g*X+S+x,b=(g+W)*X+S+x,N=(g+W)*X+x,J=t[V],K=t[b],q=t[N];
if(J==K==q){}else if(J==K)t[N]=J;else if(K==q)t[V]=K;else if(J==q)t[b]=J}}}function h(t,X,Q){for(var D=1;
D<Q-1;D++)for(var L=1;L<X-1;L++){var R=D*X+L,E=t[R-X],_=t[R-1],S=t[R],W=t[R+1],g=t[R+X],x=E==_&&E==W||E==W&&W==g||W==g&&_==g||E==_&&g==_;
if(x)t[R]=E==_?E:_==W?_:E;else if(S>E&&S>_&&S>W&&S>g)t[R]=E+_+W+g>>>2;else if(S<E&&S<_&&S<W&&S<g)t[R]=E+_+W+g>>>2}}function m(t,X,Q,D,L){for(var R=0;
R<L;R++){var E=Q>>>R,_=D>>>R;u(t,X,Q,D,E,_)}}function Z(t,X,Q,D,L){for(var R=L-1;R>=0;R--){var E=Q>>R,_=D>>R;
f(t,X,Q,D,E,_)}}function u(t,X,Q,D,L,E){C(t,X,Q,D,L,E,!0);C(X,t,Q,D,L,E,!1)}function f(t,X,Q,D,L,E){H(t,X,Q,D,L,E,!0);
H(X,t,Q,D,L,E,!1)}function U(t,X,Q,D,L,E){var _=Q*D+X<<1;t[_]=L;t[_+1]=E}function C(t,X,Q,D,L,E,_){var d4=_?L:E,S=_?E:L,W=S>>>1;
for(var g=0;g<d4;g++){for(var x=0;x<S;x+=2){var V=0,b=0,N=0,J=0,K=x>>>1;for(var q=0;q<6;q++){var d=x+q-3;
if(d<0)d=S+d;if(d>=S)d=d-S;var l=(_?d*Q+g:g*Q+d)<<1,T=t[l],B=t[l+1],p=O[q],I=P[q];V+=T*p[0]-B*p[1];b+=B*p[0]+T*p[1];
N+=T*I[0]-B*I[1];J+=B*I[0]+T*I[1]}if(_){U(X,g,K,Q,V,b);U(X,g,K+W,Q,N,J)}else{U(X,K,g,Q,V,b);U(X,K+W,g,Q,N,J)}}}}function H(t,X,Q,D,L,E,_){var d4=_?L:E,S=_?E:L,W=S>>>1,g,x,V,b;
for(var N=0;N<d4;N++){for(var J=0;J<S;J++){var K=0,q=0;for(var d=J+3&1;d<6;d+=2){var l=J-d+3>>1;if(l<0)l=W+l;
if(l>=W)l=l-W;if(_){g=N;x=l;V=N;b=l+W}else{x=N;g=l;b=N;V=l+W}var T=x*Q+g<<1,B=b*Q+V<<1,p=t[T],I=t[T+1],w=t[B],e=t[B+1],G=O[d],j=P[d];
K+=p*G[0]+w*j[0];K+=I*G[1]+e*j[1];q+=I*G[0]+e*j[0];q-=p*G[1]+w*j[1]}if(_)U(X,N,J,Q,K,q);else U(X,J,N,Q,K,q)}}}return{YY:y}}();
a.ao7=function(){var s=Math.floor(12e3/8),M,O,P,y;function F(f,U,C,H){var t=UPNG.quantize.findNearest,X=[f,new gi(0,0,U,C)],D;
a.pT(X);var Q=Date.now(),L=U+C>>>1;for(var R=L<1e3?2:4;R>=0;R-=2){var E=X[R+1],O=E.A,P=E.$;if(D==null){D=new Uint8Array(O*P);
t(X[R],D,H)}A(X[R],O,P,H,D);if(R!=0){var _=X[R-1],S=_.A,W=_.$,g=new Uint8Array(S*W);for(var x=0;x<W;
x++)for(var V=0;V<S;V++)g[x*S+V]=D[(x>>>1)*O+(V>>>1)];D=g}}return D}function A(f,U,C,H,t){M=f;O=U;P=C;
y=H;var X=y.length>>>2,Q=[-1,-O,1,O],D=[-1,-O,-O+1,2,O+1,O],L=[-1,-O,1,O+1,O+O,O-1],E=8,_=O+P>>>1,S=1e9;
while(_>512){E>>=1;_>>=1}E=Math.max(1,Math.min(4,E));for(var W=0;W<E;W++){var g=0;for(var x=0;x<P;x++)for(var V=0;
V<O;V++){if(Z(t,V,x)<2)continue;var b=x*O+V,N=t[b],J=1e9,K=0,q=V==0||x==0||V>O-3||x>P-3;if(q){J=1e9;
for(var R=0;R<X;R++){t[b]=R;var d=u(t,V,x,2);if(d<J){J=d;K=R}}t[b]=K;if(K==N&&V+1<O&&t[b+1]==N){J=1e9;
for(var R=0;R<X;R++){t[b]=t[b+1]=R;var d=u(t,V,x,2)+u(t,V+1,x,2);if(d<J){J=d;K=R}}t[b]=t[b+1]=K}if(K==N&&x+1<P&&t[b+O]==N){J=1e9;
for(var R=0;R<X;R++){t[b]=t[b+O]=R;var d=u(t,V,x,2)+u(t,V,x+1,2);if(d<J){J=d;K=R}}t[b]=t[b+O]=K}}else{J=1e9;
K=-1;for(var R=0;R<4;R++){var l=t[b+Q[R]];if(l==K)continue;t[b]=l;var d=u(t,V,x,2);if(d<J){J=d;K=l}}t[b]=K;
if(K==N&&V+1<O&&t[b+1]==N){J=1e9;K=-1;for(var R=0;R<6;R++){var l=t[b+D[R]];if(l==K)continue;t[b]=t[b+1]=l;
var d=u(t,V,x,2)+u(t,V+1,x,2);if(d<J){J=d;K=l}}t[b]=t[b+1]=K}if(K==N&&x+1<P&&t[b+O]==N){J=1e9;K=-1;for(var R=0;
R<6;R++){var l=t[b+L[R]];if(l==K)continue;t[b]=t[b+O]=l;var d=u(t,V,x,2)+u(t,V,x+1,2);if(d<J){J=d;K=l}}t[b]=t[b+O]=K}}g+=J}}}function h(f){var U=0;
for(var C=0;C<P;C++)for(var H=0;H<O;H++)U+=u(f,H,C,1);return U/(O*P)}function m(f,U,C){var R=C*O+U,H=R*4,t=f[R]*4,X=M[H]-y[t],Q=M[H+1]-y[t+1],D=M[H+2]-y[t+2],L=M[H+3]-y[t+3];
return X*X+Q*Q+D*D+L*L}function Z(f,U,C){if(U<0||U>=O||C<0||C>=P)throw"e";var R=C*O+U,H=f[R],t=0;if(C>0&&H!=f[R-O])t+=2;
if(U>0&&H!=f[R-1])t+=2;if(U<O-1&&H!=f[R+1])t+=2;if(C<P-1&&H!=f[R+O])t+=2;if(C>0&&U>0&&H!=f[R-O-1])t++;
if(C<P-1&&U>0&&H!=f[R+O-1])t++;if(C>0&&U<O-1&&H!=f[R-O+1])t++;if(C<P-1&&U<O-1&&H!=f[R+O+1])t++;return t}function u(f,U,C,H){return m(f,U,C)+Z(f,U,C)*H*s}return F}();
var iq=function(){function s(){this.C=0;this.fj=0;this.L9={};this.L_=[];this.rg=1e5;this.HZ=1e5;this.EH=-1;
this.mP=-1;this.color=0}function M(hS){this.s=hS;this.OT=new Array(hS);this.xN=new Array(hS*6);this.aCW=0;
this.tr=new Array(hS*2);this.alpha=new Array(hS);this.Qf=new Array(hS);this.xz=new Array(hS)}function O(y,F,A,h){function m(X,Q,y,F){return y[F*Q+X]}function Z(R){var W=y.length;
while(R<W&&y[R]==0)R++;return R<W?R:-1}function u(X,Q,W){for(var R=2;R<5;R++){var g=0;for(var x=-R+1;
x<=R-1;x++){g+=m(X+x,Q+R-1,y,F)==W?1:-1;g+=m(X+R-1,Q+x-1,y,F)==W?1:-1;g+=m(X+x-1,Q-R,y,F)==W?1:-1;g+=m(X-R,Q+x,y,F)==W?1:-1}if(g>0)return 1;
else if(g<0)return 0}return 0}function f(W,H){var t=new s,X=W,Q=H,g=0,x=1,V;t.color=y[H*F+W];t.sign=m(W,H,y,F)==t.color?"+":"-";
while(1){t.L_.push(X,Q);if(X>t.EH)t.EH=X;if(X<t.rg)t.rg=X;if(Q>t.mP)t.mP=Q;if(Q<t.HZ)t.HZ=Q;t.fj++;X+=g;
Q+=x;t.C-=X*x;if(X==W&&Q==H)break;var b=m(X+(g+x-1>>1),Q+(x-g-1>>1),y,F)==t.color,N=m(X+(g-x-1>>1),Q+(x+g-1>>1),y,F)==t.color;
if(N&&!b){if(h.pN=="right"||h.pN=="black"&&t.sign=="+"||h.pN=="white"&&t.sign=="-"||h.pN=="majority"&&u(X,Q,t.color)||h.pN=="minority"&&!u(X,Q,t.color)){V=g;
g=-x;x=V}else{V=g;g=x;x=-V}}else if(N){V=g;g=-x;x=V}else if(!b){V=g;g=x;x=-V}}return t}var U=0,C=[];
while(!0){var U=Z(U);if(U==-1)break;var H=Math.floor(U/F),t=f(U-H*F,H);for(var R=0;R<t.L_.length-2;R+=2){var X=t.L_[R],Q=t.L_[R+1],D=Q*F+X;
if(X==t.L_[R+2]&&Q+1==t.L_[R+3]&&y[D]!=0)iq.fill(D,y,F,0)}if(t.C>h.au0)C.push(t)}for(var R=0;R<C.length;
R++)C[R].parent=-1;var L=Date.now();for(var R=1;R<C.length;R++){var E=C[R];for(var _=R-1;_>=0;_--){var S=C[_];
if(E.rg<S.rg||E.EH>S.EH||E.HZ<S.HZ||E.mP>S.mP)continue;if(!iq.tD(S.L_,E.L_[0]+.5,E.L_[1]+.5))continue;
E.parent=_;break}}return C}function P(y,F){function A(g,x,V,b,N){this.x=g;this.y=x;this.sf=V;this.fE=b;
this.p9=N}function h(g,hS){return(hS+g)%hS}function m(g,x,V,b){return g*b-V*x}function Z(g,x,V,b){return g*V+x*b}function u(g,x,V){if(g<=V)return g<=x&&x<V;
else return g<=x||x<V}function f(g,x,V){var b=0;b+=x*g[0]*x;b+=x*g[1]*V;b+=x*g[2];b+=V*g[3]*x;b+=V*g[4]*V;
b+=V*g[5];b+=g[6]*x;b+=g[7]*V;b+=g[8];return b}function U(g,x,V){return x+g*(V-x)}function C(g,x,V,b){var N=Math.sign(V-g),J=-Math.sign(b-x);
return N*(V-g)-J*(b-x)}function H(g,x){return Math.sqrt(g*g+x*x)}function t(g,x,V,b,N){var J=1-g;return J*J*J*x+3*(J*J*g)*V+3*(g*g*J)*b+g*g*g*N}function X(g,x,V,b,N,J,K,q){var d=m(g,x,K,q),l=m(V,b,K,q),T=m(N,J,K,q),B=d-2*l+T,p=-2*d+2*l,I=d,w=p*p-4*B*I;
if(B==0||w<0)return-1;var e=Math.sqrt(w),G=(-p+e)/(2*B),j=(-p-e)/(2*B);if(G>=0&&G<=1)return G;else if(j>=0&&j<=1)return j;
else return-1}function Q(W){var R,g,x;W.J6=W.L_[0];W.ahd=W.L_[1];W.XA=[];var V=W.XA;V.push(new A(0,0,0,0,0));
for(R=0;R<W.fj;R++){g=W.L_[R<<1]-W.J6;x=W.L_[(R<<1)+1]-W.ahd;V.push(new A(V[R].x+g,V[R].y+x,V[R].sf+g*x,V[R].fE+g*g,V[R].p9+x*x))}}function D(W){var hS=W.fj,g=W.L_,x,V=new Array(hS),b=new Array(hS),N=new Array(4),J,K,q,d,l,T,B,p,I,w,e,R,G,j,o,r,k,a7,Y=0;
W.QA=new Array(hS);for(R=hS-1;R>=0;R--){if(g[R<<1]!=g[Y<<1]&&g[(R<<1)+1]!=g[(Y<<1)+1])Y=R+1;b[R]=Y}for(R=hS-1;
R>=0;R--){var v=h(R+1,hS)<<1;N[0]=N[1]=N[2]=N[3]=0;x=(3+3*(g[v]-g[R<<1])+(g[v+1]-g[(R<<1)+1]))/2;N[x]++;
J=0;K=0;q=0;d=0;Y=b[R];j=R;while(1){e=0;x=(3+3*Math.sign(g[Y*2]-g[j*2])+Math.sign(g[Y*2+1]-g[j*2+1]))/2;
N[x]++;if(N[0]&&N[1]&&N[2]&&N[3]){V[R]=j;e=1;break}I=g[Y*2]-g[R*2];w=g[Y*2+1]-g[R*2+1];if(m(J,K,I,w)<0||m(q,d,I,w)>0){break}if(Math.abs(I)<=1&&Math.abs(w)<=1){}else{l=I+(w>=0&&(w>0||I<0)?1:-1);
T=w+(I<=0&&(I<0||w<0)?1:-1);if(m(J,K,l,T)>=0){J=l;K=T}l=I+(w<=0&&(w<0||I<0)?1:-1);T=w+(I>=0&&(I>0||w<0)?1:-1);
if(m(q,d,l,T)<=0){q=l;d=T}}j=Y;Y=b[j];if(!u(Y,R,j)){break}}if(e==0){B=Math.sign(g[Y*2]-g[j*2]);p=Math.sign(g[Y*2+1]-g[j*2+1]);
I=g[j*2]-g[R*2];w=g[j*2+1]-g[R*2+1];o=m(J,K,I,w);r=m(J,K,B,p);k=m(q,d,I,w);a7=m(q,d,B,p);G=1e7;if(r<0){G=Math.floor(o/-r)}if(a7>0){G=Math.min(G,Math.floor(-k/a7))}V[R]=h(j+G,hS)}}G=V[hS-1];
W.QA[hS-1]=G;for(R=hS-2;R>=0;R--){if(u(R+1,V[R],G)){G=V[R]}W.QA[R]=G}for(R=hS-1;u(h(R+1,hS),G,W.QA[R]);
R--){W.QA[R]=G}}function L(W){function g(W,R,x){var hS=W.fj,I=W.L_,w=W.XA,e,G,j,o,r,b,k,a7,p,Y,v,n,cm,a5,gP=0;
if(x>=hS){x-=hS;gP=1}if(gP==0){e=w[x+1].x-w[R].x;G=w[x+1].y-w[R].y;o=w[x+1].fE-w[R].fE;j=w[x+1].sf-w[R].sf;
r=w[x+1].p9-w[R].p9;b=x+1-R}else{e=w[x+1].x-w[R].x+w[hS].x;G=w[x+1].y-w[R].y+w[hS].y;o=w[x+1].fE-w[R].fE+w[hS].fE;
j=w[x+1].sf-w[R].sf+w[hS].sf;r=w[x+1].p9-w[R].p9+w[hS].p9;b=x+1-R+hS}v=(I[R<<1]+I[x<<1])/2-I[0];n=(I[(R<<1)+1]+I[(x<<1)+1])/2-I[1];
a5=I[x<<1]-I[R<<1];cm=-(I[(x<<1)+1]-I[(R<<1)+1]);k=(o-2*e*v)/b+v*v;a7=(j-e*n-G*v)/b+v*n;p=(r-2*G*n)/b+n*n;
Y=cm*cm*k+2*cm*a5*a7+a5*a5*p;return Math.sqrt(Y)}var R,x,V,b,hS=W.fj,N=new Array(hS+1),J=new Array(hS+1),K=new Array(hS),q=new Array(hS+1),d=new Array(hS+1),l=new Array(hS+1),T,B,p;
for(R=0;R<hS;R++){p=h(W.QA[h(R-1,hS)]-1,hS);if(p==R){p=h(R+1,hS)}if(p<R){K[R]=hS}else{K[R]=p}}x=1;for(R=0;
R<hS;R++){while(x<=K[R]){q[x]=R;x++}}R=0;for(x=0;R<hS;x++){d[x]=R;R=K[R]}d[x]=hS;V=x;R=hS;for(x=V;x>0;
x--){l[x]=R;R=q[R]}l[0]=0;N[0]=0;for(x=1;x<=V;x++){for(R=l[x];R<=d[x];R++){B=-1;for(b=d[x-1];b>=q[R];
b--){T=g(W,b,R)+N[b];if(B<0||T<B){J[R]=b;B=T}}N[R]=B}}W.r=V;W.aei=new Array(V);for(R=hS,x=V-1;R>0;x--){R=J[R];
W.aei[x]=R}}function E(W){function g(W,R,T,K,q,cg){var hS=W.fj,a9=W.XA,ew=0,p;while(T>=hS){T-=hS;ew+=1}while(R>=hS){R-=hS;
ew-=1}while(T<0){T+=hS;ew-=1}while(R<0){R+=hS;ew+=1}var h7=a9[T+1].x-a9[R].x+ew*a9[hS].x,bh=a9[T+1].y-a9[R].y+ew*a9[hS].y,ba=a9[T+1].fE-a9[R].fE+ew*a9[hS].fE,jx=a9[T+1].sf-a9[R].sf+ew*a9[hS].sf,c4=a9[T+1].p9-a9[R].p9+ew*a9[hS].p9,B=T+1-R+ew*hS;
K[cg]=h7/B;K[cg+1]=bh/B;var bq=(ba-h7*h7/B)/B,di=(jx-h7*bh/B)/B,il=(c4-bh*bh/B)/B,j0=(bq+il+Math.sqrt((bq-il)*(bq-il)+4*di*di))/2;
bq-=j0;il-=j0;if(Math.abs(bq)>=Math.abs(il)){p=Math.sqrt(bq*bq+di*di);if(p!=0){q[cg]=-di/p;q[cg+1]=bq/p}}else{p=Math.sqrt(il*il+di*di);
if(p!=0){q[cg]=-il/p;q[cg+1]=di/p}}if(p==0){q[cg]=q[cg+1]=0}}var x=W.r,V=W.aei,hS=W.fj,b=W.L_,N=W.J6,J=W.ahd,K=new Array(x*2),q=new Array(x*2),d=new Array(x),l=new Array(3),R,T,B,p,G,j,o,r,k,a7,Y;
W.L9=new M(x);for(R=0;R<x;R++){T=V[h(R+1,x)];T=h(T-V[R],hS)+V[R];K[R<<1]=0;K[(R<<1)+1]=0;q[R<<1]=0;q[(R<<1)+1]=0;
g(W,V[R],T,K,q,R<<1)}for(R=0;R<x;R++){d[R]=[0,0,0,0,0,0,0,0,0];var I=q[R<<1]*q[R<<1]+q[(R<<1)+1]*q[(R<<1)+1],w=1/I;
if(I!=0){l[0]=q[(R<<1)+1];l[1]=-q[R<<1];l[2]=-l[1]*K[(R<<1)+1]-l[0]*K[R<<1];for(p=0;p<3;p++){d[R][p*3+0]=l[p]*l[0]*w;
d[R][p*3+1]=l[p]*l[1]*w;d[R][p*3+2]=l[p]*l[2]*w}}}var e=[0,0,0,0,0,0,0,0,0];for(R=0;R<x;R++){e[0]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=0;
var v=b[V[R]<<1]-N,n=b[(V[R]<<1)+1]-J,cm=0,a5=0;T=h(R-1,x);for(p=0;p<9;p+=3){e[p+0]=d[T][p+0]+d[R][p+0];
e[p+1]=d[T][p+1]+d[R][p+1];e[p+2]=d[T][p+2]+d[R][p+2]}while(1){var gP=e[0]*e[4]-e[1]*e[3];if(gP!=0){cm=(-e[2]*e[4]+e[5]*e[0])/gP;
a5=(e[2]*e[3]-e[5]*e[0])/gP;break}if(e[0]>e[4]){l[0]=-e[1];l[1]=e[0]}else if(e[4]){l[0]=-e[4];l[1]=e[3]}else{l[0]=1;
l[1]=0}var I=l[0]*l[0]+l[1]*l[1],w=1/I;l[2]=-l[1]*n-l[0]*v;for(p=0;p<3;p++){e[p*3+0]+=l[p]*l[0]*w;e[p*3+1]+=l[p]*l[1]*w;
e[p*3+2]+=l[p]*l[2]*w}}G=Math.abs(cm-v);j=Math.abs(a5-n);if(G<=.5&&j<=.5){W.L9.tr[R<<1]=cm+N;W.L9.tr[(R<<1)+1]=a5+J;
continue}o=f(e,v,n);k=v;a7=n;if(e[0]!=0){for(Y=0;Y<2;Y++){a5=n-.5+Y;cm=-(e[1]*a5+e[2])/e[0];G=Math.abs(cm-v);
r=f(e,cm,a5);if(G<=.5&&r<o){o=r;k=cm;a7=a5}}}if(e[4]!=0){for(Y=0;Y<2;Y++){cm=v-.5+Y;a5=-(e[3]*cm+e[5])/e[4];
j=Math.abs(a5-n);r=f(e,cm,a5);if(j<=.5&&r<o){o=r;k=cm;a7=a5}}}for(p=0;p<2;p++){for(B=0;B<2;B++){cm=v-.5+p;
a5=n-.5+B;r=f(e,cm,a5);if(r<o){o=r;k=cm;a7=a5}}}W.L9.tr[R<<1]=k+N;W.L9.tr[(R<<1)+1]=a7+J}}function _(W){var g=W.L9.s,x=W.L9,R,V,b,N,J,K,q,d,l;
for(R=0;R<g;R++){V=h(R+1,g);b=h(R+2,g);var T=x.tr[R<<1],B=x.tr[(R<<1)+1],p=x.tr[b<<1],I=x.tr[(b<<1)+1],w=x.tr[V<<1],e=x.tr[(V<<1)+1],G=U(.5,p,w),j=U(.5,I,e);
J=C(T,B,p,I);if(J!=0){N=m(w-T,e-B,p-T,I-B)/J;N=Math.abs(N);K=N>1?1-1/N:0;K=K*(1/.75)}else{K=4/3}x.Qf[V]=K;
var o=3*V<<1;if(K>=F.agx){x.OT[V]=0;x.xN[o+0]=x.xN[o+1]=0;x.xN[o+2]=w;x.xN[o+3]=e;x.xN[o+4]=G;x.xN[o+5]=j}else{if(K<.55){K=.55}else if(K>1){K=1}var r=.5+.5*K;
x.OT[V]=1;x.xN[o]=U(r,T,w);x.xN[o+1]=U(r,B,e);x.xN[o+2]=U(r,p,w);x.xN[o+3]=U(r,I,e);x.xN[o+4]=G;x.xN[o+5]=j}x.alpha[V]=K;
x.xz[V]=.5}x.avW=1}function S(W){function g(){this.At=0;this.U5=0;this.Nj=0;this.O$=0;this.lQ=0;this.t=0;
this.BP=0;this.alpha=0}function x(W,R,T,b5,b4,k,a7){var b=W.L9.s,lm=W.L9.xN,ix=W.L9.tr;if(R==T)return 1;
var jy=R,w=h(R+1,b),bz=h(jy+1,b),jx=ix[R<<1],c4=ix[(R<<1)+1],c5=ix[w<<1],k0=ix[(w<<1)+1],cd=k[bz];if(cd==0)return 1;
var fz=H(jx-c5,c4-k0);for(jy=bz;jy!=T;jy=bz){var bz=h(jy+1,b),fu=h(jy+2,b),c6=ix[bz<<1],k7=ix[(bz<<1)+1],hP=ix[fu<<1],e1=ix[(fu<<1)+1];
if(k[bz]!=cd)return 1;if(Math.sign(m(c5-jx,k0-c4,hP-c6,e1-k7))!=cd)return 1;if(Z(c5-jx,k0-c4,hP-c6,e1-k7)<fz*H(c6-hP,k7-e1)*-.999847695156)return 1}var fs=h(R,b)*3+2<<1,eh=h(R+1,b)<<1,gW=h(T,b)<<1,hk=h(T,b)*3+2<<1,cg=lm[fs],a9=lm[fs+1],jz=ix[eh],lh=ix[eh+1],ag=ix[gW],eo=ix[gW+1],aC=lm[hk],e8=lm[hk+1],Y=ix[0],v=ix[1];
fs=T*3+2<<1;var lb=lm[fs],jn=lm[fs+1],e=a7[T]-a7[R];e-=m(lb-Y,jn-v,lb-Y,jn-v)/2;if(R>=T){e+=a7[b]}var k3=jz-cg,cP=lh-a9,cV=ag-cg,l2=eo-a9,dS=aC-cg,gH=e8-a9,hd=m(k3,cP,cV,l2),bL=m(k3,cP,dS,gH),au=m(cV,l2,dS,gH),ev=hd+au-bL;
if(bL==hd)return 1;var r=au/(au-ev),o=bL/(bL-hd),eF=bL*r/2;if(eF==0)return 1;var fn=e/eF,G=2-Math.sqrt(4-fn/.3);
b5.U5=U(r*G,cg,jz);b5.Nj=U(r*G,a9,lh);b5.O$=U(o*G,aC,ag);b5.lQ=U(o*G,e8,eo);b5.alpha=G;b5.t=r;b5.BP=o;
jz=b5.U5;lh=b5.Nj;ag=b5.O$;eo=b5.lQ;b5.At=0;for(jy=h(R+1,b);jy!=T;jy=bz){bz=h(jy+1,b);var iu=ix[jy<<1],gz=ix[(jy<<1)+1],c6=ix[bz<<1],k7=ix[(bz<<1)+1];
r=X(jz-cg,lh-a9,ag-jz,eo-lh,aC-ag,e8-eo,c6-iu,k7-gz);if(r<-.5)return 1;var dL=t(r,cg,jz,ag,aC),dm=t(r,a9,lh,eo,e8),fz=H(c6-iu,k7-gz);
if(fz==0)return 1;var cM=m(c6-iu,k7-gz,dL-iu,dm-gz)/fz;if(Math.abs(cM)>b4)return 1;if(Z(c6-iu,k7-gz,dL-iu,dm-gz)<0||Z(iu-c6,gz-k7,dL-c6,dm-k7)<0){return 1}b5.At+=cM*cM}for(jy=R;
jy!=T;jy=bz){bz=h(jy+1,b);var fs=jy*3+2<<1,eh=bz*3+2<<1,l5=lm[fs],i3=lm[fs+1],eg=lm[eh],la=lm[eh+1];
r=X(jz-cg,lh-a9,ag-jz,eo-lh,aC-ag,e8-eo,eg-l5,la-i3);if(r<-.5)return 1;var dL=t(r,cg,jz,ag,aC),dm=t(r,a9,lh,eo,e8),fz=H(eg-l5,la-i3);
if(fz==0)return 1;var cM=m(eg-l5,la-i3,dL-l5,dm-i3)/fz,ea=m(eg-l5,la-i3,ix[bz<<1]-l5,ix[(bz<<1)+1]-i3)/fz;
ea*=.75*W.L9.alpha[bz];if(ea<0){cM=-cM;ea=-ea}if(cM<ea-b4)return 1;if(cM<ea){b5.At+=(cM-ea)*(cM-ea)}}return 0}var V=W.L9,b=V.s,N=V.tr,J=new Array(b+1),K=new Array(b+1),q=new Array(b+1),d=new Array(b+1),l,R,T,B,p=new g,I,w,e,G,j,o,r,k=new Array(b),a7=new Array(b+1);
for(R=0;R<b;R++){if(V.OT[R]=="CURVE"){var Y=N[h(R-1,b)<<1],v=N[(h(R-1,b)<<1)+1],n=N[R<<1],cm=N[(R<<1)+1],a5=N[h(R+1,b)<<1],gP=N[(h(R+1,b)<<1)+1];
k[R]=Math.sign(m(n-Y,cm-v,a5-n,gP-cm))}else{k[R]=0}}e=0;a7[0]=0;var cg=V.tr[0],a9=V.tr[1];for(R=0;R<b;
R++){w=h(R+1,b);if(V.OT[w]=="CURVE"){G=V.alpha[w];var ew=R*3+2<<1,h7=w*3+2<<1,bh=V.xN[ew],ba=V.xN[ew+1],jx=N[w<<1],c4=N[(w<<1)+1],bq=V.xN[h7],di=V.xN[h7+1];
e+=.3*G*(4-G)*m(jx-bh,c4-ba,bq-bh,di-ba)/2;e+=m(bh-cg,ba-a9,bq-cg,di-a9)/2}a7[R+1]=e}J[0]=-1;K[0]=0;
q[0]=0;for(T=1;T<=b;T++){J[T]=T-1;K[T]=K[T-1];q[T]=q[T-1]+1;for(R=T-2;R>=0;R--){B=x(W,R,h(T,b),p,F.aJu,k,a7);
if(B){break}if(q[T]>q[R]+1||q[T]==q[R]+1&&K[T]>K[R]+p.At){J[T]=R;K[T]=K[R]+p.At;q[T]=q[R]+1;d[T]=p;p=new g}}}l=q[b];
j=new M(l);o=new Array(l);r=new Array(l);T=b;for(R=l-1;R>=0;R--){var il=h(T,b),j0=R*3+0<<1,j1=il*3+0<<1;
if(J[T]==T-1){j.OT[R]=V.OT[il];j.xN[j0]=V.xN[j1];j.xN[j0+1]=V.xN[j1+1];j.xN[j0+2]=V.xN[j1+2];j.xN[j0+3]=V.xN[j1+3];
j.xN[j0+4]=V.xN[j1+4];j.xN[j0+5]=V.xN[j1+5];j.tr[R<<1]=V.tr[il<<1];j.tr[(R<<1)+1]=V.tr[(il<<1)+1];j.alpha[R]=V.alpha[il];
j.Qf[R]=V.Qf[il];j.xz[R]=V.xz[il];o[R]=r[R]=1}else{j.OT[R]="CURVE";j.xN[j0]=d[T].U5;j.xN[j0+1]=d[T].Nj;
j.xN[j0+2]=d[T].O$;j.xN[j0+3]=d[T].lQ;j.xN[j0+4]=V.xN[j1+4];j.xN[j0+5]=V.xN[j1+5];j.tr[R<<1]=U(d[T].BP,V.xN[j1+4],N[il<<1]);
j.tr[(R<<1)+1]=U(d[T].BP,V.xN[j1+5],N[(il<<1)+1]);j.alpha[R]=d[T].alpha;j.Qf[R]=d[T].alpha;o[R]=d[T].BP;
r[R]=d[T].t}T=J[T]}for(R=0;R<l;R++){w=h(R+1,l);j.xz[R]=o[R]/(o[R]+r[w])}j.avW=1;W.L9=j}for(var R=0;R<y.length;
R++){var W=y[R];Q(W);D(W);L(W);E(W);_(W);if(F.abp)S(W)}}return{a2d:O,ak6:P}}();iq.Lm=function(s,M,O,P){var y={pN:"minority",au0:P,abp:!0,agx:1,aJu:.2},F=iq.a2d(s,M,O,y);
iq.ak6(F,y);return F};iq.Iv=function(s){var M=[];for(var R=0;R<s.length;R++){var O=s[R],P=O.L9,y=["M"],F=[P.xN[(P.s-1)*6+4],P.xN[(P.s-1)*6+5]];
for(var A=0;A<P.s;A++){var h=A*6;if(P.OT[A]==1){y.push("C");for(var m=0;m<6;m++)F.push(P.xN[h+m])}else if(P.OT[A]==0){y.push("L");
for(var m=2;m<4;m++)F.push(P.xN[h+m])}}y.push("Z");M.push({parent:O.parent,color:O.color,path:{L:F,J8:y}})}return M};
iq.tD=function(s,M,O){var hS=s.length>>1,P,y=s[2*hS-3]-O,F=s[2*hS-2]-M,A=s[2*hS-1]-O,h=A>y,m=0;for(var R=0;
R<hS;R++){P=F;y=A;F=s[2*R]-M;A=s[2*R+1]-O;if(y==A)continue;h=A>y}for(var R=0;R<hS;R++){P=F;y=A;F=s[2*R]-M;
A=s[2*R+1]-O;if(y<0&&A<0)continue;if(y>0&&A>0)continue;if(P<0&&F<0)continue;if(y==A&&Math.min(P,F)<=0)return!0;
if(y==A)continue;var Z=P+(F-P)*-y/(A-y);if(Z==0)return!0;if(Z>0)m++;if(y==0&&h&&A>y)m--;if(y==0&&!h&&A<y)m--;
h=A>y}return(m&1)==1};iq.fill=function(s,M,O,P){var y=M[s],F=[s],A=0;while(A<F.length){var h=F[A];A++;
M[h]=P;if(M[h-O]==y){F.push(h-O);M[h-O]=254}if(M[h-1]==y){F.push(h-1);M[h-1]=254}if(M[h+1]==y){F.push(h+1);
M[h+1]=254}if(M[h+O]==y){F.push(h+O);M[h+O]=254}}};var d7=function(){function s(Z){return Math.max(0,Math.min(1,Z))}function M(Z,u){var f=u<0?-u:u;
if(Z>1)Z=.99;Z=Z*.99;var U=Math.pow(f/5,.16),C=Math.pow(2,f<1?f:1+(f-1)*.8);if(u<0)C=1/C;Z=U*(1-Math.pow(1-Z,C))+(1-U)*Z;
return Z}function O(Z,u){var f=u/100;Z=Z*.99;Z=f*(.5-.5*Math.cos(Z*Math.PI))+(1-f)*Z;return Z}function P(Z,u){var f=u*.01,U=Math.abs(f);
if(u<0)Z=Math.max(0,-U*.33+Z*(1+U*.33));else{var C=.25+.15*U;if(Z<.25)Z*=C/.25;else Z=C+(1-C)*((Z-.25)/(1-.25))}return Z}function y(Z,u){if(u<0)Z=Z*(1+862e-6*u);
else Z=Z*(1+.012*u);return Z}var F=a.rD.Hb(1,1,1,-.3),A=a.rD.or(F);function h(Z,u,f,U,C,H,t,X,Q){var D=Z[f],L=Z[f+1],E=Z[f+2],_=a.rD.YO(F,[D,L,E,1]);
D=_[0];L=_[1];E=_[2];D=M(D,U);L=M(L,U);E=M(E,U);var _=a.rD.YO(A,[D,L,E,1]);D=_[0];L=_[1];E=_[2];D=s(D);
L=s(L);E=s(E);D=O(D,C);L=O(L,C);E=O(E,C);D=P(D,t);L=P(L,t);E=P(E,t);D=y(D,H);L=y(L,H);E=y(E,H);var S=g4.aKv(D,L,E,X);
D=S[0];L=S[1];E=S[2];D=s(D);L=s(L);E=s(E);if(Q){var W=new Uint8Array(4);W[0]=~~(.5+D*255);W[1]=~~(.5+L*255);
W[2]=~~(.5+E*255);ak.Vj(Q,W,W,new gi(0,0,1,1));D=W[0]/255;L=W[1]/255;E=W[2]/255}u[f]=D;u[f+1]=L;u[f+2]=E}function m(Z,u,f,U,C){var H=C.Ex12?C.Ex12.v:0,t=C.Cr12?C.Cr12.v:0,X=C.Wh12?C.Wh12.v:0,Q=C.Bk12?C.Bk12.v:0,D=C.Temp?C.Temp.v:0,L=C.Tint?C.Tint.v:0,E=C.Vibr?C.Vibr.v:0,_=C.Strt?C.Strt.v:0,S=g4.da(D,L),W=null;
H+=S.a29;if(E!=0||_!=0)W=ak.QC("vibA",{Strt:C.Strt,vibrance:C.Vibr});console.log(C);var g=Date.now();
if(U!=Z)U.set(Z);if(H!=0||t!=0||X!=0||Q!=0||D!=0||L!=0||W){console.log(H,t,X,Q,D,L,W);var x=17,V=1/(x-1),b=x*x*x,N=new Array(b*3);
for(var J=0;J<x;J++)for(var K=0;K<x;K++)for(var q=0;q<x;q++){var R=J*x*x+K*x+q,d=R*3;N[d]=J*V;N[d+1]=K*V;
N[d+2]=q*V}for(var R=0;R<b;R++)h(N,N,R*3,H,t,X,Q,S,W);console.log(Date.now()-g,"making LUT");g=Date.now();
ICC.U.applyLUT(N,x,U,U);console.log(Date.now()-g,"applying LUT");g=Date.now()}var l=(C.Hi12?C.Hi12.v:0)*.01,T=(C.Sh12?C.Sh12.v:0)*.01;
if(l!=0||T!=0){var g=Date.now(),B=!1,p=a.j(u*f,32),I=U.length,w=.3,e=.59,G=.11;for(var R=0;R<I;R+=4){var j=U[R+0]*w+U[R+1]*e+U[R+2]*G;
p[R>>2]=j<.3?T*3*(.3-j):l*.7*(j-.3)}if(B)console.log(0,Date.now()-g);g=Date.now();a.er.SO(p,new gi(0,0,u,f),8);
if(B)console.log(1,Date.now()-g);g=Date.now();for(var o=0;o<f;o++)for(var r=0;r<u;r++){var R=o*u+r,k=R*4,a7=1+p[R];
U[k]=s(U[k]*a7);U[k+1]=s(U[k+1]*a7);U[k+2]=s(U[k+2]*a7)}if(B)console.log(2,Date.now()-g,u,f);g=Date.now()}var Y=(C.CrTx?C.CrTx.v:0)*.01,v=(C.Cl12?C.Cl12.v:0)*.01,n=(C.Dhze?C.Dhze.v:0)*.01;
if(Y!=0||v!=0){var p=a.j(u*f,32);for(var R=0;R<U.length;R+=4)p[R>>2]=(U[R+0]+U[R+1]+U[R+2])*.333333;
var cm=p.slice(0);a.er.SO(cm,new gi(0,0,u,f),16);if(B)console.log(1,Date.now()-g);g=Date.now();for(var o=0;
o<f;o++)for(var r=0;r<u;r++){var R=o*u+r,k=R*4,j=p[R],a5=cm[R],J=U[k],K=U[k+1],q=U[k+2],gP=a5+(j-a5)*(1+Y*.3)-j;
J=J+gP;K=K+gP;q=q+gP;J=J*(1+v*(j-a5));K=K*(1+v*(j-a5));q=q*(1+v*(j-a5));U[k]=s(J);U[k+1]=s(K);U[k+2]=s(q)}}var cg=u*f;
if(n!=0){var g=Date.now(),a9=a.j(cg),bh=0;for(var R=0;R<cg;R++){var k=R<<2;a9[R]=~~(255*Math.min(U[k],U[k+1],U[k+2]))}var ew=Math.round(Math.min(u,f)/80),h7=a9.slice(0);
a.qd.YY(h7,a9,u,f,ew);a.er.SO(a9,new gi(0,0,u,f),ew);var ba=-1;for(var R=0;R<cg;R++)if(a9[R]>ba){ba=a9[R];
bh=R}var jx=U[bh*4],c4=U[bh*4+1],bq=U[bh*4+2],di=(jx+c4+bq)/3;for(var R=0;R<cg;R++){var k=R*4,il=a9[R]/255,j0=1-n*il,j1=1/Math.max(j0,.1);
U[k]=s((U[k]-jx)*j1+jx);U[k+1]=s((U[k+1]-c4)*j1+c4);U[k+2]=s((U[k+2]-bq)*j1+bq)}}}return m}();function i$(){}i$.kM=function(s,M){var O=new Uint8Array(s),P=0,y=M.split("/").pop().split(".")[0];
function F(X){for(var R=0;R<X.length;R++)X[R].v.Nm.v=y+"/"+X[R].v.Nm.v.split("/").pop()}var A={nt:[],hx:[],list:[]},h=c.m4(O,P);
P+=2;if(h<=2){A=i$.aIe(O);F(A.list);return A}var m=c.m4(O,P);P+=2;var Z=c.Db(O,P,8);P+=8;var u=c.h4(O,P);
P+=4;if(u>0)A.nt=i$.am9(O,P,u,m,h);P+=u;var f=c.Db(O,P,8);P+=8;var U=c.h4(O,P);P+=4;if(U>0)A.hx=d8.i2(O,P,U);
P+=U;var C=c.Db(O,P,8);P+=8;var H=c.h4(O,P);P+=4;if(H>0){var t={};by.vU(O,t,P+4);A.list=t.Brsh.v}P+=H;
var X=A.list;for(var R=0;R<X.length;R++){fO.Oi.check(X[R].v)}F(X);return A};i$.I5=function(s,M){s.v.Nm.v=M};
i$.aIe=function(s){var M={nt:[],hx:[],list:[]},O=0,P=c.m4(s,O);O+=2;var y=c.m4(s,O);O+=2;for(var R=0;
R<y;R++){var F=c.m4(s,O);O+=2;var A=c.h4(s,O);O+=4;var h=O;if(F==2){var m={};M.nt.push(m);var Z=c.h4(s,h);
h+=4;var u=c.m4(s,h);h+=2;if(P==2){var f=c.KS(s,h);h+=4+f.length*2+2}m.id=fr.iY()+"-d71c-11e5-b1ae-a548a96e5f9f";
h++;h+=8;m.Iz=c._l(s,h);h+=16;var U=c.m4(s,h);h+=2;var C=s[h];h++;var H=jR.BH(!1,U,s,m.Iz.A,m.Iz.$,h,C);
H=a.Gp(H,8);i$.aoJ(m,H);var t=fO.Av(m.id),X=t.Brsh.v;X.Dmtr.v.val=m.Iz.A;X.Spcn.v.val=u;M.list.push({t:"Objc",v:t})}O+=A}return M};
i$.mK=function(s){var M=new jY,O=0,P=0;c.Yz(M,O,6);O+=2;c.Yz(M,O,2);O+=2;var y={},F=[],A={},h=[];for(var R=0;
R<s.list.length;R++){var m=s.list[R].v,Z=m.Brsh.v;if(Z.classID=="sampledBrush")y[Z.sampledData.v]=!0;
if(m.Txtr)A[m.Txtr.v.Idnt.v]=!0}for(var R=0;R<s.nt.length;R++)if(y[s.nt[R].id])F.push(s.nt[R]);for(var R=0;
R<s.hx.length;R++)if(y[s.hx[R].id])h.push(s.hx[R]);c.qe(M,O,"8BIMsamp");O+=8;O+=4;P=O;O=i$.aH1(M,O,F);
c.kE(M,P-4,O-P);c.qe(M,O,"8BIMpatt");O+=8;O+=4;P=O;O=d8.za(M,O,h);c.kE(M,P-4,O-P);var u=a.G(s.list);
for(var R=0;R<u.length;R++)u[R].v.Nm.v=u[R].v.Nm.v.split("/").pop();var f={classID:"null",Brsh:{t:"VlLs",v:u}};
c.qe(M,O,"8BIMdesc");O+=8;O+=4;P=O;c.kE(M,O,16);O+=4;O+=by.C3(M,f,O);c.kE(M,P-4,O-P);return M.data.slice(0,O).buffer};
i$.am9=function(s,M,O,P,y){var F=c.h4,A=c._l,h=M+O,m=[];while(M<h){var Z={};m.push(Z);var u=F(s,M);M+=4;
var f=M,U=c.VJ(s,M);M+=U.length;Z.id=U.P2;if(P==1){M+=9;Z.Iz=A(s,M);M+=16}else{M+=7;var C=F(s,M);M+=4;
Z.Iz=A(s,M);M+=16;var H=F(s,M);M+=4;M+=H*4;var t=F(s,M);M+=4;var X=F(s,M);M+=4;var Q=A(s,M);M+=16}var D=c.m4(s,M);
M+=2;var L=s[M];M+=1;var E=jR.BH(!1,D,s,Z.Iz.A,Z.Iz.$,M,L);E=a.Gp(E,8);i$.aoJ(Z,E);if(u%4!=0)u+=4-u%4;
M=f+u}return m};i$.aoJ=function(s,M){var O=s.Iz.v();O.x=O.y=0;s.ah=[M,O]};i$.aH1=function(s,M,O){var P=c.kE,y=c.ww;
for(var R=0;R<O.length;R++){var F=O[R],A=M+4,m=56,u=1;M+=4;c.D2(s,M,F.id);M+=F.id.length+2;s.Qv(M,1);
s.data[M]=1;M+=3;P(s,M,3);M+=4;var h=M;M+=4;y(s,M,F.Iz);M+=16;P(s,M,m);M+=4;M+=m*4;P(s,M-4,1);var Z=M;
M+=4;P(s,M,8);M+=4;y(s,M,F.Iz);M+=16;c.Yz(s,M,8);M+=2;s.Qv(M,1);s.data[M]=u;M++;var f=F.ah[0];s.Qv(M,F.Iz.C()*2);
M=jR.i5(!1,f,s.data,F.Iz.A,F.Iz.$,M,u);s.Qv(M,8);M+=8;var U=M-A;P(s,A-4,U);P(s,h,U-49);P(s,Z,U-305);
if(U%4!=0)M+=4-U%4}return M};function ef(){}ef.kM=function(s,M){var O=new Uint8Array(s),P=[],y=0,F=c.m4(O,y);
y+=2;if(F!=4){throw"Unknown version of curves: "+F}var A=c.m4(O,y);y+=2;for(var R=0;R<A;R++){var h=ef.afb(O,y);
y+=2+2*h.length;P.push(h)}if(y!=O.length){var m=c.Db(O,y,4);y+=4;var Z=c.m4(O,y);y+=2;var u=c.m4(O,y);
y+=2;if(u!=0)throw"extra curves for channels"}var f=ef.agf(P,0);f.presetKind={t:"long",v:3};f.presetFileName={t:"TEXT",v:M.split("/").pop().split(".")[0]};
return[f]};ef.Ic=function(s,M,O,P){var y=P?c.je:c.h4,F=M,A=[],h=s[M];M+=3;var m=y(s,M);M+=4;for(var R=0;
R<4;R++){var Z=m>>>R&1;if(Z){if(h==0){var u=ef.afb(s,M,P);M+=2+2*u.length}else{var u=ef.a0t(s,M);M+=256}A.push(u)}else A.push(h==0?[0,0,255,255]:ef.aou())}var f=ef.agf(A,h);
return f};ef.agf=function(s,M){var O=bW.Jb("curv");for(var R=0;R<4;R++){if(M==0){var P=s[R],y=[];for(var F=0;
F<P.length;F+=2)y.push(a.Vt.db(P[F],P[F+1],!0));ef.lB(O,R,y)}else ef.lB(O,R,s[R])}return O};ef.xB=function(s,M,O){var P=[];
for(var R=0;R<4;R++){var y=ef.n0(O,R);if(y.length==256)P.push(y);else{var F=[];for(var A=0;A<y.length;
A++)F.push(y[A].v.Hrzn.v,y[A].v.Vrtc.v);P.push(F)}}var h=M,m=P[0].length==256?1:0;s.Qv(M,3);s.data[M]=m;
s.data[M+1]=0;s.data[M+2]=1;M+=3;c.kE(s,M,15);M+=4;for(var R=0;R<4;R++){var Z=P[R];if(m==0){ef.ago(s,M,Z);
M+=2+2*Z.length}else{ef.afi(s,M,Z);M+=256}}return M-h};ef.aou=function(){var s=[];for(var R=0;R<256;
R++)s.push(R);return s};ef.lB=function(s,M,O){var P=fY.MC("CrvA",M);if(O.length<256)P.Crv={t:"VlLs",v:O};
else{P.Mpng={t:"VlLs",v:[]};for(var R=0;R<256;R++)P.Mpng.v[R]={t:"long",v:O[R]}}P={t:"Objc",v:P};if(s.Adjs==null)s.Adjs={t:"VlLs",v:[]};
var y=s.Adjs.v,F=fY.Ea(y,M);if(F==-1)y.push(P);else y[F]=P};ef.n0=function(s,M){var O=s.Adjs?s.Adjs.v:[],P=fY.Ea(O,M);
if(P==-1){if(O.length==0||O[0].v.Crv)return[a.Vt.db(0,0,!0),a.Vt.db(255,255,!0)];if(O[0].v.autoMachineLearning||O[0].v.AuCo)return[a.Vt.db(0,0,!0),a.Vt.db(128,160,!0),a.Vt.db(255,255,!0)];
var y=[];for(var R=0;R<256;R++)y.push(R);return y}var F=O[P].v;if(F.Crv)return F.Crv.v;if(F.Mpng){var y=[];
for(var R=0;R<256;R++)y.push(F.Mpng.v[R].v);return y}return[a.Vt.db(0,0,!0),a.Vt.db(255,255,!0)]};ef.afb=function(s,M,O){var P=O?c.vJ:c.m4,y=[],F=P(s,M);
M+=2;for(var A=0;A<F;A++){var h=P(s,M);M+=2;var m=P(s,M);M+=2;y.push(m,h)}return y};ef.ago=function(s,M,O){var P=O.length/2;
c.Yz(s,M,P);M+=2;for(var y=0;y<P;y++){c.Yz(s,M,O[y*2+1]);M+=2;c.Yz(s,M,O[y*2+0]);M+=2}};ef.a0t=function(s,M){var O=[];
for(var R=0;R<256;R++)O.push(s[M+R]);return O};ef.afi=function(s,M,O){s.Qv(M,256);for(var R=0;R<256;
R++)s.data[M+R]=O[R]};function aU(){}aU.Ic=function(s,M,O,P){var y={},F=P?c.vJ:c.m4,A=P?c.Sw:c.VQ,h=F(s,M);
M+=2;y.Ad=s[M]==1;M++;M++;y.Mm=[A(s,M),A(s,M+2),A(s,M+4)];M+=6;y.as=[A(s,M),A(s,M+2),A(s,M+4)];M+=6;
y.TC=[];for(var R=0;R<6;R++){var m={};m.lc=[A(s,M),A(s,M+2),A(s,M+4),A(s,M+6)];M+=8;m.GQ=[A(s,M),A(s,M+2),A(s,M+4)];
M+=6;y.TC.push(m)}var Z=bW.Jb("hue2"),u=y;if(Z.Clrz==null)Z.Clrz={t:"bool",v:!1};Z.Clrz.v=u.Ad;for(var R=0;
R<7;R++){var f=R==0?u.Ad?u.Mm:u.as:u.TC[R-1];aU.lB(Z,R,f)}return Z};aU.apD=function(s){return{classID:"Hst2",H:{t:"long",v:s[0]},Strt:{t:"long",v:s[1]},Lght:{t:"long",v:s[2]}}};
aU.Ea=function(s,M){for(var R=0;R<s.length;R++){var O=s[R].v.LclR;if(M==0&&O==null||O!=null&&O.v==M)return R}return-1};
aU.lB=function(s,M,O){var P=M==0?O:O.GQ,y=aU.apD(P);if(M!=0){var F=O.lc;y.LclR={t:"long",v:M},y.BgnR={t:"long",v:F[0]};
y.BgnS={t:"long",v:F[1]};y.EndS={t:"long",v:F[2]};y.EndR={t:"long",v:F[3]}}y={t:"Objc",v:y};var A=s.Adjs.v,h=aU.Ea(A,M);
if(h==-1)A.push(y);else A[h]=y};aU.n0=function(s,M){var O=s.Adjs.v,P=aU.Ea(O,M);if(P==-1){if(M==0)return[0,0,0];
else return[{lc:[315,345,15,45],GQ:[0,0,0]},{lc:[15,45,75,105],GQ:[0,0,0]},{lc:[75,105,135,165],GQ:[0,0,0]},{lc:[135,165,195,225],GQ:[0,0,0]},{lc:[195,225,255,285],GQ:[0,0,0]},{lc:[255,285,315,345],GQ:[0,0,0]}][M-1]}var y=O[P].v,F=[y.H.v,y.Strt.v,y.Lght.v];
if(M==0)return F;return{GQ:F,lc:[y.BgnR.v,y.BgnS.v,y.EndS.v,y.EndR.v]}};aU.xB=function(s,M,O){var P={Ad:O.Clrz?O.Clrz.v:!1,TC:[]};
P.Mm=P.as=aU.n0(O,0);for(var R=1;R<7;R++)P.TC.push(aU.n0(O,R));var y=2+2+12+6*14,F=s.data;s.Qv(M,y);
c.gz(F,M,2);M+=2;F[M]=P.Ad?1:0;M++;M++;c.pd(F,M+0,P.Mm[0]);c.pd(F,M+2,P.Mm[1]);c.pd(F,M+4,P.Mm[2]);M+=6;
c.pd(F,M+0,P.as[0]);c.pd(F,M+2,P.as[1]);c.pd(F,M+4,P.as[2]);M+=6;for(var R=0;R<6;R++){var A=P.TC[R].lc,h=P.TC[R].GQ;
c.pd(F,M+0,A[0]);c.pd(F,M+2,A[1]);c.pd(F,M+4,A[2]);c.pd(F,M+6,A[3]);M+=8;c.pd(F,M+0,h[0]);c.pd(F,M+2,h[1]);
c.pd(F,M+4,h[2]);M+=6}return y};function fY(){}fY.kM=function(s,M){var O=new Uint8Array(s),P=2,y=M?c.vJ:c.m4,F=[];
for(var R=0;R<29;R++){var A=[];F.push(A);for(var h=0;h<5;h++)A.push(y(O,P+R*10+h*2))}P+=29*10;if(P<O.length){var m=c.Q$(O,P,M);
P+=4;var Z=y(O,P);P+=2;var u=y(O,P);P+=2;var f=u-29;for(var R=0;R<f;R++){var A=[];F.push(A);for(var h=0;
h<5;h++)A.push(y(O,P+R*10+h*2))}}var U=bW.Jb("levl");for(var R=0;R<4;R++)fY.lB(U,R,F[R]);return U};fY.MC=function(s,R){var M=["Cmps","Rd","Grn","Bl"],O={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:M[R]}}]};
return{classID:s,Chnl:O}};fY.Ea=function(s,M){var O={Cmps:0,Rd:1,Grn:2,Bl:3};for(var R=0;R<s.length;
R++){var P=s[R].v,y=O[P.Chnl.v[0].v.enum];if(y==M)return R}return-1};fY.lB=function(s,M,O){var P=fY.MC("LvlA",M);
P.Inpt={t:"VlLs",v:[{t:"long",v:O[0]},{t:"long",v:O[1]}]};P.Otpt={t:"VlLs",v:[{t:"long",v:O[2]},{t:"long",v:O[3]}]};
P.Gmm={t:"doub",v:O[4]/100};P={t:"Objc",v:P};var y=s.Adjs.v,F=fY.Ea(y,M);if(F==-1)y.push(P);else y[F]=P};
fY.n0=function(s,M){var O=[0,255,0,255,100],P=s.Adjs.v,y=fY.Ea(P,M);if(y==-1)return O;var F=P[y].v;if(F.Inpt){O[0]=F.Inpt.v[0].v;
O[1]=F.Inpt.v[1].v}if(F.Otpt){O[2]=F.Otpt.v[0].v;O[3]=F.Otpt.v[1].v}if(F.Gmm){O[4]=Math.round(F.Gmm.v*100)}return O};
fY.mK=function(s,M){var O=[],P=0;for(var R=0;R<4;R++)O.push(fY.n0(M,R));while(O.length<29)O.push([0,255,0,255,100]);
s.Qv(0,2+10*29);c.gz(s.data,P,2);P+=2;for(var R=0;R<29;R++){var y=O[R];for(var F=0;F<5;F++)c.gz(s.data,P+R*10+F*2,y[F])}P+=29*10;
if(O.length==29)return P;s.Qv(P,8+10*(O.length-29));c.Eu(s.data,P,"Lvls");P+=4;c.gz(s.data,P,3);P+=2;
c.gz(s.data,P,O.length);P+=2;var A=O.length-29;for(var R=0;R<A;R++){var y=O[29+R];for(var F=0;F<5;F++)c.gz(s.data,P+R*10+F*2,y[F])}P+=10*A;
return P};function hX(){}hX.kM=function(s,M){var O=new Uint8Array(s),P=2,y=M.split("/").pop().split(".")[0],F={PJ:[],B5:[]},A=c.Db(O,P,4);
P+=4;var h=c.m4(O,P);P+=2;var m=c.h4(O,P);P+=4;F.PJ=d8.i2(O,P,m);P+=m;var Z=c.h4(O,P);P+=4;for(var R=0;
R<Z;R++){var u=c.h4(O,P);P+=4;var f=P,U={wA:{},bN:{}};F.B5.push(U);P+=4;P+=by.vU(O,U.wA,P);U.wA.Nm.v=y+"/"+U.wA.Nm.v.split("=").pop();
P+=4;P+=by.vU(O,U.bN,P);P=f+u;var C=U.bN.blendOptions,H=U.bN.Lefx;if(C&&Object.keys(C.v).length>1){}if(H){if(H.v.masterFXSwitch==null)H.v.masterFXSwitch={t:"bool",v:!0};
bG.Iw(H.v)}}return F};hX.I5=function(s,M){s.wA.Nm.v=M};hX.mK=function(s){var M=new jY,O=0;c.Yz(M,O,2);
O+=2;c.qe(M,O,"8BSL");O+=4;c.Yz(M,O,3);O+=2;var P=O;O+=4;O=d8.za(M,O,s.PJ);c.kE(M,P,O-P-4);var y=s.B5.length;
c.kE(M,O,y);O+=4;for(var R=0;R<y;R++){O+=4;var F=O,A=s.B5[R];c.kE(M,O,16);O+=4;var h=A.wA.Nm.v;A.wA.Nm.v=A.wA.Nm.v.split("/").pop();
O+=by.C3(M,A.wA,O);A.wA.Nm.v=h;var m=A.bN.Lefx;if(m){A.bN.Lefx=a.G(m);bG.xH(A.bN.Lefx.v)}c.kE(M,O,16);
O+=4;O+=by.C3(M,A.bN,O);if(m)A.bN.Lefx=m;c.kE(M,F-4,O-F)}return M.data.slice(0,O).buffer};function kT(){}kT.Ic=function(s,M,O,P){var y=P?c.vJ:c.m4,F=P?c.Sw:c.VQ,A=y(s,M);
M+=2;var h={};h.fc=y(s,M)==1;M+=2;h.nQ=[];for(var R=0;R<10;R++){var m=[];h.nQ.push(m);for(var Z=0;Z<4;
Z++)m.push(F(s,M+Z*2));M+=8}var u=bW.Jb("selc");u.Mthd.v.CrcM=h.fc?"Absl":"Rltv";for(var R=1;R<10;R++)kT.lB(u,R-1,h.nQ[R]);
return u};kT.V$="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");kT.MC=function(s,R){var M=["Cmps","Rd","Grn","Bl"],O={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:M[R]}}]};
return{classID:s,Chnl:O}};kT.Ea=function(s,M){var O=kT.V$;for(var R=0;R<s.length;R++){var P=s[R].v,y=O.indexOf(P.Clrs.v.Clrs);
if(y==M)return R}return-1};kT.lB=function(s,M,O){var P=["Cyn","Mgnt","Ylw","Blck"],y={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:kT.V$[M]}}};
for(var F=0;F<4;F++)y[P[F]]={t:"UntF",v:{type:"#Prc",val:O[F]}};y={t:"Objc",v:y};var A=s.ClrC.v,h=kT.Ea(A,M);
if(h==-1)A.push(y);else A[h]=y};kT.n0=function(s,M){var O=[0,0,0,0],P=s.ClrC.v,y=kT.Ea(P,M);if(y==-1)return O;
var F=["Cyn","Mgnt","Ylw","Blck"];for(var R=0;R<4;R++)if(P[y].v[F[R]])O[R]=P[y].v[F[R]].v.val;return O};
kT.xB=function(s,M,O){var P={fc:O.Mthd.v.CrcM=="Absl",nQ:[[0,0,0,0]]};for(var R=0;R<9;R++)P.nQ.push(kT.n0(O,R));
s.Qv(M,84);c.gz(s.data,M,1);M+=2;c.gz(s.data,M,P.fc?1:0);M+=2;for(var R=0;R<10;R++){var y=P.nQ[R];for(var F=0;
F<4;F++)c.pd(s.data,M+F*2,y[F]);M+=8}return 84};function dM(){}dM.Jb=function(){return{rC:new gi(0,0,50,50),wA:"",Bj:"play",u:a.z.uU.Fr([.1,.1,.9,.5,.1,.9],0)}};
dM.kM=function(s,M){s=new Uint8Array(s);var O=0,P=[],y=M.split("/").pop().split(".")[0],F=Date.now(),A=c.Db(s,0,4);
O+=4;var h=c.h4(s,O);O+=4;var m=c.h4(s,O);O+=4;for(var R=0;R<m;R++){var Z=c.KS(s,O);O+=Z.length*2+4+2;
if((Z.length&1)==0)O+=2;O=dM.aka(s,O,Z,P);P[R].Bj=y+"/"+P[R].Bj}return P};dM.aka=function(s,M,O,P){var y=c.h4(s,M);
M+=4;var F=c.h4(s,M);M+=4;var A=M,h=c.VJ(s,A).P2;A+=h.length+1;var m=c._l(s,A);A+=16;var Z=dM.F_(s,A,F-(A-M)),u=a.z.eJ(Z),f=a.b.hG(u),U=1/f.A,C=1/f.$;
a.z.R7(Z,new kp(U,0,0,C,-f.x*U,-f.y*C));P.push({Bj:O,wA:h,u:Z,rC:m});M+=F;return M};dM.I5=function(s,M){s.Bj=M};
dM.mK=function(s){var M=new jY,O=0;c.qe(M,O,"cush");O+=4;c.kE(M,O,2);O+=4;c.kE(M,O,s.length);O+=4;for(var R=0;
R<s.length;R++){var P=s[R],y=P.Bj.split("/").pop()+"\0";c.Qs(M,O,y);O+=4+y.length*2;if((y.length&1)==1)O+=2;
c.kE(M,O,1);O+=4;O+=4;var F=O;c.D2(M,O,P.wA);O+=P.wA.length+1;c.ww(M,O,P.rC);O+=16;M.Qv(O,P.u.length*26);
dM.ug(M.data,O,P.u,1,1);O+=P.u.length*26;var A=O-F;if((A&3)!=0)A+=4-(A&3);c.kE(M,F-4,A);O=F+A}return M.data.slice(0,O).buffer};
dM.aGl=function(s){var M=[];for(var R=0;R<s.length;R++){var O=s[R],P=O.I,y={type:P};M.push(y);if(P==6){}else if(P==8)y.all=O.all;
else if(P==0||P==3){y.length=O.length;y.boolop=O.VF;y.frule=O.gW;y.prmA=O.zm;y.prmB=O.fd}else{y.c=[O.Rb.x,O.Rb.y,O.nr.x,O.nr.y,O.XO.x,O.XO.y]}}return M};
dM.ayd=function(s){var M=[];for(var R=0;R<s.length;R++){var O=s[R],P=O.type,y={I:P};M.push(y);if(P==6){}else if(P==8)y.all=O.all;
else if(P==0||P==3){y.length=O.length;y.VF=O.boolop;y.gW=O.frule;y.zm=O.prmA;y.fd=O.prmB}else{var F=O.c;
y.Rb=new j6(F[0],F[1]);y.nr=new j6(F[2],F[3]);y.XO=new j6(F[4],F[5])}}return M};dM.F_=function(s,M,O,P,y,F){if(P==null)P=1;
if(y==null)y=1;var A=F?c.aEC:c.a95;function h(D,L,E){var _=A(D,L)*E,S=Math.round(_);return Math.abs(_-S)<1e-4?S:_}var m=F?c.Sw:c.VQ,Z=F?c.je:c.h4,u=[],f=Math.floor(O/26);
for(var R=0;R<f;R++){var U=M+R*26,C={},H=0;u.push(C);C.I=m(s,U);U+=2;if(C.I==6){H=24}if(C.I==8){C.all=m(s,U);
U+=2;H=22}if(C.I==0||C.I==3){C.length=m(s,U);U+=2;C.VF=m(s,U);U+=2;C.gW=m(s,U);U+=2;C.zm=Z(s,U);U+=4;
C.fd=Z(s,U);U+=4;H=10}if(C.I==1||C.I==2||C.I==4||C.I==5){var t,X;X=h(s,U,y);U+=4;t=h(s,U,P);U+=4;C.Rb=new j6(t,X);
X=h(s,U,y);U+=4;t=h(s,U,P);U+=4;C.nr=new j6(t,X);X=h(s,U,y);U+=4;t=h(s,U,P);U+=4;C.XO=new j6(t,X);H=0}for(var Q=0;
Q<H;Q++)if(s[U+Q]!=0){console.log("Unexpected non-zero byte!",C,Q,s[U+Q])}}return u};dM.ug=function(s,M,O,P,y){var F=c.pd,A=c.aa_,h=O.length;
for(var R=0;R<h;R++){var m=M+R*26,Z=O[R];F(s,m,Z.I);m+=2;if(Z.I==6){}if(Z.I==8)F(s,m,Z.all);if(Z.I==0||Z.I==3){F(s,m,Z.length);
m+=2;F(s,m,Z.VF);m+=2;F(s,m,Z.gW);m+=2}if(Z.I==1||Z.I==2||Z.I==4||Z.I==5){A(s,m,Z.Rb.y/y);m+=4;A(s,m,Z.Rb.x/P);
m+=4;A(s,m,Z.nr.y/y);m+=4;A(s,m,Z.nr.x/P);m+=4;A(s,m,Z.XO.y/y);m+=4;A(s,m,Z.XO.x/P);m+=4}}};function iy(){}iy.a92=function(s,M,O,P){var y=P.split(".")[0],F=!1;
if(M+3<s.length){var A={};bG.rK(s,M,s.length,A);var h=A.phry.hierarchy.v;if(h.length!=0){var m=[[]],Z=0;
for(var R=0;R<h.length;R++){var top=m[m.length-1],u=h[R].v,f=u.classID;if(f=="Grup"){var U=[];m.push(U);
top.push([u.Nm.v,null,U,!0])}else if(f=="preset"){top.push(O[Z]);Z++}else if(f=="groupEnd"){m.pop()}}var C=iy.Jo(m[0],iy);
return[[y,null,m[0],!0]]}else F=!0}else F=!0;if(F){for(var R=0;R<O.length;R++){var H=O[R][0].split("/");
if(H.length>1){y=H[H.length-2];O[R][0]=H.pop().split("=").pop()}}return[[y,null,O,!0]]}};iy.Jo=function(s,M){var O=[],P=[];
iy.hE(s,O,P);var y=new Uint8Array(M.mK(O)),F=new jY;F.Qv(0,y.length);F.data.set(y,0);var A={phry:{classID:"null",hierarchy:{t:"VlLs",v:P}}},h=bG.TW(F,y.length,A);
return F.data.slice(0,h)};iy.hE=function(s,M,O){for(var R=0;R<s.length;R++){var P=s[R];if(P[1]==null){O.push({t:"Objc",v:{classID:"Grup",Nm:{t:"TEXT",v:P[0]},zuid:{t:"TEXT",v:"0e93da90-b25e-9745-a55e-af1d4451561b"}}});
iy.hE(P[2],M,O);O.push({t:"Objc",v:{classID:"groupEnd"}})}else{O.push({t:"Objc",v:{classID:"preset"}});
M.push(P)}}};iy.kM=function(s,M){var O=new Uint8Array(s),P=[],y=0;if(c.Db(O,0,4)=="ASEF")y=iy.aF2(O,P);
else{y=iy.ay2(O,y,P);if(y+3<O.length){P=[];y=iy.ay2(O,y,P)}}return iy.a92(O,y,P,M)};iy.aF2=function(s,M){var O=8,P=c.h4(s,O),y,F=null,A,h,m,Z;
O+=4;for(var u=0;u<P;u++){var f=c.m4(s,O);O+=2;var U=c.h4(s,O);O+=4;var C=O+U;if(f==49153||f==1){var H=c.m4(s,O);
O+=2;var t=c.QY(s,O,H-1);O+=H*2;if(f==1)y=t;else F=t}if(f==1){var X=c.Db(s,O,4);O+=4;A=c.C6(s,O);O+=4;
h=c.C6(s,O);O+=4;m=c.C6(s,O);O+=4;if(X=="RGB "){}else if(X=="CMYK"){Z=c.C6(s,O);O+=4;var Q=UDOC.C.cmykToRgb([A,h,m,Z]);
A=Q[0];h=Q[1];m=Q[2]}else alert("Unknown color space: "+X);M.push([(F?F+" : ":"")+y,{o:A*255,R:h*255,X:m*255}])}O=C}return O};
iy.ay2=function(s,M,O){var P=c.m4,y=c.VQ,F=P(s,M);M+=2;var A=P(s,M);M+=2;for(var R=0;R<A;R++){var h=iy.K7(s,M),m="clr"+R;
M+=10;if(F==2){m=c.KS(s,M);M+=4+m.length*2+2}O.push([m,h])}return M};iy.K7=function(s,M,O){var P=O?c.vJ:c.m4,y=O?c.Sw:c.VQ,F=P(s,M),H=null;
M+=2;var A=P(s,M);M+=2;var h=P(s,M);M+=2;var m=P(s,M);M+=2;var Z=P(s,M);M+=2;var u=1/65535,f=255/65535,U=100/65535,C=255/1e4;
if(F==0)H={o:A*f,R:h*f,X:m*f};else if(F==1){H=a.rk(A*u,h*u,m*u);H.o*=255;H.R*=255;H.X*=255}else if(F==2)H=a.wv.sl({classID:"CMYC",Cyn:{t:"doub",v:100-A*U},Mgnt:{t:"doub",v:100-h*U},Ylw:{t:"doub",v:100-m*U},Blck:{t:"doub",v:100-Z*U}});
else if(F==7){var t=a.lU(A/100,y(s,M-6)/100,y(s,M-4)/100);H=t}else if(F==8){H={o:255-A*C,R:255-h*C,X:255-m*C}}else if(F==18){var X=255*A/16384;
H={o:X,R:X,X:X}}else if(F==65535)H={o:255,R:255,X:255};else{throw F}return H};iy.mK=function(s){var M=new jY,O=0,P=c.Yz;
for(var y=1;y<3;y++){P(M,O,y);O+=2;P(M,O,s.length);O+=2;for(var R=0;R<s.length;R++){var F=s[R];M.Qv(O,10);
iy.vh(M.data,O,F[1]);O+=10;if(y==2){var A=F[0]+"\0";c.Qs(M,O,A);O+=4+A.length*2}}}return M.data.slice(0,O).buffer};
iy.vh=function(s,M,O){var P=65535/255,y=c.gz;y(s,M,0);y(s,M+2,Math.round(O.o*P));y(s,M+4,Math.round(O.R*P));
y(s,M+6,Math.round(O.X*P));y(s,M+8,0)};iy.XB=function(s,M,O){var P=s[1],y=255<<24|P.X<<16|P.R<<8|P.o,F=new Uint32Array(M*O);
F.fill(y);var A=new Uint8Array(F.buffer),h=P.cd==null?1:P.cd/255;if(h!=1)for(var m=0;m<O;m++)for(var Z=0;
Z<M;Z++){var u=(m*M+Z)*4,f=255-50*((Z>>>3^m>>>3)&1);A[u]=h*P.o+(1-h)*f;A[u+1]=h*P.R+(1-h)*f;A[u+2]=h*P.X+(1-h)*f}var U=UPNG.encode([F.buffer],M,O);
return"data:image/png;base64,"+b_.lW(U)};function cQ(){}cQ.kM=function(s){var M=new Uint8Array(s),O=c.m4(M,256*3);
console.log(M);var P=[];for(var R=0;R<O;R++)P.push(["",{o:M[R*3],R:M[R*3+1],X:M[R*3+2],cd:255}]);return[P]};
cQ.mK=function(s){s=s[0];var M=new Uint8Array(256*3+4);c.gz(M,256*3,s.length);c.gz(M,256*3+2,65535);
for(var R=0;R<s.length;R++){var O=s[R][1];M[3*R]=O.o;M[3*R+1]=O.R;M[3*R+2]=O.X}return M.buffer};function dy(){}dy.kM=function(s){var M=new Uint8Array(s),O=4,P={};
P.SD=c.KS(M,O);O+=4+P.SD.length*2+2;P.exp=M[O++]==1;P.SB=[];var y=c.h4(M,O);O+=4;for(var R=0;R<y;R++){var F={};
P.SB.push(F);F.Fa=c.m4(M,O);O+=2;F.shift=M[O++]==1;F.auq=M[O++]==1;F.color=c.m4(M,O);O+=2;F.SD=c.KS(M,O);
O+=4+F.SD.length*2+2;F.exp=M[O++]==1;F.SB=[];var A=c.h4(M,O);O+=4;for(var h=0;h<A;h++){var m={};F.SB.push(m);
m.exp=M[O++]==1;m.e=M[O++]==1;m.aG0=M[O++]==1;m.aBt=M[O++];var Z=c.Db(M,O,4);O+=4;if(Z=="TEXT"){m.Cw=dy.a2n(M,O);
O+=4+m.Cw.length}else if(Z=="long"){m.Cw=c.Db(M,O,4);O+=4}else throw"e";m.nC=dy.a2n(M,O);O+=4+m.nC.length;
var u=c.VU(M,O);O+=4;if(u==-1){m.kT={};var f=by.vU(M,m.kT,O);O+=f}}}console.log(P);var U=new Uint8Array(dy.mK([P]));
for(var R=0;R<U.length;R++)if(U[R]!=M[R]&&c.Db(M,R+1,4)!="None"){console.log(M.length,U.length);var C=4*(R>>>2)-16;
console.log(c.DN(M,C,64));console.log(c.DN(U,C,64));console.log(M.slice(C,C+64));console.log(U.slice(C,C+64));
throw"i"}return[P]};dy.a2n=function(s,M){var O=c.h4(s,M);return c.Db(s,M+4,O)};dy.a5z=function(s,M,O){c.kE(s,M,O.length);
c.qe(s,M+4,O)};dy.mK=function(s){var M=s[0],O=new jY,P=0;c.kE(O,P,16);P+=4;c.Qs(O,P,M.SD+"\0");P+=4+M.SD.length*2+2;
O.Qv(P,1);O.data[P++]=M.exp?1:0;var y=M.SB.length;c.kE(O,P,y);P+=4;for(var R=0;R<y;R++){var F=M.SB[R];
c.Yz(O,P,F.Fa);P+=2;O.Qv(P,2);O.data[P++]=F.shift?1:0;O.data[P++]=F.auq?1:0;c.Yz(O,P,F.color);P+=2;c.Qs(O,P,F.SD+"\0");
P+=4+F.SD.length*2+2;O.Qv(P,1);O.data[P++]=F.exp?1:0;var A=F.SB.length;c.kE(O,P,A);P+=4;for(var h=0;
h<A;h++){var m=F.SB[h];O.Qv(P,4);O.data[P++]=m.exp?1:0;O.data[P++]=m.e?1:0;O.data[P++]=m.aG0?1:0;O.data[P++]=m.aBt;
var Z="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(m.Cw)!=-1;c.qe(O,P,Z?"long":"TEXT");
P+=4;if(!Z){dy.a5z(O,P,m.Cw);P+=4+m.Cw.length}else{c.qe(O,P,m.Cw);P+=4}dy.a5z(O,P,m.nC);P+=4+m.nC.length;
c.qD(O,P,m.kT?-1:0);P+=4;if(m.kT){var u=by.C3(O,m.kT,P);P+=u}}}return O.data.slice(0,P).buffer};function al(){}al.kM=function(s){var M=new Uint8Array(s),O=0,P=c.h4(M,O),m;
O+=4;var y=c.Db(M,O,8);O+=8;var F=c.je(M,O);O+=4;var A=c.je(M,O);O+=4;var h=c.je(M,O);O+=4;console.log(F,A,h);
if(P==2){m=new Float32Array(s,32,s.byteLength-32>>>2)}else if(P==3||P==4){m=new Float32Array(A*h*2);
var Z=0,u=0,f=!0;O=P==3?32:16+8+40;while(O<M.length){var U=c.je(M,O);O+=4;if(f)u+=U;else{for(var R=0;
R<U;R++){m[Z+u+R<<1]=c.Tz(M,O);m[(Z+u+R<<1)+1]=c.Tz(M,O+4);O+=8}u+=U}f=!f;if(U!=0&&u==A){Z+=A;u=0;f=!0;
if(Z==A*h)break}}}else throw"unknown Mesh version: "+P;return{V5:A,fw:h,map:m}};al.$a=function(s){var M=s.V5,O=s.fw,P=s.map,y=new Uint8Array(32+O*M*8+O*8),F=0,A=0;
c.FE(y,F,3);F+=4;c.Eu(y,F,"yfqLhseM");F+=8;c.rq(y,F,2);F+=4;c.rq(y,F,M);F+=4;c.rq(y,F,O);F+=4;c.rq(y,F,0);
F+=4;c.rq(y,F,1);F+=4;for(var h=0;h<O;h++){c.rq(y,F,0);F+=4;c.rq(y,F,M);F+=4;for(var m=0;m<M;m++){c.d_(y,F,P[A]);
c.d_(y,F+4,P[A+1]);A+=2;F+=8}}return y.buffer};function ko(){}ko.kM=function(s){var M=new Uint8Array(s),O=0,P=c.Db(M,O,4);
O+=4;var y=c.m4(M,O);O+=2;var F=c.h4(M,O);O+=4;var A=[];for(var R=0;R<F;R++){var h=c.h4(M,O);O+=4;var m={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
A.push(m);var Z=c.KS(M,O);m.Nm.v=Z;O+=4+Z.length*2+2;var u=c.m4(M,O);O+=2;var f=c.m4(M,O);O+=2;for(var U=0;
U<f;U++){var C=a.Vt.db(0,0,!0);C.v.Vrtc.v=c.m4(M,O);O+=2;C.v.Hrzn.v=c.m4(M,O);O+=2;m.Crv.v.push(C)}if(h==1){}else if(h==2){for(var U=0;
U<f;U++){m.Crv.v[U].v.Cnty.v=M[O]==1;O+=1}}else throw"error";var H=c.h4(M,O);O+=4;var t=c.h4(M,O);O+=4}return A};
ko.I5=function(s,M){s.Nm.v=M};ko.mK=function(s){var M=new jY,O=0;c.qe(M,O,"8BFS");O+=4;c.Yz(M,O,1);O+=2;
c.kE(M,O,s.length);O+=4;for(var R=0;R<s.length;R++){c.kE(M,O,2);O+=4;var P=s[R];c.Qs(M,O,P.Nm.v+"\0");
O+=4+P.Nm.v.length*2+2;c.Yz(M,O,2);O+=2;var y=P.Crv.v.length;c.Yz(M,O,y);O+=2;for(var F=0;F<y;F++){var A=P.Crv.v[F];
c.Yz(M,O,A.v.Vrtc.v);O+=2;c.Yz(M,O,A.v.Hrzn.v);O+=2}M.Qv(O,y);for(var F=0;F<y;F++){M.data[O]=P.Crv.v[F].v.Cnty.v;
O++}c.kE(M,O,0);O+=4;c.kE(M,O,0);O+=4}return M.data.slice(0,O).buffer};function d8(){}d8.kM=function(s,M){var O=new Uint8Array(s),P=4,y=M.split("/").pop().split(".")[0],F=c.m4(O,P);
P+=2;var A=c.h4(O,P);P+=4;var h=[];for(var R=0;R<A;R++){var m={};h.push(m);P=d8.ams(O,P,m);m.name=y+"/"+m.name.split("=").pop()}return h};
d8.I5=function(s,M){s.name=M};d8.mK=function(s){var M=new jY,O=0;c.qe(M,O,"8BPT");O+=4;c.Yz(M,O,1);O+=2;
c.kE(M,O,s.length);O+=4;for(var R=0;R<s.length;R++){var P=s[R],y=P.name;P.name=P.name.split("/").pop();
O=d8.aaR(M,O,P);P.name=y}return M.data.slice(0,O).buffer};d8.i2=function(s,M,O,P){var y=P?c.je:c.h4,F=M+O,A=[];
while(M<F){var h={},m=y(s,M);M+=4;var Z=M;M=d8.ams(s,M,h,P);if(!h.ah[1].g3())A.push(h);if(m%4!=0)m+=4-m%4;
M=Z+m}return A};d8.za=function(s,M,O){for(var R=0;R<O.length;R++){var P=O[R];M+=4;var y=M;M=d8.aaR(s,M,P);
var F=M-y;c.kE(s,y-4,F);if(F%4!=0)y+=4-F%4;M=y+F}return M};d8.ams=function(s,M,O,P){var y=P?c.je:c.h4,F=P?c.vJ:c.m4,A=P?c.Xb:c.KS,h=y(s,M);
M+=4;if(h!=1)alert("Unknown version of pattern");var m=y(s,M);M+=4;if(m!=1&&m!=2&&m!=3)console.log("Unsupported mode of pattern: "+m);
var Z=F(s,M);M+=2;var u=F(s,M);M+=2;var f=new gi(0,0,u,Z);O.name=A(s,M);M+=4+2*O.name.length+2;var U=s[M];
M++;O.id=c.Db(s,M,U);M+=O.id.length;var C=-1;if(m==2){C=M;M+=3*256+4}var H=new a.po(u*Z);M=d8.aFa(s,M,H,P);
if(f.C()>1e8){O.ah=[a.j(4),new gi(0,0,1,1)];return M}if(m==2){for(var R=0;R<H.o.length;R++){var t=3*H.o[R];
H.o[R]=s[C+t+0];H.R[R]=s[C+t+1];H.X[R]=s[C+t+2]}}var X=a.j(f.C()*4);a.oh(H,X);O.ah=[X,f];return M};d8.aaR=function(s,M,O){var P=O.ah[0],y=O.ah[1];
c.kE(s,M,1);M+=4;c.kE(s,M,3);M+=4;c.Yz(s,M,y.$);M+=2;c.Yz(s,M,y.A);M+=2;c.Qs(s,M,O.name+"\0");M+=4+2*O.name.length+2;
c.gG(s,M,O.id.length);M++;c.qe(s,M,O.id);M+=O.id.length;var F=new a.po(y.C());a.hv(P,F);M=d8.aia(s,M,F,y);
return M};d8.aFa=function(s,M,O,P){var y=P?c.je:c.h4,F=P?c.vJ:c.m4,A=M,h={Iz:null,P7:[],a3n:null,s6:null},m=y(s,M);
M+=4;var Z=y(s,M);M+=4;h.Iz=c._l(s,M,P);M+=16;var u=y(s,M);M+=4;for(var R=0;R<u+2;R++){var f=y(s,M);
M+=4;if(f==0)continue;var U=y(s,M);M+=4;if(U==0)continue;var C=y(s,M);M+=4;var H=c._l(s,M,P);M+=16;var t=F(s,M);
M+=2;var X=s[M];M++;var Q=jR.BH(!1,C,s,H.A,H.$,M,X,U,P);Q=a.Gp(Q,8);if(R<u)h.P7.push(Q);if(R==u)h.a3n=Q;
if(R==u+1)h.s6=Q;M+=U-23}if(!h.Iz.g3()){if(h.P7[0])O.o=h.P7[0];if(h.P7[1])O.R=h.P7[1];else O.R=h.P7[0].slice(0);
if(h.P7[2])O.X=h.P7[2];else O.X=h.P7[0].slice(0);if(h.s6)O.cd=h.s6;else O.cd.fill(255)}return M};d8.aia=function(s,M,O,P){var y=M,F={Iz:P,P7:[O.o,O.R,O.X],a3n:null,s6:O.cd};
c.kE(s,M,3);M+=4;c.kE(s,M,0);M+=4;c.ww(s,M,P);M+=16;c.kE(s,M,24);M+=4;for(var R=0;R<24+2;R++){var A=M,h=R<3||R==25?1:0;
c.kE(s,M,h);M+=4;if(h==0)continue;c.kE(s,M,0);M+=4;c.kE(s,M,8);M+=4;c.ww(s,M,P);M+=16;c.Yz(s,M,8);M+=2;
c.gG(s,M,1,1);M++;var m=R<3?F.P7[R]:F.s6;s.Qv(M,P.C()+2);M=jR.i5(!1,m,s.data,P.A,P.$,M,1);c.kE(s,A+4,M-A-8)}c.kE(s,y+4,M-y-8);
return M};function lk(){}lk.kM=function(s,M){var O=new Uint8Array(s),y=0;if(O[0]==71)return lk.a6a(O);
var P=M.split("/").pop().split(".")[0],F=c.Db(O,y,4);y+=4;var A=c.m4(O,y);y+=2;var h=[];if(A<=3){var m=c.m4(O,y);
y+=2;for(var R=0;R<m;R++){var Z=O[y++],u=c.Db(O,y,Z);y+=Z;var f=lk.afz(O,y,u),U=f[0];y=f[1];h.push(U)}}else{var f={},C=by.vU(O,f,y+4),H=f.GrdL.v;
for(var R=0;R<H.length;R++)h[R]=H[R].v.Grad.v;y+=4+C}for(var R=0;R<h.length;R++)h[R]=[h[R].Nm.v,h[R]];
return iy.a92(O,y,h,M)};lk.I5=function(s,M){s.Nm.v=M};lk.mK=function(s){var M=new jY,O=0;c.qe(M,O,"8BGR");
O+=4;c.Yz(M,O,5);O+=2;c.kE(M,O,16);O+=4;var P={classID:"null",GrdL:{t:"VlLs",v:[]}},y=P.GrdL.v;for(var R=0;
R<s.length;R++){var F=a.G(s[R]);F[1].Nm.v=F[0];y[R]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:F[1]}}}}O+=by.C3(M,P,O);
return M.data.slice(0,O).buffer};lk.afz=function(s,M,O,P){var y={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:O},Trns:{t:"VlLs",v:[]}},F=P?c.vJ:c.m4,A=P?c.je:c.h4,h=F(s,M);
M+=2;if(h==0)throw"e";for(var R=0;R<h;R++){var m=A(s,M),Z=A(s,M+4),u=iy.K7(s,M+8,P),f={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:u.o},Grn:{t:"doub",v:u.R},Bl:{t:"doub",v:u.X}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:m},Mdpn:{t:"long",v:Z}}};
y.Clrs.v.push(f);M+=20}var U=F(s,M);M+=2;for(var R=0;R<U;R++){var m=A(s,M),Z=A(s,M+4),C=F(s,M+8),f={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*C/255)}},Lctn:{t:"long",v:m},Mdpn:{t:"long",v:Z}}};
y.Trns.v.push(f);M+=10}var H=F(s,M);M+=2;y.Intr.v=H==2?F(s,M):4096;M+=2;var t=F(s,M);M+=2;return[y,M]};
lk.aly=function(s,M,O){var P=O.Clrs.v.length;c.Yz(s,M,P);M+=2;for(var R=0;R<P;R++){var y=O.Clrs.v[R];
c.kE(s,M,y.v.Lctn.v);c.kE(s,M+4,y.v.Mdpn.v);c.Yz(s,M+8,0);var F=a.wv.gN(a.wv.sl(y.v.Clr.v)),A=[F.Rd.v,F.Grn.v,F.Bl.v,0];
for(var h=0;h<4;h++)c.Yz(s,M+10+h*2,Math.round(65535*(A[h]/255)));M+=20}var m=O.Trns.v.length;c.Yz(s,M,m);
M+=2;for(var R=0;R<m;R++){var y=O.Trns.v[R];c.kE(s,M,y.v.Lctn.v);c.kE(s,M+4,y.v.Mdpn.v);c.Yz(s,M+8,Math.round(255*y.v.Opct.v.val/100));
M+=10}c.Yz(s,M,2);M+=2;c.Yz(s,M,O.Intr.v);M+=2;c.Yz(s,M,32);M+=2;return M};lk.a6a=function(s){var M=c.xJ(s,0,s.length).split("\n"),O=parseFloat(M[2]),P=[],y=JSON.parse(aV.d$[aV.order.indexOf("GrFl")]).Grad.v;
y.Intr.v=0;y.Nm.v=M[1];for(var R=0;R<O;R++){var F=M[3+R].split(" ").map(parseFloat),A=F[11],h=F[12];
P.push([F[0],F.slice(3,6),F[6]]);if(h!=0){var m=a.yR(F[3],F[4],F[5]),Z=a.yR(F[7],F[8],F[9]),u=m.fw,f=Z.fw;
if(h==1&&u>f)f++;if(h==2&&u<f)u++;var U=Math.round(Math.abs(f-u)*7);if(U>1)for(var C=0;C<U;C++){var H=1-(C+1)/(U+1),t=1-H,X=a.rk(H*u+t*f,H*m.BP+t*Z.BP,H*m.rM+t*Z.rM);
P.push([H*F[0]+t*F[2],[X.o,X.R,X.X],H*F[6]+t*F[10]])}}P.push([F[2],F.slice(7,10),F[10]])}P.sort(function(Q,D){return Q[0]-D[0]});
a.wv.mv(P,y);return[y]};lk.XB=function(s,M,O){var P=$.qM.XB(s[1],M,O,Math.PI/4,16777215,0);return P};
function e2(){}e2.kM=function(s){var M=new Uint8Array(s),O=[],P=[],y=[],F=[],A=[],h=0,m=c.Db(M,h,4);
h+=4;var Z=c.h4(M,h);h+=4;var u=c.h4(M,h);h+=4;while(h<M.length){var f=c.Db(M,h,4);h+=4;var U=c.Db(M,h,4);
h+=4;var C=c.h4(M,h);h+=4;if(U=="tppa"){P=d8.i2(M,h,C);h+=C}else if(U=="tpbd"){y=i$.am9(M,h,C,1,1);h+=C}else if(U=="tptp"){var H=c.h4(M,h);
h+=4;for(var R=0;R<H;R++){var t=c.KS(M,h);h+=6+t.length*2;h+=4;var X={};h+=by.vU(M,X,h);O.push([t,X])}while((h&3)!=0)h++}else if(U=="tpsh"){var Q=h,D=M.slice(h,h+C);
while(h<Q+C){var L=c.h4(M,h);h+=4;h=dM.aka(M,h,"Shape",F)}h=Q+C}else if(U=="tpst"){var Q=h;h+=4;while(h<Q+C){var E=c.h4(M,h);
h+=4;var _=h,S=c.h4(M,h);h+=4;var X={wA:{},bN:{}};A.push(X);h+=4;h+=by.vU(M,X.wA,h);h+=4;h+=by.vU(M,X.bN,h);
h=_+E;var W=X.bN.Lefx;if(W){if(W.v.masterFXSwitch==null)W.v.masterFXSwitch={t:"bool",v:!0};bG.Iw(W.v)}}h=Q+C}else{console.log(M.slice(h-8,h+64));
console.log(c.Db(M,h-8,64));throw U}}return{nt:y,hx:P,list:O,a9A:F,B5:A}};e2.I5=function(s,M){s[0]=M};
e2.mK=function(s){var M=new jY,O=0;c.qe(M,O,"8BTP");O+=4;c.kE(M,O,3);O+=4;c.kE(M,O,1);O+=4;var P=[s.hx,s.nt,s.list];
for(var R=0;R<3;R++){if(P[R].length==0)continue;c.qe(M,O,"8BIM");O+=4;var y=["tppa","tpbd","tptp"][R];
c.qe(M,O,y);O+=4;var F=O;O+=4;if(y=="tppa"){O=d8.za(M,O,s.hx)}else if(y=="tpbd"){O=i$.aH1(M,O,s.nt)}else if(y=="tptp"){c.kE(M,O,s.list.length);
O+=4;for(var A=0;A<s.list.length;A++){var h=s.list[A];c.Qs(M,O,h[0]+"\0");O+=6+h[0].length*2;c.kE(M,O,16);
O+=4;O+=by.C3(M,h[1],O)}}c.kE(M,F,O-F-4);while((O&3)!=0)O++;M.Qv(O,0)}return M.data.slice(0,O).buffer};
function ej(){}ej.kM=function(s,M){var O=new Uint8Array(s),P;if(c.h4(O,0)==O.length)P="icc";else if(O[0]=="<".charCodeAt(0))P="look";
else if(c.Ah(O,"LUT_3D_SIZE")!=-1)P="cube";else P="3DL";if(P!="icc"){var y=ej.a3s(O,P),F=ej.aAP(y[0],y[1]);
O=F}var A=[];for(var R=0;R<O.length;R++)A.push(O[R]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:M?M:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:A}}]};
ej.mK=function(s){var M=s[0],O=new Uint8Array(M.profile.v);return O.buffer};ej.I5=function(s,M){s.Nm.v=M};
ej.aAP=function(s,M){var O=new jY,P=128;O.Qv(0,128);var y=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var R=0;R<y.length;R++)O.data[R]=y[R];var F=["desc","A2B0"],A=F.length,h=128+4+A*12;c.kE(O,P,A);
P+=4;for(var m=0;m<A;m++){var Z=F[m];c.qe(O,P,Z);P+=4;c.kE(O,P,h);P+=4;var u=h;if(Z=="desc"){c.qe(O,u,"mluc");
u+=4;u+=4;c.kE(O,u,1);u+=4;c.kE(O,u,12);u+=4;c.qe(O,u,"enUS");u+=4;var f="ICC by Photopea\0",U=f.length*2+2;
c.kE(O,u,U);u+=4;c.kE(O,u,28);u+=4;O.Qv(u,U);for(var R=0;R<f.length;R++)O.data[u+R*2+1]=f.charCodeAt(R);
u+=U}if(Z=="A2B0"){c.qe(O,u,"mAB ");u+=4;u+=4;O.Qv(u,4);O.data[u]=3;O.data[u+1]=3;u+=4;O.Qv(u,4*5);u+=4*3;
c.kE(O,u,u+8-h);u+=4;u+=4;O.Qv(u,20);O.data[u]=s;O.data[u+1]=s;O.data[u+2]=s;u+=16;O.data[u]=2;u+=4;
var C=s*s*s*3;O.Qv(u,C*2);for(var R=0;R<C;R++)c.gz(O.data,u+R*2,Math.max(0,Math.min(65535,Math.round(M[R]*65535))));
u+=C*2}var H=u-h;while((H&3)!=0)H++;c.kE(O,P,H);P+=4;h+=H}c.kE(O,0,h);return O.data.slice(0,h)};ej.a3s=function(s,M){M="LUTFormat"+M.toUpperCase();
var O=[],P=0,y=c.xJ(s,0,s.length),F="";for(var R=0;R<s.length&&F=="";R++){if(s[R]==10)F="\n";else if(s[R]==13){F="\r";
if(s[R+1]==10)F+="\n"}}if(M=="LUTFormatCUBE"){var A=y.split(F);for(var R=0;R<A.length;R++){if(A[R]==""||A[R][0]=="#")continue;
var h=A[R].split(" "),m=h[0];if(m=="LUT_3D_SIZE"){P=parseInt(h[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(m)!=-1)continue;
O.push(parseFloat(h[0]),parseFloat(h[1]),parseFloat(h[2]))}O=ej.aId(P,O)}else if(M=="LUTFormat3DL"){var A=y.split(F),Z=1/4095;
for(var R=0;R<A.length;R++){var u=A[R];if(u==""||u=="3DMESH"||u.startsWith("Mesh")||u[0]=="#")continue;
var h=u.split(" "),m=h[0];if(P==0){P=h.length;continue}O.push(parseFloat(h[0])*Z,parseFloat(h[1])*Z,parseFloat(h[2])*Z)}}else if(M=="LUTFormatLOOK"){var f=new DOMParser,U=f.parseFromString(y,"text/xml"),C=U.getElementsByTagName("LUT")[0],H=C.children[0].textContent;
P=parseInt(JSON.parse(H));var t=C.children[1].textContent;t=t.replace(/"/g,"").replace(/\s/g,"");var X=3*P*P*P,Q=X*4,D=new Uint8Array(Q);for(var R=0;R<Q;R++){var L=t.charCodeAt(R*2),E=t.charCodeAt(R*2+1),_=L<58?L-48:L-55,S=E<58?E-48:E-55;D[R]=(_<<4)+S}for(var R=0;R<X;R++)O.push(c.Tz(D,R<<2));O=ej.aId(P,O)}else throw M;return[P,O]};ej.aGT=function(s,M,O){var P=["#Created by www.Photopea.com","TITLE \""+O+"\"","","#LUT size","LUT_3D_SIZE "+M,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],y=6;
for(var R=0;R<s.length;R+=3){P.push(s[R].toFixed(y)+" "+s[R+1].toFixed(y)+" "+s[R+2].toFixed(y))}P.push("");
return c.WT(P.join("\n")).buffer};ej.aId=function(s,M){var O=[],P=s*s*s;for(var R=0;R<P;R++)O.push(0,0,0);
for(var y=0;y<s;y++)for(var F=0;F<s;F++)for(var A=0;A<s;A++){var R=3*(A+F*s+y*s*s),h=3*(y+F*s+A*s*s);
O[h]=M[R];O[h+1]=M[R+1];O[h+2]=M[R+2]}return O};function by(){}by.vU=function(s,M,O,P,y,F){var A=O,u;
if(y==null)y=0;var h=F?c.je:c.h4,m=F?c.KF:c.VU,Z=F?c.Xb:c.KS,f=h(s,O);if(f==0){u="";O+=4}else{u=Z(s,O);
O+=4+2*u.length+2}if(u!="")M.__name=u;M.classID=by.GT(s,O,F);if(P)console.log("\t".repeat(y),"- reading descriptor",M.classID,O);
O+=by.bS(s,O,F);var U=m(s,O);O+=4;for(var R=0;R<U;R++){var C=by.GT(s,O,F);O+=by.bS(s,O,F);var H=by.apR(s,O,P,y,F);
M[C]=H;O+=H.size;delete H.size}return O-A};by.C3=function(s,M,O,P){var y=O,F=M.__name;if(F==null)F="";
F+="\0";c.Qs(s,O,F);O+=4+2*F.length;by.fk(s,O,M.classID);O+=by.bS(s.data,O);c.qD(s,O,Object.keys(M).length-1-(M.__name==null?0:1));
O+=4;for(var A in M){if(A=="classID")continue;if(A=="__name")continue;by.fk(s,O,A);O+=by.bS(s.data,O);
O+=by.ade(s,O,M[A])}return O-y};by.apR=function(s,M,O,P,y){var F=M,A=c.Q$(s,M,y);M+=4;var h=y?c.$L:c.tV,m=y?c.je:c.h4,Z=y?c.KF:c.VU,u=y?c.Xb:c.KS,f={size:0,t:A,v:null};
if(O)console.log("\t".repeat(P),"reading key",A,F);switch(A){case"obj ":case"VlLs":f.v=[];var U=m(s,M);
M+=4;for(var R=0;R<U;R++){var C=by.apR(s,M,O,P+1,y);M+=C.size;delete C.size;f.v.push(C)}break;case"UntF":f.v={type:c.Q$(s,M,y),val:h(s,M+4)};
M+=12;break;case"doub":{f.v=h(s,M);M+=8;break}case"bool":f.v=s[M]==1;M+=1;break;case"long":f.v=Z(s,M);
M+=4;break;case"comp":f.v=Z(s,M+4);M+=8;break;case"Objc":f.v={};var H=by.vU(s,f.v,M,O,P+1,y);M+=H;break;
case"TEXT":var t=m(s,M);if(t==0){f.v="";M+=4}else{f.v=u(s,M);M+=4+f.v.length*2+2}break;case"enum":var X=by.GT(s,M,y);
M+=by.bS(s,M,y);var Q=by.GT(s,M,y);M+=by.bS(s,M,y);f.v={};f.v[X]=Q;break;case"tdta":var D=Z(s,M);M+=4;
f.v=Array.from(s.slice(M,M+D));M+=D;break;case"ObAr":var L=m(s,M);M+=4;var E=u(s,M);M+=4+2*E.length+2;
if(E!="")throw E;var _=by.GT(s,M,y);M+=4+Math.max(4,_.length);f.v={classID:_,arr:[]};var S=m(s,M);M+=4;
for(var R=0;R<S;R++){var _=by.GT(s,M,y);M+=4+Math.max(4,_.length);var X=c.Q$(s,M,y);M+=4;var W=c.Q$(s,M,y);
M+=4;var g={id:_,type:X,uID:W,arr:[]};f.v.arr.push(g);var x=m(s,M,4);M+=4;for(var V=0;V<x;V++){var b=h(s,M);
M+=8;g.arr.push(b)}}break;case"Pth ":if(y)throw"e";var N=M,D=c.h4(s,M);M+=4;var J=c.Db(s,M,4);M+=4;var K=c.je(s,M);
M+=4;var q=c.aCE(s,M);M+=4+q.length*2;f.v={sig:J,pth:q};break;case"Clss":case"type":case"rele":var q=u(s,M);
M+=4+q.length*2+2;var d=by.GT(s,M,y);M+=4+Math.max(4,d.length);f.v={classID:d};if(q!="")f.v.__name=q;
if(A=="rele"){f.v.val=Z(s,M);M+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var l=by.J5[A],q=u(s,M);
M+=4+q.length*2+2;if(q.length!=0){console.log("String found",A,q)}f.v={};for(var R=0;R<l.length;R++){var d=by.GT(s,M,y);
M+=4+Math.max(4,d.length);f.v[l[R]]=d}if(A=="name"){var q=u(s,M);M+=4+q.length*2+2;f.v.val=q}if(A=="indx"||A=="Idnt"){f.v.val=m(s,M);
M+=4}break;case"alis":var D=m(s,M);M+=4;f.v=c.Db(s,M,D);M+=D;break;default:{console.log("unknown oskey: "+A+", "+F);
throw"e";return f}}if(O){console.log("\t".repeat(P),f.v);console.log("\t".repeat(P),"======",M)}f.size=M-F;
return f};by.J5={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
by.ade=function(s,M,O){var P=M,y=O.t;O=O.v;c.qe(s,M,y);M+=4;switch(y){case"obj ":case"VlLs":c.qD(s,M,O.length);
M+=4;for(var F=0;F<O.length;F++){var A=by.ade(s,M,O[F]);M+=A}break;case"UntF":c.qe(s,M,O.type);c.oD(s,M+4,O.val);
M+=12;break;case"doub":c.oD(s,M,O);M+=8;break;case"bool":c.gG(s,M,O?1:0,1);M+=1;break;case"long":c.qD(s,M,O);
M+=4;break;case"comp":c.qD(s,M+4,O);M+=8;break;case"Objc":var A=by.C3(s,O,M);M+=A;break;case"TEXT":c.Qs(s,M,O+"\0");
M+=4+O.length*2+2;break;case"enum":var h=Object.keys(O)[0],m=O[h];by.fk(s,M,h);M+=by.bS(s.data,M);by.fk(s,M,m);
M+=by.bS(s.data,M);break;case"tdta":c.kE(s,M,O.length);M+=4;c.R4(s,M,O);M+=O.length;break;case"ObAr":c.kE(s,M,O.arr[0].arr.length);
M+=4;c.Qs(s,M,"\0");M+=6;by.fk(s,M,O.classID);M+=4+Math.max(4,O.classID.length);c.kE(s,M,O.arr.length);
M+=4;for(var R=0;R<O.arr.length;R++){var Z=O.arr[R];by.fk(s,M,Z.id);M+=4+Math.max(4,Z.id.length);c.qe(s,M,Z.type);
M+=4;c.qe(s,M,Z.uID);M+=4;c.kE(s,M,Z.arr.length);M+=4;for(var F=0;F<Z.arr.length;F++){c.oD(s,M,Z.arr[F]);
M+=8}}break;case"Pth ":var u=O.pth.length*2+4+8;c.kE(s,M,u);M+=4;c.qe(s,M,O.sig);M+=4;c.GA(s,M,u);M+=4;
c.a49(s,M,O.pth);M+=O.pth.length*2+4;break;case"Clss":case"type":case"rele":var f=O.__name;if(f==null)f="";
c.Qs(s,M,f+"\0");M+=4+f.length*2+2;var U=O.classID;by.fk(s,M,U);M+=4+Math.max(4,U.length);if(y=="rele"){c.qD(s,M,O.val);
M+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var C=by.J5[y],H="";if(y=="name"&&O.classID=="Grdn")H="Gradient";
c.Qs(s,M,H+"\0");M+=4+H.length*2+2;for(var R=0;R<C.length;R++){var U=O[C[R]];by.fk(s,M,U);M+=4+Math.max(4,U.length)}if(y=="name"){c.Qs(s,M,O.val+"\0");
M+=4+O.val.length*2+2}if(y=="indx"||y=="Idnt"){c.kE(s,M,O.val);M+=4}break;case"alis":var u=O.length;
c.kE(s,M,u);M+=4;c.qe(s,M,O);M+=u;break;default:console.log("unknown oskey: "+y);M=P;break}return M-P};
by.GT=function(s,M,O){var P=O?c.KF:c.VU,y=P(s,M);if(y>1e3)throw"e";if(y==0)return c.Q$(s,M+4,O).trim();
return c.Db(s,M+4,y).trim()};by.bS=function(s,M,O){var P=O?c.KF:c.VU,y=P(s,M);return y==0?8:4+y};by.fk=function(s,M,O){var P="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold clio trim then else".split(" "),y=4<O.length||P.indexOf(O)!=-1;
c.qD(s,M,y?O.length:0);c.qe(s,M+4,O);if(O.length<4&&!y){var F="";for(var R=O.length;R<4;R++)F+=" ";c.qe(s,M+4+O.length,F)}};
by.a3g=function(s){var M={};for(var O in s){if(O=="classID")M[O]=s[O];else if(O=="__name")M[O]=s[O];
else M[O]=by.aGo(s[O])}return M};by.aGo=function(s){if(s.t=="Objc")return by.a3g(s.v);else if(s.t=="VlLs"){var M=[];
for(var R=0;R<s.v.length;R++)M.push(by.aGo(s.v[R]));return M}else if(s.t=="UntF")return s.v.val;else return s.v};
function bG(){}bG.rK=function(s,M,O,P,y,F,A){var h=A?c.je:c.h4,m=A?c.KF:c.VU,Z=A?c.vJ:c.m4,u=A?c.Sw:c.VQ,f=A?c.a03:c.dy,U=A?c.$L:c.tV,C=A?c.Tz:c.C6,H=A?c.aCE:c.aw;
while(M<O){var t=c.Q$(s,M,A);M+=4;if(t!="8BIM"&&t!="8B64"){console.log("layer information signature error! "+t,"PSB = "+y);
alert("Error in PSD file: wrong signature.");return O}var X=c.Q$(s,M,A);M+=4;var Q=h(s,M);M+=4;var D=y&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(X)!=-1;
if(D){Q=Q<<32|m(s,M);M+=4}var L=["lrFX","PlLd"];if(L.indexOf(X)!=-1){if(X!="lrFX"&&Q%4!=0)Q+=4-Q%4;M+=Q;
continue}switch(X){case"iOpa":P[X]=s[M];break;case"brst":P[X]=[1,1,1];for(var R=0;R<Q;R+=4)P[X][h(s,M+R)]=0;
break;case"knko":P[X]=s[M];break;case"infx":P[X]=s[M];break;case"clbl":P[X]=s[M];break;case"lmgm":P[X]=s[M];
break;case"vmgm":P[X]=s[M];break;case"fcmy":P[X]=s[M];break;case"lyid":P[X]=h(s,M);break;case"lsct":P[X]={I:h(s,M)};
if(Q>=12)P[X].mX=c.Q$(s,M+8,A);break;case"lsdk":P.lsct={I:h(s,M)};break;case"lyvr":P[X]=h(s,M);break;
case"lnsr":var E={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};P[X]=c.Q$(s,M,A);
break;case"lspf":P[X]=h(s,M);break;case"lclr":P[X]=Z(s,M);break;case"luni":P[X]=H(s,M);break;case"fxrp":P[X]=new j6(U(s,M),U(s,M+8));
break;case"phry":case"artb":case"artd":P[X]={};by.vU(s,P[X],M+4,!1,null,A);break;case"SoCo":P[X]={};
by.vU(s,P[X],M+4,!1,null,A);break;case"GdFl":P[X]={};by.vU(s,P[X],M+4,!1,null,A);bG.fq(P[X],X);break;
case"PtFl":P[X]={};by.vU(s,P[X],M+4,!1,null,A);bG.fq(P[X],X);break;case"CgEd":P[X]={};by.vU(s,P[X],M+4,!1,null,A);
break;case"brit":var _=P.brit=bW.Jb("brit"),S={};_.Brgh.v=u(s,M);_.Cntr.v=u(s,M+2);_.useLegacy.v=!0;
break;case"levl":var W=s.buffer.slice(M,M+Q);P[X]=fY.kM(W,A);break;case"curv":P[X]=ef.Ic(s,M,Q,A);break;
case"expA":var g=u(s,M),x=P[X]=bW.Jb("expA");x.Exps.v=C(s,M+2);x.Ofst.v=C(s,M+6);x.gammaCorrection.v=C(s,M+10);
break;case"vibA":P[X]={};by.vU(s,P[X],M+4,!1,null,A);break;case"hue2":P[X]=aU.Ic(s,M,Q,A);break;case"blnc":var x=P[X]=bW.Jb(X);
x.PrsL.v=s[M+18]==1;var V=["ShdL","MdtL","HghL"];for(var R=0;R<3;R++)for(var b=0;b<3;b++)x[V[R]].v[b].v=u(s,M+R*6+b*2);
break;case"blwh":var N={};by.vU(s,N,M+4,!1,null,A);var x=bW.Jb(X),J="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var R=0;R<J.length;R++){x[J[R]]=N[J[R]];delete N[J[R]]}P[X]=x;break;case"phfl":var x=P[X]=bW.Jb(X),K=x.Clr.v,g=Z(s,M);
if(g==3){var q=[h(s,M+2),h(s,M+6),h(s,M+10)],d=32768,l=a.aDI(q[0]/d,q[1]/d,q[2]/d);K.Lmnc.v=l.Yk;K.A.v=l.cd;
K.B.v=l.X}if(g==2){var T=Z(s,M+2);if(T!=7)throw"e";K.Lmnc.v=u(s,M+4)/100;K.A.v=u(s,M+6)/100;K.B.v=u(s,M+8)/100}var B=M+2+(g==3?12:10);
x.Dnst.v=h(s,B);B+=4;x.PrsL.v=s[B]==1;break;case"mixr":var p={PD:Z(s,M+2)==1,K:[]};for(var R=0;R<20;
R++)p.K.push(u(s,M+4+R*2));P[X]=ak.HQ(p);break;case"clrL":case"rplc":P[X]={};by.vU(s,P[X],M+6,!1,null,A);
break;case"nvrt":P[X]={};break;case"post":P[X]=bW.Jb("post");P[X].Lvls.v=Z(s,M);break;case"thrs":P[X]=bW.Jb("thrs");
P[X].Lvl.v=Z(s,M);break;case"grdm":var I=M,w=Z(s,I),j="Gcls";I+=2;var e=s[I]==1,G=s[I+1]==1;I+=2;if(w>=3){var o=c.Q$(s,I,A);
I+=4;j={Perc:"Perc",Gcls:"Gcls","Lnr ":"Lnr",Smoo:"Smoo"}[o];if(j==null)j="stripes"}var r=H(s,I);I+=4+r.length*2;
var k=lk.afz(s,I,r,A),a7=k[0];I=k[1];var Y=Z(s,I);I+=2;var v=h(s,I);I+=4;var n=Z(s,I)==1;I+=2;var cm=Z(s,I)==1;
I+=2;var a5=h(s,I);I+=4;var gP=Z(s,I);I+=2;var cg=[],a9=[];for(var R=0;R<4;R++){cg.push({t:"long",v:~~(Z(s,I+R*2)*100/32768)});
a9.push({t:"long",v:~~(Z(s,I+R*2+8)*100/32768)})}I+=16;var ew=Z(s,I);I+=2;if(Y==1)a7={classID:"Grdn",Nm:{t:"TEXT",v:r},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:n},VctC:{t:"bool",v:cm},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:v},Smth:{t:"long",v:a5},Mnm:{t:"VlLs",v:cg},Mxm:{t:"VlLs",v:a9}};
var h7=bW.Jb("grdm");h7.Rvrs.v=e;h7.Dthr.v=G;h7.Grad.v=a7;h7.gs99.v={gradientInterpolationMethodType:j};
P[X]=h7;break;case"selc":P[X]=kT.Ic(s,M,Q,A);break;case"vmsk":case"vsms":var bh=P.vmsk=new ad.Vp,ba=m(s,M+4),jx=(ba>>0&1)==1;
bh.CG=(ba>>1&1)==0;bh.isEnabled=(ba>>2&1)==0;bh.u=dM.F_(s,M+8,Q-8,F.A,F.$,A);break;case"shmd":P[X]={};
var c4=h(s,M),B=M+4;for(var R=0;R<c4;R++){var t=c.Q$(s,B,A);B+=4;var bq=c.Q$(s,B,A);B+=4;var di=s[B];
B++;if(Math.max(s[B],s[B+1])!=0)throw"e";B+=3;var il=h(s,B);B+=4;if(bq=="cust"||bq=="cmls"||bq=="extn"||bq=="mlst"){var j0=h(s,B);
if(j0!=16)B+=4;if(h(s,B)==16){var N={};by.vU(s,N,B+4,!1,null,A);P[X][bq]=N;if(bq=="cmls")$.FF.a7M(P[X][bq])}}else{console.log("unknown shmd key: "+bq+", size: "+il)}B+=il}break;
case"shpa":var g=h(s,M),j1=h(s,M+4);if(j1!=0)console.log("some patterns present!");break;case"TySh":var b5=P[X]={},g=Z(s,M);
b5.M=c.w0(s,M+2,A);var b4=Z(s,M+2+48);b5.x9={};try{var lm=by.vU(s,b5.x9,M+56)}catch(hj){P[X]=null;break}var ix=iP.aFN();
for(var jy in ix)if(b5.x9[jy]==null)b5.x9[jy]=ix[jy];b5.jR={};var bz=by.vU(s,b5.jR,M+56+lm+6,!1,null,A);
b5.WY=c.ab$(s,M+56+lm+6+bz);b5.nA=hJ.kM(b5.x9.EngineData.v);iP.aA2(b5.nA.EngineDict.StyleRun.RunArray);
if(b5.nA.ResourceDict==null)b5.nA.ResourceDict=a.G(b5.nA.DocumentResources);delete b5.x9.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var c5=h(s,M),k0=h(s,M+4);P.lmfx={};var lm=by.vU(s,P.lmfx,M+8,!1,null,A);
bG.Iw(P.lmfx);break;case"FMsk":P[X]=s.slice(M,M+Q);break;case"Txt2":P[X]={};P[X].raw=s.slice(M,M+Q);
P[X].Dn=fM.kM(P[X].raw);break;case"Patt":case"Pat2":case"Pat3":P.Patt=d8.i2(s,M,Q,A);break;case"SoLd":var cd=c.Q$(s,M,A),fz=h(s,M+4),fu=h(s,M+8),c6=P[X]={},k7=by.vU(s,c6,M+12,null,null,A),hP=c6.warp,e1=c6.quiltWarp;
if(e1==null)e1=c6.quiltWarp=a.Z6.an1(hP);delete c6.warp;var fs=e1.v.warpStyle.v.warpStyle,eh=e1.v.warpValues;
if(fs!="warpCylinder"&&eh){e1.v.warpValue={t:"doub",v:eh.v[0].v};delete e1.v.warpValues}if(c6.nonAffineTransform==null)c6.nonAffineTransform=a.G(c6.Trnf);
if(c6.Impr==null)c6.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var fz=h(s,M);
P[X]={};var k7=by.vU(s,P[X],M+4,!1,null,A);break;case"vscg":var bq=c.Q$(s,M,A),fz=h(s,M+4);P[bq]={};
var k7=by.vU(s,P[bq],M+8,!1,null,A);bG.fq(P[bq],bq);break;case"vogk":var gW=h(s,M),fz=h(s,M+4);P[X]={};
var k7=by.vU(s,P[X],M+8,!1,null,A);P[X]=P[X].keyDescriptorList.v;for(var R=0;R<P[X].length;R++){var hk=P[X][R].v;
if(!a.cV.bF(hk))continue;if(hk.keyOriginBoxCorners==null){var jz=a.cV.tL(hk);hk.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var lh=[jz[0],jz[1],jz[2],jz[1],jz[2],jz[3],jz[0],jz[3]];if(hk.keyOriginType.v==4)lh=a.cV.al_(a.cV.QR(hk),hk.keyOriginLineWeight.v);
a.cV.h_(hk,"keyOriginBoxCorners",lh)}}break;case"lnk2":case"lnkD__":case"lnk3":P.lnk2=[];var I=M;while(I<M+Q){var ag=new ad.Dl;
P.lnk2.push(ag);var eo=f(s,I);I+=8;var aC=I;ag.I=c.Q$(s,I,A);I+=4;if(ag.I!="liFD"){alert("Unknown Linked Layer type: "+ag.I);
break;throw ag.I}ag.mV=h(s,I);I+=4;var e8=c.VJ(s,I);I+=1+e8.P2.length;ag.Xh=e8.P2;var lb=A?c.Xb:c.KS;
ag.Zp=lb(s,I);I+=4+ag.Zp.length*2+2;ag.tn=c.Q$(s,I,A);I+=4;ag.kx=c.Q$(s,I,A);I+=4;var jn=f(s,I);I+=8;
ag.open=s[I];I+=1;if(ag.open!=0){var k3={},lm=by.vU(s,k3,I+4,null,null,A);if(lm%4!=0)lm+=4-lm%4;console.log(k3);
I+=lm+4}ag.open=0;ag.raw=s.slice(I,I+jn);I=aC+eo;if(eo%4!=0)I+=4-eo%4}break;case"FEid":var I=M;P[X]=[];
var cP=I+Q,g=h(s,I);I+=4;while(I<cP){var eo=f(s,I);I+=8;var k={};P[X].push(k);k.id=c.VJ(s,I).P2;I+=k.id.length+1;
var g=h(s,I);I+=4;I+=4;var cV=h(s,I);I+=4;k.S=c._l(s,I,A);I+=16;var l2=h(s,I);I+=4;var dS=h(s,I);I+=4;
var gH=new a.po(0);for(var R=0;R<dS+2;R++){var hd=h(s,I);I+=4;if(hd!=0){var bL=f(s,I),au=null;I+=8;if(R<3||R==25){au=jR.a3(!0,l2,s,k.S.A,k.S.$,I,bL,A)}if(R==0)gH.o=au;
if(R==1)gH.R=au;if(R==2)gH.X=au;if(R==25)gH.cd=au;I+=bL}}k.buffer=a.j(k.S.C()*4,l2);a.oh(gH,k.buffer);
var ev=s[I];I++;if(ev!=0){k.$E=new ad.OL;k.$E.S=c._l(s,I,A);I+=16;var eF=f(s,I);I+=8;var au=jR.a3(!0,l2,s,k.$E.S.A,k.$E.S.$,I,eF,A);
k.$E.N=au;k.$E.color=255;k.$E.FW();I+=eF}if(eo%4!=0)I+=4-eo%4}break;case"Lr16":jv.hZ(F,s,M,A);break;
case"Lr32":jv.hZ(F,s,M,A);break;case"Anno":P[X]=[];var fn=M,iu=M+4,j1=h(s,iu);iu+=4;for(var R=0;R<j1;
R++){var eo=h(s,iu);iu+=4;var gz=c.Q$(s,iu,A);iu+=4;if(gz!="txtA")throw gz;var dL=s[iu++],dm=s[iu++],cM=Z(s,iu);
iu+=2;var l5=c._l(s,iu,A);iu+=16;var i3=c._l(s,iu,A);iu+=16;var K=iy.K7(s,iu,A);iu+=10;var eg=c.VJ(s,iu);
iu+=eg.length;var la=c.VJ(s,iu);iu+=la.length;var ea=c.VJ(s,iu);iu+=ea.length;var iB=h(s,iu);iu+=4;var jG=c.Q$(s,iu,A);
iu+=4;var j5=h(s,iu);iu+=4;var hU=A?c.Tr:c.QY,kn=hU(s,iu+2,j5-2>>1);iu+=j5;P[X].push([l5.x,l5.y,K,eg.P2,kn])}break;
default:console.log("unknown layer tag: "+X+", size: "+Q);break}var k5="Layr,Lr16,Lr32,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ,GenI,phry,vmsk,vstk".split(",");
if(k5.indexOf(X)==-1)if(Q%4!=0)console.log("size not multiple of 4!!!",X);if(X!="luni"&&X!="TySh"&&X!="tySh"&&X!="lfx2"&&X!="iOpa"&&X!="SoCo"&&X!="vmsk"&&X!="vstk")if(Q%4!=0)Q+=4-Q%4;
M+=Q}var S=P.CgEd;if(S){var _=P.brit;if(_){_.Brgh.v=S.Brgh?S.Brgh.v:0;_.Cntr.v=S.Cntr?S.Cntr.v:0;_.useLegacy.v=S.useLegacy?S.useLegacy.v:0}delete P.CgEd}var a0=[];
for(var R=0;R<a0.length;R++)delete P[a0[R]];return M};bG.TW=function(s,M,O,P,y){if(O.SoLd){var F={};
for(var A in O){if(A=="SoLd")F.PlLd={};F[A]=O[A]}O=F}for(var h in O)if(O[h]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+h+"\" tag was present with a null value.");delete O[h]}for(var h in O){var m=P&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(h)!=-1,u=0;
c.qe(s,M,m?"8B64":"8BIM");M+=4;var Z=M;c.qe(s,M,h);M+=4;c.qD(s,M,0);M+=m?8:4;switch(h){case"iOpa":c.gG(s,M,O[h],1);
u=4;break;case"brst":u=0;for(var R=0;R<3;R++)if(O[h][R]==0){c.kE(s,M+u,R);u+=4}break;case"knko":c.gG(s,M,O[h],1);
u=4;break;case"infx":c.gG(s,M,O[h],1);u=4;break;case"clbl":c.gG(s,M,O[h],1);u=4;break;case"lmgm":c.gG(s,M,O[h],1);
u=4;break;case"vmgm":c.gG(s,M,O[h],1);u=4;break;case"fcmy":c.gG(s,M,O[h],1);u=4;break;case"lyid":c.kE(s,M,O[h]);
u=4;break;case"lsct":c.kE(s,M,O[h].I);u=4;if(O[h].mX){c.qe(s,M+4,"8BIM");c.qe(s,M+8,O[h].mX);u=12}break;
case"lyvr":c.kE(s,M,O[h]);u=4;break;case"lnsr":c.qe(s,M,O[h]);u=4;break;case"lspf":c.kE(s,M,O[h]);u=4;
break;case"lclr":c.Yz(s,M,O[h]);u=8;break;case"luni":c.Qs(s,M,O[h]);u=4+2*O[h].length;break;case"fxrp":c.oD(s,M,O[h].x);
c.oD(s,M+8,O[h].y);u=16;break;case"phry":case"artb":case"artd":c.kE(s,M,16);u=by.C3(s,O[h],M+4)+4;break;
case"SoCo":c.kE(s,M,16);u=by.C3(s,O[h],M+4)+4;break;case"GdFl":c.kE(s,M,16);u=by.C3(s,O[h],M+4)+4;break;
case"PtFl":c.kE(s,M,16);u=by.C3(s,O[h],M+4)+4;break;case"CgEd":var f={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},U=f,C=O[h];
U.Brgh.v=C.Brgh.v;U.Cntr.v=C.Cntr.v;U.useLegacy.v=C.useLegacy.v;c.kE(s,M,16);u=by.C3(s,f,M+4)+4;break;
case"brit":s.Qv(M,8);u=8;break;case"levl":var H=new jY;u=fY.mK(H,O[h]);c.R4(s,M,H.data);break;case"curv":u=ef.xB(s,M,O[h]);
break;case"expA":u=14;s.Qv(M,14);c.gz(s.data,M,1);c.VL(s.data,M+2,O[h].Exps?O[h].Exps.v:0);c.VL(s.data,M+6,O[h].Ofst?O[h].Ofst.v:0);
c.VL(s.data,M+10,O[h].gammaCorrection?O[h].gammaCorrection.v:1);break;case"vibA":c.kE(s,M,16);u=by.C3(s,O[h],M+4)+4;
break;case"hue2":u=aU.xB(s,M,O[h]);break;case"blnc":u=19;s.Qv(M,u);var t=["ShdL","MdtL","HghL"];for(var R=0;
R<3;R++){var X=O[h][t[R]].v;for(var Q=0;Q<3;Q++)X.push(c.pd(s.data,M+R*6+Q*2,X[Q].v))}s.data[M+18]=O[h].PrsL.v?1:0;
break;case"blwh":var f={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},D="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var R=0;R<D.length;R++){f[D[R]]=O[h][D[R]]}c.kE(s,M,16);u=by.C3(s,f,M+4)+4;break;case"phfl":c.Yz(s,M,2);
var L=O[h].Clr.v;c.Yz(s,M+2,7);c.Yz(s,M+4,Math.round(L.Lmnc.v*100));c.Yz(s,M+6,Math.round(L.A.v*100));
c.Yz(s,M+8,Math.round(L.B.v*100));c.Yz(s,M+10,0);var E=M+2+10;s.Qv(E,5);c.FE(s.data,E,O[h].Dnst.v);E+=4;
s.data[E]=O[h].PrsL.v?1:0;E++;u=E-M;break;case"mixr":u=44;s.Qv(M,u);var _=ak.yC(O[h]);c.gz(s.data,M,1);
c.gz(s.data,M+2,_.PD?1:0);for(var R=0;R<20;R++)c.pd(s.data,M+4+R*2,_.K[R]);break;case"clrL":case"rplc":c.Yz(s,M,1);
c.kE(s,M+2,16);u=by.C3(s,O[h],M+6)+6;break;case"nvrt":u=0;break;case"post":c.Yz(s,M,O[h].Lvls.v);u=2;
break;case"thrs":c.Yz(s,M,O[h].Lvl.v);u=2;break;case"grdm":var S=O[h].Rvrs?O[h].Rvrs.v:!1,W=O[h].Dthr?O[h].Dthr.v:!1,g=O[h].gs99?O[h].gs99.v.gradientInterpolationMethodType:"Gcls",x=867527939,V=!1,b=!1,N=2048,d,l;
if(g=="Lnr")g="Lnr ";if(g=="stripes")g="\0\0\fm";var J=[0,0,0,0],K=[32768,32768,32768,32768],q=O[h].Grad.v,T=q.Clrs==null?1:0;
if(T==0){d=q;l=JSON.parse(aV.xD.adc).v}else{d=bW.Jb("grdm").Grad.v;l=q}s.Qv(M,8);c.gz(s.data,M,3);s.data[M+2]=S?1:0;
s.data[M+3]=W?1:0;c.Eu(s.data,M+4,g);var B=M+8;c.Qs(s,B,q.Nm.v);B+=4+q.Nm.v.length*2;B=lk.aly(s,B,d);
c.Yz(s,B,T);B+=2;c.kE(s,B,l.RndS.v);B+=4;c.Yz(s,B,l.ShTr.v?1:0);B+=2;c.Yz(s,B,l.VctC.v?1:0);B+=2;c.kE(s,B,l.Smth.v);
B+=4;c.Yz(s,B,3);B+=2;for(var R=0;R<4;R++)c.Yz(s,B+R*2,J[R]);B+=8;for(var R=0;R<4;R++)c.Yz(s,B+R*2,K[R]);
B+=8;B+=2;u=B-M;break;case"selc":u=kT.xB(s,M,O[h]);break;case"FMsk":c.R4(s,M,O[h]);u=O[h].length;break;
case"Txt2":var p=new jY,I=fM.$a(O[h].Dn,p),w=p.data.slice(0,I);c.R4(s,M,w);u=w.length;break;case"vmsk":var e=O[h],G=0;
c.kE(s,M,3);if(!e.CG)G+=1<<1;if(!e.isEnabled)G+=1<<2;c.kE(s,M+4,G);u=8;var j=e.u.length;s.Qv(M+8,j*26);
dM.ug(s.data,M+8,e.u,y.A,y.$);u+=j*26;break;case"shmd":c.kE(s,M,Object.keys(O[h]).length);var E=M+4;
for(var o in O[h]){c.qe(s,E,"8BIM");E+=4;c.qe(s,E,o);E+=4;c.kE(s,E,0);E+=4;c.kE(s,E,0);E+=4;c.kE(s,E,16);
E+=4;var r=by.C3(s,O[h][o],E);if(r%4!=0)r+=4-r%4;c.kE(s,E-8,r+4);E+=r}u=E-M;break;case"TySh":var E=M;
c.DX(s,E,1);E+=2;var k=O[h],p=new jY;k.nA.DocumentResources=a.G(k.nA.ResourceDict);var I=hJ.$a(k.nA,p),w=p.data.slice(0,I);
k.x9.EngineData={t:"tdta",v:w};var a7=k.nA.EngineDict.Editor.Text;k.x9.Txt.v=a7.substring(0,a7.length-1);
c.amR(s,E,k.M);E+=48;c.DX(s,E,50);E+=2;c.kE(s,E,16);E+=4;E+=by.C3(s,k.x9,E);c.DX(s,E,1);E+=2;c.kE(s,E,16);
E+=4;E+=by.C3(s,k.jR,E);c.axH(s,E,k.WY);E+=16;u=E-M;break;case"lmfx":c.kE(s,M,0);c.kE(s,M+4,16);var f=a.G(O[h]),Y=!1;
bG.xH(f);for(var R=0;R<aV.e1.length;R++)if(f[aV.e1[R]]!=null)Y=!0;c.qe(s,Z,Y?"lmfx":"lfx2");u=by.C3(s,f,M+8)+8;
break;case"Patt":var E=d8.za(s,M,O[h]);u=E-M;break;case"PlLd":var v=M;s.Qv(M,60);var X=O.SoLd;c.qe(s,M,"plcL");
c.kE(s,M+4,3);var n=s.data[M+8]=X.Idnt.v.length;c.qe(s,M+9,X.Idnt.v);var E=M+9+n,cm=[1,1,16,2];for(var R=0;
R<4;R++)c.kE(s,E+R*4,cm[R]);E+=16;cm=$.TR.NI(X.nonAffineTransform);for(var R=0;R<8;R++)c.oD(s,E+R*8,cm[R]);
E+=64;c.kE(s,E,0);c.kE(s,E+4,16);var a5=a.Z6.auf(X.quiltWarp).v;E+=8+by.C3(s,a5,E+8);u=E-M;break;case"SoLd":var X=O[h],gP=X.quiltWarp;
X.warp=a.Z6.auf(gP);if(a.Z6.Pt(gP.v)==16)delete X.quiltWarp;c.qe(s,M,"soLD");c.kE(s,M+4,4);c.kE(s,M+8,16);
u=by.C3(s,X,M+12)+12;X.quiltWarp=gP;delete X.warp;break;case"vstk":case"pths":c.kE(s,M,16);u=by.C3(s,O[h],M+4)+4;
break;case"vscg__":c.qe(s,M,O[h].key);c.kE(s,M+4,16);u=by.C3(s,O[h].K,M+8)+8;break;case"vogk":c.kE(s,M,1);
c.kE(s,M+4,16);a.cV.akF(O[h]);for(var R=0;R<O[h].length;R++){var cg=O[h][R].v.keyOriginResolution;if(cg)cg.v=y.FR}var a9={classID:"null",keyDescriptorList:{t:"VlLs",v:O[h]}};
u=by.C3(s,a9,M+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var B=M;for(var R=0;R<O[h].length;R++){var ew=O[h][R],h7=B;
c.U4(s,B,0);B+=8;c.qe(s,B,ew.I);B+=4;c.kE(s,B,ew.mV);B+=4;s.Qv(B,1);s.data[B]=ew.Xh.length;B++;c.qe(s,B,ew.Xh);
B+=ew.Xh.length;c.Qs(s,B,ew.Zp+"\0");B+=4+ew.Zp.length*2+2;c.qe(s,B,ew.tn);B+=4;c.qe(s,B,ew.kx);B+=4;
c.U4(s,B,ew.raw.length);B+=8;s.Qv(B,1);s.data[B]=ew.open;B++;c.R4(s,B,ew.raw);B+=ew.raw.length;c.kE(s,B,1);
B+=4;B+=11;var bh=B-h7-8;c.U4(s,h7,bh);if(bh%4!=0){s.Qv(B,4-bh%4);B+=4-bh%4}}u=B-M;break;case"FEid":var B=M;
c.kE(s,B,3);B+=4;for(var ba=0;ba<O[h].length;ba++){var jx=O[h][ba];B+=4;var c4=B;B+=4;c.D2(s,B,jx.id);
B+=jx.id.length+1;c.kE(s,B,1);B+=4;var bq=a.j(jx.S.C(),y.depth),di=jx.S,il=a.j(di.C(),y.depth);B+=4;
var j0=B;B+=4;c.ww(s,B,di);B+=16;c.kE(s,B,y.depth);B+=4;c.kE(s,B,24);B+=4;for(var R=0;R<24+2;R++){var j1=-1;
if(R==0)j1=0;if(R==1)j1=1;if(R==2)j1=2;if(R==25)j1=3;c.kE(s,B,j1!=-1?1:0);B+=4;if(j1!=-1){a.YT(jx.buffer,bq,j1);
a.TT(bq,jx.S,il,di);B+=4;var b5=B;B+=4;s.Qv(B,di.C()+2);B=jR.Ba(!0,il,s.data,di.A,di.$,B,3);c.kE(s,b5,B-(b5+4))}}c.kE(s,j0,B-(j0+4));
s.Qv(B,1);s.data[B]=jx.$E?1:0;B++;if(jx.$E!=null){var b4=di,lm=a.j(b4.C(),y.depth);lm.fill(a.Cs(y.depth)*jx.$E.color/255);
a.TT(jx.$E.N,jx.$E.S,lm,b4);c.ww(s,B,b4);B+=16;B+=4;var ix=B;B+=4;s.Qv(B,b4.C()+2);B=jR.Ba(!0,lm,s.data,b4.A,b4.$,B,3);
c.kE(s,ix,B-(ix+4))}var bh=B-(c4+4);c.kE(s,c4,bh);if(bh%4!=0)B+=4-bh%4}u=B-M;break;case"Lr16":case"Lr32":var jy=jv.aBN(y,s,M,[],!1);
u=jy-M;break;case"Anno":var jy=M,bz=O[h].length;c.Yz(s,jy,2);c.Yz(s,jy+2,1);jy+=4;c.kE(s,jy,bz);jy+=4;
for(var R=0;R<bz;R++){var c5=O[h][R],k0=c5[0],cd=c5[1],fz=jy;jy+=4;c.qe(s,jy,"txtA");jy+=4;s.Qv(jy,2);
s.data[jy]=1;s.data[jy+1]=28;jy+=2;c.Yz(s,jy,1);jy+=2;c.ww(s,jy,new gi(k0,cd,17,21));jy+=16;c.ww(s,jy,new gi(k0+8,cd+10,241,141));
jy+=16;s.Qv(jy,10);iy.vh(s.data,jy,c5[2]);jy+=10;jy+=c.D2(s,jy,c5[3]);jy+=c.D2(s,jy,"");jy+=c.D2(s,jy,"D:20211012120233+01'00'");
var fu=c5[4].length*2;c.kE(s,jy,12+2+fu);jy+=4;c.qe(s,jy,"txtC");jy+=4;c.kE(s,jy,2+fu);jy+=4;s.Qv(jy,2);
s.data[jy]=254;s.data[jy+1]=255;jy+=2;c.avV(s,jy,c5[4]);jy+=fu;c.kE(s,fz,jy-fz)}u=jy-M;break;default:console.log("unknown layer tag: "+h+", size: "+u);
M-=12;continue}var c6=["Txt2","artd","extd","pths"];if(c6.indexOf(h)==-1)if(u%4!=0)u+=4-u%4;if(m)c.U4(s,M-8,u);
else c.kE(s,M-4,u);if(h!="luni"&&h!="TySh")if(u%4!=0)u+=4-u%4;M+=u}return M};bG.Iw=function(s){for(var R=0;
R<aV.order.length;R++){var M=aV.order[R],O=aV.e1[R];if(s[O]==null)s[O]={t:"VlLs",v:[]};if(s[M]!=null){s[O].v.push(s[M]);
delete s[M]}var P=[];for(var y=0;y<s[O].v.length;y++){var F=s[O].v[y];if(F.v.present==null||F.v.present.v==!0)P.push(F)}s[O].v=P}};
bG.xH=function(s){for(var R=0;R<aV.order.length;R++){var M=aV.order[R],O=aV.e1[R],P=s[O].v.length;if(P==0){delete s[O];
continue}if(P==1){s[M]=s[O].v[0];delete s[O];continue}}};bG.fq=function(s,M){if(M=="GdFl"){if(s.Angl==null)s.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(s.Algn==null)s.Algn={v:!0,t:"bool"};if(s.Scl==null)s.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(s.Ofst==null)s.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(s.Rvrs==null)s.Rvrs={v:!1,t:"bool"};if(s.Dthr==null)s.Dthr={v:!1,t:"bool"}}if(M=="PtFl"){if(s.Algn==null)s.Algn={v:!0,t:"bool"};
if(s.Angl==null)s.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(s.Scl==null)s.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(s.phase==null)s.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};bG.v=function(s,M){var O={};
if(s=="TySh"){O.M=M.M.v();O.x9=a.G(M.x9);O.jR=a.G(M.jR);O.WY=M.WY.v();O.nA=a.G(M.nA);if(M.add)O.add={vmsk:M.add.vmsk.v(),vogk:a.G(M.add.vogk)};
return O}else if(s=="fxrp")return M.v();else if(s=="vmsk")return M.v();else return a.G(M)};function l1(s,M){}l1.kM=function(s,M,O,P,y){P=l1.ayu(s,M,O,P,y);
return P};l1.$a=function(s,M,O,P,y){P=l1.aEP(s,M,O,P,y);return P};l1.ayu=function(s,M,O,P,y){var F=P;
s.S=c._l(O,P,y);P+=16;var A=y?c.vJ:c.m4,h=y?c.Sw:c.VQ,m=A(O,P);P+=2;s.jy=[];var Z=M.mL,u=y?c.a03:c.dy,f=y?c.je:c.h4,U=Z?u:f;
for(var R=0;R<m;R++){s.jy[R]={id:h(O,P),length:U(O,P+2)};P+=Z?10:6}var C=c.Q$(O,P,y);P+=4;if(C!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(C));
alert("Error in Photoshop file: wrong signature.");throw"e"}s.mX=c.Q$(O,P,y);P+=4;s.N_=O[P];P+=1;s.nN=O[P]==1;
P+=1;s.Xa=O[P];P+=1;if(O[P]!=0)console.log("error in filler!");P+=1;var H=f(O,P);P+=4;var t=P;P=l1.aaF(s,O,P,y);
P=l1.aC_(s,O,P,y);var X=c.VJ(O,P);s.name=X.P2;P+=X.length;if(X.length%4!=0)P+=4-X.length%4;P=bG.rK(O,P,t+H,s.add,Z,M,y);
if(s.add.lsct){if(s.add.lsct.mX)s.mX=s.add.lsct.mX;s.add.lsct=s.add.lsct.I}return P};l1.aEP=function(s,M,O,P,y){var F=P;
c.ww(O,P,s.S);P+=16;var A=M.add.fcmy==1,h=s.aiN(A);c.Yz(O,P,h.length);P+=2;var m=M.mL;y.push(P);for(var R=0;
R<h.length;R++){c.DX(O,P,h[R]);if(m)c.U4(O,P+2,0);else c.kE(O,P+2,0);P+=m?10:6}c.qe(O,P,"8BIM");P+=4;
c.qe(O,P,s.mX);P+=4;c.gG(O,P,s.N_,1);P+=1;c.gG(O,P,s.nN?1:0,1);P+=1;c.gG(O,P,s.Xa,1);P+=1;c.gG(O,P,0,1);
P+=1;var Z=P;c.kE(O,P,0);P+=4;var u=P;P=l1.a5L(s,O,P);P=l1.aK7(s,O,P);var f=c.D2(O,P,s.name.slice(0,255));
P+=f;if(f%4!=0)P+=4-f%4;if(s.add.lsct){s.add.lsct={I:s.add.lsct};if(s.mX=="pass"){s.add.lsct.mX="pass";
s.mX="norm"}}if(s.mX=="pass")s.add.lsct={I:s.add.lsct,mX:"pass"};if(s.add.brit)s.add.CgEd=s.add.brit;
P=bG.TW(O,P,s.add,m,M);delete s.add.CgEd;if(s.add.lsct){if(s.add.lsct.mX)s.mX=s.add.lsct.mX;s.add.lsct=s.add.lsct.I}var U=P-u;
c.kE(O,Z,U);return P};l1.aaF=function(s,M,O,P){var y=P?c.je:c.h4,F=y(M,O);O+=4;if(F==0)return O;var A=O;
s.$E=new ad.OL;s.$E.S=c._l(M,O,P);O+=16;s.$E.color=M[O];O+=1;var h=l1.aeR(s.$E,M,O);O+=1;if(h){var m=!1,Z=255,u=0,f=255,U=0;
for(var R=0;R<s.jy.length;R++)if(s.jy[R].id==-3)m=!0;if(m){s.Xw=l1.auj(M,O,P);O+=18}var C=O,H=M[O];O++;
var t=P?c.$L:c.tV;if(H>>0&1){Z=M[O];O++}if(H>>1&1){u=t(M,O);O+=8}if(H>>2&1){f=M[O];O++}if(H>>3&1){U=t(M,O);
O+=8}if((O-C&1)==1)O++;s.os=[Z,u,f,U]}else{if(F==20)O+=2;else{s.Xw=l1.auj(M,O,P);O+=18}}return A+F};
l1.a5L=function(s,M,O){c.kE(M,O,0);O+=4;if(s.$E==null)return O;var P=s.Bl(),y=s.add.vmsk,F=O,A=!0;c.kE(M,O,0);
c.ww(M,O,s.$E.S);O+=16;c.gG(M,O,s.$E.color);O+=1;l1.aaf(s.$E,M,O,A);O+=1;if(A){if(s.Xw){l1.afO(M,O,s.Xw);
O+=18}var h=O;c.gG(M,O,y?15:3);O+=1;c.gG(M,O,P?P.vR:255);O+=1;c.oD(M,O,P?P.CN:0);O+=8;if(y){c.gG(M,O,y?y.vR:255);
O+=1;c.oD(M,O,y?y.CN:0);O+=8}if((O-h&1)==1)O++}c.kE(M,F-4,O-F);return O};l1.auj=function(s,M,O){var P=new ad.OL;
l1.aeR(P,s,M);M+=1;P.color=s[M];M+=1;P.S=c._l(s,M,O);M+=16;return P};l1.afO=function(s,M,O){l1.aaf(O,s,M,!1);
M+=1;c.gG(s,M,O.color);M+=1;c.ww(s,M,O.S);M+=16};l1.aeR=function(s,M,O){var P=M[O];s.CG=(P>>0&1)==0;
s.isEnabled=(P>>1&1)==0;s.hU=(P>>3&1)==1;return P>>4&1};l1.aaf=function(s,M,O,P){var y=0;if(!s.CG)y+=1<<0;
if(!s.isEnabled)y+=1<<1;if(s.hU)y+=1<<3;if(P)y+=1<<4;c.gG(M,O,y)};l1.aC_=function(s,M,O,P){var y=P?c.je:c.h4,F=y(M,O);
O+=4;for(var R=0;R<F;R++)s.a8[R]=M[O+R];return O+F};l1.aK7=function(s,M,O){c.kE(M,O,s.a8.length);O+=4;
M.Qv(O,40);for(var R=0;R<40;R++){M.data[O+R]=s.a8[R]}return O+40};function jR(){}jR.kM=function(s,M,O,P,y){P=jR.aij(s,M,O,P,y);
return P};jR.mK=function(s,M,O,P,y,F,A){P=jR.avt(s,M,O,P,y,F,A);return P};jR.aij=function(s,M,O,P,y){var F=M.Vr,A=s.jy,h={},m=P;
for(var R=0;R<A.length;R++){var Z=A[R],u=Z.id,f=Z.length,U;if(u==-2&&s.$E==null)u=-1;if(u==-3)U=s.Xw.S;
else if(u==-2)U=s.$E.S;else U=s.S;var C=jR.a3(M.mL,M.VS,O,U.A,U.$,P,f,y);C=a.Gp(C,M.depth);P+=f;if(u==-3)s.Xw.N=C;
else if(u==-2)s.$E.N=C;else h["c"+u]=C}var H=new a.po(0);H.cd=null;if(F==3){H.o=h.c0;H.R=h.c1;H.X=h.c2;
H.cd=h["c-1"]}else if(F==1){H.o=h.c0;H.R=h.c0;H.X=h.c0;H.cd=h["c-1"]}else if(F==4){var t=M.v_.r1039,X=null,Q=h.c0,D=h.c1,L=h.c2,E=h.c3;
if(t){var X=t.a47,_=17;if(X==null){var S=ICC.R(t.buffer);if(S.header.spaceIn=="RGB "){}else X=t.a47=ICC.U.sampleLUT(S,_)}}if(X){var W={o:Q,R:D,X:L,cd:E},g=a.j(Q.length*4,M.depth);
a.oh(W,g);a.or(g);ICC.U.applyLUT4(X,_,g,g);a.hv(g,W)}else{var W={o:Q,R:D,X:L,cd:E},g=a.j(Q.length*4,M.depth);
a.oh(W,g);a.or(g);a.a0Z(g);a.hv(g,W)}H.o=Q;H.R=D;H.X=L;H.cd=h["c-1"]}if(H.o==null)H.o=a.j(0);if(H.cd==null&&H.o!=null){H.cd=H.o.slice(0);
H.cd.fill(a.Cs(a.$i(H.cd)))}if(H.R==null)H.R=H.o.slice(0);if(H.X==null)H.X=H.o.slice(0);s.buffer=a.j(Math.max(0,s.S.C()*4),M.depth);
a.oh(H,s.buffer);return P};jR.avt=function(s,M,O,P,y,F,A){var h=M.aiN(A),m=M.buffer,Z=null,u=a.$i(m),f=a.j(M.S.C(),u);
if(A){Z=a.j(M.S.C(),u);a.YT(m,Z,3);m=m.slice(0);a.avQ(m)}for(var R=0;R<h.length;R++){var U=h[R],C;if(U==-3)C=M.Xw.S;
else if(U==-2)C=M.$E.S;else C=M.S;var H=f;if(U==-3)H=M.Xw.N;if(U==-2)H=M.$E.N;if(U==-1){if(Z)H=Z;else a.YT(m,f,3)}if(U==0)a.YT(m,f,0);
if(U==1)a.YT(m,f,1);if(U==2)a.YT(m,f,2);if(U==3)a.YT(m,f,3);O.Qv(P,C.C()*3+4);var t=P;P=jR.Ba(s,H,O.data,C.A,C.$,P,u!=8||F[1]?3:1);
var X=P-t;if(s)c.a9F(O.data,y+R*10+2,X);else c.FE(O.data,y+R*6+2,X)}return P};jR.a3=function(s,M,O,P,y,F,A,h){var m=h?c.vJ:c.m4,Z=m(O,F);
F+=2;var u=jR.BH(s,M,O,P,y,F,Z,A-2,h);return u};jR.Ba=function(s,M,O,P,y,F,A){c.pd(O,F,A);F+=2;F=jR.i5(s,M,O,P,y,F,A);
return F};jR.BH=function(s,M,O,P,y,F,A,h,m){var Z,u=P*y*(M>>>3),f=u&3,U=u+(f==0?0:4-f);if(h<=0){return a.j(U,M)}if(A==0){Z=a.j(u);
Z.set(new Uint8Array(O.buffer,F,Math.min(u,O.buffer.byteLength-F)));if(M==16)for(var R=0;R<u;R+=2){var C=Z[R];
Z[R]=Z[R+1];Z[R+1]=C}if(M==32)for(var R=0;R<u;R+=4){var C=Z[R];Z[R]=Z[R+3];Z[R+3]=C;C=Z[R+1];Z[R+1]=Z[R+2];
Z[R+2]=C}F+=u}else if(A==1){Z=a.j(u);var H=s?4:2,t=jR.a6v(O,Z,P,y,F,F+H*y,H,m);F+=H*y+t}else if(A==2||A==3){var X=new Uint8Array(O.buffer,F+2,h-6),Q=a.j(U);
UZIP.inflateRaw(X,Q);if(A==3){if(M==8)for(var D=0;D<y;D++){var L=D*P+1,E=L+P-1,_=Q[L-1];for(var S=L;
S<E;S++){_+=Q[S];Q[S]=_&255}}else if(M==16)for(var D=0;D<y;D++){var L=D*P,E=L+P,_=0;for(var S=L;S<E;
S++){var W=S<<1;_+=Q[W]<<8|Q[W+1];Q[W]=_&255;Q[W+1]=_>>>8}}else{var g=P,x=Q.slice(0,g*4);for(var D=0;
D<y;D++){var L=D*g*4+1,E=L+g*4-1,_=Q[L-1];for(var S=L;S<E;S++){_+=Q[S];Q[S]=_&255}var V=D*g*4;for(var S=0;
S<g;S++){x[4*S+3]=Q[V+S];x[4*S+2]=Q[V+g+S];x[4*S+1]=Q[V+g+g+S];x[4*S]=Q[V+g+g+g+S]}Q.set(x,V)}}}if(Q.length==U)Z=Q;
else{Z=a.j(U);for(var R=0;R<Q.length;R++)Z[R]=Q[R]}}else Z=a.j(U);if(M==16)Z=new Uint16Array(Z.buffer);
if(M==32)Z=new Float32Array(Z.buffer);return Z};jR.i5=function(s,M,O,P,y,F,A){var h=P*y,m=a.$i(M);if(m!=8)M=new Uint8Array(M.buffer);
var Z=M;if(A==0)for(var R=0;R<h;R++)O[F++]=Z[R];else if(A==1){var u=s?4:2,f=jR.a5Z(Z,O,P,y,F,F+u*y,u);
F+=u*y+f}else if(A==2||A==3){function U(x,R){return x[R+1]<<8|x[R]}if(A==3){Z=Z.slice(0);if(m==8)for(var C=0;
C<y;C++){var H=C*P,t=H+P;for(var X=t-1;X>H;X--)Z[X]=Z[X]-Z[X-1]+256&255}else if(m==16)for(var C=0;C<y;
C++){var H=C*P,t=H+P;for(var X=t-1;X>H;X--){var Q=X<<1,D=U(Z,Q)-U(Z,Q-2)+65536&65535;Z[Q]=D>>>8;Z[Q+1]=D&255}var L=Z[H*2];
Z[H*2]=Z[H*2+1];Z[H*2+1]=L}else if(m==32){var E=P,_=Z.slice(0,E*4);for(var C=0;C<y;C++){var S=C*E*4;
for(var X=0;X<E;X++){var W=S+4*X;_[X]=Z[W+3];_[E+X]=Z[W+2];_[E+E+X]=Z[W+1];_[E+E+E+X]=Z[W]}for(var X=E*4-1;
X>0;X--)_[X]=_[X]-_[X-1]+256&255;Z.set(_,S)}}}O[F]=120;O[F+1]=156;F+=2;var g=pako.deflateRaw(Z,{apc:4});
O.set(g,F);F+=g.length+4}else console.log("Unknown compression: "+A);return F};jR.a6v=function(s,M,O,P,y,F,A,h){if(!(s instanceof Uint8Array)||!(M instanceof Uint8Array))throw"e";
var m=F,Z=P|0;if(h){if(A==2)for(var R=0;R<Z;R++){var u=c.vJ(s,y+(R<<1));jR.Fe(s,F,u,M,R*O,O);F+=u}else for(var R=0;
R<Z;R++){var u=c.je(s,y+(R<<2));jR.Fe(s,F,u,M,R*O,O);F+=u}}else{if(A==2)for(var R=0;R<Z;R++){var u=c.m4(s,y+(R<<1));
jR.Fe(s,F,u,M,R*O,O);F+=u}else for(var R=0;R<Z;R++){var u=c.h4(s,y+(R<<2));jR.Fe(s,F,u,M,R*O,O);F+=u}}return F-m};
jR.a5Z=function(s,M,O,P,y,F,A){var h=F;if(A==2)for(var R=0;R<P;R++){var m=jR.aE2(s,R*O,O,M,F);c.gz(M,y+R*2,m);
F+=m}else for(var R=0;R<P;R++){var m=jR.aE2(s,R*O,O,M,F);c.FE(M,y+R*4,m);F+=m}return F-h};jR.aE2=function(s,M,hS,O,P){var y,F,A,h,m,d4,Z;
h=M+hS;for(A=M,F=P;hS>0;A=y,hS-=d4){Z=hS<128?hS:128;if(A<=h-3&&s[A+1]==s[A+0]&&s[A+2]==s[A+0]){for(y=A+3;
y<A+Z&&s[y]==s[A+0];)++y;d4=y-A;O[F++]=1+256-d4;O[F++]=s[A+0]}else{for(y=A;y<A+Z;)if(y<=h-3&&s[y+1]==s[y+0]&&s[y+2]==s[y+0])break;
else++y;d4=y-A;O[F++]=d4-1;for(var R=0;R<d4;R++)O[F+R]=s[A+R];F+=d4}}return F-P};jR.Fe=function(s,M,O,P,y,F){for(var A=0;
A<O;){var hS=s[M++];if(hS>=128){var h=s[M++],m=y+(257-hS);P.fill(h,y,m);y=m;A+=2}else{for(var R=0;R<=hS;
R++)P[y+R]=s[M+R];M+=hS+1;y+=hS+1;A+=1+1+hS}}};function eQ(){}eQ.a3_=function(s){if(s.v_.r1005){s.FR=c.bP(s.v_.r1005,0)}if(s.v_.r1025){var M=s.v_.r1025;
delete s.v_.r1025;var O=dM.F_(M,0,M.length,s.A,s.$),P=new ad.Vp;P.u=O;s.J4[0]=fr.ce("Work Path",{vmsk:P})}if(s.v_.r1026){var y=s.v_.r1026;
for(var R=0;R<y.length;R+=2){var F=s.U[R>>>1];if(F)F.wC=c.m4(y,R)}}if(s.v_.r1032){s.FQ=jv.aum(s.v_.r1032,0)}delete s.v_.r1036;
s.A1(s.v_.r1039);if(s.v_.r1045){s.Z0=[];var A=s.v_.r1045,h=0;while(h<A.length){var m=c.KS(A,h);s.Z0.push(m);
h+=4+2+m.length*2}}if(s.v_.r1050){var Z=c.h4,u=s.v_.r1050,f=c.h4(u,0);if(f==6){var h=4,U=c._l(u,h);h+=16;
var C=c.aw(u,h);h+=4+C.length*2;var H=Z(u,h);h+=4;var t=s.$X;for(var R=0;R<H;R++){var X=$.sc.vA(),D;
t.push(X);X=X.v;X.sliceID.v=Z(u,h);h+=4;X.groupID.v=Z(u,h);h+=4;var Q=Z(u,h);h+=4;if(Q==1){D=Z(u,h);
h+=4}var C=c.aw(u,h);h+=4+C.length*2;var L=Z(u,h);h+=4;var E=[Z(u,h),Z(u,h+4),Z(u,h+8),Z(u,h+12)];h+=16;
$.sc.iK(t,t.length-1,E);var _=X.url.v=c.aw(u,h);h+=4+_.length*2;var S=X.null.v=c.aw(u,h);h+=4+S.length*2;
var W=X.Msge.v=c.aw(u,h);h+=4+W.length*2;var g=X.altTag.v=c.aw(u,h);h+=4+g.length*2;X.cellTextIsHTML.v=u[h]==1;
h++;var x=X.cellText.v=c.aw(u,h);h+=4+x.length*2;var V=Z(u,h);h+=4;var b=Z(u,h);h+=4;var N=u.slice(h,h+4);
h+=4;if(Q!=2)t.pop()}}else if(f==8){var J={},K=new gi(0,0,s.A,s.$);by.vU(u,J,8,!1);var u=s.$X=J.slices.v;
for(var R=0;R<u.length;R++){var q=$.sc.kY(u,R),d=new gi(q[0],q[1],q[2]-q[0],q[3]-q[1]);if(u[R].v.origin.v.ESliceOrigin!="userGenerated"||d.OK(K).g3()){u.splice(R,1);
R--}}}}if(s.v_.r1058){var l=s.v_.r1058,T=UTIF.decode(l.buffer,{parseMN:!1,debug:!1});jW.hM(T[0],s.j0);
delete s.v_.r1058}if(s.v_.r1060){var B=c.xJ(s.v_.r1060);jW.P5(B,s.j0);delete s.v_.r1060}if(s.v_.r1065){var y=s.v_.r1065;
s.Ru={};by.vU(y,s.Ru,4,!1)}if(s.v_.r1069){var y=s.v_.r1069,p=[];for(var R=2;R<y.length;R+=4){var D=c.h4(y,R);
for(var I=0;I<s.U.length;I++){var F=s.U[I];if(F.add.lyid==D&&F.add.lsct!=3&&p.indexOf(I)==-1)p.push(I)}}s.Y=p}if(s.v_.r1072){var y=s.v_.r1072;
for(var R=0;R<y.length;R++){var F=s.U[R];if(F)F.P3=y[R]==1}}if(s.v_.r1073){var y=s.v_.r1073,h=0,w=c.VU(y,h);
h+=4;var e=c.VU(y,h);h+=4;for(var R=0;R<e;R++){s.YX.push({y:w>=2?c.C6(y,h+2):c.bP(y,h+2),x:w>=2?c.C6(y,h+6):c.bP(y,h+6)});
h+=14}delete s.v_.r1073}if(s.v_.r1074){s.Hx={};by.vU(s.v_.r1074,s.Hx,4,!1);delete s.v_.r1074}var G,j,a5=null;
if(s.v_.r3000){G={};by.vU(s.v_.r3000,G,4,!1);delete s.v_.r3000}if(s.add.pths){j=s.add.pths;delete s.add.pths}for(var o=0;
o<=997;o++){var r="r"+(2e3+o),M=s.v_[r];if(M==null)break;var O=dM.F_(M,0,M.length,s.A,s.$),k="Path "+o,a7=[0,0];
if(j){var Y=j.pathList.v[o].v,v=Y.pathSymmetryClass;if(v){v=v.v;var n=v.pathSymmetryMode.v.pathSymmetryModeEnum.slice(16),H=v.pathSymmetryCount;
a7=[a.IN.aag.indexOf(n),H?H.v:0]}k=Y.pathUnicodeName.v}var cm=G?G.keyRootDescriptorList.v[o].v.keyDescriptorList.v:ad.$k(O),P=new ad.Vp;
P.u=O;s.J4.push(fr.ce(k,{vmsk:P,vogk:cm},a7));delete s.v_[r]}if(j){var gP=j.pathSymmetrySelectedPath;
if(gP)a5=s.J4[gP.v+1]}for(var R=0;R<s.J4.length;R++)if(s.J4[R].gT[0]==3){s.J4.splice(R,1);R--}if(a5){if(a5.gT[0]==3)s.I2=!0;
else s.vX=s.J4.indexOf(a5)}if(s.v_.r4000){s.e2=a.e2.kM(s.v_.r4000)}var cg=s.v_.r7000,a9=s.v_.r7001;if(cg){var m=c.xJ(cg);
s.Vx=jv.a2b(m)}if(a9){var m=c.xJ(a9);s.yi=jv.apI(m)}delete s.v_.r7000;delete s.v_.r7001};eQ.auL=function(s,M,O){s.v_.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
c.a9z(s.v_.r1005,0,s.FR);c.a9z(s.v_.r1005,8,s.FR);if(s.YX.length>0){var P=s.YX;s.v_.r1073=new Uint8Array(8+P.length*14);
c.Vd(s.v_.r1073,0,3);c.Vd(s.v_.r1073,4,P.length);for(var R=0;R<P.length;R++){var y=8+14*R;c.pd(s.v_.r1073,y,14);
c.VL(s.v_.r1073,y+2,P[R].y);c.VL(s.v_.r1073,y+6,P[R].x);c.pd(s.v_.r1073,y+10,-1);c.pd(s.v_.r1073,y+12,8)}}if(s.X2()){s.v_.r1022=new Uint8Array([0,3+s.dj.length-1,0])}else delete s.v_.r1022;
var F=new Uint8Array(s.U.length*2),A=0,h=new Uint8Array(s.U.length),m=1,y=16;for(var R=0;R<s.U.length;
R++){var Z=s.U[R],u=Z.wC,f=Z.P3?1:0;c.gz(F,R*2,u);h[R]=f;if(u>A)A=u;if(f==0)m=0}if(A>0)s.v_.r1026=F;
if(m<1)s.v_.r1072=h;var U=s.FQ,C=U.length,H=s.v_.r1032=new Uint8Array(16+5*C);c.FE(H,0,1);c.FE(H,4,576);
c.FE(H,8,576);c.FE(H,12,C);for(var R=0;R<C;R++){c.Vd(H,y,Math.round(U[R][1]*32));H[y+4]=U[R][0];y+=5}if(M[4]!=!0){var t=[s.Ta(),new gi(0,0,s.A,s.$)],X=0;
a.pT(t);while(t[X+1].C()>200*200)X+=2;var Q=b_.O7("jpg"),D=t[X+1],L=new Uint8Array(Q.u6([[t[X].buffer,null,s.FR]],D.A,D.$)),H=s.v_.r1036=new Uint8Array(28+L.length);
c.FE(H,0,1);c.FE(H,4,D.A);c.FE(H,8,D.$);c.FE(H,12,D.A*3);c.FE(H,16,D.C()*3);c.FE(H,20,L.length);c.gz(H,24,24);
c.gz(H,26,1);H.set(L,28)}delete s.v_.r1045;delete s.v_.r1006;delete s.v_.r1077;var E=new jY;y=0;var _=new Uint8Array(4+O.length*13);
_[3]=1;for(var R=0;R<O.length;R++){var S=O[R],W=S.name+"\0";c.Qs(E,y,W);y+=4+W.length*2;var g=4+R*13;
iy.vh(_,g,S.mY);_[g+11]=S.SU;_[g+12]=S.VK}if(y!=0)s.v_.r1045=E.data.slice(0,y);s.v_.r1077=_;for(var R=0;
R<s.$X.length;R++)s.$X[s.$X.length-R-1].v.sliceID.v=2+R*3;var x={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:s.$X}},E=new jY;
c.kE(E,0,8);c.kE(E,4,16);var V=by.C3(E,x,8);s.v_.r1050=E.data.slice(0,V+8);var E=new jY;c.kE(E,0,16);
var V=by.C3(E,s.Ru,4);s.v_.r1065=E.data.slice(0,V+4);if(s.Hx){var E=new jY;c.kE(E,0,16);var V=by.C3(E,s.Hx,4);
s.v_.r1074=E.data.slice(0,V+4)}var b=s.Y;H=s.v_.r1069=new Uint8Array(2+b.length*4);c.gz(H,0,b.length);
for(var R=0;R<b.length;R++)c.FE(H,2+4*R,s.U[b[R]].add.lyid);delete s.v_.r1058;delete s.v_.r1060;if(Object.keys(s.j0).length!=0){var N=[[Math.round(s.FR*1e4),1e4]],J=[{t274:[1],t282:N,t283:N,t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
jW.MG(s.j0,J[0],M[0]&&M[1]);s.v_.r1058=new Uint8Array(UTIF.encode(J));var K=jW.zw(s.j0);s.v_.r1060=c.WT(K)}var q=[],d=[],l=s.J4.slice(0);
if(s.I2){var T=dM.ayd([{type:6},{type:8,all:0},{type:3,length:5,boolop:1,frule:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),B=new ad.Vp;
B.u=T;l.push(fr.ce("Tile Symmetry 1",{vmsk:B,vogk:ad.$k(T)},[3,1]))}var p=s.I2?s.J4.length-1:s.vX-1;
for(var R=0;R<l.length;R++){var I=l[R],T=I.add.vmsk.u;if(R==0&&T.length==2)continue;var w=a.j(T.length*26);
dM.ug(w,0,T,s.A,s.$);var e=R==0?1025:2e3+R-1;s.v_["r"+e]=w;if(R!=0){var G={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:I.name}},j=G.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryMode"+a.IN.aag[I.gT[0]]}}}};
if(I.gT[1]!=0)j.v.pathSymmetryCount={t:"long",v:I.gT[1]};q.push({t:"Objc",v:G});d.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:I.add.vogk}}})}}if(q.length!=0){s.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:q}};
if(p!=-1)s.add.pths.pathSymmetrySelectedPath={t:"long",v:p};d={classID:"null",keyRootDescriptorList:{t:"VlLs",v:d}};
var E=new jY;c.kE(E,0,16);var V=by.C3(E,d,4);s.v_.r3000=E.data.slice(0,V+4)}else{delete s.add.pths;delete s.v_.r3000}if(s.e2&&s.e2.length!=0){s.v_.r4000=a.e2.$a(s.e2)}if(s.Vx.length!=0){var o="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var R=0;R<s.Vx.length;R++){var r=s.Vx[R],k=[];for(var e in r)k.push(e+"=\""+r[e]+"\"");o+="<variable "+k.join(" ")+">\n</variable>\n"}o+="</variables>\n</variableSet>\n</variableSets>";
s.v_.r7000=c.WT(o)}if(s.yi.length!=0){var o="<sampleDataSets psdPath=\""+s.name+"\">\n";for(var R=1;
R<s.yi.length;R++){var a7=s.yi[R];o+="<sampleDataSet dataSetName=\"Data Set "+R+"\">\n";for(var Y=0;
Y<a7.length;Y++)o+="<"+s.yi[0][Y]+">"+a7[Y].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+s.yi[0][Y]+">\n";
o+="</sampleDataSet>\n"}o+="</sampleDataSets>";s.v_.r7001=c.WT(o)}};eQ.aa9=function(s,M,O){var P=c.h4(M,O),y=0;
O+=4;var F=[];while(y<P){var A=c.Db(M,O+y,4);y+=4;var h=c.m4(M,O+y);y+=2;var m=c.VJ(M,O+y);y+=m.length;
if(A=="MeSa"&&(h==7e3||h==7001)){}else if(A!="8BIM"){F.push(h);console.log("Unknown Image Resources signature: "+A+", ID: "+h)}var Z=c.h4(M,O+y);
y+=4;if(s.v_["r"+h]!=null)console.log("--- two resources with same ID");s.v_["r"+h]=c.l5(M,O+y,Z);y+=Z+(Z&1)}for(var R=0;
R<F.length;R++)delete s.v_["r"+F[R]];delete s.v_.r1092;return O+P};eQ.akT=function(s,M,O){var P=O,A=0;
O+=4;var y=[];for(var F in s.v_){y.push(parseInt(F.slice(1)))}y.sort(function(f,U){return f-U});for(var R=0;
R<y.length;R++){var h=y[R];c.qe(M,O+A,h==7e3||h==7001?"MeSa":"8BIM");A+=4;c.Yz(M,O+A,h);A+=2;var m=c.D2(M,O+A,"");
A+=m;var Z=s.v_["r"+h],u=Z.length;c.kE(M,O+A,u);A+=4;c.R4(M,O+A,Z);A+=u;if(u%2==1)A++}c.kE(M,P,A);return O+A};
function jv(){}jv.GR=function(s,M,O){return;var P="",y=M;while(y!=0){var F=y%1e3+"";while(F.length<3)F="0"+F;
P=(P==""?F:F+" ")+P;y=Math.floor(y/1e3)}while(P.startsWith("0")&&P!="0")P=P.slice(1);while(P.length<11)P=" "+P;
console.log("===",P,"\t".repeat(s),": "+O)};jv.aiy=function(s){var M={v_:{},add:{},depth:8},P=0,y=0,h;
M.mL=!1;M.VS=8;var O=new Uint8Array(s);y=jv.nF(M,O,P);P=y;y=jv.a8F(M,O,P);P=y;var F=c.h4(O,P);P+=4+F;
var A=M.mL?8:4;if(M.mL)h=c.dy(O,P);else h=c.h4(O,P);P+=A+h;y=jv.avT(M,O,P);return[{IK:new gi(0,0,M.A,M.$),data:M.buffer.buffer}]};
jv.kM=function(s,M){M.mL=!1;var O=new Uint8Array(s),P=0,y=0,h=0,U=!1,C=!0,H=!1,t=0,k7=0;y=jv.nF(M,O,P);
jv.GR(0,y-P,"PSD Header");P=y;y=jv.a8F(M,O,P);jv.GR(0,y-P,"Color Mode Data");P=y;y=eQ.aa9(M,O,P);jv.GR(0,y-P,"Image Resources");
P=y;var F=P;y=jv.a3q(M,O,P);jv.GR(0,y-P,"Layer And Mask Info");P=y;eQ.a3_(M);var F=P;y=jv.avT(M,O,P);
jv.GR(0,y-P,"Merged Image");P=y;delete M.mL;if(M.U.length==0){var A=M.Tk();A.jj("Background");M.U.push(A);
A.buffer=M.buffer.slice(0);A.S=new gi(0,0,M.A,M.$)}for(var R=0;R<M.U.length;R++){var y=M.U[R],m=y.add.lsct;
if(m==dU.Bs)h++;else if(m==dU.l9||m==dU.aY)h--}while(h<0){M.U.unshift(M.kA());h++}var Z=new gi(0,0,M.A,M.$),u=M.add.Txt2,f=u;
if(f){f=f.Dn;if(f._DocumentResources==null)f=hO.aug(f)}var X=-1;for(var R=0;R<M.U.length;R++){var y=M.U[R],Q=y.add.lsct,D=y.add.vmsk,L=y.Bl();
if(Q==dU.Bs){t++;y.add.lspf=0}else if(Q==dU.l9||Q==dU.aY)t--;if(y.name==""){y.name="Layer "+(R+1);H=!0}if(H&&y.ES()&&y.mX=="norm")y.mX="pass";
if(y.o7()&&y.UU(M)==null)delete y.add.SoLd;if(y.o7()&&y.UU(M).$E){var E=y.UU(M);E.$E.isEnabled=y.add.SoLd.filterFX.v.filterMaskEnable.v}if(D&&y.tE()){var _=aV.To.Jb(!0);
if(y.add.vstk==null)y.add.vstk=a.G(_);else{var S="strokeStyleLineDashSet";if(y.add.vstk[S]==null)y.add.vstk[S]=a.G(_[S])}y.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
y.add.vstk.strokeStyleResolution.v=M.FR}if(D&&(y.add.vogk==null||a.z._i(D.u)!=y.add.vogk.length))y.$k();
if(D&&y.add.vogk){var W=D.u,g=y.add.vogk,x=0;for(var V=0;V<W.length;V++){var b=W[V];if(b.I==0||b.I==3)if(b.VF!=-1){if(W[V+1+b.length]&&W[V+1+b.length].VF==-1&&g[x].v.keyOriginType){y.$k();
break}x++}}}if(!1){var N=y.add.vogk,J=!0;for(var x=0;x<N.length;x++){var K=N[x].v.keyShapeInvalidated;
if(K==null||K.v==!1)J=!1}if(J)y.$k()}if(y.add.SoLd&&y.S.g3()){console.log("redrawing smart instance");
y.VN(M,null,null,!0,!0)}if(L==null&&y.$E!=null){if(y.$E.hU==!1){y.$E.hU=!0;y.Xw=y.$E.v()}}L=y.Bl();if(y.os){var _=y.os,q=D;
if(L){L.vR=_[0];L.CN=_[1]}if(q){q.vR=_[2];q.CN=_[3]}y.os=null}if(L!=null&&D!=null&&(L.CN+D.CN!=0||L.vR+D.vR!=2*255))y.uH(M);
else if(D!=null&&!y.tE())y.uH(M);else if(L&&L.vR!=255&&y.tE())y.uH(M);var d=y.add.artb;if(d&&d.artboardBackgroundType==null)d.artboardBackgroundType={t:"long",v:1};
if(d&&t!=0)delete y.add.artb;var l=y.add.vstk;if(y.tE()&&(y.S.g3()||D&&D.CN!=0||l&&!l.fillEnabled.v&&(!l.strokeEnabled.v||l.strokeStyleLineWidth.v.val==0)))y.sK(M);
if(y.add.TySh){U=!0;if(!y.S.g3())C=!1}if(y.add.TySh&&f){X++;var T=y.add.TySh.nA,B=iP.SP(T),p=f._DocumentObjects._TextObjects;
if(p.length<=X){console.log("Txt2 incomplete");continue}var I=p[X]._Model,w=I._StyleRun?I._StyleRun._RunArray:[],e=T.EngineDict.StyleRun.RunArray;
for(var G=0;G<e.length;G++){var j=e[G].StyleSheet.StyleSheetData;if(w[G]==null)continue;var o=w[G]._RunData._StyleSheet._Features;
if(o){if(o._BaselineDirection)j.BaselineDirection=parseInt(o._BaselineDirection.slice(1));if(o._FillBackgroundFlag)j._FillBackgroundFlag=o._FillBackgroundFlag;
if(o._FillBackgroundColor)j._FillBackgroundColor={Type:1,Values:jt._J(o._FillBackgroundColor._Color._Values)};
var m=iP.g2;for(var r=0;r<m.length;r++)if(o[m[r]]!=null)j[m[r]]=o[m[r]];var k=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset","_DigitSet"];
for(var r=0;r<k.length;r++)if(o[k[r]]!=null)j[k[r]]=parseFloat(o[k[r]].slice(1));if(o._MiterLimit!=null)j._MiterLimit=Math.max(j._MiterLimit,1);
if(o._LineDashArray!=null)j._LineDashArray=jt._J(o._LineDashArray)}}var a7=T.EngineDict.ParagraphRun.RunArray,Y=I._ParagraphRun._RunArray;
if(Y==null)Y=[];var v=Math.min(Y.length,a7.length);for(var r=0;r<v;r++){var n=a7[r].ParagraphSheet.Properties,cm=f._DocumentResources._ParagraphSheetSet._Resources,a5=Y[r]._RunData._ParagraphSheet;
if(typeof a5=="string")a5=cm[parseInt(a5.slice(1))]._Resource;var gP=a5._Parent==null?a5:cm[parseInt(a5._Parent.slice(1))]._Resource;
a5=a5._Features;gP=gP._Features;var cg=a5._ParagraphDirection;if(cg==null)cg=gP._ParagraphDirection;
if(cg)n._Direction=parseInt(cg.slice(1));if(a5._ComposerEngine)n._ComposerEngine=parseInt(a5._ComposerEngine.slice(1))}if(I._AlternateGlyphRun){var Y=I._AlternateGlyphRun._RunArray,v=Y.length,a9=T.EngineDict.AlternateGlyphRun=iP.aB3();
for(var r=0;r<v;r++){var a5=Y[r],ew={},h7=a5._RunData._AlternateGlyphSheet;if(h7)ew.Glyph=parseInt(h7._Glyph.slice(1));
a9.RunArray.push(ew);a9.RunLengthArray.push(parseInt(a5._Length.slice(1)))}}var bh=f._DocumentResources,ba=bh._FontSet._Resources,jx=T.ResourceDict.FontSet;
for(var c4=0;c4<jx.length;c4++){var bq=jx[c4],di=null;for(var r=0;r<ba.length;r++){var il=ba[r]._Resource._Identifier;
if(bq.Name==il._Name.slice(1))di=il}if(di){var j0=di._MMAxis;if(j0){bq.Axis=[];for(var r=0;r<j0.length;
r++)bq.Axis.push(parseInt(j0[r].slice(1)))}}}var j1=bh._TextFrameSet._Resources,b5=j1[X]._Resource,b4=b5._Data,lm=new kp(1,0,0,1,0,0);
if(b5._0){var ix=parseFloat(b5._0[0].slice(1)),jy=parseFloat(b5._0[1].slice(1));lm.translate(ix,jy)}if(B){lm.translate(B[0],B[1]);
iP.w9(T,[0,0,B[2]-B[0],B[3]-B[1]])}else{if(b5._Bezier&&b5._Bezier._Points){var bz=b5._Bezier._Points,ix=parseFloat(bz[0].slice(1)),jy=parseFloat(bz[1].slice(1));
if(ix!=0||jy!=0){lm.translate(ix,jy)}}}if(b5._Data&&b5._Data._FrameMatrix){var c5=b5._Data._FrameMatrix;
c5=c5.map(function(fs){return parseFloat(fs.slice(1))});lm.concat(new kp(c5[0],c5[1],c5[2],c5[3],c5[4],c5[5]))}lm.concat(y.add.TySh.M);
y.add.TySh.M=lm;var k0=b4._Type?parseInt(b4._Type.slice(1)):0;if(k0==2||k0==1&&b4._PathData&&b4._PathData._Spacing=="i-3")if(b5._Bezier){var cd=function(fs){return parseFloat(fs.slice(1))},bz=b5._Bezier._Points.map(cd);
if(B)a.b.M(bz,new kp(1,0,0,1,-B[0],-B[1]),bz);var fz=b4._PathData?b4._PathData._Reversed:!1,fu=b4._TextOnPathTRange;
if(fu==null)fu=["f-3","f-3"];T.Curve={Points:bz,TextOnPathTRange:fu.map(cd),Reversed:fz==null?!1:fz};
y.add.TySh.add={vmsk:new ad.Vp,vogk:null};iP.ND(y.add.TySh)}if(b4._LineOrientation=="i2")T._LineOrientation=2}}$.FF.ez(M,!0);
var c6={},hP=[];for(var R=0;R<M.U.length;R++){var e1=M.U[R].add.lyid;if(e1==null)continue;var k7=Math.max(k7,e1);
if(c6[e1]!=null)hP.push(R);else c6[e1]=!0}for(var R=0;R<hP.length;R++)M.U[hP[R]].add.lyid=k7+1+R};jv.aum=function(s,M){M+=12;
var O=c.h4(s,M),P=[];M+=4;O=Math.min(O,Math.floor((s.length-M)/5));for(var R=0;R<O;R++){var y=Math.min(s[M+R*5+4],1),F=c.VU(s,M+R*5)/32;
P.push([y,F])}return P};jv.a2b=function(s){var M=new DOMParser,O=M.parseFromString(s,"text/xml").firstChild.children[0],P=O.getElementsByTagName("variables");
if(P.length==0)return[];P=P[0].children;var y=[],F="varName trait docRef placementMethod align valign clip".split(" ");
for(var A=0;A<P.length;A++){var h=P[A],m={};y.push(m);for(var Z=0;Z<F.length;Z++){var u=F[Z],f=h.getAttribute(u);
if(f==null)continue;m[u]=f}}return y};jv.apI=function(s){var M=new DOMParser,O=M.parseFromString(s,"text/xml").firstChild.children,P=[[]];
if(O==null)return P;for(var R=0;R<O.length;R++){var y=O[R],F=[];P.push(F);for(var A=0;A<y.children.length;
A++){var h=y.children[A];if(R==0)P[0].push(h.tagName);F.push(h.textContent)}}return P};jv.$a=function(s,M,O){$.FF.Oo(s);
$.FF.ez(s,!1);s.mL=O[3]==!0;var P=[],y=[],t=0;for(var R=0;R<s.U.length;R++){var F=s.U[R];if(F.o7()&&F.UU(s).$E){F.add.SoLd.filterFX.v.filterMaskEnable.v=F.UU(s).$E.isEnabled}if(F.add.TySh){var A=F.add.TySh.nA,h=iP.z0(A);
F.add.TySh.x9.TextIndex={t:"long",v:P.length};P.push(A);if(h==2)iP.Cg(F.add.TySh)}var m=F.add.vstk;if(m)m.strokeStyleResolution.v=s.FR;
if(F.tE()||O[2]&&F.add.SoLd){y[R]=[F.S,F.buffer];F.S=new gi;F.buffer=a.j(0);if(F.add.SoLd){var Z=F.UU(s);
if(Z!=null){y[R].push(Z.buffer);Z.buffer=a.j(Z.buffer.length)}}}}if(P.length>0){var u=s.add.Txt2?s.add.Txt2.Dn:null;
if(s.add.Txt2==null)s.add.Txt2={};s.add.Txt2.Dn=jt.aHV(P,null,u)}var f=[s.add.lnk2,s.add.FEid,s.add.Patt],U=s.acg(s.U);
s.aHZ(U);var C=a.vI(s.buffer);if(s.add.fcmy)C=!1;var H=[];if(C)H.push({name:"Transparency",mY:{o:255,R:0,X:0},SU:100,VK:1});
H=H.concat(s.dj);eQ.auL(s,O,H);t=jv.f1(s,M,t,3+H.length);t=jv.akt(s,M,t);t=eQ.akT(s,M,t);t=jv.avK(s,M,t,O,C);
t=jv.a8k(s,M,t,O[0],C);var X=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var R=0;R<X.length;R++)delete s.v_["r"+X[R]];for(var R=0;R<s.U.length;R++){var F=s.U[R];if(F.tE()||O[2]&&F.add.SoLd){F.S=y[R][0];
F.buffer=y[R][1];if(y[R][2]){var Z=F.UU(s);y[R].push(Z.buffer);Z.buffer=y[R][2]}}}s.aHZ(f);$.FF.ez(s,!0);
delete s.mL;return t};jv.nF=function(s,M,O){var P=c.Db(M,O,4);O+=4;if(P!="8BPS")alert("invalid header signature: "+P);
var y=c.m4(M,O);O+=2;s.mL=y==2;if(y!=1&&y!=2)alert("invalid version: "+y);O+=6;s._9=c.m4(M,O);O+=2;s.$=c.VU(M,O);
O+=4;s.A=c.VU(M,O);O+=4;s.VS=c.m4(M,O);if(aP)s.depth=s.VS;O+=2;s.Vr=c.m4(M,O);O+=2;return O};jv.f1=function(s,M,O,P){var y=s.add.fcmy==1;
M.Qv(0,64);c.Eu(M.data,O,"8BPS");O+=4;c.gz(M.data,O,s.mL?2:1);O+=2;c.FE(M.data,O,0);O+=4;c.gz(M.data,O,0);
O+=2;c.gz(M.data,O,P+(y?1:0));O+=2;c.Vd(M.data,O,s.$);O+=4;c.Vd(M.data,O,s.A);O+=4;c.gz(M.data,O,s.depth);
O+=2;c.gz(M.data,O,y?4:3);O+=2;return O};jv.a8F=function(s,M,O){var P=c.VU(M,O);O+=4;if(P!=0)s.XQ=M.slice(O,O+P);
O+=P;return O};jv.akt=function(s,M,O){if(s.depth==32){var P=new Uint8Array([104,100,114,116,0,0,0,3,62,107,133,31,0,0,0,2,0,0,0,7,0,76,0,105,0,110,0,101,0,97,0,114,0,0,0,2,0,2,0,0,0,0,0,255,0,255,1,1,0,0,0,0,0,0,0,0,65,128,0,0,0,0,0,1,0,0,0,0,63,128,0,0,104,100,114,97,0,0,0,6,0,0,0,0,65,160,0,0,65,240,0,0,0,0,0,0,0,0,0,0,63,128,0,0,0,0,0,0,0,0]);
c.qD(M,O,P.length);O+=4;M.Qv(O,P.length);M.data.set(P,O);O+=P.length}else{c.qD(M,O,0);O+=4}return O};
jv.a3q=function(s,M,O){var P=O,y,F,A=s.mL?8:4;if(s.mL)y=c.dy(M,O);else y=c.h4(M,O);O+=A;if(y==0)return P+A;
F=jv.alC(s,M,O);jv.GR(1,F-O,"Layer Info");O=F;F=jv.a4Z(s,M,O);jv.GR(1,F-O,"Global Layer Mask Info");
O=F;F=bG.rK(M,O,P+A+y,s.add,s.mL,s);jv.GR(1,F-O,"Project Add Info");O=F;return P+A+y};jv.avK=function(s,M,O,P,y){var F=O;
c.kE(M,O,0);O+=4;if(s.mL){c.kE(M,O,0);O+=4}O=jv.abr(s,M,O,P,y);O=jv.a6D(s,M,O);var A=s.add;if(s.depth!=8){A={};
A["Lr"+s.depth]={};for(var h in s.add)A[h]=s.add[h]}O=bG.TW(M,O,A,s.mL,s);if(s.mL)c.U4(M,F,O-F-8);else c.kE(M,F,O-F-4);
return O};jv.alC=function(s,M,O){var P,y=s.mL?8:4;if(s.mL)P=c.dy(M,O);else P=c.h4(M,O);O+=y;if(P!=0)jv.hZ(s,M,O);
return O+P};jv.hZ=function(s,M,O,P){var y=O,F=P?c.Sw:c.VQ,A=F(M,O);O+=2;var h=Math.abs(A);for(var R=0;
R<h;R++){var m=new ad;O=l1.kM(m,s,M,O,P);s.U[R]=m}var Z=new gi(0,0,s.A,s.$);for(var R=0;R<h;R++){var u=s.U[R],f=u.Bl(),U=jR.kM(u,s,M,O,P);
if(U-O>8)jv.GR(2,U-O,"Lay: "+u.getName());O=U;jv.ap1(u,Z);if(f)jv.ap1(f,Z)}};jv.ap1=function(s,M){};
jv.abr=function(s,M,O,P,y){var F=O,A=s.mL;O+=A?8:4;if(s.depth==8)O=jv.aBN(s,M,O,P,y);var h=O-F-(A?8:4);
if(h%2!=0)h++;if(A)c.U4(M,F,h);else c.kE(M,F,h);return F+h+(A?8:4)};jv.aBN=function(s,M,O,P,y){var F=s.U.length;
c.DX(M,O,y?-F:F);O+=2;var A=[];for(var R=0;R<F;R++)O=l1.$a(s.U[R],s,M,O,A);for(var R=0;R<F;R++)O=jR.mK(s.mL,s.U[R],M,O,A[R],P,s.add.fcmy==1);
return O};jv.a4Z=function(s,M,O){var P=c.h4(M,O);O+=4;O+=P;return O};jv.a6D=function(s,M,O){var P=c.kE(M,O,0);
O+=4;return O};jv.avT=function(s,M,O){var P=s.Vr,y="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),F=[1,1,1,3,4,1,1,3],f;
delete s.add.fcmy;if(P!=3){if(P==1||P==2||P==4)console.log("Project will be converted from "+y[P]+" to "+y[3]+" mode.");
else{alert("Color mode "+y[P]+" is not supported yet :(")}if(P==4)s.add.fcmy=1}var A=F[P]+(s.Z0==null||s.Z0[0]=="Transparency"?1:0),h=s.A,m=s.$,Z=h*m,u=c.m4(M,O);
O+=2;s.buffer=a.j(Z*4,s.depth);a.$j(s.buffer,1);var U=O;for(var C=0;C<s._9;C++){if(u==0){f=jR.BH(s.mL,s.VS,M,h,m,O,u);
f=a.Gp(f,s.depth);O+=Z*(s.VS>>>3)}else if(u==1){var H=s.VS==8?1:s.VS==16?2:4;f=a.j(Z*H);var t=s.mL?4:2;
if(C==0)O+=s._9*m*t;O+=jR.a6v(M,f,h*H,m,U+C*m*t,O,t);if(s.VS==16){for(var R=0;R<f.length;R+=2){var X=f[R];
f[R]=f[R+1];f[R+1]=X}f=new Uint16Array(f.buffer)}if(s.VS==32){for(var R=0;R<f.length;R+=4){var X=f[R];
f[R]=f[R+3];f[R+3]=X;X=f[R+1];f[R+1]=f[R+2];f[R+2]=X}f=new Float32Array(f.buffer)}f=a.Gp(f,s.depth)}else{console.log("unknown compression of image data: ",u);
return}if(C<A){a.GS(f,s.buffer,C);if(s._9==1&&C==0){a.GS(f,s.buffer,1);a.GS(f,s.buffer,2)}}else{var Q=new ad.OL,D=C-A,L=C-F[s.Vr];
Q.name=s.Z0?s.Z0[L]:"Alpha";if(Q.name=="Quick Mask"){Q.H7=!0;s.G7.push(D)}Q.S=new gi(0,0,h,m);Q.N=f;
Q.color=0;Q.FW();s.dj[D]=Q;if(s.v_.r1077){var E=s.v_.r1077.slice(4+L*13);Q.mY=iy.K7(E,0);Q.SU=E[11];
Q.VK=E[12];if(Q.VK==2)Q.H7=!0}}}s._9=4;if(s.Vr==2)for(var R=0;R<Z;R++){var _=R*4,S=s.buffer[_];s.buffer[_]=s.XQ[0+S];
s.buffer[_+1]=s.XQ[256+S];s.buffer[_+2]=s.XQ[512+S]}return O};jv.a8k=function(s,M,O,P,y){var F=1,A=16,h=s.A,m=s.$,u,f,U;
c.Yz(M,O,F);O+=2;if(s.depth!=8)P=!0;var Z=h*m;if(!P){f=new a.po(h*m);a.hv(s.buffer,f);var C=f.o,H=f.R,t=f.X,X=f.cd;
for(var R=0;R<Z;R++){var Q=X[R]*(1/255);C[R]=~~(C[R]*Q+255*(1-Q));H[R]=~~(H[R]*Q+255*(1-Q));t[R]=~~(t[R]*Q+255*(1-Q))}U=[f.o,f.R,f.X];
if(s.add.fcmy==1){U.push(a.j(Z));var D=s.buffer.slice(0);a.avQ(D);a.hv(D,{o:U[0],R:U[1],X:U[2],cd:U[3]})}if(y)U.push(f.cd)}else{u=a.j(Z,s.depth);
if(s.depth==16)u.fill(65535);U=[u,u,u];if(s.add.fcmy==1)U.push(u);if(y)U.push(u)}for(var R=0;R<s.dj.length;
R++){U.push(s.dj[R].mw(new gi(0,0,s.A,s.$)))}var L=O;for(var E=0;E<U.length;E++){M.Qv(O,h*m+4);u=U[E];
if(F==0||F==2||F==3)O=jR.i5(s.mL,u,M.data,h,m,O,F);else{var _=new Uint8Array(u.buffer),S=h*(s.depth>>>3),W=s.mL?4:2;
if(E==0)O+=U.length*m*W;var g=O;O+=jR.a5Z(_,M.data,S,m,L+E*m*W,O,W)}}return O};function hJ(){}hJ.kM=function(s){var M={};
hJ.a_(s,M,0,0);return M};hJ.$a=function(s,M){var O=0;O=hJ.X9(s,M,O,0);return O};hJ.a_=function(s,M,O,P){while(s[O]!="<".charCodeAt(0))O++;
O+=2;while(!0){if(s[O]=="/".charCodeAt(0)){O++;var y=c.indexOf(s," ".charCodeAt(0),O,O+50),F=c.indexOf(s,"\n".charCodeAt(0),O,O+50);
if(F==-1)F=Infinity;if(y==-1)y=Infinity;var A=Math.min(F,y),h=c.Db(s,O,A-O),m=hJ.VC(s,A+1,P+1,h);M[h]=m.K;
O=A+1;O+=m.size}else if(s[O]==">".charCodeAt(0)){O+=2;break}else{var Z=s[O];if(Z==10||Z==9||Z==32)O++;
else{console.log("unknown byte: "+Z+", char: "+String.fromCharCode(Z),O);O++}}}return O};hJ.X9=function(s,M,O,P){c.qe(M,O,"<<\n");
O+=3;var y=hJ.ac9;for(var F in s){c.gG(M,O,"\t".charCodeAt(0),P+1);O+=P+1;c.qe(M,O,"/"+F);O+=1+F.length;
if(y(s[F])||s[F]instanceof Array){c.qe(M,O," ");O++}else{c.qe(M,O,"\n");O++;c.gG(M,O,"\t".charCodeAt(0),P+1);
O+=P+1}O=hJ.OQ(s[F],M,O,P+1);c.qe(M,O,"\n");O++}c.gG(M,O,"\t".charCodeAt(0),P);O+=P;c.qe(M,O,">>");O+=2;
return O};hJ.VC=function(s,M,O,P){var y=M,F={size:0,K:0};while(!0){while(s[M]==" ".charCodeAt(0)||s[M]=="\t".charCodeAt(0)||s[M]=="\n".charCodeAt(0))M++;
if(s[M]=="<".charCodeAt(0)){F.K={};M=hJ.a_(s,F.K,M,O+1);break}else if(s[M]=="(".charCodeAt(0)){M+=3;
var A=M;while(!0){if(s[A-1]!="\\".charCodeAt(0)&&s[A]==")".charCodeAt(0)&&(s[A+1]=="\n".charCodeAt(0)||s[A+1]==" ".charCodeAt(0)))break;
else A++}F.K=c.a27(s,M,A);M=A+2;break}else if(s[M]=="[".charCodeAt(0)){M++;F.K=[];while(s[M]==" ".charCodeAt(0)||s[M]=="\t".charCodeAt(0)||s[M]=="\n".charCodeAt(0))M++;
while(s[M]!="]".charCodeAt(0)){var h=hJ.VC(s,M,O+1,P);F.K.push(h.K);M+=h.size;while(s[M]==" ".charCodeAt(0)||s[M]=="\t".charCodeAt(0)||s[M]=="\n".charCodeAt(0))M++}M++;
break}else{var m=c.indexOf(s," ".charCodeAt(0),M,M+50),Z=c.indexOf(s,"\n".charCodeAt(0),M,M+50);if(Z==-1)Z=Infinity;
if(m==-1)m=Infinity;var u=c.Db(s,M,Math.min(m,Z)-M).trim(),f=parseFloat(u);if(!isNaN(f)){F.K=parseFloat(u);
M=Math.min(m,Z)+1;break}else if(u=="true"||u=="false"){F.K=u=="true";M=Math.min(m,Z)+1;break}else if(u=="null"||u=="NaN"||u=="undefined"){F.K=0;
M=Math.min(m,Z)+1;break}else{console.log("unknown identifier: "+u);throw"e"}M=Math.min(m,Z)+1}}F.size=M-y;
return F};hJ.OQ=function(s,M,O,P){if(s instanceof Array){var y=s.length==0||typeof s[0]=="number";if(y){c.qe(M,O,"[ ");
O+=2;for(var R=0;R<s.length;R++){var F=s[R]+" ";c.qe(M,O,F);O+=F.length}c.qe(M,O,"]");O+=1}else{c.qe(M,O,"[\n");
O+=2;for(var R=0;R<s.length;R++){c.gG(M,O,"\t".charCodeAt(0),P);O+=P;O=hJ.OQ(s[R],M,O,P);c.qe(M,O,"\n");
O++}c.gG(M,O,"\t".charCodeAt(0),P);O+=P;c.qe(M,O,"]");O+=1}}else if(s instanceof Object){O=hJ.X9(s,M,O,P)}else if(typeof s=="string"){c.qe(M,O,"(");
O++;c.gG(M,O,254);O++;c.gG(M,O,255);O++;O=c.amG(M,O,s);c.qe(M,O,")");O+=1}else{var F=s+"";c.qe(M,O,F);
O+=F.length}return O};hJ.ac9=function(s){var M=typeof s;return M=="string"||M=="number"||M=="boolean"};
function fM(){}fM.kM=function(s){var M={};fM.aeZ(s,M,0,0);return M};fM.$a=function(s,M){var O=0;c.qe(M,O," ");
O++;O=fM.ath(s,M,O,0);O--;M.Qv(O,2);M.data[O]=M.data[O+1]=0;O+=2;return O};fM.a_=function(s,M,O,P){while(s[O]!="<".charCodeAt(0)){O++;
console.log("šipka")}O+=2;O=fM.aeZ(s,M,O,P);return O};fM.X9=function(s,M,O,P){c.qe(M,O,"<< ");O+=3;O=fM.ath(s,M,O,P);
c.qe(M,O,">>");O+=2;return O};fM.nx=function(s){return s==9||s==10||s==32};fM.aeZ=function(s,M,O,P){while(!0){while(fM.nx(s[O])||s[O]==0)O++;
if(O>=s.length)break;if(s[O]=="/".charCodeAt(0)){O++;var y=O;while(!fM.nx(s[y]))y++;var F=c.Db(s,O,y-O);
O=y+1;var A=fM.VC(s,O,P,F);M["_"+F]=A.K;O+=A.size}else if(s[O]==">".charCodeAt(0)){O+=2;break}else{var h=s[O];
console.log(c.Db(s,O,O+100));console.log("unknown byte: "+h+", char: "+String.fromCharCode(h)+", offset: "+O);
O++;throw"e";return-1}}return O};fM.ath=function(s,M,O,P){for(var y in s){var F=y.substring(1,y.length);
c.qe(M,O,"/"+F);O+=1+F.length;c.qe(M,O," ");O++;O=fM.OQ(s[y],M,O,P+1,F);c.qe(M,O," ");O++}return O};
fM.VC=function(s,M,O,P){var y=M,F={I:"",size:0,K:0};while(fM.nx(s[M]))M++;if(s[M]=="<".charCodeAt(0)){F.I="Object";
F.K={};M=fM.a_(s,F.K,M,O+1)}else if(s[M]=="(".charCodeAt(0)){F.I="String";M++;if(s[M]==")".charCodeAt(0)){F.K="e";
M++}else if(s[M]==254&&s[M+1]==255){M+=2;var A=M,h=0;while(!0){if(s[A]==")".charCodeAt(0)&&s[A-1]!="\\".charCodeAt(0))break;
else A+=1}F.K="s"+c.a27(s,M,A);M=A+2}else{var A=M;while(s[A]!=")".charCodeAt(0))A++;F.K="s"+c.Db(s,M,A-M);
M=A+1}}else if(s[M]=="[".charCodeAt(0)){M++;F.K=[];F.I="Array";while(fM.nx(s[M]))M++;while(s[M]!="]".charCodeAt(0)){var m=fM.VC(s,M,O+1,P);
if(m==-1)return-1;F.K.push(m.K);M+=m.size;delete m.size;while(fM.nx(s[M]))M++}M++}else{var Z=M;while(!fM.nx(s[Z]))Z++;
var u=c.Db(s,M,Z-M),f=parseFloat(u);if(!isNaN(f)&&u.indexOf(".")!=-1){F.I="Float";var U=parseFloat(u);
F.K="f"+U}else if(!isNaN(f)&&u.indexOf(".")==-1){F.I="Integer";F.K="i"+parseInt(u)}else if(u=="true"||u=="false"){F.I="Boolean";
F.K=u=="true"}else if(u.charAt(0)=="/"){F.I="BString";F.K=u}else if(u=="NaN"||u=="undefined"){F.I="Float";
F.K="f0"}else{console.log("unknown value",JSON.stringify(u))}M=Z+1}F.size=M-y;return F};fM.ar6=function(s){if(s==Math.round(s))return s+".0";
var M=s.toFixed(5);while(M.endsWith("0")&&M[M.length-2]!=".")M=M.slice(0,M.length-1);if(0<s&&s<1)M=M.slice(1);
if(-1<s&&s<0)M="-"+M.slice(2);return M};fM.OQ=function(s,M,O,P,y){var F=typeof s=="string"?s.charAt(0):"";
if(s instanceof Array){c.qe(M,O,"[ ");O+=2;for(var R=0;R<s.length;R++){O=fM.OQ(s[R],M,O,P,"");c.qe(M,O," ");
O++}c.qe(M,O,"]");O+=1}else if(s instanceof Object){O=fM.X9(s,M,O,P)}else if(F=="e"){c.qe(M,O,"()");
O+=2}else if(F=="s"){c.qe(M,O,"(");O++;if(y=="97"){c.qe(M,O,s.slice(1));O+=s.length-1}else{c.gG(M,O,254);
O++;c.gG(M,O,255);O++;O=c.amG(M,O,s.slice(1))}c.qe(M,O,")");O++}else if(F=="/"){c.qe(M,O,s);O+=s.length}else if(F=="f"){var A=parseFloat(s.substring(1)),h=fM.ar6(A);
c.qe(M,O,h);O+=h.length}else if(F=="i"){c.qe(M,O,s.substring(1));O+=s.length-1}else{var h=s+"";c.qe(M,O,h);
O+=h.length}return O};function c(){}c.auO=function(hS){var s="";for(var R=3;R>=0;R--)s+=String.fromCharCode(hS>>R*8&255);
return s};c.aKG=function(s){var hS=0;for(var R=s.length-1;R>=0;R--)hS|=s.charCodeAt(R)<<(3-R)*8;return hS};
c.indexOf=function(s,M,O,P){if(O==null)O=0;if(P==null)P=s.length;P=Math.min(P,s.length);for(var R=O;
R<P;R++)if(s[R]==M)return R;return-1};c.Ah=function(s,M,O){if(O==null)O=0;var P=M.length,y=s.length-P;
if(typeof M=="string"){var F=[];for(var R=0;R<P;R++)F.push(M.charCodeAt(R));M=F}if(M.length>0){var A=M[0];
for(var R=O;R<y;R++)if(s[R]==A){var h=!0;for(var m=1;m<P;m++)if(M[m]!=s[R+m]){h=!1;break}if(h)return R}}return-1};
c.a27=function(s,M,O){var P=[],F="";while(M<O){var y=s[M++];if(y=="\\".charCodeAt(0))P.push(s[M++]);
else P.push(y)}for(var R=0;R<P.length;R+=2)F+=String.fromCharCode(P[R]<<8|P[R+1]);return F};c.aBX=function(s,M,O){var P=new Uint8Array(2);
for(var R=0;R<O.length;R++){c.gz(P,0,O.charCodeAt(R));if(P[0]==")".charCodeAt(0)||P[0]=="(".charCodeAt(0)||P[0]=="\\".charCodeAt(0)){s[M]="\\".charCodeAt(0);
M++}s[M]=P[0];M++;if(P[1]==")".charCodeAt(0)||P[1]=="(".charCodeAt(0)||P[1]=="\\".charCodeAt(0)){s[M]="\\".charCodeAt(0);
M++}s[M]=P[1];M++}return M};c.amG=function(s,M,O){s.Qv(M,4*O.length);return c.aBX(s.data,M,O)};c.Tr=function(s,M,O){var P="";
for(var R=0;R<O;R++){var y=s[M++]|s[M++]<<8;P+=String.fromCharCode(y)}return P};c.QY=function(s,M,O){var P="";
for(var R=0;R<O;R++){var y=s[M++]<<8|s[M++];P+=String.fromCharCode(y)}return P};c.aq8=function(s,M,O){for(var R=0;
R<O.length;R++){var P=O.charCodeAt(R);c.S1(s,M+2*R,P)}};c.ao8=function(s,M,O){for(var R=0;R<O.length;
R++){var P=O.charCodeAt(R);c.gz(s,M+2*R,P)}};c.avV=function(s,M,O){s.Qv(M,2*O.length);c.ao8(s.data,M,O)};
c.aDC=function(s,R,M){var O=[],P=0,y=0;M+=R;while(R<M){P=s[R++];if((P&128)==0)y=P;else if((P&224)==192){y=(P&31)<<6;
P=s[R++];y|=P&63}else if((P&240)==224){y=(P&15)<<12;P=s[R++];y|=(P&63)<<6;P=s[R++];y|=P&63}else if((P&248)==240){y=(P&7)<<18;
P=s[R++];y|=(P&63)<<12;P=s[R++];y|=(P&63)<<6;P=s[R++];y|=P&63}else throw"e";O.push(y)}return O};c.aJk=window.TextDecoder?new window.TextDecoder("utf8"):null;
c.xJ=function(s,M,O){if(M==null)M=0;if(O==null)O=s.length;if(c.aJk&&M==0&&O==s.length)return c.aJk.decode(s);
var P=c.aDC(s,M,O),y=P.length;for(var R=0;R<y;R++)P[R]=String.fromCharCode(P[R]);return P.join("")};
c.aLb=window.TextEncoder?new window.TextEncoder("utf8"):null;c.WT=function(s){if(c.aLb)return c.aLb.encode(s);
var M=new Uint8Array(s.length*4),O=c.gS(s,M,0);return M.slice(0,O)};c.gS=function(s,M,O){var P=s.length,R=0;
for(var y=0;y<P;y++){var F=s.charCodeAt(y);if((F&4294967295-(1<<7)+1)==0){M[O+R]=F;R++}else if((F&4294967295-(1<<11)+1)==0){M[O+R]=192|F>>6;
M[O+R+1]=128|F>>0&63;R+=2}else if((F&4294967295-(1<<16)+1)==0){M[O+R]=224|F>>12;M[O+R+1]=128|F>>6&63;
M[O+R+2]=128|F>>0&63;R+=3}else if((F&4294967295-(1<<21)+1)==0){M[O+R]=240|F>>18;M[O+R+1]=128|F>>12&63;
M[O+R+2]=128|F>>6&63;M[O+R+3]=128|F>>0&63;R+=4}else throw"e"}return R};c.pm=function(s,M){var O=c.h4(s,M),P=c.xJ(s,M+4,O-1);
return{BP:P,$T:4+O}};c.aCE=function(s,M){var O=c.je(s,M),P=c.Tr(s,M+4,O);return P};c.aw=function(s,M){var O=c.h4(s,M),P=c.QY(s,M+4,O);
return P};c.KS=function(s,M){var O=c.h4(s,M),P=c.QY(s,M+4,O-1);return P};c.Xb=function(s,M){var O=c.je(s,M),P=c.Tr(s,M+4,O-1);
return P};c.akZ=function(s,M,O){c.rq(s,M,O.length);M+=4;c.aq8(s,M,O)};c.alj=function(s,M,O){c.FE(s,M,O.length);
M+=4;c.ao8(s,M,O)};c.Qs=function(s,M,O){s.Qv(M,4+2*O.length);c.alj(s.data,M,O)};c.a49=function(s,M,O){s.Qv(M,4+2*O.length);
c.akZ(s.data,M,O)};c.DN=function(s,M,O){var P=[];for(var R=0;R<O;R++)P.push(String.fromCharCode(s[M+R]));
return P};c.aDh=function(s,M,O){var P=!1,y=s.length-O.length;for(var R=M;R<y;R++){for(var F=0;F<O.length;
F++){if(s[R+F]!=O.charCodeAt(F))break;if(F==O.length-1)return R}}};c.Q$=function(s,M,O){var P=c.Db(s,M,4);
if(O)P=P.split("").reverse().join("");return P};c.Db=function(s,M,O){var P="";for(var R=0;R<O;R++)P+=String.fromCharCode(s[M+R]);
return P};c.Eu=function(s,M,O){for(var R=0;R<O.length;R++)s[M+R]=O.charCodeAt(R)};c.qe=function(s,M,O){s.Qv(M,O.length);
c.Eu(s.data,M,O)};c.awS=function(s,M,O){var P="";for(var R=0;R<O;R++){var y=s[M+R];if(y<10)P+="  ";else if(y<100)P+=" ";
P+=y+", "}return P};c.m4=function(s,M){return s[M]<<8|s[M+1]};c.gz=function(s,M,hS){s[M]=hS>>8&255;s[M+1]=hS&255};
c.Yz=function(s,M,hS){s.Qv(M,4);c.gz(s.data,M,hS)};c.bP=function(s,M){var O=c.m4(s,M),P=c.m4(s,M+2);
return O+P*(1/65536)};c.a9z=function(s,M,hS){var O=Math.floor(hS),P=Math.floor((hS-O)*65536);c.gz(s,M,O);
c.gz(s,M+2,P)};c.vJ=function(s,M){return s[M+1]<<8|s[M]};c.S1=function(s,M,hS){s[M+1]=hS>>8&255;s[M]=hS&255};
c.Fb=function(s,M,hS){s.Qv(M,4);c.S1(s.data,M,hS)};c.VQ=function(s,M){c.RE[0]=s[M+1];c.RE[1]=s[M];return c.c_[0]};
c.Sw=function(s,M){c.RE[0]=s[M];c.RE[1]=s[M+1];return c.c_[0]};c.pd=c.gz;c.DX=c.Yz;c.VU=function(s,M){c.Nr[0]=s[M+3];
c.Nr[1]=s[M+2];c.Nr[2]=s[M+1];c.Nr[3]=s[M];return c.dL[0]};c.Vd=function(s,M,hS){c.dL[0]=hS;s[M+3]=c.Nr[0];
s[M+2]=c.Nr[1];s[M+1]=c.Nr[2];s[M+0]=c.Nr[3]};c.qD=function(s,M,hS){s.Qv(M,4);c.Vd(s.data,M,hS)};c.UW=function(s,M,O,P){O[P+0]=s[M+0];
O[P+1]=s[M+1];O[P+2]=s[M+2];O[P+3]=s[M+3]};c.je=function(s,M){c.UW(s,M,c.Nr,0);return c.ayy[0]};c.rq=function(s,M,hS){c.ayy[0]=hS;
c.UW(c.Nr,0,s,M)};c.GA=function(s,M,hS){s.Qv(M,4);c.rq(s.data,M,hS)};c.KF=function(s,M){c.UW(s,M,c.Nr,0);
return c.dL[0]};c.ax7=function(s,M,hS){c.dL[0]=hS;c.UW(c.Nr,0,s,M)};c.aAm=function(s,M,hS){s.Qv(M,4);
c.ax7(s.data,M,hS)};c.h4=function(s,M){var O=s[M]*(256*256*256)+(s[M+1]<<16|s[M+2]<<8|s[M+3]);return O};
c.FE=function(s,M,hS){s[M]=hS>>24&255;s[M+1]=hS>>16&255;s[M+2]=hS>>8&255;s[M+3]=hS>>0&255};c.kE=function(s,M,hS){s.Qv(M,4);
c.FE(s.data,M,hS)};c.dy=function(s,M){return c.h4(s,M)<<32|c.h4(s,M+4)};c.a9F=function(s,M,hS){c.FE(s,M,hS>>16>>16);
c.FE(s,M+4,hS&4294967295)};c.U4=function(s,M,hS){s.Qv(M,8);c.a9F(s.data,M,hS)};c.a03=function(s,M){return c.je(s,M+4)|c.je(s,M)<<32};
c.tV=function(s,M){var O=new Uint8Array(8);for(var R=0;R<8;R++)O[R]=s[M+7-R];var P=new Float64Array(O.buffer);
return P[0]};c.$L=function(s,M){var O=new Uint8Array(8);for(var R=0;R<8;R++)O[R]=s[M+R];var P=new Float64Array(O.buffer);
return P[0]};c.Tv=function(s,M,hS){var O=new Float64Array(1);O[0]=hS;var P=new Uint8Array(O.buffer);
for(var R=0;R<4;R++){var y=P[R];P[R]=P[7-R];P[7-R]=y}for(var R=0;R<8;R++)s[M+R]=P[R]};c.oD=function(s,M,hS){s.Qv(M,8);
c.Tv(s.data,M,hS)};c.C6=function(s,M){c.Nr[0]=s[M+3];c.Nr[1]=s[M+2];c.Nr[2]=s[M+1];c.Nr[3]=s[M+0];return c.qC[0]};
c.Tz=function(s,M){c.Nr[0]=s[M+0];c.Nr[1]=s[M+1];c.Nr[2]=s[M+2];c.Nr[3]=s[M+3];return c.qC[0]};c.VL=function(s,M,hS){c.qC[0]=hS;
s[M+0]=c.Nr[3];s[M+1]=c.Nr[2];s[M+2]=c.Nr[1];s[M+3]=c.Nr[0]};c.aAU=function(s,M,hS){s.Qv(M,4);c.VL(s.data,M,hS)};
c.d_=function(s,M,hS){c.qC[0]=hS;s[M+0]=c.Nr[0];s[M+1]=c.Nr[1];s[M+2]=c.Nr[2];s[M+3]=c.Nr[3]};c.ajV=function(s,M,hS){s.Qv(M,4);
c.d_(s.data,M,hS)};c.a95=function(s,M){var O=c.VU(s,M),P=O*(1/(1<<24));return P};c.aEC=function(s,M){var O=c.KF(s,M),P=O*(1/(1<<24));
return P};c.aa_=function(s,M,O){var P=Math.floor(O*(1<<24));c.Vd(s,M,P)};c.aac=function(s,M,O){s.Qv(M,4);
c.aa_(s.data,M,O)};c.VJ=function(s,M){var O=s[M],P=c.Db(s,M+1,O);O+=1-O%2;return{P2:P,length:O+1}};c.a6b=function(s,M,O){var P=O.length;
s[M]=P;c.Eu(s,M+1,O);if(P%2==0){s[M+1+P]=0;++P}return P+1};c.D2=function(s,M,O){s.Qv(M,O.length+2);return c.a6b(s.data,M,O)};
c.w0=function(s,M,O){var P=O?c.$L:c.tV,y=new kp;y.cd=P(s,M+0*8);y.X=P(s,M+1*8);y.xN=P(s,M+2*8);y.zv=P(s,M+3*8);
y.cj=P(s,M+4*8);y.H3=P(s,M+5*8);return y};c.Lx=function(s,M,O){c.Tv(s,M+0*8,O.cd);c.Tv(s,M+1*8,O.X);
c.Tv(s,M+2*8,O.xN);c.Tv(s,M+3*8,O.zv);c.Tv(s,M+4*8,O.cj);c.Tv(s,M+5*8,O.H3)};c.amR=function(s,M,O){s.Qv(M,48);
c.Lx(s.data,M,O)};c.ab$=function(s,M){var O=c.C6(s,M),P=c.C6(s,M+4),y=c.C6(s,M+8),F=c.C6(s,M+12);return new gi(O,P,y-O,F-P)};
c.acA=function(s,M,O){c.VL(s,M,O.x);c.VL(s,M+4,O.y);c.VL(s,M+8,O.x+O.A);c.VL(s,M+12,O.y+O.$)};c.axH=function(s,M,O){s.Qv(M,16);
c.acA(s.data,M,O)};c._l=function(s,M,O){var P=O?c.KF:c.VU,y=P(s,M),F=P(s,M+4),A=P(s,M+8),h=P(s,M+12);
return new gi(F,y,h-F,A-y)};c.a0Y=function(s,M,O){c.Vd(s,M,O.y);c.Vd(s,M+4,O.x);c.Vd(s,M+8,O.y+O.$);
c.Vd(s,M+12,O.x+O.A)};c.ww=function(s,M,O){s.Qv(M,16);c.a0Y(s.data,M,O)};c.l5=function(s,M,O){var P=new Uint8Array(O);
for(var R=0;R<O;R++)P[R]=s[M+R];return P};c.aC8=function(s,M,O){s.set(O,M)};c.R4=function(s,M,O){s.Qv(M,O.length);
c.aC8(s.data,M,O)};c.ayD=function(s,M,O,hS){if(!hS)hS=1;for(var R=0;R<hS;R++)s[M+R]=O};c.gG=function(s,M,O,hS){if(!hS)hS=1;
s.Qv(M,hS);c.ayD(s.data,M,O,hS)};c.c_=new Int16Array(1);c.RE=new Uint8Array(c.c_.buffer);c.dL=new Int32Array(1);
c.ayy=new Uint32Array(c.dL.buffer);c.Nr=new Uint8Array(c.dL.buffer);c.qC=new Float32Array(c.dL.buffer);
function hb(){}hb.kM=function(s,M){var O=new Uint8Array(s),P=0,y=c.Db(O,P,9),h=4,m=100;P+=9;var F=c.Db(O,P,4);
P+=4;P++;M.A=c.h4(O,P);P+=4;M.$=c.h4(O,P);P+=4;var A=c.h4(O,P);P+=4;if(A!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(F)==-1){m=c.h4(O,P);P+=4;if(parseInt(F.slice(1))>=7){m=m}else alert("Unknown XCF version: "+F);
h=8}var Z={};P=hb.CI(O,P,Z);var u=[];P=hb.Oc(O,P,u,h);var f=[];P=hb.Oc(O,P,f,h);M.q2=0;for(var R=0;R<u.length;
R++)hb.aKH(O,u[R],M,Z,h,m);while(M.q2>0){M.U.push(M.kA());M.q2--}M.U.reverse();delete M.q2;M.buffer=a.j(M.A*M.$*4);
if(M.U.length==0)console.log("No layers!!!");for(var R=0;R<f.length;R++){var U=hb.a5M(O,f[R],Z,h,m);
if(U.pk[kI.abK])M.h={N:U.v0,S:new gi(0,0,M.A,M.$)}}};hb.aKH=function(s,M,O,P,y,F){var A=O.Tk(),h=c.h4(s,M),f=0;
M+=4;var m=c.h4(s,M);M+=4;A.S=new gi(0,0,h,m);var Z=c.h4(s,M);M+=4;var u=c.pm(s,M);M+=u.$T;A.jj(u.BP);
var U={};M=hb.CI(s,M,U);if(U[kI.aDM]){var C=U[kI.aDM];f=C.length/4-1}if(U[kI.nX]){A.S.x=c.VU(U[kI.nX],0);
A.S.y=c.VU(U[kI.nX],4)}if(U[kI.a3H]){A.N_=c.h4(U[kI.a3H],0)}if(U[kI.ae7]){A.add.lsct=dU.l9;A.Xa=24}if(U[kI.aAJ]){var H=c.h4(U[kI.aAJ],0);
A.mX=kI.aBx[H];if(A.ES()&&A.mX=="norm")A.mX="pass"}if(U[kI.aks]){if(c.h4(U[kI.aks],0)==0)A.Xa+=2}if(U[kI.ayJ]){var t=c.h4(U[kI.ayJ],0);
A.add.lsct=t&1==1?dU.l9:dU.aY}if(U[kI.Gh]){var X=U[kI.Gh];for(var Q in X){var D=X[Q];if(Q=="gimp-text-layer"){var L=hb.atu(D),E=L.text,_=L.font,S=L.color,W=L["font-size"];
if(E==null&&L.markup){var g=new DOMParser,x=g.parseFromString(L.markup,"image/svg+xml");while(x.firstChild!=null&&x.firstChild.tagName!=null){x=x.firstChild;
var V=x.getAttribute("font"),b=x.getAttribute("foreground"),N=x.getAttribute("size");if(V!=null)_=V;
if(b!=null){b=CSS.K7(b);S=[1,b.o/255,b.R/255,b.X/255]}if(N!=null){W=""+parseFloat(N)/245}}E=x.textContent}A.add.lnsr="rend";
A.add.TySh=iP.cN(0,0);A.add.TySh.WY=new gi(0,0,100,100);A.add.TySh.M=new kp(1,0,0,1,A.S.x,A.S.y);var J=A.add.TySh.nA;
iP.Xq(J,0,E);var K=iP.ty(J,0,0),q=L.justify,l=L["line-spacing"];if(S)K.TY.FillColor={Type:1,Values:[1,parseFloat(S[1]),parseFloat(S[2]),parseFloat(S[3])]};
if(W){W=Math.round(parseFloat(W));K.TY.FontSize=W;A.add.TySh.M.H3+=Math.min(17,W*.17)}if(l){l=Math.round(parseFloat(l)+K.TY.FontSize*1.2);
K.TY.Leading=l;K.TY.AutoLeading=!1}if(q)K.Gy.Justification=["left","right","center","fill"].indexOf(q);
if(_&&_!="Sans-serif"){if(_ instanceof Array){for(var R=0;R<_.length;R++)if(_[R][0]=="psname"){_=_[R][1];
break}}else{var T=_.toLowerCase(),B="bold italic semi extra regular condensed light".split(" "),p=T.length;
for(var R=0;R<B.length;R++){var w=T.indexOf(B[R]);if(w!=-1&&w<p&&T[w-1]==" ")p=w}if(p!=T.length)_=_.slice(0,p-1).split(" ").join("")+"-"+_.slice(p).split(" ").join("")}iP.Z2(K,_)}iP.UP(J,0,E.length,K);
var e=L["box-width"],G=L["box-height"],j=e?parseFloat(e):A.S.A,o=G?parseFloat(G):A.S.$;iP.hV(J,1);iP.w9(J,[0,0,Math.ceil(j),Math.ceil(o)])}else console.log("Unknown property "+Q)}}while(O.q2>f){O.U.push(O.kA());
O.q2--}O.q2=f;if(A.add.lsct==dU.l9||A.add.lsct==dU.aY)O.q2++;var r=y==4?c.h4:c.dy,k=r(s,M);M+=y;var a7=r(s,M);
M+=y;if(A.Lv()){A.buffer=a.j(A.S.C()*4);var Y=new a.po(A.S.C());hb.afx(s,k,Y,P,y,F);a.oh(Y,A.buffer)}if(a7!=0){A.$E=new ad.OL;
var v=hb.a5M(s,a7,P,y,F);A.$E.N=v.v0;A.$E.S=A.S.v();if(U[kI.ae6])A.$E.isEnabled=c.h4(U[kI.ae6],0)==1;
A.$E.color=A.$E.N[0];A.$E.FW()}if(A.ES())A.S=new gi;O.U.push(A)};hb.atu=function(s){var M="("+c.xJ(s,0,s.length-1)+")",O=[],P={};
hb.agj(M,1,O);hb.akV(O,P);return P};hb.akV=function(s,M){for(var R=0;R<s.length;R++){var O=s[R],P=O[0];
if(O.length==2)M[P]=O[1];else M[P]=O.slice(1)}};hb.agj=function(s,M,O){while(!0){if(M>=s.length)throw"e";
var P=s.charAt(M);M++;if(P=="("){var y=[];M=hb.agj(s,M,y);O.push(y)}else if(P==" "||P=="\n"||P=="\r"){}else if(P==")")return M;
else if(P=="\""){var F=M,A=!1;while(!0){var h=s[M];M++;if(h=="\"")break;if(h=="\\"){if(s[M]!="\""&&s[M]!="n"&&s[M]!="t"&&s[M]!="r")A=!0;
M++}}var m=s.slice(F-1,M);O.push(A?m:JSON.parse(m))}else{var F=M-1;while(s[M]!=" "&&s[M]!=")")M++;O.push(s.slice(F,M))}}};
hb.a5M=function(s,M,O,P,y){var F=c.h4(s,M);M+=4;var A=c.h4(s,M);M+=4;var h=c.pm(s,M);M+=h.$T;var m={};
M=hb.CI(s,M,m);var Z=new a.po(F*A),u=P==4?c.h4:c.dy,f=u(s,M);M+=P;hb.afx(s,f,Z,O,P,y);return{v0:Z.o,pk:m}};
hb.afx=function(s,M,O,P,y,F){var A=c.h4(s,M);M+=4;var h=c.h4(s,M);M+=4;var m=c.h4(s,M);M+=4;var Z=y==4?c.h4:c.dy,u=Z(s,M);
M+=y;hb.aLJ(s,u,O,P,m,y,F)};hb.aLJ=function(s,M,O,P,y,F,A){var h=c.h4(s,M),u=0,R=0;M+=4;var m=c.h4(s,M);
M+=4;var Z=new gi(0,0,h,m);if(A==100||A==150)u=1;else if(A==200||A==250)u=2;else if(A==300||A==350)u=4;
else if(A==500||A==550)u=2;else if(A==600||A==650)u=4;else if(A==700||A==750)u=8;else{alert("unsupported bit depth "+A);
throw"e"}var f=y/u,u=Math.round(y/f),U=[];M=hb.Oc(s,M,U,F);var C=new a.po(64*64*u),H=new gi,t=P[kI.azk][0],X=[C.o,C.R,C.X,C.cd];
if(f==3)C.cd.fill(255);var Q=Date.now();if(U.length!=0)for(var D=0;D<m;D+=64)for(var L=0;L<h;L+=64){var E=Math.min(h-L,64),_=Math.min(m-D,64),S=E*_;
H.ee(L,D,E,_);hb.aq9(s,U[R++],S*u,t,f,X);if(A==100||A==150){}else if(A==250){for(var W=0;W<f;W++){var g=X[W];
for(var x=0;x<S;x++){var V=g[x]<<8|g[S+x];g[x]=Math.min(V>>>8,255)}}}else if(A==600){var b=hb.afc(),N=new Uint32Array(1),J=new Float32Array(N.buffer);
for(var W=0;W<f;W++){var g=X[W];for(var x=0;x<S;x++){N[0]=g[x]<<24|g[S+x]<<16|g[(S<<1)+x]<<8|g[(S<<1)+S+x]<<0;
var K=J[0];if(K<0)K=0;else if(K>1)K=1;g[x]=b[~~(.5+K*1e3)]}}}else console.log("unknown data format",A);
a.ci(C,H,O,Z)}};hb.afc=function(){var s=hb.a1C;if(s!=null)return s;s=hb.a1C=new Uint8Array(1001);for(var R=0;
R<1001;R++)s[R]=~~(.49+255*a.$W(R*.001));return s};hb.aq9=function(s,M,O,P,y,F){if(P==1){for(var A=0;
A<y;A++){var h=F[A],m=0;while(m<O){var hS=s[M];M++;if(hS<127){var Z=s[M];M++;hS++;for(var R=0;R<hS;R++)h[m+R]=Z}else if(hS==127){var u=s[M];
M++;var f=s[M];M++;var Z=s[M];M++;hS=u<<8|f;for(var R=0;R<hS;R++)h[m+R]=Z}else if(hS==128){var u=s[M];
M++;var f=s[M];M++;hS=u<<8|f;for(var R=0;R<hS;R++)h[m+R]=s[M+R];M+=hS}else{hS=256-hS;for(var R=0;R<hS;
R++)h[m+R]=s[M+R];M+=hS}m+=hS}}}else if(P==2){var U=pako.inflate(s.slice(M)),C=Math.round(U.length/O);
for(var R=0;R<O;R++){var H=R*C;F[0][R]=U[H];F[1][R]=U[H+1];F[2][R]=U[H+2];F[3][R]=C==3?255:U[H+3]}}else alert("Unknown compression "+P)};
hb.Oc=function(s,M,O,P){var y=P==4?c.h4:c.dy;while(!0){var F=y(s,M);M+=P;if(F==0)break;else O.push(F)}return M};
hb.CI=function(s,M,O){while(!0){var P=c.h4(s,M);M+=4;var y=c.h4(s,M);M+=4;if(P==kI.aq3)break;else if(P==kI.Gh)O[P]=hb.abc(s,M,M+y);
else O[P]=c.l5(s,M,y);M+=y}return M};hb.abc=function(s,M,O){var P={};while(M<O){var y=c.pm(s,M);M+=y.$T;
var F=c.h4(s,M);M+=4;if(F!=1)console.log("unknown flags",F);var A=c.h4(s,M);M+=4;P[y.BP]=c.l5(s,M,A);
M+=A}return P};var kI={aq3:0,aCw:1,adZ:2,ag2:3,abK:4,ag5:5,a3H:6,aAJ:7,aks:8,aII:9,ahE:10,ae6:11,aED:12,alJ:13,aHs:14,nX:15,a2o:16,azk:17,acl:18,a2K:19,aqy:20,Gh:21,aiL:22,acD:23,ach:24,a1U:25,adw:26,aoo:27,aHe:28,ae7:29,aDM:30,ayJ:31,a8R:32,aE_:33,acn:34,anG:35,asB:36,a8$:37,agK:38,aj4:0,aAs:1,a1n:2,a7Y:3,ajM:1,a7o:2,alB:0,and:1,amA:1};
kI.aBx="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var jC=function(){var s=!1,M,O,Q=0,E;function P(){var W=c.Db(M,O,4);O+=4;return W[3]+W[2]+W[1]+W[0]}function y(){var W=c.Db(M,O,4);
O+=4;return W}function F(){var W=M[O];O+=1;return W}function A(){var W=c.vJ(M,O);O+=2;return W}function h(){var W=c.je(M,O);
O+=4;return W}function m(){var W=c.KF(M,O);O+=4;return W}function Z(){var W=c.je(M,O);O+=8;return W}function u(){var W=c.Tz(M,O);
O+=4;return W}function f(){var W=c.$L(M,O);O+=8;return W}function U(){var W=c.vJ(M,O),g=c.xJ(M,O+2,W);
O+=2+W;return g}function C(){var W=c.je(M,O),g=c.xJ(M,O+4,W);O+=4+W;return g}function H(W){O=W;var g=[];
while(O!=0){var x=y();if(x!="#FT4"&&x!="#FT3"&&x!="#FT2")throw x;var V=Z(),b=Z(),N=Z(),J=Z(),K=Z(),q=h(),d=h(),l=h(),T=A(),B=F(),p={};
g.push(p);for(var R=0;R<q;R++){var I=h(),w=F();if(w!=0&&w!=1&&w!=2)throw w;var e=[];if(w==0||w==1){var G=Z(),j=Z(),o=Z(),r=h(),k=F(),a7=h(),Y=x!="#FT4"?0:h(),v=null;
if(x=="#FAT"||x=="#FT2"){switch(k){case 1:k=1;break;case 2:k=65;break;case 3:k=129;break;case 4:k=193;
break;default:k=0;break}}if(w==0)v=U();e=[G,j,o,k,v]}p["i"+I]=[w,e]}for(var R=0;R<T;R++){var n=A(),cm=A(),a5=Z(),gP=c.Db(M,O,n);
O+=n}O=V}g.reverse();for(var cg=1;cg<g.length;cg++){var p=g[cg],a9=g[cg]=a.G(g[cg-1]);for(var ew in p){var h7=p[ew];
if(h7[0]==0)a9[ew]=h7;else if(h7[0]==1){h7[1][4]=a9[ew][1][4];a9[ew]=h7}else if(h7[0]==2)delete a9[ew]}}var bh=g.pop(),ba=[];
for(var ew in bh)ba.push(bh[ew][1]);ba.sort(function(jx,c4){return jx[0]-c4[0]});return ba}function t(W,g,x,V){while(O<M.length){var b=F(),q=null;
if(b==0){if(V){var N=F();if(N!=2){var J=P()}if(N==0)O+=4;V=!1;continue}else{break}}var K=P();if(K.indexOf("\0")!=-1)throw K;
if(s)console.log("  ".repeat(g),b,b&127,K,W._type);if(b>127)q=X(b,g,x);else q=D(b,g,x);if(s)console.log("  ".repeat(g),q);
W[K]=q}}function X(W,g,x){var V=[];W=W&127;if(W==43)O+=4;var b=h();if(W==50){var N=P(),J=A();if(J!=1)throw"e";
for(var R=0;R<b;R++){var K={_status:"NotShared",_type:N};V.push(K);var q=F();if(q!=0&&q!=1)throw q;t(K,g+1,x)}}else if(W==41){if(b>8)throw b;
for(var R=0;R<b;R++)V.push((M[O]>>>R&1)==1);O++}else for(var R=0;R<b;R++){V.push(D(W,g,x,R!=0));if(W==42)W=2}return V}function D(W,g,x,V){var b=null;
if(W==49){b={};var N=F();if(N!=0){var J=h();if(x==null){b._id=J;b._status=["Shared","Link"][N-1]}if(x&&N==2)b=x[J];
if(N==1){if(x)x[J]=b;var K=F(),q=!1;if(K>1)throw K;b._type=P();if(b._type.indexOf("\0")!=-1)throw b._type;
if(s)console.log("  ".repeat(g),"new",b._type,K,O);if(K==0){while(!0){var d=A();if(d!=0&&d!=1&&d!=2&&d!=3&&d!=4)throw d;
if(M[O]!=0){q=!0;break}var l=A();if(l==512)break;var T=P();if(l==256)break}}t(b,g+1,x,q)}}}else if(W==50){b={_status:"NotShared"};
if(F()==1){b._type=P();O+=2;t(b,g+1,x)}}else if(W==1)b={type:"byte",value:F()};else if(W==2)b={type:"uint16",value:A()};
else if(W==3)b={type:"uint32",value:h()};else if(W==4)b={type:"uint64",value:Z()};else if(W==7)b={type:"int32",value:m()};
else if(W==8)b={type:"int64",value:Z()};else if(W==9)b={type:"float32",value:u()};else if(W==10)b={type:"float64",value:f()};
else if(W==11)b={type:"float64",value:f()};else if(W==21)b={type:"Vec2i",value:[h(),h()]};else if(W==23)b={type:"Vec4i",value:[h(),h(),h(),h()]};
else if(W==33)b={type:"Vec4f",value:[u(),u(),u(),u()]};else if(W==36)b={type:"Vec2",value:[f(),f()]};
else if(W==38)b={type:"Vec4",value:[f(),f(),f(),f()]};else if(W==40)b={type:"Vec6",value:[f(),f(),f(),f(),f(),f()]};
else if(W==41)b={type:"bool",value:F()!=0};else if(W==42)b={type:"Enum",value:h()};else if(W==43)b={type:"string",value:C()};
else if(W==44){if(V!=!0)Q=A();var B,p=f();if(Q==12)B=[F(),F(),F(),F()];else if(Q==16)B=[h(),h()];else if(Q==32)B=[f(),f(),f()];
else throw Q;b={type:"curv16",value:[p,B]}}else if(W==45){var I=h();b={type:"buff",value:M.slice(O,O+I)};
O+=I}else if(W==47){b={type:"uint32",value:h()}}else if(W==48){var w=[],e=A();if(e!=1)throw e;while(!0){if(M[O]==135){var j=X(F(),g+1,x),o=X(F(),g+1,x),r=X(F(),g+1,x);
w.push([j,o,r])}else{var k=1;if(M[O]==3){F();k=h()}for(var R=0;R<k;R++){var a7=M[O];if(a7==41){if(F()!=41)throw"e";
var J=F();if(J!=0&&J!=1)throw J}if(F()!=172)throw"e";var Y=h(),v=A(),B=[];w.push(B);if(v!=18)throw v;
if(Y>4e3)throw Y;for(var n=0;n<Y;n++)B.push([f(),f(),F(),F()])}}if(M[O]==0){O++;break}}b={type:"curve",value:w}}else if(W==51){b={type:"EmbeddedData"};
b[P()]=C()}else if(W==52)b={type:"uint32",value:h()};else if(W==56)b={type:"Color32",value:[F(),F(),F(),F()]};
else if(W==60)b={type:"ColorGRAY",value:[u(),u()]};else if(W==68)b={type:"ColorRGBA",value:[u(),u(),u(),u()]};
else if(W==72)b={type:"ColorCMYK",value:[u(),u(),u(),u(),u()]};else{throw W}return W==49||W==50||W==51?b:b.value}function L(W){var g=0,x=W.length;
for(var R=0;R<x;R+=4){W[R]=g=g+W[R];W[R+1]=g=g+W[R+1];W[R+2]=g=g+W[R+2];W[R+3]=g=g+W[R+3]}}function _(W){M=W;
O=4;var g=h(),x=y();if(x!="nsrP")throw x;var x=y();if(x!="#Inf")throw x;var V=Z();E=Z();var b=Z(),N=Z(),J=Z(),K=h(),q=h(),x=y();
if(x!="Prot")throw x;var K=h(),d=H(V),l={},T=Date.now();for(var B=0;B<d.length;B++){var p=d[B],I=p[3],o=null;
O=p[0];var x=y();if(x!="#Fil")throw x;var w=I>>>5&1,e=I&3,G=I&192;switch(G){case 64:G=1;w=0;break;case 128:G=2;
break;case 192:G=3;break;default:G=0;w=0}var j=new Uint8Array(M.buffer,O,p[2]);if(e==0)o=j;else if(e==1)o=pako.inflate(j);
else if(e==2)o=b_.Pa.Dc(j,p[1]);else throw e;if(w==0){if(G==1)L(o);if(G==2)throw"e"}else if(w==1){if(G==2)L(o);
else throw G}else throw w;l[p[4]]=o}return l}function S(W){var g=_(new Uint8Array(W));M=g["doc.dat"];
O=16;var x={};t(x,0,[]);return[g,x,E]}return{akB:S}}();function eb(){}eb.kM=function(){function s(t,X){var Q=Date.now(),D=jC.akB(t),L=D[0],E=D[1],_=D[2],S=E.DocR,W=S.DfSz,g=S.Chld;
if(g.length!=1)console.log(g);var x=g[0],V=x.SprB,b=x.bbxs;g=x.Chld;if(V){X.A=~~V[2];X.$=~~V[3]}else if(b){var N=b.rcts,J=new gi;
for(var R=0;R<4;R++){var K=N[R];J=J.v8(new gi(K[0],K[1],K[2]-K[0],K[3]-K[1]))}X.A=J.A;X.$=J.$}else{X.A=1920;
X.$=1080}X.buffer=a.j(X.A*X.$*4);var q=[0,{}];for(var R=0;R<g.length;R++)F(g[R],X,L,new kp,q,[],0);X.Fh(q[0]);
console.log(Date.now()-Q,"Document created");Q=Date.now()}function M(t){return new kp(t[0],t[3],t[1],t[4],t[2],t[5])}function O(t,X){var Q=X.Xfrm;
Q=Q?M(Q):new kp;Q.concat(t);return Q}function P(t){var X={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[t];
return X?X:"norm"}function y(t,X){var Q=t[X],D=t.DsMa;if(Q==null&&D)Q=D[X];return Q}function F(t,X,Q,D,L,E,_){var S=t._type,W=t.Chld,g=X.Tk();
g.jj(t.Desc==null||t.Desc==""?S=="Grup"?"Folder":"Layer":t.Desc);var x=y(t,"Visi");if(x!=null)g.x1(x);
var V=y(t,"Opac");if(V!=null)g.N_=Math.round(255*V);var b=y(t,"FOpc");if(b!=null)g.add.iOpa=Math.round(255*b);
var N=y(t,"Blnd");if(N!=null)g.mX=P(N);if(t.BFFl&&t.BFFl[0])E.push(t.BFFl[0]);var J=O(D,t),K=S=="ShpN"||S=="PCrv";
if(W){X.U.push(X.kA());g.add.lsct=dU.l9;if(g.mX=="norm")g.mX="pass";g.Xa=24;if(x!=null)g.x1(x);if(S=="ShpN"&&_==0){var q=t.ShpB;
g.Y3(new gi(q[0]+J.cj,q[1]+J.H3,Math.round(J.cd*(q[2]-q[0])),Math.round(J.zv*(q[3]-q[1]))));L[0]++;g.add.artb.Clr={t:"Objc",v:a.wv.gN({o:255,R:255,X:255})};
var d=E[0];for(var R=0;R<E.length;R++)if(E[R].FDeF._type!="FilN")d=E[R];if(d.FDeF._type=="FilS"){g.add.artb.Clr=Z(d.FDeF.Colr);
g.add.artb.artboardBackgroundType.v=4}}var l=t.Shpe?t:null;if(l==null)l=t.DsMa&&t.DsMa.Shpe?t.DsMa:null;
if(l){var T=h(l);if(T.u.length!=7){g.add.vmsk=T;a.z.R7(T.u,J);g.$k();g.uH(X)}}for(var R=0;R<W.length;
R++)F(W[R],X,Q,J,L,E,_+1)}else if(S=="Rstr"||S=="ImgN"||S=="MRst"){var B=y(t,"Bitm"),p=B.Bckg,I=Date.now(),w;
if(p==null){w=f(B,Q,L[1]);g.S=w[2].v();g.buffer=w[1].slice(0);g.S.x+=J.cj;g.S.y+=J.H3}if(p||J.dI()!=1){var e,G=0,j=0;
if(p){var o=Q[p.Data],r=c.Ah(o,"ataD")+4,k=c.je(o,r);r+=4;e=o.slice(r,r+k)}else{if(g.S.g3())return;G=g.S.x-J.cj;
j=g.S.y-J.H3;if(w[3]==null)w[3]=new Uint8Array(b_.O7("PNG").u6([[g.buffer.buffer]],g.S.A,g.S.$));e=w[3].slice(0)}var a7=X.N4(e,g.getName(),0,0);
a7.Xa=g.Xa;a7.N_=g.N_;g=a7;var Y=new kp;Y.translate(G,j);Y.concat(J);var v=g.S.v();v.x=v.y=0;var n=a.b.hC(v).L;
a.b.M(n,Y,n);g.add.SoLd.Trnf=$.TR.kZ(n);g.add.SoLd.nonAffineTransform=$.TR.kZ(n);g.VN(X,!1)}}else if(S=="TxtA"||S=="TxtF"){g.add.lnsr="rend";
g.add.TySh=iP.cN(0,0);g.add.TySh.WY=new gi(0,0,100,100);var cm=t.TxtH?t:t.DsMa,a5=cm.TxtH.FrmB,gP=1,cg=1,a9=g.add.TySh.M=new kp,jx=0;
a9.translate(a5[0],a5[1]);a9.concat(J);if(S=="TxtF"){var ew=Math.atan2(-a9.X,a9.cd);a9.rotate(-ew);gP=a9.cd;
cg=a9.zv;a9.zv=a9.cd=1;a9.rotate(ew)}var h7=g.add.TySh.nA,bh=cm.StSt;if(bh==null)bh=cm.StMa.StSt;var ba=bh.Blok;
if(ba.length!=1)throw"e";for(var c4=0;c4<ba.length;c4++){var bq=ba[c4],di=jx,il=0,j0=bq.Glyp.Utf8;if(j0==null)continue;
j0=j0.replace(/\u2028/g,"\n");j0=j0.replace(/\u2029/g,"\n");j0=j0.slice(0,j0.length-1);if(j0=="")continue;
g.jj(j0.slice(0,255));iP.Xq(h7,jx,j0);jx+=j0.length;var j1=bq.GAtt.Runs,b5=bq.PAtt.Runs[0],b4=b5.Item.Ints[0];
for(var lm=0;lm<j1.length;lm++){var ix=j1[lm],jy=ix.Indx,bz=ix.Item,c5=bz.Objs,k0=iP.ty(h7,di,1);k0.Gy.Justification=b4==0?0:b4==1?2:1;
iP.Z2(k0,bz.DFnt.Post);k0.TY.FontSize=bz.Doub[0];for(var R=0;R<c5.length;R++){var cd=c5[R];if(cd._type=="FDsc"){var fz=cd.FDeF;
if(fz._type=="FilS"){var fu=u(fz.Colr);k0.TY.FillColor={Type:1,Values:[1,fu[0],fu[1],fu[2]]}}}}iP.UP(h7,di+il,di+Math.min(jy,j0.length),k0);
il=jy}}iP.hV(h7,1);iP.w9(h7,[0,0,Math.round((a5[2]-a5[0])*gP*1.02),Math.round((a5[3]-a5[1])*cg*1.2)]);
X.Jf=!0}else if(K){g.Xa|=16;var c6=g.add.vstk=aV.To.Jb(!0),T=g.add.vmsk=h(t);a.z.R7(T.u,J);var d=E[0];
for(var R=0;R<E.length;R++)if(E[R].FDeF._type!="FilN")d=E[R];if(d){var k7=d.FDeF,hP=k7._type;if(hP=="FilS")g.add.SoCo={classID:"null",Clr:Z(k7.Colr)};
else if(hP=="FilG"){var e1=g.add.GdFl=JSON.parse(aV.d$[aV.order.indexOf("GrFl")]);m(d,e1,a.z._E(T.u))}else if(hP=="FilN"){g.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:0,R:0,X:0})}};
c6.fillEnabled.v=!1}else console.log(hP)}if(t.LILn){var fs=t.LILn[0].LDeL,eh=fs.Wght;if(eh!=0){c6.strokeEnabled.v=!0;
c6.strokeStyleLineWidth.v.val=eh;var k7=t.LIFl[0].FDeF,hP=k7._type;if(hP=="FilS")c6.strokeStyleContent.v.Clr=Z(k7.Colr);
else if(hP=="FilN")c6.strokeEnabled.v=!1}}g.$k();g.uH(X)}else if(S=="RcRA"){var gW=t.AdjP,hk="hue2",jz=g.add[hk]=bW.Jb(hk);
A(jz,gW)}else console.log(S);var lh=t.AdCh,ag=[];if(lh)for(var R=0;R<lh.length;R++){var eo=lh[R],aC=eo._type;
if(aC=="ShpN"||aC=="PCrv"){var T=g.add.vmsk=h(eo),e8=O(J,eo);a.z.R7(T.u,e8);g.$k();g.uH(X)}else if(eo.AdjP){var gW=eo.AdjP,lb=gW._type;
console.log(lb);var jn={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[lb];
if(jn==null){console.log(gW);continue}var k3=bW.Nl(jn,{});ag.push(k3);var jz=k3.v.Fltr.v;if(lb=="LevP"){var cP=fY.n0(jz,0);
cP[0]=gW.OutB*255;cP[1]=gW.OutW*255;fY.lB(jz,0,cP)}else if(lb=="WhBP"){var cP=fY.n0(jz,2);cP[4]=100+gW.WBTi*20;
fY.lB(jz,2,cP);var cP=fY.n0(jz,3);cP[4]=100+gW.WBTi*200;fY.lB(jz,3,cP)}else if(lb=="HSSP"){var cP=aU.n0(jz,0);
cP[0]=Math.round(gW.HueA*256);cP[1]=Math.round(gW.SatA*256);cP[2]=Math.round(gW.LumA*256);aU.lB(jz,0,cP)}else if(lb=="RecP"){A(jz,gW)}else if(lb=="B&CP"){jz.Brgh.v=Math.round(gW.Brig*100);
jz.Cntr.v=Math.round(gW.Ctrs*100-100)}else if(lb=="PosP"){jz.Lvls.v=gW.Post}else if(lb=="VibP"){jz.vibrance.v=gW.Vibr-100;
jz.Strt.v=Math.round(gW.Satu*100)}else if(lb=="ExpP"){jz.Exps.v=gW.Expo;jz.gammaCorrection.v=gW.Gamm/2.2}else if(lb=="ThrP"){jz.Lvl.v=Math.round(gW.Thre*255)}else if(lb=="CrvP"){var cV=gW.Mast["Cnt "],l2=gW.Mast.Vals,cP=ef.n0(jz,0),dS=cP[0];
for(var gH=0;gH<cV;gH++){var hd=cP[gH]=a.G(dS);hd.v.Hrzn.v=Math.round(l2[gH]*255);hd.v.Vrtc.v=Math.round(l2[4+gH]*255)}ef.lB(jz,0,cP)}}else console.log(eo)}if(ag.length!=0&&g.add.SoLd){g.add.SoLd.filterFX=bW.Yu();
X.hy({id:g.add.SoLd.placed.v,S:new gi,buffer:a.j(1),$E:new ad.OL});g.add.SoLd.filterFX.v.filterFXList.v=ag;
g.VN(X,!1)}var bL=t.FiEf;if(bL&&bL.length!=0){var au=g.add.lmfx=JSON.parse(aV.default);for(var R=0;R<aV.order.length;
R++)au[aV.e1[R]]={t:"VlLs",v:[]};for(var ev=0;ev<bL.length;ev++){var eF=bL[ev],fn=eF._type,iu={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[fn],e1=iu?JSON.parse(aV.d$[aV.order.indexOf(iu)]):null,gz=1;
if(fn=="ColO"){e1.Clr=Z(eF.Colr)}else if(fn=="GrdO"){m(eF.GrFl,e1)}else if(fn=="Shad"||fn=="InnS"||fn=="OutG"||fn=="InnG"){e1.Clr=Z(eF.Colr);
e1.blur.v.val=Math.round(eF.Radi);var dL=eF.Comp;if(dL!=null){if(dL>.5)gz=1-.5*(dL-.5);else e1.Ckmt.v.val=Math.round(100*(.5-dL))}if(eF.Offs!=null){e1.Dstn.v.val=eF.Offs;
e1.lagl.v.val=Math.round(180-eF.Angl*180/Math.PI);e1.uglg.v=!1}}else if(fn=="Strk"){if(eF.Ftyp==0)e1.Clr=Z(eF.Colr);
else{m(eF.GrFl,e1);e1.PntT.v.FrFl="GrFl"}e1.Sz.v.val=Math.round(eF.Radi)}else if(fn=="PhgB"||fn=="BevE"){e1.blur.v.val=Math.round(eF.Radi);
if(fn=="BevE")e1.bvlS.v.BESl="PlEb"}else if(fn=="Gaus"){if(K&&eF.Enab){g.add.vmsk.CN=eF.Radi/2.4;g.add.vmsk.oy=!0;
g.$k();g.uH(X)}}if(iu){e1.enab.v=eF.Enab;if(e1.Md&&eF.BlnM!=null)e1.Md.v.BlnM=h0.Qz(P(eF.BlnM));if(e1.Opct&&eF.Opac!=null)e1.Opct.v.val=Math.round(gz*eF.Opac*100);
var dm=aV.e1[aV.order.indexOf(iu)];au[dm].v.unshift({t:"Objc",v:e1})}}}if(t.BFFl&&t.BFFl[0])E.pop();
X.U.push(g)}function A(t,X){t.Clrz.v=!0;var Q=aU.n0(t,0);Q[0]=Math.round(X.RecH*360);Q[1]=Math.round(X.RecS*100);
Q[2]=Math.round(X.RecL*100);aU.lB(t,0,Q)}function h(t){var X=new ad.Vp,Q=t._type;if(t.ShpB==null&&t.Crvs==null)t=t.DsMa;
if(Q=="PCrv"){var D=t.Crvs.Data,L=[],E=[];for(var R=0;R<D.length;R++){var _=D[R],S=_.length%3;if(S!=1){_=S==2?_[0][2]!=0?_.slice(0,_.length-1):_.slice(1):_.slice(1,_.length-1)}for(var W=0;
W<_.length;W++){var g=_[W],x=g[2];if(x!=0)L.push(W==0?"M":"C");E.push(g[0],g[1])}}X.u=a.b.Ie({L:E,J8:L},!0)}else{var V=t.ShpB,b=t.Shpe,N=b._type,J=V[2]-V[0];
if(N=="ShpE"){X.u=a.z.uU.Y9(V[0],V[1],V[2]-V[0],V[3]-V[1])}else if(N=="ShNR"){var K=[0,0,0,0];if(b.CTyp){K=b.ShCR.slice(0);
for(var R=0;R<4;R++)K[R]*=V[2]-V[0];for(var R=1;R<4;R++)K[R]=K[0]}X.u=a.z.uU.Rect(V[0],V[1],V[2]-V[0],V[3]-V[1],K)}else if(N=="ShpT"){X.u=a.b.Ie({J8:["M","L","L","Z"],L:[V[0],V[3],V[2],V[3],V[0]+J*.5,V[1]]},!0)}else if(N=="ShTz"){X.u=a.b.Ie({J8:["M","L","L","L","Z"],L:[V[0]+J*b.PosL,V[1],V[0]+J*b.PosR,V[1],V[2],V[3],V[0],V[3]]},!0)}else{console.log("--",N);
X.u=a.z.uU.Rect(V[0],V[1],V[2]-V[0],V[3]-V[1],[0,0,0,0])}}return X}function m(t,X,Q){var D=t.FDeF,L=t.FDeX;
if(L)L=M(L);var E=D.Grad,_=E.Cols;X.Type.v.GrdT=D.Type==0?"Lnr":"Rdl";var S=[];for(var R=0;R<_.length;
R++){var W=u(_[R]);S.push([E.Posn[R][0],W])}X.Grad.v.Intr.v=0;a.wv.mv(S,X.Grad.v);var g=E.Posn,x=new j6(g[0][0],g[0][1]),V=new j6(g[1][0],g[1][1]);
if(L){var b=new kp;if(Q==null)b.translate(-.5,-.5);b.concat(L);if(Q==null)b.translate(.5,.5);x=b.Kw(x);
V=b.Kw(V)}if(D.Type==0)x=new j6((x.x+V.x)/2,(x.y+V.y)/2);a.wv.bt(x,V,Q?Q:new gi(0,0,1,1),X)}function Z(t){var X=u(t);
return{t:"Objc",v:a.wv.gN({o:X[0]*255,R:X[1]*255,X:X[2]*255})}}function u(t){var X=t._col,Q=t._type;
if(Q=="HSLA"){var D=a.kr(X[0],X[1],X[2]);return[D.o,D.R,D.X,X[3]]}else if(Q=="RGBA")return X;else if(Q=="CMYK")return a.Vq(X);
else if(Q=="GRAY")return[X[0],X[1],X[2]];else if(Q=="Pant")return t.srgb._col;else{console.log(X);throw Q}}function f(t,X,Q){var D=t.Frmt,q="";
if(D!=0&&D!=1&&D!=4&&D!=6)throw D;var L=t.BmpW,E=t.BmpH,_=D==1?128:256,S=D==4?5:D==0||D==1?4:1,W=t.TWi1;
if(W==null)W=Math.ceil(L/_);var g=t.THi1;if(g==null)g=Math.ceil(E/256);var x=new gi(0,0,W,g),V=new gi;
for(var R=0;R<S;R++){var b=new Uint8Array(t["Sta"+(R+1)]);if(b.length!=x.C())throw"e";for(var N=0;N<b.length;
N++)if(b[N]==1)b[N]=0;var J=a.xY(b,x);V=V.v8(J)}var K=[];for(var R=0;R<S;R++){var b=new Uint8Array(t["Sta"+(R+1)]),d=a.j(V.C());
a.TT(b,x,d,V);K[R]=[];for(var N=0;N<d.length;N++)K[R][N]=d[N];q+=JSON.stringify(K[R])+","+JSON.stringify(t["Idx"+(R+1)])+","}if(Q[q]==null){var l=V.A*_,T=V.$*256,B=new Array(S);
for(var R=0;R<S;R++){var b=B[R]=new Uint8Array(l*T);U(b,t["Idx"+(R+1)],K[R],X,l,T,_)}var p=a.j(l*T*4);
if(D==0||D==1)a.oh({o:B[0],R:B[1],X:B[2],cd:B[3]},p);else if(D==4){for(var R=0;R<B[0].length;R++){var I=R*4,w=B[0][R]*(1/255),e=B[1][R]*(1/255),G=B[2][R]*(1/255),j=B[3][R]*(1/255),o=UDOC.C.cmykToRgb([w,e,G,j]);
p[I]=o[0]*255;p[I+1]=o[1]*255;p[I+2]=o[2]*255;p[I+3]=B[4][R]}}else{p.fill(255);a.Rm(B[0],p)}var r=new gi(0,0,l,T),k={buffer:p,S:r};
a.Dq(k);Q[q]=[k.S,k.buffer]}var J=Q[q][2]=Q[q][0].v();J.x+=V.x*_;J.y+=V.y*256;return Q[q]}function U(t,X,Q,D,L,E,_){var S=0,W=L>>>(_==256?8:7),g=E>>>8;
for(var x=0;x<g;x++)for(var V=0;V<W;V++){var b=V*_,N=x*256,J=x*W+V,K=N*L+b,q=Q[J];if(q<=1){}else if(q==2)C(t,K,255,L,_,256);
else if(q==4){var d=X[S];S++;var l=D[d.Data.DatI],T=d.Rect;if(T==null)T=[0,0,_,256];H(t,(N+T[1])*L+b+T[0],l,T[1]*_+T[0],L,_,T[2]-T[0],T[3]-T[1])}else console.log(q)}}function C(t,X,Q,D,L,E){var _=X+D*E;
for(;X<_;X+=D){var S=X+L;for(var W=X;W<S;W++){t[W]=Q}}}function H(t,X,Q,D,L,E,_,S){var W=X+L*S,g=D+E*S;
for(;X<W&&D<g;X+=L,D+=E){for(var R=0;R<_;R++)t[X+R]=Q[D+R]}}return s}();function dI(){}dI.kM=function(s,M){var O=dI,P=dE.parse(s),F=0,g=0;
if(P.pages.length>1)console.log(P.pages.length,"pages");var y=[],A=new gi;for(var h=0;h<P.pages.length;
h++){var m=P.pages[h],Z=m.layers,u=O.hG(Z,h),U=!1;if(u.C()>8e3*8e3||u.A>3e4||u.$>3e4){O.aeG(Z,!0);var f=O.hG(Z,h);
if(f.C()>=u.C())O.aeG(Z,!1)}u=O.hG(Z,h);for(var C=0;C<Z.length;C++){var H=Z[C];if(O.so(H)=="artboard")U=!0}if(!U){console.log("no artboard");
var t={};for(var X in m)t[X]=m[X];t._class="group";m.layers=[t]}y.push(u.v());if(u.g3())continue;u.x=0;
u.y=F;F+=u.$+200;A=A.v8(u)}var Q={};if(P.foreignSymbols)for(var R=0;R<P.foreignSymbols.length;R++){var D=P.foreignSymbols[R].symbolMaster;
Q[D.symbolID]={Ut:D}}O.akS(P.pages,Q,M);for(var L in Q){var H=Q[L].Ut,E=O.aKC(H.layers)}var _=dI.oN(A,8192*8192);
M.Jf=!0;M.A=Math.round(A.A/_);M.$=Math.round(A.$/_);M.buffer=a.j(M.A*M.$*4);M.Sn={};M.hs=[];F=0;for(var h=0;
h<P.pages.length;h++){var S=P.pages[h],u=y[h],W=new kp(_,0,0,_,u.x,u.y-F);O.wU(S.layers,M,W,P,Q,{},[]);
F+=u.$+200}delete M.Sn;delete M.hs;for(var R=0;R<M.U.length;R++)if(M.U[R].add.artb)g++;M.Fh(g);if(_!=1)alert("File scaled down "+_+"x");
M.a0P()};dI.aoe=0;dI.so=function(s){return s._class?s._class:s.$class};dI.oN=function(s,M){var O=1;if(dc!=0)return O;
while(Math.round(s.A/O)*Math.round(s.$/O)>M||Math.max(Math.round(s.A/O),Math.round(s.$/O))>3e4)O++;if(window.acm)return O;
if(O!=1&&!window.confirm("Your image is quite large ("+s.A+" x "+s.$+" px).\n"+"Press OK to scale it down "+O+"x, or Cancel to keep the size."))O=1;
return O};dI.hG=function(s,M){var O=[],P=dI;for(var y=0;y<s.length;y++){var F=s[y],A=P._l(F.frame);if(M==0||P.so(F)=="artboard")O.push(A)}return a.S.Bh(O)};
dI.aeG=function(s,M){var O=[],P=dI;for(var y=0;y<s.length;y++){var F=s[y],A=P._l(F.frame);A.A+=150;A.$+=150;
O.push(A)}var h=a.S.Bh(O);a.S.a7s(O,M);var m=a.S.Bh(O);if(m.C()*1.5<h.C()||h.A>3e4&&m.A<=3e4||h.$>3e4&&m.$<=3e4){alert("Re-arranging artboards");
for(var y=0;y<s.length;y++){var Z=O[y],F=s[y],u=F.frame;u.x=Z.x;u.y=Z.y}}};dI.akS=function(s,M,O){if(s==null)return;
var P=dI;for(var y=0;y<s.length;y++){var F=s[y],A=P.so(F);if(["page","artboard","group"].indexOf(A)!=-1)P.akS(F.layers,M,O);
else if(A=="symbolMaster")M[F.symbolID]={Ut:F}}};dI.aKC=function(s){var M=dI;for(var O=0;O<s.length;
O++){var P=s[O],y=M.so(P),F=null;if(["page","artboard","group"].indexOf(y)!=-1)F=M.aKC(P.layers);if(y=="symbolMaster"||y=="symbolInstance")F=P;
if(F!=null)return F}return null};dI.wU=function(s,M,O,P,y,F,A){if(s==null)return;var h=dI,m=[];for(var Z=0;
Z<s.length;Z++){var u=s[Z],f=u.frame?h._l(u.frame):null,U=u.style,Q="",W=null,g=!1;if(U==null){console.log("no styles")}var C=h.ahh(u,O),H=h.so(u),t=H=="shapeGroup"||H=="shapePath"||H=="rectangle"||H=="oval"||H=="triangle"||H=="polygon",X=["page","artboard","group"].indexOf(H)!=-1;
if(H=="shapeGroup"){for(var R=0;R<u.layers.length;R++)if(h.so(u.layers[R])=="shapeGroup")X=!0}var D=u.exportOptions;
if(D){var L=D.exportFormats;if(L==null)L=D.sizes;if(H!="artboard"&&(L&&L.length!=0)){var E=L[0].scale}}var _=M.Tk();
_.x1(u.isVisible);var S=u.name;if(!(typeof S=="string"))S=H;_.jj(Q+S.slice(0,250));if(U!=null)W=h.aHA(P,M,U,f,C,_.getName(),t||H=="artboard"||X);
if(H=="rectangle"&&U&&U.fills&&U.fills[0]){var x=U.fills[0];if(x.fillType==4&&x.patternFillType>1&&x.image!=null)g=!0}if(u.shouldBreakMaskChain){while(m.length!=0)h.avi(m.pop(),M)}if(X){_.add.lsct=u.layerListExpandedType==2?dU.l9:dU.aY;
_.mX="pass";_.Xa=24;_.x1(u.isVisible);M.U.push(M.kA());if(u.hasBackgroundColor==null&&u.hasClickThrough==0&&u.name=="Frame"&&!f.g3()){console.log("Frame detected!!!!");
var V=_.add.vmsk=new ad.Vp;_.add.vstk=aV.To.Jb(!0,!1);var b=f.v();V.u=a.z.uU.Rect(b.x,b.y,b.A,b.$);_.$k();
_.uH(M)}if(H=="artboard"){var N=f.v(),J=C.dI();N.x=-Math.floor(C.cj/J);N.y=-Math.floor(C.H3/J);N.A=Math.floor(N.A/J);
N.$=Math.floor(N.$/J);_.Y3(N);var K=u.backgroundColor,q=K?{o:255*K.red,R:255*K.green,X:255*K.blue}:{o:255,R:255,X:255};
_.add.artb.Clr={t:"Objc",v:a.wv.gN(q)};_.add.artb.artboardBackgroundType={t:"long",v:4}}h.wU(u.layers,M,C,P,y,F,A)}else if(t&&!g){var d=W!=null&&W.frameFXMulti.v.length==1;
_.add.vmsk=new ad.Vp;_.add.vstk=aV.To.Jb(!0,d);var l=U?U.fills:null,T=U?h.ax$(P,l,f,C,_.getName(),M,h.t7(A,u.do_objectID+"_image")):[];
if(T.length==0){if(d)_.add.vstk.fillEnabled.v=!1;else _.add.iOpa=0;_.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:0,R:0,X:0})}}}else{var B=T[0],I=null,w=null;
if(B.I=="SoFi"){I="SoCo";w=aV.IA}if(B.I=="GrFl"){I="GdFl";w=aV.Pd}if(B.I=="patternFill"){I="PtFl";w=aV.O5}if(I!=null){_.add[I]={classID:"null"};
for(var R=0;R<w.length;R++){var e=w[R];_.add[I][e]=B.K.v[e]}var G=B.K.v.Opct.v.val;if(d&&G==0)_.add.vstk.fillEnabled.v=!1;
else _.add.iOpa=Math.round(255*G/100)}}_.Xa|=16;_.add.vmsk.u=h.BG(u.layers?u.layers:[u],u.layers?C:O);
var j=U?U.blur:null;if(j&&j.isEnabled&&j.type<=1)_.add.vmsk.CN=j.radius;if(_.add.vmsk.u.length==2){console.log("shape with no content:",_.getName())}if(d){var r=W.frameFXMulti.v[0].v,k=_.add.vstk,a7=U.borders[0];
W.frameFXMulti.v=[];cb.aqE(r,k);var Y=U.borderOptions,v=U.miterLimit;if(Y)aV.To.write(k,{wF:Y.lineCapStyle,sa:Y.lineJoinStyle,wm:Y.dashPattern,LN:v})}_.$k();
_.uH(M)}else if(H=="bitmap"||g){if(!g&&u.image==null)continue;var n=g?U.fills[0]:null,cm=g?n.image.bdata:u.image.bdata,a5=M.N4(cm,_.getName(),0,0);
a5.Xa=_.Xa;_=a5;var j=U?U.blur:null,gP=U?U.colorControls:null;if(j||gP){var l=[];if(j){var cg=bW.Nl("GsnB",{});
cg.v.enab.v=j.isEnabled;cg.v.Fltr.v.Rds.v.val=j.radius;l.push(cg)}if(gP){var a9=gP.brightness,ew=gP.contrast,h7=gP.hue,bh=gP.saturation;
if(h7!=0||bh!=1){var cg=bW.Nl("hue2",{});cg.v.enab.v=gP.isEnabled;aU.lB(cg.v.Fltr.v,0,[Math.round(h7*180/Math.PI),Math.round((bh-1)*100),0]);
l.push(cg)}if(a9!=0||ew!=1){var cg=bW.Nl("brit",{});cg.v.enab.v=gP.isEnabled;ew=ew-1;if(ew>0)ew/=2;var ba=cg.v.Fltr.v;
ba.Brgh.v=Math.round(a9*255);ba.Cntr.v=Math.round(ew*255);ba.useLegacy.v=!0;l.push(cg)}}if(l.length!=0){_.add.SoLd.filterFX=bW.Yu();
M.hy({id:_.add.SoLd.placed.v,S:new gi,buffer:a.j(1),$E:new ad.OL});_.add.SoLd.filterFX.v.filterFXList.v=l}}if(g){var jx=n.patternFillType;
if(jx==3){var c4=_.S.A/_.S.$,bq=f.A/f.$;if(c4<bq){C.translate(-(f.A*(1-c4/bq))/2,0);C.scale(bq/c4,1)}else{C.translate(0,-(f.$*(1-bq/c4))/2);
C.scale(1,c4/bq)}}}f.x=f.y=0;var di=a.b.hC(f).L;C.or();a.b.M(di,C,di);_.add.SoLd.Trnf=$.TR.kZ(di);_.add.SoLd.nonAffineTransform=$.TR.kZ(di);
_.VN(M,!1)}else if(H=="text"){if(u.attributedString==null)continue;var il=C.v(),j0,j1,jy=0;il.or();il.cd=il.zv=Math.min(il.cd,il.zv);
_.add.lnsr="rend";_.add.TySh=iP.cN(0,0);_.add.TySh.WY=new gi(0,0,f.A,f.$);_.add.TySh.M=il;var b5=u.attributedString;
if(b5.archivedAttributedString)b5=b5.archivedAttributedString;var b4=b5.NSString;if(b4==null)b4=b5.string;
if(b4==null)b4="";if(b4["NS.string"])b4=b4["NS.string"];if(F[u.do_objectID]!=null)b4=F[u.do_objectID];
var lm=h.t7(A,u.do_objectID+"_stringValue");if(lm)b4=lm.value;if(b5.attributes!=null){j0=[];j1=[];var ix=b5.attributes;
for(var R=0;R<ix.length;R++){j0.push(ix[R].length,R);j1.push(ix[R].attributes)}}else if(b5.NSAttributeInfo==null){j0=[b4.length,0];
j1=[b5.NSAttributes]}else{j0=b5.NSAttributeInfo["NS.data"];j1=b5.NSAttributes;j0=dI.aL5(j0,j1)}for(var R=0;
R<j0.length;R+=2)jy+=j0[R];if(jy!=b4.length){while(jy>b4.length){j0[j0.length-2]--;jy--;if(j0[j0.length-2]==0){j0.pop();
j0.pop()}}j0[j0.length-2]+=b4.length-jy}b4=b4.replace(/\u2028/g,"\n");b4=b4.replace(/\u2029/g,"\n");
b4=b4.replace(/\r/g,"\n");var bz=_.add.TySh.nA;iP.Xq(bz,0,b4);if(b4!=""){var c5=u.textBehaviour,k0=U.textStyle,cd=k0?k0.verticalAlignment:0,fz=h.a4C(bz,j0,j1,b4),J=il.dI(),fu=iP.ty(bz,0,1),hP=0;
if(fu.TY.Font){var c6=fu.U2[fu.TY.Font].Name;if(c6=="FontAwesome"||c6=="Ionicons")fz*=.87}var k7=fu.TY.AutoLeading?0:fu.TY.Leading*.6,e1=Math.max(fz,k7)*J,fs=f.A,eh=f.$;
if(c5==0){iP.hV(bz,0);var gW=iP.zB(fu.Gy);if(gW==1)hP=fs*J;if(gW==2)hP=fs*J*.5;if(cd==0)e1*=1;else e1*=.9}else{iP.hV(bz,1);
iP.w9(bz,[0,0,Math.round(fs),Math.round(eh)]);if(c5==2&&cd==0)e1=e1*.2;else if(c5==2&&cd==1){e1=J*.5*(eh-fu.TY.FontSize)}else if(c5==1&&cd==0)e1=e1*.2;
else e1=e1*.35}_.add.TySh.M.translate(hP,e1)}}else if(H=="symbolInstance"||H=="symbolMaster"){var hk=u.symbolID;
if(F[u.do_objectID])hk=F[u.do_objectID].symbolID;var jz=h.t7(A,u.do_objectID+"_symbolID");if(jz)hk=jz.value;
if(hk=="")continue;var lh={};for(var e in F)lh[e]=F[e];if(u.overrides)for(var e in u.overrides)lh[e]=u.overrides[e];
var ag=A.slice(0);if(u.overrideValues)ag=ag.concat(u.overrideValues);var eo=y[hk];if(eo==null){console.log("Unknown master master",u.symbolID);
continue}var b=dI._l(eo.Ut.frame),aC=b.A/f.A,e8=b.$/f.$,lb=C.v();lb.scale(aC,e8);_.add.lsct=dU.aY;_.mX="pass";
_.Xa=24;_.x1(u.isVisible);M.U.push(M.kA());var jn=eo.Ut;if(M.hs.indexOf(jn)==-1){M.hs.push(jn);h.wU(jn.layers,M,lb,P,y,lh,ag);
M.hs.pop()}}else if(H=="slice"){console.log("slice layers are ignored by now");continue}else{console.log("unknown layer type: "+H,u);
continue}if(U&&U.contextSettings){var k3=U.contextSettings,cP=k3.blendMode;if(cP<h.fM.length){_.mX=h0.n$[h0.iQ.indexOf(h.fM[cP])];
if(X&&_.mX=="norm")_.mX="pass"}_.N_=Math.round(_.N_*k3.opacity)}if(W!=null){_.add.lmfx=W}M.U.push(_);
if(u.hasClippingMask&&s.length>1){m.push(_);M.U.push(M.kA())}}while(m.length!=0)h.avi(m.pop(),M)};dI.t7=function(s,M){for(var R=0;
R<s.length;R++)if(s[R].overrideName.startsWith(M))return s[R]};dI.aL5=function(s,M){var O=0,P=[];while(O+1<s.length){var y=s[O];
O++;if(y>127){y+=128*(s[O]-1);O++;if(s[O-1]>127){y+=128*(s[O]-1);O++}}var F=s[O];O++;P.push(y,F)}return P};
dI.a4C=function(s,M,O,P){var y=dI,F=0,u=0,f=0;for(var R=0;R<P.length;R++){var A=P.charCodeAt(R),h=1473<=A&&A<=1479||1488<=A&&A<=1514||1520<=A&&A<=1524,m=1569<=A&&A<=1594||1600<=A&&A<=1749;
if(h||m)F++}var Z=F>P.length/2;for(var R=0;R<M.length;R+=2){var U=M[R],_=14,S="DejaVuSans";if(U==0)continue;
var C=M[R+1],H=O[C],t=iP.ty(s,u,u+U-1),X=H.NSColor;if(X==null){var X=H.MSAttributedStringColorDictionaryAttribute;
if(X==null)X=H.MSAttributedStringColorAttribute;if(X==null)X="0 0 0";else X=[X.red,X.green,X.blue].join(" ")}else if(y.so(X)=="MSArchivedColor")X=X.dr+" "+X.dg+" "+X.db;
else if(X.NSRGB){X=X.NSRGB;X=c.Db(X,0,X.length-1)}else if(X.NSCMYK){X=X.NSCMYK;X=c.Db(X,0,X.length-1);
X=X.split(" ").map(parseFloat);var Q=1-X[0],D=1-X[1],L=1-X[2],E=1-X[3];X=Q*E+" "+D*E+" "+L*E}else if(X.NSWhite){X="1 1 1"}X=X.split(" ");
t.TY.FillColor={Type:1,Values:[1,parseFloat(X[0]),parseFloat(X[1]),parseFloat(X[2])]};var W=H.MSAttributedStringFontAttribute;
if(H.NSFont){_=H.NSFont.NSSize;S=H.NSFont.NSName}else if(W){if(W.attributes){W=W.attributes;_=W.size;
S=W.name}else{var g=W.NSFontDescriptorAttributes;if(g==null)g=W.UIFontDescriptorAttributes;W=g;_=W.NSFontSizeAttribute;
S=W.NSFontNameAttribute}if(S==null)S="DejaVuSans"}var f=Math.max(f,_);t.TY.FontSize=Math.round(_);iP.Z2(t,S);
var x=H.NSKern;if(x==null)x=H.kerning;if(x!=null)t.TY.Tracking=Math.round(1e3*x/_);if(H.NSUnderline!=null)t.TY.Underline=H.NSUnderline>0;
var V=H.NSStrikethrough;if(V==null)V=H.strikethroughStyle;if(V!=null)t.TY.Strikethrough=V>0;if(H.MSAttributedStringTextTransformAttribute==1)t.TY.FontCaps=2;
var b=H.NSParagraphStyle;if(b==null)b=H.paragraphStyle;if(b){var N=b.paragraphSpacing;if(N!=null){t.Gy.SpaceAfter=N}var J=b.NSAlignment;
if(J==null)J=b.alignment;if(J!=null){var K=0;if(!1){}else if(J==1)K=1;else if(J==2)K=2;else if(J==4)K=0;
else{K=J;console.log("unknown align",J)}if(Z&&K<2)K=1-K;t.Gy.Justification=K}var q=b.NSMinLineHeight;
if(q==null)q=b.minimumLineHeight;if(q!=null){t.TY.AutoLeading=!1;t.TY.Leading=q}}t.Gy._Direction=Z?1:0;
iP.UP(s,u,u+U,t);u+=U}return f};dI.aHA=function(s,M,O,P,y,F,A){var h=dI,m=JSON.parse(aV.default),Z=!1;
for(var R=0;R<aV.order.length;R++)m[aV.e1[R]]={t:"VlLs",v:[]};var u=O.fills,f=h.ax$(s,u,P,y,F,M);for(var U=0;
U<2;U++){var C=O[["shadows","innerShadows"][U]];if(C==null)continue;var H=["DrSh","IrSh"][U],t=aV.e1[aV.order.indexOf(H)];
for(var R=0;R<C.length;R++){var X=C[R];if(!X.isEnabled)continue;var Q=X.contextSettings;if(Q&&Q.opacity==0||X.color.alpha==0)continue;
var D=JSON.parse(aV.d$[aV.order.indexOf(H)]);m[t].v.unshift({t:"Objc",v:D});Z=!0;D.Clr.v=h.K7(X.color);
D.blur.v.val=Math.round(X.blurRadius/y.dI());var L=y.v();L.cj=L.H3=0;L.or();var E=L.Kw(new j6(X.offsetX,X.offsetY)),_=Math.sqrt(E.x*E.x+E.y*E.y);
D.Dstn.v.val=Math.round(_);D.lagl.v.val=Math.round(Math.atan2(E.y,-E.x)*(180/Math.PI));if(D.layerConceals)D.layerConceals.v=f.length!=0;
h.O3(X,D)}}var S=O.borders;if(S!=null&&(f.length==0||O.blur==null||!O.blur.isEnabled))for(var R=0;R<S.length;
R++){var W=S[R];if(!W.isEnabled)continue;var D=JSON.parse(aV.d$[aV.order.indexOf("FrFX")]),t=aV.e1[aV.order.indexOf("FrFX")];
m[t].v.unshift({t:"Objc",v:D});Z=!0;D.Clr.v=h.K7(W.color);if(W.fillType!=0&&W.gradient){var g=h.ai_(W.gradient,P,y,F),x=["Type","Angl","Ofst","Scl"];
for(var R=0;R<x.length;R++)D[x[R]]=g[x[R]];D.Grad.v=g.Grad.v;D.PntT.v.FrFl="GrFl"}D.Sz.v.val=Math.round(W.thickness/y.dI());
D.Styl.v.FStl=["CtrF","InsF","OutF"][W.position];h.O3(W,D)}for(var R=A?1:0;R<f.length;R++){var V=f[R],t=aV.e1[aV.order.indexOf(V.I)];
m[t].v.unshift(V.K);Z=!0}return Z?m:null};dI.ax$=function(s,M,O,P,y,F,A){if(M==null)return[];var h=dI,m=[];
for(var R=0;R<M.length;R++)if(M[R].isEnabled)m.push(M[R]);M=m;var Z=[];for(var R=0;R<M.length;R++){var u=M[R],f=null,U=null;
if(u.fillType==0){f="SoFi";var C=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);U={t:"Objc",v:C};U.v.Clr.v=h.K7(u.color)}else if(u.fillType==1){f="GrFl";
U={t:"Objc",v:h.ai_(u.gradient,O,P,y)}}else if(u.fillType==4&&u.image!=null){var H=u.image;if(A)H=A.value;
var t=b_.WG(H.bdata.buffer);if(t=="fpng")t="png";if(t!=null&&t!="pdf"&&t!="eps"){var X,_=0,S=0,W=0;if(F.Sn[H.key])X=F.Sn[H.key];
else{var Q={data:new ArrayBuffer(4),IK:new gi(0,0,1,1)};try{Q=b_.O7(t).AR(H.bdata)[0]}catch(hj){}X={};
X.id=fr.iY()+"-d71c-11e5-b1ae-a548a96e5f9f";X.name="someImage";X.ah=[new Uint8Array(Q.data),Q.IK];F.mo(X);
F.Sn[H.key]=X}var D=X.ah[1],C=JSON.parse(aV.d$[aV.order.indexOf("patternFill")]);f="patternFill";U={t:"Objc",v:C};
var L=u.patternFillType,E=u.patternTileScale;C.Algn.v=!0;C.Ptrn.v.Idnt.v=X.id;if(L==0){_=E*D.A/Math.min(D.A,D.$);
S=-P.cj;W=-P.H3}else{_=Math.max(O.A/D.A,O.$/D.$);S=-P.cj-(D.A*_-O.A)/2;W=-P.H3-(D.$*_-O.$)/2}C.Scl.v.val=100*_*(1/P.dI());
C.phase.v.Hrzn.v=Math.round(S/P.dI());C.phase.v.Vrtc.v=Math.round(W/P.dI())}}else if(u.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",u.fillType);
if(f!=null){h.O3(u,U.v);Z.push({I:f,K:U})}}return Z};dI.aAG=function(s){var M=dI,O=new gi(0,0,1,1);s=s.slice(0);
while(!0){var P=!1;for(var R=0;R<s.length-1;R++){var y=s[R],F=s[R+1],A=null,h=y.contextSettings;if(y.fillType==0&&(h==null||h.opacity==1&&h.blendMode==0)&&y.color.alpha==1){var m="norm",Z=1,h=F.contextSettings;
if(h){Z=h.opacity;m=h0.KL(M.fM[h.blendMode])}if(F.fillType==0){A=a.G(F);M.aEf(A.color,y.color,A.color,O,m,Z)}if(F.fillType==1){A=a.G(F);
var u=A.gradient.stops;for(var f=0;f<u.length;f++)M.aEf(u[f].color,y.color,u[f].color,O,m,Z)}if(A!=null&&A.contextSettings){var h=A.contextSettings;
h.opacity=1;h.blendMode=0}}if(A!=null){s.splice(R,0,A);P=!0;break}}if(!P||s.length<2)break}return s};
dI.aEf=function(s,M,O,P,y,F){var A=dI,h=a.j(4);A.aul(s,h);var m=a.j(4);A.aul(M,m);a.B.qZ(y,h,P,m,P,P,F);
A.a9l(m,O)};dI.aul=function(s,M){M[0]=255*s.red;M[1]=255*s.green;M[2]=255*s.blue;M[3]=255*s.alpha};dI.a9l=function(s,M){M.red=s[0]/255;
M.green=s[1]/255;M.blue=s[2]/255;M.alpha=s[3]/255};dI.avi=function(s,M){s=s.v();s.Xa=24;s.jj("Mask by "+s.getName());
M.U.push(s);s.add.lsct=dU.l9;s.add.lyid=M.iw();delete s.add.lmfx;delete s.add.SoCo;delete s.add.GdFl;
delete s.add.PtFl;delete s.add.iOpa;if(s.add.vmsk)s.add.vmsk.oy=!0;s.$k();s.uH(M);if((s.Xa&16)==16)s.Xa-=16;
if((s.Xa&2)==2)s.Xa-=2;s.mX="pass";s.N_=255};dI.fM="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
dI.ai_=function(s,M,O,P){O=O.v();O.or();O.cj=O.H3=0;var y=O.dI(),U=0,C=0;O.scale(1/y,1/y);var F=dI,A=JSON.parse(aV.d$[aV.order.indexOf("GrFl")]),h=A.Grad.v;
h.Intr.v=0;if(s==null)return A;var m=s.gradientType,Z=F.Ev(s.from),u=F.Ev(s.to);Z.offset(-.5,-.5);u.offset(-.5,-.5);
Z=O.Kw(Z);u=O.Kw(u);var f=Math.atan2(-(u.y-Z.y),u.x-Z.x);A.Type.v.GrdT=["Lnr","Rdl","Angl"][m];A.Scl.v.val=100*j6.gp(Z,u);
if(m==0){A.Angl.v.val=180/Math.PI*f;A.Scl.v.val=100*j6.gp(Z,u);U=(Z.x+u.x)/2;C=(Z.y+u.y)/2}if(m==1){A.Scl.v.val=200*j6.gp(Z,u);
U=Z.x;C=Z.y}if(m==2){A.Angl.v.val=180/Math.PI*(f-Math.PI/2)}var H=A.Ofst.v;H.Hrzn.v.val=U*100;H.Vrtc.v.val=C*100;
var t=[];for(var R=0;R<s.stops.length;R++){var X=s.stops[R],Q=X.color;t.push([X.position,Q?[Q.red,Q.green,Q.blue]:[0,0,0],Q.alpha])}a.wv.mv(t,h);
return A};dI.O3=function(s,M){var O=dI,P=1,y=s.contextSettings;if(y!=null){M.Md.v.BlnM=O.fM[y.blendMode];
P*=y.opacity}else M.Md.v.BlnM=O.fM[0];M.enab.v=s.isEnabled;if(M.uglg!=null)M.uglg.v=!1;if(s.color!=null)P*=s.color.alpha;
M.Opct.v.val=Math.round(P*100)};dI.K7=function(s){return a.wv.gN(s?{o:s.red*255,R:s.green*255,X:s.blue*255}:{o:0,R:0,X:0})};
dI.BG=function(s,M){var O=dI,P=[{I:6},{I:8,all:0}];for(var y=0;y<s.length;y++){var F=s[y],A=F.booleanOperation,h=0,m=F._class,H=!1;
if(m=="group"||m=="text"||m=="symbolInstance"||m=="slice"){console.log(m+" inside ShapeGroup");continue}if(A==-1)h=0;
else if(A==0)h=1;else if(A==1)h=2;else if(A==2)h=3;else if(A==3)h=0;if(y==0)h=1;var Z=dI._l(F.frame),u=O.ahh(F,M),f=F.path?F.path:F,U=[{I:0,length:0,VF:h,gW:2,zm:0,fd:0}],C=f.points;
for(var R=0;R<C.length;R++){var t=C[R],X=O.Ev(t.curveTo),Q=O.Ev(t.point),D=O.Ev(t.curveFrom);H=H||t.hasCurveFrom&&!D.s0(Q)||t.hasCurveTo&&!X.s0(Q)}var L=[];
if(!H){var E=[],hS=C.length;if(hS==0)continue;for(var R=0;R<hS;R++){L[R]=C[R].cornerRadius;var t=O.Ev(C[R].point);
E.push(t.x,t.y)}u.scale(1/Z.A,1/Z.$);u.or();a.b.M(E,u,E);U=a.z.uU.Fr(E,L).slice(2);U[0].VF=h}else{var _=C.length;
U[0].length=_;for(var R=0;R<_;R++){var t=C[R],S=t.curveMode,W=O.Ev(t.point);U[1+R]={I:S==2||S==4?1:2,Rb:t.hasCurveTo?O.Ev(t.curveTo):W.v(),nr:W,XO:t.hasCurveFrom?O.Ev(t.curveFrom):W.v()}}u.scale(1/Z.A,1/Z.$);
u.or();a.z.R7(U,u);var L=[];for(var R=0;R<_;R++){var t=C[R],S=t.curveMode,g=t.cornerRadius;if(S==1&&g!=0)L.push(g);
else L.push(0)}}if(!f.isClosed)for(var R=0;R<U.length;R++)U[R].I+=3;P=P.concat(U);var x=O.so(F);if(u.X==0&&u.xN==0){var V=u.cj,b=u.H3,N=V+u.cd,J=b+u.zv,K=[V,b,N,J]}}return P};
dI.ahh=function(s,M){var O=M.v(),P=s.frame?dI._l(s.frame):null;if(P)O.translate(-P.x-P.A/2,-P.y-P.$/2);
if(s.isFlippedHorizontal)O.scale(-1,1);if(s.isFlippedVertical)O.scale(1,-1);O.rotate(-s.rotation*(Math.PI/180));
if(P)O.translate(P.A/2,P.$/2);return O};dI.Ev=function(s){s=s.slice(1,s.length-1).split(",");return new j6(parseFloat(s[0]),parseFloat(s[1]))};
dI._l=function(s){return new gi(s.x,s.y,s.width,s.height)};dI.a0Y=function(s){return{_class:"rect",constrainProportions:!1,x:s.x,y:s.y,width:s.A,height:s.$}};
function ij(){}ij.kM=function(s,M){var O=Date.now(),P=ij,y=UZIP.parse(s),F=JSON.parse(c.xJ(y.manifest)),A=JSON.parse(c.xJ(y["resources/graphics/graphicContent.agc"])).resources,h=[],m=[],Z=F.children;
for(var R=0;R<Z.length;R++){var u=Z[R];if(u.name=="artwork"){var f=u.children;for(var U=0;U<f.length;
U++){var C=f[U],H=JSON.parse(c.xJ(y["artwork/"+C.path+"/graphics/graphicContent.agc"])),t=H.children;
if(t.length==0){}else if(t.length==1){if(C["uxdesign#bounds"]){C._node=t[0];h.push(C)}}else{var X=t[0],Q=X.transform,D=X.shape;
if(D==null)D={x:0,y:0,width:1e3,height:1e3};if(D.type=="path"){var L=a.b.q7(Typr.U.SVGToPath(D.path).crds);
D={x:L.x,y:L.y,width:L.A,height:L.$}}D=a.G(D);if(Q){D.x+=Q.tx;D.y+=Q.ty}C["uxdesign#bounds"]=D;C._node={type:"artboard",artboard:{children:t}};
m.push(C)}}}}if(h.length==0)h=m;var E=[],_=new gi;for(var R=0;R<h.length;R++){var C=h[R],S=dI._l(C["uxdesign#bounds"]);
E.push(S);_=_.v8(S)}var W=dI.oN(_,8192*8192);M.Jf=!0;M.A=Math.round(_.A/W);M.$=Math.round(_.$/W);M.buffer=a.j(M.A*M.$*4);
M.Fh(h.length);var g=new kp(W,0,0,W,_.x,_.y);M.Sn={};for(var R=0;R<h.length;R++){var C=h[R],S=dI._l(C["uxdesign#bounds"]),x=C._node,V=g.v(),b=S.v(),N=V.dI();
V.translate(-S.x,-S.y);b.x=-Math.floor(V.cj/N);b.y=-Math.floor(V.H3/N);b.A=Math.floor(b.A/N);b.$=Math.floor(b.$/N);
V.translate(S.x,S.y);ij.DS(x,M,V,A,y,b);var J=M.U[M.U.length-1];J.jj(C.name);J.Y3(b);if(R!=h.length-1)J.add.lsct=dU.aY}delete M.Sn};
ij.w0=function(s){if(s==null)return new kp;return new kp(s.a,s.b,s.c,s.d,s.tx,s.ty)};ij.DS=function(s,M,O,P,y,F){var A=ij,h=s.type,m=s[h],Z=s.style,u=A.w0(s.transform),H,t="none",X,Q="none",D,L;
u.or();var f=O.v();f.concat(u);var U=M.Tk(),C=s.name;U.jj(C?C.slice(0,250):"Layer");if(s.visible!=null)U.x1(s.visible);
if(Z){H=Z.stroke;t=H?H.type:"none";X=Z.fill;Q=X?X.type:"none";if(X&&Object.keys(X).length==1)Q="none";
D=Z.filters;L=Z.clipPath;if(L&&P.clipPaths[L.ref])L=P.clipPaths[L.ref].children;else L=null;if(Z.opacity!=null)U.N_=Math.round(255*Z.opacity);
if(Q=="solid"&&X.color.alpha)U.N_=Math.round(U.N_*X.color.alpha);if(D){U.add.lmfx=A.a9y(D);for(var R=0;
R<D.length;R++)if(D[R].type=="uxdesign#blur"){var E=D[R],_=E.params,S=_.brightnessAmount;if(S==null)S=0;
S=Math.abs(S/100);if((E.visible==null||E.visible==!0)&&_.backgroundEffect)U.N_=Math.round(U.N_*(S+(1-S)*_.fillOpacity))}}if(Q=="pattern"&&X.pattern.meta.ux.uid=="")Q="none"}if(L==null&&s.meta&&s.meta.ux&&s.meta.ux.clipPathResources)L=s.meta.ux.clipPathResources.children;
if(h=="artboard"||h=="group"){if(L){var W=L[0],g=W.shape,x=g!=null&&g.type=="rect"&&g.width*g.height>4e6;
if(W.type!="text"&&!x){if(g){var u=A.w0(W.transform);u.or();var V=f.v();V.concat(u);U.add.vmsk=new ad.Vp;
U.add.vmsk.u=A.BG(g);V=V.v();V.or();a.z.R7(U.add.vmsk.u,V);U.$k();U.uH(M)}}else if(!x)alert("Clipping by text has been ignored")}U.add.lsct=dU.l9;
U.mX="pass";U.Xa=24;if(s.visible!=null)U.x1(s.visible);M.U.push(M.kA());var N=m.children,J=X;if(J)J=J.color;
if(J)J=J.value;if(X){if(h=="artboard"&&Q=="solid"){U.Y3(new gi(0,0,10,10));U.add.artb.Clr={t:"Objc",v:a.wv.gN({o:J.r,R:J.g,X:J.b})};
U.add.artb.artboardBackgroundType={t:"long",v:4}}else{var K=M.Tk();K.jj("BACKGROUND");K.Xa|=16;K.add.vstk=aV.To.Jb();
K.add.vmsk=new ad.Vp;K.add.vmsk.u=A.BG({type:"rect",x:F.x,y:F.y,width:F.A,height:F.$});A.tN(X,Q,f,F,F,K,M,P,y);
K.$k();K.uH(M);M.U.push(K)}}for(var R=0;R<N.length;R++){ij.DS(N[R],M,f,P,y,F)}}else if(h=="shape"&&(m.type=="rect"&&(m.r==null||m.r==0)||m.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(m.path)))&&Q=="pattern"&&(Math.abs(m.width/m.height-X.pattern.width/X.pattern.height)<.01||Z.fill.pattern.meta.ux.scaleBehavior=="fill")){var q=X.pattern,d=q.meta.ux,l=d.uid,T=y["resources/"+l];
if(T==null){console.log(q);return}var B=M.N4(T,U.getName(),0,0);B.Xa=U.Xa;B.N_=U.N_;U=B;var p=a.z._E(A.BG(m),null),I=a.b.hC(new gi(0,0,q.width,q.height)).L,w=new kp;
w.scale(q.width/p.A,q.height/p.$);if(d.offsetX)w.translate(-d.offsetX*q.width,0);if(d.offsetY)w.translate(0,-d.offsetY*q.height);
f.concat(w);f.or();a.b.M(I,f,I);U.add.SoLd.Trnf=$.TR.kZ(I);U.add.SoLd.nonAffineTransform=$.TR.kZ(I);
U.VN(M,!1)}else if(h=="shape"){U.Xa|=16;U.add.vstk=aV.To.Jb();U.add.vmsk=new ad.Vp;U.add.vmsk.u=A.BG(m);
var p=a.z._E(U.add.vmsk.u,null),V=f.v();V.or();a.z.R7(U.add.vmsk.u,V);var e=a.z._E(U.add.vmsk.u,null);
if(t=="none"){}else{var G=H.color.value,j,o;j="SoFi";var r=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);
o={t:"Objc",v:r};o.v.Clr.v=a.wv.gN({o:G.r,R:G.g,X:G.b});var k=H.align,a7=H.cap;if(k==null)k="center";
var Y=U.add.vstk;Y.strokeEnabled.v=!0;Y.strokeStyleLineWidth.v.val=H.width;if(k)Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aV.To.UK[["inside","center","outside"].indexOf(k)];
if(a7)Y.strokeStyleLineCapType.v.strokeStyleLineCapType=aV.To._R[["butt","round","square"].indexOf(a7)];
var v=["SoFi","GrFl","patternFill"].indexOf(j),n=[aV.IA,aV.Pd,aV.O5][v];Y.strokeStyleContent.v={classID:aV.To.hF[0]};
var cm=Y.strokeStyleContent.v={classID:aV.To.hF[v]};for(var R=0;R<n.length;R++)cm[n[R]]=o.v[n[R]]}if(D)for(var R=0;
R<D.length;R++)if(D[R].type=="uxdesign#blur"&&D[R].visible){var a5=D[R];U.add.vmsk.CN=a5.params.blurAmount}A.tN(X,Q,f,p,e,U,M,P,y);
U.$k();U.uH(M)}else if(h=="text"&&s.text){var gP=s.text,cg=gP.frame,a9=Z.font,ew=Z.textAttributes,u=f.v(),bq=0;
u.or();U.add.lnsr="rend";U.add.TySh=iP.cN(0,0);U.add.TySh.WY=new gi(0,0,100,100);U.add.TySh.M=u;var h7=U.add.TySh.nA,bh=gP.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
iP.Xq(h7,0,bh);if(bh!=""){var ba=iP.ty(h7,0,1),jx=a9.postscriptName;if(jx==null)jx=a9.family;iP.Z2(ba,jx);
ba.TY.FontSize=Math.round(a9.size);if(Q=="solid"){var G=X.color.value;ba.TY.FillColor={Type:1,Values:[1,G.r/255,G.g/255,G.b/255]}}if(ew){if(ew.paragraphAlign)ba.Gy.Justification=["left","right","center"].indexOf(ew.paragraphAlign);
if(ew.letterSpacing)ba.TY.Tracking=Math.round(ew.letterSpacing);if(ew.lineHeight){ba.TY.AutoLeading=!1;
ba.TY.Leading=Math.round(ew.lineHeight)}}iP.UP(h7,0,bh.length,ba)}var c4=s.meta.ux.rangedStyles;if(c4)for(var R=0;
R<c4.length;R++){var m=c4[R],di=Math.min(m.length,bh.length-bq);if(R==c4.length-1)di=bh.length-bq;var ba=iP.ty(h7,bq,bq+di),jx=m.postscriptName;
if(jx==null)jx=m.family;if(jx!=null)iP.Z2(ba,jx);var il=m.textScript,j0=m.underline,j1=m.fontSize,E=m.fill,b5=m.textTransform;
if(il&&il!="none")ba.TY.FontBaseline=il=="superscript"?1:2;if(j0!=null)ba.TY.Underline=j0;if(j1!=null)ba.TY.FontSize=Math.round(j1);
if(b5!=null)ba.TY.FontCaps=b5=="uppercase"?2:0;if(b5=="lowercase"){iP.Cl(h7,bq,bq+di);iP.Xq(h7,bq,bh.slice(bq,bq+di).toLowerCase())}if(E!=null){var b4=E.value;
ba.TY.FillColor={Type:1,Values:[1,(b4>>>16&255)/255,(b4>>>8&255)/255,(b4>>>0&255)/255]}}iP.UP(h7,bq,bq+di,ba);
bq+=di}if(cg.type=="area"||cg.type=="autoHeight"){var lm=cg.width,ix=cg.height;iP.hV(h7,1);iP.w9(h7,[0,0,lm,ix!=null?ix:lm*2])}}else if(h=="syncRef"){var jy=s.syncSourceGuid,bz=P.meta.ux.symbols,c5=A.f2(bz,jy);
if(c5){var k0=f.v();k0.concat(A.w0(c5.transform));ij.DS(c5,M,k0,P,y,F)}return}else console.log(h,s);
M.U.push(U)};ij.f2=function(s,M){for(var R=0;R<s.length;R++){var O=s[R],P=O.group;if(O.id==M)return O;
if(P){var y=ij.f2(P.children,M);if(y)return y}}return null};ij.BG=function(s){var M=s.type,O=[{I:6},{I:8,all:0}];
if(M=="rect"){var P=s.r,y=s.x,F=s.y,A=s.width,h=s.height;O=a.z.uU.Rect(y,F,A,h,P?P:0)}else if(M=="circle"){var P=s.r;
O=a.z.uU.Y9(s.cx-P,s.cy-P,2*P,2*P)}else if(M=="ellipse"){var m=s.rx,Z=s.ry;O=a.z.uU.Y9(s.cx-m,s.cy-Z,2*m,2*Z)}else if((M=="path"||M=="compound")&&s.path){var u=Typr.U.SVGToPath(s.path);
O=a.b.Ie({J8:u.cmds,L:u.crds},!1)}else if(M=="line"){var f=s.x1,U=s.x2,C=s.y1,H=s.y2;O=a.z.uU.Fr([f,C,U,H],0,!0)}else if(M=="polygon"){var t=s.points,X=[];
for(var R=0;R<t.length;R++)X.push(t[R].x,t[R].y);O=O.concat(a.z.uU.Fr(X,0,!1).slice(2))}else console.log(M,s);
return O};ij.a9y=function(s){var M=JSON.parse(aV.default);for(var R=0;R<aV.order.length;R++)M[aV.e1[R]]={t:"VlLs",v:[]};
for(var R=0;R<s.length;R++){var O=s[R],P=O.type,y=O.params,F=O.visible;if(P=="dropShadow"){var A=aV.e1[aV.order.indexOf("DrSh")],h=JSON.parse(aV.d$[aV.order.indexOf("DrSh")]);
M[A].v.unshift({t:"Objc",v:h});var m=y.dropShadows;if(m.length!=1)throw"e";var Z=m[0],u=Z.color,f=u.value,U=Z.dx,C=Z.dy;
h.Clr.v=a.wv.gN({o:f.r,R:f.g,X:f.b});h.Opct.v.val=Math.round((u.alpha!=null?u.alpha:1)*100);h.uglg.v=!1;
h.enab.v=F!=null?F:!0;h.lagl.v.val=Math.round(180/Math.PI*Math.atan2(C,-U));h.Dstn.v.val=Math.round(Math.sqrt(U*U+C*C));
h.blur.v.val=Math.round(Z.r*2.3)}}return M};ij.tN=function(s,M,O,P,y,F,A,h,m){var Z=ij;F.add.vstk.fillEnabled.v=M!="none";
if(M=="none"){F.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:0,R:0,X:0})}}}else{var u,f,U;if(M=="solid"){var C=s.color.value;
u="SoCo";f=aV.IA;var H=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);U={t:"Objc",v:H};U.v.Clr.v=a.wv.gN({o:C.r,R:C.g,X:C.b})}else if(M=="gradient"){u="GdFl";
f=aV.Pd;var H=JSON.parse(aV.d$[aV.order.indexOf("GrFl")]),t=H.Grad.v,E,_,S;t.Intr.v=0;var X=s[M],Q=X.ref?h.gradients[X.ref]:X.meta.ux.gradientResources,D=["linear","radial","angular"].indexOf(Q.type),L=Q.stops;
H.Type.v.GrdT=["Lnr","Rdl","Angl"][D];if(D==0){var E=new j6(X.x1,X.y1),_=new j6(X.x2,X.y2);E.x=_.x+.5*(E.x-_.x);
E.y=_.y+.5*(E.y-_.y)}else{var E=new j6(X.cx,X.cy),_=new j6(X.cx+X.r,X.cy)}S=y;if(X.units=="objectBoundingBox"){var W=new kp(P.A,0,0,P.$,P.x,P.y);
E=W.Kw(E);_=W.Kw(_)}var W=Z.w0(X.transform);E=W.Kw(E);_=W.Kw(_);W=O.v();W.or();E=W.Kw(E);_=W.Kw(_);a.wv.bt(E,_,S,H);
var g=[];for(var R=0;R<L.length;R++){var x=L[R],V=x.color,C=V.value,b=V.alpha;if(b==null)b=1;g.push([x.offset,[C.r/255,C.g/255,C.b/255],b])}a.wv.mv(g,t);
U={t:"Objc",v:H}}else if(M=="pattern"){u="PtFl";f=aV.O5;var H=JSON.parse(aV.d$[aV.order.indexOf("patternFill")]),I;
U={t:"Objc",v:H};var N=s[M],J=N.meta.ux,K=J.uid,q=m["resources/"+K].buffer,d=J.flipX,l=J.flipY,T=K+d+l,B=b_.WG(q);
if(A.Sn[T])I=A.Sn[T];else{var w=new gi(0,0,N.width,N.height),e;if(w.g3()||B==null){w=new gi(0,0,1,1);
e=new ArrayBuffer(4)}else{var G=b_.O7(B);if(G.uQ){var j=new fr;G.AR(q,j);e=j.Ta().buffer}else{try{var o=G.AR(q)[0];
e=o.data;w=o.IK}catch(hj){e=new ArrayBuffer(w.C()*4)}}}I={};I.id=fr.iY()+"-d71c-11e5-b1ae-a548a96e5f9f";
I.name="someImage";I.ah=[new Uint8Array(e),w];if(d)a.F.br(I.ah[0].slice(0),I.ah[0],w.A,w.$);if(l)a.F.a9T(I.ah[0].slice(0),I.ah[0],w.A,w.$);
A.mo(I);A.Sn[T]=I}var r=O.v();r.or();r.translate(P.x,P.y);var k=P.A,a7=P.$,Y=I.ah[1].A,v=I.ah[1].$,n=Math.max(k/Y,a7/v);
if(J.scale)n*=J.scale;var cm=new kp;cm.translate(-Y/2,-v/2);cm.scale(1/Y,1/v);if(J.offsetX!=null)cm.translate(J.offsetX,J.offsetY);
cm.scale(Y,v);cm.scale(n,n);cm.translate(k/2,a7/2);cm.concat(r);cb.a0y(I,H,0,0,1e3,cm)}else console.log(M);
if(u!=null){F.add[u]={classID:"null"};for(var R=0;R<f.length;R++){var a5=f[R];F.add[u][a5]=U.v[a5]}}}};
function aT(){}aT.kM=function(){var s=c.KF,M=c.je,O=c.vJ;function P(D,L){return c.Db(D,L,4).split("").reverse().join("")}function y(D,L){return c.Db(D,L,4)}function F(D,L){var E=new Uint8Array(D);
if(M(E,0)==759775571)A(D,L);else h(D,L)}function A(D,L){var E=new Uint8Array(D),_=0,S=c.Db(E,_,16);_+=16;
if(S!="SAI-CANVAS-TYPE0")throw"e";var W=M(E,_);_+=4;var g=L.A=M(E,_);_+=4;var x=L.$=M(E,_);_+=4;var V=M(E,_);
_+=4;var b=M(E,_),N=M(E,_+4);_+=8;console.log(b,N);for(var R=0;R<4;R++)if(M(E,_+R*4)!=0)throw"e";_+=16;
if(M(E,_)!=4286611584)throw"e";_+=4;var J=y(E,_);_+=4;if(J!="norm"&&J!="ver1")throw J;var K=new Array(b),q={};
for(var d=0;d<b;d++){var l=y(E,_);_+=4;var S=M(E,_),T=M(E,_+4);_+=8;if(M(E,_)!=0)throw"e";_+=4;var B=M(E,_+8);
if(d==b-1)B=E.length;if(l=="layr"){var p=L.Tk();L.U.push(p);if(y(E,T)!=l)throw"e";T+=4;var I=p.add.lyid=M(E,T);
T+=4;if(I!=S)throw"e";if(M(E,T)!=0&&M(E,T+4)!=0)throw"e";T+=8;var w=y(E,T);T+=4;var e=u(E,T);T+=16;var G=M(E,T),j=M(E,T+4);
T+=8;var o=y(E,T);T+=4;p.N_=Math.round(255*M(E,T)/100);T+=4;var r=M(E,T);T+=4;q[S]=[p,j];while(!0){if(M(E,T)==0)break;
var l=y(E,T);T+=4;var k=M(E,T);T+=4;if(l=="name")p.jj(c.Tr(E,T+2,O(E,T)));else console.log(l,k);T+=k}if(T+4!=B)throw"e"}else if(l=="lpix"||l=="intg"){var a7=y(E,T),Y,v,j,a5=0;
T+=4;if(a7!="dpcm"&&a7!="\0\0\0\0")throw a7;if(l=="intg"){v=new gi(0,0,L.A,L.$);Y=L.buffer=a.j(v.C()*4);
j=Math.ceil(L.A/256)*Math.ceil(L.$/256)}else{var n=q[S],p=n[0];j=n[1];v=p.S=new gi(0,0,256,256);Y=p.buffer=a.j(v.C()*4)}Y.fill(255);
var cm=a.j(256*256),gP=T+j*4;for(var R=0;R<j;R++){var cg=M(E,T);T+=4;if(R==0)jR.Fe(E,gP+a5+4,cg,cm,0);
a5+=cg}if(l=="lpix")a.Rm(cm,Y)}}}function h(D,L){C(D);var E=f(new Uint8Array(D),2,0),_=E.canvas;L.A=M(_,4);
L.$=M(_,8);L.FR=M(_,22);var S=E.layers,W=[],g={};for(var x in S){var V=S[x],b=0,N=M(V,b);b+=4;var J=L.Tk(),K={Th:J,dY:N==8?[]:null},q=J.add.lyid=M(V,b);
b+=4;g[q]=K;var d=J.S=u(V,b);b+=16;J.S.offset(-8,-8);var hS=M(V,b);if(hS!=0&&hS!=1)throw hS;b+=4;J.N_=Math.round(255*V[b]/100);
b++;J.x1(V[b]==1);b++;J.buffer=a.j(d.C()*4);var l=V[b];b++;if(N!=8)J.nN=V[b]==1;b++;if(V[b]!=0)throw"e";
b++;var T=P(V,b);b+=4;var B={"add ":"lddg","sub ":"lbrn",adsb:"lLit",cbin:"norm"}[T];J.mX=B?B:T;var p={};
b=Z(V,b,p);J.jj(p.name);var I=p.pfid;if(I!=null)g[I].dY.push(K);else W.push(K);if(N==8){J.add.lsct=p.fopn?dU.l9:dU.aY;
J.mX="pass";J.Xa=24;continue}var w=Math.ceil(d.A/32),e=Math.ceil(d.$/32),G=b;b+=w*e;var j=new gi(0,0,32,32),o=a.j(j.C()*4),r=a.j(j.C()),k=d.v();
k.x=k.y=0;for(var a7=0;a7<e;a7++){for(var Y=0;Y<w;Y++){if(V[G+a7*w+Y]==1){for(var v=0;v<8;v++){var n=O(V,b);
b+=2;jR.Fe(V,b,n,r,0);b+=n;if(v<4)a.GS(r,o,v==3?3:2-v)}j.x=Y*32;j.y=a7*32;a.d7(o);a.FP(o,j,J.buffer,k)}}}}m(W,L)}function m(D,L){for(var R=0;
R<D.length;R++){var E=D[R];if(E.dY){L.U.push(L.kA());m(E.dY,L)}L.U.push(E.Th)}}function Z(D,L,E){while(L<D.length){var _=P(D,L),W=null;
L+=4;if(M(D,L-4)==0)break;var S=M(D,L);L+=4;if(_=="name"){var g=L;while(D[g]!=0)g++;W=c.Db(D,L,g-L)}else if(_=="lorg")W=[s(D,L),s(D,L+4)];
else if(_=="pfid")W=M(D,L);else if(_=="fopn")W=D[L]==1;else W=D.slice(L,L+S);E[_]=W;L+=S}return L}function u(D,L){return new gi(s(D,L),s(D,L+4),s(D,L+8),s(D,L+12))}function f(D,L,E){var _=new Uint8Array(D.buffer,L*4096,4096),S={},M=c.je;
for(var W=0;W<64;W++){var g=W*64,x=M(_,g);g+=4;if(x==0)continue;var V=g;while(_[V]!=0)V++;var N=c.Db(_,g,V-g);
g+=32;var J=_[g+2];g+=4;var K=M(_,g);g+=4;var q=M(_,g);g+=4;g+=8;if(J==16)S[N]=f(D,K,E+1);else S[N]=U(D,K,q,E+1)}return S}function U(D,L,E,_){var S=new Uint8Array(E),W=0;
while(W<E){var g=new Uint8Array(D.buffer,L*4096,Math.min(4096,E-W));S.set(g,W);W+=4096;var x=L&511;L=M(D,(L-x)*4096+x*8+4)}return S}function C(D){var L=D.byteLength>>>12,E=null;
for(var _=0;_<L;_++){var S=_&511,W=new Uint32Array(D,_*4096,1024);if(S==0){H(_>>>9,W);E=W}else{t(E[S*2],W)}}}function H(D,L){for(var R=0;
R<1024;R++){var E=L[R],_=E^X(D);L[R]=_<<16|_>>>16;D=E}}function t(D,L){for(var R=0;R<1024;R++){var E=L[R];
L[R]=E-X(D);D=E}}function X(D){return D^Q[D>>24&255]+Q[D>>16&255]+Q[D>>8&255]+Q[D&255]}var Q=[2568213150,2213907773,3502118182,2252615351,2126945275,2312593252,4216435257,4278811734,2718363422,2537383565,3280172813,481610987,922161291,1077111757,2228298685,2951699955,2419222343,3422529757,632899331,3620054202,3825866656,3940214514,1802732112,1995240010,1864845004,2616811044,516581573,3877394729,2014831980,798606449,962212537,1631814467,1581141896,2158572332,410633887,2047071060,317232928,4185932942,56898934,2520522107,3152871894,3306333873,1372277035,1153097417,3000323009,1316759699,355584419,1134767269,1437751943,1893333625,4015737571,2330457237,2453308677,496133388,3377109596,668252948,326281719,203007998,1694112339,4053986157,2683015439,1289817166,545412609,2113706180,2688993288,2391861182,1612571479,4083217276,13463415,3429546452,617369208,2870873084,1787544965,4252019696,3567735393,448747572,1172110871,1600643382,2492455189,1705877237,2175475945,3547246402,259999175,464417497,3188812486,3747132629,1057723918,3261153176,2959472816,1650063733,3298487940,695306595,191731997,164592183,1764388344,1740016386,772856770,1815406908,2823508129,2893004987,1554389068,887382403,1119058345,2038971062,141887777,900672281,4155148394,1240629715,2708897881,341216509,2335581686,1041968541,4128117966,290924298,3680272051,1938426618,432163045,1494007138,2067251986,4227903816,3624455943,3602717826,3176198616,2447287224,4203131712,4125043328,2591812206,388020465,3985941867,3204628008,222404520,121327036,2191405380,43992033,1910953247,2839027465,1479570912,3818444681,4041412870,1963409077,1459914302,1861289019,3158343475,2377972517,2288815906,1525996922,753584693,2412341724,2646136500,3328105519,3859780374,176443802,975781905,3706914367,1096947235,579647323,686412134,2925730687,114868839,3664329876,1420159072,2082566388,4074935499,1534566649,3105170086,3964966144,282949799,941876312,2010342234,26095721,3761885269,3586343359,2619605226,2243994065,1711643782,68615962,3799909832,2979810349,4266521999,3538996778,853545920,4007016407,3925787112,2760445386,4095214355,1922134924,3786429346,2550212222,765549531,2915359311,3482702964,3223738241,522349805,2806458706,1012859507,3243424360,3714511003,2479353295,1326740484,831734365,649426570,241711918,2502942512,711700038,2740294256,3078740119,3947809617,3729340749,1212113564,559121502,3020776674,1205538512,808291915,1274548831,735228076,1036531436,3347519845,3058457822,2661858343,3515167888,994241647,1671757201,2854788376,1294671433,3097518253,3052849049,1830780188,3129846502,3843690435,3645411559,377353938,2275134785,1352051739,95204826,928851182,2133767850,2771777336,3402673424,4165299770,603804818,3010745650,1405198962,1184759007,3902259069,2797331118,1758345391,1568161035,1380917732,1243970353,3464103858,1445781573,867633316,2364443375,3371921919,1961177003,3450963862];
return F}();var k8=function(){function s(Q){return Q.tagName?Q.tagName.split(":").pop():null}function M(Q,D,L){if(L&&L[0]==null)L=null;
Q=new Uint8Array(Q);var E,q=1;if(Q[0]==255&&Q[1]==254)E=c.Tr(Q,2,(Q.length>>>1)-1);else E=c.xJ(Q,0,Q.length);
var _=new DOMParser,S=_.parseFromString(E,"image/svg+xml"),W=S.getElementsByTagName("style")[0];if(W)W=Typr.U.SVG.cssMap(W.textContent);
else W={};var g=S.firstChild;while(s(g)!="svg")g=g.nextSibling;var x=new gi(0,0,100,100),V=g.getAttribute("viewBox"),b=g.getAttribute("width"),N=g.getAttribute("height"),J=b!=null?parseFloat(b):parseFloat(N),K=N!=null?parseFloat(N):parseFloat(b);
if(b&&b.endsWith("ex"))J*=13;if(N&&N.endsWith("ex"))K*=13;if(V){var d=O(V);x.x=d[0];x.y=d[1];x.A=d[2];
x.$=d[3];if(b!=null){var l=d[2]/d[3],T=J/K;if(T>l){var B=d[3]*T-x.A;x.x-=B/2;x.A+=B}if(T<l){var p=d[2]/T-x.$;
x.y-=p/2;x.$+=p}}if(J!=null&&!isNaN(J))q=J/d[2]}else if(b!=null||N!=null){x.A=J;x.$=K}if(dc==0)x=a.b.An(x);
while(L&&Math.max(x.A*(q*2),x.$*(q*2))<=Math.max(L[0],L[1]))q*=2;while(L==null&&Math.max(x.A,x.$)*q>8192)q*=.5;
D.Jf=!0;D.A=x.A*q;D.$=Math.abs(x.$*q);if(dc==0){D.A=Math.round(D.A);D.$=Math.round(D.$)}var I=new kp(q,0,0,q,-x.x*q,-x.y*q),w={bN:U(g),adj:W,fH:0};
P(S,g.children,D,I,w,new kp,0);if(D.U.length==0){var e=D.Tk();e.jj("Layer");D.U.push(e)}}function O(Q){var D=" ";
if(Q.indexOf(",")!=-1)D=",";return Q.split(D).map(parseFloat)}function P(Q,D,L,E,_,S,W,g){var x=["display","opacity","fill-opacity","filter","clip-path"],V=0;
for(var b=0;b<D.length;b++){var N=D[b],J=s(N),K=N.getAttribute("id"),l=13,w=1,j="clip-path",o=null,jx=0;
if(K==null)K=N.getAttribute("data-name");var q=U(N,_.adj);for(var d in _.bN)if((x.indexOf(d)==-1||g)&&q[d]==null)q[d]=_.bN[d];
if(q["font-size"])l=h(q["font-size"],l);var T=Z(N);if(N.getAttribute("dx"))T.cj+=h(N.getAttribute("dx"),l);
if(N.getAttribute("dy"))T.H3+=h(N.getAttribute("dy"),l);T.concat(E);var B=N.getAttribute("visibility"),p=q.display,I=L.Tk();
if(B=="hidden"||p=="none")I.x1(!1);I.jj(K!=null?K.split(":::")[0]:"Layer");if(q.opacity)w*=parseFloat(q.opacity);
if(q["fill-opacity"]){var e=parseFloat(q["fill-opacity"]);if(e!=0)w*=e}I.N_=Math.round(255*w);if(q["mix-blend-mode"]){var G=h0.YV.indexOf(q["mix-blend-mode"]);
if(G!=-1)I.mX=h0.n$[G]}if(N.getAttribute(j)==null)j="mask";if(N.getAttribute(j)!=null||q["clip-path"]){var r=N.getAttribute(j);
if(r==null)r=q["clip-path"];r=r.slice(4,r.length-1);var k=Q.getElementById(r.slice(1)),a7=k?k.children:null,Y=k&&k.tagName=="mask"&&a7[0]&&a7[0].tagName=="g";
if(Y){var v=a7[0].children[0];Y=v&&v.tagName=="g"&&v.children[0]&&v.children[0].tagName=="image"}if(Y){var n=a7[0].children[0],cm=Z(n);
cm.concat(T);var a5=n.children[0];console.log(a5);var gP=y(L,a5,cm),cg=_.ol=new ad.OL;cg.S=gP.S;cg.N=a.j(cg.S.C());
a.YT(gP.buffer,cg.N,0)}else if(k){o=L.Tk();o.jj("Clip-Path"+(K?": "+K:""));o.add.lsct=W<2?dU.l9:dU.aY;
o.mX="pass";o.Xa=24;var a9=o.add.vmsk=new ad.Vp;L.U.push(L.kA());var ew=[];if(k.getAttribute(j)){var r=k.getAttribute(j);
r=r.slice(4,r.length-1);ew=Q.getElementById(r.slice(1)).children}for(var R=0;R<a7.length;R++){var h7=Z(a7[R]);
h7.concat(T);var bh=A(L,Q,a7[R],!1).slice(2);a.z.R7(bh,h7);a9.u=a9.u.concat(bh)}for(var R=0;R<ew.length;
R++){var h7=Z(a7[R]);h7.concat(T);var bh=A(L,Q,ew[R],!1).slice(2);for(var ba=0;ba<bh.length;ba++)if(bh[R].VF!=null)bh[R].VF=3;
a.z.R7(bh,h7);a9.u=a9.u.concat(bh)}for(var R=0;R<a9.u.length;R++)if(a9.u[R].VF!=null)a9.u[R].VF=0;o.$k();
o.uH(L);W++}}if(q.filter&&q.filter!="none"){var c4=q.filter,di,il,j0,b5=!1,b4=!1,lm=!1;c4=c4.slice(5,c4.length-1);
var bq=Q.getElementById(c4),j1=[0,0,0,.5],ix=T.dI();if(bq)for(var R=0;R<bq.children.length;R++){var jy=bq.children[R],bz=s(jy);
if(bz=="feGaussianBlur"){b5=!0;di=parseFloat(jy.getAttribute("stdDeviation"))*ix}if(bz=="feColorMatrix"){var c5=jy.getAttribute("values");
if(c5){c5=c5.split(" ").map(parseFloat);j1=[c5[4],c5[9],c5[14],c5[18]]}}if(bz=="feComposite"){lm=!0}if(bz=="feOffset"){b4=!0;
var k0=jy.getAttribute("dx"),cd=jy.getAttribute("dy");il=parseFloat(k0?k0:0)*ix;j0=parseFloat(cd?cd:0)*ix}}if(b5&&(lm||b4)){var fz=lm?"IrSh":"DrSh",fu=JSON.parse(aV.d$[aV.order.indexOf(fz)]);
fu.blur.v.val=Math.round(di*2.4);var c6=Math.sqrt(il*il+j0*j0);fu.uglg.v=!1;fu.Dstn.v.val=Math.round(c6);
fu.lagl.v.val=Math.round(Math.atan2(j0,-il)*(180/Math.PI));fu.Clr.v=a.wv.gN({o:j1[0]*255,R:j1[1]*255,X:j1[2]*255});
fu.Opct.v.val=Math.round(j1[3]*100);F(I,aV.e1[aV.order.indexOf(fz)],fu)}else if(b5)jx=di}if(J=="g"||J=="a"||J=="svg"||J=="switch"||(J=="text"||J=="textPath")&&N.children.length>0||J=="symbol"&&g){if(J=="text")S=u(N,S);
var k7=N.getAttribute("viewBox"),hP=N.getAttribute("width"),e1=N.getAttribute("height");if(J=="svg"&&hP&&e1&&k7==null)k7="0 0 "+hP+" "+e1;
if(k7&&hP&&e1){var fs=O(k7),eh=u(N),gW=new kp;gW.translate(-fs[0],-fs[1]);gW.scale(parseFloat(hP)/fs[2],parseFloat(e1)/fs[3]);
gW.translate(eh.cj,eh.H3);gW.concat(T);T=gW}var hk=N.children.length,jz=_.bN;_.bN=q;var lh=_.fH;_.fH=Math.max(_.fH,jx);
var ag=J!="text"&&J!="textPath"||hk>1;if(ag){var eo=I.CD();I.add.lsct=W<2&&eo&&(K==null||!K.endsWith(":::"))?dU.l9:dU.aY;
I.mX="pass";I.Xa=24;I.x1(eo);L.U.push(L.kA())}P(Q,N.children,L,T,_,S,W+1);if(ag)L.U.push(I);else{var aC=L.U[L.U.length-1];
aC.N_=I.N_;aC.mX=I.mX}_.fH=lh;_.bN=jz}else if(J=="use"){var gW=u(N);gW.concat(T);var e8=H(N),lb=Q.getElementById(e8.slice(1));
if(lb){var jz=_.bN;_.bN=q;if(q.filter)lb.setAttribute("filter",q.filter);P(Q,[lb],L,gW,_,S,W+1,!0);_.bN=jz}}else if(J=="path"||J=="rect"||J=="circle"||J=="ellipse"||J=="polygon"||J=="polyline"||J=="line"){I.Xa|=16;
var a9=I.add.vmsk=new ad.Vp,jn=q.fill,k3=jn=="none"||q["fill-opacity"]&&parseFloat(q["fill-opacity"])==0,cP=q["fill-rule"]=="evenodd"?1:0;
a9.u=A(L,Q,N,cP==1,k3);a9.gW=cP;a.z.R7(a9.u,T);var cV=q.stroke,l2=q["stroke-width"],dS=q["stroke-dasharray"],gH=q["stroke-linejoin"];
if(gH==null)gH="miter";var hd=q["stroke-linecap"];if(hd==null)hd="butt";var bL=q["stroke-miterlimit"];
if(bL==null)bL=4;else bL=parseFloat(bL);var au=q["paint-order"],ev=!(cV==null||cV=="none"||cV=="null"),eF=I.add.vstk=aV.To.Jb(null,ev),fn=q["stroke-opacity"]?parseFloat(q["stroke-opacity"]):1;
if(ev){var iu=m(Q,cV,T,a9.u,L),gz=["SoFi","GrFl","patternFill"].indexOf(iu.I),dL=iu.K.v.Opct.v,l5=1;
if(dL.val!=100||fn!=1&&k3){I.N_=Math.round(fn*I.N_*dL.val/100);dL.val=100;fn=1}var dm=[aV.IA,aV.Pd,aV.O5][gz],cM=eF.strokeStyleContent.v={classID:aV.To.hF[gz]};
for(var R=0;R<dm.length;R++)cM[dm[R]]=iu.K.v[dm[R]];l2=l2?parseFloat(l2):1;if(au&&au.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){l5=2;
l2/=2}var i3={sa:["miter","round","bevel"].indexOf(gH),wF:["butt","round","square"].indexOf(hd),WJ:l2,LN:bL};
if(dS!=null&&dS!="none")i3.wm=(dS.indexOf(",")!=-1?dS.split(","):dS.split(" ")).map(parseFloat);aV.To.write(eF,i3,T.dI());
eF.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aV.To.UK[l5];eF.strokeStyleOpacity.v.val=100*fn;
if(iu.Tq)I.add._sstl=iu.Tq}I.add.vstk.fillEnabled.v=!k3;if(k3){I.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:0,R:0,X:0})}}}else{var iu=m(Q,jn,T,a9.u,L),eg=null,la=null;
if(iu.I=="SoFi"){eg="SoCo";la=aV.IA}if(iu.I=="GrFl"){eg="GdFl";la=aV.Pd}if(iu.I=="patternFill"){eg="PtFl";
la=aV.O5}if(eg!=null){var dL=iu.K.v.Opct.v;if(dL.val!=100){I.N_=Math.round(I.N_*dL.val/100);dL.val=100}I.add[eg]={classID:"null"};
for(var R=0;R<la.length;R++){var d=la[R];I.add[eg][d]=iu.K.v[d]}}if(iu.Tq)I.add._fstl=iu.Tq}var ea=Math.max(jx,_.fH);
if(ea!=0)I.add.vmsk.CN=ea;I.$k();I.uH(L);L.U.push(I)}else if((J=="text"||J=="tspan")&&N.textContent!=""){S=u(N,S);
var gW=S.v(),j0=0;gW.concat(T);if(J=="tspan"&&S.x!=0){}else gW.translate(V,0);if(N.children.length>0){var iB=U(N.children[0],_.adj);
for(var d in iB)if(x.indexOf(d)==-1)q[d]=iB[d]}var jG=q["xml:space"],j5=N.textContent;if(jG=="preserve")j5=j5.replace(/\t/g," ").replace(/\n/g," ");
if(K==null)I.jj(j5);I.add.lnsr="rend";I.add.TySh=iP.cN(0,0);I.add.TySh.WY=new gi(0,0,100,100);I.add.TySh.M=gW.v();
var hU=I.add.TySh.nA;iP.Xq(hU,0,j5);if(J=="tspan")V+=l*j5.length*.5*gW.dI();var jn=q.fill,kn=q["font-weight"],k5=q["font-family"],a0=q["text-decoration"],cV=q.stroke,l2=q["stroke-width"],ab=q["dominant-baseline"];
if(ab=="text-before-edge")j0=l;else if(ab=="middle")j0=l/2;else if(ab=="hanging")j0=l;if(j0!=0)I.add.TySh.M.translate(0,j0);
var c$=iP.ty(hU,0,1);if(jn&&jn!="none"){var j1=CSS.K7(jn);c$.TY.FillColor={Type:1,Values:[1,j1.o/255,j1.R/255,j1.X/255]}}if(a0=="underline")c$.TY.Underline=!0;
c$.TY.FontSize=Math.round(l);iP.Z2(c$,"LiberationSans");if(kn=="bold")iP.Z2(c$,"LiberationSans-Bold");
if(k5){k5=k5.split(",")[0].trim();if(k5[0]=="\"")k5=k5.slice(1);if(k5[k5.length-1]=="\"")k5=k5.slice(0,k5.length-1);
var eB=k5+":"+(kn?kn:"normal"),ii={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold","Source Sans Pro:normal":"SourceSansPro-Regular","Source Sans Pro:bold":"SourceSansPro-Bold"};
if(ii[eB])iP.Z2(c$,ii[eB]);else iP.Z2(c$,k5)}if(q["text-anchor"])c$.Gy.Justification=["start","end","middle"].indexOf(q["text-anchor"]);
iP.UP(hU,0,j5.length,c$);if(cV==null||cV=="none"){}else{var fu=JSON.parse(aV.d$[aV.order.indexOf("FrFX")]);
fu.Clr.v=a.wv.gN(CSS.K7(cV));fu.Sz.v.val=Math.round(parseFloat(l2)*gW.dI());F(I,"frameFXMulti",fu)}L.U.push(I)}else if(J=="image"){var gP=y(L,N,T);
if(gP){gP.jj(I.getName());gP.Xa=I.Xa;I=gP;L.U.push(I);if(_.ol)I.$E=_.ol;_.ol=null}}else console.log("unknown tag: "+J,N.children.length,N.textContent.length);
if(o!=null){L.U.push(o);W--}}}function y(Q,D,L){var E=H(D);if(E&&E.slice(0,4)=="data"){var _=b_.jz(E),S=_,W=Q.N4(S,"hey",0,0),g=W.S.v();
g.x=g.y=0;var x=D.getAttribute("width"),V=D.getAttribute("height");if(x)g.A=parseFloat(x);if(V)g.$=parseFloat(V);
var b=u(D);b.concat(L);var N=a.b.hC(g).L;a.b.M(N,b,N);W.add.SoLd.Trnf=$.TR.kZ(N);W.add.SoLd.nonAffineTransform=$.TR.kZ(N);
W.VN(Q,!1);return W}}function F(Q,D,L){var E=Q.add.lmfx;if(E==null){var E=Q.add.lmfx=JSON.parse(aV.default);
for(var R=0;R<aV.order.length;R++)E[aV.e1[R]]={t:"VlLs",v:[]}}E[D].v.push({t:"Objc",v:L})}function A(Q,D,L,E,_){var S=[{I:6},{I:8,all:0}],W=s(L);
if(W=="use"){var g=H(L),x=D.getElementById(g.slice(1)),V=new kp;if(s(x)!="rect")V=u(x);V.concat(Z(x));
S=A(Q,D,x,E,_);a.z.R7(S,V)}else if(W=="path"){var b=L.getAttribute("d");if(b==null)return S;var N=Typr.U.SVGToPath(b);
S=a.b.Ie({L:N.crds,J8:N.cmds},E,_);a.z.avF(S,E)}else if(W=="rect"){var J=L.getAttribute("rx"),K=new j6(0,0);
t("x",L,Q,K,!0);t("y",L,Q,K,!1);var q=new j6(0,0);t("width",L,Q,q,!0);t("height",L,Q,q,!1);S=a.z.uU.Rect(K.x,K.y,q.x,q.y,J?parseFloat(J):0)}else if(W=="circle"||W=="ellipse"){var d=[0,0,0,0],l=["cx","cy","rx","ry","r"];
for(var R=0;R<5;R++){var T=L.getAttribute(l[R]);if(T){T=parseFloat(T);if(R<4)d[R]=T;else d[2]=d[3]=T}}S=a.z.uU.Y9(d[0]-d[2],d[1]-d[3],2*d[2],2*d[3])}else if(W=="polygon"||W=="polyline"||W=="line"){var B;
if(W=="line")B=[L.getAttribute("x1"),L.getAttribute("y1"),L.getAttribute("x2"),L.getAttribute("y2")].map(parseFloat);
else B=L.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
S=a.z.uU.Fr(B,0,W!="polygon")}return S}function h(Q,D){if(Q.endsWith("em"))return D*parseFloat(Q.slice(0,Q.length-2));
else return parseFloat(Q)}function m(Q,D,L,E,_){var S,W,g,x=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]),V=a.z._E(E),b=D!=null?D.indexOf("("):-1;
if(b!=-1){var N=D.lastIndexOf(")"),J=D.slice(0,b).trim(),q=D.slice(b+1,N).trim();if(q.charAt(0)=="'"||q.charAt(0)=="\"")q=q.slice(1,q.length-1);
if(J=="url"){if(q.charAt(0)=="#"){var d=Q.getElementById(q.slice(1));if(d&&s(d).toLowerCase().endsWith("gradient")){g=X(Q,d,L,V,E);
var l=eq.R_(g,E);S="GrFl";W={t:"Objc",v:l}}else if(d&&s(d).toLowerCase()=="pattern"&&d.children[0]&&s(d.children[0])=="use"){S="SoFi";
W={t:"Objc",v:x};var T=d.children[0],B=Z(T),p=H(T),I=Q.getElementById(p.slice(1)),w;if(H(I)){var e=b_.jz(H(I)).buffer,G=b_.O7(b_.WG(e));
w=G.AR(e)[0]}else{var j=new Uint32Array(4*4);j.fill(4278220799);w={data:j.buffer,IK:new gi(0,0,4,4)}}var o={};
o.id=fr.iY()+"-d71c-11e5-b1ae-a548a96e5f9f";o.name="someImage";o.ah=[new Uint8Array(w.data),w.IK];_.mo(o);
var x=JSON.parse(aV.d$[aV.order.indexOf("patternFill")]);x.Scl.v.val=Math.round(100*V.A*B.cd);var r=x.phase.v;
r.Hrzn.v=Math.round(V.x+B.cj*V.A);r.Vrtc.v=Math.round(V.y+B.H3*V.$);x.Ptrn.v.Idnt.v=o.id;S="patternFill";
W={t:"Objc",v:x}}else{S="SoFi";W={t:"Objc",v:x}}}else console.log("unknown url",q)}else if(J=="rgb"||J=="hsl"||J=="rgba"||J=="hsla"){S="SoFi";
W={t:"Objc",v:x};W.v.Clr.v=a.wv.gN(CSS.K7(D));if(J=="rgba"||J=="hsla")W.v.Opct.v.val=Math.round(100*parseFloat(D.split(",").pop()))}else if(J=="light-dark"){var k=0,a7=0;
for(var R=0;R<q.length;R++){if(q[R]=="(")a7++;if(q[R]==")")a7--;if(q[R]==","&&a7==0){k=R;break}}return m(Q,q.slice(0,k),L,E,_)}else console.log("unknown fill",D)}else{S="SoFi";
W={t:"Objc",v:x};var Y=CSS.K7(D);W.v.Clr.v=a.wv.gN(Y);if(Y.cd!=null)W.v.Opct.v.val=Math.round(100*Y.cd/255)}return{I:S,K:W,Tq:g}}function Z(Q){var D=new kp,L=Q.getAttribute("transform");
if(L)D=f(L);var E=Q.getAttribute("style");if(E!=null){var _={};C(_,E,["transform"]);E=_.transform;if(E)D.concat(f(E))}return D}function u(Q,D){var L=new kp,E=Q.getAttribute("x"),_=Q.getAttribute("y");
if(E)L.cj=parseFloat(E);else if(D)L.cj=D.cj;if(_)L.H3=parseFloat(_);else if(D)L.H3=D.H3;return L}function f(Q){var D=Typr.U.SVG.readTrnf(Q);
return new kp(D[0],D[1],D[2],D[3],D[4],D[5])}function U(Q,D){var L={},E="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var R=0;R<E.length;R++){var _=Q.getAttribute(E[R]);if(_!=null&&_!="inherit")L[E[R]]=_}var S=Q.getAttribute("class");
if(D!=null&&S!=null&&D["."+S]!=null)C(L,D["."+S],E);var W=Q.getAttribute("id");if(D!=null&&W!=null&&D["#"+W]!=null)C(L,D["#"+W],E);
var g=Q.getAttribute("style");if(g!=null)C(L,g,E);return L}function C(Q,D,L){D=D.trim().split(";");for(var R=0;
R<D.length;R++){var E=D[R].split(":"),_=E[0]?E[0].trim():"",S=E[1]?E[1].trim():"";for(var W=0;W<L.length;
W++)if(_==L[W]&&S!="inherit")Q[L[W]]=S}}function H(Q){var D=Q.getAttribute("xlink:href");if(D==null)D=Q.getAttribute("href");
if(D==null)D=Q.getAttribute("xl:href");return D}function t(Q,D,L,E,_){var S=D.getAttribute(Q);if(S==null)return;
var W=parseFloat(S);if(S.endsWith("%"))W*=(_?L.A:L.$)/100;if(_)E.x=W;else E.y=W}function X(Q,D,L,E,_){var S=t,W=new kp,g=D.getAttribute("gradientTransform"),K=!1;
if(g)W=f(g);W.concat(L);var x=s(D)=="linearGradient"?0:1,V=new j6(0,0),b=new j6(1,0),N=V.v();if(x==0){var J=new gi(0,0,1,1);
S("x1",D,J,V,!0);S("y1",D,J,V,!1);S("x2",D,J,b,!0);S("y2",D,J,b,!1);N.ee(V.x,V.y)}if(x==1){if(D.getAttribute("cx"))V.x=parseFloat(D.getAttribute("cx"));
if(D.getAttribute("cy"))V.y=parseFloat(D.getAttribute("cy"));b.ee(V.x,V.y);N.ee(V.x,V.y);if(D.getAttribute("r"))b.x+=parseFloat(D.getAttribute("r"));
if(D.getAttribute("fx"))N.x=parseFloat(D.getAttribute("fx"));if(D.getAttribute("fy"))N.y=parseFloat(D.getAttribute("fy"))}var q=D;
while(!0){if(q.getAttribute("gradientUnits")=="userSpaceOnUse")K=!0;var d=H(q);if(d==null||d=="none")break;
q=Q.getElementById(d.slice(1))}if(!K)W=new kp(E.A,0,0,E.$,E.x,E.y);W=eq.qt(V,b,W);var l=eq.Yh(x,W,_);
eq.wc(l,V,b,N);var T=D.children,B=l[1]=[];if(T.length==0){var p=H(D);if(p==null)throw"gradient has no stops";
var I=Q.getElementById(p.slice(1));if(I==null){console.log(p.slice(1))}else B=l[1]=X(Q,I,W,E,_)[1]}else for(var R=0;
R<T.length;R++){var w=T[R],e=U(w),G=e["stop-color"],j=e["stop-opacity"],o=w.getAttribute("offset");if(G==null)G="#000000";
j=j==null?1:parseFloat(j);var r=o?parseFloat(o):0;if(o&&o.endsWith("%"))r/=100;G=CSS.K7(G);if(G.cd!=null)j*=G.cd/255;
B.push([r,[G.o/255,G.R/255,G.X/255],parseFloat(j),.5])}return l}return{kM:M}}();k8.mK=function(){var s=null,M="",O="",P;
function y(x,V,b,N){var J=[],l=" { ",T=" } ",B=!1;s=V;O=V.r_?"":"\t";M=V.r_?"":" ";var K=V.a0A,q=V.agE;
P=dc==0?new gi(0,0,x.A,x.$):x.Q9(!0);if(N!=null){P=x.root.children[N].w.Kj();K=P.A;q=P.$}J.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[P.x,P.y,P.A,P.$].join(" ")+"\" width=\""+K+"\" height=\""+q+"\">");
if(!V.r_)J.push(F(1)+"<title>"+D(x.name.split(".")[0])+"</title>");var d={MA:[],SB:[],zN:0,C7:0,nB:0,$J:{},ua:{},bg:0,B5:{},a1j:{},ys:0,s4:[]};
H(x,d,x.root.children,1,V,b,N);if(d.MA.length!=0){J.push(F(1)+"<defs>");J=J.concat(d.MA);J.push(F(1)+"</defs>")}J.push(F(1)+"<style>");
if(V.r_){l="{";T="}"}for(var R=0;R<x.U.length;R++)if(x.U[R].add.TySh)B=!0;if(B&&!V.awT&&!V.a2I)J.push(F(2)+"tspan"+l+"white-space:pre"+T);
for(var p in d.B5)J.push(F(2)+"."+p+l+d.B5[p]+T);J.push(F(1)+"</style>");J=J.concat(d.SB);J.push("</svg>");
J=J.join(V.r_?"":"\n");return c.WT(J)}function F(hS){var x="";for(var R=0;R<hS;R++)x+=O;return x}function A(hS,x){if(x==null)x=1;
var V=""+parseFloat(hS.toFixed(x));if(V.startsWith("0."))V=V.slice(1);return V}function h(x,V){var b=x.add.lmfx;
if(b)b=b[V].v[0];if(b)b=b.v;if(b&&!b.enab.v)b=null;return b}function m(x,V){var b=h(x,"frameFXMulti");
if(b){var N=b.Sz.v.val;if(b.Styl.v.FStl=="OutF"){V.push("paint-order:stroke fill markers");N*=2}C(V,CSS.wT(b.Clr.v),1);
if(N!=1)V.push("stroke-width: "+N);V.push("stroke-linejoin: round;")}}var Z="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function u(x){var V=Z.length,b="";for(var N=1;N<10;N++){var J=(V-10)*~~Math.pow(V,N-1);if(x<J){for(var R=0;
R<N;R++){var K=R==N-1?10:0,q=V-K,d=x%q;b=Z[d+K]+b;x=Math.floor((x-d)/q)}break}x-=J}return b}function f(x,V,b,N){if(x.length!=0){if(N==null)N="s";
var J=x.join(";"),K=V.a1j[J];if(K==null){K=s.r_?u(V.ys):N+V.ys;V.ys++;V.a1j[J]=K;V.B5[K]=J}if(b)b.push(K);
return K}}function U(x){if(s.r_&&x.length==7&&x[0]=="#"){if(x[1]==x[2]&&x[3]==x[4]&&x[5]==x[6])x="#"+x[1]+x[3]+x[5]}return x}function C(x,V,b){V=U(V);
if(V!="#000"||b==1)x.push((b==0?"fill:":"stroke:")+M+V)}function H(x,V,b,N,J,K,q){var d=!1;for(var l=0;
l<b.length;l++){var T=b[l].w,B=T.add.lsct;if(T.Cj)continue;if(T.add.artb&&q!=null&&l!=q)continue;if(!T.nN&&b[l+1]&&b[l+1].w.nN&&T.tE()&&T.add.vmsk){var p=[];
E(T,T.add.vmsk,V,p);V.SB.push(F(N)+"<g "+p[0]+">");N++;d=!0}else if(!T.nN&&b[l-1]&&b[l-1].w.nN&&d){N--;
V.SB.push(F(N)+"</g>");d=!1}var I=T.add.vmsk,w=T.add.vogk,e=T.add.vstk,G=T.add.TySh;if(I&&!I.isEnabled)I=e=null;
var j=[];if(!J.hidden&&!T.CD())continue;var o=T.N_/255,r=T.add.iOpa?T.add.iOpa/255:1;if(T.ES()){o*=r;
r=1}if(o!=1)j.push("opacity:"+M+A(o,2));if(r!=1)j.push("fill-opacity:"+M+A(r,2));if(T.mX!="norm"){var k=h0.YV[h0.n$.indexOf(T.mX)];
if(k!=null)j.push("mix-blend-mode:"+M+k)}if(!T.CD())j.push("display:"+M+"none");var p=[],a7=[],Y=T.getName(),v=Y.indexOf(" .");
if(!J.r_&&Y!="Layer")p.push("id=\""+D(Y)+"\"");var n=cb.a9M(T.add.lmfx,T.add),cm=n[0],a5=n[1],gP=T.add.SoLd;
if(gP&&gP.filterFX){var cg=gP.filterFX.v;if(cg.enab.v&&cg.filterFXList.v.length!=0)gP=null}var a9=[];
if(I&&!T.tE()&&!T.ES())E(T,I,V,a9);if(a9.length!=0)V.SB.push(F(N)+"<g "+Q(a9,a7)+">");if(T.ES()){var ew=b[l].children;
if(ew.length==1&&ew[0].w.add.SoLd&&!J.G5){}else{var h7=I,bh=ew.length==0?null:ew[ew.length-1].w;if(dc==1&&bh&&bh.Cj&&bh.CD())h7=bh.add.vmsk;
E(T,h7,V,p);if(j.length!=0)p.push("style=\""+j.join(";")+"\"");if(cm){var ba=CSS.wT(cm.Clr.v),jx="f"+V.C7;
V.C7++;V.SB.push(F(N)+"<filter id=\""+jx+"\">");V.SB.push(F(N+1)+"<feFlood flood-color=\""+ba+"\" flood-opacity=\""+A(cm.Opct.v.val/100,2)+"\" />");
V.SB.push(F(N+1)+"<feBlend mode=\""+h0.YV[h0.n$.indexOf(h0.KL(cm.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
V.SB.push(F(N+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");V.SB.push(F(N)+"</filter>");
p.push("filter=\"url(#"+jx+")\"")}var c4=Q(p,a7),bq=J.r_&&c4=="";if(!bq)V.SB.push(F(N)+"<g"+(c4==""?"":" "+c4)+">");
H(x,V,ew,N+1,J,K);if(!bq)V.SB.push(F(N)+"</g>")}}else if(T.tE()&&I==null){_(x,j,T.add,V,P,J);if(j.length!=0)p.push("style=\""+j.join(";")+"\"");
V.SB.push(F(N)+"<rect width=\""+P.A+"\" height=\""+P.$+"\" "+Q(p,a7)+"/>")}else if(I&&T.tE()&&T.add.PtFl==null){_(x,j,T.add,V,ed,J,I.u);
f(j,V,a7);var di,il=null,j0=0,j1;if(w.length!=0){di=w[0].v;il=di.keyOriginType;if(il)il=il.v;if(il==2){var b5=a.cV.II(di);
j0=b5[0];for(var R=0;R<3;R++)if(j0!=b5[R+1])il=null}}if(w.length==1&&il==5&&Math.abs(a.cV.aeQ(di))<1e-4){var b4=a.cV.tL(di),lm=(b4[0]+b4[2])/2,ix=(b4[1]+b4[3])/2,jy=lm-b4[0],bz=ix-b4[1],c5=Math.abs(jy-bz)<.01,k0=c5?"r=\""+A(jy)+"\"":"rx=\""+A(jy)+"\" ry=\""+A(bz)+"\"";
j1="<"+(c5?"circle":"ellipse")+" "+Q(p,a7)+" cx=\""+A(lm)+"\" cy=\""+A(ix)+"\" "+k0+"/>"}else if(w.length==1&&il==2&&j0!=0&&Math.abs(a.cV.aeQ(di))<1e-4){var b4=a.cV.tL(di),cd=b4[0],fz=b4[1],fu=b4[2]-b4[0],c6=b4[3]-b4[1],k7="";
if(cd!=0)k7+=" x=\""+A(cd)+"\"";if(fz!=0)k7+=" y=\""+A(fz)+"\"";k7+=" width=\""+A(fu)+"\"";k7+=" height=\""+A(c6)+"\"";
k7+=" rx=\""+A(j0)+"\"";j1="<rect "+Q(p,a7)+k7+"></rect>"}else{var hP,e1;if(dc==0){var fs=a.z.G4(I.u,1);
hP=fs.fp;e1=fs.iU}else{var eh=a.b.TM(I.u);hP=Typr.U.pathToSVG({crds:eh.L,cmds:eh.J8},1);e1=I.gW}if(e1!=0){p.push("fill-rule=\"evenodd\"")}j1="<path "+Q(p,a7)+" d=\""+hP+"\"/>"}V.SB.push(F(N)+j1)}else if(G&&J.awT){M=J.r_?"":" ";
var gW=G.nA,hk=new aa(gW,K,G.x9),jz=null;if(cm)jz=CSS.wT(cm.Clr.v);if(a5){var b4=T.S.v();g(a5,V,b4,J);
jz="url(#g"+V.zN+")"}if(jz)j.push("fill:"+M+jz);m(T,j);var eh=bZ.cU(hk,G,!0),lh=a.b.Ib(eh);for(var ag in lh){var eo=j.slice(0),aC=a7.slice(0),e8=p.slice(0);
if(jz==null){C(eo,ag.slice(0,7),0);if(ag.length>7){var lb=bZ.aC5(ag.slice(7));C(eo,W(lb.Jc),1);S(lb,eo)}}f(eo,V,aC);
var jn=lh[ag],k3=Typr.U.pathToSVG({crds:jn.L,cmds:jn.J8},1);V.SB.push(F(N)+"<path "+Q(e8,aC)+(J.r_?"":" "+X(G))+" d=\""+k3+"\"/>")}}else if(G&&!J.a2I){var gW=G.nA,cP=G.M.v(),jz=null;
j.push("transform:"+M+L(cP));var cV=iP.Rx(gW),hk=new aa(gW,K,G.x9);m(T,j);if(j.length!=0)p.push("style=\""+j.join(";")+"\"");
V.SB.push(F(N)+"<text "+Q(p,a7)+" >");if(cm)jz=CSS.wT(cm.Clr.v);if(a5){var b4=T.S.v();b4.x-=cP.cj;b4.y-=cP.H3;
g(a5,V,b4,J);jz=" url(#g"+V.zN+")"}for(var R=0;R<hk.Gy.length;R++){var l2=hk.Gy[R];if(l2.JX.length==1&&l2.JX[0].fm)continue;
for(var dS=0;dS<l2.PO.length;dS++){var gH=l2.PO[dS],ix=l2.I7.y+gH.I7.y,hd=l2.JX[gH.start].start,bL=l2.JX[gH.end-1].end,au=iP.aC9(gW,hd,bL),ev="";
for(var eF=0;eF<au.length;eF++){var fn=hk.hp(hd),iu=au[eF],gz=iP.ty(gW,hd,hd),dL=gz.U2[gz.TY.Font].Name,ag=iP.sl(gz.TY.FillColor),dm=Math.round(gz.TY.FontSize),cM=cV.slice(hd,hd+iu);
if(gz.TY.FontCaps==2)cM=cM.toUpperCase();var l5=new kp;l5.translate(fn.Iz.x,-ix);var i3=[];CSS.a6m(i3,gz,null,!0,!0,jz);
var eg=f(i3,V,null,"t");eg=eg?" class=\""+eg+"\"":"";var lm=fn.Iz.x,la=t(gz,cM);ev+="<tspan "+(eF==0?"x=\""+A(fn.Iz.x)+"\"":"")+" y=\""+A(ix)+"\""+eg+la+">"+D(cM)+"</tspan>";
hd+=iu}V.SB.push(F(N+1)+ev)}}V.SB.push(F(N)+"</text>")}else if(gP&&J.G5&&cm==null){var jx=gP.Idnt.v,ea=0,iB=gP.Crop?gP.Crop.v:null;
console.log(iB);if(V.ua[jx]!=null)ea=V.ua[jx];else{V.bg++;ea=V.bg;V.ua[jx]=V.bg;var jG=x.vP(jx,iB),kn="";
if(jG==null)return;var j5=jG.EV,hU=b_.WG(jG.raw.buffer);console.log(hU);if(hU=="pdf"){var k5=new fr("h");
b_.O7("PDF").AR(jG.raw.buffer,k5);k5.DA();k5.Jy();k5.vw();k5.kp();if(gP.Crop&&gP.Crop.v==1){$._P.um(k5,k5.root.Gt(k5,!0))}var a0=b_.O7("SVG").u6(k5,k5.A,k5.$,null,{s4:K});
kn="data:image/svg+xml;base64,"+b_.lW(a0)}else if(hU=="jpg"||hU=="png"||hU=="gif"||hU=="svg"){var ab={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
kn="data:"+ab[hU]+";base64,"+b_.lW(jG.raw.buffer)}else{kn=b_.TB(j5[0].buffer,j5[1].A,j5[1].$)}var c$=gP.Sz.v;
V.MA.push(F(2)+"<image width=\""+c$.Wdth.v+"\" height=\""+c$.Hght.v+"\" id=\"img"+ea+"\" href=\""+kn+"\"/>")}var eB=a.F.fu(gP);
if(j.length!=0)p.push("style=\""+j.join(";")+"\"");var ii=Q(p,a7);V.SB.push(F(N)+"<use "+ii+" href=\"#img"+ea+"\" transform=\""+L(eB)+"\"/>")}else if(!T.S.g3()&&(J.G5||G)){if(j.length!=0)p.push("style=\""+j.join(";")+"\"");
var ii=Q(p,a7),eY=T.buffer;if(cm)eY=cb.asF(eY,cm,T.S);var e1=T.S;V.bg++;var kn=b_.TB(eY.buffer,e1.A,e1.$,"png",null,!0);
V.MA.push(F(2)+"<image "+X(G)+" width=\""+T.S.A+"\" height=\""+T.S.$+"\" id=\"img"+V.bg+"\" href=\""+kn+"\"/>");
V.SB.push(F(N)+"<use "+ii+" href=\"#img"+V.bg+"\" x=\""+e1.x+"\" y=\""+e1.y+"\"/>")}if(a9.length!=0)V.SB.push(F(N)+"</g>")}if(d){N--;
V.SB.push(F(N)+"</g>");d=!1}}function t(x,V){var b=x.TY.Tracking,N="";if(b!=null&&b!=0){b=Math.round(b*x.TY.FontSize/1e3);
N=" dx=\"0";for(var J=1;J<V.length;J++)N+=" "+b;N+="\" "}return N}function X(x){if(x==null)return"";
var V=x.nA,b=iP.Rx(V);b=D(b.slice(0,b.length-1));return"aria-label=\""+b+"\" "}function Q(x,V){if(V.length!=0)x.push("class=\""+V.join(" ")+"\"");
return x.join(" ")}function D(x){return String(x).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function L(x){var V=[x.cd,x.X,x.xN,x.zv,x.cj,x.H3];
for(var R=0;R<6;R++)V[R]=A(V[R],3);return"matrix("+V.join(",")+")"}function E(x,V,b,N){if(V||x.add.artb){var J;
if(V)J=a.z.G4(V.u).fp;else{var K=x.Kj(),q=a.b.hC(K);J=Typr.U.pathToSVG({crds:q.L,cmds:q.J8},1)}b.nB++;
N.push("clip-path=\"url(#cp"+b.nB+")\"");b.MA.push(F(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+b.nB+"\">");
b.MA.push(F(3)+"<path d=\""+J+"\"/>");b.MA.push(F(2)+"</clipPath>")}}function _(x,V,b,N,J,K,q){var d=b.vmsk,l=b.lmfx,T=[];
if(d&&d.CN!=0){var B=A(d.CN);if(N.$J[B]==null){N.C7++;N.$J[B]=N.C7;N.MA.push(F(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+N.C7+"\"> <feGaussianBlur stdDeviation=\""+B+"\"/> </filter>")}T.push("url(#f"+N.$J[B]+")")}if(l)for(var R=0;
R<aV.order.length;R++){var p=aV.order[R],I=aV.e1[R],w=l[I].v;console.log(l);for(var e=0;e<w.length;e++){var G=w[e].v,j=G.classID;
if(!G.enab.v||!l.masterFXSwitch.v)continue;if(j=="OrGl"||j=="DrSh"){N.C7++;T.push("url(#f"+N.C7+")");
var r=0,k=0,a7=G.blur.v.val/2.4,Y=G.Opct.v.val/100;if(j=="DrSh"){var v=G.uglg&&G.uglg.v?x.Cz():G.lagl.v.val;
v=v*(Math.PI/180);var n=G.Dstn.v.val;r=-Math.cos(v)*n;k=Math.sin(v)*n}if(j=="OrGl")Y/=G.Inpr.v.val/100;
var cm="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+N.C7+"\" >";cm+="<feDropShadow dx=\""+r+"\" dy=\""+k+"\" stdDeviation=\""+a7+"\" flood-color=\""+CSS.wT(G.Clr.v)+"\" flood-opacity=\""+A(Y)+"\"/>";
cm+="</filter>";N.MA.push(F(2)+cm)}}}if(T.length!=0)V.push("filter:"+M+T.join(" "));var a5=b.vstl;if(a5==null)a5=fr.E6(b,x);
for(var R=0;R<2;R++){var gP=R==0?a5.Tq:a5.Jc;if(gP.length==0){if(R==0)V.push("fill:"+M+"none")}else if(gP.length==3)C(V,W(gP),R);
else{g(gP,N,J,K,q);C(V,"url(#g"+N.zN+")",R)}}if(a5.Jc.length!=0){S(a5,V)}}function S(x,V){var b=x.wF,N=x.sa,J=x.WJ,K=x.KG,q=x.wm;
if(K==2){J*=2;V.push("paint-order:stroke fill markers")}if(b!=0)V.push("stroke-linecap:"+M+["butt","round","square"][b]);
if(N!=0)V.push("stroke-linejoin:"+M+["miter","round","bevel"][N]);else if(x.LN!=4)V.push("stroke-miterlimit:"+x.LN);
if(J!=1)V.push("stroke-width:"+M+A(J));if(q.length!=0)V.push("stroke-dasharray:"+M+q.join(","))}function W(x){return CSS.vh({o:x[0]*255,R:x[1]*255,X:x[2]*255})}function g(x,V,b,N,J){if(J==null)J=a.z.uU.Rect(b.x,b.y,b.A,b.$);
if(!(x instanceof Array))x=eq.PV(x,J);V.zN++;var K=x[0],q=(K==1?"radial":"linear")+"Gradient",d=F(2)+"<"+q+" id=\"g"+V.zN+"\"",l="";
if(N.r_){if(V.zN==1)V.MA.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");l=" href=\"#P\""}else l=" gradientUnits=\"userSpaceOnUse\"";
var T=eq.E1(x,J),B=[new j6(0,0),new j6(1,0)];l+=" gradientTransform=\""+L(T)+"\"";var p=N.r_?2:3;if(K==0)V.MA.push(d+" x2=\"1\""+l+">");
if(K==1){if(x[2][6]!=0){var I=x[2][5]*Math.PI/180,w=x[2][6];V.MA.push(d+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+A(Math.cos(I)*w,p)+"\" fy=\""+A(-Math.sin(I)*w,p)+"\""+l+">")}else V.MA.push(d+" cx=\"0\" cy=\"0\" r=\"1\""+l+">")}var e=x[1];
for(var R=0;R<e.length;R++){var G=e[R],j=G[0],o=G[1],r=G[2];r=r==1?"":" stop-opacity=\""+A(r,p)+"\"";
var k=j==0&&N.r_?"":" offset=\""+A(j,p)+"\"",a7=W(o);a7=N.r_&&a7=="#000000"?"":" stop-color=\""+U(a7)+"\"";
V.MA.push(F(3)+"<stop"+k+a7+r+"/>")}V.MA.push(F(2)+"</"+q+">")}k8.Lx=L;return y}();k8.uU=function(s,M,O,P,y){var F=[],A=k8.uU,h=!1,m={V5:s,fw:M,U8:[!0,!0,!0],h2:!1,BJ:O,anK:0};
m.RR=Math.round(Math.max(s,M)*(.02+A.vY(m)*.03));m.Bu=A.aFk(m);m.xT=A.acJ(m.Bu,(A.vY(m)<.5?-1:1)*(.2+A.vY(m)*.3));
if(A.vY(m)<.5){var Z=m.Bu;m.Bu=m.xT;m.xT=Z}m.atT=A.vY(m)<.4&&A.arC(m.xT,{o:1,R:1,X:1})>.3;m.axu=A.vY(m)<.5?0:1;
F.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+s+" "+M+"\" width=\""+s+"\" height=\""+M+"\">");
m.TK=P[Math.floor(A.V6(m)*P.length)];m.Px=P[Math.floor(A.V6(m)*P.length)];F.push("<style>");F.push("@font-face {  font-family: "+m.TK[2]+";  src: url("+dB.y$("rsrc/fonts/"+m.TK[5])+");  }");
F.push("@font-face {  font-family: "+m.Px[2]+";  src: url("+dB.y$("rsrc/fonts/"+m.Px[5])+");  }");F.push("</style>");
var u=[0,0,s,M],f=u;if(y==null)F.push("<path style=\"fill: "+A.Pk(m.Bu)+"\" d=\""+A.Rect(u[0],u[1],u[2]-u[0],u[3]-u[1])+"\" id=\"Background\" />");
else{m.h2=!0;A.aFf(m,u,F,y)}if(A.vY(m)<.25&&!m.h2){m.U8[0]=m.U8[2]=!1;A.aHm(u,m,F);f=u}else if(A.vY(m)<.25||m.h2)f=u;
else{var U=.52+A.vY(m)*.2;if(A.vY(m)<.5)U=1-U;var C=u.slice(0),H=u.slice(0);if(A.vY(m)<.5)C[2]=H[0]=Math.round(U*s);
else C[3]=H[1]=Math.round(U*M);if(A.vY(m)<.5){var Z=C;C=H;H=Z}f=C;A.a0a(m,H,F,y)}A.afZ(m,f,F);F.push("</svg>");
F=F.join("\n");var t=a.j(Math.round(F.length*1.5)),X=c.gS(F,t,0);return[t.buffer.slice(0,X),m.qJ]};k8.uU.aHm=function(s,M,O){var P=k8.uU,y=s[2]-s[0],F=s[3]-s[1];
if(P.vY(M)<.5){O.push("<path id=\"Border\" style=\"fill: "+P.Pk(M.xT)+"\" d=\""+P.anM(s[0],s[1],s[2]-s[0],s[3]-s[1],M.RR)+"\" />")}else{var A=P.vY(M)<.5?0:1,h=(A==0?F:y)/4,m=P.zz(M,A,s,O,h,!0),m=P.zz(M,A+2,s,O,h,!0,m)}};
k8.uU.afZ=function(s,M,O){var P=k8.uU,y="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),F=2*Math.floor(P.vY(s)*y.length/2),A=M[2]-M[0],h=M[3]-M[1],Z=0,f=0;
s.YF=(s.V5+A)*.5*(.04+P.vY(s)*.05);s.YF=Math.min(s.YF,h*.4,A*.12);s.YF=Math.round(s.YF);var m=Math.min(s.YF*y[F].length*(.35+.3*P.vY(s)),A*.9),u=(M[1]+M[3])/2,U=a.bz(s.Bu)<.85?{o:1,R:1,X:1}:{o:.1,R:.1,X:.1};
if(P.vY(s)<.25&&s.U8[0]){f=0;Z=M[0]+s.RR}else if(P.vY(s)<.33&&s.U8[2]){f=2;Z=M[2]-s.RR}else{f=1;Z=(M[0]+M[2])/2}var C=U.o==1?"0,0,0":"255,255,255",H=s.h2&&P.vY(s)<1;
if(H){var t=M[0],X=A,Q=u-s.YF*1.1,D=s.YF*2.2,L=.7;if(f==1&&P.vY(s)<.5){t=Q=.2*Math.min(A,h);X=A-2*Q;
D=h-Q-Q}else if(P.vY(s)<.7){t=Q=0;X=A;D=h;L=.25}O.push("<path id=\"Strip\" style=\"fill: rgb("+C+"); opacity: "+L+"\" d=\""+P.Rect(t,Q,X,D)+"\" />")}if(P.vY(s)<.4){var E=s.YF*.07;
E*=1.5+P.vY(s)*1;if(f==-1&&A/h<3&&!H){O.push("<path id=\"Bar-bottom\" style=\"fill: "+P.Pk(U)+"\" d=\""+P.Rect(Z-m/2,u+s.YF*1.1-E/2,m,E)+"\" />");
O.push("<path id=\"Bar-top\"    style=\"fill: "+P.Pk(U)+"\" d=\""+P.Rect(Z-m/2,u-s.YF*1.1-E/2,m,E)+"\" />")}if(f!=1){O.push("<path id=\"Bar\" style=\"fill: "+P.Pk(U)+"\" d=\""+P.Rect(Z-E/2,u-s.YF*.8,E,s.YF*.8*2)+"\" />");
Z+=(f==0?1:-1)*s.YF/3}}var _=s.YF*.4;O.push(P.aeK(y[F+1],Z,u+_*1.6,_,U,f,s.Px));O.push(P.aeK(y[F],Z,u+s.YF*.04,s.YF,U,f,s.TK))};
k8.uU.a0a=function(s,M,O,P){var y=M[2]-M[0],F=M[3]-M[1],A=Math.max(y,F),h=Math.min(y,F),m=k8.uU;if(A/h<5&&!s.h2&&!1){m.aFf(s,M,O,P)}else if(m.vY(s)<0)O.push("<path style=\"fill: "+m.Pk(s.xT)+"\" d=\""+m.Rect(M[0],M[1],y,F)+"\" />");
else{var Z=0;if(M[3]!=s.fw)Z=0;if(M[2]!=s.V5)Z=3;if(M[0]!=0)Z=1;if(M[1]!=0)Z=2;var u=Z+2&3;if(A/h<3){var f=m.azS(u),U=f[Math.round(m.vY(s)*(f.length-1))],C=U.TD.slice(0,4),H=C.indexOf(1);
U=a.G(U);var t=-1;if(C!="0000"){var X=new kp;if(U.TD[5]=="0"){if(H==3&&Z==1){t=1;X.scale(-1,1)}else t=H}else{var Q=u;
while(Q==u)Q=Math.floor(m.vY(s)*4)&3;X.rotate((-H+Q)*Math.PI/2)}m.M(U,X)}var D=m.hG(U),L=y-2*s.RR,E=F-2*s.RR;
if(t!=-1){if((t&1)==0)E-=s.RR;else L-=s.RR}var _=Math.min(L/D.A,E/D.$),S=new kp;S.translate(-D.x,-D.y);
S.scale(_,_);var W=(y-D.A*_)/2,g=(F-D.$*_)/2;if(t!=-1){if(t==3)W=0;if(t==0)g=0;if(t==1)W=y-D.A*_;if(t==2)g=F-D.$*_}S.translate(M[0]+W,M[1]+g);
m.gw(s,U,S,s.xT,O)}else{m.zz(s,Z,M,O,1e9)}}};k8.uU.aFf=function(s,M,O,P){var y=M[2]-M[0],F=M[3]-M[1],A=Math.max(y,F),h=Math.min(y,F),m=k8.uU,Z=m.V6(s),u,f,U,C=P[0]instanceof ArrayBuffer;
if(C){u="data:image/jpg;base64,"+cD.dS(P[0]);f=P[1];U=P[2]}else{var H=Math.floor(Z*P.length),t=P[H];
s.qJ=t;u=t.webformatURL;f=t.webformatWidth;U=t.webformatHeight}var X=M[0],Q=M[1],D=y,L=F;if(y/F>f/U){L=D*U/f;
Q=Q-(L-F)/2}else{D=L*f/U;X=X-(D-y)/2}if(C){O.push("<defs>");O.push("<image width=\""+f+"\" height=\""+U+"\" id=\"Background\" href=\""+u+"\" />");
O.push("</defs>");var E=D/f;O.push("<use href=\"#Background\" transform=\""+k8.Lx(new kp(E,0,0,E,X,Q))+"\" />")}else{var _="cp"+Math.random();
O.push("<clipPath id=\""+_+"\">");O.push("<path style=\"fill: "+m.Pk(s.xT)+"\" d=\""+m.Rect(M[0],M[1],y,F)+"\" />");
O.push("</clipPath>");O.push("<image  clip-path=\"url(#"+_+")\" xlink:href=\""+u+"\" x=\""+X+"\" y=\""+Q+"\" width=\""+D+"\" height=\""+L+"\" />")}};
k8.uU.aeK=function(s,M,O,P,y,F,A){var h=k8.uU;return"<text x=\""+M+"\" y=\""+O+"\" style=\"fill:"+h.Pk(y)+"; font-size:"+P+"px; text-anchor:"+["start","middle","end"][F]+"; font-family:"+A[2]+";\"><tspan>"+s+"</tspan></text>"};
k8.uU.gw=function(s,M,O,P,y){var F=k8.uU,A=[];for(var R=0;R<M.Dx.length;R++){A.push(P);if(s.atT){P=(R&1)==s.axu?{o:1,R:1,X:1}:A[0]}}y.push("<g id=\""+M.TD.split("-")[2]+":::\" style=\"transform: "+k8.Lx(O)+";\" >");
for(var R=0;R<M.Dx.length;R++){var h=M.Dx[R];P=A.pop();y.push("<path style=\"fill: "+(P?F.Pk(P):"#"+h[0])+"\" d=\""+Typr.U.pathToSVG({crds:h[1].L,cmds:h[1].J8})+"\" />")}y.push("</g>")};
k8.uU.a2G=function(){if(SHPS[0].TD)return;for(var R=0;R<SHPS.length;R++){var s=SHPS[R],M=s[1],O=[];for(var P=0;
P<M.length;P++){var y=M[P],F=Typr.U.SVGToPath(y[1]);O.push([y[0],{J8:F.cmds,L:F.crds}])}SHPS[R]={TD:s[0],Dx:O}}};
k8.uU.azS=function(s){var M=SHPS;k8.uU.a2G();var O=[];for(var R=0;R<M.length;R++){var P=M[R],y=P.TD.slice(0,4);
if(y=="0000"){O.push(P);continue}if(["1000","0100","0010","0001"].indexOf(y)==-1)continue;var F=y.indexOf("1");
if(P.TD[5]=="0"&&s==F&&F!=3)continue;O.push(P)}return O};k8.uU.zz=function(s,M,O,P,y,F,A){var h=SHPS,D,L;
k8.uU.a2G();var m=k8.uU,Z=[];for(var R=0;R<h.length;R++){var u=h[R],f=u.TD.slice(0,4);if(["1110","1101","1011","0111"].indexOf(f)==-1)continue;
var U=f.indexOf("0")+2&3;if(u.TD[5]=="0")if(F==!0||M!=U&&!(M==1&&U==3))continue;Z.push(u)}var C=A!=null?A:Math.floor(m.vY(s)*Z.length),u=Z[C],u=a.G(u),f=u.TD.slice(0,4),U=f.indexOf("0")+2&3;
if(U==3&&M==1)a.M(u,new kp(1,0,0,-1,0,1e3));var H=new kp;H.translate(-500,-500);H.rotate(-U*Math.PI/2);
H.translate(500,500);m.M(u,H);var t=O[3]-O[1],X=O[2]-O[0],Q=m.hG(u);if(Q.y<0){Q.$+=Q.y;Q.y=0}if(Q.y>0){Q.$+=Q.y;
Q.y=0}if((M&1)==0){L=t;D=X}else{D=t;L=X}var E=Math.min(Math.min(.5+.5*m.vY(s))*Math.min(X,t),y)/Q.$,_=Math.ceil(D/(1e3*E)),S=new kp,W=new kp;
W.scale(E,E);if(M==0||M==2){W.translate(-(X/2),-(t/2));W.rotate(-M*Math.PI/2);W.translate(X/2+O[0],t/2+O[1])}else{W.rotate(Math.PI/2);
W.scale(1,-1);W.translate(O[0],O[1]);if(M==1){W.scale(-1,1);W.translate(X,0)}}P.push("<g id=\"Border-"+["top","right","bottom","left"][M]+":::\">");
for(var R=0;R<_;R++){var g=S.v();g.concat(W);m.gw(s,u,g,s.xT,P);S.translate(1e3-2,0)}P.push("</g>");
return C};k8.uU.Rect=function(s,M,O,P){return Typr.U.pathToSVG({crds:[s,M,s+O,M,s+O,M+P,s,M+P],cmds:["M","L","L","L","Z"]})};
k8.uU.anM=function(s,M,O,P,y){var F=[s,M,s+O,M,s+O,M+P,s,M+P];s+=y;M+=y;O-=2*y;P-=2*y;F.push(s,M,s,M+P,s+O,M+P,s+O,M);
return Typr.U.pathToSVG({crds:F,cmds:"M L L L Z M L L L Z".split(" ")})};k8.uU.acJ=function(s,M){var O=a.GX(s.o,s.R,s.X);
O.$T=Math.max(.1,Math.min(.9,O.$T+M));return a.kr(O.fw,O.BP,O.$T)};k8.uU.aH0=function(s,M){var O=a.GX(s.o,s.R,s.X);
O.fw+=M;return a.kr(O.fw,O.BP,O.$T)};k8.uU.ahO=function(s){var M=a.GX(s.o,s.R,s.X);M.$T=1-M.$T;return a.kr(M.fw,M.BP,M.$T)};
k8.uU.arC=function(s,M){var O=s.o-M.o,P=s.R-M.R,y=s.X-M.X;return Math.sqrt(O*O+P*P+y*y)};k8.uU.aFk=function(s){var M=k8.uU;
return{o:M.vY(s),R:M.vY(s),X:M.vY(s)}};k8.uU.Pk=function(s){return CSS.vh({o:s.o*255,R:s.R*255,X:s.X*255})};
k8.uU.hG=function(s){var M=s.Dx,O=new gi;for(var R=0;R<M.length;R++)O=O.v8(a.b.hG(M[R][1].L));return O};
k8.uU.M=function(s,M){var O=s.Dx;for(var R=0;R<O.length;R++)a.b.M(O[R][1].L,M,O[R][1].L)};k8.uU.vY=function(s){s.anK++;
var M=s.anK&3;if(M==0)s.BJ=k8.uU.rm(s.BJ);var O=s.BJ>>>8*M&255;return O*(.99999999/255)};k8.uU.V6=function(s){var M=k8.uU.rm(s.BJ);
s.BJ=k8.uU.rm(M);return M*(1/4294967295)};k8.uU.rm=function(s){s=(s^61^s>>>16)>>>0;s=s+(s<<3)>>>0;s=(s^s>>>4)>>>0;
s=s*668265261>>>0;s=(s^s>>>15)>>>0;return s};var dE={};dE.parse=function(s){var M=new Uint8Array(s),O=null;
if(M[0]==80&&M[1]==75){var P=Date.now(),y=UZIP.parse(M.buffer),O=y["document.json"];O=JSON.parse(c.xJ(O,0,O.length));
dE.cp(O,y)}else{var F=c7.parse(s);O=dE.aBw(F[2][0][1])}return O};dE.cp=function(s,M){var O=typeof s;
if(O=="string"||O=="number"||O=="boolean"||s==null)return s;if(s instanceof Array){for(var R=0;R<s.length;
R++)s[R]=dE.cp(s[R],M);return s}var P=s._class;if(P==null)return s;if(P=="MSJSONFileReference"){var y=s._ref;
if(!1){}else if(M[y+".json"]!=null){var F=M[y+".json"],A=F.length;for(var R=0;R<A;R++)if(F[R]==11||F[R]==3)F[R]=32;
var h=c.xJ(F,0,A);s=JSON.parse(h)}else if(M[y+".png"]!=null)return{key:y.split("/").pop(),bdata:M[y+".png"]};
else if(M[y+".jpg"]!=null)return{key:y.split("/").pop(),bdata:M[y+".jpg"]};else if(M[y+".pdf"]!=null)return{key:y.split("/").pop(),bdata:M[y+".pdf"]};
else if(M[y]!=null)return{key:y.split("/").pop(),bdata:M[y]};else{console.log(s,M);return}}else if(P=="MSAttributedString"){var h=atob(s.archivedAttributedString._archive),m=h.length,Z=new Uint8Array(m);
for(var R=0;R<m;R++)Z[R]=h.charCodeAt(R);s.archivedAttributedString=dE.aBw(Z)}for(var u in s)s[u]=dE.cp(s[u],M);
return s};dE.aEW=function(s,M,O,P,y){if(s instanceof Uint8Array)return null;if(P.indexOf(s)!=-1)return null;
P.push(s);if(s==M)return O;for(var F in s){O.push(F);var A=dE.aEW(s[F],M,O,P,y);if(A){console.log(s,A);
throw"e"}O.pop()}};dE.aBw=function(s){var M=hY.parse(s,0),O=M.$objects,P=new Uint8Array(O.length),y=dE.DM(O,P,M.$top.root);
for(var R=0;R<O.length;R++)if(P[R]==0&&R!=0){console.log(R,O[R]);dE.aEW(y,R,[],[],typeof O[R])}for(var R=0;
R<O.length;R++){var F=O[R];if(F._class&&(F._class=="bitmap"||F._class=="fill"&&F.fillType==4&&(F.image||F.imageSHA))){var A=F.image,h=F.imageSHA,m=null,Z=null;
if(A=="$null")A=null;if(h=="$null")h=null;if(A&&A.data){Z=A.sha1["NS.bytes"];Z=btoa(c.Db(Z,0,Z.length));
m=A.data instanceof Uint8Array?A.data:A.data["NS.bytes"]}else if(A==null&&h==null){var u=b_.O7("PNG").u6([[a.j(4).buffer]],1,1);
m=new Uint8Array(u)}else{var f=(y.assets?y.assets.imageCollection:y.images).images;if(h)Z=h instanceof Uint8Array?h:h["NS.bytes"];
else Z=A.sha1["NS.bytes"];Z=btoa(c.Db(Z,0,Z.length));var m=f[Z].data;if(m["NS.bytes"])m=m["NS.bytes"]}m=new Uint8Array(m.buffer.slice(m.byteOffset,m.byteOffset+m.length));
delete F.imageSHA;F.image={key:Z,bdata:m}}}return y};dE.aeT=function(s){return s.slice(0,11)=="MSImmutable"?"MS"+s.slice(11):s};
dE.DM=function(s,M,O){var P=s[O];if(M[O]==1){return P}M[O]=1;if(typeof P=="string")return P;if(typeof P=="number")return P;
if(typeof P=="boolean")return P;if(P instanceof Array)return P;if(P instanceof Uint8Array){return P}if(s[P.$class]==null){if(P.$class==null&&P["NS.data"]!=null)return P;
console.log(O,P);throw"e"}var y=s[P.$class],F=dE.aeT(y.$classname);M[P.$class]=1;P.$class=F;if(dE.adG[F]){delete P.$class;
P._class=dE.adG[F]}var A=dE.DM;if(F=="NSMutableArray"||F=="NSArray"){var h=[];if(P["NS.objects"]!=null)for(var R=0;
R<P["NS.objects"].length;R++)h.push(A(s,M,P["NS.objects"][R]));else for(var R=0;P["NS.object."+R]!=null;
R++)h.push(A(s,M,P["NS.object."+R]));s[O]=h;return h}if(F=="NSDictionary"||F=="NSMutableDictionary"){var m={$class:F};
if(P["NS.keys"]!=null)for(var R=0;R<P["NS.keys"].length;R++){var Z=A(s,M,P["NS.keys"][R]);if(Z instanceof Uint8Array)Z=btoa(dE.Yo.Db(Z,0,Z.length));
else if(typeof Z!="string"&&typeof Z!="number")Z=btoa(dE.Yo.Db(Z["NS.bytes"],0,Z["NS.bytes"].length));
m[Z]=A(s,M,P["NS.objects"][R])}else for(var R=0;P["NS.key."+R]!=null;R++){var Z=A(s,M,P["NS.key."+R]);
if(Z instanceof Uint8Array)Z=btoa(dE.Yo.Db(Z,0,Z.length));else if(typeof Z!="string"&&typeof Z!="number")Z=btoa(dE.Yo.Db(Z["NS.bytes"],0,Z["NS.bytes"].length));
m[Z]=A(s,M,P["NS.object."+R])}for(var u in P)delete P[u];for(var u in m)P[u]=m[u];return P}if(F=="NSURL")return{$class:F,base:A(s,M,P["NS.base"]),relative:A(s,M,P["NS.relative"])};
if(dE.aos.indexOf(F)!=-1){s[O]=A(s,M,P.array_do);return s[O]}if(P.do_objectID!=null)P.do_objectID=A(s,M,P.do_objectID);
if(dE.akO.indexOf(F)!=-1)return P;var f=dE.aBg[F];if(f==null){console.log(s,P);throw"unknown class "+F}for(var R=0;
R<f.length;R++)if(P[f[R]]!=null)P[f[R]]=A(s,M,P[f[R]]);if(F=="MSTextLayer"){var U=P,C,H,t,X;if(U.attributedString)C=U.attributedString.archivedAttributedString;
else C=U.storage;X=C.NSString;if(typeof X!="string")X=c.xJ(X["NS.bytes"],0,X["NS.bytes"].length);if(C.NSAttributeInfo)H=C.NSAttributeInfo["NS.bytes"];
else{var Q=X.length,D=[];while(Q>0){var L=Math.min(100,Q);D.push(L,0);Q-=L}H=new Uint8Array(D)}t=C.NSAttributes instanceof Array?C.NSAttributes:[C.NSAttributes];
var E={$class:"NSAttributedString",NSString:X,NSAttributes:t};U.attributedString={_class:"MSAttributedString",archivedAttributedString:E};
E.NSAttributeInfo={$class:"NSMutableData","NS.data":H};delete U.storage}return P};dE.Yo={m4:function(s,M){return s[M+1]<<8|s[M]},h4:function(s,M){return s[M+3]<<24|s[M+2]<<16|s[M+1]<<8|s[M]},Db:function(s,M,O){var P="";
for(var R=0;R<O;R++)P+=String.fromCharCode(s[M+R]);return P}};dE.adG={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
dE.aos=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
dE.akO="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
dE.aBg={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var hY={};hY.parse=function(s,M){var O=c.Db(s,M,8);M+=8;var P=s.length-32,y=hY.parse.a74(s,P),F=[];if(y.aq==1){var M=P-y.aq*y.tI;
for(var R=0;R<y.tI;R++)F.push(s[M+R])}else if(y.aq==2){var M=P-y.aq*y.tI;for(var R=0;R<y.tI;R++)F.push(c.m4(s,M+R*2))}else if(y.aq==4){var M=P-y.aq*y.tI;
for(var R=0;R<y.tI;R++)F.push(c.h4(s,M+R*4))}else{throw"e"}var A=hY.parse.DM(s,F,y.root,y);return A};
hY.parse.DM=function(s,M,O,P){var y=hY.Yo,F=P.aCC,A=F==4?y.h4:F==2?y.m4:y.auh,h=hY.parse,m=M[O],Z=s[m],u=Z>>4,f=Z&15,C=null;
m+=1;if([4,5,6,10,12,13].indexOf(u)!=-1&&f==15){var U=h.VU(s,m);m+=U.fj;f=U.K}if(!1){}else if(u==0)C=f==8?!1:f==9?!0:null;
else if(u==1)C=h.VU(s,m-1).K;else if(u==2)C=1<<f==4?c.C6(s,m):c.tV(s,m);else if(u==3)C=c.tV(s,m);else if(u==4)C=new Uint8Array(s.buffer,m,f);
else if(u==5)C=c.Db(s,m,f);else if(u==6)C=c.QY(s,m,f);else if(u==8){C=0;for(var R=0;R<f+1;R++)C=C<<8|s[m+R]}else if(u==10){C=[];
for(var R=0;R<f;R++)C.push(h.DM(s,M,A(s,m+F*R),P))}else if(u==12){C=[];for(var R=0;R<f;R++)C.push(h.DM(s,M,A(s,m+F*R),P))}else if(u==13){C={};
for(var R=0;R<f;R++){var H=h.DM(s,M,A(s,m+F*R),P),t=h.DM(s,M,A(s,m+F*(f+R)),P);C[H]=t}}else throw"unknown mask "+u;
return C};hY.parse.VU=function(s,M){var O=1<<(s[M]&15),P=0;for(var R=0;R<O;R++)P=P<<8|s[M+1+R];return{K:P,fj:O+1}};
hY.parse.a74=function(s,M){var O={};M+=6;O.aq=s[M];M++;O.aCC=s[M];M++;M+=4;O.tI=c.h4(s,M);M+=4;M+=4;
O.root=c.h4(s,M);M+=4;M+=4;O.adA=c.h4(s,M);M+=4;return O};hY.Yo={auh:function(s,M){return s[M]},m4:function(s,M){return s[M]<<8|s[M+1]},h4:function(s,M){return s[M]<<24|s[M+1]<<16|s[M+2]<<8|s[M+3]},Db:function(s,M,O){var P="";
for(var R=0;R<O;R++)P+=String.fromCharCode(s[M+R]);return P}};var c7={parse:function(s){var M=new Uint8Array(s),O=c7.nF(M),P=[],y=new Uint8Array(M.length),F=[];
P.push(F);c7.ZA(M,O,1,y,F);for(var R=0;R<F.length;R++){var A=[];P.push(A);c7.ZA(M,O,F[R][3],y,A,R==11);
F[R][3]=R+1}return P},ZA:function(s,M,O,P,y,F){O--;var A=O*M.u1+(O==0?100:0),h=s[A],m=c7.m4(s,A+1),Z=c7.m4(s,A+3),u=c7.m4(s,A+5),U=0;
if(u==0)u=65536;var f=s[A+7];A+=8;if(h==2||h==5){U=c7.h4(s,A);A+=4}for(var C=0;C<Z;C++){var H=O*M.u1+c7.m4(s,A+2*C),t=-1,X=0,Q=0,D=0;
if(h==2||h==5){t=c7.h4(s,H);H+=4}if(h==2||h==10||h==13){X=c7.t9(s,H);H+=X.fj}if(h==5||h==13){Q=c7.t9(s,H);
H+=Q.fj}if(h==2||h==5){c7.ZA(s,M,t,P,y,F);continue}var L=M.u1-(O==0?100:0),E=X.rM,_=h==13?L-35:Math.floor((L-12)*64/255)-23,S=Math.floor((L-12)*32/255)-23,W=S+(E-S)%(L-4);
if(E<=_){c7.jO(s,H,P,0,E)}else{var g=W<=_?W:S,x=0;c7.jO(s,H,P,0,g);x+=g;D=c7.h4(s,H+g);while(D!=0){var V=(D-1)*M.u1;
D=c7.h4(s,V);var b=Math.min(M.u1-4,E-x);c7.jO(s,V+4,P,x,b);x+=b}}y.push(c7.a5V(P,E))}if(U!=0)c7.ZA(s,M,U,P,y,F)},a5V:function(s,M){var O=0,P=c7.t9(s,O);
O+=P.fj;var y=[],F=[];while(O<P.rM){var A=c7.t9(s,O);O+=A.fj;y.push(A.rM)}if(O!=P.rM)throw"e";for(var R=0;
R<y.length;R++){var A=y[R];if(!1){}else if(A==0)F.push(null);else if(A==1){F.push(c7.ape(s,O));O+=1}else if(A==2){F.push(c7.VQ(s,O));
O+=2}else if(A==3){F.push(c7.aek(s,O));O+=3}else if(A==4){F.push(c7.VU(s,O));O+=4}else if(A==5){F.push(c7.h4(s,O+2));
O+=6}else if(A==6){F.push(c7.h4(s,O)+":"+c7.h4(s,O+4));O+=8}else if(A==7){F.push(c7.aJX(s,O));O+=8}else if(A==8)F.push(0);
else if(A==9)F.push(1);else if(A>=12&&(A&1)==0){var h=A-12>>1,m=new Uint8Array(h);c7.jO(s,O,m,0,h);F.push(m);
O+=h}else if(A>=13&&(A&1)==1){var h=A-13>>1;F.push(c7.xJ(s,O,h));O+=h}else throw"unknonw type "+A}return F},nF:function(s){if(!(s[18]==1&&s[19]==1&&s[20]==0&&s[21]==64&&s[22]==32&&s[23]==32))throw"unexpected SQL3 header";
var M={BE:c7.Db(s,0,15),u1:c7.m4(s,16),avv:c7.h4(s,24),size:c7.h4(s,28),aIL:c7.h4(s,32),adn:c7.h4(s,36),aD_:c7.h4(s,40),aHu:c7.h4(s,44),aw$:c7.h4(s,48),azb:c7.h4(s,52),aIp:c7.h4(s,56),auC:c7.h4(s,60),al3:c7.h4(s,64)!=0,aaV:c7.h4(s,68),a6$:c7.h4(s,92),abN:c7.h4(s,96)};
if(M.u1==1)M.u1=65536;if(M.aIp!=1)throw"unsupported text encoding "+M.aIp;return M},am7:function(s,M){return s[M]<<16|s[M+1]<<8|s[M+2]},aek:function(s,M){var O=c7.am7(s,M),P=O&8388608;
return P?-(16777215-O+1):O},ape:function(s,M){c7.It[0]=s[M];return c7.asj[0]},VU:function(s,M){var O=c7.It;
for(var R=0;R<4;R++)O[R]=s[M+3-R];return c7.ac3[0]},VQ:function(s,M){var O=c7.It;O[0]=s[M+1];O[1]=s[M];
return c7.at7[0]},m4:function(s,M){return s[M]<<8|s[M+1]},h4:function(s,M){var O=c7.It;for(var R=0;R<4;
R++)O[R]=s[M+3-R];return c7.amK[0]},aJX:function(s,M){var O=c7.It;for(var R=0;R<8;R++)O[R]=s[M+7-R];
return c7.ahq[0]},t9:function(s,M){var O=M,hS=0;while(!0){var P=s[M];M++;hS=hS*128+(P&127);if(P<128)break}return{rM:hS,fj:M-O}},Db:function(s,M,O){var P="";
for(var R=0;R<O;R++)P+=String.fromCharCode(s[M+R]);return P},xJ:function(s,M,O){var P="";for(var R=0;
R<O;R++)P+="%"+c7.abv(s[M+R].toString(16));try{P=decodeURIComponent(P);return P}catch(hj){return P}},jO:function(s,M,O,P,y){if(y!=0&&(s[M+y-1]==null||O[P+y-1]==null)){console.log(M,P,y);
throw"e"}for(var R=0;R<y;R++)O[P+R]=s[M+R]},abv:function(hS){return hS.length<2?"0"+hS:hS}};c7.It=new Uint8Array(8);
c7.asj=new Int8Array(c7.It.buffer);c7.at7=new Int16Array(c7.It.buffer);c7.ac3=new Int32Array(c7.It.buffer);
c7.amK=new Uint32Array(c7.It.buffer);c7.ahq=new Float64Array(c7.It.buffer);c7.a0g=function(s,M){var O=s[0],P={};
for(var R=0;R<O.length;R++){var y=O[R],F=y[1];if(y[0]!="table")continue;var A=y[4];A=A.slice(A.indexOf("(")+1,A.indexOf(")"));
A=A.split(",");for(var h=0;h<A.length;h++){var m=A[h].trim().split(" ")[0];if(M&&m.startsWith(F))m=m.slice(F.length);
A[h]=m}var Z=P[F]=[],u=s[y[3]];for(var h=0;h<u.length;h++){var f=u[h],U={};Z.push(U);for(var C=0;C<A.length;
C++){if(U[A[C]]!=null)throw"e";U[A[C]]=f[C]}}}return P};function ft(s,M,O){this.Uc=s;this.pV=M;this.aqz=O;
this.XI=new j6(0,0);this.rx=-1;this.OU=0;this.Gr=0;this.IL=new gi;this.ny=[];this.oF=null;this.ayb=null;
this.Y6=null;this.nU=null;this.ln=null;this.aqh=null}ft.prototype.StartPage=function(s,M,O,P,y){var F=this.pV,A=F.dI(),h=1,m=(O-s)*(P-M);
if(y!=null)m=y;while(m*A*A/(h*h)>2*8192*8192)h++;F.scale(1/h,1/h);this.ayb=[s,M,O,P];var h=F.dI();s=Math.round(s*h);
M=Math.round(M*h);O=Math.round(O*h);P=Math.round(P*h);var Z=this.Uc,u=this.Y6;if(u==null){F.cj=-s}else{var f=u[2]-u[0]+30,U=Math.round(O-s)+30;
if(this.XI.x+f+U>8192){F.cj=-s;this.XI.x=0;this.XI.y+=this.Gr+120;this.Gr=0}else{F.cj+=f;this.XI.x+=f}}F.H3=this.XI.y+(this.aqz?P:-M);
this.Gr=Math.max(this.Gr,Math.round(P-M));this.Y6=[s,M,O,P];this.a9j=[];Z.U.push(Z.kA())};ft.prototype.StartTGroup=function(s){this.C9();
var M=this.Uc;M.U.push(M.kA());var O=ft.g7[s.bmode];if(O==null)O="norm";var P=M.Tk();P.jj("<Group>");
P.add.lsct=dU.l9;P.mX=O=="norm"?"pass":O;P.Xa=24;P.N_=Math.round(255*s.ca);this.a9j.push(P)};ft.prototype.EndTGroup=function(){this.Uc.U.push(this.a9j.pop())};
ft.prototype.aut=function(){var s=this.Uc,M=s.U[s.U.length-1];return M};ft.prototype.aiz=function(){var s=this.Uc,M=s.Tk();
M.jj("Path "+s.U.length);this.Uc.U.push(M);M.Xa|=16;M.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:0,R:0,X:0})}};
M.add.vmsk=new ad.Vp;M.add.vstk=aV.To.Jb();return M};ft.prototype.Wa=function(s,M){var O={L:s.crds,J8:s.cmds},P=a.b.Ie(O,!1);
a.z.avF(P,M);a.z.R7(P,this.pV);return P};ft.aCa=function(s,M){for(var R=0;R<s.length;R++)if(s[R].VF!=null)s[R].VF=M};
ft.IZ=function(s){return a.wv.gN({o:s[0]*255,R:s[1]*255,X:s[2]*255})};ft.a0=function(s){return new kp(s[0],s[1],s[2],s[3],s[4],s[5])};
ft.prototype.Stroke=function(s){if(this.rx!=-1&&this.rx!=this.OU)return;if(s.pth.cmds.length<=1)return;
var M=this.Wa(s.pth,!0),A=null;if(M.length<=2)return;this.c1(s);ft.aCa(M,-1);M[2].VF=1;var O=this.aut(),P=aV.To.Jb(null,!0),y=s.ctm,F={};
ft.acc(F,s);aV.To.write(P,F,Math.sqrt(Math.abs(y[0]*y[3]-y[1]*y[2]))*this.pV.dI());if(!(s.COLR instanceof Array)){A=a.b.hG(s.pth.crds);
var h=a.b.hC(A);a.b.M(h.L,this.pV,h.L);A=a.b.hG(h.L)}var m=ft.m0(s.COLR,this.pV,M),Z=["SoFi","GrFl","patternFill"].indexOf(m.I),u=[aV.IA,aV.Pd,aV.O5][Z],f=P.strokeStyleContent.v={classID:aV.To.hF[Z]};
for(var R=0;R<u.length;R++)f[u[R]]=m.K.v[u[R]];var U=O!=null&&O.add.vmsk!=null&&!O.ES(),C=U&&!O.add.vstk.fillEnabled.v&&JSON.stringify(P)==O.add.vsjs;
if(C){var H=O.add.vmsk.u;for(var R=2;R<M.length;R++)H.push(M[R])}else{var t=U&&!O.add.vstk.strokeEnabled.v&&ad.Vp.aGF(O.add.vmsk.u,M,!0);
if(t){O.add.vstk=P;P.fillEnabled.v=!0}else{O=this.aiz();O.add.vmsk.u=M;O.add.vstk=P;O.add.vsjs=JSON.stringify(P)}}};
ft.acc=function(s,M){s.WJ=M.lwidth;s.LN=M.mlimit;s.wm=M.dash.slice(0);s.hH=M.doff;s.sa=M.ljoin;s.wF=M.lcap;
s.KG=1};ft.U$=function(s,M){M.lwidth=s.WJ*(s.KG==2?2:1);M.mlimit=s.LN;M.doff=s.hH;M.ljoin=s.sa;M.lcap=s.wF;
M.sal=s.KG;M.dash=s.wm.slice(0);if(M.dash.length==1&&M.dash[0]==0)M.dash=[]};ft.prototype.Fill=function(s,M){if(this.rx!=-1&&this.rx!=this.OU)return;
if(s.ca==0)return;var O=s.pth.cmds;if(O.length==0)return;if(O.length==2&&JSON.stringify(O)=="[\"M\",\"L\"]")return;
var P=a.b.hG(s.pth.crds),y=a.b.hG(s.cpth.crds);if(P.OK(y).g3())return;var F=s.pth,A=UDOC.G.isBox(F,[P.x,P.y,P.x+P.A,P.y+P.$]),h=s.cpth,m=UDOC.G.isBox(h,[y.x,y.y,y.x+y.A,y.y+y.$]);
if(A&&m&&P.C()>y.C()*2){var Z=P.OK(y),u=Z.x,f=Z.y,U=u+Z.A,C=f+Z.$;F={cmds:["M","L","L","L","Z"],crds:[u,f,U,f,U,C,u,C]};
P=Z}else if(this.nU==null&&UDOC.G.isBox(F,[P.x,P.y,P.x+P.A,P.y+P.$])&&P.fl(y)){F=h;P=y}else this.c1(s);
var H=this.Wa(F,M),t=ft.m0(s.colr,this.pV,H),X=this.aut(),Q=X!=null&&X.N_==Math.round(255*s.ca)&&X.add.vstk!=null&&!X.add.vstk.strokeEnabled.v&&X.add.SoCo&&t.I=="SoFi"&&JSON.stringify(X.add.SoCo.Clr.v)==JSON.stringify(t.K.v.Clr.v);
if(Q){var D=!1;for(var R=0;R<H.length;R++){if(H[R].VF==0||H[R].VF==2)D=!0}if(D){var L=a.b.hG(a.z.eJ(X.add.vmsk.u)),E=a.b.hG(a.z.eJ(H));
Q=L.OK(E).g3()}}if(Q){var _=X.add.vmsk.u;for(var R=2;R<H.length;R++)_.push(H[R])}else{X=this.aiz();delete X.add.SoCo;
X.add.vmsk.u=ad.Vp.X4(H);ft.tN(s.colr,X,this.pV,H);ft.aue(s,X)}};ft.tN=function(s,M,O,P){var y=ft.m0(s,O,P),F=null,A=null;
M.add.vstk.fillEnabled.v=!0;if(y.I=="SoFi"){F="SoCo";A=aV.IA}if(y.I=="GrFl"){F="GdFl";A=aV.Pd}if(y.I=="patternFill"){F="PtFl";
A=aV.O5}if(F!=null){M.add[F]={classID:"null"};for(var R=0;R<A.length;R++){var h=A[R];M.add[F][h]=y.K.v[h]}if(F=="GdFl")M.add._fstl=y.Tq}};
ft.prototype.c1=function(s){var M=this.Uc,O=s.cpth,P=O.cmds.join(""),y=O.crds,F=P+" "+y.join(","),A=UDOC.G.isBox(O,this.ayb);
if(A&&this.nU==null)return;if(F==this.nU)return;this.C9();if(!A){this.nU=F;M.U.push(M.kA());var h=M.Tk();
h.jj("Mask");h.add.lsct=dU.aY;h.mX="pass";h.Xa=24;var m=h.add.vmsk=new ad.Vp;m.u=this.Wa(s.cpth,!0);
if(UDOC.G.isBox(O)){this.ln=a.z._E(m.u);this.ln.rX(3,3)}else this.ln=null;this.aqh=h}};ft.prototype.C9=function(){var s=this.Uc;
if(this.nU!=null){var M=s.U.length-1,R=M,O=!1;while(R>=0&&s.U[R].add.lsct!=dU.Bs)R--;var P=this.ln;if(P){var y=new gi,F=M;
while(F>R){y=s.U[F].Gt(this.Uc,!1,!0);F--}O=P.fl(y)}if(O){this.ny.splice(R,1);s.U.splice(R,1)}else{s.U.push(this.aqh)}this.nU=null}};
ft.m0=function(s,M,O){var P,y,F;if(s.length!=null){P="SoFi";var A=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);
y={t:"Objc",v:A};y.v.Clr.v=ft.IZ(s)}else{var h=ft.a3F(s,M,O);P="GrFl";y={t:"Objc",v:eq.R_(h,O)};F=h}return{I:P,K:y,Tq:F}};
ft.a3F=function(s,M,O){var P=ft.a0(s.mat);P.concat(M);var y=new j6(0,0),F=new j6(0,0),A=new j6,h=s.crds,m=s.typ=="rad"?1:0;
if(m==1){var Z=.7;A.x=h[0];A.y=h[1];y.x=h[3];y.y=h[4];F.x=y.x;F.y=y.y;F.x+=h[5]}else{y.x=h[0];y.y=h[1];
F.x=h[2];F.y=h[3];A.ee(y.x,y.y)}P=eq.qt(y,F,P);var u=eq.Yh(m,P,O);eq.wc(u,y,F,A);u[1]=a.G(s.grad);return u};
ft.prototype.PutText=function(s,M,O,P){var y=M.charCodeAt(0),C=null;if(this.rx!=-1&&this.rx!=this.OU)return;
if(M.length==0||M.length==1&&(y==0||y==8203))return;this.c1(s);var F=this.Uc,A=s.font,h=Math.round(255*s.ca);
if(s.font.Tmode==3)h=0;var m=ft.a0(s.ctm);m.concat(this.pV);var Z=ft.a0(A.Tm);Z.concat(m);var u=Z.dI(),f=new kp(1/u,0,0,-1/u,0,0);
f.concat(Z);var U=A.Tfs*u,H=F.U.length-1;while(H>=0&&F.U[H].add.TySh==null)H--;if(f.X*f.X+f.xN*f.xN<.001&&P==null&&H>=0&&F.U[H].add.TySh&&F.U[H].N_==h){var t=F.U[H],X=this.ny[H],Q=t.add.TySh.M,D=(f.cj-X.aKm)/U,L=Math.abs(D),E=Q.cd==f.cd&&Q.X==f.X&&Q.xN==f.xN&&Q.zv==f.zv,_=f.H3-X.n3,S=E&&Math.abs(_)<1e-5&&L<1;
if(S){C=t;if(D>.2&&[".",",","?",":","!"].indexOf(M)==-1){M=" "+M;O+=.5}}else if(E&&0<_&&_<U*1.7&&X.ao$==U){C=t;
this.al6(X);X.n3=f.H3;X.aLk=f.cj;M="\n"+M}}if(C==null){H=F.U.length;this.ny[H]={I3:[],Oj:0,aKm:f.cj,n3:f.H3,aLk:f.cj,RC:"",ao$:U};
C=F.Tk();F.U.push(C);C.add.lnsr="rend";C.add.TySh=iP.cN(0,0);C.add.TySh.M=f}var X=this.ny[H];X.Oj+=O*U;
X.RC+=M;X.aKm=f.cj+O*U;var W=C.add.TySh.nA,g=iP.Rx(W);if(P){iP.hV(W,1);var x=[0,0,Math.ceil(P[0]*u),Math.ceil(P[1]*u)];
iP.w9(W,x)}var V=g.length-1,b=V+M.length;iP.Xq(W,V,M);if(this.oF==null)this.oF=iP.ty(W,V,V);var N=this.oF;
N.TY.FontSize=Math.round(U);N.TY.Tracking=Math.round(A.Tc*100);N.TY.Underline=A.Tun==1;N.TY.FillColor={Type:1,Values:[1,s.colr[0],s.colr[1],s.colr[2]]};
if(A.Tal!=null)N.Gy.Justification=A.Tal;if(X.I3.length!=0){N.TY.AutoLeading=!1;N.TY.Leading=X.n3-X.I3[X.I3.length-1].y}var J=A.Tf;
J=J.replace(/#2B/g,"+");J=J.replace(/#2C/g,"-");J=J.replace(/#2D/g,"-");J=J.split("+").pop();var K={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(K[J])J=K[J];iP.Z2(N,J);iP.UP(W,V,b-1,N);C.IT();C.N_=h};ft.prototype.al6=function(s){s.I3.push({V5:s.Oj,t:s.RC.slice(s.I3.length==0?0:1)+"\n",x:s.aLk,y:s.n3,BP:s.ao$});
s.Oj=0;s.RC=""};ft.prototype.w3=function(s,M,O){var P=b_.O7("PNG"),y=dc==1?P.S3(s.buffer,M,O,8):P.u6([[s.buffer,0]],M,O);
return new Uint8Array(y)};ft.prototype.PutImage=function(s,M,O,P,y,F,A){if(this.rx!=-1&&this.rx!=this.OU)return;
var h=this.Uc,m=s.font.Tmode;if(m==7&&h.U[h.U.length-1].add.TySh){return}this.c1(s);var Z=ft.a0(s.ctm);
Z.concat(this.pV);var u=new kp(1/O,0,0,-1/P,0,1);u.concat(Z);Z=u;M=ft.aFo(M,O,P,F,!1);if(y)y=ft.aFo(y,O,P,A,!0);
if(y==null){if(M.length==O*P*4)M=this.w3(M,O,P)}else{M=this.a8L(M,O,P,F,!1);y=this.a8L(y,O,P,A,!0);var f=a.j(O*P);
a.YT(y,f,0);a.GS(f,M,3);M=this.w3(M,O,P)}var U=h.N4(M,"Bitmap",0,0),C=new gi(0,0,O,P),H=a.b.hC(C).L;
a.b.M(H,Z,H);U.add.SoLd.Trnf=$.TR.kZ(H);U.add.SoLd.nonAffineTransform=$.TR.kZ(H);U.VN(h,!1);ft.aue(s,U);
h.U.push(U)};ft.aue=function(s,M){M.N_=Math.round(255*s.ca);var O=ft.g7[s.bmode];if(O==null)console.log("Unknown blend mode",O);
else M.mX=O};ft.g7={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
ft.agY=function(s){if(s=="pass")s="norm";for(var M in ft.g7)if(ft.g7[M]==s)return M;return"/Normal"};
ft.aFo=function(s,M,O,P,y){var F=b_.WG(s.buffer);if(F=="jpg"){try{s=new Uint8Array(b_.O7("JPG").aGt(s.buffer))}catch(hj){s=new Uint8Array(M*O*4)}}else if(F=="jb2"){s=new Uint8Array(b_.O7("JPG").AR(s.buffer,P,y)[0].data)}else if(s.length!=M*O*4){var A=new Uint8Array(M*O*4),h=Math.ceil(M/8),m=new Uint8Array(O*h);
UTIF.decode._decodeG4(s,0,s.length,m,0,M,1);var Z=m[0]==(y?255:0);for(var u=0;u<O;u++){var f=h*u;for(var U=0;
U<M;U++){var R=u*M+U,C=R*4,H=(m[f+(U>>3)]>>7-(U&7)&1)*255;if(Z)H=255-H;A[C]=H;A[C+1]=H;A[C+2]=H;A[C+3]=255}}s=A}return s};
ft.prototype.a8L=function(s,M,O,P,y){if(s.length!=M*O*4){var F=b_.WG(s.buffer);if(F=="jb2")throw"e";
var A=b_.O7(F);if(A==null||F=="tga")A=b_.O7("jpg");s=new Uint8Array(A.AR(s,P,y)[0].data)}return s};ft.prototype.ShowPage=function(){var s=this.Uc;
this.OU++;var M=this.Y6;this.C9();var O=s.Tk();s.U.push(O);var P=new gi(Math.round(this.XI.x),Math.round(this.XI.y),Math.round(M[2]-M[0]),Math.round(M[3]-M[1]));
if(P.g3())P.A=P.$=2e3;this.IL=this.IL.v8(P);O.Y3(P);O.add.artb.artboardBackgroundType.v=1;O.jj("Page "+this.OU);
O.add.lsct=dU.aY;O.mX="pass";O.Xa=24};ft.prototype.Print=function(s){console.log("Print:",s)};ft.prototype.Done=function(){var s=this.Uc;
if(this.OU==1)s.U[s.U.length-1].add.lsct=dU.l9;s.Fh(this.OU);for(var R=0;R<s.U.length;R++){var M=s.U[R],O=M.add.vmsk,P=M.add.TySh,y=this.ny[R];
M.$k();delete M.add.vsjs;if(O){var F=!1;for(var A=0;A<O.u.length;A++){var h=O.u[A];if((h.I==0||h.I==3)&&h.length>32767)F=!0}if(F){s.U.splice(R,1);
R--;continue}}M.uH(s);if(P&&y&&y.I3.length!=0){this.al6(y);var m=P.nA,Z=y.I3.length,u=y.I3[0],f=1e9,U=-1e9,S="";
for(var A=0;A<Z;A++){var C=y.I3[A];f=Math.min(f,C.x);U=Math.max(U,C.x+C.V5)}var H=[];for(var A=0;A<Z;
A++){var C=y.I3[A],t=-1,X=u.BP*.1,Q=Math.abs(C.x-f),D=Math.abs(C.x+C.V5-U),L=Math.abs(Q-D);if(L<X)t=2;
if(D<X){t=1;if(C.x!=f)if(A!=0&&y.I3[A-1].x==C.x||A!=Z-1&&y.I3[A+1].x==C.x)t=-1}if(Q<X)t=0;if(C.V5==U-f)t=3;
H.push(t)}var E=[!1,!1,!1];for(var A=0;A<Z;A++){var t=H[A];if(t==3)t=A==0?H[A+1]:H[A-1];if(t==3)t=0;
H[A]=t;E[t]=!0}var _=(U-f)*.05;if(E[0]&&!E[1])U+=_;if(!E[0]&&E[1])f-=_;if(!E[0]&&!E[1]){f-=_;U+=2*_}iP.hV(m,1);
P.M.H3-=u.BP*.7;P.M.cj=Math.round(f);iP.w9(m,[0,0,Math.ceil(U-f),Math.ceil(y.I3[Z-1].y-u.y+u.BP*2)]);
for(var A=0;A<Z;A++){var C=y.I3[A],t=H[A],W=0;if(t==-1){t=0;W=Math.round(C.x-f)}var g=S.length,x=g+C.t.length;
S+=C.t;var V={U2:[],TY:{},Gy:{Justification:t,StartIndent:W}};iP.UP(P.nA,g,x-1,V)}}if(P){var m=P.nA;
iP.atR(m);var b=iP.Rx(m).split("\n");for(var A=0;A<b.length-1;A++){var C=b[A],N=0;for(var J=0;J<C.length;
J++){var K=C.charCodeAt(J);if(1473<=K&&K<=1524)N++}if(N>C.length/2){b[A]=C.split("").reverse().join("");
var q=m.EngineDict.ParagraphRun.RunArray[A].ParagraphSheet.Properties;q._Direction=1;q.Justification=iP.zB(q)}}iP.aj(m,b.join("\n"))}}s.Jf=!0;
s.A=this.IL.A;s.$=this.IL.$;s.buffer=a.j(this.IL.C()*4)};var km={};km.lX=null;km.mK=function(s,M,O,P,y,F){var A=dc==0?new gi(0,0,s.A,s.$):s.Q9();
if(y==null)y=A.A;if(F==null)F=A.$;km.lX=s;var h=[[s.root,A,null]];if(dc==0&&s.add.artd){var m=s.root.children,Z=[],u=!0;
for(var R=0;R<m.length;R++){var f=m[R].w,U=f.add.artb,C=null;if(U==null){u=!1;break}var H=U.artboardBackgroundType.v;
if(H!=1&&H!=3)C=f.PG();Z.push([m[R],f.Kj(),C])}if(u)h=Z}if(dc==1){var t=s.add.arts;h=[];for(var R=0;
R<t.length;R++)h.push([s.root,a.b.q7(t[R].rC),null])}var X=M.pags;X=X.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
X=X.split(" ");var Q=[];for(var R=0;R<X.length;R++){var D=X[R];if(D=="-"){var L=Q.pop(),E=parseInt(X[R+1]);
while(L<E){Q.push(L);L++}}else Q.push(parseInt(D))}X=Q;for(var R=0;R<X.length;R++)if(isNaN(X[R])||X[R]<1||X[R]>h.length){X.splice(R,1);
R--}var _=y/A.A,S=F/A.$,W=_*72/s.FR,g=S*72/s.FR,x=M.mrgn;if(x==null)x=0;var V=72*x,b=72*x;for(var N=0;
N<h.length;N++){var R=N;if(M.rvrs)R=h.length-1-N;if(X.length!=0&&X.indexOf(R+1)==-1)continue;var J=h[R][0],K=h[R][1];
if(!J.w.CD())continue;var q=Math.round(K.A*W+2*V),d=Math.round(K.$*g+2*b);O.StartPage(0,0,q,d);var l=UDOC.getState(),T=new kp;
T.translate(-K.x,-K.y-K.$);T.scale(W,-g);T.translate(V,b);if(h[R][2]){var B=h[R][2],p=V*W,I=b*g,w=p+K.A*W,e=I+K.$*g;
l.colr=[(B>>>0&255)/255,(B>>>8&255)/255,(B>>>16&255)/255];l.pth={cmds:["M","L","L","L","Z"],crds:[p,I,w,I,w,e,p,e]};
O.Fill(l)}if(dc==0&&M.rall){var G=a.j(K.C()*4);a.FP(a.Gp(s.Ta(),8),A,G,K);var j=s.En();if(j)ICC.U.applyLUT(j[s.add.fcmy==1?5:3],j[2],G,G);
var o=b_.O7("JPG").u6([[G.buffer]],K.A,K.$,{qual:M.qual});G=new Uint8Array(o);var r=new kp;r.translate(K.x,K.y);
km.yX(l,O,G,K,r,T)}else{km.hE(s,J,l,O,T,K,M,P);if(V!=0){var p=V,I=b,w=p+K.A*72/s.FR,e=I+K.$*72/s.FR,k=w+V,a7=e+V;
l.ca=1;l.colr=[1,1,1];l.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,a7,k,a7,k,0,p,I,w,I,w,e,p,e]};
O.Fill(l)}}if(M.cmrk){var Y=[[0,0],[1,0],[1,1],[0,1]],v=50,n=5,cm=v*.5,a5=n*.5,gP=K.A*72/s.FR,cg=K.$*72/s.FR;
l.colr=[.1,.1,.1];for(var a9 in Y){var ew=Y[a9],h7=[a9==0||a9==3?-1:1,a9==0||a9==1?-1:1],bh=[V-cm+a5*h7[0]+ew[0]*gP,b-(h7[1]!=1?n:0)+ew[1]*cg],ba=[V-(h7[0]!=1?n:0)+ew[0]*gP,b-cm+a5*h7[1]+ew[1]*cg];
l.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[bh[0],bh[1],bh[0]+v,bh[1],bh[0]+v,bh[1]+n,bh[0],bh[1]+n,ba[0],ba[1],ba[0]+n,ba[1],ba[0]+n,ba[1]+v,ba[0],ba[1]+v]};
O.Fill(l)}}var jx=s.$X;for(var c4=0;c4<jx.length;c4++){var bq=jx[c4].v,K=a.Z6.Gt(bq),di=a.b.hC(K).L;
a.b.M(di,T,di);var il=a.b.hG(di);if(!new gi(0,0,q,d).fl(il))continue;if(O.AddAnnot)O.AddAnnot([il.x,il.y,il.x+il.A,il.y+il.$],bq.url.v)}O.ShowPage()}O.Done();
km.lX=null};km.nW=function(s){s=a.wv.sl(s);return[s.o/255,s.R/255,s.X/255]};km.hE=function(s,M,O,P,y,F,A,h){var m=M.w,Z=m.add.lsct,u=m.add.lmfx,E,_,q,l=!1;
if(m.Cj)return;var f=m.add.vmsk,U=m.add.vstk,C=m.add.TySh;if(dc==1&&!m.ES()&&!F.$B(a.b.hG(m.ay())))return;
var H=M.children,t=H&&H.length!=0?H[H.length-1].w:null;if(dc==1&&t&&t.Cj&&t.CD())f=t.add.vmsk;if(!m.CD())return;
var X=m.N_/255,Q=m.add.iOpa!=null?m.add.iOpa/255:1;O.bmode=ft.agY(m.mX);var D=O.ca;O.ca=O.CA=X*Q;var L=u;
if(L)L=L.solidFillMulti.v[0];if(L)L=L.v;if(L&&!L.enab.v)L=null;var S=m.S;if(m.v5()&&(!m.ES()||m.aD&&m.aD.mU)){if(m.ES()){E=m.aD.mU;
S=M.Gt(s,!1)}else{E=a.j(m.S.C());a.YT(a.Gp(m.buffer,8),E,3)}var W=cb.Xt(u,m.add.fxrp,E,S,s,S),_=W.I;
cb.ama(W);var g=["DrSh","OrGl"];if(Q!=1||U&&!U.fillEnabled.v){var x=E.slice(0);a.or(x);for(var R=0;R<g.length;
R++){var V=_[g[R]];for(var b=0;b<V.length;b++){var N=V[b],J=N.Ng.v();J.x+=S.x;J.y+=S.y;a._5(x,S,N.tG,J)}}}}if(_)km.a4G(m,E,S,_,O,P,y,A,!0);
var K=cb.acP(m,!1);if(K){P.StartTGroup(O);q=O;O=UDOC.getState();O.aw8=q.aw8}var d=f&&!m.tE(),T=m.add.GdFl;
if(T&&T.Type.v.GrdT!="Lnr"&&T.Type.v.GrdT!="Rdl"){l=!0}if(U&&U.strokeEnabled.v&&U.strokeStyleContent.v.Ptrn)l=!0;
if(d){var B=a.b.qN(f.u,!1),p=B.fp;a.b.M(p.L,y,p.L);O.cpth={cmds:p.J8,crds:p.L}}if(m.ES()){for(var R=0;
R<M.children.length;R++)km.hE(s,M.children[R],O,P,y,F,A,h)}else if(m.tE()&&m.add.PtFl==null&&!l){var I=f?f.u:a.z.uU.Rect(0,0,s.A,s.$),w=m.add.vstl,p,G;
if(w==null)w=fr.E6(m.add,s);for(var R=0;R<2;R++){var e=R==0?w.Tq:w.Jc;if(e&&e.length==4)for(var b=0;
b<e[1].length;b++)e[1][b][1]=km.Mu(e[1][b][1])}ft.U$(w,O);O.lwidth*=y.dI();for(var R=0;R<O.dash.length;
R++)O.dash[R]*=y.dI();if(dc==0){var B=a.b.qN(I,w.Jc==null);p=B.fp;G=B.iU}if(dc==1){p=a.b.TM(I);G=f.gW}a.b.M(p.L,y,p.L);
O.pth={cmds:p.J8,crds:p.L};for(var b=0;b<2;b++){var R=w.KG==2?1-b:b,j=R==0?w.Tq:w.Jc,r=null;if(j.length==0)continue;
else if(j.length==3)r=j;else{var k=eq.E1(j,I);k.concat(y);var a7=[0,0,1,0];if(j[0]==1){var Y=j[2][5]*Math.PI/180,v=j[2][6];
a7=[Math.cos(Y)*v,-Math.sin(Y)*v,0,0,0,1]}r={typ:["lin","rad"][j[0]],mat:[k.cd,k.X,k.xN,k.zv,k.cj,k.H3],grad:a.G(j[1]),crds:a7}}O[R==0?"colr":"COLR"]=r;
P[R==0?"Fill":"Stroke"](O,G!=0)}}else if(C&&A.vtxt){var n=C.nA,cm=new aa(n,h,C.x9),p=bZ.cU(cm,C,!0),a5=a.b.Ib(p),gP=null,U=cb.aoH(u);
if(U){gP=aV.To.nc(U);gP.Jc=km.nW(U.strokeStyleContent.v.Clr.v)}for(var cg in a5){var a9=parseInt(cg.slice(1,7),16),ew=0;
O.colr=L?km.nW(L.Clr.v):km.avY(a9);var h7=a5[cg];a.b.M(h7.L,y,h7.L);h7=a.b.ahz(h7);O.pth={cmds:h7.J8,crds:h7.L};
var w=gP?a.G(gP):null;if(cg.length>7)w=bZ.aC5(cg.slice(7));if(w)w.WJ*=y.dI();if(w&&w.KG==2){O.COLR=w.Jc;
ft.U$(w,O);P.Stroke(O)}P.Fill(O);if(w&&w.KG!=2){O.COLR=w.Jc;ft.U$(w,O);P.Stroke(O)}}}else if(C){var n=a.G(C.nA);
iP.atR(n);var bh=C.M.v(),ba=new kp(1,0,0,-1,0,0);ba.concat(bh);ba.concat(y);var jx=iP.Rx(n),cm=new aa(n,h,C.x9);
for(var R=0;R<cm.Gy.length;R++){var c4=cm.Gy[R];if(c4.JX.length==1&&c4.JX[0].fm)continue;for(var b=0;
b<c4.PO.length;b++){var bq=c4.PO[b],di=c4.I7.y+bq.I7.y,il=c4.JX[bq.start].start,j0=c4.JX[bq.end-1].end,j1=iP.aC9(n,il,j0);
for(var b5=0;b5<j1.length;b5++){var b4=cm.hp(il),lm=j1[b5],ix=iP.ty(n,il,il),jy=ix.U2[ix.TY.Font].Name;
O.font.Tf=jy;var cg=iP.sl(ix.TY.FillColor);O.colr=L?km.nW(L.Clr.v):[cg.o/255,cg.R/255,cg.X/255];var bz=O.font.Tfs=Math.round(ix.TY.FontSize),c5=jx.slice(il,il+lm);
if(ix.TY.FontCaps==2)c5=c5.toUpperCase();var k=new kp;k.translate(b4.Iz.x,-di);k.concat(ba);O.ctm=[k.cd,k.X,k.xN,k.zv,k.cj,k.H3];
P.PutText(O,c5,0);for(var k0=0;k0<2;k0++){var cd=ix.TY[k0==0?"Strikethrough":"Underline"];if(!cd)continue;
var fz=cm.hp(il+lm-1),fu=k0==0?.27:-.2,c6=bz*fu,k7=bz*(fu+.07),ew=fz.Iz.x+fz.Iz.A-b4.Iz.x,hP=[0,c6,ew,c6,ew,k7,0,k7];
a.b.M(hP,k,hP);O.pth={cmds:["M","L","L","L","Z"],crds:hP};P.Fill(O)}O.ctm=[1,0,0,1,0,0];il+=lm}}}}else if(!m.S.g3()||dc==1){var e1,fs,eh=!1,gW=new kp,hk=m.add.SoLd,jz=!0;
if(hk)jz=a.F.w1(a.F.da($.TR.NI(hk.Trnf)));var lh=s.En();if(hk&&jz&&lh==null){var ag=hk.Idnt.v,eo=s.vP(ag,hk.Crop?hk.Crop.v:null),lb="";
if(eo==null)return;var aC=eo.EV,e8=b_.WG(eo.raw.buffer);if(A.fmts.indexOf(e8)!=-1){e1=eo.raw;eh=!0}else e1=aC[0];
fs=aC[1];gW=a.F.fu(hk);if(eo.zL.C()!=fs.C()){var jn=new kp;jn.translate(fs.x,fs.y);jn.concat(gW);gW=jn}}else{e1=a.Gp(m.buffer,8);
fs=m.S;gW.translate(fs.x,fs.y);if(lh){e1=e1.slice(0);ICC.U.applyLUT(lh[s.add.fcmy==1?5:3],lh[2],e1,e1)}if(a.Ou(e1,fs.A,fs.$)&&A.fmts&&A.fmts.indexOf("jpg")!=-1){var k3=b_.O7("JPG").u6([[e1.buffer]],fs.A,fs.$,[A[1]]);
e1=new Uint8Array(k3);eh=!0}}if(L&&!eh)e1=cb.asF(e1,L,fs);km.yX(O,P,e1,fs,gW,y);if(L&&eh){var hP=[0,0,fs.A,0,fs.A,fs.$,0,fs.$];
a.b.M(hP,gW,hP);a.b.M(hP,y,hP);var cP=a.G(O);cP.ca=L.Opct.v.val/100;cP.pth={cmds:["M","L","L","L","Z"],crds:hP};
cP.colr=km.nW(L.Clr.v);P.Fill(cP)}}if(d)O.cpth=null;if(K){P.EndTGroup();O=q}O.ca=O.CA=D;if(_)km.a4G(m,E,S,_,O,P,y,A,!1)};
km.Mu=function(s){var M=km.lX;if(M==null)return s;var O=M.En();if(O&&M.add.fcmy){return a.Vq(a.y5(s)).slice(0,3)}return s};
km.nW=function(s){s=a.wv.sl(s);return km.Mu([s.o/255,s.R/255,s.X/255])};km.avY=function(s){return km.Mu([(s>>>16&255)/255,(s>>>8&255)/255,(s&255)/255])};
km.a4G=function(s,M,O,P,y,F,A,h,m){var Z=O.v(),u=M;if(s.add.TySh&&!h.vtxt)return;var f=y.ca,U=y.bmode;
for(var R=aV.order.length-1;R>=0;R--){var C=aV.order[R];if(C=="GrFl"||C=="SoFi")continue;if((s.add.vmsk||s.add.TySh)&&C=="FrFX")continue;
var H=P[C],t=R>7||C=="FrFX";if(t!=m)continue;for(var X=0;X<H.length;X++){var Q=H[X];if(Q.Ng==null)Q=Q.AM?Q.AM:Q.x4;
if(Q==null)continue;var D=a.Gp(Q.tG,8),L=Q.Ng.v();L.offset(Z.x,Z.y);if(!t){if(!Z.fl(L)){var E=Z.v8(L),_=a.j(E.C());
a.TT(u,Z,_,E);u=_;Z=E}a._5(u,Z,D,L)}if(t&&C=="FrFX"&&Q.kb)a._5(Q.kb,L,D,L);var S=new kp;S.translate(L.x,L.y);
y.ca=Q.fv;y.bmode=ft.agY(Q.yI);km.yX(y,F,D,L,S,A)}}y.ca=f;y.bmode=U};km.yX=function(s,M,O,P,y,F){var A=new kp;
A.scale(P.A,-P.$);A.translate(0,P.$);A.concat(y);A.concat(F);s.ctm=[A.cd,A.X,A.xN,A.zv,A.cj,A.H3];M.PutImage(s,O,P.A,P.$);
s.ctm=[1,0,0,1,0,0]};var dP={};dP.kM=function(s){var M=new Uint8Array(s);return dP.vD(M,0)};dP.vD=function(s,M){var O=c.h4,P=c.Db,y={Xh:P(s,M,4),p:M+8,size:O(s,M+4)},F=y.Xh=="FORM"||y.Xh=="FOR4"||y.Xh=="LIST"||y.Xh=="CAT ";
if(F)y.hF=P(s,M+8,4);if(y.size<0||y.p+y.size>s.length)throw"e";if(F){y.sub=[];M+=12;var A=y.p+y.size;
while(M<A){var h=dP.vD(s,M);y.sub.push(h);var m=h.size&1,Z=h.size&3;if(y.Xh=="FOR4")m=Z==0?0:4-Z;M+=8+h.size+m}}return y};
var h8={};h8.kM=function(s,M){var O=new Uint8Array(s);return h8.vD(O,0,M)};h8.vD=function(s,M,O){var P=c.je,y=c.Db,F={Xh:y(s,M,4),p:M+8,size:P(s,M+4)};
if(O&&O[F.size]!=null)F.size=O[F.size];if(F.Xh=="RIFF"||F.Xh=="LIST"){F.hF=y(s,M+8,4)}if(F.size<0||F.p+F.size>s.length){console.log(F,s.length);
throw"e"}if(F.Xh=="RIFF"||F.Xh=="LIST"&&(F.hF!="cmpr"&&F.hF!="stlt")){F.sub=[];M+=12;var A=F.p+F.size;
while(M<A){var h=h8.vD(s,M,O);F.sub.push(h);M+=8+h.size+(h.size&1)}}return F};var dp=function(){function s(r,k){var a7=null;
if(r.sub==null)return a7;for(var R=0;R<r.sub.length;R++){var Y=r.sub[R];if(Y.Xh==k||Y.hF==k)a7=Y}return a7}function M(r){if(r==32)return 300;
else if(r<49)return 0;else if(r<58)return 100*(r-48);else if(r<65)return 0;return 100*(r-55)}var O;function P(r,k){var a7=new Uint8Array(r);
k.Jf=!0;O={};var Y=c.Db(a7,0,2);if(Y=="WL"){alert("Unsupported CDR version")}else{var v,n,cm,cg,di=300,j1=0;
if(Y=="PK"){n=UZIP.parse(a7);if(n["content/root.dat"]){a7=n["content/root.dat"];cm=c.xJ(n["content/dataFileList.dat"]).split("\n")}else{a7=n["content/riffData.cdr"];
n=null}}v=h8.kM(a7.buffer);console.log(v);var a5=M(a7[11]),gP={data:a7,p:0,QH:a5};gP.ju=gP.QH<600?16:32;
g(a7,gP,cm,n,v.sub,0);var a9=[];if(n){cg=s(v,"doc ");y(cg);var ew=v.sub;for(var R=0;R<ew.length;R++)if(ew[R].hF=="page")a9.push(ew[R]);
a9=a9.slice(1)}else if(v.sub[3]&&v.sub[3].Xh=="pack"){alert("We dont support this version of CDR files");
return}else if(s(v,"cmpr")==null){cg=s(v,"page");a9.push(cg);if(s(cg,"mcfg")==null){cg=s(v,"doc ");y(cg);
a9=[];var ew=v.sub;for(var R=0;R<ew.length;R++)if(ew[R].hF=="page")a9.push(ew[R]);a9=a9.slice(1)}}else{var h7=s(v,"cmpr").sub;
cg=h7[0];a9=[h7.slice(1)[1]];if(s(cg,"filt"))y(cg)}var bh=s(cg,"mcfg").K,ba=bh.a32,jx=ba.x*.1,c4=ba.x*a9.length+jx*(a9.length-1),bq=ba.y;
di/=dI.oN(new gi(0,0,Math.round(c4*di),Math.round(bq*di)),8192*8192);var il=Math.round(c4*di),j0=Math.round(bq*di);
k.A=il;k.$=j0;k.buffer=a.j(k.A*k.$*4);for(var R=0;R<a9.length;R++){var b5=new kp(di,0,0,-di,ba.x*di/2+j1,ba.y*di/2);
F(a9[R],cg,k,b5);var b4=k.U[k.U.length-1];b4.Y3(new gi(Math.round(j1),0,Math.round(ba.x*di),Math.round(ba.y*di)));
b4.jj("Page "+(R+1));j1+=ba.x*di+jx*di}k.Fh(a9.length)}}function y(r){var k=s(r,"filt").sub,a7=s(r,"otlt").sub,Y=s(r,"fntt");
if(Y)Y=Y.sub;r.$x={};for(var R=0;R<k.length;R++)r.$x[k[R].sub[0].K.id]=k[R].sub[0].K;r.VG={};for(var R=0;
R<a7.length;R++)r.VG[a7[R].K.id]=a7[R].K;if(Y){r.fonts={};for(var R=0;R<Y.length;R++)r.fonts[Y[R].K.id]=Y[R].K}}function F(r,k,a7,Y){var v=r.hF?r.hF:r.Xh,n=s(r,"lgob"),cm=s(r,"txsm"),a5=null,gP=null;
if(n){a5=s(n,"trfl");gP=s(n,"loda")}else if(s(r,"lobj"))gP=s(r,"lobj");var cg=a5&&a5.sub[0].pO?a5.sub[0].pO.v():new kp;
cg.concat(Y);var a9=a7.Tk();if(v=="page"||v=="layr"||v=="grp "){a9.jj((v=="page"?"Page":"Group")+" "+a7.U.length);
a9.add.lsct=dU.l9;a9.mX="pass";a9.Xa=24;var ew=[];if(v=="page")ew=s(r,"gobj").sub;if(v=="layr")ew=r.sub.slice(2);
if(v=="grp ")ew=r.sub.slice(4);if(ew.length==0)return;a7.U.push(a7.kA());for(var R=ew.length-1;R>=0;
R--)F(ew[R],k,a7,Y)}else if(v=="obj "&&gP.K&&gP.K.path){var h7,bh;if(k.$x){h7=k.$x[gP.K.a6G];bh=k.VG[gP.K.akc]}if(h7==null)h7=gP.K.a3P;
if(bh==null)bh=gP.K.a1c;a9=A(a7,gP.K.path,Y,cg,h7,bh)}else if(v=="obj "&&cm){var ba=gP.K.acV,jx=gP.K.a5_,di="";
a9.add.TySh=iP.cN(0,0);var c4=cg.dI();a9.add.TySh.M.translate(cg.cj,cg.H3);var bq=a9.add.TySh.nA,il=cm.K.lZ;
if(il==null)return;for(var R=0;R<il.length;R++){var j0=il[R],j1=di.length;di+=j0.text+"\n";iP.Xq(bq,j1,j0.text+"\n");
if(j0.text=="")continue;var b5=h(j0.ahx,k),b4=b5.amf,lm=k.fonts[b4.aqX],ix=iP.ty(bq,j1,di.length);if(b5.align==3)ix.Gy.Justification=1;
else if(b5.align==2)ix.Gy.Justification=2;else ix.Gy.Justification=0;var jy=b5.fill.K;if(jy==null)jy=[0,0,0];
if(lm.UA)iP.Z2(ix,lm.UA);ix.TY.FillColor={Type:1,Values:[1,jy[0],jy[1],jy[2]]};ix.TY.FontSize=Math.round(b4.fontSize*Y.dI());
iP.UP(bq,j1,di.length-1,ix)}if(jx){iP.hV(bq,0)}else{iP.hV(bq,1);iP.w9(bq,[0,0,Math.round(ba.x*cg.cd),Math.round(-ba.y*cg.zv)])}a9.jj(di.slice(0,10))}else{a9=null}if(a9)a7.U.push(a9)}function A(r,k,a7,Y,v,n){var cm=r.Tk();
cm.jj("Object "+r.U.length);cm.Xa|=16;var a5=cm.add.vstk=aV.To.Jb();cm.add.vmsk=new ad.Vp;cm.add.vmsk.u=a.b.Ie(k,!1);
a.z.R7(cm.add.vmsk.u,Y);var gP=v&&v.I!=0,cg=gP&&v.K!=null?v.K:[0,0,0];ft.tN(cg,cm,Y,cm.add.vmsk.u);a5.fillEnabled.v=gP;
if(n&&n.ax6!=1){a5.strokeEnabled.v=!0;a5.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var a9=a5.strokeStyleLineWidth.v.val=n.lineWidth*a7.dI(),ew=n.color;a5.strokeStyleContent.v.Clr.v=a.wv.gN({o:ew[0]*255,R:ew[1]*255,X:ew[2]*255});
if(n.wm.length!=0)a5.strokeStyleLineDashSet.v=cb.QN(n.wm,4/a9);var h7=n.a51,bh=n.aJI;if(bh!=0){var ba=k.L,R=ba.length-4,jx=ba[R],c4=ba[R+1],bq=ba[R+2],di=ba[R+3],il=new kp;
il.scale(.15,.15);il.rotate(-Math.PI/2+Math.atan2(di-c4,-(bq-jx)));il.translate(bq,di);il.concat(Y);
if(O[bh]){var j0=A(r,O[bh],a7,il,ew,null);r.U.push(j0)}}}cm.$k();cm.uH(r);return cm}function h(r,k){var a7=s(k,"stlt").K,Y=a.G(a7.ZB[r]);
if(Y.AG!=0){var v=a7.ZB[Y.AG];for(var n in v)if(Y[n]==null||Y[n]==0)Y[n]=v[n];delete Y.AG}Y.align=a7.agT[Y.am3];
Y.fill=k.$x[a7.ajt[Y.aHg]];Y.a28=k.VG[a7.an7[Y.azV]];Y.amf=a7.a3G[Y.alr];return Y}function m(R){var hS=R.data[R.p];
R.p+=1;return hS}function Z(R){var hS=c.vJ(R.data,R.p);R.p+=2;return hS}function u(R){var hS=c.je(R.data,R.p);
R.p+=4;return hS}function f(R){var hS=c.je(R.data,R.p);R.p+=8;return hS}function U(R){var hS=c.Sw(R.data,R.p);
R.p+=2;return hS}function C(R){var hS=c.KF(R.data,R.p);R.p+=4;return hS}function H(R){var hS=c.$L(R.data,R.p);
R.p+=8;return hS}function t(R){if(R.p>=R.data.length)throw"e";var r=0;while(R.data[R.p+r]!=0)r++;var k=c.Db(R.data,R.p,r);
R.p+=r+1;return k}function X(R){var r="";while(!0){var k=Z(R);if(k==0)break;r+=String.fromCharCode(k)}return r}function Q(r){var k=u(r),a7=(k&4294901760)>>>16,Y=(k&65535)/65535;
return a7+Y}function D(r){if(r.QH<600)return Math.PI*U(r)/1800;return Math.PI*C(r)/18e7}function L(r){if(r.QH<1500)return E(r);
else return H(r)/254e3}function E(r){if(r.QH<600)return U(r)/1e3;else return C(r)/254e3}function _(r){if(r.QH<600)return Z(r);
else return u(r)}function S(r){if(r.QH<600)return U(r);else return C(r)}function W(r,k,a7){var Y="";
for(var R=0;R<a7;R++){for(var v=0;v<k;v+=4){var hS=c.je(r.data,r.p+R*k+v);Y+=(hS<500?hS:hS)+","}Y+="\n"}return Y}function g(r,k,a7,Y,v,n){var cm,a5,gP;
for(var cg=0;cg<v.length;cg++){var a9=k.QH,ew=v[cg];k.data=r;k.p=ew.p+(ew.Xh=="LIST"?4:0);if(Y&&ew.sub==null){cm=u(k);
a5=u(k);gP=u(k);var h7=Z(k);if(h7!=0&&h7!=256&&h7!=768)throw h7.toString(16);var bh=Z(k);if(bh>32)throw"e";
k.p-=16;if(cm!=4294967295){k.data=Y["content/data/"+a7[cm]];k.p=gP}}if(ew.Xh=="vrsn"){if(ew.size==16)k.p+=8;
var ba=Z(k);k.QH=ba;console.log("Version",ba);k.ju=ba<600?16:32}else if(ew.Xh=="DISP"){}else if(ew.Xh=="pack"){var jx=u(k),c4=c.Db(k.data,k.p,4),il=0;
if(c4!="CPng")throw c4;var bq=new Uint8Array(k.data.buffer,k.p+8+2,ew.size-10-4),di=pako.inflateRaw(bq);
ew.sub=[];while(il<di.length){var j0=h8.vD(di,il);il=j0.p+j0.size;ew.sub.push(j0)}var j1={data:di,p:0,QH:a9,ju:k.ju};
g(di,j1,a7,Y,ew.sub,n+1)}else if(ew.Xh=="LIST"&&ew.hF=="cmpr"){var b5=u(k),b4=u(k),lm=u(k),jx=u(k),c4=c.Db(k.data,k.p,4),il=0;
if(c4!="CPng")throw c4;var bq=new Uint8Array(k.data.buffer,k.p+8+2,b5-6-8),di=pako.inflateRaw(bq);k.p+=b5;
bq=new Uint8Array(k.data.buffer,k.p+8+2);var ix=pako.inflateRaw(bq),jy=[];for(var bz=0;bz<ix.length;
bz+=4)jy.push(c.je(ix,bz));ew.sub=[];while(il<di.length){var j0=h8.vD(di,il,jy);il=j0.p+j0.size;ew.sub.push(j0)}var j1={data:di,p:0,QH:a9,ju:k.ju};
g(di,j1,a7,Y,ew.sub,n+1)}else if(ew.Xh=="LIST"&&ew.hF=="stlt"||ew.Xh=="stlt"){if(cm==4294967295)return;
var c5=k.p,hP="",k3=32;ew.K={};var k0=u(k);if(k0==0)return;ew.K.ajt=l(k,a9>=1300);ew.K.an7=l(k);ew.K.a3G={};
var cd=u(k);for(var R=0;R<cd;R++){var fz=u(k);k.p+=a9<1e3?12:20;var fu=Z(k),c6=Z(k);k.p+=8;var k7=E(k);
k.p+=a9<1e3?12:20;ew.K.a3G[fz]={aqX:fu,a3x:c6,fontSize:k7}}ew.K.agT=l(k);var e1=u(k);hP+="Intervals\n"+W(k,52,e1)+"\n";
k.p+=52*e1;var fs=u(k);hP+="Set5s\n"+W(k,152,fs)+"\n";k.p+=152*fs;var eh=u(k);hP+="Tabs\n"+W(k,784,eh)+"\n";
k.p+=784*eh;var gW=u(k);hP+="Bullets\n";for(var R=0;R<gW;R++){var hk=k.p,jz=u(k);k.p+=4*3;if(a9>1300)k.p+=4;
var lh=u(k);k.p+=4*5;if(a9>=1300){var ag=u(k);if(ag){if(u(k))k.p+=64;else k.p+=60}else k.p+=12}else{k.p+=20;
if(a9>=1e3)k.p+=8;if(u(k))k.p+=8;k.p+=8}var eo=k.p;k.p=hk;hP+=W(k,eo-hk,1);k.p=eo}hP+="\n";var aC=u(k);
hP+="Indents\n";ew.K.a7Q={};for(var R=0;R<aC;R++){var hk=k.p,e8=u(k),lb={};k.p+=12;lb.right=E(k);lb.aqB=E(k);
lb.left=E(k);ew.K.a7Q[e8]=lb;var eo=k.p;k.p=hk;hP+=W(k,eo-hk,1);k.p=eo}hP+="\n";var jn=u(k);if(a9>=1300)k3+=4;
hP+="Hypens\n"+W(k,k3,jn)+"\n";k.p+=k3*jn;var cP=u(k);hP+="Dropcaps\n"+W(k,28,cP)+"\n";k.p+=28*cP;if(a9>800){var cV=u(k);
hP+="Set11s\n"+W(k,28,cV)+"\n";k.p+=12*cV}ew.K.ZB={};for(var R=0;R<k0;R++){var l2=u(k);if(l2>3)throw l2;
var dS=u(k),gH={};gH.AG=u(k);k.p+=8;var hd=u(k);if(a9>=1200)hd*=2;k.p+=hd;gH.aHg=u(k);gH.azV=u(k);if(l2>1){gH.alr=u(k);
gH.am3=u(k);gH.a8O=u(k);gH.apO=u(k);if(a9>800)gH.ado=u(k)}if(l2>2){gH.aB2=u(k);gH.agp=u(k);gH.aEx=u(k);
gH.a0q=u(k);gH.a8a=u(k)}ew.K.ZB[dS]=gH}}else if(ew.Xh=="LIST")g(r,k,a7,Y,ew.sub,n+1);else if(ew.Xh=="txsm"){ew.K={};
if(a9<600)throw"e";if(a9<700)throw"e";if(a9>=1600){ew.K=d(k);return}if(a9>=1500)k.p+=37;else k.p+=36;
if(u(k)){if(a9<800)k.p+=32}if(a9<800)k.p+=4;ew.K.adP=u(k);ew.K.lZ=[];k.p+=48;if(a9>=800){if(u(k)){k.p+=32;
if(a9>=1300)k.p+=8}}if(a9>=1500)k.p+=12;var l2=u(k),bL=1,au=!1;if(!l2){if(a9>=800)k.p+=4;if(a9>800)k.p+=2;
if(a9>=1400)k.p+=2;k.p+=24;if(a9<800)k.p+=8;bL=u(k)}for(var bz=0;bz<bL;bz++){var ev=u(k),R=0;if(a9>=1300&&l2)k.p++;
k.p++;var k0=u(k),eF=[];for(R=0;R<k0;R++){var fn=m(k),gz=0;m(k);var iu=m(k);if(a9>=800)gz=m(k);var gH={};
if(iu&1){gH.aqX=Z(k);var dL=Z(k);if(dL)gH.azx=dL}if(iu&2)k.p+=4;if(iu&4)gH.ao9=E(k);if(iu&8)k.p+=4;if(iu&16)k.p+=4;
if(iu&32)k.p+=4;if(iu&64){gH.aHg=u(k);if(a9>=1500)k.p+=48}if(iu&128){gH.azV=u(k)}if(gz&8){if(a9>=1300){var dm=u(k);
if(k.p+dm*2>=k.data.length){au=!0;break}k.p+=dm*2}else k.p+=4}if(gz&32){var cM=m(k);if(cM)k.p+=52}if(fn==2)if(a9>=1300)k.p+=48;
eF.push(gH)}if(au){break}var l5=u(k);if(k.p+l5*4>k.data.length)break;var i3=[];for(R=0;R<l5;R++){var eg=0;
if(a9>=1200)eg=f(k)&4294967295;else eg=u(k);i3[R]=eg>>16|eg&1}var la=l5;if(a9>=1200)la=u(k);var ea=t(k);
ew.K.lZ.push({ahx:ev,text:ea,ZB:eF})}}else if(ew.Xh=="arrw")ew.K=x(k);else if(ew.Xh=="font"){var hk=k.p,iB=Z(k),jG=Z(k),j5="";
k.p+=14;if(k.QH>=1200)j5=X(k);else j5=t(k);ew.K={id:iB,aad:jG,name:j5};if(Y){var hU=hk+a5;while(k.data[k.p]==0)k.p++;
k.p+=2;var kn=X(k);while(k.data[k.p]==0)k.p++;while(k.data[k.p]<=2)k.p+=4;ew.K.UA=X(k)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(ew.Xh)!=-1){}else if(ew.Xh=="flgs")ew.K=u(k);
else if(ew.Xh=="bbox"){var k5=E(k),a0=E(k),ab=E(k),c$=E(k);ew.K=new gi(k5,a0,ab-k5,c$-a0)}else if(ew.Xh=="fild"){var eB=u(k),eY;
if(a9>=1300)k.p+=8;if(a9>=2510)k.p+=16+8;var ii=Z(k);if(ii==0){}else if(ii==1){k.p+=a9>=1300?13:2;eY=j(k)}else if(ii==2){k.p+=a9>=1300?8:2;
var kF=m(k),a4=0;if(a9>=1300){k.p+=17;a4=U(k)}else if(a9>=600){k.p+=19;a4=C(k)}else{k.p+=11;a4=U(k)}var hW=D(k),i9=.5+S(k),be=.5+S(k)-.5;
if(a9>=600)k.p+=2;var jQ=_(k)&255,iA=m(k)/100;k.p++;var g0=_(k)&65535;if(a9>=1300)k.p+=3;var h$=[];for(var R=0;
R<g0;R++){var bs=j(k);if(a9>=1400)k.p+=26;else if(a9>=1300)k.p+=5;var jf=(_(k)&65535)/100;if(a9>=1300)k.p+=3;
h$.push([jf,bs])}eY={typ:kF==1?"lin":"rad",crds:[i9-Math.cos(hW)/2,be-Math.sin(hW)/2,i9,be],grad:h$,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",ii);
ew.K={id:eB,I:ii,K:eY}}else if(ew.Xh=="outl"){var aO=u(k);if(a9>=1300){var le=0,lj=0;while(le!=1){k.p+=lj;
le=u(k);lj=u(k)}}var gM=Z(k),gt=Z(k),jr=Z(k);if(a9<1300&&a9>=600)k.p+=2;var iQ=E(k),fd=Z(k)/100;if(a9>=600)k.p+=2;
var bu=D(k);if(a9>=1300)k.p+=46;else if(a9>=600)k.p+=52;var eY=j(k);if(a9<600)k.p+=10;else k.p+=16;var hK=Z(k),dt=k.p,j4=[];
for(var R=0;R<hK;++R)j4.push(Z(k));if(a9<600)k.p=dt+20;else k.p=dt+22;var jp=u(k),j7=u(k);ew.K={id:aO,ax6:gM,aro:gt,aqZ:jr,lineWidth:iQ,color:eY,wm:j4,a51:jp,aJI:j7}}else if(ew.Xh=="mcfg"){if(1300<=a9)k.p+=12;
else if(900<=a9)k.p+=4;else if(600<=a9&&a9<700)k.p+=28;var iI=0,ah=0;if(a9<400){k.p+=2;var k5=E(k),a0=E(k),ab=E(k),c$=E(k);
iI=Math.abs(ab-k5);ah=Math.abs(c$-a0)}else{iI=E(k);ah=E(k)}ew.K={a32:new j6(iI,ah)}}else if(ew.Xh=="loda"||ew.Xh=="lobj"){var c5=k.p,bA=_(k),c8=_(k),ln=_(k),f8=_(k),j2=_(k),d1=[],cI=[],R=0,fT=null;
k.p=c5+ln;while(R<c8)d1[R++]=_(k);k.p=c5+f8;while(R>0)cI[--R]=_(k);ew.K={};for(R=0;R<c8;R++){k.p=c5+d1[R];
var fk=cI[R];if(fk==30){if(a9>=400&&j2==1||a9<400&&j2==0){ew.K.path=K(k)}else if(a9>=400&&j2==2||a9<400&&j2==1){ew.K.path=J(k)}else if(a9>=400&&j2==3||a9<400&&j2==2){ew.K.path=I(k)}else if(j2==37){ew.K.path=p(k)}else if(a9>=400&&j2==4||a9<400&&j2==3){ew.K.a5_=T(k)}else if(a9>=400&&j2==6||a9<400&&j2==5){ew.K.acV=B(k)}else console.log(j2)}else if(fk==20){if(a9<400)ew.K.a3P=b(k);
else ew.K.a6G=u(k)}else if(fk==10){if(a9<400)ew.K.a1c=N(k);else ew.K.akc=u(k)}else if(fk==200)ew.K.ah_=_(k);
else if(fk==100){if(a9<400)fT=V(k)}}if(fT&&ew.K.path)a.b.M(ew.K.path.L,fT,ew.K.path.L)}else if(ew.Xh=="trfd"){var c5=k.p,bA=_(k),c8=_(k),ln=_(k);
k.p=c5+ln;var d1=[];for(var R=0;R<c8;R++)d1[R]=_(k);for(var R=0;R<c8;R++){k.p=c5+d1[R];if(a9>=1300)k.p+=8;
var c9=Z(k);if(c9==8){var gC,bE,k5,a6,kr,a0;if(a9>=600)k.p+=6;if(a9>=500){gC=H(k);bE=H(k);k5=H(k)/(a9<600?1e3:254e3);
a6=H(k);kr=H(k);a0=H(k)/(a9<600?1e3:254e3)}else throw"e";ew.pO=new kp(gC,a6,bE,kr,k5,a0)}else console.log(c9)}}else if(!1){console.log(ew);
var gv=Math.min(ew.size,32);console.log(c.DN(r,ew.p,gv));console.log(c.awS(r,ew.p,gv))}}}function x(r){var k=u(r);
r.p+=4;var a7=Z(r);r.p+=4;var Y=[];for(var v=0;v<a7;v++)Y.push(m(r));r.p+=1;var n=[];for(var cm=0;cm<a7;
cm++){var a5=[];a5[1]=E(r);a5[0]=E(r);n.push(a5)}var gP=e(n,Y);O[k]=gP}function V(r){var k=0,a7=0,Y=0,v=0,n=0,cm=0;
if(r.QH>=300){var a5=r.p;r.p+=10;var gP=_(r);r.p=a5+gP;k=Q(r);a7=Q(r);Y=C(r)/1e3;v=Q(r);n=Q(r);cm=C(r)/1e3}else{Y=E(r);
cm=E(r);k=Q(r);a7=Q(r);Y+=Q(r)/1e3;v=Q(r);n=Q(r);cm+=Q(r)/1e3}return new kp(k,a7,v,n,Y,cm)}function b(r){var k=m(r);
if(k==0)return null;else if(k==1)return j(r);else console.log(k)}function N(r){var k=m(r);k<<=1;var a7=E(r),Y=Z(r)/100,v=D(r),n=j(r);
return{ax6:k,lineWidth:a7,color:n,wm:[],a51:0,aJI:0}}function J(r){var k=E(r),a7=E(r),Y=D(r),v=D(r),n=a.b.TM(a.z.uU.Y9(0,0,k,a7));
return n}function K(r){var k=r.QH,a7=L(r),Y=L(r),v=0,n=0,cm=0,a5=0,gP=0,cg=1,a9=1;if(k<1500){a5=L(r);
cm=k<900?a5:L(r);n=k<900?a5:L(r);v=k<900?a5:L(r)}else{var ew=H(r);if(ew!=0)cg=ew;ew=H(r);if(ew!=0)a9=ew;
var h7=m(r);r.p+=7;if(h7==0){a5=H(r);gP=m(r);r.p+=15;cm=H(r);r.p+=16;n=H(r);r.p+=16;v=H(r);var bh=Math.abs(a7*cg/2),ba=Math.abs(Y*a9/2);
a5*=bh<ba?bh:ba;cm*=bh<ba?bh:ba;n*=bh<ba?bh:ba;v*=bh<ba?bh:ba}else{a5=L(r);gP=m(r);r.p+=15;cm=L(r);r.p+=16;
n=L(r);r.p+=16;v=L(r)}}return a.b.TM(a.z.uU.Rect(0,0,a7,Y,[v,n,cm,a5]))}function q(r){var k=u(r);if(r.QH<1700)k*=2;
r.p+=k;return""}function d(r){var k=u(r),Y=0;r.p+=37;var a7=u(r);for(var R=0;R<a7;R++){var v=u(r);Y=v;
r.p+=48;var n=u(r);if(n==1)r.p+=12*4;else r.p+=8;if(!k){r.p+=16;q(r)}}var cm={adP:Y,lZ:[]},a5=u(r);for(var gP=0;
gP<a5;gP++){if(r.p>r.data.length)throw"e";var cg=u(r),a9=m(r),ew=-1,b5="";if(k){ew=m(r);if(ew==1)r.p+=64}var h7=q(r),bh=u(r);
for(var R=0;R<bh;R++){r.p+=2;var ba=Z(r),jx=Z(r);if(jx&4){var c4=u(r);c4*=2;r.p+=c4}if(ba||jx&4){var bq=q(r)}}var di=u(r),il=[];
for(var R=0;R<di;R++){var j0=f(r)&4294967295;il[R]=j0>>16|j0&1}var j1=u(r);for(var R=0;R<di;R++){var b4=il[R]&7,lm=0;
if(b4==0||b4==2||b4==4||b4==6)lm=r.data[r.p++];else if(b4==1||b4==3||b4==5||b4==7)lm=r.data[r.p++]+r.data[r.p++]*256;
else throw b4;b5+=String.fromCharCode(lm)}if(gP+1<a5)r.p++;var ix=b5.split("\r");for(var R=0;R<ix.length;
R++)cm.lZ.push({text:ix[R],ahx:cg,ZB:[]})}return cm}function l(r,k){var a7={},Y=u(r);for(var R=0;R<Y;
R++){var v=u(r);r.p+=4;var n=u(r);a7[v]=n;if(k)r.p+=48}return a7}function T(r){var k=E(r),a7=E(r);return new j6(k,a7)}function B(r){r.p+=4;
var k=E(r),a7=E(r);return new j6(k,a7)}function p(r){r.p+=4;var k=Z(r)+Z(r);r.p+=16;var a7=w(r,k);return a7}function I(r){var k=Z(r);
r.p+=2;return w(r,k)}function w(r,k){var a7=[],Y=[];for(var R=0;R<k;R++)a7.push([E(r),E(r)]);for(var R=0;
R<k;R++)Y.push(m(r));return e(a7,Y)}function e(r,k){var a7={L:[],J8:[]},Y=0,v=0,n=0;for(var R=0;R<r.length;
R++){var Y=r[R][0],v=r[R][1],cm=k[R];if(!(cm&64)&&!(cm&128)||R==0){a7.L.push(Y,v);a7.J8.push("M");n+=2}else if(cm&64&&!(cm&128)){a7.L.push(Y,v);
a7.J8.push("L");n+=2}else if(!(cm&64)&&cm&128){a7.L.push(Y,v);a7.J8.push("C");n+=6}else if(cm&64&&cm&128){a7.L.push(Y,v)}}if(n!=a7.L.length)throw"e";
return a7}function G(r,k){var a7=c.je;k+=8;var Y=a7(r,k);k+=4;var v=a7(r,k);k+=4;k+=4*7;var n=k,cm=a.j(Y*v*4);
k+=1024;for(var a5=0;a5<v;a5++)for(var gP=0;gP<Y;gP++){var R=a5*Y+gP,cg=(v-a5-1)*Y+gP,a9=r[k+R]<<2,ew=cg<<2;
cm[ew+0]=r[n+a9+2];cm[ew+1]=r[n+a9+1];cm[ew+2]=r[n+a9+0];cm[ew+3]=255}return{tG:cm,S:new gi(0,0,Y,v)}}function j(r){var k=r.QH,a7=0,Y=0,v=0;
if(k>=500){a7=Z(r);if(a7==1&&k>=1300)a7=25;if(a7==30){a7=25;Y=30}else{Y=Z(r);r.p+=4}v=u(r)}else if(k>=400)throw"e";
else{a7=m(r);v=u(r)}return o(a7,Y,v)}function o(r,k,a7){var Y=[0,0,0];if(r==2||r==3||r==9||r==17){var v=[a7>>>0&255,a7>>>8&255,a7>>>16&255,a7>>>24&255];
if(r==2)for(var R=0;R<4;R++)v[R]=Math.round(255*v[R]/100);for(var R=0;R<4;R++)v[R]/=255;Y=UDOC.C.cmykToRgb(v)}else if(r==1||r==5){Y=[a7>>>0&255,a7>>>8&255,a7>>>16&255];
for(var R=0;R<3;R++)Y[R]=Y[R]/255;if(r==5)Y.reverse()}else console.log("Unknown color model "+r,a7,a7.toString(16));
return Y}return{kM:P}}(),gV=function(){var s,M,O=new ArrayBuffer(4),P=new Uint8Array(O),y=new Uint32Array(O),F=new Float32Array(O);
function A(U,C){for(var H=0;H<U.length;H++)if(U[H][0]==C)return U[H]}function h(){var U=0,C=0,H=0;do{H=s[M++];
U|=(H&127)<<C;C+=7}while(H&128&&C<35);return U>>>0}function m(U,C,H,t,X){s=U;M=C;var Q=t[0]=="mesg",D=t[2],L={},E=1,_=Q?1e9:D.length;
while(E<=_){var S=E;if(Q){S=h();if(S==0)break}var W=A(D,S),g=W[2],x=W[1]==1,V=x?h():1,b=new Array(V);
if(g==3){if(!x)throw"e";b=s.slice(M,M+V);M+=V}else for(var R=0;R<V;R++){var N;if((g&1)==1){if(g==1)N=s[M++]==1;
else if(g==3)N=s[M++];else if(g==5){var J=h();N=J&1?~(J>>>1):J>>>1}else if(g==7)N=h();else if(g==9){if(s[M]==0){N=0;
M++}else{P[0]=s[M];P[1]=s[M+1];P[2]=s[M+2];P[3]=s[M+3];var K=y[0];y[0]=K<<23|K>>>9;N=F[0];M+=4}}else if(g==11){var q=Z(s,M);
N=q[0];M+=q[1]+1}else if(g==15){var J=BigInt(0),d=BigInt(0),l=BigInt(7),T;while((T=s[M++])&128&&d<56){J|=BigInt(T&127)<<d;
d+=l}J|=BigInt(T)<<d;N=J}else throw g}else{var B=H[g>>>1];if(B[0]=="enum"){var p=h();N=B[2][p]}else{var I=m(s,M,H,B,X+1);
N=I[0];M=I[1]}}b[R]=N}L[W[3]]=x?b:b[0];E++}return[L,M]}function Z(U,C){var H=C;while(U[H]!=0)H++;return[c.xJ(new Uint8Array(U.buffer,C,H-C)),H-C]}function u(U,C){var H=C;
while(U[H]!=0)H++;for(var R=C;R<H;R++)if(U[R]>127)throw"e";return c.Db(U,C,H-C)}function f(U){s=U;M=1;
var C=[];while(M<U.length){var H=M,t=C.length,X=u(U,M);M+=X.length+1;var Q=h();if(Q>2)throw"e";var D=h(),L=[];
for(var R=0;R<D;R++){var E=u(U,M);M+=E.length+1;var _=h(),S=h(),W=h();L.push(Q==0?E:[W,S,_,E])}C.push([["enum","strc","mesg"][Q],X,L])}return C}return{aw6:f,a6e:m}}();
function bo(){}bo.kM=function(s,M){var O=Date.now(),P=new Uint8Array(s),y=8,F,U=0,B=0;if(P[0]==80&&P[1]==75){F=UZIP.parse(s);
P=F["canvas.fig"]}var A=c.je(P,y);y+=4;var h=[];while(y<P.length){var m=c.je(P,y);y+=4;var Z=P.slice(y,y+m);
if(P[y]==137&&P[y+1]==80){}else if(A>=70&&h.length!=0){var u=b_.Pa.Dc(Z);Z=u.length==0?UZIP.inflateRaw(Z):u}else Z=UZIP.inflateRaw(Z);
h.push(Z);y+=m}var f=gV.aw6(h[0]);for(var R=0;R<f.length;R++)if(f[R][1]=="Message")U=R;var C=gV.a6e(h[1],0,f,f[U],0)[0],H={nI:{},oS:{},arz:{},bb:F},t=C.nodeChanges;
for(var X=0;X<t.length;X++){var Q=t[X],D=Q.guid;H.oS[D.sessionID+","+D.localID]=Q}for(var X=0;X<t.length;
X++){var Q=t[X],D=Q.parentIndex;if(D){var L=bo.f2(H.oS,D.guid);if(L.children==null)L.children=[];L.children.push(Q)}}var E=t[0],_=E.children,S=new gi,W=[],g=[];
for(var D=0;D<_.length;D++){var x=_[D],V=x.children;if(x.name=="Internal Only Canvas"||V==null)continue;
var b=new gi;for(var R=0;R<V.length;R++){var N=V[R],J=N.transform,K=N.size;if(J.m00==1&&J.m10==0&&J.m01==0&&J.m11==1){var q=new gi(J.m02,J.m12,K.x,K.y);
b=b.v8(q)}}var d=S.$==0?0:S.$+100,l=b.v();l.x=0;l.y=d;S=S.v8(l);W[D]=b;g[D]=d}var T=dI.oN(new gi(0,0,S.A,S.$),8192*8192);
M.A=Math.round(S.A/T);M.$=Math.round(S.$/T);M.buffer=a.j(M.A*M.$*4);for(var D=0;D<_.length;D++){var x=_[D],V=x.children;
if(x.name=="Internal Only Canvas"||V==null)continue;V.sort(bo.aAD);var p=new kp(1,0,0,1,-W[D].x,g[D]-W[D].y);
p.scale(1/T,1/T);for(var R=0;R<V.length;R++){var N=V[R];bo.DS(N,[],p,C.blobs,M,0,H);B++}}M.Fh(B);M.Jf=!0;
if(T!=1)alert("File scaled down "+T+"x")};bo.DS=function(s,M,O,P,y,F,A){var h=bo,V=!1,b,K=!1,q,d;M=a.G(M);
var m=s.overrideKey?s.overrideKey:s.guid;for(var R=0;R<M.length;R++){var Z=M[R],u=Z.guidPath.guids;if(h.a5H(u[0],m)){if(u.length==1){var f={};
for(var U in s)f[U]=Z[U]!=null?Z[U]:s[U];s=f}else Z.guidPath.guids=u.slice(1)}}var C=s.type,H=s.children,t=s.size,X=s.effects,Q=y.Tk();
Q.jj(s.name);Q.x1(s.visible);Q.N_=Math.round(s.opacity*255);var D=h.w0(s.transform),L=D.v();L.concat(O);
if(t==null)t={x:0,y:0};var E=new gi(Math.round(L.cj),Math.round(L.H3),Math.round(t.x*L.dI()),Math.round(t.y*L.dI()));
if(E.A==0||isNaN(E.A))E.A=100;if(E.$==0||isNaN(E.$))E.$=100;var _=s.fillPaints,S=s.inheritFillStyleID;
if(S){var f=h.f2(A.oS,S);if(f)_=f.fillPaints}if(_==null)_=[];var _=h.ay$(_),W=_[0];if(W&&W.type=="IMAGE"&&h.Ta(P,bo.Se(W),A,!0)==null)W=null;
var g=s.strokePaints,S=s.inheritFillStyleIDForStroke;if(S){var f=h.f2(A.oS,S);if(f)g=f.fillPaints}if(g==null)g=[];
var g=h.ay$(g),x="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(C)!=-1;
if(x||C=="FRAME"||C=="INSTANCE"){b=new ad.Vp;h.aLf(s,P,b);V=a.z.rh(b.u);a.z.R7(b.u,L);var N=a.b.An(a.z._E(b.u));
if(!N.g3())E=N;if(A.nI.Va&&W){var J=ad.Vp.X4(A.nI.Va.u);for(var R=2;R<J.length;R++)if(J[R].VF!=null)J[R].VF=3;
b.u=b.u.concat(J.slice(2))}}if(W&&W.type=="IMAGE"){d=W.imageScaleMode;K=!0;var l=W.originalImageWidth,T=W.originalImageHeight;
if(l*T==0){var B=h.Ta(P,bo.Se(W),A);l=B.IK.A;T=B.IK.$}var p=l/T,I=t.x/t.y;q=Math.abs(p-I)}if(C=="FRAME"){}else if(x&&V&&K&&(d=="FIT"||d=="FILL"&&q<=.05||d=="STRETCH"&&q<=.05)){var w=h.Ta(P,bo.Se(W),A,!0),e=y.N4(w,Q.getName(),0,0);
e.Xa=Q.Xa;e.N_=Q.N_;Q=e;var G=new gi(0,0,t.x,t.y);if(d=="FIT"){var j=W.originalImageWidth,o=W.originalImageHeight,r=Math.min(t.x/j,t.y/o),k=j*r,a7=o*r;
G=new gi(G.x+(G.A-k)/2,G.y+(G.$-a7)/2,k,a7)}var Y=a.b.hC(G).L;a.b.M(Y,L,Y);Q.add.SoLd.Trnf=$.TR.kZ(Y);
Q.add.SoLd.nonAffineTransform=$.TR.kZ(Y);var v=[],X=s.effects,n=W.paintFilter;if(X)for(var R=0;R<X.length;
R++)if(X[R].type=="FOREGROUND_BLUR"){var cm=X[R],a5=bW.Nl("GsnB",{});v.push(a5);a5.v.enab.v=cm.visible;
a5.v.Fltr.v.Rds.v.val=cm.radius/2.4}if(n&&n.exposure!=0){var a5=bW.Nl("brit",{});v.push(a5);a5.v.Fltr.v.Brgh.v=Math.round(n.exposure*160);
a5.v.Fltr.v.useLegacy.v=!0}if(n&&n.vibrance!=0){var a5=bW.Nl("vibA",{});v.push(a5);a5.v.Fltr.v.Strt.v=Math.round(Math.round(n.vibrance*100))}if(v.length!=0){Q.add.SoLd.filterFX=bW.Yu();
y.hy({id:Q.add.SoLd.placed.v,S:new gi,buffer:a.j(1),$E:new ad.OL});Q.add.SoLd.filterFX.v.filterFXList.v=v}Q.VN(y,!1);
h.aaL(A,Q,y)}else if(x){h.gm(Q,b,s,W,g,L,E,P,y,A);if(X)for(var R=0;R<X.length;R++){var cm=X[R];if(cm.type!="FOREGROUND_BLUR")continue;
b.CN=cm.radius/2.4}Q.$k();Q.uH(y)}else if(C=="TEXT"){var gP=s.textData,cg=gP.layoutSize;if(cg==null)cg=s.size;
var a9=["LEFT","RIGHT","CENTER"].indexOf(s.textAlignHorizontal);if(a9==-1)a9=0;Q.add.lnsr="rend";Q.add.TySh=iP.cN(0,0);
Q.add.TySh.WY=new gi(0,0,100,100);var ew=L.v();Q.add.TySh.M=ew;var h7=Q.add.TySh.nA,bh=gP.characters;
if(s.textCase=="TITLE"){for(var R=0;R<bh.length;R++)if(R==0||bh[R-1]==" "){var ba=bh.slice(0,R),jx=bh.slice(R+1);
bh=ba+bh[R].toUpperCase()+jx}}bh=bh.replace(/\u2028/g,"\n");bh=bh.replace(/\u2029/g,"\n");bh=bh.replace(/\r\n/g," \n");
iP.Xq(h7,0,bh);var c4=s.textAutoResize,bq=gP.baselines;if(c4=="WIDTH_AND_HEIGHT"){var di=a9==0?0:a9==1?cg.x:cg.x/2,il=bq?bq[0].position.y:s.fontSize;
ew.translate(di*L.dI(),il*L.dI());iP.hV(h7,0)}else if(c4=="HEIGHT"||c4=="NONE"||c4==null){var il=bq?bq[0].position.y-s.fontSize*.7:0;
ew.translate(0,il*L.dI());iP.hV(h7,1);iP.w9(h7,[0,0,Math.round(cg.x),Math.round((c4=="NONE"?1.8:1)*cg.y)])}else throw c4;
if(bh!=""){var j0=iP.ty(h7,0,1);h.a9r(s,L,t,j0,Q,P,y,A);iP.UP(h7,0,bh.length,j0);var j1=gP.characterStyleIDs,b5=gP.styleOverrideTable;
if(j1){j1=j1.slice(0);for(var R=0;R<j1.length;R++)if(bh[R]=="\n")j1[R]=-R-1;var b4=[0],lm=0,ix=0;for(var R=0;
R<j1.length;R++){ix++;var jy=j1[R];if(R==0||jy==j1[R-1]){}else{b4.push(ix-1,R);ix=1}}b4.push(ix);for(var R=0;
R<b4.length;R+=2){var bz=b4[R],c5=b4[R+1];if(bh[bz]=="\n")continue;var jy=j1[bz];if(jy!=0){var k0;for(var cd=0;
cd<b5.length;cd++)if(b5[cd].styleID==jy)k0=b5[cd];var j0=iP.ty(h7,bz,bz+1);h.a9r(k0,L,t,j0,Q,P,y,A);
iP.UP(h7,bz,bz+c5-1,j0)}}}}}else if(C=="SYMBOL"){}else if(C=="INSTANCE"&&s.symbolData){var fz=s.symbolData,fu=fz.symbolOverrides,f=h.f2(A.oS,fz.symbolID);
if(f)H=f.children;else console.log(s.name,"symbol not found",fz.symbolID);M=M.slice(0);for(var R=0;R<fu.length;
R++)M.push(fu[R])}else console.log(C);if(!1){}else if(H&&!x){y.U.push(y.kA());var c6=!1,k7=F==0&&C!="SYMBOL"&&C!="INSTANCE";
if(k7){if(E.g3())console.log(E);Q.Y3(E)}W=_[_.length-1];if(W&&W.type=="IMAGE"&&h.Ta(P,bo.Se(W),A,!0)==null)W=null;
if(k7&&W&&W.type=="SOLID"){var hP=W.color;Q.add.artb.artboardBackgroundType.v=4;Q.add.artb.Clr=h.K7(hP)}else if((W||g[0])&&b){var e1=y.Tk();
e1.jj("Background");h.gm(e1,b,s,W,g,L,E,P,y,A);e1.$k();e1.uH(y);y.U.push(e1);c6=!0}H.sort(h.aAD);var fs=A.nI;
A.nI={};for(var eh=0;eh<H.length;eh++)h.DS(H[eh],M,L,P,y,F+1,A);A.nI=fs;Q.add.lsct=!1?dU.l9:dU.aY;Q.mX="pass";
var gW=Q.CD();Q.Xa=24;Q.x1(gW);var hk=F!=0&&_.length!=0&&!s.frameMaskDisabled&&s.containerSupportsFillStrokeAndCorners;
if(!c6&&hk&&b){Q.add.vmsk=b;Q.$k();Q.uH(y)}else h.aaL(A,Q,y);y.U.push(Q)}else if(C=="FRAME"&&W&&b){h.gm(Q,b,s,W,g,L,E,P,y,A);
Q.$k();Q.uH(y);y.U.push(Q)}else if(s.mask){if(b){A.nI.Va=b}}else{var jz=[],jn=1;if(X)for(var lh=0;lh<X.length;
lh++){var cm=X[lh],ag=cm.color,eo=cm.type,aC=["DROP_SHADOW","INNER_SHADOW"].indexOf(eo);if(aC!=-1){var e8=["DrSh","IrSh"][aC],lb=JSON.parse(aV.d$[aV.order.indexOf(e8)]);
jz.push([e8,lb]);lb.enab.v=cm.visible;lb.Md.v.BlnM=h0.Qz(h.aCg(cm.blendMode));lb.Opct.v.val=Math.round(100*ag.a);
lb.blur.v.val=Math.round(cm.radius*L.dI());lb.Clr=h.K7(ag);var di=cm.offset.x,il=cm.offset.y;lb.uglg.v=!1;
lb.lagl.v.val=Math.round(180/Math.PI*Math.atan2(il,-di));lb.Dstn.v.val=Math.round(Math.sqrt(di*di+il*il)*L.dI())}}if(C=="TEXT"&&_[0]&&_[0].type!="SOLID")jn=0;
for(var R=jn;R<_.length;R++){var k3=_[R],cP=h.NP(s,k3,L,E,P,y,A);if(cP[0]=="GdFl")jz.push(["GrFl",cP[1]]);
else if(cP[0]=="SoCo")jz.push(["SoFi",cP[1]]);else if(cP[0]=="PtFl")jz.push(["patternFill",cP[1]]);else if(cP[0]=="None"){}else throw cP}if(!x)for(var R=0;
R<g.length;R++){var k3=g[R],cP=h.NP(s,k3,L,E,P,y,A);if(cP[0]=="SoCo"){var lb=JSON.parse(aV.d$[aV.order.indexOf("FrFX")]);
jz.push(["FrFX",lb]);lb.enab=cP[1].enab;lb.Opct=cP[1].Opct;lb.Md=cP[1].Md;lb.Clr=cP[1].Clr;lb.Sz.v.val=Math.round(s.strokeWeight);
var cV=s.strokeAlign;if(cV)lb.Styl.v.FStl=aV.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(cV)]}}if(jz.length!=0){var l2=JSON.parse(aV.default);
for(var R=0;R<aV.order.length;R++)l2[aV.e1[R]]={t:"VlLs",v:[]};for(var R=0;R<jz.length;R++){var dS=jz[R],e8=aV.e1[aV.order.indexOf(dS[0])];
l2[e8].v.unshift({t:"Objc",v:dS[1]})}if(H==null)Q.add.lmfx=l2}y.U.push(Q)}};bo.gm=function(s,M,O,P,y,F,A,h,m,Z){var u=bo;
s.Xa|=16;s.add.vmsk=M;var f=s.add.vstk=aV.To.Jb(),U=u.NP(O,P,F,A,h,m,Z);f.fillEnabled.v=U[0]!="None";
if(U[0]=="None"){s.add.SoCo=U[1]}else{u.gb(U,s);s.add[U[0]]=U[1]}var U=u.NP(O,y[0],F,A,h,m,Z);if(U[0]!="None"){var f=s.add.vstk;
f.strokeEnabled.v=!0;f.strokeStyleLineWidth.v.val=O.strokeWeight*F.dI();f.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aV.To.UK[["INSIDE","CENTER","OUTSIDE"].indexOf(O.strokeAlign)];
var C={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[U[0]],H=["SoFi","GrFl","patternFill"].indexOf(C),t=[aV.IA,aV.Pd,aV.O5][H];
f.strokeStyleContent.v={classID:aV.To.hF[0]};var X=O.dashPattern;if(X)f.strokeStyleLineDashSet.v=cb.QN(X,1/O.strokeWeight);
var Q=f.strokeStyleContent.v={classID:aV.To.hF[H]};for(var R=0;R<t.length;R++)Q[t[R]]=U[1][t[R]];if(!f.fillEnabled.v)u.gb(U,s)}};
bo.gb=function(s,M){var O=s[1].Opct.v.val;if(O!=100)M.N_=Math.round(M.N_/255*(O/100)*255)};bo.aAD=function(s,M){var O=s.parentIndex.position,P=M.parentIndex.position;
return O>P?1:-1};bo.ay$=function(s){for(var R=1;R<s.length;R++){var M=s[R];if(M.type=="IMAGE"&&M.opacity==1){s=s.slice(R);
break}}for(var R=0;R<s.length;R++){var M=s[R],O=M.imageThumbnail,P=M.type=="IMAGE";if(P&&(M.image==null||M.image.dataBlob==null)&&O&&O.dataBlob)M.image=O;
if(!M.visible||P&&M.image==null){s.splice(R,1);R--}}return s};bo.aaL=function(s,M,O){if(s.nI.Va){M.add.vmsk=s.nI.Va.v();
M.$k();M.uH(O)}};bo.a9r=function(s,M,O,P,y,F,A,h){var m=s.fontSize,Z=s.lineHeight,u=s.fontName,f=s.textAlignHorizontal,U=s.textTracking,C=s.textCase,H=s.textDecoration;
if(m==null)m=P.TY.FontSize;if(u){var t=u.postscript;if(t==""){var X=u.family,Q=u.style;t=X.split(" ").join("")+"-"+Q}iP.Z2(P,t)}if(m!=null)P.TY.FontSize=Math.round(m);
if(H=="UNDERLINE")P.TY.Underline=!0;if(U)P.TY.Tracking=Math.round(U*1e3);if(C)P.TY.FontCaps=C=="UPPER"?2:0;
if(Z&&(Z.units!="PERCENT"||Z.value!=100)){if(m==null)m=15;var D=Z.value;if(Z.units=="PERCENT")D=1*m*D/100;
if(Z.units=="RAW")D=1*m*D;P.TY.AutoLeading=!1;P.TY.Leading=Math.round(D)}if(f)P.Gy.Justification=["LEFT","RIGHT","CENTER"].indexOf(f);
var L=s.fillPaints,E=s.inheritFillStyleID;if(E){var _=bo.f2(h.oS,E);if(_)L=_.fillPaints}if(L&&L[0]){var S=bo.NP(s,L[0],M,O,F,A,h);
if(S[0]=="SoCo"){var W=a.wv.sl(S[1].Clr.v);P.TY.FillColor={Type:1,Values:[1,W.o/255,W.R/255,W.X/255]};
bo.gb(S,y)}}};bo.NP=function(s,M,O,P,y,F,A){var h=bo,m,Z,u=s.size;if(u==null)u={x:0,y:0};if(M){var f=M.type,U=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(f);
if(f=="SOLID"){m="SoCo";var C=M.color;Z=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);Z.Clr=h.K7(C)}else if(f=="PATTERN"){m="SoCo";
var C=M.color;Z=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);console.log(f)}else if(U!=-1){var H=JSON.parse(aV.d$[aV.order.indexOf("GrFl")]),t=H.Grad.v;
t.Intr.v=0;H.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][U];var X=[],Q=M.stops;for(var R=0;R<Q.length;R++){var D=Q[R],L=D.color;
X.push([D.position,[L.r,L.g,L.b],L.a])}a.wv.mv(X,t);var E=h.w0(M.transform);E.or();var _=E.v();if(u)_.scale(u.x,u.y);
_.concat(O);var S=new j6(0,.5),W=new j6(1,.5);S=_.Kw(S);W=_.Kw(W);if(!0){S.x=W.x+.5*(S.x-W.x);S.y=W.y+.5*(S.y-W.y)}a.wv.bt(S,W,P,H);
if(U==3){if(_.cd*_.zv-_.X*_.xN<0)H.Rvrs.v=!H.Rvrs.v}m="GdFl";Z=H}else if(f=="IMAGE"){var H=JSON.parse(aV.d$[aV.order.indexOf("patternFill")]),E=h.w0(M.transform);
E.or();var g=bo.Se(M),x=A.arz[g];if(x==null){var V=h.Ta(y,g,A);if(V==null)V={data:a.j(4),IK:new gi(0,0,1,1)};
x=A.arz[g]={};x.id=fr.iY()+"-d71c-11e5-b1ae-a548a96e5f9f";x.ah=[new Uint8Array(V.data),V.IK];if(E.cd<0){var b=x.ah[0].slice(0);
a.F.br(b,x.ah[0],V.IK.A,V.IK.$)}x.name="someImage";F.mo(x)}if(E.cd<0)E.cd=-E.cd;var N=["FILL","FIT","STRETCH","TILE"].indexOf(M.imageScaleMode),J=N==3?M.scale:1;
cb.a0y(x,H,u.x,u.y,N,O,E,J);m="PtFl";Z=H}else if(f=="VIDEO"){m="SoCo";Z=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);
Z.Clr=h.K7({r:255,g:0,b:255})}else throw f;if(Z)Z.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(M.opacity*100)}}}if(m==null||M.opacity<.001){m="None";
Z={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:0,R:0,X:0})}}}return[m,Z]};bo.Se=function(s){var M=s.image,O=M.dataBlob;
if(O==null){O="";for(var R=0;R<20;R++)O+=M.hash[R].toString(16).padStart(2,"0")}return O};bo.Ta=function(s,M,O,P){if(s[M]){var y=s[M];
if(P)return y.bytes;if(y.rslt)return y.rslt;var F=y.bytes.buffer;y.rslt=bo.aBI(F);return y.rslt}else{if(O.bb==null)return null;
if(P)return O.bb["images/"+M];var A=O.bb["images/"+M];if(A==null)return null;var F=A.buffer;if(O.bb["images/-"+M])return O.bb["images/-"+M];
O.bb["images/-"+M]=bo.aBI(F);return O.bb["images/-"+M]}};bo.aBI=function(s){var M=b_.WG(s);if(M=="fpng")M="png";
var O=b_.O7(M);try{var P=O.AR(s)[0];if(P.depth==16){P.depth=8;P.data=a.Gp(new Uint16Array(P.data),8).buffer}return P}catch(hj){return{data:a.j(4),IK:new gi(0,0,1,1)}}};
bo.aLf=function(s,M,O){var P=s.type,y=s.size,F=s.cornerRadius,Z;if(F==null)F=0;var A=y.x,h=y.y,m=[F,F,F,F],u=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var R=0;R<4;R++)if(s[u[R]]!=null)m[R]=s[u[R]];if(P=="RECTANGLE"||P=="ROUNDED_RECTANGLE"||P=="FRAME"||P=="INSTANCE"){Z=a.z.uU.Rect(0,0,A,h,m)}else if(P=="ELLIPSE"){var f=s.arcData,U=f?f.startingAngle:0,C=f?f.endingAngle:2*Math.PI,H=f?f.innerRadius:0;
if(U==0&&C>1.999*Math.PI)Z=a.z.uU.Y9(0,0,A,h,0);else Z=a.z.uU.axG(A/2,h/2,h/2,U,C);if(H!=0&&H!=1){var t=ad.Vp.X4(Z).slice(3);
t.reverse();for(var R=0;R<t.length;R++){var X=t[R],Q=X.Rb;X.Rb=X.XO;X.XO=Q}var D=new kp;D.translate(-A/2,-h/2);
D.scale(H,H);D.translate(A/2,h/2);a.z.R7(t,D);Z=Z.concat(t);Z[2].length*=2}}else if(P=="LINE"){Z=a.z.uU.Rect(0,0,A,h,0);
Z.pop();Z.pop();Z[2].length=2}else if(P=="STAR"){Z=a.z.uU.a2C(A/2,h/2,A/2,2*Math.PI*(1/4),5,0,s.starInnerScale)}else if(P=="REGULAR_POLYGON"){Z=a.z.uU.Ll(.5,.5,.5,Math.PI/2,s.count,0);
var L=new kp;L.scale(A,h);a.z.R7(Z,L)}else if(P=="BOOLEAN_OPERATION"){Z=[{I:6},{I:8,all:0}];var E=s.children,_=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(s.booleanOperation);
if(_==-1)throw s;if(E==null)E=[];for(var R=0;R<E.length;R++){var S=E[R],W=new ad.Vp,g=bo.aLf(S,M,W);
if(W.u==null)continue;a.z.R7(W.u,bo.w0(S.transform));Z=Z.concat(W.u.slice(2))}for(var R=3;R<Z.length;
R++)if(Z[R].VF!=null)Z[R].VF=_}else if(P=="VECTOR"){var x,V,I=3;if(!0){var b=s.vectorData;if(b==null)return;
x=b.normalizedSize;V=b.vectorNetworkBlob}var N=M[V].bytes,J=new Uint32Array(N.buffer),K=new Float32Array(N.buffer),q=J[0],d=J[1],l=J[2],T=[],B=[],p=[],w=I+q*3,e=w+d*7;
for(var R=0;R<q;R++){var G=I+R*3;if(Math.abs(K[G+0])>1e-7)throw"e";T.push(new j6(K[G+1],K[G+2]))}for(var R=0;
R<d;R++){var j=w+R*7;B.push([J[j+0],J[j+1],K[j+2],K[j+3],J[j+4],K[j+5],K[j+6]])}for(var R=0;R<l;R++){var o=J[e+1],r=p[R]=[];
e+=2;for(var k=0;k<o;k++){var a7=J[e++],Y=r[k]=[];for(var v=0;v<a7;v++)Y[v]=J[e+v];e+=a7}}if(e!=J.length&&e!=J.length-1)throw"e";
if(p.length==0&&B.length!=0){var n=new Uint8Array(T.length),cm=new Uint8Array(T.length),a5=-1;for(var R=0;
R<B.length;R++){var gP=B[R];n[gP[1]]++;n[gP[4]]++;cm[gP[1]]=1}for(var R=0;R<T.length;R++){if(n[R]==1&&cm[R]==1){a5=R;
break}}if(a5!=-1)for(var R=0;R<B.length;R++){if(B[R][1]==a5){var Q=B[0];B[0]=B[R];B[R]=Q;break}}var cg=B[0][4];
for(var R=1;R<B.length;R++){var a9=-1;for(var k=R;k<B.length;k++)if(B[k][4]==cg)a9=k;for(var k=R;k<B.length;
k++)if(B[k][1]==cg)a9=k;if(a9!=-1){var ew=0,Q=B[a9];B[a9]=B[R];B[R]=Q;if(Q[1]!=cg){ew=Q[1];Q[1]=Q[4];
Q[4]=ew;ew=Q[2];Q[2]=Q[5];Q[5]=ew;ew=Q[3];Q[3]=Q[6];Q[6]=ew}}cg=B[R][4]}p.push([[]]);for(var R=0;R<B.length;
R++)p[0][0].push(R)}var h7=[],bh=[];for(var ba=0;ba<p.length;ba++){for(var jx=0;jx<p[ba].length;jx++){var c4=p[ba][jx],bq=0;
if(c4.length>1){var di=B[c4[0]],il=B[c4[1]];bq=di[4]==il[1]?1:0}for(var R=0;R<c4.length;R++){var j0=B[c4[R]],j1=1,b5=4;
if(bq==0){j1=4;b5=1}var b4=T[j0[j1]],lm=T[j0[b5]];if(R==0){bh.push("M");h7.push(b4.x,b4.y)}bh.push("C");
h7.push(b4.x+j0[j1+1],b4.y+j0[j1+2],lm.x+j0[b5+1],lm.y+j0[b5+2],lm.x,lm.y)}}}Z=a.b.Ie({L:h7,J8:bh},!1);
if(F!=0){var m=[],ix=Z[2].length;for(var R=0;R<ix;R++)m.push(F);if(a.z.MU(Z))a.z.XC(Z,2,m)}var jy=new kp;
jy.scale(x.x==0?1:y.x/x.x,x.y==0?1:y.y/x.y);a.z.R7(Z,jy)}O.u=Z};bo.f2=function(s,M){return s[M.sessionID+","+M.localID]};
bo.a5H=function(s,M){return s.sessionID==M.sessionID&&s.localID==M.localID};bo.aCg=function(s){var M={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",LINEAR_DODGE:"lddg",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[s];
if(M==null)throw s;return M};bo.K7=function(s){return{t:"Objc",v:a.wv.gN({o:s.r*255,R:s.g*255,X:s.b*255})}};
bo.w0=function(s){if(s==null)return new kp;var M=[s.m00,s.m10,s.m01,s.m11,s.m02,s.m12];for(var R=0;R<6;
R++)if(Math.abs(M[R])<1e-20)M[R]=0;return new kp(M[0],M[1],M[2],M[3],M[4],M[5])};function az(){}az.kM=function(){var s=c.Db;
function M(C,H,t,X){var Q=X?[]:{};while(H<C.length-1&&C[H]!=125){var D=s(C,H,3),L=s(C,H+3,1),E;H+=4;
H++;if(L=="v"){var _=M(C,H,t+1,D=="ELM"||D=="TIL"||D=="TFS");E=_.K;H=_.p}else if(L=="i"||L=="f"){var S=H;
while(C[S]!=125)S++;var W=s(C,H,S-H);E=L=="i"?parseInt(W,16):parseFloat(W);H=S+1}else if(L=="s"){var g=c.m4(C,H),W="";
H+=2;for(var R=0;R<g;R++)W+=String.fromCharCode(C[H+2*R+1]);E=W;H=H+2*g+1}else if(L=="b"){E=C[H]==49;
H=H+2}else throw"e";if(X)Q.push([D,E]);else if(Q[D]==null)Q[D]=E;else{if(!(Q[D]instanceof Array))Q[D]=[Q[D]];
Q[D].push(E)}}H++;return{K:Q,p:H}}function O(C,H){var t=P(C).slice(1),C=H.Clr.v;C.Rd.v=t[0]*255;C.Grn.v=t[1]*255;
C.Bl.v=t[2]*255}function P(C){return[(C>>>24&255)/255,(C>>>16&255)/255,(C>>>8&255)/255,(C>>>0&255)/255]}function y(C,H){var t=H&4278190080|(H&255)<<16|(H>>>8&255)<<8|H>>>16&255;
a.vK(C,t)}function F(C,H){var t=C.TSZ,X=C.WPX,Q=C.HPX,D=C.TIL,L=new gi(0,0,X,Q),E=a.j(X*Q*4),_=0;for(var S=0;
S<Q;S+=t)for(var W=0;W<X;W+=t){var g=new gi(W,S,t,t),x,V=D[_];if(V[0]=="TMC"){x=a.j(g.C()*4);y(x,V[1])}else if(V[0]=="TID"){x=H[V[1]]}a.FP(x,g,E,L);
_++}return[E,L]}function A(C,H){C=new Uint8Array(C);var t=8,X,Q={},d=0;while(t<C.length){var D=c.h4(C,t);
t+=4;var L=s(C,t,4);t+=4;if(L=="mkTS"){var E=pako.inflate(C.slice(t,t+D)),_=M(E,0,0);X=_.K}else if(L=="mkBT"){var S=c.h4(C,t+4),W=c.h4(C,t+8),E=pako.inflate(C.slice(t+76,t+D));
if(W==0)for(var R=0;R<E.length;R+=4){var g=E[R],x=E[R+1],V=E[R+2],b=E[R+3];E[R+3]=g;E[R+2]=b;E[R+1]=V;
E[R]=x}else{var N=a.j(E.length*4);N.fill(255);a.Rm(E,N);E=N}Q[S]=E}t+=D+4}var J=X.PDC,K=J?J instanceof Array?J:[J]:[X.MKB],q=new gi;
for(var R=0;R<K.length;R++){var l=K[R];q=q.v8(new gi(0,d,l.WID,l.HIT));d+=l.HIT+100}H.A=q.A;H.$=q.$;
H.buffer=a.j(q.C()*4);H.Fh(K.length);d=0;for(var T=0;T<K.length;T++){H.U.push(H.kA());var l=K[T],B=l.WID,p=l.HIT,I=l.BGC,w=(l.LYL?l:X).LYL.LAY,j=3;
for(var R=0;R<w.length;R++)m(w[R],H,null,Q,new kp(1,0,0,1,-l.XLC,-l.YLC+d));var e=H.Tk();H.U.push(e);
var G=new gi(0,d,B,p);d+=p+100;e.Y3(G);if(I>>>24!=0){var o=a.wv.gN({o:I>>>16&255,R:I>>>8&255,X:I>>>0&255});
e.add.artb.Clr={t:"Objc",v:o};j=4}e.add.artb.artboardBackgroundType.v=j;e.jj(l.PGN?l.PGN:"Page "+(T+1));
e.add.lsct=dU.aY;e.mX="pass";e.Xa=24}}function h(C,H,t){var X=C[H];return X instanceof Array?X[t]:X}function m(C,H,t,X,Q){var D=H.Tk();
if(C.VIS!=null)D.x1(C.VIS);if(C.VIF!=null)D.x1(C.VIF.VIS);if(C.OPA!=null)D.N_=Math.round(255*C.OPA/1e3);
D.mX=C.CLL||t=="GRP"?"pass":"norm";if(C.BLD!=null){var L=C.BLD,E={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[L+""];
if(E==null)console.log(C.OBN,L);else D.mX=E;if(L==30)D.N_>>>=1}if(C.CLL){D.jj(C.LNM);H.U.push(H.kA());
var _=C.CLL.CEL;if(_.length==null)_=[_];for(var S=_.length-1;S>=0;S--){var W=_[S].ELM;for(var R=W.length-1;
R>=0;R--)m(W[R][1],H,W[R][0],X,Q)}D.add.lsct=C.DIS?dU.l9:dU.aY;D.Xa|=24}else if(t=="GRP"){var g=D.add.lmfx=u(C.EFL),x;
H.U.push(H.kA());var W=C.ELM,V=C.MRM;if(C.MNA){x=W[0][1];W=W.slice(1)}D.jj("Group: "+W.length+" objects");
for(var R=W.length-1;R>=0;R--)m(W[R][1],H,W[R][0],X,Q);if(x){if(C.MRX){var b=F(x,X),N=D.$E=new ad.OL;
N.S=b[1].v();N.S.x=x.XLC;N.S.y=x.YLC+Q.H3;N.N=a.j(N.S.C());a.YT(b[0],N.N,0);a.or(N.N)}else{Z(D,x,Q);
D.$k();D.uH(H)}}if(V){Z(D,V.PTH,Q);D.$k();D.uH(H)}D.add.lsct=dU.aY;D.Xa|=24}else if(t=="IMG"){D.jj(C.OBN?C.OBN:"Bitmap");
var b=F(C,X);D.S=b[1].v();D.S.x=C.XLC;D.S.y=C.YLC+Q.H3;D.buffer=b[0]}else if(t=="TXT"){var J=C.TFS,T="";
D.add.lnsr="rend";D.add.TySh=iP.cN(0,0);D.add.TySh.WY=new gi(0,0,100,100);var K=new kp(1,0,0,1,C.LFT,C.TOP);
if(C.MTX){var q=C.MTX,N=new kp(q.M00,q.M01,q.M10,q.M11,q.M20,q.M21);K.concat(N)}K.concat(Q);D.add.TySh.M=K;
var d=D.add.TySh.nA,l=iP.ty(d,0,0),B=h(C,"FON");if(B)iP.Z2(l,B);var p=h(C,"PTS");if(p)l.TY.FontSize=Math.round(p);
var I=h(C,"ITL");if(I)l.TY.FauxItalic=I;if(C.PAT)l.TY.FillColor={Type:1,Values:P(h(C.PAT,"FCL"))};for(var R=0;
R<J.length;R++){var w=J[R][0],e=J[R][1];if(w=="TRN"){e=e.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
e=e.replaceAll("\x03","\n").replaceAll("\r","\n");iP.Xq(d,T.length,e);iP.UP(d,T.length,T.length+e.length,l);
T+=e}else if(w=="FON")iP.Z2(l,e);else if(w=="PTS")l.TY.FontSize=Math.round(e);else if(w=="ITL")l.TY.FauxItalic=e;
else if(w=="UND")l.TY.Underline=e;else if(w=="FCL")l.TY.FillColor={Type:1,Values:P(e)};else if(w=="LED"){l.TY.Leading=e*l.TY.FontSize;
l.TY.AutoLeading=!1}else if(w=="JST")l.Gy.Justification=[0,2,1,3,5,4,6,7,8][e]}D.jj(T.slice(0,255));
var G=C.RIT-C.LFT,j=C.BOT-C.TOP;if(C.IMG){m(C.IMG,H,"IMG",X,Q);var r=H.U.pop();D.buffer=r.buffer;D.S=r.S.v()}iP.hV(d,1);
iP.w9(d,[0,0,G,j])}else if(t=="PTH"){D.jj(C.OBN?C.OBN:"Path");D.Xa|=16;var k=!1;Z(D,C,Q);var a7=D.add.vmsk,Y=D.add.vstk,v=a.z._E(a7.u),n=C.PAT,cm=n.BPL,a5=n.FPL,gP=n.TXF;
if(a5&&a5.FEF)a7.CN+=a5.FEF/2.4;if(cm){var cg=cm.CAT;Y.strokeEnabled.v=!0;Y.strokeStyleLineWidth.v.val=cm.BDI;
Y.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aV.To.UK[C.BRP];O(n.BCL,Y.strokeStyleContent.v);
if(cg!="bc_Basic"&&cg!="bc_Pencil")k=!0}Y.fillEnabled.v=a5!=null;if(a5==null){D.add.SoCo=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);
O(0,D.add.SoCo)}else if(a5.CAT=="fc_Solid"){D.add.SoCo=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);O(C.PAT.FCL,D.add.SoCo)}else if(a5.CAT=="fc_Linear"||a5.CAT=="fc_Circular"||a5.CAT=="fc_Elliptical"){var a9=a5.CAT=="fc_Linear",ew=D.add.GdFl=JSON.parse(aV.d$[aV.order.indexOf("GrFl")]),h7=ew.Grad.v,bh=[],ba=a5.FGL,jx,c4=[];
if(ba.FGY){var bq=ba.FGY,jx=bq.FG0.FGI,c4=bq.FG1.FGI}else jx=ba.FGV.FGI;for(var R=0;R<jx.length;R++){var di=jx[R],il=P(di.FGC),j0=1;
if(c4.length==jx.length)j0=P(c4[R].FGC)[0];bh.push([di.FGP,il.slice(1),j0])}ew.Type.v.GrdT=a9?"Lnr":"Rdl";
a.wv.mv(bh,h7);h7.Intr.v=0;var j1=C.PRI?C.PRI:C,b5=new j6(j1.PSX,j1.PSY),b4=new j6(j1.PEX,j1.PEY);if(a5.CAT=="fc_Elliptical"&&j1.PFX!=null){var lm=new j6(j1.PFX,j1.PFY),ix=j6.gp(b5,b4),jy=j6.gp(b5,lm);
if(jy<ix){var bz=ix;ix=jy;jy=bz}b4=new j6(b5.x+(ix+jy)/2,b5.y);if(ix/jy<.5)k=!0}if(a9){b5.x=(b5.x+b4.x)/2;
b5.y=(b5.y+b4.y)/2}a.wv.bt(b5,b4,v,ew)}else console.log(a5.CAT);var g=D.add.lmfx=u(C.EFL,a7);if(a5&&a5.FTB!=0&&gP){var b=F(gP.MSK,X),c5={};
c5.id=fr.iY()+"-d71c-11e5-b1ae-a548a96e5f9f";c5.name="someImage";c5.ah=b;H.mo(c5);var k0=b[0];for(var R=0;
R<k0.length;R+=4){k0[R+3]=255-k0[R];k0[R]=k0[R+1]=k0[R+2]=255}var ew=JSON.parse(aV.d$[aV.order.indexOf("patternFill")]);
ew.Opct.v.val=Math.round(a5.FTB/10);ew.Algn.v=!0;ew.Ptrn.v.Idnt.v=c5.id;g.patternFillMulti.v.unshift({t:"Objc",v:ew})}if(k&&C.IMG){m(C.IMG,H,"IMG",X,Q);
var cd=H.U[H.U.length-1];cd.N_=D.N_;return}D.$k();D.uH(H)}else if(t=="URL")return;else{console.log("unknown layer type",t,C);
D.jj("Layer")}H.U.push(D)}function Z(C,H,t){if(H.PBL==null)return;var X=C.add.vmsk=new ad.Vp,Q=C.add.vstk=aV.To.Jb(!0),D=H.PBL.PBP;
if(!(D instanceof Array))D=[D];for(var L=0;L<D.length;L++){var E=D[L].PBT;if(E==null)continue;if(!(E instanceof Array))E=[E];
var _=D[L].ISC?0:3;X.u.push({I:_,length:E.length,VF:0,gW:2,zm:0,fd:0});for(var R=0;R<E.length;R++){var S=E[R],W=S.XLC,g=S.YLC,x=[W,g,W,g,W,g],V="XPC YPC XLC YLC XSC YSC".split(" ");
for(var b=0;b<6;b++){var N=V[b],J=S[N];if(J!=null)x[b]=J}X.u.push({I:_+2,nr:new j6(W,g),Rb:new j6(x[0],x[1]),XO:new j6(x[4],x[5])})}}a.z.R7(X.u,t)}function u(C,H){var t=JSON.parse(aV.default);
for(var R=0;R<aV.order.length;R++)t[aV.e1[R]]={t:"VlLs",v:[]};if(C==null||C.EPS==null)return t;var X=C.EPS;
if(!(X instanceof Array))X=[X];for(var R=0;R<X.length;R++){var Q=X[R].DCE,D={};for(var L=0;L<Q.length;
L++)D[Q[L].DCK]=Q[L].DCV;if(D.EffectIsVisible=="false")continue;var E=D.mkbFile_WriteOnly_TemporaryEffectUiName;
if(E=="Gaussian Blur..."&&H){H.CN+=parseFloat(D.gaussian_blur_radius);continue}var _=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(E);
if(_==-1){continue}var S=["DrSh","ebbl","IrGl","OrGl"][_],W=aV.e1[aV.order.indexOf(S)],g=JSON.parse(aV.d$[aV.order.indexOf(S)]);
t[W].v.unshift({t:"Objc",v:g});if(S=="DrSh"){g.uglg.v=!1;f(D,"ShadowDistance",g,"Dstn");f(D,"ShadowBlur",g,"blur");
f(D,"ShadowAngle",g,"lagl",180);g.Opct.v.val=100;U(D,"ShadowColor",g,"Clr")}if(S=="IrGl"){g.Md.v.BlnM="Nrml";
var x=D.MaskSoftness,V=D.GlowWidth;if(x&&V){x=parseInt(x);V=parseInt(V);g.blur.v.val=V+x;g.Ckmt.v.val=Math.round(100*V/(V+x))}f(D,"BevelContrast",g,"Opct");
U(D,"OuterBevelColor",g,"Clr")}if(S=="OrGl"){g.Md.v.BlnM="Nrml";var x=D.MaskSoftness,V=D.GlowWidth;if(x&&V){x=parseInt(x);
V=parseInt(V);g.blur.v.val=V+x}f(D,"BevelContrast",g,"Opct");U(D,"OuterBevelColor",g,"Clr")}if(S=="ebbl"){g.uglg.v=!1;
f(D,"BevelWidth",g,"blur");f(D,"AngleSoftness",g,"Sftn");f(D,"BevelContrast",g,"srgR");f(D,"LightAngle",g,"lagl")}}return t}function f(C,H,t,X,Q){var D=C[H];
if(Q==null)Q=0;if(D)t[X].v.val=parseInt(D)+Q}function U(C,H,t,X){var Q=C[H];if(Q){Q=Q.slice(1);if(Q.length==6)Q=Q+"ff";
if(Q.length!=8)throw"e";var D=P(parseInt(Q,16)),L=t[X].v;L.Rd.v=D[0]*255;L.Grn.v=D[1]*255;L.Bl.v=D[2]*255;
t.Opct.v.val=Math.round(t.Opct.v.val/100*D[3]*100)}}return A}();var cJ=function(){function s(A){var h=new Uint8Array(A.length);
c.Eu(h,0,A);return h}function M(A){var h=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",s("")],m=h.length,u=0;
h.push("<< /AIMetaData  "+(m+2)+" 0 R /AIPrivateData1 "+(m+3)+" 0 R  /AIPrivateData2 "+(m+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
h.push(s(""));h.push(s(""));h.push(A);var Z=new jY,f=[];function U(X){c.qe(Z,u,X);u+=X.length}U("%PDF-1.5\n");
for(var R=0;R<h.length;R++){f.push(u);U(R+1+" 0 obj\n");var C=h[R];if(typeof C=="string")U(h[R]+"\n");
else{var H=pako.deflate(C);U("<< /Length "+H.length+" /Filter [ /FlateDecode ] >>\nstream\n");Z.Qv(u,H.length);
Z.data.set(H,u);u+=H.length;U("\nendstream\n")}U("endobj\n")}var t=u;U("xref\n0 "+(f.length+1)+"\n0000000000 65535 f\r\n");
for(var R=0;R<f.length;R++)U((f[R]+"").padStart(10,"0")+" 00000 n\r\n");U("trailer\n<< /Root 1 0 R /Size "+(f.length+1)+" >>\nstartxref\n"+t+"\n%%EOF\n");
return Z.data.slice(0,u)}function O(A,h){var m=Date.now(),Z=new Uint8Array(A),u,f=Z[2]==68;if(h)console.log(!f?"EPS":"PDF");
if(f){var U=c.Ah(Z,"/AIMetaData "),S,W,g;while(Z[U]!=60)U--;U--;var C=c.Ah(Z,">>",U),H=c.Db(Z,U+2,C-U-2).split("/"),t=[];
for(var R=0;R<H.length;R++){var X=H[R],Q=X.startsWith("AIPrivateData"),D=X.startsWith("AIPDFPrivateData");
if(!Q&&!D)continue;var L=X.trim().split(/\s+/),E=parseInt(L[1]),_=parseInt(L[0].slice(Q?13:16));t.push([_,E])}if(h)console.log("--- map made",Date.now()-m);
m=Date.now();while(!0){var x=FromPDF.indexOfXref(Z),V=[],b=FromPDF.readXrefTrail(Z,x,V),N={buff:Z,off:0},J=!1;
S=new Array(t.length);W=!1;g=!1;for(var R=0;R<t.length;R++){var _=t[R][0],E=t[R][1],l=0;if(V[E]==null){J=!0;
break}var K=FromPDF.getIndirect(E,0,N,V),q=K.buff,d=K["/Filter"];if(d!=null&&typeof d=="string")d=[d];
var T=c.Db(q,l,l+20);if(T=="%AI12_CompressedData"){l+=20;W=!0}else if(T=="%AI24_ZStandard_Data"){l+=20;
g=!0}q=new Uint8Array(q.buffer,q.byteOffset+l,q.length-l);if(d)for(var B=0;B<d.length;B++){var p=d[B];
if(p=="/FlateDecode")q=pako.inflate(q);else if(p=="/ASCIIHexDecode")q=FromPS.F.HexDecode({buff:q,off:0});
else if(p=="/ASCII85Decode")q=FromPS.F.ASCII85Decode({buff:q,off:0});else throw p}S[_-1]=q}if(J){console.log("extra xref after AI");
Z=Z.slice(0,x);continue}break}if(h)console.log("--- arrays found",Date.now()-m);m=Date.now();var I=c.Db(S[0],0,13);
if(I=="%%BoundingBox"||I=="%AI7_Thumbnai")S=S.slice(1);if(I=="%AI24_ZStanda"){S[0]=S[0].slice(20);g=!0}if(c.Db(S[0],0,13)=="%AI12_Compres"){S[0]=S[0].slice(20);
W=!0}u=P(S);if(h)console.log("--- concatenated",Date.now()-m);m=Date.now();if(W)u=UZIP.inflate(u);if(g)u=b_.Pa.Dc(u);
if(h)console.log("--- inflated",Date.now()-m);m=Date.now()}else{var w=c.xJ(Z);if(w.indexOf("%AI5_BeginLayer")!=-1||w.indexOf("%AI5_NumLayers")!=-1){u=Z}else{var e=w.split(/[\n\r]+/),G=[],j=!1;
for(var o=0;o<e.length;o++){var r=e[o].trim();if(r=="%AI9_PrivateDataEnd"){j=!1;break}else if(r=="%AI9_DataStream"||r=="%AI24_DataStream"){j=!0}else if(j)G.push(r.slice(1))}var k=c.WT(G.join("")),a7=FromPS.F.ASCII85Decode({buff:k,off:0});
if(a7[0]==120&&a7[1]==156)u=UZIP.inflate(a7);else u=b_.Pa.Dc(a7)}}return u}function P(A){var h=0,Z=0;
for(var R=0;R<A.length;R++)h+=A[R].length;var m=new Uint8Array(h);for(var R=0;R<A.length;R++){var u=A[R];
m.set(u,Z);Z+=u.length}return m}function y(A){var h=0,m=[];while(h<A.length){var Z=A[h],u=Z.charCodeAt(0);
if(Z==" ")h++;else if(Z==","||Z==";"||Z==":"){m.push(Z);h++;var f=m[m.length-2];if(f=="/ASCII85Decode"){var U=h+1;
while(A[U]!="~"||A[U+1]!=">")U++;U+=2;var C=A.slice(h,U),H=FromPS.F.ASCII85Decode({off:0,buff:c.WT(C)});
m.push(H);h=U}if(f=="/StrokeStyle"||f=="/FillStyle"||f=="/BlendStyle"||f=="/SimpleStyle"||f=="/SmoothShadingStyle"){var U=h+1;
while(A[U]!=";")U++;m.pop();m.pop();m.push(A.slice(h,U));m.push("/String");h=U+1}}else if(Z=="("){var U=h+1;
while(!(A[U]==")"&&(A[U-1]!="\\"||A[U-2]=="\\")))U++;var t=A.slice(h+1,U);m.push(t);h=U+1}else if(Z=="/"||Z=="-"||48<=u&&u<=57){var U=h;
while(A[U]!=" ")U++;m.push(A.slice(h,U));h=U}else if(Z=="X"&&A[h+1]=="="){var U=h,X=0;while(!0){if(A[U]=="X"&&A[U+1]=="="){X++}if(A[U]=="X"&&A[U+1]=="+"&&A[U+2]==" "){X--;
if(X==0)break}U++}m.push(A.slice(h+3,U));m.push("/String");h=U+2}else{console.log(m);console.log(A.slice(h-600,h+10));
throw Z}}return m}function F(A){var h={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},m={},Z=y(A.join(" ")),u=[],f=parseFloat;
while(Z.length!=0){var U=Z.shift();if(U=="/Recorded"||U=="/NotRecorded"){continue}else if(U=="/Dict"){u.pop();
var C=u.pop();u[u.length-1][U]=C}else if(U=="/Execution"){u.pop();var C=u.pop();u[u.length-1][U]=C}else if(U=="/Part"){u.pop();
var C=u.pop(),H=u[u.length-1];if(H[U]==null)H[U]=[];H[U].push(C);Z.shift()}else if(U=="/Def"){u.pop();
var t=u.pop(),X=u[0];if(m[X]==null)m[X]=[];if(X=="/KnownStyle"){t={val:t};t[u.pop()]=u.pop()}u.pop();
m[X].push(t);Z.shift()}else if(U==":"){var X=u.pop();if(X=="/Dictionary"||X=="/ArtDictionary"||X=="/XMLNode"||X=="/Mask"||X=="/ActiveStyle")u.push({});
else if(X=="/CompoundFilter"||X=="/BasicFilter"){u.push({typ:"Filter"})}else if(X=="/SVGFilter"||X=="/KnownStyle"){u.push(X)}else if(X=="/Array"||X=="/Document")u.push([]);
else if(X=="/Binary"){var Q=Z.shift();if(Q!="/ASCII85Decode")throw"e";Z.shift();u.push(Z.shift())}else if(X=="/XMLUID"||X=="/XMLUIDREF"){Z[1]=X}else if(X=="/GObjRef"){u.push(Z.shift());
u.push("/String");Z.shift();Z.shift()}else{console.log(u);console.log(Z);throw X}if(Z[0]=="/NotRecorded"){Z.shift();
Z.shift()}}else if(U==","){var D=u.pop(),X,L;if(D[0]=="/"&&D[1]==D[1].toUpperCase()&&D[1]!="\\"||D==";"){X=D;
D=null}else X=u.pop();if(X=="/Name"){u.push(X);continue}if(h[X]){L=u.slice(u.length-h[X]);for(var R=0;
R<h[X];R++)u.pop();var E=u.pop();E[X]=L;u.push(E);continue}if(X=="/RealPoint"||X=="/RealPointRelToROrigin"){var _=u.pop();
L=[f(u.pop()),f(_)]}else if(X=="/RealMatrix"){L=[];for(var R=0;R<6;R++)L.push(f(u.pop()));L.reverse()}else if(X=="/String"&&typeof u[u.length-1]!="string")L="";
else{var top=u.pop();if(X==";")L=top;else if(X=="/String"||X=="/UnicodeString"||X=="/XMLUID"||X=="/XMLUIDREF"){L=top;
while(typeof u[u.length-1]=="string")L=u.pop()+L}else if(X=="/Int"||X=="/Real")L=f(top);else if(X=="/Bool")L=top=="1";
else throw JSON.stringify(X)}if(u.length==0)throw"e";var E=u.pop();if(D==null&&!(E instanceof Array)){alert("key is null in a Dict");
continue}if(D)E[D]=L;else E.push(L);u.push(E)}else u.push(U)}return u.length==0?m:u[0]}return{amx:O,aLq:M,a9h:F}}();
function eq(){}eq.kM=function(){function s(b,N,J){var K=!1,q=Date.now(),d=cJ.amx(b,K);if(d==null)return;
if(K)console.log("part found",Date.now()-q);q=Date.now();var l=g(d);if(l.Layer==null)l.Layer=[{_begin:l.Setup._end,_end:d.length}];
var T=l.Layer,B=l.Header;if(K)console.log(l);var p=l.Setup.TextDocument,I=T[0];I=l.Layer[0];if(K)console.log("document parsed",Date.now()-q);
q=Date.now();l.Setup.Gradient=W(l.Setup.Gradient,d);if(K)console.log("grads loaded",Date.now()-q);q=Date.now();
l.Setup.Pattern=_(l.Setup.Pattern,d);if(K)console.log("patts loaded",Date.now()-q);q=Date.now();l.Setup.Palette=S(l.Setup.Palette,d);
if(K)console.log("palet loaded",Date.now()-q);q=Date.now();l.Setup.DocumentData=E(l.Setup.DocumentData,d);
if(K)console.log("docdata loaded",Date.now()-q);q=Date.now();l.Setup.SVGFilter=E(l.Setup.SVGFilter,d);
if(K)console.log("svgfilter loaded",Date.now()-q);q=Date.now();var w=l.Setup.ArtStyles;if(w){l.Setup.ArtStyles=E(w,d)}var e=l.Setup.Palette;
for(var R=0;R<e.length;R++){var G=e[R],j=G[0],o=G[1][0];if(j==null)j=G[1][1];var r=l.Setup.Gradient[j];
if(o==0)N.bB.push([j,G[1][1]]);if(o==1)N.bB.push([j,[r.VK,r.aAF,0,0]]);if(o==2)N.bB.push([j,[j,0]])}var k=B.Cropmarks,a7=B.BoundingBox.split(" ").map(parseFloat),Y=B.ArtSize?B.ArtSize.split(" ").map(parseFloat):[a7[2]-a7[0],a7[3]-a7[1]];
N.A=Math.round(Math.abs(Y[0]));N.$=Math.round(Math.abs(Y[1]));var v=[1,0,0,1,-a7[0]+(N.A-(a7[2]-a7[0]))/2,-a7[1]+(N.$-(a7[3]-a7[1]))/2];
v[3]=-1;v[5]=N.$-v[5];if(k){k=k.split(" ").map(parseFloat);N.A=Math.round(k[2]-k[0]);N.$=Math.round(k[3]-k[1]);
v=[1,0,0,-1,-k[0],N.$+k[1]]}console.log(l);var n=l.Setup.DocumentData,cm=[],a5=[];if(n&&n[0]&&n[0].ArtboardArray){var cm=n[0].ArtboardArray;
if(cm.length!=1)console.log(cm.length,"artboards");var gP=new gi;for(var R=0;R<cm.length;R++){var cg=cm[R],a9=cg.PositionPoint1,ew=cg.PositionPoint2,h7=a9[0],bh=Math.min(a9[1],ew[1]),ba=ew[0],jx=Math.max(a9[1],ew[1]),c4=new gi(h7,bh,ba-h7,jx-bh);
a5.push(c4);gP=gP.v8(c4)}N.A=Math.round(gP.A);N.$=Math.round(gP.$);v[4]=-gP.x;v[5]=gP.y+N.$}if(n&&n[0]&&n[0]["#document"]){var bq=n[0]["#document"],di=bq["xmlnode-children"][0];
if(di&&di["xmlnode-children"])di=di["xmlnode-children"][0];if(di&&di["xmlnode-nodename"]=="variableSets"){var il=di["xmlnode-children"][0]["xmlnode-children"],j0=il[0],j1=il[1],b5=V(j0);
N.Vx=jv.a2b("<variableSets><variableSet>"+b5+"</variableSet></variableSets>");if(j1){var b4=V(j1),lm=N.yi=jv.apI(b4);
for(var R=0;R<lm.length;R++)for(var ix=0;ix<lm[R].length;ix++)lm[R][ix]=lm[R][ix].trim()}}}var jy=1/dI.oN(new gi(0,0,N.A,N.$),8192*8192);
if(Math.max(N.A*jy,N.$*jy)<800)jy*=2;while(J&&Math.max(N.A*jy,N.$*jy)<Math.max(J[0],J[1]))jy++;if(dc==1)jy=1;
N.A=Math.round(N.A*jy);N.$=Math.round(N.$*jy);N.FR=Math.round(72*jy);for(var R=0;R<6;R++)v[R]*=jy;var bz=[];
if(cm.length!=[1,0][dc]){var c5=dc==0?N.U:[];c5.push(N.kA());for(var R=0;R<a5.length;R++){var cg=cm[R],c4=a5[R],k0=N.Tk();
k0.jj(cg.Name);c5.push(k0);k0.add.SoCo=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);var cd=k0.add.SoCo.Clr.v;
f(cd,[1,1,1]);var h7=c4.x,bh=c4.y,ba=h7+c4.A,jx=bh+c4.$,fz=[h7,bh,ba,bh,ba,jx,h7,jx];a.b.M(fz,C(v),fz);
X(k0,{cmds:["M","L","L","L","Z"],crds:fz},N,0);k0.add.vstk=aV.To.Jb(!0);var fu=a.b.hG(fz);bz.push({TD:cg.Name,rC:[fu.x,fu.y,fu.x+fu.A,fu.y+fu.$],Y:cg.IsArtboardSelected})}var k0=N.Tk();
k0.jj("_Artboards_");k0.add.lsct=dU.aY;k0.mX="pass";k0.Xa=24;c5.push(k0)}else bz=[{TD:"Artboard",rC:[0,0,N.A,N.$],Y:!0}];
if(dc==1)N.add.arts=bz;O=[0,0,0];P=[0,0,0];y="SoCo";F="SoCo";for(var c6=0;c6<T.length;c6++){var k7=T[c6];
k7.Raster=M(k7,"Raster");k7.Place=M(k7,"Place");var hP=D(d,k7);A(N,hP,v,l,k7,d)}if(dc==0)for(var R=0;
R<N.U.length;R++){var k0=N.U[R];if(k0.Cj){N.U.splice(R,1);var e1,fs=0;for(var ix=R;ix<N.U.length;ix++){e1=N.U[ix];
if(e1.add.lsct==dU.Bs)fs++;else if(e1.ES())fs--;if(fs==-1)break}e1.add.vmsk=k0.add.vmsk;e1.add.vogk=k0.add.vogk;
e1.uH(N)}}else{}if(J){N.DA();var eh=N.root.Gt();$._P.um(N,eh)}if(K)console.log("layers created",Date.now()-q);
q=Date.now()}function M(b,N){var J=b.Layer,K=b[N];if(K==null)K=[];if(J){for(var R=0;R<J.length;R++){var q=J[R],d=q[N]=M(q,N);
K=K.concat(d)}K.sort(function(l,T){return l._begin-T._begin})}return K}var O,P,y,F;function A(b,N,J,K,q,d){var l=[],T=0,B="",p=!1,I={},w=UDOC.G,e=UDOC.getState(),j="norm",o=1,r=0,k=!1,a7=0,Y=!1,v=!0,n=null,cm=null,a5=!1,gP=!1,cg=0,a9=null,ew,h7,bh=0,ba=0,jx=0,il=0,j0=!1;
e.ctm=J;var G=aV.S0.Jb(),c4=[0,0],bq=[],di=[];for(var j1=0;j1<N.length;j1++){var b5=N[j1],c5=1e9;if(b5[0]=="%"){if(b5=="%_/ArtDictionary :"&&cg==0){n=[b5.slice(2)]}else if(n!=null){if(b5=="%_"&&cg==0){var b4=cJ.a9h(n),lm=b.U[b.U.length-1],ix=b4.AI10_ArtUID,jy=b4.BBAccumRotation;
if(ix&&!ix.startsWith("XMLID"))lm.jj(x(ix));if(jy&&lm.add.vmsk==null&&b.U[b.U.length-2])lm=b.U[b.U.length-2];
if(jy&&lm.add.vmsk)lm.add.vmsk.YW=parseFloat(jy);n=null}else{n.push(b5.slice(a5?1:2));if(b5=="%_X=")cg++;
if(b5=="%_X+")cg--;if(b5=="%_/Binary : /ASCII85Decode ,")a5=!0;if(a5&&b5.endsWith("~>"))a5=!1}}else if(a9){ew+=(ew==""?"":" ")+b5.slice(2);
if(ew.endsWith("X#")){a9.push(ew.slice(0,ew.length-3));ew=""}}else if(b5.startsWith("%BeginData:"))gP=!0;
else if(b5.endsWith("%EndData"))gP=!1;continue}else if(b5.endsWith("%EndData"))gP=!1;else if(b5=="/Mesh X!"){a9=[];
ew="";continue}else if(b5=="/End X!"){Z(a9,e,b);a9=null;continue}if(b5!="XI"&&gP)continue;var bz="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),k0=-1,cd=b5.indexOf("(")!=-1;
for(var R=0;R<bz.length;R++){var fz=b5.indexOf(" "+bz[R]+" ");if(fz!=-1&&fz<c5&&!cd){c5=fz;k0=R}}if(k0!=-1){p=!0;
var fu=c5+1+bz[k0].length;N[j1]=b5.slice(0,fu);var c6=N[j1+1];if(c6==null||c6[0]=="%"||k0>9)N.splice(j1+1,0,b5.slice(fu));
else N[j1+1]=(b5.slice(fu)+" "+c6).replace(/\s\s+/g," ");j1--;continue}b5=b5.trim();var k7=b5.split(" "),hP=k7[k7.length-1],e1=hP.toLowerCase(),fs=k7.map(parseFloat);
if(hP=="m")w.moveTo(e,fs[0],fs[1]);else if(hP=="L"||hP=="l")w.lineTo(e,fs[0],fs[1]);else if(hP=="V"||hP=="v"){var eh=e.pth.crds,gW=e.cpos[0],hk=e.cpos[1];
w.curveTo(e,gW,hk,fs[0],fs[1],fs[2],fs[3]);var jz=eh.length;eh[jz-6]=gW;eh[jz-5]=hk}else if(hP=="Y"||hP=="y")w.curveTo(e,fs[0],fs[1],fs[2],fs[3],fs[2],fs[3]);
else if(hP=="C"||hP=="c")w.curveTo(e,fs[0],fs[1],fs[2],fs[3],fs[4],fs[5]);else if(hP=="H"||hP=="h"){if(hP==e1)w.closePath(e);
if(!k){var lh=b.Tk();b.U.push(lh);lh.jj("<Clipping Path>");lh.Cj=!0;lh.add.vstk=aV.To.Jb();lh.add.SoCo=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);
X(lh,e.pth,b,r)}else Y=!0}else if(hP=="XR"){r=fs[0]}else if(hP=="Xy"){j=eq.awB[fs[0]];o=fs[1];if(j==null){j="norm";
console.log("unknown blend mode",fs[0])}}else if(hP=="Xd"){var lm=b.U[b.U.length-1];lm.N_=Math.round(255*o);
lm.mX=lm.ES()&&j=="norm"?"pass":j}else if(hP=="AE")bh=fs[0];else if(hP=="Ae")ba=fs[0];else if(hP=="Xw")jx=fs[0];
else if(hP=="*"){var ag=e.pth.crds,eo=e.ctm,fz=ag[0]==ag[2]?0:1;b.FQ.push([fz,ag[fz]]);w.newPath(e)}else if(hP=="XN")h7=b5.split(" ")[0];
else if(hP=="XI"){var aC=q.Raster,e8,lb,dm;if(aC==null||aC.length==0){console.log("no Raster");continue}if(b5!="XI"){continue}else{var jn=aC[T++];
if(jn.Data)jn=jn.Data;var k3=jn._begin,cP=jn._end;while(d[k3]!=88)k3++;k3+=3;e8=d.slice(k3,cP);lb=N[j1-2].split(" ").map(parseFloat)}var cV=lb.slice(8),l2=cV[2],dS=cV[3],gH=l2*dS,hd=a.j(gH*4);
hd.fill(255);var bL=cV[7],au=cV[8],ev=cV[6],eF=Math.ceil(l2*bL*ev/8);if(bL==1){if(ev==8)for(var R=0;
R<gH;R++)for(var fn=0;fn<3;fn++)hd[4*R+fn]=e8[R];else if(ev==1)for(var iu=0;iu<dS;iu++)for(var gz=0;
gz<l2;gz++)for(var fn=0;fn<3;fn++)hd[4*(iu*l2+gz)+fn]=255*(e8[iu*eF+(gz>>>3)]>>>7-(gz&7)&1);else throw ev}else if(bL==3)for(var R=0;
R<gH;R++)for(var fn=0;fn<3;fn++)hd[4*R+fn]=e8[3*R+fn];else if(bL==4||bL==5){for(var R=0;R<gH;R++){hd[4*R+0]=e8[bL*R+0];
hd[4*R+1]=e8[bL*R+1];hd[4*R+2]=e8[bL*R+2];hd[4*R+3]=e8[bL*R+3]}a.a0Z(hd);for(var R=0;R<gH;R++)hd[R*4+3]=255}else if(bL==7)for(var R=0;
R<gH;R++){hd[4*R+0]=e8[bL*R+0];hd[4*R+1]=e8[bL*R+1];hd[4*R+2]=e8[bL*R+2]}else console.log("unknown number of channels",bL);
if(au==1){var dL=dS*eF;for(var R=0;R<gH;R++)hd[4*R+3]=e8[dL+R]}if(l2*dS<700*700)dm="PNG";else if(Math.max(l2,dS)>32768)dm="PNG";
else dm=a.Ou(hd,l2,dS)?"JPG":"PNG";var cM=b_.O7(dm).u6([[hd.buffer]],l2,dS),l5=b.N4(new Uint8Array(cM),"<Image>",0,0);
b.U.push(l5);l5.mX=j;l5.N_=Math.round(255*o);l5.x1(jx==0);var i3=new kp;i3.scale(1,-1);i3.concat(C(lb.slice(1)));
i3.concat(C(e.ctm));var eg=l5.add.SoLd,la=eg.Sz.v,ea=new gi(0,0,la.Wdth.v,la.Hght.v),k7=a.b.hC(ea).L;
a.b.M(k7,i3,k7);l5.add.SoLd.Trnf=$.TR.kZ(k7);l5.add.SoLd.nonAffineTransform=$.TR.kZ(k7);l5.VN(b,!1)}else if(hP=="Ln"){l.push(u(b5))}else if(hP=="u"||hP=="q"||hP=="Lb"){if(hP=="Lb")b.add.prvw=fs[1];
bq.push(ba==1);di.push((hP=="Lb"?1-fs[0]:jx)==0);if(k)continue;b.U.push(b.kA())}else if(hP=="U"||hP=="Q"||hP=="LB"){if(bq.length==0||di.length==0)throw j1;
var iB=bq.pop(),jG=di.pop();if(hP=="LB")iB=bh==1;if(k)continue;var l5=b.Tk();l5.jj((hP=="U"?"<Group>":"<Clip Group>")+B);
if(hP=="LB")l5.jj(l.pop());l5.add.lsct=iB?dU.l9:dU.aY;l5.mX="pass";l5.Xa=24;l5.x1(jG);b.U.push(l5);if(j0){if(b.U[b.U.length-3].getName()=="</Layer group>"){b.U.pop();
b.U.splice(b.U.length-2,1)}j0=!1}}else if(hP=="Bb")v=fs[0]!=1;else if(hP=="BB"){}else if(hP=="Bm"||hP=="Bc"||hP=="Xm"){}else if(hP=="Bh")c4=fs.slice(2,4);
else if(hP=="Bg"){var j5=K.Setup.Gradient,hU=j5[u(b5)],k7=b5.slice(b5.indexOf(")")+2).split(" ").map(parseFloat);
if(hU==null){console.log("gradient not found");for(var kn in j5){hU=j5[kn];break}}var k5=k7[10];if(isNaN(k5))k5=1;
var a0=k7.slice(0,4);a0.push(k5,c4[0],c4[1]);if(Math.max(Math.abs(a0[0]),Math.abs(a0[1]))>20){a0[0]=0;
a0[1]=0;a0[3]=1;console.log("strange gradient")}var ab=[hU.VK,hU.aAF,a0,k7.slice(4,10)];m(ab,"GdFl",v)}else if(e1=="p"&&1<b5.length&&b5.length<100){var c$=u(b5),eB=K.Setup.Pattern[c$],ii=eB.rC,l2=Math.round(ii[2]-ii[0]),dS=Math.round(ii[3]-ii[1]);
if(b.Sn[c$]==null){var b4=new fr,eY=Math.sqrt(Math.abs(J[0]*J[3]-J[1]*J[2])),i3=new kp(1,0,0,-1,-eB.rC[0],dS+eB.rC[1]);
i3.concat(new kp(eY,0,0,eY,0,0));var kF=[O,P,y,F];O=[0,0,0];P=[0,0,0];y="SoCo";F="SoCo";A(b4,eB.I3,kp.Pj(i3),K,q,d);
b4.A=Math.round(l2*eY);b4.$=Math.round(dS*eY);b4.DA();b4.vw();if(dc==0){b4.buffer=a.j(b4.A*b4.$*4);b4.kp()}O=kF[0];
P=kF[1];y=kF[2];F=kF[3];b.Sn[c$]=b4}var a4=b5.slice(b5.indexOf(")")+2),hW=a4.slice(0,a4.indexOf("[")-1).split(" ").map(parseFloat),i9=a4.slice(a4.indexOf("[")+1,a4.indexOf("]")).split(" ").map(parseFloat),i3=new kp(1,0,0,-1,0,dS);
i3.concat(kp.abz(i9));m([c$,[hW,kp.Pj(i3)]],"patt",hP=="p")}else if(hP=="J"||hP=="j"||hP=="w"||hP=="M"||hP=="d"){var i3=e.ctm,eY=Math.sqrt(Math.abs(i3[0]*i3[3]-i3[1]*i3[2]));
for(var R=1;R<k7.length;R++){var be=k7[R],jQ=fs[R-1];if(be=="w")G.WJ=jQ*eY;if(be=="j")G.sa=jQ;if(be=="J")G.wF=jQ;
if(be=="M")G.LN=jQ;if(be=="d"){var iA=b5.slice(b5.indexOf("[")+1,b5.indexOf("]")).trim();if(iA.length!=0){var g0=iA.split(" ").map(parseFloat);
G.wm=g0;for(var fn=0;fn<g0.length;fn++)g0[fn]*=eY}else if(iA=="")G.wm=[]}}}else if(e1=="xa"||e1=="xx"){var h$=t(b5);
m(h$,"SoCo",hP=="Xa"||hP=="Xx")}else if(e1=="xk"){h$=t(b5);m(h$,"SoCo",hP=="Xk")}else if(e1=="k"||e1=="x"){h$=t(b5);
m(h$,"SoCo",hP==e1)}else if(e1=="g"){var h$=[fs[0],fs[0],fs[0]];m(h$,"SoCo",hP==e1)}else if(e1=="n"){if(!k)w.newPath(e)}else if(hP=="*u"){k=!0;
a7=0;di.push(jx==0)}else if(hP=="*U"||e1=="s"||e1=="f"||e1=="b"){if(hP!="*U"&&k){if(e1=="f"||e1=="b")a7|=1;
if(e1=="s"||e1=="b")a7|=2;continue}if(hP==e1)w.closePath(e);if(hP=="*U"){k=!1}var l5;{l5=b.Tk();l5.Xa|=16;
X(l5,e.pth,b,r);var bs=e1=="f"||e1=="b"||hP=="*U"&&a7&1,jf=e1=="s"||e1=="b"||hP=="*U"&&a7&2,aO=l5.add.vstk=aV.To.Jb(bs,jf),le=a.G(G);
le.Tq=[];le.Jc=[];if(bs)le.Tq=O;if(jf)le.Jc=P;if(dc==0){aV.To.write(aO,le);if(y=="SoCo"){l5.add.SoCo=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);
var lj=l5.add.SoCo.Clr.v;f(lj,O)}if(y=="GdFl"){l5.add.GdFl=eq.R_(O,l5.add.vmsk.u)}if(y=="patt"){l5.add.PtFl=h(O,b)}if(jf){var gM=["SoCo","GdFl","patt"].indexOf(F),gt=gM==0?{Clr:{t:"Objc",v:ft.IZ(P)}}:gM==1?eq.R_(P,l5.add.vmsk.u):h(P,b),jr=[aV.IA,aV.Pd,aV.O5][gM],iQ=aO.strokeStyleContent.v={classID:aV.To.hF[gM]};
for(var R=0;R<jr.length;R++)iQ[jr[R]]=gt[jr[R]]}}else l5.add.vstl=le}if(hP=="*U"&&Y){l5.Cj=!0;Y=!1}l5.jj("<"+(hP=="*U"?"Compound ":"")+"Path>"+B);
l5.mX=j;l5.N_=Math.round(255*o);l5.x1(hP=="*U"?di.pop():jx==0);l5.uH(b);b.U.push(l5);w.newPath(e)}else if(hP==","&&k7[0]=="/XMLUID"){var lm=b.U[b.U.length-1];
for(var R=0;R<b.Vx.length;R++)if("("+b.Vx[R].docRef+")"==k7[2])b.Vx[R].docRef="id('"+lm.add.lyid+"')"}else if(hP==","&&k7[1]=="/FreeUndo"){il=fs[0]}else if(hP==","&&k7[1]=="/StoryIndex"){var fd=K.Setup.TextDocument,bA=null;
if(!(fd instanceof Array))window.ak9=fd=K.Setup.TextDocument=L(fd,d);var bu=fd[0],hK=fd[2];if(bu._DocumentResources)bu=fd[0]=hO.awt(bu);
else hO.aug(bu);var l5=b.Tk();l5.add.lnsr="rend";l5.add.TySh=iP.cN(0,0);var dt=fs[0];if(il==1){for(var R=1;
R<60;R++){var c6=N[j1+R];if(c6&&c6.endsWith("/StoryIndex ,")){dt=parseFloat(c6.slice(2,c6.indexOf(" ")));
j0=!0;break}}il=0}var j4=jt.aHh(bu),jp=l5.add.TySh.nA=j4[dt];if(jp==null){console.log("text not found");
j0=!1;continue}l5.jj(iP.Rx(jp).slice(0,50));l5.mX=j;l5.N_=Math.round(255*o);l5.x1(jx==0);var j7=bu._1._1[dt]._1._0[0]._0;
j7=parseInt(j7.slice(1));var iI=bu._0._8._0,ah=iI[j7]._0;if(ah._0)bA=U(ah._0);else if(ah._1)bA=U(ah._1._0);
else bA=U(ah._2._2).slice(3);if(bA.length!=2){var ii=a.b.hG(bA);bA=[ii.x,ii.y];if(ii.C()!=0){iP.hV(jp,1);
iP.w9(jp,[0,0,Math.round(ii.A),Math.round(ii.$)])}}var c8=new kp,ln=new kp(1,0,0,1,bA[0],bA[1]),f8=new kp(1,0,0,1,-hK[0],-hK[1]),j2=C(e.ctm),d1=new kp;
if(ah._2&&ah._2._2){var J=U(ah._2._2);d1=C(J)}c8.concat(ln);c8.concat(d1);c8.concat(f8);c8.scale(1,-1);
c8.concat(j2);l5.add.TySh.M=c8;b.U.push(l5);b.Jf=!0}else if(hP=="Tp"){I.pO=C(fs)}else if(hP=="Tf"){I.font=k7[0].slice(2)}else if(hP=="Tk"){var l5=b.Tk();
l5.add.lnsr="rend";var cI=l5.add.TySh=iP.cN(0,0),jp=cI.nA,i3=I.pO.v(),la=i3.dI();i3.concat(C(e.ctm));
var fT=new kp(1/la,0,0,-1/la,0,0);fT.concat(i3);cI.M=fT;var fk=u(b5);l5.jj(fk);iP.Xq(jp,0,fk);var c9=iP.ty(jp,0,fk.length);
c9.TY.FontSize=la;c9.TY.FillColor={Type:1,Values:[1,O[0],O[1],O[2]]};iP.Z2(c9,I.font);iP.UP(jp,0,fk.length,c9);
b.U.push(l5);b.Jf=!0}else if(p&&fs.length>3){var gC=!1;for(var R=0;R<fs.length;R++)if(isNaN(fs[R]))gC=!0;
if(!gC)N[j1+1]=(b5+" "+N[j1+1]).replace(/\s\s+/g," ")}}}function h(O,b){if(b.u$==null)b.u$={};var N=b.u$[O[0]];
if(N==null){var J=b.Sn[O[0]],N=b.u$[O[0]]={};N.id=fr.iY()+"-d71c-11e5-b1ae-a548a96e5f9f";N.name="someImage";
N.ah=[J.Ta(),new gi(0,0,J.A,J.$)];b.mo(N)}var K=JSON.parse(aV.d$[aV.order.indexOf("patternFill")]);K.Ptrn.v.Idnt.v=N.id;
var q=C(O[1][1]),d=-Math.atan2(-q.X,q.cd);K.Angl.v.val=Math.round(d*180/Math.PI);K.Scl.v.val=Math.round(100*q.dI());
return K}eq.R_=function(b,N){var J=eq.E1(b,N),K=[0,0,1,0];if(b[0]==0)K[0]=.5;a.b.M(K,J,K);var q=JSON.parse(aV.d$[aV.order.indexOf("GrFl")]),d=q.Grad.v;
d.Intr.v=0;q.Type.v.GrdT=["Lnr","Rdl"][b[0]];a.wv.mv(b[1],d);a.wv.bt(new j6(K[0],K[1]),new j6(K[2],K[3]),a.z._E(N),q);
return q};eq.PV=function(b,N,J){var K={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[b.Type.v.GrdT],q=a.z._E(N);
if(J&&b.Algn&&!b.Algn.v)q=new gi(0,0,J.A,J.$);var d=a.wv.acf(b,q),l=d[0],T=d[1];if(K==0){l.x-=T.x-l.x;
l.y-=T.y-l.y}var B=T.x-l.x,p=T.y-l.y,I=Math.sqrt(B*B+p*p),w=new kp;w.rotate(Math.atan2(-p,B));w.scale(I,I);
w.translate(l.x,l.y);var e=eq.Yh(K,w,N),G=b.Grad.v;e[1]=a.wv.as3(G,null,null);return e};eq.qt=function(b,N,J){var K=j6.gp(b,N),q=new kp;
q.scale(K,K);q.rotate(-Math.atan2(N.y-b.y,N.x-b.x));q.translate(b.x,b.y);if(J)q.concat(J);return q};
eq.wc=function(b,N,J,K,q){if(N&&!K.s0(N)){var d=Math.atan2(-(J.y-N.y),J.x-N.x);if(q!=null||d!=0){var l=new kp;
l.translate(-N.x,-N.y);l.scale(1,q);l.rotate(d);l.translate(N.x,N.y);l.or();K=l.Kw(K)}var T=Math.atan2(-(K.y-N.y),K.x-N.x);
b[2][5]=T*180/Math.PI;b[2][6]=j6.gp(K,N)/j6.gp(J,N)}};eq.Yh=function(b,N,J){var K=N.v(),B,p,I=1;K.or();
var q=ad.Vp.X4(J);a.z.R7(q,K);var d=a.z._E(q),l=d.A,T=d.$;if(b==0){var w=new kp;w.translate(-d.x,-d.y);
w.translate(-l/2,-T/2);var e=eq.a8s(l,T,0);w.scale(1/e,1/e);w.scale(1/l,1/T);B=w.cj+.5;p=w.H3+.5;I=w.cd}else{B=-d.x/l-.5;
p=-d.y/T-.5;var G=(B-.5)*l/2,j=(p-.5)*T/2;I=1/Math.sqrt(2*(G*G+j*j))}var o=[b,null,[B,p,0,I,1,0,0],[N.cd,N.X,N.xN,N.zv,N.cj,N.H3]];
return o};eq.E1=function(b,N){var J=b[0],K=b[2],q=b[3],d=C(q);d.or();var l=ad.Vp.X4(N);a.z.R7(l,d);var T=a.z._E(l),B=T.A,p=T.$,I=K[0],w=K[1],e=K[2]*Math.PI/180,G=K[3],j=new kp;
if(J==0){j.scale(G,G);j.translate(I-.5,w-.5);j.scale(B,p);j.rotate(e);var o=eq.a8s(B,p,e);j.scale(o,o);
j.translate(B/2,p/2)}else{var r=(I-.5)*B/2,k=(w-.5)*p/2,o=G*Math.sqrt(2*(r*r+k*k));j.scale(o,o*K[4]);
j.rotate(e);j.translate((I+.5)*B,(w+.5)*p)}j.translate(T.x,T.y);j.concat(C(q));return j};function m(b,N,J){if(J){y=N;
O=b}else{F=N;P=b}}function Z(b,N,J){var K=UDOC.G,q=[],d=[],l="/DeviceGray",T=1,B=[],p=1;for(var I=0;
I<b.length;I++){var w=b[I];if(w.endsWith(" /CS")){var e=w.indexOf("/NChannel"),G=w.indexOf("/Process");
if(w.startsWith("/DeviceRGB")){l="/DeviceRGB";T=3}else if(w.startsWith("/DeviceGray")){l="/DeviceGray";
T=1}else if(w.startsWith("/DeviceCMYK")){l="/DeviceCMYK";T=4;B=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(e!=-1){l="/DeviceCMYK";
T=parseInt(w.slice(e-2,e-1));var j=1;for(var R=0;R<T;R++){j=w.indexOf("[",j);B[T-1-R]=w.slice(j+1,j+8).split(" ").map(parseFloat);
j++}}else if(G){l="/DeviceGray";T=1}else throw w}else if(w[0]=="["){var o=w.indexOf("]"),r=w.slice(1,o).split(" ").map(parseFloat),k=w.slice(o+2),a7,Y,v,n,cm,a5;
if(k=="/Size"||k=="/P"||k=="/R")continue;if(k=="/S"||k=="/A"){a7=r[0];Y=r[1];v=r[2];n=r[3];cm=r[4];a5=r[5]}else if(k=="/N"){var gP=T+(p==1?0:1),cg;
a7=r[gP+0];Y=r[gP+1];v=r[gP+2];n=r[gP+3];cm=r[gP+5];a5=r[gP+6];if(l=="/DeviceRGB")cg=r.slice(0,3);else if(l=="/DeviceGray")cg=[r[0],r[0],r[0]];
else if(l=="/DeviceCMYK"){var a9=[0,0,0,0];for(var R=0;R<T;R++){var ew=r[R],h7=B[R];a9[0]+=ew*h7[0];
a9[1]+=ew*h7[1];a9[2]+=ew*h7[2];a9[3]+=ew*h7[3]}cg=H(a9)}else throw cg;cg.push(r[T]);d.push([cg,a7,Y])}else throw k;
q.push([k,cm,a5,a7,Y,v,n])}else if(w=="/E"){var bh=q.slice(0),ba=0;for(var R=0;R<q.length;R++){var jx=q[R][0];
if(jx=="/N"){ba++;continue}var c4=R,bq=R+1;while(q[bq][0]!="/N"&&bq<q.length)bq++;if(ba==0||ba==3){for(var di=0;
di<bq-c4;di++)bh[c4+di]=q[bq-1-di]}else for(var di=c4;di<bq;di++){var il=bh[di],j0=il[1];il[1]=il[5];
il[5]=j0;j0=il[2];il[2]=il[6];il[6]=j0}R=bq-1}q=[];for(var R=0;R<bh.length;R++){var il=bh[R];q.push(il[1],il[2],il[3],il[4],il[5],il[6])}var j1=q.length;
K.moveTo(N,q[2],q[3]);for(var R=0;R<j1;R+=6){var v=q[(R+4)%j1],n=q[(R+5)%j1],cm=q[(R+6)%j1],a5=q[(R+7)%j1],a7=q[(R+8)%j1],Y=q[(R+9)%j1];
K.curveTo(N,v,n,cm,a5,a7,Y)}K.closePath(N);q=[]}else if(w.endsWith("/Version"))p=parseFloat(w[0])}var b5=J.Tk();
b5.Xa|=16;b5.jj("<Mesh>");var b4=b5.add.vstk=aV.To.Jb(!0);X(b5,N.pth,J,0);if(d.length>=2){var lm=0,ix=0,jy=0;
for(var R=0;R<d.length;R++)for(var di=R+1;di<d.length;di++){var bz=d[R][0],c5=d[di][0],k0=bz[0]-c5[0],cd=bz[1]-c5[1],fz=bz[2]-c5[2],fu=Math.sqrt(k0*k0+cd*cd+fz*fz);
if(fu>jy){jy=fu;lm=R;ix=di}}var c6=d[lm],k7=d[ix],hP=[[0,c6[0],1,.5],[1,k7[0],1,.5]],e1=C(N.ctm),fs=e1.Kw(new j6(c6[1],c6[2])),eh=e1.Kw(new j6(k7[1],k7[2]));
if(fs.s0(eh))eh.x+=1;if(dc==0){var gW=b5.add.GdFl=JSON.parse(aV.d$[aV.order.indexOf("GrFl")]),hk=gW.Grad.v;
hk.Intr.v=0;gW.Type.v.GrdT="Lnr";a.wv.mv(hP,hk);var jz=a.b.hG(N.pth.crds);fs.x=(fs.x+eh.x)/2;fs.y=(fs.y+eh.y)/2;
a.wv.bt(fs,eh,jz,gW)}else{var lh=b5.add.vstl=aV.S0.Jb();lh.Jc=[];var eo=eq.qt(fs,eh,new kp);lh.Tq=eq.Yh(0,eo,b5.add.vmsk.u);
lh.Tq[1]=hP}}J.U.push(b5);K.newPath(N)}function u(b){var N=b.indexOf(")");while(b[N-1]=="\\")N=b.indexOf(")",N+1);
return b.slice(b.indexOf("(")+1,N).replaceAll("\\","")}function f(b,O){b.Rd.v=O[0]*255;b.Grn.v=O[1]*255;
b.Bl.v=O[2]*255}function U(b){var N=[];for(var R=0;R<b.length;R++)N[R]=parseFloat(b[R].slice(1));return N}function C(b){return kp.abz(b)}function H(b){return a.Vq(b.slice(0,4)).slice(0,3)}function t(b){var N=b.split(" "),J=N[N.length-1],K=J.toLowerCase(),q=N.map(parseFloat),d=null;
if(K=="xa"||K=="xx"||K=="xz"){var d=q[4]==null?q.slice(0,3):[q[4],q[5],q[6]];if(K=="xx"&&q[q.length-2]==2)d=H(q)}else if(K=="g")d=H([0,0,0,1-q[0]]);
else if(K=="x"||K=="k"){if(K=="x"){q.pop();var l=1-q.pop();for(var R=0;R<4;R++)q[R]*=l}d=H(q)}else if(K=="xk"){var T=q[q.length-2],B=q[q.length-3];
if(T==0)d=H(q);else if(T==1){d=[q[4],q[5],q[6]];for(var R=0;R<3;R++)d[R]=B*1+(1-B)*d[R]}else throw b}else throw K;
return d}function X(b,N,J,K){b.add.vmsk=new ad.Vp;if(N.crds.length!=0)b.add.vmsk.u=Q(N);b.add.vmsk.gW=K;
b.$k();b.uH(J)}function Q(b){var N={L:b.crds,J8:b.cmds},J=a.b.Ie(N,!1);return J}function D(b,N){var J=[],I=0,j=0;
for(var K=0;K<2;K++){var q=N[["Raster","Place"][K]];if(q==null)continue;for(var R=0;R<q.length;R++){for(var d=0;
d<3;d++){var l=q[R][["Data","Document","PlacedObjectPreview"][d]];if(l==null)continue;var T=l._begin,B=l._end;
if(T>B)T=B;J.push([T,B])}}}J.sort(function(r,k){return r[0]-k[0]});var p=[N._begin];for(var R=0;R<J.length;
R++){var w=J[R],T=w[0]+32;p.push(T,w[1]);I+=w[1]-T}p.push(N._end);var e=N._end-N._begin,G=new Uint8Array(e-I);
for(var R=0;R<p.length;R+=2){var T=p[R],o=p[R+1]-T;G.set(new Uint8Array(b.buffer,T,o),j);j+=o}return c.xJ(G).split(/\r\n|\r|\n/)}function L(b,N){if(b==null)return[];
var J=D(N,b),K="",q="",d=0,l;for(var R=2;R<J.length;R++){var T=J[R];if(T[0]=="%"){if(d==0)K+=T.slice(1);
else q+=T.slice(1)}else if(T==";")d++;else if(T.endsWith("/RulerOrigin ,"))l=T.split(" ").slice(0,2).map(parseFloat)}var B=[K,q],p=[];
for(var R=0;R<2;R++){var I=B[R],w=new Uint8Array(I.length);c.Eu(w,0,I);var e=FromPS.F.ASCII85Decode({buff:w,off:0}),G=fM.kM(e);
p.push(G)}p.push(l);return p}function E(b,N){if(b==null)return[];var J=D(N,b);J=J.slice(1);for(var R=0;
R<J.length;R++){var K=J[R];if(K.startsWith("%AI17_Begin_Content_if_version_gt")||K=="%AI17_Alternate_Content"||K=="%AI17_End_Versioned_Content")J[R]="";
else if(K[0]=="%")J[R]=K.slice(K[1]=="_"?2:1)}var q=cJ.a9h(J);return q}function _(b,N){var J={};if(b==null)return J;
for(var R=0;R<b.length;R++){var K=D(N,b[R]),q=K[1],d=u(q),l=q.slice(q.lastIndexOf(")")+2).split(" ").map(parseFloat),T=[];
for(var B=2;B<K.length;B++)T.push(K[B].slice(2));J[d]={rC:l,I3:T}}return J}function S(b,N){var J=[],q,d;
if(b==null)return J;var K=D(N,b);for(var R=1;R<K.length;R++){var l=K[R];if(l=="0 0 Pb"||l=="PB"||l==""){}else if(l.endsWith("Xa")||l.endsWith("Xz")||l.endsWith("Xx")||l.endsWith("Xk")||l.endsWith(" g")||l.endsWith(" x")||l.endsWith(" k"))q=[0,t(l)];
else if(l.endsWith("Xs"))q=[0,[0,0,0]];else if(l.endsWith("Bg"))q=[1,u(l)];else if(l.endsWith("Pg")||l.endsWith("p"))q=[2,u(l)];
else if(l[0]=="(")d=u(l);else if(l=="Pc")J.push([d,q]);else if(l=="0 BB"||l=="Bb"||l.endsWith("Bh")){}else if(l.startsWith("%AI17_")){}else throw l}return J}function W(b,N){var J={},K,q;
if(b==null)return J;var d=[];for(var R=0;R<b.length;R++){var l=D(N,b[R]);for(var T=0;T<l.length;T++){var B=l[T];
if(B.endsWith("%_Bs")){var p=B.slice(0,B.length-4);if(!p.endsWith(" "))p+=" ";B=p+"%_BS"}if(B[0]=="("){K=u(B);
var I=B.slice(B.lastIndexOf(")")+2).split(" ");q=parseInt(I[0])}else if(B.endsWith("%_BS")){var w=B.split(" "),o,r=1;
w.pop();w=w.map(parseFloat);var e=w.pop(),G=w.pop(),j=w.pop();if(j==0)o=[w[0],w[0],w[0]];else if(j==2||j==4)o=[w[4],w[5],w[6]];
else if(j==1||j==3)o=H(w);else if(j==6){if(w.length==3)o=[w[0],w[0],w[0]];else if(w.length>=8)o=w.slice(4,7);
else o=H(w);r=w.pop()}else{throw j}d.push([e/100,o,r,G/100])}else if(B=="BD"){d.sort(function(k,a7){return k[0]-a7[0]});
J[K]={VK:q,aAF:d};d=[]}}}return J}function g(b){var N="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider Document".split(" "),J=Date.now(),K=0,q=[],d={Header:{}},l=[d],T=b.length;
while(K<T){var B=K;while(B!=T&&b[B]!=13&&b[B]!=10){B++}if(b[K]==37&&b[K+1]==95&&b[K+2]==37)K+=2;if(b[K]==37&&(b[K+1]==37||b[K+1]==65)){var p=c.Db(b,K,B-K);
if(p=="%%EOF")break;if(p=="%%EndComments"||p=="%EndComments"||p=="%AI5_Begin_NonPrinting"||p=="%AI5_End_NonPrinting--"||p.startsWith("%AI17_Begin_Content_if_version_gt")||p=="%AI17_End_Versioned_Content"){}else{var I=p.indexOf("Begin"),w=Math.max(p.indexOf("_End"),p.indexOf("%End"));
if(I!=-1&&p[I-1]!="%"&&p[I-1]!="_")I=-1;if(I!=-1){var e=p.slice(I+5).split(":")[0],G={_begin:K,_end:K},j=l[l.length-1];
if(N.indexOf(e)!=-1){if(j[e]==null)j[e]=[];j[e].push(G)}else{if(j[e]!=null){console.log(l);throw p}j[e]=G}l.push(G);
if(p.startsWith("%%BeginData")){B=c.Ah(b,"%%EndData",K)}else if(p.slice(0,15)=="%%BeginDocument")B=c.Ah(b,"%%EndDocument",B);
else if(p=="%AI9_BeginDocumentData")B=c.Ah(b,"%AI9_EndDocumentData",B);else if(p=="%AI11_BeginTextDocument")B=c.Ah(b,"%AI11_EndTextDocument",B)}else if(w!=-1){if(l.length>1)l.pop()._end=K}else if(l.length==1&&(p.startsWith("%AI")||p.startsWith("%%")&&p.indexOf(" ")!=-1)){var o=1;
if(p.startsWith("%AI"))while(p[o]!="_"&&o<p.length)o++;var r=p.indexOf(":");if(r==-1)r=p.indexOf(" ");
var k=p.slice(o+1,r),a7=p.slice(r+1).trim();d.Header[k]=a7}}}K=B;if(b[K]==13)K++;if(b[K]==10)K++}return d}function x(b){var N="";
for(var R=0;R<b.length;R++){if(b[R]=="_"&&b[R+1]=="x"){var hS=parseInt(b.slice(R+2,R+4),16);N+=String.fromCharCode(hS);
R+=4}else if(b[R]=="_")N+=" ";else N+=b[R]}return N}function V(b){var N="xmlnode-nodename",J="xmlnode-nodevalue",K="xmlnode-attributes",q="xmlnode-children",d=b[N].split(":").pop().replace("#",""),l=b[K],T=b[q],B="<"+d;
for(var p in l)if(p!="xmlns"&&p!="xmlns:v")B+=" "+p.split(":").pop()+"=\""+l[p][J]+"\"";B+=">"+(T.length==0?"":"\n");
for(var R=0;R<T.length;R++)B+=V(T[R]);if(b[J])B+=b[J];return B+"</"+d+">\n"}return s}();eq.a8s=function(s,M,O){var P=a.b.hC(new gi(0,0,s,M)).L,y=new kp;
y.rotate(O);a.b.M(P,y,P);var F=a.b.hG(P);return F.A/s};eq.awB="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",");
eq.mK=function(){function s(H){var t=72/H.FR,X=new kp(t,0,0,-t,0,0),Q=H.root.children,D=[],L={io:[],g$:{},aKt:0},_=16383,n=0,a5=0;
for(var R=0;R<H.bB.length;R++){var E=H.bB[R];if(E[1].length==4)U(E[1],L,E[0])}for(var R=0;R<Q.length;
R++)m(Q[R],H,X,L,D,0);var S=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+_+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
S.push("%%BeginSetup\r");S=S.concat(L.io);for(pn in H.Sn){var W=H.Sn[pn],g=H.FR/72;S.push("%AI3_BeginPattern: ("+pn+")");
S.push("("+pn+") 0 0 "+Math.round(W.A/g)+" "+Math.round(W.$/g));var Q=W.root.children,x=[];for(var R=0;
R<Q.length;R++)m(Q[R],W,X,L,x,1);x=window.ajh;for(var R=0;R<x.length;R++){var V=x[R];S.push(V.startsWith("%_")?V:"%_"+V)}S.push("E","%AI3_EndPattern")}if(H.bB.length!=0){S.push("%AI5_BeginPalette","0 0 Pb");
for(var R=0;R<H.bB.length;R++){var E=H.bB[R],b="("+E[0]+")",N=E[1].length;if(E[0]=="[Registration]")S.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(N==3)S.push(h(a.y5(E[1]).concat(E[1]))+" "+b+" 0 1 Xk");else if(N==4)S.push("Bb","0 0 0 0 Bh",E[1][0]+1+" "+b+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(N==2)S.push(b+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");S.push(b,"Pc")}S.push("PB","%AI5_EndPalette")}S=S.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var J=H.add.arts;for(var R=0;R<J.length;R++){var K=J[R];console.log(K);var q=K.rC[0]*t,d=-K.rC[1]*t,l=K.rC[2]*t,T=-K.rC[3]*t;
S.push("/Dictionary :","("+K.TD+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",_/2+" "+_/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",O(q)+" "+O(d)+" /RealPointRelToROrigin"," (PositionPoint1) ,",O(l)+" "+O(T)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}S=S.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var B=[],p=[];for(var R=0;R<H.U.length;R++){var I=H.U[R],w=I.add.TySh;if(w){B.push(w.nA);p.push(w)}}if(B.length!=0){var e=jt.aHV(B,null,null);
function G(K){return K.map(function(gP){return"f"+gP})}for(var j=0;j<B.length;j++){var w=p[j],o=e._1._1[j],r=o._1._0[0]._0;
r=parseInt(r.slice(1));var k=e._0._8._0[r]._0,a7=w.M.v();a7.concat(X);a7.scale(1,-1);k._2._2=G([a7.cd,a7.X,a7.xN,a7.zv,a7.cj,a7.H3])}var Y=M(e),v=M(e);
S.push("%AI11_BeginTextDocument");S.push("/AI11TextDocument : /ASCII85Decode ,");S=S.concat(Y);S.push("0.0001 0.0001 /RulerOrigin ,");
S.push(";");S.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");S=S.concat(v);S.push(";");S.push("%AI11_EndTextDocument")}S.push("%%EndSetup\r");
S=S.concat(D);S.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var R=0;R<S.length;R++){var K=S[R];if(typeof K=="string")K=S[R]=c.WT(K);n+=K.length+1}var cm=new Uint8Array(n);
for(var R=0;R<S.length;R++){var K=S[R];cm.set(K,a5);a5+=K.length;cm[a5]=13;a5++}return cJ.aLq(cm).buffer}function M(H){var t=new jY,X=fM.$a(H,t)-2,Q=C(t.data.slice(0,X)),D=[];
for(var L=0;L<Q.length;L+=100){if(Q.length-L<103){D.push("%"+Q.slice(L));break}D.push("%"+Q.slice(L,L+100))}return D}function O(hS){return hS.toFixed(3)}function P(H,t){var X=H.getName(),Q=null;
t.push("%_/ArtDictionary :");if(H.add.vmsk)Q=H.add.vmsk.YW;if(H.add.SoLd){var D=a.F.fu(H.add.SoLd);Q=Math.atan2(-D.X,D.cd)}if(H.add.TySh){var D=H.add.TySh.M;
Q=Math.atan2(-D.X,D.cd)}if(Q!=null&&Q!=0)t.push("%_("+Q+") /String (BBAccumRotation) ,");if(H.add.TySh)t.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!X.startsWith("<")&&!X.endsWith(">")){t.push("%_/XMLUID : "+y(X)+" ; (AI10_ArtUID) ,")}t.push("%_;","%_")}function y(H){var t="";
for(var R=0;R<H.length;R++){var X=H[R],Q=H.charCodeAt(R);if(X==" ")t+="_";else if(X=="."||X==":"||X=="-"||48<=Q&&Q<=57||65<=Q&&Q<=90||97<=Q&&Q<=122||127<Q)t+=X;
else t+="_x"+Q.toString(16).toUpperCase()+"_"}return"("+t+")"}function F(H,t,X){X.push(h(H)+" "+t)}function A(H){return"[ "+h(H)+" ]"}function h(H){return H.map(O).join(" ")}function m(H,t,X,Q,D,L){var E=H.w;
if(L!=0)D.push("0 A",(E.CD()?0:1)+" Xw");if(E.ES()){var _=!1;for(var R=0;R<H.children.length;R++)if(H.children[R].w.Cj)_=!0;
var S=E.add.lsct==dU.l9?1:0;if(L==0){D.push("%AI5_BeginLayer");D.push((E.CD()?1:0)+" "+t.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
D.push("("+E.getName()+") Ln");D.push(S+" AE");P(E,D)}else{D.push(S+" Ae");D.push(_?"q":"u")}for(var R=0;
R<H.children.length;R++)m(H.children[R],t,X,Q,D,L+1);if(L==0)D.push("LB","%AI5_EndLayer--");else{D.push(_?"Q":"U");
P(E,D);Z(E,D);D.push("0 0 Xd","6 () XW")}}else if(!0){Z(E,D);var W=E.add.TySh,g=E.add.vmsk;if(W){D.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",Q.aKt+" /StoryIndex ,");
if(iP.z0(W.nA)==1){var x=iP.SP(W.nA),V=a.b.hC(new gi(x[0],x[1],x[2],x[3])).L;a.b.M(V,W.M,V);a.b.M(V,X,V);
D.push("/Art :","X=","1 Ap",V[0]+" "+V[1]+" m",V[2]+" "+V[3]+" L",V[4]+" "+V[5]+" L",V[6]+" "+V[7]+" L",V[0]+" "+V[1]+" L","n","X+","; /ConfiningPath ,")}D.push("2 /TextAntialiasing ,",";");
Q.aKt++}else if(E.add.SoLd){var b,N,J,K=E.add.SoLd,q=K.Idnt.v,d=t.vP(q,K.Crop?K.Crop.v:null),l=d.EV,b=l[0],N=l[1];
J=a.F.fu(K);var T=new kp(1,0,0,-1,0,0);T.concat(J);T.concat(X);var B=N.C(),p=N.A,I=N.$,w=a.j(B*4+8);
for(var R=0;R<B;R++){var e=R*4,G=R*3;w[G]=b[e];w[G+1]=b[e+1];w[G+2]=b[e+2];w[3*B+R]=b[e+3]}c.Eu(w,B*4,"%EndData");
D.push("%AI5_File:","%AI5_BeginRaster",A([T.cd,T.X,T.xN,T.zv,T.cj,T.H3])+" 0 0 "+[p,I,p,I].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(B*4+4),"XI",w,"XH","%AI5_EndRaster","N")}else if(g){var j=E.add.vstl,o,r;
if(j){o=j.Tq;r=j.Jc;if(o.length==0)o=null;if(r.length==0)r=null}var k=a.z._i(g.u)>1;if(k)D.push("*u","0 Xw");
if(o){if(o.length==3)F(o,"Xa",D);else if(o.length==4){var a7=f(o,Q);D.push("Bb",a7,"2 BB")}else{D.push("("+o[0]+") "+o[1][0].join(" ")+" ["+o[1][1].join(" ")+"] p")}}if(r){var Y=X.dI(),v=j.wm.slice(0);
for(var R=0;R<v.length;R++)v[R]*=Y;D.push(j.wF+" J "+j.sa+" j "+j.WJ*Y+" w "+O(j.LN)+" M ["+v.join(" ")+"]0 d");
if(r.length==3)F(r,"XA",D);else if(r.length==4){var a7=f(r,Q);D.push("1 Bb",a7,"2 BB")}else{D.push("("+r[0]+") "+r[1][0].join(" ")+" ["+r[1][1].join(" ")+"] P")}}var n=a.b.TM(g.u,1);
a.b.M(n.L,X,n.L);var cm=E.Cj?"h\nW\nn":o&&r?"b":o?"f":"s";u(n,cm,g.gW,D);if(k)D.push("*U")}P(E,D)}else{var a5=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
D=D.push(a5.join("\n"))}}function Z(H,t){var X=eq.awB.indexOf(H.mX);if(X==-1)X=0;t.push(X+" "+O(H.N_/255)+" 0 0 0 Xy")}function u(H,t,X,Q){Q.push(X+" XR");
var D=0;for(var L=0;L<H.J8.length;L++){var E=H.J8[L],_,S=0,W="";if(E=="M"){S=2;_="m"}if(E=="L"){S=2;
_="l"}if(E=="C"){S=6;_="c"}for(var R=0;R<S;R++)W+=O(H.L[D+R])+" ";D+=S;if(S!=0)Q.push(W+_);if(L==H.J8.length-1||H.J8[L+1]=="M"){Q.push(E=="Z"?t:t.toUpperCase())}}}function f(H,t){var X=U(H,t),Q="";
if(H[0]==1)Q="0 0 "+H[2].slice(5).map(O).join(" ")+" Bh\n";return Q+"1 ("+X+") "+H[2].slice(0,4).map(O).join(" ")+" "+H[3].map(O).join(" ")+" "+O(H[2][4])+" Bg"}function U(H,t,X){var Q=H[0],D=H[1].slice(0),L=Q+"-"+JSON.stringify(D);
if(t.g$[L])return t.g$[L];console.log(X);var E=t.g$[L]=X?X:"grd"+t.io.length;t.io.push("%AI5_BeginGradient: ("+E+")","("+E+") "+Q+" "+D.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(Q==0)D=D.reverse();for(var R=0;R<D.length;R++){var _=D[R];if(_[3]==null)throw"e";var S=a.y5(_[1]),W=100*_[3],g=S.concat(_[1]).map(O).join(" ")+" 2 "+O(_[2])+" 6 "+W+" "+O(_[0]*100);
t.io.push(g+" %_BS");t.io.push("%_"+g+" Bs")}t.io.push("BD","%AI5_EndGradient");return E}function C(H){var t=[85*85*85*85,85*85*85,85*85,85,1],X="",Q=H.length,D=new Uint8Array(4),L=new Uint32Array(D.buffer);
for(var R=0;R<Q;R+=4){var E=Q-R;D[3]=H[R];D[2]=E>1?H[R+1]:0;D[1]=E>2?H[R+2]:0;D[0]=E>3?H[R+3]:0;var _=L[0],S=1+Math.min(4,E);
for(var W=0;W<S;W++){var g=Math.floor(_/t[W]);X+=String.fromCharCode(33+g);_-=g*t[W]}}return X+"~>"}return s}();
function kG(){}kG.kM=function(){var s,M,O,P,y,F=!0,A=!0,_,S,W;function h(p){return F?c.je(s,p):c.h4(s,p)}function m(p){return F?c.vJ(s,p):c.m4(s,p)}function Z(p){return F?c.$L(s,p):c.tV(s,p)}function u(p){return c.vJ(s,p)}function f(p){return c.je(s,p)}function U(p){return c.KF(s,p)}function C(p,I){if(p+I*4>s.length)throw I;
var w=[];for(var R=0;R<I;R++)w.push(h(p+R*4));return w}function H(p,I){var w=[];for(var R=0;R<I;R++)w.push(Z(p+R*8));
return w}function t(p){return f((p+1)*4096-12)}function X(p){return f((p+1)*4096-8)}function Q(p,M,I,w){if(P[p]==null)P[p]=[];
P[p].push([w,new Uint8Array(s.buffer,M,I)])}function D(p,I,w,e){var G=O[p],M=G*4096;M=M+f(M+4096-24-12-I*4);
var j=u(M),o=s[M+2],r=s[M+3];if(I!=o)throw o;if(r==0)Q(e,M+4,w,9);else{var k=u(M+6),a7=f(M+8);Q(e,M+12,j-12,9);
D(a7,k,w-(j-12),e)}}function L(){var p=f(352),I=f(p*4096+128),w=f(936);O=[];P={};y={};for(var R=0;R<1e9;
R++){var e=f(w*4096+128+R*4);if(e==0)break;var G=C(e*4096+128,4096-128-12>>>2);O=O.concat(G)}for(var j=0;
j<O.length;j++){var o=O[j],r=t(o);if(r!=6)continue;var M=o*4096,k=f(M);M+=4;for(var R=0;R<k;R++){var a7=f(M);
M+=4;var Y=f(M);M+=4;var v=f(M);M+=4;var n=f(M);M+=4;if(a7==0)y[Y]=v;else{var cm=v&65535,a5=v>>>16;if(a5==0)Q(Y,n*4096,cm,8);
else D(n,a5,cm,Y)}}}var _={};for(var gP in P){var cg=P[gP],a9=cg.length;if(a9==1)_[gP]=cg[0][1];else{var ew=0,M=0;
for(var R=0;R<a9;R++)ew+=cg[R][1].length;var h7=_[gP]=new Uint8Array(ew);for(var R=0;R<a9;R++){h7.set(cg[R][1],M);
M+=cg[R][1].length}}}return _}function E(M,p){var I=0,w="";if(p){I=h(M);M+=4}else{M+=3;I=m(M);M+=2}while(w.length<I){var e=m(M),G=e&255,j=e>>>8,o=0,r="";
G+=(j&15)*256;j=j&240;M+=2;if(G==0)throw"e";for(var R=0;R<G;R++){if(j==64)o=s[M++];else if(j==128){o=m(M);
M+=2}else throw j;r+=String.fromCharCode(o)}w+=r}return[w,M]}function g(M,p,I){var w=C(M,p);for(var R=0;
R<p;R++){I.push(R);if(w[R]>S)throw"e";w[R]=V(w[R],I);I.pop()}return w}var x={};function V(p,I){if(W.indexOf(p)!=-1)return _[p];
if(p==0)return null;if(_[p]==null)return null;if(!(_[p]instanceof Uint8Array))return _[p];var w=s,M=0;
s=_[p];W.push(p);var e=y[p].toString(16),G=_[p]={_type:B[e]?B[e]+":"+e:"typ-"+e,_eid:p};while(M+8<s.length){var j=h(M);
M+=4;var o=h(M);M+=4;var r=j.toString(16),k=M+o;if(M+o>s.length){G._bin=s;break}b(r,q,G,M,o,I);M=k}s=w;
W.pop();return G}function b(p,I,w,M,e,G){var j=I[p+":"+w._type];if(j==null)j=I[p];G.push(j?j[0]==""?p:j[0]:p);
if(j){var o=j[0],r=null,k=j[1];if(o=="")o=k+"-"+p;if(l[k]&&e!=l[k]){console.log(k);console.log(p,j);
console.log(s.slice(M,M+e));throw"e"}if(k=="mat")r=H(M,6);else if(k=="mmat")r=[V(h(M),G),e==6?[1,0,0,1,0,0]:H(M+6,6)];
else if(k=="rect")r=H(M,4);else if(k=="mrct"){r=H(M,4);r.push(u(M+32))}else if(k=="doub")r=Z(M);else if(k=="pointArr"){var a7=u(M);
r=C(M+2,a7*2)}else if(k=="usrt")r=u(M);else if(k=="uint")r=h(M);else if(k=="pntr"||k=="ptr6"){r=V(h(M),G)}else if(k=="bool2"){if(m(M)!=0&&m(M)!=1)throw m(M);
r=m(M)==1}else if(k=="bool4"){if(h(M)>60)throw p+","+h(M);r=h(M)==1}else if(k=="color"){if(e!=38&&e!=30&&e!=22)throw e;
var Y=h(M),v=m(M+4);r=[Y];for(var R=0;R<v;R++)r.push(Z(M+6+R*8))}else if(k=="path"){var n=M+e;r=[];var cm=h(M);
M+=4;for(var R=0;R<cm;R++){var a5=[[]];r.push(a5);var gP=h(M);M+=4;for(var cg=0;cg<gP;cg++){var Y=h(M);
M+=4;if(Y<2){a5[0].push([Y,Z(M),Z(M+8),Z(M+16),Z(M+24),Z(M+32),Z(M+40)]);M+=48}else if(Y==2){a5[0].push([Y,Z(M),Z(M+8)]);
M+=16}else throw Y}var a9=u(M);if(a9!=0&&a9!=1&&a9!=256){console.log("unknown last",a9);r.pop();break}a5.push(a9);
M+=2}}else if(k=="ptrAndList"){var ew=h(M),r=[];if(e>4){var h7=h(M+4);if(h7>600)throw h7;r=g(M+8,h7,G)}r.unshift(V(ew,G))}else if(k=="ptrArray"||k=="ptrArrayX"){var bh=e>>2;
if(k=="ptrArray"){bh=h(M);M+=4;if(e!=4+bh*4)throw e}r=g(M,bh,G)}else if(k=="ptrArray2"){var bh=h(M);
M+=4;r=g(M,bh,G);M+=bh*4;bh=h(M);M+=4;r.push(g(M,bh,G))}else if(k=="cldrn"){var ba=h(M),jx=h(M+4),bh=h(M+8);
r={J:V(ba,G),MV:V(jx,G),FN:g(M+12,bh,G)};if(e!=12+bh*4){console.log(p,sa);throw"e"}if(ba==0)throw ba}else if(k=="aprnc"){var bh=h(M);
M+=4;r={};for(var R=0;R<bh;R++){var c4=h(M),bq=m(M+4),di=m(M+6);M+=8;var il=T[c4.toString(16)];if(il==null)il="prm-"+c4.toString(16);
else il=K(il);r[il]=[];for(var cg=0;cg<di;cg++){var j0=h(M),j1=m(M+4),b5=null;M+=6;if(j0==28264)b5=Z(M);
else if(j0==28263)b5=h(M);else if(j0==279||j0==6917)b5=V(h(M),G);else if(j0==28261)b5=u(M)==1;else if(j0==28265)b5=[Z(M),Z(M+4)];
else if(j0==6914||j0==83231)b5=E(M)[0];else if(j0==28259||j0==28260||j0==23094||j0==67679){b5=s.slice(M,M+j1)}else throw j0.toString(16);
r[il].push(b5);M+=j1}}}else if(k=="lopts"){var b4=8;if(F&&m(M+b4)<2)b4+=2;if(!F&&(h(M+b4)==0||h(M+b4)==65536))b4+=2;
r={a15:m(M+0)==1,show:m(M+2)==1,aDD:m(M+4)==1,zd:h(M+b4),name:E(M+b4+8)[0]}}else if(k=="origin"){var n=M+e;
if(s[M++]!=1)throw"e";var a7=h(M);M+=4;var lm=c.Db(s,M,a7);M+=a7;M++;var ix=s[M++],jy=m(M);M+=2;var bz=h(M);
M+=4;if(bz!=0&&bz!=1)throw bz;var c5=h(M);M+=4;if(c5!=0&&c5!=2&&c5!=3)throw c5;var k0=f(M);M+=4;var cd=E(M,!0);
M=cd[1];cd=cd[0];var fz=f(M),fu=f(M+4);M+=8;var c6=f(M);M+=4;if(c6!=0)throw c6;var k7=f(M);M+=4;var hP=E(M)[0];
M+=2+2+hP.length+3;r={file:lm,id:cd,gL:hP}}else if(k=="string")r=E(M)[0];else if(k=="relEnt"){var e1=m(M);
M+=2;r=[];for(var R=0;R<e1;R++)r.push([h(M+R*8),V(h(M+R*8+4),G)])}else if(k=="textData"){var n=M+e,fs=h(M);
M+=4;var c4=h(M);M+=4;var v=m(M);M+=2;var eh=[];for(var R=0;R<v;R++){var gW=h(M);M+=4;if(fs==514)eh.push(E(M,!0)[0]);
else if(fs==515){var hk=h(M),p=h(M+4),jz=N(M+8,G);eh.push([hk,V(p,G),jz])}else if(fs==516){var hk=h(M),p=h(M+4),lh=m(M+8),jz=N(M+8,G);
eh.push([hk,V(p,G),jz])}else eh.push(s.slice(M,M+gW));M+=gW}if(n-M!=12)throw n-M;r=eh}else if(k=="storyProps"){var ag=M;
if(m(ag+4)>1)throw"e";var v=h(ag+10);r={a1X:h(ag),a8c:V(h(ag+6),G),FN:g(ag+14,v,G),aty:V(h(ag+14+v*4),G)}}else if(k=="styleProps")r=N(M,G);
else if(k=="bounds"){var ag=M,e1=h(M);M+=4;r=[];for(var R=0;R<e1;R++){var eo=[];r.push(eo);for(var cg=0;
cg<4;cg++)eo.push(Z(M+cg*8));M+=32;eo.push(s[M]);M++}if(M!=ag+e)throw"e"}else if(k=="columnPos"){var e1=h(M);
M+=4;r=[H(M,e1),Z(M+e1*8)];M+=e1*8+8}else if(k=="StyleName"){r=[h(M+4)]}else if(k=="fontName"){var n=M+e;
r=[m(M)];M+=2;if(r[0]==2){M=n}else if(r[0]==3){for(var R=0;R<2;R++){if(m(M+3)==0){M+=7;continue}var lm=E(M);
M=lm[1];r.push(lm[0])}var aC=h(M);M+=4;if(aC==0){M=n}else{var lm=E(M);M=lm[1];r.push(lm[0]);var lm=E(M);
M=lm[1];r.push(lm[0]);var lm=E(M);M=lm[1];r.push(lm[0]);M+=10}M=n}else{if(r[0]!=1&&r[0]!=4)throw r[0];
for(var R=0;R<2;R++){var lm=E(M);M=lm[1];r.push(lm[0])}var e8=m(M),lb=m(M+2);M+=4;r.push(e8);var aC=m(M);
M+=2;r.push(aC);var jn=m(M);M+=2;var k3=[];r.push(k3);for(var cP=0;cP<jn;cP++){var cV=[];k3.push(cV);
var lm=E(M);M=lm[1];cV.push(lm[0]);var l2=m(M);if(l2<256){M+=2;var lm=c.Db(s,M,l2);M+=l2;cV.push(lm)}else{var lm=E(M);
M=lm[1];cV.push(lm[0])}for(var R=0;R<3;R++){var lm=E(M);M=lm[1];cV.push(lm[0])}var dS=h(M);cV.push(dS);
M+=4;if(h(M)>65535)A=!1;if(!A)continue;var lm=E(M,!0);M=lm[1];cV.push(lm[0])}r.push(h(M));M+=4}if(M!=n){M=n;
console.log("strange fontName")}}else throw k;if(w[o]!=null){console.log(o,w[o],r);console.log(G.slice(0));
console.log(eid,p,M,w[o],j,r);throw"e"}w[o]=r}else{var gH=s.slice(M,M+e);w["prop-"+p]=gH}G.pop()}function N(M,p){var I=m(M);
M+=2;var w={};for(var R=0;R<I;R++){var e=h(M);M+=4;var G=e.toString(16),j=m(M);M+=2;var o=m(M);M+=2;
for(var r=0;r<o;r++){var k=h(M);M+=4;var a7=m(M);M+=2;b(G,d,w,M,a7,p);M+=a7}}return w}function J(p){F=!0;
A=!0;s=new Uint8Array(p);_=L();var I=_[2147483649];I=c.xJ(I,4,I.length-4);delete _[2147483649];S=0;for(var w in _)S=Math.max(S,parseInt(w));
W=[];var e={};for(var w in _)e[w]=_[w];var G=_[1];if(G[0]==0)F=!1;for(var w in _)V(parseInt(w),[]);return _}function K(p){p=p.split(" ").join("");
return p[0].toLowerCase()+p.slice(1)}var q={"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},d={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},l={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},T={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},B={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return J}();function eT(){}eT.kM=function(){var s=0;function M(f,U){var C=kG.kM(f),J=1;s=0;var H=C[1],t=H.spreads,X=[],Q=new gi;
for(var D=0;D<t.length;D++){var L=t[D],E=L.children;if(E==null)continue;var _=E.FN,S=P(L),W=_[0].children.FN,g=new gi;
for(var x=0;x<W.length;x++){var V=W[x],b=P(V);b.concat(S);var N=O(V);N.offset(b.cj,b.H3);N=a.b.An(N);
g=g.v8(N)}X.push(g);Q=Q.v8(g)}while(Math.sqrt(Q.C())*J<1e3)J++;while(Q.C()*J*J*4>2e9)J/=2;U.A=Q.A*J;
U.$=Q.$*J;U.buffer=new Uint8Array(4*U.A*U.$);U.Jf=!0;U.FR=Math.round(72*J);U.Fh(t.length);for(var D=0;
D<t.length;D++){var L=t[D],E=L.children;if(E==null)continue;var _=E.FN,K=U.Tk();K.Xa=24;K.add.lsct=dU.l9;
K.jj("Artboard "+(D+1));var q=X[D].v();q.offset(-Q.x,-Q.y);q.x*=J;q.y*=J;q.A*=J;q.$*=J;q=a.b.An(q);K.Y3(q);
K.mX="pass";U.U.push(U.kA());var S=P(L);S.translate(-Q.x,-Q.y);S.scale(J,J);var d={};for(var l=0;l<_.length-1;
l++){var T=_[l],B=T.children;if(B==null)continue;B=B.FN;var p=U.Tk(),I=T.layer;if(I==null)continue;var w=I.lopts;
if(w.name=="Internal_pages_layer_name"||d[w.name])continue;d[w.name]=!0;p.Xa=24;p.add.lsct=dU.l9;p.jj(w.name);
p.x1(w.show);if(w.a15)p.add.lspf=1<<31;p.mX="pass";U.U.push(U.kA());for(var R=0;R<B.length;R++)m(B[R],U,S,C);
U.U.push(p)}U.U.push(K)}}function O(f){var U=f.rect;return new gi(U[0],U[1],U[2]-U[0],U[3]-U[1])}function P(f){var U=f.transform;
if(U==null)U=new kp;return new kp(U[0],U[1],U[2],U[3],U[4],U[5])}function y(f){var U=f.color,C=f.parentFill,t;
if(U==null&&C)U=C.color;if(U==null){console.log("strange color",f);return[0,0,0]}var H=U[0];if(H==5)t=U.slice(1);
else if(H==6)t=UDOC.C.cmykToRgb(U.slice(1));else if(H==7){var X=a.lU(U[1],U[2],U[3]);t=[X.o/255,X.R/255,X.X/255]}else if(H==9)t=[U[1],U[1],U[1]];
else if(H==14){t=U.slice(1);console.log("unsure about the color")}else{console.log(U);throw H}return t}function F(f){var U=y(f);
return a.wv.gN({o:U[0]*255,R:U[1]*255,X:U[2]*255})}function A(f){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[f]}function h(f,U){var R=0,C=0;
while(f[R+1]&&C+f[R][0]<=U){C+=f[R][0];R++}f=f[R][1].textData;R=0;while(f[R+1]&&C+f[R][0]<=U){C+=f[R][0];
R++}return f[R]}function m(f,U,C,H){var t=f.transform?P(f):new kp;t.concat(C);var X=f.path,Q=f.appearance,D=f.visible,L=f.children?f.children.FN:null,E=U.Tk();
if(D!=null)E.x1(D);var _=L&&L.length==1&&L[0]&&L[0].bitmapFill,S=f["bool2-1623"]&&L&&L.length==1&&L[0].rect&&L[0]._type.startsWith("TextFrame");
if(_){E.jj("bitmap");var W=L[0],g=O(W),x=P(W),q=null;x.concat(t);var V=W.bitmapFill.bitmap;V=H[V]._bin;
if(V==null)return;if(V.length!=V.buffer.byteLength)V=V.slice(0);if(V[0]==123){console.log("unknown bitmap format");
return}var b=b_.WG(V.buffer);if(["jpg","tiff","png","gif","webp"].indexOf(b)==-1){alert("unsupported bitmap format:"+b);
return}var N=U.N4(V,"img.jpg",0,0);N.Xa=E.Xa;E=N;var J=[0,0,g.A,0,g.A,g.$,0,g.$];a.b.M(J,x,J);E.add.SoLd.Trnf=$.TR.kZ(J);
E.add.SoLd.nonAffineTransform=$.TR.kZ(J);E.VN(U,!1);var K=W.path;if(K&&K.length!=0)q=u(K,x,Q);else if(X&&X.length!=0)q=u(X,t,Q);
if(q){var d=a.z._E(q.u),l=a.b.hG(J);if(d.C()/l.OK(d).C()>1.1){if(d.contains(l))q=null;var T=f.children;
f.children=null;m(f,U,C,H);f.children=T}}if(q)E.add.vmsk=q;E.$k();E.uH(U)}else if(S){if(Q&&Q.strokeSwatch){var B=U.Tk();
Z(B,U,Q,X,t);U.U.push(B)}var p=L[0],g=O(p),x=P(p),a9=0;x.concat(t);var I=p.children.FN[0],w=I.obj228,e=w[0].story[1],G=e.stoProps.a8c.relEnt,j=e.stoProps.FN[0].relEnt;
if(j==null)j=e.stoProps.FN[2].relEnt;var o=e.stoProps.FN[1];if(o["ptrArrayX-210"]==null)o=e.stoProps.FN[6];
if(o["ptrArrayX-210"][0]==null)return;o=o["ptrArrayX-210"][0].textData;var r=H[G[0][1].textData[0][1].name[0]],k=r?r.styProps:{};
o=o.join("").replace(/\r/g,"\n");var a7=-1;while((a7=o.indexOf("\uFFFC"))!=-1){o=o.slice(0,a7)+(o[a7-1]=="\n"?" ":" ")+o.slice(a7+1)}E.jj(o.slice(0,255));
E.add.lnsr="rend";E.add.TySh=iP.cN(0,0);E.add.TySh.WY=g;E.add.TySh.M=x;var Y=E.add.TySh.nA;iP.Xq(Y,0,o);
var v=iP.ty(Y,0,o.length);v.TY.FontSize=10;iP.UP(Y,0,o.length,v);var n=[];if(o.length!=0){var cm=h(G,0),a5=h(j,0),gP=1;
for(var R=1;R<o.length;R++){var X=h(G,R),cg=h(j,R);if(X!=cm||cg!=a5){n.push(gP);gP=0}cm=X;a5=cg;gP++}if(gP!=0)n.push(gP)}for(var R=0;
R<n.length;R++){var ew=h(j,a9),h7=n[R],bh=Math.min(a9+h7,o.length-1),ba=ew[2],jx=ew[1]?ew[1].styProps:null;
if(jx==null)jx={};var c4=h(G,a9),bq=c4[1].styProps,di=c4[2],il={};for(var j0 in k)il[j0]=k[j0];for(var j0 in bq)il[j0]=bq[j0];
for(var j0 in di)il[j0]=di[j0];for(var j0 in jx)il[j0]=jx[j0];for(var j0 in ba)il[j0]=ba[j0];il.FontCaps=il.FontCaps&3;
var v=iP.ty(Y,a9,bh),j1=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],b5=j1.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var b4=0;b4<b5.length;b4++){var j0=b5[b4],lm=b4<j1.length?v.TY:v.Gy;if(il[j0]!=null)lm[j0]=il[j0]}if(il.fillColor){var ix=y(il.fillColor);
v.TY.FillColor={Type:1,Values:[1].concat(ix)}}if(il.font){var jy=il.font.name[5],bz=il.fontStyle;if(bz==null)bz="Regular";
if(jy)for(var c5=0;c5<jy.length;c5++)if(jy[c5][0]==bz)iP.Z2(v,jy[c5][1])}if(il.leading!=null&&il.leading>1){v.TY.Leading=il.leading;
v.TY.AutoLeading=!1}if(il.align!=null)v.Gy.Justification=[0,2,1,6,3,5,4,0,0,0][il.align];iP.UP(Y,a9,bh,v);
a9+=h7}iP.hV(Y,1);iP.w9(Y,[0,0,Math.round(g.A),Math.round(g.$)])}else if(f._type.startsWith("Path")&&(L==null||L.length==0)&&X){Z(E,U,Q,X,t)}else{var k0=f["prop-14526"];
if(L==null&&k0){var cd=H[c.je(k0,20)];L=[cd]}if(L){if(X&&X.length!=0){E.add.vmsk=u(X,t,Q);E.$k();E.uH(U)}E.jj("group");
E.Xa=24;E.add.lsct=dU.l9;U.U.push(U.kA());for(var R=0;R<L.length;R++)if(L[R])m(L[R],U,t,H)}}if(Q){var fz=Q.objectBlendingMode,fu=Q.objectOpacity,c6=Q.fillTint,hP=!1;
if(fz)E.mX=A(fz[0]);if(fu)E.N_=Math.round(E.N_*fu[0]/100);if(!_&&c6)E.N_=Math.round(E.N_*c6[0]/100);
var k7=JSON.parse(aV.default);for(var R=0;R<aV.order.length;R++)k7[aV.e1[R]]={t:"VlLs",v:[]};var e1="dropShadow innerShadow satin bevel iglow oglow".split(" "),fs="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var R=0;R<e1.length;R++){var eh=e1[R];if(Q[eh]&&Q[eh][0]){var gW=Q[eh],jz=135,lh=10;hP=!0;var hk=JSON.parse(aV.d$[aV.order.indexOf(fs[R])]);
k7[aV.e1[aV.order.indexOf(fs[R])]].v.push({t:"Objc",v:hk});if(Q[eh+"Color"])hk.Clr.v=F(Q[eh+"Color"][0]);
else if(e1[R]=="iglow"||e1[R]=="oglow")hk.Clr.v=a.wv.gN({o:255,R:255,X:255});if(Q[eh+"ColorH"])hk.hglC.v=F(Q[eh+"ColorH"][0]);
if(Q[eh+"ColorS"])hk.sdwC.v=F(Q[eh+"ColorS"][0]);if(Q[eh+"BMode"])hk.Md.v.BlnM=h0.Qz(A(Q[eh+"BMode"][0]));
if(Q[eh+"BModeH"])hk.hglM.v.BlnM=h0.Qz(A(Q[eh+"BModeH"][0]));if(Q[eh+"BModeS"])hk.sdwM.v.BlnM=h0.Qz(A(Q[eh+"BModeS"][0]));
if(Q[eh+"Opacity"])hk.Opct.v.val=Q[eh+"Opacity"][0];if(Q[eh+"OpacityH"])hk.hglO.v.val=Q[eh+"OpacityH"][0];
if(Q[eh+"OpacityS"])hk.sdwO.v.val=Q[eh+"OpacityS"][0];if(Q[eh+"Size"])hk.blur.v.val=Q[eh+"Size"][0];
if(Q[eh+"Angle"])jz=Q[eh+"Angle"][0];if(Q[eh+"Dist"])lh=Q[eh+"Dist"][0];if(Q[eh+"DX"]){var ag=Q[eh+"DX"][0],eo=Q[eh+"DY"]?Q[eh+"DY"][0]:0;
lh=Math.round(Math.sqrt(ag*ag+eo*eo));jz=Math.round(Math.atan2(eo,-ag)*180/Math.PI)}if(hk.lagl)hk.lagl.v.val=jz;
if(hk.Dstn)hk.Dstn.v.val=lh;if(hk.uglg)hk.uglg.v=!1;if(Q[eh+"Invert"])hk.Invr.v=Q[eh+"Invert"][0];else if(e1[R]=="satin")hk.Invr.v=!1;
if(Q[eh+"Alt"])hk.Lald.v.val=Q[eh+"Alt"][0];if(Q[eh+"Depth"])hk.srgR.v.val=Q[eh+"Depth"][0];if(Q[eh+"Choke"])hk.Ckmt.v.val=Q[eh+"Choke"][0]}}if(hP)E.add.lmfx=k7}if(f.name)E.jj(f.name);
else if(Q&&Q.name)E.jj(Q.name[0]);U.U.push(E)}function Z(f,U,C,H,t){f.jj("path");f.Xa|=16;f.add.vmsk=u(H,t,C);
var X=f.add.vstk=aV.To.Jb(),Q=a.wv.gN({o:0,R:0,X:0});if(C){var D=C.strokeSwatch,L=C.fillSwatch,E=C.basicFeather,_=C.basicFeatherWidth,S=C.strokeWeight;
X.strokeEnabled.v=D!=null;X.fillEnabled.v=L!=null;if(E)f.add.vmsk.CN=_?_[0]:9;if(D){X.strokeStyleLineWidth.v.val=S?S[0]:1;
Q=F(D[0]);X.strokeStyleContent.v.Clr.v=Q}if(L){Q=F(L[0])}}if(Q)f.add.SoCo={classID:"null",Clr:{t:"Objc",v:Q}};
f.$k();f.uH(U)}function u(f,U,C){var H=new ad.Vp,t=H.u;for(var X=0;X<f.length;X++){var Q=f[X],D=Q[0].length,L=Q[1]==0;
if(D==0)continue;var E=L?0:3;t.push({I:E,length:D,VF:0,gW:2,zm:0,fd:0});for(var R=0;R<D;R++){var _=Q[0][R],S=_[0],W=new j6(_[1],_[2]),g=new j6(_[3],_[4]),x=new j6(_[5],_[6]);
if(S==0||S==1)t.push({I:E+2,Rb:W,nr:g,XO:x});else if(S==2)t.push({I:E+2,Rb:W,nr:W,XO:W});else throw S}}a.z.R7(t,U);
return H}return M}();function cR(){}cR.hb=async function(s,M,O){if(O==null){O=8*1024*1024}var P=await s.slice(M,M+O),y=await P.arrayBuffer();
return new Uint8Array(y)};cR.ax8=function(s,M){var O=s[M],P=O,y=1;while(!(O&128)){++y;O=O<<1&255}O&=127;
O>>>=y-1;for(var R=1;R<y;++R){var F=s[M+R];O*=256;O+=F;P*=256;P+=F}return[O,y,P]};cR.VU=function(s,M,O){var P=s[M],y=P&128,F=P&127;
for(var R=1;R<O;++R){y*=256;F*=256;F+=s[M+R]}return F-y};cR.h4=function(s,M,O){var P=s[M];for(var R=1;
R<O;++R){P*=256;P+=s[M+R]}return P};cR.a05=function(s){var M=1,O=cR.h4(s,M,1),Z="hvc1",f=0,U=!1,C="";
M+=1;var P=O>>6,y=(O&32)>>5,F=O&31,A=cR.h4(s,M,4);M+=4;var h=s.slice(M,M+6);M+=6;var m=cR.h4(s,M,1);
Z+=".";switch(P){case 0:Z+="";break;case 1:Z+="A";break;case 2:Z+="B";break;case 3:Z+="C";break}Z+=F;
Z+=".";var u=A;for(var R=0;R<32;R++){f|=u&1;if(R==31)break;f<<=1;u>>=1}Z+=f.toString(16);Z+=".";if(y===0){Z+="L"}else{Z+="H"}Z+=m;
for(R=5;R>=0;R--){if(h[R]||U){C="."+h[R].toString(16)+C;U=!0}}Z+=C;return Z};cR.fC=function(s,M){this.bO=!1;
this.CM=s;this.position=0;this.oe=[];this.Ts=[];this.Vi=[];this.zV=[];this.tv=!0;this.axf=0;this.kk=10;
this.kg=6;this.oE=[];this.kz=-2;this.HM=[];this.Nz;this.vF;this.ct=M;this.p1;this.Ip;this.acw=-1;this.frames;
this.IG=null;this.YU=null;this.sq=null};cR.fC.BE=async function(){if(!this.bO){await this.SP()}return this.jN};
cR.fC.wd=function(s){var M=this.Ts[this.position],O;if(this.tv&&M==this.axf)this.tv=!1;if(!this.ct){if(this.Vi[M]){this.vF.drawImage(s,0,0);
O=this.vF.getImageData(0,0,this.jN.rM.width,this.jN.rM.height).data}if(this.zV[this.position]==0)s.close()}try{if(this.oe[M]){if(this.ct){this.oe[M](s)}else if(this.Vi[M]){this.oe[M](O)}}var P=this.position-this.kk;
if(P>=0){var y=this.Ts[P];delete this.pR[y];delete this.oe[y];this.Vi[y]=!1}this.position++}catch(hj){console.log(M);
console.log(this.oe[M]);console.log(hj)}};cR.fC.mI=async function(s){if(this.zV[this.position]==0){if(this.ct){createImageBitmap(s).then(img=>{this.wd(img)});
s.close()}else{this.wd(s)}}else{var M=this.zV[this.position];createImageBitmap(s,{resizeWidth:s.aaI>>M,resizeHeight:s.ali>>M}).then(img=>{this.wd(img)});
s.close()}};cR.fC.sn=async function(s,M,e2=0){if(!this.bO){await this.SP()}if(!this.YU){await this.atU();
if(this.YU.state!="configured"){console.log("Could not make decoder.");return}}if(this.p1.length<=s){console.log("Requested track does not exist");
return}var O=this.p1[s],F,A,h;if(M>=this.jN.rM.Tf||M<0){console.log("Requested frame out of range");
return}var P=M;M=this.bf(M);this.Vi[M]=!0;var y=M-this.kz;if(this.tv){y=1;this.axf=M}if(M!=this.kz+1){A=this.oE[this.oE.length-1];
for(var R=0;R<this.oE.length;++R){if(M<this.oE[R]){A=this.oE[R-1];break}}if(A==this.acw){if(M>this.Ts[this.Ts.length-1]){A=this.Ts[this.Ts.length-1]+1}else if(this.pR[M.toString()]){A=this.Ts[this.Ts.length-1]+1}else{for(var R=this.Ts.length-this.kg;
R<this.Ts.length;++R){if(this.Ts[R]==M){A=this.Ts[this.Ts.length-1]+1;break}}}}else{this.acw=A;for(var R=this.Ts.length-this.kg;
R<this.Ts.length;++R){if(this.Ts[R]==M){A=this.Ts[this.Ts.length-1]+1;break}}}}else{A=0;if(this.Ts.length>0){A=this.Ts[this.Ts.length-1]+1}}if(A<this.frames){h=Math.min(M+this.kg,this.frames);
for(var R=A;R<h;++R){this.pR[R]=new Promise(function(m,Z){F=m});this.oe[R]=F;this.Ts.push(R);this.zV.push(e2);
if((R-M)%y==0)this.Vi[R]=!0}this.awu(O,A,h)}this.kz=M;if(this.tv)await new Promise(resolve=>setTimeout(resolve,200));
if(this.tv){this.kk+=10;this.kg+=6;this.sn(s,P+1,e2)}return this.pR[M.toString()]};var dj=function(s){function M(A,h){var m=[];
for(var R=0;R<9;R++){var Z=c.h4(A,h+R*4);if(R%3==2)m.push((Z>>>30)+(Z&1073741823)/1073741823);else m.push((Z>>>16)+(Z&65535)/65535)}return m}async function O(A,h,m,Z,u,f){var U={},C=c.h4,H=c.m4;
if(h==null){h=await cR.hb(A,m)}var t=Z-m;while(Z<u){var X=t,Q=c.h4(h,t);t+=4;var D=c.Db(h,t,4);t+=4;
if(Q==0)Q=u-X-m;if(Q==1){Q=c.dy(h,t);t+=8}var L=X+Q,E="".padStart(f,"\t");if(D!="mdat"&&L>h.byteLength){h=await cR.hb(A,m,L)}var _={};
if(D=="mvhd"){var S=h[t];if(S>1)throw D+"-e";t+=4;if(S==0){_.X3=C(h,t);t+=4;_.tj=C(h,t);t+=4;_.M1=C(h,t);
t+=4;_.duration=C(h,t);t+=4}else{_.X3=c.dy(h,t);t+=8;_.tj=c.dy(h,t);t+=8;_.M1=C(h,t);t+=4;_.duration=c.dy(h,t);
t+=8}_.fh=C(h,t);t+=4;_.volume=H(h,t);t+=2;t+=10;_.abd=M(h,t);t+=4*9;_.aEN=[];for(var R=0;R<6;R++)_.aEN.push(C(h,t+R*4));
t+=4*6;_.aAN=C(h,t);t+=4}else if(D=="tkhd"){var S=h[t];if(S>1)throw D+"-e";t+=4;if(S==0){_.X3=C(h,t);
t+=4;_.tj=C(h,t);t+=4;_.Ae=C(h,t);t+=4;t+=4;_.duration=C(h,t);t+=4}else{_.X3=c.dy(h,t);t+=8;_.tj=c.dy(h,t);
t+=8;_.Ae=C(h,t);t+=4;t+=4;_.duration=c.dy(h,t);t+=8}t+=8;_.w=H(h,t);t+=2;_.ayA=H(h,t);t+=2;_.volume=H(h,t);
t+=2;t+=2;_.abd=M(h,t);t+=4*9;_.V5=C(h,t)>>>16;t+=4;_.fw=C(h,t)>>>16;t+=4}else if(D=="mdhd"){var S=h[t];
if(S>1)throw D+"-e";t+=4;if(S==0){_.X3=C(h,t);t+=4;_.tj=C(h,t);t+=4;_.M1=C(h,t);t+=4;_.duration=C(h,t);
t+=4}else{_.X3=c.dy(h,t);t+=8;_.tj=c.dy(h,t);t+=8;_.M1=C(h,t);t+=4;_.duration=c.dy(h,t);t+=8}_.lang=H(h,t);
t+=2;_.YI=H(h,t);t+=2}else if(D=="hdlr"){var W=C(h,t);t+=4;if(W!=0)throw W;_.VK=c.Db(h,t,4);t+=4;_.aHv=c.Db(h,t,4);
t+=4;_.aqa=C(h,t);t+=4;_.Xa=C(h,t);t+=4;_.aD1=C(h,t);t+=4;var g=t;while(h[g]!=0)g++;_.name=c.Db(h,t,g-t);
t+=g-t+1}else if(D=="stsd"){var W=C(h,t);t+=4;if(W!=0)throw W;var x=C(h,t);t+=4;if(x!=1)throw x;var V=C(h,t);
t+=4;_.WO=c.Db(h,t,4);t+=4;if(_.WO=="mett"){_.aoh=c.Db(h,t,L-t)}else{for(var R=0;R<6;R++)if(h[t+R]!=0)throw D+"-e";
t+=6;_.a5X=H(h,t);t+=2;_.aGX=H(h,t);t+=2;_.aGc=H(h,t);t+=2;_.aob=C(h,t);t+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(_.WO)!=-1){_.a0K=C(h,t);
t+=4;_.acS=C(h,t);t+=4;_.aDF=[H(h,t),H(h,t+2)];t+=4;_.aws=[C(h,t)/(1<<16),C(h,t+4)/(1<<16)];t+=8;var b=C(h,t);
t+=4;if(b!=0)throw D+"-e";var N=H(h,t);t+=2;if(N!=1)throw D+"-e";var J=h[t];t++;_.aGB=c.Db(h,t,J);t+=31;
_.a2t=H(h,t);t+=2;var K=H(h,t);t+=2;if(K!=65535)throw D+"-e";if(t!=L)_.Rv=await O(A,h,m,m+t,m+L,f+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(_.WO)!=-1){_.dj=H(h,t);
t+=2;_.aua=H(h,t);t+=2;var q=H(h,t);t+=2;if(q!=0&&q!=65534)throw q;var d=H(h,t);t+=2;if(d!=0)throw d;
_.aKF=C(h,t)/(1<<16);t+=4;if(t!=L)_.Rv=await O(A,h,m,m+t,m+L,f+1)}else if(_.WO=="CTMD"){_.K=h.slice(t,L)}else if(_.WO=="tx3g"||_.WO=="text"||_.WO=="mebx"){}else if(_.WO=="tmcd"){}else if(_.WO=="CRAW"){}else if(_.WO=="sowt"){}else throw JSON.stringify(_.WO)}}else if(D=="stts"||D=="stsz"||D=="stco"||D=="stsc"||D=="ctts"||D=="elst"){var W=C(h,t),l=0,p=0;
t+=4;if(D=="stsz"){l=C(h,t);t+=4}var T=C(h,t)*(D=="stsc"||D=="elst"?3:D=="stts"||D=="ctts"?2:1);t+=4;
_=[];for(var R=0;R<T;R++){if(l!=0)_.push(l);else{if(D=="elst"){if(R%3==2){var B=C(h,t);B*=1/(1<<16);
_.push(B)}else _.push(c.VU(h,t))}else _.push(C(h,t));t+=4}}for(var R=0;R<T;R++)p+=_[R]}else if(D=="co64"){var W=C(h,t);
t+=4;if(W!=0)throw W;var T=C(h,t);t+=4;_=[];for(var R=0;R<T;R++){_.push(c.dy(h,t));t+=8}}else if(D=="iinf"){_=[];
t+=2;var I=C(h,t);t+=4;for(var R=0;R<I;R++){var w=C(h,t),e=c.Db(h,t+4,4),G=H(h,t+12),j=c.Db(h,t+16,4),X=[e,G,j];
_.push(X);if(w>21)X.push(c.Db(h,t+21,w-22));t+=w}}else if("moov trak mdia minf dinf stbl uuid edts meta iprp moof traf mvex".split(" ").indexOf(D)!=-1){if(D=="uuid")t+=16;
if(D=="meta")t+=4;_=await O(A,h,m,m+t,m+L,f+1);if(D=="moof"){_.p=t+m;_.cW=Q}}else if(D=="CMT1"||D=="CMT2"||D=="CMT3"||D=="CMT4"){_=UTIF.decode(h.slice(t,L))}else if(D=="stss"){_.p=t+m;
_.cW=Q;_.alp=C(h,t+4)}else if(D=="trex"){_.Xa=C(h,t);t+=4;_.o5=C(h,t);t+=4;_.a3j=C(h,t);t+=4;_.X6=C(h,t);
t+=4;_.aAE=C(h,t);t+=4;_.aza=C(h,t);t+=4}else if(D=="tfhd"){_.Xa=C(h,t);t+=4;_.o5=C(h,t);t+=4;if(_.Xa&1)t+=8;
if(_.Xa&2)t+=4;if(_.Xa&8){_.X6=C(h,t);t+=4}}else if(D=="trun"){_.p=t+m;_.cW=Q;_.Xa=C(h,t);t+=4;_.ajP=C(h,t);
t+=4}else{_.p=t+m;_.cW=Q}t=L;if(D=="trak"||D=="free"||D=="uuid"||D=="traf"||D=="trex"||U.moov&&U.moov.mvex&&(D=="moof"||D=="mdat")){if(U[D]==null)U[D]=[];
U[D].push(_)}else{if(U[D]!=null)throw D;U[D]=_}Z=t+m;if(t>=h.byteLength){m+=t;t=0;h=await cR.hb(A,m)}}return U}async function P(A){return await O(A,null,0,0,A.size,0)}function y(A,h){var m=A.mdia.minf.stbl,Z=m.stsc,u=0,f=0;
for(var R=0;R<Z.length;R+=3){var U=(R+3<Z.length?Z[R+3]:1e4)-Z[R],C=f+U*Z[R+1];if(f<=h&&h<C){while(f+Z[R+1]<=h){u++;
f+=Z[R+1]}break}u+=U;f=C}var H=m.stco;if(H==null)H=m.co64;var t=H[u];while(f<h){t+=m.stsz[f];f++}return[t,m.stsz[h]]}function F(A,h){var m=A.moov.trak,Z=[];
for(var R=0;R<m.length;R++){if(m[R].mdia.hdlr.aHv==h){Z.push(m[R])}}return Z}return{kM:P,Af:y,getTracks:F}}();
function ic(s,M){cR.fC.call(this,s,M);this.BE=cR.fC.BE;this.wd=cR.fC.wd;this.mI=cR.fC.mI;this.sn=cR.fC.sn;
this.tG;this.ae0=0;this.h0=0;this.vs=0;this.Tw=null;this.ku=null;this.r5}ic.prototype.zT=function(s){this.HM.push(s)};
ic.prototype.aL6=function(s,R){var M=0,O=s.getUint8(R,!1);R+=1;M=O&127;var P=O>>7;while(P==1){O=s.getUint8(R,!1);
R+=1;P=O>>7;var y=O&127;M=M<<7|y}return[M,R]};ic.prototype.a0v=function(s){this.gJ={};var M=new DataView(s.buffer),R=4;
R+=4;while(R<M.byteLength){var O=M.getUint8(R,!1);R+=1;var P=this.aL6(M,R),y=P[0];R=P[1];if(O==3){R+=2;
R+=1}else if(O==4){this.gJ.objectType=M.getUint8(R,!1);R+=1;this.gJ.streamType=M.getUint8(R,!1)>>2;R+=1;
R+=3;this.gJ.maxBitrate=M.getUint32(R,!1);R+=4;this.gJ.avgBitrate=M.getUint32(R,!1);R+=4}else if(O==5){this.gJ.decoderSpecificInfo=s.slice(R,R+y);
R+=y}else{R+=y}}};ic.prototype.aba=function(s){var M=null,F=0;if(s.als){if(s.edts.aET)M=s.edts.aET}if(M==null){this.IG=this.frames;
return}var O=this.Bf.moov.mvhd.M1,P=s.mdia.mdhd.M1,y=s.mdia.mdhd.duration*1e3/P/this.mq.stsz.length;
this.Tw=[];for(var R=0;R<M.length;R+=3){var A;if(M[R+1]==-1)A=-1;else A=M[R+1]*1e3/y/P;var d4=M[R]*1e3/y/O;
this.Tw.push(F);this.Tw.push(Math.floor(A));this.Tw.push(M[R+2]);F+=Math.floor(d4)}this.IG=F;if(this.bf(this.IG-1)>this.frames-1)this.IG--;
if((F+1)*y<s.tkhd.duration*1e3/O){this.Tw.push(F);this.Tw.push(0);this.Tw.push(1);this.IG=Math.floor(s.tkhd.duration*1e3/O/y)}};
ic.prototype.bf=function(s){if(this.Tw){for(var R=this.Tw.length-3;R>=0;R-=3){if(s>=this.Tw[R]){if(this.Tw[R+1]==-1)s=this.kz;
else if(this.Tw[R+2]==0)s=this.Tw[R+1];else s=s-this.Tw[R]+this.Tw[R+1];break}}}return s};ic.prototype.atU=async function(){this.YU=new VideoDecoder({output:bS=>this.mI(bS),error:function(P){console.log(P.message)}});
var s=this.mq.stsd.WO;if(s=="avc1"){this.Wb=this.mq.stsd.Rv.avcC;var M={codec:"avc1.640034"};M.description=new Uint8Array(await this.CM.slice(this.Wb.p,this.Wb.p+this.Wb.cW).arrayBuffer());
this.YU.configure(M)}else if(s=="hev1"||s=="hvc1"){var M={};this.aL=this.mq.stsd.Rv.hvcC;M.description=new Uint8Array(await this.CM.slice(this.aL.p,this.aL.p+this.aL.cW).arrayBuffer());
var O=cR.a05(M.description);M.codec=O;M.codedWidth=this.jN.rM.width;M.codedHeight=this.jN.rM.height;
this.YU.configure(M)}else{var M={codec:"vp09.00.10.08"};this.YU.configure(M)}};ic.prototype.ayF=async function(){this.sq=new AudioDecoder({output:bS=>this.zT(bS),error:function(s){console.log(s)}});
console.assert(await AudioDecoder.isConfigSupported(this.Wi));this.sq.configure(this.Wi)};ic.prototype.aib=async function(){var s=this.Bf.moof,M=null,O=this.Bf.moov.mvex.trex,A=0;
for(var R=0;R<O.length;++R){if(O[R].o5==this.r5){M=O[R];break}}if(M==null)throw"fmp4 video track not found";
var P=M.X6;if(P==0){for(var R=0;R<s[0].traf.length;++R){var y=s[0].traf[R].tfhd;if(y.o5==this.r5){P=y.X6;
break}}}var F=this.p1[0].mdia.mdhd.M1;this.fh=1/(P/F);this.sizes=[];this.hj=[];for(var R=0;R<s.length;
++R){for(var h=0;h<s[R].traf.length;++h){var y=s[R].traf[h].tfhd;if(y.o5!=this.r5&&y.o5!=this.aa1)continue;
var m=s[R].traf[h].trun,Z=this.Bf.mdat[R].p,u=await this.CM.slice(m.p-4,m.p+m.cW),f=await u.arrayBuffer(),U=new Uint8Array(f),C=new DataView(U.buffer),H=8+3*4;
if(y.o5==this.r5){this.oE.push(this.sizes.length);while(H<C.byteLength-8){if(m.Xa&256)H+=4;if(m.Xa&512){this.sizes.push(C.getUint32(H,!1));
H+=4}if(m.Xa&1024)H+=4;if(m.Xa&2048)H+=4}for(var t=0;t<m.ajP;++t){if(t==0)this.hj.push(Z);else this.hj.push(this.hj[A+t-1]+this.sizes[A+t-1])}A+=m.ajP}}}};
ic.prototype.SP=async function(){this.Bf=await dj.kM(this.CM);if(this.Bf.moov.mvex)this.ku=!0;this.agi={};
this.pR={};this.p1=dj.getTracks(this.Bf,"vide");var s=!0,h=!0;if(this.p1.length>0){var M=this.p1[0],O=M.tkhd;
this.r5=O.Ae;this.mq=M.mdia.minf.stbl;var P=this.mq.stsd.WO;if(P=="avc1"||P=="vp09"||P=="hvc1"||P=="hev1"){if(P=="avc1"&&!this.mq.stsd.Rv.avcC||(P=="hvc1"||P=="hev1")&&!this.mq.stsd.Rv.hvcC){console.log(P+" video codec not supported (avcC missing).");
s=!1}else{if(!this.ku){await this.azm(this.mq.stss.p+8,this.mq.stss.cW-8);for(var R=0;R<this.an6.byteLength;
R+=4){var y=this.an6.getUint32(R,!1)-1;this.oE.push(y)}var F=M.mdia.mdhd.M1,A=M.mdia.mdhd.duration/F;
this.frames=this.mq.stsz.length;this.fh=this.frames/A;this.aba(M)}}}else{console.log(P+" video codec not supported.");
s=!1}}this.Ip=dj.getTracks(this.Bf,"soun");if(this.Ip.length>0){var m=this.Ip[0],u;this.aa1=m.tkhd.Ae;
var Z=m.mdia.minf.stbl,f=Z.stsd.dj;if(Z.stsd.WO=="mp4a"){if(Z.stsd.Rv.esds){this.aqP=Z.stsz.length;var U=Z.stsd.Rv.esds.p,C=Z.stsd.Rv.esds.cW,H=await this.CM.slice(U-4,U+C+4),t=await H.arrayBuffer(),X=new Uint8Array(t),Q=null;
this.a0v(X);u="mp4a.";if(this.gJ.objectType==64){u+=this.gJ.objectType.toString(16);u+=".";u+=(this.gJ.decoderSpecificInfo[0]>>3).toString();
Q=this.gJ.decoderSpecificInfo}else{u+=this.gJ.objectType.toString(16).toUpperCase()}if(Q){var D=Q[0]>>3;
if(D==31){var L=(Q[0]&7)<<3|Q[1]>>5;D=32+L;var E=Q[1]&31>>1;if(E==15){f=(Q[4]&1)<<3|Q[5]>>5}else{f=(Q[1]&1)<<3|Q[2]>>5}}else{var E=(Q[0]&7)<<1|Q[1]>>7;
if(E==15){f=(Q[4]&127)>>3}else{f=(Q[1]&127)>>3}}}this.Wi={codec:u,numberOfChannels:f,sampleRate:Z.stsd.aKF};
if(Q){this.Wi.description=Q}}else{console.log("Audio codec not supported.");h=!1}}else{console.log("Audio codec not supported.");
h=!1}}if(this.ku){await this.aib();this.frames=this.hj.length;this.IG=this.hj.length}this.jN={};if(s&&this.p1.length>0){this.jN.rM={p1:1,Tf:this.IG,fh:this.fh,width:O.V5,height:O.fw}}if(h&&this.Ip.length>0&&!this.ku){this.jN.cd={p1:f,fh:Z.stsd.aKF,Tf:m.mdia.mdhd.duration}}if(!this.ct){this.Nz=new OffscreenCanvas(this.jN.rM.width,this.jN.rM.height);
this.vF=this.Nz.getContext("2d",{willReadFrequently:!0});this.kk=10;this.kg=6}this.bO=!0};ic.prototype.azm=async function(s,M){this.aJs=await this.CM.slice(s,s+M).arrayBuffer();
this.an6=new DataView(this.aJs)};ic.prototype.HT=async function(s,M){var O=Math.min(M+250,this.frames-1),P,y;
if(this.ku){P=this._B(M);y=this._B(O)}else{P=dj.Af(s,M);y=dj.Af(s,O)}var F=await this.CM.slice(P[0],y[0]+y[1]),A=await F.arrayBuffer();
this.tG=new Uint8Array(A);this.ae0=M;this.h0=O;this.vs=P[0];return};ic.prototype._B=function(R){var s=[];
s.push(this.hj[R]);s.push(this.sizes[R]);return s};ic.prototype.awu=async function(s,M,O){if(M>=this.h0||O<this.ae0){await this.HT(s,M)}for(var R=M;
R<O;++R){if(R>=this.h0){await this.HT(s,R)}var P=this.oE.indexOf(R),y=this.ku?this._B(R):dj.Af(s,R),F=this.tG.slice(y[0]-this.vs,y[0]+y[1]-this.vs),A=new EncodedVideoChunk({timestamp:R,duration:1e3,type:P!=-1?"key":"delta",data:F});
if(this.YU.state=="configured"){try{this.YU.decode(A)}catch(O){console.log("CAUGHT unconfigured");console.log(O);
console.log(A)}}else{console.log("unconfigured");delete F}delete F}if(O==this.frames){await this.YU.flush()}};
ic.prototype.amw=async function(s,M,O){if(!this.sq){await this.ayF()}if(this.Ip.length<=s){console.log("Requested audio track does not exist");
return}var P=this.Ip[s],y=P.mdia.minf.stbl.stts,F=null,A=null,h=0,m=0;for(var R=0;R<y.length;R+=2){if(F==null&&h+y[R]*y[R+1]>=M){F=Math.ceil(m+(M-h)/y[R+1])}if(A==null&&h+y[R]*y[R+1]>=O){A=Math.ceil(m+(O-h)/y[R+1])}if(F&&A){break}h+=y[R]*y[R+1];
m+=y[R]}var Z=dj.Af(P,F),u=dj.Af(P,A),f=await this.CM.slice(Z[0],u[0]+u[1]),U=await f.arrayBuffer(),C=new Uint8Array(U);
for(var R=F;R<A;++R){var H=dj.Af(P,R),t=C.slice(H[0]-Z[0],H[0]+H[1]-Z[0]),X=new EncodedAudioChunk({timestamp:R,duration:1e3,type:"key",data:t});
try{this.sq.decode(X)}catch(hj){console.log("Error decoding audioframe "+R.toString()+". "+hj.message)}}try{await this.sq.flush()}catch(hj){console.log("CAUGHT flush, but returning");
return this.HM}return this.HM};function dY(s,M,O){this.jN=M;this.nL=s;this.aen=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.a56=40;this.V5,this.fw;this.Gi;this.wV;this.BT;this.aFv;this.description;this.qO;this.cy;this.Ct;
this.Pc;this.wN;this.wk;this.Fz=O;this.Qb;this.Uj;this.Bz;this.atF;this.U1;if(this.jN.rM){this.at2()}if(this.jN.cd){this.a6f()}}dY.prototype.aEd=function(s){return new Uint8Array([s.charCodeAt(0),s.charCodeAt(1),s.charCodeAt(2),s.charCodeAt(3)]).buffer};
dY.prototype.ayZ=function(s){var M=new Uint32Array([s]),O=new Uint8Array(M.buffer);return new Uint8Array([O[3],O[2],O[1],O[0]])};
dY.prototype.cH=function(s){this.Bz[this.Uj]=s;++this.Uj};dY.prototype.bT=function(s){this.Bz[this.Uj]=s>>8&255;
this.Bz[this.Uj+1]=s&255;this.Uj+=2};dY.prototype.ale=function(s){this.Bz[this.Uj]=s>>16&255;this.Bz[this.Uj+1]=s>>8&255;
this.Bz[this.Uj+2]=s&255;this.Uj+=3};dY.prototype.yT=function(s){this.Bz[this.Uj]=s>>24&255;this.Bz[this.Uj+1]=s>>16&255;
this.Bz[this.Uj+2]=s>>8&255;this.Bz[this.Uj+3]=s&255;this.Uj+=4};dY.prototype.AK=function(s){this.Qb.push(this.Uj);
this.Uj+=4;this.yU(s)};dY.prototype.yU=function(s){for(var R=0;R<s.length;++R){this.Bz[this.Uj]=s.charCodeAt(R);
++this.Uj}};dY.prototype.amX=function(s){this.Bz.set(new Uint8Array(s),this.Uj);this.Uj+=s.byteLength};
dY.prototype.GG=function(){var s=this.Uj;this.Uj=this.Qb.pop();this.yT(s-this.Uj);this.Uj=s};dY.prototype.acq=function(s,M){if(!this.description&&M){if(M.description){this.description=M.description}if(M.decoderConfig&&M.decoderConfig.description){this.description=M.decoderConfig.description}}var O=new ArrayBuffer(s.byteLength);
s.copyTo(O);this.gu(O);this.Gi.push({duration:s.duration,timestamp:s.timestamp,type:s.type,byteLength:s.byteLength});
if(s.type=="key"){this.BT.push(this.Gi.length)}};dY.prototype.zT=function(s,M){if(!this.qO&&M){if(M.decoderConfig){this.qO=M.decoderConfig}}var O=new ArrayBuffer(s.byteLength);
s.copyTo(O);this.aqQ(O);this.wV.push({duration:s.duration,timestamp:s.timestamp,type:s.type,byteLength:s.byteLength});
if(s.type=="key"){this.aFv.push(this.wV.length)}};dY.prototype.gu=function(s){var M=new Uint8Array(this.cy.byteLength+s.byteLength);
M.set(new Uint8Array(this.cy));M.set(new Uint8Array(s),this.cy.byteLength);this.cy=M.buffer;if(this.cy.byteLength>20*1024*1024){this.nL.write(this.cy);
this.cy=new Uint8Array}};dY.prototype.aqQ=function(s){var M=new Uint8Array(this.Ct.byteLength+s.byteLength);
M.set(new Uint8Array(this.Ct));M.set(new Uint8Array(s),this.Ct.byteLength);this.Ct=M.buffer};dY.prototype.av7=function(){this.Qb=[];
var s=this.a56,M=[],O={},P=9e4,y=this.Gi.length,F=this.BT.length,A=-1,m=!1,H=1;for(var R=0;R<this.Gi.length;
++R){this.Pc+=this.Gi[R].duration/1e3;this.wk+=this.Gi[R].byteLength;if(this.Gi[R].duration!=A){if(R!=0){M.push(O)}A=this.Gi[R].duration;
O={duration:9e4*this.Gi[R].duration/1e6,sampleCount:1}}else{O.sampleCount=O.sampleCount+1}}this.wk+=8;
M.push(O);var h=M.length;if(this.jN.cd){m=!0}if(m){var Z=[],u=this.wV.length;this.wN=0;var f=this.qO.sampleRate,A=-1;
for(var R=0;R<this.wV.length;++R){this.wN+=this.wV[R].duration/1e3;this.wk+=this.wV[R].byteLength;var U=Math.round(f*this.wV[R].duration/1e6);
if(U!=A){if(R!=0){Z.push(O)}A=U;O={duration:U,sampleCount:1}}else{O.sampleCount=O.sampleCount+1}}Z.push(O);
var C=Z.length}var t=579+this.description.byteLength+4*y+4*y+4*F+8*h;if(m){t+=426+this.qO.description.byteLength+4*u+4*u+8*h;
H=2}this.Bz=new Uint8Array(t);this.Uj=0;this.AK("moov");this.AK("mvhd");this.yT(0);this.yT(0);this.yT(0);
this.yT(1e3);this.yT(this.Pc);this.yT(65536);this.bT(256);this.bT(0);this.yT(0);this.yT(0);this.yT(65536);
this.yT(0);this.yT(0);this.yT(0);this.yT(65536);this.yT(0);this.yT(0);this.yT(0);this.yT(1073741824);
this.yT(0);this.yT(0);this.yT(0);this.yT(0);this.yT(0);this.yT(0);this.yT(2);this.GG();for(var X=0;X<H;
++X){this.AK("trak");this.AK("tkhd");this.yT(7);this.yT(0);this.yT(0);this.yT(1);this.yT(0);if(X==1)this.yT(this.wN);
else this.yT(this.Pc);this.yT(0);this.yT(0);this.bT(0);this.bT(0);this.bT(256);this.bT(0);if(X==1){this.yT(1);
this.yT(0);this.yT(0);this.yT(0);this.yT(1);this.yT(0);this.yT(0);this.yT(0);this.yT(1);this.yT(this.V5*0);
this.yT(this.fw*0)}else{this.yT(65536);this.yT(0);this.yT(0);this.yT(0);this.yT(65536);this.yT(0);this.yT(0);
this.yT(0);this.yT(1073741824);this.yT(this.V5*65536);this.yT(this.fw*65536)}this.GG();this.AK("mdia");
this.AK("mdhd");this.yT(0);this.yT(0);this.yT(0);if(X==1){this.yT(this.qO.sampleRate);this.yT(this.wN/1e3*this.qO.sampleRate)}else{this.yT(P);
this.yT(this.Pc/1e3*P)}this.cH(85);this.cH(196);this.bT(0);this.GG();this.AK("hdlr");this.yT(0);this.yT(0);
if(X==1){this.yU("soun");this.yT(0);this.yT(0);this.yT(0);this.yU("SoundHandler");this.cH(0)}else{this.yU("vide");
this.yT(0);this.yT(0);this.yT(0);this.yU("VideoHandler");this.cH(0)}this.GG();this.AK("minf");if(X==1){this.AK("smhd");
this.yT(0);this.bT(0);this.bT(0);this.GG()}else{this.AK("vmhd");this.yT(1);this.bT(0);this.bT(0);this.bT(0);
this.bT(0);this.GG()}this.AK("dinf");this.AK("dref");this.yT(0);this.yT(1);this.AK("url ");this.yT(1);
this.GG();this.GG();this.GG();if(X==1){this.AK("stbl");this.AK("stsd");this.yT(0);this.yT(1);this.AK("mp4a");
this.bT(0);this.bT(0);this.bT(0);this.bT(1);this.yT(0);this.yT(0);this.bT(this.qO.numberOfChannels);
this.bT(16);this.bT(0);this.bT(0);this.bT(this.qO.sampleRate);this.bT(0);this.AK("esds");this.yT(0);
this.cH(3);this.cH(25);this.bT(0);this.cH(0);this.cH(4);this.cH(17);this.cH(64);this.cH(21);this.ale(0);
this.yT(16e4);this.yT(16e4);this.cH(5);this.cH(2);this.amX(this.qO.description);this.cH(6);this.cH(1);
this.cH(2);this.GG();this.GG();this.GG();this.AK("stts");this.yT(0);this.yT(C);for(var R=0;R<C;++R){this.yT(Z[R].sampleCount);
this.yT(Z[R].duration)}this.GG();this.AK("stsc");this.yT(0);this.yT(1);this.yT(1);this.yT(1);this.yT(1);
this.GG();this.AK("stsz");this.yT(0);this.yT(0);this.yT(u);for(var R=0;R<u;++R){this.yT(this.wV[R].byteLength)}this.GG();
this.AK("stco");this.yT(0);this.yT(u);for(var R=0;R<u;++R){this.yT(s);s+=this.wV[R].byteLength}this.GG();
this.GG()}else{this.AK("stbl");this.AK("stsd");this.yT(0);this.yT(1);this.AK("avc1");this.bT(0);this.bT(0);
this.bT(0);this.bT(1);this.bT(0);this.bT(0);this.yT(0);this.yT(0);this.yT(0);this.bT(this.V5);this.bT(this.fw);
this.yT(4718592);this.yT(4718592);this.yT(0);this.bT(1);for(var R=0;R<8;++R){this.yT(0)}this.bT(24);
this.bT(-1);this.AK("avcC");this.amX(this.description);this.GG();this.GG();this.GG();this.AK("stts");
this.yT(0);this.yT(h);for(var R=0;R<h;++R){this.yT(M[R].sampleCount);this.yT(M[R].duration)}this.GG();
this.AK("stsc");this.yT(0);this.yT(1);this.yT(1);this.yT(1);this.yT(1);this.GG();this.AK("stsz");this.yT(0);
this.yT(0);this.yT(y);for(var R=0;R<y;++R){this.yT(this.Gi[R].byteLength)}this.GG();this.AK("stco");
this.yT(0);this.yT(y);for(var R=0;R<y;++R){this.yT(s);s+=this.Gi[R].byteLength}this.GG();this.AK("stss");
this.yT(0);this.yT(F);for(var R=0;R<F;++R){this.yT(this.BT[R])}this.GG();this.GG()}this.GG();this.GG();
this.GG()}this.GG();return};dY.prototype.a4i=async function(s){console.assert(await VideoEncoder.isConfigSupported(s))};
dY.prototype.at2=function(){var s=Date.now(),M=this.jN.rM.width,O=this.jN.rM.height;this.V5=M;this.fw=O;
this.description=null;this.BT=[];this.Gi=[];this.Pc=0;this.wk=0;this.cy=new Uint8Array;this.gu(new Uint8Array(this.aen));
this.gu(this.ayZ(0).buffer);this.gu(this.aEd("mdat"));this.Ys=new VideoEncoder({output:(chunk,opts)=>this.acq(chunk,opts),error:hj=>{console.log(hj)}});
var P=this.Fz*this.V5*this.fw,y=P*this.jN.rM.Tf,F=Math.round(P*24),A={width:this.V5,height:this.fw,codec:"avc1.420034",bitrate:F,acceleration:"prefer-hardware"};
this.a4i(A);this.Ys.configure(A);this.U1=0};dY.prototype.aCZ=async function(s){console.assert(await AudioDecoder.ahJ(s))};
dY.prototype.a6f=function(){this.Ct=new Uint8Array;this.qO=null;this.aFv=[];this.wV=[];var s={codec:"mp4a.40.2",numberOfChannels:this.jN.cd.p1,sampleRate:this.jN.cd.fh,bitrate:16e4};
this.lx=new AudioEncoder({output:(bS,dB)=>this.zT(bS,dB),error:function(M){console.log(M)}});this.aCZ(s);
this.lx.configure(s)};dY.prototype.BE=function(){return this.jN};dY.prototype.a3i=async function(s,M,O){var P=s,y=1e6/this.jN.rM.fh;
if(O%50==0){console.log(Math.round(O/this.jN.rM.Tf*100).toString()+"%")}var F=new VideoFrame(P.buffer,{timestamp:this.U1,duration:y,format:"RGBA",codedWidth:this.V5,codedHeight:this.fw});
this.Ys.encode(F);F.close();this.U1+=y;delete P;delete s;delete F};dY.prototype.aj2=async function(s,M,O,P){for(var R=0;
R<s.length;++R){this.lx.encode(s[R])}};dY.prototype.finish=async function(){if(this.jN.rM){await this.Ys.flush()}if(this.jN.cd){await this.lx.flush()}this.av7();
this.nL.write(this.cy);if(this.jN.cd){this.nL.write(this.Ct)}this.nL.write(this.Bz);this.nL.write({I:"write",data:this.ayZ(this.wk),position:this.a56-8});
return this.nL.close()};var ie=function(s){var M=[[21,73,169,102],[22,84,174,107],[17,77,155,116],[28,83,187,107],[31,67,182,117],[18,84,195,103]],O="KaxInfo KaxTracks KaxSeekHead KaxCues KaxCluster KaxTags".split(" "),P=!1,y=cR.ax8,F=cR.h4,A=cR.VU;
function h(t){for(var R=0;R<M.length;++R){var X=!0;for(var Q=0;Q<M[R].length;++Q){if(t[Q]!=M[R][Q]){X=!1;
break}}if(X==!0){return O[R]}}}async function m(t,X,Q,D){if(X==null||D<Q||D>=Q+X.byteLength){X=await cR.hb(t,D);
Q=D;D=0}else{D-=Q;var L=D,E=y(X,D),_=E[2];D+=E[1];E=y(X,D);var S=E[0];D+=E[1];if(D+S>X.byteLength){X=await cR.hb(t,Q+L,S+D-L);
Q+=L;D=0}else{D=L}}return[X,Q,D]}async function Z(t,X,Q,D,L){var E=L.Wc.CueClusterPosition,N=!1;E+=X.Segment.RH;
var _=await m(t,Q,D,E);Q=_[0];D=_[1];E=_[2];if(Q.length==0)return{sS:0,data:Q,start:D,W_:null};var S=y(Q,E),W=S[2];
E+=S[1];S=y(Q,E);var g=S[0];E+=S[1];var x=E;S=y(Q,x);W=S[2];x+=S[1];S=y(Q,x);g=S[0];x+=S[1];var V=ie.t$[W];
if(V.s=="CRC-32"){x+=g;S=y(Q,x);W=S[2];x+=S[1];S=y(Q,x);g=S[0];x+=S[1]}var b=F(Q,x,g);if(L.Wc.CueRelativePosition){E+=L.Wc.CueRelativePosition;
S=y(Q,E);W=S[2];E+=S[1];S=y(Q,E);g=S[0];E+=S[1];if(V.s=="BlockGroup"){N=!0}return{sS:D+E+g,data:Q,start:D,W_:C(Q.slice(E,E+g),N),timeStamp:b}}else{var J=0;
if(L.Wc.CueBlockNumber){J=L.Wc.CueBlockNumber-1;if(X.Segment.Info.MuxingApp.toLowerCase().includes("yamka")){J++}}g=0;
do{E+=g;S=y(Q,E);W=S[2];E+=S[1];S=y(Q,E);g=S[0];E+=S[1];V=ie.t$[W]}while(V.s!="SimpleBlock"&&V.s!="BlockGroup");
for(var R=0;R<J;++R){E+=g;S=y(Q,E);W=S[2];E+=S[1];S=y(Q,E);g=S[0];E+=S[1]}V=ie.t$[W];if(V.s=="BlockGroup"){N=!0}return{sS:D+E+g,data:Q,start:D,W_:C(Q.slice(E,E+g),N),timeStamp:b}}}async function u(t,X,Q,D){var L=null,E=await m(t,X,Q,D),V=!1;
X=E[0];Q=E[1];D=E[2];if(X.length==0)return{sS:0,data:X,start:Q,W_:null};var _=y(X,D),S=_[2];D+=_[1];
_=y(X,D);var W=_[0];D+=_[1];var g=ie.t$[S];if(g.s!="SimpleBlock"&&g.s!="BlockGroup"){var x="SeekHead Tags Void Info Tracks Attachments Chapters Tags Cues".split(" ");
if(x.indexOf(g.s)==-1){do{if(g.s=="Cluster"){W=0}D+=W;E=await m(t,X,Q,Q+D);X=E[0];Q=E[1];D=E[2];if(X.length==0)return{sS:0,data:X,start:Q,W_:null};
_=y(X,D);S=_[2];D+=_[1];_=y(X,D);W=_[0];D+=_[1];g=ie.t$[S];if(g.s=="Timestamp"){L=F(X,D,W)}}while(g.s!="SimpleBlock"&&g.s!="BlockGroup")}else return{sS:0,data:X,start:Q,W_:null}}if(g.s=="BlockGroup"){V=!0}return{sS:Q+D+W,data:X,start:Q,W_:C(X.slice(D,D+W),V),timeStamp:L}}async function f(t,X,Q,D,L){var E={},_=D-Q;
if(X==null){X=await cR.hb(t,_);Q=_;_=0}while(_+Q<L&&!P){var S,W=_+Q,g=y(X,_),x=g[2];_+=g[1];g=y(X,_);
var V=g[0];_+=g[1];var b=ie.t$[x];if(!b){throw"Unknown EBML element "+x.toString(16)}var N=b.s,J=_+V,K=_+Q;
if(J>X.byteLength&&N!="Segment"){X=await cR.hb(t,Q,J)}if(b.t=="m"&&N=="Cluster"){P=!0;return[_,E]}if(b.t=="m"){var q=await f(t,X,Q,Q+_,Q+J);
_=q[0];q[1].p=W;q[1].RH=K;if(b.r==1){if(E[N]==null){E[N]=[]}E[N].push(q[1])}else{E[N]=q[1]}if(P){break}}else{if(b.t=="8"){S=c.xJ(X,_,V)}else if(b.t=="s"){S=c.Db(X,_,V)}else if(b.t=="b"){S=c.l5(X,_,V)}else if(b.t=="u"){S=F(X,_,V)}else if(b.t=="i"){S=A(X,_,V)}else if(b.t=="f"){if(V==4){S=c.C6(X,_)}else if(V==8){S=c.tV(X,_)}else throw"Cannot read float of size "+V.toString()}else if(b.t=="d"){var d=F(X,_,V);
d*=1e-6;d+=new Date(2001,1,1).valueOf()-new Date(1970,1,1).valueOf();S=new Date(d)}else{S=V}_+=V;if(b.s=="SeekID"){var l=h(S);
S=l}if(b.r==1){if(E[N]==null){E[N]=[]}E[N].push(S)}else{E[N]=S}}if(_+Q<L&&_>=X.byteLength){Q+=_;_=0;
X=await cR.hb(t,Q)}}return[_,E]}function U(t,X){var Q=t.Segment.Tracks.TrackEntry,D=[];for(var R=0;R<Q.length;
++R){var L=Q[R];if(L.TrackType==X){D.push(L)}}return D}function C(t,X){var Q,D,L,E=0;if(X){Q=y(t,E);
var _=Q[2];E+=Q[1];Q=y(t,E);var S=Q[0];E+=Q[1];D=E+S}Q=y(t,E);E+=Q[1];var W=Q[0],g=A(t,E,2);E+=2;var x=t[E],V=x>>>7;
E+=1;if(X){L=t.slice(E,D)}else{L=t.slice(E)}return[W,g,V,L]}async function H(t){var X=await f(t,null,0,0,t.size);
P=!1;var Q=X[1];if(Q.Segment.SeekHead){var D=Q.Segment.SeekHead;for(var R=0;R<D.length;++R){if(D[R].Seek){for(var L=0;
L<D[R].Seek.length;++L){if(D[R].Seek[L].SeekID=="KaxSeekHead"){var E=D[R].Seek[L].SeekPosition+Q.Segment.RH;
X=await f(t,null,0,E,t.size);P=!1;Q.Segment.SeekHead.push(X[1])}else if(D[R].Seek[L].SeekID=="KaxCues"){if(!Q.Segment.Cues){E=D[R].Seek[L].SeekPosition+Q.Segment.RH;
X=await f(t,null,0,E,t.size);P=!1;Q.Segment.Cues=X[1].Cues}}}}}}else{console.log("No seek heads parsed, WIP, not implemented yet.")}return Q}return{kM:H,getTracks:U,Eg:u,dJ:Z}}();
ie.t$={440786851:{s:"EBML",t:"m",r:0},17030:{s:"EBMLVersion",t:"u",r:0},17143:{s:"EBMLReadVersion",t:"u",r:0},17026:{s:"DocType",t:"s",r:0},17031:{s:"DocTypeVersion",t:"u",r:0},17029:{s:"DocTypeReadVersion",t:"u",r:0},17028:{s:"DocTypeExtensionVersion",t:"u",r:0},191:{s:"CRC-32",t:"b",r:0},236:{s:"Void",t:"b",r:1},17138:{s:"EBMLMaxIDLength",t:"u",r:0},17139:{s:"EBMLMaxSizeLength",t:"u",r:0},408125543:{s:"Segment",t:"m",r:0},290298740:{s:"SeekHead",t:"m",r:1},19899:{s:"Seek",t:"m",r:1},21419:{s:"SeekID",t:"b",r:0},21420:{s:"SeekPosition",t:"u",r:0},357149030:{s:"Info",t:"m",r:0},29604:{s:"SegmentUUID",t:"b",r:0},29572:{s:"SegmentFilename",t:"8",r:0},3979555:{s:"PrevUUID",t:"b",r:0},3965867:{s:"PrevFilename",t:"8",r:0},4110627:{s:"NextUUID",t:"b",r:0},4096955:{s:"NextFilename",t:"8",r:0},17476:{s:"SegmentFamily",t:"b",r:1},26916:{s:"ChapterTranslate",t:"m",r:1},27045:{s:"ChapterTranslateID",t:"b",r:0},27071:{s:"ChapterTranslateCodec",t:"u",r:0},27132:{s:"ChapterTranslateEditionUID",t:"u",r:1},2807729:{s:"TimestampScale",t:"u",r:0},17545:{s:"Duration",t:"f",r:0},17505:{s:"DateUTC",t:"d",r:0},31657:{s:"Title",t:"8",r:0},19840:{s:"MuxingApp",t:"8",r:0},22337:{s:"WritingApp",t:"8",r:0},524531317:{s:"Cluster",t:"m",r:1},231:{s:"Timestamp",t:"u",r:0},22612:{s:"SilentTracks",t:"m",r:0},22743:{s:"SilentTrackNumber",t:"u",r:1},167:{s:"Position",t:"u",r:0},171:{s:"PrevSize",t:"u",r:0},163:{s:"SimpleBlock",t:"b",r:1},160:{s:"BlockGroup",t:"m",r:1},161:{s:"Block",t:"b",r:0},162:{s:"BlockVirtual",t:"b",r:0},30113:{s:"BlockAdditions",t:"m",r:0},166:{s:"BlockMore",t:"m",r:1},165:{s:"BlockAdditional",t:"b",r:0},238:{s:"BlockAddID",t:"u",r:0},155:{s:"BlockDuration",t:"u",r:0},250:{s:"ReferencePriority",t:"u",r:0},251:{s:"ReferenceBlock",t:"i",r:1},253:{s:"ReferenceVirtual",t:"i",r:0},164:{s:"CodecState",t:"b",r:0},30114:{s:"DiscardPadding",t:"i",r:0},142:{s:"Slices",t:"m",r:0},232:{s:"TimeSlice",t:"m",r:1},204:{s:"LaceNumber",t:"u",r:0},205:{s:"FrameNumber",t:"u",r:0},203:{s:"BlockAdditionID",t:"u",r:0},206:{s:"Delay",t:"u",r:0},207:{s:"SliceDuration",t:"u",r:0},200:{s:"ReferenceFrame",t:"m",r:0},201:{s:"ReferenceOffset",t:"u",r:0},202:{s:"ReferenceTimestamp",t:"u",r:0},175:{s:"EncryptedBlock",t:"b",r:1},374648427:{s:"Tracks",t:"m",r:0},174:{s:"TrackEntry",t:"m",r:1},215:{s:"TrackNumber",t:"u",r:0},29637:{s:"TrackUID",t:"u",r:0},131:{s:"TrackType",t:"u",r:0},185:{s:"FlagEnabled",t:"u",r:0},136:{s:"FlagDefault",t:"u",r:0},21930:{s:"FlagForced",t:"u",r:0},21931:{s:"FlagHearingImpaired",t:"u",r:0},21932:{s:"FlagVisualImpaired",t:"u",r:0},21933:{s:"FlagTextDescriptions",t:"u",r:0},21934:{s:"FlagOriginal",t:"u",r:0},21935:{s:"FlagCommentary",t:"u",r:0},156:{s:"FlagLacing",t:"u",r:0},28135:{s:"MinCache",t:"u",r:0},28152:{s:"MaxCache",t:"u",r:0},2352003:{s:"DefaultDuration",t:"u",r:0},2313850:{s:"DefaultDecodedFieldDuration",t:"u",r:0},2306383:{s:"TrackTimestampScale",t:"f",r:0},21375:{s:"TrackOffset",t:"i",r:0},21998:{s:"MaxBlockAdditionID",t:"u",r:0},16868:{s:"BlockAdditionMapping",t:"m",r:1},16880:{s:"BlockAddIDValue",t:"u",r:0},16804:{s:"BlockAddIDName",t:"s",r:0},16871:{s:"BlockAddIDType",t:"u",r:0},16877:{s:"BlockAddIDExtraData",t:"b",r:0},21358:{s:"Name",t:"8",r:0},2274716:{s:"Language",t:"s",r:0},2274717:{s:"LanguageBCP47",t:"s",r:0},134:{s:"CodecID",t:"s",r:0},25506:{s:"CodecPrivate",t:"b",r:0},2459272:{s:"CodecName",t:"8",r:0},29766:{s:"AttachmentLink",t:"u",r:0},3839639:{s:"CodecSettings",t:"8",r:0},3883072:{s:"CodecInfoURL",t:"s",r:1},2536e3:{s:"CodecDownloadURL",t:"s",r:1},170:{s:"CodecDecodeAll",t:"u",r:0},28587:{s:"TrackOverlay",t:"u",r:1},22186:{s:"CodecDelay",t:"u",r:0},22203:{s:"SeekPreRoll",t:"u",r:0},26148:{s:"TrackTranslate",t:"m",r:1},26277:{s:"TrackTranslateTrackID",t:"b",r:0},26303:{s:"TrackTranslateCodec",t:"u",r:0},26364:{s:"TrackTranslateEditionUID",t:"u",r:1},224:{s:"Video",t:"m",r:0},154:{s:"FlagInterlaced",t:"u",r:0},157:{s:"FieldOrder",t:"u",r:0},21432:{s:"StereoMode",t:"u",r:0},21440:{s:"AlphaMode",t:"u",r:0},21433:{s:"OldStereoMode",t:"u",r:0},176:{s:"PixelWidth",t:"u",r:0},186:{s:"PixelHeight",t:"u",r:0},21674:{s:"PixelCropBottom",t:"u",r:0},21691:{s:"PixelCropTop",t:"u",r:0},21708:{s:"PixelCropLeft",t:"u",r:0},21725:{s:"PixelCropRight",t:"u",r:0},21680:{s:"DisplayWidth",t:"u",r:0},21690:{s:"DisplayHeight",t:"u",r:0},21682:{s:"DisplayUnit",t:"u",r:0},21683:{s:"AspectRatioType",t:"u",r:0},3061028:{s:"UncompressedFourCC",t:"b",r:0},3126563:{s:"GammaValue",t:"f",r:0},2327523:{s:"FrameRate",t:"f",r:0},21936:{s:"Colour",t:"m",r:0},21937:{s:"MatrixCoefficients",t:"u",r:0},21938:{s:"BitsPerChannel",t:"u",r:0},21939:{s:"ChromaSubsamplingHorz",t:"u",r:0},21940:{s:"ChromaSubsamplingVert",t:"u",r:0},21941:{s:"CbSubsamplingHorz",t:"u",r:0},21942:{s:"CbSubsamplingVert",t:"u",r:0},21943:{s:"ChromaSitingHorz",t:"u",r:0},21944:{s:"ChromaSitingVert",t:"u",r:0},21945:{s:"Range",t:"u",r:0},21946:{s:"TransferCharacteristics",t:"u",r:0},21947:{s:"Primaries",t:"u",r:0},21948:{s:"MaxCLL",t:"u",r:0},21949:{s:"MaxFALL",t:"u",r:0},21968:{s:"mingMetadata",t:"m",r:0},21969:{s:"PrimaryRChromaticityX",t:"f",r:0},21970:{s:"PrimaryRChromaticityY",t:"f",r:0},21971:{s:"PrimaryGChromaticityX",t:"f",r:0},21972:{s:"PrimaryGChromaticityY",t:"f",r:0},21973:{s:"PrimaryBChromaticityX",t:"f",r:0},21974:{s:"PrimaryBChromaticityY",t:"f",r:0},21975:{s:"WhitePointChromaticityX",t:"f",r:0},21976:{s:"WhitePointChromaticityY",t:"f",r:0},21977:{s:"LuminanceMax",t:"f",r:0},21978:{s:"LuminanceMin",t:"f",r:0},30320:{s:"Projection",t:"m",r:0},30321:{s:"ProjectionType",t:"u",r:0},30322:{s:"ProjectionPrivate",t:"b",r:0},30323:{s:"ProjectionPoseYaw",t:"f",r:0},30324:{s:"ProjectionPosePitch",t:"f",r:0},30325:{s:"ProjectionPoseRoll",t:"f",r:0},225:{s:"Audio",t:"m",r:0},181:{s:"SamplingFrequency",t:"f",r:0},30901:{s:"OutputSamplingFrequency",t:"f",r:0},159:{s:"Channels",t:"u",r:0},32123:{s:"ChannelPositions",t:"b",r:0},25188:{s:"BitDepth",t:"u",r:0},21233:{s:"Emphasis",t:"u",r:0},226:{s:"TrackOperation",t:"m",r:0},227:{s:"TrackCombinePlanes",t:"m",r:0},228:{s:"TrackPlane",t:"m",r:1},229:{s:"TrackPlaneUID",t:"u",r:0},230:{s:"TrackPlaneType",t:"u",r:0},233:{s:"TrackJoinBlocks",t:"m",r:0},237:{s:"TrackJoinUID",t:"u",r:1},192:{s:"TrickTrackUID",t:"u",r:0},193:{s:"TrickTrackSegmentUID",t:"b",r:0},198:{s:"TrickTrackFlag",t:"u",r:0},199:{s:"TrickmTrackUID",t:"u",r:0},196:{s:"TrickmTrackSegmentUID",t:"b",r:0},28032:{s:"ContentEncodings",t:"m",r:0},25152:{s:"ContentEncoding",t:"m",r:1},20529:{s:"ContentEncodingOrder",t:"u",r:0},20530:{s:"ContentEncodingScope",t:"u",r:0},20531:{s:"ContentEncodingType",t:"u",r:0},20532:{s:"ContentCompression",t:"m",r:0},16980:{s:"ContentCompAlgo",t:"u",r:0},16981:{s:"ContentCompSettings",t:"b",r:0},20533:{s:"ContentEncryption",t:"m",r:0},18401:{s:"ContentEncAlgo",t:"u",r:0},18402:{s:"ContentEncKeyID",t:"b",r:0},18407:{s:"ContentEncAESSettings",t:"m",r:0},18408:{s:"AESSettingsCipherMode",t:"u",r:0},18403:{s:"ContentSignature",t:"b",r:0},18404:{s:"ContentSigKeyID",t:"b",r:0},18405:{s:"ContentSigAlgo",t:"u",r:0},18406:{s:"ContentSigHashAlgo",t:"u",r:0},475249515:{s:"Cues",t:"m",r:0},187:{s:"CuePoint",t:"m",r:1},179:{s:"CueTime",t:"u",r:0},183:{s:"CueTrackPositions",t:"m",r:1},247:{s:"CueTrack",t:"u",r:0},241:{s:"CueClusterPosition",t:"u",r:0},240:{s:"CueRelativePosition",t:"u",r:0},178:{s:"CueDuration",t:"u",r:0},21368:{s:"CueBlockNumber",t:"u",r:0},234:{s:"CueCodecState",t:"u",r:0},219:{s:"CueReference",t:"m",r:1},150:{s:"CueRefTime",t:"u",r:0},151:{s:"CueRefCluster",t:"u",r:0},21343:{s:"CueRefNumber",t:"u",r:0},235:{s:"CueRefCodecState",t:"u",r:0},423732329:{s:"Attachments",t:"m",r:0},24999:{s:"AttachedFile",t:"m",r:1},18046:{s:"FileDescription",t:"8",r:0},18030:{s:"FileName",t:"8",r:0},18016:{s:"FileMediaType",t:"s",r:0},18012:{s:"FileData",t:"b",r:0},18094:{s:"FileUID",t:"u",r:0},18037:{s:"FileReferral",t:"b",r:0},18017:{s:"FileUsedStartTime",t:"u",r:0},18018:{s:"FileUsedEndTime",t:"u",r:0},272869232:{s:"Chapters",t:"m",r:0},17849:{s:"EditionEntry",t:"m",r:1},17852:{s:"EditionUID",t:"u",r:0},17853:{s:"EditionFlagHidden",t:"u",r:0},17883:{s:"EditionFlagDefault",t:"u",r:0},17885:{s:"EditionFlagOrdered",t:"u",r:0},17696:{s:"EditionDisplay",t:"m",r:1},17697:{s:"Editions",t:"8",r:0},17892:{s:"EditionLanguageIETF",t:"s",r:1},182:{s:"ChapterAtom",t:"m",r:1},29636:{s:"ChapterUID",t:"u",r:0},22100:{s:"ChaptersUID",t:"8",r:0},145:{s:"ChapterTimeStart",t:"u",r:0},146:{s:"ChapterTimeEnd",t:"u",r:0},152:{s:"ChapterFlagHidden",t:"u",r:0},17816:{s:"ChapterFlagEnabled",t:"u",r:0},28263:{s:"ChapterSegmentUUID",t:"b",r:0},17800:{s:"ChapterSkipType",t:"u",r:0},28348:{s:"ChapterSegmentEditionUID",t:"u",r:0},25539:{s:"ChapterPhysicalEquiv",t:"u",r:0},143:{s:"ChapterTrack",t:"m",r:0},137:{s:"ChapterTrackUID",t:"u",r:1},128:{s:"ChapterDisplay",t:"m",r:1},133:{s:"Chaps",t:"8",r:0},17276:{s:"ChapLanguage",t:"s",r:1},17277:{s:"ChapLanguageBCP47",t:"s",r:1},17278:{s:"ChapCountry",t:"s",r:1},26948:{s:"ChapProcess",t:"m",r:1},26965:{s:"ChapProcessCodecID",t:"u",r:0},17677:{s:"ChapProcessPrivate",t:"b",r:0},26897:{s:"ChapProcessCommand",t:"m",r:1},26914:{s:"ChapProcessTime",t:"u",r:0},26931:{s:"ChapProcessData",t:"b",r:0},307544935:{s:"Tags",t:"m",r:1},29555:{s:"Tag",t:"m",r:1},25536:{s:"Targets",t:"m",r:0},26826:{s:"TargetTypeValue",t:"u",r:0},25546:{s:"TargetType",t:"s",r:0},25541:{s:"TagTrackUID",t:"u",r:1},25545:{s:"TagEditionUID",t:"u",r:1},25540:{s:"TagChapterUID",t:"u",r:1},25542:{s:"TagAttachmentUID",t:"u",r:1},26568:{s:"SimpleTag",t:"m",r:1},17827:{s:"TagName",t:"8",r:0},17530:{s:"TagLanguage",t:"s",r:0},17531:{s:"TagLanguageBCP47",t:"s",r:0},17540:{s:"TagDefault",t:"u",r:0},17588:{s:"TagDefaultBogus",t:"u",r:0},17543:{s:"Tags",t:"8",r:0},17541:{s:"Tagb",t:"b",r:0}};
function eJ(s,M){cR.fC.call(this,s,M);this.BE=cR.fC.BE;this.wd=cR.fC.wd;this.mI=cR.fC.mI;this.sn=cR.fC.sn;
this.bf=function(O){return O};this.sS=0;this.data=null;this.start=0;this.Lb=null;this.v7=null;this.Ly=0;
this._6=0}eJ.prototype.atU=async function(){this.YU=new VideoDecoder({output:bS=>this.mI(bS),error:function(O){console.log(O.message)}});
var s={codec:this.Lb};if(this.v7){s.description=this.v7}var M=await VideoDecoder.isConfigSupported(s);
if(M.supported==!0){this.YU.configure(s)}else{console.log("Codec not supported.",s)}};eJ.prototype.axS=async function(){if(!this.cues)return null;
var s=this.cues[this.cues.length-1],M=await ie.dJ(this.CM,this.Bf,this.data,this.start,s),O=M.timeStamp,P,y=[];
this.sS=M.sS;this.data=M.data;this.start=M.start;do{if(M.W_&&M.W_[0]==1){P=M;y.push(M.W_[1])}M=await ie.Eg(this.CM,this.data,this.start,this.sS);
if(M.timeStamp){O=M.timeStamp}this.sS=M.sS;this.data=M.data;this.start=M.start}while(M.sS>0);if(!this.f3){y.sort((dc,aP)=>dc-aP);
this.f3=Math.round((y[y.length-1]-y[0])/(y.length-1));this.fh=1e3/this.f3}this.frames=Math.floor((O+P.W_[1]+this.f3-this.Ly)/this.f3)};
eJ.prototype.SP=async function(){this.Bf=await ie.kM(this.CM);this.agi={};this.pR={};this.p1=ie.getTracks(this.Bf,1);
var s=!0;if(this.p1.length>0){var M=this.p1[0],O=M.TrackNumber,P=M.CodecID;if(M.CodecPrivate)this.v7=M.CodecPrivate;
var y=M.Video.PixelWidth,F=M.Video.PixelHeight,A=this.Bf.Segment.Info.TimestampScale,h=M.DefaultDuration/A;
this.fh=1e3/h;this.f3=h;var m=["V_VP8","V_VP9","V_MPEG4/ISO/AVC","V_MPEGH/ISO/HEVC"],Z=["vp8","vp09.00.10.08","avc1.640034","hvc1"],u=m.indexOf(P);
if(u>=0)this.Lb=Z[u];if(this.Lb=="hvc1"){if(this.v7){this.Lb=cR.a05(this.v7)}else{this.Lb=null}}console.assert(this.Lb!=null,"Codec "+P.toString()+" not supported.");
if(this.Lb==null){s=!1}var f=this.Bf.Segment.Cues.CuePoint;this.cues=[];for(var R=0;R<f.length;++R){for(var U=0;
U<f[R].CueTrackPositions.length;++U){if(f[R].CueTrackPositions[U].CueTrack==O){this.cues.push({O6:f[R].CueTime,Wc:f[R].CueTrackPositions[U]})}}}if(this.cues[0].O6>0){this.Ly=this.cues[0].O6}await this.axS();
this.oE=[];for(var R=0;R<this.cues.length;++R){this.oE.push(Math.round((this.cues[R].O6-this.Ly)/this.f3))}}this.jN={};
if(s&&this.p1.length>0){this.jN.rM={p1:1,Tf:this.frames,fh:this.fh,width:y,height:F}}if(!this.ct){this.Nz=new OffscreenCanvas(this.jN.rM.width,this.jN.rM.height);
this.vF=this.Nz.getContext("2d",{afy:!0});this.kk=10;this.kg=6}this.bO=!0};1,0,eJ.prototype.dJ=async function(s){var M=await ie.dJ(this.CM,this.Bf,this.data,this.start,this.cues[s]);
this.sS=M.sS;this.data=M.data;this.start=M.start;this.auz(M)};eJ.prototype.Eg=async function(){var s;
do{s=await ie.Eg(this.CM,this.data,this.start,this.sS);this.sS=s.sS;this.data=s.data;this.start=s.start}while(s.sS>0&&s.W_[0]!=1);
if(this.sS>0){this.auz(s)}};eJ.prototype.auz=function(s){var M=new EncodedVideoChunk({timestamp:s.W_[1],duration:this.f3,type:s.W_[2]==1?"key":"delta",data:s.W_[3]});
if(this.YU.state=="configured"){try{this.YU.decode(M)}catch(hj){console.log("CAUGHT unconfigured");console.log(hj);
console.log(M)}}else{console.log("unconfigured",this.sS,s);delete s}delete s};eJ.prototype.awu=async function(s,M,O){var P=O*this.f3,y=this.oE.indexOf(M),F=0,A;
for(var R=M;R<O;++R){while(this._6>0){await new Promise(resolve=>setTimeout(resolve,50))}this._6=1;if(R==M&&y>=0){await this.dJ(y)}else{await this.Eg()}this._6=0}if(O==this.frames){await new Promise(resolve=>setTimeout(resolve,100));
while(this.sS!=0){while(this._6>0){await new Promise(resolve=>setTimeout(resolve,50))}this._6=1;await this.Eg();
this._6=0}await this.YU.flush()}};var jV=function(){var s,M,O,P,y,F,A=4294967292,h=4294967293,m=4294967294,Z=4294967295;
function u(){P+=1;return O[P-1]}function f(){P+=2;return c.Sw(O,P-2)}function U(){P+=4;return c.KF(O,P-4)}function C(){P+=4;
return c.je(O,P-4)}function H(_){return 512+512*_}function t(_){return 64*_}function X(_,S){if(_>=S.length){console.log("error?");
return[]}var W=[];while(_!=m){W.push(_);_=S[_];if(_==null)throw _}return W}function Q(_,S,W){var g=X(_,W==64?F:y);
if(S==null)S=g.length*W;var x=new Uint8Array(S),V=W==64?M:s;for(var R=0;R<g.length;R++){var b=g[R],N=W==64?t(b):H(b);
x.set(new Uint8Array(V.buffer,N,Math.min(W,S-R*W)),R*W)}return x}function D(_,S){for(var R=0;R<_;R++){var W=C();
if(W==Z)continue;S.push(W)}}function L(_,S,W,g){var x=O,V=P,p;O=_;P=S*128;var b=c.Tr(O,P,32);P+=64;var N=f();
b=b.slice(0,N-2>>>1);var J=u(),K=u();if(J>5)throw"e";if(K>1)throw"e";var q=U(),d=U(),l=U();P+=16;if(U()!=0)throw"e";
P+=8;P+=8;var T=U(),B=U();if(U()!=0)throw"e";if(J==1||J==5){if(J==5){M=Q(T,null,512)}p={};L(_,l,p,g+1)}else if(J==2){if(B<4096)p=Q(T,B,64);
else p=Q(T,B,512)}else throw J;if(q!=-1)L(_,q,W,g+1);if(d!=-1)L(_,d,W,g+1);W[b]=p;O=x;P=V}function E(_){O=s=new Uint8Array(_);
P=0;var S=[208,207,17,224,161,177,26,225];for(var R=0;R<8;R++)if(u()!=S[R])throw"e";for(var R=0;R<16;
R++)if(u()!=0)throw"e";var W=f(),g=f();if(f()!=-2)throw"big endian";if(f()!=9)throw"not 512";if(f()!=6)throw"not  64";
for(var R=0;R<10;R++)if(u()!=0)throw"e";var x=U(),V=U();if(U()!=0)throw"e";if(U()!=4096)throw"e";var b=U(),N=U(),J=U(),K=U(),q=[];
D(109,q);for(var R=0;R<K;R++){P=H(J);D(127,q);J=U()}if(q.length!=x)throw"e";y=[];for(var R=0;R<x;R++){P=H(q[R]);
for(var d=0;d<128;d++){var l=C();y.push(l)}}F=[];for(var R=0;R<N;R++){if(isNaN(b))throw"e";P=H(b);for(var d=0;
d<128;d++){var l=C();F.push(l)}b=y[b]}var T=Q(V,null,512),B={};L(T,0,B,0);return B["Root Entry"]}return{parse:E}}(),$={};
$.yD=function(s){return window.devicePixelRatio||1};$.fo=function(s,M){return(M.adE=="touch"?12:8)*$.yD()/s.i.xq};
$.xl=function(){var s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfAgMAAABiwP6qAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAAAAA////g93P0gAAAAN0Uk5TAP//RFDWIQAAACxJREFUeJxjYGBgYHVggAA2ujNCQ0PDgDiEIWvVqpWrVq1aghAZEPcwQEMDAMwiEgB+z9L1AAAAAElFTkSuQmCC",M=$.yD(),O=15.5/M;
return"image-set(url('"+s+"') "+M+"x) "+O+" "+O+",auto"};$._g=function(s,M,O){this.name=s;this.id=M;
this.$V=null;if(O!=null)this.ge=O};$._g.prototype.cu=function(s,M,O,P,y){};$._g.prototype.enable=function(s,M,O,P,y,F){var A=new kg(z.E.c,!0);
A.data={Q:z.J.ag,Fi:"default"};M.a(A)};$._g.prototype.disable=function(s,M,O,P,y){};$._g.prototype.a6I=function(s,M,O,P,y){return!1};
$._g.prototype.nD=function(s,M,O,P,y){};$._g.prototype.jM=function(s,M,O,P,y){};$._g.prototype.nh=function(s,M,O,P,y){};
$._g.prototype.Cq=function(s,M,O,P,y,F){};$._g.prototype.z4=function(s,M,O,P,y){};$._g.prototype.lJ=function(s,M,O,P){};
$._g.prototype.Iy=function(s,M,O,P){};$._g.prototype.n5=function(s,M){};$._g.prototype.QB=function(s,M){};
$._g.prototype.aM=function(s){return 0};$._g.prototype.j9=function(s,M,O,P,y){};$._g.prototype.qy=function(s,M){};
$._g.prototype.cZ=function(s,M){return!1};$._g.prototype.cJ=function(s,M){return!1};$._g.prototype.bA=function(){return!1};
$._g.prototype.LE=function(s,M){return!0};$._g.prototype.jA=function(){return null};$._g.prototype.LQ=function(s,M,O){};
$._g.prototype.aE9=function(){return!1};$._g.prototype.Mn=function(s,M,O,P){};$._g.prototype.track=function(s){var M=new kg(z.E.fa,!0);
M.data=s;s.rz=!0;this.$V.a(M)};$._g.Be=function(s,M,O,P){var y=10*$.yD()*(s.adE=="touch"?2:1),F=s.x+y,A=s.y-y,h=a.f8.mE(M.A,O.FR,P,O.A,!0),m=a.f8.mE(M.$,O.FR,P,O.$,!0);
while(h.length<m.length)h=" "+h;while(h.length>m.length)m=" "+m;$._g._D(F,A,[aW.get([12,41]).charAt(0)+": "+h,aW.get([12,42]).charAt(0)+": "+m],O)};
$._g._D=function(s,M,O,P){function y(Z,t,X,Q,D,L){Z.beginPath();Z.moveTo(t,X+L);Z.arcTo(t,X+D,t+L,X+D,L);
Z.arcTo(t+Q,X+D,t+Q,X+D-L,L);Z.arcTo(t+Q,X,t+Q-L,X,L);Z.arcTo(t,X,t,X+L,L)}var F=$.yD(),A=Math.round,h=A(11*F),m=$._g.akr,u=0;
if(m==null)m=$._g.akr=document.createElement("canvas");var Z=m.getContext("2d");Z.font=h+"px monospace";
for(var R=0;R<O.length;R++)u=Math.max(u,Z.measureText(O[R]).width);var f=A(u+12*F),U=A((O.length*14+5)*F),C=new gi(s,M-U,f,U);
if(m.width!=f||m.height!=U){m.width=f;m.height=U;Z.font=h+"px monospace"}Z.clearRect(0,0,f,U);Z.fillStyle="rgba(0,0,3,0.8)";
y(Z,0,0,f,U,A(4*F));Z.fill();Z.fillStyle="rgba(255,255,255,1)";for(var R=0;R<O.length;R++)Z.fillText(O[R],A(6*F),A((R+1)*13*F));
var H=[Z.getImageData(0,0,f,U).data,C.v()];if(P)P.W.zp=[H];return H};$._g.akr=null;$._g.aK_=function(s,M,O,P){if(M)this.$V=M;
var y=this.ar_;if(s)y=[s.A,s.$,s.FR];if(O&&y)y[3]=O.QZ.DQ;this.ar_=y;var F=new kg(z.E.c,!0);F.data={Q:z.J.Qo,l:this.id,U6:y};
if(this.$V)this.$V.a(F)};$._g.BS=function(s){s.prototype.Iy=$._g.aK_;s.prototype.qy=function(M,O){if(O==g5.Aw||O==g5.rT)this.Iy(null,null,M,null)}};
$.ht="0";$.Sp="1";$.avl="2";$.aqS="3";$.G8="5";$.aL8="6";$.acC="7";$.v4="8";$.SG="9";$.q$="10";$.Y_="11";
$.bj="12";$.$q="13";$.kw="14";$.aHz="15";$.uL="16";$.E7="18";$.P0="19";$.adI="90";$.Jj="20";$.VH="21";
$.Lt="22";$.pr="23";$.PE="24";$.s_="25";$.HA="27";$.W7="31";$.lA="32";$.a2u="33";$.oa="34";$.ara="35";
$.Jh="36";$.vo="37";$.r6="38";$.Q7="39";$.GW="40";$.XY="41";$.np="42";$.dF="43";$.aKV="44";$.arl="45";
$.acZ="46";$.aEG="72";$.El="47";$.k1="48";$.WU="51";$.Wt="52";$.BI="54";$.pB="55";$.Kg="56";$.cv="57";
$.uk="58";$.dU="59";$.UF="60";$.zY="61";$.ba="70";$.wq="71";$.alx="73";$.wO="100";$.PF="101";$.Ef="102";
$.RV="103";$.s1="120";$.AQ="121";$.ZM="122";$.sA="230";$.aG3="231";$.FZ="232";$.mu="233";$.qz="234";
$.JG="235";$.Qx="236";$.dz={};$.dz[$.pr]="tools/brush";$.dz[$.PE]="tools/pencil";$.dz[$.W7]="tools/eraser";
$.dz[$.El]="tools/htype";$.XJ={PcTl:$.PE,PbTl:$.pr,moveTool:$.ht,cloneStampTool:$.HA,typeCreateOrEditTool:$.El,artboardTool:$.ba,marqueeRectTool:$.Sp,typeVerticalCreateOrEditTool:$.k1,perspectiveCropTool:$.Y_,marqueeEllipTool:$.avl,eyedropperTool:$.kw,eraserTool:$.W7,pathComponentSelectTool:$.WU,lassoTool:$.G8,backgroundEraserTool:$.lA,directSelectTool:$.Wt,polySelTool:$.aL8,rectangleTool:$.BI,magneticLassoTool:$.acC,gradientTool:$.oa,quickSelectTool:$.v4,bucketTool:$.ara,ellipseTool:$.pB,magicWandTool:$.SG,blurTool:$.Jh,polygonTool:$.Kg,cropTool:$.q$,sharpenTool:$.vo,lineTool:$.cv,sliceTool:$.bj,smudgeTool:$.r6,customShapeTool:$.uk,sliceSelectTool:$.$q,dodgeTool:$.Q7,spotHealingBrushTool:$.E7,burnInTool:$.GW,saturationTool:$.XY,penTool:$.np,redEyeTool:$.Lt,freeformPenTool:$.dF,rulerTool:$.uL,paintbrushTool:$.pr,handTool:$.dU,pencilTool:$.PE,zoomTool:$.zY,objectSelectTool:$.aqS,healingBrushTool:$.P0,patchTool:$.Jj,contentAwareMoveTool:$.VH,colorReplacementBrushTool:$.s_,curvaturePenTool:$.aKV,rotareViewTool:$.UF};
$.am=function(s,M,O){$._g.call(this,s,M,O);this.vn={brush:s?fO.Av():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.f=null;this.G2=null;this.oz=null;this.ud=null;this.qh=null;this.BD=null;this._z=null;this.Ez=null;
this.$P=null;this.pz=null;this.zL=null;this.f_=null;this.Cm=null;this.JF=1;this.Kz=!1;this.YQ=!1;this.HX=null;
this.gY;this.caller=null};$.am.prototype=new $._g;$.am.prototype.cJ=function(s,M){return s.cQ&&M.D(hj.Y1)};
$.am.prototype.jM=function(s,M,O,P,y){if(P.D(hj.tT)){this.BD=new j6(y.x,y.y);var F=this.vn.brush.Brsh.v,A=F.Dmtr.v.val,h=F.Hrdn!=null?F.Hrdn.v.val:-1;
this._z=[A,h,!0,a.G(this.vn.brush),y];this.Nn(O)}};$.am.prototype.Z3=function(s,M,O){var P=this._z,y=s.i.xq,F=O.x-P[4].x,A=O.y-P[4].y,h=P[0],m=P[1],Z=Math.abs(F)>Math.abs(A);
if(Z&&P[2]){var u=Math.round(2*F/y);h+=u;O.x-=F-.5*u*y}if(!Z&&!P[2]&&m!=-1){var u=Math.round(.25*A);
m+=u;O.y-=A-4*u}h=Math.max(1,h);m=P[1]==-1?-1:Math.max(0,Math.min(100,m));var f=P[3];f.Brsh.v.Dmtr.v.val=h;
if(m!=-1)f.Brsh.v.Hrdn.v.val=m;this._z=[h,m,Z,f,O];var U=du.J1(f,M.ql.nt,y),C=U[1];C.x=Math.round(this.BD.x-C.A/2);
C.y=Math.round(this.BD.y-C.$/2);s.W.Xn=[U];var H=s.i.ni(this.BD.x,this.BD.y);s.W.MM={wu:[],AZ:[H.x-h/2,H.y,H.x+h/2,H.y]};
if(m!=-1)s.W.MM.AZ.push(H.x+50/y,H.y-m/2,H.x+50/y,H.y+m/2);s.G_=!0};$.am.prototype.z4=function(s,M,O,P,y){if(this.id==$.Jj||this.id==$.VH)return;
if(this.BD){this.BD=null;this.t3(a.G(this._z[3]));s.W.Xn=[];s.W.MM=null;s.G_=!0;return}var F=new kg(z.E.c,!0);
F.data={Q:z.J.Qo,l:this.id,ast:"showBrushOpts",Uj:new j6(y.DE+4,y.kC)};M.a(F)};$.am.prototype.t3=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.ko,dh:g5.JZ,tK:s};this.caller.a(M)};$.am.Gk=function(s,M,O,P,y,F){if(s==null)s="FrgC";
if(M==null)M="norm";if(O==null)O=1;if(y==null)y=!1;var A={classID:"Fl",Usng:{t:"enum",v:{FlCn:s}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(O*100)}},PrsT:{t:"bool",v:y},Md:{t:"enum",v:{BlnM:h0.Qz(M)}}};
if(s=="Clr")A.Clr={t:"Objc",v:P};if(s=="contentAware")A.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(s=="Ptrn")A.Ptrn={t:"Objc",v:F};return{Cw:"fill",kT:A}};$.am.prototype.cu=function(s,M,O,P,y){this.$V=M;
var F=O.G7.length,A=F!=0?-1-O.G7[0]:O.Y[0],h=O.U[A],m=h&&h.add.SoLd&&h.add.SoLd.generativeDocInfo,Z=s.Q=="fromAction"&&s.Q1&&s.Q1.kT&&JSON.stringify(s.Q1.kT).indexOf("aiHeal")!=1;
if(F==0&&!Z&&!O.Y7(M))return;if(s.Q=="fromAction"){var u=s.Q1,f=u.kT;if(f&&f.null&&f.null.v[0]&&f.null.v[0].v.classID=="Path"){var U=O.Iv(),C=U[0],H=U[1],t=C[H.length==0?0:H[0]].add.vmsk;
if(u.Cw=="fill"){var X=t.Bl(),Q=y.UC,D=this.vn,L=Q>>16&255,E=Q>>8&255,_=Q>>0&255;this.qQ(O,h,X,L,E,_,Math.round(D.opacity*255),D.bmode,"Fill Path")}else{var S=f&&f.Prs&&f.Prs.v,W=JSON.stringify(this.vn.brush);
if(S)fO.att(this.vn.brush,[!1,!0]);var g=Date.now();for(var x=0;x<1e3;x++){var V=a.z.AS(t.u,x,!0);if(V==-1){this.Cq(O,M,y,P,null);
break}var b=t.u[V],N=t.u.slice(V,V+1+b.length),J=a.b.TM(N,2).L,K=J.slice(0,8);for(var q=8;q<J.length;
q+=6)K.push(J[q-2],J[q-1],J[q],J[q+1],J[q+2],J[q+3],J[q+4],J[q+5]);var d={};d.Points=K;d.TextOnPathTRange=t.Dx.slice(0);
var d=aa.xI(d,2,b.I==3),l=d[0],T=O.i.D7(l[0],l[1]);if(S)T.CH=0;if(x==0)this.nD(O,M,y,P,T);else this.G2.moveTo(l[0],l[1],S?0:null);
var B=l.length,p=b.I==0?B+2:B;for(var R=2;R<p;R+=2){T=O.i.D7(l[R%B],l[(R+1)%B]);T.cQ=!0;if(S){var I=R/p;
T.CH=2*Math.min(I,1-I)}this.nh(O,M,y,P,T,this.vn.flow)}this.G2.finish();this._M(O)}console.log(Date.now()-g);
if(S)this.vn.brush=JSON.parse(W)}}else if(u.Cw=="fill"){var w=f.PrsT?f.PrsT.v:!1,e=h?h.add.lspf:0;if(w&&h){h.add.lspf=e==null?1:e|1}var G=(f.Opct?f.Opct.v.val:100)/100,j=f.Md?h0.KL(f.Md.v.BlnM):"norm";
G=Math.round(255*G);var o=f.Usng.v.FlCn;if(o=="contentAware"||o=="aiHeal"){if(O.h==null&&!m){alert("Select an area to heal first.");
return}var r=O.h;if(o=="aiHeal"&&!ck.Te(O))return;if(o=="contentAware"){this.uK(O);this.GD(O,0);var k=a.j(r.S.C()*4);
a.GS(r.N,k,3);this.E4(O,"sheal",k,r.S,r.S);this.vw(O,r.S);this.finish(O,r.S)}else{this.lX=O;this.f=y;
var a7=ck.XP(y,3),Y=function(){this.gY=f.prmt.v;ck.a2p(this.gY,a7,O,this.a5x.bind(this),f.dh);var b4=new kg(z.E.c,!0);
b4.data={Q:z.J.JC,T1:"Processing ..."};M.a(b4);this.caller=M}.bind(this);if(a7||ck.jo(3))Y();else ck.bZ(Y)}}else if(o=="Ptrn"){var v=y.ha,n=O.h?O.h.S.v():new gi(0,0,O.A,O.$),cm=a.j(n.C()*4);
cb.g1(f,cm,n,v,new j6(0,0));for(var R=0;R<cm.length;R+=4)cm[R+3]=G;this.qq(O,h,O.h,cm,j,[6,48,0,2])}else{var Q;
if(o=="FrgC")Q=y.UC;else if(o=="BckC")Q=y.Cc;else if(o=="Blck")Q=0;else if(o=="Wht")Q=16777215;else if(o=="Gry")Q=8421504;
else if(o=="Clr"){var a5=a.wv.sl(f.Clr.v);Q=a5.o<<16|a5.R<<8|a5.X}var L=Q>>16&255,E=Q>>8&255,_=Q>>0&255;
this.qQ(O,h,O.h,L,E,_,G,j,[2,3])}if(w&&h){h.add.lspf=e==null?0:e}}else if(u.Cw=="delete"){var gP=A<0?1:h.KV,r=O.h,h7;
if(r==null)return;var cg=A<0?O.dj[-A-1]:gP<=0?null:gP==1?h.Bl():h.UU(O).$E,n=gP<=0?h.S:cg.S,a9=gP<=0?r.S.OK(n):r.S.v();
if(a9.g3())return;var ew=a9.C();if(gP<=0){h7=a.j(ew*4,O.depth);a.FP(h.buffer,h.S,h7,a9)}else{h7=a.j(ew,O.depth);
cg.extend(a9);a.TT(cg.N,cg.S,h7,a9)}if(0<=A&&h.ih(O,r)){if(gP<=0){h7.fill(0);a.FP(h.na.rC,h.na.$l,h7,a9)}else{h7.fill(255);
a.TT(h.na.rC,h.na.$l,h7,a9)}}else{if(gP<=0){var bh=a.j(h7.length>>2,O.depth);a.YT(h7,bh,3);a.B.On(a.j(r.S.C(),O.depth),r.S,bh,a9,r.N,a9,1);
a.GS(bh,h7,3)}else{var ba=a.j(r.S.C(),O.depth),L=y.Cc>>>16&255,E=y.Cc>>8&255,_=y.Cc>>0&255;ba.fill(Math.round(a.w6(L,E,_)));
a.B.On(ba,r.S,h7,a9,r.N,a9,1)}}this.Ix(O,!0,[2,2],A,gP,a9,h7)}}if(s.Q=="stroke"){var jx=s.aiZ,r=O.h;
if(r==null){r={S:h.S.v(),N:a.j(h.S.C())};a.YT(h.buffer,r.N,3)}var c4=cb.qI(jx),bq=$.vm.arb(r,Math.ceil(c4[0]),Math.ceil(c4[1])),Q=a.wv.sl(jx.Clr.v),L=Math.round(Q.o),E=Math.round(Q.R),_=Math.round(Q.X);
this.qQ(O,h,bq,L,E,_,Math.round(255*jx.Opct.v.val/100),h0.KL(jx.Md.v.BlnM),[14,9])}if(s.Q=="fillBMP"){this.qq(O,h,O.h,s.d1,s.yI,s.SD)}if(s.Q=="draw"){var di=s.PA,il=di.S;
this.uK(O);var j0=O.U[O.Y[0]];if(s.atV&&j0&&j0.KV<=0&&O.G7.length==0){il=$.HH.a2h(di,O);j0.buffer=di.buffer.slice(0);
j0.S=il.v()}else{var j1=this.vn.bmode,b5=this.vn.opacity;this.vn.bmode="norm";this.vn.opacity=1;this.E4(O,"draw",di.buffer,il,il.OK(new gi(0,0,O.A,O.$)));
this.vn.bmode=j1;this.vn.opacity=b5}this.vw(O,il);O.GJ=!0;this.finish(O,il,s.SD,s.atV)}};$.am.prototype.a5x=function(s){var M=s.target.response,O=new Uint8Array(M);
if(this.a86){this.a86=!1;M=b_.un(c.xJ(O))}else if(O[0]==123){var P=JSON.parse(c.xJ(O)),R=0;console.log(P);
if(P.status=="error"){alert(P.message.prompt[0]);return}var y=P.image_links;if(y==null)y=P.output;var F=y[0],A=new XMLHttpRequest;
A.responseType="arraybuffer";while(!0){var h=new XMLHttpRequest;h.open("HEAD",F,!1);h.send();if(h.status!=404)break;
console.log("not ready");R++}A.open("GET",F,!0);A.onload=this.a5x.bind(this);this.a86=!0;A.send();return}var m=b_.xp.AR(M)[0],Z=new Uint8Array(m.data),u=this.lX,f=ck.nJ(u)[0],U=ck.nJ(u)[1];
this.lX=null;var C=f.A/m.IK.A;if(C>1.1){var H=$.TR.GI([Z,m.IK],new kp(C,0,0,C,0,0));Z=H.buffer}var t=u.U[u.Y[0]],X=t.add.SoLd&&u.h==null,Q=X?t.Bl():u.h,D=a.j(f.C()*4);
a.FP(a.Gp(u.Ta(),8),new gi(0,0,u.A,u.$),D,f);var L=a.j(f.C());a.TT(a.Gp(Q.N,8),Q.S,L,f);a.round(L);var E=new Uint32Array(D.buffer),_=new Uint32Array(Z.buffer);
for(var R=0;R<E.length;R++)if(L[R]==0)_[R]=E[R];a.cE.Ep(Z,L,f,null,500*(1+U));var S=new kg(z.E.c,!0);
S.data={Q:z.J.fy,T1:"Processing ..."};this.caller.a(S);if(X){var S=new kg(z.E.H,!0);S.l=$.mu;S.data={Q:ad.Zw,K:[Z,f],a77:this.gY};
this.caller.a(S)}else{var W=new fr(this.gY),M=Q.S.OK(new gi(0,0,u.A,u.$));W.A=M.A;W.$=M.$;W.FR=u.FR;
W.U.push(W.kA());var t=W.Tk();t.S=M.v();W.U.push(t);t.jj(this.gY);t.buffer=a.j(t.S.C()*4);a.FP(Z,f,t.buffer,t.S);
t.S.x=t.S.y=0;t=W.Tk();t.jj("Variations");t.add.lsct=dU.l9;t.mX="pass";t.Xa=24;W.U.push(t);W.vw();var S=new kg(z.E.H,!0);
S.data={Q:ad.Nd,ZK:W};S.l=$.mu;this.caller.a(S);t=u.U[u.Y[0]];var g=t.add.SoLd;g.generativeDocInfo={t:"Objc",v:{classID:"generativeDocInfo",Vrsn:{t:"long",v:1},workflow:{t:"long",v:0}}};
$.$O.n1(u,u.Y,null,[M.x-t.S.x,M.y-t.S.y]);t.$E=new ad.OL;t.$E.color=0;t.$E.S=u.h.S.v();t.$E.N=u.h.N.slice(0);
u.vw();S=new kg(z.E.fa,!0);S.data=$.vm.l4();this.caller.a(S);S=new kg(z.E.c);S.data={Q:z.J.Rt,Rj:iY.ho.TP};
this.caller.a(S)}if(ck.XP(this.f,3)==null)ck.q9("Inpaint",3)};$.am.prototype.qQ=function(s,M,O,P,y,F,A,h,m){var Z=O==null?new gi(0,0,s.A,s.$):O.S,u=a.j(Z.C()*4,s.depth);
if(s.depth==8)a.vK(u,A<<24|F<<16|y<<8|P<<0);else{var f=a.Cs(s.depth)/255;for(var R=0;R<u.length;R+=4){u[R]=P*f;
u[R+1]=y*f;u[R+2]=F*f;u[R+3]=A*f}}this.qq(s,M,O,u,h,m)};$.am.prototype.qq=function(s,M,O,P,y,F){var A=s.G7.length!=0?-1-s.G7[0]:s.Y[0],h=A<0?1:M.KV,m=A<0?s.dj[-1-A]:h<=0?null:h==1?M.Bl():M.UU(s).$E,Z=h<=0?M.S:m.S,u=O==null?new gi(0,0,s.A,s.$):O.S,f;
if(O)f=O.N;else{f=a.j(s.A*s.$,s.depth);f.fill(a.Cs(s.depth))}if(O!=null)a.QV(f,P);var U=u.C(),C=a.j(U*4,s.depth);
if(h<=0)a.FP(M.buffer,M.S,C,u);else{m.extend(u);C.fill(255);a.Rm(m.c2(u),C)}if(0<=A&&O&&M.ih(s,O)&&h<=0){var H=M.na.bC,t=M.na.bC.slice(0);
if(h<=0)a.jO(P,t);else a.jO(fullc,t);var X=new aA([2,3],this);X.data={Q:"drawtemp",w:s.Y[0],Sm:h,apk:H,a6J:t};
s.Bx(X);this.n5(X.data,s)}else{if(h<=0){var Q;if(M.T2(0)){Q=a.j(u.C(),s.depth);a.YT(C,Q,3)}a.B.qZ(y,P,u,C,u,u,1);
if(M.T2(0))a.GS(Q,C,3)}else{a.B.qZ(y,P,u,C,u,u,1);var D=a.j(U,s.depth);a.K1(C,D);C=D}this.Ix(s,!0,F,A,h,u,C)}};
$.am.prototype.cZ=function(s){if(hj.W3.indexOf(s)!=-1)return!0;return!1};$.am.prototype.lJ=function(s,M,O,P){var y=this.vn.brush,F=P.D(hj.tT),A=P.awv(),h=F!=this.Kz,m=A!=this.YQ;
this.Kz=F;this.YQ=A;var Z=$.am.TF(y,P);if(Z!=null)this.t3(Z);if(!P.D(hj.yu)&&P.AN()!=-1&&this.id!=$.s_){var u=hj.aJA(Math.round(this.vn.opacity*100),P.AN())/100;
this.CX({opacity:u},M)}if(this.id==$.v4&&h&&s!=null){var f=this.vn.qsmode;if(f==2)f=s.h==null?0:1;else f=2;
this.CX({qsmode:f},M)}if(h||m){if(s)this.JF=s.i.xq;this.Nn(O,P)}};$.am.TF=function(s,M){var O=s.Brsh.v.Dmtr.v.val,P=s.Brsh.v.Hrdn!=null?s.Brsh.v.Hrdn.v.val:-1,y=s.Brsh.v.Angl.v.val,F=O,A=P,h=y,m=M.D(hj.Y1);
if(M.D(hj.Im)){if(m)P=25*Math.floor((P-1)/25);else{if(O<=10)O--;else if(O<=50)O=5*Math.floor((O-1)/5);
else if(O<=100)O=10*Math.floor((O-1)/10);else if(O<=200)O=25*Math.floor((O-1)/25);else if(O<=400)O=50*Math.floor((O-1)/50);
else O=100*Math.floor((O-1)/100)}}if(M.D(hj.yt)){if(m)P=25*Math.ceil((P+1)/25);else{if(O<10)O++;else if(O<50)O=5*Math.ceil((O+1)/5);
else if(O<100)O=10*Math.ceil((O+1)/10);else if(O<200)O=25*Math.ceil((O+1)/25);else if(O<400)O=50*Math.ceil((O+1)/50);
else O=100*Math.ceil((O+1)/100)}}var Z=M.D(hj._f),u=M.D(hj.dV);if(m&&(Z||u)){y=(y+360+15*(Z?1:-1))%360}O=Math.max(1,O);
P=Math.max(0,Math.min(100,P));if(A==-1)P=-1;if(O!=F||P!=A||y!=h){var f=a.G(s);f.Brsh.v.Dmtr.v.val=O;
f.Brsh.v.Angl.v.val=y;if(A!=-1)f.Brsh.v.Hrdn.v.val=P;return f}return null};$.am.prototype.Nn=function(s,M,O,P){if(s.ql.list.length==0)return;
var y=this.id,F;if((y==$.HA||y==$.P0||y==$.pr||y==$.PE)&&(M!=null&&M.D(hj.tT)||this.vn.alt[0]))F="crosshair";
else{var A=this.JF,h=this.vn.brush;if((y==$.HA||y==$.P0)&&O&&this.f_&&this.f_.length==this.zL.C()*4){var m=O.i.ni(P.x,P.y),Z=this.aJt(m),u=this.f_,f=this.zL,U=new gi(f.x+Z.x,f.y+Z.y,f.A,f.$),C=du.J1(h,s.ql.nt,A),H=C[0],t=C[1],X=Math.ceil(t.A/A),Q=new gi(Math.round(m.x-X/2),Math.round(m.y-X/2),X,X),D=a.j(Q.C()*4),L,E;
if(O.depth==8)a.FP(u,U,D,Q);else{var _=a.j(Q.C()*4,O.depth);a.FP(u,U,_,Q);D=a.Gp(_,8)}if(A==1){L=D;E=Q}else{var S=new kp(A,0,0,A,0,0),W=$.TR.GI([D,Q],S,!0);
E=t.v();E.x=W.S.x;E.y=W.S.y;if(E.s0(W.S))L=W.buffer;else{L=a.j(E.C()*4);a.FP(W.buffer,W.S,L,E)}}var g=this.vn.opacity/255;
for(var R=0;R<L.length;R+=4)L[R+3]=g*(H[R+3]*L[R+3]);du.EZ(new Uint32Array(L.buffer),E,4278190080,4294967295);
F={qJ:L,Iz:E,gB:new j6(E.A/2,E.$/2)}}else{F=du.Uw(h,s.ql.nt,A,y==$.s_||y==$.lA);if(this.YQ){F.qJ.fill(0);
du.EZ(new Uint32Array(F.qJ.buffer),F.Iz,4278190080,4294967295)}}}var x=new kg(z.E.c,!0);x.data={Q:z.J.ag,Fi:F};
if(this.caller)this.caller.a(x)};$.am.prototype.enable=function(s,M,O,P){this.f=O;this.caller=M;this.t3(a.G(this.vn.brush));
if(s&&s.i.xq!=0)this.JF=s.i.xq;this.YQ=P.awv();this.Nn(O,P)};$.am.prototype.qy=function(s,M){if(M==g5.JZ){this.vn.brush=s.ql.ss;
this.Nn(s)}};$.am.prototype.j9=function(s,M,O,P,y){for(var F in s)this.vn[F]=s[F];if(this.vn.alt[0])this.Nn(y,P,O)};
$.am.prototype.as9=function(s){var M=s.G7.length!=0?-1-s.G7[0]:s.Y[0],O=s.U[M],P=M<0?1:O.KV,y=M<0?s.dj[-M-1]:P<=0?null:P==1?O.Bl():O.UU(s).$E,F=y?y.N:O.buffer,A=(y?y.S:O.S).v();
return[O,P,y,F,A]};$.am.prototype.uK=function(s,M){this.Cm=s.h==null?null:{S:s.h.S.v(),N:s.h.N.slice(0)};
var O=this.pz,P=this.as9(s),y=P[0],F=P[1],A=P[2];this.pz=P[3];this.$P=P[4];var h=new gi(0,0,s.A,s.$),m=h.v8(this.$P);
if((this.k9()&&F<=0||m.s0(this.$P))&&M!=!0){if(O&&O.length==this.pz.length){O.set(this.pz);this.pz=O}else this.pz=this.pz.slice(0)}else{if(A)A.extend(m);
else y.extend(m)}};$.am.prototype.GD=function(s,M){var O=this.as9(s),P=O[1],y=O[3],F=O[4],A=[y,F],h=M!=null?M:this.vn.sfrom;
if(P<=0&&h!=0){A[1]=new gi(0,0,s.A,s.$);A[0]=s.Ta(h==1&&s.Y[0]!=s.U.length-1?s.Y[0]:null).slice(0)}this.zL=A[1].v();
this.f_=A[0].slice(0)};$.am.prototype.HJ=function(s,M,O,P,y,F){if(y.cQ&&P.D(hj.tT)&&this.BD==null){if(F)this.dd=O.UC;
var A=new kg(z.E.H,!0);A.l=$.kw;A.data={Q:"pickhere",ac8:y};M.a(A);var h=$.jP.ate(s,!1,!0,y,null,O.UC,this.dd,1),A=new kg(z.E.c,!0);
A.data={Q:z.J.ag,Fi:h};M.a(A);return!0}return!1};$.am.prototype.P4=function(s,M,O,P,y,F){if(this.id!=$.v4&&!s.Y7(this.caller)){this.G2=null;
return}if(this.id!=$.v4&&this.G2)return;this.uK(s);var A=new gi(0,0,s.A,s.$),h=null;if(F!=null){var m=s.G7.length!=0?-1-s.G7[0]:s.Y[0],Z=s.U[m],u=m<0?s.dj[-m-1]:Z.KV<=0?null:Z.KV==1?Z.Bl():Z.UU(s).$E;
h=a.j(A.C()*4,s.depth);if(u)$.am.y_(this.pz,this.$P,u.color,h,A);else a.FP(this.pz,this.$P,h,A)}var f=this.vn;
if(this.G2&&this.id==$.v4&&f.qsmode!=0&&s.h!=null){}else{var U=M.UC,C=M.Cc,X=null;if(this.HX=="erase"){var H=U;
U=C;C=H}var t=this.id==$.v4?this.$P:A;if(s.I2)X=[3];else if(s.vX!=-1){var Q=s.J4[s.vX];X=[Q.gT[0],Q.gT[1],Q.add.vmsk.u]}this.G2=new du(f.brush,M.ql.nt,M.ql.hx,{KA:y,Um:F,aqG:f.smth*50/s.i.xq,q_:this.id==$.PE||f.emode==1,gT:X,depth:s.depth},U,C,t,h)}if(this.id==$.v4){this.G2.a7v(f.brush,f.qsmode==2?0:16777215)}var D=s.i.ni(P.x,P.y);
if(O.D(hj.Y1)&&this.oz){var L=this.oz;this.G2.moveTo(L.x,L.y,P.CH);this.G2.lineTo(.001*L.x+.999*D.x,.001*L.y+.999*D.y,P.CH);
this.G2.lineTo(D.x,D.y,P.CH)}else this.G2.moveTo(D.x,D.y,P.CH);this.oz=D;this.ud=D.v();this.qh=new ff(D,s.i.JL)};
$.am.prototype.Oz=function(s,M,O){if(s&&s.i.xq!=0&&s.i.xq!=this.JF){this.JF=s.i.xq;this.Nn(O)}};$.am.prototype.wn=function(s,M,O,P){if(this.G2==null)return;
var y=s.U[s.Y[0]],F=s.i.ni(P.x,P.y),A=this.qh.y7(F,O);if(A.s0(this.oz))return 1;this.G2.lineTo(A.x,A.y,P.CH);
this.oz=A;if(this.id==$.HA||this.id==$.P0){var h=this.uD(),m=11;h=s.i.D7(F.x-h.x,F.y-h.y);var Z=m>>>1,u=new gi(Math.round(h.x)-Z,Math.round(h.y)-Z,m,m),f=a.j(u.C()*4);
for(var R=0;R<m;R++)f[(R*m+Z)*4+3]=f[(m*Z+R)*4+3]=255;s.W.zp=[[f,u]];s.G_=!0}};$.am.prototype.Iy=function(s,M,O,P){if(O.zI!=this.id)return;
if(this.id!=$.v4||s==null)return;if(s.h==null||s.Y[0]!=this.a1I){this.a1I=s.Y[0];this.CX({qsmode:0},M)}};
$.am.prototype.vw=function(s,M){if(s.G7.length!=0){s.G_=!0;return}var O=s.U[s.Y[0]];if(M==null){M=this.G2.Wj();
if(this.k9()&&O.KV<=0)M=M.OK(this.$P)}var P=O.KV;if(P==1||P==3){var y=Math.round((P==1?O.Bl():O.UU(s).$E).CN*2.4);
M=M.v();M.rX(y,y)}if(M.g3())return;if(P<=0){O.vw(M)}if(P==1){O.Bl().oy=!0;O.uH(s,M)}if(P==3){O.vw(M)}s.vw(s.root.c9(M,s,s.Y[0],!0))};
$.am.prototype.Cq=function(s,M,O,P,y){if(this.G2==null)return;this.G2.finish();if(this.id!=$.E7&&this.id!=$.P0&&this.id!=$.v4)this._M(s);
if(this.id==$.HA||this.id==$.P0){s.W.zp=[];s.G_=!0}if(this.id==$.v4){var F=s.h;s.h=this.Cm;var A=new kg(z.E.H,!0);
A.data={Q:"setsel",SD:this.name,h:F};A.l=$.Sp;M.a(A);if(this.vn.qsmode==0)this.CX({qsmode:1},M)}else{this.finish(s,this.G2.Ao());
this.G2=null;this.Ez=null}this.dir=0};$.am.prototype.CX=function(s,M){for(var O in s)this.vn[O]=s[O];
var P=new kg(z.E.c,!0);P.data={Q:z.J.Qo,l:this.id,X$:s};M.a(P)};$.am.prototype.k9=function(){var s=this.id;
return s==$.v4||s==$.W7||s==$.Q7||s==$.GW||s==$.XY||s==$.Lt};$.am.prototype.finish=function(s,M,O,P,y){var F=s.G7.length!=0?-1-s.G7[0]:s.Y[0],A=s.U[F],h=F<0?1:A.KV,m=F<0?s.dj[-F-1]:h<=0?null:h==1?A.Bl():A.UU(s).$E,Z=m?m.S:A.S,U;
if(this.k9()||!Z.s0(this.$P)){if(m==null){if(this.k9())A.FW();else{if(this.id!=$.pr&&this.id!=$.PE){var u=M.v8(this.$P),f=a.j(u.C()*4,s.depth);
a.FP(A.buffer,A.S,f,u);A.buffer=f;A.S=u}}}else m.FW();this.vw(s,Z)}if(h<=0){U=a.j(M.C()*4,s.depth);a.FP(this.pz,this.$P,U,M)}else{U=a.j(M.C(),s.depth);
U.fill(Math.round(a.Cs(s.depth)*m.color/255));a.TT(this.pz,this.$P,U,M)}this.Ix(s,!1,O?O:this.name,F,h,M,U,P,y)};
$.am.prototype.Ix=function(s,M,O,P,y,F,A,h,m){var Z=A;if(y>0){Z=a.j(F.C()*4,a.$i(A));$.am.y_(A,F,0,Z,F)}var u=new aA(O,this);
u.data=[{w:P,Sm:y,Iz:F,OC:Z}];if(h)u.data.gc=[s.h,null];if(m)u.data.gc=[this.Cm,s.h];s.Bx(u);if(M)this.n5(u.data,s);
else if(h)s.h=null;$.LB.aeB(s,u.data)};$.am.prototype.QB=function(s,M){this.aFw(s,M,!1)};$.am.prototype.n5=function(s,M){this.aFw(s,M,!0)};
$.am.prototype.aM=function(s){return $.LB.aM(s)};$.am.prototype.aFw=function(s,M,O){if(s.Q=="drawtemp"){var P=O?s.a6J:s.apk,y=M.U[s.w];
y.na.bC=P;y.u8(M,0,0,M.h);y.vw();M.GJ=!0}else{$.LB.kG(M,s);if(s.gc){M.h=s.gc[O?1:0];M.Yw=!0}}M.vw()};
$.am.prototype._M=function(s){var M=this.G2.HT(),O=this.G2.Gt(),P=this.G2.Wj();this.E4(s,this.HX,M,O,P);
this.vw(s)};$.am.prototype.E4=function(s,M,O,P,y){var F=this.vn,A=s.U[s.Y[0]],h=s.G7.length!=0?s.dj[s.G7[0]]:A.KV<=0?null:A.KV==1?A.Bl():A.UU(s).$E,m=a.j(y.C()*4,s.depth),Z,u=A.T2(0);
if(h==null){if(this.id==$.VH&&M=="heal")a.FP(A.buffer,A.S,m,y);else a.FP(this.pz,this.$P,m,y);if(u){Z=a.j(y.C(),s.depth);
a.YT(m,Z,3)}}else{$.am.y_(this.pz,this.$P,h.color,m,y)}if(s.h&&M!="qselect"){var f=y.OK(s.h.S),U=a.j(f.C()*4,s.depth);
if(M=="copy"){var C=a.j(f.C(),s.depth);a.TT(s.h.N,s.h.S,C,f);a.FP(m,y,U,f);a.B.VB(O,P,U,f,C,f,0,f,1,!1)}else{a.FP(O,P,U,f);
a._5(s.h.N,s.h.S,U,f)}O=U;P=f}function H(Q,c4){var di=Math.max(c4.x,Math.min(c4.x+c4.A-1,Q.x)),il=Math.max(c4.y,Math.min(c4.y+c4.$-1,Q.y));
return new j6(di,il)}if(M=="idraw"||M=="ierase"){if(this.Ez==null)this.Ez=a.j(this.$P.C());var t=F.samp,X=this.f.Cc,Q=H(this.oz,y),D=t==0?Q:this.ud,L=D.x,E=D.y,_=$.sJ.zo(this.pz,this.$P,[D,new j6(L-2,E),new j6(L+2,E),new j6(L,E-2),new j6(L,E+2)]);
if(t==2)_=[[X>>>16&255,X>>>8&255,X>>>0&255,255]];var S=$.sJ.BQ(m,y,Q,_,F.wconf),W=a.j(y.C());a.TT(this.Ez,this.$P,W,y);
a.Ns.v8(S,W,W);a.TT(W,y,this.Ez,this.$P);a._5(W,y,O,P);M=M.slice(1)}if(M=="erase"&&($.LB.ab4(s)!=16777215||h))M="draw";
if(M=="draw")a.B.qZ(F.bmode,O,P,m,y,y,F.opacity);else if(M=="erase"){var g=F.opacity;if(this.id==$.lA)g=1;
var x=a.j(y.C()*4,s.depth);a.FP(O,P,x,y);if(h==null){var V=a.j(y.C(),s.depth);a.YT(x,V,3);a.zr(V,g);
a.or(V);a._5(V,y,m,y)}else{a.bJ(x,0,0,0);a.B.qZ("norm",x,y,m,y,y,g)}}else if(M=="clone"||M=="heal"){var b=this.uD(),N=this.zL.v();
N.offset(b.x,b.y);var J=y.v();J.rX(1,1);var K=a.j(J.C()*4,s.depth),q=a.j(J.C(),s.depth);a.FP(O,P,K,J);
a.YT(K,q,3);K.fill(0);if(h==null){a.FP(this.f_,N,K,J);var d=a.j(J.C(),s.depth);a.YT(K,d,3);a.kd(d,q)}else $.am.y_(this.f_,N,h.color,K,J);
if(M=="clone"){a.GS(q,K,3);a.B.qZ(F.bmode,K,J,m,y,y,F.opacity)}if(M=="heal"){var l=q.slice(0);a.round(l,a.Cs(s.depth)/10);
var T=a.j(J.C()*4,s.depth);if(h==null)a.FP(this.pz,this.$P,T,J);else $.am.y_(this.pz,this.$P,h.color,T,J);
a.B.VB(K,J,T,J,l,J,0,J,1,!1);var B=a.Gp(T,8);a.cE.Ep(B,l,J);a.Gp(B,s.depth,T);a.B.VB(T,J,m,y,q,J,0,y,1,!1)}}else if(M=="dodge"||M=="burn"){var p=y.C()*4,I=a.Cs(s.depth),w=1/I,K=a.j(p,s.depth),G=1,j=0,o=0,r=0;
a.FP(O,P,K,y);var e=$.am.Jg;if(this.Kz){if(M=="dodge")M="burn";else M="dodge"}var k=F.rng;if(M=="dodge"){j=[1-G/2,1,1+G][k];
o=[1,1/(1+G),1][k];r=[G/2,0,0][k]}if(M=="burn"){j=[1/(1-G/2),1,1-G/2][k];o=[1,1+G,1][k];r=[-(G/2)/(1-G/2),0,0][k]}for(var R=0;
R<p;R+=4){var a7=K[R+3]*w;m[R+0]=I*e(m[R+0]*w,j,o,r,a7);m[R+1]=I*e(m[R+1]*w,j,o,r,a7);m[R+2]=I*e(m[R+2]*w,j,o,r,a7)}}else if(M=="sponge"||M=="redeye"){var K=a.j(y.C()*4,s.depth),q=a.j(y.C(),s.depth);
a.FP(O,P,K,y);a.YT(K,q,3);a.jO(m,K);var Y=F.smode;if(this.Kz)Y=1-Y;var v=bW.Jb("hue2");if(M=="sponge")aU.lB(v,0,[0,[-50,46][Y],[6,5][Y]]);
else aU.lB(v,1,{lc:[265,305,25,55],GQ:[0,-90,-70]});var n=ak.QC("hue2",v);ak.Vj(n,K,K,y);a.B.VB(K,y,m,y,q,y,0,y,1,!1)}else if(M=="copy")a.FP(O,P,m,y);
else if(M=="sheal"){var K=a.j(y.C()*4,s.depth),q=a.j(y.C(),s.depth);a.FP(O,P,K,y);a.YT(K,q,3);K.fill(0);
var cm=this.f_,a5=this.zL;if(h){cm=a.j(a5.C()*4,s.depth);$.am.y_(this.f_,a5,0,cm,a5)}var gP=a.Gp(K,8),cg=a.Jt.Ep(a.Gp(cm,8),a5,a.Gp(q,8),gP,y);
a.Gp(gP,s.depth,K);if(cg!=0)a.FP(cm,a5,K,y);if(F.sfrom==0)a.FP(K,y,m,y);else{a.FP(this.pz,this.$P,m,y);
a.GS(q,K,3);a.B.qZ("norm",K,y,m,y,y,1)}}else if(M=="qselect"){var a9=this.$P,ew=a9.A,h7=a9.$,bh=ew*h7,ba=a.Gp(this.G2.HT(),8),jx=$.vm.WN,q=jx.c5;
q.fill(128);for(var R=0;R<bh;R++){var c4=ba[R<<2],bq=ba[(R<<2)+3];if(bq==255&&(c4==0||c4==255))q[R]=c4}q[0]=q[ew-1]=0;
q[(h7>>>1)*ew]=q[(h7>>>1)*ew+ew-1]=0;$.t8.Od(jx,!0,s);s.h={S:a9,N:a.Gp(jx.h.slice(0),s.depth)};s.Yw=!0}if(h==null){if(u)a.GS(Z,m,3);
a.FP(m,y,A.buffer,A.S)}else $.am.ZD(m,y,h)};$.am.uD=function(){return null};$.am.Jg=function(s,M,O,P,y){var F=P+M*Math.pow(s,O),A=F*y+s*(1-y);
return Math.max(0,Math.min(1,A))};$.am.y_=function(s,M,O,P,y){var F=a.$i(s),A=a.Cs(F),h=a.j(y.C(),F);
h.fill(A*O/255);a.TT(s,M,h,y);P.fill(A);a.Rm(h,P)};$.am.ZD=function(s,M,O){var P=a.j(M.C(),a.$i(s));
a.K1(s,P);a.TT(P,M,O.N,O.S)};$.vm=function(s,M,O){$._g.call(this,s,M,O);this.vn={binop:0,feat:0,cstr:{t:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.$N=new j6(-1,-1);this.bc=new j6(-1,-1);this.hi="default";this.$V=null;this.uo=!1;this.yE=new iH;
this.sR=!1;this.t1=null;this.OF=null;this.xX=!1;this.vQ=!1};$.vm.prototype=new $._g;$.vm.prototype.jA=function(){var s=this.vn,M=[s.binop,s.feat],O=s.wconf.slice(0);
O[1]=O[1]?1:0;O[2]=O[2]?1:0;var P=O.join(",")=="16,1,1";if(M[0]==0&&M[1]==0&&P)return null;if(!P)M.push(O);
return M};$.vm.prototype.LQ=function(s,M,O){var P=this.vn;if(s[0])P.binop=s[0];if(s[1])P.feat=s[1];if(s[2]){var y=P.wconf=s[2].slice(0);
if(typeof y[1]=="number"){y[1]=y[1]==1;y[2]=y[2]==1}}this.LZ(O)};$.vm.prototype.LZ=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.Qo,l:this.id,vn:this.vn};s.a(M)};$.vm.WN={key:""};$.vm.mi=function(s,M,O){var P={Cw:s,kT:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(M)P.kT.T=M;if(O!=null)P.kT.AntA={t:"bool",v:O};return P};$.vm.KT=function(s,M,O){return $.vm.mi("set",{t:"Objc",v:{classID:s,Top:{t:"UntF",v:{type:"#Pxl",val:M.y}},Left:{t:"UntF",v:{type:"#Pxl",val:M.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:M.y+M.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:M.x+M.A}}}},O)};
$.vm.LK=function(s,M,O){var P=[],y=[],A="set";for(var R=0;R<s.length;R+=2){P.push(s[R]);y.push(s[R+1])}var F={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:P},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:y}]}}}};
if(M)A=["set","addTo","subtractFrom","interfaceWhite"][M];return $.vm.mi(A,F,O)};$.vm.asb=function(s,M,O){var P={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:s.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:s.y}}}},y=$.vm.mi("set",P);
y.kT.Tlrn={t:"long",v:M[0]};y.kT.AntA={t:"bool",v:M[1]};y.kT.Cntg={t:"bool",v:M[2]};if(O==!0)y.kT.Mrgd={t:"bool",v:O};
return y};$.vm.l4=function(s){return $.vm.mi("set",{t:"enum",v:{Ordn:s?"Al":"None"}})};$.vm.vp=function(s,M,O){var P={classID:"null"};
if(s!="border")P.selectionModifyEffectAtCanvasBounds={t:"bool",v:O};var y={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[s[0]];
P[y]={t:"UntF",v:{type:"#Pxl",val:M}};return{Cw:s,kT:P}};$.vm.bK=function(s,M,O){var P={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},y={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:M}}]};
if(O)y.v.push({t:"name",v:{classID:"Lyr",val:O}});var F=[{classID:"null",null:P,T:y},{classID:"null",null:y,T:P},{classID:"null",null:y,From:P},{classID:"null",null:y,With:P}],A=["set","add","subtract","interfaceIconFrameDimmed"];
return{Cw:A[s],kT:F[s]}};$.vm.aAL=function(){return{Cw:"make",kT:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}};
$.vm.azX=function(s,M){var O=new kg(z.E.c,!0);O.data={Q:z.J.ko,dh:g5._s};if(!M.he)s.a(O);O.data={Q:z.J.ko,dh:g5.ox};
if(!M.QZ.vq)s.a(O)};$.vm.prototype.cu=function(s,M,O,P,y){$.vm.azX(M,y);this.$V=M;var F=s.Q,A,h,m=new gi(0,0,O.A,O.$),c6=!1,k7,hP,e1,fs;
if(F=="fromAction"){var Z=s.Q1,u=Z.Cw,f=Z.kT,U=f?f.selectionModifyEffectAtCanvasBounds:null,C=U&&U.v;
if(u=="colorRange"){if(f.Clrs){var H=f.Clrs.v.Clrs,t=0,X=255,Q=["Shdw","Mdtn","Hghl"].indexOf(H),_=.4;
if(Q==0)X=60;else if(Q==1){t=100;X=150}else t=190;var D=["shadows","midtones","highlights"][Q],L=f[D+"LowerLimit"],E=f[D+"UpperLimit"];
if(L)t=L.v;if(E)X=E.v;var S=f[D+"Fuzziness"];if(S)_=S.v/100;A=$.vm.k3(O,t,X,_,!0)}else{var t=f.Mnm.v,X=f.Mxm.v,_;
t={Yk:t.Lmnc.v,cd:t.A.v,X:t.B.v};X={Yk:X.Lmnc.v,cd:X.A.v,X:X.B.v};_=f.Fzns.v/200;A=$.vm.k3(O,t,X,_)}h=[7,8]}else if(u=="inverse"){if(O.h==null){alert("No selection!");
return}A={N:a.j(m.C(),O.depth),S:m};a.TT(O.h.N,O.h.S,A.N,A.S);a.or(A.N);h=[7,2]}else if(u=="expand"){var W=f.By.v.val,g=O.h.S.v();
g.rX(W,W);var x=a.j(g.C()),V=a.j(g.C(),O.depth);a.TT(O.h.N,O.h.S,V,g);a.style.stroke(a.Gp(V,8),x,g,W);
A={N:a.Gp(x,O.depth),S:g};h=[7,4]}else if(u=="contract"){var W=f.By.v.val,b=O.h.S.v();b.rX(1,1);if(!C)b=b.OK(m);
var V=a.j(b.C(),O.depth),N=a.j(V.length,8);a.TT(O.h.N,O.h.S,V,b);a.or(V);a.style.stroke(a.Gp(V,8),N,b,W);
a.or(N);A={N:a.Gp(N,O.depth),S:b};a.FW(A);h=[7,5]}else if(u=="border"){var W=f.Wdth.v.val;A=$.vm.arb(O.h,W/2,W/2);
h=[7,9]}else if(u=="feather"||u=="smoothness"){var W=f.Rds.v.val;A=$.vm.a5n(O.h,W,u=="smoothness",m,C);
h=u=="feather"?[7,6]:[19,3,0]}else if(u=="move"){var J=f.T.v,g=O.h.S.v();g.x+=J.Hrzn.v.val;g.y+=J.Vrtc.v.val;
A={N:O.h.N,S:g};h=[7,7]}else if(u=="grow"||u=="similar"){var K=this.vn.wconf.slice(0);if(f.Tlrn)K[0]=f.Tlrn.v;
K[2]=u=="grow";var q=O.Ta(),d=new gi(0,0,O.A,O.$),l=O.h.S,T=Math.max(1,Math.round(Math.sqrt(l.C())/10)),B=a.j(d.C());
a.TT(O.h.N,l,B,d);var p=[];for(var I=0;I<l.$;I+=T)for(var w=(l.C()+I)%T;w<l.A;w+=T)if(O.h.N[I*l.A+w]==255){var e=new j6(l.x+w,l.y+I);
p.push(e);if(K[2])a.Ns.v8($.sJ.BQ(q,d,e,null,K),B,B)}if(!K[2])a.Ns.v8($.sJ.BQ(q,d,e,$.sJ.zo(q,d,p),K),B,B);
A={N:B,S:d};h=u=="grow"?"Grow Selection":"Similar Selection";console.log(f)}else{var G=f.null.v,j=f.AntA!=null&&f.AntA.v;
function o(gz){return a.b.An(a.cV.Gt(gz,O.A,O.$),!0)}function r(gz){var dL=gz[0].arr,dm=gz[1].arr,cM={L:[],J8:[]};
for(var R=0;R<dL.length;R++){cM.J8.push(R==0?"M":"L");cM.L.push(dL[R],dm[R])}cM.J8.push("Z");if(gz[0].uID=="#Prc")a.b.M(cM.L,new kp(O.A/100,0,0,O.$/100,0,0),cM.L);
return cM}var k=["set","addTo","subtractFrom","interfaceWhite"].indexOf(u),a7=f.T?f.T.v:null;if(a7&&a7.classID=="Elps"){A=this.aik($.Lu.aH$(o(a7)),O.depth);
h=[10,4]}else if(a7&&a7.classID=="Rctn"){var Y=o(a7);A={N:a.j(Y.C(),O.depth),S:Y.v()};A.N.fill(a.Cs(O.depth));
h=[10,15]}else if(a7&&a7.classID=="ObSl"){var Y=o(a7),v=$.vm.WN,n=v.S,cm=v.c5,a5=n.A,gP=n.$,cg=Y.x-n.x,a9=cg+Y.A-1,ew=Math.max(cg,Math.min(a9,cg+a9>>>1)),h7=Y.y-n.y,bh=h7+Y.$-1,ba=Math.max(h7,Math.min(bh,h7+bh>>>1)),jx=Math.max(cg,0),c4=Math.min(a9,a5),bq=Math.max(h7,0),di=Math.min(bh,gP);
cm.fill(128);if(0<=h7)for(var w=jx;w<c4;w++)cm[h7*a5+w]=0;if(bh<gP)for(var w=jx;w<c4;w++)cm[bh*a5+w]=0;
if(0<=cg)for(var I=bq;I<di;I++)cm[I*a5+cg]=0;if(a9<a5)for(var I=bq;I<di;I++)cm[I*a5+a9]=0;var il=$.Hr.av0,j0=Math.round(Y.A*il),j1=Math.round(Y.$*il);
for(var w=Math.max(0,ew-j0);w<Math.min(a5,ew+j0);w++)cm[ba*a5+w]=255;for(var I=Math.max(0,ba-j1);I<Math.min(gP,ba+j1);
I++)cm[I*a5+ew]=255;$.t8.Od(v,!0);A={N:v.h.slice(0),S:n.v()};h=[10,44]}else if(a7&&a7.classID=="Plgn"){A=this.aik(r(a7.Pts.v.arr),O.depth);
h=[10,9]}else if(a7&&a7.classID=="Pnt"){A=$.sJ.ar1(O,new j6(a7.Hrzn.v.val,a7.Vrtc.v.val),[f.Tlrn.v,j,f.Cntg==null||f.Cntg.v],f.Mrgd?f.Mrgd.v:!1);
h=[10,12]}else if(a7&&a7.Ordn=="None"){A=null;h=[7,1]}else if(a7&&a7.Ordn=="Al"){var b5=m;if(O.Y.length!=0){var b4=O.root.vt(O.Y[0]);
while(b4.parent&&b4.parent.parent)b4=b4.parent;if(b4.w.add.artb)b5=b4.w.Kj()}A={N:a.j(b5.C(),O.depth),S:b5};
A.N.fill(a.Cs(O.depth));h=[7,0]}else if(a7&&a7[0]&&a7[0].v.keyID=="WrPt"){var lm={Q:"frompath",ZN:[-1,0,0]};
this.cu(lm,M,O,P,y);return}else{var ix=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(u),jy=u=="set"?a7:G,bz=jy[0].v.enum,lm;
if(bz=="Trsp"||bz=="Gray"||bz=="Msk"||bz=="vectorMask"||bz=="Trgt"){var c5=O.Y[0];if(jy.length==2)c5=f7.Mf(O,jy[1]);
var k0=["Trsp","Msk","vectorMask"].indexOf(bz);if(bz=="Trgt"&&O.U[c5].KV==1)k0=1;if(bz=="Gray")k0=-1;
lm={Q:"fromlayer",ZN:[c5,k0,ix]}}else{if(jy[0].t=="name"){var c5=0;for(var R=0;R<O.dj.length;R++)if(O.dj[R].name==jy[0].v.val)c5=R;
lm={Q:"fromchannel",ZN:[-5-c5,0,ix]}}else{var cd=["RGB","Rd","Grn","Bl"].indexOf(bz);lm={Q:"fromchannel",ZN:[-1-cd,0,ix]}}}this.cu(lm,M,O,P,y);
return}if(A){if(!j)a.round(A.N);if(f.Fthr)A=$.vm.a5n(A,f.Fthr.v.val,!1);if(u!="set"&&O.h!=null)A=a.Ns.dC(A,O.h,k)}}if(u=="expand"||u=="contract")if(!C&&!m.contains(A.S)){var fz=A.S.OK(m),fu=a.j(fz.C(),O.depth);
a.TT(A.N,A.S,fu,fz);A.N=fu;A.S=fz}}if(F=="qmask"){c6=!0;var eh=O.X2(),d=new gi(0,0,O.A,O.$);if(eh){A=eh.S.s0(d)&&a.p$(eh.N,255)?null:{S:eh.S.v(),N:eh.N.slice(0)};
k7=eh}else{A=null;hP=new ad.OL;hP.color=0;hP.name="Quick Mask";hP.H7=!0;if(O.h){hP.S=O.h.S.v();hP.N=O.h.N.slice(0)}else{hP.S=d;
hP.N=a.j(hP.S.C());hP.N.fill(255)}}h=[6,6,1];O.GJ=!0}if(F=="setsel"){A=s.h;h=s.SD}if(F=="crange"){var t=s.w5,X=s.n8;
A=$.vm.k3(O,t,X,s.cI);h=[7,8]}if(F=="fromlayer"||F=="fromchannel"||F=="frompath"){var gW=s.ZN[0],k0=s.ZN[1],k=s.ZN[2];
if(F=="fromlayer"){if(gW==null)gW=O.Y[0];var hk=O.U[gW];if(k0<=0){if(hk.ES()){var b4=O.root.vt(gW);A={N:a.j(0),S:new gi};
for(var R=0;R<b4.children.length;R++){var jz=b4.children[R].w;if(jz.S.g3())continue;var lh=a.j(jz.S.C());
a.YT(jz.buffer,lh,3);var ag={N:lh,S:jz.S.v()};if(R==0)A=ag;else A=a.Ns.dC(A,ag,1)}if(A.S.g3())return}else{var eo=hk.S,aC=hk.buffer;
if(eo.g3())return;var e8=a.j(aC.length>>>2,O.depth);if(k0==0)a.YT(aC,e8,3);if(k0==-1)a.K1(aC,e8);A={N:e8,S:eo.v()}}}else{if(hk.$E==null)hk.uH(O);
var lb=k0==1?hk.Bl():hk.$E;if(k0==3)lb=hk.UU(O).$E;A=$.vm.a8Y(lb,m)}this.track($.vm.bK(k,["Trsp","Msk"][k0],hk.getName()))}else if(F=="frompath"){var jn=O.Iv(),k3=jn[1],jn=jn[0],l2=!0;
if(gW==null)if(jn.length==0||k3.length==0)return;var cP=jn[k3[0]];if(gW!=null)for(var R=0;R<jn.length;
R++)if(jn[R].Fa==gW)cP=jn[R];var lb=cP.add.vmsk.Bl(),cV=lb.Gt();if(cV.C()==0)return;var e8=lb.B3();if(s.ZN[3]!=null)l2=s.ZN[3];
if(!l2){e8=e8.slice(0);a.round(e8)}e1=[JSON.stringify(O.J_),JSON.stringify(O.XK)];fs=["[]","[]"];O.J_=[];
O.XK=[];A={N:e8,S:cV}}else if(F=="fromchannel"){if(gW==null)gW=$.vm.aI0(O);A=$.vm.agA(O,gW)}if(k!=0&&O.h)A=a.Ns.dC(A,O.h,k);
h=[14,11]}if(F=="bgrm"){if($.vm.ai6(O,M,s,y))return;var dS=window.locStor.getItem("bgrmt");if(dS==null)dS=0;
var gH=24*60*60,hd=$.vm.an2.bind([O,M,s,y]),bL=Math.floor((Date.now()-dS)/1e3);if(!ck.jo(1)&&ck.XP(y,1)==null){var ev=dB.Mo(),eF=ev?"Out of AI credits :( ":"This is a Premium feature. Go Premium for $5 a month (press Account at the top). ",fn=eF+"\nWatch a short ad to use the feature?";
f9.bZ(hd,fn,"rmbg")}else hd();return}if(A!=null&&a.p$(A.N,0)){A=null;h=[7,1]}if(A)a.FW(A);var iu=new aA(h,this);
iu.data={Q:"changesel",h:A,X2:c6,amZ:k7,asn:hP,SF:e1,a3Q:fs};O.Bx(iu);this.n5(iu.data,O)};$.vm.ai6=function(s,M,O,P){var y=s.U[s.Y[0]],F=y.S,A=a.Gp(y.buffer,8),h=F.A,m=F.$,Z=[0,0,h-1,0,0,m-1,h-1,m-1],u=!0;
for(var R=0;R<4;R+=2){var f=(Z[R+1]*h+Z[R])*4,U=0;for(var C=0;C<3;C++){U+=(A[C]-A[f+C])*(A[C]-A[f+C])}if(U>25)u=!1}if(u&&y.Bl()==null&&s.h==null){var H=a.j(h*m);
for(var R=0;R<4;R++){var t=Z[R*2],X=Z[R*2+1],Q=20,D=1,L=null;if(H[X*h+t]>200)continue;while(Q<120){var E=$.sJ.BQ(A,F,new j6(t,X),null,[Q,!0,!0]),_=0;
for(var C=0;C<E.length;C++)_+=E[C];var S=Q<50?1.015:1.004;if(L&&_>D*S)break;L=E;D=_;Q+=10}for(var C=0;
C<L.length;C++)H[C]=Math.max(H[C],L[C])}a.or(H);$.vm.asK(y,M,H,F,O.K,null);alert(dN.BF("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};$.vm.an2=function(){var s=this[0],M=this[1],O=this[2],P=this[3],y=2,F=s.U[s.Y[0]],A=F.S,h=a.Gp(F.buffer,8),m=1,Z=[4096,4096,2048][y];
while(Math.max(A.A,A.$)>Z){var u=a.FJ(h,A);A=u.S;h=u.tG;m*=2}var f=b_.O7("png"),U=b_.O7("jpg"),C=U.u6([[h.buffer]],A.A,A.$),H=new FormData;
H.append("image",new Blob([C],{type:"ima"+"ge/j"+"pg"}));H.append("mode","mask");var t=new kg(z.E.c,!0);
t.data={Q:z.J.JC,T1:"Processing ..."};M.a(t);window.akf=Date.now();var X=function(Q){console.log(Date.now()-window.akf);
var D=Q.target.response,L=new Uint8Array(D);if(L.length!=0){var E=f.AR(D)[0],_=E.IK,W=a.j(_.C());a.K1(new Uint8Array(E.data),W);
for(var R=0;R<W.length;R++){if(W[R]>250)W[R]=255}if(m!=1){var u=$.TR.aef([W,_],new kp(m,0,0,m,0,0));
_=u.S;W=u.N}_.x=F.S.x;_.y=F.S.y;$.vm.asK(F,M,W,_,O.K,dN.BF("AQVUYE\\{}"));if(ck.XP(P,1)==null){ck.q9("Rem"+"ove B"+"G",1);
window.locStor.setItem("bgrmt",Date.now())}}else{alert("An error occured :( we are trying to fix it.")}var t=new kg(z.E.c,!0);
t.data={Q:z.J.fy,T1:"Processing ..."};M.a(t)};ck.anx(dN.BF("aQVUYEi<87<5=7:0#"),H,ck.XP(P,1),X)};$.vm.asK=function(s,M,O,P,y,F){var A=new kg(z.E.H,!0);
if(y==1){A.l=$.mu;A.data={Q:ad.y8,$Z:F,avq:!0,Eq:"HdAl"};M.a(A);var h=s.Bl();h.color=0;h.S=P;h.N=a.Gp(O,a.$i(s.buffer));
h.FW();s.uH()}else if(y==2){A.l=$.Sp;A.data={Q:"setsel",h:{N:O,S:P},SD:"Select Subject"};M.a(A)}else throw"e"};
$.vm.aI0=function(s){var M=0;if(s.G7.length!=0)M=-5-s.G7[0];else if(JSON.stringify(s.i.P7)=="[1,1,1]")M=-1;
else M=-2-s.i.P7.indexOf(1);return M};$.vm.agA=function(s,M){var O,P=new gi(0,0,s.A,s.$);if(-5<M&M<0){var y=-M-1,F=s.Ta(),A=a.j(P.C());
if(y==0)a.K1(F,A);else a.YT(F,A,y-1);O={N:A,S:P.v()}}if(M<-4){O=$.vm.a8Y(s.dj[-M-5],P)}return O};$.vm.a8Y=function(s,M){var O,P;
if(s.sl()==0){P=s.Gt().v();if(P.C()==0)return;O=s.B3()}else{P=M;O=a.j(P.C());s.mw(P,O)}return{N:O,S:P}};
$.vm.prototype.cJ=function(s){return this.sR||s.cQ&&this.id!=$.G8};$.vm.prototype.eR=function(s,M,O){var P=new kg(M,!0);
P.data=O;s.a(P)};$.vm.prototype.aeM=function(s,M){var O=new kg(z.E.c,!0);O.data={Q:z.J.ag,Fi:M};s.a(O)};
$.vm.prototype.Gt=function(s,M,O){M=s.h==null||this.yE.ew(1)||this.yE.kU(1)?M:null;var P=this.$N,y=this.bc;
if(O){P.x=Math.max(0,Math.min(s.A,P.x));P.y=Math.max(0,Math.min(s.$,P.y));y.x=Math.max(0,Math.min(s.A,y.x));
y.y=Math.max(0,Math.min(s.$,y.y))}var F=$.gw.D0(P,y,M,!0,this.vn.cstr),A=F[0].x,h=F[0].y,m=new gi(A,h,F[1].x-A,F[1].y-h);
if(O){m.x=Math.max(m.x,0);m.y=Math.max(m.y,0)}return m};$.vm.prototype.nD=function(s,M,O,P,y){this.vQ=!0;
if(this.b5())return;this.$V=M;this.uo=!1;this.yE.nD(P);this.$N=s.i.ni(y.x,y.y);this.$N=$.$O.cs(s,this.$N,O);
if(this.axb(s,this.$N,P)){this.sR=!0;this.t1=s.h.S.v();return}this.rW(s,O,P,y);s.i.dO=new gi};$.vm.prototype.axb=function(s,M,O){var P=O.D(hj.Y1),y=O.D(hj.tT);
if(s.h&&!P&&!y&&this.vn.binop==0)return a.kP(M,s.h.N,s.h.S);return!1};$.vm.prototype.nh=function(s,M,O,P,y){this.$V=M;
if(this.xX)return;var F=s.i.ni(y.x,y.y);if(j6.gp(this.$N,F)*s.i.xq>5){this.uo=!0;this.yE.nh()}if(P.D(hj.u_)){if(this.OF==null)this.OF=new j6(F.x-this.$N.x,F.y-this.$N.y);
this.$N.x=F.x-this.OF.x;this.$N.y=F.y-this.OF.y}else this.OF=null;this.bc=F;if(!this.sR&&this.id!=$.G8)this.bc=$.$O.cs(s,this.bc,O);
if(this.axb(s,this.bc,P))this.aeM(M,"move");else this.aeM(M,this.hi);if(this.sR){var A=this.t1.v();A.x+=this.bc.x-this.$N.x;
A.y+=this.bc.y-this.$N.y;var h=$.$O.ws(s,A,O);s.h.S.x=Math.round(this.bc.x-this.$N.x+this.t1.x+h[0]);
s.h.S.y=Math.round(this.bc.y-this.$N.y+this.t1.y+h[1]);s.Yw=!0;$.$O.ea(s,A,h);return}this.Sd(s,O,P,y,M);
if(s.i.dO)s.i.dO=this.Gt(s,P)};$.vm.prototype.b5=function(){return!1};$.vm.prototype.Cq=function(s,M,O,P,y,F){var A=this.vQ;
this.vQ=!1;if(F||!A)return;s.i.dO=null;this.bc=s.i.ni(y.x,y.y);this.bc=$.$O.cs(s,this.bc,O);if(this.sR){this.sR=!1;
if(s!=null&&s.W.P6){s.W.P6=null;s.G_=!0}if(this.bc.s0(this.$N)&&this.ir()==0){this.eR(M,z.E.fa,$.vm.l4());
return}this.a5P(s,this.t1,s.h.S.v());return}this.gF(s,O,P,y,M);$.vm.azX(M,O);this.yE.Cq();this.Fd(M)};
$.vm.prototype.a5P=function(s,M,O){var P=s.tX();if(P!=null&&P.l==this&&P.data.Q=="movesel"){}else{P=new aA([7,7],this);
P.data={Q:"movesel",gj:M};s.Bx(P)}P.data.rJ=O;this.n5(P.data,s)};$.vm.prototype.jM=function(s,M,O,P,y){this.xX=!0};
$.vm.prototype.z4=function(s,M,O,P,y){var F=new kg(z.E.c,!0);F.data={Q:z.J.Qo,l:this.id,Tu:y,Uc:s,f:O};
M.a(F);this.xX=!1};$.vm.prototype.lJ=function(s,M,O,P){this.yE.lJ(P);if(s!=null&&s.h!=null){var y=P.Ry();
if(y.x!=0||y.y!=0){var F=s.h.S.v();F.x+=y.x;F.y+=y.y;this.a5P(s,s.h.S.v(),F)}}this.Fd(M)};$.vm.prototype.Fd=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.Qo,l:this.id,fv:this.ir()};s.a(M)};$.vm.prototype.ir=function(){var s=this.yE.ew(0),M=this.yE.kU(0);
return $.vm.uA(this.vn.binop,s,M)};$.vm.uA=function(s,M,O){if(M)s=1;if(O)s=2;if(M&&O)s=3;return s};$.vm.prototype.finish=function(s,M,O,P){var y=s.h,F=this.getSelection(s,M,O,P);
if(F==null)F=$.vm.l4();else{var A=this.vn.feat,h=this.ir();if(A!=0)F.kT.Fthr={t:"UntF",v:{type:"#Pxl",val:A}};
if(h!=0&&h!=4)F.Cw=["","addTo","subtractFrom","interfaceWhite",""][h]}this.eR(this.$V,z.E.fa,F);this.$N.ee(-1,-1);
this.bc.ee(-1,-1)};$.vm.prototype.getSelection=function(s,M,O,P){return null};$.vm.prototype.rW=function(s,M,O,P){};
$.vm.prototype.Sd=function(s,M,O,P){};$.vm.prototype.gF=function(s,M,O,P){};$.vm.prototype.QB=function(s,M){var O=s.Q;
if(O=="changesel"){var P=M.h;M.h=s.h;s.h=P}if(O=="movesel")M.h.S=s.gj;if(s.X2){if(s.amZ){M.G7=[M.dj.length];
M.dj.push(s.amZ)}else{M.dj.pop();M.G7=[]}}if(s.SF){M.J_=JSON.parse(s.SF[0]);M.XK=JSON.parse(s.SF[1])}M.Yw=!0};
$.vm.prototype.n5=function(s,M){var O=s.Q;if(O=="changesel"){var P=M.h;M.h=s.h;s.h=P}if(O=="movesel")M.h.S=s.rJ;
if(s.X2){if(s.asn){M.G7=[M.dj.length];M.dj.push(s.asn)}else{M.dj.pop();M.G7=[]}}if(s.SF){M.J_=JSON.parse(s.a3Q[0]);
M.XK=JSON.parse(s.a3Q[1])}M.Yw=!0};$.vm.prototype.aM=function(s){return s.Q=="changesel"&&s.h?s.h.N.length:0};
$.vm.prototype.j9=function(s){for(var M in s.vn)this.vn[M]=s.vn[M]};$.vm.prototype.aik=function(s,M){var O=a.b.q7(s.L);
if(O.g3())return null;var P=a.FL(O.A,O.$);P.save();P.beginPath();P.translate(-O.x,-O.y);Typr.U.pathToContext({cmds:s.J8,crds:s.L},P);
P.closePath();P.fill();P.restore();var y=a.j(O.C()),F=P.getImageData(0,0,O.A,O.$);a.YT(new Uint8Array(F.data.buffer),y,3);
if(M!=8)y=a.Gp(y,M);return{S:O,N:y}};$.vm.a5n=function(s,M,O,P,y){if(O)M=Math.round(M*.7);var F=Math.ceil(2.6*M),A=s.S.v();
A.rX(F,F);if(P&&!y)A=A.OK(P);var h=a.j(A.C(),a.$i(s.N));a.TT(s.N,s.S,h,A);a.er.SO(h,A,M);if(O){var m=h.length,Z=a.Cs(a.$i(h)),u=Z/2;
for(var R=0;R<m;R++){var f=(h[R]-u)*M*2.5;h[R]=Math.max(0,Math.min(Z,u+f))}}return{N:h,S:A}};$.vm.arb=function(s,M,O){var P=a.$i(s.N),y=a.Gp(s.N,8),F=Math.max(1,Math.ceil(O)),A=s.S.v();
A.rX(F,F);var h=A.C(),m={N:a.j(h),S:A},Z=a.j(h);a.TT(y,s.S,Z,m.S);if(O!=0)a.style.stroke(Z,m.N,m.S,O);
else a.jO(Z,m.N);var u=a.j(h);a.or(Z);if(M!=0)a.style.stroke(Z,u,m.S,M);else a.jO(Z,u);a.Ns.OK(m.N,u,m.N);
m.N=a.Gp(m.N,P);return m};$.vm.k3=function(s,M,O,P,y){var F=new gi(0,0,s.A,s.$),A=s.Ta();if(s.h){var h=s.h.S.OK(F),m=a.j(h.C()*4,s.depth);
a.FP(A,F,m,h);F=h;A=m}var Z=F.C(),u=a.j(Z,s.depth),f=1/P,U=255/a.Cs(s.depth);if(y){if(M>=O)M=O-1;var C=M*(1-P),H=M,t=O,X=O+(255-O)*P,Q=C==H?0:1/(H-C),D=t==X?0:1/(X-t);
for(var R=0;R<Z;R++){var L=R<<2,E=a.w6(A[L]*U,A[L+1]*U,A[L+2]*U),_=0;if(E<C)_=0;else if(E<H)_=(E-C)*Q;
else if(E<=t)_=1;else if(E<=X)_=1-(E-t)*D;else _=0;u[R]=A[L+3]*_*_}}else for(var R=0;R<Z;R++){var L=R<<2,S=a.H8(A[L]*U,A[L+1]*U,A[L+2]*U),_=a.aHl(S,M,O,P,f);
u[R]=A[L+3]*_}return{S:F,N:u}};$.yZ=function(){$.am.call(this,[10,18],$.Jh,"tools/blur");this.HX="copy"};
$.yZ.prototype=new $.am;$.yZ.prototype.nD=function(s,M,O,P,y){var F=P.D(hj.tT)?du.I1:du.Jh;this.P4(s,O,P,y,this.vn.strn,F);
if(this.G2==null)return;this._M(s)};$.yZ.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);
if(this.G2==null)return;if(!y.cQ)return;this.wn(s,O,P,y);this._M(s)};$.ks=function(){$.am.call(this,[10,0],$.pr,"tools/brush");
this.HX="draw"};$.ks.prototype=new $.am;$.ks.prototype.nD=function(s,M,O,P,y){if(this.HJ(s,M,O,P,y,!0))return;
this.P4(s,O,P,y,this.vn.flow);if(this.G2==null)return;this._M(s)};$.ks.prototype.nh=function(s,M,O,P,y){if(this.HJ(s,M,O,P,y))return;
this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);if(this.G2==null){if(s)s.rA();return}if(!y.cQ)return;this.wn(s,O,P,y);
this._M(s)};$.lV=function(){$.am.call(this,[10,42],$.s_,"tools/crepl");this.HX="idraw";this.vn.bmode="hue "};
$.lV.prototype=new $.am;$.lV.prototype.nD=function(s,M,O,P,y){if(this.HJ(s,M,O,P,y,!0))return;this.P4(s,O,P,y,this.vn.flow);
if(this.G2==null)return;this._M(s)};$.lV.prototype.nh=function(s,M,O,P,y){if(this.HJ(s,M,O,P,y))return;
this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);if(this.G2==null)return;if(!y.cQ)return;this.wn(s,O,P,y);this._M(s)};
$.CS=function(){$.am.call(this,[10,43],$.Lt,"tools/redeye");this.vn.smode=0;this.HX="redeye"};$.CS.prototype=new $.am;
$.CS.prototype.nD=function(s,M,O,P,y){this.P4(s,O,P,y,this.vn.flow);if(this.G2==null)return;this._M(s)};
$.CS.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);if(this.G2==null)return;
if(!y.cQ)return;this.wn(s,O,P,y);this._M(s)};$.cF=function(){$.am.call(this,[10,38],$.PE,"tools/pencil");
this.HX="draw"};$.cF.prototype=new $.am;$.cF.prototype.nD=function(s,M,O,P,y){if(this.HJ(s,M,O,P,y,!0))return;
this.P4(s,O,P,y,this.vn.flow);if(this.G2==null)return;this._M(s)};$.cF.prototype.nh=function(s,M,O,P,y){if(this.HJ(s,M,O,P,y))return;
this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);if(this.G2==null){if(s)s.rA();return}if(!y.cQ)return;this.wn(s,O,P,y);
this._M(s)};$.Dr=function(){$.am.call(this,[10,22],$.GW,"tools/burn");this.HX="burn"};$.Dr.prototype=new $.am;
$.Dr.prototype.nD=function(s,M,O,P,y){this.P4(s,O,P,y,this.vn.expo/Math.E);if(this.G2==null)return;this._M(s)};
$.Dr.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);if(this.G2==null)return;
if(!y.cQ)return;this.wn(s,O,P,y);this._M(s)};$.lg=function(s,M,O){$.am.call(this,s==""?null:s?s:[10,1],M?M:$.HA,O?O:"tools/clone");
this.HX="clone";this.dD=null;this.p=null};$.lg.prototype=new $.am;$.lg.prototype.nD=function(s,M,O,P,y){var F=this.vn,A=F.alt[0];
if(P.D(hj.tT)||P.D(hj.fB)||A){this.dD=s.i.ni(y.x,y.y);this.p=null;if(A)this.CX({alt:[!1]},M);this.GD(s);
this.Nn(O,P,s,y);return}if(this.dD==null){alert(aW.get([15,7,0]));return}this.Nn(O,P);this.P4(s,O,P,y,this.vn.flow);
if(this.G2==null)return;this.p=this.aJt(s.i.ni(y.x,y.y));this._M(s)};$.lg.prototype.aJt=function(s){var M=this.p;
if(M==null||!this.vn.algnd)M=new j6(Math.round(s.x-this.dD.x),Math.round(s.y-this.dD.y));return M};$.lg.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);
if(this.BD)this.Z3(s,O,y);if(this.G2==null){if(this.dD!=null)this.Nn(O,P,s,y);return}if(!y.cQ||this.dD==null)return;
this.wn(s,O,P,y);this._M(s)};$.lg.prototype.uD=function(){return this.p};$.Wn=function(){$._g.call(this,[10,53],$.aHz,"tools/csamp");
this.Yv=-1;this.DK=null};$.Wn.prototype=new $._g;$.Wn.prototype.nD=function(s,M,O,P,y){this.DK=JSON.stringify(s.YX);
var F=s.i.ni(y.x,y.y),A=s.YX,h=1e9,m=-1;for(var R=0;R<A.length;R++){var Z=A[R],u=F.x-Z.x,f=F.y-Z.y,U=u*u+f*f;
if(U<h){h=U;m=R}}var C=15/s.i.xq;m=h<C*C?m:-1;if(m==-1){m=A.length;A.push({x:F.x,y:F.y})}else if(P.D(hj.tT)){A.splice(m,1);
m=-1}this.Yv=m;s.G_=!0};$.Wn.prototype.nh=function(s,M,O,P,y){var F=this.Yv;if(F!=-1){var A=s.i.ni(y.x,y.y);
s.YX[F].x=A.x;s.YX[F].y=A.y;s.G_=!0}};$.Wn.prototype.Cq=function(s,M,O,P,y,F){var A=new aA(this.name,this);
A.data={dK:this.DK,IQ:JSON.stringify(s.YX)};s.Bx(A);this.Yv=-1};$.Wn.prototype.QB=function(s,M){M.YX=JSON.parse(s.dK)};
$.Wn.prototype.n5=function(s,M){M.YX=JSON.parse(s.IQ)};$._P=function(s,M,O){$._g.call(this,s,M,O);this.vn={jc:{t:0,x:0,y:0},um:!1,rV:!1};
this.$Y=!1;this.hi=$.xl();this.av=null;this.cursor=null;this.a9d=0;this.pI=null;this.$N=null;this.mf=null;
this.x_=!1;this.MX=!1};$._P.prototype=new $._g;$._P.prototype.bA=function(){return this.av!=null};$._P.prototype.cJ=function(s){return this.$N!=null||this.av&&this.av.aH4()};
$._P.prototype.nD=function(s,M,O,P,y){this.pI=y;var F=s.i.ni(y.x,y.y),A=this.vn.jc,h=A.t!=0?A.x/A.y:null,m=this.x_;
this.x_=!1;if(this.av){var Z=this.av.X0(F,s.i.xq);if(m&&Z==null){this.av.clear(s);this.av=null}else{this.av.nD(s,O,P,F,h,!1,y);
this.MX=!1;return}}this.$N=$.$O.cs(s,F,O)};$._P.prototype.ky=function(s,M,O){if(O==null)O=[s.x,s.y,s.x+s.A,s.y,s.x+s.A,s.y+s.$,s.x,s.y+s.$];
return new aj(O,!0,!1,this.id==$.Y_,!0,M,this.id==$.Y_?2:0,this.id==$.Y_?4:3)};$._P.prototype.Nn=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.ag,Fi:this.cursor};s.a(M)};$._P.prototype.enable=function(s,M,O,P){this.$V=M;this.cursor=this.hi;
this.Nn(M);if(s!=null&&this.av==null){var y=s.h?{IY:"cropby",afr:3}:{IY:"config",vn:this.vn,arT:!0};
this.j9(y,M,s,P,O);if(s.h==null&&this.vn.jc.t==0)this.x_=!0;this.MX=!0}};$._P.prototype.nh=function(s,M,O,P,y){this.pI=y;
var F=s.i.ni(y.x,y.y);if(!y.cQ){var A=this.hi;if(this.av){var h=this.av.X0(F,s.i.xq,null,y);if(h)A=h;
else A="default"}if(A!=this.cursor){this.cursor=A;this.Nn(M)}}if(this.av)this.av.nh(s,O,P,F);else if(this.$N){if(this.$Y){s.W.CU={J8:["M","L"],L:[this.$N.x,this.$N.y,F.x,F.y]}}else{var m=$.gw.D0(this.$N,$.$O.cs(s,F,O),P,!0,this.vn.jc),Z=m[0].x,u=m[0].y,f=this.mf=new gi(Z,u,m[1].x-Z,m[1].y-u);
s.W.CU=a.b.hC(f);$._g.Be(y,f,s,O)}s.G_=!0}};$._P.arn=function(s,M,O){var P,y,h,m;if(M<=O){P=M;y=O}else{P=O;
y=M}var F=s-Math.floor((s+Math.PI)/(2*Math.PI))*2*Math.PI;F=Math.abs(F);if(F>Math.PI/2)F=Math.PI-F;var A=P/(y*Math.sin(F)+P*Math.cos(F));
if(M<=O){h=P*A;m=y*A}else{h=y*A;m=P*A}return{V5:h,fw:m}};$._P.prototype.Cq=function(s,M,O,P,y){this.pI=y;
var F=s.i.ni(y.x,y.y);if(this.av==null){var A=this.mf;if(this.$N&&(A||this.$Y)){if(this.$Y){var h=this.$N,m=F,Z=m.x-h.x,u=m.y-h.y;
if(Math.abs(Z)<Math.abs(u))m=new j6(h.x-u,h.y+Z);if(h.x>m.x){var f=h;h=m;m=f}var h=Math.atan2(-(m.y-h.y),m.x-h.x),U=$._P.arn(h,s.A,s.$);
if(this.vn.rV){var C=a.b.hC(new gi(0,0,s.A,s.$)),H=new kp;H.rotate(h);a.b.M(C.L,H,C.L);U=a.b.q7(C.L);
U={V5:U.A,fw:U.$}}var t=[0,0,U.V5,0,U.V5,U.fw,0,U.fw],X=new kp;X.translate(-U.V5/2,-U.fw/2);X.rotate(h);
X.translate(s.A/2,s.$/2);a.b.M(t,X,t);this.av=this.ky(A,!1,t);this.$Y=!1}else{var Q=this.vn.jc;this.av=this.ky(A,Q.t!=0)}this.MX=!1;
this.av.p0(s,O);this.mf=null;this.eR(M,z.E.c,{Q:z.J.Qo,l:this.id,Xy:!0});this.$N=null;s.W.zp=[];s.W.CU=null;
s.G_=!0}return}this.av.Cq(s,O,P,F);this.eR(M,z.E.c,{Q:z.J.Qo,l:this.id,Xy:!0});var t=this.av.yK();if(Math.abs(t[0]-t[4])<2&&Math.abs(t[1]-t[5])<2){this.tC(s,M,null,P);
return}if(Date.now()-this.a9d<200&&this.av.Xm(F)){this.UB(s,O);this.tC(s,M,O,P);return}this.a9d=Date.now()};
$._P.prototype.lJ=function(s,M,O,P){var y=this.av;if(y==null||this.pI&&this.pI.cQ)return;if(P.D(hj.$g)){this.UB(s,O);
this.tC(s,M,O,P)}else if(P.D(hj.ob)){this.tC(s,M,O,P)}else y.lJ(s,O,P)};$._P.ajC=function(s,M,O){var P={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:s[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:s[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:s[1]+s[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:s[0]+s[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:M!=null?M:0}},Dlt:{t:"bool",v:O!=null?O:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{Cw:"crop",kT:P}};$._P.lf=function(s,M){if(M==null)M=[!0,!0,!0,!0];var O={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][s]}}},P=["Top","Left","Btom","Rght"];
for(var R=0;R<4;R++)O[P[R]]={t:"bool",v:M[R]};return{Cw:"trim",kT:O}};$._P.z9=function(s,M,O,P,y){var F={classID:"null"};
if(P!=null){F.Wdth={t:"UntF",v:y?{type:"#Prc",val:s*100}:{type:"#Pxl",val:s}};F.Hght={t:"UntF",v:y?{type:"#Prc",val:M*100}:{type:"#Pxl",val:M}};
F.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][P]}}}if(O!=null)F.Rslt={t:"UntF",v:{type:"#Rsl",val:O}};
return{Cw:"imageSize",kT:F}};$._P.aB1=function(s,M,O,P){if(O==null)O=4;if(P==null)P=!1;var y=Math.floor(O/3),F=O%3;
return{Cw:"canvasSize",kT:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:s}},Hght:{t:"UntF",v:{type:"#Pxl",val:M}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][F]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][y]}},Rltv:{t:"bool",v:P}}}};
$._P.prototype.cu=function(s,M,O,P,y){var F=new gi(0,0,O.A,O.$),A=[11,3],h=O.FR,m=O.A/2,Z=O.$/2,v=1,c5,k0,cd;
function u(fs,R){return fs[R]+2*fs[R+1]+fs[R+2]>>>2}if(s.Q=="cropAndStr"){var f=O.U[O.Y[0]],U=f.buffer,C=f.S,H=C.A,t=C.$,X=H+2,Q=[0,0,H-1,0,H-1,t-1,0,t-1],D,L=1e9,B=0;
for(var R=0;R<4;R++)for(var E=R+1;E<4;E++){var _=Q[2*R],S=Q[2*R+1],W=(S*H+_)*4,g=(Q[2*E+1]*H+Q[2*E])*4,x=U[W]-U[g],V=U[W+1]-U[g+1],b=U[W+2]-U[g+2],N=x*x+V*V+b*b;
if(N<L){L=N;D=new j6(_+.5,S+.5)}}var J=Date.now(),K=$.sJ.BQ(f.buffer,C,D,null,[16,!1,!0]);a.or(K);var q=C.v();
q.rX(1,1);var d=a.j(q.C());a.TT(K,C,d,q);var l=d.slice(0);for(var S=0;S<t;S++)for(var _=0;_<H;_++){var E=S*H+_;
if(K[E]==255&&u(U,E*4)>200){var R=(S+1)*X+_+1;d[R]=l[R-X]&l[R-1]&l[R+1]&l[R+X]}}var T=a.b.Pw(d,q.A,q.$,0),p=new kg(z.E.c,!0);
p.data={Q:z.J.ma};var J=Date.now();for(var I=0;I<T.length;I++){var w=T[I].path.L;if(T[I].rC.C()<2500)continue;
var e=a.b.afw(w,B==3);for(var R=0;R<e.length;R++)e[R]-=1;var G=new j6(e[0],e[1]),j=Math.ceil(j6.gp(G,new j6(e[2],e[3]))),o=Math.ceil(j6.gp(G,new j6(e[6],e[7]))),r=new gi(0,0,j,o),k=a.j(r.C()*4),w=a.F.da(e,new gi(-1,-1,j+2,o+2));
w=a.F.or(w);w=a.F.u2(w,a.F.y1(new kp(C.A,0,0,C.$,C.x,C.y)));a.F.drawImage(w,f.buffer,C.A,C.$,k,r);B++;
var a7=p.data.ZK=new fr("Image "+B+".psd");a7.A=j;a7.$=o;var Y=a7.Tk();Y.jj("Background");Y.buffer=k;
Y.S=r;a7.U.push(Y);M.a(p)}return}if(s.Q=="fromAction"){var n=s.Q1,cm=n.Cw,a5=n.kT,gP=O.A/O.$,X=a5.Wdth?a5.Wdth.v.val:-1,cg=a5.Hght?a5.Hght.v.val:-1,h=a5.Rslt?a5.Rslt.v.val:null,a9=a5.Wdth?a5.Wdth.v.type:a5.Hght?a5.Hght.v.type:-1,ew=1,h7;
if(a9=="#Prc"){if(X!=-1)X=Math.round(O.A*X/100);if(cg!=-1)cg=Math.round(O.$*cg/100)}if(cm=="imageSize"){if(a5.Intr){if(a5.Intr.v.Intp=="Nrst")ew=0;
if(a5.Intr.v.Intp=="bicubicSharper")ew=2;if(X==-1&&cg==-1){var bh=h/O.FR;X=Math.round(O.A*bh);cg=Math.round(O.$*bh)}if(a5.CnsP&&a5.CnsP.v){if(X==-1)X=Math.round(cg*gP);
if(cg==-1)cg=Math.round(X/gP)}}else{if(a9=="#Prc")h=Math.round(O.FR*(O.A/X));else if(a9==-1)h=Math.round(h);
else throw"e";X=O.A;cg=O.$}h7={Q:"imgsize",iZ:X,Nf:cg,h7:h,A4:ew}}else if(cm=="canvasSize"){if(X==-1)X=O.A;
if(cg==-1)cg=O.$;if(a5.Rltv&&a5.Rltv.v==!0){if(a5.Wdth)X+=O.A;if(a5.Hght)cg+=O.$}var ba=a5.Vrtc?a5.Vrtc.v.VrtL:"Cntr",jx=a5.Hrzn?a5.Hrzn.v.HrzL:"Cntr";
h7={Q:"canvsize",iZ:X,Nf:cg,xC:3*["Top","Cntr","Btom"].indexOf(ba)+["Left","Cntr","Rght"].indexOf(jx)}}else if(cm=="revealAll"){h7={Q:"revealAll"}}else if(cm=="trim"){var c4={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[a5.trimBasedOn.v.trimBasedOn];
if(c4==null)throw"e";var bq=["Top","Left","Btom","Rght"],di=[!0,!0,!0,!0];for(var R=0;R<4;R++)if(a5[bq[R]])di[R]=a5[bq[R]].v;
h7={Q:"trim",adv:c4,Cb:di}}else if(cm=="crop"){var _,S,H,t;if(a5.T){var il=a5.T.v,_=Math.round(il.Left.v.val),S=Math.round(il.Top.v.val),H=Math.round(il.Rght.v.val)-_,t=Math.round(il.Btom.v.val)-S}else{var C=O.h.S;
_=C.x;S=C.y;H=C.A;t=C.$}h7={Q:"canvsize",iZ:H,Nf:t,p:new j6(_,S),aAS:a5.Dlt!=null&&a5.Dlt.v}}else console.log(n);
if(h7)this.cu(h7,M,O,P,y);return}else if(s.Q=="imgsize"){F=new gi(0,0,s.iZ,s.Nf);if(s.h7)h=s.h7;v=s.A4}else if(s.Q=="canvsize"){var j0=s.xC!=null?s.xC:0;
F=new gi(0,0,s.iZ,s.Nf);var j1=O.A-s.iZ,b5=O.$-s.Nf,b4=Math.round(j1/2),lm=Math.round(b5/2);if(j0==1||j0==4||j0==7)F.x=b4;
if(j0==2||j0==5||j0==8)F.x=j1;if(j0==3||j0==4||j0==5)F.y=lm;if(j0==6||j0==7||j0==8)F.y=b5;if(s.p){F.x=s.p.x;
F.y=s.p.y}}else if(s.Q=="rot"&&(s.K+2*Math.PI)%(Math.PI/2)!=0){var ix=a.b.hC(F).L,jy=new kp;jy.translate(-m,-Z);
jy.rotate(s.K);jy.translate(m,Z);a.b.M(ix,jy,ix);F=a.b.q7(ix)}else if(s.Q=="rot"&&s.K!=Math.PI&&s.K!=-Math.PI){F=new gi(m-O.$/2,Z-O.A/2,O.$,O.A);
if((O.A+O.$&1)==1){m=Math.floor(m);Z=Math.floor(Z);F=new gi(m-Math.floor(O.$/2),Z-Math.floor(O.A/2),O.$,O.A);
if((O.A&1)==1&&s.K!=-Math.PI/2)F.y--;if((O.$&1)==1&&s.K==-Math.PI/2)F.x--}}else if(s.Q=="trim"){A=[11,12,0];
var bz=O.Ta(),C=new gi(0,0,O.A,O.$);F=a.zq(bz,C,s.adv,s.Cb);if(F.g3())F=C}else if(s.Q=="revealAll"){A=[11,12,2];
F=O.root.Gt(O,!0)}var fz=s.Q=="canvsize"&&s.aAS;if(s.Q=="imgsize"||s.Q=="rot"||s.Q=="scl"||fz){var fu=new kp;
if(s.Q=="imgsize"){A=[11,10];fu.scale(s.iZ/O.A,s.Nf/O.$);cd=O.T_();for(var R=0;R<cd[0].length;R++)cd[0][R][1]*=cd[0][R][0]==0?fu.cd:fu.zv}else if(fz){}else{fu.translate(-m,-Z);
if(s.Q=="rot")fu.rotate(s.K);if(s.Q=="scl")fu.scale(s.K.x,s.K.y);fu.translate(m,Z);A=s.SD}k0=a.F.y1(fu);
c5=this.UJ(O,y,!0,k0,v,fz?F:null)}else if(s.Q=="auto-align"){if(O.Y.length<2){alert("Select two or more layers.");
return}var c6=[];for(var R=0;R<O.Y.length;R++){var f=O.U[O.Y[R]];if(!f.Lv()&&f.add.SoLd==null){alert("Unsupported layer selected.");
return}if(f.S.g3()){alert("Empty layer selected.");return}c6.push([f.buffer,f.S])}var k7=a.ms.LU(c6);
if(k7==null){alert("No similarity found.");return}k0=k7[1];c5=this.UJ(O,y,!1,k7,v);F=O.root.Gt(O,!0);
A=[2,10,1]}var hP=new gi(0,0,O.A,O.$);if(!F.g3()&&(!F.s0(hP)||c5!=null)){var e1=new aA(A,this);e1.data={YK:O.FR,h7:h,HF:c5,mB:k0,NK:$._P.aat(O,F,hP,c5!=null)};
if(cd){e1.data.gH=O.T_();e1.data.sH=cd}$._P.agF(O,e1.data,F);O.Bx(e1);this.n5(e1.data,O,!0)}};$._P.aat=function(s,M,O,P){if(s.$X.length==0)return null;
var y=JSON.stringify(s.$X),F=JSON.parse(y);$.sc.aHW(F,M,O,P);F=JSON.stringify(F);return[y,F]};$._P.prototype.UJ=function(s,M,O,P,y,F,A){var h={U:[],c7:null,Wr:!0};
if(O)h.U=$.TR.Ku(s);else h.U=s.Y.slice(0);h.c7=$.TR.IJ(s,h.U,!0);var m=Math.abs(P[3]*P[1])>1e-9;$.TR.b3(s,M,h.U,h.c7,y,P,null,!0,m&&a.F.w1(P)?null:F);
if(O&&A&&s.Y7()){var Z=s.U[s.Y[0]],u=Z.buffer,f=Z.S,U=m?f.v():F.v(),C=a.j(U.C()*4),H=a.j(f.C());a.YT(u,H,3);
var t=a.j(U.C());a.TT(H,f,t,U);a.round(t,255);a.or(t);var X=a.Jt.Ep(u,f,t,C,U);if(X==0){Z.S=U;Z.buffer=C}}return h};
$._P.prototype.n5=function(s,M,O){if(s.h7)M.FR=s.h7;if(s.NK)M.$X=JSON.parse(s.NK[1]);if(s.HF){$._P.Bo(M,a.F.to(s.mB));
if(O==null)$.TR.MB(M,s.HF);if(s.sH)M.gt(s.sH)}$._P.Yd(M,s)};$._P.prototype.QB=function(s,M){if(s.YK)M.FR=s.YK;
if(s.NK)M.$X=JSON.parse(s.NK[0]);$._P.mg(M,s);if(s.vL)M.i.p.Tg(s.vL);M.ajW();if(s.HF){var O=a.F.to(s.mB).v();
O.or();$._P.Bo(M,O);$.TR.MB(M,s.HF);if(s.gH)M.gt(s.gH)}};$._P.Bo=function(s,M){for(var R=0;R<s.U.length;
R++){var O=s.U[R];if(O.add.artb==null)continue;var P=a.b.hC(O.Kj()).L;a.b.M(P,M,P);var y=a.b.q7(P);O.Y3(y)}};
$._P.YJ=function(s){var M=new gi,O=0,P=s.root.children.length;for(var R=0;R<P;R++){var y=s.root.children[R].w;
if(y.add.artb==null)continue;M=M.v8(y.Kj());O++}var F=new gi(0,0,s.A,s.$);if(!M.g3()&&!F.s0(M))return M;
return null};$._P.gi=function(s){var M=$._P.YJ(s);if(M)$._P.um(s,M,!0);return M};$._P.um=function(s,M,O){var P=s.A,y=s.$,F=M.A,A=M.$,h=M.x==0&&M.y==0;
if(h&&P==F&&y==A)return;s.A=F;s.$=A;var m=[];for(var R=0;R<s.U.length;R++)m.push(R);if(!h)$.$O.K5(s,m,null,-M.x,-M.y);
for(var R=0;R<s.U.length;R++){s.U[R].uH(s)}s.ajW();if(O){var Z=s.i.p,u=s.i.xq;Z.x+=Math.round((M.x+(F-P)/2)*u);
Z.y+=Math.round((M.y+(A-y)/2)*u)}else s.i.p.ee(0,0);if(s.h)s.h.S.offset(-M.x,-M.y);var f=s.T_();for(var U=0;
U<f[0].length;U++)if(f[1][U]==-1){var C=s.FQ[U];C[1]-=C[0]==0?M.x:M.y}for(var R=0;R<s.dj.length;R++)s.dj[R].S.offset(-M.x,-M.y);
for(var R=0;R<s.J4.length;R++)a.z.R7(s.J4[R].add.vmsk.u,new kp(1,0,0,1,-M.x,-M.y))};$._P.prototype.j9=function(s,M,O,P,y){if(s.IY=="commit"){this.UB(O,y);
this.tC(O,M,null,P)}else if(s.IY=="cancel"){this.tC(O,M,null,P)}var F=null,A=new gi(0,0,O.A,O.$),h=this.vn.jc;
if(s.IY=="config"){this.vn=s.vn;h=this.vn.jc;if(O==null||!s.arT)return;F=A;if(h.t==1){var m=h.x/h.y;
if(F.A/m<F.$)F.$=Math.round(F.A/m);else F.A=Math.round(F.$*m)}if(h.t==2){F.A=h.x;F.$=h.y}F.x=Math.round((O.A-F.A)/2);
F.y=Math.round((O.$-F.$)/2);this.MX=!1}if(s.IY=="straighten"){alert("Draw a line in the image.");this.$Y=!0}if(s.IY=="cropby"){if(O==null)return;
var Z=s.afr,F;if(Z==0)F=O.root.Gt(O,!0);if(Z==1){if(O.Y.length==0)alert("No layer is selected.");else{var u=O.root.vt(O.Y[0]);
F=u.Gt(O,!0)}}if(Z==2){if(O.Y.length==0)alert("No layer is selected.");else{F=a.zq(O.Ta(),A,0);if(F.g3())F=A.v()}}if(Z==3){if(O.h!=null)F=O.h.S;
else alert("There is no selection.")}if(Z==4){F=new gi(0,0,O.A,O.$)}}if(F&&F.g3())F=null;if(F!=null){this.av=this.ky(F,h.t!=0);
this.av.p0(O,y);this.eR(M,z.E.c,{Q:z.J.Qo,l:this.id,Xy:!0})}};$._g.BS($._P);$._P.prototype.UB=function(s,M){var O=this.av.yK(),P=a.b.q7(O),y=this.a54(s,O),F=!1,A=this.vn,h=A.jc,m=A.um,Z=h.x,u=h.y,C;
if(this.id==$.q$&&h.t==2&&y.C()!=Z*u){y=new gi(y.x,y.y,Z,u);F=!0}var f=a.F.da(O,y);f=a.F.or(f);var U=!a.F.w1(f),H=Math.abs(Math.atan2(f[3],f[0]))>1e-9,t=new gi(0,0,s.A,s.$);
if(H||U||F||m||A.rV)C=this.UJ(s,M,!0,f,1,P,A.rV);if(!H&&!U&&!F&&y.s0(t))return;var X=new aA(this.name,this);
X.data={HF:C,mB:f,vL:s.i.p.v(),NK:$._P.aat(s,y,t,!1)};if(h.FR!=null){X.data.YK=s.FR;X.data.h7=h.FR}$._P.agF(s,X.data,y);
s.Bx(X);this.n5(X.data,s,!0);this.track($._P.ajC([P.x,P.y,P.A,P.$],null,m))};$._P.agF=function(s,M,O){if(O==null)return;
M.gj=new gi(0,0,s.A,s.$);M.rJ=O};$._P.Yd=function(s,M){if(M.rJ==null)return;$._P.um(s,M.rJ)};$._P.mg=function(s,M){if(M.rJ==null)return;
var O=M.gj.v();O.offset(-M.rJ.x,-M.rJ.y);$._P.um(s,O)};$._P.prototype.a54=function(s,M){var O=a.F.da(M),P=a.F.w1(O),y=a.F.to(O),F=y.cj,A=y.H3,h=Math.atan2(y.X,y.cd);
y.rotate(h);var m=new gi(F,A,y.cd,y.zv);if(!P){function Z(L,R,E){var _=L[R]-L[E],S=L[R+1]-L[E+1];return Math.sqrt(_*_+S*S)}var u=Z(M,0,2),f=Z(M,4,6),U=Math.max(u,f),C=Z(M,2,4),H=Z(M,6,0),t=Math.max(C,H),X=$._P.gg(M,s.A/2,s.$/2),Q,D;
if(isNaN(X)||X==Infinity||X==-Infinity||Math.min(X,1/X)<.1)X=(u+f)/(C+H);if(U/t>X){Q=U*1;D=Q/X}else{D=t*1;
Q=D*X}m.A=Q;m.$=D}m.x=Math.round(m.x);m.y=Math.round(m.y);m.A=Math.round(m.A);m.$=Math.round(m.$);return m};
$._P.gg=function(s,M,O){var P=s[0]-M,y=s[1]-O,F=s[2]-M,A=s[3]-O,h=s[6]-M,m=s[7]-O,Z=s[4]-M,u=s[5]-O,f=((y-u)*h-(P-Z)*m+P*u-y*Z)/((A-u)*h-(F-Z)*m+F*u-A*Z),U=((y-u)*F-(P-Z)*A+P*u-y*Z)/((m-u)*F-(h-Z)*A+h*u-m*Z),C=-((U*m-y)*(f*A-y)+(U*h-P)*(f*F-P))/((U-1)*(f-1));
function H(X){return X*X}var t=Math.sqrt((H(f-1)+H(f*A-y)/C+H(f*F-P)/C)/(H(U-1)+H(U*m-y)/C+H(U*h-P)/C));
if(f==1&&U==1)t=Math.sqrt((H(A-y)+H(F-P))/(H(m-y)+H(h-P)));return t};$._P.prototype.tC=function(s,M,O,P){if(s==null)return;
if(this.av)this.av.clear(s);this.av=null;this.eR(M,z.E.c,{Q:z.J.Qo,l:this.id,Xy:!1})};$._P.prototype.disable=function(s,M,O,P){if(this.av&&!this.MX)this.UB(s,O);
this.tC(s,M,O,P)};$._P.prototype.eR=function(s,M,O,P){var y=new kg(M,!0);y.data=O;if(P)y.l=P;s.a(y)};
$.aeW=function(){$._P.call(this,[10,2],$.q$,"tools/rcrop")};$.aeW.prototype=new $._P;$.aJO=function(){$._P.call(this,[10,39],$.Y_,"tools/pcrop")};
$.aJO.prototype=new $._P;$.XU=function(){$.am.call(this,[10,21],$.Q7,"tools/dodge");this.HX="dodge"};
$.XU.prototype=new $.am;$.XU.prototype.nD=function(s,M,O,P,y){this.P4(s,O,P,y,this.vn.expo/Math.PI);
if(this.G2==null)return;this._M(s)};$.XU.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);
if(this.G2==null)return;if(!y.cQ)return;this.wn(s,O,P,y);this._M(s)};$.Gb=function(){$.am.call(this,[10,3],$.W7,"tools/eraser");
this.HX="erase"};$.Gb.prototype=new $.am;$.Gb.prototype.nD=function(s,M,O,P,y){this.P4(s,O,P,y,this.vn.flow);
if(this.G2==null)return;this._M(s)};$.Gb.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);
if(this.G2==null)return;if(!y.cQ)return;var F=this.wn(s,O,P,y);this._M(s)};$.ZX=function(){$.am.call(this,[10,45],$.lA,"tools/beraser");
this.HX="ierase"};$.ZX.prototype=new $.am;$.ZX.prototype.nD=function(s,M,O,P,y){if(this.HJ(s,M,O,P,y,!0))return;
this.P4(s,O,P,y,this.vn.flow);if(this.G2==null)return;this._M(s)};$.ZX.prototype.nh=function(s,M,O,P,y){if(this.HJ(s,M,O,P,y))return;
this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);if(this.G2==null)return;if(!y.cQ)return;this.wn(s,O,P,y);this._M(s)};
$.hX=function(){$.vm.call(this,[10,15],$.Sp,"tools/rselect");this.hi=$.xl()};$.hX.prototype=new $.vm;
$.hX.prototype.Sd=function(s,M,O,P){if(!P.cQ||!this.uo)return;var y=this.Gt(s,O,!0);s.W.CU=a.b.hC(y);
s.G_=!0;$._g.Be(P,y,s,M)};$.hX.prototype.gF=function(s,M,O,P){s.W.CU=null;s.W.zp=[];s.G_=!0;this.finish(s,M,O,P)};
$.hX.prototype.getSelection=function(s,M,O,P){if(this.$N.s0(this.bc)||!this.uo)return null;var y=this.Gt(s,O,!0);
if(y.g3())return null;return $.vm.KT("Rctn",y,this.vn.anta)};$._g.BS($.hX);$.Lu=function(){$.vm.call(this,[10,4],$.avl,"tools/eselect");
this.hi=$.xl()};$.Lu.prototype=new $.vm;$.Lu.prototype.Sd=function(s,M,O,P){if(!P.cQ||!this.uo)return;
var y=this.Gt(s,O);s.W.CU=$.Lu.aH$(y);s.G_=!0;$._g.Be(P,y,s,M)};$.Lu.prototype.gF=function(s,M,O,P){s.W.CU=null;
s.W.zp=[];s.G_=!0;this.finish(s,M,O,P)};$.Lu.prototype.getSelection=function(s,M,O,P){if(this.$N.s0(this.bc)||!this.uo)return null;
var y=this.Gt(s,O);if(!y.$B(new gi(0,0,s.A,s.$)))return null;return $.vm.KT("Elps",y,this.vn.anta)};
$.Lu.aH$=function(s){var M=s.x,O=s.y,P=s.x+s.A,y=s.y+s.$,F=(M+P)/2,A=(O+y)/2,h=(M-P)/2,m=(O-y)/2,Z=.5522848,u={L:[F,A-m],J8:["M","C","C","C","C"]};
u.L.push(F+Z*h,A-m,F+h,A-Z*m,F+h,A);u.L.push(F+h,A+Z*m,F+Z*h,A+m,F,A+m);u.L.push(F-Z*h,A+m,F-h,A+Z*m,F-h,A);
u.L.push(F-h,A-Z*m,F-Z*h,A-m,F,A-m);return u};$._g.BS($.Lu);$.jP=function(s){$._g.call(this,[10,5],s?$.RV:$.kw,"tools/eyedropper");
this.iS=null;this.aEM=!1;this.dd=0;this.gn=null;this.aK=1;this.wp=2;this.aEQ=!0;this.cY=!1};$.jP.prototype=new $._g;
$.jP.prototype.cJ=function(s){return s.cQ};$.jP.prototype.enable=function(s,M,O,P,y){$._g.prototype.enable.call(this,s,M,O,P,y);
this.aEM=y};$.jP.prototype.cu=function(s,M,O,P,y){if(s.Q=="pickhere")this.Fg(O,M,y,null,s.ac8);if(s.Q=="supertool")this.iS=s.l};
$.jP.prototype.nD=function(s,M,O,P,y){var F=this.iS;if(F){F.nD(s,M,O,P,y);return}if(dc==0){this.gn=y;
this.dd=O.UC;var A=this.Fg(s,null,O,P,y);this.Nn(s,M,A,y)}};$.jP.prototype.nh=function(s,M,O,P,y){if(dc!=0)return;
var F=this.iS;if(F){F.nh(s,M,O,P,y);return}var A=this.gn;if(A){var h=y.x-A.x,m=y.y-A.y,Z=1,u=new j6(A.x+h*Z,A.y+m*Z),f=this.Fg(s,null,O,P,u);
this.Nn(s,M,f,u,new j6(h*(1-Z),m*(1-Z)))}};$.jP.prototype.Nn=function(s,M,O,P,y){var F=this.aEQ,A=this.cY;
if(s.i.xq>4)A=!1;if(!A&&!F)return;var h=$.jP.ate(s,A,F,P,y,O,this.dd,this.aK),m=new kg(z.E.c,!0);m.data={Q:z.J.ag,Fi:h};
M.a(m)};$.jP.prototype.Cq=function(s,M,O,P,y,F){var A=this.iS;if(A){A.Cq(s,M,O,P,y);return}if(dc==0){this.Fg(s,M,O,P,y);
if(this.gn){this.gn=null;if(F)this.Fg(s,M,O,P,y,this.dd);var h=new kg(z.E.c,!0);h.data={Q:z.J.ag,Fi:"default"};
M.a(h)}}else{var m=s.i.ni(y.x,y.y),Z;if(P.D(hj.Y1)){var u=s.Q9(),f=new Uint8Array(s.Rc(O)),U=Math.floor(m.x),C=Math.floor(m.y),R=(C-u.y)*u.A+U-u.x;
if(u.$z(new j6(U,C))){var H=f[R*4+3];if(H==0)Z={Tq:[1,1,1]};else Z={Tq:[f[R*4]/255,f[R*4+1]/255,f[R*4+2]/255]}}}else{var t=s.root.kP(new j6(Math.floor(m.x),Math.floor(m.y)));
if(t==null)return;var X=t.w.add,Q=X.TySh;Z=X.vstl;if(Z==null&&Q){var D=Q.nA,L=iP.ty(D,0,1);Z={Tq:L.TY.FillColor.Values.slice(1),Jc:[]}}}if(Z==null)return;
var h=new kg(z.E.c);h.data={Q:z.J.ko,dh:g5.vb,K:a.G(Z)};M.a(h)}};$.jP.prototype.Fg=function(s,M,O,P,y,F){if(F==null)F=$.jP.VP(s,y,this.aK,this.wp);
var A=new kg(z.E.c);A.data={Q:z.J.ko,dh:g5._2,tW:!this.aEM&&P&&P.D(hj.tT)?1:0,K:F};if(M)M.a(A);return F};
$.jP.ate=function(s,M,O,P,y,F,A,h){if(y==null)y=new j6(0,0);var m=new gi(0,0,s.A,s.$),Z=s.Ta(),u=12,f=11,U=(u*2+1)*f,C=new j6(U/2,U/2),H=new gi(0,0,U,U),t=a.j(H.C()*4),X=s.i.ni(P.x,P.y),Q=Math.floor(X.x),D=Math.floor(X.y),L=new kp;
L.scale(1/f,1/f);L.translate(Q-u,D-u);if(M)a.scale.Wg(Z,m,L,t,H);var E=(u-3.4)*f,_=(u-1.7)*f,S=u*f;for(var W=0;
W<U;W++)for(var g=0;g<U;g++){var x=j6.gp(new j6(g,W),C);if(x>E){if(O){var V=Math.max(0,E-x+1),b=(W*U+g)*4,N=t[b+3]<<24|t[b]<<16|t[b+1]<<8|t[b+2],J=255<<24|(W<S+f*.5?F:A);
if(x>_){V=Math.max(0,_-x+1);N=J;J=4286611584}else if(!M){N=J&16777215}t[b+0]=(1-V)*(J>>>16&255)+V*(N>>>16&255);
t[b+1]=(1-V)*(J>>>8&255)+V*(N>>>8&255);t[b+2]=(1-V)*(J>>>0&255)+V*(N>>>0&255);t[b+3]=(1-V)*(J>>>24&255)+V*(N>>>24&255)}if(x>S){t[(W*U+g)*4+3]=Math.max(0,255*(S-x+1))}}}function K(R){var cm=R<<2;
t[cm]=0;t[cm+1]=0;t[cm+2]=0;t[cm+3]=255}function q(R){var cm=R<<2;t[cm]=255;t[cm+1]=255;t[cm+2]=255;
t[cm+3]=255}var d=h*f+2,l=U-d>>>1,T=l+d-1;if(M&&d<U)for(var R=0;R<d;R++){var B=l*U+l+R,I=T*U+l+R,w=(l+R)*U+l,e=(l+R)*U+T;
K(B);K(I);K(w);K(e);if(R!=0&&R!=d-1){q(B+U);q(I-U);q(w+1);q(e-1)}}if(!M)for(var R=-9;R<=9;R++){if(-3<R&&R<3)continue;
var G=U>>>1,g=G*U+G+R,W=(G+R)*U+G;q(g-U);K(g);q(g+U);q(W-1);K(W);q(W+1)}var j=F>>>16&255,k=F>>>8&255,a7=F>>>0&255,Y="RGB "+j+","+k+","+a7,v=a.y5([j/255,k/255,a7/255]);
if(s.add.fcmy)Y="CMYK "+v.map(function(cm){return Math.round(cm*100)}).join(",");var n=$._g._D(0,0,["#"+a.Rr(F),Y]),m=n[1];
m.y=0;m.x=U-m.A>>>1;a.FP(n[0],m,t,H);return{qJ:t,Iz:H,gB:new j6(C.x+y.x,C.y+y.y)}};$.jP.VP=function(s,M,O,P,y){if(P==null)P=2;
var F=s.i.ni(M.x,M.y),A,h,m=s.Y.length==1&&s.U[s.Y[0]].KV>0&&y!=!0,Z=s.G7.length!=0,_=0,S=0,W=0;if(m||Z){var u;
if(Z)u=s.dj[s.G7[0]];else{var f=s.U[s.Y[0]];u=f.KV==1?f.Bl():f.awO()}h=u.Gt();if(!h.$z(F))return u.color==0?0:16777215;
A=a.j(h.C()*4);A.fill(255);var U=u.B3();a.Rm(U,A)}else if(P==0&&s.Y.length!=0){var f=s.U[s.Y[0]];A=f.buffer;
h=f.S}else{A=P==2?s.Ta():s.Ta(s.Y[0]);h=new gi(0,0,s.A,s.$)}var C=Math.floor(F.x)-h.x,H=Math.floor(F.y)-h.y,t=(O-1)/2,X=Math.max(0,C-t),Q=Math.max(0,H-t),D=Math.min(h.A,C+t+1),L=Math.min(h.$,H+t+1),E=(D-X)*(L-Q);
for(var C=X;C<D;C++)for(var H=Q;H<L;H++){var R=4*(H*h.A+C);_+=A[R];S+=A[R+1];W+=A[R+2]}var g=a.$i(A),x=g==8?255:g==16?65535:1,V=255/(x*E);
_=Math.round(_*V);S=Math.round(S*V);W=Math.round(W*V);return _<<16|S<<8|W};$.jP.prototype.j9=function(s){var M=s.vn;
this.aK=[1,3,5,11,31][M[0]];this.wp=M[1];this.aEQ=M[2];this.cY=M[3]};$.qM=function(){$._g.call(this,[10,6],$.oa,"tools/gradient");
this.vn=JSON.parse(aV.d$[6]);this.vn.Grad=JSON.parse(aV.xD.a2w);this.wW=!1;this.lX=null;this.As=null};
$.qM.prototype=new $._g;$.qM.prototype.enable=function(s,M,O,P){$._g.prototype.enable.call(this,s,M,O,P);
this.lX=s;if(this.wW)$.c8.rF(s)};$.qM.prototype.Iy=function(s,M,O,P){if(O.zI!=this.id)return;this.lX=s;
this.abi(s,M)};$.qM.prototype.disable=function(s,M,O,P){this.lX=null;if(this.wW)$.c8.$h(s)};$.qM.prototype.abi=function(s,M){var O=$.c8.x6(s);
this.wW=O!=null;var P=new kg(z.E.c,!0);P.data={Q:z.J.Qo,l:this.id,dh:O?s.U[s.Y[0]].add.GdFl:this.vn,z:this.wW};
M.a(P);if(this.wW)$.c8.rF(s);else $.c8.$h(s)};$.qM.prototype.j9=function(s){var M=this.lX;if(this.wW){var O=M.U[M.Y[0]],P=O.add.GdFl;
if(P==null)return;this.fP=JSON.stringify(P);O.add.GdFl=s.dh;O.uH(M);M.vw();$.c8.aLA(this,M);$.c8.rF(M)}else this.vn=s.dh};
$.qM.prototype.nD=function(s,M,O,P,y){if(this.wW){$.c8.prototype.nD.call(this,s,M,O,P,y);return}if(!s.Y7())return;
this.As=$.$O.cs(s,s.i.ni(y.x,y.y),O)};$.qM.prototype.nh=function(s,M,O,P,y){if(this.wW){$.c8.prototype.nh.call(this,s,M,O,P,y);
return}if(!this.As)return;var F=s.i.ni(y.x,y.y);F=$.$O.cs(s,F,O);if(P.D(hj.Y1))F=$.qM.LP(this.As,F);
s.W.CU={L:[this.As.x,this.As.y,F.x,F.y],J8:["M","L"]};s.W.jT=[this.As.x,this.As.y,F.x,F.y];s.G_=!0};
$.qM.prototype.Cq=function(s,M,O,P,y){if(this.wW){$.c8.prototype.Cq.call(this,s,M,O,P,y);return}if(!this.As)return;
var F=s.U[s.Y[0]],A=s.i.ni(y.x,y.y);A=$.$O.cs(s,A,O);if(P.D(hj.Y1))A=$.qM.LP(this.As,A);if(j6.gp(this.As,A)>2){var h;
if(s.h)h=s.h.S;else h=new gi(0,0,s.A,s.$);var m=a.j(h.C()*4,s.depth),Z=this.vn,u=Z.Type.v.GrdT,f=Z.Opct.v.val,U=this.As;
if(u=="Lnr")U=new j6((U.x+A.x)/2,(U.y+A.y)/2);a.wv.bt(U,A,h,Z);cb.QS(Z,m,h,s,null,null,O.UC,O.Cc);var C=m.length,H=f/100;
if(f!=100)for(var R=0;R<C;R+=4)m[R+3]=Math.round(m[R+3]*H);var t=new kg(z.E.H);t.l=$.W7;t.data={Q:"fillBMP",d1:m,yI:h0.KL(Z.Md.v.BlnM),SD:this.name};
M.a(t)}s.W.CU=null;s.W.jT=[];s.G_=!0;this.As=null};$.qM.prototype.cu=function(s,M,O,P,y){function F(f){f=f.v;
var U=f.Hrzn.v.val,C=f.Vrtc.v.val;return O.i.D7(U,C)}if(s.Q=="fromAction"){var A=this.vn;this.vn=a.G(A);
var h=s.Q1.kT,m=["Grad","Type","Opct","Dthr"];for(var R=0;R<m.length;R++)if(h[m[R]])this.vn[m[R]]=h[m[R]];
var Z=F(h.From),u=F(h.T);this.nD(O,M,y,P,Z);this.Cq(O,M,y,P,u);this.vn=A}};$.qM.LP=function(s,M){if(s.s0(M))return s;
var O=M.x-s.x,P=M.y-s.y,y=Math.abs(O),F=Math.abs(P);if(y>F)F=y/2>F?0:y;if(F>y)y=F/2>y?0:F;y=O>0?y:-y;
F=P>0?F:-F;var A=Math.sqrt(O*O+P*P)/Math.sqrt(y*y+F*F);return new j6(s.x+y*A,s.y+F*A)};$.qM.XB=function(s,M,O,P,y,F,A){var h=new gi(0,0,M,O),m=a.j(M*O*4);
a.eZ(m,M,O,4);var Z=Math.sin(P),u=Math.cos(P),f=a.j(M*O*4);a.wv.gR(s,f,h,[u*1/M,Z*1/M,-Z*1/O,u*1/O],M/2,O/2,!1,0,y,F);
a.B.qZ("norm",f,h,m,h,h,1);if(A)return new ImageData(new Uint8ClampedArray(m.buffer),M,O);else return b_.TB(m.buffer,M,O,null,null,!0)};
$.qM.avO=function(s,M,O){var P=a.G(s);if(P.Clrs)for(var R=0;R<P.Clrs.v.length;R++){var y=P.Clrs.v[R].v,F=y.Type.v.Clry;
if(F=="UsrS")continue;var A=F=="FrgC"?M:O;y.Type.v.Clry="UsrS";y.Clr={t:"Objc",v:a.wv.gN({o:A>>16&255,R:A>>8&255,X:A&255})}}return P};
$.qM.prototype.n5=function(s,M){$.c8.prototype.n5.call(this,s,M)};$.qM.prototype.QB=function(s,M){$.c8.prototype.QB.call(this,s,M)};
$.c8=function(){$._g.call(this,"Vector Gradient",$.alx,"tools/gradient");this.L$=null;this.o4=null;this.Yv=null;
this.fP};$.c8.prototype=new $._g;$.c8.prototype.enable=function(s,M,O,P){$.c8.rF(s)};$.c8.prototype.Iy=function(s,M,O,P){if(O.zI!=this.id)return;
$.c8.rF(s)};$.c8.prototype.disable=function(s,M,O,P){$.c8.$h(s)};$.c8.$h=function(s){if(s==null)return;
s.W.tY=null;s.W.jT=[];s.G_=!0};$.c8.prototype.nD=function(s,M,O,P,y){var F=$.c8.x6(s);if(F==null&&dc==0){var A=new kg(z.E.fa,!0);
A.data=$.gw.Gk(1);M.a(A);F=$.c8.x6(s)}if(F==null)return;var h=$.$O.cs(s,s.i.ni(y.x,y.y),O),m=$.c8.iM(F,h,s),Z=s.U[s.Y[0]],u=Z.add.GdFl,f=Z.add.vstl;
this.fP=JSON.stringify(dc==0?u:f);this.L$=h;if(m==-1){var U=F[1];this.o4=[h.x,h.y,h.x+2,h.y];if(U[0]==1){this.o4.push(h.x,h.y-2);
U[2][4]=1}this.Yv=1;$.c8.aEI(s,this.o4)}else{this.o4=F[0];this.Yv=m}};$.c8.prototype.nh=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=$.c8.x6(s),h=this.Yv;
if(h!=null){var m=this.o4.slice(0);F=$.$O.cs(s,F,O);if(P.D(hj.Y1))F=$.qM.LP(new j6(m[0],m[1]),F);var Z=F.x-m[h*2],u=F.y-m[h*2+1];
if(h==0){for(var R=0;R<m.length;R+=2){m[R]+=Z;m[R+1]+=u}}else{m[h*2]+=Z;m[h*2+1]+=u}$.c8.aEI(s,m,h)}else if(A){var f=$.c8.iM(A,F,s),U=new kg(z.E.c,!0);
U.data={Q:z.J.ag,Fi:f==-1?"default":f==0?"move":"pointer"};M.a(U)}$.c8.rF(s)};$.c8.iM=function(s,M,O){var P=6*$.yD()/O.i.xq,y=s[0],F=a.b.Sk(y,M.x,M.y,P);
if(F==0&&y.length==8&&y[0]==y[6]&&y[1]==y[7])F=3;if(F==-1&&s[1][0]==1)F=a.b.Sk(y.slice(0,2),M.x,M.y,2*P);
return F};$.c8.prototype.Cq=function(s,M,O,P,y){if(this.o4==null)return;this.o4=null;this.Yv=null;$.c8.aLA(this,s)};
$.c8.aLA=function(s,M){var O=M.Y[0],P=M.U[O],y=P.add.GdFl,F=P.add.vstl,A=JSON.stringify(y?y:F),h=M.history[M.oB];
if(h&&h.l==s&&h.data.Th==O)h.data.sH=A;else{var m=new aA("Change Gradient",s);m.data={Th:O,gH:s.fP,sH:A};
M.Bx(m)}};$.c8.aEI=function(s,M,O){var P=s.U[s.Y[0]],y=P.add.GdFl,F=P.add.vstl,A=P.add.vmsk,h=new j6(M[0],M[1]),m=new j6(M[2],M[3]),Z=new j6(M[4],M[5]),u=new j6(M[6],M[7]);
if(F){var f=F.Tq[0],U=F.Tq[2],C=eq.qt(h,m,new kp),H=eq.Yh(f,C,A.u);if(f==1){var t=j6.gp(Z,h)/j6.gp(m,h);
if(Math.abs(t-1)<.03)t=1;H[2][4]=O==2?t:U[4];if(O==3){if(j6.gp(u,h)/j6.gp(m,h)<.05)u=h.v();eq.wc(H,h,m,u,H[2][4]);
if(H[2][6]>.999)H[2][6]=.999}else{H[2][5]=U[5];H[2][6]=U[6]}}H[1]=F.Tq[1];F.Tq=H}else{var f=y.Type.v.GrdT,X=P.S;
if(f=="Lnr"||f=="Rflc"){h.x=(h.x+m.x)/2;h.y=(h.y+m.y)/2}a.wv.bt(h,m,X,y);P.uH(s)}s.vw()};$.c8.x6=function(s){if(s==null||s.Y.length==0)return;
var M=s.U[s.Y[0]],O=M.add.GdFl,P=M.add.vstl;if(O==null&&P==null)return;if(P==null)P=fr.E6(M.add,s);var y=P.Tq;
if(y.length!=4)return;var F=M.add.vmsk?M.add.vmsk.u:a.z.uU.Rect(0,0,s.A,s.$),A=eq.E1(y,F),F=[0,0,1,0];
if(dc==1&&y[0]==1){var h=y[2][5]*Math.PI/180,m=y[2][6];F.push(0,-1,Math.cos(h)*m,-Math.sin(h)*m)}a.b.M(F,A,F);
return[F,y,A]};$.c8.rF=function(s){if(s)$.c8.$h(s);var M=$.c8.x6(s);if(M==null)return;var O=M[0],P=M[1],y=M[2],F={L:O.slice(0,4),J8:["M","L"]};
if(P[0]==1){var A=a.z.uU.Y9(-1,-1,2,2),h=a.b.TM(A);a.b.M(h.L,y,h.L);a.b.concat(F,h)}s.W.tY=F;s.W.jT=O;
s.G_=!0};$.c8.prototype.n5=function(s,M){var O=M.U[s.Th],P=dc==0?"GdFl":"vstl";if(s.sH){O.add[P]=JSON.parse(s.sH);
O.uH(M);M.vw();$.c8.$h(M)}};$.c8.prototype.QB=function(s,M){var O=M.U[s.Th],P=dc==0?"GdFl":"vstl";if(s.sH){O.add[P]=JSON.parse(s.gH);
O.uH(M);M.vw();$.c8.$h(M)}};$.Ha=function(){$._g.call(this,[10,7],$.dU,"tools/hand");this.PT=!1;this.gn=new j6(0,0);
this.Pb=null;this.vB=0;this.AL=!1};$.Ha.prototype=new $._g;$.Ha.prototype.j9=function(s,M,O,P){this.PT=s.PT};
$.Ha.prototype.cu=function(s,M,O,P,y){var F=s.Q;if(F=="setcls"){O.i.P7=s.P7;O.G_=!0;O.DI=!0}if(F=="scroll"){if(P.D(hj.yu))$.Ha.Zy(O,O.i.p.x-s.EW.y,O.i.p.y-s.EW.x);
else $.Ha.Zy(O,O.i.p.x-s.EW.x,O.i.p.y-s.EW.y)}};$.Ha.prototype.enable=function(s,M,O,P){this.Pb=null;
var y=new kg(z.E.c,!0);y.data={Q:z.J.ag,Fi:"grab"};M.a(y);if(s&&Date.now()-this.vB<300){y.I=z.E.H;y.l=$.zY;
y.data={Q:"adapt",K:"fitscr"};M.a(y)}this.vB=Date.now()};$.Ha.prototype.nD=function(s,M,O,P,y){this.Pb=s.i.p.v();
this.gn.ee(y.x,y.y);if(dc==2){this.AL=s.J.Nh;if(this.AL){var F=new kg(z.E.c,!0);F.data={Q:z.J.CY};M.a(F)}}};
$.Ha.prototype.nh=function(s,M,O,P,y){if(!y.cQ)return;if(this.Pb==null)this.nD(s,M,O,P,y);var F=this.PT?M.r0:[s];
for(var R=0;R<F.length;R++)$.Ha.Zy(F[R],this.Pb.x+(y.x-this.gn.x),this.Pb.y+(y.y-this.gn.y))};$.Ha.prototype.Cq=function(s,M,O,P,y){this.Pb=null;
if(dc==2&&this.AL){var F=new kg(z.E.c,!0);F.data={Q:z.J.CY};M.a(F)}};$.Ha.Zy=function(s,M,O){var P=s.i.xq,y=s.i.SB,F=y.A,A=y.$,h=a.b.hC(new gi(0,0,s.A,s.$)).L,m=new kp;
m.rotate(s.i.JL);a.b.M(h,m,h);var Z=a.b.hG(h),u=Z.A*P,f=Z.$*P,U=u<F&&f<A,C=F/2+u/2-64,H=A/2+f/2-64;if(dc==2){C=H=1e9;
M=Math.min(0,M)}s.i.p.ee(Math.max(-C,Math.min(C,M)),Math.max(-H,Math.min(H,O)));s.DI=!0};$.m3=function(){$._g.call(this,[10,47],$.UF,"tools/rview");
this.gn=new j6(0,0);this.oz=null;this.Cr=null;this.vB=0};$.m3.prototype=new $._g;$.m3.prototype.enable=function(s,M,O,P){this.Pb=null;
var y=new kg(z.E.c,!0);y.data={Q:z.J.ag,Fi:"grab"};M.a(y);if(s&&Date.now()-this.vB<300&&s.i.JL!=0){s.i.JL=0;
s.G_=!0}this.vB=Date.now();if(s)this.sE(s,M)};$.m3.prototype.disable=function(s,M,O,P,y){if(s)this.sE(s,M)};
$.m3.prototype.Mn=function(s,M,O,P){if(s)this.sE(s,M)};$.m3.prototype.nD=function(s,M,O,P,y){this.gn.ee(y.x,y.y);
var F=s.i;this.oz=F.ni(F.SB.A/2,F.SB.$/2);this.Cr=F._V();var A=F.ni(F.SB.A/2,F.SB.$/2),h=Math.min(F.SB.A,F.SB.$)*.35/F.xq,m=h*.2,Z=A.x,u=A.y;
s.W.CU={J8:"M L L L L L".split(" "),L:[Z,u,Z,u-h,Z+m,u,Z,u+h,Z-m,u,Z,u-h]};s.G_=!0};$.m3.prototype.a6p=function(s){var M=s.i,O=M.ni(M.SB.A/2,M.SB.$/2);
s.W.CU={J8:["M","L"],L:[O.x,O.y,O.x,O.y-200]}};$.m3.prototype.nh=function(s,M,O,P,y){if(!y.cQ)return;
var F=s.i,A=this.oz,h=this.gn,m=new j6(F.SB.A/2,F.SB.$/2),Z=Math.atan2(y.y-m.y,y.x-m.x),u=Math.atan2(h.y-m.y,h.x-m.x),f=Math.atan2(this.Cr.X,this.Cr.cd),U=Z-u,C=Math.PI/4;
if(P.D(hj.Y1)){U=f+C*Math.round((U-f)/C)}this.aBY(s,M,this.Cr.v(),A,U)};$.m3.prototype.Cq=function(s,M,O,P,y){s.W.CU=null;
s.G_=!0};$.m3.prototype.j9=function(s,M,O,P){this.aBY(O,M,null,null,s.Y0-O.i.JL);O.i.JL=s.Y0};$.m3.prototype.aBY=function(s,M,O,P,y){var F=s.i;
if(O==null)O=F._V();if(P==null)P=F.ni(F.SB.A/2,F.SB.$/2);O.translate(-P.x,-P.y);O.rotate(y);O.translate(P.x,P.y);
F.atn(O);if(s.A*F.xq<F.SB.A&&s.$*F.xq<F.SB.$)F.p.ee(0,0);s.G_=!0;this.sE(s,M)};$.m3.prototype.sE=function(s,M){var O=new kg(z.E.c,!0);
O.data={Q:z.J.Qo,l:this.id,Y0:s.i.JL};M.a(O)};$.Q6=function(){$.lg.call(this,[10,25],$.P0,"tools/hbrush")};
$.Q6.prototype=new $.lg("");$.Q6.prototype.Cq=function(s,M,O,P,y){if(this.G2==null)return;this.E4(s,"heal",this.G2.HT(),this.G2.Gt(),this.G2.Ao());
this.vw(s,this.G2.Ao());$.am.prototype.Cq.call(this,s,M,O,P,y);if(!this.vn.algnd)this.p=null};$.AJ=function(s){$._g.call(this,s?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],s?$.k1:$.El,s?"tools/vtype":"tools/htype");
this.eX=[];this.f=null;this.caller=null;this.sM=1;this.oZ=0;this.Rq=null;this.avN=0;this.p5=0;this.auR=0;
this.asg=null;this.ET=null;this.qY=null;this.CP=null;this.JE=null;this.rE=null;this.aD3=null;this.Ka=null;
this.av=null;this.Re=null;this.aeJ=null;this.Le=!1;this.YA=!1;this.R$=!1;this.Ii=null;this.Df=null;this.auZ=null;
this.ack=!1;this.j6=!1;this.i6=-1;this.jD=-1;this.Nv=document.createElement("textarea");this.Nv.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.Nv.addEventListener("input",this.Sb.bind(this),!1);this.Nv.addEventListener("keydown",this.aiq.bind(this),!1);
this.Nv.addEventListener("keyup",this.aDT.bind(this),!1)};$.AJ.prototype=new $._g;$.AJ.prototype.cJ=function(s){return s.cQ};
$.AJ.prototype.Iy=function(s,M,O,P){if(this.qY!=null||this.id==$.k1)return;this.caller=M;var y=this.akH(s);
if(y.length!=0){var F=null,A=[],h=[];for(var R=0;R<y.length;R++){var m=s.U[y[R]],Z=m.add.TySh,u=0,f=iP.Rx(Z.nA).length-2,U=iP.ty(Z.nA,u,f);
iP.ZU(U,Z.M.dI());if(U.TY.Font!=null)U.TY.Font=U.U2[U.TY.Font].Name;F=U.U2;A.push(U.TY);h.push(U.Gy)}var U={U2:F,TY:iP.u2(A),Gy:iP.u2(h)};
if(U.TY.Font!=null)iP.Z2(U,U.TY.Font);this.aER(M,U,Z)}};$.AJ.prototype.akH=function(s){var M=[];for(var R=0;
R<s.Y.length;R++)if(s.U[s.Y[R]]&&s.U[s.Y[R]].add.TySh)M.push(s.Y[R]);return M};$.AJ.prototype.cu=function(s,M,O,P,y){var F=s.Q=="insertGlyph",A=s.Q=="copyText",h=s.Q=="selectAll";
if((F||A||s.Q=="insertText"||h)&&this.qY){var m=F?String.fromCharCode(65533):s.K,Z=this.Nv,u=Z.value,f=Z.selectionStart,U=Z.selectionEnd;
if(A){cD.o$(new Blob([u.slice(f,U)],{type:"text/plain"}))}else if(h){this.i6=Z.selectionStart=0;this.jD=Z.selectionEnd=u.length;
this.fK(O);Z.focus()}else{Z.value=u.slice(0,f)+m+u.slice(U);Z.selectionStart=Z.selectionEnd=f+m.length;
this.Sb(null,F?s.K:null);Z.focus()}}if(s.Q=="updateStyles"){if(this.qY==null){var C=this.akH(O),H=!1;
if(C.length!=0){this.Kf(O,M,y,C);for(var R=0;R<C.length;R++){var t=O.U[C[R]],X=t.add.TySh;iP.ZP(X,this.sM);
X.x9.VAlign.v=this.oZ;this.qY=t;var Q=iP.Rx(X.nA);this.i6=0;this.jD=Q.length-1;iP.UP(X.nA,this.i6,this.jD,this.lD(y,X));
var D=this.lC(O,y);if(D==!1)H=!0}if(H){this.ack=!0;return}this.nb(O,M,!0)}return}this.Su(y)}if(s.Q.startsWith("warp")){var L=this.j6;
if(s.Q=="warp"||s.Q=="warpCancel"){if(this.qY==null)return;if(s.Q=="warp")this.qY.add.TySh.jR=s.Z6;else this.qY.add.TySh.jR=this.aD3;
this.lC(O,y);if(!L)this.fK(O)}if(s.Q!="warp")this.Nv.focus();if((s.Q=="warpConfirm"||s.Q=="warpCancel")&&L){this.j6=!1;
if(s.Q=="warpConfirm")this.nb(O,M);else this.zZ(O,M)}}if(s.Q=="editCurr"){if(y.zI!=$.El){this.Rq=y.zI;
var E=new kg(z.E.c,!0);E.data={Q:z.J.LT,l:$.El};M.a(E)}if(this.qY!=null)this.disable(O,M,y,P);this.f=y;
this.caller=M;this.Kf(O,M,y,[s.Eh]);var Q=iP.Rx(this.qY.add.TySh.nA);this.i6=0;this.jD=Q.length-1;this.fK(O);
this.zF();this.Nv.focus()}if(s.Q=="switchPntPrgr"){if(this.qY)return;var t=O.U[O.Y[0]],X=t.add.TySh,_=X.M.dI(),S=t.Gt(),W=a.G(X.nA),g=iP.z0(W),x=g==1?iP.SP(W):[0,0,Math.round(S.A*1.05/_),Math.round(S.$*1.25/_)],V=iP.ty(W,0,0),b=V.U2[V.TY.Font].Name,N=y.s4.E3(b),J=[0,x[2],x[2]/2][V.Gy.Justification%3],K=(N?aa.DW(N):.8)*V.TY.FontSize;
iP.hV(W,1-g);if(g==0){J=-J;K=-K;iP.w9(W,[0,0,x[2],x[3]])}var q=new kp(1,0,0,1,J,K);q.concat(X.M);this.cu({FB:O.Y[0],Q:"newED",afn:W,M:q,a4L:[16,3,g==1?0:1]},M,O,P,y)}if(s.Q=="newED"){var t=O.U[s.FB],X=t.add.TySh,d=this.uS(O,[s.FB]);
X.nA=s.afn;if(s.M)X.M=s.M;if(bZ.fT(X,y.s4,M)){bZ.lC(t,y.s4,O);O.vw()}else O.Jf=!0;var l=new aA(s.a4L?s.a4L:this.name,this);
l.data={tz:d,ayv:this.uS(O,[s.FB])};O.Bx(l)}if(s.Q=="fromAction"){var T;if(s.Q1.Cw=="set"){T=s.Q1.kT.T.v}else{T=s.Q1.kT.Usng.v;
window.aK6=T;var B=T.TxtC.v,p=[];for(var R=0;R<2;R++){var I=B[R==0?"Hrzn":"Vrtc"].v,m=I.val;if(I.type=="#Prc")m=(R==0?O.A:O.$)*(m/100);
p[R]=m}this.Ra(O,M,y,P,O.i.D7(p[0],p[1]),!0)}var t=O.U[O.Y[0]],X=t.add.TySh,w=X.nA,u=iP.Rx(w);iP.Cl(w,0,u.length-1);
iP.Xq(w,0,T.Txt.v.replace(/\r/g,"\n"));iP.aaN(T,w,O);if(bZ.yx(O,y.s4,M))bZ.lC(t,y.s4,O);else O.Jf=!0;
O.vw();this.nb(O,M)}};$.AJ.prototype.Su=function(s){var M=Math.min(this.i6,this.jD),O=Math.max(this.i6,this.jD),P=this.qY.add.TySh;
iP.ZP(P,this.sM);P.x9.VAlign.v=this.oZ;var y=this.lD(s,P);iP.UP(P.nA,M,O-1,y);var F=this.caller.Mq(),A=this.lC(F,s);
if(A)this.fK(F);if(document.activeElement.tagName.toLowerCase()!="input")this.Nv.focus()};$.AJ.prototype.cZ=function(s){return this.eX.indexOf(s)!=-1};
$.AJ.prototype.enable=function(s,M,O,P){var y=this.Nv;M._.appendChild(y);this.Ka="default";this.Nn(M)};
$.AJ.prototype.bA=function(){return this.qY!=null};$.AJ.dA=function(s,M){var O=new j6(M.x,M.y);for(var R=s.U.length-1;
R>=0;R--){var P=s.U[R],y=P.add.TySh;if(y&&s.aot(R)){var F=O,A=P.S;if(dc==1){var h=y.M.v();h.or();F=h.Kw(O);
A=P.aD.H_}if(!A.$z(F))continue;var m=P.T2(31);return m?-2:R}}return-1};$.AJ.prototype.nD=function(s,M,O,P,y){this.f=O;
this.caller=M;var F=s.i.ni(y.x,y.y),A=this.qY==null;if(A){var h=$.AJ.dA(s,F);if(h==-2){alert(aW.get([6,57,0]));
return}if(h>=0&&!P.D(hj.Y1)){if(!bZ.fT(s.U[h].add.TySh,O.s4,M)){alert("Fonts not loaded yet");return}this.Kf(s,M,O,[h])}else{this.R$=!0;
this.Ii=y;return}}var m=A?-1:iP.z0(this.qY.add.TySh.nA),Z=this.Re?this.Re:this.av,u=Z&&Z.nD(s,O,P,F,null,null,y)&&a.Z6.Gn(this.qY.add.TySh.jR),f=!A&&a.b.a1x(F,this.qY.Gt())>20/s.i.xq&&(m==0||m==1),U=$.IO.xo(s,F);
if(this.Re&&U){alert("moving curve range");this.ux=U}else if(u||f){this.Le=!0;this.Df=F;this.auZ=this.qY.add.TySh.M.v();
if(this.i6==-1&&this.jD==-1)this.i6=this.jD=this.LM(F)}else{if(this.JE==null){alert("Fonts not loaded yet");
return}this.YA=!0;this.i6=this.jD=this.LM(F);var C=Date.now();if(C-this.avN>300)this.p5=0;this.p5++;
this.avN=C;if(this.p5==2)this.afm();if(this.p5==3)this.abQ();if(this.p5>1){this.YA=!1}}this.zF();this.fK(s)};
$.AJ.prototype.Kf=function(s,M,O,P){var y=s.U[P[0]];this.qY=y;this.eR(M,z.E.c,{Q:z.J.Qo,l:this.id,IY:"showactive"});
this.CP=P;s.Y=P.slice(0);s.eg();s.cw=!0;this.rE=this.uS(s,P);this.wR(y.add.TySh);this.lC(s,O)};$.AJ.prototype.wR=function(s){if(iP.z0(s.nA)!=1)return;
var M=iP.SP(s.nA);M=new gi(0,0,M[2]-M[0],M[3]-M[1]);var O=[M.x,M.y,M.x+M.A,M.y,M.x+M.A,M.y+M.$,M.x,M.y+M.$];
a.b.M(O,s.M,O);this.av=new aj(O,!1,!1,!1,!0);this.av.ZS(0)};$.AJ.prototype.afm=function(){var s=iP.Rx(this.qY.add.TySh.nA);
this.i6=this.a0C(s,this.i6);this.jD=this.a4g(s,this.i6)};$.AJ.prototype.a0C=function(s,M){var O=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",P=[];
for(var R=0;R<O.length;R++)P.push(O.charAt(R));var y=P.indexOf(s[M])==-1?!0:!1;for(var R=M-1;R>=0;R--)if(P.indexOf(s.charAt(R))!=-1==y)return R+1;
return 0};$.AJ.prototype.a4g=function(s,M){var O=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",P=[];for(var R=0;
R<O.length;R++)P.push(O.charAt(R));var y=P.indexOf(s[M])==-1?!0:!1;for(var R=M+1;R<s.length;R++)if(P.indexOf(s.charAt(R))!=-1==y)return R;
return s.length-1};$.AJ.prototype.abQ=function(){var s=this.JE.aE0(this.i6);this.i6=s[0];this.jD=s[1]};
$.AJ.prototype.Nn=function(s){var M=new kg(z.E.c,!0);M.data={Q:z.J.ag,Fi:this.Ka};s.a(M)};$.AJ.prototype.nh=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=this.qY;
if(!y.cQ){var h="default",m=this.av,Z=this.Re?this.Re:m;if(Z&&a.Z6.Gn(A.add.TySh.jR)){var u=Z.X0(F,s.i.xq,null,y);
if(u)h=u;else if(Z==m&&m.Xm(F))h="text";var f=$.IO.xo(s,F);if(f)h="default"}else if(A&&a.b.a1x(F,A.Gt())>20/s.i.xq)h="move";
else if($.AJ.dA(s,F)>=0)h="text";if(h!=this.Ka){this.Ka=h;this.Nn(M)}}var U=this.Ii;if(this.R$&&Math.min(y.x-U.x,y.y-U.y)>4/s.i.xq){this.R$=!1;
this.Ra(s,M,O,P,y);A=this.qY;this.Le=!0;this.av=new aj(null,!1,!1,!1,!0);this.av.ZS(0);var C=s.i.ni(this.Ii.x,this.Ii.y);
C.x=Math.round(C.x);C.y=Math.round(C.y);this.av.nD(s,O,P,C,null,null,y,s.i.JL)}if(this.ux){var H=A.add.TySh,m=this.ux,t=m[3].add.vmsk;
$.IO.a30(m,t,F);H.add={vmsk:t};iP.Cg(H);this.lC(s,O)}if(this.Le){var H=A.add.TySh;if(this.Re){this.Re.nh(s,O,P,F);
var X=a.F.to(a.F.da(this.Re.yK(),this.aeJ));H.M=X;this.lC(s,O);iP.ND(H)}else if(this.av){this.av.nh(s,O,P,F);
var Q=H.M.v(),D=Math.atan2(Q.X,Q.cd);Q.rotate(D);var X=a.F.to(a.F.da(this.av.yK())),L=Math.atan2(X.X,X.cd);
X.rotate(L);if(!isNaN(X.cd)&&X.cd*X.zv-X.X*X.xN!=0){var E=new gi(0,0,X.cd/Q.cd,X.zv/Q.zv),_=E.A,S=E.$,W=H.nA.Curve;
if(W){var g=iP.SP(H.nA),x=new kp(_/g[2],0,0,S/g[3],0,0);a.b.M(W.Points,x,W.Points);iP.ND(H)}iP.w9(H.nA,[0,0,_,S]);
H.M=a.F.to(a.F.da(this.av.yK(),E));this.lC(s,O);iP.ND(H)}}else{var V=F.x-this.Df.x,b=F.y-this.Df.y;H.M=this.auZ.v();
var N=new j6(H.M.cj+V,H.M.H3+b);N=$.$O.cs(s,N,O);H.M.cj=N.x;H.M.H3=N.y;this.lC(s,O)}}if(this.YA)this.jD=this.LM(F);
if(this.Le||this.YA)this.fK(s)};$.AJ.prototype.Ra=function(s,M,O,P,y,F){var A=s.Iv(),h=A[0],m=A[1],Z=s.Tk();
Z.add.lnsr="rend";var u=s.U.slice(0);Z.jj("Text layer "+u.length);this.qY=Z;var f=s.Y.length==0?s.U.length-1:s.Y[s.Y.length-1],U=f+1;
if(u[f].add.lsct==dU.l9)U--;this.rE={cc:u.slice(0),Cm:s.Y.slice(0)};u.splice(U,0,Z);s.Y=[U];this.i6=this.jD=0;
s.S7(u);this.rE.ff=u.slice(0);this.rE.bm=s.Y.slice(0);this.eR(M,z.E.c,{Q:z.J.Qo,l:this.id,IY:"showactive"});
var C=s.i.ni(y.x,y.y),H=O.xx;console.log(H);if(this.id==$.k1){H=a.G(H);H.TY.BaselineDirection=1}Z.add.TySh=iP.cN(C.x,C.y,H,s.i.JL);
var t=Z.add.TySh,X=t.nA;if(this.id==$.k1)X._LineOrientation=2;iP.ZP(t,this.sM);t.x9.VAlign.v=this.oZ;
if(y.cQ)iP.hV(X,1);else{iP.hV(X,0);var Q=h[m.pop()],D=Q?Q.add.vmsk:null;if(F)D=null;if(D&&!P.D(hj.Y1)){D=D.v();
var L=D.u,_,S;for(var R=0;R<L.length;R++)if(L[R].VF!=null)L[R].VF=0;var E=5/s.i.xq;_=a.z.kP(D.u,C,!0,E);
if(_.Fa==-1)_=a.z.kP(D.u,C);if(_.Fa!=-1){iP.hV(X,1);var W=a.z.AS(L,_.Fa),g=a.z.zc(L,_.Fa)-1;L=D.u=L.slice(0,2).concat(L.slice(W,W+g+1));
D.Y=[];t.add={vmsk:D,vogk:ad.$k(L)};X.Curve={};iP.Cg(t);if(_.nI!=null){var x=aa.xI(X.Curve);a.b.M(x[0],t.M,x[0]);
var V=a.b.Sk(x[0],C.x,C.y),b=O.xx.Gy.Justification;if(b==2||b==5){var N=(x[2][V]+x[3]*.5)%x[3];V=aa.EB(N,x[2])}var J=x[1][V];
J=J%g;D.Dx=[J,J];iP.Cg(t)}else this.wR(t)}}}return Z};$.AJ.prototype.Cq=function(s,M,O,P,y,F){if(F){this.R$=!1;
return}if(this.qY==null&&!this.R$)return;var A=s.i.ni(y.x,y.y),h=this.R$;if(this.R$){this.R$=!1;this.Ra(s,M,O,P,y);
this.YA=!0}if(this.Le||this.YA||this.ux){this.fK(s);this.zF();if(h)this.Su(O)}this.ux=null;if(this.Le&&this.av)this.av.Cq(s,O,P,A);
this.Le=this.YA=!1;this.Nv.focus()};$.AJ.prototype.zF=function(){var s=this.qY.add.TySh,M=Math.min(this.i6,this.jD),O=Math.max(this.i6,this.jD),P,y;
if(M==O){var F=iP.Rx(s.nA);if(M==0||F.charAt(M-1)=="\n")P=y=M;else P=y=M-1}else{P=M;y=O-1}var A=iP.ty(s.nA,P,y);
iP.ZU(A,s.M.dI());this.aER(this.caller,A,s)};$.AJ.prototype.aER=function(s,M,O){this.eR(s,z.E.c,{Q:z.J.ko,dh:g5.B0,xx:M});
var P=this.sM=iP.X5(O),y=this.oZ=O.x9.VAlign.v;this.eR(this.caller,z.E.c,{Q:z.J.Qo,l:this.id,IY:"changeOther",We:P,abG:y})};
$.AJ.prototype.z4=function(s,M,O,P,y){if(s==null)return;var F=s.i.ni(y.x,y.y),A=$.AJ.dA(s,F);if(A==-1)return;
var h=new kg(z.E.c,!0);h.data={Q:z.J.Qo,l:this.id,IY:"showpan",aaD:this.qY!=null,Eh:A,Tu:y,Uc:s,f:O};
M.a(h)};$.AJ.prototype.a9Z=function(){var s=this.qY;if(s&&!this.Le&&this.Re!=null){var M=this.caller.Mq();
this.Re.Cq(M,this.f,null,null);this.Re=null;this.wR(s.add.TySh);this.fK(M)}};$.AJ.prototype.disable=function(s,M,O,P){var y=this.qY;
this.nb(s,M)};$.AJ.prototype.j9=function(s,M,O,P,y){if(this.j6)return;if(s.IY=="commit")this.nb(O,M);
if(s.IY=="cancel")this.zZ(O,M);if(s.IY=="changeOther"){this.sM=s.We;this.oZ=s.abG;if(O!=null)this.cu({Q:"updateStyles"},M,O,P,y)}if(s.IY=="showwarp"){if(O==null)return;
if(this.qY==null){var F=O.U[O.Y[0]],A=F.add.TySh;if(A==null)return;this.Kf(O,M,y,[O.Y[0]]);this.Nv.focus();
this.j6=!0}this.aD3=this.qY.add.TySh.jR;var h=new kg(z.E.c,!0);h.data={Q:z.J.xL,Rj:"textwarp"};M.a(h)}};
$.AJ.prototype.qy=function(s,M){if(M!=g5.Ql)return;if(this.ack&&this.CP){this.ack=!1;var O=this.caller.Mq(),P=this.CP;
for(var R=0;R<P.length;R++){this.qY=O.U[P[R]];this.lC(O,s)}this.nb(O,this.caller);return}if(this.qY)this.Su(s)};
$.AJ.prototype.lD=function(s,M){var O=a.G(s.xx);iP.ZU(O,1/M.M.dI());return O};$.AJ.prototype.n5=function(s,M){if(s.tz!=null)this._Y(M,s.ayv);
else this.ao4(M,s.ff,s.bm)};$.AJ.prototype.QB=function(s,M){if(s.tz!=null)this._Y(M,s.tz);else this.ao4(M,s.cc,s.Cm)};
$.AJ.prototype._Y=function(s,M){for(var R=0;R<M.length;R++){var O=M[R],P=O.FB,y=s.U[P];y.buffer=O.OC;
y.S=O.Iz.v();y.vw();y.aD.ah=null;y.aD.path=null;var F=y.add.TySh;F.jR=O.Z6;F.WY=O.WY.v();F.M=O.M.v();
F.nA=a.G(O.nA);if(F.add)iP.ND(F);y.IT()}s.vw()};$.AJ.prototype.uS=function(s,M){var O=[];for(var R=0;
R<M.length;R++){var P=M[R],y=s.U[P],F=y.add.TySh;O.push({FB:P,M:F.M.v(),Z6:a.G(F.jR),WY:F.WY.v(),nA:a.G(F.nA),OC:y.buffer.slice(0),Iz:y.S.v()})}return O};
$.AJ.prototype.ao4=function(s,M,O){s.Y=O;s.S7(M);s.vw();s.GJ=!0};$.AJ.prototype.lC=function(s,M,O){if(O==null)O=!1;
var P=this.qY.add.TySh;if(!bZ.fT(P,M.s4,this.caller))return!1;if(!O){var y=iP.Rx(P.nA);this.Nv.value=y.slice(0,y.length-1)}var F=this.qY.S,A=bZ.lC(this.qY,M.s4,s);
this.JE=A[1];var h=this.JE.HD();if(a.Z6.Gn(P.jR))P.WY=new gi;else{if(iP.z0(P.nA)==1){var m=iP.SP(P.nA),hS=h.y;
P.WY=new gi(0,hS,m[2]-m[0],m[3]-m[1]-hS)}else P.WY=h}s.DA();if(A[2])s.vw(s.root.c9(A[2].Iz.v8(F),s,s.U.indexOf(this.qY)));
return!0};$.AJ.prototype.Sb=function(s,M){if(this.qY==null||this.j6)return;var O=this.Nv.selectionStart,P=this.qY.add.TySh,y=iP.Rx(P.nA),F=this.Nv.value+"\n",A=Math.min(this.i6,this.jD),h=Math.max(this.i6,this.jD),U=!1;
this.i6=Math.min(O,A);if(F.length-O<y.length-this.jD)this.jD=y.length-F.length+O;if(y!=F){while(this.i6>0&&y.charAt(this.i6-1)!=F.charAt(this.i6-1))this.i6--}var m=y.substring(0,this.i6),Z=y.substring(this.jD,y.length),u=F.substring(this.i6,F.length-Z.length);
iP.Cl(P.nA,this.i6,this.jD);iP.Xq(P.nA,this.i6,u);if(M!=null)iP.azv(P.nA,this.i6,M);var f=this.lD(this.f,P),C=-1,H=Array.from(u);
for(var R=0;R<H.length;R++)C=Math.max(C,H[R].codePointAt(0));if(C!=-1&&C>32&&C!=65533&&f.TY.Font!=null){var t=f.U2[f.TY.Font].Name,X=this.f.s4.a20(C,t,f.U2);
if(t!=X){iP.Z2(f,X);U=!0}}if(this.ET!=null&&u==this.ET){var Q=JSON.parse(this.asg);iP.ZU(Q,1/P.M.dI());
f.TY=Q.TY;f.U2=Q.U2;U=!0}iP.UP(P.nA,this.i6,this.i6+u.length-1,f);this.i6=this.jD=m.length+u.length;
var D=this.caller.Mq(),L=this.lC(D,this.f,!0);if(L)this.fK(D,!0);if(U)this.zF()};$.AJ.prototype.aDT=function(s){var M=hj;
if(!s.ctrlKey)this.a9Z();s.stopPropagation()};$.AJ.prototype.aiq=function(s){s.stopPropagation();var M=s.ctrlKey||s.metaKey,O=hj,m=0,Z=0,L=0,K=!1;
if(this.qY==null||this.j6)return;if(this.qY==null)return;if(this.caller.He.D$())return;var P=this.caller.Mq();
if(this.Re==null&&M){var y=this.qY.add.TySh,F=iP.z0(y.nA),A;if(F==1){A=iP.SP(y.nA);A=new gi(0,0,A[2]-A[0],A[3]-A[1])}else A=this.JE.HD();
var h=[A.x,A.y,A.x+A.A,A.y,A.x+A.A,A.y+A.$,A.x,A.y+A.$];a.b.M(h,y.M,h);this.Re=new aj(h,!0,!0,!1,!1);
this.Re.ZS(0);this.aeJ=A;this.fK(P)}if(O.DT(s.code,O.dV))m=1;if(O.DT(s.code,O._f))m=-1;if(O.DT(s.code,O.l8))Z=-1;
if(O.DT(s.code,O.sd))Z=1;var u=O.DT(s.code,hj.gd),f=O.DT(s.code,hj.auB);if(O.DT(s.code,hj.$g)&&M){this.nb(P,this.caller);
return}if(O.DT(s.code,hj.ob)){this.zZ(P,this.caller);return}if(O.DT(s.code,hj.bi)){s.preventDefault();
var U=this.Nv,C=U.value,H=U.selectionStart,t=U.selectionEnd;U.value=C.substring(0,H)+"\t"+C.substring(t);
U.selectionStart=U.selectionEnd=H+1;this.Sb(null);return}var X=O.DT(s.code,O.OA),Q=O.DT(s.code,O.rl);
if(M&&(X||Q)){s.preventDefault();var D=new kg(z.E.H,!0);D.l=$.zY;D.data={Q:"zoom",rv:X};this.caller.a(D)}if(O.DT(s.code,O.LL))L=1;
if(O.DT(s.code,O.ZI))L=-1;var E=this.i6==this.jD,_=M&&s.shiftKey&&L!=0&&!E;if(_||s.altKey&&m!=0){var S=a.G(this.f.xx);
if(_){var W=S.TY.FontSize;if(W==null)W=16;S.TY.FontSize=Math.max(1,W+L*(s.altKey?5:1))}else{if(E){S.TY.Kerning+=20*m;
S.TY.AutoKerning=!1}else S.TY.Tracking+=20*m}s.preventDefault();var g=new kg(z.E.c,!0);g.data={Q:z.J.ko,dh:g5.B0,xx:S};
this.caller.a(g);var D=new kg(z.E.H,!0);D.l=$.El;D.data={Q:"updateStyles"};this.caller.a(D);return}if((O.DT(s.code,O.fG)||O.DT(s.code,O.lk))&&M){var x=this.i6,V=this.jD;
if(x>V){var b=x;x=V;V=b}var y=this.qY.add.TySh,N=iP.Rx(y.nA);if(x!=V){this.ET=N.slice(x,V);this.asg=JSON.stringify(this.f.xx)}}var J=iP.Rx(this.qY.add.TySh.nA);
if(m!=0||Z!=0||u||f){s.preventDefault();var q=this.i6;if(m!=0){if(M&&m==-1)q=this.a0C(J,this.i6-1);else if(M&&m==1)q=this.a4g(J,this.i6);
else{var U=this.Nv,C=U.value;q=this.i6+m;if(q!=0&&C.codePointAt(q-1)>65535)q+=m}}else if(Z!=0){var d=this.JE.hp(this.i6);
if(Z==-1&&d.KW==0)q=0;else if(Z==1&&d.KW==this.JE.aK4()-1)q=99999999999;else q=this.JE.a3u(new j6(d.Iz.x+d.Iz.A/2,0),d.KW+Z)}else if(u){var l=this.i6-1;
while(l>0&&J.charCodeAt(l)!=10)l--;q=l==0?0:l+1}else if(f){var l=this.i6;while(l<J.length-1&&J.charCodeAt(l)!=10)l++;
q=l}q=Math.max(0,Math.min(J.length-1,q));if(s.shiftKey)this.i6=q;else this.i6=this.jD=q;K=!0}if(M&&O.ae8(s,hj.J)){this.i6=0;
this.jD=J.length-1;K=!0}if(K){this.zF();this.fK(P)}};$.AJ.aJd=function(s,M){var O=s.length;if(O!=M.length)return!1;
for(var R=0;R<O;R++)if(s[R].FB!=M[R].FB)return!1;return!0};$.AJ.prototype.nb=function(s,M,O){if(this.qY==null)return;
if(Date.now()-this.auR<5e3)O=!0;this.auR=Date.now();this.qY.IT();var P=this.rE;if(P instanceof Array){var y=this.uS(s,this.CP),F=s.tX();
if(F!=null&&F.l==this&&F.data.tz&&$.AJ.aJd(F.data.tz,P)&&O)F.data.ayv=y;else{var A=new aA(this.name,this);
A.data={tz:P,ayv:y};s.Bx(A)}}else{var A=new aA(this.name,this);A.data={cc:P.cc,ff:P.ff,Cm:P.Cm,bm:P.bm};
s.Bx(A);var h=this.qY.add.TySh,m=h.nA,Z=iP.Rx(m).slice(0,-1),u={classID:"null",null:f7.Ht("TxLr"),Usng:{t:"Objc",v:{classID:"TxLr",Txt:{t:"TEXT",v:Z},TxtC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:100*h.M.cj/s.A}},Vrtc:{t:"UntF",v:{type:"#Prc",val:100*h.M.H3/s.$}}}}}}};
iP.a18(u.Usng.v,m,s);this.$V=M;this.track({Cw:"make",kT:u})}this.escape(s,M)};$.AJ.prototype.zZ=function(s,M){if(this.qY==null)return;
if(this.rE instanceof Array){this._Y(s,this.rE);if(this.qY)iP.ND(this.qY.add.TySh)}else{s.Y=this.rE.Cm;
s.S7(this.rE.cc);s.GJ=!0}s.vw();this.escape(s,M)};$.AJ.prototype.escape=function(s,M){this.a9Z();this.qY=null;
this.CP=null;this.JE=null;this.av=null;this.Nv.blur();s.W.CU=null;s.W.zQ=null;s.W.oW=[];s.G_=!0;this.Le=!1;
this.YA=!1;this.i6=this.jD=-1;this.eR(M,z.E.c,{Q:z.J.Qo,l:this.id,IY:"hideactive"});if(this.Rq){var O=new kg(z.E.c,!0);
O.data={Q:z.J.LT,l:this.Rq};M.a(O);this.Rq=null}};$.AJ.prototype.eR=function(s,M,O,P){var y=new kg(M,!0);
y.data=O;if(P)y.l=P;s.a(y)};$.AJ.prototype.LM=function(s){var M=this.qY.add.TySh,O=this.JE,P=M.M.v();
P.or();var y=P.Kw(s),F=iP.Gt(M,O),A=a.Z6.Kx(M.jR,F),h=a.W$.UR(A,y);if(h==null)h=new Float64Array(2);
y=new j6(F.x+h[0]*F.A,F.y+h[1]*F.$);if(O.xh){var m=O.xh.v();m.or();y=m.Kw(y)}var Z=O.a3u(y);return Z};
$.AJ.prototype.fK=function(s,M){if(M==null)M=!1;var O=this.qY.add.TySh,P=iP.z0(O.nA),y=this.JE,F=y?iP.Gt(O,y):null;
s.W.oW=[];s.W.CU=null;s.W.zQ=null;var A=this.Re?this.Re:this.av;if(A){A.p0(s,this.f,!a.Z6.Gn(O.jR));
var h=O.M.v();h.or();if(y&&y.xh&&y.VK==1){var m=y.xh.v();m.or();h.concat(m)}a.b.M(s.W.oW,h,s.W.oW);a.b.M(s.W.CU.L,h,s.W.CU.L);
if(y&&y.xh==null&&y.aw2()){var Z=F.A-20,u=F.$+8;s.W.CU.L.push(Z,u,Z+10,u,Z+5,u-5,Z+5,u+5);s.W.CU.J8.push("M","L","M","L")}}else if(P==0)this.anE(s,O,y);
else s.W.CU={L:[],J8:[]};var f=Math.min(this.i6,this.jD),U=Math.max(this.i6,this.jD);if(!M){this.Nv.selectionStart=f;
this.Nv.selectionEnd=U}if(y!=null){var C=function(A,E){var _=A.x,S=A.y+A.$,W=new kp;W.translate(-_,-S);
W.rotate(-E);W.translate(_,S);A.y+=A.$*.27;var L=a.b.hC(A);a.b.M(L.L,W,L.L);return L};if(f==U){f=Math.max(f,0);
var H=y.hp(f);if(H){var t=H.Iz,X=this.f.xx.TY.FontSize;if(X!=null&&X!=0){X/=O.M.dI();t.y+=t.$-X;t.$=X}var Q=y.aKk(f);
if(Q!=null&&Q.Fm==1)t.x+=t.A;var D=C(t,H.JL).L;s.W.CU.J8.push("M","L");s.W.CU.L.push(D[0],D[1]-1,D[6],D[7]-1)}}else if(this.caller.He.D$()==null){s.W.zQ={L:[],J8:[]};
for(var R=f;R<U;R++){var H=y.hp(R),L=C(H.Iz,H.JL);a.b.concat(s.W.zQ,L)}}}s.W.CU=bZ.XE(s.W.CU,O,y,!0);
s.W.zQ=bZ.XE(s.W.zQ,O,y,!0);s.W.oW=bZ.XE({L:s.W.oW},O,y,!0).L;s.G_=!0};$.AJ.prototype.anE=function(s,M,O){if(O==null)return;
s.W.oW.push(0,0);if(s.W.CU==null)s.W.CU={J8:[],L:[]};for(var R=0;R<O.Gy.length;R++){var P=O.Gy[R];for(var y=0;
y<P.PO.length;y++){var F=P.PO[y],A=P.I7.x+F.I7.x+F.Iz.x,h=P.I7.y+F.I7.y+F.Iz.y+F.Iz.$;s.W.CU.J8.push("M","L");
s.W.CU.L.push(A,h,A+F.Iz.A,h)}}s.G_=!0};$.Ee=function(){$.AJ.call(this,!0)};$.Ee.prototype=new $.AJ;
$.HY=function(s){$.vm.call(this,s?"Magic Replace":[10,9],s?$.adI:$.G8,s?"tools/mremove":"tools/lasso");
this.jf=null;this.qb=null;this.Df=null};$.HY.prototype=new $.vm;$.HY.prototype.rW=function(s,M,O,P){this.jf=this.$N;
this.qb={L:[this.jf.x,this.jf.y],J8:["M"]}};$.HY.prototype.Sd=function(s,M,O,P){this.Df=P;var y=this.qb;
if(y==null)return;if(!P.cQ){if(this.qb!=null&&this.yE.kU(1)&&O.D(hj.tT)){y.L.pop();y.L.pop();y.L.push(this.bc.x,this.bc.y);
s.W.CU=y;s.G_=!0}return}y.J8.push("L");y.L.push(this.bc.x,this.bc.y);this.jf=this.bc;if(this.uo){s.W.CU=y;
s.G_=!0}};$.HY.prototype.bA=function(){return this.qb!=null};$.HY.prototype.b5=function(){return this.qb!=null};
$.HY.prototype.lJ=function(s,M,O,P){$.vm.prototype.lJ.call(this,s,M,O,P);if(this.qb&&this.yE.kU(1)&&this.Df&&!this.Df.cQ&&!P.D(hj.tT))this.atM(s,O,P)};
$.HY.prototype.gF=function(s,M,O,P){this.Df=P;var y=this.qb;if(y==null)return;if(this.yE.kU(1)&&O.D(hj.tT)){y.J8.push("L");
y.L.push(this.bc.x,this.bc.y);return}this.atM(s,M,O)};$.HY.prototype.atM=function(s,M,O){this.finish(s,M,O,this.Df);
this.qb=null;s.W.CU=null;s.G_=!0};$.HY.prototype.getSelection=function(s,M,O,P){if(this.$N.s0(this.bc)||!this.uo)return null;
return $.vm.LK(this.qb.L,null,this.vn.anta)};$.$O=function(){$._g.call(this,[10,11],$.ht,"tools/move");
this.yM=new j6(0,0);this.i8=new j6(0,0);this.In=null;this.qh=null;this.ac=new j6(0,0);this.ZK=null;this.f=null;
this.$V=null;this.vB=0;this.I_=null;this.OX=[];this.ar=null;this.XT=null;this.No=!1;this.Q=0;this.a7k=null;
this._Z=null;this.PS=null;this.qS=!1;this.vn={Vm:!0,qF:dc==1,MM:!1,avp:1};this.aGA=!1;this.a5f=!1;this.av=null;
this.dP=null;this.aCK=null;var s=[];for(var R=0;R<a.f8.e3.length;R++)s.push({name:a.f8.e3[R],e:function(M,O,P){return{VZ:O.QZ.DQ==P}}});
this.Zd=new kA(s);this.Zd.k("select",this.sj,this)};$.$O.prototype=new $._g;$._g.prototype.cJ=function(s){return this.No&&this.Q!=2};
$.$O.prototype.aE9=function(){return this.No&&(this.Q==0||this.Q==1)};$.$O.prototype.Mn=function(s,M,O,P){this.K0(s,-this.ac.x,-this.ac.y);
this.ac.ee(0,0);this.e$(s,null,O);this.rF(s)};$.$O.prototype.jA=function(){var s=this.vn;if(s.Vm&&!s.qF&&!s.MM)return null;
return[s.Vm?1:0,s.qF?1:0,s.MM?1:0]};$.$O.prototype.LQ=function(s,M,O){var P=this.vn;if(s&&s[0]!=null)P.Vm=s[0]==1;
if(s&&s[1]!=null)P.qF=s[1]==1;if(s&&s[2]!=null)P.MM=s[2]==1;if(dc==1)P.qF=!0;var y=new kg(z.E.c,!0);
y.data={Q:z.J.Qo,l:this.id,uP:P,aAz:M};O.a(y)};$.$O.ai7=function(s,M,O,P,y,F,A){if(A==null)A=[!1,!0];
var h=s.td(null,y,!0),m,Z=y==null?s.Y[0]:y;if(s.add.artd&&(y!=null||s.Y.length==1)&&s.U[Z].add.artb){var u=s.U[Z].Kj();
m=s.mO(h,u,u)[0]}else{var f=new gi(0,0,s.A,s.$),m=s.mO(h,A[0]?f:null,A[1]?null:f)[0];delete m.add.artd;
if(A[1]){var U=a.zq(m.Ta(),new gi(0,0,m.A,m.$),2);$._P.um(m,U)}}if(O!=1){var C=new gi(0,0,Math.round(m.A*O),Math.round(m.$*O));
$._P.um(m,C);var H=[];for(var R=0;R<m.U.length;R++)H.push(R);var t=$.TR.IJ(m,H,!0);$._P.Bo(m,new kp(O,0,0,O,0,0));
$.TR.b3(m,P,H,t,1,a.F.y1(new kp(O,0,0,O,0,0)),null,!0);m.kp()}var X=[];for(var R=0;R<M.length;R++)if(m.A*m.$!=0)X.push(b_.Yg(m,M[R].toUpperCase(),null,null,F?F[R]:null,P));
return X};$.$O.prototype.aai=function(s,M,O,P,y){if(s==null||s.Y.length==0)return;var F=$.$O.ai7(s,[M],O,P,null);
if(F.length==0){alert("Empty layer selected.");return}var A=F[0],h=new kg(z.E.c,!0);h.data={Q:z.J.Q2,data:A,name:s.U[s.Y[0]].getName()+(O==1?"":"@"+O+"x")+"."+M};
y.a(h)};$.$O.prototype.j9=function(s,M,O,P,y){if(s.tW=="getPNG"){this.aai(O,"png",s.Mb,y,M)}else if(s.tW=="getSVG"){this.aai(O,"svg",s.Mb,y,M)}if(s.tW=="prms"){this.vn=s;
this.rF(O)}};$.$O.a5h=function(s){var hS=s.length,O=0;s.sort(function(F,A){return F[0]+F[1]/2-(A[0]+A[1]/2)});
var M=s[hS-1][0]+s[hS-1][1]-s[0][0];for(var R=0;R<hS;R++)O+=s[R][1];var P=Math.round((M-O)/(hS-1)),y=s[0][0];
for(var R=0;R<hS;R++){s[R][0]=y;y+=s[R][1]+P}};$.$O.prototype.cu=function(s,M,O,P,y){var F=s.Q;if(F=="trsl"){var A=Math.round(s.vM),h=Math.round(s.bM);
this.ac.ee(A,h);this.e_(O,M,P,y,!1,s.w);this.K0(O,A,h);this.e$(O,null,y)}else if(F=="fcmy"||F=="fvec"){var m=["RGB","CMYK"][s.K]+" Color";
if(F=="fvec")m=["Raster","Vector"][s.K]+" Mode";var Z=new aA(m,this);Z.data={Q:s.Q,dK:O.add[F]==null?0:O.add[F],IQ:s.K};
O.Bx(Z);this.n5(Z.data,O)}else if(F=="pview"){var F=new aA([8,14],this);F.data={Q:s.Q};O.Bx(F);this.n5(F.data,O)}else if(F=="lockguides"){if(O)O.o6=!O.o6}else if(F=="gids"||F=="gidsFromLayer"){var u=s._Z,f,U;
if(u==null)u=O.T_();if(F=="gids"){f=s.Cy;var C=u[0].length,H=f[0].length;U=C==H?[23,2]:C>H?[23,3]:[23,4];
if(H==0)U=[11,15,0]}else if(F=="gidsFromLayer"){var t=[],X=[],Q=O.E8();for(var R=0;R<O.Y.length;R++){var D=O.U[O.Y[R]].S;
if(D.g3())continue;t.push([0,D.x],[1,D.y],[0,D.x+D.A],[1,D.y+D.$]);X.push(Q,Q,Q,Q)}U=[11,15,1];f=O.T_();
$.$O.Bi(f,[t,X])}if(JSON.stringify(u)==JSON.stringify(f))return;var F=new aA(U,this);F.data={Q:2,_Z:u,Cy:f};
O.Bx(F);this.n5(F.data,O)}else if(F=="algn"){var L=s.K,E=s.azH,B=0,p=0;if(O==null)return;if(O.Y.length<2&&!(O.h!=null&&L!=3&&L!=7)&&E!=1){alert(aW.get([15,7,5]));
return}var _=O.h;O.h=null;var D=E==1?new gi(0,0,O.A,O.$):_?_.S:$.TR.Gt(O);this.e_(O,M,P,y,!1);if(!this.No)return;
var S=this.I_,W={},g=[],x=[],V=[];for(var R=0;R<S.length;R++){var b=S[R];while(O.U[b].getName()=="</Layer group>")b++;
var N=O.root.vt(b),J=N;while(N.parent!=null){N=N.parent;if(S.indexOf(N.index)!=-1)J=N}var K=x.indexOf(J.index);
if(K==-1){K=x.length;x.push(J.index)}g[R]=K}var q=[],d=[],l=[],T=new gi;for(var R=0;R<x.length;R++){var I=$.TR.Gt(O,O.td(!0,x[R]));
l.push(I);T=T.v8(I);B=Math.max(B,I.A);p=Math.max(p,I.$);var w=L==3?[I.y,I.$]:[I.x,I.A];q[R]=w;d.push(w)}$.$O.a5h(d);
if(L==8){var e=s.cols,G=a.f8.Yn(s.ajk,O.FR,O.A,y.QZ.DQ),j=a.f8.Yn(s.alw,O.FR,O.A,y.QZ.DQ);for(var R=0;
R<x.length;R++){var o=Math.floor(R/e),K=R-o*e,I=l[R],r=T.x+K*(B+G),k=T.y+o*(p+j);V.push(Math.round(r-I.x),Math.round(k-I.y))}}else for(var R=0;
R<x.length;R++){var I=l[R],r=I.x,k=I.y;if(L==0)r=D.x;if(L==1)r=D.x+(D.A-I.A)/2;if(L==2)r=D.x+(D.A-I.A);
if(L==3)k=q[R][0];if(L==4)k=D.y;if(L==5)k=D.y+(D.$-I.$)/2;if(L==6)k=D.y+(D.$-I.$);if(L==7)r=q[R][0];
V.push(Math.round(r-I.x),Math.round(k-I.y))}var a7=[];for(var R=0;R<S.length;R++){var Y=g[R];a7[2*R]=V[2*Y];
a7[2*R+1]=V[2*Y+1]}this.K0(O,0,0,null,a7);var v=L==3||L==7?[20,4,6]:[20,4,L<3?L:L-1];if(L==8)v=[2,10,1];
this.e$(O,null,y,a7,v);O.h=_}else if(F=="disabAuto"){this.LQ([!1],null,M)}};$.$O.Bi=function(s,M){for(var R=0;
R<M[0].length;R++){var O=M[0][R],P=M[1][R],y=!1;for(var F=0;F<s[0].length;F++){var A=s[0][F],h=s[1][F];
if(O[0]==A[0]&&O[1]==A[1]&&P==h)y=!0}if(!y){s[0].push(O.slice(0));s[1].push(P)}}};$.$O.prototype.enable=function(s,M,O,P,y){this.f=O;
this.$V=M;this.qS=y?!0:!1;this.rF(s);this.Nn("default",M);this.lJ(s,M,O,P)};$.$O.prototype.disable=function(s,M,O,P){this.$h(s)};
$.$O.prototype.$h=function(s){if(s==null)return;if(this.av){this.av.clear(s);this.av=null}if(s.W.MM){s.W.MM=null;
s.G_=!0}if(s.W.P6){s.W.P6=null;s.G_=!0}if(s.W.yw[this.id]){delete s.W.yw[this.id];s.G_=!0}if(s.W.zp.length!=0){s.W.zp=[];
s.G_=!0}};$.$O.prototype.Iy=function(s,M,O,P){if(O.zI!=this.id)return;this.rF(s)};$.$O.prototype.rF=function(s,M){if(s==null)return;
var O=this.vn;this.$h(s);if(!this.qS){var P;if(O.qF||O.MM){P=$.TR.Gt(s);if(dc==0)P=a.b.An(P)}if(O.qF&&!P.g3()){var y=s.U[s.Y[0]],F=a.b.hC(P).L;
if(dc==1&&s.Y.length==1){if(y.add.vmsk)F=y.add.vmsk.Zq();if(y.add.SoLd)F=$.TR.NI(y.add.SoLd.nonAffineTransform);
if(y.add.TySh){F=a.b.hC(y.aD.H_).L;a.b.M(F,y.add.TySh.M,F)}}this.av=new aj(F,!0);this.av.p0(s,this.f)}if(O.MM){var A=null,U=null,C=!1;
if(s.E8()!=-1)A=s.U[s.E8()].Kj();else A=new gi(0,0,s.A,s.$);s.W.MM={wu:[P],AZ:[]};var h=s.W.MM.AZ,m=P.x+P.A,Z=P.y+P.$,u=P.x+Math.floor(P.A/2),f=P.y+Math.floor(P.$/2);
if(M){var H=s.root.kP(new j6(Math.floor(M.x),Math.floor(M.y)));if(H){U=a.b.An(H.w.Gt(s));if(U.$B(P)){C=(U.fl(P)||P.fl(U))&&!P.s0(U);
if(!C)U=null}}}this.aCn(P,h);if(U!=null){s.W.MM.wu.push(U);var t=U.x+U.A,X=U.y+U.$,Q=U.x+Math.floor(U.A/2),D=U.y+Math.floor(U.$/2);
if(C){var L=u,E=f;if(P.fl(U)){L=Q;E=D}h.push(P.x,E,U.x,E);h.push(m,E,t,E);h.push(L,P.y,L,U.y);h.push(L,Z,L,X)}else{this.aCn(U,h);
var _=Z<U.y||X<P.y,S=m<U.x||t<P.x;if(m<U.x)h.push(m,f,U.x,f);if(t<P.x)h.push(t,f,P.x,f);if(Z<U.y)h.push(u,Z,u,U.y);
if(X<P.y)h.push(u,X,u,P.y);if(_&&!S){if(P.x<U.x)h.push(P.x,D,U.x,D);if(U.x<P.x)h.push(U.x,f,P.x,f)}}}else{if(P.y>A.y)h.push(u,A.y,u,P.y);
if(Z<A.y+A.$)h.push(u,Z,u,A.y+A.$);if(P.x>A.x)h.push(A.x,f,P.x,f);if(m<A.x+A.A)h.push(m,f,A.x+A.A,f)}s.G_=!0}}if(this.Q==2&&this.No){var W=new gi(0,0,s.A,s.$),g=s.E8();
if(g!=-1){var x=s.T_(),V=x[1][this.I_];if(V==-1)V=g;W=s.U[V].Kj()}var b=s.FQ[this.I_],N=b[0],J=(N==0?"X":"Y")+": "+a.f8.mE(b[1]-(N==0?W.x:W.y),s.FR,this.f,N==0?W.A:W.$,!0);
$._g._D(Math.round(this.In.x)+10,Math.round(this.In.y)-10,[J],s);s.G_=!0}if(this.Q==3&&this.No){var K=a.b.hC(this.a7k);
s.W.yw[this.id]={CU:K};s.G_=!0}};$.$O.prototype.aCn=function(s,M){var O=s.A,P=s.$,y=s.x+Math.floor(O*.2),F=s.y+Math.floor(P*.2);
M.push(y,s.y,y,s.y+P);M.push(s.x,F,s.x+O,F)};$.$O.prototype.Nn=function(s,M){var O={Q:z.J.ag,Fi:s},P=new kg(z.E.c,!0);
P.data=O;M.a(P)};$.$O.prototype.AP=function(s){var M=this.dP.x2()[0],O=this.aCK.length;if(M<O){var P=this.ZK,y=this.aCK[M];
this.Sh(P,y)}else{var F=new kg(M==O?z.E.c:z.E.H,!0);if(M==O)F.data={Q:z.J.$e,gL:"psd"};else{F.l=$.Sp;
F.data={Q:"bgrm",K:1}}this.$V.a(F)}};$.$O.prototype.sj=function(s){var M=a.G(this.f.QZ);M.DQ=this.Zd.x2()[0];
var O=new kg(z.E.c,!0);O.data={Q:z.J.ko,dh:g5.Aw,IQ:M};this.$V.a(O)};$.$O.prototype.z4=function(s,M,O,P,y){if(this.No)this.Cq(s,M,O,P,y);
this.ZK=s;this.f=O;this.$V=M;var F=s.i.ni(y.x,y.y),A;if($.$O.ly(O,y,s.i)){A=this.Zd}else{if(this.dP)this.dP.removeEventListener("select",this.AP);
var h=[];s.root.kP(F,h);if(h.length==0)return;if(P.D(hj.tT)){this.Sh(s,h[0]);return}var m=[];this.aCK=h;
for(var R=0;R<h.length;R++)m.push({name:s.U[h[R]].getName(),dc:R==h.length-1});m.push({name:[1,18],GL:!0});
m.push({name:"Remove BG",e:ai.xA});A=this.dP=new kA(m);A.k("select",this.AP,this)}A.parent=M;A.T();A.update(s,O);
var Z=new kg(z.E.c,!0);Z.data={Q:z.J.EU,uJ:A,x:y.DE+2,y:y.kC+1};M.a(Z)};$.$O.prototype.a6I=function(s,M,O,P,y){var F=$.$O.R5(s,y);
return F!=-1||$.$O.ly(O,y,s.i)};$.$O.R5=function(s,M){if(s==null||s.add.artd==null)return-1;var O=s.i.ni(M.x,M.y),P=12*$.yD()/s.i.xq;
for(var R=0;R<s.U.length;R++){var y=s.U[R];if(!y.CD()||y.add.artb==null)continue;var F=y.Kj(),A=new gi(F.x,F.y-1.7*P,P*y.getName().length*.5,P);
if(A.$z(O))return R}return-1};$.$O.prototype.nD=function(s,M,O,P,y){var F=$.$O.R5(s,y),A=$.$O.aI$(s,s.i.ni(y.x,y.y));
if(F!=-1){s.Y=[F];if(O.zI==$.ht){var h=new kg(z.E.c);h.data={Q:z.J.LT,l:$.ba};M.a(h)}return}if(A!=-1){s.i.V2=A;
s.DI=!0;var h=new kg(z.E.c,!0);h.data={Q:z.J.Rt,Rj:iY.ho.auQ};M.a(h);return}this.In=y;this.yM.ee(y.x,y.y);
this.i8=s.i.ni(y.x,y.y);this.qh=new ff(this.i8);this.e_(s,M,P,O,!0)};$.$O.ly=function(s,M,O,P){var y=a.f8.z3,F=O.SB.$;
return s.vr&&(0<M.x&&M.x<y||0<M.y&&M.y<y||P&&0<M.x&&M.x<4*y&&F-y<M.y&&M.y<F)};$.$O.prototype.e_=function(s,M,O,P,y,F){var A,h=this.i8,m=!1;
if(y){var Z=P.he&&P.QZ.FQ;if($.$O.ly(P,this.yM,s.i)){A=s.T_();var u=s.T_(),f=null;if(this.yM.x<a.f8.z3){f=[0,h.x]}if(this.yM.y<a.f8.z3){f=[1,h.y]}u[0].push(f);
u[1].push(s.E8(!0));s.gt(u);if(!Z){var U=new kg(z.E.c);if(!P.QZ.FQ){U.data={Q:z.J.ko,dh:g5.CL};M.a(U)}if(!P.he){U.data={Q:z.J.ko,dh:g5._s};
M.a(U)}Z=!0}}var C=this.aD8(s,h);if(Z&&C!=null&&!s.o6){this.Q=2;this._Z=A?A:s.T_();this.I_=C;this.No=!0;
this.XT=$.TR.Gt(s);return}if(s.G7.length!=0){this.Q=4;this.XT=s.dj[s.G7[0]].S.v();this.No=!0;return}if(this.av&&this.av.X0(h,s.i.xq,!0,this.In)!=null){var U=new kg(z.E.c);
U.data={Q:z.J.LT,l:$.wO,asS:!0};M.a(U);return}if(s.h&&s.h.S.$z(h)){var H=Math.round(h.x),t=Math.round(h.y),X=s.h.S;
m=s.h.N[(t-X.y)*X.A+H-X.x]>a.Cs(s.depth)/2}var Q=this.vn.Vm||dc==1;if(!m&&(!this.qS&&Q||this.qS&&Q&&(O.D(hj.Y1)||s.Y.length<2))){var D=this.aHc(s,h,O);
if(!D){s.Y=[];s.XK=null;s.GJ=s.QJ=!0;this.Q=3;this.a7k=new gi;this.No=!0;return}}if(O.D(hj.tT)&&!m){var L=new kg(z.E.H);
L.l=$.mu;L.data={Q:ad.i_,aJT:!0};M.a(L)}}if(s.G7.length!=0){this.Q=4;this.XT=s.dj[s.G7[0]].S.v();this.No=!0;
return}this.I_=s.td(F==null,F,null,!0);for(var R=0;R<this.I_.length;R++){var E=this.I_[R],_=s.U[E];if(_.T2(2)||_.T2(31)||s.dM(E)){alert(aW.get([6,57,0]));
return}}if(s.add.artd&&y){var S=this.I_,W=!1;for(var R=0;R<S.length;R++)if(s.U[S[R]].add.artb)W=!0;if(!W){this.ar=[s,s.U.slice(0),s.Y.slice(0),-1];
this.I_.sort(function(q,d){return q-d})}}this.OX=$.$O.a1e(s,this.I_);this.Q=0;if(s.h&&(!y||m)&&s.Y.length==1&&s.Y7(!1)){if(!s.apS()){this.No=!1;
return}var g=s.U[s.Y[0]],x=O.D(hj.tT);this.Q=1;var V=s.history[s.oB];if(V.l==this&&V.data.Q==1&&V.data.w==s.Y[0]&&g.KV==g.na.KV&&!x){this.PS=V}else{var b=g.na,N=!1,J;
if(!g.ih(s,s.h)||x){N=!0;g.LY(s,s.h,x)}if(g.na.KV<=0){J=a.j(g.na.bC.length>>2,s.depth);a.YT(g.na.bC,J,3)}else J=s.h.N.slice(0);
var K={S:g.na.iU.v(),N:J};this.PS=new aA(x?[12,53]:[12,54],this);this.PS.data={Q:1,w:s.Y[0],na:g.na,qx:b,j$:N,Cm:s.h,bm:K,zv:new j6(0,0)};
s.Bx(this.PS);s.h=K;s.Yw=!0}}this.No=!0;this.XT=$.TR.Gt(s)};$.$O.prototype.aHc=function(s,M,O){var P=s.root.kP(new j6(Math.floor(M.x),Math.floor(M.y)));
if(P){if(P.w.add.vmsk)s.G_=!0;var y=s.U.indexOf(P.w);if(this.vn.avp==0){var F=s.root.vt(y);while(F.parent&&F.parent.depth!=0&&F.parent.w.add.artb==null)F=F.parent;
y=F.index}if(O.D(hj.Y1)){var A=s.Y.indexOf(y);if(A==-1)s.Y.push(y);else if(s.Y.length>1)s.Y.splice(A,1)}else if(s.Y.indexOf(y)==-1){this.Sh(s,y)}}return P!=null};
$.$O.prototype.Sh=function(s,M){s.U[M].KV=0;s.Y=[M];s.XK=null;s.eg();s.cw=!0;s.GJ=!0};$.$O.aI$=function(s,M){var O=s.add.Anno;
if(O==null||O.length==0)return-1;var P=30/s.i.xq;for(var R=0;R<O.length;R++)if(new gi(O[R][0],O[R][1],P,P).$z(M))return R;
return-1};$.$O.prototype.nh=function(s,M,O,P,y){this.In=y;var F=s.i.ni(y.x,y.y),C,H;if(this.qh&&this.Q<2)F=this.qh.y7(F,P);
if(!this.No){if(O.he&&O.QZ.FQ&&s&&!s.o6){var A=this.aD8(s,F),h="default",m=$.$O.R5(s,y);if(A!=null)h=["col-resize","row-resize"][s.FQ[A][0]];
else if(this.av){var Z=this.av.X0(F,s.i.xq,null,y);if(Z)h=Z}else if(m!=-1||$.$O.aI$(s,F)!=-1){h="pointer"}this.Nn(h,M)}this.rF(s,F);
return}var u=this.i8,f=Math.round(F.x-u.x)-this.ac.x,U=Math.round(F.y-u.y)-this.ac.y;if(this.XT){if(this.Q==2){var t=[];
if(s.h)t.push(s.h.S);if(this.XT)t.push(this.XT);if(s.i.dO)t.push(s.i.dO);F=$.$O.cs(s,F,O,[!1,t,!0,!0])}else{H=this.XT.v();
H.offset(this.ac.x+f,this.ac.y+U);C=$.$O.ws(s,H,O);var X=this.qh.a9O(P);if(X==1){C[0]=0;C[2]=1e9}if(X==2){C[1]=0;
C[3]=1e9}f+=Math.round(C[0]);U+=Math.round(C[1])}}this.ac.x+=f;this.ac.y+=U;var Q=this.ar;if(Q&&s==Q[0]){s.S7(Q[1]);
s.Y=Q[2].slice(0);Q[3]=-1}this.K0(s,f,U,F,null,P.D(hj.Y1));if(Q&&s==Q[0]){var D=this.XT.v();D.offset(this.ac.x,this.ac.y);
var L=F,m=s.E8(),E=-1;for(var R=0;R<s.U.length;R++){var _=s.U[R];if(!_.CD()||_.add.artb==null)continue;
var S=_.Kj();if(S.$z(L))E=R}if(E!=-1&&E!=m){var W=$.HH.vx(s,this.I_,E,!0,null,!1);s.S7(W[0]);s.Y=W[1];
Q[3]=E}}this.rF(s,F);if(C)$.$O.ea(s,H,C)};$.$O.prototype.aD8=function(s,M){var O=$.fo(s,this.In);M=[M.x,M.y];
var P=s.T_(),y=s.E8();for(var R=0;R<P[0].length;R++){var F=P[0][R],A=P[1][R];if(A!=-1&&A!=y)continue;
if(Math.abs(F[1]-M[F[0]])<O)return R}return null};$.$O.prototype.K0=function(s,M,O,P,y,F){if(this.Q==0){if(y)$.$O.n1(s,this.I_,this.OX,y);
else $.$O.K5(s,this.I_,this.OX,M,O)}else if(this.Q==1){var A=this.PS.data;A.zv.offset(M,O);$.$O.qn(s,A.w,M,O)}else if(this.Q==2){var h=1e-4;
if(F)h=s.i.xq<=1?10:1;var m=h*Math.round(P.x/h),Z=h*Math.round(P.y/h),u=[m,Z],f=s.FQ[this.I_];f[1]=u[f[0]]}else if(this.Q==3){var U=this.i8,C=a.b.q7([U.x,U.y,P.x,P.y]);
this.a7k=C;var H=[];s.root.Vg(C,H);if(JSON.stringify(s.Y)!=JSON.stringify(H)){s.Y=H;s.GJ=s.QJ=!0}}else if(this.Q==4){for(var R=0;
R<s.G7.length;R++)s.dj[s.G7[R]].S.offset(M,O);s.G_=!0}};$.$O.qn=function(s,M,O,P){var y=s.U[M];s.h.S.offset(O,P);
y.u8(s,O,P,s.h);s.Yw=!0;s.vw()};$.$O.prototype.Cq=function(s,M,O,P,y,F){this.e$(s,y,O);this.rF(s);if(Date.now()-this.vB<300&&!F){var A=$.AJ.dA(s,s.i.ni(y.x,y.y));
if($.$O.ly(O,y,s.i,!0)){var h=new kg(z.E.c);if(y.y>s.i.SB.$-20){h.data={Q:z.J.xL,Rj:"doczoom",dK:s.i.xq*100,WC:{g:z.E.H,l:$.zY,d:{Q:"pzoom"}}}}else{h.data={Q:z.J.xL,Rj:"preferences"}}M.a(h)}else if(A>=0){var m=new kg(z.E.H,!0);
m.l=$.El;m.data={Q:"editCurr",Eh:A};M.a(m)}}this.vB=Date.now();$._P.gi(s)};$.$O.prototype.e$=function(s,M,O,P,y){if(!this.No)return;
this.No=!1;if(this.Q<=1){if(P){this.auP(s,null,P,y)}else{if(this.ac.x==0&&this.ac.y==0)return;this.auP(s,this.ac.v())}s.DI=!0}else if(this.Q==2){var F=0;
M=[M.x,M.y];var A=this.I_,h=s.FQ[A],hR=this._Z[0].length,m=s.FQ.length;if(O.vr&&M[h[0]]<a.f8.z3){var Z=s.T_();
Z[0].splice(A,1);Z[1].splice(A,1);s.gt(Z);F=1;if(hR==m-1)return}if(hR<m)F=2;var u=new aA([[23,2],[23,3],[23,4]][F],this);
u.data={Q:2,_Z:this._Z,Cy:s.T_()};s.Bx(u)}else if(this.Q==4){var u=new aA([12,54],this);u.data={Q:4,Y:s.G7.slice(0),p:this.ac.v()};
s.Bx(u)}this.ac.ee(0,0)};$.$O.prototype.lJ=function(s,M,O,P){var y=P.Ry(s?s.i.JL:0);if(s!=null&&(y.x!=0||y.y!=0)){if(P.D(hj.tT)&&s.h==null){var F=new kg(z.E.H);
F.l=$.mu;F.data={Q:ad.i_,aJT:!0};M.a(F)}this.ac.ee(y.x,y.y);this.e_(s,M,P,O,!1);if(!this.No)return;this.K0(s,y.x,y.y);
this.e$(s,null,O);this.rF(s)}var A=P.D(hj.yu);if(!this.qS&&this.a5f!=A){if(A){this.aGA=this.vn.Vm;this.vn.Vm=!0}else{this.vn.Vm=this.aGA}this.a5f=A;
var h=new kg(z.E.c,!0);h.data={Q:z.J.Qo,l:this.id,uP:this.vn};M.a(h)}};$.$O.prototype.QB=function(s,M){if(s.Q==0){var O=s.ac2;
if(O){M.S7(O.cc);M.Y=O._K.slice(0);M.vw();M.GJ=!0}$.$O.n1(M,s.Y,s.DZ,s.$F,!0);$._P.gi(M)}else if(s.Q=="fcmy"||s.Q=="fvec"){if(s.dK==0)delete M.add[s.Q];
else M.add[s.Q]=s.dK;M.G_=!0}else if(s.Q=="pview"){M.I2=!M.I2;M.vw()}else if(s.Q==2){M.gt(s._Z);M.G_=!0}else if(s.Q==4){for(var R=0;
R<s.Y.length;R++)M.dj[s.Y[R]].S.offset(-s.p.x,-s.p.y);M.G_=!0}else{var P=M.U[s.w];if(s.j$){P.Pm(M,s.qx);
M.h=s.Cm;M.Yw=!0;M.vw();P.vw()}else{$.$O.qn(M,s.w,-s.zv.x,-s.zv.y)}}};$.$O.prototype.n5=function(s,M){if(s.Q==0){$.$O.n1(M,s.Y,s.DZ,s.$F);
var O=s.ac2;if(O){M.S7(O.ff);M.Y=O.bH.slice(0);M.vw();M.GJ=!0}$._P.gi(M)}else if(s.Q=="fcmy"||s.Q=="fvec"){if(s.IQ==0)delete M.add[s.Q];
else M.add[s.Q]=s.IQ;M.G_=!0}else if(s.Q=="pview"){M.I2=!M.I2;M.vw()}else if(s.Q==2){M.gt(s.Cy);M.G_=!0}else if(s.Q==4){for(var R=0;
R<s.Y.length;R++)M.dj[s.Y[R]].S.offset(s.p.x,s.p.y);M.G_=!0}else{var P=M.U[s.w];if(s.j$){P.na=s.na;M.h=s.bm;
$.$O.qn(M,s.w,0,0);P.vw()}else{$.$O.qn(M,s.w,s.zv.x,s.zv.y)}}};$.$O.prototype.auP=function(s,M,O,P){if(O){var y=!0;
for(var R=0;R<O.length;R++)if(O[R]!=0)y=!1;if(y)return}var F=s.history[s.oB],A=this.ar,h=A!=null&&A[3]!=-1&&A[0]==s;
if(!h&&O==null&&F.data&&F.l==this&&F.data.Q==0&&JSON.stringify(F.data.Y)==JSON.stringify(this.I_)&&JSON.stringify(F.data.DZ)==JSON.stringify(this.OX)){var m=F.data.$F,Z=F.data.a3S.kT.T.v;
Z.Hrzn.v.val+=M.x;Z.Vrtc.v.val+=M.y;for(var R=0;R<m.length;R+=2){m[R]+=M.x;m[R+1]+=M.y}}else{if(M==null)M=new j6(O[0],O[1]);
var u={Cw:this.Q==0?"move":"cut",kT:{classID:"null",null:this.Q==0?f7.Ht("Lyr",!0):{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:M.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:M.y}}}}}},f=null;
if(h)f={cc:A[1],_K:A[2],ff:s.U.slice(0),bH:s.Y.slice(0)};this.ar=null;this.track(u);if(this.Q!=0)return;
var U=new aA(P?P:[12,54],this);if(O)U.data={Q:0,Y:this.I_,DZ:this.OX,ac2:f,$F:O};else U.data={Q:0,Y:this.I_,DZ:this.OX,ac2:f,$F:$.$O.aiv(this.I_,M.x,M.y)};
U.data.a3S=u;s.Bx(U)}};$.$O.aiv=function(s,M,O){var P=[];for(var R=0;R<s.length;R++)P.push(M,O);return P};
$.$O.K5=function(s,M,O,P,y){$.$O.n1(s,M,O,$.$O.aiv(M,P,y))};$.$O.n1=function(s,M,O,P,y){if(M.length==0)return;
if(O==null){O=[];for(var R=0;R<M.length;R++){O.push(s.U[M[R]].Ob(s,!0))}}var F=new gi,A=new gi(0,0,s.A,s.$);
for(var R=0;R<M.length;R++){var h=P[2*R],m=P[2*R+1];if(y){h=-h;m=-m}var Z=s.U[M[R]],u=O[R];if(Z.add.fxrp&&(u.indexOf(0)!=-1||Z.tE()))Z.add.fxrp.offset(h,m);
for(var f=0;f<u.length;f++){var U=u[f];if(U==0){Z.S.offset(h,m);if(Z.o7()&&Z.UU(s))Z.UU(s).S.offset(h,m);
if(Z.add.artb){var C=Z.Kj();C.offset(h,m);Z.Y3(C);var H=Z.add.artb.guideIndeces;H=H?H.v:[];for(var t=0;
t<H.length;t++){var X=s.FQ[H[t].v];X[1]+=X[0]==0?h:m}}if(Z.add.TySh){Z.add.TySh.M.translate(h,m);if(Z.add.TySh.add){Z.add.TySh.add.vmsk.offset(h,m)}}if(Z.add.SoLd){var Q=new kp(1,0,0,1,h,m),D=Z.add.SoLd,L=$.TR.NI(D.Trnf),E=$.TR.NI(D.nonAffineTransform);
a.b.M(L,Q,L);a.b.M(E,Q,E);D.Trnf=$.TR.kZ(L);D.nonAffineTransform=$.TR.kZ(E);$.TR.a9L(D,Q)}}if(U==1)Z.Bl().S.offset(h,m);
if(U==2){Z.add.vmsk.offset(h,m);if(Z.add.vogk)a.cV.M(Z.add.vogk,[1,0,h,0,1,m,0,0],[]);if(Z.aD.qb){var _=Z.aD.qb.fp.L;
a.b.M(_,new kp(1,0,0,1,h,m),_)}}if(U==3){Z.UU(s).$E.S.offset(h,m);if(u.length==1)Z.vw()}}if(u.length>0){var S=Z.add.GdFl;
if(S==null)S=Z.add.PtFl;if(Z.tE()&&!Z.Xj()&&Z.add.vmsk!=null&&a.z.wH(Z.add.vmsk.u)&&Z.add.vmsk.vR==255&&(S==null||S.Algn&&S.Algn.v)){Z.S.offset(h,m)}else Z.uH(s);
var W=s.root.c9(Z.Gt(s),s,M[R]);if(Z.add.artb)W=W.v8(Z.Kj());F=F.v8(W);W.offset(-h,-m);F=F.v8(W);if(Z.v5()&&Z.$E&&Z.$E.color==255)F=F.v8(A);
Z.a9m()}}s.vw(a.b.An(F))};$.$O.a1e=function(s,M){var O=[];for(var R=0;R<M.length;R++){var P=s.U[M[R]];
O.push(P.Ob(s))}return O};$.$O.ea=function(s,M,O){var P={L:[],J8:[]},y=M.x+O[0],F=M.y+O[1];if(O[2]!=1e9){P.J8.push("M","L");
var A=F+M.$;if(O[4])P.L.push(O[2],Math.min(F,A,O[4][1]),O[2],Math.max(F,A,O[4][1]));else P.L.push(O[2],F,O[2],F+M.$)}if(O[3]!=1e9){P.J8.push("M","L");
var h=y+M.A;if(O[5])P.L.push(Math.min(y,h,O[5][0]),O[3],Math.max(y,h,O[5][0]),O[3]);else P.L.push(y,O[3],h,O[3])}if(P.L.length!=0){s.W.P6=P;
s.G_=!0}};$.$O.cs=function(s,M,O,P){var y=$.$O.adH(s,[[M.x],[M.y]],O,P);return new j6(M.x+y[0],M.y+y[1])};
$.$O.ws=function(s,M,O,P,y){var F=y==!0?1:.5,A=$.$O.adH(s,[[M.x,M.x+Math.round(M.A*F),M.x+M.A],[M.y,M.y+Math.round(M.$*F),M.y+M.$]],O,P);
return A};$.$O.adH=function(s,M,O,P){if(P==null)P=[!0,null,!0];var y=[0,0,1e9,1e9,null,null];if(!O.Po)return y;
var F=a.G(M);for(var A=0;A<2;A++){var h=1e9,m=M[A],Z=0,u=null;for(var f=0;f<m.length;f++){var U=$.$O.auv(s,m[f],F[1-A][f],A,O,P),C=U[0];
if(C!=1e9)F[A][f]=C;if(C!=1e9&&Math.abs(C-m[f])<Math.abs(h)){h=C-m[f];Z=C;u=U[1]}}if(h!=1e9){y[A]=h;
y[A+2]=Z;y[A+4]=u}}return y};$.$O.auv=function(s,M,O,P,y,F){var A=1e9,h=null,m=y.fA,Z=y.QZ,u=[s.root];
while(u.length!=0&&m[2]){var f=u.pop(),U=f.w,C=U.S;if(!U.CD())continue;if(f.children)for(var R=0;R<f.children.length;
R++)u.push(f.children[R]);if(s.Y.indexOf(f.index)!=-1||C.g3())continue;var H=C.A,t=H>>>1,X=C.$,Q=X>>>1,D=A;
if(P==0){if(Math.abs(C.x-M)<Math.abs(A-M))A=C.x;if(Math.abs(C.x+t-M)<Math.abs(A-M))A=C.x+t;if(Math.abs(C.x+H-M)<Math.abs(A-M))A=C.x+H}else{if(Math.abs(C.y-M)<Math.abs(A-M))A=C.y;
if(Math.abs(C.y+Q-M)<Math.abs(A-M))A=C.y+Q;if(Math.abs(C.y+X-M)<Math.abs(A-M))A=C.y+X}if(D!=A){h=[C.x+t,C.y+Q]}}var L=A;
A=1e9;if(F[0]&&m[0]&&Z.FQ&&y.he){var E=s.T_(),_=E[0],S=E[1],W=s.E8();for(var R=0;R<_.length;R++)if((S[R]==-1||S[R]==W)&&_[R][0]==P&&Math.abs(_[R][1]-M)<Math.abs(A-M))A=_[R][1]}if(m[1]&&Z.W2&&y.he){var g=P==0||Z.af==0?Z.Pt:Z.af,x=Math.round(a.f8.Yn(g/Z.Ms,s.FR,s.A,Z.CV));
if(P==1&&Z.fJ==1){var V=O*.5*Math.sqrt(4/3),b;x*=Math.sqrt(4/3);b=Math.round((M-V)/x)*x+V;if(Math.abs(b-M)<Math.abs(A-M))A=b;
b=Math.round((M+V)/x)*x-V;if(Math.abs(b-M)<Math.abs(A-M))A=b}else{var b=Math.round(M/x)*x;if(Math.abs(b-M)<Math.abs(A-M))A=b}}var N=s.$X;
if(m[3]&&Z.$X&&y.he&&N.length!=0){for(var R=0;R<N.length;R++){if(!F[2]&&s.MJ.indexOf(R)!=-1)continue;
var J=$.sc.kY(N,R);for(var K=0;K<3;K+=2)if(J[K+P]!=M&&Math.abs(J[K+P]-M)<Math.abs(A-M))A=J[K+P]}}if(F[1])for(var q=0;
q<F[1].length;q++){var C=F[1][q],H=C.A,X=C.$,t=H>>>1,Q=X>>>1;if(F[3]){t=H/2;Q=X/2}var d=[C.x,C.y,C.x+t,C.y+Q,C.x+H,C.y+X];
for(var R=0;R<6;R+=2)if(Math.abs(d[R+P]-M)<Math.abs(A-M))A=d[R+P]}if(m[4]){var C=new gi(0,0,s.A,s.$),W=s.E8();
if(W!=-1)C=s.U[W].Kj();var H=C.A,X=C.$,t=H>>>1,Q=X>>>1;if(F[3]){t=H/2;Q=X/2}var d=[C.x,C.y,C.x+t,C.y+Q,C.x+H,C.y+X];
for(var R=0;R<6;R+=2)if(Math.abs(d[R+P]-M)<Math.abs(A-M))A=d[R+P]}if(Math.abs(A-M)<=Math.abs(L-M))h=null;
else A=L;var l=Math.abs(A-M)<=4*$.yD()/s.i.xq?A:1e9;return[l,h]};$.sJ=function(){$.vm.call(this,[10,12],$.SG,"tools/mwand");
this.L$=null};$.sJ.prototype=new $.vm;$.sJ.prototype.rW=function(s,M,O,P){this.L$=P;this.anD=this.vn.wconf[0];
this.finish(s,M,O,P)};$.sJ.prototype.Sd=function(s,M,O,P,y){if(!P.cQ)return;var F=new kg(z.E.H);F.l=$.FZ;
F.data={Q:"h_stepbck"};y.a(F);var A=P.x-this.L$.x,h=Math.max(0,Math.min(255,Math.round(this.anD+A/4)));
this.vn.wconf[0]=h;this.LZ(y);this.finish(s,M,O,this.L$)};$.sJ.prototype.gF=function(s,M,O,P,y){this.vn.wconf[0]=this.anD;
this.LZ(y)};$.sJ.prototype.getSelection=function(s,M,O,P){var y=this.bc;y=s.i.ni(P.x,P.y);var F=$.vm.asb(new j6(Math.floor(y.x),Math.floor(y.y)),this.vn.wconf,this.vn.sall);
return F};$.sJ.ar1=function(s,M,O,P,y){if(M.x<0||M.x>s.A||M.y<0||M.y>s.$)return null;var F,A=new gi(0,0,s.A,s.$);
if(P)F=s.Ta();else{var h=s.Y.length,Z=null;if(h!=1){alert(h==0?"No layer selected.":"More than one layer selected.");
return null}var m=s.U[s.Y[0]],u=m.KV<=0?null:m.KV==1?m.Bl():m.UU(s).$E;if(y||u&&u.H7)Z=u;if(Z==null&&m.add.lsct!=null&&m.add.lsct!=dU.xu){alert("No layer selected.");
return null}if(Z==null&&A.s0(m.S))F=m.buffer;else{F=a.j(A.C()*4,s.depth);if(Z==null)a.FP(m.buffer,m.S,F,A);
else $.am.y_(Z.N,Z.S,Z.color,F,A)}}var f=$.sJ.BQ(F,A,M,null,O),U=a.xY(f,A),C=a.j(U.C(),s.depth);a.TT(f,A,C,U);
return{S:U,N:C}};$.sJ.zo=function(s,M,O){var P=M.A,y=M.$,A=0,h=0,m=0,Z=0;s=new Uint32Array(s.buffer);
var F=[],u=O.length;for(var R=0;R<u;R++){var f=O[R],U=Math.round(f.x-.5-M.x),C=Math.round(f.y-.5-M.y);
U=Math.max(0,Math.min(P-1,U));C=Math.max(0,Math.min(y-1,C));var H=C*P+U,t=s[H];F.push([t&255,t>>8&255,t>>16&255,t>>>24])}return F};
$.sJ.BQ=function(s,M,O,P,y){var F=a.$i(s);s=a.Gp(s,8);s=new Uint32Array(s.buffer);var A=M.A,h=M.$,m=A*h;
if(P==null)P=$.sJ.zo(s,M,[O]);var Z=Math.round(O.x-.5-M.x),u=Math.round(O.y-.5-M.y),f=u*A+Z,U=Date.now(),C=a.j(A*h),H=y[0],t=1/H,X=y[1]&&H>0?255:0;
if(y[2]){var Q=a.j(C.length),D=new Uint32Array(m),L=1;D[0]=Z<<16|u;Q[f]=1;while(L>0){var E=D[L-1];L--;
var _=E>>>16,S=E&65535,R=S*A+_,W=$.sJ.zR(s[R],P);if(W>H){var g=X*(1-Math.max(0,Math.min(1,(W-H)*t)));
C[R]=~~g}else{C[R]=255;if(S!=h-1&&Q[R+A]==0){D[L++]=_<<16|S+1;Q[R+A]=1}if(S!=0&&Q[R-A]==0){D[L++]=_<<16|S-1;
Q[R-A]=1}if(_!=A-1&&Q[R+1]==0){D[L++]=_+1<<16|S;Q[R+1]=1}if(_!=0&&Q[R-1]==0){D[L++]=_-1<<16|S;Q[R-1]=1}}}}else{for(var R=0;
R<m;R++){var W=$.sJ.zR(s[R],P);if(W<=H)C[R]=255}for(var S=0;S<h;S++)for(var _=0;_<A;_++){var R=S*A+_;
if(C[R]==0&&(_>0&&(C[R-1]==255||S>0&&C[R-A-1]==255||S<h-1&&C[R+A-1]==255)||_<A-1&&(C[R+1]==255||S>0&&C[R-A+1]==255||S<h-1&&C[R+A+1]==255)||S>0&&C[R-A]==255||S<h-1&&C[R+A]==255)){var W=$.sJ.zR(s[R],P),g=X*(1-Math.max(0,Math.min(1,(W-H)*t)));
C[R]=~~g}}}C=a.Gp(C,F);return C};$.sJ.zR=function(s,M){var O=M.length,P=$.sJ.alh(s,M[0]),R=1;while(R!=O){P=Math.min(P,$.sJ.alh(s,M[R]));
R++}return P};$.sJ.alh=function(s,M){var O=s&255,P=s>>>8&255,y=s>>>16&255,F=s>>>24&255;if(M[3]==0)return F<5?0:255;
var A=Math.max(Math.abs(O-M[0]),Math.max(Math.abs(P-M[1]),Math.abs(y-M[2])));return F==0?255:A};$.LW=function(s,M){if(M)$.am.call(this);
else if(s)$.am.call(this,[10,49],$.VH,"tools/camove");else $.am.call(this,[10,26],$.Jj,"tools/patch");
this.jf=null;this.qb=null;this.p=null;this.I7=null;this.a4D=new j6;this.aEl=null;this.aeu=null};$.LW.prototype=new $.am;
$.LW.prototype.nD=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y);if(s.h&&a.kP(F,s.h.N,s.h.S)){var A=new gi(0,0,s.A,s.$),h=A.OK(s.h.S);
if(!s.Y7()||h.g3())return;if(!0){var m=a.j(h.C(),s.depth);a.TT(s.h.N,s.h.S,m,h);s.h={N:m,S:h}}this.uK(s);
this.GD(s);this.I7=F;this.a4D=new j6(F.x-s.h.S.x,F.y-s.h.S.y);this.aeu=a.j(s.h.S.C()*4,s.depth);this.aeu.fill(a.Cs(s.depth));
if(this.vn.patch==1){var Z=s.U[s.Y[0]];Z.LY(s,s.h,!0);if(Z.na==null)this.I7=null}this.aEl=s.h.S.v()}else{this.qb={L:[F.x,F.y],J8:["M"]};
this.jf=F}};$.LW.prototype.nh=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y);if(this.I7){if(this.vn.patch==1){if(s.G7.length==0){var A=s.U[s.Y[0]].na,h=F.x-this.a4D.x,m=F.y-this.a4D.y;
$.$O.qn(s,s.Y[0],Math.round(h-A.iU.x),Math.round(m-A.iU.y))}}else this.aa5(s,F,"clone")}if(this.jf){this.qb.J8.push("L");
this.qb.L.push(F.x,F.y);this.jf=F;s.W.CU=this.qb;s.G_=!0}};$.LW.prototype.Cq=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y);
if(this.I7){var A=s.h.S.v();if(this.id==$.VH){var h=s.U[s.Y[0]];h.Pm(s,h.na);s.h.S=this.aEl.v();var m=a.j(s.h.S.C()*4,s.depth);
a.GS(s.h.N,m,3);this.E4(s,"sheal",m,s.h.S,s.h.S);s.h.S=A;A=A.v8(this.aEl)}this.aa5(s,F,"heal");this.finish(s,A,null,null,!0);
s.vw(A);this.I7=null}if(this.jf){var Z=$.vm.uA(this.vn.setop,P.D(hj.Y1),P.D(hj.tT)),u=new kg(z.E.fa,!0);
if(this.qb.L.length<=4)u.data=$.vm.l4();else u.data=$.vm.LK(this.qb.L,Z);M.a(u);this.jf=null;s.W.CU=null;
s.G_=!0}};$.LW.prototype.uD=function(){return this.p};$.LW.prototype.j9=function(s,M,O,P,y){$.am.prototype.j9.call(this,s,M,O,P,y);
this.Nn(y,P)};$.LW.prototype.Nn=function(s,M){var O="auto;";if(M!=null&&M.D(hj.Y1)&&!M.D(hj.tT)||this.vn.setop=="union")O="copy";
var P=new kg(z.E.c,!0);P.data={Q:z.J.ag,Fi:O};if(this.caller)this.caller.a(P)};$.LW.prototype.aa5=function(s,M,O){var P=new j6(Math.round(this.I7.x-M.x),Math.round(this.I7.y-M.y));
if(this.vn.patch==1)P.ee(-P.x,-P.y);this.p=P;this.E4(s,O,this.aeu,s.h.S,s.h.S);this.vw(s,s.h.S)};$.aDR=function(){$.LW.call(this,!0);
this.vn.patch=1};$.aDR.prototype=new $.LW(!0,!0);$.uT=function(s){if(s)$.am.call(this,[10,52],$.a2u,"tools/meraser");
else $.am.call(this,[10,13],$.ara,"tools/pbucket");this.YP=!1;this.auT=s};$.uT.prototype=new $.am;$.uT.prototype.enable=function(s,M,O,P){var y=new kg(z.E.c,!0);
y.data={Q:z.J.ag,Fi:"default"};M.a(y)};$.uT.prototype.qy=function(s,M){};$.uT.prototype.nD=function(s,M,O,P,y){if(this.HJ(s,M,O,P,y,!0))return;
this.YP=!0};$.uT.prototype.nh=function(s,M,O,P,y){if(this.HJ(s,M,O,P,y))return};$.uT.prototype.Cq=function(s,M,O,P,y,F){this.enable(s,M,O,P);
var A=this.YP;this.YP=!1;if(!A||F)return;if(!s.Y7())return;var h=s.i.ni(y.x,y.y),m=$.sJ.ar1(s,h,this.vn.wconf,this.vn.sall,!0);
if(m==null)return;if(s.h){var Z=s.h.S.OK(m.S);if(Z.C()<m.S.C()){var u=a.j(Z.C(),s.depth);a.TT(m.N,m.S,u,Z);
m.S=Z;m.N=u}}var f=a.j(m.S.C()*4,s.depth),U=a.Aj(O.UC,1);a.bJ(f,U.o,U.R,U.X);a.GS(m.N,f,3);this.uK(s);
this.E4(s,this.auT?"erase":"draw",f,m.S,m.S);this.vw(s,m.S);this.finish(s,m.S)};$.RD=function(){$.vm.call(this,[10,14],$.aL8,"tools/plasso");
this.eX=[];this.tm=null;this.qb=null;this.az2=0};$.RD.prototype=new $.vm;$.RD.prototype.disable=function(s,M,O,P){this.ec(s)};
$.RD.prototype.rW=function(s,M,O,P){this.eX=[hj.y6,hj.Di]};$.RD.prototype.cZ=function(s){return this.eX.indexOf(s)!=-1};
$.RD.prototype.cJ=function(s){return this.qb!=null};$.RD.prototype.b5=function(){return this.qb!=null};
$.RD.prototype.bA=function(){return this.qb!=null};$.RD.prototype.Sd=function(s,M,O,P){if(this.qb==null)return;
var y=this.qb,F=y.L,A=F.length-2,h=this.bc;if(this.yE.kU(1)&&O.D(hj.tT)&&P.cQ){F.push(0,0);y.J8.push("L");
A+=2}else if(O.D(hj.Y1))h=$.qM.LP(new j6(F[A-2],F[A-1]),h);F[A]=h.x;F[A+1]=h.y;s.W.CU=y;s.G_=!0};$.RD.prototype.gF=function(s,M,O,P){var y=Date.now();
if(this.qb==null)this.qb={L:[this.bc.x,this.bc.y,this.bc.x,this.bc.y],J8:["M","L"]};else{this.Sd(s,M,O,P);
if(y-this.az2<250||j6.gp(this.bc,new j6(this.qb.L[0],this.qb.L[1]))<$.fo(s,P)){this.tm=this.qb;this.finish(s,M,O,P);
this.ec(s);return}this.qb.J8.push("L");this.qb.L.push(this.bc.x,this.bc.y)}this.az2=y;s.W.CU=this.qb};
$.RD.prototype.ec=function(s){this.qb=null;this.eX=[];if(s!=null){s.W.CU=null;s.G_=!0}};$.RD.prototype.lJ=function(s,M,O,P){$.vm.prototype.lJ.call(this,s,M,O,P);
if(P.D(hj.ob)&&this.qb==null&&this.tm&&s.h!=null){var y=new kg(z.E.H);y.l=$.FZ;y.data={Q:"h_stepbck"};
M.a(y);this.rW(s,O,P,null);this.qb=this.tm;return}if(this.qb==null)return;if(P.D(hj.y6)||P.D(hj.Di)){this.qb.L.pop();
this.qb.L.pop();this.qb.J8.pop();this.Sd(s,O,P)}if(P.D(hj.$g)){if(this.qb.L.length>4){this.tm=this.qb;
this.finish(s,O,P)}this.qb=null}if(P.D(hj.ob)){this.qb=null}s.W.CU=this.qb;s.G_=!0};$.RD.prototype.getSelection=function(s,M,O,P){return $.vm.LK(this.qb.L,null,this.vn.anta)};
$.nn=function(){$.vm.call(this,[10,10],$.acC,"tools/mlasso");this.eX=[];this.u=[];this.sT=[];this.PO=[];
this.apU=null;this.aqp=0;this.aI=null;this.aV=null;this.vB=0;this.bo=0};$.nn.prototype=new $.vm;$.nn.prototype.disable=function(s,M,O,P){this.clear(s)};
$.nn.prototype.cJ=function(s){return this.u.length!=0};$.nn.prototype.bA=function(){return this.u.length!=0};
$.nn.prototype.cZ=function(s){return this.eX.indexOf(s)!=-1};$.nn.prototype.rW=function(s,M,O,P){this.eX=[hj.y6,hj.Di];
var y=this.NQ(this.$N,s);if(this.u.length!=0&&(j6.gp(y,this.u[0])<$.fo(s,P)||Date.now()-this.vB<300)){this.Zx(s,this.u[0]);
this.finish(s,M,O);this.clear(s);return}this.vB=Date.now();if(this.u.length!=0)y=this.t0(y,s);else{var F=s.A,A=s.$,h=a.Gp(s.Ta(),8),m=UZIP.adler(h,0,h.length);
if(m==this.aqp){}else{var Z=a.j(F*A),u=F*A*4;for(var R=0;R<u;R+=4)Z[R>>>2]=~~(.5+a.w6(h[R],h[R+1],h[R+2])*(h[R+3]*(1/255)));
this.apU=a.rS.a60(Z,F,A);this.aqp=m}this.aV=new Uint16Array(F*A)}this.Zx(s,y);this.bo=O.D(hj.tT)?1:0;
this.Ro(s)};$.nn.prototype.Zx=function(s,M){var O=this.u;this.sT[O.length]=this.PO.length;if(O.length!=0){a.rS.Vc(this.aI,M.y*s.A+M.x);
var P=this.JW(s,M);P.reverse();var y=$.nn.acI(s,P);this.PO=this.PO.concat(y)}O.push(M);this.aqq(s)};
$.nn.prototype.aqq=function(s){var M=this.u[this.u.length-1],O=M.y*s.A+M.x;this.aI=a.rS.aqA(this.apU,O,s.A,s.$);
this.aV.fill(0)};$.nn.prototype.NQ=function(s,M){return new j6(Math.floor(Math.max(0,Math.min(M.A-1,s.x))),Math.floor(Math.max(0,Math.min(M.$-1,s.y))))};
$.nn.prototype.clear=function(s){this.PO=[];this.u=[];this.sT=[];this.aI=null;this.aV=null;if(s!=null){s.W.CU=null;
s.W.oW=[];s.G_=!0}this.eX=[]};$.nn.prototype.Sd=function(s,M,O,P){var y=this.u,F=y.length;if(F==0)return;
var A=this.t0(this.NQ(this.bc,s),s),h=this.JW(s,A);for(var R=0;R<h.length;R++){var m=h[R],Z=new j6(m%s.A,Math.floor(m/s.A));
if(this.aV[m]>30&&j6.gp(Z,y[F-1])>20){this.Zx(s,Z);return}this.aV[m]++}if(this.bo==1&&P.cQ)this.Zx(s,A);
this.Ro(s)};$.nn.prototype.Ro=function(s){var M=this.u;if(M.length!=0){var O=this.t0(this.NQ(this.bc,s),s),P=this.JW(s,O);
P.reverse();var y=$.nn.acI(s,P),F=this.PO.concat(y),A=s.W.CU={L:F,J8:["M"]};for(var R=2;R<F.length;R+=2)A.J8.push("L")}s.W.oW=[];
for(var R=0;R<M.length;R++)s.W.oW.push(M[R].x+.5,M[R].y+.5);s.G_=!0};$.nn.prototype.gF=function(s,M,O,P){};
$.nn.prototype.lJ=function(s,M,O,P){if(this.u.length==0)return;if(P.D(hj.y6)||P.D(hj.Di)){this.u.pop();
this.PO=this.PO.slice(0,this.sT[this.u.length]);this.sT.pop();if(this.u.length==0)this.clear(s);else this.aqq(s);
this.Ro(s)}if(P.D(hj.$g)){var y=this.NQ(this.bc,s);this.Zx(s,y);this.finish(s,O,P);this.clear(s)}if(P.D(hj.ob)){this.clear(s)}};
$.nn.prototype.getSelection=function(s,M,O,P){return $.vm.LK(this.PO,null,this.vn.anta)};$.nn.prototype.JW=function(s,M){var O=this.u[this.u.length-1],P=O.y*s.A+O.x,y=M.y*s.A+M.x;
if(this.bo==1)return[y,P];var F=[y];while(y!=P){y=y+this.aI.r9[y];F.push(y);if(F.length>5e3){console.log(F);
throw"e"}}return F};$.nn.acI=function(s,M){var O=[],P=s.A;for(var R=0;R<M.length;R++){var y=M[R];O.push(y%P+.5,Math.floor(y/P)+.5)}return O};
$.nn.prototype.t0=function(s,M){var O=M.A,P=M.$,y=s.v(),A=3;a.rS.Vc(this.aI,s.y*O+s.x);var F=this.aI.v1[s.y*O+s.x];
for(var h=-A+1;h<A;h++)for(var m=-A+1;m<A;m++){var Z=s.x+m,u=s.y+h;if(Z<0||Z>=O||u<0||u>=P)continue;
a.rS.Vc(this.aI,u*O+Z);if(this.aI.v1[u*O+Z]<F)y.ee(Z,u)}return y};$.sO=function(){$._g.call(this,[10,36],$.uL,"tools/ruler");
this.Dx=null;this.NH=null;this.m$=null;this.a4P=null;this.aqD=null};$.sO.prototype=new $._g;$.sO.prototype.cJ=function(s){return s.cQ};
$.sO.prototype.enable=function(s,M,O,P){$._g.prototype.enable.call(this,s,M,P,O);if(s){this.rF(s)}};
$.sO.prototype.disable=function(s,M,O,P){if(s)this.ec(s)};$.sO.prototype.cu=function(s,M,O,P,y){if(s.Q=="unit"){var F=this.Dx,A=s.K;
O.Hx={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:A[0]},logicalLength:{t:"doub",v:A[1]},logicalUnits:{t:"TEXT",v:A[2]}}}};
this.eR(M,z.E.c,{Q:z.J.Qo,l:this.id,aEU:F[0],NU:F[1],S5:F[2],FR:O.FR,ahe:O.A,Hx:O.Hx})}if(s.Q=="reset"){this.Dx=this.m$=null;
this.rF(O)}};$.sO.prototype.nD=function(s,M,O,P,y){var F=$.fo(s,y),A=s.i.ni(y.x,y.y);A.x=Math.round(A.x);
A.y=Math.round(A.y);var h=this.Dx;this.NH=h?h.slice(0):null;var m=h&&j6.gp(A,h[0])<F,Z=h&&j6.gp(A,h[1])<F,u=h&&h[2]&&j6.gp(A,h[2])<F;
if(m||Z||u){if(P.D(hj.tT)&&h.length==2){if(Z){var f=h[0];h[0]=h[1];h[1]=f}h[2]=h[0].v();this.m$=[2]}else this.m$=[m?0:Z?1:2]}else if(h&&$.sO.aj3(h[0],h[1],A)<F&&Math.min(h[0].x,h[1].x)-5<=A.x&&A.x<=Math.max(h[0].x,h[1].x)+5&&Math.min(h[0].y,h[1].y)-5<=A.y&&A.y<=Math.max(h[0].y,h[1].y)+5){this.m$=[];
this.aqD=[];for(var R=0;R<h.length;R++){this.m$.push(R);this.aqD.push(h[R].v())}this.a4P=A}else{this.Dx=[A.v(),A.v()];
this.m$=[1]}};$.sO.prototype.nh=function(s,M,O,P,y){if(this.m$==null)return;var F=this.Dx,A=this.m$,h=s.i.ni(y.x,y.y);
h.x=Math.round(h.x);h.y=Math.round(h.y);if(A.length>1){var m=h.x-this.a4P.x,Z=h.y-this.a4P.y;for(var R=0;
R<F.length;R++){F[R]=this.aqD[R].v();F[R].offset(m,Z)}}else{F[A[0]].ee(h.x,h.y);if(P.D(hj.Y1)){F[A[0]]=$.qM.LP(F[1-A[0]],F[A[0]])}}this.rF(s);
this.eR(M,z.E.c,{Q:z.J.Qo,l:this.id,aEU:F[0],NU:F[1],S5:F[2],FR:s.FR,ahe:s.A,Hx:s.Hx});s.i.dO=a.b.q7([F[0].x,F[0].y,F[1].x,F[1].y])};
$.sO.prototype.Cq=function(s,M,O,P,y,F){this.m$=null;if(F){this.Dx=this.NH.slice(0);this.rF(s)}};$.sO.prototype.eR=function(s,M,O){var P=new kg(M,!0);
P.data=O;s.a(P)};$.sO.prototype.rF=function(s){var M=this.Dx;if(M==null)this.ec(s);else{var O=[M[1].x,M[1].y,M[0].x,M[0].y],P=["M","L"];
if(M.length>2){O.push(M[2].x,M[2].y);P.push("L")}s.W.CU={J8:P,L:O};s.W.oW=O}s.G_=!0};$.sO.prototype.ec=function(s){s.W.CU=null;
s.W.oW=[]};$.sO.aj3=function(s,M,O){var P=M.x-s.x,y=M.y-s.y,F=Math.abs(y*O.x-P*O.y+M.x*s.y-M.y*s.x),A=Math.sqrt(P*P+y*y);
return A==0?0:F/A};$.m7=function(){$.am.call(this,[10,19],$.vo,"tools/sharpen");this.HX="copy"};$.m7.prototype=new $.am;
$.m7.prototype.nD=function(s,M,O,P,y){var F=this.vn.pdetail?du.I1:du.vo;if(P.D(hj.tT))F=du.Jh;this.P4(s,O,P,y,this.vn.strn,F);
if(this.G2==null)return;this._M(s)};$.m7.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);
if(this.G2==null)return;if(!y.cQ)return;this.wn(s,O,P,y);this._M(s)};$.C_=function(){$.am.call(this,[10,24],$.E7,"tools/shbrush");
this.HX="draw";this.vn.opacity=.5};$.C_.prototype=new $.am;$.C_.prototype.nD=function(s,M,O,P,y){this.P4(s,O,P,y,1);
if(this.G2==null)return;this.GD(s);this._M(s)};$.C_.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);
if(this.BD)this.Z3(s,O,y);if(this.G2==null)return;if(!y.cQ)return;this.wn(s,O,P,y);this._M(s)};$.C_.prototype.Cq=function(s,M,O,P,y){if(this.G2==null)return;
this.E4(s,"sheal",this.G2.HT(),this.G2.Gt(),this.G2.Ao(),null);this.vw(s,this.G2.Ao());$.am.prototype.Cq.call(this,s,M,O,P,y)};
$.o_=function(){$.am.call(this,[10,20],$.r6,"tools/smudge");this.HX="copy"};$.o_.prototype=new $.am;
$.o_.prototype.nD=function(s,M,O,P,y){var F=this.vn.brush.toolOptions;this.P4(s,O,P,y,this.vn.strn,du.r6);
if(this.G2==null)return;this._M(s)};$.o_.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);
if(this.G2==null)return;if(!y.cQ)return;this.wn(s,O,P,y);this._M(s)};$.Dy=function(){$.am.call(this,[10,23],$.XY,"tools/sponge");
this.HX="sponge"};$.Dy.prototype=new $.am;$.Dy.prototype.nD=function(s,M,O,P,y){this.P4(s,O,P,y,this.vn.flow);
if(this.G2==null)return;this._M(s)};$.Dy.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);if(this.BD)this.Z3(s,O,y);
if(this.G2==null)return;if(!y.cQ)return;this.wn(s,O,P,y);this._M(s)};$.Ay=function(){$._g.call(this,[10,17],$.zY,"tools/zoom");
this.or=!1;this.rv=!0;this.PT=!1;this.jH=0;this.OS=null;this.As=null;this.a0w=0;this.vL=null;this.azU=0;
this.Zd=new kA([{name:[8,0],RU:"Ctrl + +"},{name:[8,1],RU:"Ctrl + -",dc:!0},{name:[20,3],RU:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],RU:"Ctrl + 1"}],[{g:z.E.H,l:$.zY,d:{Q:"zoom",rv:!0}},{g:z.E.H,l:$.zY,d:{Q:"zoom",rv:!1}},{g:z.E.H,l:$.zY,d:{Q:"adapt",K:"fitscr"}},{g:z.E.H,l:$.zY,d:{Q:"adapt",K:"pixel"}}])};
$.Ay.prototype=new $._g;$.Ay.prototype.z4=function(s,M,O,P,y){var F=this.Zd;F.T();F.parent=M;F.update(s,O);
var A=new kg(z.E.c,!0);A.data={Q:z.J.EU,uJ:F,x:y.DE+2,y:y.kC+1};M.a(A)};$.Ay.prototype.enable=function(s,M,O,P){this.A_(M,P);
if(s&&Date.now()-this.jH<300)this.cu({Q:"adapt",K:"pixel"},M,s,P,O);this.jH=Date.now()};$.Ay.prototype.nD=function(s,M,O,P,y){this.As=new j6(y.x,y.y);
this.a0w=s.i.xq;this.vL=s.i.p.v()};$.Ay.prototype.nh=function(s,M,O,P,y){if(this.As==null)return;var F=Math.exp(Math.log(this.a0w)+(y.x-this.As.x)/64);
F=Math.max(.02,Math.min($.Ay.i0[0],F));s.i.xq=this.a0w;s.i.p=this.vL.v();this.cu({Q:"zoom",xq:F,In:this.As,PT:this.PT},M,s,P,O)};
$.Ay.prototype.Cq=function(s,M,O,P,y){if(j6.gp(this.As,y)<4){var F=this.aFE(P);this.cu({Q:"zoom",rv:F,In:y,PT:this.PT},M,s,P,O)}this.As=null};
$.Ay.i0=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
$.Ay.EA=function(s,M,O,P){var y=1;while(s*y*1/2>O||M*y*1/2>P)y*=1/2;if(s*y*2/3>O||M*y*2/3>P)y*=1/2;else if(s*y>O||M*y>P)y*=2/3;
return y};$.Ay.aze=function(s,M){var O=$.Ay.ad4(s);if(M&&O==0)return s;if(!M&&O==$.Ay.i0.length-1)return s;
return $.Ay.i0[M?O-1:O+1]};$.Ay.ad4=function(s){var M=0;while($.Ay.i0[M]>s)M++;return M};$.Ay.TE=function(s,M,O,P){var y=s.ZK;
if(P==0||P==null){P=$.Ay.aze(s.xq,O);if(P==s.xq)return}var F=s.ni(M.x,M.y);if(dc==2){}else{F.x=Math.max(0,Math.min(y.A,F.x));
F.y=Math.max(0,Math.min(y.$,F.y))}if(!1){}else{var A=s._V(),h=s.xq/P;A.translate(-F.x,-F.y);A.scale(h,h);
A.translate(F.x,F.y);var m=s.p.y;s.atn(A)}};$.Ay.prototype.cu=function(s,M,O,P,y){if(s.Q=="pzoom"){if(typeof s.K=="string")return;
s={Q:"zoom",xq:s.K/100}}if(s.Q=="prvw"){O.add.prvw=1-O.add.prvw;O.G_=!0}var F=0,A=!1,h=null;if(s.Q=="adapt"){var m=0;
if(s.K=="pixel")m=1;if(s.K=="fitscr"){var m=0,Z=O.i.SB.A,u=O.i.SB.$,f=new gi(0,0,O.A,O.$),U=a.b.hC(f).L,C=new kp;
C.rotate(O.i.JL);a.b.M(U,C,U);var H=a.b.hG(U),t=y.vr?a.f8.z3+4:8;m=Math.min((Z-t*2)/H.A,(u-t*2)/H.$);
O.i.p.ee(0,0)}h=new j6(Math.round(O.i.SB.A/2),Math.round(O.i.SB.$/2));F=m;$.Ay.TE(O.i,h,A,F);O.DI=!0}if(s.Q.startsWith("multi")){function X(K){var B=K[0].x-K[1].x,p=K[0].y-K[1].y;
return Math.sqrt(B*B+p*p)}function Q(K){return new j6((K[0].x+K[1].x)/2,(K[0].y+K[1].y)/2)}function D(K){var B=K[0].x-K[1].x,p=K[0].y-K[1].y;
return Math.atan2(p,B)}var L=s.xF,E=Q(L);if(s.Q=="multidown"){this.OS=[L,O.i.xq,O.i.ni(E.x,E.y),O.i.JL]}else{var _=$.Ay.i0;
F=this.OS[1]*X(L)/X(this.OS[0]);F=Math.max(_[_.length-1],Math.min(_[0],F));if(F!=O.i.xq)$.Ay.TE(O.i,E,A,F);
var S=this.OS[2],W=O.i.D7(S.x,S.y),g=O.i.p;g.x=Math.round(g.x+E.x-W.x);g.y=Math.round(g.y+E.y-W.y);var x=this.OS[3]+(D(L)-D(this.OS[0])),V=2*Math.PI,b=[0,V/4,V/2,V*3/4,V];
while(x<0)x+=V;x=x%V;for(var R=0;R<b.length;R++)if(Math.abs(x-b[R])<.08){x=b[R];break}O.i.JL=x;O.DI=!0}}if(s.Q=="scroll"){h=s.In;
var _=$.Ay.i0,N=s.EW.y,J=1+Math.abs(N)*8e-4*(s.asz?10:1);if(N>0)J=1/J;F=O.i.xq*J;$.Ay.TE(O.i,h,A,Math.min(_[0],Math.max(_[_.length-1],F)));
O.DI=!0}if(s.Q=="zoom"){var K=s.PT?M.r0:[O];for(var R=0;R<K.length;R++){var q=K[R],d=q.i;h=s.In?s.In:new j6(Math.round(d.SB.A/2),Math.round(d.SB.$/2));
if(s.xq!=null)F=s.xq;else A=s.rv;$.Ay.TE(d,h,A,F);q.DI=!0}}if(s.Q=="mskView"){var l=O.U[O.Y[0]];if(l.KV<=0){l.KV=1;
O.GJ=!0}var T=l.KV==3?l.UU(O).$E:l.Bl();if(s.K==0){O.i.P7=[1,1,1];T.H7=!1}if(s.K==1){O.i.P7=[1,1,1];
T.H7=!0}if(s.K==2){O.i.P7=[0,0,0];T.H7=!0}for(var R=0;R<O.dj.length;R++)O.dj[R].H7=!1;O.G7=[];O.G_=!0}};
$.Ay.prototype.lJ=function(s,M,O,P){if(this.or!=P.D(hj.tT)){this.or=P.D(hj.tT);var y={Q:z.J.Qo,l:this.id,or:this.or},F=new kg(z.E.c,!0);
F.data=y;M.a(F);this.A_(M,P)}};$.Ay.prototype.A_=function(s,M){var O=new kg(z.E.c,!0),P=this.aFE(M);
O.data={Q:z.J.ag,Fi:P?"zoom-in":"zoom-out"};s.a(O)};$.Ay.prototype.j9=function(s,M,O,P){this.rv=s.rv;
this.PT=s.PT;this.A_(M,P)};$.Ay.prototype.aFE=function(s){var M=this.rv;if(s.D(hj.u_)&&s.D(hj.yu))M=!0;
if(this.or)M=!M;return M};$.Ay.ayP=function(s,M){if(s.D(hj.OA)||s.D(hj.ass)){M.l=$.zY;M.data={Q:"zoom",rv:!0}}if(s.D(hj.rl)){M.l=$.zY;
M.data={Q:"zoom",rv:!1}}if(s.D(hj.UZ)){M.l=$.zY;M.data={Q:"adapt",K:"fitscr"}}if(s.D(hj.KQ)){M.l=$.zY;
M.data={Q:"adapt",K:"pixel"}}};$.Y8=function(s,M,O){$._g.call(this,s,M,O);this.ZK=null;this.f=null;this.$V=null;
this.ahg=0;this.eY=null;this.o2=-1;this.aIi=null;this.arq=null};$.Y8.prototype=new $._g;$.Y8.xS=function(s,M){var O={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},P=s==null?{classID:"null",null:O,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:O,Usng:{t:"type",v:{classID:s}},__name:"Stroke"};
if(M)P.Prs={t:"bool",v:!0};return{Cw:s==null?"fill":"stroke",kT:P}};$.Y8.pS=function(R){var s={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},P;
if(R==3){var M=f7.Ht("Lyr",!0);M.v.unshift(s);return{Cw:"delete",kT:{classID:"Dlt",null:M}}}var M=f7.Ht("Path"),O={t:"obj ",v:[s]};
if(R<2)P={t:"enum",v:{vectorMaskEnabled:R==0?"RvlA":"HdAl"}};else P=f7.Ht("Path",!0);return{Cw:"make",kT:{classID:"Mk",null:M,At:O,Usng:P}}};
$.Y8.prototype.enable=function(s,M,O,P,y){this.f=O;var F=new kg(z.E.c,!0);F.data={Q:z.J.ag,Fi:"default"};
M.a(F)};$.Y8.prototype.z4=function(s,M,O,P,y){var F=s.Iv(),A=F[0],h=F[1];if(h.length==0)return;var m=A[h[0]],Z=m.add.vmsk,u=s.i.ni(y.x,y.y),f=4*$.yD()/s.i.xq,U=new gi(u.x-f,u.y-f,f*2,f*2),C=a.z.HV(Z.u,U)[0];
if(C.length!=0){Z.MO=C;s.G_=!0}var H=a.z.kP(Z.u,u).Fa;if(H!=-1){Z.Y=[H];s.G_=!0}var t=new kg(z.E.c,!0);
t.data={Q:z.J.Qo,l:this.id,Tu:y,Uc:s,f:O};M.a(t)};$.Y8.prototype.ad8=function(s,M){var O=new kg(z.E.c,!0);
O.data={Q:z.J.ko,dh:g5._s};if(!M.he)s.a(O);O.data={Q:z.J.ko,dh:g5.hk};if(!M.QZ.J4)s.a(O)};$.Y8.prototype.Iy=function(s,M,O,P,y){if(this.eY&&this.o2==-1){console.log("updating over live");
this.H5(s,O)}if([$.BI,$.pB,$.Kg,$.cv,$.uk].indexOf(this.id)!=-1)$._g.aK_.call(this,s,M,O,P);if(s==null)return;
if(O.zI!=this.id&&y==null)return;if(s.Y.length==0)return;var F=s.U[s.Y[0]],A=F.add.vmsk,h=F.add.vstk;
if(dc==0){var m=aV.Lj(F.add);this.ZK=s;this.$V=M;if(F.tE()&&A!=null&&(JSON.stringify(h)!=JSON.stringify(O.fe)||JSON.stringify(m)!=JSON.stringify(O.Zb))){this.ahg=Date.now();
var Z=new kg(z.E.c,!0);Z.data={Q:z.J.ko,dh:g5.IB,K:m};M.a(Z);Z.data={Q:z.J.ko,dh:g5.pj,K:h};M.a(Z)}}else{var u=null;
for(var R=0;R<s.Y.length;R++){var F=s.U[s.Y[R]],f=F.add.vstl;if(f==null)continue;if(u==null)u=a.G(f);
else{for(var U in f){if(u[U]==null)continue;if(f[U]==f.Jc){if(JSON.stringify(f[U])!=JSON.stringify(u[U]))delete u[U]}else if(f[U]==f.Tq){if(JSON.stringify(f[U])!=JSON.stringify(u[U]))delete u[U]}else if(f[U]!=u[U])delete u[U]}}}if(u==null)return;
var C=JSON.stringify(u);if(C!=JSON.stringify(O.S0)){var Z=new kg(z.E.c,!0);Z.data={Q:z.J.ko,dh:g5.vb,K:u};
M.a(Z)}}};$.Y8.prototype.qy=function(s,M){if(M==g5.Aw||M==g5.rT)this.Iy(null,null,s,null);if(this.ZK==null)return;
if(M==g5.rT||M==g5.IB||M==g5.pj){if(Date.now()-this.ahg<50)return;var O=M==g5.IB,P=this.ZK,y=O?s.Zb:s.fe,F=[],A=P.Y;
for(var R=0;R<A.length;R++){var h=A[R],m=P.U[h];if(!m.tE()||m.add.vmsk==null)continue;F.push(h)}var Z=new kg(z.E.H,!0);
Z.l=$.mu;Z.data={Q:ad.ME,nl:F,Ot:O,K:y};if(F.length!=0)this.$V.a(Z)}};$.Y8.prototype.aAv=function(s){if(typeof s=="number"){var M=new kg(z.E.fa,!0);
M.data=$.gw.Gk(0);M.data.kT.Usng.v.Type.v.Clr.v=a.wv.gN({o:s>>>16&255,R:s>>>8&255,X:s>>>0&255});this.$V.a(M)}};
$.Y8.prototype.cu=function(s,M,O,P,y){this.$V=M;if(s.Q=="newfill"){if(s.VK==0){var F=new kg(z.E.c,!0);
F.data={Q:z.J.xL,Rj:"colorpicker",mY:y.UC,h3:this.aAv.bind(this)};M.a(F)}}else if(s.Q=="smplp"){if(O==null)return;
var A=O.Iv(),h=A[0],m=A[1];if(m.length==0){alert("No paths selected");return}var Z=h[m[0]];if(Z.add.vmsk.Y.length<=0){alert("No paths selected");
return}if(this.oi==null){this.oi=Z.add.vmsk.v();this.Xc=JSON.stringify(Z.add.vogk);this.qb=Z;this.ZK=O}var F=new kg(z.E.c,!0);
F.data={Q:z.J.xL,Rj:"simplifypath",dK:100,Xp:this.az9.bind(this)};M.a(F)}else if(s.Q=="pathedit"){var u=s.tW,f="",U=O.J4.slice(0),C=O.J_.slice(0),H=O.J4.slice(0),t=O.J_.slice(0),X=O.vX,Q=O.vX;
if(u=="rnm"){var D=-1-s.Fa,L=U[D],E=fr.ce(s.name,L.add);if(D!=0)H[D]=E;else{t=[H.length];H.push(E);H[0]=fr.ce("Work Path")}f="Rename"}else if(u=="sspath"){if(s.K==-1){Q=-1;
t=[]}else if(s.K==1&&O.vX!=-1)t=[O.vX];else if(O.J_.length!=0){if(O.I2){alert("Symmetry can't be used in the Pattern Preview");
return}Q=O.J_[0]}else return;f="Symmetry"}else if(u=="new"){var E=fr.ce("Path "+U.length);if(s.fp)E=s.fp;
if(s.aqT){var A=O.Iv(),h=A[0],m=A[1],_=h[m[0]];E.add.vmsk=_.add.vmsk.v();E.add.vogk=a.G(_.add.vogk);
if(_.Fa==-1){var S=H[t[0]]=fr.ce("Path "+U.length);S.name=_.name;S.Fa=_.Fa}}H.push(E);t=[H.length-1];
f="New";if(s.gT!=null){if(O.I2){alert("Symmetry can't be used in the Pattern Preview");return}var W=s.gT[0],g=s.gT[1];
E.name=aW.get(a.IN.list[W][0]);var x=a.IN.JW(W,g),V=Math.min(O.A,O.$),b=(O.A-V)/2,N=(O.$-V)/2;a.b.M(x.L,new kp(V,0,0,V,b,N),x.L);
E.add.vmsk.u=a.b.Ie(x);E.gT=[a.IN.list[W][1],g];Q=t[0];f="New Symmetry"}}else if(u=="del"){if(O.XK&&O.XK.length!=0){var F=new kg(z.E.fa,!0);
F.data=$.Y8.pS(3);M.a(F)}if(t.length==0)return;t.sort(function(K,o){return K-o});if(t[0]==0){H[0]=fr.ce(U[0].name);
t=t.slice(1)}var J=0;while(t.length!=0){H.splice(t[0]-J,1);t=t.slice(1);J++}f="Delete"}else if(u=="fromsel"){var Z=H[0]=fr.ce("Work Path");
t=[0];$.Y8.ay6(O.h,Z);f="Selection to"}var K=new aA(f+" Path",this);K.data={NH:U,ags:C,apt:H,aG9:t,apH:X,aLK:Q};
if(u=="fromsel"){K.data.Cm=O.h;K.data.bm=null}O.Bx(K);this.n5(K.data,O);if(u=="new"&&s.gT||u=="sspath"&&s.K!=-1){var F=new kg(z.E.c,!0);
F.data={Q:z.J.LT,l:$.wO};M.a(F)}}else{var q=s.SD,A=O.Iv(s.Q=="append"||s.Q=="fromAction"),h=A[0],m=A[1],Z=h[m[0]],d=Z.add.vmsk,l=Z.add.vogk,T=d.v(),B=d.v(),p=JSON.stringify(l);
if(s.Q=="fromAction"){var I=s.Q1,w=I.Cw,e=I.kT,G=e.T;if(w=="set"){if(G){l=[a.cV.Rn(G,O.A,O.$)];B.u.push({I:0,VF:1,length:0});
a.cV.hl(l,B);q=[12,76,0]}else throw e}else if(w=="draw"){l=[a.cV.Rn(e.Shp,O.A,O.$)];B.u.push({I:0,VF:1,length:0});
a.cV.hl(l,B);$.Y8.aio(B.u,e.AntA.v,y.UC,M);return}else throw w}else if(s.Q=="remove"){if(s.r4&&B.MO.length!=0){B.u=a.z.a9Q(B.u,B.MO,l,s.ar9);
var j=a.z._i(B.u);for(var R=0;R<B.Y.length;R++)if(B.Y[R]>=j){B.Y.splice(R,1);R--}B.MO=[];q="Delete Anchors"}else{if(B.Y.length==0)return;
var J=0;for(var R=0;R<B.Y.length;R++){l.splice(B.Y[R]+J,1);J--}B.u=a.z.aKn(B.u,B.Y);B.Y=[];B.MO=[];if(q==null)q="Delete Paths"}}if(s.Q=="append"){$.Y8.oY(s.aCP,B,l)}this.Ci(O,Z.Fa,B,l);
this.Fo(O,q,Z.Fa,T,B.v(),null,p,JSON.stringify(l))}};$.Y8.ay6=function(s,M){if(s==null)return;var O=s.N.slice(0);
for(var R=0;R<O.length;R++)O[R]=O[R]>128?2:1;var P=s.S.v();P.rX(1,1);var y=a.j(P.C());a.TT(O,s.S,y,P);
var F=iq.Lm(y,P.A,P.$,Math.round(P.C()*2e-5)),A=iq.Iv(F),h=new kp(1,0,0,1,-1+s.S.x,-1+s.S.y);for(var R=0;
R<A.length;R++)a.b.M(A[R].path.L,h,A[R].path.L);for(var R=0;R<A.length;R++){var m=A[R];if(m.color==1&&m.parent==-1)continue;
var Z=a.b.Ie(A[R].path,!1);Z[2].VF=0;M.add.vmsk.u=M.add.vmsk.u.concat(Z.slice(2))}M.add.vogk=ad.$k(M.add.vmsk.u)};
$.Y8.aio=function(s,M,O,P){var y=new ad.Vp;y.u=y.u.concat(s.slice(2));var F=y.Bl();if(!M)a.round(F.N);
var A=a.j(F.S.C()*4);a.vK(A,(O&255)<<16|(O>>8&255)<<8|(O>>16&255)<<0);a.GS(F.N,A,3);var h=new kg(z.E.H,!0);
h.l=$.pr;h.data={Q:"draw",PA:{buffer:A,S:F.S.v()},SD:this.name};P.a(h)};$.Y8.jh=function(s,M){var O=a.z.aKT(s.u,s.Y),P=[];
for(var R=0;R<s.Y.length;R++)P.push(a.G(M[s.Y[R]]));return[O,P]};$.Y8.oY=function(s,M,O){var P=a.z._i(M.u),y=a.z._i(s[0]);
M.u=M.u.concat(s[0].slice(2));M.Y=[];for(var R=0;R<y;R++)M.Y.push(P+R);for(var R=0;R<y;R++)O.push(a.G(s[1][R]))};
$.Y8.prototype.cZ=function(s,M){if(M==null)return!1;var O=M.Iv(),P=O[0],y=O[1];if(y.length==0)return!1;
var F=P[y[0]],A=F.add.vmsk;if(A&&A.Y.length+A.MO.length!=0)return[hj.y6,hj.Di].indexOf(s)!=-1};$.Y8.prototype.lJ=function(s,M,O,P){if(s==null)return;
var y=s.Iv(),F=y[0],A=y[1];if(A.length==0)return;var h=F[A[0]],m=h.add.vmsk;if(P.D(hj.ob)||P.D(hj.$g)||this.id==$.np&&P.D(hj.I0)&&m.MO.length==1){m.MO=[];
s.G_=!0}if(m.Y.length!=0){var Z=P.Ry(s?s.i.JL:0);if(Z.x!=0||Z.y!=0){var u=m.v(),f=m.v(),U=new kp(1,0,0,1,Z.x,Z.y),C=h.add.vogk,H=JSON.stringify(C);
if(P.D(hj.tT)){var t=$.Y8.jh(f,C);$.Y8.oY(t,f,C)}a.z.R7(f.u,U,f.Y);a.cV.M(C,a.F.y1(U),f.Y);this.Ci(s,h.Fa,f,C);
this.Fo(s,"Move Paths",h.Fa,u,f.v(),!0,H,JSON.stringify(C))}if(P.D(hj.y6)||P.D(hj.Di))this.cu({Q:"remove",r4:this.id==$.np},M,s,P,O)}};
$.Y8.prototype.Fo=function(s,M,O,P,y,F,A,h){var m=new aA(M,this);m.data={p2:O,anT:P,aP:y,atz:F,asJ:A,ahj:h};
s.Bx(m)};$.Y8.prototype.n5=function(s,M){if(s.p2!=null)this.Ci(M,s.p2,s.aP.v(),JSON.parse(s.ahj));else{M.J4=s.apt.slice(0);
M.J_=s.aG9.slice(0);M.G_=M.GJ=!0}if(s.Cm||s.bm){M.h=s.bm;M.Yw=!0}if(s.aLK!=null)M.vX=s.aLK};$.Y8.prototype.QB=function(s,M){if(s.p2!=null)this.Ci(M,s.p2,s.anT.v(),JSON.parse(s.asJ));
else{M.J4=s.NH.slice(0);M.J_=s.ags.slice(0);M.G_=M.GJ=!0}if(s.Cm||s.bm){M.h=s.Cm;M.Yw=!0}if(s.apH!=null)M.vX=s.apH};
$.Y8.prototype.Ci=function(s,M,O,P){var y=M<0?s.J4[-1-M]:M<1e6?s.U[M]:s.U[M-1e6].add.TySh,F=y.add.vmsk;
F.N=null;F.oy=!0;if(F.Xw){F.Xw.N=null;F.Xw.oy=!0}y.add.vmsk=O;y.add.vogk=P;if(1e6<=M){iP.Cg(y);var A=s.U[M-1e6],h=y,m=this.f;
bZ.lC(A,m.s4);s.vw()}else if(0<=M){O.oy=!0;y.uH(s);s.vw()}s.G_=s.GJ=!0};$.Y8.prototype.H5=function(s,M,O){if(!O)this.at3(s,M);
var P=s.Iv(),y=P[0],F=P[1];for(var A=0;A<F.length;A++){var h=y[F[A]],m=a.cV.a1Q(h.add.vogk,h.add.vmsk.Y,s.i);
if(m==null)continue;s.G_=!0;if(m[1])s.W.jT=m[1];if(O){this.eY[0]=m;return}var Z=new aj(m[3],!1,!1);Z.p0(s,M);
this.eY=[m,Z,h]}};$.Y8.prototype.at3=function(s,M){var O=this.eY;if(O==null)return;s.W.jT=[];s.W.zp=[];
O[1].clear(s);this.eY=null};$.Y8.prototype.ag$=function(s,M,O,P,y){var F=this.eY,A=this.o2;if(F==null)return!1;
var h=s.i.ni(y.x,y.y);if(A!=-1){var m=F[0],Z=F[1],u=F[2],f=this.oi.v(),U=JSON.parse(this.Xc);if(A==10){F[1].nh(s,O,P,h);
var C=a.F.da(F[1].yK()),H=a.F.u2(C,a.F.or(this.arq));a.cV.M(U,H,f.Y);a.cV.hl(U,f);this.Ci(s,u.Fa,f,U)}else{var t=JSON.parse(this.aIi),X=new j6(m[2][A*2],m[2][A*2+1]),Q=new j6(m[4][0],m[4][1]),D=Math.round(j6.gp(X,h)/Math.sqrt(2));
if(j6.gp(h,Q)>j6.gp(X,Q))D=0;$._g._D(y.x+20,y.y,[aW.get([12,56])+": "+D+" px"],s);if(t[0]==8)t[3]=D;
else{var L=D-t[3][A];if(P.D(hj.tT))t[3][A]=D;else for(var R=0;R<4;R++)t[3][R]=Math.max(t[3][R]+L,0)}var E=new kg(z.E.H,!0);
E.l=$.mu;E.data={Q:ad.GB,K:t};M.a(E)}this.H5(s,O,!0);return!0}else{var _=F[1].X0(h,s.i.xq,!0);if(_==null&&F[0][1]){var S=a.b.Sk(F[0][1],h.x,h.y,7/s.i.xq);
if(S!=-1)_="default"}var E=new kg(z.E.c,!0);E.data={Q:z.J.ag,Fi:_?_:$.xl()};M.a(E)}};$.Y8.prototype.aEh=function(s,M,O,P,y){var F=this.eY;
if(F==null)return!1;var A=s.i.ni(y.x,y.y),h=-1;if(F[1].X0(A,s.i.xq,!0)&&F[1].nD(s,O,P,A))h=10;else if(F[0][1]){var m=a.b.Sk(F[0][1],A.x,A.y,7/s.i.xq);
if(m!=-1)h=m}if(h!=-1){var Z=F[2];this.oi=Z.add.vmsk.v();this.Xc=JSON.stringify(Z.add.vogk);this.o2=h;
this.aIi=JSON.stringify(a.cV.da(s));this.arq=a.F.da(F[1].yK());return!0}};$.Y8.prototype.ahk=function(s,M,O,P,y){var F=this.eY,A=this.o2;
if(A==-1)return!1;var h=s.i.ni(y.x,y.y);if(A==10){F[1].Cq(s,O,P,h);var m=F[2];this.Fo(s,[10,16],m.Fa,this.oi,m.add.vmsk,null,this.Xc,JSON.stringify(m.add.vogk))}this.o2=-1;
this.H5(s,O)};$.gw=function(s,M,O,P){$.Y8.call(this,s,M,O);this.vn={shape:dM.Jb(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{t:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.amT=P;this.Rf=null;this.asV=null;this.Ke=null;this.yE=new iH};$.gw.prototype=new $.Y8;$.gw.prototype.cJ=function(s){return s.cQ&&this.id!=$.dF};
$.gw.prototype.enable=function(s,M,O,P,y){this.f=O;var F=new kg(z.E.c,!0);F.data={Q:z.J.ag,Fi:$.xl()};
M.a(F);this.H5(s,O)};$.gw.prototype.disable=function(s,M,O,P){this.at3(s,O)};$.gw.prototype.lJ=function(s,M,O,P){$.Y8.prototype.lJ.call(this,s,M,O,P);
this.yE.lJ(P);this.Fd(M,O)};$.gw.prototype.Fd=function(s,M){var O=new kg(z.E.c,!0);O.data={Q:z.J.Qo,l:this.id,fv:this.ir(M)};
s.a(O)};$.gw.prototype.ir=function(s){var M=this.yE.ew(0),O=this.yE.kU(0),P=$.vm.uA(this.vn.binop,M,O),y=this.id==$.dF?s.va:s.IP;
if(y==1&&P==0)P=1;return P};$.gw.prototype.EO=function(s,M,O,P){};$.gw.prototype.nD=function(s,M,O,P,y){if(this.aEh(s,M,O,P,y))return;
var F=this.id==$.dF?O.va:O.IP;if(F!=2)this.ad8(M,O);if(F==2&&!s.Y7())return;var A=s.i.ni(y.x,y.y);A=$.$O.cs(s,A,O);
this.Ke=[A.x,A.y];this.Rf=A;this.asV=new j6(0,0);this.yE.nD(P)};$.gw.prototype.a1P=function(s,M,O,P){var y=[this.Rf.v(),M.v()];
O=this.yE.ew(1)||O.D(hj.Y1)||this.yE.kU(1)?O:null;if(this.amT)y=$.gw.D0(y[0],y[1],O,!0,this.vn.cstr);
if(s)s.i.dO=new gi(y[0].x,y[0].y,y[1].x-y[0].x,y[1].y-y[0].y);return this.EO(y[0],y[1],this.yE.ew(1)&&O.D(hj.Y1),this.Ke,s.i,P)};
$.gw.prototype.akh=function(s,M,O){var P=s.i.ni(M.x,M.y);if(this.id==$.dF)return P;var y=this.vn.cstr;
if(y.t==2){var F=new gi(P.x-y.x,P.y-y.y,y.x,y.y),A=$.$O.ws(s,F,O);P.x+=A[0];P.y+=A[1];$.$O.ea(s,F,A)}else P=$.$O.cs(s,P,O);
return P};$.gw.prototype.nh=function(s,M,O,P,y){if(this.ag$(s,M,O,P,y))return;if(this.Rf==null)return;
var F=this.Ke,A=F.length,h=y?this.akh(s,y,O):new j6(F[A-2],F[A-1]);if(P.D(hj.u_))this.Rf=h.TA(this.asV);
else this.asV=h.TA(this.Rf);F.push(h.x,h.y);if(this.vn.shape==null)this.vn.shape=O.nu[0];var m=this.a1P(s,h,P,!0)[0],Z=a.b.TM(m);
s.W.CU=Z;if(this.id!=$.dF&&this.id!=$.Kg&&this.id!=$.cv)$._g.Be(y,s.i.dO,s,O);s.G_=!0;this.yE.nh()};
$.gw.prototype.aK3=function(s,M,O,P){var y=s[4].v();if(P){y.x-=M/2;y.y-=O/2}if(this.id==$.Kg){M/=2;O/=2;
y.x+=M;y.y+=O;O=-O;M=0}var F=this.EO(y,new j6(y.x+M,y.y+O),!1,this.Ke);this.afj(s[0],s[1],s[2],F)};$.gw.prototype.afj=function(s,M,O,P){var y=this.id==$.dF?O.va:O.IP,F=new kg(z.E.fa,!0);
if(y==0)F.data=$.gw.a9i(P[1],O);else if(y==1){var A={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:P[1]};
F.data={Cw:"set",kT:A}}else{var A={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:P[1]};F.data={Cw:"draw",kT:A}}M.a(F);
if(P[1].v.classID=="customShape"&&P[1].v.Nm.v.startsWith("--")){var h=s.Iv(),m=h[0],Z=h[1],u=m[Z.pop()],f=u.add.vmsk,U=u.add.vogk;
a.cV.aj0(U);var C=f.v();C.u=P[0];this.Ci(s,u.Fa,C,U)}if(this.id==$.BI||this.id==$.pB){var h=s.Iv(),m=h[0],Z=h[1],u=m[Z.pop()],f=u.add.vmsk;
f.Y=[0];this.H5(s,O)}};$.gw.prototype.Cq=function(s,M,O,P,y,F){if(this.ahk(s,M,O,P,y))return;if(this.Rf==null)return;
var A=this.akh(s,y,O),h=this.ir(O),m=this.id==$.dF?O.va:O.IP,Z=this.Ke,u=Z.length;if(this.id==$.dF&&u<=4){}else if(u<=4){A.x=Math.round(A.x);
A.y=Math.round(A.y);var f=new kg(z.E.c);f.data={Q:z.J.xL,Rj:"createshape",abj:this.aK3.bind(this),a3E:this.name,a0F:[s,M,O,P,A]};
if(!F)M.a(f)}else if(u!=2){var U=this.a1P(s,A,P),C=U[0],H=s.Iv(!0),t=H[0],X=H[1],Q=X.length-1;if(m==1&&C.length>2||m==0&&h!=0&&Q!=-1&&t[X[Q]].Fa>=0){C[2].VF=[1,2,3,0][h-1];
var D=t[X.pop()],L=D.add.vmsk,E=D.add.vogk,_=L.v(),S=L.v(),W=JSON.stringify(E);S.u=S.u.concat(C.slice(2));
S.Y=[a.z._i(S.u)-1];var g=a.cV.Rn(U[1]);E.push(g?g:a.cV.li());this.Ci(s,D.Fa,S,E);this.Fo(s,this.name,D.Fa,_,S,null,W,JSON.stringify(E))}else if(m==0){this.afj(s,M,O,U)}else if(m==2){$.Y8.aio(C,this.vn.anta,O.UC,M)}}this.Rf=null;
s.W.CU=null;s.W.P6=null;s.W.zp=[];s.i.dO=null;s.G_=!0;this.yE.Cq();this.Fd(M,O)};$.gw.prototype.j9=function(s,M,O,P,y){for(var O in s)this.vn[O]=s[O]};
$.gw.D0=function(s,M,O,P,y){var F=s.x,A=s.y,h=M.x,m=M.y;if(y&&y.t==2){if(P){h=Math.round(h);m=Math.round(m)}F=h-y.x;
A=m-y.y}else{var Z=0;if(y&&y.t==1)Z=y.y/y.x;else if(O&&O.D(hj.Y1))Z=1;if(Z!=0){if(P){if(F<h)F=Math.floor(F);
else F=Math.ceil(F);if(A<m)A=Math.floor(A);else A=Math.ceil(A)}var u=Math.abs(h-F),f=Math.abs(m-A),U=u;
if(f/u<Z)U*=f/u/Z;h=h>F?F+U:F-U;m=m>A?A+U*Z:A-U*Z}if(O&&O.D(hj.tT)){F-=h-F;A-=m-A}}var s=new j6(F,A),M=new j6(h,m);
if(P)$.gw.aKM(s,M);return[s,M]};$.gw.aKM=function(s,M){if(s.x>M.x){var O=s.x;s.x=M.x;M.x=O}if(s.y>M.y){var O=s.y;
s.y=M.y;M.y=O}s.x=Math.floor(s.x);s.y=Math.floor(s.y);M.x=Math.ceil(M.x);M.y=Math.ceil(M.y)};$.gw.aCY=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
$.gw.Gk=function(s,M){var O=$.gw.aCY(),P=O.Usng.v.Type;if(M==null){P.v=a.G(aV.Qp[s]);P.v.classID=["solidColorLayer","gradientLayer","patternLayer"][s]}else $.HH.yS(M,P.v,s);
return{Cw:"make",kT:O}};$.gw.a9i=function(s,M){var O=M.Zb,P=a.G(M.fe);P.fillEnabled.v=O.tn!=0;var y=$.gw.Gk(Math.max(0,O.tn-1),O.Rw);
y.kT.Usng.v.Shp=s;y.kT.Usng.v.strokeStyle={t:"Objc",v:P};return y};$.rP=function(s){$.Y8.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][s],[$.np,$.aKV,$.arl,$.acZ,$.aEG][s],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][s]);
this.bo=s;this.qf=null;this.Df=null;this.oi=null;this.Xc=null;this.afE=0;this.Bq=null;this.V9=!1;this.aG=!1;
this.a8C=!1;this.XL=!1;this.azM=!1;this.afs=!1;this.jH=0};$.rP.prototype=new $.Y8;$.rP.prototype.cJ=function(s){return this.oi!=null};
$.rP.prototype.lJ=function(s,M,O,P){if(!P.D(hj.tT))this.azM=!1;if(this.bo==1&&(P.D(hj.y6)||P.D(hj.Di))&&this.cZ(hj.y6,s)){this.cu({Q:"remove",r4:!0},M,s,P,O);
return}if(this.Df)this.Nn(s,M,O,P,this.Df);$.Y8.prototype.lJ.call(this,s,M,O,P)};$.rP.prototype.Of=function(s,M,O,P){var y=s.i.ni(P.x,P.y,!0),F=$.$O.cs(s,y,M),A=this.bo,h=M.va,m=this.afE;
if(h==2)h=0;var Z=s.Iv(),u=Z[0],f=Z[1],U=f.length==0?null:u[f.pop()],C=U?U.add.vmsk:null;if(h==0&&m!=0&&U&&U.Fa>=0)h=1;
var H=$.fo(s,P);if(A<=1&&h==0&&(C==null||C.MO.length==0&&a.z.kP(C.u,y,!0,H).Fa==-1))return["new",!0];
if(A<=1&&h==1&&C==null)return["new"];if(C==null)return[null];var t=C.u,X=a.z.HV(t,new gi(y.x-H,y.y-H,H*2,H*2),C.MO,!0),Q=a.z.kP(t,y,!0,H);
if(A<3&&Q.Fa!=-1&&X[0].length==0)return["add"];if((X[3]!=0||Q.Fa!=-1)&&(O.D(hj.tT)||A==4))return["cnv"];
var D=X[0].length==1&&t[X[0][0]-1]&&(t[X[0][0]-1].nr!=null||t[X[0][0]-1].I==0||t[X[0][0]-1].length==1);
if(D)return[A==0||A==3?"del":A==2?"mva":"mov"];if(A<2){var L=a.z.AS(t,a.z.Vz(t,C.MO[0]));if(L!=-1&&j6.gp(y,t[L+1].nr)<H)return["fin"];
if(C.MO.length!=1)return["new"];return["nrm"]}return[null]};$.rP.prototype.nD=function(s,M,O,P,y){var F=s.J_.indexOf(0)!=-1,A=s.i.ni(y.x,y.y,!0),h=$.$O.cs(s,A,O),m=this.bo,Z=O.va,u=this.afE;
if(Z==2)Z=0;var f=s.Iv(Z==1),U=f[0],C=f[1],H=U[C.pop()],t=H?H.add.vmsk:null;if(Z==0&&u!=0&&H&&H.Fa>=0)Z=1;
var X=$.fo(s,y),Q=this.Of(s,O,P,y);if(Q[0]==null)return;if(Q[1]){var D=new kg(z.E.fa,!0),L=a.cV.Qu("customShape",[0,0,1,1],null,null,null,"--");
D.data=$.gw.a9i(L,O);M.a(D);this.afs=!0;f=s.Iv(!0);U=f[0];C=f[1];H=U[C.pop()];t=H.add.vmsk;t.u=t.u.slice(0,2)}var E=H.add.vogk,_=t.u;
this.oi=t.v();this.Xc=JSON.stringify(E);if(H.name=="Work Path"&&!F){_=t.u=_.slice(0,2);E=[]}this.qf=y;
this.ad8(M,O);var S=a.z.HV(_,new gi(A.x-X,A.y-X,X*2,X*2),t.MO,!0),W=a.z.kP(_,A,!0,X);if(Q[0]=="add"){var g=a.z.AS(_,W.Fa),x=_[g].length;
while(x<=W.nI){W.nI-=x;g+=x+1}var V={I:4,Rb:h.v(),nr:h.v(),XO:h.v()},b=g+2+W.nI,N=g+1+(1+W.nI)%x,J=_[b-1],K=_[N];
if(!J.nr.s0(J.XO)||!K.Rb.s0(K.nr)){var q=a.b.aHO(J.nr,J.XO,K.Rb,K.nr,W.Uj);J.XO=q[0];V.Rb=q[1];V.nr=q[2];
V.XO=q[3];K.Rb=q[4]}this.XL=!0;_.splice(b,0,V);_[g].length++;t.MO=[b];if(m==1){V.Rb.x+=2;this.WM(t)}}else if(Q[0]=="cnv"){var d=-1;
if(S[0].length!=0){d=S[0][0];var l=_[d],T=l.I>=3?3:0,B=d==_.length-1;l.I=T+1;if(!(m==4&&P.D(hj.tT))&&!(m==0&&B))l.Rb=l.nr.v();
l.XO=l.nr.v();this.XL=!0;if(m==0&&!B)this.azM=!0}else if(S[1].length+S[2].length!=0){var d=S[2][0];if(d==null){d=S[1][0];
this.aG=!0}var l=_[d],T=l.I>=3?3:0;l.I=T+2}else d=a.z.AS(_,W.Fa)+W.nI+1;if(d!=-1)t.MO=[d]}else if(Q[0]=="mva"){this.a8C=!0;
t.MO=[S[0][0]]}else if(Q[0]=="mov"){var d=S[0][0],p=_[d],I=p.nr,w=Math.abs(a.b.fZ(p.Rb.x,p.Rb.y,I.x,I.y,p.XO.x,p.XO.y));
if(w>.01){p.Rb=I.v();p.XO=I.v()}if(Date.now()-this.jH<300){var e=p.Rb.s0(I)&&p.XO.s0(I);if(e)p.XO.offset(2,2);
else{p.Rb=I.v();p.XO=I.v()}this.jH=0}else this.jH=Date.now();t.MO=[d];this.WM(t)}else if(Q[0]=="del"){var d=S[0][0],g=a.z.AS(_,a.z.Vz(_,d)),L=_[g],G=g+L.length;
if(d!=G||L.I==0){_[g].length--;_.splice(d,1);G--;if(L.length==0){_.splice(g,1);G=-1}}if(G!=-1)t.MO=[G];
else t.MO=[]}else if(Q[0]=="fin"){var g=a.z.AS(_,a.z.Vz(_,t.MO[0]));_[g].I=0;t.MO=[g+1];this.Bq=h;this.V9=!0;
this.XL=!0}else{var j=0;if(Q[0]=="new"){t.Y=[a.z._i(_)];_.push({I:3,length:1,VF:[1,2,3,0][Math.max(0,u-1)],gW:2,zm:0,fd:0});
j=_.length;E.push(a.cV.li())}if(Q[0]=="nrm"){var g=a.z.AS(_,a.z.Vz(_,t.MO[0])),p=g+_[g].length;_[g].length++;
j=p+1;if(p==g+1&&_[g].length!=2)j=g+1}if(P.D(hj.Y1)&&_[j-1]&&_[j-1].nr)h=$.qM.LP(_[j-1].nr,h);var V={I:4,Rb:h.v(),nr:h.v(),XO:h.v()};
_.splice(j,0,V);t.MO=[j];this.Bq=h;if(this.bo==1){V.Rb.x+=2;this.WM(t)}this.XL=!0;this.jH=Date.now()}this.Ci(s,H.Fa,t,E);
s.G_=!0};$.rP.prototype.WM=function(s){var M=s.u,O=s.MO[0],P=a.z.AS(M,a.z.Vz(M,O))+1,y=M[P-1].length;
if(y<3)return;var F=[],A=[];for(var R=0;R<5;R++){var h=P+(O-P-2+R+5*y)%y;A.push(h);var m=M[h].nr;F.push(m.x,m.y)}var Z=a.b.aBr(F);
for(var R=1;R<4;R++){var u=R*4,f=M[A[R]],m=f.nr,U=f.Rb.s0(m)&&f.XO.s0(m);if(!U){f.Rb.ee(Z[u],Z[u+1]);
f.XO.ee(Z[u+2],Z[u+3])}else{f.Rb=m.v();f.XO=m.v()}}};$.rP.prototype.Nn=function(s,M,O,P,y){var F=this.Of(s,O,P,y)[0],A=null;
if(F==null)A="default";else A=$.rP.Uw(F);var h=new kg(z.E.c,!0);h.data={Q:z.J.ag,Fi:A};M.a(h)};$.rP.prototype.nh=function(s,M,O,P,y){this.Df=y;
if(this.oi==null){this.Nn(s,M,O,P,y);return}var F=this.qf;if(F&&j6.gp(F,y)<$.fo({i:{xq:1}},y))return;
this.qf=null;var A=s.i.ni(y.x,y.y),h=$.$O.cs(s,A,O),m=s.Iv(O.va==1),Z=m[0],u=m[1],f=Z[u.pop()],U=f.add.vmsk,C=U.u,H=C[U.MO[0]];
if(this.bo==1){var t=H.nr.s0(H.Rb)&&H.nr.s0(H.XO);H.nr=A.v();H.Rb=A.v();H.XO=A.v();if(!t)H.Rb.x+=2;this.WM(U)}else if(P.D(hj.u_)){if(P.D(hj.Y1))h=$.qM.LP(this.Bq,h);
var X=H.nr.TA(H.XO),Q=H.Rb.TA(H.nr);H.XO=h;H.nr=h.add(X);H.Rb=H.nr.add(Q)}else if(this.a8C){var D=H.Rb.TA(H.nr),L=H.XO.TA(H.nr);
H.nr=h;H.Rb=H.nr.add(D);H.XO=H.nr.add(L)}else{if(P.D(hj.Y1))h=$.qM.LP(H.nr,h);if(this.aG){var E=H.Rb;
H.Rb=H.XO;H.XO=E}if(this.V9){var _=j6.gp(H.nr,h),S=_==0?0:j6.gp(H.nr,H.XO)/_;H.XO.x=H.nr.x+S*(h.x-H.nr.x);
H.XO.y=H.nr.y+S*(h.y-H.nr.y)}else H.XO=h;var W=H.I>=3?3:0;if(this.XL&&!this.azM)H.I=W+P.D(hj.tT)?2:1;
if(H.I-W==1){H.Rb=H.nr.add(H.nr.TA(h))}this.Bq=h;if(this.aG){var E=H.Rb;H.Rb=H.XO;H.XO=E}}this.Ci(s,f.Fa,U,f.add.vogk);
s.G_=!0};$.rP.prototype.Cq=function(s,M,O,P,y){if(this.oi==null)return;var F=s.Iv(O.va==1),A=F[0],h=F[1],m=A[h.pop()],Z=m.add.vmsk,u=m.add.vogk;
if(this.V9){Z.MO=[];this.Ci(s,m.Fa,Z,m.add.vogk)}var f=this.oi.u.length,U=Z.u.length;if(!this.afs)this.Fo(s,this.V9?"Close Path":(f==U?"Move":f<U?"Add":"Delete")+" Anchor Point",m.Fa,this.oi,Z.v(),null,this.Xc,JSON.stringify(u));
this.afs=!1;this.V9=!1;this.aG=!1;this.a8C=!1;this.XL=!1;this.oi=null};$.rP.prototype.j9=function(s,M,O,P,y){this.afE=s.binop};
$.rP.abY={};$.rP.Uw=function(s){var M=$.rP.abY[s],O=64,h=2,m=10,Z=25,u=5,f=35;if(M)return M;var P=new gi(0,0,O,O),y=-.38,F=a.FL(O,O);
F.clearRect(0,0,O,O);var A=$.yD();F.save();F.lineWidth=h;F.translate(4-h/2,4-h/2);F.rotate(y);if(A<1.5){var U=.66;
m*=U;Z*=U;u*=U;f*=U}F.lineJoin="miter";F.beginPath();if(s=="cnv"){F.moveTo(-m,Z);F.lineTo(0,0);F.lineTo(m,Z);
F.stroke()}else{F.moveTo(0,0);F.lineTo(m,Z);F.lineTo(u,f);F.lineTo(-u,f);F.lineTo(-m,Z);F.lineTo(0,0);
F.moveTo(0,0);F.lineTo(0,Z);F.fillStyle="white";F.fill();F.stroke();F.fillStyle="black";F.fillRect(-u-1,f,2*u+2,6);
F.beginPath();F.arc(0,Z-2,2.5,0,2*Math.PI,!1);F.fill();F.rotate(-y);F.translate(24,7);F.beginPath();
if(s=="add"||s=="del"||s=="new"){F.moveTo(-5,0);F.lineTo(5,0);if(s=="add"){F.moveTo(0,-5);F.lineTo(0,5)}if(s=="new"){F.moveTo(-2.5,-4.5);
F.lineTo(2.5,4.5);F.moveTo(2.5,-4.5);F.lineTo(-2.5,4.5)}}else if(s=="fin")F.arc(0,0,5,0,2*Math.PI,!1);
else if(s=="mov"||s=="mva"){for(var R=0;R<4;R++){F.moveTo(0,0);F.lineTo(-7,0);var C=1+h;F.moveTo(-7+C,-C);
F.lineTo(-7,0);F.lineTo(-7+C,C);F.rotate(Math.PI/2)}}F.stroke()}F.restore();var H=new Uint8Array(F.getImageData(0,0,O,O).data.buffer),t=a.j(O*O);
a.YT(H,t,3);var X=a.j(O*O),Q=[3,5,3,4,8,4,3,5,3];Q=a.nG.RN(Q);a.nG.qu(t,X,O,O,Q);for(var R=0;R<X.length;
R++)X[R]=Math.min(255,X[R]*2);a.nG.qu(X,t,O,O,Q);for(var R=0;R<t.length;R++)t[R]=Math.min(255,t[R]*2);
var D=H.slice(0);H.fill(255);a.GS(t,H,3);a.B.qZ("norm",D,P,H,P,P,1);$.rP.abY[s]=M={qJ:H,Iz:P,gB:new j6(4,4)};
return M};$.Ar=function(){$.gw.call(this,[10,30],$.dF,"tools/fpen",!1)};$.Ar.prototype=new $.gw;$.Ar.prototype.EO=function(s,M,O,P,y,F){var A=P.length-1,h=Math.sqrt((P[A-1]-P[0])*(P[A-1]-P[0])+(P[A]-P[1])*(P[A]-P[1]))<6/y.xq;
return[a.z.ul(P,h,F),a.cV.Qu("customShape",[0,0,1,1],null,null,null,"--")]};$.IO=function(){$.Y8.call(this,[10,27],$.WU,"tools/pselect");
this.g_=null;this.in=!1;this.qb=null;this.oi=null;this.a0h=null;this.Xc=null;this.aLg=null;this.XT=null;
this.ux=null;this.qh=null};$.IO.prototype=new $.Y8;$.IO.prototype.cJ=function(s){return s.cQ};$.IO.xo=function(s,M){var O=s.Iv(),P=O[0],y=O[1];
for(var R=0;R<y.length;R++){var F=P[y[R]],A=F.add.vmsk;for(var h=0;h<A.Dx.length;h++){var m=a.z.aBJ(A.u,A.Dx[h]);
if(m==null)continue;var Z=j6.gp(m,M);if(Z<5*$.yD()/s.i.xq){var u=s.U[F.Fa-1e6].add.TySh,f=u.nA.Curve,U=u.M,C=f.Reversed;
f.Reversed=!1;var f=aa.xI(u.nA.Curve);f.Reversed=C;a.b.M(f[0],U,f[0]);return[f,h,U.cd*U.zv-U.X*U.xN,F]}}}};
$.IO.a30=function(s,M,O){var P=s[0][0],y=a.b.Sk(P,O.x,O.y);M.Dx[s[1]]=s[0][1][y];var F=P[y*2],A=P[y*2+1],h=(P[y*2+2]-F)*(O.y-A)-(P[y*2+3]-A)*(O.x-F);
if(s[2]<0)h=-h;M.l_=h>0};$.IO.prototype.nD=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=s.Iv(),h=A[0],m=A[1],Z,u;
for(var R=0;R<m.length;R++){var f=h[m[R]],U=f.add.vmsk,C=a.z.kP(U.u,F).Fa;if(C!=-1){this.qb=Z=f;u=C}}var H=$.IO.xo(s,F);
if(H){this.ux=H;this.qb=Z=H.pop();u=0}if(Z!=null){var U=Z.add.vmsk;U.MO=[];var t=U.Y.indexOf(u);if(P.D(hj.Y1)){if(t==-1){U.Y.push(u);
this.in=!0}else U.Y.splice(t,1)}else{if(t==-1)U.Y=[u];this.in=!0}this.XT=a.z._E(U.u,U.Y)}this.g_=F;this.qh=new ff(F);
s.GJ=!0;s.G_=!0};$.IO.prototype.nh=function(s,M,O,P,y){if(this.g_==null)return;var F=s.i.ni(y.x,y.y);
if(this.in){F=this.qh.y7(F,P);var A=this.qb;if(this.oi==null){this.oi=this.a0h=A.add.vmsk.v();this.Xc=this.aLg=JSON.stringify(A.add.vogk);
if(P.D(hj.tT)){var h=this.oi.v(),m=JSON.parse(this.Xc),Z=$.Y8.jh(h,m);$.Y8.oY(Z,h,m);this.a0h=h;this.aLg=JSON.stringify(m)}}var h=this.a0h.v(),m=JSON.parse(this.aLg);
if(this.ux){$.IO.a30(this.ux,h,F)}else{var u=this.XT.v(),f=u.x,U=u.y;u.offset(F.x-this.g_.x,F.y-this.g_.y);
u.x=Math.round(u.x);u.y=Math.round(u.y);var C=$.$O.ws(s,u,O),H=new kp(1,0,0,1,u.x-f+C[0],u.y-U+C[1]);
a.z.R7(h.u,H,h.Y);a.cV.M(m,a.F.y1(H),h.Y);$.$O.ea(s,u,C)}this.Ci(s,A.Fa,h,m)}else{var t=this.g_;s.W.CU=a.b.hC(new gi(t.x,t.y,F.x-t.x,F.y-t.y));
s.G_=!0}};$.IO.prototype.Cq=function(s,M,O,P,y){if(this.g_==null)return;var F=s.i.ni(y.x,y.y),A=this.qb,h=A?A.add.vmsk:null;
if(this.in){var m=JSON.stringify(A.add.vogk);if(!this.g_.s0(F))this.Fo(s,"Move Paths",A.Fa,this.oi,h,null,this.Xc,m);
if(s!=null&&s.W.P6){s.W.P6=null;s.G_=!0}}else{var Z=s.Iv(),u=Z[0],f=Z[1];if(f.length!=0){var U=u[f[0]];
h=U.add.vmsk;var C=this.g_,H=new gi(C.x,C.y,F.x-C.x,F.y-C.y),t=a.z.ajf(h.u,H);if(P.D(hj.Y1)){for(var R=0;
R<t.length;R++)if(h.Y.indexOf(t[R])==-1)h.Y.push(t[R])}else h.Y=t}s.W.CU=null;s.G_=!0}this.g_=null;this.oi=null;
this.ux=null;this.in=!1;this.qh=null};$.IO.prototype.az9=function(s){var M=this.qb,O=this.ZK,P=M.add.vmsk,y=M.add.vogk,F=y.length;
if(s=="confirm"){if(P!=this.oi)this.Fo(O,[12,94,2],M.Fa,this.oi,P,null,this.Xc,JSON.stringify(y));this.ec();
return}if(s=="cancel"){this.Ci(this.ZK,this.qb.Fa,this.oi.v(),JSON.parse(this.Xc));this.ec()}else{var P=this.oi.v(),y=JSON.parse(this.Xc);
P.u=a.z.as4(P.u,P.Y,s);this.Ci(this.ZK,this.qb.Fa,P,y)}};$.IO.prototype.ec=function(){this.qb=null;this.oi=null;
this.g_=null;this.Pn=this.eN=-1;this.qh=null};$.IO.prototype.Iy=function(s,M,O,P){$.Y8.prototype.Iy.call(this,s,M,O,P);
if(O.zI!=this.id)return;if(s.Y.length==0)return;var y=s.Iv(),F=y[0],A=y[1];if(A.length==0)return;var h=F[A[0]],m=h.add.vmsk,Z=h.add.vstk,u=h.add.vogk,f=new kg(z.E.c,!0);
f.data={Q:z.J.Qo,l:this.id,IY:"main",Va:m?m:null,cV:u};M.a(f)};$.IO.prototype.j9=function(s,M,O,P,y){var F=s.ZN;
if(F.Va){var A=O.Iv(),h=A[0],m=A[1];if(m.length==0)return;var Z=h[m[0]],u=Z.add.vmsk.v(),f=JSON.stringify(Z.add.vogk),U=F.Va;
this.Ci(O,Z.Fa,U,F.cV);var C=[18,5];if(u.u.length==U.u.length)C=u.Y[0]==U.Y[0]?"Fill Rule":"Path Order";
this.Fo(O,C,Z.Fa,u,U,null,f,JSON.stringify(F.cV))}};$.Ab=function(){$.Y8.call(this,[10,28],$.Wt,"tools/dselect");
this.Pn=-1;this.eN=-1;this.Sf=null;this.g_=null;this.if=null;this.qb=null;this.oi=null;this.Xc=null;
this.vB=0;this.te={psnap:!1};this.qh=null};$.Ab.prototype=new $.Y8;$.Ab.prototype.cJ=function(s){return s.cQ};
$.Ab.prototype.j9=function(s){this.te=s};$.Ab.prototype.cu=function(s,M,O,P,y){if(s.Q=="crnr"){if(O==null)return;
var F=O.Iv(),A=F[0],h=F[1];if(h.length==0){alert("No paths selected");return}var m=A[h[0]],Z=m.add.vmsk;
if(Z.MO.length==0){alert("No corners selected");return}for(var R=0;R<Z.MO.length;R++){var u=Z.u[Z.MO[R]];
if(!u.nr.s0(u.XO)||!u.nr.s0(u.Rb)){alert("Only sharp corners can be rounded");return}}if(this.oi==null){this.oi=m.add.vmsk.v();
this.Xc=JSON.stringify(m.add.vogk);this.qb=m;this.ZK=O}var f=new kg(z.E.c,!0);f.data={Q:z.J.xL,Rj:"cornerradius",dK:5,Xp:this.air.bind(this)};
M.a(f)}else $.Y8.prototype.cu.call(this,s,M,O,P,y)};$.Ab.prototype.air=function(s){if(s=="confirm"){var M=this.ZK,O=this.qb,P=O.add.vmsk,y=O.add.vogk;
this.Fo(M,[12,94,0],O.Fa,this.oi,P,null,this.Xc,JSON.stringify(y));this.ec();return}var P=this.oi.v(),y=JSON.parse(this.Xc),F=P.MO;
if(s=="cancel"){}else{var A=[];for(var R=0;R<F.length;R++){var h=F[R],m=a.z.Vz(P.u,h,!0),f=0;if(A.indexOf(m)!=-1)continue;
A.push(m);var Z=a.z.AS(P.u,m,!0),u=P.u[Z].length,U=[];for(var C=0;C<u;C++){var H=P.MO.indexOf(Z+C+1)==-1?0:s;
U.push(H);if(H!=0)f++}a.z.XC(P.u,Z,U);for(var C=0;C<F.length;C++)if(F[C]>Z+u)F[C]+=f}this.IU(P,y);P.MO=[]}this.Ci(this.ZK,this.qb.Fa,P,y);
if(s=="cancel")this.ec()};$.Ab.prototype.disable=function(s,M,O,P){this.jZ(s)};$.Ab.prototype.nD=function(s,M,O,P,y){this.jZ(s);
var F=s.i.ni(y.x,y.y),f,U,C;this.Sf=F.v();var A=s.Iv(),h=A[0],m=A[1];if(m.length==0)return;var Z=$.fo(s,y),u=new gi(F.x-Z,F.y-Z,Z*2,Z*2);
for(var H=0;H<m.length;H++){f=this.qb=h[m[H]];U=f.add.vmsk;C=a.z.HV(U.u,u);if(C[0].length+C[1].length+C[2].length!=0)break}var t=[!1,!1,!1];
for(var R=0;R<3;R++){for(var X=0;X<C[R].length;X++){var Q=C[R][X],D=U.u[Q];if(U.MO.indexOf(Q)!=-1||R==1&&U.MO.indexOf(Q-1)!=-1&&!D.nr.s0(D.Rb)||R==2&&U.MO.indexOf(Q+1)!=-1&&!D.nr.s0(D.XO)){C[R]=[Q];
t[R]=!0;break}}}if(C[0].length!=0&&(t[0]||!t[1]&&!t[2])){var L=C[0][0],E=U.MO.indexOf(L);if(P.D(hj.Y1)){if(E==-1)U.MO.push(L);
else{U.MO.splice(E,1);s.G_=!0;return}}else if(E==-1)U.MO=[L];this.Pn=L;this.eN=0}else if(C[1].length!=0&&t[1]){this.Pn=C[1][0];
this.eN=1}else if(C[2].length!=0&&t[2]){this.Pn=C[2][0];this.eN=2}else{var _=a.z.kP(U.u,F,!0,Z);if(_.Fa==-1)this.g_=F;
else{this.if=_;var S=a.z.AS(U.u,_.Fa);U.Y=[_.Fa];U.MO=[S+1+_.nI]}}if(this.oi==null){this.oi=f.add.vmsk.v();
this.Xc=JSON.stringify(f.add.vogk)}this.qh=new ff(F);s.G_=!0};$.Ab.prototype.nh=function(s,M,O,P,y){if(s==null)return;
var F=s.i.ni(y.x,y.y),A=this.qb;if(this.Pn!=-1){var h=this.oi.v(),m=A.add.vogk,Z=h.u[this.Pn];Z=[Z.nr,Z.Rb,Z.XO][this.eN];
if(P.D(hj.Y1)){if(this.eN==0){F=this.qh.y7(F,P);F.x+=Z.x-this.Sf.x;F.y+=Z.y-this.Sf.y}else F=$.qM.LP(h.u[this.Pn].nr,F)}else{if(this.te.psnap){F.x=Math.round(F.x);
F.y=Math.round(F.y)}F=$.$O.cs(s,F,O)}if(this.eN==0){var u=new kp(1,0,0,1,F.x-Z.x,F.y-Z.y);a.z.R7(h.u,u,null,h.MO)}else{var f=h.u[this.Pn];
if(P.D(hj.tT)&&(f.I==1||f.I==4))f.I++;$.Ab.$_(f,F,this.eN==1)}this.IU(h,m);this.Ci(s,A.Fa,h,m)}else if(this.g_!=null){var U=this.g_;
s.W.CU=a.b.hC(new gi(U.x,U.y,F.x-U.x,F.y-U.y));s.G_=!0}else if(this.if!=null){var h=this.oi.v(),m=A.add.vogk,C=this.if,H=this.Sf,t=a.z.AS(h.u,C.Fa),X=h.u[t].length,Q,D=C.Uj;
if(D<=1/6)Q=0;else if(D<=.5)Q=Math.pow((6*D-1)/2,3)/2;else if(D<=5/6)Q=(1-Math.pow((6*(1-D)-1)/2,3))/2+.5;
else Q=1;var L=F.x-H.x,E=F.y-H.y,_=(1-Q)/(3*D*(1-D)*(1-D)),S=Q/(3*D*D*(1-D)),W=h.u[t+1+C.nI];W.XO.offset(_*L,_*E);
var g=h.u[t+1+(C.nI+1)%X];g.Rb.offset(S*L,S*E);$.Ab.$_(W,W.XO,!1);$.Ab.$_(g,g.Rb,!0);this.IU(h,m);this.Ci(s,A.Fa,h,m)}else{var x=s.Iv(),V=x[0],b=x[1],A,h,K;
if(b.length==0)return;var N=$.fo(s,y),J=new gi(F.x-N,F.y-N,N*2,N*2);for(var q=0;q<b.length;q++){A=V[b[q]];
h=A.add.vmsk;K=a.z.HV(h.u,J);if(K[0].length+K[1].length+K[2].length!=0)break}this.jZ(s);for(var R=0;
R<3;R++){for(var d=0;d<K[R].length;d++){var l=K[R][d],T=h.u[l];T=R==0?T.nr:R==1?T.Rb:T.XO;s.W.jT.push(T.x,T.y);
s.G_=!0}}}};$.Ab.prototype.jZ=function(s){if(s&&s.W.jT.length!=0){s.W.jT=[];s.G_=!0}};$.Ab.prototype.Cq=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=this.qb,h=A?A.add.vmsk:null,m=A?A.add.vogk:null;
if(this.Pn!=-1||this.if){if(Date.now()-this.vB<300){var Z=h.u[this.Pn],u=this.eN,f=null;if(u==0){var U=Z.Rb.s0(Z.nr),C=Z.XO.s0(Z.nr);
if(!U&&!C){f="Anchor Type";if(Z.I==1||Z.I==4)Z.I++;else{Z.I--;Z.XO=Z.nr.add(Z.nr.TA(Z.Rb))}}else{f="Add Handles";
if(U&&C){Z.Rb.x-=30;Z.XO.x+=30}else if(U)Z.Rb=Z.nr.add(Z.nr.TA(Z.XO));else if(C)Z.XO=Z.nr.add(Z.nr.TA(Z.Rb))}}else{f="Remove Handle";
if(u==1)Z.Rb.Tg(Z.nr);else Z.XO.Tg(Z.nr)}this.IU(h,m);this.Ci(s,A.Fa,h,m);this.Fo(s,f,A.Fa,this.oi,h,null,this.Xc,JSON.stringify(m))}else if(this.if||!this.Sf.s0(F)){this.Fo(s,"Drag Anchors",A.Fa,this.oi,h,null,this.Xc,JSON.stringify(m))}this.if=null;
this.vB=Date.now()}else if(this.g_!=null){var H=this.g_,t=new gi(H.x,H.y,F.x-H.x,F.y-H.y);if(t.A<0)t.x+=t.A;
if(t.$<0)t.y+=t.$;t.A=Math.abs(t.A);t.$=Math.abs(t.$);var X=a.z.HV(h.u,t);h.MO=X[0].concat(P.D(hj.Y1)?h.MO:[]);
s.W.CU=null}this.ec();s.G_=!0};$.Ab.prototype.ec=function(){this.qb=null;this.oi=null;this.g_=null;this.Pn=this.eN=-1;
this.qh=null};$.Ab.prototype.IU=function(s,M){for(var R=0;R<s.MO.length;R++){var O=a.z.Vz(s.u,s.MO[R]);
a.cV.wL(M,O)}};$.Ab.prototype.lJ=function(s,M,O,P){if(s==null)return;var y=s.Iv(),F=y[0],A=y[1];if(A.length==0)return;
var h=F[A[0]],m=h.add.vmsk;if(m==null||m.MO.length==0)return;var Z=h.add.vogk,u=JSON.stringify(Z),f=P.Ry(s?s.i.JL:0);
if(f.x!=0||f.y!=0){var U=m.v(),C=m.v(),H=new kp(1,0,0,1,f.x,f.y);a.z.R7(C.u,H,null,C.MO);this.IU(C,Z);
this.Ci(s,h.Fa,C,Z);this.Fo(s,"Move Anchors",s.Y[0],U,C.v(),!0,u,JSON.stringify(Z))}if(P.D(hj.y6)||P.D(hj.Di))this.cu({Q:"remove",r4:!0,ar9:!0},M,s,P,O)};
$.Ab.prototype.Fo=function(s,M,O,P,y,F,A,h){var m=s.tX();if(F&&m!=null&&m.l==this&&m.data.atz&&m.data.p2==O&&JSON.stringify(m.data.anT.MO)==JSON.stringify(P.MO)){m.data.aP=y;
m.data.ahj=h}else{var m=new aA(M,this);m.data={p2:O,anT:P,aP:y,atz:F,asJ:A,ahj:h};s.Bx(m)}};$.Ab.$_=function(s,M,O){var P=s.Rb,y=s.XO;
if(!O){P=s.XO;y=s.Rb}P.ee(M.x,M.y);if(s.I==1||s.I==4){var F=j6.gp(P,s.nr),A=j6.gp(y,s.nr);if(A!=0){y.x=s.nr.x-(P.x-s.nr.x)*(A/F);
y.y=s.nr.y-(P.y-s.nr.y)*(A/F)}}};$.Rect=function(){$.gw.call(this,[10,32],$.BI,"tools/rect",!0)};$.Rect.prototype=new $.gw;
$.Rect.prototype.EO=function(s,M,O){var P=this.vn.crad,y=M.x-s.x,F=M.y-s.y;return[a.z.uU.Rect(s.x,s.y,y,F,P),a.cV.Qu("Rctn",[s.x,s.y,M.x,M.y],[P,P,P,P])]};
$.Y9=function(){$.gw.call(this,[10,33],$.pB,"tools/ellipse",!0)};$.Y9.prototype=new $.gw;$.Y9.prototype.EO=function(s,M,O){var P=M.x-s.x,y=M.y-s.y;
return[a.z.uU.Y9(s.x,s.y,P,y),a.cV.Qu("Elps",[s.x,s.y,M.x,M.y])]};$.Nb=function(){$.gw.call(this,[10,34],$.Kg,"tools/pshape",!1);
this.vn.aopts=[!1,!0,50,100,0]};$.Nb.prototype=new $.gw;$.Nb.prototype.EO=function(s,M,O){var P=this.vn.pshape,y=this.vn.crad,F=this.vn.irad/100,A=this.vn.sides,h=this.vn.width,m=this.vn.aopts,Z=this.vn.length,u=this.vn.rows,f=this.vn.cols,U=this.vn.brdr,L;
M=M.v();var C=s.x,H=s.y,t=M.x,X=M.y,Q=Math.sqrt((t-C)*(t-C)+(X-H)*(X-H)),D=Math.atan2(-X+H,t-C);if(O)D=Math.round(D*180/Math.PI/15)*15*Math.PI/180;
if(P==0)L=a.z.uU.Ll(C,H,Q,D,A,y);if(P==1)L=a.z.uU.a2C(C,H,Q,D,A,y,F);if(P==2)L=a.z.uU.mx(s.x,s.y,M.x,M.y,h,m);
if(P==3){if(C>t){var E=C;C=t;t=E}if(H>X){var E=H;H=X;X=E}if(O){if(f>u)X=H+(t-C-U)*u/f+U;else t=C+(X-H-U)*f/u+U}L=a.z.uU.aH9(C,H,t,X,u,f,U)}if(P==4)L=a.z.uU.a8S(C,H,Q,D,Z);
return[L,a.cV.Qu("customShape",[s.x,s.y,M.x,M.y],null,null,null,"--")]};$.Nb.prototype.lJ=function(s,M,O,P){$.gw.prototype.lJ.call(this,s,M,O,P);
var y=P.Ry(),F=this.vn,A,h;if(y.y!=0){var m=-y.y,Z=F.pshape;if(Z<2){A="sides";h=Math.max(3,Math.min(100,F.sides+m))}else if(Z==2){A="width";
h=Math.max(1,Math.min(100,F.width+m))}else if(Z==3){A="length";h=Math.max(4,Math.min(40,F.length+m))}}if(y.x!=0){A="pshape";
h=Math.max(0,Math.min(3,F.pshape+y.x))}if(A){var u=new kg(z.E.c,!0),f={};f[A]=h;F[A]=h;u.data={Q:z.J.Qo,l:this.id,tW:"vals",aor:f};
M.a(u);this.nh(s,M,O,P)}};$.jW=function(){$.gw.call(this,[10,35],$.cv,"tools/line",!1)};$.jW.prototype=new $.gw;
$.jW.prototype.EO=function(s,M,O){var P=this.vn.width,y=this.vn.aopts;M=M.v();if(O){M=$.qM.LP(s,M)}if(dc==1)P=0;
return[a.z.uU.mx(s.x,s.y,M.x,M.y,P,y),a.cV.Qu("Ln",null,null,[s.x,s.y,M.x,M.y],P,null,y)]};$.d9=function(){$.gw.call(this,[10,31],$.uk,"tools/cshape",!0)};
$.d9.prototype=new $.gw;$.d9.prototype.EO=function(s,M,O){var P=this.vn.shape,y=P.rC.A/P.rC.$,F=ad.Vp.X4(P.u);
M=M.v();if(O){M.y=s.y+(M.x-s.x)/y}var A=M.x-s.x,h=M.y-s.y;a.z.R7(F,new kp(A,0,0,h,s.x,s.y));return[F,a.cV.Qu("customShape",[s.x,s.y,M.x,M.y],null,null,null,P.Bj)]};
$.TR=function(s,M,O){$._g.call(this,s,M,O);this.NL=0;this.U=null;this.c7=null;this.f=null;this.A4=1;
this.DJ=0;this.vl=!0;this.CK=!1;this.cursor=null;this.qx=null;this.Cm=null;this.j$=!1;this.M5=null;this.abO=0;
this.Mr=null;this.bo=0;this.gj=null;this.av=null;this.eA=null;this.el=null;this.ayT=null;this.Uk=null};
$.TR.prototype=new $._g;$.TR.v$=function(s,M,O){var P={classID:"null",null:f7.Ht(O?"Lyr":"Dcmn",!0)};
if(s)P.Angl={t:"UntF",v:{type:"#Ang",val:M}};else P.Axis={t:"enum",v:{Ornt:M}};return{Cw:s?"rotateEventEnum":"flip",kT:P}};
$.TR.prototype.z4=function(s,M,O,P,y){var F=new kg(z.E.c,!0);F.data={Q:z.J.Qo,l:this.id,Tu:y,Uc:s,f:O};
M.a(F);this.xX=!1};$.TR.prototype.cJ=function(s){return this.av&&this.av.aH4()};$.TR.prototype.cu=function(s,M,O,P,y){this.f=y;
if(s.Q=="again"&&this.Mr==null)return;if(s.Q=="cmode"){if(O.depth==s.K)return;var F=$.TR.Ku(O),A=$.TR.IJ(O,F,!0),h=new aA("Mode: "+O.depth+"-Bit to "+s.K+"-Bit",this);
h.data={I:0,U:F,c7:A,Wr:!0,depth:O.depth};O.Bx(h);$.TR.a0c(O,F,s.K);return}if(s.Q=="cprof"){var m=O.s5(),F,A;
m=m?m[0]:null;var Z=fr.uX[fr.wS.indexOf(s.K)];if(Z)Z=b_.gy.get(Z);if(s.a85){F=$.TR.Ku(O);A=$.TR.IJ(O,F,!0)}var h=new aA((F?"Convert To":"Assing")+" Profile: "+(Z?s.K:"sRGB"),this);
h.data={I:0,U:F,c7:A,Wr:!0,a0e:[m]};O.Bx(h);if(s.a85)$.TR.ayG(O,F,Z);O.A1(Z);return}if(!this.LE(O,y))return;
if(this.av){this.aLl(s,this.av.Pz(),M,O,P,y);this.rj(O,y,0,!0);this.mW(O);return}this.ac0(O,s.w==null,s.w);
this.aea(O);this.aLl(s,s.axW,M,O,P,y);this.nb(O,M,s.SD,!1)};$.TR.prototype.aLl=function(s,M,O,P,y,F){var A=s.xC!=null?s.xC:4;
this.av.aJm(A);if(M==null)M=this.av.Pz();var h=this.gj,m=M.x,Z=M.y;if(s.Q=="rot"&&s.K!=Math.PI&&(h.A+h.$&1)==1){m=Math.floor(m);
Z=Math.floor(Z)}var u=new kp;u.translate(-m,-Z);if(s.Q=="rot")u.rotate(s.K);if(s.Q=="scl")u.scale(s.K.x,s.K.y);
if(s.Q=="mat")u.concat(s.K);u.translate(m,Z);if(s.Q=="again")u=this.Mr;var f=a.F.y1(u);if(s.Q=="dtr"){var U=a.F;
f=U.u2(s.K,U.j(-m,-Z));f=U.u2(U.j(m,Z),f)}var C=this.av.yK();a.F.M(f,C);if(s.Q=="reset"){var H=P.U[P.Y[0]].add.SoLd,t=H.Sz.v,X=t.Wdth.v,Q=t.Hght.v;
console.log(H);var f=this.av.Pz(),D=new gi(Math.round(f.x-X/2),Math.round(f.y-Q/2),X,Q);C=a.b.hC(D).L;
H.quiltWarp.v=a.Z6.j(D)}this.av.Wu(C);if(A==9)this.av.a6A(M);if(s.a4){var L=s.a4.v;this.j9({IY:"switchWarp"},O,P,y);
this.j9({IY:"wrp",a4:L},O,P,y)}};$.TR.prototype.bA=function(){return!0};$.TR.prototype.LE=function(s,M,O){if(s==null)return!1;
if(this.id==$.PF)return s.h!=null;var P=s.td(!0,null,null,!0);if(this.id==$.Ef&&s.U[P[0]].S.g3()){alert("Layer is empty.");
return!1}if(s.J_.length!=0)return!0;for(var R=0;R<P.length;R++){var y=s.U[P[R]];if(y.T2(2)||y.T2(31)){alert(aW.get([6,57,0]));
return!1}if(y.add.artb){alert("You can not transform the whole artboard");return!1}if(y.add.TySh)if(!bZ.fT(y.add.TySh,M.s4))return!1;
if(y.add.SoLd){if(P.length==1&&(O&&O.Eq==-1)&&(y.Bl()&&y.Bl().CG||y.add.vmsk&&y.add.vmsk.CG)){alert("Unlink masks before transforming Smart Object");
return!1}if(!s.aeD(y.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+s.gX(y.add.SoLd.Idnt.v).Zp+")");
return!1}}}if(s.h==null)return!0;if(!s.Y7())return!1;return s.apS()};$.TR.prototype.nD=function(s,M,O,P,y){var F=this.Sg(y,s),A=F[0],h=F[1],m=this.bo==0?this.av:this.eA;
s.i.xq*=h;this.CK=m.nD(s,O,P,A,null,null,y);if(!this.CK&&dc==1){this.nb(s,M,null,!0);return}this.mW(s,A);
s.i.xq/=h;if(this.CK&&m.Xm(A)){if(Date.now()-this.abO<250)this.nb(s,M,null,!0);this.abO=Date.now()}};
$.TR.prototype.Nn=function(s){var M=new kg(z.E.c,!0);M.data={Q:z.J.ag,Fi:this.cursor};s.a(M)};$.TR.prototype.Sg=function(s,M){var O=1;
s=M.i.ni(s.x,s.y);if(this.bo==1){var P=a.F.da(this.av.yK(),this.gj);O=a.F.to(P).dI();var y=a.F.or(P);
s=a.F.a2e(y,s)}return[s,O]};$.TR.prototype.nh=function(s,M,O,P,y){var F=this.Sg(y,s),A=F[0],h=F[1],m=this.bo==0?this.av:this.eA;
if(!y.cQ){var Z="default";if(m){var u=m.X0(A,s.i.xq*h,null,y,null,P);if(u)Z=u}if(Z!=this.cursor){this.cursor=Z;
this.Nn(M)}if(this.eA){this.mW(s,A)}}if(!this.CK)return;s.i.xq*=h;var f=this.mT=m.nh(s,O,P,A,this.vl);
s.i.xq/=h;this.rj(s,O,0,!0);this.mW(s,A);this.i$(M,null,s)};$.TR.prototype.Cq=function(s,M,O,P,y){var F=this.Sg(y,s),A=F[0],h=F[1];
this.av.Cq(s,O,P,A);if(this.eA){var m=this.eA.Cq(s,O,P,A);if(m){this.i$(M,!0,s);this.mW(s)}}if(this.mT){var Z=this.dW(),u=a.b.hC(this.gj).L;
a.F.M(Z,u);this.av.Wu(u);this.mT=null}this.CK=!1};$.TR.prototype.lJ=function(s,M,O,P){if(P.D(hj.$g))this.nb(s,M,null,!0);
else if(P.D(hj.ob))this.zZ(s,M);else{var y=this.av.lJ(s,O,P);if(y){this.rj(s,O,0,!0);this.i$(M,null,s)}}};
$.TR.prototype.j9=function(s,M,O,P){if(s.IY=="commit")this.nb(O,M,null,!0);else if(s.IY=="cancel")this.zZ(O,M);
else if(s.IY=="switchWarp"){this.bo=1-this.bo;this.ac$();this.mW(O);this.i$(M,null,O)}else if(s.IY=="wrp"){this.eA.abB(s.a4);
this.mW(O);this.rj(O,this.f,0,!0)}else if(s.IY=="splt")this.eA.aEr(s.K);else if(s.IY=="ctyp"){this.av.aJm(s.a87);
this.mW(O);this.i$(M,null,O)}else if(s.IY=="cen"){this.av.a6A(s.gB);this.mW(O);this.rj(O,this.f,0,!0);
this.i$(M,null,O)}else if(s.IY=="trn"){var y=a.F.y1(s._w),F=this.gj,A=a.F.da(this.av.yK(),this.gj);y[6]=A[6],y[7]=A[7];
var h=[F.x,F.y,F.x+F.A,F.y,F.x+F.A,F.y+F.$,F.x,F.y+F.$];a.F.M(y,h);this.A4=s.A4;if(s.DJ!=this.DJ){this.DJ=s.DJ;
this.aFi(O)}this.vl=s.vl;this.av.Wu(h);this.mW(O);this.rj(O,this.f,0,!0)}};$.TR.prototype.mW=function(s,M){if(this.bo==0)this.av.p0(s,this.f);
else{this.eA.p0(s,M);var O=this.dW();a.F.M(O,s.W.kX.L);a.F.M(O,s.W.Kq);a.F.M(O,s.W.gM)}};$.TR.prototype.nb=function(s,M,O,P){this.rj(s,this.f,this.A4);
var y=new aA(O?O:this.name,this);if(this.NL==0)y.data={I:this.NL,U:this.U,c7:this.c7};else if(this.NL==1){var F=s.U[this.U[0]],A;
if(F.na.KV<=0){A=a.j(F.na.iU.C(),s.depth);a.YT(F.na.bC,A,3)}else A=s.h.N;var h={S:F.na.iU.v(),N:A};y.data={I:this.NL,w:this.U[0],Cm:this.Cm,bm:h,qx:this.qx,j$:this.j$,na:F.na,M5:this.M5,pv:{Iz:F.na.iU,OC:F.na.bC}}}else if(this.NL==2){y.data={I:this.NL,Cm:this.Cm,bm:{S:s.h.S.v(),N:s.h.N.slice(0)}}}s.Bx(y);
var m=a.F.da(this.av.yK(),this.gj),Z=this.c7,u=Z?Z[0]:null;if(Z&&Z.length==1&&u[4]){var f=$.TR.NI(u[4].nonAffineTransform),U=a.b.hG(a.Z6.Kx(u[4].quiltWarp.v)[3]),C=a.F.da(f,U);
m=a.F.u2(m,a.F.or(C))}var H=this.eA?this.eA.Il():null;if(H&&a.Z6.Gn(H))H=null;var t=this.av.yK();a.F.M(a.F.or(m),t);
var X=this.av.Pz(t),Q=a.F;m=Q.u2(Q.u2(Q.j(-X.x,-X.y),m),Q.j(X.x,X.y));var D=$.TR.aeg(m,this.av.kt,X,H);
if(this.id==$.PF)D.null.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};this.$V=M;this.track({Cw:"transform",kT:D});
this.escape(s,M,P)};$.TR.azK={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};$.TR.aeg=function(s,M,O,P){var y=a.F.to(s),F=y.cj,A=y.H3,h=-Math.atan2(-y.X,y.cd),Z="Qcsi";
y.rotate(h);function m(C,H){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][H],val:C}}}var u=$.TR.azK;
for(var f in u)if(u[f]==M)Z=f;var U={classID:"null",null:f7.Ht("Lyr",!0),FTcs:{t:"enum",v:{QCSt:Z}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:m(F,0),Vrtc:m(A,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:m(Math.atan(y.xN/y.zv)*180/Math.PI,2),Vrtc:m(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:m(100*s[6],1),Vrtc:m(100*s[7],1)}},Wdth:m(y.cd*100,1),Hght:m(y.zv*100,1),Angl:m(h*180/Math.PI,2)};
if(M==9)U.Pstn={t:"Objc",v:{Hrzn:m(O.x,0),Vrtc:m(O.y,0)}};if(P)U.quiltWarp={t:"Objc",v:P};return U};
$.TR.a25=function(s){var M=1,O=1,P=0,y=0,F=0,A=0,h=0,U=null,C=null;if(s.Wdth)M=s.Wdth.v.val/100;if(s.Hght)O=s.Hght.v.val/100;
if(s.Skew){var m=s.Skew.v;P=m.Hrzn.v.val;y=m.Vrtc.v.val}if(s.Ofst){var Z=s.Ofst.v;A=Z.Hrzn.v.val;h=Z.Vrtc.v.val}if(s.Angl)F=s.Angl.v.val;
var u=new kp;u.concat(new kp(M,M*Math.tan(y*Math.PI/180),O*Math.tan(P*Math.PI/180),O,0,0));u.rotate(-F*Math.PI/180);
u.translate(A,h);var f=a.F.y1(u);if(s.Usng){var Z=s.Usng.v;f[6]=Z.Hrzn.v.val/100;f[7]=Z.Vrtc.v.val/100}var H=s.FTcs.v.QCSt;
if(H=="Qcsi"){var t=s.Pstn.v;U=new j6(t.Hrzn.v.val,t.Vrtc.v.val);C=9}else C=$.TR.azK[H];return{Q:"dtr",xC:C,K:f,a4:s.warp,axW:U}};
$.TR.prototype.zZ=function(s,M){if(this.NL==0)$.TR.aAQ(s,this.U,this.c7);else if(this.NL==1){var O=s.U[this.U[0]];
s.h=this.Cm;if(!this.j$){O.na.iU=this.M5.Iz;O.na.bC=this.M5.OC;O.u8(s,0,0,s.h)}else{O.Pm(s,this.qx)}s.vw();
s.Yw=!0}else if(this.NL==2){s.h=this.Cm;s.Yw=!0}this.escape(s,M,!0)};$.TR.prototype.escape=function(s,M,O){this.av.clear(s);
if(this.eA)this.eA.clear(s);this.av=null;this.eA=null;this.Uk=null;this.bo=0;if(O)this.eR(M,z.E.c,{Q:z.J.qw})};
$.TR.prototype.n5=function(s,M){if(s.I==0)$.TR.MB(M,s);else{if(s.I==1){var O=M.U[s.w];if(s.j$){O.na=s.na}else{O.na.iU=s.pv.Iz;
O.na.bC=s.pv.OC}O.u8(M,0,0,M.h);M.vw()}M.h={S:s.bm.S.v(),N:s.bm.N.slice(0)};M.Yw=!0}};$.TR.prototype.QB=function(s,M){if(s.I==0)$.TR.MB(M,s);
else{if(s.I==1){var O=M.U[s.w];if(s.j$){O.Pm(M,s.qx)}else{O.na.iU=s.M5.Iz;O.na.bC=s.M5.OC;O.u8(M,0,0,M.h)}M.vw()}M.h=s.Cm;
M.Yw=!0}};$.TR.prototype.ac0=function(s,M,O){s.Iv();var P=[];if(O==null)for(var R=0;R<s.J_.length;R++)if(s.J4[s.J_[R]].add.vmsk.u.length>2)P.push(-1-s.J_[R]);
var y=[],F=s.i.P7;if(F[0]+F[1]+F[2]==3)if(O!=null||P.length==0||s.XK!=null&&s.XK.length!=0){if(s.Y.length==1){var A=s.U[s.Y[0]];
if(A.ES()&&A.eq)y=[s.Y[0]]}if(y.length==0)y=s.td(M,O,null,!0)}y=y.concat(P);for(var R=0;R<s.G7.length;
R++)y.push(-1e3-s.G7[R]);this.U=y};$.TR.prototype.enable=function(s,M,O,P,y,F){if(this.cursor==null)this.cursor="default";
this.Nn(M);if(this.av)return;this.f=O;this.ac0(s,!0);this.aea(s,F&&F.Eq!=null&&F.Eq!=-1?F.Eq:null);this.i$(M,null,s);
this.mW(s);if(F&&F.Eq==-1)this.j9({IY:"switchWarp"},M,s,P)};$.TR.prototype.jA=function(){return this.vl?null:[0]};
$.TR.prototype.LQ=function(s,M,O){if(s&&s[0]!=null)this.vl=s[0]==1};$.TR.prototype.i$=function(s,M,O){var P={Q:z.J.Qo,l:this.id};
if(this.bo==0){var y=a.F.da(this.av.yK(),this.gj),F=a.F.to(y);P._w={pO:F,a87:this.av.aqr(),gB:this.av.Pz(),Iz:this.gj.v(),vl:this.vl}}else{P.amM=M;
P.a4=this.eA.Il()}if(O){P.dj=["---"];for(var R=0;R<O.dj.length;R++)P.dj.push(O.dj[R].name)}P.aCx=this.eA!=null;
P.ayU=!1;if(O)for(var R=0;R<O.Y.length;R++){var A=O.U[O.Y[R]];if(!(A.add.SoLd||A.add.TySh||A.tE()||A.ES()))P.ayU=!0}this.eR(s,z.E.c,P)};
$.TR.prototype.aea=function(s,M){var O=this.id==$.PF,P=!0,y=this.U[0],F=s.U[y],h=null,m=null,Z=null,U=null;
if(O){this.NL=2;this.Cm=s.h}else if(s.h&&this.U.length==1&&y>=0&&!F.S.g3()){this.NL=1;this.Cm=s.h;this.qx=F.na;
this.j$=!1;if(!F.ih(s,s.h)){this.j$=!0;F.LY(s,s.h,!1)}this.M5={OC:F.na.bC,Iz:F.na.iU}}else{this.NL=0;
this.c7=$.TR.IJ(s,this.U,null);for(var R=0;R<this.c7.length;R++)if(this.c7[R][3]!=null)P=!1}var A=this.NL==1;
if(this.c7&&this.c7.length==1){var u=this.c7[0];if(u[2]!=null)m=u[2].Va;if(u[3]==null)A=!0;if(u[3]!=null)Z=u[3];
if(u[4]!=null){h=s.U[this.U[0]].add.SoLd;if(u[1]||u[2])A=!1}}var f=O?s.h.S.v():$.TR.Gt(s,this.U);this.gj=f;
if(!O&&m&&dc==1){U=m.Zq();this.el=a.F.da(U,this.gj)}else if(!O&&Z&&dc==1){var C=s.U[this.U[0]],Z=C.add.TySh;
U=a.b.hC(C.aD.H_).L;a.b.M(U,Z.M,U);this.el=a.F.da(U,this.gj)}else if(!O&&h){U=$.TR.NI(h.nonAffineTransform);
this.gj=a.b.hG(a.Z6.Kx(h.quiltWarp.v)[3]);if(A)this.eA=new cY(h.quiltWarp.v);this.el=a.F.da(U,this.gj)}else{if(A||O)this.eA=new cY(a.Z6.j(this.gj));
this.el=[1,0,0,0,1,0,0,0];if(this.id==$.Ef)M=3;U=[f.x,f.y,f.x+f.A,f.y,f.x+f.A,f.y+f.$,f.x,f.y+f.$]}this.av=new aj(U,!0,!0,P,!1,!1,M);
this.ayT=[1,0,0,0,1,0,0,0];this.aFi(s)};$.TR.prototype.aFi=function(s){if(this.id==$.Ef){var M,O,F=null;
if(this.c7&&s.h==null){var P=this.c7[0][0],y=P.Pu;M=y[0];O=y[1]}else if(this.M5){M=this.M5.OC;O=this.M5.Iz}if(this.DJ!=0)F=s.dj[this.DJ-1].mw(O);
this.Uk=a.Ex.azh(a.Gp(M,8),O.A,O.$,F)}};$.TR.Gt=function(s,M){if(M==null)M=s.td(!0,null,null,!0);var O=new gi,P=new gi;
if(s.h&&M.length==1&&M[0]>=0)O=s.h.S.v();else for(var R=0;R<M.length;R++){var y=M[R],F=0<=y?s.U[y]:-1e3<y?s.J4[-1-y]:s.dj[-1e3-y],A=F.add?F.add.vmsk:null,h=0<=y?F.Gt(s,M.length==1,!1,!0):-1e3<y?a.z._E(A.u,M.length==1&&A.Y.length!=0?A.Y:null):F.S.v();
O=O.v8(h);if(y>0&&F.add.artb)P=P.v8(F.Kj())}if(!P.g3())return P;if(O.A==0){if(O.$==0)return O;O.x-=10;
O.A+=20}if(O.$==0){O.y-=10;O.$+=20}return O};$.TR.prototype.eR=function(s,M,O,P){var y=new kg(M,!0);
y.data=O;if(P)y.l=P;s.a(y)};$.TR.Ku=function(s){var M=[];for(var R=0;R<s.U.length;R++)M.push(R);for(var R=0;
R<s.J4.length;R++)M.push(-1-R);for(var R=0;R<s.dj.length;R++)M.push(-1e3-R);return M};$.TR.IJ=function(s,M,O){var P=[];
for(var R=0;R<M.length;R++){var y=M[R],F,A;if(y>=0){F=s.U[y];A=F.Ob(s,O,!0)}else if(y>-1e3){F=s.J4[-1-y];
A=[2]}else{P.push([null,null,null,null,null,null,null,s.dj[-1e3-y].v()]);continue}var h=[],m=A.indexOf(0)!=-1;
if(m){var Z={Pu:F.add.SoLd?null:[F.buffer.slice(0),F.S.v()]};h.push(Z);if(F.o7()){var u=F.UU(s);Z.aHT=u.buffer.slice(0);
Z.aB$=u.S.v()}}else h.push(null);if(A.indexOf(1)!=-1)h.push(F.Bl().v());else h.push(null);if(A.indexOf(2)!=-1)h.push({Va:F.add.vmsk.v(),To:F.add.vstk?a.G(F.add.vstk):null,Rw:F.add.vstk?aV.Lj(s.U[y].add):null,S0:F.add.vstl?JSON.stringify(F.add.vstl):null,cV:F.add.vogk?a.G(F.add.vogk):null});
else h.push(null);if(F.add.TySh&&m){iP.Cg(F.add.TySh);h.push(F.add.TySh.M.v())}else h.push(null);if(F.add.SoLd&&m)h.push(a.G(F.add.SoLd));
else h.push(null);if(A.indexOf(3)!=-1)h.push(F.UU(s).$E.v());else h.push(null);if(F.add.lmfx)h.push(JSON.stringify(F.add.lmfx));
else h.push(null);P.push(h)}return P};$.TR.aAQ=function(s,M,O){for(var R=0;R<M.length;R++){var P=M[R],y=0<=P?s.U[P]:-1e3<P?s.J4[-1-P]:s.dj[-1e3-P],F=O[R];
if(F[0]){if(F[0].Pu){y.S=F[0].Pu[1].v();y.buffer=F[0].Pu[0].slice(0)}if(y.o7()){var A=y.UU(s);A.buffer=F[0].aHT.slice(0);
A.S=F[0].aB$.v()}}if(F[1]){y.Bl().N=F[1].N.slice(0);y.Bl().S=F[1].S.v();y.Bl().oy=!0}if(F[2]){y.add.vmsk=F[2].Va.v();
if(F[2].Rw)aV.IR(y.add,F[2].Rw);if(F[2].To)y.add.vstk=a.G(F[2].To);if(F[2].cV)y.add.vogk=a.G(F[2].cV);
if(F[2].S0)y.add.vstl=JSON.parse(F[2].S0)}if(F[3]){y.add.TySh.M=F[3].v();iP.ND(y.add.TySh)}if(F[4]){y.add.SoLd=a.G(F[4])}if(F[5]){var h=y.UU(s).$E;
h.N=F[5].N.slice(0);h.S=F[5].S.v()}if(F[6]){y.add.lmfx=JSON.parse(F[6])}if(F[7]){y.N=F[7].N.slice(0);
y.S=F[7].S.v();y.oy=!0}if(0<=P){y.uH(s);y.vw();if(F[4])y.VN(s,!1)}}s.vw()};$.TR.a0c=function(s,M,O){s.depth=O;
s.buffer=a.j(s.A*s.$*4,O);for(var R=0;R<M.length;R++){var P=M[R];if(0<=P){var y=s.U[P],F=y.Bl();if(F){F.N=a.Gp(F.N,O);
F.oy=!0}if(y.add.vmsk)y.add.vmsk.oy=!0;if(y.tE())y.uH(s);else if(y.add.SoLd){if(y.o7()){var A=y.UU(s),F=A.$E;
if(F){F.N=a.Gp(F.N,O);F.oy=!0}}y.VN(s)}else y.buffer=a.Gp(y.buffer,O);y.vw()}else if(-1e3<P){}else{var F=s.dj[-1e3-P];
F.N=a.Gp(F.N,O)}}s.vw()};$.TR.ayG=function(s,M,O){var P,y,F=17,A=s.s5();if(A){F=A[2];P=A[3].slice(0)}if(O){var h=ICC.R(O.buffer);
y=ICC.U.sampleLUT(h,F,!0)}for(var R=0;R<M.length;R++){var m=M[R];if(0<=m){var Z=s.U[m];if(Z.tE())Z.uH(s);
else if(Z.add.SoLd){}else{if(P)ICC.U.applyLUT(P,F,Z.buffer,Z.buffer);if(y)ICC.U.applyLUT(y,F,Z.buffer,Z.buffer)}Z.vw()}}s.vw()};
$.TR.MB=function(s,M){if(M.a0e){var O=s.s5();s.A1(M.a0e[0]);M.a0e=[O?O[0]:null]}if(M.U==null)return;
var P=$.TR.IJ(s,M.U,M.Wr);if(M.depth!=null){var y=M.depth;M.depth=s.depth;s.depth=y;s.buffer=a.j(s.A*s.$*4,s.depth);
s.vw()}$.TR.aAQ(s,M.U,M.c7);M.c7=P};$.TR.b3=function(s,M,O,P,y,F,A,h,m,Z){if(typeof F[0]=="number"){var u=[];
for(var R=0;R<O.length;R++)u[R]=F;F=u}for(var R=0;R<O.length;R++){var f=F[R],U=a.F.to(f),C=U.dI(),H=O[R],t=0<=H?s.U[H]:-1e3<H?s.J4[-1-H]:s.dj[-1e3-H],X=P[R];
if(t.add&&t.add.lmfx&&h)cb.TV(t.add.lmfx,C);if(X[0]&&!X[3]&&!X[4]&&!X[5]){var Q=X[0].Pu;if(m){var D=m.OK(Q[1]),L=a.j(D.C()*4);
a.FP(Q[0],Q[1],L,D);Q=[L,D]}var E=$.TR.nZ(Q,y,f,A,y==0?t.buffer.buffer:null,null,Z);if(E){t.S=E.S;t.buffer=E.buffer}}if(X[1]){var _=t.Bl();
$.TR.Hf(s,X[1],_,y,f,A,_.CG&&A&&!a.Z6.Gn(A)&&X[0]?X[0].Pu[1]:null);if(m){var D=_.S.OK(m),S=a.j(D.C());
a.TT(_.N,_.S,S,D);_.N=S;_.S=D}}if(X[2]){var W=A&&!a.Z6.Gn(A),g=X[2].Va.v(),x=O.length==1&&g.Y.length!=0,V=O.length==1&&g.MO.length>1;
if(V)x=!1;var b=x?g.Y:null,N=V?g.MO:null;if(W){var J=a.Z6.Kx(A);a.F.M(f,J[3]);a.z.aJz(g.u,J,b,N)}else a.z.avD(g.u,f,b,N);
if(t.add.vstk&&h){t.add.vstk.strokeStyleLineWidth.v.val=X[2].To.strokeStyleLineWidth.v.val*C;var K=X[2].Rw;
if(K&&K.tn==3){K=a.G(K);var q=K.Rw.phase.v;K.Rw.Scl.v.val=Math.round(K.Rw.Scl.v.val*C);q.Hrzn.v=Math.round(q.Hrzn.v*C);
q.Vrtc.v=Math.round(q.Vrtc.v*C);aV.IR(t.add,K)}}if(t.add.vogk){t.add.vogk=a.G(X[2].cV);if(W||V)a.cV.aj0(t.add.vogk);
else a.cV.M(t.add.vogk,f,O.length>1?[]:g.Y,h)}if(t.add.vstl){var d=t.add.vstl=JSON.parse(X[2].S0);for(var l=0;
l<2;l++){var T=l==0?d.Tq:d.Jc;if(T==null||T[3]==null)continue;var B=T[3],p=new kp(B[0],B[1],B[2],B[3],B[4],B[5]);
p.concat(U);T[3]=[p.cd,p.X,p.xN,p.zv,p.cj,p.H3]}}g.CN*=C;var I=new kp;I.rotate(g.YW);I.concat(U);g.YW=Math.atan2(-I.X,I.cd);
t.add.vmsk=g;if(t.add.vogk)a.cV.hl(t.add.vogk,t.add.vmsk)}if(X[3]){var p=X[3].v();p.concat(U);t.add.TySh.M=p;
iP.ND(t.add.TySh);bZ.lC(t,M.s4)}if(X[4]){var w=t.add.SoLd,e=$.TR.NI(X[4].nonAffineTransform);a.F.M(f,e);
var G=a.b.q7(e);if(aj.Qa(e)){if(A){var j=a.b.hG(a.Z6.Kx(X[4].quiltWarp.v)[3]),S=a.F.da(e,j),o=a.b.hG(a.Z6.Kx(A)[3]);
e=[o.x,o.y,o.x+o.A,o.y,o.x+o.A,o.y+o.$,o.x,o.y+o.$];a.F.M(S,e);w.quiltWarp.v=A}var r=a.F.da(e),k=e;if(!a.F.w1(r)){r[6]=r[7]=0;
k=[0,0,1,0,1,1,0,1];a.F.M(r,k)}w.Trnf=$.TR.kZ(k);w.nonAffineTransform=$.TR.kZ(e);if(w.filterFX)w.filterFX=a.G(X[4].filterFX);
$.TR.a9L(w,U);t.VN(s,y==0,M.s4)}}if(X[5])$.TR.Hf(s,X[5],t.UU(s).$E,y,f,A);if(X[7])$.TR.Hf(s,X[7],t,y,f,A);
if(0<=H){if(!Z)t.FW();t.uH(s);t.vw();if(t.aD)t.aD.gC=!0}}s.vw()};$.TR.aef=function(s,M){var O=M.dI(),P=0;
a.uC(s);var y=a.aB9(s,M,.3,4);P=y[0];M=y[1];var F=s[P],A=s[P+1],h=a.$i(F),m=A.A,Z=A.$,u=a.b.hC(A).L;
a.b.M(u,M,u);var f=a.b.q7(u),U=a.j(f.C(),h),C=f.x,H=f.y,t=f.A,X=f.$,Q=M.v();Q.or();var D=Q.Kw(new j6(0,0)),L=Q.Kw(new j6(1,0)),E=L.x-D.x,_=L.y-D.y;
for(var S=0;S<X;S++){var W=Q.cd*(C+.5)+Q.xN*(S+H+.5)+Q.cj,g=Q.X*(C+.5)+Q.zv*(S+H+.5)+Q.H3;if(h==8)for(var x=0;
x<t;x++){if(.5<W&&W<m-.5&&.5<g&&g<Z-.5)U[S*t+x]=Math.floor(.5+a.F.aLm(W,g,F,m,Z));W+=E;g+=_}else if(h==16)for(var x=0;
x<t;x++){if(.5<W&&W<m-.5&&.5<g&&g<Z-.5)U[S*t+x]=Math.floor(.5+a.F.adq(W,g,F,m,Z));W+=E;g+=_}else if(h==32)for(var x=0;
x<t;x++){if(.5<W&&W<m-.5&&.5<g&&g<Z-.5)U[S*t+x]=a.F.adq(W,g,F,m,Z);W+=E;g+=_}}return{S:f,N:U}};$.TR.GI=function(s,M,O,P,y){if(O==null)O=!1;
return $.TR.nZ(s,O?0:1,a.F.y1(M),null,P,y,O)};$.TR.nZ=function(s,M,O,P,y,F,A){if(A==null)A=!1;if(A&&F)throw"e";
var h=a.$i(s[0]),m={},U=0;if(P&&!a.Z6.Gn(P)){var Z=a.Z6.Kx(P);a.F.M(O,Z[3]);m.S=a.b.q7(Z[3]);m.buffer=a.j(m.S.C()*4,h);
var u=a.Z6.Gt(P);u.x=u.y=0;var f=s[1].v();if(u.C()==f.C())f.x=f.y=0;a.W$.drawImage(Z,s[0],f,u,m.buffer,m.S,M==0);
return m}if(a.F.w1(O)){a.pT(s);var C=.3,U=0,H=a.F.to(O),t=s[1],X=t.C()*H.dI();if(A&&X>4e6)C=X>8e6?2.2:1.2;
var Q=a.aB9(s,H,C,16);U=Q[0];O=a.F.y1(Q[1])}var D=s[U],t=s[U+1],L=a.F.u2(O,a.F.y1(new kp(t.A,0,0,t.$,t.x,t.y))),E=[0,0,1,0,1,1,0,1];
for(var _=.1;_<.99;_+=.1)E.push(0,_,_,0,1,_,_,1);a.F.M(L,E);m.S=a.b.q7(E,!0);if(F)m.S=m.S.OK(F);if(A){while((m.S.A&3)!=0)m.S.A++;
while((m.S.$&3)!=0)m.S.$++}if(m.S.A>1e5||m.S.$>1e5||m.S.C()>3e4*3e4)return null;var S=m.S.C()*4;if(h==8&&y&&y.byteLength>=S&&S>=y.byteLength>>2){m.buffer=new Uint8Array(y)}else{m.buffer=a.j(S,h)}a.F.drawImage(L,D,t.A,t.$,m.buffer,m.S,M==0,A);
if(M==2&&m.buffer){var W=m.S.A,g=m.S.$,x;x=[0,-1,0,-1,16,-1,0,-1,0];x=a.nG.RN(x);var V=m.buffer.slice(0);
a.nG.rI(V,m.buffer,W,g,x,!0,!1)}if(m.buffer)return m};$.TR.Hf=function(s,M,O,P,y,F,A){var h=M.S,m=M.N;
if(A){h=A;m=M.mw(h)}if(M.color==255)a.or(m);var Z=a.j(h.C()*4,s.depth);a.GS(m,Z,3);var u=$.TR.nZ([Z,h],P,y,F);
if(u){O.S=u.S;O.N=a.j(u.S.C(),s.depth);a.YT(u.buffer,O.N,3);O.oy=!0}if(M.color==255){a.or(m);if(u)a.or(O.N)}};
$.TR.a9L=function(s,M){var O=s.filterFX;if(O)O=O.v.filterFXList;if(O)O=O.v;if(O)for(var P=0;P<O.length;
P++){var y=O[P].v.Fltr;if(y==null)continue;var F=y.v.classID;y=y.v;if(F!="rigidTransform"&&F!="blurbTransform"&&F!="perspectiveWarpTransform")continue;
var A=[];for(var h=0;h<4;h++)A.push(y["PuX"+h].v,y["PuY"+h].v);var m=A.slice(0);a.b.M(A,M,A);for(var h=0;
h<4;h++){y["PuX"+h].v=A[h*2];y["PuY"+h].v=A[h*2+1]}if(F=="rigidTransform"){var Z=["PinP","posFinalPins"],u=["originalVertexArray","deformedVertexArray"],f=y.puppetShapeList.v;
for(var U=0;U<f.length;U++){var C=f[U].v;for(var H=0;H<Z.length;H++){var t=$.TR.NI(C[Z[H]]);a.b.M(t,M,t);
C[Z[H]]=$.TR.kZ(t);var X=new Uint8Array(C[u[H]].v),m=new Float32Array(X.buffer);a.b.M(m,M,m);var Q=[];
for(var D=0;D<X.length;D++)Q[D]=X[D];C[u[H]].v=Q}}}if(F=="blurbTransform"){var L=a.dx.qH(y);a.dx.M(L,M);
a.dx.B1(L[0],y)}if(F=="perspectiveWarpTransform"){var E=a.v9.Jq(y);a.b.M(E.fz,M,E.fz);a.b.M(E.iR,M,E.iR);
a.v9.zC(E,y)}}};$.TR.NI=function(s){var M=[],O=s.v.length;for(var R=0;R<O;R++)M.push(s.v[R].v);return M};
$.TR.kZ=function(s){var M={t:"VlLs",v:[]},O=s.length;for(var R=0;R<O;R++)M.v.push({t:"doub",v:s[R]});
return M};$.TR.prototype.ac$=function(){var s=a.b.hG(a.Z6.Kx(this.eA.Il())[3]),M=a.F.da(this.av.yK(),this.gj),O=[s.x,s.y,s.x+s.A,s.y,s.x+s.A,s.y+s.$,s.x,s.y+s.$];
a.F.M(M,O);this.av.Wu(O);this.gj=s};$.TR.prototype.dW=function(){var s=a.F.da(this.av.yK(),this.gj);
if(this.mT)s=a.F.u2(s,a.F.y1(this.mT));return s};$.TR.prototype.rj=function(s,M,O,P){var y=this.dW();
y=a.F.u2(y,a.F.or(this.el));var F=this.eA?this.eA.Il():null;if(this.NL==0){var A=this.Mr=a.F.to(y);if(this.id==$.Ef){var h=this.c7[0][0],m=h.Pu,Z=m[1],u=~~(Z.A*Math.max(0,A.cd)),f=~~(Z.$*Math.max(0,A.zv)),U=new gi(Math.round(A.cd*Z.x+A.cj),Math.round(A.zv*Z.y+A.H3),u,f),C=a.Ex.M(this.Uk,U),H=s.U[this.U[0]];
H.buffer=a.Gp(C,s.depth);H.S=U;H.vw();s.vw()}else $.TR.b3(s,M,this.U,this.c7,O,y,F,null,null,P)}else if(this.NL==1){var t=s.U[this.U[0]],Z=this.M5.Iz;
if(t.KV<=0){var X=this.M5.OC,Q=this.Cm,D=null;if(F&&!a.Z6.Gn(F)&&!Q.S.s0(Z)){var C=a.j(Q.S.C()*4);a.FP(X,Z,C,Q.S);
X=C;Z=Q.S}if(this.id==$.Ef){var A=this.Mr=a.F.to(y),u=~~(Z.A*Math.max(0,A.cd)),f=~~(Z.$*Math.max(0,A.zv)),U=new gi(Math.round(A.cd*Z.x+A.cj),Math.round(A.zv*Z.y+A.H3),u,f),C=a.Ex.M(this.Uk,U);
D={buffer:a.Gp(C,s.depth),S:U}}else D=$.TR.nZ([X,Z],O,y,F);if(D){t.na.bC=D.buffer;t.na.iU=D.S;var L=a.j(D.S.C(),s.depth);
a.YT(t.na.bC,L,3);s.h={N:L,S:t.na.iU.v()}}}else{var E=a.j(Z.C()*4);a.GS(this.M5.OC,E,3);var D=$.TR.nZ([E,Z],O,y,F);
if(D){t.na.bC=a.j(D.S.C());a.YT(D.buffer,t.na.bC,3);t.na.iU=D.S}this.a8w(s,O,y,F)}t.u8(s,0,0,s.h);if(O!=0){t.FW();
a.FW(s.h)}s.Yw=!0;s.vw()}else if(this.NL==2)this.a8w(s,O,y,F)};$.TR.prototype.a8w=function(s,M,O,P){var y=this.Cm.S,F=a.j(y.C()*4);
a.GS(this.Cm.N,F,3);var A=$.TR.nZ([F,y],M,O,P),h=a.j(A.S.C());a.YT(A.buffer,h,3);s.h={N:h,S:A.S};s.Yw=!0};
$.TR.prototype.disable=function(s,M,O,P){if(this.av)this.nb(s,M,null,!0)};$.asR=function(){$.TR.call(this,[10,16],$.wO,"tools/transform")};
$.asR.prototype=new $.TR;$.aby=function(){$.TR.call(this,[7,10],$.PF,"tools/transform")};$.aby.prototype=new $.TR;
$.avJ=function(){$.TR.call(this,[10,48],$.Ef,"tools/transform")};$.avJ.prototype=new $.TR;$.sc=function(s,M,O){$._g.call(this,s?s:[10,40],M?M:$.bj,O?O:"tools/slice");
this.lX=null;this.$V=null;this.jc={t:0,x:0,y:0};this.bp=null;this.awD=null;this.yq=null;this.Zd=null};
$.sc.prototype=new $._g;$.sc.kP=function(s,M){var O=-1;for(var R=0;R<s.length;R++){var P=$.sc.kY(s,R);
if(P[0]<=M.x&&M.x<=P[2]&&P[1]<=M.y&&M.y<=P[3]){O=R;break}}return O};$.sc.prototype.cu=function(s,M,O,P,y){if(O==null)return;
this.ao(O);if(s.Q=="fromAction"){var F=s.Q1,A=F.Cw,h=F.kT,m=O.T_(),Z=O.E8(),u=Z==-1?new gi(0,0,O.A,O.$):O.U[Z].Kj();
if(A=="divide"){if(O.MJ.length!=0){var f=O.MJ[0],U=$.sc.kY(O.$X,f);u=new gi(U[0],U[1],U[2]-U[0],U[3]-U[1]);
O.$X.splice(f,1);O.MJ=[]}m=[[],[]];for(var C=0;C<2;C++){var H=["Across","Down"][C],t=h["pixels"+H]?0:1,X=h[["pixels","slices"][t]+H];
if(X==null)continue;X=X.v;var Q=C==0?u.x:u.y,D=C==0?u.A:u.$;if(t==0)for(var R=1;R*X<D;R++){m[0].push([C,Q+R*X]);
m[1].push(Z)}else{var L=Math.floor(D/X);for(var R=1;R<X;R++){m[0].push([C,Q+R*L]);m[1].push(Z)}}}}var E=[u.x,u.x+u.A],_=[u.y,u.y+u.$];
for(var R=0;R<m[0].length;R++){var S=m[0][R],W=Math.round(S[1]),g=m[1][R];if(g!=-1&&g!=Z)continue;if(S[0]==0&&E.indexOf(W)==-1)E.push(W);
if(S[0]==1&&_.indexOf(W)==-1)_.push(W)}E.sort(function(T,B){return T-B});_.sort(function(T,B){return T-B});
for(var x=1;x<_.length;x++)for(var V=1;V<E.length;V++){O.$X.push($.sc.vA());$.sc.iK(O.$X,O.$X.length-1,[E[V-1],_[x-1],E[V],_[x]]);
O.G_=!0}}else if(s.Q=="reorder"){if(O.MJ.length==0)return;var b=O.$X,N=O.MJ;N.sort(function(T,B){return T-B});
console.log(N);var J=b.slice(0),K=[],q=[];for(var R=0;R<N.length;R++){var f=N[R],d=b[f];q.push(d);J.splice(J.indexOf(d),1)}var l=Math.max(0,Math.min(J.length,N[0]-s.dir));
for(var R=0;R<q.length;R++){J.splice(l+R,0,q[R]);K.push(l+R)}O.$X=J;O.MJ=K}else if(s.Q=="delete"){var b=O.$X.slice(0);
for(var R=0;R<O.MJ.length;R++)O.$X.splice(O.$X.indexOf(b[O.MJ[R]]),1);O.MJ=[]}else if(s.Q=="deleteAll"){O.$X=[];
O.MJ=[]}else{O.$X[O.MJ[0]].v=s;O.G_=!0}this.P9(O)};$.sc.prototype.enable=function(s,M,O,P,y,F){$._g.prototype.enable.call(this,s,M,O,P,y,F);
if(!O.QZ.$X){var A=new kg(z.E.c,!0);A.data={Q:z.J.ko,dh:g5.R3};M.a(A)}};$.sc.prototype.disable=function(){this.lX=null;
this.$V=null};$.sc.prototype.z4=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=$.sc.kP(s.$X,F);if(A==-1)return;
this.lX=s;this.$V=M;s.MJ=[A];s.G_=!0;if(this.Zd==null){this.Zd=new kA([{name:[5,4]},{name:[8,11,1],GL:!0}]);
this.Zd.k("select",this.sj,this)}var h=this.Zd;h.parent=M;h.T();h.update(s,O);var m=new kg(z.E.c,!0);
m.data={Q:z.J.EU,uJ:h,x:y.DE+2,y:y.kC+1};M.a(m)};$.sc.prototype.sj=function(s){var M=this.Zd.x2()[0],O=this.lX;
if(M==0){this.ao(O);O.$X.splice(O.MJ[0],1);O.MJ=[];O.G_=!0;this.P9(O)}if(M==1){var P=new kg(z.E.c,!0);
P.data={Q:z.J.xL,Rj:"soptions",K:O.$X[O.MJ[0]].v};this.$V.a(P)}};$.sc.prototype.nD=function(s,M,O,P,y){if(s==null)return;
this.ao(s);var F=s.i.ni(y.x,y.y);F=$.$O.cs(s,F,O,[!0,null,!1]);F.x=Math.round(F.x);F.y=Math.round(F.y);
this.yq=F;s.$X.unshift($.sc.vA());s.MJ=[0];$.sc.iK(s.$X,0,[F.x,F.y,F.x+20,F.y+20]);s.G_=!0};$.sc.prototype.nh=function(s,M,O,P,y){if(this.bp==null)return;
var F=s.i.ni(y.x,y.y),A=this.yq;F=$.$O.cs(s,F,O,[!0,null,!1]);var h=$.gw.D0(A,F,P,!0,this.jc);A=h[0];
F=h[1];var m=[A.x,A.y,F.x,F.y];$.sc.aoF(m);$.sc.iK(s.$X,0,m);s.G_=!0};$.sc.prototype.Cq=function(s,M,O,P,y){this.P9(s);
this.yq=null};$.sc.prototype.ao=function(s){this.bp=JSON.stringify(s.$X);this.awD=JSON.stringify(s.MJ)};
$.sc.prototype.P9=function(s){var M=JSON.stringify(s.$X);if(M!=this.bp){var O=new aA(this.name,this);
O.data={M5:this.bp,pv:M,aDx:this.awD,a7V:JSON.stringify(s.MJ)};s.Bx(O)}this.bp=null};$.sc.prototype.QB=function(s,M){M.$X=JSON.parse(s.M5);
M.MJ=JSON.parse(s.aDx);M.G_=!0};$.sc.prototype.n5=function(s,M){M.$X=JSON.parse(s.pv);M.MJ=JSON.parse(s.a7V);
M.G_=!0};$.sc.prototype.cZ=function(s,M){return M!=null&&M.MJ.length!=0&&(s==hj.y6||s==hj.Di)};$.sc.prototype.lJ=function(s,M,O,P){if(s==null)return;
if(P.D(hj.y6)||P.D(hj.Di))this.cu({Q:"delete"},M,s,P,O);var y=P.Ry();if(y.x!=0||y.y!=0){this.ao(s);$.sc.YA(s,y);
this.P9(s)}};$.sc.prototype.j9=function(s,M,O,P,y){this.jc=s.Cb};$.sc.aHW=function(s,M,O,P){var y=new j6(-M.x,-M.y),F=M.A/O.A,A=M.$/O.$,h=[0,0,M.A,M.$];
for(var R=0;R<s.length;R++){var m=$.sc.kY(s,R);if(P){m[0]=Math.round(m[0]*F);m[1]=Math.round(m[1]*A);
m[2]=Math.round(m[2]*F);m[3]=Math.round(m[3]*A)}else{$.sc.ok(m,y);$.sc.azd(m,h)}if(m[0]>=m[2]||m[1]>=m[3]){s.splice(R,1);
R--;continue}$.sc.iK(s,R,m)}};$.sc.YA=function(s,M){var O=s.$X;for(var R=0;R<s.MJ.length;R++){var P=$.sc.kY(O,s.MJ[R]);
$.sc.ok(P,M);$.sc.iK(O,s.MJ[R],P)}};$.sc.azd=function(s,M){if(s[0]<M[0])s[0]=M[0];if(s[1]<M[1])s[1]=M[1];
if(M[2]<s[2])s[2]=M[2];if(M[3]<s[3])s[3]=M[3]};$.sc.ok=function(s,M){s[0]=Math.round(s[0]+M.x);s[2]=Math.round(s[2]+M.x);
s[1]=Math.round(s[1]+M.y);s[3]=Math.round(s[3]+M.y)};$.sc.iK=function(s,R,M){var O=s[R].v.bounds.v;O.Left.v=M[0];
O.Top.v=M[1];O.Rght.v=M[2];O.Btom.v=M[3]};$.sc.kY=function(s,R){var M=s[R].v.bounds.v;return[M.Left.v,M.Top.v,M.Rght.v,M.Btom.v,R]};
$.sc.aoF=function(s){if(s[2]<s[0]){var M=s[0];s[0]=s[2];s[2]=M}if(s[2]==s[0])s[2]++;if(s[3]<s[1]){var M=s[1];
s[1]=s[3];s[3]=M}if(s[3]==s[1])s[3]++};$.sc.hG=function(s,M){var O=1e9,P=-1e9,y=1e9,F=-1e9;for(var R=0;
R<M.length;R++){var A=$.sc.kY(s,M[R]);O=Math.min(O,A[0]);y=Math.min(y,A[1]);P=Math.max(P,A[2]);F=Math.max(F,A[3])}return[O,y,P,F]};
$.sc.vA=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
$.TL=function(){$.sc.call(this,[10,41],$.$q,"tools/sselect");this.yq=null;this.AW=null;this.fD=null;
this.kD=null;this.aF1=!1};$.TL.prototype=new $.sc;$.TL.prototype.nD=function(s,M,O,P,y){if(s==null)return;
var F=s.i.ni(y.x,y.y),A=$.TL.ahw(F,4/s.i.xq,s.$X,s.MJ);A.pop();if(A.length!=0){this.yq=F;this.fD=A;this.ao(s);
return}var h=s.$X,m=$.sc.kP(h,F);if(m==-1)s.MJ=[];else{var Z=s.MJ.indexOf(m);if(P.D(hj.Y1)){if(Z==-1)s.MJ.push(m);
else s.MJ.splice(Z,1)}else{s.MJ.sort(function(t,X){return t-X});if(Z==-1)s.MJ=[m];this.yq=F;this.ao(s);
this.AW=$.sc.hG(h,s.MJ);this.kD=[];for(var R=0;R<s.MJ.length;R++)this.kD.push($.sc.kY(h,s.MJ[R]));if(P.D(hj.tT)){var u=h.slice(0),f=s.MJ,U=[];
for(var R=0;R<f.length;R++){var m=f[R],C=u[m],H=h.indexOf(C);U.push(H);h.splice(H,0,a.G(C))}s.MJ=U}}}s.G_=!0};
$.TL.prototype.nh=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y);if(this.yq==null){var A=$.TL.ahw(F,4/s.i.xq,s.$X,s.MJ),h=A.pop(),m=A.length==0?"default":["ew","nwse","ns","nesw"][h]+"-resize",Z=new kg(z.E.c,!0);
Z.data={Q:z.J.ag,Fi:m};M.a(Z);return}if(!this.aF1&&F.s0(this.yq))return;this.aF1=!0;var u=s.$X,A=this.fD;
if(A){F=$.$O.cs(s,F,O,[!0,null,!1]);var f=Math.round(F.x),U=Math.round(F.y);for(var R=0;R<A.length;R+=2){var C=$.sc.kY(u,A[R]),H=A[R+1];
C[H]=(H&1)==0?f:U;$.sc.aoF(C);$.sc.iK(u,A[R],C)}}else{var t=F.TA(this.yq),X=this.AW.slice(0);$.sc.ok(X,t);
var Q=new gi(X[0],X[1],X[2]-X[0],X[3]-X[1]),D=$.$O.ws(s,Q,O,[!0,null,!1],!0);$.$O.ea(s,Q,D);t.x+=D[0];
t.y+=D[1];for(var R=0;R<s.MJ.length;R++)$.sc.iK(u,s.MJ[R],this.kD[R]);$.sc.YA(s,t)}s.G_=!0};$.TL.prototype.Cq=function(s,M,O,P,y){if(this.yq==null)return;
this.P9(s);s.W.P6=null;s.G_=!0;this.yq=null;this.fD=null;this.kD=null;this.aF1=!1};$.TL.ahw=function(s,M,O,P){var y=s.x,F=s.y,A=[],h=-1,m=[];
for(var R=0;R<P.length;R++){var Z=P[R],u=$.sc.kY(O,Z),f=u[0],U=u[1],C=u[2],H=u[3];if(y<f-M||C+M<y||F<U-M||H+M<F)continue;
var t=[y<f+M,F<U+M,C-M<y,H-M<F],X=-1;for(var Q=0;Q<4;Q++){if(t[Q]&&t[Q+1&3])X=1+2*(Q&1);if(t[Q])A.push(Z,Q)}if(X==-1){if(t[0]||t[2])X=0;
if(t[1]||t[3])X=2}if(X!=-1){h=X;m.push(Z)}}var D=A.length;for(var R=0;R<D;R+=2){var Z=A[R],L=A[R+1],E=$.sc.kY(O,Z)[L];
for(var Q=0;Q<P.length;Q++){var _=P[Q];if(m.indexOf(_)!=-1)continue;var u=$.sc.kY(O,_);if(u[L&1]==E)A.push(_,L&1);
if(u[2+(L&1)]==E)A.push(_,2+(L&1))}}A.push(h);return A};$.uI=function(s,M,O){$._g.call(this,s,M,O);this.OT=null;
this.a06=null;this._a=null;this.Ia=null;this.o8=null;this.RQ=null;this.Df=null;this.BR=[]};$.uI.prototype=new $._g;
$.uI.prototype.bA=function(){return!0};$.uI.Te=function(s){if(s==null)return!1;if(s.Y.length!=1)return!1;
var M=s.U[s.Y[0]];return M.add.SoLd||s.Y7(!1)};$.uI.prototype.LE=function(s,M){return $.uI.Te(s)};$.uI.prototype.cZ=function(s,M){return s==hj.y6||s==hj.Di};
$.uI.prototype.enable=function(s,M,O,P,y,F,A){this.a06=F.JR;var h=F.JR,m,H=null;if(h){var Z=s.U[h.w];
if(Z.add.SoLd.filterFX!=null){var u=Z.add.SoLd.filterFX.v.filterFXList.v;if(u[h.index])m=a.G(u[h.index].v.Fltr.v)}}var Z=s.U[s.Y[0]],f=Z.buffer,U=Z.S,C=Z.add.SoLd;
if(C){var t=C.nonAffineTransform.v;H=[];for(var R=0;R<4;R++)H.push(t[R*2].v,t[R*2+1].v);if(m==null)this.Nk("edit",M);
var X=Z.UU(s);f=X.buffer;U=X.S}this.Ia={buffer:f.slice(0),S:U.v(),ex:H};this.C4(m,s,M,F.aE6);this.Vb(M);
var Q=new kg(z.E.c,!0);Q.data={Q:z.J.ag,Fi:"default"};M.a(Q)};$.uI.prototype.Vb=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.Qo,l:this.id,dh:this.o8};s.a(M)};$.uI.prototype.disable=function(s,M,O,P){if(this.RQ)this.nb(s,M,!0)};
$.uI.prototype.Nk=function(s,M){var O=new kg(z.E.H,!0);O.l=$.JG;O.data={Q:s,JR:this.a06,OT:this.OT,rM:this._a};
M.a(O)};$.uI.prototype.nb=function(s,M,O){this.Nk("confirm",M);this.escape(s,M,O)};$.uI.prototype.zZ=function(s,M,O){this.Nk("cancel",M);
this.escape(s,M,O)};$.$R=function(s,M,O){$.uI.call(this,[10,46],$.s1,"tools/transform");this.OT="rigidTransform";
this.o8=[1,1,2,!0]};$.$R.prototype=new $.uI;$.$R.prototype.C4=function(s,M,O){this._a=s?s:$.$R.Xe(this.Ia,this.o8);
this.RQ=$.$R.Kp(this._a,this.o8);this.pU();this.rF(M);if(s==null)this.gq(O)};$.$R.prototype.pU=function(s){var M=this.RQ;
this.BR=[];for(var R=0;R<M.length;R++){var O=M[R];for(var P=0;P<O.Y.length;P++)this.BR.push([R,O.Y[R]]);
O.qs=a.JJ.av5(O);if(s)a.JJ.ad_(O)}};$.$R.prototype.j9=function(s,M,O,P){if(s.IY=="commit")this.nb(O,M,!0);
else if(s.IY=="cancel")this.zZ(O,M,!0);else if(s.IY=="prm"){var y=!1;for(var R=0;R<3;R++)if(this.o8[R]!=s.dh[R])y=!0;
this.o8=s.dh;if(y){this._a=$.$R.Xe(this.Ia,this.o8,this._a);this.RQ=$.$R.Kp(this._a,this.o8);this.pU(!0);
this.gq(M)}this.rF(O)}else if(s.IY=="moveDepth"){var F=this.RQ;for(var A=0;A<F.length;A++){var h=F[A];
for(var R=0;R<h.Y.length;R++){var m=h.Y[R];h.iN[m]+=s.aih?1:-1}}this.gq(M)}};$.$R.prototype.lJ=function(s,M,O,P){var y=P.Ry();
if(P.D(hj.$g))this.nb(s,M,!0);else if(P.D(hj.ob))this.zZ(s,M,!0);else if(P.D(hj.y6)||P.D(hj.Di)){var F=this.RQ;
for(var A=0;A<F.length;A++){var h=F[A];h.Y.sort(function(u,f){return f-u});for(var R=0;R<h.Y.length;
R++){var m=h.Y[R],Z=m*2;h.iN.splice(m,1);h.lK.splice(m,1);h.LO.splice(m,1);h.og.splice(m,1);h.Dm.splice(Z,2);
h.iR.splice(Z,2)}h.Y=[];if(h.og.length==0){h.f9=h.uv.slice(0);h.Lw=h.uv.slice(0)}}this.pU(!0);this.gq(M);
this.rF(s)}else if(y.x!=0||y.y!=0){this.awJ(s,y.x,y.y,M);this.pL=null}};$.$R.prototype.escape=function(s,M,O){s.W.CU=null;
s.W.jT=[];s.W.Zk=[];s.G_=!0;this.RQ=null;var P=new kg(z.E.c,!0);P.data={Q:z.J.qw};if(O)M.a(P)};$.$R.prototype.nD=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=F.x,h=F.y,m=this.RQ,Z=null,u=[0,2,4,1.2,1.2,1.2],f=-1,U=$.fo(s,y);
for(var R=0;R<m.length;R++){var C=m[R],H=a.b.Sk(C.iR,A,h,U);if(H!=-1)Z=[R,H];if(f==-1&&a.JJ.agN.a1a(C.Lw,C.EL,A,h))f=R}if(Z==null&&f!=-1){var C=m[f];
$.$R.aJb(C,A,h,A,h,0);Z=[f,C.og.length-1];C.qs=a.JJ.av5(C)}this.Df=F;if(Z){var t=m[Z[0]].Y.indexOf(Z[1])!=-1;
if(P.D(hj.Y1)&&!t){m[Z[0]].Y.push(Z[1]);this.BR.push(Z)}else if(!t){m[Z[0]].Y=[Z[1]];this.BR=[Z]}}this.rF(s)};
$.$R.aJb=function(s,M,O,P,y,F){var A=a.b.Sk(s.Lw,M,O);s.og.push(A);s.iR.push(P,y);s.Dm.push(s.Lw[A*2]-M,s.Lw[A*2+1]-O);
s.LO.push(0);s.lK.push(!1);s.iN.push(F)};$.$R.prototype.nh=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=this.Df;
if(A)this.awJ(s,F.x-A.x,F.y-A.y,M)};$.$R.prototype.awJ=function(s,M,O,P){var y={},F=this.BR,A=this.RQ;
if(this.pL==null){this.pL=[];for(var R=0;R<A.length;R++)this.pL.push(A[R].iR.slice(0))}for(var R=0;R<F.length;
R++){var h=this.BR[R],m=h[0],Z=A[h[0]],u=h[1]*2;Z.iR[u+0]=this.pL[m][u+0]+M;Z.iR[u+1]=this.pL[m][u+1]+O;
y[m]=m}for(var m in y)a.JJ.ad_(this.RQ[y[m]]);this.rF(s);this.gq(P)};$.$R.prototype.Cq=function(s,M,O,P,y){this.Df=null;
this.pL=null};$.$R.prototype.gq=function(s){$.$R.aHf(this.RQ,this.o8,this._a);this.Nk("edit",s)};$.$R.prototype.rF=function(s){var M=this.RQ,O=this._a;
s.W.CU={L:[],J8:[]};s.W.jT=[];s.W.Zk=[];for(var R=0;R<M.length;R++){var P=M[R];for(var y=0;y<P.iR.length;
y+=2){var F=s.W.Zk;if(P.Y.indexOf(y>>>1)!=-1)F=s.W.jT;F.push(P.iR[y],P.iR[y+1])}if(this.o8[3])a.b.concat(s.W.CU,a.b.akg(P.Lw,P.EL))}s.G_=!0};
$.$R.Xe=function(s,M,O){var P=s.buffer,y=s.S,F=s.ex,A=bW.Jb("rigidTransform");if(F)for(var R=0;R<4;R++){A["PuX"+R].v=F[R*2];
A["PuY"+R].v=F[R*2+1]}var h=A.puppetShapeList.v,m=a.JJ.aoT(P,y.A,y.$,M[1],M[2]),Z=[];for(var u=0;u<m.length;
u++){var f={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
f.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var U=m[u];h.push({t:"Objc",v:f});var C=U.uv.slice(0);a.b.M(C,new kp(1,0,0,1,y.x,y.y),C);var H=U.EL;
for(var R=0;R<H.length;R+=3){var t=H[R+1];H[R+1]=H[R+2];H[R+2]=t}Z.push({EL:H,uv:C,f9:C,Lw:C,og:[],Dm:[],iR:[],qs:null,Y:[],LO:[],lK:[],iN:[]})}if(O){var X=$.$R.Kp(O,[]),Q=Z[0];
for(var R=0;R<X.length;R++){var D=X[R];for(var L=0;L<D.Y.length;L++)Q.Y.push((Q.iR.length>>>1)+D.Y[L]);
for(var L=0;L<D.og.length;L++){var E=D.og[L]*2,_=D.uv[E]-D.Dm[L*2],S=D.uv[E+1]-D.Dm[L*2+1];$.$R.aJb(Q,_,S,D.iR[L*2],D.iR[L*2+1],D.iN[L])}}}$.$R.aHf(Z,M,A);
return A};$.$R.Kp=function(s,M){var O=$.TR.NI,P=s.puppetShapeList.v,y=[];for(var F=0;F<P.length;F++){var A=P[F].v;
M[0]=A.meshRigidity.v-1;M[1]=A.meshQuality.v-1;M[2]=A.meshExpansion.v;var h=A.pinVertexIndices.v.length,m=A.meshBoundaryPath.v.pathComponents.v;
if(m.length!=0){var Z=m[0].v.SbpL.v[0].v.Pts;Z.v=[]}var u=new Uint32Array(new Uint8Array(A.indexArray.v).buffer),f=new Float32Array(new Uint8Array(A.originalVertexArray.v).buffer),U=new Float32Array(new Uint8Array(A.deformedVertexArray.v).buffer),C=[],H=[],t=[];
for(var R=0;R<u.length;R++)C.push(u[R]);for(var R=0;R<f.length;R++){H.push(f[R]);t.push(U[R])}var X=O(A.pinVertexIndices),Q=O(A.pinOffsets),D=O(A.posFinalPins),L=O(A.PnRt),E=O(A.PnOv),_=O(A.PnDp),S=O(A.selectedPin);
y.push({EL:C,uv:H,f9:t.slice(0),Lw:t,og:X,Dm:Q,iR:D,qs:null,LO:L,lK:E,iN:_,Y:S})}return y};$.$R.aHf=function(s,M,O){function P(U,C){var H=[];
for(var R=0;R<U.length;R++)H.push({t:C,v:U[R]});return H}function y(U,C,H){var t=new(H?Uint32Array:Float32Array)(U),X=new Uint8Array(t.buffer);
for(var R=0;R<X.length;R++)C[R]=X[R]}var F=O.puppetShapeList.v;for(var A=0;A<F.length;A++){var h=s[A],m=F[A].v;
m.meshRigidity.v=M[0]+1;m.meshQuality.v=M[1]+1;m.meshExpansion.v=M[2];y(h.EL,m.indexArray.v,!0);y(h.uv,m.originalVertexArray.v);
y(h.Lw,m.deformedVertexArray.v);var Z=[];for(var R=0;R<h.og.length;R++){var u=h.og[R]*2,f=R*2;Z[f]=h.uv[u]-h.Dm[f];
Z[f+1]=h.uv[u+1]-h.Dm[f+1]}m.PinP.v=P(Z,"doub");m.pinVertexIndices.v=P(h.og,"long");m.pinOffsets.v=P(h.Dm,"doub");
m.posFinalPins.v=P(h.iR,"doub");m.PnRt.v=P(h.LO,"long");m.PnOv.v=P(h.lK,"bool");m.PnDp.v=P(h.iN,"doub");
m.selectedPin.v=P(h.Y,"long")}};$.ib=function(s,M,O){$.uI.call(this,"Perspective Warp",$.AQ,"tools/transform");
this.OT="perspectiveWarpTransform";this.Yv=-1;this.EP=-1;this.Mp=!1;this.aK8=!1};$.ib.prototype=new $.uI;
$.ib.prototype.C4=function(s,M,O){this._a=s?s:bW.Jb(this.OT);this.RQ=a.v9.Jq(this._a);if(this.Ia.ex){this.RQ.ex=this.Ia.ex;
a.v9.zC(this.RQ,this._a)}this.o8=this.RQ.Eq;this.Vb(O);this.rF(M)};$.ib.prototype.nD=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=this.RQ,h=A.Eq,m=h==0?A.fz:A.iR;
this.Mp=!0;if(h==0&&this.Yv==-1){var Z=m.length>>>1,u=-(s.A+s.$>>>4);A.jn.push(Z,Z+1,Z+2,Z+3);m.push(F.x,F.y,F.x+u,F.y,F.x+u,F.y+u,F.x,F.y+u);
A.iR=m.slice(0);this.aK8=!0;this.Yv=Z;a.v9.zC(A,this._a);this.rF(s)}if(this.Yv!=-1)this.EP=this.Yv};
$.ib.prototype.nh=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=this.RQ,h=A.Eq,m=h==0?A.fz:A.iR,Z=A.jn;
if(this.Mp){var u=this.Yv,f=m.slice(0);f[u*2]=F.x;f[u*2+1]=F.y;for(var R=0;R<Z.length;R+=4){var U=[];
for(var C=0;C<4;C++)U.push(f[2*Z[R+C]],f[2*Z[R+C]+1]);if(!aj.Qa(U))return}if(h==0){A.fz=f;if(this.aK8)A.iR=f.slice(0)}else{A.iR=f;
this.aK8=!1}a.v9.zC(A,this._a);if(h==1)this.Nk("edit",M)}else{var H=$.fo(s,y);this.Yv=a.b.Sk(m,F.x,F.y,H)}this.rF(s)};
$.ib.prototype.Cq=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=this.RQ,h=A.Eq,m=h==0?A.fz:A.iR,Z=A.jn,u=this.Yv;
this.Mp=!1;if(h==0&&u!=-1){var f=$.fo(s,y),U=a.b.Sk(m,F.x,F.y,f,u);if(U!=-1){if(U<u){var C=u;u=U;U=C}var H=Z.slice(0),t=m.slice(0);
t.splice(U*2,2);for(var R=0;R<H.length;R++){if(H[R]==U)H[R]=u;else if(H[R]>U)H[R]--}for(var R=0;R<H.length;
R+=4){for(var X=0;X<4;X++)for(var Q=X+1;Q<4;Q++)if(H[R+X]==H[R+Q])return}A.jn=H;if(h==0)A.fz=t;else A.iR=t;
a.v9.zC(A,this._a);this.rF(s)}}};$.ib.prototype.lJ=function(s,M,O,P){var y=P.Ry(),F=this.EP,A=this.RQ,h=A.Eq;
if(P.D(hj.$g))this.nb(s,M,!0);else if(P.D(hj.ob))this.zZ(s,M,!0);else if(P.D(hj.y6)||P.D(hj.Di))if(h==0&&F!=-1){var m=A.jn;
for(var R=0;R<m.length;R+=4){if(m[R]==F||m[R+1]==F||m[R+2]==F||m[R+3]==F){m.splice(R,4);R-=4}}var Z=[];
for(var R=0;R<A.fz.length;R++)Z.push(R);for(var R=(A.fz.length>>>1)-1;R>=0;R--){if(m.indexOf(R)==-1){Z.splice(R,1);
A.fz.splice(R*2,2);A.iR.splice(R*2,2)}}for(var R=0;R<m.length;R++)m[R]=Z.indexOf(m[R]);a.v9.zC(A,this._a);
this.EP=-1;this.rF(s)}};$.ib.prototype.j9=function(s,M,O,P){if(s.IY=="commit")this.nb(O,M,!0);else if(s.IY=="cancel")this.zZ(O,M,!0);
else{this.RQ.Eq=s.dh;a.v9.zC(this.RQ,this._a);this.rF(O);this.Nk("edit",M)}};$.ib.prototype.escape=function(s,M,O){s.W.tY=null;
s.W.jT=[];s.W.Zk=[];s.G_=!0;this.RQ=null;var P=new kg(z.E.c,!0);P.data={Q:z.J.qw};if(O)M.a(P)};$.ib.prototype.rF=function(s){var M=this.RQ,O=this.Yv,P=this.EP,y=M.Eq==0?M.fz:M.iR,F=M.jn;
s.W.Zk=y.slice(0);s.W.jT=[];if(P>O){var A=O;O=P;P=A}if(O!=-1){s.W.jT.push(y[O*2],y[O*2+1]);s.W.Zk.splice(O*2,2)}if(P!=-1&&P!=O){s.W.jT.push(y[P*2],y[P*2+1]);
s.W.Zk.splice(P*2,2)}s.W.tY={L:[],J8:[]};for(var R=0;R<F.length;R+=4){s.W.tY.J8.push("M","L","L","L","Z");
for(var h=0;h<4;h++)s.W.tY.L.push(y[2*F[R+h]],y[2*F[R+h]+1])}s.G_=!0};$.Vv=function(){$.uI.call(this,"Blur Gallery",$.ZM,"tools/ruler");
this.OT="blurbTransform";this.o8=[0,[],null];this.Yv=-1};$.Vv.prototype=new $.uI;$.Vv.prototype.C4=function(s,M,O,P){this.RQ={};
var y=s==null;if(s==null){s=bW.Jb(this.OT);a.dx.aK5(s,P,M.A/2,M.$/2);var F=[!1,!1,!1,!1,!1,!1];F[P]=!0;
a.dx.ayr(s,F)}this._a=s;this.o8[0]=a.dx.asU(s);this.o8[1]=a.dx.aHL(s);this.rF(M);if(y)this.Nk("edit",O)};
$.Vv.prototype.lJ=function(s,M,O,P){if(P.D(hj.$g))this.nb(s,M,!0);else if(P.D(hj.ob))this.zZ(s,M,!0);
else if(P.D(hj.y6)||P.D(hj.Di)){var y=this.Yv;if(y==-1)return;var F=this.o8[0],A=a.dx.qH(this._a)[0],h=A[F];
if(F==0)h.splice(y,1);if(F==1||F==5)h.splice(Math.floor(y/6),1);if(F==3)h.splice(Math.floor(y/5),1);
if(F==4)h.splice(Math.floor(y/4),1);a.dx.B1(A,this._a);a.dx.TZ(this._a,F);this.Yv=-1;this.rF(s);this.Nk("edit",M)}};
$.Vv.prototype.j9=function(s,M,O,P){if(s.IY=="commit")this.nb(O,M,!0);else if(s.IY=="cancel")this.zZ(O,M,!0);
else{this.o8=s.dh;var y=this.o8[0],F=this.Yv;a.dx.ayr(this._a,this.o8[1]);if(this.o8[2]){var A=a.dx.qH(this._a)[0],h=A[y];
if(y==0)h[F][2]=this.o8[2][0];if(y==1||y==5)h[Math.floor(F/6)][14]=this.o8[2][0];if(y==3)h[Math.floor(F/5)][10]=this.o8[2][0];
if(y==4){h[0][4]=this.o8[2][0]/100;var m=(F&3)<2?0:5,Z=h[Math.floor(F/4)],u=Z[m],f=Z[m+1],U=Z[m+2]-u,C=Z[m+3]-f,H=Math.sqrt(U*U+C*C),t=this.o8[2][1];
if(H==0){Z[m+2]=u+t;Z[m+3]=f}else{Z[m+2]=u+t*U/H;Z[m+3]=f+t*C/H}}a.dx.B1(A,this._a)}a.dx.TZ(this._a,y);
this.rF(O);this.Nk("edit",M)}};$.Vv.prototype.escape=function(s,M,O){s.W.kX=null;s.W.tY=null;s.W.JT=null;
s.W.jT=[];s.W.Zk=[];s.G_=!0;this.RQ=null;var P=new kg(z.E.c,!0);P.data={Q:z.J.qw};if(O)M.a(P)};$.Vv.prototype.rF=function(s){var M=a.dx.qH(this._a)[0];
s.W.jT=[];s.W.Zk=[];var O=s.W.kX={L:[],J8:[]},P=s.W.tY={L:[],J8:[]},y=s.W.JT={L:[],J8:[]};this.BR=[];
this.a17=[];var F=this.o8[0],A=this.Yv,h=M[F];for(var R=0;R<h.length;R++){var m=h[R];if(F==0){if(R==A){s.W.jT.push(m[0],m[1]);
this.o8[2]=[m[2]]}else s.W.Zk.push(m[0],m[1]);this.a17.push([]);this.BR.push(m[0],m[1])}else if(F==1||F==5){var Z=a.dx.a5U(m);
Z.or();var u=[0,-1,1,0,0,1,-1,0,0,0,1-m[10],0];a.b.M(u,Z,u);for(var f=0;f<u.length;f+=2){if(A==R*6+(f>>>1)){s.W.jT.push(u[f],u[f+1]);
this.o8[2]=[m[14]]}else s.W.Zk.push(u[f],u[f+1]);this.BR.push(u[f],u[f+1])}var U=a.b.TM(a.z.uU.Y9(-1,-1,2,2));
a.b.concat(O,U,Z)}else if(F==3){var C=m[0],H=m[1],t=m[2]-m[0],X=m[3]-m[1],Q=Math.sqrt(t*t+X*X),D=X*1e4/Q,L=-t*1e4/Q;
for(var f=0;f<10;f+=2){if(A==R*5+(f>>>1)){s.W.jT.push(m[f],m[f+1]);this.o8[2]=[m[10]]}else s.W.Zk.push(m[f],m[f+1]);
this.BR.push(m[f],m[f+1]);if(f==0)continue;if(Math.floor(A/5)!=R)continue;O.L.push(m[f]-D,m[f+1]-L,m[f]+D,m[f+1]+L);
O.J8.push("M","L")}}else if(F==4){y.L.push(m[0],m[1],m[5],m[6]);y.J8.push("M","L");for(var f=0;f<2;f++){var E=f*5,C=m[E],H=m[E+1],_=m[E+2],S=m[E+3],t=_-C,X=S-H,W=Math.sqrt(t*t+X*X),g=25;
if(W!=0){t/=W;X/=W}if((A&14)==R*4+f*2){s.W.jT.push(C,H,_,S);this.o8[2]=[m[4]*100,W]}else s.W.Zk.push(C,H,_,S);
P.L.push(C,H,_,S);P.J8.push("M","L");this.BR.push(C,H,_,S);if(W==0)continue;var x=-t*g*2,V=-X*g*2;P.L.push(_,S,_+(-X*g+x),S+(t*g+V));
P.L.push(_,S,_+(X*g+x),S+(-t*g+V));P.J8.push("M","L","M","L","M","L")}}}s.G_=!0};$.Vv.prototype.nh=function(s,M,O,P,y){function F(j,R,o){var S=j[R]-j[o],g=j[R+1]-j[o+1];
return Math.sqrt(S*S+g*g)}var A=s.i.ni(y.x,y.y),h=a.b.Sk(this.BR,A.x,A.y,6/s.i.xq);if(this.Df){var m=this.Yv,Z=this.o8,u=Z[0],f=a.dx.qH(this._a)[0],U=f[u];
if(u==0){U[m][0]=A.x;U[m][1]=A.y}if(u==1||u==5){var C=Math.floor(m/6),H=m-C*6,t=U[C],X=F(t,0,2)/2,Q=F(t,2,4)/2,D=t[8],L=t[9],E=Math.atan2(-t[3]+t[1],t[2]-t[0]),_=t[10],S=A.x-D,g=A.y-L,x=Math.sqrt(S*S+g*g);
if(H<4){E=Math.atan2(-g,S)+(-1+H)*Math.PI/2;if(H==0||H==2)Q=x;else X=x}if(H==4){D=A.x;L=A.y}if(H==5)_=Math.max(0,Math.min(1,1-x/X));
var V=new kp;V.scale(X,Q);V.rotate(E);V.translate(D,L);var b=U[C]=[-1,-1,1,-1,1,1,-1,1,0,0];a.b.M(b,V,b);
b.push(_,_,_,_,t[14])}if(u==3){var C=Math.floor(m/5),H=m-C*5,t=U[C],N=t[0],J=t[1],K=F(t,0,2),q=F(t,0,4),d=F(t,0,6),l=F(t,0,8),E=Math.atan2(-t[3]+t[1],t[2]-t[0]),S=A.x-N,g=A.y-J,x=Math.sqrt(S*S+g*g);
if(H==0){N=A.x;J=A.y}if(H==1)K=Math.max(d*1.1,x);if(H==2)q=Math.max(l*1.1,x);if(H==3)d=Math.min(K,x);
if(H==4)l=Math.min(q,x);if(H==1)E=Math.atan2(-g,S);if(H==2)E=Math.atan2(g,-S);var b=U[C]=[0,0,-K,0,q,0,-d,0,l,0],V=new kp;
V.rotate(E+Math.PI);V.translate(N,J);a.b.M(b,V,b);b.push(t[10])}if(u==4){var C=Math.floor(m/4),H=m-C*4,t=U[C],T=H<2?0:5;
if((H&1)==0){var B=[t[2]-t[0],t[3]-t[1],t[7]-t[5],t[8]-t[6]],p=Math.atan2(-(t[6]-t[1]),t[5]-t[0]);t[T]=A.x;
t[T+1]=A.y;var I=Math.atan2(-(t[6]-t[1]),t[5]-t[0]),V=new kp;V.rotate(I-p);for(var R=0;R<2;R++){var w=new j6(B[R*2],B[R*2+1]);
w=V.Kw(w);t[R*5+2]=t[R*5]+w.x;t[R*5+3]=t[R*5+1]+w.y}}else{t[T+2]=A.x;t[T+3]=A.y}}a.dx.B1(f,this._a);
a.dx.TZ(this._a,u);this.rF(s)}else{var e="default";if(h!=-1)e="pointer";var G=new kg(z.E.c,!0);G.data={Q:z.J.ag,Fi:e};
M.a(G)}};$.Vv.prototype.nD=function(s,M,O,P,y){var F=this.o8[0],A=s.i.ni(y.x,y.y),h=A.x,m=A.y,Z=a.b.Sk(this.BR,h,m,10/s.i.xq);
if(Z==-1){Z=a.dx.aK5(this._a,F,h,m)}this.Df=A;this.Yv=Z;this.rF(s)};$.Vv.prototype.Cq=function(s,M,O,P,y){if(this.Df){this.Nk("edit",M);
this.Vb(M)}this.Df=null};$.Hr=function(){$.vm.call(this,[10,44],$.aqS,"tools/oselect");this.hi="crosshair";
this.a0Q=0};$.Hr.prototype=new $.vm;$.Hr.prototype.rW=function(s,M,O,P){if(Math.random()<1/(1+this.a0Q)){alert("The cross should be fully inside the object.",3500);
this.a0Q++}};$.Hr.prototype.Sd=function(s,M,O,P){$.t8.__(s,$.vm.WN,this.$V);if(!P.cQ||!this.uo)return;
var y=this.Gt(s,O,!1),F=y.A,A=y.$,h=y.x,m=y.y,Z=y.x+F,u=y.y+A,f=h+F/2,U=m+A/2,C=$.Hr.av0;s.W.CU={L:[h,m,Z,m,Z,u,h,u,f-F*C,U,f+F*C,U,f,U-A*C,f,U+A*C],J8:"M L L L Z M L M L".split(" ")};
s.G_=!0};$.Hr.av0=.12;$.Hr.prototype.gF=function(s,M,O,P){s.W.CU=null;s.G_=!0;this.finish(s,M,O,P)};
$.Hr.prototype.getSelection=function(s,M,O,P){if(this.$N.s0(this.bc)||!this.uo)return null;var y=this.Gt(s,O,!1),F=s.U[s.Y[0]];
if(y.g3()||!y.$B(F.S))return null;return $.vm.KT("ObSl",y)};$.t8=function(){$.am.call(this,[10,37],$.v4,"tools/qselect");
this.HX="qselect"};$.t8.prototype=new $.am;$.t8.prototype.nD=function(s,M,O,P,y){if(s.Y.length==0){alert("Select a layer first.");
return}$.t8.__(s,$.vm.WN,M,!0);this.P4(s,O,P,y,1);if(this.G2==null)return;this._M(s)};$.t8.prototype.nh=function(s,M,O,P,y){this.Oz(s,M,O);
$.t8.__(s,$.vm.WN,M);if(this.BD)this.Z3(s,O,y);if(this.G2==null)return;if(!y.cQ)return;var F=this.wn(s,O,P,y);
if(F!=1)this._M(s)};$.t8.__=function(s,M,O,P){if(s.Y.length==0)return;if(s&&M.key!=$.t8.j_(s)){M.key=$.t8.j_(s);
var y=s.U[s.Y[0]].S.C(),A="Image Analysis ...";if(y==0)return;var F=y>1e6&&P!=!0,h=new kg(z.E.c,!0);
h.data={Q:z.J.JC,T1:A};if(F)O.a(h);var m=function(){var Z=$.t8.a2T(s);for(var u in Z)M[u]=Z[u];var h=new kg(z.E.c,!0);
h.data={Q:z.J.fy,T1:A};if(F)O.a(h)};if(P)m();else setTimeout(m,30)}};$.t8.j_=function(s){var M=s.Y[0],O=s.U[M],P=O.S,y=P.A,F=P.$,A=y*F,h=a.Gp(O.buffer,8);
return[M,P.x,P.y,y,F,h[0],h[1],h[2],h[3]].join(",")};$.t8.a2T=function(s){var M=s.Y[0],O=s.U[M],P=O.S,y=P.A,F=P.$,A=y*F,h=a.Gp(O.buffer,8),m=Date.now(),Z=a.j(A);
Z.fill(128);var u=a.rR.Q_(h,y,F);console.log(Date.now()-m);var f={key:$.t8.j_(s),xf:h,S:P.v(),V5:y,fw:F,cI:12,c5:Z,Op:u,h:a.j(A),bB:null,Wp:null,u3:null};
$.t8.Od(f,null,s);return f};$.t8.Od=function(s,M,O){var P=s.V5,y=s.fw,F=0,A=0,h=Date.now(),m=s.bB!=null&&a.rR.QF(s.bB.EL,s.bB.fB,s.c5)==-1;
F=Date.now()-h;h=Date.now();if(!m){var Z=a.rR.QF(s.Op.EL,s.Op.fB,s.c5),u=0;while(Z!=-1){var f=[],U=[],C=s.Op.EL;
for(var H=0;H<y;H++)for(var t=0;t<P;t++){var R=H*P+t;if(C[R]==Z){var X=s.c5[R];if(X==0)f.push(t,H);if(X==255)U.push(t,H)}}var Q=O.U[O.Y[0]],D=a.Gp(Q.buffer,8);
a.rR.Q_.OM(D,P,y,s.Op,f,U);Z=a.rR.QF(s.Op.EL,s.Op.fB,s.c5);u++;if(u>=10){console.log("too many subdivisions");
break}}s.bB=a.rR.ul(s.Op,P,y,s.c5,s.cI);s.Wp=a.rR.a5D(s.xf,P,y,s.bB.EL,s.bB.fB);s.u3=[s.Wp[0].slice(0),[]];
A=Date.now()-h;h=Date.now()}var h=Date.now();if(M){s.u3[0].set(s.Wp[0]);var L=s.Wp[1],E=s.u3[1];for(var _=0;
_<L.length;_++)E[_]=L[_].slice(0);a.rR.asp(s.bB.EL,P,y,s.bB.fB,s.c5,s.h,s.u3)}};$.uG=function(){$._g.call(this,[10,50],$.ba,"tools/artb");
this.c6=null;this.amq=!1;this.av=null;this.$v=!1;this.aez=null;this.cL=100;this.Oy=null;this.vB=0};$.uG.prototype=new $._g;
$.uG.prototype.cu=function(s,M,O,P,y){this.mZ(O,s.aGW,M,s.Eq)};$.uG.arv=function(s,M){var O=s[0],P=0,y=0;
if(O==0)y=-1;else if(O==1)P=1;else if(O==2)y=1;else P=-1;return[20/M.jL,s[1]+P*60/M.jL,s[2]+y*60/M.jL]};
$.uG.prototype.j9=function(s,M,O,P,y){this.c6=s.dh;this.vB=Date.now()};$.uG.prototype.Iy=function(s,M,O,P){if(O.zI!=this.id)return;
if(s==null||s.Y.length!=1){this.ec(s);return}var y=s.Y[0],F=s.U[y],A=F.add.artb;if(A==null){this.ec(s);
return}if(this.$v)return;if(Date.now()-this.vB>50){this.c6={};var h=["artboardBackgroundType","Clr"];
for(var R=0;R<h.length;R++)if(A[h[R]])this.c6[h[R]]=a.G(A[h[R]]);var m=new kg(z.E.c,!0);m.data={Q:z.J.Qo,l:this.id,uP:this.c6};
M.a(m)}var Z=F.Kj(),u=a.b.hC(Z).L,f=this.av=new aj(u,!0,!1,!1,!0,!1,3,!1);f.p0(s,O,!1);var U={L:[1,0],J8:["M"]};
for(var R=1;R<30;R++){var C=Math.PI*2*R/30;U.L.push(Math.cos(C),Math.sin(C));U.J8.push("L")}U.J8.push("Z","M","L","M","L");
U.L.push(-.5,0,.5,0,0,-.5,0,.5);var H=Z.x+Z.A/2,t=Z.y+Z.$/2,X=this.cL*1.1,Q=this.aez=[H,Z.y,Z.x+Z.A,t,H,Z.y+Z.$,Z.x,t],D=[0,-X,X,0,0,X,-X,0],L=s.root.children;
s.W.wf=[];for(var R=0;R<4;R++){var E=new j6(Q[R*2]+D[R*2],Q[R*2+1]+D[R*2+1]),_=!1;for(var S=0;S<L.length;
S++){var F=L[S].w;if(F.add.artb==null)continue;var Z=F.Kj();if(Z.$z(E))_=!0}if(_){Q[R*2]=1e9;continue}s.W.wf.push([R,Q[R*2],Q[R*2+1]])}};
$.uG.prototype.disable=function(s,M,O,P,y){this.ec(s)};$.uG.prototype.ec=function(s){if(this.av){this.av.clear(s);
this.av=null;s.W.wf=null}};$.uG.prototype.nD=function(s,M,O,P,y){this.vB=Date.now();var F=s.i.ni(y.x,y.y),A=this.av;
if(A){var h=new kg(z.E.H),m=A.Of(null,F,s,y);if(m<9){this.$v=A.nD(s,O,P,F,null,!0,y);return}else if(A.Xm(F)){h.l=$.ht;
h.data={Q:"disabAuto"};M.a(h);var Z=new kg(z.E.c);Z.data={Q:z.J.LT,l:$.ht,asS:!0};M.a(Z);return}else{var u=-1,f=s.W.wf;
for(var R=0;R<f.length;R++){var U=$.uG.arv(f[R],s.i);if(j6.gp(F,new j6(U[1],U[2]))<U[0])u=f[R][0]}if(u!=-1){var C=s.U[s.Y[0]].Kj(),H=C.v(),t=(u==0||u==2?C.$:C.A)+this.cL;
if(u==0||u==3)t=-t;if(u==0||u==2)C.y+=t;else C.x+=t;if(P.D(hj.tT)){var X=new gi(0,0,s.A,s.$);h.l=$.mu;
h.data={Q:ad.i_};M.a(h);$.$O.K5(s,s.td(null,s.Y[0],null,!0),null,C.x-H.x,C.y-H.y);s.Y=s.Y.slice(s.Y.length-1);
var Q=$._P.gi(s);if(Q){var D=s.tX();D.data.gj=X;D.data.rJ=Q;D.data.bH=s.Y}}else this.mZ(s,C,M);return}}}this.Oy=$.$O.cs(s,F,O)};
$.uG.prototype.mZ=function(s,M,O,P){if(P==null)P=0;var y=s.U.slice(0),F=[s.U.length+1],A=s.Tk();A.jj(aW.get([1,16,0])+" "+(s.add.artd==null?1:s.root.children.length+1));
A.add.lsct=dU.l9;A.Y3(M);if(this.c6){var h=A.add.artb,m=this.c6;for(var Z in m)h[Z]=m[Z]}A.mX="pass";
A.Xa=24;if(P==0){if(s.add.artd||M.OK(new gi(0,0,s.A,s.$)).g3())y.push(s.kA());else y.unshift(s.kA())}else{var u=s.td();
u.sort(function(t,X){return t-X});var f=$.HH.vx(s,u,y.length-1,!1,null,!1),U=f.pop(),C=f.pop();y=f.pop();
y.splice(s.U.length-u.length,0,s.kA())}y.push(A);var H=new kg(z.E.H);H.l=$.mu;H.data={Q:ad.Br,ff:y,bm:F,SD:[1,16,2]};
O.a(H)};$.uG.prototype.nh=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=this.av,h=this.Oy;if(A){if(this.$v){A.nh(s,O,P,F)}else{var m=A.X0(F,s.i.xq,null,y);
if(m==null)m="default";var Z=new kg(z.E.c,!0);Z.data={Q:z.J.ag,Fi:m};M.a(Z)}}if(h){var u=this.kY(s,F,P,O);
s.W.CU=a.b.hC(u);s.G_=!0;$._g.Be(y,u,s,O)}};$.uG.prototype.Cq=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=this.Oy;
if(this.$v){this.av.Cq(s,O,P,F);this.$v=!1;var h=a.b.q7(this.av.yK()),m=ad.Xo(h),Z=s.U[s.Y[0]],u=a.G(Z.add.artb);
u.artboardRect.v=m;var f=new kg(z.E.H,!0);f.l=$.mu;f.data={Q:ad.Zg,sy:u};M.a(f)}if(A){var U=this.kY(s,F,P,O);
if(U.C()>20)this.mZ(s,U,M);s.W.CU=null;s.G_=!0;this.Oy=null;s.W.zp=[]}};$.uG.prototype.kY=function(s,M,O,P){var y=this.Oy,F=$.$O.cs(s,M,P),A=$.gw.D0(y,F,O,!0);
y=A[0];F=A[1];return a.b.q7([y.x,y.y,F.x,F.y])};$.W5=function(){$._g.call(this,[10,50],$.wq,"tools/artb");
this.av=null;this.q4=!1;this.f=null;this.axI=null;this.xt=null;this.awz=null;this.a4m=null;this.jB=null;
this.L$=null};$.W5.prototype=new $._g;$.W5.prototype.cZ=function(s,M){return s==hj.y6||s==hj.Di};$.W5.prototype.lJ=function(s,M,O,P){if(P.D(hj.y6)||P.D(hj.Di))this.cu({Q:"del"},M,s,P,O)};
$.W5.prototype.cu=function(s,M,O,P,y){var F=O.add.arts;this.axI=JSON.stringify(F);if(s.Q=="del"){for(var R=0;
R<F.length;R++)if(F[R].Y){F.splice(R,1);R--}}if(s.Q=="new"){for(var R=0;R<F.length;R++)F[R].Y=!1;var A=O.Q9(),h=A.x+A.A+20;
F.push({TD:"Artboard "+(F.length+1),rC:[h,A.y,h+100,A.y+100],Y:!0})}if(s.Q=="rpl"){var m=0;for(var R=0;
R<F.length;R++)if(F[R].Y)m=R;F[m]=s.K}if(s.Q=="adapt"){var Z=[];for(var R=0;R<O.U.length;R++)Z.push(R);
var u=$.TR.Gt(O,Z),f=F[F.length-1];f.rC=[u.x,u.y,u.x+u.A,u.y+u.$]}this.abV(O);this.AE(O)};$.W5.prototype.disable=function(s,M,O,P,y){this.q4=!1};
$.W5.prototype.enable=function(s,M,O,P,y){this.q4=!0;this.f=O;this.AE(s)};$.W5.prototype.ec=function(s){};
$.W5.prototype.nD=function(s,M,O,P,y){var F=this.L$=s.i.ni(y.x,y.y),A=s.add.arts;this.axI=JSON.stringify(A);
var h=this.av,m=h?h.X0(F,s.i.xq,null,y):null,Z=P.D(hj.yu)||P.D(hj.Y1);if(h&&!Z&&(a.b.hG(h.yK()).$z(F)||m)){}else{var u=-1;
for(var R=0;R<A.length;R++)if(a.b.hG(A[R].rC).$z(F))u=R;if(u==-1)this.vv(s,-1);else if(Z)A[u].Y=!A[u].Y;
else this.vv(s,u);this.AE(s)}if(this.av){this.av.nD(s,O,P,F,null,!0,y)}s.G_=!0};$.W5.prototype.nh=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=s.add.arts,h=JSON.parse(this.xt);
if(this.av){this.av.nh(s,O,P,F);if(y.cQ){var m=a.b.hG(this.av.yK()),Z=this.a4m,u=new kp;u.translate(-Z.x,-Z.y);
u.scale(m.A/Z.A,m.$/Z.$);u.translate(m.x,m.y);var f=this.av.Of(P,F,s,y);for(var R=0;R<A.length;R++){var U=A[R];
if(!U.Y)continue;if(a.b.hG(h[R].rC).g3())U.rC=[m.x,m.y,m.x+m.A,m.y+m.$];else{U.rC=h[R].rC.slice(0);a.b.M(U.rC,u,U.rC)}}if(f==10){$.$O.K5(s,this.awz,null,m.x-this.jB.x,m.y-this.jB.y);
this.jB=m}s.vw()}var C="default",H=this.av.X0(F,s.i.xq,null,y);if(H)C=H;var t=new kg(z.E.c,!0);t.data={Q:z.J.ag,Fi:C};
M.a(t)}else if(y.cQ&&j6.gp(F,this.L$)>=6/s.i.xq){A.push({TD:"Artboard "+(A.length+1),rC:[0,0,0,0],Y:!0});
this.AE(s);this.av.nD(s,O,P,this.L$,null,!0,y)}};$.W5.prototype.Cq=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y),A=s.add.arts,h=JSON.parse(this.xt),m=P.D(hj.yu)||P.D(hj.Y1);
if(!m&&j6.gp(this.L$,F)<6/s.i.xq){var Z=-1;for(var R=0;R<A.length;R++)if(a.b.hG(A[R].rC).$z(F))Z=R;if(Z!=-1){this.vv(s,Z);
this.AE(s)}if(a.b.hG(h[h.length-1].rC).g3()){this.av.clear(s);A.pop()}}if(this.av){var u=this.av.Of(P,F,s,y);
this.av.Cq(s,O,P,F);if(!F.s0(this.L$))this.abV(s,u==10?F.TA(this.L$):null)}};$.W5.prototype.abV=function(s,M){var O=new aA([10,50],this);
O.data={dK:this.axI,IQ:JSON.stringify(s.add.arts)};if(M){O.data.Y=this.awz;O.data.a9=M}s.Bx(O)};$.W5.prototype.AE=function(s){var M=s.add.arts,O=new gi,P=0,y=[];
for(var R=0;R<M.length;R++)if(M[R].Y){var F=a.b.hG(M[R].rC);O=O.v8(F);s.root.Vg(F,y);P++}if(P==0){if(this.av)this.av.clear(s);
s.G_=!0;this.av=null;return}this.xt=JSON.stringify(M);this.awz=y;this.a4m=this.jB=O;var A=a.b.hC(O).L;
this.av=new aj(O.g3()?null:A,!0,!1,!1,!1,!1,3);if(!O.g3())this.av.p0(s,this.f)};$.W5.prototype.vv=function(s,M){var O=s.add.arts;
for(var R=0;R<O.length;R++)O[R].Y=M==R};$.W5.prototype.n5=function(s,M){M.add.arts=JSON.parse(s.IQ);
if(s.Y)$.$O.K5(M,s.Y,null,s.a9.x,s.a9.y);if(this.q4)this.AE(M);M.G_};$.W5.prototype.QB=function(s,M){M.add.arts=JSON.parse(s.dK);
if(s.Y)$.$O.K5(M,s.Y,null,-s.a9.x,-s.a9.y);if(this.q4)this.AE(M);M.G_};function aj(s,M,O,P,y,F,A,h){this.NH=null;
this.Dx=s?s.slice(0):null;this.fS=1;this.kt=4;this.bc=null;this.wY=null;this.qf=null;this.Yv=-1;this.Df=null;
this.a5Y=!1;this.aqC=[];for(var R=0;R<8;R++)this.aqC.push(b_.axh(0,PIMG.rotate,-.5,-.5,-45-R*45));this.a4r=M;
this.aeL=O;this.azl=P;this.aht=y;this.aGR=F;this.Eq=A;this.an0=h==null?1:h}aj.prototype.aH4=function(){return this.Yv!=-1};
aj.prototype.yK=function(){return this.Dx.slice(0)};aj.prototype.Wu=function(s){this.Dx=s};aj.prototype.as_=function(){return this.ak(this.Dx)};
aj.prototype.aqr=function(){return this.kt};aj.prototype.aJm=function(s){this.kt=s};aj.prototype.Pz=function(s){if(s==null)s=this.Dx;
if(this.kt==9)return this.bc;else return this.ak(s)[this.kt]};aj.prototype.a6A=function(s){if(this.kt==9)this.bc=s.v();
else{var M=this.Pz(),O=new kp(1,0,0,1,s.x-M.x,s.y-M.y);a.b.M(this.Dx,O,this.Dx)}};aj.prototype.ZS=function(s){this.fS=s};
aj.prototype.X0=function(s,M,O,P,y,F){var A=this.iM(F,s,M,P),h;if(A==9)return"default";if(A==10){if(O)return null;
return!this.a4r?"move":null}if(A==-1||A==4)return null;if(A==11){var m=this.Pz().TA(s);if(y==null)y=Math.atan2(m.y,m.x);
h=90-y*180/Math.PI;var Z=Math.round(8*(h/360));Z=(Z+8)%8;return this.aqC[Z]}else{var u=this.Ho(s,this.Dx);
h=[135,90,45,180,0,0,225,270,315][A]*Math.PI/180;var f=a.F.da(this.Dx);return aj.aBd(f[0],f[3],h)}};
aj.aBd=function(s,M,O){var P=Math.atan2(-M,s);if(O)P+=O;var y="ew nesw ns nwse ew nesw ns nwse".split(" "),F=Math.round(8*(P/(2*Math.PI)));
F=(F+8)%8;return y[F]+"-resize"};aj.prototype.Ho=function(s,M){var O=a.F.or(a.F.da(M)),P=new Float64Array(2);
a.F.mk(s.x,s.y,O,P);return new j6(P[0],P[1])};aj.prototype.Xm=function(s){var M=this.Ho(s,this.Dx);return 0<=M.x&&M.x<=1&&0<=M.y&&M.y<=1};
aj.prototype.nD=function(s,M,O,P,y,F,A,h){this.a5Y=F;this.Df=P;var m=s.i.xq,Z;if(this.Dx==null)P=$.$O.cs(s,P,M);
this.qf=P.v();if(this.Dx==null){if(h==null)h=0;var u=new kp;u.rotate(h);var f=u.Kw(new j6(1,1));this.qf.offset(f.x,f.y);
var U=y==null?1:1/y,C=this.Dx=[0,0,1,0,1,U,0,U];u.translate(P.x,P.y);a.b.M(this.Dx,u,this.Dx);Z=8}else{Z=this.iM(O,P,m,A);
var H=O.D(hj.yu)&&(Z==1||Z==3||Z==5||Z==7);if(0<=Z&&Z<=8&&!H)this.qf=this.ak(this.Dx)[Z];if(Z==9){this.kt=9;
this.bc=P.v()}}this.NH=this.Dx.slice(0);this.Yv=Z;this.p0(s,M);this.wY=this.Pz();return Z!=-1};aj.prototype.Of=function(s,M,O,P){return this.iM(s,M,O.i.xq,P)};
aj.prototype.iM=function(s,M,O,P){var y=s&&s.D(hj.yu),F=-1,A=this.ak(),h=[0,2,6,8,1,3,5,7],m=P?$.fo({i:{xq:O}},P):8*$.yD()/O,Z=j6.gp(A[0],A[2]),u=j6.gp(A[0],A[6]),f=this.Ho(M,this.Dx);
f.x*=Z;f.y*=u;var U=new gi(0,0,Z,u);U.rX(m,m);if(F==-1)if(j6.gp(this.Pz(),M)<m)F=9;if(F==-1)for(var R=0;
R<h.length;R++)if(j6.gp(A[h[R]],M)<m)F=h[R];if(F==-1&&U.$z(f)){if(Math.abs(f.y-0)<m)F=1;if(Math.abs(f.x-0)<m)F=3;
if(Math.abs(f.y-u)<m)F=7;if(Math.abs(f.x-Z)<m)F=5}if(F==-1&&s&&s.D(hj.tT))F=9;if(F==-1||this.Eq==4){if(this.Xm(M)){if(this.a4r)F=10}else{var C=[3,.85][dc];
U.rX(C*m,C*m);F=U.$z(f)&&this.Eq!=3?11:10;if(F==10&&dc==1)F=-1}}return F};aj.prototype.nh=function(s,M,O,P,y){if(this.Yv==-1)return;
this.Df=P;var F=O&&O.D(hj.Y1),A=O&&O.D(hj.tT),h=O&&O.D(hj.yu),m=s.i.xq,Z=this.qf,u=this.Yv,f=u==0||u==2||u==6||u==8,U=this.ak(),C=$.$O.cs(s,Z,M),H=$.$O.cs(s,P,M),t,X;
if(u==9){var U=this.ak(),Q=-1;for(var R=0;R<U.length;R++)if(j6.gp(U[R],H)*m<10)Q=R;this.kt=Q==-1?9:Q;
this.bc=F?$.qM.LP(C,H):H.v()}else if(u==10){X=a.b.hG(this.NH);var D=X.x,L=X.y;X.offset(P.x-Z.x,P.y-Z.y);
if(this.a84()){X.x=Math.round(X.x);X.y=Math.round(X.y)}t=$.$O.ws(s,X,M);var E=new kp(1,0,0,1,X.x-D+t[0],X.y-L+t[1]);
a.b.M(this.NH,E,this.Dx)}else if(u==11){var _=this.Pz(this.NH),S=_.TA(P),W=_.TA(Z),g=Math.atan2(S.y,S.x),x=Math.atan2(W.y,W.x),E=new kp(1,0,0,1,-_.x,-_.y),V=Math.PI/12;
if(F)E.rotate(Math.round((x-g)/V)*V);else E.rotate(x-g);E.translate(_.x,_.y);a.b.M(this.NH,E,this.Dx)}else{var b=F,N;
if(y&&!h)b=!b;if(this.aGR)b=!0;var J=this.NH;if(this.Eq==1){if(f)F=A=h=!0}else if(this.Eq==2&&f&&this.a5Y!=!0)h=!0;
if(this.Eq==3)h=!1;else if(this.Eq==5){F=h=!0}if(this.azl&&f&&h){var R=[0,0,2,0,0,0,6,0,4,0][u],K=-1,q=H.x,d=H.y;
if(F){var l=R+6&7,T=R+10&7,B=aj.auE(J[R],J[R+1],J[l],J[l+1],H.x,H.y),p=aj.auE(J[R],J[R+1],J[T],J[T+1],H.x,H.y),I=B[2]<p[2]?B:p;
q=I[0];d=I[1];if(A)K=B[2]<p[2]?l:T}else if(A)K=R+4&7;N=J.slice(0);if(K!=-1){var w=J[K],e=J[K+1],G=(J[R]+w)/2,j=(J[R+1]+e)/2;
N[K]=G-(q-G);N[K+1]=j-(d-j)}N[R]=q;N[R+1]=d}else if(f&&A){var _=this.wY,o=_.x,r=_.y,k=C.x-o,a7=C.y-r,Y=1,v=1;
if(Math.abs(k)>=1)Y=(H.x-o)/k;if(Math.abs(a7)>=1)v=(H.y-r)/a7;if(b)Y=v=(Y+v)/2;var E=new kp;E.translate(-o,-r);
E.scale(Y,v);E.translate(o,r);N=J.slice(0);a.b.M(N,E,N)}else if(!f&&h&&this.aeL){function n(fu,c6,ba){var h7=c6[0]-fu[0],bh=c6[1]-fu[1],di=a.b.vH(ba[0],ba[1],-bh,h7,fu[0],fu[1],h7,bh);
return di}var cm=[1,5,7,3].indexOf(u),a5=cm+1&3,gP=J.slice(cm*2,cm*2+2),cg=J.slice(a5*2,a5*2+2),a9=H;
if(F){var ew=n(gP,cg,[H.x,H.y]);a9=new j6(H.x-ew*(cg[1]-gP[1]),H.y+ew*(cg[0]-gP[0]))}var h7=a9.x-Z.x,bh=a9.y-Z.y,ba=[this.wY.x,this.wY.y],jx=[ba[0]+cg[0]-gP[0],ba[1]+cg[1]-gP[1]],c4=n(ba,jx,[Z.x,Z.y]);
N=J.slice(0);for(var R=0;R<4;R++){if(!A&&R!=cm&&R!=a5)continue;var bq=J.slice(R*2,R*2+2),di=n(ba,jx,bq)/c4;
N[R*2]+=di*h7;N[R*2+1]+=di*bh}}else{if(this.a84()){H.x=Math.round(H.x);H.y=Math.round(H.y)}var il=[0,1,2,5,8,7,6,3],j0=il[(il.indexOf(u)+4)%8],j1=[];
for(var R=0;R<3;R++)for(var K=0;K<3;K++)j1.push(new j6(K/2,R/2));var _=this.wY,b5=A&&(this.kt==4||this.kt==9)?this.Ho(_,J):j1[j0],b4=A&&(this.kt==4||this.kt==9)?_:U[j0];
if(f&&b){function lm(fu,c6,ba){var h7=c6[0]-fu[0],bh=c6[1]-fu[1],di=a.b.vH(ba[0],ba[1],-bh,h7,fu[0],fu[1],h7,bh);
return[ba[0]-bh*di,ba[1]+h7*di]}while(!0){var ix=lm([b4.x,b4.y],[Z.x,Z.y],[H.x,H.y]);ix=new j6(ix[0],ix[1]);
ix=$.$O.cs(s,ix,M);if(j6.gp(ix,H)<1e-6)break;H=ix}}var jy=this.Ho(H,J),bz=this.Ho(Z,J),c5=new kp,k0=new kp,Y=(jy.x-b5.x)/(bz.x-b5.x);
if(Y==0)Y=1e-4;var v=(jy.y-b5.y)/(bz.y-b5.y);if(v==0)v=1e-4;if(this.aht){Y=Math.max(Y,0);v=Math.max(v,0)}if(f){if(b)c5.scale(Y,Y);
else c5.scale(Y,v)}else if(u!=4){var cd=b,fz=h&&F;if(fz)cd=!1;if(u==1||u==7)c5.scale(cd?v:1,fz?1:v);
else c5.scale(fz?1:Y,cd?Y:1);if(this.aeL&&h){if(u==1||u==7)k0.xN=(jy.x-b5.x)/(jy.y-b5.y);else k0.X=(jy.y-b5.y)/(jy.x-b5.x)}}var E=new kp;
E.translate(-b5.x,-b5.y);E.concat(c5);E.concat(k0);E.translate(b5.x,b5.y);N=[0,0,1,0,1,1,0,1];a.b.M(N,E,N);
var I=a.F.da(J);a.F.M(I,N)}if(aj.Qa(N))this.Dx=N}this.p0(s,M);if(t)$.$O.ea(s,X,t)};aj.auE=function(s,M,O,P,y,F){var A=O-s,h=P-M,m=y-s,Z=F-M,u=A*A+h*h,f=m*A+Z*h,U=f/u,C=s+U*A,H=M+U*h,t=y-C,X=F-H;
return[C,H,Math.sqrt(t*t+X*X)]};aj.prototype.a84=function(){var s=this.Dx;return Math.abs(s[1]-s[3])<1e-6&&Math.abs(s[2]-s[4])<1e-6||Math.abs(s[0]-s[2])<1e-6&&Math.abs(s[3]-s[5])<1e-6};
aj.Qa=function(s){return a.b.acx(s)||a.b.acx([s[6],s[7],s[4],s[5],s[2],s[3],s[0],s[1]])};aj.prototype.Cq=function(s,M,O,P){this.Yv=-1;
this.Df=null;s.W.P6=null;s.W.zp=[];s.G_=!0};aj.prototype.lJ=function(s,M,O){var P=O.Ry(s?s.i.JL:0);if(P.x||P.y){var y=new kp(1,0,0,1,P.x,P.y);
a.b.M(this.Dx,y,this.Dx);this.p0(s,M);return!0}return!1};aj.prototype.ak=function(s){if(s==null)s=this.Dx;
var M=s[6]-s[0],O=s[7]-s[1],P=s[4]-s[2],y=s[5]-s[3],F=[s[0],s[1],s[2],s[3],s[0]+M/2,s[1]+O/2,s[2]+P/2,s[3]+y/2,s[6],s[7],s[4],s[5]],A=[];
for(var R=0;R<3;R++){var h=R*4,m=F[h+0],Z=F[h+1],u=F[h+2],f=F[h+3];A.push(new j6(m,Z));A.push(new j6(m+(u-m)/2,Z+(f-Z)/2));
A.push(new j6(u,f))}return A};aj.prototype.p0=function(s,M,O){if(s.W==null)return;if(O==null)O=!1;var P=this.fS,y=this.ak(),F=y[0],A=y[2],h=y[6],m=y[8],Z={J8:[],L:[]};
if(P==0)s.W.CU=Z;else s.W.kX=Z;var u=a.F.da([F.x,F.y,A.x,A.y,m.x,m.y,h.x,h.y]);Z.J8.push("M","L","L","L","Z");
Z.L.push(0,0,1,0,1,1,0,1);var f=this.an0;if(f>1){s.W.r8=a.G(Z);a.F.M(u,s.W.r8.L);for(var R=1;R<f;R++){var U=R/f;
Z.J8.push("M","L","M","L");Z.L.push(0,U,1,U,U,0,U,1)}}a.F.M(u,Z.L);s.i.dO=new gi(0,0,j6.gp(y[0],y[2]),j6.gp(y[0],y[6]));
if(this.Yv!=-1&&this.Yv<9&&this.Df){var C=s.i.D7(this.Df.x,this.Df.y);$._g.Be(C,s.i.dO,s,M)}if(!O){var H=[];
if(P==0)s.W.oW=H;else s.W.Kq=H;for(var R=0;R<y.length;R++)if(R!=4)H.push(y[R].x,y[R].y);var t=this.Pz();
H.push(t.x,t.y)}s.G_=!0};aj.prototype.clear=function(s){s.i.dO=null;s.W.P6=null;s.W.CU=null;s.W.kX=null;
s.W.r8=null;s.W.oW=[];s.W.Kq=[];s.G_=!0};function cY(s){this.Z6=null;this.Yv=-1;this.aI8=null;this.aqf=null;
this.oK=null;this.dn=-1;this.aIX=null;this.abB(s)}cY.prototype.Il=function(){return a.G(this.Z6)};cY.prototype.abB=function(s){this.Z6=a.G(s)};
cY.prototype.aEr=function(s){this.dn=s};cY.prototype.Xm=function(s){return!0};cY.prototype.X0=function(s,M,O,P){var y=this.iM(s,M,P);
if(y==-1)return"default";return"pointer"};cY.prototype.nD=function(s,M,O,P,y,F,A){if(this.dn!=-1)return!0;
this.Yv=this.iM(P,s.i.xq,A);var h=a.Z6.Kx(this.Z6),m=a.W$.UR(h,P),Z=0<m[0]&&m[0]<1&&0<m[1]&&m[1]<1;this.aI8=Z?m:null;
this.aqf=JSON.stringify(h);this.aIX=JSON.stringify(this.Z6);this.oK=P;return this.Yv!=-1||Z};cY.prototype.iM=function(s,M,O){var P=O?$.fo({i:{xq:M}},O)*2:20*$.yD()/M,y=this.Z6,F=cY.agJ(y),A=-1;
if(F){A=a.b.Sk(F,s.x,s.y,P);if(A!=-1)A+=1e6}else{var h=a.Z6.Kx(y);A=a.b.Sk(h[3],s.x,s.y,P);if(A!=-1&&this.Jz(h,A)==null)A=-1}return A};
cY.prototype.nh=function(s,M,O,P){if(this.dn!=-1)return;var y=this.Z6,F=this.Yv,A=this.aI8,h=JSON.parse(this.aqf),m=h[0],Z=h[1],u=h[3];
if(F>=1e6){var f=y.warpStyle.v.warpStyle,U=a.Z6.Gt(y);if(f=="warpCylinder"){this.Z6=y=JSON.parse(this.aIX);
var C=$.TR.NI(y.warpValues),H=(C[2]-C[0])/(C[1]-C[3]),t=C[4]*H*U.$,X=C[5]*H*U.$,Q=P.x-this.oK.x,D=P.y-this.oK.y;
C[0]=U.x;C[1]=U.y+U.$;C[2]=U.x+U.A;C[3]=U.y;F-=1e6;if(F==0){C[0]+=Q;C[1]+=D}if(F==1){C[2]+=Q;C[3]+=D}if(F==2){t+=2*D;
X+=2*D}if(F==3){X+=2*D}if(F==4){C[6]=Math.max(0,Math.min(1,C[6]-2*Q/U.A))}var L=a.b.hG(C.slice(0,4)),E=L.A/U.A,_=L.$/U.$;
C[4]=t/L.A;C[5]=X/L.A;y.warpValues=$.TR.kZ(C);var S=new kp;S.translate(-U.x,-U.y);S.scale(E,_);S.translate(L.x,L.y);
if(F<4)return S}else{var W=y.warpRotate.v.Ornt,g=W=="Vrtc",x=a.Z6.aDL[f],V=g?-P.x/U.A:-P.y/U.$;V+=x[1];
if(x[1]>.5)V=-V;V/=x[2];var E=U.A/U.$;if(g)E=1/E;if(x[3])V/=E;y.warpValue.v=100*Math.max(-1,Math.min(1,V))}}else if(F!=-1){var b=[F],Q=P.x-u[F*2],D=P.y-u[F*2+1];
if(m*Z>16){var N=this.Jz(h,F);if(N[0]==0){var J=Math.floor(F/m),K=F-J*m;if(K>0)b.push(F-1);if(K<m-1)b.push(F+1);
if(J>0)b.push(F-m);if(J<Z-1)b.push(F+m)}}for(var R=0;R<b.length;R++){u[b[R]*2]+=Q;u[b[R]*2+1]+=D}a.Z6.H4(y,h)}else if(A){a.W$.a9u(h,A[0],A[1],P.x-this.oK.x,P.y-this.oK.y);
a.Z6.H4(y,h)}};cY.prototype.Cq=function(s,M,O,P){var y=this.dn;this.aI8=null;this.dn=-1;if(y!=-1){var F=a.Z6.Kx(this.Z6),A=a.W$.UR(F,P);
if(y==0||y==1)a.W$.split(F,0,A[0]);if(y==0||y==2)a.W$.split(F,1,A[1]);a.Z6.H4(this.Z6,F)}s.G_=!0;return y!=-1};
cY.prototype.lJ=function(s,M,O){var P=O.Ry();if(P.x||P.y){var y=new kp(1,0,0,1,P.x,P.y);a.b.M(this.Dx,y,this.Dx);
this.p0(s)}};cY.prototype.Jz=function(s,R){var M=s[0],O=s[1],P=this.Yv,y=Math.floor(P/M),F=P-y*M,A=P%3,h=P%3,m=A==0&&h==0,y=Math.floor(R/M),F=R-y*M,A=F%3,h=y%3;
if(A!=0&&h!=0)return null;if(A==0&&h==0)return[0];else{var Z=0;if(h==0)Z=A==1?R-1:R+1;if(A==0)Z=h==1?R-M:R+M;
if(M*O>16){var u=P==R||P==R+1||P==R-1||P==R+M||P==R-M;if(m&&(u||P==R+2||P==R-2||P==R+2*M||P==R-2*M)){}else if(!m&&u){}else return null}return[1,Z]}};
cY.agJ=function(s,M){var M=s.warpStyle.v.warpStyle,P;if(M=="warpCustom"||M=="warpNone")return null;var O=a.Z6.Kx(s);
if(M=="warpCylinder"){var y=s.warpValues.v;P=[0,1,1,0,.5,0,.5,1,.75-.25*y[6].v,.5]}else{var F=s.warpRotate.v.Ornt,A=a.Z6.aDL[M];
P=F=="Hrzn"?[A[0],A[1]]:[A[1],A[0]]}a.W$.M(O,P,new gi(0,0,1,1));return P};cY.prototype.p0=function(s,M){var O=this.Z6,P=O.warpStyle.v.warpStyle,y=a.Z6.Kx(O),F=y[0],A=y[1],h=y[3],m=s.W.kX={J8:[],L:[]},Z=s.W.Kq=[],u=s.W.gM=[],f=this.Yv;
if(P=="warpCustom"||P=="warpNone")for(var U=0;U<A;U++)for(var C=0;C<F;C++){var R=U*F+C,H=this.Jz(y,R);
if(H==null)continue;var t=h[2*R],X=h[2*R+1],Q=u;if(H[0]==0)Q=R==f&&F*A>16?u:Z;else{var D=H[1];m.J8.push("M","L");
m.L.push(t,X,h[2*D],h[2*D+1])}Q.push(t,X)}else{var L=cY.agJ(O);if(L)for(var R=0;R<L.length;R++)Z.push(L[R])}for(var U=0;
U+1<A;U+=3)for(var C=0;C+1<F;C+=3){m.J8.push("M","C","C","C","C");var R=U*F+C,E=R+F+F,_=[R,R+1,R+2,R+3,R+F+3,E+3,E+F+3,E+F+2,E+F+1,E+F,E,R+F,R];
for(var R=0;R<_.length;R++){var t=h[_[R]*2],X=h[_[R]*2+1];m.L.push(t,X)}}var S=[],W=[];function g(x,C,N){for(var _=0;
_<=N;_++){W.push(_==0?"M":"L");if(x==0)S.push(C,_/N);else S.push(_/N,C)}}if(M)M=a.W$.UR(y,M);for(var x=0;
x<2;x++){var V=y[2][x],b=x==0?F:A,N=b*5;for(var J=1;J<b;J++){var K=Math.floor((J-1)/3),q=J-(1+K*3);if(q==0)continue;
var C=V[K]+q/3*(V[K+1]-V[K]);g(x,C,N)}var d=this.dn;if(M&&d!=-1&&(d==0||d-1==x))g(x,M[x],N)}a.W$.M(y,S,new gi(0,0,1,1));
a.b.concat(m,{L:S,J8:W});s.G_=!0};cY.prototype.clear=function(s){s.W.kX=null;s.W.Kq=[];s.W.gM=[];s.G_=!0};
function iH(){this.Mp=!1;this.zx=!1;this.a8W=!1;this.a2D=!1;this.awY=!1;this.Kz=!1;this.d8=0;this.il=0}iH.prototype.nD=function(s){this.Mp=!0;
this.zx=!1;this.awY=s.D(hj.Y1);this.Kz=s.D(hj.tT);this.d8=this.awY?0:1;this.il=this.Kz?0:1};iH.prototype.lJ=function(s){var M=this.a2D=s.D(hj.Y1),O=this.a8W=s.D(hj.tT);
if(this.zx){if(this.d8==0&&!M)this.d8++;if(this.d8==1&&M)this.d8++;if(this.il==0&&!O)this.il++;if(this.il==1&&O)this.il++}};
iH.prototype.nh=function(){this.zx=!0};iH.prototype.Cq=function(){this.Mp=!1};iH.prototype.kU=function(R){if(R==0)return this.Mp?this.Kz:this.a8W;
if(R==1)return this.zx?this.il==2:!1};iH.prototype.ew=function(R){if(R==0)return this.Mp?this.awY:this.a2D;
if(R==1)return this.zx?this.d8==2:!1};$.History=function(){$._g.call(this,"History",$.FZ);this.agk=!0;
this.arW=0};$.History.prototype=new $._g;$.History.prototype.cu=function(s,M,O,P){O.DI=!0;if(s.Q=="h_itemchange"){if(s.index<O.oB)for(var R=O.oB;
R>s.index;R--)this.xV(O);if(s.index>O.oB)for(var R=O.oB;R<s.index;R++)this.vi(O)}if(s.Q=="h_stepfwd")this.vi(O);
if(s.Q=="h_stepbck")this.xV(O);if(s.Q=="h_undoredo"){var y=this.agk||this.arW!=O.oB;if(y){this.xV(O);
y=!1}else{this.vi(O);y=!0}this.agk=y;this.arW=O.oB}if(s.Q=="h_clear"){if(s.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
O.history=[new aA([1,0],null)];O.oB=0}else this.agk=!0};$.History.prototype.xV=function(s){if(s.oB==0)return;
var M=s.history[s.oB];M.l.QB(M.data,s);s.oB--};$.History.prototype.vi=function(s){if(s.oB==s.history.length-1)return;
var M=s.history[s.oB+1];M.l.n5(M.data,s);s.oB++};$.HH=function(){$._g.call(this,"Layers",$.mu);this.$V=null};
$.HH.prototype=new $._g;$.HH.prototype.cu=function(s,M,O,P,y){this.$V=M;var F=s.Q,A=s.w!=null?s.w:O.Y.length!=0?O.Y[0]:O.U.length-1,h=O.U[A];
O.GJ=!0;var m=P.D(hj.tT),Z=P.D(hj.Y1),u=P.D(hj.yu);if(F==ad.HP&&O.h==null&&(O.Y.length>1||!O.Y7(!1)||O.U[O.Y[0]].ES()))F=ad.i_;
if(F==ad.Jd){var f=new aA([6,33],this),U=h.ES()?["pass"].concat(h0.n$):h0.n$,C=U[s.IQ],H=s.w!=null?[s.w]:O.Y,t=JSON.stringify(H),X=[];
for(var R=0;R<H.length;R++)X.push(O.U[H[R]].mX);f.data={Q:F,nl:t,zi:X,IQ:C};O.Bx(f);this.n5(f.data,O);
this.track(f7.yh("Md",{t:"enum",v:{BlnM:h0.Qz(C)}}))}if(F==ad.V0){var f,Q=O.tX(),H=s.w!=null?[s.w]:O.Y,t=JSON.stringify(H);
if(Q&&Q.data&&Q.data.Q==F&&Q.data.nl==t)f=Q;else{var D=f7.yh("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(D);var X=[];for(var R=0;R<H.length;R++)X.push(O.U[H[R]].N_);f=new aA([6,32],this);f.data={Q:F,nl:t,zi:X,IQ:s.IQ,aFH:D.kT};
O.Bx(f)}f.data.IQ=s.IQ;f.data.aFH.T.v.Opct.v.val=Math.round(s.IQ*100/255);this.n5(f.data,O)}if(F==ad.vg){var L=h.J,f,Q=O.tX();
if(Q&&Q.data&&Q.data.Q==F&&Q.data.w==A)f=Q;else{f=new aA("Audio Change",this);f.data={Q:F,w:A,zi:{UO:L.UO,volume:L.volume}};
O.Bx(f)}f.data.IQ=s.IQ;this.n5(f.data,O)}if(F==ad.OB){if(h.add.iOpa==null)h.add.iOpa=255;var f,Q=O.tX();
if(Q&&Q.data&&Q.data.Q==F&&Q.data.w==A)f=Q;else{f=new aA("Fill Opacity Change",this);f.data={Q:F,w:A,zi:h.add.iOpa,IQ:s.IQ};
O.Bx(f)}f.data.IQ=s.IQ;this.n5(f.data,O)}if(F==ad.Hl){var E=s.IQ,_=s.w!=null?[s.w]:O.Y.slice(0),S=[],W=[],f;
for(var g=0;g<_.length;g++){var x=O.U[_[g]];if(x.add.lspf==null)x.add.lspf=0;var X=x.add.lspf,C=X;for(var R=0;
R<E[0].length;R++){var V=E[1][R],b=1<<V;if((C&b)==0&&E[0][R])C^=b;else if((C&b)!=0&&!E[0][R])C^=b}S.push(X);
W.push(C)}var Q=O.tX(),H=JSON.stringify(_);if(Q&&Q.data&&Q.data.Q==F&&JSON.stringify(Q.data.nl)==H){f=Q;
f.data.IQ=W}else{var f=new aA([6,57,1],this);f.data={Q:F,nl:H,zi:S,IQ:W};O.Bx(f)}this.n5(f.data,O)}if(F==ad.k6){var N="----",J=s.Go,C=null;
for(var R=0;R<fC.$u.ta.length;R++)if(h.add[fC.$u.ta[R]])N=fC.$u.ta[R];var K=h.add[N];if(J=="TySh")C=iP.cN(50,50,y.xx);
var f=new aA("Layer Type",this);f.data={Q:F,w:A,aBU:[N,K],Go:[J,C]};O.Bx(f);this.n5(f.data,O)}if(F==ad.uY){var _=[];
if(m){var q=O.tX(),d=q?q.data:null;if(q!=null&&q.l==this&&d.Q==ad.uY&&d.nl.length!=1){var l=new kg(z.E.H);
l.l=$.FZ;l.data={Q:"h_stepbck"};M.a(l);if(d.w==A)return}var T=O.root.vt(A),B=T,p=[s.w];while(B.parent!=O.root){p.push(B.parent.index);
B=B.parent}for(var R=0;R<O.U.length;R++){var I=O.U[R],B=O.root.vt(R),w=p.indexOf(R)!=-1?!0:I.CD()&&T.depth<B.depth;
if(w!=I.CD())_.push(R)}}else if(s.nl)_=s.nl;else{_.push(A);var e=O.U[A].CD(),D={Cw:e?"hide":"show",kT:{classID:e?"Hd":"Shw",null:{t:"VlLs",v:[f7.Ht("Lyr",!0)]}}};
this.track(D)}var f=new aA("Layer visibility",this,!0);f.data={Q:F,nl:_,w:A};O.Bx(f);this.n5(f.data,O)}if(F==ad.QU){if(y.zI==$.ba){var G=new kg(z.E.c);
G.data={Q:z.J.LT,l:$.ht};M.a(G)}var j=s.a8N,o=s.iu,a7,escape=!1,Y=!1;if(s.ak$){if(u&&(o==0||o==1||o==2)){var r=0;
if(Z)r++;if(m)r+=2;var k=new kg(z.E.H,!0);k.l=$.Sp;k.data={Q:"fromlayer",ZN:[s.w,o,r]};M.a(k);return}}var D={Cw:"select",kT:{classID:"null",MkVs:{t:"bool",v:!1}}};
O.a35();if(P.D(hj.yu)||s.aDe==0){var v=O.Y.indexOf(A);if(v==-1)O.Y.push(A);else if(O.Y.length>1){if(s.aDe!=0)O.Y.splice(v,1)}O.Y.sort(function(f,ln){return f-ln});
D.kT.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};a7=A}else if(Z&&!m&&o>0){F=o==1?ad.l6:o==2?ad.oq:ad.J7;
escape=!0}else if((Z||s.aDe==1)&&O.Y.length>0){var n=Math.min(A,O.Y[0]),cm=Math.max(A,O.Y[O.Y.length-1]);
O.Y=[];for(var R=n;R<=cm;R++)if(O.U[R].add.lsct!=dU.Bs)O.Y.push(R);D.kT.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
a7=A}else{a7=A;if(A>=O.U.length)return;var I=O.U[A];if(I&&I.ES()&&s.alz)I.add.lsct=dU.l9;else if(O.Y.length==1&&O.Y[0]==A&&Math.max(0,o)==I.KV){Y=!0;
O.GJ=!1}if(!Y){O.Y=[A];O.eg()}}if(!Y){if(a7!=null&&a7<O.U.length){D.kT.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:O.U[a7].getName()}}]},this.track(D)}if(!escape){console.log("no escape");
if(O.Y.length==1){var a5=O.Y[0];for(var R=0;R<O.U.length;R++){if(R==a5)continue;var x=O.U[R];x.KV=0;
x.eq=!1}var h=O.U[a5];if(o==2){h.eq=!h.eq;O.J_=[]}else if(h){h.KV=o<=0?0:o}}else for(var R=0;R<O.U.length;
R++){var x=O.U[R];x.KV=0;x.eq=!1}O.XK=null;O.DI=!0}}if(s.ak$&&m){if((o==1||o==3)&&j!=null){var k=new kg(z.E.H,!0);
k.l=$.zY;k.data={Q:"mskView",K:j!=0?0:Z?1:2};M.a(k)}else{this.cu({Q:ad.eb,w:s.w},M,O,P,y)}}}if(F==ad.l6||F==ad.J7){var gP=F==ad.l6,cg=gP?h.Bl():h.UU(O).$E;
if(cg==null)return;var f=new aA(cg.isEnabled?gP?[6,15]:[6,42]:gP?[6,14]:[6,41],this);f.data={Q:F,w:A};
O.Bx(f);this.n5(f.data,O)}if(F==ad.oq){var cg=h.add.vmsk;if(cg==null)return;var f=new aA(cg.isEnabled?[6,17]:[6,16],this);
f.data={Q:F,w:A};O.Bx(f);this.n5(f.data,O)}if(F==ad.awq){var a9=h.add.lsct==dU.l9?dU.aY:dU.l9,B=O.root.vt(O.U.indexOf(h)),bh=!1;
if(P.D(hj.yu)){var ew=B.parent;for(var R=0;R<ew.children.length;R++){var h7=ew.children[R].w;if(h7.ES())h7.add.lsct=a9}}else h.add.lsct=a9;
for(var R=0;R<O.Y.length;R++){var ba=O.Y[R];if(B.e5<ba&&ba<B.index)bh=!0}if(bh)O.Y=[B.index];O.DI=!0}if(F==ad.eb){if(!O.TJ(A))return;
var f=new aA(h.nN?[6,19]:[6,18],this);f.data={Q:F,w:A};O.Bx(f);if(s.IQ==null||s.IQ!=h.nN)this.n5(f.data,O)}if(F==ad.ac5){if(h.Yi())h.Xa-=32;
else h.Xa+=32;O.DI=!0}if(F==ad.KH||F==ad.Mt){var f;if(F==ad.KH)f=new aA(h.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(F==ad.Mt)f=new aA(h.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);f.data={Q:F,w:A};O.Bx(f);this.n5(f.data,O)}if(F==ad.k0||F==ad.BW){var a5=s.index,f;
if(F==ad.k0)f=new aA(h.add.lmfx[aV.e1[a5[0]]].v[a5[1]].v.enab.v?[6,30,0]:[6,29],this);if(F==ad.BW)f=new aA(h.add.SoLd.filterFX.v.filterFXList.v[a5].v.enab.v?[6,44]:[6,43],this);
f.data={Q:F,w:A,index:s.index};O.Bx(f);this.n5(f.data,O)}if(F==ad.KP){if(s.src==s.ro)return;var jx=O.U[s.src],c4=O.U[s.ro],bq=jx.add.lmfx?JSON.stringify(jx.add.lmfx):"",di=c4.add.lmfx?JSON.stringify(c4.add.lmfx):"";
if(c4.add.lmfx==null){c4.add.lmfx=JSON.parse(aV.default);for(var R=0;R<aV.order.length;R++)c4.add.lmfx[aV.e1[R]]={t:"VlLs",v:[]}}if(s.h5==null){c4.add.lmfx=JSON.parse(bq);
if(!m)delete jx.add.lmfx}else{var il=s.h5[0],j0=aV.e1[il];if(aV.aKx.indexOf(aV.order[il])==-1)c4.add.lmfx[j0].v=[];
c4.add.lmfx[j0].v.push(jx.add.lmfx[j0].v[s.h5[1]]);if(!m)jx.add.lmfx[j0].v.splice(s.h5[1],1)}var j1=jx.add.lmfx?JSON.stringify(jx.add.lmfx):"",b5=c4.add.lmfx?JSON.stringify(c4.add.lmfx):"";
if(!c4.Yi())c4.Xa+=32;var f=new aA("Move Layer Styles",this);f.data={Q:F,q0:s.src,Sr:s.ro,aA6:bq,a0W:di,av8:j1,azw:b5};
O.Bx(f);this.n5(f.data,O)}if(F==ad.cX){if(s.src!=null)A=s.src;var x=O.U[A],b4=JSON.stringify(x.add.SoLd),lm=JSON.parse(b4),ix=lm.filterFX.v.filterFXList.v;
ix.splice(s.h5,1);var f=new aA([6,53],this);f.data={Q:ad.QK,DZ:[{p2:A,dR:[b4,JSON.stringify(lm)]}]};
O.Bx(f);this.n5(f.data,O)}if(F==ad.anh){var jy=m,jx=O.U[s.src],c4=O.U[s.ro],bz=[];if(jx!=c4&&c4.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(jx==c4&&!jy&&s.h5==s.vj)return;if(jx==c4&&s.h5==-1)return;var c5=jx.UU(O),b4=JSON.stringify(jx.add.SoLd),lm=JSON.parse(b4),ix=lm.filterFX.v.filterFXList.v;
if(jx==c4){ix.splice(s.vj,0,ix[s.h5]);if(!jy)ix.splice(s.h5+(s.h5<s.vj?0:1),1);bz.push({p2:s.src,dR:[b4,JSON.stringify(lm)]})}else if(s.h5==-1){var k0=lm.filterFX;
if(!jy){delete lm.filterFX;bz.push({p2:s.src,dR:[b4,JSON.stringify(lm)],d4:[c5,null]})}var cd=c4.o7()?c4.UU(O):null,fz=fr.azZ(c5),fu=JSON.stringify(c4.add.SoLd),c6=JSON.parse(fu);
c6.placed.v=fz.id;c6.filterFX=k0;bz.push({p2:s.ro,dR:[fu,JSON.stringify(c6)],d4:[cd,fz]})}else{var k7=ix[s.h5];
if(!jy){ix.splice(s.h5,1);bz.push({p2:s.src,dR:[b4,JSON.stringify(lm)]})}var fu=JSON.stringify(c4.add.SoLd),c6=JSON.parse(fu);
if(c6.filterFX==null)c6.filterFX=bW.Yu();var hP=c6.filterFX.v.filterFXList.v;hP.splice(s.vj,0,k7);var e1={p2:s.ro,dR:[fu,JSON.stringify(c6)]};
if(!c4.o7()){var fz=fr.a3m(c4.add.SoLd.placed.v,O.depth);e1.d4=[null,fz]}bz.push(e1)}var f=new aA([6,52],this);
f.data={Q:ad.QK,DZ:bz};O.Bx(f);this.n5(f.data,O)}if(F==ad.SH){var cg=h.Bl(),f=new aA(cg.CG?[6,26]:[6,25],this);
f.data={Q:F,w:A};O.Bx(f);this.n5(f.data,O);this.track({Cw:"set",kT:{classID:"setd",null:{t:"obj ",v:[f7.Ht("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:cg.CG}}}}})}if(F==ad.Jn){var cg=h.add.vmsk,f=new aA(cg.CG?[6,28]:[6,27],this);
f.data={Q:F,w:A};O.Bx(f);this.n5(f.data,O)}if(F==ad.Kh){var f=new aA("Variables / Datasets",this),fs=JSON.stringify([O.Vx,O.yi]);
if(fs==s.K)return;f.data={Q:F,awj:fs,a2$:s.K};O.Bx(f);this.n5(f.data,O)}if(F==ad.GB){var eh=[],f;for(var R=0;
R<O.Y.length;R++){var g=O.Y[R],I=O.U[g];if(I.add.vogk)eh.push(g,JSON.stringify(I.add.vogk))}for(var R=0;
R<O.J_.length;R++){var g=O.J_[R],I=O.J4[g];if(I.add.vogk)eh.push(-1-g,JSON.stringify(I.add.vogk))}a.cV.ad5(O,s.K,s.a6x);
var gW=[];for(var R=0;R<O.Y.length;R++){var g=O.Y[R],I=O.U[g];if(I.add.vogk)gW.push(g,JSON.stringify(I.add.vogk))}for(var R=0;
R<O.J_.length;R++){var g=O.J_[R],I=O.J4[g];if(I.add.vogk)gW.push(-1-g,JSON.stringify(I.add.vogk))}var Q=O.tX();
if(Q&&Q.data&&Q.data.Q==F){var hk=!0;for(var R=0;R<eh.length;R+=2)if(eh[R]!=Q.data.Fy[R])hk=!1;if(hk){f=Q;
f.data.X$=gW}}if(f==null){var f=new aA([12,91,1],this);f.data={Q:F,Fy:eh,X$:gW};O.Bx(f)}this.n5(f.data,O)}if(F==ad.Zg){var jz=JSON.stringify(h.add.artb),lh=JSON.stringify(s.sy),f;
O.U[A].add.artb=JSON.parse(lh);var ag=new gi(0,0,O.A,O.$),eo=$._P.YJ(O),Q=O.tX();if(Q&&Q.data&&Q.data.Q==F&&Q.data.w==A){f=Q;
f.data.sy=lh}if(f==null){var f=new aA("Editing Artboard",this);f.data={Q:F,w:A,acp:jz,sy:lh,gj:ag};O.Bx(f)}f.data.rJ=eo;
this.n5(f.data,O)}if(F==ad.rQ){var gW=O.dj.slice(0),aC=O.G7.slice(0),e8=O.h,lb=O.h,w=O.i.P7.slice(0);
if(s.tW=="seltochannel"){var jn=s.ZN[0],k3=gW[jn]=gW[jn].v(),B=a.Ns.dC(O.h,k3,s.ZN[1]);k3.N=B.N;k3.S=B.S}if(s.tW=="fromAction"){var cP=s.K.Cw,cV=s.K.kT;
if(cP=="make"||cP=="duplicate"){var l2=gW.length,gH=!1,hd=!1;if(O.X2())l2--;var dS=new ad.OL(O.depth);
dS.name="Alpha "+(l2+1);if(cP=="make"){var bL=cV.Nw.v;dS.color=0;aC=[l2];dS.H7=!0;dS.SU=bL.Opct.v;if(bL.Nm)dS.name=bL.Nm.v;
if(bL.classID=="SCch"){gH=!0;lb=null;dS.VK=1}for(var R=0;R<O.dj.length;R++)O.dj[R].H7=!1;w=[0,0,0]}else{var I=O.U[O.Y[0]],au=I.KV==1?I.Bl():I.KV==3?I.UU(O).$E:null,ev=cV.null.v[0].v;
if(cV.Nm)dS.name=cV.Nm.v;if(ev.keyID=="fsel")gH=!0;else if(au){dS.N=au.N.slice(0);dS.S=au.S.v();dS.color=au.color}else{var eF=$.vm.aI0(O);
lb=$.vm.agA(O,eF);dS.color=0;dS.S=lb.S;dS.N=lb.N}}if(gH){dS.color=0;if(O.h){dS.S=O.h.S.v();dS.N=O.h.N.slice(0)}if(hd){dS.color=255-dS.color;
a.or(dS.N)}}gW.splice(l2,0,dS)}else if(cP=="delete"){if(h&&h.Bl()&&h.KV==1){this.cu({Q:ad.jm},M,O,P,y);
return}var fn=O.G7;fn.sort(function(f,ln){return ln-f});if(fn.length==0)return;for(var R=0;R<fn.length;
R++)gW.splice(fn[R],1);aC=[];w=[1,1,1]}else if(cP=="show"||cP=="hide"){var iu=cV.null.v,gz=null,dL=!1;
for(var R=0;R<iu.length;R++){var dm=iu[R].v[0].v,cM=dm.enum;if(cM=="Trgt"){if(gW[aC[0]]==null)continue;
gW[aC[0]]=gW[aC[0]].v();gW[aC[0]].H7=cP=="show";dL=!0}else{var jn=["Rd","Grn","Bl"].indexOf(cM);if(gz==null)gz=O.i.P7.slice(0);
gz[jn]=cP=="show"?1:0}}if(gz){var l=new kg(z.E.H,!0);l.l=$.dU;l.data={Q:"setcls",P7:gz};M.a(l);if(!dL)return}}}if(s.tW=="rnm"){gW[s.Fa]=gW[s.Fa].v();
gW[s.Fa].name=s.name}var f=new aA("Channel Edit",this);f.data={Q:F,Fy:O.dj.slice(0),ags:O.G7.slice(0),X$:gW,aG9:aC,Cm:e8,bm:lb,a71:O.i.P7.slice(0),a93:w};
this.n5(f.data,O);O.Bx(f)}if(F==ad.Br){var l5=new gi(0,0,O.A,O.$),f=new aA(s.SD,this);f.data={Q:ad.Br,cc:O.U.slice(0),ff:s.ff,_K:O.Y.slice(0),bH:s.bm};
O.Bx(f);this.n5(f.data,O);var i3=$._P.gi(O);if(i3){f.data.gj=l5;f.data.rJ=i3}}if(F==ad.Yb){var eg=O.td(null,s.w),ea=1e10;
if(eg.length==0)return;if(O.U.length==eg.length){alert("Project must have at least 1 layer");return}var la=[];
for(var R=0;R<O.U.length;R++)if(eg.indexOf(R)==-1)la.push(O.U[R]);for(var R=0;R<eg.length;R++)ea=Math.min(ea,eg[R]);
while(ea>la.length-1)ea--;ea=Math.max(ea,0);while(la[ea].name=="</Layer group>")ea++;this.track({Cw:"delete",kT:{classID:"Dlt",null:f7.Ht("Lyr",!0)}});
var ag=new gi(0,0,O.A,O.$),f=new aA([6,31],this);f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:[ea]};
O.Bx(f);this.n5(f.data,O);var eo=$._P.YJ(O);if(eo){f.data.rJ=eo;f.data.gj=ag;$._P.gi(O)}}if(F==ad.H2){if(!P.D(hj.Y1))return;
var f=new aA("Switch Layer Link",this);f.data={Q:F,w:s.w};O.Bx(f);this.n5(f.data,O)}if(F==ad.OG){var fn=s.awp?s.awp:O.Y,iB=0,hU=!1;
if(fn.length==0)return;if(fn.length==1&&O.U[fn[0]].wC==0){alert(aW.get([15,7,5]));return}var jG=[];for(var R=0;
R<O.U.length;R++){var j5=O.U[R].wC;jG.push(j5);iB=Math.max(iB,j5)}var kn=-1,k5=-1;for(var R=0;R<fn.length;
R++){var j5=O.U[fn[R]].wC;if(j5==0)hU=!0;else if(kn==-1||kn==j5)kn=j5;else k5=j5}if(!hU)for(var R=0;
R<fn.length;R++)O.U[fn[R]].wC=0;else if(kn!=-1&&k5==-1)for(var R=0;R<fn.length;R++)O.U[fn[R]].wC=kn;
else for(var R=0;R<fn.length;R++)O.U[fn[R]].wC=iB+1;var a0=[];for(var R=0;R<O.U.length;R++){var j5=O.U[R].wC;
if(a0[j5]==null)a0[j5]=0;a0[j5]++}for(var R=0;R<O.U.length;R++){var j5=O.U[R].wC;if(a0[j5]==1)O.U[R].wC=0}var ab=jG;
jG=[];for(var R=0;R<O.U.length;R++){var j5=O.U[R].wC;jG.push(j5);iB=Math.max(iB,j5)}var f=new aA(hU?[6,54,0]:[6,54,1],this);
f.data={Q:ad.OG,aDH:ab,aqt:jG};O.Bx(f);this.n5(f.data,O)}if(F==ad.i_&&(s.w!=null||O.Y.length!=0)||F==ad.uy){var c$=O.oc(F==ad.i_?s.w:A,null,s.aJT),eB;
if(F==ad.uy){var x=c$[0],cP=x.add.SoLd.Idnt.v,ii=O.gX(cP).v();x.add.SoLd.Idnt.v=ii.Xh=fr.iY()+cP.slice(8);
O.add.lnk2.push(ii)}if(F==ad.i_){var eY={Cw:"duplicate",kT:{classID:"null",null:f7.Ht("Lyr",!0)}};if(s.$Z){c$[c$.length-1].jj(s.$Z);
eY.Nm={t:"TEXT",v:s.$Z}}this.track(eY);s.ak3=s.w}F=ad.xU;s.U=c$;s.xZ=O;s.f6=O}if(F==ad.xU){var kF,a4,hW=s.xZ,i9=s.f6,be=0,jQ=0,iA=hW.E8(),gt=!1,jr,dt=0,j4=0;
if(hW!=i9){console.log("ADDLAYERS different projs");var kF=new gi(0,0,hW.A,hW.$),a4=new gi(0,0,i9.A,i9.$),g0=[],h$=[],bs=new gi;
for(var R=0;R<s.U.length;R++){var x=s.U[R];bs=bs.v8(x.S);if(x.add.SoLd==null)continue;var cP=x.add.SoLd.Idnt.v;
if(g0.indexOf(cP)==-1){g0.push(cP);h$.push(fr.iY()+cP.slice(8))}x.add.SoLd.Idnt.v=h$[g0.indexOf(cP)];
var c5=x.UU(hW);if(c5){hW.pC(c5);i9.hy(c5)}}if(iA==-1&&!s.E5&&s.a1f&&!a4.$B(bs)){be=-bs.x;jQ=-bs.y}if(g0.length>0){if(i9.add.lnk2==null)i9.add.lnk2=[];
for(var R=0;R<g0.length;R++){var jf=hW.gX(g0[R]),ii=jf.v();ii.Xh=h$[R];i9.add.lnk2.push(ii)}}}var e8=i9.Y.slice(0);
e8.sort(function(f,ln){return f-ln});var la=i9.U.slice(0),lb=[],aO=-1;for(var R=0;R<e8.length;R++)aO=Math.max(aO,e8[R]);
if(s.ak3!=null)aO=s.ak3;if(s.E5){aO=s.E5-1;var le=i9.U[s.E5].Kj();be+=le.x;jQ+=le.y}if(iA!=-1&&(hW!=i9||s.E5)){var lj=hW.U[iA].Kj();
be-=lj.x;jQ-=lj.y}var gM=i9.T_();for(var R=0;R<gM[0].length;R++){var iQ=gM[1][R];if(iQ!=-1)gM[1][R]=la[iQ]}aO++;
for(var R=0;R<s.U.length;R++){var I=s.U[R],fd=I.add.artb;la.splice(aO,0,I);lb.push(aO);aO++;if(fd){jr=!0;
var bu=fd.guideIndeces;if(bu){bu=bu.v;for(var hK=0;hK<bu.length;hK++){gM[0].push(hW.FQ[bu[hK].v].slice(0));
gM[1].push(I);gt=!0}}}}for(var R=0;R<gM[0].length;R++){var iQ=gM[1][R];if(iQ!=-1)gM[1][R]=la.indexOf(iQ)}for(var R=0;
R<s.U.length;R++){var I=s.U[R];if(I.add.lsct==dU.Bs){if(dt==0)j4++;dt++}else if(I.ES())dt--}if(j4==1)lb=[aO-1];
var jp=s.a6g;if(jp){var H=[];for(var R=0;R<lb.length;R++)H.push(la[lb[R]]);for(var R=0;R<jp.length;R++)la.splice(la.indexOf(jp[R]),1);
lb=[];for(var R=0;R<H.length;R++)lb.push(la.indexOf(H[R]))}var f=new aA([6,0],this);f.data={Q:ad.Br,cc:i9.U.slice(0),ff:la,_K:e8,bH:lb};
if(gt){f.data.oT=[i9.T_(),gM]}i9.Bx(f);this.n5(f.data,i9);if(be!=0||jQ!=0)$.$O.K5(i9,i9.td(),null,be,jQ);
if(jr){f.data.gj=new gi(0,0,i9.A,i9.$);f.data.rJ=$._P.YJ(i9);$._P.gi(i9)}if(hW.depth!=i9.depth){alert("Converting from "+hW.depth+"-bit mode to "+i9.depth+"-bit mode.");
$.TR.a0c(i9,i9.Y,i9.depth)}var j7=hW.s5(),iI=i9.s5();if(hW!=i9&&(j7||iI)){if(j7&&iI&&a.s0(j7[0],iI[0])){}else{alert("Converting between color spaces");
var ah=17;if(j7){var bA=j7[1],c8=ICC.U.sampleLUT(bA,ah);for(var R=0;R<s.U.length;R++){var ln=s.U[R].buffer;
ICC.U.applyLUT(c8,ah,ln,ln)}}if(iI){var bA=iI[1],c8=ICC.U.sampleLUT(bA,ah,!0);for(var R=0;R<s.U.length;
R++){var ln=s.U[R].buffer;ICC.U.applyLUT(c8,ah,ln,ln)}}}}}if(F==ad.K2){var f8=s.w!=null?[s.w]:O.td(),la=O.U.slice(0);
for(var R=0;R<f8.length;R++){var I=O.U[f8[R]].v();I.Rk(O);la.splice(f8[R],1,I)}var f=new aA([6,8],this);
f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:O.Y.slice(0)};O.Bx(f);this.n5(f.data,O)}if(F==ad.ap5){var la=O.U.slice(0),I=la[O.Y[0]]=la[O.Y[0]].v(),j2=I.add.lmfx,d1,le;
delete I.add.lmfx;var cI=O.Y[0],fT=cI+1;if(I.ES()){var fk=O.U[O.Y[0]].aD;le=fk.agL;d1=fk.mU;var B=O.root.vt(cI);
cI=B.e5}else{le=I.S;d1=a.j(le.C());a.YT(a.Gp(I.buffer,8),d1,3)}var c9=cb.Xt(j2,I.add.fxrp,d1,le,O,le),gC=c9.I;
cb.ama(c9);for(var R=0;R<aV.order.length;R++){var bE=aV.order[R],a6=gC[bE];a6.reverse();for(var hK=0;
hK<a6.length;hK++){var kr=a6[hK],H=O.Tk(),gv=R>7;if(bE=="ebbl"){if(kr.x4||kr.AM){var hl=kr.x4?kr.x4:kr.AM;
if(kr.x4)delete kr.x4;else delete kr.AM;if(kr.AM||kr.$d)hK--}else if(kr.$d||kr.OZ){var hl=kr.OZ?kr.OZ:kr.$d;
if(kr.OZ){delete kr.OZ;if(kr.$d)hK--}gv=!0}kr=hl}H.mX=kr.yI;H.N_=Math.round(255*kr.fv);H.buffer=a.Gp(kr.tG,O.depth);
H.S=kr.Ng.v();H.S.offset(le.x,le.y);if(bE=="FrFX"){H.buffer=H.buffer.slice(0);a.GS(a.Gp(kr.kb?kr.kb:kr.CF,O.depth),H.buffer,3);
if(kr.kb){gv=!0;delete kr.kb;if(kr.CF)hK--}}H.nN=!gv;H.jj(I.getName()+"'s "+aW.get(aV.names[R]));la.splice(gv?cI:fT,0,H);
if(gv)fT++}}var f=new aA("Styles to Layers",this);f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:[fT-1]};
O.Bx(f);this.n5(f.data,O)}if(F==ad.aEF){var f8=O.td(),la=O.U.slice(0),k9=new gi(0,0,O.A,O.$);for(var R=0;
R<f8.length;R++){var ac=O.U[f8[R]],cN=ac.CD();ac.x1(!0);var g$=O.root.vt(f8[R]);if(ac.ES())continue;
if(g$==null)continue;var I=ac.v();I.Rk(O);var gD=g$.Gt(O,!0),ds=O.U;O.S7([ac]);O.vw();O.kp();I.buffer=a.j(gD.C()*4);
a.FP(O.Ta(),k9,I.buffer,gD);I.S=gD;I.N_=255;I.add.iOpa=255;I.mX="norm";I.vw();I.aD.gC=!0;O.S7(ds);if(I.add.lmfx)delete I.add.lmfx;
I.$E=I.Xw=null;la.splice(f8[R],1,I);I.x1(cN);ac.x1(cN)}var f=new aA([6,34],this);f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:O.Y.slice(0)};
O.Bx(f);this.n5(f.data,O)}if(F==ad.Oe){var f8=O.td(),la=O.U.slice(0);for(var R=0;R<f8.length;R++){var I=O.U[f8[R]],iz=I.add.TySh;
if(iz==null)continue;var x=new aa(iz.nA,y.s4,iz.x9),jO=a.b.Ib(bZ.cU(x,iz,!0));for(var bB in jO){var fl=jO[bB],h7=I.v();
delete h7.add.TySh;h7.Xa=h7.Xa|1<<4;h7.add.SoCo=a.G(aV.Qp[0]);var kc=h7.add.SoCo.Clr.v;kc.Rd.v=parseInt(bB.slice(1,3),16);
kc.Grn.v=parseInt(bB.slice(3,5),16);kc.Bl.v=parseInt(bB.slice(5,7),16);var h4=new ad.Vp;h4.u=a.b.Ie(fl,!1);
if(h7.add.vmsk!=null){h7.add.vmsk.atf();h4.concat(h7.add.vmsk)}h7.add.vmsk=h4;h7.add.vstk=aV.To.Jb(!0);
h7.$k();h7.uH(O);la.splice(la.indexOf(I),0,h7)}la.splice(la.indexOf(I),1)}var lb=O.Y.slice(0);for(var R=lb.length-1;
R>=0;R--)if(lb[R]>=la.length)lb.splice(R,1);var f=new aA([6,40],this);f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:lb};
O.Bx(f);this.n5(f.data,O)}if(F==ad.aFF){var d2=O.Y.length,l8,dk;if(d2<2){alert("Select two or more layers.");
return}for(var R=0;R<d2;R++){var lj=O.U[O.Y[R]].S;l8=R==0?lj:l8.OK(lj);dk=R==0?lj:dk.v8(lj)}if(l8.C()*1.2>dk.C()){alert("stacking images");
var hy=[],kh=[];for(var R=0;R<d2;R++){var I=O.U[O.Y[R]];hy.push(I.buffer);kh.push(I.S)}var i6=a.a2J.YY(hy,kh),eH=i6[0],f4=i6[1],je=[];
for(var R=0;R<d2;R++){var cg=new ad.OL(O.depth);cg.color=255;cg.S=f4;cg.N=eH[R];je.push(O.Y[R],null,cg)}var f=new aA("Focus-Stack",this);
f.data={Q:ad.eD,QQ:je};O.Bx(f);this.n5(f.data,O);return}if(!O.Vf())return;var h7=O.U[O.Y[0]].v(),la=[];
for(var R=0;R<O.U.length;R++)if(O.Y.indexOf(R)==-1)la.push(O.U[R]);la.splice(O.Y[0],0,h7);for(var R=1;
R<d2;R++)if(O.U[O.Y[R]].S.C()>2e6){alert("Blended areas are too large.");return}for(var R=1;R<d2;R++){var I=O.U[O.Y[R]],f4=I.S.v();
f4.rX(1,1);var ln=a.j(f4.C()*4);a.FP(I.buffer,I.S,ln,f4);h7.extend(f4);var iM=a.j(f4.C()*4);a.FP(h7.buffer,h7.S,iM,f4);
var f=a.j(f4.C());a.YT(ln,f,3);a.round(f,200);a.GS(f,ln,3);a.B.qZ("norm",ln,f4,iM,f4,f4,1);a.cE.Ep(iM,f,f4);
a.FP(iM,f4,h7.buffer,h7.S)}var f=new aA([2,10,0],this);f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:[O.Y[0]]};
O.Bx(f);this.n5(f.data,O)}if(F==ad.JK){var la=O.U.slice(0),aC=O.Y.slice(0);for(var R=0;R<la.length;R++){var I=la[R],aY=I.add.vmsk;
if(I.tE()&&aY&&I.add.vstk.strokeEnabled.v&&!I.add.vstk.fillEnabled.v){var aS=aY.u,ct=0,aN=-1;for(var hK=0;
hK<aS.length;hK++){if((aS[hK].I==0||aS[hK].I==3)&&aS[hK].VF!=-1){ct++;if(aS[hK].I==3&&aN==-1){aS[hK].gW=aS[hK].VF=1;
aN=hK}}}if(ct>1&&aN!=-1&&ct<10){console.log("separating an open path into a new layer");I=I.v();aY=I.add.vmsk;
aS=aY.u;var H=aS[aN].length,jp=I.v();jp.add.lyid=O.iw();aY.u=aS.slice(0,2).concat(aS.slice(aN,aN+H+1));
aY.Y=[];I.uH(O);I.vw();var ky=jp.add.vmsk.u;jp.add.vmsk.u=ky.slice(0,aN).concat(ky.slice(aN+H+1,ky.length));
jp.add.vmsk.Y=[];jp.uH(O);la[R]=I;la.splice(R+1,0,jp);for(var hK=0;hK<aC.length;hK++)if(aC[hK]>R)aC[hK]++;
var dJ=aC.indexOf(R);if(dJ!=-1){aC.splice(dJ+1,0,R+1)}}}}if(la.length!=O.U.length){var f=new aA("Splitting open paths",this);
f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:aC};O.Bx(f);this.n5(f.data,O)}}if(F==ad.v3){this.cu({Q:ad.JK},M,O,P,y);
var e8=O.Y.slice(0),ds=O.U.slice(0),f8=O.td();if(f8.length==0)return;O.aJU(f8,!1,s.gL);var f=new aA([6,36,0],this);
f.data={Q:ad.Br,cc:ds,ff:O.U.slice(),_K:e8,bH:O.Y.slice(0)};O.Bx(f);this.n5(f.data,O)}if(F==ad.atJ){var b4=h.add.SoLd;
if(b4==null)return;var cP=b4.Idnt.v,eR=O.gX(cP);eR.Ta(!1);var fZ=a.Gp(eR.EV[0],8),f4=eR.EV[1];if(a.vI(fZ)){alert("The smart object contains transparency.");
return}var cL=b_.O7("jpg").u6([[fZ.buffer]],f4.A,f4.$,[90]);this.cu({Q:ad.EI,data:new Uint8Array(cL),Zp:"image.jpg"},M,O,P,y);
console.log(O.add);return}if(F==ad.Zw){var b4=h.add.SoLd,cB=!1;if(b4==null)return;var cP=b4.Idnt.v,hI=new fr;
jv.kM(O.vP(cP).raw.buffer,hI);if(s.tW!="del")for(var R=1;R<hI.U.length-1;R++)hI.U[R].x1(!1);if(s.tW=="switch"){hI.U[s.K].x1(!0);
cB=!0}else if(s.tW=="del"){hI.U.splice(s.K,1);hI.Y=[hI.U.length-1]}else{var I=hI.Tk();I.S=h.S.v();I.jj(s.a77);
var lc=I.buffer=a.j(I.S.C()*4);a.FP(s.K[0],s.K[1],lc,I.S);I.S.x=I.S.y=0;hI.U.splice(hI.U.length-1,0,I)}var g3=b_.yP.u6(hI);
this.cu({Q:ad.EI,data:new Uint8Array(g3),Zp:"image.psd",id:cP,amp:cB},M,O,P,y);return}if(F==ad.EI){var k9=s.ZK,cP=s.id;
if(k9==null)k9=O;if(cP==null)cP=h.add.SoLd.Idnt.v;var jf=k9.gX(cP),ii=jf.v();ii.raw=s.data;ii.Zp=s.Zp;
var g7=b_.WG(s.data.buffer);if(g7=="psd"){ii.kx="8BIM";ii.tn="8BPB"}else{ii.kx="    ";ii.tn="    "}ii.Ta(!1);
jf.Ta(!1);var q=O.tX();if(s.amp&&q&&q.l==this&&q.data.Q==F&&q.data.id==cP){f=q;f.data._r=ii}else{var f=new aA(s.amp?"Select Variation":[6,36,1],this);
f.data={Q:ad.EI,id:cP,aH6:jf,_r:ii};k9.Bx(f)}this.n5(f.data,k9)}if(F==ad.kl){var f=new aA([6,36,4],this);
f.data={Q:F,w:A,dK:h.add.SoLd.Impr.v.classID,IQ:s.IQ};O.Bx(f);this.n5(f.data,O)}if(F==ad.Nd){var eN,gq;
if(s.qA){eN=s.ZK;gq=s.qA}else{s.ZK.DA();s.ZK.Jy();s.ZK.vw();s.ZK.kp();s.ZK.Ta();eN=b_.O7("PSD").u6(s.ZK,0,0,[!0,!0]);
gq=s.ZK.name}if(!(eN instanceof ArrayBuffer))throw"e";eN=new Uint8Array(eN);var v=s.Eh;if(v==null){if(O.Y.length==0)v=O.Y.length;
else{var ba=O.Y[O.Y.length-1],H=O.U[ba];v=H.ES()?ba:ba+1}}var k1=new gi(0,0,O.A,O.$),kx=O.E8();if(kx!=-1)k1=O.U[kx].Kj();
var iZ=O.N4(eN,gq,null,null,k1,y.s4,M),la=O.U.slice(0);la.splice(v,0,iZ);var f=new aA([6,36,2],this);
f.data={Q:ad.Br,cc:O.U.slice(),ff:la,_K:O.Y.slice(0),bH:[la.indexOf(iZ)]};O.Bx(f);this.n5(f.data,O)}if(F==ad.ZC&&s.tW=="merge"){var cT=[],d$=O.root.children,iV=0;
for(var R=0;R<d$.length;R++){var B=d$[R],I=B.w,bt=B.children,iX=!0;if(!I.ES()||bt.length==0)continue;
for(var hK=0;hK<bt.length;hK++)if(!bt[hK].w.getName().startsWith("_a_")){iX=!1;break}if(iX)cT.push(O.U.indexOf(I))}var fw=[];
for(var R=0;R<cT.length;R++)if(O.Y.indexOf(cT[R])!=-1)fw.push(cT[R]);if(fw.length>=2)cT=fw;if(cT.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var kZ=[];for(var R=0;R<cT.length;R++)kZ.push(O.U[cT[R]].getName());var a6=[];for(var bI=0;bI<cT.length;
bI++){var B=O.root.vt(cT[bI]),e1=[[],[],0,bI];a6.push(e1);for(var R=0;R<B.children.length;R++){var g=B.children[R].index,I=B.children[R].w,dS=I.getName(),ks=20,jP=dS.split(",");
if(jP.length>1){var eu=parseInt(jP.pop());if(!isNaN(eu)&&eu!=0)ks=eu}if(ks<17)ks=17;e1[0].push(I);e1[1].push(ks);
e1[2]+=ks}}a6.sort(function(f,ln){return ln[2]-f[2]});if(a6[0][2]>2e3){var cU=0,hp=0;for(var R=0;R<a6.length;
R++){var jT=a6[R][1].length/a6[R][2];if(jT>hp){hp=jT;cU=R}}var i_=(a6[0][2]/1e3).toFixed(1),ei=window.confirm("- \""+kZ[a6[0][3]]+"\" is "+i_+" seconds long\n"+"- \""+kZ[a6[cU][3]]+"\" is playing at "+Math.round(hp*1e3)+" frames per second\n"+"A merged animation must be "+i_+" sec, up to "+Math.round(a6[0][2]*hp)+" frames. Proceed?");
if(!ei)return}var dl=a6[0],kR=dl[2];for(var iQ=1;iQ<a6.length;iQ++){var e1=a6[iQ],fG=1,gr=e1[1].slice(0),dx=0;
while((fG+1)*e1[2]<=dl[2]){fG++;gr=gr.concat(e1[1])}e1[1]=gr;e1[2]*=fG;var hc=dl[2]/e1[2];for(var R=0;
R<e1[1].length;R++){var fa=Math.floor(e1[1][R]*hc);e1[1][R]=fa;dx+=fa}while(dx<kR){dx++;e1[1][e1[1].length-1]++}e1[2]=dx}var kQ=[],gG=[],fa=[];
for(var R=0;R<a6.length;R++){kQ.push(0);gG.push(0)}while(iV<kR){var a2=1e9,l2=-1;for(var R=0;R<a6.length;
R++){var dF=a6[R][1],cI=kQ[R];if(cI!=dF.length&&gG[R]+dF[cI]<iV+a2){l2=R;a2=gG[R]+dF[cI]-iV}}gG[l2]+=a6[l2][1][kQ[l2]];
kQ[l2]++;if(a2!=0){fa.push(a2);iV+=a2}}for(var R=1;R<fa.length;R++){var fS=fa[R];if(fS<16&&(fa[R-1]<16||R<fa.length-1&&16<=fa[R+1])){fa[R-1]+=fS;
fa.splice(R,1);R--}}var cN=[],k9=new gi(0,0,O.A,O.$);for(var R=0;R<O.U.length;R++){cN[R]=O.U[R].CD();
O.U[R].x1(!1)}var gx=O.Y.slice(0);O.Y=cT;var eg=O.td();eg.sort(function(f,ln){return f-ln});var la=[];
for(var R=0;R<O.U.length;R++){if(eg.indexOf(R)==-1)la.push(O.U[R])}a6.sort(function(f,ln){return f[3]-ln[3]});
function gw(dF,ch){var R=0,eP=0;while(eP+dF[R]<=ch){eP+=dF[R];R++}return R}iV=0;la.splice(eg[0],0,O.kA());
for(var jA=0;jA<fa.length;jA++){var _=[];for(var R=0;R<a6.length;R++){var cI=gw(a6[R][1],iV)%a6[R][0].length,I=a6[R][0][cI];
_.push(I)}var I=O.Tk();for(var R=0;R<a6.length;R++){var ip=_[R],ew=O.U[cT[R]];ip.x1(!0);ew.x1(!0)}O.vw();
O.kp();var fZ=O.Ta();I.S=a.zq(fZ,k9,2);I.buffer=a.j(I.S.C()*4);a.FP(fZ,k9,I.buffer,I.S);for(var R=0;
R<a6.length;R++){var ip=_[R],ew=O.U[cT[R]];ip.x1(!1);ew.x1(!1)}I.x1(jA==0);I.jj("_a_frm"+jA+","+fa[jA]);
la.splice(eg[0]+1+jA,0,I);iV+=fa[jA]}var I=O.Tk();I.jj(kZ.join(" + "));I.mX="pass";I.add.lsct=dU.aY;
I.Xa=24;la.splice(eg[0]+1+fa.length,0,I);for(var R=0;R<O.U.length;R++)O.U[R].x1(cN[R]);var f=new aA([6,12,0],this);
f.data={Q:ad.Br,cc:O.U,ff:la,_K:gx,bH:[eg[0]+1+fa.length]};O.Bx(f);this.n5(f.data,O)}if(F==ad.Es){var k4=s.Ns,fQ=O.Y.slice(0);
fQ.sort(function(f,ln){return f-ln});if(fQ.length<2){alert("Select at least two layers.");return}for(var R=0;
R<fQ.length;R++)if(!O.U[fQ[R]].tE()){alert("Select only vector shapes.");return}var lf=[["AuB"],["AsB"],["AiB"],["AsB","BsA"],["AsB","BsA","AiB"],["AsB","B"],["AuB"],["BsAs","AiB"],["BsAs","AiBs","AsBs"],["BsA"]],c$=[],fb=lf[k4],bb=ad.Vp.X4,L=bb(O.U[fQ[0]].add.vmsk.u),ce=bb(O.U[fQ[1]].add.vmsk.u);
for(var R=2;R<fQ.length;R++)ce=ce.concat(O.U[fQ[R]].add.vmsk.u.slice(2));if(fb.length>1)c$.push(O.kA());
for(var R=0;R<fb.length;R++){var er=fb[R],I=O.U[fQ[k4==1?0:fQ.length-1]].v(),aY=I.add.vmsk;c$.push(I);
if(er.length==1)aY.u=bb(er=="A"?L:ce);else{var f=L,ln=ce;if(er[0]=="B"){f=ce;ln=L}f=bb(f);ln=bb(ln);
for(var hK=0;hK<ln.length;hK++)if(ln[hK].VF!=null&&ln[hK].VF!=-1)ln[hK].VF={u:1,s:2,i:3}[er[1]];aY.u=a.z.Vn(f.concat(ln.slice(2)));
if(er[3]=="s")I.add.vstl.Tq=[]}}if(fb.length>1){var I=O.Tk();I.jj("<Group>");c$.push(I);I.add.lsct=dU.aY;
I.mX="pass";I.Xa=24}var la=[],lb=[];for(var R=0;R<O.U.length;R++)if(fQ.indexOf(R)==-1)la.push(O.U[R]);
for(var R=0;R<c$.length;R++){la.splice(fQ[0]+R,0,c$[R]);lb.push(fQ[0]+R)}var f=new aA("Pathfinder",this);
f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y,bH:lb};O.Bx(f);this.n5(f.data,O)}if(F==ad.aC||F==ad.Bv){var c3=O.Y.length==1&&!O.U[O.Y[0]].ES(),dz=!0,iZ=null,lb;
if(c3&&O.Y[0]==0)return;var kU=F==ad.aC&&s.w!=null&&O.Y.indexOf(s.w)==-1,ds=O.U.slice(0),e8=O.Y.slice(0);
if(c3||kU)O.Y=[A,A-1];if(F==ad.Bv){O.Y=[];for(var R=0;R<O.U.length;R++)if(O.U[R].CD())O.Y.push(R)}var f8=O.td();
f8.sort(function(f,ln){return f-ln});var g_=new gi,k9=new gi(0,0,O.A,O.$);for(var R=0;R<f8.length;R++){var g=f8[R],I=O.U[g];
if(I.ES()||I.getName()=="</Layer group>")continue;dz=dz&&I.tE()&&I.add.vmsk!=null;g_=g_.v8(O.root.vt(g).Gt(O,!0))}if(s.Ns!=null&&!dz){alert("Select shape layers only.");
return}if(dz){var aY=null,k4=s.Ns;for(var R=0;R<f8.length;R++){var H=O.U[f8[R]];if(dc==0&&H.S.C()==0)continue;
if(iZ==null){iZ=H.v();aY=iZ.add.vmsk}else{var H=O.U[f8[R]],ky=ad.Vp.X4(H.add.vmsk.u);if(k4!=null)for(var hK=0;
hK<ky.length;hK++)if(ky[hK].VF!=null&&ky[hK].VF!=-1)ky[hK].VF=[1,2,3,0][k4];aY.u=aY.u.concat(ky.slice(2));
iZ.add.vogk=iZ.add.vogk.concat(a.G(H.add.vogk))}}iZ.add.vmsk.oy=!0;iZ.uH(O)}else if(k9.fl(g_)){iZ=O.Tk();
iZ.jj(O.U[f8[f8.length-1]].getName());iZ.S=g_;iZ.buffer=a.j(g_.C()*4,O.depth);var f1=O.add.artd;delete O.add.artd;
var jd=O.Ta(f8);if(f1)O.add.artd=f1;a.FP(jd,k9,iZ.buffer,g_);iZ.FW();iZ.vw()}else{O.aJU(f8,!0);iZ=O.U[O.Y[0]];
O.U.splice(O.Y[0],1);var it=O.gX(iZ.add.SoLd.Idnt.v);O.add.lnk2.splice(O.add.lnk2.indexOf(it),1);delete iZ.add.SoLd}var h2=m,ga=-1;
if(s.kT&&s.kT.Dplc&&s.kT.Dplc.v)h2=!0;if(h2&&F==ad.Bv&&e8.length!=0&&O.U[e8[0]].Lv()&&O.U[e8[0]].S.g3()){ga=e8[0]}if(ga!=-1||c3){var j3=O.U[ga!=-1?ga:A-1];
iZ.jj(j3.getName());iZ.add.lclr=j3.add.lclr}var la=[];for(var R=0;R<O.U.length;R++)if(h2||f8.indexOf(R)==-1)if(R!=ga)la.push(O.U[R]);
var iW=f8[f8.length-1],cc=iW==O.U.length-1?null:O.U[iW+1],e$=cc?la.indexOf(cc):la.length;la.splice(e$,0,iZ);
lb=[e$];if(kU)lb=e8.slice(0);var f=new aA([6,12,0],this);f.data={Q:ad.Br,cc:ds,ff:la,_K:e8,bH:lb};O.Bx(f);
this.n5(f.data,O)}if(F==ad.a2z){var h7=O.Tk();h7.S=new gi(0,0,O.A,O.$);h7.buffer=a.j(h7.S.C()*4);h7.buffer.fill(255);
a.B.qZ("norm",O.Ta(),h7.S,h7.buffer,h7.S,h7.S,1);h7.jj("Background");h7.add.lspf=1<<2;var f=new aA([6,12,1],this);
f.data={Q:ad.Br,cc:O.U.slice(),ff:[h7],_K:O.Y.slice(0),bH:[0]};O.Bx(f);this.n5(f.data,O)}var jg=F==ad.HP||F==ad.G9;
if(F==ad.Wo||F==ad._I||F==ad.Hs||F==ad.Z8||jg){var I=jg?O.oc()[0]:O.Tk(),fe=aW.get([0,3]),bi=s.$Z,kl=!1,av,cw;
if(F==ad.Hs)fe=aW.get([12,76,1]);if(jg){if(O.h){var ac=O.U[O.Y[0]],eK=ac.Ff(O,O.h);if(eK==null){alert("Copied area is empty");
return}I.S=eK.S;I.buffer=eK.OC;I.Rk(O);I.x1(!0)}else bi=I.getName();I.add.lspf=0;I.nN=!1;if((I.Xa&1)!=0)I.Xa--}if(F==ad.Z8){I.S=$.HH.a2h(s.PA,O);
I.buffer=a.Gp(s.PA.buffer.slice(0),a.$i(I.buffer));if(s.ahU&&O.h){I.$E=new ad.OL(O.depth);I.$E.S=O.h.S;
I.$E.color=0;I.$E.N=O.h.N.slice(0)}}if(F==ad.Wo){this.track({Cw:"make",kT:{classID:"Mk",null:f7.Ht("Lyr")}})}if(F==ad._I){I.Xa|=16;
var cl=s.kT.Usng.v,gB=cl.Type.v,cy=ak.Oq[gB.classID];fe=aW.get(ak.names[cy]);if(cl.Nm)bi=cl.Nm.v;I.add[cy]=bW.Jb(cy);
if(I.add[cy]==null)I.add[cy]={};for(var bl in gB)I.add[cy][bl]=a.G(gB[bl]);I.$E=$.HH.aBM(O);I.KV=1}if(F==ad.Hs){I.Xa|=16;
var cV=s.kT,cl=cV.Usng.v,kv=cl.Type.v,jN=cl.Shp;if(cl.Nm)bi=cl.Nm.v;if(jN==null){var gL=O.Iv(),jO=gL[0],ao=gL[1];
if(ao.length!=0&&jO[ao[0]].Fa<0){var d6=jO[ao[0]].add;I.add.vmsk=d6.vmsk.v();I.add.vstk=aV.To.Jb(!0);
I.add.vogk=a.G(d6.vogk);O.J_=[]}else I.$E=$.HH.aBM(O)}else{I.add.vmsk=new ad.Vp;I.add.vstk=a.G(cl.strokeStyle?cl.strokeStyle.v:aV.To.Jb(!0));
I.add.vogk=[];if(jN){var kC=a.cV.Rn(jN,O.A,O.$);if(kC){I.add.vogk=[kC];I.add.vmsk.u.push({I:0,VF:1,length:0});
a.cV.hl(I.add.vogk,I.add.vmsk)}else{jN=jN.v;var gh=jN.classID;if(gh=="Plgn"){var dm=jN.Cntr.v,lj=jN.corner.v;
dm=new j6(dm.Hrzn.v.val,dm.Vrtc.v.val);lj=new j6(lj.Hrzn.v.val,lj.Vrtc.v.val);I.add.vmsk.u=a.z.uU.Ll(dm.x,dm.y,Math.sqrt(lj.x*lj.x+lj.y*lj.y),Math.atan2(lj.y,lj.x),jN.sides.v,0)}else if(gh=="customShape"){var bg=a.cV.jC(jN),cZ=bg[2]-bg[0],e9=bg[3]-bg[1],gN=y.nu,an,bj;
for(var R=0;R<gN.length;R++)if(gN[R].Bj==jN.Nm.v)an=gN[R];if(an){bj=ad.Vp.X4(an.u);a.z.R7(bj,new kp(cZ,0,0,e9,bg[0],bg[1]))}else bj=a.z.uU.Rect(bg[0],bg[1],cZ,e9,0);
I.add.vmsk.u=bj}I.$k()}}}if(dc==0){var eX={solidColorLayer:0,gradientLayer:1,patternLayer:2}[kv.classID],es=["SoCo","GdFl","PtFl"][eX];
I.add[es]=a.G(aV.Qp[eX]);if(eX==0)I.add[es].Clr.v=a.wv.gN(a.Aj(y.UC));$.HH.yS(kv,I.add[es],eX);if(jN==null)fe=aW.get([6,48,0,eX]);
var dO=O.E8();if(es=="GdFl"&&dO!=-1){var le=O.U[dO].Kj(),bx=le.x+le.A/2,dq=le.y+le.$/2,ke=I.add[es].Ofst.v;
ke.Hrzn.v.val=Math.round(100*(-.5+bx/O.A));ke.Vrtc.v.val=Math.round(100*(-.5+dq/O.$));var hc=Math.min(le.A/O.A,le.$/O.$);
I.add[es].Scl.v.val=Math.round(100*hc)}if(es=="PtFl"){var fX=I.add[es].Ptrn.v,jP=cb.Hh(fX,y.ha);if(jP==null)jP=cb.Hh(fX,O.add.Patt);
if(jP==null)jP=y.ha[0];fX.Idnt.v=jP.id;O.mo(jP)}I.uH(O)}else{I.add.vstl=a.G(y.ajm)}}var d2=$.HH.WR(O,fe+" ");
I.jj(fe+" "+(d2+1));if(bi)I.jj(bi);var lg=O.Y.length==0?O.U.length-1:O.Y[O.Y.length-1],bM=O.U[lg];if(dc==0&&F==ad.Hs&&bM.Lv()&&bM.S.g3()){kl=!0;
I.jj(bM.getName());av=lg}else{av=lg+(F==ad.Wo&&u&&!Z?0:1);if(bM&&bM.add.lsct==dU.l9)av--}if(s.ai8)av=Math.max(0,av-1);
var la=O.U.slice(0);if(F==ad.G9){var jw=la[O.Y[0]]=la[O.Y[0]].v(),l9=O.h.N.slice(0);a.or(l9);a._5(l9,O.h.S,jw.buffer,jw.S)}la.splice(av,kl?1:0,I);
var eS=[5,2];if(F==ad.Wo)eS=[6,13];if(F==ad._I)eS=[6,1];if(F==ad.Hs){eS=[6,48,1];var jN=s.kT.Usng.v.Shp;
if(jN){var a_={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[jN.v.classID];
if(a_)eS=a_}}if(jg){eS=[6,49,F==ad.HP?0:1]}if(jg||F==ad.Hs||F==ad.Z8||F==ad._I)if(O.h)cw=[O.h,null];
var f=new aA(eS,this);f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:[av],om:cw};O.Bx(f);this.n5(f.data,O);
if(F==ad.Hs&&jN==null&&eX!=0||F==ad._I){var G=new kg(z.E.c);G.data={Q:z.J.Rt,Rj:iY.ho.TP};M.a(G)}}if(F==ad.a2g){var la=O.U.slice(0),I=O.U[O.Y[0]],eC=I.S.C(),gJ=eC*4,a5=la.indexOf(I),j3=O.Tk();
j3.jj("Decomposition");j3.add.lsct=dU.l9;j3.mX="pass";j3.Xa=24;la.splice(a5+1,0,j3);la.splice(a5+1,0,O.kA());
var fm=I.v();fm.jj("Residual");la.splice(a5+2,0,fm);function a2(f,ln,R){ln[R]+=128-f[R];ln[R+1]+=128-f[R+1];
ln[R+2]+=128-f[R+2];ln[R+4]+=128-f[R+4];ln[R+5]+=128-f[R+5];ln[R+6]+=128-f[R+6]}la.splice(a5,0);var kS=Date.now();
for(var jI=0;jI<5;jI++){var jp=fm.v();la.splice(a5+3,0,jp);jp.N_=128;jp.mX="lLit";jp.jj("Scale "+(jI+1));
bW.HL(1<<jI,1,fm.buffer,I.S);var bg=fm.buffer,dQ=new Uint8ClampedArray(jp.buffer.buffer);for(var R=0;
R<gJ;R+=8)a2(bg,dQ,R)}var f=new aA("Wavelet Decompose",this);f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:[a5+2]};
O.Bx(f);this.n5(f.data,O)}if(F==ad.bR){var I=O.Tk(),fe=aW.get([0,4]),d2=$.HH.WR(O,fe+" ");I.jj(fe+" "+(d2+1));
I.mX="pass";I.add.lsct=dU.l9;I.Xa=24;if(s.$Z)I.jj(s.$Z);if(s.pD!=null)I.add.lclr=s.pD;var co=O.kA(),lg=A,av=lg+(u?0:1),la=O.U.slice(0);
la.splice(av,0,co,I);var f=new aA([6,20],this);f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:[av+1]};
O.Bx(f);this.n5(f.data,O)}if(F==ad.Bp||F==ad.Pr){var hm=F==ad.Bp?s.source:O.Y[0],c2,hh,bp=O.Y.indexOf(hm)!=-1,hn=m|s.a6Q,fI,a2=null;
if(bp)fI=O.td();else fI=O._N(hm);fI.sort(function(f,ln){return f-ln});if(F==ad.Bp){c2=s.target;hh=s.yv>.5}else if(s.target!=null){c2=Math.min(s.target,O.U.length-1);
hh=s.target<O.U.length;O.cw=!0}else{var he=s.tW;hh=he>1;if(he==0){c2=O.U.length-1}if(he==1){c2=fI[fI.length-1]+1;
var H=O._N(c2);if(H.indexOf(hm)==-1)c2+=H.length-1}if(he==2){c2=fI[0]-1;var H=O._N(c2);if(H.indexOf(hm)==-1)c2-=H.length-1}if(he==3){c2=0;
if(O.U[0].add.lnsr=="bgnd")c2++}if(c2<0||c2>O.U.length-1)return;O.cw=!0}if(fI.indexOf(c2)!=-1&&!hn)return;
var ht=$.HH.vx(O,fI,c2,hh,hn?O.oc(bp?null:hm):null,F==ad.Bp&&s.yv>.8),eO=ht.pop(),aC=ht.pop(),la=ht.pop(),cx=O.Y;
O.Y=[hm];var iA=O.E8();O.Y=[c2];var c8=O.E8();if(c8==c2&&!hh)c8=-1;O.Y=cx;if(hm==iA){}else if(iA!=c8){var a2=new j6(0,0);
if(iA!=-1){var f4=O.U[iA].Kj();a2.x-=f4.x;a2.y-=f4.y}if(c8!=-1){var f4=O.U[c8].Kj();a2.x+=f4.x;a2.y+=f4.y}}var f=new aA(hn?[6,0]:[6,35],this);
f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:aC,iA:a2};O.Bx(f);this.n5(f.data,O);var cV={classID:"move",null:f7.Ht("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:eO+(hh?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:hn}};
this.track({Cw:"move",kT:cV})}if(F==ad.De){var bM=s.Cj;if(s.s9){if(h==null||!h.ES())return;var B=O.root.vt(A),hF=O.U.indexOf(B.aDS),la=O.U.slice(0);
la.splice(A,1);la.splice(hF,1);var aC=[];for(var R=hF;R<A-1;R++)aC.push(R);if(bM){var n=A-2;la[n]=la[n].v();
la[n].Cj=!1}var f=new aA(bM?[6,6,0]:"Ungroup Layers",this);f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:aC};
O.Bx(f);this.n5(f.data,O)}else{var I=O.Tk(),gE=aW.get([0,4])+" ";I.jj(gE+($.HH.WR(O,gE)+1));I.mX="pass";
if(bM){if(O.Y.length==1){alert("Select more than one layer for a clipping group.");return}I.jj("<Clip Group>")}if(s.$Z)I.jj(s.$Z);
if(s.pD!=null)I.add.lclr=s.pD;I.add.lsct=O.Y.length==1?dU.l9:dU.aY;I.Xa=24;var co=O.kA(),fI=O.td();if(fI.length==0)return;
fI.sort(function(f,ln){return f-ln});var la=[];for(var R=0;R<O.U.length;R++)if(fI.indexOf(R)==-1)la.push(O.U[R]);
var lg=O.Y[O.Y.length-1]-fI.length;la.splice(lg+1,0,co);for(var R=0;R<fI.length;R++)la.splice(lg+2+R,0,O.U[fI[R]]);
la.splice(lg+2+fI.length,0,I);if(bM){var n=lg+fI.length+1;la[n]=la[n].v();la[n].Cj=!0}var f=new aA(bM?[6,6,0]:[6,9],this);
f.data={Q:ad.Br,cc:O.U.slice(0),ff:la,_K:O.Y.slice(0),bH:[la.indexOf(I)]};O.Bx(f);this.n5(f.data,O);
var D={Cw:"make",rz:!0};D.kT={classID:"Mk",null:f7.Ht("layerSection"),From:f7.Ht("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:I.getName()}}}};
this.track(D)}}if(F==ad.a3N){if(O.Y.length!=1)return;var v=O.Y[0],kL=m;if(O.U[v].Bl()==null&&!P.D(hj.yu)){F=ad.y8;
s.Eq=O.h?!kL?"RvlS":"HdSl":!kL?"RvlA":"HdAl"}else{F=ad.EE;s.amS=!0}}if(F==ad.y8){if(O.Y.length!=1)return;
var v=O.Y[0],I=O.U[v];if(I.add.vmsk&&I.$E==null)I.uH(O);var kt=I.Bl();if(kt==null||s.avq){var f=new aA(s.$Z?s.$Z:[6,21],this),b9=new ad.OL(O.depth),dD=s.Eq,kk=dD=="RvlS"||dD=="HdSl";
if(dD=="RvlS"||dD=="HdAl"||dD=="Trns")b9.color=0;if(kk){b9.N=O.h.N.slice(0);b9.S=O.h.S.v();if(dD=="HdSl")a.or(b9.N)}if(dD=="Trns"){b9.S=I.S.v();
b9.N=a.j(I.S.C());a.YT(I.buffer,b9.N,3)}f.data={Q:ad.eD,QQ:[v,kt,b9],om:kk?[O.h,null]:null,aoK:dD=="Trns"};
O.Bx(f);this.n5(f.data,O);O.U[v].KV=1;this.track({Cw:"make",kT:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:dD}}}})}}else if(F==ad.adp){var jx=O.U[s.src],c4=O.U[s.ro],f=new aA([6,21],this),lo=jx.Bl(),f$=c4.Bl(),cg=[s.src,lo,null,s.ro,f$,lo];
if(m||Z){var dS=lo.v();if(m)cg=[s.ro,f$,dS];else cg[5]=dS;if(Z){a.or(dS.N);dS.color=255-dS.color}}f.data={Q:ad.eD,QQ:cg};
O.Bx(f);this.n5(f.data,O)}if(F==ad.jm){if(O.Y.length!=1)return;var v=A,iL=O.U[v].Bl();if(iL!=null){var f=new aA([6,22],this);
f.data={Q:ad.eD,QQ:[A,iL,null]};O.Bx(f);this.n5(f.data,O)}}if(F==ad.VI){var ds=O.U.slice(0),h7=h.v(),au=h7.Bl();
a._5(au.mw(h7.S),h7.S,h7.buffer,h7.S);$.HH.Kn(O,h7);h7.FW();O.U[O.Y[0]]=h7;var f=new aA([5,8],this);
f.data={Q:ad.Br,cc:ds,ff:O.U.slice(),_K:O.Y.slice(0),bH:O.Y.slice(0)};O.Bx(f);this.n5(f.data,O)}if(F==ad.YC){if(O.Y.length!=1)return;
var v=O.Y[0];if(O.U[v].UU(O).$E==null){var f=new aA([6,45],this);f.data={Q:F,w:v,$E:new ad.OL(O.depth)};
O.Bx(f);this.n5(f.data,O)}}if(F==ad.uB){if(O.Y.length!=1)return;var v=O.Y[0];if(O.U[v].UU(O).$E!=null){var f=new aA([6,46],this);
f.data={Q:F,w:v,$E:O.U[v].UU(O).$E};O.Bx(f);this.n5(f.data,O)}}if(F==ad.iq){if(s.src==null&&O.Y.length!=1)return;
if(s.src!=null)A=s.src;if(O.U[A].o7()){var f=new aA([6,47],this),b4=JSON.stringify(O.U[A].add.SoLd),lm=JSON.parse(b4);
delete lm.filterFX;f.data={Q:ad.QK,DZ:[{p2:A,dR:[b4,JSON.stringify(lm)],d4:[O.U[A].UU(O),null]}]};O.Bx(f);
this.n5(f.data,O)}}if(F==ad.EE){if(O.Y.length!=1)return;if(h.add.vmsk==null){var f=new aA([6,23],this),aS=O.Iv(),fn=aS[1],aS=aS[0],b9,kC;
if(s.amS&&fn.length!=0){var d6=aS[fn[0]].add;b9=d6.vmsk.v();kC=d6.vogk}else{b9=new ad.Vp;kC=[];b9.u[1].all=s.aIT?0:1}f.data={Q:F,w:A,aE1:!0,$E:b9,cV:JSON.stringify(kC),To:null};
if(h.tE()){f.data.To=Stroke.To.Jb(!0)}O.Bx(f);this.n5(f.data,O)}}if(F==ad.se){var jx=O.U[s.src],c4=O.U[s.ro];
if(c4.add.vmsk)return;var f=new aA([6,23],this),aY=jx.add.vmsk;f.data={w:s.ro,aE1:jx.eq,$E:aY.v(),cV:JSON.stringify(jx.add.vogk),To:jx.add.vstk?JSON.stringify(jx.add.vstk):null};
if(m){f.data.Q=ad.EE}else{f.data.Q=F;f.data.src=s.src;f.data.ro=s.ro}O.Bx(f);this.n5(f.data,O)}if(F==ad.ls||F==ad._3){if(O.Y.length!=1)return;
var I=O.U[A],aY=I.add.vmsk;if(aY!=null){var f5=F==ad._3,f=new aA(f5?[6,8]:[6,24],this);f.data={Q:ad.ls,w:A,aE1:I.eq,$E:aY,cV:JSON.stringify(I.add.vogk),To:I.add.vstk?JSON.stringify(I.add.vstk):null};
if(f5){f.data.Xw=aY.Bl(I.add.vstk);f.data.Xw.hU=!1}O.Bx(f);this.n5(f.data,O)}}if(F==ad.dr){var f=new aA("Metadata",this);
f.data={Q:F,M5:JSON.stringify(O.j0),pv:JSON.stringify(s.pv)};O.Bx(f);this.n5(f.data,O)}if(F==ad.QE){var de=s.ro?s.ro:O,cG=de.name,bi=s.K+"."+cG.split(".").pop();
if(cG==bi)return;var f=new aA([6,37],this);f.data={Q:F,aE5:cG,$Z:bi};if(s.ars!=!0)de.Bx(f);this.n5(f.data,de)}if(F==ad.ZC&&s.tW.endsWith("makeframes")){var cO=[],fp=s.tW.startsWith("make");
for(var R=0;R<O.Y.length;R++){var g=O.Y[R],I=O.U[g],bK=I.getName(),fN=bK.startsWith("_a_");if(fp==fN||I.add.lsct==dU.Bs)continue;
var a3=fp?"_a_"+bK:bK.slice(3);cO.push([g,bK,a3,I.add.lnsr,null])}var f=new aA([6,37],this);f.data={Q:ad.gQ,dh:cO};
O.Bx(f);this.n5(f.data,O)}if(F==ad.gQ){var cG=h.getName(),bi=s.name.substring(0,255);if(cG==bi)return;
var f=new aA([6,37],this);f.data={Q:F,dh:[[A,cG,bi,h.add.lnsr,null]]};O.Bx(f);this.n5(f.data,O);this.track(f7.yh("Nm",{t:"TEXT",v:bi}))}if(F==ad.cO){var cn=O.td(),eU=[],kN=[];
for(var R=0;R<cn.length;R++){eU.push(O.U[cn[R]].add.lclr);kN.push(s.aIN)}var f=new aA([6,38],this);f.data={Q:F,U:cn,a6n:eU,pD:kN};
O.Bx(f);this.n5(f.data,O)}if(F==ad.JS){var f=O.history[O.oB];if(f!=null&&f.l==this&&f.data.Q==F&&f.data.w==s.Yj&&f.data.IQ.B6==s.jY.B6)f.data.IQ=s.jY;
else{f=new aA("Mask Density / Feather",this);f.data={Q:F,w:s.Yj,dK:O.U[s.Yj].Zm(s.jY.B6),IQ:s.jY};O.Bx(f)}this.n5(f.data,O)}if(F==ad.ME){var fj=JSON.stringify(s.K),c_=JSON.parse(fj),f=O.history[O.oB];
if(f!=null&&f.l==this&&f.data.Q==F&&f.data.Ot==s.Ot&&f.data.nl.join(",")==s.nl.join(",")){for(var R=0;
R<s.nl.length;R++)f.data.ayO[R]=c_;if(f.data.kT&&c_.tn!=0)$.HH.yS(c_.Rw,f.data.kT.T.v,c_.tn-1)}else{f=new aA([11,6],this);
f.data={Q:F,nl:s.nl,Ot:s.Ot,aL1:[],ayO:[]};var ep=!1;for(var R=0;R<s.nl.length;R++){var g=s.nl[R],I=O.U[g],i5=s.Ot?aV.Lj(I.add):a.G(I.add.vstk);
f.data.aL1.push(i5);f.data.ayO.push(c_);if(JSON.stringify(i5)!=fj)ep=!0}if(!ep)return;O.Bx(f);if(s.Ot&&c_.tn>0){var cV=f.data.kT={classID:"setd",null:f7.Ht("contentLayer",!0),T:{t:"Objc",v:{}}};
$.HH.yS(c_.Rw,cV.T.v,c_.tn-1);this.track({Cw:"set",kT:cV})}}if(s.Ot&&c_.tn==3)O.mo(cb.Hh(c_.Rw.Ptrn.v,y.ha));
if(!s.Ot){var eI=c_.strokeStyleContent.v;if(eI.classID==aV.To.hF[2])O.mo(cb.Hh(eI.Ptrn.v,y.ha))}this.n5(f.data,O)}if(F==ad.b7){var bN=y.S0,l3=[];
for(var R=0;R<O.Y.length;R++){var g=O.Y[R],I=O.U[g],ge=I.add.vstl;if(ge==null)continue;var i5=JSON.stringify(ge);
for(var k9 in bN)ge[k9]=bN[k9];var c_=JSON.stringify(ge);if(i5==c_)continue;l3.push([g,i5,c_])}if(l3.length!=0){var q=O.tX();
if(q&&q.l==this&&q.data.Q==F&&q.data.c4.length==l3.length){var hk=!0;for(var R=0;R<l3.length;R++)if(l3[R][0]!=q.data.c4[R][0])hk=!1;
if(hk){for(var R=0;R<l3.length;R++)q.data.c4[R][2]=l3[R][2];O.vw();return}}var f=new aA("Style Change",this);
f.data={Q:F,c4:l3};O.Bx(f);O.vw()}}};$.HH.vx=function(s,M,O,P,y,F){var A=s.U[O],h=[];if(y)h=s.U.slice(0);
else for(var R=0;R<s.U.length;R++)if(M.indexOf(R)==-1)h.push(s.U[R]);var m=h.indexOf(A);if(F&&A.ES()&&A.add.lsct==dU.aY)m-=s._N(O).length-1;
var Z=[];for(var R=0;R<M.length;R++){var u=m+(P?0:1)+R,f=y?y[R]:s.U[M[R]];h.splice(u,0,f);Z.push(u)}return[h,Z,m]};
$.HH.yS=function(s,M,O){var P=[aV.IA,aV.Pd,aV.O5][O];if(M.classID==null)M.classID=["solidColorLayer","gradientLayer","patternLayer"][O];
for(var R=0;R<P.length;R++)if(s[P[R]])M[P[R]]=a.G(s[P[R]])};$.HH.aBM=function(s){var M=new ad.OL(s.depth);
if(s.h!=null){M.color=0;M.N=s.h.N.slice(0);M.S=s.h.S.v()}return M};$.HH.x7=function(s,M,O,P,y){var F=P.zL,A=O.zL,h=P.FR/O.FR,m=F.A/A.A,Z=F.$/A.$,u=F.A/2,f=F.$/2;
m/=h;Z/=h;var U=a.b.hC(F).L;for(var R=0;R<s.U.length;R++){var C=s.U[R],H=C.add.SoLd;if(H==null||H.Idnt.v!=M)continue;
var t=m!=1||Z!=1;if(t){var X=$.TR.NI(H.nonAffineTransform),Q=a.F.da(X,F),D=new kp;D.translate(-u,-f);
D.scale(m,Z);D.translate(u,f);var L=a.F.u2(Q,a.F.y1(D)),E=U.slice(0);a.F.M(L,E);H.Trnf=$.TR.kZ(E);H.nonAffineTransform=$.TR.kZ(E);
if(a.Z6.Gn(H.quiltWarp.v)){var _=H.quiltWarp.v.bounds.v;_.Rght.v.val=F.A;_.Btom.v.val=F.$}}C.VN(s,null,y,!t)}s.vw()};
$.HH.arG=function(s,M,O){M.color=255-M.color;a.or(M.N);M.oy=!0;s.uH(O);O.vw()};$.HH.prototype.QB=function(s,M){var O=s.Q,P=M.U[s.w];
M.GJ=!0;if(O==ad.EI){var R=M.add.lnk2.indexOf(M.gX(s.id));if(R==-1)throw"e";M.add.lnk2[R]=s.aH6;$.HH.x7(M,s.id,s._r,s.aH6)}if(O==ad.kl){P.add.SoLd.Impr.v.classID=s.dK;
P.VN(M)}if(O==ad.Jd){var y=JSON.parse(s.nl);for(var R=0;R<y.length;R++)M.U[y[R]].mX=s.zi[R];M.vw()}if(O==ad.V0){var y=JSON.parse(s.nl);
for(var R=0;R<y.length;R++)M.U[y[R]].N_=s.zi[R];M.vw()}if(O==ad.vg){P.J.UO=s.zi.UO;P.J.volume=s.zi.volume}if(O==ad.Hl){var y=JSON.parse(s.nl);
for(var R=0;R<y.length;R++)if(M.U[y[R]].add.lsct!=dU.Bs)M.U[y[R]].add.lspf=s.zi[R]}if(O==ad.k6){var F=s.Go,A=s.aBU;
delete P.add[F[0]];if(A[0]!="----")P.add[A[0]]=A[1]}if(O==ad.OB){P.add.iOpa=s.zi;M.vw()}if(O==ad.uY){for(var R=0;
R<s.nl.length;R++){var h=M.U[s.nl[R]];h.x1(!h.CD())}M.vw()}if(O==ad.l6){var m=P.Bl();m.isEnabled=!m.isEnabled;
P.uH(M);M.vw()}if(O==ad.J7){var m=P.UU(M).$E;m.isEnabled=!m.isEnabled;P.vw();M.vw()}if(O==ad.oq){var m=P.add.vmsk;
m.isEnabled=!m.isEnabled;if(!m.isEnabled){if(P.Xw){P.$E=P.Xw;P.Xw=null}else P.$E=null}else if(P.$E){P.Xw=P.$E;
P.$E=null}P.uH(M);M.vw()}if(O==ad.eb){P.nN=!P.nN;M.vw()}if(O==ad.KH){P.add.lmfx.masterFXSwitch.v=!P.add.lmfx.masterFXSwitch.v;
P.aD.gC=!0;M.vw()}if(O==ad.Mt){P.add.SoLd.filterFX.v.enab.v=!P.add.SoLd.filterFX.v.enab.v;P.zJ(M);M.vw()}if(O==ad.k0){var Z=s.index,u=P.add.lmfx[aV.e1[Z[0]]].v[Z[1]].v;
u.enab.v=!u.enab.v;P.aD.gC=!0;M.vw()}if(O==ad.KP){var f=M.U[s.q0],U=M.U[s.Sr],C=s.aA6,H=s.a0W;if(C=="")delete f.add.lmfx;
else f.add.lmfx=JSON.parse(C);if(H=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(H);f.aD.gC=!0;U.aD.gC=!0;
M.vw()}if(O==ad.BW){var t=P.add.SoLd.filterFX.v.filterFXList.v[s.index].v;t.enab.v=!t.enab.v;P.zJ(M);
M.vw()}if(O==ad.abX){P.add.SoLd.filterFX.v=a.G(s.aiw);P.zJ(M);M.vw()}if(O==ad.SH){var m=P.Bl();m.CG=!m.CG}if(O==ad.Jn){var m=P.add.vmsk;
m.CG=!m.CG}if(O==ad.Kh){var X=JSON.parse(s.awj);M.Vx=X[0];M.yi=X[1]}if(O==ad.GB){var X=s.Fy;for(var R=0;
R<X.length;R+=2){var Q=X[R],h=Q>=0?M.U[Q]:M.J4[-1-Q];h.add.vogk=JSON.parse(X[R+1]);a.cV.hl(h.add.vogk,h.add.vmsk);
if(Q>=0)h.uH(M)}M.vw()}if(O==ad.Zg){P.add.artb=JSON.parse(s.acp);M.vw();$._P.mg(M,s)}if(O==ad.rQ){M.h=s.Cm;
if(s.a71)M.i.P7=s.a71.slice(0);M.dj=s.Fy.slice(0);M.G7=s.ags.slice(0);M.G_=M.DI=!0}if(O==ad.H2){P.P3=!P.P3}if(O==ad.OG){var D=s.aDH;
for(var R=0;R<D.length;R++)M.U[R].wC=D[R]}if(O==ad.Br){if(s.iA)$.$O.K5(M,M.Y,null,-s.iA.x,-s.iA.y);if(s._K)M.Y=s._K;
if(s.om)M.h=s.om[0];M.XK=null;M.vw();$._P.mg(M,s);M.S7(s.cc);if(s.oT)M.gt(s.oT[0])}if(O==ad.eD){for(var R=0;
R<s.QQ.length;R+=3)$.HH.Kn(M,M.U[s.QQ[R]],s.QQ[R+1]);if(s.om){var L=s.om[0];if(L==null)delete M.h;else M.h=L}if(s.aoK){var h=M.U[s.QQ[0]];
a.GS(s.QQ[2].N,h.buffer,3)}}if(O==ad.YC){P.UU(M).$E=null;P.vw();M.vw()}if(O==ad.uB){P.UU(M).$E=s.$E;
P.vw();M.vw()}if(O==ad.QK){$.HH.a1_(M,s.DZ,0)}if(O==ad.EE){$.HH.az(M,P,!0)}if(O==ad.se){$.HH.az(M,M.U[s.ro],s.$E.isEnabled);
$.HH.kN(M,M.U[s.src],s)}if(O==ad.ls){if(s.Xw)$.HH.Kn(M,P,null);$.HH.kN(M,P,s)}if(O==ad.dr){M.j0=JSON.parse(s.M5)}if(O==ad.QE){M.name=s.aE5}if(O==ad.gQ){for(var R=0;
R<s.dh.length;R++){var E=s.dh[R],h=M.U[E[0]];h.jj(E[1]);if(E[3])h.add.lnsr=E[3];else delete h.add.lnsr}}if(O==ad.cO){for(var R=0;
R<s.U.length;R++)M.U[s.U[R]].add.lclr=s.a6n[R]}if(O==ad.ME){var _=s.aL1;for(var R=0;R<s.nl.length;R++){var h=M.U[s.nl[R]],S=_[R];
if(!s.Ot)h.add.vstk=a.G(S);else aV.IR(h.add,a.G(S));h.sK(M)}M.vw()}if(O==ad.b7){for(var R=0;R<s.c4.length;
R++){var W=s.c4[R];M.U[W[0]].add.vstl=JSON.parse(W[1])}M.vw()}if(O==ad.JS){P.aqs(s.dK);P.uH(M);M.vw()}M.DI=!0};
$.HH.prototype.n5=function(s,M){var O=s.Q,P=M.U[s.w];M.GJ=!0;if(O==ad.EI){var R=M.add.lnk2.indexOf(M.gX(s.id));
if(R==-1)throw"e";M.add.lnk2[R]=s._r;$.HH.x7(M,s.id,s.aH6,s._r)}if(O==ad.kl){P.add.SoLd.Impr.v.classID=s.IQ;
P.VN(M)}if(O==ad.Jd){var y=JSON.parse(s.nl);for(var R=0;R<y.length;R++)M.U[y[R]].mX=s.IQ;M.vw()}if(O==ad.V0){var y=JSON.parse(s.nl);
for(var R=0;R<y.length;R++)M.U[y[R]].N_=s.IQ;M.vw()}if(O==ad.vg){P.J.UO=s.IQ.UO;P.J.volume=s.IQ.volume}if(O==ad.Hl){var y=JSON.parse(s.nl);
for(var R=0;R<y.length;R++)if(M.U[y[R]].add.lsct!=dU.Bs)M.U[y[R]].add.lspf=s.IQ[R]}if(O==ad.k6){var F=s.aBU,A=s.Go;
delete P.add[F[0]];if(A[0]!="----")P.add[A[0]]=A[1]}if(O==ad.OB){P.add.iOpa=s.IQ;M.vw()}if(O==ad.uY){for(var R=0;
R<s.nl.length;R++){var h=M.U[s.nl[R]];h.x1(!h.CD())}M.vw()}if(O==ad.l6){var m=P.Bl();m.isEnabled=!m.isEnabled;
P.uH(M);M.vw()}if(O==ad.J7){var m=P.UU(M).$E;m.isEnabled=!m.isEnabled;P.vw();M.vw()}if(O==ad.oq){var m=P.add.vmsk;
m.isEnabled=!m.isEnabled;if(!m.isEnabled){if(P.Xw){P.$E=P.Xw;P.Xw=null}else P.$E=null}else if(P.$E){P.Xw=P.$E;
P.$E=null}P.uH(M);M.vw()}if(O==ad.eb){P.nN=!P.nN;M.vw()}if(O==ad.KH){P.add.lmfx.masterFXSwitch.v=!P.add.lmfx.masterFXSwitch.v;
P.aD.gC=!0;M.vw()}if(O==ad.Mt){P.add.SoLd.filterFX.v.enab.v=!P.add.SoLd.filterFX.v.enab.v;P.zJ(M);M.vw()}if(O==ad.k0){var Z=s.index,u=P.add.lmfx[aV.e1[Z[0]]].v[Z[1]].v;
u.enab.v=!u.enab.v;P.aD.gC=!0;M.vw()}if(O==ad.KP){var f=M.U[s.q0],U=M.U[s.Sr],C=s.av8,H=s.azw;if(C=="")delete f.add.lmfx;
else f.add.lmfx=JSON.parse(C);if(H=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(H);f.aD.gC=!0;U.aD.gC=!0;
M.vw()}if(O==ad.BW){var t=P.add.SoLd.filterFX.v.filterFXList.v[s.index].v;t.enab.v=!t.enab.v;P.zJ(M);
M.vw()}if(O==ad.abX){P.add.SoLd.filterFX.v=a.G(s.amc);P.zJ(M);M.vw()}if(O==ad.SH){var m=P.Bl();m.CG=!m.CG}if(O==ad.Jn){var m=P.add.vmsk;
m.CG=!m.CG}if(O==ad.Kh){var X=JSON.parse(s.a2$);M.Vx=X[0];M.yi=X[1]}if(O==ad.GB){var X=s.X$;for(var R=0;
R<X.length;R+=2){var Q=X[R],h=Q>=0?M.U[Q]:M.J4[-1-Q];h.add.vogk=JSON.parse(X[R+1]);a.cV.hl(h.add.vogk,h.add.vmsk);
if(Q>=0)h.uH(M)}M.vw()}if(O==ad.Zg){P.add.artb=JSON.parse(s.sy);M.vw();$._P.Yd(M,s)}if(O==ad.rQ){M.h=s.bm;
if(s.a93)M.i.P7=s.a93.slice(0);M.dj=s.X$.slice(0);M.G7=s.aG9.slice(0);M.G_=M.DI=!0}if(O==ad.H2){P.P3=!P.P3}if(O==ad.OG){var D=s.aqt;
for(var R=0;R<D.length;R++)M.U[R].wC=D[R]}if(O==ad.Br){M.a35();var L=s.ff,E=0,_;for(var R=0;R<L.length;
R++){var h=L[R],S=h.add.lsct;if(S==dU.Bs)E++;else if(S==dU.l9||S==dU.aY)E--;if(h.add.artb&&E!=0)_="Artboards can not be inside folders."}if(_){M.history.pop();
M.oB--;alert(_);return}if(s.bH)M.Y=s.bH;if(s.om)M.h=s.om[1];M.XK=null;M.vw();M.S7(s.ff);$._P.Yd(M,s);
if(s.iA)$.$O.K5(M,M.Y,null,s.iA.x,s.iA.y);if(s.oT)M.gt(s.oT[1])}if(O==ad.eD){for(var R=0;R<s.QQ.length;
R+=3)$.HH.Kn(M,M.U[s.QQ[R]],s.QQ[R+2]);if(s.om){var W=s.om[1];if(W==null)delete M.h;else M.h=W}if(s.aoK){var h=M.U[s.QQ[0]],g=h.buffer;
for(var R=0;R<g.length;R+=4)g[R+3]=255}}if(O==ad.YC){P.UU(M).$E=s.$E;P.KV=0;P.vw();M.vw()}if(O==ad.uB){P.UU(M).$E=null;
P.KV=0;P.vw();M.vw()}if(O==ad.QK){$.HH.a1_(M,s.DZ,1)}if(O==ad.EE){$.HH.kN(M,P,s)}if(O==ad.se){$.HH.az(M,M.U[s.src],s.$E.isEnabled);
$.HH.kN(M,M.U[s.ro],s)}if(O==ad.ls){$.HH.az(M,P,s.$E.isEnabled);if(s.Xw)$.HH.Kn(M,P,s.Xw)}if(O==ad.dr){M.j0=JSON.parse(s.pv)}if(O==ad.QE){M.name=s.$Z}if(O==ad.gQ){for(var R=0;
R<s.dh.length;R++){var x=s.dh[R],h=M.U[x[0]];h.jj(x[2]);if(x[4])h.add.lnsr=x[4];else delete h.add.lnsr}}if(O==ad.cO){for(var R=0;
R<s.U.length;R++)M.U[s.U[R]].add.lclr=s.pD[R]}if(O==ad.ME){var V=s.ayO;for(var R=0;R<s.nl.length;R++){var h=M.U[s.nl[R]],b=V[R];
if(!s.Ot)h.add.vstk=a.G(b);else aV.IR(h.add,a.G(b));h.sK(M)}M.vw()}if(O==ad.b7){for(var R=0;R<s.c4.length;
R++){var N=s.c4[R];M.U[N[0]].add.vstl=JSON.parse(N[2])}M.vw()}if(O==ad.JS){P.aqs(s.IQ);P.uH(M);M.vw()}M.DI=!0};
$.HH.WR=function(s,M){var O=0;for(var R=0;R<s.U.length;R++){var P=s.U[R].getName();if(P.startsWith(M)){var y=P.slice(M.length).trim(),F=parseInt(y);
if(!isNaN(F)&&F+""==y&&F>O)O=F}}return O};$.HH.a1_=function(s,M,O){for(var R=0;R<M.length;R++){var P=M[R],y=s.U[P.p2];
if(P.dR){y.add.SoLd=JSON.parse(P.dR[O])}if(P.d4){if(P.d4[1-O]!=null)s.pC(P.d4[1-O]);if(P.d4[O]!=null)s.hy(P.d4[O]);
else y.KV=0}y.VN(s)}};$.HH.a2h=function(s,M){var O=s.$P,P=s.S.v();if(O!=null&&(O.x!=M.A||O.y!=M.$)){P.x=Math.floor((M.A-P.A)/2);
P.y=Math.floor((M.$-P.$)/2)}else if(O==null){var y=new gi(0,0,M.A,M.$),F=M.E8();if(F!=-1)y=M.U[F].Kj();
P.x+=y.x;P.y+=y.y}return P};$.HH.aFy=function(s,M){if(M.Xw)M.Xw=null;else M.$E=null;M.uH(s);s.vw();M.KV=0};
$.HH.Kn=function(s,M,O){var P=M.Bl();if(P==null&&O==null)return;if(P)$.HH.aFy(s,M);if(O==null)return;
if(M.$E)M.Xw=O;else M.$E=O;M.uH(s);s.vw()};$.HH.az=function(s,M,O){if(M.Xw&&O){M.$E=M.Xw;M.Xw=null}else if(M.$E&&O){M.$E=null}delete M.add.vogk;
delete M.add.vstk;delete M.add.vmsk;M.uH(s);M.eq=!1;s.XK=[];s.vw()};$.HH.kN=function(s,M,O){M.add.vogk=JSON.parse(O.cV);
if(O.To)M.add.vstk=JSON.parse(O.To);else delete M.add.vstk;M.add.vmsk=O.$E.v();if(M.$E&&M.add.vmsk.isEnabled)M.Xw=M.$E;
M.uH(s);M.eq=O.aE1;s.XK=[s.U.indexOf(M)];s.J_=[];s.vw()};$.no=function(){$._g.call(this,"Layer Styles",$.qz);
this.$G=null;this.zH=null;this.aU=null;this.d$=[];this.VA=null};$.no.prototype=new $._g;$.no.prototype.cu=function(s,M,O,P,y){var F=s.w;
if(F==null)F=O.Y[0];var A=O.U[F],h=s.Fa;if(this.$G==null){this.aU=$.no.xg(O,A);this.$G=JSON.stringify(this.aU);
if(A.add.lmfx)this.zH=JSON.stringify(A.add.lmfx)}if(A.add.lmfx==null){A.add.lmfx=JSON.parse(aV.default);
for(var R=0;R<aV.order.length;R++)A.add.lmfx[aV.e1[R]]={t:"VlLs",v:[]}}if(s.Q=="scaleeffects"){if(s.K=="confirm"||s.K=="cancel"){this.cu({Q:s.K},M,O,P,y);
return}A.add.lmfx=JSON.parse(this.zH);cb.TV(A.add.lmfx,s.K/100)}else if(s.Q=="changeprop"){var m=null;
if(h!=0){var Z=this.d$[h[0]];if(Z==null)Z=aV.d$[h[0]];Z=JSON.parse(Z);var u=A.add.lmfx[aV.e1[h[0]]].v;
if(u[h[1]]==null)u[h[1]]={t:"Objc",v:Z};m=u[h[1]].v;for(var f in Z)if(m[f]==null)m[f]=Z[f]}if(s.Q=="changeprop"){if(h==0){this.aU[s.pk].v=s.K;
$.no.M4(O,A,this.aU)}else if(s.pk=="lagl"){if(m.uglg&&m.uglg.v){O.Ya(s.K.val);this.aU.gagl.v.val=O.Cz()}else m[s.pk].v=s.K}else if(s.pk=="Lald"){if(m.uglg.v){O.J0(s.K.val);
this.aU.globalAlt=O.$p()}else m[s.pk].v=s.K}else if((h[0]==3||h[0]==8)&&(s.pk=="Clr"||s.pk=="Grad")){if(s.pk=="Clr"){m.Clr={t:"Objc",v:s.K};
delete m.Grad}if(s.pk=="Grad"){m.Grad={t:"Objc",v:s.K};delete m.Clr}}else{m[s.pk].v=s.K}if(h!=0)this.d$[h[0]]=JSON.stringify(m)}if(h!=0)if(m.Ptrn)O.mo(cb.Hh(m.Ptrn.v,y.ha))}else if(s.Q=="setstl"){var U=s.K.Lefx;
if(U)cb.ayw(U,O,y.ha);cb.af4(s.K,A,null,O);this.aU=$.no.xg(O,A)}else if(s.Q=="st_dupsingle"){var C=A.add.lmfx[aV.e1[s.jn[0]]].v;
if(C[s.jn[1]]==null)return;var H=a.G(C[s.jn[1]]);C.splice(s.jn[1],0,H)}else if(s.Q=="st_movsingle"){var t=s.jn[1],C=A.add.lmfx[aV.e1[s.jn[0]]].v;
if(C[s.jn[1]]==null)return;var X=Math.max(0,Math.min(C.length-1,t+s.ahp)),Q=C[X];C[X]=C[t];C[t]=Q}else if(s.Q=="cancel"){if(this.zH==null)delete A.add.lmfx;
else A.add.lmfx=JSON.parse(this.zH);$.no.M4(O,A,JSON.parse(this.$G));this.$G=null;this.zH=null}else if(s.Q=="confirm"){var D=JSON.stringify(A.add.lmfx),L=new aA([11,6],this);
L.data={U:[F],a40:[this.zH],a23:[D],a6d:[this.$G],aGI:[JSON.stringify(this.aU)]};O.Bx(L);this.$G=null;
this.zH=null;if(D!=null){var E=JSON.parse(D);bG.xH(E);E.classID="Lefx";delete E.masterFXSwitch;var _=new kg(z.E.fa);
_.T8=!0;_.data={Cw:"set",rz:!0};var S=f7.Ht("Lyr",!0);S.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
_.data.kT={__name:"Set",classID:"setd",null:S,T:{t:"Objc",v:E}};M.a(_)}}else if(s.Q=="st_copy"){this.VA=[this.$G,this.zH];
this.$G=null;this.zH=null}else if(s.Q=="st_paste"||s.Q=="st_clear"){if(s.Q=="st_paste"&&this.VA==null)return;
var W=s.w!=null?[s.w]:O.Y.slice(0),g=[],x=[],V=[],b=[];for(var R=0;R<W.length;R++){var A=O.U[W[R]],N=$.no.xg(O,A);
g.push(A.add.lmfx?JSON.stringify(A.add.lmfx):null);V.push(JSON.stringify(N));if(s.Q=="st_paste"){x.push(this.VA[1]);
b.push(this.VA[0])}else{x.push(null);N.lrMd.v=0;N.Opct.v.val=100;N.iOpa.v.val=100;N.blIf={v:[]};for(var J=0;
J<10;J++)N.blIf.v.push(0,0,255,255);b.push(JSON.stringify(N))}}var L=new aA([11,6],this);L.data={U:W,a40:g,a23:x,a6d:V,aGI:b};
this.n5(L.data,O);O.Bx(L);this.$G=null;this.zH=null}else{var K=this.aU,E=null;if(s.Q=="st_delsingle"){E=JSON.parse(this.zH);
E[aV.e1[s.jn[0]]].v.splice(s.jn[1],1);E=JSON.stringify(E)}if(E==null)delete A.add.lmfx;else A.add.lmfx=JSON.parse(E);
if(K!=null)$.no.M4(O,A,K);var L=new aA([11,6],this);L.data={U:[s.w],a40:[this.zH],a23:[E],a6d:[this.$G],aGI:[JSON.stringify(K)]};
O.Bx(L);this.$G=null;this.zH=null}A.aD.gC=!0;O.GJ=!0;O.vw()};$.no.xg=function(s,M){if(M.add.iOpa==null)M.add.iOpa=255;
if(M.add.brst==null)M.add.brst=[1,1,1];var O=M.ES()?["pass"].concat(h0.n$):h0.n$;return{lrMd:{v:O.indexOf(M.mX)},Opct:{v:{type:"#Prc",val:Math.round(M.N_*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(M.add.iOpa*100/255)},t:"UntF"},blIf:{v:M.a8.slice(0)},brst:{v:M.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:s.Cz()}},globalAlt:s.$p(),isFolder:M.ES()}};
$.no.M4=function(s,M,O){var P=M.ES()?["pass"].concat(h0.n$):h0.n$;M.mX=P[O.lrMd.v];M.N_=Math.round(O.Opct.v.val*255/100);
M.add.iOpa=Math.round(O.iOpa.v.val*255/100);M.a8=O.blIf.v.slice(0);M.add.brst=O.brst.v.slice(0);s.Ya(O.gagl.v.val);
s.J0(O.globalAlt)};$.no.prototype.QB=function(s,M){for(var R=0;R<s.U.length;R++){var O=M.U[s.U[R]],P=s.a40[R];
if(P==null)delete O.add.lmfx;else O.add.lmfx=JSON.parse(P);$.no.M4(M,O,JSON.parse(s.a6d[R]));O.aD.gC=!0}M.GJ=!0;
M.vw()};$.no.prototype.n5=function(s,M){for(var R=0;R<s.U.length;R++){var O=M.U[s.U[R]],P=s.a23[R];if(P==null)delete O.add.lmfx;
else O.add.lmfx=JSON.parse(P);$.no.M4(M,O,JSON.parse(s.aGI[R]));O.aD.gC=!0}M.GJ=!0;M.vw()};$.FF=function(){$._g.call(this,"Layer Comps",$.Qx)};
$.FF.prototype=new $._g;$.FF.prototype.cu=function(s,M,O,P){var y=a.G(O.Ru),F=a.G(O.Ru),A=null,h=null,m=null,Z=-1,u=!1;
if(s.Q=="delLC"){var f=$.FF.kL(O.Ru,s.Fa),U=O.Ru.lastAppliedComp?O.Ru.lastAppliedComp.v:0;F.list.v.splice(f,1);
if(U==s.Fa)delete F.lastAppliedComp;A="Delete Layer Comp"}if(s.Q=="editLC"){var f=$.FF.kL(O.Ru,s.Fa),C=F.list.v[f].v;
if(s.$Z!=null)C.Nm.v=s.$Z;if(s.axy!=null){var H=s.axy,t=C.capturedInfo.v,X=t&(1<<H)-1;t=t>>H;if((t&1)==1)t--;
else t++;C.capturedInfo.v=(t<<H)+X}A="Layer Comp properties"}if(s.Q=="setLC"){$.FF.Oo(O);if(s.Fa==0)delete F.lastAppliedComp;
else F.lastAppliedComp={t:"long",v:s.Fa};A="Switch Layer Comp";u=!0}if(s.Q=="updLC"){$.FF.Oo(O);h=$.FF.aw1(O,s.Fa);
m=$.FF.Ky(O,s.Fa);F.lastAppliedComp={t:"long",v:s.Fa};A="Update Layer Comp";Z=s.Fa;u=!0}if(s.Q=="addLC"){$.FF.Oo(O);
var Q=1;for(var R=0;R<F.list.v.length;R++)Q=Math.max(Q,F.list.v[R].v.compID.v)+1;Q+=Math.floor(Math.random()*1e4);
var D={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(F.list.v.length+1)},compID:{t:"long",v:Q},capturedInfo:{t:"long",v:7}}};
F.list.v.push(D);F.lastAppliedComp={t:"long",v:Q};A="New Layer Comp";var L=$.FF.Ky(O,Q);$.FF.bI(O,L,Q)}var E=new aA(A,this);
E.data={aql:y,apq:F,a2L:h,aub:m,Fa:Z,Ro:u};this.n5(E.data,O);O.Bx(E)};$.FF.prototype.n5=function(s,M){M.Ru=s.apq;
M.GJ=!0;if(s.aub)$.FF.bI(M,s.aub,s.Fa);if(s.Ro){var O=M.Ru.lastAppliedComp?M.Ru.lastAppliedComp.v:0,P=$.FF.kL(M.Ru,O),y=P==-1?null:M.Ru.list.v[P].v,F=y?y.capturedInfo.v:7;
$.FF.B4(M,O,F);M.vw()}};$.FF.prototype.QB=function(s,M){M.Ru=s.aql;M.GJ=!0;if(s.a2L)$.FF.bI(M,s.a2L,s.Fa);
if(s.Ro){var O=M.Ru.lastAppliedComp?M.Ru.lastAppliedComp.v:0,P=$.FF.kL(M.Ru,O),y=P==-1?null:M.Ru.list.v[P].v,F=y?y.capturedInfo.v:7;
$.FF.B4(M,O,F);M.vw()}};$.FF.Oo=function(s){if(s.Ru.lastAppliedComp!=null||!s.a6z)return;var M=$.FF.Ky(s,0);
$.FF.bI(s,M,0);s.a6z=!1};$.FF.q8=function(s,M,O){s.v.Hrzn.v+=M;s.v.Vrtc.v+=O};$.FF.kL=function(s,M){var O=s.list.v;
for(var R=0;R<O.length;R++)if(O[R].v.compID.v==M)return R;return-1};$.FF.a7M=function(s){var M=s.layerSettings.v,y=null;
if(M.length==0)return;var O="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),P=M[0].v;
if(P.enab==null)P.enab={t:"bool",v:!0};if(P.Ofst==null)P.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var R=0;R<M.length;R++){var F=M[R].v;if(y==null)y=a.G(F);else for(var A=0;A<O.length;A++){var h=O[A];
if(F[h])y[h]=a.G(F[h])}M[R].v=a.G(y)}};$.FF.apm=function(s,M){var O=s.add.shmd.cmls,P=O.layerSettings.v;
for(var y=0;y<P.length;y++){var F=P[y].v,A=F.compList.v[0].v;if(A==M)return y}return-1};$.FF.aKh=function(s,M){var O=$.FF.apm(s,M);
return O==-1?null:s.add.shmd.cmls.layerSettings.v[O].v};$.FF.B4=function(s,M,O){for(var R=0;R<s.U.length;
R++){var P=s.U[R],y=P.add.shmd.cmls;if(y==null)continue;var F=y.layerSettings.v,A=$.FF.aKh(P,M);if(A==null){P.x1(!1);
continue}if((O&1)!=0){if(A.enab)P.x1(A.enab.v);else P.x1(!0)}if((O&2)!=0){if(A.Ofst){var h=A.Ofst.v,m=P.Gt(s),Z=Math.round(h.Hrzn.v-m.x),u=Math.round(h.Vrtc.v-m.y);
if(Z!=0||u!=0)$.$O.K5(s,[R],null,Z,u)}}if((O&4)!=0){if(A.Lefx){var f=a.G(A.Lefx.v);bG.Iw(f);if(JSON.stringify(f)!=JSON.stringify(P.add.lmfx)){P.add.lmfx=f;
P.aD.gC=!0}}else delete P.add.lmfx;if(A.blendOptions){var U=A.blendOptions.v;if(U.Opct)P.N_=Math.round(255*U.Opct.v.val/100);
if(U.fillOpacity)P.add.iOpa=Math.round(255*U.fillOpacity.v.val/100);if(U.Md)P.mX=P.add.lsct==dU.Bs?"norm":h0.KL(U.Md.v.BlnM)}else{P.N_=255;
P.mX=P.ES()?"pass":"norm";P.add.iOpa=255}}}};$.FF.aw1=function(s,M){var O={};for(var R=0;R<s.U.length;
R++){var P=s.U[R];if(P.add.shmd==null||P.add.shmd.cmls==null)continue;O["l"+P.add.lyid]=a.G($.FF.aKh(P,M))}return O};
$.FF.Ky=function(s,M){var O={};for(var R=0;R<s.U.length;R++){var P=s.U[R],y=P.add.lyid;O["l"+y]=$.FF.a1u(s,P,M)}return O};
$.FF.a1u=function(s,M,O){var P=M.add.shmd?M.add.shmd.cmls:null,y={classID:"null"},F=M.Gt(s),A={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:F.x},Vrtc:{t:"long",v:F.y}}};
y.compList={t:"VlLs",v:[{t:"long",v:O}]};y.enab={t:"bool",v:M.CD()};y.Ofst=a.G(A);y.FXRefPoint=a.G(P&&P.origFXRefPoint?P.origFXRefPoint:A);
y.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:h0.Qz(M.mX)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*M.N_/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:M.add.iOpa!=null?100*M.add.iOpa/255:100}}}};
if(M.add.vmsk){y.vectorMask={t:"Objc",v:{classID:"null"}};y.vectorMask.v.Ofst=a.G(A)}if(M.add.lmfx){y.Lefx={t:"Objc",v:a.G(M.add.lmfx)};
bG.xH(y.Lefx.v)}return y};$.FF.aLM=function(s,M){var O=M.add.lyid;if(M.add.shmd==null)M.add.shmd={};
if(M.add.shmd.cmls==null){M.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:O},layerSettings:{t:"VlLs",v:[{t:"Objc",v:$.FF.a1u(s,M,0)}]}}}};
$.FF.bI=function(s,M,O){for(var R=0;R<s.U.length;R++){var P=s.U[R],y=P.add.lyid;$.FF.aLM(s,P);var F=P.add.shmd.cmls,A=F.layerSettings.v,h=M["l"+y];
if(h!=null)h={t:"Objc",v:a.G(h)};var m=$.FF.apm(P,O);if(m==-1){if(h==null)continue;else A.push(h)}else{if(h==null)A.splice(m,1);
else A[m]=h}}};$.FF.ez=function(s,M){for(var R=0;R<s.U.length;R++){var O=s.U[R],P=O.add.lyid;if(O.add.shmd==null||O.add.shmd.cmls==null)continue;
var y=O.Gt(s),F=Math.round(y.x),A=Math.round(y.y);if(!M){F=-F;A=-A}var h=O.add.shmd.cmls,m=h.layerSettings.v;
if(h.origFXRefPoint)$.FF.q8(h.origFXRefPoint,-F,-A);for(var Z=0;Z<m.length;Z++){var u=m[Z].v;$.FF.q8(u.Ofst,F,A);
var f=u.imageMask,U=u.vectorMask;if(f&&f.v.Ofst)$.FF.q8(f.v.Ofst,F,A);if(U&&U.v.Ofst)$.FF.q8(U.v.Ofst,F,A)}}};
$.LB=function(){$._g.call(this,"Adjust Edit",$.sA);this.pv=null;this.I8=null};$.LB.prototype=new $._g;
$.LB.k2=function(s,M,O,P){if(P)M/=4;var y=0,F=0,A=255,h=0,m=0,Z=255;while(F+s[y]<M){F+=s[y];y++}while(h+s[A]<M){h+=s[A];
A--}if(P){y-=Math.round(s[y]/(O/32));A+=Math.round(s[A]/(O/32));if(y<0)m=Math.round(-y*255/(A-y));if(A>255)Z=255-Math.round((A-255)*255/(A-y))}return[Math.max(y,0),Math.min(A,255),m,Z,100]};
$.LB.prototype.cu=function(s,M,O,P,y){var F=s.Q;if(F=="auto"){var A=s.aJq,h=$.LB.getData(O);for(var R=0;
R<h.length;R++){var m=h[R],Z;if(A<3){}else{var u=bW.Jb("hue2");aU.lB(u,0,[0,-100,0]);Z=ak.QC("hue2",u)}ak.Vj(Z,m.OC,m.e4,m.Iz)}$.LB.Z_(O,h);
$.LB.m8(O,h,A<3?[4,16,A]:[19,7,0],this);O.vw()}if(F=="edit_layer")this.aaP(s,M,O,P);if(F=="edit"||F=="confirm"||F=="cancel")this.kB(s,M,O,y,!0);
if(F=="start"){if(O.Y.length==0)return;var f=O.U[O.Y[0]];if(f.add.SoLd&&f.KV<=0&&O.G7.length==0){var U=new kg(z.E.H,!0);
U.l=$.JG;U.data={Q:"start",OT:s.Qy,rM:s.rM};M.a(U);return}if(!O.Vf(M,null,!0))return;if(aB[s.Qy]&&s.rM==null){if(O.Y.length!=1)alert("Will be applied to "+O.Y.length+" layers.");
var U=new kg(z.E.c,!0);U.data={Q:z.J.xL,Rj:"afw_"+s.Qy};M.a(U)}else{this.kB({Q:"edit",rM:s.rM,OT:s.Qy},M,O,y);
this.kB({Q:"confirm",OT:s.Qy},M,O,y)}}};$.LB.prototype.aaP=function(s,M,O,P){var y=s.Q,F=O.Y[0],A=O.U[F],h=ak.get(A.add),U;
if(A.add[h]==null)return;var m=a.G(A.add[h]);for(var Z in s.K)m[Z]=s.K[Z];var u=a.G(m);for(var Z in ak.Oq)if(ak.Oq[Z]==h)u.classID=Z;
var f=O.history[O.oB];if(f&&f.l==this&&f.data.dK!=null&&f.data.w==F)U=f;else{var C=new kg(z.E.fa,!0),H={classID:"setd",null:f7.Ht("AdjL",!0),T:{t:"Objc",v:u}};
C.data={rz:!0,Cw:"set",kT:H};M.a(C);var U=new aA([6,39],this);U.data={w:F,dK:A.add[h],IQ:m,aFH:H};O.Bx(U)}U.data.IQ=m;
U.data.aFH.T.v=u;this.n5(U.data,O)};$.LB.getData=function(s,M,O){var P=[],y=new gi(0,0,s.A,s.$),F=s.G7.length!=0?[-1-s.G7[0]]:s.Y;
for(var R=0;R<F.length;R++){var A=F[R],h=A<0?null:s.U[A],m={w:A,Sm:A<0?1:h.KV};P.push(m);var Z=s.dj[-1-A];
if(0<=A)Z=h.KV<=0?null:h.KV==1?h.Bl():h.UU(s).$E;var u=Z?Z.S:h.S;if(s.h){m.Iz=s.h.S.OK(M||Z!=null?y:u)}else m.Iz=M||Z!=null?u.v8(y):u.v();
if(O)m.Iz=O[R].Iz.v();var f=m.Iz.C();m.OC=a.j(f*4,s.depth);if(Z)$.am.y_(Z.N,Z.S,Z.color,m.OC,m.Iz);else a.FP(h.buffer,u,m.OC,m.Iz);
m.e4=m.OC.slice(0);if(s.h){m.QQ=a.j(f,s.depth);a.TT(s.h.N,s.h.S,m.QQ,m.Iz)}}return P};$.LB.a5O=function(s,M,O){if(M==null)return M;
var P=ak.sV(s,M),F;if(P==-1)return M;var y=O.length>>>2,A=a.Un(O),h=.001*y;if(P==0||P==2)F=[[0,255,0,255,100],$.LB.k2(A[1],h,y,P==2),$.LB.k2(A[2],h,y,P==2),$.LB.k2(A[3],h,y,P==2)];
if(P==1)F=[$.LB.k2(A[0],h*.33,y,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var m=bW.Jb("levl");
for(var R=0;R<4;R++)fY.lB(m,R,F[R]);return m};$.LB.abl=function(s,M,O,P){var y,F;if(O.t=="name"){var A=0;
for(var h=0;h<s.U.length;h++)if(s.U[h].getName()==O.v.val)A=h;if(s==M&&A==P.w){y=P.OC;F=P.Iz}else{var m=s.U[A];
y=m.buffer;F=m.S}}else{F=new gi(0,0,s.A,s.$);y=s==M?P.qJ:s.Ta()}return[y,F]};$.LB.prototype.kB=function(s,M,O,P){var y=O.h,F=s.OT=="matc"&&s.rM;
if(this.pv==null){if(s.OT=="aply")O.U[O.Y[0]].extend(new gi(0,0,O.A,O.$));if(F)O.h=null;this.pv=$.LB.getData(O,null,s.OT=="fade"?O.tX().data:null);
O.h=y;if(s.OT=="aply"||s.OT=="matc")this.pv[0].qJ=O.Ta()}if(s.Q=="edit"){this.I8=[s.OT,s.rM];var A=this.pv[0],h=$.LB.a5O(s.OT,s.rM,A.OC),m=ak.QC(s.OT,h);
if(s.OT=="fade"||s.OT=="matc"||s.OT=="aply")m=s.rM;if(m!=null){for(var Z=0;Z<this.pv.length;Z++){var u=this.pv[Z];
if(s.gD)a.jO(u.OC,u.e4);else if(s.OT=="fade"){var f=h0.KL(s.rM.Md.v.BlnM),U=s.rM.Opct.v.val/100,C=O.tX().data[Z];
a.jO(C.OC,u.e4);if(f=="norm")a.B.VB(u.OC,u.Iz,u.e4,u.Iz,null,null,null,u.Iz,U);else{var H=cb.lh();H.gZ=!0;
for(var R=0;R<C.OC.length;R+=4)if(C.OC[R+3]!=u.OC[R+3]){H=null;break}a.B.qZ(f,u.OC,u.Iz,u.e4,u.Iz,u.Iz,U,H)}}else if(s.OT=="matc"){function t(e,G){if(G==null)return e;
var j=a.j(G[1].C()*4);a.FP(e,G[0],j,G[1]);return j}var X,Q,W=null,g=null,x=null;if(m.noReference&&m.noReference.v){X=u.OC;
Q=u.Iz}else{var D=m.Srce.v,L=D[1].v.val,E=M.r0,_=O;for(var R=0;R<E.length;R++)if(E[R].name==L)_=E[R];
var S=$.LB.abl(_,O,D[0],u);X=S[0];Q=S[1]}if(y&&m.selectedSourceAreas&&m.selectedSourceAreas.v)g=[Q,y.S];
if(y&&m.SlcA&&m.SlcA.v)W=[u.Iz,y.S];if(y&&m.fsel&&m.fsel.v)x=[u.Iz,y.S];u.e4.set(u.OC);var V=t(u.e4,x);
hA(t(u.OC,W),t(X,g),V,[m.Lght.v,m.ClrR.v,m.Fade.v,m.neutralizeColor?m.neutralizeColor.v:!1]);if(x)a.FP(V,y.S,u.e4,u.Iz)}else if(s.OT=="aply"){m=m.With.v;
var b=m.T.v,S=$.LB.abl(O,O,b[1],u),X=S[0],Q=S[1],N=m.Clcl?m.Clcl.v.Clcn:null,f=N?h0.KL(N):"norm",U=m.Opct?m.Opct.v.val/100:1,J=["RGB","Rd","Grn","Bl","Trsp"].indexOf(b[0].v.enum),h=m.Invr&&m.Invr.v;
if(h||J!=0){X=X.slice(0);if(h)a.aGU(X);if(J!=0){var K=a.j(Q.C());a.YT(X,K,J-1);if(J==4)a.or(K);for(var q=0;
q<3;q++)a.GS(K,X,q)}}if(N=="Add"||N=="Sbtr"){var d=1/m.Scl.v,l=m.Ofst.v,T=N=="Add"?1:-1,B=new Uint8ClampedArray(u.e4.buffer);
for(var R=0;R<X.length;R+=4){B[R]=(u.OC[R]+T*X[R])*d+l;B[R+1]=(u.OC[R+1]+T*X[R+1])*d+l;B[R+2]=(u.OC[R+2]+T*X[R+2])*d+l}}else{var H=cb.lh();
H.gZ=m.PrsT&&m.PrsT.v;u.e4.fill(0);u.e4.set(u.OC);a.B.qZ(f,X,Q,u.e4,u.Iz,u.Iz,U,H)}}else ak.Vj(m,u.OC,u.e4,u.Iz)}if(F)O.h=null;
$.LB.Z_(O,this.pv);O.h=y}}if(s.Q=="cancel"){$.LB.aGq(O,this.pv);this.pv=null}if(s.Q=="confirm"){var p={fade:[2,11],aply:[2,12],matc:[4,18]},I=p[s.OT];
if(I==null)I=ak.names[s.OT];var w=ak.sV(s.OT,this.I8[1]);if(w!=-1)I=[4,16,w];$.LB.m8(O,this.pv,I,this);
this.pv=null;if(w==-1)$.LB.q9(M,this.I8)}O.vw()};$.LB.q9=function(s,M){var O=M[0],P=M[1],y,F;if(ak.XJ[O]){y=ak.XJ[O];
if(aB[O])F=P}if(bW.XJ[O]){y=bW.XJ[O];if(aB[O])F=P}if(O=="fade"){y="fade";F=P}if(O=="matc"){y="matchColor";
F=P}if(O=="aply"){y="applyImageEvent";F=P}if(O=="GEfc"){if(F.GEfs)F=F.GEfs.v[0].v}if(y==null)return;
var A=new kg(z.E.fa,!0);A.data={rz:!0,Cw:y};if(F){F=a.G(F);A.data.kT=F}s.a(A)};$.LB.aGq=function(s,M){$.LB.kG(s,M)};
$.LB.m8=function(s,M,O,P){for(var R=0;R<M.length;R++){var y=M[R],F=s.U[y.w],A=y.w<0?s.dj[-1-y.w]:y.Sm<=0?null:y.Sm==1?F.Bl():F.UU(s).$E;
if(A){A.FW();A.oy=!0;if(F)F.uH(s)}else{F.FW();F.vw()}delete y.e4;delete y.QQ}var h=new aA(O,P);h.data=M;
s.Bx(h);s.GJ=!0};$.LB.Z_=function(s,M,O){for(var R=0;R<M.length;R++){var P=M[R],y=s.U[P.w],F=O?P.OC:P.e4,A=P.Iz;
if(P.Sm==0){y.extend(A);if(P.QQ){a.FP(P.OC,A,y.buffer,y.S);a.B.VB(F,A,y.buffer,y.S,P.QQ,A,0,A,1)}else a.FP(F,A,y.buffer,y.S)}else{var h=P.w<0?s.dj[-1-P.w]:P.Sm==1?y.Bl():y.UU(s).$E;
h.extend(A);if(P.QQ){var m=a.j(A.C()*4);a.jO(P.OC,m);a.B.VB(F,A,m,A,P.QQ,A,0,A,1);$.am.ZD(m,A,h)}else $.am.ZD(F,A,h);
h.oy=!0;if(y)y.uH(s)}if(y)y.vw()}if(!O)$.LB.aeB(s,M)};$.LB.kG=function(s,M){for(var R=0;R<M.length;R++){var O=M[R],P=s.U[O.w],y=O.Iz,F=a.j(y.C()*4,s.depth);
if(O.Sm==0){a.FP(P.buffer,P.S,F,y);P.extend(y);a.FP(O.OC,y,P.buffer,P.S);P.FW()}else{var A=O.w<0?s.dj[-1-O.w]:O.Sm==1?P.Bl():P.UU(s).$E;
$.am.y_(A.N,A.S,A.color,F,y);A.extend(y);$.am.ZD(O.OC,y,A);A.FW();A.oy=!0;if(P)P.uH(s)}O.OC=F;if(P)P.vw()}s.GJ=!0};
$.LB.aM=function(s){var M=0;for(var R=0;R<s.length;R++)M+=s[R].OC.length;return M};$.LB.aeB=function(s,M){var O=$.LB.ab4(s),P=~O;
if(O==16777215)return;for(var R=0;R<M.length;R++){var y=M[R],F=s.U[y.w],A=y.Iz;if(y.Sm!=0)continue;F.extend(A);
var h=A.x-F.S.x,m=A.y-F.S.y,Z=F.S.A,u=new Uint32Array(y.OC.buffer),f=new Uint32Array(F.buffer.buffer);
for(var U=0;U<A.$;U++)for(var C=0;C<A.A;C++){var H=U*A.A+C,t=(U+m)*Z+(C+h);f[t]=f[t]&O|u[H]&P}F.FW();
F.vw()}s.vw()};$.LB.ab4=function(s){var M=s.i.P7;return M[2]*16711680|M[1]*65280|M[0]*255};$.LB.prototype.QB=function(s,M){var O=M.U[s.w];
if(s.dK!=null)O.add[ak.get(O.add)]=s.dK;else $.LB.kG(M,s);M.vw()};$.LB.prototype.n5=function(s,M){var O=M.U[s.w];
if(s.dK!=null)O.add[ak.get(O.add)]=s.IQ;else $.LB.kG(M,s);M.vw()};$.LB.prototype.aM=function(s){return s.dK==null?$.LB.aM(s):0};
$.Gu=function(){$._g.call(this,"Filter Edit",$.JG);this.pv=null;this.VO=null;this.Q=null;this.I8=null;
this.ev=null};$.Gu.prototype=new $._g;$.Gu.prototype.cu=function(s,M,O,P,y){if(s.Q=="start"){if(O.Y.length==0)return;
var F=O.U[O.Y[0]];if(F.add.SoLd&&F.KV<=0&&O.G7.length==0){}else if(!O.Vf(M,null,!0))return;var A=s.OT;
if((aB[A]||bW.Z[A])&&s.rM==null){if(O.Y.length!=1)alert("Will be applied to "+O.Y.length+" layers.");
var h=new kg(z.E.c,!0);h.data=$.Gu.Az(A,this.yL(O,A),s.aE6);M.a(h)}else{var m={Q:"edit",OT:A,rM:s.rM,JR:this.yL(O)};
this.cu(m,M,O,P,y);m.Q="confirm";delete m.rM;this.cu(m,M,O,P,y)}}if(s.Q=="edit"||s.Q=="cancel"||s.Q=="confirm"){if(s.Q=="edit"){this.I8=[s.OT,s.rM];
if(ak.names[s.OT]==null)this.ev=this.I8}if(s.JR)this.aiH(s,M,O,y);else this.aoU(s,M,O,y)}if(s.Q=="applylast"&&this.ev!=null){var A=this.ev[0],Z=this.ev[1];
if(P.D(hj.tT)&&(aB[A]||bW.Z[A])){var h=new kg(z.E.c,!0);h.data=$.Gu.Az(A,this.yL(O,A),null,Z);M.a(h)}else{var m={Q:"edit",OT:A,rM:Z,JR:this.yL(O)};
this.cu(m,M,O,P,y);m.Q="confirm";delete m.rM;this.cu(m,M,O,P,y)}}};$.Gu.Az=function(s,M,O,P){var y=bW.Z[s];
if(y)return{Q:z.J.LT,l:y,uP:{JR:M,aE6:O}};else return{Q:z.J.xL,Rj:"afw_"+s,JR:M,vA:P}};$.Gu.prototype.yL=function(s,M){var O=s.U[s.Y[0]],P;
if(O.add.SoLd&&O.KV<=0&&s.G7.length==0){P={w:s.Y[0],index:0};if(O.add.SoLd.filterFX!=null){var y=O.add.SoLd.filterFX.v.filterFXList.v;
P.index=y.length;for(var R=0;R<y.length;R++)if(bW.zX(y[R].v)=="rigidTransform")P.index=R}}return P};
$.Gu.prototype.aiH=function(s,M,O,P){var y=O.U[s.JR.w],F=s.OT;if(s.Q=="edit"){if(this.Q==null){var A=bW.names[F];
if(A==null)A=ak.names[F];if(F=="blendOptions")A=[14,10];this.Q=new aA(A,this);this.Q.data={JR:s.JR,akw:a.G(y.add.SoLd)}}if(!y.o7()){y.add.SoLd.filterFX=bW.Yu();
var h=this.Q.data.d4=fr.a3m(y.add.SoLd.placed.v,O.depth);O.hy(h);if(O.h){h.$E.N=O.h.N.slice(0);h.$E.S=O.h.S.v();
h.$E.color=0;this.Q.data.Cm=O.h;O.h=null}y.VN(O)}var m=y.add.SoLd.filterFX.v.filterFXList.v;if(m[s.JR.index]==null){m.push(bW.Nl(F,P))}if(s.rM){m[s.JR.index].v.enab.v=s.gD!=!0;
if(F=="blendOptions")m[s.JR.index].v.blendOptions.v=s.rM;else m[s.JR.index].v.Fltr.v=s.rM}this.Q.data.adD=a.G(y.add.SoLd);
this.n5(this.Q.data,O)}if(s.Q=="cancel"){if(this.Q)this.QB(this.Q.data,O);this.Q=null}if(s.Q=="confirm"){if(this.Q)O.Bx(this.Q);
if(this.I8)$.LB.q9(M,this.I8);this.Q=null}};$.Gu.prototype.aoU=function(s,M,O,P){if(this.pv==null){var y=bW.mH(s.OT,s.rM);
this.pv=$.LB.getData(O,y.x!=0||y.y!=0,s.OT=="VaPo"?[{Iz:s.qJ[1]}]:null)}if(s.Q=="edit"){var F=JSON.stringify(s.rM);
if((s.rM==null||F!=this.VO)&&s.gD!=!0)for(var R=0;R<this.pv.length;R++){var A=this.pv[R],h={S:A.Iz,buffer:A.OC},m={S:A.Iz,buffer:A.e4};
if(s.OT=="Avrg"&&A.QQ){h.buffer=A.OC.slice(0);a.QV(A.QQ,h.buffer)}bW.Vj(s.OT,h,s.rM,a.Aj(P.UC),a.Aj(P.Cc),m,[O.add.lnk2?O.add.lnk2:[],O.U[O.Y[0]].Bl(),O.dj,O.Iv()]);
if(s.OT=="VaPo"){a.FP(s.qJ[0],s.qJ[1],m.buffer,m.S)}if(s.OT=="Avrg"&&A.QQ){var Z=A.OC.length;for(var R=0;
R<Z;R+=4)A.e4[R+3]=A.OC[R+3]}this.VO=F}$.LB.Z_(O,this.pv,s.gD)}if(s.Q=="cancel"){$.LB.aGq(O,this.pv);
this.pv=null;this.VO=null}if(s.Q=="confirm"){if(s.OT=="VaPo"){this.pv.ahQ=JSON.stringify(O.e2);this.pv.aoB=JSON.stringify(s.K);
O.e2=s.K}$.LB.m8(O,this.pv,bW.names[s.OT],this);this.pv=null;this.VO=null;$.LB.q9(M,this.I8)}O.vw();
O.GJ=!0};$.Gu.prototype.QB=function(s,M){if(s.aoB)M.e2=JSON.parse(s.ahQ);if(s.JR){var O=M.U[s.JR.w];
if(s.d4)M.pC(s.d4);if(s.Cm)M.h=s.Cm;O.add.SoLd=a.G(s.akw);if(O.o7())O.zJ(M);else{O.VN(M);O.KV=0}}else $.LB.kG(M,s);
M.vw();M.GJ=!0};$.Gu.prototype.n5=function(s,M){if(s.aoB)M.e2=JSON.parse(s.aoB);if(s.JR){var O=M.U[s.JR.w];
if(s.d4)M.hy(s.d4);if(s.Cm)M.h=null;O.add.SoLd=a.G(s.adD);if(O.o7())O.zJ(M);else O.VN(M);if(!O.Yi())O.Xa+=32}else $.LB.kG(M,s);
M.vw();M.GJ=!0};$.Gu.prototype.aM=function(s){return s.JR==null?$.LB.aM(s):0};var g5={rT:"0",pr:"1",hL:"2",cR:"3",aA:"3.5",KE:"4",fV:"5",VE:"6",X1:"7",GV:"7.5",H:"8",kK:"8.5",WQ:"8.8",WD:"9",Ql:"10",agd:"10.5",B0:"11",IB:"12",pj:"13",JZ:"14",vG:"15",rc:"16",sp:"17",_X:"18",vb:"19",_2:"21",WF:"22",_s:"23",Aw:"23.0",CL:"23.1",VT:"23.2",hk:"23.3",ye:"23.4",R3:"23.5",ox:"23.6",agz:"30",TX:"31",r1:"40",le:"41",uM:"42"};
g5.Kd={};g5.Kd[g5.pr]=["abr","brushes",i$,[9,3],3];g5.Kd[g5.hL]=["grd","gradients",lk,[12,37],4,36,36];
g5.Kd[g5.cR]=["shc","contours",ko,[12,21],0];g5.Kd[g5.aA]=["acv","curves",ef,[4,2],0];g5.Kd[g5.KE]=["asl","styles",hX,[12,22],5];
g5.Kd[g5.fV]=["pat","patterns",d8,[12,62],6];g5.Kd[g5.VE]=["csh","shapes",dM,[12,77],7];g5.Kd[g5.X1]=["aco","swatches",iy,[9,8],0,22,22];
g5.Kd[g5.GV]=["act","color tables",cQ,"Color tables",0,22,22];g5.Kd[g5.H]=["atn","actions",dy,[9,9],2];
g5.Kd[g5.kK]=["tpl","tpresets",e2,[9,12],0];g5.Kd[g5.WQ]=["icc","profiles",ej,"LUTs",8];g5.KI={};g5.KI[g5.X1]=!0;
function aA(s,M,O){if(O==null)O=!1;this.name=s;this.l=M;this.aA_=O;this.data=null;this.af2=Date.now()}aA.prototype.aM=function(){return this.l?this.l.aM(this.data):0};
var f7={};f7.Ht=function(s,M){var O={t:"Clss",v:{classID:s}};if(M)O={t:"Enmr",v:{classID:s,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[O]}};f7.yh=function(s,M){var O={classID:"Lyr"};O[s]=M;return{Cw:"set",kT:{classID:"null",null:f7.Ht("Lyr",!0),T:{t:"Objc",v:O}}}};
f7.af1=function(s,M,O,P,y){var F=new kg(z.E.fa,!0),A=[],R=0,h=f7.E$(M,O,P,A);while(A.length!=0){var m=A.pop();
R++;if(!m.e)continue;console.log(R-1);if(m.Cw=="conditional"){var Z=s.U[s.Y[0]],u=m.kT.null.v.Cndt,f=!1;
if(u=="Bckg")f=!1;else if(u=="Pxel"&&s.Y7(!1))f=!0;else if(u=="Adjs"&&ak.get(Z.add))f=!0;else if(u=="Shp"&&Z.add.vogk)f=!0;
else if(u=="Grup"&&Z.ES())f=!0;else if(u=="Opn"&&s!=null)f=!0;else if(u=="32Bt")f=!1;else if(u=="RGB")f=!0;
var U=m.kT.then,C=m.kT.else;if(f&&U)f7.E$(M,U.v[0].v.val,U.v[1].v.val,A);if(!f&&C)f7.E$(M,C.v[0].v.val,C.v[1].v.val,A)}else if(m.Cw=="stop"){if(m.kT.Cntn&&m.kT.Cntn.v==!0)window.confirm(m.kT.Msge.v);
else{alert(m.kT.Msge.v);break}}else if(m.Cw=="play"){var H=m.kT.null.v,t=new kg(z.E.c,!0);t.data={Q:z.J.bG,ZN:[H[0].v.val,H[1].v.val]};
y.a(t)}else{F.data={Cw:m.Cw,kT:m.kT};y.a(F)}}};f7.e0=function(s,M,O){var P;for(var R=0;R<s.length;R++){if(s[R].SD!=O)continue;
var y=s[R].SB;for(var F=0;F<y.length;F++){if(y[F].SD!=M)continue;P=y[F]}}return P};f7.E$=function(s,M,O,P){var y=f7.e0(s,M,O).SB,F=y.length;
for(var R=0;R<F;R++)P.push(y[F-1-R])};f7.ai5=function(s){var M=s.Cw,O=s.kT,P,A,h,m,Z;if(O&&O.null)P=O.null.v[0];
if(O&&P==null&&O.At)P=O.At.v[0];if(P&&P.t=="obj ")P=P.v[0];var y=P&&P.v?P.v.classID:null,F=["purge"];
if(F.indexOf(M)!=-1)return M[0].toUpperCase()+M.slice(1);if(M=="GEfc"||M=="paintDaubs")return iU.names[O.GEfk.v.GEft][1];
Z=ak.XJ;for(A in Z)if(Z[A]==M)h=A;Z=bW.XJ;for(A in Z)if(Z[A]==M)m=A;Z=bW.XJ;for(A in Z)if(A==M)m=A;if(h){var u=ak.sV(h,O);
if(u!=-1)return[4,16,u];return ak.names[h]}if(m)return bW.names[m];var f=f7.ahA;if(M=="make"){if(P){if(y=="AdjL")return[6,1];
else if(y=="layerSection")return O.From?[6,9]:[6,20];else if(y=="Lyr")return[6,13];else if(y=="Chnl"&&P.v.enum=="Msk")return[6,2];
else if(y=="contentLayer")return[6,48,1];else if(y=="BckL")return"Make Background Layer";else if(y=="Path")return"Make Path";
else if(y=="TxLr")return"Make Text Layer";else if(y=="slice")return"Make Slices";else if(y=="Dcmn")return[11,7];
else if(y=="Gd")return[23,4];else if(y=="Brsh")return["VAR0: VAR1",[12,87],[9,3]]}if(O.Nw){y=O.Nw.v.classID;
if(y=="Dcmn")return[11,7];else if(y=="Chnl"||y=="SCch")return"New Channel"}}else if(M=="deselect"){if(y=="Path")return"Deselect current path";
else throw y}else if(M=="draw"){return"Draw"}else if(M=="select"){if(y=="Chnl"){var U={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[P.v.enum];
if(U==null)U="";return"Select "+U+" Channel"}else if(y=="Mn")return"Select Panel \""+P.v.enum+"\"";else if(y=="Lyr"){if(P.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[P.v.enum]+" Layer";
return"Select Layer \""+P.v.val+"\""}else if(y=="Path")return"Select Path";else if(y=="Brsh")return"Select Brush";
else if(y=="Dcmn")return"Select Document"}else if(f[M]&&y=="Chnl"){var C=P.v.keyID=="fsel";return f[M]+" "+(C?"Selection":"Channel")}else if(M=="set"){if(y=="Lyr")return"Set Current Layer";
else if(y=="AdjL")return[6,39];else if(y=="contentLayer")return[6,48,2];else if(y=="Prpr"){var H=P.v.keyID;
if(H=="TxtS")return"Set Text Style";else if(H=="paragraphStyle")return"Set Paragraph Style";else if(H=="Lefx")return[11,6];
else if(H=="FlIn")return"Set "+aW.get([1,14]);else if(H=="GnrP")return"Set General Preferences";else console.log(H)}else if(y=="Clr")return"Set "+(P.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(y=="Brsh")return"Set Brush";else if(y=="Path")return"Set Work Path";else console.log(y)}else if(M=="move"){if(y=="Lyr")return"Move Layer";
else if(y=="Chnl"&&P.v.keyID=="fsel")return[7,7];else console.log(y)}else if(M=="show"||M=="hide"){var t="";
if(y=="Lyr")t="Layer";if(y=="Chnl")t="Channel";if(y=="filterFX")t="Filter Effect";return(M=="show"?"Show":"Hide")+" "+t}else if(M=="reset"){if(y=="Clr")return"Reset Colors"}else if(M=="exchange"){if(y=="Clr")return[22,7,0]}else if(M=="rotateEventEnum")return[2,5];
else if(M=="flip"){var X=O.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,X?2:3]]}if(M=="duplicate"&&y=="Dcmn")return"Duplicate first document";
if(y=="Chnl"){if(M=="duplicate"){if(P.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(M=="delete")return"Delete Channel"}if(M=="transform")return P&&P.v.keyID=="fsel"?[7,10]:[10,16];
if(M=="convertMode"){var Q="Convert Mode",D=O.Dpth;if(D)Q+=" To "+D.v+"-Bit";return Q}var L={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:O?y=="Lyr"?[6,31]:y=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerMakeCopy:"New Smart Obj. via Copy",placedLayerEditContents:"Edit Contents",placedLayerResetTransforms:"Reset Transform",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",placedLayerConvertToLayers:"Convert To Layers",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",assignProfile:"Assign Profile",convertToProfile:"Convert To Profile",conditional:"If"},E=L[M];
if(E==null)E=f7.ae1[M];if(E)return E;return M};f7.ae1={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
f7.ahA={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
f7.ahK=function(s,M,O,P){var y=s.Cw,F=s.kT,A=!1,h=new kg(z.E.H,!0),f,U,C,H;h.l=$.mu;var m=new kg(z.E.c,!0),Z=["purge","updatePlacedLayer"];
if(Z.indexOf(y)!=-1)return;var u=y;while(u.length<4)u+=" ";H=ak.XJ;for(f in H)if(H[f]==u)U=f;H=bW.XJ;
for(f in H)if(H[f]==u)C=f;H=bW.XJ;for(f in H)if(f==u)C=f;if(y=="fade")U=y;if(y=="matchColor")U="matc";
if(y=="applyImageEvent")U="aply";if(U){h.l=$.sA;h.data={Q:"start",Qy:U,rM:F}}else if(C){h.l=$.JG;h.data={Q:"start",OT:C,rM:F}}else if(y=="GEfc"||y=="paintDaubs"){h.l=$.JG;
h.data={Q:"start",OT:"GEfc",rM:F}}else if(y=="convertMode"){var t=F.Dpth;if(t==null)return;h.l=$.wO;
h.data={Q:"cmode",K:t.v}}else if(y=="assignProfile"||y=="convertToProfile"){var X=F.profile;if(X==null)X=F.T;
h.l=$.wO;h.data={Q:"cprof",K:X?X.v:null,a85:y[0]=="c"}}else if(y=="imageSize"||y=="canvasSize"||y=="revealAll"||y=="trim"||y=="crop"){h.l=$.q$;
h.data={Q:"fromAction",Q1:s}}else if(y=="fill"||y=="stroke"||y=="delete"&&F==null){var Q=null;if(P.Y.length!=0)Q=P.U[P.Y[0]];
if(F&&JSON.stringify(F).indexOf("aiHeal")!=-1)Q=null;var D=a.Aj(O.UC);if(Q!=null&&y=="fill"&&Q.add.TySh){var L="var c = new SolidColor();  c.rgb.red="+D.o+";  c.rgb.green="+D.R+";  c.rgb.blue="+D.X+";  app.activeDocument.activeLayer.textItem.color = c;";
m.data={Q:z.J.Mz,Pp:L}}else if(Q!=null&&y=="delete"&&Q.add.TySh){h.l=$.El;h.data={Q:"insertText",K:""}}else if(Q!=null&&y=="fill"&&Q.tE()&&Q.iu<=0){var h=new kg(z.E.fa,!0),F={classID:"setd",null:f7.Ht("contentLayer",!0),T:{t:"Objc",v:{}}};
$.HH.yS({Clr:{t:"Objc",v:a.wv.gN(a.Aj(O.UC))}},F.T.v,0);h.data={Cw:"set",kT:F};M.a(h);return}else if(y=="stroke"&&F&&F.null==null){h.l=$.W7;
h.data={Q:"stroke",aiZ:F}}else{if(y=="stroke"&&F&&F.Usng)h.l=$.XJ[F.Usng.v.classID];else h.l=O.zI==$.PE?$.PE:$.pr;
h.data={Q:"fromAction",Q1:s}}}else if(y=="colorRange"||y=="grow"||y=="similar"){h.l=$.SG;h.data={Q:"fromAction",Q1:s}}else if(y=="set"&&F&&F.T&&F.T.v.Ordn=="Al"&&O.zI==$.El&&M.Z$().bA()){h.l=$.El;
h.data={Q:"selectAll"}}else if(f7.ae1[y]||f7.ahA[y]&&(!1||F.With&&F.With.v[0].v.keyID=="fsel"||F.From&&F.From.v[0].v.keyID=="fsel"||F.null&&F.null.v[0].v.keyID=="fsel"||F.T.v[0]&&F.T.v[0].v.keyID=="fsel")){h.l=$.Sp;
h.data={Q:"fromAction",Q1:s}}else if(y=="rasterizeLayer"){h.data={Q:F.What?F.What.v.rasterizeItem=="vectorMask"?ad._3:ad.aEF:ad.K2}}var E={copyToLayer:ad.HP,cutToLayer:ad.G9,mergeLayersNew:ad.aC,mergeVisible:ad.Bv,flattenImage:ad.a2z,newPlacedLayer:ad.v3,placedLayerMakeCopy:ad.uy};
if(E[y])h.data={Q:E[y],kT:F};if(h.data){M.a(h);return}if(y=="collapseAllGroupsEvent"){for(var R=0;R<P.U.length;
R++){var Q=P.U[R];if(Q.ES())Q.add.lsct=dU.aY}P.DI=!0;return}if(y=="desaturate"||y=="Dstt"){h.l=$.sA;
h.data={Q:"auto",aJq:3};if(P&&P.U[P.Y[0]].add.SoLd==null)M.a(h);return}if(y=="close"){if(F&&F.Svng.v.YsN=="Ys"){m.data={Q:z.J.MF};
M.a(m)}m.data={Q:z.J.RZ,yF:P};M.a(m);return}if(y=="save"){m.data={Q:z.J.MF};M.a(m);return}if(y=="copyMerged"){m.data={Q:z.J.WP,nj:!0,FM:!0};
M.a(m);return}if(y=="placedLayerReplaceContents")m.data={Q:z.J.Fw,hd:!0};if(y=="placedLayerConvertToLayers"){m.data={Q:z.J.YM};
M.a(m);var _=M.r0[M.r0.length-1];_.Y=[];for(var R=0;R<_.U.length;R++)_.Y.push(R);h.l=$.mu;h.data={Q:ad.De};
M.a(h);var S=P.U[P.Y[0]];h.l=$.mu;h.data={Q:ad.xU,U:_.oc(),xZ:_,f6:P,a6g:[S]};M.a(h);m.data={Q:z.J.RZ};
M.a(m);var W=P.history[P.history.length-1];W.name="Convert to Layers";var g=P.U[P.Y[0]];g.jj(S.getName());
$.$O.K5(P,P.td(),null,S.S.x,S.S.y);return}if(y=="placedLayerResetTransforms"){h.l=$.wO;h.data={Q:"reset",SD:"Reset Transform"};
M.a(h);return}var E={placedLayerEditContents:z.J.YM,placedLayerExportContents:z.J.azt,copyEvent:z.J.WP,paste:z.J.v6};
if(E[y])m.data={Q:E[y],FM:!0};if(m.data){M.a(m);return}var x=F.null?F.null.v:null,V=x?x[0].v.classID:"";
if(y=="make"){if(F.null==null&&F.Nw)V=F.Nw.v.classID;if(V=="AdjL"){h.data={Q:ad._I,kT:F}}else if(V=="layerSection"){h.data=F.From?{Q:ad.De}:{Q:ad.bR};
if(F.Usng){var b=F.Usng.v;if(b.Nm)h.data.$Z=b.Nm.v;if(b.Clr)h.data.pD=f7.AO(b)}}else if(V=="Lyr"){if(F.Usng&&F.Usng.v.length==2)h.data={Q:ad.ap5};
else{h.data={Q:ad.Wo};if(F.Usng)h.data.$Z=F.Usng.v.Nm.v;if(F.below&&F.below.v)h.data.ai8=!0}}else if(V=="Chnl"&&F.At&&F.At.v[0].v.enum=="Msk"){h.data={Q:ad.y8,Eq:F.Usng.v.UsrM}}else if(V=="Chnl"||V=="SCch"){h.data={Q:ad.rQ,tW:"fromAction",K:s}}else if(V=="contentLayer"){h.data={Q:ad.Hs,kT:F}}else if(V=="BckL"){P.U[P.Y[0]].abH();
return}else if(V=="Dcmn"){if(F.Nw==null)return;var N=F.Nw.v;m.data={Q:z.J.ma,ZK:fr.aEs(N,O)}}else if(V=="Ptrn")m.data={Q:z.J.R8,dh:0};
else if(V=="Brsh")m.data={Q:z.J.R8,dh:1};else if(V=="Path"){var J=F.At;if(J&&J.v&&J.v[0]&&J.v[0].v&&J.v[0].v.enum=="vectorMask"){h.l=$.mu;
var q=!1,d=!1;if(F&&F.Usng){var b=F.Usng.v;q=b.vectorMaskEnabled=="RvlA";d=b[0]&&b[0].v.classID=="Path"}h.data={Q:ad.EE,aIT:!q,amS:d}}else{h.l=$.WU;
h.data={Q:"pathedit",tW:"fromsel"}}}else if(V=="TxLr"){h.l=$.El;h.data={Q:"fromAction",Q1:s}}else if(V=="slice"){h.l=$.bj;
h.data={Q:"fromAction",Q1:s}}else if(V=="Gd"){var l=[[],[]],N=F.Nw.v;l[N.Ornt.v.Ornt=="Vrtc"?0:1].push(N.Pstn.v.val);
var B=hM.R1(l);$.$O.Bi(B,P.T_());h.l=$.ht;h.data={Q:"gids",Cy:B}}else{console.log(y,V,F);throw"e"}}else if(y=="divide"){h.l=$.bj;
h.data={Q:"fromAction",Q1:s}}else if(y=="deselect"){if(V=="Path"){P.J_=[];P.XK=[];P.DI=P.G_=!0;return}else throw V}else if(y=="selectNoLayers"){P.Y=[];
P.GJ=!0}else if(y=="selectAllLayers"){P.Y=[];for(var R=0;R<P.U.length;R++)P.Y.push(R);P.GJ=!0;return}else if(y=="select"){var p=$.XJ;
if(V=="Lyr"){var I=F.selectionModifier,w=I?I.v.selectionModifierType:null,e=f7.Mf(P,x[0]),G=0;if(e==-1){alert("Layer "+x[0].v.val+" does not exist.");
return}var Q=P.U[e];if(Q.ES()&&Q.Bl()&&I==null)G=1;h.data={Q:ad.QU,w:e,aDe:w?["addToSelection","addToSelectionContinuous"].indexOf(w):null,iu:G}}else if(V=="Path"){if(x[0].v.keyID=="WrPt"){P.J_=[0];
P.DI=P.G_=!0;return}else if(x[0].t=="name"){for(var R=0;R<P.J4.length;R++)if(P.J4[R].name==x[0].v.val){P.J_=[R];
P.DI=P.G_=!0;return}}else throw x[0]}else if(V=="Chnl"){var j=x?x[0].v.enum:"",o=["Rd","Grn","Bl"].indexOf(j);
if(o!=-1){var r=F.Extd&&F.Extd.v?P.i.P7.slice(0):[0,0,0];r[o]=1;h.l=$.dU;h.data={Q:"setcls",P7:r}}else h.data={Q:ad.QU,w:e,iu:j=="RGB"?0:1}}else if(V=="Dcmn"){if(M.r0.length<2)return;
m.data={Q:z.J.aau,dir:F.null.v[0].v.val}}else if(V=="Brsh"){var k=O.ql.list,a7;for(var R=0;R<k.length;
R++){if(k[R].v.Nm.v.split("/").pop()==x[0].v.val)a7=k[R].v}if(O.zI==$.ht){m.data={Q:z.J.LT,l:$.pr};M.a(m)}m.data={Q:z.J.ko,dh:g5.JZ,tK:a7}}else if(V=="Mn"){if(x[0].v.enum=="FrTr")m.data={Q:z.J.LT,l:$.wO};
if(x[0].v.enum=="Scl")m.data={Q:z.J.LT,l:$.wO,uP:{Eq:3}};if(x[0].v.enum=="Plce")m.data={Q:z.J.Fw,azG:!0};
if(x[0].v.enum=="ZmIn"){h.l=$.zY;h.data={Q:"zoom",rv:!0}}if(x[0].v.enum=="ZmOt"){h.l=$.zY;h.data={Q:"zoom",rv:!1}}if(x[0].v.enum=="FtOn"){h.l=$.zY;
h.data={Q:"adapt",K:"fitscr"}}}else if(p[V]){m.data={Q:z.J.LT,l:p[V]}}else throw V}else if(y=="draw"){h.l=$.WU;
h.data={Q:"fromAction",Q1:s}}else if(y=="gradientClassEvent"){h.l=$.oa;h.data={Q:"fromAction",Q1:s}}else if((y=="set"||y=="reset"||y=="exchange")&&V=="Clr"){m.data={Q:z.J.ko,dh:g5._2,tW:y=="reset"?3:2};
if(y=="set"){m.data.tW=x[0].v.keyID=="FrgC"?0:1;var Y=a.wv.sl(F.T.v);m.data.K=Y.o<<16|Y.R<<8|Y.X}}else if(y=="set"){if(V=="AdjL"){var v=F.T.v.classID;
v=ak.Oq[v];h.l=$.sA;if(v)h.data={Q:"edit_layer",K:F.T.v}}else if(V=="Lyr"){var n=F.T.v,e=f7.Mf(P,x[0]);
for(var cm in n){if(cm=="classID")continue;h.l=$.mu;if(cm=="Nm")h.data={Q:ad.gQ,name:n.Nm.v};else if(cm=="Opct")h.data={Q:ad.V0,IQ:Math.round(n.Opct.v.val*255/100)};
else if(cm=="fillOpacity")h.data={Q:ad.OB,IQ:Math.round(n.fillOpacity.v.val*255/100)};else if(cm=="Md")h.data={Q:ad.Jd,IQ:h0.iQ.indexOf(n.Md.v.BlnM)+(P.U[e].ES()?1:0)};
else if(cm=="Usrs")h.data={Q:ad.SH,w:e};else if(cm=="Blnd"){h.l=$.qz;h.data={Q:"setstl",w:e,K:{blendOptions:{t:"objc",v:n}}};
M.a(h);h.data={Q:"confirm",w:e}}else if(cm=="userMaskFeather"||cm=="userMaskDensity"){var a5=n.userMaskFeather,t=n.userMaskDensity,e=P.Y[0],gP=P.U[e].Zm(0);
if(a5)gP.MI=a5.v.val;if(t)gP.zK=t.v.val;h.data={Q:ad.JS,Yj:e,jY:gP}}else if(cm=="Clr"){var D=f7.AO(n);
h.data={Q:ad.cO,aIN:D}}else if(cm=="Lefx")f7.arJ(M,e,n.Lefx.v,O);else if(cm=="UsrM"){if(n[cm].v==P.U[e].Bl().isEnabled)return;
h.data={Q:ad.l6,w:e}}else{console.log(F);throw cm}if(h.data){M.a(h);delete h.data}}h.data={};var Q=P.U[e];
Q.awX()}else if(V=="Prpr"){var n=a.G(F.T.v),e=f7.Mf(P,F.null.v[1]),Q=P.U[e],cg=x[0].v.keyID;if(cg=="TxtS"||cg=="paragraphStyle"){var a9=Q.add.TySh,ew=a.G(a9.nA),h7=iP.Rx(ew),bh=iP.ty(ew,0,h7.length-2);
if(cg=="TxtS")iP.vT(n,bh.TY);else iP.vT(n,bh.Gy);iP.UP(ew,0,h7.length-1,bh);h.l=$.El;h.data={Q:"newED",FB:e,afn:ew}}else if(cg=="Lefx"){for(var ba in n)if(n[ba].v){if(ba=="Scl")n[ba].v.val=100}f7.arJ(M,e,n,O);
h.data={}}else if(cg=="FlIn"||cg=="GnrP")return;else throw cg}else if(V=="contentLayer"){var e=f7.Mf(P,x[0]),n=F.T.v,jx=!0;
if(n.classID=="shapeStyle"){if(n.strokeStyle){n=n.strokeStyle.v;jx=!1}else n=n.FlCn.v}if(jx){var c4={solidColorLayer:0,gradientLayer:1,patternLayer:2}[n.classID],bq=aV.Lj(P.U[e].add),C=bq.tn==c4+1?bq.Rw:aV.Qp[c4];
C=a.G(C);$.HH.yS(n,C,c4);h.data={Q:ad.ME,nl:[e],Ot:!0,K:{tn:c4+1,Rw:C}}}else{var di=a.G(P.U[e].add.vstk);
for(var ba in n)di[ba]=n[ba];h.data={Q:ad.ME,nl:[e],Ot:!1,K:di}}}else if(V=="Brsh"){var a7=a.G(O.ql.ss),il=F.T.v;
if(il.masterDiameter)a7.Brsh.v.Dmtr.v.val=il.masterDiameter.v.val;else console.log("unknown brush parameters");
m.data={Q:z.J.ko,dh:g5.JZ,tK:a7}}else if(V=="Path"){h.l=$.WU;h.data={Q:"fromAction",Q1:s}}else if(V=="TxLr"){h.l=$.El;
h.data={Q:"fromAction",Q1:s}}else{console.log(x[0],F);throw V}}else if(y=="move"){if(V=="Lyr"){var n=F.T.v;
if(n.classID=="Ofst"){h.data={Q:"trsl",vM:n.Hrzn.v.val,bM:n.Vrtc.v.val};h.l=$.ht}else{var j0,j1;if(n[0].t=="Enmr"){if(n[0].v.enum=="Frnt")j1=0;
else if(n[0].v.enum=="Nxt")j1=1;else if(n[0].v.enum=="Prvs")j1=2;else if(n[0].v.enum=="Back")j1=3;else throw"e"}else j0=n[0].v.val;
h.data={Q:ad.Pr,target:j0,tW:j1,a6Q:F.Dplc?F.Dplc.v:!1}}}else if(V=="Chnl"&&x[0].v.keyID=="fsel"){h.l=$.Sp;
h.data={Q:"fromAction",Q1:s}}}else if(y=="cut"){var n=F.T.v,b5=n.Hrzn.v.val,b4=n.Vrtc.v.val;h.data={Q:"trsl",vM:b5,bM:b4};
h.l=$.ht}else if(y=="groupEvent"||y=="ungroup")h.data={Q:ad.eb};else if(y=="show"||y=="hide"){var lm=F.null.t;
if(lm=="obj "){if(x[0].v.val!=null)h.data={Q:ad.BW,index:x[0].v.val-1};else h.data={Q:ad.Mt}}else if(lm=="VlLs"){var V=x[0].v[0].v.classID;
if(V=="Chnl")h.data={Q:ad.rQ,tW:"fromAction",K:s};else{var ix=V=="filterFX"?x:x[0].v;for(var R=0;R<ix.length;
R++){if(V=="filterFX")h.data={Q:ad.BW,index:ix[R].v[0].v.val-1};else if(ix[R].v.enum=="Trgt"){var jy=[];
for(var bz=0;bz<P.Y.length;bz++){var e=P.Y[bz],c5=P.U[e].CD();if(y=="show"&&c5||y=="hide"&&!c5)continue;
jy.push(e)}h.data={Q:ad.uY,nl:jy}}else{var e=f7.Mf(P,ix[R]),c5=P.U[e].CD();if(y=="show"&&c5||y=="hide"&&!c5)continue;
h.data={Q:ad.uY,nl:[e]}}M.a(h)}return}}else throw lm}else if(y=="rotateEventEnum"){h.l=V=="Lyr"?$.wO:$.q$;
var k0=F.Angl.v.val;h.data={Q:"rot",SD:[2,5],K:-k0*Math.PI/180}}else if(y=="flip"){h.l=V=="Lyr"?$.wO:$.q$;
var cd=F.Axis.v.Ornt=="Hrzn",fz=cd?new j6(-1,1):new j6(1,-1);h.data={Q:"scl",SD:[[2,6],[22,4,cd?2:3]],K:fz}}else if(y=="transform"){var x=F.null;
if(x&&x.v instanceof Array)x=x.v[0];h.l=x&&x.v.keyID=="fsel"?$.PF:$.wO;h.data=$.TR.a25(F)}else if(y=="duplicate"){if(V=="Chnl")h.data={Q:ad.rQ,tW:"fromAction",K:s};
else if(V=="Dcmn"){var fu=b_.O7("PSD").u6(P);cD.XW({url:P.name},fu,M);return}else if(V=="Actn"){var c6=O.Cn,k7=x[1].v.val,hP=null;
for(var R=0;R<c6.length;R++)if(c6[R].SD==k7)hP=c6[R];var e1=f7.e0(c6,x[0].v.val,k7);e1=a.G(e1);e1.SD+=" copy";
hP.SB.push(e1);return}else h.data={Q:ad.i_,$Z:F.Nm?F.Nm.v:null}}else if(y=="delete"){if(V=="filterFX"){if(x[0].v.val!=null)h.data={Q:ad.cX,h5:x[0].v.val-1};
else h.data={Q:ad.iq}}else if(V=="Path"){if(x&&x.length==2&&x[0].v.enum=="vectorMask"&&x[1].v.classID=="Lyr"){h.l=$.mu;
h.data={Q:ad.ls}}else{h.l=$.WU;h.data={Q:"pathedit",tW:"del"}}}else if(V=="Lyr")h.data={Q:ad.Yb};else if(V=="Chnl"&&x[0].v.enum=="Msk")h.data={Q:ad.jm};
else if(V=="Chnl")h.data={Q:ad.rQ,tW:"fromAction",K:s};else if(V=="Cmnd"){var c6=O.Cn,k7=x[2].v.val,e1=f7.e0(c6,x[1].v.val,k7);
e1.SB.splice(x[0].v.val-1,1);return}else if(V=="Actn"){var c6=O.Cn,k7=x[1].v.val,hP=null;for(var R=0;
R<c6.length;R++)if(c6[R].SD==k7)hP=c6[R];var e1=f7.e0(c6,x[0].v.val,k7);hP.SB.splice(hP.SB.indexOf(e1),1);
return}else if(V=="ASet"){var c6=O.Cn,k7=x[0].v.val,hP=null;for(var R=0;R<c6.length;R++)if(c6[R].SD==k7)hP=c6[R];
if(hP==null)return;c6.splice(c6.indexOf(hP),1);P.GJ=!0;return}else throw V}else if(y=="align"){if(F.Aply&&F.Aply.v.projection=="Auto"){h.l=$.q$;
h.data={Q:"auto-align"}}else{h.l=$.ht;var fs=F.Usng.v.ADSt,U={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[fs];
if(U==null)throw fs;h.data={Q:"algn",K:U}}}else if(y=="applyLocking"){var eh=F.layerLocking.v,gW;if(eh.protectTransparency)gW=[[eh.protectTransparency.v],[0]];
else if(eh.protectNone)gW=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(eh);throw"e"}h.data={Q:ad.Hl,IQ:gW}}else if(y=="play"){var x=F.target.v;
m.data={Q:z.J.bG,ZN:[x[0].v.val,x[1].v.val]}}if(h.data)M.a(h);else if(m.data)M.a(m);else{console.log(s);
alert("Unknown action \""+y+"\"");throw"e"}};f7.arJ=function(s,M,O,P){O=a.G(O);bG.Iw(O);if(O.masterFXSwitch==null)O.masterFXSwitch={t:"bool",v:!0};
console.log(O);var y=aV.e1;for(var F=0;F<y.length;F++)if(O[y[F]]){for(var R=0;R<O[y[F]].v.length;R++){var A=O[y[F]].v[R].v;
for(var h=0;h<2;h++){var m=A[h==0?"TrnS":"MpgS"];if(m&&m.v.Crv==null){var Z=m.v,u=Z.Nm.v.split("=").pop(),f=P.Rh,U=0;
for(var C=0;C<f.length;C++){var H=f[C].Nm.v.split("=").pop();if(H==u)U=C}Z.Crv=a.G(f[U].Crv)}}}}var t=new kg(z.E.H,!0);
t.l=$.qz;t.data={Q:"setstl",w:M,K:{Lefx:{t:"objc",v:O}}};s.a(t);t.data={Q:"confirm",w:M};s.a(t)};f7.AO=function(s){var M={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[s.Clr.v.Clr];
if(M==null)throw s.Clr.v.Clr;return M};f7.Mf=function(s,M){var O=1e6,P=0,y=s.U.length;for(var R=0;R<s.Y.length;
R++){O=Math.min(O,s.Y[R]);P=Math.max(P,s.Y[R])}var F=M.t,A=-1;if(F=="name"){var h=M.v.val,A=-1;for(var R=0;
R<y;R++)if(s.U[R].getName()==h){A=R;break}}else if(F=="Enmr"){if(s.Y.length!=0)A=s.Y[0];if(M.v.enum=="Frwr")A=P+1;
if(M.v.enum=="Bckw")A=O-1;if(M.v.enum=="Back")A=0;if(M.v.enum=="Frnt")A=y-1;A=(A+y)%y}else if(F=="prop"){if(M.v.keyID=="Bckg")A=0}else if(F=="indx")A=M.v.val-1;
return A};var ak={};ak.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
ak.acY=["expA","clrL","selc"];ak.YB=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];ak.adf=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
ak.Vs=[[13,1,1],[13,1,4],[13,1,5]];ak.gf={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
ak.Oq=function(){var s=a.G(ak.gf);delete s.GrMp;s.GdMp="grdm";return s}();ak.XJ={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
ak.keys={levl:[hj.yu,hj.Yk],curv:[hj.yu,hj.RR],hue2:[hj.yu,hj.km],nvrt:[hj.yu,hj.hK],blnc:[hj.yu,hj.MV]};
ak.HQ=function(s){var M=bW.Jb("mixr");M.Mnch={t:"bool",v:s.PD};function O(P,R){var y={classID:"ChMx"},F={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var A in F)y[A]={t:"UntF",v:{type:"#Prc",val:P[R+F[A]]}};return{t:"Objc",v:y}}if(s.PD)M.Gry=O(s.K,0);
else{M.Rd=O(s.K,0);M.Grn=O(s.K,5);M.Bl=O(s.K,10)}return M};ak.yC=function(s){function M(P,y,R){var F={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var A in F)if(P[A])y[R+F[A]]=P[A].v.val}var O={PD:!1,K:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(s.Mnch&&s.Mnch.v)O.PD=!0;if(O.PD)M(s.Gry.v,O.K,0);else{M(s.Rd.v,O.K,0);M(s.Grn.v,O.K,5);M(s.Bl.v,O.K,10)}return O};
ak.get=function(s){for(var M in ak.names)if(s[M]!=null)return M;return null};ak.QC=function(s,M){var O=ak.DO,P;
if(s=="brit"){var y=M.Brgh?M.Brgh.v:0,F=M.Cntr?M.Cntr.v:0,A=M.useLegacy?M.useLegacy.v:!1;if(A){var h=y/255,m=1+F/100;
if(m>1)m=1+Math.tan(Math.PI/2*F/101);var Z=(1-m)/2,u=a.rD.ld(h,h,h),f=[m,0,0,Z,0,m,0,Z,0,0,m,Z,0,0,0,1],U=a.rD.multiply(f,u),C={o:new Float32Array(256),R:new Float32Array(256),X:new Float32Array(256)};
for(var R=0;R<256;R++)C.o[R]=R/255;a.rD.Gz(C,C,U);P={I:O.fR,xh:C.o,PC:C.o,yI:C.o,Gg:!1,qi:!1}}else{var H=1024,t=-30+60*(F+100)/200,X=[];
for(var R=0;R<4;R++)X.push(a.Vt.db(R/3*255,R/3*255,!0));X[1].v.Hrzn.v=64;X[1].v.Vrtc.v=64-t;X[2].v.Hrzn.v=128+64;
X[2].v.Vrtc.v=128+64+t;X.sort(function(hW,i9){return hW.v.Hrzn.v-i9.v.Hrzn.v});var Q=a.Vt.N8(X,H);function D(hW,H){var X=[],hS=3;
for(var R=0;R<hS+1;R++)X.push(a.Vt.db(R/hS*255,R/hS*255,!0));X[1].v.Hrzn.v=130-hW*26;X[1].v.Vrtc.v=130+hW*51;
X[2].v.Hrzn.v=233-hW*48;X[2].v.Vrtc.v=233+hW*10;return a.Vt.N8(X,H)}var L=D(Math.abs(y)/100,H);if(y<0){var E=[],_=1/H;
for(var R=0;R<H;R++){var S=R*_,W=R;while(L[W]>S&&W>1)W--;E[R]=W*_}L=E}var g=new Float32Array(H);for(var R=0;
R<H;R++){var x=Math.round((H-1)*L[R]);g[R]=Q[x]}P={I:O.fR,xh:g,PC:g,yI:g,Gg:!1,qi:!1}}}if(s=="levl"){var V=[],b,N,u,J,K,q,d=256;
for(var R=0;R<4;R++)V.push(fY.n0(M,R));var l=d-1;b=-V[0][0]/255;N=1/(V[0][1]/255-V[0][0]/255);u=a.rD.multiply(a.rD.fU(N,N,N),a.rD.ld(b,b,b));
J=a.rD.fU(1/(V[1][1]/255-V[1][0]/255),1/(V[2][1]/255-V[2][0]/255),1/(V[3][1]/255-V[3][0]/255));K=a.rD.ld(-V[1][0]/255,-V[2][0]/255,-V[3][0]/255);
q=a.rD.multiply(J,K);var g={o:new Float32Array(d),R:new Float32Array(d),X:new Float32Array(d)};for(var R=0;
R<d;R++)g.o[R]=g.R[R]=g.X[R]=R/l;var T=1/(V[0][4]/100),B=1/(V[1][4]/100),p=1/(V[2][4]/100),I=1/(V[3][4]/100);
a.rD.Gz(g,g,q);for(var R=0;R<d;R++){g.o[R]=Math.max(0,Math.min(1,Math.pow(g.o[R],B)));g.R[R]=Math.max(0,Math.min(1,Math.pow(g.R[R],p)));
g.X[R]=Math.max(0,Math.min(1,Math.pow(g.X[R],I)))}a.rD.Gz(g,g,u);for(var R=0;R<d;R++){g.o[R]=Math.max(0,Math.min(1,Math.pow(g.o[R],T)));
g.R[R]=Math.max(0,Math.min(1,Math.pow(g.R[R],T)));g.X[R]=Math.max(0,Math.min(1,Math.pow(g.X[R],T)))}b=V[0][2]/255;
N=V[0][3]/255-V[0][2]/255;u=a.rD.multiply(a.rD.ld(b,b,b),a.rD.fU(N,N,N));J=a.rD.fU(V[1][3]/255-V[1][2]/255,V[2][3]/255-V[2][2]/255,V[3][3]/255-V[3][2]/255);
K=a.rD.ld(V[1][2]/255,V[2][2]/255,V[3][2]/255);q=a.rD.multiply(K,J);a.rD.Gz(g,g,a.rD.multiply(u,q));
P={I:O.fR,xh:g.o,PC:g.R,yI:g.X,Gg:!1,qi:!1}}if(s=="curv"){var w=ef.n0(M,0).length==256?1:0,e=[];if(w==0){var G=a.Vt.N8(ef.n0(M,0),256);
for(var R=1;R<4;R++){var j=a.Vt.N8(ef.n0(M,R),256);e.push(a.Vt.apg(j,G))}}else{var o=[];for(var R=0;
R<4;R++){var r=new Float32Array(256);o.push(r);var k=ef.n0(M,R);for(var W=0;W<256;W++)r[W]=k[W]/255}for(var R=1;
R<4;R++)e.push(a.Vt.apg(o[R],o[0]))}P={I:O.fR,xh:e[0],PC:e[1],yI:e[2],Gg:!1,qi:!1}}if(s=="expA"){var a7=M.Exps,Y=M.Ofst,v=M.gammaCorrection,n=a7?a7.v:0,cm=Y?Y.v:0,a5=v?v.v:1,g=new Float32Array(256);
for(var R=0;R<256;R++){var M=R/255,gP=Math.pow(Math.abs(cm),1/(Math.PI/2));if(cm>0){M=Math.max(cm/Math.E,M);
M=M*Math.exp(cm/1.75+n/Math.PI);M=(1-gP)*M+gP*1}else{M=M*Math.exp(-cm*1.75+n/Math.PI);M=M+-gP*1.14}M=Math.pow(M,1/a5);
g[R]=Math.max(0,Math.min(1,M))}P={I:O.fR,xh:g,PC:g,yI:g,Gg:!1,qi:!1}}if(s=="vibA"){var cg=(M.vibrance?M.vibrance.v:0)/100,a9=(M.Strt?M.Strt.v:0)/100,gP=1+cg*(cg>0?.25:.5),ew=.8+.2/gP;
P={I:O.Ww,dh:[cg,a9,ew,gP]}}if(s=="hue2"){var h7=[],bh=[],ba=[],jx=M.Clrz?M.Clrz.v:!1,d=256,l=d-1;for(var R=0;
R<d;R++){h7[R]=R/l;bh[R]=0;ba[R]=0}var c4=aU.n0(M,0),bq=ak.sW(c4[1]/100);if(jx){var di=c4[0]/360;for(var R=0;
R<d;R++){h7[R]=di;bh[R]=bq}}else{for(var R=0;R<d;R++){var il=h7[R],j0=bh[R];h7[R]+=c4[0]/360;for(var W=0;
W<6;W++){var j1=aU.n0(M,W+1),b5=j1.GQ,b4=j1.lc,gP=0;for(var lm=1;lm<4;lm++)if(b4[lm]<b4[0])b4[lm]+=360;
var ix=b4[0],jy=b4[1],bz=b4[2],c5=b4[3],k0=il*360;if(k0<b4[0])k0+=360;var cd=(k0-ix)/(jy-ix),fz=(k0-bz)/(c5-bz);
if(cd<0)gP=0;else if(cd<1)gP=cd;else if(fz<0)gP=1;else if(fz<1)gP=1-fz;else gP=0;var m=ak.sW(b5[1]/100);
h7[R]+=gP*b5[0]/360;bh[R]+=gP*m;ba[R]+=gP*b5[2]/100}}for(var R=0;R<d;R++){bh[R]=(1+bh[R])*(1+bq)-1;ba[R]=Math.max(-1,Math.min(1,ba[R]))}}var g=a.j(d*4*1,32);
for(var R=0;R<d;R++){g[4*R]=h7[R];g[4*R+1]=ak.a4f(bh[R]);g[4*R+2]=ba[R]}var fu=c4[2]/100,c6=fu<0?-fu:fu,k7=fu<0?0:1;
P={I:O.tu,map:g,apK:c6*k7,Nt:1-c6,a4U:c4[2]/100,a45:jx?1:0}}if(s=="nvrt"){var g=new Float32Array(256);
for(var R=0;R<256;R++)g[R]=1-R/255;P={I:O.fR,xh:g,PC:g,yI:g,Gg:!1,qi:!1}}if(s=="post"){var hP=M.Lvls.v,g=new Float32Array(256),gP=hP/255.001,e1=1/(hP-1);
for(var R=0;R<256;R++)g[R]=Math.floor(R*gP)*e1;P={I:O.fR,xh:g,PC:g,yI:g,Gg:!1,qi:!1}}if(s=="grdm"){var fs=M.Grad.v,eh=M.Rvrs,gW=M.gs99,H=1024,hk=a.wv.a8u(fs,H,eh?eh.v:!1,0,0,gW?gW.v.gradientInterpolationMethodType:"Gcls"),jz=new Float32Array(H),ag=new Float32Array(H),eo=new Float32Array(H);
a.YT(hk,jz,0);a.YT(hk,ag,1);a.YT(hk,eo,2);P={I:O.fR,xh:jz,PC:ag,yI:eo,Gg:!0,qi:!1}}if(s=="selc"){var aC=new Float32Array(9*3*2),e8=M.nQ,lb=M.Mthd?M.Mthd.v.CrcM=="Absl":!1;
for(var W=0;W<9;W++){var jn=W*6,k3=kT.n0(M,W),cP=k3[0]/100,cV=k3[1]/100,dS=k3[2]/100,gH=k3[3]/100;if(lb){aC[jn]=aC[jn+1]=aC[jn+2]=1;
aC[jn+3]=cP*(1+gH)+gH;aC[jn+4]=cV*(1+gH)+gH;aC[jn+5]=dS*(1+gH)+gH}else{aC[jn+0]=(1+cP)*(1+gH);aC[jn+1]=(1+cV)*(1+gH);
aC[jn+2]=(1+dS)*(1+gH)}}P={I:O.sz,axv:aC}}if(s=="blwh"){var hd="Rd Yllw Grn Cyn Bl Mgnt".split(" "),P=[],gz=0,dL=0;
for(var R=0;R<6;R++)P.push(M[hd[R]]?M[hd[R]].v:50);P.push(M.useTint.v,M.tintColor.v);var bL=[];for(var R=0;
R<6;R++)bL.push((P[R]-50)/50);var ev=a.wv.sl(P[7]);ev.o/=255;ev.R/=255;ev.X/=255;var eF=a.yR(ev.o,ev.R,ev.X),fn=a.bz(a.kr(eF.fw,1,.5)),iu=eF.BP*eF.rM;
if(fn==.5)gz=dL=.5;else{gz=iu*(.5-fn)/(.5/fn-1);dL=1-iu*(.5-fn)-1/(2*(1-fn));dL/=1-1/(2*(1-fn))}P={I:O.jk,a3z:bL,jg:P[6]?1:0,afC:eF.fw,bz:fn,a4c:iu,J6:gz,az6:dL}}if(s=="blnc"){var V=[],dm=["ShdL","MdtL","HghL"];
for(var R=0;R<3;R++){if(M[dm[R]]==null){V[R]=[0,0,0];continue}var hP=M[dm[R]].v,cM=hP[0].v/100,l5=hP[1].v/100,i3=hP[2].v/100,eg=M.PrsL==null||M.PrsL.v?(Math.min(cM,l5,i3)+Math.max(cM,l5,i3))/2:0;
V[R]=[cM-eg,l5-eg,i3-eg]}var e=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];for(var W=0;
W<3;W++)for(var R=0;R<256;R++){var S=R*(1/255),la=0,t=0,ea=0;t=V[2][W];ea=Math.abs(t);if(t<0)la=Math.pow(S,Math.SQRT2);
else la=1.63*(Math.pow(S+.04,.5)-.2);S=ea*la+(1-ea)*S;t=V[1][W];ea=Math.abs(t);if(t<0)la=Math.pow(S,2);
else la=Math.min(2.35*(Math.pow(S+.09,.5)-.3),Math.pow(S,1/2));S=ea*la+(1-ea)*S;t=V[0][W];ea=Math.abs(t);
if(t<0)la=S<.4?0:Math.pow((S-.4)/.6,Math.SQRT2);else la=Math.pow(S,Math.SQRT2/2);S=ea*la+(1-ea)*S;S=Math.max(0,Math.min(1,S));
e[W][R]=S}P={I:O.fR,xh:e[0],PC:e[1],yI:e[2],Gg:!1,qi:!1}}if(s=="phfl"){var iB=a.wv.sl(M.Clr.v),jG=[iB.o/255,iB.R/255,iB.X/255],j5=M.Dnst.v/100,e=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];
for(var W=0;W<3;W++)for(var R=0;R<256;R++){var S=R*(1/255),hU=S*jG[W];hU=Math.max(0,Math.min(1,hU));
S=j5*hU+(1-j5)*S;e[W][R]=S}P={I:O.fR,xh:e[0],PC:e[1],yI:e[2],Gg:!1,qi:M.PrsL.v}}if(s=="thrs"){var g=new Float32Array(256);
for(var R=M.Lvl.v;R<256;R++)g[R]=1;P={I:O.fR,xh:g,PC:g,yI:g,Gg:!0,qi:!1}}if(s=="mixr"){var kn=ak.yC(M),U=[];
for(var R=0;R<kn.K.length;R++)if(R%5!=3)U.push(kn.K[R]/100);if(kn.PD){for(var k5=1;k5<3;k5++)for(var S=0;
S<4;S++)U[k5*4+S]=U[S]}P={I:O.bQ,pO:U}}if(s=="rplc"){var a0=M.Mnm.v,ab=M.Mxm.v;P={I:O.Wv,w5:[a0.Lmnc.v,a0.A.v,a0.B.v],n8:[ab.Lmnc.v,ab.A.v,ab.B.v],shift:[M.H.v/360,M.Strt.v/100,M.Lght.v/100],cI:M.Fzns.v/150}}if(s=="clrL"&&M.profile){var c$=new Uint8Array(M.profile.v),eB=ICC.R(c$.buffer),ii=[],eY=17,ii=ICC.U.sampleLUT(eB,eY);
P={I:O.lo,OC:ICC.U.lutToRGBA32(ii,eY),a7n:ii,UE:eY}}var m=M?M.showClipping:null;if(m){var kF=[P.xh,P.PC,P.yI],a4=m.v==1?1/255:253/255;
for(var r=0;r<3;r++)for(var R=0;R<kF[r].length;R++)kF[r][R]=kF[r][R]<a4?0:1}return P};ak.sV=function(s,M){var O=-1;
if(s!="levl"||M==null)O=-1;else if(M.Auto)O=0;else if(M.AuCo)O=1;else if(M.autoBlackWhite)O=2;return O};
ak.DO={fR:0,tu:1,Ww:2,sz:3,jk:4,bQ:5,Wv:6,lo:7};ak.sW=function(s){if(s<0)return s;return Math.pow(Math.tan(Math.PI/2*s),1.3)};
ak.a4f=function(s){if(s<0)return s;s=Math.pow(s,1/1.3);return Math.atan2(s,1)/(Math.PI/2)};ak.Vj=function(s,M,O,P){var y=ak.DO,F=Date.now();
if(ci.Qh&&P.C()>300*300&&s.I!=y.fR&&s.I!=y.lo){P=P.v();P.x=P.y=0;var A=ci.w2(0,P.A,P.$,a.$i(M));A.set(M);
ci.b2(A,P);A.rL(P);ak.Wm(s,A.KZ,P);A.get(O);return}var h=M.length,m=a.$i(M),Z=m==8?255:m==16?65535:1,u=1/Z;
for(var R=0;R<h;R+=4)O[R+3]=M[R+3];if(s.I==y.lo){var f=s.a7n,U=s.UE;ICC.U.applyLUT(f,U,M,O);var h=M.length}if(s.I==y.bQ)a.rD.acR(M,O,s.pO);
if(s.I==y.jk){var C=s.a4c,H=s.bz,t=s.J6,X=s.az6,h=M.length;for(var R=0;R<h;R+=4){var P=M[R]*u,Q=M[R+1]*u,D=M[R+2]*u,L=a.GX(P,Q,D),E=0;
for(var _=0;_<6;_++)E+=Math.min(1,1.7*(1-L.$T))*L.BP*s.a3z[_]*ak.aJW(L.fw,_*(1/6));var S=Math.max(0,Math.min(1,L.$T*(1+E)));
if(s.jg==1){var W=0;if(S<t)W=S*(.5/H);else if(S<X)W=S+C*(.5-H);else W=1-(1-S)*.5/(1-H);L.fw=s.afC;L.BP=Math.min(1,C+3*C*Math.abs(S-.5*(t+X)));
L.$T=W}else{L.fw=0;L.BP=0;L.$T=S}var g=a.kr(L.fw,L.BP,L.$T);O[R]=g.o*Z;O[R+1]=g.R*Z;O[R+2]=g.X*Z}}if(s.I==y.sz){var x=s.axv,h=M.length,V=1/255;
for(var R=0;R<h;R+=4){var P=M[R]*V,Q=M[R+1]*V,D=M[R+2]*V,L=a.GX(P,Q,D),b=Math.max(P,Math.max(Q,D)),N=Math.min(P,Math.min(Q,D)),J=1-P,K=1-Q,q=1-D,d=0,l=0,T=0;
for(var _=0;_<9;_++){var B=_*6,e=0;if(x[B]==1&&x[B+1]==1&&x[B+2]==1&&x[B+3]==0&&x[B+4]==0&&x[B+5]==0)continue;
var p=J*x[B]+x[B+3],I=K*x[B+1]+x[B+4],w=q*x[B+2]+x[B+5];if(_<6)e=ak.aJW(L.fw,_*(1/6))*L.BP*2*Math.min(L.$T,1-L.$T);
else if(_==6)e=Math.max(0,N-.5)*2;else if(_==7)e=1-(Math.abs(b-.5)+Math.abs(N-.5));else e=Math.max(0,.5-b)*2;
d+=(Math.max(0,Math.min(1,p))-J)*e;l+=(Math.max(0,Math.min(1,I))-K)*e;T+=(Math.max(0,Math.min(1,w))-q)*e}J=Math.max(0,Math.min(1,J+d));
K=Math.max(0,Math.min(1,K+l));q=Math.max(0,Math.min(1,q+T));P=1-J;Q=1-K;D=1-q;O[R]=Math.round(P*255);
O[R+1]=Math.round(Q*255);O[R+2]=Math.round(D*255)}}if(s.I==y.fR){a.aDZ(M,O,s.xh,s.PC,s.yI,s.Gg,s.qi)}if(s.I==y.tu){if(ak.a7_==null){ak.a7_=new Float64Array(1024);
for(var R=0;R<1024;R++)ak.a7_[R]=ak.sW(-1+2*R/1023)}var G=ak.a7_,j=(s.map.length>>>2)-1,o=s.map;for(var R=0;
R<h;R+=4){var P=M[R]*u,Q=M[R+1]*u,D=M[R+2]*u,r=Math.min(P,Q,D),k=Math.max(P,Q,D),a7=(a.GX(P,Q,D).fw+5e-4)*j,Y=0,v=0,n=a7-Math.floor(a7),cm=Math.floor(a7)*4,a5=Math.min(j*4,cm+4),gP=(1-n)*o[cm]+n*o[a5+0],cg=(1-n)*o[cm+1]+n*o[a5+1],a9=(1-n)*o[cm+2]+n*o[a5+2],E=-a9,ew=r;
if(0<a9){E=a9;ew=k}var h7=s.apK+s.Nt*E*ew,bh=s.Nt*(1-E);P=h7+bh*P;Q=h7+bh*Q;D=h7+bh*D;k=Math.max(P,Q,D);
r=Math.min(P,Q,D);v=(k+r)*.5;if(k!=r){var ba=k-r;Y=v>.5?ba/(2-(k+r)):ba/(k+r)}var jx=cg;if(s.a45==0){cg=G[Math.floor((1+cg)*511.5)];
jx=Math.min(Y*(1+cg),1)}var g=a.kr(gP,jx,v);P=g.o;Q=g.R;D=g.X;O[R]=P*Z;O[R+1]=Q*Z;O[R+2]=D*Z}}if(s.I==y.Wv){a.jO(M,O);
var c4=new Uint32Array(M.buffer),bq=new Uint32Array(O.buffer),h=c4.length,di=s.cI,il=1/di,j0={Yk:s.w5[0],cd:s.w5[1],X:s.w5[2]},j1={Yk:s.n8[0],cd:s.n8[1],X:s.n8[2]};
for(var R=0;R<h;R++){var b5=c4[R],b4=b5&255,lm=b5>>>8&255,ix=b5>>>16&255,P=b4*(1/255),Q=lm*(1/255),D=ix*(1/255),jy=b5>>>24,bz=a.H8(b4,lm,ix),c5=a.aHl(bz,j0,j1,di,il);
if(c5==0)continue;var L=a.GX(P,Q,D),gP=2+L.fw+s.shift[0];L.fw=gP-~~gP;L.BP=Math.max(0,Math.min(1,L.BP+s.shift[1]));
L.$T=Math.max(0,Math.min(1,L.$T+s.shift[2]));var g=a.kr(L.fw,L.BP,L.$T);P=(1-c5)*P+c5*g.o;Q=(1-c5)*Q+c5*g.R;
D=(1-c5)*D+c5*g.X;bq[R]=jy<<24|D*255<<16|Q*255<<8|P*255}}if(s.I==y.Ww){var k0=s.dh[0],cd=s.dh[1],fz=s.dh[2],E=s.dh[3],fu=a.rD.SA([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),c6=a.rD.or(fu),k7=2.4;
function U(gW){return Math.max(0,Math.min(1,gW))}function hP(gW){return Math.pow(gW,k7)}function e1(gW){return Math.pow(gW,1/k7)}function fs(P,Q,D,gW){P=hP(P);
Q=hP(Q);D=hP(D);var hk=a.rD.YO(fu,[P,Q,D,1]);hk[0]*=fz;hk[1]*=E;hk[2]*=E;var g=a.rD.YO(c6,hk);g[0]=e1(U(g[0]));
g[1]=e1(U(g[1]));g[2]=e1(U(g[2]));return g}for(var R=0;R<h;R+=4){var P=M[R]*u,Q=M[R+1]*u,D=M[R+2]*u,g=fs(P,Q,D,k0);
P=g[0];Q=g[1];D=g[2];var eh=a.GX(P,Q,D);eh.BP=Math.max(0,Math.min(1,eh.BP*(1+cd)));g=a.kr(eh.fw,eh.BP,eh.$T);
P=g.o;Q=g.R;D=g.X;O[R]=P*Z;O[R+1]=Q*Z;O[R+2]=D*Z}}};ak.Wm=function(s,M,O){ci.Qy.Wm(s,M)};ak.aJW=function(s,M){var O=a.pG(M,s)*6;
return Math.max(0,Math.min(1,O<0?1+O:1-O))};var bW={};bW.zX=function(s){var M=s.filterID.v;return M>16777215?c.auO(M):s.Fltr.v.classID};
bW.pW=[{Rw:"GEfc"},{Rw:"LnCr"},{Rw:"Adobe Camera Raw Filter"},{Rw:"LqFy"},{Rw:"VaPo",dc:!0},{jb:"3D",ts:["lightFilterGradient","Dila"]},{jb:[24,2],ts:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{jb:[24,3,11],ts:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{jb:[24,4],ts:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{jb:[24,6],ts:["AdNs","Dspc","DstS","Mdn ","denoise"]},{jb:[24,8],ts:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{jb:[24,10],ts:["Flam","Clds","DfrC","Fbrs","LnsF"]},{jb:[24,12],ts:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{jb:[24,14],ts:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{jb:[24,16],ts:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{jb:"Fourier",ts:["dDFT","iDFT"]}];
bW.XJ={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
bW.fs={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
bW.Z={rigidTransform:$.s1,perspectiveWarpTransform:$.AQ,blurbTransform:$.ZM};bW.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],perspectiveWarpTransform:"Perspective Warp",blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
bW.Jb=function(s){var M=null;if(s=="GEfc")M={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:iU.Jb("GlwE")}]}};
if(s=="LqFy"){var O={V5:5,fw:5,map:new Float32Array(5*5*2)},P=new Uint8Array(al.$a(O)),y=[];for(var R=0;
R<P.length;R++)y.push(P[R]);M={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:y}}}if(s=="rigidTransform"){M={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(s=="perspectiveWarpTransform"){M={__name:"Perspective Warp",classID:"perspectiveWarpTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Md:{t:"enum",v:{perspectiveWarpMode:"layout"}},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:-1014}},Left:{t:"UntF",v:{type:"#Pxl",val:0}},Btom:{t:"UntF",v:{type:"#Pxl",val:3098}},Rght:{t:"UntF",v:{type:"#Pxl",val:3320}}}},vertices:{t:"VlLs",v:[]},warpedVertices:{t:"VlLs",v:[]},quads:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(s=="blurbTransform"){M={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(s=="LnCr")M={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(s=="adaptCorrect")M={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(s=="Dfs ")M={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(s=="Fbrs")M={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(s=="Embs")M={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(s=="oilPaint")M={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(s=="TrcC")M={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(s=="Wnd ")M={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(s=="lightFilterGradient")M={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(s=="boxblur")M={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(s=="GsnB")M={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(s=="Bokh")M={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(s=="MtnB")M={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(s=="RdlB")M={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(s=="surfaceBlur")M={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(s=="denoise")M={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(s=="Dspl")M={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(s=="Pnch")M={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(s=="Plr ")M={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(s=="Rple")M={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(s=="Shr ")M={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(s=="Sphr")M={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(s=="Twrl")M={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(s=="Wave")M={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(s=="ZgZg")M={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(s=="AdNs")M={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(s=="DstS")M={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(s=="Mdn ")M={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(s=="ClrH")M={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(s=="Crst")M={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(s=="Mztn")M={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(s=="Msc ")M={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(s=="Pntl")M={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(s=="LnsF")M={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(s=="Dthr")M={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(s=="Part")M={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(s=="Adobe Camera Raw Filter")M={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(s=="smartSharpen")M={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(s=="UnsM")M={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(s=="HghP")M={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(s=="HsbP")M={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(s=="Mxm ")M={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(s=="Mnm ")M={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(s=="Ofst")M={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(s=="Kale")M={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(s=="Rept")M={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(s=="Flam")M={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(s=="Ctoa")M={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(s=="brit")M={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(s=="levl")M={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(s=="curv")M={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(s=="expA")M={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(s=="vibA")M={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(s=="hue2")M={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(s=="blnc")M={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(s=="blwh")M={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(s=="phfl")M={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(s=="grdm")M={__name:"Gradient Map",classID:"GrMp",gs99:{t:"enum",v:{gradientInterpolationMethodType:"Gcls"}},Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Grad:JSON.parse(aV.d$[6]).Grad};
if(s=="selc")M={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(s=="thrs")M={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(s=="mixr")M={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(s=="clrL")M={__name:"Color Lookup",classID:"colorLookup"};if(s=="post")M={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(s=="rplc")M={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(s=="fade")M={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(s=="aply")M={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(s=="matc"){M={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},"neutralizeColor    ":{t:"bool",v:!1},selectedSourceAreas:{t:"bool",v:!0},SlcA:{t:"bool",v:!0},noReference:{t:"bool",v:!0}}}if(s=="Dila")M={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(s=="blendOptions")M={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return M};bW.Pj={sFlam:function(s,M){M[0]=s.Type.v;M[1]=s.Leng.v;M[2]=s.RndL.v;M[3]=s.Widt.v;M[4]=s.Angl.v;
M[5]=s.Intr.v;M[6]=s.Adpt.v;M[7]=s.Clr.v;M[8]=s.Qual.v;M[9]=s.Turb.v;M[10]=s.Jag.v;M[11]=s.Opct.v.val;
M[12]=s.Lins.v;M[13]=s.Botm.v;M[14]=s.Styl.v;M[15]=s.Shap.v;M[16]=s.RnSh.v;M[17]=s.Arng.v},gFlam:function(s,M){s.Type.v=M[0];
s.Leng.v=M[1];s.RndL.v=M[2];s.Widt.v=M[3];s.Angl.v=M[4];s.Intr.v=M[5];s.Adpt.v=M[6];s.Clr.v=M[7];s.Qual.v=M[8];
s.Turb.v=M[9];s.Jag.v=M[10];s.Opct.v.val=M[11];s.Lins.v=M[12];s.Botm.v=M[13];s.Styl.v=M[14];s.Shap.v=M[15];
s.RnSh.v=M[16];s.Arng.v=M[17]},sAdNs:function(s,M){M[0]=s.Nose.v.val;M[1]=["Gsn","Unfr"].indexOf(s.Dstr.v.Dstr);
M[2]=s.Mnch.v},gAdNs:function(s,M){s.Nose.v.val=M[0];s.Dstr.v.Dstr=["Gsn","Unfr"][M[1]];s.Mnch.v=M[2]},sDstS:function(s,M){M[0]=s.Rds.v;
M[1]=s.Thsh.v},gDstS:function(s,M){s.Rds.v=M[0];s.Thsh.v=M[1]},sGsnB:function(s,M){M[0]=s.Rds.v.val},gGsnB:function(s,M){s.Rds.v.val=M[0]},sDila:function(s,M){M[0]=s.Crop.v.val;
M[1]=s.Rds.v.val},gDila:function(s,M){s.Crop.v.val=M[0];s.Rds.v.val=M[1]},sHghP:function(s,M){M[0]=s.Rds.v.val},gHghP:function(s,M){s.Rds.v.val=M[0]},sHsbP:function(s,M){var O=["RGBC","HSBl","HSLC"];
M[0]=O.indexOf(s.Inpt.v.ClrS);M[1]=O.indexOf(s.Otpt.v.ClrS)},gHsbP:function(s,M){var O=["RGBC","HSBl","HSLC"];
s.Inpt.v.ClrS=O[M[0]];s.Otpt.v.ClrS=O[M[1]]},"sMxm ":function(s,M){var O="preserveShape";M[0]=s.Rds.v.val;
M[1]=s[O]?["squareness","Rndn"].indexOf(s[O].v[O]):0},"gMxm ":function(s,M){var O="preserveShape";s.Rds.v.val=M[0];
s[O]={t:"enum",v:{preserveShape:["squareness","Rndn"][M[1]]}}},"sMnm ":function(s,M){var O="preserveShape";
M[0]=s.Rds.v.val;M[1]=s[O]?["squareness","Rndn"].indexOf(s[O].v[O]):0},"gMnm ":function(s,M){var O="preserveShape";
s.Rds.v.val=M[0];s[O]={t:"enum",v:{preserveShape:["squareness","Rndn"][M[1]]}}},sMtnB:function(s,M){M[0]=[s.Angl.v];
M[1]=s.Dstn.v.val;console.log(M)},gMtnB:function(s,M){s.Angl.v=typeof M[0]=="number"?M[0]:M[0][0];s.Dstn.v.val=M[1]},sOfst:function(s,M){M[0]=s.Hrzn.v;
M[1]=s.Vrtc.v;M[2]=["Rpt","Bckg","Wrp"].indexOf(s.Fl.v.FlMd)},gOfst:function(s,M){s.Hrzn.v=M[0];s.Vrtc.v=M[1];
s.Fl.v.FlMd=["Rpt","Bckg","Wrp"][M[2]]},sPnch:function(s,M){M[0]=s.Amnt.v},gPnch:function(s,M){s.Amnt.v=M[0]},"sPlr ":function(s,M){M[0]=["RctP","PlrR"].indexOf(s.Cnvr.v.Cnvr)},"gPlr ":function(s,M){s.Cnvr.v.Cnvr=["RctP","PlrR"][M[0]]},sRple:function(s,M){M[0]=s.Amnt.v;
M[1]=["Sml","Mdm","Lrg"].indexOf(s.RplS.v.RplS)},gRple:function(s,M){s.Amnt.v=M[0];s.RplS.v.RplS=["Sml","Mdm","Lrg"][M[1]]},sTwrl:function(s,M){M[0]=s.Angl.v},gTwrl:function(s,M){s.Angl.v=M[0]},sZgZg:function(s,M){M[0]=s.Amnt.v;
M[1]=s.NmbR.v;M[2]=["ArnC","OtFr","PndR"].indexOf(s.ZZTy.v.ZZTy)},gZgZg:function(s,M){s.Amnt.v=M[0];
s.NmbR.v=M[1];s.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][M[2]]},sUnsM:function(s,M){M[0]=s.Amnt.v.val;M[1]=s.Rds.v.val;
M[2]=s.Thsh.v},gUnsM:function(s,M){s.Amnt.v.val=M[0];s.Rds.v.val=M[1];s.Thsh.v=M[2]},sWave:function(s,M){M[0]=s.NmbG.v;
M[1]=s.WLMn.v;M[2]=s.WLMx.v;M[3]=s.AmMn.v;M[4]=s.AmMx.v;M[5]=s.SclH.v;M[6]=s.SclV.v;M[7]=["WvSn","WvTr","WvSq"].indexOf(s.Wvtp.v.Wvtp);
M[8]=["WrpA","RptE"].indexOf(s.UndA.v.UndA);M[9]=s.RndS.v},gWave:function(s,M){s.NmbG.v=M[0];s.WLMn.v=M[1];
s.WLMx.v=M[2];s.AmMn.v=M[3];s.AmMx.v=M[4];s.SclH.v=M[5];s.SclV.v=M[6];s.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][M[7]];
s.UndA.v.UndA=["WrpA","RptE"][M[8]];if(M[9]!=null){var O=parseInt(M[9]);if(isNaN(O))O=248325464;O=Math.max(0,Math.min(268435455,O));
s.RndS.v=O}},sDspl:function(s,M){M[0]=s.HrzS.v;M[1]=s.VrtS.v;M[2]=0;M[3]=["WrpA","RptE"].indexOf(s.UndA.v.UndA)},gDspl:function(s,M){s.HrzS.v=M[0];
s.VrtS.v=M[1];s.UndA.v.UndA=["WrpA","RptE"][M[3]];s.DspF.v.pth=M[4]},sbrit:function(s,M){M[0]=s.Brgh?s.Brgh.v:0;
M[1]=s.Cntr?s.Cntr.v:0;M[2]=s.useLegacy?s.useLegacy.v:!1},gbrit:function(s,M){s.Brgh.v=M[0];s.Cntr.v=M[1];
if(M[2]!=null)s.useLegacy.v=M[2]}};bW.aIf=function(s){var M=new j6(0,0);if(s.enab.v==!1)return M;var O=s.filterFXList.v;
for(var R=0;R<O.length;R++){var P=O[R].v;if(P.enab.v==!1)continue;var y=bW.zX(P),F=bW.mH(y,P.Fltr?P.Fltr.v:null);
if(F.x>M.x)M.x=F.x;if(F.y>M.y)M.y=F.y}return M};bW.mH=function(s,M){var O=0,P=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(s)!=-1){var y=M.Rds?M.Rds.v.val:1;
O=P=y*2.57}if(s=="MtnB")O=P=M.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,perspectiveWarpTransform,Frgm,Flam".split(",").indexOf(s)!=-1){O=P=1e4}if(s=="GEfc")return iU.mH(M);
return new j6(Math.ceil(O),Math.ceil(P))};bW.Yu=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
bW.Nl=function(s,M){var O={o:M.UC>>16,R:M.UC>>8&255,X:M.UC&255},P={o:M.Cc>>16,R:M.Cc>>8&255,X:M.Cc&255},y=bW.names[s];
if(y==null)y=ak.names[s];var F=s;for(var A in ak.gf)if(ak.gf[A]==s)F=A;var h={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:aW.get(y)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:a.wv.gN(O)},BckC:{t:"Objc",v:a.wv.gN(P)},filterID:{t:"long",v:F.length==4?c.aKG(F):777}}},m=bW.Jb(s);
if(m)h.v.Fltr={t:"Objc",v:m};return h};bW.HL=function(s,M,O,P){var y=Date.now(),F=ci.Qh&&Math.max(P.A,P.$)<=ci.KM.getParameter(ci.KM.MAX_TEXTURE_SIZE),A=a.$i(O);
if(s<1){var h=Math.round(s*5),m=[1,2,1,2,[40,26,13,6,4,2][h],2,1,2,1];m=a.nG.RN(m);if(!F){a.Zs(O);var Z=O.slice(0);
a.nG.rI(Z,O,P.A,P.$,m,!0);a.d7(O)}else{var u=P.A,f=P.$,U=ci.w2(0,u,f,A);U.set(O);var C=ci.w2(1,u,f,A),H=new Float32Array([1/u,1/f]);
ci.b2(C);ci.filter.Wm({I:ci.filter.aCD,Hd:H,aDd:new Float32Array(m)},U.U9);C.get(O)}}else{var t=[];while(M!=2&&s*[1,2.4][M]>20&&t.length<4){var X=a.FJ(O,P);
t.push(O,P);O=X.tG;P=X.S;s/=2}var u=P.A,f=P.$;if(!F||M==2&&s>15){a.Zs(O);if(M==0)a.er.aw_(O,P,s);if(M==1)a.er.aB_(O,P,s);
if(M==2)a.er.adW(O,P,s);a.d7(O)}else{var U=ci.w2(0,u,f,A);U.set(O);var C=ci.w2(1,u,f,A),H=new Float32Array([1/u,1/f]);
if(M==0){var Q=1;while(Q<s)Q<<=1;ci.b2(C);ci.filter.Wm({I:ci.filter.Jh,Hd:H,jK:s,uP:[0,0,Q]},U.U9);ci.b2(U);
ci.filter.Wm({I:ci.filter.Jh,Hd:H,jK:s,uP:[0,1,Q]},C.U9);U.get(O)}else if(M==1){var D=3,L=a.er.a7d(s,D);
for(var R=0;R<D;R++){var E=L[R]>>>1,_=1;while(_<E)_<<=1;if(E==0)continue;ci.b2(C);ci.filter.Wm({I:ci.filter.Jh,Hd:H,jK:E,uP:[0,0,_]},U.U9);
ci.b2(U);ci.filter.Wm({I:ci.filter.Jh,Hd:H,jK:E,uP:[0,1,_]},C.U9)}U.get(O)}else{var Q=1;while(Q<s)Q<<=1;
ci.b2(C);ci.filter.Wm({I:ci.filter.Jh,Hd:H,jK:s,uP:[0,0,Q]},U.U9);C.get(O)}}var S=Date.now();while(t.length!=0){var W=t.pop(),g=t.pop();
a.scale.a7i(O,P.A,P.$,g,W.A,W.$);O=g;P=W}}};bW.ajw=function(s,M,O,P){for(var R=0;R<s.length;R++){O[R]=s[R]*(1/255);
P[R]=0}FFT.fft2d(O,P);var y=M>>>1,F=16384,A=128,m=100;while(A<M){A<<=1;F<<=2}var h=255/Math.log(F),Z=-100;
for(var u=0;u<M;u++)for(var f=0;f<y;f++){var U=M+y+u&M-1,C=O[U*M+f],H=P[U*M+f],t=Math.sqrt(C*C+H*H),X=Math.atan2(H,C);
s[u*M+f]=Math.round(h*Math.log(t+1));s[u*M+y+f]=Math.round((Math.PI+X)*(255*.5/Math.PI))}};bW.asa=function(s,M,O,P){O.fill(0);
P.fill(0);var y=M>>>1,F=16384,A=128;while(A<M){A<<=1;F<<=2}var h=255/Math.log(F),m=[],Z=[],u=[];for(var R=0;
R<256;R++){m[R]=Math.exp(R/h)-1;var f=R*(2*Math.PI/255)-Math.PI;Z[R]=Math.sin(f);u[R]=Math.cos(f)}for(var U=0;
U<M;U++)for(var C=0;C<y;C++){var H=M+y+U&M-1,t=m[s[U*M+C]],f=s[U*M+y+C],X=t*u[f],Q=t*Z[f];O[H*M+C]=X;
P[H*M+C]=Q;if(C!=0){var D=H==0?H*M+M-C:(M-H)*M+(M-C);O[D]=X;P[D]=-Q}}FFT.ifft2d(O,P);for(var R=0;R<s.length;
R++){s[R]=Math.max(0,Math.min(255,~~(.5+255*O[R])))}};bW.a5e=new ArrayBuffer(512);bW.a6t=function(s){var M=bW.a5e,O=s.length;
if(M.byteLength<O)bW.a5e=M=new ArrayBuffer(O);var P=new Uint8Array(M);for(var R=0;R<O;R+=4){P[R]=s[R];
P[R+1]=s[R+1];P[R+2]=s[R+2];P[R+3]=s[R+3]}return M};bW.Vj=function(s,M,O,P,y,F,A){var h,m,Z=a.$i(M.buffer);
if(F==null)F={buffer:a.j(M.buffer.length,Z),S:M.S.v()};F.buffer.set(M.buffer);var u="Blr ,BlrM,Shrp,ShrM,GsnB,boxblur,smartSharpen,UnsM,HghP".split(","),f=Z!=8&&u.indexOf(s)==-1;
if(f){h=M.buffer;m=F.buffer;M.buffer=a.Gp(h,8);F.buffer=a.Gp(m,8)}F=bW.afd(s,M,O,P,y,F,A);if(f){M.buffer=h;
a.Gp(F.buffer,Z,m);F.buffer=m}return F};bW.afd=function(s,M,O,P,y,F,A){var h=O&&O.RndS?O.RndS.v>>>1:0,m=a.$i(M.buffer),Z=a.Cs(m);
if(s=="GEfc"){var u=[];if(O.GEfs){var f=O.GEfs.v;for(var R=0;R<f.length;R++){var U=f[R].v;if(U.GELv&&U.GELv.v==!1)continue;
u.push(U)}}else u=[O];for(var R=0;R<u.length;R++){var C;if(R==0)iU.Vj(s,M,u[R],P,y,F,A);else{if(C==null)C={buffer:a.j(M.buffer.length),S:M.S.v()};
a.jO(F.buffer,C.buffer);iU.Vj(s,C,u[R],P,y,F,A)}}}if(s=="Dila"){var H=O.Crop.v.val,t=O.Rds.v.val+H;t=t*t;
if(t==0)return;var X=M.S,Q=X.A,D=X.$,L=Q*D,E=M.buffer,C=F.buffer,S=a.j(L);a.YT(E,S,3);if(H!=0){var W=X.v();
W.rX(1,1);var g=a.j(W.C());a.TT(S,X,g,W);a.or(g);a.style.stroke(g,g,W,H);a.or(g);a.TT(g,W,S,X)}var x=a.style.wr(S,Q,D);
C.fill(0);for(var V=0;V<D;V++)for(var b=0;b<Q;b++){var R=V*Q+b,N=R<<1,J=R<<2,K=x[N],q=x[N+1];if(K*K+q*q<t){var d=(V+q)*Q+(b+K)<<2;
C[J]=E[d];C[J+1]=E[d+1];C[J+2]=E[d+2];C[J+3]=255}}}if(s=="Adobe Camera Raw Filter"){var X=M.S,Q=X.A,D=X.$,l=a.Gp(M.buffer,32),T=a.G(O);
delete T.Upri;delete T.GuUr;d7(l,Q,D,l,T);a.Gp(l,8,F.buffer)}if(s=="Fct "){var X=M.S,Q=X.A,D=X.$,L=Q*D,B=L*4;
function p(bg){var ix=bg.slice(0);for(var V=0;V<3;V++)for(var b=0;b<3;b++)ix[V*3+b]=bg[(2-b)*3+V];return ix}function I(jO,gj,kl,av){var eR=0;
for(var V=0;V<3;V++)for(var b=0;b<3;b++)eR+=gj[V*3+b]*jO[(av-1+V)*Q+kl-1+b];return eR}var w=[8,5,2,5,2,-1,2,-1,-4],e=[5,5,5,2,2,2,-1,-1,-1],G=[2,2,2,2,2,2,2,2,2],j=[];
j.push(w);for(var R=0;R<3;R++)j.push(p(j[j.length-1]));j.push(e);for(var R=0;R<3;R++)j.push(p(j[j.length-1]));
j.push(G);for(var R=0;R<9;R++)j[R]=a.nG.RN(j[R]);var o=[-Q-1,-Q,-Q+1,-1,0,1,Q-1,Q,Q+1],r=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],k=a.j(L),a7=new Float32Array(L),Y=a.j(L);
for(var v=0;v<3;v++){a.YT(M.buffer,k,v);for(var n=0;n<1;n++){for(var V=1;V<D-1;V++)for(var b=1;b<Q-1;
b++){var cm=V*Q+b,a5=k[cm];a7[cm]=1e9;for(var R=0;R<9;R++){var gP=I(k,j[R],b,V),cg=(gP-a5)*(gP-a5);if(cg<a7[cm])a7[cm]=cg}}for(var V=1;
V<D-1;V++)for(var b=1;b<Q-1;b++){var a9=0,ew=1e9;for(var R=0;R<9;R++){var h7=V*Q+b+o[R],cg=a7[h7];if(cg<ew){ew=cg;
a9=k[h7]}}Y[V*Q+b]=a9}k.set(Y)}a.GS(Y,F.buffer,v)}}if(s=="adaptCorrect"){var X=M.S,Q=X.A,D=X.$,L=Q*D,B=L*4,bh=O.sdwM.v,ba=bh.Amnt.v.val/100,jx=bh.Wdth.v.val/100,c4=bh.Rds.v,bq=O.hglM.v,di=bq.Amnt.v.val/100,il=bq.Wdth.v.val/100,j0=bq.Rds.v;
a.a2R.YY(M.buffer,F.buffer,Q,D,ba,jx,c4,di,il,j0,O.ClrC.v/100,O.Cntr.v/100)}if(s=="denoise"){var X=M.S,Q=X.A,D=X.$,j1=O.channelDenoise.v[0].v;
a.avk.a04(M.buffer,Q,D,F.buffer,j1.Amnt.v/10,j1.EdgF.v/100)}if(s=="HsbP"){var b5=O.Inpt.v.ClrS,b4=O.Otpt.v.ClrS,X=M.S,Q=X.A,D=X.$,L=Q*D;
for(var R=0;R<L;R++){var J=R*4,n=M.buffer[J]*(1/255),lm=M.buffer[J+1]*(1/255),ix=M.buffer[J+2]*(1/255);
if(b5=="RGBC"){}else if(b5=="HSLC"){var Y=a.kr(n,lm,ix);n=Y.o;lm=Y.R;ix=Y.X}else if(b5=="HSBl"){var Y=a.a98(n,lm,ix);
n=Y.o;lm=Y.R;ix=Y.X}var jy=n,bz=lm,c5=ix;if(b4=="RGBC"){}else if(b4=="HSLC"){var Y=a.GX(n,lm,ix);jy=Y.fw;
bz=Y.BP;c5=Y.$T}else if(b4=="HSBl"){var Y=a.ajv(n,lm,ix);jy=Y.fw;bz=Y.BP;c5=Y.X}F.buffer[J]=~~(255*jy);
F.buffer[J+1]=~~(255*bz);F.buffer[J+2]=~~(255*c5)}}if(s=="Fbrs"){var X=M.S,Q=X.A,D=X.$;a.O.aAM(M.buffer,Q,D,F.buffer,[O.Vrnc.v,O.Strg.v,h]);
var k0=a.j(Q*D);a.YT(F.buffer,k0,0);a.or(k0);iU.rt(k0,F.buffer,P,y)}if(s=="Frgm"){var X=M.S,Q=X.A,D=X.$,cd=M.buffer.slice(0);
a.Zs(cd);a.O.a5E(cd,Q,D,F.buffer);a.d7(F.buffer)}if(s=="Flam"){var X=M.S,Q=X.A,D=X.$,fz=O.Clr.v,fu={I:O.Type.v+1,length:O.Leng.v,ajp:O.RndL.v,DR:O.Widt.v,aGE:O.Angl.v,aqw:O.Intr.v,a6F:O.Adpt.v,color:{o:fz.Rd.v,R:fz.Grn.v,X:fz.Bl.v},Or:O.Qual.v+1,HN:O.Turb.v,rZ:O.Jag.v,N_:O.Opct.v.val,J2:O.Lins.v,a7j:O.Botm.v,style:O.Styl.v+1,shape:O.Shap.v+1,asL:O.RnSh.v,alT:O.Arng.v,afY:!1};
if(A[3]==null)return;var c6=A[3],k7=c6[0],hP=c6[1],e1=k7[hP.length!=0?hP[0]:0];if(e1==null){alert("Make a path first");
return}var fs=e1.add.vmsk.u,eh=a.z._i(fs),gW=[];for(var d=0;d<eh;d++){var hk=a.z.AS(fs,d),jz=fs[hk];
if(jz.length<2)continue;var lh=[];gW.push(lh);var ag=jz.length-(jz.I==3?1:0);for(var cm=0;cm<ag;cm++){var eo=fs[hk+1+cm],aC=cm==jz.length-1?fs[hk+1]:fs[hk+1+cm+1],e8=eo.nr,lb=eo.XO,w=aC.Rb,jn=aC.nr,k3=Math.round(j6.gp(e8,jn)/5);
for(var cP=0;cP<k3;cP++){var cV=cP/k3,l2=1-cV,b=l2*l2*l2*e8.x+3*l2*l2*cV*lb.x+3*l2*cV*cV*w.x+cV*cV*cV*jn.x,V=l2*l2*l2*e8.y+3*l2*l2*cV*lb.y+3*l2*cV*cV*w.y+cV*cV*cV*jn.y;
lh.push(b,V)}}}var dS=[gW,fu],gH=Date.now(),hd=kW(dS);f2(M.buffer,Q,D,F.buffer,hd,dS)}if(s=="Dfs "){var X=M.S,Q=X.A,D=X.$,bL=["Nrml","DrkO","LghO","anisotropic"].indexOf(O.Md.v.DfsM);
if(bL<3)a.O.a4d(M.buffer,Q,D,F.buffer,[bL]);else{var dS=[1.4,1.6,1,4,!1,2,[0,0,.001]],X=M.S.v();X.x=X.y=0;
a.sb.filter(M.buffer,X,F.buffer,dS)}}if(s=="TrcC"){var X=M.S,Q=X.A,au=Q<<2,D=X.$,ev=O.Lvl.v,eF=O.Edg.v.CntE=="Lwr",fn=M.buffer,iu=F.buffer;
a.bJ(iu,1,1,1);function gz(eK,cl){dm(eK,cl);dm(eK+1,cl+1);dm(eK+2,cl+2)}function dL(eK,cl){cM(eK,cl);
cM(eK+1,cl+1);cM(eK+2,cl+2)}function dm(eK,cl){var jy=fn[eK],bz=fn[cl];if(jy>=ev&&bz<ev)iu[eK]=0;if(jy<ev&&bz>=ev)iu[cl]=0}function cM(eK,cl){var jy=fn[eK],bz=fn[cl];
if(jy>ev&&bz<=ev)iu[cl]=0;if(jy<=ev&&bz>ev)iu[eK]=0}if(eF)for(var V=1;V<D;V++)for(var b=1;b<Q;b++){var J=V*Q+b<<2;
gz(J,J-4);gz(J,J-au)}else for(var V=1;V<D;V++)for(var b=1;b<Q;b++){var J=V*Q+b<<2;dL(J,J-4);dL(J,J-au)}}if(s=="Embs"){var X=M.S,Q=X.A,D=X.$,l5=-O.Angl.v*Math.PI/180,i3=O.Hght.v,eg=O.Amnt.v/100;
i3/=2;var K=Math.cos(l5)*i3,q=Math.sin(l5)*i3,fn=M.buffer,iu=F.buffer;iu.fill(0);var la=new Uint32Array(fn.buffer),Y=new Uint8Array(4),ea=new Uint32Array(Y.buffer);
for(var V=0;V<D;V++)for(var b=0;b<Q;b++){var iB=0,jG=0,j5=0;if(0<=b+K&&b+K<Q&&0<=V+q&&V+q<D){a.F.RF(b+K+.5,V+q+.5,la,Q,D,ea,0,0);
iB+=Y[0]-128;jG+=Y[1]-128;j5+=Y[2]-128}if(0<=b-K&&b-K<Q&&0<=V-q&&V-q<D){a.F.RF(b-K+.5,V-q+.5,la,Q,D,ea,0,0);
iB-=Y[0]-128;jG-=Y[1]-128;j5-=Y[2]-128}var J=V*Q+b<<2;iu[J]=Math.max(0,Math.min(255,iB*eg+128));iu[J+1]=Math.max(0,Math.min(255,jG*eg+128));
iu[J+2]=Math.max(0,Math.min(255,j5*eg+128));iu[J+3]=fn[J+3]}}if(s=="ShrE"){var X=M.S,Q=X.A,D=X.$;a.O.aas(M.buffer,Q,D,F.buffer)}if(s=="Dspc"){var X=M.S,Q=X.A,D=X.$;
a.O.a5j(M.buffer,Q,D,F.buffer)}if(s=="Slrz"){var hU=F.buffer,kn=128;for(var R=0;R<hU.length;R+=4){if(hU[R]>kn)hU[R]=255-hU[R];
if(hU[R+1]>kn)hU[R+1]=255-hU[R+1];if(hU[R+2]>kn)hU[R+2]=255-hU[R+2]}}if(s=="Wnd "){var X=M.S,Q=X.A,D=X.$,k5=["Wnd","Blst","Stgr"],a0=O.WndM.v.WndM;
a.O.Rj(M.buffer,Q,D,F.buffer,[k5.indexOf(a0),O.Drct.v.Drct!="Left"])}if(s=="Bokh"){var X=M.S,Q=X.A,D=X.$,L=Q*D,B=L*4,ab=M.buffer.slice(0),c$=O.BkDi.v.BtDi,eB=O.BkDc,ii=O.BkDs.v,eY=O.BkDp.v/255;
if(c$=="BeIn")eY=0;var kF=57*(.3+.7*((Q+D)/2)/1750)*(O.BkIb.v/100)*(1+.2*Math.pow(eY,.1)),hS=parseInt(O.BkIs.v.BtIs.slice(3)),a4=-O.BkIr.v*Math.PI/180,hW=[];
for(var R=0;R<8;R++){var i9=a4+R*(Math.PI*2/hS),be=a4+(R+1)*(Math.PI*2/hS),jQ=Math.cos(i9),iA=Math.sin(i9),g0=Math.cos(be),h$=Math.sin(be),bs=[0,0,0];
a.pO.hB([[jQ,iA,1,0],[g0,h$,1,0],[1,1,1,1]],bs);if(bs[2]>0){bs[0]*=-1;bs[1]*=-1;bs[2]*=-1}hW.push(bs[0],bs[1],bs[2],0)}if(c$=="BeIn"){a.$j(ab,0);
eY=1}else if(c$=="BeIt"&&eB.v.BtDc=="BeCt"){}else{var jf;if(c$=="BeIt"&&eB.v.BtDc=="BeCm")jf=A[1];else if(c$=="BeIa")jf=A[2][eB.v];
if(jf==null){a.$j(ab,0)}else{var k;if(jf.S.s0(X))k=jf.N;else k=jf.mw(X);a.GS(k,ab,3)}}if(ii)for(var R=0;
R<B;R+=4)ab[R+3]=255-ab[R+3];if(ci.Qh){var aO=ab,le=Q,lj=D,gM=1,gt=(O.BkSb.v==0||O.BkSt.v==255)&&c$=="BeIn";
if(!gt){var jr=0;for(var R=0;R<B;R+=4)jr+=Math.abs(eY-ab[R+3]*(1/255));jr=jr/L*kF;var iQ=3.14*jr*jr*Q*D/3e6;
if(iQ>2e3){alert("too large radius");return}}while(gt&&3*(kF/gM)*(kF/gM)*Q*D>500*2e3*2e3){var fd=a.ael(ab,new gi(0,0,le,lj));
ab=fd.tG;le=fd.S.A;lj=fd.S.$;gM*=2}var gH=Date.now(),E=ci.w2(0,le,lj);E.set(ab);var bu=ci.w2(1,Q,D);
ci.b2(bu);ci.filter.Wm({I:ci.filter.aA$,Hd:new Float32Array([1/le,1/lj]),aGf:eY,cb:kF/gM,a4h:new Float32Array([O.BkSb.v/100,O.BkSt.v/255]),a5t:new Float32Array([O.BkNa.v/100,O.BkNt.v.BtNt=="BeNu"?0:1,O.BkNm.v?1:0]),aEV:new Float32Array(hW.slice(0,16)),aHJ:new Float32Array(hW.slice(16))},E.U9);
bu.get(F.buffer);var hK=F.buffer;for(var R=0;R<B;R+=4)hK[R+3]=M.buffer[R+3]}}if(s=="blurbTransform"){a.dx.apply(O,M,F)}if(s=="rigidTransform"){var gH=Date.now(),dt=bW.a6t,E=M.buffer.slice(0),bA=0,c8=0;
a.Zs(E);var Q=M.S.A,D=M.S.$,j4=O.puppetShapeList.v,jp=[],j7=[],iI=[],ah=[];for(var cm=0;cm<j4.length;
cm++){var ln=j4[cm].v,N=bA*2,f8=c8*3,j2=ln.originalVertexArray.v.length>>>2,d1=ln.indexArray.v.length>>>2,cI=new Float32Array(dt(ln.originalVertexArray.v));
for(var R=0;R<j2;R++)jp[N+R]=cI[R];var fT=new Float32Array(dt(ln.deformedVertexArray.v));for(var R=0;
R<j2;R++)j7[N+R]=fT[R];var fk=new Uint32Array(dt(ln.indexArray.v));for(var R=0;R<d1;R++)iI[f8+R]=bA+fk[R];
var c9=[],gC=[],bE=ln.PnDp.v;for(var R=0;R<bE.length;R++){c9.push(ln.pinVertexIndices.v[R].v);gC.push(bE[R].v)}var a6=a.JJ.axj(cI,fk,c9,gC);
for(var R=0;R<a6.length;R++)ah[bA+R]=a6[R];bA+=j2>>>1;c8+=~~(d1/3)}var kr=new kp(1,0,0,1,-M.S.x,-M.S.y);
a.b.M(jp,kr,jp);a.b.M(j7,kr,j7);F.buffer.fill(0);a.JJ.hW(E,Q,D,F.buffer,Q,D,jp,j7,ah,iI);a.d7(F.buffer)}if(s=="perspectiveWarpTransform"){var gv=a.v9.Jq(O);
if(gv.Eq==0){F.buffer.set(M.buffer);return}var hl=gv.jn,k9=gv.fz,ac=gv.iR,iB=M.S,cN=F.S;F.buffer.fill(0);
var g$=new kp;g$.translate(-cN.x,-cN.y);function gD(gj,fv,R,n){var eK=fv[R]*2,cl=fv[R+1]*2,bO=fv[R+2]*2,iD=fv[R+3]*2;
return a.F.da([gj[eK],gj[eK+1],gj[cl],gj[cl+1],gj[bO],gj[bO+1],gj[iD],gj[iD+1]],n)}if(hl.length==4){var ds=gD(k9,hl,0),iz=gD(ac,hl,0),jO=a.F.u2(iz,a.F.or(ds)),bB=$.TR.nZ([M.buffer,iB],1,jO,null,null,F.S,!1);
if(bB)a.FP(bB.buffer,bB.S,F.buffer,F.S)}else{var fl=[],kc=[],h4=[];for(var R=0;R<hl.length;R+=4){var ds=gD(k9,hl,R),iz=gD(ac,hl,R),d2=[],l8=24,dk=1/(l8-1),hy=kc.length>>>1;
for(var V=0;V<l8;V++)for(var b=0;b<l8;b++){d2.push(b*dk,V*dk);if(b<l8-1&&V<l8-1)fl.push(hy+V*l8+b,hy+V*l8+b+1,hy+(V+1)*l8+b+1,hy+V*l8+b,hy+(V+1)*l8+b+1,hy+(V+1)*l8+b)}var e8=d2.slice(0);
a.F.M(ds,e8);kc=kc.concat(e8);var lb=d2.slice(0);a.F.M(iz,lb);h4=h4.concat(lb)}a.b.M(kc,g$,kc);a.b.M(h4,g$,h4);
var gH=Date.now();a.JJ.hW(M.buffer,iB.A,iB.$,F.buffer,cN.A,cN.$,kc,h4,null,fl)}}if(s=="lightFilterGradient"){function kh(e8){var hy=1/Math.sqrt(e8[0]*e8[0]+e8[1]*e8[1]+e8[2]*e8[2]);
e8[0]*=hy;e8[1]*=hy;e8[2]*=hy}var Q=M.S.A,D=M.S.$,L=Q*D,gH=Date.now(),i6=a.j(L),bz=.3,c5=.7;a.K1(F.buffer,i6);
var eH=i6.slice(0);a.er.SO(eH,F.S,16);var f4=i6.slice(0);a.er.SO(f4,F.S,8);var je=i6,aY=new Float32Array(L),ct=O.Dtl.v,aN=ct[2].v,ky=ct[1].v,dJ=ct[0].v,eR=O.Scl.v*40*O.textureScale.v/(aN+ky+dJ);
aN*=eR;ky*=eR;dJ*=eR;for(var R=0;R<L;R++){var fZ=eH[R]*(1/255),cL=f4[R]*(1/255),hI=je[R]*(1/255);hI=hI*hI;
aY[R]=aN*fZ+ky*cL+dJ*hI}var g1=O.blur.v;if(g1!=0){a.er.SO(aY,F.S,g1)}var bT=Q-1,cB=D-1;for(var V=0;V<D;
V++)for(var b=0;b<Q;b++){var R=V*Q+b,J=R*4,lc=aY[R],K=bz*(aY[R+(b==bT?0:1)]-lc)+c5*(lc-aY[R-(b==0?0:1)]),q=bz*(aY[R+(V==cB?0:Q)]-lc)+c5*(lc-aY[R-(V==0?0:Q)]),e8=[1,0,K],lb=[0,1,q];
kh(e8);kh(lb);var be=e8[0],g3=e8[2],g7=lb[1],eN=lb[2],gq=-g3*g7,k1=-be*eN,kx=be*g7;F.buffer[J]=~~(127.5+gq*127.5);
F.buffer[J+1]=~~(127.5+k1*127.5);F.buffer[J+2]=~~(127.5+kx*127.5)}}if(s=="defr"){var Q=M.S.A,D=M.S.$;
gm(M.buffer,Q,D,F.buffer)}if(s=="dDFT"||s=="iDFT"){function d$(hS){if(hS==0)return 1;hS--;hS|=hS>>1;
hS|=hS>>2;hS|=hS>>4;hS|=hS>>8;hS|=hS>>16;return hS+1}var Q=M.S.A,D=M.S.$,br=d$(Math.max(Q,D)),bt=br>>>1,iX=new gi(0,0,br,br),fw=new gi(0,0,Q,D);
fw.y=br-D>>>1;var kZ=Q>>>1,bI=new gi(0,fw.y,kZ,D),ks=new a.po(Q*D);a.hv(M.buffer,ks);var eu=new Float64Array(br*br),cU=new Float64Array(br*br),k=a.j(br*br);
FFT.init(br);var hp=[ks.o,ks.R,ks.X];for(var R=0;R<3;R++){var jT=hp[R];k.fill(0);if(s=="dDFT"){a.TT(jT,fw,k,iX);
bW.ajw(k,br,eu,cU);a.TT(k,iX,jT,fw,bI);bI.x+=kZ;iX.x-=bt-kZ;a.TT(k,iX,jT,fw,bI);bI.x-=kZ;iX.x+=bt-kZ}else{a.TT(jT,fw,k,iX,bI);
bI.x+=bt;fw.x+=bt-kZ;a.TT(jT,fw,k,iX,bI);bI.x-=bt;fw.x-=bt-kZ;bW.asa(k,br,eu,cU);a.TT(k,iX,jT,fw)}}a.oh(ks,F.buffer)}if(s=="Avrg"){var cE=0,i_=0,dl=0,kR=0,fG=1;
for(var R=0;R<M.buffer.length;R+=4){var S=M.buffer[R+3];cE+=M.buffer[R]*S;i_+=M.buffer[R+1]*S;dl+=M.buffer[R+2]*S;
kR+=S}var gr=1/kR;cE=Math.round(fG*(cE*gr)+(1-fG)*255);i_=Math.round(fG*(i_*gr)+(1-fG)*255);dl=Math.round(fG*(dl*gr)+(1-fG)*255);
a.bJ(F.buffer,cE/255,i_/255,dl/255)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(s)!=-1){var hc=O.Rds?O.Rds.v.val:1;
bW.HL(hc,s=="boxblur"?0:1,F.buffer,F.S);if(s=="UnsM"||s=="smartSharpen"){var eg=(O.Amnt?O.Amnt.v.val:200)/100,dx=0;
if(s=="UnsM")dx=O.Thsh.v*Z/255;else eg*=.75;for(var R=0;R<M.buffer.length;R++){if((R&3)==3){F.buffer[R]=M.buffer[R];
continue}var a5=M.buffer[R],gP=F.buffer[R],fa=eg*(a5-gP);if(fa>0)fa=Math.max(0,fa-dx);else fa=Math.min(0,fa+dx);
F.buffer[R]=Math.max(0,Math.min(Z,a5+fa))}}if(s=="HghP")for(var R=0;R<M.buffer.length;R++){if((R&3)==3){F.buffer[R]=M.buffer[R];
continue}var a5=M.buffer[R],gP=F.buffer[R];F.buffer[R]=Math.max(0,Math.min(Z,.5*Z+a5-gP))}}if(s=="AdNs"){var iV=new Uint8ClampedArray(F.buffer.buffer),kQ=255*O.Nose.v.val/100,gG;
if(O.Dstr.v.Dstr=="Gsn")gG=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else gG=function(){return Math.random()*2-1};for(var R=0;R<iV.length;R+=4){var n=iV[R],lm=iV[R+1],ix=iV[R+2],a2,dF,fS;
if(O.Mnch.v){a2=dF=fS=gG()}else{a2=gG();dF=gG();fS=gG()}n+=kQ*a2;lm+=kQ*dF;ix+=kQ*fS;iV[R]=n;iV[R+1]=lm;
iV[R+2]=ix}}var gH=Date.now();if(s=="Mdn "||s=="DstS"||s=="Mxm "||s=="Mnm "||s=="surfaceBlur"){var n=0,cN=O.Thsh,ln=0;
if(cN)cN=cN.v;else cN=0;if(s=="Mdn "||s=="Mxm "||s=="Mnm "||s=="surfaceBlur")n=O.Rds.v.val;else n=O.Rds.v;
var gx=10*Math.ceil(n/10),Q=M.S.A,D=M.S.$,gw=["Mnm ","Mxm ","surfaceBlur"].indexOf(s),jA=O.preserveShape;
if(jA&&jA.v.preserveShape=="Rndn")ln=1;var ip=(ln==0?1:.75)*[.73,.73,1.2][gw]*(Q*D*Math.pow(gx*gx,1.05))/6022387,k4=.6*(Q*D*Math.pow(n,1/2.6))/6500;
if(s=="Mxm "||s=="Mnm ")k4=Q*D/13e3;if(ci.Qh&&gw!=-1&&(ip<k4||ln==1)&&ip<1e3){var E=ci.w2(0,Q,D);E.set(M.buffer);
var C=ci.w2(1,Q,D);ci.b2(C);ci.filter.Wm({I:ci.filter.adX,Hd:new Float32Array([1/Q,1/D]),cb:n,anB:cN/255,uP:[ln,gw,gx]},E.U9);
C.get(F.buffer)}else if(s=="Mxm "||s=="Mnm "){var Q=M.S.A,D=M.S.$;a.qd.aI6(M.buffer,F.buffer,Q,D,1+Math.floor(O.Rds.v.val)*2,s=="Mxm ")}else{n=Math.round(n);
a.LG.hh=.5;a.LG.eO=cN;var fQ=s=="surfaceBlur"?1:0;a.LG.lp(M.buffer,F.buffer,Q,D,n,fQ);if(s=="DstS")for(var R=0;
R<Q*D*4;R++){var fb=Math.abs(M.buffer[R]-F.buffer[R]);if(fb<=cN)F.buffer[R]=M.buffer[R]}}}if(s=="ClrH"){var bI=M.S.v(),g_=0;
bI.x=bI.y=0;var n=O.Rds.v;n=n*Math.sqrt(2);var Q=bI.A,D=bI.$,bb=a.FL(Q,D),ce=new Float32Array(256);for(var R=0;
R<256;R++){var fz=R/255,hc=Math.sqrt(fz*(1/Math.PI));if(hc>.5)hc=.5+Math.pow((hc-.5)/(.564-.5),1.35)*.2;
ce[R]=n*hc}var er=Math.floor(2*Q/n),c3=Math.floor(2*D/n),kU=10-(n-54*Math.sqrt(2))*1.5,dz=[M.buffer,bI];
a.pT(dz);while(dz[g_*2+1].A>1.5*Q/n)g_++;var iB=dz[g_*2+1],j5=dz[g_*2],f1=a.j(iB.C()),gM=1/(1<<g_),le=iB.A,lj=iB.$,k=a.j(Q*D);
for(var jO=0;jO<3;jO++){a.YT(j5,f1,jO);a.or(f1);var l5=Math.PI*O["Ang"+(jO+1)].v/180,g$=new kp;g$.translate(-Q/2,-D/2);
g$.rotate(-l5);g$.translate(Q/2,D/2);bb.clearRect(0,0,Q,D);for(var V=-(c3>>>2);V<c3;V++)for(var b=-(er>>>2);
b<er;b++){var jd=g$.Kw(new j6((b+.5)*n-kU,(V+.5)*n-kU)),it=Math.max(0,Math.min(jd.x*gM,le-.51)),h2=Math.max(0,Math.min(jd.y*gM,lj-.51)),L=~~a.F.$A(it,h2,f1,le,lj);
bb.beginPath();bb.arc(jd.x,jd.y,ce[L],0,2*Math.PI);bb.fill()}var ga=bb.getImageData(0,0,Q,D);a.YT(ga.data,k,3);
a.or(k);a.GS(k,F.buffer,jO)}}if(s=="Crst"||s=="Pntl"){var Q=M.S.A,D=M.S.$,fQ=s=="Crst"?a.st.aLt:a.st.azJ;
fQ(M.buffer,Q,D,F.buffer,O.ClSz.v,[Math.round(y.o),Math.round(y.R),Math.round(y.X)])}if(s=="Mztn"){var Q=M.S.A,D=M.S.$,L=Q*D,ks=new a.po(L),j3=[ks.o,ks.R,ks.X];
a.hv(M.buffer,ks);var a0=O.MztT.v.MztT,iW={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[a0],gH=Date.now(),cc=[];
for(var R=0;R<L;R++){cc[R]=Math.random()}var L=Q*D,e$=Math.round(L*iW[0]),jg=L-Q-1;for(var R=0;R<e$;
R++){var fe=Math.random(),bi=1;if(fe<.5){bi=Q;fe*=2}else fe=2*(fe-.5);var eK=Math.floor(fe*jg),cl=eK+bi;
cc[eK]=cc[cl]}var gB=Math.round(Q*iW[1]);for(var V=0;V<D;V++)for(var R=0;R<gB;R++){var fe=a.B.Fn(V*L+R),eK=V*Q+Math.floor(fe*(Q-1));
cc[eK]=cc[eK+1]}var cy=new Float64Array(256);for(var R=0;R<256;R++){var bl=R/255,kv=2*(bl<.5?bl:1-bl);
kv=iW[2]+Math.pow(kv,iW[3])*(1-iW[2]);bl=bl<.5?kv*.5:1-kv*.5;cy[R]=bl}for(var v=0;v<3;v++){var k=j3[v];
for(var V=0;V<D;V++){for(var b=0;b<Q;b++){var R=V*Q+b,jN=k[R],bl=cy[jN],fe=cc[R];k[R]=fe>bl?0:255}}}a.oh(ks,F.buffer)}if(s=="Msc "){var eh=O.ClSz.v.val,Q=M.S.A,D=M.S.$,gL=Math.ceil(Q/eh),ao=Math.ceil(D/eh),d6=a.j(gL*ao*4);
a.scale.XM(M.buffer,Q,D,d6,gL,ao,1/eh);a.scale.XM(d6,gL,ao,F.buffer,Q,D,eh)}if(s=="Clds"||s=="DfrC"){var Q=F.S.A,D=F.S.$,L=Q*D,kC=a.j(L);
if(s=="Clds")a.vK(F.buffer,4278190080);var gh=a.j(256*4);for(var R=0;R<256;R++){var J=R<<2,bg=R/255,fk=1-bg;
gh[J]=Math.round(bg*P.o+fk*y.o);gh[J+1]=Math.round(bg*P.R+fk*y.R);gh[J+2]=Math.round(bg*P.X+fk*y.X)}a.O.aqe(M.buffer,Q,D,kC);
var cZ=F.buffer;for(var R=0;R<L;R++){var J=R<<2,v=kC[R]<<2,n=gh[v],lm=gh[v+1],ix=gh[v+2];if(s=="Clds"){cZ[J]=n;
cZ[J+1]=lm;cZ[J+2]=ix}else{cZ[J]=Math.abs(cZ[4*R]-n);cZ[J+1]=Math.abs(cZ[4*R+1]-lm);cZ[J+2]=Math.abs(cZ[4*R+2]-ix)}}}if(s=="LnsF"){var Q=M.S.A,D=M.S.$,a0=["Zm","Nkn","Nkn1","PnVs"].indexOf(O.Lns.v.Lns),e9=O.FlrC.v,gN=[Math.min(a0,2),O.Brgh.v/100,e9.Hrzn.v,e9.Vrtc.v],gH=Date.now();
a.ae4(M.buffer,Q,D,F.buffer,gN)}var an=["Blr ","BlrM","Shrp","ShrM"].indexOf(s);if(an!=-1){var bj=an>1,Q=M.S.A,D=M.S.$,eX=a.nG.pa[an],es=M.buffer.slice(0);
if(!bj)a.Zs(es);a.nG.rI(es,F.buffer,Q,D,eX,!0,!1);if(!bj)a.d7(F.buffer)}if(s=="MtnB"){var dO=-O.Angl.v*Math.PI/180,bx=O.Dstn.v.val/2,gH=Date.now(),Q=M.S.A,D=M.S.$,X=M.S.v();
X.x=X.y=0;if(ci.Qh){var gH=Date.now(),dq=F.buffer;dq.set(M.buffer);a.Zs(dq);var ke=ci.w2(0,Q,D);ke.set(dq);
var fn=a.j(4);fn[0]=Math.round(128+127*Math.cos(dO));fn[1]=Math.round(128+127*Math.sin(dO));a.vK(dq,new Uint32Array(fn.buffer)[0]);
var fX=ci.w2(1,Q,D);fX.set(dq);ci.b2(ke,X);ke.rL(X);ci.filter.Wm({I:ci.filter._h,iH:fX.U9,Hd:new Float32Array([1/Q,1/D]),K_:bx/2,LD:1},ke.KZ);
ke.get(dq);a.d7(dq)}else{var lg=F.buffer,kr=new kp;kr.rotate(dO);var Y=$.TR.GI([M.buffer,M.S],kr);bW.HL(bx,2,Y.buffer,Y.S);
kr.or();Y=$.TR.GI([Y.buffer,Y.S],kr,!1,lg.buffer,F.S);if(!a.vI(M.buffer))for(var R=0;R<lg.length;R+=4)lg[R+3]=255}console.log(Date.now()-gH)}if(s=="RdlB"){var Q=M.S.A,D=M.S.$,eg=O.Amnt.v,bM=O.BlrM.v.BlrM=="Zm",jO=O.Cntr.v,kl=jO.Hrzn.v,av=jO.Vrtc.v,K=Math.max(kl,1-kl)*Q,q=Math.max(av,1-av)*D,hc=Math.sqrt(K*K+q*q),jw=2*Math.PI*hc*1.5,l9=Math.round(jw),eS=Math.round(hc),bI=new gi(0,0,l9,eS),cw=a.j(l9*eS*4),a_=bM?4:1,eC=bM?.6:8*((Q+D)/2)/1400,gJ=.1,gM=1,er=1;
a.F.aq_(M.buffer,Q,D,cw,l9,eS,kl,av,a_,gJ,gM,er);var fm=bM?a.j(l9*eS*4):null;if(bM){a.F.gV(cw,fm,l9,eS);
var cV=fm;fm=cw;cw=cV;bI.A=eS;bI.$=l9}bW.HL(eC*eg,2,cw,bI);if(bM){a.F.gV(cw,fm,eS,l9);var cV=fm;fm=cw;
cw=cV;bI.A=l9;bI.$=eS}a.F.aBQ(cw,l9,eS,F.buffer,Q,D,kl,av,a_,gJ,gM,er)}if(s=="Plr "){var Q=M.S.A,D=M.S.$;
if(O.Cnvr.v.Cnvr=="RctP")a.F.aBQ(M.buffer,Q,D,F.buffer,Q,D,.5,.5,1,0,2,Q/D);else a.F.aq_(M.buffer,Q,D,F.buffer,Q,D,.5,.5,1,0,2,Q/D)}if(s=="FndE"){var Q=M.S.A,D=M.S.$;
a.nG.afM(M.buffer,F.buffer,Q,D)}if(s=="oilPaint"){var l5=O.LghD.v*Math.PI/180,kS=[Math.cos(l5),Math.sin(l5),.001],dS=[O.stylization.v,O.cleanliness.v,O.brushScale.v,O.microBrush.v,O.lightingOn.v,O.specularity.v,kS],X=M.S.v();
X.x=X.y=0;a.sb.filter(M.buffer,X,F.buffer,dS)}if(s=="Ofst"){var Q=M.S.A,D=M.S.$,jI=new Uint32Array(M.buffer.buffer),dQ=new Uint32Array(F.buffer.buffer);
dQ.fill(0);var co=O.Hrzn.v,hm=O.Vrtc.v,c2=O.Fl.v.FlMd;if(c2=="Bckg"||c2=="Rpt"){var bI=M.S.v();bI.offset(co,hm);
a.FP(jI,bI,dQ,F.S)}if(c2=="Rpt"){var jQ,iA,g0,h$,hh;co=Math.max(-Q,Math.min(Q,co));hm=Math.max(-D,Math.min(D,hm));
jQ=co>0?co:0;g0=co>0?Q:Q+co;iA=hm>0?0:hm+D;h$=hm>0?hm:D;hh=hm>0?0:Q*(D-1);for(var V=iA;V<h$;V++)for(var b=jQ;
b<g0;b++)dQ[V*Q+b]=jI[hh+b-co];jQ=co>0?0:Q+co;g0=co>0?co:Q;iA=hm>0?hm:0;h$=hm>0?D:D+hm;hh=co>0?0:Q-1;
for(var V=iA;V<h$;V++)for(var b=jQ;b<g0;b++)dQ[V*Q+b]=jI[hh+Q*(V-hm)];if(co>=0&&hm>=0){jQ=0;g0=co;iA=0;
h$=hm;hh=0}if(co>=0&&hm<0){jQ=0;g0=co;iA=D+hm;h$=D;hh=Q*(D-1)}if(co<0&&hm>=0){jQ=Q+co;g0=Q;iA=0;h$=hm;
hh=Q-1}if(co<0&&hm<0){jQ=Q+co;g0=Q;iA=D+hm;h$=D;hh=Q*D-1}for(var V=iA;V<h$;V++)for(var b=jQ;b<g0;b++)dQ[V*Q+b]=jI[hh]}if(c2=="Wrp"){co=(co+100*Q)%Q;
hm=(hm+100*D)%D;var bI=new gi(co-Q,hm-D,Q,D);a.FP(jI,bI,dQ,F.S);bI.offset(Q,0);a.FP(jI,bI,dQ,F.S);bI.offset(0,D);
a.FP(jI,bI,dQ,F.S);bI.offset(-Q,0);a.FP(jI,bI,dQ,F.S)}}if(s=="Rept"){var bp=O.Rsft.v.val/100,hn=O.SpcX.v.val/100;
hn=Math.max(hn,-.99);var fI=O.SpcY.v.val/100;fI=Math.max(fI,-.99);var gM=O.Scl.v.val/100,kr=new kp;kr.rotate(O.Angl.v*Math.PI/180);
kr.scale(gM,gM);var he={buffer:M.buffer,S:M.S};a.Dq(he);if(he.S.g3()){he.buffer=M.buffer;he.S=M.S}var cZ=he.buffer,bI=he.S,ht=a.zq(cZ,bI,0),eO=new Uint32Array(cZ.buffer)[0];
if(!ht.g3()&&!ht.s0(bI)){var cx=a.j(ht.C()*4);a.FP(cZ,bI,cx,ht);cZ=cx;bI=ht}bI.x=bI.y=0;eO=hn==0&&fI==0&&!a.vI(M.buffer)||O.SpcC.v?eO:0;
function hF(b){return b<0?Math.ceil(b):Math.floor(b)}var gE=kr.Kw(new j6(bI.A,0));gE.x=hF(gE.x);gE.y=hF(gE.y);
var kL=kr.Kw(new j6(0,bI.$));kL.x=hF(kL.x);kL.y=hF(kL.y);var Y=$.TR.GI([cZ,bI],kr,!1),fw=Y.S,iu=Y.buffer,kt=Math.round(fw.x),b9=Math.round(fw.y),dD=Math.max(F.S.A,F.S.$)/Math.min(bI.A*gM*(1+hn),bI.$*gM*(1+fI));
dD=Math.ceil(dD*1.7);a.vK(F.buffer,eO);for(var V=-dD;V<dD;V++){for(var b=-dD;b<dD;b++){var kk=(b+V*bp)*(1+hn),lo=V*(1+fI);
fw.x=kt+Math.round(kk*gE.x+lo*kL.x);fw.y=b9+Math.round(kk*gE.y+lo*kL.y);if(fw.$B(F.S))a.B.qZ("norm",iu,fw,F.buffer,F.S,fw,1)}}}if(s=="Ctoa"){var y=a.wv.sl(O.Clr.v),cN=O.Trsp.v.val/100,f$=O.Opct.v.val/100;
cN=f$==0?0:cN/f$;var Q=M.S.A,D=M.S.$,iL=~~y.o,f5=~~y.R,de=~~y.X,hh=M.buffer,h7=F.buffer;for(var V=0;
V<D;V++)for(var b=0;b<Q;b++){var R=V*Q+b,J=R<<2,bI=hh[J],cG=hh[J+1],cZ=hh[J+2],cO=Math.abs(iL-bI),fp=Math.abs(f5-cG),bK=Math.abs(de-cZ),fN=Math.max(cO,fp,bK)*(1/255);
fN=Math.max(0,Math.min(1,fN/f$));var a3=fN==0?0:1/fN,k_=cN==1?1:Math.max(0,Math.min(1,(fN-cN)/(1-cN)));
h7[J]=Math.max(0,Math.min(255,(bI-iL*(1-fN))*a3));h7[J+1]=Math.max(0,Math.min(255,(cG-f5*(1-fN))*a3));
h7[J+2]=Math.max(0,Math.min(255,(cZ-de*(1-fN))*a3));h7[J+3]=Math.min(h7[J+3],~~(.5+k_*255))}}if(s=="Dthr"){var cn=iU.abW(O.Plte.v),eU=new Uint32Array(iU.Gs(cn));
a.AA(new Uint8Array(eU.buffer));var Q=M.S.A,D=M.S.$,L=Q*D,kN=L*4,j5=M.buffer.slice(0),fj=F.buffer;a.AA(j5);
var fl=a.j(Q*D);UPNG.encode.dither(j5,Q,D,eU,fj,fl,O.Mthd?O.Mthd.v:1);a.alF(fj)}if(s=="Part"){var c_=[O.RndS.v,O.Cont.v/100,O.Size.v,O.Dpth.v/100,O.Brgh.v/100,a.wv.sl(O.Clr.v),O.Time.v,O.Blnk.v,O.Fall.v,O.Turb.v/100];
a.lZ.EN(F.buffer,M.S.A,M.S.$,c_)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(s)!=-1){var ep=A[0],Q=M.S.A,D=M.S.$,cy,eI=0;
if(s=="LqFy")cy=al.kM(new Uint8Array(O.LqMe.v).buffer);else{var bN=3;if(s=="Wave")bN=Math.min(3,O.WLMn.v);
cy={V5:Math.floor(Q/bN),fw:Math.floor(D/bN)};cy.map=new Float32Array(cy.V5*cy.fw*2);if(s=="LnCr"){var kl=.5*(cy.V5-1),av=.5*(cy.fw-1),l3=Math.max(Math.abs(0-kl),Math.abs(1-kl)),ge=Math.max(Math.abs(0-av),Math.abs(1-av)),g$=Math.sqrt(l3*l3+ge*ge),ch=0,eP=0,id=-1,jM=2,gM=O.LnSi.v/100,bM=1/gM,ir=O.LnIa.v/100,aM=ir==0?1e-6:ir*4.6,hC=bM/g$;
for(var V=0;V<cy.fw;V++){for(var b=0;b<cy.V5;b++){var K=(b-kl)*hC,q=(V-av)*hC,n=Math.sqrt(K*K+q*q)*aM,eG=Math.atan(n),f_=ir>0?eG/n:n/eG,er=kl+g$*f_*K,c3=av+g$*f_*q,R=V*cy.V5+b<<1;
cy.map[R]=er-b;cy.map[R+1]=c3-V}}}else if(s=="Kale"){var gL=cy.V5,ao=cy.fw,ih=(gL-1)*.5,cB=(ao-1)*.5,kw=O.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,l7=O.Mirr.v,eA=Math.PI*2/l7,hv=.5*eA;
for(var V=0;V<ao;V++)for(var b=0;b<gL;b++){var K=b-ih,q=V-cB,h_=Math.sqrt(K*K+q*q),l5=Math.atan2(q,K)+kw;
l5=l5%eA;if(l5>hv)l5=eA-l5;var er=ih+Math.cos(l5-kw)*h_,c3=cB+Math.sin(l5-kw)*h_,R=(V*gL+b)*2;cy.map[R]=er-b;
cy.map[R+1]=c3-V}}else if(s=="Dspl"&&ep.length!=0){eI=O.UndA.v.UndA=="WrpA"?2:1;var bd=O.DspF.v.pth,fR,cF=O.DspD,b8,iO,gF;
if(cF){var cE=cF.v;iO=cE[1]*256+cE[0];b8=cE[5]*256+cE[4];gF=new Uint8Array(cE.slice(10,10+b8*iO))}else{for(var R=0;
R<ep.length;R++)if(ep[R].Xh==bd)fR=ep[R];if(fR==null)fR=ep[0];fR.Ta();var cO=fR.EV[1],gF=a.j(cO.C());
a.K1(fR.EV[0],gF);b8=cO.A;iO=cO.$}cy={V5:b8,fw:iO};cy.map=new Float32Array(cy.V5*cy.fw*2);var ae=2.54*O.HrzS.v*b8/Q,gn=2.54*O.VrtS.v*iO/D;
for(var V=0;V<cy.fw;V++){for(var b=0;b<cy.V5;b++){var fb=-.5+gF[V*b8+b]*(1/255),R=V*cy.V5+b<<1;cy.map[R]=fb*ae;
cy.map[R+1]=fb*gn}}}else if(s=="Pnch"||s=="Twrl"||s=="Sphr"||s=="ZgZg"){var eg=1,dO=Math.PI,kH=0,en=1,jE=0,jO=3,eh=1.53,f_=1;
if(s=="Pnch"||s=="Sphr"||s=="ZgZg")eg=O.Amnt.v/100;if(s=="ZgZg"){en=O.NmbR.v;jE=["ArnC","OtFr","PndR"].indexOf(O.ZZTy.v.ZZTy)}if(s=="Twrl")dO=O.Angl.v*Math.PI/180;
if(s=="Sphr")kH=["Nrml","HrzO","VrtO"].indexOf(O.SphM.v.SphM);function fQ(b){b=Math.pow(b,1-b*.3-b*b*(b*b)*.5);
return-.225*Math.sin(b*Math.PI)}function kJ(D,gj,n,jQ,iA,g0,h$,f_){var K=g0-jQ,q=h$-iA,fL=jQ-D,fv=iA-gj,bg=K*K+q*q,ix=2*(K*fL+q*fv),jO=fL*fL+fv*fv-n*n,bO=Math.sqrt(ix*ix-4*bg*jO),iD=f_/(2*bg),d3=(-ix+bO)*iD,fc=(-ix-bO)*iD;
return f_*Math.min(d3,fc)}var gL=cy.V5,ao=cy.fw,ih=cy.V5/2,cB=cy.fw/2,j$=1/ih,n=Math.sqrt(jO*jO+1)/jO,jT=jO+Math.sqrt(1/(jO*jO));
if(eg<0){jO=1.72;n=1;jT=jO;eh=-1;f_=-1}for(var V=0;V<ao;V++){var q=(V-cB)/cB;for(var b=0;b<gL;b++){var K=(b-ih)*j$;
if(kH==1)q=0;else if(kH==2)K=0;var jZ=Math.sqrt(K*K+q*q);if(jZ<1&&jZ!=0){var R=V*cy.V5+b<<1;if(s=="Pnch"){var i0=-eg*fQ(jZ)/jZ;
cy.map[R]=K*i0*ih;cy.map[R+1]=q*i0*cB}else if(s=="Sphr"){var cV=kJ(0,jT,n,0,0,jZ,jO,f_),kU=eh*eg*(cV-1);
cy.map[R]=K*kU*ih;cy.map[R+1]=q*kU*cB}else if(s=="Twrl"){var l5=Math.atan2(q,K)-dO*(1-jZ)*(1-jZ),jD=Math.cos(l5),iC=Math.sin(l5);
cy.map[R]=(jZ*jD-K)*ih;cy.map[R+1]=(jZ*iC-q)*cB}else if(s=="ZgZg"){var jD=0,iC=0,iT=eg*(.5-.5*Math.cos(jZ*en*2*Math.PI))*(1-jZ);
if(jE==0){var l5=Math.atan2(q,K)-3.5*iT;jD=jZ*Math.cos(l5);iC=jZ*Math.sin(l5)}if(jE==1){iT=100/Q*iT/jZ;
jD=(1-iT)*K;iC=(1-iT)*q}if(jE==2){var G=512/Q*iT*Math.PI/4;jD=G+K;iC=G+q}cy.map[R]=(jD-K)*ih;cy.map[R+1]=(iC-q)*cB}}}}}else if(s=="Shr "){var fs=a.G(O.ShrP.v);
a.Vt.M(fs,new kp(0,255/127,255/127,0,-2,0));var kM=a.Vt.N8(fs,cy.fw,!0);eI=O.UndA.v.UndA=="WrpA"?2:1;
for(var V=0;V<cy.fw;V++){var K=-kM[V]*cy.V5;for(var b=0;b<cy.V5;b++){var R=V*cy.V5+b<<1;cy.map[R]=K}}}else if(s=="Wave"){var kf=O.NmbG.v,fg=O.WLMn.v,ca=O.WLMx.v,eL=O.AmMn.v*(Math.PI/4),jl=O.AmMx.v*(Math.PI/4),go=O.SclH.v/100,jL=O.SclV.v/100,a0=O.Wvtp.v.Wvtp,iT=Math.sin;
if(a0=="WvTr")iT=function(b){b*=2/Math.PI;return-.5+Math.abs(b%2-1)};if(a0=="WvSq")iT=function(b){b*=2/Math.PI;
return 1+2*Math.floor(b%2-1)};var gf=[],ax=new a.B.Yp(O.RndS.v);for(var R=0;R<kf;R++){gf.push(ax.get()*10);
gf.push(Math.PI*bN/(fg+ax.get()*(ca-fg)));gf.push(go*(eL+ax.get()*(jl-eL))/bN);gf.push(ax.get()*10);
gf.push(Math.PI*bN/(fg+ax.get()*(ca-fg)));gf.push(jL*(eL+ax.get()*(jl-eL))/bN)}var kP=[],dV=[],jF=Math.max(cy.V5,cy.fw);
for(var R=0;R<jF;R++){var K=0,q=0;for(var cP=0;cP<kf;cP++){var fV=cP*6;K+=gf[fV+2]*iT(gf[fV]+R*gf[fV+1]);
q+=gf[fV+5]*iT(gf[fV+3]+R*gf[fV+4])}kP[R]=q;dV[R]=K}for(var V=0;V<cy.fw;V++){for(var b=0;b<cy.V5;b++){var R=V*cy.V5+b<<1;
cy.map[R]=dV[V];cy.map[R+1]=kP[b]}}eI=O.UndA.v.UndA=="WrpA"?2:1}else if(s=="Rple"){eI=1;var eg=O.Amnt.v/100,ki=4,bQ=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],cv=1,gX=1,fL=0,f3=["Sml","Mdm","Lrg"].indexOf(O.RplS.v.RplS);
if(f3==0){cv=1;gX=.2;fL=3}if(f3==2){cv=1;gX=2;fL=-1;bQ=bQ.reverse()}var i7=function(b,V){var jO=Math.cos,eR=0;
for(var R=0;R<ki;R++)for(var cP=0;cP<ki;cP++)eR+=bQ[R*ki+cP]*jO(b*(R+fL)-V*(cP+fL));return eR},bX=Math.floor(50/bN),bR=new Float32Array(bX*bX*2),kB=gX*eg*.5/bN;
for(var V=0;V<bX;V++)for(var b=0;b<bX;b++){var kl=cv*b*2*Math.PI/bX,av=cv*V*2*Math.PI/bX,ee=i7(kl,av),K=(i7(kl+.01,av)-ee)*100,q=(i7(kl,av+.01)-ee)*100,R=(V*bX+b)*2;
bR[R]=K*kB;bR[R+1]=q*kB}for(var V=0;V<cy.fw;V++)for(var b=0;b<cy.V5;b++){var iC=V%bX,jD=b%bX,R=V*cy.V5+b<<1,i8=iC*bX+jD<<1;
cy.map[R]=bR[i8];cy.map[R+1]=bR[i8+1]}}}a.x0.ZO(M.buffer,F.buffer,Q,D,null,cy.map,cy.V5,cy.fw,eI)}return F};
var iU={};iU.a3W="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");iU.Gv="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
iU.gr=["ScrC","ScrD","ScrL"];iU.yr=["SDRD","SDHz","SDLD","SDVt"];iU.Dz="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
iU.JA="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");iU._b="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
iU.pW=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];iU.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
iU.Jb=function(s){var M;if(s=="ClrP")M={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(s=="Ct")M={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(s=="DryB")M={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(s=="FlmG")M={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(s=="Frsc")M={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(s=="NGlw")M={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(s=="PntD")M={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(s=="PltK")M={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(s=="PlsW")M={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(s=="PstE")M={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(s=="RghP")M={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(s=="SmdS")M={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(s=="Spng")M={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(s=="Undr")M={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(s=="Wtrc")M={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(s=="AccE")M={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(s=="AngS")M={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(s=="Crsh")M={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(s=="DrkS")M={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(s=="InkO")M={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(s=="Smie")M={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(s=="Spt")M={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(s=="SprS")M={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(s=="DfsG")M={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(s=="Gls")M={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(s=="OcnR")M={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(s=="BsRl")M={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(s=="ChlC")M={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(s=="Chrc")M={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(s=="Chrm")M={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(s=="CntC")M={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(s=="GraP")M={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(s=="HlfS")M={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(s=="NtPr")M={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(s=="Phtc")M={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(s=="Plst")M={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(s=="Rtcl")M={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(s=="Stmp")M={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(s=="TrnE")M={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(s=="WtrP")M={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(s=="GlwE")M={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(s=="Crql")M={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(s=="Grn")M={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(s=="MscT")M={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(s=="Ptch")M={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(s=="StnG")M={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(s=="Txtz")M={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
M.__name="Filter Gallery";M.classID="GEfc";M.GEfk={t:"enum",v:{GEft:s}};M.GELv={t:"bool",v:!0};return M};
iU.Gg=function(s,M){for(var R=0;R<M.length;R++)~~(M[R]=(s[4*R]+s[4*R+1]+s[4*R+2])*(1/3))};iU.aFM=function(s,M,O,P){var y=UPNG.quantize(s,M);
y={EL:y.inds,bB:iU.awc(y.plte)};return y};iU.awc=function(s){var M=[];for(var R=0;R<s.length;R++){var O=s[R].est.q;
M.push(["",{o:O[0]*255,R:O[1]*255,X:O[2]*255,cd:O[3]*255}])}return M};iU.Gs=function(s){var M=[];for(var R=0;
R<s.length;R++){var O=s[R][1];M.push(O.cd<<24|O.X<<16|O.R<<8|O.o)}return M};iU.aBB=[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"];
iU.abW=function(s){var M=[];if(s==0)M=[["",{o:0,R:0,X:0,cd:255}],["",{o:255,R:255,X:255,cd:255}]];else{var O=[[1,1,1],[2,2,2],[3,3,2]][s-1],P=[1<<O[0],1<<O[1],1<<O[2]],y=[~~(255/(P[0]-1)),~~(255/(P[1]-1)),~~(255/(P[2]-1))];
M=[];for(var F=0;F<P[0];F++)for(var A=0;A<P[1];A++)for(var h=0;h<P[2];h++)M.push(["",{o:F*y[0],R:A*y[1],X:h*y[2],cd:255}])}return M};
iU.Vj=function(s,M,O,P,y,F,A){s=O.GEfk.v.GEft;var h=M.S,m=h.A,Z=h.$,u=m*Z,f=O.FlRs?O.FlRs.v>>>1:0;function U(W){return W.o<<24|W.R<<16|W.X<<8|255}if(s=="ClrP")a.O.ak2(M.buffer,m,Z,F.buffer,[O.Pncl.v,O.StrP.v,O.PprB.v]);
if(s=="Ct"){var C=O.NmbL.v,H=O.EdgS.v,t=iU.aFM(M.buffer.buffer,C*2,m,Z);a.rR.azj(t.EL,m,Z,Math.floor((m+Z)*.015));
for(var R=0;R<t.EL.length;R++)t.EL[R]++;var X=new Uint8Array((m+2)*(Z+2));a.TT(t.EL,new gi(1,1,m,Z),X,new gi(0,0,m+2,Z+2));
var Q=a.b.Pw(X,m+2,Z+2,H,!1),D=new kp(1,0,0,1,-1,-1);for(var R=0;R<Q.length;R++)a.b.M(Q[R].path.L,D,Q[R].path.L);
var L=t.bB,E=a.FL(m,Z);for(var R=0;R<Q.length;R++){var S=Q[R],W=L[S.color-1][1];if(W.cd==0)continue;
E.fillStyle="rgba("+W.o+","+W.R+","+W.X+","+W.cd/255+")";E.beginPath();Typr.U.pathToContext({crds:S.path.L,cmds:S.path.J8},E);
E.fill()}if(!h.g3()){var g=E.getImageData(0,0,m,Z);a.jO(g.data,F.buffer)}}if(s=="DryB")a.O.aAZ(M.buffer,m,Z,F.buffer,[O.BrsS.v,O.BrsD.v,O.Txtr.v]);
if(s=="FlmG")a.O.awd(M.buffer,m,Z,F.buffer,[O.Grn.v,O.HghA.v,O.Intn.v,f]);if(s=="Frsc")a.O.aBF(M.buffer,m,Z,F.buffer,[O.BrsS.v,O.BrsD.v,O.Txtr.v]);
if(s=="NGlw")a.O.aeV(M.buffer,m,Z,F.buffer,[O.Sz.v,O.Brgh.v,U(a.wv.sl(O.Clr.v)),U(P),U(y)]);if(s=="PltK")a.O.a1s(M.buffer,m,Z,F.buffer,[O.StrS.v,O.StDt.v,O.Sftn.v]);
if(s=="PstE")a.O.aI5(M.buffer,m,Z,F.buffer,[O.EdgT.v,O.EdgI.v,O.Pstr.v]);if(s=="RghP")a.O.aEn(M.buffer,m,Z,F.buffer,[O.StrL.v,O.StDt.v,iU.Dz.indexOf(O.TxtT.v.TxtT),O.Scln.v,O.Rlf.v,iU.Gv.indexOf(O.LghD.v.LghD),O.InvT.v]);
if(s=="SmdS")a.O.aa0(M.buffer,m,Z,F.buffer,[O.StrL.v,O.HghA.v,O.Intn.v,O.FlRs?O.FlRs.v:0,f]);if(s=="Spng")a.O.apo(M.buffer,m,Z,F.buffer,[O.BrsS.v,O.Dfnt.v,O.Smth.v,O.FlRs?O.FlRs.v:0,f]);
if(s=="Undr")a.O.aLE(M.buffer,m,Z,F.buffer,[O.BrsS.v,O.TxtC.v,iU.Dz.indexOf(O.TxtT.v.TxtT),O.Scln.v,O.Rlf.v,iU.Gv.indexOf(O.LghD.v.LghD),O.InvT.v]);
if(s=="Wtrc")a.O.aFp(M.buffer,m,Z,F.buffer,[O.BrsD.v,O.ShdI.v,O.Txtr.v]);if(s=="AccE")a.O.avd(M.buffer,m,Z,F.buffer,[O.EdgW.v,O.EdgB.v,O.Smth.v]);
if(s=="AngS")a.O.aJL(M.buffer,m,Z,F.buffer,[O.DrcB.v,O.StrL.v,O.Shrp.v]);if(s=="Crsh")a.O.a7W(M.buffer,m,Z,F.buffer,[O.StrL.v,O.Shrp.v,O.Strg.v]);
if(s=="DrkS")a.O.aFU(M.buffer,m,Z,F.buffer,[O.Blnc.v,O.BlcI.v,O.WhtI.v]);if(s=="InkO")a.O.a1A(M.buffer,m,Z,F.buffer,[O.StrL.v,O.DrkI.v,O.LghI.v]);
if(s=="Smie")a.O.aAK(M.buffer,m,Z,F.buffer,[O.StrW.v,O.StrP.v,O.Cntr.v]);if(s=="DfsG")a.O.aLB(M.buffer,m,Z,F.buffer,[O.Grns.v,O.GlwA.v,O.ClrA.v,U(y),f]);
if(s=="CntC")a.O.aKp(M.buffer,m,Z,F.buffer,[O.FrgL.v,O.BckL.v,iU.Dz.indexOf(O.TxtT.v.TxtT),O.Scln.v,O.Rlf.v,iU.Gv.indexOf(O.LghD.v.LghD),O.InvT.v,U(y),U(P)]);
if(s=="ChlC")a.O.ak5(M.buffer,m,Z,F.buffer,[O.ChrA.v,O.ChlA.v,O.StrP.v,f,U(y),U(P)]);var x=s=="GraP"||s=="Chrc"||s=="Plst"||s=="Rtcl"||s=="Stmp"||s=="TrnE";
if(x){var V=a.j(m*Z);if(s=="GraP")a.O.a5q(M.buffer,m,Z,F.buffer,[O.StrL.v,O.LgDr.v,iU.yr.indexOf(O.SDir.v.StrD),f]);
if(s=="Chrc")a.O.as1(M.buffer,m,Z,F.buffer,[O.ChAm.v,O.Dtl.v,O.LgDr.v]);if(s=="Plst")a.O.aLn(M.buffer,m,Z,F.buffer,[O.ImgB.v,iU.JA.indexOf(O.LghP.v.LghP),O.Smth.v]);
if(s=="Rtcl")a.O.age(M.buffer,m,Z,F.buffer,[O.Dnst.v,O.BlcL.v,O.WhtL.v,f]);if(s=="Stmp")a.O.aqO(M.buffer,m,Z,F.buffer,[O.LgDr.v,O.Smth.v]);
if(s=="TrnE")a.O.amz(M.buffer,m,Z,F.buffer,[O.ImgB.v,O.Smth.v,O.Cntr.v,f]);a.YT(F.buffer,V,0);iU.rt(V,F.buffer,P,y)}if(s=="NtPr")a.O.asP(M.buffer,m,Z,F.buffer,[O.ImgB.v,O.Grns.v,O.Rlf.v,U(P),U(y),f]);
if(s=="WtrP")a.O.az4(M.buffer,m,Z,F.buffer,[O.FbrL.v,O.Brgh.v,O.Cntr.v,f>>>1]);if(s=="Crql")a.O.ajJ(M.buffer,m,Z,F.buffer,[O.CrcS.v,O.CrcD.v,O.CrcB.v,f]);
if(s=="Grn")a.O.a1k(M.buffer,m,Z,F.buffer,[O.Intn.v,iU._b.indexOf(O.Grnt.v.Grnt),O.Cntr.v,U(P),U(y),f]);
if(s=="MscT")a.O.ahW(M.buffer,m,Z,F.buffer,[O.TlSz.v,O.GrtW.v,O.LghG.v,f]);if(s=="Ptch")a.O.aKb(M.buffer,m,Z,F.buffer,[O.SqrS.v,O.Rlf.v,f]);
if(s=="Phtc"){function b(fs,eh,h,l5){a.er.SO(eh,h,l5,2);for(var R=0;R<u;R++)eh[R]=Math.max(0,Math.min(255,128+fs[R]-eh[R]))}var N=O.Dtl.v,J=O.Drkn.v,K=a.j(u);
a.K1(M.buffer,K);var q=K.slice(0);b(K,q,h,1);if(N==1){N=2;J=Math.round(J/4)}var d=K.slice(0);b(K,d,h,N);
for(var R=0;R<u;R++)K[R]=Math.max(0,Math.min(255,255-(q[R]-d[R])*J));iU.rt(K,F.buffer,P,y)}if(s=="Spt"||s=="SprS"){var l,T=1,B=1;
l={V5:Math.floor(m/B),fw:Math.floor(Z/B)};l.map=new Float32Array(l.V5*l.fw*2);var p=new a.B.Yp(f),I=new Float32Array(8192),w=O.SprR.v,e=w<20?.018*w:.36+(w-20)*.128;
if(s=="SprS"){e=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][w]}for(var R=0;
R<8192;R++)I[R]=(-1+2*p.get())*e*70;for(var G=0;G<Z;G++)for(var j=0;j<m;j++){var o=G*m+j<<1;l.map[o]=I[o%7919];
l.map[o+1]=I[(o+1)%7919]}var r=l.map.slice(0),k=s=="Spt"?O.Smth.v-1:1;if(s=="Spt"&&k!=0){iU.alQ(l.map,r,m,Z,k);
iU.a5o(r,l.map,m,Z,k)}if(s=="SprS"){var a7=O.StrL.v>>>1,Y=a7==0?2:1;iU.alQ(l.map,r,m,Z,Y);iU.a5o(r,l.map,m,Z,Y);
if(a7!=0){var v=iU.yr.indexOf(O.SDir.v.StrD),n=[1,1,1,0][v],cm=[-1,0,1,1][v],a5=2*a7+1,gP=1/a5;for(var G=0;
G<Z;G++)for(var j=0;j<m;j++){var o=G*m+j<<1,cg=0,a9=0;for(var R=0;R<a5;R++){var ew=Math.max(0,Math.min(m-1,j-(a7+R)*n)),h7=Math.max(0,Math.min(Z-1,G-(a7+R)*cm)),bh=h7*m+ew<<1;
cg+=l.map[bh];a9+=l.map[bh+1]}r[o]=cg*gP;r[o+1]=a9*gP}l.map=r}}a.x0.ZO(M.buffer,F.buffer,m,Z,null,l.map,l.V5,l.fw,T)}if(s=="BsRl"||s=="PlsW"||s=="Chrm"){var ba=Date.now(),jx=a.j(u);
a.K1(M.buffer,jx);var N=O.Dtl.v,c4=O.Smth.v;if(N!=15){a.er.SO(jx,h,Math.round((15-N)*.5))}var bq=1.4/m,di=1.4/Z,il=new Float32Array(u),j0=new Float32Array(u),j1=new Float32Array(F.buffer.buffer);
for(var G=0;G<Z;G++)for(var j=0;j<m;j++){var R=G*m+j,n=j==m-1?jx[R]-jx[R-1]:jx[R+1]-jx[R],cm=G==Z-1?jx[R]-jx[R-m]:jx[R+m]-jx[R],b5=j*bq-.7,b4=G*di-.7;
il[R]=n==0?b5:n*.4;j0[R]=cm==0?b4:cm*.4}if(s=="BsRl"){var lm=(2+iU.Gv.indexOf(O.LghD.v.LghD))*Math.PI*.25,cg=Math.cos(lm);
if(Math.abs(cg)<.1)cg=0;cg=Math.sign(cg);var a9=Math.sin(lm);if(Math.abs(a9)<.1)a9=0;a9=Math.sign(a9);
var ix=1/(cg*cg+a9*a9),jy=jx.slice(0);for(var G=0;G<Z;G++)for(var j=0;j<m;j++){var R=G*m+j,bz=Math.max(-1,Math.min(1,cg*il[R])),c5=Math.max(-1,Math.min(1,a9*j0[R]));
jy[R]=128+127*(bz+c5)*ix}if(c4!=1){a.er.SO(jy,h,Math.round((c4-1)*.5))}iU.rt(jy,F.buffer,P,y)}else{if(s=="Chrm")c4=5+c4;
if(c4>1)iU.HL(il,j0,j1,h,c4-1);if(s=="PlsW"){var k0=new Uint8Array(il.buffer);for(var R=0;R<u;R++){var cd=R<<2,n=il[R],cm=j0[R],fz=1/(Math.sqrt(1+n*n)*Math.sqrt(1+cm*cm)),fu=fz*fz,c6=fu*fu,W=~~(255*(c6*c6*fu));
k0[cd+0]=W;k0[cd+1]=W;k0[cd+2]=W;k0[cd+3]=W}F.buffer.set(M.buffer);a.B.qZ("norm",k0,h,F.buffer,h,h,O.HghS.v/20)}else if(s=="Chrm"){var k7=F.buffer,hP=m>>>1,e1=Z>>>1;
for(var R=0;R<u;R++){var cd=R<<2,n=il[R],cm=j0[R],fs={x:1,y:0,QL:n};cb.Oi(fs);var eh={x:0,y:1,QL:cm};
cb.Oi(eh);var gW=cb.aH2(fs,eh),hk=1/gW.QL,jz=~~Math.max(0,Math.min(m-1,hP-gW.x*hk*hP)),lh=~~Math.max(0,Math.min(Z-1,e1-gW.y*hk*e1)),W=jx[lh*m+jz];
k7[cd+0]=W;k7[cd+1]=W;k7[cd+2]=W}}}}if(s=="Gls"||s=="OcnR"||s=="Txtz"){var ag=s=="OcnR"?2:iU.Dz.indexOf(O.TxtT.v.TxtT),eo=iU.A8(ag),aC=eo[0],jx=eo[1],e8=aC.A,lb=aC.$,a5=24,bL=0,au,ev;
function jn(h$,bs,jf){return~~(k3*(h$+bs)+8192)&127}var il=new Float32Array(u),j0=new Float32Array(u),j1=new Float32Array(F.buffer.buffer),k3=s=="OcnR"?1/(1+(O.RplS.v-1)*.1):100/O.Scln.v;
if(ag==3)k3*=32/22.2;var ba=Date.now(),cP=k3,bq=1.4/m,di=1.4/Z;if(s=="Txtz"){cP*=1/255;a5=256}for(var G=0;
G<Z;G++){var cV=jn(G,h.y,lb),h7=cV+1&127;for(var j=0;j<m;j++){var R=G*m+j,l2=jn(j,h.x,e8),ew=l2+1&127,dS=0,gH=0,hd=0;
if(s=="Txtz"){dS=a.F.$A(k3*j,k3*G,jx,128,128);gH=a.F.$A(k3*j,k3*G+1,jx,128,128);hd=a.F.$A(k3*j+1,k3*G,jx,128,128)}else{dS=jx[cV*e8+l2];
gH=jx[h7*e8+l2];hd=jx[cV*e8+ew]}il[R]=Math.max(-a5,Math.min((hd-dS)*cP,a5));j0[R]=Math.max(-a5,Math.min((gH-dS)*cP,a5))}}if(s=="Txtz")iU.adR(il,j0,j1,h,6);
else iU.HL(il,j0,j1,h,s=="Txtz"?1:s=="OcnR"?3.5/k3:O.Smth.v);if(s=="Txtz")bL=O.InvT.v?-1:1;else if(s=="Gls"){bL=[1,.4,.5,.5,.5,.5,.5][ag]*(Math.exp(O.Dstr.v*.155)-1);
if(O.InvT.v)bL=-bL}else{bL=.5*(Math.exp(O.RplM.v*.155)-1)}var k7=F.buffer;if(s=="Txtz"){var lm=(2+iU.Gv.indexOf(O.LghD.v.LghD))*Math.PI*.25,cg=Math.cos(lm),a9=Math.sin(lm);
au={x:cg,y:a9,QL:0};cb.Oi(au);ev=O.Rlf.v;ev=ev/4+Math.max(0,(ev-35)*2)}function eF(fs,eh,iu){var jG=a.B.overF(eh,fs,1),h$=(1-iu)*fs+iu*(iu*eh+(1-iu)*jG);
return h$*255}for(var G=0;G<Z;G++)for(var j=0;j<m;j++){var R=G*m+j,cd=R<<2,n=il[R],cm=j0[R],fs={x:1,y:0,QL:n};
cb.Oi(fs);var eh={x:0,y:1,QL:cm};cb.Oi(eh);var gW=cb.aH2(fs,eh);if(s=="Txtz"){var fn=cb.alI(gW,au)*bL,iu=1,W=1;
if(fn<0){W=0;fn=-fn}iu=Math.min(1,fn*ev);k7[cd+0]=~~eF(M.buffer[cd]*(1/255),W,iu);k7[cd+1]=~~eF(M.buffer[cd+1]*(1/255),W,iu);
k7[cd+2]=~~eF(M.buffer[cd+2]*(1/255),W,iu)}else{var hk=bL/gW.QL,jz=~~Math.max(0,Math.min(m-1,j-gW.x*hk)),lh=~~Math.max(0,Math.min(Z-1,G-gW.y*hk)),gz=lh*m+jz<<2;
k7[cd+0]=M.buffer[gz];k7[cd+1]=M.buffer[gz+1];k7[cd+2]=M.buffer[gz+2]}}}if(s=="PntD"){var dL=O.Shrp.v*.4,dm=O.BrsT.v.BrsT,cM={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[dm],l5=Math.round(O.Sz.v*.5);
a.LG.hh=cM[0];a.LG.lp(M.buffer,F.buffer,m,Z,l5,0,[]);var i3=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];i3=a.nG.RN(i3);
var eg=F.buffer.slice(0);a.nG.rI(eg,F.buffer,m,Z,i3);for(var R=0;R<M.buffer.length;R++){var la=F.buffer[R]-eg[R];
F.buffer[R]=Math.max(0,Math.min(255,eg[R]+dL*la))}}if(s=="GlwE"){var ea=F.buffer.slice(0);a.LG.hh=.5;
a.LG.lp(M.buffer,ea,m,Z,O.Smth.v>>>1,0,[]);a.nG.afM(ea,F.buffer,m,Z);a.jO(F.buffer,ea);a.or(ea);a.$j(ea,1);
a.qd.aI6(ea,F.buffer,m,Z,(O.EdgW.v>>>1)*2+1,!0);var iB=O.EdgB.v/10;for(var R=0;R<ea.length;R++){if((R&3)==3)continue;
var jG=F.buffer[R];F.buffer[R]=Math.max(0,Math.min(255,jG*iB))}}if(s=="StnG"){a.st.a26(M.buffer,m,Z,F.buffer,O.ClSz.v,[Math.round(P.o),Math.round(P.R),Math.round(P.X)],O.BrdT.v,f)}if(s=="HlfS"){var j5=O.HlSz.v,hU=j5*2+1,kn=O.Cntr.v,k5=iU.gr.indexOf(O.ScrT.v.ScrT),u=m*Z,a0=u*4,ab=a.j(u),c$=M.buffer,kF=0,a4=0;
iU.Gg(c$,ab);a.er.US(ab,h,j5);var eB=Math.PI/hU,ii=new Float64Array(m),cg=new Float64Array(m),eY=new Float64Array(2*m);
for(var j=0;j<m;j++){var l2=(j-(m>>>1))*eB;ii[j]=l2*l2;cg[j]=Math.cos(l2);var n=j<<1;eY[n]=Math.sin(n*(1/4.5));
eY[n+1]=Math.sin((n+1)*(1/4.5))}for(var G=0;G<Z;G++){var cV=(G-(Z>>>1))*eB,a9=Math.cos(cV),hW=cV*cV;
for(var j=0;j<m;j++){var W=a9;if(k5==0){var i9=.5+Math.sqrt(ii[j]+hW)*4.5;W=eY[~~i9]}else if(k5==1){W=cg[j]*a9}var R=G*m+j,be=ab[R]*(.75+.25*W),iu=c$[(R<<2)+3]*(1/255),jQ=Math.max(0,Math.min(255,~~be));
kF+=jQ*iu,a4+=iu;ab[R]=jQ}}kF/=a4;var iA=128+1.26*(kF-128),iB=.08+.25*Math.abs((128-kF)/128),g0=1+iB*kn;
for(var R=0;R<u;R++){var be=iA+(ab[R]-iA)*g0;ab[R]=Math.max(0,Math.min(255,~~be))}if(kn>46)a.round(ab);
iU.rt(ab,F.buffer,P,y)}for(var R=0;R<M.buffer.length;R+=4)F.buffer[R+3]=M.buffer[R+3]};iU.rt=function(s,M,O,P){var y=s.length,F=O.o,A=O.R,h=O.X,m=P.o,Z=P.R,u=P.X;
for(var R=0;R<y;R++){var f=s[R]*(1/255),U=1-f,C=R<<2;M[C]=~~(F*U+m*f);M[C+1]=~~(A*U+Z*f);M[C+2]=~~(h*U+u*f)}};
iU.A8=function(s){if(s==6)s=2;var M="blocks canvas frosted tinylens brick burlap".split(" ")[s];if(iU.m1==null)iU.m1=[];
if(iU.m1[s]==null){var O,P;if(s==2){P=new gi(0,0,128,128);var y=bW.Jb("AdNs");y.Mnch.v=!0;y.Dstr.v.Dstr="Gsn";
y.Nose.v.val=50;var O=a.j(P.C()*4),F=O.slice(0);a.vK(F.buffer,4286611584);bW.Vj("AdNs",{buffer:F,S:P},y,0,0,{buffer:O,S:P})}else{var A=b_.gy.get("tex/"+M,!0)[0];
P=A.IK;O=new Uint8Array(A.data)}var h=a.j(P.C());a.YT(O,h,0);iU.m1[s]=[P,h]}return iU.m1[s]};iU.HL=function(s,M,O,P,y){if(y<=1){y=Math.round(y);
iU.adR(s,M,O,P,[1,16,4][y]);return}var F=y*.42;if(s){a.er.SO(s,P,F,3)}if(M){a.er.SO(M,P,F,3)}};iU.adR=function(s,M,O,P,y){var F=a.nG.RN([1,2,1,2,y,2,1,2,1]);
if(s){O.set(s);a.nG.a4l(s,O,P.A,P.$,F);s.set(O)}if(M){O.set(M);a.nG.a4l(M,O,P.A,P.$,F);M.set(O)}};iU.mH=function(s){if(s==null)return new j6(0,0);
var M=0,O=s.GEfs?s.GEfs.v:[{v:s}];for(var R=0;R<O.length;R++){var P=O[R].v,F=1e4;if(P.GELv&&!P.GELv.v)continue;
var y=P.GEfk.v.GEft;if(y=="GlwE"||y=="Phtc"||y=="BsRl"||y=="PlsW"||y=="Chrm"||y=="Gls"||y=="OcnR"||y=="InkO")F=0;
M=Math.max(M,F)}return new j6(M,M)};iU.azp=function(s){var M=[0,0,0,0,0,0,0,0,0,0,0,0,0],O=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][s];
for(var R=0;R<13;R++){var P=R-6;M[R]=1/(O*Math.sqrt(2*Math.PI))*Math.exp(-.5*(P/O)*(P/O))}return M};
iU.alQ=function(s,M,O,P,y){var F=iU.azp(y),A=6,h=13;for(var m=0;m<P;m++)for(var Z=0;Z<O;Z++){var u=m*O+Z<<1,f=0,U=0;
for(var R=0;R<h;R++){var C=Z+R-A,H=C<0?0:C>=O?O-1:C,t=(m*O+H)*2,X=F[R];f+=X*s[t];U+=X*s[t+1]}M[u]=f;
M[u+1]=U}};iU.a5o=function(s,M,O,P,y){var F=iU.azp(y),A=6,h=13;for(var m=0;m<P;m++)for(var Z=0;Z<O;Z++){var u=m*O+Z<<1,f=0,U=0;
for(var R=0;R<h;R++){var C=m+R-A,H=C<0?0:C>=P?P-1:C,t=(H*O+Z)*2,X=F[R];f+=X*s[t];U+=X*s[t+1]}M[u]=f;
M[u+1]=U}};function h0(){}h0.P1=[2,5,5,7,4,4];h0.n$="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
h0.iQ="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
h0.lq=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
h0.YV=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
h0.KL=function(s){if(s=="passThrough")return"pass";return h0.n$[h0.iQ.indexOf(s)]};h0.Qz=function(s){if(s=="pass")return"passThrough";
return h0.iQ[h0.n$.indexOf(s)]};h0.getName=function(s){return h0.lq[h0.n$.indexOf(s)]};function ad(){this.S=null;
this.buffer=null;this.mX="norm";this.N_=255;this.nN=!1;this.Cj=!1;this.Xa=0;this.wC=0;this.P3=!0;this.a8=[];
for(var R=0;R<10;R++)this.a8.push(0,0,255,255);this.name=null;this.add={};this.jy=null;this.os=null;
this.J={list:[],Y:[],UO:0,volume:1};this.$E=null;this.Xw=null;this.amQ=30;this.Wl=null;this.aF3=null;
this.aDg=null;this.a96=null;this.KV=0;this.eq=!1;this.na=null;this.aD=new ad.Lg}ad.Lg=function(){this.bs=!0;
this.gC=!0;this.mU=a.j(0);this.ari=a.j(0);this.MD=null;this.ZB={};this.a7$=null;this.aev=null;this.Si=null;
this.rs=null;this.y3=null;this.Uz=!1};ad.Lg.prototype.am8=function(){this.bs=null;this.gC=!1;this.MD=null;
this.Uz=ci.Qh};ad.Lg.prototype.a6_=function(){cb.aJw(this.ZB);this.mU=a.j(0);this.ari=a.j(0);if(this.rs)this.rs.delete();
if(this.y3)this.y3.delete();this.rs=null;this.y3=null};ad.prototype.vw=function(s){if(s==null)s=this.S.v();
if(this.aD.MD==null)this.aD.MD=s;else this.aD.MD=this.aD.MD.v8(s)};ad.prototype.ES=function(){return this.add.lsct==dU.l9||this.add.lsct==dU.aY};
ad.prototype.tE=function(){var s=this.add;return s.SoCo!=null||s.GdFl!=null||s.PtFl!=null||s.vstl!=null};
ad.prototype.a9m=function(){var s=this.add.lmfx;if(s==null)return;var M=["GrFl","patternFill"];for(var R=0;
R<M.length;R++){var O=aV.e1[aV.order.indexOf(M[R])],P=s[O].v;if(P.length==0)continue;for(var y=0;y<P.length;
y++){var F=P[y].v;if(F.enab.v&&(F.Algn==null||!F.Algn.v))this.aD.gC=!0}}};ad.prototype.agG=function(){var s=this.$E,M=this.aD.bs;
if(this.tE())s=this.Bl();if(!ci.Qh)return s.B3();if(this.aD.y3==null||M||ci.Qh!=this.aD.Uz){var O=s.Gt(),P=s.B3(),y=this.aD.y3,F=a.$i(P),A=null;
if(M!=!0&&M!=null){A=M.v();A.offset(-O.x,-O.y)}if(y==null||y.A!=O.A||y.$!=O.$||y.depth!=F){y=this.aD.y3=new ci.GZ(O.A,O.$,F);
A=null}y.set(P,A)}return this.aD.y3};ad.prototype.aix=function(s){var M=this.S,O=this.buffer;if(!ci.Qh){var P=this.Fc(s,O,M);
if(P){O=P.tG;M=P.S}return O}if(this.aD.MD!=null||ci.Qh!=this.aD.Uz){var P=this.Fc(s,O,M);if(P){O=P.tG;
M=P.S}var y=M;if(ci.Qh!=this.aD.Uz||this.aD.rs==null||this.aD.rs.A!=y.A||this.aD.rs.$!=y.$||this.aD.rs.depth!=s.depth){if(this.aD.rs)this.aD.rs.delete();
this.aD.rs=new ci.po(y.A,y.$,s.depth);this.aD.rs.set(O)}else{var F=this.aD.MD.v();F.offset(-M.x,-M.y);
this.aD.rs.set(O,F)}}return this.aD.rs};ad.prototype.Xj=function(){var s=this.$E;if(this.tE())s=this.Bl();
return s!=null&&s.isEnabled&&(!s.S.g3()||s.sl()!=255)};ad.prototype.Fc=function(s,M,O){if(this.o7()){var P=this.UU(s);
if(P.$E&&P.$E.isEnabled&&(!P.$E.S.g3()||P.$E.color==0)){var y=this.add.SoLd.filterFX.v;P.$E.vR=y.filterMaskDensity?y.filterMaskDensity.v:255;
P.$E.CN=y.filterMaskFeather?y.filterMaskFeather.v:0;var F=P.buffer,A=P.S;if(A.C()<O.C()){A=O;F=a.j(A.C()*4,s.depth);
a.FP(P.buffer,P.S,F,A)}var h=P.$E.mw(O);a.or(h);M=M.slice(0);a.B.VB(F,A,M,O,h,O,0,O,1);return{tG:M,S:O}}}};
ad.prototype.a7N=function(){var s={K4:!1,oA:!1,zU:0,af0:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)s.oA=!0;
if(this.Bl()&&this.Bl().isEnabled)s.K4=!0;if(s.K4&&s.oA){s.zU=this.Bl().S.x-this.add.vmsk.Bl().S.x;s.af0=this.Bl().S.y-this.add.vmsk.Bl().S.y}return s};
ad.prototype.uH=function(s,M){if(dc!=0)return;if(M&&this.Bl().CN!=0){M=M.v();var O=Math.round(this.Bl().CN*2.4);
M.rX(O,O)}var P=!1;if(this.add.lsct==dU.Bs)return;var y=this,F=this.Bl()!=null&&this.Bl().oy,A=this.add.vmsk!=null&&this.add.vmsk.oy,h=this.a7N(),m=JSON.stringify(h)!=this.aD.a7$||h.K4&&F||h.oA&&A;
if(m){if(h.oA){var Z=this.add.vmsk.Bl(null,s.depth);if(h.K4){this.$E=this.Bl().u2(Z);this.aD.aev=new j6(this.$E.S.x-this.Bl().S.x,this.$E.S.y-this.Bl().S.y)}else this.$E=Z}if(this.$E)P=!0;
if(this.$E)this.aD.Si=new j6(this.S.x-this.$E.S.x,this.S.y-this.$E.S.y);if(h.K4)this.Bl().oy=!1;if(h.oA)this.add.vmsk.oy=!1;
this.vw(M)}else{if(h.K4&&h.oA){this.$E.S.x=this.Bl().S.x+this.aD.aev.x;this.$E.S.y=this.Bl().S.y+this.aD.aev.y}}if(y.tE()){this.sK(s)}if(y.Lv()){var u;
if(this.$E)u=new j6(this.S.x-this.$E.S.x,this.S.y-this.$E.S.y);if(this.$E&&this.$E.isEnabled&&(this.aD.Si==null||!u.s0(this.aD.Si))){this.aD.Si=u;
this.vw(M);P=!0}}if(ak.get(y.add)!=null)P=!0;if(P){var f=this.aD.bs;if(M&&f&&f!=!0)f=f.v8(M);else f=M?M:!0;
this.aD.bs=f}this.aD.a7$=JSON.stringify(h)};ad.prototype.sK=function(s){if(dc!=0)return;var M=this,O=M.add.vstk,P=new gi(0,0,s.A,s.$),y,F=M.add.vmsk?this.add.vmsk.Bl(null,s.depth):null,m=!0,f;
if(F&&F.isEnabled&&F.sl()==0)y=F.Gt().v();else y=P;var A=M.Bl();if(A&&A.isEnabled&&A.sl()==0)y=y.OK(M.$E.Gt());
var h=F&&O;if(O&&(!O.strokeEnabled.v||O.strokeStyleLineWidth.v.val==0))h=!1;if(O&&!O.fillEnabled.v&&h)m=!1;
var Z=a.j(y.C()*4,s.depth);if(m){if(M.add.SoCo)cb.ll(Z,M.add.SoCo.Clr.v);if(M.add.GdFl){var u=F&&F.color==0?a.z._E(M.add.vmsk.u,null,!0):null;
cb.QS(M.add.GdFl,Z,y,s,null,u)}if(M.add.PtFl)cb.g1(M.add.PtFl,Z,y,s.add.Patt,M.add.fxrp)}if(h)f=aV.To.UK.indexOf(O.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(F){var U=F.vR;if(h)F.vR=255;var C=a.j(y.C(),s.depth);if(F.sl()!=0)C.fill(a.Cs(s.depth)*F.sl()/255);
if(F&&F.isEnabled){var H=F.Gt(),t=F.B3();if(H.s0(y))a.jO(t,C);else a.TT(t,H,C,y)}if(h&&f==2){}else{if(M.add.SoCo&&m){a.GS(C,Z,3)}else a._5(C,y,Z,y)}if(h)F.vR=U}M.buffer=Z;
M.S=y;if(h){var X=O.strokeStyleContent.v,Q=aV.To.hF.indexOf(X.classID),D=this.add.vmsk.Bl(O,s.depth);
if(f!=0&&!M.S.s0(P))M.extend(M.S.v8(D.Gt()));var U=D.vR;D.vR=255;var L=D.mw(M.S);D.vR=U;if(D.color==255)a.or(L);
var E=a.j(M.S.C()*4,s.depth);if(Q==0)cb.ll(E,X.Clr.v);if(Q==1)cb.QS(X,E,M.S,s,null,F.color==0?F.S:null);
if(Q==2)cb.g1(X,E,M.S,s.add.Patt,M.add.fxrp);var _=O.strokeStyleOpacity.v.val/100;if(_!=1)a.zr(L,_);
if(D.color==255)f=2-f;if(f<2){a.B.VB(E,M.S,M.buffer,M.S,L,M.S,255,M.S,1,!1);if(f==0)a.QV(C,M.buffer)}if(f==2){a.QV(L,E);
a.or(C);a.B.VB(E,M.S,M.buffer,M.S,C,y,255,M.S,1,!1);a.or(C)}if(D.vR!=255){var S=E.slice(0);a.$j(S,1);
a.B.qZ("norm",S,M.S,M.buffer,M.S,M.S,1-D.vR/255)}U=F.vR;F.vR=255;this.ari=F.mw(M.S);F.vR=U}this.vw()};
ad.prototype.VN=function(s,M,O,P,y){var F=this,A=F.add.SoLd.Idnt.v,h=F.add.SoLd,m=$.TR.NI(h.nonAffineTransform),Z=a.b.hG(m),u=s.vP(A,h.Crop?h.Crop.v:null,[Z.A,Z.$],h.Impr.v.classID,O),g=null;
if(u==null)return;var f=u.EV;if(!u.aCm){u.aCm=!0;a.aj6(f,s.depth);var U=s.s5();if(U||u.Uh){if(U&&u.Uh&&a.s0(U[0],u.Uh)){}else{var C=17;
if(u.Uh){var H=ICC.R(u.Uh.buffer),t=ICC.U.sampleLUT(H,C);for(var R=0;R<f.length;R+=2){var X=f[R];ICC.U.applyLUT(t,C,X,X)}}if(U){var H=U[1],t=ICC.U.sampleLUT(H,C,!0);
for(var R=0;R<f.length;R+=2){var X=f[R];ICC.U.applyLUT(t,C,X,X)}}}}}if(y&&a.p$(f[0],0))return;if(h.Sz){h.Sz.v.Wdth.v=u.zL.A;
h.Sz.v.Hght.v=u.zL.$}if(dc!=0)return;var Q=u.FR==null?h.Rslt.v.val:u.FR,D=h.quiltWarp.v;if(a.Z6.Gn(D))D=null;
var L=a.F.da(m,u.zL);if(D){var Z=a.b.hG(a.Z6.Kx(D)[3]),E=Z.x,_=Z.y,S=1/Z.A,W=1/Z.$;L=a.F.da(m);L=a.F.u2(L,[S,0,-E*S,0,W,-_*W,0,0])}if(!M&&!F.o7()&&D==null){var x=s.U.indexOf(F),V=ad.eh(F);
for(var R=0;R<x;R++){var b=s.U[R];if(b.add.SoLd&&!b.o7()&&ad.eh(b)[0]==V[0]){var N=ad.eh(b);g={buffer:b.buffer.slice(0),S:b.S.v()};
g.S.offset(Math.round(V[1]-N[1]),Math.round(V[2]-N[2]));break}}}var J=window.locStor.getItem("__itp");
J=J==null?1:J;if(g==null)g=$.TR.nZ(f,M?0:J,L,D,null,null,M);if(g==null){F.buffer=a.j(0,s.depth);F.S=new gi}else if(F.o7()){var K=F.UU(s);
if(P){K.buffer=a.Gp(K.buffer,s.depth);K.buffer.fill(0);a.FP(g.buffer,g.S,K.buffer,K.S)}else{K.buffer=g.buffer;
K.S=g.S.v()}this.zJ(s,M)}else{F.buffer=g.buffer;F.S=g.S}F.uH(s);F.vw();s.vw()};ad.eh=function(s){var M=s.add.SoLd,O=M.Idnt.v,P=$.TR.NI(M.nonAffineTransform),y=a.F.da(P,new gi(0,0,1e3,1e3)),F=M.quiltWarp.v;
if(a.Z6.Gn(F))F=null;return[[O,y[0],y[1],y[3],y[4],y[6],y[7],F==null].join(":"),y[2],y[5]]};ad.prototype.zJ=function(s,M){if(M==null)M=!1;
var O=this.UU(s),P=this.add.SoLd.filterFX.v,y=bW.aIf(P),F=new gi(0,0,s.A,s.$),A=O.S.v8(F),h=O.S.v();
h.rX(y.x,y.y);var m={buffer:null,S:A.OK(h)};m.buffer=a.j(m.S.C()*4,s.depth);a.FP(O.buffer,O.S,m.buffer,m.S);
if(P.enab.v&&M==!1){var Z=P.filterFXList.v;for(var R=0;R<Z.length;R++){var u=Z[R].v;if(u.enab.v==!1)continue;
var f=u.blendOptions.v,U=h0.KL(f.Md.v.BlnM),C=f.Opct.v.val/100,H=a.wv.sl(u.FrgC.v),t=a.wv.sl(u.BckC.v),X=bW.zX(u),Q={buffer:a.j(m.buffer.length,s.depth),S:m.S.v()},D=u.Fltr?u.Fltr.v:null;
if(ak.gf[X]!=null){var L=ak.gf[X],E=ak.QC(L,D);if(E)ak.Vj(E,m.buffer,Q.buffer,m.S)}else bW.Vj(X,m,D,H,t,Q,[s.add.lnk2?s.add.lnk2:[],this.Bl(),s.dj]);
if(U=="norm"&&C==1)m=Q;else if(U=="norm"){a.B.VB(Q.buffer,Q.S,m.buffer,m.S,null,null,null,m.S,C)}else{a.B.qZ(U,Q.buffer,Q.S,m.buffer,m.S,m.S,C)}}}this.S=m.S;
this.buffer=m.buffer;this.FW();this.vw();s.vw()};ad.prototype.LY=function(s,M,O){this.na=this.aLu(s,M,O)};
ad.prototype.Ff=function(s,M){var O=this.aLu(s,M,!0);if(O==null)return null;var P={iu:O.KV,OC:O.bC,S:O.iU};
if(P.iu==1||P.iu==3){var y=P.S,F=a.j(y.A*y.$*4,a.$i(s.h.N));a.GS(P.OC,F,0);a.GS(P.OC,F,1);a.GS(P.OC,F,2);
a.aJ0(s.h.N,s.h.S,F,y);P.OC=F}return P};ad.prototype.aLu=function(s,M,O){var P,y,F,A,h,m,Z;if(this.KV<=0){var u=a.j(this.S.C(),s.depth);
a.YT(this.buffer,u,3);P=a.Ns.dC(M,{N:u,S:this.S},3);if(P==null)return null;var f=a.xY(P.N,P.S);A=P.S.v();
h=this.S.v();y=a.j(A.C()*4,s.depth);a.FP(this.buffer,h,y,A);a.GS(P.N,y,3);F=this.buffer.slice(0);if(!O){var U=M.N.slice(0);
a.or(U);a._5(U,M.S,F,h)}m=this.buffer.slice(0);Z=this.S.v()}if(this.KV==1||this.KV==3){var C=this.KV==1?this.Bl():this.UU(s).$E;
A=M.S.v();h=C.S.v();y=C.c2(A);var F=C.N.slice(0);if(!O){var H=a.j(A.C(),s.depth);if(C.color==255)H.fill(a.Cs(s.depth));
a.B.On(H,A,F,h,M.N,A,1)}m=C.N.slice(0);Z=C.S.v()}return{KV:this.KV,bC:y,iU:A,rC:F,$l:h,cy:m,aAy:Z}};
ad.prototype.Pm=function(s,M){var O=this.na;if(O.KV==0){this.S=O.aAy;this.buffer=O.cy;this.vw()}if(O.KV==1||O.KV==3){var P=O.KV==1?this.Bl():this.UU(s).$E;
P.N=O.cy;P.S=O.aAy;if(this.KV==1){P.oy=!0;this.uH(s)}if(this.KV==3)this.vw()}this.na=M};ad.prototype.ih=function(s,M){var O=s.depth;
if(this.KV<=0&&M.S.s0(this.S)){var P=a.j(this.S.C(),O);a.YT(this.buffer,P,3);if(a.s0(s.h.N,P)){var y=this.S,F=this.buffer;
this.na={KV:this.KV,bC:F.slice(0),iU:y.v(),rC:a.j(0),$l:new gi,cy:a.j(0),aAy:new gi};return!0}}var A=this.na;
if(A==null)return!1;if(A.KV!=this.KV)return!1;if(!M.S.s0(A.iU))return!1;var h=A.$l.v8(A.iU);if(A.KV<=0){if(!h.s0(this.S))return!1;
var m=a.j(A.bC.length>>2,O);a.YT(A.bC,m,3);if(!a.s0(M.N,m))return!1;var Z=a.j(h.C()*4,O);a.FP(A.rC,A.$l,Z,h);
a.B.qZ("norm",A.bC,A.iU,Z,h,h,1);return a.s0(Z,this.buffer)}if(A.KV==1||A.KV==3){var u=A.KV==1?this.Bl():this.UU(s).$E;
if(!h.s0(u.S))return!1;var f=a.j(h.C(),O);f.fill(u.color*a.Cs(O)/255);a.TT(A.rC,A.$l,f,h);a.B.On(A.bC,A.iU,f,h,M.N,h,1);
return a.s0(f,u.N)}};ad.prototype.u8=function(s,M,O,P){var y=this.na;y.iU.offset(M,O);var F=y.$l.v8(y.iU);
if(y.KV<=0){var A=a.j(F.C()*4,s.depth);a.FP(y.rC,y.$l,A,F);a.B.qZ("norm",y.bC,y.iU,A,F,F,1);this.buffer=A;
this.S=F;this.vw()}else{var h=this.KV==1?this.Bl():this.UU(s).$E,m=a.j(F.C());m.fill(h.color);a.TT(y.rC,y.$l,m,F);
a.B.On(y.bC,y.iU,m,F,P.N,F,1);h.N=m;h.S=F.v();if(this.KV==1){h.oy=!0;this.uH(s)}if(this.KV==3)this.vw()}};
ad.prototype.aiN=function(s){var M=[-1,0,1,2];if(s)M.push(3);if(this.$E)M.push(-2);if(this.Xw)M.push(-3);
return M};ad.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};ad.prototype.jj=function(hS){this.add.luni=this.name=hS};
ad.prototype.IT=function(s){var M=this.add.lnsr,O=this.add.TySh;if(M=="rend"&&O){var P=iP.Rx(O.nA);this.jj(P.slice(0,P.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
ad.prototype.CD=function(){return(this.Xa&1<<1)==0};ad.prototype.Lv=function(){return(this.Xa&1<<4)==0};
ad.prototype.Yi=function(){return(this.Xa&1<<5)!=0};ad.prototype.abH=function(){var s=this;if(s.add.lnsr!="bgnd"){s.add.lnsr="bgnd";
s.jj("Background");s.add.lspf=1<<2}};ad.prototype.awX=function(){var s=this;if(s.add.lnsr=="bgnd"){delete s.add.lnsr;
s.jj("Layer 0");s.add.lspf=0}};ad.prototype.T2=function(s){var M=this.add.lspf;return M==null?!1:(M>>s&1)!=0};
ad.prototype.x1=function(s){if(s&&!this.CD())this.Xa-=2;if(!s&&this.CD())this.Xa+=2};ad.prototype.WB=function(){var s=this.add.lmfx;
if(s==null)return!1;for(var M in s){if(M=="masterFXSwitch")continue;if(M=="Scl")continue;if(M=="classID")continue;
if(s[M].v.length>0)return!0}return!1};ad.prototype.o7=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
ad.prototype.v5=function(){var s=this.add.lmfx;if(s==null)return!1;if(!s.masterFXSwitch.v)return!1;for(var M in s){if(M=="masterFXSwitch")continue;
if(M=="Scl")continue;if(M=="classID")continue;var O=s[M].v;for(var R=0;R<O.length;R++)if(O[R].v.enab.v)return!0}return!1};
ad.prototype.ay=function(){var s=this,M=s.add.SoLd,O=s.add.TySh,P=s.add.vmsk,y=[];if(M)y=$.TR.NI(M.nonAffineTransform);
if(O&&this.aD.H_){y=a.b.hC(s.aD.H_).L;a.b.M(y,O.M,y)}if(P)y=a.b.hC(P.ajy()).L;return y};ad.prototype.Gt=function(s,M,O,P){if(dc==1)return a.b.hG(this.ay());
var y=new gi,F=this.Ob(s,O,P);if(F.indexOf(0)!=-1)y=y.v8(this.S);if(F.indexOf(1)!=-1){var A=this.Bl(),h=A.Gt();
y=O&&A.sl()==0?y.g3()?h:y.OK(h):y.v8(h)}if(F.indexOf(2)!=-1){var m=this.add.vmsk,Z=this.add.vstk,u;if(M){if(m.MO.length>1){var f=a.z.eJ(m.u,null,m.MO);
u=a.b.hG(f);if(u.g3())u=null}if(u==null)u=a.z._E(m.u,m.Y.length!=0?m.Y:null)}else u=a.z._E(m.u);if(!P&&Z&&Z.strokeEnabled.v){var U=Z.strokeStyleLineAlignment.v.strokeStyleLineAlignment,C=Z.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(U!="strokeStyleAlignInside"){var H=Z.strokeStyleLineWidth.v.val;if(C=="strokeStyleMiterJoin")u=new gi(0,0,s.A,s.$);
else u.rX(H,H)}}if(!P&&m.CN!=0)u.rX(m.CN*2.2,m.CN*2.2);y=y.v8(u)}if(F.indexOf(3)!=-1)y=y.v8(this.UU(s).$E.Gt());
if(F.length==0&&this.tE())y=P?new gi(0,0,0,0):new gi(0,0,s.A,s.$);return y};ad.prototype.PG=function(){var s=this.add.artb,M=s.artboardBackgroundType.v,O=0;
if(M==1)O=4294967295;else if(M==2)O=4278190080;else if(M==3)O=0;else if(M==4){O=s.Clr.v;O=255<<24|O.Bl.v<<16|O.Grn.v<<8|O.Rd.v}else throw M;
return O};ad.prototype.Kj=function(){var s=this.add.artb.artboardRect.v,M=s.Btom.v,O=s.Left.v,P=s.Rght.v,top=s.Top.v;
return new gi(O,top,P-O,M-top)};ad.prototype.Y3=function(s){var M=ad.Xo(s);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=M};ad.Xo=function(s){var M={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
M.Btom.v=s.y+s.$;M.Left.v=s.x;M.Rght.v=s.x+s.A;M.Top.v=s.y;return M};ad.prototype.Ob=function(s,M,O){var P=[],y=this;
if(!M&&y.eq&&O){P.push(2)}else if(y.KV<=0||M){if(y.Lv()){if(dc==1&&y.add.TySh)P.push(0);else if(dc==1&&y.add.SoLd)P.push(0);
else if(!this.S.g3()||y.add.SoLd||y.add.TySh)P.push(0)}if(y.Bl()&&!y.Bl().S.g3())if(y.Bl().CG||M)P.push(1);
if(y.add.vmsk)if(y.add.vmsk.CG||M)P.push(2);if(y.o7()&&y.UU(s).$E&&!y.UU(s).$E.S.g3())P.push(3)}else if(y.KV==1){P.push(1);
if(y.Bl().CG&&!y.Bl().S.g3()){if(y.Lv())if(!this.S.g3())P.push(0);if(y.add.vmsk)if(y.add.vmsk.CG)P.push(2)}}else if(y.KV==3&&!y.UU(s).$E.S.g3())P.push(3);
if(y.add.artb&&P.indexOf(0)==-1)P.push(0);P.sort();return P};ad.prototype.Bl=function(){var s=this;return s.Xw?s.Xw:s.add.vmsk&&s.add.vmsk.isEnabled?null:s.$E};
ad.prototype.UU=function(s){if(this.add.SoLd==null)return null;var M=this.add.SoLd.placed.v,O=s.add.FEid;
if(O==null)return null;for(var R=0;R<O.length;R++)if(O[R].id==M)return O[R];return null};ad.prototype.extend=function(s){a.aGi(this,s)};
ad.prototype.awf=function(s,M,O){var P=s.v();if(this.v5()){var y=this.add.lmfx,F=M.root.vt(M.U.indexOf(this)),A=y.gradientFillMulti.v,h=!1;
for(var R=0;R<A.length;R++)if(A[R].v.enab.v&&A[R].v.Algn.v)h=!0;if(h)P=P.v8(F.Gt(M,!1));var m=cb.ajB(this.add.lmfx,M,O);
P.offset(m.x,m.y);P.A+=m.A;P.$+=m.$}return P};ad.prototype.FW=function(){if(this.Lv())a.Dq(this);var s=this.Bl();
if(s)s.FW()};ad.prototype.v=function(){var s=new ad;s.S=this.S.v();s.buffer=this.buffer.slice(0);s.mX=this.mX;
s.N_=this.N_;s.nN=this.nN;s.Xa=this.Xa;s.name=this.name;s.a8=this.a8.slice(0);s.J=a.G(this.J);if(this.$E)s.$E=this.$E.v();
if(this.Xw)s.Xw=this.Xw.v();for(var M in this.add)s.add[M]=bG.v(M,this.add[M]);return s};ad.prototype.Rk=function(s){var M=this;
if(M.add.TySh)delete M.add.TySh;if(M.add.SoLd){var O=this.Fc(s,this.buffer,this.S);if(O){this.buffer=O.tG;
this.S=O.S;this.vw()}delete M.add.SoLd}if(M.add.SoCo||M.add.GdFl||M.add.PtFl){if(M.add.vogk)delete M.add.vogk;
if(M.add.SoCo)delete M.add.SoCo;if(M.add.GdFl)delete M.add.GdFl;if(M.add.PtFl)delete M.add.PtFl;if(M.add.vmsk){console.log(M.Xw,M.$E);
delete M.add.vmsk;if(M.Xw==null&&M.$E)delete M.$E;else if(M.Xw!=null&&M.$E!=null){M.$E=M.Xw;delete M.Xw}}}if(!M.ES()&&ak.get(M.add)==null&&!this.Lv())this.Xa-=16};
ad.prototype.Zm=function(s){var M=255,O=0;if(s==2){var P=this.add.SoLd.filterFX.v;if(P.filterMaskDensity)M=P.filterMaskDensity.v;
if(P.filterMaskFeather)O=P.filterMaskFeather.v}else{var y=s==0?this.Bl():this.add.vmsk;M=y.vR;O=y.CN}return{B6:s,zK:M,MI:O}};
ad.prototype.aqs=function(s){if(s.B6==2){var M=this.add.SoLd.filterFX.v;if(s.zK==255)delete M.filterMaskDensity;
else M.filterMaskDensity={t:"long",v:s.zK};if(s.MI==0)delete M.filterMaskFeather;else M.filterMaskFeather={t:"doub",v:s.MI};
this.vw()}else{var O=s.B6==0?this.Bl():this.add.vmsk;O.vR=s.zK;O.CN=s.MI;O.oy=!0}};ad.prototype.$k=function(){var s=this,M=s.add.vmsk;
if(M==null)return;s.add.vogk=a.cV.aoC(M.u)};ad.$k=function(s){var M=[],O=a.z._i(s);for(var P=0;P<O;P++)M.push(a.cV.li());
return M};var dU={xu:0,l9:1,aY:2,Bs:3};ad.OL=function(s){this.name="Mask";this.H7=!1;this.mY={o:255,R:0,X:0};
this.SU=50;this.VK=0;this.color=255;this.CG=!0;this.isEnabled=!0;this.hU=!1;this.vR=255;this.CN=0;this.S=new gi;
this.N=a.j(0,s);this.Re=null;this.aHx=null;this.oy=!0};ad.OL.prototype.u2=function(s){if(!this.isEnabled)return s;
var M=new ad.OL;M.color=Math.round(this.sl()*s.sl()/255);if(this.sl()==0&&s.sl()==0)M.S=this.Gt().OK(s.Gt());
else if(s.sl()==0)M.S=s.Gt().v();else if(this.sl()==0)M.S=this.Gt().v();else M.S=this.Gt().v8(s.Gt());
M.N=this.mw(M.S);M.vR=255;M.CN=0;var O=s.mw(M.S);a.aJ6(O,M.S,M.N,M.S);return M};ad.OL.prototype.Gt=function(){if(this.CN==0)return this.S;
var s=Math.ceil(this.CN*2.2),M=this.S.v();if(M.y==0){if(M.x==0)M.A+=s;else M.rX(s,0);M.$+=s}else M.rX(s,s);
return M};ad.OL.prototype.B3=function(){if(this.CN==0&&this.vR==255)return this.N;if(this.CN==0){var s=this.N.slice(0);
a.or(s);a.zr(s,this.vR/255);a.or(s);return s}var M=this.Gt(),s=this.c2(M);a.er.SO(s,M,this.CN);if(this.vR!=255){a.or(s);
a.zr(s,this.vR/255);a.or(s)}return s};ad.OL.prototype.sl=function(){return Math.round(255-(255-this.color)*(this.vR/255))};
ad.OL.prototype.extend=function(s){a.extend(this,s,this.color/255)};ad.OL.prototype.FW=function(){if(this.color==255)a.or(this.N);
a.FW(this);if(this.color==255)a.or(this.N)};ad.OL.prototype.v=function(){var s=new ad.OL;s.name=this.name;
s.H7=this.H7;s.mY=this.mY;s.SU=this.SU;s.VK=this.VK;s.color=this.color;s.CG=this.CG;s.isEnabled=this.isEnabled;
s.hU=this.hU;s.vR=this.vR;s.CN=this.CN;s.S=this.S.v();s.N=this.N.slice(0);return s};ad.OL.prototype.c2=function(s,M){var O=a.$i(this.N);
if(M==null)M=a.j(s.C(),O);M.fill(this.color*a.Cs(O)/255);a.TT(this.N,this.S,M,s);return M};ad.OL.prototype.mw=function(s,M){var O=this.Gt(),P=this.B3(),y=a.$i(P);
if(M==null)M=a.j(s.C(),y);M.fill(this.sl()*a.Cs(y)/255);a.TT(P,O,M,s);return M};ad.Vp=function(){this.CG=!0;
this.isEnabled=!0;this.vR=255;this.CN=0;this.YW=0;this.gW=1;this.u=[{I:6},{I:8,all:0}];this.Dx=[-3,-3];
this.l_=!1;this.Xw=null;this.oy=!0;this.Y=[];this.MO=[]};ad.Vp.prototype.ajy=function(s){var M=ad.Vp.X4(this.u),O=new kp;
if(s)O.rotate(-this.YW);a.z.R7(M,O);return a.z._E(M)};ad.Vp.prototype.Zq=function(){var s=this.ajy(!0),M=a.b.hC(s).L,O=new kp;
O.rotate(this.YW);a.b.M(M,O,M);return M};ad.Vp.prototype.offset=function(s,M){this.Xw=this.Bl();a.z.R7(this.u,new kp(1,0,0,1,s,M));
this.Xw.S.offset(s,M)};ad.Vp.prototype.Bl=function(s,M){if(!this.oy&&this.Xw&&s==null){this.Xw.isEnabled=this.isEnabled;
return this.Xw}var O=this.u,P=a.z._E(O),y="strokeStyleLineAlignment",F="strokeStyleLineJoinType";if(P.C()>2e4*2e4)P=new gi(0,0,100,100);
if(s&&s[y].v[y]!="strokeStyleAlignInside"){var A=1;if(s[F].v[F]=="strokeStyleMiterJoin"){var h=a.z.aaX(O),m=h/2,Z=Math.sin(m),u=Math.cos(m);
u/=Z;Z=1;var A=Math.sqrt(u*u+Z*Z);if(isNaN(A)||A<1)A=1}A*=s[y].v[y]=="strokeStyleAlignOutside"?1:.5;
var f=Math.ceil(s.strokeStyleLineWidth.v.val*A);f=Math.min(f,600);P.rX(f,f)}P=a.b.An(P);var U=new ad.OL;
U.color=a.z.wH(O)?0:255;U.CG=this.CG;U.isEnabled=this.isEnabled;U.hU=!0;U.S=P;U.vR=this.vR;U.CN=this.CN;
U.N=a.j(U.S.C());if(!P.g3())a.z.aEc(O,U.N,U.S,s);if(M!=null&&M!=8)U.N=a.Gp(U.N,M);if(s==null){this.Xw=U;
this.oy=!1}return U};ad.Vp.prototype.v=function(){var s=new ad.Vp;s.CG=this.CG;s.isEnabled=this.isEnabled;
s.vR=this.vR;s.CN=this.CN;s.YW=this.YW;s.gW=this.gW;s.u=ad.Vp.X4(this.u);s.Dx=this.Dx.slice(0);s.l_=this.l_;
s.Y=this.Y.slice(0);s.MO=this.MO.slice(0);return s};ad.Vp.prototype.concat=function(s){var M=s.u.slice(2);
if(M.length==0)return;M[0].VF=3;this.u=this.u.concat(M)};ad.Vp.X4=function(s){var M=[];for(var R=0;R<s.length;
R++){var O=s[R];if(O.I>5||O.I==0||O.I==3)M.push(a.G(O));else M.push({I:O.I,Rb:O.Rb.v(),nr:O.nr.v(),XO:O.XO.v()})}return M};
ad.Vp.aGF=function(s,M,O){if(s.length!=M.length)return!1;for(var R=2;R<s.length;R++){var P=s[R],y=M[R];
if(P.I!=y.I)return!1;if(P.I==0||P.I==3){if(P.length!=y.length||!O&&P.VF!=y.VF)return!1}else if(!P.Rb.s0(y.Rb)||!P.nr.s0(y.nr)||!P.XO.s0(y.XO))return!1}return!0};
ad.Vp.prototype.atf=function(){var s=this.u;for(var R=3;R<s.length;R++)if(s[R].I==0||s[R].I==3)s[R].VF=-1};
ad.Dl=function(){this.I=null;this.mV=2;this.Xh=null;this.Zp="";this.tn="";this.kx="";this.open=0;this.raw=null;
this.EV=null;this.aAd="none";this.Jf=!1;this.FR=null;this.Uh=null;this.aCm=!1;this.zL=null};ad.Dl.prototype.v=function(){var s=new ad.Dl;
s.I=this.I;s.mV=this.mV;s.Xh=this.Xh;s.Zp=this.Zp;s.tn=this.tn;s.kx=this.kx;s.open=this.open;s.raw=new Uint8Array(this.raw.buffer.slice(0));
return s};ad.Dl.prototype.Ta=function(s,M,O,P,y){if(O==null)O="none";var F=this,A=b_.WG(F.raw.buffer),h=A=="svg"||A=="pdf"||A=="ai";
if(F.EV){var m=M&&h&&Math.max(F.EV[1].A,F.EV[1].$)<Math.max(M[0],M[1]);if(!m&&O==this.aAd&&!F.Jf)return}this.aAd=O;
if(!h)s=0;if(A==null){alert("Unsupported format: "+c.Db(F.raw,0,4));return null}var Z=b_.O7(A);if(A=="psd"&&dc==1){var u=jv.aiy(F.raw)[0],f=new Uint8Array(u.data);
F.EV=[f,u.IK]}else if(Z.uQ){var U=new fr(name+(A=="psd"?"":"-"+A)+".psd"),f;Z.AR(F.raw.buffer,U,M);var C=new gi(0,0,U.A,U.$);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(O)!=-1){var H=[];for(var R=0;R<U.U.length;
R++){var t=U.U[R],X=t.buffer;if(!t.S.s0(C)){X=a.j(C.C()*4);a.FP(t.buffer,t.S,X,C);console.log("resizing")}H.push(X)}f=a.j(C.C()*4);
a.stack.stack(H,f,O)}else{for(var R=0;R<U.U.length;R++)if(U.U[R].tE())U.U[R].uH(U);if(P&&U.Jf){var Q=bZ.yx(U,P,y);
F.Jf=!Q;if(Q)bZ.uc(U,P,y)}U.DA();U.vw();U.kp();f=U.Ta()}F.EV=[f,C];F.FR=U.FR!=null&&U.FR!=0?U.FR:72;
if(U.s5())F.Uh=U.s5()[0]}else if(Z){var D=Z.AR(F.raw.buffer)[0],L=D.depth;F.EV=[L==16?new Uint16Array(D.data):new Uint8Array(D.data),D.IK];
F.FR=D.FR!=null&&D.FR!=0?D.FR:72;F.Uh=D.Uh}if(F.EV){F.zL=F.EV[1].v();if(s==1){var X=F.EV[0],E=F.EV[1],_=a.j(E.C());
a.YT(X,_,3);var S=a.xY(_,E),W=a.j(S.C()*4);a.FP(X,E,W,S);S.x=S.y=0;F.EV=[W,S]}else{var X=F.EV[0],E=F.EV[1],S=a.zq(X,E,2,null,4278190080);
if(S.g3())S=new gi(0,0,1,1);while((S.x&15)!=0){S.x--;S.A++}while((S.y&15)!=0){S.y--;S.$++}if(!S.s0(E)&&S.C()/E.C()<.7){var W=a.j(S.C()*4,a.$i(X));
a.FP(X,E,W,S);F.EV=[W,S]}}a.pT(F.EV)}};ad.i_="0";ad.Yb="2";ad.OG="2.5";ad.H2="2.6";ad.v3="3";ad.EI="4";
ad.Zw="4.4";ad.kl="4.5";ad.atJ="4.6";ad.Nd="5";ad.uy="5.5";ad.K2="6";ad.aEF="7";ad.ap5="8";ad.aC="9";
ad.Bv="9.3";ad.Es="9.4";ad.a2z="9.5";ad.ZC="9.6";ad.l6="10";ad.oq="11";ad.J7="12";ad.y8="13";ad.jm="13.1";
ad.adp="13.2";ad.VI="13.3";ad.eD="13.4";ad.EE="14";ad.ls="14.1";ad.se="14.2";ad._3="14.3";ad.SH="17";
ad.Jn="18";ad.a3N="19";ad.GB="19.5";ad.rQ="19.6";ad.Zg="19.7";ad.Kh="19.8";ad.Jd="20";ad.V0="21";ad.vg="21.2";
ad.Hl="21.5";ad.OB="22";ad.k6="22.5";ad.uY="23";ad.amm="24";ad.QU="25";ad.awq="26";ad.ac5="27";ad.KH="28";
ad.k0="29";ad.xU="30";ad.eb="31";ad.Wo="32";ad.a2g="32.5";ad.bR="33";ad._I="34";ad.Z8="35";ad.Bp="36";
ad.KP="36.5";ad.De="37";ad.Pr="37.5";ad.ap4="37.6";ad.gQ="38";ad.QE="38.5";ad.dr="38.6";ad.Br="39";ad.cO="40";
ad.Oe="41";ad.aFF="42";ad.Mt="50";ad.BW="51";ad.YC="52";ad.uB="53";ad.iq="54";ad.anh="54.5";ad.cX="54.6";
ad.abX="54.7";ad.QK="54.8";ad.ME="55";ad.b7="55.5";ad.Hs="56";ad.HP="57";ad.G9="58";ad.JS="59";ad.JK="60";
function cW(){this.depth=0;this.index=-1;this.w=null;this.aDS=null;this.e5=-1;this.children=null;this.parent=null;
this.Ve=null}cW.prototype.atN=function(s,M){if(this.depth!=0)s.push(this.w.getName());if(this.children)for(var R=0;
R<this.children.length;R++)this.children[R].atN(s,M);if(s.length>M.rM.length)M.rM=s.slice(0);if(this.depth!=0)s.pop()};
cW.prototype.ah2=function(){var s=0;if(this.w.ES()){for(var R=0;R<this.children.length;R++)s+=this.children[R].ah2()}else if(this.w.buffer)s+=this.w.buffer.length;
return s};cW.prototype.vt=function(s){var M=this.Ve[s];return this.Ve[s]};cW.prototype.Vg=function(s,M){var O=this.w;
if(!O.CD()||O.T2(2)||O.T2(31))return null;if(O.Xj()){var P=O.$E.S.$B(s);if(!P&&O.$E.color==0)return}if(O.ES()){for(var R=0;
R<this.children.length;R++){var hS=this.children[R];hS.Vg(s,M)}}else if(dc==1){var y=O.ay();if(s.$B(a.b.hG(y))&&M.indexOf(this.index)==-1)M.push(this.index)}else if(O.S.$B(s))M.push(this.index)};
cW.prototype.kP=function(s,M){var O=this.w;if(!O.CD()||O.T2(2)||O.T2(31))return null;if(O.Xj()){if(O.$E.S.$z(s)){if(!a.kP(s,O.$E.N,O.$E.S))return null}else if(O.$E.color==0)return null}if(O.ES()){if(O.add.artb&&!O.Kj().$z(s))return null;
for(var R=this.children.length-1;R>=0;R--){var hS=this.children[R],P=hS.kP(s,M);if(P&&M==null)return P}return null}else if(dc==1){if(O.add.vmsk){var y=O.add.vstk,F=!y.fillEnabled.v&&!O.Cj,A=y.strokeStyleLineWidth.v.val*.5,h=a.z.kP(O.add.vmsk.u,s,F,A);
return h.Fa==-1?null:this}var m=O.ay();if(iq.tD(m,s.x,s.y))return this}else if(O.add.TySh&&O.S.$z(s)||a.aA3(s,O.buffer,O.S)){if(M==null)return this;
else M.push(this.index)}return null};cW.prototype.ay5=function(s){var M=this.w;if(!M.CD()||M.T2(2)||M.T2(31))return null;
var O=M.add.vmsk;if(O&&O.isEnabled){var P=a.z.kP(O.u,s).Fa;if(P!=-1)return{aCb:this,avC:P}}if(M.ES()){if(M.add.artb&&!M.Kj().$z(s))return null;
for(var R=this.children.length-1;R>=0;R--){var hS=this.children[R],y=hS.ay5(s);if(y)return y}return null}return null};
cW.prototype.JN=function(s,M){s.push(this.index);if(this.w.ES()){s.push(this.e5);if(M)if(this.w.KV==1&&this.w.Bl().CG==!1)return;
for(var R=0;R<this.children.length;R++)this.children[R].JN(s)}};cW.Sj=function(){var s=document.createElement("canvas");
return s.getContext("2d")};cW.a9o=function(s,M){var O,P;if(s.A>s.$){O=Math.floor(M);P=Math.floor(M*(s.$/s.A))}else if(s.A==0&&s.$==0){O=P=M}else{O=Math.floor(M*(s.A/s.$));
P=Math.floor(M)}return new j6(O,P)};cW.TN=32;cW.yN=1;cW.hQ=function(s){if(s==200)return"#cccccc";if(s==300)return"#ffffff";
if(s==500)return"#999999";if(s==501)return"#666666";var M="#0080ff #00ffff #4000ff #ff8000 #ffc000 #ffff00 #00dd00 #c000ff #ff4000 #ff0000 #0000ff #ff00ff #80ff00 #00ff80 #8000ff #ff0080".split(" "),O=parseInt(M[s>>>3].slice(1),16),P=0,y=s&7;
for(var R=0;R<3;R++){var F=O>>>R*8&255;if(y<4)F=Math.round((1-(y-0)/8)*F+(y-0)/8*255);else F=Math.round((1-(y-3)/6)*F+(y-3)/6*0);
P|=F<<R*8}return"#"+P.toString(16).padStart(6,"0")};cW.prototype.XB=function(s,M,O){var P=cW.yN,y=this.w;
if(y.ES()&&y.add.artb!=null)M=y.Kj();var F=P==0?y.S:M;if(F.g3()||y.add.TySh)F=M;var A=cW.TN*$.yD(),h=cW.a9o(F,A),m=h.x,Z=h.y,u=cW.a9o(M,A),f=ak.get(y.add)!=null;
if(y.tE()&&y.add.vmsk==null||y.add.TySh||f)m=Z=Math.max(Z,16);else if(y.ES()){m=Z=Math.round(18*$.yD())}else{m=Math.max(m,6);
Z=Math.max(Z,6)}if(O&&y.Wl==null){y.Wl=cW.Sj();if(dc==0){y.aF3=cW.Sj();y.aDg=cW.Sj();y.a96=cW.Sj()}}var U=y.tE()&&y.add.vmsk;
if(dc==2&&!y.ES()&&y.Wl){a.mb.$C(y.Wl,m,Z);y.Wl.fillStyle=cW.hQ(y.J.UO);y.Wl.fillRect(0,0,300,300)}else if(dc==1&&!y.ES()){if(O)a.mb.aLr(y.Wl,m,Z,s,this)}else if(U){if(O&&y.add.vstk)a.mb.Ol(y.Wl,m,Z,F,y.buffer,y.S,!1,null,!y.add.vstk.fillEnabled.v&&!y.add.vstk.strokeEnabled.v);
if(O)a.mb.aip(y.Wl,m,Z)}else if(y.add.TySh){if(O)a.mb.aAo(y.Wl,Z,Z,y.add.TySh)}else if(y.add.SoCo){if(O)a.mb.aJM(y.Wl,Z,Z,y.add.SoCo)}else if(y.add.GdFl){if(O)a.mb.a8f(y.Wl,Z,Z,y.add.GdFl)}else if(y.add.PtFl){if(O)a.mb.a9P(y.Wl,Z,Z,y.add.PtFl,s)}else if(f){if(O)a.mb.anH(y.Wl,Z,Z,y.add)}else if(y.add.SoLd){if(O)a.mb.Ol(y.Wl,m,Z,F,y.buffer,y.S,!1);
if(O)a.mb.axL(y.Wl,m,Z,y.add.SoLd)}else if(y.ES()){}else{if(O){if(y.Lv())a.mb.Ol(y.Wl,m,Z,F,y.buffer,y.S,!1);
else{a.mb.aCu(y.Wl,Z,Z)}}}var C=y.Bl();if(O){if(C)a.mb.PH(y.aF3,u.x,u.y,M,C);if(y.o7()&&y.UU(s)&&y.UU(s).$E){var H=y.UU(s).$E;
a.mb.PH(y.a96,u.x,u.y,M,H)}if(!U&&y.add.vmsk){a.mb.PH(y.aDg,u.x,u.y,M,y.add.vmsk.Bl(),!0)}}if(C||y.add.vmsk)Z=Math.max(Z,u.y);
y.amQ=Math.max(Z,16);if(O!=!0&&y.ES()&&(y.add.lsct==dU.l9||s.U.length<4e3))for(var R=0;R<this.children.length;
R++)this.children[R].XB(s,M)};cW.prototype.alX=function(s,M,O,P){this.depth=O;var y=s[M];if(P==null)P=[];
this.Ve=P;if(y.add.lsct==dU.Bs){this.aDS=y;this.e5=M-1;this.children=[];var R=M+1;while(!0){var F=s[R];
if(F==null)console.log(R,s.length);if(F.add.lsct==dU.l9||F.add.lsct==dU.aY){if(y.add.lyid==F.add.lyid)y.add.lyid+=16777215;
this.w=F;this.index=R-1;P[this.index]=this;P[M-1]=this;break}var A=new cW;A.parent=this;R=A.alX(s,R,O+1,P);
this.children.push(A)}return R+1}else{this.w=y;this.index=M-1;P[this.index]=this;return M+1}};cW.prototype.c9=function(s,M,O,P){var y=this.vt(O),F=s;
while(y.parent!=null){F=y.w.awf(F,M,P);y=y.parent}return F};cW.prototype.Gt=function(s,M){var O=this.w,P=new gi;
if(!O.CD())return P;var y=O.Bl();if(O.ES())for(var R=0;R<this.children.length;R++){var F=this.children[R].Gt(s,!0);
P=P.v8(F)}else if(ak.get(O.add)!=null)P=O.Xj()&&O.$E.color==0?O.$E.Gt().v():new gi(0,0,s.A,s.$);else if(O.tE()&&O.add.vmsk&&O.add.vmsk.isEnabled&&O.add.vstk){P=O.S.v()}else if(O.tE()&&y&&y.isEnabled&&y.sl()!=0)P=new gi(0,0,s.A,s.$);
else{P=O.Gt(s,!1,!0);if(O.add.vmsk)P=a.b.An(P)}return M?O.awf(P,s):P};cW.km={delete:function(s){if(s&&s.A)s.delete()},j:function(s,M){return ci.Qh?new ci.po(s,M):a.j(s*M*4)},alM:function(s,M,O){var P=M.A,y=M.$;
if(s==null||ci.Qh&&(s.A!=P||s.$!=y||s.depth!=O)||!ci.Qh&&(s.length!=P*y*4||a.$i(s)!=O)){cW.km.delete(s);
return ci.Qh?new ci.po(P,y,O):a.j(P*y*4,O)}else return s},TT:function(s,M,O,P,y){(ci.Qh?ci.ci:a.FP)(s,M,O,P,y)},VB:function(s,M,O,P,y,F,A,h,R,m,Z){(ci.Qh?ci.B.M0:a.B.VB)(s,M,O,P,y,F,A,h,R,m,Z)},aCl:function(s,M,O,P,y,F,A,h){var m=O.v(),Z=y.A,u=y.$,f=m.x,U=m.y,C=m.x+m.A>Z?-1:0,H=m.x<0?2:1,t=m.y+m.$>u?-1:0,X=m.y<0?2:1;
for(var Q=t;Q<X;Q++)for(var D=C;D<H;D++){m.x=f+D*Z;m.y=U+Q*u;cW.km.qZ(s,M,m,P,y,F,A,h)}},qZ:function(s,M,O,P,y,F,A,h){if(ci.Qh)ci.B.a7G(s,M,O,P,y,F,A,h);
else a.B.qZ(s,M,O,P,y,F,A,h)},zM:function(s,M){if(ci.Qh){ci.b2(s);ci.s3(M)}else a.vK(s,M)},oU:function(s){if(ci.Qh){ci.b2(s);
ci.oU()}else{var M=a.$i(s),O=M==8?255:M==16?65535:1;if(M==8)a.$j(s,1);else for(var R=0;R<s.length;R+=4)s[R+3]=O}},a9s:function(s,M,O,P,y){if(ci.Qh){ci.B.M0(null,null,P,y,s,M,O,y,1,!1)}else{if(O==255)a._5(s,M,P,y);
else{var F=a.j(M.C(),a.$i(s));a.Sz(P,y,F,M);a.kd(s,F);a.$j(P,0);a.aJ0(F,M,P,y)}}},Tx:function(s,M,O,P,y){if(ci.Qh)ci.B.M0(null,null,O,P,s,M,0,y,1,!1);
else a.Tx(s,M,O,P,y)}};cW.prototype.I6=function(s,M,O,P,y,F,A){var h=typeof F=="number";if(!this.w.ES()&&(h&&this.index>F||!h&&F.indexOf(this.index)==-1)){return}var m=this.w,Z=cb.xg(m),u=cW.km,f=s.depth;
if(f==null)f=a.$i(s);var U=m.tE()?m.Bl():m.$E;if(!m.CD())return;if(m.Xj()&&U.S.g3()&&U.sl()==0){return}if(m.add.vstk==null&&this.Gt(P,!1).g3()){return}if(m.tE()&&m.S.g3())return;
var C=this.Gt(P,!0).OK(O);if(!M.s0(O)&&!O.$B(C))return;if(m.ES()&&m.add.artb){var H=m.Kj();O=O.OK(H)}var t=cW.an5(m,y,Z);
if(!t){this.ajG(s,M,O,P,y,F,A);return}var X=A.Jr(C,f),Q=X[0],D=X[1];u.TT(s,M,Q,D,O);this.ajG(Q,D,O,P,y,F,A);
u.VB(Q,D,s,M,null,null,0,O,m.N_/255,m.mX=="diss",Z.ra);A.YF(Q)};cW.an5=function(s,M,O){if(O.ra[0]*O.ra[1]*O.ra[2]==0)return!0;
return s.N_!=255&&(M.length!=0||s.ES()||s.v5())};cW.prototype.ajG=function(s,M,O,P,y,F,A){var h=this.w,m=cb.xg(h),Z=ak.get(h.add)!=null,u=cW.km,f=s.depth,x=null,V=null;
if(f==null)f=a.$i(s);var U=cW.an5(h,y,m),C=U?1:h.N_/255,H=h.tE()?h.Bl():h.$E,t=h.ES()&&m.Js==null&&(h.mX=="pass"||h.add.artb!=null)&&!(y.length>0||m.fill!=1||h.v5()),X=!h.ES()&&!Z&&!h.v5()&&y.length==0,Q=Z&&!h.v5()&&y.length==0;
if(t||X||Q){var D=s,L=M;if(h.Xj()){var E=A.Jr(this.Gt(P,!1),f);D=E[0];L=E[1];u.TT(s,M,D,L)}if(t)this.sk(D,L,O,P,F,A);
if(X)u.qZ(h.mX,h.aix(P),h.S,D,L,O,C,m);if(Q){var _=h.Xj()&&H.sl()==0?H.Gt().v():L.v(),E=A.Jr(_,f),S=E[0],W=E[1];
this.aFh(D,L,S,W,h.add);m.gZ=!0;u.qZ(h.mX,S,W,D,L,O,C,m);A.YF(S)}if(h.Xj()){u.VB(D,L,s,M,h.agG(),H.Gt(),H.sl(),O,1,h.mX=="diss");
A.YF(D)}h.aD.am8();return}var g=h.ES()&&h.mX=="pass"&&(y.length>0||m.fill!=1||h.v5()),_=h.S;if(h.ES()){_=this.Gt(P,!1);
if(_.C()>O.C())_=_.OK(new gi(0,0,P.A,P.$));V=A.jX(_,f);u.zM(V,0);this.sk(V,_,h.v5()?_:_.OK(O),P,F,A)}else if(Z){_=h.Xj()&&H.sl()==0?H.Gt().v():M.v()}else{_=h.S;
x=h.aix(P)}var b=A.jX(_,f);if(h.ES()){u.TT(V,_,b,_,h.v5()?_:_.OK(O));if(!g)A.YF(V)}else if(Z){u.zM(b,4294967295)}else{u.TT(x,_,b,_)}if(h.Xj())u.a9s(h.agG(),H.Gt(),H.sl(),b,_);
if(h.v5())if(h.aD.MD||h.aD.gC||h.aD.Uz!=ci.Qh||h.aD.bs||h.ES()){var N=h.add.vmsk,J=a.j(_.C(),f);if(cb.al4(h.add.lmfx)){if(ci.Qh){if(!h.ES()&&h.Bl()==null&&h.S.s0(_)&&N==null)a.YT(h.buffer,J,3);
else{var K=a.j(_.C()*4,f);b.get(K);a.YT(K,J,3)}}else a.YT(b,J,3)}if(h.aD.gC||h.aD.Uz!=ci.Qh||!a.s0(J,h.aD.mU)){var q=null;
if(h.tE()&&N&&N.isEnabled&&N.Bl().color==0)q=N.Bl().S;cb.aJw(h.aD.ZB);h.aD.ZB=cb.aCs(J,_,h.add.lmfx,h.add.fxrp,P,q);
h.aD.mU=J;h.aD.agL=_}}if(h.v5())cb.an4(h.add.lmfx,h.aD.ZB,_,s,M,O);var E=A.Jr(_,f),d=E[0],l=E[1];if(h.ES()){u.zM(d,0);
if(h.mX=="pass")u.TT(s,M,d,l);if(g){u.Tx(V,_,d,l,h.v5()?_:_.OK(O));A.YF(V)}this.sk(d,l,O,P,F,A)}else if(Z){this.aFh(s,M,d,l,h.add)}else{u.TT(x,_,d,l,O)}u.oU(d);
for(var R=0;R<y.length;R++)y[R].I6(d,l,O,P,[],F,A);var E=A.Jr(_,f),T=E[0],B=E[1];u.TT(s,M,T,B,O);if(Z)m.gZ=!0;
u.qZ(h.mX=="pass"?"norm":h.mX,d,l,T,B,O,1,m);A.YF(d);if(h.v5()){var I=h.aD.ZB.I.FrFX,w=null,e=null,G=null,j=null,o=null;
if(I.length!=0){w=I[0];for(var R=0;R<I.length;R++)if(I[R].Et.A>w.Et.A)w=I[R];var E=A.Jr(w.Et,f);e=E[0];
G=E[1];var E=A.Jr(w.Et,f);j=E[0];o=E[1];u.TT(s,M,e,G,O)}cb.a72(h.add.lmfx,h.aD.ZB,_,s,M,O,T,B,e,G,j,o);
A.YF(e);A.YF(j)}u.VB(T,B,s,M,b,_,0,O,1,h.mX=="diss");h.aD.am8();A.YF(b);A.YF(T)};cW.prototype.aFh=function(s,M,O,P,y){var F=ak.get(y),A;
if(F)A=ak.QC(F,y[F]);var h=a.$i(s),m=cW.km;if(!(ci.Qh&&M.s0(P)))m.TT(s,M,O,P);if(A){if(ci.Qh){var Z=P.v();
Z.x=Z.y=0;if(M.s0(P)){ci.b2(O,Z);ak.Wm(A,s.U9,Z)}else{ci.b2(O,Z);O.rL(Z);ak.Wm(A,O.KZ,Z)}}else ak.Vj(A,O,O,P)}return O};
cW.prototype.sk=function(s,M,O,P,y,F){var A=M.A,h=M.$,m=M.x,Z=M.y,hS=O,u=hS.x,f=hS.y,U=-1,C=-1,H=2,t=2,Q=!1;
if(!P.I2){U=C=0;H=t=1}var X=this.children;for(var R=0;R<X.length;R++){if(!X[R].w.nN)Q=!0;if(!Q)continue;
var D=ak.get(X[R].w.add)!=null,L=[];for(var E=R+1;E<X.length;E++)if(X[E].w.nN)L.push(X[E]);else break;
for(var _=C;_<t;_++)for(var S=U;S<H;S++){M.x=m+S*A;M.y=Z+_*h;hS.x=u+S*A;hS.y=f+_*h;if((S!=0||_!=0)&&D)continue;
X[R].I6(s,M,hS,P,L,y,F)}R+=L.length}M.x=m;M.y=Z;hS.x=u;hS.y=f};(function(){cW.prototype.Co=function(y,F,A,h){var m=this.w,Z=m.add.lmfx,u=m.add.TySh,f=m.add.SoLd,C=null;
if(!m.CD())return;F.save();var U=m.N_/255*(m.add.iOpa?m.add.iOpa/255:1);F.globalAlpha*=U;F.globalCompositeOperation=h0.YV[h0.n$.indexOf(m.mX)];
var H=y.add.prvw==0;if(H){F.lineWidth=1/y.i.xq;F.fillStyle="black"}var t=cb.acP(m,!1);if(t){C=F;var X=document.createElement("canvas");
X.width=F.canvas.width;X.height=F.canvas.height;var Q=F.getTransform();F=X.getContext("2d");F.setTransform(Q.a,Q.b,Q.c,Q.d,Q.e,Q.f)}if(m.ES()){var D=this.children,L=null;
for(var R=0;R<D.length;R++)if(D[R].w.Cj&&D[R].w.CD())L=D[R].w;if(L&&!H){F.beginPath();M(L,F);F.clip()}for(var R=0;
R<D.length;R++)D[R].Co(y,F,A,h)}else if(u){var E=!0;if(m.aD.path==null){E=bZ.fT(u,A.s4);if(E)bZ.lC(m,A.s4,!1)}if(E){{var _=u.M;
F.save();s(F,_);var S=m.aD.path;if(H){var W=S.J8.slice(0);for(var R=0;R<W.length;R++)if(W[R][0]=="#")W[R]="#000000";
S={J8:W,L:S.L}}bZ.a8K(S,F);F.restore()}}}else if(m.tE()&&m.add.vmsk&&(!m.Cj||H)){var g=m.add.vmsk;F.beginPath();
M(m,F);if(H){F.stroke()}else{var x=m.add.vstl;if(x.Tq.length!=0){var V=O(x.Tq,g.u,y,F);if(V[1]){F.save();
s(F,V[1])}F.fillStyle=V[0];F.fill(["nonzero","evenodd"][g.gW]);if(V[1]){F.restore()}}if(x.Jc.length!=0){a.z.IF(x,F);
F.strokeStyle=O(x.Jc,g.u,y,F,!0)[0];F.stroke()}}}else if(f){var b=f.filterFX;if(b){var V=b.v.filterFXList.v;
for(var R=0;R<V.length;R++){var N=V[R].v;if(!N.enab.v)continue;var J=bW.zX(N);if(J=="GsnB"){F.filter="blur("+N.Fltr.v.Rds.v.val*y.i.xq+"px)"}}}var q=f.Idnt.v,d=y.vP(q,f.Crop?f.Crop.v:null),_=a.F.fu(f),l=d.EV;
if(H){var T=$.TR.NI(f.Trnf);F.moveTo(T[0],T[1]);for(var R=2;R<8;R+=2)F.lineTo(T[R],T[R+1]);F.closePath();
F.stroke()}else P(y,m,F,_,l)}if(t){C.save();C.setTransform(1,0,0,1,0,0);C.drawImage(F.canvas,0,0);C.restore();
F=C}F.globalAlpha/=U;F.globalCompositeOperation="source-over";F.restore()};function s(y,F){y.transform(F.cd,F.X,F.xN,F.zv,F.cj,F.H3)}function M(y,F){var A=y.add.vmsk.u;
for(var R=0;R<A.length;R++){if(A[R].I>5)continue;var h=A[R].length;if(h==0)continue;var m=A[R].I==3;
a.z.agl(F,A,R+1,h,0,0,m);if(!m)F.closePath();R+=h}}function O(y,F,A,h,m){if(y.length==3)return[CSS.anj(y),null];
else if(y.length==2){var Z=A.Sn[y[0]],u=1,f=Z.aLo;if(f==null){var U=document.createElement("canvas"),C=U.getContext("2d");
U.width=Math.round(Z.A*u);U.height=Math.round(Z.$*u);C.scale(u,u);Z.root.Co(Z,C,{},null);f=Z.aLo=h.createPattern(U,"repeat")}var H=new kp(1/u,0,0,1/u,0,0),t=A.FR/72,X=new kp;
X.concat(H);var Q=y[1][1];X.concat(new kp(Q[0],Q[1],Q[2],Q[3],t*Q[4],t*Q[5]));X.scale(1,-1);return[f,X]}else{var D=y[0],L=y[1],E=y[2],_=-E[5]*Math.PI/180,S=eq.E1(y,F),W,H;
if(D==0){var g=[0,0,1,0];a.b.M(g,S,g);W=h.createLinearGradient(g[0],g[1],g[2],g[3])}else{var g=[Math.cos(_)*E[6],Math.sin(_)*E[6],0,0,1,0],x=Math.abs(S.cd*S.X+S.xN*S.zv)<1e-9,V=Math.abs(S.cd*S.cd+S.X*S.X-S.xN*S.xN-S.zv*S.zv)<1e-9,b=x&&V;
if(b||m){a.b.M(g,S,g);var N=g[4]-g[2],J=g[5]-g[3];W=h.createRadialGradient(g[0],g[1],0,g[2],g[3],Math.sqrt(N*N+J*J))}else{W=h.createRadialGradient(g[0],g[1],0,0,0,1);
H=S}}a.wv.rO(W,L);return[W,H]}}function P(y,F,A,h,m){if(h==null)h=new kp;var Z=F.buffer,u=F.S;if(m){var f=h.dI()*y.i.xq,U=0;
while(1<<U/2<.5/f&&U+2<m.length)U+=2;Z=m[U];u=m[U+1];u=u.v();u.x=u.y=0;var f=1<<U/2,C=new kp;C.scale(f,f);
C.concat(h);h=C}if(u.g3())return;var H=document.createElement("canvas");H.width=u.A;H.height=u.$;var t=H.getContext("2d");
t.putImageData(new ImageData(new Uint8ClampedArray(Z.buffer),u.A,u.$),0,0);A.transform(h.cd,h.X,h.xN,h.zv,h.cj,h.H3);
A.drawImage(H,u.x,u.y);h.or();A.transform(h.cd,h.X,h.xN,h.zv,h.cj,h.H3)}}());function fr(s){this.Xr="psd";
this.Qt=!1;this.name=s;this.VS=8;this.depth=8;this.Vr=-1;this.I2=!1;this.hP=null;this.K9=null;this.dt=null;
this.HK=null;this.A=0;this.$=0;this.buffer=null;this.U=[];this.v_={};this.add={};this.YX=[];this.Sn={};
this.bB=[];this.aLo=null;this._9=4;this.XQ=null;this.FR=72;this.j0={};this.Y=[];this.FQ=[];this.o6=!1;
this.$X=[];this.MJ=[];this.J4=[fr.ce("Work Path")];this.vX=-1;this.J_=[];this.XK=null;this.Ru={classID:"CompList",list:{t:"VlLs",v:[]}};
this.Hx=null;this.e2=[];this.Vx=[];this.yi=[];this.root=null;this.IH=null;this.Jf=!1;this.ahf=!1;this.aBT=!1;
this.a6z=!1;this.Yw=!1;this.G_=!1;this.DI=!1;this.GJ=!1;this.QJ=!1;this.cw=!1;this.MD=null;this.au1=null;
this.h=null;this.dj=[];this.G7=[];this.W={yw:{},oW:[],Kq:[],gM:[],jT:[],Zk:[],CU:null,kX:null,tY:null,JT:null,zQ:null,P6:null,r8:null,MM:null,Xn:[],zp:[],wf:null};
this.history=[new aA([1,0],null)];this.oB=0;this.up=0;this.ayn=0;this.aun=0;this.Hn=null;this.IM=!1;
this.i=new fo(this);this.LA=null;this.avX=null}fr.prototype.rA=function(s){var M=this,O=M.a22,P=null,y,A=!1;
if(s&&O==null)return;var F=new gi(0,0,M.A,M.$);if(this.Y7(!1))P=M.U[M.Y[0]];if(s)P=null;if(s)console.log("clearing");
if(O&&O!=P){y=O.S;O.FW();if(!y.s0(O.S)){O.vw();if(A)console.log("compressing",O.getName())}}if(P){y=P.S;
P.extend(F);if(!y.s0(P.S)){P.vw();if(A)console.log("extending",P.getName())}}this.a22=P};fr.prototype.Wh=function(){var s=this;
s.up=s.oB;s.ayn=Date.now();s.G_=!0};fr.prototype.aIc=function(){var s=this,M=s.add.artd;return M!=null&&M.Cnt.v>1||s.add.arts&&s.add.arts.length>1};
fr.prototype.A1=function(s){if(s){if(s.length==30240){this.A1(null);return}this.v_.r1039=s;var M=ICC.R(s.buffer),y=null,F=17,f,U;
if(M==null){this.A1(null);return}var O=M.header.spaceIn.toLowerCase(),P=JSON.stringify(M.tags.desc).toLowerCase();
try{y=ICC.U.profileName(M)}catch(hj){}if(O!="rgb "||y==null||P.indexOf("srgb")!=-1&&P.indexOf("p3")==-1&&this.depth!=32||P.indexOf("apple wide color sharing profile")!=-1||P.indexOf("apple poppy output profile")!=-1||O=="rgb "&&this.add.fcmy==1){this.A1(null);
return}console.log("We got an ICC profile!",M,y);try{var A=ICC.U.sampleLUT(M,F)}catch(hj){this.A1(null);
return}var h=a.Kc("rgbToRgbC"),m=h[2],Z=h[3],u=fr.awx(A,Z,m);if(ci.Qh){f=new ci.po(F,F*F,ci.RG());f.set(ICC.U.lutToRGBA32(A,F));
U=new ci.po(F,F*F,ci.RG());U.set(ICC.U.lutToRGBA32(u,F))}this.LA=[s,M,F,A,f,u,U]}else{delete this.v_.r1039;
this.LA=null}};fr.awx=function(s,M,O){var P=s.slice(0),y=a.j(4,32);for(var R=0;R<s.length;R+=3){y[0]=s[R];
y[1]=s[R+1];y[2]=s[R+2];ICC.U.applyLUT(M,O,y,y);P[R]=y[0];P[R+1]=y[1];P[R+2]=y[2]}return P};fr.prototype.s5=function(){return this.LA};
fr.prototype.En=function(){if(this.LA)return this.LA;if(this.add.fcmy==1){if(this.avX==null){var s=a.Kc("rgbToRgbC"),M=s[2],O=s[3],P;
if(ci.Qh){P=new ci.po(M,M*M,ci.RG());P.set(ICC.U.lutToRGBA32(O,M))}this.avX=[null,null,M,null,null,O,P]}return this.avX}};
fr.prototype.aao=function(){var s=this.s5();if(s==null)return 0;var M=ICC.U.profileName(s[1]);if(M=="Adobe RGB (1998)")return 1;
if(M=="ProPhoto RGB")return 2;if(M=="Display P3")return 3;return-1};fr.prototype.a35=function(){var s=this;
if(s.i.P7.join("")!="111"){s.i.P7=[1,1,1];s.G_=!0}for(var R=0;R<s.U.length;R++){var M=s.U[R],O=M.add.vmsk;
if(M.o7()){var P=M.UU(s);if(P&&P.$E&&P.$E.H7){P.$E.H7=!1;s.G_=!0}}var y=M.Bl();if(y&&y.H7){y.H7=!1;s.G_=!0}if(O){if(O.Y.length!=0)O.Y=[];
if(O.MO.length!=0)O.MO=[]}}};fr.prototype.aFK=function(){var s=this;return s.h!=null||s.Iv()[1].length!=0||s.Y.length>1};
fr.prototype.T_=function(){var s=this.FQ,M=[];for(var R=0;R<s.length;R++)M[R]=-1;var O=this.root.children;
for(var R=0;R<O.length;R++){var P=O[R],y=P.w.add.artb;if(y==null)continue;var F=y.guideIndeces;F=F?F.v:[];
for(var A=0;A<F.length;A++)M[F[A].v]=P.index}return[a.G(s),M]};fr.prototype.gt=function(s){this.FQ=a.G(s[0]);
var M=s[1],O=this.root.children;for(var R=0;R<O.length;R++){var P=O[R],y=P.w.add.artb;if(y==null)continue;
y.guideIndeces={t:"VlLs",v:[]}}for(var R=0;R<M.length;R++)if(M[R]!=-1)this.U[M[R]].add.artb.guideIndeces.v.push({t:"long",v:R})};
fr.prototype.aHZ=function(s){var M=this;if(s[0])M.add.lnk2=s[0];else delete M.add.lnk2;if(s[1])M.add.FEid=s[1];
else delete M.add.FEid;if(s[2])M.add.Patt=s[2];else delete M.add.Patt};fr.prototype.acg=function(s){var M=this,O=[],P=[],y=[],H=null,t=null,X=null;
for(var R=0;R<s.length;R++){var F=s[R];if(F.add.SoLd){O.push(F.add.SoLd.Idnt.v);P.push(F.add.SoLd.placed.v)}if(F.add.PtFl)y.push(F.add.PtFl.Ptrn.v.Idnt.v);
if(F.add.lmfx){for(var A=0;A<aV.e1.length;A++){var h=F.add.lmfx[aV.e1[A]].v;for(var m=0;m<h.length;m++)if(h[m].v.Ptrn){var Z=h[m].v;
if(Z.classID=="FrFX"&&Z.PntT.v.FrFl!="Ptrn")continue;y.push(Z.Ptrn.v.Idnt.v)}}}var u=F.add.vstk;if(u&&u.strokeStyleContent.v.classID=="patternLayer"){y.push(u.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var f=M.add.lnk2,U=M.add.FEid,C=M.add.Patt;
if(f){H=[];for(var R=0;R<f.length;R++)if(O.indexOf(f[R].Xh)!=-1)H.push(f[R]);if(H.length==0)H=null}if(U){t=[];
for(var R=0;R<U.length;R++)if(P.indexOf(U[R].id)!=-1)t.push(U[R]);if(t.length==0)t=null}if(C){X=[];for(var R=0;
R<C.length;R++)if(y.indexOf(C[R].id)!=-1)X.push(C[R]);if(X.length==0)X=null}return[H,t,X]};fr.prototype.dM=function(s){var M=this,O=M.root.vt(s==null?M.Y[0]:s),P=!1;
while(O.parent!=null){P=P||O.w.T2(31);O=O.parent}return P};fr.prototype.X2=function(){var s=this.dj,M=this.dj.length;
if(M!=0&&s[M-1].name=="Quick Mask")return s[M-1]};fr.prototype.uf=function(){return this.Xr==dN.uh("% |/!)")||this.Xr==dN.BF("gP")};
fr.prototype.Fh=function(s){var M=this.add.artd;if(s!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:s},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};fr.prototype.hy=function(s){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(s)==-1)this.add.FEid.push(s)};
fr.prototype.pC=function(s){var M=this.add.FEid.indexOf(s);this.add.FEid.splice(M,1);if(this.add.FEid.length==0)delete this.add.FEid};
fr.prototype.vw=function(s){if(s==null)s=new gi(0,0,this.A,this.$);if(this.MD==null)this.MD=s;else this.MD=this.MD.v8(s)};
fr.prototype.aGu=function(s){return this.MD!=null};fr.prototype.TJ=function(s){var M=this.U[s],O=this.root.vt(s);
if(O==null)return!1;if(M.ES()||O.parent.children.indexOf(O)==0)return!1;return!0};fr.aBf=function(s){if(s.add.lnk2)for(var R=0;
R<s.add.lnk2.length;R++){var M=s.add.lnk2[R].Xh;s.add.lnk2[R].Xh=fr.iY()+M.slice(8);for(var O=0;O<s.U.length;
O++){var P=s.U[O].add.SoLd;if(P&&P.Idnt.v==M)P.Idnt.v=s.add.lnk2[R].Xh}}};fr.prototype.mO=function(s,M,O){s.sort(function(f,U){return f-U});
var top=s[s.length-1],P=this.U.slice(0),y=this.Y.slice(0),F=[],A=[];for(var R=0;R<this.U.length;R++){if(s.indexOf(R)!=-1)A.push(this.U[R]);
else F.push(this.U[R])}this.S7(A);this.Y=[];var h=this.root.Gt(this,!0);if(M)h=h.OK(M);if(O)h=h.v8(O);
if(h.g3())h=new gi(0,0,100,100);var m=new gi(-h.x,-h.y,this.A,this.$),Z=new Uint8Array(b_.O7("PSD").u6(this,0,0,[!0,!1]));
this.S7(P);this.Y=y;var u=new fr(this.U[top].getName());b_.O7("PSD").AR(Z.buffer,u);delete u.add.artd;
u.$X=[];u.S7(u.U);u.gt([[],[]]);fr.aBf(u);$._P.um(u,h);u.vw();u.kp();u.Ta();return[u,h,F,top]};fr.prototype.aJU=function(s,M,O){var P=this.mO(s),y=P[0],F=P[1],A=P[2],top=P[3],h;
if(O=="jpg")h=new Uint8Array(b_.O7("JPG").u6([[y.Ta().buffer]],y.A,y.$,[80]));else h=new Uint8Array(b_.O7("PSD").u6(y,null,null,[!0,!1]));
if(M)A=this.U.slice(0);var m=this.N4(h,y.name,F.x,F.y);if(top==this.U.length-1)A.push(m);else A.splice(M?top+1:top-s.length+1,0,m);
this.S7(A);this.Y=[A.indexOf(m)]};fr.iY=function(s){if(s==null)s="";var M="";while(M==""||M==s){M="";
for(var R=0;R<8;R++)M+=Math.floor(Math.random()*16).toString(16)}return M};fr.prototype.mo=function(s){if(s==null)return;
if(this.add.Patt==null)this.add.Patt=[];var M=this.add.Patt;for(var R=0;R<M.length;R++)if(M[R].id==s.id)return;
M.push(s)};fr.prototype.a7l=function(s){for(var R=0;R<this.U.length;R++){var M=this.U[R],O=M.add.SoLd;
if(O&&O.Idnt.v==s)M.VN(this)}};fr.prototype.N4=function(s,M,O,P,y,F,A){if(this.add.lnk2==null)this.add.lnk2=[];
var h=null;for(var R=0;R<this.add.lnk2.length;R++)if(a.s0(s,this.add.lnk2[R].raw)){h=this.add.lnk2[R].Xh;
break}if(h==null){var m=b_.WG(s.buffer);h=fr.iY()+"-d71c-11e5-b1ae-a548a96e5f9f";var Z=new ad.Dl;Z.Xh=h;
Z.kx=m=="psd"?"8BIM":"    ";Z.Zp=M+"."+m;Z.tn=m=="psd"?"8BPB":"    ";Z.open=0;Z.raw=s;Z.I="liFD";Z.mV=2;
this.add.lnk2.push(Z)}var u=this.vP(h,null,null,null,F,A),f=fr.iY()+"-d71c-11e5-b1ae-a548a96e5f9f",U=this.Tk(),C=u?u.zL:new gi;
U.jj(M);U.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:h},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:f},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:a.Z6.j(C)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:C.A},Hght:{t:"doub",v:C.$}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:u?u.FR:72}}};
var H=C.v();if(O!=null)H.offset(O,P);if(u!=null&&y){var m=b_.WG(s.buffer),t=this.i,X=y,Q=t.D7(y.x+y.A/2,y.y+y.$/2);
if(!t.SB.$z(Q)){var D=a.b.hC(t.SB).L;a.b.M(D,t._V(),D);y=y.OK(a.b.q7(D))}var L=y.x,E=y.y,_=y.A,S=y.$;
H=u.zL.v();H.offset(L+O,E+P);var W=W=this.FR/(u.FR?u.FR:m=="pdf"?144:this.FR);H.A=H.A*W;H.$=H.$*W;var g=Math.max(H.A/X.A,H.$/X.$);
if(g>1.0001){H.A=H.A/g;H.$=H.$/g}H.x=Math.round(L+(_-H.A)/2);H.y=Math.round(E+(S-H.$)/2)}var x=a.b.hC(H).L;
U.add.SoLd.Trnf=$.TR.kZ(x);U.add.SoLd.nonAffineTransform=$.TR.kZ(x);if(u){if(y)U.VN(this,!1);else if(dc==0){U.S=u.EV[1].v();
U.S.offset(H.x,H.y);U.buffer=u.EV[0].slice(0)}}return U};fr.prototype.Q9=function(s){var M=this.add.arts,O=new gi;
for(var R=0;R<M.length;R++)O=O.v8(a.b.hG(M[R].rC));if(s!=!0)O=a.b.An(O);return O};fr.prototype.Rc=function(s,M,O){var P=this.Q9();
if(M==null){M=P.A;O=P.$}var y=a.FL(M,O);y.save();y.translate(-P.x,-P.y);y.scale(M/P.A,O/P.$);this.root.Co(this,y,s,new gi(0,0,M,O));
y.restore();return y.getImageData(0,0,M,O).data.buffer};fr.prototype.Ta=function(s){if(s!=null){this.vw();
this.kp(s);var M=this.buffer;if(ci.Qh)this.IH.get(M);else M=M.slice(0);this.vw();this.kp();return M}if(this.MD){this.kp();
this.MD=null}if(ci.Qh&&this.au1){this.IH.get(this.buffer);this.au1=null;this.DI=!0}return this.buffer};
fr.prototype.ajW=function(){for(var R=0;R<this.U.length;R++)this.U[R].a9m();this.vw()};fr.prototype.aHY=function(){for(var R=0;
R<this.U.length;R++)if(this.U[R].add.lmfx)this.U[R].aD.gC=!0};fr.prototype.iw=function(){var s=this.v_.r1044;
if(s==null){s=this.v_.r1044=new Uint8Array(4);var M=0;for(var R=0;R<this.U.length;R++)M=Math.max(M,this.U[R].add.lyid);
c.FE(s,0,M)}var O=c.h4(s,0);c.FE(s,0,O+1);return O+1};fr.prototype.Y7=function(s,M,O){if(s==null)s=!0;
var P=this;if(P.G7.length!=0)return!0;if(P.Y.length!=1){if(s)alert(P.Y.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Vf(s,M,O)};fr.prototype.Vf=function(s,M,O){if(s==null)s=!0;if(M==null)M=!1;var P=this;
if(P.G7.length!=0)return!0;for(var R=0;R<P.Y.length;R++){var y=P.U[P.Y[R]],F=M||y.KV<=0;if(y.add.lsct!=null&&y.add.lsct!=dU.xu&&y.KV!=1){if(s)alert(aW.get([15,7,2]));
return!1}if(F&&!y.Lv()){if(s)alert(aW.get([15,7,2]));return!1}if(F&&y.add.TySh){return this.ami(s,[15,7,3],O)}if(F&&y.add.SoLd){return this.ami(s,[15,7,4],O)}if(y.T2(1)||P.dM(P.Y[R])){if(s)alert(aW.get([6,57,0]));
return!1}}return!0};fr.prototype.ami=function(s,M,O){if(s&&typeof s=="object"){var P=new kg(z.E.c);P.data={Q:z.J.xL,Rj:"confirm"};
P.data.K=aW.get(M)+". "+aW.get([6,8])+"?";var y=s;P.data.Xp=function(){var F=new kg(z.E.fa,!0);F.data={Cw:"rasterizeLayer",kT:{classID:"rasterizeLayer",null:f7.Ht("Lyr",!0)}};
y.a(F)};s.a(P);return!1}if(s)alert(aW.get(M));return!1};fr.prototype.aot=function(s){var M=this.root.vt(s);
if(M.parent)return M.w.CD()&&this.aot(M.parent.index);else return M.w.CD()};fr.prototype.E8=function(s){var M=this;
if(s){var O=0;for(var R=0;R<M.Y.length;R++)if(M.U[M.Y[R]].add.artb)O++;if(O>1)return-1}if(M.add.artd&&M.Y.length!=0){var P=M.root.vt(M.Y[0]);
while(P.parent.parent)P=P.parent;if(P.w.add.artb)return P.index}return-1};fr.prototype.nR=function(){var s=this.E8();
if(s!=-1){var M=this.U[s].Kj();return new j6(M.x,M.y)}return new j6(0,0)};fr.prototype.apS=function(){var s=this.U[this.Y[0]];
if(s.KV<=0&&!s.S.$B(this.h.S)){alert("Selected area is empty.");return!1}if(this.Y.length==1&&this.h){var M=a.j(this.h.N.length);
a.Sz(s.buffer,s.S,M,this.h.S);a.kd(this.h.N,M);if(a.p$(M,0)){alert("Selected area is empty.");return!1}}return!0};
fr.prototype.Cz=function(){if(this.v_["r"+1037]==null)this.Ya(30);return c.VU(this.v_["r"+1037],0)};
fr.prototype.Ya=function(s){if(this.v_["r"+1037]==null)this.v_["r"+1037]=new Uint8Array(4);if(c.VU(this.v_["r"+1037],0)==s)return;
c.Vd(this.v_["r"+1037],0,s);this.aHY()};fr.prototype.$p=function(){if(this.v_["r"+1049]==null)this.J0(30);
return c.VU(this.v_["r"+1049],0)};fr.prototype.J0=function(s){if(this.v_["r"+1049]==null)this.v_["r"+1049]=new Uint8Array(4);
if(c.VU(this.v_["r"+1049],0)==s)return;c.Vd(this.v_["r"+1049],0,s);this.aHY()};fr.prototype.gX=function(s){if(this.add.lnk2==null)return null;
for(var R=0;R<this.add.lnk2.length;R++)if(this.add.lnk2[R].Xh==s)return this.add.lnk2[R];return null};
fr.prototype.aeD=function(s){var M=this.gX(s);if(M==null)return!1;var O=b_.WG(M.raw.buffer);if(O==null)return!1;
if(b_.O7(O)!=null||O=="psd")return!0;return!1};fr.prototype.vP=function(s,M,O,P,y,F){var A=this.gX(s);
if(A==null)return null;A.Ta(M,O,P,y,F);if(A.EV)return A};fr.prototype.aHb=function(){var s=this.A,M=this.$,O=this.IH,P=this.depth;
if(ci.Qh&&O==null)O=this.IH=new ci.po(s,M,P,!0);if(this.buffer==null||this.buffer.length!=s*M*4||ci.Qh&&(O.A!=s||O.$!=M||O.depth!=P)){this.buffer=a.j(s*M*4,P);
if(O)O.delete();if(ci.Qh)O=this.IH=new ci.po(s,M,P,!0)}};fr.prototype.aCR=function(){this.aHb();if(ci.Qh){this.IH.set(this.buffer)}};
fr.prototype.kp=function(s){if(dc!=0)throw"redrawing in vector mode";var M=this.A,O=this.$,P=new gi(0,0,M,O),y=this.I2?P:P.OK(this.MD);
this.aHb();if(y.g3())return;if(!y.s0(P)){if(!ci.Qh){var F=a.j(y.C()*4,this.depth);a.FP(F,y,this.buffer,P)}if(ci.Qh){ci.b2(this.IH,y);
ci.s3(0)}}else{if(ci.Qh){this.IH.set(null)}else{this.buffer.fill(0)}}var A=Date.now(),h=ci.Qh?this.IH:this.buffer;
if(s==null)s=1e9;var m=this.root.children;for(var R=0;R<m.length;R++){var Z=m[R].w;if(Z.CD()&&Z.add.artb&&this.add.artd){var u=Z.Kj(),f=y.OK(u),U=Z.PG();
if(U!=0){if(ci.Qh){ci.b2(h,f);ci.s3(U);ci.s3(U)}else a.anv(h,P,f,U)}}}this.root.I6(h,P,y,this,[],s,c0);
c0.akP();this.au1=this.MD.v()};fr.prototype.Tk=function(s){var M=new ad;M.S=new gi(0,0,0,0);M.buffer=a.j(0,this.depth);
M.jj("Layer");if(s!=!0)M.add.lyid=this.iw();M.add.lsct=dU.xu;M.add.lclr=0;M.add.fxrp=new j6(0,0);return M};
fr.prototype.kA=function(s){var M=this.Tk(s);M.jj("</Layer group>");M.add.lsct=dU.Bs;M.Xa=24;return M};
fr.prototype.fX=function(){return this.oB!=this.up};fr.prototype.Bx=function(s){while(this.history.length>this.oB+1)this.history.pop();
if(this.up>this.oB)this.up=-1;if(s.l.id!=$.Qx){this.a6z=!0;if(this.Ru.lastAppliedComp){delete this.Ru.lastAppliedComp;
this.DI=!0}}this.history.push(s);this.oB++;this.DI=!0;var M=dB.Mo()?40:20,O=0;for(var R=this.history.length-1;
R>=0;R--){var P=this.history[R];if(P.aA_)continue;O++;if(O==M){this.oB-=R;this.history=this.history.slice(R);
break}}};fr.prototype.tX=function(){if(this.oB!=this.history.length-1)return null;return this.history[this.history.length-1]};
fr.prototype.td=function(s,M,O,P){if(s==null)s=!1;var y=M!=null?[M]:this.Y.slice(0);if(P){var F=[];for(var R=0;
R<y.length;R++){var A=this.U[y[R]],h=A.wC;if(A.P3&&h!=0&&F.indexOf(h)==-1)F.push(h)}if(F.length!=0)for(var R=0;
R<this.U.length;R++){var A=this.U[R],h=A.wC;if(A.P3&&h!=0&&F.indexOf(h)!=-1&&y.indexOf(R)==-1)y.push(R)}}var m=[];
for(var R=0;R<y.length;R++){var Z=this._N(y[R],s);for(var u=0;u<Z.length;u++)if(m.indexOf(Z[u])==-1)m.push(Z[u]);
if(O){var hS=this.root.vt(y[R]);while(hS.parent!=null&&hS.parent.parent!=null){hS=hS.parent;if(m.indexOf(hS.index)==-1){m.push(hS.index,hS.e5)}}}}return m};
fr.prototype.oc=function(s,M,O){var P=this,y=P.td(!1,s,null,O);y.sort(function(L,E){return L-E});var F={};
for(var A=0;A<P.U.length;A++){var h=P.U[A].getName();F[h]=!0}var m=[];for(var R=0;R<y.length;R++){var Z=P.U[y[R]].v(),X,Q;
Z.add.lyid=P.iw();Z.add.lspf=0;if(Z.o7()){var u=Z.UU(P),f=fr.azZ(u);P.hy(f);Z.add.SoLd.placed.v=f.id}else if(Z.add.SoLd){var U=Z.add.SoLd.placed.v;
Z.add.SoLd.placed.v=fr.iY(U.slice(0,8))+U.slice(8)}Z.uH(P);var C=Z.getName(),H=C.length;while(48<=C.charCodeAt(H-1)&&C.charCodeAt(H-1)<=57)H--;
var t=parseInt(C.slice(H));if(isNaN(t)){if(C.endsWith(" copy")){t=1;X=C.slice(0,C.length-5)}else{t=0;
X=C}}else if(C.slice(0,H).endsWith(" copy ")){t=t;X=C.slice(0,H-6)}else{t=0;X=C}t++;while(!0){Q=X+" copy"+(t==1?"":" "+t);
if(F[Q]==null)break;t++}var D=y.indexOf(this.root.vt(y[R]).parent.index)!=-1;if(C=="Background"&&P.U.length==1)Q="Layer 1";
if(M!=!0&&!D)Z.jj(Q);F[Q]=!0;m.push(Z)}return m};fr.azZ=function(s){return{id:fr.iY(s.id.slice(0,8))+s.id.slice(8),buffer:s.buffer.slice(0),S:s.S.v(),$E:s.$E?s.$E.v():null}};
fr.a3m=function(s,M){return{id:s,S:new gi,buffer:a.j(1,M),$E:new ad.OL(M)}};fr.ce=function(s,M,O){if(O==null)O=[0,0];
if(M==null)M={vmsk:new ad.Vp};if(M.vogk==null){M.vogk=[];var P=a.z._i(M.vmsk.u);for(var y=0;y<P;y++)M.vogk.push(a.cV.li())}return{name:s,Fa:0,gT:O,add:M}};
fr.prototype.Iv=function(s){var M=[],O=[],P=this;for(var R=1;R<P.J4.length;R++){var y=P.J4[R];y.Fa=-1-R;
M.push(y);if(P.J_.indexOf(R)!=-1)O.push(M.length-1)}if(P.J4[0].add.vmsk.u.length>2){var y=P.J4[0];y.Fa=-1;
M.push(y);if(P.J_.indexOf(0)!=-1)O.push(M.length-1)}var F=P.XK==null;if(F)P.XK=[];for(var R=P.Y.length-1;
R>=0;R--){var A=P.Y[R],h=P.U[A],m=h.add.TySh;if(h.add.vmsk!=null){var y=fr.ce("\""+h.getName()+"\" Shape Path",h.add);
y.Fa=A;M.push(y);if(F&&(h.eq||h.tE()))P.XK.push(A);if(P.XK.indexOf(A)!=-1)O.push(M.length-1)}if(m&&m.add&&a.Z6.Gn(m.jR)){var y=fr.ce("\""+h.getName().slice(0,10)+"..\" Text Path",m.add);
y.Fa=1e6+P.Y[R];M.push(y);O.push(M.length-1)}}if(O.length==0&&s){P.J4[0].Fa=-1;P.J_=[0];O.push(M.length);
M.push(P.J4[0])}return[M,O]};fr.prototype._N=function(R,s){var M=[],hS=this.root.vt(R);if(hS)hS.JN(M,s);
return M};fr.prototype.Jy=function(){this.root.XB(this,new gi(0,0,this.A,this.$))};fr.prototype.S7=function(s){for(var R=0;
R<this.U.length;R++){var M=this.U[R];if(s.indexOf(M)==-1){M.aD.a6_();M.vw()}}var O=0;for(var R=0;R<s.length;
R++)if(s[R].add.artb)O++;this.Fh(O);this.U=s.slice(0);this.DA()};fr.prototype.DA=function(){var s=this.U,M=s.length;
this.root=new cW;var O=this.Tk(!0);O.mX="pass";O.add.lsct=dU.l9;O.jj("");var P=this.kA(!0),y=[P];for(var R=0;
R<M;R++)y.push(s[R]);y.push(O);this.root.alX(y,0,0);if(this.Y.length==0)this.Y=[M-1]};fr.prototype.eg=function(){if(this.Y.length!=1)return;
var s=this.root.vt(this.Y[0]);while(s.parent!=null){var M=s.parent.w;M.add.lsct=dU.l9;s=s.parent}this.G_=this.aFl=!0};
fr.prototype.a0P=function(){this.DA();var s=[this.root],hR=0;while(s.length!=0){var top=s.pop();hR++;
if(top.w.add.lsct==dU.l9)for(var R=0;R<top.children.length;R++)s.push(top.children[R])}if(hR>1e3){var M=this.root.children;
for(var R=0;R<M.length;R++)if(M[R].w.add.lsct==dU.l9)M[R].w.add.lsct=dU.aY}};fr.gs=function(s,M,O,P,y,F,A,h,m){if(h==null)h="sRGB IEC61966-2.1";
if(m==null)m=8;var Z={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:P},artboard:{t:"bool",v:F},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:s*72/O}},Hght:{t:"UntF",v:{type:"#Rlt",val:M*72/O}},Rslt:{t:"UntF",v:{type:"#Rsl",val:O}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:y}},Dpth:{t:"long",v:m},profile:{t:"TEXT",v:h}}}};
if(y=="Clr")Z.Nw.v.FlCl={t:"Objc",v:A};return{Cw:"make",kT:Z}};fr.NX=["sRGB","Adobe RGB","ProPhoto RGB","Display P3"];
fr.wS=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"];fr.uX=[null,"icc/adobe","icc/prophoto","icc/displayp3"];
fr.aEs=function(s,M){var O=0,P=0,y=72,F=M.a6l,A=s.preset&&s.preset.v=="Clipboard",h=s.Dpth?s.Dpth.v:8;
if(A){O=F.A;P=F.$}else{O=s.Wdth.v.val;P=s.Hght.v.val;y=s.Rslt.v.val;O=Math.round(O*y/72);P=Math.round(P*y/72)}var m=new fr((s.Nm?s.Nm.v:aW.get([11,7]))+".psd");
m.A=O;m.$=P;m.FR=y;m.depth=h;var Z=s.Fl?s.Fl.v.Fl:"Wht";if(s.artboard&&s.artboard.v){var u=m.Tk();u.jj(aW.get([1,16,0])+" 1");
u.add.lsct=dU.l9;u.Y3(new gi(0,0,O,P));u.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[Z]};
if(Z=="Clr")u.add.artb.Clr={t:"Objc",v:a.wv.gN(a.wv.sl(s.FlCl.v))};u.mX="pass";u.Xa=24;var f=m.Tk();
f.jj("Layer 1");m.S7([m.kA(),f,u]);m.Fh(1);m.Y=[1]}else if(dc==0){var U=m.Tk(),C=0;U.jj("Background");
m.S7([U]);U.add.lspf=1<<2;if(Z=="Clr")C=a.wv.sl(s.FlCl.v);else if(Z!="Trns"){var H=M.Cc;C={Wht:{o:255,R:255,X:255},Blck:{o:0,R:0,X:0},BckC:{o:H>>>16,R:H>>>8&255,X:H&255}}[Z]}if(C){U.S=new gi(0,0,O,P);
U.buffer=a.j(O*P*4,h);cb.ll(U.buffer,a.wv.gN(C))}}if(dc==0)m.buffer=a.j(O*P*4,h);var t=s.profile;if(t){var X=fr.uX[fr.wS.indexOf(t.v)];
if(X)m.A1(b_.gy.get(X))}if(dc==1)m.FR=72;return m};fr.prototype.aay=function(){var s=this,M=s.add.arts=[],O=!0;
s.add.prvw=1;s.DA();var P=s.root.children;for(var R=0;R<P.length;R++)if(!P[R].w.ES())O=!1;if(!O||s.U.length==0){s.U.unshift(s.kA());
var y=s.Tk();y.jj("Layer 1");y.add.lsct=dU.l9;y.mX="pass";y.Xa=24;s.U.push(y);for(var R=0;R<s.Y.length;
R++)s.Y[R]++;s.GJ=!0}if(s.add.artd){delete s.add.artd;var F=[];for(var R=0;R<s.U.length;R++){var y=s.U[R],A=y.add.artb;
if(A==null)continue;var h=y.Kj();delete y.add.artb;M.push({TD:y.getName(),rC:[h.x,h.y,h.x+h.A,h.y+h.$],Y:!1});
var m=A.artboardBackgroundType.v;if(m!=1&&m!=3){var Z=s.root.vt(R).aDS;F.push([Z,m,h,a.wv.sl(A.Clr.v)])}}for(var R=0;
R<F.length;R++){var Z=F[R][0],m=F[R][1],h=F[R][2],u=F[R][3],y=s.Tk();y.jj("Background");y.add.vmsk=new ad.Vp;
y.add.vmsk.u=a.z.uU.Rect(h.x,h.y,h.A,h.$);y.add.vstk=aV.To.Jb(!0);y.add.vstl=aV.S0.Jb();y.add.vstl.Tq=[null,[1,1,1],[0,0,0],[],[u.o/255,u.R/255,u.X/255],[1,1,1]][m];
y.$k();s.U.splice(s.U.indexOf(Z)+1,0,y);s.DA()}console.log(F)}else M.push({TD:"Artboard",rC:[0,0,s.A,s.$],Y:!1});
if(s.name.endsWith(".psd"))s.name=s.name.slice(0,-4)+".ai";if(s.buffer)s.buffer=null;for(var R=0;R<s.U.length;
R++){var y=s.U[R],h=y.S;if(y.ES()&&y.add.vmsk==null&&y.Bl()){var f=y.Bl();$.HH.Kn(s,y,null);y.add.vmsk=new ad.Vp;
$.Y8.ay6(f,y)}if(y.Bl())$.HH.Kn(s,y,null);if(y.ES()&&y.add.vmsk){var U=s.Tk();s.U.splice(R,0,U);U.jj("<Clipping Path>");
U.Cj=!0;U.add.vogk=y.add.vogk;delete y.add.vogk;U.add.vmsk=y.add.vmsk;delete y.add.vmsk;U.add.vstk=aV.To.Jb();
U.add.SoCo=JSON.parse(aV.d$[aV.order.indexOf("SoFi")]);console.log("mask here!")}else if(y.add.SoLd&&y.add.vmsk){delete y.add.vmsk}else if(y.tE()&&y.add.vstl==null){if(y.add.vmsk==null){y.add.vmsk=new ad.Vp;
y.add.vmsk.u=a.z.uU.Rect(0,0,s.A,s.$);y.add.vstk=aV.To.Jb(!0);y.$k()}var C=y.add.vstl=fr.E6(y.add)}delete y.add.lmfx;
if(y.add.SoLd||y.add.TySh||y.add.vmsk||h.g3())continue;var H=h.A,t=h.$,X=a.Ou(y.buffer,H,t)?"JPG":"PNG";
if(H*t<700*700)X="PNG";var Q=b_.O7(X).u6([[y.buffer.buffer]],H,t),D=s.U[R]=s.N4(new Uint8Array(Q),y.getName(),h.x,h.y);
D.x1(y.CD());D.mX=y.mX;D.N_=y.N_}};fr.E6=function(s,M){var O=s.vstk,m=null,Z=null;if(O==null)O=aV.To.Jb(!0);
var P=aV.To.nc(O),y=aV.Lj(s),F=aV.wh(O);function A(m){var t=a.wv.sl(m.Clr.v);return[t.o/255,t.R/255,t.X/255]}var h=s.lmfx;
if(h)m=h.solidFillMulti.v[0];if(m)m=m.v;if(m&&(!m.enab.v||m.Opct.v.val<50))m=null;if(h)Z=h.frameFXMulti.v[0];
if(Z)Z=Z.v;if(Z&&(!Z.enab.v||Z.Opct.v.val<50))Z=null;var u=s.vmsk,f=u?u.u:a.z.uU.Rect(0,0,M.A,M.$);for(var U=0;
U<2;U++){var C=U==0?y:F,H=[];if(C.tn==1)H=km.nW(C.Rw.Clr.v);if(C.tn==2){H=s[U==0?"_fstl":"_sstl"];if(H==null||dc==0)H=eq.PV(C.Rw,f,M)}if(U==0&&m)H=A(m);
if(U==1&&Z){H=A(Z);P.WJ=Z.Sz.v.val;P.KG=aV.stroke.types.indexOf(Z.Styl.v.FStl);P.sa=1}if(U==0)P.Tq=H;
else P.Jc=H}return P};function fo(s){this.ZK=s;this.xq=0;this.ahD=1;this.jL=1;this.p=new j6(0,0);this.qK=new j6(0,0);
this.JL=0;this.P7=[1,1,1];this.V2=0;this.SB=new gi(0,0,1,1);this.awM=new gi(0,0,s.A,s.$);this.dO=null;
this.Gd=null;this.M6=null;this.Sq=null}fo.eu=null;fo.CA=null;fo.Id=function(s){var M=fo,O=s.C();if(M.eu==null||M.eu.length!=O*4){M.CA=a.j(O);
M.eu=a.j(O*4)}};fo.prototype._V=function(s){var M=new kp,O=this.SB,P=this.ZK,y=s?this.jL:this.xq,F=s?this.qK:this.p,A=Math.round((O.A-P.A*y)/2+F.x),h=Math.round((O.$-P.$*y)/2+F.y);
M.translate(-A,-h);M.scale(1/y,1/y);var m=P.A/2,Z=P.$/2;M.translate(-m,-Z);M.rotate(this.JL);M.translate(m,Z);
return M};fo.prototype.atn=function(s){var M=this.SB,O=this.ZK,P=Math.atan2(-s.X,s.cd),y=O.A/2,F=O.$/2;
s.translate(-y,-F);s.rotate(-P);s.translate(y,F);var A=1/s.dI();s.scale(A,A);var h=-s.cj,m=-s.H3,Z=Math.round(h-(M.A-O.A*A)/2),u=Math.round(m-(M.$-O.$*A)/2);
if(Math.abs(A-Math.round(A))<1e-6)A=Math.round(A);this.JL=P;this.xq=A;this.p=new j6(Z,u)};fo.prototype.u0=function(){var s=this._V(),M=200,O=100,P=Math.round($.yD()*M/12)*this.ahD;
s.scale(this.ZK.J.alH/(O*i.yD()),-1/P);s.translate(0,5*12);return s};fo.prototype.aoz=function(s,M,O){return this.u0().Kw(new j6(s,M))};
fo.prototype.ni=function(s,M,O){var P=this._V(),y=P.Kw(new j6(s,M));if(O){y.x=Math.round(y.x);y.y=Math.round(y.y)}return y};
fo.prototype.D7=function(s,M){var O=this._V();O.or();return O.Kw(new j6(s,M))};var ay=function(){function s(){this.HU=0;
this.WH={}}s.prototype.jX=function(M,O){var P=M.A+"x"+M.$,y=this.WH[P],F=0;if(y==null)y=this.WH[P]=[];
while(y[F]&&y[F][2])F++;if(y[F]==null)y[F]=[null,0,!1,0];y[F][0]=cW.km.alM(y[F][0],M,O);y[F][1]=this.HU;
y[F][2]=!0;y[F][3]=O;return y[F][0]};s.prototype.Jr=function(M,O){var P=[];for(var y in this.WH){var F=y.split("x"),A=parseInt(F[0]),h=parseInt(F[1]);
if(M.A>A||M.$>h||M.C()*10<A*h)continue;var m=this.WH[y];for(var R=0;R<m.length;R++)if(!m[R][2])P.push([A*h,m[R],A,h])}P.sort(function(f,U){return f[0]-U[0]});
if(P.length==0)return[this.jX(M,O),M];var Z=P[0],u=M.v();u.A=Z[2];u.$=Z[3];Z[1][1]=this.HU;Z[1][2]=!0;
Z[1][0]=cW.km.alM(Z[1][0],u,O);return[Z[1][0],u]};s.prototype.YF=function(M){for(var O in this.WH){var P=this.WH[O];
for(var R=0;R<P.length;R++)if(P[R][0]==M)P[R][2]=!1}};s.prototype.akP=function(){for(var M in this.WH){var O=this.WH[M];
for(var R=0;R<O.length;R++)if(O[R][1]!=this.HU){cW.km.delete(O[R][0]);O.splice(R,1);R--}if(O.length==0)delete this.WH[M]}this.HU++};
return s}(),c0=new ay;function aV(){}aV.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
aV.e1="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
aV.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];aV.aKx=["DrSh","IrSh","SoFi","GrFl","FrFX"];
aV.IA=["Clr"];aV.Pd="Grad Rvrs Type Algn Angl Dthr Scl gs99 Ofst".split(" ");aV.O5=["Ptrn","Angl","Scl","Algn","phase"];
aV.xD={zd:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",awr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",a2w:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",adc:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",ic:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
aV.xD.zd="\"Clr\": "+aV.xD.zd;aV.xD.wv="\"Grad\":"+aV.xD.awr+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"},\"gs99\":{\"t\":\"enum\",\"v\":{\"gradientInterpolationMethodType\":\"Gcls\"}}";
aV.xD.ic="\"Ptrn\":"+aV.xD.ic+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
aV.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
aV.d$=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+aV.xD.zd+","+aV.xD.wv+","+aV.xD.ic+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aV.xD.zd+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aV.xD.wv+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+aV.xD.ic+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
aV.wv={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),Vl:["Perc","Lnr","Gcls","Smoo","stripes"],names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
aV.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],wK:["SClr","GrFl","Ptrn"],a3a:[[13,0],[12,37],[12,62]]};
aV.ix={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],a5G:["SrcC","SrcE"],aCQ:[[19,5,1],[12,69]]};aV.FA={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],a5w:["SfBL","PrBL","Slmt"],acL:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
aV.To={_R:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],UK:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],hF:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+aV.xD.zd+"}")},strokeStyleResolution:{t:"doub",v:72}},Jb:function(s,M){var O=JSON.parse(aV.To.au4);
if(s)O.fillEnabled.v=!0;if(M)O.strokeEnabled.v=!0;return O},nc:function(s,M,O){if(M==null)M={};if(O==null)O=1;
var P=s.strokeStyleLineDashSet.v,y=M.WJ=s.strokeStyleLineWidth.v.val*O;M.LN=s.strokeStyleMiterLimit.v;
M.hH=s.strokeStyleLineDashOffset.v.val;M.sa=aV.To.join.indexOf(s.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
M.wF=aV.To._R.indexOf(s.strokeStyleLineCapType.v.strokeStyleLineCapType);M.KG=aV.To.UK.indexOf(s.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
M.wm=[];for(var R=0;R<P.length;R++)M.wm.push(P[R].v.val*y);if(M.wm.length==1&&M.wm[0]==0)M.wm=[];return M},write:function(s,M,O){if(O==null)O=1;
var P=M.WJ,y=M.LN,F=M.wm,A=M.hH,h=M.sa,m=M.wF,Z=M.KG;if(P!=null)P=s.strokeStyleLineWidth.v.val=Math.max(.4,P*O);
else P=s.strokeStyleLineWidth.v.val;if(Z!=null)s.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aV.To.UK[Z];
if(y!=null)s.strokeStyleMiterLimit.v=y;if(F!=null)s.strokeStyleLineDashSet.v=cb.QN(F,O/P);if(A!=null)s.strokeStyleLineDashOffset.v.val=A;
if(h!=null)s.strokeStyleLineJoinType.v.strokeStyleLineJoinType=aV.To.join[h];if(m!=null)s.strokeStyleLineCapType.v.strokeStyleLineCapType=aV.To._R[m]}};
aV.To.au4=JSON.stringify(aV.To.default);aV.S0={Jb:function(){return{Tq:[1,1,1],Jc:[0,0,0],WJ:1,LN:10,wm:[],hH:0,sa:0,wF:0,KG:1}},aF$:function(s){var M=iP.sl(s.StrokeColor),O=aV.S0.Jb();
O.KG=s.FillFirst?1:2;var P=s._LineCap,y=s._LineJoin,F=s._MiterLimit,A=s._LineDashOffset,h=s._LineDashArray,m=s.OutlineWidth;
if(P)O.wF=P;if(y)O.sa=y;if(F)O.LN=F;if(h)O.wm=h;if(m!=null)O.WJ=m;O.Jc=[M.o/255,M.R/255,M.X/255];return O},a9B:function(s,M){M.FillFirst=s.KG==1;
M._LineCap=s.wF;M._LineJoin=s.sa;M._MiterLimit=s.LN;M._LineDashArray=s.wm}};aV.wh=function(s){var M=s.strokeEnabled.v,O=s.strokeStyleContent.v;
return M?{tn:1+aV.To.hF.indexOf(O.classID),Rw:O}:{tn:0}};aV.IF=function(s,M){var O=M.tn;s.strokeEnabled.v=O!=0;
if(O!=0){s.strokeStyleContent.v=M.Rw;M.Rw.classID=aV.To.hF[O-1]}};aV.Lj=function(s){var M=s.vstk,O=null;
if(M&&!M.fillEnabled.v)O={tn:0};else if(s.SoCo)O={tn:1,Rw:s.SoCo};else if(s.GdFl)O={tn:2,Rw:s.GdFl};
else if(s.PtFl)O={tn:3,Rw:s.PtFl};return O};aV.IR=function(s,M){var O=s.vmsk,P=s.vstk,y=M.tn;if(P)P.fillEnabled.v=y!=0;
if(y>0){var F=["SoCo","GdFl","PtFl"][y-1];for(var R=0;R<3;R++)delete s[["SoCo","GdFl","PtFl"][R]];s[F]=M.Rw}};
aV.Qp=[{classID:"null",Clr:JSON.parse(aV.d$[5]).Clr},{classID:"null",Grad:JSON.parse(aV.d$[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(aV.d$[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var cb={};cb.a9M=function(s,M){function O(s,U){if(s==null||!s.masterFXSwitch.v)return null;var C=s[U].v,H;
if(C.length!=0){H=C[0].v;if(!H.enab.v)H=null}return H}var P=M.SoCo,y=M.GdFl,F=O(s,"solidFillMulti"),A=O(s,"gradientFillMulti");
if(F==null&&A==null)return[P,y];var h=cb.a3h;if(P&&F&&A==null){var m=a.G(P);m.Clr.v=h(F.Clr.v,P.Clr.v,F);
return[m,null]}if(y&&F&&A==null){var Z=a.G(y),u=Z.Grad.v.Clrs.v;for(var R=0;R<u.length;R++){var f=u[R].v.Clr;
f.v=h(F.Clr.v,f.v,F)}return[null,Z]}if(P&&A){var Z=a.G(A),u=Z.Grad.v.Clrs.v;for(var R=0;R<u.length;R++){var f=u[R].v.Clr;
f.v=h(f.v,P.Clr.v,A)}return[null,Z]}return[F,A]};cb.U7={yo:a.j(4),HW:a.j(4),o:new gi(0,0,1,1)};cb.a3h=function(s,M,O){var P=h0.KL(O.Md.v.BlnM),y=O.Opct.v.val/100,F=cb.U7;
s=a.wv.sl(s);M=a.wv.sl(M);F.yo[0]=s.o;F.yo[1]=s.R;F.yo[2]=s.X;F.yo[3]=255;F.HW[0]=M.o;F.HW[1]=M.R;F.HW[2]=M.X;
F.HW[3]=255;a.B.qZ(P,F.yo,F.o,F.HW,F.o,F.o,y);return{classID:"RGBC",Rd:{t:"doub",v:F.HW[0]},Grn:{t:"doub",v:F.HW[1]},Bl:{t:"doub",v:F.HW[2]}}};
cb.asF=function(s,M,O){var P=s;s=s.slice(0);var y=h0.n$[h0.iQ.indexOf(M.Md.v.BlnM)],F=a.wv.sl(M.Clr.v),A=4278190080|Math.round(F.X)<<16|Math.round(F.R)<<8|Math.round(F.o),h=a.j(O.C()*4);
a.vK(h,A);a.B.qZ(y,h,O,s,O,O,M.Opct.v.val/100);for(var R=0;R<s.length;R+=4)s[R+3]=P[R+3];return s};cb.TV=function(s,M){var O=["Sz","blur","Sftn","Dstn"];
for(var R=0;R<aV.order.length;R++){var P=aV.order[R],y=s[aV.e1[R]].v;for(var F=0;F<y.length;F++){var A=y[F].v;
for(var h=0;h<O.length;h++){var m=A[O[h]];if(m){var Z=m.v.val,u=Z;u=Math.max(Z==0?0:1,u*M);if(P=="ChFX")u=Math.min(u,250);
if(P=="ebbl"){if(O[h]=="blur")u=Math.min(u,250);if(O[h]=="Sftn")u=Math.min(u,16)}m.v.val=Math.round(u)}}if(P=="ebbl"||P=="patternFill"||P=="FrFX")if(A.Ptrn&&A.Scl)A.Scl.v.val=Math.max(1,Math.min(1e3,A.Scl.v.val*M))}}};
cb.ajB=function(s,M,O){var P=new gi(-.5,-.5,1,1);for(var R=0;R<aV.order.length;R++){var y=aV.order[R],F=s[aV.e1[R]].v;
for(var A=0;A<F.length;A++){var h=F[A].v,f;if(!h.enab.v)continue;var m=h.blur?h.blur.v.val+1:0,Z=h.Ckmt?h.Ckmt.v.val/100:0,u=Math.round(m*Z);
if(y=="DrSh"||y=="IrSh"&&O){f=new gi(-.5,-.5,1,1);f.rX(m,m);cb.NJ(f,h,M,0)}if(y=="St3D"){f=new gi(-.5,-.5,1,1);
cb.NJ(f,h,M,Math.PI,"Angl")}if(y=="OrGl"||y=="IrGl"&&O){f=new gi(-.5,-.5,1,1);f.rX(m,m)}if(y=="FrFX"){var U=cb.qI(h),C=U[1];
if(O)C=Math.max(U[0],C);f=new gi(-.5,-.5,1,1);f.rX(Math.ceil(C),Math.ceil(C))}if(y=="ebbl"){var m=h.blur.v.val,H=h.bvlS.v.BESl;
if(H=="Embs"||H=="PlEb")m/=2;var t=["OtrB","InrB","Embs","PlEb","strokeEmboss"],X=["SfBL","PrBL","Slmt"],Q=["In","Out"],D=h.bvlT.v.bvlT!="SfBL"?m:m*.43,L=Math.round(m);
f=new gi(-L-1,-L-1,2*L+2,2*L+2)}if(O&&y=="ChFX"){f=new gi(-.5,-.5,1,1);f.rX(m,m);var E=f.v();cb.NJ(f,h,M,0);
cb.NJ(E,h,M,Math.PI);f=f.v8(E)}if(f)P=P.v8(f)}}if(P.x!=Math.ceil(P.x)){P.x=Math.ceil(P.x);P.A-=1}if(P.y!=Math.ceil(P.y)){P.y=Math.ceil(P.y);
P.$-=1}P.A=Math.floor(P.A);P.$=Math.floor(P.$);return P};cb.qI=function(s){var M,O,P=0,y=0;if(s.Sz){M=s.Sz.v.val;
O=aV.stroke.types.indexOf(s.Styl.v.FStl)}else{M=s.Wdth.v;O=["Insd","Cntr","Otsd"].indexOf(s.Lctn.v.StrL)}if(O==0)P=M;
if(O==1)P=y=M/2;if(O==2)y=M;return[P,y]};cb.a5l=function(s,M){if(ci.Qh&&s.Hq==null){var O=s.tG,P=O instanceof Array;
if(P){s.Hq=[s.tG[0],new ci.GZ(s.Ng.A,s.Ng.$,M)];s.Hq[1].set(s.tG[1]);delete s.tG}else{s.Hq=new ci.po(s.Ng.A,s.Ng.$,M);
s.Hq.set(s.tG);delete s.tG}if(s.CF){s.nd=new ci.GZ(s.Ng.A,s.Ng.$,M);s.nd.set(s.CF);delete s.CF}if(s.kb){s.Ld=new ci.GZ(s.Ng.A,s.Ng.$,M);
s.Ld.set(s.kb);delete s.kb}}};cb.aa$=function(s){if(s.Hq)s.Hq instanceof Array?s.Hq[1].delete():s.Hq.delete();
if(s.nd)s.nd.delete();if(s.Ld)s.Ld.delete()};cb.aJw=function(s){if(s.all==null)return;for(var R=0;R<s.all.length;
R++){cb.aa$(s.all[R])}};cb.ama=function(s){var M=s.all;for(var R=0;R<M.length;R++){var O=M[R];if(O.tG instanceof Array){var P=O.tG[1],y=O.tG[0],F=a.$i(P),A=a.j(O.Ng.C()*4,F);
if(F==8)new Uint32Array(A.buffer).fill(new Uint32Array(y.buffer)[0]);else for(var R=0;R<A.length;R+=4){A[R]=y[0];
A[R+1]=y[1];A[R+2]=y[2]}a.GS(P,A,3);O.tG=A}}};cb.aCs=function(s,M,O,P,y,F){var A=cb.Xt(O,P,s,M,y,F),h=y.depth;
for(var R=0;R<A.all.length;R++){var m=A.all[R];if(m.tG instanceof Array)m.tG=[a.Gp(m.tG[0],h),a.Gp(m.tG[1],h)];
else m.tG=a.Gp(m.tG,h);if(m.CF)m.CF=a.Gp(m.CF,h);if(m.kb)m.kb=a.Gp(m.kb,h);cb.a5l(m,h)}return A};cb.al4=function(s){for(var R=0;
R<aV.order.length;R++){var M=aV.order[R],O=aV.e1[R],P=s[O].v;for(var y=0;y<P.length;y++){var F=P[y].v;
if(F.enab.v&&["patternFill","GrFl","SoFi"].indexOf(M)==-1)return!0}}return!1};cb.Xt=function(s,M,O,P,y,F){var A=a.$i(O),h=16,m=0,Z=0;
O=a.Gp(O,h);if(F==null)F=P;for(var R=0;R<aV.order.length;R++){var u=aV.order[R],f=aV.e1[R],U=s[f].v;
for(var C=0;C<U.length;C++){var H=U[C].v;if(u=="DrSh"&&H.enab.v&&H.Ckmt.v.val>0&&H.blur.v.val>0)m=Math.max(m,Math.ceil(H.Ckmt.v.val*H.blur.v.val/100));
if(u=="OrGl"&&H.enab.v&&H.Ckmt.v.val>0&&H.blur.v.val>0&&H.GlwT.v.BETE=="SfBL")m=Math.max(m,Math.ceil(H.Ckmt.v.val*H.blur.v.val/100));
if(u=="OrGl"&&H.enab.v&&H.blur.v.val>0&&H.GlwT.v.BETE=="PrBL")m=Math.max(m,H.blur.v.val);if(u=="FrFX"&&H.enab.v&&H.Sz.v.val>0){if(H.Styl.v.FStl=="OutF")m=Math.max(m,H.Sz.v.val);
if(H.Styl.v.FStl=="CtrF")m=Math.max(m,Math.ceil(H.Sz.v.val/2));Z=Math.max(Z,cb.qI(H)[1])}}}var t=new cb.sx(O,P,m,cb.al4(s)),X=-P.x,Q=-P.y,D={I:{},all:[]};
for(var L=0;L<aV.order.length;L++){var u=aV.order[L],f=aV.e1[L];D.I[u]=[];for(var E=s[f].v.length-1;
E>=0;E--){var _=s[f].v[E].v,x;if(!_.enab.v)continue;var S=_.blur?_.blur.v.val:0,W=_.Ckmt?_.Ckmt.v.val/100:0,g=S*W;
if(u=="St3D"){var V=Math.max(1e-4,1-_.Srnk.v.val/100),d=2,bz=0;function b(N,e1,_){var jO=_.Angl.v.val;
jO*=Math.PI/180;var v=_.Dstn.v.val,bB=Math.cos(jO)*v,fl=-Math.sin(jO)*v,kc=V+e1*(1-V),eh=new kp;eh.translate(-N.A/2,-N.$/2);
eh.scale(kc,kc);eh.translate(N.A/2,N.$/2);eh.translate((1-e1)*bB,(1-e1)*fl);return eh}var N=P.v(),J=a.Gp(O,8);
N.x=N.y=0;var K=Date.now(),q=N.v();q.rX(d,d);var l=a.j(q.C(),8);a.TT(J,N,l,q);a.er.SO(l,q,2);var T=a.Cs(8),B=a.wv.sl(_.Clr.v),p=B.o/255,I=B.R/255,w=B.X/255,e=a.j(N.C()),G=N.A,j=N.$,o=q.A,r=q.$,k=a.j(256*4),a7=new Uint32Array(k.buffer),Y=cb.aiB(_,y),v=Math.cos(Y[1]),n=-Math.cos(Y[0])*v,cm=Math.sin(Y[0])*v;
if(Math.abs(n)<.001&&Math.abs(cm)<.001)n=cm=0;for(var a5=0;a5<j;a5++)for(var gP=0;gP<G;gP++){var R=(a5+d)*o+gP+d,C=a5*G+gP,cg=C*4,a9=l[R+1]-l[R-1],ew=l[R+o]-l[R-o],h7=a9*a9+ew*ew;
if(h7>10){var bh=1/Math.sqrt(h7),ba=n*bh*a9+cm*bh*ew;e[C]=Math.max(1,Math.min(T,T*.5+T*.5*ba));var jx=e[C]*4;
if(k[jx+3]==0){var c4=-ba,bq=0;if(ba>0){c4=0;bq=ba}k[jx]=255*(1-c4)*(bq+(1-bq)*p);k[jx+1]=255*(1-c4)*(bq+(1-bq)*I);
k[jx+2]=255*(1-c4)*(bq+(1-bq)*w);k[jx+3]=255}}else e[C]=0}var di=l;di.fill(0);a.TT(J,N,di,q);var il=[J,N],j0=b(N,0,_),j1=a.b.hC(N).L,b5=j1.slice(0);
a.b.M(j1,j0,b5);var b4=N.v8(a.b.q7(b5)),lm=a.j(b4.C()*4,8),ix=b4.A,jy=b4.$;for(var R=0;R<8;R+=2){var a9=j1[R]-b5[R],ew=j1[R+1]-b5[R+1];
bz=Math.max(bz,Math.sqrt(a9*a9+ew*ew))}var c5=Math.round(bz/2),k0=new Uint16Array(e.length),cd=new Uint16Array(j);
for(var a5=0;a5<j;a5++)for(var gP=G-1;gP>=0;gP--){var R=a5*G+gP,fz=0;if(e[R]!=0){fz=0;if(cd[a5]==0)cd[a5]=gP+1}else if(gP==G-1)fz=50;
else fz=k0[R+1]+1;k0[R]=fz}var fu=_.Drkn.v.val/100,c6=new Uint32Array(lm.buffer),k7=new Uint8ClampedArray(lm.buffer);
for(var hP=c5-1;hP>=0;hP--){var e1=hP/c5,fs=1-fu+e1*fu,eh=b(N,e1,_),gW=eh.v();gW.or();var hk=1/gW.cd;
for(var a5=0;a5<jy;a5++){var jz=(a5+b4.y+.5)*gW.zv+gW.H3;if(!(0<=jz&&jz<j))continue;var lh=Math.floor(jz),ag=lh*G,eo=Math.max(0,Math.floor((k0[ag]-gW.cj)*hk-b4.x-.5)),aC=Math.min(ix,Math.ceil((cd[lh]-gW.cj)*hk-b4.x-.5)),e8=(eo-1+b4.x+.5)*gW.cd+gW.cj;
for(var gP=eo;gP<aC;gP++){var lb=a5*ix+gP<<2;e8+=gW.cd;if(lm[lb+3]==255){}else if(0<=e8&&e8<G){var jn=ag+Math.floor(e8),k3=k0[jn];
if(k3!=0){var fz=Math.floor((k3-1)*hk);gP+=fz;e8+=fz*gW.cd}else{var cP=a.F.aLm(e8+d,jz+d,di,o,r)*(1/255),cV=255-lm[lb+3],l2=1/255*cP*fs*cV,dS=a7[e[jn]];
k7[lb]+=(dS&255)*l2;k7[lb+1]+=(dS>>>8&255)*l2;k7[lb+2]+=(dS>>>16&255)*l2;k7[lb+3]+=cP*cV}}}}}a.d7(lm);
x={tG:lm,Ng:b4}}else if(u=="DrSh"){var gH=t.CQ(g,S-g,!0),hd=gH.v0,bL=gH.Iz.v();cb.GP(hd,_,!1);if(_.Cntn&&_.Cntn.v){var au=new gi;
cb.NJ(au,_,y,0);var ev=bL.v();ev.offset(-au.x,-au.y);ev=ev.v8(bL);var eF=a.j(ev.C(),h);a.TT(hd,bL,eF,ev);
var fn=Math.sqrt(au.x*au.x+au.y*au.y),iu=hd.slice(0);for(var R=0;R<fn-1;R++){var a9=Math.round(-au.x*R/fn),ew=Math.round(-au.y*R/fn),gz=gH.Iz.v();
gz.offset(a9,ew);a.a3K(iu,gz,eF,ev)}hd=eF;bL=ev}bL.offset(X,Q);cb.NJ(bL,_,y,0);var lm=a.j(4,h);cb.ll(lm,_.Clr.v);
x={tG:[lm,hd],Ng:bL,at9:_.layerConceals.v}}else if(u=="IrSh"){var gH=t.CQ(g,S-g,!1);cb.NJ(gH.Iz,_,y,0);
var bL=t.S().v(),hd=a.j(bL.C(),h);hd.fill(a.Cs(h));a.TT(gH.v0,gH.Iz,hd,bL);cb.GP(hd,_,!0,!0);var lm=a.j(4,h);
cb.ll(lm,_.Clr.v);bL.offset(X,Q);x={tG:[lm,hd],Ng:bL}}else if(u=="GrFl"){var lm=a.j(t.S().C()*4,A);cb.QS(_,lm,t.S(),y,null,F);
var bL=t.S().v();bL.offset(X,Q);x={tG:lm,Ng:bL}}else if(u=="SoFi"){var lm=a.j(4,h);cb.ll(lm,_.Clr.v);
var dL=a.j(t.v0().length,A);dL.fill(a.Cs(A));var bL=t.S().v();bL.offset(X,Q);x={tG:[lm,dL],Ng:bL}}else if(u=="ebbl"){var dm=!1;
if(dm)console.log(_);var K=Date.now(),cM=K,l5=_.bvlS.v.BESl,i3=_.bvlT.v.bvlT;if(l5=="strokeEmboss"){var eg=s.frameFXMulti.v;
if(eg.length==0)continue;eg=eg[0].v;if(!eg.enab.v)continue;var la=eg.Styl.v.FStl;if(la=="OutF")l5="OtrB";
if(la=="CtrF")l5="Embs";if(la=="InsF")l5="InrB"}var S=_.blur.v.val;if(S==0)S=.7;if(l5=="Embs"||l5=="PlEb")S/=2;
var ea=["OtrB","InrB","Embs","PlEb","strokeEmboss"],iB=["SfBL","PrBL","Slmt"],jG=["In","Out"],j5=i3!="SfBL"?S:S*.45,hU=Math.round(S),kn=t.S().v(),k5=kn.v();
k5.rX(hU,hU);var G=k5.A,j=k5.$,a0=G*j,ab=a.j(a0,h);a.TT(t.v0(),kn,ab,k5);var c$=a.style.KJ(ab,G,j);a.or(ab);
var eB=a.style.KJ(ab,G,j);if(dm)console.log("distTransform computed",Date.now()-K);K=Date.now();cb.a78(j5,c$,eB);
if(dm)console.log("summing + cropping",Date.now()-K);K=Date.now();if(i3=="SfBL"){var ii=Math.pow(S*.21,1.22);
if(!0)ii=Math.max(ii,2);a.er.SO(eB,k5,ii,2)}if(dm)console.log("blurring",Date.now()-K);K=Date.now();
var eY=eB,kF=c$;kF.set(eY);if(_.useShape.v){var a4=Math.min(100,_.Inpr.v.val+1)/100;if(l5!="OtrB"&&l5!="InrB")a4=1;
var hW=a.Vt.N8(_.MpgS.v.Crv.v,2e3),i9=Math.round(2e3/a4);hW=a.Vt.a9x(hW,i9,l5=="InrB");var be=.5/j5;
for(var R=0;R<a0;R++){var jQ=eY[R],iA=.99999*(jQ+j5)*be;eY[R]=-j5+2*j5*hW[~~(iA*(i9-1))]}if(dm)console.log("applying shape",Date.now()-K);
K=Date.now()}if(_.useTexture.v){var g0=a.j(G*j*4);cb.g1(_,g0,k5,y.add.Patt,M);var h$=a.j(G*j);a.K1(g0,h$);
a.er.US(h$,k5,1);var bs=S*_.textureDepth.v.val*(1/100)*(1/255);if(_.InvT.v)bs=-bs;for(var R=0;R<a0;R++)eY[R]+=-bs*h$[R];
if(dm)console.log("applying texture",Date.now()-K);K=Date.now()}var jf=l5=="PlEb",aO=new Float32Array(a0),le=aO;
if(jf){le=new Float32Array(a0)}var lj=cb.aq4(G,j,_,y,eY,aO,le,jf);if(dm)console.log("raycasting",Date.now()-K);
K=Date.now();if(_.Sftn.v.val!=0){a.er.SO(aO,k5,_.Sftn.v.val*.43,2);if(jf)a.er.SO(le,k5,_.Sftn.v.val*.43,2)}if(dm)console.log("softening",Date.now()-K);
K=Date.now();var gM=a.j(G*j,h),gt=a.j(G*j,h),jr=gM,iQ=gt;if(jf){jr=a.j(G*j,h);iQ=a.j(G*j,h)}cb.a0r(_,G,j,lj,j5,jf,kF,gM,gt,jr,iQ,aO,le);
if(dm)console.log("baking textures",Date.now()-K);K=Date.now();k5=t.S().v();k5.rX(hU,hU);k5.offset(X,Q);
x={au3:_.bvlS.v.BESl=="strokeEmboss"};var fd=h0.KL(_.hglM.v.BlnM),bu=_.hglO.v.val/100,hK=h0.KL(_.sdwM.v.BlnM),dt=_.sdwO.v.val/100,j4=a.j(4,h);
cb.ll(j4,_.hglC.v);var jp=a.j(4,h);cb.ll(jp,_.sdwC.v);if(["InrB","Embs","PlEb"].indexOf(l5)!=-1){x.AM={tG:[j4,gM],Ng:k5,yI:fd,fv:bu};
x.x4={tG:[jp,gt],Ng:k5,yI:hK,fv:dt}}if(["OtrB","Embs","PlEb"].indexOf(l5)!=-1){x.$d={tG:[j4,jr],Ng:k5,yI:fd,fv:bu};
x.OZ={tG:[jp,iQ],Ng:k5,yI:hK,fv:dt}}if(dm)console.log(Date.now()-cM)}else if(u=="patternFill"){var j7=t.S(),lm=a.j(j7.C()*4,A);
cb.g1(_,lm,j7,y.add.Patt,M);var bL=j7.v();bL.offset(X,Q);x={tG:lm,Ng:bL}}else if(u=="ChFX"){var K=Date.now(),S=_.blur.v.val,iI=t.S().v();
iI.rX(S,S);var ah=a.j(iI.C(),h);a.TT(t.v0(),t.S(),ah,iI);a.er.SO(ah,iI,S*.43);cb.aGN(ah,_.MpgS.v.Crv.v);
var p=t.S(),bA=iI.v(),c8=iI.v();cb.NJ(bA,_,y,0);cb.NJ(c8,_,y,Math.PI);var B=a.j(p.C(),h);a.TT(ah,c8,B,p);
var ln=p.OK(bA),G=ln.A;for(var a5=0;a5<ln.$;a5++){var f8=(a5+ln.y-p.y)*p.A+ln.x-p.x,j2=(a5+ln.y-bA.y)*bA.A+ln.x-bA.x;
for(var gP=0;gP<G;gP++)B[f8+gP]=Math.abs(B[f8+gP]-ah[j2+gP])}if(_.Invr.v)a.or(B);var lm=a.j(4,h);cb.ll(lm,_.Clr.v);
var bL=t.S().v();bL.offset(X,Q);x={tG:[lm,B],Ng:bL}}else if(u=="OrGl"){var gH,d1=cb.a4z(_),lm=null;if(_.GlwT.v.BETE=="SfBL"){gH=t.CQ(g,S-g,!0);
cb.awF(gH.v0,d1)}else gH=t.aCN(S,W,!0,d1);var hd=gH.v0,bL=gH.Iz,cI=hd.slice(0);if(_.Grad==null){cb.GP(hd,_,!1);
var g0=a.j(4,h);cb.ll(g0,_.Clr.v);lm=[g0,hd]}else{cb.RK(hd,_);var fT={cL:hd,Yy:a.Cs(h),aH:0,UM:bL};lm=a.j(bL.C()*4,h);
cb.QS(_,lm,bL,y,fT);var fk=bL.A,c9=a.Cs(h),gC=c9*(32/255);for(var R=0;R<cI.length;R++){var bE=c9,a6=cI[R];
if(a6<c9){var kr=(a6+cI[R-1]+cI[R+1]+cI[R-fk]+cI[R+fk])*.2-1;bE=Math.min(c9,Math.round(Math.max(0,kr)*8))}hd[R]=bE}cb.wo(hd,_,!1);
a.GS(hd,lm,3)}bL.offset(X,Q);x={tG:lm,Ng:bL}}else if(u=="IrGl"){var gH,d1=cb.a4z(_),lm=null;if(_.GlwT.v.BETE=="SfBL"){gH=t.CQ(g,S-g,!1);
cb.awF(gH.v0,d1)}else gH=t.aCN(S,W,!1,d1);var hd=gH.v0,bL=gH.Iz;if(_.glwS.v.IGSr=="SrcC")a.or(hd);if(_.Grad==null){cb.GP(hd,_,!0);
var g0=a.j(4,h);cb.ll(g0,_.Clr.v);lm=[g0,hd]}else{cb.RK(hd,_);var fT={cL:hd,Yy:a.Cs(h),aH:0,UM:bL};lm=a.j(bL.C()*4,h);
cb.QS(_,lm,bL,y,fT);hd.fill(a.Cs(h));cb.wo(hd,_,!1);a.GS(hd,lm,3)}bL.offset(X,Q);x={tG:lm,Ng:bL}}else if(u=="FrFX"){var gv=cb.qI(_),hl=gv[0],k9=gv[1],bL=t.S().v(),ac=null,cN=null,lm=null;
bL.rX(Math.ceil(Z),Math.ceil(Z));if(k9>0){var gH=t.CQ(k9,0,!0);cN=gH.v0;if(cN.length<bL.C()){cN=a.j(bL.C(),h);
a.TT(gH.v0,gH.Iz,cN,bL)}}if(hl>0){var gH=t.CQ(hl,0,!1);ac=a.j(bL.C(),h);ac.fill(a.Cs(h));a.TT(gH.v0,gH.Iz,ac,bL)}bL.offset(X,Q);
var g$=_.PntT.v.FrFl;if(g$=="SClr"){var g0=a.j(4,A),gD=a.j(bL.C(),A);cb.ll(g0,_.Clr.v);gD.fill(a.Cs(A));
lm=[g0,gD]}else{lm=a.j(bL.C()*4,A);if(g$=="GrFl")cb.QS(_,lm,bL,y,t.auK(hl,k9));if(g$=="Ptrn")cb.g1(_,lm,bL,y.add.Patt,M)}var ds=_.overprint,iz=ds?ds.v:!1;
if(iz){var dL=ac?ac:cN;if(ac&&cN)a.Ns.OK(ac,cN,dL);dL=a.Gp(dL,A);if(lm instanceof Array)lm[1].set(dL);
else a.GS(dL,lm,3)}x={tG:lm,Ng:bL,kb:cN,CF:ac,aIn:iz}}D.I[u].push(x);if(u=="ebbl"){if(x.AM)D.all.push(x.AM,x.x4);
if(x.$d)D.all.push(x.$d,x.OZ)}else{x.yI=h0.KL(_.Md.v.BlnM);x.fv=_.Opct.v.val/100,D.all.push(x)}}}return D};
cb.Oi=function(s){var M=1/Math.sqrt(s.x*s.x+s.y*s.y+s.QL*s.QL);s.x*=M;s.y*=M;s.QL*=M};cb.aH2=function(s,M){return{x:s.y*M.QL-s.QL*M.y,y:s.QL*M.x-s.x*M.QL,QL:s.x*M.y-s.y*M.x}};
cb.alI=function(s,M){return s.x*M.x+s.y*M.y+s.QL*M.QL};cb.a78=function(s,M,O){var P=M.length;for(var R=0;
R<P;R++){var y=O[R]-M[R];O[R]=y}for(var R=0;R<P;R++){var y=O[R];if(y<-s)O[R]=-s;else if(y>s)O[R]=s}};
cb.aq4=function(s,M,O,P,y,F,A,h){var m=cb.aiB(O,P),Z=m[0],u=m[1],f=Math.cos(Z)*Math.cos(u),U=-Math.sin(Z)*Math.cos(u),C=Math.sin(u);
F.fill(C);if(h)A.fill(C);var H=(O.bvlT.v.bvlT=="SfBL"?1:.5)*(O.bvlD.v.BESs=="In"?1:-1)*O.srgR.v.val/100,t=-.125*H;
for(var X=0;X<M;X++){var Q=X==0?0:-s,D=X==M-1?0:s,R=X*s;for(var L=0;L<s;L++,R++){var E=L==0?R:R-1,_=L==s-1?R:R+1,S=y[_]-y[E],W=y[R+D]-y[R+Q];
if(S*S+W*W<.005)continue;var g=y[E+Q],x=y[_+Q],V=y[E+D],b=y[_+D],N=t*(x+2*S+b-g-V),J=t*(V+2*W+b-g-x),K=1/Math.sqrt(N*N+J*J+1);
N*=K;J*=K;F[R]=Math.max(0,N*f+J*U+K*C);if(h)A[R]=Math.max(0,-N*f-J*U+K*C)}}return C};cb.a0r=function(s,M,O,P,y,F,A,h,m,Z,u,f,U){var C=1/P,H=1/(1-P),t=1/y,X=a.$i(h),Q=a.Cs(X),D=a.Vt.N8(s.TrnS.v.Crv.v,1024),L=new Float32Array(2500);
for(var R=0;R<2500;R++){var E=Math.max(0,Math.min(1,(R-500)*.001));L[R]=Math.pow(E,.2)}var _=new Float32Array(1024),S=new Float32Array(1024);
for(var R=0;R<1024;R++){var W=D[R];_[R]=Q*(1-Math.min(1,W*C));S[R]=Q*(1-Math.min(1,(1-W)*H))}for(var g=0;
g<O;g++)for(var E=0;E<M;E++){var R=g*M+E,x=(A[R]+y*.993)*t,V=L[~~(500+x*1e3)],b=~~(f[R]*1023);m[R]=V*_[b];
h[R]=V*S[b];if(F){b=~~(U[R]*1023);u[R]=V*_[b];Z[R]=V*S[b]}}};cb.xg=function(s){var M=cb.lh(),O=s.a8,P=!1;
for(var R=0;R<32;R+=8)if(O[R]+O[R+1]+O[R+4]+O[R+5]!=0||O[R+2]+O[R+3]+O[R+6]+O[R+7]!=1020)P=!0;if(P){O=O.slice(0);
for(var R=0;R<40;R+=4){var y=O[R]/255,F=O[R+1]/255,A=O[R+2]/255,h=O[R+3]/255;O[R]=y-.001;O[R+1]=y==F?1e6:1/(F-y);
O[R+2]=A==h?-1e6:1/(A-h);O[R+3]=h+.001}}var m=s.add.iOpa!=null?s.add.iOpa/255:M.fill,Z=s.add.vstk;if(Z&&!Z.fillEnabled.v&&(!Z.strokeEnabled.v||Z.strokeStyleLineWidth.v.val==0))m=0;
return{fill:m,Js:P?O:null,ra:s.add.brst!=null?s.add.brst:M.ra,a02:s.add.knko!=null?s.add.knko:M.a02,style:!1,gZ:!1}};
cb.lh=function(){return{fill:1,Js:null,ra:[1,1,1],a02:0,style:!1,gZ:!1}};cb.a0y=function(s,M,O,P,y,F,A,h){if(h==null)h=1;
if(A==null)A=new kp;var m=s.ah[1].A,Z=s.ah[1].$,u=new kp,f=y<2;if(f)u.translate(-m/2,-Z/2);if(y==0){h*=Math.max(O/m,P/Z)}else if(y==1){h*=Math.min(O/m,P/Z)}else if(y==2){u.scale(1/m,1/Z);
u.concat(A);u.scale(O,P)}else if(y==3){h=h}u.scale(h,h);if(f)u.translate(O/2,P/2);u.concat(F);M.Ptrn.v.Idnt.v=s.id;
M.Scl.v.val=Math.round(100*u.dI());M.Angl.v.val=Math.round(180*Math.atan2(-u.X,u.cd)/Math.PI);M.Algn.v=!0;
var U=M.phase.v;U.Hrzn.v=Math.round(u.cj);U.Vrtc.v=Math.round(u.H3)};cb.Hh=function(s,M){if(M==null)return null;
var O=s.Idnt.v,P=s.Nm.v;for(var R=0;R<M.length;R++)if(M[R].id==O)return M[R];for(var R=0;R<M.length;
R++)if(M[R].name==P)return M[R];return null};cb.ayw=function(s,M,O){var P=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var R=0;R<P.length;R++){var y=s.v[P[R]].v;for(var F=0;F<y.length;F++)if(y[F].v.Ptrn)M.mo(cb.Hh(y[F].v.Ptrn.v,O))}};
cb.ahV=function(s,M,O){var P=["patternFillMulti","ebblMulti","frameFXMulti"];for(var R=0;R<P.length;
R++){var y=s.v[P[R]].v;for(var F=0;F<y.length;F++)if(y[F].v.Ptrn){var A=y[F].v.Ptrn.v,h=cb.Hh(A,O),m=cb.Hh(A,M.add.Patt);
if(h==null&&m)O.push(m)}}};cb.g1=function(s,M,O,P,y){if(s.Ptrn==null)return;var F=cb.Hh(s.Ptrn.v,P);
if(F!=null&&!O.g3()){var A=F.ah,h=A[0],m=A[1],Z=0;a.pT(A);var u=(s.Scl?s.Scl.v.val:100)/100;while((u<.3||u==.5)&&A[Z+2]){u*=m.A/A[Z+3].A;
Z+=2;h=A[Z];m=A[Z+1]}var f=a.scale.g1(h,m.A,m.$),U=s.phase?s.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},C=s.Angl?s.Angl.v.val:0,H=-O.x+U.Hrzn.v-1,t=-O.y+U.Vrtc.v-1;
if(s.Algn!=null&&!s.Algn.v){}else if(y){H+=y.x;t+=y.y}if(M)a.scale.aAx(f,M,O.A,O.$,u,u,H+1,t+1,C*Math.PI/180);
else return[f,u,H+1,t+1,C*Math.PI/180]}};cb.QS=function(s,M,O,P,y,F,A,h){if(F==null)F=O;var m=s.Type?s.Type.v.GrdT:"shapeburst",Z=s.Algn&&s.Algn.v?F:new gi(0,0,P.A,P.$),u=s.Angl?a.wv.acf(s,Z):[new j6(0,0),new j6(100,0)],f=u[0].x,U=u[0].y,C=u[1].x-f,H=u[1].y-U,t=Math.sqrt(C*C+H*H);
t=1/(2*t*t);var X=[C*t,H*t,-H*t,C*t],Q=s.Rvrs?s.Rvrs.v:!1,D=s.Dthr?s.Dthr.v:!1,L=s.gradientsInterpolationMethod;
if(L==null)L=s.gs99;var E=L?L.v.gradientInterpolationMethodType:"Gcls";a.wv.gR(s.Grad.v,M,O,X,f,U,Q,aV.wv.types.indexOf(m),A==null?0:A,h==null?0:h,y,D,E)};
cb.aoA=function(s,M,O){for(var R=0;R<s.all.length;R++){var P=s.all[R];P.Et=P.Ng.v();P.Et.offset(M,O)}};
cb.an4=function(s,M,O,P,y,F){var A=ci.Qh?cb.aF7:cb.aGe;cb.aoA(M,O.x,O.y);var h=M.I.DrSh;for(var R=0;
R<h.length;R++)if(!h[R].at9)A(h[R],P,y,F)};cb.a72=function(s,M,O,P,y,F,A,h,m,Z,u,f){var U=ci.Qh?cb.aF7:cb.aGe,C=ci.Qh?ci.B.M0:a.B.VB,H;
H=M.I.DrSh;for(var R=0;R<H.length;R++)if(H[R].at9)U(H[R],P,y,F);H=M.I.St3D;for(var R=0;R<H.length;R++)U(H[R],P,y,F);
H=M.I.OrGl;for(var R=0;R<H.length;R++)U(H[R],P,y,F);var t="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var X=0;X<t.length;X++){var H=M.I[t[X]];for(var R=0;R<H.length;R++)U(H[R],A,h,F)}var Q=M.I.ebbl[0],D=Q!=null&&Q.au3;
H=M.I.FrFX;for(var R=0;R<H.length;R++){var L=H[R];cW.km.TT(m,Z,u,f,F);U(L,u,f,F);if(D&&R==H.length-1){if(Q.OZ)U(Q.OZ,u,f,F);
if(Q.$d)U(Q.$d,u,f,F);if(Q.x4)U(Q.x4,u,f,F);if(Q.AM)U(Q.AM,u,f,F)}if(L.aIn){if(L.CF||L.nd){U(L,A,h,F)}if(L.kb||L.Ld){U(L,P,y,F)}}else{if(L.CF||L.nd)C(u,f,A,h,ci.Qh?L.nd:L.CF,L.Et,0,F,1);
if(L.kb||L.Ld)C(u,f,P,y,ci.Qh?L.Ld:L.kb,L.Et,0,F,1)}}if(!D&&Q!=null){if(Q.OZ)U(Q.OZ,P,y,F);if(Q.$d)U(Q.$d,P,y,F);
if(Q.x4)U(Q.x4,A,h,F);if(Q.AM)U(Q.AM,A,h,F)}};cb.aGe=function(s,M,O,P){var y=cb.lh();y.fill=s.fv;y.style=!0;
a.B.qZ(s.yI,s.tG,s.Et,M,O,P,1,y)};cb.aF7=function(s,M,O,P){var y=cb.lh();y.fill=s.fv;y.style=!0;ci.B.a7G(s.yI,s.Hq,s.Et,M,O,P,1,y)};
cb.a4z=function(s){var M=1-s.Inpr.v.val/100;return 1+Math.tan(M*(Math.PI/2))};cb.awF=function(s,M){var O=a.Cs(a.$i(s));
for(var R=0;R<s.length;R++)s[R]=Math.min(O,s[R]*M)};cb.RK=function(s,M,O){var P=M.blur.v.val,y=Math.round(P*(M.Ckmt.v.val/100));
if(P>y)cb.aGN(s,M.TrnS.v.Crv.v,O!=!0)};cb.aGN=function(s,M,O){if(M.length==2){function P(f){return new j6(f.Hrzn.v,f.Vrtc.v)}var y=P(M[0].v),F=P(M[1].v);
if(y.x==0&&y.y==0&&F.x==255&&F.y==255)return}var A=2048,h=a.$i(s),m=a.Cs(h),Z=(A-1)/m,u=a.Vt.op(M,A,O,h);
for(var R=0;R<s.length;R++)s[R]=u[~~(Z*s[R])]};cb.wo=function(s,M,O){var P=M.Nose.v.val/100,y=s,F=a.$i(s),A=a.Cs(F),h=F==32?A/2:A>>>1,m=F==32?1/65535:F==16?1:1/255;
if(P>0){if(O)for(var R=0;R<y.length;R++){var Z=y[R];if(Z>0)y[R]=Math.max(0,Math.min(A,Z+P*2*(m*cb.Fn(R*3)-h)))}else for(var R=0;
R<y.length;R++){var Z=y[R];if(Z>0)y[R]=Math.max(0,Math.min(A,Z+Math.min(Z*3,P*2*(m*cb.Fn(R*3)-h))))}}};
cb.GP=function(s,M,O,P){cb.RK(s,M,P);cb.wo(s,M,O)};cb.a57=function(s,M){var O=M.ShdN.v.val/100;if(O>0)for(var R=0;
R<s.length;R++){var P=s[R];P=Math.min(510-(1+O)*cb.Fn(R),P);s[R]=P}};cb.Fn=function(s){s=s^61^s>>16;
s=s+(s<<3);s=s^s>>4;s=s*668265261;s=s^s>>15;return s&65535};cb.ajq=function(s,M,O){var P=a.wv.sl(s);
if(O!=null){P.o=Math.round(P.o*O);P.R=Math.round(P.R*O);P.X=Math.round(P.X*O)}return M<<24|P.X<<16|P.R<<8|P.o};
cb.ll=function(s,M,O){var P=a.$i(s);if(P==8)new Uint32Array(s.buffer).fill(cb.ajq(M,255,O));else{var y=a.wv.sl(M),F=(O==null?1:O)/255;
a.bJ(s,y.o*F,y.R*F,y.X*F);a.$j(s,1)}};cb.NJ=function(s,M,O,P,y){var F=M.uglg&&M.uglg.v?O.Cz():M[y?y:"lagl"].v.val;
F=F*Math.PI/180+P;var A=Math.cos(F)*M.Dstn.v.val,h=Math.sin(F)*M.Dstn.v.val;s.x-=Math.round(A);s.y+=Math.round(h)};
cb.aiB=function(s,M){var O=s.uglg&&s.uglg.v?M.Cz():s.lagl.v.val;O=O*(Math.PI/180);var P=s.uglg&&s.uglg.v?M.$p():s.Lald.v.val;
P=P*(Math.PI/180);return[O,P]};cb.aoH=function(s){if(s==null||!s.masterFXSwitch.v)return null;var M=s.frameFXMulti.v,O=null;
for(var R=0;R<M.length;R++)if(M[R].v.enab.v)O=M[R].v;if(O==null)return null;var P=aV.To.Jb();cb.aqE(O,P);
return P};cb.aqE=function(s,M){var O=aV.stroke.wK.indexOf(s.PntT.v.FrFl),P=[aV.IA,aV.Pd,aV.O5][O],y=M.strokeStyleContent.v={classID:aV.To.hF[O]};
for(var R=0;R<P.length;R++)y[P[R]]=s[P[R]];M.strokeEnabled=s.enab;M.strokeStyleLineWidth=s.Sz;M.strokeStyleLineAlignment.v.strokeStyleLineAlignment=aV.To.UK[aV.stroke.types.indexOf(s.Styl.v.FStl)];
M.strokeStyleOpacity=s.Opct;M.strokeStyleBlendMode=s.Md;M.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
cb.QN=function(s,M){var O=[];for(var R=0;R<s.length;R++)O.push({t:"UntF",v:{type:"#Nne",val:s[R]*M}});
return O};cb.acP=function(s,M){var O=s.N_/255*(s.add.iOpa?s.add.iOpa/255:1),P=s.add.TySh,y=s.ES()||s.tE()&&s.add.vmsk&&s.add.vstk.fillEnabled.v&&s.add.vstk.strokeEnabled.v;
if(P){var F=P.nA.EngineDict.StyleRun.RunArray,A=F[0].StyleSheet.StyleSheetData,h=0;if(A.FillFlag)h++;
if(A.StrokeFlag)h++;if(A._FillBackgroundFlag)h++;if(h>1)y=!0}return y&&(M||O!=1||s.mX!="pass"&&s.mX!="norm")};
cb.sx=function(s,M,O,P){this.Ew=M.v();this.anI=M.v();this.anI.rX(O,O);if(P){this.Ew.rX(1,1);this.aIA=a.j(this.Ew.C(),a.$i(s));
a.TT(s,M,this.aIA,this.Ew)}else this.aIA=s;this.eF=null;this.jU=null;this.vV=null};cb.sx.prototype.v0=function(){return this.aIA};
cb.sx.prototype.S=function(){return this.Ew};cb.sx.prototype.aF=function(){return this.anI};cb.sx.prototype.s9=function(){if(this.eF)return this.eF;
this.eF=this.v0().slice(0);a.or(this.eF);return this.eF};cb.sx.prototype.n6=function(){if(this.jU)return this.jU;
this.jU=a.style.KJ(this.s9(),this.S().A,this.S().$);return this.jU};cb.sx.prototype.EM=function(){if(this.vV)return this.vV;
var s=this.aF(),M=a.j(s.C(),a.$i(this.v0()));a.TT(this.v0(),this.S(),M,s);var O=Date.now();this.vV=a.style.KJ(M,s.A,s.$);
return this.vV};cb.sx.prototype.auK=function(s,M){var O={Yy:-M,aH:s,UM:null,cL:null};if(M==0){O.UM=this.S();
O.cL=this.n6();return O}var P=this.EM().slice(0),y=this.aF();O.UM=y;O.cL=P;for(var R=0;R<P.length;R++)P[R]=-P[R];
if(s==0)return O;var F=this.n6(),A=this.S();for(var h=0;h<A.$;h++)for(var m=0;m<A.A;m++){var Z=h*A.A+m,u=(h+A.y-y.y)*y.A+m+A.x-y.x;
P[u]+=F[Z]}return O};cb.sx.prototype.CQ=function(s,M,O){var P=Math.ceil(s+M),y={Iz:this.S().v(),v0:null};
y.Iz.rX(P,P);y.v0=a.j(y.Iz.C(),a.$i(this.v0()));if(s==0&&M==0)a.jO(O?this.v0():this.s9(),y.v0);else{var F=y.v0;
a.TT(this.v0(),this.S(),F,y.Iz);if(!O)a.or(F);if(s!=0){if(O)a.style.tB(F,y.Iz,this.EM(),this.aF(),s);
else a.style.tB(F,y.Iz,this.n6(),this.S(),s)}if(M!=0)a.er.SO(F,y.Iz,Math.max(1,M*.43))}return y};cb.sx.prototype.aCN=function(s,M,O,P){var y=s*(M-.5),F=1/s,A={Iz:this.S().v(),v0:null};
if(O)A.Iz.rX(s,s);var h=a.$i(this.v0()),m=a.Cs(h);A.v0=a.j(A.Iz.C(),h);var Z=O?this.EM():this.n6(),u=O?this.aF():this.S(),f=A.Iz,U=f.OK(u),C=U.A,H=U.$,t=U.x-f.x,X=U.y-f.y,Q=U.x-u.x,D=U.y-u.y,L=1-M*2;
for(var E=0;E<H;E++)for(var _=0;_<C;_++){var S=Z[(E+D)*u.A+_+Q],W=S*F;A.v0[(E+X)*f.A+_+t]=m*Math.max(0,Math.min(1,P*(1-(W+L)/(1+L))))}return A};
cb.af4=function(s,M,O,P){var y=s.Lefx,F=s.blendOptions;if(y){var A=M.add.lmfx;if(O==null)O=A?A.Scl.v.val:100;
M.add.lmfx=a.G(y.v);if(M.add.lmfx.Scl==null)M.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};cb.TV(M.add.lmfx,O/M.add.lmfx.Scl.v.val);
if(A)M.add.lmfx.Scl.v.val=A.Scl.v.val;var h=y.v.gagl;if(h&&P)P.Ya(h.v.val)}else delete M.add.lmfx;if(F){F=F.v;
if(F.Md)M.mX=h0.KL(F.Md.v.BlnM);if(F.Opct)M.N_=Math.round(F.Opct.v.val*255/100);if(F.fillOpacity)M.add.iOpa=Math.round(F.fillOpacity.v.val*255/100);
if(F.Blnd){var m=[];for(var R=0;R<10;R++)m.push(0,0,255,255);var Z=F.Blnd.v,u="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var R=0;R<Z.length;R++){var f=Z[R].v,U=8*["Gry","Rd","Grn","Bl"].indexOf(f.Chnl.v[0].v.enum);for(var C=0;
C<8;C++){m[U+C]=f[u[C]].v}}M.a8=m}}};cb.asD=function(s){var M="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),O=[],P=s.a8;
for(var R=0;R<4;R++){var y=R*8;if(P[y]+P[y+1]+P[y+4]+P[y+5]==0&&P[y+2]+P[y+3]+P[y+6]+P[y+7]==4*255)continue;
var F={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][R]}}]}}};
O.push(F);for(var A=0;A<8;A++)F.v[M[A]]={t:"long",v:P[R*8+A]}}var h={classID:"blendOptions"};if(s.mX!="norm")h.Md={t:"enum",v:{BlnM:h0.Qz(s.mX)}};
if(s.N_!=255)h.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(s.N_*100/255)}};if(s.add.iOpa!=null)h.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(s.add.iOpa*100/255)}};
if(O.length!=0)h.Blnd={t:"VlLs",v:O};var m={wA:{classID:"null",Idnt:{t:"TEXT",v:fr.iY()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},bN:{classID:"Styl",blendOptions:{t:"Objc",v:h}}},Z=s.add.lmfx;
if(Z)m.bN.Lefx={t:"Objc",v:Z};return m};function fO(){}fO.Av=function(s){var M=a.G(fO.aqg),O=M.Brsh.v;
if(s!=null){delete O.Hrdn;O.classID="sampledBrush";O.sampledData={t:"TEXT",v:s}}return M};fO.aqg={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
fO.att=function(s,M){var O=["opVr","szVr"],P=["usePaintDynamics","useTipDynamics"];for(var R=0;R<2;R++){var y=O[R];
if(s[y]==null)s[y]=JSON.parse(fO.Oi.Nw[y]);s[y].v.bVTy.v=M[R]?2:0;if(M[R])s[P[R]].v=!0}fO.Oi.a0O(s)};
fO.Oi={};fO.Oi.check=function(s){var M=fO.Oi.jd;for(var R=0;R<M.length;R++)if(s[M[R]]==null)s[M[R]]=JSON.parse(fO.Oi.Nw[M[R]]);
var O=[];for(var R=0;R<M.length;R++)O.push(M[R]);var P=fO.Oi.a5b;for(var R=0;R<P.length;R++){var y=P[R][0],F=P[R][1],A=!0;
for(var h=0;h<y.length;h++)A=A&&s[y[h]].v==!0;if(A)for(var h=0;h<F.length;h++){if(s[F[h]]==null)console.log("Missing conditional parameter "+F[h]);
else O.push(F[h])}}for(var m in s)if(O.indexOf(m)==-1&&m!="toolOptions")console.log("Extra parameter "+m);
s=s.Brsh.v;M=fO.Oi.tK.jd;for(var R=0;R<M.length;R++)if(s[M[R]]==null)s[M[R]]=JSON.parse(fO.Oi.tK.Nw[M[R]]);
O=[];for(var R=0;R<M.length;R++)if(s[M[R]])O.push(M[R]);else console.log("Missing default parameter "+M[R]);
P=fO.Oi.tK.azs[s.classID];for(var R=0;R<P.length;R++)if(s[P[R]]==null&&P[R]!="dtipsGridSize"&&P[R]!="dtipsErodibleTipHeightMap"&&s.ah$!=1)console.log("Missing conditional parameter "+P[R]);
else O.push(P[R]);for(var m in s)if(O.indexOf(m)==-1)console.log("Extra parameter "+m)};fO.Oi.a0O=function(s){var M=fO.Oi.a5b;
for(var R=0;R<M.length;R++){var O=M[R][0],P=M[R][1],y=!0;for(var F=0;F<O.length;F++)y=y&&s[O[F]]&&s[O[F]].v==!0;
if(y){for(var F=0;F<P.length;F++)if(s[P[F]]==null){s[P[F]]=JSON.parse(fO.Oi.Nw[P[F]])}}else for(var F=0;
F<P.length;F++)if(s[P[F]]!=null){delete s[P[F]]}}};fO.Oi.tK={};fO.Oi.tK.jd="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
fO.Oi.tK.Nw={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};fO.Oi.tK.azs={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
fO.Oi.a5b=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
fO.Oi.jd="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
fO.Oi.Nw={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function ff(s,M){this.a9X=s;this.JL=M==null?0:M;this.dir=0}ff.prototype.y7=function(s,M){var O=this.a9X,P=new j6(s.x-O.x,s.y-O.y),y=new kp;
y.rotate(-this.JL);P=y.Kw(P);if(this.dir==0&&!O.s0(s))this.dir=Math.abs(P.x)<Math.abs(P.y)?1:2;if(M.D(hj.Y1)){if(this.dir==1)P.x=0;
if(this.dir==2)P.y=0}y.or();P=y.Kw(P);var F=new j6(O.x+P.x,O.y+P.y);return F};ff.prototype.a9O=function(s){if(s.D(hj.Y1))return this.dir;
return 0};var et=function(){function s(){this.a5T={}}s.ahM=function(M,O){var P=M.v();P.cj-=Math.floor(P.cj);
P.H3-=Math.floor(P.H3);var y=new j6(O,0),F=new j6(0,O),A=P.Kw(y),h=P.Kw(F),m=new j6(P.cj,P.H3);return[A,h,m]};
s.as0=function(M,O){var P=j6.gp;return P(M[0],O[0])+P(M[1],O[1])+P(M[2],O[2]);return dsum};s.prototype.aiR=function(M){var O=this.a5T,P=O[M];
if(P==null)P=O[M]={sP:[],hT:0,C:0,aGD:0,aqK:0};P.hT=Date.now();while(Object.keys(O).length>3){var y="",F=Date.now();
for(var A in O){var h=O[A].hT;if(h<F){F=h;y=A}}delete O[y]}return P};s.prototype.agm=function(M,O){var P=M.sP,y,F=1e6;
for(var R=0;R<P.length;R++){var A=P[R],h=s.as0(A.CN,O);if(h<F){y=A;F=h}}return y};s.prototype.alY=function(M,O){var P=M.sP;
P.push(O);M.C+=O.S.C();if(P.length>1e3||M.C>100*100*1600){P.sort(function(F,A){return A.hT-F.hT});while(P.length>500||M.C>100*100*800){var y=P.pop();
M.C-=y.S.C()}}};return s}();function du(s,M,O,P,y,F,A,h,m){this.nt=M;this.hx=O;this.Cc=F;this.ZN=P;this.ud=null;
this.oz=null;this.d0=0;this.atL=0;this.a6B=0;this.FX=0;this.zu=0;this.BJ=m==null?Math.floor(Math.random()*16777215):m;
this.hA=m==null?Math.floor(Math.random()*16777215):m;this.IK=new gi;this.tP=new gi;this.Fz=P.depth?P.depth:8;
if(h!=null){this.tG=h}else{var Z=du.axK;if(Z.length!=A.C()*4)Z=a.j(A.C()*4,this.Fz);else Z.fill(0);this.tG=du.axK=Z}this.S=A.v();
this.Gf=[];this.eB=[];this.bc=null;this.UC=0;this.X=null;this.afT="";this.QD=null;this.a1J=null;this.a7v(s,y)}du.axK=a.j(0);
du.prototype.a7v=function(s,M){this.UC=M;this.X=s;this.afT=JSON.stringify(s)+JSON.stringify(this.ZN.q_);
this.QD=du.ayN(this.X,this.nt,this.hx);this.QD.ah[0]=a.Gp(this.QD.ah[0],this.Fz);this.a1J=a.j(this.QD.ah[1].C()*4,this.Fz);
a.GS(this.QD.ah[0],this.a1J,3)};du.prototype.moveTo=function(s,M,O){O=this.aCU(O);this.d0=O;var P=new j6(s,M),y=this.X.Brsh.v.Dmtr.v.val;
this.ud=P.v();this.oz=P.v();this.bc=P.v();this.Gf=[s,M];this.eB=[O];if(this.ZN.Um!=du.r6){var F=this.X.angleDynamics,A=F?F.v.bVTy.v==6:!1;
this.U0(A?new gi:this.aLL(P,this.al5(O),O,new j6(0,0)))}this.FX=P.v()};du.prototype.lineTo=function(s,M,O){O=this.aCU(O);
var P=this.Gf,y=P.length,F=P[y-2],A=P[y-1];if(s==F&&M==A)return;var h=this.X.Brsh.v.Dmtr.v.val,m=Math.ceil(h)+1,Z=new gi(Math.round(F),Math.round(A),0,0);
Z.rX(m,m);var u=new gi(Math.round(s),Math.round(M),0,0);u.rX(m,m);this.Gf.push(s,M);this.eB.push(O);
y+=2;if(y>=6)this.U0(this.ah0(y))};du.prototype.aCU=function(s){if(s==null)s=1;s=Math.max(.05,Math.min(5,s));
if(isNaN(s)){alert("Pressure is not a number");throw"e"}return s};du.prototype.U0=function(s){this.IK=s;
this.tP=this.tP.v8(s)};du.prototype.finish=function(){var s=this.Gf,M=s.length,O;if(M==4)O=this.kj(s[M-2],s[M-1],this.eB[(M>>1)-1],!0);
if(M>4)O=this.ah0(M+2);if(O)this.U0(O)};du.prototype.Gt=function(){return this.S.v()};du.prototype.Wj=function(){return this.IK.OK(this.S)};
du.prototype.Ao=function(){return this.tP.OK(this.S)};du.prototype.HT=function(){return this.tG};du.prototype.ah0=function(s){var M=this.Gf,O=this.eB,P=M[s-6],y=M[s-5],F=M[s-4],A=M[s-3],h=O[(s>>1)-3],m=O[(s>>1)-2],Z=new j6(0,0),u=new j6(0,0);
if(8<=s)Z=du.a16(M[s-8],M[s-7],P,y,F,A);if(s<=M.length)u=du.a16(M[s-2],M[s-1],F,A,P,y);var f=P+Z.x,U=y+Z.y,C=F+u.x,H=A+u.y,t=new gi,X=this.a0M()?1:10;
for(var R=0;R<X;R++){var Q=(R+1)/X,D=1-Q,L=D*D*D*P+3*Q*D*D*f+3*Q*Q*D*C+Q*Q*Q*F,E=D*D*D*y+3*Q*D*D*U+3*Q*Q*D*H+Q*Q*Q*A,_=this.kj(L,E,h+Q*(m-h));
t=t.v8(_)}return t};du.a16=function(s,M,O,P,y,F){var A=s-O,h=M-P,m=y-O,Z=F-P,u=Math.sqrt(A*A+h*h),f=Math.sqrt(m*m+Z*Z),U=Math.acos((A*m+h*Z)/(u*f))/Math.PI,C=.35,H=.1;
U=H+U*(C-H);var t=y-s,X=F-M,Q=Math.sqrt(t*t+X*X),D=U*f/Q;return new j6(t*D,X*D)};du.prototype.kj=function(s,M,O,P){var y=new gi,F=this.ZN.aqG;
if(F==null)F=0;if(F==0||P){y=this.a1g(s,M,O);return y}var A=this.bc,h=s-A.x,m=M-A.y,Z=Math.sqrt(h*h+m*m);
h/=Z;m/=Z;if(Z>F){var u=A.x+h*(Z-F),f=A.y+m*(Z-F);y=this.a1g(u,f,O);this.bc.ee(u,f)}return y};du.prototype.a0M=function(){var s=this.X,M=s.Brsh.v.Dmtr.v.val;
return this.ZN.q_&&M==1};du.prototype.a1g=function(s,M,O){var P=new gi,y=new j6(s,M),F=this.ZN.Um,A=y.TA(this.oz);
A.normalize(1);var h=j6.gp(this.oz,y),m=-this.atL,Z=this.oz.v();if(this.a0M()){if(h>.99){var u=this.oz,f=a.IN.aCc(y,this.S,this.ZN.gT);
for(var R=0;R<f.length;R++){var U=f[R],C=U.Kw(u),H=U.Kw(y);du.awL(C,H,this.tG,this.S,this.AO(this.X));
P=P.v8(a.b.q7([C.x,C.y,H.x,H.y]))}m=h}else y=this.oz}else while(!0){var t=this.d0+(O-this.d0)*(Math.max(0,m)/h),X=this.al5(t),Q=this.agC()*(X+this.a6B)/2*this.QD.al2;
if(F==du.r6)Q=1;Q=Math.max(Q,.5);if(m+Q<h){m+=Q;this.zu+=Q;var D=new j6(this.oz.x+A.x*m,this.oz.y+A.y*m),E=1;
if(F==du.r6){var H=Z.v();H.x+=A.x>0?1:-1;var L=Z.v();L.y+=A.y>0?1:-1;if(j6.gp(H,D)<j6.gp(L,D))D=H;else D=L;
m=j6.gp(D,this.oz)}if(this.X.useScatter.v==!0){E=this.X.Cnt.v;var _=this.X.countDynamics.v.jitter.v.val/100,S=_*(-1+2*this.vY());
E+=Math.round(E*S)}for(var R=0;R<E;R++){var W=this.aLL(D,X,O,A);P=P.v8(W)}Z=D}else break}this.atL=h-m;
this.oz=y;this.d0=O;return P};du.prototype.agC=function(){var s=this.X.Brsh.v,M=s.Spcn.v.val,O=Math.max(5,s.Rndn.v.val);
return O/100*(M/100)};du.prototype.al5=function(s){var M=this.X,O=M.Brsh.v.Dmtr.v.val;if(M.useTipDynamics.v){var P=O*(M.minimumDiameter.v.val/100);
O=P+(O-P)*(1-this.vY(this.hA)*(M.szVr.v.jitter.v.val/100));O*=du.Gj(M,"szVr",s,this.zu)}return O};du.Gj=function(s,M,O,P){var y=1,F=s[M].v,A=F.bVTy.v,h=F.fStp.v;
if(A==1)y*=Math.max(0,(h-P)/h);if(A==2)y*=O;return y};du.prototype.aLL=function(s,M,O,P){var y=this.ZN.KA,t=0;
y=Math.min(1,y);var F=this.X,A=this.X.Brsh.v,h=A.Dmtr.v.val,m=this.ZN,Z=m.Um,u=m.apb,f=this.QD.ah[1],U=new kp;
U.translate(-f.A/2,-f.$/2);U.scale(1/this.QD.ak_,1/this.QD.ak_);U.scale(M/h,M/h);U.scale(1,Math.max(5,A.Rndn.v.val)/100);
if(F.usePaintDynamics&&F.usePaintDynamics.v){var C=F.opVr.v.jitter.v.val/100,H=F.prVr.v.jitter.v.val/100;
y*=1-this.vY()*C;y*=1-this.vY()*H;y*=du.Gj(F,"opVr",O,this.zu)*du.Gj(F,"prVr",O,this.zu)}if(F.useTipDynamics.v){var X=F.angleDynamics.v,Q=F.minimumRoundness.v.val/100;
U.scale(1,Q+(1-Q)*Math.round(100-this.vY()*F.roundnessDynamics.v.jitter.v.val)/100);t+=(-.5+this.vY())*4*Math.PI*(X.jitter.v.val/100);
t+=du.Gj(F,"angleDynamics",O,this.zu)*2*Math.PI;if(X.bVTy.v==6)t+=Math.atan2(-P.y,P.x)}t+=A.Angl.v.val*(Math.PI/180);
U.rotate(t);if(F.useScatter.v){var D=(-1+2*this.vY())*F.scatterDynamics.v.jitter.v.val/100;U.translate(-D*M*P.y,D*M*P.x)}U.translate(s.x,s.y);
var L=this.aL2(U,s,M),E=L.S.v();if(Z==null){var _=this.AO(F);a.bJ(L.Xs,_.o,_.R,_.X);if(this.tP.g3()&&this.S.s0(L.S)&&y==1)this.tG=L.Xs.slice(0);
else{var S=a.IN.aCc(s,this.S,m.gT);for(var R=0;R<S.length;R++){var W=S[R],g,x;if(W.cd==1&&W.X==0&&W.xN==0&W.zv==1){g=L.Xs;
x=L.S.v();x.x+=W.cj;x.y+=W.H3}else{var V=U.v();V.concat(W);var b=this.aL2(V,W.Kw(s),M);g=b.Xs;x=b.S;
a.bJ(g,_.o,_.R,_.X)}if(x.$B(this.S)){E=E.v8(x);if(this.Fz==8)a.B.axa(g,x,this.tG,this.S,x,y);else a.B.qZ("norm",g,x,this.tG,this.S,x,y)}}}}if(Z==du.r6){var J=new j6(L.S.x+L.S.A/2,L.S.y+L.S.$/2),K=Math.round(J.x-this.FX.x),q=Math.round(J.y-this.FX.y),d=L.S.v();
d.offset(-K,-q);var l=d.OK(this.S);l.offset(K,q);a.FP(this.tG,this.S,L.Xs,d);if(this.Fz==8)a.B.a4_(L.Xs,L.S,this.tG,this.S,L.c5,L.S,y);
else a.B.VB(L.Xs,L.S,this.tG,this.S,L.c5,L.S,0,l,y,!1)}if(Z==du.Jh||Z==du.vo||Z==du.I1){var T=L.S.OK(this.S),B;
if(T.s0(L.S))B=L.c5;else{B=a.j(T.C(),this.Fz);a.TT(L.c5,L.S,B,T)}var p=a.j(T.C()*4,this.Fz);a.FP(this.tG,this.S,p,T);
if(Z==du.vo){var I=p.slice(0),w=a.nG.RN([-1,-1,-1,-1,25,-1,-1,-1,-1]);a.nG.rI(p,I,T.A,T.$,w);a.jO(I,p)}else if(Z==du.I1){var e=bW.Jb("UnsM");
e.Amnt.v.val=15;e.Thsh.v=0;e.Rds.v.val=5;var I=a.j(p.length,this.Fz);bW.Vj("UnsM",{buffer:p,S:T},e,0,0,{buffer:I,S:T});
a.jO(I,p)}else{bW.HL(1,0,p,T)}if(this.Fz==8)a.B.a4_(p,T,this.tG,this.S,B,T,y);else a.B.VB(p,T,this.tG,this.S,B,T,0,T,y,!1)}this.a6B=M;
this.FX=J;this.hA++;return E};du.prototype.AO=function(s){var M=a.Aj(this.UC,1),O=s.colorDynamicsPerTip,P=null;
O=O?O.v:!1;if(this.a3r==null)this.a3r=this.BJ;if(!O){P=this.BJ;this.BJ=this.a3r}if(s.useColorDynamics&&s.useColorDynamics.v){var y=1-this.vY()*s.clVr.v.jitter.v.val/100,F=a.Aj(this.Cc,1);
M.o=y*M.o+(1-y)*F.o;M.R=y*M.R+(1-y)*F.R;M.X=y*M.X+(1-y)*F.X;var A=(-.5+this.vY())*s.H.v.val/100,h=(-1+2*this.vY())*s.Strt.v.val/100,m=(-1+2*this.vY())*s.Brgh.v.val/100,Z=a.yR(M.o,M.R,M.X);
Z.fw=(Z.fw+A+1)%1;Z.BP=Z.BP+h;if(Z.BP<0)Z.BP=-Z.BP;if(Z.BP>1)Z.BP=1-(Z.BP-1);Z.rM=Z.rM+m;if(Z.rM<0)Z.rM=-Z.rM;
if(Z.rM>1)Z.rM=1-(Z.rM-1);M=a.rk(Z.fw,Z.BP,Z.rM)}if(!O)this.BJ=P;return M};du.prototype.Oi=function(s){return Math.max(0,Math.min(1,s))};
du.prototype.vY=function(s){if(s==null){s=this.BJ++}return du.hash(s)};du.hash=function(s){s=s^61^s>>16;
s=s+(s<<3);s=s^s>>4;s=s*668265261;s=s^s>>15;return(s&16777215)/16777215};du.aIU=new et;du.afB=function(s,R,M){var O=s[R],P=s[M];
s[R]=4+7*O+P>>>3;s[M]=4+7*P+O>>>3};du.prototype.aL2=function(s,M,O){var P=this.ZN.q_,y=this.X.Brsh.v,F=Math.round(y.Dmtr.v.val),A;
if(P&&F<=3){A={N:a.j(F*F,this.Fz),S:new gi(Math.round(M.x-F/2),Math.round(M.y-F/2),F,F)};A.N.fill(a.Cs(this.Fz))}else if(s.cd==1&&s.X==0&&s.xN==0&&s.zv==1){A={N:this.QD.ah[0],S:this.QD.ah[1].v(),Xs:this.a1J};
A.S.x=Math.round(s.cj);A.S.y=Math.round(s.H3)}else{if(s.dI()>1e-4){A=$.TR.aef(this.QD.ah,s);var h=A.S.A,m=A.S.$,Z=A.N;
if(y.classID=="sampledBrush"&&a.$i(Z)==8&&h*m>25)for(var u=1;u<m;u++)for(var f=1;f<h;f++){var R=u*h+f;
du.afB(Z,R,R-1);du.afB(Z,R,R-h)}}}if(A)A.N=a.Gp(A.N,this.Fz);if(A==null)A={N:a.j(0,this.Fz),S:new gi};
var U={c5:A.N,S:A.S,Xs:A.Xs};if(U.Xs==null||P){if(P)a.round(A.N);U.Xs=a.j(A.S.C()*4,this.Fz);a.GS(U.c5,U.Xs,3)}return U};
du.ayN=function(s,M,O){var P,y,F,A=s.Brsh.v.Dmtr.v.val,h=s.Brsh.v.classID;if(h=="computedBrush"){var m=s.Brsh.v.Hrdn.v.val/100;
y=A<100?1.4:1;F=1;P=a.akA.afG(A,m,y)}if(h=="sampledBrush"){var Z;for(var R=0;R<M.length;R++)if(M[R].id==s.Brsh.v.sampledData.v)Z=M[R];
P=Z.ah;var u=P[1];y=Math.max(u.A,u.$)/A;F=Math.min(u.A,u.$)/Math.max(u.A,u.$)}return{ak_:y,al2:F,ah:P}};
du.Tb=null;du.KM=null;du.XB=function(s,M,O,P,y,F){var A=du.Tb,h=du.KM;if(A==null){du.Tb=A=document.createElement("canvas");
du.KM=h=A.getContext("2d")}if(F==null)F=P;if(A.width!=F||A.height!=y){A.width=F;A.height=y}else h.clearRect(0,0,F,y);
h.fillStyle="#000000";h.font=Math.floor(10*$.yD())+"px sans-serif";var m=s.Brsh.v.Dmtr.v.val,Z=""+m,u=s.useBrushSize;
if(u&&u.v)Z="---";var f=h.measureText(Z);h.fillText(Z,(P-f.width)/2,y-2);var U=P,C=y-10*$.yD(),H=Math.min(U,C),t=s.Brsh.v.classID;
if(t=="computedBrush"){h.translate(U/2,C/2);h.rotate(-s.Brsh.v.Angl.v.val*Math.PI/180);h.scale(1,.1+.9*s.Brsh.v.Rndn.v.val/100);
var X=Math.min(.95*H/2,m/2)+.5,Q=.9*s.Brsh.v.Hrdn.v.val/100,D=h.createRadialGradient(0,0,0,0,0,X);D.addColorStop(Q,"rgba(0,0,0,1)");
D.addColorStop((.5+Q)/1.5,"rgba(0,0,0,.5)");D.addColorStop(1,"rgba(0,0,0,0)");h.fillStyle=D;h.fillRect(-X,-X,2*X,2*X);
h.setTransform(1,0,0,1,0,0)}else if(t=="sampledBrush"){var L,g=0;for(var R=0;R<M.length;R++)if(M[R].id==s.Brsh.v.sampledData.v)L=M[R];
var E=L.ah;a.uC(E);var _=E[0],S=E[1].A,W=E[1].$;while((S>U||W>C)&&E[g+2]){g+=2;_=E[g];S=E[g+1].A;W=E[g+1].$}if(S*W!=0){var x=a.j(S*W*4);
a.GS(_,x,3);var V=new ImageData(new Uint8ClampedArray(x.buffer),S,W);h.putImageData(V,Math.round((U-S)/2),Math.round((C-W)/2))}}else{}return A.toDataURL()};
du.J1=function(s,M,O,P){if(O==0)O=1;var y=s.Brsh.v,F=y.Dmtr.v.val,A=y.Angl.v.val,h=y.Dmtr.v.val=Math.min(P!=null?Math.round(P*2.6):3e3,F*O),m=y.Hrdn?y.Hrdn.v.val/100:1,Z=P!=null?P:Math.round((A==0?1:1.42)*h*(1+.55*(1-m)))+4,U;
Z=Math.max(25,Math.min(Z,3e3));var u=new gi(0,0,Z,Z),f=new du(s,M,null,{KA:1},16711712,0,u);y.Dmtr.v.val=F;
f.moveTo(u.A/2,u.$/2);var C=a.Gp(f.HT(),8),H=f.Gt();if(u.s0(H))U=C;else{U=a.j(u.C()*4);a.FP(C,H,U,u)}return[U,u,h]};
du.EZ=function(s,M,O,P){var y=M.A,F=y>>>1;for(var R=2;R<7;R++){s[y*(F-R)+F-1]=P;s[y*(F-R)+F]=O;s[y*(F-R)+F+1]=P;
s[y*(F+R)+F-1]=P;s[y*(F+R)+F]=O;s[y*(F+R)+F+1]=P;s[y*(F-1)+F-R]=P;s[y*F+F-R]=O;s[y*(F+1)+F-R]=P;s[y*(F-1)+F+R]=P;
s[y*F+F+R]=O;s[y*(F+1)+F+R]=P}P=O;if($.yD()>=1.5)for(var R=5;R<11;R++){s[y*(F-R)+F-1]=P;s[y*(F-R)+F]=O;
s[y*(F-R)+F+1]=P;s[y*(F+R)+F-1]=P;s[y*(F+R)+F]=O;s[y*(F+R)+F+1]=P;s[y*(F-1)+F-R]=P;s[y*F+F-R]=O;s[y*(F+1)+F-R]=P;
s[y*(F-1)+F+R]=P;s[y*F+F+R]=O;s[y*(F+1)+F+R]=P}};du.Uw=function(s,M,O,P){var y=du.J1(s,M,O),F=y[0].slice(0),A=y[1],h=y[2],m=A.C(),Z=a.j(m);
a.YT(F,Z,3);var u=a.j(m);a.h.aKy(Z,u,A,$.yD()>1.9);if(h<3||a.p$(u,0)||P&&h>12){du.EZ(u,A,255,0)}var f=[3,5,3,4,8,4,3,5,3];
f=a.nG.RN(f);a.nG.qu(u,Z,A.A,A.$,f);F.fill(255);a.GS(Z,F,3);for(var R=0;R<m;R++)if(u[R]==255){F[R<<2]=F[(R<<2)+1]=F[(R<<2)+2]=0;
F[(R<<2)+3]=255}return{qJ:F,Iz:A,gB:new j6(A.A/2,A.$/2)}};du.awL=function(s,M,O,P,y){var F=4278190080|Math.round(y.X*255)<<16|Math.round(y.R*255)<<8|Math.round(y.o*255)<<0;
O=new Uint32Array(O.buffer);var A=Math.floor(s.x),h=Math.floor(s.y),m=Math.floor(M.x),Z=Math.floor(M.y),u=Math.abs(m-A),f=Math.abs(Z-h),U=A<m?1:-1,C=h<Z?1:-1,H=u-f;
while(!0){if(0<=A&&A<P.A&&0<=h&&h<=P.$)O[h*P.A+A]=F;if(A==m&&h==Z)break;var t=2*H;if(t>-f){H-=f;A+=U}if(t<u){H+=u;
h+=C}}};du.r6="0";du.Jh="1";du.vo="2";du.I1="3";var bZ={};bZ.lC=function(s,M,O){if(O==null)O=!0;var P=s.add.TySh,y=P.nA,F=new aa(y,M,P.x9);
s.aD.H_=F.HD();var A=s.aD.path=bZ.cU(F,P);if(dc!=0)return[A,F,null];var h=bZ.hW(A,P.M,iP.X5(P));if(O){s.S=h.Iz;
var m=a.$i(s.buffer);s.buffer=a.Gp(h.tG,m);s.vw()}return[A,F,h]};bZ.hW=function(s,M,O){s={J8:s.J8,L:s.L.slice(0)};
a.b.M(s.L,M,s.L);var P=a.b.q7(s.L),y=0;if(P.g3())return{tG:a.j(0),Iz:new gi};for(var R=0;R<s.J8.length;
R++){var F=s.J8[R];if(F[0]=="O"&&F[1]=="-")y=Math.max(y,parseFloat(F.split("-")[2]))}y=Math.ceil(y*M.dI()/2);
P.rX(y,y);var A=a.FL(P.A,P.$);A.translate(-P.x,-P.y);bZ.a8K(s,A);var h=A.getImageData(0,0,P.A,P.$),m=new Uint8Array(h.data.buffer);
if(O==0)for(var R=0;R<m.length;R+=4)m[R+3]=m[R+3]>80?255:0;if(O==3)for(var R=0;R<m.length;R+=4)m[R+3]=Math.min(255,m[R+3]*1.5);
A.resetTransform();A.beginPath();return{tG:m,Iz:P}};bZ.cU=function(s,M,O){var P=M.M,y=M.nA;bZ.MZ=P.dI();
var F=iP.X5(M),A=Math.max(P.X*P.X,P.xN*P.xN)<1e-9?P:null;if(F==3||F==4)A=null;var h={J8:[],L:[]};bZ.aux(s,h,A,!0);
bZ.aux(s,h,A,!1);h=bZ.XE(h,M,s,O);return h};bZ.MZ=1;bZ.XE=function(s,M,O,P){if(s==null)return s;if(O&&O.xh)a.b.M(s.L,O.xh,s.L);
if(O&&!a.Z6.Gn(M.jR)){var y=iP.Gt(M,O);if(!y.g3()){if(s.J8){s=a.b.iz(s);var F=Math.min(y.A,y.$)/8;if(F<1)F=1;
s=a.b.OM(s,F)}var A=a.Z6.Kx(M.jR,y);a.W$.M(A,s.L,y)}}var h=M.M;if(P)a.b.M(s.L,h,s.L);return s};bZ.a8K=function(s,M){M.save();
M.miterLimit=2;Typr.U.pathToContext({crds:s.L,cmds:s.J8},M);M.restore()};bZ.fT=function(s,M,O){var P=aa.azR(O),y=s.nA,F=y.ResourceDict.FontSet,A=y.ResourceDict.StyleSheetSet[0].StyleSheetData,h=y.EngineDict.StyleRun.RunLengthArray,m=y.EngineDict.StyleRun.RunArray,Z=iP.Rx(y),u=!0,f={},U=0;
for(var R=0;R<m.length;R++){var C=m[R].StyleSheet.StyleSheetData.Font;if(C==null)C=A.Font;for(var H=0;
H<h[R];H++){var t=Z.charCodeAt(U+H),X=C+","+(t>128?t:-1),Q=iP.Zp(F[C]);if(f[X]==null){f[X]=1;if(M.E3(Q,t)==null)u=!1}}U+=h[R]}return u&&P};
bZ.yx=function(s,M,O){var P=!0;for(var y=0;y<s.U.length;y++){var F=s.U[y],A=F.add.TySh;if(A!=null&&!bZ.fT(A,M,O))P=!1}return P};
bZ.uc=function(s,M,O){for(var P=0;P<s.U.length;P++){var y=s.U[P],F=y.add.TySh;if(F!=null&&bZ.fT(F,M,O)){bZ.lC(y,M);
s.vw()}}};bZ.aux=function(s,M,O,P){var y=new kp;for(var R=0;R<s.Gy.length;R++)bZ.aFq(s.TY,s.Gy[R],M,y,O,P)};
bZ.aFq=function(s,M,O,P,y,F){P.translate(M.I7.x,M.I7.y);for(var R=0;R<M.PO.length;R++){var A={},h=M.PO[R],u=0;
if(!h.ph)break;var m=P.v();m.translate(h.I7.x,h.I7.y);if(y){var Z=y.H3+m.H3*y.zv;m.H3=(Math.round(Z)-y.H3)/y.zv}for(var f=h.start;
f<h.end;f++)u=Math.max(u,M.JX[f].DW);for(var f=h.start;f<h.end;f++){bZ.a67(s,M.JX[f],M,A,O,m,F,u)}}P.translate(-M.I7.x,-M.I7.y)};
bZ.a67=function(s,M,O,P,y,F,A,h){F.translate(M.I7.x,M.I7.y);for(var m=M.ZF;m<=M.JY;m++){var Z=O.u5[m],u=Z.Iz.A,f=s[O.afW+Z.UG],U=f._m._FillBackgroundFlag;
if(f._L=="\n"||A&&!U)continue;var C=f._m.FontSize/f.j8.head.unitsPerEm,H=F.v();H.translate(Z.I7.x+Z.zU*C,Z.I7.y-Z.af0*C);
var t=new kp;t.scale(C,-C);if(f._m.FauxItalic)t.concat(new kp(1,0,-Math.tan(.18),1,0,0));t.translate(0,f.apy);
t.scale(f.scale.x,f.scale.y);if(f._m.BaselineShift!=null)t.translate(0,-f._m.BaselineShift);if(Z.JL!=0){t.rotate(-Z.JL)}t.concat(H);
var X=(f._m.OutlineWidth?f._m.OutlineWidth:1)*bZ.MZ;if(A){y.J8.push(bZ.AO(f._m._FillBackgroundColor));
var Q=1.005*Z.Iz.$/C,D=new gi(-Z.zU,-Q*.27,1.03*Z.Iz.A/(C*f.scale.x),Q);if(f._m.StrokeFlag)D.rX(X/C,X/C);
a.b.concat(y,a.b.hC(D),t);y.J8.push("X");continue}if(f._m.FillFlag)y.J8.push(bZ.AO(f._m.FillColor));
if(f._m.StrokeFlag){var L=aV.S0.aF$(f._m);y.J8.push(bZ.ai4(L))}if(Z.path.J8.length!=0&&f._L!="\t"){if(f._m.FauxBold){var E=f._m.FontSize/2048*27*f.scale.x,_=Math.cos(Z.JL)*E,S=Math.sin(Z.JL)*E;
t.cj+=_;t.H3+=S;a.b.concat(y,Z.path,t);t.cj-=_+_;t.H3-=S+S;a.b.concat(y,Z.path,t)}else a.b.concat(y,Z.path,t)}if(f._L!="\n"){var W=Z.Iz.A/C;
if(f._m.Underline){if(P.aGb==null)P.aGb=f.j8.post.underlineThickness/f.j8.head.unitsPerEm;if(P.aIY==null)P.aIY=f.j8.post.underlinePosition;
console.log(f.j8.name.adN,f.j8.post.underlineThickness/f.j8.head.unitsPerEm);var g=0,x=0,V=0,b=1/(C*f.scale.y),N=-h*b;
V=-N*P.aGb*1.6;x=N*.3;a.b.concat(y,{J8:["M","L","L","L","Z"],L:[g,x,g+W,x,g+W,x+V,g,x+V]},t)}if(f._m.Strikethrough){var J=f.j8["OS/2"].yStrikeoutSize,K=f.j8["OS/2"].yStrikeoutPosition,g=0,x=K+J/2,V=-J;
a.b.concat(y,{J8:["M","L","L","L","Z"],L:[g,x,g+W,x,g+W,x+V,g,x+V]},t)}}var q=f._m.FillFlag,d=f._m.FillFirst;
if(d==null)d=!0;if(q&&d)y.J8.push("X");if(f._m.StrokeFlag)y.J8.push("OX");if(q&&!d)y.J8.push("X")}F.translate(-M.I7.x,-M.I7.y)};
bZ.ai4=function(s){var M=s.Jc,O=["O","#"+a.Rr(a.DU({o:M[0],R:M[1],X:M[2]},1)),s.WJ];O.push(s.wF,s.sa,s.LN,s.hH,s.wm.join(","));
return O.join("-")};bZ.aC5=function(s){var M=parseFloat,O=s.split("-"),P=a.Aj(parseInt(O[1].slice(1),16)),y=O[8]=="1"?2:0;
return{Jc:[P.o/255,P.R/255,P.X/255],WJ:M(O[2]*(y==2?.5:1)),wF:M(O[3]),sa:M(O[4]),LN:M(O[5]),hH:M(O[6]),wm:O[7]==""?[]:O[7].split(",").map(M),KG:y}};
bZ.AO=function(s){return"#"+a.Rr(a.DU(iP.sl(s)))};function aa(s,M,O){var P=iP.z0(s),y,F,A=iP.SP(s),h=s._LineOrientation==2?new kp:null,f,C;
if(s.Curve)F=aa.xI(s.Curve);if(P!=0){y=new gi(A[0],A[1],A[2],A[3]);if(h){var m=y.A;y.A=y.$;y.$=m;h.translate(0,-A[2])}if(P==2){y.A=F[5]-F[4];
y.$=9999}}this.Gy=[];this.TY=[];this.VK=P;this.xh=h;var Z=this.aIl=iP.Rx(s),u=-1,U=-1;for(var R=0;R<Z.length;
R++){var H=f,t=iP.aJJ(s,R);if(t!=u){u=t;H=f=iP.akX(s,t)}var X=C,t=iP.abC(s,R);if(t!=U){U=t;X=C=iP.aJx(s,t)}var Q={_L:Z.charAt(R),_m:H,j8:null,vN:null,arH:!1,zg:-1,SE:iP.a4W(s,R),apy:0,scale:new j6(0,0),DW:0,lineHeight:0,Fm:0},D=s.ResourceDict.FontSet[H.Font],L=iP.Zp(D),E=Q.j8=M.E3(L,Z.charCodeAt(R));
if(D.Axis){var _=Q.vN=D.Axis.slice(0),S=E.fvar;for(var W=0;W<_.length;W++)_[W]/=65536;if(S&&S[0].length<_.length)Q.vN=Q.vN.slice(0,S[0].length)}if(H.FontCaps==1)Q.arH=E&&E.GSUB&&E.GSUB.smcp?!1:!0;
Q.scale.x=H.HorizontalScale==null?1:H.HorizontalScale;Q.scale.y=H.VerticalScale==null?1:H.VerticalScale;
var g=E["OS/2"],x=E.hhea;if(Q.arH&&Q._L!=Q._L.toUpperCase()){var V=g.sxHeight?g.sxHeight/g.sTypoAscender:.76;
Q.scale.x*=V;Q.scale.y*=V}var b=1/E.head.unitsPerEm*H.FontSize;if(H.FontBaseline==1){var V=s.ResourceDict.SuperscriptSize;
Q.scale.x*=V;Q.scale.y*=V;Q.apy-=s.ResourceDict.SuperscriptPosition*H.FontSize}if(H.FontBaseline==2){var V=s.ResourceDict.SubscriptSize;
Q.scale.x*=V;Q.scale.y*=V;Q.apy+=s.ResourceDict.SubscriptPosition*H.FontSize}Q.DW=aa.DW(E)*H.FontSize;
var N=X.AutoLeading;Q.lineHeight=H.FontSize*(N==null?1.2:N);if(H.AutoLeading==!1)Q.lineHeight=H.Leading;
if(Q._L=="\n"&&Z[R-1]!="\n")Q.lineHeight=0;if(Q.lineHeight==0)Q.lineHeight=.01;this.TY.push(Q)}var J=this.Gy,K=[0];
for(var R=0;R<s.EngineDict.ParagraphRun.RunLengthArray.length;R++){var q=new aa.Fx(s,M,this.TY,R,y,K,P==1?F:null);
J.push(q)}if(h){if(P==0)h.translate(0,J[0].JX[0].DW/2);h.rotate(-Math.PI/2)}if(P==2){var d=s.Curve.Points,l=F[0],T=F[1],B=F[2],p=F[3],I=F[4],w=F[5];
for(var R=0;R<J.length;R++)for(var W=0;W<J[R].PO.length;W++)if(!(R==0&&W==0))J[R].PO[W].ph=!1;var q=J[0],e=q.PO[0];
q.I7.ee(0,0);e.I7.ee(0,0);for(var W=e.start;W<e.end;W++){var G=q.JX[W],j=G.I7.x;G.I7.x=0;for(var o=G.ZF;
o<=G.JY;o++){var r=q.u5[o],k=r.Iz.A/2;r.I7.x+=j;var a7=aa.aA7(l,(I+r.I7.x+k)%p);r.I7.x=a7[0]-k*a7[2];
r.I7.y=a7[1]-k*a7[3];r.JL=Math.atan2(a7[3],a7[2])}}}if(O){var Y=O.VAlign.v;if(Y!=0&&iP.z0(s)==1){var v=iP.SP(s)[3],n=this.HD().$,cm=0;
if(Y==1)cm=v-n;if(Y==2)cm=(v-n)/2;for(var R=0;R<this.Gy.length;R++)this.Gy[R].I7.y+=cm}}}aa.DW=function(s){var M=s._hhhh;
if(M==null){var O=Typr.U,P=O.codeToGlyph(s,104),y=a.b.hG(Typr.U.glyphToPath(s,P).crds).$;M=s._hhhh=y*(1/s.head.unitsPerEm)}return M};
aa.prototype.aw2=function(){return!this.a1m(0)};aa.prototype.aK4=function(){return this.a1m(1)};aa.prototype.a1m=function(s){var M=this.Gy,O=!0,P=0;
for(var R=0;R<M.length;R++){var y=M[R].PO,F=y.length;P+=F;for(var A=0;A<F;A++)O&=y[A].ph}return[O,P][s]};
aa.xI=function(s,M,O){if(M==null)M=.25;var P=s.Points,y=P.length,F=y>>>3,A=s.TextOnPathTRange,h=s.Reversed,U=0,C=0;
if(h){var m=P.slice(0);for(var R=0;R<y;R+=2){m[R]=P[y-2-R];m[R+1]=P[y-1-R]}P=m;A=[F-A[1]%F,F-A[0]%F]}var Z=[],u=[0],f=[0];
for(var R=0;R<y;R+=8){var H=P[R+6]-P[R+0],t=P[R+7]-P[R+1],X=Math.round(Math.sqrt(H*H+t*t)/M),Q=O&&R==y-8?X+1:X;
for(var D=0;D<Q;D++){var L=D/X,E=1-L,_=E*E*E*P[R+0]+3*E*E*L*P[R+2]+3*E*L*L*P[R+4]+L*L*L*P[R+6],S=E*E*E*P[R+1]+3*E*E*L*P[R+3]+3*E*L*L*P[R+5]+L*L*L*P[R+7];
Z.push(_,S);if(R+D!=0){var H=_-U,t=S-C;f.push(f[f.length-1]+Math.sqrt(H*H+t*t));u.push((R>>>3)+L)}U=_;
C=S}}var M=f.length,W=f[M-1],g=aa.EB(A[0]%F,u),x=aa.EB(A[1]%F,u),V=f[g%M],b=f[x%M];if(V>=b)b+=W;return[Z,u,f,W,V,b]};
aa.EB=function(s,M){var R=0;while(M[R]<s)R++;return R};aa.aA7=function(s,M){var O=0,R=0,P,y,F;while(O<M){P=s[R+2]-s[R];
y=s[R+3]-s[R+1];F=Math.sqrt(P*P+y*y);O+=F;R+=2}return[s[R],s[R+1],P/F,y/F]};aa.prototype.aKk=function(s){return this.TY[s]};
aa.prototype.aE0=function(s){for(var M=0;M<this.Gy.length;M++){var O=this.Gy[M];for(var P=0;P<O.PO.length;
P++){var y=O.PO[P],F=O.JX[y.start].start,A=O.JX[y.end-1].end;if(F<s&&s<A)return[F,A-1]}}return[0,1]};
aa.prototype.a3u=function(s,M){var O=-1,P=this.Gy;if(this.VK==2){var y=1e9,F=0,A=P[0],h=A.PO[0];for(var m=h.start;
m<h.end;m++){var Z=A.JX[m];for(var u=Z.ZF;u<=Z.JY;u++){var f=A.u5[u],U=f.Iz.A,C=s.x-f.I7.x,H=s.y-f.I7.y,t=C*C+H*H;
if(t<y){y=t;F=f.UG}}}if(F!=0&&this.aIl.codePointAt(F-1)>65535)F--;return F}for(var X=0;X<P.length;X++){var A=P[X];
for(var Q=0;Q<A.PO.length;Q++){O++;var h=A.PO[Q],D=A.PO[Q+1];if(D==null&&X<P.length-1)D=P[X+1].PO[0];
if(M!=null){if(O!=M)continue}else{if(D!=null&&A.I7.y+h.I7.y<s.y)continue}for(var m=h.start;m<h.end;m++){var Z=A.JX[m];
for(var u=Z.ZF;u<=Z.JY;u++){var f=A.u5[u],U=f.Iz.A,L=A.I7.x+h.I7.x+Z.I7.x,E=L+f.I7.x,_=L+(u<Z.JY?A.u5[u+1].I7.x:f.I7.x+U);
if(s.x<=_||m+1==h.end&&u==Z.JY){var S=A.afW+f.UG,W=this.TY[S],g=W.Fm&1;if(W._L!="\n"&&(g==0&&s.x>E+U/2||g==1&&s.x<E+U/2))S+=this.aIl.codePointAt(S)>65535?2:1;
return S}}}}}};aa.prototype.hp=function(s){var M={Iz:new gi,KW:0},O=0;for(var P=0;P<this.Gy.length;P++){var y=this.Gy[P];
for(var F=0;F<y.PO.length;F++){var A=y.PO[F];M.KW=O;O++;for(var h=A.start;h<A.end;h++){var m=y.JX[h];
for(var Z=m.start;Z<m.end;Z++){if(Z==s){var u=this.TY[Z],f=u.zg,U=y.u5[f].UG,C=1;while(y.u5[f]!=null&&y.u5[f].UG==U){var H=y.u5[f],t=y.I7.x+A.I7.x+m.I7.x+H.I7.x,X=y.I7.y+A.I7.y+m.I7.y+H.I7.y;
M.Iz=M.Iz.v8(new gi(t,X-u.lineHeight,H.Iz.A,u.lineHeight));M.JL=H.JL;f+=C}return M}}}}}};aa.prototype.HD=function(){var s=Infinity,M=Infinity,O=-Infinity,P=-Infinity;
for(var R=0;R<this.Gy.length;R++){var y=this.Gy[R];for(var F=0;F<y.PO.length;F++){var A=y.PO[F];if(!A.ph)break;
for(var h=A.start;h<A.end;h++){var m=y.JX[h];for(var Z=m.ZF;Z<=m.JY;Z++){var u=y.u5[Z],f=u.Iz,U=y.I7.x+A.I7.x+m.I7.x+u.I7.x,C=y.I7.y+A.I7.y+m.I7.y+u.I7.y;
s=Math.min(s,U+f.x);M=Math.min(M,C+f.y);O=Math.max(O,U+f.x+f.A);P=Math.max(P,C+f.y+f.$)}}}}return new gi(s,M,O-s,P-M)};
aa.H6=function(s){return 19968<=s&&s<=40959||12288<=s&&s<=12543};aa.dn=function(s,M,O,P,y,F,A){var h=[F],m=0;
for(var R=F;R<A;R++){if(O[R]==null)console.log(R,F,A,O);var Z=O[R]._L,u=Z.charCodeAt(0);if(u==32||u==9){h.push(m,R,1,R+1);
m=0}else if(u==3851){h.push(m+1,R+1);m=0}else if(aa.H6(u)){h.push(m,R);m=1}else if(R!=F&&O[R].Fm!=O[R-1].Fm){h.push(m,R);
m=1}else m++}h.push(m);var f=[];for(var R=0;R<h.length;R+=2){var U=h[R],C=h[R+1];if(C==0)continue;f.push(new aa.aHF(s,M,O,P,y,U,C))}return f};
aa.a0l=function(s,M,O,P,y,F,A){var h=[0,M?M.A:1e9],m=[];if(P){var Z=s[F].DW,u=y+(y==0?Z:s[F].lineHeight),f=u-Z*.9,U=a.b.asw(P[0],f),C=U.length,H=a.b.asw(P[0],u),t=H.length;
if(C!=0&&t!=0){var X=0,Q=0,D=[];while(X<C&&Q<t){var L=Math.max(U[X],H[Q]),E=U[X+1],_=H[Q+1],S=Math.min(E,_);
if(L<S)D.push(L,S);if(E<_)X+=2;else Q+=2}if(D.length!=0)h=D}}for(var W=0;W<h.length;W+=2){var g=0,x=F,V=M?h[W+1]-h[W]-O.StartIndent-O.EndIndent-(F==0?O.FirstLineIndent:0):Infinity;
while(F!=s.length){var b=s[F],N=g==0||(b.Ye||b.fm)||g+b.Iz.A<V;if(!N)break;g+=b.Iz.A;F++}m.push(F-x)}A[0]=m;
A[1]=h;A[2]=F};aa.aAb=function(s,M){var O=s.length,P=new Uint32Array(O),y=new Uint8Array(O),F=0;for(var R=0;
R<O;R++){y[R]=0;var A=s.charCodeAt(R);P[R]=A;if(A>F)F=A}if(F>1424)y=aa.aH7(P,M);return y};aa.an8=function(s){return s=="ß"?s:s.toUpperCase()};
aa.Fx=function(s,M,O,P,y,F,A){this.JX=[];this.PO=[];this.I7=new j6(0,0);this.u5=null;this.JX=null;this._m=iP.aJx(s,P);
var h=this._m,f=0,H="",S=0,W=1,a5=0;if(P!=0){var m=h.SpaceBefore;if(m!=null)F[0]+=m}var Z=s.EngineDict.ParagraphRun.RunLengthArray,u=Z[P];
for(var R=0;R<P;R++)f+=Z[R];var U=h._Direction?h._Direction:0;this.afW=f;var C=iP.Rx(s).slice(f,f+u);
for(var t=0;t<C.length;t++){var X=O[f+t],Q=X._m.FontCaps,D=C.charAt(t);if(Q==0)H+=D;if(Q==1)H+=X.arH?aa.an8(D):D;
if(Q==2)H+=aa.an8(D)}C=H;var L=aa.aAb(C,U),E=[],g=L[0]&1,x=O[f].j8;O[f].Fm=L[0];for(var R=1;R<C.length;
R++){var D=O[f+R],V=L[R];D.Fm=V;if(V!=g||D.j8!=x){E.push(S,W);S=R;W=1;g=V;x=D.j8}else W++}E.push(S,W);
var b=this.u5=[];for(var R=0;R<E.length;R+=2){var N=E[R],J=E[R+1],K=(O[f+N].Fm&1)==0,q=C.slice(N,N+J),d=[];
for(var t=0;t<J;t++){var l=O[f+N+t]._m,T=[];d.push(T);for(var B=0;B<8;B++)T.push(l[iP.g2[B]]?1:0);T.push(l.FontCaps==1?1:0);
var p=q.charCodeAt(t),I=l._DigitSet;if(I==null)I=0;if(I>1&&48<=p&&p<=57){p=p-48+1632+(I-2)*144;q=q.slice(0,t)+String.fromCharCode(p)+q.slice(t+1)}}d=aa.aGn(d);
var w=Typr.U.shapeHB(O[f+N].j8,q,{ltr:K,fts:d,axs:O[f+N].vN}),e=[];for(var t=0;t<w.length;t++){var j=w[t];
e.push({R:j.g,UG:j.cl,DE:j.ax,kC:j.ay,zU:j.dx,af0:j.dy})}w=e;for(var t=0;t<J;t++){var o=0,r=-1;for(var k=0;
k<w.length;k++){var W=w[k].UG;if(W<=t&&W>r){r=W;o=k}}O[f+N+t].zg=b.length+o}for(var t=0;t<w.length;t++){b.push(w[t]);
w[t].UG+=N;var D=O[f+w[t].UG];if(D.SE!=-1&&D.SE<D.j8.maxp.numGlyphs){w[t].R=D.SE;var a7=D.j8.hmtx;if(a7){var Y=Object.keys(a7)[0];
w[t].DE=a7[Y][D.SE]}}if(D._L=="\n")w[t].DE=0;if(D._L=="\t")w[t].DE=D.j8.head.unitsPerEm*36/D._m.FontSize}}var v=iP.zB(h),n=this.JX=aa.dn(s,M,O,f,b,f,f+u),cm=this.PO,gP=-1,H=[null,null,0];
while(a5<n.length){aa.a0l(n,y,h,A,F[0],a5,H);gP++;var cg={start:a5,end:0,Iz:new gi,I7:new j6(0,0),ph:!0},ix=0,jy=0;
cm.push(cg);cg.end=H[2];if(cg.start==cg.end)throw"e";var a9=cg.end==n.length;function ew(k0,N,cd){var fz=cd-N>>>1;
for(var R=0;R<fz;R++){var fu=k0[N+R];k0[N+R]=k0[cd-1-R];k0[cd-1-R]=fu}}for(var h7=1;h7<5;h7++){var bh=-1;
for(var R=cg.start;R<cg.end;R++){var V=O[n[R].start].Fm;if(bh==-1&&V>=h7)bh=R;else if(bh!=-1&&V<h7){ew(n,bh,R);
bh=-1}}var ba=cg.end;if(U==0&&n[ba-1].Ye)ba--;if(bh!=-1)ew(n,bh,ba)}var jx=H[0],c4=H[1],bh=a5,bq=a5;
for(var di=0;di<c4.length;di+=2){var il=y?c4[di+1]-c4[di]-h.StartIndent-h.EndIndent-(a5==0?h.FirstLineIndent:0):Infinity,j0=0;
bh=bq;bq+=jx[di>>>1];var j1=this.ajr(bh,bq,n,U,y!=null);if(y){if(v==1||a9&&v==4)j0=j1[1]+(il-j1[0]);
if(v==2||a9&&v==5)j0=j1[1]+(il-j1[0])/2;if(bq-bh==1&&n[bh].Iz.A>il)j0=0;if(gP==0)j0+=h.FirstLineIndent;
j0+=h.StartIndent}else{if(v==0)j0=h.StartIndent+h.FirstLineIndent;if(v==1)j0=-j1[0]-h.EndIndent;if(v==2)j0=-j1[0]/2}j0+=c4[di];
if(y&&v>2&&(v==6||!a9))this.aHi(bh,bq,n,il,U,j0);else{var b5=j0;for(var R=bh;R<bq;R++){var b4=n[R],lm=b4.Iz.A;
b4.I7.x=b5;if(b4.P2=="\t")lm=Math.ceil((b5+4)/36)*36-b5;b5+=lm}}}a5=cg.end;for(var R=cg.start;R<cg.end;
R++){var bz=n[R].Iz.v();bz.a6c(n[R].I7);cg.Iz=cg.Iz.v8(bz);ix=Math.max(ix,n[R].DW);jy=Math.max(jy,n[R].lineHeight)}cg.I7.y=gP==0?0:cm[gP-1].I7.y+jy;
if(gP==0){if(P==0&&y)F[0]+=ix;if(P!=0)F[0]+=jy;this.I7.y=F[0]}else F[0]+=jy;if(y)cg.ph=this.I7.y+cg.I7.y<y.y+y.$||P==0&&gP==0}var c5=h.SpaceAfter;
if(c5!=null)F[0]+=c5};aa.Fx.prototype.ajr=function(s,M,O,P,y){var F=0,A=0;for(var R=s;R<M;R++)F+=O[R].Iz.A;
if(y){if(P==0)for(var R=M-1;R>=s;R--)if(O[R].Ye||O[R].fm)F-=O[R].Iz.A;else break;if(P==1)for(var R=s;
R<M;R++)if(O[R].Ye||O[R].fm){var h=O[R].Iz.A;F-=h;A-=h}else break}return[F,A]};aa.Fx.prototype.aHi=function(s,M,O,P,y,F){var A=0,h=0,m=0,Z=0;
for(var R=s;R<M;R++)if(O[R].Ye)m++;else{A+=O[R].Iz.A;h++}if(y==0)for(var R=M-1;R>=s;R--)if(O[R].Ye||O[R].fm){if(O[R].Ye){m--}}else break;
if(y==1)for(var R=s;R<M;R++)if(O[R].Ye||O[R].fm){if(O[R].Ye){m--;Z++}}else break;if(h<=1||m==0){if(h==1)O[s].I7.x=F;
return}var u=(P-A)/m,f=-Z*u;for(var R=s;R<M;R++){if(O[R].Ye)this.u5[O[R].ZF].Iz.A=O[R].Iz.A=u;O[R].I7.x=F+f;
f+=O[R].Iz.A}};aa.aHF=function(s,M,O,P,y,F,A){this.P2="";for(var R=0;R<A;R++)this.P2+=O[F+R]._L;this.Ye=A==1&&(O[F]._L==" "||O[F]._L=="\t");
this.fm=A==1&&O[F]._L=="\n";this.start=F;this.end=F+A;this.Iz=new gi;this.I7=new j6(0,0);this.DW=0;this.lineHeight=0;
var h=0,m=0;if(A==0){this.lineHeight=O[F].lineHeight;this.DW=O[F].DW;this.Iz=new gi(0,-O[F].lineHeight,0,O[F].lineHeight)}var Z=O[F].zg,u=O[F+A-1].zg;
if(Z==-1)return;if(u<Z){var f=Z;Z=u;u=f}while(u+1<y.length&&y[u].UG==y[u+1].UG){u++}this.ZF=Z;this.JY=u;
for(var U=Z;U<=u;U++){var C=y[U],H=O[P+C.UG],t=s._LineOrientation==2&&(H._m.BaselineDirection!=2||aa.H6(H._L.charCodeAt(0))),X=Typr.U.glyphToPath(H.j8,C.R,null,H.vN),_=0;
C.path={J8:X.cmds,L:X.crds};var Q=H._m.FontSize,D=1/H.j8.head.unitsPerEm*Q;if(!H._m.AutoKerning)h+=H._m.Kerning*2*D*H.scale.x;
C.I7=new j6(h,0);C.JL=0;if(t&&C.path.L.length>0){C.JL=-Math.PI/2;C.I7.x+=Q*.83;C.I7.y=-Q*.3+C.DE*D/2;
C.DE=Q/D}var L=C.DE*D*H.scale.x;C.Iz=new gi(0,-H.lineHeight,L,H.lineHeight);var E=C.Iz.v();E.a6c(C.I7);
if(H._m.Tracking!=null)_=H._m.Tracking*.001*Q;if(H._m.FauxBold==!0)_+=.027*Q;h+=L+_;if(U<y.length-2)C.Iz.A+=_;
if(A==1&&H._L==" "){E.A+=2*_;C.I7.x+=_}else if(A==1&&H._L!=null&&aa.H6(H._L.charCodeAt(0)))E.A+=_;this.Iz=this.Iz.v8(E);
this.DW=Math.max(this.DW,H.DW);this.lineHeight=Math.max(this.lineHeight,H.lineHeight)}};aa.Uf=0;aa.azR=function(s){if(aa.Uf==2)return!0;
if(aa.Uf==1)return!1;aa.Uf=1;function M(){fetch(dB.$n("code/ext/fribidi.wasm")).then(function(O){return O.arrayBuffer()}).then(function(O){return WebAssembly.instantiate(O)}).then(function(O){var P=O.instance.exports,y=P.memory,F=16,A=256,h=1,m=F|A,Z=F|A|h;
aa.aH7=function(f,U){var C=f.length,H=C*4+4+C*4+C*4+C;b_.YE(P,H+C+1e7);var t=new Uint8Array(y.buffer),X=new Uint32Array(y.buffer),Q=P.calloc(H,1),D=Q+C*4,L=D+4,E=L+C*4,_=E+C*4;
X.set(f,Q>>>2);X[D>>>2]=U==0?m:Z;P.fribidi_get_bidi_types(Q,C,L);P.fribidi_get_bracket_types(Q,C,L,E);
P.fribidi_get_par_embedding_levels_ex(L,E,C,D,_);var S=t.slice(_,_+C);P.free(Q);return S};aa.Uf=2;var u=new kg(z.E.c,!0);
u.data={Q:z.J.ko,hP:"add",dh:g5.Ql,BC:null};if(s)s.a(u)})}Typr.U.initHB(dB.$n("code/ext/hb.wasm"),M);
return!1};aa.aGn=function(s){var M=[],O=s.length,P=iP.a3J;for(var y=0;y<9;y++){var F=P[y],h=null;if(F==null)continue;
var A=-1;for(var R=0;R<O;R++){var m=s[R][y];if(m!=A){if(h)h[3]=R;h=[F,m,R,R+1];M.push(h);A=m}}h[3]=O}return M};
function iP(){}iP.Td=function(s,M){for(var O in M)s[O]=M[O]};iP.g2="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
iP._u=[18,20,19,25,28,26,24,23];iP.a88="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
iP.a3J="liga calt dlig swsh salt titl ordn frac smcp".split(" ");iP.Zp=function(s){return s.Axis?s.Name.split("_")[0]:s.Name};
iP.cN=function(s,M,O,P){var y=iP.aqm();if(O)iP.UP(y,0,0,O);var F=new kp;if(P!=null)F.rotate(P);F.translate(Math.round(s),Math.round(M));
var A={M:F,nA:y};A.x9=iP.aFN();A.jR=a.Z6.j();A.WY=new gi;return A};iP.aIy=function(s){var M=["CharacterDirection",0];
for(var R=0;R<M.length;R+=2){if(s[M[R]]!=null&&s[M[R]]!=M[R+1]){throw"e";console.log(M[R],s[M[R]])}}if(s instanceof Array)for(var R=0;
R<s.length;R++)iP.aIy(s[R]);else if(s instanceof Object)for(var O in s)iP.aIy(s[O])};iP.zB=function(s,M){if(M==null)M=s.Justification;
var O=s._Direction?s._Direction:0;if(O==1){if(M==0||M==3)M++;else if(M==1||M==4)M--}return M};iP.Cg=function(s){if(s.add==null)return;
var M=s.nA,O=M.Curve,P=s.add.vmsk,y=P.u,F=a.b.TM(y,2).L,A=s.M.v();A.or();a.b.M(F,A,F);var h=F.slice(0,8);
for(var m=8;m<F.length;m+=6)h.push(F[m-2],F[m-1],F[m],F[m+1],F[m+2],F[m+3],F[m+4],F[m+5]);O.Points=h;
O.TextOnPathTRange=P.Dx.slice(0);O.Reversed=P.l_;if(iP.z0(M)==1){var O=aa.xI(M.Curve),Z=a.b.hG(O[0]);
iP.w9(M,[0,0,Z.A,Z.$].map(Math.round));for(var R=0;R<h.length;R+=2){h[R]-=Z.x;h[R+1]-=Z.y}var u=new kp(1,0,0,1,Z.x,Z.y);
u.concat(s.M);s.M=u}};iP.ND=function(s){if(s.add==null)return;var M=s.add.vmsk,O=s.nA.Curve,P=O.Points,y={J8:["M"],L:[P[0],P[1]]};
for(var R=0;R<P.length;R+=8){y.J8.push("C");y.L.push(P[R+2],P[R+3],P[R+4],P[R+5],P[R+6],P[R+7])}a.b.M(y.L,s.M,y.L);
var F=a.b.Ie(y,!0);M.u=F;M.l_=O.Reversed;M.Dx=O.TextOnPathTRange.slice(0);s.add.vogk=ad.$k(F)};iP.sl=function(s){var M={o:0,R:0,X:0};
if(s){var O=s.Values;if(s.Type==1)M={o:O[1]*255,R:O[2]*255,X:O[3]*255};else if(s.Type==2){var P={classID:"CMYC",Cyn:{t:"doub",v:O[1]*100},Mgnt:{t:"doub",v:O[2]*100},Ylw:{t:"doub",v:O[3]*100},Blck:{t:"doub",v:O[4]*100}};
M=a.wv.sl(P)}else console.log("Unknown color type")}return M};iP.aA2=function(s){for(var R=0;R<s.length;
R++){var M=s[R].StyleSheet.StyleSheetData,O=M.FillColor;if(O&&O.Type==2){var P=iP.sl(O);O.Type=1;O.Values=[1,P.o/255,P.R/255,P.X/255]}}};
iP.Gt=function(s,M){var O;if(iP.z0(s.nA)==1){var P=iP.SP(s.nA);O=new gi(0,0,P[2]-P[0],P[3]-P[1])}else{O=M.HD();
if(M.xh){var y=M.xh.v(),F=a.b.hC(O);a.b.M(F.L,y,F.L);O=a.b.hG(F.L)}}return O};iP.u2=function(s){var M=s[0];
for(var R=0;R<s.length;R++)M=iP.a76(M,s[R]);return M};iP.a76=function(s,M){var O={};for(var P in s)if(JSON.stringify(s[P])==JSON.stringify(M[P]))O[P]=s[P];
return O};iP.Z2=function(s,M){var O=s.U2,P=-1;for(var R=0;R<O.length;R++)if(O[R].Name==M)P=R;if(P==-1){P=O.length;
O.push({FontType:1,Name:M,Script:0,Synthetic:0})}s.TY.Font=P};iP.Rx=function(s){return s.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
iP.aj=function(s,M){s.EngineDict.Editor.Text=M.replace(/\n/g,"\r")};iP.z0=function(s){return s.Curve&&s.Curve.TextOnPathTRange[0]>=0?2:s.EngineDict.Rendered.Shapes.Children[0].ShapeType};
iP.hV=function(s,M){var O=s.EngineDict.Rendered.Shapes.Children[0];O.ShapeType=M;var P=O.Cookie.Photoshop;
P.ShapeType=M;P.Base.ShapeType=M;if(M==0){delete P.BoxBounds;P.PointBase=[0,0]}if(M==1){delete P.PointBase;
P.BoxBounds=[0,0,1,1]}};iP.SP=function(s){return s.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
iP.w9=function(s,M){s.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=M};iP.a4W=function(s,M){var O=s.EngineDict.AlternateGlyphRun;
if(O==null)return-1;var P=iP.b1(O.RunLengthArray,M).vO;if(O.RunArray[P]==null)return-1;var y=O.RunArray[P].Glyph;
return y==null?-1:y};iP.azv=function(s,M,O){var P=s.EngineDict.AlternateGlyphRun;if(P==null){P=s.EngineDict.AlternateGlyphRun=iP.aB3();
P.RunArray.push({});P.RunLengthArray.push(iP.Rx(s).length)}var y=iP.b1(P.RunLengthArray,M),F=y.vO,A=M-y._x,h=P.RunArray[F],m=JSON.stringify(h),Z=P.RunLengthArray[F];
if(A!=0){P.RunArray.splice(F,0,JSON.parse(m));P.RunLengthArray.splice(F,0,A);P.RunLengthArray[F+1]-=A;
F++;Z-=A;A=0}if(Z!=1){P.RunArray.splice(F+1,0,JSON.parse(m));P.RunLengthArray.splice(F+1,0,Z-1);P.RunLengthArray[F]=1;
Z=1}h.Glyph=O};iP.aJJ=function(s,M){var O=s.EngineDict.StyleRun.RunLengthArray;return iP.b1(O,M).vO};
iP.akX=function(s,M){var O=s.ResourceDict.StyleSheetSet[0].StyleSheetData,P={};for(var y in O)P[y]=O[y];
var F=s.EngineDict.StyleRun.RunArray[M].StyleSheet.StyleSheetData;iP.Td(P,F);return P};iP.abC=function(s,M){var O=s.EngineDict.ParagraphRun.RunLengthArray;
return iP.b1(O,M).vO};iP.aJx=function(s,M){var O=s.ResourceDict.ParagraphSheetSet[0].Properties,P={};
for(var y in O)P[y]=O[y];var F=s.EngineDict.ParagraphRun.RunArray[M].ParagraphSheet.Properties;iP.Td(P,F);
var A=["StartIndent","EndIndent","FirstLineIndent"];for(var R=0;R<3;R++)if(P[A[R]]==null)P[A[R]]=0;return P};
iP.aaN=function(s,M,O){var P=iP.Rx(M);for(var y=0;y<2;y++){var F=s[y==0?"Txtt":"paragraphStyleRange"];
if(F==null)continue;F=F.v;console.log(F);for(var R=0;R<F.length;R++){var A=F[R].v,h=A.From.v,m=Math.min(A.T.v-1,P.length-1);
A=A[y==0?"TxtS":"paragraphStyle"].v;var Z=iP.ty(M,h,m);iP.vT(A,y==0?Z.TY:Z.Gy,Z,O.FR);iP.UP(M,h,m,Z)}}};
iP.a18=function(s,M,O){var P=iP.Rx(M).slice(0,-1);for(var y=0;y<2;y++){var F=y==0?"Txtt":"paragraphStyleRange",A=y==0?"TxtS":"paragraphStyle",h=s[F]={t:"VlLs",v:[]},u=0;
h=h.v;var m=M.EngineDict[y==0?"StyleRun":"ParagraphRun"],Z=m.RunLengthArray;for(var R=0;R<Z.length;R++){var f=u+Z[R],U=iP.ty(M,u,f-1),C=y==0?U.TY:U.Gy,H={t:"Objc",v:{classID:F,From:{t:"long",v:u},T:{t:"long",v:f}}};
h.push(H);H.v[A]={t:"Objc",v:{classID:A}};H=H.v[A].v;iP.Kb(C,H,U,O.FR);u=f}}};iP.vT=function(s,M,O,P){for(var y in s){var F=s[y].v;
if(y=="Sz")M.FontSize=Math.round(F.val*(F.type=="#Pnt"?P/72:1));if(y=="fontPostScriptName")iP.Z2(O,F);
if(y=="Algn")M.Justification=["Left","Rght","Cntr"].indexOf(F.Alg);if(y=="leading")M.Leading=s[y].v.val;
if(y=="baselineShift"||y=="Bsln")M.BaselineShift=s[y].v.val;if(y=="autoLeading")M.AutoLeading=s[y].v;
if(y=="syntheticBold")M.FauxBold=s[y].v;if(y=="syntheticItalic")M.FauxItalic=s[y].v;if(y=="Trck")M.Tracking=s[y].v;
if(y=="verticalScale"||y=="VrtS")M.VerticalScale=s[y].v/100;if(y=="horizontalScale"||y=="HrzS")M.HorizontalScale=s[y].v/100;
if(y=="Clr")M.FillColor={Type:1,Values:[1,F.Rd.v/255,F.Grn.v/255,F.Bl.v/255]}}};iP.Kb=function(s,M,O,P){for(var y in s){var F=s[y];
if(y=="FontSize")M.Sz={t:"UntF",v:{type:"#Pnt",val:F*72/P}};if(y=="Font")M.fontPostScriptName={t:"TEXT",v:O.U2[F].Name};
if(y=="Justification")M.Algn={t:"enum",v:{Alg:["Left","Rght","Cntr"][F]}};if(y=="Leading")M.leading={t:"long",v:F};
if(y=="BaselineShift")M.Bsln={t:"UntF",v:{type:"#Pnt",val:F}};if(y=="AutoLeading")M.autoLeading={t:"bool",v:F};
if(y=="FauxBold")M.syntheticBold={t:"bool",v:F};if(y=="FauxItalic")M.syntheticItalic={t:"bool",v:F};
if(y=="Tracking")M.Trck={t:"long",v:F};if(y=="VerticalScale")M.VrtS={t:"doub",v:F*100};if(y=="HorizontalScale")M.HrzS={t:"doub",v:F*100};
if(y=="FillColor")M.Clr={t:"Objc",v:a.wv.gN({o:255*F.Values[1],R:255*F.Values[2],X:255*F.Values[3]})}}};
iP.Xq=function(s,M,O){if(O=="")return;var P=iP.Rx(s);iP.aj(s,P.substring(0,M)+O+P.substring(M,P.length));
var y=s.EngineDict.StyleRun,F=y.RunLengthArray,A=iP.b1(F,M-1);F[A.vO]+=O.length;var h=s.EngineDict.AlternateGlyphRun;
if(h){var F=h.RunLengthArray,A=iP.b1(F,M-1);F[A.vO]+=O.length}var m=s.EngineDict.ParagraphRun,F=m.RunLengthArray,Z=iP.b1(F,M),u=O.split("\n");
if(u.length==1){F[Z.vO]+=O.length;return}F.splice(Z.vO+1,0,F[Z.vO]-(M-Z._x));m.RunArray.splice(Z.vO+1,0,a.G(m.RunArray[Z.vO]));
F[Z.vO]-=F[Z.vO+1];F[Z.vO]+=u[0].length+1;for(var R=1;R<u.length-1;R++){m.RunArray.splice(Z.vO+R,0,a.G(m.RunArray[Z.vO+R-1]));
m.RunLengthArray.splice(Z.vO+R,0,u[R].length+1)}F[Z.vO+u.length-1]+=u[u.length-1].length};iP.Cl=function(s,M,O){var P=iP.Rx(s);
iP.aj(s,P.substring(0,M)+P.substring(O,P.length));iP.HG(s.EngineDict.ParagraphRun,M,O,!0);iP.HG(s.EngineDict.StyleRun,M,O,!1);
var y=s.EngineDict.AlternateGlyphRun;if(y)iP.HG(y,M,O,!1)};iP.HG=function(s,M,O,P){var y=s.RunLengthArray,F=iP.b1(y,M),A=iP.b1(y,O),h=[];
for(var R=0;R<y.length;R++)for(var m=0;m<y[R];m++)h.push(R);h.splice(M,O-M);var Z=[];for(var R=0;R<y.length;
R++)Z.push(0);for(var R=0;R<h.length;R++)Z[h[R]]++;for(var R=0;R<y.length;R++){if(Z[R]==0){Z.splice(R,1);
y.splice(R,1);s.RunArray.splice(R,1);R--}else if(Z[R]<y[R])y[R]=Z[R]}if(P&&F.vO!=A.vO&&F._x!=M){y[F.vO]+=y[F.vO+1];
y.splice(F.vO+1,1);s.RunArray.splice(F.vO+1,1)}};iP.UP=function(s,M,O,P){var y=P.TY.Font,F=s.ResourceDict.FontSet,A=s.EngineDict.Editor.Text.length;
if(O==A-2)O++;if(y!=null){var h=P.U2[y],m=-1;for(var R=0;R<F.length;R++)if(F[R].Name==h.Name)m=R;if(m==-1){m=F.length;
F.push(a.G(h))}P.TY.Font=m}if(M<=O)iP.axT(s.EngineDict.StyleRun,P.TY,M,O,!0);iP.axT(s.EngineDict.ParagraphRun,P.Gy,M,O,!1);
P.TY.Font=y;if(F.length>20){var Z=s.ResourceDict.FontSet=[],u=s.EngineDict.StyleRun.RunArray,f={};for(var R=0;
R<u.length;R++){var U=u[R].StyleSheet.StyleSheetData,C=U.Font;if(C!=null){if(f[C]==null){f[C]=Z.length;
Z.push(F[C])}U.Font=f[C]}}}};iP.ty=function(s,M,O){var P={U2:s.ResourceDict.FontSet.slice(0),TY:[],Gy:[]},y=s.EngineDict.StyleRun.RunLengthArray,F=iP.b1(y,M).vO,A=iP.b1(y,O).vO;
for(var R=F;R<=A;R++){var h=a.G(s.ResourceDict.StyleSheetSet[0].StyleSheetData),m=s.EngineDict.StyleRun.RunArray;
if(m.length==0)continue;var Z=m[R].StyleSheet.StyleSheetData;iP.Td(h,Z);P.TY.push(h)}var u=s.EngineDict.ParagraphRun.RunLengthArray,f=iP.b1(u,M).vO,U=iP.b1(u,O).vO;
for(var R=f;R<=U;R++){var C=s.EngineDict.ParagraphRun.RunArray;if(C.length==0)continue;P.Gy.push(a.G(C[R].ParagraphSheet.Properties))}P.TY=P.TY.length==0?{}:iP.u2(P.TY);
P.Gy=P.Gy.length==0?{}:iP.u2(P.Gy);return P};iP.axT=function(s,M,O,P,y){var F=s.RunLengthArray;if(y){var A=iP.b1(F,O);
if(A._x!=O){var h=F[A.vO];F.splice(A.vO,0,O-A._x);F[A.vO+1]=h-F[A.vO];s.RunArray.splice(A.vO+1,0,a.G(s.RunArray[A.vO]))}var m=iP.b1(F,P);
if(m._x+F[m.vO]-1!=P){var h=F[m.vO];F.splice(m.vO,0,P-m._x+1);F[m.vO+1]=h-F[m.vO];s.RunArray.splice(m.vO+1,0,a.G(s.RunArray[m.vO]))}}var A=iP.b1(F,O),m=iP.b1(F,P);
if(y)for(var R=A.vO;R<=m.vO;R++)iP.Td(s.RunArray[R].StyleSheet.StyleSheetData,M);else for(var R=A.vO;
R<=m.vO;R++)iP.Td(s.RunArray[R].ParagraphSheet.Properties,M)};iP.aC9=function(s,M,O){var P=s.EngineDict.StyleRun.RunLengthArray,y=[],F=0;
for(var R=0;R<P.length;R++){var A=P[R];for(var h=0;h<A;h++)if(M<=F+h&&F+h<O)y.push(R);F+=A}var m=y[0],Z=[];
for(var R=0;R<y.length;R++){var u=y[R]-m;if(u==Z.length)Z.push(0);Z[u]++}return Z};iP.atR=function(s){var M=s.EngineDict.StyleRun,O=M.RunArray,P=M.RunLengthArray;
for(var R=0;R<P.length-1;R++){var y=O[R].StyleSheet.StyleSheetData,F=O[R+1].StyleSheet.StyleSheetData;
if(JSON.stringify(y)==JSON.stringify(F)){O.splice(R+1,1);P[R]+=P[R+1];P.splice(R+1,1);R--}}};iP.X5=function(s){var M=s.x9.AntA.v.Annt;
M=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(M);if(M==-1)M=1;return M};iP.ZP=function(s,M){s.x9.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][M]};
iP.ZU=function(s,M){var O,P;O=["FontSize","Leading","BaselineShift","OutlineWidth"];P=s.TY;for(var R=0;
R<O.length;R++)if(P[O[R]]!=null)P[O[R]]*=M;O=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
P=s.Gy;for(var R=0;R<O.length;R++)if(P[O[R]]!=null)P[O[R]]*=M};iP.anR=function(){return iP.ty(a.G(iP.a6i),0,0)};
iP.aFN=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
iP.b1=function(s,M){var O=0,R=0;while(O+s[R]<=M){O+=s[R];R++}return{vO:R,_x:O}};iP.aqm=function(){var s=a.G(this.a6i);
return s};iP.agu={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
iP.axm={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
iP.aB3=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};iP.a6i={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:a.G(iP.agu)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:a.G(iP.agu)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:a.G(iP.axm)}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var jt={};jt.aHh=function(s){var M=jt.arL(s._0,s._1);jt.aqN(M,s._0);return M};jt.aHV=function(s,M,O){var P={};
P._98={_0:"i7"};P._0=jt.adJ(s,M,O?O._0:null);P._1=jt.a4o(s,M,P._0,O?O._1:null);return P};jt.adJ=function(s,M,O){var P={};
P._1=jt.a3k(s,O?O._1:null);P._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};P._3=a.G(jt.adb);P._4=a.G(jt.aHQ);
P._5=jt.ake(s,P._1._0,O?O._5:null);P._6=jt.a1E(s,O?O._6:null);P._8=jt.ax4(s,M,O?O._8:null);P._9=jt.az1;
return P};jt.aqN=function(s,M){jt.a68(s,M._5,M._1._0)};jt.a3k=function(s,M){var O=[],P=[];for(var R=0;
R<s.length;R++){var y=s[R].ResourceDict.FontSet;for(var F=0;F<y.length;F++){var A=y[F];if(P.indexOf(A.Name)!=-1)continue;
O.push(A);P.push(A.Name)}}var h={_0:[]};for(var R=0;R<O.length;R++){var m=O[R],Z=m.Axis,u={_0:"s"+m.Name,_1:"i"+m.Script,_2:"i"+m.FontType};
if(Z){var f=u._4=[];for(var F=0;F<Z.length;F++)f.push("i"+Z[F])}if(m.Script==0)delete u._1;h._0.push({_0:{_99:"/CoolTypeFont",_0:u}})}return h};
jt.ake=function(s,M,O){var P={_0:[],_1:[]},y={_0:a.G(jt.aaJ)};jt.aIj(y._0,s[0].ResourceDict.StyleSheetSet[0],M,s[0].ResourceDict.FontSet);
P._0.push(y);P._1.push({_0:"i0"});P._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});P._1.push({_0:"i1"});return P};
jt.a68=function(s,M,O){var P=M._0[0];for(var R=0;R<s.length;R++)jt.aq7(P._0,s[R].ResourceDict.StyleSheetSet[0],O,s[R].ResourceDict.FontSet)};
jt.a1E=function(s,M){var O={_0:[],_1:[]},P={_0:a.G(jt.b$)};jt.BL(P._0,s[0].ResourceDict.ParagraphSheetSet[0]);
O._0.push(P);O._1.push({_0:"i0"});P={_0:a.G(jt.b$)};jt.BL(P._0,s[0].ResourceDict.ParagraphSheetSet[0]);
P._0._0="sBasic Paragraph";P._0._6="i0";O._0.push(P);O._1.push({_0:"i1"});return O};jt.ax4=function(s,M,O){var P={_0:[]};
for(var R=0;R<s.length;R++){var y=s[R].Curve,F={};P._0.push({_0:F});var A=iP.z0(s[R]);F._1={};F._2={};
F._2._0="i"+A;if(s[R]._LineOrientation==2)F._2._1="i2";if(A==0){delete F._1;F._2._6=["f-1","f-1"];F._2._11={_4:"i-1",_7:!1}}else if(A==1&&y==null){var h=iP.SP(s[R]),m=h[2],Z=h[3];
F._1._0=jt.p8("f",[0,0,0,0,m,0,m,0,m,0,m,0,m,Z,m,Z,m,Z,m,Z,0,Z,0,Z,0,Z,0,Z,0,0,0,0]);F._2._6=["f-2","f-2"];
F._2._11={_4:"i-2",_7:!1}}else if(A==1){var h=iP.SP(s[R]),m=h[2],Z=h[3];F._1._0=jt.p8("f",y.Points);
F._2._6=["f-3","f-3"];F._2._11={_4:"i-3",_7:!1}}else if(A==2){F._1._0=jt.p8("f",y.Points);F._2._6=jt.p8("f",y.TextOnPathTRange);
F._2._11={_0:y.Reversed,_3:"i0",_5:"f0",_7:!1}}}return P};jt.a4o=function(s,M,O,P){var y={};y._0=a.G(jt.axz);
y._1=jt.asX(s,M,O,P?P._1:null);y._2=a.G(jt.aaJ._6);y._3=a.G(jt.b$._5);return y};jt.arL=function(s,M){return jt.aBR(s,M._1)};
jt.asX=function(s,M,O,P){var y=[],F=O._1._0;for(var R=0;R<s.length;R++){var A=s[R],h={_0:{}};y.push(h);
h._0._0="s"+A.EngineDict.Editor.Text;h._0._0=h._0._0;var m=h._0._5={_0:[]},Z=A.EngineDict.ParagraphRun;
for(var u=0;u<Z.RunArray.length;u++){var f={_0:{}};m._0.push(f);f._0._0={_0:"s",_5:{},_6:"i1"};jt.BL(f._0._0,Z.RunArray[u].ParagraphSheet);
f._1="i"+Z.RunLengthArray[u]}var U=h._0._6={_0:[]};Z=A.EngineDict.StyleRun;for(var u=0;u<Z.RunArray.length;
u++){var C={_0:{}};U._0.push(C);C._0._0={_0:"s",_5:"i1",_6:{}};jt.aIj(C._0._0,Z.RunArray[u].StyleSheet,F,A.ResourceDict.FontSet);
C._1="i"+Z.RunLengthArray[u]}Z=A.EngineDict.AlternateGlyphRun;if(Z){var H=h._0._9={_0:[]};for(var u=0;
u<Z.RunArray.length;u++){var t={_0:{}};H._0.push(t);var X=Z.RunArray[u];if(X.Glyph!=null){t._0._0={_0:"i"+X.Glyph,_1:"e"}}t._1="i"+Z.RunLengthArray[u]}}h._0._10={_0:"i4",_2:!0};
h._1=jt.view.aDk(A,null,R,null)}return y};jt.aBR=function(s,M){var O=[],P=s._1._0;if(M)for(var R=0;R<M.length;
R++){var y=iP.aqm();O.push(y);var F=M[R];y.EngineDict.Editor.Text=F._0._0.slice(1);var A=y.EngineDict.ParagraphRun.RunArray[0],h=y.EngineDict.ParagraphRun,m=F._0._5;
if(m)for(var Z=0;Z<m._0.length;Z++){var u=m._0[Z];h.RunLengthArray[Z]=parseInt(u._1.slice(1));h.RunArray[Z]=a.G(A);
jt.at$(u._0._0,h.RunArray[Z].ParagraphSheet)}else{h.RunLengthArray[0]=iP.Rx(y).length}var f=F._0._6;
h=y.EngineDict.StyleRun;if(f)for(var Z=0;Z<f._0.length;Z++){var U=f._0[Z];h.RunLengthArray[Z]=parseInt(U._1.slice(1));
h.RunArray[Z]={StyleSheet:{StyleSheetData:{}}};jt.aq7(U._0._0,h.RunArray[Z].StyleSheet,P,y.ResourceDict.FontSet)}else{h.RunLengthArray[0]=iP.Rx(y).length;
h.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return O};jt.aIj=function(s,M,O,P,y){s._0="s"+(M.Name?M.Name:"");
var F=s._6,A=y?y._6:null,h=M.StyleSheetData;if(h.Font!=null){var m=P[h.Font].Name,Z=-1;for(var R=0;R<O.length;
R++)if("s"+m==O[R]._0._0._0){Z=R;break}F._0="i"+Z}if(h.FontSize!=null)F._1="f"+h.FontSize;if(h.FauxBold!=null)F._2=h.FauxBold;
if(h.FauxItalic!=null)F._3=h.FauxItalic;if(h.AutoLeading!=null)F._4=h.AutoLeading;if(h.Leading!=null)F._5="f"+h.Leading;
if(h.HorizontalScale!=null)F._6="f"+h.HorizontalScale;if(h.VerticalScale!=null)F._7="f"+h.VerticalScale;
if(h.Tracking!=null)F._8="i"+h.Tracking;if(h.BaselineShift!=null)F._9="f"+h.BaselineShift;if(h.AutoKerning!=null)F._11="i"+(h.AutoKerning?1:0);
if(h.FontCaps!=null)F._12="i"+h.FontCaps;if(h.FontBaseline!=null)F._13="i"+h.FontBaseline;if(h.Strikethrough!=null)F._15="i"+(h.Strikethrough?1:0);
if(h.Underline!=null)F._16="i"+(h.Underline?2:0);if(h.Ligatures!=null)F._18=h.Ligatures;if(h.DLigatures!=null)F._19=h.DLigatures;
if(h.BaselineDirection!=null)F._35="i"+h.BaselineDirection;if(h.Language!=null)F._38="i"+h.Language;
if(h.FillColor!=null)F._53=jt.AO(h.FillColor);if(h.StrokeColor!=null)F._54=jt.AO(h.StrokeColor);if(h.FillFlag!=null)F._56=h.FillFlag;
if(h.StrokeFlag!=null)F._57=h.StrokeFlag;if(h.FillFirst!=null)F._58=h.FillFirst;if(h.OutlineWidth!=null)F._63="f"+h.OutlineWidth;
if(h._FillBackgroundColor!=null)F._79=jt.AO(h._FillBackgroundColor);if(h._FillBackgroundFlag!=null)F._80=h._FillBackgroundFlag;
if(h._LineCap!=null)F._61="i"+h._LineCap;if(h._LineJoin!=null)F._62="i"+h._LineJoin;if(h._MiterLimit!=null)F._64="f"+h._MiterLimit;
if(h._LineDashOffset!=null)F._65="f"+h._LineDashOffset;if(h._LineDashArray!=null)F._66=jt.p8("f",h._LineDashArray);
if(h._DigitSet!=null)F._70="i"+h._DigitSet;for(var R=0;R<8;R++)if(h[iP.g2[R]]!=null)F["_"+iP._u[R]]=h[iP.g2[R]]};
jt.AO=function(s){return{_99:"/SimplePaint",_0:{_0:"i1",_1:jt.p8("f",s.Values)}}};jt.aq7=function(s,M,O,P){var y=s._6;
if(y==null)return;var F=M.StyleSheetData;if(y._0){var A=parseInt(y._0.slice(1)),h=O[A]._0._0._0.slice(1);
iP.Z2({TY:F,U2:P},h)}if(y._1!=null)F.FontSize=parseFloat(y._1.slice(1));if(y._2!=null)F.FauxBold=y._2;
if(y._3!=null)F.FauxItalic=y._3;if(y._4!=null)F.AutoLeading=y._4;if(y._5!=null)F.Leading=parseFloat(y._5.slice(1));
if(y._6!=null)F.HorizontalScale=parseFloat(y._6.slice(1));if(y._7!=null)F.VerticalScale=parseFloat(y._7.slice(1));
if(y._8!=null)F.Tracking=parseFloat(y._8.slice(1));if(y._9!=null)F.BaselineShift=parseFloat(y._9.slice(1));
if(y._11!=null)F.AutoKerning=parseFloat(y._11.slice(1))==1;if(y._12!=null)F.FontCaps=parseFloat(y._12.slice(1));
if(y._13!=null)F.FontBaseline=parseFloat(y._13.slice(1));if(y._15!=null)F.Strikethrough=parseFloat(y._15.slice(1))==1;
if(y._16!=null)F.Underline=parseFloat(y._16.slice(1))==1;if(y._18!=null)F.Ligatures=y._18;if(y._19!=null)F.DLigatures=y._19;
if(y._35!=null)F.BaselineDirection=parseFloat(y._35.slice(1));if(y._38!=null)F.Language=parseFloat(y._38.slice(1));
if(y._53!=null)F.FillColor=jt.kJ(y._53);if(y._54!=null)F.StrokeColor=jt.kJ(y._54);if(y._56!=null)F.FillFlag=y._56;
if(y._57!=null)F.StrokeFlag=y._57;if(y._63!=null)F.OutlineWidth=parseFloat(y._63.slice(1));if(y._79!=null)F._FillBackgroundColor=jt.kJ(y._79);
if(y._80!=null)F._FillBackgroundFlag=y._80;if(y._61!=null)F._LineCap=parseFloat(y._61.slice(1));if(y._62!=null)F._LineJoin=parseFloat(y._62.slice(1));
if(y._64!=null)F._MiterLimit=parseFloat(y._64.slice(1));if(y._65!=null)F._LineDashOffset=parseFloat(y._65.slice(1));
if(y._66!=null)F._LineDashArray=jt._J(y._66);if(y._70!=null)F._DigitSet=parseFloat(y._70.slice(1));for(var R=0;
R<8;R++)if(y["_"+iP._u[R]]!=null)F[iP.g2[R]]=y["_"+iP._u[R]]};jt.kJ=function(s){var M=s._0._0,O=[1,0,0,0],P=jt._J(s._0._1);
if(M=="i0")O[1]=O[2]=O[3]=P[1];else if(M=="i1")O=P;else if(M=="i2")O=[1].concat(UDOC.C.cmykToRgb(P.slice(1)));
else console.log("unknown color type",M,P);return{Type:1,Values:O}};jt.BL=function(s,M){s._0="s"+(M.Name?M.Name:"");
var O=s._5,P=M.Properties;if(P.Justification!=null)O._0="i"+P.Justification;if(P.FirstLineIndent!=null)O._1="f"+P.FirstLineIndent;
if(P.StartIndent!=null)O._2="f"+P.StartIndent;if(P.EndIndent!=null)O._3="f"+P.EndIndent;if(P.SpaceBefore!=null)O._4="f"+P.SpaceBefore;
if(P.SpaceAfter!=null)O._5="f"+P.SpaceAfter;if(P.AutoLeading!=null)O._7="f"+P.AutoLeading;if(P.AutoHyphenate!=null)O._9=P.AutoHyphenate;
if(P._Direction!=null)O._33="i"+P._Direction;if(P._ComposerEngine!=null)O._35="i"+P._ComposerEngine};
jt.at$=function(s,M){var O=s._5;if(O==null)return;var P=M.Properties;if(O._0)P.Justification=parseInt(O._0.slice(1))};
jt.p8=function(s,M){var O=[];for(var R=0;R<M.length;R++)O.push(s+M[R]);return O};jt._J=function(s){var M=[];
for(var R=0;R<s.length;R++)M.push(parseFloat(s[R].slice(1)));return M};jt.adb={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
jt.aHQ={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
jt.aaJ={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
jt.b$={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
jt.az1={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
jt.axz={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var hO={};hO.aug=function(s){return hO.WE(s,hO.WH,0)};hO.awt=function(s){return hO.CE(s,hO.WH)};hO.WE=function(s,M,O){var P;
if(typeof s=="string")return s;if(s instanceof Array){P=[];for(var R=0;R<s.length;R++)P[R]=hO.WE(s[R],M,O+1)}else{P={};
var y={};for(var F in M){var A=M[F],h="_"+A[0];if(s[h]!=null){P[F]=A[1]?hO.WE(s[h],A[1],O+1):s[h];y[h]=!0}}for(var F in s){if(y[F]==null){if(F.length>3)continue;
console.log(M,y);console.log(F,s);throw"e"}}}return P};hO.CE=function(s,M){var O;if(typeof s=="string")return s;
else if(s instanceof Array){O=[];for(var R=0;R<s.length;R++)O[R]=hO.CE(s[R],M)}else{O={};var P={};for(var y in M){var F=M[y],A="_"+F[0];
if(s[y]!=null){O[A]=F[1]?hO.CE(s[y],F[1]):s[y];P[y]=!0}}for(var y in s){if(P[y]==null){console.log(M,P);
console.log(y,s);throw"e"}}}return O};hO.fS={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
hO.iQ={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,hO.fS],_StrokeColor:[54,hO.fS],_Blend:[55,{_0:[0],_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,hO.fS],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_91:[91],_92:[92],_TrackingAdjustment:[93],_94:[94],_95:[95],_96:[96]};
hO.aI7={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,hO.iQ],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40],_41:[41]};
hO.arO={_Name:[0],_Features:[5,hO.aI7],_Parent:[6],_UUID:[97]};hO.ave={_Name:[0],_Parent:[5],_Features:[6,hO.iQ],_UUID:[97]};
hO.WH={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_MMAxis:[4],_VersionString:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1],_2:[2]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,hO.ave]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,hO.arO]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1],_UUID:[97]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_RowCount:[12],_ColumnCount:[13],_15:[15],_16:[16]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_12:[12],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,hO.arO]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,hO.ave]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4],_5:[5]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,hO.iQ],_OriginalNormalParagraphFeatures:[3,hO.aI7],_4:[4],_5:[5]}]};
jt.view={};jt.view.aDk=function(s,M,O,P){var y={},F=iP.z0(s);y._0=[{_0:"i"+O}];return y};function CSS(){}CSS.ab_=function(s,M){var O=s.add,P=O.vmsk,y=O.vstk,F=O.lmfx,A=O.TySh,h=[],m=CSS.Lj(F,O),Z=s.N_/255*(s.add.iOpa!=null?s.add.iOpa/255:1);
if(Z!=1)h.push("opacity: "+Z.toFixed(3));if(s.tE()&&P){var u=a.z._E(P.u);if(!u.g3()){h.push("width: "+Math.round(u.A)+"px");
h.push("height: "+Math.round(u.$)+"px")}var f=a.z.aKq(P.u);if(f>0)h.push("border-radius: "+Math.round(f)+"px")}else if(A){var U=A.nA;
if(iP.z0(U)==1){var u=iP.SP(U);h.push("width: "+Math.round(u[2])+"px");h.push("height: "+Math.round(u[3])+"px")}CSS.a6m(h,iP.ty(U,0,0),A.M,!1,!1,m[0])}CSS.aF6(M,F,h);
if(A==null)CSS.aEi(m,h);if(y==null||!y.strokeEnabled.v)y=cb.aoH(F);if(y&&y.strokeEnabled.v){var C=y.strokeStyleContent.v,H=C.classID,t=y.strokeStyleOpacity.v.val/100,X=y.strokeStyleLineWidth.v.val,Q="";
if(H=="solidColorLayer")Q=CSS.wT(C.Clr.v,t);h.push("border: "+X+"px solid "+Q)}return h};CSS.aF6=function(s,M,O){if(M==null||!M.masterFXSwitch.v)return;
var P=M.dropShadowMulti.v.concat(M.innerShadowMulti.v);for(var R=0;R<P.length;R++){var y=P[R].v;if(y.enab.v){var F=y.classID=="IrSh",A=y.Dstn.v.val,h=y.lagl.v.val*Math.PI/180;
if(y.uglg&&y.uglg.v)h=s.Cz()*Math.PI/180;var m=A*Math.cos(h),Z=A*Math.sin(h),u=(m==0?"0 ":CSS.aHK(-m)+"px ")+(Z==0?"0 ":CSS.aHK(Z)+"px ")+y.blur.v.val/2+"px "+CSS.wT(y.Clr.v,y.Opct.v.val/100);
if(F)O.push("box-shadow: inset "+u);else O.push("filter: drop-shadow("+u+")")}}};CSS.Lj=function(s,M){var O=cb.a9M(s,M),P=O[0],y=O[1],F,A;
if(P){F=CSS.wT(P.Clr.v,M.iOpa!=null?M.iOpa/255:1)}else if(y){A=CSS.PV(y)}return[F,A]};CSS.aEi=function(s,M){if(s[0])M.push("background-color: "+s[0]);
if(s[1])M.push("background-image: "+s[1])};CSS.V$={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.aHK=function(hS){return""+parseFloat(hS.toFixed(3))};CSS.K7=function(s){if(s==null)return{o:0,R:0,X:0};
var M=s.indexOf("(");if(M!=-1){var O=s.slice(M+1,s.length-1).split(",");for(var R=0;R<O.length;R++){var P=O[R].trim();
O[R]=parseFloat(P)*(P.endsWith("%")?255/100:1)}if(s.startsWith("hsl")){var y=a.kr(O[0]/360,O[1]/255,O[2]/255);
y.o*=255;y.R*=255;y.X*=255;return y}return{o:O[0],R:O[1],X:O[2]}}if(s.charAt(0)!="#"){var F=CSS.V$;if(F[s])s=F[s];
else if(s=="currentColor")s="#000000";else console.log("unknown color "+s)}s=s.slice(1);if(s.length==4)s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]+s[3]+s[3];
if(s.length==3)s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2];var A=-1;if(s.length==8){A=parseInt(s.slice(6),16);s=s.slice(0,6)}s=parseInt(s,16);
var h={o:s>>16&255,R:s>>8&255,X:s&255};if(A!=-1)h.cd=A;return h};CSS.wT=function(s,M){return CSS.vh(a.wv.sl(s),M)};
CSS.vh=function(s,M){if(M==null)M=1;var O=Math.round(s.o),P=Math.round(s.R),y=Math.round(s.X),F=O<<16|P<<8|y;
return M==1?"#"+a.Rr(F):"rgba("+O+","+P+","+y+","+M+")"};CSS.anj=function(s,M){return CSS.vh({o:s[0]*255,R:s[1]*255,X:s[2]*255},M)};
CSS.PV=function(s){var M=s.Grad.v;if(M.Clrs==null)return"";var O=M.Clrs.v.slice(0),P=M.Trns.v.slice(0),y=s.Ofst.v,F=s.Type.v.GrdT=="Rdl"?1:0,A=(F==1?"radial":"linear")+"-gradient",h=F==0?Math.round(-s.Angl.v.val+90)+"deg":"circle at center",m=s.Rvrs.v,Z=a.wv.as3(M,m);
for(var R=0;R<Z.length;R++){var u=Z[R],f=u[1];h+=", "+CSS.vh({o:f[0]*255,R:f[1]*255,X:f[2]*255},u[2])+" "+Math.round(u[0]*100)+"%"}return A+"("+h+")"};
CSS.a6m=function(s,M,O,P,y,F){var A=M.TY,h=P?1:O.dI(),m=Math.round(A.FontSize*h);s.push("font-size: "+m+"px");
var Z=A.Tracking;if(!P&&Z!=null&&Z!=0)s.push("letter-spacing: "+Math.round(Z*m/1e3)+"px");if(!A.AutoLeading)s.push("line-height: "+Math.round(A.Leading*h)+"px");
if(A.Strikethrough)s.push("text-decoration: line-through");if(A.Underline)s.push("text-decoration: underline");
if(A.FontCaps==2)s.push("text-transform: uppercase");var u=iP.sl(A.FillColor);u=[u.o,u.R,u.X].map(Math.round);
s.push((P?"fill: ":"color: ")+(F?F:"#"+a.Rr(u[0]<<16|u[1]<<8|u[2])));var f=M.U2[A.Font].Name;if(f){var U=bS.oX.E3(f),C="",H=null,t=null;
if(U!=null&&f!=bS.UA(U))U=null;if(y&&U)C+="\""+f+"\", ";var X=f.toLowerCase();if(U){H=bS.aAu(U)[0];if(U["OS/2"])t=U["OS/2"].usWeightClass}else{H=CSS.a2O(f);
if(X.indexOf("light")!=-1)t=300;else if(X.indexOf("medium")!=-1)t=500;else if(X.indexOf("black")!=-1||X.indexOf("extrabold")!=-1)t=800;
else if(X.indexOf("bold")!=-1)t="bold"}if(H!=null)C+="\""+H+"\"";if(t!=null)s.push("font-weight: "+t);
if(X.indexOf("italic")!=-1||X.indexOf("oblique")!=-1)s.push("font-style: italic");if(C)s.push("font-family: "+C)}var Q=M.Gy.Justification;
if(Q!=null&&Q!=0)if(P){}else s.push("text-align: "+["left","right","center"][Q%3])};CSS.a2O=function(s){s=s.split("-")[0];
while(s.endsWith("MT")||s.endsWith("PS"))s=s.slice(0,s.length-2);var M=!0;for(var R=0;R<s.length;R++){var O=s.charAt(R);
if(!M&&O.toLowerCase()!=O){s=s.slice(0,R)+" "+s.slice(R);R++;M=!0}else M=!1}return s};function fC(){}fC.xy={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
fC.Da=function(s,M){var O=Date.now(),P=s.split("\n"),y;if(P.length==1)P=s.split("\r");for(var R=0;R<P.length;
R++)if(P[R].trim()[0]=="#"){P[R]=""}s=P.join("\n");try{y=acorn.parse(s)}catch(hj){console.log(hj);return}var F=a.G(fC.$u.NF);
F.__return=!1;F.__continue=!1;F.__break=!1;F.__throw=!1;F.__fs={};F.__window={};fC.eval(y,M,F);var A=F.__fs;
if(Object.keys(A).length!=0){var h=UZIP.encode(A);cD.save(h,"output.zip")}};fC.eval=function(s,M,O){var P=s.type;
if(!1){}else if(P=="Program"||P=="BlockStatement"){var y=s.body;for(var R=0;R<y.length;R++){var F=y[R].type;
if(F=="FunctionDeclaration")O[y[R].id.name]=y[R]}for(var R=0;R<y.length;R++){var F=y[R].type,A=fC.eval(y[R],M,O);
if(O.__continue&&O.__pif==null){O.__continue=!1;return A}if(O.__return||O.__break||O.__throw)return A}}else if(P=="ReturnStatement"){O.__return=!0;
return s.argument?fC.ad(s.argument,M,O):null}else if(P=="BreakStatement"){O.__break=!0}else if(P=="ContinueStatement"){O.__continue=!0}else if(P=="VariableDeclaration"){var h=s.declarations;
for(var R=0;R<h.length;R++)fC.eval(h[R],M,O)}else if(P=="VariableDeclarator"){O[s.id.name]=s.init?fC.ad(s.init,M,O):null}else if(P=="FunctionDeclaration"){O[s.id.name]=s}else if(P=="MemberExpression"){var m=fC.ad(s.object,M,O),A;
if(O.__throw)return;var Z=s.computed?fC.ad(s.property,M,O):fC.eval(s.property,M,O);if(m.P7!=null)A=fC.$u.pk(m,Z,M,O);
else if(m==window&&fC.xy[Z]){}else A=m[Z];return A}else if(P=="ArrayExpression"){var u=[],f=s.elements;
for(var R=0;R<f.length;R++)u.push(fC.ad(f[R],M,O));return u}else if(P=="ObjectExpression"){var u={},f=s.properties;
for(var R=0;R<f.length;R++){var U=f[R],C=f[R].key.name?f[R].key.name:f[R].key.value;u[C]=fC.ad(f[R].value,M,O)}return u}else if(P=="ExpressionStatement"){return fC.eval(s.expression,M,O)}else if(P=="NewExpression"){var H=s.arguments,t=s.callee,X=t.type,Q=t.name,D=[],u=null;
for(var R=0;R<H.length;R++)D.push(fC.ad(H[R],M,O));if(Q=="Array")u=new window[Q];else if(X=="Identifier")u=fC.$u.ad2(Q,D,M,O);
else throw"e";if(u==null)throw"new "+Q;return u}else if(P=="CallExpression"){var H=s.arguments,t=s.callee,X=t.type,L={};
for(var E in O)L[E]=O[E];var D=[];for(var R=0;R<H.length;R++)D.push(fC.ad(H[R],M,O));if(X=="Identifier"){var _=t.name,S=O[_];
if(S&&S.P7=="AppFunc"){_=S.TD;S=null}if(S){if(S.params){var W=S.params;for(var R=0;R<W.length;R++)L[W[R].name]=D[R];
return fC.eval(S.body,M,L)}else{return S.apply(null,D)}}else if(fC.$u.axF.indexOf(_)!=-1)return fC.$u.Jg({P7:"Application"},_,D,M,O);
else if(window[_]==null)console.log("Unknown function "+_);else if(fC.xy[_])alert(_+"() not available");
else{var g=window[_].apply(window,D);return g}}else if(X=="MemberExpression"){var m=fC.ad(t.object,M,O),Z=t.computed?fC.ad(t.property,M,O):fC.eval(t.property,M,O);
if(m==window&&fC.xy[Z])return;if(m.P7!=null)return fC.$u.Jg(m,Z,D,M,O);else if(Z=="sort"&&m[0]&&m[0].P7=="Layer"){return m.sort(function(r,k){return r.K.getName()>k.K.getName()?1:-1})}else if(Z=="toSource")return JSON.stringify(m);
else return m[Z].apply(m,D)}else if(X=="FunctionExpression"){var x=fC.eval(t.body,M,O);O.__return=!1;
return x}else console.log(s)}else if(P=="AssignmentExpression"){var V=s.operator,b=s.left,N=b.type,J=fC.ad(b,M,O),K=fC.ad(s.right,M,O),A=null;
if(!1){}else if(V=="=")A=K;else if(V=="+=")A=J+K;else if(V=="-=")A=J-K;else if(V=="*=")A=J*K;else if(V=="/=")A=J/K;
else if(V=="%=")A=J%K;else if(V=="&=")A=J&K;else if(V=="|=")A=J|K;else if(V=="&&=")A=J&&K;else if(V=="||=")A=J||K;
else console.log(s);if(N=="Identifier"){var q=b.name;if(O.hasOwnProperty(q))O[q]=A;else O.__window[q]=A}else if(N=="MemberExpression"){var d=fC.eval(b.property,M,O),l=fC.ad(b.object,M,O);
if(l.P7!=null)fC.$u.ana(l,d,A,M,O);else l[d]=A}else console.log(s);return A}else if(P=="Identifier")return s.name;
else if(P=="Literal")return s.value;else if(P=="UpdateExpression"){var V=s.operator,T=s.argument.name,u=fC.ad(s.argument,M,O),B=O;
if(B[T]==null)B=O.__window;if(!1){}else if(V=="++"){B[T]++;return s.prefix?B[T]:B[T]-1}else if(V=="--"){B[T]--;
return s.prefix?B[T]:B[T]+1}else console.log(s)}else if(P=="UnaryExpression"){var V=s.operator,p=fC.ad(s.argument,M,O);
if(p&&p.P7=="UnitValue"){if(V=="-")return-p.K;else return fC.a9I(p.K,V)}else return fC.a9I(p,V)}else if(P=="BinaryExpression"||P=="LogicalExpression"){var V=s.operator,b=fC.ad(s.left,M,O);
if(P=="LogicalExpression"&&V=="&&"&&!b)return b;var p=fC.ad(s.right,M,O);if(b==null||p==null)return fC.M2(b,p,V);
else if(b.P7=="UnitValue"&&p.P7=="UnitValue")return fC.M2(b.K,p.K,V);else if(b.P7=="UnitValue")return fC.M2(b.K,p,V);
else if(p.P7=="UnitValue"){if(V=="-")return-(b-p.K);else return fC.M2(b,p.K,V)}else return fC.M2(b,p,V)}else if(P=="IfStatement"){var I=fC.ad(s.test,M,O),w=O.__pif,A=null;
O.__pif=!0;if(I)A=fC.eval(s.consequent,M,O);else if(s.alternate)A=fC.eval(s.alternate,M,O);O.__pif=w;
return A}else if(P=="ConditionalExpression"){var I=fC.ad(s.test,M,O);if(I)return fC.ad(s.consequent,M,O);
else if(s.alternate)return fC.ad(s.alternate,M,O)}else if(P=="ForInStatement"){fC.eval(s.left,M,O);var e=s.left.declarations[0].id.name,G=fC.ad(s.right,M,O);
for(var E in G){O[e]=E;var j=fC.eval(s.body,M,O);if(O.__break)break;if(O.__return)return j}O.__break=!1}else if(P=="ForStatement"){fC.eval(s.init,M,O);
while(fC.eval(s.test,M,O)){var j=fC.eval(s.body,M,O);if(O.__break)break;if(O.__return)return j;fC.eval(s.update,M,O)}O.__break=!1}else if(P=="WhileStatement"){while(fC.eval(s.test,M,O)){var j=fC.eval(s.body,M,O);
if(O.__break)break;if(O.__return)return j}O.__break=!1}else if(P=="DoWhileStatement"){do{var j=fC.eval(s.body,M,O);
if(O.__break)break;if(O.__return)return j}while(fC.eval(s.test,M,O));O.__break=!1}else if(P=="TryStatement"){fC.eval(s.block,M,O);
if(O.__throw){var o=s.handler;O[o.param.name]=O.__throw;O.__throw=!1;fC.eval(o.body,M,O);delete O[o.param.name]}}else if(P=="FunctionExpression"){return s}else if(P=="EmptyStatement"){}else console.log(s)};
fC.M2=function(s,M,O){if(O=="+")return s+M;else if(O=="-")return s-M;else if(O=="*")return s*M;else if(O=="/")return s/M;
else if(O=="%")return s%M;else if(O=="^")return s^M;else if(O=="&")return s&M;else if(O=="&&")return s&&M;
else if(O=="|")return s|M;else if(O=="||")return s||M;else if(O=="<")return s<M;else if(O==">")return s>M;
else if(O=="=="){if(s!=null&&M!=null&&s.P7&&M.P7)return s.K==M.K;return s==M}else if(O=="===")return s===M;
else if(O=="<=")return s<=M;else if(O==">=")return s>=M;else if(O=="!=")return s!=M;else if(O=="!==")return s!==M;
else if(O=="<<")return s<<M;else if(O==">>")return s>>M;else console.log(O)};fC.a9I=function(s,M){if(M=="-")return-s;
else if(M=="!")return!s;else if(M=="~")return~s;else if(M=="+")return s;else if(M=="typeof")return typeof s;
else console.log(M,s)};fC.ad=function(s,M,O){var P=s.type;if(P=="Identifier")return fC.atp(s.name,M,O);
else return fC.eval(s,M,O)};fC.atp=function(s,M,O){if(s=="undefined")return undefined;else if(O.hasOwnProperty(s))return O[s];
else if(s=="app")return{P7:"Application"};else if(s=="Folder")return{P7:"Folder"};else if(s=="File")return{P7:"File"};
else if(s=="$")return{P7:"$"};else if(fC.$u.aa2.indexOf(s)!=-1)return fC.$u.pk({P7:"Application"},s,M,O);
else if(fC.$u.axF.indexOf(s)!=-1)return{P7:"AppFunc",TD:s};else if(O.__window.hasOwnProperty(s))return O.__window[s];
else if(window[s]&&!fC.xy[s])return window[s];else{O[s]=null;return null}};fC.$u={};fC.$u.ad2=function(s,M,O,P){var y;
if(s=="PathPointInfo")y={P7:s,kind:0,nr:[],Rb:[],XO:[]};if(s=="SubPathInfo")y={P7:s,Bc:0,tw:!1,K:[]};
if(s=="SolidColor")y={P7:s,K:[1,0,0,0]};if(s=="RGBColor")y={P7:s,K:[1,0,0,0]};if(s=="Window")y={P7:s,K:new ia(M[0],M[1],M[2])};
if(s=="ExportOptionsSaveForWeb")y={P7:s,K:{gL:"png",YI:100}};if(s=="PhotoshopSaveOptions")y={P7:s,K:{gL:"psd"}};
if(s=="PNGSaveOptions")y={P7:s,K:{gL:"png",YI:100}};if(s=="JPEGSaveOptions")y={P7:s,K:{gL:"jpg",YI:100}};
if(s=="PDFSaveOptions")y={P7:s,K:{gL:"pdf",a0p:""}};if(s=="File")y={P7:s,K:M[0]};if(s=="ActionReference")y={P7:s,K:{t:"obj ",v:[]}};
if(s=="ActionDescriptor")y={P7:s,K:{t:"Objc",v:{classID:"null"}}};if(s=="ActionList")y={P7:s,K:{t:"VlLs",v:[]}};
if(s=="UnitValue"){var F=0,A="px",h=M[0],m=M[1];if(h){F=parseFloat(h);if(typeof h=="string"&&h.indexOf(" ")!=-1)A=h.split(" ").pop()}y={P7:s,K:F,a1L:m?m:A}}return y};
fC.$u.aa2="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
fC.$u.axF="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue echoToOE".split(" ");
fC.$u.pk=function(s,M,O,P){var y=O.f,F=O.Mq();if(!1){}else if(M=="typename"){if(s.P7=="Layer")return s.K.ES()?"LayerSet":"ArtLayer";
else return s.P7}else if(["Document","Layer"].indexOf(s.P7)!=-1&&["layers","artLayers","layerSets"].indexOf(M)!=-1){var A=F;
if(s.P7=="Document")A=s.K;else A=s.DH;var h=A.root,m={P7:"Layers",amr:M,K:[],DH:A};if(s.P7=="Layer")h=A.root.vt(A.U.indexOf(s.K));
if(h.children==null)return null;for(var R=0;R<h.children.length;R++){var Z=h.children[R].w,u=Z.ES();
if(u&&M=="artLayers"||!u&&M=="layerSets")continue;m.K.push({P7:"Layer",K:Z,DH:A})}m.K.reverse();return m}else if(s.P7=="Documents"||s.P7=="Layers"||s.P7=="HistoryStates"||s.P7=="LayerComps"||s.P7=="PathItems"||s.P7=="SubPathItems"||s.P7=="PathPoints"){if(!1){}else if(M=="length")return s.K.length;
else if(Number.isInteger(M))return s.K[M];else console.log(s.P7+": unknown property ",M)}else if(s.P7=="Application"){if(!1){}else if(M=="activeDocument")return{P7:"Document",K:O.Mq()};
else if(M=="documents"){var m={P7:"Documents",K:[]};for(var R=0;R<O.r0.length;R++)m.K.push({P7:"Document",K:O.r0[R]});
return m}else if(M=="fonts")return{P7:"TextFonts"};else if(M=="preferences")return{P7:"Preferences"};
else if(M=="displayDialogs")return{P7:"DialogModes"};else if(M=="foregroundColor"||M=="backgroundColor"){var f=M[0]=="f"?y.UC:y.Cc;
return{P7:"SolidColor",K:[1,(f>>>16&255)/255,(f>>>8&255)/255,(f>>>0&255)/255]}}else if(M=="UI")return{P7:"UI"};
else if(M=="version")return 30;else console.log(s,M)}else if(s.P7=="Document"){var F=s.K;if(!1){}else if(M=="activeLayer"){var Z=F.U[F.Y[0]];
return{P7:"Layer",K:Z,DH:F}}else if(M=="pixelAspectRatio")return 1;else if(M=="resolution")return F.FR;
else if(M=="width")return F.A;else if(M=="height")return F.$;else if(M=="name")return F.name.split(".")[0];
else if(M=="saved")return!F.fX();else if(M=="selection")return{P7:"Selection"};else if(M=="activeHistoryState")return{P7:"HistoryState",Fa:F.oB};
else if(M=="source")return F.K9;else if(M=="layerComps"){var U=F.Ru.list.v,C=[];for(var R=0;R<U.length;
R++)C.push({P7:"LayerComp",K:R});return{P7:"LayerComps",K:C}}else if(M=="historyStates"){var H=[];for(var R=0;
R<F.history.length;R++)H.push({P7:"HistoryState",Fa:R});return{P7:"HistoryStates",K:H}}else if(M=="mode")return F.add.fcmy?1:7;
else if(M=="colorSamplers"){var m={P7:"ColorSamplers",amr:M,K:F.YX.slice(0),DH:F};return m}else if(M=="pathItems"){var t=[],F=s.K,X=F.Iv(),Q=X[0],D=X[1];
for(var R=0;R<Q.length;R++)t.push({P7:"PathItem",K:Q[R]});return{P7:"PathItems",K:t}}else console.log(s,M)}else if(s.P7=="PathItem"){if(M=="subPathItems"){var L=s.K,E=L.add.vmsk.u,t=[];
for(var R=0;R<a.z._i(E);R++){var _=a.z.AS(E,R),S=E[_],W=E.slice(_+1,_+1+S.length);t.push({P7:"SubPathItem",Bc:S.VF,tw:S.I==0,K:ad.Vp.X4(W)})}return{P7:"SubPathItems",K:t}}else alert(M)}else if(s.P7=="SubPathItem"||s.P7=="SubPathInfo"){if(M=="pathPoints"||M=="entireSubPath"){var t=[];
for(var R=0;R<s.K.length;R++){var g=s.K[R];t.push({P7:"PathPointInfo",kind:g.I==1||g.I==4?1:0,nr:[g.nr.x,g.nr.y],Rb:[g.Rb.x,g.Rb.y],XO:[g.XO.x,g.XO.y]})}return{P7:"PathPoints",K:t}}else if(M=="operation")return s.Bc;
else if(M=="closed")return s.tw;else throw M}else if(s.P7=="PathPointInfo"){if(M=="kind")return s.kind;
else if(M=="anchor")return s.nr;else if(M=="leftDirection")return s.Rb;else if(M=="rightDirection")return s.XO;
else throw M}else if(s.P7=="LayerComp"){if(M=="name")return F.Ru.list.v[s.K].v.Nm.v;else throw M}else if(s.P7=="ColorSamplers"){if(Number.isInteger(M))return{P7:"ColorSampler",K:s.K[M]};
else if(M=="length")return F.YX.length}else if(s.P7=="ColorSampler"){if(M=="color"){var f=$.jP.VP(F,F.i.D7(s.K.x,s.K.y),1,2);
return{P7:"SolidColor",K:[1,(f>>>16&255)/255,(f>>>8&255)/255,(f>>>0&255)/255]}}else if(M=="position")return[s.K.x,s.K.y]}else if(s.P7=="Layer"){var x={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},Z=s.K;
if(!1){}else if(M=="visible")return Z.CD();else if(M=="selected")return F.Y.indexOf(F.U.indexOf(Z))!=-1;
else if(M=="grouped")return Z.nN;else if(x[M]!=null)return Z.T2(x[M]);else if(M=="opacity")return Z.N_*100/255;
else if(M=="fillOpacity")return(Z.add.iOpa==null?255:Z.add.iOpa)*100/255;else if(M=="blendMode")return Z.mX;
else if(M=="name")return Z.getName();else if(M=="id")return Z.add.lyid;else if(M=="textItem")return{P7:"TextItem",K:Z};
else if(M=="bounds"){var V=$.TR.Gt(F,[F.U.indexOf(Z)]);return fC.$u.az3(V,F)}else if(M=="parent"){var b=O.r0,A;
for(var R=0;R<b.length;R++)if(b[R].U.indexOf(Z)!=-1)A=b[R];var N=A.root.vt(A.U.indexOf(Z)).parent;return N.depth==0?{P7:"Document",K:A}:{P7:"Layer",K:N.w,DH:A}}else if(M=="kind"){var J=fC.$u.ta;
for(var R=0;R<J.length;R++)if(Z.add[J[R]]!=null)return R;return 0}else if(M=="isBackgroundLayer")return Z.add.lnsr=="bgnd";
else if(M=="itemIndex")return F.U.indexOf(Z)+1;else if(M.startsWith("layerMask")||M.startsWith("filterMask")){var K=M.startsWith("layerMask")?Z.Bl():Z.UU(F).$E;
return M.endsWith("Density")?K.vR*100/255:K.CN}else console.log(s,M)}else if(s.P7=="Selection"){if(!1){}else if(M=="bounds"){if(F.h==null)P.__throw={message:"no selection"};
else return fC.$u.az3(F.h.S,F)}else console.log(s,M)}else if(s.P7=="TextItem"){var q=s.K.add.TySh,d=q.nA,l=iP.Rx(d),T=q.M.dI(),B=iP.ty(d,0,0);
if(M=="contents")return l.slice(0,l.length-1).replace(/\n/g,"\r");else if(M=="font")return B.TY.Font!=null?B.U2[B.TY.Font].Name:null;
else if(M=="size")return fC.$u.eK(B.TY.FontSize*T,F);else if(M=="leading")return fC.$u.eK(B.TY.Leading*T,F);
else if(M=="tracking")return fC.$u.eK(B.TY.Tracking);else if(M=="baselineShift")return fC.$u.eK(B.TY.BaselineShift);
else if(M=="kind")return 1-iP.z0(d);else if(fC.$u.ML[M])return B.TY[fC.$u.ML[M]];else if(M=="justification")return fC.$u.eK(B.Gy.Justification);
else if(M=="color")return{P7:"SolidColor",K:B.TY.FillColor.Values.slice(0)};else if(M=="width"||M=="height"){var p=iP.SP(d),I=(p[2]-p[0])*T,w=(p[3]-p[1])*T;
return fC.$u.eK(M=="width"?I:w,F)}else if(M=="position"){var K=q.M;return fC.$u.anp([K.cj,K.H3],F)}else if(M=="horizontalScale"||M=="verticalScale"){var e=M[0].toUpperCase()+M.slice(1);
return Math.round(B.TY[e]*100)}else if(M=="antiAliasMethod")iP.X5(q);else if(M=="totalTextStyle"){var m={};
for(var G=0;G<2;G++){var j=["Style","Paragraph"][G],o=d.EngineDict[j+"Run"].RunLengthArray,r=[],k=0;
for(var R=0;R<o.length;R++){var a7=iP.ty(d,k,Math.min(k+o[R],l.length-2));k+=o[R];r.push(G==0?a7.TY:a7.Gy);
m.fontSet=a7.U2}m[j]={runs:o,styles:r}}return JSON.stringify(m)}else if(M=="transform"){var K=q.M;return JSON.stringify([K.cd,K.X,K.xN,K.zv,K.cj,K.H3])}else console.log(s,M)}else if(s.P7=="Preferences"){if(M=="rulerUnits")return y.QZ.DQ;
else console.log(s,M)}else if(s.P7=="SolidColor"){if(M=="rgb")return{P7:"RGBColor",K:s.K};if(M=="cmyk")return{P7:"CMYKColor",K:a.y5(s.K.slice(1))};
else console.log(s,M)}else if(s.P7=="RGBColor"){var V=Math.round(255*s.K[1]),Y=Math.round(255*s.K[2]),v=Math.round(255*s.K[3]);
if(!1){}else if(M=="red")return V;else if(M=="green")return Y;else if(M=="blue")return v;else if(M=="hexValue")return a.Rr(V<<16|Y<<8|v).toUpperCase();
else console.log(s,M)}else if(s.P7=="CMYKColor"){var n=[];for(var R=0;R<4;R++)n.push(Math.round(s.K[R]*100));
var cm=["cyan","magenta","yellow","black"].indexOf(M);if(cm!=-1)return n[cm];else console.log(s,M)}else if(s.P7=="UnitValue"){if(M=="value")return s.K;
else throw"e"}else if(s.P7=="ExportOptionsSaveForWeb"){if(M=="format")return s.K.gL;else if(M=="PNG8"||M=="interlaced")return!1;
else if(M=="quality")return s.K.YI;else if(M=="transparency")return!0;else throw M}else if(s.P7=="PNGSaveOptions"||s.P7=="JPEGSaveOptions"||s.P7=="PDFSaveOptions"){return 0}else if(s.P7=="$"){if(M=="localize")return!1;
else if(M=="os")return"Windows";else throw M}else if(s.P7=="ActionList"){if(M=="count")return s.K.v.length;
else throw M}else console.log(s,M)};fC.$u.az3=function(s,M){return fC.$u.anp([s.x,s.y,s.x+s.A,s.y+s.$],M)};
fC.$u.anp=function(s,M){var O=[];for(var R=0;R<s.length;R++)O.push(fC.$u.eK(s[R],M));return O};fC.$u.Tn=function(s){var M=[];
for(var R=0;R<s.length;R++)M.push(s[R].P7?s[R].K:s[R]);return M};fC.$u.eK=function(s,M){return{P7:"UnitValue",K:s,a1L:"px"}};
fC.$u.k7=function(s,M){if(s.P7=="UnitValue")return a.f8.Yn(s.K,M.FR,M.A,a.f8.tR.indexOf(s.a1L));return s};
fC.$u.ML={fauxBold:"FauxBold",fauxItalic:"FauxItalic",useAutoLeading:"AutoLeading",hyphenation:"AutoHyphenate",ligatures:"_Ligatures"};
fC.$u.ana=function(s,M,O,P,y){var F=new kg(z.E.H,!0),A=new kg(z.E.c,!0),h=P.Mq(),m=P.f;if(!1){}else if(s.P7=="Application"){if(!1){}else if(M=="activeDocument"){A.data={Q:z.J.ma,ZK:O.K};
P.a(A)}else if(M=="displayDialogs"){}else if(M=="foregroundColor"||M=="backgroundColor"){var Z=O.K,u=Z[1]*255<<16|Z[2]*255<<8|Z[3]*255<<0;
A.data={Q:z.J.ko,dh:g5._2,tW:M=="foregroundColor"?0:1,K:u};P.a(A)}else console.log(s,M,O)}else if(s.P7=="Document"){var f=s.K;
if(!1){}else if(M=="name"){F.l=$.mu;F.data={Q:ad.QE,K:O,ars:!0,ro:f};h.DI=!0}else if(M=="source")f.K9=O;
else if(M=="activeLayer"){f.Y=[f.U.indexOf(O.K)]}else if(M=="activeHistoryState"){F.l=$.FZ;F.data={Q:"h_itemchange",index:O.Fa}}else console.log(s,M)}else if(s.P7=="Layer"){F.l=$.mu;
var U={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},C=s.K,H=h.U.indexOf(C);
if(!1){}else if(M=="visible"){if(C.CD()!=O)F.data={Q:ad.uY,w:H}}else if(M=="opacity"){F.data={Q:ad.V0,w:H,IQ:Math.round(255*O/100)}}else if(M=="fillOpacity"){F.data={Q:ad.OB,w:H,IQ:Math.round(255*O/100)}}else if(M=="blendMode"){F.data={Q:ad.Jd,w:H,IQ:h0.n$.indexOf(O)}}else if(M=="name"){F.data={Q:ad.gQ,w:H,name:O}}else if(U[M]!=null){F.data={Q:ad.Hl,w:H,IQ:[[O],[U[M]]]}}else if(M=="kind"){F.data={Q:ad.k6,w:H,Go:fC.$u.ta[O]}}else if(M=="grouped"){F.data={Q:ad.eb,w:H,IQ:O}}else if(M.startsWith("layerMask")||M.startsWith("filterMask")){var t=C.Zm(M.startsWith("layerMask")?0:2);
if(M.endsWith("Density"))t.zK=Math.round(O*255/100);else t.MI=O;F.data={Q:ad.JS,Yj:H,jY:t}}else console.log(s,M,O)}else if(s.P7=="TextItem"){F.l=$.El;
var C=s.K,X=C.add.TySh,Q=a.G(X.nA),D=X.M.v(),L=X.M.dI(),E=iP.Rx(Q),_=iP.ty(Q,0,E.length-2),S=!1;if(!1){}else if(M=="contents"){iP.Cl(Q,0,E.length-1);
iP.Xq(Q,0,(O+"").replace(/\r/g,"\n"))}else if(M=="size"){_.TY.FontSize=(O.K!=null?O.K:O)/L;S=!0}else if(M=="leading"){_.TY.Leading=(O.K!=null?O.K:O)/L;
S=!0}else if(M=="tracking"){_.TY.Tracking=O.K!=null?O.K:O;S=!0}else if(M=="baselineShift"){_.TY.BaselineShift=O.K!=null?O.K:O;
S=!0}else if(M=="kind"){var W=iP.z0(Q);if(W==1&&O==1){var g=new aa(Q,P.f.s4,X.x9).Gy[0],x=g.PO[0].end,V=g.JX[x-1].end;
iP.Cl(Q,0,E.length-1);iP.Xq(Q,0,E.slice(0,V-1))}if(W==O)iP.hV(Q,1-O)}else if(fC.$u.ML[M]){_.TY[fC.$u.ML[M]]=O;
S=!0}else if(M=="justification"){_.Gy.Justification=O;S=!0}else if(M=="font"){iP.Z2(_,O);S=!0}else if(M=="color"){_.TY.FillColor.Values=O.K.slice(0);
S=!0}else if(M=="width"||M=="height"){var b=iP.SP(Q).slice(0),N=fC.$u.k7(O,h);if(M=="width")b[2]=Math.round(b[0]+N/L);
else b[3]=Math.round(b[1]+N/L);iP.w9(Q,b)}else if(M=="position"){D.cj=O[0];D.H3=O[1]}else if(M=="horizontalScale"||M=="verticalScale"){var J=M[0].toUpperCase()+M.slice(1);
_.TY[J]=O/100;S=!0}else if(M=="antiAliasMethod")iP.ZP(X,O);else console.log(s,M,O);if(S)iP.UP(Q,0,E.length-1,_);
F.data={Q:"newED",FB:h.U.indexOf(C),afn:Q,M:D}}else if(s.P7=="Preferences"){if(!1){}else if(M=="rulerUnits"){var K=a.G(m.QZ);
K.DQ=O;A.data={Q:z.J.ko,dh:g5.Aw,IQ:K};P.a(A)}else console.log(s,M,O)}else if(s.P7=="SolidColor"){if(M=="rgb")s.K=O.K;
else throw M}else if(s.P7=="RGBColor"){if(!1){}else if(M=="red")s.K[1]=O/255;else if(M=="green")s.K[2]=O/255;
else if(M=="blue")s.K[3]=O/255;else if(M=="hexValue"){var q=a.a7D(O.slice(O.charAt(0)=="#"?1:0));s.K[1]=(q>>>16&255)/255;
s.K[2]=(q>>>8&255)/255;s.K[3]=(q>>>0&255)/255}else console.log(s,M)}else if(s.P7=="ExportOptionsSaveForWeb"){if(M=="format")s.K.gL=O;
else if(M=="PNG8"||M=="transparency"||M=="interlaced"){}else if(M=="quality")s.K.YI=O;else throw M}else if(s.P7=="PNGSaveOptions"||s.P7=="JPEGSaveOptions"){if(M=="quality")s.K.YI=Math.round(100*O/12)}else if(s.P7=="PDFSaveOptions"){if(M=="preset")s.K.a0p=O}else if(s.P7=="PathPointInfo"){if(M=="kind")s.kind=O;
else if(M=="anchor")s.nr=O;else if(M=="leftDirection")s.Rb=O;else if(M=="rightDirection")s.XO=O;else throw M}else if(s.P7=="SubPathInfo"){if(M=="operation")s.Bc=O;
else if(M=="closed")s.tw=O;else if(M=="entireSubPath"){s.K=[];for(var R=0;R<O.length;R++){var d=O[R];
s.K.push({I:d.kind==1?1:2,Rb:new j6(d.Rb[0],d.Rb[1]),nr:new j6(d.nr[0],d.nr[1]),XO:new j6(d.XO[0],d.XO[1])})}}else throw M}else if(s.P7=="$"){if(M=="localize"){}}else console.log(s,M,O);
if(F.data!=null)P.a(F)};fC.$u.akE=function(s,M,O){if(M==null)return;var P=M.nA.EngineDict.StyleRun.RunArray,y=M.nA.ResourceDict.FontSet,F=[];
for(var R=0;R<P.length;R++){var A=P[R].StyleSheet.StyleSheetData,h=y[A.Font].Name,m=O.f.s4.E3(h);if(m&&m.name.postScriptName!=h)m=null;
F.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:m!=null},fontPostScriptName:{t:"TEXT",v:h}}}}})}s.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:F},textKey:{t:"TEXT",v:iP.Rx(M.nA)}}}};
fC.$u.Jg=function(s,M,O,P,y){var F=s.P7,A=null,h=new kg(z.E.H,!0),m=new kg(z.E.fa,!0),Z=new kg(z.E.c,!0),u=P.Mq(),f=P.r0;
if(!1){}else if(F=="Application"){if(!1){}else if(M=="charIDToTypeID"){var U=O[0].trim(),C={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return C[U]?C[U]:U}else if(M=="stringIDToTypeID"){var H=O[0].trim(),C={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",actionSet:"ASet",type:"Type",using:"Usng",targetEnum:"Trgt",to:"T",ordinal:"Ordn",property:"Prpr",numberOfChildren:"NmbC",userMaskEnabled:"UsrM",textStyle:"TxtS"},t=C[H];
return t==null?H:t}else if(M=="typeIDToStringID"){return O[0].trim()}else if(M=="executeAction"){var X;
if(O[1]){X=O[1].K.v;X.classID=O[0]}var Q={setd:"set"},D=Q[O[0]];if(D==null)D=O[0];var L=ak.gf[O[0]];
if(L&&ak.XJ[L])D=ak.XJ[L];m.data={Cw:D,kT:X}}else if(M=="executeActionGet"){var E=O[0].K.v,A={};if(E.length==1){var _=A.classID=E[0].v.classID;
if(_=="Lyr"){var S=f7.Mf(u,E[0]),W=u.U[S],g=W.add.SoLd,x=W.add.SoCo,V=W.add.TySh,b=W.Bl();if(g)A.smartObjectMore={t:"Objc",v:{transform:g.nonAffineTransform}};
if(x)A.adjustment={t:"VlLs",v:[{t:"Objc",v:a.G(x)}]};if(V)fC.$u.akE(A,V,P);if(b)A.UsrM={t:"Objc",v:{}}}else if(_=="ASet"){var N=P.f.Cn;
A.NmbC={t:"long",v:N[0].SB.length}}return{P7:"ActionDescriptor",K:{t:"null",v:A}}}if(E.length==2){var _=A.classID=E[1].v.classID,H=E[0].v.keyID;
if(_=="Dcmn"){var J=u;if(H=="numberOfLayers")A[H]={t:"long",v:J.U.length};else throw H}else if(_=="Lyr"){var S=f7.Mf(u,E[1]),W=u.U[S],V=W.add.TySh;
if(H=="textKey")fC.$u.akE(A,V,P);else throw H}else if(_=="ASet"){var N=P.f.Cn,K=A.classID=E[0].v.classID;
if(K=="Actn"){A.NmbC={t:"long",v:f7.e0(N,E[0].v.val,E[1].v.val).SB.length}}else throw K}else throw _;
return{P7:"ActionDescriptor",K:{t:"null",v:A}}}}else if(M=="doAction"){Z.data={Q:z.J.bG,ZN:[O[0],O[1]]}}else if(M=="bringToFront"){}else if(M=="open"){Z.data={Q:z.J.Xi,dh:{url:O[0]}};
if(O[2]&&f.length!=0)Z.data.dh.hR=f.indexOf(u)}else if(M=="echoToOE"){Z.data={Q:z.J.iV,dh:O[0]}}else if(M=="showWindow"){Z.data={Q:z.J.xL,Rj:O[0]}}else if(M=="UnitValue"){return O[0]+" "+O[1]}else console.log(M)}else if(F=="LayerComp"){if(M=="apply"){h.l=$.Qx;
h.data={Q:"setLC",Fa:u.Ru.list.v[s.K].v.compID.v}}else throw M}else if(F=="Document"){var u=s.K;if(!1){}else if(M=="changeMode"){h.l=$.ht;
h.data={Q:"fcmy",K:O[0]==1?1:0}}else if(M=="crop"){var q=O[0];m.data=$._P.ajC([q[0],q[1],q[2]-q[0],q[3]-q[1]])}else if(M=="trim"){var l=[];
for(var R=0;R<4;R++)l.push(O[R+1]!=null?O[R+1]:!0);m.data=$._P.lf(O[0]!=null?O[0]:0,l)}else if(M=="suspendHistory"){var T=acorn.parse(O[1]);
fC.eval(T,P,y)}else if(M=="save"){Z.data={Q:z.J.MF}}else if(M=="saveToOE"){Z.data={Q:z.J.MF,aFO:O}}else if(M=="rotateCanvas"||M=="flipCanvas"){var B=M=="rotateCanvas";
m.data=$.TR.v$(B,B?O[0]:["Hrzn","Vrtc"][O[0]])}else if(M=="resizeImage"||M=="resizeCanvas"){var p=O[0],I=O[1];
if(p!=null){var w={A:u.A,FR:u.FR};if(O[2])w.FR=O[2];p=fC.$u.k7(p,w),I=fC.$u.k7(I,w);p=Math.round(p);
I=Math.round(I)}if(M=="resizeCanvas")m.data=$._P.aB1(p,I,O[2]);else m.data=$._P.z9(p,I,O[2],p!=null?1:null)}else if(M=="paste"){Z.data={Q:z.J.v6,apY:O.length!=0&&O[0],FM:!0};
P.a(Z);Z.data=null;return{P7:"Layer",K:u.U[u.Y[0]],DH:u}}else if(M=="close"){Z.data={Q:z.J.RZ,yF:u}}else if(M=="exportDocument"||M=="saveAs"){var e=y.__fs,G=M=="exportDocument"?O[2].K:O[1].K,j=O[0].K.replace(":","").replace("~/","");
if(!j.toLowerCase().endsWith("."+G.gL))j+="."+G.gL;var o=b_.Yg(u,G.gL,null,null,G.gL=="pdf"?null:{qual:G.YI},P.f);
e[j]=new Uint8Array(o)}else if(M=="flatten"){m.data={Cw:"flattenImage"}}else if(M=="clearHistory"){h.l=$.FZ;
h.data={Q:"h_clear",force:!0}}else console.log(s,M,O)}else if(F=="Layer"){var r=s.K,S=u.U.indexOf(r);
if(!1){}else if(M=="copy"){fC.$u.qR(u,P,0);Z.data={Q:z.J.WP,nj:O[0],p2:S,FM:!0};P.a(Z);delete Z.data;
fC.$u.qR(u,P,1)}else if(M=="clear"){fC.$u.qR(u,P,0);m.data={Cw:"delete"};P.a(m);delete m.data;fC.$u.qR(u,P,1)}else if(M=="autoLevels"||M=="autoContrast"){if(M=="autoContrast")m.data={Cw:"levels",kT:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else m.data={Cw:"levels",kT:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(M=="duplicate"){if(O.length==0){var k=u.Y.slice(0);
h.data={Q:ad.i_,w:S};h.l=$.mu;P.a(h);h.data=null;A={P7:"Layer",K:u.U[u.Y[0]],DH:s.DH};u.Y=k}else if(O[0].P7=="Document"){h.data={Q:ad.xU,U:u.oc(S),xZ:u,f6:O[0].K};
h.l=$.mu}if(h.data){P.a(h);h.data=null;return{P7:"Layer",K:u.U[u.Y[0]],DH:u}}}else if(M=="merge"||M=="remove"){h.data={Q:M=="merge"?ad.aC:ad.Yb,w:S};
h.l=$.mu;var a7=u.U.length-S;P.a(h);h.data=null;if(M!="remove")A={P7:"Layer",K:u.U[u.U.length-a7],DH:s.DH}}else if(M=="move"){var Y=u.U.indexOf(O[0].K);
if(Y==S+1&&O[1]==4)return;if(Y==S-1&&O[1]==3)return;h.data={Q:ad.Bp,source:S,target:Y,yv:O[1]!=3?.6:.3};
h.l=$.mu}else if(M=="rasterize"){h.l=$.mu;h.data={Q:ad.K2,w:S};P.a(h);h.data=null;s.K=u.U[S]}else if(M=="rotate"){h.data={Q:"rot",SD:[2,5],K:-O[0]*Math.PI/180,xC:O[1],w:S};
h.l=$.wO}else if(M=="resize"){h.data={Q:"scl",SD:[2,4],K:new j6(O[0]/100,O[1]/100),xC:O[2],w:S};h.l=$.wO}else if(M=="translate"){var v=fC.$u.Tn(O);
h.data={Q:"trsl",w:S,vM:v[0],bM:v[1]};h.l=$.ht}else if(M=="link"){h.data={Q:ad.OG,awp:[S,u.U.indexOf(O[0].K)]};
h.l=$.mu}else if(M=="invert"){h.l=$.sA;h.data={Q:"start",Qy:"nvrt"}}else if(M=="desaturate"){m.data={Cw:"desaturate"}}else if(M.startsWith("apply")&&bW.fs[M.slice(5)]||M.startsWith("adjust")&&bW.fs[M.slice(6)]||M=="mixChannels"){var n=M.startsWith("apply"),v=fC.$u.Tn(O),cm=M=="mixChannels"?"mixr":bW.fs[M.slice(n?5:6)];
if(cm=="Dspl"){for(var R=0;R<u.U.length;R++)if(u.U[R].getName()==v[4]){v[4]=u.U[R].add.SoLd.Idnt.v;break}}m.data={Cw:n?bW.XJ[cm]:ak.XJ[cm]};
var X=bW.Jb(cm),k=u.Y;u.Y=[S];if(X){if(cm=="mixr"){var a5=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
for(var R=0;R<3;R++){var gP=v[0][R],cg=R*5;a5[cg+0]=gP[0];a5[cg+1]=gP[1];a5[cg+2]=gP[2];a5[cg+4]=gP[3]}X=ak.HQ({K:a5,PD:v[1]})}else bW.Pj["g"+cm](X,v);
m.data.kT=X}P.a(m);m.data=null;u.Y=k}else if(M=="applyStyle"){var a9=P.f.ZB,ew=null;for(var R=0;R<a9.length;
R++)if(a9[R].wA.Nm.v.split("/").pop()==O[0])ew=a9[R];if(ew==null){alert("Style not found!");return}h.l=$.qz;
h.data={Q:"setstl",K:ew.bN,w:S};P.a(h);h.data={Q:"confirm",w:S}}else console.log(s,M,O)}else if(F=="Documents"){if(M=="getByName"){for(var R=0;
R<f.length;R++)if(f[R].name==O[0]||f[R].name.split(".")[0]==O[0])return{P7:"Document",K:f[R]};return null}else if(M=="add"){if(O.length==0)O=[100,100,72,"New Project"];
var h7=O[5];if(h7==null)h7=1;m.data=fr.gs(O[0],O[1],O[2],O[3],["Wht","Trns","BckC"][h7],!1);P.a(m);m.data=null;
return{P7:"Document",K:P.Mq()}}else throw"e"}else if(F=="Layers"){if(M=="getByName"){for(var R=0;R<s.K.length;
R++)if(s.K[R].K.getName()==O[0]){A=s.K[R];break}if(A==null)y.__throw={message:"No layer with a name "+O[0]}}else if(M=="add"){h.data={Q:s.amr=="layerSets"?ad.bR:ad.Wo};
h.l=$.mu;P.a(h);h.data=null;A={P7:"Layer",K:u.U[u.Y[0]],DH:s.DH}}else console.log(s,M,O)}else if(s.P7=="Selection"){if(M=="select"){var bh=O[0],ba=[];
for(var R=0;R<bh.length;R++)ba.push(bh[R][0],bh[R][1]);m.data=$.vm.LK(fC.$u.Tn(ba),O[1])}else if(M=="clear"){m.data={Cw:"delete"}}else if(M=="selectAll"){m.data=$.vm.l4(!0)}else if(M=="invert"){m.data={Cw:"inverse"}}else if(M=="copy"){Z.data={Q:z.J.WP,nj:O[0],FM:!0}}else if(M=="deselect"){m.data=$.vm.l4()}else if(M=="fill"){var jx=O[0].K;
jx=a.wv.gN({o:jx[1]*255,R:jx[2]*255,X:jx[3]*255});m.data=$.am.Gk("Clr",O[1],O[2]==null?1:O[2]/100,jx)}else if(M=="grow"||M=="similar"){var X={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(O[0]!=null)X.Tlrn={t:"long",v:O[0]};m.data={Cw:M,kT:X}}else if(M=="expand"||M=="contract"||M=="feather"){m.data=$.vm.vp(M,O[0],!0)}else if(M=="translate"){var X={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:O[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:O[1]}}}}};
m.data={Cw:"move",kT:X}}else if(M=="smooth"){m.data=$.vm.vp("smoothness",O[0],!1)}else if(M=="stroke"){var ew=JSON.parse(aV.d$[1]),c4=ew.Clr.v,jx=O[0].K;
c4.Rd.v=jx[1]*255;c4.Grn.v=jx[2]*255;c4.Bl.v=jx[3]*255;ew.Sz.v.val=O[1];ew.Styl.v.FStl=aV.stroke.types[O[2]];
console.log(ew,O);h.l=$.W7;h.data={Q:"stroke",aiZ:ew}}else console.log(s,M,O)}else if(s.P7=="Window"){if(M=="show"){Z.data={Q:z.J.xL,Rj:s.K}}else throw"e"}else if(s.P7=="ActionReference"){if(M=="putProperty"){s.K.v.push({t:"prop",v:{classID:O[0],keyID:O[1]}})}else if(M=="putClass"){s.K.v.push({t:"Clss",v:{classID:O[0]}})}else if(M=="putEnumerated"){s.K.v.push({t:"Enmr",v:{classID:O[0],typeID:O[1],enum:O[2]}})}else if(M=="putName"){s.K.v.push({t:"name",v:{classID:O[0],val:O[1]}})}else if(M=="putIndex"){s.K.v.push({t:"indx",v:{classID:O[0],val:O[1]}})}else console.log(M,O)}else if(s.P7=="ActionDescriptor"||s.P7=="ActionList"){var bq=s.P7=="ActionList";
if(M.startsWith("put")){var di=bq?O:O.slice(1),t=null;if(M=="putReference"){t=di[0].K}else if(M=="putObject"){t=di[1].K;
t.v.classID=di[0]}else if(M=="putList"){t=di[0].K}else if(M=="putDouble"){t={t:"doub",v:di[0]}}else if(M=="putUnitDouble"){t={t:"UntF",v:{type:di[0],val:di[1]}}}else if(M=="putBoolean"){t={t:"bool",v:di[0]}}else if(M=="putInteger"){t={t:"long",v:di[0]}}else if(M=="putString"){t={t:"TEXT",v:di[0]}}else if(M=="putClass"){t={t:"type",v:{classID:di[0]}}}else if(M=="putEnumerated"){var il=O[0].split("+");
if(il.length==2&&O[1]==null){O[0]=il[0];O[1]=di[0]=il[1]}var cg={};cg[di[0]]=di[1];t={t:"enum",v:cg}}else throw M;
if(bq)s.K.v.push(t);else s.K.v[O[0]]=t}else if(M=="hasKey"){return s.K.v[O[0]]!=null}else if(M=="getEnumerationValue"){if(O[0]=="layerSection")A="layerSectionContent";
else console.log(O)}else if(M=="getBoolean"){A=s.K.v[O[0]].v}else if(M=="getString"){A=s.K.v[O[0]].v}else if(M=="getObjectValue"){var A=s.K.v[O[0]];
return{P7:"ActionDescriptor",K:a.G(A)}}else if(M=="getList"){var A=s.K.v[O[0]];return{P7:"ActionList",K:A}}else if(M=="getInteger"||M=="getDouble"){return s.K.v[O[0]].v}else console.log(M,O)}else if(s.P7=="$"){if(M=="writeln"){console.log(O[0])}else throw M}else if(s.P7=="UI"){if(M=="scroll"||M=="scrollTo"){var j0=O[0],j1=O[1],b5=u.i.xq;
if(M=="scrollTo"){j0=(-u.A/2+j0)*b5+u.i.p.x;j1=(-u.$/2+j1)*b5+u.i.p.y}h.l=$.dU;h.data={Q:"scroll",EW:new j6(Math.round(j0),Math.round(j1))}}else{var b4;
if(M=="zoomIn"||M=="zoomOut"){b4={Q:"zoom",rv:M=="zoomIn"}}else if(M=="fitTheArea"){b4={Q:"adapt",K:"fitscr"}}else if(M=="pixelToPixel"){b4={Q:"adapt",K:"pixel"}}h.l=$.zY;
h.data=b4;if(M=="switchFullscreen"){var lm=P.f.s7,ix=document.fullscreenElement!=null==(lm==2);Z.data={Q:z.J.b9,K:lm==0?2:0,eM:ix}}}}else if(s.P7=="ColorSamplers"){if(M=="removeAll")u.YX=[];
else if(M=="add"){var jy={x:O[0][0],y:O[0][1]};u.YX.push(jy);var A={P7:"ColorSampler",K:jy}}}else if(s.P7=="ColorSampler"){if(M=="move"){var bz=u.YX.indexOf(s.K);
jy=u.YX[bz];jy.x=O[0][0];jy.y=O[0][1]}else if(M=="remove"){var bz=u.YX.indexOf(s.K);u.YX.splice(bz,1)}}else if(s.P7=="PathItem"){if(M=="select"){u.J_=[u.J4.indexOf(s.K)];
u.DI=!0}else if(M=="remove"){h.l=$.WU;h.data={Q:"pathedit",tW:"del"}}else console.log(M)}else if(s.P7=="PathItems"){if(M=="add"){var c5=O[1],k0=fr.ce(O[0]),q=k0.add.vmsk.u;
for(var R=0;R<c5.length;R++){var cd=c5[R],fz=cd.K.length;q.push({I:cd.tw?0:3,length:fz,VF:cd.Bc});for(var fu=0;
fu<fz;fu++){if(!cd.tw)cd.K[fu].I+=3;q.push(cd.K[fu])}}h.l=$.WU;h.data={Q:"pathedit",tW:"new",fp:k0};
P.a(h);return{P7:"PathItem",K:k0}}else throw M}else if(s.P7=="Folder"){if(M=="selectDialog")A="img";
else throw M}else if(s.P7=="File"){if(M=="openDialog")alert("A website can not show the Open dialog from a script");
else throw M}else console.log(s,M,O);if(h.data)P.a(h);if(m.data)P.a(m);if(Z.data)P.a(Z);return A};fC.$u.qR=function(s,M,O){var P=new kg(z.E.H,!0);
P.l=$.Sp;var y=new kg(z.E.fa,!0);if(O==0){fC.$u.ai$=s.h;y.data=$.vm.l4(!0)}else{var F=fC.$u.ai$;if(F)P.data={Q:"setsel",SD:"Restore Selection",h:{S:F.S.v(),N:F.N.slice(0)}};
else y.data=$.vm.l4()}M.a(P.data?P:y)};fC.$u.ai$=null;fC.$u.NF={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5,BRIGHTNESSCONTRAST:6,LEVELS:7,CURVES:8,EXPOSURE:9,VIBRANCE:10,HUESATURATION:11,COLORBALANCE:12,BLACKANDWHITE:13,PHOTOFILTER:14,CHANNELMIXER:15,LAYER3D:16,INVERSION:17,POSTERIZE:18,THRESHOLD:19,GRADIENTMAP:20,SELECTIVECOLOR:21},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},ChangeMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3},Direction:{HORIZONTAL:0,VERTICAL:1}};
fC.$u.NF.ColorBlendMode=fC.$u.NF.BlendMode;fC.$u.ta="---- SoLd TySh SoCo GdFl PtFl brit levl curv expA vibA hue2 blnc blwh phfl mixr clrL nvrt post thrs grdm selc".split(" ");
function jW(){}jW.SY={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null],"xmp:Label":["",null],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:UserComment":["",37510],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
jW.fn={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
jW.awg=function(s,M){if(M==null)M={};var O=jW.fn,P=[],y=[],F="";for(var R=0;R<s.length;R++){var A=s[R],h=O[A[0]+""];
if(h&&(M[h]==null||M[h]==""))M[h]=A[1];else if(A[0]==12)y.push(A[1]);else if(A[0]==25)P.push(A[1]);else if(A[0]==55)F=A[1];
else if(A[0]==60)F+=";"+A[1]}if(F!=""&&M["exif:DateTimeOriginal"]==null)M["exif:DateTimeOriginal"]=F;
if(y.length!=0&&M["Iptc4xmpCore:SubjectCode"]==null)M["Iptc4xmpCore:SubjectCode"]=y.join(";");if(P.length!=0&&M["dc:Keywords"]==null)M["dc:Keywords"]=P.join(";");
return M};jW.az0=function(s){var M=jW.fn,O=[];for(var P in M)if(s[M[P]])O.push([parseInt(P),s[M[P]]]);
if(s["Iptc4xmpCore:SubjectCode"]){var y=s["Iptc4xmpCore:SubjectCode"].split(";");for(var R=0;R<y.length;
R++)O.push([12,y[R].trim()])}if(s["dc:Keywords"]){var y=s["dc:Keywords"].split(";");for(var R=0;R<y.length;
R++)O.push([25,y[R].trim()])}O.sort(function(F,A){return F[0]-A[0]});return O};jW.P5=function(s,M){if(M==null)M={};
var O=new DOMParser,P=O.parseFromString(s,"image/svg+xml"),y=P.getElementsByTagName("rdf:Description")[0];
if(y==null)return M;var F=jW.SY;for(var A in F){var h=[];if(F[A][2]){var m=F[A][2],Z=y.getElementsByTagName(m)[0];
if(Z==null)continue;var u=Z.getElementsByTagName("rdf:li");for(var R=0;R<u.length;R++)h.push(u[R].textContent)}else if(y.getAttribute(A))h.push(y.getAttribute(A));
else continue;M[A]=h.join("; ")}return M};jW.zw=function(s){var M=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:photoshop=\"http://ns.adobe.com/photoshop/1.0/\" xmlns:tiff=\"http://ns.adobe.com/tiff/1.0/\" xmlns:exif=\"http://ns.adobe.com/exif/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],O=jW.SY,P="";
for(var y in O){var F=s[y],A=O[y][2];if(F==null)continue;if(A){var h="Seq",m="";if(A=="dc:title"||A=="dc:description"){h="Alt";
m=" xml:lang=\"x-default\""}if(A=="dc:subject")h="Bag";M.push("\t<"+A+"><rdf:"+h+">");var Z=A=="dc:subject"?F.split(";").join(",").split(","):[F];
for(var R=0;R<Z.length;R++)M.push("\t\t<rdf:li"+m+">"+Z[R].trim()+"</rdf:li>");M.push("\t</rdf:"+h+"></"+A+">")}else P+=" "+y+"=\""+F+"\""}M[3]+=P+">";
M.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return M.join("\n")};
jW.aG2=function(s){var M=[];for(var R=0;R<s.length;R++)M[R]=s[R][1]==0?0:s[R][0]/s[R][1];return M};jW.a7w=function(s){var M=[];
for(var R=0;R<s.length;R++){var O=s[R],P=1;if(O!=Math.round(O)){P=1e3;O=Math.round(O*P)}M[R]=[O,P]}return M};
jW.hM=function(s,M){var O=jW.SY;if(M==null)M={};for(var P in O){var y=O[P][1],F="t"+y;if(y!=null&&s[F]!=null){var A=s[F];
if(y==0)A=A.join(".");else if(y==2||y==4){var h=s["t"+(y-1)];if(h==null)h=[y==2?"N":"E"];A=jW.aG2(A).join(",")+h[0]}else if(y==42034)A=jW.aG2(A).join(" ");
else if(y==270||y==315){if(A instanceof Uint8Array)A=c.xJ(A);else{var m=A[0],Z=new Uint8Array(m.length);
c.Eu(Z,0,m);A=c.xJ(Z)}}else if(y==37510&&A instanceof Uint8Array){var m=c.xJ(A);A=m.startsWith("ASCII")?m.slice(8):m}else A=A[0];
M[P]=A}}if(s.exifIFD)jW.hM(s.exifIFD,M);if(s.gpsiIFD)jW.hM(s.gpsiIFD,M);return M};jW.MG=function(s,M,O){var P=jW.SY,F=0,h=0;
if(M==null)M={};var y={},A={};for(var m in P){if(s[m]==null||P[m][1]==null)continue;var Z=P[m][1],u="t"+Z,f=M;
if(m.startsWith("exif:")){f=y;F++;if(m.startsWith("exif:GPS")){f=A;h++}}var U=s[m];if(Z==0)U=new Uint8Array(U.split(".").map(parseFloat));
else if(Z==2||Z==4){var C=U.length;f["t"+(Z-1)]=[U.slice(U.length-1)];U=jW.a7w(U.split(",").map(parseFloat))}else if(Z==42034)U=jW.a7w(U.split(" ").map(parseFloat));
else if(Z==270||Z==315){var H=c.WT(U);U=[c.Db(H,0,H.length)]}else if(Z==37510)U=c.WT(U);else U=[U];f[u]=U}if(F!=0){M.exifIFD=y;
M.t34665=[0]}if(h!=0){M.gpsiIFD=A;M.t34853=[0]}var t=new Date,X=[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()];
for(var R=0;R<6;R++)X[R]=(X[R]+"").padStart(2,"0");M.t305=["Photopea Editor (www.photopea.com)"];if(O!=!0)M.t306=[X[0]+":"+X[1]+":"+X[2]+" "+X[3]+":"+X[4]+":"+X[5]];
return M};function bn(){}bn.kM=function(s){var M={arh:",",uW:"\r\n",aur:"\""},O=[[""]],P,y,F,A,h;for(P=y=F=A=0;
F<s.length;F++){switch(h=s.charAt(F)){case M.aur:if(A&&s.charAt(F+1)==M.aur){O[P][y]+=M.aur;++F}else{A^=1}break;
case M.arh:if(!A){O[P][++y]=""}else{O[P][y]+=h}break;case M.uW.charAt(0):if(!A&&(!M.uW.charAt(1)||M.uW.charAt(1)&&M.uW.charAt(1)==s.charAt(F+1))){O[++P]=[""];
O[P][y=0]="";if(M.uW.charAt(1)){++F}}else{O[P][y]+=h}break;default:O[P][y]+=h}}if(O[O.length-1].length<O[0].length)O.pop();
return O};var i={};i.a58=0;i.zX=function(){i.a58++;return i.a58};i.ab3="uint8";i.lG=function(s){s._.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
s._.style.opacity="1";s._.style.transform="scale(1)"};i.wJ=function(s,M){s._.style.opacity="0";s._.style.transform="scale(0.95)";
if(M)setTimeout(function(){M.removeChild(s._)},100)};i.arX=function(){var s=i.wl();if(s=="")return 0;
if(s!=i.BF("_TXZRPB;d7@;")&&s!=dN.BF("eQLZRRM?8a4=8")){var M=i.X7[dN.Me][dN.Xg],O=M.indexOf(String.fromCharCode(35)),P;
if(O==-1)return 0;try{P=JSON.parse(i.X7[dN.acG](M.slice(O+1)))}catch(hj){return 0}var y=P[i.BF("bQ[ODL<E<M")];
if(y==null||y.length<<2!=64)return 0;var F=dN.hT(),A=parseInt(y.slice(3*4).split("").reverse().join(""),16)<<16;
if(A<F||y!=dN.a3c(A,s))return 0;return 2}return 1};i.wl=function(){var s=i.X7[i.uh("}$z{2*35")][i.BF("W[\\ZQAJ?")],M=String.fromCharCode(46),O=s.split(M);
if(O.length<2)return"";var P=O.pop();P=O.pop()+M+P;return P};i.PY=function(s){var M=i.wl();if(dB.Mo())return!0;
if((M==dN.BF("_TXZRPB;d7@;")||M==dN.BF("~yy")||true)&&i.X7==i.X7[dN.a8o])return!0;var O=i.X7[dN.Me][dN.Xg],P=O.indexOf("#");
if(P!=-1&&P!=O.length-1&&(O[P+1]=="%"||O[P+1]=="{")){var y=O.substring(P+1,O.length);y=JSON.parse(i.X7[dN.acG](y));
var F=y[dN.BF("P\\RY")];if(F)if(s==0&&F[dN.BF("aYKM")]||s==1&&F[dN.BF("SQcMR")])return!0}return!1};i.akY=function(){if(i.X7[dN.aLv][dN.acE]){var s=new i.X7[dN.Xl];
s[dN.Vk](dN.auF,i.BF("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+i.wl());s[dN.GC]()}};i.VM=function(){if(window.top!=window.self)return!1;
var s=navigator.userAgent.toLowerCase();if(s.indexOf("firefox")!=-1)return!1;if(s.indexOf("safari")!=-1&&s.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null&&navigator.clipboard!=null};i.sm=function(s){this.Fu=s;this.Om=i.m("img");
this.jE=i.m("canvas");this.FO=null;this.uF="";this.u7=null;this.pI=new j6(0,0);this.amq=!0;i.Qj(this.Fu,this.uz.bind(this))};
i.sm.prototype.o3=function(s,M){this.FO=s;if(M)this.uF=M;this.uz()};i.sm.prototype.oo=function(s){this.amq=s;
this.uz()};i.sm.prototype.uz=function(s){if(s)this.pI=i.iC(s,this.Fu);var M=this.amq?this.FO:"auto",O=typeof M=="string";
if(!O){var P=i.yD(),y=this.pI,F=M.Iz.A,A=M.Iz.$,h=typeof M.qJ=="string",m=h?this.Om:this.jE;if(h)m.setAttribute("src",M.qJ);
else{m.width=F;m.height=A;var Z=m.getContext("2d"),u=new ImageData(new Uint8ClampedArray(M.qJ.buffer),F,A);
Z.putImageData(u,0,0)}i.P(m," position:absolute; pointer-events:none;user-select:none;"+"top:"+(y.y-M.gB.y/P)+"px; left:"+(y.x-M.gB.x/P)+"px; width:"+F/P+"px; height:"+A/P+"px");
var f=this.u7;if(f==null||f!=m){if(f)this.Fu.removeChild(f);this.Fu.appendChild(m);this.u7=m}}else if(this.u7){this.Fu.removeChild(this.u7);
this.u7=null}i.P(this.Fu,"cursor:"+(O?M:"none")+"; "+this.uF)};i.uu=function(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
i.w7=function(s,M){s.x3(aW.get([12,41]).charAt(0)+":");M.x3(aW.get([12,42]).charAt(0)+":")};i.m=function(s,M){var O=document.createElement(s);
if(M!=null)O.className=M;return O};i.Lq=function(s){while(s.firstChild)s.removeChild(s.firstChild)};
i.cG=function(s,M){var O=s.className;O=O.split(" ");if(O.indexOf(M)==-1)O.push(M);s.className=O.join(" ")};
i.VV=function(s,M){var O=s.className;if(O=="")return;O=O.split(" ");if(O.indexOf(M)!=-1)O.splice(O.indexOf(M),1);
s.className=O.join(" ")};i.qE=function(s){while(!0){if(s==document)return!0;if(s==null)return!1;s=s.parentNode}};
i.QP=function(s){s.appendChild(i.m("br"))};i.yV=function(s){s.appendChild(i.m("hr"))};i.P=function(hS,s){hS.setAttribute("style",s)};
i.Bn=function(s,M,O){var P=new fU([1,12,1],O==null?!0:O,null,!0);if(s)P.k("click",s.Mk,s);if(M)M.appendChild(P._);
return P};i.X7=document;i.wI=function(s){var M=0;for(var R=0;R<s;R++)M+=Math.random();return M/s<Math.PI/4};
i.BF=function(s){var M="";if(!i.wI(28))s+="-3";for(var R=0;R<s.length;R++){var O=s.charCodeAt(R);if(O<32||126<O)throw"e";
M+=String.fromCharCode(32+(O-32+17+3*R)%95)}return M};i.uh=function(s){var M="";if(!i.wI(28))s+="-1";
for(var R=0;R<s.length;R++){var O=s.charCodeAt(R);O-=32;O+=95e4;O-=17+3*R;O=O%95;M+=String.fromCharCode(32+O)}return M};
i.R$=function(s){var M=Math.random();i.ab3="uint"+(3+M);return new s};(function(){var s=window.PointerEvent,M=s?"pointer":"mouse",O=M+"down",P=M+"move",y=M+"up",F=!1;
i.dq=function(A,h){A.addEventListener(O,h,F);if(!s)A.addEventListener("touchstart",h,F)};i.Qj=function(A,h){A.addEventListener(P,h,F);
if(!s)A.addEventListener("touchmove",h,F)};i.gE=function(A,h){A.addEventListener(y,h,F);if(!s)A.addEventListener("touchend",h,F)};
i.alL=function(A,h){A.removeEventListener(O,h,F);if(!s)A.removeEventListener("touchstart",h,F)};i.GE=function(A,h){A.removeEventListener(P,h,F);
if(!s)A.removeEventListener("touchmove",h,F)};i.bY=function(A,h){A.removeEventListener(y,h,F);if(!s)A.removeEventListener("touchend",h,F)}}());
i.o0=function(s){s.addEventListener("touchstart",i.it,!1);s.addEventListener("touchmove",i.it,!1);s.addEventListener("touchend",i.it,!1);
s.addEventListener("gesturestart",i.it,!1);s.addEventListener("gesturechange",i.it,!1);s.addEventListener("gestureend",i.it,!1)};
i.agU=function(s){var M=s.sourceCapabilities;if(M)return M.firesTouchEvents;return!1};i.MQ=function(s,M,O,P){var y=i.yD();
s.width=Math.floor(M*y);s.height=Math.floor(O*y);if(P)P.scale(y,y);i.K8(s)};i.K8=function(s){var M=i.yD();
s.style.width=s.width/M+"px";s.style.height=s.height/M+"px"};i.cq=function(s,M,O){s.style.width=M/i.yD()+"px";
s.style.height=O/i.yD()+"px"};i.iC=function(s,M){if(M==null)M=s.currentTarget;var O=M.getBoundingClientRect();
if(s.touches)s=s.touches.item(0);return{x:s.clientX-O.left,y:s.clientY-O.top}};i.yD=function(){return window.devicePixelRatio||1};
i.c0=function(s){s.addEventListener("keydown",i.aso,!1)};i.aso=function(s){if(!hj.DT(s.code,hj.tT))s.stopPropagation()};
i.aBW=function(s){s.stopPropagation()};i.it=function(s){s.preventDefault()};i.zZ=function(s){s.stopPropagation();
s.preventDefault()};i._S=function(s,M,O){O=O?O:"";if(PIMG["__"+s]==null)O+=" gsicon";var P=PIMG[s]?PIMG[s]:s;
return"<img src=\""+P+"\" alt=\""+(M?M:"")+"\" class=\""+O+"\" />"};i.H9=function(s,M,O,P){var y=s.dataTransfer.getData("text/uri-list");
if(y!=null&&y.startsWith("http")){var F=new kg(z.E.c,!0);F.data={Q:z.J.Xi,dh:{url:y,iO:!0,hR:O,EJ:P}};
M.a(F)}if(s.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var A=[],h=s.dataTransfer.items.length,m=s.dataTransfer.files;
for(var Z of s.dataTransfer.items)Z.getAsFileSystemHandle().then(function(u){A.push(u);if(A.length==h){var F=new kg(z.E.c,!0);
F.data={Q:z.J.Am,data:m,hR:O,EJ:P,aHI:A};M.a(F)}})}else{var F=new kg(z.E.c,!0);F.data={Q:z.J.Am,data:s.dataTransfer.files,hR:O,EJ:P};
M.a(F)}};if(i.wI(27))i.X7=window;else i.X7=i.aHa;i.X7._cwY=i.X7[i.uh("t$&!'31")];var hz={};hz.aGg=function(R){var s=hz.YS[R],M=document.documentElement.style,P=1;
M.setProperty("--base","#"+a.Rr(s["--base"]));M.setProperty("--bg-panel","#"+a.Rr(s["--bg-panel"]));
M.setProperty("--bg-canvas","#"+a.Rr(s["--bg-canvas"]));M.setProperty("--bg-input","#"+a.Rr(s["--bg-input"]));
M.setProperty("--bg-bbtn","#"+a.Rr(s["--bg-bbtn"]));M.setProperty("--bg-bbtnOver","#"+a.Rr(s["--bg-bbtnOver"]));
M.setProperty("--brdr","#"+a.Rr(s["--brdr"]));M.setProperty("--text-color","#"+a.Rr(s["--text-color"]));
M.setProperty("--brdrLgt","rgba(255,255,255,"+s["--brdrLgt"]+")");M.setProperty("--brdrDrk","rgba(  0,  0,  0,"+s["--brdrDrk"]+")");
M.setProperty("--alphaDark",""+s["--alphaDark"]);M.setProperty("--gs-invert",""+s["--gs-invert"]);M.setProperty("--accent","#"+a.Rr(s["--accent"]));
var O=s["--sh-clr"];M.setProperty("--sh-clr","rgba("+(O>>16)+","+(O>>8&255)+","+(O&255)+", 0.45)");M.setProperty("--absc",""+s["--absc"]);
M.setProperty("--abs255",""+s["--abs255"]);if(1<i.yD()&&i.yD()<1.5)P=1/i.yD();M.setProperty("--img20",20*P+"px");
M.setProperty("--img18",18*P+"px");M.setProperty("--img15",15*P+"px");if(PIMG!=null){var y="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var R=0;R<y.length;R++){var F=y[R],A=F.split("/").pop(),h=PIMG["__"+F]==null?s["--gs-invert"]:"0";
M.setProperty("--icon_"+A,"url("+PIMG[F]+")");M.setProperty("--icon_"+A+"_invrt",h)}}var m=document.querySelector("meta[name=theme-color]");
if(m)m.setAttribute("content","#"+a.Rr(s["--base"]))};(function(){var s=3441398,M=3441398;hz.YS=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":M},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":s},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":s},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":s},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":s},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":s},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":M}]}());
function hq(){this.m2={};this.kQ={}}hq.prototype.akj=function(s){var M=this.m2[s];if(M==null)return!1;
return M.length>0};hq.prototype.addEventListener=function(s,M){this.k(s,M,null)};hq.prototype.k=function(s,M,O){if(this.m2[s]==null){this.m2[s]=[];
this.kQ[s]=[]}this.m2[s].push(M);this.kQ[s].push(O)};hq.prototype.removeEventListener=function(s,M){var O=this.m2[s];
if(O==null)return;var P=O.indexOf(M);if(P<0)return;var y=this.kQ[s];O.splice(P,1);y.splice(P,1)};hq.prototype.a=function(s){s.currentTarget=this;
if(s.target==null)s.target=this;var M=this.m2[s.I];if(M==null)return;var O=this.kQ[s.I];for(var R=0;
R<M.length;R++){if(O[R]==null)M[R](s);else M[R].call(O[R],s)}};var kg=function(s,M){if(!M)M=!1;this.I=s;
this.target=null;this.currentTarget=null;this.bubbles=M;this.l=null;this.T8=!1},z={E:{H:"0",c:"1",fa:"1.5",n:"2",wE:"3",aIt:"4"},J:{V1:"10",EU:"11",KX:"12",mJ:"13",ag:"14",a7b:"14.1",Xi:"15",Fw:"16",xa:"17",$e:"18",MF:"19",aaa:"19.5",YM:"20",azt:"20.1",a11:"20.5",a5$:"20.6",F$:"21",WP:"22",v6:"23",Rt:"24",xL:"25",Q2:"26",ma:"27",Bm:"28",aep:"28.5",ard:"29",Am:"30",LT:"31",qw:"32",Km:"33",Qo:"34",ko:"35",as$:"35.5",xR:"37",aGZ:"38",JC:"39",fy:"40",Mz:"41",iV:"41.5",rb:"42",R8:"43",aau:"43.5",RZ:"44",afR:"45",Ty:"46",Jx:"47",h8:"48",bG:"49",azf:"50",b9:"51",CY:"52"}};
function hV(){hq.call(this);this.parent=null;this._=null;this.V5=0;this.fw=0;this.aBO=!1}hV.prototype=new hq;
hV.prototype.akm=function(s){var hS=this;while(hS!=null){if(hS==s)return!0;hS=hS.parent}return!1};hV.prototype.La=function(){var s=this._;
return s.offsetWidth+s.clientLeft};hV.prototype.aGQ=function(){var s=this._;return s.offsetHeight+s.clientTop};
hV.prototype.update=function(s){};hV.prototype.a=function(s){hq.prototype.a.call(this,s);if(s.bubbles&&this.parent!=null)this.parent.a(s)};
hV.prototype.T=function(){};hV.prototype.GK=function(s,M){};hV.prototype.XX=function(s){i.cG(this._,"disabled")};
hV.prototype.Zc=function(s){i.VV(this._,"disabled")};hV.prototype.oo=function(s){if(s)this.Zc();else this.XX()};
hV.prototype.Jl=function(){this.aBO=!0};hV.prototype.h$=function(){var s=this.$D,M=this.aBO,O=this.WA;
if(s){s=aW.get(this.$D);if(!M)s+=":";O.textContent=s;if(M){O.style.display="block";O.style.lineHeight="1.6em";
O.style.marginLeft="3px";i.VV(O,"flabel")}}if(M){this.Qn.style.fontSize="1.15em"}};function dG(s){hV.call(this);
this.b6=[];this.asc=!1;this.alZ=0;this.Df={x:0,y:0,cQ:!1};this.Ik=s;this.af9=this.rW.bind(this);this.YR=this.Sd.bind(this);
this.Wd=this.gF.bind(this);i.dq(s,this.af9);i.Qj(s,this.YR);s.addEventListener("wheel",this.sh.bind(this),!1);
s.addEventListener("contextmenu",this.aH_.bind(this),!1);var M=this.aA9.bind(this);s.addEventListener("gesturestart",M,!1);
s.addEventListener("gesturechange",M,!1);s.addEventListener("gestureend",M,!1);i.o0(s)}dG.prototype=new hV;
dG.prototype.aA9=function(s){if(s.type=="gesturestart")this.MZ=s.scale;if(s.type=="gesturechange"){var M=new kg("mouse",!0);
M.action="scroll";M.yB=!0;this.Je(s,M);var O=(this.MZ-s.scale)/this.MZ;M.EW=new j6(0,100*O);this.MZ=s.scale;
this.a(M)}};dG.prototype.K$=function(s){var M=-1,O=this.b6;for(var R=0;R<O.length;R++)if(O[R].pointerId==s.pointerId)M=R;
return M};dG.ZY=function(s){var M=s.pointerType,O=window.__kb;return M=="touch"&&O.D(hj.a7L)};dG.akx=function(s){var M=s.button!=null&&s.button!=0?s.which==2?"i":"r":"";
if(hj.NS()&&s.ctrlKey)M="r";return M};dG.prototype.rW=function(s){if(dG.ZY(s))return;var M=this.K$(s);
if(M!=-1)this.b6[M]=s;else this.b6.push(s);if(this.b6.length==1){this.alZ=Date.now();var O=dG.akx(s)+"down",P=new kg("mouse",!0);
P.action=O;this.Je(s,P);this.a(P);i.GE(this.Ik,this.YR);i.Qj(window,this.YR);i.gE(window,this.Wd)}if(this.b6.length==2){if(Date.now()-this.alZ<100){var P=new kg("mouse",!0);
P.action="cancellast";this.Je(s,P);this.a(P)}this.asc=!0}if(this.b6.length==2)this.afP("multidown")};
dG.prototype.Sd=function(s){if(dG.ZY(s))return;var M=this.K$(s);if(M!=-1)this.b6[M]=s;if(this.b6.length>1){this.afP("multimove")}if(this.asc)return;
if(this.b6.length==1&&M==-1)return;var O=new kg("mouse",!0);O.action="move";this.Je(s,O);this.a(O)};
dG.prototype.gF=function(s){if(dG.ZY(s))return;var M=this.b6;M=this.b6=[];if(M.length==0){var O=dG.akx(s)+"up",P=new kg("mouse",!0);
P.action=O;this.Je(s,P);this.a(P);i.GE(window,this.YR);i.bY(window,this.Wd);i.Qj(this.Ik,this.YR);this.asc=!1}};
dG.prototype.sh=function(s){s.preventDefault();if(s.deltaX==0&&s.deltaY==0)return;var M=new kg("mouse",!0);
M.action="scroll";M.yB=s.ctrlKey;this.Je(s,M);this.a(M)};dG.prototype.aH_=function(s){i.zZ(s);if(i.agU(s)){var M=new kg("mouse",!0);
this.Je(s,M);M.action="rdown";this.a(M);M.action="rup";this.a(M)}};dG.prototype.afP=function(s){var M=this.b6,O=i.yD(),P=[];
for(var R=0;R<M.length;R++){var y=P[R]=i.iC(M[R],this.Ik);y.x*=O;y.y*=O}var F=new kg("mouse",!0);F.action=s;
F.xF=P;if(M.length==2)this.a(F)};dG.prototype.Je=function(s,M,O){var P=this.b6.length!=0;if(M.action!="up"){var y=i.yD();
if(O==null)O=i.iC(s,this.Ik);this.Df=M.In={x:y*O.x,y:y*O.y,cQ:P};var F=i.iC(s,document.body);M.In.DE=F.x;
M.In.kC=F.y}else this.Df=M.In={x:this.Df.x,y:this.Df.y,cQ:P};M.In.CH=.5;if(s.pressure!=null)M.In.CH=s.pressure;
if(s.pointerType=="mouse")M.In.CH*=2;M.In.adE=s.pointerType;if(s.deltaX!=null){var A=s.deltaX;if(s.deltaMode==0&&Math.abs(A%100)<1e-9)A/=100;
var h=s.deltaMode==0?1:40;M.EW=new j6(A*h,s.deltaY*h)}};function kA(s,M,O){hV.call(this);this.Ju=null;
this.anA=this.gF.bind(this);this.ak8=this.vE.bind(this);this.a1H=this.axt.bind(this);this.agM=this.aCf.bind(this);
this.r8=[];this.A5=[];this.Y5=[];this.axq=[];this.aDY=O;this._=i.m("div","contextpanel "+(O?"cp_dark":"cp_light"));
this._.addEventListener("contextmenu",i.it,!1);this.QO=null;this.aeP=0;this.FN=s;this.aD0=M;this.Gw=[];
for(var R=0;R<s.length;R++){var P=i.m("div","enab");this.A5.push(P);this._.appendChild(P);var y=s[R].mb;
if(y){if(y.startsWith("#")){var F=i.m("span");i.P(F,"display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+y);
P.appendChild(F)}else P.innerHTML=i._S(s[R].mb,null,"thumb")}else{var A=i.m("span","check");this.axq.push(A);
P.appendChild(A)}var h=i.m("span","label");h.textContent=aW.get(s[R].name);P.appendChild(h);this.Y5.push(h);
if(s[R].dc)this._.appendChild(i.m("hr"));if(s[R].RU||s[R].sub){var m=P._1=i.m("span","right");P.appendChild(m);
if(s[R].RU)m.textContent=hj.oC(s[R].RU);else if(s[R].sub)m.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}P.addEventListener(O?"mouseup":"click",this.anA,!1);
P.addEventListener("mouseover",this.ak8,!0);P.addEventListener("mouseout",this.a1H,!0);if(s[R].sub){var Z=new kA(s[R].sub,M?M[R].sub:null);
Z.parent=this;this.Gw.push(Z);Z.k("select",this.alA,this)}else this.Gw.push(null)}}kA.prototype=new hV;
kA.prototype.am_=function(s){i.Lq(this._);for(var R=0;R<s.length;R++)if(s[R]!=0&&s[R]!=null){this._.appendChild(this.A5[R]);
if(s[R]!=1&&this.Gw[R])this.Gw[R].am_(s[R])}};kA.prototype.T=function(){var s=this.FN;for(var R=0;R<s.length;
R++){if(s[R].title)this.A5[R].title=aW.get(s[R].title);this.Y5[R].textContent=aW.get(s[R].name)+(s[R].GL?"...":"")}for(var R=0;
R<this.Gw.length;R++)if(this.Gw[R])this.Gw[R].T()};kA.prototype.update=function(s,M){if(!this.aDY){this._.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var O=this.FN,P=window.innerWidth<450?"none":"inline";
for(var R=0;R<O.length;R++){var y=this.A5[R];if(y._1&&!this.Gw[R])y._1.style.display=P;if(O[R].e){var F=O[R].e(s,M,R);
if(F.e!=null)this.A5[R].className=F.e?"enab":"disab";if(F.jS!=null)this.Y5[R].textContent=F.jS;if(F.VZ!=null)this.axq[R].innerHTML=F.VZ?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(F.d!=null)this.aD0[R]=F.d}}for(var R=0;R<this.Gw.length;R++)if(this.Gw[R])this.Gw[R].update(s,M)};
kA.prototype.x2=function(){return this.r8};kA.prototype.gF=function(s){if(s.button!=0)return;var R=this.A5.indexOf(s.currentTarget);
if(this.Gw[R]){this.aeP=R;this.aCf()}else{if(this.aD0){var M=this.aD0[R],O=new kg(M.g,!0);O.l=M.l;O.data=M.d;
this.a(O)}this.Ju=null;this.r8=[R];this.a(new kg("select",!1));var O=new kg(z.E.c,!0);O.data={Q:z.J.mJ};
this.a(O)}};kA.prototype.vE=function(s){var R=this.A5.indexOf(s.currentTarget);this.lH();this.aeP=R;
this.QO=setTimeout(this.agM,300)};kA.prototype.axt=function(s){this.lH()};kA.prototype.lH=function(){if(this.QO){clearTimeout(this.QO);
this.QO=null}};kA.prototype.aCf=function(){this.lH();var R=this.aeP;if(this.Ju)this.Ju.az8();if(this.Gw[R]==null)return;
this.Ju=this.Gw[R];var s=this.A5[R].getBoundingClientRect(),M=new kg(z.E.c,!0);M.data={Q:z.J.EU,uJ:this.Gw[R],x:s.left+s.width+2,y:s.top};
this.a(M)};kA.prototype.az8=function(){for(var R=0;R<this.Gw.length;R++)if(this.Gw[R])this.Gw[R].az8();
var s=new kg(z.E.c,!0);s.data={Q:z.J.KX,uJ:this};this.a(s)};kA.prototype.alA=function(s){var R=this.Gw.indexOf(s.target);
this.r8=[R].concat(s.target.x2());this.a(new kg("select",!1))};function ho(s,M,O){hV.call(this);this._=i.m("span","fitem cbox");
if(M==null)M=!0;if(O==null)O="flabel";var P="cb"+i.zX();this.Qn=i.m("input","");this.Qn.setAttribute("type","checkbox");
this.Qn.setAttribute("id",P);this._.appendChild(this.Qn);this.$D=s;this.S9=i.m("label",O);if(M)this.S9.setAttribute("for",P);
this._.appendChild(this.S9);this.T();this.Qn.addEventListener("change",this.nS.bind(this),!1)}ho.prototype=new hV;
ho.prototype.ayK=function(){return this.$D};ho.prototype.x3=function(s){this.S9.textContent=s};ho.prototype.T=function(){var s=this.$D;
if(typeof s=="string"&&s.startsWith("<"))this.S9.innerHTML=s;else this.S9.textContent=aW.get(s)};ho.prototype.Mg=function(){this.Qn.checked=!0};
ho.prototype.Hv=function(){this.Qn.checked=!1};ho.prototype.vy=function(){return this.Qn.checked};ho.prototype.q=function(s){this.Qn.checked=s};
ho.prototype.V=ho.prototype.vy;ho.prototype.nS=function(s){this.a(new kg(z.E.n,!1))};function df(s,M){hV.call(this);
this.$D=s;this._=i.m("span","labelitem fitem"+(M?" spread":""));this.T()}df.prototype=new hV;df.prototype.q=function(s){this._.textContent=s};
df.prototype.V=function(){return this._.textContent};df.prototype.Zc=function(){this._.removeAttribute("disabled")};
df.prototype.XX=function(){this._.setAttribute("disabled","")};df.prototype.x3=function(s){this._.textContent=s};
df.prototype.T=function(){this._.textContent=aW.get(this.$D)};df.prototype.ayK=function(){return this.$D};
function fU(s,M,O,P,y){hV.call(this);this.JD=!1;this._=i.m("button","fitem"+(M?" spread":"")+(P?" bbtn":""));
this.$D=s;this.MK=O;this.T();var F=y&&window.PointerEvent?"pointerup":"click";this._.addEventListener(F,this.N6.bind(this),!1)}fU.prototype=new hV;
fU.prototype.T=function(){var s=this._,M=this.$D,O=this.MK;if(typeof M=="string"&&(M.startsWith("<img")||M.startsWith("<svg")||M.startsWith("<span"))){if(!this.JD){s.innerHTML=M;
i.P(s,"padding:2px");this.JD=!0}}else s.textContent=aW.get(M);if(O){s.setAttribute("title",aW.get(O))}};
fU.prototype.aES=function(s){this._.setAttribute("title",s)};fU.prototype.N6=function(s){this.a(new kg("click",!1))};
fU.prototype.Mg=function(){i.cG(this._,"bactive")};fU.prototype.Hv=function(){i.VV(this._,"bactive")};
fU.prototype.x3=function(s,M){if(s&&s!=this.$D){this.$D=s;this.JD=!1}if(M)this.MK=M;this.T()};fU.prototype.q=function(s){if(s)this.Mg();
else this.Hv()};fU.prototype.vy=function(){return this._.getAttribute("class").indexOf("bactive")!=-1};
fU.prototype.V=function(){return this.vy()};function hH(s,M,O,P,y){hV.call(this);var F=i.zX();this._=i.m("span","fitem tinput");
if(O==-1)this._.style.width="100%";if(s){this.$D=s;this.WA=i.m("label","flabel");this._.appendChild(this.WA);
this.WA.setAttribute("for",F);this.T()}if(y){this.Qn=i.m("span")}else if(P==null){this.Qn=i.m("input");
this.Qn.setAttribute("type","text")}else this.Qn=i.m("textarea","scrollable");this.Qn.setAttribute("id",F);
if(O)i.P(this.Qn,"width:"+(O==-1?"100%;":O+"em;")+(y?" display:inline-block; margin-left:6px;":""));
if(P)this.Qn.setAttribute("rows",P);this._.appendChild(this.Qn);if(M){this.kn=i.m("span");this.kn.textContent=M;
this.kn.style.marginLeft="2px";this._.appendChild(this.kn)}i.c0(this.Qn);hj.Mx(this.Qn);this.Qn.addEventListener("change",this.nS.bind(this),!1);
this.Qn.addEventListener("input",this.a3o.bind(this),!1);if(P==null)this.Qn.addEventListener("keyup",this.cm.bind(this),!1)}hH.prototype=new hV;
hH.prototype.T=function(){this.h$()};hH.prototype.cm=function(s){var M=hj.DT(s.code,hj.ob),O=hj.DT(s.code,hj.$g);
if(O||M)this.Qn.blur()};hH.prototype.x3=function(s){this.WA.textContent=s};hH.prototype.q=function(s){var M=this.Qn,O=s==null?"":s,P=M.tagName=="SPAN";
if(P){M.textContent=" "+O;if(this.kn)M.appendChild(this.kn)}else M.value=O};hH.prototype.amW=function(s){this.kn.textContent=s};
hH.prototype.V=function(){return this.Qn.value};hH.prototype.a7=function(){this.Qn.select();this.Qn.focus()};
hH.prototype.nS=function(s){this.a(new kg(z.E.n,!1))};hH.prototype.a3o=function(s){this.a(new kg("input",!1))};
function ed(s,M,O,P,y,F,A,h,m){hV.call(this);if(y==null)y=0;this._=i.m("span","fitem");var Z=i.zX();
this.$D=s;this.MK=h;this.FO=0;this.a2Y=m;this.Yy=M;this.aH=O;this.aHn=null;if(P instanceof Array){this.aHn=P;
P=P[0]}this._o=P;this.aO=y;this.avL=F;this.m9=A;this.FV=0;this.WA=i.m("label","flabel");this.WA.setAttribute("for",Z);
i.P(this.WA,"cursor:col-resize;");this.cS=i.m("input","slider");this.cS.setAttribute("type","range");
if(A){this.cS.min=0;this.cS.max=400}else{this.cS.min=M;this.cS.max=O;if(y!=0)this.cS.step=(O-M)/200}this.Qn=i.m("input");
this.Qn.setAttribute("type","text");this.Qn.setAttribute("id",Z);this.Qn.setAttribute("inputmode","numeric");
this.kn=i.m("span");this.kn.textContent=P;i.c0(this.Qn);hj.Mx(this.Qn);this.asy=!1;this.Qn.addEventListener("mousedown",function(u){var R=u.target;
this.asy=R.selectionStart!=R.selectionEnd}.bind(this),!1);this.Qn.addEventListener("mouseup",function(u){var R=u.target;
if(!this.asy)R.select()}.bind(this),!1);this.Qn.addEventListener("change",this.nS.bind(this),!1);this.Qn.addEventListener("keydown",this.zf.bind(this),!1);
this.Qn.addEventListener("keyup",this.cm.bind(this),!1);this.Qn.addEventListener("wheel",this.sh.bind(this),!1);
this.cS.addEventListener("input",this.nS.bind(this),!1);if(m)this.cS.addEventListener("change",this.nS.bind(this),!1);
this.cS.addEventListener("click",this.av2.bind(this),!1);this.aaK=this.a1K.bind(this);this.awU=this.afl.bind(this);
this.a8P=this.ajD.bind(this);this.lF=0;this.nf=0;this.a9G=!1;i.dq(this.WA,this.aaK);i.o0(this.WA)}ed.prototype=new hV;
ed.prototype.fF=function(s){this.aO=s};ed.prototype.x3=function(s){this.WA.style.display=s?"inherit":"none";
if(s)this.WA.textContent=aW.get(s)};ed.prototype.T=function(){var hS=this.$D,s=this.MK;if(hS){if(typeof hS=="string"&&hS.startsWith("<"))this.WA.innerHTML=hS;
else this.h$()}if(s){s=aW.get(s);if(hS)this.WA.setAttribute("title",s);this.Qn.setAttribute("title",s)}};
ed.prototype.q=function(s,M){var O=this.Yy==this.aH,y;if(!O&&this.Yy>=0)s=Math.max(this.Yy,s);if(this.aO==0)s=Math.round(s);
var P=this._o;this.FO=s;this.Qn.value=parseFloat(this.aO!=0?s.toFixed(this.aO):s)+(this.avL&&P?(P.toLowerCase()==P.toUpperCase()?"":" ")+P:"");
if(-this.Yy==this.aH)y=200+Math.sign(s)*200*Math.pow(Math.abs(s)/this.aH,1/2.7);else y=400*Math.pow((s-this.Yy)/(this.aH-this.Yy),1/2.7);
this.cS.value=this.m9?y:s;if(M)this.qr()};ed.prototype.V=function(){var s=this.FO;if(isNaN(s))s=0;return s};
ed.prototype.b0=function(){return this._o};ed.prototype.nS=function(s){var M=0;if(s.currentTarget==this.Qn){var O=s.target.value,P=0;
if(O=="")M=0;else if(this._o){M=parseFloat(O)}else{try{M=eval(O)}catch(s){M=1}}if(isNaN(M))M=0;while(P<O.length&&(O.charAt(P)=="."||48<=O.charCodeAt(P)&&O.charCodeAt(P)<=57))P++;
var y=O.slice(P).trim();if(this.aHn&&this.aHn.indexOf(y)!=-1)this._o=y}else{if(Date.now()-this.FV<10)return;
M=parseFloat(s.target.value);if(this.m9){if(-this.Yy==this.aH)M=Math.sign(M-200)*Math.pow(Math.abs(M-200)/200,2.7)*this.aH;
else M=this.Yy+Math.pow(M/400,2.7)*(this.aH-this.Yy);M=this.aIo(M)}}this.q(M);if(s.type=="input"&&this.a2Y)return;
this.qr()};ed.prototype.qr=function(){this.a(new kg(z.E.n))};ed.prototype.aIo=function(s){if(this.aH-this.Yy>50&&s>10)s=Math.round(s);
return s};ed.prototype.zf=function(s){var M=0;if(hj.DT(s.code,hj.l8))M=1;if(hj.DT(s.code,hj.sd))M=-1;
if(M!=0)this.aLe(M,s.shiftKey)};ed.prototype.cm=function(s){var M=hj.DT(s.code,hj.ob),O=hj.DT(s.code,hj.$g);
if(M)this.q(this.V());if(O||M)this.Qn.blur()};ed.prototype.sh=function(s){this.aLe(s.deltaY>0?-1:1,s.shiftKey)};
ed.prototype.aLe=function(s,M){var O=this.V(),P=this.aO,y=s*(P==null||P==0||O>5?1:.1);if(M)y*=10;var F=O+y;
if(!this.m9&&this.aH!=this.Yy)F=Math.min(this.aH,F);this.q(F);this.qr()};ed.prototype.av2=function(s){var M=Date.now()-this.FV;
this.FV=Date.now();if(M>200)return;var O=this.Yy,P=this.aH,y=(O+P)/2;if(O<1&&P>1&&P<10)y=1;else if(O<90&&P>110)y=100;
else if(O<0&&P>0)y=0;this.q(y);this.qr()};ed.prototype.a1K=function(s){i.Qj(document,this.awU);i.gE(document,this.a8P);
this.lF=i.iC(s,document.body).x;this.nf=this.V()};ed.prototype.afl=function(s){i.zZ(s);var M=this.Yy==this.aH,O=i.iC(s,document.body).x,P=(O-this.lF)*(M?1:1/120*(this.aH-this.Yy)),y=this.nf+P;
if(M)y=Math.round(y);if(!M){if(!0){y=Math.max(this.Yy,y);if(y==this.Yy){this.lF=O;this.nf=this.Yy}}if(!this.m9){y=Math.min(this.aH,y);
if(y==this.aH){this.lF=O;this.nf=this.aH}}y=this.aIo(y)}this.a9G=!0;this.q(y);if(!this.a2Y)this.qr()};
ed.prototype.ajD=function(s){if(!this.a9G)this.Qn.focus();this.a9G=!1;if(this.a2Y)this.qr();i.GE(document,this.awU);
i.bY(document,this.a8P)};ed.prototype.a7=function(){this.Qn.select();this.Qn.focus()};function hQ(s,M,O,P,y,F,A,h,m,Z){ed.call(this,s,M,O,P,y,!0,F,m,Z);
i.cG(this._,"rangedropinput");this._.appendChild(this.WA);i.P(this.Qn,"width:"+(h?h:3.3)+"em");this._.appendChild(this.Qn);
this.a36=i.m("span","rangecontFloat");this.a36.appendChild(this.cS);this.aAf=i.m("button");this.aAf.textContent="\u25BC";
i.dq(this.aAf,this.aGk.bind(this));if(A!=!0)this._.appendChild(this.aAf);this.vS=new hV;this.vS._=this.a36}hQ.prototype=new ed;
hQ.prototype.aGk=function(s){if(i.qE(this.vS._))return;s.stopPropagation();var M=this._.getBoundingClientRect();
i.P(this.cS,"width:"+M.width+"px;");var O=new kg(z.E.c,!0);O.data={Q:z.J.EU,uJ:this.vS,x:M.left-10,y:M.top+M.height};
this.a(O)};function fB(s,M,O,P,y,F){ed.call(this,s,M,O,P,y,!1,F);this._.appendChild(this.WA);var A=i.m("span");
this._.appendChild(A);A.appendChild(this.cS);this._.appendChild(this.Qn);i.P(this.Qn,"width:3.3em");
if(this._o)this._.appendChild(this.kn)}fB.prototype=new ed;function jH(s,M,O,P,y,F,A,h){ed.call(this,s,M,O,P,y,!0,F,null,A);
i.cG(this._,"trangeinput");this._.appendChild(this.WA);this._.appendChild(this.Qn);var m=i.m("span");
if(h!=!0)this._.appendChild(m);m.appendChild(this.cS)}jH.prototype=new ed;function d_(s,M,O,P){hV.call(this);
if(!M)return;this.EP=0;this.$D=s;this.a94=P;this.fn=null;this.CJ=O;this.afu=[];var y="dd"+i.zX();this._=i.m("span","fitem ddmenu");
if(s){this.WA=i.m("label","flabel");this._.appendChild(this.WA);this.WA.setAttribute("for",y)}this.Qn=i.m("select");
hj.Mx(this.Qn);this.Qn.setAttribute("id",y);this._.appendChild(this.Qn);this.Qn.addEventListener("change",this.nS.bind(this),!1);
function F(A){var h=0;if(hj.DT(A.code,hj.l8))h=1;if(hj.DT(A.code,hj.sd))h=-1;if(h!=0)A.stopPropagation()}this.Qn.addEventListener("keydown",F,!1);
this.Qn.addEventListener("keyup",F,!1);this.NH=[];this.Qm=null;this.ZG(M,O);this.T()}d_.prototype=new hV;
d_.prototype.x3=function(s){this.$D=s;this.T()};d_.prototype.T=function(){this.h$();if(this.Qm)this.ZG(this.Qm,this.CJ);
if(this.a94)this.Qn.setAttribute("title",aW.get(this.a94));this.q(this.EP)};d_.prototype.V=function(){return this.EP};
d_.prototype.ZG=function(s,M){i.Lq(this.Qn);var O=[],P=0;if(M){O.push(M[0]);for(var R=1;R<M.length;R++)O.push(O[R-1]+M[R])}this.Qm=s;
this.fn=[];this.CJ=M;for(var R=0;R<s.length;R++){var y=i.m("option");if(this.afu.indexOf(R)!=-1)y.setAttribute("disabled","");
y.textContent=aW.get(s[R]);y.setAttribute("value",R);this.Qn.appendChild(y);this.NH.push(y);this.fn.push(R+P);
if(O.indexOf(R+1)!=-1&&R!=s.length-1){var F=i.m("option");F.setAttribute("disabled","");F.textContent="";
this.Qn.appendChild(F);P++}}};d_.prototype.a3t=function(R){var s=this.afu,M=s.indexOf(R);if(M==-1)s.push(R);
this.T()};d_.prototype.arS=function(R){var s=this.afu,M=s.indexOf(R);if(M!=-1)s.splice(M,1);this.T()};
d_.prototype.q=function(s){this.EP=s;this.Qn.selectedIndex=this.fn[s]};d_.prototype.nS=function(s){this.EP=this.fn.indexOf(this.Qn.selectedIndex);
this.a(new kg(z.E.n,!1))};d_.prototype.a7=function(){this.Qn.focus()};function e0(s,M,O,P,y){hV.call(this);
if(!M)return;this.EP=0;this.aE3=P;this.awy=y;this._=i.m("span","fitem bbmenu");this.S9=i.m("label","flabel");
if(s){this.$D=s;this.S9.textContent=s+":";this._.appendChild(this.S9)}this.NH=[];this.qL=i.m("span");
this._.appendChild(this.qL);this.Qm=null;this.ZG(M,O);this.q(0)}e0.prototype=new hV;e0.prototype.x3=function(s){this.$D=s;
this.T()};e0.prototype.T=function(){var s=this.S9.parentNode!=null,M=this._;if(this.$D!=null){if(!s){M.appendChild(this.S9);
M.appendChild(this.qL)}this.S9.textContent=aW.get(this.$D)+": "}else if(s)M.removeChild(this.S9);for(var R=0;
R<this.NH.length;R++)this.NH[R].T()};e0.prototype.V=function(){return this.EP};e0.prototype.ZG=function(s,M){i.Lq(this.qL);
this.NH=[];var O=this.V();this.Qm=s;for(var R=0;R<s.length;R++){var P=new fU(s[R],!1,M?M[R]:null,this.aE3);
P.k("click",this.nS,this);this.qL.appendChild(P._);this.NH.push(P)}this.T();this.q(O)};e0.prototype.q=function(s){this.EP=s;
for(var R=0;R<this.NH.length;R++)this.NH[R].Hv();if(s!=-1)this.NH[s].Mg()};e0.prototype.nS=function(s){var R=this.NH.indexOf(s.target);
this.q(this.awy&&R==this.EP?-1:R);this.a(new kg(z.E.n,!1))};e0.$b=function(s,M,O){if(M==null)M=16;var P=e0.jE,y=P.getContext("2d"),F=M>>>1;
P.width=P.height=M;var A=[];for(var R=0;R<s.length;R++){if(s[R][0]=="-")A.push(s[R].slice(1));else if(s[R]=="checker"||s[R].startsWith("#")){if(s[R]=="checker"){y.fillStyle="white";
y.fillRect(0,0,M,M);y.fillStyle="#bbbbbb";y.fillRect(F,0,F,F);y.fillRect(0,F,F,F)}else if(s[R].startsWith("#")){y.fillStyle=s[R];
y.fillRect(0,0,M,M)}A.push("<img src=\""+P.toDataURL()+"\" />")}else A.push(i._S(s[R],null,O?O:"autoscale"))}return A};
e0.jE=i.m("canvas");function d5(s,M,O,P,y,F){hV.call(this);this._=i.m("span","fitem mbox");this.aBz=O;
this.asC=y;var A=i.zX();if(s){this.$D=s;this.WA=i.m("label","flabel");this.WA.setAttribute("for",A);
this._.appendChild(this.WA)}this.OR=M;this.NY=[];for(var R=0;R<M.length;R++){var h=O?new fU(M[R],!1,P?P[R]:null,!1,F):new ho(M[R],!0,"");
if(R==0)h._.setAttribute("id",A);h.k(O?"click":z.E.n,this.nS,this);this.NY.push(h);this._.appendChild(h._)}this.T()}d5.prototype=new hV;
d5.prototype.q=function(s){for(var M=0;M<this.OR.length;M++)this.NY[M].q(s[M])};d5.prototype.V=function(){var s=[];
for(var M=0;M<this.OR.length;M++)s[M]=this.NY[M].V();return s};d5.prototype.T=function(){if(this.$D)this.WA.innerHTML=aW.get(this.$D)+": ";
var s=this.NY;for(var M=0;M<s.length;M++){s[M].T();if(M==s.length-1)s[M]._.style.marginRight="0px"}};
d5.prototype.nS=function(s){var R=this.NY.indexOf(s.currentTarget),M=this.NY[R];if(this.aBz)M.q(!M.V());
if(this.asC){var O=M.V();for(var R=0;R<this.NY.length;R++)this.NY[R].q(!1);M.q(O)}this.a(new kg(z.E.n,!1))};
d5.prototype.ZG=function(s){for(var R=0;R<s.length;R++)this.NY[R].x3(s[R])};function ex(s,M){hV.call(this);
this.OX=[];this.Y=[];this.ag0=s;this.qV=M;this.P8=0;this.RQ=null;this.pI=new j6(0,0);if(M!=null){this.zt=new kA([{name:[6,37]},{name:[5,4]}]);
this.zt.parent=this;this.zt.k("select",this.AP,this)}this._=i.m("div","imageset scrollable");this._.addEventListener("contextmenu",i.it,!1)}ex.prototype=new hV;
ex.prototype.T=function(){if(this.zt)this.zt.T()};ex.prototype.AP=function(s){var R=this.zt.x2()[0],M=new kg(z.E.c,!0),O={Q:z.J.ko,dh:this.qV,EL:this.Y.slice(0)};
if(R==0){var P=this.RQ[1][this.Y[0]],y=P.split("/");if(y.length==2){O.a6R=y[0]+"/";P=y[1]}O.hP="rnm";
M.data={Q:z.J.xL,Rj:"namewindow",dK:P,WC:{g:z.E.c,d:O}}}else{M.data=O;O.hP="del"}this.a(M)};ex.prototype.aJY=function(){return this.P8};
ex.prototype.C8=function(s){this.P8=s;if(this.RQ)this.gq()};ex.prototype.KC=function(s,M,O,P){this.RQ=[s,M,O,P];
this.gq()};ex.prototype.gq=function(){var s=this.RQ,M=this._,O=s[0],P=s[1],y=s[2],F=s[3];this.OX=[];
i.Lq(M);var A=this.N6.bind(this),h=this.P8;if(h==0)i.cG(M,"imageset");else i.VV(M,"imageset");var m={};
for(var R=0;R<O.length;R++){var Z=O[R],u=null,f=null;if(Z==null){this.OX.push(null);continue}if(typeof Z=="string"){u=i.m("img","image");
u.setAttribute("src",Z)}else u=Z;if(y)i.cq(u,y,F);if(this.ag0)i.cG(u,"gsicon");if(P){var f=P[R],U=f.split("/");
if(U.length==2){var C=m[U[0]];f=U[1];if(C==null)C=m[U[0]]=[];C.push(R)}}if(h==0){}else{var H=i.m("div","listitem");
H.appendChild(u);var t=i.m("span");t.textContent=f?f:"Item "+(R+1);i.P(t,"margin-left:4px;");H.appendChild(t);
u=H}if(f)u.setAttribute("title",f);u.addEventListener("mousedown",A,!1);this.OX.push(u);M.appendChild(u)}if(Object.keys(m).length!=0){i.Lq(M);
for(var X in m){var C=m[X],Q=i.m("div","listitem head");i.P(Q,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var D=i.m("div","headL");Q.appendChild(D);D.appendChild(i.m("div","folder"));var t=i.m("span");t.textContent=X;
D.appendChild(t);M.appendChild(Q);for(var R=0;R<C.length;R++)M.appendChild(this.OX[C[R]])}}};ex.prototype.N6=function(s){if(this.qV==null)s.preventDefault();
var M=this.OX.indexOf(s.currentTarget),O=window.__kb,P=this.Y,y=P.length;if(O.D(hj.Y1)){var F=Math.min(P[0],P[P.length-1],M),A=Math.max(P[0],P[P.length-1],M);
P=[];for(var R=F;R<=A;R++)P.push(R)}else if(O.D(hj.yu)){var h=P.indexOf(M);if(h==-1)P.push(M);else P.splice(h,1)}else P=[M];
P.sort(function(f,U){return f-U});if(s.button==0||y==1)this.q(P);this.pI=i.iC(s,s.currentTarget);if(s.button==0)this.a(new kg(z.E.n));
if(s.button==2&&this.zt){var m=this.zt;m.update(null);var Z=i.iC(s,document.body),u=new kg(z.E.c,!0);
u.data={Q:z.J.EU,uJ:m,x:Z.x,y:Z.y+2};this.a(u)}};ex.prototype.V=function(){return this.Y.slice(0)};ex.prototype.a1p=function(){var s=this.pI;
return new j6(s.x,s.y)};ex.prototype.q=function(s){this.Y=s.slice(0);for(var R=0;R<this.OX.length;R++){var M=this.OX[R];
if(M==null)continue;if(s.indexOf(R)!=-1)i.cG(M,"selected");else i.VV(M,"selected")}};function jo(s,M){hV.call(this);
this.ag0=s;this.qV=M;this.P8=0;this.wp=null;this.Z7=[];this.$K=[];this.Y=[];var O=g5.Kd[M],P=O[0].toUpperCase();
this.zt=new kA([{name:["VAR0 ."+P,[1,0]]},{name:["VAR0 ."+P,[1,8]]},{name:[6,37]},{name:[5,4],dc:!0},{name:"Tiles/List"},{name:[12,87]},{name:[6,20]}]);
this.zt.parent=this;this.zt.k("select",this.AP,this);this._=i.m("div","imageset scrollable");this._.addEventListener("contextmenu",i.it,!1);
this.ahy=this.N6.bind(this);this.a7F=function(y){y.dataTransfer.setData("text",this.Z7.indexOf(y.currentTarget))}.bind(this);
this.acN=this.amD.bind(this)}jo.prototype=new hV;jo.prototype.ayq=function(){return this.zt};jo.prototype.T=function(){this.zt.T()};
jo.prototype.amD=function(s){var M=parseInt(s.dataTransfer.getData("text")),O=this.Z7.indexOf(s.currentTarget),P=this.Y,Z=!1;
if(P.indexOf(M)==-1)P=[M];var y=this.$K[O],F=y.join(",")+",",A=jo.qj(P,this.$K),h=A[1];for(var m in h)if(F.startsWith(m))return;
var u=jo.o9(this.wp,y)[2],f=jo.getItem(this.wp,y);if(f[1]==null){u=f[2];f=u[0];Z=!0}var U=jo.AV(this.wp,A[0]),C=u.indexOf(f);
for(var R=0;R<U.length;R++)u.splice(C+(Z?0:1)+R,0,U[R]);this.Y=[];var H=jo.aIg(this.wp);for(var R=0;
R<U.length;R++)this.Y.push(H.indexOf(U[R]));this.gq();this.qr()};jo.prototype.AP=function(s,M){if(M==null)M=this.zt.x2()[0];
var O=this.Y,P=new kg(z.E.c,!0);if(M==0){P.data={Q:z.J.Fw};this.a(P)}if(M==1){var y=jo.qj(O,this.$K)[0],F=jo.AV(this.wp,y,!0),A=g5.Kd[this.qV],h=iy.Jo(F,A[2]);
cD.save(h,A[1]+"."+A[0])}if(M==2){P.data={Q:z.J.xL,Rj:"namewindow",dK:jo.getItem(this.wp,this.$K[O[0]])[0],Xp:this.awH.bind(this)};
this.a(P)}if(M==3){var y=jo.qj(O,this.$K)[0],F=jo.AV(this.wp,y);this.Y=[];this.gq();this.qr()}if(M==4){this.P8=1-this.P8;
this.gq()}if(M==5){this.a(new kg("define_new"))}if(M==6){this.aq2(["New folder",null,[],!0])}};jo.prototype.aq2=function(s){var M=this.wp,O=this.Y,P=M.length-1;
if(O.length!=0){var y=O[0],F=this.$K[y],M=jo.o9(this.wp,F)[2],A=jo.getItem(this.wp,F);P=M.indexOf(A);
if(A[1]==null){M=A[2];P=M.length-1}}M.splice(P+1,0,s);this.Y=[jo.aIg(this.wp).indexOf(s)];this.gq();
this.AP(null,2);this.qr()};jo.prototype.awH=function(s){var M=jo.getItem(this.wp,this.$K[this.Y[0]]);
M[0]=s;this.gq();this.qr()};jo.prototype.ZG=function(s){this.wp=s;this.gq()};jo.prototype.qr=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.ko,dh:this.qV,hP:"mdf"};this.a(M)};jo.prototype.axi=function(s,M,O){for(var R=0;R<s.length;
R++){var P=s[R],y=P[0],F,A=P[1]==null;O.push(R);if(A){F=i.m("div","listitem head");i.P(F,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);  margin:1.5px;");
var h=i.m("div","headL");F.appendChild(h);h.appendChild(i.m("div",P[3]?"open":"closed"));h.appendChild(i.m("div","folder"));
var m=i.m("span");m.textContent=y;h.appendChild(m)}else{var Z=P[2],u=g5.Kd[this.qV],f=Math.floor(u[5]*i.yD()),U=Math.floor(i.yD()*u[6]);
if(Z==null)Z=P[2]=u[2].XB(P,f,U);F=i.m("img","image");F.setAttribute("src",Z);i.cq(F,f,U);if(this.P8==1){var C=i.m("div","listitem");
C.appendChild(F);C.style.height=u[6]+"px";var m=i.m("span");m.textContent=y;i.P(m,"margin-left:4px;");
C.appendChild(m);F=C}F.setAttribute("title",y)}M.appendChild(F);if(this.Y.indexOf(this.Z7.length)!=-1)i.cG(F,"selected");
this.Z7.push(F);this.$K.push(O.slice(0));F.addEventListener("mouseup",this.ahy,!1);F.setAttribute("draggable","true");
F.addEventListener("dragover",i.zZ,!1);F.addEventListener("dragstart",this.a7F,!1);F.addEventListener("drop",this.acN,!1);
if(A){var H=i.m("div");H.style.marginLeft="14px";if(P[3])M.appendChild(H);this.axi(P[2],H,O)}O.pop()}};
jo.prototype.gq=function(){var s=this.wp,M=this._;i.Lq(M);this.Z7=[];this.$K=[];this.axi(s,M,[])};jo.prototype.N6=function(s){var M=this.Z7.indexOf(s.currentTarget),O=jo.getItem(this.wp,this.$K[M]),P=O[1]==null,y=s.target.getAttribute("class"),F=this.Y,A=F.length,h=F.indexOf(M);
if(y=="open"||y=="closed")O[3]=!O[3];else if(s.button==0||h==-1){var m=window.__kb;if(m.D(hj.Y1)){var Z=Math.min(F[0],F[F.length-1],M),u=Math.max(F[0],F[F.length-1],M);
F=[];for(var R=Z;R<=u;R++)F.push(R)}else if(m.D(hj.yu)){if(h==-1)F.push(M);else F.splice(h,1)}else F=[M];
F.sort(function(H,t){return H-t});this.Y=F}this.gq();if(s.button==0&&!P&&F.length==1)this.a(new kg(z.E.n));
if(s.button==2){var f=this.zt;f.update(null);var U=i.iC(s,document.body),C=new kg(z.E.c,!0);C.data={Q:z.J.EU,uJ:f,x:U.x,y:U.y+2};
this.a(C)}};jo.prototype.V=function(){return jo.getItem(this.wp,this.$K[this.Y[0]])[1]};jo.prototype.q=function(s){this.aq2(["New item",s])};
jo.getItem=function(s,M){var O=["",null,s];for(var R=0;R<M.length;R++)O=O[2][M[R]];return O};jo.o9=function(s,M){var O=["",null,s];
for(var R=0;R<M.length-1;R++)O=O[2][M[R]];return O};jo.aIg=function(s){function M(P,y){for(var R=0;R<P.length;
R++){var F=P[R];y.push(F);if(F[1]==null)M(F[2],y)}}var O=[];M(s,O);return O};jo.AV=function(s,M,O){var P=[];
for(var y=M.length-1;y>=0;y--){var F=M[y],A=F[F.length-1],h=jo.o9(s,F);P.unshift(h[2][A]);if(!O)h[2].splice(A,1)}return P};
jo.qj=function(s,M){var O=[],P={};for(var R=0;R<s.length;R++){var y=M[s[R]],F=y.join(",")+",",A=!1;for(var h in P)if(F.startsWith(h))A=!0;
if(!A){P[F]=!0;O.push(y)}}return[O,P]};function ik(s,M,O,P,y,F,A){hV.call(this);this._=i.m("span","fitem "+O);
this.qV=F;this.L3=null;this.au=!0;this.Bk=null;this.dm=new hV;this.dm._=i.m("div","floatcont");this.cf=P;
this.dm.parent=this;this.aoZ=i.m("div");this.dm._.appendChild(this.aoZ);this.ER=i.m("div");this.dm._.appendChild(this.ER);
if(s){this.$D=s;this.S9=i.m("label","flabel");this._.appendChild(this.S9)}this.Q=i.m("button",A?"nopadding":"");
i.P(this.Q,"position:relative;");var h=this.kO.bind(this),m=this.T3.bind(this);i.dq(this.Q,M?m:h);this._.appendChild(this.Q);
this.nM=i.m("img",A?"gsicon":"");this.Q.appendChild(this.nM);if(M){var Z=i.m("button");Z.textContent="\u25BC";
i.dq(Z,h);this._.appendChild(Z)}else{var u=i.m("span");u.textContent="\u25BC";i.P(u,"position:absolute;  bottom:2px;  right:4px;");
this.Q.appendChild(u)}var f=this.ap9=i.m("span");this.ER.appendChild(f);i.P(f,"display:inline-block;  vertical-align:top;");
this._e=this.arf()?new jo(A,F):new ex(A,F);f.appendChild(this._e._);this._e.parent=this.dm;this._e.k(z.E.n,this.ek,this);
this._e.k("define_new",this.aJ5,this);this._e._.style.height=y+"px";this.rY=i.m("button");this.rY.textContent="\u25BC";
i.P(this.rY,"padding:3px");i.dq(this.rY,this.a6H.bind(this));this.ER.appendChild(this.rY);var U=this.tM(),C=this.aCj=F!=g5.KE&&F!=g5.VE?F:null,H=this.a2N=F==null?!1:g5.Kd[F][4]!=0,t=F==null?"":g5.Kd[F][0].toUpperCase(),X=[];
if(C)X.push({name:[12,87]});X.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],dc:!0});X.push({name:[[23,6],"."+(t=="ICC"?"icc .cube .look .3dl":t)]},{name:["VAR0 ."+t,[1,8]]},{name:[6,37]},{name:[5,4],dc:U.length!=0});
for(var R=0;R<U.length;R++)X.push({name:U[R].split("/").pop()});this.aEJ=X}ik.prototype=new hV;ik.prototype.arf=function(){var s=this.qV;
return s==g5.X1||s==g5.hL};ik.prototype.aJ5=function(){this._e.q(this.Bk)};ik.prototype.ek=function(s){this.q(s.target.V());
this.a(new kg(z.E.n))};ik.prototype.RP=function(){if(!this.au)return;this._e.ZG(this.L3,this);this.au=!1};
ik.prototype.q=function(s){this.Bk=a.G(s);this.uw()};ik.prototype.V=function(){return a.G(this.Bk)};
ik.prototype.uw=function(){};ik.prototype.tM=function(){return[]};ik.prototype.T3=function(){};ik.prototype.T=function(){this._e.T();
var s=this.$D;if(s)this.S9.textContent=aW.get(s)+":"};ik.prototype.x3=function(s){this.S9.textContent=s};
ik.prototype.cA=function(s){var M=this.qV,O=0;if(M==g5.WQ){O=this.L3?this.L3.length:0;s=s.slice(0)}this.L3=s;
this.au=!0;if(i.qE(this._e._)||M==g5.X1)this.RP();if(M==g5.WQ&&s.length-O==1&&i.qE(this._)){this.q(s[O]);
this.au=!0;this.RP();this._e.q([O]);this.a(new kg(z.E.n))}};ik.prototype.AP=function(s){var M=s.target.x2()[0];
if(this.aCj==null)M++;var O=new kg(z.E.c,!0);if(M==0){var P=this.Cv();if(this.qV==g5.WQ&&P[0].profile==null)return;
O.data={Q:z.J.ko,hP:"add",dh:this.aCj,BC:P}}else if(M==1)this._e.C8(1-this._e.aJY());else if(M<=5)this.cu(M-2);
else{var y=this.tM();O.data={Q:z.J.Xi,dh:{url:"rsrc/"+y[M-6]}}}if(O.data)this.a(O)};ik.prototype.cu=function(s){var M=new kg(z.E.c,!0),O=this._e.V(),P={Q:z.J.ko,dh:this.qV,EL:O};
if(s>1&&O.length==0){alert("No items selected");return}if(s==0)M.data={Q:z.J.Fw};else if(s==1)M.data={Q:z.J.Ty,azy:this.qV,EL:O.length==0?null:O};
else if(s==2){var y=this._e.RQ[1][O[0]],F=y.split("/");if(F.length==2){P.a6R=F[0]+"/";y=F[1]}P.hP="rnm";
M.data={Q:z.J.xL,Rj:"namewindow",dK:y,WC:{g:z.E.c,d:P}}}else if(s==3){M.data=P;P.hP="del"}this.a(M)};
ik.prototype.Cv=function(){return[this.V()]};ik.prototype.a6H=function(s){var M;s.stopPropagation();
if(this.arf())M=this._e.ayq();else{if(this.zt==null){this.zt=new kA(this.aEJ);this.zt.parent=this.dm;
this.zt.k("select",this.AP,this)}M=this.zt}if(i.qE(M._))return;M.T();M.update(null);var O=s.currentTarget.getBoundingClientRect(),P=new kg(z.E.c,!0);
P.data={Q:z.J.EU,uJ:M,x:O.left,y:O.top+O.height};this.a(P)};ik.prototype.kO=function(s,M,O){if(i.qE(this.dm._))return;
if(s)s.stopPropagation();this.RP();if(M==null){var P=this.Q.getBoundingClientRect(),M=P.left,O=P.top+P.height}this.GK();
var y=new kg(z.E.c,!0);y.data={Q:z.J.EU,uJ:this.dm,x:M,y:O,LU:!0};this.a(y)};ik.prototype.GK=function(s,M){var s=Math.min(this.cf,window.innerWidth-40);
this.ap9.style.width=s+"px";this.dm._.style.width=s+20+"px"};ik.prototype.ajT=function(s,M){this.kO(null,s,M)};
function aZ(){hV.call(this);this._=i.m("div");this.FO=!1;this.Z7=[new d_([12,19,1],[[13,1,7]].concat(ak.Vs)),new kX([17,1]),new kX([12,46])];
for(var R=0;R<3;R++){var s=this.Z7[R];this._.appendChild(s._);s.k(z.E.n,this.qP,this)}this.T()}aZ.prototype=new hV;
aZ.prototype.T=function(){for(var R=0;R<3;R++)this.Z7[R].T()};aZ.prototype.V=function(){return this.FO.slice(0)};
aZ.prototype.q=function(s){this.FO=s.slice(0);var M=this.Z7,O=M[0].V();M[1].q(s.slice(O*8,O*8+4),O);
M[2].q(s.slice(O*8+4,O*8+8),O)};aZ.prototype.qP=function(s){var M=this.Z7,O=M.indexOf(s.currentTarget);
if(O==0)this.q(this.FO);else{var P=M[0].V()*8+(O==1?0:4),y=M[O].V();for(var R=0;R<4;R++)this.FO[P+R]=y[R];
this.a(new kg(z.E.n,!1))}};function kX(s){hV.call(this);this._=i.m("div");this.Tb=i.m("canvas");this.$0=s;
this.FO=[0,20,200,255];this.nW=0;this.Fl=-1;this.aA5=[];for(var R=0;R<5;R++){var M=i.m("span");i.P(M,"display:inline-block;width:"+(R==0?8:R==2?7:2)+"em");
this.aA5.push(M);this._.appendChild(M)}this.bL=this.rW.bind(this);this.AF=this.Sd.bind(this);this.$$=this.gF.bind(this);
i.o0(this.Tb);i.dq(this.Tb,this.bL);this._.appendChild(this.Tb);this.gq()}kX.prototype=new hV;kX.prototype.T=function(){this.gq()};
kX.prototype.q=function(s,M){this.FO=s;this.nW=M;this.gq()};kX.prototype.V=function(){return this.FO.slice(0)};
kX.prototype.rW=function(s){var M=this.FO,O=i.iC(s,this.Tb),P=O.x-8,y=-1,F=1e9;for(var R=0;R<4;R++){var A=P-M[R],h=Math.abs(A);
if(h<8&&h<F&&((R&1)==0&&A<0||(R&1)==1&&A>0)){F=A;y=R}}if(y==-1)return;this.Fl=y;this.aGs=window.__kb.D(hj.tT)||M[(y>>>1)*2]!=M[(y>>>1)*2+1];
i.Qj(window,this.AF);i.gE(window,this.$$)};kX.prototype.Sd=function(s){var M=this.FO,O=this.Fl,P=(O>>>1)*2,y=P+1,F=i.iC(s,this.Tb),A=Math.round(Math.max(0,Math.min(255,F.x-8)));
M[O]=A;if(this.aGs&&M[P]>=M[y])this.aGs=!1;if(!this.aGs)M[P]=M[y]=A;this.gq();this.a(new kg(z.E.n,!1))};
kX.prototype.gF=function(s){i.GE(window,this.AF);i.bY(window,this.$$)};kX.prototype.gq=function(){var s=this.Tb;
i.MQ(s,255+16,16);var M=s.getContext("2d"),O=s.width,P=s.height,y=Math.round(255*i.yD()),F=Math.round(8*i.yD());
M.translate(F,0);var A=M.createLinearGradient(0,0,y,0);A.addColorStop(0,"black");A.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.nW]);
M.fillStyle=A;M.fillRect(0,0,y,F);var h=this.aA5,m=aW.get(this.$0)+":";h[0].textContent=m;for(var R=0;
R<4;R++){var Z=this.FO[R];h[1+R].textContent=Z;var u=Math.round(Z*i.yD());M.beginPath();M.moveTo(u,F);
M.lineTo(u,F+F);M.lineTo(u+((R&1)==0?-1:1)*F,F+F);M.closePath();M.fillStyle=R<2?"#666666":"#cccccc";
M.fill();M.strokeStyle="black";M.stroke()}};function gK(s,M,O){hV.call(this);if(O==null)O=!1;this.K=[0,0,1];
this.auN=M;this.a01=O;this.Yv=0;var P="ai"+i.zX();this._=i.m("span","fitem angleinput");if(s){this.S9=i.m("label","flabel");
this.$D=s;this._.appendChild(this.S9);this.S9.setAttribute("for",P)}this.jK=O?44:20;this.Tb=i.m("canvas","gsicon");
this.KM=this.Tb.getContext("2d");i.o0(this.Tb);i.MQ(this.Tb,this.jK*2+1,this.jK*2+1);this.KM.scale(i.yD(),i.yD());
this._.appendChild(this.Tb);i.dq(this.Tb,this.Ym.bind(this));this.eQ=this.Os.bind(this);this.zG=this.Ub.bind(this);
var y=this.nS.bind(this),F=i.m("div");i.P(F,"display:inline-block;  vertical-align:middle;");if(!O)this._.appendChild(F);
this.JV=[];for(var R=0;R<2;R++){var A=i.m("input");this.JV.push(A);A.setAttribute("type","text");i.c0(A);
if(R==0)A.setAttribute("id",P);A.addEventListener("change",y,!1);var h=i.m("span");h.textContent="\xB0";
if(R==0||M){F.appendChild(A);F.appendChild(h);i.QP(F)}}this.q(this.K)}gK.prototype=new hV;gK.prototype.T=function(){if(this.$D)this.S9.textContent=aW.get(this.$D)+":"};
gK.prototype.x3=function(s){this.S9.textContent=s};gK.prototype.V=function(){return this.K.slice(0)};
gK.prototype.q=function(s,M){var O=this.K;s=s.slice(0);if(s[0]==null)s[0]=O[0];if(s[1]==null)s[1]=O[1];
if(s[2]==null)s[2]=O[2];this.K=s;var P=s[0],y=s[1],F=s[2],A=this.auN,h=this.a01,m=this.jK*.85;if(!A)y=0;
this.JV[0].value=P;this.JV[1].value=y;var Z=this.KM;Z.clearRect(0,0,100,100);P=Math.PI*P/180;y=m*(90-y)/90;
var u=this.jK+.5;Z.save();Z.translate(u,u);Z.rotate(-P);Z.strokeStyle="rgba(0,0,0,0.5)";Z.beginPath();
Z.ellipse(0,0,m,m*F,0,0,2*Math.PI);if(h){Z.moveTo(0,-m*F);Z.lineTo(0,m*F);Z.moveTo(-y,0)}else Z.moveTo(0,0);
Z.lineTo(y,0);Z.stroke();var f=this.jK*.15;Z.fillStyle="black";Z.beginPath();if(h){Z.arc(0,-m*F,f*.66,0,2*Math.PI);
Z.arc(0,m*F,f*.66,0,2*Math.PI)}if(A){Z.arc(y,0,f*.4,0,2*Math.PI)}else{Z.moveTo(u-f,-f*.66);Z.lineTo(u,0);
Z.lineTo(u-f,f*.66)}Z.fill();Z.restore();if(M)this.nS()};gK.prototype.nS=function(s){var M=parseInt(this.JV[0].value);
if(isNaN(M))M=0;var O=parseInt(this.JV[1].value);if(isNaN(O))O=0;M=M%360;O=O%360;this.q([M,O]);this.a(new kg(z.E.n,!1))};
gK.prototype.Ym=function(s){i.Qj(window,this.eQ);i.gE(window,this.zG);var M=i.iC(s,this.Tb),u=0,f=1e9;
M.x-=this.jK;M.y-=this.jK;var O=this.K,P=O[0]*Math.PI/180,y=(90-O[1])/90,F=O[2],A=this.jK*.85,h=Math.sin(-P),m=Math.cos(-P),Z=[new j6(m*A,h*A)];
if(this.a01)Z.push(new j6(-h*A*F,m*A*F),new j6(h*A*F,-m*A*F));for(var R=0;R<Z.length;R++){var U=j6.gp(M,Z[R]);
if(U<f){f=U;u=R}}this.Yv=u;if(u==0)this.Os(s)};gK.prototype.Os=function(s){var M=i.iC(s,this.Tb),O=this.Yv,P=[],y=M.x-this.jK,F=M.y-this.jK,A=this.jK*.85;
if(O==0){var h=180*Math.atan2(-F,y)/Math.PI,m=90-90*Math.min(1,Math.sqrt(y*y+F*F)/A);if(s.shiftKey)h=Math.round(h/15)*15;
P=[Math.round(h),Math.round(m)]}else P=[null,null,Math.max(.01,Math.min(1,Math.sqrt(y*y+F*F)/A))];this.q(P);
this.a(new kg(z.E.n,!1))};gK.prototype.Ub=function(s){this.a(new kg(z.E.n,!1));i.GE(window,this.eQ);
i.bY(window,this.zG)};function dT(s,M){hV.call(this);this.FO=0;this.K6=M;this._=i.m("span","fitem angleinput");
if(s){this.S9=i.m("label","flabel");this.$D=s;this._.appendChild(this.S9)}this.Tb=i.m("canvas","gsicon");
this.KM=this.Tb.getContext("2d");i.MQ(this.Tb,M,M);this._.appendChild(this.Tb);i.o0(this.Tb);i.dq(this.Tb,this.Ym.bind(this));
this.eQ=this.Os.bind(this);this.zG=this.Ub.bind(this);this.q(0)}dT.prototype=new hV;dT.prototype.T=function(){if(this.$D)this.S9.textContent=aW.get(this.$D)+":"};
dT.prototype.x3=function(s){this.S9.textContent=s};dT.prototype.V=function(){return this.FO};dT.prototype.atv=function(s){var M=this.FO,O=Math.floor(M/3),P=M-O*3;
P=Math.max(0,Math.min(2,P+s.x));O=Math.max(0,Math.min(2,O+s.y));this.q(O*3+P)};dT.prototype.q=function(s){this.FO=s;
var M=this.Tb.width,O=Math.floor(s/3),P=s-3*O,y=(P+.5)*M/3,F=(O+.5)*M/3,A=this.KM,h=[.5,Math.round(M/3)+.5,Math.round(2*M/3)+.5,M-.5];
A.clearRect(0,0,M,M);var m=this.K6<30;A.setLineDash([]);A.strokeStyle=m?"rgba(0,0,0,0.5)":"#000000";
A.beginPath();for(var R=0;R<4;R++){var Z=h[R];A.moveTo(Z,0);A.lineTo(Z,M);A.moveTo(0,Z);A.lineTo(M,Z)}A.stroke();
if(s==9)return;if(!m){A.setLineDash([1,2]);var u=M*.53,f=Math.max(0,Math.min(M-u,y-u/2)),U=Math.max(0,Math.min(M-u,F-u/2));
A.strokeRect(Math.round(f)+.5,Math.round(U)+.5,Math.round(u),Math.round(u))}A.fillStyle="#000000";A.beginPath();
A.arc(y,F,M/8,0,Math.PI*2);A.fill()};dT.prototype.Ym=function(s){i.Qj(document.body,this.eQ);i.gE(document.body,this.zG);
this.Os(s)};dT.prototype.Os=function(s){var M=i.iC(s,this.Tb),O=Math.max(0,Math.min(2,Math.floor(M.x/(this.K6/3)))),P=Math.max(0,Math.min(2,Math.floor(M.y/(this.K6/3))));
this.q(P*3+O)};dT.prototype.Ub=function(s){this.a(new kg(z.E.n,!1));i.GE(document.body,this.eQ);i.bY(document.body,this.zG)};
function gg(hS){hV.call(this);this._=i.m("span","fitem cswatch");this.aEt=0;this.D5=[];this.AD=[];var s=this.aA1.bind(this);
for(var R=0;R<hS;R++){this.D5.push(0);var M=i.m("span","colorsample");M.addEventListener("click",s,!1);
this.AD.push(M);this._.appendChild(M)}var O=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],P=Math.min(hS,O.length);
for(var R=0;R<P;R++)this.D5[R]=O[R];this.RB()}gg.prototype=new hV;gg.prototype.aA1=function(s){this.aEt=this.AD.indexOf(s.currentTarget);
this.a(new kg(z.E.n))};gg.prototype.V=function(){return this.D5[this.aEt]};gg.prototype.q=function(s){var M=this.D5,O=M.indexOf(s);
if(O!=-1)M.splice(O,1);else M.pop();M.unshift(s);this.RB()};gg.prototype.RB=function(){for(var R=0;R<this.D5.length;
R++){i.P(this.AD[R],"background-color:#"+a.Rr(this.D5[R]))}};function aI(s){hV.call(this);this.fS={o:0,R:0,X:0};
this.jG=s;this._=i.m("span","fitem colorsample bbtn");this._.addEventListener("click",this.FY.bind(this),!1)}aI.prototype=new hV;
aI.prototype.T=function(){};aI.prototype.FY=function(s){var M=this.fS;this.a(new kg("click"));var O=new kg(z.E.c,!0);
O.data={Q:z.J.xL,Rj:"colorpicker",mY:a.DU(M),h3:this._W.bind(this),Pq:this.jG};this.a(O)};aI.prototype._W=function(s){this.ZS(s);
this.a(new kg(z.E.n))};aI.prototype.tU=function(){this.FY(null)};aI.prototype.yl=function(){var s=this.fS;
return s.o<<16|s.R<<8|s.X};aI.prototype.V=function(){return a.wv.gN(this.fS)};aI.prototype.ZS=function(s){this.fS=a.Aj(s);
this.ak7()};aI.prototype.q=function(s){this.fS=a.wv.sl(s);this.ak7()};aI.prototype.ak7=function(){var s=this.fS,M=s.o,O=s.R,P=s.X,y=M<<16|O<<8|P;
i.P(this._,"background-color:#"+a.Rr(y))};function ap(){hV.call(this);this.sD=!1;this.n4=20;this.arx=10;
this._k=0;this.sD=!1;this.ay_={o:255,R:0,X:0};this.aLF={o:0,R:0,X:0};this.f=null;this.lX=null;this.sB=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];
this._=i.m("canvas");this.gq();i.o0(this._);i.dq(this._,this.bL.bind(this))}ap.prototype=new hV;ap.prototype.a1Z=function(s){if(this.sD==s)return;
this.sD=s;this.gq()};ap.prototype.T=function(){};ap.prototype.aHw=function(s,M){function O(P){return{o:P>>16&255,R:P>>8&255,X:P&255}}if(s!=null)this.ay_=O(s);
if(M!=null)this.aLF=O(M);this.gq()};ap.prototype.aJG=function(s,M){this.f=s;this.lX=M;this.gq()};ap.prototype.bL=function(s){var M=i.iC(s,this._),O=M.x*i.yD(),P=M.y*i.yD(),y=this.n4,F=this.arx,A=0;
if(P>y){A=4+Math.floor(3*O/y)}else if(O<F&&P<F){A=0}else if(O>y-F&&P>y-F){A=1}else if(O<F){A=2}else{A=3}this.tU(A)};
ap.prototype.tU=function(s){var M=this.f,O=new kg(z.E.c,!0);if(s>1){if(dc==0)O.data={Q:z.J.ko,dh:g5._2,tW:s};
else{var P=a.G(M.S0);if(s==2){var y=P.Jc;P.Jc=P.Tq;P.Tq=y}if(s==3){P.Tq=[1,1,1];P.Jc=[0,0,0]}if(s>=4){var F=this.sB[s-4];
if(this._k==0)P.Tq=F;else P.Jc=F}O.data={Q:z.J.ko,dh:g5.vb,K:P}}}else{var A=this._W.bind(this),h=this._k;
this._k=s;if(dc==0){var m=s==0?this.ay_:this.aLF;O.data={Q:z.J.xL,Rj:"colorpicker",mY:a.DU(m),h3:A}}else{if(h!=s){this.gq();
return}var Z=s==0?M.S0.Tq:M.S0.Jc;if(Z.length==0)Z=[0,0,0];ap.a4X(Z,this,A);return}}this.a(O)};ap.prototype._W=function(s){var M=new kg(z.E.c,!0),O=this._k,P=this.f;
if(dc==0)M.data={Q:z.J.ko,dh:g5._2,tW:O,K:s};else{var y=s;if(typeof s=="number"){y=a.Aj(s,1);y=[y.o,y.R,y.X]}var F=a.G(P.S0);
if(O==0)F.Tq=y;else F.Jc=y;M.data={Q:z.J.ko,dh:g5.vb,K:F}}this.a(M)};ap.prototype.gq=function(){var s=this._,M=s.getContext("2d"),O=i.yD(),O=i.yD(),P=this.n4=Math.floor(34*O),y=Math.floor((P-2)/3),F="#aaaaaa",A=.62;
s.width=P;s.height=P+dc*(y+9);i.K8(s);s.style.cursor="pointer";var P=this.n4=s.width,h=this.arx=Math.round(P*A);
function m(L,E){var _=L.o,S=L.R,W=L.X;if(E)_=S=W=Math.round(a.w6(_,S,W));var g=_<<16|S<<8|W;return"#"+a.Rr(g)}function Z(M,U,L,E,_,S){M.beginPath();
if(E>=S*2&&_>=S*2){M.moveTo(U+S,L);M.lineTo(U+E-S,L);M.quadraticCurveTo(U+E,L,U+E,L+S);M.lineTo(U+E,L+_-S);
M.quadraticCurveTo(U+E,L+_,U+E-S,L+_);M.lineTo(U+S,L+_);M.quadraticCurveTo(U,L+_,U,L+_-S);M.lineTo(U,L+S);
M.quadraticCurveTo(U,L,U+S,L)}M.closePath()}function u(U,L,h,E,_){M.strokeStyle=_?_:"black";M.fillStyle=E;
Z(M,U+.5,L+.5,h-1,h-1,h*.2);M.fill();M.stroke()}var f=this.f;if(f){M.beginPath();var U=P-h,C=Math.floor(h*.28),H=h-2*C;
M.lineWidth=1;M.strokeStyle="white";if(this._k==0)ap.OO(M,f.S0.Jc,this.lX,h,h,U,U,!0);ap.OO(M,f.S0.Tq,this.lX,h,h,0,0);
if(this._k==1)ap.OO(M,f.S0.Jc,this.lX,h,h,U,U,!0);for(var R=0;R<3;R++){M.beginPath();ap.OO(M,this.sB[R],this.lX,y,y,R*(y+1),P+9,!1)}}else{u(P-h,P-h,h,m(this.aLF,this.sD));
u(0,0,h,m(this.ay_,this.sD))}var t=P-h,X=Math.round(t*A);u(P-X,t-X,X,dc==0?"white":"black",F);u(P-t,0,X,dc==0?"black":"white",F);
M.save();M.fillStyle=F;M.translate(0,P);M.rotate(-Math.PI/2);t=P-h;var Q=Math.round(t*.28),D=Math.round(t*.25);
for(var R=0;R<2;R++){M.fillRect(Q,Q,t-Q,1);M.beginPath();M.moveTo(t-D,Q+.5-D);M.lineTo(t,Q+.5);M.lineTo(t-D,Q+.5+D);
M.closePath();M.fill();M.transform(0,1,1,0,0,0)}M.restore()};ap.a4X=function(s,M,O){var P=new kg(z.E.c,!0);
if(s.length==3)P.data={Q:z.J.xL,Rj:"colorpicker",mY:a.DU({o:s[0]*255,R:s[1]*255,X:s[2]*255}),h3:O};else P.data={Q:z.J.xL,Rj:"vgradienteditor",K:s,h3:O};
M.a(P)};ap.OO=function(s,M,O,P,y,F,A,h){function m(t,X){return CSS.vh({o:t[0]*255,R:t[1]*255,X:t[2]*255},X)}if(M==null){s.fillStyle="#888888";
s.clearRect(F,A,P,y);s.font=Math.round(y*.6*(h?.5:1))+"px sans-serif";s.fillStyle="white";if(h){s.fillText("?",F+P*.05,A+y*.3);
s.fillText("?",F+P*.8,A+y*.3);s.fillText("?",F+P*.05,A+y*.9);s.fillText("?",F+P*.8,A+y*.9)}else s.fillText("?",P*.36,y*.7)}else if(M.length==0){s.fillStyle="#ffffff";
s.fillRect(F,A,P,y);s.strokeStyle="#ff0000";s.lineWidth=2;s.moveTo(F,A);s.lineTo(F+P,A+y);s.moveTo(F,A+y);
s.lineTo(F+P,A);s.stroke()}else if(M.length==3){s.fillStyle=m(M);s.fillRect(F,A,P,y)}else if(M.length==4){var Z=F+P/2,u=A+y/2,f=M[0]==0?s.createLinearGradient(F,A,F+P,A):s.createRadialGradient(Z,u,0,Z,u,P/2);
a.wv.rO(f,M[1]);s.fillStyle=f;s.fillRect(F,A,P,y)}else if(M.length==2&&O){var U=O.Sn[M[0]];s.save();
s.fillStyle="white";s.fillRect(F,A,P,y);s.rect(F,A,P,y);s.scale(P/U.A,y/U.$);s.fillStyle=U.aLo;s.fill();
s.restore()}s.lineWidth=1;s.strokeStyle="white";s.strokeRect(F+.5,A+.5,P-1,y-1);if(h){var C=Math.floor(P*.28),H=P-2*C;
s.clearRect(F+C,F+C,H,H);s.strokeRect(F+C+.5,F+C+.5,H-1,H-1)}};function g9(){hV.call(this);this._=i.m("button","fitem bbtn");
this._.textContent="\u25A6";this.jY=[];this.YH=[];var s=i.m("span","rangecontFloat padded");i.P(s,"position:absolute; width:205px; z-index:2;  padding-right:0px; padding-top:6px;  padding-right:6px;");
this.rU=new d_("Palette",[]);this.H1=new ex;this.H1.parent=this;this.H1._.style.height="100px";this._q=new hH("RGBA",null,9);
this.agw=new aI;this.Fs=new fU([5,3],null,null,!0);this.wZ=new fU([5,4],null,null,!0);this.aK1=new fU([1,0],null,null,!0);
this.oL=new fU([1,2],null,null,!0);this.aet=new fU([5,8],!0,null,!0);var M=i.m("div","form"),O=[this.rU,this.H1,this._q,this.Fs,this.wZ,this.aK1,this.oL,this.aet];
for(var R=0;R<O.length;R++){var P=O[R];P.parent=this;P.k(P instanceof fU?"click":z.E.n,this.qr,this);
if(R<=1){s.appendChild(P._);s.appendChild(M)}else M.appendChild(P._)}var y=new hV;y._=s;var F=this;this._.addEventListener("click",function(A){var h=F._.getBoundingClientRect(),m=new kg(z.E.c,!0);
m.data={Q:z.J.EU,uJ:y,x:h.left,y:h.top+20};F.a(m)});this.RB()}g9.prototype=new hV;g9.prototype.qr=function(s){var M=s.target,O=this.H1.V()[0];
if(M==this.rU){var P=M.V();if(P==0)return;else if(P<5)this.jY=iU.abW(P-1);else this.jY=a.G(this.YH[P-5])}else this.rU.q(0);
if(M==this.H1){var y=this.jY[O][1];this._q.q([y.o,y.R,y.X,y.cd].map(Math.round).join(" "));this.agw.ZS(a.DU(y));
return}if(M==this._q){var F=M.V().split(" ").map(parseFloat);this.jY[O][1]={o:F[0],R:F[1],X:F[2],cd:F[3]}}if(M==this.agw){var F=a.Aj(M.yl()),A=this.jY[O][1];
A.o=F.o;A.R=F.R;A.X=F.X}if(M==this.Fs)this.jY.push(["",{o:0,R:0,X:0,cd:255}]);if(M==this.wZ){var h=this.H1.V(),m=[];
for(var R=0;R<this.jY.length;R++)if(h.indexOf(R)==-1)m.push(this.jY[R]);this.jY=m}if(M==this.aK1){var Z=new kg(z.E.c,!0);
Z.data={Q:z.J.Fw};this.a(Z)}if(M==this.oL)cD.save(cQ.mK([this.jY]),"table.act");if(M==this.aet){this.a(new kg(z.E.n,!1));
return}this.RB()};g9.prototype.V=function(){return a.G(this.jY)};g9.prototype.q=function(s){s=this.jY=a.G(s);
this.RB()};g9.prototype.RB=function(){var s=[];for(var R=0;R<this.YH.length;R++)s.push("Palette "+(R+1)+" ("+this.YH[R].length+" colors)");
var M=["Custom"].concat(iU.aBB).concat(s),O=this.rU.V();this.rU.ZG(M);this.rU.q(Math.min(O,M.length-1));
var P=this.jY,y=[],F=Math.round(20*i.yD()),A=F;P.sort(function(m,Z){m=m[1];Z=Z[1];if(m.cd!=Z.cd)return m.cd-Z.cd;
return a.bz(m)-a.bz(Z)});for(var R=0;R<P.length;R++){var h=iy.XB(P[R],F,A);y.push(h)}this.H1.KC(y,null,F,A)};
g9.prototype.qy=function(s,M){this.YH=s.a4S;if(M==g5.rT||M==g5.GV)this.RB()};function g8(s){ik.call(this,s,!1,"brushbutton nopadding",19*13,10*13,g5.pr,!0);
var M=this.aoZ;i.cG(M,"flexrow");var O=i.m("div");M.appendChild(O);var P=i.m("div");M.appendChild(P);
i.P(P,"margin-left:8px");this.us=new gK(null,null,!0);this.us.k(z.E.n,this.C1,this);O.appendChild(this.us._);
this.sY=new jH([12,14,0],1,1e3," px",0,!0);this.sY.k(z.E.n,this.C1,this);P.appendChild(this.sY._);this.wg=new jH([12,17],0,100,"%");
this.wg.k(z.E.n,this.C1,this);P.appendChild(this.wg._);this.Ig=new d5(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.Ig.k(z.E.n,this.C1,this);P.appendChild(this.Ig._)}g8.prototype=new ik;g8.prototype.tM=function(){var s=["pencil","trees"];
for(var R=0;R<s.length;R++)s[R]="brushes/"+s[R]+".abr";return s};g8.prototype.q=function(s,M,O){this.Bk=a.G(s);
var P=Math.floor(20*i.yD()),y=Math.floor(36*i.yD()),F=Math.floor(24*i.yD()),A=du.XB(s,M,O,P,F,y);this.nM.setAttribute("src",A);
i.cq(this.nM,y,F);var h=s.Brsh.v;this.sY.q(h.Dmtr.v.val);if(h.Hrdn!=null){this.wg.Zc();this.wg.q(h.Hrdn.v.val)}else this.wg.XX();
if(h.Angl!=null)this.us.q([h.Angl.v.val]);if(h.Rndn!=null)this.us.q([null,null,h.Rndn.v.val/100]);var m=[!1,!1];
if(s.opVr)m[0]=s.opVr.v.bVTy.v==2;if(s.szVr)m[1]=s.szVr.v.bVTy.v==2;this.Ig.q(m)};g8.prototype.Cv=function(){return{list:[{t:"Objc",v:this.V()}],nt:[],hx:[]}};
g8.prototype.V=function(){return this.Bk};g8.prototype.RP=function(){if(!this.au)return;var s=[],M=[],O=this.L3,P=Math.floor(33*i.yD()),y=Math.floor(40*i.yD());
for(var R=0;R<O.list.length;R++){var F=O.list[R].v,A=du.XB(F,O.nt,O.hx,P,y);s.push(A);M.push(F.Nm.v)}this._e.KC(s,M,P,y);
this.au=!1};g8.prototype.ek=function(s){var M=this.L3;this.q(M.list[this._e.V()[0]].v,M.nt,M.hx);this.a(new kg(z.E.n))};
g8.prototype.T=function(){ik.prototype.T.call(this);this.us.T();this.sY.T();this.wg.T()};g8.prototype.C1=function(s){var M=this.L3,O=this.Bk,P=O.Brsh.v;
P.Dmtr.v.val=this.sY.V();if(P.Hrdn!=null)P.Hrdn.v.val=this.wg.V();if(P.Angl!=null)P.Angl.v.val=this.us.V()[0];
if(P.Rndn!=null)P.Rndn.v.val=Math.round(this.us.V()[2]*100);if(s.target==this.Ig)fO.att(O,this.Ig.V());
this.q(O,M.nt,M.hx);this.a(new kg(z.E.n))};function iE(s){ik.call(this,s,!0,"contourbutton",17*13,10.5*13,g5.cR)}iE.prototype=new ik;
iE.prototype.ek=function(s){this.q(this.L3[s.target.V()]);this.a(new kg(z.E.n))};iE.prototype.T3=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.xL,Rj:"contoureditor",SB:this.Bk,response:this.ahs.bind(this)};this.a(M)};iE.prototype.ahs=function(s){this.q(s);
this.a(new kg(z.E.n))};iE.prototype.RP=function(){if(!this.au)return;var s=Math.floor(38*i.yD()),M=Math.floor(38*i.yD()),O=[],P=[],y=this.L3;
for(var R=0;R<y.length;R++){P.push(y[R].Nm?y[R].Nm.v:"");O.push(a.Vt.XB(y[R].Crv.v,s,M))}this._e.KC(O,P,s,M);
this.au=!1};iE.prototype.q=function(s){this.Bk=a.G(s);var M=this.Bk.Crv.v;for(var R=0;R<M.length;R++)if(M[R].v.Cnty==null)M[R].v.Cnty={t:"bool",v:!0};
this.uw()};iE.prototype.uw=function(){var s=Math.floor(30*i.yD()),M=Math.floor(30*i.yD()),O=a.Vt.XB(this.Bk.Crv.v,s,M);
this.nM.setAttribute("src",O);i.cq(this.nM,s,M)};function fh(s){hV.call(this);this.aX=null;this.f=null;
this.ZK=null;this.SX=null;this.aui=[];this.atl=[];this._=i.m("span","fitem fillbutton");this.dm=new hV;
this.dm._=i.m("div","floatcont form");i.P(this.dm._,"width: 21em;");this.dm.parent=this;this.Ei=s;this.S9=this.S9=i.m("label","flabel");
this._.appendChild(this.S9);this.Tb=i.m("canvas");this.KM=this.Tb.getContext("2d");this.a5R=null;this._.appendChild(this.Tb);
i.dq(this.Tb,this.kO.bind(this));this.eV=new e0([12,66],["","Color","Grad","Patt"]);this.dm._.appendChild(this.eV._);
this.eV.k(z.E.n,this.qP,this);this.dm._.appendChild(i.m("hr"));this.a0R=i.m("span");this.$w=new aI(!0);
this.$w.parent=this.dm;this.$w.k(z.E.n,this.qP,this);this.a82=new gg(10);this.a82.k(z.E.n,this.qP,this);
this.OE=i.m("div","marged hiline");this.OE.appendChild(this.$w._);i.QP(this.OE);this.OE.appendChild(this.a82._);
this.E2=new fD("GrFl",!0);this.E2.parent=this.dm;this.E2.k(z.E.n,this.qP,this);this.en=i.m("div","marged hiline");
var M="Grad Type Algn Angl Rvrs Scl gradientsInterpolationMethod Ofst".split(" ");for(var R=0;R<M.length;
R++){var O=this.E2.DD[M[R]]._;this.en.appendChild(O)}this.nT=new fD("patternFill",!0);this.nT.parent=this.dm;
this.nT.k(z.E.n,this.qP,this);this.z_=i.m("div","marged hiline");var M=["Ptrn","Angl","Scl","Algn","phase"];
for(var R=0;R<M.length;R++){var O=this.nT.DD[M[R]]._;this.z_.appendChild(O)}}fh.prototype=new hV;fh.prototype.qy=function(s,M){var O=jB.eP(s,M);
if(M==g5.fV){this.aui=[];this.atl=[];if(this.aX)this.q(this.ZK,this.V(),this.aX)}this.f=s;this.E2.qy(s,M);
this.nT.qy(s,M)};fh.prototype.T=function(){this.S9.textContent=aW.get(this.Ei)+": ";this.eV.T();this.$w.T();
this.E2.T();this.nT.T()};fh.prototype.qP=function(s){var M=s.currentTarget;if(M==this.eV){var O=this.eV.V(),P={tn:O,Rw:this.aX[O]};
if(O>0&&P.Rw==null)P.Rw=a.G(aV.Qp[O-1]);if(this.aX)this.q(this.ZK,P,this.aX)}if(M==this.a82)this.$w.ZS(M.V());
this.a(new kg(z.E.n,!1))};fh.prototype.kO=function(s){if(i.qE(this.dm._))return;s.stopPropagation();
var M=[[13,1,0],[13,0],[12,37],[12,62]],O=this.aX,P=this.aui,y=this.atl,F=!1;for(var R=0;R<4;R++){var A={tn:R,Rw:O[R]},h=fh.a6W(A);
if(y[R]==h)continue;F=!0;var m=fh.aDO(null,A,this.f,this.ZK,22,22,!1);P[R]="<img width=\"22\" height=\"22\" src=\""+m+"\" />";
y[R]=h}if(F)this.eV.ZG(P,M);var Z=this.Tb.getBoundingClientRect(),u=new kg(z.E.c,!0);u.data={Q:z.J.EU,uJ:this.dm,x:Z.left,y:Z.top+Z.height+4};
this.a(u)};fh.prototype.q=function(s,M,O){this.aX=O;this.ZK=s;this.eV.q(M.tn);var P=fh.a6W(M),y;if(P!=this.a5R)fh.aDO(this.KM,M,this.f,this.ZK,30,23,!0);
this.a5R=P;var F=M.tn;if(F==0){y=this.a0R}if(F==1){this.$w.q(M.Rw.Clr.v);y=this.OE}if(F==2){this.E2.update(s,M.Rw);
y=this.en}if(F==3){this.nT.update(s,M.Rw);y=this.z_}if(y!=this.SX){if(this.SX!=null){this.dm._.removeChild(this.SX)}this.dm._.appendChild(y);
this.SX=y}};fh.prototype.V=function(){var s={tn:this.eV.V()};if(s.tn==1){s.Rw=a.G(aV.Qp[0]);s.Rw.Clr.v=this.$w.V()}if(s.tn==2){s.Rw=this.E2.V()}if(s.tn==3){s.Rw=this.nT.V()}return s};
fh.a6W=function(s){var M=s.tn,O=s.Rw,P="empty";if(M==1){P=a.wv.sl(O.Clr.v);P=P.o+","+P.R+","+P.X}if(M==2)P=JSON.stringify(O.Grad.v);
if(M==3)P=O.Ptrn.v.Idnt.v;return P};fh.aDO=function(s,M,O,P,y,F,A){if(s==null)s=fh.KM;var h=Math.floor(y*i.yD()),m=Math.floor(F*i.yD()),Z=s.canvas;
Z.width=h;Z.height=m;i.cq(Z,h,m);fh.auJ(s,M,O,P,h,m);if(A){s.beginPath();s.strokeStyle="#000000";s.fillStyle="#ffffff";
s.lineWidth=2;var u=h*.7,f=Math.floor(m*.7),U=7*i.yD();s.moveTo(u,f);s.lineTo(u+U,f);s.lineTo(u+U/2,f+U/2);
s.closePath();s.stroke();s.fill()}if(s==fh.KM)return Z.toDataURL()};fh.KM=i.m("canvas").getContext("2d");
fh.auJ=function(s,M,O,P,y,F,A,h){if(A==null)A=0;if(h==null)h=0;var m=M.tn;if(m==0){s.fillStyle="#ffffff";
s.fillRect(A,h,y,F);s.strokeStyle="#ff0000";s.lineWidth=2;s.moveTo(A,h);s.lineTo(A+y,h+F);s.moveTo(A,h+F);
s.lineTo(A+y,h);s.stroke()}if(m==1){var Z=M.Rw.Clr.v;Z=a.wv.sl(Z);s.fillStyle="#"+a.Rr(Z.o<<16|Z.R<<8|Z.X);
s.fillRect(A,h,y,F)}if(m==2){var u=$.qM.XB(M.Rw.Grad.v,y,F,0,O.UC,O.Cc,!0);s.putImageData(u,A,h)}if(m==3){var f=M.Rw.Ptrn.v,U;
if(P!=null)U=cb.Hh(f,P.add.Patt);if(U==null)U=cb.Hh(f,O.ha);gO.XB(U,y,F,s.canvas)}};function gO(s){ik.call(this,s,!1,"patternbutton",18*13,10*13,g5.fV);
this.a8g=null}gO.prototype=new ik;gO.prototype.ek=function(s){var M=this.L3[this._e.V()];this.Bk={classID:"Ptrn",Nm:{t:"TEXT",v:M.name},Idnt:{t:"TEXT",v:M.id}};
this.a(new kg(z.E.n));this.uw()};gO.prototype.RP=function(){if(!this.au)return;var s=this.L3,M=Math.floor(34*i.yD()),O=Math.floor(34*i.yD()),P=[],y=[];
for(var R=0;R<s.length;R++){P.push(gO.XB(s[R],M,O));y.push(s[R].name)}this._e.KC(P,y,M,O);this.au=!1};
gO.prototype.q=function(s,M){if(this.Bk&&s.Idnt.v==this.Bk.Idnt.v)return;this.Bk=a.G(s);this.uw(M)};
gO.prototype.V=function(){return a.G(this.Bk)};gO.prototype.Cv=function(){return this.a8g?[this.a8g]:[]};
gO.prototype.uw=function(s){var M=Math.floor(50*i.yD()),O=Math.floor(50*i.yD()),P;if(s!=null)P=cb.Hh(this.Bk,s.add.Patt);
if(P==null)P=cb.Hh(this.Bk,this.L3);this.a8g=P;var y=gO.XB(P,M,O);this.nM.setAttribute("src",y);i.cq(this.nM,M,O)};
gO.Tb=i.m("canvas","");gO.XB=function(s,M,O,P){if(P==null)P=gO.Tb;var y=P.getContext("2d");P.width=M;
P.height=O;if(s){var F=s.ah[1],A=F.A,h=F.$,m=s.ah[0],Z=Math.min(M/A,O/h),u=Z;if(u*A<2)u=2/A;var f=Z;
if(f*h<2)f=2/h;var U=$.TR.GI([m,F],new kp(u,0,0,f,0,0),u>2),C=U.S.A,H=U.S.$,t=new ImageData(C,H);a.jO(U.buffer,t.data);
y.putImageData(t,Math.floor((M-C)/2),Math.floor((O-H)/2))}return P.toDataURL()};function bC(s,M,O){if(M==null)M=24.2;
if(O==null)O=17;ik.call(this,s,!1,"patternbutton",M*13,O*13,g5.KE);this.jc=""}bC.prototype=new ik;bC.prototype.ek=function(s){this.Bk=a.G(this.L3[0][this._e.V()[0]]);
this.a(new kg(z.E.n))};bC.prototype.RP=function(){var s=this.L3;if(s==null||!this.au)return;var M=Math.floor(50*i.yD()),O=Math.floor(50*i.yD()),P=[],y=[];
for(var R=0;R<s[0].length;R++){P.push(bC.XB(this.L3[0][R].bN,M,O,this.L3[1]));y.push(s[0][R].wA.Nm.v.split("=").pop())}this._e.KC(P,y,M,O);
this.au=!1};bC.prototype.q=function(s,M,O,P){var y=JSON.stringify(s.bN)+","+O+","+P;if(this.jc!=y){this.jc=y;
this.Bk=a.G(s);this.uw(M,O,P)}};bC.prototype.uw=function(s,M,O){var P=Math.floor(68*i.yD()),y=Math.floor(68*i.yD()),F=bC.XB(this.Bk.bN,P,y,s?s:this.L3[1],M,O);
this.nM.setAttribute("src",F);i.cq(this.nM,P,y)};bC.XB=function(s,M,O,P,y,F){var A=new fr;A.A=M;A.$=O;
A.buffer=a.j(M*O*4);A.add.Patt=P;A.Ya(y==null?90:y);A.J0(F==null?30:F);var h=new gi(0,0,Math.round(M*.5),Math.round(O*.5));
h.x=Math.round((M-h.A)/2);h.y=Math.round((O-h.$)/2);var m=A.Tk();m.S=h;m.buffer=a.j(h.C()*4);a.vK(m.buffer,4284045657);
cb.af4(s,m,.5*100);A.U.push(m);A.DA();A.vw();var Z=ci.Qh;ci.Qh=!1;A.kp();var u=A.Ta();ci.Qh=Z;var f=b_.TB(u.buffer,A.A,A.$);
return f};function bP(s){ik.call(this,null,!1,"tpresetbutton",18*13,24*13,g5.kK,!0);i.VV(this._,"fitem");
this._e.C8(1);this.id=s;this.uw();this.Q.style.overflow="hidden";this.Wq=new ho([15,7,9]);this.Wq.q(!0);
this.Wq.k(z.E.n,this.aEm,this);this.ER.appendChild(this.Wq._)}bP.prototype=new ik;bP.prototype.aBj=function(s){if(this.id==s)return;
this.id=s;this.cA(this.L3)};bP.prototype.ek=function(s){var M=this.L3[this._e.V()],O=new kg(z.E.c,!0);
O.data={Q:z.J.ko,hP:"set",dh:g5.kK,BC:M};this.a(O)};bP.prototype.T=function(){ik.prototype.T.call(this);
this.Wq.T()};bP.prototype.aEm=function(){this.au=!0;this.RP()};bP.prototype.RP=function(){if(!this.au)return;
var s=Math.floor(16*i.yD()),M=Math.floor(16*i.yD()),O=[],P=[],y=this.L3,F=this.Wq.V();for(var R=0;R<y.length;
R++){var A=$.XJ[y[R][1].classID];if(!F||A==this.id){P.push(y[R][0]?y[R][0].split("=").pop():"");O.push(A==-1?"":PIMG[$.dz[A]])}else{O.push(null);
P.push(null)}}this._e.KC(O,P,s,M);this.au=!1};bP.prototype.uw=function(){var s=this.nM;s.setAttribute("src",PIMG[$.dz[this.id]]);
i.cG(s,"toolicon")};bP.prototype.Cv=function(){return null};bP.WH={};bP.XB=function(s,M,O){var P=bP.KM,y=bP.WH,F=a.Rr(s.o<<16|s.R<<8|s.X);
if(y[F])return y[F];if(P==null){var A=i.m("canvas");P=bP.KM=A.getContext("2d")}var A=P.canvas;A.width=M;
A.height=O;P.fillStyle="#"+F;P.fillRect(0,0,M,O);var h=y[F]=A.toDataURL();return h};function hw(s,M,O){hV.call(this);
this._=i.m("span","fitem curveeditor");this.Mj=null;this.aeA=0;this.nW="";this.mode=0;this.acQ=null;
this.aIv=null;this.vW=s;this.a3p=M;this.aBh=O;this.L9=null;this.Aa=null;this.atq=0;this.agv=0;this.oz=new j6;
this.mh=this.Os.bind(this);this._y=this.Ub.bind(this);this.K6=256;this.Tb=i.m("canvas");this.KM=this.Tb.getContext("2d");
i.o0(this.Tb);this._.appendChild(this.Tb);this.GK(256,256);i.dq(this.Tb,this.Ym.bind(this));this.coords=i.m("div");
i.P(this.coords,"width:250px");this._.appendChild(this.coords);var P=this.aH=O?100:255,y=null;this.tJ=new hQ("X (in)",0,P,y,0,!1,!0);
this.fI=new hQ("Y (out)",0,P,y,0,!1,!0);this.NE=new ho([19,3,0]);this.tJ.k(z.E.n,this.jq,this);this.fI.k(z.E.n,this.jq,this);
this.NE.k(z.E.n,this.jq,this);this.coords.appendChild(this.tJ._);if(O)this.coords.appendChild(this.NE._);
this.coords.appendChild(this.fI._)}hw.prototype=new hV;hw.prototype.T=function(){this.NE.T();this.tJ.T();
this.fI.T()};hw.prototype.GK=function(s,M){this.K6=Math.round(s);this.KM.resetTransform();i.MQ(this.Tb,this.K6,this.K6,this.KM);
this.KM.scale(this.K6/256,this.K6/256);if(this.L9)this.Ro()};hw.prototype.jq=function(s){var R=this.ayx(),M=this.L9[R],O=255/this.aH;
M.v.Hrzn.v=this.tJ.V()*O;M.v.Vrtc.v=this.fI.V()*O;if(this.aBh)M.v.Cnty.v=this.NE.V();this.L9.sort(function(P,y){return P.v.Hrzn.v-y.v.Hrzn.v});
this.Ro();this.a(new kg(z.E.n))};hw.prototype.q=function(s,R,M){var O=JSON.stringify(s),P=M?JSON.stringify(M):null;
if(O==JSON.stringify(this.L9)&&P==this.aIv)return;this.mode=s.length==256?1:0;this.L9=JSON.parse(O);
this.acQ=M;this.aIv=P;if(R!=null)this.Aa=this.L9[R];this.Ro()};hw.prototype.uj=function(s,M,O){this.Mj=s;
this.aeA=M;this.nW=O;this.Ro()};hw.prototype.V=function(){return a.G(this.L9)};hw.prototype.ayx=function(){return this.L9.indexOf(this.Aa)};
hw.prototype.Ym=function(s){var M=256/this.K6,O=i.iC(s,this.Tb);O.x*=M;O.y*=M;var P=O.x,y=256-O.y;if(this.vW){var F=P;
P=256-y;y=F}this.oz.ee(P,y);if(this.mode==0){var A=0,h=1e9,U;for(var R=0;R<this.L9.length;R++){var m=this.L9[R].v,Z=m.Hrzn.v-P,u=m.Vrtc.v-y,f=Math.sqrt(Z*Z+u*u);
if(f<h){h=f;A=R}}if(h<15)U=this.L9[A];else{U=a.Vt.db(P,y,!0);this.L9.push(U);this.L9.sort(function(C,H){return C.v.Hrzn.v-H.v.Hrzn.v})}this.Aa=U;
this.agv=this.L9.slice(0)}i.Qj(document.body,this.mh);i.gE(document.body,this._y);this.Os(s)};hw.prototype.aCL=function(){var s=this.Aa;
return s?s.v.Vrtc.v:0};hw.prototype.Os=function(s){var M=256/this.K6,O=i.iC(s,this.Tb);O.x*=M;O.y*=M;
var P=O.x,y=256-O.y;if(this.vW){var F=P;P=256-y;y=F}if(this.mode==0){var A=this.L9,h=this.Aa,m=this.agv,Z=m.indexOf(h),u=A.indexOf(h)!=-1,f=m.length-1,U=P;
if(Z==0){U=Math.max(0,Math.min(m[1].v.Hrzn.v-1,P))}else if(Z==f){U=Math.min(255,Math.max(m[f-1].v.Hrzn.v+1,P))}else{var C=P<0||P>255||y<0||y>255;
if(P<=m[Z-1].v.Hrzn.v||P>=m[Z+1].v.Hrzn.v)C=!0;if(!C&&!u)A.splice(Z,0,h);if(C&&u)A.splice(Z,1)}if(this.a3p&&(Z==0||Z==m.length-1)){}else h.v.Hrzn.v=Math.round(U);
h.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(y)))}else{P=Math.round(P);y=Math.round(y);P=Math.max(0,Math.min(255,P));
y=Math.max(0,Math.min(255,y));var H=this.oz.x,t=P,X=this.oz.y,Q=y;if(P<this.oz.x){t=H;H=P;Q=X;X=y}this.L9[P]=y;
if(H!=t)for(var D=H;D<=t;D++)this.L9[D]=Math.round(X+(D-H)*(Q-X)/(t-H))}this.oz.ee(P,y);this.Ro();this.a(new kg(z.E.n))};
hw.prototype.Ub=function(s){i.GE(document.body,this.mh);i.bY(document.body,this._y);this.a(new kg(z.E.n))};
hw.prototype.Ro=function(){var s=this.KM,M=this.Tb;s.fillStyle="#ffffff";s.fillRect(0,0,256,256);var O=256/M.width;
if(this.Mj){s.save();s.translate(0,256);s.scale(1,-1);fx.aB6(s,this.Mj,5700/this.aeA,this.nW);s.restore()}s.strokeStyle="#aaaaaa";
s.lineWidth=1*O;s.beginPath();for(var R=1;R<4;R++){var P=(Math.floor(64*R/O)+.5)*O;s.moveTo(0,P);s.lineTo(255,P);
s.moveTo(P,0);s.lineTo(P,255)}s.stroke();if(this.vW){s.save();s.transform(0,1,-1,0,256,0)}var y=a.Vt.op,F=hw.ad7,A=this.acQ,h=["#ff0000","#00ff00","#0000ff"];
if(this.mode==0){var m=this.L9;if(A)for(var R=0;R<A.length;R++)F(s,y(A[R],256),h[R]);F(s,y(m,256),"#000000");
s.lineWidth=2*O;for(var R=0;R<m.length;R++){var Z=m[R].v;s.fillStyle=this.Aa==m[R]?"#333":"#fff";s.beginPath();
s.moveTo(Z.Hrzn.v,255.5-Z.Vrtc.v);s.arc(Z.Hrzn.v,255.5-Z.Vrtc.v,4,0,2*Math.PI);s.stroke();s.fill()}}else{if(A)for(var R=0;
R<A.length;R++)F(s,A[R],h[R]);F(s,this.L9,"#000000")}if(this.vW)s.restore();var R=this.ayx();this.coords.className=R==-1?"disabled":"";
if(R==-1)return;var Z=this.L9[R].v,u=255/this.aH;this.tJ.q(Math.round(Z.Hrzn.v/u));this.fI.q(Math.round(Z.Vrtc.v/u));
if(Z.Cnty)this.NE.q(Z.Cnty.v)};hw.ad7=function(s,M,O){s.strokeStyle=O;s.beginPath();s.moveTo(0,255.5-M[0]);
for(var R=0;R<256;R++)s.lineTo(R,255.5-M[R]);s.stroke()};function fx(s,M,O){hV.call(this);this._=i.m("span");
this.BY=new d_([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.BY.k(z.E.n,this.gq,this);if(O==null){this._.appendChild(this.BY._);
i.QP(this._)}var P=i.m("div");this._.appendChild(P);i.P(P,"background-color: var(--bg-canvas);");this.Tb=i.m("canvas");
var y=this.Tb;P.appendChild(y);y.width=Math.round(s*i.yD());y.height=Math.round(100*i.yD());i.cq(y,y.width,y.height);
y.style.display="block";this.KM=y.getContext("2d");this.Mj=null;this.IZ=0;this.a00=null;this.alW=[];
this.dB=[];var F=["Mean:","Pixels:"],A=this._;if(M)for(var R=0;R<F.length;R++){var h=new df(F[R]);this.alW.push(h);
A.appendChild(h._);var m=new df("hi");this.dB.push(m);A.appendChild(m._);i.QP(A)}if(O!=null)this.C8(O)}fx.prototype=new hV;
fx.prototype.T=function(){this.BY.T()};fx.prototype.C8=function(s){this.BY.q(s);this.gq()};fx.prototype.q=function(s,M){this.Mj=s;
this.a00=M;this.gq()};fx.prototype.ZS=function(s){if(s==this.IZ)return;this.IZ=s;this.gq()};fx.prototype.gq=function(){if(this.Mj==null)return;
var s=this.Tb,M=this.KM,O=this.Mj,P=this.a00,y=this.BY.V(),F=6e3/O[4],A="#"+a.Rr(this.IZ),h=fx.aB6;s.width=s.width;
M.setTransform(s.width/256,0,0,-s.height/100,0,s.height);M.globalCompositeOperation="lighter";if(y==0)h(M,O[0],F/3,A);
else if(y<4)h(M,O[y],F,A);else{h(M,O[1],F,"#ff4545",!0);h(M,O[2],F,"#40bb60",!0);h(M,O[3],F,"#2266bb",!0)}M.setTransform(1,0,0,1,0,0);
if(P!=null){if(y==4)y=0;var m=0;for(var R=0;R<256;R++)m+=R*O[y][R];if(y==0)m/=3;this.dB[0].q((m/P).toFixed(1)+"");
this.dB[1].q(P+"")}};fx.aB6=function(s,M,O,P,y){s.beginPath();s.moveTo(0,0);for(var F=0;F<256;F++)s.lineTo(F,M[F]*O);
s.lineTo(256,0);s.fillStyle=P;s.strokeStyle=P;if(y){s.globalAlpha=.2;s.fill();s.globalAlpha=1;s.stroke()}else s.fill()};
function cH(s,M){hV.call(this);this.Ma={o:0,R:0,X:0};if(Math.abs(s-256/i.yD())<10)s=256/i.yD();var O=this._=i.m("div","flexrow");
O.style.position="relative";var P=this.arg=i.m("div");O.appendChild(P);this.Jv=new j6;this.vC=new j6;
this.eQ=this.S8.bind(this);this.zG=this.amk.bind(this);this.Tb=i.m("canvas","");this.KM=this.Tb.getContext("2d");
this.Tb.width=this.Tb.height=256;this.aB4=this.KM.getImageData(0,0,256,256);this.auc=-1;this.aKw="";
this.B6=null;i.o0(this.Tb);i.dq(this.Tb,this.a3w.bind(this));P.appendChild(this.Tb);this.arV=this.aIH.bind(this);
this.ah1=this.asi.bind(this);this.qU=i.m("canvas","");this.iE=this.qU.getContext("2d");this.qU.width=20;
this.qU.height=256;this.aHp=this.iE.getImageData(0,0,20,256);cH.azE(this.aHp.data,20,256);i.o0(this.qU);
i.dq(this.qU,this.ajg.bind(this));O.appendChild(this.qU);i.P(this.Tb,"width:"+s+"px; height:"+s+"px");
i.P(this.qU,"width:16px; height:"+s+"px");this.Mv=new ho("Web Colors\u2001");this.Mv.k(z.E.n,this.update,this);
this.Nu=new ho("CMYK gamut");this.Nu.k(z.E.n,this.update,this);if(M){i.QP(P);P.appendChild(this.Mv._);
P.appendChild(this.Nu._)}var y=this.EC=document.createElementNS("http://www.w3.org/2000/svg","svg");
O.appendChild(y)}cH.prototype=new hV;cH.prototype.GK=function(s,M){this.Tb.style.width=this.arg.style.width=s-16+"px"};
cH.prototype.q=function(s){if(this.Mv.V()){var M=a.G(s);cH.a$(M);var O=this.V();if(M.o==O.o&&M.R==O.R&&M.X==O.X)s=this.Ma}this.Ma=s;
this.update()};cH.prototype.V=function(){var s=a.G(this.Ma);if(this.Mv.V())cH.a$(s);return s};cH.prototype.update=function(){var s=this.Ma,M=a.yR(s.o,s.R,s.X),h=18;
if(M.rM==0)M.BP=this.Jv.x/255;if(M.BP==0||M.rM==0)M.fw=(255-this.Oi(this.vC.y))/255;if(M.rM!=0)this.Jv.x=M.BP*255;
this.Jv.y=(1-M.rM)*255;this.vC.y=(1-M.fw)*255;var O=this.aB4,P=this.Mv.V(),y=this.Nu.V(),F=P+","+y;if(Math.abs(M.fw-this.auc)>.002||this.aKw!=F){this.a9g(new Uint8Array(O.data.buffer),256,256,M.fw,P,y);
this.atx();this.auc=M.fw;this.aKw=F}var A=this.KM;A.putImageData(O,0,0);O=this.aHp;A=this.iE;A.putImageData(O,0,0);
A.strokeStyle="#ffffff";A.beginPath();A.moveTo(0,this.vC.y);A.lineTo(20,this.vC.y);A.lineWidth=2;A.stroke();
var m=this.Jv.y/255,Z=parseFloat(this.Tb.style.width),u=parseFloat(this.Tb.style.height),f=this.EC;f.setAttribute("width",h);
f.setAttribute("height",h);var U=Math.round(s.o*255)<<16|Math.round(s.R*255)<<8|Math.round(s.X*255),C="<circle cx=\""+h/2+"\" cy=\""+h/2+"\" r=\""+h/2+"\" fill=\"#"+a.Rr(U)+"\"></circle>";
C+="<circle cx=\""+h/2+"\" cy=\""+h/2+"\" r=\""+(-.5+h/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*m)+")\" stroke-width=\"1\"></circle>";
C+="<circle cx=\""+h/2+"\" cy=\""+h/2+"\" r=\""+(-1.2+h/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
f.innerHTML=C;f.style.pointerEvents="none";f.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
f.style.position="absolute";f.style.left=Z*(this.Jv.x/255)-h/2+"px";f.style.top=u*(this.Jv.y/255)-h/2+"px"};
cH.a$=function(s){s.o=~~(.5+s.o*5)*.2;s.R=~~(.5+s.R*5)*.2;s.X=~~(.5+s.X*5)*.2};cH.prototype.a9g=function(s,M,O,P,y,F){var A=1/M,h=1/O;
for(var m=0;m<O;m++)for(var Z=0;Z<M;Z++){var u=a.rk(P,Z*A,(O-m-1)*h);if(y)cH.a$(u);var R=m*M+Z<<2;s[R+0]=~~(u.o*255);
s[R+1]=~~(u.R*255);s[R+2]=~~(u.X*255);s[R+3]=255}if(F){var f=s.slice(0),U=a.Kc("rgbToRgbC"),C=U[2],H=U[3];
ICC.U.applyLUT(H,C,f,f);this.B6=a.j(M*O);for(var R=0;R<s.length;R+=4){var t=s[R]-f[R],X=s[R+1]-f[R+1],Q=s[R+2]-f[R+2],D=t*t+X*X+Q*Q;
if(D>300){s[R]=s[R+1]=s[R+2]=200;this.B6[R>>>2]=255}}}};cH.azE=function(s,M,O,P,y){if(P==null)P=1;if(y==null)y=0;
var F=new Uint32Array(s.buffer);for(var A=0;A<O;A++){var h=a.rk((1+P*(1-A/O)+y)%1,1,1),m=255<<24|h.X*255<<16|h.R*255<<8|h.o*255;
for(var Z=0;Z<M;Z++)F[A*M+Z]=m}};cH.prototype.a3w=function(s){i.Qj(window,this.eQ);i.gE(window,this.zG);
this.S8(s);this.EC.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.EC.style.transform="scale(2.4)"};
cH.prototype.amk=function(s){i.GE(window,this.eQ);i.bY(window,this.zG);this.EC.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.EC.style.transform="scale(1)"};cH.prototype.S8=function(s){var M=i.iC(s,this.Tb);M.x=M.x*(256/parseFloat(this.Tb.style.width));
M.y=M.y*(256/parseFloat(this.Tb.style.height));this.Jv.ee(this.Oi(M.x),this.Oi(M.y));this.atx();this.qr()};
cH.prototype.atx=function(){if(!this.Nu.V())return;var s=this.Jv,M=0,O=0,P=1e9;for(var y=0;y<256;y++){for(var F=0;
F<256;F++){if(this.B6[y*256+F]==255)continue;var A=F-s.x,h=y-s.y,m=A*A+h*h;if(m<P){M=F;O=y;P=m}}}s.x=M;
s.y=O};cH.prototype.qr=function(){this.Ma=this.alc();this.a(new kg(z.E.n))};cH.prototype.alc=function(){var s=a.rk((255-this.Oi(this.vC.y))/255,this.ck(this.Jv.x/255),this.ck(1-this.Jv.y/255));
return{o:s.o,R:s.R,X:s.X}};cH.prototype.ajg=function(s){i.Qj(window,this.arV);i.gE(window,this.ah1);
this.aIH(s)};cH.prototype.asi=function(s){i.GE(window,this.arV);i.bY(window,this.ah1)};cH.prototype.aIH=function(s){var M=i.iC(s,this.qU);
M.y=M.y*(256/parseFloat(this.qU.style.height));this.vC.ee(this.Oi(M.x),this.Oi(M.y));this.qr()};cH.prototype.Oi=function(s){return Math.max(0,Math.min(255,s))};
cH.prototype.ck=function(s){return Math.max(0,Math.min(1,s))};function dv(s,M,O,P){var y=e0.$b(M,P);
e0.call(this,s,y,O)}dv.prototype=new e0;function kd(){hV.call(this);this.jY=0;this._=i.m("button","fitem bbtn");
this._.style.width="130px";var s=[];for(var R=0;R<16;R++){var M={name:MIDDB.grps[R],sub:[],mb:cW.hQ(R*8)};
s.push(M);for(var O=0;O<8;O++)M.sub.push({name:MIDDB.list[R*8+O],mb:cW.hQ(R*8+O)})}s.push({name:MIDDB.list[200],mb:cW.hQ(200)});
s.push({name:MIDDB.list[500],mb:cW.hQ(500)});this.dE=new kA(s);this.dE.k("select",this.qP,this);this._.textContent="Piano \u25BC";
this._.addEventListener("click",this.Hk.bind(this),!1)}kd.prototype=new hV;kd.prototype.Hk=function(s){var M=this._.getBoundingClientRect(),O=this.dE;
O.T();O.parent=this;var P=new kg(z.E.c,!0);P.data={Q:z.J.EU,uJ:O,x:M.left,y:M.top+M.height+4};this.a(P)};
kd.prototype.qP=function(s){var M=this.dE.x2();this.jY=M==17?500:M==16?200:M[0]*8+M[1];this.a(new kg(z.E.n,!1))};
kd.prototype.Gc=function(s){var M=this.AD.indexOf(s.currentTarget),O=this.Dw[M],P=this.ON;if(O.wF!=null)P.wF=O.wF;
if(O.sa!=null)P.sa=O.sa;P.wm=O.wm.slice(0);if(P.WJ==null)P.WJ=3;for(var R=0;R<P.wm.length;R++)P.wm[R]*=P.WJ/O.WJ;
this.a(new kg(z.E.n,!1))};kd.prototype.T=function(){};kd.prototype.q=function(s){this.jY=s;this._.textContent=MIDDB.list[s]+" \u25BC"};
kd.prototype.V=function(){return this.jY};function fF(){hV.call(this);this.aH5=null;this.PP=new j8;this.PP.k(z.E.n,this.auW,this);
this.PP.parent=this;this.zj=new hQ([12,14,0],1,150,"px",2,!0);this.zj.k(z.E.n,this.ns,this);this.zj.parent=this;
this.wG=new hQ([16,0],.01,100,"px",2,!0,null,5);this.wG.k(z.E.n,this.ns,this);this.wG.parent=this;this.ai=new ho("Auto");
this.ai.k(z.E.n,this.ns,this);this.Hm=new hQ([16,1],-500,5e3,"%",0,!0);this.Hm.k(z.E.n,this.ns,this);
this.Hm.parent=this;this.X8=new hQ("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.X8.k(z.E.n,this.ns,this);
this.X8.parent=this;this.wa=new hQ("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.wa.k(z.E.n,this.ns,this);
this.wa.parent=this;this.wP=new hQ([16,2],-10,10,"px");this.wP.k(z.E.n,this.ns,this);this.wP.parent=this;
this.vZ=new aI(!0);this.vZ.k(z.E.n,this.T9,this);this.vZ.parent=this;this.xd=new aI(!0);this.xd.k(z.E.n,this.T9,this);
this.xd.parent=this;this.RA=new aI(!0);this.RA.k(z.E.n,this.T9,this);this.RA.parent=this;this.IE=new aI(!0);
this.IE.k(z.E.n,this.T9,this);this.IE.parent=this;this.GU=new ho([2,3]);this.GU.k(z.E.n,this.ns,this);
this.lz=new ho([14,9]);this.lz.k(z.E.n,this.ns,this);this.Xx=new ho([12,46]);this.Xx.k(z.E.n,this.ns,this);
this.U3=new jk(!0,!0);this.U3.k(z.E.n,this.ns,this);this.G1=new fU("...",null,null,!0);i.dq(this.G1._,this.af7.bind(this));
this.dm=new hV;var s=this.dm._=i.m("div","floatcont form"),A=100;this.dm.parent=this;this.U3.parent=this.dm;
this.rd=new hQ([12,41],1,20,"px",0,!0,!0);this.rd._.style.marginLeft="16px";this.rd.k(z.E.n,this.ns,this);
this.rd.parent=this.dm;s.appendChild(this.xd._);s.appendChild(this.GU._);i.QP(s);s.appendChild(this.RA._);
s.appendChild(this.lz._);i.QP(s);s.appendChild(this.rd._);s.appendChild(this.U3._);i.QP(s);s.appendChild(this.IE._);
s.appendChild(this.Xx._);this.pA=new fU("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.i1=new fU("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this.ut=new fU("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.Is=new fU("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this._8=new fU("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.dX=new fU("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.Xd=new fU("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.mA=new fU("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var M=[this.pA,this.i1,this.ut,this.Is,this._8,this.dX,this.Xd,this.mA];for(var R=0;R<M.length;R++)M[R].k("click",this.aJ$,this);
var O="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.g2=[];for(var R=0;
R<8;R++){var P=new fU("<img src=\""+PIMG["lig/"+O[R]]+"\" class=\"autoscale gsicon\" />",!1,iP.a88[R]);
P.k("click",this.aJ$,this);this.g2.push(P)}this.amJ=new fU("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.aD6=new fU("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.aFQ=new fU("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.aCB=new fU("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aky=new fU("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a9v=new fU("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.akU=new fU("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.BK=[this.amJ,this.aD6,this.aFQ,this.aCB,this.aky,this.a9v,this.akU];for(var R=0;R<this.BK.length;
R++)this.BK[R].k("click",this.ns,this);var y=["lind","rind","flind","bind","aind"],F=[];for(var R=0;
R<5;R++)F.push("<img src=\""+PIMG["par/"+y[R]]+"\" class=\"autoscale gsicon\" /> ");this.UH=new hQ(F[0],-A,A,"px");
this.lu=new hQ(F[1],-A,A,"px");this.Ua=new hQ(F[2],-A,A,"px");this.Mw=new hQ(F[3],-A,A,"px");this.mn=new hQ(F[4],-A,A,"px");
this.Nm=new e0([12,33],["Abc ...","... أي بي"]);this.A2=new hQ(["Auto VAR0",[16,0]],0,500,"%");this.xr=[this.UH,this.lu,this.Ua,this.Mw,this.mn,this.Nm,this.A2];
for(var R=0;R<this.xr.length;R++){var h=this.xr[R];h.k(z.E.n,this.ns,this);h.parent=this}this.cn=new d_("Digits",["LTR Arabic - 123","RTL Arabic- 123","Hindi (١,٢,٣,٤,٥,٦...)","Farsi (۱,۲,۳,۴,۵,۶...)"]);
this.cn.k(z.E.n,this.ns,this);this.nY=[];this.aDl="";this.aJ=i.m("div","labfxd")}fF.prototype=new hV;
fF.prototype.af7=function(s){if(i.qE(this.dm._))return;s.stopPropagation();var M=this.G1._.getBoundingClientRect(),O=new kg(z.E.c,!0);
O.data={Q:z.J.EU,uJ:this.dm,x:M.left,y:M.top+M.height+4};this.a(O)};fF.prototype.T=function(){this.PP.T();
this.zj.T();this.wG.T();this.Hm.T();this.wP.T();this.X8.T();this.wa.T();this.GU.T();this.lz.T();this.Xx.T();
this.rd.T();this.U3.T();for(var R=0;R<this.xr.length;R++)this.xr[R].T()};fF.prototype.q=function(s,M,O){if(M)this.aH5=M;
this.xx=a.G(s);var P=this.xx,y=P.TY,F=P.Gy;this.pA.q(y.FauxBold!=null?y.FauxBold:!1);this.i1.q(y.FauxItalic!=null?y.FauxItalic:!1);
this.ut.q(y.FontCaps==2);this.Is.q(y.FontCaps==1);this._8.q(y.FontBaseline==1);this.dX.q(y.FontBaseline==2);
this.Xd.q(y.Underline);this.mA.q(y.Strikethrough);if(y._DigitSet!=null)this.cn.q(y._DigitSet);var A={};
if(y.Font!=null){var h=P.U2[y.Font],m=M.E3(iP.Zp(h));if(m)A=m.GSUB;if(A==null)A={};if(m&&m.fvar){var Z=m.fvar[0],u=m.fvar[1],f=JSON.stringify(Z);
if(f!=this.aKZ){this.aKZ=f;this.nY=[];i.Lq(this.aJ);for(var R=0;R<Z.length;R++){var U=Z[R],C=new fB(U[5],U[1],U[3]);
C.T();this.nY.push(C);C.k(z.E.n,this.adK,this);this.aJ.appendChild(C._)}}var H=h.Axis;if(H)for(var R=0;
R<Math.min(H.length,this.nY.length);R++)this.nY[R].q(H[R]/65536)}else if(this.nY.length!=0){this.nY=[];
i.Lq(this.aJ);this.aKZ=""}}for(var R=0;R<8;R++){this.g2[R].oo(A[iP.a3J[R]]);this.g2[R].q(y[iP.g2[R]])}this.PP.q(y.Font==null?null:iP.Zp(P.U2[y.Font]),M,O);
var t=y.FontSize==null?20:y.FontSize;this.zj.q(t);var X=y.Tracking;this.Hm.q(X==null?0:X);this.rd.q(y.OutlineWidth!=null?y.OutlineWidth:1);
this.U3.q(aV.S0.aF$(y));this.wG.q(y.Leading!=null&&y.Leading!=0?y.Leading:t);this.ai.q(y.AutoLeading);
this.X8.q((y.VerticalScale!=null?y.VerticalScale:0)*100);this.wa.q((y.HorizontalScale!=null?y.HorizontalScale:0)*100);
this.wP.q(y.BaselineShift!=null?y.BaselineShift:0);this.GU.q(y.FillFlag!=null?y.FillFlag:!1);this.lz.q(y.StrokeFlag!=null?y.StrokeFlag:!1);
this.Xx.q(y._FillBackgroundFlag!=null?y._FillBackgroundFlag:!1);this.ie(y.FillColor,this.vZ);this.ie(y.FillColor,this.xd);
this.ie(y.StrokeColor,this.RA);this.ie(y._FillBackgroundColor,this.IE);var Q=F._Direction!=null?F._Direction:0,D=iP.zB(F);
for(var R=0;R<this.BK.length;R++)this.BK[R].q(D==R);this.Nm.q(Q);this.A2.q((F.AutoLeading!=null?F.AutoLeading:1.2)*100);
this.UH.q(F.StartIndent!=null?F.StartIndent:0);this.lu.q(F.EndIndent!=null?F.EndIndent:0);this.Ua.q(F.FirstLineIndent!=null?F.FirstLineIndent:0);
this.Mw.q(F.SpaceBefore!=null?F.SpaceBefore:0);this.mn.q(F.SpaceAfter!=null?F.SpaceAfter:0)};fF.prototype.ie=function(s,M){if(s){var O=iP.sl(s);
M.ZS(Math.round(O.o)<<16|Math.round(O.R)<<8|Math.round(O.X))}else M.ZS(0)};fF.prototype.pM=function(){var s=new kg(z.E.c,!0);
s.data={Q:z.J.ko,dh:g5.B0,xx:this.xx};this.a(s);var s=new kg(z.E.H,!0);s.l=$.El;s.data={Q:"updateStyles"};
this.a(s)};fF.prototype.aJ$=function(s){var M=this.xx.TY,O=s.target,P=!O.vy(),y=this.g2.indexOf(O);if(y!=-1){M[iP.g2[y]]=P}else{if(O==this.pA)M.FauxBold=P;
if(O==this.i1)M.FauxItalic=P;if(O==this.ut)M.FontCaps=P?2:0;if(O==this.Is)M.FontCaps=P?1:0;if(O==this._8)M.FontBaseline=P?1:0;
if(O==this.dX)M.FontBaseline=P?2:0;if(O==this.Xd)M.Underline=P;if(O==this.mA)M.Strikethrough=P}this.pM()};
fF.prototype.ns=function(s){var M=this.xx.TY,O=this.xx.Gy,P=s.target;if(P==this.U3){aV.S0.a9B(P.V(),M)}if(P==this.Hm){var y=P.V();
M.Tracking=y}if(P==this.wG){M.AutoLeading=!1;M.Leading=P.V()}if(P==this.ai){M.AutoLeading=P.V()}if(P==this.rd)M.OutlineWidth=P.V();
if(P==this.zj)M.FontSize=P.V();if(P==this.X8)M.VerticalScale=P.V()/100;if(P==this.wa)M.HorizontalScale=P.V()/100;
if(P==this.wP)M.BaselineShift=P.V();if(P==this.GU)M.FillFlag=P.V();if(P==this.lz)M.StrokeFlag=P.V();
if(P==this.Xx)M._FillBackgroundFlag=P.V();if(P==this.cn)M._DigitSet=P.V();if(this.BK.indexOf(P)!=-1){O.Justification=iP.zB(O,this.BK.indexOf(P))}if(P==this.UH)O.StartIndent=P.V();
if(P==this.lu)O.EndIndent=P.V();if(P==this.Ua)O.FirstLineIndent=P.V();if(P==this.Mw)O.SpaceBefore=P.V();
if(P==this.mn)O.SpaceAfter=P.V();if(P==this.Nm)O._Direction=P.V();if(P==this.A2)O.AutoLeading=P.V()/100;
this.pM()};fF.prototype.adK=function(s){var M=this.xx,O=M.U2[M.TY.Font],P=O.Axis,y=iP.Zp(O),F=this.aH5.E3(y);
if(P)for(var R=0;R<Math.min(P.length,this.nY.length);R++){var A=this.nY[R].V();P[R]=Math.round(A*65536);
y+="_"+A.toFixed(3)+F.fvar[0][R][0]}O.Name=y;this.pM()};fF.prototype.auW=function(s){var M=this.xx;if(M.TY.Font==null)M.TY.Font=0;
var O=this.PP.V(),P=M.U2[M.TY.Font],y=this.aH5.E3(O);delete P.Axis;if(y&&y.fvar){var F=y.fvar,A=[];for(var R=0;
R<F[0].length;R++)A.push(F[0][R][2]);for(var R=0;R<F[1].length;R++)if(F[1][R][3]==O)A=F[1][R][2].slice(0);
for(var R=0;R<A.length;R++)A[R]=Math.round(A[R]*65536);P.Axis=A}P.Name=O;this.pM()};fF.prototype.T9=function(s){var M=s.target,O=M.yl(),P={Type:1,Values:[1,(O>>16&255)/255,(O>>8&255)/255,(O>>0&255)/255]};
for(var R=0;R<4;R++)P.Values[R]=Math.round(P.Values[R]*1e3)/1e3;var y=M==this.vZ||M==this.xd?0:M==this.RA?1:2;
this.xx.TY[["FillColor","StrokeColor","_FillBackgroundColor"][y]]=P;this.pM()};function j8(){hV.call(this);
this._=i.m("span","fontinput");this.ZZ=null;this.aS=null;this.ya=null;this.EX="";this.OX={};this.apl=[];
this.aBZ={};this.atQ={};this.aAc=!1;this.D3=i.m("button","fitem");i.P(this.D3,"width:9em;");this.D3.textContent="Family Name \u25BC";
this._.appendChild(this.D3);i.dq(this.D3,this.ag7.bind(this));this.Zu=new hV;this.Zu.parent=this;var s=this.Zu._=i.m("div","floatcont");
s.style.padding="7px 7px 3px 7px";var M=new df("Recent");s.appendChild(M._);var O=this.a52=new fU([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
O.k("click",this.a5K,this);O._.style.float="right";s.appendChild(O._);var P=this.ahn=new ho("Local Fonts");
P.k(z.E.n,this.a8T,this);P._.style.float="right";P._.style.marginRight="10px";P._.style.marginTop="3px";
s.appendChild(P._);i.QP(s);this.tO=i.m("span","fitem imageset scrollable");this.tO.style.height="5.5em";
this.tO.style.width="100%";s.appendChild(this.tO);var y=i.m("div","form");this.Zu._.appendChild(y);this.$y=new fU(i._S("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.$y.k("click",this.awC,this);y.appendChild(this.$y._);this.jI=new hH([12,86],null,7.5);this.jI.k("input",this.IW,this);
y.appendChild(this.jI._);this.uN=new bv(10,"\u2630");y.appendChild(this.uN._);this.uN.parent=this.Zu;
this.uN.k(z.E.n,this.Zz,this);this.uN._.style.float="right";this.uN._.style.marginRight="0";this.SR=i.m("span","fitem imageset scrollable");
this.SR.style.height="30em";this.Zu._.appendChild(this.SR);this.SR.addEventListener("scroll",this.apA.bind(this),!1);
this.HB=i.m("button","fitem");i.P(this.HB,"width:7em;");this.HB.textContent="SubFamily Name \u25BC";
this._.appendChild(this.HB);i.dq(this.HB,this.ag7.bind(this));this.CC=new hV;this.CC.parent=this;this.CC._=i.m("div","floatcont");
this.a7X=i.m("span","fitem imageset scrollable");this.CC._.appendChild(this.a7X);this.afH=this.a4y.bind(this);
this.a2A=this.aEz.bind(this);this.QT=this.adM.bind(this);this.a81=this.a9V.bind(this);this.akl=this.a9w.bind(this);
this.adk=this.FG.bind(this)}j8.prototype=new hV;j8.I8=[];j8.prototype.a8T=function(s){bS.nI.oo(s.target.V(),function(){this.q();
this.Zz()}.bind(this),function(){this.ahn.q(!1)}.bind(this));this.Zz()};j8.prototype.apA=function(s){var M=this.SR.scrollTop,O=this.apl,P=Math.floor(M/27),y=Math.min(P+20,O.length);
for(var R=P;R<y;R++)this.acs(O[R])};j8.prototype.a5K=function(){var s=new kg(z.E.c,!0);s.data={Q:z.J.Fw};
this.a(s)};j8.prototype.T=function(){this.uN.T();this.a52.T();this.ahn.q(bS.nI.vy());this.$y.x3(i._S("tools/cshape",null,"autoscale"))};
j8.prototype.awC=function(s){this.$y.q(!this.$y.vy());this.Zz(null,null,!0)};j8.prototype.IW=function(s){this.EX=this.jI.V().toLowerCase();
this.Zz()};j8.prototype.ag7=function(s){i.zZ(s);this.i7=null;var M=s.currentTarget,O=M.getBoundingClientRect(),P=M==this.D3,y=P?this.Zu:this.CC;
if(i.qE(y._)){this.aj_(y);return}if(!P&&this._G()==null)return;var F=new kg(z.E.c,!0);F.data={Q:z.J.EU,uJ:y,x:O.left,y:O.top+O.height};
this.a(F);if(P){this.Zz(null,!0,!0)}};j8.prototype._G=function(s){if(s==null)s=this.ya;return s==null?null:this.ZZ.lN()[s]};
j8.prototype.adM=function(s){this.p7(this.pn,this.amB,!0);this.aAc=!0};j8.prototype.a9V=function(s){this.amB=null;
this.pn=s.currentTarget.firstChild.nextSibling.textContent;if(this.i7==null)this.i7=this.V();this.ahb=setTimeout(this.QT,250)};
j8.prototype.a9w=function(s){this.amB=s.currentTarget.firstChild.textContent;this.pn=null;if(this.i7==null)this.i7=this.V();
this.ahb=setTimeout(this.QT,250)};j8.prototype.FG=function(s){this.aHC=null;this.a5F=null;clearTimeout(this.ahb);
if(this.aAc){this.aAc=!1;this.q(this.i7,this.ZZ);this.a(new kg(z.E.n,!1))}};j8.prototype.a4y=function(s){var M=s.currentTarget.firstChild.nextSibling.textContent;
if(s.target.tagName.toLowerCase()=="button"){var O=this.aS.slice(0),P=O.indexOf(M);if(P==-1){O=O.slice(Math.max(0,O.length-99));
O.push(M)}else O.splice(P,1);var y=new kg(z.E.c,!0);y.data={Q:z.J.ko,dh:g5.vG,IQ:O};this.a(y);this.Zz()}else{this.FG(s);
this.p7(M,null)}};j8.prototype.aEz=function(s){this.FG(s);this.p7(null,s.currentTarget.firstChild.textContent)};
j8.prototype.p7=function(s,M,O){var P=s==null?this.CC:this.Zu,y=this.ZZ;if(s==null)s=this._G()[0];else{var F=y.py(s),A=this._G();
M=bS.y2(F,A?A[1]:"regular")}var h=y.vk(s,M)[2];if(h==this.ya)return;if(!O){var m=j8.I8;for(var R=0;R<m.length;
R++)if(m[R][0][0]==s)m.splice(R,1);m.push([this._G(h),Date.now()]);m.sort(function(Z,u){return u[1]-Z[1]});
m=m.slice(0,10)}this.q(h,y);this.a(new kg(z.E.n,!1));if(O==null)this.aj_(P);this.Zz()};j8.prototype.aj_=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.KX,uJ:s};this.a(M)};j8.prototype.V=function(){return this.ya};j8.prototype.q=function(s,M,O){var P=this.ZZ;
if(s!=null)this.ya=s;else s=this.ya;if(M)this.ZZ=M;else M=this.ZZ;if(O)this.aS=O;else O=this.aS;if(s!=null){var y=this._G(s),F,A;
if(y==null){F="- "+s;A="-------"}else{F=y[0];A=y[1];var h=M.py(F);h.sort(bS.ar2);this.a7X.textContent="";
for(var R=0;R<h.length;R++){var y=M.vk(F,h[R]);if(!this.uN.ym(y))continue;var m=this.Iq(y,!1);this.a7X.appendChild(m)}}this.D3.textContent=F.substring(0,15)+" \u25BC";
this.D3.setAttribute("title",F+", \""+s+"\"");this.HB.textContent=A.substring(0,10)+" \u25BC";this.HB.setAttribute("title",A)}};
j8.prototype.Zz=function(s,M,O){var P=this._G(),y=this.aS,F=this.ZZ.aoY();this.apl=[];var A=this.ahn.V();
for(var h in F){var m=y.indexOf(h)!=-1,Z=this.ZZ.py(h),u=!1;for(var R=0;R<Z.length;R++){var f=this.ZZ.vk(h,Z[R]),U=!0;
if(this.EX.length>0&&f[0].toLowerCase().indexOf(this.EX)==-1)U=!1;else if(!this.uN.ym(f))U=!1;else if(this.$y.vy()&&!m)U=!1;
else if(f[5]=="--loc"&&!A)U=!1;if(U)u=!0}var C=this.OX[h];if(C==null){var H=bS.y2(F[h],"regular"),t=this.ZZ.vk(h,H),C=this.Iq(t,!0);
this.OX[h]=C;this.SR.appendChild(C);this.aBZ[h]="[true,false,false]"}if(u)this.apl.push(h);var X=P!=null&&P[0]==h;
this.atQ[h]="["+u+","+X+","+m+"]";if(!M)this.acs(h)}if(P&&O){var Q=this.OX[P[0]];this.SR.scrollTop=Q.offsetTop-210}this.apA();
if(this.alg==null)this.alg=function(){i.Lq(this.tO);for(var R=1;R<j8.I8.length;R++){var f=j8.I8[R][0],C=this.Iq(f,!0);
this.N2(C,f,!0);this.tO.appendChild(C)}}.bind(this);setTimeout(this.alg,200)};j8.prototype.acs=function(s){var M=this.OX[s];
if(M.firstChild==null){var O=this.ZZ.aoY(),P=bS.y2(O[s],"regular"),y=this.ZZ.vk(s,P);this.N2(M,y,!0)}var F=this.aBZ[s],A=this.atQ[s];
if(F==A)return;var h=JSON.parse(F),m=JSON.parse(A);if(h[0]!=m[0]||h[1]!=m[1]){var Z=m[0]?"":"display:none; ";
if(m[1])Z+="background-color:rgba(0,0,0,0.13);";i.P(M,Z)}if(h[2]!=m[2])i.P(M.firstChild,"opacity: "+(m[2]?"1":"0.2"));
this.aBZ[s]=A};j8.prototype.Iq=function(s,M){var O=i.m("div","fontitem");if(!M)this.N2(O,s,M);return O};
j8.prototype.N2=function(s,M,O){var P=M[O?0:1],y=O?this.afH:this.a2A,F=O?this.a81:this.akl,Z="";s.addEventListener("click",y,!1);
s.addEventListener("mouseover",F);s.addEventListener("mouseout",this.adk);if(O)s.appendChild(i.m("button","star"));
var A=i.m("span","label");A.setAttribute("title",P);A.textContent=P;s.appendChild(A);var h=i.yD(),m=1/h,u=bS.T4*m,f=bS.vd*m;
if(1<h&&h<1.5)Z="width:"+u+"px; height:"+f+"px;";var U=i.m("span","thumb gsicon");if(M.eS){Z+="background: url("+M.eS+");";
if(1<h&&h<1.5)Z+="background-size: "+u+"px "+f+"px;"}else{var C=Math.ceil(FNTS.list.length/bS.cols),H=Math.floor(M.Fa/bS.cols),t=M.Fa-H*bS.cols,X=t*bS.T4,Q=H*bS.vd;
if(1<h&&h<1.5){Z+="background-size: "+bS.cols*u+"px "+C*f+"px;";X*=m;Q*=m}Z+="background-position:-"+X+"px -"+Q+"px;"}i.P(U,Z);
s.appendChild(U)};function bv(s,M){hV.call(this);this._=i.m("button","fitem bbtn");this._.addEventListener("click",this.Hk.bind(this),!1);
this.dm=new hV;this.dm._=i.m("div","floatcont");this.dm.parent=this;this.dE=i.m("div","flexrow");this.dm._.appendChild(this.dE);
this.$0=M;this.Lk=[];this.b4=[];var O=this.dE,P=i.m("div",""),y=i.m("div","");O.appendChild(P);O.appendChild(y);
this.pW=[];for(var R=0;R<FNTS.cats.length;R++)this.pW.push({name:FNTS.cats[R],index:R,y9:0});this.j5=new ho([7,0]);
this.j5.q(!0);this.j5.k(z.E.n,this.aBV,this);P.appendChild(this.j5._);this.apP=i.m("div","vlist marged scrollable");
i.P(this.apP,"width:10.3em; height:"+s+"em; ");P.appendChild(this.apP);this.cz=[];for(var R=0;R<this.pW.length;
R++){var F=this.pW[R],A=new ho(F.name);this.cz.push(A);A.k(z.E.n,this.aiU,this);A.q(!0);this.apP.appendChild(A._);
this.Lk.push(1)}this.acO=new ho([7,0]);this.acO.k(z.E.n,this.ait,this);this.aAw=i.m("div","vlist marged scrollable");
i.P(this.aAw,"width:8.6em; height:"+(s+1.5)+"em; ");y.appendChild(this.aAw);this.f0=[];for(var R=0;R<FNTS.subsetNames.length;
R++){var A=new ho(FNTS.subsetNames[R]);this.f0.push(A);A.k(z.E.n,this.a3f,this);A.q(!1);this.aAw.appendChild(A._);
this.b4.push(A.V()?1:0)}}bv.prototype=new hV;bv.prototype.aDG=function(s){var M=this.f0;for(var R=0;
R<M.length;R++){var O=(s>>>R&1)==1;this.b4[R]=O;M[R].q(O)}};bv.prototype.ayq=function(){return this.dE};
bv.prototype.T=function(){this._.textContent=this.$0?this.$0:aW.get([25,1,0])+" \u25BC";this.j5.T();
this.acO.T()};bv.prototype.Hk=function(s){var M=this._.getBoundingClientRect(),O=new kg(z.E.c,!0);O.data={Q:z.J.EU,uJ:this.dm,x:M.left,y:M.top+M.height,LU:!0};
this.a(O)};bv.prototype.ym=function(s){if(this.Lk[s[4]]==0)return!1;else for(var M=0;M<this.b4.length;
M++)if(this.b4[M]==1&&(s[3]>>>M&1)==0)return!1;return!0};bv.prototype.aBV=function(s){var M=s.target.V(),O=this.cz,P=this.Lk;
for(var R=0;R<O.length;R++){O[R].q(M);P[R]=M?1:0}this.a(new kg(z.E.n,!1))};bv.prototype.ait=function(s){var M=s.target.V(),O=this.f0,P=this.b4;
for(var R=0;R<O.length;R++){O[R].q(M);P[R]=M?1:0}this.a(new kg(z.E.n,!1))};bv.prototype.aiU=function(s){var R=this.cz.indexOf(s.target),M=this.pW[R].index;
this.Lk[M]=1-this.Lk[M];this.a(new kg(z.E.n,!1));this.at0(this.cz,this.j5)};bv.prototype.a3f=function(s){var R=this.f0.indexOf(s.target);
this.b4[R]=1-this.b4[R];this.a(new kg(z.E.n,!1))};bv.prototype.at0=function(s,M){var O=!0;for(var R=0;
R<s.length;R++)O=O&&s[R].V();M.q(O)};function kK(s,M,O){ik.call(this,M,!0,"gradientbutton",18*13,10*13,g5.hL);
this.UC=-1;this.Cc=-1;this.aFZ=null;this.a97=s;this.jG=O}kK.prototype=new ik;kK.prototype.T3=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.xL,Rj:"gradienteditor",wv:this.Bk,h3:this.aje.bind(this),Pq:this.jG};this.a(M)};kK.prototype.aje=function(s){this.q(s);
this.a(new kg(z.E.n))};kK.prototype.hz=function(s,M){this.UC=s;this.Cc=M;this.uw()};kK.prototype.uw=function(){if(this.Bk==null)return;
var s=JSON.stringify(this.Bk)+","+this.UC+","+this.Cc;if(s==this.aFZ)return;this.aFZ=s;var M=Math.floor(80*i.yD()),O=Math.floor(16*i.yD()),P=$.qM.XB(this.Bk,M,O,0,this.UC,this.Cc);
this.nM.setAttribute("src",P);i.cq(this.nM,M,O)};kK.prototype.V=function(){var s;if(this.a97)s=$.qM.avO(this.Bk,this.UC,this.Cc);
else s=a.G(this.Bk);return s};function gZ(s){ik.call(this,s,!1,"swatchbutton",16*13,9.5*13,g5.X1)}gZ.prototype=new ik;
function aw(s){ik.call(this,null,!0,"swatchbutton",16*13,8.75*13,g5.pr);this.W0=s}aw.prototype=new ik;
aw.prototype.ek=function(s){var M=this.L3,O=s.target.V();this.q(O==0?[]:M.bB[O-1][1],M);this.a(new kg(z.E.n))};
aw.prototype.T3=function(s){if(this.Bk.length!=0)ap.a4X(this.Bk,this,this.qr.bind(this))};aw.prototype.qr=function(s){var M=s;
if(typeof s=="number"){M=a.Aj(s,1);M=[M.o,M.R,M.X]}this.q(M);this.a(new kg(z.E.n))};aw.prototype.q=function(s,M){this.Bk=s;
this.uw(M)};aw.prototype.uw=function(s){var M=Math.floor(20*i.yD()),O=Math.floor(20*i.yD()),P=i.m("canvas"),y=P.getContext("2d");
P.width=M;P.height=O;ap.OO(y,this.Bk,s,M,O,0,0,this.W0==1);var F=y.canvas.toDataURL("png");this.nM.setAttribute("src",F);
i.cq(this.nM,M,O)};aw.prototype.RP=function(){if(!this.au)return;var s=Math.floor(20*i.yD()),M=Math.floor(20*i.yD()),O=[],P=[],y=this.L3,F=y.bB,A=i.m("canvas"),h=A.getContext("2d");
A.width=s;A.height=M;F=[["None",[]]].concat(F);for(var R=0;R<F.length;R++){P.push(F[R][0]);ap.OO(h,F[R][1],y,s,M,0,0);
var m=h.canvas.toDataURL("png");O.push(m)}this._e.KC(O,P,s,M);this.au=!1};aw.prototype.V=function(){return a.G(this.Bk)};
function hf(s,M,O){hV.call(this);this._=i.m(O?"div":"span");var P=this.mQ=i.m("input");this.mQ.setAttribute("type","file");
if(M)P.setAttribute("multiple","");this.mQ.addEventListener("change",this.aHE.bind(this),!1);this.atK=this.tx.bind(this);
this.eI={};this.Gl=0;this.WA=s;var y=this.kf=new fU(aW.get(s)+" (0)",null,null,!0);this._.appendChild(y._);
y.addEventListener("click",function(F){P.click()});if(O){this.$U=i.m("div","scrollable");i.P(this.$U,"height:120px; width:100%; line-height:1.5em;");
this._.appendChild(this.$U);this.gq()}}hf.prototype=new hV;hf.prototype.q=function(s){this.eI=s;this.gq()};
hf.prototype.V=function(s){return this.eI};hf.prototype.aHE=function(s){var M=s.target.files;this.Gl=M.length;
this.eI={};for(var R=0;R<M.length;R++){var O=M[R],P=new FileReader;P.onload=this.atK;P.$D=O.name;P.readAsArrayBuffer(O)}};
hf.prototype.tx=function(s){var M=this.eI[s.target.$D]=new Uint8Array(s.target.result);this.Gl--;if(this.Gl==0){this.gq();
this.a(new kg(z.E.n));this.mQ.value=null}};hf.prototype.gq=function(){var s=this.eI;this.kf.x3(aW.get(this.WA)+" ("+Object.keys(s).length+")");
var M=this.$U;if(M==null)return;i.Lq(M);var O=[];for(var P in s)O.push(P);O.sort();for(var R=0;R<O.length;
R++){var y=i.m("div");y.textContent=O[R];M.appendChild(y)}};function e5(s,M,O,P,y){if(s==null)s=!1;if(M==null)M=!1;
if(O==null)O=!1;hV.call(this);this.xM=new j6;this.jY=new j6;this.a5i=72;this.f7=72;this.aCF=P;this.Fv=!0;
this.x8=!1;this._=i.m("span");this.xj=new hQ([12,41],0,0,null,0,!1,!0,4);this._.appendChild(this.xj._);
this.xj.k(z.E.n,this.qP,this);var F=["px","%"];if(s)F=F.concat(["cm","mm","in"]);if(y){F=[[12,76,2],[12,76,6]];
if(s)F=F.concat([[12,76,4],[12,76,5],[12,76,3]])}this.eU=new d_(null,F);this._.appendChild(this.eU._);
i.QP(this._);this.eU.k(z.E.n,this.qP,this);this.Bd=new hQ([12,42],0,0,null,0,!1,!0,4);this._.appendChild(this.Bd._);
this.Bd.k(z.E.n,this.qP,this);this.Ir=new fU("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.Ir.k("click",this.qP,this);this.hu=new df("");this.hu._.style.margin="0";this.hu._.style.padding="0";
if(M){this._.appendChild(this.Ir._);this._.appendChild(this.hu._);this.Ir.Mg()}else{var A=this.avh=new fU("\u21C6",!1,null,!0);
A.k("click",this.TG,this);this._.appendChild(A._)}this.aN=new hQ("DPI",0,0,null,3,!1,!0,4);this.bX=new d_(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);
if(s&&!P){i.QP(this._);this._.appendChild(this.aN._);this._.appendChild(this.bX._)}this.bX.k(z.E.n,this.qP,this);
this.aN.k(z.E.n,this.qP,this);this.pw=new ho([12,23,1]);this.pw.k(z.E.n,this.qP,this);if(O){i.QP(this._);
this._.appendChild(this.pw._)}i.QP(this._)}e5.prototype=new hV;e5.prototype.GK=function(s,M){this.xj.Qn.style.width=this.Bd.Qn.style.width=(s-78-this.Ir.La())/2+"px"};
e5.prototype.Jl=function(){var s=this.aCF;this.xj.Jl();this.Bd.Jl();this.eU.Jl();var M=this._;i.Lq(M);
this.eU._.style.marginRight="0";M.appendChild(this.xj._);if(this.avh)M.appendChild(this.avh._);else M.appendChild(this.Ir._);
M.appendChild(this.Bd._);M.appendChild(this.eU._);this.aN.Jl();this.bX.Jl();if(!s){i.QP(M);M.appendChild(this.aN._);
M.appendChild(this.bX._)}};e5.prototype.a7=function(){this.xj.a7()};e5.prototype.a4V=function(s,M){this.Fv=s;
if(M!=null)this.x8=M;if(!this.Fv&&!this.x8&&this.eU.V()==0){this.eU.q(4);this.cx()}};e5.prototype.aCt=function(s){this.Ir.q(s)};
e5.prototype.T=function(){this.xj.T();this.Bd.T();this.aN.T();this.bX.T();this.Ir.T();this.pw.T();this.eU.T()};
e5.prototype.TG=function(s){var M=this.jY.x;this.jY.x=this.jY.y;this.jY.y=M;this.cx();this.a(new kg(z.E.n,!1))};
e5.prototype.qP=function(s){if(s.target==this.eU&&!this.Fv&&!this.x8&&this.eU.V()==0)this.eU.q(4);if(s.target==this.eU||s.target==this.pw){this.cx();
return}if(s.target==this.Ir)s.target.q(!s.target.V());if(s.target==this.bX)window.locStor.setItem("dpiUnit",this.bX.V());
var M=this.xM,O=parseFloat(this.xj.V());if(isNaN(O))O=1;var P=parseFloat(this.Bd.V());if(isNaN(P))P=1;
var y=this.aN.V()*[1,2.54][this.bX.V()],F=this.eU.V();if(this.Fv){var A=this.f7;if(F==1){O=this.xM.x*(O/100);
P=this.xM.y*(P/100)}var h=[1,1,2.54/A,25.4/A,1/A][F];O/=h;P/=h;if(this.pw.V()){O+=this.xM.x;P+=this.xM.y}if(s.target==this.aN){var m=y;
if(!this.x8){var Z=m/A;O*=Z;P*=Z}A=m}if(this.Ir.V()){if(s.target==this.xj)P=O*(M.y/M.x);else O=P*(M.x/M.y)}O=Math.max(Math.abs(O),1);
P=Math.max(Math.abs(P),1)}else{var A=this.a5i;if(s.target==this.aN)A=y;else{if(this.Ir.V()){if(s.target==this.xj)P=O*(M.y/M.x);
else O=P*(M.x/M.y)}var h=[1,1,2.54/A,25.4/A,1/A][F],u=O/(F==1?100:M.x*h);A=A/u}O=M.x;P=M.y}this.jY=new j6(Math.round(O),Math.round(P));
this.f7=A;this.cx();this.a(new kg(z.E.n,!1))};e5.prototype.J$=function(R){this.eU.q(R);this.cx()};e5.prototype.aAW=function(){return this.eU.V()};
e5.prototype.q=function(s,M,O){var P=window.locStor.getItem("dpiUnit");if(P!=null)this.bX.q(P);if(O!=!0)this.xM=s.v();
this.jY=s.v();if(M!=null){this.a5i=M;this.f7=M}this.cx()};e5.prototype.cx=function(){var s=this.jY.x,M=this.jY.y,O=this.f7,P=(s/M).toFixed(3);
while(P.charAt(P.length-1)=="0")P=P.substring(0,P.length-1);if(P.charAt(P.length-1)==".")P=P.substring(0,P.length-1);
var y="  "+P+" : 1",F=function(u,f){while(f!=0){var U=f;f=u%f;u=U}return u},A=F(s,M);if(Math.min(s,M)/A<10)y="  "+Math.round(s/A)+" : "+Math.round(M/A);
this.hu.q(y);if(this.pw.V()){s-=this.xM.x;M-=this.xM.y}var h=this.eU.V();if(h==1){if(this.Fv){s=100*s/this.xM.x;
M=100*M/this.xM.y}else{s=M=100*this.a5i/this.f7}}else{s=Math.round(s);M=Math.round(M)}var m=[1,1,2.54/O,25.4/O,1/O][h];
s*=m;M*=m;var Z=h==1||h==2||h==4?2:0;this.xj.fF(Z);this.Bd.fF(Z);this.xj.q(s);this.Bd.q(M);this.aN.q(O*[1,1/2.54][this.bX.V()])};
e5.prototype.V=function(){return this.jY.v()};e5.prototype.L7=function(){return this.f7};function ku(s,M,O){hV.call(this);
var P=s==0?["W","H","X","Y"]:["\u250F","\u2517","\u2513","\u251B"];this.bo=s;this.ad3=M;this.asQ=1;this.aBH=[1,1,0];
var y=this._=i.m("div","numlist"),F=i.m("div","flexrow");y.appendChild(F);var A=i.m("div"),h=i.m("div");
F.appendChild(A);F.appendChild(h);i.P(A,"width:100px");i.P(h,"width:100px");var m=this.AH=[];for(var R=0;
R<4;R++){var Z=new hQ(P[R],0,0,null,2,!1,!0,4,null,O&&R<2);Z.k(z.E.n,this.qP,this);(R<2?A:h).appendChild(Z._);
m[R]=Z}m[4]=new ho(s==0?[12,51]:[12,91,2]);m[4].q(!0);y.appendChild(m[4]._)}ku.prototype=new hV;ku.prototype.T=function(){var s=this.AH;
for(var R=0;R<5;R++)s[R].T();if(this.bo==0)i.w7(s[0],s[1])};ku.prototype.q=function(s,M){if(M)this.aBH=M;
M=this.aBH;var O=this.bo==0?[s[2],s[3],s[0],s[1]]:[s[0],s[3],s[1],s[2]];this.asQ=s[2]/s[3];for(var R=0;
R<4;R++){var P=this.AH[R];P.fF(M[2]==0&&this.ad3?0:2);P.q(a.f8.tp(O[R],M[0],M[1],M[2]))}};ku.prototype.V=function(){var s=[],M=this.aBH;
for(var R=0;R<4;R++){var O=a.f8.Yn(this.AH[R].V(),M[0],M[1],M[2]);s[R]=this.ad3?Math.round(O):O}var P=this.bo==0?[s[2],s[3],s[0],s[1]]:[s[0],s[2],s[3],s[1]];
return P};ku.prototype.qP=function(s){var M=this.bo,O=this.AH.indexOf(s.currentTarget),P=this.V(),y=this.AH[4].V();
if(M==0){P[2]=Math.max(1,P[2]);P[3]=Math.max(1,P[3]);if(y&&O==0)P[3]=P[2]/this.asQ;if(y&&O==1)P[2]=P[3]*this.asQ}if(M==1){P[O]=Math.max(0,P[O]);
if(y)for(var R=0;R<4;R++)P[R]=P[O]}this.q(P,null);this.a(new kg(z.E.n,!1))};function iK(s){hV.call(this);
this.aB5=0;this.dB=[0,0,1,1,100,100];this.NA=[10,5,1,1,4,3,3,2,16,9];this.axQ=0;this.ay8=72;this.aif=s;
this._=i.m("span","fitem");this.T5=new d_(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this._.appendChild(this.T5._);this.T5.k(z.E.n,this.qP,this);this.xj=new hQ("W",0,0,null,2,!1,!0);this._.appendChild(this.xj._);
this.xj.k(z.E.n,this.qP,this);var M=this.U3=new fU("\u21C4",!1,null,!0);M.k("click",this.TG,this);this._.appendChild(M._);
this.Bd=new hQ("H",0,0,null,2,!1,!0);this._.appendChild(this.Bd._);this.Bd.k(z.E.n,this.qP,this);this.aN=new hQ("New DPI",0,0,null,3,!1,!0,4);
this.aN.k(z.E.n,this.qP,this);this.q({t:0,x:0,y:0})}iK.prototype=new hV;iK.prototype.iW=function(s){this.NA[0]=s[0];
this.NA[1]=s[1];var M=this.V();this.ay8=s[2];this.axQ=s[3];this.q(M)};iK.prototype.T=function(){i.w7(this.xj,this.Bd);
this.aN.T();this.T5.T()};iK.prototype.TG=function(s){var M=this.Bd.V();this.Bd.q(this.xj.V());this.xj.q(M);
this.qP(s)};iK.prototype.qP=function(s){if(s.target==this.T5){var R=this.T5.V(),M=this.dB,O=this.aN._;
if(R==2&&O.parentNode==null&&this.aif)this._.appendChild(O);if(R!=2&&O.parentNode!=null)this._.removeChild(O);
if(R>2){R-=3;var P=this.NA[2*R],y=this.NA[2*R+1];M[2]=P;M[3]=y;this.xj.q(P);this.Bd.q(y);this.T5.q(1)}var F=this.V();
M[this.aB5*2]=F.x;M[this.aB5*2+1]=F.y;this.aB5=F.t;this.q({t:F.t,x:M[F.t*2],y:M[F.t*2+1]})}if(this.xj.V()<1)this.xj.q(1);
if(this.Bd.V()<1)this.Bd.q(1);this.a(new kg(z.E.n,!1))};iK.prototype.q=function(s){this.T5.q(s.t);var M=s.x,O=s.y;
if(s.t==2){var P=this.axQ,y=this.ay8,F=this.NA;M=a.f8.tp(s.x,y,F[0],P);O=a.f8.tp(s.y,y,F[1],P)}this.xj.q(M);
this.Bd.q(O);if(s.t==0){this.xj.XX();this.Bd.XX();this.U3.XX()}else{this.xj.Zc();this.Bd.Zc();this.U3.Zc()}};
iK.prototype.V=function(){var s=this.xj.V(),M=this.Bd.V(),O=this.T5.V();if(O==2){var P=this.axQ,y=this.ay8,F=this.NA;
s=a.f8.Yn(s,y,F[0],P);M=a.f8.Yn(M,y,F[1],P);s=Math.round(s);M=Math.round(M)}var A={t:O,x:s,y:M},h=this.aN.V();
if(this.aif&&h!=0)A.FR=h;return A};function im(s){hV.call(this);this._=i.m("span","");this.ai0=s;var M=s?100:300;
this.Tp=new fB("Off X",-M,M,s?"%":"px",0,!s);this.ax=new fB("Off Y",-M,M,s?"%":"px",0,!s);this.Tp.k(z.E.n,this.qP,this);
this.ax.k(z.E.n,this.qP,this);this._.appendChild(this.Tp._);this._.appendChild(this.ax._)}im.prototype=new hV;
im.prototype.T=function(){this.Tp.T();this.ax.T()};im.prototype.qP=function(s){this.a(new kg(z.E.n,!1))};
im.prototype.a5I=function(s){this.Tp.q(s.x);this.ax.q(s.y)};im.prototype.aBp=function(){return new j6(this.Tp.V(),this.ax.V())};
im.prototype.q=function(s,M){var O=s.Hrzn.v,P=s.Vrtc.v;if(this.ai0){O=O.val;P=P.val}this.Tp.q(O);this.ax.q(P);
if(M==!0)this.qP()};im.prototype.V=function(){var s=this.Tp.V(),M=this.ax.V();if(this.ai0)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:s}},Vrtc:{t:"UntF",v:{type:"#Prc",val:M}}};
else return{classID:"Pnt",Hrzn:{v:s,t:"doub"},Vrtc:{v:M,t:"doub"}}};function jk(s,M){hV.call(this);this._=i.m("button");
this.Dw=[{WJ:3,wm:[]},{WJ:3,wm:[12,6],wF:0},{WJ:3,wm:[0,6],wF:1,sa:1}];this.ON=aV.S0.Jb();this.aiT=s;
this.uN=M;this._.addEventListener("click",this.Hk.bind(this),!1);var O=i.m("canvas","gsicon");this.KM=O.getContext("2d");
this._.appendChild(O);var P=i.m("span");P.textContent=" \u25BC";this._.appendChild(P);this.dm=new hV;
this.dm.parent=this;this.dm._=i.m("div","floatcont form label6");var y=this.dm._;i.P(y,"width: 15em;");
this.OX=[M?new ho("Fill First"):new d_([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new e0([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new e0([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new hQ("Limit",1,50,null,null,null,!0,2.5),new hH([19,9,2])];
for(var R=0;R<this.OX.length;R++){var F=this.OX[R];if(dc==0||R!=0||!M)y.appendChild(F._);F.k(z.E.n,this.qP,this)}i.QP(y);
this.AD=[];var A=this.Gc.bind(this);for(var R=0;R<this.Dw.length;R++){var h=i.m("button","fitem");this.AD.push(h);
y.appendChild(h);h.addEventListener("click",A,!1);var O=i.m("canvas","gsicon"),m=O.getContext("2d");
h.appendChild(O);this.aIS(m,40,20,this.Dw[R])}}jk.prototype=new hV;jk.prototype.Hk=function(s){var M=this._.getBoundingClientRect(),O=new kg(z.E.c,!0);
O.data={Q:z.J.EU,uJ:this.dm,x:M.left,y:M.top+M.height+4,LU:!0};this.a(O)};jk.prototype.qP=function(s){var M=this.OX,O=M.indexOf(s.target),P=M[O].V(),y=this.ON;
if(O==0)y.KG=this.uN?P?1:0:P;if(O==1)y.wF=P;if(O==2)y.sa=P;if(O==3)y.LN=P;if(O==4){var F=y.wm=P==""?[]:P.split(" ").map(parseFloat);
if(!this.aiT)for(var R=0;R<F.length;R++)F[R]*=y.WJ}this.a(new kg(z.E.n,!1))};jk.prototype.Gc=function(s){var M=this.AD.indexOf(s.currentTarget),O=this.Dw[M],P=this.ON;
if(O.wF!=null)P.wF=O.wF;if(O.sa!=null)P.sa=O.sa;P.wm=O.wm.slice(0);if(P.WJ==null)P.WJ=3;for(var R=0;
R<P.wm.length;R++)P.wm[R]*=P.WJ/O.WJ;this.a(new kg(z.E.n,!1))};jk.prototype.T=function(){for(var R=0;
R<this.OX.length;R++)this.OX[R].T()};jk.prototype.q=function(s){this.ON=a.G(s);var M=this.OX;if(s.KG!=null)M[0].q(this.uN?s.KG==1:s.KG);
if(s.wF!=null)M[1].q(s.wF);if(s.sa!=null)M[2].q(s.sa);if(s.LN!=null)M[3].q(s.LN);M[3].oo(s.sa==0);if(s.wm!=null){var O=s.wm.slice(0);
if(!this.aiT)for(var R=0;R<O.length;R++)O[R]/=s.WJ;M[4].q(O.join(" "))}this.aIS(this.KM,40,16,s)};jk.prototype.V=function(){return a.G(this.ON)};
jk.prototype.aIS=function(s,M,O,P){i.MQ(s.canvas,M,O);var y=P.wm?P.wm:[],F=P.WJ;if(F==null)F=3;else{F=Math.min(5,F);
y=y.slice(0);for(var R=0;R<y.length;R++)y[R]*=F/P.WJ}s.clearRect(0,0,M,O);s.setLineDash(y);s.lineCap=["butt","round","square"][P.wF];
s.lineJoin=["miter","round","bevel"][P.sa];s.lineWidth=F;s.beginPath();s.moveTo(0,O/2);s.lineTo(M*2,O/2);
s.stroke()};function ez(s){ik.call(this,s,!1,"contourbutton",34*13,16*13,g5.VE,!0);this.jI=new hH([12,86],null,16);
this.jI.k("input",this.IW,this);this.dm._.appendChild(this.jI._);this.aDc=null;this.EX="";this.TO=null;
this.q(dM.Jb())}ez.prototype=new ik;ez.prototype.T=function(){ik.prototype.T.call(this);this.jI.T()};
ez.prototype.ek=function(s){this.q(this.aDc[s.target.V()[0]]);this.a(new kg(z.E.n))};ez.prototype.IW=function(s){this.EX=this.jI.V().toLowerCase();
this.awI()};ez.anl=!1;ez.prototype.RP=function(){if(!this.au)return;var s=this.L3;if(s==null||!ez.anl){var M=new kg(z.E.c,!0);
M.data={Q:z.J.Xi,dh:{url:"rsrc/basic/fa.zip"}};this.a(M);ez.anl=!0}else{var O=Date.now(),P=Math.floor(38*i.yD()),y=Math.floor(38*i.yD());
this.TO=[];for(var R=0;R<s.length;R++){if(s[R].aab==null)s[R].aab=ez.aK9(s[R],P,y);this.TO.push(s[R].aab)}this.awI();
this.au=!1}};ez.prototype.awI=function(){var s=Math.floor(38*i.yD()),M=Math.floor(38*i.yD());this.aDc=[];
var O=[],P=[],y=this.L3;for(var R=0;R<y.length;R++){if(y[R].Bj.toLowerCase().indexOf(this.EX)==-1)continue;
this.aDc.push(y[R]);O.push(this.TO[R]);P.push(y[R].Bj)}this._e.KC(O,P,s,M)};ez.prototype.q=function(s){this.Bk=ez.v(s);
this.uw()};ez.prototype.uw=function(){var s=Math.floor(23*i.yD()),M=Math.floor(23*i.yD()),O=ez.aK9(this.Bk,s,M);
this.nM.setAttribute("src",O);i.cq(this.nM,s,M)};ez.prototype.V=function(){return ez.v(this.Bk)};ez.v=function(s){return{Bj:s.Bj,wA:s.wA,u:ad.Vp.X4(s.u),rC:s.rC.v()}};
ez.Tb=null;ez.KM=null;ez.aK9=function(s,M,O){var P=s.rC,y=Math.min(M/P.A,O/P.$)*.9,F=new kp;F.translate(-.5,-.5);
F.scale(.95,.95);F.translate(.5,.5);F.scale(y*P.A,y*P.$);F.translate((M-y*P.A)/2,(O-y*P.$)/2);var A=a.FL(M,O);
A.save();A.fillStyle="black";A.clearRect(0,0,M,O);A.setTransform(F.cd,F.X,F.xN,F.zv,F.cj,F.H3);a.z.u9(s.u,A,0,0);
A.restore();var h=UPNG.encode([A.getImageData(0,0,M,O).data.buffer],M,O,0);return"data:image/png;base64,"+b_.lW(h)};
function bc(s){ik.call(this,s,!1,"ICCButton",16*13,12*13,g5.WQ,!0);this._e.C8(1)}bc.prototype=new ik;
bc.prototype.tM=function(){var s="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var R=0;R<s.length;R++)s[R]="luts/"+s[R]+".CUBE";return s};bc.prototype.ek=function(s){this.q(this.L3[s.target.V()]);
this.a(new kg(z.E.n))};bc.prototype.RP=function(){if(!this.au)return;var s=Math.floor(1*i.yD()),M=Math.floor(1*i.yD()),O=[],P=[],y=this.L3;
for(var R=0;R<y.length;R++){var F=y[R].Nm.v.split("\\").pop().split("/").pop();P.push(F);O.push(bc.XB(y[R],s,M))}this._e.KC(O,P,s,M);
this.au=!1};bc.XB=function(s,M,O){var P=i.m("canvas"),A="ICC / 3DL / look / cube";P.width=M;P.height=O;
var y=P.getContext("2d"),F=Math.floor(14*i.yD());y.font=F+"px sans-serif";if(s.Nm)A=s.Nm.v.split("\\").pop().split("/").pop();
y.fillText(A,10,F);return P.toDataURL()};bc.prototype.uw=function(){var s=Math.floor(120*i.yD()),M=Math.floor(20*i.yD());
this.nM.setAttribute("src",bc.XB(this.Bk,s,M));i.cq(this.nM,s,M)};function dW(){hV.call(this);this.Ma=null;
this._=i.m("span","fitem");this.Zr=new fh([14,9]);this.aHM=new hQ(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.FD=new jk;this.VD=[this.Zr,this.aHM,this.FD];for(var R=0;R<this.VD.length;R++){var s=this.VD[R];
this._.appendChild(s._);s.parent=this;s.k(z.E.n,this.qP,this)}}dW.prototype=new hV;dW.prototype.T=function(){for(var R=0;
R<this.VD.length;R++)this.VD[R].T()};dW.prototype.qy=function(s,M){this.Zr.qy(s,M)};dW.prototype.qP=function(s){var M=this.Ma,O=this.Zr.V();
aV.IF(M,O);M.strokeStyleLineWidth.v.val=this.aHM.V();if(s.target==this.FD)aV.To.write(M,this.FD.V());
this.Ma=M;this.a(new kg(z.E.n,!1))};dW.prototype.q=function(s,M,O){this.Ma=a.G(M);var P=aV.wh(M);this.Zr.q(s,P,O);
this.aHM.q(M.strokeStyleLineWidth.v.val);this.FD.q(aV.To.nc(M))};dW.prototype.V=function(){return a.G(this.Ma)};
function gs(s){var M=[[18,0],[18,1],[18,2],[18,3]],O=e0.$b(["set/front","set/union","set/difference","set/intersection"]);
e0.call(this,s?[12,36]:null,O,M)}gs.prototype=new e0;function ji(){hV.call(this);this._=i.m("button","fitem bbtn");
i.dq(this._,this.kO.bind(this));this.dm=new hV;this.dm._=i.m("div","floatcont form");i.P(this.dm._,"max-width: 200px;");
this.dm.parent=this;var s=jH;this.o8=[new ho("Start"),new ho("End"),new s([12,41],0,100,"px",null,!0,null,!0),new s([12,80,0],0,100,"px",null,!0,null,!0),new s("Concavity",-50,50,"%",null,null,null,!0)];
for(var R=0;R<this.o8.length;R++){var M=this.o8[R];M.parent=this;M.k(z.E.n,this.qr,this);this.dm._.appendChild(M._)}this.ao6=i.m("div");
this.dm._.appendChild(this.ao6)}ji.prototype=new hV;ji.prototype.q=function(s){for(var R=0;R<5;R++)this.o8[R].q(s[R]);
this.gq()};ji.prototype.V=function(s){var M=[];for(var R=0;R<5;R++)M[R]=this.o8[R].V();return M};ji.prototype.T=function(){this._.textContent=aW.get([12,93,4]);
for(var R=0;R<this.o8.length;R++)this.o8[R].T()};ji.prototype.qr=function(s){this.a(new kg(z.E.n,!1));
this.gq()};ji.prototype.gq=function(s){var M=this.V(),O=200,P=60;M[2]/=i.yD();M[3]/=i.yD();var y=a.z.uU.mx(0,P/2,O,P/2,5,M),F=a.z.G4(y);
this.ao6.innerHTML="<svg width=\""+O+"\" height=\""+P+"\" class=\"gsicon\">\t\t\t<path d=\""+F.fp+"\" />\t\t\t</svg>"};
ji.prototype.kO=function(s){if(i.qE(this.dm._))return;s.stopPropagation();var M=this._.getBoundingClientRect(),O=new kg(z.E.c,!0);
O.data={Q:z.J.EU,uJ:this.dm,x:M.left,y:M.top+M.height,LU:!0};this.a(O)};function dw(){hV.call(this);
this._=i.m("div");this.AH=[];this.ano=[];var s=this.oX=i.m("div"),M=i.m("h2");M.textContent="Create Teams";
s.appendChild(M);M.style.margin="26px 0 16px 0";var O=new fU("More about Teams",!1,null,!0);M.appendChild(O._);
O._.style.float="right";O.k("click",this.akI,this);this.rH=i.m("div");s.appendChild(this.rH);this.a7B=new hH("Team Name",null,10);
s.appendChild(this.a7B._);var P=this.a6K=new fU("Create Team",null,null,!0);s.appendChild(P._);P.k("click",this.a7P,this);
var M=i.m("h2");M.textContent="Join Teams";s.appendChild(M);M.style.margin="26px 0 16px 0";this.bw=i.m("div");
s.appendChild(this.bw);this.aku=new hH("Team ID",null,10);s.appendChild(this.aku._);var P=new fU("Join Team",null,null,!0);
s.appendChild(P._);P.k("click",this.a7P,this);this.abF;this.aGL=this.o3.bind(this);this.aFD=this.ax1.bind(this);
this.a33=!1;this.k$();this.TQ=null;this.asx=""}dw.prototype=new hV;dw.prototype.akI=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.xR,link:"https://www.photopea.com/api/accounts#teams"};this.a(M)};dw.prototype.k$=function(){clearTimeout(this.aiE);
this.aiE=setTimeout(this.aFD,this.TQ?10:3e3)};dw.prototype.ax1=function(){var s=dB.Nx();if(document.hidden||!i.qE(this._)||s==null){this.k$();
return}var M=dB.iJ();if(this.TQ==null&&M==null)return;dB.Cf(this.TQ?this.TQ:M,this.aGL);this.a33=!0;
this.TQ=null};dw.prototype.aBE=function(s){s.acc.update=!0;this._.style.pointerEvents="none";this._.style.opacity="0.5";
if(this.a33)this.TQ=s;else{clearTimeout(this.aiE);dB.Cf(s,this.aGL)}};dw.prototype.MW=function(s){var M=typeof s=="string"?this.abF:this.AH.indexOf(s.target),O=this.ano[M],P=O[0],y=dB.iJ();
if(y==null)y={};var F=y.acc,A=F.tjoin,h=F.tstart;if(P=="leave"){A.splice(A.indexOf(O[1]),1)}if(P=="add"||P=="remove"||P=="delTeam"||P=="showRename"||P=="rename"){var m=-1,Z=0;
for(var R=0;R<h.length;R++){Z+=h[R][1].length;if(h[R][2]==O[1])m=R}var u=h[m];if(P=="add"){var f=dB.Mo();
if(f&&f[0]==0&&f[1][2]<=Z){alert("You can have at most "+f[1][2]+" members in your Premium.");return}u[1].push(O[2])}if(P=="remove")u[1].splice(u[1].indexOf(O[2]),1);
if(P=="delTeam"){if(u[1].length!=0){alert("Remove members first.");return}h.splice(m,1)}if(P=="showRename"){var U=new kg(z.E.c,!0);
U.data={Q:z.J.xL,Rj:"namewindow",dK:u[0],Xp:this.MW.bind(this)};this.a(U);this.abF=M;O[0]="rename";return}if(P=="rename")u[0]=s}this.aBE(y)};
dw.prototype.a7P=function(s){var M=this.a6K==s.target,O=(M?this.a7B:this.aku).V().trim();if(O==""){alert("The Team "+(M?"Name":"ID")+" is empty.");
return}if(!M){O=parseInt(O);if(isNaN(O)){alert("The ID must be a number");return}}var P=dB.iJ();if(P==null)P={};
var y=P.acc;if(y==null)y=P.acc={};var F=y.tstart,A=y.tjoin;if(M){if(F==null)F=y.tstart=[];if(F.length>5){alert("You can have at most 5 teams");
return}F.push([O,[]])}else{if(F)for(var R=0;R<F.length;R++)if(F[R][2]==O){alert("You are the owner of this team");
return}if(A==null)A=y.tjoin=[];if(A.indexOf(O)!=-1){alert("You already asked to join this team.");return}y.tjoin.push(O)}y.update=!0;
this.aBE(P)};dw.prototype.o3=function(){this.a33=!1;var s=dB.Nx(),M=s!=null,O=this.oX.parentNode!=null;
if(M!=O){i.Lq(this._);if(M)this._.appendChild(this.oX);else this._.textContent="Log In to access Team Settings."}if(!M)return;
var P=dB.iJ();if(P==null)P={};var y=P.acc;if(y==null)y={};var F=JSON.stringify(y)+"===="+JSON.stringify(s);
if(F!=this.asx){this.asx=F;var A=this.rH,h=this.bw;i.Lq(A);i.Lq(h);var m=this.AH=[],Z=this.ano=[],u=this.MW.bind(this);
function f(K,q){K.addEventListener("click",u);m.push(K);Z.push(q)}function U(E,K){var W=i.m("div"),q="rgba(255,255,255,0.15)";
W.appendChild(H("ID: "+E[2],54,q));W.appendChild(H(E[0],160,null,!0));if(K){W.appendChild(H(E[1].length+" members",80,null,!0))}else{W.appendChild(H(E[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<E[1]*1e3)W.appendChild(H("Premium",80,"rgba(0,140,0,1)"))}var d=H("",120);W.appendChild(d);
i.P(d,"float:right;text-align:right");if(K){var l=new fU("Rename",null,null,!0);f(l,["showRename",E[2]]);
d.appendChild(l._)}var l=new fU(K?"Delete":"Leave",null,null,!0);f(l,[K?"delTeam":"leave",E[2]]);d.appendChild(l._);
return W}function C(K,q,J){var W=i.m("div");W.style.paddingLeft="46px";W.appendChild(H(q?"\u2713":"...",8,q?"#229922":"#aa7700"));
W.appendChild(H(K[1],200));W.appendChild(H(K[2],240));var d=H("",120);W.appendChild(d);i.P(d,"float:right;text-align:right");
var l=new fU(q?"Remove":"Add",null,null,!0);f(l,[q?"remove":"add",J,K[0]]);d.appendChild(l._);return W}function H(K,q,d,l){var T=i.m("span");
T.textContent=K;i.P(T,"display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+q+"px;  "+(d!=null?"background-color:"+d+";":"")+(l?"font-weight:bold;":""));
return T}var t=y.tstart,X=y.tjoin,Q=s.wantToJoin,D=s.inTeams;if(t)for(var L=0;L<t.length;L++){var E=t[L],_=Q["t"+E[2]];
if(_==null)_=[];var S={};for(var R=0;R<_.length;R++)S["u"+_[R][0]]=_[R];var W=U(E,!0);A.appendChild(W);
W.style.marginTop="10px";for(var R=0;R<E[1].length;R++){var g=E[1][R],x=S["u"+g];if(x==null)x=[g,"========","... user has left your team"];
delete S["u"+g];var V=C(x,!0,E[2]);A.appendChild(V)}for(var b in S){var x=S[b],V=C(x,!1,E[2]);A.appendChild(V)}}if(X){var N={};
for(var R=0;R<D.length;R++)N["t"+D[R][2]]=D[R];for(var L=0;L<X.length;L++){var J=X[L],E=N["t"+J],W=U(E?E:["==========",-1,J],!1);
h.appendChild(W)}}this.a(new kg(z.E.n))}if(this.TQ==null){this._.style.pointerEvents="auto";this._.style.opacity="1"}this.k$()};
function gy(){hV.call(this);this._=i.m("span","fitem SymButton");var s=this.kf=new fU("<img src=\""+PIMG.sym+"\" class=\"autoscale gsicon\" />");
this._.appendChild(s._);i.gE(s._,this.JQ.bind(this));this.dP=null;this.T()}gy.prototype=new hV;gy.prototype.T=function(){if(this.dP)this.dP.T()};
gy.prototype.JQ=function(s){var M=this.dP;if(M==null){var O=40,P=40,y=i.m("canvas"),F=y.getContext("2d");
y.width=O;y.height=P;var A=new kp(O,0,0,P,0,0);F.lineWidth=2;var h=[{name:"No Symmetry",dc:!0}],m=a.IN.list,Z=[{g:z.E.H,l:$.WU,d:{Q:"pathedit",tW:"sspath",K:-1}}];
for(var R=0;R<m.length;R++){F.clearRect(0,0,O,P);var u=a.IN.JW(R,5);a.b.M(u.L,A,u.L);for(var f=0;f<u.L.length;
f++)u.L[f]=Math.round(u.L[f]);F.beginPath();Typr.U.pathToContext({cmds:u.J8,crds:u.L},F);F.rect(0,0,O,P);
F.stroke();var U={name:m[R][0],mb:F.canvas.toDataURL()};h.push(U);if(R<8)Z.push({g:z.E.H,l:$.WU,d:{Q:"pathedit",tW:"new",gT:[R,0]}});
else{U.sub=[];var C={sub:[]};Z.push(C);for(var f=0;f<12;f++){U.sub.push({name:"Rays: "+(2+f)});C.sub.push({g:z.E.H,l:$.WU,d:{Q:"pathedit",tW:"new",gT:[R,2+f]}})}}}h[h.length-1].dc=!0;
h.push({name:"Selected Path"},{name:"Transform Symmetry"});Z.push({g:z.E.H,l:$.WU,d:{Q:"pathedit",tW:"sspath",K:0}},{g:z.E.H,l:$.WU,d:{Q:"pathedit",tW:"sspath",K:1}});
M=this.dP=new kA(h,Z)}var H=this.kf._.getBoundingClientRect();M.T();M.parent=this;var C=new kg(z.E.c,!0);
C.data={Q:z.J.EU,uJ:M,x:H.x,y:H.y+H.height};this.a(C)};function l0(){hV.call(this);this.RQ=[16,!0,!0];
this._=i.m("span","");this.Z7=[new hQ([12,24],0,255),new ho([12,25,1]),new ho([12,25,0])];for(var R=0;
R<3;R++){var s=this.Z7[R];s.parent=this;s.q(this.RQ[R]);this._.appendChild(s._);s.k(z.E.n,this.qP,this)}}l0.prototype=new hV;
l0.prototype.qP=function(){for(var R=0;R<3;R++)this.RQ[R]=this.Z7[R].V();this.a(new kg(z.E.n,!1))};l0.prototype.q=function(s){this.RQ=s.slice(0);
for(var R=0;R<3;R++)this.Z7[R].q(s[R])};l0.prototype.V=function(){return this.RQ.slice(0)};l0.prototype.T=function(){for(var R=0;
R<3;R++)this.Z7[R].T()};function cC(s,M){hV.call(this);if(M==null)M=!1;this.TO=[];this.aJR=Math.floor(120*i.yD());
this.a1w=Math.floor(23*i.yD());this.t_=0;this.Us=[];this.lq=[];for(var O in a.Z6.I){if((O=="warpCustom"||O=="warpCylinder")&&!M)continue;
this.Us.push(O);this.lq.push(a.Z6.I[O])}this._=i.m("span","fitem warpbutton");this.dm=new hV;this.dm._=i.m("div","floatcont");
if(s){this.WA=s;this.S9=i.m("label","flabel");this._.appendChild(this.S9)}this.Q=i.m("button");this._.appendChild(this.Q);
i.dq(this.Q,this.kO.bind(this));this.Zn=new ex(!0);this.dm._.appendChild(this.Zn._);this.Zn.k(z.E.n,this.aBK,this);
i.P(this.dm._,"width:"+Math.floor(8+this.aJR/i.yD())+"px;");this.T()}cC.prototype=new hV;cC.prototype.x3=function(s){this.S9.textContent=s};
cC.prototype.T=function(){if(this.WA)this.S9.innerHTML=aW.get(this.WA)+":";this.uw()};cC.ahi={};cC.ag8=function(s,M,O){var P=aW.get(a.Z6.I[s]),y=P+"-"+s+"-"+M+"-"+O,F=cC.ahi[y];
if(F)return F;var A=cC.KM;if(h==null){var h=i.m("canvas");A=cC.KM=h.getContext("2d")}var h=A.canvas;
if(h.width!=M||h.height!=O){h.width=M;h.height=O}A.font=Math.floor(13*i.yD())+"px sans-serif";A.lineWidth=1;
A.strokeStyle="#000000";var m=Math.floor(16*i.yD()),Z=new gi(0,0,m,m);A.clearRect(0,0,h.width,h.height);
var u=a.Z6.Z6(s,s=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);a.Z6.aAn(u[3],Z);var f=a.b.hC(Z);
f.J8.push("M","L","M","L");f.L.push(0,m/2,m,m/2);f.L.push(m/2,0,m/2,m);f=a.b.iz(f);f=a.b.OM(f,m/5);a.W$.M(u,f.L,Z);
a.b.M(f.L,new kp(1,0,0,1,Math.floor(8*i.yD())+.5,Math.floor(3*i.yD())+.5),f.L);A.beginPath();Typr.U.pathToContext({cmds:f.J8,crds:f.L},A);
A.stroke();A.fillText(P,Math.floor(40*i.yD()),Math.floor(16*i.yD()));F=cC.ahi[y]=h.toDataURL();return F};
cC.prototype.kO=function(s){if(i.qE(this.dm._))return;s.stopPropagation();var M=this.aJR,O=this.a1w;
for(var R=0;R<this.Us.length;R++)this.TO[R]=cC.ag8(this.Us[R],M,O);this.Zn.KC(this.TO,null,M,O);var P=this.Q.getBoundingClientRect(),y=new kg(z.E.c,!0);
y.data={Q:z.J.EU,uJ:this.dm,x:P.left,y:P.top+P.height+4};this.a(y)};cC.prototype.aBK=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.KX,uJ:this.dm};this.a(M);this.t_=s.target.V()[0];this.uw();this.a(new kg(z.E.n))};cC.prototype.uw=function(){var s=this.aJR,M=this.a1w;
this.Zn.q([this.t_]);this.Q.innerHTML="<img src=\""+cC.ag8(this.Us[this.t_],s,M)+"\" class=\"gsicon\" />";
i.cq(this.Q.firstChild,s,M)};cC.prototype.V=function(){return this.Us[this.t_]};cC.prototype.q=function(s){this.t_=this.Us.indexOf(s);
this.uw()};function b$(s,M,O){hV.call(this);if(s==null)s=!1;if(M==null)M=!1;if(O==null)O=!1;this.aBG=M;
this.Z6=null;this.MH=new cC([12,22],O);this.MH.parent=this;this.MH.k(z.E.n,this.pM,this);this.HI=new d_([22,0],[[22,4,0],[22,4,1]]);
this.HI.k(z.E.n,this.pM,this);var P=s?hQ:jH;this.y0=new P([22,1],-100,100,"%");this.Py=new P("Horizontal Distortion:",-100,100,"%");
this.v2=new P("Vertical Distortion:",-100,100,"%");this.y0.parent=this.Py.parent=this.v2.parent=this;
this.y0.k(z.E.n,this.pM,this);this.Py.k(z.E.n,this.pM,this);this.v2.k(z.E.n,this.pM,this)}b$.prototype=new hV;
b$.prototype.T=function(){this.MH.T();this.HI.T();this.y0.T();var s=this.aBG?1:100;this.Py.x3(aW.get([22,2]).substring(0,s)+":");
this.v2.x3(aW.get([22,3]).substring(0,s)+":")};b$.prototype.pM=function(){var s=this.Z6,M=this.MH.V(),O=s.warpStyle.v.warpStyle;
if(M=="warpCustom")a.Z6.H4(s,a.Z6.Kx(s));else delete s.customEnvelopeWarp;s.warpStyle.v.warpStyle=this.MH.V();
s.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.HI.V()];var P=this.y0.V();s.warpPerspective.v=this.Py.V();s.warpPerspectiveOther.v=this.v2.V();
if(M=="warpNone"||M=="warpCustom"){P=0;s.warpPerspective.v=0;s.warpPerspectiveOther.v=0}else if(O=="warpNone"||O=="warpCustom"||O=="warpCylinder")P=50;
if(M!="warpCylinder"){s.warpValue={t:"doub",v:P};delete s.warpValues}else{s.warpValues=$.TR.kZ([0,100,100,0,.15,.2,1]);
delete s.warpValue}this.a(new kg(z.E.n,!1));this.q(s)};b$.prototype.V=function(s){return a.G(this.Z6)};
b$.prototype.q=function(s){this.Z6=a.G(s);var M=s.warpStyle.v.warpStyle,O=M=="warpNone"||M=="warpCustom"||M=="warpCylinder";
this.MH.q(M);if(!O){this.HI.q(s.warpRotate.v.Ornt=="Hrzn"?0:1);this.y0.q(s.warpValue.v);this.Py.q(s.warpPerspective.v);
this.v2.q(s.warpPerspectiveOther.v)}var P=[this.HI,this.y0,this.Py,this.v2];for(var R=0;R<P.length;R++)if(O)P[R].XX();
else P[R].Zc()};function bD(s,M,O){hV.call(this);this.a8d={};this._=i.m("div");this.a3Z=s;this.Dj=null;
this.pI=new j6(0,0);this.uF="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.axn=M;
this.aG6=O;this.Ka=null;this.S_=new i.sm(this._);this.iF("grab");this.Tb=i.m("canvas","canv");this._.appendChild(this.Tb);
this.KM=this.Tb.getContext("2d",{willReadFrequently:!0});this.ahX=null;this.es=null;this.Hg=0;this.aD$=0;
this.ax5=0;this.amF=0;this.aaz=this.aDj.bind(this);this.awn=null;this.i=new fo({A:1,$:1});this.qf=null;
this.vL=null;this.b6=[];this.ac6=0;this.dN=0;this.aIb=this.rW.bind(this);this.a3e=this.Sd.bind(this);
this.ahI=this.gF.bind(this);this.am4=this.sh.bind(this);this.akp=0;this.dH=null;this.aL7(this.Tb);this.tH(this)}bD.prototype=new hV;
bD.prototype.aJ9=function(s){this.a8d=s;this.Ro()};bD.CZ=function(s){var M=new hj(!0);if(s>=0)M.uO("Space");
if(s>=1){M.uO("ControlLeft");if(s==2)M.uO("AltLeft")}return M};bD.prototype.lJ=function(s){var M=this.Ka,O=null;
if(s.D(hj.u_)){O="grab";if(s.D(hj.yu)){O="zoom-in";if(s.D(hj.tT))O="zoom-out"}}this.Dj=O;if(O)M=O;this.S_.o3(M,this.uF);
if(s.D(hj.yu)){var P=0;if(s.D(hj.OA))P=1;if(s.D(hj.rl))P=-1;if(P!=0){this.Kr(new j6(this.Tb.width/2,this.Tb.height/2),P==1)}}};
bD.prototype.iF=function(s){this.Ka=s;if(this.Dj)return;this.S_.o3(s,this.uF)};bD.prototype.aL7=function(s){i.dq(s,this.aIb);
i.o0(s);s.addEventListener("wheel",this.am4,!1)};bD.prototype.tH=function(s){s.k("viewchange",this.ady,this)};
bD.prototype.ady=function(s){var M=this.i.xq,O=s.currentTarget.Ed();this.i.xq=O.xq;this.i.p=O.p.v();
if(M!=O.xq)this.hY();this.Ro()};bD.prototype.Ed=function(){return{xq:this.i.xq,p:this.i.p}};bD.prototype.q=function(s,M,O,P){var y=s[0].IK;
if(this.es!=null&&this.es[0].IK.s0(y)){}else{this.i.ZK={A:y.A,$:y.$};this.i.xq=1;this.i.p=new j6(0,0)}this.es=s;
this.hY(P);this.VX();this.Hg=0;this.aD$=Date.now();this.ax5=0;this.amF=M==null?0:M;if(O)this.a8d=O;this.aDj(P)};
bD.prototype.sh=function(s){s.preventDefault();if(s.deltaY==0||Date.now()-this.akp<100)return;var M=i.iC(s);
M.x=i.yD()*M.x;M.y=i.yD()*M.y;this.akp=Date.now();this.Kr(M,s.deltaY<0)};bD.prototype.Kr=function(s,M){$.Ay.TE(this.i,s,M);
this.ahL()};bD.prototype.Pe=function(s){var M=this.i,O=this.es[0].IK;this.i.xq=$.Ay.EA(O.A,O.$,M.SB.A,M.SB.$);
if(s)this.i.p=new j6(0,0);this.ahL()};bD.prototype.ahL=function(){this.hY();this.a(new kg("viewchange"));
this.a(new kg("zoom"))};bD.prototype.hY=function(s){};bD.prototype.VX=function(){clearTimeout(this.awn)};
bD.prototype.Ro=function(s){if(this.es==null||!i.qE(this.Tb)||s&&s.g3())return;var M=this.i,O=this.es[0].IK,P=M.SB,y=P.A,F=P.$,A=this.ahX,E,_=null;
if(A==null||A.length!=P.C()*4){A=this.ahX=a.j(P.C()*4);console.log("creating image data")}else A.fill(0);
var h=this.es[this.Hg],m=this.KM,Z=M._V(!1),u=Z.v();u.or();var f=Date.now(),U=s?s:O,C=a.b.hC(U).L;a.b.M(C,u,C);
var H=a.b.q7(C),t=P.OK(H),X=new Uint8Array(A.buffer,0,t.C()*4);fo.Id(M.SB);var Q=new Uint8Array(fo.eu.buffer,0,t.C()*4),D=new Uint8Array(h.data);
if(M.xq==1){var L=O.v();L.offset(H.x-U.x,H.y-U.y);a.FP(D,L,Q,t)}else a.scale.Wg(D,O,Z,Q,t,!1);if(this.axn)E=Q;
else{E=X;a.eZ(X,t.A,t.$,8,U.x,U.y);a.B.qZ("norm",Q,t,X,t,t,1)}if(s==null)m.clearRect(0,0,y,F);if(t.C()!=0)m.putImageData(new ImageData(new Uint8ClampedArray(E.buffer,0,t.C()*4),t.A,t.$),t.x,t.y);
if(this.aG6){y=O.A,F=O.$;_=y+" \xD7 "+F+" ("+(y*F/1e6).toFixed(1)+"MP)"}var S=bD.aCd(M.xq,"#ffffff",_);
m.putImageData(S,0,M.SB.$-S.height);var W=this.a8d;if(W){var g=d0.xf([.1,.5,1,1]),x=d0.xf([1,0,0,1]),V=d0.xf([1,1,1,1]),b=d0.xf([0,0,0,1]),u=M._V(!1);
u.or();m.save();m.setTransform(u.cd,u.X,u.xN,u.zv,u.cj,u.H3);m.strokeStyle=x;if(W.ac7){d0.bx(W.ac7,null,m);
m.lineWidth=1/M.xq;m.stroke()}m.strokeStyle=V;if(W.a6Y){d0.bx(W.a6Y,null,m);m.lineWidth=1/M.xq;m.stroke();
m.strokeStyle=b;m.setLineDash([4/M.xq,4/M.xq]);m.stroke();m.setLineDash([])}m.strokeStyle=g;m.fillStyle=d0.xf([1,1,1,1]);
if(W.CU){d0.bx(W.CU,null,m);m.lineWidth=1/M.xq;m.stroke()}if(W.oW){d0.rB(W.oW,m,M,.5);m.lineWidth=2/M.xq;
m.stroke();m.fill()}if(W.Y5){m.font=16/M.xq+"px sans-serif";var N=1/M.xq;for(var R=0;R<W.Y5.length;R++){var J=W.Y5[R],K=J[0],q=J[1]+6/M.xq,d=J[2];
m.fillStyle="black";m.fillText(d,K-N,q);m.fillText(d,K+N,q);m.fillStyle="white";m.fillText(d,K,q)}}m.restore()}m.getImageData(0,0,1,1)};
bD.ae2="";bD.asA=null;bD.aCd=function(s,M,O){if(O==null)O="";var P="z"+s+","+M+","+O;if(P==bD.ae2)return bD.asA;
var y=Math.round(50*i.yD()),F=Math.round(18*i.yD()),A=O==""?0:Math.round((O.length+2)*F*.35),h=i.m("canvas"),m=h.getContext("2d");
h.width=y+A;h.height=F;m.fillStyle="rgba(1,1,1,1)";m.fillRect(0,0,y,F);if(O!="")m.fillRect(y+2,0,A,F);
m.font=Math.round(11*i.yD())+"px monospace";m.fillStyle=M;var Z=s*100;if(Z<100)Z=Z.toFixed(2);else Z=Math.round(Z);
Z=Z+"%";var u=m.measureText(Z).width;m.fillText(Z,(y-u)/2,Math.round(F*.7));if(O!=""){var f=m.measureText(O).width;
m.fillText(O,y+(A-f)/2+1,Math.round(F*.7))}var U=m.getImageData(0,0,y+A,F);bD.ae2=P;bD.asA=U;return U};
bD.prototype.aDj=function(s){var M=this.es,O=M.length,P=this.Hg,y=this.es[P],F=(P+1)%O;this.Ro(s);var A=Date.now();
if(O!=1&&M[F].IK.s0(y.IK)){var h=y.GF?parseInt(y.GF.split(",").pop()):30;if(h==0)h=16;if(F==0)this.ax5++;
if(this.amF==0||this.ax5<this.amF)this.awn=setTimeout(this.aaz,h)}this.Hg=F;this.aD$=A};bD.prototype.GK=function(s,M){if(s<=0||M<=0)return;
var O=Math.floor(s*i.yD()),P=Math.floor(M*i.yD());this.i.SB=new gi(0,0,O,P);this.Tb.width=O;this.Tb.height=P;
i.P(this.Tb,"width:"+O/i.yD()+"px; height:"+P/i.yD()+"px; display:block;");this.Ro()};bD.prototype.K$=function(s){var M=-1,O=this.b6;
for(var R=0;R<O.length;R++)if(O[R].pointerId==s.pointerId)M=R;return M};bD.prototype.rW=function(s){var M=this.K$(s),O=this.b6;
if(M!=-1)O[M]=s;else O.push(s);if(O.length==1){this.dH=s.target;i.Qj(window,this.a3e);i.gE(window,this.ahI);
this.qf=i.iC(s,this.Tb);this.qf.x*=i.yD();this.qf.y*=i.yD();this.pI=this.qf;this.vL=this.i.p.v();if(this.a3Z&&this.dH==this.Tb&&!this.Dj)this.a(new kg("mousedown"))}else this.ac6=this.dN=j6.gp(i.iC(O[0],this.Tb),i.iC(O[1],this.Tb))};
bD.prototype.Sd=function(s){var M=this.K$(s),O=this.b6;if(M!=-1)O[M]=s;var P=this.i,y=this.Dj,F=this.es[this.Hg].IK.v();
F.A*=P.xq;F.$*=P.xq;var A=i.iC(s,this.Tb);A.x*=i.yD();A.y*=i.yD();this.pI=A;if(this.a3Z&&this.dH==this.Tb&&!y)this.a(new kg("mousemove"));
else if(y=="grab"||y==null){if(O.length>1){var h=i.iC(O[0],this.Tb),m=i.iC(O[1],this.Tb),Z=new j6(i.yD()*(h.x+m.x)/2,i.yD()*(h.y+m.y)/2),u=j6.gp(h,m),f=null;
if(u>this.dN+50){this.dN+=50;f=!0}if(u<this.dN-50){this.dN-=50;f=!1}if(f!=null)this.Kr(Z,f);return}else{var U=A.x-this.qf.x,C=A.y-this.qf.y;
P.p.x=this.vL.x+Math.round(U);P.p.y=this.vL.y+Math.round(C)}this.a(new kg("viewchange"))}};bD.prototype.gF=function(s){var M=this.K$(s),O=this.b6;
O.splice(M,1);if(O.length==0){i.GE(window,this.a3e);i.bY(window,this.ahI);var P=this.Dj;if(s.detail>1){this.i.xq=1;
this.i.p.ee(0,0);this.Ro()}if(this.a3Z&&this.dH==this.Tb&&!this.Dj)this.a(new kg("mouseup"));else{if(P=="zoom-in"||P=="zoom-out")this.Kr(this.pI,P=="zoom-in")}}else{var y=this.qf=i.iC(O[0],this.Tb);
y.x*=i.yD();y.y*=i.yD()}};bD.prototype.i4=function(s){var M=this.pI;if(s){M=i.iC(s,this.Tb);M.x*=i.yD();
M.y*=i.yD()}return this.i.ni(M.x,M.y)};function cK(){hV.call(this);this.vf=null;this.n4=null;this.ed=null;
this.EG=null;this.ao3="";this.D4=[];this._q=0;this.GM=[];this.f=null;this.jH=0;var s=this._=i.m("div",""),M=this.ayB=i.m("div","form");
s.appendChild(M);var O=this.WA=i.m("span");i.P(O,"font-size:1.3em; font-weight:bold; margin-right:2em;");
var P=this.amh=new ho([25,2,0]);P.q(!0);M.appendChild(P._);P.k(z.E.n,this.RB,this);var y=this.aE4=new ho([25,2,1]);
y.q(!0);M.appendChild(y._);y.k(z.E.n,this.RB,this);var F=new fU("?",null,null,!0);M.appendChild(F._);
F.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
var A=new df(" ");M.appendChild(A._);var h=this.aAX=new hH([25,1,1]);M.appendChild(h._);h.k(z.E.n,this.RB,this);
this.uN=new bv(14);this.uN.aDG(3);this.uN.k(z.E.n,this.a0$,this);var m=this.a46=new fU(i._S("reload",null,"autoscale"),null,[25,1,2]);
M.appendChild(m._);m.k("click",this.sv,this);this.a3Y=this.ap_.bind(this);this.j4=i.m("div","svggallery scrollable");
s.appendChild(this.j4);this.j4.addEventListener("scroll",this.aI4.bind(this))}cK.prototype=new hV;cK.prototype.qy=function(s){this.f=s};
cK.prototype.T=function(){this.WA.textContent=aW.get([25,0]);this.uN.T();this.amh.T();this.aE4.T();this.aAX.T()};
cK.prototype.GK=function(s,M){if(this.vf&&this.vf.x==s&&this.vf.y==M)return;this.vf=new j6(s,M);i.P(this.ayB,"width:"+s+"px; margin-bottom:12px;");
var O=this.ayB.getBoundingClientRect();M-=(450<s?30:60)+12;i.P(this.j4,"width:"+s+"px; height:"+M+"px;  line-height:0;");
if(i.qE(this._))this.RB()};cK.prototype.q=function(s){this.n4=s;this.RB()};cK.prototype.aI4=function(s){var M=this.j4;
if(M.scrollTop+M.clientHeight+10>=M.scrollHeight){this.RB(!0)}};cK.prototype.a0$=function(s){this.ed=null;
this.RB()};cK.prototype.ap_=function(s){if(Date.now()-this.jH<2e3)return;this.jH=Date.now();this._q=this.GM.indexOf(s.currentTarget);
var M=this.pl(this.n4.x,this.n4.y);if(M[1]){var O=M[1].largeImageURL,P=new XMLHttpRequest;P.responseType="arraybuffer";
P.open("GET",O,!0);P.onload=this.aeU.bind(this);P.send();return}this.abM(M)};cK.prototype.aeU=function(s){var M=s.target.response,O=b_.WG(M),P=b_.O7(O),y=P.AR(M),F=this.pl(this.n4.x,this.n4.y,[M,y[0].IK.A,y[0].IK.$]);
this.abM(F)};cK.prototype.abM=function(s){var M=s[0],O=b_.WG(M),P=b_.O7(O),y=new fr("template.psd");
P.AR(M,y);var F=new kg("tempready",!0);F.data={ZK:y};this.a(F)};cK.prototype.sv=function(s){var M=s.target;
this.D4=[];this.ed=null;this.RB()};cK.prototype.aHt=function(s){var M=JSON.parse(s.target.response),O=this.EG=M.hits;
for(var R=0;R<O.length;R++)if(O[R].user_id==6314823)O.splice(R,1);this.RB()};cK.prototype.RB=function(s){if(this.n4==null||this.vf==null||this.f==null)return;
if(this.vf.x<=0)return;var M=this.n4.x,O=this.n4.y;if(Math.min(M,O)<50)return;if(s!=!0){this.GM=[];i.Lq(this.j4);
this.j4.scrollTop=0}if(this.GM.length>300)return;var P=Math.min(1,320/Math.max(M,O)),y=this.vf.v();y.x-=20;
var F=Math.max(1,Math.floor(y.x/(M*P))),A=Math.max(1,Math.ceil(y.y/(O*P)));P=y.x/F/M;var h=F*A;if(this.ed==null){var m=this.f.s4.lN(),Z=[];
for(var u in m){var f=m[u],U=f[3];if(!this.uN.ym(f))continue;if(f[5]==null||f[5].slice(0,2)=="gf")continue;
Z.push(f)}if(Z.length==0)Z.push(m.DejaVuSans);var C=Z.length;for(var R=0;R<C*10;R++){var H=Math.floor(Math.random()*C),t=Math.floor(Math.random()*C),X=Z[H];
Z[H]=Z[t];Z[t]=X}Z=Z.slice(0,10);this.ed=Z}var Q=this.aE4.V(),D=this.aAX.V().trim();this.aAX.oo(Q);if(Q&&(this.EG==null||D!=this.ao3)){var L=new XMLHttpRequest,E="https://pixabay.com/api/?image_type=photo"+(D==""?"":"&q="+encodeURIComponent(D))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(D=="")E="//www.photopea.com/plugins/gallery.json";L.open("GET",E,!0);L.onload=this.aHt.bind(this);
L.onerror=function(V){console.log(V.target.response)};L.send();this.ao3=D;return}P*=(M*P-24)/(M*P);var _=this.GM.length;
for(var R=0;R<h;R++){var S=this._q=_+R;if(this.D4[S]==null)this.D4[S]=Math.floor(Math.random()*4294967295);
var W=this.pl(Math.round(M*P),Math.round(O*P)),g=W[0];g=c.xJ(new Uint8Array(g));var x=i.m("span");x.innerHTML=g;
this.GM.push(x);i.P(x.firstChild,"margin: 0 24px 24px 0; cursor:pointer; border-radius:5px;");this.j4.appendChild(x);
x.addEventListener("click",this.a3Y,!1)}};cK.prototype.pl=function(s,M,O){var P=this.aE4.V(),y=this.amh.V(),F=P&&this.EG.length!=0?this.EG:null;
if(y&&!P)F=null;if(y&&P&&(this._q&1)==0)F=null;return k8.uU(s,M,this.D4[this._q],this.ed,O?O:F)};function dK(){hV.call(this);
this._=i.m("div");this.oX=null;this.asr=null;this.a2H=-1;this.BA={JPG:{qual:{gv:new jH([12,52,0],0,100,"%",null,null,!0),PL:70},mtdt:{gv:new ho("attach metadata"),PL:!1}},TIFF:{mtdt:{gv:new ho("attach metadata"),PL:!1}},WEBP:{qual:{gv:new jH([12,52,0],0,100,"%",null,null,!0),PL:70},mtdt:{gv:new ho("attach metadata"),PL:!1}},GIF:{qual:{gv:new jH([12,52,0],0,100,"%",null,null,!0),PL:100},dthr:{gv:new ho([12,23,3]),PL:!1}},PNG:{qual:{gv:new jH([12,52,0],0,100,"%",null,null,!0),PL:100},nplt:{gv:new ho("don't use palettes"),PL:!1},mtdt:{gv:new ho("attach metadata"),PL:!1}},BMP:{nplt:{gv:new ho("don't use palettes"),PL:!1}},PDF:{pags:{gv:new hH([12,52,1]),PL:""},qual:{gv:new jH([12,52,0],0,100,"%",null,null,!0),PL:100},rvrs:{gv:new ho("reverse pages"),PL:!1},rall:{gv:new ho("rasterize all"),PL:!1},vtxt:{gv:new ho("vectorize text"),PL:!1},mrgn:{gv:new jH("Add Margin",0,5,"in",2),PL:0},cmrk:{gv:new ho("add crop marks"),PL:!1}},EMF:{pags:{gv:new hH([12,52,1]),PL:""},qual:{gv:new jH([12,52,0],0,100,"%",null,null,!0),PL:100},rvrs:{gv:new ho("reverse pages"),PL:!1},rall:{gv:new ho("rasterize all"),PL:!1},vtxt:{gv:new ho("vectorize text"),PL:!1},mrgn:{gv:new jH("Add Margin",0,5,"in",2),PL:0}},SVG:{arst:{gv:new ho("add raster graphics"),PL:!0},ahid:{gv:new ho("add hidden layers"),PL:!1},vtxt:{gv:new ho("vectorize text"),PL:!1},rtxt:{gv:new ho("rasterize text"),PL:!1},mini:{gv:new ho("minify"),PL:!1}},RAW:{cnum:{gv:new e0([12,72],["1","3","4"]),PL:2},dpth:{gv:new e0([12,34],["8 Bits","16 Bits"]),PL:0},endi:{gv:new e0("Byte Order",["12-34","34-12"]),PL:0}},DDS:{cmpr:{gv:new d_("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),PL:0},mpmp:{gv:new ho("Add Mipmaps"),PL:!0},dxsr:{gv:new ho("DXGI_FORMAT: SRGB"),PL:!1}},AVIF:{qual:{gv:new jH([12,52,0],0,100,"%",null,null,!0),PL:70},smlr:{gv:new ho("Smaller files (5x slower)"),PL:!1}},MP4:{qual:{gv:new jH([12,52,0],0,100,"%",null,null,!0),PL:50}},anim:{sped:{gv:new jH("Speed",10,1e3,"%",null,!0,!0),PL:100},rept:{gv:new hQ("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),PL:0},rvrs:{gv:new ho("reverse frames"),PL:!1},bmrn:{gv:new ho("boomerang"),PL:!1}},slcs:{slcs:{gv:new d_([8,11,0],["No Slices","All Slices","User Slices"]),PL:1}},artb:{artb:{gv:new ho([1,16,1]),PL:!0}},srgb:{srgb:{gv:new ho("convert to sRGB"),PL:!0}},ctoa:{ctoa:{gv:new ho("extra channel as opacity"),PL:!1}},ke16:{ke16:{gv:new ho("as 16-bit"),PL:!1}}};
for(var s in this.BA){var M=this.BA[s];for(var O in M){M[O].gv.q(M[O].PL);M[O].gv.k(z.E.n,this.Dv,this)}}}dK.prototype=new hV;
dK.prototype.awG=function(){this.a2H=-1};dK.prototype.T=function(){for(var s in this.BA)for(var M in this.BA[s])this.BA[s][M].gv.T()};
dK.prototype.Dv=function(){this.RB();this.a(new kg(z.E.n,!1))};dK.prototype.Ga=function(s,M){var O=this.BA[M];
if(O)for(var P in O)s[P]=O[P]};dK.prototype.RB=function(){var s=this.oX,M=s[0],O=s[1],P=s[2],y=s[3],F=s[4],A=s[5],h=s[6],m={};
this.Ga(m,M);if(O)this.Ga(m,"anim");if(["GIF","PNG","JPG","WEBP"].indexOf(M)!=-1&&P)this.Ga(m,"slcs");
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(M)!=-1&&y)this.Ga(m,"artb");if(F)this.Ga(m,"srgb");
if(["PNG","DDS","TGA"].indexOf(M)!=-1&&A)this.Ga(m,"ctoa");if(["PNG","TIFF"].indexOf(M)!=-1&&h==16)this.Ga(m,"ke16");
var Z=s.join(",");if(Z!=this.a2H){this.a2H=Z;i.Lq(this._);for(var u in m){if(M=="PDF"&&!y&&(u=="pags"||u=="rvrs"))continue;
this._.appendChild(m[u].gv._);i.QP(this._)}}var f=this.asr={};for(var u in m)f[u]=m[u].gv.V()};dK.prototype.m6=function(s,M,O,P,y,F,A){this.oX=[s,M,O,P,y,F,A];
this.RB()};dK.prototype.V=function(){return a.G(this.asr)};dK.prototype.q=function(s){if(s instanceof Array)return;
var M=this.oX,O=M[0];for(var P in this.BA){if(P!=O&&P.toLowerCase()!=P)continue;var y=this.BA[P];if(y==null)return;
for(var F in s)if(y[F])y[F].gv.q(s[F])}this.RB()};function iJ(){hV.call(this);this._=i.m("span","fitem yesno");
this._.style.marginRight="0";this.FO=!1;this.ayR=new fU("No",!1,"Cancel");this.jx=new fU("Yes",!1,"Confirm");
this._.appendChild(this.ayR._);this._.appendChild(this.jx._);this.ayR.k("click",this.pJ,this);this.jx.k("click",this.pJ,this);
this.T()}iJ.prototype=new hV;iJ.prototype.T=function(){this.ayR.x3(i._S("cross",null,"autoscale"));this.jx.x3(i._S("checkmark",null,"autoscale"))};
iJ.prototype.pJ=function(s){this.FO=s.target==this.jx;this.a(new kg("click",!1))};iJ.prototype.V=function(){return this.FO};
function jq(s){hV.call(this);this._=i.m("span","fitem");this.aIM=new fU("\u25BC",null,"Auto Options",!0);
i.dq(this.aIM._,this.axA.bind(this));this._.appendChild(this.aIM._);this.uR=new fU("Auto",null,null,!0);
this.uR.k("click",this.qr,this);this._.appendChild(this.uR._);this.Ki=new d5("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.Ki.k(z.E.n,this.qr,this);this.Ki.q([!1,!1,!1,!0]);this.dm=new hV;var M=this.dm._=i.m("div","floatcont form");
i.P(M,"width: 250px;");this.dm.parent=this;M.appendChild(this.Ki._);this.a9k=[];for(var R=0;R<2;R++){var O=new hQ((R==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);
O.q(.1);O.k(z.E.n,this.qr,this);this.a9k.push(O);M.appendChild(O._)}}jq.prototype=new hV;jq.prototype.qr=function(s){this.a(new kg(z.E.n,!1))};
jq.prototype.T=function(){};jq.prototype.V=function(){return[this.Ki.V().indexOf(!0),this.a9k[0].V(),this.a9k[1].V()]};
jq.prototype.axA=function(s){if(i.qE(this.dm._))return;s.stopPropagation();var M=this.aIM._.getBoundingClientRect(),O=new kg(z.E.c,!0);
O.data={Q:z.J.EU,uJ:this.dm,x:M.left,y:M.top+M.height+4};this.a(O)};function ek(){hV.call(this);var s=this._=i.m("div","fitem");
this.Fs=new d_([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Fs.k(z.E.n,this.qP,this);s.appendChild(this.Fs._);
this.ZE=new aI(!1);this.ZE.parent=this;this.ZE.ZS(16777215);this.ZE.k(z.E.n,this.qP,this);s.appendChild(this.ZE._)}ek.prototype=new hV;
ek.prototype.T=function(){this.Fs.T();this.ZE.T()};ek.prototype.a5m=function(s){var M=[s.artboardBackgroundType.v-1];
if(s.Clr)M.push(s.Clr.v);this.q(M)};ek.prototype.abx=function(){var s=this.V();return{classID:"artboard",Clr:{t:"Objc",v:s[1]},artboardBackgroundType:{t:"long",v:s[0]+1}}};
ek.prototype.q=function(s){this.Fs.q(s[0]);if(s[1])this.ZE.q(s[1])};ek.prototype.V=function(){return[this.Fs.V(),this.ZE.V()]};
ek.prototype.qP=function(s){if(s.target==this.ZE)this.Fs.q(3);this.a(new kg(z.E.n,!1))};ek.prototype.Jl=function(){this.Fs.Jl()};
function gp(){hV.call(this);var s=this._=i.m("div");i.yV(s);var M=i.m("span");M.textContent="Prompt";
s.appendChild(M);i.QP(s);this.G$=new hH(null,null,-1,4);this.wt=new l4;this.wt.parent=this;this.pX=new fU("Generate",!1,null,!0);
this.pX.k("click",this.aQ,this);this.Rz=null;this.auy=0;s.appendChild(this.G$._);i.QP(s);s.appendChild(this.wt._);
s.appendChild(this.pX._);this.a8Q=this.a4Q.bind(this);this.a5s=this.atW.bind(this);this.Mj=i.m("div","scrollable");
s.appendChild(this.Mj)}gp.prototype=new hV;gp.prototype.q=function(s){var M=new Uint8Array(s),O=Date.now(),P=UZIP.adler(M,0,M.length);
if(P==this.a6V)return;this.a6V=P;var y=new fr;jv.kM(s,y);i.Lq(this.Mj);this.auy=y.U.length-2;if(this.Rz==this.auy)this.Rz=null;
var O=Date.now();for(var R=y.U.length-2;R>0;R--){var F=y.U[R],M=F.buffer,A=F.S;while(A.C()>500*500){var h=a.FJ(M,A);
M=h.tG;A=h.S}var m=b_.TB(M.buffer,A.A,A.$,"png"),Z=i.m("div");i.P(Z,"width:75px; margin:4px; cursor:pointer; display:inline-block; text-align:center;"+(F.CD()?" box-shadow:0 0 0px 3px #00aaff;":""));
var u=i.m("img");i.P(u,"width:100%; margin-bottom:-18px;");if(F.CD()&&this.Rz==null)this.G$.q(F.getName());
u.a5g=R;u.setAttribute("src",m);var f=new fU("x",!1,"Delete",!0);i.P(f._,"height:15px; line-height:1em; padding: 0px 4px;");
f._.a5g=R;Z.appendChild(u);Z.appendChild(f._);i.gE(u,this.a8Q);i.gE(f._,this.a5s);this.Mj.appendChild(Z)}console.log(Date.now()-O)};
gp.prototype.T=function(){this.wt.T()};gp.prototype.a4Q=function(s){var M=new kg(z.E.H,!0);M.l=$.mu;
M.data={Q:ad.Zw,K:s.currentTarget.a5g,tW:"switch"};this.a(M)};gp.prototype.atW=function(s){var M=new kg(z.E.H,!0);
M.l=$.mu;M.data={Q:ad.Zw,K:s.currentTarget.a5g,tW:"del"};this.a(M)};gp.prototype.aQ=function(s){var M=this.wt.ane(this.G$.V());
if(M)this.Rz=this.auy+1};function l4(){this.V8=new fU("\u2026",!1,null,!0);this.V8.k("click",this.kO,this);
this._=this.V8._;this.dm=new hV;this.dm.parent=this;var s=this.dm._=i.m("div","floatcont form label6");
s.style.width="270px";var M=this.Ji="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.aam=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var O=this.AH=[new ho("Use default settings"),new d_("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new hH("Neg. prompt",null,13.25),new fB("Guidance",-20,20),new fB("Steps",10,50),new d_("Sampler",M)];
O[0].k(z.E.n,this.T,this);O[0].q(!0);O[1].q(1);O[3].q(6);O[4].q(20);for(var R=0;R<O.length;R++){s.appendChild(O[R]._);
i.QP(s)}}l4.prototype=new hV;l4.prototype.V=function(){var s=this.AH,M={},O=["model","negative_prompt","guidance","steps","sampler"],P=!s[0].V();
if(P){for(var R=1;R<s.length;R++)M[O[R-1]]=s[R].V();M.model=this.aam[M.model];M.sampler=this.Ji[M.sampler];
M.steps=Math.min(M.steps,50)}return P?null:M};l4.prototype.T=function(){var s=this.AH;for(var R=0;R<s.length;
R++){s[R].T();if(R>0)s[R].oo(!s[0].V())}};l4.prototype.kO=function(s){if(i.qE(this.dm._))return;var M=this.V8._.getBoundingClientRect(),O=new kg(z.E.c,!0);
O.data={Q:z.J.EU,uJ:this.dm,x:M.left,y:M.top+M.height+4,LU:!0};this.a(O)};l4.prototype.ane=function(s){if(s.length>1e3){alert("Your prompt is too long");
return!1}var M=new kg(z.E.fa,!0);M.data=$.am.Gk("aiHeal");M.data.kT.prmt={t:"TEXT",v:s};M.data.kT.dh=this.V();
this.a(M);return!0};function dC(s){hV.call(this);this.UI=s;this.ajI=0;this.aqU=!1;this.a8i=s?new dC.gd:null;
this._=i.m("div","flexrow storageset");this._.style.background="var(--bg-panel)";this.Ni=i.m("div");
this._.appendChild(this.Ni);this._1=i.m("div");this._.appendChild(this._1);this.AD=[];var M=Storage.list.length;
if(s)M=M+1+dC.Ti.length;var O=this.Pi.bind(this);for(var R=0;R<M;R++){var P=i.m("div");this.AD.push(P);
this.Ni.appendChild(P);P.addEventListener("click",O,!1)}this.Pi(null,0)}dC.prototype=new hV;dC.$U=[];
dC.Oa=function(s){dC.$U.push(s);s.gq()};dC.nE=function(){var s=dC.$U;s.pop();s[s.length-1].gq()};dC.prototype.gq=function(){this.Pi(null,this.ajI)};
dC.prototype.qy=function(s,M){if(!s.Yl&&!this.aqU){var O=this.UI?2:1;for(var R=O;R<this.AD.length;R++)this.Ni.removeChild(this.AD[R]);
this.aqU=!0;if(this.UI)this.a8i.qy(s,M)}if(this.R2)this.R2.qy(s,M)};dC.prototype.T=function(){if(this.UI)this.a8i.T();
if(this.R2)this.R2.T()};dC.prototype.Pi=function(s,M){var O=this.AD,P;if(M==null)M=O.indexOf(s.currentTarget);
this.ajI=M;for(var R=0;R<O.length;R++)i.VV(O[R],"active");i.cG(O[M],"active");if(this.UI)M--;var y=Storage.list.length;
if(M==-1)P=this.a8i;else if(M<y)P=Storage.Hy(M);else{var F=dC.Ti[M-y];P=new dC.g4(F[1]);dB.event("strg_"+F[0]);
if(M-y==1){window.open(F[1]);return}}this.R2=P;P.parent=this;i.Lq(this._1);this._1.appendChild(P._);
this.GK(this.V5,this.fw);this.T()};dC.prototype.GK=function(s,M){this.V5=s;this.fw=M;var O=s<850,P=O?50:210,y=Storage.list;
if(this.UI)y=[[[1,19,3],null,"strg/home"]].concat(y.concat(dC.Ti));for(var R=0;R<y.length;R++){var F=this.AD[R],A="padding: 8px "+(O?13:36)+"px; cursor:pointer;";
i.P(F,A);var h=y[R][2],m=y[R].length==6;h=m?h:PIMG[h];F.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+h+"\" /> "+(O?"":aW.get(y[R][0]))}this._.style.width=s+"px";
this._.style.height=M+"px";this.Ni.style.width=P+"px";this.Ni.style.paddingTop="32px";if(this.R2)this.R2.GK(s-P,M)};
dC.Ti=[["PeaGames","games","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664],["AI Tools","//www.img-tools.app/?utm_source=af-photopea&utm_medium=social&utm_campaign=af-photopea","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABtQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlFHiIAAAAAl0Uk5TACBAgJ+/3/9gnq2YfAAABcRJREFUeJytmzuMHEUQhqt8PO5IWO0CJlwfAQmBAwRkWEayQwhOODQYAyFgbJOuRIDNOzUImxCQLBHCCSScgWTxCAlsTo7AXt+tZBKM8bA7szNd012Pnhp3cJqdx7/f9vSr6u9DIGW4Z7hebP/91AT8Bcnh4/urg+LKF3dCcGVj3BwXm7/2Flw5OiCn/Yq14K6XB63zxVdbvQTx+XF0ofhk1kfw0eeSK1fP9RBcfS294qzGSvDJfcylWx+4Be8+xl776QevIAvYAXG0vj7e2X5sUgvuOiHc+G1WLdY9rLjyzawSZF5xVa6dzdF7Yl99OP2sFMST0r1ZbZHW11wRxVeyKL9/beo9eIR+unoOlV8M8O+Hll5U/8XmXPDQWLy9eNcSfCeqlCmyvaQpaxNdL3kYEe55Q3ngr891wRgQ1jA91/rCU6peCngKW1VYfHcZR8+QkfH2ex0BJwhvEb1ygBltEMUzGj8DCEhPLpvd6Cj9ym6AgHe92Xz87/3l94TOpDZtDhDw3tfThx94qTmnvWYOEJCcPd180ytNLSp9hQWkgqSJhJPKmMgCAh7cW3/+5+PmUujxsiAPSAXJiL9yvD6SGyIPCBjaNWkhYQwRBQVAwFeb+idtOIy54ngjAAKGjnI6XLQFJUBBEPizGYDenywC0pfy5RZzv/BSREAqSJpN6OB1/84FpO2QdNswivOCMiBgmFbZrscO2QogYJhESf2HN3Xzo26AgLtfaI6bSiRTP+ngWYCA5OFmIAj1yi7pNEB2CqBrE2YKUAHnEzNZKlWTVBhqgF3RqYAQTaMXf8bhBr15sULrAgjGRM8s3XXAuWB7PZaUGNEAnAuKC2Ie0QAEfTmXIlqAoC84U0QL0FgSJ4gmYLloD9O6iWgClmEF6c4Gog1YCqqL4haiDaiGZgliBmAlSBeEGmIGYCVIF4QKYg6gEoCniDmAdYrgoRdtxCzAJolxYC9zsY2YBdikWVafHRuIeYAhEbR6uJUI+i0iLjYPZQGSVNXDTwfG6fkbx6Mbr4+yAFvJtLdvLI8u/Gg3dimCQfpheOzCenH9j+0tiKYq7kEhCkT+NJiIUoglC+qIYpgqC+qIYgyoCGqIchytCGqIcpCqCcqISqCvCcqIShStCkqIWiaiiVPqeKT1WUBcAErP6YI8YgnoE+QRyxp0CnKIVQ06BTnE6hV7BVPE5Sv2CqaLvWVc4BVMZpI6mvQKJlNdndxxCoqAXkER0CkoAzoFZUCfoALoE1QAXYIaoCwIctEAxaIIqoAeQRegIugDVAQNwIEQZouCBiAeSUJ9Q9AA3H1YcOkkwQSwnYzFk0w2IhUc7nlkAMXlS1tmTDKPNwUjkfOXYfr9n0bqY5Gb4REFfzkOAlJAyesM/nKHBesyecQiSv6yDSggiv6yDcgjyv6yCcgjVoJGUCIAsoiV4EE9FhUAWcRSkLg+nQA5ROwDyCEuBL01yCKq/rIJyCCq/jIDSG1AFtFOpkUxSbykjRGRGak0wLTCI0SkafUMQBMRO8fFBqLhL3NRnY5opJ0590NHNPxl1kFSEZFmnRl/mfhKeYhIrzL+Mru7Q0NE8k44f5m1gzVEy1/mDBoV0ecvK4hOf1lGtPxl3oZTEImV2clfFhGJIOsvS+6tiOj2lyVEr78sIlr+srzjRkB0/2QJ0fKXlT1BPKLPX1YQff6ygmj5y9p2NxbR8pfVPUYcosdfVhE9/rKKaPnL+gY/BtHyl9VNUByi4S9rrYZH7LeRLEW8ZfjL6ktelBhxzfCXrc14sT127Wzf7YJtT3De8PpuaGwp3v501n/LJYmzp+dnoPvLGb+4LKP9w0Gxc/GXUh4UfznnFy8pBzv1ESjOaN7G2kh68UfwEKxuIgsK/rJ/czLvL7sANX/ZU4NNioDxl7N2JouCqb+cl9wTBRN/ubhv0k8w9pd7/6NB21++E/8KAcRfLnt5f8HKX75/dmmR7nOX/wHUTMNAfPQixAAAAABJRU5ErkJggg==",!0,"Join the contenst!",1730950917]];
for(var R=0;R<dC.Ti.length;R++)if(dC.Ti[R][5]*1e3<Date.now()){dC.Ti.splice(R,1);R--}dC.gd=function(){this.Dg=null;
var s=this._=i.m("div");s.style.background="var(--bg-canvas)";var M=this.J3=i.m("div");s.appendChild(M);
var O=i.m("style");s.appendChild(O);O.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var R=0;R<2;R++){var P=i.m("div"),O="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";M.appendChild(P);
if(R==0)O+="padding: 12px 0px";if(R==1)O+="position:absolute;  bottom:0;";i.P(P,O);var y=i.m("img");
P.appendChild(y);y.setAttribute("src",PIMG[R==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);if(R==0)this.aKc=y;
else this.axN=y;if(R==0)this.a0D=P;else this.aCH=P}this.AD=[];O="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var F=this.JQ.bind(this),A=i.m("div");M.appendChild(A);i.P(A,"width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var R=0;R<4;R++){var h=i.m("span","bhover");this.AD.push(h);i.P(h,O+"cursor:pointer; padding:12px;");
h.addEventListener("click",F,!1);A.appendChild(h)}i.QP(M);var P=this.a0k=i.m("div");i.P(P,O+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
M.appendChild(P);var m=new Date().getDate(),Z=new Date().getMonth();if(Z==11&&m>20||Z==0&&m<10){this.Tb=i.m("canvas");
i.P(this.Tb,"position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");this.KM=this.Tb.getContext("2d");
this.axB=a.j(4);s.appendChild(this.Tb);var u=Math.random()<.5,f={o:255,R:255,X:255};if(!u){f=a.rk(Math.random(),Math.random()*.7,1);
f.o*=255;f.R*=255;f.X*=255}this.te=[Math.round(1048575*Math.random()),u?.05:.02,Math.round(4+Math.random()*8),1,u?3:15,f,0,!0,u,u?1:.2,3];
this.acz=u?.1:.2;this.Ij=this.kH.bind(this);window.requestAnimationFrame(this.Ij)}};dC.gd.prototype=new hV;
dC.gd.prototype.kH=function(){window.requestAnimationFrame(this.Ij);if(!i.qE(this._))return;var s=this.axB,M=this.Tb,O=this.KM,P=M.width,y=M.height;
this.te[6]=Date.now()*.001*this.acz;a.lZ.EN(s,P,y,this.te,!0);O.putImageData(new ImageData(new Uint8ClampedArray(s.buffer),P,y),0,0)};
dC.gd.prototype.JQ=function(s){var R=this.AD.indexOf(s.currentTarget),M=new kg(z.E.c,!0);if(R==0)M.data={Q:z.J.xL,Rj:"newproject"};
if(R==1)M.data={Q:z.J.Fw};if(R==2)M.data={Q:z.J.xL,Rj:"res0"};if(R==3)M.data={Q:z.J.rb};this.a(M)};dC.gd.prototype.T=function(){var s=this.AD,M=[[11,7],[1,6],[25,0],[0,17,6]],O=["\u2605","\uD83E\uDC7F","\u25A3"],O=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var R=0;R<s.length;R++)s[R].innerHTML="<span style=\"vertical-align:middle\">"+i._S(O[R],null,"autoscale")+"</span>\u2000"+(dc==1&&R==3?"Install Vectorpea":aW.get(M[R]));
var P="l"+"o"+"g"+"o",y=P+"_"+["pp","vp","pp"][dc],F=new Date;if(F.getMonth()==3&&F.getDate()==1)y="lo"+"go_cuc"+"umber";
if(PIMG[P])y=P;this.a0k.textContent=aW.get([0,17,7]);this.aKc.setAttribute("src",PIMG[y]);this.axN.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
dC.gd.prototype.GK=function(s,M){var O=Math.min(M*1.5,Math.min(s,600)),P=this.Tb;if(P){i.MQ(P,s,O*.26);
this.axB=a.j(P.width*P.height*4)}this._.style.width=s+"px";this._.style.height=M+"px";this.aCH.style.width=s+"px";
this.J3.style.marginLeft=Math.max(0,Math.round((s+200-600)/2)-200)+"px";this.aKc.style.width=O+"px";
this.axN.style.width=O+"px"};dC.gd.prototype.qy=function(s,M){var O=s;if(s==null)s=this.f;this.f=s;if(!s.Yl&&this.AD[2].parent){this.J3.removeChild(this.AD[2]);
this.J3.removeChild(this.AD[3])}this.AD[3].style.display=s.Fj?"inline-block":"none";if(O)this.Dg=setTimeout(this.qy.bind(this),100)};
dC.g4=function(s){var M=this._=i.m("iframe");M.style.background="var(--bg-canvas)";M.setAttribute("src",s)};
dC.g4.prototype=new hV;dC.g4.prototype.GK=function(s,M){var O=this._;O.style.width=s+"px";O.style.height=M+"px"};
dC.g4.prototype.qy=function(){};function Storage(s){hV.call(this);var M=this._=i.m("div","storage");
i.c0(M);M.addEventListener("drop",this.ayL.bind(this),!1);var O=this.afK=i.m("style");M.appendChild(O);
M.setAttribute("tabindex","0");M.style.outline="none";M.addEventListener("keydown",this.ax0.bind(this),!1);
this.L0=this.aEB.bind(this);this.pe=0;this.Rz=0;var P=i.m("div");M.appendChild(P);var y=this.alo.bind(this);
this.th=i.m("div","bar");P.appendChild(this.th);this.sB=i.m("div","fls scrollable");P.appendChild(this.sB);
this.Mh=i.m("div");P.appendChild(this.Mh);i.P(this.Mh,"position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.Hz=i.m("div","bar");this.Hz.textContent="Name: ";var F=this.pn=i.m("input");F.setAttribute("type","text");
this.Hz.appendChild(F);var A=this.Rg=i.m("div","btn");A.textContent="Save";this.Hz.appendChild(A);i.gE(A,y);
i.dq(this.sB,this.L0);this.aa6=0;this.S6=s;var h=this.a9p.bind(this),m=this.ats=i.m("div");i.P(m,"text-align:center; font-size:1.6em");
var Z=i.m("img");m.appendChild(Z);i.QP(m);Z.setAttribute("src",PIMG[Storage.list[this.S6][2]]);i.P(Z,"opacity:0.5;  width:25%; cursor:pointer;");
i.gE(Z,h);this.aFe=i.m("div","btn");m.appendChild(this.aFe);i.gE(this.aFe,h);this.eT=new kA([{name:[6,20]},{name:[5,2],RU:[hj.yu,hj.kv],e:function(){return{e:Storage._j!=null}}}]);
this.eT.parent=this;this.eT.k("select",this.ZR,this);this.sB.addEventListener("contextmenu",this.L0);
this.ayo=i.m("span");this.SL=i.m("span");i.P(this.SL,"position:absolute; right:0; top:5px; z-index:1; ");
this.xE=[];this.O8=[];for(var R=0;R<3;R++){var u=i.m("div","btn");this.xE.push(u);this.ayo.appendChild(u);
i.gE(u,y);u.innerHTML=Storage.aqo[[3,1,0][R]]}for(var R=0;R<5;R++){if(R==0){var f=i.m("span");f.textContent="Sort by:";
this.SL.appendChild(f)}var u=i.m("div","btn");this.O8.push(u);this.SL.appendChild(u);i.gE(u,y)}window.addEventListener("message",this.aBi.bind(this),!1);
this.a8Z=!1;this.$t=0;setInterval(this.avS.bind(this),300);this.JD();var U=this.ajd=document.createElement("input");
U.setAttribute("type","file");U.addEventListener("change",this.ayL.bind(this),!1);document.body.appendChild(U);
i.P(U,"display:none");U.setAttribute("multiple","")}Storage.prototype=new hV;Storage.ZW=!1;(function(){Storage.aqo=[];
var s="<svg viewBox=\"0 0 14 14\" width=\"10\" height=\"10\" fill=\"black\"><path transform=\"translate(7 7) rotate(",M=") translate(-7 -7)\" d=\"m4 4m-4 2h11l-5-5 2-1 7 7-7 7-2-1 5-5h-11\" /></svg>";
for(var R=0;R<4;R++)Storage.aqo.push(s+[-90,0,90,180][R]+M)}());Storage.prototype.ayL=function(s){s.stopPropagation();
s.preventDefault();var M=s.dataTransfer?s.dataTransfer.files:s.target.files;this.amv=M.length;Storage._j={};
for(var R=0;R<M.length;R++){var O=M[R],P=new FileReader;P.sI=O;P.onload=this.ayf.bind(this);P.readAsArrayBuffer(O)}};
Storage.prototype.ayf=function(s){var M=Storage._j;M[s.target.sI.name]=s.target.result;this.amv--;if(this.amv==0)this.xw()};
Storage.prototype.qy=function(s,M){var O=Storage.list[this.S6][3],P=dB.Nx();if(O){if(this.$t==1&&i.qE(this._)&&P!=null){this.JD()}if(this.$t==2&&P==null){this.GC("forget","")}}};
Storage.prototype.avS=function(){var s=i.qE(this._),M=this.a8Z;if(s&&!M){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!s&&M){window.onpopstate=function(){};history.go(-1)}this.a8Z=s};
Storage.prototype.JD=function(){if(this.by)document.body.removeChild(this.by);this.wx=[[]];this.Na=0;
this.api={"/":[]};this.aee="";this.zh=null;this.Z7=[];this.agO=[];this.atE=[];this.aEo=null;var s=Storage.list[this.S6][1],M=dB.$n("code/storages/"+Storage.list[this.S6][1]);
if(dc==1&&this.S6==0)M=s;var O=this.by=i.m("iframe");O.setAttribute("src",M);i.P(O,"display:none");document.body.appendChild(O)};
Storage.prototype.PX=function(){return this.api[this.Hi()]};Storage.prototype.L5=function(s){this.api[this.Hi()]=s};
Storage.Hy=function(R){var s=Storage.Cu[R];if(s==null)s=Storage.Cu[R]=new Storage(R);return s};Storage.Cu=[];
Storage.bo=0;Storage.Wx="";Storage.KK=null;Storage.C8=function(s,M,O){Storage.bo=s;Storage.Wx=M;Storage.KK=O;
var P=Storage.Cu;for(var R=0;R<P.length;R++)if(P[R]){if(s==1)P[R].L5([]);P[R].gq()}};Storage.a65=[500*(1<<20),5e3*(1<<20)];
Storage.yf=0;Storage.SJ=2;Storage.Vw=0;Storage.list=[[[1,19,4],"deviceStorage.html","strg/tdevice",!1,null],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,null],["OneDrive","onedriveStorage.html","strg/onedrive",!1,null],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,null],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.aw7=function(s){for(var R=0;R<Storage.Cu.length;R++){if(Storage.Cu[R]&&Storage.Cu[R].by.contentWindow==s)return!0}return!1};
Storage.prototype.ax0=function(s){if(s.target.tagName=="INPUT")return;var M=hj;if(M.DT(s.code,M.y6)&&this.Hi().length!=0)this.aAO();
else if(s.ctrlKey){if(M.DT(s.code,M.J)){var O=[];this.L5(O);for(var R=0;R<this.zh.length;R++)O.push(R);
this.Qk()}if(M.DT(s.code,M.fG))this.RY(2);if(M.DT(s.code,M.kv))this.xw()}else if(M.DT(s.code,M.$g)){var P=this.PX();
if(P.length!=0)this.a3R(P)}else if(M.DT(s.code,M.Di)){this.Na=Math.max(this.Na-1,0);this.Cx()}else{var y=0;
for(var R=65;R<=90;R++)if(s.code=="Key"+String.fromCharCode(R))y=R;if(y!=0){var F=String.fromCharCode(y).toLowerCase(),A=[],h=this.zh,m;
for(var R=0;R<h.length;R++)if(h[R][0][0].toLowerCase()==F)A.push(R);if(A.length==0)return;var P=this.PX();
if(P.length==0)m=A[0];else{var Z=A.indexOf(P[0]);if(Z==-1){m=A[0];for(var R=0;R<A.length;R++)if(A[R]>P[0]){m=A[R];
break}}else m=A[(Z+1)%A.length]}this.L5([m]);this.Qk(!0)}}};Storage.prototype.GK=function(s,M){this.V5=s;
this.fw=M;this._.style.width=s+"px";this._.style.height=M+"px";var O=s-30,P=Math.floor(O/230),O=Math.floor(O/P)-72;
this.afK.textContent=".storage .tile .name {  width:"+O+"px;  }";this.pn.style.width=s-140+"px";this.sB.style.width=this.th.style.width=s-20+"px";
this.sB.style.height=M-70-(Storage.bo==0?0:45)+"px"};Storage.prototype.a9p=function(){this.Cx()};Storage.prototype.Cx=function(){var s=this.S6,M="____strg"+s;
if(window[M]==null){dB.event("strg_"+(s==0?"This Device":Storage.list[s][0]));window[M]=!0}this.Rz=1;
this.GC("show",this.Hi())};Storage.prototype.Hi=function(s){var M=this.wx[this.Na],O="/"+M.join("/");
if(s&&M.length!=0)O+="/";return O};Storage.prototype.alo=function(s){var M=s.currentTarget,O=this.Na,P=this.xE.indexOf(M),y=this.O8.indexOf(M);
if(P>=0&&!this.arP(P))return;if(P==0){this.Na=Math.max(O-1,0);this.Cx()}if(P==1){this.Na=Math.min(O+1,this.wx.length-1);
this.Cx()}if(P==2){var F=this.wx[O+1]=this.wx[O].slice(0);F.pop();this.Na++;this.wx=this.wx.slice(0,this.Na+1);
this.Cx()}if(y==0){Storage.SJ=(Storage.SJ+1)%3;this.gq()}if(y==1){Storage.Vw=(Storage.Vw+1)%2;this.gq()}if(y==2){Storage.yf=(Storage.yf+1)%3;
this.gq()}if(y==3){var A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.ajd.dispatchEvent(A)}if(y==4){this.GC("forget","")}if(M==this.Rg){var h=this.pn.value.trim(),m=this.zh,Z=-1;
for(var R=0;R<m.length;R++)if(m[R][0]==h)Z=R;if(Z!=-1){this.nK("Do you really want to replace \""+h+"\"?",this.agR.bind(this))}else this.agR()}};
Storage.prototype.agR=function(){var s=this.pn.value.trim(),M=[this.S6,this.Hi(!0)+s];if(Storage.KK){this.aCX(this.Hi(!0)+s,Storage.KK);
Storage.KK=null;Storage.Wx=null}else this.RI({Q:z.J.a5$,WI:M});this.a(new kg("canclose",!0))};Storage.prototype.xw=function(){if(Storage._j==null)return;
this.RI({Q:z.J.JC,T1:aW.get("Uploading ...")});this.pe=4;gS.Hy(2,this.by,[this.Hi(),Storage._j,this.zh],null,this.avc.bind(this))};
Storage.prototype.avc=function(s){this.pe=0;this.RI({Q:z.J.fy,T1:aW.get("Uploading ...")});this.Cx()};
Storage.prototype.ZR=function(s){var M=s.target.x2();if(s.target==this.eT){if(M[0]==0){var O=[aW.get([6,20]),-1,0];
this.zh.push(O);this.gq();var R=this.zh.indexOf(O),P=this.Z7[R].querySelector(".name");console.log(P);
var y=new iY.GO(P,function(f){this.RI({Q:z.J.JC,T1:aW.get([1,2])+" ..."});var U=this.Hi(!0)+f+"/";console.log(U);
this.GC("save",U)}.bind(this),!0)}else this.xw()}else{if(M[0]==0){this.RY(2)}else if(M[0]==1){var R=this.PX()[0],F=this.zh[R],P=this.Z7[R].querySelector(".name");
console.log(P);P.innerHTML=F[0];var y=new iY.GO(P,function(f){f=f.trim();if(f.indexOf("/")!=-1){alert("You can not use slashes in a file name.");
this.gq();return}var U=this.zh;for(var R=0;R<U.length;R++)if(U[R][0]==f){alert("Item with such name already exists.");
this.gq();return}var C=this.Hi(!0)+F[0]+":"+f;console.log(C);this.GC("rename",C)}.bind(this))}else if(M[0]==2){this.RY(3)}else if(M[0]==3)this.aAO();
else if(M[0]==4){this.RY(1)}else{var A=this.zh[this.PX()[0]],h=Storage.w$(A),m=h[M[1]],Z=m[0],u=this.Hp().pop()[1];
if(Storage.aCA(A,Z)!=-1){this.GC("share",u+":"+Z+":-1");alert("Unshared.")}else{this.GC("share",u+":"+Z+":"+M[2]);
alert("Shared.")}}}};Storage.aCA=function(s,M){var O=s[4];if(O==null)return-1;if(O.indexOf(M+":0")!=-1)return 0;
if(O.indexOf(M+":1")!=-1)return 1;return-1};Storage.prototype.aAO=function(){var s=this.PX();this.nK("Do you really want to delete "+(s.length==1?"\""+this.zh[s[0]][0]+"\"":"these files")+"?",this.GY.bind(this))};
Storage.prototype.nK=function(s,M){var O={Q:z.J.xL,Rj:"confirm",K:s,Xp:M};this.RI(O)};Storage.prototype.RY=function(s){this.pe=s;
if(1<s)this.RI({Q:z.J.JC,T1:aW.get("Downloading ...")});else this.RI({Q:z.J.JC,T1:aW.get("Getting info ...")});
gS.Hy(0,this.by,this.Hi(),this.Hp(!0),this.alf.bind(this))};Storage.prototype.alf=function(s){if(this.pe==1){var M=0,O=0;
for(var P in s){var y=s[P];M+=y[1];O++}this.nK(O+" files, "+fK.si(M)+" in total.",function(){});this.RI({Q:z.J.fy,T1:aW.get("Getting info ...")});
this.pe=0}if(1<this.pe)gS.Hy(1,this.by,s,null,this.a1S.bind(this))};Storage.prototype.a1S=function(s){if(1<this.pe){if(1<this.pe)this.RI({Q:z.J.fy,T1:aW.get("Downloading ...")});
var M={},O=this.Hi(!0);for(var P in s)M[P.slice(O.length)]=s[P];if(this.pe==2){Storage._j=M;alert("Copied to a clipboard")}if(this.pe==3){var y=Object.keys(s);
if(y.length==1)cD.save(s[y[0]].buffer,y[0].split("/").pop());else cD.save(UZIP.encode(M),O=="/"?"files.zip":this.Hi().split("/").pop()+".zip")}}this.pe=0};
Storage._j=null;Storage.prototype.GY=function(){this.RI({Q:z.J.JC,T1:aW.get([5,4])+" ..."});this.agO=this.Hp();
this.ij()};Storage.prototype.ij=function(){if(this.agO.length==0){this.RI({Q:z.J.fy,T1:aW.get([5,4])+" ..."});
this.L5([]);this.Cx()}else this.GC("delete",this.agO.pop()[1])};Storage.prototype.Hp=function(s){var M=[],O=this.Hi(!0),P=this.PX();
for(var R=0;R<P.length;R++){var y=this.zh[P[R]];if(s)M.push(y[0]);else M.push([this.S6,O+y[0]])}return M};
Storage.prototype.GC=function(s,M){i.cG(this._,"disabled");this.aee=s;if(Storage.ZW)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+s+"\", \"prm\": "+JSON.stringify(M)+"  }");
this.by.contentWindow.postMessage("{\"code\": \""+s+"\", \"prm\": "+JSON.stringify(M)+"  }","*")};Storage.prototype.aBi=function(s){if(s.source!=this.by.contentWindow||this.pe!=0)return;
i.VV(this._,"disabled");if(typeof s.data=="string"){if(Storage.ZW)console.log("==",Math.floor(Date.now()/1e3),s.data);
var M=JSON.parse(s.data),O=M.code,P=M.prm,y=this.aee,F=Storage.list[this.S6][3];if(O=="ready"){if(F&&!P){var A=dB.Nx();
console.log(A);var h=dB.iJ(),m=h.acc;if(A==null){this.$t=1;alert("Log in to use this storage (press Account at the top).");
this.XR();return}var Z=[],u=A.wantToJoin;for(var f in u)Z.push(parseInt(f.slice(1)));var U=[],C=A.inTeams;
for(var R=0;R<C.length;R++)U.push(C[R][2]);var H={uid:A.id,limit:Storage.a65[dB.Mo()?1:0],inTeams:U,myTeams:Z};
H.secret=m&&m.pds?m.pds:"";this.GC("login",H);return}if(F)this.$t=2;if(F&&M.secret){var h=dB.iJ(),m=h.acc;
if(m==null)m=h.acc={};m.pds=M.secret;dB.Cf(h)}if(P)this.Cx();else this.XR()}else if(O!="0"){if(y=="save")this.RI({Q:z.J.fy,T1:aW.get([1,2])+" ..."});
if(y=="delete")this.ij();alert(P);this.gq()}else if(y=="show"){this.Rz=0;this.zh=P;this.gq()}else if(y=="save"){this.Rz=0;
this.RI({Q:z.J.fy,T1:aW.get([1,2])+" ..."});this.Cx()}else if(y=="delete"){this.ij()}else if(y=="forget"){if(F)this.XR();
else this.JD()}else if(y=="rename"||y=="share"){this.Cx()}else throw O}else{if(Storage.ZW)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.RI({Q:z.J.a11,WI:this.Hp()[this.Em],OC:s.data});this.agy()}};Storage.prototype.XR=function(){i.Lq(this.th);
i.Lq(this.sB);i.Lq(this.Mh);this.sB.appendChild(this.ats)};Storage.prototype.arP=function(R){if(R==0)return this.Na>0;
if(R==1)return this.Na<this.wx.length-1;if(R==2)return this.Hi()!="/"};Storage.apw=function(s){s=s+"";
return s.length==1?"0"+s:s};Storage.a9c=function(s){var M=new Date(s),O=Storage.apw,P=O(M.getDate())+"."+O(M.getMonth()+1)+"."+M.getFullYear();
if(M.toLocaleDateString().indexOf("/")!=-1)P=O(M.getMonth()+1)+"/"+O(M.getDate())+"/"+M.getFullYear();
var y=O(M.getHours())+":"+O(M.getMinutes());return P+" "+y};Storage.colSpan=function(s){var M=i.m("span");
M.style.opacity="0.8";M.style.display="inline-block";M.style.width="120px";M.textContent=s;return M};
Storage.prototype.gq=function(){var s=Storage.list[this.S6][3],M=this.zh,O=Storage.SJ,P=Storage.Vw,y=Storage.yf;
if(M==null)return;M.sort(function(K,q){var l=K[1]==-1?1:5,T=q[1]==-1?1:5,B=0;if(Math.min(l,T)==1&&l!=T)return l-T;
else if(l==1||O==0)B=K[0].toLowerCase()<q[0].toLowerCase()?-1:1;else if(O==1)B=K[1]-q[1];else if(O==2)B=K[2]-q[2];
if(P==1)B=-B;if(K[0]=="Shared")B=-1;if(q[0]=="Shared")B=1;return B});var F=this.sB,A=this.th,h=this.wx[this.Na];
i.Lq(F);i.Lq(A);this.Z7=[];for(var R=0;R<3;R++)if(this.arP(R))i.VV(this.xE[R],"disabled");else i.cG(this.xE[R],"disabled");
A.appendChild(this.ayo);A.appendChild(this.SL);var m=i.m("span");m.textContent="/";A.appendChild(m);
for(var R=0;R<h.length;R++){var m=i.m("span");m.textContent=h[R];A.appendChild(m);var m=i.m("span");
m.textContent="/";A.appendChild(m)}var Z=["tile","icon","litm"][y];for(var R=0;R<M.length;R++){var u=M[R],f=u[1]==-1,U=f?"":fK.si(u[1]),C=i.m("div","cont "+Z),g=!1;
F.appendChild(C);this.Z7.push(C);var H=f?"":Storage.a9c(u[2]*1e3);C.setAttribute("title",u[0]+(f?"":"\nSize: "+U+"\nDate Modified: "+H));
var t=i.m("img");t.setAttribute("src",f?Storage.avR:u[3]?u[3]:Storage.sI);if(!f&&u[3])i.P(t,"box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var X=i.m("span","name"),Q=u[0];if(Z=="icon"&&Q.length>30)Q=Q.slice(0,24)+".."+Q.slice(Q.length-5);if(s&&h.length==1&&h[0]=="Shared"){var D=Storage.w$(),L=parseInt(Q.slice(5));
for(var E=0;E<D.length;E++)if(D[E][0]==L)Q=D[E][1]}X.textContent=Q;C.appendChild(t);C.appendChild(X);
if(Z!="icon"&&!f){if(Z=="litm")C.appendChild(Storage.colSpan(H));if(Z=="tile")i.QP(X);var _=Storage.colSpan(U);
if(Z=="litm")_.style["text-align"]="right";(Z=="tile"?X:C).appendChild(_)}var S=u[0].split("."),W=(S.length==1?"":S.pop()).toUpperCase();
if(s&&u[0]=="Shared"&&h.length==0){g=!0;W="\u21E7"}if(Z!="litm"&&(!f&&u[3]==null||g)){var x=i.m("span","ext");
x.textContent=W;var V=Storage.V$[W];x.style.backgroundColor=V?V:Storage.aCk(W);C.appendChild(x)}i.dq(C,this.L0);
C.addEventListener("contextmenu",this.L0)}this.Qk();var b=this.Hz.parentNode!=null,N=Storage.bo,J=this._;
if(b&&N==0)J.removeChild(this.Hz);if(!b&&N==1)J.appendChild(this.Hz);this.GK(this.V5,this.fw);this.T()};
Storage.prototype.Qk=function(s){var M=this.Z7,O=this.zh,P=this.PX(),y=!1,F=0,A=Storage.Wx?Storage.Wx.split(".").pop():"";
for(var R=0;R<M.length;R++){var h=O[R],m=h[1]==-1,Z=M[R];if(Storage.bo==1&&!m&&!h[0].toLowerCase().endsWith(A))Z.style.display="none";
else Z.style.display="auto";if(P.indexOf(R)==-1)i.VV(Z,"active");else{if(m)y=!0;else F+=h[1];i.cG(Z,"active");
if(s)Z.scrollIntoView({block:"center",behavior:"smooth"})}}var u=y?"":fK.si(F);this.Mh.textContent=P.length==0?"":P.length+" item"+(P.length==1?"":"s")+" selected\u2001"+u;
this.pn.value=P.length==1&&!y?O[P[0]][0]:Storage.Wx};Storage.prototype.a3R=function(s){var M=s[0],O=this.zh[M];
if(O[1]==-1){var P=this.wx[this.Na].slice(0);P.push(O[0]);this.Na++;this.wx[this.Na]=P;this.wx=this.wx.slice(0,this.Na+1);
this.L5([]);this.Cx()}else if(Storage.bo==0){this.agy(s)}};Storage.prototype.agy=function(s){if(s){this.RI({Q:z.J.JC,T1:"Opening ..."});
this.a(new kg("canclose",!0));this.afL=s.slice(0);this.Em=0}else this.Em++;if(this.afL.length==this.Em){this.RI({Q:z.J.fy,T1:"Opening ..."})}else{var M=this.afL[this.Em],O=this.zh[M],P=this.Hi(!0)+O[0];
this.GC("load",P)}};Storage.prototype.T=function(){var s=Storage.SJ,M=Storage.Vw,O=Storage.yf;this.O8[0].textContent=aW.get([[12,48],[12,14,0],"Date"][s]);
this.O8[1].innerHTML=Storage.aqo[[2,0][M]];this.O8[2].textContent=aW.get(["Tiles","Icons",[25,3,1]][O]);
this.O8[3].textContent="Upload";this.O8[4].textContent="\u2716";var P=Storage.list[this.S6],y=P[4];if(y==null)y=aW.get([[1,19,5],dc==0?"Photopea":"Vectorpea",P[0]]);
this.aFe.innerHTML=aW.get([[23,6],P[0]])+"<br/><small><small>"+y+"</small></small>";this.qy()};Storage.prototype.aEB=function(s){this.RI({Q:z.J.mJ});
if(i.qE(this.ats))return;if(s.button==3||s.button==4){if(Date.now()-this.aAT>50){var M=this.Na;if(s.button==3)this.Na=Math.max(M-1,0);
else this.Na=Math.min(M+1,this.wx.length-1);this.Cx()}this.aAT=Date.now();return}s.stopPropagation();
var R=this.Z7.indexOf(s.currentTarget);if(s.type=="contextmenu"){if(this.zh==null)return;s.preventDefault();
var O=this.eT;if(R!=-1){var P=[{name:[5,1],RU:[hj.yu,hj.fG]},{name:[6,37]},{name:"Download",dc:!0},{name:[5,4],RU:[hj.y6]},{name:[9,2]}];
if(Storage.list[this.S6][3]){var y=this.zh[R],F=Storage.w$(y);if(F.length!=0){var A=[];for(var h=0;h<F.length;
h++){var m=[],Z=F[h],u=Storage.aCA(y,Z[0]);if(u!=-1)m.push({name:"Unshare"});else m.push({name:"Allow Read"},{name:"Allow Read & Write"});
A.push({name:Z[1]+[""," (R)"," (R,W)"][u+1],sub:m})}P.push({name:"Share With",sub:A})}}O=new kA(P);O.parent=this;
O.k("select",this.ZR,this)}O.parent=this;O.T();O.update();this.RI({Q:z.J.EU,uJ:O,x:s.clientX+4,y:s.clientY});
return}var f=this.PX(),U=f.indexOf(R);if(s.button!=0&&U!=-1)return;if(s.target==this.sB)this.L5([]);
else{if(s.ctrlKey){if(U==-1)f.push(R);else f.splice(U,1)}else if(s.shiftKey&&f.length!=0){var h=f[0];
if(h<R){var C=R;R=h;h=C}f=[];this.L5(f);for(var H=R;H<=h;H++)f.push(H)}else{this.L5([R]);if(Date.now()-this.aa6<300&&f.length!=0&&f[0]==R){this.a3R([R]);
this.aa6=0}}}this.aa6=Date.now();this.Qk()};Storage.prototype.RI=function(s){var M=new kg(z.E.c,!0);
M.data=s;this.a(M)};Storage.w$=function(s){var M=[],O=[],P=dB.iJ(),y=P.acc.tstart;if(y)for(var R=0;R<y.length;
R++){M.push([y[R][2],y[R][0]]);O.push(y[R][2])}var F=dB.Nx();y=F.inTeams;if(y)for(var R=0;R<y.length;
R++){M.push([y[R][2],y[R][0]]);O.push(y[R][2])}if(s&&s[4]){for(var R=0;R<s[4].length;R++){var A=parseInt(s[4][R].split(":")[0]);
if(O.indexOf(A)==-1)M.push([A,"Team "+A])}}return M};Storage.prototype.aCX=function(s,M){if(this.Rz!=0)return 1;
this.Rz=2;this.RI({Q:z.J.JC,T1:aW.get([1,2])+" ..."});this.GC("save",s);if(Storage.ZW)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.by.contentWindow.postMessage(M,"*")};Storage.V$={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.aCk=function(s){s=s.toLowerCase();
var M=0;for(var R=0;R<s.length;R++)M+=s.charCodeAt(R)*613<<8*R;return"#"+a.Rr(M&16777215)};Storage.avR="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.sI="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var gS=function(){var s,M,O,P,y,F,A,h;function m(C,H,t,X,Q){M=H;P=X;A=Q;s=C;F={};if(s==0){O=[t]}if(s==1){O=[];
for(var D in t)O.push(D)}if(s==2){var L=t[0],E=t[1],_=t[2],S={};for(var R=0;R<_.length;R++)S[_[R][0]]=!0;
var W={};for(var D in E){var g=D.split("/"),x=g[0],V=x.split("."),b="";if(V.length!=1){b="."+V.pop();
x=V.join(".")}while(S[x+b])x+=" - Copy";g[0]=x+b;W[g.join("/")]=E[D]}var N={};O=[];for(var D in W){var g=D.split("/");
for(var R=0;R<g.length-1;R++){var J=L+g.slice(0,R+1).join("/")+"/";if(N[J]==null){N[J]=!0;O.push([J])}}var K=L.endsWith("/")||D.startsWith("/")?"":"/";
O.push([L+K+D,W[D]])}}window.addEventListener("message",u,!1);h=Date.now();Z()}function Z(){if(O.length==0){U();
return}y=O.shift();if(s==0)f("show",y);if(s==1)f("load",y);if(s==2){f("save",y[0]);if(y.length==2)M.contentWindow.postMessage(y[1],"*")}}function u(C){if(C.source!=M.contentWindow)return;
if(s==0){var H=JSON.parse(C.data),t=H.code,X=H.prm;for(var R=0;R<X.length;R++){var Q=X[R];if(P&&P.indexOf(Q[0])==-1)continue;
var D=y+(y=="/"?"":"/"),L=D+Q[0];if(Q[1]==-1)O.push(L);else F[L]=Q}P=null}else if(s==1){F[y]=new Uint8Array(C.data)}Z()}function f(C,H){var t=C=="show"?", \"nothumbs\": true":"",X="{\"code\": \""+C+"\", \"prm\": "+JSON.stringify(H)+t+"  }";
M.contentWindow.postMessage(X,"*")}function U(){console.log(Date.now()-h);window.removeEventListener("message",u,!1);
A(F)}return{Hy:m}}();function k2(s){hV.call(this);var M=this._=i.m("div","form scrollable padded label12");
this.W0=s;this.jY=null;var O=[],P=k2.pW[s];this.axc=[];for(var y in P){var F=parseInt(y.slice(1)),A=F%10==0?"":"\u2800\u2800- ";
O.push(A+P[y]);this.axc.push(F)}this.Lp=[new hH("Name",null,30),new hH("Description",null,30,4),s==0?new hH("File"," www.Photopea.com#i...",17):new hf("File",!1,!1),new hH("Thumbnail URL","* Use Imgur.com etc.",17),new d_("Category",O),new ho("Make Public"),new fU("<< Back",null,null,!0),new fU("Save",null,null,!0)];
if(s==0)this.Lp.push(new df("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new df("Get a Thumbnail URL: File - Publish Online - JPG."),new df("Write a proper description, so that your work can be found using text search."));
if(s==1)this.Lp.push(new df("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(s!=0)this.Lp.push(new df("Do not load any file to preserve the old version."));for(var R=0;R<this.Lp.length;
R++){var h=this.Lp[R];M.appendChild(h._);h.parent=this;if(R!=4&&R!=6)i.QP(M);if(h instanceof fU)h.k("click",this.aIm,this);
if(s!=0&&R==2)h.k(z.E.n,this.aC6,this)}}k2.prototype=new hV;k2.prototype.aC6=function(s){var M=this.Lp[2],O=M.V(),P=Object.keys(O),y=O[P[0]].buffer,F=b_.WG(y),A=" json atn abr grd asl pat csh icc".split(" ")[this.W0];
if(F!=A){alert("This is a wrong file"+(F?" ("+F.toUpperCase()+")":"")+". You need to upload the "+A.toUpperCase()+" file.");
M.q({})}};k2.prototype.aIm=function(s){if(s.target==this.Lp[6]){this.a(new kg("back"));return}function M(A,h){return A.indexOf(h)!=-1}var O=this.Lp[3].V().trim(),P=O.startsWith("http")&&(M(O,".jpeg")||M(O,".jpg")||M(O,".png")||M(O,".gif"));
if(!P){alert("Thumbnail URL is incorrect.");return}var y=new XMLHttpRequest,F=(O);
y.open("GET",F);y.responseType="arraybuffer";y.onload=this.atd.bind(this);y.send()};k2.prototype.atd=function(s){var M=s.target.response,O=M.byteLength;
if(O>2e5&&b_.WG(M)!="gif"){alert("Thumbnail is too large ("+fK.si(O)+"). Make it under 200 kB.");return}var P=this.Lp[2].V(),y=Object.keys(P);
if(this.W0!=0&&y.length==0&&(this.jY==null||this.jY.file==null||this.jY.file=="")){alert("You need to select a file.");
return}if(this.W0!=0&&y.length!=0){console.log(P);cD.oX.aC0(P[y[0]].buffer,y[0],this.a9t.bind(this),"pp-resources");
return}this.a9t()};k2.prototype.a9t=function(s){var M=this.W0,O="name desc file thmb catg publ".split(" "),P=this.jY;
for(var R=0;R<6;R++){if(M!=0&&R==2)continue;var y=this.Lp[R].V();if(R<=3){y=y.trim();if(y.length==0){alert("One of values is empty.");
return}}if(R==2){if(y.endsWith(".psd"))y=y.slice(0,y.length-4);var F=y.split("#i");if(F.length!=2||F[1].length!=8){alert("File ID is incorrect.");
return}y=F.pop()}if(R==4)y=this.axc[y];P[O[R]]=y}if(M!=0){if(s)P.file=s;else if(P.file==null){alert("Select a file from your computer.");
return}}if(P.utme.length==0)P.utme=""+Math.round(Date.now()/1e3);P.type=M;this.a(new kg("save"))};k2.prototype.T=function(){};
k2.prototype.q=function(s){var M=this.jY=a.G(s),O=this.W0,P="name desc file thmb catg publ".split(" ");
for(var R=0;R<6;R++){if(O!=0&&R==2)continue;var y=M[P[R]];if(y!=""&&R==2)y="https://photopea.com#i"+y;
if(R==4)y=this.axc.indexOf(y);if(R==5&&y==null)y=!0;this.Lp[R].q(y)}};k2.prototype.V=function(){return a.G(this.jY)};
k2.pW=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function ja(){hV.call(this);var s=this._=i.m("div","form");this.jY=null;this.DK=null;this.Ke=null;this.UM=null;
var M=i.m("canvas");this.KM=M.getContext("2d");i.o0(M);i.dq(M,this.bL.bind(this));this.AH=[new e0([12,44],[[19,0,0],[19,0,1]]),{_:M},new hQ([12,0],0,100,"%",null,null,null,4),new aI,new hQ([12,40],0,100,"%",2,null,null,4),new fU([5,4],null,null,!0)];
for(var R=0;R<this.AH.length;R++){var O=this.AH[R];O.parent=this;s.appendChild(O._);if(R!=2&&R!=4)i.QP(s);
if(R!=1)O.k(R==5?"click":z.E.n,this.qr,this)}this.YR=this.AF.bind(this);this.Wd=this.$$.bind(this)}ja.prototype=new hV;
ja.prototype.V=function(){return a.G(this.jY)};ja.prototype.q=function(s){this.jY=a.G(s);this.RB()};
ja.prototype.T=function(){var s=this.AH;for(var R=0;R<s.length;R++)if(s[R].T)s[R].T()};ja.prototype.bL=function(s){var M=i.yD(),O=i.iC(s,this.KM.canvas);
O.x*=M;O.y*=M;var P=this.Ke,y=this.UM,F=this.jY,A=F[1],h=7*i.yD(),m=-1;for(var R=0;R<P.length;R++){if(j6.gp(O,P[R][0])<h)m=R}if(m==-1){if(Math.abs(O.y-(y.y+y.$))>10*M)return;
var Z=[.5,[0,0,0],1,.5];A.push(Z);A.sort(function(u,f){return u[0]-f[0]});this.Yv=[new j6,A.indexOf(Z),0]}else this.Yv=P[m];
this.DK=JSON.stringify(this.jY);i.Qj(window,this.YR);i.gE(window,this.Wd);if(m==-1)this.AF(s);this.RB()};
ja.prototype.AF=function(s){this.jY=JSON.parse(this.DK);var M=i.yD(),O=i.iC(s,this.KM.canvas);O.x*=M;
O.y*=M;var P=this.Yv,y=P[1],F=this.UM,A=this.jY[1],h=A[y],m=(O.x-F.x)/F.A;if(P[2]==0){h[0]=Math.max(0,Math.min(1,m));
if(Math.abs(O.y-(F.y+F.$))>30*M)A.splice(y,1)}else{var Z=h[0],u=A[y+1][0],f=h[3];h[3]=Math.max(.13,Math.min(.87,(m-Z)/(u-Z)))}A.sort(function(U,C){return U[0]-C[0]});
this.RB()};ja.prototype.$$=function(s){i.GE(window,this.YR);i.bY(window,this.Wd)};ja.prototype.qr=function(s){var M=this.AH,R=M.indexOf(s.target),O=this.jY,P=s.target.V(),y=this.Yv;
if(R==0)O[0]=P;if(y){var F=O[1][y[1]];if(R==2)F[2]=P/100;if(R==3){P=a.Aj(s.target.yl());F[1]=[P.o/255,P.R/255,P.X/255]}if(R==4)if(y[2]==0)F[0]=P/100;
else F[3]=Math.max(.13,Math.min(.87,P/100));if(R==5){O[1].splice(y[1],1);this.Yv=null}}this.RB()};ja.prototype.RB=function(){var s=this.AH,M=this.jY,O=M[1],P=this.KM,y=P.canvas;
s[0].q(M[0]);var F=y.width=Math.floor(300*i.yD()),A=y.height=Math.floor(60*i.yD()),h=Math.floor(20*i.yD()),m=F-h-h;
this.UM=new gi(h,h,m,A-h-h);i.K8(y);var Z=P.fillStyle=P.createLinearGradient(h,h,F-h,h);a.wv.rO(Z,O);
P.fillRect(h,h,m,A-h-h);P.lineWidth=1;P.strokeRect(h-.5,h-.5,m+1,A-h-h+1);var u=this.Ke=[],f=this.Yv;
P.fillStyle="white";for(var R=0;R<O.length;R++){var U=O[R],C=U[0],H=A-h*.6;if(f&&f[1]==R&&f[2]==0){P.fillStyle="#00aaff";
P.beginPath();P.arc(h+C*m,H,A*.125,0,2*Math.PI);P.fill()}P.fillStyle="white";P.beginPath();P.arc(h+C*m,H,A*.1,0,2*Math.PI);
P.fill();P.beginPath();P.arc(h+C*m,H,A*.07,0,2*Math.PI);P.stroke();u.push([new j6(h+C*m,H),R,0]);if(R!=O.length-1){var t=U[3],X=O[R+1][0];
C=C+t*(X-C);H=h*.7;if(f&&f[1]==R&&f[2]==1){P.fillStyle="#00aaff";P.beginPath();P.arc(h+C*m,H,A*.075,0,2*Math.PI);
P.fill()}P.fillStyle="white";P.beginPath();P.arc(h+C*m,H,A*.05,0,2*Math.PI);P.fill();u.push([new j6(h+C*m,H),R,1])}}s[2].oo(f&&f[2]==0);
s[3].oo(f&&f[2]==0);s[4].oo(f!=null);s[5].oo(f&&f[2]==0&&O.length>2);if(f){var U=O[f[1]],Q=U[1];if(f[2]==0)s[2].q(U[2]*100);
s[3].ZS(a.DU({o:Q[0]*255,R:Q[1]*255,X:Q[2]*255}));s[4].q(U[f[2]==0?0:3]*100)}};function aB(s){hV.call(this);
this.Vy=s;this._=i.m("div","");this.zO=[];this.abe=null;this.aFm=[]}aB.prototype=new hV;aB.prototype.LV=function(s){};
aB.prototype.KB=function(){return!1};aB.prototype.sr=function(){return 0};aB.prototype.GK=function(s,M){};
aB.prototype.qy=function(s,M){};aB.prototype.uj=function(s){};aB.prototype.q=function(s,M,O,P,y,F){var A=[],h=this.zO,m=0,Z=bW.Pj["s"+this.Vy];
if(this.Vy=="Dspl")this.AB(s,A,F);else Z?Z(s,A,F):this.AB(s,A,F);for(var R=0;R<h.length;R++)if(!(h[R]instanceof df))h[R].q(A[m++]);
if(s.RndS)this.abe=s.RndS.v};aB.prototype.V=function(){var s=bW.Jb(this.Vy),M=[],O=this.zO,P=0;for(var R=0;
R<O.length;R++)if(!(O[R]instanceof df))M[P++]=O[R].V();var y=bW.Pj["g"+this.Vy];if(this.Vy=="Dspl")this.hD(s,M);
else y?y(s,M):this.hD(s,M);if(s.RndS)s.RndS.v=this.abe;return s};aB.prototype.lJ=function(s){};aB.prototype.pM=function(s){if(s&&s.target instanceof fU){this.abe=Math.floor(Math.random()*4294967295)}var M=this.aFm;
for(var R=0;R<M.length;R+=2){var O=this.zO[M[R]],P=this.zO[M[R+1]],y=O.V(),F=P.V();if(s.target==O)P.q(Math.max(y,F));
else O.q(Math.min(y,F))}this.a(new kg(z.E.n))};aB.prototype.T=function(){for(var R=0;R<this.zO.length;
R++)this.zO[R].T();var s=this.abt;if(s)s.T()};aB.prototype.Lc=function(s){i.cG(this._,"form");var M=this.zO;
for(var R=0;R<M.length;R++){var O=M[R];O.parent=this;O.k(z.E.n,this.pM,this);this._.appendChild(O._);
if(O instanceof ho&&M[R+1]instanceof aI)continue;if(s&&s.indexOf(R)!=-1)i.yV(this._);else i.QP(this._)}var P=bW.Jb(this.Vy);
if(P.RndS){var y=this.abt=new fU([25,1,2],null,null,!0);this._.appendChild(y._);y.k("click",this.pM,this)}};
aB.prototype.cZ=function(s){return!1};aB.prototype.Ls=function(){return!1};aB.prototype.nD=function(s,M,O,P,y){};
aB.prototype.nh=function(s,M,O,P,y){};aB.prototype.Cq=function(s,M,O,P,y){};aB.prototype.hD=function(s,M){};
aB.prototype.AB=function(s,M){};aB.prototype.Kl=function(s){var M=s.target.V().indexOf(!0),O=M!=-1;if(M!=-1){this.EF=M}if(this.PZ==null)this.PZ=0;
var P=Date.now(),y=new kg(z.E.c,!0);y.T8=!0;if(P-this.PZ<300&&this.EF<3&&this.A7&&this.CO==null){if(this.CP==null)this.CP=[0,8421504,16777215];
y.data={Q:z.J.xL,Rj:"colorpicker",mY:this.CP[this.EF],h3:this.ala.bind(this)};this.a(y)}else{this.a0j(M!=-1)}this.PZ=P};
aB.prototype.a0j=function(s){var M=new kg(z.E.c,!0);M.T8=!0;M.data={Q:s?z.J.LT:z.J.qw,l:$.RV};this.a(M);
M=new kg(z.E.H,!0);M.l=$.RV;M.T8=!0;M.data={Q:"supertool",l:s?this:null};this.a(M)};aB.prototype.ala=function(s){this.CP[this.EF]=s;
var M=[];for(var R=0;R<3;R++)M[R]="#"+a.Rr(this.CP[R]);this.A7.ZG(e0.$b(M));var O=[!1,!1,!1];O[this.EF]=!0;
this.A7.q(O);this.a0j(!0)};aB.aLw=function(s){s.Ls=function(){return!0};s.nD=function(M,O,P,y,F){this.Mp=!0;
this.a8U(M,F)};s.nh=function(M,O,P,y,F){if(!this.Mp)return;this.a8U(M,F)};s.Cq=function(M,O,P,y,F){this.Mp=!1};
s.a8U=function(M,O){var P=new gi(0,0,M.A,M.$);if(M.h)P=M.h.S;var y=M.i.ni(O.x,O.y);y.x-=P.x;y.y-=P.y;
function F(A,h){return Math.round(Math.max(0,Math.min(100,100*A/h)))}this.zO[2].q(F(y.x,P.A));this.zO[3].q(F(y.y,P.$));
this.pM()}};aB.an3=function(s,M,O,P){var y=s.A7.V().indexOf(!0);if(y==-1||y>2)return;var F=P=="levl"?fY:ef,A=s.value;
s.value=bW.Jb(P);s.pM();var h=$.jP.VP(M,O,1,null,!0),m=[h>>>16&255,h>>>8&255,h&255],Z=s.CP;if(Z==null)Z=[0,8421504,16777215];
h=Z[y];var u=[h>>>16&255,h>>>8&255,h&255];for(var R=0;R<3;R++){var f=F.n0(A,1+R);if(y==0){var U=m[R]-u[R];
if(P=="levl")f[0]=U;else f[0].v.Hrzn.v=U}if(y==1){var C=Math.log(m[R]/255)/Math.log((m[0]+m[1]+m[2])*.333/255),H=Math.log(u[R]/255)/Math.log((u[0]+u[1]+u[2])*.333/255),t=C/H;
if(P=="levl")f[4]=Math.min(999,Math.max(10,Math.round(100*t)));else{if(f.length==2)f.splice(1,0,a.G(f[0]));
f[1].v.Hrzn.v=127-Math.log(t)*80;f[1].v.Vrtc.v=127}}if(y==2){var U=255*m[R]/u[R];if(P=="levl")f[1]=U;
else f[f.length-1].v.Hrzn.v=U}F.lB(A,1+R,f)}s.q(A);s.pM()};aB.Bokh=function(){aB.call(this,"Bokh");this.zO=[new d_("Depth Map",["A","b"]),new jH("Focal Distance",0,255),new ho([4,11]),new d_([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new jH([12,56],0,100),new jH([12,15],0,360),new jH([12,2],0,100),new jH([4,13],0,255),new jH([24,6],0,100),new e0([12,58],[[12,59,0],[12,59,1]]),new ho([12,60])];
this.Lc([5,7])};aB.Bokh.prototype=new aB;aB.Bokh.prototype.AB=function(s,M,O){var P=[[22,5,0],[6,5,3],[6,2]],y=s.BkDi.v.BtDi,F=s.BkDc,A=0;
if(y=="BeIn")A=0;else if(y=="BeIt"&&F.v.BtDc=="BeCt")A=1;else if(y=="BeIt"&&F.v.BtDc=="BeCm")A=2;else A=3+F.v;
for(var R=0;R<O[1].length;R++)P.push(O[1][R].name);this.zO[0].ZG(P,[3]);M[0]=A;M[1]=s.BkDp.v;M[2]=s.BkDs.v;
M[3]=parseInt(s.BkIs.v.BtIs.slice(3))-3;M[4]=s.BkIb.v;M[5]=s.BkIr.v;M[6]=s.BkSb.v;M[7]=s.BkSt.v;M[8]=s.BkNa.v;
M[9]=s.BkNt.v.BtNt=="BeNu"?0:1;M[10]=s.BkNm.v};aB.Bokh.prototype.hD=function(s,M){var O;if(M[0]==0){O="BeIn";
delete s.BkDc}else if(M[0]<3){O="BeIt";s.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][M[0]-1]}}}else{O="BeIa";
s.BkDc={t:"long",v:M[0]-3}}s.BkDi.v.BtDi=O;s.BkDp.v=M[1];s.BkDs.v=M[2];s.BkIs.v.BtIs="BeS"+(3+M[3]);
s.BkIb.v=M[4];s.BkIr.v=M[5];s.BkSb.v=M[6];s.BkSt.v=M[7];s.BkNa.v=M[8];s.BkNt.v.BtNt=["BeNu","BeNg"][M[9]];
s.BkNm.v=M[10]};aB.oilPaint=function(){aB.call(this,"oilPaint");this.zO=[new jH([12,56],.1,10,"px",!0),new jH("Cleanliness",0,10,"px",!0),new jH([12,38],.1,10,null,!0),new jH("Bristle Detail",0,10,null,!0),new ho("Lighting"),new jH("Shine",0,10,null,!0),new gK([12,15])];
this.Lc()};aB.oilPaint.prototype=new aB;aB.oilPaint.prototype.AB=function(s,M){var O="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var R=0;R<O.length;R++)M[R]=s[O[R]].v;M[6]=[s.LghD.v]};aB.oilPaint.prototype.hD=function(s,M){var O="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var R=0;R<O.length;R++)s[O[R]].v=M[R];s.LghD.v=M[6][0]};aB.TrcC=function(){aB.call(this,"TrcC");
this.zO=[new jH("Level",0,255),new e0([12,69],[[19,4,1],[19,4,0]])];this.Lc()};aB.TrcC.prototype=new aB;
aB.TrcC.prototype.AB=function(s,M){M[0]=s.Lvl.v;M[1]=["Lwr","Upr"].indexOf(s.Edg.v.CntE)};aB.TrcC.prototype.hD=function(s,M){s.Lvl.v=M[0];
s.Edg.v.CntE=["Lwr","Upr"][M[1]]};aB["Dfs "]=function(){aB.call(this,"Dfs ");this.zO=[new e0([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.Lc()};aB["Dfs "].prototype=new aB;aB["Dfs "].prototype.AB=function(s,M){M[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(s.Md.v.DfsM)};
aB["Dfs "].prototype.hD=function(s,M){s.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][M[0]]};aB.Embs=function(){aB.call(this,"Embs");
this.zO=[new gK([12,15]),new jH([12,42],1,100,"px"),new jH([12,57],1,500,"%")];this.Lc()};aB.Embs.prototype=new aB;
aB.Embs.prototype.AB=function(s,M){M[0]=[s.Angl.v];M[1]=s.Hght.v;M[2]=s.Amnt.v};aB.Embs.prototype.hD=function(s,M){s.Angl.v=M[0][0];
s.Hght.v=M[1];s.Amnt.v=M[2]};aB["Wnd "]=function(){aB.call(this,"Wnd ");this.zO=[new e0([12,32],["Wind","Blast","Stagger"]),new e0([12,33],["From the Right","From the Left"])];
this.Lc()};aB["Wnd "].prototype=new aB;aB["Wnd "].prototype.AB=function(s,M){M[0]=["Wnd","Blst","Stgr"].indexOf(s.WndM.v.WndM);
M[1]=["Left","Rght"].indexOf(s.Drct.v.Drct)};aB["Wnd "].prototype.hD=function(s,M){s.WndM.v.WndM=["Wnd","Blst","Stgr"][M[0]];
s.Drct.v.Drct=["Left","Rght"][M[1]]};aB.denoise=function(){aB.call(this,"denoise");this.zO=[new jH([12,64],0,10),new jH([12,65],0,100,"%")];
this.Lc()};aB.denoise.prototype=new aB;aB.denoise.prototype.AB=function(s,M){var O=s.channelDenoise.v[0].v;
M[0]=O.Amnt.v;M[1]=O.EdgF.v};aB.denoise.prototype.hD=function(s,M){var O=s.channelDenoise.v[0].v;O.Amnt.v=M[0];
O.EdgF.v=M[1]};aB.lightFilterGradient=function(){aB.call(this,"lightFilterGradient");this.zO=[new jH([24,3,1],0,100,"px",1,!0),new jH([12,38],0,200,"%"),new ho([4,11]),new jH("High",0,100,"%"),new jH("Medium",0,100,"%"),new jH("Low",0,100,"%")];
this.Lc()};aB.lightFilterGradient.prototype=new aB;aB.lightFilterGradient.prototype.AB=function(s,M){M[0]=s.blur.v;
M[1]=s.textureScale.v*100;M[2]=s.Scl.v==-1;var O=s.Dtl.v;M[3]=O[0].v*100;M[4]=O[1].v*100;M[5]=O[2].v*100};
aB.lightFilterGradient.prototype.hD=function(s,M){s.blur.v=M[0];s.textureScale.v=M[1]/100;s.Scl.v=M[2]?-1:1;
var O=s.Dtl.v;O[0].v=M[3]/100;O[1].v=M[4]/100;O[2].v=M[5]/100};aB.Fbrs=function(){aB.call(this,"Fbrs");
this.zO=[new jH("Variance",1,64),new jH([12,64],1,64)];this.Lc()};aB.Fbrs.prototype=new aB;aB.Fbrs.prototype.AB=function(s,M){M[0]=s.Vrnc.v;
M[1]=s.Strg.v};aB.Fbrs.prototype.hD=function(s,M){s.Vrnc.v=M[0];s.Strg.v=M[1]};aB.LnsF=function(){aB.call(this,"LnsF");
this.zO=[new jH([12,2],10,300,"%"),new e0([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new jH("Position X",0,100,"%"),new jH("Position Y",0,100,"%")];
this.Lc()};aB.LnsF.prototype=new aB;aB.LnsF.prototype.AB=function(s,M){M[0]=s.Brgh.v;M[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(s.Lns.v.Lns);
var O=s.FlrC.v;M[2]=Math.round(O.Hrzn.v*100);M[3]=Math.round(O.Vrtc.v*100)};aB.LnsF.prototype.hD=function(s,M){s.Brgh.v=M[0];
s.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][M[1]];var O=s.FlrC.v;O.Hrzn.v=M[2]/100;O.Vrtc.v=M[3]/100};aB.aLw(aB.LnsF.prototype);
aB.blendOptions=function(){aB.call(this,"blendOptions");this.zO.push(new d_([12,19,0],h0.lq,h0.P1));
this.zO.push(new jH([12,0],0,100,"%"));this.Lc()};aB.blendOptions.prototype=new aB;aB.blendOptions.prototype.AB=function(s,M){M[0]=h0.iQ.indexOf(s.Md.v.BlnM);
M[1]=s.Opct.v.val};aB.blendOptions.prototype.hD=function(s,M){s.Md.v.BlnM=h0.iQ[M[0]];s.Opct.v.val=M[1]};
aB.LnCr=function(){aB.call(this,"LnCr");this.zO=[new jH([12,57],-100,100),new jH([12,38],10,150,"%")];
this.Lc()};aB.LnCr.prototype=new aB;aB.LnCr.prototype.AB=function(s,M){M[0]=s.LnIa.v;M[1]=s.LnSi.v};
aB.LnCr.prototype.hD=function(s,M){s.LnIa.v=M[0];s.LnSi.v=M[1]};aB.adaptCorrect=function(){aB.call(this,"adaptCorrect");
var s=fB;this.zO=[new df([19,6,0]),new s([12,57],0,100,"%"),new s("Tone",0,100,"%"),new s([12,56],0,200,"px"),new df([19,6,2]),new s([12,57],0,100,"%"),new s("Tone",0,100,"%"),new s([12,56],0,200,"px"),new df([3]),new s([13,0],-100,100)];
this.Lc([3,7])};aB.adaptCorrect.prototype=new aB;aB.adaptCorrect.prototype.AB=function(s,M){var O=s.sdwM.v;
M[0]=O.Amnt.v.val;M[1]=O.Wdth.v.val;M[2]=O.Rds.v;var O=s.hglM.v;M[3]=O.Amnt.v.val;M[4]=O.Wdth.v.val;
M[5]=O.Rds.v;M[6]=s.ClrC.v};aB.adaptCorrect.prototype.hD=function(s,M){var O=s.sdwM.v;O.Amnt.v.val=M[0];
O.Wdth.v.val=M[1];O.Rds.v=M[2];var O=s.hglM.v;O.Amnt.v.val=M[3];O.Wdth.v.val=M[4];O.Rds.v=M[5];s.ClrC.v=M[6]};
aB.Flam=function(){aB.call(this,"Flam");var s=this.zO=[new d_([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new jH([12,80,0],20,1e3,"px"),new ho("Randomize Length"),new jH([12,41],5,600,"px"),new jH([12,15],0,360,"\xB0"),new jH("Interval",10,200,"px"),new ho("Adapt Interval for Loops"),new aI(!1),new d_([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new jH("Turbulent",0,100),new jH("Jag",0,100),new jH([12,0],0,100),new jH("Lines",2,30),new jH("Bottom",0,100),new d_([12,22],["Normal","Violent","Flat"]),new d_([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new ho("Randomize Shape"),new jH("Random Seed",0,100)];
this.Lc();var M=this._;i.Lq(M);var O=new e0(null,["Basic","Advanced"]);O.k(z.E.n,this.a8B,this);M.appendChild(O._);
i.yV(M);var P=i.m("div"),y=i.m("div");this.aEq=[P,y];M.appendChild(P);for(var R=0;R<s.length;R++){(R<9?P:y).appendChild(s[R]._);
if(R==6)i.QP(P)}s[0].k(z.E.n,this.aoX,this);this.aoX()};aB.Flam.prototype=new aB;aB.Flam.prototype.aoX=function(s){var M=this.zO,R=M[0].V();
M[1].oo(R!=0&&R!=5);M[2].oo(R!=0&&R!=5);M[4].oo(R!=0&&R!=5&&R!=1);M[5].oo(R!=0&&R!=5);M[6].oo(R!=0&&R!=5)};
aB.Flam.prototype.a8B=function(s){var R=s.target.V(),M=this.aEq,O=this._;O.removeChild(M[1-R]);O.appendChild(M[R])};
aB.boxblur=function(){aB.call(this,"boxblur");this.zO=[new jH([12,56],1,200," px")];this.Lc()};aB.boxblur.prototype=new aB;
aB.boxblur.prototype.AB=function(s,M){M[0]=s.Rds.v.val};aB.boxblur.prototype.hD=function(s,M){s.Rds.v.val=M[0]};
aB.GsnB=function(){aB.call(this,"GsnB");this.zO=[new jH([12,56],.1,400,"px",1,!0)];this.Lc()};aB.GsnB.prototype=new aB;
aB.Dila=function(){aB.call(this,"Dila");this.zO=[new jH([11,12,1],0,20,"px",0),new jH([12,56],0,400,"px",0,!0)];
this.Lc()};aB.Dila.prototype=new aB;aB.MtnB=function(){aB.call(this,"MtnB");this.zO=[new gK([12,15]),new jH([12,28],1,100," px")];
this.Lc()};aB.MtnB.prototype=new aB;aB.RdlB=function(){aB.call(this,"RdlB");this.zO=[new jH([12,57],1,100),new e0([12,36],["Spin","Zoom"]),new jH("Position X",0,100,"%"),new jH("Position Y",0,100,"%")];
this.Lc()};aB.RdlB.prototype=new aB;aB.RdlB.prototype.AB=function(s,M){M[0]=s.Amnt.v;M[1]=["Spn","Zm"].indexOf(s.BlrM.v.BlrM);
M[2]=s.Cntr.v.Hrzn.v*100;M[3]=s.Cntr.v.Vrtc.v*100};aB.RdlB.prototype.hD=function(s,M){s.Amnt.v=M[0];
s.BlrM.v.BlrM=["Spn","Zm"][M[1]];s.Cntr.v.Hrzn.v=M[2]/100;s.Cntr.v.Vrtc.v=M[3]/100};aB.aLw(aB.RdlB.prototype);
aB.Dspl=function(){aB.call(this,"Dspl");this.zO=[new d_([6,36,3],["a","b"]),new jH([22,4,0],-100,100,"px"),new jH([22,4,1],-100,100,"px"),new d_([24,18,0],[[24,18,3],[24,18,2]])];
this.Lc()};aB.Dspl.prototype=new aB;aB.Dspl.prototype.AB=function(s,M,O){this.a7f=[];this.tf=[];var P=-1,y=O?O[0]:null;
if(y==null)y=this.anb;else this.anb=y;if(y)for(var R=0;R<y.length;R++){var F=y[R];this.a7f.push(F.Zp.trim());
this.tf.push(F.Xh);if(F.Xh==s.DspF.v.pth)P=R}this.zO[0].ZG(this.a7f);M[0]=P==-1?0:P;M[1]=s.HrzS.v;M[2]=s.VrtS.v;
M[3]=["WrpA","RptE"].indexOf(s.UndA.v.UndA)};aB.Dspl.prototype.hD=function(s,M){var O=this.anb;if(this.tf.length==0)return;
s.DspF.v.pth=this.tf[M[0]];s.HrzS.v=M[1];s.VrtS.v=M[2];s.UndA.v.UndA=["WrpA","RptE"][M[3]];var P=O[M[0]];
P.Ta();var y=P.EV[1],F=y.A,A=y.$,h=a.j(y.C());a.K1(P.EV[0],h);var m=[A&255,A>>>8,0,0,F&255,F>>>8,0,0,3,0];
for(var Z=0;Z<2;Z++)for(var R=0;R<h.length;R++)m.push(h[R]);for(var R=0;R<1e3;R++)m.push(0);s.DspD={t:"tdta",v:m};
s.EmbF={t:"bool",v:!0}};aB.Pnch=function(){aB.call(this,"Pnch");this.zO=[new jH([12,57],-100,100,"%")];
this.Lc()};aB.Pnch.prototype=new aB;aB["Plr "]=function(){aB.call(this,"Plr ");this.zO=[new e0(null,["Rect to Polar","Polar to Rect"])];
this.Lc()};aB["Plr "].prototype=new aB;aB.Rple=function(){aB.call(this,"Rple");this.zO=[new jH([12,57],-999,999),new d_([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.Lc()};aB.Rple.prototype=new aB;aB["Shr "]=function(){aB.call(this,"Shr ");this.zO=[new hw(!0,!0),new d_([24,18,0],[[24,18,3],[24,18,2]])];
this.Lc()};aB["Shr "].prototype=new aB;aB["Shr "].prototype.AB=function(s,M){var O=new kp(0,255/127,255/127,0,-2,128),P=a.G(s.ShrP.v);
a.Vt.M(P,O);M[0]=P;M[1]=["WrpA","RptE"].indexOf(s.UndA.v.UndA)};aB["Shr "].prototype.hD=function(s,M){var O=new kp(0,255/127,255/127,0,-2,128);
O.or();a.Vt.M(M[0],O);s.ShrP.v=M[0];s.ShrE.v=M[0].length-1;s.UndA.v.UndA=["WrpA","RptE"][M[1]]};aB.Sphr=function(){aB.call(this,"Sphr");
this.zO=[new jH([12,57],-100,100),new d_([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Lc()};aB.Sphr.prototype=new aB;
aB.Sphr.prototype.AB=function(s,M){M[0]=s.Amnt.v;M[1]=["Nrml","HrzO","VrtO"].indexOf(s.SphM.v.SphM)};
aB.Sphr.prototype.hD=function(s,M){s.Amnt.v=M[0];s.SphM.v.SphM=["Nrml","HrzO","VrtO"][M[1]]};aB.Dthr=function(){aB.call(this,"Dthr");
this.zO=[new d_("Palette",iU.aBB),new e0("Method",["None","Floyd-Steinberg","Bayer 4x4"])];this.Lc()};
aB.Dthr.prototype=new aB;aB.Dthr.prototype.AB=function(s,M){M[0]=s.Plte.v;M[1]=s.Mthd?s.Mthd.v:1};aB.Dthr.prototype.hD=function(s,M){s.Plte.v=M[0];
s.Mthd.v=M[1]};aB.Part=function(){aB.call(this,"Part");this.zO=[new jH([15,5,1],0,100,"%"),new jH([12,14,0],1,50,"px"),new jH([12,34],0,100,"%"),new jH([12,2],10,1e3,"%"),new aI(!0),new jH("Time",0,1,null,3),new jH("Turbulence",0,100,"%"),new ho("Blink"),new ho("Fall")];
this.Lc([4])};aB.Part.prototype=new aB;aB.Part.prototype.AB=function(s,M){M[0]=s.Cont.v;M[1]=s.Size.v;
M[2]=s.Dpth.v;M[3]=s.Brgh.v;M[4]=s.Clr.v;M[5]=s.Time.v;M[6]=s.Turb.v;M[7]=s.Blnk.v;M[8]=s.Fall.v};aB.Part.prototype.hD=function(s,M){s.Cont.v=M[0];
s.Size.v=M[1];s.Dpth.v=M[2];s.Brgh.v=M[3];s.Clr.v=M[4];s.Time.v=M[5];s.Turb.v=M[6];s.Blnk.v=M[7];s.Fall.v=M[8]};
aB.Twrl=function(){aB.call(this,"Twrl");this.zO=[new jH([12,15],-999,999)];this.Lc()};aB.Twrl.prototype=new aB;
aB.Wave=function(){aB.call(this,"Wave");this.aFm=[1,2,3,4];this.zO=[new jH("Number of Generators",1,100),new fB("Min Length",1,999),new fB("Max Length",1,999),new fB("Min Ampl.",1,999),new fB("Max Ampl.",1,999),new fB("Scale X",1,100,"%"),new fB("Scale Y",1,100,"%"),new e0([12,44],["Sine","Triangle",[12,93,3]]),new d_([24,18,0],[[24,18,3],[24,18,2]])];
this.Lc()};aB.Wave.prototype=new aB;aB.ZgZg=function(){aB.call(this,"ZgZg");this.zO=[new jH([12,57],-100,100),new jH("Ridges",0,20),new d_([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Lc()};aB.ZgZg.prototype=new aB;aB.surfaceBlur=function(){aB.call(this,"surfaceBlur");this.zO=[new jH([12,56],1,200," px"),new jH([4,13],1,255," px")];
this.Lc()};aB.surfaceBlur.prototype=new aB;aB.surfaceBlur.prototype.AB=function(s,M){M[0]=s.Rds.v.val;
M[1]=s.Thsh.v};aB.surfaceBlur.prototype.hD=function(s,M){s.Rds.v.val=M[0];s.Thsh.v=M[1]};aB.AdNs=function(){aB.call(this,"AdNs");
this.zO=[new jH([12,57],0,200," %"),new d_([12,58],[[12,59,1],[12,59,0]]),new ho([12,60])];this.Lc()};
aB.AdNs.prototype=new aB;aB.DstS=function(){aB.call(this,"DstS");this.zO=[new jH([12,56],1,200," px"),new jH([4,13],1,255," px")];
this.Lc()};aB.DstS.prototype=new aB;aB["Mdn "]=function(){aB.call(this,"Mdn ");this.zO=[new jH([12,56],1,200," px")];
this.Lc()};aB["Mdn "].prototype=new aB;aB["Mdn "].prototype.AB=function(s,M){M[0]=s.Rds.v.val};aB["Mdn "].prototype.hD=function(s,M){s.Rds.v.val=M[0]};
aB.ClrH=function(){aB.call(this,"ClrH");this.zO=[new jH([12,56],4,100," px")];for(var R=1;R<4;R++)this.zO.push(new jH("Angle "+R,0,90," \xB0"));
this.Lc()};aB.ClrH.prototype=new aB;aB.ClrH.prototype.AB=function(s,M){M[0]=s.Rds.v;for(var R=1;R<4;
R++)M[R]=s["Ang"+R].v};aB.ClrH.prototype.hD=function(s,M){s.Rds.v=M[0];for(var R=1;R<4;R++)s["Ang"+R].v=M[R]};
aB.ClrH.prototype.T=function(){var s=this.zO;s[0].T();for(var R=1;R<4;R++)s[R].x3(aW.get([12,15])+" "+R)};
aB.Crst=function(){aB.call(this,"Crst");this.zO=[new jH([12,61],3,100," px")];this.Lc()};aB.Crst.prototype=new aB;
aB.Crst.prototype.AB=function(s,M){M[0]=s.ClSz.v};aB.Crst.prototype.hD=function(s,M){s.ClSz.v=M[0]};
aB.Mztn=function(){aB.call(this,"Mztn");this.zO.push(new d_([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.tf="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Lc()};aB.Mztn.prototype=new aB;
aB.Mztn.prototype.AB=function(s,M){M[0]=this.tf.indexOf(s.MztT.v.MztT)};aB.Mztn.prototype.hD=function(s,M){s.MztT.v.MztT=this.tf[M[0]]};
aB["Msc "]=function(){aB.call(this,"Msc ");this.zO=[new jH([12,61],2,200," px")];this.Lc()};aB["Msc "].prototype=new aB;
aB["Msc "].prototype.AB=function(s,M){M[0]=s.ClSz.v.val};aB["Msc "].prototype.hD=function(s,M){s.ClSz.v.val=M[0]};
aB.Pntl=function(){aB.call(this,"Pntl");this.zO=[new jH([12,61],3,100," px")];this.Lc()};aB.Pntl.prototype=new aB;
aB.Pntl.prototype.AB=function(s,M){M[0]=s.ClSz.v};aB.Pntl.prototype.hD=function(s,M){s.ClSz.v=M[0]};
aB.smartSharpen=function(){aB.call(this,"smartSharpen");this.zO=[new jH([12,57],1,200,"%"),new jH([12,56],0,200,"px",1,!0)];
this.Lc()};aB.smartSharpen.prototype=new aB;aB.smartSharpen.prototype.AB=function(s,M){M[0]=s.Amnt?s.Amnt.v.val:200;
M[1]=s.Rds?s.Rds.v.val:1};aB.smartSharpen.prototype.hD=function(s,M){s.Amnt.v.val=M[0];s.Rds.v.val=M[1]};
aB.UnsM=function(){aB.call(this,"UnsM");this.zO=[new jH([12,57],1,200," %"),new jH([12,56],.1,400,"px",1,!0),new jH([4,13],0,255," ")];
this.Lc()};aB.UnsM.prototype=new aB;aB.HghP=function(){aB.call(this,"HghP");this.zO=[new jH([12,56],.1,400,"px",1,!0)];
this.Lc()};aB.HghP.prototype=new aB;aB.HsbP=function(){aB.call(this,"HsbP");this.zO=[new e0("Input",["RGB","HSB","HSL"]),new e0("Output",["RGB","HSB","HSL"])];
this.Lc()};aB.HsbP.prototype=new aB;aB["Mxm "]=function(){aB.call(this,"Mxm ");this.zO=[new jH([12,56],.1,200," px",1,!0),new d_([12,76,1],[[12,93,3],"Circle"])];
this.Lc()};aB["Mxm "].prototype=new aB;aB["Mnm "]=function(){aB.call(this,"Mnm ");this.zO=[new jH([12,56],.1,200," px",1,!0),new d_([12,76,1],[[12,93,3],"Circle"])];
this.Lc()};aB["Mnm "].prototype=new aB;aB.Ofst=function(){aB.call(this,"Ofst");this.zO=[new jH([22,4,0],-1024,1024," px"),new jH([22,4,1],-1024,1024," px"),new d_([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Lc()};aB.Ofst.prototype=new aB;aB.Kale=function(){aB.call(this,"Kale");this.zO=[new fB("Mirrors",2,20),new fB([12,15],0,360,"\xB0")];
this.Lc()};aB.Kale.prototype=new aB;aB.Kale.prototype.AB=function(s,M){M[0]=s.Mirr.v;M[1]=s.MRot.v};
aB.Kale.prototype.hD=function(s,M){s.Mirr.v=M[0];s.MRot.v=M[1]};aB.Rept=function(){aB.call(this,"Rept");
this.zO=[new fB([12,38],1,300," %"),new fB("Row Shift",-50,50," %"),new fB("Space X",-99,200," %"),new fB("Space Y",-99,200," %"),new ho([4,16,2]),new gK([12,15])];
this.Lc()};aB.Rept.prototype=new aB;aB.Rept.prototype.AB=function(s,M){M[0]=s.Scl.v.val;M[1]=s.Rsft.v.val;
M[2]=s.SpcX.v.val;M[3]=s.SpcY.v.val;M[4]=s.SpcC.v;M[5]=[s.Angl.v]};aB.Rept.prototype.hD=function(s,M){s.Scl.v.val=M[0];
s.Rsft.v.val=M[1];s.SpcX.v.val=M[2];s.SpcY.v.val=M[3];s.SpcC.v=M[4];s.Angl.v=M[5][0];return s};aB.Ctoa=function(){aB.call(this,"Ctoa");
this.zO=[new df([13,0]),new aI(!0),new jH(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new jH(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Lc()};aB.Ctoa.prototype=new aB;aB.Ctoa.prototype.AB=function(s,M){M[0]=s.Clr.v;M[1]=s.Trsp.v.val;
M[2]=s.Opct.v.val};aB.Ctoa.prototype.hD=function(s,M){s.Clr.v=M[0];s.Trsp.v.val=M[1];s.Opct.v.val=M[2]};
aB.LqFy=function(){aB.call(this,"LqFy");this.Kz=!1;this.YP=!1;this.Df=null;this.aEp=null;this.l=0;this.Kv=-1;
this.Z={JH:[[{l:{id:0,name:[24,1,0,1,0],ge:"liq/smudge"}}],[{l:{id:1,name:[24,1,0,1,1],ge:"liq/reconstruct"}}],[{l:{id:2,name:[24,1,0,1,2],ge:"liq/smooth"}}],[{l:{id:3,name:[24,1,0,1,3],ge:"liq/twirl"}}],[{l:{id:4,name:[24,1,0,1,4],ge:"liq/shrink"}}],[{l:{id:5,name:[24,1,0,1,5],ge:"liq/blow"}}],[{l:{id:6,name:[24,1,0,1,6],ge:"liq/pleft"}}],[{l:{id:7,name:"Hand",ge:"tools/hand"}}],[{l:{id:8,name:"Zoom In",ge:"zoomIn"}}],[{l:{id:9,name:"Zoom Out",ge:"zoomOut"}}]],keys:[]};
this.Yt=new ig(this.Z,!1);this.Yt.iv(0);this.Yt.k(z.E.c,this.Ss,this);this.gP=fO.Av();this.WH=null;this.r2=[];
this.bD=-1;this.UM=null;this.aDu=null;this.u4=null;this.R6=null;this.z$=null;var s=i.m("div","flexrow");
this.Fu=s;this._.appendChild(s);s.appendChild(this.Yt._);this.view=new bD(!0);this.view.GK(100,100);
this.view.k("mousedown",this.rW,this);this.view.k("mousemove",this.Sd,this);this.view.k("mouseup",this.gF,this);
this.view.k("zoom",this.Nn,this);s.appendChild(this.view._);var M=i.m("div","form");s.appendChild(M);
this.a6L=M;M.style.width="230px";this.NY=[new jH([12,14,0],0,1e3,null,!1,!0),new jH([12,74],0,100,null,!1,!1),new jH([12,84],0,100,null,!1,!1),new ho([12,46]),new jH([12,0],0,100,null,!1,!1),new ho([24,18,5])];
var O=this.gP.Brsh.v;O.Dmtr.v.val=100;var P=[100,50,100,!1,100,!0];for(var R=0;R<this.NY.length;R++){var y=this.NY[R];
y.q(P[R]);if(R==4)y.XX();y.k(z.E.n,this.aHR,this);M.appendChild(y._)}var F=this.azQ=new fU([1,12,2],!0,null,!0);
F.k("click",this.sv,this);M.appendChild(F._);this.a7K=this.qg.bind(this);this.OH=new hV;this.OH._=i.m("div","floatcont");
this.wD=new fU("Menu",!1,null,!0);var A=this.wD._;i.P(A,"position:absolute; right:13px; top:47px");i.dq(A,this.a31.bind(this))};
aB.LqFy.prototype=new aB;aB.LqFy.prototype.KB=function(){return!0};aB.LqFy.prototype.LV=function(s){this.a6L.appendChild(s)};
aB.LqFy.prototype.a31=function(s){if(i.qE(this.OH._))return;s.stopPropagation();var M=this.wD._.getBoundingClientRect();
this.OH._.appendChild(this.a6L);var O=new kg(z.E.c,!0);O.data={Q:z.J.EU,uJ:this.OH,x:M.right+M.width-290,y:M.top+M.height};
this.a(O)};aB.LqFy.prototype.lJ=function(s){this.Kz=s.D(hj.tT);var M=$.am.TF(this.gP,s);if(M!=null){this.gP=M;
this.Nn();this.NY[0].q(M.Brsh.v.Dmtr.v.val)}else if(s.D(hj.yu)&&s.D(hj.sN)){var O=this.r2;if(s.D(hj.Y1)){if(this.bD+1<O.length)this.bD++}else if(this.bD>0)this.bD--;
this.WH.map=O[this.bD].slice(0);this.gq(null)}else if(this.l<=6)this.view.lJ(s);var P=this.l,y=-1,F=s.D(hj.tT);
if(F&&this.Kv==-1){if(P==0)y=1;if(P==4)y=5;if(P==5)y=4;if(y!=-1)this.Kv=P}if(!F&&this.Kv!=-1){y=this.Kv;
this.Kv=-1}if(y!=-1){this.l=y;this.Yt.iv(this.l)}};aB.LqFy.prototype.Ss=function(s){if(s.data.Q==z.J.LT){var M=this.l=s.data.l;
this.Yt.iv(this.l);this.view.lJ(M>6?bD.CZ(M-7):new hj)}};aB.LqFy.prototype.aHR=function(s){var M=s.currentTarget,R=this.NY.indexOf(M),O=this.gP.Brsh.v;
if(R==0){O.Dmtr.v.val=M.V();this.Nn()}this.NY[4].oo(this.NY[3].V());if(R>2)this.gq(null)};aB.LqFy.prototype.Yr=function(){var s=this.r2;
this.bD++;s[this.bD]=this.WH.map.slice(0);while(s.length>this.bD+1)s.pop();while(s.length>50){s=s.slice(1);
this.bD--}};aB.LqFy.prototype.rW=function(s){this.Df=this.view.i4();this.aEp=new j6(0,0);this.YP=!0;
window.requestAnimationFrame(this.a7K)};aB.LqFy.prototype.Sd=function(s){var M=this.view.i4(),O=new j6(M.x-this.Df.x,M.y-this.Df.y);
if(this.l==0||this.l==6)this.am5(O);this.Df=M};aB.LqFy.prototype.gF=function(s){this.Yr();this.YP=!1};
aB.LqFy.prototype.qg=function(s){if(this.l!=0&&this.l!=6)this.am5(new j6(0,0));if(this.YP)window.requestAnimationFrame(this.a7K)};
aB.LqFy.prototype.am5=function(s){var M=this.WH,O=M.V5/this.UM.A,P=this.Df,y=this.gP.Brsh.v,F=y.Dmtr.v.val,A=Date.now(),h=M.V5,m=M.fw,Z=Math.sqrt(s.x*s.x+s.y*s.y),u=Math.max(1,Math.ceil(Z/2)),f=s.x/u,U=s.y/u,C=P.v(),H=this.l,t=this.NY[1].V()/100,X=this.NY[2].V()/100,Q=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],D=Q[H*2],L=Q[H*2+1],E=(1-t)*D+t*L,_=F*O/2;
for(var R=0;R<u;R++){var S=[];C.x+=f;C.y+=U;a.x0.aBy(M.map,h,m,H,C.x*O,C.y*O,_,t,X,f*O,U*O,S,this.Kz);
a.x0.a21(h,m,M.map,S,2*E*X)}var W=new gi(0,0,h,m),g=new gi(P.x*O,P.y*O,0,0);g.rX(F*O*.5,F*O*.5);var x=g.v();
x.offset(s.x*O,s.y*O);g=g.v8(x);var V=new gi(g.x/O,g.y/O,g.A/O,g.$/O);V=a.b.An(V).OK(this.UM);this.NY[5].q(!0);
this.gq(V)};aB.LqFy.prototype.Nn=function(){var s=du.Uw(this.gP,null,this.view.Ed().xq);this.view.iF(s)};
aB.LqFy.prototype.q=function(s,M,O,P,y){O=O.v();if(M==null)return;M=a.Gp(M,8);if(!P.s0(O)){var F=O.v8(P),A=a.j(F.C()*4);
a.FP(M,O,A,F);M=A;O=F;var h=a.j(F.C()*4);a.FP(y,P,h,F);y=h}O.x=O.y=0;this.u4=M;this.aDu=y;this.z$=M.slice(0);
this.R6=M.slice(0);this.UM=O;this.WH=al.kM(new Uint8Array(s.LqMe.v).buffer);var m=O.A,Z=O.$;if(this.WH.V5/m<.22){this.WH={V5:Math.floor(m/4),fw:Math.floor(Z/4)};
this.WH.map=new Float32Array(this.WH.V5*this.WH.fw*2)}this.r2=[];this.bD=-1;this.Yr();this.gq(null);
this.view.Pe(!0);this.Nn()};aB.LqFy.prototype.V=function(){var s=bW.Jb("LqFy"),M=new Uint8Array(al.$a(this.WH)),O=[];
for(var R=0;R<M.length;R++)O.push(M[R]);s.LqMe.v=O;return s};aB.LqFy.prototype.GK=function(s,M){this.Yt.GK(s,M);
var O=this.wD._,P=this.a6L;this.Fu.appendChild(P);this.Fu.appendChild(O);if(s>450&&s-M>200){P.style.marginLeft="1em";
this.Fu.removeChild(O);this.view.GK(s-238-45,M)}else{P.style.marginLeft="";this.Fu.removeChild(P);this.view.GK(s-40,M)}};
aB.LqFy.prototype.T=function(){this.Yt.T();this.azQ.T();for(var R=0;R<this.NY.length;R++)this.NY[R].T()};
aB.LqFy.prototype.sv=function(){this.WH.map.fill(0);this.Yr();this.gq(null)};aB.LqFy.prototype.gq=function(s){var M=this.UM,O=this.u4,P=this.z$,y=this.WH;
if(this.NY[5].V())a.x0.ZO(O,this.R6,M.A,M.$,s,y.map,y.V5,y.fw,0);else this.R6.set(O);if(this.NY[3].vy()){a.FP(this.aDu,M,P,M,s?s:M);
a.B.qZ("norm",this.R6,M,P,M,s?s:M,this.NY[4].V()/100)}else a.jO(this.R6,P);this.view.q([{IK:M,data:P.buffer}],null,null,s)};
aB.GEfc=function(){aB.call(this,"GEfc");this.cf=0;this.YD=0;this.u4=null;this.z$=null;this.UM=null;this.f=null;
this.jY=null;this.z5=0;this.md=null;this.yj=null;var s=i.m("div","flexrow");this.Fu=s;this._.appendChild(s);
this.view=new bD(null);this.view.GK(100,100);s.appendChild(this.view._);this.Zl="";this.aFb=270;var M=this.gl=i.m("div","form scrollable");
s.appendChild(M);i.P(M,"width:"+this.aFb+"px;");var O=this.SL=i.m("div","form");s.appendChild(O);i.P(O,"width:230px;  margin:0 10px");
this.Bw={};for(var P in iU.names){var y=new aB.GEfc.A0(P);y.parent=this;this.Bw[P]=y;y.k(z.E.n,this.agS,this)}this.jp=!0;
this.wD=new fU("Menu",null,null,!0);this.wD.k("click",this.ad9,this);s.appendChild(this.wD._);this.ar8=new fU(">>",null,null,!0);
this.ar8.k("click",this.aqW,this);O.appendChild(this.ar8._);this.a5p=i.m("div");i.P(this.a5p,"margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
O.appendChild(this.a5p);this.ST=i.m("div");this.ST.style.minHeight="14em";this.ST.style.marginBottom="1em";
O.appendChild(this.ST);this.RS=i.m("div","lpbody scrollable");this.JB=i.m("div","lpfoot");O.appendChild(this.RS);
O.appendChild(this.JB);this.k("click",this.a8v,this);this.I$=[];fJ.NM([[5,3],[5,4]],this.I$,this.JB,this.mz.bind(this))};
aB.GEfc.prototype=new aB;aB.GEfc.prototype.KB=function(){return!0};aB.GEfc.prototype.LV=function(s){this.a5p.appendChild(s)};
aB.GEfc.prototype.lJ=function(s){this.view.lJ(s)};aB.GEfc.prototype.qy=function(s,M){this.f=s;if(s.UC==s.Cc)alert("Your foreground and a background color are identical.",4e3)};
aB.GEfc.prototype.aqW=function(s){var M=this.gl.style.display!="none";this.gl.style.display=M?"none":"";
this.ar8.x3(M?"<<":">>");this.GK()};aB.GEfc.prototype.ad9=function(s){this.jp=!this.jp;this.GK()};aB.GEfc.prototype.GK=function(s,M){var O=this.gl.style.display!="none";
if(s!=null){this.cf=s;this.YD=M;if(s<1e3&&O||s>=1e3&&!O){this.aqW();O=!O}this.jp=s>600}else{s=this.cf;
M=this.YD}var P=this.jp?250+(O?this.aFb:0):0;if(i.qE(this.SL)&&!this.jp){this.Fu.removeChild(this.gl);
this.Fu.removeChild(this.SL)}if(!i.qE(this.SL)&&this.jp){this.Fu.appendChild(this.gl);this.Fu.appendChild(this.SL)}this.gl.style.height=M+"px";
this.view.GK(s-P,M);this.RS.style.height=M-Math.max(this.ST.getBoundingClientRect().height,186)-96+"px";
i.P(this.wD._,"position:absolute; top:46px;  right:"+(P+16)+"px")};aB.GEfc.prototype.aFL=function(){var s=b_.gy.get("img/beach",!0)[0],M=s.IK,O=this.gl,P=Math.floor(i.yD()*(this.aFb-44)/3),y=~~(P*.7),F=new gi(0,0,P,y),A=a.j(P*y*4),h=A.slice(0),m=Math.round(10*i.yD()),Z=new ImageData(new Uint8ClampedArray(h.buffer),P,y);
a.FP(new Uint8Array(s.data),M,A,new gi(Math.round((M.A-P)/2),Math.round((M.$-y)/2),P,y));var u=i.m("canvas"),f=u.getContext("2d");
u.width=P;u.height=y+Math.round(m*1.5);f.font=m+"px sans-serif";this.md={};i.Lq(O);var U=this.aF4.bind(this);
for(var R=0;R<iU.pW.length;R++){var C=iU.pW[R],H=i.m("div");O.appendChild(H);i.P(H,"background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
H.textContent=aW.get(C);for(var t in iU.names){var X=iU.names[t];if(X[0]!=R)continue;iU.Vj(t,{S:F,buffer:A},iU.Jb(t),{o:0,R:0,X:0},{o:255,R:255,X:255},{S:F,buffer:h},{});
f.fillStyle="black";f.fillRect(0,0,500,500);f.putImageData(Z,0,0);var Q=aW.get(X[1]);f.fillStyle="white";
f.fillText(Q,(P-f.measureText(Q).width)/2,y+Math.round(m*1.1));var D=i.m("div");O.appendChild(D);i.P(D,"display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
D.addEventListener("click",U,!1);var H=i.m("img");D.appendChild(H);H.setAttribute("src",u.toDataURL());
i.P(H,"width:"+P/i.yD()+"px; margin-bottom:0px;");this.md[t]=D}}};aB.GEfc.prototype.aF4=function(s){var M;
for(var O in this.md)if(this.md[O]==s.currentTarget)this.Zl=O;this.agS()};aB.GEfc.prototype.mz=function(s){var M=fJ.YG(this.I$,s),O=this.jY.GEfs.v,P=O[this.z5].v;
if(M==0){O.push(a.G(O[this.z5]));this.z5=O.length-1}else if(O.length>1){O.splice(this.z5,1);if(this.z5==O.length)this.z5--}this.ng();
this.gq()};aB.GEfc.prototype.agS=function(s){var M=this.Zl,O;if(s==null)O=iU.Jb(M);else O=this.Bw[M].V();
this.jY.GEfs.v[this.z5].v=O;this.ng();this.gq()};aB.GEfc.prototype.q=function(s,M,O,P,y){var F=aW.get([24,0]);
if(this.md==null||F!=this.yj)this.aFL();this.yj=F;s=this.jY=a.G(s);if(s.GEfs==null)s=this.jY={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:s}]}};
var A=s.GEfs.v;for(var R=0;R<A.length;R++)if(A[R].v.GELv==null)A[R].v.GELv={t:"bool",v:!0};this.z5=A.length-1;
this.ng();O=O.v();if(M==null)return;M=a.Gp(M,8);if(!P.s0(O)&&iU.mH(s).x!=0){var h=O.v8(P),m=a.j(h.C()*4);
a.FP(M,O,m,h);M=m;O=h}O.x=O.y=0;this.u4=M;this.z$=M.slice(0);this.UM=O;this.gq();this.view.Pe()};aB.GEfc.prototype.a8v=function(s){var M=s.data,R=M.Fa,O=this.jY.GEfs.v;
if(M.Jm){O[R].v.GELv.v=!O[R].v.GELv.v;this.gq()}else this.z5=R;this.ng()};aB.GEfc.prototype.ng=function(){var s=this.jY.GEfs.v,M=s[this.z5].v,O=M.GEfk.v.GEft,P=this.ST;
if(iU.names[O]==null){alert("Unsupported gallery filter");i.Lq(P)}else{this.Zl=O;for(var y in this.md)i.VV(this.md[y],"selected");
i.cG(this.md[O],"selected");var F=this.Bw[O];F.q(M);if(P.firstChild!=F._){i.Lq(P);P.appendChild(F._)}}var A=[];
for(var R=0;R<s.length;R++){var h=s[R].v,m=iU.names[h.GEfk.v.GEft],Z=new dd(R,!0,!0,null,m?m[1]:"Filter",R==this.z5,h.GELv.v);
Z.parent=this;A.push(Z._)}i.Lq(this.RS);A.reverse();for(var R=0;R<A.length;R++)this.RS.appendChild(A[R]);
this.GK()};aB.GEfc.prototype.V=function(){return a.G(this.jY)};aB.GEfc.prototype.gq=function(s){var M=this.UM,O=this.u4,P=this.z$,y=this.Zl,F=this.jY,A=this.f;
bW.Vj("GEfc",{S:this.UM,buffer:this.u4},F,a.Aj(A.UC),a.Aj(A.Cc),{S:this.UM,buffer:this.z$},null);this.view.q([{IK:M,data:P.buffer}])};
aB.GEfc.prototype.T=function(){for(var s in this.Bw)this.Bw[s].T();fJ.NT(this.I$,["lrs/newlayer","lrs/bin"])};
aB.GEfc.A0=function(s){hV.call(this);this.hF=s;this._=i.m("div");this.dw={};var M=iU.Jb(s);for(var O in M){var P=null;
if(O=="__name"||O=="classID"||O=="GEfk"||O=="GELv"||["FlRs"].indexOf(O)!=-1)continue;else if(O=="EdgW")P=new jH([24,21,0],1,14);
else if(O=="EdgB")P=new jH([24,21,1],0,s=="AccE"?50:20);else if(O=="Smth")P=new jH([19,3,3],1,s=="Stmp"?50:15);
else if(O=="ClSz")P=new jH([12,61],3,100);else if(O=="BrdT")P=new jH([7,9],1,20);else if(O=="HghS")P=new jH([12,64],0,20);
else if(O=="HlSz")P=new jH([12,14,0],1,15);else if(O=="Cntr")P=new jH([12,3,0],0,s=="WtrP"?100:50);else if(O=="Shrp")P=new jH([24,21,2],0,40);
else if(O=="SprR")P=new jH([24,21,3],0,25);else if(O=="LgDr")P=new jH([24,21,4],0,s=="Stmp"?50:100);
else if(O=="Drkn")P=new jH([24,21,5],1,50);else if(O=="Dstr")P=new jH([24,21,6],0,20);else if(O=="Scln")P=new jH([12,38],50,200);
else if(O=="Rlf")P=new jH([24,21,7],0,s=="Ptch"||s=="NtPr"?25:50);else if(O=="ChAm")P=new jH([24,21,8],1,7);
else if(O=="Pncl")P=new jH([19,2,5],1,30);else if(O=="StrP")P=new jH([24,21,9],0,15);else if(O=="PprB")P=new jH([24,21,10],0,50);
else if(O=="BrsS")P=new jH([24,21,11],0,10);else if(O=="BrsD")P=new jH([24,21,12],0,10);else if(O=="Txtr")P=new jH([12,67],1,3);
else if(O=="Grn")P=new jH([24,20,42],0,20);else if(O=="HghA")P=new jH([24,21,13],0,20);else if(O=="Intn")P=new jH([24,21,14],0,10);
else if(O=="Brgh")P=new jH([24,21,15],0,s=="WtrP"?100:50);else if(O=="StrS")P=new jH([24,21,16],1,50);
else if(O=="StDt")P=new jH([24,21,17],1,3);else if(O=="Sftn")P=new jH([24,21,18],0,10);else if(O=="EdgT")P=new jH([24,21,19],0,10);
else if(O=="EdgI")P=new jH([24,21,20],0,10);else if(O=="Pstr")P=new jH([24,21,23],0,6);else if(O=="Dfnt")P=new jH([24,21,24],0,25);
else if(O=="TxtC")P=new jH([24,21,25],0,50);else if(O=="ShdI")P=new jH([24,21,26],0,10);else if(O=="DrcB")P=new jH([24,21,28],0,100);
else if(O=="Strg")P=new jH([12,64],1,3);else if(O=="Blnc")P=new jH([24,21,27],0,10);else if(O=="BlcI")P=new jH([24,21,30],0,10);
else if(O=="WhtI")P=new jH([24,21,31],0,10);else if(O=="DrkI")P=new jH([24,21,32],0,50);else if(O=="LghI")P=new jH([24,21,33],0,50);
else if(O=="StrW")P=new jH([24,21,34],3,15);else if(O=="Grns")P=new jH([24,21,36],0,s=="NtPr"?20:10);
else if(O=="GlwA")P=new jH([24,21,37],0,20);else if(O=="ClrA")P=new jH([24,21,38],0,20);else if(O=="ChrA")P=new jH([24,21,39],0,20);
else if(O=="ChlA")P=new jH([24,21,40],0,20);else if(O=="FrgL")P=new jH([24,21,41],1,15);else if(O=="BckL")P=new jH([24,21,42],1,15);
else if(O=="WhtL")P=new jH([24,21,42],0,50);else if(O=="BlcL")P=new jH([24,21,41],0,50);else if(O=="ImgB")P=new jH([24,21,29],0,50);
else if(O=="Dnst")P=new jH([12,74],0,50);else if(O=="FbrL")P=new jH([24,21,43],3,50);else if(O=="CrcS")P=new jH([24,21,44],2,100);
else if(O=="CrcD")P=new jH([24,21,45],0,10);else if(O=="CrcB")P=new jH([24,21,46],0,10);else if(O=="TlSz")P=new jH([24,21,47],2,100);
else if(O=="GrtW")P=new jH([24,21,48],1,15);else if(O=="LghG")P=new jH([24,21,49],0,10);else if(O=="SqrS")P=new jH([24,21,50],0,10);
else if(O=="RplS")P=new jH([24,21,51],1,15);else if(O=="RplM")P=new jH([24,21,52],0,20);else if(O=="NmbL")P=new jH([24,21,53],2,8);
else if(O=="EdgS")P=new jH([24,21,21],0,10);else if(O=="EdgF")P=new jH([24,21,22],1,3);else if(O=="Sz")P=s=="NGlw"?new jH([24,21,54],-24,24):new jH([24,21,11],1,50);
else if(O=="Dtl")P=s=="Chrc"?new jH([24,21,56],0,5):new jH([24,21,56],1,15);else if(O=="StrL")P=s=="InkO"?new jH([24,21,35],1,50):new jH([24,21,35],0,20);
else if(O=="TxtT")P=new d_([12,67],[[24,22,0],[24,22,1],[24,22,2],[24,22,3],[24,22,4],[24,22,5],[24,22,6]]);
else if(O=="BrsT")P=new d_([24,21,57],[[24,23,0],[24,23,1],[24,23,2],[24,23,3],[24,23,4],[24,23,5]]);
else if(O=="Grnt")P=new d_([24,21,58],[[24,24,0],[24,24,1],[24,24,2],[24,24,3],[24,24,4],[24,24,5],[24,24,6],[22,4,0],[22,4,1],[24,24,7]]);
else if(O=="SDir")P=new d_([12,33],[[24,25,0],[22,4,0],[24,25,1],[22,4,1]]);else if(O=="ScrT")P=new d_([12,62],[[12,93,5],[12,93,6],[10,35]]);
else if(O=="LghD"||O=="LghP")P=new d_([24,21,59],[[24,26,0],[24,26,1],[24,26,2],[24,26,3],[24,26,4],[24,26,5],[24,26,6],[24,26,7]]);
else if(O=="Clr")P=new aI([24,21,55]);else if(O=="InvT")P=new ho([4,11]);else console.log(O);P.k(z.E.n,this.qr,this);
P.parent=this;this.dw[O]=P;this._.appendChild(P._)}};aB.GEfc.A0.prototype=new hV;aB.GEfc.A0.prototype.qr=function(s){this.a(new kg(z.E.n,!1))};
aB.GEfc.aaS="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
aB.GEfc.A0.prototype.q=function(s){for(var M in this.dw){var O;if(aB.GEfc.aaS.indexOf(M)!=-1)O=s[M].v;
else if(M=="TxtT")O=iU.Dz.indexOf(s[M].v[M]);else if(M=="BrsT")O=iU.a3W.indexOf(s[M].v[M]);else if(M=="LghD")O=iU.Gv.indexOf(s[M].v[M]);
else if(M=="LghP")O=iU.JA.indexOf(s[M].v[M]);else if(M=="Grnt")O=iU._b.indexOf(s[M].v[M]);else if(M=="ScrT")O=iU.gr.indexOf(s[M].v[M]);
else if(M=="SDir")O=iU.yr.indexOf(s[M].v.StrD);this.dw[M].q(O)}};aB.GEfc.A0.prototype.V=function(){var s=iU.Jb(this.hF);
for(var M in this.dw){var O=this.dw[M].V();if(aB.GEfc.aaS.indexOf(M)!=-1)s[M].v=O;else if(M=="TxtT")s[M].v[M]=iU.Dz[O];
else if(M=="BrsT")s[M].v[M]=iU.a3W[O];else if(M=="LghD")s[M].v[M]=iU.Gv[O];else if(M=="LghP")s[M].v[M]=iU.JA[O];
else if(M=="Grnt")s[M].v[M]=iU._b[O];else if(M=="ScrT")s[M].v[M]=iU.gr[O];else if(M=="SDir")s[M].v.StrD=iU.yr[O]}return s};
aB.GEfc.A0.prototype.T=function(){for(var s in this.dw)this.dw[s].T()};aB["Adobe Camera Raw Filter"]=function(){var s=function(M){aB.call(this,"Adobe Camera Raw Filter");
var O=this._;this.a3L=M;this.em=null;this.nM=null;this.aiI="";this.d6=null;this.Ji=1e3;this.yO=null;
this.R9=null;i.cG(O,"flexrow");this.view=new bD(!1,M,!0);this.view.k("zoom",this.gq,this);O.appendChild(this.view._);
var P=i.m("div");i.P(P,"width:18.8em; border-left:2px solid var(--brdr);");O.appendChild(P);this.Mj=new fx(245,null,4);
P.appendChild(this.Mj._);this.Mj._.style.opacity=.8;this.aoR=i.m("div","scrollable");P.appendChild(this.aoR);
this.axx=i.m("div","padded");P.appendChild(this.axx);this.dw={Ex12:new jH([4,3],-4,4,null,!0),Cr12:new jH([12,3,0],-100,100),Hi12:new jH("Highlights",-100,100),Sh12:new jH("Shadows",-100,100),Wh12:new jH("Whites",-100,100),Bk12:new jH("Blacks",-100,100),Temp:new jH("Temperature",-100,100),Tint:new jH("Tint",-100,100),Vibr:new jH([4,4],-100,100),Strt:new jH([12,9],-100,100),CrTx:new jH("Texture",-100,100),Cl12:new jH("Clarity",-100,100),Dhze:new jH("Dehaze",-100,100)};
this.gx={Temp:new jH("Temperature",2e3,3e4),Tint:new jH("Tint",-100,100),Ex12:new jH([4,3],-4,4,null,!0)};
var y=[["Light","Ex12 Cr12 Hi12 Sh12 Wh12 Bk12".split(" ")],["Color",["Temp","Tint","Vibr","Strt"]],["Effects",["CrTx","Cl12","Dhze"]]];
for(var R=0;R<y.length;R++){var F=y[R][1],A=i.m("div","padded");this.aoR.appendChild(A);i.P(A,"border-top:2px solid var(--brdr);");
var h=i.m("div");h.innerHTML="\u2B9F <span style=\"font-size:1.1em; margin-left:6px;\">"+aW.get(y[R][0])+"</span>";
i.P(h,"font-weight:bold; margin:2px 0 4px 0;");A.appendChild(h);for(var m=0;m<F.length;m++){var Z=F[m],u=M&&this.gx[Z]?this.gx[Z]:this.dw[Z];
u.q(0);u.k(z.E.n,this.gq,this);A.appendChild(u._)}}};s.prototype=new aB;s.prototype.KB=function(){return!0};
s.prototype.LV=function(M){M.style.marginTop="4px";this.axx.appendChild(M)};s.prototype.lJ=function(M){this.view.lJ(M)};
s.prototype.qy=function(M,O){this.Mj.ZS(hz.YS[M.OW]["--text-color"])};s.prototype.adO=function(M){var O=a.raw.apL(M),P=O.aoL,y=O.afD,F=P*y,A=new gi(0,0,P,y),h=O.tG,m=new Float32Array(P*y*4);
for(var R=0;R<F;R++){var Z=R*4,u=R*3;m[Z]=h[u];m[Z+1]=h[u+1];m[Z+2]=h[u+2];m[Z+3]=1}this.em=[m,A];a.pT(this.em);
this.nM=M;var f=a.raw.a4b(M),U=gR.anZ(f);this.gx.Temp.q(U.AY);this.gx.Tint.q(U.jg);this.gx.Ex12.q(0);
var C=new Float32Array(F*4);C.fill(1);var H=bW.Jb("Adobe Camera Raw Filter");this.a0E(H,C,A)};s.prototype.amO=function(M,O){var P=this.gx,y=P.Temp.V(),F=P.Tint.V(),A=P.Ex12.V(),h=[y,F,A,O,M].join(":");
if(this.aiI==h)return;this.aiI=h;var m=Date.now();a.raw.Bb(this.em[O*2],this.d6[O*2],this.nM,[y,F,A],M);
console.log(Date.now()-m,"remapping XYZ")};s.prototype.q=function(M,O,P,y,F){var A=new Float32Array(P.C()*4);
a.Gp(O,32,A);this.a0E(M,A,P)};s.prototype.a0E=function(M,O,P){this.jY=M;this.UM=P;var y=P.A,F=P.$,A=y*F;
this.Ji=1e3;this.aiI="";this.d6=[O,P];this.yO=[new Float32Array(y*F*4),P];this.yO[0].fill(1);this.R9=[new Uint8Array(y*F*4),P];
this.R9[0].fill(255);a.pT(this.d6);a.pT(this.yO);a.pT(this.R9);for(var h in this.dw){this.dw[h].q(M[h]?M[h].v:0)}this.view.q([{IK:P,data:this.R9[0].buffer}]);
this.view.Pe();this.gq(null)};s.prototype.aBb=function(M,O){var P=this.UM,y=this.yO[0];if(this.a3L)this.amO(M,0);
d7(this.d6[0],P.A,P.$,y,this.jY);return[a.Gp(y,O),P]};s.prototype.V=function(){return a.G(this.jY)};
s.prototype.a7A=function(){this.em=null;this.yO=null;this.d6=null;this.R9=null};s.prototype.gq=function(M){if(M&&M.target!=this.view){this.Ji=1e3;
for(var O in this.dw){this.jY[O]={t:O=="Ex12"?"doub":"long",v:this.dw[O].V()}}}var P=this.view.Ed().xq,y=0;
while(P*2<=1){P*=2;y++}if(this.Ji<=y)return;this.Ji=y;var F=this.aIx(y);this.Mj.q(F);this.view.q([{IK:this.UM,data:this.R9[0].buffer}])};
s.prototype.aIx=function(M){console.log("---");var O=this.d6[M*2],P=this.yO[M*2],y=this.R9[M*2],F=this.d6[M*2+1],A=F.A,h=F.$;
if(this.a3L)this.amO(0,M);d7(O,A,h,P,this.jY);var m=Date.now();a.Gp(P,8,y);console.log(Date.now()-m,"integer conversion");
m=Date.now();var f=a.Un(y,Math.max(1,Math.floor(A*h/2e5)));console.log(Date.now()-m,"histogram done");
m=Date.now();if(M!=0){var U=new Uint32Array(y.buffer),C=new Uint32Array(this.R9[0].buffer),H=this.UM.A,t=this.UM.$;
for(var X=0;X<t;X+=2)for(var Q=0;Q<H;Q+=2){var D=X*H+Q,L=U[(X>>>M)*A+(Q>>>M)];C[D]=L;C[D+1]=L;C[D+H]=L;
C[D+H+1]=L}console.log(Date.now()-m,"upscale");m=Date.now()}for(var F=0;F<2;F++)for(var L=0;L<4;L++){var h=f[L],t=h.slice(0);
for(var R=1;R<h.length-1;R++)h[R]=(t[R-1]+t[R]+t[R+1])*.33333}return f};s.prototype.GK=function(M,O){this.ag4=M-248;
this.avo=O;this.view.GK(this.ag4,this.avo);this.aoR.style.height=O-200+"px"};s.prototype.T=function(){for(var M in this.dw)this.dw[M].T();
for(var M in this.gx)this.gx[M].T()};return s}();aB.VaPo=function(){aB.call(this,"VaPo");this.l=-1;this.Yv=null;
this.Mp=!1;this.hw=null;this.Pf=null;this.Qw=null;this.AC=null;this.DF=null;this.oJ=null;this.aAA=null;
this.WZ=null;this.aDN=null;this.cP=null;this.yQ=null;this.M_=null;this.r2=[];this.bD=-1;this.Y=null;
this.Z={JH:[[{l:{id:0,name:"Move",ge:"tools/move"}}],[{l:{id:1,name:"Create Plane",ge:"tools/pcrop"}}],[{l:{id:2,name:"Marquee",ge:"tools/rselect"}}],[{l:{id:3,name:"Stamp",ge:"tools/clone"}}],[{l:{id:4,name:"Brush",ge:"tools/brush"}}],[{l:{id:5,name:"Transform",ge:"tools/transform"}}],[{l:{id:6,name:"Hand",ge:"tools/hand"}}],[{l:{id:7,name:"Zoom In",ge:"zoomIn"}}],[{l:{id:8,name:"Zoom Out",ge:"zoomOut"}}]],keys:[hj.kv,hj.fG,hj.RR,hj.L8,hj.MV,hj.aD,hj.kq,hj.sN]};
this.Yt=new ig(this.Z,!1);this.Yt.k(z.E.c,this.Ss,this);this.XN=null;this.UM=null;this.u4=null;this.af$=null;
this.z$=null;this.ZL=null;var s=i.m("div","flexrow"),P=0;this.Fu=s;this._.appendChild(s);s.appendChild(this.Yt._);
var M=i.m("div");s.appendChild(M);var top=i.m("div","form");M.appendChild(top);i.P(top,"padding-left:8px; height:30px;");
this.tq=i.m("span");top.appendChild(this.tq);this.OY=[[new hQ([12,80,5],1,1e3),new fU([5,2],null,null,!0)],[new hQ([7,6],0,30)],[new hQ([12,14],1,200),new hQ([12,17],0,100),new hQ([12,0],0,100),new ho([12,75])],[new hQ([12,14],1,200),new hQ([12,17],0,100),new hQ([12,0],0,100),new aI],[new ho("Flip"),new ho("Flop")],[]];
var O=[100,!0,0,100,100,100,!1,100,100,100,JSON.parse(aV.xD.zd.slice(6)).v];this.My=[];for(var R=0;R<6;
R++){var y=i.m("span"),F=this.OY[R];this.My.push(y);for(var A=0;A<F.length;A++){var h=F[A];h.parent=this;
h.q(O[P++]);if(h instanceof fU)h.k("click",this.awl,this);else h.k(z.E.n,this.aH8,this);y.appendChild(h._)}}this.acv=i.m("div");
i.P(this.acv,"display:inline-block;float:right; width:100px;");top.appendChild(this.acv);this.view=new bD(!0);
this.view.GK(100,100);this.view.iF("auto");this.view.k("mousedown",this.rW,this);this.view.k("mousemove",this.Sd,this);
this.view.k("mouseup",this.gF,this);i.Qj(this.view.Tb,this.S8.bind(this));M.appendChild(this.view._)};
aB.VaPo.prototype=new aB;aB.VaPo.prototype.KB=function(){return!0};aB.VaPo.prototype.LV=function(s){this.acv.appendChild(s)};
aB.VaPo.prototype.qy=function(s,M){this.hw=s};aB.VaPo.prototype.awl=function(s){var M=this.hw;if(i.VM())cD.avP(this.C2.bind(this));
else if(M){var O=M.PA;if(O){var P=O.S.v();P.x=P.y=0;this.wX(a.Gp(O.buffer,8),P)}}};aB.VaPo.prototype.aH8=function(s){if(s.target==this.OY[0][0]){var M=this.ml(),O=s.target.V();
for(var R=0;R<this.Y.length;R++)if(this.Y[R].length!=0&&M[R])M[R][0]=O;this.UY(M)}if(this.l==5){this.XN=this.DV();
this.gq(!0)}this.gq()};aB.VaPo.prototype.lJ=function(s){var M=this.l,O=this.Qw;if(M==3||M==4){var P=this.OY[M-1],y=fO.Av(),F=y.Brsh.v;
F.Dmtr.v.val=P[0].V();F.Hrdn.v.val=P[1].V();y=$.am.TF(y,s);if(y){F=y.Brsh.v;P[0].q(F.Dmtr.v.val);P[1].q(F.Hrdn.v.val)}this.Nn()}if(M==1&&O&&(s.D(hj.y6)||s.D(hj.Di))){O.pop();
O.pop();if(O.length==0)O=this.Qw=null;this.gq()}function A(u,R,H){a.FP(u[R],u[0],H.u4,H.UM);H.oG(u[0])}this.Pf=s;
if(M<6)this.view.lJ(s);var h=s.D(hj.yu);if(h){var m=this.bD,Z=0;if(s.D(hj.sN)){if(s.D(hj.Y1))Z=1;else Z=-1}else if(s.D(hj.Hc))Z=1;
if(Z!=0&&M!=5){console.log(this.bD,Z,this.r2);var u=this.r2[this.bD],f=!1;if(u.length==3&&Z==-1){A(u,1,this);
f=!0}m+=Z;this.bD=Math.max(0,Math.min(this.r2.length-1,m));u=this.r2[this.bD];if(u.length==3&&Z==1){A(u,2,this);
f=!0}this.gq(f)}if(s.D(hj.kv))this.awl();if(s.D(hj.wQ)){this.oJ=null;this.gq()}}else{var U=this.Z.keys;
for(var R=0;R<U.length;R++)if(s.D(U[R]))this.iv(R)}if(s.D(hj.Di)||s.D(hj.y6)){var C=this.ml();C=a.e2.a3T(C,this.Y);
this.Y=[];for(var R=0;R<C.length;R++)this.Y[R]=[];this.UY(C);this.gq()}};aB.VaPo.prototype.C2=function(s){if(s=="granted")cD.kc(this,this.wX.bind(this))};
aB.VaPo.prototype.wX=function(s,M){console.log(s,M);var O=this.ml();if(O.length==0){alert("Make a plane before pasting an image");
return}if(this.DF==null)this.DF=[0,0];if(this.l==5)this.iv(0);this.iv(5,{OC:s,Iz:M})};aB.VaPo.prototype.Ss=function(s){if(s.data.Q==z.J.LT){this.iv(s.data.l)}};
aB.VaPo.prototype.ayW=function(s){var M=this.view.i4(s),O=a.e2.yK(this.ml(),this.Y),P=1e9,y=0;for(var R=0;
R<O.length;R++){var F=O[R][0],A=M.x-F[0],h=M.y-F[1],m=Math.sqrt(A*A+h*h);if(m<P){P=m;y=R}}if(P>4*i.yD()/this.view.Ed().xq)return null;
return O[y]};aB.VaPo.prototype.S8=function(s){var M=this.l,O=this.Qw;if(M<2&&!this.Mp){var P=this.Yv=this.ayW(s),y=this.ml(),F="auto";
if(M==0&&a.e2.Ne(y,P)){var A=y[P[1]][1][P[2]],h=A[5+{1:0,5:1,7:2,3:3}[P[3]]],m=h[0],Z=h[1];F=aj.aBd(m[1]-Z[1],-m[0]+Z[0])}if(a.e2.ap0(y,P))F="crosshair";
this.view.iF(F)}if(O){var u=this.view.i4(s),f=O.slice(0);O[O.length-2]=u.x;O[O.length-1]=u.y;this.gq()}this.Nn(s);
if(M==5&&!this.Mp&&this.av){var u=this.view.i4(s),y=this.ml(),U=a.e2.ui(y,u.x,u.y,this.ub());if(U){var C=new j6(U[2][0],U[2][1]),H=a.e2.qc(y,y[U[0]][1][U[1]],this.ub()),t=H[1],X=a.F.da(H[0],t),Q=[t.x+t.A/2,t.y+t.$/2];
a.F.M(X,Q);var D=u.x-Q[0],L=u.y-Q[1],E=this.av.X0(C,this.view.Ed().xq,null,null,Math.atan2(-L,-D));this.view.iF(E?E:"default")}}};
aB.VaPo.prototype.Nn=function(s){var M=this.l,O=this.Pf;if((M==3||M==4)&&!this.Mp){var P=s?this.view.i4(s):this.oK,y=this.ml();
this.oK=P;if(P==null)return;var F=a.e2.ui(y,P.x,P.y,this.ub());if(F){if(M==3&&this.M_&&this.OY[2][3].V()){var A=new j6(F[2][0],F[2][1]);
this.yQ=A.TA(this.M_);this.gq()}if(M==3&&(this.yQ==null||O&&(O.D(hj.tT)||O.D(hj.fB)))){if(this.XN){this.ZL=null;
this.oG(this.XN);this.gq(!0,this.XN)}return}this.asm(F,this.XN)}}};aB.VaPo.prototype.ub=function(){return[this.UM.A/2,this.UM.$/2]};
aB.VaPo.prototype.rW=function(s){this.Mp=!0;var M=this.l,O=this.Qw,P=this.ml(),y=this.Pf,F=this.Yv=this.ayW(null),A=this.view.i4(),h=a.e2.ui(P,A.x,A.y,this.ub()),m=h?new j6(h[2][0],h[2][1]):null;
if(a.e2.ap0(P,F)){var Z=P[F[1]][1][F[2]];P.splice(F[1],1);this.Y.splice(F[1],1);O=a.e2.aE8(Z);var u=-1,A=F[0];
for(var R=0;R<8;R+=2){var f=O[R]-A[0],U=O[R+1]-A[1];if(f*f+U*U<1e-5)u=R}u=u+2&7;O=this.Qw=O.slice(u).concat(O.slice(0,u));
this.UY(P)}else if(a.e2.Ne(P,F)){if(M==1||y&&y.D(hj.yu)){P=a.e2.a1l(P,F,this.ub());this.UY(P);F[2]=P[F[1]][1].length-1;
F[3]=8+(F[3]+4&7);this.Y[F[1]].push(F[2]);this.UY(P,!0);this.iv(0)}else this.UY(this.ml(P))}else if(M==0){var C=[];
for(var R=0;R<P.length;R++)C.push([]);if(h){if(y&&y.D(hj.Y1))C=this.Y;var H=C[h[0]].indexOf(h[1]);if(H==-1)C[h[0]].push(h[1]);
else C[h[0]].splice(H,1)}this.Y=C;this.UY(P,!0);this.gq()}else if(M==2){if(h){var t=this.oJ;if(t&&t.$z(m)){if(y)if(y.D(hj.tT)||y.D(hj.yu)){this.iv(5);
this.rW(s);return}this.aAA=new j6(m.x-t.x,m.y-t.y)}else{this.AC=h[2].concat(h[2]);this.DF=h}}}else if(M==3||M==4){if(M==3){if(y&&(y.D(hj.tT)||y.D(hj.fB))){if(h){this.yQ=m;
this.aDN=m.v();this.M_=null;this.cP=h;this.gq()}else alert("You must click into a plane");this.Mp=!1;
return}else if(this.yQ==null){alert(aW.get([15,7,0]));this.Mp=!1;return}else if(h){var X=this.M_=m.TA(this.yQ)}}if(h){this.asm(h)}}else if(M==5){if(h){var Q=new j6(h[2][0],h[2][1]),D=this.av.nD({i:this.view.Ed()},{},y,Q)}}};
aB.VaPo.prototype.asm=function(s,M){var O=this.ZL;if(O==null)this.ZL=O=a.j(this.UM.C()*4);else O.fill(0);
var P=this.l;this.DF=s;var y=this.OY[P-1],F=a.akA.afG(y[0].V(),y[1].V()/100,1),A=a.j(F[1].C()*4);a.GS(F[0],A,3);
if(P==4){var h=a.wv.sl(y[3].V());a.bJ(A,h.o/255,h.R/255,h.X/255)}this.WZ={ayj:F[0],OC:A,Iz:F[1]};var m=this.XN=this.kj(s[2],s[2]),Z=M?M.v8(m):m;
this.oG(Z);this.gq(!0,Z)};aB.VaPo.prototype.Sd=function(s){var M=this.Yv,O=this.l,P=this.ml();if(O==0&&a.e2.Ne(P,M)){P=a.e2.acH(P,M,this.view.i4());
this.UY(P,!0);this.gq()}var y=this.aAA;if(O==2&&this.Mp&&(this.AC||y)){var F=this.view.i4(),A=a.e2.ui(P,F.x,F.y,this.ub());
if(A){this.DF=A;if(y){this.oJ.x=A[2][0]-y.x;this.oJ.y=A[2][1]-y.y}else{this.AC=this.AC.slice(0,2).concat(A[2]);
this.oJ=a.b.q7(this.AC)}this.gq()}}if((O==3||O==4)&&this.Mp){var F=this.view.i4(),A=a.e2.ui(P,F.x,F.y,this.ub());
if(A){if(O==3){var h=this.M_;this.yQ=new j6(A[2][0]-h.x,A[2][1]-h.y)}var m=this.kj(this.DF[2],A[2]);
this.XN=this.XN.v8(m);this.DF=A;this.oG(m);this.gq(!0,m)}}if(O==5&&this.Mp){var F=this.view.i4(),A=a.e2.ui(P,F.x,F.y,this.ub(),this.DF);
if(A){var Z=new j6(A[2][0],A[2][1]);this.av.nh({i:this.view.Ed()},{},this.Pf,Z);this.DF=A;var m=this.XN;
if(m)this.oG(m);else m=new gi;this.XN=this.DV(null,null,!0);this.gq(!0,m.v8(this.XN))}}};aB.VaPo.prototype.kj=function(s,M){s=new j6(s[0],s[1]);
M=new j6(M[0],M[1]);var O=Math.max(1e-5,j6.gp(s,M)),P=this.WZ.Iz.A*.2,y=new gi;for(var F=0;F<O;F+=P){var A=1-F/O,h=A*s.x+(1-A)*M.x,m=A*s.y+(1-A)*M.y,Z=this.WZ.Iz.v();
Z.x=Math.round(h-Z.A/2);Z.y=Math.round(m-Z.$/2);if(this.l==3){var u=this.M_;if(u==null)u=new j6(h,m).TA(this.yQ);
var f=this.oJ=Z.v();f.x=Math.round(f.x-u.x);f.y=Math.round(f.y-u.y);var U=this.WZ.ayj;this.WZ=this.awo(this.cP);
this.oJ=null;a.QV(U,this.WZ.OC);this.WZ.ayj=U}var C=this.DV(this.ZL,Z);y=y.v8(C)}return y};aB.VaPo.prototype.gF=function(s){var M=this.Yv;
if(M&&M[3]>=8){var O=a.e2.anX(this.ml(),M,this.ub());this.UY(O,!0);this.gq();alert("new plane added")}var P=this.l,y=this.Qw;
if(y||P==1){var F=this.view.i4();if(y==null)y=this.Qw=[F.x,F.y];if(y.length==8&&aj.Qa(y)){var O=this.ml();
O.push([100,[a.e2.a08(y,this.ub())]]);this.Y.push([0]);this.UY(O,!0);y=this.Qw=null;this.iv(0);this.gq()}else if(y.length<8){y.push(F.x,F.y);
if(y.length==8&&!aj.Qa(y)){var A=y[0],h=y[1];y[0]=y[4];y[1]=y[5];y[4]=A;y[5]=h}}}var m=this.AC;if(P==2&&m&&m[0]==m[2]&&m[1]==m[3]){this.oJ=null;
this.gq()}if((P==3||P==4)&&this.Mp){if(P==3&&!this.OY[2][3].V()&&this.aDN){this.yQ=this.aDN.v();this.gq()}this.UY();
this.ZL=null}if(!this.OY[2][3].V())this.M_=null;this.Mp=!1;this.aAA=null;this.AC=null};aB.VaPo.prototype.iv=function(s,M){if(s==this.l)return;
var O=this.XN,y=6;if(this.l==5){this.UY();this.oG(O);this.av=null;this.gq()}if(this.l==3||this.l==4){this.ZL=null;
if(O)this.oG(O);this.gq(!0,O)}if(s==5){if(M==null&&this.oJ==null){alert("Select the area to be transformed");
return}this.aJK(M)}if(s>1){var P=this.ml();this.ZR();this.UY(P,!0);this.gq()}this.view.lJ(s>=y?bD.CZ(s-y):new hj(!0));
if(s<y)this.view.iF("auto");this.l=s;this.Yt.iv(s);i.Lq(this.tq);var F={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[s];
this.tq.appendChild(this.My[F])};aB.VaPo.prototype.ml=function(){var R=this.bD,s=this.r2;while(s[R].length==3)R--;
var M=s[R];this.Y=JSON.parse(M[1]);return JSON.parse(M[0])};aB.VaPo.prototype.UY=function(s,M){if(s==null&&this.XN==null)return;
var O=this.r2,P=this.bD,R=P;while(R>=0&&O[R].length==3)R--;if(M==null)this.bD=P=P+1;if(s!=null)O[M?R:P]=[JSON.stringify(s),JSON.stringify(this.Y)];
else{var y=this.UM,F=this.XN,A=a.j(F.C()*4),h=a.j(F.C()*4);O[P]=[F,A,h];a.FP(this.u4,y,A,F);if(this.ZL)a.B.qZ("norm",this.ZL,y,this.u4,y,y,this.abq());
else this.DV(this.u4);a.FP(this.u4,y,h,F);this.XN=null}while(O.length!=P+1)O.pop()};aB.VaPo.prototype.abq=function(){return this.OY[this.l-1][2].V()/100};
aB.VaPo.prototype.ZR=function(s,M){if(s==null)s=this.ml();this.Y=[];for(var R=0;R<s.length;R++){var O=[];
this.Y.push(O);if(M)for(var P=0;P<s[R][1].length;P++)O.push(P)}};aB.VaPo.prototype.q=function(s,M,O,P,y,F){var A=a.G(F[2].e2);
this.bD=-1;this.ZR(A);this.UY(A);M=a.Gp(M,8);y=a.Gp(y,8);var h=a.j(P.C()*4);a.FP(M,O,h,P);this.ab0=new gi;
this.UM=P;this.af$=y;this.u4=h;this.z$=y.slice(0);this.oG(P);this.gq(!0);this.view.Pe();this.iv(0)};
aB.VaPo.prototype.aJK=function(s){this.WZ=s?s:this.awo();var M=a.b.hC(this.WZ.Iz).L;if(s){var O=this.ml(),P=a.e2.qc(O,O[0][1][0],this.ub()),y=P[1],F=Math.min(y.A/s.Iz.A,y.$/s.Iz.$)*.9;
if(F<1)a.b.M(M,new kp(F,0,0,F,0,0),M)}this.av=new aj(M,!0,!0);this.oJ=null;this.XN=this.DV();this.gq(!0)};
aB.VaPo.prototype.awo=function(s){var M=this.UM,O=a.b.An(this.oJ),P=this.ml(),y=a.j(O.C()*4);if(s==null)s=this.DF;
var F=P[s[0]][1],A=a.e2.mD(P[s[0]][1],s[1],O,this.ub());for(var h=0;h<A.length;h++){var m=F[A[h]],Z=a.e2.qc(P,m,this.ub()),u=Z[0],f=Z[1],U=f.OK(O);
if(U.g3())continue;U=a.b.An(U);var C=a.j(U.C()*4),H=a.F.da(u,f);H=a.F.u2([1/M.A,0,0,0,1/M.$,0,0,0],H);
H=a.F.or(H);a.F.drawImage(H,this.z$,M.A,M.$,C,U);a.FP(C,U,y,O)}var t=this.OY[1][0].V(),X=Math.round(t*1.4),Q=O.v();
Q.rX(-X,-X);var D=a.j(Q.C());D.fill(255);var L=a.j(O.C());a.TT(D,Q,L,O);var E=L.slice(0);a.er.SO(E,O,t);
a.YT(y,L,3);a.Ns.OK(L,E,E);a.GS(E,y,3);return{OC:y,Iz:O}};aB.VaPo.prototype.oG=function(s,M){var O=this.UM;
a.FP(this.af$,O,this.z$,O,s);a.B.qZ("norm",this.u4,O,this.z$,O,s,1);if(this.ZL)a.B.qZ("norm",this.ZL,O,this.z$,O,s,this.abq())};
aB.VaPo.prototype.DV=function(s,M,O){var P=this.WZ,y=P.Iz,F=this.UM,A,h=M?a.b.hC(M).L:this.av.yK(),m=a.b.hG(h),A=a.F.da(h,y),Z=this.OY[4],u=new kp;
if(Z[0].V()){u.cd=-1;u.cj=2*y.x+y.A}if(Z[1].V()){u.zv=-1;u.H3=2*y.y+y.$}A=a.F.u2(A,a.F.y1(u));function f(q,d){q.beginPath();
q.moveTo(d[0],d[1]);for(var R=1;R<4;R++)q.lineTo(d[R*2],d[R*2+1]);q.closePath()}var U=this.ml(),C=a.e2.mD(U[this.DF[0]][1],this.DF[1],m,this.ub()),H=U[this.DF[0]][1],t=new gi;
for(var X=0;X<C.length;X++){var Q=H[C[X]],D=a.e2.qc(U,Q,this.ub()),L=D[0],E=D[1],_=E.OK(m);if(this.oJ)_=_.OK(this.oJ);
if(_.g3())continue;var S=a.F.da(L,E),W=a.b.hC(_).L;a.F.M(S,W);var g=h.slice(0);a.F.M(S,g);var x=a.b.q7(g).OK(a.b.q7(W)),V=x.A,b=x.$;
if(x.g3())continue;S=a.F.u2(a.F.u2(S,A),[y.A,0,y.x,0,y.$,y.y,0,0]);var N=a.j(x.C()*4);a.F.drawImage(S,P.OC,y.A,y.$,N,x,O);
if(_.C()!=m.C()){var J=a.FL(V,b);J.save();J.clearRect(0,0,V,b);J.translate(-x.x,-x.y);f(J,W);J.clip();
f(J,g);J.fill();J.restore();var K=new Uint8Array(J.getImageData(0,0,V,b).data.buffer);for(var R=3;R<N.length;
R+=4)if(K[R]<N[R])N[R]=K[R]}a.B.qZ("norm",N,x,s?s:this.z$,F,x,1);t=t.v8(x)}return t};aB.VaPo.prototype.V=function(){return a.G(this.ml())};
aB.VaPo.prototype.aan=function(){if(this.l==5)this.iv(0);var s=new gi,M=this.r2;for(var R=0;R<=this.bD;
R++)if(M[R].length==3)s=s.v8(M[R][0]);var O=a.j(s.C()*4);a.FP(this.u4,this.UM,O,s);return[O,s]};aB.VaPo.prototype.GK=function(s,M){this.Yt.GK(s,M);
this.view.GK(s-40,M-30)};aB.VaPo.prototype.T=function(){this.Yt.T();for(var R=0;R<this.OY.length;R++)for(var s=0;
s<this.OY[R].length;s++)this.OY[R][s].T()};aB.VaPo.prototype.gq=function(s,M){var O=this.UM,P=[],y=[],F=[],A=this.ml(),h=a.e2.yK(A,this.Y),m=0,Z=null,X=null,Q=null,D=null;
for(var R=0;R<h.length;R++)F.push(h[R][0][0],h[R][0][1]);for(var R=0;R<A.length;R++){var u=this.Y[R].length;
m+=u;if(u!=0)Z=[R,this.Y[R][0]]}var f=this.OY[0][0];f.oo(m!=0);if(m!=0)f.q(Math.round(A[Z[0]][0]));this.OY[0][1].oo(m!=0);
if(m==1){var U=A[Z[0]][1]}var C=[];if(this.oJ&&A[this.DF[0]])C=a.e2.mD(A[this.DF[0]][1],this.DF[1],this.oJ,this.ub());
var H=[];if(this.av){H=this.av.as_();H[4]=this.av.Pz()}var t=[];if(this.av&&A[this.DF[0]])t=a.e2.mD(A[this.DF[0]][1],this.DF[1],a.b.q7(this.av.yK()),this.ub());
for(var L=0;L<A.length;L++){var E=A[L][0],U=A[L][1],_=this.Y[L];for(var S=0;S<U.length;S++){var Z=U[S],W=a.e2.qc(A,Z,this.ub()),g=W[0],O=W[1],x=a.F.da(g,O);
if(O.g3()){if(Q==null)Q={J8:[],L:[]};a.b.concat(Q,{J8:["M","L","L","L","Z"],L:g});continue}var V=a.b.hC(O),b=V.L,N=V.J8,J=this.yQ;
if(J&&O.$z(J)&&this.cP&&this.cP[0]==L){X=[J.x,J.y];a.F.M(x,X)}if(C.indexOf(S)!=-1){var K=this.oJ.OK(O);
if(L==this.DF[0]&&!K.g3()){if(D==null)D={L:[],J8:[]};var q=a.b.hC(K);a.F.M(x,q.L);a.b.concat(D,q)}}if(t.indexOf(S)!=-1&&L==this.DF[0]){var d=[];
for(var R=0;R<H.length;R++)if(O.$z(H[R]))d.push(H[R].x,H[R].y);if(d.length!=0){a.F.M(x,d);F=F.concat(d)}}if(_&&_.indexOf(S)!=-1){var l=Math.ceil(O.x/E)*E,T=O.x+O.A,B=Math.ceil(O.y/E)*E,p=O.y+O.$;
for(var I=l;I<T;I+=E){b.push(I,O.y,I,p);N.push("M","L")}for(var w=B;w<p;w+=E){b.push(O.x,w,T,w);N.push("M","L")}}a.F.M(x,b);
P=P.concat(N);y=y.concat(b)}if(X&&this.l==3){var I=X[0],w=X[1],e=10/this.view.Ed().xq;y.push(I-e,w,I+e,w);
y.push(I,w-e,I,w+e);P.push("M","L","M","L")}}var g=this.Qw,O=this.UM;if(g){var G=["M"];for(var R=0;R<g.length-2;
R+=2)G.push("L");G.push("Z");var j=$._P.gg(g,O.A/2,O.$/2);if(isNaN(j)||j==Infinity||j==-Infinity||!aj.Qa(g)){if(Q==null)Q={J8:[],L:[]};
a.b.concat(Q,{J8:G,L:g})}else{y=y.concat(g);P=P.concat(G)}}var o={CU:{J8:P,L:y},ac7:Q,a6Y:D,oW:F,Y5:null};
if(s){if(M){M=M.v();M.rX(4,4)}this.view.q([{IK:O,data:this.z$.buffer}],null,o,M)}else this.view.aJ9(o)};
aB.blnc=function(){aB.call(this);var s=this._;this.FO=null;this.tb=new d_([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.tb.k(z.E.n,this.gq,this);s.appendChild(this.tb._);this.GQ=[];for(var R=0;R<3;R++){var M=new jH(["VAR0 - VAR1",ak.adf[R],ak.Vs[R]],-100,100);
M.k(z.E.n,this.pM,this);this.GQ.push(M);s.appendChild(M._)}this.Hu=new ho([13,4]);this.Hu.k(z.E.n,this.pM,this);
s.appendChild(this.Hu._)};aB.blnc.prototype=new aB;aB.blnc.prototype.T=function(){this.tb.T();for(var R=0;
R<3;R++)this.GQ[R].T();this.Hu.T()};aB.blnc.prototype.q=function(s){this.FO=a.G(s);this.gq()};aB.blnc.prototype.V=function(s){var M=["ShdL","MdtL","HghL"],O=this.FO[M[this.tb.V()]].v;
for(var R=0;R<3;R++)O[R].v=this.GQ[R].V();this.FO.PrsL.v=this.Hu.V();return a.G(this.FO)};aB.blnc.prototype.gq=function(s){var M=["ShdL","MdtL","HghL"],O=this.FO[M[this.tb.V()]].v;
for(var R=0;R<3;R++)this.GQ[R].q(O[R].v);this.Hu.q(this.FO.PrsL.v)};aB.brit=function(){aB.call(this,"brit");
this.zO.push(new jH([12,2],-150,150,""));this.zO.push(new jH([12,3,0],-100,100,""));this.zO.push(new ho([12,3,1]));
this.Lc()};aB.brit.prototype=new aB;aB.curv=function(){aB.call(this);this.value=null;this.sP=null;this.f=null;
var s=this._;this.Nc=new d_("Preset",["basic","advanced"]);this.Nc.k(z.E.n,this.aLy,this);s.appendChild(this.Nc._);
i.QP(s);this.ED=new d_([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);this.ED.k(z.E.n,this.Ro,this);s.appendChild(this.ED._);
this.T5=new d_(null,["Spline","Sketch"]);this.T5.k(z.E.n,this.aLy,this);s.appendChild(this.T5._);this.uR=new jq;
this.uR.parent=this;this.uR.k(z.E.n,this.pf,this);s.appendChild(this.uR._);i.QP(s);this.Wy=new hw;this.Wy.k(z.E.n,this.lE,this);
s.appendChild(this.Wy._);this.QT=null;this.aKi=0;this.a8b=0;i.QP(s);this.A7=new d5("Sample from image",e0.$b(["#000000","#888888","#ffffff","-\u2195"]),!0,null,!0);
this.A7.k(z.E.n,this.Kl,this);this.A7._.style.marginRight="0";s.appendChild(this.A7._)};aB.curv.prototype=new aB;
aB.curv.prototype.sr=function(){return this.Wy.aCL()<128?1:2};aB.curv.prototype.qy=function(s,M){if(M==g5.rT||M==g5.aA){var O=s.M$,P=["Default"];
for(var R=0;R<O.length;R++)P.push(O[R].presetFileName.v);P.push("Custom");this.Nc.ZG(P,[1,O.length,1]);
this.f=s}};aB.curv.prototype.GK=function(s,M){this.Wy.GK(s,M)};aB.curv.prototype.T=function(){this.ED.T();
this.Wy.T()};aB.curv.prototype.ej=function(){this.Nc.q(this.f.M$.length+1)};aB.curv.prototype.aLy=function(s){if(s.target==this.Nc){var M=this.Nc.V(),O=this.f.M$,P;
if(M==0)P=bW.Jb("curv");else if(M-1<O.length)P=a.G(O[M-1]);else return;this.q(P);this.pM();return}this.ej();
var y=ef.n0(this.value,0),F=y.length==256?1:0,A=this.T5.V();if(F==A)return;var P=bW.Jb("curv");if(A==1){var h=[];
for(var R=0;R<256;R++)h.push(R);ef.lB(P,0,h)}this.q(P);this.pM()};aB.curv.prototype.lE=function(){this.ej();
ef.lB(this.value,this.ED.V(),this.Wy.V());this.pM()};aB.curv.prototype.Ro=function(){var s=this.ED.V(),M=ef.n0,O=M(this.value,s),P;
if(s==0)P=[M(this.value,1),M(this.value,2),M(this.value,3)];var y=O.length==256?1:0;this.T5.q(y);if(this.sP)this.Wy.uj(this.sP[s],this.sP[4]*[1,.33,.33,.33][s],["#ccc","#fcc","#cfc","#ccf"][s]);
this.Wy.q(O,null,P)};aB.curv.prototype.Ls=function(){return!0};aB.curv.prototype.nD=function(s,M,O,P,y){var F=this.value;
this.value=bW.Jb("curv");this.pM();var A=$.jP.VP(s,y,1,null,!0),h=this.QT=[A>>>16&255,A>>>8&255,A&255];
this.aKi=y.y;this.q(F);this.pM()};aB.curv.prototype.nh=function(s,M,O,P,y){if(this.QT==null)return;if(this.A7.V().indexOf(!0)==3){var F=this.QT,A=this.value,h=this.ED.V(),m=ef.n0(A,h),Z,u=h==0?Math.round((F[0]+F[1]+F[2])/3):F[h-1],f=-1;
for(var R=0;R<m.length;R++)if(m[R].v.Hrzn.v==u)f=R;if(f==-1){Z=a.G(m[0]);Z.v.Hrzn.v=u;Z.v.Vrtc.v=u;m.push(Z);
m.sort(function(U,C){return U.v.Hrzn.v-C.v.Hrzn.v});ef.lB(A,h,m);f=m.indexOf(Z)}Z=m[f];Z.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(Z.v.Hrzn.v+(this.aKi-y.y))));
ef.lB(A,h,m);this.q(A);this.pM()}};aB.curv.prototype.Cq=function(s,M,O,P,y){aB.an3(this,s,y,"curv");
this.ej();this.QT=null};aB.curv.prototype.q=function(s){this.value=s;this.Ro()};aB.curv.prototype.uj=function(s){this.sP=s;
this.Ro()};aB.curv.prototype.V=function(s){return a.G(this.value)};aB.curv.prototype.pf=function(){var s=this.uR.V(),M=this.sP,O=this.value,P=a.a1B(s,M);
for(var R=0;R<4;R++){var y=P[R][0],F=P[R][1],A=P[R][2],h=[a.Vt.db(y,0,!0),a.Vt.db(F,255,!0)];if(A!=null)h.splice(1,0,a.Vt.db(128,A,!0));
ef.lB(O,R,h)}this.Ro();this.pM()};aB.expA=function(){aB.call(this,"expA");this.zO.push(new jH([12,5],-20,20,null,2,!0));
this.zO.push(new jH([12,6],-.5,.5,null,2));this.zO.push(new jH([12,7],.01,9.99,null,2,!0));this.Lc()};
aB.expA.prototype=new aB;aB.expA.prototype.AB=function(s,M){M[0]=s.Exps.v;M[1]=s.Ofst?s.Ofst.v:0;M[2]=s.gammaCorrection?s.gammaCorrection.v:1};
aB.expA.prototype.hD=function(s,M){s.Exps={t:"doub",v:M[0]};s.Ofst={t:"doub",v:M[1]};s.gammaCorrection={t:"doub",v:M[2]}};
aB.grdm=function(){aB.call(this,"grdm");this.zO.push(new kK(!0,null,!0));this.zO.push(new ho([12,23,3]));
this.zO.push(new ho([12,23,0]));this.zO.push(new d_("Method",["Perceptual","Linear","Classic","Smooth","Stripes"]));
this.Lc()};aB.grdm.prototype=new aB;aB.grdm.prototype.AB=function(s,M){M[0]=s.Grad.v;M[1]=s.Dthr?s.Dthr.v:!1;
M[2]=s.Rvrs?s.Rvrs.v:!1;M[3]=aV.wv.Vl.indexOf(s.gs99?s.gs99.v.gradientInterpolationMethodType:"Gcls")};
aB.grdm.prototype.hD=function(s,M){s.Grad.v=M[0];s.Dthr={t:"bool",v:M[1]};s.Rvrs={t:"bool",v:M[2]};s.gs99={t:"enum",v:{gradientInterpolationMethodType:aV.wv.Vl[M[3]]}}};
aB.grdm.prototype.qy=function(s,M){this.zO[0].hz(s.UC,s.Cc);if(M==g5.rT||M==g5._2||M==g5.hL)this.zO[0].cA(s.Ac)};
aB.selc=function(){aB.call(this);var s=this._;this.Q5=[];this.h6=null;this.tb=new d_([12,82],ak.YB.concat([[13,1,8],[13,1,13],[13,1,10]]));
this.tb.k(z.E.n,this.qr,this);s.appendChild(this.tb._);i.QP(s);for(var R=0;R<4;R++){var M=new jH(ak.adf[R],-100,100,"%");
M.k(z.E.n,this.qr,this);this.Q5.push(M);s.appendChild(M._)}this.MR=new ho([13,3]);s.appendChild(this.MR._);
this.MR.k(z.E.n,this.qr,this)};aB.selc.prototype=new aB;aB.selc.prototype.T=function(){this.tb.T();this.MR.T();
for(var R=0;R<4;R++)this.Q5[R].T()};aB.selc.prototype.q=function(s){this.h6=a.G(s);this.gq()};aB.selc.prototype.V=function(s){return a.G(this.h6)};
aB.selc.prototype.qr=function(s){if(s.target!=this.tb){var M=this.h6,O=[];for(var R=0;R<4;R++)O[R]=this.Q5[R].V();
kT.lB(M,this.tb.V(),O);M.Mthd={t:"enum",v:{CrcM:this.MR.V()?"Absl":"Rltv"}}}this.gq();this.pM()};aB.selc.prototype.gq=function(){var s=this.h6,M=kT.n0(s,this.tb.V());
for(var R=0;R<4;R++)this.Q5[R].q(M[R]);this.MR.q(s.Mthd?s.Mthd.v.CrcM=="Absl":!1)};aB.blwh=function(){aB.call(this,"blwh");
this.zO.push(new ho([12,11]));this.zO.push(new aI(!0));for(var R=0;R<6;R++)this.zO.push(new jH(ak.YB[R],-200,300));
this.Lc()};aB.blwh.prototype=new aB;aB.blwh.prototype.AB=function(s,M){M[0]=s.useTint.v;M[1]=s.tintColor.v;
var O="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var R=0;R<6;R++)M[2+R]=s[O[R]].v};aB.blwh.prototype.hD=function(s,M){s.useTint.v=M[0];
s.tintColor.v=M[1];var O="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var R=0;R<6;R++)s[O[R]].v=M[2+R]};
aB.hue2=function(){aB.call(this);this.value=null;this.Tp=null;this.aZ=null;this.adm=[[0,0,0],[0,50,0]];
var s=this._;this.A7=new d5(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.A7.k(z.E.n,this.aFB,this);this.A7.k(z.E.n,this.Kl,this);s.appendChild(this.A7._);var M=this.zO=[new d_([12,12],["Master"].concat(ak.YB)),new jH([12,8],-180,180),new jH([12,9],-100,100),new jH([12,10],-100,100),new ho([12,11])];
for(var R=0;R<M.length;R++){var O=M[R];O.k(z.E.n,R==0?this.Ro:this.aEb,this);s.appendChild(O._)}this.tb=M[0];
this.apF=M[1];this.Q3=M[2];this.aJ_=M[3];this.Ln=M[4];this.CO=new d5("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.CO.k(z.E.n,this.aFB,this);this.CO.k(z.E.n,this.Kl,this);this.CO._.style.marginLeft="20px";s.appendChild(this.CO._);
this.aqV=i.m("div");s.appendChild(this.aqV);this.mh=this.Os.bind(this);this._y=this.Ub.bind(this);this.Tb=i.m("canvas");
this.KM=this.Tb.getContext("2d");this.Fl=null;i.o0(this.Tb);i.MQ(this.Tb,282,18);s.appendChild(this.Tb);
i.dq(this.Tb,this.Ym.bind(this))};aB.hue2.prototype=new aB;aB.hue2.prototype.GK=function(s,M){i.MQ(this.Tb,Math.round(s),18);
if(this.value)this.Ro()};aB.hue2.prototype.aFB=function(s){var M=s.target.V().indexOf(!0);if(M==-1)return;
if(s.target==this.A7)this.CO.q([!1,!1,!1]);else this.A7.q([!1,!1,!1])};aB.hue2.prototype.Ym=function(s){if(this.tb.V()==0||this.Ln.V())return;
var M=i.iC(s,this.Tb).x/(this.Tb.width/i.yD()),F=1e6;function O(f,U,C){return f<U&&U<C||C<f&&(f<U||U<C)}var P=this.a5(),y=-1;
for(var R=0;R<4;R++){var A=Math.abs(M-(P[R]+R*1e-5));if(A<F){F=A;y=R}}if(F>.025){y=-1;var h=P[0],m=P[1],Z=P[2],u=P[3];
if(O(h,M,m))y=4;if(O(m,M,Z))y=5;if(O(Z,M,u))y=6}if(y==-1)return;this.Fl=y;i.Qj(document.body,this.mh);
i.gE(document.body,this._y)};aB.hue2.prototype.Os=function(s){var M=i.iC(s,this.Tb).x/(this.Tb.width/i.yD()),O=this.a5(),P=this.Fl;
for(var R=1;R<4;R++)if(O[R]<O[R-1]){O[R]+=1}if(P<4){var y=1e6,F=0;for(var R=-20;R<20;R++){var A=Math.abs(O[P]-(M+R));
if(A<y){y=A;F=R}}M+=F;O[P]=M;for(var R=P+1;R<4;R++)if(O[R]<O[R-1]){O[R]=O[R-1]}for(var R=P-1;R>=0;R--)if(O[R]>O[R+1]){O[R]=O[R+1]}}else{var h=M-(O[P-4]+O[P-3])/2;
if(h<-.5)h+=1;if(P==4){O[0]+=h;O[1]+=h;O[2]=Math.max(O[1],O[2]);O[3]=Math.max(O[1],O[3])}if(P==5)for(var R=0;
R<4;R++)O[R]+=h;if(P==6){O[2]+=h;O[3]+=h;O[0]=Math.min(O[0],O[2]);O[1]=Math.min(O[1],O[2])}}for(var R=1;
R<4;R++)if(O[R]<O[R-1])throw"e";this.at4(O);this.Ro();this.pM()};aB.hue2.prototype.Ub=function(s){i.GE(document.body,this.mh);
i.bY(document.body,this._y)};aB.hue2.prototype.T=function(){for(var R=0;R<this.zO.length;R++)this.zO[R].T()};
aB.hue2.prototype.aEb=function(s){var M=this.value.Clrz.v=this.Ln.V();if(M)this.tb.q(0);if(s&&s.target==this.Ln){var O=M?1:0;
this.adm[1-O]=aU.n0(this.value,0);var P=this.adm[O];aU.lB(this.value,0,P);if(this.tb.V()==0){this.apF.q(P[0]);
this.Q3.q(P[1]);this.aJ_.q(P[2])}}var y=this.tb.V(),F=aU.n0(this.value,y),P=y==0?F:F.GQ;P[0]=this.apF.V();
var A=this.Q3.V();P[1]=M?Math.max(0,A):A;P[2]=this.aJ_.V();aU.lB(this.value,y,F);this.Ro();this.pM()};
aB.hue2.prototype.Ro=function(){var s=this.tb.V(),M=this.value.Clrz?this.value.Clrz.v:!1;this.Ln.q(M);
this.tb.oo(!M);this.CO.oo(!M&&s!=0);var O=aU.n0(this.value,s),P=s==0?O:O.GQ;this.apF.q(P[0]);this.Q3.q(P[1]);
this.aJ_.q(P[2]);var y=this.Tb.width,F=this.Tb.height,A=this.KM;A.clearRect(0,0,y,F);if(M||s==0){this.aqV.innerHTML="";
return}var h=O.lc;this.aqV.innerHTML=h[0]+"\xB0 / "+h[1]+"\xB0<span style=\"float:right\">"+h[2]+"\xB0 \\ "+h[3]+"\xB0</span>";
var m=a.j(y*4);cH.azE(m,1,y,-1,.5);var Z=new ImageData(new Uint8ClampedArray(m.buffer),y,1),u=Math.round(F/4);
for(var R=0;R<u;R++)A.putImageData(Z,0,R);function f(Q,D,L){A.fillStyle=L;var E=u*2;if(Q<=D)A.fillRect(Q*y,E,(D-Q)*y,u);
else{A.fillRect(0,E,D*y,u);A.fillRect(Q*y,E,(1-Q)*y,u)}}var U=this.a5();f(U[0],U[1],"#888888");f(U[1],U[2],"#cccccc");
f(U[2],U[3],"#888888");A.fillStyle="#ffffff";A.lineWidth=1;A.beginPath();var C=u+.5,H=4*u+.5;for(var R=0;
R<4;R++){var t=Math.floor(y*U[R])+.5,X=(R<2?-1:1)*u*(R==1||R==2?1:2);A.moveTo(t,C);A.lineTo(t,H);A.lineTo(t+X,H);
A.lineTo(t+X,u+u+.5);A.closePath()}A.fill();A.stroke()};aB.hue2.prototype.a5=function(){var s=this.tb.V(),M=aU.n0(this.value,s).lc;
for(var R=0;R<4;R++)M[R]=(1000.5+M[R]/360)%1;return M};aB.hue2.prototype.at4=function(s){var M=this.tb.V(),O=aU.n0(this.value,M);
for(var R=0;R<4;R++)O.lc[R]=Math.round(36e3+(s[R]-.5)*360)%360;aU.lB(this.value,M,O)};aB.hue2.prototype.Ls=function(){return!0};
aB.hue2.prototype.aHX=function(){var s=this.A7.V().indexOf(!0),M=this.CO.V().indexOf(!0);return s!=-1?s:M!=-1?M+1:-1};
aB.hue2.prototype.nD=function(s,M,O,P,y){var F=this.aHX();if(F==-1)return;var A=this.value;this.value=bW.Jb("hue2");
this.pM();var h=$.jP.VP(s,y,1,null,!0);this.q(A);var m=[h>>>16&255,h>>>8&255,h&255],Z=a.yR(m[0]/255,m[1]/255,m[2]/255);
if(F==0){this.tb.q(1+Math.round(Z.fw*6)%6)}else{var u=this.a5(),f=.5+Z.fw,U=1/12,C=u[1],H=u[2];if(H<C){H++;
if(f<C&&f+1-H<C-f)f++}var t=C<=f&&f<=H;if(F==1){C=f-U/2;H=f+U/2}else if(F==2&&!t){C=Math.min(f,C);H=Math.max(f,H)}else if(F==3&&t){if(f-C<H-f)C=f;
else H=f}u=[C-U,C,H,H+U];this.at4(u)}this.pM();this.Tp=y.x;this.aZ=this.Q3.V()};aB.hue2.prototype.nh=function(s,M,O,P,y){var F=this.aHX();
if(F==-1)return;if(F==0){if(this.Tp!=null){var A=y.x-this.Tp;A=Math.max(-100,Math.min(100,this.aZ+.5*A));
this.Q3.q(A);this.aEb()}}};aB.hue2.prototype.Cq=function(s,M,O,P,y){this.Tp=null};aB.hue2.prototype.q=function(s){this.value=a.G(s);
var M=this.value.Clrz?this.value.Clrz.v:!1;this.adm[M?1:0]=aU.n0(this.value,0);this.Ro()};aB.hue2.prototype.V=function(s){return a.G(this.value)};
aB.levl=function(){function s(){aB.call(this);this.value=null;this.sP=null;this.jf=[new j6(0,0),new j6(0,0),new j6(0,0),new j6(0,0),new j6(0,0)];
this.QX=-1;this.aEH=0;this.mh=this.Os.bind(this);this._y=this.Ub.bind(this);var M=this._;this.ED=new d_([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.ED.k(z.E.n,this.Ro,this);M.appendChild(this.ED._);this.uR=new jq;this.uR.parent=this;this.uR.k(z.E.n,this.pf,this);
M.appendChild(this.uR._);var O=i.m("div","");M.appendChild(O);var P=i.m("div","");M.appendChild(P);this.Tb=i.m("canvas");
O.appendChild(this.Tb);this.KM=this.Tb.getContext("2d");this.et=new j6(256,120);i.P(this.Tb,"display:block");
i.o0(this.Tb);i.dq(this.Tb,this.Ym.bind(this));this.qU=i.m("canvas","");P.appendChild(this.qU);this.iE=this.qU.getContext("2d");
this.y4=new j6(this.et.x,40);i.P(this.qU,"display:block");i.o0(this.qU);i.dq(this.qU,this.aqx.bind(this));
var y=this.aJg=[];for(var R=0;R<5;R++){var F=new hH(null,null,3);y.push(F);F.k(z.E.n,this.aoE,this);
(R<2||R==4?O:P).appendChild(F._)}O.appendChild(y[1]._);this.A7=new d5("Sample from image",e0.$b(["#000000","#888888","#ffffff"]),!0,null,!0);
this.A7.k(z.E.n,this.Kl,this);M.appendChild(this.A7._);this.GK(250,100)}s.prototype=new aB;s.prototype.sr=function(){return this.aEH==0?1:2};
s.prototype.pf=function(){var M=this.uR.V(),O=this.sP,P=this.value,y=a.a1B(M,O);for(var R=0;R<4;R++){var F=y[R][0],A=y[R][1],h=y[R][2],m=[a.Vt.db(F,0,!0),a.Vt.db(A,255,!0)];
if(h!=null)m.splice(1,0,a.Vt.db(128,h,!0));var Z=[~~F,~~A,0,255,h==null?100:~~(100+.75*100*(h-128)/128)];
fY.lB(P,R,Z)}this.Ro();this.pM()};s.prototype.GK=function(M,O){M+=6;this.et.x=this.y4.x=M;i.MQ(this.Tb,M,this.et.y,this.KM);
i.MQ(this.qU,M,this.y4.y,this.iE);var P=this.aJg;i.P(P[3]._,"margin-left: "+(M-104)+"px");i.P(P[4]._,"margin: 0 "+(M/2-74)+"px");
if(this.value)this.Ro()};s.prototype.T=function(){this.ED.T()};s.prototype.aoE=function(M){var O=[];
for(var R=0;R<5;R++){var P=255,y=1;if(R==4){P=999;y=100}var F=parseFloat(this.aJg[R].V());O[R]=Math.max(0,Math.min(P,F*y))}fY.lB(this.value,this.ED.V(),O);
this.Ro();this.pM()};s.prototype.Ro=function(M){var O=this.et.x,P=this.et.y,y=this.ED.V(),F=this.KM;
F.clearRect(0,0,O,P);F.fillStyle="#cccccc";F.fillRect(8,8,O-16,P-16-8);if(this.sP){var A=this.sP[0].slice(0),H=0;
if(y==0){A.fill(0);var h=a.G(this.value);fY.lB(h,0,[0,255,0,255,100]);var m=ak.QC("levl",h),Z=[m.xh,m.PC,m.yI];
for(var u=0;u<3;u++){var f=this.sP[1+u],U=Z[u];for(var R=0;R<256;R++)A[~~(U[R]*255)]+=f[R]}}var C=y==0?A:this.sP[y];
for(var R=0;R<C.length;R++)H+=C[R];F.fillStyle="#333333";F.beginPath();F.moveTo(8,P-16);for(var R=0;
R<256;R++){var t=55*C[R]/H;F.lineTo(8+R/256*(O-16),Math.max(8,P-16-P*t))}F.lineTo(O-8,P-16);F.closePath();
F.fill()}var X=fY.n0(this.value,y);for(var R=0;R<5;R++)this.aJg[R].q(X[R]/(R==4?100:1));this.jf[0].ee(8+X[0]/255*(O-16),P-14);
this.jf[1].ee(8+X[1]/255*(O-16),P-14);var Q=Math.log(X[4]/100)/Math.log(9.99);Q=.5-Q/2;this.jf[4].ee(this.jf[0].x+Q*(this.jf[1].x-this.jf[0].x),P-14);
this.bV(F,this.jf[0],"#000000");this.bV(F,this.jf[1],"#ffffff");this.bV(F,this.jf[4],"#777777");var O=this.y4.x,P=this.y4.y;
F=this.iE;F.clearRect(0,0,O,P);var D=F.createLinearGradient(0,0,O-16,0);D.addColorStop(0,"black");D.addColorStop(1,"white");
F.fillStyle=D;F.fillRect(8,8,O-16,16);this.jf[2].ee(8+X[2]/255*(O-16),P-14);this.jf[3].ee(8+X[3]/255*(O-16),P-14);
this.bV(F,this.jf[2],"#000000");this.bV(F,this.jf[3],"#ffffff")};s.prototype.bV=function(M,O,P){M.fillStyle=P;
M.fillRect(O.x-5,O.y,10,10)};s.prototype.Ym=function(M){var O=i.iC(M,this.Tb),P=this.aFI([0,1,4],O);
if(P!=-1)this.QX=this.aEH=P;this.ac1()};s.prototype.aqx=function(M){var O=i.iC(M,this.qU),P=this.aFI([2,3],O);
if(P!=-1)this.QX=P;this.ac1()};s.prototype.aFI=function(M,O){var P=-1,y=1e9;for(var R=0;R<M.length;R++){var F=Math.abs(this.jf[M[R]].x-O.x);
if(F<y){y=F;P=M[R]}}return y<16?P:-1};s.prototype.ac1=function(M){if(this.QX==-1)return;i.Qj(document.body,this.mh);
i.gE(document.body,this._y)};s.prototype.Os=function(M){var O=fY.n0(this.value,this.ED.V()),P=i.iC(M,this.QX==2&&this.QX==3?this.qU:this.Tb),y=255*(P.x-8)/(this.et.x-16);
y=Math.max(0,Math.min(255,y));if(this.QX==0)y=Math.min(y,O[1]-2);if(this.QX==1)y=Math.max(y,O[0]+2);
if(this.QX!=4)O[this.QX]=Math.round(y);else{var F=(y-O[0])/(O[1]-O[0]);F=1-2*F;F=Math.pow(9.99,F);O[4]=Math.min(999,Math.max(10,Math.round(F*100)))}fY.lB(this.value,this.ED.V(),O);
this.Ro();this.pM()};s.prototype.Ub=function(M){i.GE(document.body,this.mh);i.bY(document.body,this._y);
this.QX=-1};s.prototype.Ls=function(){return!0};s.prototype.Cq=function(M,O,P,y,F){aB.an3(this,M,F,"levl")};
s.prototype.q=function(M){this.value=M;this.Ro()};s.prototype.uj=function(M){this.sP=M;this.Ro()};s.prototype.V=function(M){return a.G(this.value)};
return s}();aB.phfl=function(){aB.call(this,"phfl");this.zO.push(new aI);this.zO.push(new jH([12,74],0,100,"%"));
this.zO.push(new ho([13,4]));this.Lc()};aB.phfl.prototype=new aB;aB.phfl.prototype.AB=function(s,M){M[0]=s.Clr.v;
M[1]=s.Dnst.v;M[2]=s.PrsL.v};aB.phfl.prototype.hD=function(s,M){var O=a.wv.sl(M[0]),P=s.Clr.v,y=a.H8(O.o,O.R,O.X);
P.Lmnc.v=y.Yk;P.A.v=y.cd;P.B.v=y.X;s.Dnst.v=M[1];s.PrsL.v=M[2]};aB.vibA=function(){aB.call(this,"vibA");
this.zO.push(new jH([12,13],-100,100,null));this.zO.push(new jH([12,9],-100,100,null));this.Lc()};aB.vibA.prototype=new aB;
aB.vibA.prototype.AB=function(s,M){M[0]=s.vibrance?s.vibrance.v:0;M[1]=s.Strt?s.Strt.v:0};aB.vibA.prototype.hD=function(s,M){s.vibrance.v=M[0];
s.Strt.v=M[1]};aB.thrs=function(){aB.call(this,"thrs");this.zO.push(new jH([4,13],1,255,null));this.Lc()};
aB.thrs.prototype=new aB;aB.thrs.prototype.AB=function(s,M){M[0]=s.Lvl.v};aB.thrs.prototype.hD=function(s,M){s.Lvl.v=M[0]};
aB.mixr=function(){aB.call(this);var s=this._;this.Q5=[];this.h6=null;this.tb=new d_([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.a0i=!1;this.tb.k(z.E.n,this.qr,this);s.appendChild(this.tb._);i.QP(s);this.PD=new ho([12,60]);s.appendChild(this.PD._);
this.PD.k(z.E.n,this.qr,this);for(var R=0;R<4;R++){var M=new jH([[13,1,1],[13,1,4],[13,1,5],[13,2]][R],-200,200,"%");
M.k(z.E.n,this.qr,this);this.Q5.push(M);s.appendChild(M._)}};aB.mixr.prototype=new aB;aB.mixr.prototype.T=function(){this.tb.T();
this.PD.T();for(var R=0;R<4;R++)this.Q5[R].T()};aB.mixr.prototype.q=function(s){this.h6=a.G(s);this.gq()};
aB.mixr.prototype.V=function(s){return a.G(this.h6)};aB.mixr.prototype.qr=function(s){if(s.target!=this.tb){var M=ak.yC(this.h6);
if(s.target==this.PD){M.PD=this.PD.V();if(M.PD)M.K=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else M.K=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var O=(M.PD?0:this.tb.V())*5,R=this.Q5.indexOf(s.target);
M.K[O+(R<3?R:4)]=s.target.V()}this.h6=ak.HQ(M)}this.gq();this.pM()};aB.mixr.prototype.gq=function(){var s=ak.yC(this.h6),M=this.tb.V();
if(s.PD!=this.a0i){this.tb.ZG(s.PD?[[13,1,7]]:ak.Vs);this.tb.q(M)}this.a0i=s.PD;this.PD.q(s.PD);var O=(s.PD?0:M)*5;
for(var R=0;R<4;R++)this.Q5[R].q(s.K[O+(R<3?R:4)])};aB.post=function(){aB.call(this,"post");this.zO.push(new jH([4,1],2,255,null));
this.Lc()};aB.post.prototype=new aB;aB.post.prototype.AB=function(s,M){M[0]=s.Lvls.v};aB.post.prototype.hD=function(s,M){s.Lvls.v=M[0]};
aB.clrL=function(){aB.call(this,"clrL");this.zO.push(new bc("LUTs"));this.Lc()};aB.clrL.prototype=new aB;
aB.clrL.prototype.AB=function(s,M){M[0]=s};aB.clrL.prototype.hD=function(s,M){var O=M[0];for(var P in O)s[P]=O[P]};
aB.clrL.prototype.qy=function(s,M){if(M==g5.rT||M==g5.WQ)this.zO[0].cA(s.aov)};aB.rplc=function(){aB.call(this,"rplc");
this.zO.push(new jH([12,92],0,200));this.zO.push(new aI);this.zO.push(new jH([12,8],-180,180));this.zO.push(new jH([12,9],-100,100));
this.zO.push(new jH([12,10],-100,100));this.Lc()};aB.rplc.prototype=new aB;aB.rplc.prototype.AB=function(s,M){M[0]=s.Fzns.v;
M[1]=s.Mxm.v;M[2]=s.H.v;M[3]=s.Strt.v;M[4]=s.Lght.v};aB.rplc.prototype.hD=function(s,M){function O(y,F){F.Lmnc.v=y.Yk;
F.A.v=y.cd;F.B.v=y.X}s.Fzns.v=M[0];s.H.v=M[2];s.Strt.v=M[3];s.Lght.v=M[4];var P=a.wv.sl(M[1]),y=a.H8(P.o,P.R,P.X);
O(y,s.Mnm.v);O(y,s.Mxm.v)};aB.fade=function(){aB.call(this,"fade");this.zO.push(new jH([12,0],0,100,"%"));
this.zO.push(new d_([12,19,0],h0.lq,h0.P1));this.Lc()};aB.fade.prototype=new aB;aB.fade.prototype.AB=function(s,M){M[0]=s.Opct.v.val;
M[1]=h0.iQ.indexOf(s.Md.v.BlnM)};aB.fade.prototype.hD=function(s,M){s.Opct.v.val=M[0];s.Md.v.BlnM=h0.iQ[M[1]]};
aB.aply=function(){var s=h0.iQ.concat(["Add","Sbtr"]);s.splice(21,1);var M=h0.lq.concat([[15,10,28],[15,10,21]]);
M.splice(21,1);var O=h0.P1.slice(0);O[4]--;function P(){aB.call(this,"aply");this.zO.push(new d_([0,3],[]));
this.zO.push(new d_([12,4],["RGB"].concat(ak.Vs).concat(["Transparency"])));this.zO.push(new ho([4,11]));
this.zO.push(new d_([12,19,0],M,O));this.zO.push(new jH([12,0],0,100,"%"));this.zO.push(new hQ([12,38],1,2,null,2));
this.zO.push(new hQ([12,6],-255,255));this.zO.push(new ho([13,5]));this.Lc([2]);this.aHr=null}P.prototype=new aB;
P.prototype.AB=function(y,F,A){if(A){var h=A[2].U,m=this.aHr=[];for(var R=0;R<h.length;R++){var Z=h[R].getName();
m.push(Z.length<30?Z:Z.slice(0,27)+"...")}m.reverse();this.zO[0].ZG([[5,7]].concat(m),[1,m.length])}else var m=this.aHr;
y=y.With.v;var u=y.T.v;F[0]=u[1].t=="name"?1+m.indexOf(u[1].v.val):0;F[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(u[0].v.enum);
F[2]=y.Invr.v;var f=y.Clcl.v.Clcn;F[3]=s.indexOf(f);F[4]=y.Opct.v.val;F[5]=y.Scl.v;F[6]=y.Ofst.v;F[7]=y.PrsT.v};
P.prototype.hD=function(y,F){y=y.With.v;var A=y.T.v;if(F[0]==0)A[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else A[1]={t:"name",v:{classID:"Lyr",val:this.aHr[F[0]-1]}};A[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][F[1]];
y.Invr.v=F[2];var h=y.Clcl.v.Clcn=s[F[3]];y.Opct.v.val=F[4];y.Scl.v=F[5];y.Ofst.v=F[6];y.PrsT.v=F[7];
var m=h=="Add"||h=="Sbtr";this.zO[5].oo(m);this.zO[6].oo(m)};return P}();aB.matc=function(){var s,M,O=0;
function P(){aB.call(this,"matc");this.zO.push(new ho("Apply only to a selection"));this.zO.push(new jH("Luminance",1,200));
this.zO.push(new jH("Color Intensity",1,200));this.zO.push(new jH([2,11],0,100,"%"));this.zO.push(new ho("Neutralize"));
this.zO.push(new ho("Use a selection of the source"));this.zO.push(new ho("Use a selection of the target"));
this.zO.push(new d_([12,70],[]));this.zO.push(new d_([0,3],[]));this.Lc([4])}function y(F,A){F.zO[8].ZG([[5,7]].concat(A),[1,A.length])}P.prototype=new aB;
P.prototype.AB=function(F,A,h){O=0;A[0]=F.fsel?F.fsel.v:!1;A[1]=F.Lght.v;A[2]=F.ClrR.v;A[3]=F.Fade.v;
A[4]=F.neutralizeColor?F.neutralizeColor.v:!1;A[5]=F.selectedSourceAreas?F.selectedSourceAreas.v:!1;
A[6]=F.SlcA?F.SlcA.v:!1;A[7]=A[8]=0;var m=F.Srce;if(m)m=m.v;if(h){s=[];M=[];var Z=h[2],u=h[3];for(var R=0;
R<u.length;R++){var f=u[R];s.push(f.name);var U=f.U,C=[];M.push(C);for(var H=0;H<U.length;H++)C.push(U[H].getName());
C.reverse()}this.zO[7].ZG([[13,1,0]].concat(s),[1,s.length]);var t=u.indexOf(Z);if(m)t=s.indexOf(m[1].v.val);
y(this,M[t])}if(m){var X=s.indexOf(m[1].v.val);A[7]=O=1+X;if(m[0].t=="name")A[8]=1+M[X].indexOf(m[0].v.val)}};
P.prototype.hD=function(F,A){F.fsel={t:"bool",v:A[0]};F.Lght.v=A[1];F.ClrR.v=A[2];F.Fade.v=A[3];F.neutralizeColor={t:"bool",v:A[4]};
F.selectedSourceAreas={t:"bool",v:A[5]};F.SlcA={t:"bool",v:A[6]};if(A[7]==0){F.noReference={t:"bool",v:!0};
delete F.Srce}else{if(A[7]!=O){O=A[7];y(this,M[A[7]-1])}delete F.noReference;var h={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},m=M[A[7]-1];
if(A[8]!=0)h={t:"name",v:{classID:"Lyr",val:m[A[8]-1]}};F.Srce={t:"obj ",v:[h,{t:"name",v:{classID:"Dcmn",val:s[A[7]-1]}}]}}};
return P}();function j9(s,M){hV.call(this);if(s==null)return;this.id=M;this.wb=s;this.a8G=null;this._=i.m("div","window "+M);
this.agq=null;this.rN=i.m("div","whead");this.awh=i.m("span","wname");this.rN.appendChild(this.awh);
this.aFs=!1;this._.appendChild(this.rN);this.bL=this.agD.bind(this);this.AF=this.a55.bind(this);this.$$=this.a0_.bind(this);
i.o0(this.rN);i.dq(this.rN,this.bL);this.aeN=i.m("span","cross gsicon");this.rN.appendChild(this.aeN);
j9.prototype.T.call(this);i.gE(this.aeN,this.azN.bind(this));this.body=i.m("div","body");this._.appendChild(this.body)}j9.prototype=new hV;
j9.prototype.bA=function(){return!1};j9.prototype.Ls=function(){return!1};j9.prototype.T=function(){if(this.wb==null)return;
this.awh.textContent=aW.get(this.wb)};j9.prototype.nD=function(s,M,O,P,y){};j9.prototype.jM=function(s,M,O,P,y){};
j9.prototype.nh=function(s,M,O,P,y){};j9.prototype.Cq=function(s,M,O,P,y){};j9.prototype.z4=function(s,M,O,P,y){};
j9.prototype.lJ=function(s,M,O,P){if(P.D(hj.$g)&&this.Mk)this.Mk();if(P.D(hj.yu)&&!this.cZ(-1)){var y=new kg(z.E.H);
y.T8=!0;$.Ay.ayP(P,y);if(y.data)M.a(y)}};j9.prototype.cZ=function(s){return!1};j9.prototype.N3=function(s,M){return!0};
j9.prototype.o3=function(s,M,O,P){};j9.prototype.qy=function(s,M){};j9.prototype.xc=function(s,M){return null};
j9.prototype.aG5=function(s){return this.agq};j9.prototype.GK=function(){};j9.prototype.close=function(){this.a(new kg(z.E.wE))};
j9.prototype.agD=function(s){if(s.target==this.aeN)return;this.a8G=i.iC(s,this._);i.Qj(window,this.AF);
i.gE(window,this.$$)};j9.prototype.a55=function(s){var M=this._.parentNode,O=i.iC(s,M);O.x=Math.min(O.x,window.innerWidth);
O.y=Math.min(O.y,window.innerHeight);var P=Math.round(O.x-this.a8G.x),y=M.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(O.y-this.a8G.y)));
this.agq=new j6(P,y);this._.style.left=P+"px";this._.style.top=y+"px"};j9.prototype.a0_=function(s){i.GE(window,this.AF);
i.bY(window,this.$$)};j9.prototype.azN=function(s){if(this.aFs){this.Mk();return}this.close();this.a(new kg("closebtn"))};
function aD(){j9.call(this,"About Photopea","aboutpp");var s=this.body,M=this.axU=i.m("img");s.appendChild(M);
i.P(this.body,"margin:0; padding:0");var O=this.My=i.m("div");O.innerHTML=aD.J3;s.appendChild(O);var P=this.$0=i.m("span");
P.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(P)}aD.prototype=new j9;aD.prototype.xc=function(s,M){return new j6(0,0)};aD.prototype.GK=function(s,M){var O=(s+M-42-42)/110,P,y,F;
O=Math.sqrt((s-42)*(M-42))/50;if(s>M){i.cG(this.body,"flexrow");P="width:"+s/2+"px; height:"+M+"px; display:block; object-fit:cover;";
y="width:"+(s/2-42)+"px; height:"+(M-42)+"px; padding:20px; font-size:"+O+"px;";F="position:absolute;  bottom:10px; right:"+(s/2+10)+"px"}else{if(s*1.5>M)O*=.9;
i.VV(this.body,"flexrow");P="width:"+s+"px; height:"+M/2+"px; display:block; object-fit:cover;";y="width:"+(s-42)+"px; height:"+(M/2-42)+"px; padding:20px; font-size:"+O+"px;";
F="position:absolute;  bottom:"+(M/2+10)+"px; right:10px"}i.P(this.axU,P);i.P(this.My,y);i.P(this.$0,F)};
aD.prototype.T=function(){};aD.prototype.o3=function(s,M,O,P){this.axU.setAttribute("src","promo/ivan_pp.webp")};
aD.J3="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function e6(){j9.call(this,"Are you blocking ads?","bnotify");var s=this.body,M="style=\"color:inherit\" target=\"_blank\"",O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAMAAAA9UgEZAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAI1QTFRF4eHhR0dHk5OTUlJSoqKio6OjpKSkqqqq2dnZVFRUVlZWdHR029vbxcXFWFhYYmJizs7OaGhogoKCsbGxTExMpaWlXl5ecXFxSUlJfn5+uLi4iYmJmJiYd3d3v7+/Tk5OjY2N0tLSZWVleXl5oaGhaWlpWlpaT09Pf39/nZ2dra2tXFxcnJycYGBga2trbtjItQAAAQtJREFUeJzt1scWgkAMBVAj0pEm2HvF+v+fJwF0lUyElZzD2z7vGRjCYK/XpUV5+ADOsgGcQZFVbWhClX5dqX3kxqoH1/DN6IefW5kDivixx0AvUDlMwNCtBAG2tNzLMqIlbqfbZ+Pmtc1Lnd+/QV5rnTwPm0rFmOqSvISMNLDckZV5KOiJkWnRjlOyHI6xXPNrYiZkGyZ5FaslHMl6kTdPQdK3g8dPQsvBR9I9yqkg6R6v9i5cLfmShti4tNRVO1Q+FWaKFE+lmgSHhtUkwIw4xarDec5IXDO5keNXSvZrYKgn3udW/MszoT3Sbvx1iEDMi5ZLWV6ZOxG/vHtuD6zYVzknq/lno0sXIW9imwujYrBo1QAAAABJRU5ErkJggg==";
s.style.width="540px";var P="<h2>It seems like you are blocking our ads</h2>"+"<p>Please, let us show you ads. Photopea would not exist if everyone blocked ads :(</p>"+"<p>Or get <a "+M+" href=\"//www.photopea.com/promo/no_ads.png\">90 days ad-free</a> for <b>$15</b> (one-time payment) - press <b>Account</b> at the top!</p>"+"<p>Are you not aware of blocking ads? Read <a "+M+" href=\"//www.photopea.com/tuts/photopea-says-i-am-blocking-ads-but-i-am-not/\">this article</a>! :)"+" This button: <img style=\"width:20px; vertical-align:middle;\" src=\""+O+"\" /> will show you your extensions, which can modify Photopea (potential ad-blockers).</p>"+"<a "+M+" href=\"img/exts.png\"><img style=\"width:100%\" src=\"img/exts.png\" /></a>";
s.innerHTML=P}e6.prototype=new j9;e6.prototype.GK=function(s,M){this.body.style.width=Math.min(540,s-24)+"px"};
function iF(){j9.call(this,[0,13,0],"account");this.co=i.m("div","form scrollable");this.body.appendChild(this.co);
this.body.style.padding="0";this.nq=[new iF.LJ,new iF.Ue("::"+dB.$n("privacy.html")),new iF.Ue(iF.azW)];
for(var R=0;R<this.nq.length;R++)this.nq[R].parent=this;this.k("showpage",this.axP,this)}iF.prototype=new j9;
iF.prototype.N3=function(s,M){var O=navigator.onLine;if(!O)alert("Go online first");return O};iF.prototype.GK=function(s,M){i.P(this.co,"width:"+Math.min(s-40,740)+"px;  height:"+(M-38)+"px;  padding:1.5em;");
this.nq[0].GK(s,M)};iF.prototype.xc=function(s,M){return new j6(Math.max(0,Math.min(150,(s-740)/2)),Math.max(0,Math.min(100,(M-700)/2)))};
iF.prototype.axP=function(s){i.Lq(this.co);this.co.scrollTop=0;this.co.appendChild(this.nq[s.data.Fa]._)};
iF.prototype.T=function(){j9.prototype.T.call(this);for(var R=0;R<this.nq.length;R++)this.nq[R].T()};
iF.prototype.o3=function(s,M,O){if(!navigator.onLine)return;i.Lq(this.co);var P=this.nq[0];this.co.appendChild(P._);
P.o3();this.T()};iF.prototype.qy=function(s,M){this.o3(null,null,null)};iF.LJ=function(){hV.call(this);
this._=i.m("div");var s=this._,h,m,u="font-size:1.25em;",f="text-align:center;",C="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",H="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",t="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",D=12;
this.kV=i.m("div");s.appendChild(this.kV);this.wj=new fU([0,11],!1,null,!0);i.P(this.wj._,"background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.wj.k("click",this.rG,this);s.appendChild(this.wj._);this.aKE=new fU([0,13,1],!1,null,!0);this.aKE.k("click",this.asT,this);
s.appendChild(this.aKE._);this.aCe=new fU("Business Terms",!1,null,!0);this.aCe.k("click",this.aDW,this);
s.appendChild(this.aCe._);var M=i.m("div");M.style.margin="20px 0";s.appendChild(M);var O=["Account Types","Go Premium","Team Settings","Distributors","AI credits"],P=this.A5=[],y=this.aa4=[],F=this.SB=i.m("div");
s.appendChild(F);for(var R=0;R<O.length;R++){var A=i.m("span");A.textContent=O[R];M.appendChild(A);P.push(A);
i.P(A,"font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
A.addEventListener("click",this.C5.bind(this));y.push(i.m("div"))}this.C5(0);var Z=this.apM="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
s=y[0];var m=i.m("table"),U="style=\" "+f+u+" padding-bottom:20px;\"";m.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+t+">\t\t\t\t\t<div "+U+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+H+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+H+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+t+">\t\t\t\t\t<div "+U+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+H+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+H+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+H+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+H+">\u2713</span> 3,000 AI credits / month</li> \t\t\t\t\t\t\t<li><span "+H+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
s.appendChild(m);var A=new fU("Go Premium");i.P(A._,Z+"padding:10px 0;");A.k("click",function(_){this.C5(1)},this);
m.children[0].children[1].children[1].appendChild(A._);this.X_=i.m("div");s.appendChild(this.X_);s=y[1];
var X=this.aiK=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.nH=[];for(var R=0;R<X.length;R++)this.nH.push(new fU("Buy: $"+X[R][0],!1,null,!0));for(var R=0;
R<this.nH.length;R++){this.nH[R].k("click",this.a0m,this)}this.uZ=new fU("...",!0);i.P(this.uZ._,Z);
s.appendChild(this.uZ._);m=this.aG_(4,["Single user",this.nH[0],this.nH[1],this.nH[2],"Team of 5",this.nH[3],this.nH[4],this.nH[5],"Team of 20",this.nH[6],this.nH[7],this.nH[8],"Team of 50",this.nH[9],this.nH[10],this.nH[11]]);
s.appendChild(m);var Q=i.m("div");s.appendChild(Q);Q.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.ah7=new ho("I accept",!0,"");s.appendChild(this.ah7._);this.a1W=new fU([0,13,1],!1,null,!0);this.a1W.k("click",this.asT,this);
s.appendChild(this.a1W._);this.a2k=new fU("Promo Code",!1,null,!0);i.P(this.a2k._,Z+" float:right; width:inherit;");
this.a2k.k("click",this.a0m,this);s.appendChild(this.a2k._);s=y[2];this.Dg=new dw;this.Dg.parent=this;
this.Dg.k(z.E.n,this.Z5,this);s.appendChild(this.Dg._);this.Dg._.textContent="Log in to create or join teams.";
s=y[3];this.UD=new fU("...",!0);i.P(this.UD._,Z);s.appendChild(this.UD._);m=this.aG_(3,["1000 views/mo",this.nH[D++],this.nH[D++],this.nH[D++],"5000 views/mo",this.nH[D++],this.nH[D++],this.nH[D++],"20000 views/mo",this.nH[D++],this.nH[D++],this.nH[D++]]);
s.appendChild(m);var L=i.m("p");L.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
s.appendChild(L);this.g6=new hH("Domain name (e.g. domain.com)",null,14);s.appendChild(this.g6._);var E=new fU("Save Domain Settings",!1,null,!0);
E.Mg();s.appendChild(E._);E.k("click",this.abb,this)};iF.LJ.prototype=new hV;iF.LJ.prototype.C5=function(s){var M=typeof s=="number"?s:this.A5.indexOf(s.target);
for(var R=0;R<this.A5.length;R++)this.A5[R].style.opacity=.6;this.A5[M].style.opacity=1;i.Lq(this.SB);
this.SB.appendChild(this.aa4[M])};iF.LJ.prototype.GK=function(s,M){var O=s<600?"d":" days",P=["30 days","90 days","365 days"];
if(s<600)P=["30d","90d","365d"];var y=this.aiK;for(var R=0;R<y.length;R++){this.nH[R].x3("<span>"+P[R%3]+": <sup>$</sup><big><b>"+y[R][0]+"</b></big>"+"</span>");
i.P(this.nH[R]._,this.apM)}};iF.LJ.prototype.asT=function(s){var M=new kg("showpage",!0);M.data={Fa:1};
this.a(M)};iF.LJ.prototype.aDW=function(s){var M=new kg("showpage",!0);M.data={Fa:2};this.a(M)};iF.LJ.prototype.T=function(){this.wj.x3(dB.I9()?aW.get([0,11]):aW.get([0,10]));
this.a1W.T();this.aKE.T();this.aCe.T()};iF.LJ.prototype.akI=function(s){var M=new kg(z.E.c,!0);M.data={Q:z.J.xR,link:"https://www.photopea.com/api/accounts#"+(s.target==this.a2m?"teams":"distributors")};
this.a(M)};iF.LJ.prototype.axp=function(s){var M=s.currentTarget==this.aJf;this.aJf.q(M);this.agI.q(!M)};
iF.LJ.prototype.au6=function(s){var M=this.aJf.V(),O=this.arY.V().trim().toLowerCase(),P=this.aKA.value.trim().toLowerCase();
if(O.length>60){alert("Too long email address");return}if(P.length>600){alert("Too many team members");
return}P=P.split(",").join(" ").trim();P=P.replace(/\s+/g," ");if(P=="")P=[];else P=P.split(" ");var y=dB.iJ();
if(y==null)y={};if(y.acc==null)y.acc={};y.acc.team={jin:M,ldr:O,mmb:P};dB.Cf(y,this.Z5.bind(this));alert("Saved!");
this.o3()};iF.LJ.prototype.abb=function(s){var M=this.g6.V().trim();if(!dB.I9()){alert("You have to log in first.");
return}if(dB.qG()==0){alert("Order a distributor account first.");return}var O=dB.iJ();if(O==null)O={};
if(O.acc==null)O.acc={};if(M=="")delete O.acc.dname;else O.acc.dname=M;dB.Cf(O,this.Z5.bind(this));alert("Saved!");
this.o3()};iF.LJ.prototype.a6M=function(s){var M=dB.Nx(),R=this.hR,O=dB.iJ();if(O==null)O={};if(O.acc==null)O.acc={};
O.acc.bto=s;dB.Cf(O,function(){});var P=iF.a2Q(s.split("\n"),M.pmnts[R]);cD.save(P,"photopea_invoice.pdf")};
iF.LJ.prototype.aD7=function(s){var M=dB.Nx(),O=dB.iJ(),P=O&&O.acc?O.acc.bto:null;if(P==null)P=M.name+"\n"+M.email;
var R=-1,y=s.target._.parentNode;while((y=y.previousSibling)!=null)R++;this.hR=R;var F=new kg(z.E.c,!0);
F.data={Q:z.J.xL,Rj:"billto",dK:P,Xp:this.a6M.bind(this)};this.a(F)};iF.LJ.prototype.o3=function(){this.kV.innerHTML="";
i.Lq(this.X_);this.aa4[4].innerHTML="AI credits are available only to Premium users.";if(dB.I9()){var s=dB.Nx(),M=s.pmnts;
if(s==null)return;this.kV.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+s.name+"</span> "+s.email+" <br/>";
if(M){var O="<h2>Payments</h2>";for(var R=0;R<M.length;R++){var P=M[R],y=new Date(P[0]*1e3);O+="<div style=\"font-size:1.2em\">"+y.getDate()+"th of "+y.toDateString().split(" ")[1]+" "+y.getFullYear()+" - "+iF.amN(P)+"</div>"}this.X_.innerHTML=O;
for(var R=0;R<M.length;R++){var F=new fU("Get Invoice",!1,null,!0);i.P(F._,"float:right");F.k("click",this.aD7,this);
this.X_.children[R+1].appendChild(F._)}}}else{}var A=dB.I9()&&dB.Mo();this.uZ._.style.display=A?"block":"none";
if(A){var h,m,Z=A,O="<table><tr><th>Month</th><th>AI credits spent</th></tr>";if(Z[0]==0){h=dB.SV(Z[1])-Date.now()*(1/1e3);
m=Z[1][2]==1?"Single User":"Team Of "+Z[1][2]}else{h=Z[1][1]-Date.now()*(1/1e3);m="Member of \""+Z[1][0]+"\""}this.uZ.x3("Premium active for "+Math.round(h/(60*60*24))+" more days! ("+m+")");
var u=this.aa4[4];i.Lq(u);for(var f=ck.Ck();f>=648;f--){var U=1970+Math.floor(f/12),C=f%12,y=new Date(U,C,2);
O+="<tr><td>"+U+" "+y.toDateString().split(" ")[1]+"</td><td>"+ck.aqY(f)+"</td></tr>"}var H=ck.ask(ck.Ck()+1)-Date.now(),t=Math.floor(H/(24*60*6e4));
H-=t*24*60*6e4;var X=Math.floor(H/(60*6e4));H-=X*60*6e4;var C=Math.floor(H/6e4);H-=C*6e4;O="New period starts in "+t+" days, "+X+" hours, "+C+" mins"+O;
u.innerHTML=O+"</table>"}var Q=dB.I9()&&dB.qG()*1e3>Date.now();this.UD._.style.display=Q?"block":"none";
if(Q){var h=dB.qG()-Date.now()/1e3;this.UD.x3("Distributor active for "+Math.round(h/(60*60*24))+" more days!")}var D=dB.iJ();
this.Dg.o3();if(D&&D.acc&&D.acc.dname)this.g6.q(D.acc.dname);else this.g6.q("")};iF.LJ.prototype.aG_=function(s,M){var O=i.m("table");
if(!0){var P="<table><tr>";for(var R=0;R<s;R++)P+="<th>"+M[R*4]+"</th>";P+="</tr></table>";O.innerHTML=P;
for(var R=0;R<3;R++){var y=i.m("tr"),F;O.appendChild(y);for(var A=0;A<s;A++){F=i.m("td");F.style.width=Math.round(100/s)+"%";
y.appendChild(F);F.appendChild(M[A*4+1+R]._)}}}return O};iF.LJ.prototype.a0m=function(s){var M=this.nH.indexOf(s.currentTarget),P=30,y=1;
if(!dB.I9()){this.rG();return}if(this.ah7.V()==!1&&M<12){alert("You must accept Terms of Service");return}var O=dB.I9()&&dB.Mo();
if(M!=-1){var F=this.aiK[M];P=F[1];y=F[2]}if(O&&y<1e3){alert("You already have premium.");return}console.log(F,P,y);
if(M==-1){var A=prompt("Please enter your key");if(A!=null){dB.ahC(A,this.Z5.bind(this));this.Ej()}return}if(P==30&&y==1){var h=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!h)return}dB.order(P,y,this.Z5.bind(this));this.Ej()};iF.LJ.prototype.Z5=function(s){this.o3();this.Ej()};
iF.LJ.prototype.rG=function(s){if(dB.I9()){dB.aed();this.Ej();this.o3(null,null,null)}else dB.rG(this.a0f.bind(this))};
iF.LJ.prototype.a0f=function(){var s=new kg(z.E.c,!0);s.data={Q:z.J.aAg};this.a(s)};iF.LJ.prototype.Ej=function(){var s=new kg(z.E.c,!0);
s.data={Q:z.J.aGZ};this.a(s)};iF.Ue=function(s){hV.call(this);this._=i.m("div");var M=this._,O=this.aKd=new fU([0,13,2],!1,null,!0),P;
O.k("click",this.afN,this);M.appendChild(O._);if(s.startsWith("::")){P=i.m("iframe");i.P(P,"width:100%;height:1700px; background-color:white;");
P.setAttribute("src",s.slice(2))}else{P=i.m("div");P.innerHTML=s}M.appendChild(P)};iF.Ue.prototype=new hV;
iF.Ue.prototype.afN=function(s){var M=new kg("showpage",!0);M.data={Fa:0};this.a(M)};iF.Ue.prototype.T=function(){this.aKd.T()};
iF.azW="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
iF.amN=function(s){var M=s[1]+" days, ";if(s[2]<1e3)return"Photopea Premium ("+M+s[2]+" user"+(s[2]==1?"":"s")+")";
else return"Photopea Distributor ("+M+s[2]+" views/month)"};iF.a2Q=function(s,M){s=["Bill To:"].concat(s);
var O=new ToPDF,P=595,y=842,F=40,A=18,h=12,m=500,Z=100,u=400,t=0;function f(V,b,N,J,K){C.font.Tf=K?"Helvetica-Bold":"Helvetica";
C.ctm=[1,0,0,1,b,N];C.font.Tfs=J?J:h;O.PutText(C,V,0)}function U(V,b,N,J){for(var R=0;R<V.length;R++){f(V[R],b,N-R*J,null,R==0)}}var C=UDOC.getState();
O.StartPage(0,0,P,y);f("INVOICE",P-F-140,y-F-30,30,!0);U(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],F,y-F-40,A);
var H=new Date(M[0]*1e3);U(["Date: "+H.getDate()+"th of "+H.toDateString().split(" ")[1]+" "+H.getFullYear(),"Transaction ID: "+M[4]],P-F-140,y-F-40-A*2,A);
var X=s.join("");for(var R=0;R<X.length;R++)t=Math.max(t,X.charCodeAt(R));if(t>256){var Q=4,D=i.m("canvas"),L=D.getContext("2d"),E=0;
L.font=h*Q+"px sans-serif";for(var R=0;R<s.length;R++)E=Math.max(E,L.measureText(s[R]).width);var _=Math.round(E)+20,S=s.length*Q*A+20;
D.width=_;D.height=S;L.font=h*Q+"px sans-serif";for(var R=0;R<s.length;R++){L.font=(R==0?"bold ":"")+h*Q+"px sans-serif";
L.fillText(s[R],10,(R+1)*Q*A)}document.body.appendChild(D);var W=new Uint8Array(L.getImageData(0,0,_,S).data.buffer);
C.ctm=[_/Q,0,0,S/Q,F-10/Q,y-F-40-100-S/Q];O.PutImage(C,W,_,S);C.ctm=[1,0,0,1,0,0]}else U(s,F,y-F-40-100,A);
C.colr=[.8,.8,.8];C.pth={cmds:["M","L","L","L","Z"],crds:[F,m,P-F,m,P-F,m-A,F,m-A]};O.Fill(C);C.colr=[0,0,0];
var g=[F,m,P-F,m,F,m-A,P-F,m-A,F,m-Z,P-F,m-Z,F,m,F,m-Z,P-F,m,P-F,m-Z,u,m,u,m-Z],x=[];for(var R=0;R<g.length;
R+=4)x.push("M","L");C.pth={cmds:x,crds:g};O.Stroke(C);f("Order details",F+4,m-14);f(iF.amN(M),F+4,m-A-14);
f("TOTAL:",F+4,m-Z-14,null,!0);f("Price",P-F-50,m-14);f(M[3]+" USD",P-F-60,m-A-14);f(M[3]+" USD",P-F-60,m-Z-14,null,!0);
f("www.Photopea.com",F,F);f("support@photopea.com",P-F-130,F);O.ShowPage();O.Done();return O.buffer};
function b3(){j9.call(this,[11,14],"addguides");this.lX;this.f={QZ:{DQ:0}};this.aIP=null;var s=i.m("div","form");
this.body.appendChild(s);this.oQ=[];this.AW=new e0(null,["Hi"]);s.appendChild(this.AW._);i.QP(s);this.AW.k(z.E.n,this.RB,this);
this.Bd=new hH([22,4,0],null,16);this.Bd.k(z.E.n,this._C,this);this.q6=new hH([22,4,1],null,16);this.q6.k(z.E.n,this._C,this);
this.gI=new d_(null,a.f8.e3);this.gI.k(z.E.n,this._C,this);s.appendChild(this.Bd._);s.appendChild(this.gI._);
i.QP(s);s.appendChild(this.q6._);this.jx=i.Bn(this,s);this.k("closebtn",this.mM,this)}b3.prototype=new j9;
b3.prototype.N3=function(s,M){return s!=null};b3.prototype.bA=function(){return!0};b3.prototype.T=function(){j9.prototype.T.call(this);
this.Bd.T();this.q6.T();this.gI.T();this.jx.T()};b3.prototype.qy=function(s,M){var O=s.QZ.DQ;this.f.QZ.DQ=O;
this.gI.q(O)};b3.prototype.o3=function(s,M){this.lX=s;this.aIP=JSON.stringify(s.T_());this.oQ=[-1];var O=["Global"],P=s.root.children,y=s.E8();
for(var R=0;R<P.length;R++){var F=P[R].w;if(F.add.artb){O.push(F.getName());this.oQ.push(P[R].index)}}this.AW.ZG(O);
this.AW.q(this.oQ.indexOf(y));this.RB()};b3.prototype.RB=function(){var s=this.lX,M=s.T_(),O=this.oQ[this.AW.V()],P=[0,0];
if(O!=-1){var y=s.U[O].Kj();P=[y.x,y.y]}var F=function(A,h,s,m,Z){var u=A[0],f=[];for(var R=0;R<u.length;
R++)if(A[1][R]==O&&u[R][0]==h)f.push(a.f8.mE(u[R][1]-P[h],s.FR,m,Z));f.sort(function(U,C){return U-C});
return f.join(", ")};this.Bd.q(F(M,1,s,this.f,s.$));this.q6.q(F(M,0,s,this.f,s.A))};b3.prototype._C=function(s){if(s&&s.currentTarget==this.gI)this.f.QZ.DQ=this.gI.V();
else{var M=this.aqL(),O=this.lX;O.gt(M);O.G_=!0}this.RB()};b3.prototype.aqL=function(){var s=this.lX,M=s.T_(),O=this.oQ[this.AW.V()],P=[0,0];
if(O!=-1){var y=s.U[O].Kj();P=[y.x,y.y]}var F=[];for(var A=0;A<2;A++){var h=A==0?this.q6:this.Bd,m=A==0?s.A:s.$,Z=h.V().replace(/,/g," ").replace(/  +/g," ").trim(),u=Z==""?[]:Z.split(" ");
for(var R=0;R<u.length;R++)F.push([A,a.f8.aLs(u[R],s.FR,this.f,m)+P[A]])}for(var R=0;R<M[0].length;R++)if(M[1][R]==O){M[0].splice(R,1);
M[1].splice(R,1);R--}for(var R=0;R<F.length;R++){M[0].push(F[R]);M[1].push(O)}return M};b3.prototype.mM=function(s){var M=this.lX;
M.gt(JSON.parse(this.aIP));M.G_=!0;this.lX=null};b3.prototype.Mk=function(s){this._C(s);var M=new kg(z.E.H,!0);
M.l=$.ht;M.data={Q:"gids",_Z:JSON.parse(this.aIP),Cy:this.lX.T_()};this.lX=null;this.close();this.a(M)};
function at(s){j9.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[s],s);
this.f=null;this.lX=null;this.r0=null;var M=i.m("div","form");this.body.appendChild(M);i.P(M,"width:300px");
this.mQ=new hf("Source Images",!0,!0);M.appendChild(this.mQ._);this.aKD=new d_([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.x$=new ho("Order images by name");this.x$.q(!0);var O=this.a7R=b_.qm();for(var R=0;R<O.length;R++)if(b_.O7(O[R]).uQ){O.splice(R,1);
R--}O.push("SVG","PDF");this.IV=new d_([12,50],O);this.IV.q(1);this.Uo=new dK;this.IV.k(z.E.n,this.Wk,this);
this._c=new d_("Action Set",[]);this._c.k(z.E.n,this.qy,this);this.aqd=new d_("Action",[]);this.ah8=new ho("Apply to all opened documents");
this.atc=new ho("Stretch inserted images");this.atc.q(!0);this.bh=new ho("Resize");this.bh.k(z.E.n,this.ayp,this);
var P=this.awW=i.m("div","label6");this.Sx=new hQ([12,41],1,5e3,"px",0,null,null,5);this.Sx.parent=this;
this.Sx.q(1e3);this.lP=new hQ([12,42],1,5e3,"px",0,null,null,5);this.lP.parent=this;this.lP.q(1e3);P.appendChild(this.Sx._);
i.QP(P);P.appendChild(this.lP._);if(s=="pdfpres"){M.appendChild(this.aKD._);M.appendChild(this.x$._)}else{if(s=="batch"){M.appendChild(this._c._);
i.QP(M);M.appendChild(this.aqd._);i.yV(M)}if(s=="mockups"){M.appendChild(this.ah8._);M.appendChild(this.atc._);
i.QP(M)}if(s=="resize"){this.bh.q(!0)}else{M.appendChild(this.bh._);i.QP(M)}M.appendChild(P);this.ayp();
i.yV(M);M.appendChild(this.IV._);M.appendChild(this.Uo._)}var y=["VAR0 PDF",[1,8]];if(s=="cformat")y="Convert Images";
if(s=="batch")y="Process Images";if(s=="mockups")y="Generate";if(s=="resize")y="Resize Images";var F=this.kf=new fU(y,!0,null,!0);
F.k("click",this.W8,this);M.appendChild(F._);this.Wk();this.nk=-1;this.B7=null}at.prototype=new j9;at.prototype.ayp=function(s){this.awW.style.display=this.bh.V()?"":"none"};
at.prototype.Wk=function(s){var M=this.a7R[this.IV.V()];this.Uo.m6(M)};at.prototype.W8=function(s){this.B7=null;
if(this.id=="mockups"&&this.r0.length>1&&this.ah8.V()){this.B7={};this.nk=0}this.k5()};at.prototype.k5=async function(){this.kf.XX();
var s=Date.now(),M=this.mQ.V(),O=[],F=595,A=842,H,t,X,Q;for(var P in M)O.push(P);if(O.length==0){alert("No images selected");
return}if(this.x$.V())O.sort();var y=this.aKD.V(),h=new ToPDF,m=UDOC.getState(),Z=this.a7R[this.IV.V()],u=b_.O7(Z),f=this.Uo.V(),U={},C=this.lX;
if(this.B7)C=this.r0[this.nk];if(this.id=="mockups"){if(C==null){alert("Open a document with smart objects");
return}var D=C.U[C.Y[0]];if(D.add.SoLd==null){D=null;for(var R=0;R<C.U.length;R++)if(C.U[R].add.SoLd)D=C.U[R];
if(D==null){alert("There are no smart objects in a current document.");return}}C.Y=[C.U.indexOf(D)];
var L=D.add.SoLd;t=C.gX(L.Idnt.v);X=t.EV;Q=t.zL;H=L.Sz.v}for(var E=0;E<O.length;E++){var P=O[E],_=M[P],S=_[0]==255,W=b_.WG(_.buffer),g=b_.O7(W),x=[{IK:new gi,data:new ArrayBuffer(0)}],V=null;
if(W=="psd"&&!u.uQ)x=jv.aiy(_.buffer);else if(g.uQ){V=new fr("file.psd");g.AR(_.buffer,V);V.DA();if(!u.uQ){if(V.Jf)bZ.uc(V,this.f.s4,this);
V.vw();V.kp();x=[{IK:new gi(0,0,V.A,V.$),data:V.Ta().buffer}]}}else if(g.$c){x=await b_.aAq(g,_.buffer);
console.log(x)}else x=g.AR(_.buffer);if(this.id=="batch"){var b=new kg(z.E.c,!0),N=this.f,J=N.Cn,K=J[this._c.V()];
for(var R=0;R<x.length;R++){if(g.uQ&&u.uQ){}else V=b_.T7(P,[x[R]]);b.data={Q:z.J.ma,ZK:V};this.a(b);
if(V.U.length==3)V.Y=[1];f7.af1(V,J,K.SB[this.aqd.V()].SD,K.SD,this);V.vw();V.kp();x[R].IK=new gi(0,0,V.A,V.$);
x[R].data=V.Ta().buffer;x[R].FR=V.FR;x[R].Uh=V.Uh;b.data={Q:z.J.RZ,yF:V};this.a(b)}}if(this.id=="mockups"){var q=new Uint8Array(x[0].data),l=x[0].IK,T=H.Wdth.v,B=H.Hght.v;
if(!this.atc.V()){var p=l.A,I=l.$,w=p/I,e=T/B;if(e>w)p=Math.ceil(I*e);else I=Math.ceil(p/e);l.x=p-l.A>>>1;
l.y=I-l.$>>>1;var G=new gi(0,0,p,I),j=a.j(p*I*4);a.FP(q,l,j,G);q=j;l=G}var o=$.TR.GI([q,l],new kp(T/l.A,0,0,B/l.$,0,0));
t.EV=[o.buffer,o.S];a.pT(t.EV);t.zL=o.S;t.aCm=!1;C.a7l(t.Xh);x=[{data:a.Gp(C.Ta(),8).buffer,IK:new gi(0,0,C.A,C.$),FR:C.FR,Uh:C.Uh,j0:C.j0}]}if(this.bh.V()){var r=x[0].IK,k=Math.min(this.Sx.V()/r.A,this.lP.V()/r.$);
if(k<1)for(var R=0;R<x.length;R++){var q=new Uint8Array(x[R].data),l=x[R].IK,o=$.TR.GI([q,l],new kp(k*.999999,0,0,k*.999999,0,0));
x[R].data=o.buffer.buffer;x[R].IK=o.S}}var r=x[0].IK,a7=new Uint8Array(x[0].data),Y=r.A,v=r.$;if(this.id=="pdfpres"){var n=[[595,842],[842,595],[595,595],[595,0]][y];
if(y==3)n[1]=Math.round(n[0]*v/Y);var F=n[0],A=n[1],cm=Math.min(F/Y,A/v);h.StartPage(0,0,F,A);m.ctm=[Y*cm,0,0,v*cm,(F-Y*cm)/2,(A-v*cm)/2];
h.PutImage(m,S?_:a7,Y,v);h.ShowPage()}else{var a5=P.split("."),gP;a5.pop();a5.push(Z.toLowerCase());
if(u.uQ){if(V==null){V=b_.T7(P,x);V.DA()}gP=u.u6(V,V.A,V.$,f,this.f)}else{var cg=[];for(var R=0;R<x.length;
R++){var a9=x[R],ew=a9.GF,h7=0;if(ew){ew=ew.split(",");if(ew[1])h7=parseInt(ew[1])}cg.push([a9.data,h7,a9.FR,a9.j0,null,a9.Uh])}if(u.$c)gP=await u.u6(cg,Y,v,f);
else gP=u.u6(cg,Y,v,f)}U[a5.join(".")]=new Uint8Array(gP)}}if(this.id=="mockups"){t.EV=X;t.zL=Q;C.a7l(t.Xh)}console.log(Date.now()-s);
if(this.id=="pdfpres"){h.Done();this.YL(h.buffer,"file.pdf")}else{var bh="images";if(this.id=="mockups")bh=C.name.slice(0,C.name.length-4);
if(this.B7){for(var P in U)this.B7[bh+"/"+P]=U[P];this.nk++;if(this.nk==this.r0.length){this.YL(UZIP.encode(this.B7),"images.zip");
this.B7=null}else this.k5()}else this.YL(UZIP.encode(U),bh+".zip")}};at.prototype.YL=function(s,M){this.kf.Zc();
dB.event("auto_"+this.id);cD.save(s,M)};at.prototype.o3=function(s,M,O,P){this.lX=s;this.r0=O};at.prototype.qy=function(s,M){if(M!=null){this.f=s;
var O=s.Cn,P=[];for(var R=0;R<O.length;R++)P.push(O[R].SD);this._c.ZG(P)}else s=this.f;var O=s.Cn.length==0?[]:s.Cn[this._c.V()].SB,P=[];
for(var R=0;R<O.length;R++)P.push(O[R].SD);this.aqd.ZG(P)};at.prototype.T=function(){j9.prototype.T.call(this);
this.Uo.T();this.Sx.x3("Max. "+aW.get([12,41])+":");this.lP.x3("Max. "+aW.get([12,42])+":");this.mQ.T();
this.aKD.T();this.x$.T()};function fW(s){var M=bW.names[s];if(M==null)M=ak.names[s];if(s=="aply")M=[2,12];
if(s=="fade")M=[2,11];if(s=="matc")M=[4,18];if(s=="blendOptions")M=[14,10];j9.call(this,M,"afw_"+s);
this.OT=s;this.JR=null;this.ax2=null;this.acW=!1;this.Wy=new aB[s];this.Wy.k(z.E.n,this.pM,this);this.Wy.parent=this;
this.body.appendChild(this.Wy._);this.r9=new ho([24,18,5]);this.r9.q(!0);this.r9.k(z.E.n,this.pM,this);
this.a4n=new fU([1,12,2],!0,null,!0);this.a4n.k("click",this.sv,this);this.jx=i.Bn(this);if(this.N$())this.Wy.LV(this.jx._);
else{i.cG(this.Wy._,"form");var O=this._1=i.m("div","form");this.body.appendChild(O);O.appendChild(this.jx._);
O.appendChild(this.a4n._);O.appendChild(this.r9._)}this.k("closebtn",this.lH,this)}fW.prototype=new j9;
fW.prototype.bA=function(){return!0};fW.prototype.N$=function(){return this.Wy!=null&&this.Wy.KB()};
fW.prototype.xc=function(){return this.N$()?new j6(0,0):j9.prototype.xc()};fW.prototype.cZ=function(s){return this.Wy.cZ(s)};
fW.prototype.Ls=function(){return this.Wy.Ls()};fW.prototype.nD=function(s,M,O,P,y){this.Wy.nD(s,M,O,P,y)};
fW.prototype.nh=function(s,M,O,P,y){this.Wy.nh(s,M,O,P,y)};fW.prototype.Cq=function(s,M,O,P,y){this.Wy.Cq(s,M,O,P,y)};
fW.prototype.N3=function(s,M){if(this.OT=="fade")return fW.aca(s);return!0};fW.prototype.sv=function(s){this.Wy.q(bW.Jb(this.OT));
this.pM()};fW.prototype.pM=function(s){var M=this.Wy,O=M.V(),P=this.acW?M.sr():0;if(P!=0)O.showClipping={t:"long",v:P};
this.C0({Q:"edit",rM:O,gD:!this.r9.V()})};fW.prototype.lH=function(s){this.C0({Q:"cancel"})};fW.prototype.Mk=function(s){if(!this.r9.V()){this.r9.q(!0);
this.pM()}this.ax2=this.Wy.V();if(this.N$())this.pM();this.C0({Q:"confirm"});this.close()};fW.prototype.T=function(){j9.prototype.T.call(this);
this.r9.T();if(this.Wy)this.Wy.T();this.jx.T()};fW.prototype.qy=function(s,M){if(this.Wy)this.Wy.qy(s,M)};
fW.prototype.lJ=function(s,M,O,P){this.acW=P.D(hj.tT);if(this.OT=="levl"||this.OT=="curv")this.pM();
if(this.N$())this.Wy.lJ(P);else j9.prototype.lJ.call(this,s,M,O,P)};fW.prototype.o3=function(s,M,O,P){this.JR=M.JR;
var y=s.add.lnk2?s.add.lnk2:[],F,A,h=new gi(0,0,s.A,s.$),m=s.U[s.Y[0]],u=null;F=m.buffer;A=m.S;var Z=s.h&&this.OT=="LqFy"&&M.JR==null;
if(Z){A=s.h.S.v();F=a.j(A.C()*4);a.FP(m.buffer,m.S,F,A)}if(this.N$()){u=s.Ta(s.Y[0]-1);if(Z){var f=a.j(A.C()*4);
a.FP(u,h,f,A);h=A.v();u=f}}var U=bW.Jb(this.OT);if(M.vA)U=M.vA;var C=[y,s.dj,s,O];if(M.JR==null){this.Wy.q(U,F,A,h,u,C);
if(ak.names[this.OT]){if(P.D(hj.tT)&&this.ax2)this.Wy.q(this.ax2);var H=$.LB.getData(s),t=a.Un(H[0].OC);
this.Wy.uj(t)}}else{var X=!1,m=s.U[this.JR.w];if(m.o7()){var Q=m.UU(s);F=Q.buffer;A=Q.S;var D=m.add.SoLd.filterFX.v.filterFXList.v;
if(D[this.JR.index]){var L=D[this.JR.index].v;this.Wy.q(this.OT=="blendOptions"?L.blendOptions.v:L.Fltr.v,F,A,h,u,C);
this.Wy.uj(a.Un(F));X=!0}}if(!X){this.Wy.q(U,F,A,h,u,C);this.Wy.uj(a.Un(F))}}if(!this.N$()){this.pM();
var E=this.Wy;if(E&&E.zO&&E.zO[0]&&E.zO[0].a7&&Math.min(window.innerWidth,window.innerHeight)>500)E.zO[0].a7()}};
fW.prototype.C0=function(s){var M=new kg(z.E.H,!0);s.OT=this.OT;s.JR=this.JR;if(this.OT=="VaPo"){s.K=this.Wy.V();
s.qJ=this.Wy.aan()}M.data=s;M.l=bW.names[this.OT]||this.JR?$.JG:$.sA;M.T8=!0;this.a(M)};fW.prototype.GK=function(s,M){if(!this.Wy.KB()){var O="",P="width:312px",y="100%";
if(500<s){O+="width:8em; margin-left:1em;";i.cG(this.body,"flexrow")}else{O+="margin-top:1em";i.VV(this.body,"flexrow");
y="100px"}this.jx._.style.width=y;this.a4n._.style.width=y;i.P(this._1,O);i.P(this.Wy._,P)}else{this.body.style.padding="0";
this.Wy.GK(s,M)}};fW.aca=function(s){if(s==null)return!1;var M=s.tX();if(M==null||!(M.data instanceof Array)||M.data.length!=s.Y.length)return!1;
for(var R=0;R<M.data.length;R++){var O=M.data[R];if(O.w<0&&s.dj[-1-O.w])return!0;if(O.w==null||s.U[O.w]==null||s.U[O.w].KV!=O.Sm)return!1;
if(s.Y.indexOf(O.w)==-1)return!1}return!0};function i4(){j9.call(this,[11,0],"camera");this.data=null;
this.aoa=new j6(1,1);this.a7e=[];var s=i.m("div","form hbar");this.body.appendChild(s);this.aGG=new d_(null,[]);
this.a6C=new d_([21,0],[[21,2],[21,1]]);s.appendChild(this.a6C._);this.pH=new d_(null,[]);this.pH.k(z.E.n,this.alN,this);
s.appendChild(this.pH._);this.afJ=new fU([11,0],!1,null,!0);this.afJ.k("click",this.atk,this);s.appendChild(this.afJ._);
this.amn=new df("");s.appendChild(this.amn._);this.stream=null;this.DC=i.m("video");this.DC.setAttribute("autoplay","true");
this.body.appendChild(this.DC);this.aJa=this.aol.bind(this);this.aJ2=this.aaj.bind(this);this.a8D=this.arD.bind(this);
this.k("closebtn",this.ab6,this)}i4.prototype=new j9;i4.prototype.T=function(){j9.prototype.T.call(this);
this.a6C.T();this.afJ.T();this.GK(this.V5,this.fw)};i4.prototype.Ta=function(){var s=this.DC.videoWidth,M=this.DC.videoHeight,O=i.m("canvas","");
O.width=s;O.height=M;var P=O.getContext("2d");P.drawImage(this.DC,0,0,s,M);var y=P.getImageData(0,0,s,M);
return{IK:new gi(0,0,s,M),data:y.data.buffer}};i4.prototype.atk=function(s){if(this.a6C.V()==0)this.aIh();
else this.azB()};i4.prototype.azB=function(){var s=this.Ta(),M={buffer:new Uint8Array(s.data),S:s.IK},O=new kg(z.E.H,!0);
O.T8=!0;O.l=$.mu;O.data={Q:ad.Z8,PA:M};this.a(O);alert(aW.get([21,4]))};i4.prototype.aIh=function(){var s=this.Ta(),M=b_.T7("camera",[s]),O=new kg(z.E.c,!0);
O.data={Q:z.J.ma,ZK:M};this.a(O);alert(aW.get([21,5]))};i4.prototype.o3=function(s,M,O){navigator.mediaDevices.enumerateDevices().then(this.aa8.bind(this))};
i4.prototype.aa8=function(s){var M=this.a7e=[],O=[];for(var R=0;R<s.length;R++)if(s[R].kind=="videoinput"){M.push(s[R]);
O.push("Camera "+M.length)}this.pH.ZG(O);this.pH.q(0);this.alN()};i4.prototype.alN=function(s){this.ab6();
var M={video:{deviceId:this.a7e[this.pH.V()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(M).then(this.aJa).catch(this.aJ2);
else navigator.webkitGetUserMedia(M,this.aJa,this.aJ2)};i4.prototype.aol=function(s){this.stream=s;this.DC.srcObject=s;
this.DC.addEventListener("loadedmetadata",this.a8D,!1)};i4.prototype.arD=function(s){this.DC.play();
this.GK(this.V5,this.fw)};i4.prototype.xc=function(s,M){return new j6(0,0)};i4.prototype.GK=function(s,M){var O=this.DC.videoWidth,P=this.DC.videoHeight;
this.amn.q(O+" x "+P+" px");i.P(this.amn._,"position:absolute;  left:14px; bottom:10px; z-index:1;");
this.aoa.ee(O,P);this.V5=s;this.fw=M;var y=s-28,F=M-28-30,A=this.aoa.x/this.aoa.y;if(y/F>A)y=F*A;else F=y/A;
i.P(this.DC,"display: block; width: "+Math.round(y)+"px; height:"+Math.round(F)+"px;")};i4.prototype.aaj=function(s){console.log("error",s);
alert(aW.get([21,6]));this.close()};i4.prototype.ab6=function(s){if(this.stream!=null){var M=this.stream.getTracks();
for(var R=0;R<M.length;R++)M[R].stop();this.stream=null}};function kD(){j9.call(this,[7,8],"crange");
this.lX=null;this.xi={Yk:73,cd:4.45,X:4};this.at={Yk:73,cd:4.45,X:4};this.body.style.width="20em";this.bo=new d_([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.bo.k(z.E.n,this.atO,this);this.body.appendChild(this.bo._);this.J3=i.m("div","form");this.body.appendChild(this.J3);
var s=this.a7J=2,M=this.Z7=[new jH([12,92],0,200),new e0([12,36],[[18,0],"\uFF0B","-"]),new jH([12,92],0,100,"%"),new hQ("Min",0,255),new hQ("Max",0,255)];
M[0].q(40);M[s].q(40);for(var R=0;R<M.length;R++){M[R].k(z.E.n,this.gq,this);M[R].parent=this}this.Tb=i.m("canvas");
this.body.appendChild(this.Tb);this.jx=i.Bn(this,this.body)}kD.prototype=new j9;kD.prototype.N3=function(s,M){return s!=null};
kD.prototype.Ls=function(){return!0};kD.prototype.bA=function(){return!0};kD.prototype.atO=function(s){var M=this.bo.V(),O=this.Z7,P=this.J3,y=0,F=O.length,A=this.a7J;
if(M==0)F=A;else{y=A;O[y+1].q([0,100,190][M-1]);O[y+1].oo(M!=1);O[y+2].q([60,150,255][M-1]);O[y+2].oo(M!=3)}i.Lq(P);
for(var R=y;R<F;R++){P.appendChild(O[R]._)}this.gq()};kD.prototype.T=function(){j9.prototype.T.call(this);
this.jx.T();this.bo.T();for(var R=0;R<this.Z7.length;R++)this.Z7[R].T()};kD.prototype.nD=function(s,M,O,P,y){var F=s.i.ni(y.x,y.y);
this.arQ(F.x,F.y)};kD.prototype.arQ=function(s,M){var O=Math.min,P=Math.max,y=this.lX,F=P(0,O(y.A-1,Math.floor(s))),A=P(0,O(y.$-1,Math.floor(M))),h=y.Ta(),m=(A*y.A+F)*4,Z=255/a.Cs(y.depth),u=h[m],f=h[m+1],U=h[m+2],C=a.H8(u*Z,f*Z,U*Z),H=this.Z7[1].V(),t=this.xi,X=this.at;
if(H==0){this.xi=a.G(C);this.at=C}else if(H==1){t.Yk=O(t.Yk,C.Yk);t.cd=O(t.cd,C.cd);t.X=O(t.X,C.X);X.Yk=P(X.Yk,C.Yk);
X.cd=P(X.cd,C.cd);X.X=P(X.X,C.X)}else if(H==2){var Q=(t.Yk+X.Yk)/2,D=(t.cd+X.cd)/2,L=(t.X+X.X)/2;if(C.Yk<Q)t.Yk=P(t.Yk,C.Yk+10);
else X.Yk=O(X.Yk,C.Yk-10);if(C.cd<D)t.cd=P(t.cd,C.cd+1);else X.cd=O(X.cd,C.cd-1);if(C.X<L)t.X=P(t.X,C.X+1);
else X.X=O(X.X,C.X-1)}this.gq()};kD.prototype.Mk=function(s){var M=this.bo.V(),O=this.Z7,P={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(M==0){var y=this.xi,F=this.at;P.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:y.Yk},A:{t:"doub",v:y.cd},B:{t:"doub",v:y.X}}};
P.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:F.Yk},A:{t:"doub",v:F.cd},B:{t:"doub",v:F.X}}};P.Fzns={t:"long",v:O[0].V()}}else{M--;
var A=["shadows","midtones","highlights"][M];P.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][M]}};if(0<M)P[A+"LowerLimit"]={t:"long",v:O[3].V()};
if(M<2)P[A+"UpperLimit"]={t:"long",v:O[4].V()};P[A+"Fuzziness"]={t:"long",v:O[2].V()}}this.close();var h=new kg(z.E.fa,!0);
h.data={Cw:"colorRange",kT:P};this.a(h)};kD.prototype.o3=function(s,M){this.lX=s;this.arQ(0,0);this.atO()};
kD.prototype.gq=function(){var s=this.lX,M=this.bo.V(),O=this.xi,P=this.at,y=this.Z7,F=y[0].V()/200,A=!1;
if(M>0){O=y[3].V();P=y[4].V();if(O>=P)O=P-1;A=!0;F=y[2].V()/100}var h=$.vm.k3(s,O,P,F,A),m=h.S,Z=h.N,u=this.Tb,f=u.getContext("2d"),U=Math.floor(230*i.yD()),C=Math.floor(U*(m.$/m.A));
u.width=U;u.height=C;i.cq(u,U,C);var H=a.j(Z.length*4);H.fill(255);a.Rm(a.Gp(Z,8),H,R);var t=$.TR.GI([H,m],new kp(U/m.A,0,0,C/m.$,0,0)),X=t.S,Q=new ImageData(new Uint8ClampedArray(t.buffer.buffer),X.A,X.$);
f.putImageData(Q,0,0)};function ka(){j9.call(this,[12,76,1],"createshape");this.RQ=null;var s=i.m("div","form");
i.P(s,"width:20em");this.body.appendChild(s);this.p_=new e5(!0,!0,null,!0,!0);this.p_.q(new j6(100,100));
s.appendChild(this.p_._);this.aG8=new ho([19,5,3]);s.appendChild(this.aG8._);this.jx=i.Bn(this,s)}ka.prototype=new j9;
ka.prototype.Mk=function(s){var M=this.p_.V();this.RQ.abj(this.RQ.a0F,M.x,M.y,this.aG8.V());this.close()};
ka.prototype.T=function(){if(this.RQ)this.wb=aW.get([5,3])+": "+aW.get(this.RQ.a3E);j9.prototype.T.call(this);
this.jx.T();this.p_.T();this.aG8.T()};ka.prototype.o3=function(s,M){this.RQ=M;this.T();this.p_.q(this.p_.V(),s.FR)};
function eE(){j9.call(this,[11,1],"colorpicker");this.xt=null;this.Ma=null;this.St=null;this.h9=!1;this.jG=!1;
this.aD9=[.9642,1,.8249];var s=i.m("div","flexrow"),A,h;this.body.appendChild(s);this.Uu=new cH(256,!0);
this.Uu.k(z.E.n,this.sG,this);s.appendChild(this.Uu._);var M=i.m("div","form");i.P(M,"width:14.5em; margin-left:1em;");
s.appendChild(M);var O=i.m("div","flexrow");M.appendChild(O);var P=i.m("div");O.appendChild(P);P.style="width:95px; margin-right:14px";
this.anC=i.m("div","full");P.appendChild(this.anC);this.aIR=i.m("div","full");P.appendChild(this.aIR);
var P=i.m("col");O.appendChild(P);P.style.width="80px";this.jx=i.Bn(this,P);this.a3B=new fU("Add Swatch",!0,null,!0);
P.appendChild(this.a3B._);this.a3B.k("click",this.aw4,this);var O=i.m("div","flexrow");M.appendChild(O);
var y=i.m("div"),F=i.m("div");O.appendChild(y);O.appendChild(F);y.style=F.style="margin-left:14px; max-width:80px;";
A=["H","S","B"];h=y;this.p3=[];for(var R=0;R<3;R++){var m=0,Z=360,u="\xB0";if(R!=0){Z=100;u="%"}var f=new hQ(A[R],m,Z,u,0,!1,!0);
this.p3.push(f);f.k(z.E.n,this.a8y,this);h.appendChild(f._);if(R==2)f._.style.marginBottom="8px"}A=["R","G","B"];
h=y;this.ow=[];for(var R=0;R<3;R++){var f=new hQ(A[R],0,255,null,0,!1,!0);this.ow.push(f);f.k(z.E.n,this.a2j,this);
h.appendChild(f._)}A=["L","a","b"];h=F;this.EY=[];for(var R=0;R<3;R++){var m=[0,-128,-128][R],Z=[100,127,127][R],f=new hQ(A[R],m,Z,null,0,!1,!0);
f.q(0);this.EY.push(f);f.k(z.E.n,this.aey,this);h.appendChild(f._);if(R==2)f._.style.marginBottom="8px"}A=["C","M","Y","K"];
h=F;this.Ge=[];for(var R=0;R<4;R++){var f=new hQ(A[R],0,100,"%",0,!1,!0);f.q(0);this.Ge.push(f);f.k(z.E.n,this.aHB,this);
h.appendChild(f._);if(R==3)f._.style.marginBottom="8px"}this.Bd=new hH("#",null,4.5);this.Bd.k(z.E.n,this.W1,this);
y.appendChild(this.Bd._);this.Bd._.style.marginRight="0";this.HR=i.m("input","fitem");this.HR.setAttribute("type","color");
i.P(this.HR,"width:59px;  margin-left:19px;");this.HR.addEventListener("change",this.W1.bind(this),!1);
this.N1=new gg(9);this.N1.k(z.E.n,this.W1,this);M.appendChild(this.N1._);this.k("closebtn",this.lH,this);
this.Sl=!1}eE.prototype=new j9;eE.prototype.Ls=function(){return!0};eE.prototype.aw4=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.Rt,Rj:iY.ho.axr};this.a(M);var O=this.Ma;jB.oX.ahR({o:O.o*255,R:O.R*255,X:O.X*255})};eE.prototype.xc=function(s,M){if(Math.min(s,M)>500)return null;
return new j6(Math.max(0,Math.min(150,(s-484)/2)),Math.max(0,Math.min(150,(M-316)/2)))};eE.prototype.GK=function(s,M){this.Uu.GK(Math.min(256,s-226),M)};
eE.prototype.T=function(s,M){j9.prototype.T.call(this);for(var R=0;R<3;R++){this.ow[R].T();this.p3[R].T();
this.EY[R].T()}for(var R=0;R<4;R++)this.Ge[R].T();this.jx.T()};eE.prototype.sG=function(s){this.Ma=this.Uu.V();
this.update()};eE.prototype.nD=function(s,M,O,P,y){this.Sl=!0;this.amL(s,y)};eE.prototype.nh=function(s,M,O,P,y){if(!this.Sl)return;
this.amL(s,y)};eE.prototype.Cq=function(s,M,O,P,y){this.Sl=!1};eE.prototype.amL=function(s,M){this.Ma=a.Aj($.jP.VP(s,M,1),1);
this.update()};eE.prototype.a2j=function(s){var M=this.ow,O=this.Oi(parseInt(M[0].V())),P=this.Oi(parseInt(M[1].V())),y=this.Oi(parseInt(M[2].V()));
this.Ma={o:O/255,R:P/255,X:y/255};this.update()};eE.prototype.a8y=function(s){var M=this.p3,O=this.ck(parseInt(M[0].V())/360),P=this.ck(parseInt(M[1].V())/100),y=this.ck(parseInt(M[2].V())/100);
this.Ma=a.rk(O,P,y);this.update()};eE.prototype.aHB=function(s){var M=this.Ge,O=[];for(var R=0;R<4;R++){var P=this.aKj(parseInt(M[R].V()));
M[R].q(P);O.push(P/100)}var y=a.Vq(O);this.Ma={o:y[0],R:y[1],X:y[2]};this.update(!0)};eE.prototype.aey=function(s){var M=this.EY,O=parseInt(M[0].V()),P=parseInt(M[1].V()),y=parseInt(M[2].V()),F=a.lU(O,P,y);
this.Ma={o:F.o/255,R:F.R/255,X:F.X/255};this.update()};eE.prototype.W1=function(s){var M;if(s.currentTarget==this.N1)M=this.N1.V();
else{M=s.currentTarget==this.Bd?this.Bd.V():this.HR.value;if(M.charAt(0)=="#")M=M.slice(1);if(M.length==3)M=M[0]+M[0]+M[1]+M[1]+M[2]+M[2];
M=a.a7D(M)}this.Ma=a.Aj(M,1);this.update()};eE.prototype.Mk=function(s){this.close();this.aci();var M=a.DU(this.Ma,1);
this.N1.q(M);this.St(M);this.jG=!1;this.Ma=null};eE.prototype.lH=function(s){this.aci();if(this.h9)this.St(a.DU(this.xt,1));
this.jG=!1;this.Ma=null};eE.prototype.aci=function(s){var M=new kg(z.E.c,!0);M.data={Q:z.J.a7b};this.a(M)};
eE.prototype.qy=function(s,M){var O=jB.eP(s,M);if(O!=null)this.N1.q(O);if(M!=g5._2)return;this.N1.q(O);
if(this.Ma!=null){this.Ma=a.Aj(O,1);this.update()}};eE.prototype.o3=function(s,M){var O=a.Aj(M.mY,1);
if(this.Ma==null){var P=new kg(z.E.c,!0);P.data={Q:z.J.ag,Fi:"crosshair",push:!0};this.a(P);this.Sl=!1;
this.St=M.h3;this.h9=!1;this.jG=M.Pq;this.xt=a.G(O);i.P(this.aIR,"height:2.3em;background-color:#"+a.Rr(M.mY)+";")}this.Ma=O;
this.update()};eE.prototype.update=function(s){var M=this.Ma,O=a.DU(M,1);this.Bd.q(a.Rr(O));this.HR.value="#"+a.Rr(O);
i.P(this.anC,"height:2.3em;background-color:#"+a.Rr(O)+";");var P=this.ow;P[0].q(Math.round(M.o*255));
P[1].q(Math.round(M.R*255));P[2].q(Math.round(M.X*255));var y=a.yR(M.o,M.R,M.X);P=this.p3;P[0].q(Math.round(y.fw*360));
P[1].q(Math.round(y.BP*100));P[2].q(Math.round(y.rM*100));var F=a.H8(M.o*255,M.R*255,M.X*255,this.aD9);
P=this.EY;P[0].q(Math.round(F.Yk));P[1].q(Math.round(F.cd));P[2].q(Math.round(F.X));if(s==null){var A=a.y5([M.o,M.R,M.X]);
P=this.Ge;P[0].q(Math.round(A[0]*100));P[1].q(Math.round(A[1]*100));P[2].q(Math.round(A[2]*100));P[3].q(Math.round(A[3]*100))}this.Uu.q(M);
if(this.jG){this.St(a.DU(this.Ma,1));this.h9=!0}};eE.prototype.aKj=function(s){return Math.max(0,Math.min(100,s))};
eE.prototype.Oi=function(s){return Math.max(0,Math.min(255,s))};eE.prototype.ck=function(s){return Math.max(0,Math.min(1,s))};
function iR(){j9.call(this,[11,2],"contoureditor");this.aLI=null;this.rS=null;this.response=null;this.Ce=i.m("div","cell");
this.body.appendChild(this.Ce);this.Zd=i.m("div","cell padded");this.body.appendChild(this.Zd);var s=i.m("div","bordered padded vmargin");
this.Ce.appendChild(s);this.Wy=new hw(null,null,!0);this.Wy.k(z.E.n,this.lE,this);s.appendChild(this.Wy._);
this.jx=i.Bn(this,this.Zd);this.k("closebtn",this.zZ,this)}iR.prototype=new j9;iR.prototype.Mk=function(){this.close()};
iR.prototype.T=function(){j9.prototype.T.call(this);this.jx.T();this.Wy.T()};iR.prototype.lE=function(s){this.rS.Crv.v=this.Wy.V();
this.response(this.rS)};iR.prototype.zZ=function(s){this.response(this.aLI)};iR.prototype.o3=function(s,M){this.aLI=a.G(M.SB);
this.rS=M.SB;this.response=M.response;this.Wy.q(this.rS.Crv.v)};function eD(){j9.call(this,[11,4],"duplinto");
this.ZK=null;this.r0=null;this.pt=null;var s=i.m("div","form");i.P(s,"max-width:26em");this.body.appendChild(s);
this.RM=new d_([12,43],["abc","def"]);this.RM.k(z.E.n,this.qr,this);s.appendChild(this.RM._);i.QP(s);
this.Eb=new d_([1,16,0],["abc","def"]);this.Eb.k(z.E.n,this.qr,this);s.appendChild(this.Eb._);i.QP(s);
this.yn=new hH([12,48],null,14);s.appendChild(this.yn._);this.jx=i.Bn(this,s)}eD.prototype=new j9;eD.prototype.bA=function(){return!0};
eD.prototype.T=function(){j9.prototype.T.call(this);this.jx.T();this.RM.T();this.yn.T()};eD.prototype.qr=function(s){if(s&&s.target==this.Eb)return;
var M=this.RM.V(),O=this.r0[M],P=this.ZK,y=O!=null&&O.add.artd!=null;for(var R=0;R<P.Y.length;R++)if(P.U[P.Y[R]].add.artb)y=!1;
this.yn.oo(M==this.r0.length);this.Eb.oo(y);if(y){var F=O.root.children,A=[],h=this.pt=[];for(var R=0;
R<F.length;R++){var m=F[R].w;if(m.add.artb)A.push(m.getName());h.push(F[R].index)}this.Eb.ZG(A);this.Eb.q(0)}else this.pt=null};
eD.prototype.o3=function(s,M,O){this.ZK=s;this.r0=O;this.yn.q(s.Y.length==0?"Layer":s.U[s.Y[0]].getName());
var P=[];for(var R=0;R<O.length;R++){var y=O[R].name;P.push(y.length<30?y:y.slice(0,27)+"...")}P.push([11,7]);
this.RM.ZG(P);this.RM.q(O.indexOf(s));this.qr(null)};eD.prototype.Mk=function(s){var M=this.RM.V();if(M==this.r0.length){var O=new fr(this.yn.V()+".psd"),P=this.ZK.A,y=this.ZK.$,F=this.ZK.E8();
if(F!=-1){var A=this.ZK.U[F].Kj();P=A.A;y=A.$}O.A=P;O.$=y;O.buffer=a.j(O.A*O.$*4);var h=O.Tk();h.jj("Background");
O.S7([h]);var m=new kg(z.E.c,!0);m.T8=!0;m.data={Q:z.J.ma,ZK:O};this.a(m)}var Z=this.ZK.oc(null,this.ZK!=this.r0[M]),m=new kg(z.E.H,!0);
m.data={Q:ad.xU,U:Z,xZ:this.ZK,f6:this.r0[M]};if(this.pt)m.data.E5=this.pt[this.Eb.V()];m.l=$.mu;m.T8=!0;
this.a(m);this.close()};function is(){j9.call(this,[1,9],"eassets");this.f=null;this.ZK=null;var s=this.body;
i.cG(s,"form");s.style.width="32em";this.bo=new e0(null,["Layers","Combinations"]);this.bo.k(z.E.n,this.RB,this);
s.appendChild(this.bo._);i.yV(s);this.T1=i.m("span");s.appendChild(this.T1);this.pE=i.m("div");s.appendChild(this.pE);
var M=i.m("div"),O=i.m("div","flexrow");this.aoc=[M,O];this.pL=[new ho("Only layers / folders, whose name starts with \"-e-\""),new ho("Remove parts outside the canvas"),new ho("Trim transparent parts")];
for(var R=0;R<3;R++){var P=this.pL[R];P.q(!0);P.k(z.E.n,this.RB,this);M.appendChild(P._);i.QP(M)}this.Ow=new d5([12,14,0],["1x","2x","3x","4x"]);
this.Ow.q([!0,!1,!1,!1]);M.appendChild(this.Ow._);var y=i.m("div");O.appendChild(y);var F=i.m("img");
F.setAttribute("src",dB.$n("img/nft.png"));F.style.width="150px";O.appendChild(F);var A=i.m("span");
A.textContent="File Names:";y.appendChild(A);this.$D=new d5(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
y.appendChild(this.$D._);this.$D.q([!0,!1,!1]);i.yV(s);this.a1G=["PNG","JPG","SVG","TIFF","TGA"];this.re=new d_([12,50],this.a1G);
this.re.k(z.E.n,this.Wk,this);s.appendChild(this.re._);this.Uo=new dK;s.appendChild(this.Uo._);this.jx=new fU([1,9],!0,null,!0);
this.jx.k("click",this.Mk,this);s.appendChild(this.jx._);this.k("closebtn",this.xW,this)}is.prototype=new j9;
is.prototype.Wk=function(s){this.Uo.m6(this.a1G[this.re.V()],!1,!1,!1,this.ZK.s5()!=null)};is.prototype.xW=function(s){this.ZK=null};
is.prototype.T=function(){j9.prototype.T.call(this);this.re.T();this.Ow.T();this.jx.T();this.Uo.T()};
is.prototype.o3=function(s,M,O){this.ZK=s;this.RB()};is.prototype.RB=function(s){var M=this.bo.V(),O;
i.Lq(this.pE);this.pE.appendChild(this.aoc[M]);if(M==0){var P=this.a9K();O=P.length+" exportable layers"}else{var P=this.aKJ();
O=P[1]+" combinations ("+P[0].join(" \xD7 ")+")"}this.T1.textContent="- - - "+O;this.Wk(null)};is.prototype.a9K=function(){var s=this.pL[0].V(),M=[],O=this.ZK;
for(var R=0;R<O.U.length;R++){var P=O.U[R],y=P.getName();if(!s&&!P.ES()&&!P.S.g3()||y.startsWith("-e"))M.push(R)}return M};
is.prototype.aKJ=function(){var s=this.ZK,M=s.root.children,O=[],P=1,y=[];for(var R=0;R<M.length;R++){var F=M[R],A=F.w;
if(A.ES()){var h=F.children.length;O.push(h);P*=h;y.push(F.index)}A}return[O,P,y]};is.prototype.qy=function(s,M){this.f=s};
is.prototype.Mk=function(s){var M=this.ZK,O=this.bo.V(),P=[this.a1G[this.re.V()]],y=[this.Uo.V()],F={};
if(O==0){var A=this.Ow.V(),h={},m=this.a9K();if(m.length==0){alert("No layers to export.");return}var Z=[this.pL[1].V(),this.pL[2].V()];
for(var R=0;R<m.length;R++){var u=m[R],f=M.U[u],U=f.getName();U=U.replace(/\//g,"-");if(h[U]!=null){h[U]++;
U+=" "+h[U]}else h[U]=1;var C=f.CD();f.x1(!0);for(var H=0;H<A.length;H++){if(!A[H])continue;var t=H+1,X=$.$O.ai7(M,P,t,this.f,u,y,Z);
for(var Q=0;Q<P.length;Q++){var D=P[Q],L=U.slice(U.startsWith("-e-")?3:0)+(t==1?"":"@"+t+"x")+"."+D.toLowerCase();
if(X[Q])F[L]=new Uint8Array(X[Q])}}f.x1(C)}}else{var C=[];for(var R=0;R<M.U.length;R++)C.push(M.U[R].CD());
var E=this.aKJ(),_=E[0],m=E[2],S=[];function W(x,u,V,b){if(u==x.length){b.push(V.slice(0));return}var N=x[u];
for(var R=0;R<N;R++){V.push(R);W(x,u+1,V,b);V.pop(R)}}W(_,0,[],S);var g=this.$D.V().indexOf(!0);this.o8=[S,F,m,P,y,C,g,this.avB.bind(this),0,0];
this.avB();return}this.YL(F,M.name)};is.prototype.avB=function(){var s=this.o8,M=s[0],O=s[1],P=this.ZK,y=s[2],F=s[3],A=s[4],h=s[5],m=s[6],Z=s[7],u=0;
while(M.length!=0&&u<1e3){var f=Date.now(),U=M.shift(),C=[];for(var R=0;R<U.length;R++){var H=P.root.vt(y[R]);
for(var t=0;t<H.children.length;t++)H.children[t].w.x1(!1);var X=H.children[U[R]].w;C.push(m==2?X.getName():H.w.getName()+U[R]);
X.x1(!0)}P.vw();P.kp();var Q=(m==0?U:C).join("-")+"."+F[0].toLowerCase();O[Q]=new Uint8Array(b_.Yg(P,F[0],P.A,P.$,A[0],this.f));
s[8]++;s[9]+=O[Q].length;u+=Date.now()-f}if(M.length!=0){alert(s[8]+" done, "+fK.si(s[9])+".",800);setTimeout(Z,35);
return}for(var R=0;R<P.U.length;R++)P.U[R].x1(h[R]);P.vw();this.YL(O,P.name)};is.prototype.YL=function(s,M){var O=UZIP.encode(s),P=new kg(z.E.c,!0);
P.data={Q:z.J.Q2,data:O,name:M.split(".")[0]+".zip"};this.a(P)};function aX(){j9.call(this,"Export Color Lookup Tables","exlut");
this.f=null;this.ZK=null;var s=i.m("div","form");i.P(s,"width:20em");this.body.appendChild(s);this.pL=[new hQ("Grid Points",1,256),new e0([12,50],[".CUBE"])];
var M=[16,0];for(var R=0;R<this.pL.length;R++){var O=this.pL[R];O.q(M[R]);O.parent=this;O.k(z.E.n,this.RB,this);
s.appendChild(O._);i.QP(s)}this.jx=i.Bn(this,s);this.k("closebtn",this.xW,this)}aX.prototype=new j9;
aX.prototype.N3=function(s,M){if(Math.min(s.A,s.$)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(s.U.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};aX.prototype.xW=function(s){this.ZK=null};aX.prototype.qy=function(s,M){this.f=s};
aX.prototype.o3=function(s,M,O){this.ZK=s};aX.prototype.Mk=function(){var s=this.ZK,M=this.pL[0].V(),O=[],P=new gi(0,0,s.A,s.$),y=a.j(M*M*4),F=y.slice(0),A=new gi(s.A-M>>>1,s.$-M>>>1,M,M),h=s.U[0],m=h.buffer,Z=h.S;
h.S=A;h.buffer=y;for(var u=0;u<M;u++){this.a4w(M,u,y);h.vw(A);s.vw(A);var f=s.Ta();a.FP(f,P,F,A);for(var U=0;
U<M;U++)for(var C=0;C<M;C++){var H=U*M+C<<2;O.push(F[H]/255,F[H+1]/255,F[H+2]/255)}}var t=ej.aGT(O,M,s.name);
cD.save(t,s.name.split(".")[0]+".CUBE");h.buffer=m;h.S=Z;h.vw();s.vw()};aX.prototype.a4w=function(s,M,O){var P=255/(s-1),y=Math.round(M*P);
for(var F=0;F<s;F++)for(var A=0;A<s;A++){var h=F*s+A<<2;O[h]=Math.round(A*P);O[h+1]=Math.round(F*P);
O[h+2]=y;O[h+3]=255}};aX.prototype.T=function(){j9.prototype.T.call(this);for(var R=0;R<this.pL.length;
R++)this.pL[R].T();this.jx.T()};function bm(){j9.call(this,[1,14],"finfo");this.aFx=null;this.WH=null;
this.aKf=null;this.co=i.m("div","form scrollable label12");i.P(this.co,"width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.co);var s=i.m("div","form");this.body.appendChild(s);this.Io=new d_(null,["Hello"]);
s.appendChild(this.Io._);this.aqk=new fU("Add Parameter",!1,null,!0);s.appendChild(this.aqk._);this.aqk.k("click",this.Fs,this);
this.Rg=new fU("=== S A V E ===",!1,null,!0);s.appendChild(this.Rg._);this.Rg.k("click",this.YL,this);
this.a2Z=""}bm.prototype=new j9;bm.prototype.xc=function(s,M){return s<450||M<450?new j6(0,0):new j6(150,100)};
bm.prototype.Fs=function(s){if(this.aKf.length==0)return;var M=this.aKf[this.Io.V()],O=this._U();O[M]=jW.SY[M][0];
this.B8(O);this.WH[M]._.scrollIntoView();this.WH[M].a7()};bm.prototype.wZ=function(s){var M=this._U();
delete M[s.currentTarget.aLd];this.B8(M)};bm.prototype.YL=function(s){var M=this._U(),O=this.aFx,P=!0;
for(var y in O)if(JSON.stringify(O[y])!=JSON.stringify(M[y]))P=!1;for(var y in M)if(JSON.stringify(O[y])!=JSON.stringify(M[y]))P=!1;
if(P)return;var F=new kg(z.E.H,!0);F.l=$.mu;F.data={Q:ad.dr,pv:M};this.a(F);this.aFx=M;this.B8(M);alert("Metadata saved!")};
bm.aaG=function(s){function M(y){var F=y.toLowerCase();return y==F}var O=s.split(":").pop();for(var P=1;
P<O.length-1;P++){if(O[P]==O[P].toUpperCase()&&(M(O[P+1])||M(O[P-1]))){O=O.slice(0,P)+" "+O.slice(P);
P++}}return O};bm.prototype.o3=function(s,M){this.aFx=s.j0;this.B8(s.j0)};bm.prototype.B8=function(s){var M=this.co,y=0;
i.Lq(M);var O=this.WH={},P=["tiff","exif","exif:GPS"],F=this.aKf=[],A=[];for(var h in jW.SY){var m=bm.aaG(h),Z=0,u=15,f=null;
if(s[h]==null){if(jW.SY[h].length!=1||h=="photoshop:Credit"||h=="photoshop:Source"){F.push(h);A.push(m)}continue}for(var R=0;
R<P.length;R++)if(h.startsWith(P[R]))Z=R;if(Z!=y){i.yV(M);y=Z}if(h=="tiff:ImageDescription"||h=="dc:Keywords"){u=18.5;
f=3}var U=new hH(m,null,u,f);O[h]=U;var C=s[h];if(C instanceof Array)C=C[1]==0?"---":C[0]+"/"+C[1];var H=new fU("\u2716",null,aW.get([5,4]));
M.appendChild(H._);H.k("click",this.wZ,this);H.aLd=h;U.q(C);M.appendChild(U._);i.QP(M);if(h=="exif:GPSLongitude"&&s["exif:GPSLatitude"]){this.a2Z=bm.ad0(s["exif:GPSLatitude"])+","+bm.ad0(s["exif:GPSLongitude"]);
var t=new fU("Show on map",!1,null,!0);M.appendChild(t._);i.QP(M);t.k("click",this.aec,this)}}this.Io.ZG(A);
this.Io.q(0)};bm.prototype._U=function(){var s=this.WH,M=jW.SY,O={};for(var P in M){var y=M[P][0],F=typeof y;
if(y==null||s[P]==null)continue;var A=s[P].V(),h="The value of \""+bm.aaG(P)+"\" must ";if(F=="number"){A=parseFloat(A);
if(isNaN(A)){alert(h+"be a number.");A=y}}else if(y instanceof Array&&y.length==2){if(A.indexOf("/")==-1){alert(h+"be a fraction.");
A=y.slice(0)}else{A=A.split("/").map(parseFloat);if(isNaN(A[0])||isNaN(A[1])){A=y.slice(0)}}}O[P]=A}return O};
bm.ad0=function(s){var M=s.length,O=s.slice(0,M-1).split(",").map(parseFloat),P=s.slice(M-1),y=O[0]+O[1]/60+O[2]/3600;
if(P!="N"&&P!="E")y=-y;return y};bm.prototype.aec=function(s){window.open("https://maps.google.com?q="+this.a2Z,"Map")};
function cp(){j9.call(this,[11,5],"gradienteditor");this.xt=null;this.Ma=null;this.f=null;this.St=null;
this.h9=!1;this.jG=!1;this.tZ=null;this.Xu=null;this.tt=-1;this.yW=-1;this.FV=0;this.mh=this.Os.bind(this);
this._y=this.Ub.bind(this);this.Tb=i.m("canvas");this.KM=this.Tb.getContext("2d");i.P(this.Tb,"display:block");
this.lj=null;i.o0(this.Tb);i.dq(this.Tb,this.Ym.bind(this));this.Y$=i.m("div","form");this.rH=i.m("div");
this.KR=i.m("div","form");this.bw=i.m("div");this.W0=new d_([12,44],[[15,10,0],[24,6]]);this.W0.k(z.E.n,this.O2,this);
this.body.appendChild(this.W0._);i.yV(this.body);var s=this.Y$;this._Q=new hQ([19,3,3],0,100,"%");this._Q.k(z.E.n,this.O2,this);
this._Q.parent=this;s.appendChild(this._Q._);i.QP(s);this.a6S=new df([12,0]);s.appendChild(this.a6S._);
this.G0=i.m("div","bordered padded noalign");s.appendChild(this.G0);this.KA=new hQ([12,0],0,100,"%");
this.KA.parent=this;this.KA.k(z.E.n,this.O2,this);this.G0.appendChild(this.KA._);this.iP=new hQ([12,40],0,100,"%");
this.iP.parent=this;this.iP.k(z.E.n,this.O2,this);this.G0.appendChild(this.iP._);this.Yf=new fU([5,4],!1,null,!0);
this.Yf.k("click",this.arZ,this);this.G0.appendChild(this.Yf._);s.appendChild(this.rH);this.aG4=new df([13,0]);
s.appendChild(this.aG4._);this.Za=i.m("div","bordered padded noalign");s.appendChild(this.Za);this.kt=new d_([12,44],[[12,45],[12,46],[12,47]]);
this.kt.k(z.E.n,this.O2,this);this.Za.appendChild(this.kt._);this.tc=new aI(!0);this.tc.parent=this;
this.tc.k(z.E.n,this.O2,this);this.Za.appendChild(this.tc._);this.If=new hQ([12,40],0,100,"%");this.If.parent=this;
this.If.k(z.E.n,this.O2,this);this.Za.appendChild(this.If._);this.xK=new fU([5,4],!1,null,!0);this.xK.k("click",this.ajS,this);
this.Za.appendChild(this.xK._);var s=this.KR;this.Rd=new hQ("Roughness",0,100,"%");this.Rd.k(z.E.n,this.O2,this);
this.Rd.parent=this;s.appendChild(this.Rd._);s.appendChild(this.bw);this.vY=new fU([25,1,2],!1,null,!0);
this.vY.k("click",this.O2,this);s.appendChild(this.vY._);this.jx=i.Bn(this);this.k("closebtn",this.lH,this)}cp.prototype=new j9;
cp.prototype.lH=function(s){if(this.h9)this.St(this.xt);this.St=null;this.jG=!1};cp.prototype.T=function(){j9.prototype.T.call(this);
this.jx.T();this._Q.T();this.a6S.T();this.aG4.T();this.Yf.T();this.xK.T();this.KA.T();this.iP.T();this.kt.T();
this.If.T();this.vY.T()};cp.prototype.qy=function(s,M){this.f=s;if(M==g5._2)this.Ro()};cp.prototype.o3=function(s,M){this.Ma=a.G(M.wv);
this.xt=a.G(M.wv);this.tZ=this.Xu=null;this.St=M.h3;this.h9=!1;this.jG=M.Pq;this.Ro();this.a6()};cp.prototype.Mk=function(s){var M=this.Ma;
this.St(M);this.close();this.St=null;this.jG=!1};cp.prototype.cZ=function(s){return s==hj.y6||s==hj.Di};
cp.prototype.lJ=function(s,M,O,P){if(P.D(hj.y6)||P.D(hj.Di)){if(this.Xu)this.arZ();if(this.tZ)this.ajS()}};
cp.prototype.arZ=function(s){var M=this.Ma.Trns.v;if(this.Xu==null||M.length==1)return;M.splice(M.indexOf(this.Xu),1);
this.Xu=null;this.Ro();this.a6()};cp.prototype.ajS=function(s){var M=this.Ma.Clrs.v;if(this.tZ==null||M.length==1)return;
M.splice(M.indexOf(this.tZ),1);this.tZ=null;this.Ro();this.a6()};cp.prototype.Ro=function(){var s=this.Tb,M=this.KM;
if(this.Ma==null)return;var O=i.yD();s.width=Math.floor(410*O);s.height=Math.floor(70*O);i.cq(s,s.width,s.height);
s.style.marginTop="8px";this.lj=new gi(0,0,Math.floor(380*O),Math.floor(32*O));this.lj.x=Math.floor((s.width-this.lj.A)/2);
this.lj.y=Math.floor((s.height-this.lj.$)/2);var P=this.lj,y=P.A,F=P.$,A=P.x,h=P.y,m=new gi(0,0,y,F),Z=M.getImageData(0,0,y,F),u=new Uint8Array(Z.data.buffer);
a.eZ(u,y,F,8);var f=a.j(y*F*4);a.wv.gR(this.Ma,f,m,[1/y,0,0,1/F],y/2,F/2,!1,0,this.f.UC,this.f.Cc);a.B.qZ("norm",f,P,u,P,P,1);
M.clearRect(0,0,s.width,s.height);M.putImageData(Z,A,h);var U=this.Ma;if(U.Clrs){var C=U.Trns.v,H=U.Clrs.v,t=a.wv.aJS(U,this.f.UC,this.f.Cc),X=Math.round(6*i.yD()),Q=Math.round(14*i.yD()),D=this.Xu?this.Xu.v:null,L=this.tZ?this.tZ.v:null;
for(var R=0;R<C.length;R++){var E=C[R].v,_=Math.round(255-255*E.Opct.v.val/100);if((E==D||C[R-1]&&C[R-1].v==D||R==this.yW)&&R!=0){M.fillStyle="#000000";
M.fillRect(A-3+y*(C[R-1].v.Lctn.v+(E.Lctn.v-C[R-1].v.Lctn.v)*E.Mdpn.v/100)/4096,h-6-2,6,6)}if(E==D){M.fillStyle="#ffffff";
M.fillRect(A-X+y*(E.Lctn.v/4096)-2,h-2-Q-2,2*X+4,Q+4)}M.fillStyle="rgb("+_+","+_+","+_+")";M.fillRect(A-X+y*(E.Lctn.v/4096),h-2-Q,2*X,Q)}for(var R=0;
R<H.length;R++){var S=H[R].v,W=t[0][R][0];if((S==L||H[R-1]&&H[R-1].v==L||R==this.tt)&&R!=0){M.fillStyle="#000000";
M.fillRect(A-3+y*(H[R-1].v.Lctn.v+(S.Lctn.v-H[R-1].v.Lctn.v)*S.Mdpn.v/100)/4096,h+F+2,6,6)}if(S==L){M.fillStyle="#ffffff";
M.fillRect(A-X+y*(S.Lctn.v/4096)-2,h+F+2-2,2*X+4,Q+4)}M.fillStyle="rgb("+Math.round(W.o)+", "+Math.round(W.R)+","+Math.round(W.X)+")";
M.fillRect(A-X+y*(S.Lctn.v/4096),h+F+2,2*X,Q)}}if(this.jG){this.St(this.Ma);this.h9=!0}};cp.prototype.a6=function(){var s=this.Ma,M=s.Clrs?0:1;
this.W0.q(M);if(i.qE(this.Y$))this.body.removeChild(this.Y$);if(i.qE(this.KR))this.body.removeChild(this.KR);
(M==0?this.rH:this.bw).appendChild(this.Tb);if(M==0){this.body.appendChild(this.Y$);this._Q.q(Math.round(100*s.Intr.v/4096));
var O=s.Trns.v,P=s.Clrs.v,y=this.Xu!=null,F=this.yW!=-1;this.KA.oo(y);this.iP.oo(y||F);this.Yf.oo(y);
if(y){i.P(this.G0,"");var A=this.Xu.v;this.iP.q(Math.round(100*A.Lctn.v/4096));this.KA.q(A.Opct.v.val)}if(F)this.iP.q(O[this.yW].v.Mdpn.v);
var y=this.tZ!=null,F=this.tt!=-1;this.kt.oo(y);this.tc.oo(y);this.If.oo(y||F);this.xK.oo(y);if(y){i.P(this.Za,"");
var h=this.tZ.v;this.If.q(Math.round(100*h.Lctn.v/4096));var m=h.Type.v.Clry;this.kt.q(["FrgC","BckC","UsrS"].indexOf(m));
if(m=="FrgC")this.tc.ZS(this.f.UC);if(m=="BckC")this.tc.ZS(this.f.Cc);if(m=="UsrS")this.tc.q(h.Clr.v)}if(F)this.If.q(P[this.tt].v.Mdpn.v)}else{this.body.appendChild(this.KR);
this.Rd.q(Math.round(100*s.Smth.v/4096))}this.body.appendChild(this.jx._)};cp.prototype.O2=function(s){var M=this.Ma,O=M.Clrs?0:1;
if(s.target==this.W0){var P=O==0?JSON.parse(aV.xD.adc).v:bW.Jb("grdm").Grad.v;this.Ma=P;this.a6();this.Ro();
return}if(O==0){M.Intr.v=Math.round(4096*this._Q.V()/100);var y=M.Trns.v,F=M.Clrs.v;if(this.Xu!=null){var A=this.Xu.v;
A.Lctn.v=Math.round(4096*(this.iP.V()/100));A.Opct.v.val=this.KA.V()}if(this.tZ!=null){var h=this.tZ.v;
h.Lctn.v=Math.round(4096*(this.If.V()/100));if(s.target==this.tc)this.kt.q(2);var m=this.kt.V();h.Type.v.Clry=["FrgC","BckC","UsrS"][m];
if(m==2)h.Clr={t:"Objc",v:this.tc.V()};else if(h.Clr)delete h.Clr}if(this.yW!=-1)y[this.yW].v.Mdpn.v=this.iP.V();
if(this.tt!=-1)F[this.tt].v.Mdpn.v=this.If.V()}else{M.Smth.v=Math.round(4096*this.Rd.V()/100);if(s.target==this.vY)M.RndS.v=Math.floor(Math.random()*4294967295)}this.Ro()};
cp.prototype.Ym=function(s){var M=i.iC(s,this.Tb),O=this.lj,P=(M.x*i.yD()-O.x)/O.A,y=(M.y*i.yD()-O.y)/O.$,F=this.Ma.Trns.v,A=this.Ma.Clrs.v,h=null,m=null,Z=-1,u=-1;
if(y<1)for(var R=0;R<F.length;R++){var f=F[R].v;if(Math.abs(f.Lctn.v/4096-P)<.02)h=F[R];if(R>0)if(Math.abs((F[R-1].v.Lctn.v+(f.Lctn.v-F[R-1].v.Lctn.v)*f.Mdpn.v/100)/4096-P)<.01)Z=R}if(y>0)for(var R=0;
R<A.length;R++){var U=A[R].v;if(Math.abs(U.Lctn.v/4096-P)<.02)m=A[R];if(R>0)if(Math.abs((A[R-1].v.Lctn.v+(U.Lctn.v-A[R-1].v.Lctn.v)*U.Mdpn.v/100)/4096-P)<.01)u=R}if(m==null&&h==null&&Z==-1&&u==-1){if(y<0){var f={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
f.v.Lctn.v=Math.round(P*4096);F.push(f);F.sort(this._4);h=f}if(y>1){var A=this.Ma.Clrs.v,C=a.wv.aJS(this.Ma,this.f.UC,this.f.Cc),H=a.wv.ad(this.Ma,C,P),U={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:a.wv.gN({o:H&255,R:H>>8&255,X:H>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
U.v.Lctn.v=Math.round(P*4096);A.push(U);A.sort(this._4);m=U}}if(m!=null)u=-1;if(h!=null)Z=-1;if(m!=null||h!=null||Z>-1||u>-1){this.Xu=h;
this.tZ=m;this.yW=Z;this.tt=u;this.a6();this.Ro();i.Qj(window,this.mh);i.gE(window,this._y)}};cp.prototype.Os=function(s){var M=i.iC(s,this.Tb),O=this.lj,P=(M.x*i.yD()-O.x)/O.A,y=(M.y*i.yD()-O.y)/O.$;
P=Math.max(0,Math.min(1,P));var F=this.Ma.Trns.v,A=this.Ma.Clrs.v;if(this.Xu!=null){var h=this.Xu.v;
h.Lctn.v=Math.round(4096*P);var m=F.indexOf(this.Xu);if(m!=-1&&y<-1&&F.length>1)F.splice(m,1);if(m==-1&&y>-1)F.push(this.Xu);
F.sort(this._4)}if(this.tZ!=null){var Z=this.tZ.v;Z.Lctn.v=Math.round(4096*P);var u=A.indexOf(this.tZ);
if(u!=-1&&y>2&&A.length>1)A.splice(u,1);if(u==-1&&y<2)A.push(this.tZ);A.sort(this._4)}if(this.yW>-1){var h=F[this.yW].v;
h.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(P*4096-F[this.yW-1].v.Lctn.v)/(h.Lctn.v-F[this.yW-1].v.Lctn.v))))}if(this.tt>-1){var Z=A[this.tt].v;
Z.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(P*4096-A[this.tt-1].v.Lctn.v)/(Z.Lctn.v-A[this.tt-1].v.Lctn.v))))}if(this.Xu!=null||this.tZ!=null||this.yW>-1||this.tt>-1){this.a6();
this.Ro()}};cp.prototype.Ub=function(s){i.GE(window,this.mh);i.bY(window,this._y);if(Date.now()-this.FV<300){if(this.tt!=-1||this.yW!=-1){var M=(this.tt!=-1?this.Ma.Clrs.v[this.tt]:this.Ma.Trns.v[this.yW]).v;
M.Mdpn.v=50;this.a6();this.Ro()}else if(this.tZ!=null)this.tc.tU()}this.FV=Date.now()};cp.prototype._4=function(s,M){return s.v.Lctn.v-M.v.Lctn.v};
function hD(){j9.call(this,[11,5],"vgradienteditor");this.St=null;this.od=new ja;this.od.parent=this;
this.body.appendChild(this.od._);this.jx=i.Bn(this,this.body)}hD.prototype=new j9;hD.prototype.o3=function(s,M){this.St=M.h3;
this.od.q(M.K)};hD.prototype.T=function(){j9.prototype.T.call(this);this.od.T()};hD.prototype.Mk=function(s){this.St(this.od.V());
this.close()};function b0(s){j9.call(this,s=="isize"?[11,10]:[11,3],s);this.arE=s;this.aZ=null;var M=i.m("div","form");
i.P(M,"width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(M);var O=s=="csize";this.aKO=new df("Hi");
M.appendChild(this.aKO._);i.QP(M);this.p_=new e5(!0,!0,O,O,!0);if(O)this.p_.aCt(!1);M.appendChild(this.p_._);
this.WS=new ho([12,25,3]);this.WS.q(!0);this.WS.k(z.E.n,this.aEL,this);this.T5=new d_(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.T5.q(1);this.ia=new dT([12,23,2],41);this.ia.q(4);if(s=="isize"){M.appendChild(this.WS._);M.appendChild(this.T5._)}else M.appendChild(this.ia._);
this.jx=i.Bn(this,this.body)}b0.prototype=new j9;b0.prototype.N3=function(s,M){return s!=null};b0.prototype.bA=function(){return!0};
b0.prototype.cZ=function(s){return this.arE=="isize"?!1:[hj._f,hj.dV,hj.l8,hj.sd].indexOf(s)!=-1};b0.prototype.lJ=function(s,M,O,P){if(P.D(hj.$g))this.Mk();
this.ia.atv(P.Ry())};b0.prototype.T=function(){j9.prototype.T.call(this);this.p_.T();this.WS.T();this.T5.T();
this.ia.T();this.jx.T()};b0.prototype.Mk=function(s){var M=this.p_.V(),O=M.x,P=M.y,y=new kg(z.E.fa,!0),F=this.p_.pw.V();
if(this.arE=="csize"){if(F){var A=this.p_.xM,h=this.p_.jY;O=h.x-A.x;P=h.y-A.y}y.data=$._P.aB1(O,P,this.ia.V(),F)}else{var m=this.T5.V();
if(!this.WS.V())m=null;var Z=this.p_.aAW(),u=this.aZ;console.log(Z);if(Z==1)y.data=$._P.z9(O/u.x,P/u.y,this.p_.L7(),m,!0);
else y.data=$._P.z9(O,P,this.p_.L7(),m)}this.close();this.a(y)};b0.prototype.o3=function(s,M){this.aZ=new j6(s.A,s.$);
this.p_.q(this.aZ,s.FR);this.p_.a7();this.aKO.q(aW.get(this.wb)+": "+(s.A*s.$/1e6).toFixed(2)+" MPx")};
b0.prototype.aEL=function(s){var M=this.WS.V(),O=this.p_,P=this.T5;if(M)P.Zc();else P.XX();O.a4V(M)};
function a8(){j9.call(this,"Import RAW","importraw");var s=i.m("div","flexrow"),M=i.m("div");i.P(M,"margin-bottom: 1em");
this.body.appendChild(s);this.body.appendChild(M);var O=i.m("div","form");i.P(O,"width:18em");s.appendChild(O);
var P=i.m("div","form");i.P(P,"width:15em");s.appendChild(P);this.RQ=null;this.pn=null;this.nM=null;
this.lO=null;this.Cp=[];var y=[];for(var R=0;R<a8.xe.length;R++)y.push(a8.xe[R]+" Bits");var F=this.o8=[new e5(!0,null,null,!0),new hQ([12,72],1,8),new ho("Last one is Transparency"),new e0([12,34],y),new e0("Byte Order",["12-34","34-12"]),new d_("Guesses",[])];
for(var R=0;R<F.length;R++){var A=F[R];A.parent=this;A.k(z.E.n,R==5?this.alO:this.qr,this);var h=R==0?O:R==5?M:P;
h.appendChild(A._)}this.Tb=i.m("canvas");this.KM=this.Tb.getContext("2d");this.body.appendChild(this.Tb);
this.jx=i.Bn(this,this.body)}a8.prototype=new j9;a8.prototype.T=function(){j9.prototype.T.call(this);
var s=this.o8;this.jx.T();for(var R=0;R<s.length;R++)s[R].T()};a8.prototype.Mk=function(s){this.close();
var M=this.o8[0].V(),O=b_.T7(this.pn,[{data:this.nM,IK:new gi(0,0,M.x,M.y)}]);if(this.lO)O.dj=this.lO;
var P=new kg(z.E.c,!0);P.data={Q:!0?z.J.ma:z.J.Bm,ZK:O};this.a(P)};a8.xe=[8,16];a8.prototype.o3=function(s,M){this.RQ=new Uint8Array(M.yH);
this.pn=M.Zp;var O=this.RQ.length,P=[1,3,4],y=0,F=0,A=1,h=1,m=this.Cp=[],Z=Math.round(Math.sqrt(O)*2);
Z=Math.max(Z,4e3);for(var u=0;u<3;u++){for(var f=0;f<2;f++){var U=a8.xe[f],C=P[u],H=C*U,t=Math.round(O*8/H);
if(t!=O*8/H)continue;for(var X=0;X<=Z;X++)for(var Q=0;Q<=Z;Q++)if(X*Q==t){var D=0;if(X==Q)D+=64;if(Math.round(X/100)==X/100&&Math.round(Q/100)==Q/100)D+=32;
if(Math.round(X/10)==X/10&&Math.round(Q/10)==Q/10)D+=16;if(Math.round(X/2)==X/2&&Math.round(Q/2)==Q/2)D+=8;
m.push([X,Q,C,U,D])}}}var L=function(W,g){if(g[4]!=W[4])return g[4]-W[4];var x=Math.max(W[0],W[1])/Math.min(W[0],W[1]),V=Math.max(g[0],g[1])/Math.min(g[0],g[1]);
if(x!=V)return x-V;return g[0]-W[0]};m.sort(L);var E=this.o8,_=[];for(var R=0;R<m.length;R++){var S=m[R];
_.push(S[0]+" x "+S[1]+", "+S[2]+"ch, "+S[3]+"-bit")}E[5].ZG(_);E[5].q(0);this.alO(null)};a8.prototype.alO=function(s){var M=this.o8,O=this.Cp[this.o8[5].V()];
M[0].q(new j6(O[0],O[1]),72);M[1].q(O[2]);M[3].q(a8.xe.indexOf(O[3]));this.qr()};a8.prototype.qr=function(s){var M=this.o8,O=M[0].V(),P=O.x,y=O.y,F=a8.xe[M[3].V()],A=this.RQ;
if(F==16&&M[4].V()==1){A=A.slice(0);for(var R=0;R<A.length;R+=2){var h=A[R];A[R]=A[R+1];A[R+1]=h}}var m=this.nM=this.AR(A,P,y,M[1].V(),F,M[2].V()),Z=this.Tb,u=this.KM,f=[m,new gi(0,0,P,y)];
a.pT(f);for(var R=0;R<f.length;R+=2)if(f[R+1].$<300){m=f[R];P=f[R+1].A;y=f[R+1].$;break}Z.width=P;Z.height=y;
i.cq(Z,P,y);var U=new ImageData(new Uint8ClampedArray(m.buffer),P,y);u.putImageData(U,0,0)};a8.prototype.AR=function(s,M,O,P,y,F){this.lO=null;
var A=[],h=M*O;for(var m=0;m<P;m++){var Z=a.j(h);A.push(Z);if(y==8)for(var R=0;R<h;R++)Z[R]=s[R*P+m];
else if(y==16)for(var R=0;R<h;R++)Z[R]=Math.round((s[(R*P+m)*2]<<8|s[(R*P+m)*2+1])*(255/65535))}var u=a.j(h*4);
a.vK(u,4278190080);if(F){a.GS(A.pop(),u,3);P--}if(P==0){}else if(P==1)a.Rm(A[0],u);else{a.GS(A[0],u,0);
a.GS(A[1],u,1);if(P>2){a.GS(A[2],u,2);if(P>3){this.lO=[];for(var R=3;R<P;R++){var f=new ad.OL;f.name="Alpha "+(R-2);
f.S=new gi(0,0,M,O);f.N=A[R];this.lO.push(f)}}}}return u};function fD(s,M,O){hV.call(this);this._=i.m("div","");
this.iQ=s;this.DD=null;this.od=M==null?!1:M;this.qp=null;this.Xz=O;this.anr=[];this.B9=[];this.Yq=[];
this.OX=[];this.bE=0;this.DD=this.a0T(fD.OX[s]);this.Lc();this.qf=null;this.afe;this.akq}fD.prototype=new hV;
fD.prototype.nD=function(s,M,O,P,y){this.qf=y;this.afe=a.G(this.qp);if(this.DD.lagl)this.akq=this.DD.lagl.V()[0]};
fD.prototype.nh=function(s,M,O,P,y){var F=this.qf,A=this.iQ,h=this.afe;if(F==null)return;var m=(y.x-F.x)/s.i.xq,Z=(y.y-F.y)/s.i.xq;
if(A=="GrFl"){var u=a.G(h.Ofst.v);u.Hrzn.v.val+=m*.5;u.Vrtc.v.val+=Z*.5;this.DD.Ofst.q(u,!0)}if(A=="patternFill"){var u=a.G(h.phase.v);
u.Hrzn.v+=m;u.Vrtc.v+=Z;this.DD.phase.q(u,!0)}if(A=="DrSh"||A=="IrSh"||A=="ChFX"){var f=h.Dstn.v.val,U=this.akq*Math.PI/180,C=-Math.cos(U)*f+m,H=Math.sin(U)*f+Z;
this.DD.Dstn.q(Math.sqrt(C*C+H*H),!0);this.DD.lagl.q([Math.atan2(H,-C)*180/Math.PI],!0)}};fD.prototype.Cq=function(s,M,O,P,y){this.qf=null};
fD.prototype.apQ=function(){for(var R=0;R<this.OX.length;R++){i.VV(this.OX[R],"selected");if(this.Yq[R]instanceof ho)this.Yq[R].q(!1)}};
fD.prototype.aFr=function(s){var M=this.axk.bind(this);for(var R=0;R<this.Yq.length;R++){var O=i.m("div","listitem");
this.OX.push(O);if(R>0)O.textContent="\u2003";O.appendChild(this.Yq[R]._);if(aV.aKx.indexOf(this.iQ)!=-1){var P=new fU("+");
P.Mg();P._.style.float="right";O.appendChild(P._);var y=new fU("\u2B0D");y.Mg();y._.style.float="right";
y._.style["margin-right"]="2px";O.appendChild(y._)}O.addEventListener("click",M,!1);s.appendChild(O)}};
fD.Hj=function(s,M){var O=M.getBoundingClientRect();return(s.clientY-O.top)/O.height};fD.prototype.axk=function(s){var M=s.target.tagName.toLowerCase();
if(M=="input"){return}if(M=="button"){var O=new kg(z.E.H,!0),P=s.target.textContent=="+",y=P?0:fD.Hj(s,s.target)<.5?-1:1;
if(P)O.data={Q:"st_dupsingle",w:this.parent.data.w,jn:this.Xz};else O.data={Q:"st_movsingle",w:this.parent.data.w,jn:this.Xz,ahp:y};
O.l=$.qz;O.T8=!0;this.a(O);O=new kg("redrawall",!0);O.data={ahp:y};this.a(O);return}i.zZ(s);this.Ud();
this.bE=this.OX.indexOf(s.currentTarget);this.a(new kg("showme"))};fD.prototype.Ud=function(){if(this.DD.enab&&this.DD.enab.V()==!1)this.C0({pk:"enab",K:!0})};
fD.prototype.aDi=function(){var s=this.OX[this.bE];if(s)i.cG(s,"selected");return this.B9[this.bE]};
fD.prototype.a0T=function(s){var M={};for(var R=0;R<s.length;R++){var O=s[R],P=null;if(O=="----")P={_:i.m("hr")};
if(O=="\n")P={_:i.m("br")};if(O=="blOptions")P=new df([14,10]);if(O=="brst")P=new d5([12,72],["R","G","B"]);
if(O=="knko")P=new d_("Knockout",[[13,1,0],"Shallow","Deep"]);if(O=="enab")P=new ho(aV.names[aV.order.indexOf(this.iQ)]);
if(O=="lrMd"||O=="Md")P=new d_([12,19,0],h0.lq,h0.P1);if(O=="Opct")P=this.od?new hQ([12,0],0,100,"%"):new fB([12,0],0,100,"%");
if(O=="iOpa")P=new fB([12,26],0,100,"%");if(O=="blIf")P=new aZ;if(O=="ShdN")P=new fB([12,68],0,100,"%");
var y=this.iQ=="St3D"&&O=="lagl";if(O=="lagl"||O=="Angl")P=new gK(y?"Light":[12,15],this.iQ=="ebbl"||y);
if(O=="uglg")P=new ho([12,27]);if(O=="Dstn")P=new fB([12,28],0,200,"px");if(O=="Ckmt")P=new fB([12,29],0,100,"%");
if(O=="Srnk")P=new fB("Shrink",0,100,"%");if(O=="Drkn")P=new fB("Darken",0,100,"%");if(O=="blur")P=new fB([12,14,0],0,200,"px");
if(O=="TrnS"||O=="MpgS")P=new iE([12,21]);if(O=="Nose")P=new fB([12,30],0,100,"%");if(O=="layerConceals")P=new ho([12,31]);
if(O=="Cntn")P=new ho([12,25,4]);if(O=="AntA"||O=="antialiasGloss")P=new ho([12,25,1]);if(O=="GlwT")P=new d_([12,32],aV.ix.names);
if(O=="glwS")P=new d_([12,70],aV.ix.aCQ);if(O=="Inpr")P=new fB([12,12],1,100,"%");if(O=="bvlS")P=new d_([12,22],aV.FA.style);
if(O=="bvlT")P=new d_([12,32],aV.FA.acL);if(O=="bvlD")P=new d_(null,aV.FA.dir);if(O=="srgR")P=new fB([12,34],0,1e3,"%");
if(O=="Sftn")P=new fB([12,35],0,20,"px");if(O=="Lald")P=M.lagl;if(O=="hglM"||O=="sdwM")P=new d_([12,36],h0.lq,h0.P1);
if(O=="hglC"||O=="sdwC")P=new aI;if(O=="hglO"||O=="sdwO")P=new fB([12,0],0,100,"%");if(O=="Invr"||O=="InvT")P=new ho([4,11]);
if(O=="overprint")P=new ho("Overprint");if(O=="Sz")P=new fB([12,14,0],1,200,"px");if(O=="Styl")P=new d_([12,40],aV.stroke.names);
if(O=="PntT")P=new d_([12,66],aV.stroke.a3a);if(O=="Clr")P=new aI(!0);if(O=="Grad"){P=new kK(!0,this.od?null:[12,37],!0);
P.q(JSON.parse(aV.xD.awr).v)}if(O=="Rvrs")P=new ho([12,23,0]);if(O=="Dthr")P=new ho([12,23,3]);if(O=="Type")P=new d_(this.od?null:[12,22],aV.wv.names.slice(0,this.iQ=="FrFX"?6:5));
if(O=="gs99")P=new d_("Method",["Perceptual","Linear","Classic","Smooth","Stripes"]);if(O=="Ptrn")P=new gO([12,62]);
if(O=="Scl")P=new fB([12,38],5,500,"%",0,!0);if(O=="Algn")P=new ho([12,39]);if(O=="Ofst")P=new im(!0);
if(O=="phase")P=new im(!1);if(O=="useShape")P=new ho([12,21]);if(O=="useTexture")P=new ho([12,67]);if(O=="textureDepth")P=new fB([12,34],-300,300,"%");
var F=O=="----"||O=="\n"?O+R:O;if(O=="gs99"&&this.od)F="gradientsInterpolationMethod";if(P!=null)M[F]=P}return M};
fD.prototype.awm=function(s){var M=this.B9[this.bE];for(var R=0;R<s.length;R++){var O=this.DD[s[R]];
if(O&&M.contains(O._))M.removeChild(O._)}};fD.prototype.a1q=function(s){var M=this.B9[this.bE];for(var R=0;
R<s.length;R++){var O=this.DD[s[R]];if(O&&!M.contains(O._))M.appendChild(O._)}};fD.prototype.qy=function(s,M){if(this.DD==null)return;
var O=M==g5.rT;if(this.DD.Grad){this.DD.Grad.hz(s.UC,s.Cc);if(O||M==g5._2||M==g5.hL)this.DD.Grad.cA(s.Ac)}if(this.DD.Ptrn){if(O||M==g5.fV)this.DD.Ptrn.cA(s.ha)}if(this.DD.TrnS){if(O||M==g5.cR)this.DD.TrnS.cA(s.Rh)}if(this.DD.MpgS){if(O||M==g5.cR)this.DD.MpgS.cA(s.Rh)}};
fD.prototype.T=function(){for(var R=0;R<this.anr.length;R++)this.anr[R].T();for(var s in this.DD)if(this.DD[s]instanceof hV)this.DD[s].T()};
fD.prototype.Lc=function(){for(var s in this.DD){var M=this.DD[s];M.parent=this;if(M instanceof hV)M.k(z.E.n,this.abA,this);
if(this.B9.length==0||s=="useShape"||s=="useTexture"){var O=new df(M.ayK()),P=i.m("div","bordered padded");
if(this.od==!1){P.appendChild(O._);P.appendChild(i.m("hr",""))}this.anr.push(O);this.B9.push(P);this.Yq.push(M)}else this.B9[this.B9.length-1].appendChild(M._)}};
fD.prototype.update=function(s,M){if(this.DD==null)return;this.qp=a.G(M);var O=this.od?"gradientsInterpolationMethod":"gs99";
if(this.iQ=="GrFl"&&M[O]==null)M[O]={t:"enum",v:{gradientInterpolationMethodType:"Gcls"}};for(var P in M){var y=this.DD[P];
if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(P)!=-1)y.q(M[P].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(P)!=-1){y.q(M[P].v,s)}if(["Md","hglM","sdwM"].indexOf(P)!=-1)y.q(h0.iQ.indexOf(M[P].v.BlnM));
if(P=="lrMd"){var F=(M.isFolder?[[15,10,27]]:[]).concat(h0.lq),A=(M.isFolder?[1]:[]).concat(h0.P1);y.ZG(F,A);
y.q(M[P].v)}if(P=="Angl")y.q([M[P].v.val]);if(P=="lagl"){var h=M.uglg&&M.uglg.v?s.Cz():M.lagl.v.val;
y.q([h])}if(P=="Lald"){var h=M.uglg&&M.uglg.v?s.$p():M.Lald.v.val;y.q([null,h])}if(P==O){var m=aV.wv.Vl.indexOf(M[P].v.gradientInterpolationMethodType);
y.q(m)}if(P=="Type")y.q(aV.wv.types.indexOf(M.Type.v.GrdT));if(P=="Styl")y.q(aV.stroke.types.indexOf(M.Styl.v.FStl));
if(P=="PntT"){var Z=aV.stroke.wK.indexOf(M.PntT.v.FrFl);y.q(Z);if(!this.od){this.awm(aV.IA.concat(aV.Pd.concat(aV.O5)));
this.a1q([aV.IA,aV.Pd,aV.O5][Z])}}if(P=="GlwT")y.q(aV.ix.types.indexOf(M.GlwT.v.BETE));if(P=="glwS")y.q(aV.ix.a5G.indexOf(M.glwS.v.IGSr));
if(P=="bvlS")y.q(aV.FA.types.indexOf(M.bvlS.v.BESl));if(P=="bvlT")y.q(aV.FA.a5w.indexOf(M.bvlT.v.bvlT));
if(P=="bvlD")y.q(["In","Out"].indexOf(M.bvlD.v.BESs))}};fD.prototype.abA=function(s){var M=this.od?"gradientsInterpolationMethod":"gs99";
for(var O in this.DD){if(this.DD[O]!=s.target)continue;var P=null,y=!1;if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(O)!=-1)P={type:"#Prc",val:s.target.V()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(O)!=-1)P={type:"#Pxl",val:s.target.V()};if(["Angl","lagl"].indexOf(O)!=-1)P={type:"#Ang",val:s.target.V()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(O)!=-1)P=s.target.V();
if(["Md","hglM","sdwM"].indexOf(O)!=-1)P={BlnM:h0.iQ[s.target.V()]};if(O=="uglg"){P=s.target.V();y=!0}if(O=="PntT"){P={FrFl:aV.stroke.wK[s.target.V()]};
y=!0}if(O=="Lald")P={type:"#Ang",val:s.target.V()[1]};if(O==M)P={gradientInterpolationMethodType:aV.wv.Vl[s.target.V()]};
if(O=="Type")P={GrdT:aV.wv.types[s.target.V()]};if(O=="Styl")P={FStl:aV.stroke.types[s.target.V()]};
if(O=="GlwT")P={BETE:aV.ix.types[s.target.V()]};if(O=="glwS")P={IGSr:aV.ix.a5G[s.target.V()]};if(O=="bvlS")P={BESl:aV.FA.types[s.target.V()]};
if(O=="bvlT")P={bvlT:aV.FA.a5w[s.target.V()]};if(O=="bvlD")P={BESs:["In","Out"][s.target.V()]};this.C0({pk:O,K:P});
if(y){if(this.od)this.update(null,this.qp);else{var F=this.parent,A=F.ZK,h=this.Xz,m=A.U[F.data.w].add.lmfx[aV.e1[h[0]]].v[h[1]].v;
this.update(A,m)}}}};fD.prototype.C0=function(s){if(this.qp&&this.qp[s.pk])this.qp[s.pk].v=s.K;if(this.od){this.a(new kg(z.E.n))}else{s.Q="changeprop";
s.w=this.parent.data.w;s.Fa=this.Xz;var M=new kg(z.E.H,!0);M.data=s;M.l=$.qz;M.T8=!0;this.a(M);this.a(new kg("afterchange",!0))}};
fD.prototype.V=function(){return a.G(this.qp)};fD.OX={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(aV.IA),GrFl:["enab","Md","Opct"].concat(aV.Pd),patternFill:["enab","Md","Opct"].concat(aV.O5),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(aV.IA.concat(aV.Pd.concat(aV.O5)))};
function eM(){j9.call(this,[11,6],"layerstyle");this.aaM=-1;this.data={};this.ZK=null;this.f=null;this.eo=[];
this.U_=[];i.cG(this.body,"flexrow");this.Ce=i.m("div","bordered");i.P(this.Ce,"min-width:13em;");this.body.appendChild(this.Ce);
this.dP=i.m("div","");i.P(this.dP,"width:25em; padding-left: 1em;");this.body.appendChild(this.dP);this.Zd=i.m("div","form");
i.P(this.Zd,"padding-left: 1em; width:7em;");this.body.appendChild(this.Zd);this.jx=i.Bn(this,this.Zd);
this.adh=new fU([12,87],!0,null,!0);this.adh.k("click",this.a91,this);this.Zd.appendChild(this.adh._);
this.NZ=new bC;this.NZ.parent=this;this.NZ.k(z.E.n,this.apE,this);this.Zd.appendChild(this.NZ._);this.k("closebtn",this.lH,this);
this.k("redrawall",this.aaH,this)}eM.prototype=new j9;eM.prototype.bA=function(){return!0};eM.prototype.Ls=function(){return!0};
eM.prototype.nD=function(s,M,O,P,y){var F=this.T6();if(F)F.nD(s,M,O,P,y)};eM.prototype.nh=function(s,M,O,P,y){var F=this.T6();
if(F)F.nh(s,M,O,P,y)};eM.prototype.Cq=function(s,M,O,P,y){var F=this.T6();if(F)F.Cq(s,M,O,P,y)};eM.prototype.T6=function(s){if(s==null)s=this.data.index;
return s==null?null:s==0?this.eo[0]:this.U_[s[0]][s[1]]};eM.prototype.apE=function(s){var M=this.NZ.V();
this.C0({Q:"setstl",K:M.bN});this.aaH(null)};eM.prototype.a91=function(s){var M=this.ZK,O=this.data.w;
if(O==null)O=M.Y[0];var P=this.ZK.U[O],y=cb.asD(P),F=new kg(z.E.c,!0);F.data={Q:z.J.ko,hP:"add",dh:g5.KE,BC:[a.G(y)]};
this.a(F)};eM.prototype.aJo=function(s){this.data.index=s.currentTarget.Xz;this.VR(s.currentTarget.Xz)};
eM.prototype.aaH=function(s){this.o3(this.ZK,this.data)};eM.prototype.VR=function(s,M){i.Lq(this.dP);
for(var R=0;R<this.eo.length;R++)this.eo[R].apQ();var O=this.T6(s);this.dP.appendChild(O.aDi());if(M)O.Ud();
var P=this.ZK;if(P){var y=P.U[this.data.w];this.eo[0].update(P,$.no.xg(P,y));var F=y.add.lmfx;if(F==null)return;
for(var R=0;R<aV.order.length;R++){var A=F[aV.e1[R]].v;for(var h=0;h<A.length;h++)this.U_[R][h].update(P,A[h].v)}}if(M)O.Ud()};
eM.prototype.T=function(){j9.prototype.T.call(this);this.adh.T();this.NZ.T();this.jx.T();for(var R=0;
R<this.eo.length;R++)this.eo[R].T()};eM.prototype.o3=function(s,M){var O=M.w==null;this.data.w=M.w;this.data.index=M.index;
M=this.data;this.ZK=s;if(O)M.w=s.Y.length==0?s.U.length-1:s.Y[0];i.Lq(this.Ce);var P=s.U[M.w].add.lmfx;
this.r$();this.eo=[new fD("bops",!1,0)];this.U_=[];for(var R=0;R<aV.order.length;R++){this.U_.push([]);
var y=P==null?[]:P[aV.e1[R]].v;for(var F=0;F<y.length;F++){var A=new fD(aV.order[R],!1,[R,F]);this.eo.push(A);
this.U_[R].push(A)}if(y.length==0){var A=new fD(aV.order[R],!1,[R,0]);this.eo.push(A);this.U_[R].push(A)}}this.T();
this.ayi(this.f,g5.rT);for(var R=0;R<this.eo.length;R++){this.eo[R].parent=this;this.eo[R].aFr(this.Ce);
this.eo[R].k("showme",this.aJo,this)}if(M.index==null||M.index==0||!O&&P[aV.e1[M.index[0]]].v.length==0){this.VR(0)}else this.VR(M.index,O);
this.k("afterchange",this.r$,this)};eM.prototype.r$=function(s){var M=this.ZK,O=this.data.w;if(O==null)O=M.Y[0];
var P=this.ZK.U[O],y=cb.asD(P);this.NZ.q(y,M.add.Patt?M.add.Patt:[],M.Cz(),M.$p())};eM.prototype.qy=function(s,M){this.f=s;
this.ayi(s,M);if(M==g5.KE||M==g5.rT){this.NZ.cA([s.ZB,s.ha])}if(M==g5.VE){}};eM.prototype.ayi=function(s,M){for(var R=0;
R<this.eo.length;R++)this.eo[R].qy(s,M)};eM.prototype.lH=function(s){this.C0({Q:"cancel"})};eM.prototype.Mk=function(s){this.C0({Q:"confirm"});
this.close()};eM.prototype.C0=function(s){s.w=this.data.w;var M=new kg(z.E.H,!0);M.data=s;M.l=$.qz;M.T8=!0;
this.a(M);this.r$()};eM.app=function(){var s=function(M){if(M==null||M.Y.length==0)return{e:!1};var O=M.U[M.Y[0]];
return{e:O.add.lmfx!=null}};return{name:[11,6],dc:!0,sub:[{name:[5,1],e:s},{name:[5,2]},{name:[2,2],e:s}]}};
eM.a66=function(){return{sub:[{g:z.E.H,l:$.qz,d:{Q:"st_copy"}},{g:z.E.H,l:$.qz,d:{Q:"st_paste"}},{g:z.E.H,l:$.qz,d:{Q:"st_clear"}}]}};
eM.xv=function(s){var M=[{name:[14,10],dc:!0}];for(var R=0;R<aV.names.length;R++)M.push({name:aV.names[R]});
if(s){M[M.length-1].dc=!0;M.push(eM.app());M.push({name:[6,30,1],e:function(O){return{e:O!=null&&O.Y.length!=0&&O.U[O.Y[0]].WB()}}});
M.push({name:["VAR0 VAR1",[12,49],[9,1]],e:function(O){return{e:O!=null&&O.Y.length!=0&&O.U[O.Y[0]].add.lmfx!=null}}})}return M};
eM.xn=function(s){var M=[{g:z.E.c,d:{Q:z.J.xL,Rj:"layerstyle"}}];for(var R=0;R<aV.names.length;R++)M.push({g:z.E.c,d:{Q:z.J.xL,Rj:"layerstyle",index:[R,0]}});
if(s){M.push(eM.a66());M.push({g:z.E.c,d:{Q:z.J.xL,Rj:"scaleeffects",dK:100,WC:{g:z.E.H,l:$.qz,d:{Q:"scaleeffects"}}}});
var O={classID:"Mk",null:f7.Ht("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
M.push({g:z.E.fa,d:{Cw:"make",kT:O}})}return M};eM.aqH=function(s){var M=[];if(s)M.push({name:[6,48,0,0],GL:!0},{name:[6,48,0,1],GL:!0},{name:[6,48,0,2],GL:!0,dc:!0});
for(var O in ak.names)M.push({name:ak.names[O],dc:ak.acY.indexOf(O)!=-1,GL:aB[O]!=null});return M};eM.z1=function(s){var M=[];
if(s){M.push({g:z.E.H,l:$.BI,d:{Q:"newfill",VK:0}});for(var R=1;R<3;R++)M.push({g:z.E.fa,d:$.gw.Gk(R)})}for(var O in ak.names){var P=bW.Jb(O);
if(P==null)P={};for(var y in ak.Oq)if(ak.Oq[y]==O)P.classID=y;var F={Cw:"make",kT:{classID:"Mk",null:f7.Ht("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:P}}}}};
M.push({g:z.E.fa,d:F})}return M};function hx(){j9.call(this,"Merge Channels","mergechannels");this.r0=null;
var s=i.m("div","form");this.body.appendChild(s);this.o8=[];for(var R=0;R<3;R++){var M=new d_(ak.Vs[R],[]);
this.o8.push(M);s.appendChild(M._);i.QP(s)}this.jx=i.Bn(this,s)}hx.prototype=new j9;hx.prototype.T=function(){j9.prototype.T.call(this);
this.jx.T();for(var R=0;R<3;R++)this.o8[R].T()};hx.prototype.o3=function(s,M,O,P){this.r0=O;var y=[];
for(var R=0;R<O.length;R++)y.push(O[R].name);for(var R=0;R<3;R++){var F=this.o8[R];F.ZG(y);F.q(Math.min(R,O.length-1))}};
hx.prototype.Mk=function(s){var M=this.r0,O=M[0],P=new kg(z.E.fa,!0);P.data=fr.gs(O.A,O.$,O.FR,"Merged Document","Wht",!1);
this.a(P);var y=[];for(var R=0;R<3;R++)y.push(M[this.o8[R].V()].Ta());var O=M[M.length-1],F=O.U[0],A=F.buffer;
for(var R=0;R<A.length;R+=4){A[R]=y[0][R];A[R+1]=y[1][R];A[R+2]=y[2][R]}F.vw();O.vw();this.close()};
function hZ(){j9.call(this,[1,10],"script");var s=i.m("div","form");i.P(s,"width:44em");this.body.appendChild(s);
this.f=null;this.AD=[];this.Du=[];this.apj;var M=this.Rg=new fU([1,2],!1,null,!0);M.k("click",this.YL,this);
s.appendChild(M._);var O=new fU("JS Reference",!1,null,!0);O.k("click",this.akN,this);s.appendChild(O._);
s.appendChild(new df("Demos:")._);this.asq=[];var P=hZ.i3;for(var R=0;R<P.length;R++){var y=new fU(P[R].aP,!1,null,!0);
this.asq.push(y);s.appendChild(y._);y.k("click",this.aJj,this)}this.PM=i.m("textarea");i.c0(this.PM);
this.PM.setAttribute("rows",16);i.P(this.PM,"display:block;tab-size:4; font-family:monospace;width:100%;");
s.appendChild(this.PM);var F=new fU("Run",!0,null,!0);F.k("click",this.Mk,this);s.appendChild(F._);this.me=i.m("div");
s.appendChild(this.me)}hZ.prototype=new j9;hZ.prototype.T=function(){this.Rg.T()};hZ.prototype.YL=function(){var s=this.apj;
if(s==null)s="script.jsx";var M=new kg(z.E.c,!0);M.data={Q:z.J.xL,Rj:"namewindow",dK:s.slice(0,s.length-4),Xp:this.akv.bind(this)};
this.a(M)};hZ.prototype.akv=function(s){var M=this.PM.value,O=c.WT(M),P=new kg(z.E.c,!0);P.data={Q:z.J.Jx,yH:O.buffer,TD:s+".jsx",aKI:!0};
this.a(P)};hZ.prototype.av$=function(s){var R=this.AD.indexOf(s.target),M=this.apj=this.Du[R],O=this.f.j2.TI[M],P=new Uint8Array(O),y=c.xJ(P,0,P.length);
this.PM.value=y};hZ.prototype.o3=function(s,M,O){this.PM.value=hZ.i3[0].ru;this.ay0()};hZ.prototype.ay0=function(){var s=this.f.j2,M=this.me;
i.Lq(M);this.AD=[];this.Du=[];M.textContent="Saved scripts: ";for(var O in s.TI){if(O.endsWith(".jsx")){var P=new fU(O,!1,null,!0);
this.AD.push(P);this.Du.push(O);P.k("click",this.av$,this);M.appendChild(P._)}}};hZ.prototype.qy=function(s,M){this.f=s;
if(M==g5.uM)this.ay0()};hZ.prototype.akN=function(s){var M=new kg(z.E.c,!0);M.data={Q:z.J.xR,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.a(M)};hZ.prototype.Mk=function(s){var M=this.PM.value,O=this.f.j2.TI;M=hZ.aJh(M,O);var P=new kg(z.E.c,!0);
P.data={Q:z.J.Mz,Pp:M};this.a(P)};hZ.aJh=function(s,M){var O=s.split("\n");for(var R=0;R<O.length;R++){var P=O[R].trim();
if(P.startsWith("#include")){var y=P.slice(P.indexOf("\"")+1,P.lastIndexOf("\"")),F=M[y];if(F==null)alert("\""+y+"\" not found in the Local Storage");
O[R]=hZ.aJh(c.xJ(new Uint8Array(F)),M)}}return O.join("\n")};hZ.prototype.aJj=function(s){var M=this.asq.indexOf(s.currentTarget);
this.PM.value=hZ.i3[M].ru};hZ.i3=[{aP:"Hello",ru:"\nalert(\"Hello Photopea!\");\n"},{aP:"Process Layers",ru:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{aP:"Clone Layers",ru:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function cs(){j9.call(this,[11,7],"newproject");this.data=null;this.r0=null;this.vB=0;var s=this.J3=i.m("div","flexrow");
this.body.appendChild(s);var M=this.co=i.m("div","form");s.appendChild(M);this.yn=new hH([12,48],null,10);
M.appendChild(this.yn._);i.QP(M);this.p_=new e5(!0,null,null,dc==1,!0);this.p_.q(new j6(1280,720),72);
if(dc==1){this.p_.q(new j6(8.3*72,11.7*72),72);this.p_.J$(4)}this.p_.a4V(!0,!0);this.p_.k(z.E.n,this.IC,this);
M.appendChild(this.p_._);this.dv=new ek;this.dv.parent=this;if(dc==0){i.QP(M);M.appendChild(this.dv._)}this.l3=new d_([13,6],fr.NX);
this.BM=new d_(null,["8 bit","16 bit","32 bit"]);this.a2U=new ho([1,16,1]);if(dc==0){M.appendChild(this.a2U._);
i.QP(M);M.appendChild(this.l3._);M.appendChild(this.BM._)}this.yn.Jl();this.p_.Jl();this.dv.Jl();this.l3.Jl();
this.BM.Jl();this.jx=new fU([12,49],!0,null,!0);this.jx.k("click",this.Mk,this);this.jx._.style.marginBottom="20px";
M.appendChild(this.jx._);var O=this.Cp=i.m("div","form");M.appendChild(this.Cp);var P=cs.RQ,y=[];for(var R=0;
R<P.length;R++)y.push(P[R].name);this.go=new e0(null,y);if(dc==1)this.go.q(1);this.go.k(z.E.n,this.hr,this);
O.appendChild(this.go._);this.mc=new ex(!0);this.mc.k(z.E.n,this.aBn,this);O.appendChild(this.mc._);
this.hr();this.ii=new cK;this.ii.parent=this;i.P(this.ii._,"margin-right:20px");this.ii.k("tempready",this.arA,this);
this.oX=this.Cp;this.ajE=new fU([25,0],null,null,!0);this.ajE.k("click",function(){var F;if(this.oX==this.Cp){this.oX=this.ii._;
F=[11,10]}else{this.oX=this.Cp;F=[25,0]}this.ajE.x3(F);this.GK(this.V5,this.fw-.001)},this)}cs.prototype=new j9;
cs.prototype.a6H=function(s){var M=this.V8,O=M.style.display!="none";M.style.display=O?"none":"";this.gK.x3(O?"\u02C5":"\u02C4");
this.GK(this.V5,this.fw-.001)};cs.prototype.qy=function(s,M){this.ii.qy(s)};cs.prototype.xc=function(s,M){return new j6(Math.max(0,Math.min(70,(s-690)/2)),s>M?Math.max(0,Math.min(50,(M-400)/2)):0)};
cs.prototype.GK=function(s,M){if(this.V5==s&&this.fw==M)return;this.V5=s;this.fw=M;var O=this.J3,P=this.Cp,y=this.ii._,F=this.co,A=330,h=500;
i.Lq(O);if(P.parentNode)P.parentNode.removeChild(P);if(y.parentNode)y.parentNode.removeChild(y);this.mc._.style.height=M-54-(s<730?30:0)+"px";
P.style.marginRight="20px";var m=this.ajE._;if(1100<s){h=(s-A)/2-32;O.appendChild(this.ii._);this.ii.GK(h,M-28);
O.appendChild(P);O.appendChild(this.co)}else if(520<s){if(s<750)A=280;h=s-A-44;O.appendChild(this.oX);
O.appendChild(m);i.P(m,"position:fixed; right:"+(A+40)+"px; bottom:20px;");O.appendChild(this.co);if(this.oX==y)this.ii.GK(h,M-27)}else{A=s-26;
h=A;P.style.marginRight="";F.appendChild(this.oX);F.appendChild(m);i.P(m,"position:fixed; right:16px; bottom:20px;");
O.appendChild(this.co);var Z=M-412+(dc==0?0:120);this.mc._.style.height=Z+"px";if(this.oX==y)this.ii.GK(h,Z+27)}i.P(F,"width:"+A+"px; line-height:3em;");
P.style.width=h+"px";this.hr(null,h)};cs.prototype.IC=function(){this.ii.q(this.p_.V())};cs.prototype.aBn=function(s){var M=this.mc.V()[0],O=cs.RQ[this.go.V()].GQ[M],P=O[4];
if(P==0||dc==1)P=72;var y=O[1],F=O[2],A=["px","%","mm","in"].indexOf(O[3]),h=[1,1,25.4/P,1/P][A];y/=h;
F/=h;this.p_.q(new j6(Math.round(y),Math.round(F)),P);this.p_.J$(A);this.IC();if(Date.now()-this.vB<300)this.Mk();
else dB.event("ndoc_Size click",.1);this.vB=Date.now()};cs.prototype.hr=function(s,M){if(M==null)M=this.aC3;
else this.aC3=M;if(M==null)return;var O=M<360?2:M<600?3:4,P=(M-5)/O-5,y=cs.RQ[this.go.V()].GQ,F=[],A=[],h=Math.floor(P*i.yD()),m=Math.floor(P*i.yD()),Z=0;
for(var R=0;R<y.length;R++)Z=Math.max(Z,y[R][1],y[R][2]);for(var R=0;R<y.length;R++){var u=y[R],f=u[1]+" x "+u[2]+" "+u[3];
if(u[3]=="in")f=(u[1]*25.4).toFixed(0)+" x "+(u[2]*25.4).toFixed(0)+" mm";if(u[3]=="mm")f=(u[1]/25.4).toFixed(1)+" x "+(u[2]/25.4).toFixed(1)+" in";
if(u[4])f=f+" @ "+u[4]+" ppi";A.push(f);F.push(cs.XB(u,h,m,Z))}this.mc.KC(F,A,h,m)};cs.XB=function(s,M,O,P){var y=a.FL(M,O),F=Math.round(M/8),A=Math.floor(13*i.yD()),h=s[1],m=s[2];
y.fillStyle="#000000";y.font=Math.round(A*.9)+"px \"Open Sans\", Sans-Serif";var Z=h+" x "+m+" "+s[3],u=y.measureText(Z);
y.fillText(Z,Math.round((M-u.width)/2),O-Math.round(F/2));if(s[0]!=null){y.font="bold "+A+"px \"Open Sans\", Sans-Serif";
var Z=s[0],u=y.measureText(Z);y.fillText(Z,Math.round((M-u.width)/2),O-Math.round(F/2)-Math.round(A*1.3))}var f=O-Math.round(2.5*A),U=Math.min((M-F)/h,(f-F)/m);
U*=.5+.5*(Math.max(h,m)/P);var C=(M-h*U)/2,H=(f-m*U)/2;y.strokeRect(Math.round(C)+.5,Math.round(H)+.5,Math.round(h*U),Math.round(m*U));
var t=y.getImageData(0,0,M,O).data;return b_.TB(t.buffer,M,O,null,null,!0)};cs.prototype.T=function(){j9.prototype.T.call(this);
this.p_.T();this.yn.T();this.dv.T();this.jx.T();this.yn.q(aW.get([11,7]));this.go.T();this.l3.T();this.BM.T();
this.a2U.T();this.ii.T()};cs.prototype.Mk=function(s){dB.event("ndoc_Create click",.1);var M=this.p_.V(),O=M.x,P=M.y;
this.close();var y=this.dv.V(),F=fr.wS[this.l3.V()],A=new kg(z.E.fa,!0);A.data=fr.gs(O,P,this.p_.L7(),this.yn.V(),["Wht","Blck","Trns","Clr"][y[0]],this.a2U.V(),y[1],F,8<<this.BM.V());
this.a(A);this.aqR()};cs.prototype.arA=function(s){dB.event("ndoc_Template click",.1);var M=s.data.ZK;
M.FR=this.p_.L7();var O=new kg(z.E.c,!0);O.data={Q:z.J.ma,ZK:M};this.a(O);this.close();this.aqR()};cs.prototype.aqR=function(){var s=this.r0[this.r0.length-1],M=this.data.aLz;
if(M)fE.Q8(function(){var O=new XMLHttpRequest,P="https://www.googleapis.com/drive/v3/files?"+fE.a7x();
O.open("POST",P,!0);O.setRequestHeader("Content-Type","application/json");O.addEventListener("load",function(y){var F=JSON.parse(y.target.response);
s.HK={file:F,T0:"psd"};alert(s.name+" created in Google Drive")});O.send(JSON.stringify({name:s.name,aI2:[M]}))})};
cs.prototype.o3=function(s,M,O,P){this.r0=O;if(s!=null&&s.h!=null){var y=new gi(0,0,s.A,s.$).OK(s.h.S);
this.p_.q(new j6(y.A,y.$))}this.data=M;this.IC();if(i.VM())cD.avP(this.C2.bind(this))};cs.prototype.C2=function(s){if(s=="granted")cD.kc(this,this.wX.bind(this))};
cs.prototype.wX=function(s,M){this.p_.q(new j6(M.A,M.$))};cs.RQ=[{name:"Social",GQ:[["FB Page Cover",1640,664,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Insta Portrait",1080,1350,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],GQ:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],GQ:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],GQ:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],GQ:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],GQ:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",GQ:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function jm(s,M,O){j9.call(this,M,"sel_"+s);this.Q=s;var P=i.m("div","form");this.body.appendChild(P);
this.yn=new hQ(M,0,255,null,0,!1,!0);P.appendChild(this.yn._);this.yn.q(1);this.yn.k(z.E.n,this.Dv,this);
var y=i.m("span");y.textContent=O;P.appendChild(y);i.QP(P);this.ajN=new ho("Apply at canvas bounds");
if(s!="border")P.appendChild(this.ajN._);this.jx=i.Bn(this,P);this.k("closebtn",this.VW,this)}jm.prototype=new j9;
jm.prototype.N3=function(s,M){if(s==null)return;if(s.h==null)alert("No selection!");return s.h!=null};
jm.prototype.VW=function(){var s=new kg(z.E.H,!0);s.l=$.FZ;s.data={Q:"h_undoredo"};this.a(s)};jm.prototype.Dv=function(s,M,O){if(M==null)this.VW();
var P=new kg(z.E.fa,!0);P.data=$.vm.vp(this.Q,this.yn.V(),this.ajN.V());P.T8=!0;if(O!=!0)P.data.aqu=!0;
this.a(P)};jm.prototype.Mk=function(s){this.Dv(null,null,!0);this.close()};jm.prototype.T=function(){j9.prototype.T.call(this);
this.jx.T();if(this.yn)this.yn.T()};jm.prototype.o3=function(s,M){this.yn.a7();this.Dv(null,!0)};function bw(s,M,O,P,y,F){j9.call(this,O,M);
this.aj$=F;this.jG=y;this.RQ=null;this.co=i.m("div","form");this.body.appendChild(this.co);this.aLD=i.m("div");
this.co.appendChild(this.aLD);var A=500;if(P){var h=P.split(",");P=h[0];if(h[1])A=parseFloat(h[1])}this.yn=s==0?new hH(O,null,10):s==1?new fB(O,0,A,P,1):new hH(O,null,24,5);
this.yn.k(z.E.n,this.Dv,this);this.co.appendChild(this.yn._);this.jx=i.Bn(this,this.co);this.k("closebtn",this.lH,this)}bw.prototype=new j9;
bw.prototype.xc=function(s,M){return new j6(Math.max(0,Math.min(150,(s-250)/2)),Math.max(0,Math.min(150,(M-120)/2)))};
bw.prototype.bA=function(){return this.aj$};bw.prototype.Dv=function(s){var M=this.yn.V();if(this.jG)this.fi(M)};
bw.prototype.lH=function(s){if(this.jG)this.fi("cancel")};bw.prototype.Mk=function(s){if(this.jG)this.fi("confirm");
else this.fi(this.yn.V());this.close()};bw.prototype.fi=function(s){if(this.RQ.Xp)this.RQ.Xp(s);else if(this.RQ.WC){var M=this.RQ.WC,O=new kg(M.g,!0);
O.l=M.l;O.data=M.d;O.data.K=s;O.T8=!0;this.a(O)}};bw.prototype.T=function(){j9.prototype.T.call(this);
this.jx.T();if(this.yn)this.yn.T()};bw.prototype.o3=function(s,M){this.RQ=M;this.yn.q(M.dK);this.yn.a7();
this.aLD.innerHTML=M.azi?M.azi:"";this.Dv(null)};function jS(){j9.call(this,[1,5],"open_from_url");this.hR=null;
var s=i.m("div","form");this.body.appendChild(s);this.aml=new hH("URL",null,22);s.appendChild(this.aml._);
i.QP(s);this.aow=new e0([21,0],[[21,2],[21,1]]);s.appendChild(this.aow._);this.jx=i.Bn(this,s)}jS.prototype=new j9;
jS.prototype.T=function(){j9.prototype.T.call(this);this.jx.T();this.aow.T()};jS.prototype.o3=function(s,M,O){this.aml.a7();
this.hR=null;if(s&&O.indexOf(s)!=-1)this.hR=O.indexOf(s)};jS.prototype.Mk=function(s){var M=new kg(z.E.c,!0),O=this.aml.V();
M.data={Q:z.J.Xi,dh:{url:O,iO:!0,hR:this.aow.V()==1?this.hR:null}};this.a(M);this.close()};function gb(){j9.call(this,[12,79],"preferences");
this.f=null;var s=i.m("div","form");s.style.width="290px";this.body.appendChild(s);this.OX=[new ho([8,2]),new aI,new aI,new ho([8,4]),new aI,new d_([12,80,3],[[12,93,3],[12,80,4]]),new hQ(["VAR0 X",[12,80,5]],.02,200,null,2),new d_(null,a.f8.e3),new hQ(["VAR0 Y",[12,80,5]],.02,200,null,2),new hQ("Subdivision",1,10),new d_([12,80,6],a.f8.e3),new d_([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]),new ho("Zoom with Scroll Wheel"),new ho("Glass Menus"),new hQ("Cursor Offset",0,200),new hH("Dezgo API Key")];
for(var R=0;R<this.OX.length;R++){var M=this.OX[R];M.parent=this;M.k(z.E.n,this._C,this);if(R==2){var O=new df("Local guides:");
s.appendChild(O._)}s.appendChild(M._);if(R!=0&&R!=1&&R!=3&&R!=4&&R!=6&&R!=8)i.QP(s);if(R==2||R==9||R==10)i.yV(s)}}gb.prototype=new j9;
gb.prototype.T=function(){j9.prototype.T.call(this);for(var R=0;R<this.OX.length;R++)this.OX[R].T()};
gb.prototype.o3=function(s,M,O){};gb.prototype.qy=function(s,M){this.f=s;var O=s.QZ;this.OX[0].q(O.FQ);
this.OX[1].ZS(O.E0);this.OX[2].ZS(O.B_);this.OX[3].q(O.W2);this.OX[4].ZS(O.SC);this.OX[5].q(O.fJ);this.OX[6].q(O.Pt);
this.OX[7].q(O.CV);this.OX[8].q(O.af==0?O.Pt:O.af);this.OX[9].q(O.Ms);this.OX[10].q(O.DQ);var P=window.locStor.getItem("__itp");
this.OX[11].q(P==null?1:P);var y=window.locStor.getItem("__zwh");this.OX[12].q(y==1);var F=window.locStor.getItem("__glm");
this.OX[13].q(F=="1");this.OX[14].q(s.c$);var A=window.locStor.getItem("__dak");this.OX[15].q(A?A:"")};
gb.prototype._C=function(s){var M=this.OX,O=a.G(this.f.QZ);O.FQ=M[0].V();O.E0=M[1].yl();O.B_=M[2].yl();
O.W2=M[3].V();O.SC=M[4].yl();O.fJ=M[5].V();O.Pt=M[6].V();O.CV=M[7].V();if(s.target==M[6]){M[8].q(M[6].V());
O.af=0}else O.af=M[8].V();O.Ms=M[9].V();O.DQ=M[10].V();var P=window.locStor;P.setItem("__itp",M[11].V());
P.setItem("__zwh",M[12].V()?"1":"0");P.setItem("__glm",M[13].V()?"1":"0");this.f.c$=M[14].V();var y=M[15].V();
if(y=="")P.removeItem("__dak");else P.setItem("__dak",y);var F=new kg(z.E.c,!0);F.data={Q:z.J.ko,dh:g5.Aw,IQ:O};
this.a(F)};function fK(){j9.call(this,[11,8],"saveforweb");this.a3l="";this.k("closebtn",function(){this.BU.VX()},this);
this.ZK=null;this.V_=null;this.aoI=null;this.f=null;i.cG(this.body,"flexrow");this.body.style.padding="0";
var s=i.m("div");i.P(s,"position:relative;");var M=i.m("div");this.body.appendChild(s);this.body.appendChild(M);
this.Za=i.m("div","imgcont");s.appendChild(this.Za);this.BU=new bD;this.BU.GK(512,512);var O=this.wz=i.m("video");
O.setAttribute("controls","");O.setAttribute("preload","auto");O.setAttribute("loop","");this.BE=i.m("div");
i.P(this.BE,"position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
s.appendChild(this.BE);var P=this.co=i.m("div","form cell");i.P(P,"width:195px; padding:9px 13px;");
M.appendChild(P);this.$D=new hH([12,48],null,7.6);this.$D.Jl();P.appendChild(this.$D._);var y=b_.qm();
y[y.indexOf("WEBP")]="webP";this.D8=new d_([12,50],y);this.D8._.style.marginRight="0";this.D8.Jl();P.appendChild(this.D8._);
this.D8.k(z.E.n,this.RB,this);i.QP(P);this.p_=new e5(!0,!0,!1,!0);this.p_.Jl();this.p_.k(z.E.n,this.RB,this);
this.p_.xj._.style.paddingBottom="8px";P.appendChild(this.p_._);this.Uo=new dK;this.Uo.k(z.E.n,this.RB,this);
P.appendChild(this.Uo._);this.zn=new fU([1,2],!1,null,!0);this.zn.k("click",this.Mk,this);P.appendChild(this.zn._);
this.gK=new fU("...",!1,null,!0);this.gK.k("click",this.Mk,this);P.appendChild(this.gK._)}fK.prototype=new j9;
fK.prototype.N3=function(s,M){return s!=null};fK.prototype.T=function(){j9.prototype.T.call(this);this.p_.T();
this.$D.T();this.D8.T();this.Uo.T();this.zn.T()};fK.prototype.Mk=function(s){var M=this.$D.V().trim(),O=b_.qm()[this.D8.V()],P=O=="JPG"||O=="PNG"||O=="GIF"||O=="SVG"||O=="WEBP",y=b_.O7(O),F="."+O.toLowerCase(),A=this.V_,h=M+F,m=this.ZK,Z=m.$X,u=this.Uo.V(),f=Z.length!=0&&P?u.slcs:0;
if(f!=0){var U=[],C={},H=new gi(0,0,m.A,m.$),t=a.Gp(m.Ta(),8);for(var R=0;R<Z.length;R++)U.push($.sc.kY(Z,R));
U.reverse();var X=a.S.aJi([0,0,m.A,m.$],U),Q=[];for(var R=0;R<X.length;R++){var D=X[R],L=new gi(D[0],D[1],D[2]-D[0],D[3]-D[1]),hS=""+(R+1);
if(hS.length<2)hS="0"+hS;hS=M+"_"+hS;if(D[4]!=null&&Z[D[4]].v.Nm)hS=Z[D[4]].v.Nm.v;var E="images/"+hS+F;
Q.push(E);if(f==2&&D[4]==null)continue;var _=a.j(L.C()*4);a.FP(t,H,_,L);if(C[E]){alert("There are multiple slices with a name \""+hS+"\"");
return}C[E]=new Uint8Array(y.u6([[_.buffer,0,m.FR,m.j0]],L.A,L.$,u))}Q.push("images/spacer.gif");var S="<html>\n<head>\n<title>"+M+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
S+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
S+="<!-- Save for Web Slices ("+m.name+") -->\n";S+=a.S.aoW(X,Q,Z,f)+"\n";S+="<!-- End Save for Web Slices -->\n";
S+="</body>\n</html>\n";var W=a.j(Math.round(S.length*1.5)),g=c.gS(S,W,0);C["index.html"]=W.slice(0,g);
A=UZIP.encode(C);h=M+".zip"}else if(m.aIc()&&P&&u.artb){var x=[],H,t;if(dc==0){H=new gi(0,0,m.A,m.$);
t=a.Gp(m.Ta(),8);var V=m.root.children;for(var R=0;R<V.length;R++){var b=V[R].w;if(b.add.artb==null||!b.CD())continue;
x.push([b.getName(),b.Kj()])}}else{H=m.Q9();t=new Uint8Array(m.Rc(this.f));var N=m.add.arts;for(var R=0;
R<N.length;R++){var J=N[R];x.push([J.TD,a.b.q7(J.rC)])}}var C={};for(var R=0;R<x.length;R++){var K,J=x[R][1];
if(O=="SVG")K=new Uint8Array(y.u6(m,J.A,J.$,u,this.f,R));else{var q=a.j(J.C()*4);console.log(H,J);a.FP(t,H,q,J);
K=new Uint8Array(y.u6([[q.buffer,0,m.FR,m.j0]],J.A,J.$,u))}C[x[R][0]+F]=K}A=UZIP.encode(C);h=M+".zip"}var d=s&&s.target==this.gK,l=function(){if(m.Qt)cD.QM("act=1&id="+m.Qt);
this.BU.VX();this.close();var F=b_.qm()[this.D8.V()];dB.event("efmt_"+F.toLowerCase(),.1);var B=new kg(z.E.c,!0);
B.data={Q:z.J.Q2,data:A,name:h};if(d){B.data={Q:z.J.xL,Rj:"storwindow",Eq:1,Wx:h,KK:A}}this.a(B)}.bind(this);
m.Wh();if(!this.f.Yl||dB.Mo()){l();return}var T=f9.hg()!=0;l();var B=new kg(z.E.c,!0),p=dN.BF("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),I=dN.BF(";QJXQ_*II9"),w=function(){B.data={Q:z.J.xL,Rj:"account"};
this.a(B)}.bind(this);if(T){p=dN.BF("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
w=function(){};I=null}B.data={Q:z.J.xL,Rj:dN.UB,K:p,Xp:w,ap6:I};if(Math.random()<.1||T)this.a(B)};fK.prototype.o3=function(s,M){if(M.gL!=null)this.D8.q(M.gL);
this.ZK=s;var O=this.ZK.name,P=O.lastIndexOf("."),O=P==-1?O:O.slice(0,P);this.$D.q(O);var y=s.A,F=s.$;
if(dc==1){var A=s.Q9();y=A.A;F=A.$}var h=y+","+F;if(h!=this.a3l){this.a3l=h;this.p_.q(new j6(y,F),s.FR)}this.Uo.awG();
this.RB(null,!0);if(M.a0S){this.p_.J$(3);var m=this.Uo.V();m.rall=!0;this.Uo.q(m)}this.zn._.focus()};
fK.prototype.alu=function(s,M){return s<M&&s<660};fK.prototype.xc=function(s,M){return this.alu(s,M)?new j6(0,0):new j6(Math.max(0,Math.min(150,(s-770)/2)),Math.max(0,Math.min(150,(M-590)/2)))};
fK.prototype.GK=function(s,M,O){this.V5=s;this.fw=M;if(this.ZK==null)return;var P=this.zn._,y=this.alu(s,M),F,A,U="<span style=\"width:",C="display:inline-block; text-align:right;\">";
if(y){var h=this.co.getBoundingClientRect().height;F=s;A=M-Math.max(h,252);i.VV(this.body,"flexrow")}else{F=Math.min(512,s-195-2*13);
A=Math.min(512,M-24);i.cG(this.body,"flexrow")}var m=y?s-2*13:195;this.co.style.width=m+"px";this.$D.Qn.style.width=m-78+"px";
this.p_.GK(m-1);this.zn._.style.width=m-28+"px";this.gK._.style.marginRight="0";var Z=b_.qm()[this.D8.V()],u=b_.O7(Z);
if(u.uQ||u.gD)i.P(this.Za.firstChild,"display:block; width:"+F+"px; height:"+A+"px;");else{this.BU.GK(F,A);
this.wz.width=F;this.wz.height=A}if(this.V_==null)return;var f=this.V_.byteLength,H=U+64+"px;"+C+fK.si(f)+"</span>";
if(F>400)H+=U+90+"px; opacity:"+.5+";"+C+f.toLocaleString()+" B</span>";this.BE.innerHTML=H;if(O)setTimeout(function(){this.GK(this.V5,this.fw)}.bind(this),20)};
fK.si=function(s){var M=s.toString(2),O=0;while(O+10<M.length)O+=10;var P=(s/Math.pow(2,O)).toFixed(1);
if(P.endsWith(".0"))P=P.slice(0,-2);var y="B KB MB GB TB PB".split(" ")[Math.floor(O/10)];return P+" "+y};
fK.prototype.qy=function(s,M){this.f=s};fK.prototype.RB=async function(s,M){var O=this.ZK,P=this.p_.V(),y=P.x,F=P.y,A=this.D8.V(),h=b_.qm()[A],m=b_.amy(O)[0].length,Z=["GIF","PNG","WEBP","MP4"].indexOf(h)!=-1&&m>1,t="";
if(Z&&h!="MP4"&&M&&(m>4&&y*F>1024*1024||y*F*m>800*800*50)){var u=1;while(Math.max(y>>>u,F>>>u)>800)u++;
var f=window.confirm("Your animation is large ("+y+" x "+F+" px). Press \"OK\" to scale it to "+(100>>>u)+"%. Press \"Cancel\" to keep the size.");
if(f){this.p_.q(new j6(y>>>u,F>>>u),null,!0);y=y>>>u;F=F>>>u}}var U=O.s5();this.Uo.m6(h,Z,O.$X.length!=0,O.aIc(),U!=null&&O.depth!=32,O.dj.length!=0,O.depth);
var C=window.locStor.getItem("sfwPrms");if(C==null)C={};else{C=JSON.parse(C);if(C.MP4&&C.MP4.qual==100)C.MP4.qual=50}var H=this.Uo.V();
if(s&&s.target==this.Uo){C[h]=H;window.locStor.setItem("sfwPrms",JSON.stringify(C))}else if(C[h]){this.Uo.q(C[h]);
H=this.Uo.V()}this.V_=await b_.Yg(O,h,y,F,H,this.f);if(this.V_==null){this.ZK=null;return}i.Lq(this.Za);
this.BU.VX();var X=b_.O7(h);if(X.gD){this.Za.innerHTML="<div></div>"}else if(X.uQ){var Q=y,D=F,L;if(h=="PDF"||h=="AI"){L=URL.createObjectURL(new Blob([this.V_],{type:"application/pdf"}))}else{L=URL.createObjectURL(new Blob([this.V_],{type:"image/svg+xml"}))}this.Za.innerHTML="<iframe src=\""+L+"\"></iframe>"}else if(h=="MP4"){var L=URL.createObjectURL(new Blob([this.V_]));
this.wz.setAttribute("src",L);this.Za.appendChild(this.wz)}else{var E=this.aoI=X.$c?await b_.aAq(X,this.V_):X.AR(this.V_),S=E[0],W=S.IK,Q=W.A,D=W.$;
if(S.depth!=null&&S.depth!=8)for(var R=0;R<E.length;R++){var g=E[R].depth==16?Uint16Array:Float32Array;
E[R].data=a.Gp(new g(E[R].data),8).buffer;E[R].depth=8}if(S.Uh){var x=ICC.R(S.Uh.buffer),V=17,b=ICC.U.sampleLUT(x,V);
for(var R=0;R<E.length;R++){var N=new Uint8Array(E[R].data);ICC.U.applyLUT(b,V,N,N)}}this.BU.q(E,E.length>1?H[H.length-3]:0);
this.Za.appendChild(this.BU._);t="background: rgba(0,0,0,0);"}i.P(this.Za,"display:block; "+(X.gD?"background:rgba(0,0,0,0);":"background-size:"+16/i.yD()+"px;")+t);
this.GK(this.V5,this.fw,M)};function iN(){j9.call(this,[11,13],"shortcuts");this.f=null;var s=this.J3=i.m("div","scrollable");
i.P(s,"min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(s);this.V7()}iN.prototype=new j9;
iN.prototype.T=function(){j9.prototype.T.call(this);this.V7()};iN.prototype.qy=function(s,M){this.f=s};
iN.prototype.o3=function(s,M,O,P){if(i.qE(this._))this.V7()};iN.prototype.V7=function(){var s="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",M="",O=hj,P=O.yu,y=O.Y1,F=O.tT;
M+="<h2 style=\"margin-top:0;\">Main Menu</h2>";M+=s;M+=this.WL([[0,0],"---",[1,0],[P,O.ki],[1,2],[P,O.L8],[1,3],[y,P,O.L8],[1,8],[F,y,P,O.L8],[0,1],"---",[2,0],[y,P,O.sN],[2,1],[P,O.sN],[5,0],[P,O.lk],[5,1],[P,O.fG],[5,2],[P,O.kv],[2,2],"Delete",[2,3],[F,O.Di],[10,16],[F,P,O.aD],[12,79],[P,O.fB],[3],"---",[4,1],[P,O.Yk],[4,2],[P,O.RR],[4,5],[P,O.km],[4,11],[P,O.hK],[0,3],"---",[6,13],[y,P,O.UE],[6,49,0],[P,O.tF],[6,6,0],[F,P,O.jX],[6,9],[P,O.jX],[6,10],[P,O.E],[0,5],"---",[7,0],[P,O.J],[7,1],[P,O.wQ],[7,2],[y,P,O.hK],[0,7],"---",[8,0],[P,O.OA],[8,1],[P,O.rl],[8,3],[P,O.ho],[8,2],[P,O.tk],[8,4],[P,O.hn],[11,13],"?"]);
M+="</div>";M+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";M+=s;M+=this.WL(["Vertical scroll","Wheel","Horizontal scroll",[P,"Wheel"],"Zooming",[F,"Wheel"]]);
M+="</div>";M+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
M+=s;M+=this.WL([[10,11],[P],[10,7],"Space",[10,17],[P,O.u_]]);M+="</div>";M+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
M+=s;var A=[],h=this.f;if(h==null)return;var m=h.Z;for(var R=0;R<m.JH.length;R++){var Z=m.JH[R],u=m.keys[R];
for(var f=0;f<Z.length;f++)A.push(Z[f].l.name,u?u.aP:null)}A=A.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[P,O.YF]]);
M+=this.WL(A);M+="</div>";this.J3.innerHTML=M};iN.prototype.WL=function(s){var M="",O=!0;for(var R=0;
R<s.length;R+=2){var P=s[R],y=hj.oC(s[R+1]);if(y==null){O=!1;continue}var F=i.uu(aW.get(P));if(y=="---"){if(!O)M+="<br/>";
M+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+F+"</div>"}else M+="<div>"+F+" <span style=\"float:right; font-weight:bold;\">"+y+"</span> </div>";
O=!1}return M};function ha(s){j9.call(this,s?"Artboard Options":[8,11,1],(s?"a":"s")+"options");this.jY=null;
this.alR=s;var M=i.m("div","form");M.style.width="20em";this.body.appendChild(M);this.Sv={Nm:[12,48],url:"URL",null:[12,71]};
this.OX={};for(var O in this.Sv){if(s&&O!="Nm")continue;var P=new hH(this.Sv[O],null,15);this.OX[O]=P;
M.appendChild(P._)}this.atY=new df([12,14,0]);M.appendChild(this.atY._);this.OF=new ku(0,!s);M.appendChild(this.OF._);
this.jx=i.Bn(this,M)}ha.prototype=new j9;ha.prototype.o3=function(s,M,O){var P=M.K;this.jY=JSON.stringify(P);
console.log(P);if(P.rC){this.OX.Nm.q(P.TD);var y=P.rC,F=y[0],A=y[1];this.OF.q([F,A,y[2]-F,y[3]-A])}else{for(var h in this.Sv){this.OX[h].q(P[h]?P[h].v:"")}var m=P.bounds.v,F=m.Left.v,A=m.Top.v;
this.OF.q([F,A,m.Rght.v-F,m.Btom.v-A])}};ha.prototype.Mk=function(s){var M=JSON.parse(this.jY),O=new kg(z.E.H,!0),P=this.OF.V(),y=P[0],F=P[1];
console.log(P);if(this.alR){M.TD=this.OX.Nm.V();M.rC=[y,F,y+P[2],F+P[3]];O.l=$.wq;O.data={Q:"rpl",K:M}}else{for(var A in this.Sv){var h=this.OX[A].V();
M[A]={t:"TEXT",v:h}}var m=M.bounds.v;m.Left.v=y;m.Top.v=F;m.Rght.v=y+P[2];m.Btom.v=F+P[3];O.l=$.bj;O.data=M}O.T8=!0;
this.a(O);this.close()};ha.prototype.T=function(){j9.prototype.T.call(this);this.jx.T();this.atY.T();
this.OF.T()};function bf(){j9.call(this,[2,3],"fill");this.lX=null;var s=i.m("div","form padded");s.style.width="22em";
this.body.appendChild(s);this.J5="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.eV=new d_([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.eV.k(z.E.n,this.atA,this);s.appendChild(this.eV._);this.Za=i.m("span");s.appendChild(this.Za);this.zd=new aI;
this.zd.parent=this;this.zd.ZS(0);this.hx=new gO;this.hx.parent=this;this.ahT=new d_([12,19,0],h0.lq,h0.P1);
s.appendChild(this.ahT._);this.yk=new fB([12,0],0,100,"%",0,!1);this.yk.q(100);s.appendChild(this.yk._);
this.bv=new ho([13,5]);this.bv.q(!1);s.appendChild(this.bv._);this.jx=i.Bn(this,this.body)}bf.prototype=new j9;
bf.prototype.N3=function(s,M){return s!=null};bf.prototype.bA=function(){return!0};bf.prototype.atA=function(){var s=this.eV.V(),M=this.zd._,O=this.hx._,P=this.Za;
if(s==2)P.appendChild(M);else if(P.contains(M))P.removeChild(M);if(s==7)P.appendChild(O);else if(P.contains(O))P.removeChild(O)};
bf.prototype.T=function(){j9.prototype.T.call(this);this.eV.T();this.ahT.T();this.yk.T();this.bv.T();
this.jx.T()};bf.prototype.Mk=function(s){if(!this.lX.Y7())return;var M=new kg(z.E.fa,!0),O=this.eV.V();
M.data=$.am.Gk(this.J5[O],h0.n$[this.ahT.V()],this.yk.V()/100,this.zd.V(),this.bv.V(),this.hx.V());this.close();
this.a(M)};bf.prototype.o3=function(s,M){this.lX=s};bf.prototype.qy=function(s,M){if(M==g5.rT||M==g5.fV){this.hx.cA(s.ha);
this.hx.q({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function hB(){j9.call(this,[14,9],"stroke");this.f=null;this.co=i.m("div","form");i.P(this.co,"width:24em");
this.body.appendChild(this.co);this.FD=new fD("FrFX",!0);this.FD.parent=this;var s=["Sz","Styl","Md","Opct"].concat(aV.IA);
for(var R=0;R<s.length;R++){var M=this.FD.DD[s[R]]._;this.co.appendChild(M)}this.K3=!1;this.jx=i.Bn(this,this.body)}hB.prototype=new j9;
hB.prototype.N3=function(s,M){return s!=null};hB.prototype.bA=function(){return!0};hB.prototype.T=function(){j9.prototype.T.call(this);
this.jx.T();this.FD.T()};hB.prototype.Mk=function(s){var M=this.FD.V(),O={classID:"Strk"};O.Md=M.Md;
O.Opct=M.Opct;O.Clr=M.Clr;O.Wdth={t:"long",v:M.Sz.v.val};var P=aV.stroke.types.indexOf(M.Styl.v.FStl);
O.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][P]}};var y=new kg(z.E.fa,!0);y.data={Cw:"stroke",kT:O};
this.close();this.a(y)};hB.prototype.o3=function(s,M){if(!this.K3){var O=aV.d$[aV.order.indexOf("FrFX")];
O=JSON.parse(O);this.FD.update(s,O);this.K3=!0}var O=this.FD.V(),P=this.f.UC;O.Clr.v=a.wv.gN({o:P>>16&255,R:P>>8&255,X:P&255});
this.FD.update(s,O)};hB.prototype.qy=function(s,M){this.f=s};function jJ(){j9.call(this,[11,9],"textwarp");
this.OX=new b$;this.OX.k(z.E.n,this.pM,this);this.OX.parent=this;this.co=i.m("div","form");i.P(this.co,"width:20em");
this.body.appendChild(this.co);this.co.appendChild(this.OX.MH._);this.co.appendChild(this.OX.HI._);this.co.appendChild(this.OX.y0._);
this.co.appendChild(this.OX.Py._);this.co.appendChild(this.OX.v2._);this.jx=i.Bn(this,this.co);this.k("closebtn",this.lH,this)}jJ.prototype=new j9;
jJ.prototype.bA=function(){return!0};jJ.prototype.T=function(){j9.prototype.T.call(this);this.jx.T();
this.OX.T()};jJ.prototype.pM=function(s){var M=this.OX.V();this.fi({Q:"warp",Z6:M})};jJ.prototype.fi=function(s){var M=new kg(z.E.H,!0);
M.l=$.El;M.data=s;M.T8=!0;this.a(M)};jJ.prototype.lH=function(s){this.fi({Q:"warpCancel"})};jJ.prototype.Mk=function(s){this.fi({Q:"warpConfirm"});
this.close()};jJ.prototype.o3=function(s,M){var O=s.U[s.Y[0]];this.OX.q(O.add.TySh.jR)};function ar(){j9.call(this,[11,12,0],"trim");
var s=this.co=i.m("div","form");i.P(this.co,"width:22em");this.body.appendChild(this.co);var M=new df("Color To Trim:");
s.appendChild(M._);this.bo=new d5(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.bo.q([!0]);this.co.appendChild(this.bo._);var M=new df("Sides:");s.appendChild(M._);this.Zo=new d5(null,["Top","Left","Bottom","Right"]);
this.Zo.q([!0,!0,!0,!0]);this.co.appendChild(this.Zo._);this.jx=i.Bn(this,this.body)}ar.prototype=new j9;
ar.prototype.N3=function(s,M){return s!=null};ar.prototype.bA=function(){return!0};ar.prototype.T=function(){j9.prototype.T.call(this);
this.bo.T();this.Zo.T();this.jx.T()};ar.prototype.Mk=function(s){var M=this.bo.V().indexOf(!0),O=this.Zo.V(),P=new kg(z.E.fa,!0);
P.data=$._P.lf(M,O);this.close();this.a(P)};function h6(){j9.call(this,"Raw Photopea","rawpea");this.nM=null;
this.body.style.padding="0";var s=this.j7=new aB["Adobe Camera Raw Filter"](!0),M="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(s._);this.l3=new d_("Space",fr.NX);this.BM=new d_(null,["8 bit","16 bit","32 bit"]);
this.aod=new fU([1,0],!0,null,!0);this.aod.k("click",this.Mk,this);this.U3=new fU(M+" JPG",!0,null,!0);
this.U3.k("click",this.a7q,this);s.LV(this.l3._);s.LV(this.BM._);s.LV(this.aod._);s.LV(this.U3._)}h6.prototype=new j9;
h6.prototype.xc=function(){return new j6(0,0)};h6.prototype.GK=function(s,M){this.j7.GK(s,M)};h6.prototype.qy=function(s,M){this.j7.qy(s,M)};
h6.prototype.T=function(){j9.prototype.T.call(this);this.j7.T()};h6.prototype.a7q=function(s){var M=this.j7.aBb(0,8),O=M[1],P=b_.O7("JPG").u6([[M[0].buffer]],O.A,O.$,[85]),y=new kg(z.E.c,!0);
y.data={Q:z.J.Q2,data:P,name:"photo.jpg"};this.a(y)};h6.prototype.Mk=function(s){var M=this.nM,O=8<<this.BM.V(),P=this.l3.V(),y=jW.hM(M),F=this.j7.aBb(P,O),A=F[1],M={IK:A,data:F[0].buffer,j0:y,depth:O},h=b_.T7("Raw Photo",[M]);
if(P!=0)h.A1(b_.gy.get(fr.uX[P]));var m=new kg(z.E.c,!0);m.data={Q:z.J.ma,ZK:h};this.a(m);this.ec();
this.close()};h6.prototype.ec=function(){this.nM=null;this.j7.a7A()};h6.prototype.o3=function(s,M,O,P){this.nM=M.qJ;
this.j7.adO(M.qJ)};h6.prototype.cZ=function(s){return!0};h6.prototype.lJ=function(s,M,O,P){j9.prototype.lJ.call(this,s,M,O,P);
this.j7.lJ(P)};function bF(s){j9.call(this,s?[11,11,0]:[11,11,1],s?"vbitmap":"rcolors");this.RQ=null;
this.an=null;this.au8=null;this.M7=null;this.O_=null;this.abu=null;this.ZK=null;this.f=null;this.o8="";
this.ei=s;this.FK=this.Ro.bind(this);this.al8=!1;this.body.style.padding="0";this.co=i.m("div","form hbar padded");
this.body.appendChild(this.co);this.Zh=new d5(null,["Fill","Stroke","Labels"]);this.Zh.k(z.E.n,this.Ro,this);
var M=i.m("span","rangecontFloat form padded"),m=16;M.appendChild(this.Zh._);i.P(M,"position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var O=new hV;O._=M;var P=this.JV={cnum:new hQ([12,82],2,50,null),ctab:new g9,nois:new ho([12,81]),mode:new d_(null,["Cartoon","Photo"]),segm:new ho("Segmentize"),cbok:new ho("Coloring book"),poly:new ho("Polygon"),merg:new ho("Merge colors"),polE:new hQ("Roughness",2,30,null),dthr:new ho([12,23,3]),vprm:new fU("\u2026",!1,null,!0),ok:i.Bn(this,null,!1)},y=this;
for(var F in P){var A=P[F];A.parent=this;if(F=="ok"){}else if(F=="vprm"){A.k("click",function(u){var f=P.vprm._.getBoundingClientRect(),U=new kg(z.E.c,!0);
U.data={Q:z.J.EU,uJ:O,x:f.left,y:f.top+20};y.a(U)})}else A.k(z.E.n,this.Ro,this)}var h=this.NG=i.m("div","flexrow");
this.body.appendChild(h);i.P(h,"background-color:var(--bg-canvas)");this.O9=new bD;this.O9.k("viewchange",this.CT,this);
this.sQ=new bD;this.Tb=i.m("canvas");i.P(this.Tb,"margin:0 0 0 1px; padding:0; cursor:grab;");this.KM=this.Tb.getContext("2d");
var Z=a.j(16*16*4);a.eZ(Z,m,m,8);this.SM=a.scale.g1(Z,m,m);this.O9.aL7(this.Tb);this.O9.tH(this.sQ);
this.sQ.tH(this.O9);h.appendChild(this.O9._);if(s)h.appendChild(this.Tb);else h.appendChild(this.sQ._)}bF.prototype=new j9;
bF.prototype.xc=function(){return new j6(0,0)};bF.prototype.bA=function(){return!0};bF.prototype.GK=function(s,M){this.V5=s;
this.fw=M;M=M-44;if(s<600)M-=29;if(this.RQ==null)return;var O=this.RQ.IK,P=a1.ct(s,M,O.A,O.$);if(P==1)M-=3;
if(P==0){s=Math.floor(s/2);i.cG(this.NG,"flexrow")}else{M=Math.floor(M/2);i.VV(this.NG,"flexrow")}i.MQ(this.Tb,s,M);
this.O9.GK(s,M);if(this.ei)this.CT();else this.sQ.GK(s,M)};bF.prototype.lJ=function(s,M,O,P){this.O9.lJ(P)};
bF.prototype.T=function(){j9.prototype.T.call(this);for(var s in this.JV)this.JV[s].T()};bF.prototype.o3=function(s,M){this.ZK=s;
this.O_=null;var O=s.U[s.Y[0]],P=a.rR.awi(O.buffer.buffer,O.S.A,O.S.$).aho,y=P/((O.S.A-2)*(O.S.$-2)),F=this.JV;
F.cnum.q(20);F.nois.q(y<.75);F.mode.q(y<.75?1:0);F.segm.q(!1);F.cbok.q(!1);F.poly.q(!1);F.merg.q(!0);
F.polE.q(1);F.dthr.q(!1);var A=O.S.v();A.x=A.y=0;this.RQ={IK:A,data:O.buffer.buffer.slice(0)};this.an=null;
this.GK(this.V5,this.fw);this.O9.q([this.RQ]);this.O9.Pe();this.al8=!0;this.Zh.q([!0,!1,!1]);setTimeout(this.FK,20)};
bF.prototype.Ro=function(s){var M=!0,O=Date.now(),P=this.RQ,y=this.JV,F=y.cnum.V(),A=y.nois.V(),h=y.mode.V(),m=y.segm.V(),Z=y.cbok.V(),u=y.poly.V(),f=y.merg.V(),U=y.polE.V(),b=null;
if(h==0)m=u=Z=!1;var C=y.dthr.V(),H=["cnum","mode","ctab","nois"];if(h==1){H.push("cbok");if(this.ei){H.push("poly");
if(u)H.push("polE");H.push("vprm")}}if(this.ei)H.push("merg");else H.push("dthr");H.push("ok");i.Lq(this.co);
for(var R=0;R<H.length;R++)this.co.appendChild(y[H[R]]._);if(M)console.log("---------------------------------------");
var t=A||m,X=A+","+m;if(t&&(this.an==null||this.o8!=X)){this.o8=X;var Q=new Uint8Array(P.data),D=P.IK.A,L=P.IK.$;
if(A){if(this.O_==null){this.O_=Q.slice(0);a.LG.eO=35;a.LG.lp(this.O_,this.O_,D,L,15,1);if(M){console.log("denoise",Date.now()-O);
O=Date.now()}}Q=this.O_.slice(0)}else Q=Q.slice(0);if(m){var E=a.rR.Q_(Q,D,L,40,10),_=E.fB,S=new Uint8Array(_*4);
for(var R=0;R<_;R++){var W=R*4,g=R*6,x=1/E.$S[g+5];S[W]=E.$S[g]*x;S[W+1]=E.$S[g+1]*x;S[W+2]=E.$S[g+2]*x}for(var R=0;
R<Q.length;R+=4){var V=E.EL[R>>>2]*4;Q[R]=S[V];Q[R+1]=S[V+1];Q[R+2]=S[V+2]}if(M){console.log("segm",Date.now()-O);
O=Date.now()}}this.an={IK:P.IK.v(),data:Q.buffer}}if(t)P=this.an;var Q=new Uint8Array(P.data),D=P.IK.A,L=P.IK.$;
for(var R=0;R<Q.length;R+=4){if(Q[R+3]<10)Q[R]=Q[R+1]=Q[R+2]=Q[R+3]=0}if(s==null||s.target==this.JV.cnum||s.target==this.JV.mode){if(h==0){b=a.rR.amI(Q,D,L,F,t?.1:2e-4);
b.bB=iU.awc(b.bB);if(M){console.log("quantize",Date.now()-O);O=Date.now()}}if(h!=0||b&&b.bB.length<2){b=iU.aFM(Q.buffer,F,D,L)}this.JV.ctab.q(b.bB)}else{var S=this.JV.ctab.V(),V=a.j(D*L);
UPNG.encode.dither(Q,D,L,iU.Gs(S),Q.slice(0),V,0);b={EL:V,bB:S};this.JV.cnum.q(S.length)}if(Z){var S=new Uint32Array(iU.Gs(b.bB));
b.EL=a.ao7(Q,D,L,new Uint8Array(S.buffer))}if(this.ei){var N=b.EL.slice(0);for(var R=0;R<N.length;R++)N[R]++;
this.OR=a.rR.aEw(b.EL,D,L);var J=new Uint8Array((D+2)*(L+2));a.TT(N,new gi(1,1,D,L),J,new gi(0,0,D+2,L+2));
if(!u){var K=Math.round((D+2)*(L+2)/1e4),q=iq.Lm(J.slice(0),D+2,L+2,Math.min(12,K)),d=iq.Iv(q);if(M){console.log("trace smooth",Date.now()-O);
O=Date.now()}}else{var d=a.b.Pw(J,D+2,L+2,U,M)}var l=d.length,T=new kp(1,0,0,1,-1,-1);for(var R=0;R<l;
R++)a.b.M(d[R].path.L,T,d[R].path.L);this.M7=d;for(var R=0;R<l;R++){var B=d[R];if(b.bB[B.color-1][1].cd>10)continue;
var p=B.parent;while(p!=-1){var I=d[p];p=I.parent;if(b.bB[I.color-1][1].cd<10)break;a.b.concat(I.path,a.b.reverse(B.path))}}if(M){console.log("finding holes",Date.now()-O);
O=Date.now()}for(var R=0;R<d.length;R++){var w=d[R];if(w.parent!=-1){var e=d[w.parent];w.parent=e;if(e.pZ==null)e.pZ=[];
e.pZ.push(w)}w.depth=w.parent==-1?0:w.parent.depth+1}if(f){function G(bq,r){var di={},il=0,j0=0;for(var R=0;
R<bq.length;R++){var a7=bq[R].color,j1="c"+a7;if(a7==r)throw a7;if(di[j1]==null)di[j1]=0;di[j1]++;if(di[j1]>il){il=di[j1];
j0=a7}}return j0}var j=[],o=[],r=-1,k=!0;for(var R=0;R<d.length;R++)if(d[R].parent==-1)o.push(d[R]);
while(o.length!=0){var a7=G(o,r);r=a7;for(var R=0;R<o.length;R++)if(o[R].color==a7){var Y=o[R];j.push(Y);
o.splice(R,1);R--;if(Y.pZ)for(var v=0;v<Y.pZ.length;v++){o.push(Y.pZ[v]);if(Y.pZ[v].color!=a7)k=!1}}}if(k)d=j;
else{var n=[];for(var cm=0;cm<500;cm++){var a5=[],q=n[cm-1];n.push(a5);for(var R=0;R<d.length;R++){var w=d[R],e=w.parent;
if(cm==0&&e==-1||cm!=0&&q.indexOf(e)!=-1){a5.push(w);d.splice(R,1);R--}}a5.sort(function(bq,di){return bq.color-di.color});
if(d.length==0)break}for(var R=0;R<n.length;R++)d=d.concat(n[R])}}else{var j=[],gP=[];while(d.length!=0){gP.push(d.shift());
while(gP.length!=0){var cg=gP.pop();j.push(cg);if(cg.pZ)for(var R=0;R<cg.pZ.length;R++){var w=cg.pZ[R];
d.splice(d.indexOf(w),1);gP.push(w)}}}d=j}this.M7=d;for(var R=0;R<d.length;R++){var B=d[R],a9=b.bB[B.color-1][1];
if(a9.cd<=10){d.splice(R,1);R--;continue}}for(var R=1;R<d.length;R++){var ew=d[R-1],B=d[R];if(ew.color==B.color&&(f||ew.parent==B.parent&&ew.depth>=2)){a.b.concat(ew.path,B.path);
d.splice(R,1);R--;continue}}if(M){console.log("reordering layers",Date.now()-O,l,d.length);O=Date.now()}this.au8=b;
this.CT()}else{var h7=new Uint32Array(D*L),bh=D*L,ba=this.abu=new Uint8Array(h7.buffer),jx=new Uint32Array(iU.Gs(b.bB));
if(C){var c4=new Uint8Array(P.data).slice(0);a.AA(c4);a.AA(new Uint8Array(jx.buffer));UPNG.encode.dither(c4,D,L,jx,ba,a.j(D*L));
a.alF(ba)}else{for(var R=0;R<bh;R++)h7[R]=jx[b.EL[R]]}this.sQ.q([{IK:P.IK,data:h7.buffer}]);if(this.al8){this.sQ.Pe();
this.al8=!1}}};bF.prototype.CT=function(s){if(this.M7==null)return;var M=this.Zh.V(),O=this.RQ.IK.A,P=this.RQ.IK.$,y=this.M7,F=this.Tb,A=this.KM,h=this.O9.Ed(),Z="rgba(0,0,0,0.3)";
A.setTransform(1,0,0,1,0,0);A.clearRect(0,0,F.width,F.height);A.translate(F.width/2,F.height/2);A.scale(h.xq,h.xq);
A.translate(h.p.x/h.xq-O/2,h.p.y/h.xq-P/2);A.scale(1/h.xq,1/h.xq);A.fillStyle=this.SM;A.fillRect(0,0,O*h.xq,P*h.xq);
A.scale(h.xq,h.xq);A.lineWidth=(O+P)*5e-4;var m=this.Al();A.strokeStyle=Z;for(var u=0;u<2;u++){if(!M[u])continue;
for(var R=0;R<y.length;R++){var f=y[R],U=m[f.color-1];if(U.cd==0)continue;A.fillStyle=U.xf;A.beginPath();
Typr.U.pathToContext({crds:f.path.L,cmds:f.path.J8},A);if(u==0)A.fill();else A.stroke()}}if(M[2])this.a7H(A,O,P)};
bF.prototype.Al=function(){var s=this.au8.bB,M=[];for(var R=0;R<s.length;R++){var O=s[R][1];O.xf="rgba("+O.o+","+O.R+","+O.X+","+O.cd/255+")";
M.push(O)}return M};bF.prototype.a7H=function(s,M,O){var P=this.Al(),y=this.ah6(M,O,P);function F(Z,u,f,U){s.font=U+"px sans-serif";
Z++;var C=s.measureText(Z);s.fillText(Z,u-C.width/2,f+U*.25)}s.fillStyle="rgba(0,0,0,0.5)";var A=this.OR;
for(var R=0;R<A.length;R++){var h=A[R];if(h[3]<M*O*5e-4)continue;F(h[2],h[0],h[1],(M+O)*.008)}s.fillStyle="rgba(255,255,255,1)";
s.fillRect(0,0,y,y*P.length);for(var R=0;R<P.length;R++){var m=P[R];s.fillStyle=m.xf;s.fillRect(y,y*R,y,y);
s.fillStyle="black";F(R,y*.5,y*(R+.5),y*.65)}};bF.prototype.ah6=function(s,M,O){var P=O.length*(s+M)/70;
return Math.min(M,P)/O.length};bF.prototype.Mk=function(s){var M=this.ZK,O=M.Y[0],P=M.U[O],y=new kg(z.E.H,!0);
y.T8=!0;y.l=$.mu;var F=this.f.s4,A=this;if(this.ei){var h=this.Al(),u=0,U=!1;function m(Q,t){var X=M.Tk();
X.N_=t.cd;X.Xa|=16;X.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN(t)}};X.add.vmsk=new ad.Vp;X.add.vstk=aV.To.Jb(!0);
X.add.vmsk.u=Q;X.$k();X.uH(M);return X}var Z=this.Zh.V();for(var R=0;R<3;R++)if(Z[R])u++;if(u==0){alert("Enable Fill, Stroke or Labels");
return}var f=this.M7;if(u==1&&Z[0]&&f.length==1)U=!0;var C=M.U.slice(0,O);if(!U)C.push(M.kA());if(Z[0])for(var R=0;
R<f.length;R++){var H=f[R],t=h[H.color-1];a.b.M(H.path.L,new kp(1,0,0,1,P.S.x,P.S.y),H.path.L);var X=m(a.b.Ie(H.path,!1),t);
X.jj("Path "+R);C.push(X)}if(Z[1]){var X=M.Tk();X.jj("Stroke");C.push(X);X.N_=128;X.Xa|=16;X.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.wv.gN({o:0,R:0,X:0})}};
X.add.vmsk=new ad.Vp;X.add.vstk=aV.To.Jb(!1,!0);var Q=[];for(var R=0;R<f.length;R++){var H=f[R],D=a.b.Ie(H.path,!1);
if(R==0)Q=D;else Q=Q.concat(D.slice(2))}X.add.vmsk.u=Q;X.$k();X.uH(M)}if(Z[2]){var L=this.RQ.IK,E=L.A,_=L.$,S=this.ah6(E,_,h);
C.push(M.kA());function W(J,K,q,d){J=1+J+"";var X=M.Tk();C.push(X);X.N_=d;X.add.lnsr="rend";var l=X.add.TySh=iP.cN(K-S*.2,q+S*.25),T=X.add.TySh.nA,B=iP.ty(T,0,0);
B.TY.FontSize=Math.round(S*.6);iP.UP(T,0,0,B);iP.Xq(T,0,J);X.IT();if(bZ.fT(l,F,A)){bZ.lC(X,F,M);M.vw()}}var g=this.OR;
for(var R=0;R<g.length;R++){var x=g[R];if(x[3]<E*_*5e-4)continue;W(x[2],x[0],x[1],128)}var X=m(a.z.uU.Rect(0,0,S,S*h.length),{o:255,R:255,X:255,cd:255});
X.jj("white");C.push(X);for(var R=0;R<h.length;R++){var t=h[R],X=m(a.z.uU.Rect(S,S*R,S,S),t);X.jj("color");
C.push(X);W(R,S/2,S*(R+.5),255)}var X=M.Tk();X.jj("Labels");X.add.lsct=dU.aY;X.mX="pass";X.Xa=24;C.push(X)}var V=C[C.length-1];
if(!U){var X=M.Tk();X.jj(P.getName());X.add.lsct=dU.l9;X.mX="pass";X.Xa=24;C.push(X);V=X}var b=P.add.lmfx;
if(b)V.add.lmfx=a.G(b);var N=C.length;for(var R=O+1;R<M.U.length;R++)C.push(M.U[R]);y.data={Q:ad.Br,ff:C,bm:[N-1],SD:[11,11,0]}}else{var C=M.U.slice(0),X=M.Tk();
X.jj(P.getName());C.splice(M.Y[0]+1,0,X);X.S=P.S.v();X.buffer=this.abu;X.vw();y.data={Q:ad.Br,ff:C,bm:[M.Y[0]+1],SD:[11,11,1]}}this.a(y);
this.close();M.Jf=!0};bF.prototype.qy=function(s,M){this.f=s;this.JV.ctab.qy(s,M)};function a1(s){j9.call(this,[[7,11],[7,13]][s],["redge","magiccut"][s]);
this.bo=s;this.RQ={};this.G2=null;this.f=null;this.ZK=null;this.Pf=null;this.Df=null;this.body.style.padding="0";
this.r2=[];this.bD=-1;this.co=i.m("div","form hbar padded");this.body.appendChild(this.co);this.AW=new g8;
this.AW.parent=this;this.AW.k(z.E.n,this.Nn,this);this.co.appendChild(this.AW._);var M=s==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
M=M.concat("tools/hand","zoomIn","zoomOut");var O=s==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.ig=new dv(null,M,O,28);this.ig.k(z.E.n,this.lJ,this);this.co.appendChild(this.ig._);this.l2=new hQ([7,9],0,50,null);
this.l2.parent=this;this.l2.k(z.E.n,[this.avG,this.Ro][s],this);this.co.appendChild(this.l2._);var P=this.aEX=new fU([2,2],!1,null,!0);
P.k("click",this.ec,this);this.co.appendChild(P._);var y=this._1=i.m("span","form");this.co.appendChild(y);
var F=this.auI=new fU([12,90],!1,null,!0);F.k("click",function(m){alert(s==0?aW.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
y.appendChild(F._);var A=new fU("Tutorial",!1,null,!0);A.k("click",this.aB0,this);y.appendChild(A._);
this.ca=new dv([12,46],["checker","#ffffff","#000000"]);this.ca.k(z.E.n,this.ad$,this);y.appendChild(this.ca._);
this.aEu=new d_(null,[[6,13],[6,2],[17,2]]);y.appendChild(this.aEu._);this.jx=i.Bn(this,y,!1);var h=this.NG=i.m("div","flexrow");
this.body.appendChild(h);this.PW=new bD(!0);this.zk=new bD;this.PW.tH(this.zk);this.zk.tH(this.PW);this.PW.k("mousedown",this.rW,this);
this.PW.k("mousemove",this.Sd,this);this.PW.k("mouseup",this.gF,this);this.PW.k("zoom",this.Nn,this);
this.zk.k("zoom",this.Nn,this);h.appendChild(this.PW._);h.appendChild(this.zk._)}a1.prototype=new j9;
a1.prototype.N3=function(s,M){var O=s!=null&&!s.U[s.Y[0]].S.g3();if(!O)alert("The layer is empty.");
return O};a1.prototype.xc=function(){return new j6(0,0)};a1.prototype.bA=function(){return!0};a1.prototype.GK=function(s,M){this.V5=s;
this.fw=M;M=M-12-33;if(s<900){i.P(this._1,"display:block;  text-align:right;");M-=29}else{i.P(this._1,"position:absolute;  right:0px")}this.ca.x3(s<440?null:[12,46]);
this.l2.x3(s<470?null:[7,9]);var O=this.RQ.S;if(O){var P=a1.ct(s,M,O.A,O.$);if(P==0){s=Math.floor(s/2);
i.cG(this.NG,"flexrow")}else{M=Math.floor(M/2);i.VV(this.NG,"flexrow")}this.PW.GK(s,M);this.zk.GK(s,M)}};
a1.ct=function(s,M,O,P){var y=s/2,F=M/2,A=Math.min(y/O,M/P),h=Math.min(s/O,F/P);return A>h?0:1};a1.prototype.T=function(){j9.prototype.T.call(this);
this.AW.T();this.l2.T();this.jx.T();this.ca.T();this.aEu.T();this.aEX.T();this.auI.T()};a1.prototype.aB0=function(s){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.bo],"_blank")};
a1.prototype.qy=function(s,M){this.f=s;if(M==g5.pr||M==g5.rT){this.AW.cA(s.ql);this.AW.q(fO.Av(),s.ql.nt,s.ql.hx)}};
a1.prototype.lJ=function(s,M,O,P){var y=this.ig.V();if(P==null){this.PW.lJ(bD.CZ(y-3));return}this.Pf=P;
var F=$.am.TF(this.AW.V(),P);if(F!=null){this.AW.q(F);this.Nn()}else if(P.D(hj.yu)&&P.D(hj.sN)){var A=this.r2,h=0;
if(P.D(hj.Y1)){if(this.bD+1<A.length)h=1}else if(this.bD>0)h=-1;if(h!=0){this.bD+=h;var m=this.bD,Z=this.RQ;
if(h==1)a.FP(A[m][2],A[m][0],Z.Pv,Z.S);else a.FP(A[m+1][1],A[m+1][0],Z.Pv,Z.S);Z.XV=Z.S;this.Ro()}}else if(y<3)this.PW.lJ(P)};
a1.prototype.Yr=function(s){var M=this.RQ,O=this.r2,P=a.j(s.C()*4);a.FP(M.Kt,M.S,P,s);M.Kt=null;var y=a.j(s.C()*4);
a.FP(M.Pv,M.S,y,s);this.bD++;O[this.bD]=[s.v(),P,y];while(O.length>this.bD+1)O.pop();while(O.length>50){O=O.slice(1);
this.bD--}};a1.prototype.Nn=function(){var s=this.f,M=du.Uw(this.AW.V(),s.ql.nt,this.PW.Ed().xq);this.PW.iF(M)};
a1.prototype.rW=function(s){var M=this.f,O=this.RQ,P=this.Pf,y=this.AW.V(),F=this.PW.i4(),A=[16777215,8421504,0][this.ig.V()];
this.G2=new du(y,M.ql.nt,M.ql.hx,{KA:1,q_:!0},A,M.Cc,O.S);O.Kt=O.Pv.slice(0);if(P!=null&&P.D(hj.Y1)&&this.Df){this.G2.moveTo(this.Df.x,this.Df.y);
this.G2.lineTo(F.x,F.y)}else this.G2.moveTo(F.x,F.y);this.ao_()};a1.prototype.Sd=function(s){var M=this.RQ,O=this.PW.i4();
this.G2.lineTo(O.x,O.y);this.ao_()};a1.prototype.gF=function(s){this.Df=this.PW.i4();this.Yr(this.G2.Ao());
this.Ro()};a1.prototype.ao_=function(){var s=this.RQ,M=this.G2,O=M.Wj();if(O.g3())return;s.XV=O;a.B.qZ("norm",M.HT(),M.Gt(),s.Pv,s.S,O,1);
this.adi()};a1.prototype.ec=function(s){var M=this.RQ;M.Kt=M.Pv.slice(0);M.XV=M.S;a.vK(M.Pv,[4278190080,4292730333][this.bo]);
this.Yr(M.S);this.Ro()};a1.prototype.o3=function(s,M){this.ZK=s;var O=s.U[s.Y[0]],P=O.S.v(),y=P.A,F=P.$,m;
this.l2.q(this.bo==0?3:y*F<3e6?3:0);this.ig.q(s.h==null?0:1);this.l2.XX();if(this.bo==0&&s.h!=null||this.bo==1)this.l2.Zc();
var A=this.bo,h=a.j(P.C());if(A==0&&s.h){a.TT(s.h.N,s.h.S,h,P);var Z=a.j(P.C());for(var u=0;u<F;u++)for(var f=0;
f<y;f++){var R=u*y+f,U=h[R];if(f>0&&h[R-1]!=U||f<y-1&&h[R+1]!=U||u>0&&h[R-y]!=U||u<F-1&&h[R+y]!=U)Z[R]=255}m=a.style.KJ(Z,y,F)}else{m=new Float32Array(P.C());
m.fill(1e9)}P.x=P.y=0;this.RQ={S:P,tG:a.Gp(O.buffer,8),Cm:h,MM:m,anQ:a.j(P.C()*4),ash:a.j(P.C()*4),Pv:a.j(P.C()*4),Kt:null,Kk:null,XV:P,aG$:{}};
if(A==0)this.avG();else{this.RQ.aG$=$.t8.a2T(s);var C=this.RQ.Pv;a.vK(C,4287137928);var H=a.XG.getSelection(a.Gp(O.buffer,8),y,F),t=Math.round(y/60),X=Math.round(.7*F);
for(var u=0;u<F;u++)for(var f=0;f<y;f++){var Q=(u*y+f)*4,D=H[Q>>>2];D=D>128?255:128;if(u<t||u<X&&(f<t||f>y-1-t))D=0;
C[Q]=C[Q+1]=C[Q+2]=D}this.Ro()}this.r2=[1];this.bD=0;var L=this.AW.V();L.Brsh.v.Dmtr.v.val=Math.round(P.A/(A==0?10:20));
this.AW.q(L);this.Nn();this.GK(this.V5,this.fw);this.PW.Pe()};a1.prototype.avG=function(){var s=this.RQ,M=s.S.C(),O=this.l2.V(),P=s.Cm.slice(0);
for(var R=0;R<M;R++)if(s.MM[R]<O)P[R]=128;s.Pv.fill(255);a.GS(P,s.Pv,0);a.GS(P,s.Pv,1);a.GS(P,s.Pv,2);
s.XV=s.S;this.Ro()};a1.prototype.Ro=function(){var s=this.RQ,y,h,m=0,Z=0,u=0;this.adi();var M=s.S,O=M.A,P=M.$,F=a.j(M.C()),A=s.tG;
a.YT(s.Pv,F,0);for(var R=0;R<F.length;R++){if(A[(R<<2)+3]!=255)continue;var f=F[R];if(f==0)m++;else if(f==255)Z++;
else u++}if(m*Z*u!=0){if(this.bo==0)h=a.nP.nP(M,A,F);else{var U=this.ig.V();for(var C=1;C<P;C++)for(var H=1;
H<O;H++){var R=C*O+H,t=F[R],X=F[R-1];if(t==0&&X==255||t==255&&X==0){y="The Red and Green should never touch! Erase it with Grey.";
break}}var Q=Date.now(),D=this.RQ.aG$;a.jO(F,D.c5);$.t8.Od(D,!0,this.ZK);var L=Math.ceil(this.l2.V()/2);
if(L==0){h=A.slice(0);a.GS(D.h,h,3)}else{var E=D.h.slice(0),_=D.h.slice(0);for(var S=0;S<L;S++){for(var C=1;
C<P-1;C++)for(var H=1;H<O-1;H++){var R=C*M.A+H,W=E[R];if(E[R-O]!=W||E[R-1]!=W||E[R+1]!=W||E[R+O]!=W)_[R]=128;
else _[R]=W}var g=E;E=_;_=g}for(var C=0;C<P;C++)for(var H=0;H<O;H++){var R=C*O+H;if(F[R]==0||F[R]==255)E[R]=F[R]}h=a.nP.nP(M,A,E,20,!1)}}}else{h=A.slice(0);
a.GS(F,h,3)}for(var R=3;R<h.length;R+=4)if(h[R]>A[R])h[R]=A[R];if(M.s0(s.S))s.Kk=h;else a.FP(h,M,s.Kk,s.S);
this.ad$();if(y)alert(y,4e3)};a1.prototype.adi=function(s){var M=this.RQ,O=M.XV;a.FP(M.tG,M.S,M.anQ,M.S,O,!0);
var P=M.Pv,y=M.S,F=Date.now();if(this.bo==1){var A=new Uint32Array(256);A[0]=4278190335;A[255]=4278255360;
var h=a.j(O.C()*4),m=O.C();a.FP(P,y,h,O);P=h;y=O;var Z=new Uint32Array(P.buffer);for(var R=0;R<m;R++)Z[R]=A[Z[R]&255]}console.log(Date.now()-F);
a.B.qZ("norm",P,y,M.anQ,M.S,O,.3);this.PW.q([{IK:M.S,data:M.anQ.buffer}],null,null,O)};a1.prototype.ad$=function(s){var M=this.RQ;
a.vK(M.ash,[0,4294967295,4278190080][this.ca.V()]);a.B.qZ("norm",M.Kk,M.S,M.ash,M.S,M.S,1);this.zk.q([{IK:M.S,data:M.ash.buffer}])};
a1.prototype.Mk=function(s){var M=this.ZK,O=this.RQ,P=this.aEu.V(),y=M.U[M.Y[0]],F=new kg(z.E.H,!0);
F.T8=!0;var A=y.S.v();if(P==0&&y.CD()||P!=0&&!y.CD()){F.l=$.mu;F.data={Q:ad.uY,w:M.Y[0]};this.a(F)}if(M.h!=null){F.l=$.Sp;
F.data={Q:"fromAction",Q1:$.vm.l4()};this.a(F)}if(P==0){var h=M.U.slice(0),m=M.Tk();m.jj(y.getName());
h.splice(M.Y[0]+1,0,m);m.S=A;m.buffer=a.Gp(O.Kk,M.depth);m.vw();F.l=$.mu;F.data={Q:ad.Br,ff:h,bm:[M.Y[0]+1],SD:[7,11]};
this.a(F)}if(P==1){var Z=y.Bl();F.l=$.mu;F.data={Q:ad.y8,avq:!0};this.a(F);var u=y.Bl();u.N=a.j(A.C());
u.S=A;u.color=0;u.oy=!0;a.YT(O.Kk,u.N,3);u.N=a.Gp(u.N,M.depth);if(Z){var f=u.u2(Z);u.S=f.S;u.N=f.N;u.color=f.color}u.FW();
y.uH(M)}if(P==2){var U={S:A,N:a.j(A.C())};a.YT(O.Kk,U.N,3);U.N=a.Gp(U.N,M.depth);F.l=$.Sp;F.data={Q:"setsel",h:U,SD:this.wb};
this.a(F)}this.close()};function bJ(){j9.call(this,[1,13],"locstor");this.f=null;this.Us=[];var s=this.body,M=i.m("p");
M.textContent="These files are loaded every time you start Photopea.";s.appendChild(M);this.aFt=0;this.avA=i.m("span");
s.appendChild(this.avA);i.P(this.avA,"display:inline-block;  width:12em;  font-weight:bold;");var O=i.m("span","form");
s.appendChild(O);this.wZ=new fU([5,4],!1,null,!0);this.wZ.k("click",this.GY,this);O.appendChild(this.wZ._);
this.oL=new fU("Get all as ZIP",!1,null,!0);this.oL.k("click",this.YL,this);O.appendChild(this.oL._);
this.H1=new ex(!0);this.H1.parent=this;this.H1.C8(1);s.appendChild(this.H1._);i.P(this.H1._,"width: 40em; height: 25em")}bJ.prototype=new j9;
bJ.prototype.T=function(){j9.prototype.T.call(this);this.avA.textContent=aW.get([13,2])+": "+fK.si(this.aFt);
this.wZ.T()};bJ.prototype.qy=function(s,M){this.f=s;if(M==g5.uM)this.o3()};bJ.prototype.o3=function(s,M){var O=this.f.j2.TI,m=0;
this.Us=[];for(var P in O)this.Us.push(P);this.Us.sort(function(u,f){u=u.split(".");f=f.split(".");return u[1]==f[1]?u[0]<f[0]?-1:1:u[1]<f[1]?-1:1});
var y=Math.floor(100*i.yD()),F=Math.floor(16*i.yD()),A=[],h=[];for(var R=0;R<this.Us.length;R++){var P=this.Us[R],Z=bJ.XB(P,O[P],y,F);
A.push(Z);h.push(P);m+=O[P].byteLength}this.H1.KC(A,h,y,F);this.aFt=m;this.T()};bJ.prototype.GY=function(s){var M=this.H1.V();
if(M.length==0){alert("Select a file first.");return}this.H1.q([]);var O=this.f.j2.TI;for(var R=0;R<M.length;
R++)delete O[this.Us[M[R]]];var P=new kg(z.E.c,!0);P.data={Q:z.J.ko,dh:g5.uM};this.a(P)};bJ.prototype.YL=function(s){var M=this.f.j2.TI,O={};
for(var P in M)O[P]=new Uint8Array(M[P]);var y=UZIP.encode(O);cD.save(y,"resources.zip")};bJ.XB=function(s,M,O,P){var y=i.m("canvas"),h=0;
y.width=O;y.height=P;var F=y.getContext("2d"),A=s.split(".").pop().toLowerCase();for(var R=0;R<A.length;
R++)h+=A.charCodeAt(R)*613<<8*R;F.fillStyle="#"+a.Rr(h&16777215);F.fillRect(0,0,20,P);var m=Math.floor(14*i.yD());
F.fillStyle="#000000";F.font="bold "+m+"px sans-serif";var Z=(P-m)/2,u=fK.si(M.byteLength),f=F.measureText(u);
F.fillText(u,O-12-f.width,P-Z);return y.toDataURL()};function b6(){j9.call(this,[1,15],"pmanager");this.f=null;
this.BY=new d_([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.BY.k(z.E.n,this.o3,this);
this.body.appendChild(this.BY._);var s=i.m("div","flexrow");this.body.appendChild(s);var M=this.ald=i.m("div");
s.appendChild(M);var O=i.m("div","form");s.appendChild(O);i.P(O,"width:140px; margin-left:12px");this.a5Q=[g5.pr,g5.hL,g5.fV,g5.KE,g5.VE,g5.cR];
this.AD=[new g8,new kK,new gO,new bC,new ez,new iE];for(var R=0;R<this.AD.length;R++)this.AD[R].parent=this;
this.Ni=[];for(var R=0;R<4;R++){var P=new fU("Hello",!0,null,!0);P.k("click",this.MW,this);this.Ni.push(P);
O.appendChild(P._)}this.o3()}b6.prototype=new j9;b6.prototype.cZ=function(s){return s==hj.y6||s==hj.Di};
b6.prototype.MW=function(s){var R=this.Ni.indexOf(s.target);this.AD[this.BY.V()].cu(R)};b6.prototype.T=function(){j9.prototype.T.call(this);
this.BY.T();for(var R=0;R<this.AD.length;R++)this.AD[R].T();var s=this.Ni,M=this.BY.V(),O=g5.Kd[this.a5Q[M]],P=O[0].toUpperCase();
s[0].x3([[23,6],"."+P]);s[1].x3(["VAR0 ."+P,[1,8]]);s[2].x3([6,37]);s[3].x3([5,4])};b6.prototype.qy=function(s,M){this.f=s;
this.o3()};b6.prototype.o3=function(s,M){if(!i.qE(this._))return;this.T();i.Lq(this.ald);this.ald.appendChild(this.AD[this.BY.V()].ER);
var O=this.AD,P=this.f;if(P==null)return;O[0].cA(P.ql);O[1].hz(P.UC,P.Cc);O[1].cA(P.Ac);O[2].cA(P.ha);
O[3].cA([P.ZB,P.ha]);O[4].cA(P.nu);O[5].cA(P.Rh)};function ia(s,M,O){j9.call(this,M,"cwindow");this.ar5=new j6(O[0],O[1]-33);
this.co=i.m("div","form");i.P(this.co,"width:"+(O[2]-O[0])+"px; height:"+(O[3]-O[1])+"px");this.body.appendChild(this.co)}ia.prototype=new j9;
ia.prototype.xc=function(s,M){return this.ar5.v()};function gU(s){var M=gU.azO(s);j9.call(this,M,"res"+s);
var O=this.a9Y.bind(this);window.addEventListener("message",function(y){if(typeof y.data=="string"&&y.data.startsWith("--et ")){if(dB.Nx()==null)return;
console.log(y.data);var F=this.agP=y.data.slice(5).split(",");F[0]=parseFloat(F[0]);dB.auA(F[0],F[1],O)}}.bind(this));
this.$D=M;this.W0=s;this.aji=null;this.j4=null;this.ne=0;this.SN=null;this.yg=null;this.agP=null;this.f=null;
i.P(this.body,"padding:0");this.DL=new fU("",null,null,!0);this.body.appendChild(this.DL._);this.DL.k("click",this.S$,this);
i.P(this.DL._,"position:absolute; margin-top: -28px;  margin-left:150px");this.Mp=new fU("\u25BC",null,null,!0);
i.P(this.Mp._,"position:absolute; margin-top: -28px;  margin-left:270px");this.Mp.k("click",this.an$,this);
this.body.appendChild(this.Mp._);this.hA=i.m("span","form");this.body.appendChild(this.hA);this.Ni=[];
for(var R=0;R<9;R++){var P=new fU(gU.azO(R));this.Ni.push(P);if(R==s)P.q(!0);this.hA.appendChild(P._);
P.k("click",this.asl,this)}this.aon=new fU([5,3],null,null,!0);this.aon.k("click",this.aL3,this);this.ahv=new fU("Upload Current Document as a Template",null,null,!0);
this.ahv.k("click",this.atD,this);this.aeX=new hH("Creator / Brand name");this.zn=new fU([1,2],null,null,!0);
this.zn.k("click",this.YL,this);this.hJ=i.m("iframe","scrollable");i.P(this.hJ,"border:none; margin:0; padding:0;");
this.sX=i.m("div","form scrollable padded");this.Wy=new k2(s);this.Wy.k("back",this.ec,this);this.Wy.k("save",this.a3U,this);
this.body.appendChild(this.hJ)}gU.prototype=new j9;gU.azO=function(s){var M;if(s==0)M=[25,0];else if(s==1)M="Plugins";
else for(var O in g5.Kd)if(g5.Kd[O][4]==s)M=g5.Kd[O][3];return M};gU.prototype.an$=function(s){this.hA.style.display=this.hA.style.display=="none"?"":"none"};
gU.prototype.asl=function(s){var R=this.Ni.indexOf(s.target);if(R==this.W0)return;this.close();var M=new kg(z.E.c,!0);
M.data={Q:z.J.xL,Rj:"res"+R};this.a(M)};gU.prototype.a9Y=function(s){this.S$();this.yg=JSON.parse(s.target.response);
this.lS()};gU.prototype.xc=function(s,M){return new j6(0,0)};gU.prototype.GK=function(s,M){this.V5=s;
this.fw=M;this.lX=null;M=M-4;s=s;var O=s>820,P="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",y="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
i.P(this.hA,O?P:y);this.hA.style.marginTop=(O?-31:0)+"px";this.Mp._.style.display=O?"none":"";var F=this.sX;
F.style.width=s-12+"px";F.style.height=M-12+"px";var F=this.Wy._;F.style.width=s-12+"px";F.style.height=M-12+"px";
var F=this.hJ;F.style.width=s+"px";F.style.height=M+"px";this.nv()};gU.prototype.qy=function(s,M){this.f=s};
gU.prototype.T=function(){j9.prototype.T.call(this);for(var R=0;R<this.Ni.length;R++)this.Ni[R].T();
this.aon.T()};gU.prototype.o3=function(s,M,O,P){this.lX=s;this.S$(null,!1)};gU.prototype.S$=function(s,M){var O=M!=null?M:i.qE(this.hJ);
if(O){if(!dB.I9()){alert("You need to log in first!");return}var P=dB.iJ();if(P==null)P={};this.j4=P.tpl?P.tpl.list:[];
this.aeX.q(P.tpl&&P.tpl.brnd?P.tpl.brnd:"");this.nv()}else{this.hJ.setAttribute("src","");this.hJ.setAttribute("src",dB.$n("templates/index.html?type="+this.W0+""+this.f.BC.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(O?this.sX:this.hJ);var y=aW.get(this.$D);this.DL.x3(O?"All "+y:"Add "+y)};gU.prototype.nv=function(){var s=aW.get(this.$D),M=this.j4,O=this.W0,h=450;
if(M==null)return;var P=this.sX;i.Lq(P);var y=i.m("h1");P.appendChild(y);y.textContent="Share your "+s+" with the world!";
var F=i.m("ul");P.appendChild(F);var A=i.m("li");F.appendChild(A);A.textContent="By publishing your "+s+", you agree to let others use them for all kinds of purposes, even commercially.";
P.appendChild(this.aon._);if(O==0)P.appendChild(this.ahv._);i.QP(P);P.appendChild(this.aeX._);P.appendChild(this.zn._);
i.QP(P);h=(this.V5-20)/Math.max(1,Math.floor(this.V5/h))-42;var m="display:inline-block; width:"+h+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var R=M.length-1;R>=0;R--){var Z=M[R];if(Z.type==null)Z.type=0;if(Z.type!=O)continue;var u=i.m("div");
P.appendChild(u);i.P(u,m);var f=i.m("img");u.appendChild(f);f.setAttribute("src",Z.thmb);i.P(f,"float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var U=i.m("h3");u.appendChild(U);U.textContent=Z.name;i.P(U,"margin:0 0 10px 0");var C=i.m("p");u.appendChild(C);
C.textContent=Z.desc;i.P(C,"height:76px;  overflow:hidden; margin-bottom: 6px;");for(var H=0;H<2;H++){var t=new fU(H==0?"Edit":"Delete",null,null,!0);
t.apu=R;t.lS=H==0;t.k("click",this.akb,this);u.appendChild(t._)}}};gU.prototype.atD=function(s){if(this.lX==null){alert("No document opened.");
return}var M=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!M)return;var O=new kg(z.E.c,!0);O.data={Q:z.J.$e,gL:"psd",Z9:this.axV.bind(this)};this.a(O)};gU.prototype.axV=function(s){this.al0=s;
var M=new kg(z.E.c,!0);M.data={Q:z.J.$e,gL:"jpg",Z9:this.aof.bind(this),a80:1400};this.a(M)};gU.prototype.aof=function(s){this.SN={type:0,catg:0,desc:"",file:this.al0,name:this.lX.name.split(".")[0],thmb:s,publ:!0,utme:""};
this.lS()};gU.prototype.aL3=function(s){this.SN={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.lS()};gU.prototype.akb=function(s){this.ne=s.target.apu;if(!s.target.lS){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.j4.splice(this.ne,1);this.YL();this.nv();return}this.lS()};gU.prototype.lS=function(){if(i.qE(this.sX))this.body.removeChild(this.sX);
this.body.appendChild(this.Wy._);var s=this.SN?this.SN:this.yg?this.yg:this.j4[this.ne];if(s.type==null)s.type=0;
this.Wy.q(s)};gU.prototype.a3U=function(s){var M=this.Wy.V();if(this.SN)this.j4.push(M);else if(this.yg){var O=this.agP;
dB.auA(O[0],O[1],this.ec.bind(this),JSON.stringify(M));return}else this.j4[this.ne]=M;this.YL();this.ec()};
gU.prototype.ec=function(){var s=this.yg;this.SN=null;this.yg=null;this.body.removeChild(this.Wy._);
this.body.appendChild(this.sX);this.nv();if(s)this.S$()};gU.prototype.YL=function(){var s=dB.iJ();if(s==null)s={};
if(this.j4.length==0)delete s.tpl;else{s.tpl={list:a.G(this.j4)};var M=this.aeX.V().trim();if(M!="")s.tpl.brnd=M}dB.Cf(s,function(){alert("Saved.")})};
function iS(){j9.call(this,"Make Selection","makesel");var s=i.m("div","form");this.body.appendChild(s);
this.We=new ho([12,25,1]);this.We.q(!0);s.appendChild(this.We._);i.QP(s);this.aok=new gs(!0);s.appendChild(this.aok._);
this.jx=i.Bn(this,this.body)}iS.prototype=new j9;iS.prototype.T=function(){j9.prototype.T.call(this);
this.aok.T();this.We.T();this.jx.T()};iS.prototype.Mk=function(s){var M=new kg(z.E.H,!0);M.l=$.Sp;M.data={Q:"frompath",ZN:[null,0,this.aok.V(),this.We.V()]};
this.close();this.a(M)};function li(){j9.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.lX=null;this.xD=null;
this.abf=null;var s=this.a9S=i.m("div","form");i.P(s,"width:20em");this.body.appendChild(s);this.IV=new e0([12,50],["PSD","PSB"]);
this.IV.k(z.E.n,this.RB,this);s.appendChild(this.IV._);i.yV(s);var M=new df("Minify the file");s.appendChild(M._);
i.QP(s);var O=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.BZ=[];for(var R=0;R<O.length;R++){var P=new ho(O[R]);this.BZ.push(P);s.appendChild(P._);P.k(z.E.n,this.RB,this)}i.yV(s);
this.q0=new df("aa.psd");this.Sr=new df("10 kB");s.appendChild(this.Sr._);this.aJr=new df("1000 B");
s.appendChild(this.aJr._);this.jx=new fU([1,2],!0,null,!0);this.jx.k("click",this.Mk,this);s.appendChild(this.jx._);
this.bU=new fU(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.bU.k("click",this.Mk,this);s.appendChild(this.bU._);
this.k("closebtn",this.lH,this)}li.prototype=new j9;li.prototype.o3=function(s,M,O,P){var y=i.qE(this.bU._),F=s.HK!=null&&s.HK.T0=="psd";
if(F&&!y)this.a9S.appendChild(this.bU._);if(!F&&y)this.a9S.removeChild(this.bU._);for(var R=0;R<this.BZ.length;
R++)this.BZ[R].q(!1);this.lX=s;this.RB()};li.prototype.Mk=function(s){if(s.target==this.jx)cD.save(this.xD,this.abf);
else{if(this.BZ[3].V()){alert("You should not save a ZIP as a PSD to Google Drive.");return}bH.aaT(this.lX,this.xD)}};
li.prototype.lH=function(){this.lX=null;this.xD=null};li.prototype.RB=function(){var s=this.lX,M=[!1,!1,!1,!1];
for(var R=0;R<3;R++)M[R]=this.BZ[R].V();var O=this.BZ[3].V(),P=M[3]=this.IV.V()==1,y=s.name.slice(0,s.name.length-3),F=this.xD=b_.O7("PSD").u6(s,0,0,M),hS=this.abf=y+"ps"+(P?"b":"d");
if(O){var A={};A[hS]=new Uint8Array(F);F=this.xD=UZIP.encode(A);hS=this.abf=y+"zip"}this.q0.q(hS);this.Sr.q(fK.si(F.byteLength));
this.Sr._.style["font-size"]="2em";this.aJr.q(" \u2001 "+F.byteLength+" B");this.jx.x3(aW.get([1,2])+" \""+hS+"\"")};
li.prototype.T=function(){j9.prototype.T.call(this);this.IV.T();this.jx.T();this.bU.T()};function b7(){j9.call(this,"Confirm","confirm");
this.Xp=null;var s=i.m("div");i.P(s,"margin-bottom:1em");this.body.appendChild(s);this.yn=i.m("div");
this.yn.textContent="Hello";s.appendChild(this.yn);this.jx=i.Bn(this,this.body)}b7.prototype=new j9;
b7.prototype.Mk=function(s){if(this.Xp==null)return;console.log("okconfirm");this.close();this.Xp();
this.Xp=null};b7.prototype.T=function(){j9.prototype.T.call(this);this.jx.T()};b7.prototype.o3=function(s,M){if(M.aH3||M.a6X)this.yn.innerHTML=M.K;
else this.yn.textContent=M.K;if(M.ap6)this.jx.x3(M.ap6);this.Xp=M.Xp;this.jx._.focus();if(M.aH3!=null)this._.style.top=Math.random()*(window.innerHeight-150)+"px";
this.aFs=M.aH3!=null};b7.prototype.xc=function(s,M){return new j6(Math.max(0,(s-500)/2),Math.max(0,Math.min(60,(M-100)/2)))};
b7.prototype.GK=function(s,M){this.yn.style.width=s-30+"px"};function bY(){j9.call(this,[1,16,2],"newartb");
this.bo=0;this.eH=null;var s=i.m("div","form");s.style.width="260px";this.body.appendChild(s);this.H1=new e5;
s.appendChild(this.H1._);this.jx=i.Bn(this,s)}bY.prototype=new j9;bY.prototype.N3=function(s,M){return s!=null};
bY.prototype.Mk=function(s){var M=this.H1.V();this.eH.A=M.x;this.eH.$=M.y;var O=new kg(z.E.H,!0);O.l=$.ba;
O.data={aGW:this.eH,Eq:this.bo};this.a(O);this.close()};bY.prototype.T=function(){j9.prototype.T.call(this);
this.H1.T();this.jx.T()};bY.prototype.o3=function(s,M){this.bo=M.Eq;var O=new gi(0,0,s.A,s.$);if(s.Y.length!=0){var P=s.U[s.Y[0]];
if(P.add.artb){O=P.Kj();O.x+=O.A+100}if(M.Eq==1)O=$.TR.Gt(s)}this.eH=O;this.H1.q(new j6(O.A,O.$))};function dR(){j9.call(this,[1,19,0],"storwindow");
i.P(this.body,"padding:0");this.Ji=null;this.k("closebtn",this.mM,this);this.k("canclose",this.mM,this)}dR.prototype=new j9;
dR.prototype.qy=function(s,M){if(this.Ji)this.Ji.qy(s,M)};dR.prototype.xc=function(s,M){return new j6(Math.max(0,Math.min(150,(s-980)/2)),Math.max(0,Math.min(150,(M-590)/2)))};
dR.prototype.GK=function(s,M){this.V5=s;this.fw=M;s=Math.min(s,980);M=Math.min(M,590);if(this.Ji)this.Ji.GK(s,M)};
dR.prototype.T=function(){j9.prototype.T.call(this);if(this.Ji)this.Ji.T()};dR.prototype.o3=function(s,M,O,P){this.wb=M.Eq==0?["VAR0 VAR1",[1,0],[1,19,1]]:["VAR0 VAR1",[1,2],[1,19,2]];
this.T();if(this.Ji==null){this.Ji=new dC;this.Ji.parent=this;this.body.appendChild(this.Ji._);this.T();
this.GK(this.V5,this.fw)}Storage.C8(M.Eq,M.Wx?M.Wx:s?s.name:"",M.KK);dC.Oa(this.Ji)};dR.prototype.mM=function(s){Storage.C8(0);
dC.nE();if(s.I=="canclose")this.close()};function am(){j9.call(this,[2,14],"varsdats");var s=this.co=i.m("div","form");
i.P(s,"width:300px");this.body.appendChild(s);this.lX=null;this.n2=0;this.f=null;this.s8=new e0(null,[[2,14],"Data Sets",[1,8]]);
this.s8.k(z.E.n,this.atg,this);this.AU=new am.eE;this.sw=new am.cg;this.A6=new am.PU;this.sw.k("activate",this.UQ,this);
this.A6.k("export",this.k5,this);this.jx=i.Bn(this)}am.prototype=new j9;am.prototype.atg=function(s){var M=this.s8.V(),O=this.co;
i.Lq(O);O.appendChild(this.s8._);i.yV(O);O.appendChild([this.AU,this.sw,this.A6][M]._);O.appendChild(this.jx._)};
am.prototype.Mk=function(s){var M=new kg(z.E.H,!0);M.l=$.mu;M.data={Q:ad.Kh,K:JSON.stringify([this.AU.V(),this.sw.V()])};
this.a(M);this.close()};am.prototype.T=function(){j9.prototype.T.call(this);this.jx.T();this.A6.T()};
am.prototype.o3=function(s,M){this.lX=s;this.A6.lX=s;if(s==null)return;this.AU.o3(s,M);this.sw.o3(s,M);
this.s8.q(0);this.atg();this.n2=0;this.A6.akM()};am.prototype.qy=function(s,M){this.f=s};am.prototype.k5=function(s){var M=this.AU.V(),O=this.sw.V(),P=this.A6.V();
if(M.length==0){alert("There are no variables.");return}if(O.length==0){alert("There are no data sets.");
return}var y=b_.a83(this.lX,M,O,this.sw.aiC(),P[0],P[1],P[2],this.f,this);if(y!=null)cD.save(y,this.lX.name.split(".")[0]+".zip")};
am.prototype.UQ=function(s){var M=this.sw.Y,O=this.AU.V(),P=this.sw.V();if(O.length==0){alert("There are no variables.");
return}if(P.length==0){alert("There are no data sets.");return}this.VW();this.n2+=b_.ajH(this.lX,this,O,P,this.sw.aiC(),M)};
am.prototype.VW=function(){var s=new kg(z.E.H,!0);s.l=$.FZ;s.data={Q:"h_stepbck"};while(this.n2>0){this.a(s);
this.n2--}};am.PU=function(){hV.call(this);var s=this._=i.m("div");this.ann=new hH("Variable for file names");
s.appendChild(this.ann._);i.yV(s);this.lX=null;this.re=["JPG","PNG","PDF"];this.IV=new e0([12,50],this.re);
this.IV.k(z.E.n,this.akM,this);s.appendChild(this.IV._);this.Uo=new dK;s.appendChild(this.Uo._);this.oL=new fU("Export all items",!0,null,!0);
this.oL.k("click",this.k5,this);s.appendChild(this.oL._)};am.PU.prototype=new hV;am.PU.prototype.T=function(s){this.ann.T();
this.IV.T();this.oL.T();this.Uo.T()};am.PU.prototype.akM=function(s){if(this.lX==null)return;var M=this.re[this.IV.V()],O=this.lX,P=O.add.artd;
this.Uo.m6(M,null,null,P!=null&&P.Cnt.v>1)};am.PU.prototype.k5=function(s){this.a(new kg("export"))};
am.PU.prototype.V=function(){var s=this.re[this.IV.V()];return[s,this.Uo.V(),this.ann.V().trim()]};am.cg=function(){hV.call(this);
this.lT=null;this.ahN=[];this.Y=0;var s=this._=i.m("div","form");this.azC=new hf("Import a CSV file");
s.appendChild(this.azC._);this.azC.k(z.E.n,this.auU,this);this.me=i.m("div","scrollable");i.P(this.me,"overflow:scroll;  height:234px;");
s.appendChild(this.me);this.aCy=new hf("Source Images",!0);s.appendChild(this.aCy._)};am.cg.prototype=new hV;
am.cg.prototype.auU=function(s){var M=this.azC.V();for(var O in M){M=M[O];break}this.lT=bn.kM(c.xJ(M));
this.gq()};am.cg.prototype.aiC=function(){return this.aCy.V()};am.cg.prototype.o3=function(s,M){var O=this.lT=a.G(s.yi);
this.gq()};am.cg.prototype.V=function(){return this.lT};am.cg.prototype.gq=function(){var s=this.Gc.bind(this),M=this.lT,P="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.ahN=[];var O=i.m("table");i.P(O,"border-collapse: collapse;");for(var R=0;R<M.length;R++){var y=i.m("tr"),F=M[R],A=R==0?"th":"td";
O.appendChild(y);var h=i.m(A);y.appendChild(h);i.P(h,P+"cursor:pointer;");if(R!=0)h.textContent="\u2713";
this.ahN.push(h);h.addEventListener("click",s,!1);for(var m=0;m<F.length;m++){var h=i.m(A);h.textContent=F[m];
y.appendChild(h);i.P(h,P);h.setAttribute("title",F[m])}}i.Lq(this.me);this.me.appendChild(O)};am.cg.prototype.Gc=function(s){this.Y=this.ahN.indexOf(s.currentTarget);
this.a(new kg("activate"))};am.eE=function(){hV.call(this);var s=this._=i.m("div","form marged");this.Ve=null;
this.Ai=[];this.Du=[];this.nw=null;this.T$=new d_([0,3],[]);this.T$.k(z.E.n,this.are,this);s.appendChild(this.T$._);
this.aJp=[];var M=["Visibility","Text Content","Pixel Content"];for(var R=0;R<M.length;R++){i.yV(s);
var O=new ho(M[R]);O.k(z.E.n,this.qr,this);s.appendChild(O._);i.QP(s);var P=new hH("Variable Name");
P.k(z.E.n,this.qr,this);s.appendChild(P._);this.aJp.push(O,P)}};am.eE.prototype=new hV;am.eE.prototype.qr=function(s){var M=this.T$.V(),O=this.nw[M],P=this.Ai[M],y=this.Ve["l"+O],F=this.aJp;
if(y==null)this.Ve["l"+O]=y=[];while(y.length!=0)y.pop();for(var R=0;R<3;R++){var A=F[2*R+1].V().trim();
if(!F[2*R].V())continue;if(A.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}A=A.replaceAll(" ","");
var h={varName:A,trait:["visibility","textcontent","fileref"][R]};y.push(h);if(R==2){h.align="center";
h.clip="false";h.placementMethod="fit";h.valign="middle"}}if(y.length==0)delete this.Ve["l"+O];this.o3()};
am.eE.prototype.are=function(s){var M=this.T$.V(),O=this.nw[M],P=this.Ai[M],y=this.Ve["l"+O],F=this.aJp;
if(y==null)y=[];for(var R=0;R<3;R++){var A=R==0||R==1&&P==0||R==2&&P==1;F[2*R].oo(A);F[2*R].q(!1);F[2*R+1].oo(A);
if(!A)F[2*R+1].q("")}for(var R=0;R<y.length;R++){var h=y[R],m=h.trait,Z=["visibility","textcontent","fileref"].indexOf(m);
F[Z*2].q(!0);F[Z*2+1].q(h.varName)}};am.eE.prototype.o3=function(s,M){if(s){var O=a.G(s.Vx),P=this.Ve={};
for(var R=0;R<O.length;R++){var y=O[R],F=y.docRef;F="l"+F.slice(4,F.length-2);if(P[F]==null)P[F]=[];
P[F].push(y)}this.nw=[];this.Ai=[];this.Du=[];for(var R=s.U.length-1;R>=0;R--){var A=s.U[R],F=A.add.lyid;
if(A.add.lsct==dU.Bs)continue;this.nw.push(F);this.Ai.push(A.add.TySh?0:1);this.Du.push(A.getName())}}var h=[],m=this.Du;
for(var R=0;R<m.length;R++){h.push(m[R]+(this.Ve["l"+this.nw[R]]?" *":""))}var Z=this.T$.V();this.T$.ZG(h);
this.T$.q(Z);this.are()};am.eE.prototype.V=function(){var s=this.Ve,M=[];for(var O in s){var P=s[O];
for(var y=0;y<P.length;y++){P[y].docRef="id('"+O.slice(1)+"')";M.push(P[y])}}return M};function ey(){j9.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.azY=!1;var s=this.kW=[],M=i.m("div","form");i.P(M,"width:20em");this.body.appendChild(M);for(var R=0;
R<2;R++){var O=new ho([22,4,2+R]);M.appendChild(O._);i.QP(M);var P=new e0(null,[["N equal parts"],["N pixels per part"]]);
M.appendChild(P._);i.QP(M);var y=new hQ("N",0,1e3);y.q(4);y.parent=this;M.appendChild(y._);i.QP(M);if(R==0)i.yV(M);
s.push(O,P,y)}for(var R=0;R<s.length;R++)s[R].k(z.E.n,this.qP,this);s.push(i.Bn(this,M));this.k("closebtn",this.VW,this)}ey.prototype=new j9;
ey.prototype.VW=function(){if(this.azY){var s=new kg(z.E.H,!0);s.l=$.FZ;s.data={Q:"h_stepbck"};this.a(s)}};
ey.prototype.qP=function(s){this.VW();this.azY=!0;var M=[];for(var R=0;R<6;R++)M.push(this.kW[R].V());
var O={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var P=0;P<2;P++){if(!M[P*3])continue;var y=M[P*3+1],F=M[P*3+2];O[["slices","pixels"][y]+["Across","Down"][P]]={t:"long",v:F}}var A=new kg(z.E.fa,!0);
A.data={Cw:"divide",kT:O};this.a(A)};ey.prototype.Mk=function(s){this.close()};ey.prototype.T=function(){j9.prototype.T.call(this);
var s=this.kW;for(var R=0;R<s.length;R++)s[R].T()};ey.prototype.o3=function(s,M){this.azY=!1};function l6(){j9.call(this,"Stroke Path","strokepath");
this.f=null;this.ZQ=null;this.aEE=null;this.jx=null;this.ax3=[$.PE,$.pr,$.W7,$.lA,$.E7,$.P0,$.HA,$.r6,$.Jh,$.vo,$.Q7,$.GW,$.XY,$.s_,$.v4]}l6.prototype=new j9;
l6.prototype.T=function(){j9.prototype.T.call(this);if(this.jx){this.ZQ.T();this.jx.T()}};l6.prototype.Mk=function(s){var M=this.ax3[this.ZQ.V()],O=null;
for(var P in $.XJ)if($.XJ[P]==M)O=P;var y=new kg(z.E.fa,!0);y.data=$.Y8.xS(O,this.aEE.V());this.close();
this.a(y)};l6.prototype.qy=function(s,M){if(this.f==null){var O=[];for(var R=0;R<this.ax3.length;++R){O.push(s.Z.map[this.ax3[R]].l.name)}var P=i.m("div","form");
this.body.appendChild(P);this.ZQ=new d_("Tool",O);this.ZQ.q(1);P.appendChild(this.ZQ._);this.aEE=new ho("Simulate Pressure");
i.QP(P);P.appendChild(this.aEE._);this.jx=i.Bn(this,this.body)}this.f=s};function dg(){j9.call(this,[1,18],"linkview");
i.cG(this.body,"form");var s=this.JV=[new hH(null,null,17),new fU([5,1],!1,null,!0),new fU([1,0],!1,null,!0)];
for(var R=0;R<3;R++){var M=s[R];this.body.appendChild(M._);if(R!=0)M.k("click",this.D1,this);if(R==0)i.QP(this.body)}}dg.prototype=new j9;
dg.prototype.o3=function(s,M){var O=M.aq6;if(O.startsWith("https://"))O=O.slice(8);this.JV[0].q(O)};
dg.prototype.D1=function(s){var M=this.JV,O=M[0].V(),P=s.target==this.JV[1];if(P){navigator.clipboard.writeText(O);
alert("Copied to a clipboard!")}else window.open("https://"+O,"Shared")};function eZ(s){j9.call(this,s==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][s]);
this.r0=null;this.f5=s;var M=i.m("div","form label8");i.P(M,"max-width:26em");this.body.appendChild(M);
this.RM=new d_("Document",["abc","def"]);this.RM.k(z.E.n,this.qr,this);M.appendChild(this.RM._);i.QP(M);
this.ED=new d_([12,4],["abc","def"]);this.ED.k(z.E.n,this.qr,this);M.appendChild(this.ED._);this.aeH=new ho([4,11]);
this.yn=new hH([12,48]);this.yn.q("Alpha");if(s==0){}else{M.appendChild(this.yn._)}this.OI=new gs(!0);
M.appendChild(this.OI._);this.jx=i.Bn(this,M)}eZ.prototype=new j9;eZ.prototype.bA=function(){return!0};
eZ.prototype.T=function(){j9.prototype.T.call(this);this.jx.T();this.RM.T();this.ED.T();this.yn.T();
this.aeH.T();this.OI.T()};eZ.prototype.qr=function(s){var M=this.f5;if(s==null||s==this.RM){var O=this.RM.V(),P=this.r0[O],y=[];
if(M==0)y.push(P.U[P.Y[0]].getName()+" Transparency",P.U[P.Y[0]].getName()+" Gray");else y.push([5,3]);
for(var R=0;R<P.dj.length;R++)y.push(P.dj[R].name);this.ED.ZG(y)}if(M==0)return;var F=this.ED.V();this.yn.oo(F==0);
this.OI.oo(F!=0)};eZ.prototype.o3=function(s,M,O){this.r0=O;var P=[];for(var R=0;R<O.length;R++){var y=O[R].name;
P.push(y.length<30?y:y.slice(0,27)+"...")}this.RM.ZG(P);this.RM.q(O.indexOf(s));this.qr(null)};eZ.prototype.Mk=function(s){var M=this.f5,O=this.ED.V(),P=this.RM.V(),y=this.r0[P],F=this.OI.V(),A,h=!1;
if(M==0){if(O==1)h=!0;O=Math.max(O-1,0)}if(O==0){A=new kg(z.E.fa,!0);if(M==0)A.data=$.vm.bK(F,h?"Gray":"Trsp",y.U[y.Y[0]].getName());
else A.data={Cw:"duplicate",kT:{classID:"null",Nm:{t:"TEXT",v:this.yn.V()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{A=new kg(z.E.H,!0);
if(M==0){A.l=$.Sp;A.data={Q:"fromchannel",ZN:[-4-O,0,F]}}else{A.l=$.mu;A.data={Q:ad.rQ,tW:"seltochannel",ZN:[O-1,F]}}}this.close();
this.a(A)};function cS(){j9.call(this,"PeaMark","peamark");var s=i.m("div");s.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small>";
this.body.appendChild(s);s.style.marginBottom="40px";var M=i.m("div","form");i.P(this.body,"width:320px;");
this.body.appendChild(M);this.a1v=!1;this.CJ=[];this.dl=[];this.a5c=[];for(var R=0;R<3;R++){var s=i.m("span");
s.textContent="0";M.appendChild(s);i.P(s,"text-align:center; font-size:2em;  width:50%; display:inline-block; vertical-align:middle;");
var O=new fU("Test "+["CPU","GPU","free RAM"][R],!1,null,!0);M.appendChild(O._);i.P(O._,"width:50%; margin-right:0px;");
O.k("click",this.am1,this);this.CJ.push(s);this.a5c.push(O);var P=i.m("hr");this.dl.push(P);if(R!=2)M.appendChild(P);
i.P(P,"height:2px; background-color:#00ff00")}i.QP(this.body);this.adt=new fU("Browse scores",!1,null,!0);
var y=this.adt._;this.body.appendChild(y);this.adt.k("click",this.alG,this);i.P(y,"position:absolute;top:100px;left:13px;");
this.ahH=new fU("Tweet your score!",!1,null,!0);var y=this.ahH._;this.body.appendChild(y);this.ahH.k("click",this.alG,this);
i.P(y,"position:absolute;top:100px;right:13px;");this.z7=i.m("div","scrollable");this.body.appendChild(this.z7);
this.z7.style.height="226px";this.o8=[];this.aDb=0;this.alv=this.aAj.bind(this);this.a3O()}cS.prototype=new j9;
cS.prototype.alG=function(s){var M=PMRK,O;if(s.target==this.adt){O="https://twitter.com/hashtag/peamark?f=live"}else{var P=M[M.length-1];
if(Math.min(P[2],P[3])==0){alert("Run both tests first.");return}O="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+P[2]+"/"+P[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open(O,"_blank")};
cS.prototype.am1=function(s){var M=this.a5c.indexOf(s.target),O=1024,P=1024,y=new gi(0,0,O,P),F=this.alv;
if(M==0){var A=a.j(y.C());for(var h=0;h<P;h++)for(var m=0;m<O;m++)A[h*O+m]=((h>>>7)+(m>>>7)&1)*255;this.o8=[M,A,O,P];
for(var R=0;R<4;R++)F(!0)}else if(M==1){var Z=a.j(y.C()*4),u=ci.w2(1,O,P);u.set(Z);a.vK(Z,4278190335);
var f=ci.w2(0,O,P);f.set(Z);var U=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],C={I:ci.filter.aA$,Hd:new Float32Array([1/O,1/P]),aGf:0,cb:20,a4h:new Float32Array([0,1]),a5t:new Float32Array([0,0,0]),aEV:new Float32Array(U),aHJ:new Float32Array(U)};
this.o8=[M,C,Z,f,u];F(!0)}else{if(this.a1v){alert("Close all documents before running this test.");return}this.o8=[M,[]];
F(!0)}this.av_=[[0,0],[0,0],[0,0]];this.aDb=Date.now();setTimeout(this.alv,20)};cS.prototype.aAj=function(s){var M=this.o8,O=M[0],P=Date.now(),A=!1,h;
if(O==0){a.style.KJ(M[1],M[2],M[3])}else if(O==1){ci.b2(M[4]);ci.filter.Wm(M[1],M[3].U9);M[4].get(M[2])}if(s)return;
var y=Date.now()-P,F=this.av_[O];F[0]+=y;F[1]++;if(O<2){var m=[26,73];h=Math.round(1e3*m[O]/(F[0]/F[1]));
var Z=(Date.now()-this.aDb)/5e3,A=Z>1;this.dl[O].style.width=Math.min(100,Z*100)+"%"}else{var u=128*(1<<20);
try{var f=new Uint8Array(u);f.fill(117);M[1].push(f)}catch(hj){A=!0;this.o8=null;alert("finished")}h=(M[1].length*u/(1<<30)).toFixed(2)+" GB"}this.CJ[O].textContent=h;
if(!A)setTimeout(this.alv,20);else{var U=PMRK;U[U.length-1][2+O]=h;this.a3O()}};cS.prototype.a3O=function(){var s=this.z7,O="",P=" style=\"text-align:right; width:4em;\">";
i.Lq(s);var M=PMRK.slice(0);M.sort(function(m,Z){return 1e3*(Z[2]-m[2])+(Z[3]-m[3])});var y="<td"+P,F="<th"+P;
for(var R=0;R<M.length;R++){var A=M[R],h=null;if((R&1)==0)h="rgba(255,255,255,0.05)";if(A[1]=="Your Device")h="rgba(255,255,0,0.2)";
O+="<tr style=\""+(h?" background-color:"+h:"")+"\"><td style=\"text-align:center\">"+["\uD83D\uDDA5","\uD83D\uDCBB","\uD83D\uDCF1","\uD83D\uDCF1"][A[0]]+"</td><td>"+A[1]+"</td>"+y+A[2]+"</td>"+y+A[3]+"</td></tr>"}s.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th></th><th style=\"width:13.7em;\">Device</th>"+F+"CPU</th>"+F+"GPU</th></tr>"+O+"</table>"};
cS.prototype.o3=function(s,M,O,P){this.a1v=s!=null};function fP(){j9.call(this,"Measurement Scale","measscale");
var s=i.m("div","form label8");s.style.width="300px";this.body.appendChild(s);var M=this.OR=[new hH("Pixel Length"),new hH("Logical Length"),new hH("Unit Name"),new df("Hi")];
for(var R=0;R<4;R++){var O=M[R];O.k(z.E.n,this.qr,this);s.appendChild(O._)}this.jx=i.Bn(this,s)}fP.prototype=new j9;
fP.prototype.xc=function(s,M){return new j6(Math.max(0,Math.min(150,(s-250)/2)),Math.max(0,Math.min(150,(M-120)/2)))};
fP.prototype.qr=function(s){var M=this.OR;M[3].q(M[0].V()+" pixels = "+M[1].V()+" "+M[2].V())};fP.prototype.Mk=function(s){var M=this.OR,O=[];
for(var R=0;R<3;R++)O.push(M[R].V());O[0]=parseFloat(O[0]);O[1]=parseFloat(O[1]);var P=new kg(z.E.H,!0);
P.l=$.uL;P.data={Q:"unit",K:O};this.a(P);this.close()};fP.prototype.T=function(){j9.prototype.T.call(this);
var s=this.OR;for(var R=0;R<s.length;R++)s[R].T()};fP.prototype.o3=function(s,M){var O=this.OR;O[0].q(Math.round(M.fj));
if(s.Hx){var P=s.Hx.T.v;console.log(P);O[1].q(P.logicalLength.v);O[2].q(P.logicalUnits.v)}else{O[1].q(1);
O[2].q("unitName")}this.qr()};function ec(){j9.call(this,"Transform","transform");var s=this.co=i.m("div","form label6");
this.body.appendChild(s);this.avr=0;this.Z7=[[new hQ([22,4,0],-1e3,1e3),new hQ([22,4,1],-1e3,1e3),"-",new hQ([12,28],-1e3,1e3),new gK([12,15],!1,!1)],[new gK([12,15],!1,!1)],[new e0("Reflect",[[22,4,0],[22,4,1]])],[new hQ([22,4,0],-500,500,"%"),new hQ([22,4,1],-500,500,"%")],[]];
this.Z7[3][0].q(100);this.Z7[3][1].q(100);this.jx=i.Bn(this,this.body)}ec.prototype=new j9;ec.prototype.T=function(){j9.prototype.T.call(this);
var s=this.Z7;for(var R=0;R<s.length;R++){var M=s[R];for(var O=0;O<M.length;O++)if(M[O]!="-")M[O].T()}this.jx.T()};
ec.prototype.o3=function(s,M,O,P){var y=this.avr=M.tW,F=this.co,A=this.Z7[y];this.wb=[[12,54],[2,5],"Reflect",[12,38],[24,5,4]][y];
i.Lq(F);for(var R=0;R<A.length;R++){var h=A[R];if(h=="-"){i.yV(F);continue}h.q(h.V());h.parent=this;
F.appendChild(h._);i.QP(F)}this.T()};ec.prototype.Mk=function(s){var M=this.avr,O=this.Z7[M],P="",y=[];
for(var R=0;R<O.length;R++)if(O[R]!="-")y.push(O[R].V());console.log(y);if(M==0){var F=y[0],A=y[1];if(y[2]!=0){var h=y[3][0]*Math.PI/180;
F=y[2]*Math.cos(h);A=-y[2]*Math.sin(h)}P="translate("+F+","+A+");"}if(M==1)P="rotate("+-y[0][0]+");";
if(M==2){var m=1,Z=1;if(y[0]==0)Z=-1;else m=-1;P="resize("+m*100+","+Z*100+");"}if(M==3){P="resize("+y[0]+","+y[1]+");"}console.log(P);
var u=new kg(z.E.c,!0);u.data={Q:z.J.Mz,Pp:"app.activeDocument.activeLayer."+P};this.close();this.a(u)};
function iY(s,M,O,P){hV.call(this);this.name=s;this.aiQ=O;this.oP=P;this.Iu=i.m("div","");this.Iu.setAttribute("draggable","true");
this.Y4=i.m("div","pbody");this.ry=new fU("",!1,"");this.ry.parent=this;this.au_=i.m("span","cross gsicon");
this.Ei=i.m("span","label");var y=this.agc.bind(this);this.Iu.addEventListener("mousedown",this.FY.bind(this),!1);
this.Iu.addEventListener("contextmenu",y,!1);this.ry._.addEventListener("contextmenu",y,!1);this.au_.addEventListener("mousedown",this.xW.bind(this),!1);
this.Iu.appendChild(this.Ei);if(M)this.Iu.appendChild(this.au_);this.EP=!1;this.Ei.textContent=s}iY.prototype=new hV;
iY.prototype.Pl=function(){return null};iY.prototype.T=function(){var s=aW.get(this.name),M=!1,O=this.V5==0?22:Math.round(2+this.V5/50);
if(s.endsWith(" *")){M=!0;s=s.slice(0,s.length-2);O-=2}var P=s.length>O;this.Ei.textContent=P?s.slice(0,O-2):s;
this.Iu.setAttribute("title",s);if(P)for(var y=0;y<2;y++){var F=i.m("span");F.textContent=s.charAt(O-2+y);
i.P(F,"opacity:"+(.6-y*.4));this.Ei.appendChild(F)}if(M){var F=i.m("span");F.textContent=" *";this.Ei.appendChild(F)}var A=s.split(" "),h=A.length==2?A[0].substring(0,2)+A[1][0]:s.substring(0,3);
if(h.charCodeAt(0)>=11776)h=h.substring(0,1);var m=this.aiQ;if(m==null)this.ry.x3(h,s);else{var Z;if(m.startsWith("---"))Z="<img src=\""+PIMG[m.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(m.startsWith("==="))Z="<img src=\""+m.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(m.indexOf("\"")==-1)Z="<img src=\""+m+"\" alt=\""+i.uu(s).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.ry.x3(Z,s)}};iY.prototype.enable=function(){this.Y4.className="pbody"};iY.prototype.disable=function(){this.Y4.className="pbody disabled"};
iY.prototype.qy=function(s,M){};iY.prototype.o3=function(s,M,O){};iY.prototype.Dh=function(s){};iY.prototype.GK=function(s,M){};
iY.prototype.I5=function(s){this.name=s;this.T()};iY.prototype.PN=function(){};iY.prototype.FY=function(s){if(s.button==0)this.a(new kg("select",!1));
if(s.button==1)this.RJ()};iY.prototype.agc=function(s){i.zZ(s);var M=this.oP!=null&&isNaN(this.oP),O=i.iC(s,document.body),P=this.adz;
if(P==null){P=this.adz=new kA(M?[{name:"Uninstall Plugin"}]:[{name:[1,12,0]},{name:"Close All"},{name:"Close Others"}]);
this.adz.k("select",this.abg,this)}P.update(null);P.T();P.parent=this;var y=new kg(z.E.c,!0);y.data={Q:z.J.EU,uJ:P,x:O.x+1,y:O.y+1};
this.a(y)};iY.prototype.RJ=function(){if(this.oP!=null){var s=new kg(z.E.c,!0);s.data={Q:z.J.KX,uJ:this.adz};
this.a(s);if(isNaN(this.oP)){s.data={Q:z.J.ko,dh:g5.rc,azA:this.cC.resID}}else{s.data={Q:z.J.ko,dh:g5.WD,K:parseFloat(this.oP),hP:"del"}}this.a(s)}else if(this.atm())this.a(new kg(z.E.wE,!1))};
iY.prototype.atm=function(s){return!0};iY.prototype.xW=function(s){if(s.stopPropagation)s.stopPropagation();
this.RJ()};iY.prototype.abg=function(s){var R=s.target.x2()[0];if(R==0)this.RJ();else{var M=new kg(z.E.wE,!1);
M.data=R-1;this.a(M)}};iY.prototype.nD=function(s,M,O,P,y){};iY.prototype.nh=function(s,M,O,P,y){};iY.prototype.Cq=function(s,M,O,P,y){};
iY.GO=function(s,M,O){if(s.childElementCount!=0)return;var P=s.textContent;this.cm=this.azg.bind(this);
this.aJN=this.a79.bind(this);this.Ug=M;this.abD=O;this.Ik=s;this.i7=P;var y=i.m("input","");y.setAttribute("type","text");
y.setAttribute("size","10");y.setAttribute("value",P);i.Lq(s);s.appendChild(y);y.select();y.focus();
i.c0(s);s.addEventListener("keyup",this.cm,!1);document.body.addEventListener("mousedown",this.aJN,!1)};
iY.GO.prototype.azg=function(s){var M=hj.DT,O=M(s.code,hj.$g);if(M(s.code,hj.ob)||O)this.a3$(O)};iY.GO.prototype.a79=function(s){var M=s.target;
if(M.tagName&&M.tagName.toLowerCase()=="input")return;this.a3$(!0)};iY.GO.prototype.a3$=function(s){var M=this.Ik,O=M.firstChild.value;
M.removeEventListener("keyup",this.cm);document.body.removeEventListener("mousedown",this.aJN);if(this.abD||s&&O!=""&&O!=this.i7){this.Ug(O)}else{i.Lq(M);
M.textContent=this.i7}};iY.jV=function(){return[0,1,2,3,5,6,7,9,10,16,17,100]};iY.ajO=function(s){var M=iY.jV(),O=[];
for(var R=0;R<s.length;R++)if(M.indexOf(s[R])==-1)O.push(s[R]);for(var R=0;R<M.length;R++)if(s.indexOf(M[R])==-1)O.push(-M[R]);
return O};iY.asv=function(s){var M=iY.jV();for(var R=0;R<s.length;R++){var O=s[R],P=M.indexOf(O);if(P==-1)P=M.indexOf(-O);
if(0<=O&&P==-1)M.push(O);if(O<0&&P!=-1)M.splice(P,1);if(O==0&&P!=-1)M.splice(P,1)}return M};iY.ho={FZ:"0",axr:"1",mu:"2",aKo:"3",aKr:"4",TP:"5",CSS:"6",pr:"7",a8E:"8",aiM:"9",auw:"10",acb:"11",abZ:"12",_2:"13",kK:"14",a24:"15",a3b:"16",hk:"17",aG7:"18",ahG:"19",avy:"20",KE:"21",auQ:"22",ajc:"23",ae_:"24",amP:"25",aaA:"26",a5S:"27",Es:"28"};
function g6(){iY.call(this,[9,9],!1,"---panels/actions",iY.ho.acb);this.f=null;this.xO=[0,0]}g6.prototype=new iY("");
g6.prototype.JD=function(){if(!i.qE(this.Y4))return;if(this.oX){this.gq();return}this.oX=i.m("div","padded scrollable");
i.P(this.oX,"width:260px;  height:260px");this.Y4.appendChild(this.oX);this.k(z.E.n,this.Dv,this);this.JB=i.m("div","lpfoot");
this.Y4.appendChild(this.JB);this.AD=[];var s="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",M="</svg>",O=s+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+M,P=s+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+M;
this.aC2=s+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+M;this.a5A=s+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+M;
var y=[this.aC2,P,"lrs/folder","lrs/newlayer","lrs/bin",O],F=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var R=0;R<y.length;R++){var A=y[R];if(1<R&&R!=y.length-1)A="<img src=\""+PIMG[y[R]]+"\" class=\"miniscale gsicon\" />";
var h=new fU(A,!1,F[R]);h.k("click",this.k_,this);this.JB.appendChild(h._);this.AD.push(h)}this.gq()};
g6.prototype.T=function(){iY.prototype.T.call(this);if(this.oX==null)return;for(var R=0;R<this.AD.length;
R++)this.AD[R].T()};g6.prototype.k_=function(s){var R=this.AD.indexOf(s.currentTarget),M=this.xO,O=this.f,P=O.Cn;
if(R==0){var y,F=O.Ph;if(P.length==0){alert("Create an Action Set first.");return}if(M.length<2){alert("Select a target action first.");
return}if(F==null){y=this.a5A;F=this.xO}else{y=this.aC2;F=null}this.AD[0].x3(y);O.Ph=F}else if(R==1)this.a5u();
else if(R==2||R==3){var A={SD:"Action Set "+P.length,SB:[],exp:!0};if(R==2||P.length==0){M=[P.length];
P.push(A)}if(R==3){var h=P[M[0]].SB;M=[M[0],h.length];h.push({SD:"Action "+h.length,color:0,SB:[],auq:!1,shift:!1,exp:!0,Fa:h.length})}this.xO=M;
this.gq()}else if(R==4){var m;if(M.length==1)m=P;else if(M.length==2)m=P[M[0]].SB;else m=P[M[0]].SB[M[1]].SB;
var Z=M.length-1;m.splice(M[Z],1);if(m.length==0)M.pop();else while(M[Z]>=m.length)M[Z]--;if(M.length==0)M.push(0);
this.gq()}else if(R==5){if(P.length==0){alert("No Actions Present.");return}var u=new kg(z.E.c,!0);u.data={Q:z.J.Ty,azy:g5.H,EL:[M[0]]};
this.a(u)}};g6.prototype.Dv=function(s){var M=this.f.Cn,O=s.data.Q,P=s.data.hc;if(O=="sel")this.xO=P;
if(O=="fold"){if(P.length==1)M[P[0]].exp=!M[P[0]].exp;else M[P[0]].SB[P[1]].exp=!M[P[0]].SB[P[1]].exp}if(O=="enab"){var y=M[P[0]].SB[P[1]].SB[P[2]];
y.e=!y.e}if(O=="nchange"){if(P.length==1)M[P[0]].SD=s.data.$Z;else M[P[0]].SB[P[1]].SD=s.data.$Z}this.gq()};
g6.prototype.o3=g6.prototype.PN=function(){this.JD()};g6.prototype.qy=function(s,M){this.f=s;if(this.oX==null)return;
if(M==g5.H||M==g5.rT)this.gq()};g6.prototype.gq=function(){if(this.f==null)return;i.Lq(this.oX);var s=this.f.Cn;
if(s.length==0)return;var M=JSON.stringify(this.xO);for(var R=0;R<s.length;R++){var O=s[R],P=new g6.ov([R],M,O.exp,O.SD.split("=").pop());
P.parent=this;this.oX.appendChild(P._);if(!O.exp)continue;for(var y=0;y<O.SB.length;y++){var F=O.SB[y],P=new g6.ov([R,y],M,F.exp,F.SD.split("=").pop());
P.parent=this;this.oX.appendChild(P._);if(!F.exp)continue;for(var A=0;A<F.SB.length;A++){var h=F.SB[A],P=new g6.ov([R,y,A],M,null,aW.get(f7.ai5(h)),h.e);
P.parent=this;this.oX.appendChild(P._)}}}};g6.prototype.a5u=function(){var s=this.f.Cn,M=this.xO;if(s.length==0){alert("No Actions Present");
return}if(M.length==1){alert("Select an Action first");return}if(this.f.Ph!=null){alert("You can not apply actions while recording actions");
return}if(M.length==1)M.push(0);var O=s[M[0]],P=O.SB[M[1]],y=new kg(z.E.c,!0);y.data={Q:z.J.bG,ZN:[P.SD,O.SD]};
this.a(y)};g6.ov=function(s,M,O,P,y){hV.call(this);this.hc=s;var F=this.hc.length-1;this._=i.m("div","layeritem"+(JSON.stringify(s)==M?" selected":""));
this.rN=i.m("div","head");this._.appendChild(this.rN);i.P(this.rN,"height:24px");this.Tj=i.m("div","headL");
this.rN.appendChild(this.Tj);if(F!=0){var A=i.m("div");A.style.width=F*20+"px";this.Tj.appendChild(A)}if(O!=null){var h=this.aHk=i.m("div",O?"open":"closed");
this.Tj.appendChild(h)}else{var m=this.atP=i.m("div","cmark");i.P(m,"background-size:12px 12px; opacity:"+(y?1:.3));
this.Tj.appendChild(m)}if(F==0){var Z=i.m("div","folder");this.Tj.appendChild(Z)}var u=this.Ei=i.m("div","label");
u.textContent=P;this.Tj.appendChild(u);this._.addEventListener("mouseup",this.UQ.bind(this),!1)};g6.ov.prototype=new hV;
g6.ov.prototype.UQ=function(s){if(s.detail==1&&s.target.tagName.toLowerCase()!="input"){var M="sel";
if(s.target==this.aHk)M="fold";if(s.target==this.atP)M="enab";var O=new kg(z.E.n,!0);O.data={Q:M,hc:this.hc};
this.a(O)}else if(this.hc.length<3)var P=new iY.GO(this.Ei,this.Ug.bind(this))};g6.ov.prototype.Ug=function(s){var M=new kg(z.E.n,!0);
M.data={Q:"nchange",$Z:s,hc:this.hc};this.a(M)};function em(){iY.call(this,[3],!1,"---lrs/adj",iY.ho.aG7)}em.prototype=new iY("");
em.prototype.JD=function(){if(!i.qE(this.Y4)||this.AD)return;i.P(this.Y4,"text-align:center;  padding:6px; min-width:220px");
this.AD=[];var R=0;for(var s in ak.names){var M=new fU("<img src=\""+PIMG["adj/"+s]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,ak.names[s]);
M.k("click",this.aQ,this);this.AD.push(M);this.Y4.appendChild(M._);if(R==4||R==10)i.QP(this.Y4);R++}this.T()};
em.prototype.o3=function(){this.JD()};em.prototype.PN=function(){this.JD()};em.prototype.T=function(){iY.prototype.T.call(this);
if(this.AD==null)return;for(var R=0;R<this.AD.length;R++)this.AD[R].T()};em.prototype.aQ=function(s){var M=this.AD.indexOf(s.target),O=eM.z1()[M],P=new kg(O.g,!0);
P.data=O.d;this.a(P)};function i1(){iY.call(this,[12,22],!1,null,iY.ho.KE);this.oX=i.m("div","padded");
this.f=null;this.Y4.appendChild(this.oX);this.NZ=new bC(null,17.7,10);this.NZ.parent=this;this.NZ.k(z.E.n,this.qP,this);
this.oX.appendChild(this.NZ.ER)}i1.prototype=new iY("");i1.prototype.qP=function(s){var M=this.NZ.V(),O=new kg(z.E.H,!0);
O.data={Q:"setstl",K:M.bN};O.l=$.qz;this.a(O);O.data={Q:"confirm"};this.a(O)};i1.prototype.qy=function(s,M){this.f=s;
if(s==null)return;if(M==g5.rT||M==g5.KE){this.NZ.cA([s.ZB,s.ha]);this.NZ.GK()}};i1.prototype.gq=function(){this.NZ.RP()};
i1.prototype.o3=function(){this.gq()};i1.prototype.PN=function(){this.gq()};var e3=function(){function s(){iY.call(this,[9,3],!1,"---panels/brush",iY.ho.pr);
this.tK=null;this.f=null}s.prototype=new iY("");s.prototype.JD=function(){var y=i.m("div","");this.Y4.appendChild(y);
this.Ce=i.m("div","bordered cell");i.P(this.Ce,"width:10em; height:28.5em;");y.appendChild(this.Ce);
this.OX=[];this.aJP=null;this.BX=[];var F=this.aq$.bind(this);this.eo=[new O("basic"),new O("useTipDynamics"),new O("useScatter"),new O("useColorDynamics"),new O("usePaintDynamics")];
for(var R=0;R<this.eo.length;R++){var A=i.m("div","listitem"),h=this.eo[R],Z=null;h.parent=this;h.k("brushchange",this.aAi,this);
var m=h.qA;if(R==0){this.aJP=new df(m);A.appendChild(this.aJP._)}else{Z=new ho(m,!1);Z.k(z.E.n,this.ayh,this);
A.appendChild(Z._)}this.BX.push(Z);this.Ce.appendChild(A);this.OX.push(A);A.addEventListener("click",F,!1)}this.dP=i.m("div","cell padded");
y.appendChild(this.dP);this.setItem(0);this.Tb=i.m("canvas");this.Tb.height=10;y.appendChild(this.Tb);
this.KM=this.Tb.getContext("2d");this.Ro()};s.prototype.GK=function(y,F){if(this.V5==y)return;this.V5=y;
this.fw=F;this.Ro()};s.prototype.PN=function(){if(!i.qE(this.Y4))return;if(this.Ce){this.Ro();return}this.JD();
this.T();this.qy(this.f,g5.rT)};s.prototype.T=function(){iY.prototype.T.call(this);if(this.Ce==null)return;
this.aJP.T();for(var R=1;R<this.BX.length;R++)this.BX[R].T();for(var R=0;R<this.eo.length;R++)this.eo[R].T()};
s.prototype.aAi=function(y){var F=this.eo.indexOf(y.currentTarget),A=a.G(this.eo[F].tK),h=new kg(z.E.c,!0);
h.data={Q:z.J.ko,dh:g5.JZ,tK:A};this.a(h)};s.prototype.ayh=function(y){this.aig(this.BX.indexOf(y.currentTarget),y.currentTarget.vy())};
s.prototype.aq$=function(y){var R=this.OX.indexOf(y.currentTarget);if(y.target.tagName.toLowerCase()=="input")return;
if(this.BX[R]&&!this.BX[R].vy()){this.BX[R].Mg();this.aig(R,!0)}this.setItem(R)};s.prototype.aig=function(y,F){this.eo[y].aIG(F)};
s.prototype.setItem=function(y){for(var R=0;R<this.eo.length;R++)this.OX[R].className="listitem";if(this.dP.firstChild)this.dP.removeChild(this.dP.firstChild);
this.OX[y].className="listitem selected";this.dP.appendChild(this.eo[y]._)};s.prototype.qy=function(y,F){this.f=y;
if(this.Ce==null)return;for(var R=0;R<this.eo.length;R++)this.eo[R].qy(y,F);if(F==g5.JZ||F==g5.rT){this.tK=y.ql.ss;
this.Ro()}if(F==g5._2)this.Ro()};s.prototype.Ro=function(){if(this.tK)this.enable();else{this.disable();
return}if(!i.qE(this.Y4))return;var y=this.f;for(var R=0;R<this.eo.length;R++){this.eo[R].q(this.tK);
if(this.BX[R])this.BX[R].q(this.eo[R].vy())}var F=a.G(this.tK);F.Brsh.v.Dmtr.v.val=Math.min(F.Brsh.v.Dmtr.v.val,50);
i.MQ(this.Tb,this.V5,80);var A=new gi(0,0,this.Tb.width,this.Tb.height),h=this.f.ql,m=new du(F,h?h.nt:null,h?h.hx:null,{KA:1},y.UC,y.Cc,A,null,0),Z=A.$/2,u=A.A-Z*2;
m.moveTo(Z,Z);for(var R=0;R<=u;R+=10)m.lineTo(Z+R,Z+20*Math.sin(2*Math.PI*R/u));m.finish();var f=new ImageData(A.A,A.$);
a.FP(m.HT(),m.Gt(),f.data,A);this.KM.putImageData(f,0,0)};function M(y){hV.call(this);y=y.split(".")[0];
this.Er=y;var F=this._=i.m("span"),A=["Off","Fade"];A.push(y=="angleDynamics"?"Direction":"Pen Pressure");
var h=this.BY=new d_("Control",A);h.k(z.E.n,this.qr,this);F.appendChild(h._);var m=this.acu=new hQ(null,0,100,null,null,null,!0);
m.q(50);m.k(z.E.n,this.qr,this)}M.prototype=new hV;M.prototype.q=function(y){y=y<2?y:2;this.BY.q(y);
this.gq()};M.prototype.V=function(){var y=this.BY.V(),F=this.Er;y=y<=1?y:F=="angleDynamics"?6:2;return y};
M.prototype.qr=function(y){this.gq();y.target=y.currentTarget=this;this.a(y)};M.prototype.gq=function(y){this.acu.oo(this.BY.V()==1)};
function O(y){hV.call(this);this._=i.m("div");this.tK=null;var F=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(y);
this.qA=[[15,0],[15,1],[15,2],[15,3],"Transfer"][F];this.bo=y;this.DD={};this.akz=null;var A=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["colorDynamicsPerTip","clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][F];
for(var R=0;R<A.length;R++){var h=A[R],m;if(h=="--br"){m=new g8;this._.appendChild(m.ER.firstChild)}else if(h=="Brsh.Dmtr")m=new jH([12,14,0],1,1e3," px",0,!0);
else if(h=="Brsh.Angl")m=new jH([12,15],0,359," \xB0");else if(h=="Brsh.Rndn")m=new jH([12,16],0,100," %");
else if(h=="Brsh.Hrdn")m=new jH([12,17],0,100," %");else if(h=="Brsh.Spcn")m=new jH([12,18],1,300," %");
else if(h=="szVr.jitter")m=new jH([15,4,0],0,100,"%");else if(h=="minimumDiameter")m=new jH([15,4,1],0,100,"%");
else if(h=="angleDynamics.jitter")m=new jH([15,4,2],0,100,"%");else if(h.endsWith("bVTy"))m=new M(h);
else if(h.endsWith("fStp"))m=new hQ(null,0,100,null,null,null,!0);else if(h=="roundnessDynamics.jitter")m=new jH([15,4,3],0,100,"%");
else if(h=="minimumRoundness")m=new jH([15,4,4],1,100,"%");else if(h=="scatterDynamics.jitter")m=new jH([15,5,0],0,1e3," %");
else if(h=="Cnt")m=new jH([15,5,1],1,20);else if(h=="countDynamics.jitter")m=new jH([15,5,2],0,100," %");
else if(h=="clVr.jitter")m=new jH([15,6,0],0,100," %");else if(h=="H")m=new jH([15,6,1],0,100," %");
else if(h=="Strt")m=new jH([15,6,2],0,100," %");else if(h=="Brgh")m=new jH([15,6,3],0,100," %");else if(h=="opVr.jitter")m=new jH("Opacity Jitter",0,100," %");
else if(h=="prVr.jitter")m=new jH("Flow Jitter",0,100," %");else if(h=="colorDynamicsPerTip")m=new ho("Apply Per Tip");
else throw h;this.DD[h]=m;m.parent=this;m.k(z.E.n,this.qr,this)}}O.prototype=new hV;O.prototype.anW=function(){this.a(new kg("brushchange"))};
O.prototype.q=function(y){this.tK=a.G(y);this._.className=this.vy()?"":"disabled";this.Ro()};O.prototype.T=function(){for(var y in this.DD)this.DD[y].T()};
O.prototype.vy=function(){return!0};O.prototype.qy=function(y,F){if(F==g5.pr||F==g5.rT){var A=this.DD["--br"];
if(A)A.cA(y.ql)}};O.prototype.qr=function(y){var F=y.target,A=this.DD,h;for(var m in A)if(A[m]==F)h=m;
if(h=="--br"){var Z=new kg(z.E.c,!0);Z.data={Q:z.J.ko,dh:g5.JZ,tK:F.V()};this.a(Z)}else{var u=P(this.tK,h),f=F.V();
if(u){if(h.endsWith("bVTy")||h.endsWith("fStp")||h=="Cnt")u.v=f;else if(h=="colorDynamicsPerTip")u.v=f;
else u.v.val=f;this.anW()}}};O.prototype.Ro=function(){var y=this.tK,F=y.Brsh.v.classID,A=this.DD,h=F!=this.akz;
this.akz=F;if(h){i.Lq(this._);for(var m in A){if(F!="computedBrush"&&F!="sampledBrush"&&m=="Brsh.Rndn")continue;
if(F!="computedBrush"&&m=="Brsh.Hrdn")continue;var Z=A[m],u=Z._;if(m=="--br"){u=Z._e._;u.style.width="auto"}this._.appendChild(u)}}for(var m in A){if(m=="--br")continue;
var f=P(y,m),U;if(f){if(m.endsWith("bVTy")||m.endsWith("fStp")||m=="Cnt")U=f.v;else if(m=="colorDynamicsPerTip")U=f.v;
else U=f.v.val;A[m].q(U);if(m.endsWith("fStp"))A[m].oo(P(y,m.split(".")[0]+".bVTy").v==1)}}};O.prototype.vy=function(){var y=this.bo;
return y=="basic"?!0:this.tK[y].v};O.prototype.aIG=function(y){var F=this.bo;if(F=="basic")return;this.tK[F].v=y;
fO.Oi.a0O(this.tK);this.anW()};function P(y,F){var A=F.split(".");y=y[A[0]];for(var R=1;R<A.length;R++){if(y==null)return y;
y=y.v[A[R]]}return y}return s}();function dA(){iY.call(this,[9,0],!1,"---panels/history",iY.ho.FZ);i.P(this.Y4,"min-width:200px;");
this.Fu=i.m("div","hpbody scrollable");this.Fu.style.height="160px";this.Y4.appendChild(this.Fu);this.adQ=-1;
this.aiW=[];this.Fn="";this.JU=new kA([{name:"Clear History"}],[{g:z.E.H,l:$.FZ,d:{Q:"h_clear"}}])}dA.prototype=new iY("");
dA.prototype.Pl=function(){return this.JU};dA.prototype.GK=function(s,M){this.PN()};dA.prototype.o3=function(s){if(s==null){i.Lq(this.Fu);
this.Fn="";return}i.Lq(this.Fu);var M=0;for(var R=0;R<s.history.length;R++)if(R<=s.oB&&!s.history[R].aA_)M=R;
for(var R=0;R<s.history.length;R++){var O=s.history[R];if(O.aA_)continue;var P=new fi(O,R,M);P.parent=this;
this.Fu.appendChild(P._);this.aiW.push(P)}if(s.oB==s.history.length-1)this.PN()};dA.prototype.PN=function(){this.Fu.scrollTop=this.Fu.scrollHeight};
dA.prototype.T=function(){iY.prototype.T.call(this);for(var R=0;R<this.aiW.length;R++)this.aiW[R].T()};
function fi(s,R,M){hV.call(this);this.index=R;this._=i.m("div",R==M?"listitem selected":"listitem");
this.$D=s.name;this.T();if(R>M)this._.style.opacity=.4;this._.addEventListener("click",this.nD.bind(this),!1)}fi.prototype=new hV;
fi.prototype.T=function(){this._.textContent=aW.get(this.$D)};fi.prototype.nD=function(s){if(this.index==this.parent.adQ)return;
this.C0({Q:"h_itemchange",index:this.index})};fi.prototype.C0=function(s){var M=new kg(z.E.H,!0);M.data=s;
M.l=$.FZ;this.a(M)};function cX(){iY.call(this,[9,10],!1,"---panels/histogram",iY.ho.aKr);var s=i.m("div","padded");
this.Y4.appendChild(s);this.Mj=new fx(256,!0);s.appendChild(this.Mj._);this.lX=null}cX.prototype=new iY("");
cX.prototype.o3=function(s){this.lX=s;this.gq()};cX.prototype.gq=function(){var s=this.lX;if(!i.qE(this.Y4))return;
if(s==null||s.Y.length==0){this.Mj.q(a.Un(a.j(4)));return}var M=s.Ta(),O=new gi(0,0,s.A,s.$),P=O.C();
if(s.h){var y=s.h.S,F=a.j(y.C()*4);a.FP(M,O,F,y);a.QV(s.h.N,F);M=F;O=y;var A=s.h.N;P=0;for(var R=0;R<A.length;
R++)P+=A[R];P=Math.round(P/255)}var h=a.Un(M);h[0][255]+=3*(P-h[5]);for(var R=1;R<4;R++)h[R][255]+=P-h[5];
this.Mj.q(h,P)};cX.prototype.qy=function(s,M){this.Mj.ZS(hz.YS[s.OW]["--text-color"])};cX.prototype.T=function(){iY.prototype.T.call(this);
this.Mj.T()};cX.prototype.PN=function(){this.gq()};function jB(){iY.call(this,[9,8],!1,"---adj/clrL",iY.ho.axr);
this.oX=i.m("div","padded");this.Y4.appendChild(this.oX);this.I8=new gg(10);this.oX.appendChild(this.I8._);
this.Vo=new gZ;this.Vo.parent=this;this.oX.appendChild(this.Vo.ER);this.Vo.ER.style.marginTop="6px";
this.I8.k(z.E.n,this.as2,this);this.Vo.k(z.E.n,this.as2,this);jB.oX=this}jB.prototype=new iY("");jB.prototype.ahR=function(s){this.Vo._e.q(s)};
jB.prototype.as2=function(s){var M;if(s.target==this.I8)M=this.I8.V();else{var O=this.Vo.V();M=a.DU(O)}var P=new kg(z.E.c,!0);
P.data={Q:z.J.ko,dh:g5._2,tW:0,K:M};this.a(P)};jB.eP=function(s,M){var O=M==g5.rT,P=s.Zb,y=s.fe,F=y.strokeStyleContent.v,A=null;
if((M==g5.IB||O)&&P.tn==1){A=a.wv.sl(P.Rw.Clr.v);A=A.o<<16|A.R<<8|A.X}if((M==g5.pj||O)&&y.strokeEnabled.v&&F.classID=="solidColorLayer"){A=a.wv.sl(F.Clr.v);
A=A.o<<16|A.R<<8|A.X}if(M==g5._2||O)A=s.UC;return A};jB.prototype.qy=function(s,M){var O=s.UC,P=M==g5.rT,y=jB.eP(s,M);
if(y!=null){this.I8.q(y);this.Vo.q({o:y>>>16&255,R:y>>>8&255,X:y>>>0&255,jb:"Default/Color #"+a.Rr(y)})}if(M==g5.X1||P){var F=s.asM;
this.Vo.cA(F)}};jB.prototype.GK=function(s,M){this.Vo.ER.children[0].style.width=s-32+"px"};function fJ(){iY.call(this,[12,72],!1,"---adj/mixr",iY.ho.a3b);
this.Zi=null;this.ZK=null;this.Fu=i.m("div","lpbody scrollable");this.Fu.style.marginTop="4px";this.JB=i.m("div","lpfoot");
this.Y4.appendChild(this.Fu);this.Y4.appendChild(this.JB);this.acK=[];this.k("click",this.P_,this);this.I$=[];
fJ.NM([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.I$,this.JB,this.mz.bind(this),this.cM.bind(this));
this.JU=new kA([{name:"Merge Channels",GL:!0}],[{g:z.E.c,d:{Q:z.J.xL,Rj:"mergechannels"}}])}fJ.prototype=new iY("");
fJ.prototype.Pl=function(){return this.JU};fJ.NM=function(s,M,O,P,y){for(var R=0;R<s.length;R++){var F=new fU("W",!1,s[R]);
M.push(F);i.dq(F._,P);O.appendChild(F._);var A=F._;A.addEventListener("drop",y,!1);A.addEventListener("dragover",function(h){h.preventDefault()},!1);
A.addEventListener("dragenter",i.zZ,!1)}};fJ.YG=function(s,M){for(var R=0;R<s.length;R++)if(s[R]._==M.currentTarget)return R};
fJ.prototype.mz=function(s){var M=fJ.YG(this.I$,s);if(M==0)this.a(dd.PK(!0,null,s));else{M--;var O=new kg(z.E.fa,!0),P={classID:"null"};
if(M==0)P.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(M==1)P.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else P.null=f7.Ht("Chnl",!0);O.data={Cw:["duplicate","make","delete"][M],kT:P};this.a(O)}};fJ.prototype.cM=function(s){var M=fJ.YG(this.I$,s);
if(M==2){var O=new kg(z.E.fa,!0),P={classID:"null"};P.null=f7.Ht("Chnl",!0);O.data={Cw:"duplicate",kT:P};
this.a(O)}else this.mz(s)};fJ.prototype.Sj=function(R){var s=this.acK,M=s[R];if(M==null){var O=i.m("canvas");
M=O.getContext("2d");s.push(M)}return M};fJ.prototype.P_=function(s){var M=this.Zi.slice(0),O=s.data.Fa,P=M[0]+M[1]+M[2],y=this.ZK;
if(-5<O&&O<0){var F=-O-1;if(s.data.Jm){if(F==0)M=P==3?[0,0,0]:[1,1,1];else{if(M[F-1]==0)M[F-1]=1;else if(!0)M[F-1]=0}}else{if(F==0)M=[1,1,1];
else{M=[0,0,0];M[F-1]=1}for(var R=0;R<y.dj.length;R++)y.dj[R].H7=!1;y.G7=[]}var A=new kg(z.E.H,!0);A.l=$.dU;
A.data={Q:"setcls",P7:M};this.a(A);return}if(-1<O){var h=Math.floor(O),m=y.U[h],Z=h==O?m.Bl():m.UU(y).$E;
if(s.data.Jm)Z.H7=!Z.H7;else{m.KV=1+(h==O?0:2);for(var R=0;R<y.dj.length;R++)y.dj[R].H7=!1;y.G7=[]}}else{var u=-O-5,Z=y.dj[u];
if(s.data.Jm)Z.H7=!Z.H7;else{for(var R=0;R<y.dj.length;R++)y.dj[R].H7=!1;Z.H7=!0;y.G7=[u];if(P!=0){var A=new kg(z.E.H,!0);
A.l=$.dU;A.data={Q:"setcls",P7:[0,0,0]};this.a(A)}}}y.G_=y.DI=!0};fJ.prototype.PN=function(){this.RB()};
fJ.prototype.o3=function(s){this.ZK=s;this.RB()};fJ.prototype.RB=function(){var s=this.ZK,M=this.Fu,C=4;
i.Lq(M);if(s==null||!i.qE(M))return;var O=s.A,P=s.$,y=new gi(0,0,O,P),F=this.Zi=s.i.P7.slice(0),A=F[0]+F[1]+F[2],h=Math.round(34*i.yD()),m=h;
if(O>P)m=Math.round(m*P/O);else h=Math.round(h*O/P);var Z=["RGB"].concat(ak.Vs);for(var R=0;R<4;R++){var u=this.Sj(R);
a.mb.Ol(u,h,m,y,s.Ta(),y,!1,R==0?null:R-1);var f=R==0?A==3:F[R-1]==1,U=new dd(-1-R,!0,!0,u,Z[R],f,f);
U.parent=this;M.appendChild(U._);i.K8(u.canvas)}for(var R=0;R<s.Y.length;R++){var H=s.U[s.Y[R]],t=H.KV;
for(var X=0;X<2;X++){var Q=X==0?H.Bl():H.UU(s);if(Q==null)continue;if(X==1)Q=Q.$E;var u=this.Sj(C);C++;
a.mb.PH(u,h,m,y,Q);var U=new dd(s.Y[R]+X*.5,!0,!0,u,H.getName()+(X==0?"":" Filter")+" Mask",X==0&&t==1||X==1&&t==3,Q.H7);
U.parent=this;M.appendChild(U._);i.K8(u.canvas)}}for(var R=0;R<s.dj.length;R++){var Q=s.dj[R],u=this.Sj(C+R);
a.mb.PH(u,h,m,y,Q);var U=new dd(-5-R,!0,Q.name=="Quick Mask",u,Q.name,s.G7.indexOf(R)!=-1,Q.H7,$.mu,{Q:ad.rQ,tW:"rnm",Fa:R});
U.parent=this;M.appendChild(U._);i.K8(u.canvas)}};fJ.prototype.GK=function(s,M){this.Fu.style.height=M-30-4+"px";
this.Fu.style.width=s+"px"};fJ.prototype.T=function(){iY.prototype.T.call(this);this.RB();fJ.NT(this.I$,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
fJ.NT=function(s,M,O){var M=e0.$b(M,null,"miniscale");for(var R=0;R<s.length;R++)s[R].x3(M[R],O?O[R]:null)};
function dd(s,M,O,P,y,F,A,h,m){hV.call(this);this._=i.m("div");this.awe=s;this.aqb=M;this.KM=P;this.aqM=h;
this.aw5=m;this.rN=i.m("div",F?"head selected":"head");i.P(this.rN,"height: "+40+"px");var Z=i.m("div","headL"),u=i.m("div","headR"),f=15;
this._.appendChild(this.rN);this.rN.appendChild(Z);this.rN.appendChild(u);this.dp=i.m("div","eye");if(1<i.yD()&&i.yD()<1.5)f=f/i.yD();
i.P(this.dp,"background-size: "+f+"px "+f+"px;");this.dp.style.opacity=A?1:.2;if(M)Z.appendChild(this.dp);
this.px=i.m("div","thumb");if(P)this.px.appendChild(P.canvas);Z.appendChild(this.px);this.MY=i.m("div","label");
if(O)this.MY.style.fontStyle="italic";this.MY.textContent=aW.get(y);Z.appendChild(this.MY);var U=this.rN;
U.setAttribute("draggable","true");U.addEventListener("dragstart",function(C){C.stopPropagation();C.dataTransfer.setData("Text","hello")},!1);
U.addEventListener("drop",i.zZ,!1);i.dq(this.rN,this.a9C.bind(this));if(!O)this.rN.addEventListener("mouseup",this.aom.bind(this),!1)}dd.prototype=new hV;
dd.prototype.Ug=function(s){var M=new kg(z.E.H,!0);M.l=this.aqM;M.data=this.aw5;M.data.name=s;this.a(M)};
dd.prototype.a9C=function(s){var M=s.ctrlKey||s.metaKey,O=this.awe;if(M&&s.target==this.KM.canvas){this.a(dd.PK(this.aqb,O,s))}else{var P=new kg("click",!0);
P.data={Fa:O,Jm:s.target==this.dp,yB:M};this.a(P)}};dd.jH=0;dd.prototype.aom=function(s){if(Date.now()-dd.jH<300&&s.target==this.MY){var M=new iY.GO(this.MY,this.Ug.bind(this))}dd.jH=Date.now()};
dd.PK=function(s,M,O){var P=0;if(O.shiftKey)P++;if(O.altKey)P+=2;var y=new kg(z.E.H,!0);y.l=$.Sp;if(s){var F=Math.floor(M);
if(-5<M&&M<0){y=new kg(z.E.fa,!0);y.data=$.vm.bK(P,["RGB","Rd","Grn","Bl"][-1-M])}else if(M<=-5||M==null)y.data={Q:"fromchannel",ZN:[M,0,P]};
else y.data={Q:"fromlayer",ZN:[F,1+(M==F?0:2),P]}}else y.data={Q:"frompath",ZN:[M,0,P]};return y};function a$(){iY.call(this,[8,9],!1,"---panels/paths",iY.ho.hk);
this.Zi=null;this.ZK=null;this.Fu=i.m("div","lpbody scrollable");this.Fu.style.marginTop="4px";this.JB=i.m("div","lpfoot");
this.Y4.appendChild(this.Fu);this.Y4.appendChild(this.JB);this.Y4.addEventListener("click",this.ayS.bind(this),!1);
this.acK=[];this.k("click",this.P_,this);this.I$=[];fJ.NM(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.I$,this.JB,this.mz.bind(this),this.cM.bind(this))}a$.prototype=new iY("");
a$.prototype.mz=function(s,M){var O=fJ.YG(this.I$,s),P;if(O<2){if(O==1&&s.altKey){P=new kg(z.E.c,!0);
P.data={Q:z.J.xL,Rj:"strokepath"}}else{P=new kg(z.E.fa,!0);P.data=$.Y8.xS(O==0?null:"PbTl")}}else if(O==2)P=dd.PK(!1,null,s);
else if(O==3){P=new kg(z.E.fa,!0);P.data=$.vm.aAL()}else if(O>3){var P=new kg(z.E.H,!0);P.l=$.WU;P.data={Q:"pathedit",tW:["new","del"][O-4],aqT:M}}this.a(P)};
a$.prototype.cM=function(s){this.mz(s,!0)};a$.prototype.Sj=function(R){var s=this.acK,M=s[R];if(M==null){var O=i.m("canvas");
M=O.getContext("2d");s.push(M)}return M};a$.prototype.ayS=function(s){if(s.target==this.Fu){var M=this.ZK;
M.J_=[];M.XK=[];M.DI=!0;M.G_=!0}};a$.prototype.P_=function(s){var M=s.data.Fa,O=this.ZK,P=s.data.yB,y=M,F=O.XK,A=O.J_;
if(M<0){y=-1-M;F=O.J_;A=O.XK}if(P){var h=F.indexOf(y);if(h==-1)F.push(y);else F.splice(h,1)}else{while(F.length!=0)F.pop();
while(A.length!=0)A.pop();F.push(y)}O.DI=!0;O.G_=!0};a$.prototype.PN=function(){this.RB()};a$.prototype.o3=function(s){this.ZK=s;
this.RB()};a$.prototype.RB=function(){var s=this.ZK,M=this.Fu;i.Lq(M);if(s==null||!i.qE(M))return;var O=s.A,P=s.$,y=new gi(0,0,O,P),F=this.Zi=s.i.P7.slice(0),A=F[0]+F[1]+F[2],h=Math.round(34*i.yD()),m=h;
if(O>P)m=Math.round(m*P/O);else h=Math.round(h*O/P);var Z=s.Iv(),u=Z[0];for(var R=0;R<u.length;R++){var f=u[R],U=s.vX!=-1&&s.vX==-1-f.Fa,C=this.Sj(R);
a.mb.aDA(C,h,m,y,f.add.vmsk,U);var H=new dd(f.Fa,!1,f.Fa>=0||U,C,f.name,Z[1].indexOf(R)!=-1,!1,$.WU,{Q:"pathedit",tW:"rnm",Fa:f.Fa});
H.parent=this;M.appendChild(H._);i.K8(C.canvas)}};a$.prototype.GK=function(s,M){this.Fu.style.height=M-30-4+"px";
this.Fu.style.width=s+"px"};a$.prototype.T=function(){iY.prototype.T.call(this);this.RB();fJ.NT(this.I$,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function aG(s){iY.call(this,[9,s?4:5],!1,"---panels/"+(s?"character":"paragraph"),s?iY.ho.aiM:iY.ho.auw);
i.P(this.Y4,"min-width:255px;");this.ahS=s;this.f=null;this.K3=!1}aG.prototype=new iY("");aG.h1=null;
aG.prototype.JD=function(){var s=aG.h1,M=this.Y4;if(s==null)s=aG.h1=new fF;s.parent=this;this.K3=!0;
if(this.ahS){var O=i.m("div","marged");M.appendChild(O);O.appendChild(s.PP._);O.appendChild(s.aJ);i.yV(M);
var P=i.m("div","marged");M.appendChild(P);P.appendChild(s.zj._);P.appendChild(s.Hm._);var y=i.m("div","marged");
M.appendChild(y);y.appendChild(s.wG._);y.appendChild(s.ai._);i.yV(M);var F=i.m("div","marged");M.appendChild(F);
F.appendChild(s.X8._);F.appendChild(s.wa._);var A=i.m("div","marged");M.appendChild(A);A.appendChild(s.wP._);
A.appendChild(s.vZ._);A.appendChild(s.G1._);i.yV(M);var h=i.m("div","marged");M.appendChild(h);h.appendChild(s.pA._);
h.appendChild(s.i1._);h.appendChild(s.ut._);h.appendChild(s.Is._);h.appendChild(s._8._);h.appendChild(s.dX._);
h.appendChild(s.Xd._);h.appendChild(s.mA._);var m=i.m("div","marged");M.appendChild(m);for(var R=0;R<8;
R++)m.appendChild(s.g2[R]._);i.yV(M);var Z=i.m("div","marged");M.appendChild(Z);Z.appendChild(s.cn._)}else{var O=i.m("div","marged");
M.appendChild(O);O.appendChild(s.amJ._);O.appendChild(s.aFQ._);O.appendChild(s.aD6._);O.appendChild(s.aCB._);
O.appendChild(s.a9v._);O.appendChild(s.aky._);O.appendChild(s.akU._);i.yV(M);var P=i.m("div","marged");
M.appendChild(P);P.appendChild(s.UH._);P.appendChild(s.lu._);P.appendChild(s.Ua._);i.yV(M);var y=i.m("div","marged");
M.appendChild(y);y.appendChild(s.Mw._);y.appendChild(s.mn._);y.appendChild(s.A2._);y.appendChild(s.Nm._)}};
aG.prototype.PN=function(){if(!i.qE(this.Y4))return;if(!this.K3){this.JD();var s=this.f;if(s)aG.h1.q(s.xx,s.s4,s.fL);
aG.h1.T()}};aG.prototype.T=function(){iY.prototype.T.call(this);if(aG.h1)aG.h1.T()};aG.prototype.qy=function(s,M){this.f=s;
if(M!=g5.rT&&M!=g5.B0&&M!=g5.Ql&&M!=g5.vG)return;if(aG.h1)aG.h1.q(s.xx,s.s4,s.fL)};function hg(s){iY.call(this,s?"Character Styles":"Paragraph Styles",!1,null,s?iY.ho.ae_:iY.ho.amP);
i.P(this.Y4,"min-width:240px;");var M=this.$U=i.m("div","scrollable");this.Y4.appendChild(M);i.P(M,"max-height:400px;");
this.Dw=null;this.apN=null;this.kW=null;this.ahS=s?0:1;this.lX=null;this.f=null;this.akd=hg.prototype.JQ.bind(this)}hg.prototype=new iY("");
hg.prototype.o3=function(s,M,O){this.lX=s;this.f=O;this.RB()};hg.prototype.RB=function(){var s=this.$U;
i.Lq(s);if(!i.qE(this.Y4))return;var M=this.lX,O=this.f;if(M==null||O==null)return;var P=O.xx,y=this.Dw=[],F={},A=this.apN=[],h=this.kW=[],m={},Z=this.ahS,u=Z==0?"Style":"Paragraph";
for(var R=0;R<M.U.length;R++){var f=M.U[R].add.TySh;if(f==null)continue;var U=f.nA,C=f.M.dI(),H=U.ResourceDict.FontSet,t=U.EngineDict[u+"Run"],X=t.RunArray;
for(var Q=0;Q<X.length;Q++){var D=hg.aAe(X[Q][u+"Sheet"][Z==0?"StyleSheetData":"Properties"],Z,H,A,m,C);
if(D.FillColor==null)D.FillColor={Type:1,Values:[1,0,0,0]};var L=JSON.stringify(D);if(F[L]==null){F[L]=!0;
y.push(D)}}}var E=Z==0?function(k,a7){return a7.FontSize-k.FontSize}:function(k,a7){return k.Justify-a7.Justify};
y.sort(E);var _=[];if(Z==0){var S=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],W=S.length,g=new Array(W),x=1e9,V=0;
g.fill(1e9);for(var R=0;R<y.length;R++){var b=y[R],H=b.FontSize;x=Math.min(x,H);V=Math.max(V,H);var N=b.FillColor.Values,J=(N[1]+N[2]+N[3])/3;
_[R]=J>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var K=hg.aAe(Z==0?P.TY:P.Gy,Z,P.U2,A,m,1),q=JSON.stringify(K);
for(var R=0;R<y.length;R++){var d=i.m("div");s.appendChild(d);h.push(d);d.addEventListener("click",this.akd,!1);
var b=y[R],l=JSON.stringify(b)==q;if(Z==0){var T=A[b.Font].Name,B=T.toLowerCase(),p=B.indexOf("bold")!=-1||B.indexOf("-black")!=-1,w=B.indexOf("italic")!=-1||B.indexOf("oblique")!=-1||B.endsWith("-it"),e=B.indexOf("light")!=-1,H=b.FontSize,N=b.FillColor.Values,G=_[R];
if(l){G=G.slice(0);G[1]=Math.min(1,G[1]+.2)}var j=V==x?.5:(H-x)/(V-x),P=10+16*j,o="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+P+"px; color:"+CSS.vh({o:N[1]*255,R:N[2]*255,X:N[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.vh({o:G[1]*255,R:G[2]*255,X:G[3]*255})+";";
if(p)o+=" font-weight:bold;";if(w)o+=" font-style:italic;";if(e)o+=" font-weight:lighter;";i.P(d,o);
var r=i.m("span");d.appendChild(r);i.P(r,"display:inline-block;  width:"+(V>99?50:40)+"px;  text-align:right;  margin-right:5px;");
r.textContent=Math.round(H);r=i.m("span");d.appendChild(r);i.P(r,"display:inline-block;  width:130px; ");
r.textContent=T}}};hg.prototype.JQ=function(s){var M=a.G(this.f.xx),R=this.kW.indexOf(s.currentTarget),O=this.Dw[R];
for(var P in O)if(P!="Font")M.TY[P]=O[P];iP.Z2(M,this.apN[O.Font].Name);console.log(M);var y=new kg(z.E.c,!0);
y.data={Q:z.J.ko,dh:g5.B0,xx:M};this.a(y);var y=new kg(z.E.H,!0);y.l=$.El;y.data={Q:"updateStyles"};
this.a(y)};hg.aAe=function(s,M,O,P,y,F){var A=M==0?["Font","FontSize","FillColor"]:[],h={};for(var m=0;
m<A.length;m++)h[A[m]]=s[A[m]];if(M==0){if(h.Font!=null){var Z=O[h.Font].Name;if(y[Z]==null){y[Z]=P.length;
P.push(O[h.Font])}h.Font=y[Z]}h.FontSize=h.FontSize*F}return h};hg.prototype.PN=function(){if(!i.qE(this.Y4))return};
hg.prototype.T=function(){iY.prototype.T.call(this)};hg.prototype.qy=function(s,M){this.f=s;this.RB()};
function h5(){iY.call(this,[9,13],!1,"---panels/glyphs",iY.ho.ahG);this.f=null}h5.prototype=new iY("");
h5.prototype.JD=function(){this.h1=new fF;this.h1.parent=this;this.am$=null;this.aI1=null;this.JO=null;
this.a1T=null;this.z2=Math.round(290*i.yD());this.rp=45;this.dl=4;this.axo=this.gq.bind(this);this.a1O=0;
this.mt=new d_(null,["Hi","Hello"]);this.mt.k(z.E.n,this.gq,this);var s=this.Yy=new fU("-",null,null,!0);
s.k("click",this.ab9,this);var M=this.ays=new fU("+",null,null,!0);M.k("click",this.ab9,this);this._e=new ex(!1);
this._e.k(z.E.n,this.FY,this);this._e._.style.height=250+"px";var O=this.yE=i.m("div","form padded");
this.Y4.appendChild(O);O.appendChild(this.h1.PP._);i.QP(O);O.appendChild(this.mt._);O.appendChild(s._);
O.appendChild(M._);this.Y4.appendChild(this._e._)};h5.prototype.GK=function(s,M){if(this.V5==s||this.h1==null)return;
this.V5=s;this.z2=Math.floor((s-13)*i.yD());i.P(this.yE,"width:"+this.z2/i.yD()+"px;");this._e._.style.height=M-73+"px";
this.gq()};h5.prototype.FY=function(s){var M=this.aKN(),O=Math.round(this.z2/M);M/=i.yD();var P=this._e.V()[0]*O*this.dl,y=this._e.a1p();
P+=Math.floor(y.y/M)*O;P+=Math.floor(y.x/M);var F=this.JO[this.mt.V()];if(P>=F.length)return;var A=F[P],h=this.a1T[A],m=new kg(z.E.H,!0);
m.l=$.El;if(h.ZV.length==0)m.data={Q:"insertGlyph",K:P+1};else m.data={Q:"insertText",K:String.fromCodePoint(h.ZV[0])};
this.a(m)};h5.prototype.ab9=function(s){var M=1.2;if(s.target==this.Yy){if(this.rp>20)this.rp/=M}else{if(this.rp<100)this.rp*=M}this.gq()};
h5.prototype.PN=function(){this.qy(this.f)};h5.prototype.qy=function(s,M){this.f=s;if(!i.qE(this.Y4))return;
if(this.h1==null)this.JD();this.h1.q(s.xx,s.s4,s.fL);var O=s.xx,P=O.TY.Font,m=0;if(P==null)return;var y=iP.Zp(O.U2[P]);
if(this.am$==y)return;var P=s.s4.E3(y);if(P==null)return;var F=P.maxp.numGlyphs,A=this.a1T=new Array(F);
for(var R=0;R<F;R++)A[R]={ZV:[]};var h=Date.now(),Z=new Uint8Array(1048575);for(var R=0;R<1048575;R++){var u=Typr.U.codeToGlyph(P,R);
if(u!=0&&u<F){Z[R]=1;if(A[u].ZV.length==0)m++;A[u].ZV.push(R)}}var f=h5.pW,U=[];for(var R=0;R<f.length;
R++)U.push([]);for(var u=1;u<F;u++){U[0].push(u);var C=A[u].ZV[0];if(C==null){continue}for(var H=1;H<f.length;
H++){var t=f[H].bd;for(var R=0;R<t.length;R+=2)if(t[R]<=C&&C<=t[R+1]){U[H].push(u);break}}}this.JO=U;
var X=[];for(var R=0;R<f.length;R++)X.push(f[R].aP+" ("+U[R].length+")");var Q=this.mt.V();this.mt.ZG(X);
this.mt.q(Q);this.am$=y;this.aI1=P;this.gq()};h5.prototype.aKN=function(s){var M=Math.floor(this.z2/this.rp);
return Math.floor(this.z2/M)};h5.prototype.gq=function(s){if(!i.qE(this.Y4)||this.JO==null)return;var M=this.JO[this.mt.V()],O=M.length,P=this.aI1,y=Typr.U,F=this.aKN(),A=F,h=A*.8,m=A*.8/P.head.unitsPerEm,Z=[],u=Math.floor(this.z2/F),f=Math.ceil(O/u),U=this.dl,C=Date.now(),H=null;
for(var t=0;t<f;t+=U){var X=i.m("canvas"),Q=X.getContext("2d");if(H==null)H=X.toDataURL("png");X.width=F*u;
X.height=A*U;var D=i.m("map"),L="map"+Math.random();D.setAttribute("name",L);Q.fillStyle="white";Q.fillRect(0,0,u*F,A*U);
for(var E=0;E<U;E++){for(var _=0;_<u;_++){var R=M[(t+E)*u+_];if(R==null)break;var S=y.glyphToPath(P,R),W=a.b.hG(S.crds);
Q.fillStyle="#252525";if(W.g3()){var g=P.hmtx,x=[],K=170;for(var V in g)x.push(V);var b=g[x[0]][R],N=g[x[1]][R],J=Math.max(b,N);
S={cmds:"M L M L M L".split(" "),crds:[0,0,J,0,0,-K,0,K,J,-K,J,K]};W.A=J;W.x=0;Q.strokeStyle="rgba(0,255,0,1)"}var q=F/i.yD(),d=A/i.yD(),l=[_*q,E*d,(_+1)*q,(E+1)*d].join(","),T=i.m("area");
D.appendChild(T);T.setAttribute("shape","rect");T.setAttribute("coords",l);var B=this.a1T[R];T.setAttribute("title","Glyph: "+R+"\nCharacter: "+(B.ZV.length==0?"----":String.fromCodePoint(B.ZV[0]))+"\nUnicode: #"+(B.ZV.length==0?"----":B.ZV[0].toString(16).padStart(4,"0")));
Q.beginPath();var p=_*F+(F-W.A*m)*.5-W.x*m,I=E*A+h;Q.translate(p,I);Q.scale(m,-m);y.pathToContext(S,Q);
Q.scale(1/m,-1/m);Q.translate(-p,-I);W.g3()?Q.stroke():Q.fill()}}Q.beginPath();for(var _=0;_<u;_++){var w=_*F+F+.5;
Q.moveTo(w,0);Q.lineTo(w,A*U)}for(var E=-1;E<U;E++){var e=E*A+A+.5;Q.moveTo(0,e);Q.lineTo(u*F,e)}Q.strokeStyle="rgba(0,0,0,0.3)";
Q.stroke();var G=i.m("div");G.appendChild(X);i.P(G,"position:relative;");i.cq(X,F*u,A*U);var j=i.m("img");
G.appendChild(j);G.appendChild(D);j.setAttribute("src",H);j.setAttribute("usemap","#"+L);i.P(j,"position:absolute; top:0; left:0;");
i.cq(j,F*u,A*U);Z.push(G)}this._e.KC(Z,null,F*u,A*U)};h5.pW=[{aP:"All Glyphs"},{aP:"Basic Latin, Latin 1",bd:[0,127,128,143]},{aP:"Latin Extended-A",bd:[256,383]},{aP:"Latin Extended-B",bd:[384,591]},{aP:"Punctuations",bd:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{aP:"Greek",bd:[880,1023]},{aP:"Cyrillic",bd:[1024,1279]},{aP:"Hebrew",bd:[1424,1535]},{aP:"Arabic",bd:[1536,1791]},{aP:"Emoji",bd:[9728,10095,127744,129535]}];
function fH(){iY.call(this,[13,0],!1,null,iY.ho._2);this.lw=0;this.aJc=0;this.f=null}fH.prototype=new iY("");
fH.prototype.JD=function(){if(!i.qE(this.Y4)||this.wy)return;var s=i.m("div","flexrow padded");this.Y4.appendChild(s);
var M=i.m("div");s.appendChild(M);this.wy=[];for(var R=0;R<2;R++){var O=new aI;this.wy.push(O);O.k("click",this.a6h,this);
M.appendChild(O._)}this.Uu=new cH(192);console.log("hsb picker");this.Uu.k(z.E.n,this.sG,this);this.RT=new ap;
this.RT.parent=this;s.appendChild(this.Uu._);this.qy(this.f,g5.rT)};fH.prototype.a6h=function(s){var M=s.currentTarget,O=this.wy.indexOf(M);
if(O==this.lw){this.RT.tU(O)}else{this.lw=O;this.gq()}};fH.prototype.sG=function(s){var M=this.Uu.V();
this.Uu.q(M);var O=Math.round(M.o*255)<<16|Math.round(M.R*255)<<8|Math.round(M.X*255),P=new kg(z.E.c,!0);
P.data={Q:z.J.ko,dh:g5._2,tW:this.lw,K:O};this.a(P);this.aJc=Date.now()};fH.prototype.gq=function(){if(this.RT==null)return;
var s=this.f,M=this.lw,O=[s.UC,s.Cc];for(var R=0;R<2;R++){var P=this.wy[R],y=P._.style;P.ZS(O[R]);if(R==M)y.filter="drop-shadow(0 0 1px #000000)"}var F=O[M];
if(Date.now()-this.aJc>100)this.Uu.q({o:(F>>>16)/255,R:(F>>>8&255)/255,X:(F&255)/255})};fH.prototype.qy=function(s,M){this.f=s;
if(this.RT==null)return;if(M==g5.rT||M==g5._2){this.RT.aHw(s.UC,s.Cc);this.gq()}};fH.prototype.o3=function(){this.JD()};
fH.prototype.PN=function(){this.JD();this.gq()};function jK(){iY.call(this,"CSS",!1,"---panels/css",iY.ho.CSS);
this.lX=null;var s=i.m("div","padded");this.Y4.appendChild(s);this.PM=i.m("textarea");i.c0(this.PM);
s.appendChild(this.PM)}jK.prototype=new iY("");jK.prototype.GK=function(s,M){if(this.V5==s)return;this.V5=s;
i.P(this.PM,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(s-10)+"px; height:"+(M-10)+"px")};
jK.prototype.o3=function(s){this.lX=s;this.gq()};jK.prototype.qy=function(s,M){if(M==g5.Ql)this.gq()};
jK.prototype.gq=function(){var s=this.lX;if(s==null||s.Y.length==0)return;if(!i.qE(this.Y4))return;var M=s.U[s.Y[0]],O=CSS.ab_(M,s);
if(O.length!=0)this.PM.value=O.join(";\n")+";";else this.PM.value=""};jK.prototype.PN=function(){this.gq()};
function bU(){iY.call(this,"Text to Image",!1,null,iY.ho.ajc);this.lX=null;this.hR=0;this.U7={};this.Om=null;
var s=this.kW=[new hH("Prompt",null,null,4),new fU([12,49],!0,null,!0)];s[0].q("goat riding a bike");
var M=i.m("div","form padded labfxd");this.Y4.appendChild(M);for(var O=0;O<s.length;O++){s[O].parent=this;
M.appendChild(s[O]._);if(O==1)s[O].k("click",this.W8,this)}this.Mj=i.m("div","scrollable");M.appendChild(this.Mj);
this.alU=bU.prototype.a12.bind(this)}bU.prototype=new iY("");bU.prototype.W8=function(){var s=this.kW,M=s[0].V().trim(),O=function(){var P=ck.a2p(M,null,null,this.alU);
if(P==1)i.cG(this.Y4,"disabled")}.bind(this);if(ck.jo(3))O();else ck.bZ(O)};bU.prototype.a12=function(s){var M=this.kW;
i.VV(this.Y4,"disabled");var O={created:Math.round(Date.now()/1e3),data:[{b64_json:b_.lW(s.target.response)}]},P=this.U7,y=M[0].V().trim();
if(P[y]==null)P[y]=[];P[y].push(O);ck.q9("Generate",3);this.gq()};bU.prototype.GK=function(s,M){if(this.V5==s)return;
this.V5=s;this.Y4.style.width=s-16+"px";this.Mj.style.height=M-190+"px"};bU.prototype.o3=function(s,M){this.lX=s;
if(s)this.hR=M.indexOf(s);this.gq()};bU.prototype.T=function(s,M){iY.prototype.T.call(this);var O=this.kW,y=" target=\"_blank\" style=\"color:inherit;\">";
for(var P=0;P<O.length;P++)this.kW[P].T()};bU.prototype.gq=function(){var s=this.Mj,M=this.U7;i.Lq(s);
var O=[];for(var P in M){M[P].sort(function(C,H){return H.created-C.created});O.push([P,M[P]])}O.sort(function(C,H){return H[1][0].created-C[1][0].created});
var y=this.ajA.bind(this),F=this.Om=[[],[]];for(var R=0;R<O.length;R++){var P=O[R][0],A=O[R][1],h=i.m("div");
h.textContent=P;s.appendChild(h);for(var m=0;m<A.length;m++){var Z=A[m].data;for(var u=0;u<Z.length;
u++){var f=Z[u].b64_json,U=i.m("img");U.setAttribute("src","data:image/png;base64,"+f);U.onclick=y;U.style.width=128/i.yD()+"px";
U.style.marginRight="4px";U.style.cursor="pointer";s.appendChild(U);F[0].push(U);F[1].push(Z[u])}}}};
bU.prototype.ajA=function(s){var R=this.Om[0].indexOf(s.target),M=this.Om[1][R].b64_json,O=b_.un(M);
cD.XW({url:"file",hR:this.hR},O,this)};bU.prototype.PN=function(){this.gq()};function gu(){iY.call(this,[9,6],!1,"---panels/info",iY.ho.aKo);
i.P(this.Y4,"min-width:240px;");this.lX=null;this.f=null;this.ue=null;var s=this.NY=[];for(var M=0;M<3;
M++){var O=i.m("div","marged row");this.Y4.appendChild(O);var P=i.m("div","cell");i.P(P,"width:10em");
O.appendChild(P);var y=i.m("div","cell");i.P(y,"width:10em");O.appendChild(y);var F=[8,4,3][M];for(var R=0;
R<F;R++){var A=new df("");s.push(A);A.q(0);A._.style.padding="0";var h=R<(M==1?2:4)?P:y;h.appendChild(A._);
i.QP(h)}if(M<2)i.yV(this.Y4)}this.tJ=s[8];this.fI=s[9];this.xj=s[10];this.Bd=s[11];i.yV(this.Y4);this.ue=i.m("div");
i.P(this.ue,"min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");this.Y4.appendChild(this.ue)}gu.prototype=new iY("");
gu.prototype.nh=function(s,M,O,P,y){if(!i.qE(this.Y4)||s==null)return;var F=s.i.ni(y.x,y.y),A=new j6(Math.floor(F.x),Math.floor(F.y));
if(!y.cQ){var h=0,m=0,Z=0,u=0,f=this.NY;if(!y.cQ&&!s.aGu()&&new gi(0,0,s.A-1,s.$-1).$z(A)){var U=s.Ta(),R=s.A*A.y+A.x<<2;
h=U[R+0];m=U[R+1];Z=U[R+2];u=U[R+3]}var C=a.y5([h/255,m/255,Z/255]);f[0].q("R: "+h);f[1].q("G: "+m);
f[2].q("B: "+Z);f[3].q("A: "+u);f[4].q("C: "+Math.round(C[0]*100)+"%");f[5].q("M: "+Math.round(C[1]*100)+"%");
f[6].q("Y: "+Math.round(C[2]*100)+"%");f[7].q("K: "+Math.round(C[3]*100)+"%");var H=a.ajv(h,m,Z);f[12].q("H: "+Math.round(H.fw*360)+"\xB0");
f[13].q("S: "+Math.round(H.BP*100)+"%");f[14].q("B: "+Math.round(H.X*100/255)+"%")}var t=s.i.xq>1?new j6(F.x,F.y):A;
this.tJ.q("X: "+a.f8.mE(t.x,s.FR,O,s.A));this.fI.q("Y: "+a.f8.mE(t.y,s.FR,O,s.$));this.YZ()};gu.prototype.YZ=function(){var s=this.lX,M=this.f,O=0,P=0;
if(s&&M){if(s.i.dO){O=s.i.dO.A;P=s.i.dO.$}else if(s.h){O=s.h.S.A;P=s.h.S.$}O=a.f8.mE(Math.abs(O),s.FR,M,s.A);
P=a.f8.mE(Math.abs(P),s.FR,M,s.$)}this.xj.q(aW.get([12,41]).charAt(0)+": "+O);this.Bd.q(aW.get([12,42]).charAt(0)+": "+P)};
gu.prototype.T=function(){iY.prototype.T.call(this);this.YZ()};gu.prototype.PN=function(){this.o3(this.lX,null,this.f)};
gu.prototype.o3=function(s,M,O){this.lX=s;this.f=O;if(!i.qE(this.Y4))return;console.log("update");this.YZ();
if(s&&s.Y.length!=0){var P=s.Y[0],y=s.U[P],F=ak.get(y.add)!=null,A=F&&s.Y[0]>0;this.ue.innerHTML="";
for(var R=0;R<s.YX.length;R++){var h=s.YX[R],y=s.i.D7(h.x,h.y),m=$.jP.VP(s,y,1,A?1:2),Z={o:m>>>16&255,R:m>>>8&255,X:m&255},t="<span style=\"display:inline-block; width:25px; text-align:right\">",X="</span>";
if(A){var u=s.Y[0];s.Y[0]=P-1;var f=$.jP.VP(s,y,1,1),U={o:f>>>16&255,R:f>>>8&255,X:f&255};s.Y[0]=u}var C=i.m("div");
i.P(C,"padding: 0.5em 0.5em; width: 40%");var H="<b>#"+(R+1)+"</b>",Q=[Z.o,Z.R,Z.X],D=A?[U.o,U.R,U.X]:null,L=["R","G","B"];
for(var E=0;E<3;E++)H+="<br/>"+t+L[E]+X+": "+(A?t+D[E]+X+" /":"")+t+Q[E]+X;C.innerHTML=H;this.ue.appendChild(C)}}};
function hr(){iY.call(this,[9,1],!1,"---panels/layers",iY.ho.mu);this.aGm=null;this.Qi=[];this.ZK=null;
this.r0=null;this.rN=i.m("div","lphead");this.Fu=i.m("div","lpbody scrollable");this.Fu.addEventListener("scroll",this.au2.bind(this),!1);
this.JB=i.m("div","lpfoot");var s=this.afV=i.m("span");i.P(s,"display:inline-block; height:26px");this.YN=new d_(null,h0.lq,h0.P1);
this.YN.k(z.E.n,this.abE,this);this.Nq=new hQ([12,0],0,100,"%",0);this.Nq.k(z.E.n,this.azF,this);this.Nq.parent=this;
this.$I=new kd;this.$I.parent=this;this.$I._.style.marginLeft="4px";this.tA=new hQ("Volume",0,100,"%",0);
this.tA.parent=this;this.tA.k(z.E.n,this.a4u,this);this.$I.k(z.E.n,this.a4u,this);this.NW=new d5([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.NW.k(z.E.n,this.aie,this);this.IX=new hQ([12,26],0,100,"%",0);this.IX.k(z.E.n,this.a1o,this);this.IX.parent=this;
if(dc==0){this.rN.appendChild(s);this.rN.appendChild(this.YN._);this.rN.appendChild(this.Nq._);this.rN.appendChild(this.NW._);
this.rN.appendChild(this.IX._)}if(dc==2){this.rN.appendChild(this.$I._);this.rN.appendChild(this.tA._)}this.I$=[];
this.NM();if(dc==0||dc==2)this.Y4.appendChild(this.rN);this.Y4.appendChild(this.Fu);this.Fu.addEventListener("dragover",function(y){y.preventDefault()},!1);
this.Fu.addEventListener("dragenter",i.zZ,!1);this.Fu.addEventListener("drop",this.aIz.bind(this),!1);
this.Y4.appendChild(this.JB);this.Y4.addEventListener("contextmenu",i.zZ,!1);if(dc==0)this.k("rclick",this.a9U,this);
var M=function(y,F,R){return{VZ:this.Gq[R]==1}}.bind(this);if(dc==0){this.ayE=new kA([{name:[0,6],e:M},{name:[14,10],e:M},{name:[6,57,2],e:M,dc:!0},{name:"Long-tap as a right click",e:M,dc:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",e:function(){return{VZ:cW.yN==0,e:!0}}},{name:"Thumbnails by Document",e:function(){return{VZ:cW.yN==1,e:!0}}}]);
this.ayE.k("select",this.aBC,this)}this.Gq=[0,1,1,0];var O=window.locStor;if(O){var P=O.getItem("lpOpt");
if(P){P=JSON.parse(P);this.Gq=P[0];cW.TN=P[1];cW.yN=P[2]}}this.aBC()}hr.prototype=new iY("");hr.w8=function(s){var M=s==null?0:s.Y.length;
return{e:M!=0&&(M!=1||s.Y[0]!=0)&&(M!=1||!s.U[s.Y[0]].ES()||s.U[s.Y[0]].CD()),jS:aW.get(M>1||M==1&&s.U[s.Y[0]].ES()?[6,12,0]:[6,10])}};
hr.prototype.iT=function(){if(this.a6O)return;var s=eM.xv(!0),M=eM.xn(!0);this.a6O=new kA(s,M);var s=[{name:[14,10]},{name:[14,11],dc:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],dc:!0},{name:[6,7,0]},ai.gX(!0,!0),{name:[6,8],e:hr.av3},{name:[6,34],e:function(P){var y=P.U[P.Y[0]];
return{e:y.add.lmfx!=null&&!y.ES()}}},{name:[6,40],dc:!0,e:function(P){var y=P.U[P.Y[0]];return{e:y.add.TySh!=null}}},{name:"",dc:!0,e:function(P){var y=P.U[P.Y[0]],F=y.add.TySh,A=F?F.nA:null;
return{e:F!=null&&A.Curve==null,jS:aW.get(F&&iP.z0(A)==0?[16,3,1]:[16,3,0])}}},hr.aaO(!1),eM.app(),{name:[6,12,0],e:hr.w8},{name:[6,12,1],dc:!0},{name:[13,0],sub:function(){var P=[];
for(var R=0;R<aF.CP.length;R++)P.push({name:[13,1,R],mb:"#"+a.Rr(aF.CP[R])});return P}()}],M=[{g:z.E.c,d:{Q:z.J.xL,Rj:"layerstyle"}},{g:z.E.H,l:$.Sp,d:{Q:"fromlayer",ZN:[null,0,0]}},{g:z.E.H,l:$.mu,d:{Q:ad.i_}},{g:z.E.c,d:{Q:z.J.xL,Rj:"duplinto"}},{g:z.E.H,l:$.mu,d:{Q:ad.Yb}},{g:z.E.fa,d:{Cw:"newPlacedLayer"}},ai.gX(!1,!0),{g:z.E.fa,d:{Cw:"rasterizeLayer",kT:{classID:"rasterizeLayer",null:f7.Ht("Lyr",!0)}}},{g:z.E.fa,d:{Cw:"rasterizeLayer",kT:{classID:"rasterizeLayer",null:f7.Ht("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{g:z.E.H,l:$.mu,d:{Q:ad.Oe}},{g:z.E.H,l:$.El,d:{Q:"switchPntPrgr"}},{g:z.E.H,l:$.mu,d:{Q:ad.eb}},eM.a66(),{g:z.E.fa,d:{Cw:"mergeLayersNew",kT:{__name:"Merge Layers",classID:"Mrg2"}}},{g:z.E.fa,d:{Cw:"flattenImage"}},{sub:function(){var P=[];
for(var R=0;R<8;R++)P.push({g:z.E.H,l:$.mu,d:{Q:ad.cO,aIN:R}});return P}()}];this.dP=new kA(s,M);var s=[{name:[6,45],e:function(P){var y=P.U[P.Y[0]];
return{e:y.UU(P).$E==null}}},{name:[6,47]}],M=[{g:z.E.H,l:$.mu,d:{Q:ad.YC}},{g:z.E.H,l:$.mu,d:{Q:ad.iq}}];
this.a8t=new kA(s,M);var s=[{name:"enab/disab",e:function(P){return{jS:aW.get(P.U[P.Y[0]].Bl().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],e:function(P){return{e:P.Y7(!1,!0)}}}],M=[{g:z.E.H,l:$.mu,d:{Q:ad.l6}},{g:z.E.H,l:$.mu,d:{Q:ad.jm}},{g:z.E.H,l:$.mu,d:{Q:ad.VI}}];
this.a2X=new kA(s,M);var s=[{name:"enab/disab",e:function(P){return{jS:aW.get(P.U[P.Y[0]].UU(P).$E.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],M=[{g:z.E.H,l:$.mu,d:{Q:ad.J7}},{g:z.E.H,l:$.mu,d:{Q:ad.uB}}];
this.av4=new kA(s,M);var s=[{name:"enab/disab",e:function(P){return{jS:aW.get(P.U[P.Y[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],O={classID:"rasterizeLayer",null:f7.Ht("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},M=[{g:z.E.H,l:$.mu,d:{Q:ad.oq}},{g:z.E.fa,d:$.Y8.pS(3)},{g:z.E.fa,d:{Cw:"rasterizeLayer",kT:O}}];
this.asI=new kA(s,M);this.a9J=new kA(eM.aqH(!0),eM.z1(!0));this.aHo=new kA(eM.xv(),eM.xn())};hr.prototype.au2=function(s){var M=this.Fu.scrollTop-600;
for(var R=0;R<this.Qi.length;R++){var O=this.Qi[R],P=O.ax;if(M<O.ax)O.aGx();if(O.ax>M+this.fw+600)break}};
hr.prototype.Pl=function(){return this.ayE};hr.prototype.aBC=function(s){var M=this.Gq;if(s){var O=s.target.x2(),R=O[0];
if(R<4)M[R]=1-M[R];else if(R<6){if(R==4&&cW.TN-10>=10)cW.TN-=10;if(R==5&&cW.TN+10<=200)cW.TN+=10;if(this.ZK)this.ZK.GJ=!0}else{if(R==6)cW.yN=0;
if(R==7)cW.yN=1;if(this.ZK)this.ZK.GJ=!0}var P=window.locStor;if(P)P.setItem("lpOpt",JSON.stringify([M,cW.TN,cW.yN]))}if(M[0]==1)this.aB7();
var y=[[{_:this.afV}],[this.YN,this.Nq],[this.NW,this.IX]];for(var R=0;R<3;R++)for(var F=0;F<y[R].length;
F++)y[R][F]._.style.display=M[R]==1?"inline-block":"none";this.GK(this.V5,this.fw)};hr.prototype.asZ=function(){var s=this.P$;
if(s==null)return!1;if(s.V()){var M=this.c3.V(),O=this.r3[M].V();if(M==0)return O.indexOf(!0)!=-1;if(M==1)return O!=""}return!1};
hr.aaO=function(s){var M=function(P){var y=P!=null&&P.Y.length!=0&&P.U[P.Y[0]].nN;return{VZ:y,e:P!=null&&P.TJ(P.Y[0]),d:{g:z.E.fa,d:{Cw:y?"ungroup":"groupEvent",kT:{classID:y?"Ungr":"GrpL",null:f7.Ht("Lyr",!0)}}}}},O={name:[6,6,0],dc:!0,e:M};
if(s)O.RU=[hj.tT,hj.yu,hj.jX];return O};hr.av3=function(s,M){if(s)for(var R=0;R<s.Y.length;R++){var O=s.U[s.Y[R]];
if(O.add.TySh||O.add.SoLd||O.add.SoCo||O.add.GdFl||O.add.PtFl)return{e:!0}}return{e:!1}};hr.prototype.aIz=function(s){i.zZ(s);
var M=s.dataTransfer.getData("Text"),O=1,P=0;if(M==""){i.H9(s,this,this.r0.indexOf(this.ZK),P+(O>.5?0:1))}else if(M!="--panel"){var M=JSON.parse(M),y=M.VK;
if(y=="l")this.C0({Q:ad.Bp,source:M.jn,target:P,yv:O})}};hr.prototype.a9U=function(s){var M=this.ZK,O=s.data,y;
if(M.Y.indexOf(O.w)==-1){var P={Q:ad.QU,w:s.target.Ik.index,iu:O.KV};this.C0(P)}if(M.Y.indexOf(O.w)==-1)return;
this.iT();if(O.KV==1){y=this.a2X}else if(O.KV==2){y=this.asI}else if(O.KV==3){y=this.av4}else if(O.KV==4){y=this.a8t}else if(O.KV==5){y=this.a6O}else{y=this.dP}y.T();
y.update(M);y.parent=this;var F=new kg(z.E.c,!0);F.data={Q:z.J.EU,uJ:y,x:O.Uj.x+1,y:O.Uj.y+1};this.a(F)};
hr.prototype.T=function(){iY.prototype.T.call(this);this.YN.T();this.Nq.T();this.NW.T();this.IX.T();
this.$I.T();this.tA.T();if(this.P$){this.P$.T();this.r3[0].T()}if(this.ZK)this.o3(this.ZK);var s="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var R=0;R<this.I$.length;R++){var M=this.I$[R];M.x3(i._S(s[R],null,"miniscale"));if(R==1||R==3){M._.style.position="relative";
var O=i.m("img","gsicon");O.setAttribute("src",PIMG["tools/corner"]);i.P(O,"position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
M._.appendChild(O)}}};hr.prototype.o3=function(s,M){if(s&&!s.GJ)return;if(s==null)i.cG(this.Y4,"disabled");
else i.VV(this.Y4,"disabled");var O=this.Fu.scrollTop,P=this.ZK?this.ZK.U.length:-1,y=!1;this.ZK=s;this.r0=M;
if(this.aGm!=null){i.Lq(this.Fu);this.aGm=null;this.Qi=[]}if(s==null)return;for(var R=0;R<s.dj.length;
R++)if(s.dj[R].H7)y=!0;this.aGm=new aF(s.root,this,s,{mY:0,arN:!1},{aIs:y,a4q:this.asZ()},this.Qi,0,new gi(0,0,s.A,s.$));
if(s.U.length==P)this.Fu.scrollTop=O;if(s.Y.length==0||s.U[s.Y[0]]==null)i.cG(this.rN,"disabled");else{i.VV(this.rN,"disabled");
if(s.Y.length==1&&s.cw){var F=s.Y[0];for(var R=0;R<this.Qi.length;R++){var A=this.Qi[R];if(A.Ik.index==F&&A.rN.scrollIntoView)A.rN.scrollIntoView({block:"nearest"})}}var h=s.U[s.Y[0]];
if(dc==2&&h.J){this.$I.q(h.J.UO);this.tA.q(h.J.volume*100)}if(h.ES()){this.YN.ZG([[15,10,27]].concat(h0.lq),[1].concat(h0.P1));
var m=h0.n$.indexOf(h.mX);this.YN.q(m+1)}else{this.YN.ZG(h0.lq,h0.P1);var m=h0.n$.indexOf(h.mX);this.YN.q(m)}this.Nq.q(Math.round(100*h.N_/255));
this.NW.q([h.T2(0),h.T2(1),h.T2(2),h.T2(31)]);var Z=s.dM();this.YN.oo(!Z);this.IX.oo(!Z);this.Nq.oo(!Z);
this.NW.oo(!(Z&&!h.T2(31)));this.IX.q(Math.round(100*(h.add.iOpa!=null?h.add.iOpa/255:1)));this.I$[2].aES(aW.get(h.Bl()?[6,23]:[6,21]))}this.au2(null)};
hr.prototype.GK=function(s,M){this.V5=s;this.fw=M;var O=this.rN.getBoundingClientRect().height;if(55<O&&O<56)O=60.2;
var P=this.JB.getBoundingClientRect().height,y=M-(O+P+3);this.Fu.style.height=y+"px";this.Fu.style.width=s+"px"};
hr.prototype.abE=function(s){this.C0({Q:ad.Jd,IQ:this.YN.V()})};hr.prototype.azF=function(s){this.C0({Q:ad.V0,IQ:Math.round(255*this.Nq.V()/100)})};
hr.prototype.a4u=function(s){this.C0({Q:ad.vg,IQ:{UO:this.$I.V(),volume:this.tA.V()/100}})};hr.prototype.aie=function(s){this.C0({Q:ad.Hl,IQ:[this.NW.V(),[0,1,2,31]]})};
hr.prototype.a1o=function(s){this.C0({Q:ad.OB,IQ:Math.round(255*this.IX.V()/100)})};hr.prototype.Ov=function(s){if(s.target==this.c3)this.aB7();
var M=this.P$.V();if(M)i.VV(this.a5y,"disabled");else i.cG(this.a5y,"disabled");this.T();this.ZK.GJ=!0;
this.o3(this.ZK);this.ZK.GJ=!1};hr.prototype.aB7=function(){var s=this.a5y;if(s==null){var M=this.afV,O=this.P$=new ho([0,6]);
O.k(z.E.n,this.Ov,this);M.appendChild(O._);s=this.a5y=i.m("span","disabled");M.appendChild(s);this.c3=new d_(null,["Kind",[12,48]],[]);
this.c3.k(z.E.n,this.Ov,this);var P=this.r3=[new d5(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new hH(null,null,8)];
P[0].k(z.E.n,this.Ov,this);P[1].k("input",this.Ov,this)}i.Lq(s);s.appendChild(this.c3._);s.appendChild(this.r3[this.c3.V()]._)};
hr.prototype.ajU=function(s){this.iT();this.aq0(s,this.a9J)};hr.prototype.ahr=function(s){this.iT();
this.aq0(s,this.aHo)};hr.prototype.aq0=function(s,M){var O=s.currentTarget;if(i.qE(M._))return;s.stopPropagation();
var P=O.getBoundingClientRect();M.T();M.update(this.ZK);M.parent=this;var y=new kg(z.E.c,!0);y.data={Q:z.J.EU,uJ:M,x:P.left,y:P.top,a7I:!0};
this.a(y)};hr.prototype.ac_=function(s){this.C0({Q:ad.a3N})};hr.prototype.a1y=function(s){this.C0({Q:this.ZK.Y.length>1?ad.De:ad.bR})};
hr.prototype.aiO=function(s){this.C0({Q:ad.Wo})};hr.prototype.atI=function(s){var M=this.ZK;if(M.Y.length==0)return;
var O=M.U[M.Y[0]],P=O.KV;this.C0({Q:P<=0?O.eq?ad.ls:ad.Yb:P==3?ad.uB:ad.jm})};hr.prototype.amY=function(s){this.C0({Q:ad.OG})};
hr.prototype.C0=function(s){var M=new kg(z.E.H,!0);M.data=s;M.l=$.mu;this.a(M)};hr.prototype.NM=function(){var s=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],M=[this.amY,this.ahr,this.ac_,this.ajU,this.a1y,this.aiO,this.atI],O=this.aJQ.bind(this);
for(var R=0;R<s.length;R++){var P=new fU("W",!1,s[R]);this.I$.push(P);i.dq(P._,M[R].bind(this));if(dc==0||dc==1&&R>3&&R!=5||dc==2&&R>3)this.JB.appendChild(P._);
if(R>=s.length-3){var y=P._;y.addEventListener("drop",O,!1);y.addEventListener("dragover",function(F){F.preventDefault()},!1);
y.addEventListener("dragenter",i.zZ,!1)}}};hr.prototype.aJQ=function(s){i.zZ(s);var M=0,O=this.I$;while(O[M]._!=s.currentTarget)M++;
O[M].Hv();var P=s.dataTransfer.getData("Text");if(P=="")return;var P=JSON.parse(P);if(P.VK=="l"){var y={Q:[ad.De,ad.i_,ad.Yb][M-4]};
if(this.ZK.Y.indexOf(P.jn)==-1)y.w=P.jn;this.C0(y)}if(M!=6)return;if(P.VK=="sm"||P.VK=="s"){var F=new kg(z.E.H,!0);
F.l=$.qz;F.data={Q:P.VK=="sm"?"st_clear":"st_delsingle",w:P.jn,jn:P.h5};this.a(F)}if(P.VK=="fm"||P.VK=="f"){this.C0({Q:P.VK=="fm"?ad.iq:ad.cX,src:P.jn,h5:P.h5})}if(P.VK=="m"||P.VK=="vm"){this.C0({Q:P.VK=="m"?ad.jm:ad.ls,w:P.jn})}};
function aF(s,M,O,P,y,F,A,h){hV.call(this);this.parent=M;this.ax=A;this.Ik=s;F.push(this);this.ZK=O;
this.d5=P;var m=M.Fu,Z=s.w,u=O.Y.indexOf(s.index)!=-1,H=null;this.rN=i.m("div",u?"head selected":"head");
if(Z.add.artb!=null){i.cG(this.rN,"artb");h=Z.Kj()}var f=this.aaE=Math.floor(10+Z.amQ/i.yD()),U="height: "+f+"px;";
if(u&&y.aIs)U+="background-color:rgba(255,50,50,0.4);";i.P(this.rN,U);this.view=h;var C=this.aCv=this.aa3.bind(this),t=y.a4q&&!this.a6Z();
if(!t){if(s.depth!=0){m.appendChild(this.rN);A+=f-.3}if(Z.WB()||Z.o7())if(Z.Yi()){H=this.a13=i.m("div","lpineck");
m.appendChild(H);if(Z.WB()){H.addEventListener("contextmenu",C,!1);var X=new hr.fO(aW.get([12,1]),"sm","layerstyle",s.depth,0,null);
A+=21;X.parent=this;H.appendChild(X._);var Q=Z.add.lmfx,D=Q.masterFXSwitch.v;X.x1(D);for(var R=0;R<aV.order.length;
R++){var L=Q[aV.e1[R]].v;if(L.length==0)continue;for(var E=0;E<L.length;E++){var X=new hr.fO(aW.get(aV.names[R]),"s","layerstyle",s.depth,1,[R,E]);
A+=21;X.x1(D&&L[E].v.enab.v);X.parent=this;H.appendChild(X._)}}}if(Z.o7()){var _=Z.UU(O).$E;if(_)this.Mc=i.m("div","thumb");
var X=new hr.fO(aW.get([12,55]),"fm",null,s.depth,0,-1,_?this.Mc:null,f);A+=_?f:21;X.parent=this;H.appendChild(X._);
this.ahZ=X._;this.ahZ.addEventListener("contextmenu",C,!1);var Q=Z.add.SoLd.filterFX.v,S=Q.filterFXList.v,D=Q.enab.v;
X.x1(D);for(var R=S.length-1;R>=0;R--){var W=S[R].v,g=bW.zX(W);if(ak.gf[g])g=ak.gf[g];var x=W.Nm.v;if(bW.names[g])x=aW.get(bW.names[g]);
if(ak.names[g])x=aW.get(ak.names[g]);var V="afw_"+g,X=new hr.fO(x,"f",V,s.depth,1,R);A+=21;X.x1(D&&W.enab.v);
X.parent=this;H.appendChild(X._)}}}}var b=Z.add.lclr;if(b==null)b=0;b=b==0?P.mY:aF.CP[b];this.aIr=b;
if(Z.ES()&&(Z.add.lsct==dU.l9||y.a4q)){var N={mY:b,arN:P.arN||Z.T2(31)};for(var R=s.children.length-1;
R>=0;R--){var J=new aF(s.children[R],M,O,N,y,F,A,h);A=J.apr}}this.apr=A}aF.prototype=new hV;aF.CP=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
aF.prototype.aGx=function(){if(this.Xv)return;var s=this.Ik,M=s.w,O=this.ZK,P=this.d5,f=!0,N=!1;s.XB(O,this.view,!0);
var y=i.m("div","headL"),F=i.m("div","headR");this.rN.appendChild(y);this.rN.appendChild(F);var A=this.rN;
A.setAttribute("draggable","true");A.addEventListener("dragstart",this.JP.bind(this),!1);A.addEventListener("drop",this.vS.bind(this),!1);
A.addEventListener("dragover",this.G3.bind(this),!1);A.addEventListener("dragenter",i.zZ,!1);A.addEventListener("dragleave",this.ke.bind(this),!1);
var h=[],m=[null,null,null,null],Z=M.CD(),u=s;while(u.parent){u=u.parent;Z=Z&&u.w.CD()}if(M.nN){for(var R=s.index-1;
R>=0;R--){var U=O.U[R];if(!U.nN){f=U.CD();break}}}var C=M.CD()?Z&&f?2:1:0;this.Xv=i.m("div");var H=i.m("div",C==0?"sqr":"eye");
this.Xv.appendChild(H);H.style.opacity=[.12,.33,1][C];var t=i.m("div","space");this.MY=i.m("div","label");
i.P(this.MY,"max-width:calc(100% - "+(96+s.depth*20)+"px); margin-top:"+(this.aaE-19)/2+"px;"+(M.Cj?"text-decoration:underline;":""));
this.MY.textContent=M.getName();this.ah4=i.m("div","lock");this.aej=i.m("div","lrfx");this.$o=i.m("div","arfx");
var X=this.aCv,Q=this.agh.bind(this);this.rN.addEventListener("click",Q,!1);this.rN.addEventListener("contextmenu",X,!1);
var D=this.aIr;if(D!=0){var L=[D>>16,D>>8&255,D&255];for(var R=0;R<3;R++){L[R]="calc("+L[R]+"*0.7 + (var(--absc)) * 255 * 0.3)"}i.P(this.Xv,"background-color:rgba("+L.join(",")+",1);")}var E=this.aeo.bind(this);
this.Xv.addEventListener("mousedown",E,!1);this.Xv.addEventListener("mouseover",E,!1);this.$o.addEventListener("click",this.ax9.bind(this),!1);
h[0]=this.Xv;h[1]=t;h[10]=this.MY;if(M.ES()){var _=i.m("div","arrow"),S=i.m("div","folder");this.fx(S);
_.addEventListener("click",this.avn.bind(this),!1);h[2]=_;h[3]=S;_.className=M.add.lsct==dU.l9?"open":"closed"}else{this.px=i.m("div","thumb");
h[5]=this.px;aF.$s(this.px,M.Wl);this.fx(this.px);if(ak.get(M.add))i.cG(M.Wl.canvas,"gsicon")}var W=M.Bl();
if(W){this.zS=i.m("div","chain");this.D_=i.m("div","thumb");aF.$s(this.D_,M.aF3,!0);this.zS.style.opacity=W.CG?1:0;
this.zS.addEventListener("click",this.auS.bind(this),!1)}var g=M.tE()&&M.add.vmsk;if(M.add.vmsk&&!g){this.Ey=i.m("div","chain");
this.iI=i.m("div","thumb");aF.$s(this.iI,M.aDg,!0);this.Ey.style.opacity=M.add.vmsk.CG?1:0;this.Ey.addEventListener("click",this.a6y.bind(this),!1)}if(M.o7()&&M.Yi()&&M.UU(O).$E){aF.$s(this.Mc,M.a96,!1);
this.fx(this.Mc);this.Mc.addEventListener("click",Q,!1);this.Mc.addEventListener("contextmenu",X,!1)}if(s.index==O.Y[0]){var x=M.KV,V;
if(x<=0)V=this.px;else if(x==1)V=this.D_;else if(x==3)V=this.Mc;if(V)V.className="thumb active";if(M.eq&&this.iI)this.iI.className="thumb active"}i.P(t,"width:"+Math.max(0,s.depth-1)*18+"px");
var b=M.add.lspf!=null&&M.add.lspf!=0||P.arN;this.ah4.style.opacity=M.T2(31)?1:.5;h[4]=M.nN?i.m("div","clipp"):null;
h[6]=W?this.zS:null;h[7]=W?this.D_:null;h[8]=M.add.vmsk&&!g?this.Ey:null;h[9]=M.add.vmsk&&!g?this.iI:null;
var J=M.wC,K=O.Y;if(J!=0)for(var R=0;R<K.length;R++)if(O.U[K[R]].wC==J){N=!0;break}if(N){m[0]=i.m("div",M.P3?"link":"linkX");
m[0].addEventListener("click",this.av9.bind(this),!1)}m[1]=b?this.ah4:null;m[2]=M.WB()?this.aej:null;
m[3]=M.WB()||M.o7()?this.$o:null;this.$o.className=M.Yi()?"arfx open  gsicon":"arfx closed  gsicon";
var q=h;for(var R=0;R<q.length;R++)if(q[R])y.appendChild(q[R]);q=m;for(var R=0;R<q.length;R++)if(q[R])F.appendChild(q[R])};
aF.$s=function(s,M,O){var P=M.canvas;i.K8(P);if(O)s.setAttribute("draggable","true");s.appendChild(P);
i.P(P,P.getAttribute("style")+"; pointer-events:none")};aF.prototype.fx=function(s){i.dq(s,function(M){if(this.parent.Gq[3]==0)return;
i.it(M);i.gE(document.body,function(){clearTimeout(this.aBL)}.bind(this));this.aBL=setTimeout(function(){var O=new kg("rclick",!0);
O.data={w:this.Ik.index,KV:this.KV(M),Uj:i.iC(M,document.body)};this.a(O)}.bind(this),600)}.bind(this))};
aF.Hj=function(s,M){var O=M.getBoundingClientRect();return(s.clientY-O.top)/O.height};aF.prototype.JP=function(s){s.stopPropagation();
var M=s.target==this.D_?"m":s.target==this.iI?"vm":"l";s.dataTransfer.setData("Text",JSON.stringify({VK:M,jn:this.Ik.index}))};
aF.prototype.ke=function(s){i.zZ(s);this.qv()};aF.prototype.vS=function(s){i.zZ(s);this.qv();var M=s.dataTransfer.getData("Text"),O=this.parent.ZK,P=aF.Hj(s,this.rN),y=this.Ik.index;
if(P>.8){var F=!0,A=O.root.vt(y);while(A.parent!=null){var h=A.parent,m=h.children;if(m.indexOf(A)!=0)F=!1;
A=A.parent}if(F){y=0;P=1}}if(M==""){i.H9(s,this,this.parent.r0.indexOf(O),y+(P>.5?0:1))}else if(M!="--panel"){var M=JSON.parse(M),Z=M.VK;
if(Z=="l")this.C0({Q:ad.Bp,source:M.jn,target:y,yv:P});else if(Z=="m"||Z=="vm")this.C0({Q:Z=="m"?ad.adp:ad.se,src:M.jn,ro:y});
else aF.a69(s,M,this)}};aF.a69=function(s,M,O,P){var y=M.VK,F=O.Ik.index,A=M.jn;if(y=="s"||y=="sm")O.C0({Q:ad.KP,src:A,ro:F,h5:M.h5});
if(y=="f"||y=="fm")O.C0({Q:ad.anh,src:A,ro:F,h5:M.h5,vj:P==null?0:P})};aF.prototype.G3=function(s){i.zZ(s);
var M=aF.Hj(s,this.rN),O=this.Ik.w.ES()&&.5<M&&M<.8;this.qv();var P="inset 0 "+(O?0:M>.5?-3:3)+"px "+(O?"6px":0)+" var(--text-color)";
this.rN.style.boxShadow=P};aF.prototype.qv=function(s){this.rN.style.boxShadow=""};aF.a8r=-1;aF.N9=!1;
aF.aFX=function(s){aF.N9=!1;document.body.removeEventListener("mouseup",aF.aFX)};aF.prototype.aeo=function(s){if(s.button!=0)return;
if(s.type=="mousedown"){aF.N9=!0;document.body.addEventListener("mouseup",aF.aFX,!1)}if(s.type=="mouseover"&&(!aF.N9||aF.a8r==this.Ik.index))return;
i.zZ(s);this.C0({Q:ad.uY,w:this.Ik.index});aF.a8r=this.Ik.index};aF.prototype.avn=function(s){i.zZ(s);
this.C0({Q:ad.awq,w:this.Ik.index})};aF.prototype.auS=function(s){this.C0({Q:ad.SH,w:this.Ik.index})};
aF.prototype.a6y=function(s){this.C0({Q:ad.Jn,w:this.Ik.index})};aF.jH=0;aF.hN=null;aF.prototype.Ug=function(s){this.C0({Q:ad.gQ,w:this.Ik.index,name:s})};
aF.prototype.ax9=function(s){this.C0({Q:ad.ac5,w:this.Ik.index})};aF.prototype.av9=function(s){this.C0({Q:ad.H2,w:this.Ik.index})};
aF.prototype.aa3=function(s){if(s.button!=2&&!i.agU(s)&&!(s.ctrlKey&&hj.NS()))return;var M=this.KV(s);
if(M!=3&&s.currentTarget==this.ahZ)M=4;if(s.target==this.aej||s.currentTarget==this.a13)M=5;var O=new kg("rclick",!0);
O.data={w:this.Ik.index,KV:M,Uj:i.iC(s,document.body)};this.a(O)};aF.prototype.KV=function(s){var M=s.target,O=M;
return O==this.iI?2:O==this.D_?1:O==this.px?0:O==this.Mc?3:-1};aF.prototype.agh=function(s){var M=s.target,t;
if(M==this.Xv.firstChild||M==this.$o||M==this.zS||M==this.Ey||M.tagName&&M.tagName.toLowerCase()=="input")return;
var O=this.KV(s),P=this.parent.ZK,y=this.Ik.index,F=P.U[y];if(M==this.ah4){this.C0({Q:ad.Hl,w:y,IQ:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var A=aF.jH,h=Date.now()-A<300&&y==aF.hN;aF.jH=Date.now();aF.hN=y;if(M==this.MY){if(h){this.rN.setAttribute("draggable","false");
var m=new iY.GO(this.MY,this.Ug.bind(this))}else this.C0({Q:ad.QU,w:y,iu:O,ak$:!0});return}if(dc==0&&s.button==0&&h){if(M==this.MY)return;
var Z=new kg(z.E.H,!0),u=new kg(z.E.c,!0),f=new kg(z.E.fa,!0);if(O==0&&F.add.SoCo){var U=a.wv.sl(F.add.SoCo.Clr.v);
u.data={Q:z.J.xL,Rj:"colorpicker",mY:U.o<<16|U.R<<8|U.X,h3:function(D){var L=a.wv.gN({X:D&255,R:D>>>8&255,o:D>>16&255});
L={classID:"null",Clr:{t:"Objc",v:L}};var E=new kg(z.E.H,!0);E.l=$.mu;E.data={Q:ad.ME,nl:[y],Ot:!0,K:{tn:1,Rw:L}};
this.a(E)}.bind(this),Pq:!0}}else if(O==0&&(ak.get(F.add)||F.add.SoCo||F.add.GdFl||F.add.PtFl))u.data={Q:z.J.Rt,Rj:iY.ho.TP};
else if(O!=0&&O!=-1)u.data={Q:z.J.Rt,Rj:iY.ho.TP};else if(O==0&&F.add.SoLd){var C=F.add.SoLd,H=C.generativeDocInfo;
if(H)u.data={Q:z.J.Rt,Rj:iY.ho.TP};else f.data={Cw:"placedLayerEditContents",kT:{classID:"placedLayerEditContents"}}}else if(O==0&&F.add.TySh){Z.l=$.El;
Z.data={Q:"editCurr",Eh:y}}else u.data={Q:z.J.xL,Rj:"layerstyle",w:y};this.a(f.data?f:u.data?u:Z);return}if(s.button!=0)return;
if(O==1||O==3){var X=O==3?F.UU(P).$E:F.Bl();t=X.H7?P.i.P7.join("")=="111"?1:2:0}var Q={Q:ad.QU,w:y,iu:O,a8N:t,ak$:!0};
this.C0(Q)};aF.prototype.C0=function(s){var M=new kg(z.E.H,!0);M.data=s;M.l=$.mu;this.a(M)};aF.prototype.a6Z=function(){var s=this.Ik.w,M=s.add,O=this.parent.c3.V(),P=this.parent.r3[O].V();
if(O==0){if(P[0]&&M.SoLd==null&&M.TySh==null&&s.Lv())return!0;if(P[1]&&ak.get(M)!=null)return!0;if(P[2]&&M.TySh!=null)return!0;
if(P[3]&&M.vstk!=null)return!0;if(P[4]&&M.SoLd!=null)return!0;return!1}if(O==1)return s.getName().toLowerCase().indexOf(P.toLowerCase())!=-1};
hr.fO=function(s,M,O,P,y,F,A,h){hV.call(this);this.agg=M;this.yj=O;this.index=F;this._=i.m("div","styleitem");
this.rN=i.m("div","head");this.a5k=null;if(M=="f"){var m=this.a5k=i.m("div","headR");m.textContent="\u2699";
this.rN.appendChild(m)}this.Xv=i.m("div","eye gsicon");this.MY=i.m("div","label");this._.appendChild(this.rN);
this.rN.appendChild(this.Xv);if(A){this.D_=A;this.rN.appendChild(A);i.P(this.rN,"height: "+h+"px")}this.MY.innerHTML=s;
i.P(this._,"margin-left: "+(24+P*16+y*22)+"px");this.rN.appendChild(this.MY);this.Xv.addEventListener("click",this.aJZ.bind(this),!1);
var Z=this._;Z.setAttribute("draggable","true");Z.addEventListener("dragstart",this.JP.bind(this),!1);
if(!0){Z.addEventListener("drop",this.vS.bind(this),!1);Z.addEventListener("dragover",this.G3.bind(this),!1);
Z.addEventListener("dragenter",i.zZ,!1);Z.addEventListener("dragleave",this.ke.bind(this),!1)}this._.addEventListener("click",this.Cq.bind(this),!1)};
hr.fO.prototype=new hV;hr.fO.prototype.JP=function(s){s.stopPropagation();s.dataTransfer.setData("Text",JSON.stringify({VK:this.agg,jn:this.parent.Ik.index,h5:this.index}))};
hr.fO.prototype.ke=function(s){i.zZ(s);this.qv()};hr.fO.prototype.vS=function(s){i.zZ(s);this.qv();var M=s.dataTransfer.getData("Text");
if(M=="")return;var M=JSON.parse(M);aF.a69(s,M,this.parent,this.index+(aF.Hj(s,this.rN)>.5?0:1))};hr.fO.prototype.G3=function(s){i.zZ(s);
var M=aF.Hj(s,this.rN)>.5;this.qv();var O="border-"+(M?"bottom":"top");this.rN.style[O]="0.2em solid rgba(0,0,0,0.5)"};
hr.fO.prototype.qv=function(s){this.rN.style.border="none"};hr.fO.prototype.x1=function(s){this.Xv.style.opacity=s?1:.2};
hr.fO.prototype.Cq=function(s){var M=this.parent.Ik.index,O=aF.jH,P=Date.now()-O<300&&M==aF.hN;aF.jH=Date.now();
aF.hN=M;if(s.target==this.Xv)return;if(P&&this.yj!=null){var M=this.parent.Ik.index,y=new kg(z.E.c,!0);
if(this.yj.indexOf("afw_")==0){var F=this.yj.slice(4),A=aB[F]||bW.Z[F],h=s.target==this.a5k;if(!h&&!A)return;
y.data=$.Gu.Az(h?"blendOptions":F,{w:M,index:this.index})}else y.data={Q:z.J.xL,Rj:this.yj,w:M,index:this.index};
this.a(y)}else{if(s.target.className!="thumb")this.parent.C0({Q:ad.QU,w:M,iu:0})}};hr.fO.prototype.aJZ=function(s){var M={fm:ad.Mt,f:ad.BW,sm:ad.KH,s:ad.k0}[this.agg];
this.parent.C0({Q:M,w:this.parent.Ik.index,index:this.index})};function hM(){iY.call(this,"Guide Guy",!1,"---panels/guideguy",iY.ho.a24);
this.lX=null;this.BY=new d_(null,a.f8.e3)}hM.prototype=new iY("");hM.prototype.JD=function(){this.NY=[];
var s=i.m("div","form padded");this.Y4.appendChild(s);i.P(s,"width:200px");this.Y4.appendChild(s);var M=i.m("canvas"),O=M.getContext("2d");
M.width=M.height=160;var P=[32,0,16,160,0,32,160,16,0,112,160,16],y="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),F=[0,0,0,0,0,0,0,0,0,0];
s.appendChild(this.BY._);i.QP(s);for(var R=0;R<10;R++){O.clearRect(0,0,160,160);O.setTransform(1,0,0,1,80,80);
O.rotate((R&3)*Math.PI/2);O.translate(-80,-80);O.fillStyle="rgba(0,0,0,0.3)";if(R<4){for(var A=0;A<12;
A+=4){O.fillStyle=A==0?"#000000":"rgba(0,0,0,0.3)";O.fillRect(P[A],P[A+1],P[A+2],P[A+3])}}else if(R<6){var h=8*6;
O.fillRect(0,0,h,160);O.fillRect(8*7,0,h,160);O.fillStyle="#000000";O.fillRect(8*14,0,h,160)}else if(R<8){O.fillRect(0,0,16,160);
O.fillRect(160-16,0,16,160);O.fillRect(32,0,160-64,160);O.fillStyle="#000000";O.fillRect(32,80-8,160-64,8*1)}else{O.fillRect(0,0,8*7,160);
O.fillRect(8*13,0,160,160);O.fillStyle="#000000";O.fillRect(8*7,80-8,8*6,8*1)}var m="<img src=\""+M.toDataURL()+"\" class=\"autoscale gsicon\" /> ",Z=new hQ(m,0,200,null,R==4||R==5?0:2,null,null,4,y[R]);
Z.parent=this;Z.k(z.E.n,this.a4H,this);Z.q(F[R]);Z.T();this.NY.push(Z);s.appendChild(Z._)}var u=[[11,14],[11,15,0]];
this.AD=[];for(var R=0;R<u.length;R++){var f=new fU(u[R],!0,null,!0);this.AD.push(f);f.k("click",this.MW,this);
s.appendChild(f._)}for(var R=0;R<6;R++){O.setTransform(1,0,0,1,80,80);O.rotate(Math.floor(R/3)*Math.PI/2);
O.translate(-80,-80);O.clearRect(0,0,160,160);O.fillStyle="rgba(0,0,0,0.3)";O.fillRect(0,0,160,160);
O.clearRect(16,16,128,128);O.fillStyle="#000000";var U=R%3;O.fillRect([0,9,18][U]*8,0,16,160);var m="<img src=\""+M.toDataURL()+"\" class=\"autoscale gsicon\" /> ",f=new fU(m,!1,null,!1);
this.AD.push(f);f.k("click",this.MW,this);s.appendChild(f._)}};hM.prototype.T=function(){iY.prototype.T.call(this);
this.BY.T();if(this.NY==null)return;for(var R=0;R<this.AD.length;R++)this.AD[R].T()};hM.prototype.a4H=function(s){var M=this.NY,O=M.indexOf(s.target),P=Math.floor(O/2),y=O&1,F=[];
for(var R=0;R<4;R++)F.push(M[2*R+y].V());var A=-1;if(P==2&&F[2]!=0&&F[3]!=0&&F[4]!=0)A=4;if(P==3&&F[3]!=0&&F[2]!=0&&F[4]!=0)A=4;
if(P==4&&F[4]!=0&&F[2]!=0&&F[3]!=0)A=3;if(A!=-1)M[2*A+y].q(0)};hM.prototype.MW=function(s){var M=this.lX,O=this.AD.indexOf(s.target),P=[[],[]];
if(M==null)return;var y=M.h?M.h.S:new gi(0,0,M.A,M.$),F=y.A,A=y.$;if(O==0){var h=[[],[]],m=this.BY.V();
for(var R=0;R<this.NY.length;R++){var Z=this.NY[R].V();if(R!=4&&R!=5)Z=a.f8.Yn(Z,M.FR,(R&1)==0?y.A:y.$,m);
h[R&1].push(Z)}var u=[hM.asd(h[0],y.x,y.x+F),hM.asd(h[1],y.y,y.y+A)];P=hM.R1(u);$.$O.Bi(P,M.T_())}else if(O==1){}else{O-=2;
var f=Math.floor(O/3),u=[[],[]];u[f].push([y.x,y.x+F/2,y.x+F,y.y,y.y+A/2,y.y+A][O]);P=hM.R1(u);$.$O.Bi(P,M.T_())}this.ati(P)};
hM.R1=function(s){var M=[],O=[];for(var P=0;P<2;P++)for(var R=0;R<s[P].length;R++){M.push([P,s[P][R]]);
O.push(-1)}return[M,O]};hM.prototype.agt=function(s){var M=this.amo.indexOf(s.target)};hM.prototype.ati=function(s){var M=new kg(z.E.H,!0);
M.l=$.ht;M.data={Q:"gids",Cy:s};this.a(M)};hM.asd=function(s,M,O){var P=[],y=s[2],F=s[3],A=s[4],h=0;
if(y==0)h++;if(F==0)h++;if(A==0)h++;if(h>1&&y==0&&F==0){if(s[0]!=0)P.push(M+s[0]);if(s[1]!=0)P.push(O-s[1]);
return P}var m=O-M-s[0]-s[1];if(y==0){if(A==0){y=Math.floor(m/F);A=(m-y*F)/(y-1)}else{y=1;while(F*y+A*(y-1)+F+A<=m)y++}}else if(y!=0&&F!=0){if(y*F>m)y=Math.floor(m/F);
A=(m-y*F)/(y-1)}P.push(M+s[0],O-s[1]);var F=(m-A*(y-1))/y;for(var R=1;R<y;R++){if(A==0)P.push(M+s[0]+R*F);
else P.push(M+s[0]+R*F+(R-1)*A,M+s[0]+R*F+R*A)}return P};hM.prototype.o3=function(s,M,O){this.lX=s};
hM.prototype.PN=function(){if(i.qE(this.Y4)&&this.NY==null)this.JD();this.T()};hM.prototype.qy=function(s){this.BY.q(s.QZ.DQ)};
function hN(){iY.call(this,[9,2],!1,"---panels/properties",iY.ho.TP);this.anV=null;this.ZK=null;this.f=null;
this.aCS=-1;this.oX=null}hN.prototype=new iY("");hN.prototype.GK=function(s,M){this.V5=s;this.fw=M;s=s-16;
M=M-30;var O=this.oX;if(O){O.style.width=s+"px";O.style.height=M+"px";for(var R=0;R<3;R++)this.agr[R].GK(s-12,M)}};
hN.prototype.JD=function(){this.oX=i.m("div","padded scrollable");this.Y4.appendChild(this.oX);var s=i.m("span");
this.oX.appendChild(s);this.VY=[new fU([0,3]),new fU([12,73]),new fU([12,91,0])];for(var R=0;R<this.VY.length;
R++){var M=this.VY[R];M.k("click",this.a4J,this);s.appendChild(M._);if(R==2)M._.style.marginRight="0"}this.oX.appendChild(i.m("hr"));
this.s2=new hN.eC;this.s2.parent=this;this.on=new hN.bW;this.on.parent=this;this.tQ=new hN.FS;this.tQ.parent=this;
this.agr=[this.s2,this.on,this.tQ];this.oX.appendChild(this.s2._);this.JB=i.m("div","lpfoot");this.Y4.appendChild(this.JB);
this.I$=[];for(var R=0;R<4;R++){var M=new fU("W");M.k("click",this.mz,this);this.I$.push(M);this.JB.appendChild(M._)}this.GK(this.V5,this.fw)};
hN.prototype.mz=function(s){var R=this.I$.indexOf(s.target);if(R==1){var M=this.ZK,O=M.U[M.Y[0]],P=ak.get(O.add);
this.s2.a6j.q(bW.Jb(P));this.s2.afU();return}var y=new kg(z.E.H,!0);y.l=$.mu;if(R==0)y.data={Q:ad.eb};
if(R==2)y.data={Q:ad.uY};if(R==3)y.data={Q:ad.Yb};this.a(y)};hN.prototype.a4J=function(s){var R=this.VY.indexOf(s.currentTarget);
this.p4(R);this.a99(R==1?this.on.Np:-1)};hN.prototype.p4=function(s){for(var R=0;R<3;R++){this.VY[R].Hv();
var M=this.agr[R]._;if(M.parentNode==this.oX&&R!=s)this.oX.removeChild(M);if(M.parentNode!=this.oX&&R==s)this.oX.appendChild(M)}this.VY[s].Mg()};
hN.prototype.a99=function(s){var M=this.ZK.Y[0],O=this.ZK.U[M],P=s+1;if(s==1&&O.eq)return;var y=new kg(z.E.H,!0);
y.l=$.mu;if(s!=1&&O.eq){y.data={Q:ad.QU,w:M,iu:2};this.a(y)}y.data={Q:ad.QU,w:M,iu:P};this.a(y)};hN.prototype.T=function(){iY.prototype.T.call(this);
if(this.oX==null)return;this.o3(this.ZK);for(var R=0;R<3;R++){this.VY[R].T();this.agr[R].T()}fJ.NT(this.I$,["lrs/clipping","reload","lrs/eye","lrs/bin"],[[6,6,0],[1,12,2],[5,5],[6,31]])};
hN.prototype.PN=function(){if(!i.qE(this.Y4))return;if(this.oX==null){this.JD();this.qy(this.f,g5.rT);
this.o3(this.anV);this.T()}};hN.prototype.o3=function(s){this.anV=s;if(this.oX==null)return;this.s2.o3(s);
this.on.o3(s);this.tQ.o3(s);if(s==null||s.Y.length==0||s.U[s.Y[0]]==null){i.cG(this.Y4,"disabled");this.ZK=null;
return}else i.VV(this.Y4,"disabled");var M=s.Y[0],O=s.U[M];this.I$[0].q(O.nN);this.I$[1].oo(ak.get(O.add)!=null);
this.I$[2].q(O.CD());var P=s.Iv(),y=P[0],F=P[1];if(F.length!=0){var A=y[F[0]],h=A.add.vogk,m=!1;if(h)for(var R=0;
R<h.length;R++){var Z=h[R].v;if(!a.cV.bF(Z))continue;m=!0;M=A.Fa}}M+=","+m;if(s!=this.ZK||this.aCS!=M){this.ZK=s;
this.aCS=M;if(m)this.p4(2);else if(O.KV<1&&!O.eq||ak.get(O.add))this.p4(0);else this.p4(1)}this.VY[1].oo(this.on.Np!=-1);
this.VY[2].oo(m)};hN.prototype.qy=function(s,M){this.f=s;if(this.s2)this.s2.qy(s,M);if(this.tQ)this.tQ.qy(s,M)};
hN.eC=function(){hV.call(this);this._=i.m("div","form");this.aBS=new df("Hello");this._.appendChild(this.aBS._);
this.ae=null;this.a6j=null;this.ZK=null;this.f=null;this.aFd=-1;this.a8h=null;this.aCO=null;this.AW=new ku(0,!0,!0);
this.AW.parent=this;this.AW.k(z.E.n,this.aDz,this);this._.appendChild(this.AW._);this.$w=new aI(!0);
this.$w.parent=this;this.$w.k(z.E.n,this.aog,this);this.OE=i.m("div","marged hiline");this.OE.appendChild(this.$w._);
this.E2=new fD("GrFl",!0);this.E2.parent=this;this.E2.k(z.E.n,this.aoN,this);this.en=i.m("div","marged hiline");
var s="Grad Rvrs Type Algn Angl Dthr Scl gradientsInterpolationMethod Ofst".split(" ");for(var R=0;R<s.length;
R++){var M=this.E2.DD[s[R]]._;this.en.appendChild(M)}this.nT=new fD("patternFill",!0);this.nT.parent=this;
this.nT.k(z.E.n,this.a0z,this);this.z_=i.m("div","marged hiline");var s=["Ptrn","Angl","Scl","Algn","phase"];
for(var R=0;R<s.length;R++){var M=this.nT.DD[s[R]]._;this.z_.appendChild(M)}this.zy={};for(var O in ak.names){if(aB[O]==null)continue;
this.zy[O]=new aB[O];this.zy[O].k(z.E.n,this.afU,this);this.zy[O].parent=this}var P=this.atX=i.m("div","marged hiline");
this.zA=new ku(0,!0);P.appendChild(this.zA._);this.zA.k(z.E.n,this.UT,this);this.aex=null;this.ZE=new ek;
this.ZE.parent=this;this.ZE.k(z.E.n,this.UT,this);P.appendChild(this.ZE._);this.s$=new gp;this.s$.parent=this};
hN.eC.prototype=new hV;hN.eC.prototype.aDz=function(s){var M=this.AW.V(),O=this.aCO,P=new gi(M[0],M[1],M[2],M[3]);
if(P.s0(O))return;this.aCO=P;var y=new kg(z.E.H,!0);if(O.A==P.A&&O.$==P.$){y.l=$.ht;y.data={Q:"trsl",vM:P.x-O.x,bM:P.y-O.y}}else{y.l=$.wO;
y.data={Q:"scl",SD:[2,4],K:new j6(P.A/O.A,P.$/O.$),xC:0}}this.a(y)};hN.eC.prototype.GK=function(s,M){var O=this.zy;
for(var P in O)O[P].GK(s,M)};hN.eC.prototype.T=function(){for(var s in this.zy)this.zy[s].T();this.E2.T();
this.nT.T();this.ZE.T();this.zA.T();this.AW.T();this.s$.T()};hN.eC.prototype.UT=function(s){var M=new kg(z.E.H,!0),O=this.zA.V(),P=this.aex;
if(s.target==this.zA&&O[2]==P[2]&&O[3]==P[3]){M.l=$.ht;M.data={Q:"trsl",vM:O[0]-P[0],bM:O[1]-P[1]}}else{var y=ad.Xo(new gi(O[0],O[1],O[2],O[3])),F=this.ZE.abx();
F.artboardRect={t:"Objc",v:y};var A=this.ZK,h=A.U[A.Y[0]],m=h.add.artb.guideIndeces;if(m)F.guideIndeces=a.G(m);
M.l=$.mu;M.data={Q:ad.Zg,sy:F}}this.a(M)};hN.eC.prototype.aog=function(s){var M=this.ZK,O=M.Y[0];if(M.U[O].add.SoCo==null)return;
var P=a.G(M.U[O].add.SoCo);P.Clr.v=this.$w.V();this.PB({tn:1,Rw:P})};hN.eC.prototype.aoN=function(s){var M=this.ZK,O=M.Y[0];
if(M.U[O].add.GdFl==null)return;this.PB({tn:2,Rw:this.E2.V()})};hN.eC.prototype.a0z=function(s){this.PB({tn:3,Rw:this.nT.V()})};
hN.eC.prototype.PB=function(s){this.a1t($.mu,{Q:ad.ME,nl:[this.ZK.Y[0]],Ot:!0,K:s})};hN.eC.prototype.afU=function(s){this.a1t($.sA,{Q:"edit_layer",K:this.a6j.V()})};
hN.eC.prototype.a1t=function(s,M){var O=new kg(z.E.H,!0);O.l=s;O.data=M;this.a(O)};hN.eC.prototype.o3=function(s,M){var O=aW.get([0,3]),P=!1,y=null;
this.ZK=s;if(s&&s.U.length>0&&s.Y.length!=0&&s.U[s.Y[0]]){var F=s.U[s.Y[0]],A=ak.get(F.add);if(A!=null&&this.zy[A]!=null){y=this.zy[A]._;
this.a6j=this.zy[A];this.zy[A].q(a.G(F.add[A]));if(s.Y[0]!=this.aFd){var h=s.Ta(s.Y[0]-1);this.a8h=a.Un(h)}this.zy[A].uj(this.a8h);
O=aW.get(ak.names[A])}if(A==null&&F.add.artb==null){var m=this.aCO=a.b.An($.TR.Gt(s));P=!m.g3();var Z=s.nR();
m.x-=Z.x;m.y-=Z.y;this.AW.q([m.x,m.y,m.A,m.$],[s.FR,s.A,this.f.QZ.DQ])}if(F.add.SoCo){y=this.OE;this.$w.q(F.add.SoCo.Clr.v);
O=aW.get([6,48,0,0])}if(F.add.GdFl){y=this.en;this.E2.update(s,F.add.GdFl);O=aW.get([6,48,0,1])}if(F.add.PtFl){y=this.z_;
this.nT.update(s,F.add.PtFl);O=aW.get([6,48,0,2])}if(F.add.artb){var u=F.add.artb,f=F.Kj();y=this.atX;
this.ZE.a5m(u);var U=this.aex=[f.x,f.y,f.A,f.$];this.zA.q(U,[s.FR,s.A,this.f.QZ.DQ]);O=aW.get([1,16,0])}var C=F.add.SoLd;
if(C&&C.generativeDocInfo){var H=C.Idnt.v,t=s.gX(H);this.s$.q(t.raw.buffer);y=this.s$._}this.aFd=s.Y[0]}if(y!=this.ae){if(this.ae)this._.removeChild(this.ae);
if(y!=null)this._.appendChild(y);this.ae=y}this.aBS.q(O);this.AW._.style.display=P?"":"none"};hN.eC.prototype.qy=function(s,M){this.f=s;
this.E2.qy(s,M);this.nT.qy(s,M);if(M==g5.Aw)this.o3(this.ZK,s);for(var O in this.zy)this.zy[O].qy(s,M)};
hN.bW=function(){hV.call(this);this._=i.m("div","form");this.ZK=null;this.Np=0;var s=i.m("span","fitem");
this._.appendChild(s);this.VY=[new fU([6,2]),new fU([6,3]),new fU([6,50])];for(var R=0;R<this.VY.length;
R++){var M=this.VY[R];M.k("click",this.aKs,this);s.appendChild(M._)}this.zK=new jH([12,74],0,255);this.zK.k(z.E.n,this.qr,this);
this._.appendChild(this.zK._);this.MI=new jH([7,6],0,500,"px",2,!0);this.MI.k(z.E.n,this.qr,this);this._.appendChild(this.MI._);
this.aaZ=new fU([4,11],null,null,!0);this.aaZ.k("click",this.aAt,this)};hN.bW.prototype=new hV;hN.bW.prototype.aAt=function(){var s=new kg(z.E.H,!0);
s.l=$.sA;s.data={Q:"start",Qy:"nvrt"};this.a(s)};hN.bW.prototype.qr=function(s){var M=this.zK.V(),O=this.MI.V(),P=new kg(z.E.H,!0);
P.l=$.mu;P.data={Q:ad.JS,Yj:this.ZK.Y[0],jY:{B6:this.Np,zK:M,MI:O}};this.a(P)};hN.bW.prototype.T=function(){for(var R=0;
R<this.VY.length;R++)this.VY[R].T();this.zK.T();this.MI.T();this.aaZ.T()};hN.bW.prototype.o3=function(s){this.ZK=s;
this.RB()};hN.bW.prototype.aKs=function(s){this.RB(this.VY.indexOf(s.currentTarget));this.parent.a99(this.Np)};
hN.bW.prototype.RB=function(s){var M=this.ZK,O=this.VY;for(var R=0;R<3;R++){var P=O[R];P.Hv();P.XX()}if(M==null||M.U.length==0||M.Y.length==0||M.U[M.Y[0]]==null)return;
var y=-1,F=M.U[M.Y[0]];if(F.o7()&&F.UU(M).$E!=null){O[2].Zc();y=2}if(F.add.vmsk){O[1].Zc();y=1}if(F.Bl()){O[0].Zc();
y=0}if(s!=null)y=s;else if(F.eq)y=1;else if(F.KV==3)y=2;else if(F.KV==1)y=0;this.Np=y;if(y==-1){this.zK.XX();
this.MI.XX();return}var A=F.Zm(y);this.zK.Zc();this.MI.Zc();this.zK.q(A.zK);this.MI.q(A.MI);O[y].Mg();
var h=this.aaZ._;if(y==0)this._.appendChild(h);else if(h.parentNode==this._)this._.removeChild(h)};hN.FS=function(){hV.call(this);
this._=i.m("div","form");this.lX=null;this.f=null;this.I8=-1;this.AW=new ku(0,!1);this.EQ=new jH([12,15],-180,180,"\xB0",2);
this.GN=new ku(1,!0);this.Oh=new jH([12,94,0],0,100,null,2);this.oR=new jH([12,78],3,30);this.Qg=new fU(["\u279C  ",[12,76,0]],null,null,!0);
this.AW.k(z.E.n,this.im,this);this.EQ.k(z.E.n,this.im,this);this.GN.k(z.E.n,this.im,this);this.Oh.k(z.E.n,this.im,this);
this.oR.k(z.E.n,this.im,this);this.Qg.k("click",this.im,this)};hN.FS.prototype=new hV;hN.FS.prototype.T=function(){this.AW.T();
this.EQ.T();this.GN.T();this.Oh.T();this.oR.T()};hN.FS.prototype.im=function(s){var M=this.lX,O=a.cV.da(M),P=s.target.V(),y=[this.AW,this.EQ,this.GN,this.Oh,this.oR,this.Qg].indexOf(s.target);
if(y==0){var F=M.nR(),A=[],h=A[0]=P[0]+F.x,m=A[1]=P[1]+F.y;A[2]=h+P[2];A[3]=m+P[3];P=A}if(y==1)P=P*Math.PI/180;
var Z={0:1,1:2,2:3,3:3,4:4}[y];O[Z]=P;var u=new kg(z.E.H,!0);u.l=$.mu;u.data={Q:ad.GB,K:O,a6x:y==5};
this.a(u)};hN.FS.prototype.o3=function(s){var M=this._;this.lX=s;if(s==null)return;var O=this.f,P=[s.FR,s.A,O.QZ.DQ],y=a.cV.da(s),F=y[0],A=y[1];
if(A==null)return;var h=F!=this.I8;this.I8=F;if(h)i.Lq(M);if(h)M.appendChild(this.AW._);if(h)M.appendChild(this.EQ._);
var m=s.nR();this.AW.q([A[0]-m.x,A[1]-m.y,A[2]-A[0],A[3]-A[1]],P);this.EQ.q(y[2]*180/Math.PI);if(F==2){if(h)M.appendChild(this.GN._);
var Z=y[3];this.GN.q(Z,P)}if(F==7||F==8){if(h)M.appendChild(this.Oh._);this.Oh.q(y[3])}if(F==8){if(h)M.appendChild(this.oR._);
this.oR.q(y[4])}M.appendChild(this.Qg._)};hN.FS.prototype.qy=function(s,M){this.f=s;this.o3(this.lX)};
function d0(s){iY.call(this,s.name,!0);this.ZK=s;this.f=null;this.jt=new dG(this.Y4);this.jt.parent=this}d0.prototype=new iY;
d0.HE=function(){var s=document.createElement("canvas"),M=document.createElement("canvas"),O=document.createElement("canvas"),P=16,y=a.j(16*16*4);
a.eZ(y,P,P,8);var F=a.scale.g1(y,P,P);return{Ec:s,abo:M,aCr:O,SB:s.getContext("2d"),aFP:M.getContext("2d"),a4e:O.getContext("2d"),SM:F}}();
d0.prototype.atm=function(){if(this.ZK.fX())return window.confirm(aW.get([22,6,3])+" "+this.ZK.name+". "+aW.get([22,6,4]));
return!0};d0.prototype.qy=function(s,M){this.f=s};d0.prototype.o3=function(s){this.PN();this.gq()};d0.prototype.GK=function(s,M){if(s<=0||M<=0)return;
this.V5=s;this.fw=M;var O=this.ZK,P=d0.HE,y=i.yD();O.i.SB.A=Math.floor(s*y);O.i.SB.$=Math.floor(M*y);
i.MQ(P.Ec,s,M);i.MQ(P.abo,s,M);i.MQ(P.aCr,s,M);i.MQ(ci.FL(),s,M);if(O.i.xq==0)O.i.xq=$.Ay.EA(O.A,O.$,s*y,M*y);
this.gq()};d0.prototype.PN=function(){var s=this.Y4.firstChild,M=d0.HE,O=ci.Qh&&dc==0;if(!O&&s==ci.FL()||O&&s==M.Ec)this.Y4.removeChild(s);
var P=O?ci.FL():M.Ec;if(!i.qE(P))this.Y4.appendChild(P)};d0.prototype.gq=function(){if(this.f==null)return;
var s=this.ZK,M=ci.Qh&&dc==0;if(M)this.aoP();else this.FK()};d0.prototype.aoP=function(){if(ci.Qh&&d0.aJv==null){var s=d0.aJv=[],M=[0,2,8,32,128];
for(var R=0;R<5;R++)s[R]=[new d0.iL(!1,M[R],!1),new d0.iL(!0,M[R],!1)];s.push([new d0.iL(!1,0,!0),new d0.iL(!0,0,!0)])}var O=this.ZK,P=d0.HE,t,D=0,x,V;
if(O.IH==null)return;var y=O.i,F=y.SB.A,A=y.SB.$,h=ci.KM;P.SB.clearRect(0,0,F,A);var m=this.a6k(O);if(y.Sq==null||y.Sq.A!=F||y.Sq.$!=A)y.Sq=new ci.po(F,A);
if(m){var Z=Date.now(),u=navigator.userAgent.toLowerCase();if(u.indexOf("safari")!=-1&&u.indexOf("chrome")==-1){var f=A,U=new Uint8Array(P.SB.getImageData(0,0,F,f).data.buffer);
y.Sq.set(U,new gi(0,0,F,f))}else y.Sq.set(P.SB.canvas);this.KY=!0}else if(this.f.vr){if(this.KY){ci.b2(y.Sq);
ci.s3(1);this.KY=!1}var C=a.f8.z3,U=new Uint8Array(O.i.M6.data.buffer);y.Sq.set(U,new gi(0,0,C,A));var U=new Uint8Array(O.i.Gd.data.buffer);
y.Sq.set(U,new gi(0,0,F,C));var U=new Uint8Array(P.SB.getImageData(0,A-C,F,C).data.buffer);y.Sq.set(U,new gi(0,A-C,F,C));
this.KY=!0}else if(this.KY){ci.b2(y.Sq);ci.s3(1);this.KY=!1}var H=y.D7(0,0);if(d0.axM==null)d0.axM=new Float32Array(4*1024);
var X=[0,0,0,0],Q=d0.axM;if(O.add.artd){Q.fill(0);X=d0.BN(O);var L=O.A,E=O.$,g=0;for(var R=0;R<O.U.length;
R++){var _=O.U[R],S=_.add.artb;if(S==null||!_.CD())continue;var W=_.Kj();Q[D]=W.x/L;Q[D+1]=W.y/E;Q[D+2]=W.A/L;
Q[D+3]=W.$/E;D+=4;if(D==Q.length)break}if(D>2*4)g++;if(D>8*4)g++;if(D>32*4)g++;t=d0.aJv[g+1];Q=new Float32Array(Q.buffer,0,[2,8,32,128][g]*4)}else t=d0.aJv[O.I2?5:0];
var b=O.En();if(b==null)t=t[0];else{t=t[1];V=b[O.add.fcmy==1?6:4];x=b[2]}ci.aEk(F,A);ci.s3(0);ci.aEk(F,A);
t.Yx();var N=new kp;N.scale(F,A);N.concat(y._V(!0));N.scale(1/O.A,1/O.$);var J=[N.cd,N.X,0,N.xN,N.zv,0,N.cj,N.H3,1];
t.Qd(y.Sq.U9,O.IH.U9,new Float32Array(J),new Float32Array([F/8,A/8,H.x/F,H.y/A]),O.A,O.$,1/O.i.xq,F,A,new Float32Array(X),Q,new Float32Array(a.rD.gV(a.rD.abJ(y.P7))),V,x);
h.drawArrays(h.TRIANGLES,0,6)};d0.BN=function(s){return[0,0,0,0]};d0.aAV=function(s){var M=a.wv.sl(s.v),O=[M.o/255,M.R/255,M.X/255,1];
for(var R=0;R<4;R++)O[R]=Math.min(1,O[R]);return O};d0.xf=function(s,M){var O=s[2]*255;if(ci.Qh)O=M?0:Math.max(2,O);
return"rgba("+s[0]*255+","+s[1]*255+","+O+","+s[3]+")"};d0.sF=function(s){var M=s.length;if(ci.Qh)for(var R=0;
R<M;R+=4){if(s[R+2]==0)s[R+2]=3}};d0.prototype.FK=function(){var s=this.ZK,M=d0.HE;if(dc==0&&s.buffer==null)return;
var O=s.i,P=O.SB,y=P.A,F=P.$,A=new gi(0,0,s.A,s.$);M.SB.clearRect(0,0,y,F);var h=s.add.prvw==0;if(dc==1&&h){M.SB.fillStyle="white";
M.SB.fillRect(-5e3,-5e3,2e4,2e4)}var m=O._V(!0),Z=m.v();Z.or();if(dc!=0){}else if(s.add.artd==null){M.SB.save();
var u=Z.Kw(new j6(0,0));Z.translate(-u.x,-u.y);M.SB.translate(Math.round(u.x),Math.round(u.y));M.SB.fillStyle=dc==0?M.SM:"#ffffff";
if(s.I2)M.SB.fillRect(-5e3,-5e3,2e4,2e4);else{this.hm(a.b.hC(A),Z,M.SB);M.SB.fill()}M.SB.restore()}else{M.SB.fillStyle=d0.xf(d0.BN(s));
M.SB.fillRect(0,0,y,F);M.SB.save();M.SB.setTransform(Z.cd,Z.X,Z.xN,Z.zv,Z.cj,Z.H3);var f=s.root.children;
for(var R=0;R<f.length;R++){var U=f[R].w;if(U.add.artb==null||!U.CD())continue;var C=U.Kj(),H=U.PG();
if(H!=0)continue;M.SB.fillStyle=M.SM;M.SB.save();M.SB.scale(1/O.xq,1/O.xq);M.SB.fillRect(O.xq*C.x,O.xq*C.y,C.A*O.xq,C.$*O.xq);
M.SB.restore()}M.SB.restore()}var Z=O._V(!0);Z.or();if(dc==1){M.SB.save();var t=a.b.hC(O.SB);a.b.M(t.L,O._V(!0),t.L);
var X=a.b.q7(t.L);M.SB.setTransform(Z.cd,Z.X,Z.xN,Z.zv,Z.cj,Z.H3);s.root.Co(s,M.SB,this.f,X);M.SB.restore();
M.SB.save();M.SB.fillStyle="#ffffff";M.SB.globalCompositeOperation="destination-over";var Q=s.add.arts;
for(var R=0;R<Q.length;R++){var X=a.b.hG(Q[R].rC);this.hm(a.b.hC(X),Z,M.SB);if(h)M.SB.stroke();else M.SB.fill()}M.SB.restore()}else if(dc==0){fo.Id(O.SB);
var D=P,L=s.MD;if(L&&L.fl(A))L=null;if(!s.I2){var E=L;if(E==null)E=A;var _=a.b.hC(E).L;a.b.M(_,Z,_);
var X=a.b.q7(_);D=P.OK(X)}if(!D.g3()){var S=new Uint8Array(fo.eu.buffer,0,D.C()*4);S.fill(0);var W=s.buffer,g=s.En(),x=a.$i(W),V=a.Cs(x);
if(g&&x!=8){W=W.slice(0);for(var R=0;R<W.length;R++)if(W[R]>V)W[R]=V;ICC.U.applyLUT(g[s.add.fcmy==1?5:3],g[2],W,W)}a.scale.Wg(W,A,m,S,D,s.I2);
if(g&&x==8){ICC.U.applyLUT(g[s.add.fcmy==1?5:3],g[2],S,S)}if(O.P7[0]+O.P7[1]+O.P7[2]!=3)a.rD.acR(S,S,a.rD.abJ(O.P7));
if(L)M.a4e.clearRect(D.x,D.y,D.A,D.$);else M.a4e.clearRect(0,0,y,F);M.a4e.putImageData(new ImageData(new Uint8ClampedArray(S.buffer,0,S.length),D.A,D.$),D.x,D.y)}M.SB.drawImage(M.aCr,0,0);
M.SB.getImageData(0,0,1,1)}else if(dc==2){d0.J.av6(s,M.SB,this.f)}if(dc!=2)this.a6k(s)};d0.prototype.a6k=function(s){var M=s.i,O=M.P7[0]+M.P7[1]+M.P7[2],P=d0.HE,y=!1,F=[];
for(var R=0;R<s.Y.length;R++){var A=s.U[s.Y[R]];if(A==null)continue;var h=A.KV;if(h!=1&&h!=3)continue;
var m=h==1?A.Bl():A.UU(s).$E;if(m.H7)F.push(m)}for(var R=0;R<s.dj.length;R++)if(s.dj[R].H7)F.push(s.dj[R]);
for(var R=0;R<F.length;R++){var m=F[R];this.agB(m,M,F.length==1&&O==0?2:1,m.color,m.mY);y=!0}var Z=this.f;
y=this.aFW(s,P.SB,M,F.length!=0)||y;if(s.h&&Z.he&&Z.QZ.vq){this.agB(s.h,M,0,0,null);y=!0}return y};d0.prototype.agB=function(s,M,O,P,y){var F=0;
if(y)F=Math.round(y.X)<<16|Math.round(y.R)<<8|Math.round(y.o);var A=M._V(!0),h=M.SB,m=new gi(0,0,M.ZK.A,M.ZK.$),Z=d0.HE;
fo.Id(M.SB);fo.CA.fill(P);fo.eu.fill(0);var u=s.N,f=s.S;a.scale.M(u,f,A,fo.CA,h);if(O==0){var U=new Uint32Array([4278190080,4294967295]);
d0.sF(new Uint8Array(U.buffer));a.h.aDK(fo.CA,fo.eu,h,U,i.yD()>1.9)}else{var C=Date.now();a.h.aiP(fo.CA,fo.eu,h,O,F);
d0.sF(fo.eu)}var H=new ImageData(new Uint8ClampedArray(fo.eu.buffer),h.A,h.$);Z.aFP.putImageData(H,0,0);
Z.SB.save();if(O!=0){var t=new gi(0,0,m.A,m.$),X=A.v();X.or();this.hm(a.b.hC(t),X,Z.SB);Z.SB.clip()}Z.SB.drawImage(Z.abo,0,0);
Z.SB.restore()};d0.prototype.aFW=function(s,M,O,P){var y=s.W.zQ!=null||s.W.CU!=null||s.W.kX!=null||s.W.tY!=null||s.W.JT!=null||s.W.P6!=null||s.W.Xn.length!=0||s.W.zp.length!=0,F=this.f,A=F.QZ,h=hz.YS[F.OW],m=Math.round(12*i.yD()),Z=m/s.i.xq,u=O._V(!0);
u.or();M.save();M.setTransform(u.cd,u.X,u.xN,u.zv,u.cj,u.H3);var f=d0.BN(s)[0];f=f<.5?f+.5:f-.5;f=""+Math.round(f*255).toString(16);
while(f.length<2)f="0"+f;M.font=Z+"px sans-serif";if(s.add.artd){M.fillStyle="#"+f+f+f;for(var R=0;R<s.U.length;
R++){var U=s.U[R];if(U.add.artb==null||!U.CD())continue;var C=U.Kj();M.save();M.beginPath();M.rect(C.x,C.y-2*Z,C.A,2*Z);
M.clip();M.fillText(U.getName(),C.x+2,C.y-Z*.7);M.beginPath();M.restore();y=!0}}if(s.add.arts&&F.zI==$.wq){var H=s.add.arts;
for(var R=0;R<H.length;R++){var C=H[R],t=a.b.hG(C.rC),X=(R+1+"").padStart(2,"0");X+=" - "+C.TD;M.save();
M.beginPath();M.fillStyle=C.Y?"#cce6ff":"#dddddd";M.rect(t.x,t.y,M.measureText(X).width+Z,Z*1.5);M.fill();
M.fillStyle="black";M.fillText(X,t.x+Z/2,t.y+Z*1.1);M.restore()}y=!0}function Q(i3){return i3==1||i3==2||i3==4||i3==5}var D=d0.xf([.3,.5,1,1]),L=d0.xf([1,1,1,1]),E=d0.xf([.7,.7,.7,1]);
if(F.he&&A.J4){M.fillStyle=M.strokeStyle=D;M.lineWidth=1.5/O.xq;var _=s.Iv(),S=_[0],W=_[1];for(var g=0;
g<W.length;g++){var U=S[W[g]],x=U.add.vmsk,V=x.u,b=a.b.TM(V);this.hm(b,null,M);M.stroke();y=!0;var N=3*i.yD()/O.xq,J=N*1.5;
for(var R=0;R<x.Dx.length;R++){var K=a.z.aBJ(V,x.Dx[R]);if(K==null)continue;var q=K.x,d=K.y;M.beginPath();
var l=R==0;if(x.l_)l=!l;if(l){M.moveTo(q-J,d-J);M.lineTo(q+J,d+J);M.moveTo(q-J,d+J);M.lineTo(q+J,d-J);
M.stroke()}else{M.arc(q,d,J,0,2*Math.PI);M.save();M.globalCompositeOperation="destination-out";M.fill();
M.restore();M.stroke()}y=!0}if(s.Y.length!=1)continue;var T=-1,B=-1,p=-1;for(var R=0;R<V.length;R++){if(V[R].I>5)continue;
if(V[R].I==0||V[R].I==3){B=R+1;p=V[R].length;if(V[R].VF!=-1)T++;continue}if(x.Y.indexOf(T)!=-1){var q=V[R].nr.x,d=V[R].nr.y;
M.fillRect(q-N*.8,d-N*.8,2*N*.8,2*N*.8)}if(x.MO.indexOf(R)!=-1){var I=V[R],w=[I.nr];M.beginPath();M.moveTo(I.Rb.x,I.Rb.y);
M.lineTo(I.nr.x,I.nr.y);M.lineTo(I.XO.x,I.XO.y);var e=B+(R+p-B-1)%p,G=B+(R+p-B+1)%p,j=V[e],o=V[G];if(j&&Q(j.I)&&x.MO.indexOf(e)==-1){M.moveTo(j.nr.x,j.nr.y);
M.lineTo(j.XO.x,j.XO.y);w.push(j.XO)}if(o&&Q(o.I)&&x.MO.indexOf(G)==-1){M.moveTo(o.nr.x,o.nr.y);M.lineTo(o.Rb.x,o.Rb.y);
w.push(o.Rb)}M.stroke();if(!I.nr.s0(I.Rb))w.push(I.Rb);if(!I.nr.s0(I.XO))w.push(I.XO);for(var r=0;r<w.length;
r++){var K=w[r],q=K.x,d=K.y;if(r==0&&(I.I==2||I.I==5))M.fillRect(q-1.2*N,d-1.2*N,2.4*N,2.4*N);else{M.beginPath();
M.arc(q,d,N*1.2,0,2*Math.PI);M.fill();if(r!=0)M.fillStyle=L;M.beginPath();M.arc(q,d,N*.8,0,2*Math.PI);
M.fill();M.fillStyle=D}}}y=!0}}if(s.vX!=-1&&[$.pr,$.PE,$.W7].indexOf(F.zI)!=-1){var U=s.J4[s.vX],x=U.add.vmsk,V=x.u,b=a.b.TM(V);
this.hm(b,null,M);M.stroke();y=!0}}M.lineWidth=1/O.xq;if(s.W.wf){M.fillStyle=M.strokeStyle=D;var o={L:[],J8:[]},k=d0.akL;
if(k==null){k=d0.akL={L:[1,0],J8:["M"]};for(var R=1;R<30;R++){var a7=Math.PI*2*R/30;k.L.push(Math.cos(a7),Math.sin(a7));
k.J8.push("L")}k.J8.push("Z","M","L","M","L");k.L.push(-.5,0,.5,0,0,-.5,0,.5)}for(var R=0;R<s.W.wf.length;
R++){var j=$.uG.arv(s.W.wf[R],O),Y=new kp(j[0],0,0,j[0],j[1],j[2]);a.b.concat(o,k,Y)}this.hm(o,null,M);
M.stroke();y=!0}var v=new kp(1,0,0,1,.5/O.xq,.5/O.xq);if(s.I2){M.fillStyle=M.strokeStyle=D;var o={L:[0,0,s.A,0,s.A,s.$,0,s.$],J8:["M","L","L","L","Z"]};
this.hm(o,v,M);M.stroke();y=!0}if(s.W.r8){M.fillStyle=M.strokeStyle=d0.xf([0,0,0,.5]);this.hm(s.W.r8,null,M,!0);
M.fill("evenodd")}M.strokeStyle=D;M.fillStyle=L;if(s.W.kX){this.hm(s.W.kX,v,M);M.stroke()}if(s.W.JT){this.hm(s.W.JT,v,M);
M.lineWidth=i.yD()*3.5/O.xq;M.stroke()}var n=d0.rB(s.W.Kq,M,O);M.fill();M.stroke();y=y||n;M.fillStyle=M.strokeStyle=d0.xf([0,0,0,ci.Qh&&dc==0?1:.5],!0);
if(s.W.zQ){this.hm(s.W.zQ,null,M);M.fill()}if(s.W.CU){this.hm(s.W.CU,v,M);M.stroke()}for(var cm in s.W.yw)if(s.W.yw[cm].CU){this.hm(s.W.yw[cm].CU,null,M);
M.stroke();y=!0}var n=d0.rB(s.W.oW,M,O);M.stroke();y=y||n;if(s.W.tY){this.hm(s.W.tY,v,M);M.strokeStyle="rgba(0,0,0,0.5)";
M.lineWidth=i.yD()*2.5/O.xq;M.stroke();M.strokeStyle="white";M.lineWidth=i.yD()*2/O.xq;M.stroke()}if(s.W.jT.length+s.W.Zk.length+s.W.gM.length!=0){y=!0;
M.fillStyle=L;d0.eG(s.W.jT,M,O,6);M.fill();d0.eG(s.W.Zk,M,O,6);M.fill();M.fillStyle=D;d0.eG(s.W.jT,M,O,4);
M.fill();d0.eG(s.W.gM,M,O,4);M.fill();M.fillStyle=E;d0.eG(s.W.Zk,M,O,4);M.fill()}if(s.W.Xn.length!=0){for(var R=0;
R<s.W.Xn.length;R++){var a5=s.W.Xn[R],gP=a5[1],cg;if(P){cg=M.getImageData(gP.x,gP.y,gP.A,gP.$);a.B.qZ("norm",a5[0],gP,new Uint8Array(cg.data.buffer),gP,gP,1)}else cg=new ImageData(new Uint8ClampedArray(a5[0].buffer),gP.A,gP.$);
M.putImageData(cg,gP.x,gP.y)}}var a9=.5/O.xq;M.lineWidth=1/O.xq;if(s.W.MM){y=!0;var ew=s.W.MM,h7=ew.AZ,b={J8:[],L:[]};
for(var R=0;R<ew.wu.length;R++)a.b.concat(b,a.b.hC(ew.wu[R]));b.L=b.L.concat(h7);for(var R=0;R<h7.length;
R+=4){b.J8.push("M","L")}for(var R=0;R<b.L.length;R++){b.L[R]+=a9}M.strokeStyle=d0.xf([.9,.2,.2,1]);
this.hm(b,null,M);M.stroke();var bh=i.yD(),ba=2/O.xq;M.font=Z*.9+"px sans-serif";for(var R=0;R<h7.length;
R+=4){var q=h7[R],d=h7[R+1],jx=h7[R+2],c4=h7[R+3],bq=Math.sqrt((c4-d)*(c4-d)+(jx-q)*(jx-q));bq=a.f8.mE(bq,s.FR,F,d==c4?s.A:s.$);
var di=new j6((q+jx)/2,(d+c4)/2);M.fillStyle=d0.xf([.9,.2,.2,1]);var il=M.measureText(bq).width;M.fillRect(di.x-il/2-ba*bh,di.y-3.5*ba*bh,il+2*ba*bh,7*ba*bh);
M.fillStyle=d0.xf([1,1,1,1]);M.save();M.translate(di.x-il/2,di.y+2*ba*bh);M.scale(.1,.1);M.font=Z*9+"px sans-serif";
M.fillText(bq,0,0);M.restore()}}if(F.he){if(A.mp&&s.i.xq>10&&dc==0){this.eZ(s,M,1,1,.25,A.fJ,16777215);
y=!0}if(A.W2){var j0=a.f8.Yn(A.Pt,s.FR,s.A,A.CV),j1=A.af==0?j0:a.f8.Yn(A.af,s.FR,s.A,A.CV);if(A.CV==4)j1*=s.$/s.A;
this.eZ(s,M,j0,j1,1,A.fJ,A.SC);y=!0;if(A.Ms!=1){M.save();M.setLineDash([1/s.i.xq,1/s.i.xq]);this.eZ(s,M,j0/A.Ms,j1/A.Ms,1,A.fJ,A.SC);
M.restore()}}if(A.FQ){var b5=s.T_(),b4=s.E8(),lm=Math.max(s.i.SB.A,s.i.SB.$)/s.i.xq;lm=Math.max(Math.max(s.A,s.$)*2,lm);
for(var R=0;R<b5[0].length;R++){var ix=b5[0][R],jy=b5[1][R];if(jy!=-1&&jy!=b4)continue;var bz=O.D7(ix[1],ix[1]),c5=O.ni(Math.floor(bz.x)+.5,Math.floor(bz.y)+.5),k0=a.Aj(jy==-1?A.E0:A.B_);
k0=[k0.o/255,k0.R/255,k0.X/255,1];M.beginPath();M.strokeStyle=d0.xf(k0);if(ix[0]==0){var cd=c5.x;M.moveTo(cd,-lm);
M.lineTo(cd,lm)}else{var fz=c5.x;M.moveTo(-lm,fz);M.lineTo(lm,fz)}M.stroke();y=!0}}var fu=s.YX;if(fu.length>0&&F.zI==$.aHz){var gP=7/s.i.xq,c6=gP/3,k7=gP*4;
M.strokeStyle=M.fillStyle="black";for(var R=0;R<fu.length;R++){var hP=fu[R];M.fillRect(hP.x-.5*c6,hP.y-.5*k7,c6,k7);
M.fillRect(hP.x-.5*k7,hP.y-.5*c6,k7,c6);M.lineWidth=2.5/s.i.xq;M.beginPath();M.arc(hP.x,hP.y,gP,0,2*Math.PI);
M.stroke();M.font=1.9*gP+"px serif";M.lineWidth=1.25/s.i.xq;M.strokeText(""+(R+1),hP.x+.75*gP,hP.y+2.5*gP)}y=!0}var e1=s.$X;
if(A.$X&&e1.length!=0){M.font=Z*.8+"px sans-serif";var fs=[],eh=[];for(var R=0;R<e1.length;R++){var gW=$.sc.kY(e1,R);
fs.push(gW);if(s.MJ.indexOf(R)!=-1)eh.push(gW)}fs.reverse();var hk=Date.now();fs=a.S.aJi([0,0,s.A,s.$],fs);
for(var r=0;r<2;r++)for(var R=0;R<fs.length;R++){var jz=fs[R],T=jz[4],p=T!=null?e1[T]:null;if(p&&r==0||p==null&&r==1)continue;
var q=Math.round(jz[0]),d=Math.round(jz[1]),jx=Math.round(jz[2]),c4=Math.round(jz[3]);M.strokeStyle=M.fillStyle=d0.xf(p?[0,.7,.7,1]:[.8,.8,.8,1]);
M.strokeRect(q+a9,d+a9,jx-q,c4-d);var lh=R+1,eo=M.measureText(lh),il=eo.width;M.fillRect(q,d,il+Z/2,Z);
M.fillStyle=d0.xf([1,1,1,1]);M.fillText(lh,q+Z/4,d+Z*.8)}var ba=2/s.i.xq,aC=2*ba;for(var R=0;R<eh.length;
R++){var jz=eh[R],q=Math.round(jz[0]),d=Math.round(jz[1]),jx=Math.round(jz[2]),c4=Math.round(jz[3]);
M.strokeStyle=M.fillStyle=d0.xf([1,.6,0,1]);M.strokeRect(q+a9,d+a9,jx-q,c4-d);var e8=[q,d,jx,d,jx,c4,q,c4];
for(var lb=0;lb<e8.length;lb+=2){var cd=e8[lb],fz=e8[lb+1],jn=e8[lb+2&7],k3=e8[lb+3&7];M.fillRect(cd-ba,fz-ba,aC,aC);
M.fillRect(Math.round((cd+jn)/2)-ba,Math.round((fz+k3)/2)-ba,aC,aC)}}y=!0}var cP=s.add.Anno;if(cP&&cP.length!=0)for(var R=0;
R<cP.length;R++){var cV=cP[R],k0=cV[2],cd=cV[0]-a9,fz=cV[1]-a9,aC=30/O.jL,dS=.4*aC,gH=.6*aC;M.beginPath();
M.moveTo(cd,fz+gH);M.lineTo(cd,fz);M.lineTo(cd+aC,fz);M.lineTo(cd+aC,fz+aC);M.lineTo(cd+dS,fz+aC);M.closePath();
M.lineTo(cd+dS,fz+gH);M.lineTo(cd+dS,fz+aC);if(R==s.i.V2){M.lineWidth*=5;M.strokeStyle=d0.xf([0,0,0,.5]);
M.stroke();M.lineWidth/=5}M.fillStyle=d0.xf([k0.o/255,k0.R/255,k0.X/255,1]);M.fill();M.strokeStyle=d0.xf([0,0,0,1]);
M.stroke()}}M.strokeStyle=d0.xf([1,0,0,1]);if(s.W.P6){this.hm(s.W.P6,v,M);M.stroke()}M.restore();if(F.vr){if(s.i.Gd==null||s.i.Gd.width!=s.i.SB.A||s.i.M6.height!=s.i.SB.$){s.i.Gd=new ImageData(s.i.SB.A,a.f8.z3);
s.i.M6=new ImageData(a.f8.z3,s.i.SB.$)}var h=hz.YS[F.OW],bL=0,au=0,ev=s.A,eF=s.$;if(s.E8()!=-1){var C=s.U[s.E8()].Kj();
bL=C.x;au=C.y;ev=C.A;eF=C.$}bL*=O.xq;au*=O.xq;var O=s.i,fn=[1,s.FR,s.FR/2.54,s.FR/25.4,ev/100][A.DQ],iu=O.xq*s.A/2,gz=O.xq*s.$/2,dL=[O.xq*fn,new j6(O.p.x+(bL+iu*fn-iu),O.p.y+(au+gz*fn-gz))];
if(A.DQ==4)fn*=eF/ev;var dm=[O.xq*fn,new j6(O.p.x+(bL+iu*fn-iu),O.p.y+(au+gz*fn-gz))],cM=this.jt.Df;
a.f8.aAa(O,h["--text-color"],h["--bg-input"],Math.floor(cM.x),Math.floor(cM.y),dL,dm,A.DQ==1?8:10);var l5=bD.aCd(O.xq,d0.xf([1,1,1,1]),s.A+" \xD7 "+s.$);
d0.sF(s.i.M6.data);d0.sF(s.i.Gd.data);M.putImageData(s.i.M6,0,0);M.putImageData(s.i.Gd,0,0);M.putImageData(l5,0,s.i.SB.$-l5.height)}if(s.W.zp.length!=0){for(var R=0;
R<s.W.zp.length;R++){var a5=s.W.zp[R],gP=a5[1];M.putImageData(new ImageData(new Uint8ClampedArray(a5[0].buffer),gP.A,gP.$),gP.x,gP.y)}}return y};
d0.prototype.eZ=function(s,M,O,P,y,F,A){while(O*s.i.xq<4){O*=2;P*=2}var h=s.A,m=s.$,Z=.5/s.i.xq;A=a.Aj(A);
M.strokeStyle=d0.xf([A.o/255,A.R/255,A.X/255,y],!1);M.save();M.rect(0,0,h,m);M.clip();M.beginPath();
for(var u=0;u<=h;u+=O){M.moveTo(u+Z,0);M.lineTo(u+Z,m)}if(F==0){for(var f=0;f<=m;f+=P){M.moveTo(0,f+Z);
M.lineTo(h,f+Z)}}else{P*=Math.sqrt(4/3);var U=P*Math.floor(h/P),C=h*(P/(2*O));for(var f=-U;f<=m+U;f+=P){M.moveTo(0,f);
M.lineTo(h,f-C);M.moveTo(0,f);M.lineTo(h,f+C)}}M.stroke();M.restore()};d0.eG=function(s,M,O,P){M.beginPath();
var y=P*i.yD()/O.xq,F=!1;for(var R=0;R<s.length;R+=2){F=!0;var A=s[R],h=s[R+1];M.moveTo(A+y,h);M.arc(A,h,y,0,2*Math.PI)}return F};
d0.rB=function(s,M,O,P){M.beginPath();var y=(P?P:1)*(4*i.yD()+.5)/O.xq,F=!1;for(var R=0;R<s.length;R+=2){F=!0;
var A=s[R],h=s[R+1];M.rect(A-y,h-y,2*y,2*y)}return F};d0.bx=function(s,M,O,P){O.beginPath();if(P)O.rect(-1e5,-1e5,1e6,1e6);
var y=s;if(M){y=a.b.v(s);a.b.M(y.L,M,y.L)}Typr.U.pathToContext({cmds:y.J8,crds:y.L},O)};d0.prototype.hm=d0.bx;
d0.iL=function(s,M,O){ci.Qe.call(this);var P=this.aC4=M!=0,y=O?"true":"in01(sCoord)",F="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D over;\t\t\tuniform sampler2D image;\t\t\t"+(s?"uniform sampler2D lut;  uniform float N;  "+ci.oj.a2y:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(P?"uniform vec4 bgClr;  uniform vec4 ars["+M+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+ci.oj.aFA+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(over , tCoord); \t\t\t\tvec4 tgt = min(vec4(1,1,1,1),texture2D(image, sCoord"+(O?"-floor(sCoord)":"")+")); \t\t\t\t"+(s?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(P?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+M+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+y+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+y+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",A="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Lc(F,A)};d0.iL.prototype=new ci.Qe;d0.iL.prototype.Qd=function(s,M,O,P,y,F,A,h,m,Z,u,f,U,C){this.Ui("tmat gsize over image lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var H=ci.KM,t=this.km;H.uniformMatrix3fv(t.tmat,!1,O);H.uniform4fv(t.gsize,P);H.uniform3f(t.contSizeZoom,y,F,A);
H.uniform2f(t.cnvSize,h,m);H.uniformMatrix4fv(t.ctrn,!1,f);if(this.aC4){H.uniform4fv(t.ars,u);H.uniform4fv(t.bgClr,Z)}H.uniform1i(t.over,0);
H.uniform1i(t.image,1);H.activeTexture(H.TEXTURE0);H.bindTexture(H.TEXTURE_2D,s);H.activeTexture(H.TEXTURE1);
H.bindTexture(H.TEXTURE_2D,M);if(U){H.uniform1f(t.N,C);H.uniform1i(t.lut,2);H.activeTexture(H.TEXTURE2);
H.bindTexture(H.TEXTURE_2D,U.U9);var X=H.LINEAR;H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,X);
H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,X)}H.activeTexture(H.TEXTURE0)};function h1(){iY.call(this,[9,7],!1,"---panels/layercomps",iY.ho.a8E);
i.P(this.Y4,"min-width:240px;");this.ZK=null;this.pQ=-1;this.Qi=[];this.Fu=i.m("div","scrollable");this.Fu.style.height="160px";
this.Y4.appendChild(this.Fu);this.JB=i.m("div","lpfoot");this.Y4.appendChild(this.JB);this.AD=[];var s=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],M=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var R=0;R<s.length;R++){var O=s[R];if(R>0)O="<img src=\""+PIMG[s[R]]+"\" class=\"miniscale gsicon\" />";
var P=new fU(O,!1,M[R]);P.k("click",this.avx,this);this.JB.appendChild(P._);this.AD.push(P)}}h1.prototype=new iY("");
h1.prototype.GK=function(s,M){i.P(this.Y4,"width:"+(s-2)+"px;");this.Fu.style.height=M-28+"px"};h1.prototype.C0=function(s){var M=new kg(z.E.H,!0);
M.data=s;M.l=$.Qx;this.a(M)};h1.aA8="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
h1.prototype.avx=function(s){var R=this.AD.indexOf(s.currentTarget)-1;if(R==-1){var M=new kg(z.E.c,!0);
M.data={Q:z.J.Mz,Pp:h1.aA8};this.a(M);return}if(R!=1)if(this.pQ==-1)return;this.C0({Q:["updLC","addLC","delLC"][R],Fa:this.pQ});
if(R==2)this.pQ=-1};h1.prototype.T=function(){iY.prototype.T.call(this);for(var R=0;R<this.AD.length;
R++)this.AD[R].T()};h1.prototype.o3=function(s){if(s==null)i.cG(this.Y4,"disabled");else i.VV(this.Y4,"disabled");
this.ZK=s;i.Lq(this.Fu);if(s==null)return;var M=s.Ru.lastAppliedComp?s.Ru.lastAppliedComp.v:0,O=s.Ru.list.v.slice(0);
O.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var R=0;R<O.length;
R++){var P=O[R].v,y=new h3(P.Nm.v,P.compID.v,P.capturedInfo.v,M,this.pQ);y.k("activate",this.UQ,this);
y.parent=this;this.Fu.appendChild(y._);this.Qi.push(y)}};h1.prototype.UQ=function(s){this.pQ=s.currentTarget.Fa;
this.o3(this.ZK)};function h3(s,R,M,O,P){hV.call(this);this.Fa=R;this._=i.m("div","head listitem"+(R==P?" selected":""));
var y=R==O,F=new fU(y?"\u2713":"\u2014");if(y)F.Mg();this._.appendChild(F._);F.k("click",this.B4,this);
var A=this.Ei=i.m("span");A.textContent=s;this._.appendChild(A);this.AD=[];if(R!=0){this._.addEventListener("mouseup",this.UQ.bind(this),!1);
this.w4=i.m("span","headR");this._.appendChild(this.w4);var h=["lrs/eye","pos","lrs/fx"],m=["Visibility","Position","Appearance"];
for(var Z=0;Z<h.length;Z++){var u=new fU("<img src=\""+PIMG[h[Z]]+"\" class=\"autoscale gsicon\" />",!1,m[Z]);
if((M>>Z&1)==0)i.P(u._,"opacity:0.3");u.k("click",this.ayt,this);this.w4.appendChild(u._);this.AD.push(u)}}}h3.prototype=new hV;
h3.prototype.UQ=function(s){if(s.target!=this.Ei&&s.target!=this._)return;if(s.detail==1)this.a(new kg("activate",!1));
else{var M=new iY.GO(this.Ei,this.Ug.bind(this))}};h3.prototype.ayt=function(s){var R=this.AD.indexOf(s.currentTarget);
this.C0({Q:"editLC",axy:R,Fa:this.Fa})};h3.prototype.Ug=function(s){this.C0({Q:"editLC",$Z:s,Fa:this.Fa})};
h3.prototype.B4=function(s){this.C0({Q:"setLC",Fa:this.Fa})};h3.prototype.C0=function(s){var M=new kg(z.E.H,!0);
M.data=s;M.l=$.Qx;this.a(M)};function e_(){iY.call(this,[9,11],!1,"---panels/navigator",iY.ho.abZ);var s=this.Y4;
i.cG(s,"padded");i.P(s,"cursor:grab;");this.Tb=i.m("canvas");s.appendChild(this.Tb);i.QP(s);i.o0(this.Tb);
i.dq(this.Tb,this.bL.bind(this));var M=i.m("div","form label6");s.appendChild(M);this.cY=new fB([8,0],2,6400,"%",null,!0);
this.cY.k(z.E.n,this.axZ,this);M.appendChild(this.cY._);this.SK=new fB([12,15],-180,180,"\xB0");this.SK.k(z.E.n,this.axZ,this);
M.appendChild(this.SK._);this.aEv=this.AF.bind(this);this.ay4=this.$$.bind(this);this.lX=null;this.aLa=null;
this.Mp=!1}e_.prototype=new iY("");e_.prototype.GK=function(s,M){this.V5=s*1.2;this.fw=M*1.2;this.gq()};
e_.prototype.axZ=function(s){var M=this.cY.V(),O=this.lX,P=M/100;if(.8<P&&P<1.2)P=1;else if(1.8<P)P=Math.round(P);
O.i.JL=this.SK.V()*Math.PI/180;var y=new kg(z.E.H,!0);y.l=$.zY;y.data={Q:"zoom",xq:P};this.a(y)};e_.prototype.bL=function(s){var M=this.lX;
if(M==null)return;this.Mp=!0;i.Qj(window,this.aEv);i.gE(window,this.ay4)};e_.prototype.AF=function(s){var M=i.iC(s,this.Tb),O=this.lX,P=O.i,y=this.Tb.width,F=this.Tb.height,A=O.A*(M.x*i.yD()-y/2)/y,h=O.$*(M.y*i.yD()-F/2)/F,m=Math.sin(P.JL),Z=Math.cos(P.JL),u=Math.round(-P.xq*(Z*A-m*h)),f=Math.round(-P.xq*(m*A+Z*h));
$.Ha.Zy(O,u,f)};e_.prototype.$$=function(s){i.GE(window,this.aEv);i.bY(window,this.ay4);this.Mp=!1};
e_.prototype.o3=function(s){if(s==null&&this.lX!=null)this.Tb.width=100;this.lX=s;this.gq()};e_.prototype.aIk=function(){var s=this.lX,M=i.yD(),O=$.Ay.EA(s.A,s.$,M*(this.V5-10),M*(this.fw-36)),P=a.a4K(s.Ta(),new gi(0,0,s.A,s.$),O);
this.aLa=[P.tG,P.S]};e_.prototype.gq=function(){var s=this.lX;if(s==null||s.i.xq==0)return;var M=s.i;
if(!i.qE(this.Y4)||this.V5==0)return;this.cY.q(M.xq*100);var O=M.JL*180/Math.PI;O=(36e5+180+O)%360-180;
this.SK.q(O);if(!this.Mp)this.aIk();var P=this.aLa[0],y=this.aLa[1],F=y.A,A=y.$,h=this.Tb;h.width=F;
h.height=A;i.cq(h,F,A);var m=this.Y4;m.style.width=this.Tb.style.width+12+"px";var Z=h.getContext("2d"),u=new ImageData(F,A);
a.jO(P,u.data);Z.putImageData(u,0,0);Z.getImageData(0,0,1,1);var f=F/s.A;Z.scale(f,f);Z.lineWidth=4/f;
Z.strokeStyle="#ff0000";var U=M.SB,C=a.b.hC(U).L;a.b.M(C,M._V(),C);Z.moveTo(C[0],C[1]);for(var R=0;R<4;
R++)Z.lineTo(C[R*2],C[R*2+1]);Z.closePath();Z.stroke()};e_.prototype.qy=function(s,M){};e_.prototype.T=function(){iY.prototype.T.call(this);
this.cY.T();this.SK.T()};e_.prototype.PN=function(){this.gq()};function cq(s,M){iY.call(this,s.name,!1,s.icon,M);
this.cC=s}cq.prototype=new iY("");cq.prototype.JD=function(){var s=this.Y4,M=this.cC;if(!i.qE(s)||this.So)return;
var O=this.So=i.m("iframe");O.setAttribute("src",M.url);this.Y4.appendChild(O)};cq.prototype.PN=cq.prototype.o3=function(){this.JD()};
cq.prototype.Dh=function(s){if(i.qE(this.So))this.So.contentWindow.postMessage(s,"*")};cq.prototype.GK=function(s,M,O){if(this.So==null)return;
var P=this.cC;if(P.url.indexOf("peasmaker")!=-1&&window.innerWidth>500)s=Math.max(s,Math.min(700,window.innerWidth-320));
if(O){P.w=s;P.h=M}if(P.w)s=Math.min(P.w,window.innerWidth-40);if(P.h)M=Math.min(P.h,window.innerHeight-50);
i.P(this.So,"width:"+s+"px; height:"+M+"px")};function hs(){iY.call(this,[9,12],!1,"---panels/tpreset",iY.ho.kK);
this.f=null;this.Lo=new bP($.pr);this.Lo.parent=this;var s=i.m("div","padded");i.P(s,"width:20em");this.Y4.appendChild(s);
s.appendChild(this.Lo.ER)}hs.prototype=new iY("");hs.prototype.PN=function(){this.Lo.cA(this.f.yp)};
hs.prototype.qy=function(s,M){this.f=s;if(M==g5.rT||M==g5.kK)this.Lo.cA(s.yp)};hs.prototype.GK=function(s,M){this.Lo.aBj(this.f.zI)};
hs.prototype.T=function(){iY.prototype.T.call(this);this.Lo.T()};var gI=function(){var s=[],M=null,O=null,P=null,y=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function F(){iY.call(this,"Memory",!1,null,iY.ho.avy);var H=i.m("div","padded");this.Y4.appendChild(H);
O=new fU(["<< VAR0",[0,13,2]],!1,null,!0);O.addEventListener("click",function(t){s.pop();h()});H.appendChild(O._);
M=i.m("div","scrollable");i.P(M,"width:20em;  height:26em; margin-top:8px;");H.appendChild(M)}F.prototype=new iY("");
F.prototype.o3=function(H,t,X){P=t;this.PN()};F.prototype.PN=function(){O.oo(!1);if(!i.qE(M))return;
var H={TD:"Total:",zD:[]};for(var R=0;R<P.length;R++)H.zD.push(Z(P[R]));if(c0!=null){var t=c0.WH,X=[],Q={TD:"Blending Buffers",zD:X};
H.zD.push(Q);for(var D in t){var L=D.split("x"),E=parseInt(L[0]),_=parseInt(L[1]),S=t[D],W=0;for(var R=0;
R<S.length;R++)W+=E*_*4*(S[R][3]>>>3);X.push({TD:S.length+"\xD7 "+E+" \xD7 "+_+" px",cW:ci.Qh?[0,W]:[W,0]})}f(Q)}var g=fo;
if(g.eu)H.zD.push({TD:"View Buffers",cW:[g.eu.length+g.CA.length,0]});f(H);s=[H];h()};F.prototype.T=function(){iY.prototype.T.call(this);
O.T()};function A(H){var t=H.currentTarget,R=0;while((t=t.previousSibling)!=null)R++;s.push(s[s.length-1].zD[R-1]);
h()}function h(){O.oo(s.length>1);var H=s[s.length-1];i.Lq(M);m(H,M,0);H.zD.sort(function(t,X){return X.cW[0]-t.cW[0]});
for(var R=0;R<H.zD.length;R++)m(H.zD[R],M,1)}function m(H,t,X){var Q=fK.si,D=X!=0&&H.zD,L="margin-left:"+X*10+"px; margin-bottom:8px; padding:3px 5px;";
if(D)L+="cursor:pointer;";if(H.VK!=null)L+="background-color:rgba("+y[H.VK].join(",")+",0.2);";var E=i.m("div");
t.appendChild(E);i.P(E,L);E.innerHTML=i.uu(H.TD)+"<br />"+"RAM: <b>"+Q(H.cW[0])+"</b>\u2001GPU: <b>"+Q(H.cW[1])+"</b>";
if(D)E.addEventListener("click",A,!1)}function Z(H){var t={TD:H.name,zD:[],VK:0},X=ci.Qh?1:0,Q=1-X,D=H.depth>>>3,L={TD:"History",zD:[],VK:5};
t.zD.push(L);for(var R=1;R<H.history.length;R++){var E=H.history[R];L.zD.push({TD:aW.get(E.name),VK:5,cW:[E.aM(),0]})}f(L);
var L={TD:"Final Image"+U(H,4,D),cW:[H.A*H.$*4*D,X*H.A*H.$*4*D],VK:2};t.zD.push(L);for(var R=0;R<H.U.length;
R++){var _=u(H.U[R],D);if(_.zD.length!=0)t.zD.push(_)}var S=H.add.lnk2;if(S)for(var R=0;R<S.length;R++){var _=S[R],W={TD:_.Zp,zD:[],VK:4},g=0;
W.zD.push({TD:"Raw file",cW:[_.raw.length,0]});if(_.EV)for(var x=0;x<_.EV.length;x+=2)g+=_.EV[x].length;
if(g!=0)W.zD.push({TD:"Decoded pixels",cW:[g*D,0]});f(W);t.zD.push(W)}f(t);return t}function u(H,t){var X={TD:H.getName(),zD:[],VK:1},Q=ci.Qh?1:0,D=1-Q,L=H.S.C();
if(L!=0)X.zD.push({TD:"Layer pixels"+U(H.S,4,t),cW:[L*4*t,Q*L*4*t]});if(H.add.lmfx&&H.aD.ZB.I){var E=H.aD.ZB.I;
for(var _ in E){var S=0;for(var W=0;W<E[_].length;W++){var g=E[_][W];if(_=="ebbl"){S+=C(g.AM);S+=C(g.x4);
S+=C(g.$d);S+=C(g.OZ)}else{S+=C(g);if(g.kb||g.Ld)S+=g.Ng.C();if(g.CF||g.nd)S+=g.Ng.C()}}if(S!=0)X.zD.push({TD:aW.get(aV.names[aV.order.indexOf(_)]),cW:[D*S*t,Q*S*t],VK:3})}var x=H.aD.mU?H.aD.mU.length:0;
if(x!=0)X.zD.push({TD:"Transparency backup",cW:[x*t,0]})}var V=H.Bl(),b=V?V.S.C():0;if(b!=0){X.zD.push({TD:"Raster Mask",cW:[b*t,0]})}var V=H.add.vmsk,b=V&&V.Xw?V.Xw.S.C():0;
if(b!=0){X.zD.push({TD:"Vector Mask",cW:[b*t,0]})}f(X);return X}function f(H){H.cW=[0,0];for(var R=0;
R<H.zD.length;R++){H.cW[0]+=H.zD[R].cW[0];H.cW[1]+=H.zD[R].cW[1]}}function U(H,t,X){return"\u2001"+H.A+"\xD7"+H.$}function C(H){if(H==null)return 0;
var t=H.tG;if(t==null)t=H.Hq;return H.Ng.C()*(t instanceof Array?1:4)}return F}();function aq(){iY.call(this,[9,14],!1,"---panels/notes",iY.ho.auQ);
i.P(this.Y4,"min-width:240px;");var s=i.m("div","padded");this.Y4.appendChild(s);this.EK=new hH("Author");
s.appendChild(this.EK._);this.PM=i.m("textarea");i.c0(this.PM);s.appendChild(this.PM);var M=new fU("<<",null,null,!0);
s.appendChild(M._);this.aC$=M;var O=new fU(">>",null,null,!0);s.appendChild(O._);M.k("click",this.n1,this);
O.k("click",this.n1,this);var P=this.agV=new df("");s.appendChild(P._)}aq.prototype=new iY("");aq.prototype.n1=function(s){var M=s.target==this.aC$?-1:1,O=this.lX,P=O.add.Anno;
if(P==null)return;var y=P.length,F=O.i.V2;O.i.V2=(F+M+y)%y;O.DI=!0;this.gq()};aq.prototype.gq=function(){var s=this.lX;
if(s==null)return;var M=s.add.Anno;if(M==null||M.length==0)return;var O=s.i.V2,P=M[O];this.PM.value=P[4];
this.agV.q(O+1+" / "+M.length);this.EK.q(P[3])};aq.prototype.GK=function(s,M){if(this.V5==s)return;this.V5=s;
M=Math.min(M,200);i.P(this.PM,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(s-10)+"px; height:"+(M-66)+"px")};
aq.prototype.o3=function(s,M,O){this.lX=s;this.gq()};function cz(){iY.call(this,[1,16,1],!1,"---tools/artb",iY.ho.aaA);
this.$r=[];this.$U=[];this.AD=[];this.oX=null;this.JB=null}cz.prototype=new iY("");cz.prototype.JD=function(){this.oX=i.m("div","padded scrollable");
i.P(this.oX,"width:260px;  height:260px");this.Y4.appendChild(this.oX);this.JB=i.m("div","lpfoot");this.Y4.appendChild(this.JB);
var s=["lrs/newlayer","lrs/bin"],M=[[15,8,2],[5,4]];for(var R=0;R<s.length;R++){var O="<img src=\""+PIMG[s[R]]+"\" class=\"miniscale gsicon\" />",P=new fU(O,!1,M[R]);
P.k("click",this.k_,this);this.JB.appendChild(P._);this.AD.push(P)}};cz.prototype.T=function(){iY.prototype.T.call(this);
if(this.oX==null)return;for(var R=0;R<this.AD.length;R++)this.AD[R].T()};cz.prototype.k_=function(s){var R=this.AD.indexOf(s.currentTarget),M=new kg(z.E.H,!0);
M.l=$.wq;M.data={Q:R==0?"new":"del"};this.a(M);if(R==0)this.aeO(this.$r.length-1)};cz.prototype.o3=cz.prototype.PN=function(s){if(s)this.$r=s.add.arts;
if(!i.qE(this.Y4))return;if(this.oX==null)this.JD();this.gq(s)};cz.prototype.D1=function(s){var R=this.$U.indexOf(s.currentTarget);
if(s.target.tagName=="BUTTON"){this.aeO(R)}var M=this.$r;for(var O=0;O<M.length;O++)M[O].Y=!1;M[R].Y=!0;
this.gq()};cz.prototype.aeO=function(R){var s=new kg(z.E.c,!0);s.data={Q:z.J.xL,Rj:"aoptions",K:this.$r[R]};
this.a(s)};cz.prototype.gq=function(){i.Lq(this.oX);var s=this.$r,M=this.D1.bind(this);this.$U=[];for(var R=0;
R<s.length;R++){var O=s[R],P=i.m("div","layeritem"+(O.Y?" selected":""));this.oX.appendChild(P);this.$U.push(P);
P.addEventListener("click",M);var y=i.m("div","head");P.appendChild(y);i.P(y,"height:24px");var F=i.m("div","headL");
y.appendChild(F);var A=i.m("div","headR");y.appendChild(A);var h=i.m("div","label");h.textContent=R+1+". "+O.TD;
F.appendChild(h);var m=new fU("Options",null,null,!0);A.appendChild(m._)}};function js(){iY.call(this,["Vector","Document"][dc]+" Info",!1,"---panels/info",iY.ho.a5S);
this.qX=i.m("div","scrollable padded form");this.Y4.appendChild(this.qX);i.P(this.qX,"width:260px;  height:200px")}js.prototype=new iY("");
js.prototype.JD=function(){if(!i.qE(this.Y4))return;var s=this.lX,M=this.hw,O=this.qX,y=0,F=0,A=0,h=0;
if(s==null)return;var P=s.td();for(var R=0;R<P.length;R++){var m=s.U[P[R]],Z=m.add.vmsk;if(Z==null)continue;
var u=Z.u;for(var f=0;f<u.length;f++){var U=u[f],C=U.I;if(6<=C)continue;if(C==0)F++;else if(C==3)y++;
else A++;if(C==0||C==3){var H=u.slice(0,2).concat(u.slice(f,f+1+U.length)),t=a.b.TM(H),Q=0;t=a.b.iz(t);
var X=a.b.QG(t),D=X.length-(C==0?0:2);for(var L=0;L<D;L+=2){var E=(L+2)%X.length,_=X[E]-X[L],S=X[E+1]-X[L+1];
Q+=Math.sqrt(_*_+S*S)}h+=Q}}}var W=M.QZ.DQ;O.innerHTML="Objects:<br/>Paths: "+(y+F)+" ("+y+" open, "+F+" closed, "+A+" points, length = "+a.f8.tp(h,s.FR,s.A,W).toFixed(3)+" "+a.f8.tR[W]+")"};
js.prototype.o3=function(s,M,O){this.lX=s;this.hw=O;this.JD()};js.prototype.PN=function(){this.JD()};
js.prototype.T=function(){iY.prototype.T.call(this)};function gQ(){iY.call(this,"Pathfinder",!1,"---set/intersection",iY.ho.Es);
var s=this.oX=i.m("div","padded");i.P(this.oX,"width:260px;  height:130px");this.Y4.appendChild(this.oX);
var M=this.AD=[],O=new df("Shape Modes:");s.appendChild(O._);i.QP(s);var P=[[18,1],[18,2],[18,3],[18,4]],y=e0.$b(["set/union","set/difference","set/intersection","set/xor"]);
P=P.concat([[15,10,22],[11,12],[18,5],[11,12,1],"Outline","Minus Back"]);for(var R=0;R<P.length;R++){var F=new fU(R<4?y[R]:P[R],null,P[R]);
M.push(F);F.k("click",this.aQ,this);s.appendChild(F._);if(R==3){i.QP(s);s.appendChild(new df("Pathfinders:")._);
i.QP(s)}}}gQ.prototype=new iY("");gQ.prototype.aQ=function(s){var R=this.AD.indexOf(s.target),M=new kg(z.E.H,!0);
M.l=$.mu;M.data={Q:ad.Es,Ns:R};this.a(M)};gQ.prototype.T=function(){iY.prototype.T.call(this);var s=this.AD;
for(var R=0;R<s.length;R++)s[R].T()};function aK(){hV.call(this);this.l=0;this.ge=null;this._=i.m("div","toolconf");
this.Lo=null;this.aKK=null;this.body=new i.m("div","body")}aK.prototype=new hV;aK.prototype.aup=function(s,M){this.l=s;
this.ge=M;if($.dz[s]){var O=this.Lo=new bP(s);this._.appendChild(O._);O.parent=this}else{this.aKK=i.m("div");
this._.appendChild(this.aKK)}this._.appendChild(this.body);this.T()};aK.prototype.LR=function(s,M){};
aK.prototype.Qc=function(s){};aK.prototype.qy=function(s,M){if(M==g5.rT||M==g5.kK)if(this.Lo)this.Lo.cA(s.yp)};
aK.prototype.MP=function(s){};aK.prototype.T=function(){if(this.Lo)this.Lo.T();else this.aKK.innerHTML=i._S(this.ge,null,"toolicon");
this.ot()};aK.prototype.ot=function(){};function jj(){aK.call(this);this.ZE=new ek;this.ZE.k(z.E.n,this.UT,this);
this.ZE.parent=this;this.body.appendChild(this.ZE._)}jj.prototype=new aK;jj.prototype.ot=function(){this.ZE.T()};
jj.prototype.UT=function(s){var M=new kg(z.E.c,!0);M.data={Q:z.J.Km,l:this.l,dh:this.ZE.abx()};this.a(M)};
jj.prototype.MP=function(s){this.ZE.a5m(s.uP)};function j_(s){aK.call(this);if(s==null)return;this.f=null;
this.NY={};if(s.indexOf("brush")!=-1&&s.indexOf("prsr")==-1)s.push("prsr");for(var R=0;R<s.length;R++){var M=s[R],O=null;
if(M=="brush"){O=new g8}if(M=="bmode"){O=new d_([12,19,0],h0.lq,h0.P1)}if(M=="bmode0"){O=new d_([12,19,0],h0.lq.slice(23))}if(M=="emode"){O=new d_([12,36],[[9,3],[10,38]])}if(M=="opacity"){O=new hQ([12,0],0,100,"%");
O.q(100)}if(M=="flow"){O=new hQ([12,63],0,100,"%");O.q(100)}if(M=="smth"){O=new hQ([19,3,0],0,100,"%");
O.q(0)}if(M=="samp"){O=new d_([12,36],[[12,25,4],[12,25,5],[12,46]])}if(M=="wconf"){O=new l0;O.q([40,!0,!0])}if(M=="sall"){O=new ho([12,25,2])}if(M=="smode"){O=new d_([12,36],[[19,7,0],[19,7,1]]);
O.q(1)}if(M=="pdetail"){O=new ho([12,65]);O.Mg()}if(M=="rng"){O=new d_([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
O.q(1)}if(M=="expo"){O=new hQ([12,5],0,100,"%");O.q(50)}if(M=="algnd"){O=new ho([12,75]);O.q(!1)}if(M=="sfrom"){O=new d_([12,70],[[17,1],[17,3],[17,0]])}if(M=="alt"){O=new d5(null,["Alt"],!0,["Select Source"])}if(M=="qsmode"){O=new e0([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(M=="redge"){O=new fU([7,11],!1,null,!0)}if(M=="sesu"){O=new fU("Select Subject",!1,null,!0)}if(M=="setop"){O=new gs}if(M=="patch"){O=new e0(null,[[12,70],[12,71]])}if(M=="strn"){O=new hQ([12,64],1,100,"%");
O.q(50)}if(M=="prsr"){O=this.NY.brush.Ig}if(M=="symm"){O=new gy}this.body.appendChild(O._);if(M=="prsr")continue;
O.parent=this;this.NY[M]=O;if(M=="brush")O.k(z.E.n,this.a4x,this);else if(M=="redge"||M=="sesu")O.k("click",kq.aCG,this);
else O.k(z.E.n,this.oH,this)}}j_.prototype=new aK;j_.prototype.LR=function(s,M){s=s[1];var O=this.NY;
if(s.Md)O.bmode.q(h0.iQ.indexOf(s.Md.v.BlnM));if(s.Opct)O.opacity.q(s.Opct.v);if(s.flow)O.flow.q(s.flow.v);
if(s.Brsh)O.brush.q(s,M.ql.nt,M.ql.hx);if(s.FrgC){var P=a.wv.sl(s.FrgC.v),y=new kg(z.E.c,!0);y.data={Q:z.J.ko,dh:g5._2,tW:0,K:P.o<<16|P.R<<8|P.X};
this.a(y)}this.a4x();this.oH()};j_.prototype.Qc=function(){if($.dz[this.l]==null)return null;var s=this.NY,M;
for(var O in $.XJ)if($.XJ[O]==this.l)M=O;var P=a.G(s.brush.V());P.classID=M;if(s.bmode)P.Md={t:"enum",v:{BlnM:h0.iQ[s.bmode.V()]}};
if(s.opacity)P.Opct={t:"long",v:s.opacity.V()};if(s.flow)P.flow={t:"long",v:s.flow.V()};var y=this.f.UC;
y={o:y>>>16,R:y>>>8&255,X:y&255};P.FrgC={t:"Objc",v:a.wv.gN(y)};return["Brush Preset "+P.Brsh.v.Dmtr.v.val,P]};
j_.prototype.ot=function(){for(var s in this.NY)this.NY[s].T()};j_.prototype.MP=function(s){if(s.ast=="showBrushOpts"){this.NY.brush.ajT(s.Uj.x,s.Uj.y)}for(var M in s.X$){var O=s.X$[M];
if(M!="qsmode")O*=100;if(this.NY[M])this.NY[M].q(O)}};j_.prototype.qy=function(s,M){aK.prototype.qy.call(this,s,M);
this.f=s;var O=this.NY.brush;if(O==null)return;if(M==g5.rT||M==g5.pr)O.cA(s.ql);if(M==g5.JZ){O.q(s.ql.ss,s.ql.nt,s.ql.hx)}};
j_.prototype.a4x=function(){var s=new kg(z.E.c,!0);s.data={Q:z.J.ko,dh:g5.JZ,tK:this.NY.brush.V()};this.a(s)};
j_.prototype.oH=function(){var s=new kg(z.E.c,!0);s.data={Q:z.J.Km,l:this.l};for(var M in this.NY){if(M=="brush"||M=="redge"||M=="symm")continue;
var O=this.NY[M].V();if(["opacity","flow","smth","expo","strn"].indexOf(M)!=-1)s.data[M]=O/100;else if(M=="bmode")s.data.bmode=h0.n$[O];
else if(M=="bmode0")s.data.bmode=h0.n$[23+O];else s.data[M]=O}this.a(s)};function kq(s,M){aK.call(this);
if(s)return;this.NY={};for(var R=0;R<M.length;R++){var O=M[R],P=null;if(O=="sesu"&&!i.PY(1))continue;
if(O=="binop")P=new gs;if(O=="feat"){P=new hQ([7,6],0,100,"px");P.q(0)}if(O=="redge")P=new fU([7,11],!1,null,!0);
if(O=="sesu")P=new fU("Select Subject",!1,null,!0);if(O=="wconf")P=new l0;if(O=="cstr")P=new iK;if(O=="anta"){P=new ho([12,25,1]);
P.q(!0)}if(O=="sall")P=new ho([12,25,2]);if(O=="redge"||O=="sesu")P.k("click",kq.aCG,this);else P.k(z.E.n,this.oH,this);
P.parent=this;this.body.appendChild(P._);this.NY[O]=P}}kq.prototype=new aK;kq.prototype.MP=function(s){var M=this.NY.cstr;
if(s.fv!=null)this.NY.binop.q(s.fv);else if(s.vn){for(var O in s.vn)if(this.NY[O])this.NY[O].q(s.vn[O])}else if(s.U6){if(M)M.iW(s.U6)}else{var P=kq.DG;
if(P==null){var y=ai.afq(!0);P=kq.DG=new kA(y.items,y.iy)}P.T();P.parent=this;P.update(s.Uc,s.f);var F=new kg(z.E.c,!0);
F.data={Q:z.J.EU,uJ:P,x:s.Tu.DE+2,y:s.Tu.kC+1};this.a(F)}};kq.prototype.ot=function(){for(var s in this.NY)this.NY[s].T()};
kq.aCG=function(s){var M=s.target==this.NY.sesu,O=new kg(M?z.E.H:z.E.c,!0);if(M){O.l=$.Sp;O.data={Q:"bgrm",K:2}}else O.data={Q:z.J.xL,Rj:"redge"};
this.a(O)};kq.prototype.oH=function(){var s=new kg(z.E.c,!0);s.data={Q:z.J.Km,l:this.l,vn:{}};for(var M in this.NY)s.data.vn[M]=this.NY[M].V();
this.a(s)};function dH(){j_.call(this,["brush","strn"])}dH.prototype=new j_;function dX(){j_.call(this,"brush bmode opacity flow smth prsr symm".split(" "))}dX.prototype=new j_;
function cu(){j_.call(this,["brush","bmode0","samp","wconf"])}cu.prototype=new j_;function hL(){j_.call(this,["brush"])}hL.prototype=new j_;
function gl(){j_.call(this,"brush bmode opacity smth prsr symm".split(" "))}gl.prototype=new j_;function dr(){j_.call(this,["brush","rng","expo"])}dr.prototype=new j_;
function kb(){j_.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}kb.prototype=new j_;function aJ(s){aK.call(this);
if(s==null)return;this.VY=[];this.a34=new fU("\u2026",!1,null,!0);if(!s)this.body.appendChild(this.a34._);
this.a34.k("click",this.kO,this);this.dm=new hV;this.dm.parent=this;var M=this.dm._=i.m("div","floatcont form"),O=[[17,0],[17,1],[11,12,0],[17,2]];
for(var R=0;R<O.length;R++){var P=new fU(O[R],!1,null,!0);this.VY.push(P);P.k("click",this.aGp,this);
if(!s||R==1)M.appendChild(P._)}this.Cb=new iK(!0);this.Cb.k(z.E.n,this.MT,this);if(!s)this.body.appendChild(this.Cb._);
this.g9=new fU([15,7,6],!1,null,!0);this.g9.k("click",this.aGp,this);if(!s)this.body.appendChild(this.g9._);
this.Fq=new ho([15,7,10]);this.Fq.k(z.E.n,this.MT,this);if(!s)this.body.appendChild(this.Fq._);this.z6=new ho([6,48,0,3]);
this.z6.k(z.E.n,this.MT,this);if(!s)this.body.appendChild(this.z6._);this.Ny=new iJ;this.Ny.k("click",this.pJ,this)}aJ.prototype=new aK;
aJ.prototype.kO=function(s){if(i.qE(this.dm._))return;var M=this.a34._.getBoundingClientRect(),O=new kg(z.E.c,!0);
O.data={Q:z.J.EU,uJ:this.dm,x:M.left,y:M.top+M.height+4};this.a(O)};aJ.prototype.ot=function(){this.Ny.T();
for(var R=0;R<this.VY.length;R++)this.VY[R].T();this.Cb.T();this.Fq.T();this.g9.T();this.z6.T()};aJ.prototype.MP=function(s){if(s.U6){this.Cb.iW(s.U6);
return}var M=this.Ny._;if(s.Xy)this.body.appendChild(M);else if(this.body.contains(M))this.body.removeChild(M);
if(s.Cb)this.Cb.q(s.Cb)};aJ.prototype.pJ=function(s){var M={Q:z.J.Km,l:this.l,IY:this.Ny.V()?"commit":"cancel"},O=new kg(z.E.c,!0);
O.data=M;this.a(O)};aJ.prototype.aGp=function(s){s.target._.blur();var M={Q:z.J.Km,l:this.l,IY:"cropby",afr:this.VY.indexOf(s.target)};
if(s.target==this.g9)M.IY="straighten";var O=new kg(z.E.c,!0);O.data={Q:z.J.KX,uJ:this.dm};this.a(O);
O.data=M;this.a(O)};aJ.prototype.MT=function(s){var M={Q:z.J.Km,l:this.l,IY:"config",vn:{jc:this.Cb.V(),um:this.Fq.V(),rV:this.z6.V()},arT:s.target==this.Cb},O=new kg(z.E.c,!0);
O.data=M;this.a(O)};function f6(){aJ.call(this,!1)}f6.prototype=new aJ;function da(){aJ.call(this,!0)}da.prototype=new aJ;
function aE(){j_.call(this,["brush","rng","expo"])}aE.prototype=new j_;function ll(){j_.call(this,"brush emode opacity flow smth prsr symm".split(" "))}ll.prototype=new j_;
function gd(){j_.call(this,["brush","samp","wconf"])}gd.prototype=new j_;function eV(){kq.call(this,!1,["binop","feat","anta","redge","cstr"])}eV.prototype=new kq(!0);
function db(){aK.call(this);var s=this.NY=[new d_([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new d_([12,70],[[17,1],[17,3],[17,0]]),new ho([12,20,1]),new ho([8,0])];
s[1].q(2);s[2].q(!0);for(var R=0;R<s.length;R++){var M=s[R];M.k(z.E.n,this.oH,this);this.body.appendChild(M._)}}db.prototype=new aK;
db.prototype.oH=function(s){var M=this.NY,O=[];for(var R=0;R<M.length;R++)O[R]=M[R].V();var P=new kg(z.E.c,!0);
P.data={Q:z.J.Km,l:this.l,vn:O};this.a(P)};db.prototype.ot=function(){for(var R=0;R<this.NY.length;R++)this.NY[R].T()};
function h9(){aK.call(this);this.wW=!1;this.E2=new fD("GrFl",!0);this.E2.parent=this;this.E2.update(null,JSON.parse(aV.d$[6]));
this.E2.k(z.E.n,this.qr,this);var s="Grad Type Md Opct Rvrs Dthr".split(" ");for(var R=0;R<s.length;
R++)this.body.appendChild(this.E2.DD[s[R]]._);this.E2.DD.Grad.a97=!1;this.kf=new fU([6,48,1],!1,null,!0);
this.kf.k("click",this.qr,this);this.body.appendChild(this.kf._)}h9.prototype=new aK;h9.prototype.ot=function(s){var s=this.wW;
this.body.children[2].style.display=s?"none":"";this.body.children[3].style.display=s?"none":"";this.E2.T();
this.kf.T()};h9.prototype.qy=function(s,M){aK.prototype.qy.call(this,s,M);var O=M==g5._2,P=this.E2.DD.Grad;
P.hz(s.UC,s.Cc);if(O||M==g5.hL||M==g5.rT)P.cA(s.Ac)};h9.prototype.qr=function(s){if(s.target==this.kf){var M=new kg(z.E.fa,!0);
M.data=$.gw.Gk(1);this.a(M);return}this.T();var M=new kg(z.E.c,!0);M.data={Q:z.J.Km,l:this.l,dh:this.E2.V()};
this.a(M)};h9.prototype.MP=function(s){this.wW=s.z;this.T();this.E2.update(null,s.dh);this.T()};function kz(){aK.call(this);
this.fN=new ho([8,7,1]);this.body.appendChild(this.fN._);this.fN.k(z.E.n,this.oH,this)}kz.prototype=new aK;
kz.prototype.oH=function(){var s={Q:z.J.Km,l:this.l,PT:this.fN.V()},M=new kg(z.E.c,!0);M.data=s;this.a(M)};
function dn(){aK.call(this);var s=i.m("span","fitem");this.body.appendChild(s);this.QW=[new hQ([12,15],-180,180,"\xB0"),new fU([1,12,2],null,null,!0)];
for(var R=0;R<this.QW.length;R++){var M=this.QW[R];M.parent=this;s.appendChild(M._);M.k(R==1?"click":z.E.n,this.Dv,this)}}dn.prototype=new aK;
dn.prototype.ot=function(){for(var R=0;R<this.QW.length;R++)this.QW[R].T()};dn.prototype.MP=function(s){var M=s.Y0*180/Math.PI;
M=(36e5+180+M)%360-180;this.QW[0].q(M)};dn.prototype.Dv=function(s){var M=this.QW.indexOf(s.target),O=new kg(z.E.c,!0);
O.data={Q:z.J.Km,l:this.l,Y0:M==1?0:s.target.V()*Math.PI/180};this.a(O)};function fq(){j_.call(this,["brush","algnd","sfrom","alt"])}fq.prototype=new j_;
function c1(){aK.call(this);this.f=null;this.HO=new fF;this.HO.parent=this;this.body.appendChild(this.HO.PP._);
this.body.appendChild(this.HO.zj._);this.body.appendChild(this.HO.vZ._);this.body.appendChild(this.HO.G1._);
var s=i.m("span","fitem");this.body.appendChild(s);s.appendChild(this.HO.amJ._);s.appendChild(this.HO.aFQ._);
s.appendChild(this.HO.aD6._);this.mR=new d_("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.mR.k(z.E.n,this.pJ,this);this.body.appendChild(this.mR._);this.M9=new d_(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.M9.k(z.E.n,this.pJ,this);this.body.appendChild(this.M9._);this.mF=new fU([11,9],!1,null,!0);this.mF.k("click",this.ar$,this);
this.body.appendChild(this.mF._);this.Ny=new iJ;this.Ny.k("click",this.pJ,this)}c1.prototype=new aK;
c1.prototype.LR=function(s,M){s=s[1];var O=s.textToolCharacterOptions.v.TxtS.v,P=s.textToolParagraphOptions.v.paragraphStyle.v,y=a.G(M.xx);
iP.vT(O,y.TY,y,72);iP.vT(P,y.Gy,y,72);var F=new kg(z.E.c,!0);F.data={Q:z.J.ko,dh:g5.B0,xx:y};this.a(F)};
c1.prototype.Qc=function(){var s={classID:"TxtS"},M={classID:"paragraphStyle"},O=this.f.xx;iP.Kb(O.TY,s,O,72);
iP.Kb(O.Gy,M,O,72);return["Horizontal Type Tool",{classID:"typeCreateOrEditTool",textToolCharacterOptions:{t:"Objc",v:{classID:"null",TxtS:{t:"Objc",v:s}}},textToolParagraphOptions:{t:"Objc",v:{classID:"null",paragraphStyle:{t:"Objc",v:M}}}}]};
c1.prototype.ot=function(){this.Ny.T();this.HO.T();this.mF.T()};c1.prototype.ar$=function(s){var M={Q:z.J.Km,l:this.l,IY:"showwarp"},O=new kg(z.E.c,!0);
O.data=M;this.a(O)};c1.prototype.MP=function(s){if(s.IY=="showactive")this.body.appendChild(this.Ny._);
if(s.IY=="hideactive")this.body.removeChild(this.Ny._);if(s.IY=="changeOther"){this.mR.q(s.We);this.M9.q([0,2,1][s.abG])}if(s.IY=="showpan"){var M=[{name:[0,1],dc:!0}],O=[{g:z.E.H,l:$.El,d:{Q:"editCurr",Eh:s.Eh}}],P=s.Tu;
if(s.aaD){M=[{name:["VAR0: VAR1",[0,5],[7,0]],dc:!0}];O=[{g:z.E.fa,d:$.vm.l4(!0)}];var y=ai.azP();M=M.concat(y[0]);
O=O.concat(y[1])}M.push({name:[11,9]});O.push({g:z.E.c,d:{Q:z.J.Km,l:this.l,IY:"showwarp"}});var F=new kA(M,O);
F.parent=this;F.T();F.update(s.Uc,s.f);var A=new kg(z.E.c,!0);A.data={Q:z.J.EU,uJ:F,x:P.DE+2,y:P.kC+1};
this.a(A)}};c1.prototype.qy=function(s,M){this.f=s;aK.prototype.qy.call(this,s,M);if(M!=g5.rT&&M!=g5.B0&&M!=g5.Ql&&M!=g5.vG)return;
this.HO.q(s.xx,s.s4,s.fL)};c1.prototype.pJ=function(s){var M={Q:z.J.Km,l:this.l,IY:this.Ny.V()?"commit":"cancel"};
if(s.target==this.mR||s.target==this.M9){M.IY="changeOther";M.We=this.mR.V();M.abG=[0,2,1][this.M9.V()]}var O=new kg(z.E.c,!0);
O.data=M;this.a(O)};function d9(){kq.call(this,!1,["binop","feat","anta","redge"])}d9.prototype=new kq(!0);
function kY(){aK.call(this);var s=[],O="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.rw=new ho([12,85]);this.rw.q(!0);this.rw.k(z.E.n,this.oH,this);s.push(this.rw._);this.GH=new d_(null,[[0,4],[0,3]]);
this.GH.k(z.E.n,this.oH,this);this.GH.q(1);s.push(this.GH._);this.r7=new ho([20,1]);this.r7.k(z.E.n,this.oH,this);
s.push(this.r7._);this.ik=new ho([12,83]);this.ik.k(z.E.n,this.oH,this);s.push(this.ik._);this.dm=new hV;
var M=this.dm._=i.m("div","floatcont form");i.P(this.dm._,"max-width: 200px;");this.dm.parent=this;this.a6P=new d_("Scale for exported files",["1x","2x","3x","4x"]);
M.appendChild(this.a6P._);this.w3=new fU(O+" PNG",!1,"Save selected layers as PNG",!0);M.appendChild(this.w3._);
this.w3.k("click",this.ji,this);this.a8p=new fU(O+" SVG",!1,"Save selected layers as SVG",!0);M.appendChild(this.a8p._);
this.a8p.k("click",this.ji,this);var P=new fU(O,!1,"Save selected layers",!0);s.push(P._);P.k("click",function(U){if(i.qE(this.dm._))return;
var C=P._.getBoundingClientRect(),H=new kg(z.E.c,!0);H.data={Q:z.J.EU,uJ:this.dm,x:C.left,y:C.top+C.height,LU:!0};
this.a(H)},this);this.LF=new hV;var y=this.LF._=i.m("div","floatcont label6");i.P(y,"max-width: 180px;");
this.LF.parent=this;this.E_=new jH("Columns",1,20);this.E_.q(4);y.appendChild(this.E_._);this.Ux=new jH("Gap",0,200,null,2,!0);
this.Ux.q(8);y.appendChild(this.Ux._);this.Ux.k(z.E.n,function(U){this.Tc.q(this.Ux.V())}.bind(this),this);
this.Tc=new jH("Vertical Gap",0,200,null,2,!0);this.Tc.q(8);y.appendChild(this.Tc._);this.Ml=new fU([2,10,1],!1,null,!0);
y.appendChild(this.Ml._);this.Ml.k("click",this.ji,this);this.a7g=new hV;var F=this.a7g._=i.m("div","floatcont label6");
i.P(F,"max-width:180px");this.a7g.parent=this;this.a5B=new d_("Align to",["Selection","Canvas"]);this.a5B.q(0);
F.appendChild(this.a5B._);var A=i.m("span","fitem");s.push(A);var h=i.m("span","fitem");s.push(h);this.AD=[];
for(var R=0;R<8;R++){var m=R==3||R==7?[20,4,6]:[20,4,R<3?R:R-1],Z=new fU("Hi",!1,m);(R<4?A:h).appendChild(Z._);
Z.k("click",this.ji,this);this.AD.push(Z)}var u=this.V8=new fU("...");h.appendChild(u._);u.k("click",function(U){if(i.qE(this.LF._))return;
var C=u._.getBoundingClientRect(),H=new kg(z.E.c,!0);H.data={Q:z.J.EU,uJ:this.a7g,x:C.left,y:C.top+C.height,LU:!0};
this.a(H)},this);var f=this.ase=new fU("Hi",!1,"Align to a Grid");s.push(f._);f.k("click",function(U){if(i.qE(this.LF._))return;
var C=f._.getBoundingClientRect(),H=new kg(z.E.c,!0);H.data={Q:z.J.EU,uJ:this.LF,x:C.left,y:C.top+C.height,LU:!0};
this.a(H)},this);for(var R=0;R<s.length;R++)this.body.appendChild(s[R]);this.a4A=s}kY.prototype=new aK;
kY.prototype.MP=function(s){var M=s.uP,O=s.aAz;this.rw.q(M.Vm);this.r7.q(M.qF);this.ik.q(M.MM);if(O){i.Lq(this.body);
for(var R=0;R<O.length;R++)if(O[R]==1&&this.a4A[R])this.body.appendChild(this.a4A[R])}};kY.prototype.ji=function(s){var M=this.AD.indexOf(s.target),O;
if(M!=-1||s.target==this.Ml){O=new kg(z.E.H,!0);O.l=$.ht;O.data={Q:"algn",K:M==-1?8:M,azH:this.a5B.V(),cols:this.E_.V(),ajk:this.Ux.V(),alw:this.Tc.V()}}else{O=new kg(z.E.c,!0);
O.data={Q:z.J.Km,l:this.l,tW:s.target==this.w3?"getPNG":"getSVG",Mb:this.a6P.V()+1}}this.a(O)};kY.prototype.oH=function(s){var M=new kg(z.E.c,!0);
M.data={Q:z.J.Km,l:this.l,tW:"prms",Vm:this.rw.vy(),avp:this.GH.V(),qF:this.r7.vy(),MM:this.ik.vy()};
this.a(M)};kY.prototype.ot=function(){this.rw.T();this.GH.T();this.r7.T();this.ik.T();var s="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var R=0;R<8;R++){this.AD[R].x3(i._S("align/"+s[R],null,"autoscale"))}this.ase.x3(i._S("split/vh",null,"autoscale"));
this.E_.T();this.Ux.T();this.Tc.T();this.Ml.T()};function hG(){kq.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}hG.prototype=new kq(!0);
function fA(){j_.call(this,["setop","patch"])}fA.prototype=new j_;function iw(){j_.call(this,["setop"])}iw.prototype=new j_;
function fy(s){var M=s==$.a2u?[]:["bmode"];j_.call(this,M.concat(["opacity","wconf","sall"]))}fy.prototype=new j_;
function io(){kq.call(this,!1,["binop","feat","anta","redge"])}io.prototype=new kq(!0);function kE(){kq.call(this,!1,["binop","feat","anta","redge"])}kE.prototype=new kq(!0);
function jX(){kq.call(this,!1,["binop","feat","redge","cstr"])}jX.prototype=new kq(!0);function iG(){aK.call(this);
this.f=null;this.d5=null;this.ec=!0;this.OR=[new hH("X",null,3.2,null,!0),new hH("Y",null,3.2,null,!0),new hH("W",null,3.2,null,!0),new hH("H",null,3.2,null,!0),new hH("a","\xB0",3.7,null,!0),new hH("l",null,3.5,null,!0),new hH("l",null,3.5,null,!0),new ho("Use custom units:"),new fU("Define Unit",!1,null,!0),new fU([15,7,6],!1,null,!0),new fU([2,2],!1,null,!0)];
this.OR[7]._.style.marginRight="0px";for(var R=0;R<this.OR.length;R++){var s=this.OR[R];this.body.appendChild(s._);
if(R>6)s.k(R==7?z.E.n:"click",this.$Y,this)}this.SK=0}iG.prototype=new aK;iG.prototype.$Y=function(s){var M=this.OR.indexOf(s.target),O=new kg(z.E.H,!0),P=this.d5;
if(M==7){this.MP(P);return}if(M==8){if(this.ec){alert("Draw a line for the new unit");return}this.OR[7].q(!0);
var y=new kg(z.E.c,!0);y.data={Q:z.J.xL,Rj:"measscale",fj:j6.gp(P.aEU,P.NU)};this.a(y);return}if(M==9){if(this.SK==0)return;
O.l=$.wO;O.data={Q:"rot",SD:[2,5],K:-this.SK}}if(M==10){O.l=$.uL;O.data={Q:"reset"};this.ec=!0;for(var R=0;
R<6;R++)this.OR[R].q(null)}this.a(O)};iG.prototype.MP=function(s){function M(Z,u,f){var U=j6.gp(Z,u),C=j6.gp(u,f),H=j6.gp(Z,f);
return Math.acos((C*C+U*U-H*H)/(2*C*U))}if(s==null)return;this.d5=s;var O=s.aEU,P=s.NU,y=P.x-O.x,F=P.y-O.y;
this.SK=-Math.atan2(F,y);if(s.S5)this.SK=M(P,O,s.S5);var A=this.OR;A[0].q(this.Yc(s,O.x));A[1].q(this.Yc(s,O.y));
A[2].q(this.Yc(s,y));A[3].q(this.Yc(s,F));A[4].q((this.SK*180/Math.PI).toFixed(2));A[5].q(this.Yc(s,j6.gp(O,P)));
this.ec=O.s0(P);if(s.S5){A[6].q(this.Yc(s,j6.gp(O,s.S5)))}else A[6].q("");A[8].x3("Define");var h=s.Hx;
if(h){var m=h.T.v;A[8].x3(m.logicalUnits.v)}};iG.prototype.Yc=function(s,M){var O=this.d5.Hx,P;if(O&&this.OR[7].V()){var y=O.T.v;
P=M*y.logicalLength.v/y.pixelLength.v}else P=a.f8.mE(M,s.FR,this.f,s.ahe,!1);return parseFloat(P).toFixed(2)};
iG.prototype.qy=function(s,M){this.f=s;this.MP(this.d5)};iG.prototype.ot=function(){var s=this.OR;for(var R=0;
R<s.length;R++)s[R].T();s[4].x3(aW.get([12,15]).slice(0,1)+":");var M=aW.get([12,80,0]).slice(0,1);s[5].x3(M+"1:");
s[6].x3(M+"2:");i.w7(s[2],s[3])};function b1(){j_.call(this,["brush","strn","pdetail"])}b1.prototype=new j_;
function jh(){j_.call(this,["brush","sfrom"]);this.anU=[];var s=[[7,12]];for(var R=0;R<s.length;R++){var M=new fU(s[R],!1,null,!0);
this.anU.push(M);M.parent=this;this.body.appendChild(M._);M.k("click",this.a1Y,this)}}jh.prototype=new j_;
jh.prototype.a1Y=function(s){var M=new kg(z.E.fa,!0);M.data=$.am.Gk("contentAware");this.a(M)};function kO(){j_.call(this,["brush","strn"])}kO.prototype=new j_;
function jc(){j_.call(this,["brush","flow","smode"])}jc.prototype=new j_;function gT(){aK.call(this);
this.or=!1;var s=i.m("span","fitem");this.body.appendChild(s);this.Wz=new e0(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
s.appendChild(this.Wz._);this.Wz.k(z.E.n,this.oH,this);this.nz=new fU([20,2]);this.body.appendChild(this.nz._);
this.nz.k("click",this.asW,this);this.ahc=new fU([20,3]);this.body.appendChild(this.ahc._);this.ahc.k("click",this.asW,this);
this.fN=new ho([8,7,1]);this.body.appendChild(this.fN._);this.fN.k(z.E.n,this.oH,this)}gT.prototype=new aK;
gT.prototype.ot=function(){this.nz.T();this.ahc.T()};gT.prototype.oH=function(){var s={Q:z.J.Km,l:this.l,rv:this.Wz.V()==0,PT:this.fN.V()},M=new kg(z.E.c,!0);
M.data=s;this.a(M)};gT.prototype.MP=function(s){if(this.or!=s.or)this.Wz.q(1-this.Wz.V());this.or=s.or};
gT.prototype.asW=function(s){var M=new kg(z.E.H,!0);M.l=$.zY;M.data={Q:"adapt",K:s.target==this.nz?"pixel":"fitscr"};
this.a(M)};function hT(s,M){aK.call(this);if(s==null)return;this.o8=s;this.JV={};this.aHq=M;for(var R=0;
R<s.length;R++){var O=s[R],P=null;if(O=="vmode"||O=="pmode"){P=new d_(null,[[12,76,1],[12,76,0],[12,76,2]]);
P.q(O=="vmode"?0:1);if(M)P.a3t(2)}if(O=="make"){P=new e0("Make",[[17,2],[12,76,1]],null,!0)}if(O=="anta"){P=new ho([12,25,1]);
P.q(!0)}if(O=="binop"){P=new d_(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(O=="pshape")P=new d_(null,[[12,93,0],[12,93,1],[12,93,4],[8,4],[12,93,2]]);
if(O=="shape")P=new ez([12,76,1]);if(O=="crad"){P=new hQ([12,94,0],0,50,"px");P.q(0)}if(O=="cstr"){P=new iK}if(O=="irad"){P=new hQ([12,94,1],0,100,"%");
P.q(40)}if(O=="length"){P=new hQ([12,80,0],4,40);P.q(4)}if(O=="sides"){P=new hQ([12,78],3,30);P.q(5)}if(O=="width"){P=new hQ([12,41],0,100,"px");
P.q(5)}if(O=="tolr"){P=new hQ([12,24],0,100);P.q(5)}if(O=="fstyle"){P=new fh([12,26])}if(O=="sstyle"){P=new dW}if(O=="psnap"){P=new ho([8,10])}if(O=="crnr"){P=new fU("\u2312",!1,[12,94,0],!0)}if(O=="aopts"){P=new ji;
P.q([!1,!1,50,60,0])}if(O=="smplp"){P=new fU([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}if(O=="rows"){P=new hQ("Rows",1,20);
P.q(3)}if(O=="cols"){P=new hQ("Columns",1,20);P.q(4)}if(O=="brdr"){P=new hQ([7,9],1,20);P.q(8)}P.parent=this;
this.body.appendChild(P._);this.JV[O]=P;P.k(O=="crnr"||O=="smplp"?"click":z.E.n,this.oH,this)}}hT.prototype=new aK;
hT.prototype.MP=function(s){var M=this.JV.cstr;if(s.fv!=null)this.JV.binop.q(s.fv);else if(s.tW=="vals")for(var O in s.aor)this.JV[O].q(s.aor[O]);
else if(s.U6){if(M)M.iW(s.U6)}else{var P=hT.DG,y=function(A){return{e:A!=null&&A.Y7(!1)}};if(P==null)P=hT.DG=new kA([{name:"Remove Anchor Point",e:function(A){var h=A?A.Iv():null;
return{e:A&&h[1].length!=0&&h[0][h[1][0]].add.vmsk.MO.length!=0}}},{name:"Remove Path",e:function(A){var h=A?A.Iv():null;
return{e:A&&h[1].length!=0&&h[0][h[1][0]].add.vmsk.Y.length!=0}},dc:!0},{name:"Make Selection"},{name:[2,3],e:y},{name:[14,9],e:y}],[{g:z.E.H,l:$.Wt,d:{Q:"remove",r4:!0}},{g:z.E.H,l:$.WU,d:{Q:"remove"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"makesel"}},{g:z.E.fa,d:$.Y8.xS(null)},{g:z.E.c,d:{Q:z.J.xL,Rj:"strokepath"}}]);
P.parent=this;P.update(s.Uc,s.f);var F=new kg(z.E.c,!0);F.data={Q:z.J.EU,uJ:P,x:s.Tu.DE+2,y:s.Tu.kC+1};
this.a(F)}};hT.prototype.ajn=function(R){return null};hT.prototype.ot=function(){for(var s in this.JV){this.JV[s].T()}};
hT.prototype.oH=function(s){var M=new kg(z.E.c,!0),O=this.JV;if(s.target==O.crnr){M=new kg(z.E.H,!0);
M.l=$.Wt;M.data={Q:"crnr"}}else if(s.target==O.smplp){M=new kg(z.E.H,!0);M.l=$.WU;M.data={Q:"smplp"}}else if(s.target==O.make){var R=s.target.V();
console.log(R);if(R==0)M.data={Q:z.J.xL,Rj:"makesel"};else{M=new kg(z.E.H,!0);M.l=$.BI;M.data={Q:"newfill",VK:0}}}else if(s.target==O.fstyle){M.data={Q:z.J.ko,dh:g5.IB,K:O.fstyle.V()}}else if(s.target==O.sstyle){M.data={Q:z.J.ko,dh:g5.pj,K:O.sstyle.V()}}else if(s.target==O.vmode||s.target==O.pmode){M.data={Q:z.J.ko,dh:s.target==O.vmode?g5.sp:g5._X,K:s.target.V()}}else{if(O.pshape)this.Xe();
M.data={Q:z.J.Km,l:this.l};for(var P in O)M.data[P]=O[P].V()}this.a(M)};hT.prototype.Xe=function(){var s=this.JV,M=(s.vmode?s.vmode:s.pmode).V(),O=s.pshape?this.ajn(s.pshape.V()):this.o8,P;
if(M==0)P=["anta","make"];if(M==1)P=["anta","fstyle","sstyle"];if(M==2)P=["make","binop","fstyle","sstyle"];
var y=s.binop;if(y){var F=y.V();if(M==0){y.arS(0)}else{y.a3t(0);if(F==0){y.q(1);this.oH({target:y})}}}i.Lq(this.body);
for(var R=0;R<O.length;R++){var A=O[R];if(P.indexOf(A)!=-1)continue;this.body.appendChild(s[A]._)}};
hT.prototype.qy=function(s,M){aK.prototype.qy.call(this,s,M);var O=this.JV.fstyle,P=this.JV.sstyle,y=this.JV.vmode,F=this.JV.pmode;
if(O)O.qy(s,M);if(P)P.qy(s,M);if(M==g5.rT||M==g5.VE)if(s.nu.length!=0&&this.JV.shape){this.JV.shape.cA(s.nu)}if(M==g5.rT||M==g5.IB)if(O)O.q(null,s.Zb,s.aBv);
if(M==g5.rT||M==g5.pj)if(P)P.q(null,s.fe,s.aKg);if(M==g5.rT||M==g5.sp||M==g5._X){var A=s.IP,h=s.va;if(this.aHq&&h==2)h=0;
if(y){y.q(A);this.Xe()}if(F){F.q(h);this.Xe()}}};function hu(){hT.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}hu.prototype=new hT;
function gk(){hT.call(this,"pmode make anta fstyle sstyle binop".split(" "))}gk.prototype=new hT;function iv(){hT.call(this,["fstyle","sstyle","smplp"]);
this.awP=null;this.az7=null;this.a07=null;this.lL=new d_([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.Mp=new fU("\u25BC");this.Mp.Mg();this.avb=new fU("\u25B2");this.avb.Mg();this.a0n=[this.lL,this.Mp,this.avb];
for(var R=0;R<this.a0n.length;R++){var s=this.a0n[R];this.body.appendChild(s._);s.parent=this;s.k(R==0?z.E.n:"click",this.qP,this)}}iv.prototype=new hT;
iv.prototype.MP=function(s){if(s.IY=="main"){var M=this.a0n,O=s.Va;if(O){this.az7=O.v();this.a07=JSON.stringify(s.cV);
var P=O.Y.slice(0),y=P.length;for(var R=0;R<P.length;R++)P[R]++;P.sort(function(m,Z){return m-Z});M[0].Zc();
M[1].oo(y!=0);M[2].oo(y!=0);M[0].x3(y==0?"No Paths":y==1?"Path "+P[0]:"Paths "+P.slice(0,3).join(",")+(y>3?"..":""));
if(y!=0){var F=O.Y[0],A=a.z.AS(O.u,F),h=O.u[A];this.lL.q([3,0,1,2][h.VF])}}else for(var R=0;R<M.length;
R++)M[R].XX()}else hT.prototype.MP.call(this,s)};iv.prototype.ot=function(){hT.prototype.ot.call(this);
this.lL.T()};iv.prototype.qP=function(s){if(s.target==this.lL||s.target==this.Mp||s.target==this.avb){var M={},O=this.az7,P=O.u,y=O.Y,F=a.z._i(P),A=JSON.parse(this.a07);
y.sort(function(D,L){return D-L});if(s.target==this.lL){var h=this.lL.V();if(h<4)for(var R=0;R<y.length;
R++)P[a.z.AS(P,y[R])].VF=[1,2,3,0][h];else{if(F<=1)return;O.u=a.z.Vn(P);O.Y=O.u.length==2?[]:[0];O.MO=[];
A=[a.cV.li()]}}else{var m=s.target==this.Mp?-1:1,Z=[];for(var R=0;R<F;R++){var u=a.z.AS(P,R),f=u+1+P[u].length;
Z.push(P.slice(u,f))}var U=y.slice(0);for(var R=0;R<y.length;R++)U[R]=Math.max(R,Math.min(F-1-(y.length-1-R),U[R]+m));
if(y.join(",")==U.join(","))return;var C=a.G(A);for(var R=0;R<y.length;R++){var H=m==-1?R:y.length-1-R,u=y[H],f=U[H];
if(u!=f){var t=Z[u];Z[u]=Z[f];Z[f]=t;t=C[u];C[u]=C[f];C[f]=t}}var X=P.slice(0,2);for(var R=0;R<Z.length;
R++)X=X.concat(Z[R]);O.u=X;O.Y=U;A=C}M.Va=O;M.cV=A;var Q=new kg(z.E.c,!0);Q.data={Q:z.J.Km,l:this.l,ZN:M};
this.a(Q)}};function dZ(){hT.call(this,["fstyle","sstyle","crnr","psnap"])}dZ.prototype=new hT;function kV(){hT.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}kV.prototype=new hT;
function ib(){hT.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}ib.prototype=new hT;
function af(){hT.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length rows cols brdr".split(" "));
this.JV.aopts.q([!1,!0,50,60,0])}af.prototype=new hT;af.prototype.ajn=function(R){var s=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["rows","cols","brdr"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(s[R])};function e7(){hT.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}e7.prototype=new hT;
function aR(){hT.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}aR.prototype=new hT;
function dh(){kq.call(this,!1,["binop","feat","redge","sesu"])}dh.prototype=new kq(!0);function aH(){j_.call(this,["brush","qsmode","redge","sesu"])}aH.prototype=new j_;
function k$(){aK.call(this);this.Z7=[new iK,new fU([8,11,3],null,null,!0),new fU(["VAR0...",[15,10,22]],null,null,!0)];
for(var R=0;R<3;R++){var s=this.Z7[R];s.k(R==0?z.E.n:"click",this.qP,this);this.body.appendChild(s._)}}k$.prototype=new aK;
k$.prototype.qP=function(s){var M=new kg(z.E.c,!0),O=this.Z7.indexOf(s.target);if(O==0){M.data={Q:z.J.Km,l:this.l,Cb:s.target.V()}}else if(O==1){M=new kg(z.E.fa,!0);
M.data={Cw:"make",kT:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{M.data={Q:z.J.xL,Rj:"divslice"}}this.a(M)};
k$.prototype.ot=function(s){for(var R=0;R<this.Z7.length;R++)this.Z7[R].T()};function as(){aK.call(this);
var s=this.kW=[new fU("\u25BC",null,null,!0),new fU("\u25B2",null,null,!0),new fU([5,4],null,null,!0),new fU(["VAR0...",[15,10,22]],null,null,!0)];
for(var R=0;R<4;R++){var M=s[R];this.body.appendChild(M._);M.k("click",this.qP,this)}}as.prototype=new aK;
as.prototype.qP=function(s){var M=this.kW.indexOf(s.target),O;if(M==3){O=new kg(z.E.c,!0);O.data={Q:z.J.xL,Rj:"divslice"}}else{O=new kg(z.E.H,!0);
O.l=$.bj;O.data={Q:M==2?"delete":"reorder",dir:M==0?-1:1}}this.a(O)};as.prototype.T=function(){aK.prototype.T.call(this);
for(var R=0;R<4;R++)this.kW[R].T()};function cA(s,M){aK.call(this);if(window.Typr==null||s)return;this.aLx=M;
this.tz=null;this.aBk=i.m("span","");this.aCq=i.m("span","");var O=1,P=this._w={xC:new dT(null,24),tJ:new hQ("X",0,0,"px",0,!1,!0,4),fI:new hQ("Y",0,0,"px",0,!1,!0,4),xj:new hQ("W",0,0,["%","px"],2,!1,!0,5),_n:new fU("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),Bd:new hQ("H",0,0,["%","px"],2,!1,!0,5),aqi:new hQ("\u2221",0,0,"\xB0",O,!1,!0),am2:new hQ("\u25B1 H",-85,85,"\xB0",O,!1,!0),a7t:new hQ("\u25B1 V",-85,85,"\xB0",O,!1,!0),T5:new d_(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),auG:new d_("Protect",[])};
P.T5.q(1);P._n.q(!0);for(var y in P){var F=P[y],A=!0;if(M&&(F==P.aqi||F==P.am2||F==P.a7t||F==P.T5))A=!1;
if(!M&&F==P.auG)A=!1;if(A)this.aBk.appendChild(F._);var h=F==P._n?"click":z.E.n;F.k(h,this.aDq,this)}this.bn=new e0("Split",e0.$b(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.bn.q(-1);this.bn.k(z.E.n,this.a9W,this);this.Hw=new b$(!0,!0,!0);this.Hw.k(z.E.n,this.a9W,this);
this.Hw.parent=this;var m=this.aCq,Z=this.Hw;m.appendChild(this.bn._);m.appendChild(Z.MH._);m.appendChild(Z.HI._);
m.appendChild(Z.y0._);m.appendChild(Z.Py._);m.appendChild(Z.v2._);this.mF=new fU([11,9]);this.mF.k("click",this.awk,this);
this.Ny=new iJ;this.Ny.k("click",this.pJ,this)}cA.prototype=new aK;cA.prototype.MP=function(s){if(s.Tu){var M=cA,O=this.DG;
if(O==null)O=this.DG=new kA(M.BV(),M.CB(this.l));O.T();O.parent=this;O.update(s.Uc,s.f);var P=new kg(z.E.c,!0);
P.data={Q:z.J.EU,uJ:O,x:s.Tu.DE+2,y:s.Tu.kC+1};this.a(P);return}i.Lq(this.body);this.tz=s;var y=this._w;
if(s._w){var F=s._w.Iz,A=s._w.pO.v(),h=-Math.atan2(-A.X,A.cd),m=new kp;m.rotate(h);A.concat(m);y.xC.q(s._w.a87);
y.tJ.q(s._w.gB.x);y.fI.q(s._w.gB.y);y.xj.q(A.cd*(y.xj.b0()=="%"?100:F.A));y.Bd.q(A.zv*(y.Bd.b0()=="%"?100:F.$));
y.aqi.q(h*180/Math.PI);y.am2.q(Math.atan(A.xN/A.zv)*180/Math.PI);y.a7t.q(0*180/Math.PI);this.body.appendChild(this.aBk);
this.mF.Hv();if(s._w.vl!=null)y._n.q(s._w.vl)}if(s.a4){if(s.amM)this.bn.q(-1);this.Hw.q(s.a4);this.body.appendChild(this.aCq);
this.mF.Mg()}if(s.dj)y.auG.ZG(s.dj);if(s.aCx&&!this.aLx)this.body.appendChild(this.mF._);this.body.appendChild(this.Ny._);
y.T5._.style.display=s.ayU?"":"none"};cA.prototype.aDq=function(s){var M=this._w,O=this.tz._w.Iz,P=M.xC.V();
if(s.target==M._n)M._n.q(!M._n.V());else if(M._n.vy()){var y=M.Bd,F=M.xj,A=O.$,h=O.A;if(s.target==M.xj){y=M.xj;
F=M.Bd;A=O.A;h=O.$}var m=y.V()/(y.b0()=="%"?100:A);m*=F.b0()=="%"?100:h;F.q(m)}var Z=[];for(var u in M)if(M[u]!=M._n&&M[u]!=M.xC){var m=M[u].V();
if((M[u]==M.xj||M[u]==M.Bd)&&m==0){m=.1;M[u].q(m)}if(M[u]==M.xj&&M[u].b0()=="px")m/=O.A/100;if(M[u]==M.Bd&&M[u].b0()=="px")m/=O.$/100;
Z.push(m)}var f=new j6(Z[0],Z[1]);if(s.target==M.xC){this.DY({IY:"ctyp",a87:P})}else if(s.target==M.tJ||s.target==M.fI){this.DY({IY:"cen",gB:f})}else{var U=this.tz._w.pO.v(),C=Math.atan2(-U.X,U.cd);
U.translate(-f.x,-f.y);U.rotate(-C);var H=new kp(U.cd,U.X,U.xN,U.zv,0,0);H.or();U.concat(H);var t=Z[2]/100,X=Z[3]/100;
U.concat(new kp(t,t*Math.tan(Z[6]*Math.PI/180),X*Math.tan(Z[5]*Math.PI/180),X,0,0));U.rotate(-Z[4]*Math.PI/180);
U.translate(f.x,f.y);this.tz._w.pO=U;this.DY({IY:"trn",_w:U,A4:M.T5.V(),DJ:M.auG.V(),vl:M._n.V()})}};
cA.prototype.a9W=function(s){var M=this.bn;this.DY(s.target==M?{IY:"splt",K:M.V()}:{IY:"wrp",a4:this.Hw.V()})};
cA.prototype.awk=function(s){this.DY({IY:"switchWarp"})};cA.prototype.pJ=function(s){this.DY({IY:this.Ny.V()?"commit":"cancel"})};
cA.prototype.DY=function(s){s.Q=z.J.Km;s.l=this.l;var M=new kg(z.E.c,!0);M.data=s;this.a(M)};cA.prototype.ot=function(){var s=this._w;
for(var M in s)s[M].T();i.w7(s.xj,s.Bd);this.Ny.T();this.bn.T();this.Hw.T();this.mF.T()};cA.BV=function(){var s=function(M){var O=!0;
if(M==null||M.Y.length==0)O=!1;else{var P=M.Y;for(var R=0;R<P.length;R++){if(M.U[P[R]].add.TySh)O=!1}}return{e:O}};
return[{name:[5,9],RU:"Shift+Alt+Ctrl + T",dc:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],e:s},{name:[2,9],e:s,dc:!0},{name:[11,9],e:function(M){if(M==null||M.Y.length!=1)return{e:!1};
var O=M.U[M.Y[0]];return{e:O.add.TySh==null&&!O.ES()}},dc:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
cA.CB=function(s){if(s==null)s=$.wO;return[{g:z.E.H,l:s,d:{Q:"again"}},{g:z.E.c,d:{Q:z.J.LT,l:s,uP:{Eq:3}}},{g:z.E.c,d:{Q:z.J.LT,l:s,uP:{Eq:4}}},{g:z.E.c,d:{Q:z.J.LT,l:s,uP:{Eq:5}}},{g:z.E.c,d:{Q:z.J.LT,l:s,uP:{Eq:2}}},{g:z.E.c,d:{Q:z.J.LT,l:s,uP:{Eq:1}}},{g:z.E.c,d:{Q:z.J.LT,l:s,uP:{Eq:-1}}},{g:z.E.fa,d:$.TR.v$(!0,90,!0)},{g:z.E.fa,d:$.TR.v$(!0,-90,!0)},{g:z.E.fa,d:$.TR.v$(!0,-180,!0)},{g:z.E.fa,d:$.TR.v$(!1,"Hrzn",!0)},{g:z.E.fa,d:$.TR.v$(!1,"Vrtc",!0)}]};
function eW(){cA.call(this)}eW.prototype=new cA(!0);function jb(){cA.call(this)}jb.prototype=new cA(!0);
function jU(){cA.call(this,!1,!0)}jU.prototype=new cA(!0);function aQ(){aK.call(this);var s=this.o8=[new d_([12,36],["Rigid",[15,10,0],[24,4]]),new d_([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new hQ([7,4],0,100,"px"),new ho("Show Mesh"),new fU("\u25BC",null,null,!0),new fU("\u25B2",null,null,!0)];
for(var R=0;R<s.length;R++){var M=s[R];M.parent=this;this.body.appendChild(M._);M.k(R<4?z.E.n:"click",this.G6,this)}this.Ny=new iJ;
this.Ny.k("click",this.pJ,this);this.body.appendChild(this.Ny._)}aQ.prototype=new aK;aQ.prototype.ot=function(){var s=this.o8;
for(var R=0;R<4;R++)s[R].T();this.Ny.T()};aQ.prototype.MP=function(s){var s=s.dh;for(var R=0;R<4;R++)this.o8[R].q(s[R])};
aQ.prototype.G6=function(s){var M=[];for(var R=0;R<4;R++)M[R]=this.o8[R].V();var O=this.o8.indexOf(s.target);
if(O<4)this.DY({IY:"prm",dh:M});else this.DY({IY:"moveDepth",aih:O==5})};aQ.prototype.pJ=function(s){this.DY({IY:this.Ny.V()?"commit":"cancel"})};
aQ.prototype.DY=function(s){s.Q=z.J.Km;s.l=this.l;var M=new kg(z.E.c,!0);M.data=s;this.a(M)};function bV(){aK.call(this);
this.f5=new e0(null,["Layout","Warp"]);this.f5.k(z.E.n,this.G6,this);this.body.appendChild(this.f5._);
this.Ny=new iJ;this.Ny.k("click",this.pJ,this);this.body.appendChild(this.Ny._)}bV.prototype=new aK;
bV.prototype.ot=function(){var s=this.o8;this.Ny.T()};bV.prototype.MP=function(s){this.f5.q(s.dh)};bV.prototype.G6=function(s){this.DY({dh:this.f5.V()})};
bV.prototype.pJ=function(s){this.DY({IY:this.Ny.V()?"commit":"cancel"})};bV.prototype.DY=function(s){s.Q=z.J.Km;
s.l=this.l;var M=new kg(z.E.c,!0);M.data=s;this.a(M)};function cr(){aK.call(this);this.o8=null;this.W0=new d_([12,44],["","","","",""]);
this.W0.k(z.E.n,this.oH,this);this.body.appendChild(this.W0._);this.t2=new ho("ON");this.t2.k(z.E.n,this.oH,this);
this.body.appendChild(this.t2._);var s=hQ;this.pL=[[new s([24,2],0,500)],[new s([24,2],0,500)],[],[new s([24,2],0,500)],[new s("Speed",0,500,"%"),new s("Point Speed",0,500,"px")],[new s([12,15],0,360,"\xB0",null,!0)]];
for(var R=0;R<6;R++)for(var M=0;M<this.pL[R].length;M++){var O=this.pL[R][M];O.parent=this;O.k(z.E.n,this.oH,this)}this.Ny=new iJ;
this.Ny.k("click",this.oH,this)}cr.prototype=new aK;cr.prototype.MP=function(s){var M=this.o8=s.dh,O=M[0];
this.azn();this.T()};cr.prototype.oH=function(s){var M=this.o8,O=M[0],P=s.target,y=P.V();if(P==this.Ny){}else if(P==this.W0){O=M[0]=y<2?y:y+1;
this.azn(O);M[2]=null}else if(P==this.t2){M[1][O]=y;M[2]=null;this.T()}else{var F=this.pL[O];for(var A=0;
A<F.length;A++)M[2][A]=F[A].V()}var h=new kg(z.E.c,!0);h.data={Q:z.J.Km,l:this.l,dh:M};if(P==this.Ny)h.data.IY=y?"commit":"cancel";
this.a(h)};cr.prototype.azn=function(){var s=this.body,M=this.o8,O=M[0];this.W0.q(O<2?O:O-1);this.t2.q(M[1][O]);
while(s.children.length>2)s.removeChild(s.lastChild);var P=this.pL[O];for(var R=0;R<P.length;R++){P[R].oo(M[2]!=null);
if(M[2]!=null)P[R].q(M[2][R]);s.appendChild(P[R]._)}s.appendChild(this.Ny._)};cr.prototype.T=function(){var s=[],M=this.o8,O=this.W0;
for(var R=0;R<5;R++){var P=[24,3,12,R];if(M)P=(M[1][R<2?R:R+1]?"\u2713 ":"\u2002\u2002")+aW.get(P);s.push(P)}var y=O.V();
O.ZG(s);O.q(y);var F=this.pL;for(var R=0;R<6;R++){var A=F[R];for(var h=0;h<A.length;h++)A[h].T()}};function hi(){aK.call(this);
var s=this.NY=[new d_([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var R=0;R<s.length;R++){var M=s[R];
M.k(z.E.n,this.oH,this);this.body.appendChild(M._)}}hi.prototype=new aK;hi.prototype.oH=function(s){var M=this.NY,O=[];
for(var R=0;R<M.length;R++)O[R]=M[R].V();var P=new kg(z.E.c,!0);P.data={Q:z.J.Km,l:this.l,vn:O};this.a(P)};
hi.prototype.ot=function(){for(var R=0;R<this.NY.length;R++)this.NY[R].T()};function gc(){kq.call(this,!1,["binop"]);
this.ze=new fU("Remove",!1,null,!0);this.ze.k("click",this.aQ,this);this.ze._.style.marginRight="2em";
this.G$=new hH("New content");this.wt=new l4;this.wt.parent=this;this.pX=new fU([18,0],!1,null,!0);this.pX.k("click",this.aQ,this);
this.aw0=new fU("Undo",!1,null,!0);this.aw0.k("click",this.aQ,this);this.au$=new fU("?",!1,null,!0);
this.au$.k("click",this.aQ,this);this.body.appendChild(this.G$._);this.body.appendChild(this.wt._);this.body.appendChild(this.pX._);
this.body.appendChild(this.ze._);this.body.appendChild(this.aw0._);this.body.appendChild(this.au$._)}gc.prototype=new kq(!0);
gc.prototype.T=function(){aK.prototype.T.call(this);this.pX.T();this.wt.T()};gc.prototype.aQ=function(s){if(s.target==this.aw0){var M=new kg(z.E.H,!0);
M.l=$.FZ;M.data={Q:"h_stepbck"};this.a(M);return}if(s.target==this.au$){window.open("https://x.com/photopeacom/status/1661425407944425494/video/1","_blank");
return}var O=s.target==this.ze,P=O?"empty background":this.G$.V();this.wt.ane(P)};function cj(){hV.call(this);
this._=i.m("div","cmanager");window.alert=function(P,y){this.aBD(P,y);console.log("Alert: "+P)}.bind(this);
window.onblur=function(P){var y=this;y.Ul()}.bind(this);this.V5=0;this.fw=0;this.FC=[];this.a2_={};this.Uq=i.m("div","alertcont");
i.P(this.Uq,"pointer-events:none");this._.appendChild(this.Uq);this.aye=i.m("div","alertcont");this._.appendChild(this.aye);
this.BB=i.m("div","alertcont");this.aJy=0;this.n7=-1;this.aKW=null;this.Z7=null;var s=this.arF=i.m("div","alertpanel");
i.P(s,"padding:0.7em 1em 0.1em 1em;");this.BB.appendChild(s);var M=this.Qn=i.m("input");M.setAttribute("type","text");
i.c0(M);i.P(M,"background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");M.addEventListener("input",this.aLh.bind(this),!1);
M.addEventListener("keydown",this.az_.bind(this),!1);s.appendChild(M);var O=this.z7=i.m("div","contextpanel scrollable");
i.P(O,"text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");O.addEventListener("click",this.arK.bind(this),!1);
s.appendChild(O);i.dq(document.body,this.aGd.bind(this))}cj.prototype=new hV;cj.prototype.t5=function(){if(i.qE(this.BB))this._.removeChild(this.BB)};
cj.prototype.aiA=function(s,M){var O=this.aKW=[],P=M.a7O;for(var R=0;R<ai.data.length;R++){var y=ai.data[R],F=[aW.get(y.name)],A=[R];
cj.Rp(y.items,F,A,O,s,M,P==null?null:P[R]==null?0:P[R])}var h=M.Z;for(var R=0;R<h.JH.length;R++){var m=h.JH[R],Z=h.keys[R];
for(var u=0;u<m.length;u++)O.push([["Tools",aW.get(m[u].l.name)],[-1,m[u].l.id],Z?Z.aP:null])}this._.appendChild(this.BB);
var f=this.Qn;f.focus();f.select();this.gq()};cj.prototype.aLh=function(s){this.n7=-1;this.gq()};cj.prototype.gq=function(){var s=this.Qn.value.toLowerCase().trim().replace(/  +/g," "),M=this.aKW,O=[],P=[],y=s.split(" ");
if(s!="")for(var R=0;R<M.length;R++){var F=M[R][0],A=[],h=0;for(var m=0;m<F.length;m++)A[m]=-1;for(var Z=0;
Z<y.length;Z++)for(var m=0;m<F.length;m++){var u=F[m].toLowerCase().indexOf(y[Z]);if(u!=-1){A[m]=[u,u+y[Z].length];
h++;break}}if(h==y.length){O.push(M[R]);P.push(A)}}var f=[],U=this.z7;i.Lq(U);for(var R=0;R<O.length;
R++){var C=O[R],H=C[0],u=P[R],t="enab",Q="";if(R==this.n7)t+=" active";var X=i.m("div",t);f.push(X);
U.appendChild(X);for(var m=0;m<H.length;m++){var D=u[m],L=y[m],E=H[m];if(D!=-1)E=E.slice(0,D[0])+"<span style=\"color:black\">"+E.slice(D[0],D[1])+"</span>"+E.slice(D[1]);
Q+=E;if(m<H.length-1)Q+=" \uFE65 "}if(C[2]&&(typeof C[2]!="string"||C[2].length==1))Q+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+hj.oC(C[2])+"</span>";
X.innerHTML=Q}this.Z7=[O,f]};cj.prototype.az_=function(s){var M=hj.DT,O=s.code;if(M(O,hj.ob))this.t5();
var P=M(O,hj.l8),y=M(O,hj.sd),F=M(O,hj.$g);if(P||y){this.n7=Math.max(0,Math.min(this.Z7[0].length-1,this.n7+(P?-1:1)));
this.gq()}if(F&&this.n7!=-1)this.aoV(this.n7)};cj.Rp=function(s,M,O,P,y,F,A){if(typeof A=="number"){if(A==0)return;
if(A==1)A=null}for(var R=0;R<s.length;R++){if(A!=null&&(A[R]==0||A[R]==null))continue;var h=s[R],m=M.slice(0),Z=O.slice(0),u=aW.get(h.name);
if(h.e){var f=h.e(y,F,R);if(f.jS)u=f.jS;if(f.e==!1)continue}m.push(u);Z.push(R);if(h.sub)cj.Rp(h.sub,m,Z,P,y,F,A?A[R]:null);
else P.push([m,Z,h.RU])}};cj.prototype.arK=function(s){var M=s.target;if(M.tagName.toLowerCase()=="span")M=M.parentNode;
var O=this.Z7[1].indexOf(M);if(O!=-1)this.aoV(O)};cj.prototype.aoV=function(s){var M=this.Z7[0][s][1];
if(M[0]==-1){var O=new kg(z.E.c,!0);O.data={Q:z.J.LT,l:M[1]};this.a(O)}else{var P=ai.data[M[0]].iy[M[1]];
for(var R=2;R<M.length;R++)P=P.sub[M[R]];var y=new kg(P.g,!0);y.l=P.l;y.data=P.d;this.a(y)}this.t5()};
cj.prototype.GK=function(s,M){this.V5=s;this.fw=M;this.z7.style["max-height"]=M-120+"px"};cj.prototype.ag3=function(s){var M=i.m("div","alertpanel");
M.textContent=aW.get(s);this.Uq.appendChild(M);this.a2_[JSON.stringify(s)]=M};cj.prototype.arM=function(s){var M=this.a2_[JSON.stringify(s)];
this.Uq.removeChild(M);delete this.a2_[JSON.stringify(s)]};cj.prototype.aBD=function(s,M){var O=this.aye;
for(var R=0;R<O.children.length;R++)if(O.children[R].textContent==s)return;var P=i.m("div","alertpanel tpanel");
P.textContent=s;i.P(P,"opacity:0.5; transform:scale(0.9)\t");O.appendChild(P);if(M==null)M=1500;var y=M,F=Math.max(Date.now()+y,this.aJy+y);
setTimeout(function(){i.P(P,"transform:scale(1); opacity:1;")},10);setTimeout(function(){i.P(O,"pointer-events:none; margin-top: -3.6em; transform: translateY(3.6em);")},F-Date.now()-30);
setTimeout(function(){O.removeChild(O.firstChild);i.P(O,"pointer-events:none; transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},F-Date.now());
this.aJy=F};cj.prototype.aGd=function(s){var M=this.FC;for(var R=M.length-1;R>=0;R--){var O=M[R],P=s.target;
while(P!=null){if(P==O._){this.Ul(O);return}P=P.parentNode}}this.Ul();var y=s.target;while(y!=this.BB&&y!=document.body)y=y.parentNode;
if(y!=this.BB)this.t5()};cj.prototype.Ul=function(s){var M=this.FC;for(var R=0;R<M.length;R++){if(s&&s.akm(M[R]))continue;
var O=M[R]._;if(!(M[R]instanceof kA))i.wJ(M[R],this._);else this._.removeChild(O);O.style.height="auto";
i.VV(O,"scrollable");M.splice(R,1);R--}};cj.prototype.ayI=function(s){this.Ul(s.uJ);var M=s.uJ,O=M._;
if(this.FC.indexOf(M)!=-1)return;this.FC.push(M);this._.appendChild(O);var P=this.V5,y=this.fw,F=s.x,A=s.y,h=this._.getBoundingClientRect(),m=M instanceof kA,Z=-1,u=y-2;
if(m||s.LU){var f=M.La(),U=M.aGQ();if(m)f=Math.min(f,200);var C=P-f-2,H=y-U-2;if(A<H)Z=2;else if(F<C)Z=1;
else if(0<A-U-2)Z=0;else Z=3;if(s.a7I)Z=0;if(s.ain)Z=2;if(Z==2){F=Math.min(F,C)}else if(Z==1){A=Math.min(A,H)}else if(Z==0){A=A-U-2;
F=Math.min(F,C);u=s.y}else if(Z==3){F=F-f-2;A=Math.min(A,H)}}A=Math.max(2,A);var top=Math.round(A-h.y+this._.offsetTop);
O.style.position="absolute";O.style["z-index"]=10;if(A+M.aGQ()>u){O.style.height=u-A+"px";i.cG(O,"scrollable");
if(Z==3)F-=10}O.style.left=Math.round(F)+"px";O.style.top=top+"px";if(!(M instanceof kA))i.lG(M)};cj.prototype.aJe=function(s){var M=s.uJ,O=this.FC.indexOf(M);
if(O==-1)return;this.FC.splice(O,1);var P=M._;if(!(M instanceof kA))i.wJ(M,this._);else this._.removeChild(M._)};
cj.prototype.D$=function(){var s=this.FC;return s.length==0?null:s[s.length-1]};cj.prototype.abP=function(){this.aJe({uJ:this.D$()})};
function i2(){hV.call(this);this._=i.m("div","confbar")}i2.prototype=new hV;i2.prototype.aHD=function(s){s.parent=this;
i.Lq(this._);this._.appendChild(s._)};function hE(){hV.call(this);var s=this._=i.m("div","toolconf");
s.style.marginLeft="40px";this.di=null;this.lX=null;this.nV=[new aw(0),new aw(1),new hQ([14,9],0,100,"px"),new jk(!0),new hQ([12,0],0,100,"%",0)];
for(var R=0;R<this.nV.length;R++){var M=this.nV[R];M.parent=this;M.k(z.E.n,this.avu,this);s.appendChild(M._)}var O=this.h1=new fF;
this.h1.parent=this;this.a9E=new df("Tt:");var P=this.Gl=i.m("span");s.appendChild(P);P.appendChild(this.a9E._);
P.appendChild(O.PP._);P.appendChild(O.zj._);P.appendChild(O.vZ._)}hE.prototype=new hV;hE.prototype.avu=function(s){var M=this.nV.indexOf(s.target),O=s.target.V();
if(M==4){var P=new kg(z.E.H,!0);P.l=$.mu;P.data={Q:ad.V0,IQ:Math.round(255*O/100)};this.a(P);return}var y=a.G(this.di.S0);
if(M<2){var F,A=O;if(M==0){F=y.Tq;y.Tq=A}else{F=y.Jc;y.Jc=A}if(F.length!=A.length){var h=[1,0,0,1,0,0];
if(F.length==4){h=F[3].slice(0);h[1]*=-1;h[2]*=-1}if(F.length==2){h=F[1][1].slice(0)}if(A.length==4){A[2]=[0,0,0,1,1,0,0];
A[3]=h;h[1]*=-1;h[2]*=-1}if(A.length==2){A[1]=[[0,0,1,1,0,0,0,0,0],h]}}}if(M==2)y.WJ=O;if(M==3)y=O;var P=new kg(z.E.c,!0);
P.data={Q:z.J.ko,dh:g5.vb,K:y};this.a(P)};hE.prototype.T=function(){for(var R=0;R<this.nV.length;R++)this.nV[R].T();
this.h1.T()};hE.prototype.rn=function(s,M){this.lX=s;this.nV[0].cA(s);this.nV[1].cA(s)};hE.prototype.o3=function(s){if(s.Y.length==0)return;
var M=s.U[s.Y[0]];this.nV[4].q(Math.round(M.N_*100/255));i.P(this.Gl,"line-height:1.5em; display:"+(M.add.TySh?"":"none"))};
hE.prototype.qy=function(s,M){this.di=s;var O=s.S0,P=this.lX;this.nV[0].q(O.Tq,P);this.nV[1].q(O.Jc,P);
if(O.WJ!=null)this.nV[2].q(O.WJ);this.nV[3].q(O);this.h1.q(s.xx,s.s4,s.fL)};function kj(){hV.call(this);
this._=i.m("div","toolconf");var s=i.m("div","body");this._.appendChild(s);s.style.marginLeft="8px";
this.di=null;this.lX=null;this.Ch=new fU("Play",!1,null,!0);this.XZ=new hQ("BPM",1,300,null);this.XZ.parent=this;
s.appendChild(this.Ch._);s.appendChild(this.XZ._);this.Ch.k("click",function(M){var O=new kg(z.E.c,!0);
O.data={Q:z.J.CY};this.a(O);this.Ch.x3(this.lX.J.Nh?"Pause":"Play")},this)}kj.prototype=new hV;kj.prototype.qy=function(s,M){this.di=s};
kj.prototype.rn=function(s,M){this.lX=s;if(s)this.XZ.q(s.J.a0b)};kj.prototype.T=function(){this.Ch.T();
this.XZ.T()};function cD(s){hV.call(this);cD.oX=this;cD.XW=s;this.f=null;this.wB=i.m("input","");this.wB.setAttribute("type","file");
this.wB.setAttribute("multiple","");this.wB.addEventListener("change",function(M){this.yc(M.target.files,null,this.f4,null);
this.f4=null}.bind(this),!1);document.body.appendChild(this.wB);i.P(this.wB,"display:none");this.a4O=[];
this.aHy=!1;this.aeb=[];this.a2x=!1;this.aCi={};this.f4=null}cD.prototype=new hV;cD.XW=null;cD.o$=function(s){try{var M={};
M[s.type]=s;navigator.clipboard.write([new ClipboardItem(M)])}catch(hj){console.error(hj,hj.message)}};
cD.kc=function(s,M){navigator.clipboard.read().then(function(O){for(var R=0;R<O.length;R++){try{var P=O[R],y={},F=0,A=0;
for(var h=0;h<P.types.length;h++){var m=P.types[h];F++;P.getType(m).then(function(Z){var u=m;new Response(Z).arrayBuffer().then(function(f){y[this.VK]=f;
A++;if(A==F)cD.axR(y,s,M)}.bind({VK:this.VK}))}.bind({VK:m}))}}catch(hj){console.error(hj,hj.message)}}}).catch(function(O){alert("Please, give us permissions to access your clipboard.")})};
cD.avP=function(s){navigator.permissions.query({name:"clipboard-read"}).then(function(M){s(M.state)})};
cD.axR=function(s,M,O){var P=["text/plain","image/png","text/html","text/plain"];for(var y in s)console.log(y,y.startsWith("text")?c.xJ(new Uint8Array(s[y])).slice(0,100)+"...":s[y]);
for(var F=0;F<P.length;F++){var A=P[F],h=s[A];if(h==null)continue;if(A=="image/png"){cD.XW({name:"image.png"},h,M,O);
return}if(A=="text/plain"){var m=c.xJ(new Uint8Array(h));if(F==0)if(!m.startsWith("<!--")&&!m.startsWith("<svg"))continue;
if(O&&m.startsWith("<svg"))continue;var Z=new kg(z.E.c,!0);Z.data={Q:z.J.azf,K:m};M.a(Z);return}if(A=="text/html"){var m=c.xJ(new Uint8Array(h)),u=m.indexOf("src=\"");
if(u!=-1){var f=u+10;while(m[f]!="\"")f++;var U=m.slice(u+5,f);if(U.startsWith("http")){var Z=new kg(z.E.c,!0);
Z.data={Q:z.J.Xi,dh:{url:U,iO:!0}};M.a(Z);return}else{cD.XW({name:"chart.png"},b_.jz(U).buffer,M,O);
return}}}}};cD.prototype.L2=function(s){if(s==null)s=[23,5];var M=JSON.stringify(s),O=this.aCi;if(O[M]==null)O[M]=0;
if(O[M]==0){var P=new kg(z.E.c,!0);P.data={Q:z.J.JC,T1:s};this.a(P)}O[M]++};cD.prototype.Q0=function(s){if(s==null)s=[23,5];
var M=JSON.stringify(s),O=this.aCi;if(O[M]==null)O[M]=0;O[M]--;if(O[M]==0){var P=new kg(z.E.c,!0);P.data={Q:z.J.fy,T1:s};
this.a(P)}};cD.prototype.afa=function(s,M,O){this.f4=s;var P=window.showOpenFilePicker;if(O)P=null;if(P&&window.self==window.top){var y=this;
P({multiple:!0}).then(function(h){var m=[];function Z(u){m.push(u);if(m.length==h.length){y.yc(m,null,y.f4,null,h);
y.f4=null}else h[m.length].getFile().then(Z)}h[m.length].getFile().then(Z)});return}var F=this.wB;if(M)F.setAttribute("accept",M);
else F.removeAttribute("accept");var A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
F.dispatchEvent(A)};cD.prototype.Fk=function(s){if(s.url.indexOf("photopea.com#i")!=-1||s.url.indexOf("photopea.com/#i")!=-1){this.pg(s.url.split("#i").pop());
return}this.a4O.push(s);this.aBa()};cD.prototype.aBa=function(){var s=this.a4O;if(s.length==0||this.aHy)return;
this.aHy=!0;var M=s.shift();this.L2();if(M.hP==null)M.hP={};var O=new XMLHttpRequest;O.sI=M;var P=M.url;
if(M.iO&&!P.startsWith("data:image"))P=(P);O.open("GET",P);if(M.ag6)for(var y in M.ag6)O.setRequestHeader(y,M.ag6[y]);
O.responseType="arraybuffer";O.onload=this.ab5.bind(this);O.send()};cD.prototype.yc=function(s,M,O,P,y){for(var R=0;
R<s.length;R++){this.L2();var F=s[R],A=new FileReader;A.sI=F;A.sI.hR=O;A.sI.EJ=P==null?null:P+R;A.aqv=M;
if(y)A.sI.Hn=y[R];A.onload=this.ab5.bind(this);A.onerror=function(h){this.Q0()}.bind(this);this.aeb.push([A,F])}this.wB.value=null;
this.as7()};cD.prototype.as7=function(){var s=this.aeb;if(s.length==0||this.a2x)return;this.a2x=!0;var M=s.shift();
M[0].readAsArrayBuffer(M[1])};cD.prototype.a9R=function(s,M,O){this.L2("Saving ...");this.f=M;setTimeout(O.bind({yF:s,caller:this}),50)};
cD.dS=function(s){var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=new Uint8Array(s),P=O.length,y=P%3,F=P-y,A=[],h=0,m=0,Z=0;
for(var R=0;R<F;R+=3){h=O[R];m=O[R+1];Z=O[R+2];A.push(M[h>>2]+M[(h&3)<<4|m>>4]+M[(m&15)<<2|Z>>6]+M[Z&63])}if(y==1){h=O[F];
A.push(M[h>>2]+M[(h&3)<<4]+"==")}if(y==2){h=O[F];m=O[F+1];A.push(M[h>>2]+M[(h&3)<<4|m>>4]+M[(m&15)<<2]+"=")}var u=A.join("");
return u};cD.awA=function(s,M){var O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=new Uint8Array(64),h=0,m=0,Z=0,f=0;
for(var R=0;R<64;R++)P[R]=O.charCodeAt(R);var y=new Uint8Array(s),F=M%3,A=M-F,u=new Uint8Array(Math.floor(M/3)*4+(F==0?0:4));
for(var R=0;R<A;R+=3){h=y[R];m=y[R+1];Z=y[R+2];u[f]=P[h>>>2];u[f+1]=P[(h&3)<<4|m>>>4];u[f+2]=P[(m&15)<<2|Z>>>6];
u[f+3]=P[Z&63];f+=4}if(F==1){h=y[A];u[f]=P[h>>2];u[f+1]=P[(h&3)<<4];u[f+2]=61;u[f+3]=61}if(F==2){h=y[A];
m=y[A+1];u[f]=P[h>>2];u[f+1]=P[(h&3)<<4|m>>4];u[f+2]=P[(m&15)<<2];u[f+3]=61}return u};cD.prototype.ab5=function(s){var M,O=s.target.sI;
if(s.target instanceof XMLHttpRequest)M=s.target.response;else M=s.target.result;cD.XW(O,M,this,s.target.aqv);
this.Q0();if(s.target instanceof XMLHttpRequest){this.aHy=!1;this.aBa()}else{this.a2x=!1;this.as7()}};
cD.a1V=function(s,M){var O=new XMLHttpRequest;O.open("POST","https://api.imgur.com/3/image",!0);O.Z9=M;
var P=["2c49c3d17cf0ab5","e1d678b8d6a606b","0546b331803cedb","426d743915497b3"],y=Math.floor(Math.random()*P.length);
console.log(y);O.setRequestHeader("Authorization","Client-ID "+P[y]);O.setRequestHeader("Content-type","application/x-www-form-urlencoded");
O.setRequestHeader("Accept","application/json");O.addEventListener("load",cD.ajl);O.addEventListener("progress",function(F){var A=F.target.status;
if(A==429)alert("Too many uploads, try it a bit later.");else if(400<=A)alert("Error. Status code: "+A)});
O.send("type=base64&image="+encodeURIComponent(cD.dS(s)));alert("Saving to Imgur ...",4e3)};cD.ajl=function(s){var M=JSON.parse(s.target.response);
if(M.success){if(s.target.Z9)s.target.Z9(M.data.link);else window.open(M.data.link,"Imgur")}};cD.prototype.pg=function(s,M){this.L2();
var O=new XMLHttpRequest;O.responseType="arraybuffer";O.open("GET","templates/file/"+(M?"pp-resources":"psdshared")+"/"+s);
O.onload=this.aoq.bind(this);O.send();O.d5=[Date.now(),s,M]};cD.prototype.aoq=function(s){var M=s.target.d5,O=new Uint8Array(s.target.response);
console.log(O.length+" B,",Date.now()-M[0]+" ms");for(var R=0;R<O.length;R++)O[R]=255-O[R];O=pako.inflateRaw(O);
var P=JSON.parse(c.xJ(O,0,2e3));cD.XW({name:P.name,Qt:M[1]},O.slice(2e3).buffer,this);this.Q0();if(!M[2])cD.QM("act=0&id="+M[1])};
cD.prototype.aC0=function(s,M,O,P){if(!(s instanceof ArrayBuffer))throw"e";s=new Uint8Array(s);var y=new Uint8Array(s.length+2e3),U="";
for(var R=0;R<2e3;R++)y[R]=32;c.gS(JSON.stringify({name:M}),y,0);y.set(s,2e3);s=y;s=pako.deflateRaw(s);
for(var R=0;R<s.length;R++)s[R]=255-s[R];s=s.buffer;var F=s.byteLength,A=fK.si(F),h=~~(609e5/2),m=~~(209e5/2);
if(F>h){confirm("Your file is "+A+". Our limit is "+fK.si(h)+". Delete some layers and try again.");
return}if(F>m){var Z=confirm("Your file is quite large ("+A+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!Z)return}var u=sha1(s),f=[];for(var R=0;R<20;R++){var C=parseInt(u.slice(R*2,R*2+2),16);f.push(C);
U+=String.fromCharCode(C)}var H=btoa(U).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(cD.aF9(H,P)){console.log("file already exists");
if(O)O(H);else window.open("https://www.photopea.com#i"+H+".psd");return}this.L2("Publishing ...");var t=new XMLHttpRequest;
t.d5=[s,u,H,O,P];t.open("GET",dB.$n("papi/img/publish.php?rnd="+Math.random()+"&id="+H+"&size="+F+"&bname="+P));
t.onload=this.aCJ.bind(this);t.send()};cD.aF9=function(s,M){try{var O=new XMLHttpRequest;O.open("HEAD","templates/file/"+M+"/"+s,!1);
O.send();if(O.status==200)return!0}catch(hj){return!1}return!1};cD.prototype.aCJ=function(s){console.log(s.target.response);
var M=JSON.parse(s.target.response),O=s.target.d5,P=new XMLHttpRequest;P.open("POST",M.uploadUrl);P.setRequestHeader("Authorization",M.authorizationToken);
P.setRequestHeader("X-Bz-File-Name",O[2]);P.setRequestHeader("Content-Type","b2/x-auto");P.setRequestHeader("X-Bz-Content-Sha1",O[1]);
P.send(new Blob([O[0]]));P.onload=this.a1d.bind({$V:this,d5:O})};cD.prototype.a1d=function(s){this.$V.Q0("Publishing ...");
if(this.d5[3])this.d5[3](this.d5[2]);else window.open("https://www.photopea.com#i"+this.d5[2]+".psd");
if(this.d5[4]=="psdshared")cD.QM("act=2&id="+this.d5[2]+"&fileId="+JSON.parse(s.target.response).fileId)};
cD.QM=function(s){var M=new XMLHttpRequest;M.open("GET","/papi/img/update.php?"+s+"&rnd="+Math.random());
M.send()};cD.save=function(s,M){var O=new Uint8Array(s),P=document.createElement("a");if(typeof P.download=="string"){var y=new Blob([O]),F=window.URL.createObjectURL(y);
P.href=F;P.download=M;document.body.appendChild(P);P.click();document.body.removeChild(P)}else{var A="data:application/octet-stream;base64,"+cD.dS(s);
window.open(A)}};function jY(){this.size=16;this.data=a.j(16)}jY.prototype.Qv=function(s,M){if(s+M<=this.size)return;
var O=this.size;while(s+M>this.size)this.size*=2;var P=a.j(this.size);for(var R=0;R<O;R++)P[R]=this.data[R];
this.data=P};var bH={};bH.zE=function(s,M,O,P){var y=M.split(":"),F=y[0];if(y.length==2){if(F=="jpg")P={qual:Math.round(100*parseFloat(y[1])),mtdt:!0};
if(F=="webp")P={qual:Math.round(100*parseFloat(y[1])),mtdt:!0};if(F=="psd")P=[!0,!0,!1,!1,!1];if(F=="svg"){var A=["arst","ahid","vtxt","rtxt","mini"],h=y[1].split(",");
P={};for(var R=0;R<h.length;R++)P[A[R]]=h[R]=="true"}if(F=="jpg"||F=="webp")if(s.s5())P.srgb=!1}var m=b_.Yg(s,F.toUpperCase(),null,null,P,O);
return m};bH.aIV=function(s,M,O){var P=s.Ta(),y=M[0];return bH.zE(s,y,O)};bH.aFn=function(){var s=this.yF,M=this.caller,O=s.hP.sg,P=O.formats,y,F;
s.Ta();var A=Date.now();if(O.version==1){var h=[],m=0,u=0;for(var R=0;R<P.length;R++){var Z=bH.zE(s,P[R],M.f);
h.push(Z);m+=Z.byteLength}y=new Uint8Array(2e3+m);var f="{ \"source\": "+JSON.stringify(s.K9)+", \"versions\": [\n";
for(var R=0;R<P.length;R++){var U=new Uint8Array(h[R]);f+="\t{\"format\": \""+P[R].split(":")[0]+"\", \"start\": "+u+", \"size\": "+U.length+" }"+(R+1<P.length?", ":"")+"\n";
y.set(U,2e3+u);u+=h[R].byteLength}f+="] }";var C=c.gS(f,y,0);for(var R=C;R<2e3;R++)y[R]=32;F="application/octet-stream"}else{var H=new jY,t=0,X="",Q=encodeURIComponent;
X="p="+Q("{ \"source\": "+JSON.stringify(s.K9)+", \"versions\": [");c.qe(H,t,X);t+=X.length;for(var R=0;
R<P.length;R++){X=Q(" {\"format\": \""+P[R].split(":")[0]+"\", \"data\": \"");c.qe(H,t,X);t+=X.length;
var Z=bH.zE(s,P[R],M.f),D=cD.awA(Z,Z.byteLength),C=D.length;H.Qv(t,C);for(var L=0;L<C;L++){H.Qv(t,3);
var E=D[L];if(E==43){H.data[t]=37;H.data[t+1]=50;H.data[t+2]=66;t+=3}else if(E==47){H.data[t]=37;H.data[t+1]=50;
H.data[t+2]=70;t+=3}else if(E==61){H.data[t]=37;H.data[t+1]=51;H.data[t+2]=68;t+=3}else{H.data[t]=E;
t++}}X=Q("\" }"+(R+1<P.length?", ":""));c.qe(H,t,X);t+=X.length}X=Q("] }");c.qe(H,t,X);t+=X.length;y=H.data.slice(0,t);
F="application/x-www-form-urlencoded"}var _=new XMLHttpRequest;_.open("POST",O.url,!0);if(F)_.setRequestHeader("Content-Type",F);
_.addEventListener("load",bH.arB.bind(this));_.send(new Blob([y.buffer]))};bH.arB=function(s){this.caller.Q0("Saving ...");
var M=s.target.response;if(M.charAt(0)=="{"){M=JSON.parse(M);if(M.newSource)this.yF.K9=M.newSource;if(M.message)alert(M.message,2e3);
if(M.script){var O=new kg(z.E.c,!0);O.data={Q:z.J.Mz,Pp:M.script};this.caller.a(O)}}else alert("Saved. Response: "+M,1500)};
bH.ax_=function(s){var M=s.WI,O=M[1].split(".").pop(),P=bH.zE(s,O,null,O=="psd"&&M[0]==1?[!0,!1,!0,!1]:null),y=Storage.Hy(M[0]);
return y.aCX(M[1],P)};bH.aaT=function(s,M){var O=s.HK.T0;if(M==null)M=bH.zE(s,O);fE.Q8(function(){var P=new XMLHttpRequest,y="https://www.googleapis.com/upload/drive/v3/files/"+s.HK.file.id+"?uploadType=media"+"&"+fE.a7x();
P.open("PATCH",y,!0);P.addEventListener("load",function(F){var A=JSON.parse(F.target.response);alert(A.name+" updated")});
P.send(M);alert("Saving \""+s.HK.file.name+"\" to Google Drive ...")})};bH.XW=function(s,M,O,P,y){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)bH._0(s,M,O,P);
else{try{bH._0(s,M,O,P,y)}catch(hj){if(hj=="low_ram"){}else{var F=b_.WG(M),A="Error. Please, send your file to support@photopea.com and we will solve it.";
if(F=="psd")A="Your file is probably damaged :( If your file works well in other programs, send it to support@photopea.com";
if(b_.WG(M)=="eps")A="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(A,1e4)}}}};bH._0=function(s,M,O,P,y){var F;if(s.name){var A=s.name.lastIndexOf(".");F=A==-1?s.name:s.name.slice(0,A);
if(s.name.slice(A+1)=="psdt")F="Untitled-1"}else{if(s.url.substring(0,5)=="data:")F="image";else{var h=s.url.substring(s.url.lastIndexOf("/")+1).split(".");
F=h[0];if(h[1]=="psdt")F="Untitled-1"}F=F.slice(0,50)}var m=s.name?s.name:s.url,Z=new Uint8Array(M);
if(Z[0]==31&&Z[1]==139&&Z[2]==8){var u=pako.inflate(Z);bH._0(s,u.buffer,O,P,y);return}var f=b_.WG(M);
if(f!=null&&b_.O7(f))dB.event("fmt_"+f,.1);if(f==null)f=c.Db(Z,0,4);if(m&&m.toLowerCase().endsWith(".aco"))f="aco";
if(m&&m.toLowerCase().endsWith(".act"))f="act";if(m&&m.toLowerCase().endsWith(".asv"))f="asv";if(m&&m.toLowerCase().endsWith(".sai"))f="sai2";
if(m&&m.toLowerCase().endsWith(".raw")&&f!="tiff"){var U=new kg(z.E.c,!0);U.data={Q:z.J.xL,Rj:"importraw",yH:M,Zp:m.split("/").pop()};
O.a(U);return}else if(f=="json"){var C="";for(var R=0;R<Z.length;R++)C+=String.fromCharCode(Z[R]);C=decodeURIComponent(escape(C));
var H=JSON.parse(C);if(H.name&&H.url){H.resID=s.Qt;var U=new kg(z.E.c,!0);U.data={Q:z.J.aep,K:H};O.a(U)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(H)}return}if(f=="html"){var C=c.xJ(Z,0,Z.length),t=new DOMParser,X=t.parseFromString(C,"text/html"),Q=X.getElementsByTagName("meta");
for(var R=0;R<Q.length;R++){var D=Q[R],L=D.getAttribute("property"),E=D.getAttribute("content"),_=null;
if(L=="og:image")_=E;if(L==null&&E&&E.startsWith("0;url=/imgres?")){var h=E.slice(14).split("&");for(var S=0;
S<h.length;S++)if(h[S].startsWith("imgurl"))_=decodeURIComponent(h[S].slice(7))}if(_==null)continue;
var U=new kg(z.E.c,!0);U.data={Q:z.J.Xi,dh:{url:_,iO:!0,hR:s.hR}};O.a(U)}return}if(b_.O7(f)){if(f=="pxz"){var W=UZIP.parse(M);
for(var g in W){if(g.endsWith(".woff")||g.endsWith(".ttf")||g.endsWith(".otf"))bH.XW({name:g},W[g].buffer,O)}}var x,V,b=b_.O7(f);
if(s.hR!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(f)!=-1){var U=new kg(z.E.c,!0);if(0<=s.hR)U.data={Q:z.J.Bm,target:s.hR,Eh:s.EJ,ZK:M,qA:F};
else{U=new kg(z.E.H,!0);U.data={Q:ad.EI,data:new Uint8Array(M),Zp:F+"."+f};U.l=$.mu}O.a(U);return}var N=[F,b,f,s,O,P,M];
if(b.uQ){x=new fr("");b.AR(M,x,bH.fb,N)}else{V=b.AR(M,null,bH.fb,N,O);if(V==null)return}if(b.$c!=!0)bH.fb(x,V,N);
else O.L2();return}var J=new kg(z.E.c,!0);J.data={Q:z.J.Jx,yH:M,TD:s.name};var K=s instanceof File&&s.ai2!=!0,U=new kg(z.E.c,!0);
U.data={Q:z.J.ko,hP:"add",dh:null,BC:null,aDm:s.ai2};if(f=="zip"){var q=Date.now(),W=UZIP.parse(M),d="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var g in W){var l=!1;for(var R=0;R<d.length;R++)if(g.toLowerCase().endsWith("."+d[R]))l=!0;if(g.startsWith("__MACOSX/")||W[g].length==0)l=!0;
if(l)continue;var T=g.split("/").pop();bH.XW({name:T},W[g].buffer,O,P,!0)}}else if(f=="jsx"||m&&m.toLowerCase().endsWith(".jsx")){if(K)O.a(J);
var C=c.xJ(new Uint8Array(M));U.data={Q:z.J.Mz,Pp:C};O.a(U)}else if(f=="sf2"){var B=SF2Parser.kM(new Uint8Array(M));
U.data.dh=g5.agd;U.data.BC=B;O.a(U)}else if(f=="otf"){if(K)O.a(J);var B=Typr.parse(M);U.data.dh=g5.Ql;
for(var R=0;R<B.length;R++){U.data.BC=B[R];O.a(U)}}else if(f=="asl"){if(K)O.a(J);var B=hX.kM(M,m);U.data.dh=g5.fV;
U.data.BC=B.PJ;O.a(U);U.data.dh=g5.KE;U.data.BC=B.B5;O.a(U)}else if(f=="tpl"){if(K)O.a(J);var B=e2.kM(M);
U.data.dh=g5.pr;U.data.BC={nt:B.nt,hx:B.hx,list:[]};O.a(U);if(B.a9A.length!=0){U.data.dh=g5.VE;U.data.BC=B.a9A;
O.a(U)}if(B.B5.length!=0){U.data.dh=g5.KE;U.data.BC=B.B5;O.a(U)}U.data.dh=g5.kK;U.data.BC=B.list;O.a(U)}else{var p="";
for(var I in g5.Kd)if(g5.Kd[I][0]==f)p=I;if(p!=""){if(K&&!g5.KI[p])O.a(J);U.data.BC=g5.Kd[p][2].kM(M,m);
U.data.dh=p;O.a(U)}else if(M.byteLength==0)alert("Empty file (0 Bytes)");else{var w=b_.WG(M),e;if(w==null)w=m.split(".").pop().split("?")[0];
var G="eot fntdata csv py txt js json html htm css scss mp3".split(" ");if(G.indexOf(w)!=-1)e=w+" | ...";
else e=w+" | "+new Uint8Array(M).slice(0,4).join(",");if(w.length<=10&&y!=!0)dB.event("ufmt_"+e);alert("Unknown file format: "+JSON.stringify(f))}}};
bH.fb=function(s,M,O){var P=O[0],y=O[1],F=O[2],A=O[3],h=O[4],m=O[5],Z=O[6];if(y.$c)h.Q0();if(!y.uQ){if(M.length==0)return;
if(M[0].t33421||M[0].t50706){a.raw.normalize(M[0],Z);console.log(M[0]);var u=new kg(z.E.c,!0);u.data={Q:z.J.xL,Rj:"rawpea",qJ:M[0]};
h.a(u);return}if(m){m(new Uint8Array(M[0].data),M[0].IK);return}s=b_.T7(P,M)}var f=dc==0?"psd":"ai";
if(dc==0&&b_.x5.indexOf(F)!=-1)f=F;s.name=P+"."+f;s.Qt=A.Qt;s.Xr=F;s.hP=A.hP;s.K9=A.url;s.dt=A.dt;s.HK=A.HK;
s.Hn=A.Hn;s.WI=A.WI;if(A.Hn&&A.Hn.name.endsWith(".psdt"))s.Hn=null;if(s.HK)s.HK.T0=F;if(s.U.length!=0){var u=new kg(z.E.c,!0);
u.data={Q:A.hR==null?z.J.ma:z.J.Bm,target:A.hR,Eh:A.EJ,ZK:s};h.a(u)}};function bk(s,M){hV.call(this);
this.dQ=bk.dQ++;this.vu=s;this.at_=this.am0.bind(this);this.amC=this.agb.bind(this);this.atB=this.OH.bind(this);
this.aeE=M;this.agX=this.adC.bind(this);this.at6=this.aFg.bind(this);this.art=this.aJH.bind(this);this.S4=0;
this.a64=0;this.aiJ=0;this._=i.m("div","panelblock");this.m5=i.m("div","block");this.mG=i.m("div","collapsed");
this._.appendChild(this.m5);this.EP=-1;this.Bt=!0;this.LS=i.m("div","panelhead");this.m5.appendChild(this.LS);
this.Ko(this.LS);this.atG=new fU("\u2261");i.P(this.atG._,"position:absolute; right:4px;");this.atG.k("click",this.a5W,this);
this.Fu=i.m("div","body");this.m5.appendChild(this.Fu);this.OX=[];this.DP=null;this.Ca=null}bk.dQ=0;
bk.prototype=new hV;bk.gk=26.1;bk.prototype.a5W=function(s){var M=this.OX[this.EP].Pl(),O=s.currentTarget._.getBoundingClientRect();
M.T();M.update();M.parent=this;var P=new kg(z.E.c,!0);P.data={Q:z.J.EU,uJ:M,x:O.left,y:O.top+O.height+2};
this.a(P)};bk.prototype.f$=function(s){var M=this.m5,O=this.LS,P=this.Fu;if(i.qE(O))M.removeChild(O);
if(i.qE(P))M.removeChild(P);if(s==0)M.appendChild(O);M.appendChild(P);this.aiJ=s};bk.zZ=function(s){s.stopPropagation();
s.preventDefault()};bk.prototype.am0=function(s){var M=s.dataTransfer.types;if(M[1]!=null&&M[1]!=this.dQ+"")return;
bk.zZ(s);var hS=s.currentTarget;if(s.target==hS)i.cG(hS,"highlight")};bk.prototype.agb=function(s){bk.zZ(s);
var hS=s.currentTarget;if(s.target==hS)i.VV(hS,"highlight")};bk.prototype.Ko=function(s){s.addEventListener("dragenter",this.at_,!1);
s.addEventListener("dragleave",this.amC,!1);s.addEventListener("dragover",bk.zZ,!1);s.addEventListener("drop",this.atB,!1);
s.addEventListener("dragstart",function(M){M.dataTransfer.setData("Text","--panel");M.dataTransfer.setData(this.dQ+"","")}.bind(this),!1)};
bk.prototype.OH=function(s){this.amC(s);var M=null,hS=s.currentTarget,O=this.apJ(hS);if(hS==this.Fu&&this.EP!=-1)M=this.EP;
else if(hS==this.LS)M=null;else if(O!=-1)M=O;var P=s.dataTransfer.getData("Text");if(P==""||P.startsWith("http")||P.startsWith("data:image/"))i.H9(s,this,M);
else if(P=="--panel"){var y=i.iC(s,hS),F=this.OX,A=F.slice(0),R=this.EP,h=O==-1?F.length:y.x<hS.getBoundingClientRect().width/2?O:O+1;
if(R==h||R+1==h||hS==this.Fu)return;var m=R<h?h-1:h,Z=F[R];F.splice(R,1);F.splice(m,0,Z);i.Lq(this.LS);
for(var u=0;u<F.length;u++)this.LS.appendChild(F[u].Iu);this.Q4(m);var f=[];for(var R=0;R<F.length;R++)f[R]=A.indexOf(F[R]);
var U=new kg("shuffleItems",!1);U.data={abT:f};this.a(U)}else if(M!=null&&this instanceof g2){var U=new kg(z.E.c,!0);
U.data={Q:z.J.afR,avm:M};this.a(U)}};bk.prototype.MN=function(){return null};bk.prototype.aiS=function(){if(this.MN()){this.LS.style.padding="0px";
this.Ca=this.MN();this.Fu.appendChild(this.Ca);this.S_.oo(!1);var s=new kg(z.E.c,!0);s.data={Q:z.J.b9,K:1};
this.a(s)}};bk.prototype.ahm=function(){if(this.Ca){this.LS.style.padding="";this.Fu.removeChild(this.Ca);
this.Ca=null;this.S_.oo(!0);var s=new kg(z.E.c,!0);s.data={Q:z.J.b9,K:0};this.a(s)}};bk.prototype.apJ=function(s){var M=this.OX;
for(var R=0;R<M.length;R++)if(M[R].Iu==s)return R;return-1};bk.prototype.LC=function(){for(var R=0;R<this.OX.length;
R++)this.OX[R].ry.Hv()};bk.prototype.pc=function(){return this.EP};bk.prototype.Rl=function(){if(this.Bt)return;
this.Bt=!0;this._.removeChild(this.mG);this._.appendChild(this.m5)};bk.prototype.collapse=function(){if(!this.Bt)return;
this.Bt=!1;this._.appendChild(this.mG);this._.removeChild(this.m5)};bk.prototype.gk=function(){var s=0;
if(this.aiJ==0){s=this.LS.getBoundingClientRect().height+1;s=Math.max(s,bk.gk)}return s};bk.prototype.arw=function(){return this.gk()+this.Fu.getBoundingClientRect().height};
bk.prototype.GK=function(s,M,O){this.LS.style.maxWidth=s+"px";var P=this.gk();if(this.EP!=-1)this.OX[this.EP].GK(s,M-P,O);
return M-P};bk.prototype.qy=function(s,M){if(this.EP!=-1)this.OX[this.EP].qy(s,M)};bk.prototype.o3=function(s,M,O){this.OX[this.EP].o3(s,M,O)};
bk.prototype.KO=function(s){this.ahm();if(this.OX.indexOf(s)!=-1){this.Q4(this.OX.indexOf(s));return}s.parent=this;
this.OX.push(s);this.LS.appendChild(s.Iu);s.Iu.addEventListener("mouseover",this.agX,!1);this.Ko(s.Iu);
this.mG.appendChild(s.ry._);s.ry.k("click",this.ad1,this);s.k("select",this.aph,this);s.k(z.E.wE,this.a3v,this);
this.Q4(this.OX.length-1)};bk.prototype.adC=function(s){if(s.buttons==0)return;var M=s.currentTarget,O=M,R=0;
while((O=O.previousSibling)!=null)R++;this.a64=R;M.addEventListener("mouseout",this.at6,!1);this.S4=setTimeout(this.art,700)};
bk.prototype.aFg=function(s){var M=s.currentTarget,O=M,R=0;while((O=O.previousSibling)!=null)R++;M.removeEventListener("mouseout",this.at6);
clearTimeout(this.S4)};bk.prototype.aJH=function(s){this.a(new kg(z.E.aIt,!1))};bk.prototype.alK=function(s){return this.a64};
bk.prototype.la=function(R){var s=new kg(z.E.wE,!1);s.data={tw:R};this.a(s);var M=this.OX[R];this.OX.splice(R,1);
this.LS.removeChild(M.Iu);this.mG.removeChild(M.ry._);M.Iu.className="";M.ry.removeEventListener("click",this.ad1,this);
M.ry.Hv();M.removeEventListener("activate",this.aph);M.removeEventListener(z.E.wE,this.a3v);var O=this.EP;
if(R<O)O--;else if(R==O&&R==this.OX.length)O--;if(this.Bt)this.Q4(O);if(this.OX.length==0)this.aiS()};
bk.prototype.agQ=function(){return this.OX.length};bk.prototype.RJ=function(){if(this.OX.length!=0)this.OX[this.EP].RJ()};
bk.prototype.Q4=function(s,M){if(M==null)M=!0;for(var R=0;R<this.OX.length;R++)this.OX[R].Iu.className="";
if(this.DP)this.Fu.removeChild(this.DP);this.DP=null;this.EP=s;if(s==-1)return;var O=this.OX[this.EP];
this.DP=O.Y4;this.Fu.appendChild(O.Y4);O.Iu.className="active";if(!this.Bt){this.a(new kg("showFloat"));
this.OX[s].ry.Mg()}if(M)this.a(new kg(z.E.n,!1));O.PN();var P=this.atG._;if(P.parentNode)this.LS.removeChild(P);
if(O.Pl())this.LS.appendChild(P);var y=new kg(z.E.c,!0);y.data={Q:z.J.V1};this.a(y)};bk.prototype.aph=function(s){if(this.vu&&!this.vu.am6())return;
var R=this.OX.indexOf(s.currentTarget);this.Q4(R)};bk.prototype.a3v=function(s){var M=this.OX.indexOf(s.currentTarget);
if(s.data!=null){for(var R=this.OX.length-1;R>=0;R--){var O=this.OX[R];if(s.data==1&&R==M)continue;O.RJ()}return}if(this.vu&&!this.vu.am6())return;
this.la(M)};bk.prototype.ad1=function(s){var M=this.OX.indexOf(s.currentTarget.parent);if(this.OX[M].ry.vy())this.a(new kg("hideFloat"));
else this.Q4(M)};bk.prototype.ag1=function(s){this.a(s)};function g2(s){bk.call(this,s);this.V5=0;this.fw=0;
i.gE(this.LS,this.ao2.bind(this));this.Tl=0;this.uE=-2;this.aiX=this.aDw.bind(this);this.Ko(this.Fu);
this.q3=["default;"];this.S_=new i.sm(this.Fu);this.js=new dC(!0);this.js.parent=this;this._A=this.js._;
dC.Oa(this.js)}g2.prototype=new bk;g2.prototype.ao2=function(s){if(s.target!=this.LS)return;var M=Date.now()-this.Tl<300&&this.uE==-1;
this.Tl=Date.now();this.uE=-1;if(!M)return;var O=new kg(z.E.c,!0);O.data={Q:z.J.xL,Rj:"newproject"};
this.a(O)};g2.prototype.iF=function(s,M){if(M)this.q3.push(s);else{var O=this.q3.length-1;if(this.q3[O]==s)return;
this.q3[O]=s}this.uz()};g2.prototype.aGY=function(){this.q3.pop();this.uz()};g2.prototype.uz=function(){var s=this.q3[this.q3.length-1];
this.S_.o3(s,this.uF)};g2.prototype.qy=function(s,M){bk.prototype.qy.call(this,s,M);this.js.qy(s,M);
if(!s.Yl){}};g2.prototype.T=function(){bk.prototype.T.call(this);this.js.T()};g2.prototype.o3=function(s,M){for(var R=0;
R<M.length;R++){var O=M[R];this.OX[R].I5(O.name+(O.depth==8?"":" (RGB/"+O.depth+")")+(O.fX()?" *":""))}bk.prototype.o3.call(this,s,M)};
g2.prototype.MN=function(){return this._A};g2.prototype.GK=function(s,M){if(this.OX.length==0)M+=bk.gk-1;
this.V5=s;this.fw=M;M=bk.prototype.GK.call(this,s,M);this.uF="height:"+M+"px; width:"+s+"px; overflow:hidden; position:relative;";
this.uz();this.js.GK(s,M)};g2.prototype.KO=function(s){bk.prototype.KO.call(this,s);s.Iu.addEventListener("click",this.aiX,!1)};
g2.prototype.la=function(R){var s=this.OX[R];i.bY(s.Iu,this.aiX);bk.prototype.la.call(this,R)};g2.prototype.aDw=function(s){var M=this.apJ(s.currentTarget),O=Date.now()-this.Tl<300&&this.uE==M;
this.Tl=Date.now();this.uE=M;if(!O)return;var P=this.OX[M].ZK.name,y=new kg(z.E.c,!0),F={g:z.E.H,l:$.mu,d:{Q:ad.QE}};
y.data={Q:z.J.xL,Rj:"namewindow",dK:P.slice(0,P.length-4),WC:F};this.a(y)};function cf(s){hV.call(this);
if(s)return;hz.aGg(1);this._=i.m("div","flexrow app");this.ap=i.m("div");this._.appendChild(this.ap);
setTimeout(function(){var O=window.hideCap;if(O)O()},25e3);this.mC=new hj;window.addEventListener("blur",function(O){this.mC.reset()}.bind(this),!1);
window.addEventListener("resize",this.wi.bind(this),!1);var M=this.ap;this.He=new el;this.He.parent=this;
M.appendChild(this.He._);this.Aq=new cj;this.Aq.parent=this;M.appendChild(this.Aq._);this.pb=new b2(!0);
this.pb.parent=this;M.appendChild(this.pb._);this.k(z.E.c,this.Ap,this);this.Ij=this.kH.bind(this);window.requestAnimationFrame(this.Ij)}cf.prototype=new hV;
cf.prototype.kH=function(s){this.qg();window.requestAnimationFrame(this.Ij)};cf.prototype.T=function(){};
cf.prototype.wi=function(s){var M=window.innerWidth,O=window.innerHeight;this.GK(M,O)};cf.prototype.GK=function(s,M){this.Aq.GK(s,M);
this.He.GK(s,M)};cf.prototype.Ap=function(s){var M=s.data.Q;if(M==z.J.EU)this.Aq.ayI(s.data);if(M==z.J.KX)this.Aq.aJe(s.data);
if(M==z.J.JC)this.Aq.ag3(s.data.T1);if(M==z.J.fy)this.Aq.arM(s.data.T1);if(M==z.J.mJ)this.Aq.Ul()};function f0(){cf.call(this);
this.Df={x:0,y:0,cQ:!1};this.Z4=!1;this.F0=!1;this.aya=null;this.aIJ=0;this.amU=!1;this.vB=0;document.body.style.overscrollBehavior="contain";
window.onmessage=function(U){if(Storage.aw7(U.source))return;if(U.data instanceof ArrayBuffer){var C=b_.WG(U.data),H=b_.O7(C);
cD.XW({url:"file"},U.data,this);if(H==null)this.nk()}else if(U.data instanceof Object||U.data.startsWith("{")||U.data.startsWith("amp-")||U.data.startsWith("0=goog")||U.data.startsWith("3PCoo")||U.data.startsWith("ima://")){}else if(U.data.startsWith("--ur ")){var t=U.data.split(" ").pop();
t=t.length==0?[]:t.split(",");var X=new kg(z.E.c,!0);X.data={Q:z.J.ko,dh:g5.rc,IQ:t};this.a(X)}else if(U.data.startsWith("--ot ")){if(this.He.D$())this.He.D$().close();
this.NC.pg(U.data.split(" ").pop())}else if(U.data.startsWith("--et ")){}else{var X=new kg(z.E.c,!0);
X.data={Q:z.J.Mz,Pp:U.data};this.a(X);this.nk()}}.bind(this);window.onbeforeunload=function(U){this.a4M();
for(var R=0;R<this.r0.length;R++)if(this.r0[R].fX()){return this.r0[R].name}}.bind(this);if(dc==0&&!f9.L6())window.setInterval(this.ayM.bind(this),5*60*1e3);
var s=this;if(window.indexedDB){var M={Qv:window.indexedDB.open("pp",1)};M.Qv.onupgradeneeded=function(U){var C=U.target.result,H=C.createObjectStore("rsrc",{keyPath:"k"})};
M.Qv.onsuccess=function(U){var C=s.f.j2.W4=U.target.result,H=C.transaction(["rsrc"],"readwrite").objectStore("rsrc"),t=H.get("fs0");
t.onsuccess=function(U){if(U.target.result){var D=s.f.j2.TI=U.target.result.fset;for(var L in D){if(!L.endsWith(".jsx")&&!L.endsWith(".p"+"sd"))cD.XW({url:L,ai2:!0},D[L],s);
var E=L.split(".").pop(),_="";for(var S in g5.Kd)if(g5.Kd[S][0]==E)_=S;if(g5.KI[_]&&!L.startsWith("_all_"))delete D[L]}}};
var X=new BroadcastChannel("pp-tabs"),Q=[];X.onmessage=function(U){if(U.data=="id")X.postMessage(s.f.j2.id);
else Q.push(U.data)};X.postMessage("id");setTimeout(function(){var H=C.transaction(["rsrc"],"readwrite").objectStore("rsrc"),D=H.getAllKeys();
D.onsuccess=function(){var L=D.result,E=[],_=0;for(var R=0;R<L.length;R++){if(L[R]=="fs0")continue;if(Q.indexOf(L[R])!=-1)continue;
E.push(L[R])}for(var R=0;R<E.length;R++){var t=H.get(E[R]);t.onsuccess=function(U){if(U.target.result){var S=U.target.result.fset;
for(var W in S){try{cD.XW({url:W,ai2:!0},S[W],s);var g=s.Mq();g.up=g.aun=-1}catch(U){console.log(U)}}_++;
if(_==E.length)for(var R=0;R<E.length;R++){var t=H.delete(E[R])}}}}}},200)}}var O="rwx~#.-(;.]6EF rx'|#1,6><@87f?NO \"|'/-&(0><BBDEEMGrVPb w$,*1)379;<<D>iQW \"|'/-4,6:<>??GAlTZ \"|'/-1)(W?E !#$$,&P72<DBIAKOoTZR %%!-~-&,>AI`HN vx!/-3QV66;`HN \"|'/-M)+3A]BDEEMG *#DGUP%(+48>Kk>FHHVXXW(Z(un03y=p{ *#DGUP%:/5457:=IuF_$Q~le'*p4gr x$')61Q9? x$')61Q6899A;".split(" "),P=i.X7[dN.Me][dN.azc];
if(P==null)P=[i.X7[dN.pK][dN.FI]];for(var y=0;y<P.length;y++){var F=P[y];for(var R=0;R<O.length;R++){var A=i.uh(O[R]);
if(F.indexOf(A)!=-1){var h=i.X7[dN.pK][dN.Fu],m=dN.BF("+TyeVTVF<pR1:444X3!~'tGkgfkdlfi_R%JQCBGs<B>AV:-;#TIBEsx*CVqux}xreyztGc]Pdea1NH;OPL|93&:;81$}p%&\"Qnh[oplgYSFZ[XTD>1EFBE/){01.)ysfz{wvgw;Hamh+F,3#!T6@=# |0odhjb`RKtGPK\\WI3A3.:_A{{#t~x,E{xu)H]ac[YKDm@IDo_/hcS*OYl}w/{!thr|i]seVT[dUHP>UF8<?3(@% ,4r.Gi%jqa_3t~{a^[nNCGIA?1*S&/*Hw$y<kjgpsilhtSU\\ZUI?OKCCALeh+20+~t%!xx#a`]fi_b'vF l");
i.Lq(h);h[dN.a8V]=m;return}}}this.Z=f0.au9();this.f={Z:this.Z,a7U:!1,zI:null,s7:0,ql:{hx:[],nt:[],list:[],ss:null},amt:[],yp:[],aov:[],Ac:[],Rh:[],M$:[],ha:[],asM:[],a4S:[],a2c:[],M$:[],nu:[dM.Jb()],ZB:[],Cn:[],Ph:null,IP:0,va:1-dc,S0:aV.S0.Jb(),ajm:aV.S0.Jb(),Zb:{tn:1,Rw:a.G(aV.Qp[0])},fe:aV.To.Jb(),aBv:[null].concat(aV.Qp),aKg:[null].concat(aV.Qp),s4:new bS(function(U){var C=new kg(z.E.c,!0);
C.data={Q:z.J.Xi,dh:{url:dB.y$("rsrc/fonts/"+U)}};this.a(C)}.bind(this)),xx:{U2:[],TY:null,Gy:null},font:null,fL:[],BC:[],a6o:{},UC:0,Cc:16777215,vr:!1,he:!0,QZ:{FQ:!0,W2:!1,vq:!0,J4:!0,mp:!0,$X:!0,Pt:20,af:0,Ms:1,CV:0,fJ:0,DQ:0,SC:8421504,E0:65535,B_:33023},Po:!0,fA:[!0,!0,!1,!0,!0],eo:iY.jV(),OW:1,Z1:!0,ID:{},Yl:!0,aHN:!1,compact:!1,auX:1,c$:0,_A:!0,Zj:{},Fj:null,j2:{id:"ts"+Math.round(Math.random()*16777215),ah9:!1,a59:!1,TI:{},hS:{},W4:null},aCz:0,a6l:null,PA:null,aIQ:null,ZJ:null};
bS.nI.Lc(this);this.abS={Iz:new gi,$P:new j6};this.f.xx=iP.anR();this.Ur=new ai;this.O1=new i2;this.ZH=new hE;
this.ti=new kj;this.Yt=new ig(this.Z,!0);this.Zt=new k6;this.qT=new g2(this);this.DB=i.m("div");this.l7=!1;
this.ab2=this.aKL.bind(this);i.cG(this.qT._,"mainblock");this.pb.parent=this.Ur.parent=this.O1.parent=this.Yt.parent=this.Zt.parent=this.qT.parent=this;
this.qT.k(z.E.n,this.j1,this);this.qT.k(z.E.wE,this.ao5,this);this.qT.k("shuffleItems",this.aer,this);
this.qT.k(z.E.aIt,this.an_,this);this.k("mouse",this.aHG,this);this.k(z.E.H,this.cu,this);this.k(z.E.fa,this.a2r,this);
document.body.addEventListener("keydown",this.zf.bind(this),!1);window.addEventListener("keyup",this.cm.bind(this),!1);
window.addEventListener("paste",this.avZ.bind(this),!1);window.addEventListener("copy",this.ajo.bind(this),!1);
window.addEventListener("wheel",function(U){if(U.ctrlKey)U.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(U){if(window.innerWidth>400)U.preventDefault();
this.f.Fj=U}.bind(this));this.a19=0;this.r0=[];this.NC=new cD(bH.XW);this.NC.parent=this;var Z=this.ap,u=this.kV=i.m("div");
u.appendChild(this.Ur._);u.appendChild(this.O1._);this.pb.a5v(u);var f=this.aGD=i.m("div","flexrow");
Z.appendChild(f);f.appendChild(this.Yt._);f.appendChild(this.qT._);f.appendChild(this.Zt._);if(dc==0||dc==1)this.NC.Fk({url:dB.$n("rsrc/basic/basic.zip")});
if(dc==2)this.NC.Fk({url:"images/sf2/Nokia_S30.sf2"});this.iv(dc==0?$.ht:$.ht);dB.Lc(this.ajY.bind(this));
if(this.WV())return;if(dc==0){dB.event("web_PPea",.01);var F=i.X7[dN.pK][dN.FI];if(F=="")F="di"+"rect";
F=F.split("//").pop();if(F.startsWith("w"+"ww."))F=F.slice(4);if(F.endsWith("/"))F=F.slice(0,-1);if(F.startsWith("go"+"ogle."))F="go"+"ogle.com";
if(F.startsWith("baidu.com"))F="baidu.com";if(F.startsWith("photopea.com/templates"))F="photopea.com/templates";
if(F.startsWith("photopea.com/tuts"))F="photopea.com/tuts";if(F.endsWith("search.yahoo.com"))F="search.yahoo.com";
if(F.endsWith("gradio.live"))F="gradio.live";if(F.endsWith("proxy.ru"))F="proxy.ru";if(F.length>28&&F.indexOf("/")!=-1)F=F.split("/")[0];
if(F.length>28)F=F.split(".").slice(1).join(".");if(F.length>28)F=F.split(".").slice(1).join(".");if(F.length>28)F=F.slice(F.length-28);
if(f9.L6()){dB.event("i"+"fr_"+F,.01,1)}else dB.event("r"+"ef_"+F,.01,1)}if(dc==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}f0.prototype=new cf(!0);
f0.prototype.nk=function(s){var M=new kg(z.E.c);M.data={Q:z.J.iV,dh:s?s:"done"};this.a(M)};f0.prototype.ayM=function(){var s=this.f.j2,O=!1;
if(s.W4==null)return;var M=this.r0;for(var R=0;R<M.length;R++){var P=M[R];if(P.aun!=P.oB&&P.depth==8){var y=Date.now(),F=b_.Yg(P,"psd",0,0,[!0,!1,!0,!1,!0]);
P.aun=P.oB;s.hS[P.name]=F;O=!0;console.log(Date.now()-y,"saving "+P.name,F.byteLength)}}if(O){var A=new kg(z.E.c);
A.data={Q:z.J.ko,dh:g5.uM,aju:!0};this.a(A)}};f0.prototype.ajY=function(){i.X7[dN.uV](this.a3y.bind(this),Math.pow(Math.PI,8)+i.X7[dN.a0o][dN.anw]()*1e4);
var s=dB.iJ();if(s!=null&&s.globals!=null)this.Ak(s.globals);else{this.amU=!0;var M=aW.aj5();if(M&&M.length!=0){var O=M[0];
aW.auk(O,this.ab2)}}if(!this.WV()){var P=i.arX();if(P==0)this.aHN=!0;if(P==2)this.f.Yl=!1;if(P!=1&&Math.random()<.002)i.akY()}if(!f9.L6()||!this.f.Yl){this.aGP();
this.q1()}else{var y=i.R$(i.X7[dN.Xl]);y[dN.Ps](dN.j3,this.aax.bind(this));var F=i.BF("_MYOqDLGJa;A:6");
if(dc!=0)F=dN.uh("@C/25N4/9A?C;:iBQRv")+F;y[dN.Vk](i.BF("61="),F);y[dN.GC]()}this.Z4=!0;this.nk();var A=new kg(z.E.c);
A.data={Q:z.J.xL,Rj:"peamark",gL:4,index:[10,0]}};f0.prototype.aax=function(s){var M=JSON.parse(s.target[dN.St]),O=i.X7[dN.aah][dN.aox]()/1e3,P=i.X7[dN.pK][dN.FI],y=!1;
for(var F in M)if(F.indexOf(".")!=-1&&P.indexOf(F)!=-1&&parseInt(M[F])>O)y=!0;if(y)this.f.Yl=!1;this.aGP();
this.q1();if(P==""){if(this.f.Yl){alert(dN.BF("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};f0.prototype.q1=function(s){this.F0=!0;
if(!this.f._A)this.qT._A=null;else if(this.r0.length==0)this.qT.aiS();this.J9(g5.rT);this.T();this.wi();
this.Zt.o3(this.Mq(),this.r0,this.f)};f0.prototype.Ak=function(s){var M=this.f;if(s.fc!=null){M.UC=s.fc;
var O=M.xx.TY.FillColor;if(O){var P=a.Aj(M.UC);O.Values=[1,P.o/255,P.R/255,P.X/255]}}if(s.bc!=null)M.Cc=s.bc;
if(s.ru!=null)M.vr=s.ru==1;if(s.ex!=null)M.he=s.ex==1;if(s.favFam!=null)M.fL=s.favFam;if(s.ff!=null)M.fL=s.ff.split(",");
if(s.rsrc!=null)M.BC=s.rsrc;if(s.rs!=null)M.BC=s.rs.split(",");if(s.fo!=null)M.xx.U2[0].Name=s.fo;if(s.panels!=null)M.eo=s.panels;
if(s.pd!=null)M.eo=iY.asv(s.pd);if(s.as!=null)M.auX=s.as;if(s.co!=null){M.c$=s.co;if(M.c$!=0)alert("Edit > Preferences > Cursor Offset is not Zero.",2500)}var y=s.ep?s.ep:s.eparams;
if(y){var F=M.QZ;if(y.guides!=null)F.FQ=y.guides;if(y.grid!=null)F.W2=y.grid;if(y.gsize!=null)F.Pt=y.gsize;
if(y.gunits!=null)F.CV=y.gunits;if(y.gtype!=null)F.fJ=y.gtype;if(y.runits!=null)F.DQ=y.runits;if(y.gcol!=null)F.SC=y.gcol;
if(y.gucol!=null)F.E0=y.gucol;if(y.glcol!=null)F.B_=y.glcol;if(y.sels!=null)F.vq=y.sels;if(y.paths!=null)F.J4=y.paths;
if(y.pgrid!=null)F.mp=y.pgrid;if(y.slices!=null)F.$X=y.slices;if(y.gc!=null)F.SC=y.gc;if(y.uc!=null)F.E0=y.uc;
if(y.lc!=null)F.B_=y.lc;if(y.gs!=null)F.Pt=y.gs;if(y.gv!=null)F.af=y.gv;if(y.gn!=null)F.Ms=y.gn;if(y.gu!=null)F.CV=y.gu;
if(y.gt!=null)F.fJ=y.gt;if(y.ru!=null)F.DQ=y.ru;if(y.gr!=null)F.W2=y.gr==1;if(y.gd!=null)F.FQ=y.gd==1;
if(y.se!=null)F.vq=y.se==1;if(y.pa!=null)F.J4=y.pa==1;if(y.pg!=null)F.mp=y.pg==1;if(y.sl!=null)F.$X=y.sl==1}if(s.lang!=null)aW.auk(s.lang,this.ab2);
if(s.theme!=null)M.OW=s.theme;if(s.to){var A=s.to;for(var R=0;R<A.length;R+=2){var h=this.Z.map[A[R]];
if(h)h.l.LQ(A[R+1],null,this)}}if(s.topt||M.aHj){var m=s.topt?s.topt:{},Z=M.aHj?M.aHj:{};for(var u in this.Z.map){if(u>=103)continue;
var f="t"+u;if(m[f]||Z[f])this.Z.map[u].l.LQ(m[f],Z[f],this)}}};f0.prototype.aGP=function(){if(this.f.a7U)return;
this.f.a7U=!0;var s=null,M=window.location.href,O=M.indexOf("="),P=M.indexOf("#");if(O!=-1)s=M.substring(M.indexOf("?")+1,O);
if(P!=-1&&P!=M.length-1){s="p";O=P}if(P!=-1&&M[P+1]=="i"){this.NC.pg(M.slice(P+2,P+10))}else if(M.slice(P+1).startsWith("audit")){}else if(M.slice(P+1).startsWith("goog_rewarded")){}else if(P!=-1&&M[P+1]=="t"){this.NC.pg(M.slice(P+2,P+10).split("").reverse().join(""))}else if(s=="p"||s=="state"){var y=M.substring(O+1,M.length);
y=JSON.parse(decodeURIComponent(y));if(s=="p"){var F=y.apis,A=this.f;if(F){if(F.rmbg)A.Zj.a9a=F.rmbg;
if(F.dezgo)A.Zj.ayk=F.dezgo}if(y.script=="alert(73)")this.f.Yl=!1;if(y.script)aa.azR(this);if(y.server)this.aya=y.server;
if(y.resources)for(var R=0;R<y.resources.length;R++)this.NC.Fk({url:y.resources[R]});if(y.files)for(var R=0;
R<y.files.length;R++)this.NC.Fk({url:y.files[R],hP:{sg:y.server,aDf:y.script}});var h=y.environment;
if(h==null)h={};if(h.plugins!=null)this.Zt.ay7(h.plugins);if(h.localsave!=null)this.f.Z1=h.localsave;
if(h.customIO!=null)this.f.ID=h.customIO;if(h.vmode!=null){var m=h.vmode;if(m==1)this.f.compact=!0;if(m==2)this.a7y=!0}if(h.intro!=null&&!this.f.Yl)this.f._A=h.intro;
if(h.menus!=null)this.f.a7O=h.menus;if(h.tmnu!=null)this.f.aHj=h.tmnu;if(h.panels!=null)this.f.eo=h.panels;
if(h.showtools!=null){var Z=h.showtools,u=Z.indexOf(this.f.zI);this.f.H0=Z;if(u==-1)this.iv(Z[0])}if(h.phrases!=null)aW.aAp(h.phrases);
if(h.autosave!=null){this.f.auX=0;window.setInterval(function(){var C=new kg(z.E.c);C.data={Q:z.J.MF};
this.a(C)}.bind(this),h.autosave*1e3)}if(h.icons!=null){for(var f in h.icons)if(h.icons[f].indexOf("\"")==-1){if((f==dN.a3M||f==dN.a4$)&&this.f.Yl)continue;
PIMG[f]=h.icons[f];PIMG["__"+f]=!0}}this.Ak(h);if(y.files==null&&y.script){fC.Da(y.script,this);this.nk()}}else if(s=="state"){var U=this.NC;
if(y.action=="create"){var C=new kg(z.E.c);C.data={Q:z.J.xL,Rj:"newproject",aLz:y.folderId};this.a(C)}if(y.action=="open"){for(var R=0;
R<y.ids.length;R++)fE.Q8(function(){var t="https://www.googleapis.com/drive/v3/files/"+this.avH,X=new XMLHttpRequest;
X.open("GET",t);X.setRequestHeader("Authorization",fE.a75());X.send();X.onload=function(Q){var D=JSON.parse(Q.target.response);
U.Fk({url:t+"?alt=media",name:D.name,HK:{file:D,T0:""},ag6:{Authorization:fE.a75()}})}}.bind({avH:y.ids[R]}));
alert("Loading files from Google Drive ...")}}}else{var H=window.launchQueue;if(H){var U=this.NC;H.setConsumer(function(t){var X=t.files,Q=[];
for(var R=0;R<X.length;R++){var D=X[R];D.getFile().then(function(L){Q.push(L);if(Q.length==X.length)U.yc(Q,null,null,null,X)})}})}}};
f0.prototype.T=function(){var s=null;if(s){var M=!1,O=s.getElementsByTagName("h1")[0],F=0,h=0,m=0;O.textContent="Free Online Photo Editor";
var P=s.getElementsByTagName("p"),y="Photopea: "+i.uu(aW.get([0,17,1])),A=["PSD","AI","PDF","SVG","CDR"];
for(var R=0;R<A.length;R++)y=y.replace(A[R],"<b>"+A[R]+"</b>");if(!M)y+=" (<b>Adobe Photoshop</b>, <b>Adobe Illustrator</b>, <b>PDF</b>,  <b>SVG</b>, <b>CorelDRAW</b>).";
P[0].innerHTML=y;y=aW.get([0,17,2])+" "+aW.get([0,17,3]);for(var R=0;R<y.length;R++){var Z=y[R];if(Z=="<")h++;
if(Z==">")m++}if(!M&&h*m==9){var u=["//github.com/photopea/"+["photo","vector"][dc]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var R=0;R<3;R++){var f=y.indexOf("<",F),U=y.indexOf(">",F),C=y.slice(0,f)+"<a href=\""+u[R]+"\" target=\"_blank\">"+y.slice(f+1,U)+"</a>";
F=C.length;y=C+y.slice(U+1)}P[1].innerHTML=y}else P[1].innerHTML=aW.get([0,17,2])}this.pb.T();this.Ur.T();
this.ZH.T();this.ti.T();this.Zt.T();this.Yt.T();this.He.T();this.qT.T();for(var H in this.Z.map)if(this.Z.map[H].AT)this.Z.map[H].AT.T()};
f0.prototype.WV=function(){if(f9.kR())return!0;return 4<i.X7[dN.Me][dN.Xg][dN.ap7](dN.BF("'$!|"))||true};f0.prototype.GK=function(s,M){s=Math.floor(s);
M=Math.floor(M);var O=window.visualViewport,D=0;if(s>M&&O){var P=O.width,y=O.height;if(s>M&&P<y){var F=P;
P=y;y=F}var A=M*(P/y);if(Math.abs(A-s)>100)s=A}var h=i.BF("WUMK&AM"),m=dN.iQ,Z=i.X7[dN.pK],u=Math.max(s,window.screen.width),f=Math.max(M,window.screen.height);
if(f9.KN==null){f9.KN=Math.min(u,f)<500||u<750?0:u<1500?1:2}var U=f9.KN,C=!this.F0||this.WV()||!this.f.Yl||dB.Mo()||i.wl()==dN.BF("eQLZRRM?8a4=8");
if(!C&&f9.L6()){if(this.a7c==null)this.a7c=Math.random()<.5;C=this.a7c}if(f9.L6()){var H=window.location.ancestorOrigins;
if(H==null)H=[document.referrer];console.log(H)}if(C){if(U!=0&&i.X7[h]&&this.F0)i.X7[h]()}else{if(U==0)M-=84;
else s-=U==1?180:320}cf.prototype.GK.call(this,s,M);if(C&&this.l7){var t=U==0?Z[dN.Fu]:this._;t[dN.anq](this.DB);
i.Lq(this.DB);this.l7=!1}if(!C&&!this.l7){var X=function(_){i.X7[dN.uV](function(){var S=new kg(z.E.c);
S.data={Q:z.J.xL,Rj:dN.BF("QZXZLFV")};if(dc==0&&f9.hg()&&!dB.Mo())this.a(S)}.bind(this),14720+Math.random()*46351);
if(Math.random()<.002){if(dc==0&&f9.hg())dB.event("gota_0")}if(dc==0&&_)i.X7.___a=!0;this.aBo(s,M);var t=U==0?Z[dN.Fu]:this._;
t.appendChild(this.DB);this.DB[dN.bk](m,i.BF("_MMJLNDfKCAg")+(U==0?10:10)+i.BF("_d$ebOS?I:==Ba-+# }$M"));
this.DB[m][i.BF("_MMJLND&<:E")]=(U==0?0:19)+i.BF("_d");this.DB[m][i.BF("i5WJHX")]=U==0?0:1}.bind(this);
function Q(){f9.aFJ(X)}setTimeout(Q,2800);this.l7=!0}if(i.qE(this.Ur._))D+=31;if(i.qE(this.O1._))D+=32;
this.pb.a6u=this.f.Yl&&this.F0;this.pb.GK(s,D);var L=M-D,E=i.BF("_d");this.DB[m][dN.atC]=(U==0?100>>>1:M-11)+E;
this.DB[m][dN.aKX]=(U==0?s:6*Math.pow(10,2))+E;if(i.qE(this.Yt._))this.Yt.GK(s,L);this.Zt.GK(s,L);this.qT.GK(s-this.Yt.La()-this.Zt.La(),L)};
f0.prototype.aBo=function(s,M){var O=function(){var P=new kg(z.E.c);P.data={Q:z.J.xL,Rj:"account"};this.a(P)}.bind(this);
f9.ay1(s,M,this.DB,O)};f0.prototype.ajo=function(s){console.log("systemCopy")};f0.prototype.avZ=function(s){if(i.VM())return;
console.log("systemPaste");if(!s.clipboardData)return;var M=s.target.tagName.toLowerCase(),O=s.clipboardData.items;
if(O==null)return;var P=this.a50.bind(this);for(var R=0;R<O.length;R++){var y=O[R],F=y.getAsFile();if(y.type.indexOf("image")!=-1){if(F.size==this.f.aCz)return;
this.f.aCz=F.size;if(F){F.name="image.png";this.NC.yc([F],P)}}}};f0.prototype.a50=function(s,M){var O={buffer:s,S:M},P=this.f;
if(i.VM()){var y=this.abS,F=y.Iz;if(F.A==M.A&&F.$==M.$){O.S=F;O.$P=y.$P}}else{if(P.PA){var A=new kg(z.E.H,!0);
A.l=$.FZ;A.data={Q:"h_stepbck"};this.a(A)}}P.PA=O;var A=new kg(z.E.c,!0);A.data={Q:z.J.v6,arj:!0};this.a(A)};
f0.prototype.aGJ=function(){if(this.He.D$()!=null)alert(aW.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
f0.prototype.cu=function(s){var M=this.Mq();if(M==null){alert(aW.get([15,7,7]));return}var O=s.l==$.dU||s.l==$.zY;
if(this.He.bA()&&s.T8!=!0&&!O){this.aGJ();return}var P=this.Z,y=this.f.zI,F=s.l;if(F==$.El&&y==$.k1)F=$.k1;
if(y!=F&&P.map[y].l.bA()&&!O&&!((y==$.s1||y==$.AQ||y==$.ZM)&&F==$.JG)){console.log("disabling",y);P.map[y].l.disable(M,this,this.f,this.mC)}if(F!=$.dU&&F!=$.zY)M.rA(!0);
var A=this.Z.map[F].l;A.cu(s.data,this,M,this.mC,this.f)};f0.prototype.a2r=function(s){var M=this.f;
if(s.data.rz!=!0)f7.ahK({Cw:s.data.Cw,kT:s.data.kT},this,M,this.Mq());var O=M.Ph,P=M.Cn;if(O==null||s.data.aqu)return;
var y={aG0:!1,nC:"Step",aBt:0,e:!0,exp:!1,Cw:s.data.Cw};if(O[2]==null)O[2]=P[O[0]].SB[O[1]].SB.length-1;
if(s.data.kT)y.kT=s.data.kT;P[O[0]].SB[O[1]].SB.splice(O[2]+1,0,y);O[2]++;this.J9(g5.H)};f0.prototype.Ap=function(s){if(this.aHN){s.data=0;
return s.I}var M=s.data&&s.data.Q==z.J.xL&&s.data.Rj==dN.agW,O=s.data&&(s.data.Q==z.J.EU||s.data.Q==z.J.xa);
if(i.X7.__csrf&&!dB.Mo()&&!M&&!O){var P=dN.BF("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(P,5e3);return}cf.prototype.Ap.call(this,s);var y=s.data.Q;if(y==z.J.CY){var F=this.Mq();Speaker.LQ(F,this.f.amt[0]);
if(F.J.Nh)Speaker.pause();else{var A=F.i.u0();Speaker.play(Synth.a9N(-F.i.p.x*A.cd,F))}F.J.Nh=!F.J.Nh;
F.G_=!0}if(y==z.J.bG)f7.af1(this.Mq(),this.f.Cn,s.data.ZN[0],s.data.ZN[1],this);if(y==z.J.afR){this.aE$(s.data.avm)}if(y==z.J.aGZ){this.T();
this.wi()}if(y==z.J.V1)this.wi();if(y==z.J.rb)if(this.f.Fj){this.f.Fj.prompt();this.f.Fj=null}if(y==z.J.ag)this.qT.iF(s.data.Fi,s.data.push);
if(y==z.J.a7b)this.qT.aGY();if(y==z.J.aau)this.j1(null,s.data.dir);if(y==z.J.RZ)this.qT.la(this.r0.indexOf(s.data.yF?s.data.yF:this.Mq()));
if(y==z.J.b9){var h=navigator.keyboard;if(s.data.eM&&h)h.lock(["Escape"]);if(s.data.eM&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(s.data.eM)document.body.webkitRequestFullScreen();if(s.data.K!=null)this.f$(s.data.K)}if(y==z.J.as$){if(s.data.cQ)this.mC.uO(s.data.a2E);
else this.mC.cr(s.data.a2E);this.lJ(s.data.cQ?"down":"up")}if(y==z.J.aep){var m=s.data.K;this.Zt.ay7([m]);
this.T()}if(y==z.J.R8){var F=this.Mq(),Z=F.U[F.Y[0]],u=new gi(0,0,F.A,F.$),f=F.h?F.h.S.v():u,U=a.j(f.C()*4);
a.FP(F.Ta(),u,U,f);var C=fr.iY()+"-d71c-11e5-b1ae-a548a96e5f9f",H=new kg(z.E.c,!0);if(s.data.dh==0){var t={name:"Default/"+F.name.split(".")[0],id:C,ah:[U,f]};
H.data={Q:z.J.ko,hP:"add",dh:g5.fV,BC:[t]};this.a(H)}if(s.data.dh==1){var X=a.j(f.C()*4);X.fill(255);
a.B.qZ("norm",U,f,X,f,f,1);var Q=a.j(f.C());a.K1(X,Q);a.or(Q);var D=a.xY(Q,f);if(D.g3())D=f;var L=a.j(D.C());
a.TT(Q,f,L,D);D.x=D.y=0;var E={Iz:D,id:C,ah:[L,D]},_=fO.Av(C),S=_.Brsh.v;S.Dmtr.v.val=Math.max(D.A,D.$);
S.Spcn.v.val=10;H.data={Q:z.J.ko,hP:"add",dh:g5.pr,BC:{list:[{t:"Objc",v:_}],nt:[E],hx:[]}};this.a(H);
H.data={Q:z.J.ko,dh:g5.JZ,tK:_};this.a(H)}if(s.data.dh==2){var W=F.Iv(),g=W[0][W[1][0]],x={Bj:"Default/"+Z.getName(),wA:C,u:g.add.vmsk.v().u},V=a.z._E(x.u),b=new kp(V.A,0,0,V.$,V.x,V.y);
b.or();a.z.R7(x.u,b);V.x=V.y=0;x.rC=V.v();H.data={Q:z.J.ko,hP:"add",dh:g5.VE,BC:[x]};this.a(H)}}if(y==z.J.Xi)this.NC.Fk(s.data.dh);
if(y==z.J.Fw){var N=s.data.azG,J=s.data.hd;if(N!=!0&&J!=!0&&this.OV("open"))return;var K=this.qT.pc();
if(J)K=-1-K;this.NC.afa(N||J?K:null,s.data.a4t,s.data.DK)}if(y==z.J.Ty){var q=g5.Kd[s.data.azy],U=this.aK2(s.data.azy,s.data.EL);
cD.save(U,q[1]+"."+q[0])}if(y==z.J.Jx){var d=this.f.j2,l=s.data.aKI;if(d.W4&&!d.ah9&&!l){d.a59=window.confirm("Load \""+s.data.TD+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
d.ah9=!0}if((d.a59||l)&&d.W4){d.TI[s.data.TD]=s.data.yH;var H=new kg(z.E.c);H.data={Q:z.J.ko,dh:g5.uM};
this.a(H)}}if(y==z.J.aaa){var F=this.Mq(),p="<!DOCTYPE HTML>";if(F==null)return;var T=b_.TB(F.Ta().buffer,F.A,F.$),B=window.open();
p+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";p+="<body><img src=\""+T+"\" /></body>";
p+="</html>";B.document.write(p)}if(y==z.J.$e){if(this.OV("publishOnline"))return;var I=s.data.gL,w=I=="jpg"||I=="png",F=this.Mq();
if(F==null)return;if(!w&&F.Qt)return;var P="Your "+(w?"picture":"document")+" will be published at "+(w?"Imgur":["Photo","Vector"][dc]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!w)P+=" We guarantee 6+ months of storage.";var e=s.data.Z9?!0:confirm(P);if(e){if(I=="psd"){var H=new kg(z.E.H,!0);
H.l=$.mu;H.data={Q:ad.JK};this.a(H);var G=new gi(0,0,F.A,F.$);for(var R=0;R<F.U.length;R++){var Z=F.U[R];
if(Z.S.g3()||Z.ES()||Z.Bl()||Z.v5()||Z.tE()||Z.add.TySh||Z.add.vmsk||Z.add.SoLd)continue;var j=G.OK(Z.S);
if(!j.s0(Z.S)&&!j.g3()){var o=a.j(j.C()*4);a.FP(Z.buffer,Z.S,o,j);Z.buffer=o;Z.S=j}if(!a.Ou(Z.buffer,Z.S.A,Z.S.$))continue;
var r=Z.CD(),k=Z.N_,a7=Z.mX,Y=Z.nN;Z.x1(!0);Z.N_=255;Z.mX="norm";F.Y=[R];H.data={Q:ad.v3,gL:"jpg"};this.a(H);
var v=F.U[R];Z.x1(r);v.x1(r);Z.N_=v.N_=k;Z.mX=v.mX=a7,Z.nN=v.nN=Y}}if(F.MD){F.kp()}var n=F.A,cm=F.$,a5=s.data.a80,gP;
if(a5)while(Math.max(n,cm)>a5){n=n>>>1;cm=cm>>>1}console.log(n,cm);if(I=="psd")gP=b_.Yg(F,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(I=="ai")gP=b_.Yg(F,"ai");else if(I=="png")gP=b_.Yg(F,"png",n,cm);else{var cg=b_.Yg(F,"png",n,cm),a9=b_.Yg(F,"jpg",n,cm);
gP=cg.byteLength<a9.byteLength?cg:a9}var ew=s.data.Z9;if(ew==null)ew=function(eY){var kF=w?eY:"https://www."+["photo","vector"][dc]+"pea.com/#i"+eY,H=new kg(z.E.c);
H.data={Q:z.J.xL,Rj:"linkview",aq6:kF};this.a(H);dB.event("share_"+I)}.bind(this);if(w)cD.a1V(gP,ew);
else this.NC.aC0(gP,F.name,ew,"psdshared")}}if(y==z.J.MF){var F=this.Mq(),h7=!1;if(F==null)return;if(F.MD){F.kp()}var bh=this.Z$();
if(bh.bA())bh.disable(F,this,this.f,this.mC);if(s.data.aFO){if(!this.SS(F,s.data.aFO))return;var U=bH.aIV(F,s.data.aFO,this.f);
this.nk(U);h7=!0}else if(F.dt){if(this.r0.indexOf(F.dt.xZ)!=-1){var U=new Uint8Array(b_.O7("PSD").u6(F,null,null,[!0,!1])),H=new kg(z.E.H,!0);
H.data={Q:ad.EI,ZK:F.dt.xZ,data:U,id:F.dt.avM,Zp:F.name};H.l=$.mu;this.a(H);alert("Smart Object updated")}h7=!0}else if(this.OV("save")){h7=!0;
if(f9.kR())alert("File Saved.");if(f9.kR()&&!dB.Mo()){var H=new kg(z.E.c,!0),P=dN.BF("+\\hYWYI?sU=79-Q*$% }'I>ns> j[i[Z\\w\\TRxkZsn261ds-#{+y=.nwsuh`^hrcbZWSSRDF<QD?IaQ\"&!TOr 9E[jrcwEdTYR[Pk\\SFIP1,6D] ;,*,{qF(foiii.Z\\SMWKS]XJ4B4/;`B||$u y-(mtdb6w\"~ewJSNlK@DF><.'&/*H*(q\" z325.-,$\"!~v{tlnilhb\\Ibs$)(,w/NjingoilbUmbQYJ^+'zRrxrin\\L{U4!!+}xg~pa[rQZKaMOEZs6QB@B2(\\>|&   Dpricmaisn`JXJEQvX33:,60C>$+zxL.85{.`id#aVZ\\TRD=<E@^@>(861IHJG??::6/32*'$~~z|t_x%698/Hw(0)zyx0ayvp=-\\6t,w(wV!_\\u;=GM><>.$X:*w(!6goidh1WV\\_MWc|wO?75<I:8:* T6)wo|m<7,}1rXRSNLUw<MIAiMH384\"}6  |z'evrjhaSh*%YRUO=<SD@.dF+,#G|\"p!|4pp1{vhj^P%fXH@>Ea==]Ha\\L1!xv}ID4fhr7"),ba=dN.BF(";QJXQ_*II9"),jx=function(){H.data={Q:z.J.xL,Rj:"account"};
this.a(H)}.bind(this);H.data={Q:z.J.xL,Rj:dN.UB,K:P,Xp:jx,ap6:ba,a6X:!0};this.a(H)}}else if(F.HK){bH.aaT(F);
h7=!0}else if(F.WI){if(F.WI[0]!=0&&!navigator.onLine){alert("Go online to save this file.");return}var c4=bH.ax_(F);
if(c4==1){alert("Already saving another file. Try again later.");return}h7=!0}else if(F.hP&&F.hP.sg){if(!this.SS(F,F.hP.sg.formats))return;
this.NC.a9R(F,this.f,bH.aFn);h7=!0}else if(F.Hn&&(dc==0&&b_.x5.indexOf(F.Xr)!=-1||dc==1&&F.Xr=="ai")){this.a4s();
return}if(h7){F.Wh()}else{var H=new kg(z.E.c,!0);H.data={Q:z.J.xa};this.a(H)}}if(y==z.J.xa){if(!this.f.Z1){alert("function is disabled");
return}if(this.OV("saveAsPSD"))return;var F=this.Mq();if(F==null)return;if(!this.SS(F))return;var H=new kg(z.E.H,!0);
H.data={Q:ad.JK};H.l=$.mu;this.a(H);var bq=F.U.length,di="Your document has "+F.U.length+" layers.";
if(bq>1<<15){alert(di+" PSD files can have up to "+(1<<15)+" layers.",5e3);return}if(bq>8e3&&!confirm(di+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var il={rM:[]};F.root.atN([],il);var j0=il.rM;if(j0.length>11&&!confirm("One layer is nested "+(j0.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+j0.join(" \uD83E\uDC1A ")+"."))return;
var j1=F.name.split(".");j1.pop();j1=j1.join(".")+[".psd",".ai"][dc];var b5=window.showSaveFilePicker;
if(window.parent!=window)b5=null;if(b5&&!s.data.a1N){var b4={suggestedName:j1,types:[{description:["PSD","AI"][dc]+" Files",accept:dc==0?{"image/psd":[".p"+"sd"]}:{"application/pdf":[".ai"]}}]};
b5(b4).then(function(s){F.Hn=s;F.name=s.name;F.DI=!0;F.Xr="psd";this.a4s()}.bind(this));return}var lm=window.gtag;
if(F.uf()&&lm)lm("event",F.Xr+":"+i.uh(dB.Mo()?"\"'|('61":"w'| "),{event_category:"Formats"});if(F.MD){F.kp()}var ix=dc==0?"PSD":"AI",jy=b_.O7(ix);
dB.event("efmt_"+ix.toLowerCase(),.1);if(s.data.a1N){var U=F.Xr=="psd"?jy.u6(F):bH.zE(F,F.Xr,this.f);
this.awQ(U,F,this)}else{var U=jy.u6(F);cD.save(U,j1);F.Wh()}}if(y==z.J.xR)window.open(s.data.link,"_blank");
if(y==z.J.YM){if(this.He.bA()){this.aGJ();return}var F=this.Mq(),Z=F.U[F.Y[0]],m=F.gX(Z.add.SoLd.Idnt.v);
for(var R=0;R<this.r0.length;R++){var bz=this.r0[R].dt;if(bz!=null&&bz.avM==m.Xh&&bz.xZ==F){this.qT.Q4(R);
return}}cD.XW({name:m.Zp,dt:{avM:Z.add.SoLd.Idnt.v,xZ:F}},m.raw.buffer,this)}if(y==z.J.azt){var F=this.Mq(),Z=F.U[F.Y[0]],m=F.gX(Z.add.SoLd.Idnt.v);
cD.save(m.raw.buffer,m.Zp)}if(y==z.J.a11){console.log(s.data);cD.XW({name:s.data.WI[1].split("/").pop(),WI:s.data.WI},s.data.OC,this)}if(y==z.J.a5$){var F=this.Mq();
F.WI=s.data.WI;F.name=F.WI[1].split("/").pop();var H=new kg(z.E.c);H.data={Q:z.J.MF};this.a(H)}if(y==z.J.F$){this.a89()}if(y==z.J.WP){this.aAh(s.data.nj,s.data.p2,s.data.FM)}if(y==z.J.v6){this.ad6(s.data.arj,s.data.ahU,s.data.FM)}if(y==z.J.azf){var c5=s.data.K;
if(this.f.zI==$.El&&this.Z$().bA()){var H=new kg(z.E.H,!0);H.l=$.El;H.data={Q:"insertText",K:c5};this.a(H);
return}if(c5.startsWith("ncb;")){var H=new kg(z.E.H,!0);H.l=$.ht;H.data={Q:"append",SD:"Paste Notes",aCP:JSON.parse(c5.slice(4))};
this.a(H)}else if(c5.startsWith("vcb;")){var k0=JSON.parse(c5.slice(4));k0[0]=dM.ayd(k0[0]);var H=new kg(z.E.H,!0);
H.l=$.WU;H.data={Q:"append",SD:"Paste Paths",aCP:k0};this.a(H)}else if(c5.startsWith("lrs;")){var cd=c5.split(";"),fz=this.r0[parseInt(cd[1])];
if(fz==null)return;var fu=this.Mq(),c6=fz.Y;fz.Y=JSON.parse(cd[2]);var k7=fz.oc(null,fz!=fu);fz.Y=c6;
var H=new kg(z.E.H,!0);H.data={Q:ad.xU,U:k7,xZ:fz,f6:fu};H.l=$.mu;this.a(H)}else if(c5.startsWith("<!--")||c5.startsWith("<svg")){var hP=c.WT(c5),e1=b_.O7("svg"),u=new fr("image.p"+"sd");
e1.AR(hP.buffer,u);if(this.r0.length!=0){var fs=u.U;if(fs.length==3&&fs[0].getName()=="</Layer group>"&&fs[2].ES())fs=[fs[1]];
var H=new kg(z.E.H,!0);H.l=$.mu;H.data={Q:ad.xU,U:fs,xZ:u,f6:this.Mq()};this.a(H)}else this.amj(u)}}if(y==z.J.Mz){fC.Da(s.data.Pp,this)}if(y==z.J.iV){if(window.parent!=window)window.parent.postMessage(s.data.dh,"*");
this.Zt.Dh(s.data.dh)}if(y==z.J.Rt){var eh=parseFloat(s.data.Rj);if(this.f.eo.indexOf(eh)==-1){var H=new kg(z.E.c,!0);
H.data={Q:z.J.ko,dh:g5.WD,K:eh,hP:"add"};this.a(H)}this.Zt.awR(s.data.Rj)}if(y==z.J.h8){this.Aq.aiA(this.Mq(),this.f)}if(y==z.J.xL){var gW="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var R=0;R<gW.length;R+=2)if(s.data.Rj==gW[R]&&this.OV(gW[R+1]))return;if(!this.f.Z1&&s.data.window=="saveforweb"){alert("function is disabled");
return}this.He.a39(s.data.Rj,this.Mq(),s.data,this.r0,this.mC)}if(y==z.J.Q2){var hk=this.f.ID.exportAs;
if(hk)this.nk(s.data.data);else cD.save(s.data.data,s.data.name)}if(y==z.J.ma){if(!this.He.bA()||s.T8)this.amj(s.data.ZK)}if(y==z.J.Bm){this.qT.Q4(s.data.target);
var H=new kg(z.E.H,!0);H.data={Q:ad.Nd,ZK:s.data.ZK,qA:s.data.qA,Eh:s.data.Eh};H.l=$.mu;this.a(H);this.iv($.wO)}if(y==z.J.ard){ci.Qh=!ci.Qh;
if(this.r0.length>0)this.Mq().vw()}if(y==z.J.aAg){var jz=dB.iJ();if(jz!=null&&jz.globals!=null)this.Ak(jz.globals);
this.q1()}if(y==z.J.Am){this.NC.yc(s.data.data,null,s.data.hR,s.data.EJ,s.data.aHI)}if(y==z.J.LT){var lh=this.Z$();
if(!this.He.D$()!=null)this.iv(s.data.l,s.data.uP);var ag=this.Z$();if(ag!=lh&&s.data.asS)ag.nD(this.Mq(),this,this.f,this.mC,this.Df)}if(y==z.J.qw){if(this.Z.ay3)this.iv(this.Z.ay3)}if(y==z.J.Km){var eo=this.Z.map[s.data.l].l,F=this.Mq();
eo.j9(s.data,this,F,this.mC,this.f);if(F)F.GJ=!0;this.ayV()}if(y==z.J.Qo){var aC=this.Z.map[s.data.l];
this.a8q(aC);aC.AT.MP(s.data)}if(y==z.J.ko){var F=this.Mq(),e8,lb=!(F&&F.Y.length!=0&&F.U[F.Y[0]].add.TySh),jn=s.data.dh,k3=s.data.BC,cP=this.f;
if(s.data.hP=="set"){var ag=$.XJ[k3[1].classID];if(cP.zI!=ag)this.iv(ag);this.Z.map[ag].AT.LR(k3,cP)}if(s.data.hP=="add"){var q=g5.Kd[jn];
if(jn==g5.WD){cP.eo.push(s.data.K);cP.eo.sort(function(eY,kF){return eY-kF})}else if(jn==g5.agd){cP.amt.push(s.data.BC)}else if(q==null){if(k3)cP.s4.aoQ(k3,s.data.aDm);
if(F)F.G_=!0}else{var cV=this.o1(jn);if(jn==g5.pr){cV.nt=cV.nt.concat(k3.nt);cV.hx=cV.hx.concat(k3.hx);
cV=cV.list;k3=k3.list}if(jn==g5.KE&&F){for(var R=0;R<k3.length;R++){var l2=k3[R].bN.Lefx;if(l2)cb.ahV(l2,F,cP.ha)}}if(jn==g5.kK&&k3==null){var u=this.Z.map[cP.zI].AT.Qc();
if(u==null)return;k3=[u]}if(g5.KI[jn]&&k3[0][0]=="_all_")k3=k3[0][2];for(var R=0;R<k3.length;R++)cV.push(k3[R]);
if(jn==g5.VE){var dS={};for(var R=0;R<cV.length;R++){var gH=cV[R].Bj;while(dS[gH]!=null)gH=cV[R].Bj=gH+"X";
dS[gH]=!0}}if(s.data.aDm!=!0)if(cV.length!=k3.length||jn==g5.X1||jn==g5.KE||jn==g5.aA||jn==g5.H)alert(aW.get(q[3])+" "+aW.get([23,1])+".")}}if(s.data.hP=="del"){if(jn==g5.WD){cP.eo.splice(cP.eo.indexOf(s.data.K),1)}else{var q=g5.Kd[jn],hd=s.data.EL,cV=this.o1(jn);
if(jn==g5.pr)cV=cV.list;for(var R=0;R<hd.length;R++)cV[hd[R]]=null;for(var R=0;R<cV.length;R++)if(cV[R]==null){cV.splice(R,1);
R--}alert(aW.get(q[3])+" deleted.")}}if(s.data.hP=="rnm"){var q=g5.Kd[jn],cV=this.o1(jn);if(jn==g5.pr)cV=cV.list;
if(cV[s.data.EL[0]]==null)return;q[2].I5(cV[s.data.EL[0]],(s.data.a6R?s.data.a6R:"")+s.data.K)}if((s.data.hP!=null||s.data.hP=="mdf")&&g5.KI[jn]){var d=this.f.j2,q=g5.Kd[jn];
if(d.W4&&!f9.L6()){var bL=this.o1(jn),au=iy.Jo(bL,q[2]);d.TI["_all_."+q[0]]=au.buffer;var H=new kg(z.E.c);
H.data={Q:z.J.ko,dh:g5.uM};this.a(H)}}if(jn==g5.IB){var ev=s.data.K;cP.Zb=ev;cP.aBv[ev.tn]=ev.Rw}if(jn==g5.pj){var ev=s.data.K;
cP.fe=a.G(ev);var eF=aV.wh(ev);cP.aKg[eF.tn]=eF.Rw}if(jn==g5.vb){cP.S0=s.data.K;var fn=aV.S0.Jb(),iu=!0;
for(var u in fn)if(cP.S0[u]==null)iu=!1;if(iu)cP.ajm=a.G(cP.S0)}if(jn==g5.sp){cP.IP=s.data.K}if(jn==g5._X){cP.va=s.data.K}if(jn==g5.B0){cP.xx=s.data.xx;
var gz=cP.xx.TY.FillColor;if(lb&&gz){var dL=gz.Values,dm={o:dL[1]*255,R:dL[2]*255,X:dL[3]*255},cM=a.DU(dm);
if(cP.UC!=cM){cP.UC=cM;e8=g5._2}}}if(jn==g5.JZ){var o=a.G(s.data.tK),l5=o.useBrushSize;if(l5&&l5.v){o.Brsh.v.Dmtr.v.val=cP.ql.ss.Brsh.v.Dmtr.v.val;
l5.v=!1}cP.ql.ss=o;if(o.Nm==null)return;var i3={Cw:"select",kT:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:o.Nm.v.split("/").pop()}}]}}},aC=this.Z$();
aC.$V=this;aC.track(i3)}if(jn==g5.vG){cP.fL=s.data.IQ}if(jn==g5.rc){var eg=s.data.IQ,iB=!0,j5=null;if(s.data.azA){eg=cP.BC.slice(0);
eg.splice(eg.indexOf(s.data.azA),1)}var la=eg,ea=cP.BC;if(ea.length>la.length){var jG=ea;ea=la;la=jG;
iB=!1}for(var R=0;R<la.length;R++)if(ea.indexOf(la[R])==-1)j5=la[R];cD.QM("act=3&id="+j5+"&dif="+(iB?1:-1));
alert((iB?"Resource added.":"Resource removed.")+" "+j5);if(!iB)if(cP.a6o[j5])delete cP.a6o[j5];cP.BC=eg}if(jn==g5._2){var i3,hU="Clrs";
if(s.data.tW<2){var kn=s.data.K,k5=s.data.tW==0,a0=a.wv.gN(a.Aj(kn));if(k5)cP.UC=kn;else cP.Cc=kn;hU=k5?"FrgC":"BckC";
i3={Cw:"set",kT:{__name:"Set",classID:"setd",T:{t:"Objc",v:a0}}}}if(s.data.tW==2){var jG=cP.UC;cP.UC=cP.Cc;
cP.Cc=jG;i3={Cw:"exchange",kT:{__name:"Exchange",classID:"Exch"}}}if(s.data.tW==3){cP.UC=0;cP.Cc=16777215;
if(F!=null&&F.Y.length!=0&&F.U[F.Y[0]].KV==1){var jG=cP.UC;cP.UC=cP.Cc;cP.Cc=jG}i3={Cw:"reset",kT:{__name:"Reset",classID:"Rset"}}}if(i3){i3.kT.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:hU}}]};
var aC=this.Z$();aC.$V=this;aC.track(i3)}}if(jn==g5.WF){cP.vr=!cP.vr;this.wi()}if(jn==g5._s){cP.he=!cP.he;
this.wi()}var ab=cP.QZ;if(jn==g5.ox){ab.vq=!ab.vq;this.wi()}if(jn==g5.hk){ab.J4=!ab.J4;this.wi()}if(jn==g5.CL){ab.FQ=!ab.FQ;
this.wi()}if(jn==g5.VT){ab.W2=!ab.W2;this.wi()}if(jn==g5.ye){ab.mp=!ab.mp;this.wi()}if(jn==g5.R3){ab.$X=!ab.$X;
this.wi()}if(jn==g5.Aw){cP.QZ=s.data.IQ;this.wi()}if(jn==g5.agz){cP.Po=!cP.Po;this.wi()}if(jn==g5.TX){cP.fA[s.data.zi]=!cP.fA[s.data.zi];
this.wi()}if(jn==g5.r1){aW.aeh(s.data.lang,this.ab2)}if(jn==g5.le){cP.OW=s.data.OW;this.T()}if(jn==g5.uM&&cP.j2.W4){var c$=cP.j2.W4.transaction(["rsrc"],"readwrite").objectStore("rsrc"),eB={k:"fs0",fset:cP.j2.TI};
if(s.data.aju)eB={k:cP.j2.id,fset:cP.j2.hS};var ii=Object.keys(eB.fset).length==0?c$.delete(eB.k):c$.put(eB);
ii.onerror=function(s){console.log(s);alert("Storing failed. Browser says: "+s.target.error.message,7e3)}}this.J9(jn);
if(e8)this.J9(e8)}};f0.prototype.a4s=function(){var s=this.Mq();console.log(s.IM);if(s.IM)return;s.IM=!0;
var M=new kg(z.E.c,!0);M.data={Q:z.J.JC,T1:"Saving ..."};this.a(M);setTimeout(function(){var M=new kg(z.E.c,!0);
M.data={Q:z.J.xa,a1N:!0};this.a(M)}.bind(this),20)};f0.prototype.awQ=function(s,M){M.Hn.createWritable().then(function(O){O.write(s);
return O}).then(function(O){return O.close()}).then(function(O){M.Wh();M.IM=!1;var P=new kg(z.E.c,!0);
P.data={Q:z.J.fy,T1:"Saving ..."};this.a(P)}.bind(this)).catch(function(O){M.IM=!1;var P=new kg(z.E.c,!0);
P.data={Q:z.J.fy,T1:"Saving ..."};this.a(P)}.bind(this))};f0.prototype.adV=function(){var s=this.f,M=s.BC,O=s.a6o;
for(var R=0;R<M.length;R++){var P=M[R];if(O[P])continue;O[P]=!0;this.NC.pg(P,!0)}};f0.prototype.aKL=function(){this.T();
this.wi()};f0.prototype.OV=function(s){var M=this.f.ID[s];if(M){var O=new kg(z.E.c,!0);O.data={Q:z.J.Mz,Pp:M};
this.a(O)}return M!=null};f0.prototype.SS=function(s,M){var O=!0,A=15;if(M){O=!1;for(var R=0;R<M.length;
R++)if(M[R].startsWith(i.BF("__M")))O=!0}var P=s.uf()||s.dt&&s.dt.xZ.uf();if(this.WV())P=!1;var y=new i.X7[dN.aah],F=(y[i.uh("xy,b-66:")]()&1)*60+y[i.BF("VQ]3LNRN<G")]();
if(P&&!dB.Mo()&&F>A&&O){var h=i.X7[i.uh("}$z{2*35")][i.uh("y'|!")],m=i.BF("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
m+="\n\n"+i.BF("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-F+120)+i.BF("nYRTXTBMd");
if(h.indexOf(i.uh("\"|'/-1)(W0?@"))==-1)m=aW.get([0,11+6,3+2]);i.X7._cwY(m);return!1}return!0};f0.prototype.o1=function(s){var M=this.f,O=[g5.pr,g5.hL,g5.cR,g5.aA,g5.fV,g5.VE,g5.KE,g5.X1,g5.H,g5.kK,g5.WQ,g5.GV],P=[M.ql,M.Ac,M.Rh,M.M$,M.ha,M.nu,M.ZB,M.asM,M.Cn,M.yp,M.aov,M.a4S];
return P[O.indexOf(s)]};f0.prototype.aK2=function(s,M){var O=this.o1(s);console.log(O);if(M){var P=s==g5.pr,y=[];
for(var R=0;R<M.length;R++)y.push((P?O.list:O)[M[R]]);O=P?{hx:O.hx,nt:O.nt,list:y}:y}if(s==g5.KE){var F=new fr;
for(var R=0;R<O.length;R++){var A=O[R].bN.Lefx;if(A)cb.ayw(A,F,this.f.ha)}O={PJ:F.add.Patt?F.add.Patt:[],B5:O}}if(s==g5.kK){var h=this.f.ql;
O={nt:[],hx:[],list:O};console.log(O)}console.log(O);var m=g5.Kd[s];return m[2].mK(O)};f0.prototype.a89=function(){var s=this.aAh(),M=this.Mq();
if(M==null||M.Y.length==0)return;var O=M.U[M.Y[0]],P=new kg(z.E.H);if(dc==2){P.l=$.ht;P.data={Q:"remove",SD:"Cut Notes"}}else if(s==1){P.l=$.WU;
P.data={Q:"remove",SD:"Cut Paths"}}else{P=new kg(z.E.fa);P.data={Cw:"delete"}}this.a(P)};f0.prototype.aAh=function(s,M,O){if(s==null)s=!1;
var P=this.f;console.log("doCopy",s,M);var y=this.Mq();if(P.zI==$.El&&this.Z$().bA()){var F=new kg(z.E.H,!0);
F.l=$.El;F.data={Q:"copyText"};this.a(F);return}if(y.Y.length==1&&dc==2){var A=y.U[y.Y[0]].J;if(A.Y.length==0)return;
var h=[];for(var R=0;R<A.Y.length;R++)h.push(A.list[A.Y[R]]);cD.o$(new Blob(["ncb;"+JSON.stringify(h)],{type:"text/plain"}));
return}if(y==null||y.Y.length==0&&!s)return;var m=y.U[M==null?y.Y[0]:M],Z=y.Iv(),u=Z[0],f=Z[1],U=u[f[0]];
if(!s&&U!=null&&U.add.vmsk.Y.length!=0&&dc==0){var C=$.Y8.jh(U.add.vmsk,U.add.vogk);if(i.VM()){C[0]=dM.aGl(C[0]);
var H="vcb;"+JSON.stringify(C);cD.o$(new Blob([H],{type:"text/plain"}))}else P.ZJ=C;return 1}else if(y.h==null){if(i.VM()){var H="lrs;"+this.r0.indexOf(y)+";"+JSON.stringify(y.Y);
cD.o$(new Blob([H],{type:"text/plain"}))}}else{var t,X;if(s){var Q=new gi(0,0,y.A,y.$);X=Q.OK(y.h.S);
t=a.j(X.C()*4,y.depth);a.FP(y.Ta(),Q,t,X);a._5(y.h.N,y.h.S,t,X)}else if(y.G7.length!=0){X=y.h.S.v();
t=a.j(X.C()*4,y.depth);var D=y.dj[y.G7[0]],L=D.mw(X);a.Rm(L,t);a.GS(y.h.N,t,3)}else{var E=m.Ff(y,y.h);
if(E==null){alert("Copied area is empty");return}t=E.OC;X=E.S}var _=y.i.P7,S=_[0]+_[1]+_[2];if(S==1){var W=_.indexOf(1);
for(var R=0;R<t.length;R+=4)t[R]=t[R+1]=t[R+2]=t[R+W]}var g=new j6(y.A,y.$);if(i.VM()&&O!=!0){var x=b_.O7("PNG").S3(t.buffer,X.A,X.$,y.depth);
cD.o$(new Blob([new Uint8Array(x)],{type:"image/png"}));this.abS={Iz:X,$P:g}}else P.PA={buffer:t,S:X,$P:g};
P.a6l=X.v();P.ZJ=null;var F=new kg(z.E.fa);F.data={Cw:"copyEvent",rz:!0};this.a(F)}};f0.prototype.ad6=function(s,M,O){if(M)this.a0d=!0;
console.log("doPaste");var P=this.f,y=P.PA,F=this.mC,Z;if(this.r0.length==0){if(!s&&i.VM()){cD.kc(this,null);
return}if(y){var A=b_.T7("image.p"+"sd",[{data:y.buffer.buffer,IK:y.S}]),h=new kg(z.E.c);h.data={Q:z.J.ma,ZK:A};
this.a(h)}return}var A=this.Mq();if(P.zI==$.El&&this.Z$().bA()){cD.kc(this,null);return}var m=A.U[A.Y.length==0?A.U.length-1:A.Y[0]];
if(P.ZJ){var u=A.Iv(!0),f=u[0],U=u[1];Z=f[U[0]]}var h=new kg(z.E.H,!0);if(P.ZJ!=null&&Z!=null){h.l=$.WU;
h.data={Q:"append",SD:"Paste Paths",aCP:P.ZJ}}else if(!s&&i.VM()&&O!=!0){var C=navigator.userAgent.toLowerCase();
cD.kc(this,this.a50.bind(this));return}else{if(y==null)return;if(A.Y7(!1)&&(A.i.P7.join("")!="111"||A.G7.length!=0||m.KV>0||m.S.g3())){h.l=$.pr;
h.data={Q:"draw",atV:!0,SD:[5,2]}}else{h.l=$.mu;h.data={Q:ad.Z8,apY:this.a0d};this.a0d=!1}h.data.PA=y;
if(y.S.x==0&&y.S.y==0){var H=A.i.SB,t=A.i.D7(A.A/2,A.$/2),X=A.A-y.S.A,Q=A.$-y.S.$;if(H.$z(t)){var D=A.E8();
if(D==-1){y.S.x=X>>1;y.S.y=Q>>1}else{var L=A.U[D].Kj();y.S.x=Math.floor((L.A-y.S.A)/2);y.S.y=Math.floor((L.$-y.S.$)/2)}}else{t=A.i.ni(H.A/2,H.$/2);
console.log(t);y.S.x=Math.max(0,Math.min(X,Math.round(t.x-y.S.A/2)));y.S.y=Math.max(0,Math.min(Q,Math.round(t.y-y.S.$/2)))}}}this.a(h);
var h=new kg(z.E.fa);h.data={Cw:"paste",rz:!0};this.a(h)};f0.prototype.aBu=function(){var s=this.f.s4;
if(s.aLp())return;for(var R=0;R<this.r0.length;R++){var M=this.r0[R];if(!bZ.yx(M,s,this))continue;if(M.Jf)bZ.uc(M,s,this);
var O=M.add.lnk2;if(O)for(var P=0;P<O.length;P++){var y=O[P];if(y.Jf)$.HH.x7(M,y.Xh,y,y,s)}if(M.aBT)continue;
M.aBT=!0;if(M.hP&&M.hP.aDf)fC.Da(M.hP.aDf,this);this.nk();var F=new kg(z.E.H);F.l=$.JG;F.data={Q:"start",OT:"blurbTransform"};
F.data={Q:"start",OT:"rigidTransform"};F.data={Q:"start",OT:"perspectiveWarpTransform"};var A=new kg(z.E.c);
A.data={Q:z.J.Rt,Rj:iY.ho.TP};A.data={Q:z.J.xL,Rj:"saveforweb",tW:3,mY:16711935,gL:4,index:[10,0]}}};
f0.prototype.J9=function(s){this.adV();var M=this.f,O=M.zI,h=!1;if(s==g5.JZ){if(this.Z.map[O].AT)this.Z.map[O].AT.qy(M,s)}else for(var P in this.Z.map)if(this.Z.map[P].AT)this.Z.map[P].AT.qy(M,s);
if(s==g5.Ql){if(O!=$.El)this.Z.map[$.El].l.qy(M,s);this.aBu()}this.qT.qy(M,s);this.Yt.qy(M,s);this.He.qy(M,s);
if(dc==1&&s==g5.vb){var y=new kg(z.E.H,!0);y.l=$.mu;y.data={Q:ad.b7};this.a(y)}else this.Z$().qy(M,s);
this.Zt.qy(M,s);this.Ur.qy(M,s);if(dc==1)this.ZH.qy(M,s);if(dc==2)this.ti.qy(M,s);if(s==g5.le||s==g5.rT){hz.aGg(M.OW);
this.update(!0)}var F=M.xx,A=F.TY.Font;if(s==g5.B0&&A!=null&&F.U2[A].Name!=M.font){M.font=F.U2[A].Name;
h=!0}if([g5.WD,g5.vG,g5.rc,g5._2,g5.WF,g5._s,g5.Aw,g5.CL,g5.VT,g5.ox,g5.hk,g5.ye,g5.R3,g5.r1,g5.le].indexOf(s)!=-1||h)this.ayV()};
f0.prototype.ayV=function(){if(!this.Z4)return;var s=[],M=this.Z.map;for(var O in M){var P=M[O].l;if(P.jA&&P.jA()!=null)s.push(parseInt(O),P.jA())}var y=this.f,F=y.QZ,A={};
if(F.SC!=8421504)A.gc=F.SC;if(F.E0!=65535)A.uc=F.E0;if(F.B_!=33023)A.lc=F.B_;if(F.Pt!=20)A.gs=parseFloat(F.Pt.toFixed(2));
if(F.af!=0)A.gv=parseFloat(F.af.toFixed(2));if(F.Ms!=1)A.gn=F.Ms;if(F.CV!=0)A.gu=F.CV;if(F.fJ!=0)A.gt=F.fJ;
if(F.DQ!=0)A.ru=F.DQ;if(F.W2!=!1)A.gr=F.W2?1:0;if(F.FQ!=!0)A.gd=F.FQ?1:0;if(F.vq!=!0)A.se=F.vq?1:0;if(F.J4!=!0)A.pa=F.J4?1:0;
if(F.mp!=!0)A.pg=F.mp?1:0;if(F.$X!=!0)A.sl=F.$X?1:0;var h={};if(y.UC!=0)h.fc=y.UC;if(y.Cc!=16777215)h.bc=y.Cc;
if(y.vr!=!1)h.ru=y.vr?1:0;if(y.he!=!0)h.ex=y.he?1:0;if(y.fL.length!=0)h.ff=y.fL.join(",");if(y.BC.length!=0)h.rs=y.BC.join(",");
if(y.OW!=1)h.theme=y.OW;if(y.c$!=0)h.co=y.c$;if(y.font!=null&&y.font!="DejaVuSans")h.fo=y.font;var m=iY.ajO(y.eo);
if(m.length!=0)h.pd=m;if(s.length!=0)h.to=s;if(aW.cB()!="en")h.lang=aW.cB();if(Object.keys(A).length!=0)h.ep=A;
var Z=dB.iJ();if(Z==null)Z={};Z.globals=h;dB.Cf(Z)};f0.prototype.UN=function(s){var M=this.mC,O=this.Df,P=this.f.zI,y=this.Z.map[P].l,F=null,A=!1;
for(var R=0;R<this.Z.avU.length;R++){var h=this.Z.avU[R],m=!0;for(var Z=0;Z<h.RU.length;Z++){var u=h.RU[Z];
if(!M.D(u))m=!1}if(m&&(!h.ou||!y.bA())&&(h.XF==null||h.XF.indexOf(P)!=-1)){F=h.l;A=h.ou;break}}if((!O.cQ||P==$.G8||s)&&this.Z.be!=F&&(F!=P||!A)){var f=this.Mq();
if(this.Z.be!=null&&F==null)this.Z$().disable(f,this,this.f,M,!0);this.Z.be=F;this.Z$().enable(f,this,this.f,M,F!=null&&F!=P)}};
f0.prototype.I4=function(s){var M=this.f.zI,O=this.Mq();if(M!=null){this.Z.map[M].l.disable(O,this,this.f,this.mC)}};
f0.prototype.a8q=function(s){if(s.AT==null){s.AT=new s.hq(s.l.id);s.AT.aup(s.l.id,s.l.ge);s.AT.qy(this.f,g5.rT);
s.AT.T()}};f0.prototype.iv=function(s,M){for(var R=0;R<this.r0.length;R++)this.r0[R].rA(!0);if(s==$.wO&&this.He.D$())return;
var O=this.Mq(),P=this.f;if(this.Z.map[s].l.LE(O,P,M)){this.I4();if(s!=P.zI)this.Z.ay3=P.zI?P.zI:$.ht;
P.zI=s;this.Yt.iv(P.zI);var y=this.Z.map[s];this.Z.CR[y.Wf]=y.aKu;this.a8q(y);this.O1.aHD(dc==0?y.AT:dc==1?this.ZH:this.ti);
var F=y.l;F.enable(O,this,this.f,this.mC,!1,M);if(O)O.GJ=!0;this.wi();this.pb.alE()}};f0.prototype.Z$=function(s){var M=this.Z,O=M.xQ,P=M.be,y=this.f.zI;
if(O)y=O;else if(P&&s==null)y=P;return M.map[y].l};f0.prototype.amj=function(s){var M=this.f,O=this.r0.indexOf(s);
if(O!=-1){this.qT.Q4(O);return}if(this.aya&&(s.hP==null||s.hP.sg==null)){s.hP={sg:this.aya}}if(s.K9==null){s.K9="local,"+this.aIJ+","+s.name;
this.aIJ++}s.ayn=Date.now();if(dc==1&&s.add.arts==null)s.aay();if(f9.hg()!=0&&!this.amU&&i.X7[i.uh("t$&!'31")].toString().indexOf(i.uh(" u,$4&"))==-1){alert(i.uh("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var R=0;R<s.U.length;R++){var P=s.U[R];if(P.add.SoLd!=null){}}var y=s.U.length,F=dN.hT(),A=Math.PI*(8e3<<14)+(i.wI(31)?20:10)*7e7;
if(F>A){var y=s.U.length;s.U=[];return y}if(ci.Qh){ci.zW(Math.max(s.A,s.$),s.depth);for(var R=0;R<s.U.length;
R++){var P=s.U[R];if(P.Lv())ci.zW(Math.max(P.S.A,P.S.$))}}s.DA();s.Jy();if(s.ahf)s.aCR();else s.vw();
s.ahf=!1;this.r0.push(s);this.qT.KO(new d0(s));s.GJ=!0;s.G_=!0;this.aBu();if(this.a7y)this.f$(1);var h=new kg(z.E.H);
h.l=$.sA;h.data={Q:"auto",aJq:2}};f0.prototype.Mq=function(){return this.r0[this.a19]};f0.prototype.am6=function(){return this.He.D$()==null};
f0.prototype.j1=function(s,M){this.I4();var O=this.r0.length;if(M!=null)this.qT.Q4((this.qT.pc()+M+O)%O);
this.a19=this.qT.pc();var P=this.Mq();this.Ur.rn(P,this.f);if(dc==1)this.ZH.rn(P,this.f);if(dc==2)this.ti.rn(P,this.f);
this.Zt.o3(P,this.r0,this.f);this.wi();if(P)P.GJ=!0};f0.prototype.ao5=function(s){this.I4();var M=this.r0,O=M[s.data.tw];
M.splice(s.data.tw,1);if(M.length==0){this.j1(s);var P=ci.FL(),y=d0.HE.Ec;if(P.parentNode)P.parentNode.removeChild(P);
if(y.parentNode)y.parentNode.removeChild(y)}this.a4M(O.name)};f0.prototype.a4M=function(s){var M=this.f.j2,O=!1;
if(M.W4==null)return;for(var P in M.hS){if(s==null||P==s){delete M.hS[P];O=!0}}if(O){var y=new kg(z.E.c);
y.data={Q:z.J.ko,dh:g5.uM,aju:!0};this.a(y)}};f0.prototype.aer=function(s){var M=[],O=s.data.abT;for(var R=0;
R<O.length;R++)M[R]=this.r0[O[R]];this.r0=M;this.a19=this.qT.pc()};f0.prototype.an_=function(s){var M=this.qT,O=M.alK(),P=this.Z$(),y=this.Mq();
if(O==M.pc()||!P.aE9())return;this.aE$(O,P)};f0.prototype.aE$=function(s,M){console.log("dup2doc");var O=this.f,P=this.qT,y=this.Mq(),F=this.r0[s],A,h=new kg(z.E.H,!0);
h.l=$.mu;if(y.h==null){h.data={Q:ad.xU,U:y.oc(null,!0),xZ:y,f6:F,a1f:M==null};this.a(h)}else A=y.U[y.Y[0]].Ff(y,y.h);
var m=this.Df,Z=O.vr;O.vr=!1;m=y.i.ni(m.x,m.y);if(M)M.Mn(y,this,O,this.mC);P.Q4(s);if(y.h){h.data={Q:ad.Z8,PA:{buffer:A.OC,S:A.S}};
this.a(h)}m=F.i.D7(m.x,m.y);if(M)M.nD(F,this,O,this.mC,m);O.vr=Z};f0.prototype.aHG=function(s){var M=this.Mq(),O=this.mC,P=this.f,y=s.In;
if(y)this.Df=y;if(y)y.y-=P.c$;if(this.ar4==null)this.ar4=0;if(s.action=="multidown"){this.pE=s.xF.length;
this.ar4=Date.now()}if(s.action=="up"&&Date.now()-this.ar4<100){var F=new kg(z.E.H);F.l=$.FZ;F.data={Q:this.pE==2?"h_stepbck":"h_stepfwd"};
this.a(F)}if(s.action.startsWith("multi")){var A=new kg(z.E.H,!0);A.data={Q:s.action,xF:s.xF};A.l=$.zY;
this.a(A);return}var h=this.Z.map[$.ht].l;if((s.action=="down"||s.action=="rdown")&&P.zI!=$.ht&&this.Z.be!=$.ht&&h.a6I(M,this,P,O,y)){this.Z.xQ=$.ht;
h.enable(M,this,P,O,!0)}if(s.action=="idown"){O.uO("Space");this.UN(!0);s.action="down"}var m=this.He.D$(),Z=m!=null&&m.Ls()&&this.Z.be==null?m:this.Z$();
if(s.action=="scroll"){var u=!O.D(hj.yu)&&s.yB,f=O.D(hj.tT);if(window.locStor.getItem("__zwh")=="1")f=!f;
var A=new kg(z.E.H,!0);A.data={Q:"scroll",EW:s.EW.v(),In:y,asz:u};A.l=f||u?$.zY:$.dU;this.a(A)}if(m!=null&&Z!=m&&this.He.bA()&&Z.id!=$.dU&&Z.id!=$.zY)return;
if(s.action=="down")Z.nD(M,this,P,O,y);if(s.action=="rdown")Z.jM(M,this,P,O,y);if(s.action=="move")Z.nh(M,this,P,O,y);
if(s.action=="up"||s.action=="iup"||s.action=="cancellast")Z.Cq(M,this,P,O,y,s.action=="cancellast");
if(s.action=="rup")Z.z4(M,this,P,O,y);if(s.action=="iup"){O.cr("Space");this.UN(!0)}if(s.action=="cancellast"){if(M&&M.history.length!=0&&Date.now()-M.history[M.history.length-1].af2<200){var F=new kg(z.E.H);
F.l=$.FZ;F.data={Q:"h_stepbck"};this.a(F)}}var U=this.Zt;if(s.action=="down")U.nD(M,this,P,O,y);if(s.action=="move")U.nh(M,this,P,O,y);
if(s.action=="up")U.Cq(M,this,P,O,y);if(s.action=="down"||s.action=="up"){this.UN()}if(s.action=="down"||s.action=="up"||s.action=="ctx"){M.GJ=!0}if((s.action=="up"||s.action=="rup")&&this.Z.xQ){this.Z.xQ=null;
h.disable(M,this,P,O)}if(M&&P.vr)M.G_=!0};f0.prototype.qg=function(s){var M=this.Mq(),O=this.Df;if(M&&this.Z$().cJ(O,this.mC)){var P=M.i,y=P.SB.A,F=P.SB.$,A=0,h=0,m=16;
if(O.x<m)A=m-O.x;if(O.x>y-m)A=O.x-(y-m);if(O.y<m)h=m-O.y;if(O.y>F-m)h=O.y-(F-m);var Z=this.mC.D(hj.Y1)?8:1;
if((A!=0||h!=0)&&(M.A*P.xq>y||M.$*P.xq>F)){A=Math.min(5,A*.5)*Z;h=Math.min(5,h*.5)*Z;if(O.x>m)A=-A;if(O.y>m)h=-h;
P.p.x+=A;P.p.y+=h;this.aHG({In:this.Df,action:"move"});M.DI=!0}}this.update()};f0.prototype.update=function(s){var M=this.Mq();
if(M==null)return;if(dc!=0){if(M.buffer)throw"e"}if(M.GJ){var O=this.Z.map;for(var P in O){if(O[P].l.Iy)O[P].l.Iy(M,this,this.f,this.mC)}if(dc==1){O[$.np].l.Iy(M,this,this.f,this.mC,!0)}}if(M.MD&&dc==0)if(ci.Qh)ci.zW(Math.max(M.A,M.$));
if(M.MD&&dc==0){M.kp()}if(dc==2&&M.J.Nh){var y=M.i.u0();y.or();M.i.p.x=-Synth.a7r(Speaker.getTime(),M)*y.cd;
M.G_=!0}var F=M.i,A=this.vB,h=this.vB=Date.now();if(M.MD||M.Yw||M.G_||M.DI||s||F.jL!=F.xq||!F.qK.s0(F.p)){var m=F.jL;
if(F.jL!=F.xq){var Z=$.Ay.aze(F.xq,F.jL>F.xq),u=.12;if(F.jL<F.xq&&F.jL<Z)F.jL=Z;if(F.jL>F.xq&&F.jL>Z)F.jL=Z;
var f=Math.abs(F.xq-Z)*(h-A)*.001/u;if(F.jL<F.xq)F.jL=Math.min(F.xq,F.jL+f);else F.jL=Math.max(F.xq,F.jL-f)}var U=m==F.xq?0:(F.jL-F.xq)/(m-F.xq);
F.qK.x=F.p.x+U*(F.qK.x-F.p.x);F.qK.y=F.p.y+U*(F.qK.y-F.p.y);this.qT.qy(this.f,null);this.qT.o3(M,this.r0)}if((M.MD||M.DI||M.GJ)&&(!this.Df.cQ||M.QJ)){if(M.GJ)M.Jy();
this.Zt.o3(M,this.r0,this.f);this.Yt.ab1(M,this.mC);if(dc==1)this.ZH.o3(M);M.cw=!1}M.QJ=!1;M.GJ=!1;M.MD=null;
M.Yw=M.G_=M.DI=!1};f0.prototype.zf=function(s){var M=s.target.tagName.toLowerCase(),O=s.target.getAttribute("type"),P=hj,y=P.DT(s.code,P.$g);
if(!((M=="input"||M=="select"||M=="button")&&P.DT(s.code,P.bi))){if(P.a9b(s)&&M!="select"){s.preventDefault()}this.mC.uO(P.lt(s));
this.lJ("down")}};f0.prototype.cm=function(s){var M=this.mC;if(s.key==" ")M.pi();if(hj.DT(s.code,hj.abm))M.reset();
M.cr(hj.lt(s));M.axl(s.getModifierState("CapsLock"));var O=s.target.tagName.toLowerCase();if(hj.a9b(s)&&O!="select"){s.preventDefault()}this.lJ("up")};
f0.prototype.lJ=function(s){var M=this.mC,O=this.Mq(),P=O!=null&&O.Y.length!=0;if(this.Aq.D$()!=null){if(M.D(hj.ob)||M.D(hj.$g)){this.Aq.abP()}return}this.UN();
var y=this.V3(hj.yu),F=M.D(hj.tT),A=M.D(hj.Y1);if(y&&M.D(hj.sN)&&s=="down"){var h=new kg(z.E.H),m=new kg(z.E.c);
h.l=$.FZ;if(A){h.data={Q:"h_stepfwd"}}else{h.data={Q:"h_stepbck"}}if(this.He.D$()!=null&&this.He.D$().bA()){}else this.a(h)}if(y){var h=new kg(z.E.H),Z=new kg(z.E.fa),m=new kg(z.E.c);
if(M.D(hj.hK)&&M.D(hj.km)){m.data={Q:z.J.xL,Rj:"storwindow"};this.a(m)}if(!F&&s=="down")for(var u in ak.keys){var f=ak.keys[u],U=!0;
for(var R=0;R<f.length;R++)if(!M.D(f[R]))U=!1;if(U){h.l=$.sA;if(u=="hue2"&&A&&O.U[O.Y[0]].add.SoLd==null)h.data={Q:"auto",aJq:3};
else h.data={Q:"start",Qy:u}}}if(M.D(hj.J)){if(F){Z.data={Cw:"selectAllLayers",kT:{classID:"null",null:f7.Ht("Lyr",!0)}}}else if(dc==2){var C=O.U[O.Y[0]];
if(C){C.J.Y=[];for(var R=0;R<C.J.list.length;R++)C.J.Y.push(R);O.G_=!0}}else Z.data=$.vm.l4(!0)}if(M.D(hj.fG)){if(F)m.data={Q:z.J.xL,Rj:"csize"};
else if(O)m.data={Q:z.J.WP,nj:A}}if(M.D(hj.wQ)&&O.h){Z.data=$.vm.l4()}if(M.D(hj.E)&&s=="down"){if(A)Z.data={Cw:"mergeVisible"};
else if(hr.w8(O).e)Z.data={Cw:"mergeLayersNew",kT:{__name:"Merge Layers",classID:"Mrg2"}}}if(M.D(hj.YF)){if(A&&this.f.zI!=$.wO)m.data={Q:z.J.xL,Rj:"afw_fade"};
else if(F){h.l=$.JG;h.data={Q:"applylast"}}else m.data={Q:z.J.h8}}if(M.D(hj.jX)){if(F&&O&&O.TJ(O.Y[0])){h.l=$.mu;
h.data={Q:ad.eb}}else{h.l=$.mu;h.data={Q:ad.De,s9:A}}}if(dc==1&&M.D(hj.Rs)){h.l=$.mu;h.data={Q:ad.De,Cj:!0,s9:F}}if(M.D(hj.kq)){m.data={Q:z.J.ko,dh:g5._s}}if(M.D(hj.hK)){if(A){h.data=null;
if(F)m.data={Q:z.J.xL,Rj:"finfo"};else Z.data={Cw:"inverse"}}else if(F)m.data={Q:z.J.xL,Rj:"isize"}}if(M.D(hj.tF)){Z.data={Cw:(A?"cut":"copy")+"ToLayer"}}if(M.D(hj.fB)){m.data={Q:z.J.xL,Rj:"preferences"}}if(M.D(hj.UE)){if(A){h.l=$.mu;
h.data={Q:ad.Wo}}else if(s=="down")m.data={Q:z.J.xL,Rj:"newproject"}}if(M.D(hj.ki)){if(F)m.data={Q:z.J.xL,Rj:"storwindow",Eq:0};
else{m.data={Q:z.J.Fw};M.reset()}}if(M.D(hj.I0)){m.data={Q:z.J.xL,Rj:"saveforweb",gL:3,a0S:!0}}if(M.D(hj.ho)){m.data={Q:z.J.ko,dh:g5.WF}}if(M.D(hj.L8)&&s=="down"){if(A){if(F)m.data={Q:z.J.xL,Rj:"saveforweb"};
else m.data={Q:z.J.xa}}else m.data={Q:z.J.MF}}if(M.D(hj.aD)){if(A){h.l=$.mu;h.data={Q:ad.i_};this.a(h);
h.l=$.wO;h.data={Q:"again"}}else m.data={Q:z.J.LT,l:$.wO}}if(M.D(hj.kv)){m.data={Q:z.J.v6}}if(M.D(hj.aLi)){this.qT.RJ()}if(M.D(hj.lk)&&O&&(O.aFK()||dc==2)){m.data={Q:z.J.F$}}if(M.D(hj.Hc)&&O){h.l=$.zY;
h.data={Q:"prvw"}}if(M.D(hj.Im)||M.D(hj.yt)){h.l=$.mu;h.data={Q:ad.Pr,tW:0};if(M.D(hj.Im))h.data.tW=A?3:2;
else h.data.tW=A?0:1}if(M.D(hj.ZI)&&O&&O.Y.length!=0){var H=O.U[O.Y[0]].CD();Z.data={Cw:H?"hide":"show",kT:{classID:"null",null:{t:"VlLs",v:[f7.Ht("Lyr",!0)]}}}}if(M.D(hj.$g)&&O){var t=0;
if(A)t++;if(F)t+=2;h.l=$.Sp;h.data={Q:"frompath",ZN:[null,0,t]}}if(M.D(hj.LL)){Z.data=$._P.lf(0)}if(M.D(hj.bi)){var X=this.r0.length,Q=M.D(hj.Y1)?-1:1;
if(X>1)this.qT.Q4((this.qT.pc()+X+Q)%X)}if(M.D(hj.tk)){m.data={Q:z.J.ko,dh:g5.CL}}if(M.D(hj.hn)){m.data={Q:z.J.ko,dh:g5.VT}}$.Ay.ayP(M,h);
if(this.He.D$()!=null&&this.He.D$().bA()){}else{if(h.data)this.a(h);if(Z.data)this.a(Z);if(m.data)this.a(m)}}if(!y&&F){var D;
if(M.D(hj.Im))D="Bckw";if(M.D(hj.yt))D="Frwr";if(M.D(hj.ZI))D="Back";if(M.D(hj.LL))D="Frnt";if(D){var Z=new kg(z.E.fa);
Z.data={Cw:"select",kT:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:D}}]},MkVs:{t:"bool",v:!1}}};
this.a(Z)}}if(O&&O.Y.length!=0){var C=O.U[O.Y[0]],L=C.KV;if(L==1||L==3||y){var h=new kg(z.E.H),E=L==3?C.UU(O).$E:C.Bl();
if(E){var _=E.H7?O.i.P7.join("")=="111"?1:2:0;h.l=$.zY;if(E&&M.D(hj.ob)&&_!=0){h.data={Q:"mskView",K:0}}if(E&&M.D(hj.ajK)){h.data={Q:"mskView",K:_==1?0:1}}if(E&&M.D(hj.asH)){h.data={Q:"mskView",K:_==2?0:2}}if(h.data)this.a(h)}}}var S=M.AN();
if(O&&y&&2<=S&&S<=5){var W=[1,1,1];if(S>2){W=[0,0,0];W[S-3]=1}var g=new kg(z.E.H,!0);g.l=$.dU;g.data={Q:"setcls",P7:W};
this.a(g)}if(!M.D(hj.yu)&&!F&&s=="down"){var h=new kg(z.E.H),m=new kg(z.E.c),x=this.Z.map[this.f.zI],V=-1;
for(var R=0;R<this.Z.keys.length;R++)if(this.Z.keys[R]&&this.V3(this.Z.keys[R]))V=R;if(V!=-1){var b=null;
if(x.Wf!=V)b=this.Z.CR[V];if(x.Wf==V&&A)b=(x.aKu+1)%this.Z.JH[V].length;if(b!=null){var N=this.Z.JH[V][b].l.id,J=this.f.H0;
if((J==null||J.indexOf(parseInt(N))!=-1)&&!this.Df.cQ)m.data={Q:z.J.LT,l:N}}}if(M.D(hj.kq))m.data={Q:z.J.LT,l:$.dU};
if(M.D(hj.ho))m.data={Q:z.J.LT,l:$.UF};if(M.D(hj.lk))m.data={Q:z.J.ko,dh:g5._2,tW:2};if(M.D(hj.wQ))m.data={Q:z.J.ko,dh:g5._2,tW:3};
if(m.data)this.a(m);if(M.D(hj.ak1)&&O&&O.Y.length==1){var C=O.U[O.Y[0]];h.l=$.mu;var K=C.T2(0)||C.T2(1)||C.T2(2)||C.T2(31);
h.data={Q:ad.Hl,IQ:K?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[0]]};this.a(h)}var S=M.AN();if(P&&S!=-1&&this.V3(hj.W3[S])){var q=O.Y[0],C=O.U[q],d=hj.aJA(Math.round(100*C.N_/255),S);
h.l=$.mu;h.data={Q:ad.V0,IQ:Math.round(255*d/100)};this.a(h)}var l=this.f.s7;if(M.D(hj.bi)){m.data={Q:z.J.b9,K:l==0?1:0};
this.a(m)}if(M.D(hj.YF)||M.D(hj.ob)&&l==2){var T=document.fullscreenElement!=null==(l==2);m.data={Q:z.J.b9,K:l==0?2:0,eM:T};
this.a(m)}if(M.D(hj.a1b)&&!this.Df.cQ){h.l=$.Sp;h.data={Q:"qmask"};this.a(h)}}if(!M.D(hj.yu)&&!F&&A){var h=new kg(z.E.H),m=new kg(z.E.c);
if(M.D(hj.ZI))m.data={Q:z.J.xL,Rj:"shortcuts"};if(M.D(hj.aaq))m.data={Q:z.J.xL,Rj:"fill"};if(M.D(hj.a43))m.data={Q:z.J.xL,Rj:"sel_feather"};
if(P&&(M.D(hj.OA)||M.D(hj.rl))){var q=O.Y[0],C=O.U[q],B=h0.n$,p=B.length,I=B.indexOf(C.mX);h.l=$.mu;
h.data={Q:ad.Jd,IQ:(I+p+(M.D(hj.OA)?1:-1))%p};this.a(h)}if(m.data)this.a(m)}var h=new kg(z.E.H),w=s=="down"&&(this.V3(hj.y6)||this.V3(hj.Di));
if((y||F)&&w){h=new kg(z.E.fa);h.data=$.am.Gk(y?"BckC":"FrgC");this.a(h)}else if(this.He.D$()==null&&O&&w&&!this.Df.cQ){if(O.h!=null){h=new kg(z.E.fa);
h.data={Cw:"delete"}}else if(O.Y.length!=0){var C=O.U[O.Y[0]];if(C.KV==1)h.data={Q:ad.jm};else if(C.KV==3)h.data={Q:ad.uB};
else h.data={Q:ad.Yb};h.l=$.mu}this.a(h)}if(this.He.D$()!=null){if(M.D(hj.ob)){this.He.D$().azN()}else{this.He.D$().lJ(O,this,this.f,M)}}if(this.f.zI==null)return;
var x=this.Z$();if(this.He.D$()==null||this.Z.be)x.lJ(O,this,this.f,M)};f0.prototype.V3=function(s){var M=this.mC,O=this.Z.map[this.f.zI].l,top=this.He.D$(),P=this.Mq();
return M.D(s)&&!O.cZ(s,P)&&(top==null||!top.cZ(s,P))};f0.prototype.f$=function(s){var M=this.aGD,O=this.ap;
this.f.s7=s;var P=i.qE,y=this.Ur._;if(P(y))this.kV.removeChild(y);var F=this.O1._;if(P(F))this.kV.removeChild(F);
var A=this.Yt._;if(P(A))M.removeChild(A);var h=this.qT._;if(P(h))M.removeChild(h);var m=this.Zt._;if(P(m))M.removeChild(m);
if(s==0){this.kV.appendChild(y);this.kV.appendChild(F);O.appendChild(M);M.appendChild(A);M.appendChild(h);
M.appendChild(m)}if(s==1){this.kV.appendChild(y);M.appendChild(h)}if(s==2){M.appendChild(h)}this.qT.f$(s==2?1:0);
this.wi()};f0.prototype.a3y=function(s){if(this.WV())return 1;if(i.arX()==0){this.f={};this.GK=function(M,O){return Math.sqrt(M*O)}}return-1};
f0.au9=function(){var s=dc==0?[[{l:new $.$O,hq:kY},{l:new $.uG,hq:jj}],[{l:new $.hX,hq:jX,k4:0},{l:new $.Lu,hq:eV,k4:0}],[{l:new $.HY,hq:d9,k4:0},{l:new $.RD,hq:io,k4:0},{l:new $.nn,hq:kE,k4:0}],[{l:new $.sJ,hq:hG,k4:0},{l:new $.t8,hq:aH,k4:0},{l:new $.Hr,hq:dh,k4:0}],[{l:new $.aeW,hq:f6},{l:new $.aJO,hq:da},{l:new $.sc,hq:k$,k4:0},{l:new $.TL,hq:as,k4:0}],[{l:new $.jP,hq:db},{l:new $.Wn,hq:hi,k4:0},{l:new $.sO,hq:iG}],[{l:new $.C_,hq:jh,k4:0},{l:new $.Q6,hq:fq,k4:0},{l:new $.HY(!0),hq:gc,k4:0},{l:new $.LW,hq:fA,k4:0},{l:new $.aDR,hq:iw,k4:0},{l:new $.CS,hq:hL,k4:0}],[{l:new $.ks,hq:dX,k4:0},{l:new $.cF,hq:gl,k4:0},{l:new $.lV,hq:cu,k4:0}],[{l:new $.lg,hq:kb,k4:0}],[{l:new $.Gb,hq:ll,k4:0},{l:new $.ZX,hq:gd,k4:0},{l:new $.uT(!0),hq:fy,k4:0}],[{l:new $.qM,hq:h9,k4:0},{l:new $.uT,hq:fy,k4:0}],[{l:new $.yZ,hq:dH,k4:0},{l:new $.m7,hq:b1,k4:0},{l:new $.o_,hq:kO,k4:0}],[{l:new $.XU,hq:aE,k4:0},{l:new $.Dr,hq:dr,k4:0},{l:new $.Dy,hq:jc,k4:0}],[{l:new $.AJ,hq:c1},{l:new $.Ee,hq:c1}],[{l:new $.rP(0),hq:hu},{l:new $.Ar,hq:gk},{l:new $.rP(1),hq:hu},{l:new $.rP(2),hq:hu},{l:new $.rP(3),hq:hu},{l:new $.rP(4),hq:hu}],[{l:new $.IO,hq:iv},{l:new $.Ab,hq:dZ}],[{l:new $.Rect,hq:kV},{l:new $.Y9,hq:ib},{l:new $.jW,hq:e7},{l:new $.Nb,hq:af},{l:new $.d9,hq:aR}],[{l:new $.Ha,hq:kz},{l:new $.m3,hq:dn}],[{l:new $.Ay,hq:gT}]]:dc==1?[[{l:new $.$O,hq:kY}],[{l:new $.Ab,hq:dZ}],[{l:new $.rP(0),hq:hu}],[{l:new $.Ar,hq:gk}],[{l:new $.AJ,hq:c1},{l:new $.Ee,hq:c1}],[{l:new $.jW,hq:e7}],[{l:new $.Rect,hq:kV},{l:new $.Y9,hq:ib}],[{l:new $.W5,hq:kz}],[{l:new $.c8,hq:h9}],[{l:new $.jP,hq:db}],[{l:new $.Ha,hq:kz},{l:new $.m3,hq:dn}],[{l:new $.Ay,hq:gT}]]:[[{l:new $.azz(0),hq:kY}],[{l:new $.azz(1),hq:dX}],[{l:new $.Ha,hq:kz}],[{l:new $.Ay,hq:gT}]],h="",m="";
if(dc==0&&!i.PY(1))s[6].splice(2,1);var M=[[hj.kv,hj.RR,hj.Yk,hj.aLi,hj.fG,hj.hK,hj.tF,hj.MV,hj.L8,hj.E,hj.jX,null,hj.ki,hj.aD,hj.I0,hj.J,hj.km,hj.kq,hj.sN],[hj.kv,hj.J,hj.I0,null,hj.aD,hj.ajK,hj.RR,null,hj.jX,hj.hK,hj.kq,hj.sN],[hj.kv,hj.MV,hj.kq,hj.sN]][dc],O=[{l:$.zY,ou:!1,RU:[hj.a42,hj.u_]},{l:$.zY,ou:!1,RU:[hj.a42],XF:[$.dU]},{l:$.dU,ou:!1,RU:[hj.u_]},{l:$.bj,ou:!0,RU:[hj.yu],XF:[$.$q]},{l:$.$q,ou:!0,RU:[hj.yu],XF:[$.bj]},{l:$.Wt,ou:!0,RU:[hj.yu],XF:[$.WU,$.np,$.dF]}];
if(dc==0)O.push({l:$.WU,ou:!0,RU:[hj.yu],XF:[$.Wt,$.BI,$.pB,$.cv,$.Kg,$.uk]});O.push({l:$.ht,ou:!0,RU:[hj.yu]});
var P={avU:O,JH:s,CR:[],keys:M,TC:[{l:new $.asR,hq:eW},{l:new $.aby,hq:jb},{l:new $.avJ,hq:jU},{l:new $.jP(!0),hq:db},{l:new $.$R,hq:aQ},{l:new $.ib,hq:bV},{l:new $.Vv,hq:cr}],aFc:[{l:new $.HH},{l:new $.History},{l:new $.FF},{l:new $.no},{l:new $.LB},{l:new $.Gu}],map:{},ay3:null,be:null,xQ:null},y=P.JH;
for(var R=0;R<y.length;R++){var F=y[R];if(aW=="---")continue;for(var A=0;A<F.length;A++)if(F[A].k4!=null&&F[A].k4!=dc){F.splice(A,1);
A--}if(F.length==0){y.splice(R,1);P.keys.splice(R,1);R--}}for(var R=0;R<P.JH.length;R++){var Z=P.JH[R];
if(Z=="---")continue;var u=P.keys[R];for(var A=0;A<Z.length;A++){P.map[Z[A].l.id]=Z[A];Z[A].Wf=R;Z[A].aKu=A;
var f=aW.get(Z[A].l.name);m+="<li>"+Z[A].l.id+": "+f+"</li>";h+="\t"+JSON.stringify(Z[A].l.name)+", "+(u?"\""+u.aP+"\"":"null")+", "+Z[A].l.id+", // "+f+"\n"}P.CR[R]=0}for(var R=0;
R<P.TC.length;R++)P.map[P.TC[R].l.id]=P.TC[R];for(var R=0;R<P.aFc.length;R++)P.map[P.aFc[R].l.id]=P.aFc[R];
try{var U=window.locStor.getItem("_ltools");if(U){U=U.split(",");for(var R=0;R<U.length;R++){var C=P.map[U[R]];
if(C&&C.Wf!=null)P.CR[C.Wf]=C.aKu}}}catch(hj){alert("could not load the tool preferences");console.log("Last tools: ",window.locStor.getItem("_ltools"))}return P};
function gA(s){hV.call(this);if(s==null)return;this.V5=null;this.fw=null;this._=i.m("div","sbar"+" "+s);
this.tq=new i.m("div","top");this.tq.innerHTML="> <";this._.appendChild(this.tq);this.lm=1;this.tq.addEventListener("click",this.adL.bind(this),!1)}gA.prototype=new hV;
gA.prototype.adL=function(s){if(this.V5!=null&&this.V5<500&&this.lm==0)return;if(this.lm==0)this.Rl(!0);
else this.collapse(!0)};gA.prototype.a7C=function(s){this.lm=s;this.tq.innerHTML=this.lm==0?"< >":"> <"};
gA.prototype.ahu=function(){var s=new kg(z.E.c,!0);s.data={Q:z.J.V1};this.a(s)};gA.prototype.Rl=function(s){this.a7C(1);
if(s)this.ahu()};gA.prototype.collapse=function(s){this.a7C(0);if(s)this.ahu()};gA.prototype.do=function(){return this.lm==1};
function aL(s){gA.call(this,"vcolumn");this.NO=s;this.Bg();this.J3=i.m("div","cont");i.P(this.J3,"cursor:default;");
this.aJE=this.aD4.bind(this);this.aoD=this.aha.bind(this);this.ai3=this.ajL.bind(this);i.dq(this._,this.aJE);
this._.appendChild(this.J3);this.aJC=i.m("div");this.J3.appendChild(this.aJC);this.ka=-1;this.az$=i.m("div","float");
var M=this.O4=i.m("canvas","gsicon"),O=Math.round(12*i.yD());M.width=M.height=O;var P=M.getContext("2d");
P.moveTo(2,2);P.lineTo(O-2,O-2);P.moveTo(2,7);P.lineTo(O-7,O-2);P.stroke();i.P(this.O4,"position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
i.o0(this.O4);i.dq(this.O4,this.aJE);i.K8(M);this.vc=[];this.aFR=[];this.anL=null;this.Ja=null;this.aLG=0}aL.prototype=new gA;
aL.prototype.aD4=function(s){var M=s.target==this.O4;if(!M){if(s.target!=this._)return;if(!this.do())return}else{var O=this.vc[this.ka].m5;
O.style.pointerEvents="none";var P=O.getBoundingClientRect();this.anL=[P.width,P.height];this.aFR[this.ka]=[P.width,P.height]}s.stopPropagation();
this.Ja=i.iC(s,document.body);this.aLG=this.NO;i.Qj(document,this.aoD);i.gE(document,this.ai3)};aL.prototype.aha=function(s){var M=i.iC(s,document.body);
if(this.do()){this.NO=this.aLG+this.Ja.x-M.x;this.Bg()}else{var O=this.aFR[this.ka],P=this.anL;O[0]=P[0]+this.Ja.x-M.x;
O[1]=P[1]+M.y-this.Ja.y}var y=new kg(z.E.c,!0);y.data={Q:z.J.V1};this.a(y)};aL.prototype.ajL=function(s){if(!this.do()){var M=this.vc[this.ka].m5;
M.style.pointerEvents="auto"}i.GE(document,this.aoD);i.bY(document,this.ai3)};aL.prototype.a2M=function(s){s.k("showFloat",this.a9$,this);
s.k("hideFloat",this.n_,this);this.vc.push(s);s.parent=this;this.J3.appendChild(s._)};aL.prototype.aaW=function(R){var s=this.vc[R];
s.removeEventListener("showFloat",this.a9$,this);s.removeEventListener("hideFloat",this.n_,this);this.vc.splice(R,1);
s.parent=null;this.J3.removeChild(s._)};aL.prototype.ahP=function(){return this.vc.length};aL.prototype.LC=function(){for(var R=0;
R<this.vc.length;R++)this.vc[R].LC()};aL.prototype.a9$=function(s){this.LC();var M=this.az$;this.aJC.appendChild(M);
this.ka=this.vc.indexOf(s.currentTarget);var O=this.vc[this.ka].m5;i.Lq(M);M.appendChild(O);M.appendChild(this.O4);
this.GK(this.V5,this.fw)};aL.prototype.n_=function(s){this.LC();if(this.ka!=-1){this.aJC.removeChild(this.az$);
this.ka=-1}};aL.prototype.Bg=function(){function s(M){return Math.round(M*i.yD())/i.yD()}i.P(this._,"width: "+this.NO+"px; border-left-width:"+s(4)+"px; cursor:ew-resize;")};
aL.prototype.Rl=function(s){this.Bg();this.n_();for(var R=0;R<this.vc.length;R++)this.vc[R].Rl();gA.prototype.Rl.call(this,s)};
aL.prototype.collapse=function(s){this._.removeAttribute("style");for(var R=0;R<this.vc.length;R++)this.vc[R].collapse();
gA.prototype.collapse.call(this,s)};aL.ajs=11;aL.prototype.GK=function(s,M,O){this.V5=s;this.fw=M;M-=aL.ajs;
var P=this.vc.length;if(P==0)return;this.J3.style.height=M-1+"px";if(!this.do()){var y=M<400?M:400+(M-400)*.5,F=Math.max(this.NO,(window.innerWidth-350)/3);
for(var R=0;R<P;R++){var A=this.vc[R],h=this.aFR[R];A.GK(h?h[0]:A.aeE?F:this.NO,h?h[1]:y,O)}}else{var m=M;
for(var R=0;R<P;R++){var A=this.vc[R],Z=A.arw();if(R==P-1){Z=m;A._.style.borderBottom="none"}A.GK(this.NO,Z);
m-=Z+4}}};function b2(s){hV.call(this);this._=i.m("div");this.J3=null;this.cf=0;this.YD=0;this.a4p=s;
this.aEg=this.rW.bind(this);this.aF0=this.Sd.bind(this);this.avz=this.gF.bind(this);this.kD=null;this._$=null;
this.aEA=null;var M=this._,P="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
i.dq(M,this.aEg);M.addEventListener("touchmove",i.it,!1);this.a6u=!0;this.AD=[];var O=this.azo=i.m("div");
i.P(O,"float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");M.appendChild(O);
var y=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",P+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",P+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",P+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var R=0;R<y.length;R++){var F=new fU(y[R]);this.AD.push(F);i.P(F._,"margin-left:"+(R<7?4:0)+"px;cursor:pointer;");
F.k("click",this.MW,this)}}b2.prototype=new hV;b2.prototype.T=function(){var s=this.azo;i.Lq(s);for(var R=0;
R<this.AD.length;R++){var M=this.AD[R];if(R<5)M.T();s.appendChild(M._)}};b2.prototype.MW=function(s){var R=this.AD.indexOf(s.currentTarget);
if(R==0){if(window.showCap)window.showCap();return}var M=" issues learn blog api twitter facebook".split(" "),O=["","//github.com/photopea/"+["photo","vector"][dc]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],P=window.ga;
if(P)P("send","event","Links",M[R]);var y=new kg(z.E.c,!0);y.data={Q:z.J.xR,link:O[R]};this.a(y)};b2.prototype.rW=function(s){if(s.aAI){s.preventDefault();
s.stopPropagation()}var M=window;i.Qj(M,this.aF0);i.gE(M,this.avz);M=this.J3;this.kD=new j6(parseInt(M.style.left),parseInt(M.style.top));
this._$=i.iC(s,this._);this.aEA=M.getBoundingClientRect()};b2.prototype.Sd=function(s){var M=i.iC(s,this._),O=this.kD.x+M.x-this._$.x,P=this.kD.y+M.y-this._$.y,y=this.cf-this.aEA.width,F=this.YD-this.aEA.height;
if(this.a4p)this.J3.style.left=Math.min(0,Math.max(y,O))+"px";else this.J3.style.top=Math.min(0,Math.max(F,P))+"px";
if(O-10>0){this._$.x=M.x-10;this.kD.x=0}if(O+10<y){this._$.x=M.x+10;this.kD.x=y}};b2.prototype.gF=function(s){var M=window;
i.GE(M,this.aF0);i.bY(M,this.avz)};b2.prototype.a5v=function(s){if(this.J3){this._.removeChild(this.J3)}this.J3=s;
this._.appendChild(s);s.style.position="absolute";s.style.appRegion="no-drag";if(this.a4p)s.style.left=0;
else s.style.top=0};b2.prototype.GK=function(s,M){this.cf=s;this.YD=M;i.P(this._,"position:relative; width: "+s+"px; height: "+M+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var O=this.J3.firstChild,P=this.azo,y=O?O.firstChild.getBoundingClientRect().width:1e9,F=170,A=navigator.windowControlsOverlay,h=0,m=0;
if(A&&A.visible){var Z=A.getTitlebarAreaRect();m=Z.x;h=s-Z.width-Z.x;if(h<0)h=0;y+=Z.x;F+=h}var u=this.a6u&&s>y+F;
P[dN.iQ][dN.asY]=u?"":dN.adB;P[dN.iQ][dN.w4]=h+"px";if(O){O[dN.iQ][dN.aop]=m+"px";O[dN.iQ][dN.abL]=dN.a6T}var f=this.AD;
for(var R=0;R<f.length;R++){var U=R>4||s-y-F>330?"":dN.adB,C=f[R];C._.style.display=U}};b2.prototype.alE=function(){this.J3.style.left="0";
this.J3.style.top="0"};function k6(){hV.call(this);this.f=null;this.SI=k6.I0;this.aar="";this._=i.m("div","rightbar");
this.E_=[new aL(300),new aL(268)];this.vc=[new bk,new bk,new bk,new bk,new bk,new bk,new bk(null,!0)];
this.aF_=[]}k6.prototype=new hV;k6.prototype.T=function(){var s=this.SI;for(var R=0;R<s.length;R++)s[R].uJ.T()};
k6.I0=dc==0?[{uJ:new g6,W_:3},{uJ:new em,W_:1},{uJ:new e3,W_:4},{uJ:new fJ,W_:2},{uJ:new aG(!0),W_:5},{uJ:new hg(!0),W_:5},{uJ:new fH,W_:0},{uJ:new h5,W_:5},{uJ:new cX,W_:3},{uJ:new dA,W_:0},{uJ:new gu,W_:3},{uJ:new hr,W_:2},{uJ:new h1,W_:4},{uJ:new e_,W_:3},{uJ:new aq,W_:5},{uJ:new aG(!1),W_:5},{uJ:new a$,W_:2},{uJ:new hN,W_:3},{uJ:new i1,W_:1},{uJ:new jB,W_:0},{uJ:new hs,W_:5},{uJ:new js,W_:4},{uJ:new jK,W_:6,qB:!0}]:[{uJ:new cz,W_:5},{uJ:new aG(!0),W_:5},{uJ:new aG(!1),W_:5},{uJ:new js,W_:4},{uJ:new h5,W_:5},{uJ:new dA,W_:0},{uJ:new hr,W_:2},{uJ:new gQ,W_:6},{uJ:new jK,W_:6,qB:!0}];
if(i.PY(1))k6.I0.push({uJ:new bU,W_:6,qB:!0});k6.I0.push({uJ:new hM,W_:6,qB:!0},{uJ:new gI,W_:6,qB:!0});
(function(){var s=[{name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Peas Maker",url:"//www.photopea.com/plugins/peasmaker"}];
for(var R=0;R<s.length;R++)k6.I0.push({uJ:new cq(s[R],""+(100+R)),W_:6,qB:!0})}());k6.prototype.ay7=function(s){for(var R=0;
R<s.length;R++){var M=s[R],O=new cq(M,"plg_"+M.name);this.SI.push({uJ:O,W_:6});this.aF_.push(O.oP)}this.gq()};
k6.prototype.qy=function(s,M){this.f=s;var O=this.SI;for(var R=0;R<O.length;R++)O[R].uJ.qy(s,M);if(M==g5.rc||M==g5.WD||M==g5.rT)this.gq()};
k6.prototype.Dh=function(s){var M=this.SI;for(var R=0;R<M.length;R++)M[R].uJ.Dh(s)};k6.prototype.GK=function(s,M){this.V5=s;
this.fw=M;this.gq();this.E_[0].GK(s,M);this.E_[1].GK(s,M)};k6.prototype.gq=function(){var s=this.f,M=this.V5,O=this.fw;
if(s==null||M==0)return;var P=this.aF_;for(var R=0;R<P.length;R++){var y=this.D9(P[R]),F=y.uJ.cC.resID;
if(F!=null&&s.BC.indexOf(F)==-1){P.splice(R,1);R--}}var A=s.eo.concat(P),h=M<500||M<700&&M<O,m=JSON.stringify(A)+","+h;
if(m!=this.aar){this.aar=m;i.Lq(this._);var Z=[];for(var R=0;R<this.E_.length;R++){var u=this.E_[R];
Z[R]=u.do();while(u.ahP()!=0)u.aaW(0);u.Rl()}var f=[];for(var R=0;R<this.vc.length;R++){var U=this.vc[R];
U.Rl();while(U.agQ()!=0)U.la(0);f.push(0)}for(var R=0;R<A.length;R++){var y=this.D9(A[R].toString());
if(y==null)continue;this.vc[y.W_].KO(y.uJ);this.vc[y.W_].Q4(0);f[y.W_]++}var C=[];for(var R=0;R<f.length;
R++){if(f[R]==0)continue;var H=R<3||h?1:0,u=this.E_[H];u.parent=this;u.a2M(this.vc[R]);C[H]=!0}for(var R=0;
R<this.E_.length;R++)if(C[R])this._.appendChild(this.E_[R]._);this.E_[0].collapse();if(M<700||this.f.compact||!Z[1]){this.E_[1].collapse()}var t=new kg(z.E.c,!0);
t.data={Q:z.J.V1};this.a(t)}};k6.prototype.D9=function(s){for(var R=0;R<this.SI.length;R++)if(this.SI[R].uJ.oP==s)return this.SI[R]};
k6.prototype.awR=function(s){var M=this.D9(s);if(M==null)return;this.vc[M.W_].KO(M.uJ)};k6.prototype.o3=function(s,M,O){var P=this.SI;
for(var R=0;R<P.length;R++)P[R].uJ.o3(s,M,O)};k6.prototype.nD=function(s,M,O,P,y){var F=this.SI;for(var R=0;
R<F.length;R++)F[R].uJ.nD(s,M,O,P,y)};k6.prototype.nh=function(s,M,O,P,y){var F=this.SI;for(var R=0;
R<F.length;R++)F[R].uJ.nh(s,M,O,P,y)};k6.prototype.Cq=function(s,M,O,P,y){var F=this.SI;for(var R=0;
R<F.length;R++)F[R].uJ.Cq(s,M,O,P,y)};function ig(s,M){gA.call(this,"toolbar");this._.removeChild(this.tq);
this._T=i.m("div","tools");this._.appendChild(this._T);this.H0=null;this.zI=null;this.aDU=M;this.Pf=null;
this.lX=null;this.aff=-1;var O=window.locStor.getItem("_ltools");this.oM=O?O.split(","):[];this.aF5=s;
this.Z=null;this.OX=null;this.QI=null;this.aBA=null;this.JU=new ap;this.JU._.style.marginTop="5px";this.JU._.style.marginBottom="3px";
this.JU.parent=this;this.X2=new fU(i._S("lrs/mask"),!1,[6,6,1]);this.X2.k("click",function(A){var h=new kg(z.E.H,!0);
h.l=$.Sp;h.data={Q:"qmask"};this.a(h)},this);var P=new d5(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
P.k(z.E.n,this.aga,this);var y=i.m("span","rangecontFloat form padded");y.appendChild(P._);i.P(y,"position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var F=this._;this.adT=[!1,!1,!1,!1];this.pq=new fU(i._S("kb"),!1,"Virtual Keys");this.pq.k("click",function(A){var h=this.pq._.getBoundingClientRect();
y.style.top=h.top-110+"px";y.style.left=h.left+h.width+8+"px";if(i.qE(y)){i.wJ({_:y},F)}else{F.appendChild(y);
i.lG({_:y})}},this)}ig.prototype=new gA;ig.prototype.aga=function(s){var M=s.target.V();this.pq.q(M[0]||M[1]||M[2]||M[3]);
var O=new kg(z.E.c,!0);for(var R=0;R<4;R++){if(M[R]!=this.adT[R]){O.data={Q:z.J.as$,cQ:M[R],a2E:[hj.NS()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][R]};
this.a(O)}}this.adT=M.slice(0)};ig.prototype.ab1=function(s,M){this.Pf=M;this.lX=s;if(s==null||s.Y.length==0||s.U[s.Y[0]]==null)return;
var O=s.X2()!=null,P=s.i.P7,y=s.U[s.Y[0]].KV,F=y==1||y==3||O||P[0]+P[1]+P[2]==1;this.JU.a1Z(F);this.X2.q(O)};
ig.prototype.a4R=function(s,M){var O=s.length,P=[];for(var R=0;R<O;R++)P[R]=s[R].slice(0);s=P;var y=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],F=Math.min(y.length/2,O-M);
for(var R=0;R<F;R++){var A=y[2*R],h=y[2*R+1];s[A]=s[A].concat(s[h]);s[h]=null}for(var R=0;R<s.length;
R++)if(s[R]==null){s.splice(R,1);R--}return s};ig.prototype.auo=function(s,M){for(var R=0;R<M.length;
R++)for(var O=0;O<M[R].length;O++)if(M[R][O].l.id==s)return R};ig.prototype.awa=function(s){var M=this.aF5;
this.OX=[];this.QI=[];this.aBA=[];this.Z=[];var O=M.JH;if(s!=null&&this.aDU)O=this.a4R(O,s);var P=this.H0;
if(P){var y=[];for(var R=0;R<O.length;R++){var F=[];for(var A=0;A<O[R].length;A++){var h=O[R][A];if(P==null||P.indexOf(parseInt(h.l.id))!=-1)F.push(h)}if(F.length>0)y.push(F)}O=y}for(var R=0;
R<O.length;R++){var m=[],Z=this.OX.length,u=null,f=-1;for(var A=0;A<O[R].length;A++){var h=O[R][A].l,U=this.auo(h.id,M.JH),C=M.keys[U];
if(C==hj.kq&&A==1)C=hj.ho;this.Z.push(h);var H=new ju(h.name,C,h.ge,this.OX.length,R,O[R].length>1);
this.OX.push(H);var t=this.oM.indexOf(h.id);if(t==-1)t=0;if(t>f){f=t;u=H}H.k(z.E.n,this.nS,this);H.k("mover",this.vE,this);
m.push({name:h.name,mb:h.ge,RU:C?C.aP:""})}this.QI.push(u);this.aBA.push(m.length==1?null:[m,Z])}};ig.prototype.GK=function(s,M){var O=this.fw=M,P=20;
if(1<i.yD()&&i.yD()<1.5)P=20/i.yD();P+=12.7;var y=this.fw>640&&dc==0?2:1,F=34+5+3+y*(P+4),A=Math.floor((O-F)/P);
if(A!=this.aff){this.aff=A;this.awa(A);this.iv()}var h=this.QI.length*P+F,m=Math.min(1,O/h);if(.75<=m){i.P(this._T,"width:34px; transform-origin: top left; transform: scale("+m+","+m+");");
i.P(this._,"height:"+(M-2)+"px;")}else{O-=4;i.P(this._T,"height: "+O+"px;  width:"+Math.ceil(h/O)*34+"px");
i.P(this._,"")}};ig.prototype.T=function(){if(this.Z==null)return;for(var R=0;R<this.OX.length;R++)this.OX[R].T()};
ig.prototype.nS=function(s){var M=new kg(z.E.c,!0);M.data={Q:z.J.LT,l:this.Z[s.id].id};this.a(M)};ig.prototype.anF=function(s){var M=s.target.aDV+s.target.x2()[0];
this.OX[M].gF(null,!0)};ig.prototype.vE=function(s){var M=this.Pf,O=new kg(z.E.c,!0);O.data={Q:z.J.mJ};
this.a(O);var P=s.target,y=this.aBA[P.Wf];if(y==null)return;var F=new kA(y[0],null,!0);F.aDV=y[1];F.Wf=P.Wf;
F.k("select",this.anF,this);F.parent=this;F.T();var A=P._.getBoundingClientRect(),O=new kg(z.E.c,!0);
O.data={Q:z.J.EU,uJ:F,x:A.left+A.width+8,y:A.top};if(M==null||!(M.D(hj.u_)||M.D(hj.yu)))this.a(O)};ig.prototype.iv=function(s){if(s==null)s=this.zI;
this.zI=s;if(this.Z==null)return;var M=this.oM.indexOf(s);if(M!=-1)this.oM.splice(M,1);this.oM.push(s);
window.locStor.setItem("_ltools",this.oM.join(","));var O=-1;for(var R=0;R<this.Z.length;R++)if(this.Z[R].id==s)O=R;
for(var R=0;R<this.OX.length;R++){var P=this.OX[R];P.aA4(O==R)}if(O==-1)return;this.QI[this.OX[O].Wf]=this.OX[O];
i.Lq(this._T);var y=this.QI;for(var R=0;R<y.length;R++){this._T.appendChild(y[R]._)}if(!this.aDU)return;
this._T.appendChild(this.JU._);if(this.fw>640&&dc==0)this._T.appendChild(this.X2._);this._T.appendChild(this.pq._)};
ig.prototype.qy=function(s,M){if(M==g5.rT&&s.H0){this.H0=s.H0;this.awa();this.iv()}this.JU.aHw(s.UC,s.Cc);
if(dc==1&&(M==g5.vb||M==g5.rT)){this.JU.aJG(s,this.lX)}};function ju(s,M,O,P,y,F){hV.call(this);this.S4=0;
this.jt=this.alV.bind(this);this.Wf=y;this.hc=P;this.$D=s;this.Er=M;this.aGz=F;this.ge=O;this._=i.m("button","");
this._.innerHTML=i._S(this.ge);if(this.aGz){var A=i.m("img","gsicon");A.setAttribute("src",PIMG["tools/corner"]);
i.P(A,"position:absolute; right:0;  bottom:0; width:100%; height:100%;");this._.appendChild(A)}this._.addEventListener("touchstart",i.it,!1);
this.T();i.dq(this._,this.rW.bind(this));i.gE(this._,this.gF.bind(this));this._.addEventListener("contextmenu",this.jt,!1);
this._.addEventListener("contextmenu",ju.zZ,!1)}ju.prototype=new hV;ju.zZ=function(s){s.stopPropagation();
s.preventDefault();return!1};ju.prototype.T=function(){var s=this.Er?" ("+this.Er.aP+")":"";this._.setAttribute("title",aW.get(this.$D)+s)};
ju.prototype.rW=function(s){ju.I8=this.hc;this.S4=setTimeout(this.jt,160)};ju.prototype.gF=function(s,M){if(M==null&&ju.I8!=this.hc)return;
clearTimeout(this.S4);var O=new kg(z.E.n,!1);O.target=this;O.id=this.hc;this.a(O)};ju.prototype.alV=function(s){var M=new kg("mover",!1);
M.target=this;M.id=this.hc;this.a(M)};ju.prototype.aA4=function(s){this._.className=s?"toolbtn active":"toolbtn"};
function ai(){hV.call(this);this._=i.m("div","topbar");this.asN=i.m("span");this.aL0=i.m("span");this.a2s=0;
this._.appendChild(this.asN);this._.appendChild(this.aL0);this.ZK=null;this.f=null;this.A5=[];this.eo=[];
var s=this.rW.bind(this);for(var R=0;R<ai.data.length;R++){var M=i.m("button");this.A5.push(M);var O=ai.data[R];
M.addEventListener("mouseover",s,!1);i.dq(M,s)}this.qo=new fU([0,13,0],!1,null,!0);this.qo.k("click",this.NB,this);
this.E9=new fU(i._S("tools/zoom",null,"autoscale"),!1,[12,86]);this.E9.k("click",this.NB,this);this.aaY=new fU("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.aaY.k("click",this.NB,this)}ai.prototype=new hV;ai.prototype.apn=function(){if(this.eo.length!=0)return;
for(var R=0;R<ai.data.length;R++){var s=ai.data[R],M=new kA(s.items,s.iy);M.parent=this;this.eo.push(M)}this.T()};
ai.prototype.T=function(){this.qo.T();this.E9.T();this.aaY.T();for(var R=0;R<this.A5.length;R++)this.A5[R].textContent=aW.get(ai.data[R].name);
this.akC();for(var R=0;R<this.eo.length;R++)this.eo[R].T()};ai.prototype.NB=function(s){var M=new kg(z.E.c,!0);
if(s.target==this.qo)M.data={Q:z.J.xL,Rj:"account"};else if(s.target==this.E9)M.data={Q:z.J.h8};else M.data={Q:z.J.b9,eM:!0};
this.a(M)};ai.prototype.rn=function(s,M){this.ZK=s;this.f=M};ai.prototype.qy=function(s,M){this.f=s;
if(M==g5.rT){var O=s.a7O;i.Lq(this.asN);for(var R=0;R<this.A5.length;R++){var P=ai.data[R];if(O==null||O[R]==1||O[R]instanceof Array)this.asN.appendChild(this.A5[R]);
if(O!=null&&O[R]instanceof Array){this.apn();this.eo[R].am_(O[R])}}var y=this.aL0;i.Lq(y);if(s.Yl){y.appendChild(this.qo._)}y.appendChild(this.E9._);
y.appendChild(this.aaY._)}this.akC()};ai.prototype.akC=function(s,M){var O=this.qo,P=12255232;if(dB.Nx())P=dB.Mo()?43520:16755200;
i.P(O._,"color:#ffffff; background-color:#"+a.Rr(P))};ai.prototype.rW=function(s){this.apn();var R=this.A5.indexOf(s.currentTarget),M=this.eo[R];
if(s.type=="mouseover"&&!i.qE(this.eo[this.a2s]._))return;if(i.qE(M._))return;s.aAI=!0;this.a2s=R;for(var R=0;
R<ai.data.length;R++)this.eo[R].update(this.ZK,this.f);var O=s.target.getBoundingClientRect(),P=new kg(z.E.c,!0);
P.data={Q:z.J.EU,uJ:M,x:O.left,y:O.top+O.height+2,ain:!0};this.a(P)};ai.afq=function(s){var M=hj,O=M.yu,P=M.Y1,y=M.tT,F=function(Q){return{e:Q!=null}},A=function(Q){return{e:Q!=null&&Q.h!=null}},h=function(Q){return{e:Q!=null&&Q.Y7(!1)}},m=function(Q){return{e:Q!=null&&Q.Y7(!1)&&Q.h!=null}},Z=[{name:[7,0],e:F,RU:[O,M.J]},{name:[7,1],RU:[O,M.wQ],e:A},{name:[7,2],RU:[P,O,M.hK],e:A,dc:!0},{name:"Remove BG",e:ai.xA},{name:[7,8],e:F,GL:!0},{name:[7,13],GL:!0,e:function(Q){return{e:Q!=null&&Q.Y.length!=0&&!Q.U[Q.Y[0]].S.g3()}}},{name:[7,14],e:ai.xA,dc:!0},{name:[7,11],GL:!0,e:function(Q){return{e:Q!=null&&Q.Y.length!=0&&!Q.U[Q.Y[0]].S.g3()}}},{name:[7,3],e:F,dc:!0,sub:[{name:[7,9],GL:!0,e:A},{name:[19,3,0],GL:!0,e:A},{name:[7,4],GL:!0,e:A},{name:[7,5],GL:!0,e:A},{name:[7,6],GL:!0,e:A,RU:"Shift+F6"}]},{name:[7,15],e:A},{name:[7,16],e:A,dc:!0},{name:[7,10],e:A,dc:!0},{name:[6,6,1],e:function(Q){return{e:Q!=null,VZ:Q!=null&&Q.X2()!=null}},RU:[M.a1b],dc:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],e:A}],u=[{g:z.E.fa,d:$.vm.l4(!0)},{g:z.E.fa,d:$.vm.l4()},{g:z.E.fa,d:{Cw:"inverse"}},{g:z.E.H,l:$.Sp,d:{Q:"bgrm",K:1}},{g:z.E.c,d:{Q:z.J.xL,Rj:"crange"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"magiccut"}},{g:z.E.H,l:$.Sp,d:{Q:"bgrm",K:2}},{g:z.E.c,d:{Q:z.J.xL,Rj:"redge"}},{sub:[{g:z.E.c,d:{Q:z.J.xL,Rj:"sel_border"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"sel_smoothness"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"sel_expand"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"sel_contract"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"sel_feather"}}]},{g:z.E.fa,d:{Cw:"grow",kT:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{g:z.E.fa,d:{Cw:"similar",kT:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{g:z.E.c,d:{Q:z.J.LT,l:$.PF}},{g:z.E.H,l:$.Sp,d:{Q:"qmask"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"loadsel"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"savesel"}}];
if(s){var f=[1,2,8,7,"",14,"a","","b","c","d","","e",11,"","f","g"],U={a:[{name:"Make Work Path",e:A},{g:z.E.fa,d:$.vm.aAL()}],b:[{name:[6,49,0],e:A},{g:z.E.fa,d:{Cw:"copyToLayer"}}],c:[{name:[6,49,1],e:m},{g:z.E.fa,d:{Cw:"cutToLayer"}}],d:[{name:[6,13]},{g:z.E.H,l:$.mu,d:{Q:ad.Wo}}],e:[{name:[10,16],e:F},{g:z.E.c,d:{Q:z.J.LT,l:$.wO}}],f:[{name:[2,3],e:m,GL:!0},{g:z.E.c,d:{Q:z.J.xL,Rj:"fill"}}],g:[{name:[14,9],e:m,GL:!0},{g:z.E.c,d:{Q:z.J.xL,Rj:"stroke"}}]},C=[],H=[];
for(var R=0;R<f.length;R++){var t=f[R];if(Z[t]){var X=Z[t];X.dc=!1;delete X.RU;C.push(X);H.push(u[t])}else if(t==""){C[C.length-1].dc=!0}else if(U[t]){var X=U[t];
C.push(X[0]);H.push(X[1])}}u=H;Z=C}return{name:[0,5],items:Z,iy:u}};ai.xA=function(s){return{e:i.PY(1)&&s!=null&&s.Y.length!=0&&!s.U[s.Y[0]].S.g3()}};
ai.sZ=function(s,M){if(s==null||s.Y.length==0)return!1;var O=s.U[s.Y[0]];return O.add.TySh!=null&&M.zI==$.El};
ai.azP=function(){var s=hj,M=s.yu,O=s.Y1,P=s.tT,y=function(F){return{e:F!=null}};return[[{name:[5,0],RU:[M,s.lk],e:function(F,A){return{e:F!=null&&(F.aFK()||ai.sZ(F,A))}}},{name:[5,1],RU:[M,s.fG],e:y},{name:[5,2],RU:[M,s.kv],e:function(F,A){return{e:ai.sZ()||i.VM()||A.PA!=null||A.ZJ!=null||A.as6!=null}}},{name:[2,2],e:function(F,A){return{e:F!=null&&(F.h!=null||ai.sZ(F,A))}},RU:"Delete",dc:!0}],[{g:z.E.c,d:{Q:z.J.F$}},{g:z.E.c,d:{Q:z.J.WP}},{g:z.E.c,d:{Q:z.J.v6}},{g:z.E.fa,d:{Cw:"delete"}}]]};
ai.gX=function(s,M){var O=function(Z){return{e:Z!=null&&Z.Y.length!=0&&Z.U[Z.Y[0]].add.SoLd!=null}},P=function(Z){return{e:Z!=null}},y=[],F=[],A="none maxx avrg medn minn rang stdv summ vari".split(" "),h=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var R=0;R<A.length;R++){y.push({name:h[R],e:function(Z,u){if(Z==null||Z.Y.length!=1)return{e:!1};
var f=Z.U[Z.Y[0]].add.SoLd;if(f==null)return{e:!1};return{e:!0,VZ:f.Impr.v.classID==this.a4E}}.bind({a4E:A[R]})});
F.push({g:z.E.H,l:$.mu,d:{Q:ad.kl,IQ:A[R]}})}var m={name:[6,7,1],e:P,dc:!0,sub:[{name:[6,7,0]},{name:"New Smart Obj. via Copy",e:O,dc:!0},{name:"Open (Edit Contents)",e:O,GL:!0},{name:"Reset Transform",e:O},{name:"Replace Contents",e:O,GL:!0},{name:"Export Contents",e:O,GL:!0,dc:!0},{name:"Convert to Layers",e:O,GL:!0,dc:!0},{name:[6,36,4],e:O,sub:y},{name:"Turn into JPG",e:O}]};
if(!s)m={sub:[{g:z.E.fa,d:{Cw:"newPlacedLayer"}},{g:z.E.fa,d:{Cw:"placedLayerMakeCopy"}},{g:z.E.fa,d:{Cw:"placedLayerEditContents",kT:{classID:"placedLayerEditContents"}}},{g:z.E.fa,d:{Cw:"placedLayerResetTransforms",kT:{classID:"placedLayerResetTransforms"}}},{g:z.E.fa,d:{Cw:"placedLayerReplaceContents",kT:{classID:"placedLayerReplaceContents"}}},{g:z.E.fa,d:{Cw:"placedLayerExportContents",kT:{classID:"placedLayerExportContents"}}},{g:z.E.fa,d:{Cw:"placedLayerConvertToLayers",kT:{classID:"placedLayerConvertToLayers"}}},{sub:F},{g:z.E.H,l:$.mu,d:{Q:ad.atJ}}]};
if(M)m.sub.splice(0,1);return m};ai.data=function(){var s=hj,M=s.yu,O=s.Y1,P=s.tT,y=function(E){return{e:E!=null&&E.Y.length!=0}},F=function(E){return{e:E!=null}},A=function(E){return{e:E!=null&&E.Y7(!1)}},h=function(E){return{e:E!=null&&E.Y7(!1)&&!E.U[E.Y[0]].S.g3()}},m=ai.azP(!0),Z=[],u=[],f=[],U="assignProfile",C="convertToProfile",H=function(E,_,R){return{VZ:E!=null&&E.aao()==R,e:!0}};
for(var R=0;R<fr.NX.length;R++){var t=fr.NX[R];Z.push({name:t,e:H});var X={classID:U,null:f7.Ht("Dcmn",!0)};
if(t!="sRGB")X.profile={t:"TEXT",v:fr.wS[R]};var Q={classID:C,null:f7.Ht("Dcmn",!0)};Q.T={t:"TEXT",v:fr.wS[R]};
u.push({g:z.E.fa,d:{Cw:U,kT:X}});f.push({g:z.E.fa,d:{Cw:C,kT:Q}})}var D=[{name:[0,0],items:[{name:[5,3],RU:[P,M,s.UE],title:[11,7],GL:!0},{name:[1,0],RU:[M,s.ki],GL:!0},{name:[1,11],GL:!0,e:F},{name:["VAR0 VAR1",[1,0],[0,14]],dc:!0,sub:[{name:"From Any Folder"},{name:[1,19,1],GL:!0,RU:[P,M,s.ki]},{name:[1,5],GL:!0},{name:[11,0],GL:!0},{name:["PSD VAR0",[25,0]],GL:!0}]},{name:[1,18],dc:!0,e:F,sub:[{name:"PNG",RU:"Imgur.com",e:function(E,_){return{e:E!=null&&_.Z1}}},{name:"JPG",RU:"Imgur.com",e:function(E,_){return{e:E!=null&&_.Z1}}},{name:dc==0?"PSD":"AI",RU:["Photo","Vector"][dc]+"pea.com",e:function(E,_){return{e:E!=null&&_.Z1&&!E.Qt}}}]},{name:"Save ...",RU:[M,s.L8],e:function(E,_){var S=aW.get([1,2]),W=!0;
if(E){if(E.dt)S+=" ("+aW.get([6,7,1])+")";if(E.HK)S+=" (Google Drive)";if(E.WI)S+=" ("+Storage.list[E.WI[0]][0]+")";
W=b_.x5.indexOf(E.Xr)!=-1;if(dc==1)W=E.Xr=="ai"}return{e:E!=null&&(E.WI!=null||E.Hn!=null&&W||E.dt!=null||E.hP!=null&&E.hP.sg!=null||E.HK!=null||_.ID.save!=null),jS:S}}},{name:dc==0?[1,3]:"Save as AI",e:function(E,_){return{e:E!=null&&_.Z1}}},{name:["VAR0 VAR1",[1,2],[0,14]],e:F,sub:[{name:["VAR0 VAR1",dc==0?"PSD":"AI",[1,19,2]],e:function(E,_){return{e:E!=null&&_.Z1}}},{name:["VAR0 PSD/PSB",[1,2]],GL:!0,e:function(E,_){return{e:dc==0&&E!=null&&_.Z1}}}]},{name:[1,8],e:F,sub:function(){var E=b_.qm(0),_=[];
for(var R=0;R<E.length;R++)_.push({name:E[R],RU:"."+E[R].toLowerCase()});_.push({name:[0,14],sub:function(){var E=b_.qm(1),_=[];
for(var R=0;R<E.length;R++)_.push({name:E[R],RU:"."+E[R].toLowerCase()});return _}()});return _}()},{name:[1,4],GL:!0,e:F,dc:!0,RU:[M,s.I0]},{name:[1,9],GL:!0,e:F},{name:"Export Color Lookup",GL:!0,e:F,dc:!0},{name:[1,14],GL:!0,e:F,dc:!0},{name:[1,17],sub:[{name:"Batch",GL:!0},{name:"PDF Presentation",GL:!0},{name:"Convert Formats",GL:!0},{name:"Generate Mockups",GL:!0,e:F},{name:"Resize Images",GL:!0,dc:!0},{name:"Crop and Straighten Photos",e:F}]},{name:[1,10],GL:!0}],iy:[{g:z.E.c,d:{Q:z.J.xL,Rj:"newproject"}},{g:z.E.c,d:{Q:z.J.Fw}},{g:z.E.c,d:{Q:z.J.Fw,azG:!0}},{sub:[{g:z.E.c,d:{Q:z.J.Fw,DK:!0}},{g:z.E.c,d:{Q:z.J.xL,Rj:"storwindow",Eq:0}},{g:z.E.c,d:{Q:z.J.xL,Rj:"open_from_url"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"camera"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"res0"}}]},{sub:[{g:z.E.c,d:{Q:z.J.$e,gL:"png"}},{g:z.E.c,d:{Q:z.J.$e,gL:"jpg"}},{g:z.E.c,d:{Q:z.J.$e,gL:dc==0?"psd":"ai"}}]},{g:z.E.c,d:{Q:z.J.MF}},{g:z.E.c,d:{Q:z.J.xa}},{sub:[{g:z.E.c,d:{Q:z.J.xL,Rj:"storwindow",Eq:1}},{g:z.E.c,d:{Q:z.J.xL,Rj:"savepsb"}}]},{sub:function(){var E=b_.qm(0),_=[];
for(var R=0;R<E.length;R++)_.push({g:z.E.c,d:{Q:z.J.xL,Rj:"saveforweb",gL:R}});_.push({sub:function(){var S=b_.qm(0).length,E=b_.qm(1),_=[];
for(var R=0;R<E.length;R++)_.push({g:z.E.c,d:{Q:z.J.xL,Rj:"saveforweb",gL:S+R}});return _}()});return _}()},{g:z.E.c,d:{Q:z.J.xL,Rj:"saveforweb",gL:3,a0S:!0}},{g:z.E.c,d:{Q:z.J.xL,Rj:"eassets"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"exlut"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"finfo"}},{sub:[{g:z.E.c,d:{Q:z.J.xL,Rj:"batch"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"pdfpres"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"cformat"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"mockups"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"resize"}},{g:z.E.H,l:$.q$,d:{Q:"cropAndStr"}}]},{g:z.E.c,d:{Q:z.J.xL,Rj:"script"}}]},{name:[0,1],items:[{name:[2,8],e:F},{name:[2,0],e:F,RU:[O,M,s.sN]},{name:[2,1],e:F,RU:[M,s.sN],dc:!0},{name:[2,11],RU:[O,M,s.YF],dc:!0,GL:!0,e:function(E,_){return{e:fW.aca(E)&&_.zI!=$.wO}}},m[0][0],m[0][1],{name:[5,7],RU:[O,M,s.fG],e:function(E){return{e:E!=null&&E.h!=null}}},m[0][2],m[0][3],{name:[2,3],e:A,GL:!0,RU:[O,s.aaq]},{name:[14,9],e:A,GL:!0,dc:!0},{name:[10,48],e:A},{name:[10,46],e:function(E){return{e:$.uI.Te(E)}}},{name:"Perspective Warp",e:function(E){return{e:$.uI.Te(E)}}},{name:[10,16],e:F,RU:[P,M,s.aD]},{name:[2,4],e:F,sub:cA.BV()},{name:[2,10,1],e:F},{name:[2,10,0],e:F,dc:!0},{name:"Assign Profile",sub:Z},{name:"Convert to Profile",sub:Z,dc:!0},{name:[12,87],e:F,sub:[{name:[12,62],e:F},{name:[9,3],e:F},{name:[10,31],e:function(E){return{e:E!=null&&E.Iv()[1].length!=0}}}]},{name:[1,15],GL:!0},{name:[12,79],GL:!0,RU:[M,s.fB]},{name:[1,13],GL:!0}],iy:[{g:z.E.H,l:$.FZ,d:{Q:"h_undoredo"}},{g:z.E.H,l:$.FZ,d:{Q:"h_stepfwd"}},{g:z.E.H,l:$.FZ,d:{Q:"h_stepbck"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"afw_fade"}},m[1][0],m[1][1],{g:z.E.c,d:{Q:z.J.WP,nj:!0}},m[1][2],m[1][3],{g:z.E.c,d:{Q:z.J.xL,Rj:"fill"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"stroke"}},{g:z.E.c,d:{Q:z.J.LT,l:$.Ef}},{g:z.E.H,l:$.JG,d:{Q:"start",OT:"rigidTransform"}},{g:z.E.H,l:$.JG,d:{Q:"start",OT:"perspectiveWarpTransform"}},{g:z.E.c,d:{Q:z.J.LT,l:$.wO}},{sub:cA.CB()},{g:z.E.fa,d:{Cw:"align",kT:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{g:z.E.H,l:$.mu,d:{Q:ad.aFF}},{sub:u},{sub:f},{sub:[{g:z.E.c,d:{Q:z.J.R8,dh:0}},{g:z.E.c,d:{Q:z.J.R8,dh:1}},{g:z.E.c,d:{Q:z.J.R8,dh:2}}]},{g:z.E.c,d:{Q:z.J.xL,Rj:"pmanager"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"preferences"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"locstor"}}]},{name:[0,2],items:[{name:[12,36],e:F,dc:!0,sub:[{name:"RGB",e:function(E){if(E==null)return{e:!1};
return{VZ:E.add.fcmy==null,e:!0}}},{name:"CMYK",dc:!0,e:function(E){if(E==null)return{e:!1};return{VZ:E.add.fcmy!=null,e:E.depth!=32}}}].concat(aP?[{name:"8 Bits/Channel",e:function(E){if(E==null)return{e:!1};
return{VZ:E.depth==8,e:!0}}},{name:"16 Bits/Channel",e:function(E){if(E==null)return{e:!1};return{VZ:E.depth==16,e:!0}}},{name:"32 Bits/Channel",e:function(E){if(E==null)return{e:!1};
return{VZ:E.depth==32,e:E.add.fcmy!=1}}}]:[])},{name:[3],e:F,dc:!0,sub:function(){var E=[];for(var _ in ak.names){E.push({name:ak.names[_],GL:aB[_]!=null,RU:ak.keys[_],dc:ak.acY.indexOf(_)!=-1});
if(_=="selc"){E.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],GL:!0,dc:!0});E.push({name:[19,7,0],RU:[M,O,s.km],e:A});
E.push({name:[4,18],GL:!0,e:A})}}return E}()},{name:[4,16,0],e:A},{name:[4,16,1],e:A},{name:[4,16,2],e:A,dc:!0},{name:[11,11,1],e:h,GL:!0},{name:[11,11,0],e:h,GL:!0},{name:"Wavelet Decompose",e:h,dc:!0},{name:[11,3],e:F,GL:!0,RU:[P,M,s.fG]},{name:[11,10],e:F,GL:!0,RU:[P,M,s.hK]},{name:[2,4],e:F,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],e:function(E){return{e:E!=null&&E.h!=null}}},{name:[11,12,0],e:F,RU:[M,s.LL],GL:!0},{name:[11,12,2],e:F,dc:!0},{name:[12,53],e:F},{name:[2,12],e:A,GL:!0,dc:!0},{name:[2,14],e:F,GL:!0}],iy:[{sub:[{g:z.E.H,l:$.ht,d:{Q:"fcmy",K:0}},{g:z.E.H,l:$.ht,d:{Q:"fcmy",K:1}},{g:z.E.fa,d:{Cw:"convertMode",kT:{classID:"CnvM",Dpth:{t:"long",v:8},Mrge:{t:"bool",v:!1}}}},{g:z.E.fa,d:{Cw:"convertMode",kT:{classID:"CnvM",Dpth:{t:"long",v:16},Mrge:{t:"bool",v:!1}}}},{g:z.E.fa,d:{Cw:"convertMode",kT:{classID:"CnvM",Dpth:{t:"long",v:32},Mrge:{t:"bool",v:!1}}}}]},{sub:function(){var E=[];
for(var _ in ak.names){E.push({g:z.E.H,l:$.sA,d:{Q:"start",Qy:_}});if(_=="selc"){E.push({g:z.E.H,l:$.JG,d:{Q:"start",OT:"adaptCorrect"}});
E.push({g:z.E.fa,d:{Cw:"desaturate"}});E.push({g:z.E.H,l:$.sA,d:{Q:"start",Qy:"matc"}})}}return E}()},{g:z.E.fa,d:{Cw:"levels",kT:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{g:z.E.fa,d:{Cw:"levels",kT:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{g:z.E.fa,d:{Cw:"levels",kT:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{g:z.E.c,d:{Q:z.J.xL,Rj:"rcolors"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"vbitmap"}},{g:z.E.H,l:$.mu,d:{Q:ad.a2g}},{g:z.E.c,d:{Q:z.J.xL,Rj:"csize"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"isize"}},{sub:[{g:z.E.fa,d:$.TR.v$(!0,90)},{g:z.E.fa,d:$.TR.v$(!0,-90)},{g:z.E.fa,d:$.TR.v$(!0,-180)},{g:z.E.fa,d:$.TR.v$(!1,"Hrzn")},{g:z.E.fa,d:$.TR.v$(!1,"Vrtc")}]},{g:z.E.fa,d:{Cw:"crop",kT:{__name:"Crop",classID:"Crop"}}},{g:z.E.c,d:{Q:z.J.xL,Rj:"trim"}},{g:z.E.fa,d:{Cw:"revealAll",kT:{classID:"RvlA"}}},{g:z.E.fa,d:{Cw:"duplicate",kT:{classID:"Dplc",null:f7.Ht("Dcmn",!0)}}},{g:z.E.H,l:$.sA,d:{Q:"start",Qy:"aply"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],e:F,sub:[{name:[0,3],RU:[O,M,s.UE]},{name:[0,4]},{name:[1,16,0],GL:!0},{name:[1,16,3],GL:!0,dc:!0},{name:[6,49,0],RU:[M,s.tF]},{name:[6,49,1],RU:[O,M,s.tF],e:function(E){return{e:E!=null&&E.h!=null&&E.Y7(!1)}}}]},{name:[6,0],e:y},{name:[11,4],e:y},{name:[5,4],e:y,dc:!0},{name:"Text",e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],e:y,dc:!0,sub:eM.xv(!0)},{name:[6,48,1],e:F,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],e:F,dc:!0,sub:eM.aqH()},{name:[6,2],e:F,sub:[{name:[6,4],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].Bl()==null}}},{name:[6,5,0],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].Bl()==null}}},{name:[6,5,1],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].Bl()==null&&E.h!=null}}},{name:[6,5,2],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].Bl()==null&&E.h!=null}}},{name:[6,5,3],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].Bl()==null}},dc:!0},{name:[5,4],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].Bl()!=null}}},{name:[5,8],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].Bl()!=null&&E.Y7(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].Bl()!=null}}}]},{name:[6,3],e:F,sub:[{name:[6,4],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].add.vmsk==null}}},{name:[6,5,0],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].add.vmsk==null}}},{name:[12,76,7],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].add.vmsk==null}},dc:!0},{name:[5,4],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],e:function(E){return{e:E!=null&&E.Y.length!=0&&E.U[E.Y[0]].add.vmsk!=null}}}]},hr.aaO(!0),ai.gX(!0),{name:[6,8],e:hr.av3},{name:[6,34],dc:!0,e:function(E){if(E==null||E.Y.length==0)return{e:!1};
var _=E.U[E.Y[0]];return{e:_.add.lmfx!=null&&!_.ES()}}},{name:[6,9],e:F,dc:!0,RU:[M,s.jX]},{name:[6,55],e:F,sub:[{name:[6,56,0],RU:[O,M,s.yt]},{name:[6,56,1],RU:[M,s.yt]},{name:[6,56,2],RU:[M,s.Im]},{name:[6,56,3],RU:[O,M,s.Im]}]},{name:"Combine Shapes",e:F,dc:!0,sub:[{name:[18,1],mb:"set/union"},{name:[18,2],mb:"set/difference"},{name:[18,3],mb:"set/intersection"},{name:[18,4],mb:"set/xor"}]},{name:[6,58],e:F,dc:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],RU:[M,s.E],e:hr.w8},{name:[6,12,1],e:F},{name:[2,13],e:F}],iy:[{sub:[{g:z.E.H,l:$.mu,d:{Q:ad.Wo}},{g:z.E.H,l:$.mu,d:{Q:ad.bR}},{g:z.E.c,d:{Q:z.J.xL,Rj:"newartb",Eq:0}},{g:z.E.c,d:{Q:z.J.xL,Rj:"newartb",Eq:1}},{g:z.E.fa,d:{Cw:"copyToLayer"}},{g:z.E.fa,d:{Cw:"cutToLayer"}}]},{g:z.E.H,l:$.mu,d:{Q:ad.i_}},{g:z.E.c,d:{Q:z.J.xL,Rj:"duplinto"}},{g:z.E.H,l:$.mu,d:{Q:ad.Yb}},{sub:[{g:z.E.H,l:$.mu,d:{Q:ad.Oe}}]},{sub:eM.xn(!0)},{sub:[{g:z.E.H,l:$.BI,d:{Q:"newfill",VK:0}},{g:z.E.fa,d:$.gw.Gk(1)},{g:z.E.fa,d:$.gw.Gk(2)}]},{sub:eM.z1()},{sub:[{g:z.E.H,l:$.mu,d:{Q:ad.y8,Eq:"RvlA"}},{g:z.E.H,l:$.mu,d:{Q:ad.y8,Eq:"HdAl"}},{g:z.E.H,l:$.mu,d:{Q:ad.y8,Eq:"RvlS"}},{g:z.E.H,l:$.mu,d:{Q:ad.y8,Eq:"HdSl"}},{g:z.E.H,l:$.mu,d:{Q:ad.y8,Eq:"Trns"}},{g:z.E.H,l:$.mu,d:{Q:ad.jm}},{g:z.E.H,l:$.mu,d:{Q:ad.VI}},{g:z.E.H,l:$.mu,d:{Q:ad.l6}}]},{sub:[{g:z.E.fa,d:$.Y8.pS(0)},{g:z.E.fa,d:$.Y8.pS(1)},{g:z.E.fa,d:$.Y8.pS(2)},{g:z.E.fa,d:$.Y8.pS(3)},{g:z.E.H,l:$.mu,d:{Q:ad.oq}}]},{g:z.E.H,l:$.mu,d:{Q:ad.eb}},ai.gX(!1),{g:z.E.fa,d:{Cw:"rasterizeLayer",kT:{classID:"rasterizeLayer",null:f7.Ht("Lyr",!0)}}},{g:z.E.fa,d:{Cw:"rasterizeLayer",kT:{classID:"rasterizeLayer",null:f7.Ht("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{g:z.E.H,l:$.mu,d:{Q:ad.De}},{sub:[{g:z.E.H,l:$.mu,d:{Q:ad.Pr,tW:0}},{g:z.E.H,l:$.mu,d:{Q:ad.Pr,tW:1}},{g:z.E.H,l:$.mu,d:{Q:ad.Pr,tW:2}},{g:z.E.H,l:$.mu,d:{Q:ad.Pr,tW:3}}]},{sub:[{g:z.E.H,l:$.mu,d:{Q:ad.aC,Ns:0}},{g:z.E.H,l:$.mu,d:{Q:ad.aC,Ns:1}},{g:z.E.H,l:$.mu,d:{Q:ad.aC,Ns:2}},{g:z.E.H,l:$.mu,d:{Q:ad.aC,Ns:3}}]},{sub:[{g:z.E.H,l:$.mu,d:{Q:ad.ZC,tW:"makeframes"}},{g:z.E.H,l:$.mu,d:{Q:ad.ZC,tW:"unmakeframes"}},{g:z.E.H,l:$.mu,d:{Q:ad.ZC,tW:"merge"}}]},{g:z.E.fa,d:{Cw:"mergeLayersNew",kT:{__name:"Merge Layers",classID:"Mrg2"}}},{g:z.E.fa,d:{Cw:"flattenImage"}},{g:z.E.H,l:$.JG,d:{Q:"start",OT:"defr"}}]},ai.afq(!1),function(){var E={name:[0,6],items:[{name:[24,18,4],RU:[P,M,s.YF],e:F,dc:!0}],iy:[{g:z.E.H,l:$.JG,d:{Q:"applylast"}}]};
for(var R=0;R<bW.pW.length;R++){var _=bW.pW[R],S=_.ts;if(_.Rw!=null){var W={name:bW.names[_.Rw],GL:!0,dc:_.dc,e:F};
if(_.Rw=="VaPo")W.e=A;E.items.push(W);E.iy.push({g:z.E.H,l:$.JG,d:{Q:"start",OT:_.Rw}});continue}var g={name:_.jb,sub:[],e:F};
E.items.push(g);var x={sub:[]};E.iy.push(x);for(var V=0;V<S.length;V++){var b=S[V],N=bW.names[b];if(b=="blurbTransform")N=[24,3,12,V];
var J={name:N,GL:bW.Jb(b)!=null};g.sub.push(J);var K={g:z.E.H,l:$.JG,d:{Q:"start",OT:b,aE6:V<2?V:V+1}};
x.sub.push(K)}}return E}(),{name:[0,7],items:[{name:[8,0],e:F,RU:[M,s.OA]},{name:[8,1],e:F,RU:[M,s.rl]},{name:[20,3],e:F,RU:[M,s.UZ]},{name:[20,2],e:F,RU:[M,s.KQ]},{name:[8,14],e:function(E,_){return{e:E!=null,VZ:E!=null&&E.I2}},dc:!0},{name:[12,36],dc:!0,sub:[{name:"Fullscreen",e:function(E,_){return{VZ:document.fullscreenElement!=null}},dc:!0},{name:"Standard",e:function(E,_){return{VZ:_.s7==0}}},{name:"Menu Bar and Canvas",e:function(E,_){return{VZ:_.s7==1}}}]},{name:[8,13],RU:[M,s.kq],e:function(E,_){return{VZ:_.he}}},{name:[8,12],dc:!0,sub:[{name:[17,2],e:function(E,_){return{e:_.he,VZ:_.QZ.vq}}},{name:[8,9],e:function(E,_){return{e:_.he,VZ:_.QZ.J4}}},{name:[8,2],e:function(E,_){return{e:_.he,VZ:_.QZ.FQ}},RU:[M,s.tk]},{name:[8,4],e:function(E,_){return{e:_.he,VZ:_.QZ.W2}},RU:[M,s.hn]},{name:[8,8],e:function(E,_){return{e:_.he,VZ:_.QZ.mp}}},{name:[8,11,0],e:function(E,_){return{e:_.he,VZ:_.QZ.$X}}}]},{name:[8,3],e:function(E,_){return{VZ:_.vr}},RU:[M,s.ho],dc:!0},{name:[8,5],e:function(E,_){return{VZ:_.Po}}},{name:[8,6],dc:!0,sub:[{name:[8,2],e:function(E,_){return{VZ:_.fA[0]}}},{name:[8,4],e:function(E,_){return{VZ:_.fA[1]}}},{name:[9,1],e:function(E,_){return{VZ:_.fA[2]}}},{name:[8,11,0],e:function(E,_){return{VZ:_.fA[3]}}},{name:[8,7,0],e:function(E,_){return{VZ:_.fA[4]}}}]},{name:[11,15,2],e:function(E,_){return{e:E!=null,VZ:E!=null&&E.o6}}},{name:[11,15,0],e:F},{name:[11,14],e:F,GL:!0},{name:[11,15,1],e:function(E,_){return{e:E!=null&&E.Y.length!=0}},dc:!0},{name:[8,11,2],e:function(E,_){return{e:E!=null&&E.$X.length!=0}}}],iy:[{g:z.E.H,l:$.zY,d:{Q:"zoom",rv:!0}},{g:z.E.H,l:$.zY,d:{Q:"zoom",rv:!1}},{g:z.E.H,l:$.zY,d:{Q:"adapt",K:"fitscr"}},{g:z.E.H,l:$.zY,d:{Q:"adapt",K:"pixel"}},{g:z.E.H,l:$.ht,d:{Q:"pview"}},{sub:[{g:z.E.c,d:{Q:z.J.b9,eM:!0}},{g:z.E.c,d:{Q:z.J.b9,K:0}},{g:z.E.c,d:{Q:z.J.b9,K:1}},{g:z.E.c,d:{Q:z.J.b9,K:2}}]},{g:z.E.c,d:{Q:z.J.ko,dh:g5._s}},{sub:[{g:z.E.c,d:{Q:z.J.ko,dh:g5.ox}},{g:z.E.c,d:{Q:z.J.ko,dh:g5.hk}},{g:z.E.c,d:{Q:z.J.ko,dh:g5.CL}},{g:z.E.c,d:{Q:z.J.ko,dh:g5.VT}},{g:z.E.c,d:{Q:z.J.ko,dh:g5.ye}},{g:z.E.c,d:{Q:z.J.ko,dh:g5.R3}}]},{g:z.E.c,d:{Q:z.J.ko,dh:g5.WF}},{g:z.E.c,d:{Q:z.J.ko,dh:g5.agz}},{sub:[{g:z.E.c,d:{Q:z.J.ko,dh:g5.TX,zi:0}},{g:z.E.c,d:{Q:z.J.ko,dh:g5.TX,zi:1}},{g:z.E.c,d:{Q:z.J.ko,dh:g5.TX,zi:2}},{g:z.E.c,d:{Q:z.J.ko,dh:g5.TX,zi:3}},{g:z.E.c,d:{Q:z.J.ko,dh:g5.TX,zi:4}}]},{g:z.E.H,l:$.ht,d:{Q:"lockguides"}},{g:z.E.H,l:$.ht,d:{Q:"gids",Cy:[[],[]]}},{g:z.E.c,d:{Q:z.J.xL,Rj:"addguides"}},{g:z.E.H,l:$.ht,d:{Q:"gidsFromLayer"}},{g:z.E.H,l:$.bj,d:{Q:"deleteAll"}}]},function(){var E={name:[0,8],items:[{name:[0,14],dc:!0,sub:[]},{name:"Plugins",dc:!0}],iy:[{sub:[]},{g:z.E.c,d:{Q:z.J.xL,Rj:"res1"}}]};
for(var R=0;R<k6.I0.length;R++){var _=k6.I0[R],S=function(){var W=_.uJ.oP;return function(g,x){return{VZ:x.eo.indexOf(parseInt(W))!=-1}}}();
(_.qB?E.items[0].sub:E.items).push({name:_.uJ.name,e:S});(_.qB?E.iy[0].sub:E.iy).push({g:z.E.c,d:{Q:z.J.Rt,Rj:_.uJ.oP}})}return E}(),function(){var E={name:[0,14],items:[],iy:[]},_={name:[0,9],sub:[]};
E.items.push(_);var S={sub:[]};E.iy.push(S);var W=aW.a7h();for(var R=0;R<W.length;R++){var g=W[R],x=g.code,V=aW.av1(x);
_.sub.push({name:g.name,RU:x,e:function(b,N){return{VZ:this.RU==aW.cB()}}});S.sub.push({g:z.E.c,d:{Q:z.J.ko,dh:g5.r1,lang:V}})}_.sub.push({name:[0,12]});
S.sub.push({g:z.E.c,d:{Q:z.J.xR,link:"https://www.photopea.com/translate/"}});var _={name:[0,15],sub:[]};
E.items.push(_);var S={sub:[]};E.iy.push(S);for(var R=0;R<hz.YS.length;R++){_.sub.push({name:hz.YS[R].name,e:function(b,N){return{VZ:this.name==hz.YS[N.OW].name}}});
S.sub.push({g:z.E.c,d:{Q:z.J.ko,dh:g5.le,OW:R}})}E.items.push({name:dc==0?[0,17,6]:"Install Vectorpea",e:function(b,N){return{e:N.Fj!=null}}});
E.iy.push({g:z.E.c,d:{Q:z.J.rb}});if(dc==0){E.items.push({name:[11,13]});E.iy.push({g:z.E.c,d:{Q:z.J.xL,Rj:"shortcuts"}});
E.items.push({name:[0,16],e:function(b){return{VZ:ci.Qh,e:ci.a4Y}},dc:!0});E.iy.push({g:z.E.c,d:{Q:z.J.ard}})}E.items.push({name:"PeaMark"});
E.iy.push({g:z.E.c,d:{Q:z.J.xL,Rj:"peamark"}});E.items.push({name:"",e:function(b,N){return N.Yl?{jS:"About "+["Photopea","Vectorpea"][dc],e:!0}:{jS:"",e:!1}}});
E.iy.push({g:z.E.c,d:{Q:z.J.xL,Rj:"aboutpp"}});return E}()],L=[D[0],{name:[0,1],items:[{name:[2,8],e:F},{name:[2,0],e:F,RU:[O,M,s.sN]},{name:[2,1],e:F,RU:[M,s.sN],dc:!0},m[0][0],m[0][1],{name:[5,7],RU:[O,M,s.fG],e:function(E){return{e:E!=null&&E.h!=null}}},m[0][2],m[0][3],{name:[10,16],e:F,RU:[P,M,s.aD]},{name:[2,4],e:F,sub:cA.BV()},{name:"Assign Profile",sub:Z},{name:"Convert to Profile",sub:Z,dc:!0},{name:[12,87],e:F,sub:[{name:[9,3],e:F},{name:[10,31],e:function(E){return{e:E!=null&&E.Iv()[1].length!=0}}}]},{name:[1,15],GL:!0},{name:[12,79],GL:!0,RU:[M,s.fB]},{name:[1,13],GL:!0}],iy:[{g:z.E.H,l:$.FZ,d:{Q:"h_undoredo"}},{g:z.E.H,l:$.FZ,d:{Q:"h_stepfwd"}},{g:z.E.H,l:$.FZ,d:{Q:"h_stepbck"}},m[1][0],m[1][1],{g:z.E.c,d:{Q:z.J.WP,nj:!0}},m[1][2],m[1][3],{g:z.E.c,d:{Q:z.J.LT,l:$.wO}},{sub:cA.CB()},{sub:u},{sub:f},{sub:[{g:z.E.c,d:{Q:z.J.R8,dh:1}},{g:z.E.c,d:{Q:z.J.R8,dh:2}}]},{g:z.E.c,d:{Q:z.J.xL,Rj:"pmanager"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"preferences"}},{g:z.E.c,d:{Q:z.J.xL,Rj:"locstor"}}]},{name:"Object",items:[{name:[2,4],e:F,dc:!0,sub:[{name:[12,54]},{name:[2,5]},{name:"Reflect"},{name:[12,38]}]},{name:[6,9],e:F,dc:!0,RU:[M,s.jX]},{name:[6,6,0],sub:[{name:[5,5],RU:[M,s.Rs]},{name:[5,6],RU:[P,M,s.Rs]}]},{name:[1,16,1],sub:[{name:"Fit to Artwork Bounds"}]}],iy:[{sub:[{g:z.E.c,d:{Q:z.J.xL,Rj:"transform",tW:0}},{g:z.E.c,d:{Q:z.J.xL,Rj:"transform",tW:1}},{g:z.E.c,d:{Q:z.J.xL,Rj:"transform",tW:2}},{g:z.E.c,d:{Q:z.J.xL,Rj:"transform",tW:3}},{g:z.E.c,d:{Q:z.J.xL,Rj:"transform",tW:4}}]},{g:z.E.H,l:$.mu,d:{Q:ad.De}},{sub:[{g:z.E.H,l:$.mu,d:{Q:ad.De,Cj:!0}},{g:z.E.H,l:$.mu,d:{Q:ad.De,Cj:!0,s9:!0}}]},{sub:[{g:z.E.H,l:$.wq,d:{Q:"adapt"}}]}]},{name:[0,7],items:[{name:"Outline View",e:function(E,_){return{VZ:E&&E.add.prvw==0,e:E!=null}},dc:!0,RU:[M,s.Hc]},{name:[8,0],e:F,RU:[M,s.OA]},{name:[8,1],e:F,RU:[M,s.rl]},{name:[12,36],dc:!0,sub:[{name:"Fullscreen",e:function(E,_){return{VZ:document.fullscreenElement!=null}},dc:!0},{name:"Standard",e:function(E,_){return{VZ:_.s7==0}}},{name:"Menu Bar and Canvas",e:function(E,_){return{VZ:_.s7==1}}}]},{name:[8,3],e:function(E,_){return{VZ:_.vr}},RU:[M,s.ho]}],iy:[{g:z.E.H,l:$.zY,d:{Q:"prvw"}},{g:z.E.H,l:$.zY,d:{Q:"zoom",rv:!0}},{g:z.E.H,l:$.zY,d:{Q:"zoom",rv:!1}},{sub:[{g:z.E.c,d:{Q:z.J.b9,eM:!0}},{g:z.E.c,d:{Q:z.J.b9,K:0}},{g:z.E.c,d:{Q:z.J.b9,K:1}}]},{g:z.E.c,d:{Q:z.J.ko,dh:g5.WF}}]},D[7],D[8]];
return dc==0?D:L}();function el(){hV.call(this);this._=i.m("div","");this.cf=0;this.YD=0;this.f=null;
this.W_=i.m("div","");i.P(this.W_,"width:200em; height:100em; position:absolute;");this.Lh=[];this.Og=[];
this.K3={}}el.prototype=new hV;el.prototype.JD=function(s){var M=Date.now(),O=[];if(s=="-"){O=[new iF,new cS,new b3,new at("pdfpres"),new at("cformat"),new at("batch"),new at("mockups"),new at("resize"),new bm,new hx,new fK,new ha,new ha(!0),new cs,new jS,new hZ,new i4,new gb,new iN,new eE,new cp,new hD,new iR,new eM,new b0("isize"),new b0("csize"),new ar,new a8,new eD,new jJ,new kD,new h6,new bf,new hB,new bF(!1),new bF(!0),new a1(0),new a1(1),new is,new aX,new ka,new ey,new bJ,new b6,new gU(0),new gU(1),new gU(2),new gU(3),new gU(4),new gU(5),new gU(6),new gU(7),new gU(8),new iS,new li,new aD,new e6,new b7,new bY,new dR,new am,new dg,new fP,new eZ(0),new eZ(1),new jm("border",[7,9],"px"),new jm("smoothness",[19,3,0],"px"),new jm("expand",[7,4],"px"),new jm("contract",[7,5],"px"),new jm("feather",[7,6],"px"),new bw(0,"namewindow",[12,48]),new bw(2,"billto","Bill To"),new bw(1,"cornerradius",[12,94,0],"px",!0,!0),new bw(1,"scaleeffects",[6,30,1],"%",!0),new bw(1,"doczoom","Zoom","%",!0),new bw(1,"setFPS","Set FPS","fps,120",!1),new bw(1,"simplifypath",[12,94,2],"%,100",!0,!0),new ec];
if(dc==0){O.push(new l6)}}else O=[new fW(s.slice(4))];this.auY(O);this.K3[s]=!0};el.prototype.auY=function(s){var M=this.f;
for(var R=0;R<s.length;R++){var O=s[R];O.parent=this;this.Og.push(O);this.aa(O);O.T();if(M)O.qy(M,g5.rT);
O.k(z.E.wE,this.du,this);i.wJ(O)}};el.prototype.GK=function(s,M){this.cf=s;this.YD=M;for(var R=0;R<this.Og.length;
R++)this.aa(this.Og[R])};el.prototype.T=function(){for(var R=0;R<this.Og.length;R++)this.Og[R].T()};
el.prototype.D$=function(){return this.Lh.length==0?null:this.Lh[this.Lh.length-1]};el.prototype.bA=function(){for(var R=0;
R<this.Lh.length;R++)if(this.Lh[R].bA())return!0;return!1};el.prototype.a39=function(s,M,O,P,y){console.log("Show",s);
var F=s.startsWith("afw_"),A=null;if(!F&&!this.K3["-"])this.JD("-");if(F&&!this.K3[s])this.JD(s);if(typeof s=="object"){A=s;
if(!A.akj(z.E.wE,this.du))A.k(z.E.wE,this.du,this);A.parent=this}else for(var R=0;R<this.Og.length;R++)if(this.Og[R].id==s)A=this.Og[R];
if(this.bA()&&A.bA()){alert("Finish the current action first");return}if(!A.N3(M))return;if(this.Lh.indexOf(A)!=-1){if(s=="colorpicker")this.du(null,A);
else return}var h=this.Lh.length-1;if(h>=0)i.cG(this.Lh[h]._,"wdisabled");this._.appendChild(A._);this.Lh.push(A);
this.aa(A);i.lG(A);A.o3(M,O,P,y)};el.prototype.aa=function(s){var M=this.cf,O=this.YD,P=s.xc(M,O),y;
if(P!=null){y=P}else{P=new j6(0,0);y=s.aG5();if(y==null){var F=this.Lh.indexOf(s)+1;if(M<450||O<450)y=new j6(0,0);
else y=new j6(F*150,F*150)}}s._.style.left=y.x+"px";s._.style.top=this._.offsetTop+y.y+"px";s.GK(this.cf-P.x*2,this.YD-P.y*2-34)};
el.prototype.qy=function(s,M){this.f=s;for(var R=0;R<this.Og.length;R++)this.Og[R].qy(s,M)};el.prototype.du=function(s,M){if(M==null){M=this.Lh.pop();
i.wJ(M,this._)}else{this.Lh.splice(this.Lh.indexOf(M),1);this._.removeChild(M._);i.VV(M._,"wdisabled")}var O=this.Lh.length-1;
if(O>=0)i.VV(this.Lh[O]._,"wdisabled");if(this.W_.parentNode==this._)this._.removeChild(this.W_)};document.body.appendChild(new f0()._)}())