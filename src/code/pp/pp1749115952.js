(function(){var ex=window.location.hostname=="www.vectorpea.com"?1:0,kv=!0;(function(){var z;try{z=window.localStorage}catch(l5){}var J={};
if(z){var p=z.getItem("_ppp");if(p)J=JSON.parse(p);else{var n="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var g=0;g<n.length;g++){var B=z.getItem(n[g]);if(B!=null)J[n[g]]=B}}}var c=window.locStor={};c.setItem=function(u,v){J[u]=v;
if(z)z.setItem("_ppp",JSON.stringify(J))};c.getItem=function(u){return J[u]};c.removeItem=function(u){delete J[u];
if(z)z.setItem("_ppp",JSON.stringify(J))};if(ex==0){window.showCap=function(){t(!0)};window.hideCap=function(){t(!1)};
function t(u){document.getElementById("cap").setAttribute("style",u?"":"display:none;");window.locStor.setItem("capShown",""+u)}if(window.locStor.getItem("capShown")=="false"||window.self!=window.top){}else window.showCap()}}());
var j8={W_:0,HD:null,tu:null,aJU:null,fw:null,pk:null,aGm:!0,aH8:0,Ia:!1};j8.event=function(z,J,p){if(ex!=0)return;
if(J!=null&&J<Math.random())return;if(p==null)p=0;var n=new XMLHttpRequest;n.open("GET","/papi/event.php?id="+z+"&g="+p+"&rnd="+Math.random());
n.send()};j8.DP=function(z){if(ex!=0)z="//www.photopea.com/"+z;return z};j8.d6=function(z){var J=location.href;
if(J.indexOf("photopea.com")!=-1||J.indexOf("vectorpea.com")!=-1)return"//vecpea.com/"+z;return j8.DP(z)};
j8.x_=function(){var z=j8.uO();if(z==null)return null;var J=q.cR(24)?" ":"",p=q.Ps[q.DX("Uu,"+J)];p=p[q.DX(J+"$/")];
var n=j8.ahh(1,999);if(n&&j8.jQ(n)*50>p()/20)return[0,n];var B=z.inTeams;if(B)for(var g=0;g<B.length;
g++)if(B[g][1]*50>p()/20)return[1,B[g]];return null};j8.s_=function(){return j8.aug()!=null};j8.we=function(){return j8.jQ(j8.ahh(1e3,999999999))};
j8.jQ=function(z){return z==null?0:z[0]+z[1]*24*60*60};j8.ahh=function(z,J){var p=j8.uO(),n=p.pmnts,B=0,c=null;
if(n==null||n.length==0)return 0;for(var g=0;g<n.length;g++){var t=n[g],u=j8.jQ(t);if(z<=t[2]&&t[2]<=J)if(B<u){B=u;
c=t}}return c};j8.uO=function(){return j8.pk};j8.SL=function(z){window.addEventListener("message",j8.ahT,!1);
setInterval(j8.aFr,5e3);if(j8.s_()&&navigator.onLine){j8.HD=z;j8.V_()}else setTimeout(z,1)};j8.aFr=function(){if(j8.s_()&&j8.Ia){j8.atz(j8.On());
j8.Ia=!1}};j8.VL=function(z){j8.HD=z;var J="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
j8.aJU=window.open(J,"_blank")};j8.acl=function(){var z=window.locStor;z.removeItem(j8.W_+"_uid");z.removeItem(j8.W_+"_provider");
z.removeItem(j8.W_+"_token");j8.pk=null};j8.ahT=function(z){if(z.data instanceof ArrayBuffer||z.data instanceof Object)return;
if(z.data.charAt(0)!="{")return;var J=JSON.parse(z.data);if(J.prms==null)return;var p=J.prms.split(",");
if(p[0]=="papi_logged_in"){var n=window.locStor;n.setItem(j8.W_+"_uid",p[1]);j8.hP(p[2]);n.setItem(j8.W_+"_provider",p[3]);
j8.aJU.close();j8.V_()}if(p[0]=="payment_complete"){j8.fw.close();j8.V_()}};j8.aug=function(){var z=window.locStor.getItem(j8.W_+"_token");
if(z!=null&&Date.now()*.001+10<parseInt(z.split("-")[0]))return z;return null};j8.hP=function(z){var J=window.locStor.getItem(j8.W_+"_token");
if(J!=null&&parseInt(z.split("-")[0])<parseInt(J.split("-")[0]))return;window.locStor.setItem(j8.W_+"_token",z);
clearTimeout(j8.aH8);j8.aH8=setTimeout(j8.a5I,Math.min(1e9,parseInt(z.split("-")[0])*1e3-Date.now()-20*1e3))};
j8.aIq=function(z,J,p,n){if(!navigator.onLine)throw"a";var B=new XMLHttpRequest;B.open("POST","https://www.photopea.com/papi/record_new.php",!0);
B.onload=p;var c=j8.Qo(0)+"&read=3&tuid="+z+"&tid="+J;if(n)c+="&tpl="+encodeURIComponent(n);B.setRequestHeader("Content-type","application/x-www-form-urlencoded");
B.send(c)};j8.a5I=function(){if(!navigator.onLine)throw"a";var z=new XMLHttpRequest;z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
z.onload=j8.aLD;var J=j8.Qo(0)+"&read=2";z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
z.send(J)};j8.V_=function(){if(!navigator.onLine)throw"b";var z=new XMLHttpRequest;z.open("POST","https://www.photopea.com/papi/record_new.php",!0);
z.onload=j8.aAp;var J=j8.Qo(0)+"&read=1";z.setRequestHeader("Content-type","application/x-www-form-urlencoded");
z.send(J)};j8.atz=function(z){if(!navigator.onLine)throw"c";var J=new XMLHttpRequest;J.open("POST","https://www.photopea.com/papi/record_new.php",!0);
J.onload=j8.aCr;var p=j8.Qo(0)+"&read=0&score="+(z.tpl?1:0)+"&spublic="+j8.aGm+"&record="+encodeURIComponent(JSON.stringify(z));
J.setRequestHeader("Content-type","application/x-www-form-urlencoded");J.send(p)};j8.aAp=function(z){var J=JSON.parse(z.target.response);
if(J.error){}else{j8.pk=J.user;var p=j8.On(),n=J.record;if(J.record){j8.aGm=J.spublic;j8.aAK(n)}else if(p)j8.atz(p)}j8.hP(J.token);
var B=j8.HD,c=j8.tu;if(B){j8.HD=null;B()}if(c){j8.tu=null;c()}};j8.aLD=function(z){var J=JSON.parse(z.target.response);
j8.hP(J.token)};j8.aCr=function(z){var J=JSON.parse(z.target.response);j8.hP(J.token);if(j8.tu)j8.V_()};
j8.Qo=function(z){var J=window.locStor;return"app="+z+"&uid="+J.getItem(j8.W_+"_uid")+"&token="+J.getItem(j8.W_+"_token")};
j8.nF=function(z){if(z){j8.tu=z;j8.V_()}return j8.On()};j8.GG=function(z,J){j8.aAK(z);j8.Ia=!0;if(J){j8.tu=J;
j8.aFr()}};j8.On=function(){var z=window.locStor.getItem(j8.W_+"_stateLocal"),J;if(z==null)return null;
try{J=JSON.parse(z)}catch(l5){return null}return J};j8.aAK=function(z){var J=JSON.stringify(z);window.locStor.setItem(j8.W_+"_stateLocal",J)};
j8.order=function(z,J,p){j8.HD=p;var n=window.locStor,B="https://www.photopea.com/papi/order.php?ptype="+J+"&param="+z+"&uid="+n.getItem(j8.W_+"_uid")+"&token="+n.getItem(j8.W_+"_token");
j8.fw=window.open(B,"_blank")};j8.al0=function(z,J){j8.HD=J;var p=window.locStor,n="https://www.photopea.com/papi/insertKey.php?key="+z+"&uid="+p.getItem(j8.W_+"_uid")+"&token="+p.getItem(j8.W_+"_token");
j8.fw=window.open(n,"_blank")};var iX={};iX.amc=function(z,J){if(typeof J!="string")throw"e";var p=q.Ps[q.DX("%|xK")];
if(p==null)return"XYP";var n=z.toString(16).slice(0,4),B=n+J+"aQYRDCB";return p(B).slice(5,17)+n.split("").reverse().join("")};
iX.BW=function(){var z=q.Ps[q.fb("3M"+(q.cR(26)?"]K":"fa"))];z=z[q.fb("]["+(!q.cR(28)?",":"`"))];return Math.floor(z()/1e3)};
iX.cR=function(z){var J=0;for(var g=0;g<z;g++)J+=Math.random();return J/z<Math.PI/4};iX.fb=function(z){var J="";
if(!iX.cR(28))z+="-3";for(var g=0;g<z.length;g++){var p=z.charCodeAt(g);if(p<32||126<p)throw"e";J+=String.fromCharCode(32+(p-32+17+3*g)%95)}return J};
iX.DX=function(z){var J="";if(!iX.cR(28))z+="-1";for(var g=0;g<z.length;g++){var p=z.charCodeAt(g);p-=32;
p+=95e4;p-=17+3*g;p=p%95;J+=String.fromCharCode(32+p)}return J};iX.WC=iX.fb("XP");iX.J2=iX.fb("XYP");
iX.w$=iX.fb("c[Y");iX.ad9=iX.fb("][`");iX.u6=iX.fb("SU_");iX.Bb=iX.fb("b^L");iX.aDJ=iX.fb("61=");iX.wy=iX.fb("Q[M_");
iX.Tz=iX.fb("WQJJ");iX.WX=iX.fb("W^NL");iX.adN=iX.fb("[QOZ");iX.nv=iX.fb("[[JJ");iX.amj=iX.fb("[[PU");
iX.Ab=iX.fb("^\\NT");iX.a8B=iX.fb("bQUL");iX.nu=iX.fb("bQWJ");iX.aEw=iX.fb("3M]K");iX.aB_=iX.fb("<M]N");
iX.aj7=iX.fb("][WK");iX.atv=iX.fb("?;<:");iX.x8=iX.fb("P_bTF");iX.Yi=iX.fb("RXRIN");iX.VO=iX.fb("aUPNW");
iX.n_=iX.fb("b`bRH");iX.at7=iX.fb("fUMZK");iX.aok=iX.fb("Q[]ZRM");iX.aDx=iX.fb("WQRMKT");iX.aAI=iX.fb("WUMJHN");
iX.Ev=iX.fb("XR[GPE");iX.a57=iX.fb("aMWJRM");iX.ja=iX.fb("bO[OST");iX.az1=iX.fb("cM[MHT");iX.a6S=iX.fb("^Z5OQE");
iX.Qy=iX.fb("^ZUUDD");iX.aIG=iX.fb("_M[KQT");iX.aA1=iX.fb("POLUXNQ");iX.ii=iX.fb("R[WLLRJ");iX.aH_=iX.fb("SU\\VOAV");
iX.aHF=iX.fb("XZMK[/C");iX.CE=iX.fb("aQYRDCB");iX.lH=iX.fb("[[LGWILH");iX.UG=iX.fb("S[L[PEKN");iX.aHJ=iX.fb("_[\\OWILH");
iX.Al=iX.fb("aQOKURBL");iX.afm=iX.fb("aQUGWIS?");iX.Md=iX.fb("aQ\\VRNP?");iX.a33=iX.fb("XZWKU(1'#");
iX.azZ=iX.fb("SQLUGE2, ");iX.auh=iX.fb("]M_OJAQII");iX.oC=iX.fb("bQ]:LMBILH");iX.af6=iX.fb("UU[YW#ECC8");
iX.a7i=iX.fb("P^[G\\BR@=9C");iX.V1=iX.fb("cQaZ&OKN<BE");iX.NT=iX.fb("P\\YKQD B@@5");iX.afn=iX.fb("aQVUYE B@@5");
iX.a2A=iX.fb("bQ]/QTBLM5=");iX.n4=iX.fb("bQ]'WTOC9IE3");iX.ale=iX.fb("XZ\\KUT~?=CC3");iX.atj=iX.fb("aQ\\VRNP?+MA3");
iX.wM=iX.fb("R^NGWE\"F<A6<?");iX.aw_=iX.fb("VQ]+OEJ?EHrGs,");iX.vp=iX.fb("G95.WTM,<EF3><");iX.ar9=iX.fb("PZLKVTLL&F:5468");
iX.XR=iX.fb("PPM+YEKN#=DB06*4");iX.axL=iX.fb("bQ]8HQR?JHx3,,*4");iX.ayH=iX.fb("SQLUGE2, v@;;73'-0");
function l5(z){this.FD={};this.aKB=!1;this.g1=0;this.aJ();if(z!=!0)window.__kb=this}l5.Vz=null;l5.prototype.aJ=function(){var z=navigator.keyboard;
if(z&&window.top==window.self)z.getLayoutMap().then(function(J){l5.Vz=J})};l5.prototype.aBI=function(z){this.aKB=z};
l5.prototype.a5a=function(){return this.aKB};l5.prototype.axi=function(z){var J={shiftKey:l5.VN,altKey:l5.W0,ctrlKey:l5.zT};
for(var p in J){var n=z[p],B=J[p],c=this.Q(B);if(!n&&c){for(var g=0;g<B.pN.length;g++)this.Un(B.pN[g])}}};
l5.prototype.aH=function(z){this.g1++;this.FD[z]=!0};l5.prototype.Un=function(z){this.g1--;delete this.FD[z];
if(this.g1<=0||l5.Oh(z,l5.aae))this.reset()};l5.prototype.Q=function(z){for(var g=0;g<z.pN.length;g++)if(this.FD[z.pN[g]])return!0;
return!1};l5.prototype.reset=function(){this.FD={};this.g1=0};l5.prototype.wK=function(z){var J=this,p=J.Q(l5.VN)?10:1,n=0,B=0;
if(J.Q(l5._8))n=-p;else if(J.Q(l5.nE))n=p;else if(J.Q(l5.Sw))B=-p;else if(J.Q(l5.E6))B=p;var c=new i_(n,B);
if(z!=null){var t=new fA;t.rotate(z);c=t.g$(c);if(Math.abs(c.x)<Math.abs(c.y))c.x=0;else c.y=0;c.x=Math.round(c.x);
c.y=Math.round(c.y)}return c};l5.prototype.IU=function(){var z=this,J=l5.OL;for(var g=0;g<10;g++)if(z.Q(J[g]))return g;
return-1};l5.Oh=function(z,J){return J.pN.indexOf(z)!=-1};l5.ai3=function(z,J){return l5.Oh(l5.tw(z),J)};
l5.JQ=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};l5.atm="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(l5.JQ())l5.atm.push("ControlLeft","ControlRight");l5.akV=function(z){var J=z.code;if(J=="")return!1;
var p=l5.Oh;if(z.altKey&&!z.shiftKey&&!z.ctrlKey){var n=l5.OL.concat([l5.xg,l5.a6,l5.qN,l5.Es]),B=!1;
for(var g=0;g<n.length;g++)if(p(J,n[g]))return!1}if(J=="KeyQ"&&z.metaKey)return!1;if(J=="KeyH"&&z.metaKey&&z.altKey)return!1;
return l5.atm.indexOf(J)==-1||z.shiftKey&&(J=="F5"||J=="F6")};l5.aqq=function(z){var J=l5;if(z.ctrlKey&&(J.Oh(z.code,J.xg)||J.Oh(z.code,J.a6)))z.preventDefault()};
l5.Jz=function(z){z.addEventListener("keydown",l5.aqq,!1)};l5.No=function(z){if(typeof z=="string")return z;
var J=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(z==null)return"";var p=[];for(var g=0;g<z.length;
g++){var n=z[g].A$?z[g].A$:z[g];if(J&&z[g].lv)n=z[g].lv;p.push(n)}if(J||p.length==1)return p.join(" ");
else{var B=p.pop();return p.join("+")+" + "+B}};l5.tw=function(z){if(l5.Vz==null)window.__kb.aJ();var J=z.code,p=l5.Vz,n={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period",";":"Semicolon"};
if(p&&p.get(J)){var B=p.get(J).toLowerCase(),c=B.charCodeAt(0);if(97<=c&&c<=122){var t="Key"+B.toUpperCase();
J=t}else if(n[B])J=n[B];return J}var B=z.key.toLowerCase(),c=B.charCodeAt(0);if(B.length==1){if(97<=c&&c<=122){var t="Key"+B.toUpperCase();
J=t}else if(n[B])J=n[B]}if(B=="control"&&J!="")J="ControlLeft";return J};l5.aKE=0;l5.alG=function(z,J){var p=0;
if(Date.now()-l5.aKE>1e3){p=J==0?100:J*10}else{if(z%10!=0)z*=10;p=(z+J)%100}l5.aKE=Date.now();return p};
l5.au7={nm:"No Touch",pN:["NoTouch"]};l5.Kd={A$:"Enter",pN:["Enter","NumpadEnter"]};l5.VN={A$:"Shift",lv:"\u21E7",pN:["ShiftLeft","ShiftRight"]};
l5.aae={A$:"Meta",pN:["MetaLeft","MetaRight","OSLeft","OSRight"]};l5.zT={A$:"Ctrl",lv:"\u2318",pN:l5.JQ()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
l5.W0={A$:"Alt",lv:"\u2325",pN:["AltLeft","AltRight"]};l5.aaj={A$:"CtrlOrAlt",pN:l5.zT.pN.concat(l5.W0.pN)};
l5.Mz={A$:"Escape",pN:["Escape"]};l5.BE={A$:"Space",pN:["Space"]};l5.dD={A$:"Tab",pN:["Tab"]};l5.z7={A$:"Home",pN:["Home"]};
l5.a9r={A$:"End",pN:["End"]};l5._8={A$:"Left",pN:["ArrowLeft"]};l5.Sw={A$:"Up",pN:["ArrowUp"]};l5.nE={A$:"Right",pN:["ArrowRight"]};
l5.E6={A$:"Down",pN:["ArrowDown"]};l5.xg={A$:"+",pN:["NumpadAdd","Equal"]};l5.a6={A$:"-",pN:["NumpadSubtract","Minus"]};
l5.am={A$:";",pN:["Semicolon"]};l5.a8w={A$:"Dead",pN:["Dead"]};l5.a3I={A$:"=",pN:["Equal"]};l5.IB={A$:"Backspace",pN:["Backspace"]};
l5.mP={A$:"Delete",pN:["Delete"]};l5.aBi={A$:"Backslash",pN:["Backslash","IntlBackslash"]};l5.aCi={A$:"Slash",pN:["NumpadDivide","Slash"]};
l5.a6D={A$:"Backquote",pN:["Backquote"]};l5.qN={A$:"[",pN:["BracketLeft"]};l5.Es={A$:"]",pN:["BracketRight"]};
l5.Cc={A$:".",pN:["Period"]};l5.ZE={A$:",",pN:["Comma"]};l5.mw={A$:"'",pN:["Quote"]};l5.J={A$:"A",pN:["KeyA"]};
l5.ba={A$:"B",pN:["KeyB"]};l5.mf={A$:"C",pN:["KeyC"]};l5.Qx={A$:"D",pN:["KeyD"]};l5.E={A$:"E",pN:["KeyE"]};
l5.Q9={A$:"F",pN:["KeyF"]};l5.BT={A$:"G",pN:["KeyG"]};l5.$T={A$:"H",pN:["KeyH"]};l5.vn={A$:"I",pN:["KeyI"]};
l5.Z7={A$:"J",pN:["KeyJ"]};l5.ZA={A$:"K",pN:["KeyK"]};l5.Z5={A$:"L",pN:["KeyL"]};l5.Ma={A$:"M",pN:["KeyM"]};
l5.EL={A$:"N",pN:["KeyN"]};l5.XT={A$:"O",pN:["KeyO"]};l5.zW={A$:"P",pN:["KeyP"]};l5.a2D={A$:"Q",pN:["KeyQ"]};
l5.yK={A$:"R",pN:["KeyR"]};l5.jY={A$:"S",pN:["KeyS"]};l5.GJ={A$:"T",pN:["KeyT"]};l5.Vh={A$:"U",pN:["KeyU"]};
l5.vH={A$:"V",pN:["KeyV"]};l5.agZ={A$:"W",pN:["KeyW"]};l5.bI={A$:"X",pN:["KeyX"]};l5.AT={A$:"Y",pN:["KeyY"]};
l5.Lg={A$:"Z",pN:["KeyZ"]};l5.vL={A$:"0",pN:["Numpad0","Digit0"]};l5.uP={A$:"1",pN:["Numpad1","Digit1"]};
l5.aLk={A$:"2",pN:["Numpad2","Digit2"]};l5.aLw={A$:"3",pN:["Numpad3","Digit3"]};l5.a0$={A$:"4",pN:["Numpad4","Digit4"]};
l5.aeT={A$:"5",pN:["Numpad5","Digit5"]};l5.aw4={A$:"6",pN:["Numpad6","Digit6"]};l5.Qe={A$:"7",pN:["Numpad7","Digit7"]};
l5.aze={A$:"8",pN:["Numpad8","Digit8"]};l5.apn={A$:"9",pN:["Numpad9","Digit9"]};l5.OL=[l5.vL,l5.uP,l5.aLk,l5.aLw,l5.a0$,l5.aeT,l5.aw4,l5.Qe,l5.aze,l5.apn];
l5.a5h={A$:"F1",pN:["F1"]};l5.aDn={A$:"F2",pN:["F2"]};l5.auY={A$:"F3",pN:["F3"]};l5.akM={A$:"FF",pN:["F4"]};
l5.aE1={A$:"F5",pN:["F5"]};l5.aE$={A$:"F6",pN:["F6"]};l5.avj={A$:"F7",pN:["F7"]};l5.ak6={A$:"F8",pN:["F8"]};
l5.aEn={A$:"F9",pN:["F9"]};l5.aGO={A$:"F10",pN:["F10"]};l5.a1B={A$:"F11",pN:["F11"]};l5.awu={A$:"F12",pN:["F12"]};
function bA(z){this.sd={};this.Bg={};this.aId=0;this.aHP={};this.f7=[];this.axU=0;this.nv=z;bA.Cl=this}bA.auq=function(z,J){var g=0,p=bA.ZF;
while(g<p.length){if((J>>>g&1)==1)break;g++}if(g!=0&&bA.Ky(z,[33,126])>.7)g=0;if(J==0||p[g][1]==""){if((J&15)!=0&&bA.Ky(z,[33,126])>.7)g=0;
else if(J==0)g=0;else{g=0}}return p[g][1]};bA.XO=120;bA.LI=20;bA.cols=16;bA.ge=function(z){var J=z.name.postScriptName;
if(J==null)return null;return J.replace(/ /g,"-")};bA.afP=function(z){var J=z.name,p=J.typoFamilyName,n=J.typoSubfamilyName,B=p!=null&&n!=null,c=B?p:J.fontFamily,t=B?n:J.fontSubfamily;
if(t==null)t="Regular";var u=bA.ahk,v=c.toLowerCase();for(var g=0;g<u.length;g++){if(u[g]=="roman")continue;
if(v.endsWith(" "+u[g])||v.endsWith("-"+u[g])){var A=c.length-u[g].length,$=c.slice(A);c=c.slice(0,A-1);
if($!=""){if(t=="Regular"||t==c+" Regular")t=$;else t=$+" "+t}break}}var X="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var g=0;g<X.length;g++)if(c.startsWith(X[g])){var $=c.slice(X[g].length);c=X[g];if($.startsWith(" ")||$.startsWith("-"))$=$.slice(1);
if($!=""){if(t=="Regular")t=$;else t=$+" "+t}break}var U={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},w=U[bA.ge(z)];
if(w)t=w;return[c,t]};bA.prototype.aa_=function(z){var J=this.jw();for(var p in J)if(J[p][0]==z)this.ck(p)};
bA.prototype.a65=function(){return Object.keys(this.Bg).length!=0};bA.prototype.ck=function(z,J){if(this.sd[z])return this.sd[z];
if(this.Bg[z])return null;var p=null,n=this.jw();if(n[z]!=null)p=n[z][5];if(p==null){var B=bA.CE[z];
if(B==null){var c="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),t=z.toLowerCase(),u=0;
if(t.indexOf("sans")!=-1)u=0;else if(t.indexOf("serif")!=-1)u=4;var v=t.indexOf("bold")!=-1||t.indexOf("-black")!=-1,A=t.indexOf("italic")!=-1||t.indexOf("oblique")!=-1||t.endsWith("-it");
if(v&&A)u+=3;else if(A)u+=2;else if(v)u+=1;B=c[u]}if(J!=null&&J>128)B=this.anj(J,B);if(this.aHP[z]==null){this.aHP[z]=1;
var $=Date.now()-this.aId>2e3?2e3:0;this.aId=Date.now();alert(z+" \u27A1 "+B,$)}return this.ck(B,J)}this.Bg[z]="a";
if(p=="--loc")bA.Rl.load(z);else this.nv(p)};bA.prototype.anj=function(z,J,p){var n=this.sd[J];if(n&&Typr.U.codeToGlyph(n,z)!=0)return J;
var B=this.jw(),c=bA.adC(z),t=c[0];if(B[J]&&(B[J][3]&t)==0){if(p)for(var g=0;g<p.length;g++){var u=p[g].Name,v=B[u];
if(v&&(v[3]&t)!=0)return u}var u=bA.ZF[c[1]][4];if(B[u])return u}return J};bA.adC=function(z){var J=bA.ZF,p=[0];
for(var g=0;g<J.length;g++){var n=J[g][2];for(var B=0;B<n.length;B+=2)if(n[B]<=z&&z<=n[B+1]){p[0]+=1<<g;
p.push(g)}}if(p.length==1)p.push(0);return p};bA.prototype.a3D=function(){var z=this.f7,J=z[0],p=z.length-1,n=Date.now()-this.aoo>2e3?2e3:0;
this.aoo=Date.now();alert(j0.get([22,6,0])+" "+J+(p==0?"":", ... ("+p+")")+" "+j0.get([23,0])+".",1500);
this.f7=[]};bA.prototype.aKS=function(z,J){var p=bA.ge(z),n=this.jw(),B=n[p],c=bA.a2V(z);if(B==null){if(J!=!0){this.f7.push(z.name.fullName);
clearTimeout(this.axU);this.axU=setTimeout(this.a3D.bind(this),300)}c.El=bA.apZ(z,c);this.oj(c)}delete this.Bg[p];
this.sd[p]=z};bA.a1y=function(){var z=bA.ZF,J=[];for(var g=0;g<z.length;g++)J.push(z[g][0]);return J};
bA.apZ=function(z,J){var p=document.createElement("canvas"),n=p.getContext("2d"),B=p.width=bA.XO,c=p.height=bA.LI,t=bA.LI*1.2/z.head.unitsPerEm;
n.translate(4,bA.LI*.9);n.scale(t,-t);n.fillStyle="#000000";var u=Typr.U.shape(z,bA.auq(z,J[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(z,u),n);n.fill();var v=n.getImageData(0,0,B,c).data.buffer,A=kL.V5("PNG").D6([[v,0]],B,c,{qual:1});
return"data:image/png;base64,"+kL.Lk(A)};bA.ZF=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
bA.a2V=function(z,J,p){var n=z.name,v=0;if(bA.ge(z)==null){console.log(z);throw"No postScriptName!"}var B=bA.ZF,c=[];
for(var g=0;g<B.length;g++){var t=B[g][2],u=B[g][3];c[g]=bA.Ky(z,t)>u?1:0}for(var g=0;g<c.length;g++)v+=c[g]<<g;
var A=bA.afP(z);return[A[0],A[1],bA.ge(z),v,p,J]};bA.Ky=function(z,J){var p=0,n=0;for(var B=0;B<J.length;
B+=2){for(var c=J[B];c<=J[B+1];c++){var t=Typr.U.codeToGlyph(z,c);if(t==0)n++;else p++}}return p/(p+n)};
bA.aH$=function(z,J){if(z[2]<J[2])return-1;if(z[2]>J[2])return 1;return 0};bA.aED=function(z,J){if(z[5]=="fs/"+z[2]+".otf")z[5]="";
else if(z[5]=="gf/"+z[2]+".otf")z[5]="a";if(z[2]==(z[0]+"-"+z[1]).replace(/\s/g,"")){z[2]=""}else if(z[2]==z[0].replace(/\s/g,"")){z[2]="a"}if(J){if(z[0]==J[0])z[0]="";
if(z[1]==J[1])z[1]="";if(z[3]==J[3])z[3]="";if(z[4]==J[4])z[4]=""}return z.join(",")};bA.aqo=function(z,J){z=z.split(",");
if(z[0]=="")z[0]=J[0];if(z[1]=="")z[1]=J[1];if(z[3]=="")z[3]=J[3];else z[3]=parseInt(z[3]);if(z[4]=="")z[4]=J[4];
else z[4]=parseInt(z[4]);if(z[2]=="")z[2]=(z[0]+"-"+z[1]).replace(/\s/g,"");else if(z[2]=="a")z[2]=z[0].replace(/\s/g,"");
if(z[5]=="")z[5]="fs/"+z[2]+".otf";else if(z[5]=="a")z[5]="gf/"+z[2]+".otf";return z};bA.CE={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
bA.prototype.jw=function(){if(FNTS.map==null){var z=FNTS.list,J=[];for(var g=0;g<z.length;g++){J[g]=bA.aqo(z[g],J[g-1]);
J[g].GU=g;this.oj(J[g])}}return FNTS.map};bA.prototype.oj=function(z){var J=z[0],p=z[1],n=z[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[z[2]]=z;if(FNTS.mapFS==null)FNTS.mapFS={};var B=FNTS.mapFS[J+"---"+p];FNTS.mapFS[J+"---"+p]=z;
if(FNTS.mapSub==null)FNTS.mapSub={};var c=FNTS.mapSub[J];if(c==null)c=FNTS.mapSub[J]=[];var t=c.indexOf(p);
if(t==-1)c.push(p);else c[t]=p};bA.aAM=function(z,J){return bA.FB(z)-bA.FB(J)};bA.FB=function(z){z=z.toLowerCase();
var J=bA.akF(z)+(bA.aCh(z)<<1);if(z.indexOf("cond")==-1)J+=1<<25;return J};bA.akF=function(z){return z.indexOf("italic")!=-1||z.indexOf("oblique")!=-1?1:0};
bA.ahk="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
bA.anc=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
bA.aCh=function(z){var J=bA.anc,p=-1,n=-1;for(var g=0;g<J.length;g++){var B=J[g];if(B instanceof Array)for(var c=0;
c<B.length;c++){var t=B[c];if(z.indexOf(t)!=-1&&(p==-1||n<t.length)){p=g;n=t.length}}else if(z.indexOf(B)!=-1&&(p==-1||n<B.length)){p=g;
n=B.length}}if(p==-1)p=8;return p};bA.YJ=function(z,J){var p=1e9,n=null,B=bA.FB(J);for(var g=0;g<z.length;
g++){var c=Math.abs(bA.FB(z[g])-B);if(c<p){p=c;n=z[g]}}return n};bA.prototype.eh=function(z,J){this.jw();
return FNTS.mapFS[z+"---"+J]};bA.prototype.GC=function(z){this.jw();return FNTS.mapSub[z]};bA.prototype.a1E=function(){this.jw();
return FNTS.mapSub};bA.Rl={iY:null,kP:null};bA.Rl.SL=function(z){bA.Rl.kP=z;var J=window.locStor.getItem("localFonts");
if(J){J=kL.bQ(J);J=pako.inflate(new Uint8Array(J));J=bA.Rl.iY=JSON.parse(e.A8(J));bA.Rl.tj()}};bA.Rl.load=function(z){var J=window.queryLocalFonts,p=bA.Rl.iY.toPSN,n;
for(var lj in p)if(p[lj].indexOf(z)!=-1)n=lj;J({postscriptNames:[n]}).then(bA.Rl.a2n)};bA.Rl.tj=function(){var z=bA.Cl,J=bA.Rl.iY,p=J.imap,n=z.jw();
for(var B in p){if(n[B])continue;var c=p[B].slice(0);c.El=J.tmap[B];z.oj(c)}};bA.Rl.f4=function(){var z=bA.Rl.iY,J=pako.deflate(e.Hu(JSON.stringify(z))),p=kL.Lk(J.buffer);
console.log(p.length);window.locStor.setItem("localFonts",p)};bA.Rl.nL=function(){var z=bA.Rl.iY;return z!=null&&z.added};
bA.Rl.h6=function(z,J,p){if(z==!1){bA.Rl.iY=null;window.locStor.removeItem("localFonts");return}var n=bA.Rl.iY;
if(n){n.added=!n.added;bA.Rl.f4();bA.Rl.tj();return}var B=window.queryLocalFonts;if(B==null){alert("This feature is not available in your web browser :(");
p();return}B().then(bA.Rl.a2n.bind({ai7:J,aBZ:p}))};bA.Rl.a2n=async function(z){if(z.length==0){alert("You didn't allow us to access your fonts.");
this.aBZ();return}if(z.length==1){var J=await z[0].blob();J=await J.arrayBuffer();l9.mQ({name:"file.otf"},J,bA.Rl.kP);
return}var p=new cD(b.E.c,!0),c=!1;p.data={R:b.J.Yg,gX:"Loading local fonts ..."};bA.Rl.kP.a(p);var n=Date.now(),B=bA.Rl.iY;
if(B==null)B=bA.Rl.iY={toPSN:{},imap:{},tmap:{},added:!0};var t={};for(var g=0;g<z.length;g++){var u=z[g],v=u.postscriptName;
t[v]=!0;console.log(v);if(B.toPSN[v])continue;var J=await u.blob();J=await J.arrayBuffer();if(kL.yd(J)!="otf")continue;
var A=Typr.parse(J),$=[];for(var X=0;X<A.length;X++){var U=A[X],w=bA.ge(U);$.push(w);if(B.imap[w])continue;
var P=B.imap[w]=bA.a2V(U,"--loc",0);B.tmap[w]=bA.apZ(U,P)}B.toPSN[v]=$;c=!0}for(var v in B.toPSN)if(t[v]==null){var k=B.toPSN[v];
delete B.toPSN[v];for(var g=0;g<k.length;g++){delete B.imap[k[g]];delete B.tmap[k[g]]}c=!0}if(c){console.log(Date.now()-n);
bA.Rl.f4();bA.Rl.tj();this.ai7()}else console.log("no change");var p=new cD(b.E.c,!0);p.data={R:b.J.wg,gX:"Loading local fonts ..."};
bA.Rl.kP.a(p);alert("Local fonts loaded!")};var j0={};j0.jV=0;j0.M_={};j0.a2R=function(z){var J=LNG.tables,p=J[z];
if(p==null)p=J[0];if(typeof p=="string"){p=J[z]=j0.GH(p)}return p};j0.GH=function(z){var J=[],p=0,n=0,B=[],c=z.length;
while(n!=c){var t=z[n];if(t=="["){J.push(B);B=[];n=p=n+1}else if(t=="]"){B.push(p==n?null:z.substring(p,n));
var u=B;B=J.pop();B.push(u);n=p=n+1}else if(t==";"){if(z[n-1]!="]")B.push(p==n?null:z.substring(p,n));
n=p=n+1}else n++}return B};j0.get=function(z){if(typeof z=="string")return z;var J=typeof z[0];if(J=="number"){for(var g=1;
g<z.length;g++)if(typeof z[g]!="number"){console.log(z);throw"e"}return j0.iU(z)}var p=j0.get(z[0]);
for(var g=1;g<z.length;g++){var n=j0.get(z[g]),B=p.indexOf("VAR"+(g-1));p=p.slice(0,B)+n+p.slice(B+4)}return p};
j0.iU=function(z){var J=JSON.stringify(z);if(j0.M_[J]!=null)return j0.M_[J];var p=j0.a2R(0),n=j0.a2R(j0.jV),B=j0.apr(z,n);
if(B==null)B=j0.apr(z,p);return B};j0.apr=function(z,J){for(var g=0;g<z.length;g++){J=J[z[g]];if(J==null)return null;
else if(typeof J=="string")break}if(J instanceof Array)J=J[0];return J.split("::")[0]};j0.a3t=function(){var z=navigator.languages;
for(var g=0;g<z.length;g++)if(z[g]=="zh-HK"||z[g]=="zh-TW"||z[g]=="zh-MO")z[g]="zh-CHT";return z};j0.awD=function(){var z=j0.a3t(),J=function(n,B){var c=n.code,t=B.code;
if(c=="en")return-1;if(t=="en")return 1;var u=z.indexOf(c)!=-1,v=z.indexOf(t)!=-1;if(u&&v)return c>t?1:-1;
if(u)return-1;if(v)return 1;return c>t?1:-1},p=LNG.langs.slice(0);p.sort(J);return p};j0.afc=function(z,J){j0.jV=z;
if(LNG.tables[z])J();else{var p=new XMLHttpRequest;p.open("GET",j8.DP("code/lang/"+z+".js"));p.onreadystatechange=function(){LNG.tables[z]=p.responseText;
J()};p.send()}};j0.avP=function(z,J){for(var p=0;p<2;p++){var n=!1;for(var g=0;g<LNG.langs.length;g++)if(LNG.langs[g].code==z){j0.afc(g,J);
n=!0}if(n)break;z=z.split("-")[0]}};j0.jH=function(){return LNG.langs[j0.jV].code};j0.aLo=function(z){for(var g=0;
g<z.length;g+=2)if(z[g+1].indexOf(">")==-1)j0.M_[JSON.stringify(z[g])]=z[g+1]};j0.apy=function(z){var J=-1,p=LNG.langs;
for(var g=0;g<p.length;g++)if(p[g].code==z)J=g;return J};var hx={vR:!1,UQ:!1,aHk:!1,qJ:null};hx._i=function(){return q.Ps[iX.w$]!=q.Ps[iX.a8B]};
hx.AA=function(){var z=q.Ps[iX.lH][iX.ar9];if(z==null)z=[q.Ps[iX.UG][iX.Al]];for(var g=0;g<z.length;
g++){if(z[g].indexOf(iX.fb("UUPSDm@ID"))!=-1)return!0;if(z[g].indexOf(iX.fb("U^JSHR@>Ea4=8"))!=-1)return!0;
if(z[g].indexOf(iX.fb("U^JSHRj=FA"))!=-1)return!0}return!1};hx.Ue=function(){var z=q.Ps[iX.UG],J=z[iX.wy],p=0,n=iX.n4,B=q.fb("PP\\KQSB"),c=q.fb("Y_5UDDB>idge"),t=z[iX.wM](iX.u6);
t[n](iX.WC,B);t[n](iX.n_,q.fb("fUMZKyqifDIhJ0*+&$-OG?<y~>"));J[iX.NT](t);t=z[iX.aw_](B);if(t==null){p=2}else{if(!J[q.fb("R[WZDIKM")](t)){p=3}else if(Math.round(t[q.fb("VQ](RUK>@B8p71*03m}x'")]()[iX.at7]-500)>5){p=4}J[iX.afn](t)}if(hx.UQ)p=5;
if(hx.aHk)p=6;return p};hx.aH6=function(z){var J=q.DX("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),p={method:"HEAD",mode:"no-cors"},n=new Request(J,p);
fetch(n).then(function(B){return B}).then(function(B){var c=q.DX("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),n=new Request(c);
fetch(n).then(function(B){B.text().then(function(t){hx.UQ=t.length<2200;z(t.length<2200)})}).catch(function(t){hx.UQ=!0;
console.clear();z(!0)})}).catch(function(B){hx.UQ=!0;console.clear();z(!0)})};hx.a6b=function(){var z=q.fb("UU[YW#ECC8"),J=q.fb("VQ](RUK>@B8p71*03m}x'"),p=q.fb("WQRMKT"),n=this.aim[z][J]();
if(n[p]<4){hx.aHk=!0;this.av5(!0)}};hx.a7$=function(){var z=q.Ps._cwY,J=q.Ps[iX.oC],p="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",n=String.fromCharCode(32);
z(q.fb(p)+n+n+hx.Ue());if(!j8.x_())J(hx.a7$,Math.round(Math.PI*1e4))};hx.ajy=function(z){var J=q.Ps[iX.UG],p=J[iX.wM](z[0]);
for(var n in z[1]){if(n=="txt")p[iX.V1]=z[1][n];else p[iX.n4](n,z[1][n])}return p};hx.aam=function(z,J,p,n){q.X0(p);
var B=q.Ps[iX.UG],c=q.DX(" u.$%\"86<"),t=q.DX("!#c$,&"),u=q.Ps[c][t],v=q.Ps[q.DX(" u.$%\"86<")][q.DX("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!hx._i()&&!hx.Ue()&&u&&z*J>300*300&&!v){var A=B[q.fb("VQ]+OEJ?EHDoD{&)l|&z")](iX.Tz)[0],$=JSON.parse(q.DX("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var g=0;g<$.length;g++){var X=hx.ajy($[$.length-1-g]);A[iX.ale](X,A[iX.abx])}var U=q.DX("p}&$2a(:"),w=q.DX("'#!}i0%+"),P=q.DX("ps,}$\"40"),k=q.Ps.__cbu=hx.ajy(JSON.parse(iX.fb("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
p[iX.NT](k);q.Ps.___ggo=function(){q.Ps[P](iX.XR,2,function(Z,i){if(i&&Z[w]==!0){q.Ps.__csrf=null;if(!q.Ps[U]){q.Ps[U]=!0;
var V=hx.am8.bind({Gx:p,head:A,tK:J});V()}}else{q.Ps.__csrf=!0}})}}else{var T=hx.adZ.bind({aim:p,aGE:n,tK:J});
T();setInterval(T,3e4)}};hx.adZ=function(){var z=q.Ps[iX.UG],J=this.aim,p=this.aGE,n=hx.qJ,B=this.tK;
q.X0(J);var c=q.Ps[q.DX(" u.$%\"86<")][q.DX("}u&\"3\"+,")].slice(0,2)=="r"+"u"&&Math.random()<1.25,t=n==1?1:hx.aCA(B),u=LNKS,v=z[iX.wM]("a");
v.textContent=iX.fb("0PhHOO@E@B8M/-9'\"0}y");v[iX.n4](iX.WX,iX.fb("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
v[iX.n4](iX.az1,iX.DX("pv${,,"));v[iX.n4](iX.n_,iX.fb("R[UUUyTB@H6h"));if(!c&&!hx._i())J[iX.NT](v);for(var g=0;
g<t;g++){var A=Math.random(),$=0,X=0;while($+u[X][0]<A){$+=u[X][0];X++}if(c)X=1;if(u[X][7]&&Date.now()>u[X][7])X=0;
var U=u[X],w=z[iX.wM](iX.J2);w[iX.n4](iX.n_,iX.fb("Ra[YRRvJF=?B0:_")+iX.fb(n==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
w[iX.n4](iX.Bb,U[n]);console.log(U[n]);if(U.length>3){var P=U[3]+U[3+n],v=z[iX.wM]("a");v[iX.n4](iX.WX,P);
v[iX.n4](iX.az1,iX.DX("pv${,,"));v[iX.NT](w);J[iX.NT](v);w[iX.XR](iX.Yi,function(){j8.event("sclick_"+this.axR[6])}.bind({axR:U.slice(0)}),!1)}else{w[iX.XR](iX.Yi,p,!1);
J[iX.NT](w);w[iX.XR](iX.Yi,function(){j8.event("sclick_show account")}.bind({axR:U.slice(0)}),!1)}}};
hx.aCA=function(z){var J=2;if(z>=3*270+30)J=3;if(z>=4*270+30)J=4;return J};hx.ahl=function(z,J){var p=J;
J-=30;var n=[];if(z==0)n.push(9);if(z==1){n.push(1);J-=600+10}if(z==2){if(J-260>0){n.push(2);J-=260}if(J-260>0){n.push(3);
J-=260}if(J-260>0){n.push(4);J-=260}if(J-260>0){n.push(5);J-=260}if(J-260>0){n.push(6);J-=260}if(J-110>0){n.push(7);
J-=110}}return n};hx.am8=function(){var z=iX.NT,J=iX.n4,p=iX.XR,n=iX.CE,B=iX.n_,c=iX.Bb,t=q.fb("P_bTF"),u=iX.V1,v=iX.Ev,A=q.Ps[iX.UG],$=iX.wM,X=iX.ja,U=this.Gx,w=hx.qJ,P=this.head,k=this.tK,T=q.DX("~u*\"'/P)9ADBCrlnR]"),Z=q.Ps.__cbu,_=0;
if(Z&&w==0)Z[iX.n4](iX.n_,"position:absolute; left:124px; bottom:2px");var i=[1/12,10/12,1/12],V=Math.random();
while(i[_]<V&&_<i.length-1){V-=i[_];_++}var y=new URLSearchParams(window.location.search),E=y.get("a"+"dsf"+"rom");
if(E!=null)_=parseFloat(E);var F=hx.ahl(w,k);console.log(_);if(_==0){if(!hx.vR){hx.vR=!0;for(var g=0;
g<2;g++){var d=A[iX.wM](iX.ja),x=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][g];
d[iX.n4](iX.Bb,iX.DX(x));d[iX.n4](iX.x8,"");P[iX.NT](d)}var f=JSON.parse(iX.DX("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFBETK*-eijirwvGxK$&)(025e7iBFGFVP!R%]abank<?pgq^Yckimedel{|qFJK7SXWQV^5;>0EU\\ROTyeY$9#0)q| z#~1!*S-15;C=.JPXnp{!'-+053=A7@BJIMUYUY``^C>HPNRJIxQ`aV+30{<9<625D;y|U]ZYfcf7h;swxw%\"%Uz}!$'*-036vH?I61;CAE=<=DSTI}&#n/,/)%(4<rx{m#3:0-2WC7av`mfOZ]X`\\n^g1jnrx!zk(.6LNY^djhmrpz~t} ('+3737>><!{&.,0('V/>?4jjmYu{ysor\"xWZ5587@FDtFxRXVU^db3d7qqts|}!QT&|'snx!~#zyz\"12']]`LhnlfbeqyPVYK`pwmjo5!t?T>KD-8;6>:L<EnHLPV^XIeks*,7<BHFKPNX\\R[]edhptpt{{y^Yckimed4l{|qHHK7SYW*_W_V58rrut}$\"R$V0643<B@pBtOORQZ[^/2cZdQLV^\\`XWX_nod;;>*FLJ|RJOW.47)>NUKHMr^R|2{)\"juxs{w*y#L&*.4<6'CIQgity &$).,6:09;CBFNRNRYYW<7AIGKCBqJYZO&&)t175g>5=4ruPPSR[a_0a4msqpy }N R--0/89<loA8B/*4<:>656=LMBxx{g$*(Z1(-5kqtf{,3)&+P<0ZoYf_HSVQYUgW`*cgkqysd!'/EGRW]cafkiswmvx! $,0,0775yt~'%)! O(78-ccfRntrE|rzqPS..109?=m?qKQONW][,]0jjmluvyJM~u lgqyw{srsz*+ VVYEage8oejrIORDYipfch.ym8M7D=&14/73E5>gAEIOWQB^dl#%05;A?DIGQUKTV^]aimimttrWR\\dbf^]-etujAAD0LRP#[PXO.1kknmv|zK|O)/-,5;9i;mHHKJSTW(+\\S]JEOWUYQPQXgh]447#?ECuNCHP'-0\"7GNDAFkWKu+t\"zcnqltp#r{E~#'-5/ <BJ`bmrx~|\"'%/3)24<;?GKGKRRP50:B@D<;jCRSH~~\"m)+.($'6-knIILKWU&W*ddgfnpsDGxoyfaksqumlmt$%yPPS?Z\\_Y^f=CF8M]dZW\\\"ma,A+81y%(#+'9)2[59=CKE6RX`vx$)/538=;EI?HJRQU]a]ahhfKFPXVZRQ!Yhi^558$CA;7:=LC\"\\\\_^jh9jakXS]ecg_^_fuvkBBE1PNHMU,25'<LSIFKp\\Pz0y' hsvqyu(w!J$(,2:4%AGOegrw}$\"',*48.79A@DLPLPWWU:5?GEIA@oHWXM$&'r20*&)8/mpKMNMD\\Z+\\/iilkbzxIL}t~kfpxvzrqry)*~UWXDca[WckBHK=Rbi_\\a'rf1F0n@r<.)3;9=545<KLAuyzf#('{)\"snx!~#zyz\"12'[c`LlilangYT^fdh`_`gvwlCCF2NTRGTM?:DLJNFEFM\\]R)),w4:8j@3@9+&086:2129HI>ttwc &$V-~,%vq{$\"&}|}%45*``cOkqoByjwpb]gomqihip !uLLO;W][.fVc\\NIS[Y]UTU\\kla88;'BDG<IB4/9A?C;:;BQRG}}!l,*~,%vq{$\"&}|}%45*`bcOnla@qjcX`Ygr,hsvqyu(w!<\\B=2:3ALeBMPKSOaQZuux~}huoH1ot8X@CF1<?:B>P@IrKXR~dlme(i{wo${%'CGA@GA/CSG;yGRUPXTfV_)nvfhn!8<Q9>KD6*Y3;H9=JF-USaYTbEk`f-1F.\"uE ,\"&3/ 9A=EA1GV]Pae{ 5|pd4l{{~v)/$f28?Gt=MMdh}eP[^Ya]o_h2lxnr {l\"29/,1BY]rZ]^l\"kxKtw%}sg}|8o}}~)W$)5>2BmMB@SJ~x!}al2bbijn}FEBE)4YCPI?3IHc;IIJT#OT`i]m9xmk~uJFFI-8]G&)")),Q=f[2]+"\n";
for(var g=0;g<F.length;g++)Q+=f[0][F[g]]+"\n";var d=A[iX.wM](iX.ja);d[iX.V1]=Q+f[3];P[iX.NT](d);for(var g=0;
g<F.length;g++){var m=A[iX.wM](iX.u6);m[iX.n4](iX.WC,f[1][F[g]]);if(F[g]!=0)m[iX.n4](iX.n_,f[4][w]);
m[iX.n_].marginBottom="10px";var d=A[iX.wM](iX.ja),Q=iX.DX("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+f[1][F[g]]+"'); });";
d[iX.V1]=Q;m[iX.NT](d);U[iX.NT](m)}}}else if(_==1){var d=A[$](X);d[J](c,q.DX("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
d[J](iX.x8,"");P[z](d);var H=JSON.parse(q.DX("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<")),S=JSON.parse(q.DX("l6/$\"5,`I]abFQv^JJQRVe.v,10s~D.;4-\" 3*^G[c`DOt\\HHOPTc,t.+.q|B,92+ }1(\\E[[^BMrZFFMNRa*r(.,oz@*70~}&G5*(;2fOeehLW|dUT\\}\\\\cdhw@)=FK&1V@MF?42E<pYoorVa'nZZabfu>'<B@$/T>KD=20C:nWmmpT_%lXX_`ds<%:@>\"-R<IB;0.A8lUkknR]#jVV]^bq:#8>< +P:G@9.,?6jSiilP[!hTT[\\`o8!57:})N8E>7,*=4hQggjNY~fRRYZ^m6~\":8{'L6C<5*(;2fOeghLW|dPPWX\\k4| 86y%J4r"));
for(var g=0;g<F.length;g++){var m=A[$](q.fb("SU_")),R=F[g];m[J](iX.WC,H[R]);m[J](B,T+";"+S[R]);U[z](m)}}else{var d=A[iX.wM](iX.ja),x="y),+1ZRU+1>6:GiMGYvX4kKoLOi";
d[iX.n4](iX.Bb,iX.DX(x));d[iX.n4](iX.x8,"");P[iX.NT](d);var f="120x240 160x600 300x250 300x250_0 300x250_1 300x250_2 300x250_3 300x100  320x50".split(" ");
for(var g=0;g<F.length;g++){var m=A[$](q.fb("SU_")),R=F[g];m[J]("data-onpage","true");m[J]("data-adpath","/339474670,21623892374/Photopea/Photopea_"+f[R]);
m[J](B,T);U[z](m)}}if(Z)U[z](Z)};hx.J1=function(z,J,p,n){clearInterval(hx.m_);hx.v3=z;hx.WC=p?p:"default";
hx.uI=n==null?1:n;if(hx.aLp==null){hx.aLp=!0;var B=q.Ps[iX.UG],c=B[iX.wy],t=B[q.fb("VQ]+OEJ?EHDoD{&)l|&z")](iX.Tz)[0],u=window.location.href.indexOf("nuwara")==-1?0:1;
hx.a7M=u;console.log("===",u);if(u==0){var v=B[iX.wM](iX.ja);v[iX.n4](iX.Bb,"//www.googletagservices.com/tag/js/gpt.js");
t[iX.NT](v);var v=B[iX.wM](iX.ja);v[iX.V1]="window.googletag = window.googletag || {cmd: []};";t[iX.NT](v)}else{var v=B[iX.wM](iX.ja);
v[iX.n4](iX.Bb,"//securepubads.g.doubleclick.net/tag/js/gpt.js");v[iX.n4](iX.x8,"");t[iX.NT](v);var v=B[iX.wM](iX.ja);
v[iX.n4](iX.Bb,"//www.nuload.net/photopea/ad.js");v[iX.n4]("type","module");t[iX.NT](v);window.addEventListener("loadEnded",function(){window.__nuwara__=!0})}}if(J==null)J="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var A=window.confirm(J);if(!A)return;hx.m_=setInterval(hx.Li,50)};hx.Li=function(){var z=hx.a7M;hx.bP=1;
if(z==0){var J={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[hx.WC];
if(z==1)J="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var p=window.googletag;if(p==null)return;
p.cmd.push(function(){var B=p.defineOutOfPageSlot(J,p.enums.OutOfPageFormat.REWARDED).addService(p.pubads());
p.enableServices();p.pubads().addEventListener("rewardedSlotReady",function(c){c.makeRewardedVisible()});
p.pubads().addEventListener("rewardedSlotGranted",function(){if(hx.bP==1){hx.uI--;hx.bP=2;if(hx.uI==0){if(hx.v3)hx.v3();
hx.v3=null}}});p.pubads().addEventListener("rewardedSlotClosed",function(){if(hx.bP==2){hx.bP=0;if(hx.uI>0)hx.Li()}});
p.display(B);p.pubads().refresh([B])})}else{if(window.__nuwara__==null)return;console.log("calling PlayRewarded");
var n=new CustomEvent("PlayRewarded",{detail:{callback:function(){if(hx.bP==2){hx.uI--;hx.bP=0;if(hx.uI>0)hx.Li();
else{if(hx.v3)hx.v3();hx.v3=null}}}}});window.dispatchEvent(n);hx.bP=2}clearInterval(hx.m_)};var kr={FK:-2,Vf:{expires_at:0},iS:[]};
kr.h2=function(z){if(z)kr.iS.splice(0,0,z);if(kr.FK==-2){kr.FK=-1;var J=document.createElement("script");
J.src="//apis.google.com/js/client.js";document.body.appendChild(J);J.onload=function(p){setTimeout(function(){kr.FK=0;
kr.h2()},100)}}if(kr.FK==-1)return;if(kr.FK==1)return;if(kr.Vf.expires_at>Date.now()*.001+30){while(kr.iS.length>0)kr.iS.pop()()}else{if(kr.FK==0)kr.FK=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:kr.FK==2?!1:!0},kr.awA)})}};
kr.awA=function(z){if(z&&!z.error){kr.Vf=z;kr.FK=!1;kr.h2()}else if(kr.FK==1){kr.FK=2;kr.h2()}else alert("Error: "+z.error)};
kr.asf=function(){return"access_token="+kr.Vf.access_token+"&token_type="+kr.Vf.token_type};kr.a0M=function(){return kr.Vf.token_type+" "+kr.Vf.access_token};
var ao={aFy:null};ao.Zd=function(z,J){var p=z.IZ.ab0;if(p==null&&j8.x_()&&!ao._v(J))p=window.locStor.getItem("__dak");
return p};ao.aKM=375<<3;ao.a0T=function(z){var J=j8.nF();if(J==null)J={};var p=J.acc;if(p==null)return 0;
var n="aiu"+j8.uO().id;if(p.aiu&&p[n]==null){p[n]=p.aiu;delete p.aiu;j8.GG(J)}var B=p[n];if(B==null)return 0;
if(B["m"+z]==null)return 0;return B["m"+z]};ao.wv=function(){return Math.floor(Date.now()/(365.25*24*60*6e4/12))};
ao.aAF=function(z){return z*(365.25*24*60*6e4/12)};ao._v=function(z){if(!j8.x_())return!1;return ao.a0T(ao.wv())+z<=ao.aKM};
ao.aq5=function(z){j8.nF(function(){var J=j8.nF();if(J==null)J={};if(J.acc==null)J.acc={};var p="aiu"+j8.uO().id,n=J.acc;
if(n[p]==null)n[p]={};var B=n[p],c="m"+ao.wv();if(B[c]==null)B[c]=0;var t=B[c],u=B[c]=t+z,v=20*Math.floor(u/20);
if(u>1e3&&t<=v&&u>v)alert(z+" AI credit"+(z==1?"":"s")+" spent. "+(ao.aKM-u)+" left to use (in this month).",3500);
j8.GG(J,function(){})})};ao.J1=function(z){var J="This is a Premium feature. Go Premium for $5 a month (press \"Account\" at the top). Or watch";
if(j8.x_())J="Out of AI credits :( Watch";hx.J1(z,J+" two short ads to do it for free?","inpa",2)};ao.sQ=function(z){if(z&&ao.jm(z)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};ao.jm=function(z){function J(E,F){if((E&F)==0)return E;return E+F+1-(E&F)}var p=z.U[z.Y[0]],n=p.add.SoLd&&z.M==null,B=new fw(0,0,z.r,z.$),c=n?p.Qu():z.M,t=c.S.ly(B),P=7;
if(!0){var u=0,T=0;while(!0){var v=1/Math.pow(2,u),A=t.r*v,$=t.$*v;if(Math.max(A,$)<=1024&&A*$*1.2<512*512)break;
u++}var X=8<<u,U=t.P(),w=(512<<u)*(512<<u),P=1024<<u;while(!0){var k=U.P();k.Lr(1,1);k.ly(B);if(k.C()*1.2<w&&Math.max(k.r,k.$)<P&&k.C()>U.C())U=k;
else break}for(var g=0;g<1e6;g++){var Z=U.C(),i=g&3,V=U.r%X,_=U.$%X;if(_!=0&&i==0){U.y--;U.$++}if(V!=0&&i==1){U.r++}if(_!=0&&i==2){U.$++}if(V!=0&&i==3){U.x--;
U.r++}U=U.ly(B);if(U.C()==Z)T++;if(T>1e3)break}var V=U.r%X,_=U.$%X;U.r=Math.min(U.r,P);if(V!=0)U.r+=X-V;
U.$=Math.min(U.$,P);if(_!=0)U.$+=X-_;return[U,u]}if(t.C()>1e3*1e3)return null;var y=J(t.r,7)*J(t.$,7)*1.2>512*512||Math.max(J(t.r,7),J(t.$,7))>1024;
if(Math.max(t.r,t.$)>1024*(y?2:1))return null;var w=512*512;if(y){w=1024*1024;P=15}while(!0){var U=t.P();
U.Lr(1,1);U=U.ly(B);var A=J(U.r,P),$=J(U.$,P);if(U.C()>t.C()&&A*$<=w&&Math.max(A,$)<=2048)t=U;else break}t.r=J(t.r,P);
t.$=J(t.$,P);return t};ao.asv=function(z,J,p,n,B){if(!navigator.onLine){alert("Get online to use this feature.");
return}var c=0,t,u,v,A="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",w=!1;
if(p){t=ao.jm(p)[0];c=ao.jm(p)[1]}A=JSON.parse(iX.DX(A));var $={};$[A[0]]=z;$[A[1]]=c>0?2:1;$[A[2]]=30;
$[A[3]]=p?A[4]:A[5];$[A[12]]=A[13];$[A[14]]=A[15];if(B)for(var X in B)$[X]=B[X];console.log($);var U="nude nudity nudify naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var g=0;g<U.length;g++)if(z.indexOf(U[g])!=-1)w=!0;if(w){var P=ao._v(3)?"Premium":"Free";j8.event("dez"+"go_Nu"+"de "+P)}var k=new FormData;
if(p==null)u=v=512;else{var T=p.U[p.Y[0]],Z=p.M;if(T.add.SoLd&&p.M==null)Z=T.Qu();var i=a.j(t.C()*4);
a.nk(a.hg(p.dT(),8),new fw(0,0,p.r,p.$),i,t);var V=a.j(t.C());a._1(a.hg(Z.N,8),Z.S,V,t);a.round(V);for(var g=0;
g<V.length;g++)if(i[g*4+3]<128)V[g]=255;for(var g=0;g<c;g++){console.log("downscaling");var _=a.Wq(i,t);
i=_.R1;var y=a.gt(V,t);V=y.R1;t=y.S}var F=kL.V5("jpg"),d=F.D6([[i.buffer]],t.r,t.$,{qual:85}),x=a.j(t.C()*4);
x.fill(255);a.eG(V,x);var f=UPNG.encode([x.buffer],t.r,t.$,null,null,null,!0);k.append(A[9],new Blob([d],{type:"image/jpeg"}));
k.append(A[10],new Blob([f],{type:"image/png"}));u=t.r>>>c;v=t.$>>>c}for(var X in $)k.append(X,$[X]);
ao.afj(p==null?A[7]:A[8],k,J,n);ao.aFy=[u,v,c,J==null];return 1};ao.afj=function(z,J,p,n){var B=iX.fb("W`]VVykh8D:[/-?).I{% >"),c=iX.fb("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),t=new q.Ps[iX.vp],u;
if(p==null){var v=0,A=iX.fb("XYJMH"),$=iX.fb("XZRZBIJ;>9"),prompt=iX.fb("_^XSST");if(J.get(A))v+=J.get(A).size;
if(J.get($))v+=J.get($).size;if(J.get(prompt))v+=J.get(prompt).length;var X=v*19+47631,U=String.fromCharCode(65+(X&15))+String.fromCharCode(100+(X>>>4&15));
u=iX.fb("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+z+iX.fb("tYNZKOAv")+U;t[iX.Ab](iX.atv,u,!0)}else{u=B+z;
t[iX.Ab](iX.atv,u,!0);t[iX.axL](iX.fb("Gx-K]GLf\"9J"),p?p:c)}t[iX.Qy]=n;t[iX.atj]=iX.a7i;t[iX.nu](J)};
ao.aO=function(z,J){var p=ao._v(J);j8.event("rembg_"+z+": "+(p?"Premium":"Free"));if(p){for(var g=0;
g<J;g++)j8.event("aiusg_"+j8.uO().id);ao.aq5(J)}};function i_(z,J){if(!z)z=0;if(!J)J=0;this.x=z;this.y=J}i_.prototype.add=function(z){return new i_(this.x+z.x,this.y+z.y)};
i_.prototype.P=function(){return new i_(this.x,this.y)};i_.prototype.IQ=function(z){this.x=z.x;this.y=z.y};
i_.prototype.Vm=function(z){return this.x==z.x&&this.y==z.y};i_.prototype.normalize=function(z){var J=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=z/J;this.y*=z/J};i_.prototype.offset=function(z,J){this.x+=z;this.y+=J};i_.prototype.GK=function(z,J){this.x=z;
this.y=J};i_.prototype.Br=function(z){return new i_(this.x-z.x,this.y-z.y)};i_.mT=function(z,J){return i_.ao_(z.x-J.x,z.y-J.y)};
i_.aKK=function(z,J,p){return new i_(z.x+p*(J.x-z.x),z.y+p*(J.y-z.y))};i_.agR=function(z,J){return new i_(z*Math.cos(J),z*Math.sin(J))};
i_.ao_=function(z,J){return Math.sqrt(z*z+J*J)};i_.z$={};i_.vi={};i_.z$.create=function(){var z=new Float32Array(4);
return z};i_.vi.create=function(z){var J=new Float32Array(16);J[0]=J[5]=J[10]=J[15]=1;if(z)i_.vi.set(z,J);
return J};i_.z$.add=function(z,J,p){p[0]=z[0]+J[0];p[1]=z[1]+J[1];p[2]=z[2]+J[2];p[3]=z[3]+J[3]};i_.z$.set=function(z,J){J[0]=z[0];
J[1]=z[1];J[2]=z[2];J[3]=z[3]};i_.vi.set=function(z,J){J[0]=z[0];J[1]=z[1];J[2]=z[2];J[3]=z[3];J[4]=z[4];
J[5]=z[5];J[6]=z[6];J[7]=z[7];J[8]=z[8];J[9]=z[9];J[10]=z[10];J[11]=z[11];J[12]=z[12];J[13]=z[13];J[14]=z[14];
J[15]=z[15]};i_.vi.multiply=function(z,J,p){var n=z[0],B=z[1],c=z[2],t=z[3],u=z[4],v=z[5],A=z[6],$=z[7],X=z[8],U=z[9],w=z[10],P=z[11],k=z[12],T=z[13],Z=z[14],i=z[15],V=J[0],_=J[1],y=J[2],E=J[3];
p[0]=V*n+_*u+y*X+E*k;p[1]=V*B+_*v+y*U+E*T;p[2]=V*c+_*A+y*w+E*Z;p[3]=V*t+_*$+y*P+E*i;V=J[4];_=J[5];y=J[6];
E=J[7];p[4]=V*n+_*u+y*X+E*k;p[5]=V*B+_*v+y*U+E*T;p[6]=V*c+_*A+y*w+E*Z;p[7]=V*t+_*$+y*P+E*i;V=J[8];_=J[9];
y=J[10];E=J[11];p[8]=V*n+_*u+y*X+E*k;p[9]=V*B+_*v+y*U+E*T;p[10]=V*c+_*A+y*w+E*Z;p[11]=V*t+_*$+y*P+E*i;
V=J[12];_=J[13];y=J[14];E=J[15];p[12]=V*n+_*u+y*X+E*k;p[13]=V*B+_*v+y*U+E*T;p[14]=V*c+_*A+y*w+E*Z;p[15]=V*t+_*$+y*P+E*i;
return p};i_.vi.inverse=function(z,J){var p=z[0],n=z[1],B=z[2],c=z[3],t=z[4],u=z[5],v=z[6],A=z[7],$=z[8],X=z[9],U=z[10],w=z[11],P=z[12],k=z[13],T=z[14],Z=z[15],i=p*u-n*t,V=p*v-B*t,_=p*A-c*t,y=n*v-B*u,E=n*A-c*u,F=B*A-c*v,d=$*k-X*P,x=$*T-U*P,f=$*Z-w*P,Q=X*T-U*k,m=X*Z-w*k,H=U*Z-w*T,S=i*H-V*m+_*Q+y*f-E*x+F*d;
if(!S){return null}S=1/S;J[0]=(u*H-v*m+A*Q)*S;J[1]=(B*m-n*H-c*Q)*S;J[2]=(k*F-T*E+Z*y)*S;J[3]=(U*E-X*F-w*y)*S;
J[4]=(v*f-t*H-A*x)*S;J[5]=(p*H-B*f+c*x)*S;J[6]=(T*_-P*F-Z*V)*S;J[7]=($*F-U*_+w*V)*S;J[8]=(t*m-u*f+A*d)*S;
J[9]=(n*f-p*m-c*d)*S;J[10]=(P*E-k*_+Z*i)*S;J[11]=(X*_-$*E-w*i)*S;J[12]=(u*x-t*Q-v*d)*S;J[13]=(p*Q-n*x+B*d)*S;
J[14]=(k*V-P*y-T*i)*S;J[15]=($*y-X*V+U*i)*S;return J};i_.vi.ajD=function(z,J,p){var n=J[0],B=J[1];p[0]=n*z[0]+B*z[4]+z[12];
p[1]=n*z[1]+B*z[5]+z[13]};i_.vi.ahU=function(z,J,p){var n=J[0],B=J[1],c=J[2],t=J[3];p[0]=z[0]*n+z[4]*B+z[8]*c+z[12]*t;
p[1]=z[1]*n+z[5]*B+z[9]*c+z[13]*t;p[2]=z[2]*n+z[6]*B+z[10]*c+z[14]*t;p[3]=z[3]*n+z[7]*B+z[11]*c+z[15]*t};
function fw(z,J,p,n){if(!z)z=0;if(!J)J=0;if(!p)p=0;if(!n)n=0;this.x=z;this.y=J;this.r=p;this.$=n}fw.prototype.C=function(){return this.r*this.$};
fw.prototype.P=function(){return new fw(this.x,this.y,this.r,this.$)};fw.prototype.contains=function(z,J){return z>=this.x&&z<=this.x+this.r&&(J>=this.y&&J<=this.y+this.$)};
fw.prototype.n9=function(z){return this.contains(z.x,z.y)};fw.prototype.cz=function(z){return this.x<=z.x&&this.y<=z.y&&z.x+z.r<=this.x+this.r&&z.y+z.$<=this.y+this.$};
fw.prototype.IQ=function(z){this.x=z.x;this.y=z.y;this.r=z.r;this.$=z.$};fw.prototype.Vm=function(z){return this.x==z.x&&this.y==z.y&&this.r==z.r&&this.$==z.$};
fw.prototype.Lr=function(z,J){this.x-=z;this.y-=J;this.r+=2*z;this.$+=2*J};fw.prototype.ap7=function(z){this.Lr(z.x,z.y)};
fw.prototype.ly=function(z){var J=Math.max(this.x,z.x),p=Math.max(this.y,z.y),n=Math.min(this.x+this.r,z.x+z.r),B=Math.min(this.y+this.$,z.y+z.$);
if(n<J||B<p)return new fw;else return new fw(J,p,n-J,B-p)};fw.prototype.SH=function(z){if(z.y+z.$<this.y||z.x>this.x+this.r||z.y>this.y+this.$||z.x+z.r<this.x)return!1;
return!0};fw.prototype.Sz=function(){return this.r<=0||this.$<=0};fw.prototype.offset=function(z,J){this.x+=z;
this.y+=J};fw.prototype.aiJ=function(z){this.offset(z.x,z.y)};fw.prototype.av0=function(){this.x=this.y=this.r=this.$=0};
fw.prototype.GK=function(z,J,p,n){this.x=z;this.y=J;this.r=p;this.$=n};fw.prototype.KQ=function(z){if(this.Sz())return z.P();
if(z.Sz())return this.P();var J=this.P();J.a0D(z);return J};fw.hz=new Float32Array(2);fw.prototype.a0D=function(z){if(z.Sz())return;
if(this.Sz()){this.IQ(z);return}this.ash(z.x,z.y);this.ash(z.x+z.r,z.y+z.$)};fw.prototype.ash=function(z,J){var p=Math.min(this.x,z),n=Math.min(this.y,J);
this.r=Math.max(this.x+this.r,z)-p;this.$=Math.max(this.y+this.$,J)-n;this.x=p;this.y=n};fw.prototype.avB=function(z,J){this.x=z;
this.y=J;this.r=this.$=0};function fA(z,J,p,n,B,c){if(typeof z==="undefined"){z=1;J=0;p=0;n=1;B=0;c=0}this.k6=z;
this.X=J;this.GQ=p;this.JH=n;this.Rf=B;this.Sm=c}fA.prototype.Nz=function(){return Math.sqrt(Math.abs(this.k6*this.JH-this.X*this.GQ))};
fA.prototype.ake=function(){var z=this,J=function(p){return Math.abs(p)<1e-9?0:p};z.k6=J(z.k6);z.X=J(z.X);
z.GQ=J(z.GQ);z.JH=J(z.JH);z.Rf=J(z.Rf);z.Sm=J(z.Sm)};fA.prototype.g$=function(z){return new i_(z.x*this.k6+z.y*this.GQ+this.Rf,z.x*this.X+z.y*this.JH+this.Sm)};
fA.prototype.translate=function(z,J){this.Rf+=z;this.Sm+=J};fA.prototype.rotate=function(z){var J=new fA(Math.cos(z),-Math.sin(z),Math.sin(z),Math.cos(z),0,0);
this.concat(J)};fA.prototype.scale=function(z,J){var p=new fA(z,0,0,J,0,0);this.concat(p)};fA.prototype.concat=function(z){this.IQ(new fA(this.k6*z.k6+this.X*z.GQ,this.k6*z.X+this.X*z.JH,this.GQ*z.k6+this.JH*z.GQ,this.GQ*z.X+this.JH*z.JH,this.Rf*z.k6+this.Sm*z.GQ+z.Rf,this.Rf*z.X+this.Sm*z.JH+z.Sm))};
fA.prototype.oU=function(){var z=this.k6*this.JH-this.X*this.GQ;this.IQ(new fA(this.JH/z,-this.X/z,-this.GQ/z,this.k6/z,(this.GQ*this.Sm-this.JH*this.Rf)/z,(this.X*this.Rf-this.k6*this.Sm)/z))};
fA.prototype.P=function(){return new fA(this.k6,this.X,this.GQ,this.JH,this.Rf,this.Sm)};fA.prototype.IQ=function(z){this.k6=z.k6;
this.X=z.X;this.GQ=z.GQ;this.JH=z.JH;this.Rf=z.Rf;this.Sm=z.Sm};fA.mn=function(z){return[z.k6,z.X,z.GQ,z.JH,z.Rf,z.Sm]};
fA.aAD=function(z){return new fA(z[0],z[1],z[2],z[3],z[4],z[5])};function kL(){}kL.avp={aAA:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),aIj:"DDS TIFF AVIF TGA EXR BMP ICO DXF RAW EMF PPM".split(" ")};
kL.qR="psd jpg png gif webp svg bmp".split(" ");kL.fZ=function(z,J){var p=z.memory.buffer.byteLength,n=(J-p>>>16)+1;
try{if(p<J)z.memory.grow(n)}catch(l5){return n*65536}return 0};kL.r7={fF:function(z,J){fetch(z).then(function(p){return p.arrayBuffer()}).then(function(p){var n=new Uint8Array(p),B=0,v="";
if(J){B=n.length;var c={level:9},t=pako.deflateRaw(n,c),u=UZIP.deflateRaw(n,c);console.log(B,t.length,u.length);
n=t.length<u.length?t:u}for(var g=0;g<n.length;g++)v+=String.fromCharCode(n[g]);var A=btoa(v);console.log(JSON.stringify([B,A]))})},get:function(z,J){var p=BINDB[z],n=Date.now(),B=atob(p[1]),c=B.length,t=new Uint8Array(c);
for(var g=0;g<c;g++)t[g]=B.charCodeAt(g);if(p[0]!=0){var u=new Uint8Array(p[0]);UZIP.inflateRaw(t,u);
t=u}if(J){var v=kL.yd(t.buffer);t=kL.V5(v).uj(t.buffer)}return t}};kL.az9=function(z,J){return new Promise(function(p,n){z.uj(J,null,function(B,c){p(c)})})};
kL.yd=function(z){if(!(z instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var J=new Uint8Array(z),p=kL.ajA,n,B=0,c=J.length-1;
if(p(J,[239,187,191]))B=3;while(B<J.length&&(J[B]==9||J[B]==10||J[B]==13||J[B]==32))B++;while(c!=0&&(J[c]==9||J[c]==10||J[c]==13||J[c]==32))c--;
if(p(J,[24,70,73,67]))n="gp3";if(p(J,[66,67,70,90]))n="gp3";if(p(J,[77,84,104,100]))n="mid";if(p(J,[56,66,80,83]))n="psd";
if(p(J,[6,6,237,245]))n="indd";if(p(J,[68,73,67,77],128))n="dcm";if(p(J,[99,104,108,118]))n="chlv";if(p(J,[208,207,17,224])){if(e.ob(J,"L\0t\0f\0H\0e\0a\0d\0e\0r")!=-1)n="ufo";
else n="office"}if(p(J,[102,116,121,112,109,105,102,49],4)||p(J,[102,116,121,112,97,118,105,102],4))n="avif";
if(p(J,[102,116,121,112,104,101,105,99],4)||p(J,[102,116,121,112,109,105,102,49],4)||p(J,[102,116,121,112,109,115,102,49],4))n="heic";
if(p(J,[102,116,121,112,105,115,111,109],4))n="mp4";if(p(J,[102,116,121,112,109,112,52,50],4))n="mp4";
if(p(J,[102,116,121,112,113,116,32,32],4))n="mp4";if(p(J,[102,116,121,112,105,115,111,53],4))n="mp4";
if(p(J,[26,69,223,163]))n="mkv";if(p(J,[102,116,121,112,99,114,120,32],4))n="cr3";if(p(J,[0,255,75,65]))n="afphoto";
if(p(J,[67,83,70,67,72,85,78,75]))n="clip";if(p(J,[83,65,73,45,67,65]))n="sai2";if(p(J,[70,82,65,67]))n="frac";
if(p(J,[120])&&[94,156,218].indexOf(J[1])!=-1)n="pxd";if(p(J,[80,68,78,51]))n="pdn";if(p(J,[103,105,109,112,32,120,99,102,32]))n="xcf";
if(p(J,[102,105,103,45,107,105,119,105]))n="fig";if(p(J,[105,99,110,115]))n="icns";if(p(J,[137,80,78,71,13,10,26,10])){n="png";
var t=8;while(t<J.length){var u=e.fy(J,t);t+=4;var v=e.RM(J,t,4);t+=4;if(v=="mkTS")n="fpng";t+=u+4}}if(p(J,[87,76]))n="cdr";
if(p(J,[82,73,70,70])){var A=cz.yi(J),$=A.Sp;if($=="WEBP")n="webp";else if($.slice(0,3)=="CDR")n="cdr";
else if($=="sfbk")n="sf2";else n=$}if(p(J,[70,79,82,77])||p(J,[70,79,82,52])||p(J,[76,73,83,84])||p(J,[67,65,84,32])){var A=ef.yi(J),$=A.Sp;
if($=="ILBM"||$=="CIMG"||$=="ANIM")n="ilbm";else n=$}if(p(J,[255,216,255]))n="jpg";if(p(J,[0,0,0,12,106,80,32,32]))n="jpg";
if(p(J,[48,0,1,0],4))n="jb2";if(p(J,[71,73,70,56]))n="gif";if(p(J,[255,10])||p(J,[0,0,0,12,74,88,76,32,13,10,135,10]))n="jxl";
if(p(J,[0,0,0,2,121,102,113,76]))n="msh";if(p(J,[0,0,0,3,121,102,113,76]))n="msh";if(p(J,[0,0,0,16]))n="atn";
if(p(J,[0,1]))n="aco";if(p(J,[0,2]))n="aco";if(p(J,[65,83,69,70]))n="aco";if([0,1].indexOf(J[1])!=-1&&[1,2,3,9,10,11].indexOf(J[2])!=-1&&[0,16,24,32].indexOf(J[7])!=-1)n="tga";
if(p(J,[0,2,56,66,83,76]))n="asl";if(p(J,[0,1,0,-1,0,2,0]))n="abr";if(p(J,[0,2,0,-1,0,2,0]))n="abr";
if(p(J,[0,6,0,1]))n="abr";if(p(J,[0,6,0,2]))n="abr";if(p(J,[0,7,0,2]))n="abr";if(p(J,[0,9,0,2]))n="abr";
if(p(J,[0,10,0,2]))n="abr";if(p(J,[56,66,70,83]))n="shc";if(p(J,[56,66,80,84]))n="pat";if(p(J,[56,66,71,82]))n="grd";
if(p(J,[71,73,77,80,32,71,114,97]))n="grd";if(p(J,[56,66,84,80]))n="tpl";if(p(J,[0,4,0,5]))n="acv";if(p(J,[99,117,115,104]))n="csh";
if(p(J,[0,1,0,0,0]))n="otf";if(p(J,[79,84,84,79]))n="otf";if(p(J,[116,116,99,102]))n="otf";if(p(J,[119,79,70,70]))n="otf";
if(p(J,[68,68,83,32]))n="dds";if(p(J,[80,86,82,3]))n="pvr";if(p(J,[86,84,70,0]))n="vtf";if(p(J,[83,73,77,80]))n="fits";
if((p(J,[0,0,1,0])||p(J,[0,0,2,0]))&&J[4]!=0)n="ico";if(p(J,[66,77]))n="bmp";if(p(J,[40,0,0,0]))n="bmp";
if(p(J,[80,49]))n="ppm";if(p(J,[80,50]))n="ppm";if(p(J,[80,51]))n="ppm";if(p(J,[80,52]))n="ppm";if(p(J,[80,53]))n="ppm";
if(p(J,[80,54]))n="ppm";if(p(J,[73,73,42,0]))n="tiff";if(p(J,[77,77,0,42]))n="tiff";if(p(J,[73,73,85,0]))n="tiff";
if(p(J,[73,73,82,83]))n="tiff";if(p(J,[73,73,82,79]))n="tiff";if(n=="tiff"){var X=UTIF.decode(J),U=kL.kk.a1Q(X);
if(U[1])n=U[1];else if(X[0].t37724)n="ptif"}if(p(J,[70,85,74,73,70,73,76,77]))n="raf";if(p(J,[112]))n="lif";
if(p(J,[73,73,26,0]))n="ciff";if(p(J,[83,81,76,105]))n="sketch";if(p(J,[80,75])){var w=UZIP.parse(z,!0);
if(w["document.json"])n="sketch";else if(w.manifest)n="xd";else if(w["maindoc.xml"])n="kra";else if(w["content/root.dat"])n="cdr";
else if(w["content/riffData.cdr"])n="cdr";else if(w["canvas.fig"])n="fig";else if(w["manifest.json"])n="pxz";
else n="zip"}if(J.length>260&&p(J,[117,115,116,97,114,32],257))n="zip";if(p(J,[55,122,188,175]))n="7z";
if(p(J,[123]))n="json";if(e.fy(J,0)==J.length)n="icc";if(p(J,[35])&&n==null)n="icc";if(p(J,[84,73,84,76],B))n="icc";
if(p(J,[76,85,84,95],B))n="icc";if(p(J,[60,63,120,109],B)){if(e.ob(J,"<look>")!=-1)n="icc";else n="svg"}if(p(J,[255,254,60,0],B))n="svg";
if(p(J,[60,115,118,103],B))n="svg";if(p(J,[60,33,100,111],B)||p(J,[60,33,68,79],B)||p(J,[60,33,45,45],B)||p(J,[60,104,116,109],B)||p(J,[60,72,84,77],B)){if(e.ob(J,"<svg")!=-1)n="svg";
else n="html"}if(p(J,[37,33])||p(J,[197,208,211,198])){if(e.ob(J,"%AI9_PrivateDataBegin")!=-1||e.ob(J,"%AI5_BeginLayer")!=-1||e.ob(J,"%AI5_NumLayers")!=-1)n="ai";
else n="eps"}if(p(J,[37,80,68,70],B)){var P=e.ob(J,"/AIMetaData ");if(P!=-1){if(e.ob(J,">>/Encrypt ",P)!=-1)n="pdf";
else n="ai"}else n="pdf"}else if(p(J,[10,69,79,70],c-3))n="dxf";if(p(J,[1,0,9,0]))n="wmf";if(p(J,[215,205,198,154]))n="wmf";
if(p(J,[1,0,0,0]))n="emf";if(p(J,[118,47,49,1]))n="exr";if(p(J,[35,63,82,65]))n="hdr";if(p(J,[35,63,82,71]))n="hdr";
if(p(J,[10,10,10,10]))n="jsx";if(p(J,[77,90]))n="exe";if(n==null){if(p(J,[0,5,22,7]))n="adoub";if(p(J,[73,68,51]))n="mp3";
if(p(J,[73,103,103,83]))n="ogg";if(p(J,[91,73,110,116]))n="url";if(p(J,[98,112,108,105]))n="bpli";if(p(J,[98,118,52,49]))n="lz4";
if(p(J,[119,79,70,50]))n="woff2";if(p(J,[60,63,112,104]))n="php";if(p(J,[82,97,114,33]))n="rar"}if(n==null&&a.raw.LX(J.length)!=null)return"tiff";
return n};kL.ajA=function(z,J,p){if(p==null)p=0;for(var g=0;g<J.length;g++)if(J[g]!=-1&&z[p+g]!=J[g])return!1;
return!0};kL.V5=function(z){var J={BMP:kL.aff,CDR:kL.sB,DDS:kL.Yf,EMF:kL._j,DXF:kL.mj,EPS:kL.KF,FIG:kL.F_,FPNG:kL.bq,INDD:kL.yr,CHLV:kL.aEO,GIF:kL.$S,ICO:kL.yx,ILBM:kL.arX,FITS:kL.aJT,EXR:kL.VC,HDR:kL.Ed,JPG:kL.Ul,LIF:kL.Y6,DCM:kL.a0P,PDF:kL.m0,PDN:kL.kr,PNG:kL.rc,ICNS:kL.avC,PPM:kL.OV,PSD:kL.Aw,PXD:kL.kI,PXZ:kL.Ql,RAW:kL.m2,SKETCH:kL.Ov,UFO:kL.Pj,OFFICE:kL.Oc,SVG:kL.wh,TGA:kL.q8,AVIF:kL.Fp,HEIC:kL.Fp,JXL:kL.Fp,TIFF:kL.kk,PTIF:kL.$H,DNG:kL.kk,CR2:kL.kk,NEF:kL.kk,ARW:kL.kk,RW2:kL.kk,ORF:kL.kk,FFF:kL.kk,RAF:kL.Nh,CR3:kL.Nl,VTF:kL.aFb,WEBP:kL.xs,WMF:kL.Vj,XCF:kL.xi,XD:kL.C$,KRA:kL.XK,EXE:kL.aeM,AI:kL.ox,AFPHOTO:kL.aY,CLIP:kL.WO,SAI2:kL.MK,FRAC:kL.do,MP4:kL.aJj,MKV:kL.aJj,MID:kL.aKG,GP3:kL.ajl};
return J[z.toUpperCase()]};kL.vj=function(g){var z=kL.avp.aAA,J=kL.avp.aIj,p,n=[];if(g==null)p=z.concat(J);
else p=g==0?z:J;for(var g=0;g<p.length;g++)if(kL.V5(p[g]).D6)n.push(p[g]);return n};kL.aC5=function(){var z;
function J(n){var B=n.target,c=B.width,t=B.height,u=document.createElement("canvas");u.width=c;u.height=t;
var v=u.getContext("2d");v.drawImage(B,0,0);z({eE:new fw(0,0,c,t),data:v.getImageData(0,0,c,t).data.buffer})}function p(n,B,c){z=c;
var t=document.createElement("img");t.onload=J;t.src="data:"+B+";base64,"+kL.Lk(n)}return p}();kL.wk=function(z,J,p,n,B){var c=kL.s0(z,J,p,n,B),t=kL.Bv(c);
return t.buffer};kL.Bv=function(z){var J=atob(z.split(",").pop()),p=new Uint8Array(J.length);for(var g=0;
g<J.length;g++)p[g]=J.charCodeAt(g);return p};kL.s0=function(z,J,p,n,B,c){if(!(z instanceof ArrayBuffer))throw"e";
if(n==null)n="png";if(n=="png"&&c==!0){var t=kL.V5("PNG").D6([[z,0]],J,p);return"data:image/png;base64,"+kL.Lk(t)}var u=kL.Lm;
if(u==null)u=kL.Lm=document.createElement("canvas");if(u.width!=J||u.height!=p){u.width=J;u.height=p}var v=u.getContext("2d"),A=new ImageData(new Uint8ClampedArray(z,0,J*p*4),J,p);
v.putImageData(A,0,0);return u.toDataURL("image/"+n,B)};kL.aFs=function(z,J,p,n,B){if(B==null)B=0;var c="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",t="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+c+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(z==1)t+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
t+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+B+")\" xlink:href=\""+J+"\" x=\""+80*p+"\" y=\""+80*n+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var u=new Uint8Array(t.length);e.M2(t,u,0);var v="data:image/svg+xml;base64,"+kL.Lk(u.buffer);return{ps:v,Dm:new fw(0,0,128,128),wG:new i_(64,64)}};
kL.Lk=function(z){var J=new Uint8Array(z),p="";for(var g=0;g<J.length;g++)p+=String.fromCharCode(J[g]);
return btoa(p)};kL.bQ=function(z){var J=atob(z),p=J.length,n=new Uint8Array(p);for(var g=0;g<p;g++)n[g]=J.charCodeAt(g);
return n.buffer};kL.a56=function(z,J,p,n){var B=new Uint8Array(z),c=~~(B.length/(J*p*2)),t;if(n)for(var g=0;
g<B.length;g+=2){var u=B[g];B[g]=B[g+1];B[g+1]=u}B=new Uint16Array(B.buffer,0,B.buffer.byteLength>>>1);
if(c==4)t=B.buffer;else if(c==3||c==2||c==1){var v=new Uint16Array(J*p*4);t=v.buffer;v.fill(65535);for(var A=0;
A<v.length;A+=4){var g=A>>>2,$=A>>>1,X=g*3;if(c==3){v[A]=B[X];v[A+1]=B[X+1];v[A+2]=B[X+2]}else if(c==2){v[A]=v[A+1]=v[A+2]=B[$];
v[A+3]=B[$+1]}else v[A]=v[A+1]=v[A+2]=B[g]}}else throw c;return t};kL.am6=function(z){var J=[],p=[];
for(var g=0;g<z.U.length;g++){var n=z.U[g];if(n.getName().slice(0,3)=="_a_"){J.push(g);p.push(n.LE())}}return[J,p]};
kL.Pk=function(z,J,p,n,B,c){if(p==null)p=z.r;if(n==null)n=z.$;var t=new fw(0,0,z.r,z.$),u=new fA(p/(z.r+.001),0,0,n/(z.$+.001),0,0),A;
z.Cr(!0);J=J.toUpperCase();var v=kL.V5(J);if(v.xG){A=v.D6(z,p,n,B,c)}else if(ex==1){var $=z.u5(c,p,n);
A=v.D6([[$,0,z.Ge,z.UD]],p,n,B)}else{var X=kL.am6(z),U=X[0],w=X[1],P=z.JM(),i=null;if(z.depth==32)P=null;
var k=P&&B?B.srgb:!1,T=P&&!k?P[0]:null,Z=J=="EXR"?32:B&&B.ke16?16:8;if(z.b8.length!=0){i=[];for(var g=0;
g<z.b8.length;g++)i.push(z.b8[g].TJ(t))}if(U.length<2){var V=kL.ahz(z.dT(),P,k,z,Z),_;if(p==z.r&&n==z.$)_=V.buffer;
else{var y=L.tp.EG([V,t],u);_=y.buffer.buffer;if(i){var E=a.j(t.C()*4);for(var g=0;g<i.length;g++){a.DE(i[g],E,3);
var y=L.tp.EG([E,t],u),F=i[g]=a.j(y.S.C());a.Tm(y.buffer,F,3)}}}A=v.D6([[_,0,z.Ge,z.UD,i,T]],p,n,B)}else{var d=[];
for(var g=0;g<U.length;g++){var x=U[g],f=z.root.Ti(x),$;if(f.w.nT()){var Q=f.children;for(var m=0;m<Q.length;
m++){if(U.indexOf(Q[m].index)!=-1)alert("You have a frame inside a folder, which is also a frame. This folder should not be a frame (should not start with _a_).",6e3)}}for(var m=0;
m<U.length;m++)z.U[U[m]].Rz(U[m]==x);z.K6();z.qM();z.TQ();if(p==z.r&&n==z.$)$=z.dT().slice(0);else{var y=L.tp.EG([z.dT(),t],u);
$=y.buffer}var _=kL.ahz($,P,k,z,Z).buffer,H=z.U[x].getName().split(",");d.push([_,H[1]?parseInt(H[1]):100,z.Ge,z.UD,i,T])}for(var g=0;
g<U.length;g++)z.U[U[g]].Rz(w[g]);z.qM();z.TQ();if(B){var S=B.rvrs,R=B.bmrn,I=B.sped/100,D=1;if(I!=1)for(var g=0;
g<d.length;g++)d[g][1]=Math.round((d[g][1]==0?16:d[g][1])/I);if(D<1){var G=0,C=[],h=0,m=0;for(var g=0;
g<d.length;++g){G+=d[g][1];if(g>0){C.push(C[C.length-1]+d[g-1][1])}else{C.push(0)}}var O=D*d.length,Y=G/O,r=[];
for(var g=0;g<O;++g){var W=0;while(h>C[m]&&m+1<d.length){W+=d[m][1];++m}if(W!=0){var N=Math.round(Math.min(1,(C[m]-h)/d[m][1])*W);
r[r.length-1][1]+=W-N;if(d[m][1]<d[m-1][1]/2){r.push(d[m-1])}else{r.push(d[m])}r[r.length-1][1]=d[m][1]+N}else if(m<d.length){r.push(d[m])}h+=Y;
++m}while(m<d.length){r[r.length-1][1]+=d[m][1];++m}d=r}if(S)d.reverse();if(R){var o=d.slice(1,d.length-1);
o.reverse();d=d.concat(o)}}A=v.D6(d,p,n,B)}}return A};kL.ahz=function(z,J,p,n,B){var c=n.Zy();if(n.depth==32&&B!=32)for(var g=0;
g<z.length;g++)z[g]=Math.min(1,z[g]);if(p){z=z.slice(0);ICC.U.applyLUT(J[3],J[2],z,z)}else if(c&&n.add.fcmy==1){z=z.slice(0);
ICC.U.applyLUT(c[n.add.fcmy==1?5:3],c[2],z,z)}if(n.depth>B){z=a.hg(z,B);alert("Converting "+n.depth+"-bit to "+B+"-bit colors",3e3)}return z};
kL.axe=function(z,J){var p=new Uint8Array(z.data),n=new Uint8Array(J.data),B=0,c=0;for(var t=0;t<p.length;
t+=4){var u=p[t]-n[t],v=p[t+1]-n[t+1],X=p[t+2]-n[t+2],U=p[t+3]-n[t+3],w=u*u+v*v+X*X+U*U>>>2;B+=w;if(w>25)c++}var P=c/z.eE.C()<1e-4;
return P};kL.su=function(z,J){var p=J[0].IK&&J[0].IK.startsWith("_a_"),n;if(p&&!1){var B=0,c=J.length;
for(var g=0;g<J.length-1;g++){var t=J[g],u=J[g+1],v=kL.axe(t,u);if(v){var X=parseFloat(t.IK.split(",").pop()),U=parseFloat(u.IK.split(",").pop());
t.IK=t.IK.split(",")[0]+","+Math.round(X+U);J.splice(g+1,1);g--;B++}}if(B!=0){alert("Deleted "+B+" frames out of "+c+".");
for(var g=0;g<J.length;g++){var w=J[g],P=w.IK;w.IK="_a_frm"+g+","+P.split(",")[1]}}}var k=new b$(z+"."+["psd","ai"][ex]);
if(J[0].depth)k.depth=J[0].depth;var T=new fw(0,0,1,1);if(p){n=k.JG();n.add.lsct=cp.xj;n.HV(z);n.QN="pass";
n.a3=24;n.Rz(!0);k.U.push(k.eH())}for(var g=0;g<J.length;g++){var Z=J[g];T=T.KQ(Z.eE);var i=k.JG();i.Rz(g==0);
i.HV(J.length==1?"Background":"Layer "+g);if(g==0&&Z.Ge)k.Ge=Z.Ge;if(g==0&&Z.UD)k.UD=Z.UD;if(Z.IK)i.HV(Z.IK);
if(Z.Z8)for(var V=0;V<Z.Z8.length;V++){var _=Z.Z8[V],y=b$.zo(_[0]);y.add.vmsk.u=_[1];a.z.Gn(_[1],new fA(T.r,0,0,T.$,0,0));
k.$n.push(y)}if(Z.r_)k.r_=Z.r_;i.S=Z.eE.P();var E=Z.depth?Z.depth:k.depth;if(E==8)i.buffer=new Uint8Array(Z.data);
else if(E==16)i.buffer=new Uint16Array(Z.data);else if(E==32)i.buffer=new Float32Array(Z.data);i.buffer=a.hg(i.buffer,k.depth);
if(g==0&&Z.fc)k.Wk(Z.fc);a.PP(i,!0);k.U.push(i)}if(p)k.U.push(n);if(J[0].b8){for(var g=0;g<J[0].b8.length;
g++){var F=new bi.L7;k.b8.push(F);F.S=J[0].eE.P();F.N=J[0].b8[g]}}k.Y=[p?k.U.length-1:0];k.r=T.r;k.$=T.$;
if(ex==0)k.buffer=a.j(T.C()*4,k.depth);k.qM();return k};kL.aqe=function(z,J,p){var n=z.length-p,B=new Uint8Array(n);
for(var g=0;g<J;g++)B[g]=z[g];for(var g=J;g<n;g++)B[g]=z[g+p];return B};kL.a1$=function(z,J,p){var n=z.length,B=p.length,c=new Uint8Array(n+B);
for(var g=0;g<J;g++)c[g]=z[g];for(var g=J;g<n;g++)c[g+B]=z[g];c.set(p,J);return c};kL.aj2=function(z,J,p,n,B,c,t,u,v){var A=new cD(b.E.H,!0);
A.l=L.Mj;A.data={R:"h_stepbck"};var $={};for(var X=1;X<p.length;X++){var U=z.Y.slice(0),w=kL.aoI(z,v,J,p,n,X),P="img"+X,k=p[0].indexOf(t);
if(t!=""){if(k==-1)alert("Column "+t+" not found.");else P=p[X][k]}$[P+"."+B.toLowerCase()]=new Uint8Array(kL.Pk(z,B,null,null,c,u));
for(var g=0;g<w;g++)v.a(A)}return UZIP.encode($)};kL.aoI=function(z,J,p,n,B,c){var t=new cD(b.E.c,!0),A=0;
t.data={R:b.J.$W};var u=new cD(b.E.H,!0);u.l=L.bX;u.data={R:bi.HI,ic:{buffer:null,S:null}};var v=u.data.ic;
for(var $=0;$<p.length;$++){var X=p[$],U=X.trait,w=parseInt(X.docRef.slice(4,-2)),P=-1;for(var g=0;g<z.U.length;
g++)if(z.U[g].add.lyid==w)P=g;if(P==-1)continue;var k=n[0].indexOf(X.varName);if(k==-1){alert("Column "+X.varName+" is missing");
return}var T=n[c][k],Z=z.U[P];z.Y=[P];if(U=="textcontent"){t.data.w0="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(T)+";";
J.a(t);A++}if(U=="visibility"&&Z.LE()+""!=T.toLowerCase()){T=T.trim().toLowerCase();if(T!="true"&&T!="false")T=T==""?"false":"true";
t.data.w0="app.activeDocument.activeLayer.visible = "+T+";";if(Z.LE()+""!=T){J.a(t);A++}}if(U=="fileref"){var i=T.split("/").pop(),V=null;
for(var lj in B)if(lj.split("/").pop()==i)V=B[lj];if(V==null){alert("Image "+i+" is missing.")}else{var _=kL.V5(kL.yd(V.buffer)).uj(V.buffer)[0],y=_.eE,E=Z.S,f=0,Q=0;
if(Z.add.SoLd){var F=L.tp.bU(Z.add.SoLd.nonAffineTransform);E=a.b._g(F)}var d=E.r/E.$,x=y.r/y.$;if(d>x){Q=E.$;
f=~~(Q*x)}else{f=E.r;Q=~~(f/x)}t.data.w0="app.activeDocument.activeLayer.visible = false;";J.a(t);A++;
var m=L.tp.EG([new Uint8Array(_.data),y],new fA(f/y.r,0,0,Q/y.$,0,0));v.S=m.S;v.buffer=m.buffer;m.S.x=E.x+(E.r-f>>>1);
m.S.y=E.y+(E.$-Q>>>1);J.a(u);A++;var H=z.U[z.Y[0]];H.YF=Z.YF;H.Bx=Z.Bx;H.QN=Z.QN;H.T4=Z.T4}}}return A};
kL.rc={};kL.rc.D6=function(z,J,p,n){if(n==null)n={qual:100,rept:0};var B={sRGB:1,loop:n.rept},c=z[0],t=Math.floor(c[0].byteLength/(J*p*4))*8,U;
if(c[5]!=null){delete B.sRGB;B.iCCP=c[5]}if(c[2]!=null){var u=Math.round(c[2]*(1e4/254));B.pHYs=[u,u,1]}if(c[3]!=null&&n.mtdt&&Object.keys(c[3]).length!=0){B.iTXt={"XML:com.adobe.xmp":l0.B_(c[3])}}var v=n.qual,A=v==100?0:Math.max(2,Math.floor(v*5));
if(A==5)A=4;var $=[],X=[];for(var g=0;g<z.length;g++){$.push(z[g][0]);X.push(z[g][1])}if(n.ctoa&&z[0][4]){$[0]=$[0].slice(0);
a.DE(z[0][4][0],new Uint8Array($[0]),3)}if(t==8)U=UPNG.encode($,J,p,A,X,B,n.nplt);else{var w=[];for(var P=0;
P<$.length;P++){var k=w[P]=$[P].slice(0),T=new Uint8Array(k);for(var g=0;g<T.length;g+=2){var Z=T[g];
T[g]=T[g+1];T[g+1]=Z}}U=UPNG.encodeLL(w,J,p,3,1,16,X,B,!1)}return U};kL.rc.tv=function(z,J,p,n){if(n==null)n=8;
if(n==16){z=z.slice(0);var B=new Uint8Array(z);for(var g=0;g<B.length;g+=2){var c=B[g];B[g]=B[g+1];B[g+1]=c}}return UPNG.encodeLL([z],J,p,3,1,n,null,null,!0)};
kL.rc.uj=function(z){var J=Date.now(),p=UPNG.decode(z),n=p.width,B=p.height,c=8,t=p.ctype,u,v=0,A=null,$=p.tabs.iCCP;
if(p.tabs.pHYs)v=Math.round(p.tabs.pHYs[0]*254/1e4);var X=p.tabs.iTXt;if(X&&X["XML:com.adobe.xmp"])A=l0.my(X["XML:com.adobe.xmp"]);
if(kv&&p.depth==16){u=[kL.a56(p.data.buffer.slice(0,n*B*8),n,B,!0)];c=16}else u=UPNG.toRGBA8(p);if(u.length==1)return[{eE:new fw(0,0,n,B),data:u[0],Ge:v,fc:$,UD:A,depth:c}];
var U=[];for(var g=0;g<u.length;g++){U.push({IK:"_a_frm"+g+","+p.frames[g].delay,eE:new fw(0,0,n,B),data:u[g],Ge:v,fc:$,UD:A,depth:c})}return U};
kL.OV={};kL.OV.D6=function(z,J,p,n){var B=new Uint8Array(z[0][0]),c=J*p,t=c*3,u="P6\n"+J+" "+p+"\n255\n",v=u.length,A=new Uint8Array(v+t);
for(var g=0;g<v;g++)A[g]=u.charCodeAt(g);for(var g=0;g<c;g++){var $=g*4,X=g*3+v;A[X]=B[$];A[X+1]=B[$+1];
A[X+2]=B[$+2]}return A.buffer};kL.OV.uj=function(z){z=new Uint8Array(z);var J=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],p=0,n=String.fromCharCode(z[0])+String.fromCharCode(z[1]),B=[],c=0,t=n=="P1"||n=="P4"?2:3;
for(p=2;p<z.length;p++){var u=z[p],v=String.fromCharCode(u);if(u=="#".charCodeAt(0)){while(z[p]!="\n".charCodeAt(0))p++;
continue}var A=J.indexOf(u)!=-1;if(c==0&&!A){B.push(v);c=1;continue}if(c==1&&!A){B[B.length-1]+=v;continue}if(c==1&&A){c=0;
if(B.length==t)break;continue}}var $=parseInt(B[0]),X=parseInt(B[1]),U=$*X*4,w=n=="P1"||n=="P4"?1:255/parseInt(B[2]),P=a.j(U);
if(n=="P1"||n=="P2"||n=="P3"){var k="",T=0,c=0,Z="#".charCodeAt(0);for(var g=p;g<z.length;g++){var u=z[g],v=String.fromCharCode(u),A=J.indexOf(u)!=-1;
if(u==Z){while(z[g]!="\n".charCodeAt(0))g++}else if(c==0&&!A){k=v;c=1}else if(c==1){if(A){c=0;var i=parseInt(k);
k="";if(n=="P1"){P[T]=P[T+1]=P[T+2]=(1-i)*255;P[T+3]=255;T+=4}if(n=="P2"){P[T]=P[T+1]=P[T+2]=Math.round(i*w);
P[T+3]=255;T+=4}if(n=="P3"){P[T]=Math.round(i*w);T++;if((T&3)==3){P[T]=255;T++}}}else k+=v}}}var V=$*X;
if(n=="P4")for(var _=0;_<X;_++){var y=_*8*Math.ceil($/8);for(var E=0;E<$;E++){var g=y+E,F=z[p+1+(g>>3)];
F=F>>7-(g&7)&1;var d=_*$+E<<2;P[d]=P[d+1]=P[d+2]=(1-F)*255;P[d+3]=255}}if(n=="P5")for(var g=0;g<V;g++){var d=4*g;
P[d]=P[d+1]=P[d+2]=Math.round(z[p+1+g]*w);P[d+3]=255}if(n=="P6")for(var g=0;g<V;g++){var d=4*g,x=p+1+3*g;
P[d]=Math.round(z[x]*w);P[d+1]=Math.round(z[x+1]*w);P[d+2]=Math.round(z[x+2]*w);P[d+3]=255}return[{eE:new fw(0,0,$,X),data:P.buffer}]};
kL.Yf={};kL.Yf.D6=function(z,J,p,n){if(n==null)n={cmpr:0,mpmp:!0};if(typeof n[0]=="boolean")n[0]=0;var B=new Uint8Array(z[0][0]);
if(n.ctoa&&z[0][4]){B=B.slice(0);a.DE(z[0][4][0],B,3)}var c=J&3,t=p&3;if(c!=0||t!=0){var u=J+(c==0?0:4-c),v=p+(t==0?0:4-t),A=new Uint8Array(u*v*4);
a.dz(A,4278190080);a.nk(B,new fw(0,0,J,p),A,new fw(0,0,u,v));B=A;J=u;p=v}var $=UTEX.DDS.encode(B.buffer,J,p,[n.cmpr,n.mpmp,n.dxsr]);
if(!1){var X=UTEX.DDS.decode($)[0],A=new Uint8Array(X.GS),U=0;for(var g=0;g<B.length;g++){var w=B[g]-A[g];
U+=w*w}console.log(U)}return $};kL.Yf.uj=function(z){var J=UTEX.DDS.decode(z),p=[];for(var g=0;g<1;g++){var n=J[g],B={eE:new fw(0,0,n.width,n.height),data:n.image};
a.a89(B);p.push(B)}return p};kL.aFb={};kL.aFb.uj=function(z){var J=UTEX.VTF.decode(z).pop(),p={eE:new fw(0,0,J.width,J.height),data:J.image};
a.a89(p);return[p]};kL.Ul={};kL.Ul.asS=null;kL.Ul.ay8=function(z,J){var p=kL.Ul.asS,n=z.byteLength,B=J.width,c=J.height,t=B*c,u=5e6+2*n+t*(J.progressive?Math.max(2,J.numComponents)*4+1:8),v=p.instance.exports;
kL.fZ(v,u);var A=new Uint8Array(v.memory.buffer),$=v.malloc(n);A.set(new Uint8Array(z),$);var X=v.malloc(4),U=v.malloc(4),lj=v.malloc(4),w=v.stbi_load_from_memory($,n,X,U,lj,4);
v.free($);v.free(X,U,lj);v.free(w);var P=A.slice(w,w+t*4);return P};(function(){var z=kL.r7.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(z).then(function(J){kL.Ul.asS=J})}());kL.Ul.D6=function(z,J,p,n){if(n==null)n={qual:85,mtdt:!0};
var B=z[0],c=new Uint8Array(B[0]);if(a.hL(c)){var t=new Uint8Array(c.length);t.fill(255);var u=new fw(0,0,J,p);
a.B.Oe("norm",c,u,t,u,u,1);c=t}var v=new Uint8Array(kL.wk(c.buffer,J,p,"jpeg",n.qual/100));if(v.length<2e4||B[5]){var A=e.ob(v,[255,226]);
if(A!=-1){var $=e.Bq(v,A+2);v=kL.aqe(v,A,$+2)}}if(B[5]!=null){var X=4+e.Bq(v,4),U=B[5].length+16,w=new Uint8Array(U+2);
w[0]=255;w[1]=226;e.Gg(w,2,U);e.CR(w,4,"ICC_PROFILE");w[16]=w[17]=1;w.set(B[5],18);v=kL.a1$(v,X,w)}if(B[2]!=null){var P=kL.Ul.Uw(v)[224][0]+2;
P+=9;v[P]=1;e.Gg(v,P+1,B[2]);e.Gg(v,P+3,B[2])}if(B[3]!=null&&n.mtdt==!0&&Object.keys(B[3]).length!=0){var k=0,T=0,Z=0,i=l0.ql(B[3]),V=new Uint8Array(UTIF.encode([i])),_="http://ns.adobe.com/xap/1.0/",X=20;
k=4+6+V.length;var y=l0.B_(B[3]),E=e.Hu(y);T=4+_.length+1+E.length;var F=l0.a9D(B[3]);if(F.length!=0){var d=0,Q=0;
for(var g=0;g<F.length;g++)d+=5+F[g][1].length;var x=d+(d&1),f=a.j(14+4+4+4+x);e.CR(f,Q,"Photoshop 3.0");
Q+=14;e.CR(f,Q,"8BIM");Q+=4;f[Q++]=4;f[Q++]=4;Q+=2;e.HH(f,Q,d);Q+=4;for(var g=0;g<F.length;g++){var m=F[g],H=m[1];
f[Q++]=28;f[Q++]=2;f[Q++]=m[0];e.Gg(f,Q,H.length);Q+=2;e.CR(f,Q,H);Q+=H.length}Z=4+f.length}var S=k+T+Z,R=new Uint8Array(v.length+S);
for(var g=0;g<20;g++)R[g]=v[g];for(var g=20;g<v.length;g++)R[g+S]=v[g];R[X]=255;R[X+1]=225;e.Gg(R,X+2,k-2);
e.CR(R,X+4,"Exif");for(var g=0;g<V.length;g++)R[X+10+g]=V[g];X+=k;R[X]=255;R[X+1]=225;e.Gg(R,X+2,T-2);
e.CR(R,X+4,_);for(var g=0;g<E.length;g++)R[X+4+_.length+1+g]=E[g];X+=T;if(Z!=0){R[X]=255;R[X+1]=237;
e.Gg(R,X+2,Z-2);for(var g=0;g<f.length;g++)R[X+4+g]=f[g];X+=Z}v=R}return v.buffer};kL.Ul.Uw=function(z){var J=0,p=[],n=z.length;
while(J<n){while(z[J]!=255&&J<n)J++;while(z[J]==255)J++;if(J==n)break;var B=z[J];J++;if(p[B]==null)p[B]=[];
p[B].push(J-2);if(B==216)continue;if(B==217)break;if(224<=B&&B<=239||B==218||B==219||B==192||B==193||B==194||B==196||B==221||B==254){var c=e.Bq(z,J);
J+=c;if(B==218)while(J<n&&(z[J]!=255||(z[J+1]==0||208<=z[J+1]&&z[J+1]<=215)))J++;continue}console.log("unknown marker ",B.toString(16),J);
break}if(p[217]==null){console.log("EOI marker missing");var t=z.length-2;z[t]=255;z[t+1]=217;p[217]=[t]}return p};
kL.Ul.a3l=function(z){z=new Uint8Array(z);if(z[0]!=255)return z.buffer;var J=kL.Ul.Uw(z),p=kL.Ul.al8(z,J);
if(p.numComponents!=4)return z.buffer;var n=p.width,B=p.height,c=kL.Ul.a9g(z,J,!0);return kL.Ul.D6([[c[0].data]],n,B,{qual:85})};
kL.Ul.al8=function(z,J){var p=(J[192]?J[192]:J[193]?J[193]:J[194])[0]+4,n={};n.progressive=J[194]!=null;
n.precision=z[p];p++;n.height=e.Bq(z,p);p+=2;n.width=e.Bq(z,p);p+=2;n.numComponents=z[p];p++;if(J[224]){var B=n.jfif={};
p=J[224][0]+2+2+5+2;B.densityUnits=z[p];p++;B.xDensity=e.Bq(z,p);p+=2;B.yDensity=e.Bq(z,p);p+=2}if(J[238]){var B=n.adobe={};
p=J[238][0]+2+2+6;B.version=z[p];p++;B.flags0=e.Bq(z,p);p+=2;B.flags1=e.Bq(z,p);p+=2;B.transform=z[p];
p++}return n};kL.Ul.aiu=function(z,J,p){var n=J,B=e.Bq(z,n);n+=2;var c=e.RM(z,n,4);if(c=="Exif"){n+=6;
var t=z.slice(n,n+B-8),u;try{u=UTIF.decode(t.buffer,{parseMN:!1,debug:!1})}catch(l5){}if(u&&u.length!=0)p.exif=u}else if(c=="http"){var v=0;
while(z[n+v]!=0)v++;var A=e.RM(z,n,v);n+=v+1;if(A=="http://ns.adobe.com/xmp/extension/"){var $=e.RM(z,n,32);
n+=32;n+=8;var X=J+B-n;while(z[n+X-1]==0)X--;if(p.xmp_extn==null)p.xmp_extn="";try{p.xmp_extn+=e.A8(z,n,X)}catch(l5){}}else if(A=="http://ns.adobe.com/xap/1.0/"){var U=e.A8(z.slice(n,n+B-v-3));
if(U[0]=="?")U="<"+U;p.xmp=U}}else console.log(c)};kL.Ul.a9g=function(z,J,p){var n=kL.Ul.al8(z,J),B=n.width,c=n.height,t=B*c,u,_=72,y,F,d=null;
if(B*c*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var v=-1;if(n.adobe)v=n.adobe.transform;if(p||B*c>1e7||v==0||v==2||n.progressive||window.WebAssembly==null){var A=new PDFJS.JpegImage;
A.parse(z);var $=A.getData({width:B,height:c,forceRGB:!0,isSourcePDF:p}),u=a.j(t*4);for(var g=0;g<t;
g++){var X=g<<2,U=X-g;u[X]=$[U];u[X+1]=$[U+1];u[X+2]=$[U+2];u[X+3]=255}}else{u=kL.Ul.ay8(z.buffer,n)}var w=J[225];
if(w)for(var g=0;g<w.length;g++)kL.Ul.aiu(z,w[g]+2,n);var P=J[226];if(P){for(var g=0;g<P.length;g++){var k=P[g],T=e.Bq(z,k+2),Z=e.RM(z,k+4,11);
if(n.icc==null&&Z=="ICC_PROFILE"){var i=e.fy(z,k+18);n.icc=z.slice(k+18,k+18+i)}}}var V=J[217][0]+2;
if(V!=z.length)n.suffix=z.slice(V);var E=[B,c,1,0,0,0,1,0];if(n.jfif&&n.jfif.densityUnits!=0){_=Math.round([72,1,2.54][n.jfif.densityUnits]*n.jfif.xDensity)}else if(n.exif&&n.exif[0].t282!=null){var x=n.exif[0].t282[0];
_=x[0]/x[1]}if(n.exif){var f=n.exif;y=l0.Ix(f[0]);var Q=f[0].t274;if(Q)Q=Q[0];if(Q!=null&&Q>1&&Q<20)E=a.raw.aEd(Q,B,c)}if(n.xmp){y=l0.my(n.xmp,y)}if(n.icc)F=n.icc;
var m=J[237],H=[],S=[];if(m){var R=new Uint8Array(65536),I=0,k=0;for(var g=0;g<m.length;g++){k=m[g]+2;
var D=k+e.Bq(z,k);k+=2;var G=k;while(z[k]!=0)k++;k++;var C=e.RM(z,G,k-G-1),O=D-k;if(O<0)break;while(I+O>R.length){var Y=new Uint8Array(R.length*2);
Y.set(R);R=Y}var h=new Uint8Array(z.buffer,k,O);R.set(h,I);I+=O}k=0;z=R;while(k<I){var r=e.RM(z,k,4);
k+=4;var W=e.Bq(z,k);k+=2;var N=z[k++],o=e.RM(z,k,N);k+=N;if((N&1)==0)k++;var T=e.fy(z,k);k+=4;var V=k+T+(T&1);
if(W==1028){while(k+4<V){var K=z[k++],l=z[k++],aV=z[k++],j=e.Bq(z,k);k+=2;if(K==28&&l==2)H.push([aV,e.RM(z,k,j)]);
k+=j}}else if(W==1032)d=bM.a8v(z,k);else if((W&2e3)==2e3){var M=iV.uG(z,k,T);S.push([o,M])}else{}k=V}if(H.length!=0)y=l0.aFI(H,y)}var s=[{eE:new fw(0,0,B,c),data:u.buffer,Ge:_,UD:y,fc:F,Z8:S.length==0?null:S,r_:d}],y=n.xmp_extn;
if(y){var l2=new DOMParser,gm=l2.parseFromString(y,"image/svg+xml"),gm=gm.children[0].children[0].children[0],iz=[gm.getAttribute("GImage:Data"),gm.getAttribute("GDepth:Data")];
for(var g=0;g<iz.length;g++)if(iz[g]){var dC=atob(iz[g]),dL=new Uint8Array(dC.length);e.CR(dL,0,dC);
dL=dL.buffer;var cP=kL.yd(dL),id=kL.V5(cP).uj(dL);s.push(id[0])}}if(n.suffix){var jR=n.suffix,hC=!1,eJ=e.RM(jR,4,4),el=e.ob(jR,[255,216,255]);
if(kL.ajA(jR,[0,0,1,10,14,0,0,0])){if(hC)console.log("Samsung");var k=0;while(k!=jR.length){var eu=e.Ei(jR,k+2);
k+=4;var jY={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[eu];if(jY!=null){var fN=e.gm(jR,k);k+=4;
var jC=e.RM(jR,k,fN);k+=fN;var kF=e.RM(jR,k,jY);k+=jY;if(eu==2608){var i6=k,kT=e.fy(jR,k+24);k+=kT+24;
var kY=e.fy(jR,k);k+=kY;var h9=jR.slice(i6,k);kL.Ul.afZ(h9)}}else if(eu==18502){while(e.RM(jR,k,4)!="SEFT")k+=4;
k+=4}else{break;console.log(e.r9(jR,k,128));console.log(jR.slice(k));throw eu.toString(16)}}}else if(eJ=="ftyp"){if(hC)console.log("MP4 Video");
kL.Ul.afZ(jR)}else if(e.RM(jR,0,4)=="fixe"){if(hC)console.log("fixe");alert("Unknown data - "+jR.length+" B - at the end of the file",3e3);
var k=4,T=e.gm(jR,k);k+=4;var bG=e.gm(jR,k);k+=4;var dQ=e.gm(jR,k);k+=4;console.log(T,bG,dQ,jR.slice(k,k+84));
k+=84;var jn=e.RM(jR,k,32);k+=32;k+=8;var jn=e.RM(jR,k,32);k+=32}else if(e.RM(jR,8,13)=="FocusShot_Map"){if(hC)console.log("FocusShot_Map");
var b1=e.fy(jR,0),j=e.gm(jR,4),dL=a.j(t*4),c8=a.j(t*4);for(var j_=0;j_<c;j_++)for(var fQ=0;fQ<B;fQ++){var g=j_*B+fQ,X=g<<2,cM=8+13+((j_>>>1)*B+fQ>>>1),jK=jR[cM],aw=jR[cM+(t>>>2)];
dL[X]=dL[X+1]=dL[X+2]=jK;dL[X+3]=255;c8[X]=c8[X+1]=c8[X+2]=aw;c8[X+3]=255}s.push({eE:new fw(0,0,B,c),data:dL.buffer},{eE:new fw(0,0,B,c),data:c8.buffer})}else if(eJ=="edof"){if(hC)console.log("edof");
var Q=jR[8+7];console.log(Q.toString(16));var k=8+16,ez=e.Ei(jR,k),g4=e.Ei(jR,k+2),t=ez*g4;k+=4;k+=32+16;
var ht=a.j(t*4);for(var g=0;g<t;g++){var X=g<<2;ht[X]=ht[X+1]=ht[X+2]=jR[k+g];ht[X+3]=255}if(Q==16){}else if(Q==19){var gx=ht.slice(0);
a.F.dg(ht,gx,ez,g4);var kE=ez;ez=g4;g4=kE;a.F.cx(gx,ht,ez,g4)}else throw"Unknown orientation of a depth map";
s.push({eE:new fw(0,0,ez,g4),data:ht.buffer})}else if(e.RM(jR,0,64).indexOf("DualShot")!=-1){if(hC)console.log("DualShot");
var kS=e.gm,h7=e.RM,b7=e.Ei,k=0;function i7(){var fV=kS(jR,k);if(kS(jR,k+4)!=0)throw"e";k+=8;return fV}var fp=e.fy(jR,k);
k+=4;try{if(fp==45066){k=1226;var B=i7(),c=i7();k=3445}else if(fp==45322){var jB=kS(jR,k);k+=4;var jn=h7(jR,k,jB);
k+=jB;if(jn!="DualShot_DepthMap_1")throw jn;B=1008;c=756;if(s[0].eE.r==4080){B=1020;c=764}}else throw fp;
var fB=a.j(B*c*4);fB.fill(255);a.eG(jR.slice(k,k+B*c),fB);s.push({eE:new fw(0,0,B,c),data:fB.buffer})}catch(l5){console.log("error reading a depth map")}try{if(el!=0)jR=jR.slice(el);
s=s.concat(kL.V5("jpg").uj(jR.buffer))}catch(l5){}}else if(el!=-1&&!(jR[0]==255&&jR[1]==129)){if(hC)console.log("another JPG at",el);
try{if(el!=0)jR=jR.slice(el);s=s.concat(kL.V5("jpg").uj(jR.buffer))}catch(l5){}}else if(e.RM(jR,0,4)=="PMPD"){if(hC)console.log("Xiaomi stuff");
var k=4,df=e.gm(jR,12),dt=e.gm(jR,16),ez=e.gm(jR,1060),g4=e.gm(jR,1064),g5=ez>g4,bR=s[0].eE.r>s[0].eE.$,h$=jR.slice(jR.length-ez*g4-4),ih=a.j(ez*g4);
for(var j_=0;j_<g4;j_++)for(var fQ=0;fQ<ez;fQ++)ih[j_*ez+fQ]=h$[(g4-j_-1)*ez+fQ];var fB=a.j(ez*g4*4);
fB.fill(255);a.eG(ih,fB);if(g5!=bR){var gx=fB.slice(0);a.F.dg(fB,gx,ez,g4);var kE=ez;ez=g4;g4=kE;a.F.cx(gx,fB,ez,g4)}s.push({eE:new fw(0,0,ez,g4),data:fB.buffer})}else console.log(e.RM(jR,0,4),jR)}if(s.length>1){var jt=s[0].eE,jk=!1,gE=!0;
s[0].IK="Main";var jN=[!1];for(var g=1;g<s.length;g++){jN[g]=kL.Ul.arE(new Uint8Array(s[g].data));if(jN[g])jk=!0;
if(!s[g].eE.Vm(s[0].eE))gE=!1}if(!jk&&!gE)s=s.slice(0,1);else for(var g=1;g<s.length;g++){s[g].IK=jN[g]?"Depth Map":null;
var cW=s[g].eE;if(!cW.Vm(jt)){var dR=jt.r/cW.r,gV=jt.$/cW.$,gv=new fA;gv.scale(dR,gV);var ga=L.tp.Zx([new Uint8Array(s[g].data),cW],1,a.F.R8(gv));
s[g].eE=ga.S;s[g].data=ga.buffer}}}if(kL.Ul.qz==1)if(E[2]!=1||E[6]!=1)for(var g=0;g<s.length;g++){var iC=s[g],dI=new Uint8Array(iC.data),B=iC.eE.r,c=iC.eE.$,ez=E[0],g4=E[1],u=a.j(ez*g4*4);
a.F.zJ(dI,B,c,u,E);iC.eE=new fw(0,0,ez,g4);iC.data=u.buffer}return s};kL.Ul.afZ=function(z){if(window.confirm("Photopea found a "+hI.dB(z.length)+" MP4 video inside your image. Would you like to save it?",4e3)){jo.save(z.slice(0).buffer,"video.mp4")}};
kL.Ul.arE=function(z){var J=!0;for(var g=0;g<z.length;g+=4){J=J&&z[g]==z[g+1]&&z[g+1]==z[g+2]}return J};
kL.Ul.qz=0;kL.Ul.uj=function(z,J,p){z=new Uint8Array(z);if(z[0]==255){var n=kL.Ul.Uw(z);if(n[195]==null){kL.Ul.qz++;
var B=kL.Ul.a9g(z,n,!1);kL.Ul.qz--;return B}var c=e.Bq(z,n[195][0]+5),t=e.Bq(z,n[195][0]+7),u=UTIF.LosslessJpegDecode(z),v=t*c,A=a.j(v*4);
for(var g=0;g<v;g++){var $=g<<2,X=$-g;A[$]=u[X];A[$+1]=u[X+1];A[$+2]=u[X+2];A[$+3]=255}return[{eE:new fw(0,0,t,c),data:A.buffer}]}else if(z[0]==0&&z[4]==48&&z[6]==1){var U=z,w=new PDFJS.Jbig2Image,P=[];
if(J)P.push({data:J,start:0,end:J.length});P.push({data:U,start:0,end:U.length});var u=w.parseChunks(P);
if(!p)for(var g=0;g<u.length;g++)u[g]=~u[g];var t=e.fy(z,11),c=e.fy(z,15),k=Math.ceil(t/8),T=a.j(t*c*4);
for(var Z=0;Z<c;Z++){var i=Z*k;for(var V=0;V<t;V++){var $=(Z*t+V)*4,_=u[i+(V>>>3)]>>>7-(V&7)&1,y=_*255;
T[$]=y;T[$+1]=y;T[$+2]=y;T[$+3]=255}}return[{eE:new fw(0,0,t,c),data:T.buffer}]}else{var w=new PDFJS.JpxImage;
w.parse(z);var t=w.width,c=w.height,E=w.tiles,F=w.componentsCount,d=new Uint8Array(t*c*4),x=new fw(0,0,t,c);
for(var w=0;w<E.length;w++){var f=E[w],Q=f.width,m=f.height,H=Q*m,S=f.items,R=new fw(f.left,f.top,Q,m),I=new Uint8Array(H*4);
if(F==1)for(var g=0;g<H;g++){var D=S[g],$=g*4;I[$]=D;I[$+1]=D;I[$+2]=D;I[$+3]=255}else if(F==3)for(var g=0;
g<H;g++){var X=g*3,$=g*4;I[$]=S[X];I[$+1]=S[X+1];I[$+2]=S[X+2];I[$+3]=255}else if(F==4)I.set(S);else console.log("Unknown number of components: "+F);
a.nk(I,R,d,x)}return[{eE:x,data:d.buffer}]}};kL.xs={};kL.xs.D6=function(z,J,p,n){if(n==null)n={qual:70,mtdt:!0,rept:0};
var B=n.qual/100,y=0;if(z.length==1){var c=new Uint8Array(kL.wk(z[0][0],J,p,"webp",B));if(kL.yd(c.buffer)!="webp"){alert("Your browser cannot export WEBP :(",3e3);
throw"e"}if(c.length<2e4){var t=cz.yi(c.buffer),u=t.sub;for(var g=0;g<u.length;g++)if(u[g].A_=="ICCP"){var v=u[g];
c=kL.aqe(c,v.p-8,v.size+8);e.Nx(c,4,t.size-(v.size+8));break}}if(n.mtdt&&z[0][3]){var A=z[0][3],$=new Uint8Array(UTIF.encode([l0.ql(A)])),X=$,U=e.Hu(l0.B_(A)),w=8+X.length;
w+=w&1;var P=8+U.length;P+=P&1;var k=new Uint8Array(w+P);e.CR(k,0,"EXIF");e.Nx(k,4,X.length);k.set(X,8);
e.CR(k,w,"XMP ");e.Nx(k,w+4,U.length);k.set(U,w+8);var T=new Uint8Array(c.length+k.length),t=cz.yi(c.buffer),u=t.sub;
T.set(c,0);T.set(k,c.length);e.Nx(T,4,e.gm(T,4)+k.length);c=T;var Z=cz.yi(c.buffer)}return c.buffer}var i=e.fn,V=e.v9,_=new fJ;
i(_,y,"RIFF    WEBPVP8X");y+=16;V(_,y,10);y+=4;V(_,y,18);y+=4;V(_,y,J-1);y+=3;V(_,y,p-1);y+=3;i(_,y,"ANIM");
y+=4;V(_,y,6);y+=4;_.FA(y,4);_.data[y+3]=255;e.n5(_,y+4,n.rept);y+=6;var E=[];for(var g=0;g<z.length;
g++){E.push(z[g][0])}var F=UPNG.encode.compress(E,J,p,B==1?0:Math.max(2,Math.floor(B*500)),[!1,!0,!0,0,!0]).frames;
function d(t,O,Y,h){var R=t.p-8,I=t.size+8;Y.FA(h,I);for(var g=0;g<I;g++)Y.data[h+g]=O[R+g];return h+I}for(var g=0;
g<z.length;g++){i(_,y,"ANMF");y+=4;var x=y,R=0,I=0;y+=4;var f=F[g],Q=f.rect,m=[Q.x>>>1,Q.y>>>1,Q.width-1,Q.height-1,z[g][1]];
for(var H=0;H<5;H++)V(_,y+3*H,m[H]);y+=15;_.FA(y,1);_.data[y]=1-f.blend<<1|f.dispose;y++;var S=new Uint8Array(kL.wk(f.img.buffer,Q.width,Q.height,"webp",1)),u=cz.yi(S.buffer).sub,D={};
for(var G=0;G<u.length;G++)D[u[G].A_]=u[G];if(D.VP8L)y=d(D.VP8L,S,_,y);else throw"e";var C=y-x-4;V(_,x,C);
if((C&1)==1){_.FA(y,1);y++}}V(_,4,y-8);return _.data.slice(0,y).buffer};(function(){var z=kL.r7.get("wasm/webp").buffer;
WebAssembly.instantiate(z).then(function(J){var p=J.instance.exports;kL.xs.exp=p})}());kL.xs.uj=function(z){var J=new Uint8Array(z),p=kL.xs.awt,n=null,B=cz.yi(z).sub,c={},t=null;
for(var g=0;g<B.length;g++)c[B[g].A_]=B[g];if(c.EXIF){var u=c.EXIF,v=u.p,A=v+u.size;if(J[u.p]==69)v+=6;
var $=z.slice(v,A),u=UTIF.decode($)[0];console.log(u);if(u)t=l0.Ix(u);console.log(t)}var u=c["XMP\0"];
if(u==null)u=c["XMP "];if(u){var $=new Uint8Array(z,u.p,u.size);if(t==null)t={};t=l0.my(e.A8($),t)}var X=c.ANIM,U=c.VP8L,w=c["VP8 "],P=c.VP8X;
if(X==null){var k,T;if(w){k=e.Ei(J,w.p+6);T=e.Ei(J,w.p+8)}else if(U){var Z=e.gm(J,U.p+1);k=(Z&(1<<14)-1)+1;
T=(Z>>>14&(1<<14)-1)+1}else throw"e";var i=p(n,z,{p:0,size:J.length},k,T);i.UD=t;return[i]}var V=P.p,k=1+(e.gm(J,V+4)&16777215),T=1+(e.gm(J,V+7)&16777215),_=[],y=new fw(0,0,k,T),E=a.j(k*T*4);
for(var g=0;g<B.length;g++){var F=B[g];if(F.A_!="ANMF")continue;var d=[];for(var x=0;x<5;x++)d.push(e.gm(J,F.p+x*3)&16777215);
var f=new fw(d[0]*2,d[1]*2,d[2]+1,d[3]+1),Q=d[4],m=p(n,z,{p:F.p+16,size:F.size-16},k,T),H=new Uint8Array(m.data),S=J[F.p+15];
if(S>>>1==0)a.B.Oe("norm",H,f,E,y,f,1);else a.nk(H,f,E,y);_.push({IK:"_a_"+_.length+","+Q,eE:y.P(),data:E.buffer.slice(0)});
if((S&1)==1){H.fill(0);a.nk(H,f,E,y)}}return _};kL.xs.awt=function(z,J,p,n,B){var c=kL.xs.exp,t=c.memory,u=5e6+2*p.size+n*B*10;
kL.fZ(c,u);var v=new Uint8Array(t.buffer),A=c.malloc(p.size);v.set(new Uint8Array(J,p.p,p.size),A);var $=c.malloc(8),X=c.WebPDecodeARGB(A,p.size,$,$+4),U=e.gm(v,$),w=e.gm(v,$+4),P=U*w*4,k=a.j(P);
for(var g=0;g<P;g+=4){k[g]=v[X+g+1];k[g+1]=v[X+g+2];k[g+2]=v[X+g+3];k[g+3]=v[X+g]}c.WebPFree(X);c.free($);
c.free(A);return{eE:new fw(0,0,U,w),data:k.buffer}};kL.aff=function(){function z(u,v,A,$){var X=new Uint8Array(u[0][0]),U=new Uint32Array(X.buffer),w=[],P={},T=24,Z=0,E=0;
for(var g=0;g<U.length;g++){var k=U[g]&16777215;if(P[k]==null){P[k]=w.length;w.push(k);if(w.length>256){w=null;
break}}}if($&&$.nplt)w=null;if(w){T=1;while(1<<T<w.length)T*=2;if(T==2)T=4}var i={Tx:v,tK:A,gu:1,AL:T,oD:0,azL:Z},V=4*Math.floor((i.AL*i.Tx+31)/32);
i.size=V*i.tK+2;var _=new fJ,y=w?(1<<T)*4:0;e.fn(_,E,"BM");E+=2;e.v9(_,E,V*A+16+40+y);E+=4;e.v9(_,E,0);
E+=4;e.v9(_,E,54+y);E+=4;_.FA(E,40);e.v9(_,E,40);E+=4;t(_.data,E,i,V);E+=36;if(w){_.FA(E,y);var F=_.data;
for(var g=0;g<w.length;g++){var d=E+g*4,x=w[g]>>>16,f=w[g]>>>8&255,Q=w[g]&255;F[d]=x;F[d+1]=f;F[d+2]=Q}E+=y}_.FA(E,V*A);
if(T==24)for(var m=0;m<A;m++){var H=E+(A-1-m)*V;for(var S=0;S<v;S++){var R=(m*v+S)*4;_.data[H+S*3+2]=X[R];
_.data[H+S*3+1]=X[R+1];_.data[H+S*3+0]=X[R+2]}}else if(T==8)for(var m=0;m<A;m++){var H=E+(A-1-m)*V;for(var S=0;
S<v;S++){var R=m*v+S,I=P[U[R]&16777215];_.data[H+S]|=I}}else if(T==4)for(var m=0;m<A;m++){var H=E+(A-1-m)*V;
for(var S=0;S<v;S++){var R=m*v+S,I=P[U[R]&16777215];_.data[H+(S>>>1)]|=I<<4-(S&1)*4}}else if(T==1)for(var m=0;
m<A;m++){var H=E+(A-1-m)*V;for(var S=0;S<v;S++){var R=m*v+S,I=P[U[R]&16777215];_.data[H+(S>>>3)]|=I<<7-(S&7)}}E+=V*A+2;
return _.data.slice(0,E).buffer}function J(u){u=new Uint8Array(u);if(e.gm(u,0)==40)return[p(u.buffer,0)];
var v=0,A=e.RM(u,v,2);v+=2;if(A!="BM"){alert("Unsupported BMP format: "+A);return}var $=e.gm(u,v);v+=4;
v+=4;var X=e.gm(u,v);v+=4;return[p(u.buffer,v,X)]}function p(u,v,A){u=new Uint8Array(u);var $=e.gm(u,v),X=c(u,v+4);
if(X.gu!=1)alert("unsupported number of color planes: "+X.gu);if(X.oD!=0&&X.oD!=1&&X.oD!=2&&X.oD!=3&&X.oD!=861165636){alert("Unsupported BMP compression: "+X.oD);
return}v+=$;var U=v,w=u;if(A==null)A=v;if(X.oD==1||X.oD==2){var P=B(u,A,X);X.AL=8;u=P;A=0}var k=4*Math.floor((X.AL*X.Tx+31)/32),T=X.Tx,Z=Math.abs(X.tK),i=new Uint8Array(T*Z*4);
i.fill(255);if(X.AL==32)for(var V=0;V<Z;V++){var _=A+(Z-1-V)*k;for(var y=0;y<T;y++){var E=(V*T+y)*4;
i[E]=u[_+y*4+2];i[E+1]=u[_+y*4+1];i[E+2]=u[_+y*4+0];i[E+3]=u[_+y*4+3]}}else if(X.AL==24)for(var V=0;
V<Z;V++){var _=A+(Z-1-V)*k;for(var y=0;y<T;y++){var E=(V*T+y)*4;i[E]=u[_+y*3+2];i[E+1]=u[_+y*3+1];i[E+2]=u[_+y*3+0]}}else if(X.AL==16){if(X.oD==861165636)UTEX.readBC2(u,A,i,T,Z);
else for(var V=0;V<Z;V++){var _=A+(Z-1-V)*k;for(var y=0;y<T;y++){var E=(V*T+y)*4,F=u[_+y*2+1]<<8|u[_+y*2];
if(A==v){i[E]=(F>>>10&31)*(255/31);i[E+1]=(F>>>5&31)*(255/31);i[E+2]=(F&31)*(255/31)}else{i[E]=(F>>>11)*(255/31);
i[E+1]=(F>>>5&63)*(255/63);i[E+2]=(F&31)*(255/31)}}}}else if(X.AL==8)for(var V=0;V<Z;V++){var _=A+(Z-1-V)*k;
for(var y=0;y<T;y++){var E=(V*T+y)*4,d=u[_+y];i[E]=w[U+4*d+2];i[E+1]=w[U+4*d+1];i[E+2]=w[U+4*d+0]}}else if(X.AL==4)for(var V=0;
V<Z;V++){var _=A+(Z-1-V)*k;for(var y=0;y<T;y++){var E=(V*T+y)*4,d=u[_+(y>>1)];d=d>>4-4*(y&1);d=d&15;
i[E]=w[U+4*d+2];i[E+1]=w[U+4*d+1];i[E+2]=w[U+4*d+0]}}else if(X.AL==1)for(var V=0;V<Z;V++){var _=A+(Z-1-V)*k;
for(var y=0;y<T;y++){var E=(V*T+y)*4,x=u[_+(y>>3)];x=x>>7-(y&7);x=x&1;i[E]=w[U+4*x+2];i[E+1]=w[U+4*x+1];
i[E+2]=w[U+4*x+0]}}else throw"Unknown bit depth "+X.AL;if(X.tK<0){var f=new Uint32Array(i.buffer),Q=Z>>>1;
for(var V=0;V<Q;V++){var m=V*T,H=(Z-V-1)*T;for(var y=0;y<T;y++){var S=f[m+y];f[m+y]=f[H+y];f[H+y]=S}}}return{eE:new fw(0,0,T,Z),data:i.buffer}}function n(u,g){return u>>>4-((g&1)<<2)&15}function B(u,v,A){var $=A.Tx,X=Math.abs(A.tK),U=new Uint8Array($*X),w=0,P=0,g=0;
while(P<X){var k=u[v++],T=u[v++],Z=P*$+w;if(k>0){if(A.AL==4)for(g=0;g<k;g++){U[Z+g]=n(T,g)}else for(g=0;
g<k;g++){U[Z+g]=T}w+=k}else if(k==0&&T==0){P++;w=0}else if(k==0&&T==1){break}else if(k==0&&T==2){w+=u[v++];
P+=u[v++]}else{var i=T;if(A.AL==4){for(g=0;g<T;g++){U[Z+g]=n(u[v+(g>>>1)],g)}i=Math.ceil(T/2)}else{for(g=0;
g<T;g++){U[Z+g]=u[v+g]}}if((i&1)!=0)i++;v+=i;w+=T}}return U}function c(u,v){var A=e.qd,$=e.gm,X=e.Ei,U={};
U.Tx=A(u,v);v+=4;U.tK=A(u,v);v+=4;U.gu=X(u,v);v+=2;U.AL=X(u,v);v+=2;U.oD=$(u,v);v+=4;U.size=$(u,v);v+=4;
var w=A(u,v);v+=4;var P=A(u,v);v+=4;U.azL=$(u,v);v+=4;v+=4;return U}function t(u,v,A,$){e.Nx(u,v,A.Tx);
v+=4;e.Nx(u,v,A.tK);v+=4;e.Zk(u,v,A.gu);v+=2;e.Zk(u,v,A.AL);v+=2;e.Nx(u,v,A.oD);v+=4;e.Nx(u,v,A.size);
v+=4;e.Nx(u,v,2834);v+=4;e.Nx(u,v,2834);v+=4;e.Nx(u,v,A.azL);v+=4;v+=4}return{uj:J,D6:z,ate:p}}();kL.$S={};
kL.$S.D6=function(z,J,p,n){if(n==null)n={qual:100,dthr:!1};var B=[],c=[],t=J*p*4,k=null;for(var u=0;
u<z.length;u++){var v=new Uint8Array(z[u][0].slice(0));for(var g=0;g<t;g+=4){var A=v[g+3]=v[g+3]>127?255:0;
if(A==0)v[g]=v[g+1]=v[g+2]=0}B.push(v.buffer);c.push(z[u][1])}var $=Math.round(2+254*n.qual/100),X=UPNG.encode.compress(B,J,p,$,[!0,!1,!1,8,!1,n.dthr]),U=X.plte,w=new Uint8Array(4),P=new Uint32Array(w.buffer);
for(var g=0;g<U.length;g++){P[0]=U[g];var T=w[0];w[0]=w[2];w[2]=T;U[g]=P[0];if(P[0]==0&&k==null)k=g}while(U.length<256)U.push(0);
var Z=new Uint8Array(2e4+Math.round(1.5*J*p*z.length)),i=n.rept,V={palette:U};if(i!=1)V.loop=i==0?0:i-1;
var _=new GifWriter(Z,J,p,V);for(var g=0;g<z.length;g++){var y=X.frames[g],E=y.rect,F=y.blend,d=y.dispose,x=Math.round(c[g]/10);
if(x<2)x=2;_.addFrame(E.x,E.y,E.width,E.height,y.img,{transparent:k,disposal:d+1,delay:x})}return Z.slice(0,_.end()).buffer};
kL.$S.uj=function(z){var J=Date.now(),p=[],n=UGIF.decode(z),B=UGIF.toRGBA8(n),c=new fw(0,0,n.width,n.height);
for(var g=0;g<B.length;g++){var t=n.frames[g];p.push({eE:c.P(),IK:"_a_frm"+g+","+t.delay*10,data:B[g]})}return p};
kL.yx={};kL.yx.D6=function(z,J,p,n){if(J>256||p>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var B=Math.min(J,256),c=Math.min(p,256),t=new fw(0,0,B,c),u=a.j(t.C()*4),v=new fw(0,0,J,p),A=new Uint8Array(z[0][0]);
a.nk(A,v,u,t);z[0][0]=u.buffer;J=B;p=c}var $=new Uint8Array(z[0][0]).slice(0),U=0;$[3]=Math.min($[3],254);
var X=new fJ,w=n&&n[0]==!0;e.n5(X,U,0);U+=2;e.n5(X,U,w?2:1);U+=2;e.n5(X,U,1);U+=2;var P=new Uint8Array(UPNG.encode([$.buffer],J,p,null,null,null,!0));
X.FA(U,16);X.data[U]=J==256?0:J;U++;X.data[U]=p==256?0:p;U++;U+=2;e.n5(X,U,w?Math.round(J/2):1);U+=2;
e.n5(X,U,w?Math.round(p/2):32);U+=2;e.v9(X,U,P.length);U+=4;e.v9(X,U,6+16);U+=4;X.FA(U,P.length);X.data.set(P,U);
U+=P.length;return X.data.slice(0,U).buffer};kL.yx.uj=function(z){z=new Uint8Array(z);var J=4,p=e.Ei(z,J);
J+=2;var n=[];for(var g=0;g<p;g++){var B=kL.yx.aLM(z,J+g*16),c=z.buffer.slice(B.offset,B.offset+B.size),t=kL.yd(c);
t=t?t:"bmp";if(t=="png"){var u=kL.V5(t),v=u.uj(c);B.dj=v[0]}else{var A=kL.V5("BMP").ate(c,0),c=a.j(B.Tx*B.tK*4);
a.nk(new Uint8Array(A.data),new fw(0,0,A.eE.r,A.eE.$),c,new fw(0,B.tK,B.Tx,B.tK));A.data=c.buffer;A.eE.$=B.tK;
B.dj=A}n.push(B)}n.sort(function($,X){if($.Tx!=X.Tx)return $.Tx-X.Tx;return $.aGL-X.aGL});return[n.pop().dj]};
kL.yx.aLM=function(z,J){var p={};p.Tx=z[J];J++;if(p.Tx==0)p.Tx=256;p.tK=z[J];J++;if(p.tK==0)p.tK=256;
p.aq2=z[J];J++;J++;p.aEN=e.Ei(z,J);J+=2;p.aGL=e.Ei(z,J);J+=2;p.size=e.gm(z,J);J+=4;p.offset=e.gm(z,J);
J+=4;return p};kL.kk={};kL.kk.a1Q=function(z){var J,p="dng";if(z[0].t33421)J=z[0];else if(z[0].subIFD&&z[0].t271&&z[0].t271[0]=="Hasselblad"){p="fff";
J=z[0].subIFD[0];J.t33421=[2,2]}else if(z[0].subIFD&&z[0].subIFD[0].t33421){J=z[0].subIFD[0];if(J.t50706==null){if(J.t258[0]==8)J.t258[0]=12}p=J.t50713||J.t50717?"dng":"arw"}else if(z[0].subIFD&&z[0].subIFD[0]&&z[0].subIFD[0].t262&&z[0].subIFD[0].t262[0]==34892)J=z[0].subIFD[0];
else if(z[0].t50706)J=z[0];else if(z[0].subIFD&&z[0].subIFD[1]&&z[0].subIFD[1].t33421){p="nef";J=z[0].subIFD[1]}else if(z[0].subIFD&&z[0].subIFD[2]&&z[0].subIFD[2].t33421){p="nef";
J=z[0].subIFD[2]}else if(z[3]&&z[3].t50648){p="cr2";var n=z[0].exifIFD,B=n.makerNote;J=z[3];var c=B.t224[1],t=B.t224[2];
J.t256=[c];J.t257=[t];J.t258=[16];J.t259=[7];J.t262=[32803];J.t277=[1];J.t33421=[2,2];var u=J.t50656[0],v=a.raw.yQ[u];
if(v==null)throw"e";J.t33422=v}else if(z[0].t1&&z[0].t1.length==4){p="rw2";var A=z[0],$={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},X=A.t280==null;
J={};for(var U in $)if(A["t"+U])J["t"+$[U]]=A["t"+U];J.t2=A.t2;J.t3=A.t3;J.t10=A.t10;J.t45=A.t45;J.t258=[16];
J.t33421=[2,2];var w=A.t9[0];if(X)w=2;J.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][w-1];var P=A.t4[0],k=A.t5[0],T=A.t6[0],Z=A.t7[0];
J.t50829=[P,k,T,Z];var i=A.t36[0],V=A.t37[0],_=A.t38[0];J.t50728=[V/i,V/V,V/_]}else if(z[0].t258&&z[0].t258[0]>=12&&z[0].t258.length==1&&z[0].t271&&(z[0].t271[0].startsWith("OLYMPUS")||z[0].t271[0].startsWith("OM Digital Solutions"))){p="orf";
J=z[0];J.t33421=[2,2]}return[J,J?p:null]};kL.kk.uj=function(z){var J=Date.now();if(a.raw.LX(z.byteLength))return[a.raw.aB8(z)];
var p=UTIF.decode(z);console.log(p.slice(0));console.log(p[0]);var n=kL.kk.a1Q(p),B=n[0];if(B){UTIF.decodeImage(z,B,p);
for(var c in p[0])if((c[0]=="t"||c[0]=="e"||c[0]=="d")&&B[c]==null)B[c]=p[0][c];B.jq=p[0].t274?p[0].t274[0]:1;
return[B]}var t=[];for(var g=0;g<p.length;g++){var u=p[g],v=null,k=72,E,F=8;UTIF.decodeImage(z,u,p);
if(u.width==null)continue;if(u.t258&&u.t258[0]==16&&u.t277&&u.t277[0]==1){var A=0,$=0,X=0,U=u.data;for(var w=0;
w<U.length;w+=2){var P=U[w+1]<<8|U[w];if(P>A)A=P;$+=P;X++}v=1/256*65535/(.5*A+.5*(2*$/X))}var T=u.t282,Z=u.t296,i=l0.Ix(u),V=u.t258,_=u.width,y=u.height;
if(T!=null&&Z!=null){k=T[0][0]/T[0][1];if(Z[0]==3)k=Math.round(k/2.54)}if(kv&&V[0]==16){E=kL.a56(u.data.buffer,_,y);
F=16}else E=UTIF.toRGBA8(u,v).buffer;t.push({eE:new fw(0,0,_,y),data:E,Ge:k,UD:i,fc:u.t34675?u.t34675.slice(0):null,depth:F})}return t};
kL.kk.D6=function(z,J,p,n){if(n==null)n={mtdt:!0};var B={},c=z[0].slice(0),t=new Uint8Array(c[0]);if(!a.hL(t)&&c[4]&&c[4][0]){t=t.slice(0);
a.DE(c[4][0],t,3)}if(c[3]!=null&&n.mtdt)B=l0.ql(c[3]);if(c[2]!=null){B.t282=B.t283=[[Math.round(c[2]),1]];
B.t296=[2]}return UTIF.encodeImage(t.buffer,J,p,B)};kL.$H={};kL.$H.xG=!0;kL.$H.uj=function(z,J){var p=e.ob(new Uint8Array(z),"Alpha 1"),n=UTIF.decode(z),B=n[0],w=0;
console.log(n);var c=J.r=B.t256[0],t=J.$=B.t257[0],u=c*t;J.buffer=a.j(u*4);J.v7=!1;J.oF=B.t258[0];J.ei=3;
var v=B.t34377;if(v){var A=new Uint8Array(v.length+4);A.set(v,4);e.HH(A,0,v.length);jA.a0j(J,A,0);jA.azR(J)}var $=B.t37724.slice(36),X=e.RM($,0,4)=="MIB8";
bp.Ef($,0,$.length,J.add,!1,J,X);var U=X?e.gm:e.fy;while(w<$.length){var P=e.W2($,w,X);w+=4;var k=e.W2($,w,X);
w+=4;var T=U($,w);w+=4;if(k=="Layr"){bM.cO(J,$,w,X);for(var g=0;g<J.U.length;g++){var Z=J.U[g];if(Z.add.vstk)Z.k3(J)}}w+=T;
if((T&3)!=0)w+=4-(T&3)}var i=B.t277[0],V=new Uint8Array(z,B.t273[0]);for(var g=3;g<i;g++){var _=a.j(u);
for(var y=0;y<u;y++)_[y]=V[y*i+g];var E=new bi.L7;J.b8.push(E);E.name=J.XM?J.XM[g-3]:"Alpha";E.N=_;E.S=new fw(0,0,c,t)}};
kL.avC={};kL.avC.uj=function(z){z=new Uint8Array(z);var J=8,p,n=0;while(J<z.length){var B=e.RM(z,J,4),c=e.fy(z,J+4);
if(B.startsWith("ic")){var t=z.slice(J+8,J+c),u=kL.yd(t.buffer),v=kL.V5(u),A=v.uj(t.buffer),$=A[0].eE.C();
if($>n){n=$;p=A}}J+=c}return p};kL.Aw={};kL.Aw.xG=!0;kL.Aw.uj=function(z,J){bM.yi(z,J)};kL.Aw.acx=function(z,J,p,n){z.Cr(!0);
if(n==null)n=[!1,!1,!1,!1,!1];if(!n[0])z.dT();var B=new fJ,c=bM.Ag(z,B,n);return[B.data.buffer,c]};kL.Aw.D6=function(z,J,p,n){var B=kL.Aw.acx(z,J,p,n),c=B[0],t=B[1];
return c.byteLength==t?c:c.slice(0,t)};kL.kI={};kL.kI.xG=!0;kL.kI.uj=function(z,J){var p=pako.inflate(new Uint8Array(z)),n=e.Bq(p,0),B=e.Bq(p,2),c=4;
J.r=e.fy(p,c);c+=4;J.$=e.fy(p,c);c+=4;J.buffer=a.j(J.r*J.$*4);var t=e.Bq(p,c);c+=2;c+=4;for(var u=0;
u<t;u++){var v=J.JG(),P=0,I=1,D=2,G=3,C=0;J.U.push(v);var A=e.fy(p,c);c+=4;var $=c,X=e.Bq(p,$);$+=2;
var U=e.A8(p,$,X);$+=X;v.HV(U);var w=p[$];$++;if(w!=0&&w!=1)throw w;v.S.x=e.lz(p,$);$+=4;v.S.y=e.lz(p,$);
$+=4;v.S.r=e.fy(p,$);$+=4;v.S.$=e.fy(p,$);$+=4;if(n>3){P=e.lz(p,$);$+=4}v.YF=Math.round(255*p[$]/100);
$++;var k=p[$];$++;v.Rz(k!=0);v.QN="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[p[$]];
$++;var T=p[$];$++;if(T)v.add.lspf=1<<31;if(n>3){var Z=e.Bq(p,$);$+=2;if(Z!=0){var i=JSON.parse(e.A8(p,$,Z));
$+=Z;var V=i.text,_=i.textSettings,y=_.font,E=_.size,F=_.padding,d=parseInt(_.color.slice(1),16);v.add.lnsr="rend";
v.add.TySh=dN.gI(0,0);v.add.TySh.M6=new fw(0,0,100,100);var x=v.add.TySh.h=new fA,f=v.S.r/2,Q=v.S.$/2;
x.translate(-f,-Q);x.rotate(-P*Math.PI/180);x.translate(f,Q);x.translate(v.S.x+F,v.S.y+F);var m=v.add.TySh.qU;
dN.NA(m,1);dN.h4(m,[0,0,v.S.r-F*2,v.S.$]);dN.tJ(m,0,V);var H=dN.cj(m,0,1);H.uA.FontSize=E;H.uA.FillColor={Type:1,Values:[1,(d>>>16&255)/255,(d>>>8&255)/255,(d>>>0&255)/255]};
if(_.bold)y+="-Bold";dN.Qp(H,y);H.gC.Justification=["left","right","center"].indexOf(_.align);dN.CG(m,0,V.length,H)}}var S=e.fy(p,$);
$+=4;if(S!=v.S.C()*4){for(var g=v.S.r;g>v.S.r/2;g--){var R=S/(g*4);if(R==Math.round(R)){v.S.r=g;v.S.$=R;
break}}}v.buffer=a.j(v.S.C()*4);if(n>3){I=0;D=1;G=2;C=3}for(var g=0;g<S;g+=4){v.buffer[g]=p[$+g+I];v.buffer[g+1]=p[$+g+D];
v.buffer[g+2]=p[$+g+G];v.buffer[g+3]=p[$+g+C]}$+=S;var O=e.fy(p,$);$+=4;if(O==0&&n>3){c+=A;continue}var Y=p[$];
$++;var h=e.Bq(p,$);$+=2;if(O!=0){v.T4=new bi.L7;v.T4.S=v.S.P();v.T4.N=a.j(v.S.C());for(var g=0;g<O;
g+=4)v.T4.N[g>>>2]=p[$+g+1];$+=O}if(Y!=0){var r=JSON.parse(a_.default);v.add.lmfx=r;for(var g=0;g<a_.order.length;
g++)r[a_.in[g]]={t:"VlLs",v:[]};var W={"102":9,"101":2,"103":0,"104":3,"105":8};for(var g=0;g<Y;g++){var N=e.Bq(p,$),K=$+N+4,l=p.slice($,K),aV=p[$+2];
$+=3;var j=W[aV+""],M=JSON.parse(a_.ef[j]);r[a_.in[j]].v.push({t:"Objc",v:M});if(j!=0){M.Md.v.BlnM=jM.oa("norm");
M.Opct.v.val=p[$];$++;if(j==9||j==2){M.Dstn.v.val=p[$+1];$+=2}else $+=2;M.blur.v.val=Math.round(p[$]*1.2);
$++;if(j==9||j==2){M.uglg.v=!1;M.lagl.v.val=180-e.Bq(p,$);$+=2}M.Clr.v=a.Wi.yR({o:p[$+1],k:p[$+2],X:p[$+3]})}else{M.hglM.v.BlnM=M.sdwM.v.BlnM=jM.oa("norm");
$+=2;var s=p[$++],l2=p[$++];M.blur.v.val=Math.round(Math.sqrt(l2*s)*1.3);M.srgR.v.val=Math.round(100*s/l2);
M.uglg.v=!1;M.lagl.v.val=180-e.Bq(p,$);$+=2;M.hglO.v.val=p[$++];M.hglC.v=a.Wi.yR({o:p[$+1],k:p[$+2],X:p[$+3]});
$+=4;M.sdwO.v.val=p[$++];M.sdwC.v=a.Wi.yR({o:p[$+1],k:p[$+2],X:p[$+3]});$+=4}$=K}}if($-c<A){var gm=e.fy(p,$),dL=0;
$+=4;$++;var X=e.Bq(p,$);$+=2;var V=e.A8(p,$,X);$+=X;V=V.replace(/\r/g,"\n");var X=e.Bq(p,$);$+=2;var y=e.A8(p,$,X);
$+=X;var E=e.Bq(p,$);$+=2;var iz=v.S.x,dC=v.S.r;if(gm&4)dL=1;if(gm&2)dL=2;var cP=Math.round(E*.4);if(dL==0||dL==2)dC+=cP;
if(dL==1||dL==2){dC+=cP;iz-=cP}v.add.lnsr="rend";v.add.TySh=dN.gI(0,0);v.add.TySh.M6=new fw(0,0,100,100);
v.add.TySh.h=new fA(1,0,0,1,iz,v.S.y+E*.25);var m=v.add.TySh.qU;dN.NA(m,1);dN.h4(m,[0,0,dC,v.S.$]);dN.tJ(m,0,V);
var H=dN.cj(m,0,1);H.uA.FontSize=E;H.uA.FillColor={Type:1,Values:[1,p[$+1]/255,p[$+2]/255,p[$+3]/255]};
$+=4;if(p[$+5])y+="-Bold";if(p[$+6])y+="-Italic";dN.Qp(H,y);H.gC.Justification=dL;$+=8;dN.CG(m,0,V.length,H)}c+=A}};
kL.Ql={};kL.Ql.xG=!0;kL.Ql.uj=function(z,J){var p=UZIP.parse(z),n=JSON.parse(e.A8(p["manifest.json"].buffer));
J.r=n.width;J.$=n.height;J.buffer=a.j(J.r*J.$*4);J.name=n.name+".psd";var B=n.stack;for(var c=0;c<B.length;
c++){var t=B[c],u=t.type,v=t.rect,A=t.format,$=A?A.fill:null,X=J.JG();X.HV(t.name);X.Rz(t.visible);X.YF=Math.round(255*t.opacity);
var U=X.S=new fw(v.x,v.y,v.w,v.h),w=v.r;if(w==null)w=0;J.U.push(X);if(u=="image"&&w!=0||u=="shape"&&A.variant=="svg"){var P=J.aZ(p[t.content],X.getName(),0,0);
P.a3=X.a3;P.YF=X.YF;X=P;J.U.pop();J.U.push(X);var k=a.b.e3(U).L;a.b.h(k,kL.Ql.cW(U,w),k);X.add.SoLd.Trnf=L.tp.ey(k);
X.add.SoLd.nonAffineTransform=L.tp.ey(k);X.m8(J,!1)}else if(u=="image"){if(U.C()!=0){var T=p[t.content].buffer,Z=kL.yd(T),i=kL.V5(Z),V=i.uj(T)[0];
U.r=V.eE.r;U.$=V.eE.$;X.buffer=new Uint8Array(V.data)}}else if(u=="shape"){X.a3|=16;var _=X.add.vstk=a_.jM.J0(!0),y=X.add.vmsk=new bi.jP,E,F=A.variant;
if(F=="rectangle"||F=="rounded"){E=a.z.dZ.Rect(U.x,U.y,U.r,U.$,A.radii)}else if(F=="ellipse"){E=a.z.dZ.xJ(U.x,U.y,U.r,U.$)}else if(F=="path"){var d=Typr.U.SVGToPath(t.content),x={Ao:d.cmds,L:d.crds};
E=a.b.nK(x);var f=a.z.nd(E);a.z.Gn(E,new fA(U.r/f.r,0,0,U.$/f.$,U.x,U.y))}else if(F=="line"){var x={Ao:["M","L"],L:[U.x,U.y,U.x+U.r,U.y]};
E=a.b.nK(x)}else console.log(A);X.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:0,k:0,X:0})}};
if($==null){_.fillEnabled.v=!1}else if($.type=="color"){X.add.SoCo.Clr.v=a.Wi.yR(CSS.zO($.value))}else if($.type=="gradient"){delete X.add.SoCo;
X.add.GdFl=kL.Ql.d7($,w)}else console.log($);var m=kL.Ql.cW(U,w);a.z.Gn(E,m);var H=t.style;if(H&&H.outline){var S=H.outline;
_.strokeEnabled.v=!0;_.strokeStyleLineWidth.v.val=S.size;_.strokeStyleContent.v.Clr.v=a.Wi.yR(CSS.zO(S.color))}y.u=E;
X.cC();X.k3(J)}else if(u=="text"){X.add.lnsr="rend";X.add.TySh=dN.gI(0,0);X.add.TySh.M6=new fw(0,0,100,100);
var R=X.add.TySh.qU;dN.NA(R,1);dN.h4(R,[0,0,U.r,U.$]);var I=t.content;dN.tJ(R,0,I);var D=dN.cj(R,0,Math.min(I.length,1)),G=A.font.name,C=A.font.content;
if(C&&p[C]){var O=p[C];if(O instanceof Uint8Array)O=p[C]=Typr.parse(O.buffer)[0];G=O.name.postScriptName}dN.Qp(D,G);
var Y=D.uA.FontSize=Math.round(A.size);if($&&$.value){var h=null;if($.type=="color")h=$.value;else if($.type=="gradient")h=$.value.stops[0].color;
if(h){var r=CSS.zO(h);D.uA.FillColor={Type:1,Values:[1,r.o/255,r.k/255,r.X/255]}}}var W=A.linespace;
if(W){D.uA.AutoLeading=!1;D.uA.Leading=Math.round(Y*(1.06+parseFloat(W)));console.log(W,D.uA)}D.uA.FauxBold=A.bold;
D.gC.Justification=["left","right","center","justify"].indexOf(A.align);dN.CG(R,0,I.length,D);var N=new fA,o=U.r/2,K=U.$/2;
N.translate(Math.round(Y*0),Math.round(Y*.25));N.translate(-o,-K);N.rotate(-w*Math.PI/180);N.translate(o,K);
N.translate(U.x,U.y);X.add.TySh.h=N;X.S=new fw}else console.log(t)}J.Uq=!0};kL.Ql.cW=function(z,J){var p=z.x+z.r/2,n=z.y+z.$/2,B=new fA;
B.translate(-p,-n);B.rotate(-J*Math.PI/180);B.translate(p,n);return B};kL.Ql.d7=function(z,J){var p=JSON.parse(a_.ef[a_.order.indexOf("GrFl")]),n=p.Grad.v;
n.Intr.v=0;var B=[],c=z.value.stops;for(var g=0;g<c.length;g++){var t=c[g],u=CSS.zO(t.color);B.push([t.position,[u.o/255,u.k/255,u.X/255]])}a.Wi.Sy(B,n);
p.Angl.v.val=-(z.value.direction+J)+90+180;return p};kL.XK={};kL.XK.xG=!0;kL.XK.uj=function(z,J){fh.yi(z,J)};
var fh=function(){function z(X,U){var w=Date.now(),P=UZIP.parse(X),k=P["maindoc.xml"],T=new DOMParser,Z=T.parseFromString(e.A8(k),"image/svg+xml").children[0].children[0],i=Z.getAttribute("name"),V=U.r=A(Z,"width"),_=U.$=A(Z,"height");
U.Ge=Math.round(A(Z,"x-res"));var y=Z.children[0].children;J(y,U,{nJ:i,qQ:P,f2:null});console.log(Date.now()-w);
w=Date.now()}function J(X,U,w){for(var P=0;P<X.length;P++){var k=X[X.length-1-P],T=k.getAttribute("nodetype");
if(T=="transparencymask"){w.f2.T4=$(k,w);continue}var Z=k.getAttribute("compositeop"),i=k.getAttribute("filename"),V=k.getAttribute("channelflags"),_=k.children;
_=_.length==0?null:_[0].children;var y=U.JG();if(T=="paintlayer"){var E=A(k,"x"),F=A(k,"y"),d=w.qQ[w.nJ+"/layers/"+i+".defaultpixel"],x=w.qQ[w.nJ+"/layers/"+i],f=v(x);
y.S=f[0];y.S.offset(E,F);y.buffer=f[1];if(y.S.Sz()&&d.join()!="0,0,0,0"){y.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:d[0],k:d[1],X:d[2]})}};
y.k3(U)}}else if(T=="grouplayer"){y.add.lsct=cp.xj;y.QN="pass";y.a3|=24;U.U.push(U.eH());var Q=w.f2;
w.f2=y;J(_,U,w);w.f2=Q}else if(T=="shapelayer"){var x=w.qQ[w.nJ+"/layers/"+i+".shapelayer/content.svg"],m=e.A8(x),H=U.aZ(x,y.getName(),0,0);
y=H;var S=new fw(0,0,U.r,U.$),R=a.b.e3(S).L;y.add.SoLd.Trnf=L.tp.ey(R);y.add.SoLd.nonAffineTransform=L.tp.ey(R);
y.m8(U,!1)}else if(T=="clonelayer"){var g=-1;for(var D=0;D<X.length;D++)if(X[D].getAttribute("name")==k.getAttribute("clonefrom"))g=D;
if(g!=-1){J([X[g]],U,w);y=U.U.pop()}}else console.log(T,k);y.HV(k.getAttribute("name"));if(A(k,"locked")==1)y.add.lspf=1<<31;
y.Rz(A(k,"visible")==1);var G={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[Z];if(G)y.QN=G;
else console.log(Z);y.YF=A(k,"opacity");if(V=="1110")y.Bx=!0;var C=_?_[0]:null;if(C&&C.tagName=="mask")y.T4=$(C,w);
U.U.push(y)}}function p(X,U){var w=0,P=0,k=X.length,T,Z,i;while(w<k){T=X[w++];if(T>31){Z=T>>>5;if(Z==7)Z=7+X[w++];
i=(T&31)<<8|X[w++];var V=P-i-1,_=Z>>>1;U[P++]=U[V++];U[P++]=U[V++];for(var g=0;g<_;g++){U[P++]=U[V++];
U[P++]=U[V++]}if((Z&1)==1)U[P++]=U[V++]}else{for(var g=0;g<=T;g++){U[P++]=X[w++]}}}}function n(X,U){var w=0;
while(X[U+w]!=10)w++;return e.RM(X,U,w)}var B=new fw(0,0,64,64),c=new Uint8Array(64*64*4),t=new Uint8Array(64*64*4);
function u(){for(var g=0;g<4096;g++){var X=g<<2;c[X+0]=t[g+8192];c[X+1]=t[g+4096];c[X+2]=t[g];c[X+3]=t[g+12288]}}function v(X){var U=0,w={};
for(var g=0;g<5;g++){var P=n(X,U);U+=P.length+1;P=P.split(" ");w[P[0]]=parseInt(P[1])}var k=w.PIXELSIZE,T=[],Z=new fw;
while(U<X.length){var P=n(X,U),i=P.split(",");U+=P.length+1;if(i[2]!="LZF")throw i[2];B.x=parseInt(i[0]);
B.y=parseInt(i[1]);Z=Z.KQ(B);var V=parseInt(i[3]);T.push([B.P(),new Uint8Array(X.buffer,U+1,V-1)]);U+=V}var _=a.j(Z.C()*k);
for(var g=0;g<T.length;g++){var y=T[g];p(y[1],t);if(k==4){u();a.nk(c,y[0],_,Z)}else a._1(t,y[0],_,Z)}return[Z,_]}function A(X,U){return parseInt(X.getAttribute(U))}function $(X,U){var w=X.getAttribute("filename"),P=U.qQ[U.nJ+"/layers/"+w+".pixelselection"],k=v(P),T=new bi.L7;
T.v2=A(X,"visible")==1;T.S=k[0];T.N=k[1];return T}return{yi:z}}();kL.Ov={};kL.Ov.xG=!0;kL.Ov.uj=function(z,J){jh.yi(z,J)};
kL.do={};kL.do.uj=function(z){var J=new Uint8Array(z),p=kL.do.al(J,0,0),n=p.sub[2],B=kL.do.awd(J,n),c=p.sub[3],t=kL.do.awd(J,c);
return[B,t]};kL.do.awd=function(z,J){var p=J.sub[J.sub.length-1],n=p.sub[0].p,B=p.sub[1].p,c=z.slice(n,n+16),t=z.slice(B,B+p.sub[1].size),u=e.gm,v=z[n],A=u(z,n+1),$=u(z,n+5),X=z[n+13],U=new fw(0,0,A,$),w=a.j(A*$*4);
if(X){a.dz(w,4278190080)}else{UTEX.readBC1(z,B,w,A,$)}return{eE:U,data:w}};kL.do.al=function(z,J,p){var n=e.RM,B=e.gm,c=n(z,J,4);
c=c.split("").reverse().join("");var t=B(z,J+4);if(t!=0){console.log(z.slice(J-8));throw t}var u=B(z,J+8);
while((u&3)!=0)u++;var v={A_:c,p:J+12,size:u};if(c=="CARF"||c=="CTEX"||c=="CREW"||c=="BMAP"){v.sub=[];
J+=12;if(c=="CTEX"||c=="CREW")J+=32;var A=v.p+v.size;while(J<A){var $=kL.do.al(z,J,p+1);v.sub.push($);
J+=12+$.size+($.size&1)}}return v};kL.C$={};kL.C$.xG=!0;kL.C$.uj=function(z,J){cF.yi(z,J)};kL.F_={};
kL.F_.xG=!0;kL.F_.uj=function(z,J){dZ.yi(z,J)};kL.xi={};kL.xi.xG=!0;kL.xi.uj=function(z,J){fO.yi(z,J)};
kL.bq={};kL.bq.xG=!0;kL.bq.uj=function(z,J){jO.yi(z,J)};kL.aY={};kL.aY.xG=!0;kL.aY.uj=function(z,J){d$.yi(z,J)};
kL.wh={};kL.wh.xG=!0;kL.wh.D6=function(z,J,p,n,B,c){if(n==null)n={arst:!0,mini:!0};var t=bC.oW(z,{Ye:n.arst,hidden:n.ahid,aga:n.vtxt,aFg:n.rtxt,ZC:n.mini,aHB:J,aom:p},B.rf,c);
return t};kL.wh.uj=function(z,J,p){bC.yi(z,J,p)};kL.KF={};kL.KF.xG=!0;kL.KF.uj=function(z,J){var p=150,n=new fA(1,0,0,-1,0,0);
n.scale(p/72,p/72);J.Ge=p;var B=new b4(J,n,!0);FromPS.Parse(z,B)};kL.m0={};kL.m0.xG=!0;kL.m0.D6=function(z,J,p,n,B){if(n==null)n={pags:"",qual:100};
n.fmts=["jpg"];var c=new ToPDF;jr.oW(z,n,c,B.rf,J,p);return c.buffer};kL.m0.uj=function(z,J,p){var n=2;
while(!0){var B=n*72,c=new fA(1,0,0,-1,0,0);c.scale(B/72,B/72);J.Ge=B;var t=new b4(J,c,!0);FromPDF.Parse(z,t);
var u=Math.max(J.r,J.$);if(p&&u<Math.max(p[0],p[1])){J.U=[];var v=n;while(u*(n/v)<Math.max(p[0],p[1]))n++}else break}};
kL.Vj={};kL.Vj.xG=!0;kL.Vj.uj=function(z,J){var p=72,n=new fA(1,0,0,1,0,0);n.scale(p/72,p/72);J.Ge=p;
var B=new b4(J,n,!1);FromWMF.Parse(z,B)};kL._j={};kL._j.lf=!0;kL._j.xG=!0;kL._j.D6=function(z,J,p,n,B){if(n==null)n={pags:"",qual:100};
n.fmts=[];var c=new ToEMF;jr.oW(z,n,c,B.rf);return c.buffer};kL._j.uj=function(z,J){var p=72,n=new fA(1,0,0,1,0,0);
n.scale(p/72,p/72);J.Ge=p;var B=new b4(J,n,!1);FromEMF.Parse(z,B)};kL.sB={};kL.sB.xG=!0;kL.sB.uj=function(z,J){return fj.yi(z,J)};
kL.arX={};kL.arX.uj=function(){var z,J,p,n,B,c,t=0,u=0,v=0,A=0,$=0,i="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",V=null;
function X(_){var y=ef.yi(_),E=y.Sp,m=0,H,S;console.log(y);var F=new Uint8Array(_);if(E=="ILBM")return U(y,F);
if(E=="CIMG")return k(y,F);if(E=="ANIM"&&y.sub[0].A_=="ADAT")return Z(y,F);if(E!="ANIM")throw E;var d=e.Bq,x=e.fy,f=y.sub,Q=U(f[0],F);
for(var R=1;R<f.length-2;R++){var I=Q[Math.max(0,R-2)].a8g.slice(0),D=f[R];for(var G=0;G<D.sub.length;
G++){var C=D.sub[G],O=C.p;if(C.A_=="ANHD"){var Y=F[O++];if(Y!=5)throw Y;var n=F[O++],r=d(F,O),W=d(F,O+2);
if(r!=0&&r!=z)throw r;if(W!=0&&W!=J)throw W;var o=d(F,O+4),K=d(F,O+6);if(o!=0||K!=0)throw o;O+=8;var l=d(F,O);
O+=2;H=d(F,O);O+=2;if(F[O++]!=0)throw"e";if(F[O++]!=0)throw"e";S=d(F,O);O+=2}else if(C.A_=="DLTA"){var aV=[],j=O;
for(var g=0;g<16;g++)aV.push(x(F,O+g*4));O+=64;var M=c;for(var s=0;s<B;s++){if(aV[s]==0)continue;O=j+aV[s];
for(var l2=0;l2<M;l2++){var gm=F[O++],iz=0;if(gm==0)continue;for(var g=0;g<gm;g++){var dC=F[O++];if(dC==0){var dL=F[O++],cP=F[O++];
for(var id=0;id<dL;id++){I[(iz*B+s)*M+l2]=cP;iz++}}else if(dC<128){iz+=dC}else{dC-=128;for(var id=0;
id<dC;id++){I[(iz*B+s)*M+l2]=F[O+id];iz++}O+=dC}}}}}else console.log(C.A_)}if(R==1&&H>100)H=0;var jR=H==0?17:Math.round((H-m)*1e3/60);
Q.push({data:P(F,I).buffer,eE:new fw(0,0,z,J),a8g:I,IK:"_a_frm"+R+","+jR});m=H}if(v!=0&&z>J*2){var hC=new Uint32Array(z*J*2);
hC.fill(4294967295);for(var R=0;R<Q.length;R++){var eJ=Q[R],el=new Uint32Array(eJ.data);for(var iz=0;
iz<J;iz++){var eu=iz*2;for(var l2=0;l2<z;l2++)hC[eu*z+l2]=el[iz*z+l2];eu++;for(var l2=0;l2<z;l2++)hC[eu*z+l2]=el[iz*z+l2]}eJ.eE.$*=2;
eJ.data=hC.slice(0).buffer}}return Q}function U(_,y){var E,F,d;t=0;u=0;A=0;$=0;v=0;for(var x=0;x<_.sub.length;
x++){var f=_.sub[x],Q=f.p;if(f.A_=="BMHD"){var m=[];for(var g=0;g<4;g++)m[g]=e.Bq(y,Q+2*g);Q+=8;var H=m[2],S=m[3];
z=m[0];J=m[1];p=y[Q++];n=y[Q++];d=y[Q++];if(d!=0&&d!=1)throw d;c=z+15>>>4<<1;B=p+n}else if(f.A_=="CMAP")t=Q;
else if(f.A_=="CAMG"){var R=e.fy(y,Q);u=R&32768,v=R&4,A=R&2048;$=R&128}else if(f.A_=="BODY"){F=a.j(c*J*B);
if(d==0)F=y.slice(Q,Q+F.length);if(d==1)hD.xN(y,Q,f.size,F,0,F.length)}else if(f.A_=="PLTP"){console.log(y.slice(Q,Q+f.size))}}E=P(y,F);
return[{eE:new fw(0,0,z,J),data:E.buffer,a8g:F}]}function w(_,lj){return _[lj>>>3]>>>7-(lj&7)&1}function P(_,y){var E=p-2,F=(1<<E)-1,d=Math.round(255/F),x,f,Q,m=c*8;
if(t!=0){var H=1<<p,S=!0;for(var g=1;g<H;g++){var R=t+g*3;if(_[R]!=_[R-3]||_[R+1]!=_[R-2]||_[R+2]!=_[R-1]&&_[R+2]!=_[R-1]+1)S=!1}if(S){for(var g=0;
g<H;g++){var R=t+g*3,I=Math.round(g*255/(H-1));_[R]=_[R+1]=_[R+2]=I}}}var D=a.j(z*J*4);for(var G=0;G<J;
G++)for(var C=0;C<z;C++){var O=0;for(var Y=0;Y<B;Y++){var h=(G*B+Y)*m+C,r=w(y,h);O|=r<<Y}O=O&(1<<p)-1;
var g=G*z+C,W=g<<2;if(t!=0){if(A!=0&&O>>>E!=0){var N=O>>>E,o=(O&F)*d;if(N==1)Q=o;else if(N==2)x=o;else if(N==3)f=o}else{var o=t+O*3;
x=_[o+0];f=_[o+1];Q=_[o+2]}}else{if(p==24){x=O>>>0&255;f=O>>>8&255;Q=O>>>16&255}else if(p==16){var K=0,l=1,j=4;
for(var Y=0;Y<16;Y++)K+=(O>>>Y&1)<<15-Y;var aV=(1<<l)-1,M=(1<<j)-1;x=(K>>>7&aV)*(255/aV);f=Q=x}else throw p}D[W+0]=x;
D[W+1]=f;D[W+2]=Q;D[W+3]=255}return D}function k(_,y){var E=1,F=2,d=4,x=e.fy,f=e.Bq,z=200,J=200,Q,m,H,S;
for(var R=0;R<_.sub.length;R++){var I=_.sub[R],D=I.p;if(I.A_=="TBHD"){z=x(y,D);D+=4;J=x(y,D);D+=4;S=a.j(z*J*4);
H=new fw(0,0,z,J);D+=4;var G=x(y,D);D+=4;var C=f(y,D);D+=2;if(C!=0)throw"e";m=f(y,D);D+=2;var O=x(y,D);
D+=4;if(O!=1)throw O;Q=0;if(G&E)Q+=3;if(G&F)Q+=1}if(I.Sp=="TBMP"){var Y=I.sub;for(var h=0;h<Y.length;
h++){var r=Y[h].p,W=Y[h].size,N=f(y,r),o=f(y,r+2),K=f(y,r+4)-N+1,l=f(y,r+6)-o+1;r+=8;var aV=a.j(K*l*4),j=a.j(K*l);
aV.fill(255);for(var g=0;g<4;g++){r=T(y,r,W-8,j,0);a.DE(j,aV,3-g)}if(r!=Y[h].p+W)throw"e";a.nk(aV,new fw(N,o,K,l),S,H)}}}return[{eE:H,data:S.buffer}]}function T(_,y,E,F,d){var x=y;
while(d<F.length){var f=_[y++],j3=(f&127)+1;if(f&128){f=_[y++];for(var g=0;g<j3;++g)F[d++]=f}else{for(var g=0;
g<j3;++g)F[d++]=_[y++]}}return y}function Z(_,y){if(V==null){var E=kL.bQ(i);V=new Uint32Array(pako.inflate(new Uint8Array(E)).buffer)}var F=e.fy,d=e.Bq,x=_.sub[0],f=_.sub[1],z=d(y,x.p),J=d(y,x.p+2),Q=d(y,x.p+4),I,g,D,G,C,O;
if(Q!=3)throw Q;var m=new fw(0,0,z,J),H=a.j(z*J*4),S=a.j(z*J);H.fill(255);var R=new Uint32Array(H.buffer),Y=f.p;
for(G=0;G<2;G++){O=G;C=0;I=Math.floor((z*J+2-G-1)/2);while(I>0){g=y[Y++];if(g&128){g=257-g;I-=g;D=y[Y++];
C=C&V[D]|V[D+256];do{R[O]=C;O+=2}while(--g)}else{g++;I-=g;do{D=y[Y++];R[O]=C=C&V[D]|V[D+256];O+=2}while(--g)}}}for(var g=0;
g<H.length;g+=4){var h=H[g+3],r=H[g+2],W=H[g+1];H[g]=h;H[g+1]=r;H[g+2]=W;H[g+3]=255}for(var N=0;N<J>>>1;
N++){for(var o=0;o<z;o++){var g=N*z+o,D=(J-1-N)*z+o,K=R[g];R[g]=R[D];R[D]=K}}return[{eE:m,data:H.buffer}]}return X}();
kL.q8={};kL.q8.xG=!1;kL.q8.D6=function(z,J,p,n){var B=null,c=new Uint8Array(z[0][0]),t=2;if(n.ctoa&&z[0][4])B=z[0][4];
else if(a.hL(c)){B=[new Uint8Array(c.length>>>2)];a.Tm(c,B[0],3)}var u=B?!0:!1,v=u?4:3,A=new Uint8Array(J*p*v);
for(var $=0;$<p;$++)for(var X=0;X<J;X++){var U=$*J+X<<2,w=((p-$-1)*J+X)*v;A[w]=c[U+2];A[w+1]=c[U+1];
A[w+2]=c[U+0];if(u)A[w+3]=B[0][$*J+X]}if(!0){var P=A.length,k=0,T=new Uint8Array(P*2),Z=0,i=0,V=J*v;
while(i<P){var _=i,y=0,E=V*(Math.floor(i/V)+1);while(_<E&&y<128){var F=!0;for(var g=0;g<v;g++)F=F&A[i+g]==A[_+g];
if(!F)break;_+=v;y++}if(y==1){var d=1;while(d<128&&i+(d+1)*v<E){var F=!0,x=i+d*v;for(var g=0;g<v;g++)F=F&A[x+g]==A[x+v+g];
if(F)break;d++}T[Z++]=d-1;for(var f=0;f<d;f++)for(var g=0;g<v;g++)T[Z++]=A[i++]}else{T[Z++]=127+y;for(var g=0;
g<v;g++)T[Z+g]=A[i+g];Z+=v;i+=v*y;k+=y}}A=T.slice(0,Z);t+=8}var Q=new Uint8Array(18+A.length+26);Q[2]=t;
e.Zk(Q,12,J);e.Zk(Q,14,p);Q[16]=v*8;Q[17]=v==4?8:0;Q.set(A,18);e.CR(Q,18+A.length+8,"TRUEVISION-XFILE.");
return Q.buffer};kL.q8.uj=function(z){var J=new Uint8Array(z),p=0,n=J[0],B=J[1],c=J[2],t=J[4]*256+J[3],u=J[6]*256+J[5],v=J[7],A=J[9]*256+J[8],$=J[11]*256+J[10],X=J[13]*256+J[12],U=J[15]*256+J[14],w=J[16],P=J[17],k=P>>>4,T=e.RM(J,18,n),Z=a.j(X*U*4),p=18+n+(u*v>>>3),i=new Uint8Array(J.buffer,p);
if(c>3){var V=0,_=J,y=new Uint8Array(X*U*w>>>3),E=p,F=0,d=J.length,x=w>>>3;while(F<y.length){var lj=_[E];
E++;if(lj<128)for(var g=0;g<lj+1;g++){for(var f=0;f<x;f++){y[F]=_[E];F++;E++}}else{for(var g=0;g<lj-127;
g++){for(var f=0;f<x;f++){y[F]=_[E+f];F++}}E+=x}}c-=8;i=y;p=E}else p+=X*U*w>>>3;var Q=new Uint8Array(4),m=kL.q8.atG;
for(var H=0;H<U;H++)for(var S=0;S<X;S++){var R=(k&2)==0?(U-H-1)*X+S:H*X+S,I=H*X+S,D,G,C,O=255,Y=R*w>>>3;
if(c==1){var h=0;if(w==8)h=i[Y];else throw"e";m(J,18+n+t+(h*v>>>3),v,Q);D=Q[0];G=Q[1];C=Q[2];O=Q[3]}else if(c==2){m(i,Y,w,Q);
D=Q[0];G=Q[1];C=Q[2];O=Q[3]}else if(c==3){if(w==8)D=G=C=i[Y];else throw"e"}var r=I*4;Z[r]=D;Z[r+1]=G;
Z[r+2]=C;Z[r+3]=O}var Q={eE:new fw(0,0,X,U),data:Z.buffer,IK:T};if(a.hL(Z)){var W=a.j(X*U);a.Tm(Z,W,3);
a.o2(Z,1);Q.b8=[W]}return[Q]};kL.q8.atG=function(z,J,p,n){var B,c,t,u=255;if(p==24||p==32){t=z[J];c=z[J+1];
B=z[J+2];if(p==32)u=z[J+3]}else if(p==16){var v=z[J+1]<<8|z[J+0];B=v>>>10&31;c=v>>>5&31;t=v>>>0&31;B=Math.round(B*(255/31));
c=Math.round(c*(255/31));t=Math.round(t*(255/31))}else throw"e";n[0]=B;n[1]=c;n[2]=t;n[3]=u};kL.Fp=function(){var z=[],J=!1,p,n=null,B=50,c=10,X;
function t(P,k,T,Z){z.push([0,P,Z,T]);$()}async function u(P,k,T,Z){B=Z.qual;c=Z.smlr?5:10;return new Promise(function(i){z.push([1,P,k,T,i]);
$()})}function v(P){var k=z.shift();k[3](null,[P],k[2]);J=!1;$()}function A(){n=q.m("iframe");n.setAttribute("src","code/ext_formats/formatsLoader.html");
q.v(n,"display:none");window.addEventListener("message",w,!1);document.body.appendChild(n)}function $(){if(J||z.length==0)return;
J=!0;var P=z[0];if(P[0]==0&&kL.yd(P[1])=="avif"){kL.aC5(P[1],"image/avif",v)}else if(n==null)A();else U()}async function U(){var P=z[0],k;
if(P[0]==0){var T=P[1],Z=new Uint8Array(T),i=new Blob([T]);k={subject:"open",body:i};var V=e.ob(Z,"Exif\0\0MM");
p=null;if(V!=-1){var _=UTIF.decode(T.slice(V+6));p=l0.Ix(_[0])}}else{var y={fmt:"avif",speed:c,quality:B,nochroma:0,lossless:0},E=new ImageData(new Uint8ClampedArray(P[1][0][0]),P[2],P[3]);
k={subject:"save",body:E,prms:y}}X=Date.now();n.contentWindow.postMessage(k)}function w(P){var k=P.data,T=k.subject,Z=k.body;
console.log(k);if(T=="rdy"){J=!1;$()}else if(T=="img"){v({eE:new fw(0,0,Z.width,Z.height),data:Z.data.buffer,UD:p})}else if(T=="file"){console.log(Date.now()-X);
z[0][4](Z.buffer);J=!1;z.shift();$()}else console.log(k)}return{xG:!1,l6:!0,uj:t,D6:u}}();kL.aJj=function(){var z,J=[],p=10,u,v,A,$=0,X,U,w;
function n(V){var _=kL.yd(V);if(_=="mp4")return new cm(new Blob([V]));else return new gl(new Blob([V]))}async function B(V,_,y,E,F){z=y;
J.push(V,E);var d=n(V),x=(await d._Z()).Mf;console.log(x);var X=x.width,U=x.height,f=x.LZ,Q=f/x.Gs,m=f/Q,H=X+" \xD7 "+U+" px, "+f+" frames, "+hI.dB(X*U*4*f)+" decoded<br/>";
H+=Q.toFixed(2)+" seconds, "+m.toFixed(2)+" FPS";var S=new cD(b.E.c,!0);S.data={R:b.J.Ym,i9:"setFPS",PY:p,RD:c,as$:H};
F.a(S)}function c(V){p=Math.max(1,Math.min(60,V));var _=window.VideoDecoder;if(_)t();else P()}async function t(){var V=Date.now(),_=J.shift(),w=[],y=n(_),E=(await y._Z()).Mf,X=E.width,U=E.height,F=E.LZ,d=F/E.Gs,x=F/d,f=Math.min(x,p),Q=Math.max(1,Math.round(x/f));
for(var g=0;g<F;g++){if(g%Q!=0)continue;var m=await y.S6(0,g);w.push({IK:"_a_"+w.length+","+Math.round(1e3/f),eE:new fw(0,0,X,U),data:m.buffer})}z(null,w,J.shift());
if(J.length!=0)t()}function P(){if(J.length==0)return;u=document.createElement("canvas");v=u.getContext("2d");
A=document.createElement("video");var V="data:"+"video/mp4"+";base64,"+kL.Lk(J.shift());A.src=V;A.muted=!0;
A.currentTime=0;A.addEventListener("canplay",k,!1);A.addEventListener("timeupdate",T,!1)}function k(V){A.removeEventListener("canplay",k);
X=u.width=A.videoWidth;U=u.height=A.videoHeight;w=[];A.play()}function T(V){clearTimeout($);v.drawImage(A,0,0);
w.push({IK:"_a_"+w.length+","+Math.round(1e3/p),eE:new fw(0,0,X,U),data:v.getImageData(0,0,X,U).data.buffer});
var _=A.currentTime+1/p;if(_<A.duration&&V){A.currentTime=_;$=setTimeout(T,1e3)}else{z(null,w,J.shift());
A.removeEventListener("timeupdate",T);P();w=null}}function Z(){this.ea=new Uint8Array(1024);this.p=0}Z.prototype.write=function(V){var _=this.ea,y=this.p;
if(V instanceof ArrayBuffer)V=new Uint8Array(V);if(V instanceof Uint8Array){while(_.length<y+V.length){var E=new Uint8Array(_.length*2);
E.set(_);_=E}_.set(V,y);y+=V.length}else if(V.I=="write"){_.set(V.data,V.position)}else{console.log(V);
throw"e"}this.ea=_;this.p=y};Z.prototype.close=function(){this.ea=this.ea.slice(0,this.p)};async function i(V,X,U,_){var y=X,E=U;
if((X&1)!=0)X++;if((U&1)!=0)U++;var F=X!=y||U!=E,d=F?a.j(X*U*4):null,x={Mf:{W$:1,LZ:V.length,Gs:1e3/V[0][1],width:X,height:U}},f=new Z,Q=.02*(1+Math.pow(3.2*_.qual/100,2.3)),m=new fY(f,x,Q);
for(var g=0;g<V.length;g++){var H=V[g],S=new Uint8Array(H[0]),R=S;if(F){a.nk(S,new fw(0,0,y,E),d,new fw(0,0,X,U));
R=d}await m.a0f(R,0,g)}await m.finish();return f.ea.buffer}return{xG:!1,l6:!0,uj:B,D6:i}}();kL.Y6={};
kL.Y6.uj=function(z){var J=new Uint8Array(z),p=0,n=112,B=42,c=e.gm,$;p+=8;var t=J[p];p++;if(t!=B)throw"e";
var u=c(J,p);p+=4;var v=e.uv(J,p,u);p+=u*2;var A=[];while(p<J.length){$=c(J,p);p+=4;if($!=n)throw $;
p+=4;$=J[p];p++;if($!=B)throw $;var X=c(J,p);p+=4;var U=J[p];p++;if(U!=B){p-=5;X=c(J,p);p+=8;$=J[p];
p++;if($!=B)throw $}var w=c(J,p)*2;p+=4;if(X>0)A.push(p+w);p+=w+X}var P=new DOMParser,k=P.parseFromString(v,"image/svg+xml").firstChild.firstChild,T=[];
kL.Y6.aJC(k,J,A,T);return T};kL.Y6.aJC=function(z,J,p,n){var B=z.firstChild.firstChild;if(B.tagName=="Image"){var c=B.getElementsByTagName("ImageDescription")[0],t=c.children[0].children,u=c.children[1].children,v=p.shift(),A=[];
for(var g=0;g<u.length;g++)A.push(parseInt(u[g].getAttribute("NumberOfElements")));while(A.length>3)A[2]*=A.pop();
var $=t.length,X=A[0],U=A[1],w=A[2],P=parseInt(u[0].getAttribute("BytesInc"));for(var k=0;k<w;k++){var T=a.j(X*U*4);
T.fill(255);for(var Z=0;Z<$;Z++){var i=a.j(X*U);if(P==1)for(var V=0;V<i.length;V++)i[V]=J[v+V];else if(P==2)for(var V=0;
V<i.length;V++)i[V]=Math.min(255,(J[v+V*2+1]<<8|J[v+V*2])>>>2);else throw P;if(Z!=3)a.DE(i,T,Z);if($==1){a.DE(i,T,1);
a.DE(i,T,2)}v+=X*U*P}n.push({eE:new fw(0,0,X,U),data:T.buffer})}}else{var _=z.children,y=0;while(y<_.length&&_[y].tagName!="Children")y++;
if(y==_.length)throw"e";_=_[y].children;for(var E=0;E<_.length;E++)kL.Y6.aJC(_[E],J,p,n)}};kL.a0P=function(){function z(t,u,v,A,$){var X=new Int8Array(t.buffer),U=new Int8Array(A.buffer),w=u+v;
while(u<w){var lj=X[u];u++;if(lj>=0&&lj<128)for(var g=0;g<lj+1;g++){U[$]=X[u];$++;u++}if(lj>=-127&&lj<0){for(var g=0;
g<-lj+1;g++){U[$]=X[u];$++}u++}}return $}function J(t,u,v,A,$,X){var U=u*v*A>>>3,w=a.j(U*$),P=n(t,0,0,0)[0];
for(var k=0;k<$;k++){var T=P[k+1];if(X){var Z=kL.V5("jpg").uj(T.buffer),i=a.j(U);a.rz(new Uint8Array(Z[0].data),i);
w.set(i,U*k)}else if(T[0]==255&&T[1]==216&&T[2]==255){var V=UTIF.LosslessJpegDecode(T);w.set(new Uint8Array(V[0].buffer),U*k)}else z(T,64,T.length,w,U*k)}return w}function p(t){var u=new Uint8Array(t),v=0,A=e.RM(u,0,128);
v+=128;var $=e.RM(u,v,4);v+=4;var X=B(u,v,0)[0],U=X.g28;if(U==null){alert("No image.");return[]}var w=U.cols,P=U.rows,k=w*P,T=U.photoInterpret,Z=U.bitsAlloc,i=U.bitsStored,V=U.lossyCompr;
if(V==null)V=X.g8.lossyCompr;var _=X.g7fe0.pixelData,y=U.numOfFrames;y=y?parseInt(y):1;var E=new Uint8Array(_.buffer),F=k*Z>>>3;
if(E.length!=F*y){_=J(_,w,P,Z,y,V)}else{}if(Z==16)_=new Uint16Array(_.buffer);console.log(U);console.log(X);
var d=[];for(var x=0;x<y;x++){var f=x*F,t=a.j(w*P*4);t.fill(255);if(T=="MONOCHROME2"){var Q=0,m=255,H=U.largestValue,S=U.smallestValue;
if(H!=null){m=H;Q=S}else if(i!=8){m=0;Q=1e9;for(var g=0;g<k;g++){var R=_[f+g];if(R>1<<i-8){if(R>m)m=R;
if(R<Q)Q=R}}}var I=255/(m-Q);for(var g=0;g<k;g++){var R=Math.max(0,Math.min(255,(_[f+g]-Q)*I)),G=g*4;
t[G]=t[G+1]=t[G+2]=R}}else if(T=="PALETTE COLOR"){var C=U.pltRed,O=U.pltGreen,Y=U.pltBlue;for(var g=0;
g<k;g++){var h=_[f+g],G=g*4;t[G]=C[h]>>>8;t[G+1]=O[h]>>>8;t[G+2]=Y[h]>>>8}}else throw T;d.push({eE:new fw(0,0,w,P),data:t.buffer})}return d}function n(t,u,v,A){if(v==0)v=t.length;
var $=e.Ei,X=e._4,U=e.gm,w=[],P=u;while(u<v){var k=$(t,u);u+=2;var T=$(t,u);u+=2;var Z=U(t,u);u+=4;if(k==65534&&T==57344){if(Z==4294967295){var i=B(t,u,A+1);
w.push(i[0]);u=i[1]}else{w.push(t.slice(u,u+Z));u+=Z}}else if(k==65534&&T==57357){}else if(k==65534&&T==57565)break;
else throw"e"}return[w,u]}function B(t,u,v){var A=e.Ei,$=e._4,X=e.gm,U=e.qd,w={},P="\t".repeat(v);while(u<t.length){var k=A(t,u),V="",_=0,E=null;
u+=2;var T=A(t,u);u+=2;var Z=k.toString(16),i=T.toString(16);if(k==65532)break;if(k==65534&&T==57357){u-=4;
break}if(k==65534&&T==57565)throw"e";if(T==0){u+=8;continue}if(65<=t[u+1]){V=e.RM(t,u,2);u+=2;if(V=="OB"||V=="SQ"||V=="OW"){_=X(t,u+2);
u+=6}else{_=A(t,u);u+=2}}else{V=c[Z][i].split(",")[1];_=X(t,u);u+=4}var y=c[Z][i];if(y)y=y.split(",")[0];
if(y==null){y="t"+i}if(V=="SQ"){var F=n(t,u,u+_,v);E=F[0];u=F[1];_=0}else if(V=="US")E=A(t,u);else if(V=="SS")E=$(t,u);
else if(V=="UL")E=X(t,u);else if(V=="SL")E=U(t,u);else if(V=="FL")E=e.ZW(t,u);else if(V=="AT")E=[A(t,u),A(t,u+2)];
else if(V=="OB")E=t.slice(u,u+_);else if(V=="OW")E=new Uint16Array(t.slice(u,u+_).buffer);else if(V=="FD")E=new Float64Array(t.slice(u,u+_).buffer);
else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(V)!=-1){var d=u+_;while(t[d-1]==0)d--;
E=e.RM(t,u,d-u).trim()}else{console.log(P,JSON.stringify(e.RM(t,u,Math.min(_,32))));throw V}if(w["g"+Z]==null)w["g"+Z]={};
w["g"+Z][y]=E;u+=_}return[w,u]}var c={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"23":{},"25":{},"27":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"32":{},"37":{},"38":{},"40":{},"43":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{uj:p}}();kL.aJT={};kL.aJT.uj=function(z){var J=new Uint8Array(z),p=0,n={};for(var g=0;g<306;g++){var B=e.RM(J,p,8).trim(),c=e.RM(J,p+9,71).split("/")[0].trim();
n[B]=c;p+=80;if(B=="END"){p=Math.ceil(p/2880)*2880;break}}var t=parseInt(n.NAXIS1),u=parseInt(n.NAXIS2),v=t*u,A=parseInt(n.BITPIX),$=n.BZERO?parseInt(n.BZERO):0,X=n.NAXIS3?parseInt(n.NAXIS3):1,U=new Float32Array(z,p,z.byteLength-p>>>2),w=new Float32Array(v),P=a.j(v*4,16);
P.fill(65535);var k=a.j(v,16);for(var T=0;T<X;T++){var Z=1e9,i=-1e9;for(var g=0;g<v;g++){if(A==-32){var V=J[p+0];
J[p+0]=J[p+3];J[p+3]=V;var V=J[p+1];J[p+1]=J[p+2];J[p+2]=V;w[g]=U[g];p+=4}else if(A==16){w[g]=$+e.uf(J,p);
p+=2}else throw A;var _=w[g];if(_<Z)Z=_;if(_>i)i=_}var y=1/i;for(var E=0;E<u;E++)for(var F=0;F<t;F++){var g=E*t+F,d=(u-E-1)*t+F,_=w[g]*y;
k[g]=65535*_}if(X==1)a.eG(k,P);else a.DE(k,P,T)}return[{eE:new fw(0,0,t,u),data:P,IK:n.OBJECT,depth:16}]};
kL.Nh={};kL.Nh.uj=function(z){var J=new Uint8Array(z),p=16,n=e.RM(J,p,4),c=32,Z=0,i=0,V=!1,G;p+=4;var B=e.RM(J,p,8);
p+=8;while(J[p+c-1]==0)c--;var t=e.RM(J,p,c);p+=32;var u=e.RM(J,p,4);p+=4;p+=20;var v=e.fy(J,p);p+=4;
var A=e.fy(J,p);p+=4;var $=e.fy(J,p);p+=4;var X=e.fy(J,p);p+=4;var U=e.fy(J,p);p+=4;var w=e.fy(J,p);
p+=4;var P=t,k=[0,1,1,2];if(P=="X10"){P="FinePix X10";k=[2,1,1,0]}var T={t271:["FujiFilm"],t272:[P],t277:[1],t33421:[2,2],t33422:k,jq:1};
p=$;var _=[],y=e.Bq,E=e.fy(J,p);p+=4;for(var g=0;g<E;g++){var F=y(J,p);p+=2;var d=y(J,p);p+=2;if(F==256){i=y(J,p);
Z=y(J,p+2)}else if(F==272){_=[y(J,p),y(J,p+2)]}else if(F==273){_.push(y(J,p),y(J,p+2))}else if(F==304){V=!(J[p]>>>7)}else if(F==305){var x=Math.round(Math.sqrt(d)),f=[];
for(var Q=0;Q<d;Q++)f.push(J[p+Q]);f.reverse();T.t33421=[x,x];T.t33422=f}else if(F==12272){var m=y(J,p),H=y(J,p+2),S=y(J,p+6);
T.t50728=[m/H,1,m/S]}p+=d}var R=Z<i,I=J.slice(U,U+w),D=Math.round(w*8/(Z*i));if(I[0]==73&&I[1]==73&&I[2]==42){G=UTIF.decode(I.buffer)[0].fujiIFD;
D=G.t61443[0];var C=G.t61454,O=G.t61450;if(O)T.t50714=O;if(C)T.t50728=[C[0]/C[1],1,C[0]/C[2]];var Y=G.t61447[0];
I=I.slice(Y,Y+G.t61448[0])}var w=I.length,h=w*8<Z*i*D;if(h){console.log("compressed");var r=T.t33422,W=~~Math.sqrt(r.length),N=[];
for(var g=0;g<W;g++)N[g]=r.slice(g*W,g*W+W);I=new Uint8Array(UTIF._decompressRAF(I,N).buffer);w=I.length}function o(M,s,l2){l2=l2<<8-(s&7);
var gm=s>>>3;M[gm]|=l2>>>16;M[gm+1]|=l2>>>8;M[gm+2]|=l2}var K=w*8/(Z*i);if(K==16)for(var g=0;g<w;g+=2){var l=I[g];
I[g]=I[g+1];I[g+1]=l}else if(K==14){for(var g=0;g<w;g+=4){var l=I[g];I[g]=I[g+3];I[g+3]=l;l=I[g+1];I[g+1]=I[g+2];
I[g+2]=l}}else if(K==12)for(var g=0;g<w;g+=3){var aV=I[g+2]<<16|I[g+1]<<8|I[g+0];aV=aV>>>12|(aV&4095)<<12;
I[g]=aV>>>16&255;I[g+1]=aV>>>8&255;I[g+2]=aV&255}if(R)I=kL.Nh.azs(I,Z,i);var j=R?2:1;Z*=j;T.t256=[Z];
T.t257=[i];T.t258=[D];T.t50719=[_[1],_[0]*j];T.t50720=[_[3],_[2]*j];T.width=Z;T.height=i;T.data=new Uint8Array(I.buffer);
return[T]};kL.Nh.azs=function(z,J,p){z=new Uint16Array(z.buffer);var n=new Uint16Array(J*p*2);for(var B=0;
B<p;B+=2)for(var c=0;c<J;c++){var t=B*J+c,u=t*2,v=z[t],A=z[t+J];n[u+1]=n[u+2*J]=A;if(((B>>>1)+c&1)==0){n[u]=v;
n[u+2*J+1]=z[t+1]}else{n[u]=z[t-1];n[u+2*J+1]=v}}return n};kL.Nl={};kL.Nl.a7m=function(z,J,p){p=p<<8-(J&7);
var n=J>>>3;z[n]|=p>>>16;z[n+1]|=p>>>8;z[n+2]|=p};kL.Nl.l6=!0;kL.Nl.uj=async function(z,J,p,n){var B=new Uint8Array(z),c=0,t=Date.now(),u=await gc.yi(new Blob([z])),v=u.moov.uuid[0],A=new CR3Parser(z),$=A.getTrack().meta,X=v.CMT1[0],U=X.t256[0]=$.width,w=X.t257[0]=$.height,P=U*w,k=X.exifIFD=v.CMT2[0],T=k.makerNote=v.CMT3[0],Z=u.moov.trak[3].mdia.minf.stbl,i=Z.co64[0],V=B.slice(i,i+Z.stsz[0]),_=0;
while(_<V.length){var y=e.gm(V,_);_+=4;var E=e.Ei(V,_);_+=2;var F=V[_]==1;_+=2;_+=4;if(E==8||E==9){var d=UTIF.decode(V.slice(_+8,_+y-12).buffer)[0];
for(var x in d)T[x]=d[x]}_+=y-12}X.t277=[1];X.t33421=[2,2];X.t33422=[0,1,1,2];X.jq=1;if(X.t274)X.jq=X.t274[0];
var f=A.extractCFA(),Q=$.bitDepth;if(Q!=14)throw"e";X.t258=[Q];var m=new Uint8Array(Math.ceil(P*Q/8)),H=16-Q;
for(var g=0;g<P;g++)kL.Nl.a7m(m,g*14,f[g]<<H);X.width=U;X.height=w;X.data=m;p(null,[X],n)};kL.m2={};
kL.m2.lf=!0;kL.m2.D6=function(z,J,p,n){var B=new Uint8Array(z[0][0]),c=J*p,t=[1,3,4][n.cnum],u=8+8*n.dpth,v=n.endi;
if(t==1){var A=new Uint8Array(J*p);a.Tm(B,A,0);B=A}if(t==3){var A=new Uint8Array(J*p*3);for(var g=0;
g<c;g++){var $=g*4,X=g*3;A[X]=B[$];A[X+1]=B[$+1];A[X+2]=B[$+2]}B=A}if(u==16){var U=B.length,A=new Uint8Array(U*2);
for(var g=0;g<U;g++){var w=Math.round(B[g]*(65535/255));A[g*2+v]=w>>>8;A[g*2+1-v]=w&255}B=A}return B.buffer};
kL.VC={};kL.VC.uj=function(z){if(z.buffer)z=z.buffer;var J=new Uint8Array(z),p=4,n=e.gm(J,p);p+=4;var B={};
p=kL.VC.Xe(J,p,B);var c=B.compression,t=B.channels,u=t.length,v=Date.now();if(c==3&&u>4){var A=B.dataWindow,$=A[2]+1,X=A[3]+1,U=[];
for(var w=0;w<X;w+=16){var P=e.gm(J,p+U.length*8);U.push(P)}function k(l,H){var S=0,lj=l.length>>>1;
for(var g=0;g<l.length;g+=2){H[g]=l[S++];H[g+1]=l[lj++]}}var T=[],Z={},i=[];for(var g=0;g<t.length;g++){var V=t[g],_=V[0];
if(_.indexOf(".")==-1)_="main."+_;var y=_.split(".");while(y.length>2)y[0]=y.shift()+"_"+y[0];var E=y[0],F=y[1];
if(Z[E]==null){Z[E]=T.length;var d=a.j($*X*4,32);T.push(d);d.fill(255)}i.push([Z[E],{R:0,G:1,B:2,A:3}[F]])}for(var g=0;
g<U.length;g++){var x=U[g],w=e.gm(J,x),m;x+=4;var f=g==U.length-1?X-w:16,Q=e.gm(J,x);x+=4;if(c==3){var m=new Uint8Array(f*$*u*4);
UZIP.inflateRaw(J.slice(x+2,x+Q),m);for(var H=1;H<m.length;H++){var S=m[H-1]+m[H]-128;m[H]=S}var R=new Uint8Array(m.length);
k(m,R);m=new Float32Array(R.buffer)}for(var I=0;I<u;I++){var D=i[I],G=T[D[0]],C=D[1];for(var O=0;O<f;
O++){for(var Y=0;Y<$;Y++){var h=((O+w)*$+Y)*4;G[h+C]=m[O*(u*$)+I*$+Y]}}}}var r=[];for(var _ in Z){r.push({eE:new fw(0,0,$,X),data:T[Z[_]].buffer,depth:32,fc:kL.r7.get("icc/srgb_lin"),IK:_})}return r.reverse()}else{function W(X){var l=(X&32768)>>15,aV=(X&31744)>>10,j=X&1023;
if(aV===0)return(l?-1:1)*2**-14*(j/2**10);if(aV===31)return j?NaN:(l?-1:1)*Infinity;return(l?-1:1)*2**(aV-15)*(1+j/2**10)}var N=B.channels[0][1],o=EXRLoader.parse(z,1015),$=o.width,X=o.height,G=a.j($*X*4,32);
for(var O=0;O<X;O++)for(var Y=0;Y<$;Y++){var g=(O*$+Y)*4,K=((X-O-1)*$+Y)*4;G[g]=o.data[K+0];G[g+1]=o.data[K+1];
G[g+2]=o.data[K+2];G[g+3]=o.data[K+3]}return[{eE:new fw(0,0,$,X),data:G.buffer,depth:32,fc:kL.r7.get("icc/srgb_lin")}]}};
kL.VC.D6=function(z,J,p,n,B){if(B==null){B={compression:3,channels:[["A",2,0,1,1],["B",2,0,1,1],["G",2,0,1,1],["R",2,0,1,1]]};
B.dataWindow=B.displayWindow=[0,0,J-1,p-1]}var c=z[0],t,u=Math.floor(c[0].byteLength/(J*p*4))*8,$=0,d=0;
if(u==32)t=new Float32Array(c[0]);if(u==16)t=a.hg(new Uint16Array(c[0]),32);if(u==8)t=a.hg(new Uint8Array(c[0]),32);
if(u==8||u==16){var v=a.Wg;for(var g=0;g<t.length;g+=4){t[g]=v(t[g]);t[g+1]=v(t[g+1]);t[g+2]=v(t[g+2])}}var A=new Uint8Array(5e3);
e.Nx(A,$,20000630);$+=4;e.Nx(A,$,2);$+=4;$=kL.VC.ew(A,$,B);function X(H,y){var E=0,lj=H.length>>>1;for(var g=0;
g<H.length;g+=2){H[E++]=y[g];H[lj++]=y[g+1]}}var U=[];for(var w=0;w<p;w+=16){var P=Math.min(16,p-w),k=new Float32Array(P*J*4);
for(var T=0;T<4;T++)for(var Z=0;Z<P;Z++)for(var i=0;i<J;i++){var V=((Z+w)*J+i)*4;k[Z*(4*J)+T*J+i]=t[V+(3-T)]}var _=new Uint8Array(k.buffer);
k=new Uint8Array(_.length);X(k,_);for(var y=k.length-1;y>0;y--){var E=k[y]-k[y-1]+128;k[y]=E}var F=UZIP.deflate(k);
U.push(F)}for(var g=0;g<U.length;g++)d+=U[g].length;var x=$+U.length*16+d,f=A;A=new Uint8Array(x);A.set(f,0);
var Q=$+U.length*8;for(var g=0;g<U.length;g++){e.Nx(A,$,Q);$+=8;Q+=8+U[g].length}for(var g=0;g<U.length;
g++){var m=U[g];e.Nx(A,$,g*16);$+=4;e.Nx(A,$,m.length);$+=4;A.set(m,$);$+=m.length}return A};kL.VC.ew=function(z,J,p){var n={"Exif:ImageHistory":"string",Software:"string",capDate:"string",channels:"chlist",screenWindowCenter:"v2f",dataWindow:"box2i",displayWindow:"box2i",pixelAspectRatio:"float",screenWindowWidth:"float"},B=e.CR,c=e.Nx,t=e.wn;
for(var u in p){var v=n[u],A=p[u],$=0;if(v==null)v=u;B(z,J,u);J+=u.length+1;B(z,J,v);J+=v.length+1;var X=J;
J+=4;if(v=="box2i"){for(var g=0;g<4;g++)c(z,J+g*4,A[g]);$=16}else if(v=="float"){t(z,J,A);$=4}else if(v=="v2f"){for(var g=0;
g<2;g++)t(z,J+g*4,A[g]);$=8}else if(v=="string"){B(z,J,A);$=A.length}else if(v=="chlist"){var U=J;for(var g=0;
g<A.length;g++){var w=A[g];B(z,U,w[0]);U+=w[0].length+1;c(z,U,w[1]);U+=4;c(z,U,w[2]);U+=4;c(z,U,w[3]);
U+=4;c(z,U,w[4]);U+=4}$=U-J+1}else{z[J]=A;$=1}c(z,X,$);J+=$}J++;return J};kL.VC.Xe=function(z,J,p){function n(P,k){var T=k;
while(P[T]!=0)T++;return T-k}while(z[J]!=0){var B=e.RM(z,J,n(z,J));J+=B.length+1;var c=e.RM(z,J,n(z,J));
J+=c.length+1;var t=e.gm(z,J);J+=4;var u=z.slice(J,J+t);if(t==1)u=z[J];else if(c=="box2i"){u=[];for(var g=0;
g<4;g++)u.push(e.qd(z,J+4*g))}else if(c=="float")u=e.ZW(z,J);else if(c=="v2f"){u=[];for(var g=0;g<2;
g++)u.push(e.ZW(z,J+4*g))}else if(c=="chlist"){var v=J;u=[];while(z[v]!=0){var A=e.RM(z,v,n(z,v));v+=A.length+1;
var $=e.gm(z,v);v+=4;var X=z[v];v++;v+=3;var U=e.gm(z,v);v+=4;var w=e.gm(z,v);v+=4;u.push([A,$,X,U,w])}}else if(c=="string"){u=e.RM(u,0,u.length)}else console.log("-----",c);
p[B]=u;J+=t}return J+1};kL.Ed={};kL.Ed.uj=function(z,J){var p=new Uint8Array(z),n=0,B=[],c,t,u;while(!0){var v=n;
while(p[v]!=10&&v-n<80&&p[v]<128)v++;if(p[v]!=10)break;var A=e.RM(p,n,v-n);if(A.startsWith("-Y")){var $=A.split(" ");
t=parseInt($[1]);c=parseInt($[3]);u=a.j(c*t*4)}n=v+1}var X=Date.now();kL.Ed.aqH(p,u,n,c,t);var U=new Float32Array(c*t*4),w=[];
for(var g=0;g<256;g++)w[g]=1/255*Math.pow(2,g-128);for(var g=0;g<c*t;g++){var P=g*4,k=u[P+3];if(k!=0){var T=w[k];
U[P]=(u[P+0]+.5)*T;U[P+1]=(u[P+1]+.5)*T;U[P+2]=(u[P+2]+.5)*T}U[P+3]=1}return[{eE:new fw(0,0,c,t),data:U.buffer,depth:32,fc:kL.r7.get("icc/srgb_lin")}]};
kL.Ed.aqH=function(z,J,p,n,B){var c=new Int8Array(z.buffer);for(var t=0;t<B;t++){var u=t*n,v=c[p],A=c[p+1],$=c[p+2];
p+=4;if(v==2&&A==2&&$>=0){for(var X=0;X<4;X++){var U=u,w=0;while(w<n){var P=z[p];p++;if(P<=128){for(var g=0;
g<P;g++){J[X+U*4]=z[p];p++;U++}}else{var k=z[p];p++;P-=128;for(g=0;g<P;g++){J[X+U*4]=k;U++}}w+=P}}}else{var U=u;
for(var w=0;w<n;w++){var v=0,A=0,$=0,T=0;if(w>0){v=c[p];A=c[p+1];$=c[p+2];T=c[p+3];p+=4}if(v==1&&A==1&&$==1){console.log("doing a run");
var P=T&255,Z=J[(U-1)*4],i=J[(U-1)*4+1],V=J[(U-1)*4+2],_=J[(U-1)*4+3];for(g=0;g<P;g++){J[U*4+0]=Z;J[U*4+1]=i;
J[U*4+2]=V;J[U*4+3]=_;U+=1}w+=P-1}else{J[U*4+0]=z[p-4];J[U*4+1]=z[p-3];J[U*4+2]=z[p-2];J[U*4+3]=z[p-1];
U+=1}}}}};kL.mj={};kL.mj.lf=!0;kL.mj.xG=!0;kL.mj.D6=function(z,J,p,n,B){n={pags:"",qual:100};n.fmts=["jpg"];
var c=new ToDXF;jr.oW(z,n,c,B.rf);return c.buffer};kL.mj.uj=function(z,J){var p=72,n=new fA(1,0,0,1,0,0);
n.scale(p/72,p/72);J.Ge=p;var B=new b4(J,n,!1);FromDXF.Parse(z,B)};kL.aeM={};kL.aeM.uj=function(){var z=e.Ei,J=e.gm,p=e.RM,n;
function B(t,u,v,A,$){var X=J(t,v),U=J(t,v+4),w=J(t,v+8),P=z(t,v+12),k=z(t,v+14);v+=16;var T={};for(var g=0;
g<P+k;g++){var Z=J(t,v),i=J(t,v+4),V,_;if(Z>>>31==1){Z=Z&16777215}if(g<P)V=e.uv(t,u+Z+2,z(t,u+Z));else V="id"+Z;
var y=A.slice(0);y.push(V);if(i>>>31==1){i=i&268435455;_=B(t,u,u+i,y,$)}else{var E=J(t,u+i),F=J(t,u+i+4),d=J(t,u+i+8),x=J(t,u+i+12);
if(x!=0)throw"e";if(E<$[0]||E>$[0]+$[1])throw"e";var f=$[2]+E-$[0];_=t.slice(f,f+F);var Q=kL.yd(_.buffer);
if(Q&&["bmp","png","ico"].indexOf(Q)!=-1){var m=kL.V5(Q);if(!m.xG){var H=null;try{H=m.uj(_.buffer)}catch(l5){}if(H){H[0].IK=y[1];
n.push(H[0])}}}else if(Q)console.log(Q)}T[V]=_;v+=8}return T}function c(t){n=[];var u=new Uint8Array(t),v=0,A=z(u,v);
v+=2;v+=58;var $=J(u,v);v+=4;v=$;var X=p(u,v,4);v+=4;var U=z(u,v);v+=2;var w=z(u,v);v+=2;var P=J(u,v);
v+=4;var k=J(u,v);v+=4;var T=J(u,v);v+=4;var Z=z(u,v);v+=2;var i=z(u,v);v+=2;v+=Z;var V={};for(var g=0;
g<w;g++){var _=v;while(u[_]!=0)_++;var y=p(u,v,_-v),E=J(u,v+8),F=J(u,v+12),d=J(u,v+16),x=J(u,v+20),f=J(u,v+24),Q=J(u,v+28),m=z(u,v+32),H=z(u,v+34),i=J(u,v+36);
V[y]=[F,E,x,d,i];if(f+Q!=0)throw"e";v+=40}for(var S in V){var R=V[S];v=R[2];if(S==".rsrc"){var I=B(u,v,v,[],R),D="id134"}}return n}return c}();
kL.ox={};kL.ox.xG=!0;kL.ox.uj=function(z,J,p){if(p&&p.length!=2)p=null;gr.yi(z,J,p)};kL.ox.D6=function(z,J,p){return gr.oW(z)};
(function(){var z=kL.r7.get("wasm/zstd").buffer;WebAssembly.instantiate(z).then(function(J){var p=J.instance.exports;
kL.ox.ayo=p})}());kL.ox.B1=function(z,J){var p=kL.ox.ayo,n=z.length,B=p.memory,c=2*n+1e6,v=4;kL.fZ(p,c);
var t=new Uint8Array(B.buffer),u=p.malloc(n);t.set(z,u);while(!0){var A=J==null?n*v:J,$=kL.fZ(p,c+A);
if($!=0){alert("This file is too bif for your browser (WASM memory grow breaks at "+hI.dB($)+")",5e3);
return null}var X=p.malloc(A),U=p.ZSTD_decompress(X,A,u,n);if(U==-70){p.free(X);v+=v>>>1;if(J!=null)throw"error"}else{t=new Uint8Array(B.buffer);
z=t.slice(X,X+U);p.free(X);break}}p.free(u);return z};kL.kr={};kL.kr.xG=!0;kL.kr.uj=function(){var z=0,J=1,p=2,n=3,B=4,c=5,t=6,u=7,v=1,A=2,$=7,X=8,U=9,w,P,k,T,Z;
function i(){var lj=e.qd(w,P);P+=4;return lj}function V(){var G=0,C=0;for(var g=0;g<5;g++){var O=w[P++];
G+=(O&127)<<C;C+=7;if((O&128)==0)break}return G}function _(){var G=V(),C=e.A8(w,P,G);P+=G;return C}function y(){return{typeName:_(),agD:i()}}function E(){var G=i(),C=_(),O=[],Y=i();
for(var g=0;g<Y;g++)O.push([_()]);return{id:G,y0:C,a4D:O}}function F(G){var C=G.a4D,O=[];for(var g=0;
g<C.length;g++)C[g].push(w[P++]);for(var g=0;g<C.length;g++){var Y=C[g][1],h;C[g].push(d(Y))}}function d(G){var C;
if(G==z)C=w[P++];else if(G==n)C=_();else if(G==B)C=y();else if(G==J||G==p||G==t||G==c){}else throw G;
return C}function x(G,C,O){var Y;if(G==z){if(C==v)Y=w[P++]==1;else if(C==A){Y=w[P++]}else if(C==X)Y=i();
else if(C==U){Y=i();i()}else throw C}else if(G==n){Y=H(O+1)}else if(G==B){Y=H(O+1)}else if(G==c){Y=H(O+1)}else if(G==J){Y=H(O+1)}else if(G==t){Y=H(O+1)}else if(G==p){Y=H(O+1)}else throw G;
return Y}function f(G,C){var O=k["c"+G],Y=O.a4D,h={_class:O.y0};for(var g=0;g<Y.length;g++){var r=Y[g],W=r[1],N=r[2],o=x(W,N,C),K=r[0];
h[K]=o}return h}function Q(G,C,O,Y){var h=[];for(var g=0;g<G;g++){var r=x(C,O,Y);if(r.t&&r.t=="null_count"){var W=r.Mf;
for(var N=0;N<W;N++)h.push(null);g+=W-1}else h.push(r)}return h}function m(){return[i(),i()]}function H(G){if(G==null)throw"e";
var C=null,O=w[P],Y=null;P++;if(O==0){var h=i(),r=i(),W=i(),N=i();C=[h,r,W,N]}else if(O==1){Y=i();var o=i();
C=f(o,G)}else if(O==4){var K=E();Y=K.id;F(K);k["c"+K.id]=K;C=f(K.id,G)}else if(O==5){var K=E();Y=K.id;
F(K);var l=i();k["c"+K.id]=K;C=f(K.id,G)}else if(O==6){Y=i();var aV=_();C=aV}else if(O==7){Y=i();var j=w[P++];
if(j!=0)throw j;var M=i();if(M!=1)throw M;var s=i(),l2=w[P++],gm=d(l2);C=Q(s,l2,gm,G)}else if(O==9){var iz=i();
C={t:"ref",Mf:iz};Z["o"+iz]=!0}else if(O==10){C={t:"null_count",Mf:1}}else if(O==11){C={t:"end"}}else if(O==12){var l=i(),dC=_()}else if(O==13){var dL=w[P++];
C={t:"null_count",Mf:dL}}else if(O==16){var cP=m();Y=cP[0];C=Q(cP[1],B,null,G)}else if(O==17){var cP=m();
Y=cP[0];C=Q(cP[1],J,null,G)}else throw"e";if(Y!=null&&Y>0){if(T["o"+Y]!=null)throw"e";T["o"+Y]=C}return C}function S(G,T){if(G instanceof Array){for(var g=0;
g<G.length;g++)G[g]=R(G[g],T)}else if(G instanceof Object){for(var C in G)G[C]=R(G[C],T)}}function R(G,T){if(G&&G.t&&G.t=="ref")return T["o"+G.Mf];
else return G}function I(G,C,O){var Y=Date.now();w=new Uint8Array(G);P=0;k={};T={};Z={};var h=e.RM(w,0,4);
if(h!="PDN3")throw h;P+=4;var r=e.Ei(w,P)+w[P+2]*256*256;P+=3;var W=e.RM(w,P,r);P+=r;P+=2;while(!0){var N=H(0);
if(N&&N.t&&N.t=="end")break}for(var o in Z)if(T[o]==null)throw o;for(var o in T)S(T[o],T);var K=T.o1;
console.log(K);C.r=K.width;C.$=K.height;C.buffer=a.j(C.r*C.$*4);var l=K.layers["ArrayList+_items"];for(var g=0;
g<l.length;g++){var aV=l[g];if(aV==null)continue;var j=aV["Layer+width"],M=aV["Layer+height"],s=aV["Layer+properties"],l2=aV.properties,gm=l2.blendOp._class.split("+").pop();
gm=gm.slice(0,gm.length-7);var iz={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[gm],dC=C.JG();
dC.HV(s.name);dC.YF=s.opacity;dC.Rz(s.visible);dC.QN=iz;if(w[P]!=0)throw"e";P++;var dL=e.fy(w,P);P+=4;
var cP=Math.ceil(j*M*4/dL);dC.S=new fw(0,0,j,M);var id=dC.buffer=a.j(j*M*4);for(var jR=0;jR<cP&&P<w.length;
jR++){var hC=D();id.set(hC[1],hC[0]*dL)}for(var eJ=0;eJ<id.length;eJ+=4){var el=id[eJ+0];id[eJ+0]=id[eJ+2];
id[eJ+2]=el}C.U.push(dC)}}function D(){var G=e.fy(w,P);P+=4;var C=e.fy(w,P);P+=4;P+=10;C-=10;var O=pako.inflateRaw(w.slice(P,P+C));
P+=C;return[G,O]}return I}();kL.yr={};kL.yr.xG=!0;kL.yr.uj=function(z,J){li.yi(z,J)};kL.WO={};kL.WO.xG=!0;
kL.WO.uj=function(){var z,J,T=null,F,d;function p(){var I=z[J];J+=1;return I}function n(){var I=e.Bq(z,J);
J+=2;return I}function B(){var I=e.fy(z,J);J+=4;return I}function c(){var I=e.lz(z,J);J+=4;return I}function t(){var I=e.LD(z,J);
J+=8;return I}function u(){var I=B();if(I>200)throw I;var D=e.J5(z,J,I);J+=I*2;return D}function v(){var I=e.U0(z,J);
J+=8;return I}function A(){var I=e.Lb(z,J);J+=4;return I}function $(){var I=B();if(B()!=4)throw"e";var D=[];
for(var g=0;g<I;g++)D.push(B());return D}function X(I,D,G){for(var g=0;g<I.length;g++)if(I[g][D]==G)return I[g]}function U(I,D){var G=Date.now();
z=new Uint8Array(I);J=e.ob(z,"CH"+"NK"+"SQ"+"Li")+8;var C=t(),O=cl.parse(z.buffer.slice(J,J+C)),Y=cl.aLd(O,!0);
console.log(Y);var h=Y.Canvas[0],r=h.Width,W=h.Height,N=h.Unit,o=D.Ge=h.Resolution;if(N==0){}else if(N==1){r=Math.round(r*o/2.54);
W=Math.round(W*o/2.54)}else if(N==2){r=Math.round(r*o/25.4);W=Math.round(W*o/25.4)}else if(N==3){r=Math.round(r*o);
W=Math.round(W*o)}else if(N==5){r=Math.round(r*o/72);W=Math.round(W*o/72)}else{console.log(h);throw N}D.r=r;
D.$=W;D.buffer=a.j(r*W*4);console.log(Date.now()-G);var K=X(Y.Layer,"MainId",h.RootFolder);m(Y,z,D,K.FirstChildIndex,0);
console.log(Date.now()-G)}function w(){var I=e.Ei(z,J);J+=2;return I}function P(){var I=e.gm(z,J);J+=4;
return I}function k(){var I=e.qd(z,J);J+=4;return I}function Z(I){var D={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},C=0;
z=I;J=0;var G={};while(J<z.length){var O=P(),Y=P(),h=J+Y;if(Y==0)continue;var r=[];if(O==11){var W=P();
for(var N=0;N<W;N++){var o=[P(),P()];r.push(o);C+=o[1];var K=J+P()-4;o.push(w(),w(),w(),w());o.push(e.L6(z,J));
J+=8;var l=w();o.push(e.uv(z,J,l));J+=l*2;if(J!=K)throw"e"}}else if(O==31){r=e.A8(z,J,Y);J+=Y}else if(O==34)for(var g=0;
g<3;g++)r.push(P()>>>16);else if(O==42)for(var g=0;g<4;g++)r.push(k());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(O)!=-1){if(Y!=4)throw"e";
r=P();if([37,45,46,51,53,55,61,62].indexOf(O)!=-1){J=h;continue}}else if(O==47){var aV=w();if(P()!=50)throw"e";
if(P()!=0)throw"e";var j=w();r=e.RM(z,J,j);J+=j}else if(O==57){var W=w();for(var g=0;g<W;g++){var M=w(),s=e.RM(z,J,M);
J+=M;var l2=w(),gm=e.RM(z,J,l2);J+=l2;r.push([s,gm])}if(J<h){var iz=P();for(var g=0;g<W;g++)r[g].push(iz)}}else if(O==39||O==63)r.push(P(),P());
else if(O==64){for(var g=0;g<8;g++)r.push(e.qd(z,J+g*4)/100);J+=32}else{r=z.slice(J,h);J+=Y}var dC=D[O];
if(dC==null)dC="t"+O;if(G[dC])throw"e";G[dC]=r;if(J!=h)throw O}if(T){}T=G;return G}function i(I){z=I;
J=0;var D=B();if(D!=I.length)throw"e";var G=B(),C=u(),O=B(),Y=v(),h=[B()/4294967295,B()/4294967295,B()/4294967295];
return[O,Y,h]}function V(I,D){function G(){var ez=[];for(var g=0;g<4;g++)ez.push(e.lz(z,J+g*4));J+=16;
return ez}function C(lj){var ez=[];for(var g=0;g<lj;g++)ez.push(A());return ez}function O(ez){var g4="";
for(var g=J;g<ez;g+=4)g4+=z.slice(g,g+4).join(", ")+"\n";return g4}z=I;J=D+8;var Y=t(),h=J+Y;J+=56;if(J==h)return;
var r=[],W=[],N=[],o=[],K=[];while(J<h){var l=B(),id=1;if(l!=88&&l!=92&&l!=96&&l!=100)throw l;var aV=B();
if(aV!=72&&aV!=76)throw aV;var j=B();if(j!=88&&j!=104&&j!=120)throw j;var M=B();if(M!=88)throw M;var s=B(),l2=B(),gm=G(),iz=[];
N.push(iz);for(var g=0;g<6;g++){iz.push(_(B()))}var dC=v();if(aV==76)B();var dL=B();if((l2&1)==0){console.log("8 extra bytes");
B();dL=B()}var cP=v();o.push(cP);var jR=B(),hC=(l2&256)!=0,eJ=[],el=[],eu={88:1,104:2,120:3}[j];for(var g=0;
g<s;g++){var jY=g==0?1:eu;for(var fN=0;fN<jY;fN++)eJ.push(v(),v());el.push(jY==1?g==0?"M":"L":jY==2?"Q":"C");
var jC=G(),kF=B();id=A();var i6=C(10),kT=B(),kY=B()}K.push(id);if(j==104){var h9=v(),bG=v();if(hC){el.push("Q");
eJ.push(h9,bG,eJ[0],eJ[1])}}if(j==120){var h9=v(),bG=v(),dQ=v(),jn=v();if(hC){el.push("C");eJ.push(h9,bG,dQ,jn,eJ[0],eJ[1])}}if(l2&128){var b1=["M"],c8=[eJ[0],eJ[1]],j_=eJ.length>>>1,fQ=a.b.aeY(eJ);
for(var g=0;g<j_;g++){var cM=eJ[2*g],jK=eJ[2*g+1],aw=.7;for(var fN=0;fN<2;fN++){fQ[g*4+fN*2]=aw*fQ[g*4+fN*2]+(1-aw)*cM;
fQ[g*4+fN*2+1]=aw*fQ[g*4+fN*2+1]+(1-aw)*jK}}for(var g=1;g<j_;g++){b1.push("C");c8.push(fQ[g*4-2],fQ[g*4-1],fQ[g*4],fQ[g*4+1],eJ[g*2],eJ[g*2+1])}if(hC){b1.push("C");
c8.push(fQ[j_*4-2],fQ[j_*4-1],fQ[0],fQ[1],eJ[0],eJ[1])}eJ=c8;el=b1}if(hC)el.push("Z");W=W.concat(eJ);
r=r.concat(el)}if(J!=h)throw"e";return[{L:W,Ao:r},N,o,K]}function _(I){return Math.min(255,Math.round(I/16777216))}function y(I){z=I;
J=0;var D=B();if(D!=16)throw D;var G=B();if(G!=102)throw G;var C=B();if(C!=42&&C!=58)throw C;var O=B();
if(I.length-O!=118+C)throw I.length-O;var Y=u();if(Y!="Parameter")throw Y;var h=B(),r=B(),W=B(),N=B(),o=[];
for(var g=0;g<16;g++)o.push(B());var Y=u();if(Y!="InitColor")throw Y;if(B()!=20)throw"e";var K=B(),l=B(),aV=B();
if(B()!=4)throw"e";if(C==58){var j=[];o.push(j);for(var g=0;g<4;g++)j.push(_(B()))}var Y=u();if(Y!="BlockSize")throw Y;
var M=B();if(M!=12)throw M;var s=$();if(J!=z.length)throw"e";return[h,r,W,N,K*255,o]}function E(I,D){var G=e.RM(D,0,40),C=X(I["ExternalC"+"hunk"],"Exte"+"rnalID",G);
if(C==null){console.log("chnk not found",G)}return C?C.Offset:-1}function x(I,D,G,C){if(F==null){F=a.j(256*256*4);
d=a.j(256*256)}var O=I.Mipmap,Y=I.MipmapInfo,h=I.Offscreen,r=X(O,"MainId",G),W=X(Y,"MainId",r.BaseMipmapInfo),N=X(h,"MainId",W.Offscreen),o=E(I,N.BlockData),U=null;
if(o==-1)return null;var K=kL.WO.a01(D,o),l=y(N.Attribute),aV=l[0],j=l[1],M=l[2],s=l[3],l2=l[4],gm=l[5],iz=gm[16],dC=gm[1],dL=gm[2],cP=dC+dL;
if(dL!=gm[5])throw"e";if(dC!=gm[7])throw"e";var id=a.j(256*(gm[6]+gm[8])),jR=new fw;if(iz)jR=new fw(0,0,aV,j);
else{for(var hC=0;hC<s;hC++)for(var eJ=0;eJ<M;eJ++){var el=K[hC*M+eJ];if(el.length==0)continue;jR=jR.KQ(new fw(eJ<<8,hC<<8,256,256))}}var eu=jR.ly(new fw(0,0,aV,j)),jY=a.j(eu.C()*(cP==1?1:4));
if(iz)a.dz(jY,255<<24|iz[0]<<16|iz[1]<<8|iz[2]);if(cP==1)jY.fill(l2);var fN=new Uint32Array(F.buffer),jC={};
for(var hC=0;hC<s;hC++)for(var eJ=0;eJ<M;eJ++){var el=K[hC*M+eJ];if(el.length==0)continue;var kF=new Uint8Array(el.buffer,el.byteOffset+2,el.length-6),i6=new fw(eJ<<8,hC<<8,256,256),kT=id;
if(kF.length<2e3){var G=kF.length+","+id.length+","+kF.slice(0,16).join(":");if(jC[G]==null){UZIP.inflateRaw(kF,id);
jC[G]=id.slice(0)}kT=jC[G]}else UZIP.inflateRaw(kF,id);if(cP==1){if(gm[8]==32){f(kT,0,d);a._1(d,i6,jY,eu)}else a._1(kT,i6,jY,eu)}else if(cP==2){if(gm[8]==32){a.dz(F,267387135);
f(kT,0,d);a.DE(d,F,3);f(kT,256*32,d);a.eG(d,F)}else for(var g=0;g<262144;g+=4){var iz=kT[65536+(g>>>2)];
F[g]=iz;F[g+1]=iz;F[g+2]=iz;F[g+3]=kT[g>>>2]}a.nk(F,i6,jY,eu)}else if(cP==5){for(var g=0;g<262144;g+=4){fN[g>>>2]=kT[g>>>2]<<24|kT[65536+g+0]<<16|kT[65536+g+1]<<8|kT[65536+g+2]}a.nk(F,i6,jY,eu)}else throw cP}if(C&&cP==1){var kY=a.j(aV*j*4);
a.DE(jY,kY,3);jY=kY}return[eu,jY,l2]}function f(I,J,D){for(var g=0;g<D.length;g++){D[g]=(I[J+(g>>>3)]>>>7-(g&7)&1)*255}}var Q=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function m(I,D,G,C,O){var Y=I.Layer,h=I.Canvas[0];while(C!=0){var r=X(Y,"MainId",C),W=r.Type,M=!1;console.log(r);
var N=G.JG();N.HV(r.Name);N.YF=Math.min(255,r.Opacity);N.Rz((r.Visibility&1)!=0);N.QN=Q[r.Composite];
if(N.QN==null){alert("Unknown blend mode "+r.Composite);N.QN="norm"}N.Bx=r.Clip==1;G.U.push(N);var o=r.LayerMaskMipmap;
if(o!=0){var K=x(I,D,o,!1);if(K){N.T4=new bi.L7;N.T4.S=K[0];N.T4.N=K[1];N.T4.color=K[2];H(N.T4.S,r,"Mask","Mask");
N.T4.eB()}}var l=[];for(var g=0;g<3;g++)l.push(_(r["DrawColorMain"+["Red","Green","Blue"][g]]));var aV={t:"Objc",v:a.Wi.yR({o:l[0],k:l[1],X:l[2]})},j=JSON.parse(a_.default);
for(var g=0;g<a_.order.length;g++)j[a_.in[g]]={t:"VlLs",v:[]};if(r.DrawColorEnable==1&&W!=1584){M=!0;
var s=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);s.Clr=aV;j.solidFillMulti.v.push({t:"Objc",v:s})}if(r.EffectInfo){var l2=i(r.EffectInfo),l=l2[2];
if(l2[0]==1){M=!0;var s=JSON.parse(a_.ef[a_.order.indexOf("FrFX")]);s.Clr.v=a.Wi.yR({o:l[0]*255,k:l[1]*255,X:l[2]*255});
s.Sz.v.val=Math.round(l2[1]);j.frameFXMulti.v.push({t:"Objc",v:s})}}if(r.FilterLayerInfo){z=r.FilterLayerInfo;
J=0;var gm=B(),iz=B();if(iz!=z.length-J)throw"e";var dC={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[gm];
if(dC!=null){var dL=em.J0(dC);N.add[dC]=dL?dL:{};if(dC=="brit")em.mn["g"+dC](dL,[c(),c(),!0]);if(dC=="hue2")eP.m9(dL,0,[c(),c(),c()]);
if(dC=="curv"){var cP=[],id=J;for(var g=0;g<32;g++){J=id+g*130;var jR=n(),hC=[];cP.push(hC);for(var eJ=0;
eJ<jR;eJ++)hC.push(n()/65535,n()/65535)}for(var g=0;g<4;g++){var hC=cP[g],el=a5.FP(dL,g),eu=el[0];for(var eJ=0;
eJ<hC.length;eJ+=2){var jY=el[eJ>>>1]=a.G(eu);jY.v.Hrzn.v=Math.round(hC[eJ]*255);jY.v.Vrtc.v=Math.round(hC[eJ+1]*255)}a5.m9(dL,g,el)}}if(dC=="grdm"){var fN=dL.Grad.v,jC=[],kF=B();
if(kF!=iz-4)throw kF;var i6=B();if(i6!=16&&i6!=24)throw i6;var kT=B();if(kT!=28)throw kT;var kY=B();
for(var g=0;g<kY;g++){var h9=0,bG=[];for(var eJ=0;eJ<7;eJ++)bG.push(B());jC.push([bG[6]/32768,[bG[1]/4294967295,bG[2]/4294967295,bG[3]/4294967295],bG[4]/4294967295])}a.Wi.Sy(jC,fN)}if(dC=="blnc"){dL.PrsL.v=B()==1;
for(var g=0;g<3;g++){var dQ=dL[["ShdL","MdtL","HghL"][g]].v;for(var eJ=0;eJ<3;eJ++)dQ[eJ].v=c()}}}else console.log("Unknown adjustment",gm,iz,N.getName())}if(W==1584){N.a3|=16;
N.add.SoCo={classID:"null",Clr:aV};N.k3(G)}else if(W==800){G.U.pop()}else if(r.Folder!=0){N.add.lsct=(r.Folder&16)!=0?cp.mD:cp.xj;
N.QN="pass";G.U.pop();G.U.push(G.eH());m(I,D,G,r.FirstChildIndex,O+1);G.U.push(N)}else if(W==0||W==1||W==2||W==3){var K=x(I,D,r.RenderMipmap,!0);
if(K){N.S=K[0];N.buffer=K[1];H(N.S,r,"Render","");if(N.S.C()<2e6)N.eB()}if(r.ResizableOriginalMipmap){var jn=x(I,D,r.ResizableOriginalMipmap,!0),b1=jn[0],c8;
if(b1.C()>4e6)c8=kL.rc.tv(jn[1].buffer,b1.r,b1.$);else c8=kL.V5("PNG").D6([[jn[1].buffer,0]],b1.r,b1.$);
var j_=G.aZ(new Uint8Array(c8),N.getName(),0,0);N.add.SoLd=j_.add.SoLd;N.buffer=j_.buffer;N.S=j_.S;z=r.ResizableImageInfo;
J=0;var fQ=[];for(var g=0;g<10;g++)fQ.push(B());var cM=[];for(var g=0;g<7;g++)cM.push(v());for(var g=0;
g<6;g++)fQ.push(B());var jK=[];for(var g=0;g<8;g++)jK.push(v());var aw=jK[4];jK[4]=jK[6];jK[6]=aw;aw=jK[5];
jK[5]=jK[7];jK[7]=aw;for(var g=0;g<8;g+=2){jK[g]+=r.OffsetX;jK[g+1]+=r.OffsetY}N.add.SoLd.Trnf=L.tp.ey(jK);
N.add.SoLd.nonAffineTransform=L.tp.ey(jK);if(N.LE()||a.b.yq(jK).C()<1e8)N.m8(G,!1)}if(r.TextLayerType!=null){var ez="TextLayerString",g4="TextLayerAttributes",ht=[r[ez]],gx=[r[g4]];
if(r[ez+"Array"]){z=r[ez+"Array"];J=0;while(J<z.length){var iz=P();ht.push(z.slice(J,J+iz));J+=iz}z=r[g4+"Array"];
J=0;while(J<z.length){var iz=P();gx.push(z.slice(J,J+iz));J+=iz}}var kE=N;G.U.pop();for(var kS=0;kS<ht.length;
kS++){var N=kE.P(),dt=0,g5=0;G.U.push(N);var h7=Z(gx[kS]),b7=h7.runs,i7=h7.fnts,fp=h7.bplg,jB=h7.bbox,fB=jB[2]-jB[0],df=jB[3]-jB[1];
if(fp){dt=fp[2]-fp[0];g5=fp[3]-fp[1]}var bR=new fA;bR.translate(-fB/2,-df/2);bR.rotate(Math.atan2(-g5,dt));
bR.translate(fB/2,df/2);var h$=jB[0]+r.OffsetX,ih=jB[1]+r.OffsetY;bR.translate(h$,ih);N.add.lnsr="rend";
N.add.TySh=dN.gI(0,0);N.add.TySh.M6=new fw(0,0,500,500);N.add.TySh.h=bR;var jt=N.add.TySh.qU,jN=e.A8(ht[kS]);
N.HV(jN);dN.tJ(jt,0,jN);dN.NA(jt,1);dN.h4(jt,[0,0,fB,df]);if(b7)for(var g=0;g<b7.length;g++){var jk=b7[g],gE=jk[0],cW=gE+jk[1],dR=jk[2],gV=dN.cj(jt,gE,cW),gv=G.Ge/72*h7.size/100;
if((dR&512)!=0)gv*=jk[6]/100;gV.uA.FontSize=Math.round(gv);var aV=(dR&256)!=0?jk.slice(3):h7.colr;gV.uA.FillColor={Type:1,Values:[1,aV[0]/65535,aV[1]/65535,aV[2]/65535]};
var ga=jk[7]==""?h7.font:jk[7];if(i7){if(i7[g])ga=i7[g][1];else for(var eJ=0;eJ<i7.length;eJ++)if(i7[eJ][0]==ga)ga=i7[eJ][1]}dN.Qp(gV,ga);
dN.CG(jt,gE,cW,gV)}if(N.S.C()==0)G.Uq=!0;else{N.S=new fw(h$,ih,fB,df);N.buffer=a.j(N.S.C()*4);a.nk(kE.buffer,kE.S,N.buffer,N.S)}}}}var iC=I.VectorObjectList;
if(r.VectorNormalType!=null&&iC&&X(iC,"LayerId",C)){var dI=X(iC,"LayerId",C).VectorData,fV=E(I,dI),dH=V(D,fV);
if(dH){var aj=null;if(N.add.TySh){var aj=N.P();G.U.push(aj);delete N.add.TySh}S(N,r,dH[0]);if(N.nT()){N.a3|=24;
var j_=G.JG();j_.HV(N.getName());j_.YF=N.YF;G.U.push(j_);S(j_,r,dH[0]);R(j_,dH);j_.k3(G)}else{R(N,dH,aj!=null)}N.k3(G);
if(aj){aj.add.TySh.h.concat(new fA(1,0,0,1,N.S.x+N.S.r/2,N.S.y+N.S.$/2))}}}if(M)N.add.lmfx=j;if(C==h.CurrentLayer)G.Y=[G.U.indexOf(N)];
C=r.NextIndex}}function H(I,D,G,C){I.x+=D[G+"OffscrOffsetX"]+D[C+"OffsetX"];I.y+=D[G+"OffscrOffsetY"]+D[C+"OffsetY"]}function S(I,D,G){I.add.vmsk=new bi.jP;
a.b.h(G.L,new fA(1,0,0,1,D.OffsetX,D.OffsetY),G.L);I.add.vmsk.u=a.b.nK(G);I.cC()}function R(I,D,G){var C=D[1][0],O=D[2][0];
I.a3|=16;var Y=I.add.vstk=a_.jM.J0(!0,!0);Y.fillEnabled.v=G==!0;I.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:255,k:255,X:255})}};
Y.strokeStyleContent.v.Clr.v=a.Wi.yR({o:C[0],k:C[1],X:C[2]});Y.strokeStyleLineWidth.v.val=O*2;Y.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return U}();
kL.WO.a01=function(z,J){var p={ea:z,ir:J+8},v=0;function n(x){var f=e.fy(x.ea,x.ir);x.ir+=4;return f}function B(x){var f=n(x);
if(f>200)throw f;var m=e.J5(x.ea,x.ir,f);x.ir+=f*2;return m}function c(x){var f=n(x);if(n(x)!=4)throw"e";
var A=[];for(var g=0;g<f;g++)A.push(n(x));return A}var t=e.LD(p.ea,p.ir);p.ir+=8;var u=p.ir+t;p.ir+=56;
var A=[];while(p.ir<u){var $=n(p),X=p.ir+$-4;if(X>u)throw"e";if($==11){p.ir-=4;var U=B(p),w=n(p);if(w!=12)throw"e";
var P=c(p),k=B(p),w=n(p);if(w!=12)throw"e";var T=c(p);if(p.ir!=u)throw"e"}else{var Z=B(p),i=n(p);if(i!=v)throw i;
v++;var V=e.Bq(p.ea,p.ir);p.ir+=2;if(V!=0&&V!=1&&V!=2&&V!=5)throw V;var _=p.ea[p.ir++];if(_!=0&&_!=32&&_!=64)throw _;
var y=n(p);if(y!=1)throw y;if(n(p)!=1)throw"e";if(p.ea[p.ir++]!=0)throw"e";if(n(p)==1){var E=n(p),F=e.gm(p.ea,p.ir);
if(E!=F+4)throw"e";A.push(new Uint8Array(p.ea.buffer,p.ir+4,F));p.ir+=E}else A.push(new Uint8Array(0));
var d=B(p);if(p.ir!=X)throw p.ir}}return A};kL.MK={};kL.MK.xG=!0;kL.MK.uj=function(z,J){bz.yi(z,J)};
kL.Pj={};kL.Pj.xG=!0;kL.Pj.uj=function(z,J){var p=Date.now(),n=c6.parse(z),B=e.qd,c=e._4,t=n.LtfHeader,u=0,v=B(t,u);
u+=4;if(v!=t.length)throw"e";var A=B(t,u);u+=4;if(A!=4609100)throw"e";var $=B(t,u);u+=4;if($!=400&&$!=500&&$!=600)throw $;
var X=c(t,u);u+=2;if(X!=2&&X!=4&&X!=32)throw X;var U=c(t,u);u+=2;var w=B(t,u),P=B(t,u+4);u+=8;var k=B(t,u)/1e4;
u+=8;var $=B(t,u),X=B(t,u+4);u+=8;if($!=0&&$!=1&&$!=2)throw $;if($==600)for(var g=0;g<20;g++)if(t[u+g]!=0)throw g;
u+=20;var $=B(t,u);u+=4;if($!=0&&$!=1)throw $;var T=B(t,u);u+=4;if(T!=0&&T!=1)throw T;for(var g=0;g<476;
g++)if(t[u+g]!=0)throw g;u+=476;var Z=u+104;J.r=w;J.$=P;J.buffer=a.j(w*P*4);var i=n.LtfMainPalette,V=n.LtfObjectList;
u=0;if(V){var lj=B(V,0);if(B(V,4)!=lj)throw"e";for(var _=0;_<lj;_++){u=8+_*192;var y=u+128;while(V[y]!=0)y+=2;
var E=e.uv(V,u+128,y-(u+128)>>>1);kL.Pj.G7(n[E],J,i)}}var F=J.JG();J.U.push(F);F.HV("Background");if(n.LtfMainImage){var d=kL.Pj.j7(n.LtfMainImage,null,i);
F.buffer=d[0];F.S=d[1]}else{F.S=new fw(0,0,w,P);var x=B(t,Z);kL.Pj.a8y(F,i?B(i,2+x*4):x)}J.U.reverse()};
kL.Pj.a8X=function(z){var J="";for(var g=0;g<z.length;g++){var p=""+z[g];while(p.length<3)p=" "+p;J+=p+", "}return J};
kL.Pj.G7=function(z,J,p){var n=e.qd,B=J.JG(),t=0;J.U.push(B);var c=z.ObjectData;if(n(c,0)!=c.length)throw"e";
t+=4;var u=t;while(c[u]!=0)u++;B.HV(e.RM(c,t,u-t));t=u+1;if(u==5){if(c[t]!=0)throw"e";t++}var v=z.ObjectMask0,A=z.PathStream;
if(A&&v==null){var $=B.add.vmsk=new bi.jP;$.u=kL.Pj.at(A);B.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:c[232],k:c[233],X:c[234]})}};
B.add.vstk=a_.jM.J0(!0);B.k3(J)}if(v==null)return;B.S=new fw(n(v,0),n(v,4),n(v,8),n(v,12));if(z.ObjectImage){var X=kL.Pj.j7(z.ObjectImage,null,p,B.S.r);
if(X[1].r!=B.S.r)throw"e";B.buffer=X[0]}else kL.Pj.a8y(B,n(c,188));kL.Pj.j7(new Uint8Array(v.buffer,16),B.buffer)};
kL.Pj.a8y=function(z,J){z.buffer=a.j(z.S.C()*4);a.dz(z.buffer,255<<24|J)};kL.Pj.at=function(z){var J=e._4,p=e.qd,n=e.ZW,t=0;
function B(T,Z){var i=J(T,Z),V=J(T,Z+2);return V}var c=pako.inflate(z.slice(12));t=128;for(var g=0;g<260;
g++)if(c[t+g]!=0)throw g;t+=260;if(p(c,t)!=50)throw"e";t+=4;if(p(c,t)!=0)throw"e";t+=4;if(p(c,t)!=0)throw"e";
t+=4;var u=p(c,t);t+=4;var u=p(c,t);if(u!=106&&u!=186&&u!=196&&u!=236)throw p(c,t);t+=4;if(p(c,t)!=0)throw"e";
t+=4;if(p(c,t)!=24)throw"e";t+=4;if(p(c,t)!=0)throw"e";t+=4;var u=p(c,t);t+=4;var v=p(c,t);t+=4;if(p(c,t)!=0)throw"e";
t+=4;if(p(c,t)!=0)throw"e";t+=4;if(p(c,t)!=1280)throw"e";t+=4;for(var g=0;g<24;g++)if(c[t+g]!=0)throw g;
t+=24;var A=p(c,t);t+=4;if(42+A*10!=v)throw"e";var $=p(c,t);t+=4;var X=p(c,t);t+=4;var U=[{I:6},{I:8,all:0}];
U.push({I:0,length:A,j1:0,VR:2,RX:0,Zt:0});for(var g=0;g<A;g++){var w=B(c,t+2),P=B(c,t+6),k=new i_(w,P);
U.push({I:2,FV:k.P(),cy:k,M3:k.P()});t+=10}return U};kL.Pj.j7=function(z,J,p,n){var B=e.qd,c=e.Ei,t=kL.Pj.a8X,u=0,v=B(z,u),P,k=0,R;
u+=4;var A=B(z,u);u+=4;var $=B(z,u);u+=4;var X=B(z,u);u+=4;var U=B(z,u);u+=4;var w=v*A,T=z.length;if(w==T-20)P=new Uint8Array(z.buffer,20+z.byteOffset);
else if($==64*64*3||J&&$==64*64){var Z=kL.V5("jpg"),i=0,V=0;P=a.j(v*A);while(u<z.length){var _=B(z,u);
u+=4;var y=Z.uj(z.slice(u,u+_))[0],X=y.eE,E=new Uint8Array(y.data),F=J?v:v/3;for(var d=0;d<X.$;d++)for(var x=0;
x<X.r;x++){var f=d*X.r+x,Q=(d+V)*F+(x+i);if(J)P[Q]=E[f*4];else{P[Q*3+0]=E[f*4+2];P[Q*3+1]=E[f*4+1];P[Q*3+2]=E[f*4+0]}}i+=64;
if(i>F){V+=64;i=0}u+=_}}else{P=a.j(w);for(var f=0;f<w;f+=$){var m=f+$,H=B(z,u);u+=4;while(k<m&&u<T){var S=z[u];
u++;if(S<128)for(var g=0;g<S+1;g++){P[k++]=z[u++];if(J)continue;P[k++]=z[u++];P[k++]=z[u++]}else{S-=127;
for(var g=0;g<S;g++){P[k++]=z[u+0];if(J)continue;P[k++]=z[u+1];P[k++]=z[u+2]}u+=J?1:3}}}}if(J){for(var g=0;
g<w;g++)J[g*4+3]=P[g];return[P,new fw(0,0,v,A)]}if(p){R=a.j(w*4);for(var g=0;g<w;g++){var I=g<<2,$=2+P[g]*4;
R[I]=p[$];R[I+1]=p[$+1];R[I+2]=p[$+2];R[I+3]=255}}else if(n!=null&&n==v){R=a.j(w*4);R.fill(255);for(var g=0;
g<w;g++)R[g*4+0]=R[g*4+1]=R[g*4+2]=P[g]}else{v=Math.round(v/3);w=v*A;R=a.j(w*4);for(var g=0;g<w;g++){var Q=g*3,I=g<<2;
R[I]=P[Q];R[I+1]=P[Q+1];R[I+2]=P[Q+2];R[I+3]=255}}return[R,new fw(0,0,v,A)]};kL.Oc={};kL.Oc.xG=!0;kL.Oc.uj=function(){var z=e.Ei,J=e.gm,p=0;
function n(c,t){p=z(c,t+2);console.log("nFib",p,p.toString(16));t+=32;if(z(c,t)!=14)throw"e";t+=2;t+=28;
if(z(c,t)!=22)throw"e";t+=2;var u=J(c,t);t+=4;t+=8;var v=J(c,t);t+=4;var A=J(c,t);t+=4;var $=J(c,t);
t+=4;t+=4;var X=J(c,t);t+=4;var U=J(c,t);t+=4;var w=J(c,t);t+=4;var P=J(c,t);t+=4;t+=11*4;var k=z(c,t);
t+=2;for(var g=0;g<k;g++){var T=J(c,t),Z=J(c,t+4);t+=8}}function B(c,t){var u=c6.parse(c);console.log(u);
var v=["WordDocument","Data"],A=new fw;for(var $=0;$<v.length;$++){var X=u[v[$]],U=[],w=0;while(w<X.length){var P=e.ob(X,[255,216,255],w);
if(P==-1)break;U.push(P);w=P+1}var k=[];for(var g=0;g<U.length;g++){var T=X.slice(U[g],U[g+1]),Z=kL.Ul.uj(T.buffer)[0];
A=A.KQ(Z.eE);var i=t.JG();t.U.push(i);i.HV("Layer");i.S=Z.eE;i.buffer=new Uint8Array(Z.data)}}if(t.U.length==0){alert("No images found inside a document.");
return}t.r=A.r;t.$=A.$;t.buffer=a.j(A.C()*4)}return B}();kL.aEO={};kL.aEO.uj=function(z){var J=new Uint8Array(z),p=e.gm,t=16;
if(e.RM(J,0,4)!="chlv")throw"e";var n=p(J,4),B=p(J,8),c=p(J,12),u=[];while(t<J.length){var v=p(J,t),A=p(J,t+48),$=p(J,t+52),X=A*$,U=A*4,w=a.j(A*$*4);
w.fill(255);for(var P=0;P<$;P++)for(var k=0;k<A;k+=4){var g=P*A+k,T=g*4,Z=t+108+(g>>>2)*6;w[T]=J[Z+1];
w[T+4]=J[Z+3];w[T+8]=J[Z+4];w[T+12]=J[Z+5];for(var i=0;i<16;i+=4){w[T+i+1]=J[Z+0];w[T+i+2]=J[Z+2]}}var V=new Int8Array(w.buffer),_=new Uint8ClampedArray(w.buffer);
for(var P=0;P<$;P++)for(var k=0;k<A;k++){var g=(P*A+k)*4,y=w[g],E=V[g+1],F=V[g+2],d=y+(45*F>>5),x=y-(11*E+23*F>>5),f=y+(113*E>>6);
_[g]=d;_[g+1]=x;_[g+2]=f}t+=v+4;u.push({eE:new fw(0,0,A,$),data:w.buffer,IK:"_a_"+u.length})}return u};
var co={};co.Pw=!1;co.aDw=!1;co.KO=!1;co._V=document.createElement("canvas");co.$l=null;co.Wd=null;co.TV=0;
(function(){var z={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},J;if(!J)J=co._V.getContext("webgl2",z);
if(J){co.Pw=!0;co.aDw=!0;co.$l=J;co.Wd=J.createFramebuffer();J.bindFramebuffer(J.FRAMEBUFFER,co.Wd);
J.disable(J.BLEND);J.disable(J.DEPTH_TEST);var p=J.createBuffer();J.bindBuffer(J.ARRAY_BUFFER,p);J.bufferData(J.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),J.STATIC_DRAW);
J.enableVertexAttribArray(0);J.vertexAttribPointer(0,2,J.FLOAT,!1,0,0)}}());co.az$=function(z){z=z.replace(/\s\s+/g," ");
z=z.replace(/; /g,";");z=z.replace(/} /g,"}");z=z.replace(/ }/g,"}");z=z.replace(/{ /g,"{");z=z.replace(/ {/g,"{");
z=z.replace(/= /g,"=");z=z.replace(/ =/g,"=");z=z.replace(/\| /g,"|");z=z.replace(/ \|/g,"|");return z};
co.oV=function(z,J){var p=co.$l;if(z>p.getParameter(p.MAX_TEXTURE_SIZE)){co.Pw=!1;alert("Too big texture ("+z+" px), Disabling WebGL")}if(J==16&&p.getExtension("EXT_texture_norm16")==null){co.Pw=!1;
alert("EXT_texture_norm16 missing, Disabling WebGL")}};co.Zl=function(z,J){return new Float32Array([(z.x-J.x)/J.r,(z.y-J.y)/J.$,z.r/J.r,z.$/J.$])};
co.za=function(){return this._V};co.C4=function(z,J){var p=co.$l;p.bindFramebuffer(p.FRAMEBUFFER,co.Wd);
p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,z.zu,0);p.viewport(0,0,z.r,z.$);
if(J){p.enable(p.SCISSOR_TEST);p.scissor(J.x,J.y,J.r,J.$)}else p.disable(p.SCISSOR_TEST)};co.agr=function(z,J,p){if(p)throw"error";
var n=co.$l;n.disable(n.SCISSOR_TEST);n.bindFramebuffer(n.FRAMEBUFFER,null);n.viewport(0,0,z,J);if(p){n.enable(n.SCISSOR_TEST);
n.scissor(p.x,p.y,Math.round(p.r),Math.round(p.$))}else n.disable(n.SCISSOR_TEST)};co.kw=function(){var z=co.$l;
z.colorMask(!1,!1,!1,!0);co.j4(255<<24);z.colorMask(!0,!0,!0,!0)};co.j4=function(z){var J=co.$l,p=(z>>>0&255)*(1/255),n=(z>>>8&255)*(1/255),B=(z>>>16&255)*(1/255),c=(z>>>24&255)*(1/255);
J.clearColor(p,n,B,c);J.clear(J.COLOR_BUFFER_BIT)};co.nG=function(z,J,p,n,B){var c=J.ly(n);if(B)c=c.ly(B);
if(c.Sz())return;var t=co.$l;co.C4(z);t.bindTexture(t.TEXTURE_2D,p.zu);t.copyTexSubImage2D(t.TEXTURE_2D,0,c.x-n.x,c.y-n.y,c.x-J.x,c.y-J.y,c.r,c.$)};
co.Ud=function(g,z,J,p){if(p==null)p=8;var n=co.aDW[g];if(n==null||n.r!=z||n.$!=J||n.depth!=p){if(n)n.delete();
n=new co.rk(z,J,p)}co.aDW[g]=n;return n};co.aDW=[];co.P8=function(){this.Ic=null;this.Vh=null};co.P8.Jb=null;
co.P8.prototype.lG=function(z){if(this.Vh)return;this.Vh={};var J=co.$l,p=this.Ic,n=this.Vh;for(var g=0;
g<z.length;g++){var B=z[g];n[B]=J.getUniformLocation(p,B)}};co.P8.prototype.zm=function(){};co.P8.prototype.S1=function(z){var J=co.$l;
for(var g=0;g<z.length;g+=2){J.uniform1i(z[g],g>>>1);J.activeTexture(J["TEXTURE"+(g>>>1)]);J.bindTexture(J.TEXTURE_2D,z[g+1])}J.activeTexture(J.TEXTURE0)};
co.P8.prototype.SL=function(z,J){var p=co.$l,n=p.createShader(p.FRAGMENT_SHADER);p.shaderSource(n,z);
p.compileShader(n);if(!p.getShaderParameter(n,p.COMPILE_STATUS))console.log(p.getShaderInfoLog(n));var B=p.createShader(p.VERTEX_SHADER);
p.shaderSource(B,J);p.compileShader(B);if(!p.getShaderParameter(B,p.COMPILE_STATUS))console.log(p.getShaderInfoLog(B));
var c=p.createProgram();p.attachShader(c,B);p.attachShader(c,n);p.linkProgram(c);if(!p.getProgramParameter(c,p.LINK_STATUS))console.log("Could not initialise shaders");
this.Ic=c};co.P8.prototype.KI=function(){if(co.P8.Jb!=this){co.$l.useProgram(this.Ic);co.P8.Jb=this}};
co.kH=function(z,J,p){co.Jg++;co.TV+=z*J;if(co.KO)console.log("GL.Channels instances: "+co.Jg+", memory: "+co.TV);
var n=co.$l;this.r=z;this.$=J;if(p==null)p=8;if(p==16){n.getExtension("EXT_texture_norm16")}this.depth=p;
this.tZ=p==8?n.R8:p==16?33322:n.R32F;this.zC=p==8?n.RED:p==16?n.RED:n.RED;this.Tp=p==8?n.UNSIGNED_BYTE:p==16?n.UNSIGNED_SHORT:n.FLOAT;
this.zu=n.createTexture();this.Qz=null;this.Rh(this.zu,z,J)};co.kH.prototype.Rh=function(z,J,p){var n=co.$l;
n.bindTexture(n.TEXTURE_2D,z);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);
n.texImage2D(n.TEXTURE_2D,0,this.tZ,J,p,0,this.zC,this.Tp,null)};co.kH.prototype.set=function(z,J){var p=co.$l;
p.bindTexture(p.TEXTURE_2D,this.zu);p.pixelStorei(p.UNPACK_ALIGNMENT,1);var n=this.r*this.$;if(J==null||J.C()*10>n)p.texImage2D(p.TEXTURE_2D,0,this.tZ,this.r,this.$,0,this.zC,this.Tp,z);
else{var B=new fw(0,0,this.r,this.$),c=a.j(J.C(),this.depth);a._1(z,B,c,J);p.texSubImage2D(p.TEXTURE_2D,0,J.x,J.y,J.r,J.$,this.zC,this.Tp,c)}p.pixelStorei(p.UNPACK_ALIGNMENT,4)};
co.kH.prototype.delete=function(){var z=co.$l;if(this.zu){z.deleteTexture(this.zu);co.Jg--;co.TV-=this.r*this.$}if(co.KO)if(co.KO)console.log("GL.Channels instances: "+co.Jg+", memory: "+co.TV*4)};
co.Jg=0;co.rk=function(z,J,p,n){if(p==null)p=8;if(n==null)n=!1;co.Jg++;co.TV+=z*J*4;if(co.KO)console.log("GL.Channels instances: "+co.Jg+", memory: "+co.TV);
var B=co.$l;if(p==16){B.getExtension("EXT_texture_norm16")}if(p==32){B.getExtension("EXT_color_buffer_float");
if(B.getExtension("OES_texture_float_linear")==null)n=!1}this.ap8=n;this.r=z;this.$=J;this.depth=p;this.tZ=p==8?B.RGBA:p==16?32859:p==32?B.RGBA32F:B.RGBA16F;
this.zC=p==8?B.RGBA:p==16?B.RGBA:B.RGBA;this.Tp=p==8?B.UNSIGNED_BYTE:p==16?B.UNSIGNED_SHORT:B.FLOAT;
this.zu=B.createTexture();this.Qz=null;this.Rh(this.zu,z,J)};co.Ib=function(){var z=co.$l;return z.getExtension("OES_texture_float_linear")?32:33};
co.rk.prototype.set=function(z,J){var p=co.$l;p.disable(p.SCISSOR_TEST);p.bindTexture(p.TEXTURE_2D,this.zu);
if(z==null||z instanceof Uint8Array||z instanceof Uint16Array||z instanceof Float32Array){var n=this.r,B=this.$,c=n*B;
if((J==null||J.C()*10>c)&&(z==null||z.length>=c*4))p.texImage2D(p.TEXTURE_2D,0,this.tZ,n,B,0,this.zC,this.Tp,z);
else{var t=z;if(z.length==c*4){var t=a.j(J.C()*4,this.depth);a.nk(z,new fw(0,0,n,B),t,J)}p.texSubImage2D(p.TEXTURE_2D,0,J.x,J.y,J.r,J.$,this.zC,this.Tp,t)}}else p.texImage2D(p.TEXTURE_2D,0,this.tZ,this.zC,this.Tp,z)};
co.rk.prototype.get=function(z){var J=co.$l;co.C4(this);J.readPixels(0,0,this.r,this.$,this.zC,this.Tp,z)};
co.rk.prototype.Xq=function(z){if(z.Sz())return;var J=co.$l;if(this.Qz==null){this.Qz=J.createTexture();
this.Rh(this.Qz,this.r,this.$);co.Jg++;co.TV+=this.r*this.$*4}J.bindFramebuffer(J.FRAMEBUFFER,co.Wd);
J.bindTexture(J.TEXTURE_2D,this.Qz);if(z){var p=Math.max(z.x,0),n=Math.max(z.y,0);J.copyTexSubImage2D(J.TEXTURE_2D,0,p,n,p,n,z.r,z.$)}else J.copyTexImage2D(J.TEXTURE_2D,0,this.zC,0,0,this.r,this.$,0)};
co.rk.prototype.Rh=function(z,J,p){var n=co.$l;n.bindTexture(n.TEXTURE_2D,z);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.ap8?n.LINEAR:n.NEAREST);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);
n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.texImage2D(n.TEXTURE_2D,0,this.tZ,J,p,0,this.zC,this.Tp,null)};
co.rk.prototype.delete=function(){var z=co.$l;if(this.zu){z.deleteTexture(this.zu);co.Jg--;co.TV-=this.r*this.$*4}if(this.Qz){z.deleteTexture(this.Qz);
co.Jg--;co.TV-=this.r*this.$*4}if(co.KO)if(co.KO)console.log("GL.Channels instances: "+co.Jg+", memory: "+co.TV)};
co.rk.prototype.P=function(){var z=co.$l,J=new co.rk(this.r,this.$);co.C4(this);z.bindTexture(z.TEXTURE_2D,J.zu);
z.copyTexImage2D(z.TEXTURE_2D,0,this.zC,0,0,this.r,this.$,0);return J};co.rZ={a2N:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",auw:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",Og:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",me:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",agE:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",HW:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",K3:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",Qx:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",aAV:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",R9:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",azi:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",UT:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",aBy:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",X5:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",no:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",tr:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",HC:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",u4:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",ym:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",axn:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",aJ6:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",yB:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",alC:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
co.B={};co.B.P2={};co.B.aFM=null;co.B.ra=null;co.B.FC=null;co.B.aKL=function(z,J,p,n,B,c,t,u){if(u==null)u=ju.YD();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(z)==-1){t=t*u.fill;u.fill=1;u.style=!1}var v=J instanceof Array,A=z+(u.ZL?"1":"0")+(v?"1":"0");
if(co.B.P2[A]==null)co.B.P2[A]=new co.B.Xb(z,u.ZL!=null,v);var $=co.B.P2[A],X=p.ly(B).ly(c);X.offset(-B.x,-B.y);
if(X.Sz())return;var U=co.$l;co.C4(n,X);n.Xq(X);$.KI();$.zm(v?J[1].zu:J.zu,n.Qz,co.Zl(p,B),t,u.fill,u.style?1:0,u.dq?1:0,u.ZL?new Float32Array(u.ZL):null,v?J[0]:null);
U.drawArrays(U.TRIANGLES,0,6)};co.B.hN=function(z,J,p,n,B,c,t,u,v,A,$){if(co.B.aB7==null)co.B.aB7=new co.B.NV(!0,!0,1);
if(co.B.anx==null)co.B.anx=new co.B.NV(!0,!0,4);if(co.B.ra==null)co.B.ra=new co.B.NV(!0,!1,1);if(co.B.FC==null)co.B.FC=new co.B.NV(!1,!0,1);
var X=A?1:0,U=z?B?B instanceof co.kH?co.B.aB7:co.B.anx:co.B.ra:co.B.FC,w=new Float32Array($?[$[0],$[1],$[2],1]:[1,1,1,1]),P=J?J.ly(n).ly(u):n.ly(u);
if(P.Sz())return;P.offset(-n.x,-n.y);var k=co.$l;co.C4(p,P);p.Xq(P);U.KI();if(z==null)U.zm(null,p.Qz,B.zu,co.Zl(n,n),co.Zl(c,n),t/255,v,X,w);
else if(B)U.zm(z.zu,p.Qz,B.zu,co.Zl(J,n),co.Zl(c,n),t/255,v,X,w);else U.zm(z.zu,p.Qz,null,co.Zl(J,n),null,t/255,v,X,w);
k.drawArrays(k.TRIANGLES,0,6)};co.B.aEC=function(z,J,p){if(co.B.al5==null)co.B.al5=new co.B.QA;var n=co.B.al5,B=new fw(0,0,z.r,z.$),c=co.$l;
co.C4(J);J.Xq(B);n.KI();n.zm(B,z.zu,J.Qz,p.zu);c.drawArrays(c.TRIANGLES,0,6)};co.B.Q9={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/max(a,vec3(0.000001)), ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
co.B.Xb=function(z,J,p){co.P8.call(this);var n="\t\t\tprecision highp float;\t\t\t"+co.rZ.Og+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(p?"uniform vec4 scolor;":"")+"\t\t\t"+(J?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+co.rZ.HW+"\t\t\t"+co.rZ.K3+"\t\t\t"+co.rZ.Qx+"\t\t\t"+co.rZ.a2N+"\t\t\t"+co.rZ.auw+"\t\t\t"+co.rZ.aAV+"\t\t\t"+co.rZ.R9+"\t\t\t"+co.rZ.azi+"\t\t\t"+co.rZ.UT+"\t\t\t"+co.rZ.hash+"\t\t\t"+(J?co.rZ.yB:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+co.B.Q9[z]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(p?"scolor; src.a=texture2D(source, sCoord).r;":"texture2D(source, sCoord);"),B="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(z=="diss")n+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else n+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(J?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.SL(n,B)};co.B.Xb.prototype=new co.P8;co.B.Xb.prototype.zm=function(z,J,p,n,B,c,t,u,v){this.lG("srct alpha source target fill style keepBGA blIf scolor".split(" "));
var A=co.$l,$=this.Vh;A.uniform4fv($.srct,p);A.uniform1f($.alpha,n);A.uniform1f($.fill,B);A.uniform1f($.style,c);
A.uniform1f($.keepBGA,t);if(u)A.uniform4fv($.blIf,u);if(v){var X=v?1/a.hW(a.zr(v)):0;A.uniform4fv($.scolor,new Float32Array([v[0]*X,v[1]*X,v[2]*X,0]))}this.S1([$.source,z,$.target,J])};
co.B.NV=function(z,J,p){co.P8.call(this);this.agL=z;this.pO=J;var n="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+co.rZ.aBy+"\t\t\t"+co.rZ.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(z?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(J?"* (in01(wCoord) ? texture2D(weight, wCoord)."+(p==1?"r":"a")+" : wcolor)":"")+";\t\t\t\t"+(z?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( ao==0.0 ? vec3(0,0,0) : (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(J?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",B="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.SL(n,B)};co.B.NV.prototype=new co.P8;co.B.NV.prototype.zm=function(z,J,p,n,B,c,t,u,v){if(this.pO)this.lG("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.lG("srct awg dissv source target cswitch".split(" "));var A=co.$l,$=this.Vh;A.uniform4fv($.srct,n);
if(this.pO){A.uniform4fv($.wrct,B);A.uniform1f($.wcolor,c)}else{A.uniform4fv($.cswitch,v)}A.uniform1f($.awg,t);
A.uniform1f($.dissv,u);var X=[$.source,z,$.target,J];if(this.pO)X.push($.weight,p);this.S1(X)};co.B.QA=function(){co.P8.call(this);
var z="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).r; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",J="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.SL(z,J)};co.B.QA.prototype=new co.P8;co.B.QA.prototype.zm=function(z,J,p,n){this.lG(["rct","prev","next","alpha"]);
var B=co.$l,c=this.Vh;B.uniform4fv(c.rct,[0,0,1,1]);this.S1([c.prev,J,c.next,p,c.alpha,n])};co.Fc={Kh:{},LP:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
co.Fc.PW=function(z,J){var p=fs.TI,n=[p.oN,p.zs,p.BM,p.mt,p.Sf,p.tB,p.fm,p.e2].indexOf(z.I),B=co.Fc.Kh[z.I];
if(B==null)B=co.Fc.Kh[z.I]=new co.Kh[n];B.KI();B.zm(J,z);co.$l.drawArrays(co.$l.TRIANGLES,0,6)};co.Kh=[];
co.Kh[0]=function(){co.P8.call(this);this.a95={};var z="\t\t\tprecision highp float;\t\t\t"+co.rZ.K3+"\t\t\t"+co.rZ.Og+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec4 getC(float x) { \t\t\t\tif(x>1.0) {  \t\t\t\t\tvec4 a = texture2D(map, vec2((254.5/256.0), 0));\t\t\t\t\tvec4 b = texture2D(map, vec2((255.5/256.0), 0));\t\t\t\t\treturn b + (b-a)*(x-1.0)*255.0; \t\t\t\t} \t\t\t\treturn texture2D(map, vec2((0.5/256.0)+x*(255.0/256.0), 0)); \t\t\t}\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = getC(src.r).r;\t\t\t\tfloat g = getC(src.g).g;\t\t\t\tfloat b = getC(src.b).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.SL(z,co.Fc.LP)};co.Kh[0].prototype=new co.P8;co.Kh[0].prototype.zm=function(z,J){var p={o:J.vm,k:J.vg,X:J.D1,k6:new Float32Array(J.vm.length)};
p.k6.fill(1);var n=p.o.length,B=this.a95["m"+n];if(B==null)B=this.a95["m"+n]={amE:new co.rk(n,1,co.Ib()),R1:a.j(n*4,32)};
a.s7(p,B.R1);var c=B.amE;c.set(B.R1);this.lG(["source","map","toGray","presLum"]);var t=co.$l,u=this.Vh;
t.uniform1f(u.toGray,J.zc?1:0);t.uniform1f(u.presLum,J.YV?1:0);this.S1([u.source,z,u.map,c.zu]);t.activeTexture(t.TEXTURE1);
var v=t.LINEAR;t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,v);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,v);
t.activeTexture(t.TEXTURE0)};co.Kh[1]=function(){co.P8.call(this);this.M4=new co.rk(256,1,co.Ib());var z="\t\t\t\tprecision highp float;\t\t\t\t"+co.rZ.tr+"\t\t\t\t"+co.rZ.X5+"\t\t\t\t"+co.rZ.no+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h+0.0015, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g; \t\t\t\t\tfloat lc = mapv.b; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359*0.5)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.SL(z,co.Fc.LP)};co.Kh[1].prototype=new co.P8;co.Kh[1].prototype.zm=function(z,J){this.M4.set(J.map);
this.lG(["source","map","cfa","cfb","colorize"]);var p=co.$l,n=this.Vh;p.uniform1f(n.cfa,J.adD);p.uniform1f(n.cfb,J.XG);
p.uniform1i(n.colorize,J.agv);this.S1([n.source,z,n.map,this.M4.zu]);p.activeTexture(p.TEXTURE1);var B=p.LINEAR;
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,B);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,B);
p.activeTexture(p.TEXTURE0)};co.Kh[2]=function(){co.P8.call(this);var z="\t\t\tprecision mediump float;\t\t\t"+co.rZ.tr+"\t\t\t"+co.rZ.HC+"\t\t\t"+co.rZ.u4+"\t\t\t"+co.rZ.X5+"\t\t\t"+co.rZ.no+"\t\t\t"+co.rZ.axn+"\t\t\t"+co.rZ.aJ6+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.SL(z,co.Fc.LP)};co.Kh[2].prototype=new co.P8;co.Kh[2].prototype.zm=function(z,J){this.lG(["source","vib","sat","yF"]);
var p=co.$l,n=this.Vh;p.uniform1f(n.vib,J.Xu[0]);p.uniform1f(n.sat,J.Xu[1]);p.uniform3fv(n.yF,new Float32Array([J.Xu[2],J.Xu[3],J.Xu[3]]));
this.S1([n.source,z])};co.Kh[3]=function(){co.P8.call(this);var z="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.SL(z,co.Fc.LP)};co.Kh[3].prototype=new co.P8;co.Kh[3].prototype.zm=function(z,J){this.lG(["source","trf"]);
var p=co.$l,n=this.Vh;p.uniformMatrix4fv(n.trf,!1,new Float32Array(a.gr.dg(J.bp)));this.S1([n.source,z])};
co.Kh[4]=function(){co.P8.call(this);var z="\t\t\tprecision mediump float; \t\t\t"+co.rZ.ym+"\t\t\t"+co.rZ.tr+"\t\t\t"+co.rZ.no+"\t\t\t"+co.rZ.X5+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.SL(z,co.Fc.LP)};co.Kh[4].prototype=new co.P8;co.Kh[4].prototype.zm=function(z,J){this.lG(["source","mnm","mxm","shift","lim"]);
var p=co.$l,n=this.Vh;p.uniform3fv(n.mnm,new Float32Array(J.Va));p.uniform3fv(n.mxm,new Float32Array(J.ZJ));
p.uniform3fv(n.shift,new Float32Array(J.shift));p.uniform1f(n.lim,J.w2);this.S1([n.source,z])};co.Kh[5]=function(){co.P8.call(this);
var z="\t\t\tprecision mediump float;\t\t\t"+co.rZ.Og+"\t\t\t"+co.rZ.me+"\t\t\t"+co.rZ.agE+"\t\t\t"+co.rZ.X5+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.SL(z,co.Fc.LP)};co.Kh[5].prototype=new co.P8;co.Kh[5].prototype.zm=function(z,J){this.lG(["source","cfs"]);
var p=co.$l,n=this.Vh;p.uniform3fv(n.cfs,J.ak0);this.S1([n.source,z])};co.Kh[6]=function(){co.P8.call(this);
var z="\t\t\tprecision mediump float;\t\t\t"+co.rZ.tr+"\t\t\t"+co.rZ.me+"\t\t\t"+co.rZ.agE+"\t\t\t"+co.rZ.X5+"\t\t\t"+co.rZ.no+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.SL(z,co.Fc.LP)};co.Kh[6].prototype=new co.P8;co.Kh[6].prototype.zm=function(z,J){this.lG(["source","wght","prms"]);
var p=co.$l,n=this.Vh,B=[J.Zm,J.ano,J.K3,J.agg,J.ug,J.aBB];p.uniform1fv(n.wght,new Float32Array(J.avx));
p.uniform1fv(n.prms,new Float32Array(B));this.S1([n.source,z])};co.Kh[7]=function(){co.P8.call(this);
this.u3={};var z="\t\t\tprecision mediump float;\t\t\t"+co.rZ.alC+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.SL(z,co.Fc.LP)};co.Kh[7].prototype=new co.P8;co.Kh[7].prototype.zm=function(z,J){this.lG(["source","lut","N"]);
var p=co.$l,n=this.Vh,B=J.EL,c=J.sM;if(this.u3["m"+B]==null)this.u3["m"+B]=new co.rk(B,B*B,co.Ib());
var t=this.u3["m"+B];t.set(c);p.uniform1f(n.N,B);this.S1([n.source,z,n.lut,t.zu]);p.activeTexture(p.TEXTURE1);
var u=p.LINEAR;p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,u);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,u);
p.activeTexture(p.TEXTURE0)};co.filter={Nq:{},LP:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",aac:0,at$:1,wF:2,aHp:8,aFw:3,aD6:4,aA3:5,b6:6,ajY:7};
co.filter.PW=function(z,J){var p=co.filter,n,B=z.I+":"+(z.z2?z.z2.join(","):""),n=co.filter.Nq[B];if(n==null)n=co.filter.Nq[B]=new co.Nq[z.I](z.z2);
n.KI();n.zm(J,z);co.$l.drawArrays(co.$l.TRIANGLES,0,6)};co.Nq=[0,0,0,0,0,0,0,0,0,0,0,0];co.Nq[7]=function(){co.P8.call(this);
var z="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.SL(iX.DX(z),iX.DX(co.filter.LP))};co.Nq[7].prototype=new co.P8;co.Nq[7].prototype.zm=function(z,J){this.lG(["source","iwh","kern"]);
var p=co.$l,n=this.Vh;p.uniform2fv(n.iwh,J.lw);p.uniform1fv(n.kern,J.aB$);this.S1([n.source,z])};co.Nq[6]=function(z){co.P8.call(this);
var J=z[0],p=z[1],n=z[2],B="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|NNrafa%[}=3495/&+&I1)'VgAFAd;wGOE/^PY8ggmsAz zK1",c=iX.DX(B);
c=c.replaceAll("PRC",n+".0");c=c.replaceAll("DIR",["x,0","0,x"][p]);this.SL(c,co.Fc.LP)};co.Nq[6].prototype=new co.P8;
co.Nq[6].prototype.zm=function(z,J){this.lG(["source","iwh","rad"]);var p=co.$l,n=this.Vh;p.uniform2fv(n.iwh,J.lw);
p.uniform1f(n.rad,J.nN);this.S1([n.source,z])};co.Nq[4]=function(z){co.P8.call(this);var J=z[0],p=z[1],n="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+z[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][p]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][J]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][p]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(p==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.SL(n,co.Fc.LP)};co.Nq[4].prototype=new co.P8;co.Nq[4].prototype.zm=function(z,J){this.lG(["source","iwh","rrad","tr"]);
var p=co.$l,n=this.Vh;p.uniform2fv(n.iwh,J.lw);p.uniform1f(n.rrad,J.TU);p.uniform1f(n.tr,J.a38);this.S1([n.source,z]);
var B=p.LINEAR;B=p.NEAREST;p.activeTexture(p.TEXTURE0);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,B);
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,B);p.activeTexture(p.TEXTURE0)};co.Nq[5]=function(){co.P8.call(this);
var z="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.SL(iX.DX(z),iX.DX(co.filter.LP))};co.Nq[5].prototype=new co.P8;co.Nq[5].prototype.zm=function(z,J){this.lG(["source","ssum","iwh","amnt","edgf"]);
var p=co.$l,n=this.Vh;p.uniform2fv(n.iwh,J.lw);p.uniform1f(n.amnt,J.aKh);p.uniform1f(n.edgf,J.agx);this.S1([n.source,z,n.ssum,J.a1k])};
co.Nq[3]=function(){co.P8.call(this);var z="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.SL(iX.DX(z),iX.DX(co.filter.LP))};co.Nq[3].prototype=new co.P8;co.Nq[3].prototype.zm=function(z,J){this.lG("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var p=co.$l,n=this.Vh;p.uniform2fv(n.iwh,J.lw);p.uniform1f(n.tdep,J.avv);p.uniform1f(n.rrad,J.TU);p.uniform2fv(n.spec,J.akv);
p.uniform3fv(n.nois,J.amz);p.uniformMatrix4fv(n.poly0,!1,J.a3O);p.uniformMatrix4fv(n.poly1,!1,J.aER);
this.S1([n.source,z]);var B=p.LINEAR;p.activeTexture(p.TEXTURE0);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,B);
p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,B);p.activeTexture(p.TEXTURE0)};co.Nq[0]=function(){co.P8.call(this);
var z="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.SL(iX.DX(z),iX.DX(co.filter.LP))};co.Nq[0].prototype=new co.P8;co.Nq[0].prototype.zm=function(z,J){this.lG(["source","iwh","ld","shine"]);
var p=co.$l,n=this.Vh;p.uniform2fv(n.iwh,J.lw);p.uniform3fv(n.ld,J.aBv);p.uniform1f(n.shine,J.abk);this.S1([n.source,z,n.tang,J.qX])};
co.Nq[1]=function(){co.P8.call(this);var z="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.SL(iX.DX(z),iX.DX(co.filter.LP))};co.Nq[1].prototype=new co.P8;co.Nq[1].prototype.zm=function(z,J){this.lG(["source","iwh","isc","bristle"]);
var p=co.$l,n=this.Vh;p.uniform2fv(n.iwh,J.lw);p.uniform1f(n.isc,J.aIA);p.uniform1f(n.bristle,J.aE8);
this.S1([n.source,z])};co.Nq[2]=function(){co.P8.call(this);var z="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.SL(iX.DX(z),iX.DX(co.filter.LP))};co.Nq[2].prototype=new co.P8;co.Nq[2].prototype.zm=function(z,J){this.lG(["source","tang","iwh","sigma","expo"]);
var p=co.$l,n=this.Vh;p.uniform2fv(n.iwh,J.lw);p.uniform1f(n.sigma,J.VU);p.uniform1f(n.expo,J.PC);this.S1([n.source,z,n.tang,J.qX]);
var B=p.LINEAR;p.activeTexture(p.TEXTURE0);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,B);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,B);
p.activeTexture(p.TEXTURE0)};co.Nq[8]=function(){co.P8.call(this);var z="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.SL(iX.fb(z),iX.DX(co.filter.LP))};co.Nq[8].prototype=new co.P8;co.Nq[8].prototype.zm=function(z,J){this.lG(["source","tang","iwh","sigma"]);
var p=co.$l,n=this.Vh;p.uniform2fv(n.iwh,J.lw);p.uniform1f(n.sigma,J.VU);this.S1([n.source,z,n.tang,J.qX]);
var B=p.LINEAR;p.activeTexture(p.TEXTURE0);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,B);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,B);
p.activeTexture(p.TEXTURE0)};function a(){}a.O={};a.abA={};a.G=function(z){return JSON.parse(JSON.stringify(z))};
a.zr=function(z){if(z instanceof co.rk)return z.depth;return z instanceof Float32Array?32:z instanceof Uint16Array?16:8};
a.hW=function(z){return z==8?255:z==16?65535:1};a.hg=function(z,J,p){var n=a.zr(z),B=z.length;if(n==J)return z;
if(p==null)p=a.j(B,J);if(J==8){if(n==16)for(var g=0;g<B;g++)p[g]=z[g]>>>8;if(n==32)for(var g=0;g<B;g++)p[g]=Math.min(255,~~(.5+255*z[g]))}else if(J==16){if(n==8)for(var g=0;
g<B;g++)p[g]=z[g]<<8|z[g];if(n==32)for(var g=0;g<B;g++)p[g]=Math.min(65535,65535*z[g])}else if(J==32){if(n==8)for(var g=0;
g<B;g++)p[g]=z[g]*(1/255);if(n==16)for(var g=0;g<B;g++)p[g]=z[g]*(1/65535)}return p};a.ao6=function(z,J){for(var g=0;
g<z.length;g+=2)z[g]=a.hg(z[g],J)};a.a66=function(){var z=[64,64,128,256,512,1024,2048],J=[];for(var g=0;
g<z.length;g++){var p=z[g],n=document.createElement("canvas");n.width=p;n.height=p;J.push(n.getContext("2d",{willReadFrequently:!0}))}return J}();
a.za=function(z,J){var p,n=a.a66,g=1,B=Math.max(z,J);while(g<n.length&&B>n[g].canvas.width)g++;if(g==n.length){p=n[0];
var c=p.canvas;c.width=z;c.height=J}else{p=n[g];p.clearRect(0,0,z,J)}return p};a.fr=function(z,J,p,n){if(n==null)n=new Uint32Array(J*p);
n[0]=z[0];for(var B=1;B<J;B++)n[B]=n[B-1]+z[B];for(var c=1;c<p;c++){var g=c*J;n[g]=n[g-J]+z[g];for(var B=1;
B<J;B++)n[g+B]=z[g+B]+n[g+B-1]+n[g+B-J]-n[g+B-J-1]}return n};a.Z3=function(z,J,p,n,B,c){var t=(B-1)*J,u=c*J;
return z[u+n]-z[u+p-1]-z[t+n]+z[t+p-1]};a.anE=function(z,J,p,n){var B=J*4;if(n==null)n=new Uint32Array(J*p*4);
n[0]=z[0];n[1]=z[1];n[2]=z[2];n[3]=z[3];for(var c=1;c<J;c++)a.as7(z,n,4,c<<2);for(var t=1;t<p;t++){var g=t*J<<2;
a.as7(z,n,B,g);for(var c=4;c<B;c+=4){var u=g+c;n[u]=z[u]+n[u-4]+n[u-B]-n[u-B-4];n[u+1]=z[u+1]+n[u-3]+n[u-B+1]-n[u-B-3];
n[u+2]=z[u+2]+n[u-2]+n[u-B+2]-n[u-B-2];n[u+3]=z[u+3]+n[u-1]+n[u-B+3]-n[u-B-1]}}return n};a.as7=function(z,J,p,g){J[g]=J[g-p]+z[g];
J[g+1]=J[g-p+1]+z[g+1];J[g+2]=J[g-p+2]+z[g+2];J[g+3]=J[g-p+3]+z[g+3]};a.ab7=function(z,J,p,n,B,c){var t=B+p<<2,u=B+J<<2,v=n+p<<2,A=n+J<<2;
c[0]+=z[t]-z[u]-z[v]+z[A];c[1]+=z[t+1]-z[u+1]-z[v+1]+z[A+1];c[2]+=z[t+2]-z[u+2]-z[v+2]+z[A+2];c[3]+=z[t+3]-z[u+3]-z[v+3]+z[A+3]};
a.TP=function(z,J,p){var n={},B=0,c=0,t=new Uint32Array(z.buffer),u=t.length,v=Date.now();for(var A=1;
A<p-1;A++)for(var $=1;$<J-1;$++){var X=A*J+$,U=t[X];if(U>>>24<230)c++;if(n[U]==null){n[U]=!0;B++}}if(c!=0||B<20)return!1;
return!0};a.jp=function(z,J,p,n,B,c){if(B==null)B=c=0;var t=Math.round(Math.log(n)/Math.log(2)),u=new Uint32Array(z.buffer);
for(var g=0;g<p;g++)for(var v=0;v<J;v++){u[g*J+v]=a.aa8(g+c,v+B,t)}};a.a3p=function(g,z,J){return 255-((g>>>J)+(z>>>J)&1)*51};
a.aa8=function(g,z,J){return 4294967295-((g>>>J)+(z>>>J)&1)*3355443};a.g8=function(z,J){var p=J==null?1:J/255;
return{o:(z>>>16&255)*p,k:(z>>>8&255)*p,X:(z&255)*p}};a.fa=function(z,J){var p=J==null?1:255/J;return Math.round(z.o*p)<<16|Math.round(z.k*p)<<8|Math.round(z.X*p)};
a.fX=function(z){var J=z.toString(16);while(J.length<6)J="0"+J;return J};a.av2=function(z){return parseInt(z,16)};
a.K3=function(z){return.3*z.o+.59*z.k+.11*z.X};a.HW=function(z){return Math.max(z.o,z.k,z.X)-Math.min(z.o,z.k,z.X)};
a.b2=function(z,J,p){return.3*z+.59*J+.11*p};a.anK=function(z,J,p){return Math.max(z,J,p)-Math.min(z,J,p)};
a.me=function(z,J){var p=J-z,n=Math.abs(p),B=p-1,c=p+1;if(Math.abs(B)<n)p=B;else if(Math.abs(c)<n)p=c;
return p};a.hI=function(z){return z<.0031308?12.92*z:1.055*Math.pow(z,1/2.4)-.055};a.Wg=function(z){return z<.04045?z/12.92:Math.pow((z+.055)/1.055,2.4)};
a.aoh=function(z){var J=new Uint8Array(256);for(var g=0;g<256;g++)J[g]=~~(.5+255*a.hI(g/255));for(var g=0;
g<z.length;g++)z[g]=J[z[g]]};a.Yn=function(z){var J=new Uint8Array(256);for(var g=0;g<256;g++)J[g]=~~(.5+255*a.Wg(g/255));
for(var g=0;g<z.length;g++)z[g]=J[z[g]]};a.aEE=function(z,J){var p=Math.min(z.length,J.length);for(var g=0;
g<p;g+=4){var n=z[g],B=z[g+1],c=z[g+2];J[g]=16+Math.floor(65.481/255*n+128.553/255*B+24.966/255*c+.5);
J[g+1]=128-Math.floor(37.797/255*n-74.203/255*B+112/255*c+.5);J[g+2]=128+Math.floor(112/255*n-93.786/255*B-18.214/255*c+.5);
J[g+3]=z[g+3]}};a.acZ=function(z,J,p){var n,B,c,t=Math.max(z,J,p),u=Math.min(z,J,p);c=t;if(t!=0)B=(t-u)/t;
else B=0;if(B==0)n=0;else{var v=t-u,A=(t-z)/v,$=(t-J)/v,X=(t-p)/v;if(z==t)n=X-$;else if(J==t)n=2+A-X;
else n=4+$-A;n*=1/6;if(n<0)n=n+1}return{tK:n,Q5:B,X:c}};a.aFF=function(z,J,p){var n=0,B=0,c=0;if(J==0)n=B=c=p;
else{var t=(z-Math.floor(z))*6,u=Math.floor(t),v=t-Math.floor(t),A=p*(1-J),$=p*(1-J*v),X=p*(1-J*(1-v));
switch(u){case 0:n=p;B=X;c=A;break;case 1:n=$;B=p;c=A;break;case 2:n=A;B=p;c=X;break;case 3:n=A;B=$;
c=p;break;case 4:n=X;B=A;c=p;break;case 5:n=p;B=A;c=$;break}}return{o:n,k:B,X:c}};a.X5=function(z,J,p){var n=Math.max(z,J,p),B=Math.min(z,J,p),c=0,t=0,u=(n+B)*.5;
if(n!=B){var v=n-B;t=u>.5?v/(2-(n+B)):v/(n+B);switch(n){case z:c=(J-p)/v+(J<p?6:0);break;case J:c=(p-z)/v+2;
break;case p:c=(z-J)/v+4;break}c*=1/6}return{tK:c,Q5:t,w8:u}};a.no=function(z,J,p){var n,B,c;if(J==0)n=B=c=p;
else{var t=p<.5?p*(1+J):p+J-p*J,u=2*p-t;n=a.tr(u,t,z+1/3);B=a.tr(u,t,z);c=a.tr(u,t,z-1/3)}return{o:n,k:B,X:c}};
a.tr=function(z,J,p){if(p<0)p+=1;if(p>1)p-=1;if(p<1/6)return z+(J-z)*6*p;if(p<1/2)return J;if(p<2/3)return z+(J-z)*(2/3-p)*6;
return z};a.HC=function(z,J,p){var n=Math.max(z,J,p),B=Math.min(z,J,p),c,t,u=n,v=n-B;t=n==0?0:v/n;if(n==B)c=0;
else{switch(n){case z:c=(J-p)/v+(J<p?6:0);break;case J:c=(p-z)/v+2;break;case p:c=(z-J)/v+4;break}c*=1/6}return{tK:c,Q5:t,Mf:u}};
a.u4=function(z,J,p){var n,B,c,g,t,u,v,A;g=Math.floor(z*6);t=z*6-g;u=p*(1-J);v=p*(1-t*J);A=p*(1-(1-t)*J);
switch(g%6){case 0:n=p,B=A,c=u;break;case 1:n=v,B=p,c=u;break;case 2:n=u,B=p,c=A;break;case 3:n=u,B=v,c=p;
break;case 4:n=A,B=u,c=p;break;case 5:n=p,B=u,c=v;break}return{o:n,k:B,X:c}};a.nr=function(){var z=[],J=[];
for(var g=0;g<8e3;g++){var p=g*(1/4e3);z[g]=a.Wg(p);J[g]=p>.008856?Math.pow(p,1/3):(903.3*p+16)*(1/116)}return[z,J]}();
a.ym=function(z,J,p,n){if(n==null)n=[.9642,1,.8249];var B=a.nr[0],c=a.nr[1];z=B[~~(.5+z*(4e3/255))];
J=B[~~(.5+J*(4e3/255))];p=B[~~(.5+p*(4e3/255))];var t=a.gr.aiq,u=t[0]*z+t[1]*J+t[2]*p,v=t[4]*z+t[5]*J+t[6]*p,A=t[8]*z+t[9]*J+t[10]*p;
u=u*(1/n[0]);v=v*(1/n[1]);A=A*(1/n[2]);return a.aFn(u,v,A)};a.aFn=function(z,J,p){var n=a.nr[1],B=n[~~(.5+z*4e3)],c=n[~~(.5+J*4e3)],t=n[~~(.5+p*4e3)];
return{Z5:116*c-16,k6:500*(B-c),X:200*(c-t)}};a.p6=function(z,J,p){var n=903.3,B=.008856,c=(z+16)/116,t=c*c*c,u=c-p/200,v=u*u*u,A=J/500+c,$=A*A*A,X=v>B?v:(116*u-16)/n,U=t>B?t:(116*c-16)/n,w=$>B?$:(116*A-16)/n,P=w*96.42,k=U*100,T=X*82.49,Z=a.gr.V9(a.gr.uW,[P/100,k/100,T/100,0]);
for(var g=0;g<4;g++)Z[g]=Math.max(0,Math.min(255,a.hI(Z[g])*255));return{o:Z[0],k:Z[1],X:Z[2]}};a.ajs=function(z,J,p,n,B){var c=z.Z5,t=z.k6,u=z.X,v=(c<J.Z5?J.Z5-c:p.Z5<c?p.Z5-c:0)*(1/100),A=(t<J.k6?J.k6-t:p.k6<t?p.k6-t:0)*(1/116),$=(u<J.X?J.X-u:p.X<u?p.X-u:0)*(1/116),X=Math.sqrt(v*v+A*A+$*$)*1.35;
return X<=n?Math.min(1,1.17*(1-X*B)):0};a.oc=function(z){var J=a.Ff("cmykToRgb"),p=J[2],n=J[3],B=[0,0,0,0];
ICC.U.applyLUT4(n,p,z,B);return B};a.akY=function(z){var J=a.Ff("cmykToRgb"),p=J[2],n=J[3];ICC.U.applyLUT4(n,p,z,z)};
a.a8u=function(){var z=function(lj){return Math.round(lj*255)},J="",p=3;for(var g=0;g<tab.length;g++){var n=z(tab[g]);
if(p<=g)n=n-z(tab[g-p])+256&255;J+=n.toString(16).padStart(2,"0")}return J};a.Ff=function(z){var J=LUTS["_"+z];
if(J==null){var p=LUTS[z],n=p[0],lj=p[1],B=p[2],c=p[3],t=[];for(var g=0;g<c.length;g+=2)t.push(parseInt(c.slice(g,g+2),16));
for(var g=lj;g<t.length;g++)t[g]=t[g]+t[g-lj]&255;for(var g=0;g<t.length;g++)t[g]*=1/255;J=LUTS["_"+z]=[n,lj,B,t]}return J};
a.KK=function(z){var J=a.Ff("rgbToCmyk"),p=J[2],n=J[3],B=[0,0,0,0];ICC.U.applyLUT3to4(n,p,z,B);return B};
a.alZ=function(z){var J=a.Ff("rgbToCmyk"),p=J[2],n=J[3];ICC.U.applyLUT3to4(n,p,z,z);a.oU(z)};a.rz=function(z,J,p){var n=z.length,B=.3,c=.59,t=.11;
if(p){B=p[0];c=p[1];t=p[2]}for(var g=0;g<n;g+=4)J[g>>2]=~~(z[g+0]*B+z[g+1]*c+z[g+2]*t+.5)};a.eG=function(z,J){var p=J.length;
for(var g=0;g<p;g+=4){var n=z[g>>>2];J[g]=n;J[g+1]=n;J[g+2]=n}};a.s7=function(z,J){var p=a.zr(z.k6),n=a.zr(J);
if(p!=n)throw"e";if(p==8)a.aIJ(z,J);else{var B=z.o,c=z.k,t=z.X,u=z.k6;for(var g=0;g<J.length;g+=4){var v=g>>>2;
J[g]=B[v];J[g+1]=c[v];J[g+2]=t[v];J[g+3]=u[v]}}};a.aIJ=function(z,J){var p=z.k6,n=z.o,B=z.k,c=z.X,t=Math.min(z.k6.length,J.buffer.byteLength>>>2),u=4*Math.floor(t/4),v=new Uint32Array(J.buffer),A=new Uint32Array(p.buffer),$=new Uint32Array(n.buffer),X=new Uint32Array(B.buffer),U=new Uint32Array(c.buffer);
for(var g=0;g<u;g+=4){var w=A[g>>2],P=U[g>>2],k=X[g>>2],T=$[g>>2];v[g]=w<<24|(P&255)<<16|(k&255)<<8|T&255;
v[g+1]=(w&65280)<<16|(P&65280)<<8|k&65280|(T&65280)>>>8;v[g+2]=(w&16711680)<<8|P&16711680|(k&16711680)>>>8|(T&16711680)>>>16;
v[g+3]=w&4278190080|(P&4278190080)>>>8|(k&4278190080)>>>16|(T&4278190080)>>>24}for(var g=u;g<t;g++)v[g]=p[g]<<24|c[g]<<16|B[g]<<8|n[g]};
a.eJ=function(z,J){var p=a.zr(J.k6),n=a.zr(z);if(p!=n)throw"e";if(p==8)a.av8(z,J);else{var B=J.o,c=J.k,t=J.X,u=J.k6;
for(var g=0;g<z.length;g+=4){var v=g>>>2;B[v]=z[g];c[v]=z[g+1];t[v]=z[g+2];u[v]=z[g+3]}}};a.av8=function(z,J){var p=J.k6,n=J.o,B=J.k,c=J.X,t=Math.min(J.k6.length,z.buffer.byteLength>>>2),u=4*Math.floor(t/4),v=new Uint32Array(z.buffer),A=new Uint32Array(p.buffer),$=new Uint32Array(n.buffer),X=new Uint32Array(B.buffer),U=new Uint32Array(c.buffer);
for(var g=0;g<u;g+=4){var w=v[g],P=v[g+1],k=v[g+2],T=v[g+3];$[g>>2]=w&255|(P&255)<<8|(k&255)<<16|T<<24;
X[g>>2]=(w&65280)>>8|P&65280|(k&65280)<<8|(T&65280)<<16;U[g>>2]=(w&16711680)>>16|(P&16711680)>>8|k&16711680|(T&16711680)<<8;
A[g>>2]=w>>>24|P>>>24<<8|k>>>24<<16|T&4278190080}for(var g=u;g<t;g++){var Z=v[g];n[g]=Z>>0&255;B[g]=Z>>8&255;
c[g]=Z>>16&255;p[g]=Z>>24&255}};a.Tm=function(z,J,p){var n=Math.min(z.length/4,J.length),B=a.zr(z);if(B!=a.zr(J))throw"e";
if(B==8){for(var g=0;g<n;g++){J[g]=z[(g<<2)+p]}}else for(var g=0;g<n;g++){J[g]=z[(g<<2)+p]}};a.DE=function(z,J,p){var n=a.zr(z);
if(n!=a.zr(J))throw"e";var B=Math.min(J.length>>>2,z.length);if(n==8){var c=new Uint8Array(J.buffer),t=new Uint32Array(z.buffer),g=0;
while(g+4<B){var u=t[g>>>2];c[(g<<2)+p]=u&255;c[(g<<2)+p+4]=u>>>8&255;c[(g<<2)+p+8]=u>>>16&255;c[(g<<2)+p+12]=u>>>24;
g+=4}while(g<B){c[(g<<2)+p]=z[g];g++}}else{for(var g=0;g<B;g++)J[(g<<2)+p]=z[g]}};a.dz=function(z,J){new Uint32Array(z.buffer).fill(J)};
a.Y1=function(z,J,p,n){var B=a.zr(z),c=a.hW(B),t=z.length,u=Math.round(J*c),v=Math.round(p*c),A=Math.round(n*c);
if(B==8)for(var g=0;g<t;g+=4){z[g]=u;z[g+1]=v;z[g+2]=A}if(B==16)for(var g=0;g<t;g+=4){z[g]=u;z[g+1]=v;
z[g+2]=A}if(B==32)for(var g=0;g<t;g+=4){z[g]=J*c;z[g+1]=p*c;z[g+2]=n*c}};a.o2=function(z,J){var p=a.zr(z),n=a.hW(p),B=z.length,c=Math.round(J*n);
if(p==8)for(var g=0;g<B;g+=4){z[g+3]=c}if(p==16)for(var g=0;g<B;g+=4){z[g+3]=c}if(p==32)for(var g=0;
g<B;g+=4){z[g+3]=J*n}};a.aks=function(z,J,p,n,B){if(B==null)B=0;var c=new Uint32Array(z.buffer);p=p.ly(J);
var t=p.x-J.x,u=p.y-J.y,v=p.r,A=p.$,$=J.r;for(var X=0;X<A;X++){var g=(u+X)*$+t;for(var U=0;U<v;U++){c[g]=c[g]&B|n;
g++}}};a._U=function(z,J){var p=Math.min(z.buffer.byteLength,J.buffer.byteLength),n=p>>>2,B=new Uint32Array(z.buffer,0,n),c=new Uint32Array(J.buffer,0,n);
c.set(B)};a.Vm=function(z,J){var p=z.buffer.byteLength,n=J.buffer.byteLength,B=new Uint32Array(z.buffer,0,p>>2),c=new Uint32Array(J.buffer,0,n>>2);
if(p!=n)return!1;var t=B.length;for(var g=0;g<t;g++)if(c[g]!=B[g])return!1;return!0};a.oU=function(z){var J=a.zr(z),p=z.length;
if(J==8)for(var g=0;g<p;g++)z[g]=~z[g];if(J==16)for(var g=0;g<p;g++)z[g]=~z[g];if(J==32)for(var g=0;
g<p;g++)z[g]=1-z[g]};a.anD=function(z){var J=z.length;for(var g=0;g<J;g+=4){z[g]=~z[g];z[g+1]=~z[g+1];
z[g+2]=~z[g+2]}};a.amC=function(z){var J=z.length;for(var g=3;g<J;g+=4)z[g]=~z[g]};a.afJ=function(z){return z+(z%4==0?0:4-z%4)};
a.j=function(z,J){if(J==null)J=8;var p=J==8?Uint8Array:J==16?Uint16Array:Float32Array;if(J==8)z=a.afJ(z);
if(J==16)z+=z&1;try{var n=new p(z)}catch(l5){alert("Not enough RAM! (need "+Math.round(z/(1<<20))+" MB)",7e3);
throw"low_ram"}return n};a.a89=function(z){var J=z.eE.r,p=z.eE.$,n=J*4,B=J*p,c=new Uint8Array(z.data),t=0,u=0;
for(var v=1;v<p;v++)for(var A=1;A<J;A++){var g=(v*J+A)*4;if(c[g-1]==0&&c[g+3]==0&&c[g-n+3]==0){u++;var $=c[g],X=c[g+1],U=c[g+2],w=$-c[g-4],P=$-c[g-n],k=X-c[g-3],T=X-c[g-n+1],Z=U-c[g-2],i=U-c[g-n+2];
if(w*w+k*k+Z*Z!=0&&P*P+T*T+i*i!=0)t++}}if(u/B>.01&&t/u>.05){var V=a.j(J*p);a.Tm(c,V,3);z.b8=[V];for(var g=0;
g<c.length;g+=4)c[g+3]=255}};a.aBT=function(z,J,p,n){if(n==null)n=0;var B=0;while(B+3<z.length&&z[B+3].C()>=n&&J.Nz()*(1<<(B>>>1))<p)B+=2;
var c=z[1],t=z[B+1],u=new fA;u.translate(-t.x,-t.y);u.scale(c.r/t.r,c.$/t.$);u.translate(c.x,c.y);u.concat(J);
return[B,u]};a.pG=function(z){var J=z.length,p=z[J-2],n=z[J-1];while(n.r>=2&&n.$>=2){var B=a.Wq(p,n);
z.push(B.R1,B.S);p=B.R1;n=B.S}};a.Sb=function(z){var J=z.length,p=z[J-2],n=z[J-1];while(n.r>=2&&n.$>=2){var B=a.gt(p,n);
z.push(B.R1,B.S);p=B.R1;n=B.S}};a.Wq=function(z,J,p){var n=J.r,B=J.$,c=n>>1,t=B>>1,u=new fw(J.x>>>1,J.y>>>1,c,t),v,A=a.zr(z);
if(A==8){v=p&&p.length==c*t*4?p:a.j(c*t*4);var $=new Uint32Array(z.buffer),X=new Uint32Array(v.buffer);
for(var U=0;U<t;U++)for(var w=0;w<c;w++){var P=U*c+w,k=(U<<1)*n+(w<<1),T=$[k],Z=$[k+1],i=$[k+n],V=$[k+n+1],_=T>>>24,y=Z>>>24,E=i>>>24,F=V>>>24,d=_+y+E+F;
if(d==1020){var x=(T>>>0&255)+(Z>>>0&255)+(i>>>0&255)+(V>>>0&255)+2>>>2,f=(T>>>8&255)+(Z>>>8&255)+(i>>>8&255)+(V>>>8&255)+2>>>2,Q=(T>>>16&255)+(Z>>>16&255)+(i>>>16&255)+(V>>>16&255)+2>>>2;
X[P]=255<<24|Q<<16|f<<8|x}else if(d==0)X[P]=0;else{var x=(T>>>0&255)*_+(Z>>>0&255)*y+(i>>>0&255)*E+(V>>>0&255)*F,f=(T>>>8&255)*_+(Z>>>8&255)*y+(i>>>8&255)*E+(V>>>8&255)*F,Q=(T>>>16&255)*_+(Z>>>16&255)*y+(i>>>16&255)*E+(V>>>16&255)*F,m=1/d;
x=~~(x*m+.5);f=~~(f*m+.5);Q=~~(Q*m+.5);X[P]=d+2>>>2<<24|Q<<16|f<<8|x}}}else{v=a.j(c*t*4,A);for(var U=0;
U<t;U++)for(var w=0;w<c;w++){var P=U*c+w<<2,k=(U<<1)*n+(w<<1)<<2,H=k,S=k+4,R=k+n*4,I=k+n*4+4,_=z[H+3],y=z[S+3],E=z[R+3],F=z[I+3],d=_+y+E+F;
if(d==0){}else{var m=1/d;v[P]=(z[H]*_+z[S]*y+z[R]*E+z[I]*F)*m;v[P+1]=(z[H+1]*_+z[S+1]*y+z[R+1]*E+z[I+1]*F)*m;
v[P+2]=(z[H+2]*_+z[S+2]*y+z[R+2]*E+z[I+2]*F)*m;v[P+3]=d*.25}}}return{S:u,R1:v}};a.atE=function(z,J,p){var n=J.r,B=J.$,c=n>>1,t=B>>1,u=new fw(J.x,J.y,c,t),v=p&&p.length==c*t*4?p:a.j(c*t*4),A=new Uint32Array(z.buffer),$=new Uint32Array(v.buffer);
for(var X=0;X<t;X++)for(var U=0;U<c;U++){var w=X*c+U,P=(X<<1)*n+(U<<1),k=A[P],T=A[P+1],Z=A[P+n],i=A[P+n+1],V=2+(k>>>0&255)+(T>>>0&255)+(Z>>>0&255)+(i>>>0&255)>>>2,_=2+(k>>>8&255)+(T>>>8&255)+(Z>>>8&255)+(i>>>8&255)>>>2,y=2+(k>>>16&255)+(T>>>16&255)+(Z>>>16&255)+(i>>>16&255)>>>2,E=2+(k>>>24&255)+(T>>>24&255)+(Z>>>24&255)+(i>>>24&255)>>>2;
$[w]=E<<24|y<<16|_<<8|V}return{S:u,R1:v}};a.avy=function(z,J,p){var n=J.r,B=J.$,c=2*Math.floor(n/3),t=2*Math.floor(B/3),u=new fw(J.x,J.y,c,t),v=p&&p.length==c*t*4?p:a.j(c*t*4),A=new Uint32Array(z.buffer),$=new Uint32Array(v.buffer);
for(var X=0;X<t;X+=2)for(var U=0;U<c;U+=2){var w=X*c+U,P=(X*3>>>1)*n+(U*3>>>1),k=A[P],T=A[P+1],Z=A[P+2],i=A[P+n],V=A[P+1+n],_=A[P+2+n],y=A[P+n+n],E=A[P+1+n+n],F=A[P+2+n+n],d=k>>>24<<2,x=(k>>>16&255)*d,f=(k>>>8&255)*d,Q=(k&255)*d,m=T>>>24<<1,H=(T>>>16&255)*m,S=(T>>>8&255)*m,R=(T&255)*m,I=Z>>>24<<2,D=(Z>>>16&255)*I,G=(Z>>>8&255)*I,C=(Z&255)*I,O=i>>>24<<1,Y=(i>>>16&255)*O,h=(i>>>8&255)*O,r=(i&255)*O,W=V>>>24,N=(V>>>16&255)*W,o=(V>>>8&255)*W,K=(V&255)*W,l=_>>>24<<1,aV=(_>>>16&255)*l,j=(_>>>8&255)*l,M=(_&255)*l,s=y>>>24<<2,l2=(y>>>16&255)*s,gm=(y>>>8&255)*s,iz=(y&255)*s,dC=E>>>24<<1,dL=(E>>>16&255)*dC,cP=(E>>>8&255)*dC,id=(E&255)*dC,jR=F>>>24<<2,hC=(F>>>16&255)*jR,eJ=(F>>>8&255)*jR,el=(F&255)*jR,eu=d+m+O+W,jY=I+m+l+W,fN=s+dC+O+W,jC=jR+dC+l+W,kF=eu==0?0:1/eu,i6=jY==0?0:1/jY,kT=fN==0?0:1/fN,kY=jC==0?0:1/jC,h9=0,bG=0,dQ=0,jn=0;
h9=~~(.5+(Q+R+r+K)*kF);bG=~~(.5+(f+S+h+o)*kF);dQ=~~(.5+(x+H+Y+N)*kF);jn=~~(.5+eu*(1/9));$[w]=jn<<24|dQ<<16|bG<<8|h9;
h9=~~(.5+(C+R+M+K)*i6);bG=~~(.5+(G+S+j+o)*i6);dQ=~~(.5+(D+H+aV+N)*i6);jn=~~(.5+jY*(1/9));$[w+1]=jn<<24|dQ<<16|bG<<8|h9;
h9=~~(.5+(iz+id+r+K)*kT);bG=~~(.5+(gm+cP+h+o)*kT);dQ=~~(.5+(l2+dL+Y+N)*kT);jn=~~(.5+fN*(1/9));$[w+c]=jn<<24|dQ<<16|bG<<8|h9;
h9=~~(.5+(el+id+M+K)*kY);bG=~~(.5+(eJ+cP+j+o)*kY);dQ=~~(.5+(hC+dL+aV+N)*kY);jn=~~(.5+jC*(1/9));$[w+c+1]=jn<<24|dQ<<16|bG<<8|h9}return{S:u,R1:v}};
a.aE5=function(z,J,p){var n=J.r,B=J.$,c=2*Math.floor(n/3),t=2*Math.floor(B/3),u=new fw(J.x,J.y,c,t),v=p&&p.length==c*t*4?p:a.j(c*t*4),A=new Uint32Array(z.buffer),$=new Uint32Array(v.buffer);
for(var X=0;X<t;X+=2)for(var U=0;U<c;U+=2){var w=X*c+U,P=(X*3>>>1)*n+(U*3>>>1),k=A[P],T=A[P+1],Z=A[P+2],i=A[P+n],V=A[P+1+n],_=A[P+2+n],y=A[P+n+n],E=A[P+1+n+n],F=A[P+2+n+n],d=(k>>>16&255)<<2,x=(k>>>8&255)<<2,f=(k&255)<<2,Q=(T>>>16&255)<<1,m=(T>>>8&255)<<1,H=(T&255)<<1,S=(Z>>>16&255)<<2,R=(Z>>>8&255)<<2,I=(Z&255)<<2,D=(i>>>16&255)<<1,G=(i>>>8&255)<<1,C=(i&255)<<1,O=V>>>16&255,Y=V>>>8&255,h=V&255,r=(_>>>16&255)<<1,W=(_>>>8&255)<<1,N=(_&255)<<1,o=(y>>>16&255)<<2,K=(y>>>8&255)<<2,l=(y&255)<<2,aV=(E>>>16&255)<<1,j=(E>>>8&255)<<1,M=(E&255)<<1,s=(F>>>16&255)<<2,l2=(F>>>8&255)<<2,gm=(F&255)<<2,iz=0,dC=0,dL=0;
iz=~~(.5+(f+H+C+h)*(1/9));dC=~~(.5+(x+m+G+Y)*(1/9));dL=~~(.5+(d+Q+D+O)*(1/9));$[w]=255<<24|dL<<16|dC<<8|iz;
iz=~~(.5+(I+H+N+h)*(1/9));dC=~~(.5+(R+m+W+Y)*(1/9));dL=~~(.5+(S+Q+r+O)*(1/9));$[w+1]=255<<24|dL<<16|dC<<8|iz;
iz=~~(.5+(l+M+C+h)*(1/9));dC=~~(.5+(K+j+G+Y)*(1/9));dL=~~(.5+(o+aV+D+O)*(1/9));$[w+c]=255<<24|dL<<16|dC<<8|iz;
iz=~~(.5+(gm+M+N+h)*(1/9));dC=~~(.5+(l2+j+W+Y)*(1/9));dL=~~(.5+(s+aV+r+O)*(1/9));$[w+c+1]=255<<24|dL<<16|dC<<8|iz}return{S:u,R1:v}};
a.hL=function(z){var J=255,p=z.length;p-=p&31;for(var g=3;g<p;g+=32)J=J&z[g]&z[g+4]&z[g+8]&z[g+12]&z[g+16]&z[g+20]&z[g+24]&z[g+28];
return J!=255};a.apQ=function(z,J,p,n){var B=a.Wq,c=a.avy,t={R1:z,S:J},u=a.a6j(p);for(var g=0;g<u.length;
g++){if(u[g]==2)t=B(t.R1,t.S,n);else t=c(t.R1,t.S,n)}return t};a.a23=function(z,J,p,n){var B=a.gt,c=a.auj,t={R1:z,S:J},u=a.a6j(p);
for(var g=0;g<u.length;g++){if(u[g]==2)t=B(t.R1,t.S,n);else t=c(t.R1,t.S,n)}return t};a.a6j=function(z){var J=[],p=z;
while(p<.499){J.push(2);p*=2}J.push(p<.5001?2:3);return J};a.gt=function(z,J,p){var n=J.r,B=J.$,c=n>>1,t=B>>1,u=new fw(J.x,J.y,c,t);
if(z==null)return{S:u};var v=p&&p.length>=c*t?p:a.j(c*t);for(var A=0;A<t;A++){var $=A*c;for(var X=0;
X<c;X++){var U=(A<<1)*n+(X<<1);v[$+X]=2+z[U]+z[U+1]+z[U+n]+z[U+n+1]>>>2}}return{S:u,R1:v}};a.auj=function(z,J,p){var n=J.r,B=J.$,c=2*Math.floor(n/3),t=2*Math.floor(B/3),u=new fw(J.x,J.y,c,t);
if(z==null)return{S:u};var v=p&&p.length>=c*t?p:a.j(c*t);for(var A=0;A<t;A+=2)for(var $=0;$<c;$+=2){var X=A*c+$,U=(A*3>>>1)*n+($*3>>>1),w=z[U]<<2,P=z[U+1]<<1,k=z[U+2]<<2,T=z[U+n]<<1,Z=z[U+1+n],i=z[U+2+n]<<1,V=z[U+n+n]<<2,_=z[U+1+n+n]<<1,y=z[U+2+n+n]<<2;
v[X]=~~(.5+(w+P+T+Z)*(1/9));v[X+1]=~~(.5+(k+P+i+Z)*(1/9));v[X+c]=~~(.5+(V+_+T+Z)*(1/9));v[X+c+1]=~~(.5+(y+_+i+Z)*(1/9))}return{S:u,R1:v}};
a.aj8=function(z,J,p,n,B){var c=J.ly(n);if(B)c=c.ly(B);var t=Math.max(0,c.x-J.x),u=Math.max(0,c.x-n.x),v=Math.max(0,c.y-J.y),A=Math.max(0,c.y-n.y),$=c.r,X=c.$;
for(var g=0;g<X;g++){var U=(v+g)*J.r+t,w=(A+g)*n.r+u;for(var P=0;P<$;P++){p[w+P]=Math.max(p[w+P],z[U+P])}}};
a._1=function(z,J,p,n,B){var c=J.ly(n);if(B)c=c.ly(B);var t=Math.max(0,c.x-J.x),u=Math.max(0,c.x-n.x),v=Math.max(0,c.y-J.y),A=Math.max(0,c.y-n.y),$=c.r,X=c.$,U=a.zr(z),w=a.zr(p);
if(U!=w)throw"e";var P=U>>>3,k=new Uint8Array(p.buffer);for(var g=0;g<X;g++){var T=(v+g)*J.r+t,Z=(A+g)*n.r+u;
k.set(new Uint8Array(z.buffer,T*P,$*P),Z*P)}};a.aAH=function(z,J,p,n){if(J.Vm(n)){a.DE(z,p,3);return}var B=J.ly(n),c=Math.max(0,B.x-J.x),t=Math.max(0,B.x-n.x),u=Math.max(0,B.y-J.y),v=Math.max(0,B.y-n.y),A=B.r,$=B.$;
for(var g=0;g<$;g++){var X=(u+g)*J.r+c,U=(v+g)*n.r+t;for(var w=0;w<A;w++)p[(U+w<<2)+3]=z[X+w]}};a.CO=function(z,J,p,n){var B=J.ly(n),c=Math.max(0,B.x-J.x),t=Math.max(0,B.x-n.x),u=Math.max(0,B.y-J.y),v=Math.max(0,B.y-n.y),A=B.r,$=B.$;
for(var g=0;g<$;g++){var X=(u+g)*J.r+c,U=(v+g)*n.r+t;for(var w=0;w<A;w++)p[U+w]=z[(X+w<<2)+3]}};a.nk=function(z,J,p,n,B){if(J.Vm(n)&&(B==null||B.Vm(n))){p.set(z);
return}var c=J.ly(n);if(B)c=c.ly(B);var t=Math.max(0,c.x-J.x),u=Math.max(0,c.x-n.x),v=Math.max(0,c.y-J.y),A=Math.max(0,c.y-n.y),$=c.r,X=c.$,U=4*(a.zr(p)>>>3),w=new Uint8Array(p.buffer);
for(var g=0;g<X;g++){var P=(v+g)*J.r+t,k=(A+g)*n.r+u;w.set(new Uint8Array(z.buffer,P*U,$*U),k*U)}};a.nG=function(z,J,p,n){var B=J.ly(n),c=Math.max(0,B.x-J.x),t=Math.max(0,B.x-n.x),u=Math.max(0,B.y-J.y),v=Math.max(0,B.y-n.y),A=B.r,$=B.$,X=z.k6,U=z.o,w=z.k,P=z.X,k=p.k6,T=p.o,Z=p.k,i=p.X;
for(var g=0;g<$;g++){var V=(u+g)*J.r+c,_=(v+g)*n.r+t;for(var y=0;y<A;y++){k[_+y]=X[V+y];T[_+y]=U[V+y];
Z[_+y]=w[V+y];i[_+y]=P[V+y]}}};a.Ie=function(z){var J=z.length,p=a.zr(z),n=a.hW(p),B=1/n;if(p==8)for(var g=0;
g<J;g+=4){var c=z[g+3];if(c==255)continue;z[g]=~~(z[g]*c*(1/255)+.5);z[g+1]=~~(z[g+1]*c*(1/255)+.5);
z[g+2]=~~(z[g+2]*c*(1/255)+.5)}else for(var g=0;g<J;g+=4){var c=z[g+3];if(c==n)continue;z[g]=z[g]*(c*B);
z[g+1]=z[g+1]*(c*B);z[g+2]=z[g+2]*(c*B)}};a.xI=function(z){var J=z.length,p=a.zr(z),n=a.hW(p),B=1/n;
if(p==8)for(var g=0;g<J;g+=4){var c=z[g+3];if(c==0||c==255)continue;var t=255/c;z[g]=~~(z[g]*t+.5);z[g+1]=~~(z[g+1]*t+.5);
z[g+2]=~~(z[g+2]*t+.5)}else{for(var g=0;g<J;g+=4){var c=z[g+3];if(c==0||c==n)continue;var t=n/c;z[g]=z[g]*t;
z[g+1]=z[g+1]*t;z[g+2]=z[g+2]*t}}};a.yv=function(z,J){for(var g=0;g<z.length;g++)if(z[g]!=J)return!1;
return!0};a.yj=function(z){return z+1+(z>>>8)>>>8};a.round=function(z,J){var p=a.zr(z),n=z.length;if(J==null)J=a.hW(p)>>>1;
if(p==8)for(var g=0;g<n;g++)z[g]=z[g]<J?0:255;if(p==16)for(var g=0;g<n;g++)z[g]=z[g]<J?0:65535;if(p==32)for(var g=0;
g<n;g++)z[g]=z[g]<J?0:1};a.ou=function(z,J){var p=z.length,n=a.zr(z);if(n==8)for(var g=0;g<p;g++)z[g]=Math.round(z[g]*J);
if(n==16)for(var g=0;g<p;g++)z[g]=Math.round(z[g]*J);if(n==32)for(var g=0;g<p;g++)z[g]=z[g]*J};a.iy=function(z,J){var p=a.zr(z);
if(p==8){var n=new Uint32Array(z.buffer),B=new Uint32Array(J.buffer),c=n.length;for(var g=0;g<c;g++){var t=n[g],u=B[g];
B[g]=a.yj((t>>>24)*(u>>>24))<<24|a.yj((t>>>16&255)*(u>>>16&255))<<16|a.yj((t>>>8&255)*(u>>>8&255))<<8|a.yj((t&255)*(u&255))}}else{var v=1/(p==16?65535:1);
for(var g=0;g<z.length;g++)J[g]=J[g]*z[g]*v}};a.PM=function(z,J){var p=a.zr(z);if(p!=a.zr(J))throw"e";
var n=z.length;if(p==8)for(var g=0;g<n;g++)J[(g<<2)+3]=J[(g<<2)+3]*z[g]*(1/255);if(p==16)for(var g=0;
g<n;g++)J[(g<<2)+3]=J[(g<<2)+3]*z[g]*(1/65535);if(p==32)for(var g=0;g<n;g++)J[(g<<2)+3]=J[(g<<2)+3]*z[g]};
a.abP=function(z,J,p,n){var B=Math.max(0,n.x-J.x),c=Math.max(0,J.x-n.x),t=Math.max(0,n.y-J.y),u=Math.max(0,J.y-n.y),v=Math.min(J.x+J.r,n.x+n.r)-Math.max(J.x,n.x),A=Math.min(J.y+J.$,n.y+n.$)-Math.max(J.y,n.y);
for(var g=0;g<A;g++){var $=(t+g)*J.r+B,X=(u+g)*n.r+c;for(var U=0;U<v;U++){p[X]=a.yj(p[X]*z[$]);$++;X++}}};
a.ph=function(z,J,p,n,B){var c=a.zr(z),t=J.ly(n);if(B)t=t.ly(B);var u=Math.max(0,t.x-J.x),v=Math.max(0,t.x-n.x),A=Math.max(0,t.y-J.y),$=Math.max(0,t.y-n.y),X=t.r,U=t.$;
for(var g=0;g<U;g++){var w=(A+g)*J.r+u,P=(($+g)*n.r+v<<2)+3;for(var k=0;k<X;k++){if(c==8)p[P]=a.yj(p[P]*z[w]);
else if(c==16)p[P]=p[P]*z[w]*(1/65535);else if(c==32)p[P]=p[P]*z[w];w++;P+=4}}};a.zY=function(z,J,p,n,B){var c=a.zr(z),t=J.ly(n);
if(B)t=t.ly(B);var u=Math.max(0,t.x-J.x),v=Math.max(0,t.x-n.x),A=Math.max(0,t.y-J.y),$=Math.max(0,t.y-n.y),X=t.r,U=t.$;
for(var g=0;g<U;g++){var w=((A+g)*J.r+u<<2)+3,P=(($+g)*n.r+v<<2)+3;for(var k=0;k<X;k++){if(c==8)p[P]=a.yj(p[P]*z[w]);
else if(c==16)p[P]=p[P]*z[w]*(1/65535);else if(c==32)p[P]=p[P]*z[w];w+=4;P+=4}}};a.iq=function(z,J){var p=a.zr(z),n=a.hW(p),B=255/n,U=0;
if(J==null)J=1;var c=4*J,t=z.length>>>2,u=new Float64Array(256),v=new Float64Array(256),A=new Float64Array(256),$=new Float64Array(256),X=4*Math.floor(t/J)*J;
for(var g=0;g<X;g+=c){var w=Math.min(255,Math.round(B*z[g+0])),P=Math.min(255,Math.round(B*z[g+1])),k=Math.min(255,Math.round(B*z[g+2])),T=B*z[g+3]*J,Z=T*(1/255);
v[w]+=Z;A[P]+=Z;$[k]+=Z;U+=T}for(var g=0;g<256;g++)u[g]=v[g]+A[g]+$[g];return[u,v,A,$,t,U/255]};a.aBe=function(z,J){function p(E,F){var d=-1,x=0;
while(x<=F){d++;x+=E[d]}return d}function n(E,F){var d=256,x=0;while(x<=F){d--;x+=E[d]}return d}function B(E){var F=0,d=0;
for(var g=0;g<256;g++){d+=E[g];F+=E[g]*g*(1/255)}return F/d}var c=z[0],t=z[1]/100,u=z[2]/100,v=[],A=[];
for(var g=0;g<4;g++){var $=g==0?3:1;v[g]=p(J[g],$*t*J[5]);A[g]=n(J[g],$*u*J[5])}var X=[B(J[1]),B(J[2]),B(J[3])],U=X.slice(0);
U.sort(function(E,F){return E-F});var w=X.indexOf(U[1]),P=(X[0]+X[1]+X[2])/3,k=[];for(var g=0;g<4;g++){var T=0,Z=255,i=v[g],V=A[g];
if(c==0&&g==0){T=i;Z=V}if(c==1&&g!=0){T=i;Z=V}if(c==2&&g!=0){var $=X[g-1]/P;Z=Math.max(0,Math.min(255,A[w]*$))}var _=[T,Z];
k.push(_);if(c==3&&g==0){var y=255*(1-P);_.push(y)}}return k};a.aFA=function(z,J,p,n,B,c,t){var u=z.length,v=a.zr(z),A=v==8?255:v==16?65535:1,$=1/A,X=(p.length-1)*.999999,U=a.aix;
if(!t&&!c){if(v==8&&p.length==256){p=a.hg(p,8);n=a.hg(n,8);B=a.hg(B,8);for(var g=0;g<u;g+=4){J[g]=p[z[g]];
J[g+1]=n[z[g+1]];J[g+2]=B[z[g+2]];J[g+3]=z[g+3]}}else for(var g=0;g<u;g+=4){var w=z[g]*$,P=z[g+1]*$,k=z[g+2]*$,T=U(p,X*w),Z=U(n,X*P),i=U(B,X*k);
J[g]=T*A;J[g+1]=Z*A;J[g+2]=i*A;J[g+3]=z[g+3]}return}for(var g=0;g<u;g+=4){var w=z[g]*$,P=z[g+1]*$,k=z[g+2]*$;
if(c)w=P=k=w*.3+P*.59+k*.11;var T=U(p,X*w),Z=U(n,X*P),i=U(B,X*k);if(t){var V=a.b2(w,P,k),_=a.b2(T,Z,i);
if(V>_){var y=(V-_)/(1-_);T+=y*(1-T);Z+=y*(1-Z);i+=y*(1-i)}else if(_==0)T=Z=i=0;else{var y=V/_;T=y*T;
Z=y*Z;i=y*i}}J[g]=T*A;J[g+1]=Z*A;J[g+2]=i*A;J[g+3]=z[g+3]}};a.aix=function(z,J){var p=z.length;if(J>=p)return z[p-1]+(z[p-1]-z[p-2])*(J-p);
var n=~~J,B=J-n;return z[n]*(1-B)+z[n+(n==p-1?0:1)]*B};a.Ni=function(z,J){var p=a.hg(z,8),n=J.r,B=J.$,top=0,c=0,t=0,u=0,v=0;
v=0;for(var A=0;A<B;A++){var $=A*n;for(var g=0;g<n;g++)v|=p[$+g];if(v!=0)break;top++}if(top==B)return new fw(0,0,0,0);
v=0;for(var A=B-1;A>=0;A--){var $=A*n;for(var g=0;g<n;g++)v|=p[$+g];if(v!=0)break;t++}var X=B-t;v=0;
for(var g=0;g<n;g++){for(var A=top;A<X;A++)v|=p[A*n+g];if(v!=0)break;c++}v=0;for(var g=n-1;g>=0;g--){for(var A=top;
A<X;A++)v|=p[A*n+g];if(v!=0)break;u++}var U=new fw(J.x+c,J.y+top,n-c-u,B-top-t);return U};a.an=function(z,J,p,n,B){var c=a.hg(z,8),top=0,A=0,$=0,X=0,U=!1;
if(n==null)n=[!0,!0,!0,!0];if(p==null)p=0;if(B==null)B=4294967295;var t=new Uint32Array(c.buffer),u=J.r,v=J.$,w=[t[0],t[t.length-1],0][p];
U=!1;if(n[0])for(var P=0;P<v;P++){var k=P*u;for(var g=0;g<u;g++)if(t[k+g]&B^w)U=!0;if(U)break;top++}U=!1;
if(n[2])for(var P=v-1;P>=0;P--){var k=P*u;for(var g=0;g<u;g++)if(t[k+g]&B^w)U=!0;if(U)break;$++}U=!1;
if(n[1])for(var g=0;g<u;g++){for(var P=0;P<v;P++)if(t[P*u+g]&B^w)U=!0;if(U)break;A++}U=!1;if(n[3])for(var g=u-1;
g>=0;g--){for(var P=0;P<v;P++)if(t[P*u+g]&B^w)U=!0;if(U)break;X++}var T=new fw(J.x+A,J.y+top,u-A-X,v-top-$);
return T.Sz()?new fw(0,0,0,0):T};a.eB=function(z){var J=a.Ni(z.N,z.S);if(J.Vm(z.S))return;var p=a.j(J.C(),a.zr(z.N));
a._1(z.N,z.S,p,J);z.N=p;z.S=J};a.PP=function(z,J){var p=a.an(z.buffer,z.S,2,null,J?null:4278190080);
if(p.Vm(z.S))return;var n=new a.j(p.C()*4,a.zr(z.buffer));a.nk(z.buffer,z.S,n,p);z.buffer=n;z.S=p};a.extend=function(z,J,p){if(z.S.cz(J))return;
var n=z.S.KQ(J),B=a.zr(z.N),c=a.j(n.C(),B);if(p!=null)c.fill(a.hW(B)*p);a._1(z.N,z.S,c,n);z.S=n;z.N=c};
a.aop=function(z,J){if(J.Sz()||z.S.cz(J))return;var p=z.S.KQ(J),n=a.j(p.C()*4,a.zr(z.buffer));a.nk(z.buffer,z.S,n,p);
z.S=p;z.buffer=n};a.Y8=function(z,J,p){if(!p.n9(z))return!1;var n=Math.floor(z.x)-p.x,B=Math.floor(z.y)-p.y,g=B*p.r+n;
return J[g]>a.hW(a.zr(J))/2};a.awY=function(z,J,p){if(!p.n9(z))return!1;var n=Math.floor(z.x)-p.x,B=Math.floor(z.y)-p.y,g=B*p.r+n;
return J[4*g+3]>a.hW(a.zr(J))/2};a.rk=function(z){this.k6=a.j(z);this.o=a.j(z);this.k=a.j(z);this.X=a.j(z)};
a.rk.prototype.P=function(){var z=this.k6.length,J=new a.rk(1);J.k6=this.k6.slice(0);J.o=this.o.slice(0);
J.k=this.k.slice(0);J.X=this.X.slice(0);return J};a.O.aK$=function(z,J,p,n,B){var c=B[0]+1,t=B[1],u=Math.abs(t-25)/4,v=B[2],A=v%2+v*v>>1,$=a.O.Z;
$.SL(J,p);var X=$.M8(1),U=$.M8(1),w=$.M8(1);$.tx(z,n,v,v,A);$.CS(n);$.eS(n,X);$.BU(X,U,c,c,1);$.BU(X,w,c,c,c*c);
$.sub(w,U);$.iy(U,u);(t<25?$.sub:$.add)(X,U);$.G0(U,n);$.qS(n)};a.O.aIo=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);var t=B[0]*2.55,u=B[1],v=u>>1,A=B[2]*.25,$=c.M8(4),X=c.M8(1),U=c.M8(1);c.rL(z,$,u,1,!0,v);
c.rL(z,n,u,1,!1,v);c.QT(z,X);c.Ya(X,t);c.PF(X,U,3);c.$c(n,U,$);c.NI($,n,A)};a.O.a7U=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);c.ka(B[3]);var t=B[0]*-3+80,u=B[1]*-3+80,v=B[2]/2+.5,A=B[4],$=B[5],X=c.M8(1),U=c.M8(1),w=c.M8(1),P=c.M8(1),k=c.M8(4),T=c.M8(4);
c.QT(z,X);c._U(X,U);c.Gf(X,u,5);c.aLr(X,.4,0);c.PF(X,w,3);c.ml(w,X,9,3,!0,27);c._U(U,w);c.oU(w);var Z=c.lg(t,5,w);
for(var g=0;g<c.R6;g++){U[g]=Z[255-U[g]]}c.aLr(U,.4,0);c._U(U,w);c.PF(w,P,2);c.ml(P,w,5,3,!1,15);c.iy(X,v);
c.iy(w,v);c.QG(n,2155905279);c.QG(T,A);c.QG(k,$);c.$c(T,X,n);c.$c(k,w,n)};a.O.ahf=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);var t=new Uint8Array(256),u=5+10*B[1];u+=B[1]>3?(B[1]-3)*10:0;var v=~~(B[2]*.73)+50,A=Math.min(v+u,128),$=A-v,X=-255*v;
for(var g=0;g<256;g++){var U=g*65;t[g]=c.uL(X/$);X+=255}var w=c.M8(1),P=c.M8(1),k=c.M8(1);c.QT(z,w);
c._U(w,k);c.PF(w,P,2*B[0]+1);c.sub(P,w);c.iy(w,65);c.ml(w,P,9,3,!0,20);for(var g=0;g<c.R6;g++){var T=k[g],Z=P[g];
w[g]=Z>0?~~((Z*T+(255-Z)*128)/255):128}c.PF(w,P,3);c.ml(P,w,15,2,!0,16);c.ml(P,k,15,2,!1,15);c.YP(w,k);
c.Wt(k,P,2);c.sH(P,t);c.PF(P,w,2);c.tE(w,n)};a.O.ajP=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);var t=2*B[0]+1,u=c.aKN[B[1]],v=B[2]*5.1,A=B[3],$=c.M8(1),X=c.M8(1),U=c.M8(4),w=c.M8(4);
c.QG(U,A);c.CS(U,n);c.acM($,v);c.G0($,n);c.qS(n,U);c.QT(z,X);c.PF(X,$,t);c.sub($,X);c.iy(X,u);c.ml(X,$,9,3,!0,20);
c.$c(z,$,U);c.kJ(U,n,3);c.rL(n,U,15,2,!0,16);c.rL(n,w,15,2,!1,16);c.YP(U,w);c.NI(w,n,2)};a.O.ahC=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);var t=(15-B[0])/4+1,u=(15-B[1])/4+1,v=B[2],A=B[3],$=c.M5(B[4]),X=B[5]+1,U=B[6],w=B[7],P=B[8],k=c.M8(1),T=c.M8(1),Z=c.M8(1),i=c.M8(1),V=c.M8(4),_=c.M8(4);
c.a1(Z,v,A,U);c.QT(z,T);c.PF(T,k,5);c.Et(Z,k,i,X,$);c.iy(i,t);c.GT(i,2);c.oU(k);c.Et(Z,k,T,X,$);c.iy(T,u);
c.GT(T,2);c.QG(V,2155905279);c.QG(_,w);c.QG(n,P);c.$c(V,T,_);c.$c(_,i,n)};a.O.agh=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);c.ka(B[3]);var t=B[0],u=B[1]/10,v=B[2]/10,A=c.M8(1),$=c.M8(1),X=c.M8(1),U=c.IW(),w=c.IW(),P=c.IW();
c.jn(A);c.PF(A,$,11);c.PF($,A,11);c.n3(A,U);c.U_(z,A);c._U(A,X);c.PF(A,$,9);c.PF($,A,9);c.n3(A,w);c.B4(w,P,5);
c.B4(P,w,5);c.ahI(U,.8);c.abj(U,w,.8,.9);c.axh(w,A,t);c.BU(A,$,2,2,1);c.BU($,A,2,2,3);c.BU(A,$,2,2,3);
c.BU(X,A,5,5,13);c.UJ($,A,$,u);c.jz(A,$,$,v);c.Et($,$,A,5,1);c.CS(z,n);c.G0(A,n);c.qS(n)};a.O.anT=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);var t=B[0],u=B[1]/2,v=B[2],A=t/2,$=c.M8(4),X=c.M8(4);c._U(z,n);for(var U=0;U<v;U++){c.rL(n,$,t,1,!0,A);
c.rL(n,X,t,1,!1,A);c.YP(X,$);c.kJ($,X,2);c.NI(X,n,u)}};a.O.a5J=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);
var t=B[0]*10,u=B[1]*4.9,v=B[2]*4.9,A=c.M8(1),$=c.M8(1),X=c.M8(4),U=c.M8(4);c.QT(z,A);c.Ya(A,c.a0n(A,t));
c.PF(A,$,3);c.rL(z,X,5,1,!1,1);c.rL(z,n,15,2,!0,16);c.$c(n,$,X);c.CS(X,n);c.eS(n,A);c.Gf(A,u,v);c.G0(A,n);
c.qS(n)};a.O.aqB=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);c.ka(B[4]);var t=B[0]/20,u=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][B[1]],v=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][B[2]],A=B[3],$=new Int16Array(256);
for(var g=0;g<256;g++){$[g]=~~((g-128)*t)}var X=c.M8(1),U=c.M8(1),w=c.M8(4);c.QT(z,X);c.PF(X,U,25);c.iy(U,u);
c.GT(U,v);c.PF(U,X,25);c.jn(U);c.a1e(X,U,$);c._U(z,n);c.QG(w,A);c.$c(w,X,n)};a.O.axF=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);var t=B[0]+5,u=15-B[1],v=t*t/2,A=1-(3-B[2])/10,$=~~(u*u*A-1),X=~~(u*u*(1-A));if(X==0)X=1;var U=c.M8(1),w=c.M8(1),P=c.M8(1),k=c.M8(4);
c.QT(z,P);c.BU(P,U,t,t,v);c.PF(P,w,t);c.sub(U,w);c.Ya(w,1);c.tx(z,k,u,u,$);c.tx(z,n,u,u,X);c.$c(k,w,n)};
a.O.ap5=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);c.ka(B[3]);var t=(20-B[0])*.05,u=B[1]*-2.75+60,v=65-u,A=B[2]/10,$=c.M8(1),X=c.M8(1);
c.U_(z,X);var U=c.lg(u,v,X);c.CS(z,n);c.eS(n,X);c.jn($);c.sV(X,$,t);c.sH(X,U);c.iy(X,B[2]/10);c.add($,X);
c.G0(X,n);c.qS(n)};a.O.aD4=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);var t=5+B[0],u=15-B[1],v=B[2],A=t*t/2+t*t%2*1,$=1-(3-B[2])/10,X=~~(u*u*$-1),U=~~(u*u*(1-$));
if(U==0)U=1;var w=c.M8(1),P=c.M8(1),k=c.M8(1),T=c.M8(1),Z=c.M8(1);c.U_(z,P);c.Wt(P,w,3);c.BU(w,P,2,2,1);
var i=c.lg(20,20,P);c.sH(P,i);c.PF(P,Z,5);c.BU(Z,w,t,t,A);c.BU(Z,P,u,u,X);c.BU(Z,k,u,u,U);c.PF(Z,T,t);
c.sub(w,T);c.Ya(T,1);c.aHI(P,T,k);c.CS(z,n);c.G0(k,n);c.qS(n)};a.O.as2=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);c.ka(B[5]);var t=c.R6,u=c.Ct,v=B[0],A=B[1],$=B[2],X=B[3],U=B[4],w=.05*v+1,P=v/100,k=v>>1,T=2*v-100,Z=+(A==9),i=+(A==7),V=[4,1][Z],_=[3,2][Z],y=[1,2][i],E=[2,1][i],F=[50,75][Z],d=A<4?$:($>>1)+50,x=c.aH3(F,d),f=c.i_(X),Q=c.i_(U),m=c.M8(4),H=c.M8(4),S=c.M8(1),R=c.M8(1);
function I(n,x){if(d!=50){c.aJF(n,x)}}function D(z,aV){for(var g=0;g<t;g++){z[g]=c.uL(z[g]+(aV[g]-128)*P)}}function G(z,aV){for(var g=0,j=0;
g<t;g++){z[j]=c.uL(z[j]+(aV[j]-128)*P);z[j+1]=c.uL(z[j+1]+(aV[j+1]-128)*P);z[j+2]=c.uL(z[j+2]+(aV[j+2]-128)*P);
j+=4}}function C(z,n){c.jn(H);c._U(z,n);G(n,H);I(n,x)}function O(aV){var j=0;for(var M=0;M<12;M++)j+=c.random();
return c.uL(k*(j-6)+aV)}function Y(z,n){c._U(z,n);for(var g=0;g<u;g+=4){n[g]=O(n[g]);n[g+1]=O(n[g+1]);
n[g+2]=O(n[g+2])}I(n,x)}function h(z,n){c._U(z,n);for(var g=0;g<u;g+=4){if(c.random()<P){n[g]=f[0];n[g+1]=f[1];
n[g+2]=f[2]}}I(n,x)}function r(z,n){c.jn(m);c.tx(m,H,_,_,V);c._U(z,m);G(m,H);c.tx(m,n,5,5,13);I(n,x)}function W(z,n){c.jn(H);
c._U(z,m);G(m,H);I(n,x);c.tx(m,n,_,_,V)}function N(z,n){c._U(z,m);I(n,x);c.QT(m,S);for(var g=0,aV=0;
g<t;g++){var j=((T-S[g]+255)*128.5+.5)/32767;if(c.random()<=j){n[aV++]=Q[0];n[aV++]=Q[1];n[aV++]=Q[2]}else{n[aV++]=f[0];
n[aV++]=f[1];n[aV++]=f[2]}n[aV]=z[aV];aV++}}function o(z,n){c.CS(z,n);c.eS(n,S);c.Wt(S,R,w);c.BU(R,S,_,_,V);
c.sH(S,x);c.G0(S,n);c.qS(n)}function K(z){var aV=0;if(A==8){for(var j=0;j<J;j++){z[aV++]=~~(c.random()*255)}for(var g=1;
g<p;g++){for(var j=0;j<J;j++){z[aV++]=z[j]}}}else{for(var g=0;g<p;g++){var M=~~(c.random()*255);for(var j=0;
j<J;j++){z[aV++]=M}}}}function l(z,n){c.QT(z,S);c.jn(R);D(S,R);K(R);D(S,R);c.kJ(z,m,9);c.kJ(m,H,9);c.PF(S,R,2);
c.sH(R,x);c.PF(R,S,2);c.CS(H,n);c.G0(S,n);c.qS(n)}[C,Y,h,r,r,W,N,l,l,o][A](z,n)};a.O.abG=function(z,J,p,n,B){var c=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],t=a.O.Z,k=0,T,g,y,E,F,d=0,x=1,f=255;
t.SL(J,p);t.ka(B[3]);var u=t.M8(1),v=t.M8(1);t.QT(z,u);var A=B[0],$=B[1],X=$<=50?c[$]/255:1+(255-c[101-$])/255,U=B[2],w=u.length,P=new Float32Array(w),Z=1+1/10*A,i=(1-1/Z)/2,V=16/256,_=J-1;
for(g=0;g<t.R6;g++){P[g]=u[g]/255;v[g]=A==1?t.random()<1/255?f:x:x}function Q(m,H){var S=m*J+H;if(v[S]!=x||m>=p||H>=J){return}var E=P[S],R=X-E,I=t.random(),D=I/Z+i;
if(k==0||Math.abs(F-E)>V){T=D<=R?d:f;k=~~(t.random()*A)}else if(.1<I){k--}else{k=0}v[S]=T;F=E}if(U==0){for(g=0;
g<J;g++){for(y=0;y<J;y++){E=g+y;if(E>=J)break;Q(y,_-E)}k=0}for(g=1;g<p;g++){for(y=0;y<p;y++){E=g+y;if(E>=p||y>=J)break;
Q(E,_-y)}k=0}}else if(U==1){for(g=0;g<p;g++){for(y=0;y<J;y++){Q(g,y)}k=0}}else if(U==2){for(g=0;g<J;
g++){for(y=0;y<J;y++){E=g+y;if(E>=J)break;Q(y,E)}k=0}for(g=1;g<p;g++){for(y=0;y<p;y++){E=g+y;if(E>=p||y>=J)break;
Q(E,y)}k=0}}else{for(g=0;g<J;g++){for(y=0;y<p;y++){Q(y,g)}k=0}}t.tE(v,n)};a.O.aq0=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);var t=B[0],u=B[1],v=B[2],A=c.M8(1),$=c.M8(1),X=c.M8(1),U=c.M8(1),w=c.M8(4),P=c.M8(4);c.eS(z,U,3,4);
c.QT(z,A);c.BU(A,$,3,3,1);c.BU(A,X,3,3,9);c.sub(X,$);c.PF($,A,3);c.Gf(A,40,10,U);c.rL(z,n,t,2,!1,t);
c.rL(z,w,t,2,!0,t);c.QG(P,255);c.$c(n,A,P);c.$c(P,A,w);c.NI(w,n,1);c.CS(n);c.eS(n,A);c.Gf(A,u,v,U);c.G0(A,n);
c.qS(n)};a.O.ama=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);c.ka(B[3]);var t=B[0],u=B[1],v=B[2]/10;t=t+u;
var A=c.M8(1),$=c.M8(1),X=c.IW(),U=c.IW();c.jn(A);c.PF(A,$,11);c.PF($,A,11);c.n3(A,X);c.B4(X,U,5);c.B4(U,X,5);
c.ahI(U,.97);c.axh(U,A,t);c.BU(A,$,u,u,1);c.U_(z,A);c.UJ($,A,$,.6);c.jz(A,$,$,v);c.Et($,$,A,5,1);c.CS(z,n);
c.G0(A,n);c.qS(n)};a.O.aja=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);var t=Math.abs(B[0]),u=t+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][t],v=2*t+1,A=B[1]/10,$=A*13/15,X=c.M8(1),U=c.M8(1),w=c.M8(1),P=c.M8(1),k=c.M8(4),T=c.M8(4),Z=c.M8(4),i=c.M8(4),V=c.M8(4);
c.QT(z,X);if(B[0]>=0){c.oU(X)}c._U(X,w);c.PF(X,P,u);c.PF(P,X,u);c.iy(X,A);c._U(X,U);c.PF(X,P,v);c.PF(P,X,v);
c.iy(X,$);c.QG(Z,B[2]);c.QG(i,B[3]);c.QG(V,B[4]);c.$c(Z,X,i,k);c.$c(V,U,k,T);c.$c(i,w,T,n);c.eS(z,w,3);
c.G0(w,n,3)};a.O.aIY=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);c.ka(B[5]);var t=B[0]*5.1,u=B[1]/100,v=c.aL9[B[2]],A=c.M8(1),$=c.M8(1),X=c.M8(1);
c.QT(z,A);c.acM($,255);c.jn(X);c.Ya(A,t);c.sV($,A,.7);c.sV(X,A,u);c.Et(A,A,$,5,v);c._U(z,n);c.aq3(n,t,B[4],B[3]);
c.CS(n);c.G0($,n);c.qS(n)};a.O.a1i=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);var t=B[0],u=4-B[1],v=11-B[2],A=c.M8(1),$=c.M8(1),X=c.M8(4);
c.U_(z,$);for(var g=0;g<u;g++){c._U($,A);c.a31(A,$,t,t)}c.kJ(z,X,t);c.CS(X,X);c.G0($,X);c.qS(X,X);(v<11?c.a26:c._U)(X,n,v)};
a.O.ar_=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);c.ka(B[2]);var t=B[0]+5,u=~~(t/5+1),v=~~(t/2)+1,A=v*v,$=~~(t/3),X=c.aL9[B[1]],U=new Array(256);
for(var g=0;g<256;g++){U[g]=~~(.2*(g-128))}var w=c.M8(1),P=c.M8(1);c.a8f(z,n,t);c.CS(n);c.eS(n,w);c.jn(P);
c.a1e(w,P,U);c.a4N(P,t,t,u,u);c.UJ(w,P,w,1);c.PF(w,P,$);c.PF(P,w,$);c.BU(w,P,v,v,A);c.Et(P,P,w,5,X);
c.G0(w,n);c.qS(n)};a.O.ahV=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);var t=c.M8(1),u=c.M8(1),v=c.M8(1),A=c.IW(),$=c.IW();
c.QT(z,t);c.PF(t,u,B[2]);c.Ya(u,B[0]*5.1);c.BU(u,t,2,2,4);c.PF(t,u,3);c.PF(u,t,3);c._U(t,v);c.PF(t,u,5);
c.PF(u,t,5);c.n3(t,A);c.B4(A,$,5);c.B4($,A,5);c.aji(A,u,B[1]);c.oU(u);c.UJ(v,u,v,1);c.tE(v,n)};a.O.aJc=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);var t=1<<7-B[2],u=c.M8(1),v=c.M8(1),A=c.M8(1);c.U_(z,v);c.PF(v,u,3);c._U(u,v);c.PF(u,A,B[0]+5);
c.sub(A,v);c.Gf(v,1,B[1]);c.iy(u,1/t);c.iy(u,t);c.sub(u,v);c.CS(z,n);c.G0(v,n);c.qS(n)};a.O.ayq=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);c.ka(B[3]);var t=c.M8(1),u=c.M8(1),v=c.M8(1);c.QT(z,t);c.ayC(u,B[0]/50);c.PF(u,v,3);c.BU(t,u,9,9,41);
c.Gf(u,B[1],B[2]);c.UJ(u,v,v,.75);c.jz(u,v,u,.5);c._U(u,t);c.BU(t,v,3,3,8);c.UJ(v,u,v,.75);c.iy(v,1.2);
c.Wt(v,t,1);c.PF(t,v,2);c.Wt(v,t,2);c.iy(t,1.2);c.PF(t,v,2);c.tE(v,n)};a.O.a9B=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);var t=B[0]+9,u=B[1]/2,v=B[2],A=B[3],$=c.M5(B[4]),X=B[5]+1,U=B[6],w=c.M8(1),P=c.M8(1),k=c.M8(4),T=c.M8(4);
c.a1(P,v,A,U);c.aGM(z,n,t,1,1);c.aGM(n,k,t,1,1);c.aqs(k,k,T,7,u);c.iy(T,1.2);c.GT(T,1.2);c.Et(P,w,w,X,$);
c.iy(w,3);c._U(z,n);c.$c(T,w,n)};a.O.a3u=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);c.ka(B[3]);var t=B[0]+4,u=t*2/5+(t%5|0);
t--;var v=B[1]*-2.75+60,A=65-v,$=B[2]/10,X=c.M8(1),U=c.M8(1);c.jn(X);c.U_(z,U);var w=c.lg(v,A,U);c.CS(z,n);
c.eS(n,U);c.sV(U,X,.8);c.sH(U,w);c.iy(U,$);c.add(X,U);c.ml(U,X,t,3,!1,u);c.G0(X,n);c.qS(n)};a.O.arT=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);c.ka(B[3]);var t=B[0]+5,u=(t*t>>1)+t%2,v=B[1]/10,A=B[2],$=(A*A>>1)+A%2,X=c.M8(1),U=c.M8(1),w=c.M8(1),P=c.M8(4),k=c.M8(4),T=c.M8(4);
c.jn(w);c.CS(z,T);c.eS(T,X);c.sV(X,w,.8);c.PF(w,X,3);c.Wt(X,w,v);c.G0(w,T);c.qS(T,T);c.QT(T,w);c.BU(w,X,t,t,u);
c.PF(w,U,t);c.sub(X,U);c.Ya(U,1);c.tx(T,P,7,7,40);c.tx(T,k,7,7,10);c.$c(P,U,k);c.tx(k,n,A,A,$)};a.O.aJN=function(z,J,p,n,B){var c=a.O.Z,u=255,g,A;
c.SL(J,p);var t=B[0];if(t<2)u=t;else if(t<12)u=5*t-5;else if(t<47)u=2*t+28;else if(t<50){g=t-47;u=125+12.5*g+12.5*g*g}var v=new Uint8Array(256);
for(g=75,A=15;g<256;g++,A+=24)v[g]=Math.min(255,A);var $=c.M8(1),X=c.M8(1),U=c.M8(1);c.QT(z,$);c.PF($,X,11);
c.PF(X,U,11);c.sub(U,$);c.iy($,8);c.sub(U,$);c.Ya($,u);c.oU($);c.PF($,X,5);c.Ya(X,51);c.PF(X,$,B[1]);
c.PF($,X,B[1]);c.oU(X);c.sH(X,v);c.tE(X,n)};a.O.an0=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);var t=c.aKN[B[1]],u=B[2],v=u*1.5,A=c.M8(1),$=c.M8(1),X=c.M8(1);
c.U_(z,A);c.ml(A,$,15,2,!0,15);c._U($,X);c.Gf(X,u,v);c.PF(X,A,3);c.PF($,X,B[0]);c.sub(X,$);c.iy($,t);
c.sub(A,$);c.PF($,A,3);c.ml(A,$,3,1,!1,1);c.kJ(z,n,15);c.CS(n);c.G0($,n);c.qS(n)};a.O.adj=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);c.ka(B[3]);var t=B[0]*5.1,u=16-B[1],v=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][B[2]],A=c.M8(1),$=c.M8(1),X=c.M8(1);
c.QT(z,A);c.Ya(A,t);c.PF(A,$,u);c.PF($,A,u);c.jn(X);c.jz(A,X,X,1);c.UJ(A,X,A,.75);c.iy(A,v);c.GT(A,v);
c.BU(A,$,2,2,2);c.tE($,n)};a.O.ajW=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);var t=B[0]+9,u=B[1]+9,v=B[2],A=B[3],$=c.M5(B[4]),X=B[5]+1,U=B[6],w=c.M8(1),P=c.M8(1),k=c.M8(1),T=c.M8(1),Z=c.M8(1),i=c.M8(4);
c.U_(z,w);c.a31(w,k,t,t);c.PF(k,w,u);c._U(k,Z);c._U(w,T);c.sub(Z,T);c.sub(w,Z);c.add(Z,T);c.iy(T,10);
c.a1(P,v,A,U);c.Et(P,w,Z,X,$);c.aHI(Z,T,k,.8);c.kJ(z,i,9);c.kJ(i,n,9);c.CS(n);c.G0(k,n);c.qS(n)};a.O.a6N=function(z,J,p,n,B){var c=a.O.Z;
c.SL(J,p);var t=16-B[0],u=B[1]*8,v=1-(3-B[2])/10,A=~~(t*t*v-1),$=~~(t*t*(1-v));if($==0)$=1;var X=c.M8(1),U=c.M8(1),w=c.M8(1),P=c.M8(4);
c.QT(z,w);c.BU(w,X,7,7,25);c.PF(w,U,7);c.sub(X,U);c.Ya(U,1);c.tx(z,P,t,t,A);c.tx(z,n,t,t,$);c.$c(P,U,n);
c.CS(n);c.eS(n,X);c.BU(X,w,3,3,1);c.BU(X,U,3,3,9);c.sub(U,w);c._U(w,U);c.sub(X,w);c.sub(w,U);c.BU(U,X,3,3,8);
c.Gf(X,u,1);c.G0(X,n);c.qS(n)};a.O.aIc=function(z,J,p,n,B){var c=a.O.Z;c.SL(J,p);c.ka(B[3]);var t=B[0],u=B[1],v=B[2],A=t>>1,$=Math.max(~~(t/5),1),X=Math.max(~~(t*2/3),1),U=c.aH3(u,v),w=c.M8(1),P=c.M8(1),k=c.M8(1),T=c.M8(1),Z=c.M8(4);
c.U_(z,w);c.af7(2147483647,4,2,2,0,255,P);c.af7(4,2147483647,2,2,0,255,T);c.jn(k);c.jz(P,k,P,1);c.jz(T,k,T,1);
c.jz(P,w,P,1);c.jz(T,w,T,1);c.kJ(z,Z,A);c.kJ(Z,n,A);c.BU(P,w,1,t,$);c.BU(w,P,3,t,X);c.BU(T,w,t,1,$);
c.BU(w,T,t,3,X);c.YP(P,T);c.CS(n);c.G0(T,n);c.qS(n);c.aJF(n,U)};a.O.u1=function(z,J,p){var n=p.aLI,B=p.R6,c=p.M8(1),top=p.M8(1),t=p.M8(1),u=p.M8(1),v=p.M8(1),A=p.M8(1),$=p.M8(1),X=p.M8(1),U=p.M8(1),w=p.Tx,P=p.tK,k=a.iM.fg,T=a.iM.ns;
k(z,c,w,P,T([8,5,2,5,2,-1,2,-1,-4]));k(z,top,w,P,T([5,5,5,2,2,2,-1,-1,-1]));k(z,t,w,P,T([2,5,8,-1,2,5,-4,-1,2]));
k(z,u,w,P,T([5,2,-1,5,2,-1,5,2,-1]));k(z,v,w,P,T([2,2,2,2,2,2,2,2,2]));k(z,A,w,P,T([-1,2,5,-1,2,5,-1,2,5]));
k(z,$,w,P,T([2,-1,-4,5,2,-1,8,5,2]));k(z,X,w,P,T([-1,-1,-1,2,2,2,5,5,5]));k(z,U,w,P,T([-4,-1,2,-1,2,5,2,5,8]));
var Z=[c,top,t,u,v,A,$,X,U];for(var i=0;i<P;i++){for(var V=0;V<w;V++){var _=i*w+V,y=z[_],E=null,F=0;
for(var d=-1;d<2;d++){for(var x=-1;x<2;x++){var f=Z[(d+1)*3+x+1],Q=Math.max(0,Math.min(i+d,P-1)),m=Math.max(0,Math.min(V+x,w-1)),H=f[Q*w+m],S=Math.abs(H-y);
if(E==null||S<E){E=S;F=H}}}J[_]=F}}};a.O.aqO=function(z,J,p,n,B){var self=a.O.Z;self.SL(J,p);var c=self.M8(1),t=self.M8(1);
for(var g=0;g<4;g++){self.eS(z,c,g);if(g<3){a.O.u1(c,t,self);a.O.u1(t,c,self);a.O.u1(c,t,self);a.O.u1(t,c,self);
a.O.u1(c,t,self);a.O.u1(t,c,self);a.O.u1(c,t,self);a.O.u1(t,c,self);a.O.u1(c,t,self)}else t=c;self.G0(t,n,g)}};
a.O.Z={};a.O.Z.Tx=0;a.O.Z.tK=0;a.O.Z.R6=0;a.O.Z.Jx=0;a.O.Z.Ct=0;a.O.Z.SL=function(z,J){var p=z*J,self=a.O.Z;
self.Tx=z;self.tK=J;self.R6=p;self.Jx=p<<1;self.Ct=p<<2};a.O.Z.ka=function(z){a.O.Z.random=function(){var J=z+=1831565813;
J=Math.imul(J^J>>>15,J|1);J^=J+Math.imul(J^J>>>7,J|61);return((J^J>>>14)>>>0)/4294967296}};a.O.Z.M8=function(z){var J=a.O.Z;
return new Uint8Array([-1,J.R6,J.Jx,-1,J.Ct][z])};a.O.Z.IW=function(){return new Int32Array(a.O.Z.Jx)};
a.O.Z.PF=function(z,J,p,n){if(n==null)n=p;var self=a.O.Z,B=self.Tx,c=self.tK,t=n,u=n>>1,v=p,A=p>>1,$=p*n,X=0;
for(var g=0;g<c;g++){var U=0;for(var w=0;w<t;w++){for(var P=0;P<v;P++){var k=0-A+P,T=g-u+w;if(k<0)k=0;
else if(k>=B)k=B-1;if(T<0)T=0;else if(T>=c)T=c-1;U+=z[T*B+k]}}J[X++]=~~(U/$);for(var Z=1;Z<B;Z++){for(var w=0;
w<t;w++){var i=Z-A-1,V=i+v,T=g-u+w;if(i<0)i=0;if(V>=B)V=B-1;if(T<0)T=0;else if(T>=c)T=c-1;U+=z[T*B+V]-z[T*B+i]}J[X++]=~~(U/$)}}};
a.O.Z.B4=function(z,J,p,n){var self=a.O.Z,B=new Int32Array(self.R6),c=new Int32Array(self.R6);for(var g=0;
g<2;g++){self.eS(z,B,g,2);self.PF(B,c,p,n);self.G0(c,J,g,2)}};a.O.Z.kJ=function(z,J,p,n){var self=a.O.Z,B=self.M8(1),c=self.M8(1);
for(var g=0;g<4;g++){self.eS(z,B,g);if(g<3)self.PF(B,c,p,n);else c=B;self.G0(c,J,g)}};a.O.Z.aGM=function(z,J,p,n,B){var self=a.O.Z,c=self.Tx,t=self.tK,u=p+n-1,v=p>>1,A=u>>1,$=0,X=p*n,U=new Int32Array(p);
for(var g=0;g<t;g++){var w=0,P=0,k=0;for(var T=0;T<p;T++){var Z=B?u-T-n:T;for(var i=Z,V=n+Z;i<V;i++){var _=0-A+i,y=g-v+T;
if(i==Z){U[T]=_}if(_<0)_=0;else if(_>=c)_=c-1;if(y<0)y=0;else if(y>=t)y=t-1;var E=c*y+_<<2;w+=z[E];P+=z[E+1];
k+=z[E+2]}}J[$++]=~~(w/X);J[$++]=~~(P/X);J[$++]=~~(k/X);J[$]=z[$];$++;for(var F=1;F<c;F++){for(var T=0;
T<p;T++){var y=g-v+T,Z=U[T]+1;U[T]=Z;var d=Z-1,x=Z+n-1;if(y<0)y=0;else if(y>=t)y=t-1;if(d<0)d=0;else if(d>=c)d=c-1;
if(x<0)x=0;else if(x>=c)x=c-1;var f=y*c+d<<2,Q=y*c+x<<2;w=w+z[Q]-z[f];P=P+z[Q+1]-z[f+1];k=k+z[Q+2]-z[f+2]}J[$++]=~~(w/X);
J[$++]=~~(P/X);J[$++]=~~(k/X);J[$]=z[$];$++}}};a.O.Z.ml=function(z,J,p,n,B,c){var self=a.O.Z,t=self.Tx,u=self.tK,v=p+n-1,A=p>>1,$=v>>1,X=0,U=new Int32Array(p),w=new Int32Array(256),P=new Int32Array(16);
for(var g=0;g<u;g++){for(var k=0;k<256;k++){w[k]=0}for(var k=0;k<16;k++){P[k]=0}for(var T=0;T<p;T++){var Z=B?v-T-n:T;
for(var i=Z,V=n+Z;i<V;i++){var _=0-$+i,y=g-A+T;if(i==Z){U[T]=_}if(_<0)_=0;else if(_>=t)_=t-1;if(y<0)y=0;
else if(y>=u)y=u-1;w[z[y*t+_]]++;P[z[y*t+_]>>>4]++}}var E=0,F=0;while(E+P[F>>>4]<c){E+=P[F>>>4];F+=16}for(;
F<256;F++){E+=w[F];if(E>=c)break}J[X++]=F;for(var k=1;k<t;k++){for(var T=0;T<p;T++){var y=g-A+T,Z=U[T]+1;
U[T]=Z;var d=Z-1,x=Z+n-1;if(y<0)y=0;else if(y>=u)y=u-1;if(d<0)d=0;else if(d>=t)d=t-1;if(x<0)x=0;else if(x>=t)x=t-1;
w[z[y*t+d]]--;w[z[y*t+x]]++;P[z[y*t+d]>>>4]--;P[z[y*t+x]>>>4]++}E=0;F=0;while(E+P[F>>>4]<c){E+=P[F>>>4];
F+=16}for(;F<256;F++){E+=w[F];if(E>=c)break}J[X++]=F}}};a.O.Z.rL=function(z,J,p,n,B,c){var self=a.O.Z,t=self.M8(1),u=self.M8(1);
for(var g=0;g<4;g++){self.eS(z,t,g);if(g<3)self.ml(t,u,p,n,B,c);else u=t;self.G0(u,J,g)}};a.O.Z.BU=function(z,J,p,n,B){B=Math.min(n*p,B);
var self=a.O.Z,c=self.Tx,t=self.tK,u=n>>1,v=p>>1,A=0,$=new Int32Array(n),X=new Int32Array(256),U=new Int32Array(16);
for(var g=0;g<t;g++){for(var w=0;w<256;w++){X[w]=0}for(var w=0;w<16;w++){U[w]=0}for(var P=0;P<n;P++){for(var k=0,T=p;
k<T;k++){var Z=0-v+k,i=g-u+P;if(k==0){$[P]=Z}if(Z<0)Z=0;else if(Z>=c)Z=c-1;if(i<0)i=0;else if(i>=t)i=t-1;
X[z[i*c+Z]]++;U[z[i*c+Z]>>>4]++}}var V=0,_=0;while(V+U[_>>>4]<B){V+=U[_>>>4];_+=16}for(;_<256;_++){V+=X[_];
if(V>=B)break}J[A++]=_;for(var w=1;w<c;w++){for(var P=0;P<n;P++){var i=g-u+P,y=$[P]+1;$[P]=y;var E=y-1,F=y+p-1;
if(i<0)i=0;else if(i>=t)i=t-1;if(E<0)E=0;else if(E>=c)E=c-1;if(F<0)F=0;else if(F>=c)F=c-1;X[z[i*c+E]]--;
X[z[i*c+F]]++;U[z[i*c+E]>>>4]--;U[z[i*c+F]>>>4]++}V=0;for(_=0;_<256;_++){V+=X[_];if(V>=B)break}J[A++]=_}}};
a.O.Z.tx=function(z,J,p,n,B){var self=a.O.Z,c=self.M8(1),t=self.M8(1);for(var g=0;g<4;g++){self.eS(z,c,g);
if(g<3)self.BU(c,t,p,n,B);else t=c;self.G0(t,J,g)}};a.O.Z.Wt=function(z,J,p){var self=a.O.Z,n=self.Tx,B=self.tK,c=0;
for(var g=0;g<B;g++){var t=g*n,u=(g-1)*n,v=(g+1)*n;if(u<0)u=t;if(v>=B)v=t;for(var A=0;A<n;A++){var $=A-1,X=A+1;
if($<0)$=A;if(X>=n)X=A;var U=t+$,w=t+X,P=u+A,k=v+A,T=t+A,Z=z[U],i=z[w],V=z[P],_=z[k],y=z[T],E=y+(y*4*p+.5);
E=E-((Z+i+_+V)*p+.5);J[c++]=self.uL(E)}}};a.O.Z.NI=function(z,J,p){var self=a.O.Z,n=self.M8(1),B=self.M8(1);
for(var g=0;g<4;g++){self.eS(z,n,g);if(g<3)self.Wt(n,B,p);else B=n;self.G0(B,J,g)}};a.O.Z.a26=function(z,J,p){var self=a.O.Z,n=self.Tx,B=self.tK,c=0,t=p+4;
for(var g=0;g<B;g++){var u=g*n,v=(g-1)*n,A=(g+1)*n;if(v<0)v=u;if(A>=B)A=u;for(var $=0;$<n;$++){var X=$-1,U=$+1;
if(X<0)X=$;if(U>=n)U=$;var w=u+X<<2,P=u+U<<2,k=v+$<<2,T=A+$<<2,Z=u+$<<2;for(var i=0;i<3;i++){var V=z[w+i],_=z[P+i],y=z[k+i],E=z[T+i],F=z[Z+i];
J[c++]=(F*p+V+_+E+y)/t}J[c]=z[c];c++}}};a.O.Z.a31=function(z,J,p,n){var self=a.O.Z,B=self.Tx,c=self.tK,t=p>>1,u=n>>1,v=0,A=new Int32Array(p),$=new Int32Array(256);
for(var g=0;g<c;g++){for(var X=0;X<256;X++){$[X]=0}for(var U=0;U<p;U++){for(var w=0,P=n;w<P;w++){var k=0-u+w,T=g-t+U;
if(w==0){A[U]=k}if(k<0)k=0;else if(k>=B)k=B-1;if(T<0)T=0;else if(T>=c)T=c-1;$[z[T*B+k]]++}}var Z=0,i=0;
for(var V=0;V<256;V++){if(Z<$[V]){i=V;Z=$[V]}}J[v++]=i;for(var X=1;X<B;X++){for(var U=0;U<p;U++){var T=g-t+U,_=A[U]+1;
A[U]=_;var y=_-1,E=_+n-1;if(T<0)T=0;else if(T>=c)T=c-1;if(y<0)y=0;else if(y>=B)y=B-1;if(E<0)E=0;else if(E>=B)E=B-1;
$[z[T*B+y]]--;$[z[T*B+E]]++}Z=0;i=0;for(var V=0;V<256;V++){if(Z<$[V]){i=V;Z=$[V]}}J[v++]=i}}};a.O.Z.ago=[function(z,J,p,n,B,c,t,u,v,A){return B+(z+J+p)*A-(v+u+t)*A},function(z,J,p,n,B,c,t,u,v,A){return B+(J+p+c)*A-(u+t+n)*A},function(z,J,p,n,B,c,t,u,v,A){return B+(p+c+v)*A-(t+n+z)*A},function(z,J,p,n,B,c,t,u,v,A){return B+(c+v+u)*A-(n+z+J)*A},function(z,J,p,n,B,c,t,u,v,A){return B+(v+u+t)*A-(z+J+p)*A},function(z,J,p,n,B,c,t,u,v,A){return B+(u+t+n)*A-(J+p+c)*A},function(z,J,p,n,B,c,t,u,v,A){return B+(t+n+z)*A-(p+c+v)*A},function(z,J,p,n,B,c,t,u,v,A){return B+(n+z+J)*A-(c+v+u)*A}];
a.O.Z.Et=function(z,J,p,n,B){var self=a.O.Z,c=self.Tx,t=self.tK,u=c,v=self.ago[n-1];for(var g=0;g<t;
g++){var A=(g>0?g-1:0)*u,$=g*u,X=(g<t?g+1:g)*u;for(var U=0;U<c;U++){var w=U>0?U-1:0,P=U<c?U+1:U,k=$+U,T=z[A+w],Z=z[A+U],i=z[A+P],V=z[$+w],_=J[k],y=z[$+P],E=z[X+w],F=z[X+U],d=z[X+P];
p[k]=self.uL(v(T,Z,i,V,_,y,E,F,d,B))}}};a.O.Z.aqs=function(z,J,p,n,B){var self=a.O.Z,c=self.M8(1),t=self.M8(1),u=self.M8(1);
for(var g=0;g<3;g++){self.eS(z,c,g);self.eS(J,t,g);self.Et(c,t,u,n,B);self.G0(u,p,g)}self.eS(J,c,3);
self.G0(c,p,3)};a.O.Z.QT=function(z,J){var p=z.length,n=0;for(var g=0;g<p;g++){J[n++]=~~((z[g++]+z[g++]+z[g++]+2)/3)}};
a.O.Z.tE=function(z,J){var p=J.length,n=0;for(var g=0;g<p;g++){var B=z[g];J[n++]=B;J[n++]=B;J[n++]=B;
J[n++]=255}if(J[0]==255)J[0]--;else J[0]++};a.O.Z.U_=function(z,J){var p=J.length,n=0;for(var g=0;g<p;
g++){var B=z[n++],c=z[n++],t=z[n++];n++;if(c>B)B=c;if(t>B)B=t;J[g]=B}};a.O.Z.CS=function(z,J){if(J==null)J=z;
var p=z.length;for(var n=0;n<p;n+=4){var B=z[n],c=z[n+1],t=z[n+2],u=B,v=0,A=B,X;if(c<=B){B=c}else{v=1;
A=c}if(t<=A){if(B>t){B=t}}else{v=2;A=t}var $=A-B;if($!=0){if(v==0){X=~~(43*(c-t)/$)}else if(v==1){X=~~(43*(t+2*$-u)/$)}else{X=43*(u+4*$-c)/$}if(X<0){X=255&X-1}J[n]=X;
J[n+1]=~~(255*$/A)}else{J[n]=$;J[n+1]=$}J[n+2]=A;J[n+3]=z[n+3]}};a.O.Z.qS=function(z,J){if(J==null)J=z;
var p=z.length;for(var n=0;n<p;n+=4){var B=z[n],c=z[n+1],t=z[n+2];if(c){if(B==255)B=0;var u=~~(6*B/255),v=~~(-255*u+6*B);
if(u==0){J[n]=t;J[n+1]=~~(t*(255-c*(255-v)/255)/255);J[n+2]=~~(t*(255-c)/255)}else if(u==1){J[n]=~~(t*(255-c*v/255)/255);
J[n+1]=t;J[n+2]=~~(t*(255-c)/255)}else if(u==2){J[n]=~~(t*(255-c)/255);J[n+1]=t;J[n+2]=~~(t*(255-c*(255-v)/255)/255)}else if(u==3){J[n]=~~(t*(255-c)/255);
J[n+1]=~~(t*(255-c*v/255)/255);J[n+2]=t}else if(u==4){J[n]=~~(t*(255-c*(255-v)/255)/255);J[n+1]=~~(t*(255-c)/255);
J[n+2]=t}else{J[n]=t;J[n+1]=~~(t*(255-c)/255);J[n+2]=~~(t*(255-c*v/255)/255)}}else{J[n]=t;J[n+1]=t;J[n+2]=t}J[n+3]=z[n+3]}};
a.O.Z.G0=function(z,J,p,n){if(p==null)p=2;if(n==null)n=4;var B=z.length;for(var g=0;g<B;g++){J[p]=z[g];
p+=n}};a.O.Z.eS=function(z,J,p,n){if(p==null)p=2;if(n==null)n=4;var B=J.length;for(var g=0;g<B;g++){J[g]=z[p];
p+=n}};a.O.Z.aHI=function(z,J,p,n){if(n==null)n=1;var B=J.length,c=0,t;for(var c=0;c<B;c++){t=J[c];if(t){t*=n;
p[c]=~~((t*z[c]+(255-t)*p[c])/255)}}};a.O.Z.$c=function(z,J,p,n){if(n==null)n=p;var B=J.length,c=0,t,u;
for(var g=0;g<B;g++){t=J[g];if(t){u=255-t;n[c]=~~((t*z[c]+u*p[c])/255);n[c+1]=~~((t*z[c+1]+u*p[c+1])/255);
n[c+2]=~~((t*z[c+2]+u*p[c+2])/255)}n[c+3]=z[c+3];c+=4}};a.O.Z.UJ=function(z,J,p,n){var B=~~(n*255),c=p.length;
for(var g=0;g<c;g++){p[g]=((255-B*(255-z[g])/255)*J[g]+z[g]*(B*(255-z[g])/255))/255}};a.O.Z.jz=function(z,J,p,n){var B=~~(n*255),c=p.length;
for(var g=0;g<c;g++){p[g]=((255-B*z[g]/255)*J[g]+z[g]*(B*z[g]/255))/255}};a.O.Z.sV=function(z,J,p){var n=J.length;
for(var g=0;g<n;g++){J[g]=~~(z[g]*p+.5)+(J[g]-~~(J[g]*p+.5))}};a.O.Z.sub=function(z,J){var p=z.length;
for(var g=0;g<p;g++){J[g]=Math.max(z[g]-J[g],0)}};a.O.Z.add=function(z,J){var p=z.length;for(var g=0;
g<p;g++){J[g]=Math.min(z[g]+J[g],255)}};a.O.Z.aLI=function(z,J){var p=z.length;for(var g=0;g<p;g++){J[g]=z[g]+J[g]}};
a.O.Z.YP=function(z,J){var p=z.length;for(var g=0;g<p;g++){J[g]=z[g]+J[g]>>1}};a.O.Z._U=function(z,J){var p=z.length;
for(var g=0;g<p;g++){J[g]=z[g]}};a.O.Z.sH=function(z,J){var p=z.length;for(var g=0;g<p;g++){z[g]=J[z[g]]}};
a.O.Z.aJF=function(z,J){var p=a.O.Z.Ct;for(var g=0;g<p;g+=4){var n=z[g],B=z[g+1],c=z[g+2],t=n;if(B>n)t=B;
if(c>n)t=c;var u=J[t];if(u){z[g]=~~(u*n/t);z[g+1]=~~(u*B/t);z[g+2]=~~(u*c/t)}else{z[g]=u;z[g+1]=u;z[g+2]=u}}};
a.O.Z.iy=function(z,J){for(var g=0,p=z.length;g<p;g++){z[g]=Math.min(255,~~(.5+z[g]*J))}};a.O.Z.GT=function(z,J){for(var g=0,p=z.length;
g<p;g++){z[g]=255-Math.min(255,~~(.5+(255-z[g])*J))}};a.O.Z.oU=function(z){var J=z.length;for(var g=0;
g<J;g++){z[g]=255-z[g]}};a.O.Z.Ya=function(z,J,p,n){if(p==null)p=0;if(n==null)n=255;for(var g=0,B=z.length;
g<B;g++){z[g]=z[g]>=J?n:p}};a.O.Z.i_=function(z){return[z>>24&255,z>>16&255,z>>8&255,z&255]};a.O.Z.aq3=function(z,J,p,n){if(p==null)p=255;
if(n==null)n=4278190335;var B=a.O.Z,c=B.Ct,t=B.i_(p),u=B.i_(n);for(var g=0;g<c;g+=4){var v=~~((z[g]+z[g+1]+z[g+2]+2)/3);
if(v>=J){z[g]=t[0];z[g+1]=t[1];z[g+2]=t[2]}else{z[g]=u[0];z[g+1]=u[1];z[g+2]=u[2]}}};a.O.Z.QG=function(z,J){var p=a.O.Z,n=p.Ct,B=p.i_(J);
for(var g=0;g<n;){z[g++]=B[0];z[g++]=B[1];z[g++]=B[2];z[g++]=B[3]}};a.O.Z.acM=function(z,J){var p=z.length;
for(var g=0;g<p;){z[g++]=J}};a.O.Z.aH3=function(z,J){z=z>5?(100-Math.max(4,z))/100:.95;J=J!=100?Math.max(4,J)/100:.9995;
var p=new Uint8Array(256),n=J>.5?.5/(1-J):J*2,B=~~(n*256),c=~~((.5-z*n)*256)<<8;for(var g=0;g<256;g++){p[g]=a.O.Z.uL(c>>8);
c+=B}return p};a.O.Z.jn=function(z){for(var g=0,J=a.O.Z,p=z.length;g<p;g++){z[g]=~~(J.random()*256)}};
a.O.Z.ayC=function(z,J){for(var g=0,p=a.O.Z,n=z.length;g<n;g++){z[g]=p.random()<J?255:0}};a.O.Z.aLr=function(z,J,p){for(var g=0,n=a.O.Z,B=z.length;
g<B;g++){if(n.random()<J)z[g]=p}};a.O.Z.a1e=function(z,J,p){var n=z.length;for(var g=0;g<n;g++){z[g]=a.O.Z.uL(z[g]+p[J[g]])}};
a.O.Z.HT=function(z){var J=new Uint32Array(256);for(var g=0,p=z.length;g<p;g++)J[z[g]]++;return J};a.O.Z.a0Q=function(z,J){var p=0,n=0,B=new Uint32Array(256),c=new Float32Array(256);
for(var g=0,t=z.length;g<t;g++){var u=z[g],v=J[g];if(v==255){B[u]++;p++}else if(v>0){v/=255;n+=v;c[u]+=v;
if(n>=1){n--;p++}if(c[u]>=1){c[u]--;B[u]++}}}return[p,B]};a.O.Z.lg=function(z,J,p,n){var self=a.O.Z,B,c,$=0,U=256;
if(n){var t=self.a0Q(p,n);B=t[1];c=t[0]/100}else{B=self.HT(p);c=self.R6/100}var u=new Uint8Array(256),v=c*z,A=c*J,X=-1;
do{$+=B[++X]}while($<=v);$=0;do{$+=B[--U]}while($<=A);if(U-X<=0)U=X+1;if(U>255){U=255;X=254}var w=255/(U-X),P=-X;
for(var g=0;g<256;g++){u[g]=self.uL(w*P+.5);P++}return u};a.O.Z.Gf=function(z,J,p,n){var B=a.O.Z;B.sH(z,B.lg(J,p,z,n))};
a.O.Z.a0n=function(z,J){var self=a.O.Z,p=self.HT(z),n=self.R6*J/100,B=0,c=-1;do{B+=p[++c]}while(B<=n);
return c};a.O.Z.n3=function(z,J){var p=0,self=a.O.Z,n=self.Tx,B=self.tK,c=1/Math.PI,t=c*255;for(var g=0;
g<B;g++){var u=g+1;if(u==B)u--;var v=g*n,A=~~((1-(g+1)/B)*255);for(var $=0;$<n;$++){var X=$+1;if(X==n)X--;
var U=z[v+$],w=z[v+X],P=z[u*n+$];if(U-P==0){J[p++]=A}else{var k=U-P+255;if(k==255){k=0}else{k=~~(Math.atan2(1/(255-k),1)*t+.5);
if(k<0)k+=255}J[p++]=k}if(U-w==0){J[p++]=~~((1-($+1)/n)*255)}else{var k=U-w+255;if(k==255){k=0}else{k=~~(Math.atan2(1/(255-k),1)*t+.5);
if(k<0)k+=255}J[p++]=k}}}};a.O.Z.ahI=function(z,J){var self=a.O.Z,p=self.Tx,n=self.tK,B=0;for(var g=0;
g<n;g++){for(var c=0;c<p;c++){z[B]=~~(g*J+.5)+~~(z[B]*(1-J)+.5);B++;z[B]=~~(c*J+.5)+~~(z[B]*(1-J)+.5);
B++}}};a.O.Z.abj=function(z,J,p,n){var self=a.O.Z,B=self.Tx,c=self.tK,t=0;for(var g=0;g<c;g++){for(var u=0;
u<B;u++){J[t]=~~(J[t]*(1-p)+.5)+~~(z[t]*n+.5);t++;J[t]=~~(J[t]*(1-p)+.5)+~~(z[t]*n+.5);t++}}};a.O.Z.axh=function(z,J,p){var self=a.O.Z,n=self.Tx,B=self.tK,c=0,t=0;
for(var g=0;g<B;g++){for(var u=0;u<n;u++){var v=z[c++],A=z[c++];J[t++]=A%p>=2&&v%p>=2?255:0}}};a.O.Z.af7=function(z,J,p,n,B,c,t){var self=a.O.Z,u=self.Tx,v=self.tK,A=0,$=0,X=0;
for(var g=0;g<v;g++){var U=g%z<p||v-p<=g;for(var w=0;w<u;w++){t[A++]=U||w%J<n||u-n<=w?B:c}}};a.O.Z.a1=function(z,J,p,n){var self=a.O.Z,B=self.Tx,c=self.tK,t=hj.a1(J),u=t[1],v=t[0].r,A=t[0].$,$=100/p;
for(var X=0;X<c;X++)for(var U=0;U<B;U++){var w=a.F.rl(U*$,X*$,u,v,A);z[X*B+U]=n?255-w:w}};a.O.Z.uL=function(z){return~~Math.min(255,Math.max(0,z))};
a.O.Z.aKN=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];a.O.Z.aL9=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
a.O.Z.M5=function(z){return z>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][z-41]:z/40};a.O.Z.a8f=function(z,J,p){var self=a.O.Z,n=self.Tx,B=self.tK,c=p,t=p>>1,u=t-1,v=c*c,A=0;
for(var g=0;g<B;g++){var $=0,X=0,U=0,w=~~(g/p)*p,P=0;for(var k=0;k<c;k++){for(var T=0;T<c;T++){var Z=P+T,i=w+k;
if(Z>=n)Z=n-1;if(i>=B)i=B-1;$+=z[i*n+Z<<2];X+=z[(i*n+Z<<2)+1];U+=z[(i*n+Z<<2)+2]}}var V=~~($/v),_=~~(X/v),y=~~(U/v);
J[A]=V;J[A+1]=_;J[A+2]=y;J[A+3]=z[A+3];A+=4;for(var E=1;E<n;E++){for(var k=0;k<c;k++){var F=E-1,d=F+c,i=w+k;
if(d>=n)d=n-1;if(i>=B)i=B-1;var x=i*n,f=x+d<<2,Q=x+F<<2;$+=z[f]-z[Q];X+=z[f+1]-z[Q+1];U+=z[f+2]-z[Q+2]}if(E%p==0){V=~~($/v);
_=~~(X/v);y=~~(U/v)}J[A]=V;J[A+1]=_;J[A+2]=y;J[A+3]=z[A+3];A+=4}}};a.O.Z.a4N=function(z,J,p,n,B){var self=a.O.Z,c=self.Tx,t=self.tK,u=0,v=0,A=0,$=0;
for(var g=$;g<t+$;g++){var X=g%J>=n||g<n||t+$-n<=g;for(var U=0;U<c;U++){z[u++]=X&&(U%p>=B||U<B||c-B<=U)?255:0}}};
a.O.Z.aji=function(z,J,p){var n=function(A,$){return $<=A?A/$&1?$-A%$:A%$:A},B=[function(u,v){return n(u,255)/255},function(u,v){return(255+n(u,255)-n(v,255))/510},function(u,v){return(255-n(v,255))/255},function(u,v){return(510-n(u,255)-n(v,255))/510},function(u,v){return(255-n(u,255))/255},function(u,v){return(255-n(u,255)+n(v,255))/510},function(u,v){return n(v,255)/255},function(u,v){return(n(u,255)+n(v,255))/510}][p],c=0,t=0;
for(var g=0;g<a.O.Z.R6;g++){var u=z[c++],v=z[c++];J[t++]=~~(255*B(u,v))}};a.O.a7Y=function(){var z=[],J=new Uint8Array(512),p=new Float32Array(512),n=new Float32Array(512),B=[1,-1,1,-1,1,-1,0,0],c=[1,1,-1,-1,0,0,1,-1],t=0,u,P=0;
for(;t<256;t++)z[t]=t;while(t!=0){t--;u=Math.floor(Math.random()*t);z[u]^=z[t]^(z[t]=z[u])}function v(v){v=Math.floor(v*65536);
if(v<256){v|=v<<8}for(var g=0;g<256;g++){var Z=g+256,i=z[g]^(g&1?v:v>>8)&255;J[g]=J[Z]=i;i=i%8;p[g]=p[Z]=B[i];
n[g]=n[Z]=c[i]}}function A(Z){return Z*Z*Z*(Z*(Z*6-15)+10)}function $(Z,i,V){return(1-V)*Z+V*i}function X(Z,i){return Z&i}function U(Z,i){return Z%i}function w(Z,i,V,_,y){var E=Math.floor(Z),F=Math.floor(i),t,d,x,f,Q,m;
Z=Z-E;i=i-F;E=E&255;F=F&255;t=E+J[F];f=p[t]*Z+n[t]*i;t=E+J[y(F+1,_)];x=p[t]*Z+n[t]*(i-1);t=y(E+1,V)+J[F];
Q=p[t]*(Z-1)+n[t]*i;t=y(E+1,V)+J[y(F+1,_)];m=p[t]*(Z-1)+n[t]*(i-1);d=A(Z);return $($(f,Q,d),$(x,m,d),A(i))}function k(Z,t,i){Z[t]=i}function T(Z,i,V,_,y){var E=Math.min(Math.min(i,256),Math.min(256,V)),F=E==256||E<8,d=8,x=new Uint32Array(d),f=new Uint32Array(d),Q=new Float32Array(d),m=new Float32Array(d),H=1,S=1,R=F?X:U,I=k,D;
for(var g=0;g<d;g++){D=S*1/E;if(F){f[g]=(1<<Math.ceil(Math.log2(V*D)))-1;x[g]=(1<<Math.ceil(Math.log2(i*D)))-1}else{f[g]=D*V;
x[g]=D*i}Q[g]=H;m[g]=D;H*=.5;S=S<<1}v(Math.random());for(var G=0,t=0;G<V;G++){for(var C=0;C<i;C++){var O=0;
for(var Y=0;Y<d;Y++){D=m[Y];O+=w(C*D,G*D,x[Y],f[Y],R)*Q[Y]}I(_,t++,Math.round(Math.max(0,255*Math.min(1,.5+O*.5))))}}}return T}();
a.O.a3C=function(){function z(J,p,n,B){var c=new Uint8Array(J.length>>>2),t=new Uint8Array(J.length>>>2),u=new Uint8Array(J.length);
for(var g=0;g<J.length;g+=4){var v=J[g+0]*.3+J[g+1]*.59+J[g+2]*.11;t[g>>>2]=v;u[g]=J[g];u[g+1]=J[g+1];
u[g+2]=J[g+2]}a.iM.aoZ(t,c,p,n);a.iM.Jf(J,B,p,n,a.iM.Gb[1],!1,!0);for(var g=0;g<J.length;g+=4){u[g+3]=255-c[g>>>2]}for(var g=0,A=J.length;
g<A;g+=4){var $=u[g+3]/255;B[g]=u[g]*$+B[g]*(1-$);B[g+1]=u[g+1]*$+B[g+1]*(1-$);B[g+2]=u[g+2]*$+B[g+2]*(1-$)}}return z}();
a.O.afd=function(){function z(c,t,u,v,A){var $=new Uint32Array(c.buffer),X=0;for(var g=0;g<u;g++){for(var U=0;
U<t;U++,X+=4){var w=$[g*t+U],P=w&255,k=w>>>8&255,T=w>>>16&255,Z=w>>>24&255,i=~~(Math.random()*8),V=i%3,_=0,y=0;
if(i<3){y--}else if(i>4){y++}if(V==0){_--}else if(V==2){_++}var E=U+_,F=g+y;if(E<0)E=0;else if(E>t-1)E=t-1;
if(F<0)F=0;else if(F>u-1)F=u-1;var w=$[F*t+E],d=w&255,x=w>>>8&255,f=w>>>16&255,Q=w>>>24&255;v[X]=A(P,d);
v[X+1]=A(k,x);v[X+2]=A(T,f);v[X+3]=A(Z,Q)}}}function J(c,t){return t}function p(c,t){return c>t?t:c}function n(c,t){return c<t?t:c}function B(c,t,u,v,A){var $=A[0];
if($==0)z(c,t,u,v,J);else if($==1)z(c,t,u,v,p);else if($==2)z(c,t,u,v,n);else if($==3){console.error("Not implemented")}else console.error("Mew mew")}return B}();
a.O.aaM=function(){function z(J,p,n,B,c){var t=c&&c[0]?c[0]:4,u,v,A,$,X,U,w;for(var g=0;g<n;g++){var P=Math.max(g-t,0),k=Math.min(g+t,n-1);
for(var T=0;T<p;T++){var Z=Math.max(T-t,0),i=Math.min(T+t,p-1);u=P*p+Z<<2;$=J[u];X=J[u+1];U=J[u+2];w=J[u+3];
u=P*p+i<<2;$+=J[u];X+=J[u+1];U+=J[u+2];w+=J[u+3];u=k*p+Z<<2;$+=J[u];X+=J[u+1];U+=J[u+2];w+=J[u+3];u=k*p+i<<2;
$+=J[u];X+=J[u+1];U+=J[u+2];w+=J[u+3];u=g*p+T<<2;B[u]=$+2>>>2;B[u+1]=X+2>>>2;B[u+2]=U+2>>>2;B[u+3]=w+2>>>2}}}return z}();
a.O.aFR=function(){function z(J,p,n,B){var c=new Uint8Array(J.length),t=new Uint8Array(J.length>>>2),u=new Uint8Array(J.length>>>2);
a.iM.Jf(J,c,p,n,a.iM.Gb[2],!1,!0);for(var g=0;g<J.length;g+=4){var v=c[g+0]*.3+c[g+1]*.59+c[g+2]*.11;
t[g>>>2]=v;B[g+0]=J[g+0];B[g+1]=J[g+1];B[g+2]=J[g+2];B[g+3]=J[g+3]}a.iM.aoZ(t,u,p,n);for(var g=0;g<J.length;
g+=4){c[g+3]=~~(Math.max(0,255-u[g>>>2]-50)*(255/205))}for(var g=0,A=J.length;g<A;g+=4){var $=c[g+3]/255;
B[g]=c[g]*$+B[g]*(1-$);B[g+1]=c[g+1]*$+B[g+1]*(1-$);B[g+2]=c[g+2]*$+B[g+2]*(1-$)}}return z}();a.O.i9=function(){function z(i,V){return i[V]+i[V+1]+i[V+2]+i[V+3]}function J(i,V){return i[V]+i[V+1]+i[V+2]+2*i[V+3]}function p(i,V,_,y){i[V]=_[y];
i[V+1]=_[y+1];i[V+2]=_[y+2];i[V+3]=_[y+3]}function n(i,V,_){i[V]=i[_];i[V+1]=i[_+1];i[V+2]=i[_+2];i[V+3]=i[_+3]}function B(i,V,_){i[_]=V[_];
i[_+1]=V[_+1];i[_+2]=V[_+2];i[_+3]=255-V[_+3]}function c(i){for(var g=0,V=i.length;g<V;g+=4){i[g+3]=255-i[g+3]}}function t(){var i=Math.random();
if(i>.5)return 0;if(i>.25)return 1;if(i>.1)return 2;if(i>.02143)return 3;if(i>.00445)return 4;if(i>65e-5)return 5;
if(i>415e-6)return 6;if(i>55e-6)return 7;return 8}function u(i,V,_,y,E,F){i[V]=_[y]+(E[F]-_[y]>>1);i[V+1]=_[y+1]+(E[F+1]-_[y+1]>>1);
i[V+2]=_[y+2]+(E[F+2]-_[y+2]>>1);i[V+3]=_[y+3]+(E[F+3]-_[y+3]>>1)}function v(i,V,_,y,E,F){i[V]=E[F]+_[y]>>1;
i[V+1]=E[F+1]+_[y+1]>>1;i[V+2]=E[F+2]+_[y+2]>>1;i[V+3]=E[F+3]+_[y+3]>>1}function A(i,V,_,y,E,F,d,x,f){var Q=0,m=0,H=0,g,S=E[F],R;
u(x,0,i,V,i,_);for(g=0;g<S;g++){u(x,(g+1)*4,x,g*4,i,_)}m=(S+1)*4;H+=S;F--;p(i,V,x,m-4);y[F]=z(i,V);V-=f;
while(F>0&&y[F-1]<y[F]){R=x;x=d;d=R;Q=m;v(x,0,i,V-f,d,0);for(g=4;g<Q;g+=4){v(x,g,x,g-4,d,g)}S=E[F];for(g=H;
g<S;g++){u(x,m,x,m-4,d,Q-4);m+=4;H++}F--;p(i,V,x,m-4);y[F]=z(i,V);V-=f}}function $(i,V,_,y,E){var F=V*4,d=0,x,f,Q=new Uint8Array(V+1),m=new Uint8Array(10*4),H=new Uint8Array(10*4);
for(var g=0;g<_;g++){B(y,i,d);E[0]=z(y,d);Q[0]=t();x=d;d+=4;for(var S=1;S<V;S++){B(y,i,d);E[S]=z(y,d);
f=t();Q[S]=f;if(E[S-1]<E[S]&&f>0){A(y,d-4,d,E,Q,S,m,H,4)}d+=4}E[V]=E[0];Q[V]=Q[0];if(E[V-1]<E[V]&&f>0){A(y,d,x,E,Q,V,m,H,4)}}c(y)}function X(){var i=Math.random();
if(i>.659755)return 0;if(i>.1625)return 10;if(i>.06)return 20;if(i>.01)return 30;if(i>.0035)return 40;
if(i>65e-5)return 50;if(i>415e-6)return 60;if(i>55e-6)return 70;return 80}function U(i,V,_,y,E,F){var d=X()+1,x=y[E];
for(var g=1;g<d;g++){if(0>E)break;if(y[E-g]<x){n(i,V,_)}else{break}V+=F}}function w(i,V,_,y,E){var F=V*4,d=0;
for(var g=0;g<_;g++){B(y,i,d);E[0]=z(y,d);d+=4;for(var x=1;x<V;x++){B(y,i,d);E[x]=z(i,d);if(E[x-1]<E[x]){U(y,d-4,d,E,x,-4)}d+=4}E[V]=E[0];
if(E[x-1]<E[x]){U(y,d-4,d-F,E,x,-4)}}c(y)}function P(i,V,_,y,E,F){var d=1,x,f,Q=new Uint8Array(4),m,H=V;
while(Math.random()<1/d){H=V;if(y<=1)break;x=_[y];f=_[y-1];if(x<=f)break;p(Q,0,i,H-F);m=!0;for(var g=y;
g<E;g++){if(f>_[g]){p(i,H-F,Q,0);_[g-1]=f;m=!1;break}p(i,H-F,i,H);_[g-1]=_[g];H+=F}if(m){p(i,H-F,Q,0);
_[E-1]=f}d++;y--;V-=F}}function k(i,V,_,y,E){var F=0,d=0,x=V*4;for(var g=0;g<_;g++){d=F;for(var f=0;
f<V;f++){B(y,i,F);E[f]=J(y,F);F+=4}F=d;for(var f=1;f<V;f++){if(E[f-1]<E[f]&&Math.random()<.66){P(y,F+4,E,f,V,4)}F+=4}F+=4}c(y)}function T(i,V,_,y,E){var F=E[0],d=E[1],x=new Uint16Array(V+1),f=i,Q=y,m;
if(d){m=y.slice(0);Z(i,y,V,_);f=y;Q=m}if(F==0)$(f,V,_,Q,x);else if(F==1)w(f,V,_,Q,x);else if(F==2)k(f,V,_,Q,x);
if(d){Z(m,y,V,_)}}function Z(i,V,_,y){for(var E=0;E<y;E++)for(var F=0;F<_;F++){var d=E*_+F<<2,x=E*_+(_-1-F)<<2;
V[x]=i[d];V[x+1]=i[d+1];V[x+2]=i[d+2];V[x+3]=i[d+3]}}return T}();a.O.aeC=function(z,J,p,n,B){var c=a.O.Z,t=1,T=0,V=0;
c.SL(J,p);c.ka(B[2]);var u=3<<13,v=Math.PI/2.43,A=v/256,$=Math.PI*2/256;function X(){var F=c.random()*256,d=c.random()*256;
return t*~~(Math.tan(v-F*A)*325*Math.cos(d*$)*256)+u>>16}t=B[0];var U=B[1],w=(U+2)/2,P=c.random()*255,k=c.M8(1);
for(var g=0;g<p;g++){var Z=c.uL(X()+P);for(var i=0;i<J;i++){Z=c.uL(X()+Z);k[T++]=Z}}T=J;for(var g=1;
g<p;g++){var _=c.uL(X()+k[V++]);k[T++]=_;for(var i=1;i<J;i++){var y=V+1;if(i+1==J){y--}var E=(w+_+k[y]+k[V]*U)/(U+2);
_=c.uL(X()+E);k[T++]=_;V++}}c.tE(k,n)};var bf=function(){function z(W){W=W^61^W>>>16;W=W+(W<<3);W=W^W>>>4;
W=W*668265261;W=W^W>>>15;return W}var J=function(){var J=function(W){if(W){this.k6=W}this.k6=z(this.k6);
return(this.k6&16777215)*(1/16777215)};return J};function p(W,N){if(N==null){N=[0,0]}return Math.sqrt((N[0]-W[0])*(N[0]-W[0])+(N[1]-W[1])*(N[1]-W[1]))}function n(W,N){if(N==null){N=[0,0]}return[-(N[1]-W[1])/p(W,N),(N[0]-W[0])/p(W,N)]}function B(W){return[Math.cos(W),Math.sin(W)]}function c(W){var N=p(W,[0,0]),o=[W[0]/N,W[1]/N],K=Math.atan(o[1]/o[0]);
if(o[0]>0&&o[1]<0){K+=2*Math.PI}else if(o[0]<0&&o[1]<0){K+=Math.PI}else if(o[0]<0&&o[1]>0){K+=Math.PI}return K}function t(W){var t=0;
for(var g=1;g<W.length/2;++g){t+=p([W[2*g],W[2*g+1]],[W[2*(g-1)],W[2*(g-1)+1]])}return t}function u(W,N,o){var K=new Float32Array(W.length),l=1/(W.length/2),aV=y(o);
for(var g=0;g<W.length/2;++g){var j=g*l,M=j/2+.5,s=1,l2=0;if(o.shape==2){s=1/(2*M)}if(o.shape==3){M=(1-j)/2+.5;
s=1/(2*M)+.5}if(o.shape==4){M=j;s=Math.sin(3/2*Math.PI*M)/4+1}if(o.shape==5){M=(j-.5)*6;s=(-Math.atan(M)/1.25+1)/5+.6-.2*j}var gm=[null,null];
if(g==0){gm=n([W[2*g],W[2*g+1]],[W[2*(g+1)],W[2*(g+1)+1]])}else if(g==W.length/2-1){gm=n([W[2*(g-1)],W[2*(g-1)+1]],[W[2*g],W[2*g+1]])}else{gm=n([W[2*(g-1)],W[2*(g-1)+1]],[W[2*(g+1)],W[2*(g+1)+1]])}K[2*g]=W[2*g]+(s*N+l2)*gm[0];
K[2*g+1]=W[2*g+1]+(s*N+l2)*gm[1];if(o.style==2){K[2*g]+=E(2*g/K.length,aV,o)}}return K}function v(W,N,o){var K=new Float32Array(W.length),l=1/(W.length/2);
for(var g=0;g<W.length/2;++g){var aV=g*l,j=[null,null],M=.6*o.cp*x(aV,N.azF)*o.rM/100,s=.6*o.cp*x(aV,N.aD3)*o.rM/100,l2=N.abr*M+(1-N.abr)*s;
if(g==0){j=n([W[2*g],W[2*g+1]],[W[2*(g+1)],W[2*(g+1)+1]])}else if(g==W.length/2-1){j=n([W[2*(g-1)],W[2*(g-1)+1]],[W[2*g],W[2*g+1]])}else{j=n([W[2*(g-1)],W[2*(g-1)+1]],[W[2*(g+1)],W[2*(g+1)+1]])}K[2*g]=W[2*g]+l2*j[0];
K[2*g+1]=W[2*g+1]+l2*j[1]}return K}function A(W){if(W.Qr==1){return[.150684932,.205479452,.465753425,.178082192]}else if(W.Qr==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var N=[],o=1/(H(W)-1);
for(var g=0;g<H(W)-1;++g){N.push(o)}return N}}function $(W,N,o){var K=[],l=N-W,aV=W;for(var g=0;g<o.length-1;
++g){K.push(aV+o[g]*l);aV=K[g]}return K}function X(W,N,o,K){var l=new Float32Array(o.length),aV=0,j={shape:Math.floor(K.random()*2.99),apV:K.random()*.1+.15};
for(var g=0;g<o.length-1;++g){var M=aV+o[g];l[g]=((1-M)*W+M*N)*Z(K,M,j);aV=M}return l}function U(W,N,o,K){var l=Q(K),aV=K.random(),j=aV*20+(1-aV)*26,M=new Float32Array(o.length),s=0;
for(var g=0;g<o.length-1;++g){var l2=s+o[g];M[g]=(1-l2)*W+l2*N+l/j*(2/3*Math.sin(Math.PI*l2)+1/3*Math.sqrt(Math.sin(Math.PI*l2)));
s=l2}return M}function w(W,N,o){var K=[];for(var g=0;g<N.length-1;++g){K.push(N[g].slice());var l=g*(H(o)-1),aV=(g+1)*(H(o)-1),j=W[aV]-W[l];
for(var M=l+1;M<aV;++M){var s=y(o),l2=new Float32Array(N[0].length),gm=(W[M]-W[l])/j;for(var iz=0;iz<N[0].length/2;
++iz){l2[2*iz]=(1-gm)*N[g][2*iz]+gm*N[g+1][2*iz];l2[2*iz+1]=(1-gm)*N[g][2*iz+1]+gm*N[g+1][2*iz+1];if(o.style==2){l2[2*iz]+=E(2*iz/N[0].length,s,o)}}K.push(l2)}}K.push(N[N.length-1]);
return K}function P(W,N,o){var K=new Array(N.length),l=O(W),j=null;for(var g=0;g<N.length;++g){K[g]=u(l,(N[g]-.5)*o.rM,o)}var aV=1+.05*o.aiz*Q(o)/Q({Qr:1});
for(var g=0;g<N.length;++g){if(N[g]==0){j=g}}for(var g=0;g<N.length;++g){var M=(o.random()-.5)*2,s=Math.round(o.random()*9+1),l2=new Float32Array(s*2+2);
for(var gm=0;gm<=s;++gm){l2[2*gm]=K[g][0]-(K[g][2*gm]-K[g][0]);l2[2*gm+1]=K[g][1]-(K[g][2*gm+1]-K[g][1])}if(g==j){M*=.1}for(var gm=(K[g].length-1)/2;
gm>s;--gm){K[g][2*gm]=(1-M)*K[g][2*gm]+M*(K[g][2*(gm-s)]+aV*(K[g][2*gm]-K[g][2*(gm-s)]));K[g][2*gm+1]=(1-M)*K[g][2*gm+1]+M*(K[g][2*(gm-s)+1]+aV*(K[g][2*gm+1]-K[g][2*(gm-s)+1]))}for(var gm=s-1;
gm>=0;--gm){K[g][2*gm]=(1-M)*K[g][2*gm]+M*(l2[2*(s-gm)]+aV*(K[g][2*gm]-l2[2*(s-gm)]));K[g][2*gm+1]=(1-M)*K[g][2*gm+1]+M*(l2[2*(s-gm)+1]+aV*(K[g][2*gm+1]-l2[2*(s-gm)+1]))}}var iz=d(N,o);
if(o.cp>0){var dC=0;for(var g=0;g<N.length;++g){if(g==0){dC+=N[g]}else{dC+=Math.abs(N[g]-N[g-1])}var dL=dC-Math.floor(dC),cP=1;
if(dL==0){cP=0}K[g]=v(K[g],{azF:iz[Math.floor(dC)],aD3:iz[Math.floor(dC)+cP],abr:dL},o)}}return K}function k(W,N){var o=I(N,W),K=D(N,W),l=[],aV=[],j=[],M=A(W);
for(var g=0;g<N.length-1;++g){l.push(N[g]);aV.push(o[g]);j.push(K[g]);var s=$(N[g],N[g+1],M),l2=X(o[g],o[g+1],M,W),gm=U(K[g],K[g+1],M,W);
for(var iz=0;iz<s.length;++iz){l.push(s[iz]);aV.push(l2[iz]);j.push(gm[iz])}}l.push(N[N.length-1]);aV.push(o[o.length-1]);
j.push(K[K.length-1]);return{aEr:l,aIF:aV,ad:j}}function T(W,N,o,K){var l=new Float32Array(2*K),aV=W.length/2,j=aV-N,M=o*j,s=M/K;
for(var g=0;g<K;++g){var l2=Math.floor(N+g*s),gm=Math.ceil(N+g*s),o=N+g*s,iz=gm-l2,dC=1,dL=0;if(iz!=0){dC=(gm-o)/iz;
dL=(o-l2)/iz}l[2*g]=dC*W[2*l2]+dL*W[2*gm];l[2*g+1]=dC*W[2*l2+1]+dL*W[2*gm+1]}return l}function Z(W,N,o){var K=o.apV,l=N*2*Math.PI,aV=l,j=0;
if(o.shape==0){j=(Math.sin(2*aV+Math.PI/2)+1)/2}else if(o.shape==1){j=(Math.sin(aV+Math.PI/2)+1)/2}else{j=(4*Math.sin(3/4*aV+Math.PI)+Math.sin(Math.PI/2+2*aV)-2*aV/Math.PI+6)/7}return Math.min(1,1-K+K*j)}function i(W,N,o,K){var l=[];
for(var g=0;g<W.length;++g){l.push(T(W[g],N[g],o[g],K))}return l}function V(W,N,o){var K=[];for(var g=0;
g<W.length;++g){var l=B(2*Math.PI*o.random()),aV=B(2*Math.PI*o.random()),j=o.HA*.5*S({Qr:1})/S(o),M=j*o.rM/200,s=j*N/500,l2=new Float32Array(W[0].length);
for(var gm=0;gm<W[0].length/2;++gm){var iz=B(2*Math.PI*o.random()),dC=2*gm/W[0].length;l2[2*gm]=W[g][2*gm]+M*(iz[0]+((1-dC)*l[0]+dC*aV[0]));
l2[2*gm+1]=W[g][2*gm+1]+s*(iz[1]+((1-dC)*l[1]+dC*aV[1]))}K.push(l2)}return K}function _(W,N,o){var K=o.Ml,l=2/K,aV=[1/10,1/30,1/40,1/45,1/100],j=aV[o.Qr-1],M=4*(o.YF/25*l*j)*(1-o.HA/150),iz=0,dL=0;
if(o.style==3){return M*.09}var s=2.2*(W-.5),l2=s*s*s*s+.27+Math.max(0,(o.YF-50)/15),gm=2*(Math.sin(3*Math.PI*N)/(Math.PI*N+2)+1.1)-N/2;
N=2*N;if(N<.41){var dC=2*Math.PI*N/.41;iz=(Math.sin(dC-Math.PI/2)+1)/4+.5}else if(N<.77){var dC=2*Math.PI*(N-.41)/.36;
iz=(Math.sin(dC-Math.PI/2)+1)/4+.5-dC/2/Math.PI*.5}else{var dC=2*Math.PI*(N-.77)/.23;iz=(Math.sin(dC-Math.PI/2)+1)/2*.12}iz*=3;
iz+=Math.max(0,(o.YF-50)/15);if(o.I==6){dL=gm}else{dL=iz}return M*l2*dL}function y(W){return{J:W.random()*7/2+.5,ba:W.random()*2*Math.PI}}function E(W,N,o){return o.rM/300*H({Qr:1})/H(o)*10*(Math.sin(N.J*2*Math.PI*W+N.ba)+10*(o.random()-.5))}function F(W){var N=Math.exp(-W.cp/25);
return{J:W.random()*3/2+.5,ba:W.random()*2*Math.PI,mf:(W.random()-.5)*10*N}}function d(W,N){var o=Math.ceil(G(W)),K=[];
for(var g=0;g<=o;++g){K.push(F(N))}return K}function x(W,N){var o=N.J*4*Math.PI*W+N.ba;return Math.exp(-1/2*Math.PI*W)*Math.cos(o)*Math.cos(o)*Math.cos(o)*Math.cos(o)*Math.cos(o)+W*N.mf-N.mf/4}function f(W,N,o,K,l){var aV=0,j=S(N)-1;
for(var g=0;g<j;++g){for(var M=0;M<W.length-1;M+=H(N)-1){for(var s=g;s<W[0].length/2-j;s+=j){for(var l2=M;
l2<M+(H(N)-1);++l2){o[l+aV]=_(l2*(N.Ml-1)/(W.length-1)%1,s/W[0].length,N);var gm=0,iz=0;if(N.I==6&&l2!=0&&l2!=W.length-1){iz=(W[l2][2*(s+1)+1]-W[l2][2*s+1])/2;
gm=(W[l2][2*(s+1)]-W[l2][2*s])/2}K[8*l+8*aV]=W[l2][2*s]+gm;K[8*l+8*aV+1]=W[l2][2*s+1]+iz;K[8*l+8*aV+2]=W[l2][2*(s+j)]+gm;
K[8*l+8*aV+3]=W[l2][2*(s+j)+1]+iz;K[8*l+8*aV+4]=W[l2+1][2*(s+j)];K[8*l+8*aV+5]=W[l2+1][2*(s+j)+1];K[8*l+8*aV+6]=W[l2+1][2*s];
K[8*l+8*aV+7]=W[l2+1][2*s+1];++aV}}}}}function Q(W){var N=[100,300,500,700,1e3];return N[W.Qr-1]}function m(W){var N=[30,70,100,140,300];
return N[W.Qr-1]}function H(W){var N=[5,7,26,40,100];return N[W.Qr-1]}function S(W){if(W.Qr==1){return 4}else if(W.Qr==2){return 8}else{return Math.floor(m(W)/9)}}function R(W){var N=W.Ml,o=new Float32Array(N),K=null;
for(var g=0;g<N;++g){o[g]=W.random()}if(W.Ml<=3){o[0]=0;o[W.Ml-1]=1}else{for(var g=0;g<2;++g){var l=Math.floor(W.random()*N);
if(K==null||K!=l){o[l]=g;K=l}else{o[l+1]=g}}}return o}function I(W,N){var o=[],K=.2,aV=0;for(var g=0;
g<W.length;++g){var l=N.random()*(1-K)+K;o.push(l)}var j=Math.min(3,N.Ml);for(var g=0;g<W.length;++g){if(o[g]>.9){++aV}}while(aV<j){var M=Math.floor(N.random()*W.length);
if(o[M]<=.9){o[M]=.9+.1*N.random();++aV}}return o}function D(W,N){var o=Q(N),K=Q({Qr:1}),l=[];for(var g=0;
g<W.length;++g){l.push(Math.max(1,(N.random()*10+2)*o/K))}return l}function G(W){var N=0;for(var g=0;
g<W.length;++g){if(g==0){N+=W[g]}else{N+=Math.abs(W[g]-W[g-1])}}return N}function C(W,N){if(W.length/2-1==Q(N)){return W}var o=new Float32Array(2*(Q(N)+1)),K=(W.length-2)/(o.length-2);
for(var g=0;g<o.length/2;++g){var l=g*K,aV=Math.floor(l),j=Math.ceil(l),M=j-aV,s=1,l2=0;if(M!=0){s=(j-l)/M;
l2=(l-aV)/M}o[2*g]=s*W[2*aV]+l2*W[2*j];o[2*g+1]=s*W[2*aV+1]+l2*W[2*j+1]}return o}function O(W,N){var o=W.length/2,K=t(W),l=K/o,aV=!1,s=0,l2=0,gm=1;
if(N){var j=Math.floor(K/N.adW),M=N.adW;if(N.aI8&&W[0]==W[W.length-2]&&W[1]==W[W.length-1]){aV=!0;M=K/(j+1)}if(N.I==2&&!aV&&M*j+N.length>K){o=j+1}else{o=j+2}l=M}var iz=new Float32Array(o*2);
iz[0]=W[0];iz[1]=W[1];for(var g=1;g<o;++g){while(s<=g*l){l2=s;s+=p([W[2*gm],W[2*gm+1]],[W[2*(gm-1)],W[2*(gm-1)+1]]);
++gm}var dC=1-(g*l-l2)/(s-l2);iz[2*g]=(1-dC)*W[2*gm]+dC*W[2*(gm-1)];iz[2*g+1]=(1-dC)*W[2*gm+1]+dC*W[2*(gm-1)+1]}iz[iz.length-2]=W[W.length-2];
iz[iz.length-1]=W[W.length-1];return iz}function Y(W,N){var o=O(W,N),K=[];for(var g=0;g<(o.length-2)/2;
++g){var l=[];l.push(o[2*g]);l.push(o[2*g+1]);var aV=p([o[2*(g+1)],o[2*(g+1)+1]],[o[2*g],o[2*g+1]]),j=[(o[2*(g+1)]-o[2*g])/aV,(o[2*(g+1)+1]-o[2*g+1])/aV],M=B((N.aoL-90)/360*2*Math.PI),s=j;
if(N.I==3){s=M}else if(N.I==4){s=B(c(j)+c(M))}else if(N.I==5){s=B(((N.random()-.5)*N.aoL-90)/360*2*Math.PI)}var l2=N.length;
if(N.a5x){l2=2*N.random()*N.length}l.push(o[2*g]+s[0]*l2);l.push(o[2*g+1]+s[1]*l2);K.push(l)}return K}function h(W){if(W.af5){W.u8=100*Math.random()}else{W.u8=W.a71}W.random=new J;
W.random(W.u8);if(W.I==6){W.Ml=2;W.shape=5;W.aiz=0}}function r(W,N){W=C(W,N);var o=[W],l2=0;if(N.I>=2&&N.I<6){o=Y(W,N)}var K=S(N)-1,l=m(N)-K,aV=(N.Ml-1)*(H(N)-1),j=o.length*l*aV,M=new Float32Array(j),s=new Float32Array(8*j);
for(var g=0;g<o.length;++g){for(var gm=0;gm<1e4;++gm){N.u8=z(N.u8)}N.random(N.u8);var W=C(o[g],N),iz=R(N),dC=G(iz),dL=P(W,iz,N),cP=k(N,iz),id=w(cP.aEr,dL,N);
id=i(id,cP.ad,cP.aIF,m(N));if(N.HA>0){id=V(id,t(o[g]),N)}f(id,N,M,s,l2);l2+=l*aV}return[M,s]}var bf=function(W){var N=performance.now(),o=W[0],K=W[1];
h(K);var l=[new Float32Array(0),new Float32Array(0)];for(var g=0;g<o.length;++g){K.u8=z(K.u8);var aV=r(o[g],K),j=new Float32Array(l[0].length+aV[0].length),M=new Float32Array(l[1].length+aV[1].length);
j.set(l[0]);j.set(aV[0],l[0].length);l[0]=j;M.set(l[1]);M.set(aV[1],l[1].length);l[1]=M}var s=performance.now();
if(K.an5){console._Z("Geometry: "+String(s-N)+"ms")}return l};return bf}(),ip=function(){function z(B,c){var t=[],u=0,v=c.length,A=0,$=0,X=new fw,U=0,w=1e9;
for($=0;$<v;$++){var P=$*8,k=c[$];if(k<w)w=k;var T=B[P+0],Z=B[P+1],i=B[P+2],V=B[P+3],_=B[P+4],y=B[P+5],E=B[P+6],F=B[P+7],d=Math.min(T,i,_,E),x=Math.max(T,i,_,E),f=Math.min(Z,V,y,F),Q=Math.max(Z,V,y,F),m=new fw(d,f,x-d,Q-f),H=m.KQ(X),S=U+k;
if($-A<10&&($==A||H.C()*.8<m.C()+X.C())){X=H;U=S}else{t.push($-A);A=$;X=m;U=k;w=k}}if($!=A)t.push($-A);
return t}function J(B,c,t,u,v,A){var $=document.createElement("canvas"),Z=0,j=.8;$.width=c;$.height=t;
var X=$.getContext("2d"),U=v[0],w=v[1],P=new Float64Array(c*t),k=Date.now(),T=z(w,U);for(var i=0;i<T.length;
i++){var V=Z,_=Z+T[i],F=1e9,x=1e9,I=0;Z=_;var y=V*8,E=_*8,d=-F,f=-x;for(var Q=y;Q<E;Q+=2){var m=w[Q],H=w[Q+1];
if(m<F)F=m;if(m>d)d=m;if(H<x)x=H;if(H>f)f=H}F=Math.floor(F);d=Math.ceil(d);x=Math.floor(x);f=Math.ceil(f);
var S=d-F,R=f-x;for(var D=V;D<_;D++)I+=U[D];for(var Q=y;Q<E;Q+=8){var G=U[Q>>>3],C=w[Q+0],O=w[Q+1],Y=w[Q+2],h=w[Q+3],r=w[Q+4],W=w[Q+5],N=w[Q+6],o=w[Q+7];
X.fillStyle="rgba(0,0,0,"+G/I+")";X.beginPath();X.moveTo(C,O);X.lineTo(Y,h);X.lineTo(r,W);X.lineTo(N,o);
X.closePath();X.fill()}var K=X.getImageData(F,x,S,R).data;for(var H=0;H<R;H++)for(var m=0;m<S;m++){var g=H*S+m,l=K[g*4+3],aV=(x+H)*c+F+m;
if(l!=0)P[aV]+=l*I}X.clearRect(F,x,S,R)}var M=A[1].color,s=Math.pow(M.o/255,j),l2=Math.pow(M.k/255,j),gm=Math.pow(M.X/255,j),iz=new fw(0,0,c,t),dC=a.j(c*t*4);
for(var H=0;H<t;H++)for(var m=0;m<c;m++){var g=H*c+m,D=g*4,U=P[g]*(1/255);dC[D]=n(s,U);dC[D+1]=n(l2,U);
dC[D+2]=n(gm,U);dC[D+3]=Math.min(255,U*255)}a.B.Oe("norm",dC,iz,u,iz,iz,1)}var p=new Uint8Array(2e3);
for(var g=0;g<2e3;g++)p[g]=255*Math.min(1,Math.log(g/700+1));function n(B,c){return p[Math.min(1500,~~(B*c*1e3))]}return J}(),b3=function(){var z=new Float32Array(3e3),J=new Float32Array(3e3),p=new Float32Array(256),n=new Float32Array(3e3);
function B(){var w=z.length;z[0]=Math.log10(157647e-9);for(var g=1;g<w;++g)z[g]=Math.log10(g/w)}function c(){var w=J.length;
for(var g=0;g<w;++g)J[g]=Math.pow(10,20*(g-w/2)/w)}function t(){var w=p.length;for(var g=0;g<w;++g)p[g]=a.Wg(g/255)}function u(){var w=n.length;
for(var g=0;g<w;++g)n[g]=255*a.hI(g/(w-1))}function v(w,P){var k=w.length>>>2;for(var g=0;g<k;++g){var T=p[w[4*g]],Z=p[w[4*g+1]],i=p[w[4*g+2]],V=.3811*T+.5783*Z+.0402*i,_=.1967*T+.7244*Z+.0782*i,y=.0241*T+.1288*Z+.8444*i;
V=z[~~(V*z.length)];_=z[~~(_*z.length)];y=z[~~(y*z.length)];P[3*g]=(V+_+y)*.5773502692;P[3*g+1]=(V+_-2*y)*.4082482905;
P[3*g+2]=(V-_)*.7071067812}}function A(w,P){var k=P.length>>>2,T=n.length-1;for(var g=0;g<k;++g){var Z=.5773502692*w[3*g],i=.4082482905*w[3*g+1],V=.7071067812*w[3*g+2],_=J[~~((Z+i+V+10)*(3e3/20))],y=J[~~((Z+i-V+10)*(3e3/20))],E=J[~~((Z-2*i+10)*(3e3/20))],F=4.4679*_-3.5873*y+.1193*E,d=-1.2186*_+2.3809*y-.1624*E,x=.0497*_-.2439*y+1.2045*E;
P[4*g]=n[~~(T*Math.max(0,Math.min(1,F)))];P[4*g+1]=n[~~(T*Math.max(0,Math.min(1,d)))];P[4*g+2]=n[~~(T*Math.max(0,Math.min(1,x)))]}}function $(w){var P=0,k=0,T=0;
for(var g=0;g<w.length;g+=3){P+=w[g];k+=w[g+1];T+=w[g+2]}return[P/(w.length/3),k/(w.length/3),T/(w.length/3)]}function X(w,$){var P=0,k=0,T=0;
for(var g=0;g<w.length;g+=3){var Z=w[g]-$[0],i=w[g+1]-$[1],V=w[g+2]-$[2];P+=Z*Z;k+=i*i;T+=V*V}return[Math.sqrt(P/(w.length/3)),Math.sqrt(k/(w.length/3)),Math.sqrt(T/(w.length/3))]}function U(w,P,k,T){B();
c();t();u();var Z=0,C,O;if(T[0]>100)Z=-(T[0]-100)/100*.13;else if(T[0]>=75)Z=(100-T[0])/25*.04;else if(T[0]>=50)Z=.04+(75-T[0])/25*.04;
else if(T[0]>=25)Z=.08+(50-T[0])/25*.08;else Z=.16+(25-T[0])/25*.24;var i=(T[1]-100+100)/100,V=T[2]/100,_=T[3],y=new Float32Array(w.length*3/4),E=new Float32Array(P.length*3/4),F=new Float32Array(k.length*3/4),d=Date.now();
v(w,y);v(P,E);v(k,F);var x=Date.now(),f=$(y),Q=$(E),m=Date.now(),H=X(y,f),S=X(E,Q),R=Date.now();Q[0]*=Math.pow(10,Z);
if(S[0]+S[1]+S[2]<.001)S=H.slice(0);var I=[S[0]/H[0],S[1]/H[1],S[2]/H[2]],D=F.length,G=1/-1.1546978950500488;
for(var g=0;g<D;g+=3){if(_){var Y=Math.max(0,Math.min(1,F[g]*G));Y=1-Math.sqrt(Y);C=Y*Q[1];O=Y*Q[2]}else{C=Q[1];
O=Q[2]}F[g]=(F[g]-f[0])*I[0]+Q[0];F[g+1]=(F[g+1]-f[1])*I[1]*i+C;F[g+2]=(F[g+2]-f[2])*I[2]*i+O}var h=Date.now(),r=k.slice(0);
A(F,k);var W=k.length>>>2;for(var g=0;g<W;++g){k[4*g]=(1-V)*k[4*g]+V*r[4*g];k[4*g+1]=(1-V)*k[4*g+1]+V*r[4*g+1];
k[4*g+2]=(1-V)*k[4*g+2]+V*r[4*g+2]}}return U}(),fc=function(){function z(J,p,n,B,c){var t=[-1,-1,-1,-1],u=255,v=160,A,$=!1,X=new Array(4);
X[0]=new Array(p);X[1]=new Array(n);X[2]=new Array(p);X[3]=new Array(n);var U=new Array(2);U[0]=new Array(n);
U[1]=new Array(n);function w(R,I,D,G,C){this.start=G;this.axis=C;this.dir=R;this.end=-1;this.source=I;
this.C=D}function P(R,I,D,G,C){if(D%2==0){if(!X[D][R])X[D][R]=new Array;X[D][R].push(new w(D,G,C,I,R))}else{if(!X[D][I])X[D][I]=new Array;
X[D][I].push(new w(D,G,C,R,I))}var O=Date.now()}function k(g){var R=!1,I=0;if(J[4*g+3]<u)return R;var D=g%p,G=Math.floor(g/p);
T(D,G);if(g+p<p*n&&J[4*(g+p)+3]<u&&J[4*(g-p)+3]>=u&&J[4*(g-2*p)+3]>=u){var C=2;if(J[4*(g+p)+3]<=v)I=-1;
if(J[4*(g+2*p-1)+3]<u&&J[4*(g+2*p+1)+3]<u)R=!0;else if(J[4*(g+2*p-1)+3]>=u&&J[4*(g+1)+3]>=u)R=!0;else if(J[4*(g+2*p+1)+3]>=u&&J[4*(g-1)+3]>=u)R=!0;
P(D,G,C,I,R)}else if(g-p>=0&&J[4*(g-p)+3]<u&&J[4*(g+p)+3]>=u&&J[4*(g+2*p)+3]>=u){var C=0;if(J[4*(g-p)+3]<=v)I=-1;
if(J[4*(g-2*p-1)+3]<u&&J[4*(g-2*p+1)+3]<u)R=!0;else if(J[4*(g-2*p-1)+3]>=u&&J[4*(g+1)+3]>=u)R=!0;else if(J[4*(g-2*p+1)+3]>=u&&J[4*(g-1)+3]>=u)R=!0;
P(D,G,C,I,R)}I=0;if(g+1<p*n&&J[4*(g+1)+3]<u&&J[4*(g-1)+3]>=u&&J[4*(g-2)+3]>=u){var C=3;if(J[4*(g+1)+3]<=v)I=-1;
if(!R&&J[4*(g+p+2)+3]<u&&J[4*(g-p+2)+3]<u){R=!0;P(D,G,C,I,!0)}else P(D,G,C,I,!1)}else if(g>=1&&J[4*(g-1)+3]<u&&J[4*(g+1)+3]>=u&&J[4*(g+2)+3]>=u){var C=1;
if(J[4*(g-1)+3]<=v)I=-1;if(!R&&J[4*(g+p-2)+3]<u&&J[4*(g-p-2)+3]<u){R=!0;P(D,G,C,I,!0)}else P(D,G,C,I,!1)}return R}function T(g,R){if(t[0]==-1){t[0]=g;
t[1]=R;t[2]=1;t[3]=1}if(g<t[0]){t[2]+=t[0]-g;t[0]=g}if(g>t[0]+t[2])t[2]=g-t[0];if(R<t[1]){t[3]+=t[1]-R;
t[1]=R}if(R>t[1]+t[3])t[3]=R-t[1]}function Z(R,g,I,D){if(!I.C)return;var G=(R+2)%4,C=I.start,O=t[1];
if(R==2)O+=t[3];else if(R==1)O=t[0];else if(R==3)O=t[0]+t[2];var Y=I.source;if(X[G][g])for(var h=0;h<X[G][g].length;
++h){if(R>1){var r=C+Math.floor((X[G][g][h].start-C)/2);if(X[G][g][h].start>C&&r<O)O=r}else{var r=C-Math.floor((C-X[G][g][h].start)/2);
if(X[G][g][h].start<C&&r>O)O=r}}for(var W=1;W<Math.abs(O-C);++W){var h=C+W;if(R==1||R==0)h=C-W;for(var N=0;
N<2;++N){var o=2*N,K=!1;if(R%2==0)o+=1;if(X[o][h]){for(var l=0;l<X[o][h].length;++l){if(X[o][h][l].C){var aV=X[o][h][l].start,j=g-aV,M=h-C;
if(o==0||o==1)j=-j;if(j<=0)continue;if(R==0||R==1)M=-M;if(M>j){O=h;K=!0;break}}}if(K)break}}}I.end=O;
_(R,g,C,O,Y)}function i(R){for(var g=0;g<X[R].length;++g){if(X[R][g])for(var I=0;I<X[R][g].length;++I){Z(R,g,X[R][g][I])}}}function V(){var R=[2,0,3,1];
for(var g=0;g<R.length;++g)i(R[g])}function _(R,g,I,D,G){if(R==2)for(var C=I;C<=D;++C){if(!y(C*p+g,(I+G)*p+g))return!1}else if(R==0)for(var C=I;
C>=D;--C){if(!y(C*p+g,(I-G)*p+g))return!1}else if(R==1)for(var C=I;C>=D;--C){if(!y(g*p+C,g*p+I-G))return!1}else if(R==3)for(var C=I;
C<=D;++C){if(!y(g*p+C,g*p+I+G))return!1}}function y(R,I){if(!A[R]){B[4*R]=B[4*I];B[4*R+1]=B[4*I+1];B[4*R+2]=B[4*I+2];
if($)B[4*R+3]=255;A[R]=!0;return!0}return!1}function E(){for(var g=0;g<4;g+=1){for(var R=0;R<X[g].length;
++R){if(X[g][R])for(var I=0;I<X[g][R].length;++I){var D=X[g][R][I];for(var G=1;G<3;G+=2){var C=(g+G)%4;
if(X[C][D.start])for(var O=0;O<X[C][D.start].length;++O){if(X[C][D.start][O].start==D.axis){var lj=p*D.start+D.axis;
if(g%2==1){lj=D.start+p*D.axis;F(X[C][D.start][O])}else F(D)}}}}}}}function F(R){if(R.dir%2==0){var lj=p*R.start+R.axis,I=R.start,D=1;
if(!A[lj+1])D=3;else if(A[lj-1])return;var G=B[4*lj],C=B[4*lj+1],O=B[4*lj+2];while(B[4*lj]==G&&B[4*lj+1]==C&&B[4*lj+2]==O){if(D==1){if(!U[0][I])U[0][I]=new Array;
U[0][I].push(new w(D,0,!1,R.axis,I))}else{if(!U[1][I])U[1][I]=new Array;U[1][I].push(new w(D,0,!1,R.axis,I))}if(R.dir==2){lj+=p;
I++}else{lj-=p;I--}}}}function d(){for(var R=0;R<2;++R){var I=(R+1)%2;for(var g=0;g<U[R].length;++g){if(U[R][g])for(var D=0;
D<U[R][g].length;++D){var G=t[0];if(R==1)G+=t[2];var C=U[R][g][D].start;if(U[I][g])for(var O=0;O<U[I][g].length;
++O){var Y=U[I][g][O].Q5;if(R==0){if(Y>G&&Y<C){G=C-Math.floor((C-Y)/2)}}else{if(Y<G&&Y>C){G=C+Math.ceil((Y-C)/2)}}}if(R==0)_(U[R][g][D].dir,g,C-1,G,-1);
else _(U[R][g][D].dir,g,C+1,G,-1)}}}for(var g=0;g<A.length;++g){if(!A[g]&&g%p>=t[0]&&g%p<=t[0]+t[2]&&Math.floor(g/p)>=t[1]&&Math.floor(g/p)<=t[1]+t[3]){var C=p;
if(g<C||!A[g-C])C=1;B[4*g]=B[4*(g-C)];B[4*g+1]=B[4*(g-C)+1];B[4*g+2]=B[4*(g-C)+2];A[g]=!0;if($)B[4*g+3]=255}}}function x(){A=new Array(J.length/4);
for(var g=0;g<B.length/4;++g){A[g]=!1;B[4*g]=J[4*g];B[4*g+1]=J[4*g+1];B[4*g+2]=J[4*g+2];B[4*g+3]=J[4*g+3];
if(B[4*g+3]==255)A[g]=!0;if(k(g))A[g]=!1}if(t[0]>0){t[0]--;t[2]++}if(t[1]>0){t[1]--;t[3]++}if(t[0]+t[2]<p){t[2]++}if(t[1]+t[3]<n){t[3]++}}var f=Date.now();
x();var Q=Date.now();V();var m=Date.now();E();var H=Date.now();d();var S=Date.now();console.log("Init: "+String(Q-f));
console.log("Filling: "+String(m-Q));console.log("Check areas: "+String(H-m));console.log("Fill areas: "+String(S-H))}return z}();
function eW(){}eW.a8S=function(z){var J=[a.Wg(z[0]),a.Wg(z[1]),a.Wg(z[2]),0];return a.gr.V9(a.gr.aiq,J)};
eW.a5k=function(z){var J=a.gr.V9(a.gr.uW,z);return[a.hI(J[0]),a.hI(J[1]),a.hI(J[2])]};eW.Q$=function(z,J){var p={},n=5003,B=1667,c=25e3,t=57.4,u=16.1,v=1.8,A=0,$=1.54,X=.75,P=0;
if(J>0){z-=J/100*4}if(z<0){u=22.54;t=80.36;$=.756}if(J>0){v=1.3;X=.2}var U=Math.min(n+t*z,c),w=Math.max(n-u*z,B);
if(z<0){U=Math.max(n+u*z,B);w=Math.min(n-t*z,c)}if(z>0){if(z<=14){P=(z-1)/13*.075+.025}else if(z<=29){P=.1}else if(z<=60){P=.1-.1*(z-29)/(60-29)}else{var k=z-60;
A=-20*(k/40);P=-.3*(k/40)}}else{if(z<-60){var k=z+60;A=-20*(k/40)}}var T=Math.abs(z)/100*$+Math.abs(J)/100*X+P,Z=-(J*v+A),i=e8.zF(U,-Z),V=e8.ie(i),_=e8.zF(w,0),y=e8.ie(_),E=e8.ait(V,y);
p.aHq=T;p.afz=E;if(z==0&&J==0)p.am2=!0;else p.am2=!1;return p};eW.ajG=function(z,J,p,n){if(n.am2){return[z,J,p]}var B=this.a8S([z,J,p]),c=B[0],t=B[1],u=B[2],v=t+1e-12,A=[c/v,t/v,u/v,0],$=a.gr.V9(n.afz,A),X=0,U=.4;
$[0]*=v;$[1]*=v;$[2]*=v;if(v>U)X=1/(1-U)*(v-U);B[0]=(1-X)*$[0]+X*c;B[1]=(1-X)*$[1]+X*t;B[2]=(1-X)*$[2]+X*u;
return this.a5k(B)};a.a6p={ep:function(z,J){var g=z.length;z.push(J);var p=g>>>1;while(p!=0&&z[g][0]<z[p][0]){var n=z[g];
z[g]=z[p];z[p]=n;g=p;p=g>>>1}},KH:function(z){if(z.length==2)return z.pop();var top=z[1],g=1;z[1]=z.pop();
var J=z.length;while(!0){var p=g<<1,n=p+1,B=g;if(p<J&&z[p][0]<z[B][0])B=p;if(n<J&&z[n][0]<z[B][0])B=n;
if(B==g)break;var c=z[g];z[g]=z[B];z[B]=c;g=B}return top},aHw:function(z){for(var g=1;g<z.length;g++){var J=g,p=1e9;
while(J!=0){var n=z[J][0];if(n>p){console.log(g);throw"e"}p=n;J=J>>>1}}}};a.B={};a.B.UY=new Float64Array(256);
a.B.rx=new Uint8Array(256*256);a.B.abf=new Uint8Array(256*256);(function(){for(var g=0;g<256;g++)a.B.UY[g]=255/g;
for(var g=0;g<256;g++)for(var z=0;z<256;z++)a.B.rx[g*256+z]=g==0?0:Math.round(z*255/g);for(var g=0;g<256;
g++)for(var z=0;z<256;z++)a.B.abf[g*256+z]=Math.round(g*(255-z)/255)}());a.B.Oe=function(z,J,p,n,B,c,t,u){if(u==null)u=ju.YD();
var v=a.zr(J instanceof Array?J[0]:J);if(v!=a.zr(n))throw"e";if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(z)==-1){t=t*u.fill;
u.fill=1;u.style=!1}var A="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),$="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),X=a.B[z+"F"];
if(v==8){if(u.ZL==null&&z=="norm")a.B.aHz(J,p,n,B,c,t,X,u.dq?1:0);else if(z=="diss")a.B.auc(J,p,n,B,c,t,X,u.dq?1:0);
else if(A.indexOf(z)!=-1)a.B.amW(J,p,n,B,c,t,X,u);else if($.indexOf(z)!=-1)a.B.amy(J,p,n,B,c,t,X,u)}else{if(z=="diss")a.B.afY(J,p,n,B,c,t,X,u.dq?1:0);
else if(A.indexOf(z)!=-1)a.B.aGb(J,p,n,B,c,t,X,u);else if($.indexOf(z)!=-1)a.B.aqt(J,p,n,B,c,t,X,u)}};
a.B.ajU=function(z,J,p){var n=z*p+1-p;return n<.001?0:1-Math.min(1,(1-J)/n)};a.B.akN=function(z,J,p){return z*p==1?1:Math.min(1,J/(1-z*p))};
a.B.Qx=function(z){return z<=.25?((16*z-12)*z+4)*z:Math.sqrt(z)};a.B.normF=function(z,J,p){return z};
a.B.darkF=function(z,J,p){return Math.min(z,J)};a.B["mul F"]=function(z,J,p){return z*J};a.B.idivF=function(z,J,p){var n=z*p+1-p;
return J==1?1:1-J>=n?0:1-(1-J)/n};a.B.lbrnF=function(z,J,p){return Math.max(0,z*p+J-p)};a.B.dkClF=function(z,J,p){var n=a.K3(z)<a.K3(J)?z:J;
p.o=n.o;p.k=n.k;p.X=n.X;return p};a.B.liteF=function(z,J,p){return Math.max(z,J)};a.B.scrnF=function(z,J,p){return J+z-J*z};
a.B["div F"]=function(z,J,p){z*=p;return J==0?0:J>=1-z?1:J/(1-z)};a.B.lddgF=function(z,J,p){z*=p;return Math.min(1,z+J)};
a.B.lgClF=function(z,J,p){var n=a.K3(z)>a.K3(J)?z:J;p.o=n.o;p.k=n.k;p.X=n.X;return p};a.B.overF=function(z,J,p){return a.B.hLitF(J,z,p)};
a.B.sLitF=function(z,J,p){return z<=.5?J-(1-2*z)*J*(1-J):J+(2*z-1)*(a.B.Qx(J)-J)};a.B.hLitF=function(z,J,p){return z<=.5?a.B["mul F"](2*z,J,p):a.B.scrnF(2*z-1,J,p)};
a.B.vLitF=function(z,J,p){return z<=.5?a.B.ajU(2*z,J,p):a.B.akN(2*z-1,J,p)};a.B.lLitF=function(z,J,p){return z<=.5?a.B.lbrnF(2*z,J,p):a.B.lddgF(2*z-1,J,p)};
a.B.pLitF=function(z,J,p){return z<=.5?a.B.darkF(2*z,J,p):a.B.liteF(2*z-1,J,p)};a.B.hMixF=function(z,J,p){if(p>.99)return z+J<1?0:1;
return Math.min(1,Math.max(0,(J+z*p-p)/(1-p+1e-6)))};a.B.diffF=function(z,J,p){z*=p;return Math.abs(z-J)};
a.B.smudF=function(z,J,p){return z+J-2*z*J};a.B.fsubF=function(z,J,p){return Math.max(J-z,0)};a.B.fdivF=function(z,J,p){return Math.min(J/z,1)};
a.B["hue F"]=function(z,J,p){a.B.R9(z,a.HW(J),p);a.B.UT(p,a.K3(J),p)};a.B["sat F"]=function(z,J,p){a.B.R9(J,a.HW(z),p);
a.B.UT(p,a.K3(J),p)};a.B.colrF=function(z,J,p){a.B.UT(z,a.K3(J),p)};a.B["lum F"]=function(z,J,p){a.B.UT(J,a.K3(z),p)};
a.B.UT=function(z,J,p){var n=J-a.K3(z);p.o=z.o+n;p.k=z.k+n;p.X=z.X+n;a.B.a0o(p)};a.B.a0o=function(z){var J=z.o,p=z.k,n=z.X,B=a.b2(J,p,n),lj=Math.min(J,p,n),c=Math.max(J,p,n);
if(lj<0){var t=B/(B-lj);J=B+(J-B)*t;p=B+(p-B)*t;n=B+(n-B)*t}if(c>1){var t=(1-B)/(c-B);J=B+(J-B)*t;p=B+(p-B)*t;
n=B+(n-B)*t}z.o=J;z.k=p;z.X=n};a.B.R9=function(z,J,p){var n=a.B.a3J,B=z.o,c=z.k,t=z.X;if(B==c&&c==t){p.o=p.k=p.X=0}else if(B>c){if(B>t){if(c>t){p.o=J;
p.k=n(B,c,t,J);p.X=0}else{p.o=J;p.X=n(B,t,c,J);p.k=0}}else{p.X=J;p.o=n(t,B,c,J);p.k=0}}else{if(B<t){if(c>t){p.k=J;
p.X=n(c,t,B,J);p.o=0}else{p.X=J;p.k=n(t,c,B,J);p.o=0}}else{p.k=J;p.o=n(c,B,t,J);p.X=0}}};a.B.a3J=function(z,J,p,n){return(J-p)*n/(z-p)};
a.B.aHz=function(z,J,p,n,B,c,t,u){var v=J.ly(n).ly(B),A=Math.max(0,v.x-J.x),$=Math.max(0,v.x-n.x),X=Math.max(0,v.y-J.y),U=Math.max(0,v.y-n.y),w=v.r,P=v.$,k=J.r,T=n.r,Z=z instanceof Array,i=Z?z[1]:null,V=new Uint32Array((Z?z[0]:z).buffer),_=new Uint32Array(p.buffer),y=V[0]&16777215;
for(var g=0;g<P;g++){var E=(X+g)*k+A,F=(U+g)*T+$;for(var d=0;d<w;d++){var x=Z?y|i[E+d]<<24:V[E+d],G=1;
if(x>>>24==0)continue;if(x>>>24==255&&c==1&&u==0){_[F+d]=x;continue}var f=_[F+d],Q=x&255,m=x>>>8&255,H=x>>>16&255,S=f&255,R=f>>>8&255,I=f>>>16&255,D=c,C=(f>>>24)*(1/255);
if(u==0){D=(x>>>24)*c*(1/255);G=C}var O=G*(1-D),Y=D+O,h=1/Y;_[F+d]=~~(.5+(u*C+(1-u)*Y)*255)<<24|~~(.5+(H*D+I*O)*h)<<16|~~(.5+(m*D+R*O)*h)<<8|~~(.5+(Q*D+S*O)*h)}}};
a.B.aiR=function(z,J,p,n,B,c){var t=J.ly(n).ly(B),u=Math.max(0,t.x-J.x),v=Math.max(0,t.x-n.x),A=Math.max(0,t.y-J.y),$=Math.max(0,t.y-n.y),X=t.r,U=t.$,w=J.r,P=n.r,k=a.B.rx,T=a.B.abf,Z=new Uint32Array(z.buffer),i=new Uint32Array(p.buffer),V=Math.floor(Math.random()*16777215),_=0;
for(var g=0;g<U;g++){var y=(A+g)*w+u,E=($+g)*P+v;for(var F=0;F<X;F++){var d=Z[y+F];if(d>>>24==0)continue;
if(d>>24==255&&c==1){i[E+F]=d;continue}var x=i[E+F],f=(d>>>24)*c*(1/255),Q=(x>>>24)*(1/255),m=Q*(1-f),H=f+m,S=d&255,R=d>>>8&255,I=d>>>16&255,D=x&255,G=x>>>8&255,C=x>>>16&255;
_>>>=8;if((F&3)==0)_=a.B.Xa(E+F+V);var O=H==0?0:1/H,Y=Math.floor(H*(256*255))+(_&255)>>>8,h=Math.floor((I*f+C*m)*O+.5),r=Math.floor((R*f+G*m)*O+.5),W=Math.floor((S*f+D*m)*O+.5);
i[E+F]=Y<<24|h<<16|r<<8|W}}};a.B.yB=function(z,J,p,n,B,c,t,u){var v=a.b2(z,J,p),A=a.b2(n,B,c),$=Math.min,X=a.B.agb,U=X(v,u,0);
U=$(U,X(z,u,8));U=$(U,X(J,u,16));U=$(U,X(p,u,24));var w=X(A,u,4);w=$(w,X(n,u,12));w=$(w,X(B,u,20));w=$(w,X(c,u,28));
w=Math.max(w,1-t);var P=Math.min(U,w);return P<0?0:P>1?1:P};a.B.agb=function(z,J,g){return Math.min((z-J[g])*J[g+1],(z-J[g+3])*J[g+2])};
a.B.yK=function(z){return~~(z+.5)};a.B.amW=function(z,J,p,n,B,c,t,u){var v=1/255,A=v*c,$=a.B.yK,X=u.dq?1:0,U=u.fill,w=u.style,P=J.ly(n).ly(B),k=Math.max(0,P.x-J.x),T=Math.max(0,P.x-n.x),Z=Math.max(0,P.y-J.y),i=Math.max(0,P.y-n.y),V=P.r,_=P.$,y=J.r,E=n.r,F=z instanceof Array,d=F?z[1]:null,x=new Uint32Array((F?z[0]:z).buffer),f=new Uint32Array(p.buffer),Q=x[0]&16777215;
for(var g=0;g<_;g++){var m=(Z+g)*y+k,H=(i+g)*E+T;for(var S=0;S<V;S++,m++,H++){var R=F?Q|d[m]<<24:x[m],W=1;
if(R>>>24==0)continue;var I=f[H],D=(R&255)*v,G=(R>>>8&255)*v,C=(R>>>16&255)*v,O=(I&255)*v,Y=(I>>>8&255)*v,h=(I>>>16&255)*v,r=c;
if(X==0){r=(R>>>24)*A;W=(I>>>24)*v}if(u.ZL)r*=a.B.yB(D,G,C,O,Y,h,W,u.ZL);var N=W*(1-r),o=r+N,K=o==0?0:255/o,l=w?1:r,aV=((1-W)*r*D+(1-l)*W*O+l*W*t(D,O,(1+r-l)*U))*K,j=((1-W)*r*G+(1-l)*W*Y+l*W*t(G,Y,(1+r-l)*U))*K,M=((1-W)*r*C+(1-l)*W*h+l*W*t(C,h,(1+r-l)*U))*K;
o=r*U+W*(1-r*U);f[H]=$(X*(I>>>24)+(1-X)*$(o*255))<<24|$(M)<<16|$(j)<<8|$(aV)}}};a.B.aGb=function(z,J,p,n,B,c,t,u){var v=a.zr(p),A=v==32?1:v==16?65535:255,$=1/A,X=u.dq?1:0,U=u.fill,w=u.style,P=a.B.yK,k=J.ly(n).ly(B),T=Math.max(0,k.x-J.x),Z=Math.max(0,k.x-n.x),i=Math.max(0,k.y-J.y),V=Math.max(0,k.y-n.y),_=k.r,y=k.$,E=J.r,F=n.r,d=z instanceof Array,x=d?z[1]:null;
if(d)z=z[0];for(var g=0;g<y;g++){var f=(i+g)*E+T,Q=(V+g)*F+Z;for(var m=0;m<_;m++,f++,Q++){var H=d?0:f*4,S=Q*4,R=z[H]*$,I=z[H+1]*$,D=z[H+2]*$,G=(d?x[f]:z[H+3])*$*c;
if(G==0)continue;var C=p[S]*$,O=p[S+1]*$,Y=p[S+2]*$,h=p[S+3]*$;if(u.ZL)G*=a.B.yB(R,I,D,C,O,Y,h,u.ZL);
var r=h*(1-G),W=G+r,N=W==0?0:A/W,o=w?1:G,K=((1-h)*G*R+(1-o)*h*C+o*h*t(R,C,(1+G-o)*U))*N,l=((1-h)*G*I+(1-o)*h*O+o*h*t(I,O,(1+G-o)*U))*N,aV=((1-h)*G*D+(1-o)*h*Y+o*h*t(D,Y,(1+G-o)*U))*N;
W=G*U+h*(1-G*U);if(v==16){p[S]=P(K);p[S+1]=P(l);p[S+2]=P(aV);p[S+3]=P(X*p[S+3]+(1-X)*(W*A))}else{p[S]=K;
p[S+1]=l;p[S+2]=aV;p[S+3]=X*p[S+3]+(1-X)*(W*A)}}}};a.B.amy=function(z,J,p,n,B,c,t,u){var v=1/255,A=v*c,$=u.dq?1:0,X=J.ly(n).ly(B),U=Math.max(0,X.x-J.x),w=Math.max(0,X.x-n.x),P=Math.max(0,X.y-J.y),k=Math.max(0,X.y-n.y),T=X.r,Z=X.$,i=z instanceof Array,V=i?z[1]:null,_=new Uint32Array((i?z[0]:z).buffer),y=new Uint32Array(p.buffer),E=_[0]&16777215,F={o:0,k:0,X:0},d={o:0,k:0,X:0},x={o:0,k:0,X:0};
for(var g=0;g<Z;g++){var f=(P+g)*J.r+U,Q=(k+g)*n.r+w;for(var m=0;m<T;m++,f++,Q++){var H=i?E|V[f]<<24:_[f],S=y[Q],R=(H&255)*v,I=(H>>>8&255)*v,D=(H>>>16&255)*v,G=(S&255)*v,C=(S>>>8&255)*v,O=(S>>>16&255)*v,Y=c,h=1;
if($==0){Y=(H>>>24)*A;h=(S>>>24)*v}if(u.ZL)Y*=a.B.yB(R,I,D,G,C,O,h,u.ZL);var r=h*(1-Y),W=Y+r,N=255/W;
F.o=R;F.k=I;F.X=D;d.o=G;d.k=C;d.X=O;t(F,d,x);var o=(((1-h)*R+h*x.o)*Y+G*r)*N,K=(((1-h)*I+h*x.k)*Y+C*r)*N,l=(((1-h)*D+h*x.X)*Y+O*r)*N,aV=$*(S>>>24)+(1-$)*Math.round(W*255);
y[Q]=aV<<24|l<<16|K<<8|o}}};a.B.aqt=function(z,J,p,n,B,c,t,u){var v=a.zr(p),A=v==32?1:v==16?65535:255,$=1/A,X=u.dq?1:0,U=J.ly(n).ly(B),w=Math.max(0,U.x-J.x),P=Math.max(0,U.x-n.x),k=Math.max(0,U.y-J.y),T=Math.max(0,U.y-n.y),Z=U.r,i=U.$,V={o:0,k:0,X:0},_={o:0,k:0,X:0},y={o:0,k:0,X:0},E=z instanceof Array,F=E?z[1]:null;
if(E)z=z[0];for(var g=0;g<i;g++){var d=(k+g)*J.r+w,x=(T+g)*n.r+P;for(var f=0;f<Z;f++,d++,x++){var Q=E?0:d*4,m=x*4,H=z[Q]*$,S=z[Q+1]*$,R=z[Q+2]*$,O=1;
if(z[Q+3]==0)continue;var I=p[m]*$,D=p[m+1]*$,G=p[m+2]*$,C=c;if(X==0){C=(E?F[d]:z[Q+3])*$*c;O=p[m+3]*$}if(u.ZL)C*=a.B.yB(H,S,R,I,D,G,O,u.ZL);
var Y=O*(1-C),h=C+Y,r=A/h;V.o=H;V.k=S;V.X=R;_.o=I;_.k=D;_.X=G;t(V,_,y);p[m]=(((1-O)*H+O*y.o)*C+I*Y)*r;
p[m+1]=(((1-O)*S+O*y.k)*C+D*Y)*r;p[m+2]=(((1-O)*R+O*y.X)*C+G*Y)*r;p[m+3]=X*p[m+3]+(1-X)*Math.round(h*A)}}};
a.B.OB=function(z){z=z^61^z>>>16;z=z+(z<<3);z=z^z>>>4;z=z*668265261;z=z^z>>15;return(z&16777215)*(1/16777215)};
a.B.Xa=function(z){z=z^61^z>>>16;z=z+(z<<3);z=z^z>>>4;z=z*668265261;z=z^z>>>15;return z};a.B.en=function(z){this.ka=z};
a.B.en.prototype.get=function(){var z=this.ka=a.B.Xa(this.ka);return(z&16777215)*(1/16777215)};a.B.auc=function(z,J,p,n,B,c,t,u){var v=Math.round(c*(256*256*256/255)),A=J.ly(n).ly(B),$=Math.max(0,A.x-J.x),X=Math.max(0,A.x-n.x),U=Math.max(0,A.y-J.y),w=Math.max(0,A.y-n.y),P=A.r,k=A.$,T=z instanceof Array,Z=T?z[1]:null,i=new Uint32Array((T?z[0]:z).buffer),V=new Uint32Array(p.buffer),_=i[0]&16777215;
for(var g=0;g<k;g++){var y=(U+g)*J.r+$,E=(w+g)*n.r+X;for(var F=0;F<P;F++,y++,E++){var d=T?_|Z[y]<<24:i[y],x=V[E],f=u*255+(1-u)*(d>>>24);
if((a.B.Xa(y)&16777215)>=f*v)continue;V[E]=d&16777215|u*(x>>>24)+(1-u)*255<<24}}};a.B.afY=function(z,J,p,n,B,c,t,u){var v=a.zr(p),A=v==32?1:v==16?65535:255,$=1/A,X=J.ly(n).ly(B),U=Math.max(0,X.x-J.x),w=Math.max(0,X.x-n.x),P=Math.max(0,X.y-J.y),k=Math.max(0,X.y-n.y),T=X.r,Z=X.$,i=z instanceof Array,V=i?z[1]:null;
if(i)z=z[0];for(var g=0;g<Z;g++){var _=(P+g)*J.r+U,y=(k+g)*n.r+w;for(var E=0;E<T;E++,_++,y++){var F=i?0:_*4,d=y*4,x=(i?V[_]:z[F+3])*$,f=p[d+3]*$;
x=u+(1-u)*x;if((a.B.Xa(_)&255)*(1/255)>=x*c)continue;p[d]=z[F];p[d+1]=z[F+1];p[d+2]=z[F+2];p[d+3]=(u*f+(1-u))*A}}};
a.B.acf=function(z,J,p){for(var g=0;g<z.length;g+=4){var n=p[g>>>2];if(n==0)continue;var B=n*(1/255),c=1/B,t=J[g],u=J[g+1],v=J[g+2],A=z[g],$=z[g+1],X=z[g+2];
J[g]=Math.min(255,Math.max(0,Math.round((t-(1-B)*A)*c)));J[g+1]=Math.min(255,Math.max(0,Math.round((u-(1-B)*$)*c)));
J[g+2]=Math.min(255,Math.max(0,Math.round((v-(1-B)*X)*c)));J[g+3]=255}};a.B.MQ=function(z,J,p,n,B,c,t,u,v,A,$){if(A==null)A=!1;
var X=a.zr(z),U=X==8?255:X==16?65535:1;if(B&&B.length==c.C()*4){var w=a.j(c.C(),X);a.Tm(B,w,3);B=w}if(B&&!J.Vm(c)){var P=a.j(J.C(),X);
P.fill(U*t/255);a._1(B,c,P,J);B=P;c=J}if(X==8){if($==null)$=[1,1,1];var k=255<<24|$[2]*16711680|$[1]*65280|$[0]*255,T=~k;
if(A){if(B==null)a.B.awO(z,J,p,n,B,u,v,k,T);else a.B.aty(z,J,p,n,B,u,v)}else{if(B==null)a.B.anb(z,J,p,n,B,u,v,k,T);
else a.B.avA(z,J,p,n,B,u,v)}}else{if($&&$.join(",")!="1,1,1")throw"e";if(A)a.B.aF1(z,J,p,n,B,u,v);else a.B.avQ(z,J,p,n,B,u,v)}};
a.B.anb=function(z,J,p,n,B,c,t,u,v){var A=1/255,$=J.ly(n).ly(c),X=Math.max(0,$.x-J.x),U=Math.max(0,$.x-n.x),w=Math.max(0,$.y-J.y),P=Math.max(0,$.y-n.y),k=$.r,T=$.$,Z=new Uint32Array(z.buffer),i=new Uint32Array(p.buffer),V=a.B.rx,_=t*255&255;
for(var g=0;g<T;g++){var y=(w+g)*J.r+X,E=(P+g)*n.r+U;for(var F=0;F<k;F++,y++,E++){var d=Z[y],x=i[E],f=d>>>24,Q=x>>>24,m=a.yj(_*f+(255-_)*Q),H=a.yj(f*_),S=a.yj(Q*(255-_)),R=d&255,I=d>>>8&255,D=d>>>16&255,G=x&255,C=x>>>8&255,O=x>>>16&255,Y=H*R+G*S,h=H*I+C*S,r=H*D+O*S;
Y=V[m<<8|a.yj(Y)];h=V[m<<8|a.yj(h)];r=V[m<<8|a.yj(r)];var W=m<<24|r<<16|h<<8|Y;i[E]=v&x|u&W}}};a.B.awO=function(z,J,p,n,B,c,t,u,v){var A=1/255,$=J.ly(n).ly(c),X=Math.max(0,$.x-J.x),U=Math.max(0,$.x-n.x),w=Math.max(0,$.y-J.y),P=Math.max(0,$.y-n.y),k=$.r,T=$.$,Z=new Uint32Array(z.buffer),i=new Uint32Array(p.buffer),V=a.B.rx,_=t*16777215&16777215;
for(var g=0;g<T;g++){var y=(w+g)*J.r+X,E=(P+g)*n.r+U;for(var F=0;F<k;F++,y++,E++){if((a.B.Xa(y)&16777215)<_){i[E]=v&i[E]|u&Z[y]}}}};
a.B.avQ=function(z,J,p,n,B,c,t){var u=a.zr(z),v=u==8?255:u==16?65535:1,A=1/v,$=J.ly(n).ly(c),X=Math.max(0,$.x-J.x),U=Math.max(0,$.x-n.x),w=Math.max(0,$.y-J.y),P=Math.max(0,$.y-n.y),k=$.r,T=$.$;
for(var g=0;g<T;g++){var Z=(w+g)*J.r+X,i=(P+g)*n.r+U;for(var V=0;V<k;V++,Z++,i++){var _=(B?B[Z]*A:1)*t,y=Z*4,E=i*4,F=z[y+3]*A,d=p[E+3]*A,x=F*_,f=d*(1-_),Q=x+f,m=Q==0?0:v/Q,H=z[y]*A,S=z[y+1]*A,R=z[y+2]*A,I=p[E]*A,D=p[E+1]*A,G=p[E+2]*A;
p[E]=(x*H+f*I)*m;p[E+1]=(x*S+f*D)*m;p[E+2]=(x*R+f*G)*m;p[E+3]=v*Q}}};a.B.avA=function(z,J,p,n,B,c,t){var u=1/255,v=J.ly(n).ly(c),A=Math.max(0,v.x-J.x),$=Math.max(0,v.x-n.x),X=Math.max(0,v.y-J.y),U=Math.max(0,v.y-n.y),w=v.r,P=v.$,k=new Uint32Array(z.buffer),T=new Uint32Array(p.buffer),Z=a.B.rx;
for(var g=0;g<P;g++){var i=(X+g)*J.r+A,V=(U+g)*n.r+$;for(var _=0;_<w;_++,i++,V++){var y=B[i]*t&255;if(y==0)continue;
if(y==255){T[V]=k[i];continue}var E=k[i],F=T[V],d=E>>>24,x=F>>>24,f=a.yj(y*d+(255-y)*x),Q=a.yj(d*y),m=a.yj(x*(255-y)),H=E&255,S=E>>>8&255,R=E>>>16&255,I=F&255,D=F>>>8&255,G=F>>>16&255,C=Z[f<<8|a.yj(Q*H+I*m)],O=Z[f<<8|a.yj(Q*S+D*m)],Y=Z[f<<8|a.yj(Q*R+G*m)];
T[V]=f<<24|Y<<16|O<<8|C}}};a.B.aF1=function(z,J,p,n,B,c,t){var u=a.zr(z),v=u==8?255:u==16?65535:1,A=1/v,$=J.ly(n).ly(c),X=Math.max(0,$.x-J.x),U=Math.max(0,$.x-n.x),w=Math.max(0,$.y-J.y),P=Math.max(0,$.y-n.y),k=$.r,T=$.$,Z=t*A*65535;
for(var g=0;g<T;g++){var i=(w+g)*J.r+X,V=(P+g)*n.r+U;for(var _=0;_<k;_++,i++,V++){var y=B[i];if((a.B.Xa(i)&65535)<y*Z){var E=i*4,F=V*4;
p[F]=z[E];p[F+1]=z[E+1];p[F+2]=z[E+2];p[F+3]=z[E+3]}}}};a.B.aty=function(z,J,p,n,B,c,t){var u=1/255,v=J.ly(n).ly(c),A=Math.max(0,v.x-J.x),$=Math.max(0,v.x-n.x),X=Math.max(0,v.y-J.y),U=Math.max(0,v.y-n.y),w=v.r,P=v.$,k=new Uint32Array(z.buffer),T=new Uint32Array(p.buffer),Z=a.B.rx,i=Math.round(t*257);
for(var g=0;g<P;g++){var V=(X+g)*J.r+A,_=(U+g)*n.r+$;for(var y=0;y<w;y++,V++,_++){var E=B[V]*i;if((a.B.Xa(V)&65535)<E)T[_]=k[V]}}};
a.B.agm=function(z,J,p,n,B,c,t){var u=1/255,v=J.ly(n).ly(c),A=Math.max(0,v.x-J.x),$=Math.max(0,v.x-n.x),X=Math.max(0,v.y-J.y),U=Math.max(0,v.y-n.y),w=v.r,P=v.$,k=new Uint32Array(z.buffer),T=new Uint32Array(p.buffer),Z=Math.floor(Math.random()*n.C()),i=a.B.a8Z;
for(var g=0;g<P;g++){var V=(X+g)*J.r+A,_=(U+g)*n.r+$;for(var y=0;y<w;y++){var E=B[V+y]*t;if(E==0)continue;
if(E==255){T[_+y]=k[V+y];continue}var F=k[V+y],d=T[_+y],x=F>>>24,f=d>>>24,Q=x*E*(1/255),m=f*(255-E)*(1/255),H=F&255,S=F>>>8&255,R=F>>>16&255,I=d&255,D=d>>>8&255,G=d>>>16&255,C=a.B.Xa(_+y+Z),O=Math.floor((Q+m)*256+.5)+(C>>>0&255)>>>8,Y=O==0?0:256/(Q+m),h=H*Q+I*m,r=S*Q+D*m,W=R*Q+G*m,N=Math.floor(h*Y+.5)+(C>>>8&255)>>>8,o=Math.floor(r*Y+.5)+(C>>>16&255)>>>8,K=Math.floor(W*Y+.5)+(C>>>24&255)>>>8;
T[_+y]=O<<24|K<<16|o<<8|N}}};a.B.a8Z=function(z){return Math.floor(z+Math.random())};a.B.Sa=function(z,J,p,n,B,c,t){var u=1/a.hW(a.zr(z)),v=J.ly(n).ly(c),A=Math.max(0,v.x-J.x),$=Math.max(0,v.x-n.x),X=Math.max(0,v.y-J.y),U=Math.max(0,v.y-n.y),w=v.r,P=v.$;
for(var g=0;g<P;g++){var k=(X+g)*J.r+A,T=(U+g)*n.r+$;for(var Z=0;Z<w;Z++,k++,T++){var i=t*B[k]*u;if(i==0)continue;
if(i==1){p[T]=z[k];continue}p[T]=z[k]*i+p[T]*(1-i)}}};a.ayI=function(){function z(c){var t=c*.85;return Math.exp(-(t*t)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function J(c,t){var u=c<t?1:z((c-t)/Math.pow(1.001-t,.86));
return u}var p=[];function n(c){if(p[c])return p[c];var t=Math.pow(c,.55),u=new Float64Array(8e3),v=0,A=8e3;
for(var g=0;g<8e3;g++){var $=J(g*(1.55/4e3),t);if($>=1)v=g;else if($<=0&&A==8e3)A=g;u[g]=$}var X=[u,v,A];
p[c]=X;return X}function B(c,t,u){if(c<4)t=1;var v=1+.55*(1-t),A=Math.round(u*c*v)+2,$=new fw(0,0,A,A),X=a.j(A*A),U=[X,$],w=A/2,P=v/(w-1);
if(c==2)P*=2;if(c==3)P*=1.6;var k=Date.now(),T=n(t),Z=Math.round(8e3/w),i=T[0],V=T[1]-Z,_=T[2]+Z,y=Math.min(A,A+1>>>1),E=P*.4*(4e3/1.55),F=a.j(8e3);
for(var g=0;g<8e3;g++){var d=g,x=g,f=~~Math.max(0,d-E-E),Q=~~Math.max(0,d-E),m=~~Math.min(7999,d+E),H=~~Math.min(7999,d+E+E),S=~~(.5+255*(1/5)*(i[x]+i[f]+i[Q]+i[m]+i[H]));
F[g]=S;if(S==0)break}for(var g=0;g<y;g++){var R=P*(g-w+.5),I=R*R,D=g*A,G=(A-1-g)*A;for(var C=0;C<y;C++){var O=P*(C-w+.5),x=~~(Math.sqrt(O*O+I)*(4e3/1.55));
if(_<x)continue;else if(x<V){var S=255;while(C<y){var Y=A-1-C;X[D+C]=S;X[D+Y]=S;X[G+C]=S;X[G+Y]=S;C++}break}else{var S=F[x],Y=A-1-C;
X[D+C]=S;X[D+Y]=S;X[G+C]=S;X[G+Y]=S}}}return U}return{ahd:B}}();a.dv={};a.dv.a8F=function(z,J,p,n,B,c){a.dv.Qc(z,J,p,n,B,c,null,0)};
a.dv.a2h=function(z,J,p,n,B){a.dv.Qc(z,J,p,n,B,null,null,0)};a.dv.alB=function(z,J,p,n,B,c,t,u){a.dv.Qc(z,J,p,n,B,null,c,t*.5,u)};
a.dv.Qc=function(z,J,p,n,B,c,t,u,v){var A=0,h=0,r=1e9,W=0,N=1e9,o=0,K=1e9,l=0,aV=0,f=0,j=0;if(c){A=B*.5;
B=3+Math.round((B-3)*.75)}if(t){B=Math.round(B*2.2)}if(v==null)v=Math.floor(Math.random()*16777215);
var $=new a.B.en(v*J&16777215),X=1/B,U=Math.floor(J*X)+1,w=Math.floor(p*X)+1,P=[],k=new Uint8Array(U*w*4),T=t?.5:1,Z=c?64:0,i=B>>>1;
for(var V=0;V<w;V++){var _=t?.5*(V&1):0;for(var y=0;y<U;y++){var E=(y+$.get()*T+_)*B,F=(V+$.get()*T)*B;
P.push(E,F);var d=Math.min(J-1,Math.floor(E)),x=Math.min(p-1,Math.floor(F));for(var f=0;f<i;f+=2){var Q=Math.max(0,d-f),m=Math.min(J-1,d+f),H=Math.max(0,x-f),S=Math.min(p-1,x+f);
for(var R=H;R<=S;R++)for(var I=Q;I<=m;I++){var g=(R*J+I)*4;if(z[g+3]>64){d=I;x=R;I=R=f=1e9}}}var D=(x*J+d)*4,G=(V*U+y)*4;
for(var g=0;g<4;g++)k[G+g]=Math.max(0,Math.min(255,Math.floor(z[D+g]+($.get()-.5)*Z)))}}var C=c?c:t?t:[0,0,0],O=U*w*2,Y=[-U-1,-U,-U+1,-1,0,1,U-1,U,U+1];
for(var V=0;V<p;V++){f=0;for(var y=0;y<J;y++){var Q=y+.5,H=V+.5,M=Math.floor(H*X),s=Math.floor(Q*X),l2=M*U+s,dC=0,dL=0;
if(f>1+u){r=a.dv.aLc(P,h,Q,H);l=Math.sqrt(r);f--;j++}else{r=N=K=1e9;for(var g=0;g<Y.length;g++){var gm=(l2+Y[g])*2;
if(gm<0||gm>=O)continue;var iz=a.dv.aLc(P,gm,Q,H);if(iz<K){if(iz<N){if(iz<r){o=W;K=N;W=h;N=r;h=gm;r=iz}else{o=W;
K=N;W=gm;N=iz}}else{o=gm;K=iz}}}l=Math.sqrt(r);aV=Math.sqrt(N);f=aV-(l+aV)*.5}if(t==null){var cP=(l+aV)*.5,id=c?Math.max(0,cP-A):0;
dC=Math.max(0,Math.min(1,.5+cP-l-id));dL=Math.max(0,Math.min(1,1-(.5+cP-l)-id))}else{var jR=Math.min(a.dv.abO(P,h,W,Q,H),a.dv.abO(P,h,o,Q,H));
dC=Math.max(0,Math.min(1,jR-u*.5));if(Q<u||J-u<Q||H<u||p-u<H)dC=0;dL=0}var hC=1-dL-dC,G=V*J+y<<2,eJ=h<<1,el=W<<1;
n[G+0]=Math.floor(.5+dC*k[eJ+0]+dL*k[el+0]+hC*C[0]);n[G+1]=Math.floor(.5+dC*k[eJ+1]+dL*k[el+1]+hC*C[1]);
n[G+2]=Math.floor(.5+dC*k[eJ+2]+dL*k[el+2]+hC*C[2]);n[G+3]=z[G+3]}}};a.dv.aLc=function(z,J,p,n){var B=p-z[J],c=n-z[J+1];
return B*B+c*c};a.dv.abO=function(z,J,p,n,B){var c=z[J],t=z[J+1],u=z[p],v=z[p+1],A=(c+u)*.5,$=(t+v)*.5,X=A+(v-t),U=$-(u-c),w=U-$,P=X-A;
return Math.abs(w*n-P*B+X*$-U*A)/Math.sqrt(P*P+w*w)};a.zM=function(){var z=a.j(0);function J(P){if(z.length<P)z=a.j(P);
return z}function p(P,lj){var k=Math.sqrt(12*P*P/lj+1),T=Math.floor(k);if(T%2==0)T--;var Z=T+2,i=(12*P*P-lj*T*T-4*lj*T-3*lj)/(-4*T-4),V=Math.round(i),_=[];
for(var g=0;g<lj;g++)_.push(g<V?T:Z);return _}function n(P,k,T,Z){var i=a.j(k*T,a.zr(P));for(var g=0;
g<4;g++){a.Tm(P,i,g);B(i,k,T,Z);a.DE(i,P,g)}}function B(P,k,T,Z){var i=a.zr(P);for(var V=0;V<Z.length;
V++){if(i==8)c(P,k,T,Z[V]-1>>1);if(i==16)t(P,k,T,Z[V]-1>>1);if(i==32)u(P,k,T,Z[V]-1>>1)}}function c(P,k,T,Z){var i=J(k*T);
v(P,i,k,T,Z);X(i,P,k,T,Z)}function t(P,k,T,Z){var i=new Uint16Array(J(k*T*2).buffer);A(P,i,k,T,Z);U(i,P,k,T,Z)}function u(P,k,T,Z){var i=new Float32Array(J(k*T*4).buffer);
$(P,i,k,T,Z);w(i,P,k,T,Z)}function v(P,k,T,Z,i){var V=1/(i+i+1),_=T-i-i-1;for(var g=0;g<Z;g++){var y=g*T,E=y,F=y+i,d=P[y],x=P[y+T-1],f=(i+1)*d;
for(var Q=0;Q<i;Q++)f+=P[y+Q];for(var Q=0;Q<=i;Q++){f+=P[F+Q]-d;k[y+Q]=f*V}F+=i+1;y+=i+1;for(var Q=0;
Q<_;Q++){f+=P[F+Q]-P[E+Q];k[y+Q]=f*V}F+=_;E+=_;y+=_;for(var Q=T-i;Q<T;Q++){f+=x-P[E++];k[y++]=f*V}}}function A(P,k,T,Z,i){var V=1/(i+i+1),_=T-i-i-1;
for(var g=0;g<Z;g++){var y=g*T,E=y,F=y+i,d=P[y],x=P[y+T-1],f=(i+1)*d;for(var Q=0;Q<i;Q++)f+=P[y+Q];for(var Q=0;
Q<=i;Q++){f+=P[F+Q]-d;k[y+Q]=f*V}F+=i+1;y+=i+1;for(var Q=0;Q<_;Q++){f+=P[F+Q]-P[E+Q];k[y+Q]=f*V}F+=_;
E+=_;y+=_;for(var Q=T-i;Q<T;Q++){f+=x-P[E++];k[y++]=f*V}}}function $(P,k,T,Z,i){var V=1/(i+i+1),_=T-i-i-1;
for(var g=0;g<Z;g++){var y=g*T,E=y,F=y+i,d=P[y],x=P[y+T-1],f=(i+1)*d;for(var Q=0;Q<i;Q++)f+=P[y+Q];for(var Q=0;
Q<=i;Q++){f+=P[F+Q]-d;k[y+Q]=f*V}F+=i+1;y+=i+1;for(var Q=0;Q<_;Q++){f+=P[F+Q]-P[E+Q];k[y+Q]=f*V}F+=_;
E+=_;y+=_;for(var Q=T-i;Q<T;Q++){f+=x-P[E++];k[y++]=f*V}}}function X(P,k,T,Z,i){var V=1/(i+i+1),_=Z-i-i-1;
for(var g=0;g<T;g++){var y=g,E=y,F=y+i*T,d=P[y],x=P[y+T*(Z-1)],f=(i+1)*d;for(var Q=0;Q<i;Q++)f+=P[y+Q*T];
for(var Q=0;Q<=i;Q++){f+=P[F]-d;k[y]=f*V;F+=T;y+=T}for(var Q=0;Q<_;Q++){var m=Q*T;f+=P[F+m]-P[E+m];k[y+m]=f*V}E+=_*T;
F+=_*T;y+=_*T;for(var Q=Z-i;Q<Z;Q++){f+=x-P[E];k[y]=f*V;E+=T;y+=T}}}function U(P,k,T,Z,i){var V=1/(i+i+1),_=Z-i-i-1;
for(var g=0;g<T;g++){var y=g,E=y,F=y+i*T,d=P[y],x=P[y+T*(Z-1)],f=(i+1)*d;for(var Q=0;Q<i;Q++)f+=P[y+Q*T];
for(var Q=0;Q<=i;Q++){f+=P[F]-d;k[y]=f*V;F+=T;y+=T}for(var Q=0;Q<_;Q++){var m=Q*T;f+=P[F+m]-P[E+m];k[y+m]=f*V}E+=_*T;
F+=_*T;y+=_*T;for(var Q=Z-i;Q<Z;Q++){f+=x-P[E];k[y]=f*V;E+=T;y+=T}}}function w(P,k,T,Z,i){var V=1/(i+i+1),_=Z-i-i-1;
for(var g=0;g<T;g++){var y=g,E=y,F=y+i*T,d=P[y],x=P[y+T*(Z-1)],f=(i+1)*d;for(var Q=0;Q<i;Q++)f+=P[y+Q*T];
for(var Q=0;Q<=i;Q++){f+=P[F]-d;k[y]=f*V;F+=T;y+=T}for(var Q=0;Q<_;Q++){var m=Q*T;f+=P[F+m]-P[E+m];k[y+m]=f*V}E+=_*T;
F+=_*T;y+=_*T;for(var Q=Z-i;Q<Z;Q++){f+=x-P[E];k[y]=f*V;E+=T;y+=T}}}return{zH:function(P,k,T,Z){B(P,k.r,k.$,p(T,Z?Z:3))},a5N:function(P,k,T){n(P,k.r,k.$,p(T,3))},W7:function(P,k,T){B(P,k.r,k.$,[Math.round(T)*2+1])},aKU:function(P,k,T){n(P,k.r,k.$,[Math.round(T)*2+1])},auy:function(P,k,T){var Z=k.r,i=k.$;
T=Math.round(T);var V=J(Z*i),_=a.j(Z*i);for(var g=0;g<4;g++){a.Tm(P,_,g);v(_,V,Z,i,T);a.DE(V,P,g)}},ahZ:p}}();
a.Bh=function(){var z=[];function J(C,O,Y,h){var r=h.length,W=0,N=0,o=0;for(var g=0;g<r;g++){var K=h[g];
W=Math.max(W,K[2]);N=Math.max(N,K[0],O-K[0]);o=Math.max(o,K[1],Y-K[1])}if(r==1){C.fill(255);return}if(r==2){var l=h[0],aV=h[1];
if(l[2]<aV[2]){var j=l;l=aV;aV=j}var M=l[0],s=l[1],l2=aV[0]-M,gm=-(aV[1]-s),iz=Math.sqrt(gm*gm+l2*l2),dC=1/iz;
gm/=iz;l2/=iz;var dL=Math.round(255*Math.min(l[2],aV[2])/W),cP=[];for(var g=0;g<1100;g++){var id=Math.pow(g*.001,.82);
cP[g]=~~(.5+id*dL+(1-id)*255)}for(var jR=0;jR<Y;jR++)for(var hC=0;hC<O;hC++){var j=(hC-M)*gm+(jR-s)*l2,eJ=M+j*gm-hC,el=s+j*l2-jR,eu=Math.sqrt(eJ*eJ+el*el),jY=0;
if(eJ*l2-el*gm>0)jY=255;else if(eu>iz)jY=dL;else jY=cP[~~(.5+1e3*eu*dC)];C[jR*O+hC]=jY}return}var fN=Math.round((N*N+o*o)*.021),jC=z.length;
if(jC<fN)for(var g=jC;g<fN;g++)z[g]=1/(1e-6+Math.pow(.02*g,1.57));var kF=260/W;for(var jR=0;jR<Y;jR++)for(var hC=0;
hC<O;hC++){var i6=0,kT=0;for(var g=0;g<r;g++){var kY=h[g],gm=hC-kY[0],l2=jR-kY[1],eu=z[~~(.02*(gm*gm+l2*l2))];
kT+=eu*kY[2];i6+=eu}C[jR*O+hC]=Math.min(~~(kF*kT/i6),255)}}var p=[];for(var g=0;g<1100;g++)p[g]=Math.pow(.5-.5*Math.cos(g/1e3*Math.PI),2);
function n(C,O,Y,h){var r=B(h),W=1-h[10];for(var N=0;N<Y;N++)for(var o=0;o<O;o++){var K=r.k6*o+r.GQ*N+r.Rf,l=r.X*o+r.JH*N+r.Sm,aV=Math.sqrt(K*K+l*l),j=aV<=W?0:aV>1?1:(aV-W)/(1-W);
C[N*O+o]=~~(.5+C[N*O+o]*p[~~(j*1e3)])}}function B(C){var O=C[0],Y=C[1],h=C[2]-O,r=C[3]-Y,W=C[6]-O,N=C[7]-Y,o=Math.sqrt(h*h+r*r),K=Math.sqrt(W*W+N*N),l=new fA;
l.scale(o,K);l.rotate(Math.atan2(-r,h));l.translate(O,Y);l.oU();l.translate(-.5,-.5);l.scale(2,2);return l}var c=[];
for(var g=0;g<1100;g++)c[g]=Math.pow(.5-.5*Math.cos(g/1e3*Math.PI),.8);function t(C,g,O){var Y=C[g]-C[O],h=C[g+1]-C[O+1];
return Math.sqrt(Y*Y+h*h)}function u(C,O,Y,h){var r=h[0],W=h[1],N=h[2]-r,o=-(h[3]-W),K=Math.sqrt(o*o+N*N);
o/=K;N/=K;var l=t(h,0,2),aV=t(h,0,4),j=t(h,0,6),M=t(h,0,8);for(var s=0;s<Y;s++)for(var l2=0;l2<O;l2++){var gm=(l2-r)*o+(s-W)*N,iz=r+gm*o-l2,dC=W+gm*N-s,dL=Math.sqrt(iz*iz+dC*dC),cP=0;
if(iz*N-dC*o<0)cP=dL<j?0:dL>l?1:c[~~(1e3*(dL-j)/(l-j))];else cP=dL<M?0:dL>aV?1:c[~~(1e3*(dL-M)/(aV-M))];
C[s*O+l2]=~~(.5+C[s*O+l2]*cP)}}function v(C,O,Y){var h=C[0],r=C[1],W=r[0]+r[1]+r[2]+r[3],l=!1;if(W==0)return[a.j(O*Y),W];
var N=h[0],o=h[1],K=h[3];if(l)console.log(N,o,K);var aV=Date.now(),j=a.j(O*Y);j.fill(255);if(r[0]!=0)J(j,O,Y,N);
if(l)console.log(Date.now()-aV,"field done");aV=Date.now();var M=a.j(O*Y);M.fill(255);if(r[1]!=0)for(var g=0;
g<o.length;g++)n(M,O,Y,o[g]);if(l)console.log(Date.now()-aV,"iris done");aV=Date.now();var s=a.j(O*Y);
s.fill(255);if(r[3]!=0)for(var g=0;g<K.length;g++)u(s,O,Y,K[g]);if(l)console.log(Date.now()-aV,"tilt done");
aV=Date.now();var l2=r[0]/W,gm=r[1]/W,iz=r[3]/W,dC=j,dL=O*Y;for(var g=0;g<dL;g++){dC[g]=l2*j[g]+gm*M[g]+iz*s[g]}return[dC,W]}function A(C,O,Y,h,r){var W=Date.now(),N=new Uint32Array(5),o=a.anE(C,O,Y),K=r/255;
for(var l=0;l<Y;l++)for(var aV=0;aV<O;aV++){var g=l*O+aV,j=g<<2,M=h[g]*K,s=~~(M*.948);if(s==0){continue}N[0]=0;
N[1]=0;N[2]=0;N[3]=0;N[4]=0;var l2=~~(M*.612);if(1<=aV-s&&aV+s+1<=O&&1<=l-s&&l+s+1<=Y){var gm=aV-s,iz=aV-l2,dC=aV+l2+1,dL=aV+s+1,cP=l-s,id=l-l2,jR=l+l2+1,hC=l+s+1;
$(o,O,iz,dC,cP,id,N);$(o,O,gm,dL,id,jR,N);$(o,O,iz,dC,jR,hC,N)}else{var gm=Math.max(1,aV-s),iz=Math.max(1,aV-l2),dC=Math.min(O,aV+l2+1),dL=Math.min(O,aV+s+1),cP=Math.max(1,l-s),id=Math.max(1,l-l2),jR=Math.min(Y,l+l2+1),hC=Math.min(Y,l+s+1);
$(o,O,iz,dC,cP,id,N);$(o,O,gm,dL,id,jR,N);$(o,O,iz,dC,jR,hC,N)}if(N[4]!=0){var eJ=1/N[4];C[j]=Math.min(255,~~(N[0]*eJ));
C[j+1]=Math.min(255,~~(N[1]*eJ));C[j+2]=Math.min(255,~~(N[2]*eJ));C[j+3]=Math.min(255,~~(N[3]*eJ))}}}function $(C,O,Y,h,r,W,N){var o=(h-Y)*(W-r);
if(0<o){a.ab7(C,Y-1,h-1,(r-1)*O,(W-1)*O,N);N[4]+=o}}var X="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function U(C){var O=[!1,!1,!1,!1,!1,!1];for(var g=0;g<6;g++){var Y="blurb"+X[g]+"EffectApplied";if(C[Y]&&C[Y].v)O[g]=!0}return O}function w(C,O){for(var g=0;
g<6;g++){var Y="blurb"+X[g]+"EffectApplied";C[Y]={t:"bool",v:O[g]}}}var P=[];for(var k=0;k<6;k++){var T,Z="blurbWidgetLocationX",i="blurbWidgetLocationY";
if(k==0)T=[Z,i,"blurbGeneralBlurAmount"];if(k==1||k==5){var V="blurb"+(k==1?"IrisBlur":"WheelSpin"),_=V+"Corner",y=V+"Feather";
T=[_+"0x",_+"0y",_+"1x",_+"1y",_+"2x",_+"2y",_+"3x",_+"3y",Z,i,y+"0",y+"1",y+"2",y+"3",k==1?V+"Amount":V+"BlurAmount"]}if(k==3){var V="blurbTiltShift",E=V+"InnerPoint",d=V+"OuterPoint";
T=[V+"CenterX",V+"CenterY",d+"1X",d+"1Y",d+"2X",d+"2Y",E+"1X",E+"1Y",E+"2X",E+"2Y",V+"BlurAmount"]}P.push(T)}function x(C,O){function Y(dC,N){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:dC},Vrtc:{t:"doub",v:N}}}}var h=[];
for(var k=0;k<6;k++){var r=C[k],T=P[k];for(var g=0;g<r.length;g++){var W=r[g],N={classID:k==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:k}};
h.push({t:"Objc",v:N});if(k==4){O.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:r[0][4]*100}};var o=N.blurbPathPointList={t:"VlLs",v:[Y(W[0],W[1]),Y(W[5],W[6])]};
for(var K=0;K<2;K++){var l={classID:"blurbBezierKernel"};N["blurb"+(K==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:l};
var aV=W[K*5],j=W[K*5+1],M=W[K*5+2],s=W[K*5+3];l.blurbBezierKernelUIControlPoint=Y((aV+M)/2,(j+s)/2);
var l2=M-aV,gm=s-j,iz=Math.atan2(-(W[6]-W[1]),W[5]-W[0]);l.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-gm,l2)-iz+Math.PI)*180/Math.PI};
l.blurbBezierKernelLocation=Y(aV,j);l.blurbBezierKernelOuterPoint=Y(M,s);if(l2==0&&gm==0)l.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var K=0;
K<T.length;K++)N[T[K]]={t:"doub",v:W[K]}}}delete O.blurbWidgetList;O.blurbWidgetList2={t:"VlLs",v:h}}function f(C){var O=C.blurbWidgetList;
if(O==null||O.v.length==0)O=C.blurbWidgetList2;O=O.v;var Y=[[],[],[],[],[],[]],h=[0,0,0,0,0,0];for(var g=0;
g<O.length;g++){var r=O[g].v,k=r.blurbWidgetType.v,z=[];Y[k].push(z);if(k<4||k==5){var T=P[k];for(var W=0;
W<T.length;W++){z[W]=r[T[W]].v}if(k==5){var N=z[0]-z[4],o=z[1]-z[5],K=Math.sqrt(N*N+o*o),l=z[z.length-1]*K*.005;
h[k]=Math.max(h[k],l)}else h[k]=Math.max(h[k],z[z.length-1])}if(k==4){var aV=C.blurbPathBlurSpeed.v.val/100;
for(var W=0;W<2;W++){var j=r["blurb"+(W==0?"Start":"End")+"BezierKernel"].v,M=j.blurbBezierKernelIsNull;
for(var s=0;s<2;s++){var l2=j["blurbBezierKernel"+(s==0?"Location":"OuterPoint")].v;z.push(l2.Hrzn.v,l2.Vrtc.v)}var gm=z.length-4,iz=z[gm],dC=z[gm+1],N=z[gm+2]-iz,o=z[gm+3]-dC,K=Math.sqrt(N*N+o*o);
if(M&&M.v)K=0;z.push(aV);h[k]=Math.max(h[k],K*aV)}}}return[Y,h]}function Q(C,O,Y){for(var h=0;h<C.length;
h++)O[Y+h]=C[h]}function m(C,O){for(var k=0;k<5;k++){var Y=C[0][k];for(var g=0;g<Y.length;g++){var h=k==0?Y[g].slice(0,2):k==4?Y[g].slice(0,4).concat(Y[g].slice(5,9)):Y[g].slice(0,10);
a.b.h(h,O,h);if(k==4){Q(h.slice(0,4),Y[g],0);Q(h.slice(4,8),Y[g],5)}else Q(h,Y[g],0)}}}function H(C,O,Y){var h=O.S.r,r=O.S.$,W=h*r,N=f(C),o=U(C);
for(var g=0;g<6;g++)if(!o[g])N[1][g]=0;var K=new fA;K.translate(-O.S.x,-O.S.y);m(N,K);var l=Date.now(),aV=v(N,h,r),j=aV[0],M=aV[1];
Y.buffer.set(O.buffer);var s=a.hL(Y.buffer);if(s)a.Ie(Y.buffer);if(M!=0)A(Y.buffer,h,r,j,M);var l2=Math.max(N[1][4],N[1][5]);
if(l2!=0&&co.Pw){var l=Date.now(),gm=a.j(h*r*4);for(var g=0;g<gm.length;g+=4){gm[g]=127;gm[g+1]=127}if(N[1][4]!=0)R(gm,N,h,r,l2);
if(N[1][5]!=0)S(gm,N,h,r,l2);var iz=l2*.25,dC=new Float32Array([1/h,1/r]),dL=co.Ud(0,h,r);dL.set(Y.buffer);
var cP=co.Ud(1,h,r);cP.set(gm);co.C4(dL,O.S);dL.Xq(O.S);co.filter.PW({I:co.filter.aHp,qX:cP.zu,lw:dC,VU:iz,PC:2},dL.Qz);
dL.get(Y.buffer)}if(s)a.xI(Y.buffer)}function S(C,O,Y,h,r){var W=O[0][5];if(W.length==0)return;var N=Date.now();
for(var g=0;g<W.length;g++){var o=W[g],K=B(o),l=K.P();l.oU();var aV=1-o[10],j=o[14]*2.15/r;for(var M=0;
M<h;M++)for(var s=0;s<Y;s++){var l2=K.k6*s+K.GQ*M+K.Rf,gm=K.X*s+K.JH*M+K.Sm,iz=l2*l2+gm*gm;if(iz<1){var dC=l2-gm*j,dL=gm+l2*j,cP=l.g$(new i_(dC,dL)),id=4*(M*Y+s),jR=Math.sqrt(iz),hC=jR<aV?0:(jR-aV)/(1-aV);
C[id]=Math.max(0,Math.min(255,hC*C[id]+(1-hC)*(127+cP.x-s)));C[id+1]=Math.max(0,Math.min(255,hC*C[id+1]+(1-hC)*(127+cP.y-M)))}}}console.log(Date.now()-N)}function R(C,O,Y,h,r){var W=O[0][4];
if(W.length==0)return;var N=W[0];for(var g=1;g<W.length;g++)N=N.concat(W[g]);var o=[];for(var g=0;g<N.length;
g+=5){var K=N[g],l=N[g+1],aV=N[g+2]-K,j=N[g+3]-N[g+1],M=Math.sqrt(aV*aV+j*j);if(M!=0){aV/=M;j/=M}o.push(K,l,aV,j,M,N[g+4])}N=o;
var s=Math.floor(N.length/6),l2=127/r;for(var l=0;l<h;l++)for(var K=0;K<Y;K++){var gm=0,iz=0,dC=0,dL=0;
for(var g=0;g<s;g++){var cP=g*6,id=N[cP],jR=N[cP+1],aV=K-id,j=l-jR,M=1/Math.pow(aV*aV+j*j,.5);iz+=M*N[cP+2];
dC+=M*N[cP+3];dL+=M*N[cP+4]*N[cP+5];gm+=M}var hC=Math.sqrt(iz*iz+dC*dC),eJ=l2*dL/(hC*gm);C[4*(l*Y+K)]=Math.min(iz*eJ+127,255);
C[4*(l*Y+K)+1]=Math.min(dC*eJ+127,255)}}function I(C){var O=C.blurbOpenPanel;if(O)return O.v;else{var Y=C.blurbWidgetList2.v;
for(var g=0;g<Y.length;g++){var h=Y[g].v.blurbWidgetSelected;if(h&&h.v)return Y[g].v.blurbWidgetType.v}}return 0}function D(C,O){if(O<4)C.blurbOpenPanel={t:"long",v:O};
else{delete C.blurbOpenPanel;var Y=C.blurbWidgetList2.v;for(var g=0;g<Y.length;g++){Y[g].v.blurbWidgetSelected.v=Y[g].v.blurbWidgetType.v==O}}}function G(C,k,O,Y){var h=f(C)[0],r=h[k],W;
if(k==0){W=r.length;r.push([O,Y,20])}if(k==1||k==5){W=r.length*6+1;var N=100;r.push([O-N,Y-N,O+N,Y-N,O+N,Y+N,O-N,Y+N,O,Y,.8,.8,.8,.8,20])}if(k==3){W=r.length*5;
r.push([O,Y,O,Y-50,O,Y+50,O,Y-20,O,Y+20,20])}if(k==4){W=r.length*4+2;r.push([O-100,Y,O-50,Y,1,O,Y,O+50,Y,1])}x(h,C);
D(C,k);return W}return{apply:H,FQ:f,KL:x,a7A:G,aod:U,avw:w,aCD:B,h:m,ajo:I,zq:D}}();a.IN={};a.IN.j=function(z,J,p,n){var B=[];
for(var c=0;c<4;c++)for(var t=0;t<4;t++)B.push(z+p*t/3,J+n*c/3);return B};a.IN.aIa=function(z,J){var p=z.slice(0);
for(var g=0;g<4;g++)for(var n=0;n<4;n++){var B=2*(g*4+n),c=2*(n*4+(3-g));if(J){var t=B;B=c;c=t}p[c]=z[B];
p[c+1]=z[B+1]}return p};a.IN.drawImage=function(z,J,p,n,B,c,t){var u=!1,v=Date.now(),A=2;if(!n.cz(p))throw"e";
var $=n.P();$.offset(A,A);var X=$.P();X.Lr(A,A);var U=a.zr(J),w=a.j(X.C()*4,U),P=p.P();p.offset(A,A);
a.nk(J,p,w,X);if(u)console.log(Date.now()-v,"copy rect");v=Date.now();a.Ie(w);if(u)console.log(Date.now()-v,"multiply alpha");
v=Date.now();var k=X.r-2*A,T=X.$-2*A,Z=Math.max(k,T),i=Math.round(50*k/Z),V=Math.round(Math.sqrt(3)*.5*50*T/Z),_=i-.5,y=k+2*A,E=T+2*A,F=[],d=[],x=[];
for(var f=0;f<V+1;f++){var Q=(f&1)==0;for(var m=0;m<i+1;m++){var H=(m-(Q?.5:0))/_,S=f/V;if(m==0)H=0;
if(m==i)H=1;F.push(y*H,E*S);if(m<i&&f<V){var R=f*(i+1)+m,I=R+1,D=R+i+1,G=D+1;if(Q)d.push(R,I,D,D,I,G);
else d.push(R,I,G,R,G,D)}var C=a.IN.ajj(z,H,S);x.push(-C)}}var O=F.slice(0);a.IN.h(z,O,$);a.b.h(O,new fA(1,0,0,1,-c.x,-c.y),O);
if(u)console.log(Date.now()-v,"mesh built");v=Date.now();var Y=c.r,h=c.$;a.uu.NE(w,y,E,B,Y,h,F,O,x,d,t);
if(u)console.log(Date.now()-v,"rendered");v=Date.now();a.xI(B);if(u)console.log(Date.now()-v,"divided");
v=Date.now()};a.IN.HM=new Array(10);a.IN.MV=function(z,J){var p=200,n=0,B=0,c=1e9,t=a.IN.HM;for(var u=0;
u<p+1;u++)for(var v=0;v<p+1;v++){var A=v/p,$=u/p;a.IN.a6u(z,A,$,t);var X=t[8]-J.x,U=t[9]-J.y,w=X*X+U*U;
if(w<c){c=w;n=A;B=$}}return[n,B]};a.IN.h=function(z,J,p){var n=p.x,B=p.y,c=1/p.r,t=1/p.$,u=a.IN.HM;for(var v=0;
v<J.length;v+=2){var A=(J[v]-n)*c,$=(J[v+1]-B)*t;a.IN.a6u(z,A,$,u);J[v]=u[8];J[v+1]=u[9]}};a.IN.ajj=function(z,J,p){var n,B,c,t,u=a.IN.HM;
a.IN.aEh(z,J,p,u);n=u[8];B=u[9];a.IN.aCK(z,J,p,u);c=u[8];t=u[9];return n*t-B*c};a.IN.f9=function(z,J,p){var n=0,B=0,c=z[2][0],t=z[2][1];
while(n+2<c.length&&c[n+1]<J)n++;J=(J-c[n])/(c[n+1]-c[n]);while(B+2<t.length&&t[B+1]<p)B++;p=(p-t[B])/(t[B+1]-t[B]);
return[n*3,B*3,J,p]};a.IN.a6u=function(z,J,p,n){var B=a.IN.f9(z,J,p);a.IN.Bp(n,0,B[3]);a.IN.Bp(n,4,B[2]);
a.IN.y7(z[3],B[0],B[1],z[0],n)};a.IN.aEh=function(z,J,p,n){var B=a.IN.f9(z,J,p);a.IN.Bp(n,0,B[3]);a.IN.axV(n,4,B[2]);
a.IN.y7(z[3],B[0],B[1],z[0],n)};a.IN.aCK=function(z,J,p,n){var B=a.IN.f9(z,J,p);a.IN.axV(n,0,B[3]);a.IN.Bp(n,4,B[2]);
a.IN.y7(z[3],B[0],B[1],z[0],n)};a.IN.axV=function(z,g,J){var p=1-J;z[g]=-3*(p*p);z[g+1]=3*(p*p)-6*(J*p);
z[g+2]=6*(J*p)-3*(J*J);z[g+3]=3*(J*J)};a.IN.Bp=function(z,g,J){var p=1-J;z[g]=p*(p*p);z[g+1]=3*J*(p*p);
z[g+2]=3*(J*J)*p;z[g+3]=J*J*J};a.IN.a17=function(z,J,p,n,B){var c=a.IN.f9(z,J,p),t=c[0],u=c[1],v=c[2],A=c[3],$=z[0],X=Math.floor(v*3),U=Math.floor(A*3),w=a.IN.HM,P=16,F=0;
a.IN.Bp(w,0,A);a.IN.Bp(w,4,v);var k=[],T=[],Z=[];for(var i=0;i<4;i++){for(var V=0;V<4;V++){var g=i*4+V,_=w[i]*w[4+V];
k.push(_);T.push((u+i)*$+t+V);if((i==U||i==U+1)&&(V==X||V==X+1)){var y=v*3-X;if(V==X)y=1-y;var E=A*3-U;
if(i==U)E=1-E;Z[g]=y*E/_}else Z[g]=0}}for(var g=0;g<P;g++)F+=k[g]*Z[g];for(var g=0;g<P;g++)Z[g]/=F;for(var g=0;
g<P;g++){var _=k[g],d=T[g];z[3][d*2]+=Z[g]*n;z[3][d*2+1]+=Z[g]*B}};a.IN.dg=function(z){var J=z[0],p=z[1],n=z[2],B=z[3],c=B.slice(0);
for(var t=0;t<p;t++)for(var u=0;u<J;u++){B[(u*p+t)*2]=c[(t*J+u)*2];B[(u*p+t)*2+1]=c[(t*J+u)*2+1]}z[0]=p;
z[1]=J;z[2]=[n[1],n[0]]};a.IN.split=function(z,J,p){if(J==1)a.IN.dg(z);var n=z[0],B=z[1],c=z[2][0],t=z[3],u=0;
while(c[u+1]&&c[u+1]<p)u++;var v=(p-c[u])/(c[u+1]-c[u]),A=1-v;for(var $=0;$<B;$++){var g=($*(n+3)+u*3)*2,X=A*t[g]+v*t[g+2],U=A*t[g+1]+v*t[g+3],w=A*t[g+2]+v*t[g+4],P=A*t[g+3]+v*t[g+5],k=A*t[g+4]+v*t[g+6],T=A*t[g+5]+v*t[g+7],Z=A*X+v*w,i=A*U+v*P,V=A*w+v*k,_=A*P+v*T,y=A*Z+v*V,E=A*i+v*_;
t.splice(g+2,4,X,U,Z,i,y,E,V,_,k,T)}c.push(p);c.sort();z[0]+=3;if(J==1)a.IN.dg(z)};a.IN.y7=function(z,J,p,n,B){var c=0,t=0,u=0,v=B[0],A=B[1],$=B[2],X=B[3],U=B[4],w=B[5],P=B[6],k=B[7],g=(p*n+J)*2;
u=v*U;c+=z[g+0]*u;t+=z[g+1]*u;u=v*w;c+=z[g+2]*u;t+=z[g+3]*u;u=v*P;c+=z[g+4]*u;t+=z[g+5]*u;u=v*k;c+=z[g+6]*u;
t+=z[g+7]*u;g+=n+n;u=A*U;c+=z[g+0]*u;t+=z[g+1]*u;u=A*w;c+=z[g+2]*u;t+=z[g+3]*u;u=A*P;c+=z[g+4]*u;t+=z[g+5]*u;
u=A*k;c+=z[g+6]*u;t+=z[g+7]*u;g+=n+n;u=$*U;c+=z[g+0]*u;t+=z[g+1]*u;u=$*w;c+=z[g+2]*u;t+=z[g+3]*u;u=$*P;
c+=z[g+4]*u;t+=z[g+5]*u;u=$*k;c+=z[g+6]*u;t+=z[g+7]*u;g+=n+n;u=X*U;c+=z[g+0]*u;t+=z[g+1]*u;u=X*w;c+=z[g+2]*u;
t+=z[g+3]*u;u=X*P;c+=z[g+4]*u;t+=z[g+5]*u;u=X*k;c+=z[g+6]*u;t+=z[g+7]*u;g+=n+n;B[8]=c;B[9]=t};a.MH={};
a.MH.aB4=function(z,J,p){var n=Date.now();return a.MH.ayL(z,J,p)};a.MH.a2T=function(z,J,p,n){var B=p*n,c=new Uint32Array(B),t=new Uint8Array(B),u=new Int16Array(B);
c.fill(4294967295);c[J]=0;var v=new dM(B);v.push(J,c[J]);var A={w8:z,Fn:c,cZ:t,C_:u,Z5:v,aaI:J,Eu:[-p-1,-p,-p+1,1,p+1,p,p-1,-1]};
return A};a.MH.BD=function(z,J){var p=z.w8,n=z.Fn,B=z.cZ,c=z.C_,t=z.Z5,u=z.Eu;while(t.kd!=0&&(J==null||B[J]==0)){var v=t.pop();
if(B[v]==1)continue;B[v]=1;for(var g=0;g<8;g++){var A=p[8*v+g],$=v+u[g];if(A==255||B[$]==1)continue;
var X=n[v]+A;if(X<n[$]){n[$]=X;c[$]=v-$;t.push($,X)}}}};function dM(z){this.list=[];this.kd=0;this.VZ=4294967295}dM.prototype.push=function(z,J){var p=this.list;
if(p[J]==null)p[J]=[];p[J].push(z);this.kd++;this.VZ=Math.min(this.VZ,J)};dM.prototype.pop=function(){this.kd--;
var z=this.list,J=this.VZ,p=z[J].pop();if(z[J].length==0){z[J]=null;if(this.kd==0)this.VZ=4294967295;
else{while(z[J]==null)J++;this.VZ=J}}return p};a.MH.a0A=function(z,J,p,n){var B=new Int16Array(n);for(var c=0;
c<p;c++)for(var t=0;t<J;t++){var g=c*J+t,u=0;if(1<t&&t<J-2&&1<c&&c<p-2){u+=z[g-J-J];u+=z[g-J-1]+2*z[g-J]+z[g-J+1];
u+=z[g-2]+2*z[g-1]-16*z[g]+2*z[g+1]+z[g+2];u+=z[g+J-1]+2*z[g+J]+z[g+J+1];u+=z[g+J+J]}else u=-16*z[g];
B[g]=u}return B};a.MH.a51=function(z,J,p,n){if(n==null)n=128;var B=new Uint8Array(J*p);for(var c=1;c<p;
c++)for(var t=1;t<J;t++){var g=c*J+t;a.MH.amR(z,g,g-1,B,n);a.MH.amR(z,g,g-J,B,n)}return B};a.MH.amR=function(z,g,J,p,n){var B=z[g],c=z[J];
if(Math.abs(B-c)>n&&B*c<0){if(Math.abs(B)<Math.abs(c))p[g]=1;else p[J]=1}};a.MH.aAP=function(z,J,p,n){var B=new Float32Array(n),c=0;
B.fill(0);for(var t=0;t<p;t++)for(var u=0;u<J;u++){var v=0,A=0,g=t*J+u,$=g*3;if(0<u&&u<J-1)v=z[g+1]-z[g-1];
if(0<t&&t<p-1)A=z[g+J]-z[g-J];var X=v*v+A*A;if(X!=0){var U=B[$+2]=Math.sqrt(X),w=1/U;B[$]=v*w;B[$+1]=A*w;
if(U>c)c=U}}var P=3*J*p,k=c==0?0:1/c;for(var g=0;g<P;g+=3)B[g+2]=1-B[g+2]*k;return B};a.MH.ayL=function(){function z(u,v,A){var $=new ArrayBuffer(v*A*12),X=Date.now(),U=a.MH.a0A(u,v,A,$),w=a.MH.a51(U,v,A),P=a.MH.aAP(u,v,A,$),k=new Uint8Array(v*A*8);
k.fill(255);var T=[-v-1,-v,-v+1,1];for(var Z=1;Z<A-1;Z++)for(var i=1;i<v-1;i++){var V=Z*v+i;for(var _=0;
_<4;_++)t(V,V+T[_],_,k,w,P)}return k}var J=new Float64Array(256);for(var g=0;g<256;g++)J[g]=Math.acos(-1+2*g/255)*(.95/Math.PI);
var p=[-1,0,1,1,1,0,-1,-1],n=[-1,-1,-1,0,1,1,1,0];for(var g=0;g<8;g++){var B=1/Math.sqrt(p[g]*p[g]+n[g]*n[g]);
p[g]*=B;n[g]*=B}var c=[p[0],n[0],p[1],n[1],p[2],n[2],p[3],n[3]];function t(u,v,A,$,X,U){var w=3*u,P=3*v,k=1-X[v],T=1-X[u],Z=(A&1)==0?1:Math.SQRT1_2,i=U[P+2]*Z,V=U[w+2]*Z,_=U[P+1],y=-U[P],E=U[w+1],F=-U[w],d=c[A+A],x=c[A+A+1],f=E*d+F*x,Q=_*d+y*x;
if(f+Q<0){f=-f;Q=-Q}var m=J[~~((.5+.5*f)*255)]+J[~~((.5+.5*Q)*255)];$[(u<<3)+A]=1+~~(.5+20*(.43*k+.43*m+.14*i));
$[(v<<3)+A+4]=1+~~(.5+20*(.43*T+.43*m+.14*V))}return z}();a.iM={};a.iM.ns=function(z){var J=z.slice(0),p=0;
for(var g=0;g<z.length;g++)p+=z[g];for(var g=0;g<z.length;g++)J[g]/=p;return J};a.iM.Gb=[a.iM.ns([1,2,1,2,16,2,1,2,1]),a.iM.ns([1,2,1,2,4,2,1,2,1]),a.iM.ns([0,-1,0,-1,8,-1,0,-1,0]),a.iM.ns([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
a.iM.Jf=function(z,J,p,n,B,c,t){if(t==null)t=!1;var u=Math.floor(Math.sqrt(B.length)),v=u-1>>>1,A=a.zr(z),$=a.hW(A),X=new Uint32Array(z.buffer),U=new Uint8ClampedArray(J.buffer);
for(var g=0;g<n;g++)for(var w=0;w<p;w++){var P=0,k=0,T=0,Z=0;for(var i=0;i<u;i++)for(var V=0;V<u;V++){var _=B[i*u+V];
if(_==0)continue;var y=w-v+V,E=g-v+i;if(y<0)y=0;else if(y>p-1)y=p-1;if(E<0)E=0;else if(E>n-1)E=n-1;if(A==8){var F=X[E*p+y];
P+=(F&255)*_;k+=(F>>>8&255)*_;T+=(F>>>16&255)*_;Z+=(F>>>24&255)*_}else{var d=E*p+y<<2;P+=z[d]*_;k+=z[d+1]*_;
T+=z[d+2]*_;Z+=z[d+3]*_}}if(t){if(P<0)P=-P;if(k<0)k=-k;if(T<0)T=-T;if(Z<0)Z=-Z}var x=g*p+w<<2;if(A==8){U[x]=~~(.5+P);
U[x+1]=~~(.5+k);U[x+2]=~~(.5+T);if(c)U[x+3]=~~(.5+Z)}else{J[x]=Math.max(0,Math.min($,P));J[x+1]=Math.max(0,Math.min($,k));
J[x+2]=Math.max(0,Math.min($,T));if(c)J[x+3]=Math.max(0,Math.min($,Z))}}};a.iM.aCq=function(z,J,p,n){var B=z.length,c=new Uint8Array(B);
a.iM.Jf(z,J,p,n,a.iM.Gb[4],!1,!0);a.iM.Jf(z,c,p,n,a.iM.Gb[5],!1,!0);for(var g=0;g<B;g+=4){var t=J[g],u=J[g+1],v=J[g+2],A=J[g+3],$=c[g],X=c[g+1],U=c[g+2],w=c[g+3];
J[g]=255-Math.max(0,Math.min(255,Math.sqrt(t*t+$*$)));J[g+1]=255-Math.max(0,Math.min(255,Math.sqrt(u*u+X*X)));
J[g+2]=255-Math.max(0,Math.min(255,Math.sqrt(v*v+U*U)))}};a.iM.aoZ=function(z,J,p,n){var B=z.length,c=new Uint8Array(B);
a.iM.fg(z,J,p,n,a.iM.Gb[4],!0);a.iM.fg(z,c,p,n,a.iM.Gb[5],!0);for(var g=0;g<B;g++){var t=J[g],u=c[g];
J[g]=255-Math.max(0,Math.min(255,Math.sqrt(t*t+u*u)))}};a.iM.fg=function(z,J,p,n,B,c){J=new Uint8ClampedArray(J.buffer);
var t=[-p-1,-p,-p+1,-1,0,1,p-1,p,p+1],u=n-1,v=p-1;for(var g=1;g<u;g++)for(var A=1;A<v;A++){var $=g*p+A,X=a.iM.vG(z,$,p,B);
if(c){if(X<0)X=-X}J[$]=~~(X+.5)}};a.iM.vG=function(z,J,p,n){return z[J-p-1]*n[0]+z[J-p]*n[1]+z[J-p+1]*n[2]+z[J-1]*n[3]+z[J]*n[4]+z[J+1]*n[5]+z[J+p-1]*n[6]+z[J+p]*n[7]+z[J+p+1]*n[8]};
a.iM.akc=function(z,J,p,n,B){var c=[-p-1,-p,-p+1,-1,0,1,p-1,p,p+1],t=n-1,u=p-1;for(var g=1;g<t;g++)for(var v=1;
v<u;v++){var A=g*p+v;J[A]=a.iM.aDu(z,A,p,B)}};a.iM.aDu=function(z,J,p,n){return z[J-p-1]*n[0]+z[J-p]*n[1]+z[J-p+1]*n[2]+z[J-1]*n[3]+z[J]*n[4]+z[J+1]*n[5]+z[J+p-1]*n[6]+z[J+p]*n[7]+z[J+p+1]*n[8]};
a.pH={};a.pH.SB=function(){function z(t,u,v,A,$,X){if($==0){u.set(t);return}var U=a.j(v*A),w=a.j(v*A);
if(a.hL(t)){J(t,u,v,A,$,X);a.Tm(t,U,3);a.pH.afM(U,w,v,A,$,X);a.DE(w,u,3)}else{for(var g=0;g<3;g++){a.Tm(t,U,g);
a.pH.afM(U,w,v,A,$,X);a.DE(w,u,g)}}}function J(t,u,v,A,$,X){var U=0,w=new ArrayBuffer(512*4*3),P=[new Int32Array(w,0),new Int32Array(w,2048),new Int32Array(w,2*2048)],k=1+2*Math.round(Math.sqrt($)),T=k>>>1,Z=new Array(k),i=new Array(k);
for(var g=0;g<k;g++){var w=new ArrayBuffer(512*4*3);Z[g]=[new Int32Array(w,0),new Int32Array(w,2048),new Int32Array(w,2*2048)];
i[g]=Z[g][0]}var V=[a.pH.pT,a.pH.P7][X],_=V[0],y=V[1],E=P[0];for(var F=0;F<v;F++)if(F<$||F>v-$-k-1){E.fill(0);
var d=Math.max(F-$,0),x=Math.min(v,F+$+1),f=x-d;for(var m=0;m<$;m++)n(E,t,m*v+d,m*v+x,1);for(var m=0;
m<A;m++){var H=m-$-1,S=m+$;if(S<A)n(E,t,S*v+d,S*v+x,1);if(H>=0)n(E,t,H*v+d,H*v+x,-1);var R=m*v+F<<2;
U=E[300];if(U!=0)for(var g=0;g<3;g++)u[R+g]=_(P[g],t[R+g],U)}}else{for(var g=0;g<k;g++)i[g].fill(0);
var d=F-$+T,x=F+$+1+T;for(var m=0;m<$;m++)p(i,t,m*v+d,m*v+x,1,T);for(var m=0;m<A;m++){var H=m-$-1,S=m+$;
if(H>=0)p(i,t,H*v+d,H*v+x,-1,T);if(S<A)p(i,t,S*v+d,S*v+x,1,T);var I=Z[T];U=I[0][300];for(var g=0;g<T;
g++){var D=T-1-g,G=T+1+g,C=Z[D],O=Z[G],Y=U+C[0][300],h=U+O[0][300],r=m*v+F+D<<2,W=m*v+F+G<<2;if(Y!=0)for(var N=0;
N<3;N++)u[r+N]=y(I[N],C[N],t[r+N],Y);if(h!=0)for(var N=0;N<3;N++)u[W+N]=y(I[N],O[N],t[W+N],h)}var R=m*v+F+T<<2;
if(U!=0)for(var N=0;N<3;N++)u[R+N]=_(I[N],t[R+N],U)}F+=k-1}}function p(t,u,v,A,$,X){var U=B,w=v<<2,P=A<<2;
U(t[X-1],u,v-1<<2,$);U(t[X-1],u,A-1<<2,-$);U(t[X+1],u,A<<2,$);U(t[X+1],u,v<<2,-$);for(var g=1;g<X;g++){var k=t[X-g-1],T=t[X+g+1];
for(var Z=0;Z<=g;Z++){var i=Z<<2;U(k,u,v-1-Z<<2,$);U(k,u,A-1-Z<<2,-$);U(T,u,A+Z<<2,$);U(T,u,v+Z<<2,-$)}}n(t[X],u,v,A,$)}function n(t,u,g,v,A){var $=g<<2,X=v<<2;
while($<X){B(t,u,$,A);$+=4}}function B(t,u,v,A){var $=A*u[v+3];t[300]+=$;c(t,u[v],0,$);c(t,u[v+1],512,$);
c(t,u[v+2],1024,$)}function c(t,u,v,A){t[v|u]+=A;t[v|256|u>>>4]+=A}return z}();a.pH.afM=function(){function z(X,U,w,P,k,T){if(k==0){U.set(X);
return}if(k<=200)J(X,U,w,P,k,T);else c(X,U,w,P,k,T)}function J(X,U,w,P,k,T){var Z=0,i=new Int32Array(512),V=1+2*Math.round(Math.sqrt(k)),_=V>>>1,y=new Array(V);
for(var g=0;g<V;g++)y[g]=new Int32Array(512);var E=[a.pH.pT,a.pH.P7][T],F=E[0],d=E[1];for(var x=0;x<w;
x++)if(x<k||x>w-k-V-1){i.fill(0);Z=0;var f=Math.max(x-k,0),m=Math.min(w,x+k+1),H=m-f;for(var S=0;S<k;
S++){Z+=H;n(i,X,S*w+f,S*w+m,1)}for(var S=0;S<P;S++){var R=S-k-1,I=S+k;if(R>=0){Z-=H;n(i,X,R*w+f,R*w+m,-1)}if(I<P){Z+=H;
n(i,X,I*w+f,I*w+m,1)}var D=F(i,X[S*w+x],Z);U[S*w+x]=D}}else{for(var g=0;g<V;g++)y[g].fill(0);Z=0;var f=x-k+_,m=x+k+1+_,H=m-f;
for(var S=0;S<k;S++){Z+=H;p(y,X,S*w+f,S*w+m,1,_)}for(var S=0;S<P;S++){var R=S-k-1,I=S+k;if(R>=0){Z-=H;
p(y,X,R*w+f,R*w+m,-1,_)}if(I<P){Z+=H;p(y,X,I*w+f,I*w+m,1,_)}for(var g=0;g<_;g++){var G=_-1-g,C=_+1+g;
U[S*w+x+G]=d(y[_],y[G],X[S*w+x+G],Z);U[S*w+x+C]=d(y[_],y[C],X[S*w+x+C],Z)}U[S*w+x+_]=F(y[_],X[S*w+x+_],Z)}x+=V-1}}function p(X,U,w,P,k,T){var Z=B;
Z(X[T-1],U[w-1],0,k);Z(X[T-1],U[P-1],0,-k);Z(X[T+1],U[P],0,k);Z(X[T+1],U[w],0,-k);for(var g=1;g<T;g++){var i=X[T-g-1],V=X[T+g+1];
for(var _=0;_<=g;_++){Z(i,U[w-1-_],0,k);Z(i,U[P-1-_],0,-k);Z(V,U[P+_],0,k);Z(V,U[w+_],0,-k)}}n(X[T],U,w,P,k)}function n(X,U,g,w,P){while(g<w)B(X,U[g++],0,P)}function B(X,U,w,P){X[w|U]+=P;
X[w|256|U>>>4]+=P}function c(X,U,w,P,k,T){var Z=0,i=new Int32Array(512),V=new Int32Array(1*w),_=new Int32Array(512*w),y=Math.min(k,w),E=Math.min(k,P),F=[a.pH.pT,a.pH.P7][T],d=F[0];
for(var x=0;x<E;x++)t(_,V,X,w,x,1);for(var x=0;x<P;x++){if(x+k<P)t(_,V,X,w,x+k,1);if(x-k-1>=0)t(_,V,X,w,x-k-1,-1);
i.fill(0);Z=0;for(var f=0;f<y;f++){Z+=V[f];u(i,_,f)}for(var f=0;f<w;f++){var m=f-k-1,H=f+k;if(m>=0&&V[m]!=0){Z-=V[m];
v(i,_,m)}if(H<w&&V[H]!=0){Z+=V[H];u(i,_,H)}var S=Z==0?0:d(i,X[x*w+f],Z);U[x*w+f]=S}}}function t(X,U,w,P,k,T){var g=k*P;
for(var Z=0;Z<P;Z++){B(X,w[g+Z],Z<<9,T);U[Z]+=T}}function u(X,U,w){for(var g=0;g<16;g++){var P=U[w<<9|256|g];
if(P==0)continue;X[256|g]+=P;var k=g<<4,T=w<<9|k;A(X,U,k,T);A(X,U,k+4,T+4);A(X,U,k+8,T+8);A(X,U,k+12,T+12)}}function v(X,U,w){for(var g=0;
g<16;g++){var P=U[w<<9|256|g];if(P==0)continue;X[256|g]-=P;var k=g<<4,T=w<<9|k;$(X,U,k,T);$(X,U,k+4,T+4);
$(X,U,k+8,T+8);$(X,U,k+12,T+12)}}function A(X,U,w,P){X[w]+=U[P];X[w+1]+=U[P+1];X[w+2]+=U[P+2];X[w+3]+=U[P+3]}function $(X,U,w,P){X[w]-=U[P];
X[w+1]-=U[P+1];X[w+2]-=U[P+2];X[w+3]-=U[P+3]}return z}();a.pH.rC=.5;a.pH.pT=[function(z,J,p){var n=~~(.5+a.pH.rC*p),B=0,g=256;
while(B+z[g]<n)B+=z[g++];g=g-256<<4;while(B<n)B+=z[g++];return g-1},function(z,J,p,n){var B=~~(.5+a.pH.rC*n),c=0,g=256;
while(c+z[g]+J[g]<B){c+=z[g]+J[g];g++}g=g-256<<4;while(c<B){c+=z[g]+J[g];g++}return g-1}];a.pH.qc=100;
a.pH.P7=[function(z,J,p){var n=a.pH.qc,B=0,c=0,g=Math.max(0,J-n),t=Math.min(256,J+n+1);while(g<t){var u=z[g];
B+=g*u;c+=u;g++}return c==0?0:B/c},function(z,J,p,n){var B=a.pH.qc,c=0,t=0,g=Math.max(0,p-B),u=Math.min(256,p+B+1);
while(g<u){var v=z[g]+J[g];c+=g*v;t+=v;g++}return t==0?0:c/t}];a.F={};a.F.Gy=function(z){var J=L.tp.bU(z.Trnf),p=new fw(0,0,1e3,1e3);
if(z.Sz){var n=z.Sz.v;p=new fw(0,0,n.Wdth.v,n.Hght.v)}var B=a.F.Q$(J,p);return a.F.Q3(B)};a.F.Q$=function(z,J){var p=z[0],n=z[1],B=z[2],c=z[3],t=z[6],u=z[7],v=z[4],A=z[5],$=0,X=0,U=1,w=0,P=0,k=1,T=1,Z=1;
if(J){$=J.x;X=J.y;U=J.x+J.r;w=J.y;P=J.x;k=J.y+J.$;T=J.x+J.r;Z=J.y+J.$}return a.F.agj(z,[$,X,U,w,T,Z,P,k])};
a.F.adY=function(z){function J(B,c){for(var g=0;g<c.length;g+=2)if(!p(B,c[g],c[g+1]))return!1;return!0}function p(B,c,t){return B[2*c]==B[2*t]&&B[2*c+1]==B[2*t+1]}var n=0;
if(J(z,[0,1,2,3]))n+=1;if(J(z,[0,3,1,2]))n+=2;return n};a.F.agj=function(z,J){function p(I,g,D){var H=I[g*2]-I[D*2],S=I[g*2+1]-I[D*2+1];
return Math.sqrt(H*H+S*S)}var n=z[0],B=z[1],c=z[2],t=z[3],u=z[6],v=z[7],A=z[4],$=z[5],X=J[0],U=J[1],w=J[2],P=J[3],k=J[6],T=J[7],Z=J[4],i=J[5],V=[[X,U,1,0,0,0,-X*n,-U*n,n],[0,0,0,X,U,1,-X*B,-U*B,B],[w,P,1,0,0,0,-w*c,-P*c,c],[0,0,0,w,P,1,-w*t,-P*t,t],[k,T,1,0,0,0,-k*u,-T*u,u],[0,0,0,k,T,1,-k*v,-T*v,v],[Z,i,1,0,0,0,-Z*A,-i*A,A],[0,0,0,Z,i,1,-Z*$,-i*$,$]],_=[0,0,0,0,0,0,0,0],y=a.bp.x7(V,_);
if(y!=0){_=[0,0,0,0,0,0,0,0];var E=a.F.adY(z),F=a.F.adY(J);if(E==F&&E!=0){var d=E==1,x=d?3:1,f=p(z,0,x),Q=p(J,0,x),m=Q/f,H=z[2*x]-z[0],S=z[2*x+1]-z[1],R=new fA;
R.translate(-n,-B);R.rotate(Math.atan2(S,H)-(d?Math.PI/2:0));if(d)R.scale(1,m);else R.scale(m,1);R.translate(X,U);
R.oU();_=a.F.R8(R)}}return _};a.F.j=function(z,J){if(z==null)z=J=0;return[1,0,z,0,1,J,0,0]};a.F.Ua=function(z){return Math.abs(z[6])<1e-18&&Math.abs(z[7])<1e-18};
a.F.Q3=function(z){return new fA(z[0],z[3],z[1],z[4],z[2],z[5])};a.F.R8=function(z){return[z.k6,z.GQ,z.Rf,z.X,z.JH,z.Sm,0,0]};
a.F.h=function(z,J){var p=new Float64Array(2);for(var n=0;n<J.length;n+=2){var B=J[n],c=J[n+1];a.F.Di(B,c,z,p);
J[n]=p[0];J[n+1]=p[1]}};a.F.Di=function(z,J,p,n){var B=1/(p[6]*z+p[7]*J+1);n[0]=(p[0]*z+p[1]*J+p[2])*B;
n[1]=(p[3]*z+p[4]*J+p[5])*B};a.F.atX=function(z,J){var p=new Float64Array(2);a.F.Di(J.x,J.y,z,p);return new i_(p[0],p[1])};
a.F.dg=function(z,J,p,n){z=new Uint32Array(z.buffer);J=new Uint32Array(J.buffer);for(var B=0;B<n;B++){for(var c=0;
c<p;c++){J[c*n+B]=z[B*p+c]}}};a.F.cx=function(z,J,p,n){z=new Uint32Array(z.buffer);J=new Uint32Array(J.buffer);
for(var B=0;B<n;B++){for(var c=0;c<p;c++){J[B*p+c]=z[B*p+p-1-c]}}};a.F.a9c=function(z,J,p,n){z=new Uint32Array(z.buffer);
J=new Uint32Array(J.buffer);for(var B=0;B<n;B++){for(var c=0;c<p;c++){J[B*p+c]=z[(n-1-B)*p+c]}}};a.F.aqZ=function(z){return Math.abs(z[6])<1e-9&&Math.abs(z[7])<1e-9};
a.F.aAL=function(z){return Math.abs(z[0])<1e-9&&Math.abs(z[4])<1e-9||Math.abs(z[1])<1e-9&&Math.abs(z[3])<1e-9};
a.F.drawImage=function(z,J,p,n,B,c,t,u){if(t==null)t=!1;var v=a.F.oU(z),A=!0,$=0;for(var g=0;g<8;g++){var X=Math.round(z[g]);
if(g!=2&&g!=5)$+=Math.abs(X);if(Math.abs(X-z[g])>1e-9)A=!1}var U=a.F.aqZ(z),w=a.F.aAL(z)&&U,P=w?1:0;
if(a.zr(J)!=8){a.F.a00(v,J,p,n,B,c,U,t||u);return}if(t||A&&$==p+n&&U){a.F.a2U(v,J,p,n,B,c,U,u);return}var k=c.r,T=c.$,Z=new Float64Array(2);
B=new Uint32Array(B.buffer);J=new Uint32Array(J.buffer);for(var i=0;i<T;i++)for(var V=0;V<k;V++){var _=i*k+V,y,E,F,d,C=0,O=0,Y=0,h=0;
B[_]=0;var x=V+c.x+.5,f=i+c.y+.5;y=x;E=f;F=v;var Q=F[0]*y+F[1]*E+F[2],m=F[3]*y+F[4]*E+F[5];if(!U){d=1/(F[6]*y+F[7]*E+1);
Q*=d;m*=d}var H=Q*p,S=m*n,R=H<-1||H>p+1||S<-1||S>n+1;if(R)continue;var I=a.F.a9Q(z,p,n,x,f,Q,m),D=Math.round(I*2.3);
if(I<1.1){a.F.V8(H,S,J,p,n,B,_,P);continue}if(H<.6||H>p-.6||S<.6||S>n-.6){D=Math.max(D,5)}var G=1/D,r=c.x+V,W=c.y+i;
F=v;for(var g=0;g<D;g++)for(var N=0;N<D;N++){y=r+(g+.5)*G;E=W+(N+.5)*G;var H=F[0]*y+F[1]*E+F[2],S=F[3]*y+F[4]*E+F[5];
if(!U){d=1/(F[6]*y+F[7]*E+1);H*=d;S*=d}if(H<0||H>=1||S<0||S>=1)continue;H=Math.floor(H*p);S=Math.floor(S*n);
var o=S*p+H,K=J[o],l=K>>>24;C+=(K&255)*l;O+=(K>>>8&255)*l;Y+=(K>>>16&255)*l;h+=l}if(h!=0){var aV=1/h;
C=~~(C*aV+.5);O=~~(O*aV+.5);Y=~~(Y*aV+.5);h=~~(h*G*G+.5);B[_]=h<<24|Y<<16|O<<8|C}}};a.F.a00=function(z,J,p,n,B,c,t,u){var v=c.r,A=c.$,$=new fA;
$.scale(p,n);$.translate(1,1);var X=a.F.iE(a.F.R8($),z),U=new fw(0,0,p,n),w=U.P();w.Lr(1,1);var P=a.j(w.C()*4,a.zr(J));
a.nk(J,U,P,w);p=w.r;n=w.$;var k=c.x+.5,T=c.y+.5;a.Ie(P);for(var Z=0;Z<A;Z++)for(var i=0;i<v;i++){var V=Z*v+i<<2,_=i+k,y=Z+T,E=X[0]*_+X[1]*y+X[2],F=X[3]*_+X[4]*y+X[5];
if(!t){var d=1/(X[6]*_+X[7]*y+1);E*=d;F*=d}if(E<.5||E>p-.5||F<.5||F>n-.5){B[V]=0;B[V+1]=0;B[V+2]=0;B[V+3]=0}else if(u){var x=~~F*p+~~E<<2;
B[V]=P[x];B[V+1]=P[x+1];B[V+2]=P[x+2];B[V+3]=P[x+3]}else a.F.a4H(E,F,P,p,B,V)}a.xI(B)};a.F.a9Q=function(z,J,p,n,B,c,t){var u=a.F.ayb(z,n,B,c+1/J,t),v=a.F.ayb(z,n,B,c,t+1/p);
return 1/Math.sqrt(Math.max(u,v))};a.F.ayb=function(z,J,p,n,B){var c=1/(z[6]*n+z[7]*B+1),t=(z[0]*n+z[1]*B+z[2])*c-J,u=(z[3]*n+z[4]*B+z[5])*c-p;
return t*t+u*u};a.F.a2U=function(z,J,p,n,B,c,t,u){if(t&&c.C()>4e6&&u){a.F.aei(z,J,p,n,B,c,t,u);return}var v=c.x+c.r,A=c.y+c.$,$=0,X=new Uint32Array(B.buffer),U=new Uint32Array(J.buffer),w=z[0]*p,P=z[1]*p,k=z[2]*p,T=z[3]*n,Z=z[4]*n,i=z[5]*n,V=z[6],_=z[7];
if(t)for(var y=c.y+.5;y<A;y++)for(var E=c.x+.5;E<v;E++){var F=w*E+P*y+k,d=T*E+Z*y+i;if(0<F&&F<p&&0<d&&d<n){var x=~~d*p+~~F;
X[$]=U[x]}else X[$]=0;$++}else for(var y=c.y+.5;y<A;y++)for(var E=c.x+.5;E<v;E++){var f=1/(V*E+_*y+1),F=(w*E+P*y+k)*f,d=(T*E+Z*y+i)*f;
if(0<F&&F<p&&0<d&&d<n){var x=Math.floor(d)*p+Math.floor(F);X[$]=U[x]}else X[$]=0;$++}};a.F.aei=function(z,J,p,n,B,c,t,u){var v=new Uint32Array(B.buffer),A=new Uint32Array(J.buffer),_=0;
if(u&&(c.r&3)!=0)throw"e";var $=z[0]*p,X=z[1]*p,U=z[2]*p,w=z[3]*n,P=z[4]*n,k=z[5]*n,T=z[6],Z=z[7],i=c.r,V=c.$,y=c.x+.5,E=c.y+.5,F=(i>>>2<<2)-1e-9,d=-.1+(V>>>1<<1)-1e-9,x=~~p,f=$==0?0:1/$,Q=w==0?0:1/w;
for(var m=0;m<V;m++){var H=y*$+X*(m+E)+U,S=y*w+P*(m+E)+k,R=0,I=i;if($==0){}else if(f>0){R=Math.max(R,-H*f);
I=Math.min(I,(p-H)*f)}else{I=Math.min(I,-H*f);R=Math.max(R,(p-H)*f)}if(w==0){}else if(Q>0){R=Math.max(R,-S*Q);
I=Math.min(I,(n-S)*Q)}else{I=Math.min(I,-S*Q);R=Math.max(R,(n-S)*Q)}if(I<0)I=0;if(R>I)R=I;R=~~Math.ceil(R);
I=~~I;_=~~(m*i);v.fill(0,_,_+R);_+=R;for(var D=R;D<I;D+=4){var G=$*D+H,C=w*D+S,O=~~C*x+~~G,Y=A[O];v[_]=Y;
v[_+1]=Y;v[_+2]=Y;v[_+3]=Y;_+=4}v.fill(0,_,_+i-I)}};a.F.oU=function(z){var J=z[4]-z[5]*z[7],p=z[2]*z[7]-z[1],n=z[1]*z[5]-z[2]*z[4],B=z[5]*z[6]-z[3],c=z[0]-z[2]*z[6],t=z[3]*z[2]-z[0]*z[5],u=z[3]*z[7]-z[4]*z[6],v=z[1]*z[6]-z[0]*z[7],A=1/(z[0]*z[4]-z[1]*z[3]);
return[J*A,p*A,n*A,B*A,c*A,t*A,u*A,v*A]};a.F.iE=function(z,J){var p=z[0],n=z[1],B=z[2],c=z[3],t=z[4],u=z[5],v=z[6],A=z[7],X=J[0],U=J[1],w=J[2],P=J[3],k=J[4],T=J[5],Z=J[6],i=J[7],V=[p*X+n*P+B*Z,p*U+n*k+B*i,p*w+n*T+B,c*X+t*P+u*Z,c*U+t*k+u*i,c*w+t*T+u,v*X+A*P+Z,v*U+A*k+i],_=1/(v*w+A*T+1);
for(var g=0;g<8;g++)V[g]*=_;return V};a.F.V8=function(z,J,p,n,B,c,t,u){var v=z,A=J,U=0,w=0,P=0,k=0;z-=.499999;
J-=.499999;var $=Math.floor(z),X=Math.floor(J);if(u==0){var g=X*n+$,T=$>=0&&$<n,Z=$+1>=0&&$+1<n,i=X>=0&&X<B,V=X+1>=0&&X+1<B;
if(T&&i)U=p[g];if(Z&&i)w=p[g+1];if(T&&V)P=p[g+n];if(Z&&V)k=p[g+n+1]}else if(u==1){var _=$<0?0:$>n-1?n-1:$,y=$<-1?0:$>n-2?n-1:$+1,E=X<0?0:X>B-1?B-1:X,F=X<-1?0:X>B-2?B-1:X+1;
U=p[E*n+_];w=p[E*n+y];P=p[F*n+_];k=p[F*n+y]}else{var _=($+50*n)%n,y=($+50*n+1)%n,E=(X+50*B)%B,F=(X+50*B+1)%B;
U=p[E*n+_];w=p[E*n+y];P=p[F*n+_];k=p[F*n+y]}var d=z-$,x=J-X,f=(1-x)*(1-d)*(U>>>24),Q=(1-x)*d*(w>>>24),m=x*(1-d)*(P>>>24),H=x*d*(k>>>24),S=f+Q+m+H,R=f*(U&255)+Q*(w&255)+m*(P&255)+H*(k&255),I=f*(U>>>8&255)+Q*(w>>>8&255)+m*(P>>>8&255)+H*(k>>>8&255),D=f*(U>>>16&255)+Q*(w>>>16&255)+m*(P>>>16&255)+H*(k>>>16&255);
if(S==0)c[t]=0;else{var G=1/S;R=~~(R*G+.5);I=~~(I*G+.5);D=~~(D*G+.5);S=~~(S+.5);c[t]=S<<24|D<<16|I<<8|R}};
a.F.a4H=function(z,J,p,n,B,c){var t=z-.499999,u=J-.499999,v=~~t,A=~~u,$=t-v,X=u-A,U=(1-X)*(1-$),w=(1-X)*$,P=X*(1-$),k=X*$,T=A*n+v<<2,Z=(A+1)*n+v<<2;
B[c]=U*p[T]+w*p[T+4]+P*p[Z]+k*p[Z+4];B[c+1]=U*p[T+1]+w*p[T+5]+P*p[Z+1]+k*p[Z+5];B[c+2]=U*p[T+2]+w*p[T+6]+P*p[Z+2]+k*p[Z+6];
B[c+3]=U*p[T+3]+w*p[T+7]+P*p[Z+3]+k*p[Z+7]};a.F.aA8=function(z,J,p,n,B,c){var t=z-.499999,u=J-.499999,v=~~t,A=~~u,$=t-v,X=u-A,U=(1-X)*(1-$),w=(1-X)*$,P=X*(1-$),k=X*$,T=A*n+v<<2,Z=(A+1)*n+v<<2,i=U*p[T]+w*p[T+4]+P*p[Z]+k*p[Z+4],V=U*p[T+1]+w*p[T+5]+P*p[Z+1]+k*p[Z+5],_=U*p[T+2]+w*p[T+6]+P*p[Z+2]+k*p[Z+6],y=U*p[T+3]+w*p[T+7]+P*p[Z+3]+k*p[Z+7];
c[0]=i;c[1]=V;c[2]=_;c[3]=y};a.F.rl=function(z,J,p,n,B){z-=.499999;J-=.499999;var c=Math.floor(z),t=Math.floor(J),u=z-c,v=J-t,A=(1-v)*(1-u),$=(1-v)*u,X=v*(1-u),U=v*u,w=(c+50*n)%n,P=(c+1+50*n)%n,k=(t+50*B)%B,T=(t+1+50*B)%B,Z=p[k*n+w],i=p[k*n+P],V=p[T*n+w],_=p[T*n+P];
return A*Z+$*i+X*V+U*_};a.F.ahR=function(z,J,p,n,B){z-=.499999;J-=.499999;var c=Math.floor(z),t=Math.floor(J),u=z-c,v=J-t,A=(1-v)*(1-u),$=(1-v)*u,X=v*(1-u),U=v*u,w=t*n+c,P=w+n;
return A*p[w]+$*p[w+1]+X*p[P]+U*p[P+1]};a.F.a5u=function(z,J,p,n,B){z-=.499999;J-=.499999;var c=Math.floor(z),t=Math.floor(J),u=z-c,v=J-t,A=(1-v)*(1-u),$=(1-v)*u,X=v*(1-u),U=v*u,w=t*n+c,P=w+n;
return A*p[w]+$*p[w+1]+X*p[P]+U*p[P+1]};a.F.asu=function(z,J,p,n,B){z-=.499999;J-=.499999;var c=Math.floor(z),t=Math.floor(J),u=z-c,v=J-t,A=(1-v)*(1-u),$=(1-v)*u,X=v*(1-u),U=v*u,w=t*n+c,P=w+n;
return A*p[w]+$*p[w+1]+X*p[P]+U*p[P+1]};a.F.an9=function(z,J,p,n,B,c,t,u,v,A,$,X){var U=new Uint32Array(z.buffer),w=new Uint32Array(n.buffer),P=(1+2*A)/B,k=[],T=[];
for(var Z=0;Z<B;Z++){var i=-.25+A-Z*P;k.push(Math.cos(2*Math.PI*i)*X/$);k.push(Math.sin(2*Math.PI*i)/$)}t*=J;
u*=p;for(var V=0;V<c;V++){var _=Math.pow(V/c,v)*c;for(var Z=0;Z<B;Z++){var y=t+k[Z<<1]*_,E=u+k[(Z<<1)+1]*_,F=~~(.5+(y<0?0:y>J-1?J-1:y)),d=~~(.5+(E<0?0:E>p-1?p-1:E));
w[V*B+Z]=U[d*J+F]}}};a.F.arg=function(z,J,p,n,B,c,t,u,v,A,$,X){var U=new Uint32Array(z.buffer),w=new Uint32Array(n.buffer),P=1/X,k=[],T=p*4,Z=1/T;
for(var i=0;i<T+10;i++)k.push(Math.pow(i*Z,1/v)*p*$);t*=B;u*=c;for(var i=0;i<c;i++)for(var V=0;V<B;V++){var _=P*(V-t),y=i-u,E=1.75-Math.atan2(y,_)*(1/(2*Math.PI));
E=E-~~E;E=(E+A)*(1/(1+2*A));var F=Math.sqrt(_*_+y*y);F=k[~~(F*4)];a.F.V8(E*J+.5,F+.5,U,J,p,w,i*B+V,1)}};
a.F.zJ=function(z,J,p,n,B){var c=B[0],t=B[1];for(var u=0;u<t;u++)for(var v=0;v<c;v++){var A=B[2]*v+B[3]*u+B[4],$=B[5]*v+B[6]*u+B[7],X=u*c+v<<2,U=$*J+A<<2;
n[X]=z[U+0];n[X+1]=z[U+1];n[X+2]=z[U+2];n[X+3]=z[U+3]}};a.Wi=function(){function z(_,y){var E=~~(.499+_*y);
return E<0?0:(E>y?y:E)<<2}function J(_,y,E,F,d,x,f,Q){var m=E[0],H=E[1],S=E[2],R=E[3],I=F.r,D=F.$,G=new Uint32Array(1),C=new Uint8Array(G.buffer),O=Math.round(Math.random()*F.C()*100);
for(var Y=0,g=0;Y<D;Y++){for(var h=0;h<I;h++,g++){var r=h+d,W=Y+x,N=m*r+H*W,o=S*r+R*W,K=0;if(Q==0)K=N+.5;
else if(Q==1)K=2*Math.sqrt(N*N+o*o);else if(Q==2)K=(Math.PI+Math.atan2(-o,-N))/(2*Math.PI);else if(Q==3)K=Math.abs(N*2);
else if(Q==4)K=2*(Math.abs(N)+Math.abs(o));var l=z(K,f),aV=h*4;G[0]=a.B.Xa(g+O);for(var j=0;j<4;j++){var M=y[l+j]*255,s=Math.floor(M);
if(C[j]<(M-s)*255)s++;_[(g<<2)+j]=s}}}}function p(_,g,y,E,F){var d=g<<2;_[d]=y[E]*F;_[d+1]=y[E+1]*F;
_[d+2]=y[E+2]*F;_[d+3]=y[E+3]*F}var n=[function(_,y,E,F,d,x,f,Q){var m=E[0],H=E[1],S=E[2],R=E[3],I=F.r,D=F.$;
for(var G=0,g=0;G<D;G++)for(var C=0;C<I;C++,g++){var O=C+d,Y=G+x,h=m*O+H*Y,r=S*O+R*Y,W=h+.5;p(_,g,y,z(W,f),Q)}},function(_,y,E,F,d,x,f,Q){var m=E[0],H=E[1],S=E[2],R=E[3],I=F.r,D=F.$;
for(var G=0,g=0;G<D;G++)for(var C=0;C<I;C++,g++){var O=C+d,Y=G+x,h=m*O+H*Y,r=S*O+R*Y,W=2*Math.sqrt(h*h+r*r);
p(_,g,y,z(W,f),Q)}},function(_,y,E,F,d,x,f,Q){var m=E[0],H=E[1],S=E[2],R=E[3],I=F.r,D=F.$;for(var G=0,g=0;
G<D;G++)for(var C=0;C<I;C++,g++){var O=C+d,Y=G+x,h=m*O+H*Y,r=S*O+R*Y,W=(Math.PI+Math.atan2(-r,-h))/(2*Math.PI);
p(_,g,y,z(W,f),Q)}},function(_,y,E,F,d,x,f,Q){var m=E[0],H=E[1],S=E[2],R=E[3],I=F.r,D=F.$;for(var G=0,g=0;
G<D;G++)for(var C=0;C<I;C++,g++){var O=C+d,Y=G+x,h=m*O+H*Y,r=S*O+R*Y,W=Math.abs(h*2);p(_,g,y,z(W,f),Q)}},function(_,y,E,F,d,x,f,Q){var m=E[0],H=E[1],S=E[2],R=E[3],I=F.r,D=F.$;
for(var G=0,g=0;G<D;G++)for(var C=0;C<I;C++,g++){var O=C+d,Y=G+x,h=m*O+H*Y,r=S*O+R*Y,W=2*(Math.abs(h)+Math.abs(r));
p(_,g,y,z(W,f),Q)}}];function B(_,y,E,F,d,x,f,Q,m,H,S,R,I){var D=1023,G=u(_,D+1,f,m,H,I),C=a.zr(y),O=a.hW(C);
if(C==8&&R&&_.Clrs){J(y,G,F,E,E.x-d,E.y-x,D,Q)}else if(Q<5){n[Q](y,G,F,E,E.x-d,E.y-x,D,O)}else{var Y=a.hg(G,C),h=E.r,r=E.$,W=S.dh,N=S.od,o=W-N,K=1/o,l=S.Pg.r-E.r>>1,aV=S.Pg.$-E.$>>1,j=S.Pg.r;
for(var M=0,g=0;M<r;M++)for(var s=0;s<h;s++,g+=4){var l2=(M+aV)*j+s+l,gm=(S.ye[l2]-N)*K,iz=Math.max(0,Math.min(D,Math.round(gm*D)))<<2;
y[g]=Y[iz];y[g+1]=Y[iz+1];y[g+2]=Y[iz+2];y[g+3]=Y[iz+3]}}}function c(_,y,E){var F=[_.Clrs.v,_.Trns.v],d=[[],[]],x=255;
for(var f=0;f<2;f++)for(var g=0;g<F[f].length;g++){var Q,m=F[f][g].v;if(f==0){var H=m.Type.v.Clry;if(H=="FrgC")Q={o:y>>16&255,k:y>>8&255,X:y&255};
else if(H=="BckC")Q={o:E>>16&255,k:E>>8&255,X:E&255};else Q=t(m.Clr.v)}else{Q=m.Opct.v.val*(255/100);
if(Q<x)x=Q}d[f].push([Q,m.Lctn.v/4096,m.Mdpn.v/100])}d.push(x>254);return d}function t(_){var y,E=_.classID;
if(E=="RGBC"){if(_.Rd)y={o:_.Rd.v,k:_.Grn.v,X:_.Bl.v};else y={o:_.redFloat.v*255,k:_.greenFloat.v*255,X:_.blueFloat.v*255};
y.o=Math.max(y.o,0);y.k=Math.max(y.k,0);y.X=Math.max(y.X,0)}else if(E=="HSBC"){y=a.u4(_.H.v.val/360,_.Strt.v/100,_.Brgh.v/100);
y.o*=255;y.k*=255;y.X*=255}else if(E=="CMYC"){var F=_.Cyn.v,d=_.Mgnt.v,x=_.Ylw.v,f=_.Blck.v,Q=[F/100,d/100,x/100,f/100],m=a.oc(Q);
y={o:m[0]*255,k:m[1]*255,X:m[2]*255}}else if(E=="Grsc")y={o:255-_.Gry.v,k:255-_.Gry.v,X:255-_.Gry.v};
else if(E=="LbCl"){y=a.p6(_.Lmnc.v,_.A.v,_.B.v)}else if(E=="BkCl")y={o:0,k:0,X:0};else console.log(_);
if(isNaN(y.o))y.o=y.k=y.X=0;return y}function u(_,y,E,F,d,x){if(x==null)x="Gcls";var f;if(_.Clrs){f=c(_,F,d);
for(var g=0;g<f[0].length;g++){var Q=f[0][g][0];if(x=="Lnr"){Q.o=255*a.Wg(Q.o/255);Q.k=255*a.Wg(Q.k/255);
Q.X=255*a.Wg(Q.X/255)}if(x=="Perc"||x=="Smoo"){var m=a.ym(Q.o,Q.k,Q.X);Q.o=m.Z5*2.55;Q.k=127.5+m.k6;
Q.X=127.5+m.X}}}var H=_.Clrs?$(_,f,y,E):v(_,y,E);if(_.Clrs&&x!="Gcls"){var S=1/255,R=f[0],I=f[1];for(var g=0;
g<H.length;g+=4){if(x=="Lnr"){H[g]=a.hI(H[g]);H[g+1]=a.hI(H[g+1]);H[g+2]=a.hI(H[g+2])}if(x=="Perc"||x=="Smoo"){var D=H[g]*100,G=(H[g+1]-.5)*255,C=(H[g+2]-.5)*255,O=a.p6(D,G,C);
H[g]=O.o*S;H[g+1]=O.k*S;H[g+2]=O.X*S}if(x=="stripes"){var Y=0;while(Y<R.length-1&&R[Y+1][1]*y<g>>>2)Y++;
var O=R[Y][0];H[g]=O.o*S;H[g+1]=O.k*S;H[g+2]=O.X*S;Y=0;while(Y<I.length-1&&I[Y+1][1]*y<g>>>2)Y++;H[g+3]=I[Y][0]*S}}}return H}function v(_,y,E){var F=new Uint32Array(y),d=new Uint8Array(F.buffer);
F.fill(4278190080);var x=[],f=[],Q=_.RndS.v,m=_.Smth.v/4096;for(var g=0;g<4;g++){x[g]=~~(_.Mnm.v[g].v*255/100);
f[g]=~~(_.Mxm.v[g].v*255/100)}var H=a.j(y*4),S=a.j(y);for(var R=0;R<3;R++){a.O.aeC(null,y,1,H,[1+Math.round(m*m*m*60),22,Q*(2+R)]);
a.Tm(H,S,0);a.DE(S,d,R);var I=x[R],D=f[R];for(var g=0;g<y;g++)d[4*g+R]=Math.max(I,Math.min(D,d[4*g+R]))}if(E)for(var g=0;
g<y/2;g++){var G=F[g];F[g]=F[y-1-g];F[y-1-g]=G}return a.hg(d,32)}function A(_){return{classID:"RGBC",Rd:{t:"doub",v:_.o},Grn:{t:"doub",v:_.k},Bl:{t:"doub",v:_.X}}}function $(_,y,E,F){var d=new Float32Array(E*4),x=1/(E-0);
for(var g=0;g<E;g++){var f=g*4,Q=X(_,y,(F?E-1-g:g)*x);d[f]=Q[0];d[f+1]=Q[1];d[f+2]=Q[2];d[f+3]=Q[3]}return d}function X(_,y,E){var F=_.Intr.v*(1/4096),d=y[0],x=y[1],f=d.length-1,Q=x.length-1,g=-1,m=0,H=0,S=0,R=0;
if(y[2])m=255;else{while(g<Q&&x[g+1][1]<=E)g++;if(g==-1){m=x[0][0]}else if(g==Q){m=x[g][0]}else{var I=w(x,g,E,F);
m=I*x[g][0]+(1-I)*x[g+1][0]}}g=-1;while(g<f&&d[g+1][1]<=E)g++;if(g==-1){var D=d[0][0];H=D.o;S=D.k;R=D.X}else if(g==f){var D=d[g][0];
H=D.o;S=D.k;R=D.X}else{var G=d[g][0],C=d[g+1][0],O=w(d,g,E,F);H=Math.min(255,O*G.o+(1-O)*C.o);S=Math.min(255,O*G.k+(1-O)*C.k);
R=Math.min(255,O*G.X+(1-O)*C.X)}return[H*(1/255),S*(1/255),R*(1/255),m*(1/255)]}function U(_,y,E){var F=X(_,y,E),d=~~(.5+F[0]*255),x=~~(.5+F[1]*255),f=~~(.5+F[2]*255),Q=~~(.5+F[3]*255);
return Q<<24|f<<16|x<<8|d}function w(_,g,y,E){if(_.length==2)E*=.5;var F=_[g][1],d=_[g+1][1],x=F+_[g+1][2]*(d-F),f;
if(y<x)f=.5*(y-F)/(x-F);else f=.5+.5*(y-x)/(d-x);f=.5+.5*(E*Math.cos(Math.PI*f)+(1-E)*(1-2*f));return f}function P(_,y,E){var F=.5*E.$,d=F*(_/y),x=Math.sqrt(F*F+d*d),f=.5*E.r,Q=f*(y/_),m=Math.sqrt(f*f+Q*Q);
return Math.min(x,m)}function k(_,y){var E=Math.PI*_.Angl.v.val/180,F=_.Scl.v.val/100,d=0,x=0;if(_.Ofst){var f=_.Ofst.v;
d=f.Hrzn.v.val/100;x=f.Vrtc.v.val/100}var Q=Math.cos(E),m=-Math.sin(E),H=P(Q,m,y),S=H*F,R=y.x+y.r/2+d*y.r,I=y.y+y.$/2+x*y.$;
return[new i_(R,I),new i_(R+Q*S,I+m*S)]}function T(_,y,E,F){var d=y.x-_.x,x=-(y.y-_.y),f=Math.sqrt(d*d+x*x),Q=Math.atan2(x,d),m=Math.cos(Q),H=-Math.sin(Q),S=P(m,H,E),R=f/S,I=(_.x-E.x-E.r/2)/E.r,D=(_.y-E.y-E.$/2)/E.$;
F.Angl.v.val=180*Q/Math.PI;F.Scl.v.val=R*100;var G=F.Ofst.v;G.Hrzn.v.val=I*100;G.Vrtc.v.val=D*100}function Z(_,y){for(var g=0;
g<_.length;g++){var E=_[g],F=Math.round(E[0]*4096),d=E[1],x=E[2],f=_[Math.max(0,g-1)][3];if(x==null)x=1;
if(f==null)f=.5;var Q=A({o:d[0]*255,k:d[1]*255,X:d[2]*255});y.Clrs.v[g]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:F},Mdpn:{t:"long",v:Math.round(f*100)},Clr:{t:"Objc",v:Q},Type:{t:"enum",v:{Clry:"UsrS"}}}};
y.Trns.v[g]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:F},Mdpn:{t:"long",v:Math.round(f*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(x*100)}}}}}}function i(_,y,E){if(y){_=a.G(_);
for(var g=0;g<2;g++){var F=_[g==0?"Clrs":"Trns"].v;for(var d=0;d<F.length;d++)F[d].v.Lctn.v=4096-F[d].v.Lctn.v;
F.reverse()}}var x=[],f=1/255,Q=_.Clrs.v,m=_.Trns.v,F=Q;if(ex==0||Q.length!=m.length){if(ex!=0)console.log("strange gradient");
if(E!=!0)F=Q.concat(m);var H=c(_,0,0);for(var g=0;g<F.length;g++){var S=F[g].v,R=S.Lctn.v/4096,I=X(_,H,R);
x.push([R,[I[0],I[1],I[2]],I[3],S.Mdpn.v/100])}x.sort(function(G,C){return G[0]-C[0]});for(var g=1;g<x.length;
g++)if(x[g][0]-x[g-1][0]<.001){x.splice(g,1);g--}}else{for(var g=0;g<F.length;g++){var S=Q[g].v,D=S.Clr.v,R=S.Lctn.v/4096;
x.push([R,[D.Rd.v*f,D.Grn.v*f,D.Bl.v*f],m[g].v.Opct.v.val/100,Q[Math.min(g+1,Q.length-1)].v.Mdpn.v/100])}}return x}function V(_,y){function E(_,f){_.addColorStop(f[0],CSS.ar5(f[1],f[2]))}function F(f,Q,m,H){var S=Math.log(.5)/Math.log(H),R=Math.log(.5)/Math.log(1-H),I=H>.5?Math.pow(m,S):1-Math.pow(1-m,R),D=1-I,G=f[0],C=f[1],O=Q[1],Y=[G+(Q[0]-G)*m,[C[0]*D+O[0]*I,C[1]*D+O[1]*I,C[2]*D+O[2]*I],f[2]*D+Q[2]*I];
return Y}E(_,y[0]);for(var g=1;g<y.length;g++){var d=y[g-1][3];if(d!=.5)for(var x=1;x<20;x++)E(_,F(y[g-1],y[g],x/20,d));
E(_,y[g])}}return{MJ:B,yR:A,Um:t,a6J:u,aN:T,a4l:k,NF:V,Sy:Z,apM:i,aAz:c,QV:U}}();a.axN={};a.axN.Oj=function(z,J,p,n,B,c,t,u,v,A,$,X){var U,w,P,k=Date.now(),T=!1,Z=t,i=A,V,_,y,E,F=c*255,d=255-v*255,x=1+B*6,f=1+u*6,Q=1+X*4,m=(Q-1)/7,H=0,S=255-0,R,I,D,G,C,O,Y,h,r,W,N,o,K,l=0,aV=1,j,M,s,l2,gm,iz,dC,dL,cP,id,jR=1+$,hC,eJ=a.j(p*n),el=a.j(p*n),eu=a.j(p*n),jY=a.j(p*n),fN=255/F,jC=255/(255-d);
for(w=0;w<n;w++){for(U=0;U<p;U++){var g=w*p+U,kF=g<<2;j=a.b2(z[kF],z[kF+1],z[kF+2]);jY[g]=j;if(j<F)eJ[g]=255-j*fN;
if(j>d)el[g]=255-(255-j)*jC}}if(T)console.log("init",Date.now()-k);k=Date.now();if(B*Z>0){a.zM.zH(eJ,new fw(0,0,p,n),Z,2)}if(u*i>0){a.zM.zH(el,new fw(0,0,p,n),i,2)}if(T)console.log("blur",Date.now()-k);
k=Date.now();var i6=a.j(256),kT=a.j(256);for(var g=0;g<256;g++){var kY=g*(1/255),h9=0;h9=(1-Math.pow(1-kY,x))*255;
i6[g]=Math.max(0,Math.min(255,~~(h9+.5)));h9=Math.pow(kY,f)*255;kT[g]=Math.max(0,Math.min(255,~~(h9+.5)))}var bG=new Uint8ClampedArray(J.buffer),dQ=new Float32Array(32768);
for(var g=0;g<32768;g++){hC=Math.sqrt(g)*(1/128);if(jR>1)hC=(1-hC)*(jR-1)+1;else hC=hC*(jR-1)+1;dQ[g]=hC}for(w=0;
w<n;w++){for(U=0;U<p;U++){var g=w*p+U,kF=g<<2,h9=jY[g],jn=eJ[g]*(1/255),b1=el[g]*(1/255);h9=(1-jn)*h9+jn*i6[~~h9];
h9=(1-b1)*h9+b1*kT[~~h9];j=h9;var c8=z[kF],j_=z[kF+1],fQ=z[kF+2];M=-c8*.168736-j_*.331264+fQ*.5;s=c8*.5-j_*.418688-fQ*.081312;
hC=dQ[~~(.5+M*M+s*s)];l2=M*hC;iz=s*hC;aV=1-Math.min(2-(jn+b1),1);M=aV*M+(1-aV)*l2;s=aV*s+(1-aV)*iz;dL=j+1.402*s;
cP=j-.34414*M-.71414*s;id=j+1.772*M;bG[kF]=~~(.5+dL);bG[kF+1]=~~(.5+cP);bG[kF+2]=~~(.5+id)}}if(T)console.log("apply masks",Date.now()-k);
k=Date.now()};a.l4={};a.l4.D8=function(z,J,p,n,B){var c=Date.now(),t=!1,k=1,S=0,r=0;if(!J.cz(B)){var u=J.KQ(B),v=a.j(u.C()*4);
a.nk(z,J,v,u);z=v;J=u}var A=a.j(J.C());a._1(p,B,A,J);a.round(A);B=B.ly(J);var $=B.r,X=B.$,U=$*3<X?2:1,w=X*3<$?2:1;
if(B.C()*(U*2+1)*(w*2+1)<J.C()){var u=new fw(B.x-$*U,B.y-X*U,$*(U*2+1),X*(w*2+1)).ly(J),v=a.j(u.C()*4);
a.nk(z,J,v,u);var P=a.j(u.C());a._1(A,J,P,u);J=u;z=v;A=P}while((J.r+J.$)/2/k>400)k++;var T=z,Z=J,i=A,V=Math.floor(Z.r/k),_=Math.floor(Z.$/k);
z=a.j(V*_*4);a.scale.ov(T,Z.r,Z.$,z,V,_,1/k);A=a.j(V*_);a.scale.zJ(i,Z.r,Z.$,A,V,_,1/k);a.round(A,1);
if(t)console.log("scale down:",k,V,_);var y=a.Ni(A,new fw(0,0,V,_));if(y.Sz())return 1;var E=Math.round((y.r+y.$)/2/15);
if(t)console.log(Date.now()-c,"preprocess");c=Date.now();var F=a.j(V*_*4);a.aEE(z,F);var d=Int16Array,x=new d(V*_*24),f=new d(64),Q=new d(64),m=new d(64),H=new d(64);
for(var R=3;R<_-4;R++)for(var I=3;I<V-4;I++){var D=R*V+I;if(A[D]==255)continue;if(a.l4.aBf(F,A,I,R,V,_,f,Q,m)!=0)continue;
a.l4.tc(f,H);var G=S*24;x[G]=I;x[G+1]=R;a.l4._U(f,x,G+4,12);a.l4.tc(Q,H);a.l4._U(Q,x,G+16,4);a.l4.tc(m,H);
a.l4._U(m,x,G+20,4);var C=x[G+5],O=x[G+6];x[G+5]=x[G+16];x[G+6]=x[G+20];x[G+16]=C;x[G+20]=O;S++}if(S==0)return 2;
if(t)console.log(Date.now()-c,"FWHT computed");c=Date.now();var Y=[];a.l4.vq(0,S-1,Y,x,new d(2*24));
if(t)console.log(Date.now()-c,"KD tree computed");c=Date.now();var h=new Uint32Array(V*_*4);for(var g=0;
g<S;g++){var W=g,N=a.l4.aBX(W,x,Y,E);if(N==-1)continue;var o=W*24,K=N*24,l=x[o],aV=x[o+1],j=x[K],M=x[K+1];
r+=a.l4.getError(K,o,x,1e99);var s=j-l,l2=M-aV;h[(_+l2)*2*V+(V+s)]+=1}if(t)console.log(Date.now()-c,"NN found");
c=Date.now();var gm=[],iz=1/(2*V);for(var g=0;g<h.length;g++){if(h[g]>0){var R=Math.floor(g*iz),I=g-R*2*V;
gm.push({x:I-V,y:R-_,K:h[g],SY:-1})}}gm.sort(function(bG,dQ){return dQ.K-bG.K});var dC=new Int32Array(V*_),dL=[];
for(var g=0;g<V*_;g++){if(A[g]==255){dC[g]=dL.length>>>1;dL.push(g%V,Math.floor(g/V))}else if(z[(g<<2)+3]<200){dC[g]=-2}else{dC[g]=-1}}var cP=a.l4.aD1(V,_,gm,dC,dL);
if(cP==null){if(t)console.log("no appropriate labeling");return 3}var id=cP.o$,top=cP.top;id=a.l4.a7l(id,z,V,_,top,dC,dL);
if(t)console.log(Date.now()-c,"optimal labeling found");c=Date.now();var u=B.P();u.Lr(1,1);u=u.ly(Z);
var jR=a.j(u.C()*4),hC=a.j(u.C());a.nk(T,Z,jR,u);var eJ=Z.r,el=Z.$;for(var R=0;R<el;R++)for(var I=0;
I<eJ;I++){if(i[R*eJ+I]==0)continue;var eu=Math.min(Math.floor(I/k),V-1),jY=Math.min(Math.floor(R/k),_-1),fN=dC[jY*V+eu];
if(fN==-1)continue;var jC=id[fN],kF=top[jC],i6=I+kF.x*k,kT=R+kF.y*k,kY=kT*eJ+i6<<2,h9=(R-u.y+Z.y)*u.r+(I-u.x+Z.x)<<2;
jR[h9]=T[kY];jR[h9+1]=T[kY+1];jR[h9+2]=T[kY+2];jR[h9+3]=T[kY+3];jR[h9+3]=T[kY+3];hC[h9>>2]=jC+1}if(t)console.log(Date.now()-c,"copied back");
c=Date.now();a.Fu.D8(jR,hC,u,null,1e3);if(t)console.log(Date.now()-c,"poisson smooth");c=Date.now();
a.nk(jR,u,n,B);return 0};a.l4.aK3=function(z,J,p,n,B,c){return a.l4.lJ(z+B.x,J+B.y,p,n,c)?0:1e9};a.l4.a7l=function(z,J,p,n,top,B,c){var t=Date.now(),u=c.length>>>1,v=[-1,0,0,-1,1,0,0,1],A=1e99,$=[],X=[],U=2*(u*2*3+u*2),w=null,P=0,k=0,T=0,Z=1e99;
while(!0&&Date.now()<t+12e3){T++;var i=null,V=A;for(var _=0;_<top.length;_++){var y=top[_],E=0,F=u+2,d=0;
for(var g=0;g<u;g++){var x=c[g*2],f=c[g*2+1],Q=top[z[g]],m=a.l4.aK3(x,f,p,n,y,B),H=z[g]==_?1e9:a.l4.aK3(x,f,p,n,Q,B);
for(var lj=0;lj<4;lj++){if(lj==0&&x==0||lj==1&&f==0||lj==2&&x==p-1||lj==3&&f==n-1)continue;var S=v[2*lj],R=v[2*lj+1],I=x+S,D=f+R,G=B[D*p+I];
if(G==-2){}else if(G==-1){m+=3*a.l4.fN(I+y.x,D+y.y,I,D,p,n,J,B);m+=2*a.l4.fN(I+y.x+S,D+y.y+R,I+S,D+R,p,n,J,B);
H+=3*a.l4.fN(I+Q.x,D+Q.y,I,D,p,n,J,B);H+=2*a.l4.fN(I+Q.x+S,D+Q.y+R,I+S,D+R,p,n,J,B)}else if(lj>1){if(z[g]==z[G]){var C=0;
C+=a.l4.fN(x+Q.x,f+Q.y,x+y.x,f+y.y,p,n,J,B);C+=a.l4.fN(I+Q.x,D+Q.y,I+y.x,D+y.y,p,n,J,B);$[E]=g;$[E+1]=G;
X[E]=C;X[E+1]=C;E+=2}else{var O=top[z[G]],Y=F,h=0,r=0,W=0;F++;h+=a.l4.fN(x+Q.x,f+Q.y,x+y.x,f+y.y,p,n,J,B);
h+=a.l4.fN(I+Q.x,D+Q.y,I+y.x,D+y.y,p,n,J,B);r+=a.l4.fN(x+O.x,f+O.y,x+y.x,f+y.y,p,n,J,B);r+=a.l4.fN(I+O.x,D+O.y,I+y.x,D+y.y,p,n,J,B);
W+=a.l4.fN(x+O.x,f+O.y,x+Q.x,f+Q.y,p,n,J,B);W+=a.l4.fN(I+O.x,D+O.y,I+Q.x,D+Q.y,p,n,J,B);$[E]=g;$[E+1]=Y;
X[E]=h;X[E+1]=h;E+=2;$[E]=G;$[E+1]=Y;X[E]=r;X[E+1]=r;E+=2;$[E]=Y;$[E+1]=u+1;X[E]=W;X[E+1]=0;E+=2}}}$[E]=u;
$[E+1]=g;X[E]=m;X[E+1]=0;E+=2;$[E]=g;$[E+1]=u+1;X[E]=H;X[E+1]=0;E+=2;d+=Math.min(m,H)}if(d>V)continue;
var N=a.df.x7(F,E,u,u+1,$,X,V);if(N.Fn<V){V=N.Fn;var o=z.slice(0);a.l4.a8A(o,E,$,N.mA,_,u);i=o}}if(V*1>=A){break}A=V;
z=i;if((T&3)==0){if(V*1.03>=Z)break;Z=V}if((T&3)==0){var K=0*top.length;for(var g=0;g<top.length&&top.length>K;
g++){if(z.indexOf(g)!=-1)continue;top.splice(g,1);for(var G=0;G<z.length;G++)if(z[G]>g)z[G]--;g--}}}return z};
a.l4.a8A=function(z,J,p,n,B,c){for(var g=0;g<n.length;g++){var t=n[g]<<1,u=0,v=0;if(t<J){u=p[t];v=p[t+1]}else{v=p[t];
u=p[t+1]}if(u==c&&z[v]!=B)z[v]=B}};a.l4.ah0=function(top,z,J,p,n,B,c,t,u){for(var g=0;g<J.length;g++){var v=J[g],A=!0;
if(t!=null&&!a.l4.lJ(t+v.x,u+v.y,B,c,p))continue;if(v.SY==-1)v.SY=a.l4.aAW(v,p,n,B,c);if(v.SY<=0)continue;
for(var $=0;$<top.length;$++){var X=top[$],U=v.x-X.x,w=v.y-X.y;if(U*U+w*w<z){A=!1;break}}if(A)return v}return null};
a.l4.aAW=function(z,J,p,n,B){var c=0;for(var g=0;g<p.length;g+=2){var t=p[g]+z.x,u=p[g+1]+z.y;if(a.l4.lJ(t,u,n,B,J))c++}return c/(p.length>>1)};
a.l4.aD1=function(z,J,p,n,B){var c=B.length>>>1,top=[];for(var g=0;g<60;g++){var t=a.l4.ah0(top,25,p,n,B,z,J);
if(t==null)break;else top.push(t)}if(top.length==0)return null;var u=[];for(var g=0;g<c;g++){var v=B[g*2],A=B[g*2+1],$=-1,X=0;
while(!0){X++;var U=Math.random();$=Math.floor(U*.99999*top.length);var w=top[$],P=v+w.x,k=A+w.y;if(a.l4.lJ(P,k,z,J,n))break;
if(X>1e3){var t;t=a.l4.ah0(top,0,p,n,B,z,J,v,A);if(t==null)for(var T=0;T<4;T++){var Z,i,V=0;while(!0){Z=~~(Math.random()*z);
i=~~(Math.random()*J);if(a.l4.lJ(Z,i,z,J,n))break;V++;if(V>500)throw"e"}t={x:Z-v,y:i-A,K:1,SY:-1};p.push(t);
top.push(t)}else top.push(t);X=0}}u.push($)}return{top:top,o$:u}};a.l4.fN=function(z,J,p,n,B,c,t,u){if(z==p&&J==n)return 0;
if(z<0||J<0||z>=B||J>=c||p<0||n<0||p>=B||n>=c||u[J*B+z]!=-1||u[n*B+p]!=-1)return 1e7;var v=J*B+z<<2,A=n*B+p<<2,$=t[v]-t[A],X=t[v+1]-t[A+1],U=t[v+2]-t[A+2];
return 1+($*$+X*X+U*U)};a.l4.lJ=function(z,J,p,n,B){return z>=0&&z<p&&J>=0&&J<n&&B[J*p+z]==-1};a.l4.aBX=function(z,J,p,n){var B=24*z,c=J[B],t=J[B+1],u=n*n,v=0,U=1e9;
while(p[v]!=99)if(J[B+p[v]]<p[v+1])v=p[v+2];else v=p[v+3];var A=p[v+1],$=p[v+2],X=-1;for(var g=A;g<=$;
g++){var v=g,w=v*24,P=J[w],k=J[w+1];if((P-c)*(P-c)+(k-t)*(k-t)<u)continue;var T=a.l4.getError(w,B,J,U);
if(T<U){U=T;X=v}}return X};a.l4.getError=function(z,J,p,n){var B=0;for(var c=4;c<24;c+=4){var t=p[J+c]-p[z+c],u=p[J+c+1]-p[z+c+1],v=p[J+c+2]-p[z+c+2],A=p[J+c+3]-p[z+c+3];
B+=t*t+u*u+v*v+A*A;if(B>=n)return B+1}return B};a.l4.vq=function(z,J,p,n,B){var c=16,U=0;if(J-z<=c){p.push(99,z,J);
return}a.l4.yq(z,J,n,B);var t=-1,u=-1;for(var g=4;g<24;g++){var v=B[2*g+1]-B[2*g];if(v>u){u=v;t=g}}var A=z+J>>1,$=a.l4.awe(A,z,J,n,t),X=-1;
for(var g=z;g<=J;g++)if(n[24*g+t]==$){if(X==-1)X=g;U=g}if(z+8<X&&X-z>J-U)A=X;else if(U+1<J-8)A=U+1;else if(J-z<64){p.push(99,z,J);
return}else A=A;var w=p.length;p.push(t,$,0,0);p[w+2]=w+4;a.l4.vq(z,A-1,p,n,B);p[w+3]=p.length;a.l4.vq(A,J,p,n,B)};
a.l4.yq=function(z,J,p,n){for(var g=0;g<48;g+=4){n[g]=3e4;n[g+1]=-3e4;n[g+2]=3e4;n[g+3]=-3e4}for(var g=z;
g<=J;g++){var B=g*24;for(var c=0;c<24;c++){var t=p[B+c],u=n[c<<1],v=n[(c<<1)+1];if(t<u)n[c<<1]=t;if(t>v)n[(c<<1)+1]=t}}};
a.l4.MC=function(z,J,p){var n=0,g=0;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;
g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;
g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;
g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;
g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;
g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;
g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;
g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;
g++;n=p[z+g];p[z+g]=p[J+g];p[J+g]=n;g++};a.l4.ed=function(z,J,p,n){var B=p+n>>>1,c=z[24*B+J];while(p<=n){while(z[24*p+J]<c)p++;
while(z[24*n+J]>c)n--;if(p<=n){if(z[24*p+J]!=z[24*n+J])a.l4.MC(p*24,n*24,z);p++;n--}}return p};a.l4.awe=function(z,J,p,n,B){var c=0;
while(J!=p){c=a.l4.ed(n,B,J,p);if(z<c)p=c-1;else J=c}return n[z*24+B]};a.l4._U=function(z,J,p,n){for(var g=0;
g<n;g++)J[p+g]=z[g]};a.l4.aBf=function(z,J,p,n,B,c,t,u,v){var A=(n-3)*B+(p-3),$=A<<2;for(var X=0;X<8;
X++){if(J[A]+J[A+1]+J[A+2]+J[A+3]+J[A+4]+J[A+5]+J[A+6]+J[A+7]!=0||z[$+3]<200||z[$+7]<200||z[$+11]<200||z[$+15]<200||z[$+19]<200||z[$+23]<200||z[$+27]<200||z[$+31]<200)return 1;
var g=X<<3;t[g+0]=z[$+0];u[g+0]=z[$+1];v[g+0]=z[$+2];t[g+1]=z[$+4];u[g+1]=z[$+5];v[g+1]=z[$+6];t[g+2]=z[$+8];
u[g+2]=z[$+9];v[g+2]=z[$+10];t[g+3]=z[$+12];u[g+3]=z[$+13];v[g+3]=z[$+14];t[g+4]=z[$+16];u[g+4]=z[$+17];
v[g+4]=z[$+18];t[g+5]=z[$+20];u[g+5]=z[$+21];v[g+5]=z[$+22];t[g+6]=z[$+24];u[g+6]=z[$+25];v[g+6]=z[$+26];
t[g+7]=z[$+28];u[g+7]=z[$+29];v[g+7]=z[$+30];$+=B<<2;A+=B}return 0};a.l4.tc=function(z,J){J[0]=z[32]+z[0];
J[1]=z[33]+z[1];J[2]=z[34]+z[2];J[3]=z[35]+z[3];J[4]=z[36]+z[4];J[5]=z[37]+z[5];J[6]=z[38]+z[6];J[7]=z[39]+z[7];
J[8]=z[40]+z[8];J[9]=z[41]+z[9];J[10]=z[42]+z[10];J[11]=z[43]+z[11];J[12]=z[44]+z[12];J[13]=z[45]+z[13];
J[14]=z[46]+z[14];J[15]=z[47]+z[15];J[16]=z[48]+z[16];J[17]=z[49]+z[17];J[18]=z[50]+z[18];J[19]=z[51]+z[19];
J[20]=z[52]+z[20];J[21]=z[53]+z[21];J[22]=z[54]+z[22];J[23]=z[55]+z[23];J[24]=z[56]+z[24];J[25]=z[57]+z[25];
J[26]=z[58]+z[26];J[27]=z[59]+z[27];J[28]=z[60]+z[28];J[29]=z[61]+z[29];J[30]=z[62]+z[30];J[31]=z[63]+z[31];
J[32]=z[0]-z[32];J[33]=z[1]-z[33];J[34]=z[2]-z[34];J[35]=z[3]-z[35];J[36]=z[4]-z[36];J[37]=z[5]-z[37];
J[38]=z[6]-z[38];J[39]=z[7]-z[39];J[40]=z[8]-z[40];J[41]=z[9]-z[41];J[42]=z[10]-z[42];J[43]=z[11]-z[43];
J[44]=z[12]-z[44];J[45]=z[13]-z[45];J[46]=z[14]-z[46];J[47]=z[15]-z[47];J[48]=z[16]-z[48];J[49]=z[17]-z[49];
J[50]=z[18]-z[50];J[51]=z[19]-z[51];J[52]=z[20]-z[52];J[53]=z[21]-z[53];J[54]=z[22]-z[54];J[55]=z[23]-z[55];
J[56]=z[24]-z[56];J[57]=z[25]-z[57];J[58]=z[26]-z[58];J[59]=z[27]-z[59];J[60]=z[28]-z[60];J[61]=z[29]-z[61];
J[62]=z[30]-z[62];J[63]=z[31]-z[63];z[0]=J[16]+J[0];z[1]=J[17]+J[1];z[2]=J[18]+J[2];z[3]=J[19]+J[3];
z[4]=J[20]+J[4];z[5]=J[21]+J[5];z[6]=J[22]+J[6];z[7]=J[23]+J[7];z[8]=J[24]+J[8];z[9]=J[25]+J[9];z[10]=J[26]+J[10];
z[11]=J[27]+J[11];z[12]=J[28]+J[12];z[13]=J[29]+J[13];z[14]=J[30]+J[14];z[15]=J[31]+J[15];z[16]=J[0]-J[16];
z[17]=J[1]-J[17];z[18]=J[2]-J[18];z[19]=J[3]-J[19];z[20]=J[4]-J[20];z[21]=J[5]-J[21];z[22]=J[6]-J[22];
z[23]=J[7]-J[23];z[24]=J[8]-J[24];z[25]=J[9]-J[25];z[26]=J[10]-J[26];z[27]=J[11]-J[27];z[28]=J[12]-J[28];
z[29]=J[13]-J[29];z[30]=J[14]-J[30];z[31]=J[15]-J[31];J[0]=z[8]+z[0];J[1]=z[9]+z[1];J[2]=z[10]+z[2];
J[3]=z[11]+z[3];J[4]=z[12]+z[4];J[5]=z[13]+z[5];J[6]=z[14]+z[6];J[7]=z[15]+z[7];J[8]=z[0]-z[8];J[9]=z[1]-z[9];
J[10]=z[2]-z[10];J[11]=z[3]-z[11];J[12]=z[4]-z[12];J[13]=z[5]-z[13];J[14]=z[6]-z[14];J[15]=z[7]-z[15];
z[0]=J[4]+J[0];z[1]=J[5]+J[1];z[2]=J[6]+J[2];z[3]=J[7]+J[3];z[4]=J[0]-J[4];z[5]=J[1]-J[5];z[6]=J[2]-J[6];
z[7]=J[3]-J[7];z[8]=J[12]+J[8];z[9]=J[13]+J[9];z[10]=J[14]+J[10];z[11]=J[15]+J[11];z[12]=J[8]-J[12];
z[13]=J[9]-J[13];z[14]=J[10]-J[14];z[15]=J[11]-J[15];J[0]=z[2]+z[0];J[1]=z[3]+z[1];J[2]=z[0]-z[2];J[3]=z[1]-z[3];
J[4]=z[6]+z[4];J[5]=z[7]+z[5];J[6]=z[4]-z[6];J[7]=z[5]-z[7];J[8]=z[10]+z[8];J[9]=z[11]+z[9];J[10]=z[8]-z[10];
J[11]=z[9]-z[11];J[12]=z[14]+z[12];J[13]=z[15]+z[13];J[14]=z[12]-z[14];J[15]=z[13]-z[15];z[0]=J[1]+J[0];
z[1]=J[0]-J[1];z[2]=J[3]+J[2];z[3]=J[2]-J[3];z[4]=J[5]+J[4];z[5]=J[4]-J[5];z[6]=J[7]+J[6];z[7]=J[6]-J[7];
z[8]=J[9]+J[8];z[9]=J[8]-J[9];z[10]=J[11]+J[10];z[11]=J[10]-J[11];z[12]=J[13]+J[12];z[13]=J[12]-J[13];
z[14]=J[15]+J[14];z[15]=J[14]-J[15]};a.l4.a1A=function(){var z="",lj=64,J="v",p="t",n="a",B=5,g,c,t;
for(g=lj>>1;g>0;g>>=1,B--){for(c=0;c<lj;c++){t=(c>>B&1)!=0;if(t){z+=p+"["+c+"] = "+J+"["+(-g+c)+"] - "+J+"["+c+"];  "}else{z+=p+"["+c+"] = "+J+"["+(g+c)+"] + "+J+"["+c+"];  "}}n=J;
J=p;p=n;z+="\n"}console.log(z)};a.l4.alQ=function(lj,z,J){var p=z,n=J,B=p,c=0,g,u,v;while(lj>>c!=2)c++;
var t=c;for(g=lj>>1;g>0;g>>=1,c--){for(u=0;u<lj;u++){v=(u>>c&1)!=0;if(v)n[u]=p[-g+u]-p[u];else n[u]=p[g+u]+p[u]}B=p;
p=n;n=B}if((t&1)==1)for(g=0;g<lj;g++)J[g]=p[g]};a.EZ={};a.EZ.TB=function(z,J,p,n,B,c,t,u,v){var A=Date.now(),$=new Uint32Array(z.buffer),X=new Uint32Array(J.buffer),U=t/p,w=u/n,P=1/U,k=1/w,T=new Float64Array(2),Z=3,i=1/Z,V=1/(Z*Z),_=0,y=0,E=p,F=n;
if(B){_=B.x;y=B.y;E=B.r;F=B.$}for(var d=0;d<F;d++)for(var x=0;x<E;x++){var f=_+x,Q=y+d,g=Q*p+f,m=g<<1,H=g<<2;
a.EZ.a0h(c,t,u,(f+.5)*U,(Q+.5)*w,T);var S=T[0]*P,R=T[1]*k;if(S==0&&R==0)X[g]=$[g];else{a.F.V8(f+S+.5,Q+R+.5,$,p,n,X,g,v)}}};
a.EZ.a0h=function(z,J,p,n,B,c){n-=.499999;B-=.499999;var t=~~n,u=~~B,v=n-t,A=B-u,$=(1-A)*(1-v),X=(1-A)*v,U=A*(1-v),w=A*v,P=t<J-1?t+1:t,k=u<p-1?u+1:u,T=u*J+t<<1,Z=u*J+P<<1,i=k*J+t<<1,V=k*J+P<<1;
c[0]=$*z[T]+X*z[Z]+U*z[i]+w*z[V];c[1]=$*z[T+1]+X*z[Z+1]+U*z[i+1]+w*z[V+1]};a.EZ.aIX=function(z,J,p,n,B){var c=1/z,t=[-1,1,-z,z],u=n.length;
for(var v=0;v<u;v++){var g=n[v],A=g<<1,$=v<<1,X=~~(g*c),U=g-z*X,w=p[A],P=p[A+1],k=0,T=0;if(U!=0&&U!=z-1){var Z=g-1<<1,i=g+1<<1,V=p[Z],_=p[i],y=p[Z+1],E=p[i+1],F=w-(V+_)*.5,d=P-(y+E)*.5;
k-=F*B;T-=d*B}if(X!=0&&X!=J-1){var Z=g-z<<1,i=g+z<<1,V=p[Z],_=p[i],y=p[Z+1],E=p[i+1],F=w-(V+_)*.5,d=P-(y+E)*.5;
k-=F*B;T-=d*B}p[A]=w+k;p[A+1]=P+T}};a.EZ.axH=function(z,J){var p=z+","+J;if(a.EZ.ae7==p)return a.EZ.amw;
var n=a.EZ.amw=[];a.EZ.ae7=p;for(var g=0;g<=1e3;g++){var B=g*.001,c=Math.sqrt(B),t=Math.exp(-4*c),u=.96*(1-c*c),v=J*((1-z)*t+z*u);
n[g]=v}return n};a.EZ.ae7="";a.EZ.amw=[];a.EZ.afT=function(z,J,p,n,B,c,t,u,v,A,$,X,U){var w=Math.max(0,Math.floor(B-t-1)),P=Math.min(J,Math.ceil(B+t+1)),k=Math.max(0,Math.floor(c-t-1)),T=Math.min(p,Math.ceil(c+t+1)),Z=2*J,i=t*t,V=1/t,_=0;
if(U&&(n==3||n==6))v=-v;var y=a.EZ.axH(u,v);for(var E=k;E<T;E++)for(var F=w;F<P;F++){var g=E*J+F,d=g<<1,x=(B-F)*V,f=(c-E)*V,Q=x*x+f*f;
if(Q<1){X[_]=g;var m=y[~~(Q*1e3)];if(n==1){z[d]=z[d]*(1-m*.05);z[d+1]=z[d+1]*(1-m*.05)}else{var H=0,S=0,D,G,C,O;
if(n==0){H=A*m;S=$*m}else if(n==2){}else if(n==3){H=m*f;S=-m*x}else if(n==4){H=m*x;S=m*f}else if(n==5){H=-m*x;
S=-m*f}else if(n==6){H=$*m;S=-A*m}var R=z[d],I=z[d+1];if(F==0||F!=J-1&&H<0){D=1+z[d+2]-R;C=z[d+3]-I}else{D=R-z[d-2]+1;
C=I-z[d-1]}if(E==0||E!=p-1&&S<0){G=z[d+Z]-R;O=1+z[d+Z+1]-I}else{G=R-z[d-Z];O=I-z[d-Z+1]+1}z[d]=-(D*H+G*S-R);
z[d+1]=-(C*H+O*S-I)}_++}}};a.EZ.a2Y=function(z){var J=z[0],p=z[0],n=z[1],B=z[1];for(var g=0;g<z.length;
g+=2){var c=z[g],t=z[g+1];if(c<J)J=c;else if(c>p)p=c;if(t<n)n=t;else if(t>B)B=t}return[J,n,p,B]};a.aoT=function(z,J,p,n,B){function c(j,M,s,l2){return Math.sqrt((j-s)*(j-s)+(M-l2)*(M-l2))}function t(j,M){return j>=0&&j<J&&M>=0&&M<p}function u(j){if(j<0)return 0;
if(j>=J)return J-1;return j}function v(j){if(j<0)return 0;if(j>=p)return p-1;return j}function A(g,j){var M=j[3]*(1/255),s=n[g]+j[0]*M;
if(s>255)s=255;n[g]=s;s=n[g+1]+j[1]*M;if(s>255)s=255;n[g+1]=s;s=n[g+2]+j[2]*M;if(s>255)s=255;n[g+2]=s}function $(j,M,s){if(!Y(j,M))return;
if(s[3]<0)s[3]=0;A((M*J+j)*4,s)}function X(j){var M=j.slice(0,3);M[3]=0;return M}var U=J/800;function w(j){return Math.round(j*U)}function P(){for(var g=0;
g<=300;g++){r[g]=k(g)}}function k(p){var j=.8,M=.2,s=j*M,l2=p/60%2-1,gm=s*(1-l2*l2),iz=M-s,dC;if(p<60){dC=[s+iz,gm,0]}else if(p<120){dC=[gm,s,0]}else if(p<180){dC=[0,s,gm]}else if(p<240){dC=[0,gm,s]}else if(p<300){dC=[gm,0,s]}else{dC=[s,0,gm]}return[(dC[0]+iz)*255,(dC[1]+iz)*255,(dC[2]+iz)*255]}function T(p){return r[~~p]}function Z(j){return 1-i(j)}function i(j){return j-~~j}function V(j,M,s,l2){C(j,M,s,0,M+1,1,l2)}function _(j,M,s,l2,gm,iz){C(j,M,s,0,l2,1,gm,iz)}function y(j){for(var g=0;
g<n.length;g+=4){A(g,j)}}function E(j,M,s,l2,gm,iz,dC,dL){F(j,M,s,l2,gm,1,iz,dC,dL)}function F(j,M,s,l2,gm,iz,dC,dL,cP){if(iz==null)iz=.5;
if(dC==null)dC=0;if(dL==null)dL=0;if(cP==null)cP=!1;var id=j.x,jR=j.y,hC=s.slice(0),eJ=~~(s[3]*N);l2=l2*N;
if(!cP){M=O(M);gm=O(gm);dC=O(dC);dL=O(dL)}var el=u(id-M),eu=u(id+M);for(var jY=el;jY<=eu;jY++){var fN=jY-id,jC=Math.floor(Math.sqrt(M*M-fN*fN)),kF=v(jR-jC),i6=v(jR);
for(var kT=kF;kT<=i6;kT++){var kY=c(jY,kT,id,jR);if(kY>M||kY<=M-gm)break;var h9=(kY-M+gm)/gm;hC[3]=eJ-l2*(iz==1?h9:Math.pow(h9,iz));
A((kT*J+jY)*4,hC)}kF=v(jR+jC);for(var kT=kF;kT>i6;kT--){var kY=c(jY,kT,id,jR);if(kY>M||kY<=M-gm)break;
var h9=(kY-M+gm)/gm;hC[3]=eJ-l2*(iz==1?h9:Math.pow(h9,iz));A((kT*J+jY)*4,hC)}}if(dC>0){C(j,M+dC,hC,hC[3],dC,1,0,0,!0)}if(dL>0){C(j,M-gm,h(s),-s[3],dL,1,0,0,!0)}}function d(j,M,s,l2,gm,iz){C(j,M,s,s[3],M+1,1,l2,gm,iz)}function x(j,M,s,l2,gm){if(gm==null)gm=!1;
var iz=j.x,dC=j.y;l2*=N;if(!gm){M=O(M);s=O(s)}var dL=u(iz-M),cP=u(iz+M);for(var id=dL;id<cP;id++){var jR=id-iz,hC=~~Math.sqrt(M*M-jR*jR),eJ=v(dC-hC),el=v(dC);
for(var eu=eJ;eu<=el;eu++){var jY=c(id,eu,iz,dC);if(jY>M||jY<=M-s)break;var fN=(M-jY)/s,jC=T(300*fN);
jC[3]=l2;A((eu*J+id)*4,jC)}eJ=v(dC+hC);for(var eu=eJ;eu>el;eu--){var jY=c(id,eu,iz,dC);if(jY>M||jY<=M-s)break;
var fN=(M-jY)/s,jC=T(300*fN);jC[3]=l2;A((eu*J+id)*4,jC)}}}function f(W,j){var M=W.hJ,s=W.EE,l2=j.slice(0),gm=j[3]*N,iz=Math.abs(s.y-M.y)>Math.abs(s.x-M.x);
if(iz){var dC=M.x;M.x=M.y;M.y=dC;dC=s.x;s.x=s.y;s.y=dC}if(M.x>s.x){var dC=M;M=s;s=dC}var dL=s.x-M.x,cP=s.y-M.y,id=dL==0?1:cP/dL,jR=Math.round(M.x),hC=M.y+id*(jR-M.x),eJ=Z(M.x+.5),el=jR,eu=~~hC;
if(iz){l2[3]=gm*Z(hC)*eJ;$(eu,el,l2);l2[3]=gm*i(hC)*eJ;$(eu+1,el,l2)}else{l2[3]=gm*Z(hC)*eJ;$(el,eu,l2);
l2[3]=gm*i(hC)*eJ;$(el,eu+1,l2)}var jY=hC-id;jR=Math.round(s.x);hC=s.y+id*(jR-s.x);eJ=i(s.x+.5);var fN=jR,jC=~~hC;
if(iz){l2[3]=gm*Z(hC)*eJ;$(jC,fN,l2);l2[3]=gm*i(hC)*eJ;$(jC+1,fN,l2)}else{l2[3]=gm*Z(hC)*eJ;$(fN,jC,l2);
l2[3]=gm*i(hC)*eJ;$(fN,jC+1,l2)}if(iz){for(var kF=el+1;kF<=fN-1;kF++){l2[3]=gm*Z(jY);$(~~jY,kF,l2);l2[3]=gm*i(jY);
$(~~jY+1,kF,l2);jY+=id}}else{for(var kF=el+1;kF<=fN-1;kF++){l2[3]=gm*Z(jY);$(kF,~~jY,l2);l2[3]=gm*i(jY);
$(kF,~~jY+1,l2);jY+=id}}}function Q(j,M,s,l2){for(var g=0;g<4;g++){var gm=j.Qj(M+1.3*g,s);f(gm,l2,1)}}function i_(j,M){this.x=Math.round(j);
this.y=Math.round(M)}var m=Math.PI/180;i_.prototype.Qj=function(j,M){j=j*m;var s=this.x+M*Math.cos(j),l2=this.y+M*Math.sin(j);
return new H(this.x,this.y,s,l2)};i_.prototype.agR=function(j,M){j=j*m;var s=this.bI+M*Math.cos(j),l2=this.AT+M*Math.sin(j);
return new i_(s,l2)};function H(j,M,s,l2){this.hJ=new i_(j,M);this.EE=new i_(s,l2)}H.prototype.R_=function(j){var M=j*this.hJ.x+(1-j)*this.EE.x,s=j*this.hJ.y+(1-j)*this.EE.y;
return new i_(M,s)};var S=E,R=d,I=V,D=_,G=x,C=F,O=w,Y=t,h=X,r=[];P();for(var g=0;g<z.length;g++){n[g]=z[g]}var W=new H(J*B[2],p*B[3],J/2,p/2),N=B[1],o=[];
o[0]=function K(){var j=[80,40,15,60],s=0,l2=0;I(W.R_(1.4),260,j,10);I(W.R_(1),100,[240,50,50,30],30);
R(W.R_(1),60,[255,40,0,40]);var M=[255,255,255,255];C(W.R_(1),70,M,M[3],58,.5);I(W.R_(1),12,M);M[3]=40;
S(W.R_(1),150,M,M[3],150);for(var g=0;g<40;g++){s+=Math.random()*25;l2=Math.random()*O(300)+O(100);var gm=W.R_(1).Qj(s,l2);
f(W.R_(1).Qj(s,l2),[110,110,110,30])}R(W.R_(1),130,[255,255,255,8]);var iz=[170,30,23,70];D(W.R_(1),70,iz,1,3,3);
var dC=[60,60,130,40];I(W.R_(.47),44,dC,5);I(W.R_(.43),22,dC,3);dC[3]=16;I(W.R_(.53),15,dC,2);var dL=[138,94,42,100];
I(W.R_(.2),16,dL,2);var cP=[130,255,170,180];R(W.R_(0),4,cP);R(W.R_(-.25),5,cP);dL=[150,90,0,50];S(W.R_(-.45),55,h(dL),-dL[3],40,2);
I(W.R_(-.42),35,dL,2);I(W.R_(-.5),15,dL,2);G(W.R_(-1.28),145,11,70);var id=T(0);id[3]=50;S(W.R_(-1.28),149,id,id[3],4);
id=T(300);id[3]=50;S(W.R_(-1.28),155-1,h(id),-id[3],3);var jR=[130,130,10,50];D(W.R_(-1),73,jR,3,2);
var hC=[40,130,70,40];S(W.R_(-1),70,h(hC),-hC[3],35);hC=[40,170,60,50];I(W.R_(-.7),25,hC,4);var hC=[70,110,50,60];
S(W.R_(1.3),30,h(hC),-hC[3],11,3);dC=[0,50,210,80];R(W.R_(-.72),20,dC)};o[1]=function l(){R(W.R_(1),150,[240,70,70,60]);
I(W.R_(1),100,[200,60,60,40],30);var j=[255,255,255,255],M=0,s=0;C(W.R_(1),75,j,j[3],63);I(W.R_(1),12,j);
R(W.R_(1),270,[200,200,200,20],10);for(var g=0;g<10;g++){M+=10+Math.random()*40;s=Math.random()*O(250)+O(80);
var l2=W.R_(1).Qj(M,s);f(l2,[110,110,110,35])}M=5;s=100;for(var g=0;g<12;g++){M+=30;Q(W.R_(1),M,s,[90,90,90,40])}var gm=[150,40,23,100];
D(W.R_(1),70,gm,1,3,3);var iz=[30,100,60,40];R(W.R_(-.9),180,[255,255,255,20]);I(W.R_(-.9),140,iz,15);
var dC=[170,80,25,15];D(W.R_(-.9),120,dC,1,4,4);var dL=[110,240,190,200];R(W.R_(-.6),3,dL);dL[3]=100;
R(W.R_(-.6),7,dL);var cP=[230,120,40,85];R(W.R_(-.73),9,cP);var id=[60,60,190,50];I(W.R_(.3),28,id,6);
id[3]=25;I(W.R_(.34),20,id,3)};o[2]=function aV(){var j=[255,255,255,255],s=0,l2=0;I(W.R_(1),13,j);C(W.R_(1),150,j,j[3],137);
var M=[120,80,35,20];I(W.R_(1.4),260,M,10);for(var g=0;g<40;g++){s+=5+Math.random()*30;l2=Math.random()*O(300);
f(W.R_(1).Qj(s,l2),[110,110,110,20])}var gm=[10,30,255,30];I(W.R_(1),70,gm,50);var iz=[15,90,170,15];
I(W.R_(1.5),60,iz);var dC=[220,220,20,50];I(W.R_(-1.15),8,dC,2);var j=[255,255,255,40];R(W.R_(-1.18),6,j);
R(W.R_(-1.18),4,j);dC=[110,110,10,8];S(W.R_(-1.2),32,h(dC),-dC[3],20,3);var dL=[5,0,16,255];for(var g=0;
g<4;g++){I(W.R_(-1.36),10,dL,3)}var cP=[90,200,150,20],id=cP.slice(0);id[3]*=2;I(W.R_(-1.32),7,id,3);
I(W.R_(-1.36),7,id,3);I(W.R_(-1.4),7,id,3);var j=[230,230,230,100];R(W.R_(-1.36),2,j);j[3]=3;I(W.R_(-.55),10,j);
dC=[120,100,10,18];I(W.R_(-.55),160,dC,8);I(W.R_(-.55),80,dC,4);cP[3]=3;id[3]=6;S(W.R_(-.49),13,h(id),-id[3],13,2);
S(W.R_(-.55),13,h(id),-id[3],13,2);cP[3]=20;I(W.R_(.15),25,cP,3);dC[3]=100;R(W.R_(-.52),3,dC);dC=[200,200,50,40];
I(W.R_(.27),1,dC,4);var jR=[150,40,23,30];S(W.R_(1),80,h(jR),-jR[3],2,1)};return o[B[0]]()};a.bp={};
a.bp.dg=function(z){var J=z.length,lj=z[0].length,p=new Array(lj);for(var g=0;g<lj;g++)p[g]=new Array(J);
for(var g=0;g<lj;g++)for(var n=0;n<J;n++)p[g][n]=z[n][g];return p};a.bp.Br=function(z,J){var p=z.length,lj=z[0].length,n=new Array(p);
for(var g=0;g<p;g++)n[g]=new Array(lj);for(var g=0;g<p;g++)for(var B=0;B<lj;B++)n[g][B]=z[g][B]-J[g][B];
return n};a.bp.add=function(z,J){var p=z.length,lj=z[0].length,n=new Array(p);for(var g=0;g<p;g++)n[g]=new Array(lj);
for(var g=0;g<p;g++)for(var B=0;B<lj;B++)n[g][B]=z[g][B]+J[g][B];return n};a.bp.multiply=function(z,J){var p=z.length,n=z[0].length,lj=J[0].length;
if(n!=J.length)throw"e";var B=new Array(p);for(var g=0;g<p;g++)B[g]=new Array(lj);if((n&1)!=0)for(var g=0;
g<p;g++){var c=z[g],t=B[g];for(var u=0;u<lj;u++){var v=0;for(var A=0;A<n;A++)v+=c[A]*J[A][u];t[u]=v}}else for(var g=0;
g<p;g++){var c=z[g],t=B[g];for(var u=0;u<lj;u++){var v=0;for(var A=0;A<n;A+=2)v+=c[A]*J[A][u]+c[A+1]*J[A+1][u];
t[u]=v}}return B};a.bp.Bl=function(z,J){var p=z.length,lj=z[0].length,n=new Array(p);for(var g=0;g<p;
g++){var B=0;for(var c=0;c<lj;c++)B+=z[g][c]*J[c];n[g]=B}return n};a.bp.ad=function(z,J){var p=[];for(var g=0;
g<z;g++){p.push([]);for(var n=0;n<J;n++)p[g].push(0)}return p};a.bp.aEb=function(z){for(var g=0;g<z.length;
g++)console.log(JSON.stringify(z[g]))};a.bp.aHC=function(z){var J=[];for(var g=0;g<z.length;g++)J.push(z[g].join(","));
return"["+J.join(";")+"]"};a.bp.x7=function(z,J){var p=z.length;for(var n=0;n<p;n++){var B=0,c=Number.NEGATIVE_INFINITY;
for(var g=n;g<p;g++)if(Math.abs(z[g][n])>c){B=g;c=Math.abs(z[g][n])}a.bp.a5g(z,n,B);for(var g=n+1;g<p;
g++){if(z[n][n]==0)return 1;var t=z[g][n]/z[n][n];for(var u=n;u<p+1;u++)z[g][u]-=z[n][u]*t}}for(var g=p-1;
g>=0;g--){if(z[g][g]==0)return 1;var v=z[g][p]/z[g][g];J[g]=v;for(var u=g-1;u>=0;u--){z[u][p]-=z[u][g]*v;
z[u][g]=0}}return 0};a.bp.a5g=function(z,J,p){var n=z[J];z[J]=z[p];z[p]=n};a.bp.a4d=function(z){var J=z.length,p=a.bp.ad(J,J);
for(var g=0;g<J;g++)p[g][g]=z[g];return p};a.bp.a1P=function(z){var J=z.length,p=z[0].length,n=new Array(J);
for(var g=0;g<J;g++){n[g]=0;for(var B=0;B<p;B++)n[g]+=z[g][B];n[g]/=p}return n};a.bp.br=function(z){var J=0;
for(var g=0;g<z.length;g++)J+=z[g]*z[g];return Math.sqrt(J)};a.gr={};a.gr.xx=function(z){var J=~~(z+.5);
return J<0?0:J>255?255:J};a.gr.JZ=function(z,J,p){function n(v){return Math.max(0,Math.min(1,v))}var B=z.o.length;
for(var g=0;g<B;g++){var c=z.o[g],t=z.k[g],u=z.X[g];J.o[g]=n(p[0]*c+p[1]*t+p[2]*u+p[3]);J.k[g]=n(p[4]*c+p[5]*t+p[6]*u+p[7]);
J.X[g]=n(p[8]*c+p[9]*t+p[10]*u+p[11])}};a.gr.atl=function(z,J,p){var n=a.zr(z),B=n==8?255:n==16?65535:1,c=1/B,t=z.length;
function u(X){return Math.max(0,Math.min(1,X))}for(var g=0;g<t;g+=4){var v=z[g]*c,A=z[g+1]*c,$=z[g+2]*c;
J[g]=B*u(p[0]*v+p[1]*A+p[2]*$+p[3]);J[g+1]=B*u(p[4]*v+p[5]*A+p[6]*$+p[7]);J[g+2]=B*u(p[8]*v+p[9]*A+p[10]*$+p[11])}};
a.gr.ay7=function(z){var J=z[0]+z[1]+z[2],p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];if(J==1){var n=z.indexOf(1);
p[n]=p[n+4]=p[n+8]=1}else{p[0]=z[0];p[5]=z[1];p[10]=z[2]}return p};a.gr.Hv=function(z,J,p){return[1,0,0,z,0,1,0,J,0,0,1,p,0,0,0,1]};
a.gr.GP=function(z,J,p){return[z,0,0,0,0,J,0,0,0,0,p,0,0,0,0,1]};a.gr.aGH=function(z){return[z[0],z[1],z[2],z[4],z[5],z[6],z[8],z[9],z[10]]};
a.gr.Eh=function(z){return[z[0],z[1],z[2],0,z[3],z[4],z[5],0,z[6],z[7],z[8],0,0,0,0,1]};a.gr.V9=function(z,J){return[z[0]*J[0]+z[1]*J[1]+z[2]*J[2]+z[3]*J[3],z[4]*J[0]+z[5]*J[1]+z[6]*J[2]+z[7]*J[3],z[8]*J[0]+z[9]*J[1]+z[10]*J[2]+z[11]*J[3],z[12]*J[0]+z[13]*J[1]+z[14]*J[2]+z[15]*J[3]]};
a.gr.dg=function(z){var J=[];J[0]=z[0];J[1]=z[4];J[2]=z[8];J[3]=z[12];J[4]=z[1];J[5]=z[5];J[6]=z[9];
J[7]=z[13];J[8]=z[2];J[9]=z[6];J[10]=z[10];J[11]=z[14];J[12]=z[3];J[13]=z[7];J[14]=z[11];J[15]=z[15];
return J};a.gr.add=function(z,J){var p=z.slice(0);for(var g=0;g<16;g++)p[g]+=J[g];return p};a.gr.multiply=function(z,J){var p=[];
p[0]=z[0]*J[0]+z[1]*J[4]+z[2]*J[8]+z[3]*J[12];p[1]=z[0]*J[1]+z[1]*J[5]+z[2]*J[9]+z[3]*J[13];p[2]=z[0]*J[2]+z[1]*J[6]+z[2]*J[10]+z[3]*J[14];
p[3]=z[0]*J[3]+z[1]*J[7]+z[2]*J[11]+z[3]*J[15];p[4]=z[4]*J[0]+z[5]*J[4]+z[6]*J[8]+z[7]*J[12];p[5]=z[4]*J[1]+z[5]*J[5]+z[6]*J[9]+z[7]*J[13];
p[6]=z[4]*J[2]+z[5]*J[6]+z[6]*J[10]+z[7]*J[14];p[7]=z[4]*J[3]+z[5]*J[7]+z[6]*J[11]+z[7]*J[15];p[8]=z[8]*J[0]+z[9]*J[4]+z[10]*J[8]+z[11]*J[12];
p[9]=z[8]*J[1]+z[9]*J[5]+z[10]*J[9]+z[11]*J[13];p[10]=z[8]*J[2]+z[9]*J[6]+z[10]*J[10]+z[11]*J[14];p[11]=z[8]*J[3]+z[9]*J[7]+z[10]*J[11]+z[11]*J[15];
p[12]=z[12]*J[0]+z[13]*J[4]+z[14]*J[8]+z[15]*J[12];p[13]=z[12]*J[1]+z[13]*J[5]+z[14]*J[9]+z[15]*J[13];
p[14]=z[12]*J[2]+z[13]*J[6]+z[14]*J[10]+z[15]*J[14];p[15]=z[12]*J[3]+z[13]*J[7]+z[14]*J[11]+z[15]*J[15];
return p};a.gr.oU=function(z){var J=[];J[0]=z[5]*z[10]*z[15]-z[5]*z[14]*z[11]-z[6]*z[9]*z[15]+z[6]*z[13]*z[11]+z[7]*z[9]*z[14]-z[7]*z[13]*z[10];
J[1]=-z[1]*z[10]*z[15]+z[1]*z[14]*z[11]+z[2]*z[9]*z[15]-z[2]*z[13]*z[11]-z[3]*z[9]*z[14]+z[3]*z[13]*z[10];
J[2]=z[1]*z[6]*z[15]-z[1]*z[14]*z[7]-z[2]*z[5]*z[15]+z[2]*z[13]*z[7]+z[3]*z[5]*z[14]-z[3]*z[13]*z[6];
J[3]=-z[1]*z[6]*z[11]+z[1]*z[10]*z[7]+z[2]*z[5]*z[11]-z[2]*z[9]*z[7]-z[3]*z[5]*z[10]+z[3]*z[9]*z[6];
J[4]=-z[4]*z[10]*z[15]+z[4]*z[14]*z[11]+z[6]*z[8]*z[15]-z[6]*z[12]*z[11]-z[7]*z[8]*z[14]+z[7]*z[12]*z[10];
J[5]=z[0]*z[10]*z[15]-z[0]*z[14]*z[11]-z[2]*z[8]*z[15]+z[2]*z[12]*z[11]+z[3]*z[8]*z[14]-z[3]*z[12]*z[10];
J[6]=-z[0]*z[6]*z[15]+z[0]*z[14]*z[7]+z[2]*z[4]*z[15]-z[2]*z[12]*z[7]-z[3]*z[4]*z[14]+z[3]*z[12]*z[6];
J[7]=z[0]*z[6]*z[11]-z[0]*z[10]*z[7]-z[2]*z[4]*z[11]+z[2]*z[8]*z[7]+z[3]*z[4]*z[10]-z[3]*z[8]*z[6];J[8]=z[4]*z[9]*z[15]-z[4]*z[13]*z[11]-z[5]*z[8]*z[15]+z[5]*z[12]*z[11]+z[7]*z[8]*z[13]-z[7]*z[12]*z[9];
J[9]=-z[0]*z[9]*z[15]+z[0]*z[13]*z[11]+z[1]*z[8]*z[15]-z[1]*z[12]*z[11]-z[3]*z[8]*z[13]+z[3]*z[12]*z[9];
J[10]=z[0]*z[5]*z[15]-z[0]*z[13]*z[7]-z[1]*z[4]*z[15]+z[1]*z[12]*z[7]+z[3]*z[4]*z[13]-z[3]*z[12]*z[5];
J[11]=-z[0]*z[5]*z[11]+z[0]*z[9]*z[7]+z[1]*z[4]*z[11]-z[1]*z[8]*z[7]-z[3]*z[4]*z[9]+z[3]*z[8]*z[5];J[12]=-z[4]*z[9]*z[14]+z[4]*z[13]*z[10]+z[5]*z[8]*z[14]-z[5]*z[12]*z[10]-z[6]*z[8]*z[13]+z[6]*z[12]*z[9];
J[13]=z[0]*z[9]*z[14]-z[0]*z[13]*z[10]-z[1]*z[8]*z[14]+z[1]*z[12]*z[10]+z[2]*z[8]*z[13]-z[2]*z[12]*z[9];
J[14]=-z[0]*z[5]*z[14]+z[0]*z[13]*z[6]+z[1]*z[4]*z[14]-z[1]*z[12]*z[6]-z[2]*z[4]*z[13]+z[2]*z[12]*z[5];
J[15]=z[0]*z[5]*z[10]-z[0]*z[9]*z[6]-z[1]*z[4]*z[10]+z[1]*z[8]*z[6]+z[2]*z[4]*z[9]-z[2]*z[8]*z[5];var p=z[0]*J[0]+z[1]*J[4]+z[2]*J[8]+z[3]*J[12];
for(var g=0;g<16;g++)J[g]/=p;return J};a.gr.atp=function(z){var J=[],p=z[5]*z[10]*z[15]-z[5]*z[14]*z[11]-z[6]*z[9]*z[15]+z[6]*z[13]*z[11]+z[7]*z[9]*z[14]-z[7]*z[13]*z[10],n=-z[4]*z[10]*z[15]+z[4]*z[14]*z[11]+z[6]*z[8]*z[15]-z[6]*z[12]*z[11]-z[7]*z[8]*z[14]+z[7]*z[12]*z[10],B=z[4]*z[9]*z[15]-z[4]*z[13]*z[11]-z[5]*z[8]*z[15]+z[5]*z[12]*z[11]+z[7]*z[8]*z[13]-z[7]*z[12]*z[9],c=-z[4]*z[9]*z[14]+z[4]*z[13]*z[10]+z[5]*z[8]*z[14]-z[5]*z[12]*z[10]-z[6]*z[8]*z[13]+z[6]*z[12]*z[9];
return z[0]*p+z[1]*n+z[2]*B+z[3]*c};a.gr.cW=function(z,J,p,n){var B=Math.sin(n),c=Math.cos(n),t=1/Math.sqrt(z*z+J*J+p*p);
z*=t;J*=t;p*=t;return a.gr.Eh([z*z*(1-c)+c,z*J*(1-c)-p*B,z*p*(1-c)+J*B,z*J*(1-c)+p*B,J*J*(1-c)+c,J*p*(1-c)-z*B,z*p*(1-c)-J*B,J*p*(1-c)+z*B,p*p*(1-c)+c])};
a.gr.uW=a.gr.Eh([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
a.gr.aD8=a.gr.Eh([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
a.gr.ab4=a.gr.Eh([1.3459433,-.2556075,-.0511118,-.5445989,1.5081673,.0205351,0,0,1.2118128]);a.gr.aEV=a.gr.Eh([2.1861968,-.8165993,-.3530805,-.8443876,1.7943237,.024049,.0479222,-.1018347,1.2792565]);
a.gr.aiq=a.gr.oU(a.gr.uW);a.df={};a.df.YT=new Uint32Array(1);a.df.a37=function(z,J,p,n,B,c){var t=new Uint32Array(z),u=0,v=a.df.YT;
if(v.length<J*4)a.df.YT=v=new Uint32Array(J*4);var A=new Float64Array(v.buffer);for(var g=0;g<J;g+=2){var $=B[g],X=B[g+1],U=c[g],w=c[g+1];
v[u]=X;A[u+2>>1]=U;v[u+1]=t[$];t[$]=u+1;u+=4;v[u]=$;A[u+2>>1]=w;v[u+1]=t[X];t[X]=u+1;u+=4}return{cZ:v,a6q:A,aL7:t}};
a.df.x7=function(z,J,p,n,B,c,t){var u=1,v=a.df.a37(z,J,p,n,B,c),A=v.cZ,$=v.a6q,X=v.aL7,U=new Uint32Array(z),w=new a.df.WV(z),k=1,_=0;
w.push(p);w.push(n);var P=new a.df.WV(z),T=new Uint8Array(z),Z=new Uint32Array(z);T[p]=1;T[n]=2;var i=new Uint32Array(z),V=new Uint32Array(z);
V[p]=V[n]=0;i[p]=i[n]=1;while(!0){var y=-1,m=0,I=1e30;while(!w.AX()&&y==-1){var E=w.top(),F=T[E],d=X[E]-1;
while(d!=-1){var x=A[d],f=T[x],Q=d^F-1<<2;if($[Q+2>>1]!=0){if(f==0){a.df.q2(E,d,x,T,Z,V,i);w.push(x)}else if(f==F&&i[x]<=i[E]&&V[x]>V[E])a.df.q2(E,d,x,T,Z,V,i);
else if(f!=F){y=Q}}d=A[d+1]-1}if(y!=-1)break;w.pop()}if(y==-1){break}k++;var H=y;while(H!=-1){U[m]=H;
m++;H=Z[A[H^4]]-1}var S=m>>1;for(var g=0;g<S;g++){var R=U[g];U[g]=U[m-g-1];U[m-g-1]=R}H=Z[A[y]]-1;while(H!=-1){U[m]=H^4;
m++;H=Z[A[H^4]]-1}for(var g=0;g<m;g++)I=Math.min(I,$[U[g]+2>>1]);_+=I;if(_>=t)return{mA:null,Fn:_};for(var g=0;
g<m;g++){var D=U[g],G=D^4,E=A[G],x=A[D];$[D+2>>1]-=I;$[G+2>>1]+=I;if($[D+2>>1]==0&&T[E]==T[x]){if(T[E]==1){Z[x]=0;
P.push(x)}if(T[E]==2){Z[E]=0;P.push(E)}}}while(!P.AX()){var E=P.pop(),F=T[E],d=X[E]-1,C=F==1?4:0,O=0,Y=0,h=1e9;
while(d!=-1){var x=A[d],r=d^4,Q=d^C;if(T[x]==F&&$[Q+2>>1]>0&&a.df.awI(x,p,n,Z,A,k,i,V)+1<h){O=x;Y=r;
h=V[x]+1}d=A[d+1]-1}if(Y!=0){a.df.q2(O,Y,E,T,Z,V,i);continue}d=X[E]-1;while(d!=-1){var x=A[d],Q=d^C;
if(T[x]==F){if($[Q+2>>1]>0){w.push(x)}if(Z[x]==d+1){Z[x]=0;P.push(x)}}d=A[d+1]-1}T[E]=0;w.remove(E)}}var W=[];
for(var g=0;g<J;g+=2){var E=B[g],x=B[g+1];if(T[E]==1&&T[x]!=1){W.push(g>>1)}if(T[x]==1&&T[E]!=1){W.push(J+g>>1)}}return{mA:W,Fn:_}};
a.df.q2=function(z,J,p,n,B,c,t){n[p]=n[z];B[p]=J+1;c[p]=c[z]+1;t[p]=t[z]};a.df.awI=function(z,J,p,n,B,c,t,u){var v=z,A=n[z]-1,$=0;
while(A!=-1&&t[z]!=c){z=B[A^4];A=n[z]-1;$++}if(A==-1&&z!=J&&z!=p)return 1e9;var X=u[z]+$;$=0;A=n[v]-1;
while(v!=z){u[v]=X-$;$++;t[v]=c;v=B[A^4];A=n[v]-1}return X};a.df.az8=function(z,J,p,n,B,c){var t=a.df.a37(z,J,p,n,B,c),u=t.cZ,v=t.a6q,A=t.aL7,$=0,X=0,U=new Uint32Array(z*2),w=new a.df.af_(z),P=0;
while(!0){w.reset();w.push(p);for(var g=0;g<z;g++)U[g<<1]=0;while(!w.AX()){var k=w.pop(),T=A[k]-1;while(T!=-1){P=u[T];
if(U[P<<1]==0&&v[T+2>>1]>0&&P!=p){U[P<<1]=k+1;U[(P<<1)+1]=T;w.push(P)}T=u[T+1]-1}if(U[n<<1]!=0){break}}if(U[n<<1]==0){break}var Z=1e30;
P=n;while(!0){var i=U[P<<1]-1;if(i==-1)break;var V=U[(P<<1)+1];Z=Math.min(Z,v[V+2>>1]);P=i}P=n;while(!0){var i=U[P<<1]-1;
if(i==-1)break;var V=U[(P<<1)+1],_=V^4;v[V+2>>1]-=Z;v[_+2>>1]+=Z;P=i}$+=Z}var y=[];for(var g=0;g<J;g+=2){var i=B[g],P=B[g+1];
if((U[i<<1]!=0||i==p)&&U[P<<1]==0&&P!=p){y.push(g>>1)}if((U[P<<1]!=0||P==p)&&U[i<<1]==0&&i!=p){y.push(J+g>>1)}}return{mA:y,Fn:$}};
a.df.af_=function(z){z|=z>>1;z|=z>>2;z|=z>>4;z|=z>>8;z|=z>>16;this.PX=new Uint32Array(z+1);this.ws=z;
this.AN=0;this.yJ=0};a.df.af_.prototype={push:function(z){var J=this.yJ;this.PX[J]=z;this.yJ=J+1&this.ws},pop:function(){var z=this.AN,J=this.PX[z];
this.AN=z+1&this.ws;return J},AX:function(){return this.AN==this.yJ},reset:function(){this.AN=0;this.yJ=0}};
a.df.WV=function(z){z|=z>>1;z|=z>>2;z|=z>>4;z|=z>>8;z|=z>>16;this.PX=new Uint32Array(z+1);this.h3=new Uint32Array(z+1);
this.ws=z;this.AN=0;this.yJ=0};a.df.WV.prototype={top:function(){return this.PX[this.AN]},aG_:function(){return this.PX[this.yJ]},push:function(z){if(this.h3[z]!=0)return;
this.h3[z]=this.yJ+1;var J=this.yJ;this.PX[J]=z;this.yJ=J+1&this.ws},pop:function(){var z=this.AN,J=this.PX[z];
this.h3[J]=0;this.AN=z+1&this.ws;return J},AX:function(){return this.AN==this.yJ},remove:function(z){var J=this.h3[z]-1;
if(J==-1)return;this.h3[z]=0;if(J==this.AN){this.pop();return}var p=this.pop();this.PX[J]=p;this.h3[p]=J+1},Ee:function(g){return g+this.ws+1&this.ws}};
a.df.aGe=function(z,J,p){var n=a.df.ed(z,J,p);if(J<n-1)a.df.aGe(z,J,n-1);if(n<p)a.df.aGe(z,n,p)};a.df.ed=function(z,J,p){var n=z[J+p>>>1];
while(J<=p){while(z[J]<n)J++;while(z[p]>n)p--;if(J<=p){a.df.MC(z,J,p);J++;p--}}return J};a.df.MC=function(z,J,p){var n=z[J];
z[J]=z[p];z[p]=n};a._J=function(){var z,J;function p(t,u,lj){var v=lj-1,A=u+lj;z[lj-2]=t[A-2];J[0]=t[A-1];
var $=Math.max;for(var g=1;g<v;g++){z[lj-2-g]=$(z[lj-1-g],t[A-2-g]);J[g]=$(J[g-1],t[A-1+g])}for(var g=0;
g<v;g++)t[u+g]=$(z[g],J[g])}function n(t,u,lj){var v=lj-1,A=Math.ceil(u/v)*v;for(var $=0;$<A;$+=v)p(t,$,lj)}function B(t,u,v,A,lj,$){u.set(t);
if(lj==1)return;z=a.j(lj-1);J=a.j(lj-1);var X=lj>>>1,U=a.j(Math.ceil(Math.max(v,A)/(lj-1))*(lj-1)+(lj-2)),w=new Uint8Array(U.buffer,0,v);
if(!$)a.oU(u);for(var P=0;P<A;P++){U.fill(0);U.set(new Uint8Array(u.buffer,P*v,v),X);n(U,v,lj);u.set(w,P*v)}for(var k=0;
k<v;k++){U.fill(0);for(var P=0;P<A;P++)U[P+X]=u[P*v+k];n(U,A,lj);for(var P=0;P<A;P++)u[P*v+k]=U[P]}if(!$)a.oU(u)}function c(t,u,v,A,lj,$){var X=a.j(v*A);
for(var U=0;U<4;U++){a.Tm(t,X,U);if(U==3)a.oU(X);B(X,X,v,A,lj,$);if(U==3)a.oU(X);a.DE(X,u,U)}}return{Oj:B,aJQ:c}}();
a.R$={};a.R$.a6y=function(z){for(var g=0;g<z.length;g++)a.R$.oo(z,g)};a.R$.oo=function(z,g){z[g].v.keyShapeInvalidated={t:"bool",v:!0}};
a.R$.aAx=function(z){for(var g=0;g<z.length;g++)z[g].v.keyOriginIndex.v=g};a.R$.Q7=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
a.R$.fd=function(z,J,p){z=z.v;var n={Rctn:2,Ln:4,Elps:5},B=n[z.classID],c=z.topLeft?a.R$.azJ(z):null,t=null,u=0,v=[!1,!1,0,0,0];
if(B==4){var A=z.Strt.v,$=z.End.v;t=[A.Hrzn.v.val,A.Vrtc.v.val,$.Hrzn.v.val,$.Vrtc.v.val];u=z.Wdth.v.val;
for(var g=0;g<2;g++){var X=z[g==0?"StrA":"EndA"];if(X==null)continue;X=X.v;v[g]=X.On.v;v[2]=X.Wdth.v;
v[3]=X.Lngt.v;v[4]=X.Cncv.v.val}}if(B==null)return null;return a.R$.rj(B,B==4?null:a.R$.AF(z,J,p),c,t,u,v)};
a.R$.TO=function(z,J,p,n,B,c,t){var u={classID:z,unitValueQuadVersion:{t:"long",v:1}};if(J)a.R$._t(u,["Left","Top","Rght","Btom"],J);
if(p)a.R$._t(u,["topLeft","topRight","bottomRight","bottomLeft"],p);if(z=="Ln"){u.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:n[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:n[1]}}}},u.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:n[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:n[3]}}}},u.Wdth={t:"UntF",v:{type:"#Pxl",val:B}};
for(var g=0;g<2;g++){var v=g==0?"StrA":"EndA";u[v]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:t[g]},Wdth:{t:"doub",v:t[2]},Lngt:{t:"doub",v:t[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:t[4]}}}}}}if(c)u.Nm={t:"TEXT",v:c};
return{t:"Objc",v:u}};a.R$.a6U=function(z,J){var p=a.R$.av(z),n=z[2]-z[0],B=z[3]-z[1],c=Math.sqrt(n*n+B*B),t=[0,0,c,0,c,J,0,J],u=new fA;
u.rotate(-p);u.translate(z[0],z[1]);a.b.h(t,u,t);return t};a.R$.rj=function(z,J,p,n,B,c){var t=a.R$.Q7(),u=t.v,v;
delete u.keyShapeInvalidated;u.keyOriginType={t:"long",v:z};u.keyOriginResolution={t:"doub",v:75};if(z==4){u.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:n[0]},Vrtc:{t:"doub",v:n[1]}}};
u.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:n[2]},Vrtc:{t:"doub",v:n[3]}}};v=a.R$.a6U(n,B);
var A=a.b.yq(v);J=[A.x,A.y,A.x+A.r,A.y+A.$];u.keyOriginLineWeight={t:"doub",v:B};if(c)a.R$.a61(u,c)}else v=[J[0],J[1],J[2],J[1],J[2],J[3],J[0],J[3]];
u.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};a.R$.Lq(u,"keyOriginBoxCorners",v);var $={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
u.keyOriginShapeBBox={t:"Objc",v:$};a.R$.a5C(u,J);if(p!=null){var X={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
u.keyOriginRRectRadii={t:"Objc",v:X};a.R$.rT(u,p)}return t};a.R$.h=function(z,J,p,n){var B=a.F.aAL(J),c=a.F.aqZ(J),t=a.F.Q3(J),u=t.k6*t.JH-t.X*t.GQ;
for(var g=0;g<z.length;g++){var v=z[g].v;if(!a.R$.T9(v))continue;if(p.length!=0&&p.indexOf(g)==-1)continue;
var A=v.keyOriginType.v,$=J;if(u<0&&A==2){var X=a.R$.OQ(v),U=0;U=X[0];X[0]=X[1];X[1]=U;U=X[2];X[2]=X[3];
X[3]=U;a.R$.rT(v,X);var w=a.R$.jO(v,"keyOriginBoxCorners"),P=a.b.yq(w),k=P.x+P.r/2,T=new fA;T.translate(-k,0);
T.scale(-1,1);T.translate(k,0);$=a.F.iE($,a.F.R8(T))}var Z=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var i=0;i<Z.length;i++){var w=a.R$.jO(v,Z[i]);if(w==null)continue;a.F.h($,w);a.R$.Lq(v,Z[i],w);var P=a.b.yq(w);
a.R$.a5C(v,[P.x,P.y,P.x+P.r,P.y+P.$]);var V=new fA;V.rotate(-a.R$.av(w));var _={classID:"Trnf"};v.Trnf={t:"Objc",v:_};
var y="xx xy yx yy tx ty".split(" "),E=[V.k6,V.X,V.GQ,V.JH,V.Rf,V.Sm];for(var F=0;F<6;F++)_[y[F]]={t:"doub",v:E[F]}}if(A==2&&n){var X=a.R$.OQ(v);
for(var i=0;i<4;i++)X[i]=Math.round(X[i]*J[0]);a.R$.rT(v,X)}var w=a.R$.jO(v,"keyOriginBoxCorners"),d=w[2]-w[0],x=w[3]-w[1],f=Math.sqrt(d*d+x*x);
d/=f;x/=f;var Q=w[6]-w[0],m=w[7]-w[1],H=Math.sqrt(Q*Q+m*m);Q/=H;m/=H;if(A==4){var S=t.Nz();v.keyOriginLineWeight.v*=S;
var R=a.R$.ND(v);a.F.h(J,R);a.R$.acb(v,R);var I=a.R$.aCz(v);I[2]*=S;I[3]*=S;a.R$.a61(v,I)}var D=d*Q+x*m;
if(Math.abs(D)>.001){a.R$.oo(z,g)}}};a.R$.T9=function(z){var J=z.keyShapeInvalidated,p=z.keyOriginType;
return(J==null||!J.v)&&p!=null&&p.v!=9};a.R$.aEe=function(z){var J=z.keyOriginType.v,p=a.R$.a4(z),n=p[0],B=p[1],c=p[2],t=p[3],u=new fA,v=z.keyOriginPolyCornerRadius,w;
v=v?v.v:0;var A=a.R$.jO(z,J==7||J==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),$=a.R$.R5(A),X=$[2],U=$[3];
n=-X/2;c=X/2;B=-U/2;t=U/2;u.rotate(-a.R$.av(A));u.Rf=$[0];u.Sm=$[1];if(J==1||J==2){var P=J==1?0:a.R$.OQ(z);
w=a.z.dZ.Rect(n,B,c-n,t-B,P)}else if(J==4){var k=a.R$.ND(z),T=a.R$.aCz(z);u=new fA;if(T==null)w=a.z.dZ.kY(k[0],k[1],k[2],k[3],z.keyOriginLineWeight.v);
else w=a.z.dZ.Pi(k[0],k[1],k[2],k[3],z.keyOriginLineWeight.v,T)}else if(J==5){w=a.z.dZ.xJ(n,B,c-n,t-B)}else if(J==7||J==8){var Z=J==7?3:z.keyOriginPolySides.v;
w=a.z.dZ.SX(0,0,100,Math.PI/Z-Math.PI/2,Z,v,c,t)}a.z.Gn(w,u);return w};a.R$._n=function(z,J){var p=J.u;
for(var g=0;g<z.length;g++){var n=z[g].v;if(!a.R$.T9(n))continue;var B=a.R$.aEe(n),c=a.z.Qq(p,g),t=a.z.gN(p,g);
B[2].j1=p[c].j1;var u=p;p=p.slice(0,c);for(var v=2;v<B.length;v++)p.push(B[v]);for(var v=c+t;v<u.length;
v++)p.push(u[v])}J.u=p;J.Kk=!0};a.R$.Q$=function(z){var J=1e9,p=-J,n=1e9,B=-n,c=[],t=z.Q8(),u=t[0],v=t[1];
for(var A=0;A<v.length;A++){var $=u[v[A]],X=$.add.vogk;if(X==null)continue;var U=$.add.vmsk.Y;for(var w=0;
w<X.length;w++){if(v.length==1&&U.length!=0&&U.indexOf(w)==-1)continue;var P=X[w].v,k=a.R$.aaX(P);if(k){c.push(k);
var T=k[1];J=Math.min(J,T[0]);n=Math.min(n,T[1]);p=Math.max(p,T[2]);B=Math.max(B,T[3])}}}return c.length==1?c[0]:[0,J<p?[J,n,p,B]:null,0]};
a.R$.aaX=function(z){if(!a.R$.T9(z))return;var J=z.keyOriginType.v,n=0;if(J==9)return;var p=a.R$.a4(z),B=a.R$.jO(z,"keyOriginBoxCorners");
if(B){var c=a.R$.R5(B),t=c[2],u=c[3];p[2]=p[0]+t;p[3]=p[1]+u;n=a.R$.av(B)}var v=[J,p,n],A=z.keyOriginPolyCornerRadius;
if(J==2)v.push(a.R$.OQ(z));if(J==7||J==8)v.push(A?A.v:0);if(J==8)v.push(z.keyOriginPolySides.v);return v};
a.R$.auM=function(z,J,p){for(var g=0;g<z.length;g++){if(J.indexOf(g)==-1)continue;var n=z[g].v,B=a.R$.aaX(n);
if(B){var c=B[0],t=a.R$.jO(n,c==7||c==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),u=a.R$.R5(t);
console.log(c);if(c==2){var v=[],A=[];for(var $=0;$<4;$++){var X=B[2]+($+.5)*Math.PI/2,U=Math.max(B[3][$]*Math.sqrt(2),20/p.XP),w=t[2*$]+Math.cos(X)*U,P=t[2*$+1]+Math.sin(X)*U;
A.push(w,P);v.push(t[2*$],t[2*$+1])}return[g,A,v,t,u.slice(0,2)]}if(c==5){return[g,null,null,t,u.slice(0,2)]}if(c==8){var X=B[2]-Math.PI/2,k=u[3]*.5,U=k-Math.max(B[3],20/p.XP),T=Math.sin(X),Z=Math.cos(X);
return[g,[u[0]+Z*U,u[1]+T*U],[u[0]+Z*k,u[1]+T*k],t,u.slice(0,2)]}}}return null};a.R$.av=function(z){var J=z[2]-z[0],p=z[3]-z[1];
return-Math.atan2(-p,J)};a.R$.aAg=function(z){var J=a.R$.a4(z);return a.R$.av(J)};a.R$.ax3=function(z,J,p){var n=a.R$.Q$(z),B=-1;
for(var g=0;g<J.length;g++)if(JSON.stringify(J[g])!=JSON.stringify(n[g]))B=g;if(B==1||B==2){}var c=z.Q8(),t=c[0],u=c[1];
for(var v=0;v<u.length;v++){var A=t[u[v]],$=A.add.vogk;if($==null)continue;var X=A.add.vmsk.Y;for(var U=0;
U<$.length;U++){var w=$[U].v;if(!a.R$.T9(w))continue;if(u.length==1&&X.length!=0&&X.indexOf(U)==-1)continue;
var P=w.keyOriginType.v;if(B==1||B==2){a.R$.h($,a.R$.ayT(B,w,n,J),X,!1);break}if(B==3)if(P==2)a.R$.rT(w,J[3]);
else w.keyOriginPolyCornerRadius={t:"doub",v:J[3]};if(B==4)w.keyOriginPolySides.v=J[4];if(p)a.R$.oo($,U)}}};
a.R$.ayT=function(z,J,p,n){var B=n[1],c=p[1],t=(B[2]-B[0])/(c[2]-c[0]),u=(B[3]-B[1])/(c[3]-c[1]),v=new fA;
if(z==1){if(Math.max(Math.abs(t-1),Math.abs(u-1))>1e-8){var A=B[0],$=B[1];if(n[0]!=0){var X=a.R$.jO(J,"keyOriginBoxCorners");
A=X[0];$=X[1]}v.translate(-A,-$);v.rotate(n[2]);v.scale(t,u);v.rotate(-n[2]);v.translate(A,$)}else{v.translate(-c[0],-c[1]);
v.translate(B[0],B[1])}}else{if(n[0]!=0)B=a.R$.a4(J);var A=(B[0]+B[2])/2,$=(B[1]+B[3])/2;v.translate(-A,-$);
if(p[0]!=0)v.rotate(p[2]);v.rotate(-n[2]);v.translate(A,$)}return a.F.R8(v)};a.R$.R5=function(z){var J=z[0],p=z[1],n=z[2],B=z[3],c=z[4],t=z[5],u=z[6],v=z[7],A=n-J,$=B-p,X=Math.sqrt(A*A+$*$),A=c-n,$=t-B,U=Math.sqrt(A*A+$*$);
return[(J+c)/2,(p+t)/2,X,U]};a.R$.jO=function(z,J){var p=z[J];if(p==null)return null;var n=[];p=p.v;
for(var B=0;B<4;B++){var c=p["rectangleCorner"+["A","B","C","D"][B]].v;n.push(c.Hrzn.v,c.Vrtc.v)}return n};
a.R$.Lq=function(z,J,p){var n=z[J];if(n==null)return null;n=n.v;for(var B=0;B<4;B++){var c="rectangleCorner"+["A","B","C","D"][B];
n[c]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:p[2*B]},Vrtc:{t:"doub",v:p[2*B+1]}}}}};a.R$.a4=function(z){return a.R$.AF(z.keyOriginShapeBBox.v)};
a.R$.AF=function(z,J,p){var n=z.classID,B=z.Left.v,c=z.Rght.v,t=z.Top.v,u=z.Btom.v,v=B.type;if(B.val!=null){B=B.val;
c=c.val;t=t.val;u=u.val}if(v=="#Prc"&&J){B*=J/100;c*=J/100;t*=p/100;u*=p/100}return[B,t,c,u]};a.R$.R2=function(z,J,p){var n=a.R$.AF(z,J,p);
return new fw(n[0],n[1],n[2]-n[0],n[3]-n[1])};a.R$.a5C=function(z,J){a.R$._t(z.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],J)};
a.R$.OQ=function(z){var J=z.keyOriginRRectRadii;if(J==null)return[0,0,0,0];return a.R$.azJ(J.v)};a.R$.azJ=function(z){var J=[],p=["topLeft","topRight","bottomRight","bottomLeft"];
for(var n=0;n<4;n++)J.push(z[p[n]].v.val);return J};a.R$.rT=function(z,J){a.R$._t(z.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],J)};
a.R$._t=function(z,J,p){var n=z.classID;if(n=="unitRect"||n=="radii"||n=="Rctn"){for(var g=0;g<4;g++)if(p[g]!=null)z[J[g]]={t:"UntF",v:{type:"#Pxl",val:p[g]}}}else{for(var g=0;
g<4;g++)if(p[g]!=null)z[J[g]]={t:"doub",v:p[g]}}};a.R$.ND=function(z){var J=z.keyOriginLineStart.v,p=z.keyOriginLineEnd.v;
return[J.Hrzn.v,J.Vrtc.v,p.Hrzn.v,p.Vrtc.v]};a.R$.acb=function(z,J){var p=z.keyOriginLineStart.v,n=z.keyOriginLineEnd.v;
p.Hrzn.v=J[0];p.Vrtc.v=J[1];n.Hrzn.v=J[2];n.Vrtc.v=J[3]};a.R$.aCz=function(z){var J=[],p=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var g=0;g<5;g++){var n=z["keyOriginLineArr"+p[g]];if(n==null)return null;J[g]=n.v}return J};a.R$.a61=function(z,J){z.keyOriginLineArrowSt={t:"bool",v:J[0]};
z.keyOriginLineArrowEnd={t:"bool",v:J[1]};z.keyOriginLineArrWdth={t:"doub",v:J[2]};z.keyOriginLineArrLngth={t:"doub",v:J[3]};
z.keyOriginLineArrConc={t:"long",v:J[4]}};a.R$.aFG=function(z){function J(_,y){return Math.abs(_-y)<.5}function p(_,y){return J(_.x,y.x)&&J(_.y,y.y)}function n(_,y,E,F,d,x,f){for(var g=0;
g<f;g++){var Q=_[y+(E+g)%f],m=F[d+(x+g)%f];if(!(p(Q.cy,m.cy)&&p(Q.FV,m.FV)&&p(Q.M3,m.M3)))return!1}return!0}var B=[];
for(var c=0;c<z.length;c++){var t=z[c],v=null;if(t.I!=0&&t.I!=3||t.j1==-1)continue;var u=c;if(t.length==4||t.length==8){var A=a.z.aLj(z.slice(0,2).concat(z.slice(u,u+t.length+1)));
u=2;if(t.length==4){var $=a.z.oO(A,u+1,4),X=$.x,U=$.y,w=X+$.r,P=U+$.$;if($.C()>4){if(a.z.Jr(A.slice(u-2,u+5)))v=a.R$.rj(2,[X,U,w,P],[0,0,0,0]);
else{var k=-1;for(var g=0;g<4;g++)if(J(A[u+1+g].cy.y,P))k=g;if(k!=-1){var T=a.z.dZ.xJ(X,U,w-X,P-U),Z=n(A,u+1,k,T,3,0,4);
if(Z)v=a.R$.rj(5,[X,U,w,P])}}}}if(t.length==8){var $=a.z.oO(A,u+1,8),X=$.x,U=$.y,w=X+$.r,P=U+$.$;if($.C()>4){var k=-1;
for(var g=0;g<8;g++)if(J(A[u+1+(g+1&7)].cy.y,U)&&J(A[u+1+(g+2&7)].cy.y,U))k=g;if(k!=-1){var i=Math.abs(A[u+1+k].cy.y-U),V=[i,i,i,i];
if(i>.5){var T=a.z.dZ.Rect(X,U,w-X,P-U,V),Z=n(A,u+1,k,T,3,0,8);if(Z)v=a.R$.rj(2,[X,U,w,P],V)}}}}if(z[c+t.length+1]&&z[c+t.length+1].j1==-1)v=0}B.push(v?v:a.R$.Q7())}return B};
a.b={};a.b.P=function(z){return{Ao:z.Ao.slice(0),L:z.L.slice(0)}};a.b.aIH=function(z){if(z.length<6)return!0;
var J=z.length-4;for(var g=0;g<J;g+=2)if(!a.b.dk(z[g],z[g+1],z[g+2],z[g+3],z[g+4],z[g+5]))return!1;if(!a.b.dk(z[J],z[J+1],z[J+2],z[J+3],z[0],z[1]))return!1;
if(!a.b.dk(z[J+2],z[J+3],z[0],z[1],z[2],z[3]))return!1;return!0};a.b.dk=function(z,J,p,n,B,c){return(J-n)*(B-p)+(p-z)*(c-n)>=0};
a.b.al_=function(z,J){function p(h,r,d){var E=r[0]-h[0],F=r[1]-h[1],W=a.b.HR(d[0],d[1],-F,E,h[0],h[1],E,F);
return[d[0]-F*W,d[1]+E*W]}function n(h,r){var E=h[0]-r[0],F=h[1]-r[1];return Math.sqrt(E*E+F*F)}z=a.b.aIU(z);
var B=[0,0,0,0],c=z.length,t=[0,0,0,0],u=Math.PI/2,v=Math.atan2(-1,0),w=1e9,P,k=0;function A(){for(var g=0;
g<4;g++){var Z=B[g],i=(Z+2)%c,h=z[i]-z[Z],r=z[i+1]-z[Z+1],W=Math.atan2(r,h),N=v+g*u;if(W<N)N-=2*Math.PI;
t[g]=W-N}}for(var g=0;g<c;g+=2){var $=z[g],X=z[g+1];if($<z[B[0]])B[0]=g;if(X<z[B[1]+1])B[1]=g;if($>z[B[2]])B[2]=g;
if(X>z[B[3]+1])B[3]=g}A();var U=a.b.yq(z).C();while(k<c/2){var T=0;for(var g=0;g<4;g++)if(t[g]<t[T])T=g;
var Z=B[T],i=(Z+2)%c,V=B[T+2&3],_=B[T+3&3],y=B[T+1&3],$=z[Z],E=z[i]-$,X=z[Z+1],F=z[i+1]-X,d=z.slice(Z,Z+2),x=z.slice(i,i+2),f=z.slice(V,V+2),Q=z.slice(_,_+2),m=z.slice(y,y+2),H=p(d,x,f),S=p(Q,[Q[0]-F,Q[1]+E],m),R=n(H,f),I=n(S,m);
if(I*R<w){w=I*R;var D=p(d,x,Q);P=[D[0],D[1],E,F,I,R]}v+=t[T];B[T]=i;A();k++}var $=P[0],X=P[1],E=P[2],F=P[3],I=P[4],R=P[5],G=Math.sqrt(E*E+F*F);
E/=G;F/=G;var C=$+E*I,O=X+F*I,Y=[$,X,C,O,C-F*R,O+E*R,$-F*R,X+E*R];while(Y[0]>Y[2]||Math.abs((Y[3]-Y[1])/(Y[2]-Y[0]))>1){Y.push(Y.shift(),Y.shift())}return Y};
a.b.aIU=function(z){var J=0;for(var g=0;g<z.length;g+=2)if(z[g]<z[J])J=g;var p=[J];while(!0){var n=p[p.length-1],B=z[n],c=z[n+1],t=p.length==1?p[0]:p[p.length-2],u=z[t],v=z[t+1],U=0,w=1e9,P=0;
if(p.length==1)v+=20;var A=u-B,$=v-c,X=Math.sqrt(A*A+$*$);A/=X;$/=X;for(var g=0;g<z.length;g+=2){if(g==t||g==n)continue;
var k=z[g],T=z[g+1],Z=k-B,i=T-c,V=Math.sqrt(Z*Z+i*i);Z/=V;i/=V;var _=A*Z+$*i;if(_<w||_==w&&V>P){w=_;
U=g;P=V}}if(U==p[0])break;p.push(U)}var y=[];for(var g=0;g<p.length;g++)y.push(z[p[g]],z[p[g]+1]);return y};
a.b.Re=function(z){var J={},p=0,n={M:2,L:2,Q:4,C:6},B="",c="",t={L:[],Ao:[]};for(var g=0;g<z.Ao.length;
g++){var u=z.Ao[g];if(u[0]=="#")B=u;else if(u[0]=="X"){var v=B+c;if(J[v]==null)J[v]={L:[],Ao:[]};a.b.concat(J[v],t);
B="";c="";t={L:[],Ao:[]}}else if(u[0]=="O"&&u[1]=="-")c=u;else if(u=="OX"){if(c!="")c+="-1"}else{t.Ao.push(u);
var A=n[u];if(A==null)A=0;for(var $=0;$<A;$++)t.L.push(z.L[p+$]);p+=A}}return J};a.b.aFZ=function(z,J,p){var n=z[J]-z[p-2],B=z[J+1]-z[p-1];
return n*n+B*B<1e-4};a.b.DI=function(z){var J=[],p=z.L,n=z.Ao.length-1;for(var B=0;B<n;B++){var g=B*6,c=p[g+6]-p[g+0],t=p[g+7]-p[g+1],u=Math.ceil(Math.sqrt(c*c+t*t));
for(var v=0;v<u;v++){var A=v/u,$=1-A,X=$*$*$*p[g+0]+3*$*$*A*p[g+2]+3*$*A*A*p[g+4]+A*A*A*p[g+6],U=$*$*$*p[g+1]+3*$*$*A*p[g+3]+3*$*A*A*p[g+5]+A*A*A*p[g+7];
J.push(X,U)}}return J};a.b.nK=function(z,J,p){z=a.b.bm(z);var n=z.L,B=z.Ao,c=0,t="",u=0,v=0,c=0,X=null;
for(var g=0;g<B.length;g++){var A=B[g];if(A=="M"){u=n[c];v=n[c+1];c+=2;t=A}if(A=="C"){if(t=="Z"){B.splice(g,0,"M");
n.splice(c,0,u,v);g--;continue}c+=6;t=A}if(A=="Z"){t=A}}var $=[];c=0;for(var g=0;g<B.length;g++){var A=B[g];
if(A=="M"){X={kg:c,R6:0,nx:!1};$.push(X);c+=2}if(A=="C"){X.R6++;c+=6}if(A=="Z"&&X!=null){X.nx=!0}}var U=[];
for(var g=0;g<$.length;g++)if($[g].R6!=0)U.push($[g]);$=U;for(var g=0;g<$.length;g++){var w=$[g],P=w.kg,k=P+2+w.R6*6,Z=0;
w.J4=a.b.yq(n,P,k);var T=a.b.aFZ(n,P,k);for(var i=0;i<w.R6;i++){var V=P+i*6,_=V+6;Z+=(n[_]-n[V])*(n[_+1]+n[V+1])}if(w.R6==2){var y=function(l,aV,j){var M=1-j;
return M*M*M*l[aV]+3*M*M*j*l[aV+2]+3*M*j*j*l[aV+4]+j*j*j*l[aV+6]},E=n[P],F=n[P+1],d=n[P+6],x=n[P+7],f=n[P+6],Q=n[P+7],m=y(n,P,.5),H=y(n,P+1,.5),S=y(n,P+6,.5),R=y(n,P+7,.5);
Z=(m-E)*(H-F)+(d-m)*(x-H)+(S-d)*(R-x)+(f-S)*(Q-R)}if(!T)Z+=(n[P]-n[k-2])*(n[P+1]+n[k-1]);w.mk=Z<=0}for(var g=0;
g<$.length-1;g++)for(var V=g+1;V<$.length;V++){var I=$[g],D=$[V];if(D.J4.cz(I.J4)){$[g]=D;$[V]=I}}var G=$.length==0?!0:$[0].mk,C=[{I:6},{I:8,all:0}];
for(var g=0;g<$.length;g++){var w=$[g],P=w.kg,k=P+2+w.R6*6,T=a.b.aFZ(n,P,k);if(w.R6==1)T=!1;var O=w.nx||T?0:3,Y=w.mk==G&&!J?1:0;
if(!J&&g!=0){if($[g-1].J4.cz(w.J4)&&$[g-1].mk!=w.mk)Y=0;for(var V=0;V<$.length;V++)if(V!=g&&$[V].J4.cz(w.J4))Y=0}C.push({I:O,length:w.R6+(T?0:1),j1:p?0:Y,VR:2});
for(var V=0;V<w.R6;V++){var c=P+V*6,h=new i_(n[c],n[c+1]),r=new i_(n[c+2],n[c+3]),W;if(V==0){if(T){W=new i_(n[k-4],n[k-3]);
if(i_.mT(W,h)<1e-5)W=h.P()}else W=h.P()}else W=new i_(n[c-2],n[c-1]);C.push({I:O+2,FV:W,cy:h,M3:r})}if(!T){var N=new i_(n[k-2],n[k-1]);
C.push({I:O+2,FV:new i_(n[k-4],n[k-3]),cy:N,M3:N.P()})}}for(var V=0;V<C.length;V++){var o=C[V];if(o.I>5||o.I==0||o.I==3)continue;
var K=o.FV.Vm(o.cy)||o.M3.Vm(o.M3);if(!K){var I=o.FV.x*(o.cy.y-o.M3.y)+o.cy.x*(o.M3.y-o.FV.y)+o.M3.x*(o.FV.y-o.cy.y);
if(Math.abs(I)<1e-6)K=!0}if(K)o.I--}return C};a.b.Yo=function(z,J){var p=a.z.ZR(z),n=[];for(var g=2;
g<z.length;g++){var B=z[g].j1;if(B!=null){if(B==2||B==0||B==3||B==-1)n.push(B)}}var c=n.length!=0;if((c||J)&&1<p){console.log(c,J,p,"merge");
if(z.length<5e3&&p<30)z=a.z.vY(z);else alert("Too complex shapes, skipping the merging step.")}var t=a.b.Ru(z);
return{kE:t,Pa:p==1?z[2].VR==2?0:1:c?1:0}};a.b.Ru=function(){function z(n,B,c,t){if(t!=2&&n.M3.Vm(n.cy)&&B.FV.Vm(B.cy)){c.L.push(B.cy.x,B.cy.y);
c.Ao.push("L")}else{var u=n.cy,v=n.M3,A=B.FV,$=B.cy,X=3/2*v.x-1/2*u.x,U=3/2*v.y-1/2*u.y,w=3/2*A.x-1/2*$.x,P=3/2*A.y-1/2*$.y,k=w-X,T=P-U;
if(t==0&&k*k+T*T<.001){c.L.push((X+w)*.5,(U+P)*.5,$.x,$.y);c.Ao.push("Q")}else{c.L.push(v.x,v.y,A.x,A.y,$.x,$.y);
c.Ao.push("C")}}}function J(n,B,g,c,t,u){var v=B[g];n.L.push(v.cy.x,v.cy.y);n.Ao.push("M");for(var A=g;
A<g+c-1;A++)z(B[A],B[A+1],n,u);if(!t)z(B[A],B[g],n,u)}function p(n,B){if(B==null)B=0;var c={L:[],Ao:[]};
for(var g=0;g<n.length;g++){if(n[g].I>5)continue;var t=n[g].length;if(t==0)continue;if(g==n.length-1)break;
var u=n[g].I==3;J(c,n,g+1,t,u,B);if(!u)c.Ao.push("Z");g+=t}return c}return p}();a.b.al2=function(z){var J=z.L,p=[],n,B=0;
for(var g=0;g<z.Ao.length;g++){var c=z.Ao[g];if(c=="C"){n.push(J[B++],J[B++],J[B++],J[B++],J[B++],J[B++])}else if(c=="Z"){}else{n=[];
if(c!="M"){n.push(c);g++}n.push(J[B++],J[B++]);p.push(n)}}return p};a.b.dy=function(z,J,p,n,B){if(n==null)n=1e9;
if(B==null)B=-1;var c=1e9,t=0;for(var g=0;g<z.length;g+=2){if(g>>>1==B)continue;var u=J-z[g],v=p-z[g+1],A=u*u+v*v;
if(A<c){c=A;t=g>>>1}}return c<n*n?t:-1};a.b.aKK=function(z,J,p,n){for(var g=0;g<z.length;g+=2){var B=z[g],c=z[g+1],t=J[g],u=J[g+1];
p[g]=B+(t-B)*n;p[g+1]=c+(u-c)*n}};a.b.h=function(z,J,p){for(var g=0;g<z.length;g+=2){var n=z[g],B=z[g+1];
p[g]=n*J.k6+B*J.GQ+J.Rf;p[g+1]=n*J.X+B*J.JH+J.Sm}};a.b.yq=function(z,J,p){if(J==null)J=0;if(p==null)p=z.length;
var n=99999999999,B=-n,c=99999999999,t=-c;for(var g=J;g<p;g+=2){var u=z[g],v=z[g+1];n=Math.min(n,u);
c=Math.min(c,v);B=Math.max(B,u);t=Math.max(t,v)}return new fw(n,c,B-n,t-c)};a.b.aBg=function(z,J){var p=Math.max(J.x,Math.min(J.x+J.r,z.x)),n=Math.max(J.y,Math.min(J.y+J.$,z.y)),B=z.x-p,c=z.y-n;
return Math.sqrt(B*B+c*c)};a.b.$M=function(z,J){var p=Math.floor,n=Math.ceil;if(J){p=Math.ceil;n=Math.floor}var B=p(z.x),c=n(z.x+z.r),t=p(z.y),u=n(z.y+z.$);
return new fw(B,t,c-B,u-t)};a.b._g=function(z,J){var p=a.b.yq(z);if(J)p.Lr(-1e-9,-1e-9);return a.b.$M(p)};
a.b.e3=function(z,J){var p=z.x,n=z.y,B=z.x+z.r,c=z.y+z.$,t=[p,n,B,n,B,c,p,c];if(J){var u=J.P();u.oU();
a.b.h(t,u,t)}return{Ao:["M","L","L","L","Z"],L:t}};a.b.concat=function(z,J,p){if(p==null)p=new fA;for(var g=0;
g<J.L.length;g+=2){var n=J.L[g],B=J.L[g+1];z.L.push(n*p.k6+B*p.GQ+p.Rf);z.L.push(n*p.X+B*p.JH+p.Sm)}for(var g=0;
g<J.Ao.length;g++)z.Ao.push(J.Ao[g])};a.b.reverse=function(z){var J=z.Ao.slice(1),p=J.pop();if(p!="Z")J.push(p);
J.reverse();J=["M"].concat(J);if(p=="Z")J.push("Z");var n=[],B=z.L.length;for(var c=0;c<B;c+=2){n[c]=z.L[B-2-c];
n[c+1]=z.L[B-2-c+1]}return{L:n,Ao:J}};a.b.awM=function(z,J,p,n,B){function c(U,w,P){return new i_(U.x*(1-P)+w.x*P,U.y*(1-P)+w.y*P)}var t=c(z,J,B),u=c(p,n,B),v=c(J,p,B),A=c(t,v,B),$=c(v,u,B),X=c(A,$,B);
return[t,A,X,$,u]};a.b.bm=function(z){var J=z.L,p=[],n=[],B=0,c=0,t=0,u=0,v=0,A=0,$=0,X=0,U=0,w=0,P=0;
for(var g=0;g<z.Ao.length;g++){var k=z.Ao[g];if(k=="M"){c=J[B];t=J[B+1];B+=2;n.push(k);p.push(c,t);w=c;
P=t}else if(k=="C"){u=J[B];v=J[B+1];A=J[B+2];$=J[B+3];X=J[B+4];U=J[B+5];B+=6;n.push(k);p.push(u,v,A,$,X,U);
c=X;t=U}else if(k=="Q"){u=J[B];v=J[B+1];A=J[B+2];$=J[B+3];B+=4;var T=u-c,Z=v-t,i=A-u,V=$-v;n.push("C");
p.push(c+2/3*T,t+2/3*Z,u+1/3*i,v+1/3*V,A,$);c=A;t=$}else if(k=="L"){u=J[B];v=J[B+1];B+=2;if(u!=c||v!=t){n.push("C");
p.push(c,t,u,v,u,v);c=u;t=v}}else{if(k=="Z"){c=w;t=P}n.push(k)}}return{Ao:n,L:p}};a.b.a8t=function(z){var J=z.L,p=[],n=[],B=0;
for(var g=0;g<z.Ao.length;g++){var c=z.Ao[g];if(c=="Q"){var t=J[B-2],u=J[B-1],v=J[B],A=J[B+1],$=J[B+2],X=J[B+3];
B+=4;var U=v-t,w=A-u,P=$-v,k=X-A;n.push("C");p.push(t+2/3*U,u+2/3*w,v+1/3*P,A+1/3*k,$,X)}else{var T=0;
if(c=="M"||c=="L")T=2;else if(c=="C")T=6;for(var Z=0;Z<T;Z++)p.push(J[B+Z]);B+=T;n.push(c)}}return{Ao:n,L:p}};
a.b.mW=function(z,J){var p=z.L,n=[],B=[],c=0,t=0,u=0,v=0,A=0,$=0,X=0,U=0,w=0;for(var g=0;g<z.Ao.length;
g++){var P=z.Ao[g];if(P=="M"){t=p[c];u=p[c+1];c+=2;B.push(P);n.push(t,u)}else if(P=="C"){v=p[c];A=p[c+1];
$=p[c+2];X=p[c+3];U=p[c+4];w=p[c+5];c+=6;a.b.a_(t,u,v,A,$,X,U,w,J,B,n,0);t=U;u=w}else B.push(P)}return{Ao:B,L:n}};
a.b.a_=function(z,J,p,n,B,c,t,u,v,A,$,X){var U=Math.sqrt((t-z)*(t-z)+(u-J)*(u-J)),w=Math.sqrt((t-B)*(t-B)+(u-c)*(u-c))+Math.sqrt((B-p)*(B-p)+(c-n)*(c-n))+Math.sqrt((p-z)*(p-z)+(n-J)*(n-J)),P=(U+w)/2;
if(P<=v){A.push("C");$.push(p,n,B,c,t,u)}else{var k=0,T=0,Z=0,i=0,V=0,_=0,y=0,E=0,F=0,d=0,x=0,f=0,Q=0;
T=(z+p)/2;Z=(J+n)/2;i=(p+B)/2;V=(n+c)/2;_=(B+t)/2;y=(c+u)/2;E=(T+i)/2;F=(Z+V)/2;d=(i+_)/2;x=(V+y)/2;
f=(E+d)/2;Q=(F+x)/2;a.b.a_(z,J,T,Z,E,F,f,Q,v,A,$,X+1);a.b.a_(f,Q,d,x,_,y,t,u,v,A,$,X+1)}};a.b.gT=function(z,J,p,n,B){var c=Date.now(),t=a.b.a3S(z,J,p);
if(B){console.log("trace polygons",Date.now()-c);c=Date.now()}var u=[];for(var g=0;g<t.length;g++){var v=t[g],A=v[0],$=["M"],X=z[A[1]*J+A[0]];
if(A.length>8)A=a.b.as6(A,n,v[1]);if(A.length<=4)continue;for(var U=2;U<A.length;U+=2)$.push("L");$.push("Z");
u.push({path:{L:A,Ao:$},color:X,parent:-1,J4:a.b.yq(A)})}if(B){console.log("simplify polygons",Date.now()-c);
c=Date.now()}for(var g=1;g<u.length;g++){var w=u[g],P=w.path.L,k=P[0],T=P[1],Z=P[2],i=P[3],V=Z-k,_=i-T,y=k+.5*V-.001*_,E=T+.5*_+.001*V;
for(var U=g-1;U>=0;U--){var F=u[U];if(!F.J4.cz(w.J4))continue;if(!jH.Go(F.path.L,y,E))continue;w.parent=U;
break}}if(B){console.log("checking parents",Date.now()-c);c=Date.now()}return u};a.b.a3S=function(z,J,p){var n=J*p,B=new Uint16Array(J*p),t=0;
for(var g=0;g<n;g++)B[g]=z[g];var c=new Uint8Array(J*p);c[1*J+1]=c[(p-1)*J+1]=c[1*J+J-1]=c[(p-1)*J+J-1]=1;
for(var u=1;u<p;u++)for(var v=1;v<J;v++){var g=u*J+v,A=B[g-J-1],$=B[g-J],X=B[g-1],U=B[g],w=A==U&&$==X&&A!=$,P=0;
if(U<X){t=U;U=X;X=t}if(X<$){t=X;X=$;$=t}if($<A){t=$;$=A;A=t}if(U<X){t=U;U=X;X=t}if(X<$){t=X;X=$;$=t}if(U<X){t=U;
U=X;X=t}if(A!=$)P++;if($!=X)P++;if(X!=U)P++;if(U!=A)P++;if(P>=3||w)c[g]=1}var k=[];for(var u=1;u<p;u++)for(var v=1;
v<J;v++){var g=u*J+v;if(B[g]!=B[g-1]){var T=a.b.a03(B,J,p,v,u),Z=[];for(var i=0;i<T.length;i+=2)if(c[T[i+1]*J+T[i]]==1)Z.push(i>>>1);
k.push([T,Z]);a.b.cP(B,J,p,v,u)}}return k};a.b.cP=function(z,J,p,n,B){var c=[B*J+n],t=z[B*J+n];z[B*J+n]=65535;
while(c.length!=0){var g=c.pop();z[g]=0;if(z[g+J]==t){c.push(g+J);z[g+J]=65535}if(z[g-J]==t){c.push(g-J);
z[g-J]=65535}if(z[g-1]==t){c.push(g-1);z[g-1]=65535}if(z[g+1]==t){c.push(g+1);z[g+1]=65535}}};a.b.a03=function(z,J,p,n,B){var c=[0,-1,1,0,0,1,-1,0],$=1;
function t(U,w,$){var g=A*J+v,P=0;if($==0)P=g-J;else if($==1)P=g;else if($==2)P=g-1;else if($==3)P=g-J-1;
return z[P]}var u=[],v=n,A=B,X=t(v,A,$);do{u.push(v,A);v+=c[$*2];A+=c[$*2+1];if(t(v,A,$)!=X)$=$+1&3;
else if(t(v,A,$+3&3)!=X)$=$;else if(t(v,A,$+2&3)!=X)$=$+3&3}while(v!=n||A!=B);return u};a.b.as6=function(z,J,p){if(J==null||J==0)return z;
var n=z.length-2;if(p&&p.length!=0){var B=p[0]*2,c=p[p.length-1]*2,t=B==0?n:B-2,u=z.slice(c);for(var g=0;
g<B;g++)u.push(z[g]);if(B==c)u.push(.9*z[B]+.1*z[t],.9*z[B+1]+.1*z[t+1]);else u.push(z[B],z[B+1]);u=a.b.cr(u,J);
u.pop();u.pop();for(var g=0;g<p.length-1;g++){var v=z.slice(p[g]*2,p[g+1]*2+2);v=a.b.cr(v,J);for(var X=0;
X<v.length-2;X++)u.push(v[X])}return u}var U=z.slice(0);U.push(.9*z[0]+.1*z[n],.9*z[1]+.1*z[n+1]);U=a.b.cr(U,J);
U.pop();U.pop();return U};a.b.cr=function(z,J){var p=z.length-2,n=z[0],B=z[1],c=z[p],t=z[p+1],u=c-n,v=t-B,A=1/Math.sqrt(u*u+v*v),$=c*B-t*n,X=-1,U=-1,w=0;
for(var g=2;g<p;g+=2){var P=z[g],k=z[g+1],T=k*k*1e6+P*P,Z=Math.abs(v*P-u*k+$)*A;if(Z>U||Z==U&&T>w){U=Z;
X=g;w=T}}if(U<J)return[n,B,c,t];var i=a.b.cr(z.slice(0,X+2),J),V=a.b.cr(z.slice(X),J);for(var g=2;g<V.length;
g++)i.push(V[g]);return i};a.b.a29=function(){var z=function(n,B,c,t,u,v){return(B-t)*(u-c)+(c-n)*(v-t)>=0},J=function(n,B,c,t,u,v,A,$){var X=A-c,U=$-t,w=u-c,P=v-t,k=n-c,T=B-t,Z=X*X+U*U,i=X*w+U*P,V=X*k+U*T,_=w*w+P*P,y=w*k+P*T,E=1/(Z*_-i*i),F=(_*V-i*y)*E,d=(Z*y-i*V)*E;
return F>=0&&d>=0&&F+d<1},p=function(n){var lj=n.length>>>1,g=0;if(lj<3)return[];var B=[],c=[];for(var g=0;
g<lj;g++)c.push(g);var t=lj;while(t>3){var u=c[(g+0)%t],v=c[(g+1)%t],A=c[(g+2)%t],$=n[2*u],X=n[2*u+1],U=n[2*v],w=n[2*v+1],P=n[2*A],k=n[2*A+1],T=!1;
if(z($,X,U,w,P,k)){T=!0;for(var Z=0;Z<t;Z++){var i=c[Z];if(i==u||i==v||i==A)continue;if(J(n[2*i],n[2*i+1],$,X,U,w,P,k)){T=!1;
break}}}if(T){B.push(u,v,A);c.splice((g+1)%t,1);t--;g=0}else if(g++>3*t)break}B.push(c[0],c[1],c[2]);
return B};return p}();a.b.a4e=function(z,J){var p={},n={Ao:[],L:[]};for(var g=0;g<J.length;g+=3){var B=J[g]*2,c=J[g+1]*2,t=J[g+2]*2;
a.b.xh(z,B,c,n,p);a.b.xh(z,B,t,n,p);a.b.xh(z,c,t,n,p)}return n};a.b.xh=function(z,J,p,n,B){if(J>p){var c=p;
p=J;J=c}if(B[J+","+p])return;B[J+","+p]=!0;n.Ao.push("M","L");n.L.push(z[J],z[J+1],z[p],z[p+1])};a.b.aoO=function(z,J){var p=[],n=z.length;
for(var g=0;g<n;g+=2){var B=z[g],c=z[g+1],t=z[(g+2)%n],u=z[(g+3)%n];if(u<c){var v=c;c=u;u=v}if(c<J&&J<u){var A=(J-c)/(u-c);
p.push(B+A*(t-B))}}p.sort(function($,X){return $-X});return p};a.b.ap4=function(z,J,p,n,B,c,t){var u=z-p,v=J-n,A=B-p,$=c-n,X=1/Math.sqrt(u*u+v*v),U=1/Math.sqrt(A*A+$*$),w=u*X,P=v*X,k=A*U,T=$*U,Z=P*t,i=-w*t,V=-T*t,_=k*t,y=a.b.HR(Z,i,w,P,V,_,k,T),E=Z+w*y,F=i+P*y,y=a.b.HR(0,0,w,P,E,F,-P,w),d=w*y,x=P*y;
return[Math.sqrt(d*d+x*x),w,P,k,T]};a.b.aaW=function(z,J,p,n,B,c,t){var u=a.b.ap4(z,J,p,n,B,c,t),v=u[0],A=u[1],$=u[2],X=u[3],U=u[4],w=Math.atan2(A*U-$*X,A*X+$*U);
if(w<0){w=w*-1}var P=Math.PI-w,k=4/3*Math.tan(P/4),T=p+v*A,Z=n+v*$,i=p+v*X,V=n+v*U,_=T+k*t*-A,y=Z+k*t*-$,E=i+k*t*-X,F=V+k*t*-U;
return[0,0,T,Z,_,y,E,F,i,V]};a.b.HR=function(z,J,p,n,B,c,t,u){var v=t*(J-c)-u*(z-B),A=u*p-t*n;if(A==0)return 0;
return v/A};a.b.NL=function(z,J,p,n,B,c){return z*(n-c)+p*(c-J)+B*(J-n)};a.b.aeY=function(z){function J(S,R,I,D,G,C,Y,h,r){var W=a.b.HR(S,R,I,D,G,C,Y,h);
r.push(S+I*W,R+D*W)}var p=[],n=z.length,B=[];for(var g=0;g<n;g+=2){var c=g==0?n-2:g-2,t=g==n-2?0:g+2,u=z[g],v=z[g+1],A=u-z[c],$=v-z[c+1],X=z[t]-u,U=z[t+1]-v,w=Math.sqrt(A*A+$*$),P=Math.sqrt(X*X+U*U);
B.push(P);var k=w/(w+P),T=u-A*.5,Z=v-$*.5,i=u+X*.5,V=v+U*.5,_=(z[t]+z[c])*.5,y=(z[t+1]+z[c+1])*.5,E=T+k*(i-T),F=Z+k*(V-Z),d=u-E,x=v-F,f=(X*-A+U*-$)/(w*P),Q=(k-.5)*7,m=1+Q*k,H=1-Q*(1-k);
p.push(T+d*m,Z+x*m,i+d*H,V+x*H)}return p};a.Fu=function(){};a.Fu.D8=function(z,J,p,n,B){var c=p.r,t=p.$,u=c*t,v=new Int32Array(u),lj=0;
for(var g=0;g<u;g++)if(J[g]!=0){v[g]=lj;lj++}else if(z[(g<<2)+3]<200){v[g]=-2}else v[g]=-1;if(lj==0)return;
var A=new a.ai(lj,lj),$=new Array(3*lj),X=new Array(3*lj);for(var g=0;g<X.length;g++)X[g]=$[g]=0;var U=1/255,w=[-c,-1,1,c],P=[],k=[];
for(var T=0;T<t;T++)for(var Z=0;Z<c;Z++){var i=T*c+Z,V=i<<2,g=v[i],_=g*3,y=0,E=0,F=0;if(g==-1||g==-2)continue;
for(var d=0;d<4;d++){if(d==2){E=F;P[F]=0;k[F]=g;F++}var x=i+w[d],f=x<<2,Q=v[x];if(d==0&&T==0||d==1&&Z==0||d==2&&Z==c-1||d==3&&T==t-1||Q==-2)continue;
y++;if(Q==-1){$[_+0]+=z[f+0];$[_+1]+=z[f+1];$[_+2]+=z[f+2]}else{P[F]=-1;k[F]=Q;F++;if(J[i]==J[x]){$[_+0]+=z[V+0]-z[f+0];
$[_+1]+=z[V+1]-z[f+1];$[_+2]+=z[V+2]-z[f+2]}}}P[E]=y;A.RN(P,k,F)}for(var g=0;g<u;g++)if(v[g]!=-1){var m=g<<2,H=v[g],S=H*3;
X[S]=z[m+0];X[S+1]=z[m+1];X[S+2]=z[m+2]}var R=Date.now();A.a4C(X,$,n,B);console.log(Date.now()-R);for(var g=0;
g<u;g++){var H=v[g],I=H*3,m=g<<2;if(H==-1||z[m+3]!=255)continue;z[m+0]=~~(.5+Math.max(0,Math.min(255,X[I+0])));
z[m+1]=~~(.5+Math.max(0,Math.min(255,X[I+1])));z[m+2]=~~(.5+Math.max(0,Math.min(255,X[I+2])))}};a.S={};
a.S.a4a=function(z,J){var p=[z],n=[];for(var g=0;g<J.length;g++){var B=J[g],c=!1;for(var t=g+1;t<J.length;
t++){var u=J[t];if(u[0]<=B[0]&&u[1]<=B[1]&&B[2]<=u[2]&&B[3]<=u[3]){c=!0;break}}if(!c)n.push(B)}J=n;for(var g=0;
g<J.length;g++){var B=J[g];for(var t=0;t<p.length;t++){var u=p[t],v=Math.max(B[0],u[0]),A=Math.min(B[2],u[2]),$=Math.max(B[1],u[1]),X=Math.min(B[3],u[3]);
if(v<A&&$<X){var U=[];if(u[1]<B[1]){var w=u.slice(0);w[3]=B[1];U.push(w)}if(u[0]<B[0]){var P=u.slice(0);
P[1]=$;P[2]=B[0];U.push(P)}if(B[2]<u[2]){var k=u.slice(0);k[1]=$;k[0]=B[2];U.push(k)}if(B[3]<u[3]){var T=[v,X,A,u[3]];
U.push(T)}if(U.length!=0){p[t]=U[0];for(var Z=1;Z<U.length;Z++)p.push(U[Z])}}}p.push(B);p=a.S.ar4(p)}p.sort(function(B,u){return B[1]!=u[1]?B[1]-u[1]:B[0]-u[0]});
for(var g=1;g<p.length;g++){var B=p[g-1],u=p[g];if(B[0]==u[0]&&B[1]==u[1]&&B[2]==u[2]&&B[3]==u[3]){p.splice(B[4]==null?g-1:g,1);
g--}}return p};a.S.ar4=function(z){z=z.slice(0);for(var g=0;g<z.length;g++){var J=z[g],p=null;if(J[4]!=null)continue;
for(var n=0;n<z.length;n++){var B=z[n];if(g==n||B[4]!=null)continue;var c=J[0]==B[0],t=J[1]==B[1],u=J[2]==B[2],v=J[3]==B[3];
if(t&&v&&(J[2]==B[0]||J[0]==B[2])){p=[Math.min(J[0],B[0]),J[1],Math.max(J[2],B[2]),J[3]]}if(c&&u&&(J[3]==B[1]||J[1]==B[3])){p=[J[0],Math.min(J[1],B[1]),J[2],Math.max(J[3],B[3])]}if(p){z[g]=p;
z.splice(n,1);break}}if(p){g--}}return z};a.S.ni=function(z){var J=new fw;for(var g=0;g<z.length;g++)J=J.KQ(z[g]);
return J};a.S.al7=function(z,J){var p=a.S.ni,n=new UnionFind(z.length),E=1e3,F=1e3;for(var g=0;g<z.length;
g++)for(var B=g+1;B<z.length;B++){if(!J)continue;var c=z[g],t=z[B],X=1e9,U=1e9;if(c.SH(t)){n.link(g,B);
continue}var u=c.x+c.r,v=c.y+c.$,A=t.x+t.r,$=t.y+t.$;if((u<t.x||A<c.x)&&(v<t.y||$<c.y))continue;if(!(v<t.y||$<c.y))X=Math.min(Math.abs(u-t.x),Math.abs(c.x-A));
if(!(u<t.x||A<c.x))U=Math.min(Math.abs(v-t.y),Math.abs(c.y-$));var w=Math.min(X,U),P=Math.min(c.r,c.$,t.r,t.$);
if(w<.3*P)n.link(g,B)}var k=[],T={};for(var g=0;g<z.length;g++){var Z=n.find(g),i=z[g];if(T[Z]==null){T[Z]=k.length;
k.push([])}k[T[Z]].push(i)}var V=[],_=[];for(var g=0;g<k.length;g++){V.push(p(k[g]));var y=p(k[g]);y.Ee=g;
_.push(y)}_.sort(function(D,G){return Math.max(G.$,G.r)-Math.max(D.$,D.r)});var d=new NETXUS.RectanglePacker(E,F);
while(!0){var x=!1;d.reset(E,F);for(var g=0;g<_.length;g++){var f=d.findCoords(_[g].r,_[g].$);if(f){_[g].x=f.x;
_[g].y=f.y}else{E=Math.floor(E*1.1);F=Math.floor(F*1.1);x=!0;break}}if(x)continue;break}for(var g=0;
g<k.length;g++){var Q=_[g],m=Q.Ee,H=V[m],S=k[m],R=Q.x-H.x,I=Q.y-H.y;for(var B=0;B<S.length;B++)S[B].offset(R,I)}};
a.S.adi=function(z){var J=[],p=[],n=function(y,E){return y-E};for(var g=0;g<z.length;g++){var B=z[g];
if(J.indexOf(B[0])==-1)J.push(B[0]);if(J.indexOf(B[2])==-1)J.push(B[2]);if(p.indexOf(B[1])==-1)p.push(B[1]);
if(p.indexOf(B[3])==-1)p.push(B[3])}J.sort(n);p.sort(n);J.push(J[J.length-1]+1);p.push(p[p.length-1]+1);
var c=[],t=J.length-1,u=p.length-1;for(var v=0;v<u;v++){var A=[];c.push(A);for(var $=0;$<t;$++){var X=J[$],U=J[$+1],w=p[v],P=p[v+1],k=(X+U)/2,T=(w+P)/2,Z=-1,i=-1;
for(var g=0;g<z.length;g++){var B=z[g];if(B[0]==X&&B[1]==w)Z=g;if(B[0]<k&&k<B[2]&&B[1]<T&&T<B[3])i=g}if(Z!=-1){var B=z[Z],V=1,_=1;
while(J[$+V]<B[2])V++;while(p[v+_]<B[3])_++;A.push([Z,B[2]-B[0],B[3]-B[1],V,_])}else if(i!=-1)continue;
else A.push([-1,U-X,P-w,1,1])}}return[J.pop(),p.pop(),c]};a.S.azD=function(z,J,p,n){var B=a.S.adi(z),c=["<table id=\"Table_01\" width=\""+B[0]+"\" height=\""+B[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],t=B[2];
for(var g=0;g<t.length;g++){var u=t[g];c.push("\t<tr>");for(var v=0;v<u.length;v++){var A=u[v],$=null,X="",U="",w=A[3],P=A[4],Z="";
if(A[0]!=-1){var k=A[0],T=z[k];if(T.length==5){$=p[T[4]].v;X=$.url.v}U="src=\""+J[k]+"\"";if(T[4]==null&&n==2)U=""}if(w!=1)Z+=" colspan=\""+w+"\"";
if(P!=1)Z+=" rowspan=\""+P+"\"";c.push("\t\t<td"+Z+">");if(X!="")c.push("\t\t\t<a href=\""+X+"\" target=\""+$.null.v+"\">");
c.push((X==""?"":"\t")+"\t\t\t<img "+U+" width=\""+A[1]+"\" height=\""+A[2]+"\" alt=\""+($?$.altTag.v:"")+"\"></td>"+(X==""?"":"</a>"))}if(g==t.length-1){c.pop();
c.pop();c.push("\t\t<td></td>")}c.push("\t</tr>")}c.push("</table>");return c.join("\n")};a.DM=function(){};
a.DM.NX=Math.floor(16*window.devicePixelRatio);a.DM.bh={};a.DM.C7=0;a.DM.mi=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
a.DM.mZ=["px","in","cm","mm","%"];a.DM.Kf=function(z,J,p,n){var B=[1,J,J/2.54,J/25.4,p/100][n];return z*B};
a.DM.gj=function(z,J,p,n){var B=[1,J,J/2.54,J/25.4,p/100][n];return z/B};a.DM.Gu=function(z,J,p,n,B){var c=p.Uc.zk,t=[1,J,J/2.54,J/25.4,n/100][c],u=[2,3,2,1,2][c];
z=z/t;var v=Math.round(z),A=c==0&&Math.abs(z-v)<1e-6?v+"":z.toFixed(u);if(B)A+=" "+a.DM.mZ[c];return A};
a.DM.aG6=function(z,J,p,n){var B=p.Uc.zk,c=[1,J,J/2.54,J/25.4,n/100][B];z=parseFloat(z)*c;return z};
a.DM.a7r=function(z,J){var p=z+","+J;if(a.DM.bh.clr==p)return;var n=Math.round(a.DM.NX*.5);a.DM.C7=n;
var B=a.za(n,n);B.save();B.font=n*1.5+"px monospace";var c="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var g=0;
g<c.length;g++){B.fillStyle="#"+a.fX(J);B.fillRect(0,0,n,n);B.fillStyle="#"+a.fX(z);B.fillText(c[g],0,n);
a.DM.bh[c[g]]=new Uint8Array(B.getImageData(0,0,n,n).data.buffer)}a.DM.bh.clr=p;B.restore()};a.DM.aCv=function(z,J,p,n){var B=0,c=0,t=4*a.DM.NX;
for(var g=9;g>=0;g--){var u=Math.pow(10,g);if(5*u*z<=t){B=5*u;c=10;break}if(2*u*z<=t){B=2*u;c=4;break}if(1*u*z<=t){B=1*u;
c=n;break}}if(B==0){B=1;c=n}var v=Math.ceil(B*z),A=a.j(v*a.DM.NX*4);a.dz(A,4278190080|p);for(var g=0;
g<a.DM.NX;g++)a.DM.kW(A,4*g*v,J);for(var g=0;g<v;g++)a.DM.kW(A,4*((a.DM.NX-1)*v+g),J);if(B==2)c=2;if(B==5)c=5;
if(B>1||B==1&&v>20)for(var g=1;g<c;g++)a.DM.aKO(A,g*(v/c),v,(g&1)==1?.8:.7,J);return{ps:A,step:B}};a.DM.aKO=function(z,J,p,n,B){var J=Math.round(J);
for(var c=Math.round(a.DM.NX*n);c<a.DM.NX-1;c++)a.DM.kW(z,4*(c*p+J),B)};a.DM.kW=function(z,J,p){z[J+0]=p>>16&255;
z[J+1]=p>>8&255;z[J+2]=p&255};a.DM.avf=function(z,J,p,n,B,c,t,u){var v=z.B7.r,A=z.B7.$,$=a.DM.NX,X=J&255,U=J>>8&255,w=J>>16&255;
J=Math.round(X*.6)<<16|Math.round(U*.6)<<8|Math.round(w*.6);a.DM.a7r(Math.round(X*.8)<<16|Math.round(U*.8)<<8|Math.round(w*.8),p);
var P=z.XP,k=z.p,T=z.rH;for(var Z=0;Z<2;Z++){var i=Z==0?c:t;z.XP=i[0];z.p=i[1];z.rH=0;var V=this.aCv(z.XP,J,p,u),_=z.Ka(0,0),y=z.Ka(v,A),E=Math.floor(_.x/V.step)*V.step,F=Math.ceil(y.x/V.step)*V.step,d=Math.floor(_.y/V.step)*V.step,f=Math.ceil(y.y/V.step)*V.step,Q=z.cE(E,d),m=z.cE(F,d),H=V.step*z.XP,S=Math.ceil(H);
if(Z==1){var R=V.ps;V.ps=a.j(R.length*4);a.F.dg(R,V.ps,S,$)}var I=Z==0?z.SZ.data:z.dO.data,D=new fw(0,0,[v,$][Z],[$,A][Z]),G=new fw(0,0,[S,$][Z],[$,S][Z]),C=new fw([0,Math.round($*.2)][Z],[Math.round($*.08),0][Z],a.DM.C7,a.DM.C7),O=(Z==0?F-E:f-d)/V.step;
for(var g=0;g<O;g++){if(Z==0)G.x=Math.round(Q.x+g*H);else G.y=Math.round(Q.y+g*H);a.nk(V.ps,G,I,D,G);
var Y=(Z==0?E+g*V.step:Math.abs(d+g*V.step)).toString(10);for(var h=0;h<Y.length;h++){if(Z==0)C.x=G.x+3+h*Math.round(a.DM.C7*.8);
else C.y=G.y+3+h*Math.round(a.DM.C7*1.15);var r=a.DM.bh[Y[h]];a.nk(r,C,I,D,C)}}}z.XP=P;z.p=k;z.rH=T;
var W=Math.floor($*.6),N=new Uint32Array(z.SZ.data.buffer),o=new Uint32Array(z.dO.data.buffer),K=X<128?4278190080:4294967295;
if(0<n&&n<v)for(var g=0;g<W;g++)N[g*v+n]=K;if(0<B&&B<A)for(var g=0;g<W;g++)o[B*$+g]=K};a.scale={};a.scale._V=document.createElement("canvas");
a.scale.$l=a.scale._V.getContext("2d");a.scale.fD=function(z,J,p){var n=a.scale._V,B=a.scale.$l;n.width=J;
n.height=p;var c=new ImageData(new Uint8ClampedArray(z.buffer),J,p);B.putImageData(c,0,0);return B.createPattern(B.canvas,"repeat")};
a.scale.ay9=function(z,J,p,n,B,c,t,u,v){var A=a.scale.aCt(z,p,n,B,c,t,u,v);if(J){J.set(a.hg(A,a.zr(J)))}return new Uint8Array(A.buffer)};
a.scale.aCt=function(z,J,p,n,B,c,t,u){var v=a.za(J,p);v.save();v.beginPath();v.rect(0,0,J,p);v.translate(c,t);
v.scale(n,B);if(u!=null)v.rotate(-u);v.fillStyle=z;v.fill();v.restore();return new Uint8Array(v.getImageData(0,0,J,p).data.buffer)};
a.scale.h=function(z,J,p,n,B){var c=a.zr(z),t=p.X==0&&p.GQ==0,u=B.r,v=B.$,A=a.b.e3(J,p).L,$=a.b._g(A,t).ly(B),X=$.x,U=$.y,w=X+$.r,P=U+$.$,k=~~J.x,T=~~J.y,Z=~~J.r,i=~~J.$;
if(p.k6*(w-1+.5)+p.Rf-k>Z)w--;if(t&&c==8)for(var V=U;V<P;V++){var _=p.JH*(V+.5)+p.Sm-T,y=~~_*Z;for(var E=X;
E<w;E++){var F=p.k6*(E+.5)+p.Rf-k,g=y+~~F;n[V*u+E]=z[g]}}else if(t)for(var V=U;V<P;V++){var _=p.JH*(V+.5)+p.Sm-T,y=~~_*Z;
for(var E=X;E<w;E++){var F=p.k6*(E+.5)+p.Rf-k,g=y+~~F;if(c==8)n[V*u+E]=z[g];else if(c==16)n[V*u+E]=z[g]>>>8;
else n[V*u+E]=z[g]*255}}else for(var V=U;V<P;V++)for(var E=X;E<w;E++){var d=E+.5,x=V+.5,F=p.k6*d+p.GQ*x+p.Rf-k,_=p.X*d+p.JH*x+p.Sm-T;
if(0<=F&&0<=_&&F<Z&&_<i){var g=~~_*Z+~~F;if(c==8)n[V*u+E]=z[g];else if(c==16)n[V*u+E]=z[g]>>>8;else n[V*u+E]=z[g]*255}}};
a.scale.MY=function(z,J,p,n,B,c){function t(O){return 255*O}var u=a.zr(z),v=new Uint32Array(z.buffer),A=new Uint32Array(n.buffer),$=B.r,X=B.$,U=a.b.e3(J,p).L,w=c?B:a.b._g(U).ly(B),P=w.x,k=w.y,T=P+w.r,Z=k+w.$,i=~~J.x,V=~~J.y,_=~~J.r,y=~~J.$;
p=p.P();p.translate(-i,-V);var E=p.g$(new i_(1,0)).Br(p.g$(new i_(0,0))),F=E.x,d=E.y;for(var x=k;x<Z;
x++){var f=p.g$(new i_(P+.5,x+.5)),Q=f.x,m=f.y,H=(x-B.y)*$+P-B.x;for(var S=P;S<T;S++){if(c){Q=((_<<10)+Q)%_;
m=((y<<10)+m)%y}if(0<=Q&&0<=m&&Q<_&&m<y){if(u==8)A[H]=v[~~m*_+~~Q];else{var R=(~~m*_+~~Q)*4,I,D,G,C;
if(u==16){I=z[R]>>>8;D=z[R+1]>>>8;G=z[R+2]>>>8;C=z[R+3]>>>8}else{I=t(z[R]);D=t(z[R+1]);G=t(z[R+2]);C=t(z[R+3])}A[H]=C<<24|G<<16|D<<8|I}}Q+=F;
m+=d;H++}}};a.scale.zJ=function(z,J,p,n,B,c,t){if(t<1)a.scale.afg(z,J,p,n,B,c,Math.round(1/t));else a.scale.aIT(z,J,p,n,B,c,t)};
a.scale.ov=function(z,J,p,n,B,c,t,u){if(u)u=u.ly(new fw(0,0,J,p));z=new Uint32Array(z.buffer);n=new Uint32Array(n.buffer);
if(t<1)a.scale.auT(z,J,p,n,B,c,Math.round(1/t),u);else a.scale.ae2(z,J,p,n,B,c,t)};a.scale.aIT=function(z,J,p,n,B,c,t){for(var u=0;
u<p;u++)for(var v=0;v<J;v++){var A=z[u*J+v],$=Math.min(t,B-v*t),X=Math.min(t,c-u*t);for(var g=0;g<X;
g++)for(var U=0;U<$;U++)n[(t*u+g)*B+t*v+U]=A}};a.scale.afg=function(z,J,p,n,B,c,t){for(var u=0;u<c;u++)for(var v=0;
v<B;v++){var A=0,$=Math.min(t,J-v*t),X=Math.min(t,p-u*t);for(var g=0;g<X;g++)for(var U=0;U<$;U++)A+=z[(t*u+g)*J+(t*v+U)];
n[u*B+v]=Math.round(A/($*X))}};a.scale.ae2=function(z,J,p,n,B,c,t){for(var u=0;u<p;u++)for(var v=0;v<J;
v++){var A=z[u*J+v],$=Math.min(t,B-v*t),X=Math.min(t,c-u*t);for(var g=0;g<X;g++)for(var U=0;U<$;U++)n[(t*u+g)*B+t*v+U]=A}};
a.scale.a5o=function(z,J,p){return(z>>>p&255)+(J>>>p&255)>>>1};a.scale.mJ=function(z,J){var p=a.scale.a5o;
return p(z,J,24)<<24|p(z,J,16)<<16|p(z,J,8)<<8|p(z,J,0)};a.scale.a4_=function(z,J,p,n,B,c){var t=a.zr(z);
if(t==8){var u=new Uint32Array(z.buffer),v=new Uint32Array(n.buffer);for(var A=0;A<p;A++){for(var $=0;
$<J;$++){var X=A*J+$,U=u[X],w=U,P=U,k=U;if($<J-1)w=a.scale.mJ(U,u[X+1]);if(A<p-1)P=a.scale.mJ(U,u[X+J]);
if($<J-1&&A<p-1)k=a.scale.mJ(U,u[X+J+1]);var T=(A*B+$)*2;v[T]=U;v[T+1]=w;v[T+B]=P;v[T+B+1]=k}}if((B&1)==1)for(var A=0;
A<c;A++)v[A*B+B-1]=v[A*B+B-2];var Z=B*(c-1);if((c&1)==1)for(var $=0;$<B;$++)v[Z+$]=v[Z-B+$]}else{var i=a.scale.ayu,V=a.scale.afX;
for(var A=0;A<p;A++){for(var $=0;$<J;$++){var X=A*J+$,T=(A*B+$)*2;i(z,X,n,T);if($<J-1)V(z,X,X+1,n,T+1);
else i(z,X,n,T+1);if(A<p-1)V(z,X,X+J,n,T+B);else i(z,X,n,T+B);if($<J-1&&A<p-1)V(z,X,X+J+1,n,T+B+1);else i(z,X,n,T+B+1)}}if((B&1)==1)for(var A=0;
A<c;A++)i(n,A*B+B-2,n,A*B+B-1);var Z=B*(c-1);if((c&1)==1)for(var $=0;$<B;$++)i(n,Z-B+$,n,Z+$)}};a.scale.ayu=function(z,J,p,n){var B=J<<2,c=n<<2;
p[c]=z[B];p[c+1]=z[B+1];p[c+2]=z[B+2];p[c+3]=z[B+3]};a.scale.afX=function(z,J,p,n,B){var c=J<<2,t=p<<2,u=B<<2;
n[u]=(z[c]+z[t])*.5;n[u+1]=(z[c+1]+z[t+1])*.5;n[u+2]=(z[c+2]+z[t+2])*.5;n[u+3]=(z[c+3]+z[t+3])*.5};a.scale.auT=function(z,J,p,n,B,c,t,u){var v=0,A=B,$=0,X=c;
if(u){v=Math.floor(u.x/t);A=Math.ceil((u.x+u.r)/t);$=Math.floor(u.y/t);X=Math.ceil((u.y+u.$)/t)}for(var U=$;
U<X;U++)for(var w=v;w<A;w++){var P=0,k=0,T=0,Z=0,i=Math.min(t,J-w*t),V=Math.min(t,p-U*t);for(var g=0;
g<V;g++)for(var _=0;_<i;_++){var y=z[(t*U+g)*J+t*w+_],E=y>>>24;P+=E;k+=E*(y>>>16&255);T+=E*(y>>>8&255);
Z+=E*(y&255)}if(P!=0){var F=1/P;n[U*B+w]=P/(i*V)<<24|k*F<<16|T*F<<8|Z*F}else n[U*B+w]=0}};a.M=function(){function z(u,v,g){return(128&u[g-v-1]&u[g-v]&u[g-2]&u[g-1]&u[g+1]&u[g+v-1]&u[g+v])==0}function J(u,v,g){return(128&u[g-v-v]&u[g-v+1]&u[g+2]&u[g+v+1]&u[g+v+v])==0}function p(u,v,g){return(u[g-v]&u[g-1]&u[g+1]&u[g+v]&128)==0}function n(u,g){return(u[g]&128)!=0}function B(u,v,A,$){var g=0,X=A.r,U=A.$;
if($)for(var w=0;w<U;w++)for(var P=0;P<X;P++){if(n(u,g)&&(P<2||w<2||P>X-3||w>U-3||((u[g-1]&128)==0||v[g-1]!=0)&&z(u,X,g)||J(u,X,g)))v[g]=255;
g++}else for(var w=0;w<U;w++)for(var P=0;P<X;P++){if(n(u,g)&&(P==0||w==0||P==X-1||w==U-1||p(u,X,g)))v[g]=255;
g++}}function c(u,v,A,$,X){var U=A.r,w=A.$,P=new Uint8Array(v.buffer),k=new Uint32Array(v.buffer);if(X)for(var T=2;
T<w-2;T++)for(var Z=2;Z<U-2;Z++){var g=T*U+Z;if(n(u,g)&&(((u[g-1]&128)==0||k[g-1]!=0)&&z(u,U,g)||J(u,U,g)))k[g]=$[(Z+T&4)>>>2]}else for(var T=1;
T<w-1;T++)for(var Z=1;Z<U-1;Z++){var g=T*U+Z;if(n(u,g)&&p(u,U,g)){k[g]=$[(Z+T&4)>>>2]}}}function t(u,v,A,$,X){var U=A.r,w=A.$,P=new Uint8Array(v.buffer),k=new Uint32Array(v.buffer),g=0;
if($==1)for(var T=0;T<w;T++)for(var Z=0;Z<U;Z++,g++){var i=u[g];k[g]=255-i>>>1<<24|255}else for(var T=0;
T<w;T++)for(var Z=0;Z<U;Z++,g++){var i=u[g];k[g]=255<<24|(i<<16|i<<8|i)}}return{a3B:B,asB:c,aHE:t}}();
a.m5={};a.m5.k1=function(z,J,p){var n,B;if(p==0){n=z.S.P();B=a.m5.a0s}if(p==1){n=z.S.KQ(J.S);B=a.m5.KQ}if(p==2){n=J.S.P();
B=a.m5.ayP}if(p==3){n=z.S.ly(J.S);B=a.m5.ly}if(p==4){n=z.S.KQ(J.S);B=a.m5.aEq}if(n.Sz())return null;
var c=a.zr(z.N),t=a.j(n.C(),c);a._1(J.N,J.S,t,n);var u=a.j(n.C(),c);a._1(z.N,z.S,u,n);B(u,t,t);var v=a.Ni(t,n);
if(v.Sz())return null;if(!v.Vm(n)){var A=a.j(v.C(),c);a._1(t,n,A,v);t=A;n=v}return{N:t,S:n}};a.m5.a0s=function(z,J,p){for(var g=0;
g<z.length;g++)p[g]=z[g]};a.m5.KQ=function(z,J,p){var n=a.hW(a.zr(z));for(var g=0;g<z.length;g++)p[g]=Math.min(z[g]+J[g],n)};
a.m5.ayP=function(z,J,p){for(var g=0;g<z.length;g++)p[g]=Math.max(J[g]-z[g],0)};a.m5.ly=function(z,J,p){var n=a.hW(a.zr(z)),B=1/n;
for(var g=0;g<z.length;g++)p[g]=z[g]*J[g]*B};a.m5.aEq=function(z,J,p){var n=a.hW(a.zr(z)),B=1/n;for(var g=0;
g<z.length;g++)p[g]=Math.min(z[g]+J[g],n)-z[g]*J[g]*B};a.ai=function(z,J){this.J=[];this.WD=[0];this.D_=[];
this.MO=[];this.qm=[0];this.pW=[];this.BO=[];this.rows=z;this.cols=J};a.ai.prototype.P=function(){var z=this,J=z.rows,p=z.cols,n=new a.ai(J,p);
n.J=z.J.slice(0);n.WD=z.WD.slice(0);n.D_=z.D_.slice(0);n.MO=z.MO.slice(0);n.qm=z.qm.slice(0);n.pW=z.pW.slice(0);
n.BO=z.BO.slice(0);return n};a.ai.prototype.RN=function(z,J,p){var n=this.WD.length-1;for(var g=0;g<p;
g++){var B=z[g],c=J[g];this.J.push(B);this.D_.push(c);if(c==n){this.BO.push(B==0?0:1/B)}else{this.MO.push(B);
this.pW.push(c)}}this.WD.push(this.J.length);this.qm.push(this.MO.length)};a.ai.prototype.Bl=function(z,J){var p=this,n=p.rows,B=p.J,c=p.D_;
if(J==null)J=new Array(n);for(var g=0;g<n;g++){var t=p.WD[g],u=p.WD[g+1],v=0;while((u-t&3)!=0){v+=B[t]*z[c[t]];
t++}for(var A=t;A<u;A+=4)v+=B[A]*z[c[A]]+B[A+1]*z[c[A+1]]+B[A+2]*z[c[A+2]]+B[A+3]*z[c[A+3]];J[g]=v}return J};
a.ai.prototype.multiply=function(z){return this.sq(z.dg())};a.ai.prototype.sq=function(z){var J=this,p=J.rows,n=J.cols,B=z.rows,c=new a.ai(p,B),t=J.D_,u=z.D_;
for(var g=0;g<p;g++){var v=[],A=[],$=J.WD[g],X=J.WD[g+1];for(var U=0;U<B;U++){var w=z.WD[U],P=z.WD[U+1],k=0,T=$,Z=w;
while(T<X&&Z<P){var i=Math.max(t[T],u[Z]);while(T<X&&t[T]<i)T++;while(Z<P&&u[Z]<i)Z++;if(T<X&&Z<P&&t[T]==u[Z])k+=J.J[T++]*z.J[Z++]}if(k!=0){v.push(k);
A.push(U)}}c.RN(v,A,v.length)}return c};a.ai.prototype.dg=function(){var z=this.rows,J=this.cols,p=[];
for(var g=0;g<J;g++)p.push([[],[]]);var n=this.J,B=this.WD,c=this.D_;for(var g=0;g<z;g++){var t=B[g],u=B[g+1];
for(var v=t;v<u;v++){var A=p[c[v]];A[0].push(n[v]);A[1].push(g)}}var $=new a.ai(J,z);for(var g=0;g<J;
g++)$.RN(p[g][0],p[g][1],p[g][1].length);return $};a.ai.prototype.aCH=function(){var z=this.rows,J=this.cols,p=new Array(z),n=this.J,B=this.WD,c=this.D_;
for(var g=0;g<z;g++){var t=p[g]=new Array(J);for(var u=0;u<J;u++)t[u]=0;var v=B[g],A=B[g+1];for(var $=v;
$<A;$++)t[c[$]]=n[$]}return p};a.ai.prototype.c0=function(z,J,p,n,B){function c(F,J,d,x){var f=F.length;
for(var g=0;g<f;g++)x[g]=F[g]-J[g]*d}function t(F,J,d,x){var f=F.length,Q=0;while((f-Q&3)!=0){x[Q]=F[Q]+J[Q]*d;
Q++}for(var g=Q;g<f;g+=4){x[g]=F[g]+J[g]*d;x[g+1]=F[g+1]+J[g+1]*d;x[g+2]=F[g+2]+J[g+2]*d;x[g+3]=F[g+3]+J[g+3]*d}}function u(F,J,d){var x=F.length;
for(var g=0;g<x;g++)d[g]=F[g]*J[g]}function v(F,J){var d=F.length,x=0,f=0;while((d-x&3)!=0){f+=F[x]*J[x];
x++}for(var g=x;g<d;g+=4)f+=F[g]*J[g]+F[g+1]*J[g+1]+F[g+2]*J[g+2]+F[g+3]*J[g+3];return f}var A=n!=null?2:1,$=Date.now(),X=0,U=this,w=z.slice(0),P=z.slice(0);
U.Bl(z,P);c(J,P,1,w);var k=this.BO;if(A==0){k=w.slice(0);k.fill(1)}var T=w.slice(0);u(k,w,T);var Z=T.slice(0),i=v(w,T);
while(!0){U.Bl(Z,P);var V=i/v(Z,P);t(z,Z,V,z);c(w,P,V,w);if((X&7)==0&&Math.sqrt(v(w,w))<p)break;if(A<=1)u(k,w,T);
else{var _=w.slice(0);n.avi(_,w);B.ao5(T,_)}var y=v(w,T),E=y/i;t(T,Z,E,Z);i=y;X++}};a.ai.prototype.agJ=function(z,J,p,n){var B=Date.now(),c=1.96,u=0;
if(p==null)p=5e-6;if(n==null)n=1e9;var t=1-c,lj=this.rows,v=this.MO,A=this.qm,$=this.pW,X=this.BO;while(!0){var U=0;
for(var g=0;g<lj;g++){var w=J[g],P=A[g],k=A[g+1];if(k-P==4)w-=v[P]*z[$[P]]+v[P+1]*z[$[P+1]]+v[P+2]*z[$[P+2]]+v[P+3]*z[$[P+3]];
else for(var T=P;T<k;T++)w-=v[T]*z[$[T]];var Z=z[g]*t+X[g]*w*c,i=Z-z[g];U+=i*i;z[g]=Z}if(U/lj<p||Date.now()>B+n)break}};
a.ai.prototype.a4C=function(z,J,p,n){var B=Date.now(),c=1.96,u=0;if(p==null)p=5e-5;if(n==null)n=1e9;
var t=1-c,lj=this.rows,v=this.MO,A=this.qm,$=this.pW,X=this.BO;while(!0){var U=0;for(var g=0;g<lj;g++){var w=g*3,P=J[w],k=J[w+1],T=J[w+2],Z=A[g],i=A[g+1];
for(var V=Z;V<i;V++){var _=v[V],y=$[V]*3;P-=_*z[y+0];k-=_*z[y+1];T-=_*z[y+2]}var E=X[g]*c,F=z[w+0]*t+P*E,d=z[w+1]*t+k*E,x=z[w+2]*t+T*E,f=F-z[w+0],Q=d-z[w+1],m=x-z[w+2];
U+=.4*f*f+.5*Q*Q+.1*m*m;z[w+0]=F;z[w+1]=d;z[w+2]=x}if(U/lj<p||Date.now()>B+n)break}};a.kC={};a.kC.YL=function(z,J,p){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:z},Vrtc:{t:"doub",v:J},Cnty:{t:"bool",v:p}}}};
a.kC.h=function(z,J){for(var g=0;g<z.length;g++){var p=z[g].v,n=J.g$(new i_(p.Hrzn.v,p.Vrtc.v));p.Hrzn.v=Math.round(n.x);
p.Vrtc.v=Math.round(n.y)}};a.kC.acm=function(z,J,p){var lj=z.length-1,n=a.bp.ad(lj+1,lj+2);for(var g=1;
g<lj;g++){n[g][g-1]=1/(z[g]-z[g-1]);n[g][g]=2*(1/(z[g]-z[g-1])+1/(z[g+1]-z[g]));n[g][g+1]=1/(z[g+1]-z[g]);
n[g][lj+1]=3*((J[g]-J[g-1])/((z[g]-z[g-1])*(z[g]-z[g-1]))+(J[g+1]-J[g])/((z[g+1]-z[g])*(z[g+1]-z[g])))}n[0][0]=2/(z[1]-z[0]);
n[0][1]=1/(z[1]-z[0]);n[0][lj+1]=3*(J[1]-J[0])/((z[1]-z[0])*(z[1]-z[0]));n[lj][lj-1]=1/(z[lj]-z[lj-1]);
n[lj][lj]=2/(z[lj]-z[lj-1]);n[lj][lj+1]=3*(J[lj]-J[lj-1])/((z[lj]-z[lj-1])*(z[lj]-z[lj-1]));a.bp.x7(n,p)};
a.kC.a2e=function(z,J,p,n){if(z<=J[0])return p[0];if(z>=J[J.length-1])return p[J.length-1];var g=1;while(J[g]<z)g++;
var B=J[g],c=J[g-1],t=p[g],u=p[g-1],v=(z-c)/(B-c),A=n[g-1]*(B-c)-(t-u),$=-n[g]*(B-c)+(t-u),X=(1-v)*u+v*t+v*(1-v)*(A*(1-v)+$*v);
return X};a.kC.awj=function(z,J,p,n){var B={Cg:[z[0]],IG:[J[0]],K0:[]};n[0]=B;for(var g=1;g<z.length-1;
g++){B.Cg.push(z[g]);B.IG.push(J[g]);if(p[g]==!1){a.kC.acm(B.Cg,B.IG,B.K0);B={Cg:[z[g]],IG:[J[g]],K0:[]}}n[g]=B}B.Cg.push(z[g]);
B.IG.push(J[g]);a.kC.acm(B.Cg,B.IG,B.K0);n[g]=B};a.kC.awa=function(z,J,p,n){if(z<=J[0])return p[0];if(z>=J[J.length-1])return p[J.length-1];
var g=1;while(J[g]<z)g++;var B=n[g-1];return a.kC.a2e(z,B.Cg,B.IG,B.K0)};a.kC.a8W=function(z){var J={Cg:[],IG:[],aaY:[]};
for(var g=0;g<z.length;g++){J.Cg[g]=z[g].v.Hrzn.v;J.IG[g]=z[g].v.Vrtc.v;J.aaY[g]=z[g].v.Cnty?z[g].v.Cnty.v:!0}return J};
a.kC.ZX=function(z,lj,J){var p=0,n=255;if(J){p=-1e9;n=1e9}var B=a.kC.a8W(z),c=[];a.kC.awj(B.Cg,B.IG,B.aaY,c);
var t=new Float32Array(lj);for(var g=0;g<lj;g++)t[g]=1/255*Math.max(p,Math.min(n,a.kC.awa(g*(255/(lj-1)),B.Cg,B.IG,c)));
return t};a.kC.aC3=function(z,lj,J){var p=Math.round(z.length/20),n=lj-z.length,B=J?(z[p]-z[0])/p:0,c=J?z[0]-n*B:z[z.length-1],t=new Float32Array(lj);
t.set(z,J?n:0);for(var g=0;g<n;g++)t[g+(J?0:n)]=c+g*B;return t};a.kC.VQ=function(z,lj,J,p){if(p==null)p=8;
var n=a.kC.ZX(z,lj,!1),B;if(p==8){B=new Uint8Array(lj);for(var g=0;g<lj;g++)B[g]=~~(.5+255*n[g])}if(p==16){B=new Uint16Array(lj);
for(var g=0;g<lj;g++)B[g]=~~(.5+65535*n[g])}if(p==32)B=n;if(J&&B[0]!=0){var c=Math.ceil(lj/12);for(var g=0;
g<c;g++)B[g]*=g/c}return B};a.kC.aJn=function(z,J){var p=new Uint8Array(z.length);for(var g=0;g<z.length;
g++)p[g]=J[z[g]];return p};a.kC.aee=function(z,J){var p=J.length,n=new Float32Array(p);for(var g=0;g<p;
g++)n[g]=J[~~(z[g]*(p-1))];return n};a.kC.ky=function(z,J,p){var n=document.createElement("canvas");
n.width=J;n.height=p;var B=n.getContext("2d"),c=a.kC.VQ(z,256);B.scale(J/255,p/255);B.fillStyle="#fff";
B.fillRect(0,0,255,255);B.fillStyle="#333";B.beginPath();B.moveTo(0,255);for(var g=0;g<c.length;g++)B.lineTo(g,255-c[g]);
B.lineTo(255,255);B.closePath();B.fill();return n.toDataURL()};a.style={};a.style.stroke=function(z,J,p,n){var B=p.r,c=p.$,t=a.style.xO(z,B,c);
a.style.PL(J,p,t,p,n)};a.style.PL=function(z,J,p,n,B){var c=a.hW(a.zr(z)),t=J.ly(n),u=t.r,v=t.$;B+=.5;
var A=t.x-J.x,$=t.y-J.y,X=J.r,U=t.x-n.x,w=t.y-n.y,P=n.r;for(var k=0;k<v;k++){var T=(k+w)*P+U,Z=(k+$)*X+A;
for(var i=0;i<u;i++){var V=Math.max(0,Math.min(1,B-p[T+i]));z[Z+i]=c==1?V:Math.round(V*c)}}};a.style.a48=function(z,J,p,n){for(var B=0;
B<p;B++)for(var c=0;c<J;c++){var t=B*J+c,u=0,v=0,A=z[t];if(c==0||B==0){u=z[t+1]-A;v=z[t+J]-A}else if(c==p-1||B==J-1){u=A-z[t-1];
v=A-z[t-J]}else{u=z[t+1]-z[t-1];v=z[t+J]-z[t-J]}if(u!=0||v!=0){var $=1/Math.sqrt(u*u+v*v);u*=$;v*=$}n[t+t]=u;
n[t+t+1]=v}};a.style.xO=function(z,J,p){z=a.hg(z,8);var n=J*p,B=new ArrayBuffer((n+J*4)*4),c=new Float32Array(B,0,n),t=new Uint16Array(B,0,n<<1),u=new Int32Array(B,n*4,J),v=new Int32Array(B,(n+J)*4,J),A=new Int32Array(B,(n+J*2)*4,J),$=new Int32Array(B,(n+J*3)*4,J),X=1/255;
for(let g=0;g<J;++g){let U=-p-J,w=0,P=g,k=0;for(;k<p;++k,P+=J){if(z[P]>128)U=k,w=z[P];t[P<<1]=k-U;t[(P<<1)+1]=w}U=t[P+=P-J-J],w=t[P+1];
for(;k>1;--k){if(t[P-=J+J]>U)t[P]=++U,t[P+1]=w;else U=t[P],w=t[P+1]}}for(let T=0;T<n;T+=J){var Z=T+J,i=t[T<<1]*t[T<<1],V=0;
let _=u[0]=T,y=v[0]=T,E=i,F=E;for(let P=T+1;P<Z;++P){var d=t[P<<1]*t[P<<1];while(V&&F>(y-P)*(y-P)+d){y=v[--V],_=u[V],E=t[_<<1]*t[_<<1],F=(y-_)*(y-_)+E}if(V||F<=(y-P)*(y-P)+d){var x=P-_,f=T+Math.floor((x*(P+_-T-T)+d-E)/(x<<1))+1;
if(f<Z){y=v[++V]=f,_=u[V]=P,E=d,F=(y-_)*(y-_)+E}}else y=T,_=u[0]=P,E=d,F=(y-_)*(y-_)+E}for(let g=0;g<V;
++g){var Q=u[g]<<1;A[g]=t[Q]*t[Q];$[g]=t[Q+1]}let m=.5-t[(u[V]<<1)+1]*X;for(let P=Z-1;P>=T;--P){c[P]=Math.max(0,Math.sqrt((P-_)*(P-_)+E)+m);
if(V&&P==y){y=v[--V],_=u[V],E=A[V],m=.5-$[V]*X}}}return c};a.style.ab_=function(z,J,p){var n=new Float64Array(J*p),B=0,c=J*p;
for(var g=0;g<c;g++)B|=z[g];if(B==0){n.fill(1e9);return}var t=a.style.BB(z,J,p);for(var u=0;u<p;u++)for(var v=0;
v<J;v++){var g=u*J+v,A=t[g*2],$=t[g*2+1];if(A==0&&$==0){n[g]=0;continue}var X=Math.sqrt(A*A+$*$),U=z[(u+$)*J+v+A]*(1/255);
n[g]=X+.5-U}return n};a.style.a9y=function(z,J,p){return(.5-p)*z};a.style.BB=function(z,J,p,n){var B=new Int16Array(J*p*2);
a.style.a2k(z,B,J,p,128);return B};a.style.a2k=function(z,J,p,n,B){var c=new Int32Array(p*n);a.style.azC(z,c,p,n,B);
a.style.aIn(c,J,p,n)};a.style.azC=function(z,J,p,n,B){var c=new Int32Array(n);for(var t=0;t<p;t++){var u=p+n;
for(var v=n-1;v>=0;v--){if(z[v*p+t]>B)u=0;else u++;c[v]=u}u=p+n;for(var v=0;v<n;v++){if(z[v*p+t]>B)u=0;
else u++;J[v*p+t]=u<c[v]?-u:c[v]}}};a.style.aIn=function(z,J,p,n){var B=(p+n)*(p+n),c=new Float64Array(p),t=new Uint16Array(p);
for(var u=0;u<n;u++){var v=u*p,A=0;t[0]=0;c[0]=-B;c[1]=+B;for(var $=1;$<p;$++){var X=z[$+v]*z[$+v]+$*$,U=(X-(z[t[A]+v]*z[t[A]+v]+t[A]*t[A]))/(2*$-2*t[A]);
while(U<=c[A]){A--;U=(X-(z[t[A]+v]*z[t[A]+v]+t[A]*t[A]))/(2*$-2*t[A])}A++;t[A]=$;c[A]=U;c[A+1]=B}A=0;
for(var $=0;$<p;$++){while(c[A+1]<$)A++;var w=t[A]-$,P=z[t[A]+v],g=u*p+$<<1;J[g]=w;J[g+1]=P}}};a.oB={};
a.oB.GV=function(z,J,p){var n=z.canvas;if(n.width!=J||n.height!=p){n.width=J;n.height=p}};a.oB.b4=function(z,J,p,n,B,c){var t=a.zr(B.N),u=t==8?255:t==16?65535:1,v=1/u;
a.oB.GV(z,J,p);if(c==null)c=!1;var A=B.N,$=B.S,X=!B.isEnabled;if(J*p==0)return;var U=new ImageData(J,p),w=U.data,P=1/J,k=1/p,T=B.color/255;
for(var g=0;g<p;g++)for(var Z=0;Z<J;Z++){var i=(g*J+Z)*4,V=Math.round(n.x+Z*P*n.r),_=Math.round(n.y+g*k*n.$),y=0;
if(V<$.x||V>=$.x+$.r||_<$.y||_>=$.y+$.$)y=T;else y=A[(_-$.y)*$.r+(V-$.x)]*v;y=255-B.ED+y*B.ED;if(c)y=170+Math.round(.4*(y-170));
w[i]=y;w[i+1]=y;w[i+2]=y;w[i+3]=255}z.putImageData(U,0,0);if(X)a.oB.aav(z,J,p)};a.oB.asm={};a.oB.abR=function(z,J,p,n){var B,c,t;
B=Math.ceil(Math.max(J,p)*.35);c=J-B;t=p-B;var u=n.generativeDocInfo,v=B+"-"+(u?1:0),A=a.oB.asm[v];if(A==null){var $=a.za(B,B),X=Math.round(B*.27),U=$.lineWidth=Math.max(1,Math.round(B*.12)),w=U/2;
if(u){$.fillStyle="black";$.fillRect(0,0,B,B);$.beginPath();for(var P=0;P<1;P++)for(var g=0;g<10;g++){var k=-Math.PI/2+g*2*Math.PI/10,T=((g&1)==0?1:.4)*B*.52,Z=.5,i=.52;
Z=B*Z+Math.cos(k)*T;i=B*i+Math.sin(k)*T;if(g==0)$.moveTo(Z,i);else $.lineTo(Z,i)}$.closePath();$.fillStyle="white";
$.fill()}else{$.fillStyle="#eeeeee";$.fillRect(0,0,B,B);$.strokeRect(1+w,1+w,B-U-2,B-U-2);$.strokeRect(X+w,X+w,B-X-X-U,B-X-X-U)}A=a.oB.asm[v]=$.getImageData(0,0,B,B)}z.putImageData(A,c,t)};
a.oB.aif=[];a.oB.aGz=function(z,J,p){var n,B,c;n=Math.ceil(Math.max(J,p)*.35);B=J-n;c=p-n;var t=a.oB.aif[n];
if(t==null){var u=a.za(n,n);u.fillStyle="#eeeeee";u.fillRect(0,0,n,n);u.lineWidth=1;u.strokeRect(2.5,2.5,n-5,n-5);
var v=new ImageData(3,3),A=v.data;a.dz(A,4278190080);A[4*4]=A[4*4+1]=A[4*4+2]=238;u.putImageData(v,1,1);
u.putImageData(v,n-4,1);u.putImageData(v,1,n-4);u.putImageData(v,n-4,n-4);t=a.oB.aif[n]=u.getImageData(0,0,n,n)}z.putImageData(t,B,c)};
a.oB.aDY=function(z,J,p,n,B,c){a.oB.GV(z,J,p);var t=J/n.r;if(J*p==0)return;z.fillStyle="#999999";z.setTransform(1,0,0,1,0,0);
z.clearRect(0,0,J,p);z.save();var u=a.oB.aF0;if(u==null)u=a.oB.aF0=a_.jM.J0(!0,!0);u.strokeStyleLineWidth.v.val=1/t;
z.fillStyle="#ffffff";z.scale(t,t);a.z.$z(B.u,z,0,0);a.z.$z(B.u,z,0,0,u);z.restore();if(c){z.save();
var v=J*.4,A=p*.4;z.fillRect(J-v,p-A,v,A);z.beginPath();z.moveTo(J-v/2,p-A);z.lineTo(J-v/2,p);z.setLineDash([3,3]);
z.stroke();z.restore()}};a.oB.axG=function(z,J,p,n,B){a.oB.GV(z,J,p);if(J*p==0)return;z.setTransform(1,0,0,1,0,0);
z.fillStyle="white";z.fillRect(0,0,J,p);var c=B.w,t;if(c.add.SoLd)t=L.tp.bU(c.add.SoLd.nonAffineTransform);
else if(c.add.vmsk)t=c.add.vmsk.v_();else if(c.add.TySh){if(c.GJ.SU==null)return;t=a.b.e3(c.GJ.SU).L;
a.b.h(t,c.add.TySh.h,t)}var u=a.b.yq(t),v=Math.min(J/u.r,p/u.$),A=u.r*v,$=u.$*v;z.translate(-u.x*v+(J-A)*.5,-u.y*v+(p-$)*.5);
z.scale(v,v);B.aU(n,z,null,null)};a.oB.azO=null;a.oB.$Y=function(z,J,p,n,B,c,t,u,v){a.oB.GV(z,J,p);if(J*p==0)return;
var A=Math.max(J,p),$=a.oB.azO;if($==null||$.width<A||$.height<A){a.oB.azO=$=new ImageData(A,A)}A=$.width;
var X=$.data,U=n.r/J,w=n.$/p,P=c.x,k=c.x+c.r,T=c.y,Z=c.y+c.$,i=a.zr(B)-8;for(var g=0;g<p;g++)for(var V=0;
V<J;V++){var _=g*A+V,y=_*4,E=~~(n.x+V*U),F=~~(n.y+g*w),d=a.a3p(g,V,2);if(E<P||E>=k||F<T||F>=Z||v){X[y]=d;
X[y+1]=d;X[y+2]=d;X[y+3]=255}else{var x=(F-c.y)*c.r+(E-c.x)<<2;if(i!=24){var f=(B[x+3]>>>i)*(1/255);
X[y]=(B[x+0]>>>i)*f+d*(1-f);X[y+1]=(B[x+1]>>>i)*f+d*(1-f);X[y+2]=(B[x+2]>>>i)*f+d*(1-f)}else{var f=B[x+3];
X[y]=B[x+0]*f*255+d*(1-f);X[y+1]=B[x+1]*f*255+d*(1-f);X[y+2]=B[x+2]*f*255+d*(1-f)}X[y+3]=255}}if(u!=null)for(var g=0;
g<X.length;g+=4)X[g]=X[g+1]=X[g+2]=X[g+u];z.putImageData($,0,0);if(t)a.oB.aav(z,J,p)};a.oB.av3=function(z,J,p,n){a.oB.GV(z,J,p);
z.fillStyle=a.oB.Um(n.Clr.v);z.fillRect(0,0,J,p);a.oB.WU(z,J,p)};a.oB.Ac=null;a.oB.aJB=function(z,J,p,n){a.oB.GV(z,J,p);
var B=z.canvas.width,c=z.canvas.height,t=a.oB.Ac;if(t==null||t.width!=B||t.height!=c){z.fillStyle="#ffffff";
z.fillRect(0,0,J,p);z.fillStyle="#000000";z.font=""+p*.7+"px serif";z.fillText("T",(J-p*.43)/2,p*.75);
z.fillText("T",(J-p*.43)/2,p*.75);a.oB.Ac=z.getImageData(0,0,B,c)}else z.putImageData(t,0,0)};a.oB.awE=function(z,J,p){a.oB.GV(z,J,p);
z.clearRect(0,0,J,p);z.font=p*.7+"px serif";z.fillText(":(",(J-p*.43)/2,p*.7)};a.oB.asF=function(z,J,p,n){a.oB.GV(z,J,p);
var B=fs.get(n),c=z.canvas.width,t=a.oB.aEJ[c+B];if(t==null){var u=PIMG["adj/"+B],v=kL.Bv(u),A=UPNG.decode(v.buffer),$=new Uint8Array(UPNG.toRGBA8(A)[0]),X=new fw(0,0,160,160),U=0,w=c-U*2,P=L.tp.EG([$,X],new fA(w/160,0,0,w/160,0,0)),k=new fw(0,0,c,c),T=a.j(k.C()*4);
a.B.Oe("norm",P.buffer,P.S,T,k,P.S,1);t=a.oB.aEJ[c+B]=new ImageData(new Uint8ClampedArray(T.buffer),c,c)}z.putImageData(t,0,0)};
a.oB.aEJ={};a.oB.ak8=function(z,J,p,n){a.oB.GV(z,J,p);var B=z.canvas.width,c=z.canvas.height,t=z.getImageData(0,0,B,c);
a.Wi.MJ(n.Grad.v,new Uint8Array(t.data.buffer),new fw(0,0,B,c),[1/B,0,0,1/c],B/2,c/2,!1,0,16711680,65280);
z.putImageData(t,0,0);a.oB.WU(z,J,p)};a.oB.ac_=function(z,J,p,n,B){a.oB.GV(z,J,p);var c=z,t=ju.AR(n.Ptrn.v,B.add.Patt);
if(t==null)return;var u=t.kR[1];a.oB.$Y(z,J,p,u,t.kR[0],u,!1);a.oB.WU(c,J,p)};a.oB.aav=function(z,J,p){z.strokeStyle="#bb0000";
z.lineWidth=3;z.beginPath();z.moveTo(J*.15,p*.15);z.lineTo(J*.85,p*.85);z.moveTo(J*.85,p*.15);z.lineTo(J*.15,p*.85);
z.closePath();z.stroke()};a.oB.WU=function(z,J,p){z.fillStyle="#eeeeee";z.fillRect(0,p*.75,J,p*.25);
z.beginPath();z.moveTo(0,p*.75);z.lineTo(J,p*.75);z.moveTo(J*.1,p*.875);z.lineTo(J*.9,p*.875);z.moveTo(J*.65,p*.825);
z.lineTo(J*.65,p*.95);z.closePath();z.stroke()};a.oB.Um=function(z){var J=a.Wi.Um(z),p=Math.round(J.o)<<16|Math.round(J.k)<<8|Math.round(J.X);
return"#"+a.fX(p)};a.z={};a.z.hh=function(z,J,p){var n=[],B=-1;for(var g=0;g<z.length;g++){var c=z[g];
if((c.I==0||c.I==3)&&c.j1!=-1)B++;if(c.I>5||c.I==0||c.I==3)continue;if(J!=null&&J.indexOf(B)==-1)continue;
if(p!=null&&p.indexOf(g)==-1)continue;n.push(c.FV.x);n.push(c.FV.y);n.push(c.cy.x);n.push(c.cy.y);n.push(c.M3.x);
n.push(c.M3.y)}return n};a.z._7=function(z,J,p,n){var B=0,c=-1;for(var g=0;g<J.length;g++){var t=J[g];
if((t.I==0||t.I==3)&&t.j1!=-1)c++;if(t.I>5||t.I==0||t.I==3)continue;if(p!=null&&p.indexOf(c)==-1)continue;
if(n!=null&&n.indexOf(g)==-1)continue;t.FV.GK(z[B],z[B+1]);t.cy.GK(z[B+2],z[B+3]);t.M3.GK(z[B+4],z[B+5]);
B+=6}};a.z.Gn=function(z,J,p,n){var B=a.z.hh(z,p,n);a.b.h(B,J,B);a.z._7(B,z,p,n)};a.z.acv=function(z,J,p,n){var B=a.z.hh(z,p,n);
a.F.h(J,B);a.z._7(B,z,p,n)};a.z.a3m=function(z,J,p,n){if(n==null){var B=a.z.ah9(z,40,p);for(var g=0;
g<B.length;g++)z[g]=B[g]}var c=a.z.hh(z,p,n);a.IN.h(J,c,a.b.yq(c));a.z._7(c,z,p,n)};a.z.ah9=function(z,J,p){var n=[],B=-1;
for(var g=0;g<z.length;g++){var c=z[g],t=c.length;if(c.I>5){n.push(a.G(c));continue}c=a.G(c);n.push(c);
if(c.j1!=-1)B++;if(p&&p.indexOf(B)==-1){n=n.concat(z.slice(g+1,g+1+t))}else{var u=a.z.aBH(z,g+1,t);u=a.b.mW(u,J);
var v=a.z.a7J(u);c.length=v.length;for(var A=0;A<v.length;A++)n.push(v[A])}g+=t}return n};a.z.aBH=function(z,J,p){var n={Ao:["M"],L:[]},B=z[J],c=z[J+p-1];
n.L.push(B.cy.x,B.cy.y);for(var g=1;g<p;g++){var t=z[J+g-1],u=z[J+g];n.Ao.push("C");n.L.push(t.M3.x,t.M3.y,u.FV.x,u.FV.y,u.cy.x,u.cy.y)}n.Ao.push("C");
n.L.push(c.M3.x,c.M3.y,B.FV.x,B.FV.y,B.cy.x,B.cy.y);return n};a.z.a7J=function(z){var J=[],p=z.Ao,n=z.L,B=0,lj=n.length;
J.push({I:2,FV:new i_(n[lj-4],n[lj-3]),cy:new i_(n[0],n[1]),M3:new i_(n[2],n[3])});for(var g=0;g<p.length-2;
g++){var c=g*6+4;J.push({I:2,FV:new i_(n[c],n[c+1]),cy:new i_(n[c+2],n[c+3]),M3:new i_(n[c+4],n[c+5])})}return J};
a.z.atC=function(z){for(var g=0;g<z.length;g++){if(z[g].I>5)continue;var J=z[g].length;if(!(J==4||J==6||J==8)){g+=J;
continue}for(var p=0;p<J;p++){var n=z[g+1+p],B=z[g+1+(p+1)%J],c=Math.min(n.cy.x,B.cy.x),t=Math.min(n.cy.y,B.cy.y),u=0,v=0;
if(n.cy.x<B.cy.x){u=n.cy.y-t;v=u-(B.cy.x-c)}else{u=B.cy.y-t;v=u-(n.cy.x-c)}if(Math.abs(v)<.2*u)return u}}return-1};
a.z.nd=function(z,J,p){function n(U,w){var P=Math.min(U.x,w.x),k=Math.min(U.y,w.y),T=Math.max(U.x+U.r,w.x+w.r),Z=Math.max(U.y+U.$,w.y+w.$);
return new fw(P,k,T-P,Z-k)}var B=null,c=-1,t=!a.z.y9(z);for(var g=0;g<z.length;g++){var u=z[g];if(u.I>5)continue;
if((u.I==0||u.I==3)&&u.j1!=-1)c++;if(J!=null&&J.indexOf(c)==-1)continue;if(g==z.length-1)break;var v=u.I==3,A=u.length,$=u.j1,X=a.z.oO(z,g+1,A,v);
if(B==null)B=X;else if(p)B=n(B,X);else if(t){if(J!=null||$==0||$==-1||$==2)B=n(B,X);else if($==1)B=B;
else if($==3){B=X;t=!1}}else{if(J!=null||$==0||$==-1||$==1)B=n(B,X);else if($==2)B=B;else if($==3)B=B.ly(X)}g+=A}if(B==null||B.r<0||B.$<0)B=new fw(0,0,0,0);
return B};a.z.aFh=new Float64Array(4);a.z.oO=function(z,g,J,p){var n=a.z.aFh;n[0]=1e30;n[1]=1e30;n[2]=-1e30;
n[3]=-1e30;var B=z[g+J-1];if(!p)a.z.aJI(B.cy.x,B.cy.y,B.M3.x,B.M3.y,z[g].FV.x,z[g].FV.y,z[g].cy.x,z[g].cy.y,n);
for(var c=g;c<g+J-1;c++){var t=z[c],u=z[c+1];a.z.aJI(t.cy.x,t.cy.y,t.M3.x,t.M3.y,u.FV.x,u.FV.y,u.cy.x,u.cy.y,n)}return new fw(n[0],n[1],n[2]-n[0],n[3]-n[1])};
a.z.aJI=function(z,J,p,n,B,c,t,u,v){if(z==p&&J==n&&B==t&&c==u){v[0]=Math.min(v[0],Math.min(z,t));v[1]=Math.min(v[1],Math.min(J,u));
v[2]=Math.max(v[2],Math.max(z,t));v[3]=Math.max(v[3],Math.max(J,u));return}var A=z,$=J,X=z,U=J,w=40,P=1/(w-1);
for(var k=0;k<w;k++){var T=k*P,Z=1-T,i=Z*Z*Z,V=3*Z*Z*T,_=3*Z*T*T,y=T*T*T,E=i*z+V*p+_*B+y*t,F=i*J+V*n+_*c+y*u;
if(E<A)A=E;else if(E>X)X=E;if(F<$)$=F;else if(F>U)U=F}if(A<v[0])v[0]=A;if($<v[1])v[1]=$;if(X>v[2])v[2]=X;
if(U>v[3])v[3]=U};a.z.aqb=function(z,J){var p=z.length-3,n=J%p,B=Math.floor(n);if(J<0||B>=p)return null;
var c=z[3+B],t=z[3+(B+1)%p],u=c.cy,v=c.M3,A=t.FV,$=t.cy,X=n-B,U=1-X,w=U*U*U*u.x+3*U*U*X*v.x+3*U*X*X*A.x+X*X*X*$.x,P=U*U*U*u.y+3*U*U*X*v.y+3*U*X*X*A.y+X*X*X*$.y;
return new i_(w,P)};a.z.Kv=function(z,J){var p=a.b.Yo(z),n=p.kE;p.kE=Typr.U.pathToSVG({crds:n.L,cmds:n.Ao},J==null?2:J);
return p};a.z.a1t=function(z){var J=[],p=z.L,n=0,B=0,c=0,t=0,u=0,v=!0;for(var g=0;g<z.Ao.length;g++){var A=z.Ao[g];
if(A=="M"){if(!v&&(B!=t||c!=u))J.push(["L",[B,c],[t,u]]);t=B=p[n];u=c=p[n+1];n+=2;v=!1}else if(A=="L"){J.push(["L",[B,c],[p[n],p[n+1]]]);
B=p[n];c=p[n+1];n+=2}else if(A=="Q"){J.push(["Q",[B,c],[p[n],p[n+1]],[p[n+2],p[n+3]]]);B=p[n+2];c=p[n+3];
n+=4}else if(A=="C"){J.push(["C",[B,c],[p[n],p[n+1]],[p[n+2],p[n+3]],[p[n+4],p[n+5]]]);B=p[n+4];c=p[n+5];
n+=6}else if(A=="Z"){}else throw A}if(!v&&(B!=t||c!=u))J.push(["L",[B,c],[t,u]]);return J};a.z.vY=function(z){var J=Date.now(),p;
a.z.oK();var n=a.z.LR(z),B=[];for(var g=0;g<n.length;g++){var c=n[g][0],t=n[g][1];if(Math.abs(c.area)<1e-5)B.push(c);
else if(p==null)p=c;else{if(!c.closed)c.closed=!0;p=p[t](c);p.remove()}}if(p==null)p=new paper.CompoundPath(B);
else{if(p.segments)p=new paper.CompoundPath(p);for(var g=0;g<B.length;g++){p.addChild(B[g])}}var u=z.slice(0,2);
u=u.concat(a.z.$F(p));a.z.A9(n);a.z.A9([[p]]);if(u[2])u[2].j1=1;for(var g=3;g<u.length;g++)if(u[g].j1!=null)u[g].j1=-1;
return u};a.z.oK=function(){if(a.z.a2u==null){var z=document.createElement("canvas");paper.setup(z);
a.z.a2u=!0}};a.z.aJh=function(z,J){a.z.oK();var p=[],n=a.z.LR(z),B=new paper.Path.Rectangle(new paper.Rectangle(J.x,J.y,J.r,J.$));
B.remove();B.fillColor=new paper.Color(1,0,0);for(var g=0;g<n.length;g++){if(B.intersects(n[g][0])||B.contains(n[g][0].children[0].segments[0].point))p.push(g)}a.z.A9(n);
return p};a.z.Y8=function(z,J,p,n){a.z.oK();var B=p?{curves:!0,tolerance:n}:null,c=new paper.Point(J.x,J.y),t=a.z.LR(z);
a.z.A9(t);for(var g=t.length-1;g>=0;g--){var u=t[g][0],v=u.hitTest(c,B);if(v!=null)return{GU:g,Rl:p?v.location.index:null,md:p?v.location.time:0}}return{GU:-1}};
a.z.Lp=function(z,J,p,n){var B=[[],[],[]];for(var g=0;g<z.length;g++){var c=z[g];if(c.I>5||c.I==0||c.I==3)continue;
var t=J.n9(c.cy),u=J.n9(c.FV),v=J.n9(c.M3);if(p&&p.indexOf(g)==-1){if(n){if(p.indexOf(g-1)==-1)u=!1;
if(p.indexOf(g+1)==-1)v=!1}else u=v=!1}if(t)B[0].push(g);if(u)B[1].push(g);if(v)B[2].push(g)}B[3]=B[0].length+B[1].length+B[2].length;
return B};a.z.acC=function(z,J,p){var n=z[J];for(var B=J+1;B<p;B++)z[B-1]=z[B];z[p-1]=n};a.z.aDQ=function(z,J,p,n){var g,B,c,t=0;
z=z.slice(0);J.sort(function(P,k){return P-k});c=-1;for(g=2;g<z.length;){var u=z[g],v=u.length;if(u.j1!=-1)c++;
var A=t;while(A<J.length&&J[A]<g+1+v)A++;if(t!=A){var $=J.slice(t,A);t=A;for(B=0;B<v;B++)if($.indexOf(g+1+B)!=-1)z[g+1+B]=null;
if(u.I==0){var X=$[0]-(g+1);while(X!=0){a.z.acC(z,g+1,g+1+v);X--}}var U=u;U.length=0;B=0;while(B<v&&z[g+1+B]==null)B++;
while(B<v){var w=z[g+1+B];if(w!=null)U.length++;else if(B<v+1&&z[g+1+B+1]&&n){U=z[g+1+B]={I:0,j1:-1,length:0,RX:0,Zt:0,VR:1}}B++}if(n)for(B=-1;
B<v;B++)if(z[g+1+B]&&z[g+1+B].I<3)z[g+1+B].I+=3;a.R$.oo(p,c)}g+=1+v}for(g=0;g<z.length;g++)if(z[g]==null){z.splice(g,1);
g--}c=0;for(g=2;g<z.length;g++){var u=z[g];if(u.length==0){if(z[g+1]&&z[g+1].j1==-1)z[g+1].j1=u.j1;else if(u.j1!=-1)p.splice(c,1);
z.splice(g,1);g--}else if(u.length!=null&&u.j1!=-1)c++}return z};a.z.aJD=function(z,J){for(var g=0;g<z.length;
g++){var p=z[g];if(p.I==0||p.I==3){p.j1=g==2||J?0:-1;p.VR=J?1:2}}};a.z.aGG=function(z,J){var p=z.slice(0,2),n=-1;
for(var g=2;g<z.length;g++){if((z[g].I==0||z[g].I==3)&&z[g].j1!=-1)n++;if(J.indexOf(n)==-1)p.push(z[g])}return p};
a.z.ai_=function(z,J){var p=z.slice(0,2),n=-1;for(var g=2;g<z.length;g++){if((z[g].I==0||z[g].I==3)&&z[g].j1!=-1)n++;
if(J.indexOf(n)!=-1)p.push(z[g])}return p};a.z.aIR=function(z){var J=0;for(var g=0;g<z.length;g++)if(z[g].I==0||z[g].I==3)J=g;
return z[J]};a.z.ZR=function(z,J){var p=-1;for(var g=0;g<z.length;g++)if((z[g].I==0||z[g].I==3)&&(J||z[g].j1!=-1))p++;
return p+1};a.z.Qq=function(z,J,p){var n=-1;for(var g=0;g<z.length;g++)if((z[g].I==0||z[g].I==3)&&(p||z[g].j1!=-1)){n++;
if(n==J)return g}return-1};a.z.y8=function(z,J,p){var n=-1;for(var g=0;g<z.length;g++)if((z[g].I==0||z[g].I==3)&&(p||z[g].j1!=-1)){if(g>=J)return n;
n++}return n};a.z.gN=function(z,J){var p=-1,n=0;for(var g=0;g<z.length;g++){if((z[g].I==0||z[g].I==3)&&z[g].j1!=-1)p++;
if(p==J)n++}return n};a.z.avl=function(z){var J=180;for(var g=0;g<z.length;g++){if(z[g].I!=0&&z[g].I!=3)continue;
var p=z[g].length;if(p<3)continue;for(var n=0;n<p;n++){var B=z[g+1+(n-1+p)%p],c=z[g+1+n],t=z[g+1+(n+1)%p],u=c.cy,v=c.FV.Vm(u)?B.M3:c.FV,A=c.M3.Vm(u)?t.FV:c.M3;
if(u.Vm(v)||u.Vm(A))continue;var $=v.x-u.x,X=v.y-u.y,U=A.x-u.x,w=A.y-u.y,v=Math.atan2(v.y-u.y,v.x-u.x)*180/Math.PI,A=Math.atan2(A.y-u.y,A.x-u.x)*180/Math.PI,P=Math.abs(A-v)%360,k=P>180?360-P:P;
if(k<J)J=k}}return J*Math.PI/180};a.z.$F=function(z){var J=z.segments?[z]:z.children,p=[];for(var g=0;
g<J.length;g++){var n=J[g],B=n.segments,c=n.closed?0:3,t=p.length,u=null;if(B.length<=1)continue;p.push({I:c,length:B.length,j1:0,VR:2});
for(var v=0;v<B.length;v++){var A=B[v],$=new i_(A.handleIn.x,A.handleIn.y),X=new i_(A.handleOut.x,A.handleOut.y),U=new i_(A.point.x,A.point.y),w={I:c+1,FV:U.add($),cy:U,M3:U.add(X)};
if(u==null)u=w;p.push(w);if(v+1==B.length&&i_.mT(u.cy,w.cy)<1e-5){p.pop();p[t].length--;u.FV=w.FV;if(c==3)for(var P=t;
P<p.length;P++)p[P].I-=3}}}return p};a.z.LR=function(z){a.z.oK();var J=[],p,n=new paper.Color(1,0,0),B=1;
function c(P,v){P.remove();P.closed=!v;P.fillRule=B==2?"nonzero":"evenodd"}for(var g=0;g<z.length;g++){if(5<z[g].I)continue;
var t=z[g].length,u;if(g==z.length-1)break;var v=z[g].I==3;if(g==2){if(!a.z.iW(z))u="subtract";else u="unite"}else{if(z[g].j1==0)u="exclude";
if(z[g].j1==1)u="unite";if(z[g].j1==2)u="subtract";if(z[g].j1==3)u="intersect"}if(z[g].j1!=-1){B=z[g].VR;
p=new paper.CompoundPath;J.push([p,u]);p.fillRule=B==2?"nonzero":"evenodd";p.fillColor=n}var A=[];for(var $=0;
$<t;$++){var X=z[g+1+$],U=X.FV.Br(X.cy),w=X.M3.Br(X.cy);A.push([[X.cy.x,X.cy.y],[U.x,U.y],[w.x,w.y]])}var P=new paper.Path(A);
c(P,v);p.addChild(P);g+=t}return J};a.z.A9=function(z){for(var g=0;g<z.length;g++)z[g][0].remove()};
a.z.R3=function(z){for(var g=0;g<z.length;g++){var J=z[g];if(J.cy==null)continue;if(!J.cy.Vm(J.FV)||!J.cy.Vm(J.M3))return!1}return!0};
a.z.arf=function(z){if(z.length<=5)return 0;var J=0,p=z.length-3-1;for(var g=0;g<p;g++){var n=z[3+g],B=z[3+g+1];
if(n.I==0||B.I==0)return 0;J+=(B.cy.x-n.cy.x)*(n.cy.y+B.cy.y)}J+=(z[3].cy.x-z[3+p].cy.x)*(z[3+p].cy.y+z[3+1].cy.y);
return-J*.5};a.z.y9=function(z){var J=z[2],p=!1;if(z.length==2)p=z[1].all==0;else if(z[1].all==1){if(J.j1==1||J.j1==3)p=!0;
else p=!1}else{if(J.j1==1||J.j1==3||J.j1==0)p=!0;else p=!1}return p};a.z.iW=function(z){var J=a.z.y9(z);
for(var g=3;g<z.length;g++)if(z[g].j1==3)J=!0;return J};a.z.aww=0;a.z.aIf=0;a.z.awL=0;a.z.aiS=function(z,J,p,n){if(p.Sz())return;
var B=p.C(),Z=16384;a.z.aww+=B;if(B>a.z.aIf){a.z.aIf=B}var c=p.r,t=p.$;if(n==null&&a.z.R3(z)&&z[2]&&z[2].j1!=2){var u=!0;
for(var g=2;g<z.length;)if(z[g].length==2)g+=3;else{u=!1;break}if(u){return}if(a.z.Jr(z)){J.fill(255);
var v=a.z.nd(z);if(v.C()!=B){var A=1-(v.x-p.x),$=1-(v.y-p.y),X=1-(p.x+p.r-(v.x+v.r)),U=1-(p.y+p.$-(v.y+v.$)),w=~~(A*255),P=~~(X*255),k=~~($*255),T=~~(U*255);
J.fill(k,0,c);J[0]=~~(A*$*255);J[c-1]=~~(X*$*255);for(var g=c;g<B;g+=c){J[g]=w;J[g+c-1]=P}J.fill(T,(t-1)*c,t*c);
J[B-c]=~~(A*U*255);J[B-1]=~~(X*U*255)}return}}var i=Math.ceil(c/Z),V=Math.ceil(t/Z),_=Math.ceil(c/i),y=Math.ceil(t/V),E=Date.now();
for(var F=0;F<V;F++)for(var d=0;d<i;d++){var x=d*_,f=F*y,Q=_,m=y,H=a.za(Q,m);if(!a.z.y9(z))H.fillRect(0,0,Q,m);
a.z.$z(z,H,-p.x-x,-p.y-f,n);var S=new Uint8Array(H.getImageData(0,0,Q,m).data.buffer);if(Q==c&&m==t)a.Tm(S,J,3);
else a.CO(S,new fw(x,f,Q,m),J,new fw(0,0,c,t))}};a.z.amY=function(z){var J=!1,p=!1,n=0,B=!1;for(var g=0;
g<z.length;g++){var c=z[g].j1;if(c!=null){n++;if(c==-1)J=!0;if(c==1||c==2||c==3)p=!0;if(z[g].I==0)B=!0}}if(!J&&n<20&&B&&p)z=a.z.vY(z);
return z};a.z.$z=function(z,J,p,n,B,c){if(B!=null){z=a.z.amY(z)}var t=1;for(var g=0;g<z.length;g++){if(5<z[g].I)continue;
var u=z[g].length;if(u==0)continue;if(g==z.length-1)break;var v=z[g].I==3,A=z[g].j1;if(A!=-1){J.beginPath();
if(B)a.z.bC(a_.jM.kn(B),J);else{t=z[g].VR;if(A==3&&g==2)A=1;var $=["xor","source-over","destination-out","source-in"][A];
J.globalCompositeOperation=$}}a.z.adz(J,z,g+1,u,p,n,v);if(v){}else J.closePath();if(z[g+1+u]==null||z[g+1+u].j1!=-1){if(B){if(c)J.clip();
J.stroke()}else J.fill(t==2?"nonzero":"evenodd")}g+=u}J.globalCompositeOperation="source-over";J.setLineDash([])};
a.z.bC=function(z,J){var p=z.tM;J.setLineDash(z.ji);J.lineCap=["butt","round","square"][z.eY];J.lineJoin=["miter","round","bevel"][z.AE];
J.lineWidth=z.O_==1?p:p*2;J.miterLimit=z.Rw};a.z.adz=function(z,J,g,p,n,B,c){var t=J[g],u=null;z.moveTo(t.cy.x+n,t.cy.y+B);
for(var v=g;v<g+p-1;v++){t=J[v];u=J[v+1];if(t.cy.Vm(t.M3)&&u.FV.Vm(u.cy))z.lineTo(u.cy.x+n,u.cy.y+B);
else z.bezierCurveTo(t.M3.x+n,t.M3.y+B,u.FV.x+n,u.FV.y+B,u.cy.x+n,u.cy.y+B)}if(!c){t=J[v];u=J[g];if(t.cy.Vm(t.M3)&&u.FV.Vm(u.cy))z.lineTo(u.cy.x+n,u.cy.y+B);
else z.bezierCurveTo(t.M3.x+n,t.M3.y+B,u.FV.x+n,u.FV.y+B,u.cy.x+n,u.cy.y+B)}};a.z.aj$=function(z,J){var p=[],n=J?4:1;
for(var g=0;g<z.length;g+=2){var B=new i_(z[g],z[g+1]);p.push({I:n,FV:B.P(),cy:B.P(),M3:B.P()})}return p};
a.z.acE=function(z,J,p){var n=(1-(p!=null?p:25)*.01)*10;if(n>0){for(var g=0;g<J.length;g++){var B=J[g],c=a.z.Qq(z,B),t=a.z.gN(z,B),u=z.slice(c,c+t);
a.z.oK();var v=new paper.Path;v.remove();v.closed=!0;for(var A=1;A<u.length;A++)v.add(new paper.Point(u[A].cy.x,u[A].cy.y));
var $=v.simplify(n);if($)z.splice(c,t,...a.z.$F(v))}}return z};a.z.Id=function(z,J,p){var n=a.b.yq(z),B=Math.sqrt(Math.sqrt(n.C()))*.2,c=.2;
z=z.slice(0);var t=z.length,u=J?0:2;for(var v=0;v<5;v++)for(var g=u;g<z.length-u;g+=2){var A=(g-2+t)%t,$=(g+2)%t,X=z[g],U=z[g+1],w=(z[A]+z[$])*.5,P=(z[A+1]+z[$+1])*.5;
z[g]=X+(w-X)*c;z[g+1]=U+(P-U)*c}if(p)return a.z.dZ.AB(z,null,!J);a.z.oK();var k=new paper.Path;k.remove();
k.closed=J;for(var g=0;g<z.length;g+=2)k.add(new paper.Point(z[g],z[g+1]));k.simplify(B);var T=[{I:6},{I:8,all:0}];
T=T.concat(a.z.$F(k));return T};a.z.EH=function(z,J,p){var n=z[J].length,B=z[J].I,c=0,t=z.slice(J+1,J+1+n);
for(var g=0;g<n;g++){var u=p[(g-1+n)%n],v=p[(g+1+n)%n],A=p[g];if(A!=0){var $=t[(g-1+n)%n].cy,X=t[(g+0+n)%n].cy,U=t[(g+1+n)%n].cy,w=i_.mT(X,$),P=i_.mT(X,U),k=a.b.ap4($.x,$.y,X.x,X.y,U.x,U.y,A)[0],T=Math.min(k,u==0?w:w/2,v==0?P:P/2);
A*=T/k;var Z=a.b.aaW($.x,$.y,X.x,X.y,U.x,U.y,A),i={I:B+1,FV:new i_(Z[2],Z[3]),cy:new i_(Z[2],Z[3]),M3:new i_(Z[4],Z[5])},V={I:B+1,FV:new i_(Z[6],Z[7]),cy:new i_(Z[8],Z[9]),M3:new i_(Z[8],Z[9])};
z.splice(J+c+1,1,i,V);c++;z[J].length++}c++}};a.z.R3=function(z){for(var g=0;g<z.length;g++){var J=z[g],p=J.I;
if(p==1||p==2||p==4||p==5)if(!J.cy.Vm(J.FV)||!J.cy.Vm(J.M3))return!1}return!0};a.z.Jr=function(z){if(z.length!=7||z[2].length!=4||!a.z.R3(z))return!1;
for(var g=0;g<4;g++){var J=!0;for(var p=0;p<4;p++){var n=z[3+(g+p&3)],B=z[3+(g+p+1&3)];if(n.cy.x!=B.cy.x&&n.cy.y!=B.cy.y)J=!1}if(J)return!0}return!1};
a.z.aH9=function(z){if(z.length<6)return 0;var J=z.length-2,p=0;for(var g=0;g<J;g+=2)p+=(z[g+2]-z[g])*(z[g+1]+z[g+3]);
p+=(z[0]-z[J])*(z[J+1]+z[1]);return-p*.5};a.z.aLj=function(z){z=bi.jP.Ox(z);var J=a.z.ZR(z);for(var p=0;
p<J;p++){var n=a.z.Qq(z,p)+1,B=z[n-1].length,c=[];for(var g=0;g<B;g++){var t=z[n+g].cy;c.push(t.x,t.y)}var u=a.z.aH9(c);
if(u<0)a.z.a3g(z,n-1)}return z};a.z.a3g=function(z,J){var p=J+1,n=z[J].length,B=[];for(var g=0;g<n;g++){var c=z[p+g],t=c.FV;
c.FV=c.M3;c.M3=t;B.push(c)}for(var g=0;g<n;g++)z[p+g]=B[n-1-g]};a.z.dZ={};a.z.dZ.AB=function(z,J,p){var n=[{I:6},{I:8,all:0}],B=null;
n.push({I:p?3:0,j1:1,length:0,RX:0,Zt:0,VR:1});if(J==0||J==null)B=null;else if(J instanceof Array)B=J;
else{B=[];for(var g=0;g<z.length;g+=2)B.push(J)}n=n.concat(a.z.aj$(z,p));n[2].length=n.length-3;if(B){a.z.EH(n,2,B);
n.push(n[3]);n.splice(3,1)}return n};a.z.dZ.af0=function(z,J,p,n,B){var c=[],t=[],u=.553,v=1,A=-1;c.push({I:1,FV:new i_(0,u),cy:new i_(0,0),M3:new i_(0,-u)});
B+=2;for(var g=0;g<B;g++){var $={I:1};if(g==0){$.cy=new i_(1,-1);$.FV=new i_(1-u,-1);$.M3=new i_(1+u,-1)}else{var X=-(g+2)*Math.PI/2,U=1+((g&1)==1?g-1:g),w=Math.sin(X),P=Math.cos(X);
v+=U*(w-P);A+=U*(P+w);$.cy=new i_(v,A);$.FV=new i_(v+U*P*u,A-U*w*u);if((g&1)==1)U+=2;$.M3=new i_(v-U*P*u,A+U*w*u)}var k={I:1,FV:new i_(-$.M3.x,-$.M3.y),cy:new i_(-$.cy.x,-$.cy.y),M3:new i_(-$.FV.x,-$.FV.y)};
c.push($);if(g<B-2)t.push(k)}t.reverse();c=c.concat(t);var T=[{I:6},{I:8,all:0}];T.push({I:0,j1:1,length:c.length,RX:0,Zt:0,VR:1});
T=T.concat(c);var Z=new fA(p/B,0,0,p/B,0,0);Z.rotate(n);Z.translate(z,J);a.z.Gn(T,Z);return T};a.z.dZ.Rect=function(z,J,p,n,B){var c=[z,J,z+p,J,z+p,J+n,z,J+n];
return a.z.dZ.AB(c,B)};a.z.dZ.SX=function(z,J,p,n,B,c,t,u){var v=[],A=2*Math.PI/B;for(var g=0;g<B;g++)v.push(Math.cos(g*A-n),Math.sin(g*A-n));
if(t!=null){var $=a.b.yq(v),X=$.r,U=$.$,w=t/(X/2),P=u/(U/2);for(var g=0;g<v.length;g+=2){v[g]=(v[g]-($.x+X/2))*w;
v[g+1]=(v[g+1]-($.y+U/2))*P}p=1}var k=new fA(p,0,0,p,0,0);k.translate(z,J);a.b.h(v,k,v);return a.z.dZ.AB(v,c)};
a.z.dZ.aHL=function(z,J,p,n,B,c,t){var u=p-z,v=n-J,A=(u-t*(c+1))/c,$=(v-t*(B+1))/B,X={Ao:[],L:[]};function U(P,w,k,T){X.Ao.push("M","L","L","L","Z");
X.L.push(P,w,P+k,w,P+k,w+T,P,w+T)}U(z,J,u,v);for(var w=0;w<B;w++)for(var P=0;P<c;P++)U(z+t+P*(A+t),J+t+w*($+t),A,$);
return a.b.nK(X)};a.z.dZ.aoN=function(z,J,p,n,B,c,t){var u=[],v=Math.PI/B;for(var g=0;g<B*2;g++){var A=(g&1)==0?1:t;
u.push(A*Math.cos(g*v),A*Math.sin(g*v))}var $=new fA(p,0,0,p,0,0);$.rotate(n);$.translate(z,J);a.b.h(u,$,u);
return a.z.dZ.AB(u,c)};a.z.dZ.kY=function(z,J,p,n,B){return a.z.dZ.Ak(0,z,J,p,n,B)};a.z.dZ.aD$=function(z,J,p,n,B,c){return a.z.dZ.Ak(1,z,J,p,n,B,c)};
a.z.dZ.Pi=function(z,J,p,n,B,c){return a.z.dZ.Ak(2,z,J,p,n,B,c)};a.z.dZ.Ak=function(z,J,p,n,B,c,t){var u=Math.sqrt((n-J)*(n-J)+(B-p)*(B-p)),v;
c/=2;if(z==0)v=[-c,0,c,0,c,u,-c,u];if(z==1){var A=c*2*t*1.3/1.5,$=c*t;v=[-c,0,c,0,c,u-A,$,u-A,0,u,-$,u-A,-c,u-A]}if(z==2){var A=t[3],$=t[2]/2,X=A*(2/3)*t[4]/100,U=A-X,w=A;
v=[];if(t[0])v.push(-c,U,-$,w,0,0,$,w,c,U);else if(c==0)v.push(0,0);else v.push(-c,0,c,0);if(t[1])v.push(c,u-U,$,u-w,0,u,-$,u-w,-c,u-U);
else if(c==0)v.push(0,u);else v.push(c,u,-c,u)}var P=new fA(1,0,0,1,0,0);P.rotate(Math.atan2(-B+p,n-J)+Math.PI/2);
P.translate(J,p);a.b.h(v,P,v);return a.z.dZ.AB(v,0)};a.z.dZ.xJ=function(z,J,p,n){var B=[{I:6},{I:8,all:0}],X=.553;
B.push({I:0,j1:1,length:4,RX:0,Zt:0,VR:1});var c=z,t=J,u=z+p,v=J+n,z=(c+u)/2,J=(t+v)/2,A=(c-u)/2,$=(t-v)/2;
B.push({I:1,FV:new i_(z-X*A,J-$),cy:new i_(z,J-$),M3:new i_(z+X*A,J-$)});B.push({I:1,FV:new i_(z+A,J-X*$),cy:new i_(z+A,J),M3:new i_(z+A,J+X*$)});
B.push({I:1,FV:new i_(z+X*A,J+$),cy:new i_(z,J+$),M3:new i_(z-X*A,J+$)});B.push({I:1,FV:new i_(z-A,J+X*$),cy:new i_(z-A,J),M3:new i_(z-A,J-X*$)});
return B};a.z.dZ.a3v=function(z,J,p,n,B){var c=[{I:6},{I:8,all:0}];c.push({I:3,j1:1,length:5,RX:0,Zt:0,VR:1});
var t=(B-n)/4;for(var g=0;g<5;g++){var u=g*t,v=Math.cos(u),A=Math.sin(u),$=.553*(t/(Math.PI/2)),X=A*$,U=-v*$,w=new i_(v,A);
c.push({I:4,FV:g==0?w.P():new i_(v+X,A+U),cy:w,M3:g==4?w.P():new i_(v-X,A-U)})}var P=new fA;P.rotate(-n);
P.scale(p,p);P.translate(z,J);a.z.Gn(c,P);return c};a.TX={};a.TX.I={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
a.TX.acB={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
a.TX.CM=function(z){var J=z.warpStyle.v.warpStyle;if(J=="warpNone")return!0;else if(J=="warpCylinder")return!1;
else if(J=="warpCustom"){var p=!1,n=a.TX.aCF(z);for(var g=0;g<4;g++)for(var B=0;B<4;B++){var c=n[g*2]-n[(B*4+g)*2],t=n[g*4*2+1]-n[(g*4+B)*2+1];
if(c*c>1||t*t>1)p=!0}return!p}else return z.warpValue.v==0&&z.warpPerspective.v==0&&z.warpPerspectiveOther.v==0};
a.TX.axu=function(z){var J=a.G(z);J.v.classID="quiltWarp";J.v.deformNumRows={t:"long",v:4};J.v.deformNumCols={t:"long",v:4};
if(J.v.customEnvelopeWarp)a.TX.ao2(J.v,[[0,1],[0,1]]);return J};a.TX.a9U=function(z){var J;if(a.TX.rq(z.v)==16)J=a.G(z);
else J={t:"Objc",v:a.TX.j(a.TX.R2(z.v))};J.v.classID="warp";delete J.v.deformNumRows;delete J.v.deformNumCols;
var p=J.v.customEnvelopeWarp;if(p){delete p.v.quiltSliceX;delete p.v.quiltSliceY}return J};a.TX.rq=function(z){return z.deformNumRows.v*z.deformNumCols.v};
a.TX.j=function(z){var J={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(z){J.classID="quiltWarp";J.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:z.y}},Left:{t:"UntF",v:{type:"#Pxl",val:z.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:z.y+z.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:z.x+z.r}}}};
J.uOrder={t:"long",v:4};J.vOrder={t:"long",v:4};J.deformNumRows={t:"long",v:4};J.deformNumCols={t:"long",v:4}}return J};
a.TX.abg=function(z,J,p){for(var g=0;g<z.length;g+=2){var n=z[g],B=z[g+1],c=(1-J)/2,t=1-c,u=c+n*(t-c);
B=.5+(B-.5)*u*2;var v=(1-p)/2,A=1-v,$=v+B*(A-v);n=.5+(n-.5)*$*2;z[g]=n;z[g+1]=B}};a.TX.dE=function(z,J){return{id:z,type:"UnFl",uID:"#Pxl",arr:J}};
a.TX.ao2=function(z,J){var p=a.TX.R2(z);function n(c,t){c=c.slice(0);var u=c.length,g;for(g=0;g<u;g++)c[g]*=t;
c[0]-=.6;c[u-1]+=.6;return c}var B=z.customEnvelopeWarp.v;B.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[a.TX.dE("quiltSliceX",n(J[0],p.r))]}};
B.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[a.TX.dE("quiltSliceY",n(J[1],p.$))]}}};a.TX.aDD=function(z){var J=a.TX.R2(z);
function p(t,u){t=t.slice(0);var c=t.length,g,v=1e9,A=-v;for(g=0;g<c;g++){if(t[g]<v)v=t[g];if(t[g]>A)A=t[g]}for(g=0;
g<c;g++)t[g]=(t[g]-v)/(A-v);t[0]=0;t[c-1]=1;return t}var n=z.customEnvelopeWarp.v,B=[],c=["X","Y"];for(var g=0;
g<2;g++)B.push(p(n["quiltSlice"+(g==0?"X":"Y")].v.arr[0].arr.slice(0),g==0?J.r:J.$));return B};a.TX.a3h=function(z,J){var p=[],n=[];
for(var g=0;g<J.length;g+=2){p.push(J[g]);n.push(J[g+1])}z.customEnvelopeWarp.v.meshPoints.v.arr=[a.TX.dE("Hrzn",p),a.TX.dE("Vrtc",n)]};
a.TX.aCF=function(z){var J=[],p=z.customEnvelopeWarp.v.meshPoints.v.arr,n=p[0].arr,B=p[1].arr;for(var g=0;
g<n.length;g++)J.push(n[g],B[g]);return J};a.TX.Dz=function(z,J){var p,n=z.warpStyle.v.warpStyle;if(n=="warpCustom")p=[z.deformNumCols.v,z.deformNumRows.v,a.TX.aDD(z),a.TX.aCF(z)];
else{if(J==null)J=a.TX.R2(z);if(J.Sz())J.r=J.$=1;if(n=="warpCylinder"){var B=L.tp.bU(z.warpValues);p=a.TX.TX(n,B)}else{var c="warpPerspective";
p=a.TX.TX(n,z.warpValue.v/100,z.warpRotate.v.Ornt=="Hrzn",z[c].v/100,z[c+"Other"].v/100,J.r/J.$)}a.TX.amT(p[3],J)}return p};
a.TX.amT=function(z,J){for(var g=0;g<z.length;g+=2){z[g]=J.x+z[g]*J.r;z[g+1]=J.y+z[g+1]*J.$}};a.TX.a67=function(z){var J=Math.sin(z*Math.PI/2),p=Math.pow(z,1/3.5),n=(1-z)*J+z*p;
n=Math.pow(n,1.045);var B=.1725+.0573*n,c=1-(.96*J+.04*p);c=Math.pow(c,1.27);var t=1/129+(.167684-1/129)*c;
return[B,t]};a.TX.le=function(z,J){z.warpStyle.v.warpStyle="warpCustom";z.deformNumCols.v=J[0];z.deformNumRows.v=J[1];
var p="customEnvelopeWarp";if(z[p]==null)z[p]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
a.TX.ao2(z,J[2]);a.TX.a3h(z,J[3])};a.TX.R2=function(z){var J=z.bounds.v,p=J.Left.v.val,n=J.Rght.v.val,B=J.Top.v.val,c=J.Btom.v.val;
if(p==null){p=J.Left.v,n=J.Rght.v;B=J.Top.v,c=J.Btom.v}return new fw(p,B,n-p,c-B)};a.TX.TX=function(z,J,p,n,B,c){if(z=="warpCylinder"){var t=J,u=t[0],v=t[1],A=t[2],$=t[3],X=t[4],U=t[5],w=t[6],P=[];
for(var k=0;k<4;k++)for(var T=0;T<13;T++)P.push(T/12,k/3);var Z=A-u,i=v-$,V=X*.5*(Z/i),_=U*.5*(Z/i),y=a.TX.a67(w),E=[0,0,0,0,0,y[0],.5],F=[0,0,0,0,V*.42,V,V],d=[0,0,0,0,_*.42,_,_];
for(var k=0;k<4;k++)for(var T=0;T<7;T++){var g=k*13+T;P[g*2]=E[T];var x=F[T],f=1+d[T],Q=k/3;P[g*2+1]=x*(1-Q)+f*Q}for(var k=0;
k<4;k++)for(var T=0;T<6;T++){var g=k*13+T,m=k*13+12-T;P[m*2]=1-P[g*2];P[m*2+1]=P[g*2+1]}var Q=y[1];return[13,4,[[0,Q,.5,1-Q,1],[0,1]],P]}var H=a.IN.j(0,0,1,1);
if(z!="warpNone"){if(!p)c=1/c;a.TX.ajZ(H,z,J,n,B,c);var S=H.slice(0);if(!p)for(var k=0;k<4;k++)for(var T=0;
T<4;T++){H[(k*4+T)*2]=S[(T*4+k)*2+1];H[(k*4+T)*2+1]=S[(T*4+k)*2]}if(J==0)a.TX.abg(H,n,B);else{var R=new fA;
R.translate(-.5,-.5);a.b.h(H,R,H);a.TX.a4Y(H,B,n);R.oU();a.b.h(H,R,H)}}return[4,4,[[0,1],[0,1]],H]};
a.TX.ajZ=function(z,J,p,n,B,c){var t=new fw(0,0,c,1);for(var g=0;g<z.length;g+=2)z[g]*=c;for(var g=0;
g<4;g++){for(var u=0;u<4;u++){var v=2*(4*g+u),A=z[v]-t.x,$=z[v+1]-t.y,X=A,U=$;if(p!=0){var w=t.r/2,P=t.$/2;
X-=w;U-=P;var k=X,T=X,Z=-P,i=P,V=Math.abs(p),_=Math.tan((1-V)*Math.PI/2),y=Math.sqrt(_*_+1),E=Math.atan2(1,_),F=X/w*E,d=w*y,x=w*y+t.$,f=Math.cos(E),Q=Math.sin(E),m=a.TX.a39(f,Q),H=a.TX.auF(f,Q),S=-_*w+m*d;
if(J=="warpArc"){k=Math.sin(F)*x;Z=_*w-Math.cos(E)*x+P;T=Math.sin(F)*d;i=_*w-Math.cos(E)*d+P;if(u==1||u==2){k=u==1?-H*x:H*x;
T=u==1?-H*d:H*d;Z=_*w+P-m*x;i=_*w+P-m*d}if(p<0){var R=k;k=T;T=R;R=Z;Z=-i;i=-R}}if(J=="warpArcLower"){if(u==1||u==2){T=u==1?-H*d:H*d;
i=p<0?P-S:P+S}}if(J=="warpArcUpper"||J=="warpArch"||J=="warpBulge"){if(u==1||u==2){k=u==1?-H*d:H*d;Z=p<0?-P+S:-P-S}if(J=="warpArch"){T=k;
i=Z+2*P}if(J=="warpBulge"){T=k;i=-Z}}if(J=="warpFish"||J=="warpFlag"||J=="warpWave"){var I=u;if(J=="warpFlag")I=3-u;
if(I==1){Z-=p*4*P;i+=p*4*P}if(I==2){Z+=p*4*P;i-=p*4*P}if(J=="warpFlag"||J=="warpWave")Z=i-2*P}if(J=="warpRise"){if(u<2)Z=-P+p*P*4;
i=Z+2*P}var D=(U+P)/t.$;X=k+D*(T-k);U=Z+D*(i-Z);if(J=="warpWave"){if(g==0)U=-P;if(g==3)U=P;if(g==1||g==2)U=2*P*(g/3-.5)*(1/3)+U*(2/3)}if(J=="warpFisheye"){if((g==1||g==2)&&(u==1||u==2)){X=X+4*X*p;
U=U+4*U*p}}if(J=="warpInflate"){var G=2/3;if((g==1||g==2)&&(u==1||u==2)){X=X+.5*X*p;U=U+.5*U*p}else if(g==1||g==2)X=X+G*X*p;
else if(u==1||u==2)U=U+G*U*p}if(J=="warpSqueeze"){var G=2/3;if((g==1||g==2)&&(u==1||u==2)){if(p>0)X=X-G*X*p;
else U=U+G*U*p}else if(g==1||g==2)X=X-G*X*p;else if(u==1||u==2)U=U+G*U*p}if(J=="warpTwist"){if((g==1||g==2)&&(u==1||u==2)){var C=p*Math.PI/2,y=1+Math.abs(p)*2,O=X*Math.cos(C)-U*Math.sin(C),Y=X*Math.sin(C)+U*Math.cos(C);
X=O*y;U=Y*y}}if(J=="warpShellLower"||J=="warpShellUpper"){if(J=="warpShellUpper"){g=3-g;U=-U}if(g>2||g==2&&(u==0||u==3)){if(p>0){var h=d+g/3*2*P;
X=Math.sin(F)*h;U=-_*w-P+Math.cos(F)*h;if(u==1||u==2){X=u==1?-H*h:H*h;U=-_*w-P+m*h}}else{if((u==1||u==2)&&g==3){X=u==1?-H*d:H*d;
U=_*w-m*d+P}else if(g==2){U=P-P*(2/3)*Math.cos(F);X=X+P*(2/3)*Math.sin(F)}}}if(J=="warpShellUpper"){g=3-g;
U=-U}}X+=w;U+=P}A=X,$=U;z[v]=A+t.x;z[v+1]=$+t.y}}for(var g=0;g<z.length;g+=2)z[g]/=c};a.TX.a4Y=function(z,J,p){var n=[];
for(var B=0;B<4;B++)n.push(1-p+B/3*2*p);var c=[];for(var B=0;B<4;B++)c.push(1-J+B/3*2*J);var t=[0,0,0,0],u=[0,0,0,0];
for(var g=0;g<4;g++)for(var B=0;B<4;B++){var v=2*(4*g+B),A=z[v],$=z[v+1];t[B]+=A/4;u[B]+=$/4}for(var g=0;
g<4;g++)for(var B=0;B<4;B++){var X=n[B],v=2*(4*g+B),A=z[v],$=z[v+1],U=t[B],w=u[B];z[v]=U+X*(A-U);z[v+1]=w+X*($-w)}var P=z.slice(0);
for(var g=0;g<4;g++)for(var B=1;B<3;B++){var v=2*(4*g+B),A=z[v],$=z[v+1],k=v+(B==1?-2:2),T=z[k],Z=z[k+1];
z[v]=A-T;z[v+1]=$-Z}var i=z[0],V=z[1],_=z[8],y=z[9],E=z[16],F=z[17],d=z[24],x=z[25],f=z[6],Q=z[7],m=z[14],H=z[15],S=z[22],R=z[23],I=z[30],D=z[31],G=f-i,C=Q-V,O=m-_,Y=H-y,h=S-E,r=R-F,W=I-d,N=D-x;
for(var g=0;g<4;g++){var o=2*g*4,K=0,l=0,aV=g==1?.33:.66,j=1-aV;if(g==0){K=G;l=C}if(g==1){K=j*G+aV*-W;
l=j*C+aV*-N}if(g==2){K=j*G+aV*-W;l=j*C+aV*-N}if(g==3){K=-W;l=-N}z[o]=z[o]+K/2;z[o+1]=z[o+1]+l/2;z[o+6]=z[o+6]-K/2;
z[o+7]=z[o+7]-l/2}for(var g=0;g<4;g++)for(var B=1;B<3;B++){var v=2*(4*g+B),A=z[v],$=z[v+1],k=v+(B==1?-2:2),T=z[k],Z=z[k+1],X=2*g/3;
z[v]=T+X*A;z[v+1]=Z+X*$}for(var g=1;g<3;g++)for(var B=1;B<3;B++){var v=2*(4*g+B),A=z[v],$=z[v+1],M=g==1?-8:-16,s=g==1?16:8,l2=z[v+M],gm=z[v+M+1],iz=z[v+s],dC=z[v+s+1],X=g/3;
A=(1-X)*l2+X*iz;$=(1-X)*gm+X*dC;z[v]=A;z[v+1]=$}a.b.aKK(P,z,z,J)};a.TX.a39=function(z,J){return(4-z)*(1/3)};
a.TX.auF=function(z,J){return(1-z)*(3-z)/(3*J)};a.l2=function(){function z(p){var n=p.quads.v,B=[];for(var g=0;
g<n.length;g++){var c=n[g].v.indices.v;for(var t=0;t<4;t++)B.push(c[t].v)}var u=[],v=[];for(var A=0;
A<2;A++){var $=A==0?u:v,X=p[A==0?"vertices":"warpedVertices"].v;for(var g=0;g<X.length;g++){var U=X[g].v;
$.push(U.Hrzn.v.val,U.Vrtc.v.val)}}var w=p.referenceRect.v,P=w.Left.v.val,k=w.Rght.v.val,T=w.Top.v.val,Z=w.Btom.v.val,i=[];
for(var V=0;V<4;V++)i.push(p["PuX"+V].v,p["PuY"+V].v);return{MX:u,BR:v,Ee:B,aaJ:new fw(P,T,k-P,Z-T),th:p.Md.v.perspectiveWarpMode=="warp"?1:0,w9:i}}function J(p,n){var B=n.quads.v=[],c=p.Ee;
for(var g=0;g<c.length;g+=4){var t=[],u={t:"Objc",v:{classID:"perspectiveWarpQuad",indices:{t:"VlLs",v:t}}};
B.push(u);for(var v=0;v<4;v++)t.push({t:"long",v:c[g+v]})}for(var A=0;A<2;A++){var $=A==0?p.MX:p.BR,X=n[A==0?"vertices":"warpedVertices"].v;
while(X.length!=0)X.pop();for(var g=0;g<$.length;g+=2){var U={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:$[g]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:$[g+1]}}}};
X.push(U)}}var w=p.w9;for(var P=0;P<4;P++){n["PuX"+P].v=w[P*2];n["PuY"+P].v=w[P*2+1]}n.Md.v.perspectiveWarpMode=p.th==0?"layout":"warp"}return{bF:z,pK:J}}();
var e8={};e8.a7j={x:.34567,y:.3585};e8.awJ=[{o:0,$m:.18006,Mf:.26352,t:-.24341},{o:10,$m:.18066,Mf:.26589,t:-.25479},{o:20,$m:.18133,Mf:.26846,t:-.26876},{o:30,$m:.18208,Mf:.27119,t:-.28539},{o:40,$m:.18293,Mf:.27407,t:-.3047},{o:50,$m:.18388,Mf:.27709,t:-.32675},{o:60,$m:.18494,Mf:.28021,t:-.35156},{o:70,$m:.18611,Mf:.28342,t:-.37915},{o:80,$m:.1874,Mf:.28668,t:-.40955},{o:90,$m:.1888,Mf:.28997,t:-.44278},{o:100,$m:.19032,Mf:.29326,t:-.47888},{o:125,$m:.19462,Mf:.30141,t:-.58204},{o:150,$m:.19962,Mf:.30921,t:-.70471},{o:175,$m:.20525,Mf:.31647,t:-.84901},{o:200,$m:.21142,Mf:.32312,t:-1.0182},{o:225,$m:.21807,Mf:.32909,t:-1.2168},{o:250,$m:.22511,Mf:.33439,t:-1.4512},{o:275,$m:.23247,Mf:.33904,t:-1.7298},{o:300,$m:.2401,Mf:.34308,t:-2.0637},{o:325,$m:.24792,Mf:.34655,t:-2.4681},{o:350,$m:.25591,Mf:.34951,t:-2.9641},{o:375,$m:.264,Mf:.352,t:-3.5814},{o:400,$m:.27218,Mf:.35407,t:-4.3633},{o:425,$m:.28039,Mf:.35577,t:-5.3762},{o:450,$m:.28863,Mf:.35714,t:-6.7262},{o:475,$m:.29685,Mf:.35823,t:-8.5955},{o:500,$m:.30505,Mf:.35907,t:-11.324},{o:525,$m:.3132,Mf:.35968,t:-15.628},{o:550,$m:.32129,Mf:.36011,t:-23.325},{o:575,$m:.32931,Mf:.36038,t:-40.77},{o:600,$m:.33724,Mf:.36051,t:-116.45}];
e8.asp=function(z){var J=e8.awJ,p=2*z.x/(1.5-z.x+6*z.y),n=3*z.y/(1.5-z.x+6*z.y),B=0,c=0,t=0;for(;t<31;
t++){B=n-J[t].Mf-J[t].t*(p-J[t].$m);if(t>0&&B<0){break}c=B}while(t>=J.length)t--;B/=Math.sqrt(1+J[t].t*J[t].t);
c/=Math.sqrt(1+J[t-1].t*J[t-1].t);var u=c/(c-B),v=1e6/((J[t].o-J[t-1].o)*u+J[t-1].o),A=p-((J[t].$m-J[t-1].$m)*u+J[t-1].$m),$=n-((J[t].Mf-J[t-1].Mf)*u+J[t-1].Mf),X=Math.sqrt(1+J[t].t*J[t].t),U=1/X,w=J[t].t/X,P=Math.sqrt(1+J[t-1].t*J[t-1].t),k=1/P,T=J[t-1].t/P,Z=(U-k)*u+k,i=(w-T)*u+T,V=Math.sqrt(Z*Z+i*i);
Z/=V;i/=V;var _=(A*Z+$*i)*-3e3;return{Y5:v,Zm:_}};e8.zF=function(z,J){var p=e8.awJ,n=1e6/z,B=1;for(;
B<31;B++){if(n<p[B].o){break}}var c=(p[B].o-n)/(p[B].o-p[B-1].o),t=(p[B-1].$m-p[B].$m)*c+p[B].$m,u=(p[B-1].Mf-p[B].Mf)*c+p[B].Mf,v=Math.sqrt(1+p[B].t*p[B].t),A=1/v,$=p[B].t/v,X=Math.sqrt(1+p[B-1].t*p[B-1].t),U=1/X,w=p[B-1].t/X,P=(U-A)*c+A,k=(w-$)*c+$,T=Math.sqrt(P*P+k*k);
P/=T;k/=T;t+=P*J/-3e3;u+=k*J/-3e3;return{x:1.5*t/(t-4*u+2),y:u/(t-4*u+2)}};e8.aJV=function(z){var J=z[0]+z[1]+z[2];
return{x:z[0]/J,y:z[1]/J}};e8.ie=function(z){return{x:z.x/z.y,y:1,ZO:(1-z.x-z.y)/z.y}};e8.ait=function(z,J){var p=a.gr.Eh([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),n=[z.x,z.y,z.ZO,0],B=[J.x,J.y,J.ZO,0];
n=a.gr.V9(p,n);B=a.gr.V9(p,B);var c=B[0]/n[0],t=B[1]/n[1],u=B[2]/n[2],v=a.gr.Eh([c,0,0,0,t,0,0,0,u]),A=a.gr.oU(p);
return a.gr.multiply(a.gr.multiply(A,v),p)};a.yc={};a.yc.aGn=function(z,J,p,n,B,c,t,u,v,A){for(var $=0;
$<u;$++)for(var X=0;X<t;X++){var U=3*($*t+X),w=$+c,P=X+B,k=z[w*J+P];n[U]=k;n[U+1]=k;n[U+2]=k}};a.yc.zJ=function(z,J,p,n,B,c,t,u,v,A){var $=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],X=1/v,U=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],w=new Uint32Array(6);
for(var P=0;P<u;P++){for(var k=0;k<t;k++){var T=3*(P*t+k),Z=P+c,i=k+B;w[0]=0;w[1]=0;w[2]=0;w[3]=0;w[4]=0;
w[5]=0;for(var g=0;g<16;g+=2){var V=i+U[g],_=Z+U[g+1],y=V-v*~~(V*X),E=_-v*~~(_*X),F=A[E*v+y];w[F]+=z[_*J+V];
w[F+3]++}var V=i,_=Z,y=V-v*~~(V*X),E=_-v*~~(_*X),F=A[E*v+y];w[F]=z[Z*J+i];w[F+3]=1;n[T]=w[0]*$[w[3]];
n[T+1]=w[1]*$[w[4]];n[T+2]=w[2]*$[w[5]]}}};a.yc.axD=function(z,J,p,n,B,c,t,u,v,A){var $,X,U,w,P,k,T=new Float32Array(8);
function Z(U,w){return(U&1)*2+(w&1)}for($=0;$<p;$++)for(X=0;X<J;X++){if(X==n&&$>=n&&$<p-n)X=J-n;T.fill(0);
for(U=$-1;U!=$+2;U++)for(w=X-1;w!=X+2;w++)if(0<=w&&0<=U&&U<p&&w<J){P=B[Z(U,w)];var i=z[(U*J+w)*3+P]=c[(U+A)*t+w+v];
T[P]+=i;T[P+4]++}P=B[Z($,X)];for(var k=0;k<3;k++)if(k!=P&&T[k+4])z[($*J+X)*3+k]=T[k]/T[k+4]}};a.yc.V8=function(){var z,J,p;
function n(v,g){z[v]=J[g];z[v+1]=J[g-p]+J[g-1]+J[g+1]+J[g+p]>>>2;z[v+2]=J[g-p-1]+J[g-p+1]+J[g+p-1]+J[g+p+1]>>>2}function B(v,g){z[v]=J[g-1]+J[g+1]>>>1;
z[v+1]=J[g];z[v+2]=J[g-p]+J[g+p]>>>1}function c(v,g){z[v]=J[g-p]+J[g+p]>>>1;z[v+1]=J[g];z[v+2]=J[g-1]+J[g+1]>>>1}function t(v,g){z[v]=J[g-p-1]+J[g-p+1]+J[g+p-1]+J[g+p+1]>>>2;
z[v+1]=J[g-p]+J[g-1]+J[g+1]+J[g+p]>>>2;z[v+2]=J[g]}function u(v,A,$,X,U,w,P,k,T){z=X;J=v;p=A;var Z=0,i=P,V=0,_=k,y=U>0&&w>0&&p-U>P&&$-w>k,E=[[0,1,1,2],[1,0,2,1],[2,1,1,0],[1,2,0,1]][T];
if(!y){Z++;i--;V++;_--;T=[2,3,0,1][T]}var F=Date.now();for(var d=V;d<_;d+=2){var x=(d+w)*p+U;if(T==0)for(var f=Z;
f<i;f+=2){var Q=x+f,m=(d*P+f)*3;n(m,Q);B(m+3,Q+1);c(m+3*P,Q+p);t(m+3*P+3,Q+p+1)}else if(T==1)for(var f=Z;
f<i;f+=2){var Q=x+f,m=(d*P+f)*3;B(m,Q);n(m+3,Q+1);t(m+3*P,Q+p);c(m+3*P+3,Q+p+1)}else if(T==2)for(var f=Z;
f<i;f+=2){var Q=x+f,m=(d*P+f)*3;t(m,Q);c(m+3,Q+1);B(m+3*P,Q+p);n(m+3*P+3,Q+p+1)}else if(T==3)for(var f=Z;
f<i;f+=2){var Q=x+f,m=(d*P+f)*3;c(m,Q);t(m+3,Q+1);n(m+3*P,Q+p);B(m+3*P+3,Q+p+1)}}if(!y)a.yc.axD(z,P,k,1,E,v,p,$,U,w);
console.log(Date.now()-F);F=Date.now()}return u}();a.yc.a08=function(){function z(u,g,v){return u[g-v-v]+u[g-2]+u[g+2]+u[g+v+v]}function J(u,g,v){return 2*(2*u[g-v]+2*u[g-1]+4*u[g]+2*u[g+1]+2*u[g+v]-z(u,g,v))}function p(u,g,v){return u[g-v-1]+u[g-v+1]+u[g+v-1]+u[g+v+1]}function n(u,g,v){return u[g-v-v]+u[g+v+v]-2*(u[g-2]+u[g+2])+8*(u[g-1]+u[g+1])}function B(u,g,v){return u[g-1-1]+u[g+1+1]-2*(u[g-2*v]+u[g+2*v])+8*(u[g-v]+u[g+v])}function c(u,g,v){return-3*(u[g-v-v]+u[g-2]+u[g+2]+u[g+v+v])+4*(u[g-v-1]+u[g-v+1]+u[g+v-1]+u[g+v+1])+12*u[g]}function t(u,v,A,$,X,U,w,P,k){var T=2,Z=w-2,i=2,V=P-2,_=[[0,1,1,2],[1,0,2,1],[2,1,1,0],[1,2,0,1]][k],y=0;
if(k==1){T++;Z--}if(k==2){T++;i++;Z--;V--}if(k==3){i++;V--}for(var E=i;E<V;E+=2){for(var F=T;F<Z;F+=2){var d=3*(E*w+F),x=(E+U)*v+F+X;
$[d+0]=u[x];$[d+1]=J(u,x,v)>>4;$[d+2]=c(u,x,v)>>4;$[d+3+1]=u[x+1];y=10*u[x+1]-2*p(u,x+1,v);$[d+3+0]=y+n(u,x+1,v)>>4;
$[d+3+2]=y+B(u,x+1,v)>>4;d+=3*w;x+=v;$[d+1]=u[x];y=10*u[x]-2*p(u,x,v);$[d+0]=y+B(u,x,v)>>4;$[d+2]=y+n(u,x,v)>>4;
$[d+3+0]=c(u,x+1,v)>>4;$[d+3+1]=J(u,x+1,v)>>4;$[d+3+2]=u[x+1]}}a.yc.axD($,w,P,Math.max(T,i),_,u,v,A,X,U)}return t}();
a.raw={};a.raw.a8z=function(z){var J=Date.now(),p=z.width,n=z.height,B=0,c=0,t=p,u=n;if(z.t50829){var v=z.t50829;
B=v[1];c=v[0];t=v[3];u=v[2]}if(z.t50720&&z.t50720[0]*1.8>p){if(z.t50719){var A=z.t50719;B+=A[0]>>1<<1;
c+=A[1]>>1<<1}if(z.t50720){var $=z.t50720;t=B+$[0];u=c+$[1]}}var X=t-B,U=u-c,w=a.raw.a2J(z),P=z.t33422,k=z.t33421;
if(k){var $=k[0],T=P.slice(0);for(var Z=0;Z<$;Z++)for(var i=0;i<$;i++){var V=(i+(B&1))%$,_=(Z+(c&1))%$;
T[Z*$+i]=P[_*$+V]}P=T}if(z.t277[0]==1&&P)a.raw.adJ(w,p,n,z,P);a.raw.uV(2,z,w,p,n);var y=new Float32Array(X*U*3);
if(z.t277[0]==1){if(k==null){a.yc.aGn(w,p,n,y,B,c,X,U)}else if(k.length!=2||k[0]!=2||k[1]!=2){console.log("Unknown CFA pattern size",k);
a.yc.zJ(w,p,n,y,B,c,X,U,k[0],P)}else{var E=z.t33422.join(","),F=0;if(E=="0,1,1,2")F=0;else if(E=="1,0,2,1")F=1;
else if(E=="2,1,1,0")F=2;else if(E=="1,2,0,1")F=3;else throw"Unknown CFA pattern "+E;if((X&1)!=0||(U&1)!=0)throw"e";
var J=Date.now(),d=z.t50728,x=1/d[P[0]],f=1/d[P[1]],Q=1/d[P[2]],m=1/d[P[3]];for(var Z=0;Z<n;Z+=2)for(var i=0;
i<p;i+=2){var g=Z*p+i;w[g]*=x;w[g+1]*=f;w[g+p]*=Q;w[g+p+1]*=m}a.yc.a08(w,p,n,y,B,c,X,U,F);for(var Z=0;
Z<U;Z++)for(var i=0;i<X;i++){var H=3*(Z*X+i);y[H]*=d[0];y[H+1]*=d[1];y[H+2]*=d[2]}}}else{for(var Z=0;
Z<U;Z++)for(var i=0;i<X;i++){var S=((Z+c)*p+i+B)*3,H=(Z*X+i)*3;y[H+0]=w[S+0];y[H+1]=w[S+1];y[H+2]=w[S+2]}}var R=y,I=y.length,D=a.raw.JA(z),G=1/D;
for(var g=0;g<I;g+=3){y[g]=R[g]*G;y[g+1]=R[g+1]*G;y[g+2]=R[g+2]*G}a.raw.uV(3,z,y,X,U);var C=z.jq,O=X,Y=U;
if(C==1||C==9){}else{var h=a.raw.aEd(C,X,U),H=0;O=h[0];Y=h[1];var r=y.slice(0);for(var Z=0;Z<Y;Z++)for(var i=0;
i<O;i++){var W=h[2]*i+h[3]*Z+h[4],N=h[5]*i+h[6]*Z+h[7],S=(N*X+W)*3;y[H]=r[S];y[H+1]=r[S+1];y[H+2]=r[S+2];
H+=3}}return{R1:y,aho:O,aqv:Y}};a.raw.aEd=function(z,J,p){var n=J,B=p;if(!1){}else if(z==0)return[p,J,0,-1,J-1,1,0,0];
else if(z==2)return[J,p,-1,0,J-1,0,1,0];else if(z==3)return[J,p,-1,0,J-1,0,-1,p-1];else if(z==4)return[J,p,1,0,0,0,-1,p-1];
else if(z==5)return[p,J,0,1,0,1,0,0];else if(z==6)return[p,J,0,1,0,-1,0,p-1];else if(z==7)return[p,J,0,-1,J-1,-1,0,p-1];
else if(z==8)return[p,J,0,-1,J-1,1,0,0];else throw"unknown orientation "+z};a.raw.adJ=function(z,J,p,n,B){var c=Date.now(),w=0;
if(a.raw.JA(n)>4e4){for(var g=0;g<z.length;g++)z[g]>>=1;var t=["t50714","t50715","t50712","t50717"];
for(var g=0;g<t.length;g++){var u=n[t[g]];if(u)for(var v=0;v<u.length;v++)u[v]>>>=1}console.log("remapping to lower bit depth")}var A=~~Math.sqrt(B.length),$=~~(.987*a.raw.JA(n)),X=n.t50728;
if(X==null||X[0]==0)X=[1,1,1];var c=Date.now(),U=[];for(var P=1;P<p-1;P++)for(var k=1;k<J-1;k++){var g=P*J+k;
if($<z[g])U.push(g);w=Math.max(w,z[g])}if(U.length==0)return;var T=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],Z=[];
for(var P=0;P<A;P++)for(var k=0;k<A;k++){var g=P*A+k,i=Z[P*A+k]=[0,0,0];for(var v=0;v<18;v+=2){var V=(A+k+T[v])%A,_=(A+P+T[v+1])%A,y=B[_*A+V];
i[y]=T[v+1]*J+T[v]}}var E=X[1]/X[0],F=X[1]/X[2],d=new Float32Array(131072);for(var g=0;g<131072;g++)d[g]=Math.pow(g,1/3);
var x=z.slice(0);for(var f=0;f<U.length;f++){var g=U[f],P=~~(g/J),k=g-P*J,Q=P%A*A+k%A,m=B[Q];if(m==1){var H=d[~~(z[g+Z[Q][0]]*E+.5)],S=d[~~(z[g+Z[Q][2]]*F+.5)],R=(H+S)*.5,I=Math.min(65535,~~(R*R*R));
if(I>x[g])x[g]=I}}z.set(x)};a.raw.a16=function(z,J,p,n,B,c,t){var u=Math.max(c[0],c[1],c[2]);c=[c[0]/u,c[1]/u,c[2]/u];
console.log(c);var v=new Uint32Array(z.length);for(var A=0;A<p;A++){}for(var $=0;$<J;$++){a.raw.ayt(z,v,J,p,1,1,$,B,t,c,0);
a.raw.ayt(z,v,J,p,1,-1,$,B,t,c,1)}z.set(v)};a.raw.ayt=function(z,J,p,n,B,c,t,u,v,A,$){var X=1,U=1,w=(B==0?p:n)-1;
if(c==-1){U=w-1;w=0}for(var g=U;g!=w;g+=c){var P=g,k=t;if(B==1){P=t;k=g}var T=k*p+P,Z=v,i=v,V=B==0?1:p,_=B==0?p:1,y=z[T],E=z[T+c*V];
if(y<Z&&E<i&&3<y&&3<E){var F=1;if(g&1)F=y/E;else F=E/y;X=(3*X+F)*.25}if(Z<=y&&u[(k&1)*2+(P&1)]==1){var d=0;
if(E<i){if(g&1)d=E*X;else d=E/X}else{if(X<1){if(g&1)d=y;else d=E/X}else{if(g&1)d=E*X;else d=y}}if($==0)J[T]=d;
else if($==1)J[T]=Math.min(65535,(J[T]+d)/2);else J[T]+=d}else J[T]=y}};a.raw.ds=function(z,J,p,n,B){var c=e8.zF(n[0],n[1]),t=a.raw.aud(p,c),u=[a.gr.uW,a.gr.aD8,a.gr.ab4,a.gr.aEV][B],v=a.gr.multiply(u,t),A=Math.pow(2,n[2]+(p.t50730?p.t50730[0]:0));
v=a.gr.multiply(v,a.gr.GP(A,A,A));var $=a.raw.ds.a1g[B];if($==null){$=a.raw.ds.a1g[B]=new Float32Array(5e3);
var X=1/[2.4,2.1992,1.8,2.4][B];if(B==0||B==3)for(var g=0;g<5e3;g++)$[g]=a.hI(g*(1/4e3));else for(var g=0;
g<5e3;g++)$[g]=Math.pow(g*(1/4e3),X)}var U=z.length;for(var g=0;g<U;g+=4){var w=z[g],P=z[g+1],k=z[g+2],T=v[0]*w+v[1]*P+v[2]*k,Z=v[4]*w+v[5]*P+v[6]*k,i=v[8]*w+v[9]*P+v[10]*k;
if(T<0)T=0;else if(T>1)T=1;if(Z<0)Z=0;else if(Z>1)Z=1;if(i<0)i=0;else if(i>1)i=1;J[g]=$[~~(T*4e3)];J[g+1]=$[~~(Z*4e3)];
J[g+2]=$[~~(i*4e3)]}};a.raw.ds.a1g=[];a.raw.a2J=function(z){var J=z.width,p=z.height,n=J*p*z.t277,B=new Uint16Array(n),c=null,t=0;
a.raw.aFx(z,B);a.raw.uV(1,z,B,J,p);if(z.t50712){c=z.t50712;t=c.length-1;if(c[t]>65535)throw"too big values"}var u=a.raw.aa6(z),v=a.raw.adP(z);
if(c==null)for(var g=0;g<n;g++)B[g]=Math.max(0,B[g]-u);else for(var g=0;g<n;g++){var A=B[g];if(A>t)A=t;
A=c[A];B[g]=Math.max(0,A-u)}return B};a.raw.aa6=function(z){var J=z.t50714,p=J?J[0]:0,n=z.t50715,B=z.t50716;
if(n)p+=n[0][0]/n[0][1];if(B)p+=B[0][0]/B[0][1];return Math.round(p)};a.raw.adP=function(z){var J=null,p=0;
if(z.t50712){J=z.t50712;p=J.length-1}var n=z.t50717?z.t50717[0]:(1<<z.t258[0])-1;if(J)n=Math.min(n,J[p]);
if(n==1)n=32767;return n};a.raw.JA=function(z){var J=a.raw.aa6(z),p=a.raw.adP(z);return p-J};a.raw.aFx=function(z,J){var p=J.length,n=z.data,B=z.t258[0],t=null;
if(B!=32&&B!=16&&B!=14&&B!=12&&B!=10&&B!=8)throw"Unsupported Bits Per Sample:"+B;B=Math.round(n.length*8/p);
if(z.t272&&z.t272[0]=="COOLPIX B700")for(var g=0;g<n.length;g+=4){var c=n[g];n[g]=n[g+3];n[g+3]=c;var c=n[g+1];
n[g+1]=n[g+2];n[g+2]=c}if(B==16&&z.isLE){a._U(n,J);return}for(var g=0;g<p;g+=2){var u=0,v=0,A=0;if(B==32){if(t==null)t=new Float32Array(n.buffer);
v=~~(t[g]*32767);A=~~(t[g+1]*32767)}else if(B==16){u=g<<1;v=n[u]<<8|n[u+1];A=n[u+2]<<8|n[u+3]}else if(B==14){var $=g*14,X=$>>>3,U=n[X]<<24|n[X+1]<<16|n[X+2]<<8|n[X+3];
if(($&7)==0){v=U>>>18;A=U>>>4&16383}else{v=U>>>14&16383;A=U&16383}}else if(B==12){u=g+(g>>>1);v=n[u]<<4|n[u+1]>>4;
A=(n[u+1]&15)<<8|n[u+2]}else if(B==10){var $=g*10,X=$>>>3;if(($&7)==0){v=(n[X]<<2|n[X+1]>>6)&1023;A=(n[X+1]<<4|n[X+2]>>4)&1023}else{v=(n[X]<<6|n[X+1]>>2)&1023;
A=(n[X+1]<<8|n[X+2]>>0)&1023}}else if(B==8){u=g;v=n[u];A=n[u+1]}J[g]=v;J[g+1]=A}};a.raw.adl=function(z,J,p,n,B,c,t){var u=z-.499999,v=J-.499999,A=~~u,$=~~v,X=u-A,U=v-$,w=(1-U)*(1-X),P=(1-U)*X,k=U*(1-X),T=U*X,Z=($*n+A)*3,i=(($+1)*n+A)*3,V=w*p[Z]+P*p[Z+3]+k*p[i]+T*p[i+3],_=w*p[Z+1]+P*p[Z+4]+k*p[i+1]+T*p[i+4],y=w*p[Z+2]+P*p[Z+5]+k*p[i+2]+T*p[i+5];
c[t]=V;c[t+1]=_;c[t+2]=y};a.raw.uV=function(z,J,p,n,B){var c=J["t"+[51008,51009,51022][z-1]],$=0;if(c==null)return;
var t=n*B,u=e.fy,v=e.U0,A=new Uint8Array(c),fR=e.fy(A,$);$+=4;for(var X=0;X<fR;X++){var U=u(A,$);$+=4;
var w=u(A,$);$+=4;var P=u(A,$);$+=4;var k=u(A,$);$+=4;if(!1){}else if(U==1&&z==3){var T=$,Z=u(A,T);T+=4;
var i=v(A,T);T+=8;var V=v(A,T);T+=8;var _=v(A,T);T+=8;var y=v(A,T);T+=8;var E=v(A,T);T+=8;var F=v(A,T);
T+=8;T+=(Z-1)*8*6;var d=v(A,T);T+=8;var x=v(A,T);T+=8;var f=d*n,Q=x*B,m=Math.max(f,n-f),H=Math.max(Q,B-Q),S=Math.sqrt(m*m+H*H),R=1/S,I=p.slice(0);
for(var D=0;D<B;D++)for(var G=0;G<n;G++){var C=(G+.5-f)*R,O=(D+.5-Q)*R,Y=C*C+O*O,h=i+V*Y+_*(Y*Y)+y*(Y*Y)*Y,r=E*(2*C*O)+F*(Y+2*C*C),W=F*(2*C*O)+E*(Y+2*O*O),N=Math.min(f+S*(h*C+r),n-1),o=Math.min(Q+S*(h*O+W),B-1),K=(D*n+G)*3;
a.raw.adl(N,o,I,n,B,p,K)}}else if(U==3&&z==3){var T=$,l=v(A,T);T+=8;var aV=v(A,T);T+=8;var j=v(A,T);
T+=8;var M=v(A,T);T+=8;var s=v(A,T);T+=8;var d=v(A,T);T+=8;var x=v(A,T);T+=8;var f=d*n,Q=x*B,m=Math.max(f,n-f),H=Math.max(Q,B-Q),S=Math.sqrt(m*m+H*H),R=1/S;
for(var D=0;D<B;D++)for(var G=0;G<n;G++){var C=(G+.5-f)*R,O=(D+.5-Q)*R,Y=C*C+O*O,l2=1+(l+(aV+(j+(M+s*Y)*Y)*Y)*Y)*Y,K=(D*n+G)*3;
p[K]=l2*p[K];p[K+1]=l2*p[K+1];p[K+2]=l2*p[K+2]}}else if(U==4&&z==1){var T=$,gm=u(A,T);T+=4;var iz=u(A,T);
T+=4;for(var g=0;g<t;g++)if(p[g]==gm)p[g]=p[g-2]+p[g+2]>>1}else if(U==5&&z==1){var T=$,dC=u(A,T);T+=4;
var dL=u(A,T);T+=4;var cP=u(A,T);T+=4;for(var g=0;g<dL;g++){var id=u(A,T);T+=4;var jR=u(A,T);T+=4;var g=id*n+jR;
p[g]=p[g-2]+p[g+2]>>1}}else if(U==7&&z==1){var T=$,hC=e.LM(A,T);T+=16;var eJ=u(A,T);T+=4;var el=u(A,T);
T+=4;var eu=u(A,T),jY=u(A,T+4);T+=8;var fN=u(A,T);T+=4;var jC=new Uint16Array(fN);for(var g=0;g<fN;g++)jC[g]=e.Bq(A,T+2*g);
var kF=hC.r,i6=hC.$;for(var D=0;D<i6;D+=eu)for(var G=0;G<kF;G+=jY){var g=(hC.y+D)*n+(hC.x+G);p[g]=jC[p[g]]}}else if(U==8&&z==2){var T=$,hC=e.LM(A,T);
T+=16;var eJ=u(A,T);T+=4;var el=u(A,T);T+=4;var eu=u(A,T),jY=u(A,T+4);T+=8;var kT=u(A,T);T+=4;var kY=[];
for(var g=0;g<=kT;g++)kY[g]=e.U0(A,T+g*8);var h9=hC.x,bG=hC.x+hC.r,dQ=hC.y,jn=hC.y+hC.$,b1=J.t50717[0],c8=1/b1;
for(var j_=0;j_<el;j_++)for(var D=dQ;D<jn;D+=eu){var K=3*D*n+eJ+j_;for(var G=h9;G<bG;G+=jY){var g=K+3*G,fQ=p[g]*c8,cM=kY[kT];
for(var jK=kT;jK>0;jK--)cM=cM*fQ+kY[jK-1];p[g]=Math.max(0,Math.min(65535,~~(cM*b1)))}}}else if(U==9&&(z==2||z==3)){var T=$,hC=e.LM(A,T),i7=!0;
T+=16;var eJ=u(A,T);T+=4;var el=u(A,T);T+=4;var eu=u(A,T),jY=u(A,T+4);T+=8;var aw=u(A,T),ez=u(A,T+4);
T+=8;var g4=v(A,T),ht=v(A,T+8);T+=16;var gx=v(A,T),kE=v(A,T+8);T+=16;var kS=u(A,T);T+=4;var h7=aw*ez*kS,b7=new Float32Array(h7);
for(var jK=0;jK<h7;jK++)b7[jK]=e.Lb(A,T+jK*4);for(var jK=0;jK<h7;jK++)if(b7[jK]!=1)i7=!1;if(z==2&&kS!=1)throw"e";
if(z==3&&kS!=3)throw"e";if(!i7){var kF=Math.min(hC.r,n-hC.x),i6=Math.min(hC.$,B-hC.y),fp=.9999*(ez-1)/kF,jB=.9999*(aw-1)/i6;
for(var D=0;D<i6;D+=eu)for(var G=0;G<kF;G+=jY){var g=(hC.y+D)*n+(hC.x+G),fB=G*fp,df=D*jB,dt=Math.floor(fB),g5=Math.floor(df),bR=fB-dt,h$=df-g5,K=g5*ez+dt;
if(z==2){var ih=b7[K]*(1-bR)+b7[K+1]*bR,jt=b7[K+ez]*(1-bR)+b7[K+1+ez]*bR,jN=ih*(1-h$)+jt*h$;p[g]=Math.max(0,Math.min(65535,~~(p[g]*jN+.5)))}if(z==3){for(var jk=0;
jk<3;jk++){var gE=K*3+jk,ih=b7[gE]*(1-bR)+b7[gE+3]*bR,jt=b7[gE+ez*3]*(1-bR)+b7[gE+3+ez*3]*bR,jN=ih*(1-h$)+jt*h$;
p[3*g+jk]=p[3*g+jk]*jN}}}}}else console.log("Unknown opcode "+U+" in OpcodeList"+z+". Length: "+k);$+=k}};
a.raw.aud=function(z,J){var p=e8.ie(J),n=a.raw.ax4(z,J),B=a.gr.oU(n),c=e8.ait(p,e8.ie(e8.a7j)),t=a.gr.multiply(c,B);
return t};a.raw.arY=function(z){var J=z.t50728,p=z.t50729,c=1;if(p)return{x:p[0][0]/p[0][1],y:p[1][0]/p[1][1]};
if(J==null||J[0]==0)J=[1,1,1];var n=J.slice(0);n.push(0);var B={x:.34567,y:.3585};do{var t=a.gr.oU(a.raw.ax4(z,B)),u=a.gr.V9(t,n),v=e8.aJV(u);
c=Math.abs(B.x-v.x)+Math.abs(B.y-v.y);B=v}while(c>1e-7);return B};a.raw.ax4=function(z,J){var p=e8.asp(J),n=a.raw.a4p,B=z.t50778?z.t50778[0]:0,c=z.t50779?z.t50779[0]:0,t=z.t50723,u=z.t50724;
if(t&&t.length==3)t=null;if(u&&u.length==3)u=null;var v=n(z.t50721,z.t50722,B,c,p.Y5),A=n(t,u,B,c,p.Y5);
v=v||[1,0,0,0,1,0,0,0,1];A=A||[1,0,0,0,1,0,0,0,1];var $=z.t50727?[z.t50727[0],0,0,0,z.t50727[1],0,0,0,z.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return a.gr.multiply(a.gr.Eh($),a.gr.multiply(a.gr.Eh(A),a.gr.Eh(v)))};a.raw.a4p=function(z,J,p,n,B){if(!z&&!J){return null}else if(z&&!J){return z}else if(B<p){return z}else if(B>n){return J}else{var c=(1/B-1/n)/(1/p-1/n),t=1-c,u=[];
for(var g=0;g<9;g++)u[g]=z[g]*c+J[g]*t;return u}};a.raw.br={};a.raw.LX=function(z){z*=8;var J=[8,10,12,14,16];
for(var p in CAMS){var n=CAMS[p];if(n.length==4)continue;var B=n[4],c=n[5];for(var g=0;g<J.length;g++)if(B*c*J[g]==z)return[p,J[g]]}var t=[[4e3,3e3]];
for(var g=0;g<t.length;g++){var n=t[g],B=n[0],c=n[1];for(var g=0;g<J.length;g++)if(B*c*J[g]==z)return[n,J[g]]}return null};
a.raw.aB8=function(z){var z=new Uint8Array(z);for(var g=0;g<z.length;g+=2){var J=z[g];z[g]=z[g+1];z[g+1]=J}var p=a.raw.LX(z.length),n=CAMS[p[0]];
if(n==null)n=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,p[0][0],p[0][1]];var B=n[4],c=n[5],t=Math.max(n[2],116),u={data:z,jq:1,width:B,height:c,t256:[B],t257:[c],t258:[p[1]],t277:[1],t33421:[2,2],t33422:a.raw.yQ[n[1]],t50706:[1,2,0,0],t50714:[t,t,t,t],t50717:[n[3]],t50721:n[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var g=0;g<9;g++)u.t50721[g]/=1e4;return u};a.raw.asO=function(z){if(z==null||z.length==0||typeof z[0]=="number")return z;
var J=[];for(var g=0;g<z.length;g++)J[g]=z[g][1]==0?0:z[g][0]/z[g][1];return J};a.raw.yQ=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
a.raw.normalize=function(z,J){if(z.t259&&z.t259[0]==52546)alert("JPEG XL compression is not supported yet.",4e3);
if(z.t50706!=null||z.t271[0].startsWith("Hasselblad")){var p=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var g=0;g<p.length;g++)if(z["t"+p[g]]!=null)z["t"+p[g]]=a.raw.asO(z["t"+p[g]]);if(z.t271&&z.t271[0].startsWith("Hasselblad")){z.t50706=[1,2,0,0];
z.t33422=a.raw.yQ[1];z.t50723=[1,0,0,0,1,0,0,0,1];z.t50778=[17];if(!z.isLE)for(var g=0;g<z.data.length;
g+=2){var n=z.data[g];z.data[g]=z.data[g+1];z.data[g+1]=n}}if(z.t272&&z.t272[0]=="HERO10 Black"){z.t50728=[.469725,1,.739884];
if(!z.t305[0].startsWith("Adobe")){var B=new Uint16Array(z.data.buffer);for(var g=0;g<B.length;g++)B[g]>>>=2}}return}var c=z.t258[0],t=z.exifIFD,J=new Uint8Array(J);
z.t50706=[1,2,0,0];var u=z.t271[0].trim(),v=z.t272[0].trim();if(z.t50708==null)z.t50708=[u+" "+v];var A=(u+":"+v).toLowerCase().trim(),$=CAMS[A];
if(A=="panasonic:dmc-lx2")$[3]=1<<16;if($==null){alert("Unknown camera:"+A);if(A.startsWith("canon"))$=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if($!=null){var X=$[2],U=$[3];
if(X!=0)z.t50714=[X,X,X,X];if(U!=0)z.t50717=[U];z.t50721=$[0].slice(0);for(var g=0;g<9;g++)z.t50721[g]=z.t50721[g]*(1/1e4)}z.t50723=[1,0,0,0,1,0,0,0,1];
if(z.t50728==null)z.t50728=[.35,1,.6];z.t50778=[17];if(u.startsWith("OLYMPUS")||u.startsWith("OM Digital Solutions")){z.t33422=[2,1,1,0];
var w=t.t41730,Z;if(w)z.t33422=[w[4],w[5],w[6],w[7]];var P=z.t50341;if(P==null)P=t.t36864;var k=a.raw.aGX(P.buffer,z);
z.data=new Uint8Array(k.buffer);if((z.height&1)==1)z.t50829=[0,0,z.height-1,z.width];var T=t.makerNote,i=T.t8256;
if(i)Z=i.t256;else Z=T.t12288.t256;if(Z)z.t50728=[256/Z[0],1,256/Z[1]]}else if(z.t271[0].startsWith("SONY")){var V=UTIF["_bin"+(z.isLE?"LE":"BE")],_=z.t28688,Q;
if(JSON.stringify(_)!="[8000,10400,12900,14100]")console.log(_);if(_&&_.join("")!="0000"){var y=[0,0,0,0,0,4095],E=new Uint16Array(16385);
for(var g=0;g<4;g++){var F=_[g]>>>2;y[g+1]=F;if(F>4095)throw"e"}for(var g=0;g<16385;g++)E[g]=g;for(var g=0;
g<5;g++)for(var d=y[g]+1;d<=y[g+1];d++)E[d]=E[d-1]+(1<<g);var x=J.length*8<z.width*z.height*c;if(x)z.t50712=E}else console.log("no curve");
var f=z.dngPrvt;if(f){var m=f.t29184[0],H=f.t29185[0],S=(z.isLE?e.gm:e.fy)(f.t29217,0),R=new Uint32Array(J.slice(m,m+(H&4294967292)).buffer),I=new Uint32Array(H>>>2);
a.raw.aIm(R,I,H>>>2,S);var D=new Uint8Array(m+H);D.set(new Uint8Array(I.buffer),m);var G=[];UTIF._readIFD(V,D,m,G,0,!1);
var C=G.pop(),O=C.t29458;z.t50728=[O[1]/O[0],1,O[1]/O[3]];z.t50730=[.5];var Y=C.t29891;z.t50829=[Y[1],Y[0],Y[3],Y[2]]}else if(t.makerNote&&t.makerNote.t8208){var Q=t.makerNote,h=Q.t8208,r=h.length,W=0,N=new Uint8Array(256);
for(var g=249;g<256;g++)N[g]=g;for(var g=0;g<249;g++)N[g*g*g%249]=g;for(var g=0;g<r;g++)h[g]=N[h[g]];
if(r==6604)W=612;else throw"e";var O=[];for(var g=0;g<3;g++)O.push(e._4(h,W+g*2));console.log(O);z.t50728=[O[1]/O[0],1,O[1]/O[2]]}else console.log("no white balance");
if(z.width*z.height*1.5==z.t279[0]){X=X>>>2;z.t50714=[X,X,X,X];z.t50717=[$[3]>>>2]}}else if(z.t271[0].startsWith("Canon")){var J=z.data,o=J.slice(0),K=z.t50752,l=[],j=0;
if(K==null||K[0]==0&&K[1]==0)l.push(z.width);else{for(var g=0;g<K[0];g++)l.push(K[1]);l.push(K[2])}var aV=z.width*2,M=z.t50885&&z.t50885[0]==4;
if(!M)for(var s=0;s<l.length;s++){var l2=l[s],gm=2*j,iz=2*l2;for(var dC=0;dC<z.height;dC+=2){var dL=dC*aV+gm,cP=z.height*gm+dC*iz;
for(var g=0;g<iz;g++){J[dL+g]=o[cP+g];J[dL+g+aV]=o[cP+g+iz]}}j+=l2}else{var id=new Uint16Array(o.buffer),jR=new Uint16Array(J.buffer);
function hC(el,eu){jR[eu*3+0]=id[el*3+0];jR[eu*3+1]=id[el*3+1];jR[eu*3+2]=id[el*3+2]}var eJ=(K[0]*K[1]+K[2])/z.width;
for(var s=0;s<l.length;s++){var l2=Math.round(l[s]/eJ);for(var dC=0;dC<z.height;dC++){var el=z.height*j+(eJ==3?(dC>>>3)*8+[0,4,1,5,2,6,3,7][dC&7]:dC)*l2,eu=dC*z.width+j;
for(var jY=0;jY<l2;jY++)hC(el+jY,eu+jY)}j+=l2}var fN=new Uint16Array(J.buffer),jC=new Uint16Array(1),kF=new Int16Array(jC.buffer);
for(var g=0;g<fN.length;g+=3){var i6=fN[g],kT=fN[g+1],kY=fN[g+2];jC[0]=kT<<2;kT=kF[0]>>2;jC[0]=kY<<2;
kY=kF[0]>>2;fN[g+0]=Math.max(0,kY+i6);fN[g+1]=Math.max(0,(i6<<12)-kT*778-(kY<<11)>>12);fN[g+2]=Math.max(0,kT+i6)}}var Q=t.makerNote,el=Q.t224;
if(el){var m=z.t50719=[el[5],el[6]],h9=z.t50720=[el[7]+1-el[5],el[8]+1-el[6]],bG=Q.t154;if(bG){m[0]+=bG[3];
m[1]+=bG[4];h9[0]=bG[1];h9[1]=bG[2]}}if(Q.t16385){var dQ=Q.t16385,jn=dQ.length,fQ=1;if(dQ instanceof Array)dQ=new Uint16Array(dQ);
if(dQ instanceof Uint8Array)dQ=new Int16Array(dQ.slice(0).buffer);var b1=dQ[0];if(jn==1273||jn==1275)b1=66;
var c8=[[null,null,null],[63,196,null],[63,231,null],[63,231,null],[63,231,696],[63,231,696],[63,231,719],[63,231,719],[null,null,null],[63,231,723],[63,504,508],[63,728,732],[63,326,782],[63,326,782],[63,326,560],[63,326,782],[71,329,796],[71,329,796],[71,329,796],[71,329,796]];
c8[-3]=[71,264,662];c8[-4]=[71,333,1385];c8[66]=[63,251,483];c8[32]=[85,343,810];c8[33]=[85,343,810];
c8[34]=[105,363,640];c8[48]=[105,363,640];var j_=c8[b1];if(j_==null){if(jn==582)j_=[25,166,null];if(jn==653)j_=[34,286,null]}var cM=z.t272?z.t272[0]:"";
if(cM=="Canon EOS DIGITAL REBEL XS"||cM=="Canon EOS 1000D")fQ=.25;var W=j_[0],jK=j_[1],aw=j_[2];if(W)z.t50728=[dQ[W+1]/dQ[W],1,dQ[W+1]/dQ[W+3]];
if(jK)z.t50714=[dQ[jK]*fQ,dQ[jK]*fQ,dQ[jK]*fQ,dQ[jK]*fQ];if(aw)z.t50717=[dQ[aw]*fQ];if(cM=="Canon PowerShot SX50 HS")z.t50717=[3965]}else{z.t50728=[.4,1,.6]}if(M){z.t277=[3];
z.t50728=[1,1,1];z.t50714=[0,0,0,0]}}else if(z.t271[0].startsWith("NIKON")){var Q=t.makerNote,ez=z.isLE?e._4:e.uf,h7=0,b7=0,df,jN=0;
if(Q.t61){var g4=Q.t61,ht=[];for(var g=0;g<4;g++)ht[g]=g4[g]/Math.pow(2,14-c);z.t50714=ht}if(Q.t3585){var gx=Q.t3585,g=0,m=22;
while(m<gx.length&&g!=-4){var kE=e.gm(gx,m);m+=4;m+=14;g=e.gm(gx,m)-4;m+=4;if(kE==1990472198){if(gx[m]!=0)throw"Flip"}if(kE==1990472199){var kS=e._4(gx,m);
if(kS==0)z.jq=1;else if(kS==270)z.jq=8;else throw"e "+kS}m+=g}}if(Q.t183){var i7=Q.t183,h9=[];for(var g=0;
g<6;g++)h9.push(ez(i7,16+g*2));h7=h9[0];b7=h9[1]}if(Q.t3614){var fp=Q.t3614;h7=e.gm(fp,8);b7=e.gm(fp,12)}if(h7!=0&&Math.max(h7,b7)<Math.max(z.width,z.height)){if(h7<b7){var n=h7;
h7=b7;b7=n}var jY=z.width-h7>>>1,dC=z.height-b7>>>1;z.t50829=[dC,jY,dC+b7,jY+h7]}else z.t50829=[8,8,z.height-8,z.width-56];
var jB=Q.t69;if(jB){var fB=jB[1];if((fB&1)==1)fB++;z.t50829=[fB,jB[0],fB+jB[3],jB[0]+jB[2]]}if(Q.t12){var dt=a.raw.asO(Q.t12);
df=[1/dt[0],1,1/dt[1]]}else if(Q.t151){var g5=a.raw.akC(Q,151),bR=g5[0],j3=g5[1],h$=g5[2];if(bR=="0100"&&j3>=80){var ih=[];
for(var g=0;g<4;g++)ih.push(ez(h$,68+g*2));df=[ih[3]/ih[0],1,ih[3]/ih[1]]}else if(bR=="0102"){var ih=[];
for(var g=0;g<4;g++)ih.push(ez(h$,6+g*2));df=[ih[1]/ih[0],1,ih[1]/ih[3]]}else if(bR=="0103"&&j3>=26){var ih=[];
for(var g=0;g<4;g++)ih.push(ez(h$,16+g*2));df=[ih[1]/ih[0],1,ih[3]/ih[2]]}else if(bR=="0204"&&j3>=564||bR=="0205"&&j3>=284){var m=bR=="0204"?6:14,ih=[];
for(var g=0;g<4;g++)ih.push(ez(h$,m+g*2));df=[ih[1]/ih[0],1,ih[1]/ih[3]]}else throw"e"}else console.log("no white balance info");
if(v=="NIKON D1")df=[1,1,1];if(df)z.t50728=df;var jt=Q.t150?Q.t150:Q.t140;if(jt){var jk=jt[jN++],gE=jt[jN++],gV;
if(jk==73||gE==88)jN+=2110;jN+=8;var cW=1<<c&32767,dR=ez(jt,jN);jN+=2;var E=[];if(dR>1)gV=Math.floor(cW/(dR-1));
if(jk==68&&gE==32&&gV>0){for(g=0;g<dR;g++){E[g*gV]=ez(jt,jN);jN+=2}for(g=0;g<cW;g++)E[g]=Math.floor((E[g-g%gV]*(gV-g%gV)+E[g-g%gV+gV]*(g%gV))/gV)}else if(jk!=70&&dR<=16385){cW=dR;
for(var g=0;g<dR;g++)E[g]=ez(jt,jN+2*g);jN+=2*dR}var v=z.t272[0];if(E.length!=0)z.t50712=new Uint16Array(E);
if(z.t258[0]==14&&z.t50717&&z.t50717[0]<1e4){console.log("fixing white");z.t50717[0]*=4}}}else if(u.startsWith("FujiFilm")){}else if(u.startsWith("Panasonic")){if(z.t277==null)z.t277=[1]}else alert("Unknown camera "+u)};
a.raw.aIm=function(z,J,p,n){if(0==p)return;var B=new Uint32Array(128),c=new Uint8Array(B.buffer),t=127,u=0,v=0;
for(var t=0;t<4;t++)B[t]=n=(n*15625>>>0)*3125+1>>>0;B[3]=B[3]<<1|(B[0]^B[2])>>>31;for(var t=4;t<127;
t++)B[t]=(B[t-4]^B[t-2])<<1|(B[t-3]^B[t-1])>>>31;for(var t=0;t<127;t++)B[t]=e.fy(c,t*4);for(;p>0;p--){B[t&127]=B[t+1&127]^B[t+1+64&127];
var A=B[t&127],$=z[u];$^=A;J[v]=$;u++;v++;t++}};a.raw.a55=function(z,J){var p=e.RM(J,0,4),n=a.raw.aHd;
for(var g=0;g<n.length;g++)if(n[g][0]==z&&p.startsWith(n[g][1])&&(n[g][2]==0||n[g][2]==J.length))return n[g];
throw"e"};a.raw.anf=function(z){if(z.t29==null)return[];var J=a.raw.aoq,p=a.raw.aFu,n=z.t29[0],B=0,t=0;
for(var g=0;g<n.length;g++){var c=n.charCodeAt(g);B=B*10+(48<=c&&c<=57?c-48:c%10)}var j3=z.t167[0];for(var g=0;
g<4;g++)t^=j3>>>(g<<3)&255;var u=J[B&255],v=p[t&255];return[u,v,96]};a.raw.akC=function(z,J){var p=z["t"+J],j3=p.length,n=a.raw.a55(J,p),B=e.RM(p,0,4),c,t=n[4];
if(t==null)c=p.slice(4);else{c=new Uint8Array(j3-t);var u=a.raw.anf(z),v=u[0],A=u[1],$=u[2];for(var g=0;
g<c.length;g++){A=A+v*$++&255;c[g]=p[t++]^A}}return[B,j3,c]};a.raw.aGX=function(z,J){var p=J.t271[0],n=J.t272[0],B=J.t256[0],c=J.t257[0],t=J.t258[0],u=J.t273[0],v=u,A=new Uint8Array(z),$,X=B-4,U=c,w=A.length-u,T=0,Z=0;
function P(){var E=new Uint16Array(4096),lj=0;E[lj]=3084;for(var g=12;g--;)for(var F=0;F<2048>>g;F++)E[++lj]=g+1<<8|g;
return E}function k(){return A[v++]}function i(E,F){var d;if(E>25)return 0;if(E==0||Z<0)return 0;if(E<0){T=0;
Z=0;return 0}while(Z<E){d=k();if(d==null)break;T=(T<<8)+(255&d);Z+=8}d=Z==0?0:T<<32-Z>>>32-E;if(F){Z-=F[d]>>8;
d=255&F[d]}else Z-=E;return d}function V(){var E=P();v+=7;i(-1);for(var F=0;F<U;F++){var d=[new Int32Array(3),new Int32Array(3)];
for(var x=0;x<B;x++){var f=d[x&1],g=2*(f[2]<3),Q;for(Q=2+g;(65535&f[0])>>Q+g;Q++);var m=i(3),H=m&3;m=m<<29>>31;
var S=i(12,E);if(S==12)S=i(16-Q)>>>1;var R=i(Q);f[0]=S<<Q|R;var I=(f[0]^m)+f[1];f[1]=I*3+f[1]>>5;f[2]=f[0]>16?0:f[2]+1;
if(x>=X)continue;var D=$[F*B+x-2],lj=$[(F-2)*B+x],G=$[(F-2)*B+x-2];$[F*B+x]=(F<2&&x<2?0:F<2?D:x<2?lj:D<G&&G<lj||lj<G&&G<D?Math.abs(D-G)>32||Math.abs(lj-G)>32?D+lj-G:D+lj>>1:Math.abs(D-G)>Math.abs(lj-G)?D:lj)+(I<<2|H)}}}function _(){var E=B*t/8,F=c+1>>1,x=0,f=0;
E+=E&6>>7;var d=E*8-B*t;for(var Q=0;Q<c;Q++){var m=Q%F*2+~~(Q/F);if(m==1){x=0;v=u-(-F*E&-2048)}for(var H=0;
H<B;H++){for(x-=t;x<0;x+=8){f<<=8;for(var g=0;g<8;g+=8)f|=k()<<g}var S=f<<64-t-x>>>64-t;$[m*B+H]=S}x-=d}}function y(){var E=!p.startsWith("OLYMPUS")||!p.startsWith("OM Digi")||!p.toLowerCase().startsWith("clauss")&&!n.toLowerCase().startsWith("pix 5oo");
return E&&w<B*c*(t/8)}if(y()){$=new Uint16Array(X*U);V()}else if(B*c*2==J.data.length){$=new Uint16Array(J.data.buffer)}else{$=new Uint16Array(B*c);
_()}return $};a.raw.aHd=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
a.raw.aoq=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
a.raw.aFu=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
a.YA={};a.YA.YA=function(z,J,p,n,B){if(n==null)n=3;if(B==null)B=!0;var c=z.r,t=z.$,u=1/c,v=c*t,A=Date.now(),$=!1,X=a.YA.atR(p,c,t,255,128),U=a.YA.atR(p,c,t,0,128),M=0;
if($)console.log("extract contours",Date.now()-A);A=Date.now();var w=function(aw,ez){var g4=aw<<2,ht=ez<<2;
return J[g4]+J[g4+1]+J[g4+2]-(J[ht]+J[ht+1]+J[ht+2])};X.sort(w);U.sort(w);var P=a.j(v),k=a.j(v),T=[],Z=new Uint32Array(c*t);
Z.fill(4294967295);for(var g=0;g<v;g++)if(p[g]==0)k[g]=255;else if(p[g]==255)P[g]=255;else{Z[g]=T.length;
T.push(g)}var i=X.length,V=U.length,_=T.length;function y(aw,ez,g4,ht){var gx=aw.length,kE=new Array(gx*2);
for(var g=0;g<gx;g++){var D=aw[g],G=~~(D*ht),C=D-G*g4,fQ=D<<2;kE[g*2]=C<<16|G;kE[g*2+1]=ez[fQ]<<16|ez[fQ+1]<<8|ez[fQ+2]}return kE}var E=y(X,J,c,u),F=y(U,J,c,u),d=y(T,J,c,u);
if($)console.log("Itemize",Date.now()-A,"Unknown:",_,i,V);A=Date.now();var x=a.style.BB(P,c,t,!0),f=a.style.BB(k,c,t,!0),Q=new Array(_),m=new Array(_),H=new Array(_),S=new Array(_),R=new Array(_);
if($)console.log("Dist transform",Date.now()-A);A=Date.now();var I=a.YA.Fn;for(var g=0;g<_;g++){var D=T[g],G=~~(D*u),C=D-G*c,O=x[D<<1],Y=x[(D<<1)+1],h=Math.sqrt(O*O+Y*Y),r=f[D<<1],W=f[(D<<1)+1],N=Math.sqrt(r*r+W*W);
Q[g]=1/h;m[g]=1/N;var l=Math.floor(a.B.OB(D*17)*i),aV=Math.floor(a.B.OB(D*19)*V);H[g]=l;S[g]=aV;R[g]=I(d[g*2],d[g*2+1],E[l*2],E[l*2+1],F[aV*2],F[aV*2+1],Q[g],m[g],1e9)}var j=[-c-1,-c,-c+1,-1,1,c-1,c,c+1];
while(Math.floor(Math.max(i,V)*Math.pow(.5,M))>1)M++;for(var s=0;s<n;s++){var l2=0;for(var g=0;g<_;g++){var D=T[g],G=~~(D*u),C=D-G*c,gm=Q[g],iz=m[g],dC=d[g*2],dL=d[g*2+1],cP=R[g],l=H[g],aV=S[g],jY=1;
if(G!=0&&C!=0&&C!=c-1&&G!=t-1)for(var id=0;id<8;id++){var jR=Z[D+j[id]];if(jR==4294967295)continue;var hC=H[jR],el=S[jR];
if(hC==l&&el==aV)continue;var eu=I(dC,dL,E[hC*2],E[hC*2+1],F[el*2],F[el*2+1],gm,iz,cP);if(eu<cP){cP=eu;
l=hC;aV=el}}for(var fN=0;fN<M;fN++){var jC=~~(i*jY),kF=~~(V*jY);jY*=.5;var i6=a.B.OB(D+s*17+fN*31),kT=a.B.OB(D+s*29+fN*63),kY=Math.max(0,l-jC),h9=Math.min(l+jC,i-1),bG=Math.max(0,aV-kF),dQ=Math.min(aV+kF,V-1),hC=kY+~~(i6*(h9-kY)),el=bG+~~(kT*(dQ-bG)),eu=I(dC,dL,E[hC*2],E[hC*2+1],F[el*2],F[el*2+1],gm,iz,cP);
if(eu<cP){cP=eu;l=hC;aV=el}}R[g]=cP;H[g]=l;S[g]=aV;l2+=cP}}if($)console.log(l2);if($)console.log("iterations",Date.now()-A);
A=Date.now();var jn=p.slice(0);for(var g=0;g<_;g++){var b1=a.YA.alpha(d[g*2+1],E[H[g]*2+1],F[S[g]*2+1]);
jn[T[g]]=~~(.5+255*b1)}jn=a.gB.a7p(jn,J,new fw(0,0,c,t),16,.01*.01);if($)console.log("guided filter",Date.now()-A);
A=Date.now();if(B)for(var g=0;g<v;g++)if(p[g]==255||p[g]==0)jn[g]=p[g];var c8=J.slice(0);for(var g=0;
g<_;g++){var j_=T[g],l=X[H[g]],cP=R[g],fQ=j_<<2,cM=jn[j_],jK=(cM>=250?j_:l)<<2;c8[fQ]=J[jK];c8[fQ+1]=J[jK+1];
c8[fQ+2]=J[jK+2]}a.DE(jn,c8,3);if($)console.log(Date.now()-A);A=Date.now();return c8};a.YA.Fn=function(z,J,p,n,B,c,t,u,v){var A=z>>>16,$=z&65535,X=A-(p>>>16),U=$-(p&65535),w=A-(B>>>16),P=$-(B&65535),k=Math.sqrt(X*X+U*U)*t,T=Math.sqrt(w*w+P*P)*u;
if(k+T>=v)return 1e9;var Z=a.YA.aDS(J,n,c);return Z+k+T};a.YA.aDS=function(z,J,p){var n=z>>>16,B=z>>>8&255,c=z&255,t=J>>>16,u=J>>>8&255,v=J&255,A=p>>>16,$=p>>>8&255,X=p&255,U=a.YA.alpha(z,J,p),w=n-(U*t+(1-U)*A),P=B-(U*u+(1-U)*$),k=c-(U*v+(1-U)*X);
return Math.sqrt(w*w+P*P+k*k)};a.YA.alpha=function(z,J,p){var n=z>>>16,B=z>>>8&255,c=z&255,t=J>>>16,u=J>>>8&255,v=J&255,A=p>>>16,$=p>>>8&255,X=p&255,U=t-A,w=u-$,P=v-X,k=n-A,T=B-$,Z=c-X,i=U*U+w*w+P*P,V=i==0?.5:(k*U+T*w+Z*P)/i;
return Math.max(0,Math.min(1,V))};a.YA.a8Q=function(z){};a.YA.atR=function(z,J,p,n,B){var c=[],t=J-1,u=p-1;
for(var v=1;v<u;v++)for(var A=1;A<t;A++){var g=v*J+A;if(z[g]==n&&(z[g-J-1]==B||z[g-J]==B||z[g-J+1]==B||(z[g-1]==B||z[g+1]==B)||(z[g+J-1]==B||z[g+J]==B||z[g+J+1]==B)))c.push(g)}return c};
a.gB={};a.gB.a9d=function(z,J,p,n,B){var c=p.r,t=p.$,u=c*t,v=a.gB.a0I,A=a.j(u*4),$;A.fill(255);var X=p,U=z,w=J,P=n;
a.DE(z,A,0);$=a.Wq(A,p);$=a.Wq($.R1,$.S);X=$.S;P=n>>>2;console.log(X,P);U=a.j(X.C());a.Tm($.R1,U,0);
a.DE(J,A,0);$=a.Wq(A,p);$=a.Wq($.R1,$.S);w=a.j(X.C());a.Tm($.R1,w,0);var k=a.gB.a7V(U,w,X,P,B),T=k[0],Z=k[1],i=new fw(0,0,X.r*2,X.$*2);
T=v(T,X,i,!0);T=v(T,i,p,!0);Z=v(Z,X,i,!0);Z=v(Z,i,p,!0);var V=a.j(u);for(var g=0;g<u;g++)V[g]=Math.max(0,Math.min(255,Math.floor(.5+(T[g]*J[g]+255*Z[g]))));
return V};a.gB.zM=function(z,J,p,n){J.set(z);a.zM.W7(J,p,n)};a.gB.a0I=function(z,J,p,n){var B=p.r,c=p.$,t=J.r,u=J.$,v=a.gB.V8,A=new Float32Array(B*c);
for(var $=0;$<u;$++){var X=($+$)*B;for(var U=0;U<t;U++){if(!0||U==0||$==0||U==t-1||$==u-1)A[X]=A[X+1]=A[X+B]=A[X+B+1]=z[$*t+U];
else{A[X]=v(U+.25,$+.25,z,t,u);A[X+1]=v(U+.75,$+.25,z,t,u);A[X+B]=v(U+.25,$+.75,z,t,u);A[X+B+1]=v(U+.75,$+.75,z,t,u)}X+=2}}return A};
a.gB.V8=function(z,J,p,n,B){z-=.499999;J-=.499999;var c=Math.floor(z),t=Math.floor(J),u=t*n+c,v=z-c,A=J-t,$=(1-A)*(1-v),X=(1-A)*v,U=A*(1-v),w=A*v;
if(p[u]==null||p[u+n+1]==null){console.log(z,J,n,B);throw"e"}return $*p[u+0]+X*p[u+1]+U*p[u+n+0]+w*p[u+n+1]};
a.gB.a7V=function(z,J,p,n,B){var c=p.r,t=p.$,u=c*t,v=a.gB.a87,A=a.gB.j,$=a.gB.zM,X=a.gB.sr,J=v(J,u),z=v(z,u),U=A(u);
$(J,U,p,n);var w=A(u);$(z,w,p,n);var P=A(u);X(J,J,P);$(P,P,p,n);var k=A(u);X(J,z,k);$(k,k,p,n);var T=A(u),Z=A(u);
for(var g=0;g<u;g++){var i=U[g],V=w[g],_=P[g]-i*i,y=k[g]-i*V,E=y/(_+B),F=V-E*i;T[g]=E;Z[g]=F}var d=A(u);
$(T,d,p,n);var x=A(u);$(Z,x,p,n);return[d,x]};a.gB.a7p=function(z,J,p,n,B){var c=p.r,t=p.$,u=c*t,v=a.gB.a0I,A=Date.now(),$=!1,X=p,U=z,w=J,P=n;
X=new fw(0,0,c>>>2,t>>>2);P=n>>>2;U=a.gB.a3k(z,c,t);w=a.gB.ast(J,c,t);if($)console.log(Date.now()-A);
A=Date.now();var k=a.gB.anv(U,w,X,P,B),T=k[0],Z=k[1],i=k[2],V=k[3];if($)console.log(Date.now()-A);A=Date.now();
var _=a.j(u);for(var y=0;y<t;y++)for(var E=0;E<c;E++){var g=y*c+E,F=(y>>>2)*(c>>>2)+(E>>>2),d=g<<2,x=T[F]*J[d]+Z[F]*J[d+1]+i[F]*J[d+2]+V[F]*255;
_[g]=Math.max(0,Math.min(255,~~(.5+x)))}if($)console.log(Date.now()-A);A=Date.now();return _};a.gB.a3k=function(z,J,p){var n=J>>>2,B=p>>>2,c=a.j(n*B);
for(var t=0;t<B;t++)for(var u=0;u<n;u++)c[t*n+u]=z[t*J+u<<2];return c};a.gB.ast=function(z,J,p){var n=J>>>2,B=p>>>2,c=a.j(n*B*4);
for(var t=0;t<B;t++)for(var u=0;u<n;u++){var v=t*n+u<<2,A=t*J+u<<4;c[v]=z[A];c[v+1]=z[A+1];c[v+2]=z[A+2];
c[v+3]=z[A+3]}return c};a.gB.anv=function(z,J,p,n,B){var c=p.r,t=p.$,u=c*t,v=a.gB.a87,A=a.gB.j,$=a.gB.zM,X=a.gB.sr,z=v(z,u),U=new a.rk(c*t);
a.eJ(J,U);var J=[v(U.o,u),v(U.k,u),v(U.X,u)],w=a.gB.acF(z,J,p,n,B),P=A(u);$(z,P,p,n);var k=A(u);X(J[0],z,k);
$(k,k,p,n);var T=A(u);X(J[1],z,T);$(T,T,p,n);var Z=A(u);X(J[2],z,Z);$(Z,Z,p,n);var i=A(u),V=A(u),_=A(u),y=A(u);
for(var g=0;g<u;g++){var E=P[g],F=w.Xi[g],d=w.TK[g],x=w.A6[g],f=k[g]-F*E,Q=T[g]-d*E,m=Z[g]-x*E;i[g]=w.aGJ[g]*f+w.vM[g]*Q+w.sn[g]*m;
V[g]=w.vM[g]*f+w.alg[g]*Q+w.Ld[g]*m;_[g]=w.sn[g]*f+w.Ld[g]*Q+w.aoa[g]*m;y[g]=E-i[g]*F-V[g]*d-_[g]*x}$(i,i,p,n);
$(V,V,p,n);$(_,_,p,n);$(y,y,p,n);return[i,V,_,y]};a.gB.acF=function(z,J,p,n,B){var c=p.r,t=p.$,u=c*t,v=a.gB.j,A=a.gB.zM,$=a.gB.sr,X={};
X.Xi=v(u);A(J[0],X.Xi,p,n);X.TK=v(u);A(J[1],X.TK,p,n);X.A6=v(u);A(J[2],X.A6,p,n);var U=v(u);$(J[0],J[0],U);
A(U,U,p,n);var w=v(u);$(J[0],J[1],w);A(w,w,p,n);var P=v(u);$(J[0],J[2],P);A(P,P,p,n);var k=v(u);$(J[1],J[1],k);
A(k,k,p,n);var T=v(u);$(J[1],J[2],T);A(T,T,p,n);var Z=v(u);$(J[2],J[2],Z);A(Z,Z,p,n);X.aGJ=U;X.vM=w;
X.sn=P;X.alg=k;X.Ld=T;X.aoa=Z;for(var g=0;g<u;g++){var i=X.Xi[g],V=X.TK[g],_=X.A6[g],y=U[g]-i*i+B,E=w[g]-i*V,F=P[g]-i*_,d=k[g]-V*V+B,x=T[g]-V*_,f=Z[g]-_*_+B,Q=d*f-x*x,m=x*F-E*f,H=E*x-d*F,S=y*f-F*F,R=F*E-y*x,I=y*d-E*E,D=Q*y+m*E+H*F,G=1/D;
X.aGJ[g]=Q*G;X.vM[g]=m*G;X.sn[g]=H*G;X.alg[g]=S*G;X.Ld[g]=R*G;X.aoa[g]=I*G}return X};a.gB.j=function(z){return new Float32Array(z)};
a.gB.a87=function(z,J){var p=new Float32Array(J);for(var g=0;g<J;g++)p[g]=z[g]*(1/255);return p};a.gB.sr=function(z,J,p){for(var g=0;
g<z.length;g++)p[g]=z[g]*J[g]};a.rA={};a.rA.UL=function(z,J,p,n){var B=z[J]-p[n],c=z[J+1]-p[n+1],t=z[J+2]-p[n+2];
return Math.sqrt(B*B+c*c+t*t)*(1/441.7)};a.rA.getSelection=function(z,J,p){var n=J*p,B=a.j(n),c=!1,t=Math.round(p*.7),u=1,v=new Uint32Array(12),A=a.j(12);
for(var $=0;$<t;$++)for(var X=0;X<J;X++){if(X<u||$<u||X>J-u-1||$>p-u-1){var g=$*J+X,U=g<<2,w=0;if($<u)w=4;
else if(X>J-u-1)w=8;v[w]+=z[U];v[w+1]+=z[U+1];v[w+2]+=z[U+2];v[w+3]++;B[g]=255}}for(var g=0;g<12;g+=4)for(var P=0;
P<3;P++)A[g+P]=v[g+P]/v[g+3];var k=new Float32Array(n);for(var g=0;g<n;g++){var U=g*4,T=a.rA.UL(z,U,A,0),Z=a.rA.UL(z,U,A,4),i=a.rA.UL(z,U,A,8),V=Math.max(T,Math.max(Z,i));
k[g]=T+Z+i-V}a.rA.gO(k);var _=Date.now(),y=new Float32Array(n),E=[],F=a.j(n);for(var g=0;g<3;g++){a.Tm(z,F,g);
var d=new Uint16Array(n);E.push(d);a.rA.a5$(F,B,J,p,d)}if(c)console.log("MBD",Date.now()-_);_=Date.now();
for(var g=0;g<n;g++)y[g]=E[0][g]+E[1][g]+E[2][g];a.rA.gO(y);for(var g=0;g<n;g++)y[g]+=.4*k[g];var x=J>>>1,t=p>>>1,f=1/Math.sqrt(x*x+t*t);
for(var $=0;$<p;$++)for(var X=0;X<J;X++){var Q=X-x,m=$-t,H=1-Math.sqrt(Q*Q+m*m)*f;y[$*J+X]*=H}if(c)console.log("Centeredness",Date.now()-_);
_=Date.now();for(var g=0;g<n;g++)B[g]=y[g]*255;var S=Math.round(J/120),R=Math.round(S*.8);if(c)console.log(S,R);
a._J.Oj(B,B,J,p,S+S+1,!1);if(c)console.log("erosion",Date.now()-_);_=Date.now();for(var g=0;g<n;g++)y[g]=B[g];
a.rA.gO(y);var I=a.j(256);for(var g=0;g<256;g++)I[g]=256/(1+Math.exp(-20*(g/255-.5)));for(var g=0;g<n;
g++){var D=~~(y[g]*255+.5);B[g]=I[D]}if(c)console.log("Simoid",Date.now()-_);_=Date.now();return B};
a.rA.gO=function(z){var J=z.length,p=0;for(var g=0;g<J;g++)p=Math.max(p,z[g]);var n=1/p;for(var g=0;
g<J;g++)z[g]=z[g]*n};a.rA.a5$=function(z,J,p,n,B){var c=p*n,t=z.slice(0),u=z.slice(0);for(var g=0;g<c;
g++)B[g]=J[g]==255?0:65535;a.rA.amS(z,u,t,B,p,n);a.rA.a3b(z,u,t,B,p,n);a.rA.amS(z,u,t,B,p,n);a.rA.a3b(z,u,t,B,p,n);
return B};a.rA.amS=function(z,J,p,n,B,c){for(var t=1;t<B;t++)a.rA.eb(t,-1,z,J,p,n);for(var u=1;u<c;u++){a.rA.eb(u*B,-B,z,J,p,n);
for(var t=1;t<B;t++){var g=u*B+t;a.rA.eb(g,-1,z,J,p,n);a.rA.eb(g,-B,z,J,p,n)}}};a.rA.a3b=function(z,J,p,n,B,c){for(var t=B-2;
t>=0;t--)a.rA.eb(B*c-B+t,1,z,J,p,n);for(var u=c-2;u>=0;u--){a.rA.eb(u*B+B-1,B,z,J,p,n);for(var t=B-2;
t>=0;t--){var g=u*B+t;a.rA.eb(g,1,z,J,p,n);a.rA.eb(g,B,z,J,p,n)}}};a.rA.eb=function(g,z,J,p,n,B){var c=g+z,t=J[g],u=p[c],v=n[c];
if(u<t)u=t;else if(t<v)v=t;var A=u-v;if(B[c]!=65535&&A<B[g]){B[g]=A;p[g]=u;n[g]=v}};a.rm={};a.rm.filter=function(z,J,p,n){var B=J.r,c=J.$,t=B*c,u=n[0],v=n[1],A=n[2],$=n[3],X=n[4],U=n[5],w=n[6],P=Date.now(),k=new Float32Array(B*c*4);
a.rm.aJO(z,B,c,k);var T=Math.ceil(u*Math.sqrt(-2*Math.log(.1))),Z=new ArrayBuffer(t*4),i=new Float32Array(Z),V=new Float32Array(t),_=new Float32Array(t);
for(var g=0;g<t;g++){var y=g*4;i[g]=k[y];V[g]=k[y+1];_[g]=k[y+2]}a.zM.zH(i,J,T*1/2.4,2);a.zM.zH(V,J,T*1/2.4,2);
a.zM.zH(_,J,T*1/2.4,2);for(var g=0;g<t;g++){var y=g*4;k[y]=i[g];k[y+1]=V[g];k[y+2]=_[g]}var E=new Uint8Array(Z);
for(var g=0;g<t;g++){var y=g*4,F=g*4,i=k[y],V=k[y+1],_=k[y+2],d=Math.sqrt((i-_)*(i-_)+4*V*V),x=(i+_+d)*.5,f=(i+_-d)*.5,Q=f-_,m=V,H=Q*Q+m*m;
if(H!=0){var S=Math.sqrt(H),R=1/S;Q*=R;m*=R}E[F]=128+127*Q;E[F+1]=128+127*m}var I=1.3*v+2,D=$*(2/10),G=z.slice();
if(co.Pw){var C=new Float32Array([1/B,1/c]),O=co.Ud(0,B,c);O.set(G);var Y=co.Ud(1,B,c);Y.set(E);co.C4(O,J);
if(X){O.Xq(J);co.filter.PW({I:co.filter.at$,lw:C,aIA:1/A,aE8:D},O.Qz)}O.Xq(J);co.filter.PW({I:co.filter.wF,qX:Y.zu,lw:C,VU:I,PC:2},O.Qz);
if(X){O.Xq(J);co.filter.PW({I:co.filter.aac,lw:C,aBv:new Float32Array(w),abk:U},O.Qz)}O.get(p)}else{if(X)a.rm.ar2(1/A,D,G,B,c);
a.rm.wF(G,p,E,B,c,I);if(X)a.rm.amG(B,c,p,w,U)}var h=t*4;for(var g=3;g<h;g+=4)p[g]=z[g]};a.rm.wF=function(z,J,p,n,B,c){var t=Math.ceil(2*c),u=-1/(2*c*c),v=[],A=1;
for(var g=0;g<t+20;g++)v[g]=Math.exp(g*g*u);var $=[0,0,0,0];for(var X=0;X<B;X++){for(var U=0;U<n;U++){var w=X*n+U,P=w*4,k=1,T=z[P],Z=z[P+1],i=z[P+2],V=z[P+3],_=(p[P]-128)*(1/127),y=(p[P+1]-128)*(1/127),E=_,F=y,d=U==0?.51:.49,x=X==0?.51:.49;
for(var g=0;g<2;g++){var f=U+d,Q=X+x,m=0;while(m<t){if(f<.5||n-.5<f||Q<.5||B-.5<Q)break;var H=~~f,S=~~Q,R=S*n+H,I=R*4,D=(p[I]-128)*(1/127),G=(p[I+1]-128)*(1/127);
if(D*E+G*F<0){D=-D;G=-G}E=D;F=G;f+=A*D;Q+=A*G;if(f<.5||n-.5<f||Q<.5||B-.5<Q)break;var C=~~f,O=~~Q,Y=O*n+C<<2;
m+=A;var h=v[~~m];a.F.aA8(f,Q,z,n,B,$);T+=$[0]*h;Z+=$[1]*h;i+=$[2]*h;V+=$[3]*h;k+=h}E=-_;F=-y}var r=1/k;
J[P]=~~(.5+T*r);J[P+1]=~~(.5+Z*r);J[P+2]=~~(.5+i*r);J[P+3]=~~(.5+V*r)}}};a.rm.amG=function(z,J,p,n,B){for(var c=0;
c<J;c++)for(var t=0;t<z;t++){var u=c*z+t<<2,v=1+a.rm.agQ(t,c,p,z,J,n)*B;p[u]=Math.max(0,Math.min(255,p[u]*v));
p[u+1]=Math.max(0,Math.min(255,p[u+1]*v));p[u+2]=Math.max(0,Math.min(255,p[u+2]*v))}};a.rm.agQ=function(z,J,p,n,B,c){var t=p[(J*n+Math.max(0,z-1))*4+3],u=p[(J*n+Math.min(n-1,z+1))*4+3],v=p[(Math.max(0,J-1)*n+z)*4+3],A=p[(Math.min(B-1,J+1)*n+z)*4+3],$=.7,X=(u-t)*(1/255),U=.7,w=(A-v)*(1/255),P=-X*U,k=-$*w,T=$*U,Z=Math.sqrt(P*P+k*k+T*T),i=1/Z,V=P*i,_=k*i,y=T*i,E=c[0]*V+c[1]*_+c[2]*y;
return E};a.rm.ar2=function(z,J,p,n,B){function c(u,A,$){return Math.max(A,Math.min($,u))}for(var t=0;
t<B;t++)for(var u=0;u<n;u++){var v=a.rm.adF(u+.5,t+.5,z,J);p[(t*n+u)*4+3]=Math.max(0,Math.min(255,v*255))}};
a.rm.adF=function(z,J,p,n){function B(F,d,x){return(1-x)*F+x*d}var c=(z+613)*p,t=(J+117)*p,u=~~c,v=~~t,A=c-u,$=t-v,X=Math.sin(11),U=Math.cos(u)*X,w=Math.cos(u+1)*X,P=Math.cos(v)*X,k=Math.cos(v+1)*X,lj=a.rm.hash(U,P),T=a.rm.hash(w,P),Z=a.rm.hash(U,k),i=a.rm.hash(w,k),V=B(lj,T,A),_=B(Z,i,A),y=B(V,_,$);
y=y<.5?0:1;var E=y+n*a.rm.hash(Math.cos(c)*X,Math.cos(t)*X);return E*(1/3)};a.rm.hash=function(z,J){var p=Math.sin(z*11.697096+J*73.32456)*12157.47691;
return p-Math.floor(p)};a.rm.aJO=function(z,J,p,n){var B=[-1,0,1,-2,0,2,-1,0,1],c=[-1,-2,-1,0,0,0,1,2,1],t=J-1,u=p-1,v=J*4;
for(var A=1;A<u;A++)for(var $=1;$<t;$++){var g=A*J+$,X=g*4,U=a.rm.vG(z,X,v,B),w=a.rm.vG(z,X,v,c),P=a.rm.vG(z,X+1,v,B),k=a.rm.vG(z,X+1,v,c),T=a.rm.vG(z,X+2,v,B),Z=a.rm.vG(z,X+2,v,c);
n[X]=U*U+P*P+T*T;n[X+1]=U*w+P*k+T*Z;n[X+2]=w*w+k*k+Z*Z}a.rm.axv(n,J,p)};a.rm.vG=function(z,J,p,n){return z[J-p-4]*n[0]+z[J-p]*n[1]+z[J-p+4]*n[2]+z[J-4]*n[3]+z[J]*n[4]+z[J+4]*n[5]+z[J+p-4]*n[6]+z[J+p]*n[7]+z[J+p+4]*n[8]};
a.rm.axv=function(z,J,p){function n(v,g,A){var $=g*4,X=A*4;v[X]=v[$];v[X+1]=v[$+1];v[X+2]=v[$+2]}var B=J-1,c=p-1;
n(z,J+1,0);n(z,2*J-2,J-1);for(var t=1;t<B;t++)n(z,J+t,t);for(var u=1;u<c;u++){n(z,u*J+1,u*J);n(z,u*J+J-2,u*J+J-1)}for(var t=1;
t<B;t++)n(z,(p-2)*J+t,(p-1)*J+t);n(z,(u-2)*J+1,(u-1)*J);n(z,(u-1)*J-2,u*J-1)};a.rn=function(){function z(A,$,X,U){var w=new Float32Array(A*A),P=A/2;
for(var k=0;k<A;k++)for(var T=0;T<A;T++){var Z=T+X-P,i=k+U-P;w[k*A+T]=Math.max(0,Math.min(1,$+.5-Math.sqrt(Z*Z+i*i)))}return w}var J=[],n=null;
function p(A,$,X,U){var w=Math.floor($*10),P=J[w],k=A*8,T=k>>>1;if(P==null){P=J[w]=[];var Z=new fw(0,0,k,k),i=A/2/(1+.2*$),V=Math.floor(A*w*.1);
for(var _=0;_<2;_++)for(var y=0;y<2;y++){var E=z(k,i,.25+y*.5,.25+_*.5),F=0;a.zM.zH(E,Z,V);while(E[k*T+F]<.005)F++;
if(F!=0)F--;var d=2*(T-F),x=new fw(F,F,d,d),f=new Float32Array(d*d);for(var Q=0;Q<d;Q++)for(var m=0;
m<d;m++)f[Q*d+m]=E[(F+Q)*k+F+m];P.push([f,x])}}var H=Math.floor(X),S=Math.floor(U),R=X-H,I=U-S,D=R<.5?1:0,G=I<.5?1:0;
P=P[G*2+D];var x=P[1].P();x.x+=H-T;x.y+=S-T;return[P[0],x]}function B(A,$,X){if(n==null){n=new Uint8Array(4e4);
for(var g=0;g<4e4;g++)n[g]=Math.min(255,~~(.5+255*a.Wg(g*(1/255))))}var U=A.length;for(var g=0;g<U;g++){var w=A[g],P=~~(255*w);
$[g]=n[P]<<24|X}}function c(A,$,X,U,w){var P=$.ly(U),k=Math.max(0,P.x-$.x),T=Math.max(0,P.x-U.x),Z=Math.max(0,P.y-$.y),i=Math.max(0,P.y-U.y),V=P.r,_=P.$;
for(var g=0;g<_;g++){var y=(Z+g)*$.r+k,E=(i+g)*U.r+T;for(var F=0;F<V;F++){X[E+F]+=w*A[y+F]}}}var t=-1;
function u(A,$,X,U,w){var P=Math.round(U[1]*$*X*.01),k=U[2],T=U[3],Z=U[4],i=U[5],V=U[6],_=U[7],y=U[8],E=U[9],F=U[10]?U[10]:1,h=!1;
if(k!=t){J=[];t=k}var d=Date.now(),x=new fw(0,0,$,X),f=new v(U[0]);if(w)A.fill(0);var Q=new Float32Array(w?A.buffer:$*X);
for(var g=0;g<P;g++){var m=f.get()*$,H=f.get()*X,S=f.get()*T,R=f.get()*k*4,I=(f.get()+V)*Math.PI*2,D=f.get()*k*4,G=(f.get()+2*V)*Math.PI*2;
m+=E*(R*Math.cos(I)+D*Math.cos(G));H+=E*(R*Math.sin(I)+D*Math.sin(G));if(y)H=H+V*X*F;var C=p(k,S,m,H%X),O=Z,Y=f.get();
if(_)O=.5+.5*Z*(.5+.5*Math.sin((2*V+Y)*2*Math.PI));c(C[0],C[1],Q,x,O)}if(h)console.log(Date.now()-d,"add floats");
d=Date.now();var r=new Uint8Array(Q.buffer);B(Q,new Uint32Array(r.buffer),i.X<<16|i.k<<8|i.o);if(h)console.log(Date.now()-d,"toInt");
d=Date.now();if(!w){a.B.Oe("scrn",r,x,A,x,x,1);if(h)console.log(Date.now()-d,"blendOver")}}function v(A){this.hD=123456789;
this.Ns=987654321;this.T4=4294967295;this.ka(A)}v.prototype.ka=function(g){this.hD=123456789+g&this.T4;
this.Ns=987654321-g&this.T4};v.prototype.get=function(){this.Ns=36969*(this.Ns&65535)+(this.Ns>>16)&this.T4;
this.hD=18e3*(this.hD&65535)+(this.hD>>16)&this.T4;var A=(this.Ns<<16)+(this.hD&65535)>>>0;A/=4294967296;
return A};return{fF:u}}();a.$f={};a.$f.yN=function(z,J,p,n){var B=z[J*2],c=z[J*2+1],t=z[p*2],u=z[p*2+1],v=z[n*2],A=z[n*2+1];
return B*u+t*A+v*c-v*u-t*c-B*A};a.$f.a5f=function(z,J){var p=[],n=[],B=[],c={};for(var g=0;g<J.length;
g+=3){var t=~~(g*(1/3)),u=J[g+0],v=J[g+1],A=J[g+2],$=a.$f.yN(z,u,v,A);if($>0){var X=v;v=A;A=X}var U=c[A+"-"+v],w=c[v+"-"+u],P=c[u+"-"+A],k=[A,U,t,null],T=[v,w,t,k],Z=[u,P,t,T];
k[3]=Z;if(U)U[1]=k;if(w)w[1]=T;if(P)P[1]=Z;c[A+"-"+u]=Z;c[u+"-"+v]=T;c[v+"-"+A]=k;p[u]=T;B[g]=T;p[v]=k;
B[g+1]=k;p[A]=Z;B[g+2]=Z;n[t]=T}return{U7:p,yH:n,Qa:B}};a.$f.aLE=function(z){var J=[],p=z.yH;for(var g=0;
g<p.length;g++){var n=p[g];J.push(n[0]);n=n[3];J.push(n[0]);n=n[3];J.push(n[0])}return J};a.$f.a2w=function(z,J,p,n){var B=z[J*2],c=z[J*2+1],t=z[p*2],u=z[p*2+1],v=z[n*2],A=z[n*2+1],$=t-B,X=u-c,U=v-B,w=A-c,P=$*(B+t)+X*(c+u),k=U*(B+v)+w*(c+A),T=2*($*(A-u)-X*(v-t));
if(Math.abs(T)<1e-5){var Z=Math.min(B,t,v),i=Math.min(c,u,A),V=(Math.max(B,t,v)-Z)*.5,_=(Math.max(c,u,A)-i)*.5;
return[Z+V,i+_,V*V+_*_,1]}var y=(w*P-X*k)/T,E=($*k-U*P)/T,V=y-B,_=E-c;return[y,E,V*V+_*_,0]};a.$f.a75=function(z,J,p){var n=p[1],B=p[3],c=B[3],t=n[3],u=t[3],v=p[2],A=n[2],$=p[0],X=n[0],U=B[0],w=t[0],P=a.$f.a2w(z,X,w,U),k=z[$*2]-P[0],T=z[$*2+1]-P[1],Z=k*k+T*T>P[2]&&P[3]==0&&a.$f.yN(z,w,$,U)<0&&a.$f.yN(z,U,X,w)<0;
if(Z){p[0]=U;n[0]=w;p[3]=c;c[3]=t;t[3]=p;n[3]=u;u[3]=B;B[3]=n;B[2]=A;t[2]=v;J.yH[A]=u;J.yH[v]=c;J.U7[X]=t;
J.U7[$]=B}return Z};a.$f.aL2=function(z,J,p){var n=z[J*2]-z[p*2],B=z[J*2+1]-z[p*2+1];return Math.sqrt(n*n+B*B)};
a.$f.aiA=function(z,J,p){var n=p[1],B=p[3],c=B[3],t,u,v=p[2],A,$=p[0],X=c[0],U=B[0],w;if(n){t=n[3];u=t[3];
A=n[2];w=t[0]}var P=z.length>>>1;z[2*P]=(z[2*X]+z[2*$])*.5;z[2*P+1]=(z[2*X+1]+z[2*$+1])*.5;if(!0){var k=v,T=p,Z=J.yH.length,i=[P,null,k,T],V=[U,i,Z,c];
i[1]=V;var _=[P,null,Z,V];B[3]=i;c[3]=_;c[2]=Z;J.yH[k]=B;J.yH[Z]=_;J.U7[$]=B;J.U7[U]=c;J.Qa.push(i,V,_)}if(n){var y=A,E=n,F=Z+1;
_[1]=E,E[1]=_;var d=[P,null,y,E],x=[w,d,F,u];d[1]=x;var f=[P,T,F,x];T[1]=f;t[3]=d;u[3]=f;u[2]=F;J.yH[y]=t;
J.yH[F]=u;J.U7[X]=t;J.U7[w]=u;J.Qa.push(d,x,f)}J.U7[P]=T};a.$f.aE0=function(z,J){var p=0;while(!0){var n=p;
for(var g=0;g<J.Qa.length;g++){var B=J.Qa[g];if(B[1]==null)continue;var c=a.$f.a75(z,J,B);if(c){p++;
break}}if(n==p)break}return p!=0};a.$f.anC=function(z,J,p,n){var B=0;for(var g=0;g<n;g++){var c=null,t=0;
for(var u=0;u<J.Qa.length;u++){var v=J.Qa[u],A=a.$f.aL2(z,v[0],v[3][3][0])*(v[1]?1:2);if(A>t){c=v;t=A}}if(t>p){a.$f.aiA(z,J,c);
B++}}return B!=0};a.$f.aot=function(z,J){var p=[],U=0;for(var g=0;g<z.length;g++)p.push(0);for(var g=0;
g<J.Qa.length;g++){var n=J.Qa[g],B=n[0],c=n[3][3][0],t=z[B*2],u=z[B*2+1],v=z[c*2],A=z[c*2+1],$=t-v,X=u-A;
p[B*2]+=-$;p[B*2+1]+=-X;p[c*2]+=$;p[c*2+1]+=X}for(var g=0;g<z.length;g+=2){var w=g>>>1,P=J.U7[w],n=P,k=!0;
do{if(n[1]==null){k=!1;break}n=n[1][3]}while(n!=P);if(k){var T=.02;z[g]+=T*p[g];z[g+1]+=T*p[g+1];U+=T*(p[g]*p[g]+p[g+1]*p[g+1])}}return U};
a.$f.axc=function(z,J,p){var n=a.b.yq(z),B=a.$f.a5f(z,J);a.$f.aE0(z,B);for(var c=0;c<300;c++){var t=!1,u=!1;
t=a.$f.anC(z,B,p,5);if(t)u=a.$f.aE0(z,B);var v=a.$f.aot(z,B);if(!t&&!u&&v<1e-4){break}}return a.$f.aLE(B)};
a.uu={};a.uu.aB0=function(z){var J=z.Si,p=z.S_,n=z.Lz,B=z.ib,c=z.oM,t=z.BR,u=z.si,v=a.bp.Bl,i,V,_=0;
function A(lj){var M=new Array(lj);for(var g=0;g<lj;g++)M[g]=0;return M}var $=p.length>>>1,X=A(J.DQ*2),U=A(J.DQ),w=A(J.DQ),P=Date.now();
for(var g=0;g<z.Ft.length;g++){var k=J.avz+g,T=J.Tx*(t[g*2]+u[g*2]),Z=J.Tx*(t[g*2+1]+u[g*2+1]);X[k*2]=T;
X[k*2+1]=Z;U[k]=T;w[k]=Z}J.aDb.c0(B,J.ata.Bl(X),.01,i,V);for(var g=0;g<J.att.Qa.length;g++){var y=J.att.Qa[g],E=y[3][3][0],F=y[0],d=y[3][0],x=y[1]?y[1][3][0]:d;
if(y[1]&&E>F)continue;var f=p[E*2],Q=p[E*2+1],m=p[F*2],H=p[F*2+1],S=B[E*2],R=B[E*2+1],I=B[F*2],D=B[F*2+1],G=B[d*2],C=B[d*2+1],O=B[x*2],Y=B[x*2+1],h=[S,R,I,D,G,C];
if(y[1])h.push(O,Y);var r=v(J.agW[_],h),W=r[0],N=r[1],o=1/Math.sqrt(W*W+N*N);W*=o;N*=o;var K=m-f,l=H-Q;
U[_]=W*K+N*l;w[_]=-N*K+W*l;_++}var aV=new Array($),j=new Array($);for(var g=0;g<$;g++){aV[g]=c[g*2];
j[g]=c[g*2+1]}J.ad0.c0(aV,J.aqj.Bl(U),.5);J.ad0.c0(j,J.aqj.Bl(w),.5);for(var g=0;g<$;g++){c[g*2]=aV[g];
c[g*2+1]=j[g]}};a.uu.aHG=function(z){var J=z.S_,p=z.Lz,n=z.Ft,B=a.bp.multiply,c=Date.now(),t=a.$f.a5f(J,p),u=J.length>>>1,v=0,P=0,N=1e3;
for(var g=0;g<t.Qa.length;g++)v+=t.Qa[g][1]?.5:1;var A=v+n.length,$=[],X=new a.ai(A*2,u*2),U=new a.ai(A,u),w=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],k=[],T=[];
for(var g=0;g<t.Qa.length;g++){var Z=t.Qa[g],i=Z[3][3][0],V=Z[0],_=Z[3][0],y=Z[1]?Z[1][3][0]:_;if(Z[1]&&i>V)continue;
var E=J[i*2],F=J[i*2+1],d=J[V*2],x=J[V*2+1],f=J[_*2],Q=J[_*2+1],m=J[y*2],H=J[y*2+1],S=[[E,F,1,0],[F,-E,0,1],[d,x,1,0],[x,-d,0,1],[f,Q,1,0],[Q,-f,0,1]];
if(Z[1])S.push([m,H,1,0],[H,-m,0,1]);var R=a.bp.dg(S),I=B(linear.invert(B(R,S)),R);I.pop();I.pop();$.push(I);
var D=d-E,G=x-F,C=w[Z[1]?1:0];C=a.bp.Br(C,B([[D,G],[G,-D]],I));var O=[i*2,i*2+1,V*2,V*2+1,_*2,_*2+1,y*2,y*2+1],Y=Z[1]?8:6,h=[];
for(var r=0;r<Y;r++)h.push([O[r],C[0][r],C[1][r]]);h.sort(function(M,s){return M[0]-s[0]});for(var W=0;
W<2;W++){for(var r=0;r<Y;r++){k[r]=h[r][0];T[r]=h[r][1+W]}X.RN(T,k,Y)}if(i<V)U.RN([-1,1],[i,V],2);else U.RN([1,-1],[V,i],2);
P++}for(var g=0;g<n.length;g++){var o=n[g];X.RN([N],[o*2],1);X.RN([N],[o*2+1],1);U.RN([N],[o],1)}var K=X.dg(),l=K.sq(K),aV=U.dg(),j=aV.sq(aV);
return{avz:v,DQ:A,ata:K,aDb:l,aqj:aV,ad0:j,att:t,agW:$,Tx:N}};a.uu.aF4=function(z,J,p,n,B){var c=new fw(0,0,J,p),t=a.j(c.C());
a.Tm(z,t,3);a.round(t,70);var u=a.Ni(t,c),v=[.1,.065,.035][n]*Math.max(u.r,u.$),A=B+1,$=J+A*2,X=p+A*2,U=new fw(-A,-A,$,X),w=a.j(U.C());
a._1(t,c,w,U);var P=w.slice(0);for(var k=0;k<B;k++){for(var T=1;T<X-1;T++){for(var Z=1;Z<$-1;Z++){var g=T*$+Z;
P[g]=w[g-$]|w[g-1]|w[g]|w[g+1]|w[g+$]}}var i=P;P=w;w=i}var V=jH.cv(w,$,X,Math.round(u.C()*5e-4)),_=jH.Q8(V),y=new fA(1,0,0,1,-A,-A);
for(var g=0;g<_.length;g++){var E=_[g];a.b.h(E.path.L,y,E.path.L);E.S_=a.uu.agt(E.path);E.Lz=a.b.a29(E.S_);
E.Lz=a.$f.axc(E.S_,E.Lz,v)}return _};a.uu.agt=function(z){var J=a.b.DI(z);J=a.b.as6(J,1);var p=[],n=J.length;
for(var g=0;g<n;g+=2){var B=J.pop(),c=J.pop();p.push(c,B)}return p};a.uu.ap6=function(z,J,p,n){function B(d,x,f,Q,m){var H=m[d*2]-m[x*2],S=m[d*2+1]-m[x*2+1],R=Math.sqrt(H*H+S*S);
if(f[d].indexOf(x)==-1){f[d].push(x);Q[d].push(R)}if(f[x].indexOf(d)==-1){f[x].push(d);Q[x].push(R)}}var c=z.length>>>1,t=new Array(c);
if(p.length==0){t.fill(0);return t}var u=new Array(c),v=new Array(c);for(var g=0;g<c;g++){u[g]=[];v[g]=[]}for(var g=0;
g<J.length;g+=3){B(J[g],J[g+1],u,v,z);B(J[g],J[g+2],u,v,z);B(J[g+1],J[g+2],u,v,z)}var A=new Float64Array(c*2),$=new Uint32Array(c*2);
A.fill(1e9);var X=new Uint8Array(c);for(var U=0;U<p.length;U++){X.fill(0);var w=["---",[0,p[U]]];while(w.length!=1){var P=a.a6p.KH(w),k=P[0],T=P[1];
if(X[T]==1)continue;var Z=T<<1;if(k<A[Z]){A[Z+1]=A[Z];$[Z+1]=$[Z];A[Z]=k;$[Z]=U}else if(k<A[Z+1]){A[Z+1]=k;
$[Z+1]=U}X[T]=1;var i=u[T],V=v[T];for(var g=0;g<i.length;g++){var _=i[g];if(X[_]!=1){a.a6p.ep(w,[k+V[g],_])}}}}for(var g=0;
g<c;g++){var Z=g<<1,y=A[Z],E=A[Z+1],F=1/(y+E);t[g]=(1-y*F)*n[$[Z]]+(1-E*F)*n[$[Z+1]]}return t};a.uu.aHR=function(z){var J={Ao:[],L:[]},p=[z];
while(p.length!=0){var n=p.pop(),B=n.J4;if(n.a1F instanceof Array||n.agN instanceof Array){J.Ao.push("M","L","L","L","Z");
J.L.push(B[0],B[1],B[2],B[1],B[2],B[3],B[0],B[3])}else p.push(n.a1F,n.agN)}return J};a.uu.NE=function(z,J,p,n,B,c,t,u,v,A,$){var X=Math.round(A.length/3),U=new Array(X);
for(var g=0;g<X;g++)U[g]=g;if(v)U.sort(function(P,k){return v[A[P*3]]-v[A[k*3]]});for(var g=0;g<X;g++){var w=U[g]*3;
a.uu.aFO(A[w]*2,A[w+1]*2,A[w+2]*2,t,u,z,J,p,n,B,c,$)}};a.uu.aFO=function(z,J,p,n,B,c,t,u,v,A,$,X){var U=[z,J,p,1.2,1.2,1.2,0],w=[0,0,0,0],P=B[z],k=B[z+1],T=B[J],Z=B[J+1],i=B[p],V=B[p+1],_=T-P,y=Z-k,E=i-P,F=V-k,d=_*F-E*y+1e-9,x=1/d,f=Math.max(0,Math.min(t-1,n[z])),Q=Math.max(0,Math.min(t-1,n[J])),m=Math.max(0,Math.min(t-1,n[p])),H=Math.max(0,Math.min(u-1,n[z+1])),S=Math.max(0,Math.min(u-1,n[J+1])),R=Math.max(0,Math.min(u-1,n[p+1])),I=P<T?P<i?z:p:T<i?J:p,D=B[I+1]+.5,G=Math.max(0,Math.floor(Math.min(P,T,i))),C=Math.min(A,Math.ceil(Math.max(P,T,i))),O=Math.max(0,Math.floor(Math.min(k,Z,V))),Y=Math.min($,Math.ceil(Math.max(k,Z,V))),h=1e9;
for(var r=O;r<Y;r++){var W=r>D&&h!=1e9?h:G;h=1e9;for(var N=W;N<C;N++){var K=N+.5-P,l=r+.5-k,aV=(K*F-E*l)*x,j=(_*l-K*y)*x;
if(aV>=0&&j>=0&&aV+j<=1){if(h==1e9)h=N;var M=1-aV-j,s=f*M+Q*aV+m*j,l2=H*M+S*aV+R*j;if(X){var gm=Math.floor(.5+l2)*t+Math.floor(.5+s),iz=gm<<2,dC=r*A+N<<2;
v[dC]=c[iz];v[dC+1]=c[iz+1];v[dC+2]=c[iz+2];v[dC+3]=c[iz+3]}else{a.F.aA8(s,l2,c,t,u,w);a.uu.aoE(w,v,r*A+N<<2)}}else if(h!=1e9)break}}};
a.uu.aoE=function(z,J,p){if(z[3]>250){J[p]=~~(.5+z[0]);J[p+1]=~~(.5+z[1]);J[p+2]=~~(.5+z[2]);J[p+3]=~~(.5+z[3])}else{var n=J[p],B=J[p+1],c=J[p+2],t=J[p+3],u=1-z[3]*(1/255);
J[p]=~~(.5+z[0]+n*u);J[p+1]=~~(.5+z[1]+B*u);J[p+2]=~~(.5+z[2]+c*u);J[p+3]=~~(.5+z[3]+t*u)}};a.uu.a1f=function(){var z=function(p,n,B,c){var t=c[0],u=c[1],v=c[2],A=p[t+0],$=p[t+1],X=p[u+0],U=p[u+1],w=p[v+0],P=p[v+1],k=X-A,T=U-$,Z=w-A,i=P-$,V=n-A,_=B-$,y=k*i-Z*T,E=1/(y+1e-9),F=(V*i-Z*_)*E,d=(k*_-V*T)*E;
if(F>=0&&d>=0&&F+d<=1){c[3]=1-F-d;c[4]=F;c[5]=d;return 1}return 0},J=function(p,n,B,c){var t=[0,0,0,0,0,0];
for(var g=0;g<n.length;g+=3){t[0]=n[g]*2;t[1]=n[g+1]*2;t[2]=n[g+2]*2;if(z(p,B,c,t)==1)return!0}return!1};
return{a0_:z,ard:J}}();a.bd={};a.bd.ahm=function(z,J,p,n){z=z.slice(0);if(n)for(var g=0;g<z.length;g+=4)z[g+3]=(z[g+3]&254)+(n[g>>>2]<128?0:1);
else for(var g=0;g<z.length;g+=4)z[g+3]=z[g+3]&254;var B=a.j(J*p*4),c=!1;a.F.zJ(z,J,p,B,[p,J,0,1,0,1,0,0]);
return[a.bd.bL(z,J,p,c),a.bd.bL(B,p,J,c)]};a.bd.h=function(z,J){var p=!1,n=z[0],B=z[1],c=n[1],t=n[2],u=n[3],v=J.r,A=J.$;
if(t==v&&u==A)c=c.slice(0);else if(u!=A){var $=a.j(t*A*4);a.bd.Hp(B,A,$,p);c=a.j(t*A*4);a.F.zJ($,A,t,c,[t,A,0,1,0,1,0,0]);
if(t!=v){n=a.bd.bL(c,t,A,p);c=a.j(v*A*4);a.bd.Hp(n,v,c,p)}}else if(t!=v){c=a.j(v*u*4);a.bd.Hp(n,v,c,p)}for(var g=0;
g<c.length;g+=4)if(c[g+3]==254)c[g+3]=255;return c};a.bd.bL=function(z,J,p,n){var B=Date.now(),c=new Uint16Array(J*p),v=1;
a.bd.ay1(z,J,p,c);for(var t=0;t<p;t++)for(var u=0;u<J;u++){var g=t*J+u;c[g]+=Math.floor((65535-c[g])*(z[g*4+3]&1))}var A=Math.ceil(J/v),$=new Uint32Array(v),X=new Uint32Array(v),A=Math.floor(J/v);
for(var U=0;U<v;U++)X[U]=U<v-1?A:J-(v-1)*A;for(var t=0;t<p;t++){var g=t*J;for(var U=0;U<v;U++){var A=X[U];
for(var u=0;u<A;u++)$[U]+=c[g+u];g+=A}}if(n){console.log(Date.now()-B,"cost");B=Date.now()}var w=new Uint32Array(J),P=new Uint32Array(J),k=new Uint32Array(J*p);
for(var u=0;u<J;u++){k[(p-1)*J+u]=c[(p-1)*J+u]}for(var t=p-2;t>=0;t--){var T=t*J;for(var U=0;U<v;U++){var A=X[U];
k[T]=c[T]+Math.min(k[T+J],k[T+J+1]);for(var u=1;u<A-1;u++){var g=T+u;k[g]=c[g]+Math.min(k[g+J-1],Math.min(k[g+J],k[g+J+1]))}T+=A-1;
k[T]=c[T]+Math.min(k[T+J-1],k[T+J]);T++}}if(n){console.log(Date.now()-B,"Building M");B=Date.now()}function Z(Q,m){return Q<m?Q:m}function i(g,Q){var m=P[g],H=k[Q],S=~~(m*H*1e-4);
return S}var V=new Uint8Array(J*p),_=new Uint32Array(J);for(var g=0;g<J;g++){w[g]=g;P[g]=c[g]}for(var t=1;
t<p;t++){var y=0,T=t*J;for(var U=0;U<v;U++){var A=X[U],g=T;_[y]=i(y,g);var E=_[y]+i(y+1,g+1),F=i(y,g+1)+i(y+1,g);
_[y+1]=Z(E,F);for(var u=2;u<A;u++){var g=T+u,d=_[y+u-1]+i(y+u-1,g-1),x=_[y+u-2]+i(y+u-1,g-2)+i(y+u-2,g-1);
_[y+u]=Z(d,x)}var u=A-1;while(u>=2){var g=T+u,d=_[y+u-1]+i(y+u-1,g-1),x=_[y+u-2]+i(y+u-1,g-2)+i(y+u-2,g-1);
if(_[y+u]==d){V[g-J]=1;u-=1}else{V[g-J]=0;V[g-J-1]=2;u-=2}}var g=T;if(u==0){V[g-J]=1}else{if(_[y+1]==E){V[g+1-J]=1;
V[g-J]=1}else{V[g+1-J]=0;V[g-J]=2}}T+=A;y+=A}a.bd.a7w(t,J,V,c,w,P,!0,B)}if(n){console.log(Date.now()-B,"Matching");
B=Date.now()}var f=c;return[UZIP.adler(z,0,z.length),z,J,p,v,X,$,w,P,V,f]};a.bd.Hp=function(z,J,p,n){var B=z.slice(0),c=B.shift(),t=B.shift(),u=B.shift(),v=B.shift(),A=B.shift(),$=B.shift(),X=B.shift(),U=B.shift(),w=B.shift().slice(0),P=B.shift(),k=B.shift(),T=Date.now(),Z=Math.abs(u-J),i=Math.floor(Z/A),V=new Uint32Array(A),y=0,E=1e9,d=0,x=0,f=0;
for(var _=0;_<A;_++)V[_]=_<A-1?i:Z-(A-1)*i;k.fill(0);for(var F=0;F<u;F++){y=Math.max(y,w[F]);E=Math.min(E,w[F])}for(var _=0;
_<A;_++){var Q=$[_],i=V[_];for(var m=0;m<i;m++){var H=0,S=1e9;for(var F=0;F<Q;F++)if(w[x+F]<S){S=w[x+F];
H=x+F}if(J<u)w[H]=1e9;else w[H]*=1.2;if(f<u/3)d+=S;var R=U[H],I=k[R],D=I<65280?65280:I+1;if(D<65280)throw"e";
for(var G=0;G<v;G++){var g=G*u+R;k[g]=D;R+=P[g]-1}f++}x+=Q}if(n){console.log(Date.now()-T,"Removing best seams");
T=Date.now()}function C(g,Y){var h=g<<2,r=Y<<2;p[h]=t[r];p[h+1]=t[r+1];p[h+2]=t[r+2];p[h+3]=t[r+3]}for(var G=0;
G<v;G++){var O=0,g=G*u;for(var F=0;F<J;F++,O++){if(J<u){while(k[g+O]==65280)O++;C(G*J+F,G*u+O)}else{C(G*J+F,G*u+O);
while(k[g+O]>=65280){k[g+O]--;F++;C(G*J+F,G*u+O)}}}}if(n){console.log(Date.now()-T,"Shifting image pixels");
T=Date.now()}};a.bd.a7w=function(z,J,p,n,B,c){var t=0,g=z*J;while(t<J){if(p[g-J]==1){c[t]=c[t]+n[g];
t++;g++}else{var u=B[t];B[t]=B[t+1];B[t+1]=u;var v=c[t];c[t]=c[t+1]+n[g];c[t+1]=v+n[g+1];t+=2;g+=2}}};
a.bd.ay1=function(z,J,p,n){function B(z,g,v){var X=g<<2,U=v<<2,w=z[X]-z[U],P=z[X+1]-z[U+1],k=z[X+2]-z[U+2];
return Math.abs(w)+Math.abs(P)+Math.abs(k)}for(var c=1;c<J;c++){var t=B(z,c,c-1);n[c-1]+=t;n[c]+=t}for(var u=1;
u<p;u++){var v=u*J,t=B(z,v,v-J);n[v]+=t;n[v-J]+=t;for(var c=1;c<J;c++){var g=u*J+c,A=B(z,g,g-1),$=B(z,g,g-J);
n[g-J]+=$;n[g-1]+=A;n[g]+=$+A}}for(var u=0;u<p;u++){n[u*J]*=2;n[u*J+J-1]*=2}for(var g=0;g<n.length;g++)if(n[g]==0)n[g]=1};
a.Jk=function(){function z(){return 1953e6+Math.floor(Math.random()*999999)}function J(S,R){var I=R[0]-S[0],D=R[1]-S[1];
return I*I+D*D}function p(S,R,I,D,G,C,O,Y){var h=I-S,r=D-R,W=a.b.HR(S,R,h,r,G,C,O-G,Y-C),N=[S+W*h,R+W*r],o=W>0?[[[S,R],N,!1,0,1],[[G,C],N,!1,0,5]]:[[[I,D],N,!1,0,1],[[O,Y],N,!1,0,5]];
return o}function n(S,R){var I=p(S[0],S[1],S[2],S[3],S[6],S[7],S[4],S[5]),D=p(S[0],S[1],S[6],S[7],S[2],S[3],S[4],S[5]),G=[I,D],C=[I[0][1],D[0][1]];
for(var g=0;g<2;g++){var O=C[1-g],Y=G[g];if(J(Y[0][0],O)<J(Y[1][0],O)){var h=Y[0];Y[0]=Y[1];Y[1]=h}}var r=[z(),0,-1,0,[0,0],I[0],I[1],D[0],D[1]],W=y(r,R),N=W[1][0];
r[3]=N;r[4]=W[0][N];r[5][3]=r[6][3]=W[0].indexOf(r[5][1]);r[7][3]=r[8][3]=W[0].indexOf(r[7][1]);if((r[6][3]+1)%3!=r[7][3]){var h=r[5];
r[5]=r[7];r[7]=h;var h=r[6];r[6]=r[8];r[8]=h}for(var g=0;g<4;g++)r[5+g][4]=[1,5,7,3][g];return r}function B(S){var R=S[5],I=S[8],D=S[6],G=R[0],C=I[0],O=D[0],Y=R[1],h=I[1],r=C[0],W=C[1],N=h[0]-r,o=h[1]-W,K=a.b.HR(r,W,N,o,O[0],O[1],Y[0]-O[0],Y[1]-O[1]);
return[G[0],G[1],r,W,r+K*N,W+K*o,O[0],O[1]]}function c(S,R){return S[0]==R[0]&&S[1]==R[1]}function t(S){return{1:0,5:1,7:2,3:3}[S]}function u(S,R,I){var D=R[5+t(S)],G=D[1],C=D[0][0]-G[0],O=D[0][1]-G[1],Y=Math.sqrt(C*C+O*O);
C/=Y;O/=Y;for(var h=0;h<I.length;h++){var r=I[h];if(r[0]!=R[1]&&r[1]!=R[0])continue;for(var g=0;g<4;
g++){var W=r[5+g],N=W[0];if(!c(G,W[1]))continue;var o=N[0]-G[0],K=N[1]-G[1];Y=Math.sqrt(o*o+K*K);o/=Y;
K/=Y;var l=o*C+K*O;if(Math.abs(l-1)<1e-7)return!0}}return!1}function v(S,R){a.F.h(S,R);return R}function A(S,R){var I=[];
for(var D=0;D<S.length;D++){var G=S[D],C=G[1];for(var O=0;O<C.length;O++){if(R&&R[D].indexOf(O)==-1)continue;
var Y=C[O],h=[],r=a.F.Q$(B(Y),new fw(0,0,1,1));for(var g=1;g<=7;g+=2){h[g]=u(g,Y,C)}if(!h[1]){if(!h[7])I.push([v(r,[0,0]),D,O,0]);
I.push([v(r,[.5,0]),D,O,1])}if(!h[3]){if(!h[1])I.push([v(r,[1,0]),D,O,2]);I.push([v(r,[1,.5]),D,O,3])}if(!h[5]){if(!h[3])I.push([v(r,[1,1]),D,O,4]);
I.push([v(r,[.5,1]),D,O,5])}if(!h[7]){if(!h[5])I.push([v(r,[0,1]),D,O,6]);I.push([v(r,[0,.5]),D,O,7])}}}return I}function $(S){var R=S.length-2,I=0;
for(var g=0;g<R;g+=2)I+=(S[g+2]-S[g])*(S[g+1]+S[g+3]);I+=(S[0]-S[R])*(S[R+1]+S[1]);return-I*.5}function X(S,R,I,D){}function U(S,g){var R=S[g+2&7]-S[g&7],I=S[g+3&7]-S[g+1&7],D=1/Math.sqrt(R*R+I*I);
return[R*D,I*D]}function w(S){var R=S[2];S[2]=S[6];S[6]=R;var R=S[3];S[3]=S[7];S[7]=R}function P(S,R,I,D){if(D==null)D=0;
var G=R[1],C=B(R),K=null,l,s,l2,kT,kY,o,h9;if(G==0){if($(C)<0)w(C);var O=6,Y=C[7]+C[1];for(var g=0;g<6;
g+=2){var h=C[g+1]+C[g+3];if(h<Y){Y=h;O=g}}C=C.slice(O).concat(C.slice(0,O));var r=L.d_.nf(C,I[0],I[1]),W=Math.sqrt(J(C,C.slice(2))),N=Math.sqrt(J(C.slice(4),C.slice(6))),o=(W+N)*.5;
return[C,new fw(0,0,o,o/r)]}for(var g=0;g<S.length&&K==null;g++){l=S[g][1];for(var aV=0;aV<l.length&&K==null;
aV++)if(l[aV][0]==G)K=l[aV]}var j=P(S,K,I,D+1),M=j[0];j=j[1];for(var g=0;g<8;g+=2){var gm=M[g&7],iz=M[g+1&7],dC=M[g+2&7],dL=M[g+3&7];
for(var aV=0;aV<8;aV+=2){var cP=C[aV],id=C[aV+1],jR=C[aV+2&7],hC=C[aV+3&7],eJ=Math.abs(a.b.NL(gm,iz,dC,dL,cP,id))+Math.abs(a.b.NL(gm,iz,dC,dL,jR,hC));
if(eJ<=30){s=aV;l2=g}}}var el=U(M,l2),eu=U(C,s),jY=el[0]-eu[0],fN=el[1]-eu[1],jC=jY*jY+fN*fN;if(jC<.001){w(C);
s={0:6,2:4,4:2,6:0}[s]}while(s!=(l2+4&7)){C.unshift(C.pop());s=s+1&7}var r=L.d_.nf(C,I[0],I[1]),kF=a.F.Q$(M,j);
kF=a.F.oU(kF);var i6=[C[s],C[s+1],C[s+2&7],C[s+3&7]];a.F.h(kF,i6);var bG=a.b.yq(i6);if(l2==0||l2==4){o=bG.r;
h9=o/r;kT=bG.x;kY=bG.y+(l2==0?-h9:0)}else{h9=bG.$;o=h9*r;kY=bG.y;kT=bG.x+(l2==6?-o:0)}return[C,new fw(kT,kY,o,h9)]}function k(S,R){function I(N,o,K,l){var aV=v(N,[o,K]);
aV.push(l);return aV}var D=[];for(var G=0;G<S.length;G++){var C=S[G],O=C[1];for(var Y=0;Y<O.length;Y++){var h=O[Y],r=P(S,h,R),W=r[0],N=a.F.Q$(W,new fw(0,0,1,1));
D.push(I(N,.5,0,1));D.push(I(N,1,.5,3));D.push(I(N,.5,1,5));D.push(I(N,0,.5,7));D.push(I(N,.5,.5,[r?(r[1].r/r[1].$).toFixed(2):""].join(", ")))}}return D}function T(S,R,I,D){var G=[R],C=[R];
while(!0){var O=[];for(var g=0;g<S.length;g++){var Y=S[g],h=!1;for(var r=0;r<G.length;r++){if(Y[1]==S[G[r]][0]||Y[0]==S[G[r]][1])O.push(g)}}var W=G.length;
for(var g=0;g<O.length;g++){var N=O[g],Y=S[N];if(C.indexOf(N)!=-1)continue;C.push(N);var o=P([[10,S]],Y,D);
if(o[1].SH(I))G.push(N)}if(W==G.length)break}return G}function Z(S,R,I){var D=I[0],G=I[1],C=R.x-S[0],O=R.y-S[1],Y=a.b.HR(S[0],S[1],C,O,G[0],G[1],D[0]-G[0],D[1]-G[1]);
return[S[0]+Y*C,S[1]+Y*O]}function i(S,R,I){S=a.G(S);var D=S[R[1]][1][R[2]],G=R[3]>=8,C=R[3]&7;if((C&1)==0)return S;
var O=t(C);if(C==1||C==7){var Y=D[5+O],h=D[5+2-O],r=D[5+(C==1?3:1)],W=D[5+(C==1?1:3)],N=Y[1],o=Z(N,I,h);
if(!G&&J(o,h[1])<J(W[0],h[1]))return S;Y[0]=h[0]=o;r[0]=Z(N,I,r)}else{var r=D[5+O],N=r[1],Y=D[5+(C==3?0:2)],o=Z(N,I,Y);
if(!G&&J(o,Y[1])>J(Y[0],Y[1]))return S;if(Math.sign(Y[1][0]-Y[0][0])!=Math.sign(Y[1][0]-o[0]))return S;
r[0]=o}return S}function V(S,R,I){var D=R[0]-S[0],G=R[1]-S[1],C=a.b.HR(I[0],I[1],-G,D,S[0],S[1],D,G);
return[I[0]-G*C,I[1]+D*C]}function _(S,R,I){var D=I[0],G=I[1],v=V(S,R,I),C=v[0],O=v[1],Y=V(S,I,R),h=a.b.HR(C,O,D-C,G-O,R[0],R[1],Y[0]-R[0],Y[1]-R[1]);
return[C+(D-C)*h,O+(G-O)*h]}function y(S,R){var I=S[5][1],D=S[7][1],G=_(I,D,R),C=[I,D,G];C.sort(function(h,r){return h[0]-r[0]});
if($([C[0][0],C[0][1],C[1][0],C[1][1],C[2][0],C[2][1]])<0){var O=C[1];C[1]=C[2];C[2]=O}var Y=[C.indexOf(I),C.indexOf(D),C.indexOf(G)];
return[C,Y]}function E(S,R,I){S=a.G(S);var D=R[1],G=S[D][1][R[2]],C=R[3];if((C&1)!=1)return S;var O=y(G,I),Y=O[1][2],h=O[0][Y],r=a.G(G);
S[D][1].push(r);r[0]=z();r[1]=G[0];r[2]=-10+C;r[3]=Y;r[4]=h;if(C==1||C==5){r[7][3]=r[8][3]=Y;r[7][1]=r[8][1]=h;
if(C==5){r[5][0]=r[7][0]=G[6][0];r[8][0]=B(G).slice(4,6)}}else{r[5][3]=r[6][3]=Y;r[5][1]=r[6][1]=h;if(C==3){r[5][0]=r[7][0]=G[8][0];
r[6][0]=B(G).slice(4,6)}}return S}function F(S,R,I){S=a.G(S);var D=R[1],G=S[D][1][R[2]],C=G[2]+10,O=C+4&7,Y=C==1||C==5,h=G[5+t(Y?7:1)][1],r=G[5+t(O)][0],W=G[5+t(C)][0];
G[2]=(Y?90:0)+(J(r,h)<J(W,h)?180:0);var N=n(B(G),I);for(var g=5;g<9;g++)G[g]=N[g];return S}function d(S,R,I){var lj=S.length>>1,D,G=S[2*lj-3]-I,C=S[2*lj-2]-R,O=S[2*lj-1]-I,Y=!1,h=0;
for(var g=0;g<lj;g++){D=C;G=O;C=S[2*g]-R;O=S[2*g+1]-I;if(G==O)continue;Y=O>G}for(var g=0;g<lj;g++){D=C;
G=O;C=S[2*g]-R;O=S[2*g+1]-I;if(G<0&&O<0)continue;if(G>0&&O>0)continue;if(D<0&&C<0)continue;if(G==O&&Math.min(D,C)<=0)return!0;
if(G==O)continue;var r=D+(C-D)*-G/(O-G);if(r==0)return!0;if(r>0)h++;if(G==0&&Y&&O>G)h--;if(G==0&&!Y&&O<G)h--;
Y=O>G}return(h&1)==1}function x(S,R,I,D,G){var C=null;for(var O=0;O<S.length;O++){var Y=S[O][1];for(var h=0;
h<Y.length;h++){var r=B(Y[h]);if(d(r,R,I)||G&&G[0]==O&&G[1]==h&&C==null){C=[O,h];if(D){var W=P(S,Y[h],D),N=a.F.Q$(W[0],W[1]),o=[R,I];
N=a.F.oU(N);a.F.h(N,o);C.push(o)}}}}return C}function f(S,R){for(var I=0;I<S.length;I++){var D=S[I][1],G=R[I];
if(G.length==0)continue;var C=Q(D,G);for(var O=0;O<D.length;O++){if(C.indexOf(D[O][0])!=-1){D.splice(O,1);
O--}}}for(var I=0;I<S.length;I++)if(S[I][1].length==0){S.splice(I,1);I--}return S}function Q(S,R){var I=[];
for(var g=0;g<10;g++)for(var D=0;D<S.length;D++){var G=S[D];if(R.indexOf(D)!=-1||I.indexOf(G[1])!=-1)if(I.indexOf(G[0])==-1)I.push(G[0])}return I}function m(S){var R=e.RM(S,0,S.length),I=R.split("\n").slice(1);
function D(){return parseFloat(I.shift())}function G(){var cP=[D(),D()];C(1);return cP}function C(lj){for(var g=0;
g<lj;g++)I.shift()}var O=[],Y=D();for(var h=0;h<Y;h++){var r=D(),W=D(),N=[];O.push([r,N]);for(var o=0;
o<W;o++){var K=D(),l=D(),aV=D(),j=D(),M=G(),s=[K,l,aV,j,M];N.push(s);for(var g=0;g<4;g++){var l2=G(),gm=G(),iz=D()==1,dC=D(),dL=D();
s.push([l2,gm,iz,dC,dL])}}}return O}function H(S){function R(W){I.push(W[0],W[1],"")}var I=["tNaF203"];
I.push(S.length);for(var D=0;D<S.length;D++){I.push(S[D][0]);var G=S[D][1];I.push(G.length);for(var C=0;
C<G.length;C++){var O=G[C];I.push(O[0],O[1],O[2],O[3]);R(O[4]);for(var g=0;g<4;g++){var Y=O[5+g];R(Y[0]);
R(Y[1]);I.push(Y[2]?1:0,Y[3],Y[4])}}}var h=I.join("\n"),r=new Uint8Array(h.length);e.CR(r,0,h);return r}return{yi:m,Ag:H,aie:B,a80:n,rI:A,adb:i,$u:k,akw:function(S,R){return R&&(R[3]&1)==0&&S[R[1]][1].length==1},AP:function(S,R){return R&&(R[3]&1)==1},vs:P,a92:E,a52:F,a5M:f,JF:Q,wO:x,E7:T}}();
a.aw0=function(){var z=0,J=0,n=15,c=256;function p($,X,U,w,P,k){var T=(P-1)*X,Z=k*X;return $[Z+w]-$[Z+U-1]-$[T+w]+$[T+U-1]}var B=Math.round(n/8),t=[];
function u($,X){for(var U=0;U<X.length;U++){var w=X[U],P=0,k=0,T=$[w.iN],Z=T.BK,i=T.Tx,V=T.tK;for(var _=-n;
_<=n;_++)for(var y=-n;y<=n;y++){var E=y+w.aaN,F=_+w.a60;if(y*y+_*_>n*n||E<0||F<0||E>=i||F>=i)continue;
var d=Z[F*i+E];P+=y*d;k+=_*d}w.K4=Math.atan2(k,P)}}function v($,X,U,w,P){var k=~~($+.5),T=~~(X+.5);return p(U,w,k-B,k+B,T-B,T+B)}function A($,X,U,w,P){z=w;
J=P;if(t.length==0){var k=new a.B.en(16200817),V=8,_=0;function T(M){var f=M[0]-M[2],Q=M[1]-M[3];return f*f+Q*Q}function Z(){var M=0,s=0;
while(M===0)M=k.get();while(s===0)s=k.get();return Math.sqrt(-2*Math.log(M))*Math.cos(2*Math.PI*s)}var i=Z,y=[];
while(_!=c){var E=Math.max(-n,Math.min(n,i()*V)),F=Math.max(-n,Math.min(n,i()*V)),d=Math.max(-n,Math.min(n,i()*V)),x=Math.max(-n,Math.min(n,i()*V)),f=E-d,Q=F-x,m=Math.sqrt(f*f+Q*Q);
if(m<3||m>12)continue;t.push(E,F,d,x);_++}}var H=20;for(var S=0;S<X.length;S++){var R=X[S],I=$[R.iN],D=I.go,U=I.BK,w=I.Tx,P=I.tK,G=R.aaN,C=R.a60,O=R.K4,Y=Math.cos(O),h=Math.sin(O),r=new Uint8Array(c>>>3);
R.m$=r;for(var g=0;g<c;g++){var W=g*4,E=t[W+0],F=t[W+1],d=t[W+2],x=t[W+3],N=Y*E-h*F,o=h*E+Y*F,K=Y*d-h*x,l=h*d+Y*x,aV=v(G+N,C+o,D,w,P),j=v(G+K,C+l,D,w,P);
r[g>>>3]|=(aV<j?0:1)<<(g&7)}}}return{aJG:u,aIK:A}}();a.a6X=function(){function z(J,p){var n=[[9]],B=Date.now(),c=[];
for(var t=0;t<J.length;t++){var u=J[t],v=u.go,A=u.Tx,$=u.tK,w=9,V=1,R=24;if(v==null)continue;var X=new Float32Array(A*$),U=new Uint8Array(A*$),P=w>>>1,k=P>>>1,T=Math.round(w/3);
if(T!=w/3)throw"e";var Z=1/(w*w),i=1.2*(w/9);for(var _=P+1;_<$-P;_+=V)for(var y=P+1;y<A-P;y+=V){var E=a.Z3(v,A,y-k,y+k,_-P,_+P)-3*a.Z3(v,A,y-k,y+k,_-P+T,_+P-T),F=a.Z3(v,A,y-P,y+P,_-k,_+k)-3*a.Z3(v,A,y-P+T,y+P-T,_-k,_+k),d=y-P+1,x=y+P-1,f=_-P+1,Q=_+P-1,m=a.Z3(v,A,d,y-1,f,_-1)+a.Z3(v,A,y+1,x,_+1,Q)-a.Z3(v,A,y+1,x,f,_-1)-a.Z3(v,A,d,y-1,_+1,Q),H=(F*E-.9*m*(.9*m))*(Z*Z);
X[_*A+y]=Math.abs(H);U[_*A+y]=H<0?0:1}var S=A*V;for(var _=R;_<$-R;_+=V)for(var y=R;y<A-R;y+=V){var g=_*A+y,I=X[g];
if(I<16)continue;if(X[g-V]>=I||X[g+V]>=I)continue;if(X[g-S-V]>=I||X[g-S]>=I||X[g-S+V]>=I)continue;if(X[g+S-V]>=I||X[g+S]>=I||X[g+S+V]>=I)continue;
c.push({x:~~(y*u.bK+.5),y:~~(_*u.bK+.5),aaN:y,a60:_,iN:t,K:I,a1O:U[g],Q5:i})}}if(p!=null){c.sort(function(W,N){return N.K-W.K});
c=c.slice(0,p)}return c;var D=[];for(var g=0;g<c.length;g++){var G=!0,C=c[g];for(var O=0;O<c.length;
O++){var Y=c[O];if(O!=g&&Y.K>C.K&&(Y.iN==C.iN+1||Y.iN==C.iN-1)){var h=C.x-Y.x,r=C.y-Y.y;if(h*h+r*r<5){G=!1;
break}}}if(G)D.push(C)}console.log(c.length,D.length);return D}return{aiB:z}}();a.p1={};a.p1.a4O=function(z){var J=z.length,p=a.p1.aiY(z,!1),B=0,c=1;
throw"e";var n=[];for(var g=0;g<J;g++)n[g]=a.p1.adg(p[g]);var t=z[0][1],u=a.p1.match(p[B],p[c],n[c]);
console.log(u.length);var v=Math.max(Math.min(u.length,40),u.length*.54);v=Math.min(v,200);var A=u.slice(0,v),$=a.iO.ann(p[B],p[c],A,t.r,t.$),X=a.iO.a7a($,[0,0,0],1),U=t.r/2,w=t.$/2,P=1/Math.max(U,w);
for(var g=0;g<1;g++){var k=A[g],T=p[B][k[0]],Z=p[c][k[1]],i=a.iO.aw2(X,P*(T.x-U),P*(T.y-w),P*(Z.x-U),P*(Z.y-w))}var V=a.iO.a6_($,t),_=[];
for(var g=0;g<2;g++){var y=V[g],E=[y[0][0],y[0][1],y[0][2],y[1][0],y[1][1],y[1][2],y[2][0],y[2][1]],F=L.tp.Zx(z[g],null,E);
_.push([F.buffer,F.S])}return[a.p1.aha(_[0],_[1],p[B],p[c],A,$,V,t)]};a.p1.bM=function(z,J){var p=z.length,n=!1,B=Date.now(),c=a.p1.aiY(z,!1,1e4);
if(n)console.log("Descriptors ready",Date.now()-B);B=Date.now();for(var g=0;g<p;g++){var t=z[g][1];for(var u=0;
u<c[g].length;u++){c[g][u].x+=t.x;c[g][u].y+=t.y}}if(n)console.log("shifted",Date.now()-B);B=Date.now();
var v=[];for(var g=0;g<p;g++)v[g]=a.p1.adg(c[g]);if(n)console.log("trees built",Date.now()-B);B=Date.now();
var A=[];for(var g=0;g<p-1;g++)for(var u=g+1;u<p;u++){var $=a.p1.match(c[g],c[u],v[u]);if(n)console.log("Matches found",g,u,$.length);
$=$.slice(0,$.length>>>1);if($.length<10)continue;var X=a.p1.amB(c[g],c[u],$,2);A.push([g,u,$,X])}A.sort(function(x,f){return f[2].length-x[2].length});
if(n)console.log("Matches found",Date.now()-B);B=Date.now();var U=[],w=new UnionFind(p);for(var g=0;
g<A.length;g++){var P=A[g],k=w.find(P[0]),T=w.find(P[1]);if(k!=T){U.push(P);w.link(k,T)}}var Z=[];for(var g=0;
g<p;g++)Z[g]=[1,0,0,0,1,0,0,0];var i=[0],V=new Uint8Array(p);V[i[0]]=1;while(i.length!=0){var T=i.pop(),X=Z[T],_=[];
for(var g=0;g<U.length;g++){var P=U[g],y=P[0],E=P[1];if(y==T&&V[E]==0){Z[E]=a.F.iE(X,P[3]);i.push(E);
V[E]=1}if(E==T&&V[y]==0){Z[y]=a.F.iE(X,a.F.oU(P[3]));i.push(y);V[y]=1}}}if(J==null){var F=[];for(var g=0;
g<p;g++)F.push([Z[g][2],g]);F.sort(function(x,f){return x[0]-f[0]});J=F[F.length>>>1][1]}var d=a.F.oU(Z[J]);
for(var g=0;g<p;g++)Z[g]=a.F.iE(Z[g],d);if(n)console.log("Transforms reordered",Date.now()-B);B=Date.now();
return Z};a.p1.aiY=function(z,J,p){var n=[],B=!1;for(var g=0;g<z.length;g++){var c=z[g][0],t=z[g][1],u=t.r,v=t.$,A=a.j(t.C());
a.rz(c,A);var $=Date.now(),X=a.p1.ahw(A,t,!0);if(B)console.log("Pyramid built ---------------",Date.now()-$);
$=Date.now();var U=a.a6X.aiB(X,p);if(B)console.log("SURF Generation",Date.now()-$);$=Date.now();if(!J){a.aw0.aJG(X,U);
if(B)console.log("ORB Orientations",Date.now()-$);$=Date.now();a.aw0.aIK(X,U,A,u,v);if(B)console.log("ORB Descriptors",Date.now()-$);
$=Date.now()}n.push(U)}return n};a.p1.ahw=function(z,J,p){var n=[],B=[z,J];a.Sb(B);if(p){var c=a.auj(z,J),t=c.S,u=[c.R1,t];
a.Sb(u)}for(var g=0;g<B.length;g++){var v=B[2*g],A=B[2*g+1],$=A.r,X=A.$,U=Math.min($,X);if(U<30)break;
if(U<1600)n.push({BK:v,Tx:$,tK:X,bK:1<<g,go:a.fr(v,$,X)});if(!p)continue;var v=u[2*g],A=u[2*g+1],$=A.r,X=A.$,U=Math.min($,X);
if(U<30)break;if(U<1600)n.push({BK:v,Tx:$,tK:X,bK:(1<<g)*3/2,go:a.fr(v,$,X)})}return n};a.p1.amB=function(z,J,p,n){var B=Date.now(),c,t=0,u=0,v=p.length,A=new Float64Array(2);
for(var $=0;$<3e3;$++){var X=~~(Math.random()*v),U=~~(Math.random()*v),w=~~(Math.random()*v),P=~~(Math.random()*v),S=0,R=0;
if(X==U||X==w||X==P||U==w||U==P||w==P)continue;var k=p[X],T=p[U],Z=p[w],i=p[P],V=z[k[0]],_=J[k[1]],y=z[T[0]],E=J[T[1]],F=z[Z[0]],d=J[Z[1]],x=z[i[0]],f=J[i[1]],Q=[V.x,V.y,y.x,y.y,F.x,F.y,x.x,x.y],m=[_.x,_.y,E.x,E.y,d.x,d.y,f.x,f.y],H=a.F.agj(Q,m);
if(H[0]==0&&H[1]==0&&H[3]==0&&H[4]==0)continue;var I=v-t+2;for(var g=0;g<v&&g-S<I;g++){var D=z[p[g][0]],G=J[p[g][1]];
a.F.Di(G.x,G.y,H,A);var C=A[0]-D.x,O=A[1]-D.y,Y=C*C+O*O;if(Y<n){S++;R+=Y}}if(S>t||S==t&&R<u){c=H;t=S;
u=R}}return c};var fR=new Uint8Array(256);for(var g=0;g<256;g++){var j3=0,lj=g;while(lj!=0){lj=lj&lj-1;
j3++}fR[g]=j3}a.p1.aGr=function(z,J,p){var n=0,B=z.length;for(var g=0;g<B&&n<p;g++)n+=fR[z[g]^J[g]];
return n};a.p1.aFY=function(z,J,p,top,n){if(n[p]==1)return;var B=a.p1.aGr(z.m$,J.m$,top[0]);if(B<top[0]){if(B<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=B;top[3]=p}else{top[0]=B;top[1]=p}}n[p]=1};a.p1.adg=function(z){var J=[],p=[],n=[[],[]],B=4;
for(var g=0;g<z.length;g++)(z[g].a1O==0?J:p).push(g);for(var c=0;c<2;c++){var t=new Array(B),u=[],v=c==0?J:p,A=v.length/256,$=[];
for(var X=0;X<32;X++){var U=new Array(256),k=0;for(var w=0;w<256;w++)U[w]=[];for(var w=0;w<v.length;
w++){var P=v[w];U[z[P].m$[X]].push(P)}for(var w=0;w<256;w++)k+=Math.abs(U[w].length-A);$.push([k,X,U])}$.sort(function(T,Z){return T[0]-Z[0]});
var u=[],t=[];n[c]=[u,t];for(var g=0;g<B;g++){u.push($[g][1]);t.push($[g][2])}}return n};a.p1.match=function(z,J,p){var n=[],B=new Uint16Array(J.length);
B.fill(65535);var c=new Uint8Array(J.length),top=new Uint32Array(4),t=[];for(var u=0;u<z.length;u++){var v=z[u],A=v.m$;
top.fill(1e6);c.fill(0);var $=p[v.a1O];for(var X=0;X<$[1].length;X++){var U=$[1][X][A[$[0][X]]];for(var w=0;
w<U.length;w++){var P=U[w];a.p1.aFY(v,J[P],P,top,c)}}if(top[2]<50&&top[2]<top[0]*.5){var k=B[top[3]];
if(k==65535){B[top[3]]=n.length;n.push([u,top[3],top[2]])}else if(top[2]<n[k][2]){n[k]=[u,top[3],top[2]]}}}n.sort(function(T,Z){return T[2]-Z[2]});
return n};a.p1.apD=function(z){var J=new fw;for(var g=0;g<z.length;g++)J=J.KQ(z[g][1]);var p=a.j(J.C()*4);
for(var g=0;g<z.length;g++)a.B.Oe("norm",z[g][0],z[g][1],p,J,J,1);return[p,J]};a.p1.aha=function(z,J,p,n,B,c,t,u){var v=z[1].P(),A=v.P();
v.x=v.y=0;var $=J[1].P(),X=$.P();$.x=$.y=0;$.x=v.r;var U=v.KQ($),w=X.y-A.y,P=a.j(U.C()*4);a.nk(z[0],v,P,U);
a.nk(J[0],new fw($.x,$.y+w,$.r,$.$),P,U);var k=document.createElement("canvas");k.width=U.r;k.height=U.$;
var T=k.getContext("2d");T.lineWidth=.5;T.putImageData(new ImageData(new Uint8ClampedArray(P.buffer),U.r,U.$),0,0);
if(c){var Z=c[0],i=a.bp.dg(Z),V=v.r,_=u.r;for(var g=0;g<B.length;g++){var y=B[g],z=p[y[0]],J=n[y[1]];
T.strokeStyle="#"+"ff0000";T.beginPath();var E=a.iO.a5R(i,t[0],J,0,_),F=a.iO.a5R(Z,t[1],z,0,_);T.moveTo(-A.x+E[0],-A.y+E[1]);
T.lineTo(-A.x+E[2],-A.y+E[3]);T.moveTo(V-X.x+F[0],-X.y+w+F[1]);T.lineTo(V-X.x+F[2],-X.y+w+F[3]);T.stroke()}}if(B){var d=B.length;
for(var g=0;g<d;g++){var y=B[g],z=p[y[0]],J=n[y[1]];T.strokeStyle="#"+"ffff00"}}var x=new Uint8Array(T.getImageData(0,0,U.r,U.$).data.buffer);
if(!1){for(var f=0;f<2;f++){var Q=f==0?p:n,m=f*v.r;for(var g=0;g<Q.length;g++){var H=Q[g],S=~~H.x,R=~~H.y,I=(R*U.r+S+m)*4;
x[I+1]=x[I+2]=H.aBw*60;x[I+0]=0;x[I+3]=255}}}return[x,U]};a.H6={};a.H6.list=[[[22,4,1],0],[[22,4,0],0],["Dual Axis",0],["Diagonal",0],[[22,5,9],0],[[12,93,5],0],[[12,93,2],0],["Parallel",0],[[19,0,1],1],["Mandala",2]];
a.H6.aiP=["BasicPath","Radial","Mandala","RectangularTile"];a.H6.mp=function(z,J){var p=.28*.5,n=[{Ao:["M","L"],L:[.5,.1,.5,.9]},{Ao:["M","L"],L:[.1,.5,.9,.5]},{Ao:["M","L","M","L"],L:[.5,.1,.5,.9,.1,.5,.9,.5]},{Ao:["M","L"],L:[.1,.1,.9,.9]},{Ao:["M","C","C"],L:[.5,.1,.4,.2,.4,.4,.5,.5,.6,.6,.6,.8,.5,.9]},{Ao:["M","C","C","C","C"],L:[.5,.25,.5+p,.25,.75,.5-p,.75,.5,.75,.5+p,.5+p,.75,.5,.75,.5-p,.75,.25,.5+p,.25,.5,.25,.5-p,.5-p,.25,.5,.25]},null,{Ao:["M","L","M","L"],L:[.35,.1,.35,.9,.65,.1,.65,.9]}],u=.4;
if(n[z])return n[z];if(z==6){var B="m418 377c30 0 16-55-28-48-78 12-76 160 54 166 135 6 204-212 34-302-135-71-303 53-296 214 8 177 170 240 236 243",c=Typr.U.SVGToPath(B);
c={L:c.crds,Ao:c.cmds};a.b.h(c.L,new fA(1/840,0,0,1/840,0,0),c.L);return c}var t={Ao:[],L:[]},v=2*Math.PI/J;
for(var g=0;g<J;g++){t.Ao.push("M","L");t.L.push(.5,.5,.5+Math.sin(g*v)*u,.5-Math.cos(g*v)*u)}return t};
a.H6.ha=function(z,J){var p=Math.PI*.5+Math.atan2(z.y-J.y,J.x-z.x),n=new fA;n.translate(-z.x,-z.y);n.rotate(-p);
n.scale(-1,1);n.rotate(p);n.translate(z.x,z.y);return n};a.H6.asV=function(z,J,p){var n=[new fA];if(p==null)return n;
var B=p[0],c=p[1],t=p[2];if(B==0){var u=a.z.ZR(t,!0),v=a.z.Qq(t,0,!0),A=t[v].length;if(u==1){if(A==2){n.push(a.H6.ha(t[v+1].cy,t[v+2].cy))}else{var $=a.b.Ru(t);
$=a.b.bm($);var X=a.b.DI($),U=a.b.dy(X,z.x,z.y),lj=new i_(X[U*2],X[U*2+1]),w=z.x-lj.x,P=z.y-lj.y,k=new i_(lj.x-P,lj.y+w);
n.push(a.H6.ha(lj,k))}}if(u==2){var T=a.z.Qq(t,1,!0),Z=t[T].length;if(A==2&&Z==2){var i=t[v+1].cy,V=t[v+2].cy,_=t[T+1].cy,y=t[T+2].cy,E=a.b.HR(i.x,i.y,V.x-i.x,V.y-i.y,_.x,_.y,y.x-_.x,y.y-_.y),F=a.H6.ha(i,V);
n.push(F);var d=a.H6.ha(_,y);n.push(d);if(0<E&&E<1){F=F.P();F.concat(d);n.push(F)}}else alert("two curves")}}if(B==1||B==2){n=[];
var x=t[3].cy,f=t[4].cy;for(var g=0;g<c;g++){var Q=new fA;Q.translate(-x.x,-x.y);Q.rotate(g*Math.PI*2/c);
Q.translate(x.x,x.y);n.push(Q);if(B==2){Q=Q.P();Q.concat(a.H6.ha(x,f));n.push(Q)}}}if(B==3){n=[];for(var m=-1;
m<2;m++)for(var H=-1;H<2;H++){var Q=new fA;Q.translate(H*J.r,m*J.$);n.push(Q)}}return n};a.stack={};
a.stack.stack=function(z,J,p){var n=z.length,B=J.length;if(n==1){J.set(z[0]);return}if(p=="avrg"||p=="stdv"||p=="summ"||p=="vari"){var c=1/n;
for(var g=0;g<B;g++){var t=0;for(var u=0;u<n;u++)t+=z[u][g];var v=~~(t*c+.5);if(p=="avrg"||(g&3)==3)J[g]=v;
else if(p=="summ")J[g]=255*Math.pow(Math.min(255,t)*(1/255),1/2.4);else{var A=0;for(var u=0;u<n;u++){var $=z[u][g]-v;
A+=$*$}var X=Math.sqrt(A*c)*(1/255);if(p=="stdv")J[g]=255*Math.pow(X,1/2.4);else J[g]=255*Math.pow(X*X,1/2.4)}}}else if(p=="maxx"){for(var g=0;
g<B;g++){var U=0;for(var u=0;u<n;u++)U=Math.max(U,z[u][g]);J[g]=U}}else if(p=="minn"){for(var g=0;g<B;
g++){var U=255;for(var u=0;u<n;u++)U=Math.min(U,z[u][g]);J[g]=U}}else if(p=="medn"||p=="rang"){var w=function(Z,i){return Z-i},P=new Array(n),k=0,T=0;
if((n&1)==0){T=n>>>1;k=T-1}else{k=T=n>>>1}for(var g=0;g<B;g++){for(var u=0;u<n;u++)P[u]=z[u][g];P.sort(w);
if(p=="medn")J[g]=P[k]+P[T]>>>1;else J[g]=(g&3)==3?P[n-1]:P[n-1]-P[0]}}else console.log(p)};a.YM={};
a.YM.awB=function(z,J,p,n){if(n==0)return;var B=Date.now(),c=new Uint32Array(J*p),t=new Uint8Array(J*p);
while(!0){t.fill(0);c.fill(0);var u=[],v=0;for(var A=0;A<p;A++){for(var $=0;$<J;$++){var g=A*J+$;if(t[g]==0){var X=u.length,U=a.YM.cP(z,J,p,$,A,t,c,X);
u.push([X,$,A,U[0],U[1],z[g]]);if(U[0]<n)v++}}}if(v==0)break;var w=u.length,P=new UnionFind(w),k=[];
for(var g=0;g<w;g++)k.push([]);for(var g=0;g<w;g++){var U=u[g],T=U[4],Z=0,i=0;if(U[3]>=n)continue;var X=U[0];
for(var V=0;V<T.length;V+=2){var _=c[T[V+1]*J+T[V]],y=u[_];if(y[3]>i){i=y[3];Z=_}}if(P.find(X)!=P.find(Z)){P.link(X,Z);
k[X].push(Z);k[Z].push(X)}}var E=new Uint32Array(w);E.fill(4294967295);var F=new Uint32Array(w);for(var g=0;
g<w;g++){if(E[g]!=4294967295||k[g].length==0)continue;var d=[g],x=[g],f=g,Q=u[g][3];while(x.length!=0){var m=x.pop(),H=k[m];
for(var V=0;V<H.length;V++){var S=H[V];if(d.indexOf(S)==-1){d.push(S);x.push(S);var R=u[S];if(R[3]>Q){Q=R[3];
f=S}}}}for(var V=0;V<d.length;V++){E[d[V]]=f;var I=u[f];F[d[V]]=z[I[2]*J+I[1]]}}for(var A=0;A<p;A++)for(var $=0;
$<J;$++){var g=A*J+$,D=E[c[g]];if(D!=4294967295)z[g]=F[D]}}};a.YM.cP=function(z,J,p,n,B,c,t,u){var v=[n,B],A=z[B*J+n],$=0,X=[];
c[B*J+n]=1;while(v.length!=0){var U=v.pop(),w=v.pop(),g=U*J+w;t[g]=u;$++;if(U!=p-1)if(z[g+J]==A){if(c[g+J]==0){v.push(w,U+1);
c[g+J]=1}}else X.push(w,U+1);if(U!=0)if(z[g-J]==A){if(c[g-J]==0){v.push(w,U-1);c[g-J]=1}}else X.push(w,U-1);
if(w!=J-1)if(z[g+1]==A){if(c[g+1]==0){v.push(w+1,U);c[g+1]=1}}else X.push(w+1,U);if(w!=0)if(z[g-1]==A){if(c[g-1]==0){v.push(w-1,U);
c[g-1]=1}}else X.push(w-1,U)}return[$,X]};a.YM.a3f=function(z,J,p){var n=new Uint32Array(J*p);for(var g=0;
g<n.length;g++)n[g]=z[g];var B=[];for(var c=0;c<p;c++){for(var t=0;t<J;t++){var g=c*J+t,u=n[g];if(u<1e3){var v=a.YM.agH(n,J,p,t,c,1e3+B.length);
B.push([t,c,u,v,0])}}}for(var g=0;g<n.length;g++)n[g]-=1e3;var A=new Float32Array(J*p);A.fill(J+p);for(var c=0;
c<p;c++)for(var t=0;t<J;t++){var g=c*J+t,u=n[g];if(t==0||c==0||n[g-1]!=u||n[g-J]!=u)A[g]=0;else{var $=Math.min(A[g],A[g-1]+1,A[g-J]+1);
if(n[g-J-1]==u)$=Math.min($,A[g-J-1]+1.414);A[g]=$}}for(var c=p-1;c>=0;c--)for(var t=J-1;t>=0;t--){var g=c*J+t,u=n[g];
if(t==J-1||c==p-1||n[g+1]!=u||n[g+J]!=u)A[g]=0;else{var $=Math.min(A[g],A[g+1]+1,A[g+J]+1);if(n[g+J+1]==u)$=Math.min($,A[g+J+1]+1.414);
A[g]=$}}for(var c=0;c<p;c++)for(var t=0;t<J;t++){var g=c*J+t,X=B[n[g]];if(A[g]>X[4]){X[4]=A[g];X[0]=t;
X[1]=c}}return B};a.YM.agH=function(z,J,p,n,B,c){var t=[n,B],u=z[B*J+n],v=0;z[B*J+n]=4294967295;while(t.length!=0){var B=t.pop(),n=t.pop(),g=B*J+n;
v++;z[g]=c;if(B<p-1&&z[g+J]==u){t.push(n,B+1);z[g+J]=4294967295}if(B>0&&z[g-J]==u){t.push(n,B-1);z[g-J]=4294967295}if(n>0&&z[g-1]==u){t.push(n-1,B);
z[g-1]=4294967295}if(n<J-1&&z[g+1]==u){t.push(n+1,B);z[g+1]=4294967295}}return v};a.YM.azN=function(z,J,p,n,B){var c=a.YM.ahB(z.buffer,J,p).nY,t=Date.now(),u=[];
for(var g=0;g<c.length;g++){var v=c[g],A=1;for(var $=0;$<A;$++)u.push(v.GQ)}var X=new Uint32Array(u),U=UPNG.quantize.getKDtree(new Uint8Array(X.buffer),n),w=[J,1,-J,-1,J+1,-J+1,-J-1,J-1,J+J,2,-J-J,-2,J+J-1,J+J+1,J+2,-J+2,-J-J+1,-J-J-1,-J-2,J-2,J+J+2,-J-J+2-J-J-2,J+J-2],P=new Uint8Array(J*p),k=z;
for(var T=0;T<p;T++)for(var Z=0;Z<J;Z++){var g=T*J+Z<<2,i=k[g]*(1/255),V=k[g+1]*(1/255),_=k[g+2]*(1/255),y=k[g+3]*(1/255),E=a.YM.ma(U,i,V,_,y,B);
if(E==null){var F=[],d=0;while(d<20){var x=T*J+Z+w[d]<<2,f=k[x]*(1/255),Q=k[x+1]*(1/255),m=k[x+2]*(1/255),H=k[x+3]*(1/255),S=a.YM.ma(U,f,Q,m,H,.005);
if(S!=null){if(F.indexOf(S)==-1){F.push(S);S.pu=1}else S.pu++}d++}F.sort(function(y,_){return _.pu-y.pu});
while(F.length!=0&&F[F.length-1].pu<3)F.pop();if(F.length==0)E=a.YM.ma(U,i,V,_,y,100);else if(F.length==1)E=F[0];
else if(F.length==2){var R=F[0],I=F[1],D=R.est.q,G=I.est.q,C=G[0]-D[0],O=G[1]-D[1],Y=G[2]-D[2],h=G[3]-D[3],r=i-D[0],W=V-D[1],N=_-D[2],o=y-D[3],K=C*C+O*O+Y*Y+h*h,l=r*r+W*W+N*N+o*o,aV=(r*C+W*O+N*Y+o*h)/K,j=l-aV*aV*K;
if(j<.5)E=aV<.5?R:I;else{E=a.YM.ma(U,i,V,_,y,100)}}else{var R=F[0],I=F[1],M=F[2],D=R.est.q,G=I.est.q,s=M.est.q,l2=D[0]-s[0],gm=D[1]-s[1],iz=D[2]-s[2],dC=D[3]-s[3],dL=G[0]-s[0],cP=G[1]-s[1],id=G[2]-s[2],jR=G[3]-s[3],hC=s[0]-i,eJ=s[1]-V,el=s[2]-_,eu=s[3]-y,jY=l2*l2+gm*gm+iz*iz+dC*dC,fN=l2*dL+gm*cP+iz*id+dC*jR,jC=hC*l2+eJ*gm+el*iz+eu*dC,kF=l2*dL+gm*cP+iz*id+dC*jR,i6=dL*dL+cP*cP+id*id+jR*jR,kT=hC*dL+eJ*cP+el*id+eu*jR,kY=1/(fN*kF-jY*i6),aV=(i6*jC-kT*fN)*kY,h9=(kT*jY-jC*kF)*kY,bG=1-aV-h9,dQ=Math.max(aV,h9,bG);
if(dQ==aV)E=R;else if(dQ==h9)E=I;else E=M}}P[g>>2]=E.ind}return{Lz:P,nY:U[1]}};a.YM.ahB=function(z,J,p){var n=[],B={},c=J-1,t=p-1,u=0,v=new Uint32Array(z),A=[-J-1,-J,-J+1,-1,1,J-1,J,J+1,J+J,2,-J-J,-2,J+J-1,J+J+1,J+2,-J+2,-J-J+1,-J-J-1,-J-2,J-2,J+J+2,-J-J+2-J-J-2,J+J-2];
for(var $=1;$<t;$++)for(var X=1;X<c;X++){var U=$*J+X,w=v[U],P=!0;for(var g=0;g<8;g++)P=P&&v[U+A[g]]==w;
if(P){u++;var k=B[w];if(k==null){B[w]=n.length;n.push({GQ:w,EL:1})}else n[k].EL++}}return{nY:n,a5w:u}};
a.YM.ma=function(z,J,p,n,B,c){var t=UPNG.quantize.getNearest(z[0],J,p,n,B);return a.YM.a7c(t,J,p,n,B)<c?t:null};
a.YM.a7c=function(z,J,p,n,B){var c=z.est.q,t=J-c[0],u=p-c[1],v=n-c[2],A=B-c[3];return t*t+u*u+v*v+A*A};
(function(){a.YM.Id=function(u,v,A,$,X){var U=u.ZA,w=v*A,P=u.UP,k=u.Lz,T=n($,k,U,w),Z=new UnionFind(U),F=0;
for(var i=1;i<A;i++)for(var V=1;V<v;V++){var g=i*v+V,_=k[g],y=0;if((y=k[g-1])!=_&&T[y]==T[_]&&z(P,0,_*6,y*6)<X)Z.link(_,y);
if((y=k[g-v])!=_&&T[y]==T[_]&&z(P,0,_*6,y*6)<X)Z.link(_,y)}var E=new Uint16Array(U);E.fill(65535);var d=new Uint16Array(U);
for(var g=0;g<U;g++){var x=Z.find(g);if(E[x]==65535)E[x]=F++;d[g]=E[x]}var f=new Uint16Array(w);for(var g=0;
g<w;g++)f[g]=d[k[g]];return{Lz:f,ZA:F}};a.YM.Mw=function(u,v,A){var $=a.j(v),X=u.length;for(var g=0;
g<X;g++){var U=A[g];if(U==0||U==255){var w=u[g],P=2-(U>>>7),k=$[w]=$[w]|P;if(k==3)return w}}return-1};
function z(u,v,A,$){var X=1/u[A+5],U=1/u[$+5],w=u[A]*X-u[$]*U,P=u[A+1]*X-u[$+1]*U,k=u[A+2]*X-u[$+2]*U,T=u[A+3]*X-u[$+3]*U,Z=u[A+4]*X-u[$+4]*U,i=Math.sqrt(w*w+P*P+k*k),V=Math.sqrt(T*T+Z*Z);
return~~(i+v*V+.5)}function J(u,v){var g=0,A=u.length;while(g!=A&&u[g]!=v)g+=2;return g==A?-1:g}function p(u,g){if(g==u.length-2){u.pop();
u.pop()}else{u[g+1]=u.pop();u[g]=u.pop()}}a.YM.adQ=function(u,v,A,$,X){var U=new Uint32Array(X*4400),w=[];
for(var g=0;g<X;g++)w.push([]);for(var P=0;P<A;P++)for(var k=0;k<v;k++){var g=P*v+k,T=g<<2,Z=$[g],i=0,V=u[T]>>>4,_=u[T+1]>>>4,y=u[T+2]>>>4;
U[Z*4400+(V<<8|_<<4|y)]++;U[Z*4400+4096]++;U[Z*4400+4100+(V<<4|_)]++;U[Z*4400+4360+V]++;if(k!=0&&(i=$[g-1])!=Z&&J(w[Z],i)==-1){w[Z].push(i,0);
w[i].push(Z,0)}if(P!=0&&(i=$[g-v])!=Z&&J(w[Z],i)==-1){w[Z].push(i,0);w[i].push(Z,0)}}for(var g=0;g<X;
g++){var y=w[g];for(var E=0;E<y.length;E+=2)y[E+1]=t(U,g,y[E])}return[U,w]};function n(u,v,A,$){var X=a.j(A);
for(var g=0;g<$;g++){var U=u[g];if(U==0||U==255)X[v[g]]=2-(U>>>7)}return X}a.YM.aEL=function(u,v,A,$,X,U,w){var P=v*A,k=w[0],T=w[1],Z=new UnionFind($),i=n(X,u,$,P),V=-1,_=!0,y=0;
for(var g=0;g<$;g++)if(i[g]==1){if(V==-1)V=g;else Z.link(g,V)}if(V==-1){for(var g=0;g<P;g++)U[g]=X[g]==255?255:0;
return}while(_){while(_){_=!1;for(var g=0;g<$;g++){if(i[g]==0){var E=B(T[g]);if(i[E]==1){i[g]=i[E];_=!0;
Z.link(g,E)}}}}_=!0;y=0;while(_){_=!1;for(var g=0;g<$;g++){if(i[g]==0){var E=B(T[g]);if(i[E]==0){var F=g*4400,d=E*4400;
for(var x=0;x<4400;x+=2){k[F+x]+=k[d+x];k[F+x+1]+=k[d+x+1]}c(T,k,g,E);y++;i[E]=3;_=!0;Z.link(g,E)}}}}_=y!=0}var f=Z.find(V);
for(var g=0;g<$;g++)i[g]=Z.find(g)==f?255:0;for(var g=0;g<P;g++){U[g]=i[u[g]]}for(var g=0;g<P;g++){var E=X[g];
if(E==0||E==255)U[g]=E}};function B(u){var v=0,A=0,$=u.length;for(var X=0;X<$;X+=2){var U=u[X+1];if(U>A){A=U;
v=X}}return u[v]}function c(u,v,A,$){var X=u[A],U=u[$];p(X,J(X,$));p(U,J(U,A));for(var g=0;g<U.length;
g+=2){var w=U[g],P=u[w];p(P,J(P,$));if(J(P,A)==-1){P.push(A,0);X.push(w,0)}}for(var g=0;g<X.length;g+=2){var w=X[g],P=u[w],k=t(v,A,w);
X[g+1]=k;P[J(P,A)+1]=k}}function t(u,v,A){var $=0,X=4096,U=v*4400,w=A*4400;for(var P=0;P<16;P++){if(u[U+4360+P]==0||u[w+4360+P]==0)continue;
for(var k=0;k<16;k++){var T=P<<4|k;if(u[U+4100+T]==0||u[w+4100+T]==0)continue;var Z=U+(T<<4),i=w+(T<<4);
for(var g=0;g<16;g++)$+=Math.sqrt(u[Z+g]*u[i+g])}}var V=$/Math.sqrt(u[U+X]*u[w+X]);return~~(999.99999*V)}}());
a.YM.Rv=function(){var z,J,p,t=0,u=0;function n(w,P,k){var T=[],Z=k,i=k,V=k>>>2;for(var _=0;_<P;_++)for(var y=0;
y<w;y++){var E=~~((y+.5)*Z),F=~~((_+.5)*i),d=1e9,x=Math.max(0,E-V),f=Math.min(J,E+V+1),Q=Math.max(0,F-V),m=Math.min(p,F+V+1);
for(var H=Q;H<m;H++)for(var S=x;S<f;S++){var R=B(S,H);if(R<d){E=S;F=H;d=R}}T.push(E,F)}return T}function B(w,P){var k=(P*J+w)*4,T=J*4,Z=c(k-4,k)+c(k,k+4),i=c(k-T,k)+c(k,k+T);
return Z+i}function c(w,P){var k=z[w]-z[P],T=z[w+1]-z[P+1],Z=z[w+2]-z[P+2];return k*k+T*T+Z*Z}function v(w,P,k,T){u++;
if(T<t)t=T;w[T].push(P,k)}function A(w){u--;while(w[t].length==0)t++}function $(w,P,k,T,Z){var i=(k*J+P)*4,V=T[Z+5],_=1/V,y=z[i]*V-T[Z],E=z[i+1]*V-T[Z+1],F=z[i+2]*V-T[Z+2],d=P*V-T[Z+3],x=k*V-T[Z+4],f=Math.sqrt(y*y+E*E+F*F),Q=Math.sqrt(d*d+x*x);
return~~((f+w*Q)*_+.5)}function X(w,P,k,T,Z){z=w;J=P;p=k;t=0;u=0;var i=J*p,V=Math.round(Math.min(J,p)/(T?T:30));
if(V==0)V=1;var _=(Z?Z:30)/V,y=Math.floor(J/V),E=Math.floor(p/V),F=new Uint16Array(i);for(var g=0;g<i;
g++)F[g]=65535;var d=n(y,E,V),x=d.length>>>1;if(x>65535)throw x;var f=new Uint32Array(x*6),Q=[];for(var g=0;
g<1e3+p;g++)Q.push([]);var m=1e3*700/(J*p),H=Math.floor(E*m);H=Math.min(E,Math.max(4,H));H=E;var f=new Uint32Array(x*6);
for(var S=0;S<E;S+=H){var R=Math.min(S+H,E);for(var I=S;I<R;I++)for(var D=0;D<y;D++){var g=I*y+D;v(Q,d[g*2+1]<<16|d[g*2],g,0)}var G=Math.min(p,R*V);
if(S+H>=E)G=p;U(f,Q,F,_,G)}z=null;return{Lz:F,ZA:x,UP:f,alz:_}}function U(w,P,k,T,Z){while(u!=0){A(P);
var i=P[t].pop(),V=P[t].pop(),_=V>>>16,y=V&65535,g=_*J+y;if(k[g]==null)throw"e";if(k[g]==65535){var E=i*6,F=g<<2;
k[g]=i;w[E]+=z[F];w[E+1]+=z[F+1];w[E+2]+=z[F+2];w[E+3]+=y;w[E+4]+=_;w[E+5]++;if(_!=Z-1&&k[g+J]==65535)v(P,_+1<<16|y,i,$(T,y,_+1,w,E));
if(_!=0&&k[g-J]==65535)v(P,_-1<<16|y,i,$(T,y,_-1,w,E));if(y!=0&&k[g-1]==65535)v(P,_<<16|y-1,i,$(T,y-1,_,w,E));
if(y!=J-1&&k[g+1]==65535)v(P,_<<16|y+1,i,$(T,y+1,_,w,E))}}}X.mW=function(w,P,k,T,Z,i){z=w;J=P;p=k;var V=T.ZA=T.ZA+1,_=T.Lz,y=T.UP,E=T.UP=new Uint32Array(V*6);
E.set(y,0);var F=_[Z[1]*J+Z[0]];for(var g=0;g<_.length;g++)if(_[g]==F)_[g]=65535;for(var g=0;g<6;g++)E[F*6+g]=0;
var d=[];for(var g=0;g<1e3+p;g++)d.push([]);for(var g=0;g<Z.length;g+=2)v(d,Z[g+1]<<16|Z[g],F,0);for(var g=0;
g<i.length;g+=2)v(d,i[g+1]<<16|i[g],V-1,0);U(E,d,_,T.alz,p);z=null};return X}();a.axY={};a.axY.a0d=function(){var z=11,J=7,p=z>>>1,lj=J>>>1,n=2,B=2e3/n,c=[],u=null,v="";
function t($,X,U){var w=($[X+0]-$[U+0])*(1/255),P=($[X+1]-$[U+1])*(1/255),k=($[X+2]-$[U+2])*(1/255),T=($[X+3]-$[U+3])*(1/255),Z=w*w*.125+P*P*.25+k*k*.5+T*T;
return c[~~(Z*B)]}function A($,X,U,w,P,k){var T=Date.now(),Z=a.j(X*U);a.rz($,Z);var i=UZIP.adler(Z,0,X*U);
if(i!=v){var V=a.fr(Z,X,U);u=a.j(X*U*4);v=i;var _=[1,1/9,1/25,1/49,1/81];for(var y=0;y<U;y++)for(var E=0;
E<X;E++)for(var g=0;g<4;g++){var F=Math.max(1,E-g),d=Math.min(X-1,E+g),x=Math.max(1,y-g),f=Math.min(U-1,y+g),Q=a.Z3(V,X,F,d,x,f);
if(isNaN(Q))throw E+","+y+","+g+","+Q;u[(y*X+E)*4+g]=Q*_[g]}}if(co.Pw){var m=co.Ud(0,X,U);m.set($);var H=co.Ud(1,X,U);
H.set(u);var S=co.Ud(2,X,U);co.C4(S);co.filter.PW({I:co.filter.aA3,lw:new Float32Array([1/X,1/U]),a1k:H.zu,aKh:P,agx:k},m.zu);
S.get(w)}else{for(var g=0;g<2e3;g++)c[g]=Math.exp(-(g/2e3)*n*(100+(1-P)*(1-P)*1e4));var R=lj+2;for(var y=R;
y<U-R;y++)for(var E=R;E<X-R;E++){var I=0,D=0,G=0,C=0;for(var O=0;O<z;O++)for(var Y=0;Y<z;Y++){var h=E+Y-p,r=y+O-p;
if(h==E&&r==y||h<R||r<R||h>=X-R||r>=U-R)continue;var W=t(u,(y*X+E)*4,(r*X+h)*4),N=r*X+h<<2;I+=W*$[N+0];
D+=W*$[N+1];G+=W*$[N+2];C+=W}if(C==0){continue}var o=1/C,K=(y*X+E)*4;w[K+0]=~~((1-k)*o*I+k*w[K+0]);w[K+1]=~~((1-k)*o*D+k*w[K+1]);
w[K+2]=~~((1-k)*o*G+k*w[K+2])}}}return A}();a.aBL=function(){var z=6,J=z>>>1,p=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],n=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function B(k,T){var Z=!1,i=k.length,V=T[0],F=5,x=0,f=0;for(var g=1;g<i;g++)V=V.KQ(T[g]);if((V.r&1)!=0)V.r++;
if((V.$&1)!=0)V.$++;var _=V.r,y=V.$,E=Math.max(_,y);while(E>>>F>8&&F<10)F++;var d=1<<F;if(_%d!=0)x=d-_%d;
if(y%d!=0)f=d-y%d;V.Lr(x>>>1,f>>>1);_=V.r;y=V.$;if(_%d!=0||y%d!=0)throw"e";var Q=Date.now(),m=[],H=a.j(V.C()),S=[],R=_*y,I=new Float32Array(_*y*2);
for(var g=0;g<i;g++){var D=T[g],G=a.j(D.C());a.rz(k[g],G);H.fill(0);a._1(G,D,H,V);m.push(H.slice(0));
var C=D.x-V.x,O=D.y-V.y,Y=C+D.r-2,h=O+D.$;for(var r=0;r<D.$;r++){var W=(r+O)*_;for(var N=0;N<C;N++)H[W+N]=H[W+C];
for(var N=Y;N<_;N++)H[W+N]=H[W+Y-1]}for(var N=0;N<_;N++){for(var r=0;r<O;r++)H[r*_+N]=H[O*_+N];for(var r=h;
r<y;r++)H[r*_+N]=H[(h-1)*_+N]}var o=new Float32Array(_*y*2);S.push(o);for(var K=0;K<R;K++)o[K*2]=H[K]*(1/255);
v(o,I,_,y,F);c(o,_,y,F)}if(Z)console.log("to gray, decompose",Date.now()-Q);Q=Date.now();var l=a.j(_*y);
for(var r=0;r<y;r++)for(var N=0;N<_;N++){var aV=0,j=0,M=r*_+N<<1;for(var g=0;g<i;g++){var s=S[g],l2=s[M],gm=s[M+1],iz=l2*l2+gm*gm;
if(iz>j){j=iz;aV=g}}l[M>>>1]=aV}if(Z)console.log("max abs value",Date.now()-Q);Q=Date.now();t(l,_,y,F);
u(l,_,y);if(Z)console.log("denoise",Date.now()-Q);Q=Date.now();var dC=I.slice(0);for(var r=0;r<y;r++)for(var N=0;
N<_;N++){var g=r*_+N,M=g<<1,dL=S[l[g]];dC[M]=dL[M];dC[M+1]=dL[M+1]}A(dC,I,_,y,F);if(Z)console.log("compose",Date.now()-Q);
Q=Date.now();for(var K=0;K<R;K++){var iz=dC[K*2]*255,aV=0,j=1e9;for(var g=0;g<i;g++){var cP=Math.abs(m[g][K]-iz);
if(cP<j){j=cP;aV=g}m[g][K]=0}m[aV][K]=255}if(Z)console.log("toRGB",Date.now()-Q);Q=Date.now();return[m,V]}function c(k,T,Z,i){var V=T>>>i,_=Z>>>i,y=1e-4;
for(var E=0;E<Z;E++)for(var F=0;F<T;F++){if(F<V&&E<_)continue;var d=(E*T+F)*2,x=k[d],f=k[d+1],Q=x*x+f*f;
if(Q<y)x=f=0;else{var m=(Q-y)/Q;x*=m;f*=m}k[d]=x;k[d+1]=f}}function t(k,T,Z,i){for(var V=0;V<i;V++){var _=T>>>V,y=Z>>>V,E=_>>>1,F=y>>>1;
for(var d=0;d<F;d++)for(var x=0;x<E;x++){var f=d*T+E+x,Q=(d+F)*T+E+x,m=(d+F)*T+x,H=k[f],S=k[Q],R=k[m];
if(H==S==R){}else if(H==S)k[m]=H;else if(S==R)k[f]=S;else if(H==R)k[Q]=H}}}function u(k,T,Z){for(var i=1;
i<Z-1;i++)for(var V=1;V<T-1;V++){var g=i*T+V,_=k[g-T],y=k[g-1],E=k[g],F=k[g+1],d=k[g+T],x=_==y&&_==F||_==F&&F==d||F==d&&y==d||_==y&&d==y;
if(x)k[g]=_==y?_:y==F?y:_;else if(E>_&&E>y&&E>F&&E>d)k[g]=_+y+F+d>>>2;else if(E<_&&E<y&&E<F&&E<d)k[g]=_+y+F+d>>>2}}function v(k,T,Z,i,V){for(var g=0;
g<V;g++){var _=Z>>>g,y=i>>>g;$(k,T,Z,i,_,y)}}function A(k,T,Z,i,V){for(var g=V-1;g>=0;g--){var _=Z>>g,y=i>>g;
X(k,T,Z,i,_,y)}}function $(k,T,Z,i,V,_){w(k,T,Z,i,V,_,!0);w(T,k,Z,i,V,_,!1)}function X(k,T,Z,i,V,_){P(k,T,Z,i,V,_,!0);
P(T,k,Z,i,V,_,!1)}function U(k,T,Z,i,V,_){var y=Z*i+T<<1;k[y]=V;k[y+1]=_}function w(k,T,Z,i,V,_,y){var j3=y?V:_,E=y?_:V,F=E>>>1;
for(var d=0;d<j3;d++){for(var x=0;x<E;x+=2){var f=0,Q=0,m=0,H=0,S=x>>>1;for(var R=0;R<6;R++){var I=x+R-3;
if(I<0)I=E+I;if(I>=E)I=I-E;var D=(y?I*Z+d:d*Z+I)<<1,G=k[D],C=k[D+1],O=p[R],Y=n[R];f+=G*O[0]-C*O[1];Q+=C*O[0]+G*O[1];
m+=G*Y[0]-C*Y[1];H+=C*Y[0]+G*Y[1]}if(y){U(T,d,S,Z,f,Q);U(T,d,S+F,Z,m,H)}else{U(T,S,d,Z,f,Q);U(T,S+F,d,Z,m,H)}}}}function P(k,T,Z,i,V,_,y){var j3=y?V:_,E=y?_:V,F=E>>>1,d,x,f,Q;
for(var m=0;m<j3;m++){for(var H=0;H<E;H++){var S=0,R=0;for(var I=H+3&1;I<6;I+=2){var D=H-I+3>>1;if(D<0)D=F+D;
if(D>=F)D=D-F;if(y){d=m;x=D;f=m;Q=D+F}else{x=m;d=D;Q=m;f=D+F}var G=x*Z+d<<1,C=Q*Z+f<<1,O=k[G],Y=k[G+1],h=k[C],r=k[C+1],W=p[I],N=n[I];
S+=O*W[0]+h*N[0];S+=Y*W[1]+r*N[1];R+=Y*W[0]+r*N[0];R-=O*W[1]+h*N[1]}if(y)U(T,m,H,Z,S,R);else U(T,H,m,Z,S,R)}}}return{Oj:B}}();
a.a2F=function(){var z=Math.floor(12e3/8),J,p,n,B;function c(X,U,w,P){var k=UPNG.quantize.findNearest,T=[X,new fw(0,0,U,w)],i;
a.pG(T);var Z=Date.now(),V=U+w>>>1;for(var g=V<1e3?2:4;g>=0;g-=2){var _=T[g+1],p=_.r,n=_.$;if(i==null){i=new Uint8Array(p*n);
k(T[g],i,P)}t(T[g],p,n,P,i);if(g!=0){var y=T[g-1],E=y.r,F=y.$,d=new Uint8Array(E*F);for(var x=0;x<F;
x++)for(var f=0;f<E;f++)d[x*E+f]=i[(x>>>1)*p+(f>>>1)];i=d}}return i}function t(X,U,w,P,k){J=X;p=U;n=w;
B=P;var T=B.length>>>2,Z=[-1,-p,1,p],i=[-1,-p,-p+1,2,p+1,p],V=[-1,-p,1,p+1,p+p,p-1],_=8,y=p+n>>>1,E=1e9;
while(y>512){_>>=1;y>>=1}_=Math.max(1,Math.min(4,_));for(var F=0;F<_;F++){var d=0;for(var x=0;x<n;x++)for(var f=0;
f<p;f++){if(A(k,f,x)<2)continue;var Q=x*p+f,m=k[Q],H=1e9,S=0,R=f==0||x==0||f>p-3||x>n-3;if(R){H=1e9;
for(var g=0;g<T;g++){k[Q]=g;var I=$(k,f,x,2);if(I<H){H=I;S=g}}k[Q]=S;if(S==m&&f+1<p&&k[Q+1]==m){H=1e9;
for(var g=0;g<T;g++){k[Q]=k[Q+1]=g;var I=$(k,f,x,2)+$(k,f+1,x,2);if(I<H){H=I;S=g}}k[Q]=k[Q+1]=S}if(S==m&&x+1<n&&k[Q+p]==m){H=1e9;
for(var g=0;g<T;g++){k[Q]=k[Q+p]=g;var I=$(k,f,x,2)+$(k,f,x+1,2);if(I<H){H=I;S=g}}k[Q]=k[Q+p]=S}}else{H=1e9;
S=-1;for(var g=0;g<4;g++){var D=k[Q+Z[g]];if(D==S)continue;k[Q]=D;var I=$(k,f,x,2);if(I<H){H=I;S=D}}k[Q]=S;
if(S==m&&f+1<p&&k[Q+1]==m){H=1e9;S=-1;for(var g=0;g<6;g++){var D=k[Q+i[g]];if(D==S)continue;k[Q]=k[Q+1]=D;
var I=$(k,f,x,2)+$(k,f+1,x,2);if(I<H){H=I;S=D}}k[Q]=k[Q+1]=S}if(S==m&&x+1<n&&k[Q+p]==m){H=1e9;S=-1;for(var g=0;
g<6;g++){var D=k[Q+V[g]];if(D==S)continue;k[Q]=k[Q+p]=D;var I=$(k,f,x,2)+$(k,f,x+1,2);if(I<H){H=I;S=D}}k[Q]=k[Q+p]=S}}d+=H}}}function u(X){var U=0;
for(var w=0;w<n;w++)for(var P=0;P<p;P++)U+=$(X,P,w,1);return U/(p*n)}function v(X,U,w){var g=w*p+U,P=g*4,k=X[g]*4,T=J[P]-B[k],Z=J[P+1]-B[k+1],i=J[P+2]-B[k+2],V=J[P+3]-B[k+3];
return T*T+Z*Z+i*i+V*V}function A(X,U,w){if(U<0||U>=p||w<0||w>=n)throw"e";var g=w*p+U,P=X[g],k=0;if(w>0&&P!=X[g-p])k+=2;
if(U>0&&P!=X[g-1])k+=2;if(U<p-1&&P!=X[g+1])k+=2;if(w<n-1&&P!=X[g+p])k+=2;if(w>0&&U>0&&P!=X[g-p-1])k++;
if(w<n-1&&U>0&&P!=X[g+p-1])k++;if(w>0&&U<p-1&&P!=X[g-p+1])k++;if(w<n-1&&U<p-1&&P!=X[g+p+1])k++;return k}function $(X,U,w,P){return v(X,U,w)+A(X,U,w)*P*z}return c}();
var jH=function(){function z(){this.C=0;this.R6=0;this.CP={};this.Dg=[];this.NJ=1e5;this.r1=1e5;this.pz=-1;
this.y2=-1;this.color=0}function J(lj){this.s=lj;this.mz=new Array(lj);this.GQ=new Array(lj*6);this.au_=0;
this.b7=new Array(lj*2);this.alpha=new Array(lj);this.$A=new Array(lj);this.KV=new Array(lj)}function p(B,c,t,u){function v(T,Z,B,c){return B[c*Z+T]}function A(g){var F=B.length;
while(g<F&&B[g]==0)g++;return g<F?g:-1}function $(T,Z,F){for(var g=2;g<5;g++){var d=0;for(var x=-g+1;
x<=g-1;x++){d+=v(T+x,Z+g-1,B,c)==F?1:-1;d+=v(T+g-1,Z+x-1,B,c)==F?1:-1;d+=v(T+x-1,Z-g,B,c)==F?1:-1;d+=v(T-g,Z+x,B,c)==F?1:-1}if(d>0)return 1;
else if(d<0)return 0}return 0}function X(F,P){var k=new z,T=F,Z=P,d=0,x=1,f;k.color=B[P*c+F];k.sign=v(F,P,B,c)==k.color?"+":"-";
while(1){k.Dg.push(T,Z);if(T>k.pz)k.pz=T;if(T<k.NJ)k.NJ=T;if(Z>k.y2)k.y2=Z;if(Z<k.r1)k.r1=Z;k.R6++;T+=d;
Z+=x;k.C-=T*x;if(T==F&&Z==P)break;var Q=v(T+(d+x-1>>1),Z+(x-d-1>>1),B,c)==k.color,m=v(T+(d-x-1>>1),Z+(x+d-1>>1),B,c)==k.color;
if(m&&!Q){if(u.ej=="right"||u.ej=="black"&&k.sign=="+"||u.ej=="white"&&k.sign=="-"||u.ej=="majority"&&$(T,Z,k.color)||u.ej=="minority"&&!$(T,Z,k.color)){f=d;
d=-x;x=f}else{f=d;d=x;x=-f}}else if(m){f=d;d=-x;x=f}else if(!Q){f=d;d=x;x=-f}}return k}var U=0,w=[];
while(!0){var U=A(U);if(U==-1)break;var P=Math.floor(U/c),k=X(U-P*c,P);for(var g=0;g<k.Dg.length-2;g+=2){var T=k.Dg[g],Z=k.Dg[g+1],i=Z*c+T;
if(T==k.Dg[g+2]&&Z+1==k.Dg[g+3]&&B[i]!=0)jH.fill(i,B,c,0)}if(k.C>u.aAw)w.push(k)}for(var g=0;g<w.length;
g++)w[g].parent=-1;var V=Date.now();for(var g=1;g<w.length;g++){var _=w[g];for(var y=g-1;y>=0;y--){var E=w[y];
if(_.NJ<E.NJ||_.pz>E.pz||_.r1<E.r1||_.y2>E.y2)continue;if(!jH.Go(E.Dg,_.Dg[0]+.5,_.Dg[1]+.5))continue;
_.parent=y;break}}return w}function n(B,c){function t(d,x,f,Q,m){this.x=d;this.y=x;this.B2=f;this.sW=Q;
this.fQ=m}function u(d,lj){return(lj+d)%lj}function v(d,x,f,Q){return d*Q-f*x}function A(d,x,f,Q){return d*f+x*Q}function $(d,x,f){if(d<=f)return d<=x&&x<f;
else return d<=x||x<f}function X(d,x,f){var Q=0;Q+=x*d[0]*x;Q+=x*d[1]*f;Q+=x*d[2];Q+=f*d[3]*x;Q+=f*d[4]*f;
Q+=f*d[5];Q+=d[6]*x;Q+=d[7]*f;Q+=d[8];return Q}function U(d,x,f){return x+d*(f-x)}function w(d,x,f,Q){var m=Math.sign(f-d),H=-Math.sign(Q-x);
return m*(f-d)-H*(Q-x)}function P(d,x){return Math.sqrt(d*d+x*x)}function k(d,x,f,Q,m){var H=1-d;return H*H*H*x+3*(H*H*d)*f+3*(d*d*H)*Q+d*d*d*m}function T(d,x,f,Q,m,H,S,R){var I=v(d,x,S,R),D=v(f,Q,S,R),G=v(m,H,S,R),C=I-2*D+G,O=-2*I+2*D,Y=I,h=O*O-4*C*Y;
if(C==0||h<0)return-1;var r=Math.sqrt(h),W=(-O+r)/(2*C),N=(-O-r)/(2*C);if(W>=0&&W<=1)return W;else if(N>=0&&N<=1)return N;
else return-1}function Z(F){var g,d,x;F.ug=F.Dg[0];F.aDs=F.Dg[1];F.BS=[];var f=F.BS;f.push(new t(0,0,0,0,0));
for(g=0;g<F.R6;g++){d=F.Dg[g<<1]-F.ug;x=F.Dg[(g<<1)+1]-F.aDs;f.push(new t(f[g].x+d,f[g].y+x,f[g].B2+d*x,f[g].sW+d*d,f[g].fQ+x*x))}}function i(F){var lj=F.R6,d=F.Dg,x,f=new Array(lj),Q=new Array(lj),m=new Array(4),H,S,R,I,D,G,C,O,Y,h,r,g,W,N,o,K,l,aV,j=0;
F.hw=new Array(lj);for(g=lj-1;g>=0;g--){if(d[g<<1]!=d[j<<1]&&d[(g<<1)+1]!=d[(j<<1)+1])j=g+1;Q[g]=j}for(g=lj-1;
g>=0;g--){var M=u(g+1,lj)<<1;m[0]=m[1]=m[2]=m[3]=0;x=(3+3*(d[M]-d[g<<1])+(d[M+1]-d[(g<<1)+1]))/2;m[x]++;
H=0;S=0;R=0;I=0;j=Q[g];N=g;while(1){r=0;x=(3+3*Math.sign(d[j*2]-d[N*2])+Math.sign(d[j*2+1]-d[N*2+1]))/2;
m[x]++;if(m[0]&&m[1]&&m[2]&&m[3]){f[g]=N;r=1;break}Y=d[j*2]-d[g*2];h=d[j*2+1]-d[g*2+1];if(v(H,S,Y,h)<0||v(R,I,Y,h)>0){break}if(Math.abs(Y)<=1&&Math.abs(h)<=1){}else{D=Y+(h>=0&&(h>0||Y<0)?1:-1);
G=h+(Y<=0&&(Y<0||h<0)?1:-1);if(v(H,S,D,G)>=0){H=D;S=G}D=Y+(h<=0&&(h<0||Y<0)?1:-1);G=h+(Y>=0&&(Y>0||h<0)?1:-1);
if(v(R,I,D,G)<=0){R=D;I=G}}N=j;j=Q[N];if(!$(j,g,N)){break}}if(r==0){C=Math.sign(d[j*2]-d[N*2]);O=Math.sign(d[j*2+1]-d[N*2+1]);
Y=d[N*2]-d[g*2];h=d[N*2+1]-d[g*2+1];o=v(H,S,Y,h);K=v(H,S,C,O);l=v(R,I,Y,h);aV=v(R,I,C,O);W=1e7;if(K<0){W=Math.floor(o/-K)}if(aV>0){W=Math.min(W,Math.floor(-l/aV))}f[g]=u(N+W,lj)}}W=f[lj-1];
F.hw[lj-1]=W;for(g=lj-2;g>=0;g--){if($(g+1,f[g],W)){W=f[g]}F.hw[g]=W}for(g=lj-1;$(u(g+1,lj),W,F.hw[g]);
g--){F.hw[g]=W}}function V(F){function d(F,g,x){var lj=F.R6,Y=F.Dg,h=F.BS,r,W,N,o,K,Q,l,aV,O,j,M,s,l2,gm,iz=0;
if(x>=lj){x-=lj;iz=1}if(iz==0){r=h[x+1].x-h[g].x;W=h[x+1].y-h[g].y;o=h[x+1].sW-h[g].sW;N=h[x+1].B2-h[g].B2;
K=h[x+1].fQ-h[g].fQ;Q=x+1-g}else{r=h[x+1].x-h[g].x+h[lj].x;W=h[x+1].y-h[g].y+h[lj].y;o=h[x+1].sW-h[g].sW+h[lj].sW;
N=h[x+1].B2-h[g].B2+h[lj].B2;K=h[x+1].fQ-h[g].fQ+h[lj].fQ;Q=x+1-g+lj}M=(Y[g<<1]+Y[x<<1])/2-Y[0];s=(Y[(g<<1)+1]+Y[(x<<1)+1])/2-Y[1];
gm=Y[x<<1]-Y[g<<1];l2=-(Y[(x<<1)+1]-Y[(g<<1)+1]);l=(o-2*r*M)/Q+M*M;aV=(N-r*s-W*M)/Q+M*s;O=(K-2*W*s)/Q+s*s;
j=l2*l2*l+2*l2*gm*aV+gm*gm*O;return Math.sqrt(j)}var g,x,f,Q,lj=F.R6,m=new Array(lj+1),H=new Array(lj+1),S=new Array(lj),R=new Array(lj+1),I=new Array(lj+1),D=new Array(lj+1),G,C,O;
for(g=0;g<lj;g++){O=u(F.hw[u(g-1,lj)]-1,lj);if(O==g){O=u(g+1,lj)}if(O<g){S[g]=lj}else{S[g]=O}}x=1;for(g=0;
g<lj;g++){while(x<=S[g]){R[x]=g;x++}}g=0;for(x=0;g<lj;x++){I[x]=g;g=S[g]}I[x]=lj;f=x;g=lj;for(x=f;x>0;
x--){D[x]=g;g=R[g]}D[0]=0;m[0]=0;for(x=1;x<=f;x++){for(g=D[x];g<=I[x];g++){C=-1;for(Q=I[x-1];Q>=R[g];
Q--){G=d(F,Q,g)+m[Q];if(C<0||G<C){H[g]=Q;C=G}}m[g]=C}}F.A=f;F.acQ=new Array(f);for(g=lj,x=f-1;g>0;x--){g=H[g];
F.acQ[x]=g}}function _(F){function d(F,g,G,S,R,dC){var lj=F.R6,dL=F.BS,cP=0,O;while(G>=lj){G-=lj;cP+=1}while(g>=lj){g-=lj;
cP-=1}while(G<0){G+=lj;cP-=1}while(g<0){g+=lj;cP+=1}var id=dL[G+1].x-dL[g].x+cP*dL[lj].x,jR=dL[G+1].y-dL[g].y+cP*dL[lj].y,hC=dL[G+1].sW-dL[g].sW+cP*dL[lj].sW,eJ=dL[G+1].B2-dL[g].B2+cP*dL[lj].B2,el=dL[G+1].fQ-dL[g].fQ+cP*dL[lj].fQ,C=G+1-g+cP*lj;
S[dC]=id/C;S[dC+1]=jR/C;var eu=(hC-id*id/C)/C,jY=(eJ-id*jR/C)/C,fN=(el-jR*jR/C)/C,jC=(eu+fN+Math.sqrt((eu-fN)*(eu-fN)+4*jY*jY))/2;
eu-=jC;fN-=jC;if(Math.abs(eu)>=Math.abs(fN)){O=Math.sqrt(eu*eu+jY*jY);if(O!=0){R[dC]=-jY/O;R[dC+1]=eu/O}}else{O=Math.sqrt(fN*fN+jY*jY);
if(O!=0){R[dC]=-fN/O;R[dC+1]=jY/O}}if(O==0){R[dC]=R[dC+1]=0}}var x=F.A,f=F.acQ,lj=F.R6,Q=F.Dg,m=F.ug,H=F.aDs,S=new Array(x*2),R=new Array(x*2),I=new Array(x),D=new Array(3),g,G,C,O,W,N,o,K,l,aV,j;
F.CP=new J(x);for(g=0;g<x;g++){G=f[u(g+1,x)];G=u(G-f[g],lj)+f[g];S[g<<1]=0;S[(g<<1)+1]=0;R[g<<1]=0;R[(g<<1)+1]=0;
d(F,f[g],G,S,R,g<<1)}for(g=0;g<x;g++){I[g]=[0,0,0,0,0,0,0,0,0];var Y=R[g<<1]*R[g<<1]+R[(g<<1)+1]*R[(g<<1)+1],h=1/Y;
if(Y!=0){D[0]=R[(g<<1)+1];D[1]=-R[g<<1];D[2]=-D[1]*S[(g<<1)+1]-D[0]*S[g<<1];for(O=0;O<3;O++){I[g][O*3+0]=D[O]*D[0]*h;
I[g][O*3+1]=D[O]*D[1]*h;I[g][O*3+2]=D[O]*D[2]*h}}}var r=[0,0,0,0,0,0,0,0,0];for(g=0;g<x;g++){r[0]=r[1]=r[2]=r[3]=r[4]=r[5]=r[6]=r[7]=r[8]=r[9]=0;
var M=Q[f[g]<<1]-m,s=Q[(f[g]<<1)+1]-H,l2=0,gm=0;G=u(g-1,x);for(O=0;O<9;O+=3){r[O+0]=I[G][O+0]+I[g][O+0];
r[O+1]=I[G][O+1]+I[g][O+1];r[O+2]=I[G][O+2]+I[g][O+2]}while(1){var iz=r[0]*r[4]-r[1]*r[3];if(iz!=0){l2=(-r[2]*r[4]+r[5]*r[0])/iz;
gm=(r[2]*r[3]-r[5]*r[0])/iz;break}if(r[0]>r[4]){D[0]=-r[1];D[1]=r[0]}else if(r[4]){D[0]=-r[4];D[1]=r[3]}else{D[0]=1;
D[1]=0}var Y=D[0]*D[0]+D[1]*D[1],h=1/Y;D[2]=-D[1]*s-D[0]*M;for(O=0;O<3;O++){r[O*3+0]+=D[O]*D[0]*h;r[O*3+1]+=D[O]*D[1]*h;
r[O*3+2]+=D[O]*D[2]*h}}W=Math.abs(l2-M);N=Math.abs(gm-s);if(W<=.5&&N<=.5){F.CP.b7[g<<1]=l2+m;F.CP.b7[(g<<1)+1]=gm+H;
continue}o=X(r,M,s);l=M;aV=s;if(r[0]!=0){for(j=0;j<2;j++){gm=s-.5+j;l2=-(r[1]*gm+r[2])/r[0];W=Math.abs(l2-M);
K=X(r,l2,gm);if(W<=.5&&K<o){o=K;l=l2;aV=gm}}}if(r[4]!=0){for(j=0;j<2;j++){l2=M-.5+j;gm=-(r[3]*l2+r[5])/r[4];
N=Math.abs(gm-s);K=X(r,l2,gm);if(N<=.5&&K<o){o=K;l=l2;aV=gm}}}for(O=0;O<2;O++){for(C=0;C<2;C++){l2=M-.5+O;
gm=s-.5+C;K=X(r,l2,gm);if(K<o){o=K;l=l2;aV=gm}}}F.CP.b7[g<<1]=l+m;F.CP.b7[(g<<1)+1]=aV+H}}function y(F){var d=F.CP.s,x=F.CP,g,f,Q,m,H,S,R,I,D;
for(g=0;g<d;g++){f=u(g+1,d);Q=u(g+2,d);var G=x.b7[g<<1],C=x.b7[(g<<1)+1],O=x.b7[Q<<1],Y=x.b7[(Q<<1)+1],h=x.b7[f<<1],r=x.b7[(f<<1)+1],W=U(.5,O,h),N=U(.5,Y,r);
H=w(G,C,O,Y);if(H!=0){m=v(h-G,r-C,O-G,Y-C)/H;m=Math.abs(m);S=m>1?1-1/m:0;S=S*(1/.75)}else{S=4/3}x.$A[f]=S;
var o=3*f<<1;if(S>=c.afQ){x.mz[f]=0;x.GQ[o+0]=x.GQ[o+1]=0;x.GQ[o+2]=h;x.GQ[o+3]=r;x.GQ[o+4]=W;x.GQ[o+5]=N}else{if(S<.55){S=.55}else if(S>1){S=1}var K=.5+.5*S;
x.mz[f]=1;x.GQ[o]=U(K,G,h);x.GQ[o+1]=U(K,C,r);x.GQ[o+2]=U(K,O,h);x.GQ[o+3]=U(K,Y,r);x.GQ[o+4]=W;x.GQ[o+5]=N}x.alpha[f]=S;
x.KV[f]=.5}x.aFp=1}function E(F){function d(){this.Zp=0;this.Dd=0;this.Uo=0;this.Yp=0;this.tC=0;this.t=0;
this.Q5=0;this.alpha=0}function x(F,g,G,i6,kT,l,aV){var Q=F.CP.s,kY=F.CP.GQ,h9=F.CP.b7;if(g==G)return 1;
var bG=g,h=u(g+1,Q),dQ=u(bG+1,Q),eJ=h9[g<<1],el=h9[(g<<1)+1],jn=h9[h<<1],b1=h9[(h<<1)+1],c8=l[dQ];if(c8==0)return 1;
var j_=P(eJ-jn,el-b1);for(bG=dQ;bG!=G;bG=dQ){var dQ=u(bG+1,Q),fQ=u(bG+2,Q),cM=h9[dQ<<1],jK=h9[(dQ<<1)+1],aw=h9[fQ<<1],ez=h9[(fQ<<1)+1];
if(l[dQ]!=c8)return 1;if(Math.sign(v(jn-eJ,b1-el,aw-cM,ez-jK))!=c8)return 1;if(A(jn-eJ,b1-el,aw-cM,ez-jK)<j_*P(cM-aw,jK-ez)*-.999847695156)return 1}var g4=u(g,Q)*3+2<<1,ht=u(g+1,Q)<<1,gx=u(G,Q)<<1,kE=u(G,Q)*3+2<<1,dC=kY[g4],dL=kY[g4+1],kS=h9[ht],h7=h9[ht+1],b7=h9[gx],i7=h9[gx+1],fp=kY[kE],jB=kY[kE+1],j=h9[0],M=h9[1];
g4=G*3+2<<1;var fB=kY[g4],df=kY[g4+1],r=aV[G]-aV[g];r-=v(fB-j,df-M,fB-j,df-M)/2;if(g>=G){r+=aV[Q]}var dt=kS-dC,g5=h7-dL,bR=b7-dC,h$=i7-dL,ih=fp-dC,jt=jB-dL,jN=v(dt,g5,bR,h$),jk=v(dt,g5,ih,jt),gE=v(bR,h$,ih,jt),cW=jN+gE-jk;
if(jk==jN)return 1;var K=gE/(gE-cW),o=jk/(jk-jN),dR=jk*K/2;if(dR==0)return 1;var gV=r/dR,W=2-Math.sqrt(4-gV/.3);
i6.Dd=U(K*W,dC,kS);i6.Uo=U(K*W,dL,h7);i6.Yp=U(o*W,fp,b7);i6.tC=U(o*W,jB,i7);i6.alpha=W;i6.t=K;i6.Q5=o;
kS=i6.Dd;h7=i6.Uo;b7=i6.Yp;i7=i6.tC;i6.Zp=0;for(bG=u(g+1,Q);bG!=G;bG=dQ){dQ=u(bG+1,Q);var gv=h9[bG<<1],ga=h9[(bG<<1)+1],cM=h9[dQ<<1],jK=h9[(dQ<<1)+1];
K=T(kS-dC,h7-dL,b7-kS,i7-h7,fp-b7,jB-i7,cM-gv,jK-ga);if(K<-.5)return 1;var iC=k(K,dC,kS,b7,fp),dI=k(K,dL,h7,i7,jB),j_=P(cM-gv,jK-ga);
if(j_==0)return 1;var fV=v(cM-gv,jK-ga,iC-gv,dI-ga)/j_;if(Math.abs(fV)>kT)return 1;if(A(cM-gv,jK-ga,iC-gv,dI-ga)<0||A(gv-cM,ga-jK,iC-cM,dI-jK)<0){return 1}i6.Zp+=fV*fV}for(bG=g;
bG!=G;bG=dQ){dQ=u(bG+1,Q);var g4=bG*3+2<<1,ht=dQ*3+2<<1,dH=kY[g4],aj=kY[g4+1],cH=kY[ht],ge=kY[ht+1];
K=T(kS-dC,h7-dL,b7-kS,i7-h7,fp-b7,jB-i7,cH-dH,ge-aj);if(K<-.5)return 1;var iC=k(K,dC,kS,b7,fp),dI=k(K,dL,h7,i7,jB),j_=P(cH-dH,ge-aj);
if(j_==0)return 1;var fV=v(cH-dH,ge-aj,iC-dH,dI-aj)/j_,ko=v(cH-dH,ge-aj,h9[dQ<<1]-dH,h9[(dQ<<1)+1]-aj)/j_;
ko*=.75*F.CP.alpha[dQ];if(ko<0){fV=-fV;ko=-ko}if(fV<ko-kT)return 1;if(fV<ko){i6.Zp+=(fV-ko)*(fV-ko)}}return 0}var f=F.CP,Q=f.s,m=f.b7,H=new Array(Q+1),S=new Array(Q+1),R=new Array(Q+1),I=new Array(Q+1),D,g,G,C,O=new d,Y,h,r,W,N,o,K,l=new Array(Q),aV=new Array(Q+1);
for(g=0;g<Q;g++){if(f.mz[g]=="CURVE"){var j=m[u(g-1,Q)<<1],M=m[(u(g-1,Q)<<1)+1],s=m[g<<1],l2=m[(g<<1)+1],gm=m[u(g+1,Q)<<1],iz=m[(u(g+1,Q)<<1)+1];
l[g]=Math.sign(v(s-j,l2-M,gm-s,iz-l2))}else{l[g]=0}}r=0;aV[0]=0;var dC=f.b7[0],dL=f.b7[1];for(g=0;g<Q;
g++){h=u(g+1,Q);if(f.mz[h]=="CURVE"){W=f.alpha[h];var cP=g*3+2<<1,id=h*3+2<<1,jR=f.GQ[cP],hC=f.GQ[cP+1],eJ=m[h<<1],el=m[(h<<1)+1],eu=f.GQ[id],jY=f.GQ[id+1];
r+=.3*W*(4-W)*v(eJ-jR,el-hC,eu-jR,jY-hC)/2;r+=v(jR-dC,hC-dL,eu-dC,jY-dL)/2}aV[g+1]=r}H[0]=-1;S[0]=0;
R[0]=0;for(G=1;G<=Q;G++){H[G]=G-1;S[G]=S[G-1];R[G]=R[G-1]+1;for(g=G-2;g>=0;g--){C=x(F,g,u(G,Q),O,c.aLL,l,aV);
if(C){break}if(R[G]>R[g]+1||R[G]==R[g]+1&&S[G]>S[g]+O.Zp){H[G]=g;S[G]=S[g]+O.Zp;R[G]=R[g]+1;I[G]=O;O=new d}}}D=R[Q];
N=new J(D);o=new Array(D);K=new Array(D);G=Q;for(g=D-1;g>=0;g--){var fN=u(G,Q),jC=g*3+0<<1,kF=fN*3+0<<1;
if(H[G]==G-1){N.mz[g]=f.mz[fN];N.GQ[jC]=f.GQ[kF];N.GQ[jC+1]=f.GQ[kF+1];N.GQ[jC+2]=f.GQ[kF+2];N.GQ[jC+3]=f.GQ[kF+3];
N.GQ[jC+4]=f.GQ[kF+4];N.GQ[jC+5]=f.GQ[kF+5];N.b7[g<<1]=f.b7[fN<<1];N.b7[(g<<1)+1]=f.b7[(fN<<1)+1];N.alpha[g]=f.alpha[fN];
N.$A[g]=f.$A[fN];N.KV[g]=f.KV[fN];o[g]=K[g]=1}else{N.mz[g]="CURVE";N.GQ[jC]=I[G].Dd;N.GQ[jC+1]=I[G].Uo;
N.GQ[jC+2]=I[G].Yp;N.GQ[jC+3]=I[G].tC;N.GQ[jC+4]=f.GQ[kF+4];N.GQ[jC+5]=f.GQ[kF+5];N.b7[g<<1]=U(I[G].Q5,f.GQ[kF+4],m[fN<<1]);
N.b7[(g<<1)+1]=U(I[G].Q5,f.GQ[kF+5],m[(fN<<1)+1]);N.alpha[g]=I[G].alpha;N.$A[g]=I[G].alpha;o[g]=I[G].Q5;
K[g]=I[G].t}G=H[G]}for(g=0;g<D;g++){h=u(g+1,D);N.KV[g]=o[g]/(o[g]+K[h])}N.aFp=1;F.CP=N}for(var g=0;g<B.length;
g++){var F=B[g];Z(F);i(F);V(F);_(F);y(F);if(c.ay6)E(F)}}return{aLn:p,a1N:n}}();jH.cv=function(z,J,p,n){var B={ej:"minority",aAw:n,ay6:!0,afQ:1,aLL:.2},c=jH.aLn(z,J,p,B);
jH.a1N(c,B);return c};jH.Q8=function(z){var J=[];for(var g=0;g<z.length;g++){var p=z[g],n=p.CP,B=["M"],c=[n.GQ[(n.s-1)*6+4],n.GQ[(n.s-1)*6+5]];
for(var t=0;t<n.s;t++){var u=t*6;if(n.mz[t]==1){B.push("C");for(var v=0;v<6;v++)c.push(n.GQ[u+v])}else if(n.mz[t]==0){B.push("L");
for(var v=2;v<4;v++)c.push(n.GQ[u+v])}}B.push("Z");J.push({parent:p.parent,color:p.color,path:{L:c,Ao:B}})}return J};
jH.Go=function(z,J,p){var lj=z.length>>1,n,B=z[2*lj-3]-p,c=z[2*lj-2]-J,t=z[2*lj-1]-p,u=t>B,v=0;for(var g=0;
g<lj;g++){n=c;B=t;c=z[2*g]-J;t=z[2*g+1]-p;if(B==t)continue;u=t>B}for(var g=0;g<lj;g++){n=c;B=t;c=z[2*g]-J;
t=z[2*g+1]-p;if(B<0&&t<0)continue;if(B>0&&t>0)continue;if(n<0&&c<0)continue;if(B==t&&Math.min(n,c)<=0)return!0;
if(B==t)continue;var A=n+(c-n)*-B/(t-B);if(A==0)return!0;if(A>0)v++;if(B==0&&u&&t>B)v--;if(B==0&&!u&&t<B)v--;
u=t>B}return(v&1)==1};jH.fill=function(z,J,p,n){var B=J[z],c=[z],t=0;while(t<c.length){var u=c[t];t++;
J[u]=n;if(J[u-p]==B){c.push(u-p);J[u-p]=254}if(J[u-1]==B){c.push(u-1);J[u-1]=254}if(J[u+1]==B){c.push(u+1);
J[u+1]=254}if(J[u+p]==B){c.push(u+p);J[u+p]=254}}};var iS=function(){function z(A){return Math.max(0,Math.min(1,A))}function J(A,$){var X=$<0?-$:$;
if(A>1)A=.99;A=A*.99;var U=Math.pow(X/5,.16),w=Math.pow(2,X<1?X:1+(X-1)*.8);if($<0)w=1/w;A=U*(1-Math.pow(1-A,w))+(1-U)*A;
return A}function p(A,$){var X=$/100;A=A*.99;A=X*(.5-.5*Math.cos(A*Math.PI))+(1-X)*A;return A}function n(A,$){var X=$*.01,U=Math.abs(X);
if($<0)A=Math.max(0,-U*.33+A*(1+U*.33));else{var w=.25+.15*U;if(A<.25)A*=w/.25;else A=w+(1-w)*((A-.25)/(1-.25))}return A}function B(A,$){if($<0)A=A*(1+862e-6*$);
else A=A*(1+.012*$);return A}var c=a.gr.cW(1,1,1,-.3),t=a.gr.oU(c);function u(A,$,X,U,w,P,k,T,Z){var i=A[X],V=A[X+1],_=A[X+2],y=a.gr.V9(c,[i,V,_,1]);
i=y[0];V=y[1];_=y[2];i=J(i,U);V=J(V,U);_=J(_,U);var y=a.gr.V9(t,[i,V,_,1]);i=y[0];V=y[1];_=y[2];i=z(i);
V=z(V);_=z(_);i=p(i,w);V=p(V,w);_=p(_,w);i=n(i,k);V=n(V,k);_=n(_,k);i=B(i,P);V=B(V,P);_=B(_,P);var E=eW.ajG(i,V,_,T);
i=E[0];V=E[1];_=E[2];i=z(i);V=z(V);_=z(_);if(Z){var F=new Uint8Array(4);F[0]=~~(.5+i*255);F[1]=~~(.5+V*255);
F[2]=~~(.5+_*255);fs.Rm(Z,F,F,new fw(0,0,1,1));i=F[0]/255;V=F[1]/255;_=F[2]/255}$[X]=i;$[X+1]=V;$[X+2]=_}function v(A,$,X,U,w){var P=w.Ex12?w.Ex12.v:0,k=w.Cr12?w.Cr12.v:0,T=w.Wh12?w.Wh12.v:0,Z=w.Bk12?w.Bk12.v:0,i=w.Temp?w.Temp.v:0,V=w.Tint?w.Tint.v:0,_=w.Vibr?w.Vibr.v:0,y=w.Strt?w.Strt.v:0,E=eW.Q$(i,V),F=null;
P+=E.aHq;if(_!=0||y!=0)F=fs.XC("vibA",{Strt:w.Strt,vibrance:w.Vibr});console.log(w);var d=Date.now();
if(U!=A)U.set(A);if(P!=0||k!=0||T!=0||Z!=0||i!=0||V!=0||F){console.log(P,k,T,Z,i,V,F);var x=17,f=1/(x-1),Q=x*x*x,m=new Array(Q*3);
for(var H=0;H<x;H++)for(var S=0;S<x;S++)for(var R=0;R<x;R++){var g=H*x*x+S*x+R,I=g*3;m[I]=H*f;m[I+1]=S*f;
m[I+2]=R*f}for(var g=0;g<Q;g++)u(m,m,g*3,P,k,T,Z,E,F);console.log(Date.now()-d,"making LUT");d=Date.now();
ICC.U.applyLUT(m,x,U,U);console.log(Date.now()-d,"applying LUT");d=Date.now()}var D=(w.Hi12?w.Hi12.v:0)*.01,G=(w.Sh12?w.Sh12.v:0)*.01;
if(D!=0||G!=0){var d=Date.now(),C=!1,O=a.j($*X,32),Y=U.length,h=.3,r=.59,W=.11;for(var g=0;g<Y;g+=4){var N=U[g+0]*h+U[g+1]*r+U[g+2]*W;
O[g>>2]=N<.3?G*3*(.3-N):D*.7*(N-.3)}if(C)console.log(0,Date.now()-d);d=Date.now();a.zM.zH(O,new fw(0,0,$,X),8);
if(C)console.log(1,Date.now()-d);d=Date.now();for(var o=0;o<X;o++)for(var K=0;K<$;K++){var g=o*$+K,l=g*4,aV=1+O[g];
U[l]=z(U[l]*aV);U[l+1]=z(U[l+1]*aV);U[l+2]=z(U[l+2]*aV)}if(C)console.log(2,Date.now()-d,$,X);d=Date.now()}var j=(w.CrTx?w.CrTx.v:0)*.01,M=(w.Cl12?w.Cl12.v:0)*.01,s=(w.Dhze?w.Dhze.v:0)*.01;
if(j!=0||M!=0){var O=a.j($*X,32);for(var g=0;g<U.length;g+=4)O[g>>2]=(U[g+0]+U[g+1]+U[g+2])*.333333;
var l2=O.slice(0);a.zM.zH(l2,new fw(0,0,$,X),16);if(C)console.log(1,Date.now()-d);d=Date.now();for(var o=0;
o<X;o++)for(var K=0;K<$;K++){var g=o*$+K,l=g*4,N=O[g],gm=l2[g],H=U[l],S=U[l+1],R=U[l+2],iz=gm+(N-gm)*(1+j*.3)-N;
H=H+iz;S=S+iz;R=R+iz;H=H*(1+M*(N-gm));S=S*(1+M*(N-gm));R=R*(1+M*(N-gm));U[l]=z(H);U[l+1]=z(S);U[l+2]=z(R)}}var dC=$*X;
if(s!=0){var d=Date.now(),dL=a.j(dC),jR=0;for(var g=0;g<dC;g++){var l=g<<2;dL[g]=~~(255*Math.min(U[l],U[l+1],U[l+2]))}var cP=Math.round(Math.min($,X)/80),id=dL.slice(0);
a._J.Oj(id,dL,$,X,cP);a.zM.zH(dL,new fw(0,0,$,X),cP);var hC=-1;for(var g=0;g<dC;g++)if(dL[g]>hC){hC=dL[g];
jR=g}var eJ=U[jR*4],el=U[jR*4+1],eu=U[jR*4+2],jY=(eJ+el+eu)/3;for(var g=0;g<dC;g++){var l=g*4,fN=dL[g]/255,jC=1-s*fN,kF=1/Math.max(jC,.1);
U[l]=z((U[l]-eJ)*kF+eJ);U[l+1]=z((U[l+1]-el)*kF+el);U[l+2]=z((U[l+2]-eu)*kF+eu)}}}return v}();function e0(){}e0.yi=function(z,J){var p=new Uint8Array(z),n=0,B=J.split("/").pop().split(".")[0];
function c(T){for(var g=0;g<T.length;g++)T[g].v.Nm.v=B+"/"+T[g].v.Nm.v.split("/").pop()}var t={EO:[],bG:[],list:[]},u=e.Bq(p,n);
n+=2;if(u<=2){t=e0.ajI(p);c(t.list);return t}var v=e.Bq(p,n);n+=2;var A=e.RM(p,n,8);n+=8;var $=e.fy(p,n);
n+=4;if($>0)t.EO=e0.aqu(p,n,$,v,u);n+=$;var X=e.RM(p,n,8);n+=8;var U=e.fy(p,n);n+=4;if(U>0)t.bG=dE.Mo(p,n,U);
n+=U;var w=e.RM(p,n,8);n+=8;var P=e.fy(p,n);n+=4;if(P>0){var k={};a2.JP(p,k,n+4);t.list=k.Brsh.v}n+=P;
var T=t.list;for(var g=0;g<T.length;g++){dT.br.check(T[g].v)}c(T);return t};e0.FX=function(z,J){z.v.Nm.v=J};
e0.ajI=function(z){var J={EO:[],bG:[],list:[]},p=0,n=e.Bq(z,p);p+=2;var B=e.Bq(z,p);p+=2;for(var g=0;
g<B;g++){var c=e.Bq(z,p);p+=2;var t=e.fy(z,p);p+=4;var u=p;if(c==2){var v={};J.EO.push(v);var A=e.fy(z,u);
u+=4;var $=e.Bq(z,u);u+=2;if(n==2){var X=e.nX(z,u);u+=4+X.length*2+2}v.id=b$.rR()+"-d71c-11e5-b1ae-a548a96e5f9f";
u++;u+=8;v.Dm=e.LM(z,u);u+=16;var U=e.Bq(z,u);u+=2;var w=z[u];u++;var P=hD.U8(!1,U,z,v.Dm.r,v.Dm.$,u,w);
P=a.hg(P,8);e0.a2C(v,P);var k=dT.L3(v.id),T=k.Brsh.v;T.Dmtr.v.val=v.Dm.r;T.Spcn.v.val=$;J.list.push({t:"Objc",v:k})}p+=t}return J};
e0.oW=function(z){var J=new fJ,p=0,n=0;e.qj(J,p,6);p+=2;e.qj(J,p,2);p+=2;var B={},c=[],t={},u=[];for(var g=0;
g<z.list.length;g++){var v=z.list[g].v,A=v.Brsh.v;if(A.classID=="sampledBrush")B[A.sampledData.v]=!0;
if(v.Txtr)t[v.Txtr.v.Idnt.v]=!0}for(var g=0;g<z.EO.length;g++)if(B[z.EO[g].id])c.push(z.EO[g]);for(var g=0;
g<z.bG.length;g++)if(B[z.bG[g].id])u.push(z.bG[g]);e.fn(J,p,"8BIMsamp");p+=8;p+=4;n=p;p=e0.afw(J,p,c);
e.kS(J,n-4,p-n);e.fn(J,p,"8BIMpatt");p+=8;p+=4;n=p;p=dE.kl(J,p,u);e.kS(J,n-4,p-n);var $=a.G(z.list);
for(var g=0;g<$.length;g++)$[g].v.Nm.v=$[g].v.Nm.v.split("/").pop();var X={classID:"null",Brsh:{t:"VlLs",v:$}};
e.fn(J,p,"8BIMdesc");p+=8;p+=4;n=p;e.kS(J,p,16);p+=4;p+=a2.lT(J,X,p);e.kS(J,n-4,p-n);return J.data.slice(0,p).buffer};
e0.aqu=function(z,J,p,n,B){var c=e.fy,t=e.LM,u=J+p,v=[];while(J<u){var A={};v.push(A);var $=c(z,J);J+=4;
var X=J,U=e.Nj(z,J);J+=U.length;A.id=U.vc;if(n==1){J+=9;A.Dm=t(z,J);J+=16}else{J+=7;var w=c(z,J);J+=4;
A.Dm=t(z,J);J+=16;var P=c(z,J);J+=4;J+=P*4;var k=c(z,J);J+=4;var T=c(z,J);J+=4;var Z=t(z,J);J+=16}var i=e.Bq(z,J);
J+=2;var V=z[J];J+=1;var _=hD.U8(!1,i,z,A.Dm.r,A.Dm.$,J,V);_=a.hg(_,8);e0.a2C(A,_);if($%4!=0)$+=4-$%4;
J=X+$}return v};e0.a2C=function(z,J){var p=z.Dm.P();p.x=p.y=0;z.kR=[J,p]};e0.afw=function(z,J,p){var n=e.kS,B=e.D4;
for(var g=0;g<p.length;g++){var c=p[g],t=J+4,v=56,$=1;J+=4;e.a8(z,J,c.id);J+=c.id.length+2;z.FA(J,1);
z.data[J]=1;J+=3;n(z,J,3);J+=4;var u=J;J+=4;B(z,J,c.Dm);J+=16;n(z,J,v);J+=4;J+=v*4;n(z,J-4,1);var A=J;
J+=4;n(z,J,8);J+=4;B(z,J,c.Dm);J+=16;e.qj(z,J,8);J+=2;z.FA(J,1);z.data[J]=$;J++;var X=c.kR[0];z.FA(J,c.Dm.C()*2);
J=hD.rs(!1,X,z.data,c.Dm.r,c.Dm.$,J,$);z.FA(J,8);J+=8;var U=J-t;n(z,t-4,U);n(z,u,U-49);n(z,A,U-305);
if(U%4!=0)J+=4-U%4}return J};function a5(){}a5.yi=function(z,J){var p=new Uint8Array(z),n=[],B=0,c=e.Bq(p,B);
B+=2;if(c!=4){throw"Unknown version of curves: "+c}var t=e.Bq(p,B);B+=2;for(var g=0;g<t;g++){var u=a5.awq(p,B);
B+=2+2*u.length;n.push(u)}if(B!=p.length){var v=e.RM(p,B,4);B+=4;var A=e.Bq(p,B);B+=2;var $=e.Bq(p,B);
B+=2;if($!=0)throw"extra curves for channels"}var X=a5.a0F(n,0);X.presetKind={t:"long",v:3};X.presetFileName={t:"TEXT",v:J.split("/").pop().split(".")[0]};
return[X]};a5.Pt=function(z,J,p,n){var B=n?e.gm:e.fy,c=J,t=[],u=z[J];J+=3;var v=B(z,J);J+=4;for(var g=0;
g<4;g++){var A=v>>>g&1;if(A){if(u==0){var $=a5.awq(z,J,n);J+=2+2*$.length}else{var $=a5.axW(z,J);J+=256}t.push($)}else t.push(u==0?[0,0,255,255]:a5.acc())}var X=a5.a0F(t,u);
return X};a5.a0F=function(z,J){var p=em.J0("curv");for(var g=0;g<4;g++){if(J==0){var n=z[g],B=[];for(var c=0;
c<n.length;c+=2)B.push(a.kC.YL(n[c],n[c+1],!0));a5.m9(p,g,B)}else a5.m9(p,g,z[g])}return p};a5.y$=function(z,J,p){var n=[];
for(var g=0;g<4;g++){var B=a5.FP(p,g);if(B.length==256)n.push(B);else{var c=[];for(var t=0;t<B.length;
t++)c.push(B[t].v.Hrzn.v,B[t].v.Vrtc.v);n.push(c)}}var u=J,v=n[0].length==256?1:0;z.FA(J,3);z.data[J]=v;
z.data[J+1]=0;z.data[J+2]=1;J+=3;e.kS(z,J,15);J+=4;for(var g=0;g<4;g++){var A=n[g];if(v==0){a5.a4I(z,J,A);
J+=2+2*A.length}else{a5.aoc(z,J,A);J+=256}}return J-u};a5.acc=function(){var z=[];for(var g=0;g<256;
g++)z.push(g);return z};a5.m9=function(z,J,p){var n=f8.H9("CrvA",J);if(p.length<256)n.Crv={t:"VlLs",v:p};
else{n.Mpng={t:"VlLs",v:[]};for(var g=0;g<256;g++)n.Mpng.v[g]={t:"long",v:p[g]}}n={t:"Objc",v:n};if(z.Adjs==null)z.Adjs={t:"VlLs",v:[]};
var B=z.Adjs.v,c=f8.N1(B,J);if(c==-1)B.push(n);else B[c]=n};a5.FP=function(z,J){var p=z.Adjs?z.Adjs.v:[],n=f8.N1(p,J);
if(n==-1){if(p.length==0||p[0].v.Crv)return[a.kC.YL(0,0,!0),a.kC.YL(255,255,!0)];if(p[0].v.autoMachineLearning||p[0].v.AuCo)return[a.kC.YL(0,0,!0),a.kC.YL(128,160,!0),a.kC.YL(255,255,!0)];
var B=[];for(var g=0;g<256;g++)B.push(g);return B}var c=p[n].v;if(c.Crv)return c.Crv.v;if(c.Mpng){var B=[];
for(var g=0;g<256;g++)B.push(c.Mpng.v[g].v);return B}return[a.kC.YL(0,0,!0),a.kC.YL(255,255,!0)]};a5.awq=function(z,J,p){var n=p?e.Ei:e.Bq,B=[],c=n(z,J);
J+=2;for(var t=0;t<c;t++){var u=n(z,J);J+=2;var v=n(z,J);J+=2;B.push(v,u)}return B};a5.a4I=function(z,J,p){var n=p.length/2;
e.qj(z,J,n);J+=2;for(var B=0;B<n;B++){e.qj(z,J,p[B*2+1]);J+=2;e.qj(z,J,p[B*2+0]);J+=2}};a5.axW=function(z,J){var p=[];
for(var g=0;g<256;g++)p.push(z[J+g]);return p};a5.aoc=function(z,J,p){z.FA(J,256);for(var g=0;g<256;
g++)z.data[J+g]=p[g]};function eP(){}eP.Pt=function(z,J,p,n){var B={},c=n?e.Ei:e.Bq,t=n?e._4:e.uf,u=c(z,J);
J+=2;B.wU=z[J]==1;J++;J++;B.o0=[t(z,J),t(z,J+2),t(z,J+4)];J+=6;B.$L=[t(z,J),t(z,J+2),t(z,J+4)];J+=6;
B.Dt=[];for(var g=0;g<6;g++){var v={};v.RO=[t(z,J),t(z,J+2),t(z,J+4),t(z,J+6)];J+=8;v.pm=[t(z,J),t(z,J+2),t(z,J+4)];
J+=6;B.Dt.push(v)}var A=em.J0("hue2"),$=B;if(A.Clrz==null)A.Clrz={t:"bool",v:!1};A.Clrz.v=$.wU;for(var g=0;
g<7;g++){var X=g==0?$.wU?$.o0:$.$L:$.Dt[g-1];eP.m9(A,g,X)}return A};eP.azn=function(z){return{classID:"Hst2",H:{t:"long",v:z[0]},Strt:{t:"long",v:z[1]},Lght:{t:"long",v:z[2]}}};
eP.N1=function(z,J){for(var g=0;g<z.length;g++){var p=z[g].v.LclR;if(J==0&&p==null||p!=null&&p.v==J)return g}return-1};
eP.m9=function(z,J,p){var n=J==0?p:p.pm,B=eP.azn(n);if(J!=0){var c=p.RO;B.LclR={t:"long",v:J},B.BgnR={t:"long",v:c[0]};
B.BgnS={t:"long",v:c[1]};B.EndS={t:"long",v:c[2]};B.EndR={t:"long",v:c[3]}}B={t:"Objc",v:B};var t=z.Adjs.v,u=eP.N1(t,J);
if(u==-1)t.push(B);else t[u]=B};eP.FP=function(z,J){var p=z.Adjs.v,n=eP.N1(p,J);if(n==-1){if(J==0)return[0,0,0];
else return[{RO:[315,345,15,45],pm:[0,0,0]},{RO:[15,45,75,105],pm:[0,0,0]},{RO:[75,105,135,165],pm:[0,0,0]},{RO:[135,165,195,225],pm:[0,0,0]},{RO:[195,225,255,285],pm:[0,0,0]},{RO:[255,285,315,345],pm:[0,0,0]}][J-1]}var B=p[n].v,c=[B.H.v,B.Strt.v,B.Lght.v];
if(J==0)return c;return{pm:c,RO:[B.BgnR.v,B.BgnS.v,B.EndS.v,B.EndR.v]}};eP.y$=function(z,J,p){var n={wU:p.Clrz?p.Clrz.v:!1,Dt:[]};
n.o0=n.$L=eP.FP(p,0);for(var g=1;g<7;g++)n.Dt.push(eP.FP(p,g));var B=2+2+12+6*14,c=z.data;z.FA(J,B);
e.Gg(c,J,2);J+=2;c[J]=n.wU?1:0;J++;J++;e.GW(c,J+0,n.o0[0]);e.GW(c,J+2,n.o0[1]);e.GW(c,J+4,n.o0[2]);J+=6;
e.GW(c,J+0,n.$L[0]);e.GW(c,J+2,n.$L[1]);e.GW(c,J+4,n.$L[2]);J+=6;for(var g=0;g<6;g++){var t=n.Dt[g].RO,u=n.Dt[g].pm;
e.GW(c,J+0,t[0]);e.GW(c,J+2,t[1]);e.GW(c,J+4,t[2]);e.GW(c,J+6,t[3]);J+=8;e.GW(c,J+0,u[0]);e.GW(c,J+2,u[1]);
e.GW(c,J+4,u[2]);J+=6}return B};function f8(){}f8.yi=function(z,J){var p=new Uint8Array(z),n=2,B=J?e.Ei:e.Bq,c=[];
for(var g=0;g<29;g++){var t=[];c.push(t);for(var u=0;u<5;u++)t.push(B(p,n+g*10+u*2))}n+=29*10;if(n<p.length){var v=e.W2(p,n,J);
n+=4;var A=B(p,n);n+=2;var $=B(p,n);n+=2;var X=$-29;for(var g=0;g<X;g++){var t=[];c.push(t);for(var u=0;
u<5;u++)t.push(B(p,n+g*10+u*2))}}var U=em.J0("levl");for(var g=0;g<4;g++)f8.m9(U,g,c[g]);return U};f8.H9=function(z,g){var J=["Cmps","Rd","Grn","Bl"],p={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:J[g]}}]};
return{classID:z,Chnl:p}};f8.N1=function(z,J){var p={Cmps:0,Rd:1,Grn:2,Bl:3};for(var g=0;g<z.length;
g++){var n=z[g].v,B=p[n.Chnl.v[0].v.enum];if(B==J)return g}return-1};f8.m9=function(z,J,p){var n=f8.H9("LvlA",J);
n.Inpt={t:"VlLs",v:[{t:"long",v:p[0]},{t:"long",v:p[1]}]};n.Otpt={t:"VlLs",v:[{t:"long",v:p[2]},{t:"long",v:p[3]}]};
n.Gmm={t:"doub",v:p[4]/100};n={t:"Objc",v:n};var B=z.Adjs.v,c=f8.N1(B,J);if(c==-1)B.push(n);else B[c]=n};
f8.FP=function(z,J){var p=[0,255,0,255,100],n=z.Adjs.v,B=f8.N1(n,J);if(B==-1)return p;var c=n[B].v;if(c.Inpt){p[0]=c.Inpt.v[0].v;
p[1]=c.Inpt.v[1].v}if(c.Otpt){p[2]=c.Otpt.v[0].v;p[3]=c.Otpt.v[1].v}if(c.Gmm){p[4]=Math.round(c.Gmm.v*100)}return p};
f8.oW=function(z,J){var p=[],n=0;for(var g=0;g<4;g++)p.push(f8.FP(J,g));while(p.length<29)p.push([0,255,0,255,100]);
z.FA(0,2+10*29);e.Gg(z.data,n,2);n+=2;for(var g=0;g<29;g++){var B=p[g];for(var c=0;c<5;c++)e.Gg(z.data,n+g*10+c*2,B[c])}n+=29*10;
if(p.length==29)return n;z.FA(n,8+10*(p.length-29));e.CR(z.data,n,"Lvls");n+=4;e.Gg(z.data,n,3);n+=2;
e.Gg(z.data,n,p.length);n+=2;var t=p.length-29;for(var g=0;g<t;g++){var B=p[29+g];for(var c=0;c<5;c++)e.Gg(z.data,n+g*10+c*2,B[c])}n+=10*t;
return n};function d8(){}d8.yi=function(z,J){var p=new Uint8Array(z),n=2,B=J.split("/").pop().split(".")[0],c={hx:[],Nu:[]},t=e.RM(p,n,4);
n+=4;var u=e.Bq(p,n);n+=2;var v=e.fy(p,n);n+=4;c.hx=dE.Mo(p,n,v);n+=v;var A=e.fy(p,n);n+=4;for(var g=0;
g<A;g++){var $=e.fy(p,n);n+=4;var X=n,U={wl:{},pY:{}};c.Nu.push(U);n+=4;n+=a2.JP(p,U.wl,n);U.wl.Nm.v=B+"/"+U.wl.Nm.v.split("=").pop();
n+=4;n+=a2.JP(p,U.pY,n);n=X+$;var w=U.pY.blendOptions,P=U.pY.Lefx;if(w&&Object.keys(w.v).length>1){}if(P){if(P.v.masterFXSwitch==null)P.v.masterFXSwitch={t:"bool",v:!0};
bp._w(P.v)}}return c};d8.FX=function(z,J){z.wl.Nm.v=J};d8.oW=function(z){var J=new fJ,p=0;e.qj(J,p,2);
p+=2;e.fn(J,p,"8BSL");p+=4;e.qj(J,p,3);p+=2;var n=p;p+=4;p=dE.kl(J,p,z.hx);e.kS(J,n,p-n-4);var B=z.Nu.length;
e.kS(J,p,B);p+=4;for(var g=0;g<B;g++){p+=4;var c=p,t=z.Nu[g];e.kS(J,p,16);p+=4;var u=t.wl.Nm.v;t.wl.Nm.v=t.wl.Nm.v.split("/").pop();
p+=a2.lT(J,t.wl,p);t.wl.Nm.v=u;var v=t.pY.Lefx;if(v){t.pY.Lefx=a.G(v);bp._3(t.pY.Lefx.v)}e.kS(J,p,16);
p+=4;p+=a2.lT(J,t.pY,p);if(v)t.pY.Lefx=v;e.kS(J,c-4,p-c)}return J.data.slice(0,p).buffer};function ey(){}ey.Pt=function(z,J,p,n){var B=n?e.Ei:e.Bq,c=n?e._4:e.uf,t=B(z,J);
J+=2;var u={};u.By=B(z,J)==1;J+=2;u.Tl=[];for(var g=0;g<10;g++){var v=[];u.Tl.push(v);for(var A=0;A<4;
A++)v.push(c(z,J+A*2));J+=8}var $=em.J0("selc");$.Mthd.v.CrcM=u.By?"Absl":"Rltv";for(var g=1;g<10;g++)ey.m9($,g-1,u.Tl[g]);
return $};ey.bt="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");ey.H9=function(z,g){var J=["Cmps","Rd","Grn","Bl"],p={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:J[g]}}]};
return{classID:z,Chnl:p}};ey.N1=function(z,J){var p=ey.bt;for(var g=0;g<z.length;g++){var n=z[g].v,B=p.indexOf(n.Clrs.v.Clrs);
if(B==J)return g}return-1};ey.m9=function(z,J,p){var n=["Cyn","Mgnt","Ylw","Blck"],B={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:ey.bt[J]}}};
for(var c=0;c<4;c++)B[n[c]]={t:"UntF",v:{type:"#Prc",val:p[c]}};B={t:"Objc",v:B};var t=z.ClrC.v,u=ey.N1(t,J);
if(u==-1)t.push(B);else t[u]=B};ey.FP=function(z,J){var p=[0,0,0,0],n=z.ClrC.v,B=ey.N1(n,J);if(B==-1)return p;
var c=["Cyn","Mgnt","Ylw","Blck"];for(var g=0;g<4;g++)if(n[B].v[c[g]])p[g]=n[B].v[c[g]].v.val;return p};
ey.y$=function(z,J,p){var n={By:p.Mthd.v.CrcM=="Absl",Tl:[[0,0,0,0]]};for(var g=0;g<9;g++)n.Tl.push(ey.FP(p,g));
z.FA(J,84);e.Gg(z.data,J,1);J+=2;e.Gg(z.data,J,n.By?1:0);J+=2;for(var g=0;g<10;g++){var B=n.Tl[g];for(var c=0;
c<4;c++)e.GW(z.data,J+c*2,B[c]);J+=8}return 84};function iV(){}iV.J0=function(){return{J4:new fw(0,0,50,50),wl:"",vS:"play",u:a.z.dZ.AB([.1,.1,.9,.5,.1,.9],0)}};
iV.yi=function(z,J){z=new Uint8Array(z);var p=0,n=[],B=J.split("/").pop().split(".")[0],c=Date.now(),t=e.RM(z,0,4);
p+=4;var u=e.fy(z,p);p+=4;var v=e.fy(z,p);p+=4;for(var g=0;g<v;g++){var A=e.nX(z,p);p+=A.length*2+4+2;
if((A.length&1)==0)p+=2;p=iV.aIu(z,p,A,n);n[g].vS=B+"/"+n[g].vS}return n};iV.aIu=function(z,J,p,n){var B=e.fy(z,J);
J+=4;var c=e.fy(z,J);J+=4;var t=J,u=e.Nj(z,t).vc;t+=u.length+1;var v=e.LM(z,t);t+=16;var A=iV.uG(z,t,c-(t-J)),$=a.z.hh(A),X=a.b.yq($),U=1/X.r,w=1/X.$;
a.z.Gn(A,new fA(U,0,0,w,-X.x*U,-X.y*w));n.push({vS:p,wl:u,u:A,J4:v});J+=c;return J};iV.FX=function(z,J){z.vS=J};
iV.oW=function(z){var J=new fJ,p=0;e.fn(J,p,"cush");p+=4;e.kS(J,p,2);p+=4;e.kS(J,p,z.length);p+=4;for(var g=0;
g<z.length;g++){var n=z[g],B=n.vS.split("/").pop()+"\0";e.A4(J,p,B);p+=4+B.length*2;if((B.length&1)==1)p+=2;
e.kS(J,p,1);p+=4;p+=4;var c=p;e.a8(J,p,n.wl);p+=n.wl.length+1;e.D4(J,p,n.J4);p+=16;J.FA(p,n.u.length*26);
iV.hU(J.data,p,n.u,1,1);p+=n.u.length*26;var t=p-c;if((t&3)!=0)t+=4-(t&3);e.kS(J,c-4,t);p=c+t}return J.data.slice(0,p).buffer};
iV.a5K=function(z){var J=[];for(var g=0;g<z.length;g++){var p=z[g],n=p.I,B={type:n};J.push(B);if(n==6){}else if(n==8)B.all=p.all;
else if(n==0||n==3){B.length=p.length;B.boolop=p.j1;B.frule=p.VR;B.prmA=p.RX;B.prmB=p.Zt}else{B.c=[p.FV.x,p.FV.y,p.cy.x,p.cy.y,p.M3.x,p.M3.y]}}return J};
iV.a0p=function(z){var J=[];for(var g=0;g<z.length;g++){var p=z[g],n=p.type,B={I:n};J.push(B);if(n==6){}else if(n==8)B.all=p.all;
else if(n==0||n==3){B.length=p.length;B.j1=p.boolop;B.VR=p.frule;B.RX=p.prmA;B.Zt=p.prmB}else{var c=p.c;
B.FV=new i_(c[0],c[1]);B.cy=new i_(c[2],c[3]);B.M3=new i_(c[4],c[5])}}return J};iV.uG=function(z,J,p,n,B,c){if(n==null)n=1;
if(B==null)B=1;var t=c?e.arw:e.ami;function u(i,V,_){var y=t(i,V)*_,E=Math.round(y);return Math.abs(y-E)<1e-4?E:y}var v=c?e._4:e.uf,A=c?e.gm:e.fy,$=[],X=Math.floor(p/26);
for(var g=0;g<X;g++){var U=J+g*26,w={},P=0;$.push(w);w.I=v(z,U);U+=2;if(w.I==6){P=24}if(w.I==8){w.all=v(z,U);
U+=2;P=22}if(w.I==0||w.I==3){w.length=v(z,U);U+=2;w.j1=v(z,U);U+=2;w.VR=v(z,U);U+=2;w.RX=A(z,U);U+=4;
w.Zt=A(z,U);U+=4;P=10}if(w.I==1||w.I==2||w.I==4||w.I==5){var k,T;T=u(z,U,B);U+=4;k=u(z,U,n);U+=4;w.FV=new i_(k,T);
T=u(z,U,B);U+=4;k=u(z,U,n);U+=4;w.cy=new i_(k,T);T=u(z,U,B);U+=4;k=u(z,U,n);U+=4;w.M3=new i_(k,T);P=0}for(var Z=0;
Z<P;Z++)if(z[U+Z]!=0){console.log("Unexpected non-zero byte!",w,Z,z[U+Z])}}return $};iV.hU=function(z,J,p,n,B){var c=e.GW,t=e.aIh,u=p.length;
for(var g=0;g<u;g++){var v=J+g*26,A=p[g];c(z,v,A.I);v+=2;if(A.I==6){}if(A.I==8)c(z,v,A.all);if(A.I==0||A.I==3){c(z,v,A.length);
v+=2;c(z,v,A.j1);v+=2;c(z,v,A.VR);v+=2}if(A.I==1||A.I==2||A.I==4||A.I==5){t(z,v,A.FV.y/B);v+=4;t(z,v,A.FV.x/n);
v+=4;t(z,v,A.cy.y/B);v+=4;t(z,v,A.cy.x/n);v+=4;t(z,v,A.M3.y/B);v+=4;t(z,v,A.M3.x/n);v+=4}}};function jZ(){}jZ.a5j=function(z,J,p,n){var B=n.split(".")[0],c=!1;
if(J+3<z.length){var t={};bp.Ef(z,J,z.length,t);var u=t.phry.hierarchy.v;if(u.length!=0){var v=[[]],A=0;
for(var g=0;g<u.length;g++){var top=v[v.length-1],$=u[g].v,X=$.classID;if(X=="Grup"){var U=[];v.push(U);
top.push([$.Nm.v,null,U,!0])}else if(X=="preset"){top.push(p[A]);A++}else if(X=="groupEnd"){v.pop()}}var w=jZ.x6(v[0],jZ);
return[[B,null,v[0],!0]]}else c=!0}else c=!0;if(c){for(var g=0;g<p.length;g++){var P=p[g][0].split("/");
if(P.length>1){B=P[P.length-2];p[g][0]=P.pop().split("=").pop()}}return[[B,null,p,!0]]}};jZ.x6=function(z,J){var p=[],n=[];
jZ.Bo(z,p,n);var B=new Uint8Array(J.oW(p)),c=new fJ;c.FA(0,B.length);c.data.set(B,0);var t={phry:{classID:"null",hierarchy:{t:"VlLs",v:n}}},u=bp.Nf(c,B.length,t);
return c.data.slice(0,u)};jZ.Bo=function(z,J,p){for(var g=0;g<z.length;g++){var n=z[g];if(n[1]==null){p.push({t:"Objc",v:{classID:"Grup",Nm:{t:"TEXT",v:n[0]},zuid:{t:"TEXT",v:"0e93da90-b25e-9745-a55e-af1d4451561b"}}});
jZ.Bo(n[2],J,p);p.push({t:"Objc",v:{classID:"groupEnd"}})}else{p.push({t:"Objc",v:{classID:"preset"}});
J.push(n)}}};jZ.yi=function(z,J){var p=new Uint8Array(z),n=[],B=0;if(e.RM(p,0,4)=="ASEF")B=jZ.aBQ(p,n);
else{B=jZ.a7Q(p,B,n);if(B+3<p.length){n=[];B=jZ.a7Q(p,B,n)}}return jZ.a5j(p,B,n,J)};jZ.aBQ=function(z,J){var p=8,n=e.fy(z,p),B,c=null,t,u,v,A;
p+=4;for(var $=0;$<n;$++){var X=e.Bq(z,p);p+=2;var U=e.fy(z,p);p+=4;var w=p+U;if(X==49153||X==1){var P=e.Bq(z,p);
p+=2;var k=e.J5(z,p,P-1);p+=P*2;if(X==1)B=k;else c=k}if(X==1){var T=e.RM(z,p,4);p+=4;t=e.Lb(z,p);p+=4;
u=e.Lb(z,p);p+=4;v=e.Lb(z,p);p+=4;if(T=="RGB "){}else if(T=="CMYK"){A=e.Lb(z,p);p+=4;var Z=UDOC.C.cmykToRgb([t,u,v,A]);
t=Z[0];u=Z[1];v=Z[2]}else alert("Unknown color space: "+T);J.push([(c?c+" : ":"")+B,{o:t*255,k:u*255,X:v*255}])}p=w}return p};
jZ.a7Q=function(z,J,p){var n=e.Bq,B=e.uf,c=n(z,J);J+=2;var t=n(z,J);J+=2;for(var g=0;g<t;g++){var u=jZ.zO(z,J),v="clr"+g;
J+=10;if(c==2){v=e.nX(z,J);J+=4+v.length*2+2}p.push([v,u])}return J};jZ.zO=function(z,J,p){var n=p?e.Ei:e.Bq,B=p?e._4:e.uf,c=n(z,J),P=null;
J+=2;var t=n(z,J);J+=2;var u=n(z,J);J+=2;var v=n(z,J);J+=2;var A=n(z,J);J+=2;var $=1/65535,X=255/65535,U=100/65535,w=255/1e4;
if(c==0)P={o:t*X,k:u*X,X:v*X};else if(c==1){P=a.u4(t*$,u*$,v*$);P.o*=255;P.k*=255;P.X*=255}else if(c==2)P=a.Wi.Um({classID:"CMYC",Cyn:{t:"doub",v:100-t*U},Mgnt:{t:"doub",v:100-u*U},Ylw:{t:"doub",v:100-v*U},Blck:{t:"doub",v:100-A*U}});
else if(c==7){var k=a.p6(t/100,B(z,J-6)/100,B(z,J-4)/100);P=k}else if(c==8){P={o:255-t*w,k:255-u*w,X:255-v*w}}else if(c==18){var T=255*t/16384;
P={o:T,k:T,X:T}}else if(c==65535)P={o:255,k:255,X:255};else{throw c}return P};jZ.oW=function(z){var J=new fJ,p=0,n=e.qj;
for(var B=1;B<3;B++){n(J,p,B);p+=2;n(J,p,z.length);p+=2;for(var g=0;g<z.length;g++){var c=z[g];J.FA(p,10);
jZ.xY(J.data,p,c[1]);p+=10;if(B==2){var t=c[0]+"\0";e.A4(J,p,t);p+=4+t.length*2}}}return J.data.slice(0,p).buffer};
jZ.xY=function(z,J,p){var n=65535/255,B=e.Gg;B(z,J,0);B(z,J+2,Math.round(p.o*n));B(z,J+4,Math.round(p.k*n));
B(z,J+6,Math.round(p.X*n));B(z,J+8,0)};jZ.ky=function(z,J,p){var n=z[1],B=255<<24|n.X<<16|n.k<<8|n.o,c=new Uint32Array(J*p);
c.fill(B);var t=new Uint8Array(c.buffer),u=n.k6==null?1:n.k6/255;if(u!=1)for(var v=0;v<p;v++)for(var A=0;
A<J;A++){var $=(v*J+A)*4,X=255-50*((A>>>3^v>>>3)&1);t[$]=u*n.o+(1-u)*X;t[$+1]=u*n.k+(1-u)*X;t[$+2]=u*n.X+(1-u)*X}var U=UPNG.encode([c.buffer],J,p);
return"data:image/png;base64,"+kL.Lk(U)};function j7(){}j7.yi=function(z){var J=new Uint8Array(z),p=e.Bq(J,256*3);
console.log(J);var n=[];for(var g=0;g<p;g++)n.push(["",{o:J[g*3],k:J[g*3+1],X:J[g*3+2],k6:255}]);return[n]};
j7.oW=function(z){z=z[0];var J=new Uint8Array(256*3+4);e.Gg(J,256*3,z.length);e.Gg(J,256*3+2,65535);
for(var g=0;g<z.length;g++){var p=z[g][1];J[3*g]=p.o;J[3*g+1]=p.k;J[3*g+2]=p.X}return J.buffer};function ic(){}ic.yi=function(z){var J=new Uint8Array(z),p=4,n={};
n.cN=e.nX(J,p);p+=4+n.cN.length*2+2;n.exp=J[p++]==1;n.B7=[];var B=e.fy(J,p);p+=4;for(var g=0;g<B;g++){var c={};
n.B7.push(c);c.GU=e.Bq(J,p);p+=2;c.shift=J[p++]==1;c.atu=J[p++]==1;c.color=e.Bq(J,p);p+=2;c.cN=e.nX(J,p);
p+=4+c.cN.length*2+2;c.exp=J[p++]==1;c.B7=[];var t=e.fy(J,p);p+=4;for(var u=0;u<t;u++){var v={};c.B7.push(v);
v.exp=J[p++]==1;v.e=J[p++]==1;v.adk=J[p++]==1;v.aEz=J[p++];var A=e.RM(J,p,4);p+=4;if(A=="TEXT"){v.rK=ic.aHu(J,p);
p+=4+v.rK.length}else if(A=="long"){v.rK=e.RM(J,p,4);p+=4}else throw"e";v.wr=ic.aHu(J,p);p+=4+v.wr.length;
var $=e.lz(J,p);p+=4;if($==-1){v.m$={};var X=a2.JP(J,v.m$,p);p+=X}}}console.log(n);var U=new Uint8Array(ic.oW([n]));
for(var g=0;g<U.length;g++)if(U[g]!=J[g]&&e.RM(J,g+1,4)!="None"){console.log(J.length,U.length);var w=4*(g>>>2)-16;
console.log(e.r9(J,w,64));console.log(e.r9(U,w,64));console.log(J.slice(w,w+64));console.log(U.slice(w,w+64));
throw"i"}return[n]};ic.aHu=function(z,J){var p=e.fy(z,J);return e.RM(z,J+4,p)};ic.a6H=function(z,J,p){e.kS(z,J,p.length);
e.fn(z,J+4,p)};ic.oW=function(z){var J=z[0],p=new fJ,n=0;e.kS(p,n,16);n+=4;e.A4(p,n,J.cN+"\0");n+=4+J.cN.length*2+2;
p.FA(n,1);p.data[n++]=J.exp?1:0;var B=J.B7.length;e.kS(p,n,B);n+=4;for(var g=0;g<B;g++){var c=J.B7[g];
e.qj(p,n,c.GU);n+=2;p.FA(n,2);p.data[n++]=c.shift?1:0;p.data[n++]=c.atu?1:0;e.qj(p,n,c.color);n+=2;e.A4(p,n,c.cN+"\0");
n+=4+c.cN.length*2+2;p.FA(n,1);p.data[n++]=c.exp?1:0;var t=c.B7.length;e.kS(p,n,t);n+=4;for(var u=0;
u<t;u++){var v=c.B7[u];p.FA(n,4);p.data[n++]=v.exp?1:0;p.data[n++]=v.e?1:0;p.data[n++]=v.adk?1:0;p.data[n++]=v.aEz;
var A="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(v.rK)!=-1;e.fn(p,n,A?"long":"TEXT");
n+=4;if(!A){ic.a6H(p,n,v.rK);n+=4+v.rK.length}else{e.fn(p,n,v.rK);n+=4}ic.a6H(p,n,v.wr);n+=4+v.wr.length;
e.sO(p,n,v.m$?-1:0);n+=4;if(v.m$){var $=a2.lT(p,v.m$,n);n+=$}}}return p.data.slice(0,n).buffer};function kD(){}kD.yi=function(z){var J=new Uint8Array(z),p=0,n=e.fy(J,p),v;
p+=4;var B=e.RM(J,p,8);p+=8;var c=e.gm(J,p);p+=4;var t=e.gm(J,p);p+=4;var u=e.gm(J,p);p+=4;console.log(c,t,u);
if(n==2){v=new Float32Array(z,32,z.byteLength-32>>>2)}else if(n==3||n==4){v=new Float32Array(t*u*2);
var A=0,$=0,X=!0;p=n==3?32:16+8+40;while(p<J.length){var U=e.gm(J,p);p+=4;if(X)$+=U;else{for(var g=0;
g<U;g++){v[A+$+g<<1]=e.ZW(J,p);v[(A+$+g<<1)+1]=e.ZW(J,p+4);p+=8}$+=U}X=!X;if(U!=0&&$==t){A+=t;$=0;X=!0;
if(A==t*u)break}}}else throw"unknown Mesh version: "+n;return{Tx:t,tK:u,map:v}};kD.Ag=function(z){var J=z.Tx,p=z.tK,n=z.map,B=new Uint8Array(32+p*J*8+p*8),c=0,t=0;
e.HH(B,c,3);c+=4;e.CR(B,c,"yfqLhseM");c+=8;e.Nx(B,c,2);c+=4;e.Nx(B,c,J);c+=4;e.Nx(B,c,p);c+=4;e.Nx(B,c,0);
c+=4;e.Nx(B,c,1);c+=4;for(var u=0;u<p;u++){e.Nx(B,c,0);c+=4;e.Nx(B,c,J);c+=4;for(var v=0;v<J;v++){e.wn(B,c,n[t]);
e.wn(B,c+4,n[t+1]);t+=2;c+=8}}return B.buffer};function fo(){}fo.yi=function(z){var J=new Uint8Array(z),p=0,n=e.RM(J,p,4);
p+=4;var B=e.Bq(J,p);p+=2;var c=e.fy(J,p);p+=4;var t=[];for(var g=0;g<c;g++){var u=e.fy(J,p);p+=4;var v={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
t.push(v);var A=e.nX(J,p);v.Nm.v=A;p+=4+A.length*2+2;var $=e.Bq(J,p);p+=2;var X=e.Bq(J,p);p+=2;for(var U=0;
U<X;U++){var w=a.kC.YL(0,0,!0);w.v.Vrtc.v=e.Bq(J,p);p+=2;w.v.Hrzn.v=e.Bq(J,p);p+=2;v.Crv.v.push(w)}if(u==1){}else if(u==2){for(var U=0;
U<X;U++){v.Crv.v[U].v.Cnty.v=J[p]==1;p+=1}}else throw"error";var P=e.fy(J,p);p+=4;var k=e.fy(J,p);p+=4}return t};
fo.FX=function(z,J){z.Nm.v=J};fo.oW=function(z){var J=new fJ,p=0;e.fn(J,p,"8BFS");p+=4;e.qj(J,p,1);p+=2;
e.kS(J,p,z.length);p+=4;for(var g=0;g<z.length;g++){e.kS(J,p,2);p+=4;var n=z[g];e.A4(J,p,n.Nm.v+"\0");
p+=4+n.Nm.v.length*2+2;e.qj(J,p,2);p+=2;var B=n.Crv.v.length;e.qj(J,p,B);p+=2;for(var c=0;c<B;c++){var t=n.Crv.v[c];
e.qj(J,p,t.v.Vrtc.v);p+=2;e.qj(J,p,t.v.Hrzn.v);p+=2}J.FA(p,B);for(var c=0;c<B;c++){J.data[p]=n.Crv.v[c].v.Cnty.v;
p++}e.kS(J,p,0);p+=4;e.kS(J,p,0);p+=4}return J.data.slice(0,p).buffer};function dE(){}dE.yi=function(z,J){var p=new Uint8Array(z),n=4,B=J.split("/").pop().split(".")[0],c=e.Bq(p,n);
n+=2;var t=e.fy(p,n);n+=4;var u=[];for(var g=0;g<t;g++){var v={};u.push(v);n=dE.aK_(p,n,v);v.name=B+"/"+v.name.split("=").pop()}return u};
dE.FX=function(z,J){z.name=J};dE.oW=function(z){var J=new fJ,p=0;e.fn(J,p,"8BPT");p+=4;e.qj(J,p,1);p+=2;
e.kS(J,p,z.length);p+=4;for(var g=0;g<z.length;g++){var n=z[g],B=n.name;n.name=n.name.split("/").pop();
p=dE.abQ(J,p,n);n.name=B}return J.data.slice(0,p).buffer};dE.Mo=function(z,J,p,n){var B=n?e.gm:e.fy,c=J+p,t=[];
while(J<c){var u={},v=B(z,J);J+=4;var A=J;J=dE.aK_(z,J,u,n);if(!u.kR[1].Sz())t.push(u);if(v%4!=0)v+=4-v%4;
J=A+v}return t};dE.kl=function(z,J,p){for(var g=0;g<p.length;g++){var n=p[g];J+=4;var B=J;J=dE.abQ(z,J,n);
var c=J-B;e.kS(z,B-4,c);if(c%4!=0)B+=4-c%4;J=B+c}return J};dE.aK_=function(z,J,p,n){var B=n?e.gm:e.fy,c=n?e.Ei:e.Bq,t=n?e.wB:e.nX,u=B(z,J);
J+=4;if(u!=1)alert("Unknown version of pattern");var v=B(z,J);J+=4;if(v!=1&&v!=2&&v!=3)console.log("Unsupported mode of pattern: "+v);
var A=c(z,J);J+=2;var $=c(z,J);J+=2;var X=new fw(0,0,$,A);p.name=t(z,J);J+=4+2*p.name.length+2;var U=z[J];
J++;p.id=e.RM(z,J,U);J+=p.id.length;var w=-1;if(v==2){w=J;J+=3*256+4}var P=new a.rk($*A);J=dE.aDr(z,J,P,n);
if(X.C()>1e8){p.kR=[a.j(4),new fw(0,0,1,1)];return J}if(v==2){for(var g=0;g<P.o.length;g++){var k=3*P.o[g];
P.o[g]=z[w+k+0];P.k[g]=z[w+k+1];P.X[g]=z[w+k+2]}}var T=a.j(X.C()*4);a.s7(P,T);p.kR=[T,X];return J};dE.abQ=function(z,J,p){var n=p.kR[0],B=p.kR[1];
e.kS(z,J,1);J+=4;e.kS(z,J,3);J+=4;e.qj(z,J,B.$);J+=2;e.qj(z,J,B.r);J+=2;e.A4(z,J,p.name+"\0");J+=4+2*p.name.length+2;
e.cU(z,J,p.id.length);J++;e.fn(z,J,p.id);J+=p.id.length;var c=new a.rk(B.C());a.eJ(n,c);J=dE.amL(z,J,c,B);
return J};dE.aDr=function(z,J,p,n){var B=n?e.gm:e.fy,c=n?e.Ei:e.Bq,t=J,u={Dm:null,Az:[],a7I:null,Eq:null},v=B(z,J);
J+=4;var A=B(z,J);J+=4;u.Dm=e.LM(z,J,n);J+=16;var $=B(z,J);J+=4;for(var g=0;g<$+2;g++){var X=B(z,J);
J+=4;if(X==0)continue;var U=B(z,J);J+=4;if(U==0)continue;var w=B(z,J);J+=4;var P=e.LM(z,J,n);J+=16;var k=c(z,J);
J+=2;var T=z[J];J++;var Z=hD.U8(!1,w,z,P.r,P.$,J,T,U,n);Z=a.hg(Z,8);if(g<$)u.Az.push(Z);if(g==$)u.a7I=Z;
if(g==$+1)u.Eq=Z;J+=U-23}if(!u.Dm.Sz()){if(u.Az[0])p.o=u.Az[0];if(u.Az[1])p.k=u.Az[1];else p.k=u.Az[0].slice(0);
if(u.Az[2])p.X=u.Az[2];else p.X=u.Az[0].slice(0);if(u.Eq)p.k6=u.Eq;else p.k6.fill(255)}return J};dE.amL=function(z,J,p,n){var B=J,c={Dm:n,Az:[p.o,p.k,p.X],a7I:null,Eq:p.k6};
e.kS(z,J,3);J+=4;e.kS(z,J,0);J+=4;e.D4(z,J,n);J+=16;e.kS(z,J,24);J+=4;for(var g=0;g<24+2;g++){var t=J,u=g<3||g==25?1:0;
e.kS(z,J,u);J+=4;if(u==0)continue;e.kS(z,J,0);J+=4;e.kS(z,J,8);J+=4;e.D4(z,J,n);J+=16;e.qj(z,J,8);J+=2;
e.cU(z,J,1,1);J++;var v=g<3?c.Az[g]:c.Eq;z.FA(J,n.C()+2);J=hD.rs(!1,v,z.data,n.r,n.$,J,1);e.kS(z,t+4,J-t-8)}e.kS(z,B+4,J-B-8);
return J};function bg(){}bg.yi=function(z,J){var p=new Uint8Array(z),B=0;if(p[0]==71)return bg.axp(p);
var n=J.split("/").pop().split(".")[0],c=e.RM(p,B,4);B+=4;var t=e.Bq(p,B);B+=2;var u=[];if(t<=3){var v=e.Bq(p,B);
B+=2;for(var g=0;g<v;g++){var A=p[B++],$=e.RM(p,B,A);B+=A;var X=bg.aCg(p,B,$),U=X[0];B=X[1];u.push(U)}}else{var X={},w=a2.JP(p,X,B+4),P=X.GrdL.v;
for(var g=0;g<P.length;g++)u[g]=P[g].v.Grad.v;B+=4+w}for(var g=0;g<u.length;g++)u[g]=[u[g].Nm.v,u[g]];
return jZ.a5j(p,B,u,J)};bg.FX=function(z,J){z.Nm.v=J};bg.oW=function(z){var J=new fJ,p=0;e.fn(J,p,"8BGR");
p+=4;e.qj(J,p,5);p+=2;e.kS(J,p,16);p+=4;var n={classID:"null",GrdL:{t:"VlLs",v:[]}},B=n.GrdL.v;for(var g=0;
g<z.length;g++){var c=a.G(z[g]);c[1].Nm.v=c[0];B[g]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:c[1]}}}}p+=a2.lT(J,n,p);
return J.data.slice(0,p).buffer};bg.aCg=function(z,J,p,n){var B={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:p},Trns:{t:"VlLs",v:[]}},c=n?e.Ei:e.Bq,t=n?e.gm:e.fy,u=c(z,J);
J+=2;if(u==0)throw"e";for(var g=0;g<u;g++){var v=t(z,J),A=t(z,J+4),$=jZ.zO(z,J+8,n),X={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:$.o},Grn:{t:"doub",v:$.k},Bl:{t:"doub",v:$.X}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:v},Mdpn:{t:"long",v:A}}};
B.Clrs.v.push(X);J+=20}var U=c(z,J);J+=2;for(var g=0;g<U;g++){var v=t(z,J),A=t(z,J+4),w=c(z,J+8),X={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*w/255)}},Lctn:{t:"long",v:v},Mdpn:{t:"long",v:A}}};
B.Trns.v.push(X);J+=10}var P=c(z,J);J+=2;B.Intr.v=P==2?c(z,J):4096;J+=2;var k=c(z,J);J+=2;return[B,J]};
bg.aJ_=function(z,J,p){var n=p.Clrs.v.length;e.qj(z,J,n);J+=2;for(var g=0;g<n;g++){var B=p.Clrs.v[g];
e.kS(z,J,B.v.Lctn.v);e.kS(z,J+4,B.v.Mdpn.v);e.qj(z,J+8,0);var c=a.Wi.yR(a.Wi.Um(B.v.Clr.v)),t=[c.Rd.v,c.Grn.v,c.Bl.v,0];
for(var u=0;u<4;u++)e.qj(z,J+10+u*2,Math.round(65535*(t[u]/255)));J+=20}var v=p.Trns.v.length;e.qj(z,J,v);
J+=2;for(var g=0;g<v;g++){var B=p.Trns.v[g];e.kS(z,J,B.v.Lctn.v);e.kS(z,J+4,B.v.Mdpn.v);e.qj(z,J+8,Math.round(255*B.v.Opct.v.val/100));
J+=10}e.qj(z,J,2);J+=2;e.qj(z,J,p.Intr.v);J+=2;e.qj(z,J,32);J+=2;return J};bg.axp=function(z){var J=e.A8(z,0,z.length).split("\n"),p=parseFloat(J[2]),n=[],B=JSON.parse(a_.ef[a_.order.indexOf("GrFl")]).Grad.v;
B.Intr.v=0;B.Nm.v=J[1];for(var g=0;g<p;g++){var c=J[3+g].split(" ").map(parseFloat),t=c[11],u=c[12];
n.push([c[0],c.slice(3,6),c[6]]);if(u!=0){var v=a.HC(c[3],c[4],c[5]),A=a.HC(c[7],c[8],c[9]),$=v.tK,X=A.tK;
if(u==1&&$>X)X++;if(u==2&&$<X)$++;var U=Math.round(Math.abs(X-$)*7);if(U>1)for(var w=0;w<U;w++){var P=1-(w+1)/(U+1),k=1-P,T=a.u4(P*$+k*X,P*v.Q5+k*A.Q5,P*v.Mf+k*A.Mf);
n.push([P*c[0]+k*c[2],[T.o,T.k,T.X],P*c[6]+k*c[10]])}}n.push([c[2],c.slice(7,10),c[10]])}n.sort(function(Z,i){return Z[0]-i[0]});
a.Wi.Sy(n,B);return[B]};bg.ky=function(z,J,p){var n=L.PK.ky(z[1],J,p,Math.PI/4,16777215,0);return n};
function jy(){}jy.yi=function(z){var J=new Uint8Array(z),p=[],n=[],B=[],c=[],t=[],u=0,v=e.RM(J,u,4);
u+=4;var A=e.fy(J,u);u+=4;var $=e.fy(J,u);u+=4;while(u<J.length){var X=e.RM(J,u,4);u+=4;var U=e.RM(J,u,4);
u+=4;var w=e.fy(J,u);u+=4;if(U=="tppa"){n=dE.Mo(J,u,w);u+=w}else if(U=="tpbd"){B=e0.aqu(J,u,w,1,1);u+=w}else if(U=="tptp"){var P=e.fy(J,u);
u+=4;for(var g=0;g<P;g++){var k=e.nX(J,u);u+=6+k.length*2;u+=4;var T={};u+=a2.JP(J,T,u);p.push([k,T])}while((u&3)!=0)u++}else if(U=="tpsh"){var Z=u,i=J.slice(u,u+w);
while(u<Z+w){var V=e.fy(J,u);u+=4;u=iV.aIu(J,u,"Shape",c)}u=Z+w}else if(U=="tpst"){var Z=u;u+=4;while(u<Z+w){var _=e.fy(J,u);
u+=4;var y=u,E=e.fy(J,u);u+=4;var T={wl:{},pY:{}};t.push(T);u+=4;u+=a2.JP(J,T.wl,u);u+=4;u+=a2.JP(J,T.pY,u);
u=y+_;var F=T.pY.Lefx;if(F){if(F.v.masterFXSwitch==null)F.v.masterFXSwitch={t:"bool",v:!0};bp._w(F.v)}}u=Z+w}else{console.log(J.slice(u-8,u+64));
console.log(e.RM(J,u-8,64));throw U}}return{EO:B,bG:n,list:p,a3s:c,Nu:t}};jy.FX=function(z,J){z[0]=J};
jy.oW=function(z){var J=new fJ,p=0;e.fn(J,p,"8BTP");p+=4;e.kS(J,p,3);p+=4;e.kS(J,p,1);p+=4;var n=[z.bG,z.EO,z.list];
for(var g=0;g<3;g++){if(n[g].length==0)continue;e.fn(J,p,"8BIM");p+=4;var B=["tppa","tpbd","tptp"][g];
e.fn(J,p,B);p+=4;var c=p;p+=4;if(B=="tppa"){p=dE.kl(J,p,z.bG)}else if(B=="tpbd"){p=e0.afw(J,p,z.EO)}else if(B=="tptp"){e.kS(J,p,z.list.length);
p+=4;for(var t=0;t<z.list.length;t++){var u=z.list[t];e.A4(J,p,u[0]+"\0");p+=6+u[0].length*2;e.kS(J,p,16);
p+=4;p+=a2.lT(J,u[1],p)}}e.kS(J,c,p-c-4);while((p&3)!=0)p++;J.FA(p,0)}return J.data.slice(0,p).buffer};
function aZ(){}aZ.yi=function(z,J){var p=new Uint8Array(z),n;if(e.fy(p,0)==p.length)n="icc";else if(p[0]=="<".charCodeAt(0))n="look";
else if(e.ob(p,"LUT_3D_SIZE")!=-1)n="cube";else n="3DL";if(n!="icc"){var B=aZ.axo(p,n),c=aZ.avq(B[0],B[1]);
p=c}var t=[];for(var g=0;g<p.length;g++)t.push(p[g]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:J?J:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:t}}]};
aZ.oW=function(z){var J=z[0],p=new Uint8Array(J.profile.v);return p.buffer};aZ.FX=function(z,J){z.Nm.v=J};
aZ.avq=function(z,J){var p=new fJ,n=128;p.FA(0,128);var B=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var g=0;g<B.length;g++)p.data[g]=B[g];var c=["desc","A2B0"],t=c.length,u=128+4+t*12;e.kS(p,n,t);
n+=4;for(var v=0;v<t;v++){var A=c[v];e.fn(p,n,A);n+=4;e.kS(p,n,u);n+=4;var $=u;if(A=="desc"){e.fn(p,$,"mluc");
$+=4;$+=4;e.kS(p,$,1);$+=4;e.kS(p,$,12);$+=4;e.fn(p,$,"enUS");$+=4;var X="ICC by Photopea\0",U=X.length*2+2;
e.kS(p,$,U);$+=4;e.kS(p,$,28);$+=4;p.FA($,U);for(var g=0;g<X.length;g++)p.data[$+g*2+1]=X.charCodeAt(g);
$+=U}if(A=="A2B0"){e.fn(p,$,"mAB ");$+=4;$+=4;p.FA($,4);p.data[$]=3;p.data[$+1]=3;$+=4;p.FA($,4*5);$+=4*3;
e.kS(p,$,$+8-u);$+=4;$+=4;p.FA($,20);p.data[$]=z;p.data[$+1]=z;p.data[$+2]=z;$+=16;p.data[$]=2;$+=4;
var w=z*z*z*3;p.FA($,w*2);for(var g=0;g<w;g++)e.Gg(p.data,$+g*2,Math.max(0,Math.min(65535,Math.round(J[g]*65535))));
$+=w*2}var P=$-u;while((P&3)!=0)P++;e.kS(p,n,P);n+=4;u+=P}e.kS(p,0,u);return p.data.slice(0,u)};aZ.axo=function(z,J){J="LUTFormat"+J.toUpperCase();
var p=[],n=0,B=e.A8(z,0,z.length),c="";for(var g=0;g<z.length&&c=="";g++){if(z[g]==10)c="\n";else if(z[g]==13){c="\r";
if(z[g+1]==10)c+="\n"}}if(J=="LUTFormatCUBE"){var t=B.split(c);for(var g=0;g<t.length;g++){if(t[g]==""||t[g][0]=="#")continue;
var u=t[g].split(" "),v=u[0];if(v=="LUT_3D_SIZE"){n=parseInt(u[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(v)!=-1)continue;
p.push(parseFloat(u[0]),parseFloat(u[1]),parseFloat(u[2]))}p=aZ.aoA(n,p)}else if(J=="LUTFormat3DL"){var t=B.split(c),A=1/4095;
for(var g=0;g<t.length;g++){var $=t[g];if($==""||$=="3DMESH"||$.startsWith("Mesh")||$[0]=="#")continue;
var u=$.split(" "),v=u[0];if(n==0){n=u.length;continue}p.push(parseFloat(u[0])*A,parseFloat(u[1])*A,parseFloat(u[2])*A)}}else if(J=="LUTFormatLOOK"){var X=new DOMParser,U=X.parseFromString(B,"text/xml"),w=U.getElementsByTagName("LUT")[0],P=w.children[0].textContent;
n=parseInt(JSON.parse(P));var k=w.children[1].textContent;k=k.replace(/"/g,"").replace(/\s/g,"");var T=3*n*n*n,Z=T*4,i=new Uint8Array(Z);for(var g=0;g<Z;g++){var V=k.charCodeAt(g*2),_=k.charCodeAt(g*2+1),y=V<58?V-48:V-55,E=_<58?_-48:_-55;i[g]=(y<<4)+E}for(var g=0;g<T;g++)p.push(e.ZW(i,g<<2));p=aZ.aoA(n,p)}else throw J;return[n,p]};aZ.a5e=function(z,J,p){var n=["#Created by www.Photopea.com","TITLE \""+p+"\"","","#LUT size","LUT_3D_SIZE "+J,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],B=6;
for(var g=0;g<z.length;g+=3){n.push(z[g].toFixed(B)+" "+z[g+1].toFixed(B)+" "+z[g+2].toFixed(B))}n.push("");
return e.Hu(n.join("\n")).buffer};aZ.aoA=function(z,J){var p=[],n=z*z*z;for(var g=0;g<n;g++)p.push(0,0,0);
for(var B=0;B<z;B++)for(var c=0;c<z;c++)for(var t=0;t<z;t++){var g=3*(t+c*z+B*z*z),u=3*(B+c*z+t*z*z);
p[u]=J[g];p[u+1]=J[g+1];p[u+2]=J[g+2]}return p};function a2(){}a2.JP=function(z,J,p,n,B,c){var t=p,$;
if(B==null)B=0;var u=c?e.gm:e.fy,v=c?e.qd:e.lz,A=c?e.wB:e.nX,X=u(z,p);if(X==0){$="";p+=4}else{$=A(z,p);
p+=4+2*$.length+2}if($!="")J.__name=$;J.classID=a2.xT(z,p,c);if(n)console.log("\t".repeat(B),"- reading descriptor",J.classID,p);
p+=a2.Wm(z,p,c);var U=v(z,p);p+=4;for(var g=0;g<U;g++){var w=a2.xT(z,p,c);p+=a2.Wm(z,p,c);var P=a2.a5L(z,p,n,B,c);
J[w]=P;p+=P.size;delete P.size}return p-t};a2.lT=function(z,J,p,n){var B=p,c=J.__name;if(c==null)c="";
c+="\0";e.A4(z,p,c);p+=4+2*c.length;a2.zz(z,p,J.classID);p+=a2.Wm(z.data,p);e.sO(z,p,Object.keys(J).length-1-(J.__name==null?0:1));
p+=4;for(var t in J){if(t=="classID")continue;if(t=="__name")continue;a2.zz(z,p,t);p+=a2.Wm(z.data,p);
p+=a2.ain(z,p,J[t])}return p-B};a2.a5L=function(z,J,p,n,B){var c=J,t=e.W2(z,J,B);J+=4;var u=B?e.L6:e.U0,v=B?e.gm:e.fy,A=B?e.qd:e.lz,$=B?e.wB:e.nX,X={size:0,t:t,v:null};
if(p)console.log("\t".repeat(n),"reading key",t,c);switch(t){case"obj ":case"VlLs":X.v=[];var U=v(z,J);
J+=4;for(var g=0;g<U;g++){var w=a2.a5L(z,J,p,n+1,B);J+=w.size;delete w.size;X.v.push(w)}break;case"UntF":X.v={type:e.W2(z,J,B),val:u(z,J+4)};
J+=12;break;case"doub":{X.v=u(z,J);J+=8;break}case"bool":X.v=z[J]==1;J+=1;break;case"long":X.v=A(z,J);
J+=4;break;case"comp":X.v=A(z,J+4);J+=8;break;case"Objc":X.v={};var P=a2.JP(z,X.v,J,p,n+1,B);J+=P;break;
case"TEXT":var k=v(z,J);if(k==0){X.v="";J+=4}else{X.v=$(z,J);J+=4+X.v.length*2+2}break;case"enum":var T=a2.xT(z,J,B);
J+=a2.Wm(z,J,B);var Z=a2.xT(z,J,B);J+=a2.Wm(z,J,B);X.v={};X.v[T]=Z;break;case"tdta":var i=A(z,J);J+=4;
X.v=Array.from(z.slice(J,J+i));J+=i;break;case"ObAr":var V=v(z,J);J+=4;var _=$(z,J);J+=4+2*_.length+2;
if(_!="")throw _;var y=a2.xT(z,J,B);J+=4+Math.max(4,y.length);X.v={classID:y,arr:[]};var E=v(z,J);J+=4;
for(var g=0;g<E;g++){var y=a2.xT(z,J,B);J+=4+Math.max(4,y.length);var T=e.W2(z,J,B);J+=4;var F=e.W2(z,J,B);
J+=4;var d={id:y,type:T,uID:F,arr:[]};X.v.arr.push(d);var x=v(z,J,4);J+=4;for(var f=0;f<x;f++){var Q=u(z,J);
J+=8;d.arr.push(Q)}}break;case"Pth ":if(B)throw"e";var m=J,i=e.fy(z,J);J+=4;var H=e.RM(z,J,4);J+=4;var S=e.gm(z,J);
J+=4;var R=e.aJR(z,J);J+=4+R.length*2;X.v={sig:H,pth:R};break;case"Clss":case"type":case"rele":var R=$(z,J);
J+=4+R.length*2+2;var I=a2.xT(z,J,B);J+=4+Math.max(4,I.length);X.v={classID:I};if(R!="")X.v.__name=R;
if(t=="rele"){X.v.val=A(z,J);J+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var D=a2.DU[t],R=$(z,J);
J+=4+R.length*2+2;if(R.length!=0){console.log("String found",t,R)}X.v={};for(var g=0;g<D.length;g++){var I=a2.xT(z,J,B);
J+=4+Math.max(4,I.length);X.v[D[g]]=I}if(t=="name"){var R=$(z,J);J+=4+R.length*2+2;X.v.val=R}if(t=="indx"||t=="Idnt"){X.v.val=v(z,J);
J+=4}break;case"alis":var i=v(z,J);J+=4;X.v=e.RM(z,J,i);J+=i;break;default:{console.log("unknown oskey: "+t+", "+c);
throw"e";return X}}if(p){console.log("\t".repeat(n),X.v);console.log("\t".repeat(n),"======",J)}X.size=J-c;
return X};a2.DU={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
a2.ain=function(z,J,p){var n=J,B=p.t;p=p.v;e.fn(z,J,B);J+=4;switch(B){case"obj ":case"VlLs":e.sO(z,J,p.length);
J+=4;for(var c=0;c<p.length;c++){var t=a2.ain(z,J,p[c]);J+=t}break;case"UntF":e.fn(z,J,p.type);e.dJ(z,J+4,p.val);
J+=12;break;case"doub":e.dJ(z,J,p);J+=8;break;case"bool":e.cU(z,J,p?1:0,1);J+=1;break;case"long":e.sO(z,J,p);
J+=4;break;case"comp":e.sO(z,J+4,p);J+=8;break;case"Objc":var t=a2.lT(z,p,J);J+=t;break;case"TEXT":e.A4(z,J,p+"\0");
J+=4+p.length*2+2;break;case"enum":var u=Object.keys(p)[0],v=p[u];a2.zz(z,J,u);J+=a2.Wm(z.data,J);a2.zz(z,J,v);
J+=a2.Wm(z.data,J);break;case"tdta":e.kS(z,J,p.length);J+=4;e.CI(z,J,p);J+=p.length;break;case"ObAr":e.kS(z,J,p.arr[0].arr.length);
J+=4;e.A4(z,J,"\0");J+=6;a2.zz(z,J,p.classID);J+=4+Math.max(4,p.classID.length);e.kS(z,J,p.arr.length);
J+=4;for(var g=0;g<p.arr.length;g++){var A=p.arr[g];a2.zz(z,J,A.id);J+=4+Math.max(4,A.id.length);e.fn(z,J,A.type);
J+=4;e.fn(z,J,A.uID);J+=4;e.kS(z,J,A.arr.length);J+=4;for(var c=0;c<A.arr.length;c++){e.dJ(z,J,A.arr[c]);
J+=8}}break;case"Pth ":var $=p.pth.length*2+4+8;e.kS(z,J,$);J+=4;e.fn(z,J,p.sig);J+=4;e.v9(z,J,$);J+=4;
e.aAi(z,J,p.pth);J+=p.pth.length*2+4;break;case"Clss":case"type":case"rele":var X=p.__name;if(X==null)X="";
e.A4(z,J,X+"\0");J+=4+X.length*2+2;var U=p.classID;a2.zz(z,J,U);J+=4+Math.max(4,U.length);if(B=="rele"){e.sO(z,J,p.val);
J+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var w=a2.DU[B],P="";if(B=="name"&&p.classID=="Grdn")P="Gradient";
e.A4(z,J,P+"\0");J+=4+P.length*2+2;for(var g=0;g<w.length;g++){var U=p[w[g]];a2.zz(z,J,U);J+=4+Math.max(4,U.length)}if(B=="name"){e.A4(z,J,p.val+"\0");
J+=4+p.val.length*2+2}if(B=="indx"||B=="Idnt"){e.kS(z,J,p.val);J+=4}break;case"alis":var $=p.length;
e.kS(z,J,$);J+=4;e.fn(z,J,p);J+=$;break;default:console.log("unknown oskey: "+B);J=n;break}return J-n};
a2.xT=function(z,J,p){var n=p?e.qd:e.lz,B=n(z,J);if(B>1e3)throw"e";if(B==0)return e.W2(z,J+4,p).trim();
return e.RM(z,J+4,B).trim()};a2.Wm=function(z,J,p){var n=p?e.qd:e.lz,B=n(z,J);return B==0?8:4+B};a2.zz=function(z,J,p){var n="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold clio trim then else".split(" "),B=4<p.length||n.indexOf(p)!=-1;
e.sO(z,J,B?p.length:0);e.fn(z,J+4,p);if(p.length<4&&!B){var c="";for(var g=p.length;g<4;g++)c+=" ";e.fn(z,J+4+p.length,c)}};
a2.aeF=function(z){var J={};for(var p in z){if(p=="classID")J[p]=z[p];else if(p=="__name")J[p]=z[p];
else J[p]=a2.aqP(z[p])}return J};a2.aqP=function(z){if(z.t=="Objc")return a2.aeF(z.v);else if(z.t=="VlLs"){var J=[];
for(var g=0;g<z.v.length;g++)J.push(a2.aqP(z.v[g]));return J}else if(z.t=="UntF")return z.v.val;else return z.v};
function bp(){}bp.Ef=function(z,J,p,n,B,c,t){var u=t?e.gm:e.fy,v=t?e.qd:e.lz,A=t?e.Ei:e.Bq,$=t?e._4:e.uf,X=t?e.app:e.LD,U=t?e.L6:e.U0,w=t?e.ZW:e.Lb,P=t?e.aJR:e.LW;
while(J<p){var k=e.W2(z,J,t);J+=4;if(k!="8BIM"&&k!="8B64"){console.log("layer information signature error! "+k,"PSB = "+B);
alert("Error in PSD file: wrong signature.");return p}var T=e.W2(z,J,t);J+=4;var Z=u(z,J);J+=4;var i=B&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(T)!=-1;
if(i){Z=Z<<32|v(z,J);J+=4}var V=["lrFX","PlLd"];if(V.indexOf(T)!=-1){if(T!="lrFX"&&Z%4!=0)Z+=4-Z%4;J+=Z;
continue}switch(T){case"iOpa":n[T]=z[J];break;case"brst":n[T]=[1,1,1];for(var g=0;g<Z;g+=4)n[T][u(z,J+g)]=0;
break;case"knko":n[T]=z[J];break;case"infx":n[T]=z[J];break;case"clbl":n[T]=z[J];break;case"lmgm":n[T]=z[J];
break;case"vmgm":n[T]=z[J];break;case"fcmy":n[T]=z[J];break;case"lyid":n[T]=u(z,J);break;case"lsct":n[T]={I:u(z,J)};
if(Z>=12)n[T].QN=e.W2(z,J+8,t);break;case"lsdk":n.lsct={I:u(z,J)};break;case"lyvr":n[T]=u(z,J);break;
case"lnsr":var _={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};n[T]=e.W2(z,J,t);
break;case"lspf":n[T]=u(z,J);break;case"lclr":n[T]=A(z,J);break;case"luni":n[T]=P(z,J);break;case"fxrp":n[T]=new i_(U(z,J),U(z,J+8));
break;case"phry":case"artb":case"artd":n[T]={};a2.JP(z,n[T],J+4,!1,null,t);break;case"SoCo":n[T]={};
a2.JP(z,n[T],J+4,!1,null,t);break;case"GdFl":n[T]={};a2.JP(z,n[T],J+4,!1,null,t);bp.fI(n[T],T);break;
case"PtFl":n[T]={};a2.JP(z,n[T],J+4,!1,null,t);bp.fI(n[T],T);break;case"CgEd":n[T]={};a2.JP(z,n[T],J+4,!1,null,t);
break;case"brit":var y=n.brit=em.J0("brit"),E={};y.Brgh.v=$(z,J);y.Cntr.v=$(z,J+2);y.useLegacy.v=!0;
break;case"levl":var F=z.buffer.slice(J,J+Z);n[T]=f8.yi(F,t);break;case"curv":n[T]=a5.Pt(z,J,Z,t);break;
case"expA":var d=$(z,J),x=n[T]=em.J0("expA");x.Exps.v=w(z,J+2);x.Ofst.v=w(z,J+6);x.gammaCorrection.v=w(z,J+10);
break;case"vibA":n[T]={};a2.JP(z,n[T],J+4,!1,null,t);break;case"hue2":n[T]=eP.Pt(z,J,Z,t);break;case"blnc":var x=n[T]=em.J0(T);
x.PrsL.v=z[J+18]==1;var f=["ShdL","MdtL","HghL"];for(var g=0;g<3;g++)for(var Q=0;Q<3;Q++)x[f[g]].v[Q].v=$(z,J+g*6+Q*2);
break;case"blwh":var m={};a2.JP(z,m,J+4,!1,null,t);var x=em.J0(T),H="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var g=0;g<H.length;g++){x[H[g]]=m[H[g]];delete m[H[g]]}n[T]=x;break;case"phfl":var x=n[T]=em.J0(T),S=x.Clr.v,d=A(z,J);
if(d==3){var R=[u(z,J+2),u(z,J+6),u(z,J+10)],I=32768,D=a.aFn(R[0]/I,R[1]/I,R[2]/I);S.Lmnc.v=D.Z5;S.A.v=D.k6;
S.B.v=D.X}if(d==2){var G=A(z,J+2);if(G!=7)throw"e";S.Lmnc.v=$(z,J+4)/100;S.A.v=$(z,J+6)/100;S.B.v=$(z,J+8)/100}var C=J+2+(d==3?12:10);
x.Dnst.v=u(z,C);C+=4;x.PrsL.v=z[C]==1;break;case"mixr":var O={Gj:A(z,J+2)==1,K:[]};for(var g=0;g<20;
g++)O.K.push($(z,J+4+g*2));n[T]=fs.kf(O);break;case"clrL":case"rplc":n[T]={};a2.JP(z,n[T],J+6,!1,null,t);
break;case"nvrt":n[T]={};break;case"post":n[T]=em.J0("post");n[T].Lvls.v=A(z,J);break;case"thrs":n[T]=em.J0("thrs");
n[T].Lvl.v=A(z,J);break;case"grdm":var Y=J,h=A(z,Y),N="Gcls";Y+=2;var r=z[Y]==1,W=z[Y+1]==1;Y+=2;if(h>=3){var o=e.W2(z,Y,t);
Y+=4;N={Perc:"Perc",Gcls:"Gcls","Lnr ":"Lnr",Smoo:"Smoo"}[o];if(N==null)N="stripes"}var K=P(z,Y);Y+=4+K.length*2;
var l=bg.aCg(z,Y,K,t),aV=l[0];Y=l[1];var j=A(z,Y);Y+=2;var M=u(z,Y);Y+=4;var s=A(z,Y)==1;Y+=2;var l2=A(z,Y)==1;
Y+=2;var gm=u(z,Y);Y+=4;var iz=A(z,Y);Y+=2;var dC=[],dL=[];for(var g=0;g<4;g++){dC.push({t:"long",v:~~(A(z,Y+g*2)*100/32768)});
dL.push({t:"long",v:~~(A(z,Y+g*2+8)*100/32768)})}Y+=16;var cP=A(z,Y);Y+=2;if(j==1)aV={classID:"Grdn",Nm:{t:"TEXT",v:K},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:s},VctC:{t:"bool",v:l2},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:M},Smth:{t:"long",v:gm},Mnm:{t:"VlLs",v:dC},Mxm:{t:"VlLs",v:dL}};
var id=em.J0("grdm");id.Rvrs.v=r;id.Dthr.v=W;id.Grad.v=aV;id.gs99.v={gradientInterpolationMethodType:N};
n[T]=id;break;case"selc":n[T]=ey.Pt(z,J,Z,t);break;case"vmsk":case"vsms":var jR=n.vmsk=new bi.jP,hC=v(z,J+4),eJ=(hC>>0&1)==1;
jR.r4=(hC>>1&1)==0;jR.isEnabled=(hC>>2&1)==0;jR.u=iV.uG(z,J+8,Z-8,c.r,c.$,t);break;case"shmd":n[T]={};
var el=u(z,J),C=J+4;for(var g=0;g<el;g++){var k=e.W2(z,C,t);C+=4;var eu=e.W2(z,C,t);C+=4;var jY=z[C];
C++;if(Math.max(z[C],z[C+1])!=0)throw"e";C+=3;var fN=u(z,C);C+=4;if(eu=="cust"||eu=="cmls"||eu=="extn"||eu=="mlst"){var jC=u(z,C);
if(jC!=16)C+=4;if(u(z,C)==16){var m={};a2.JP(z,m,C+4,!1,null,t);n[T][eu]=m;if(eu=="cmls")L.IC.aaR(n[T][eu])}}else{console.log("unknown shmd key: "+eu+", size: "+fN)}C+=fN}break;
case"shpa":var d=u(z,J),kF=u(z,J+4);if(kF!=0)console.log("some patterns present!");break;case"TySh":var i6=n[T]={},d=A(z,J);
i6.h=e.X9(z,J+2,t);var kT=A(z,J+2+48);i6.PB={};try{var kY=a2.JP(z,i6.PB,J+56)}catch(l5){n[T]=null;break}var h9=dN.a9p();
for(var bG in h9)if(i6.PB[bG]==null)i6.PB[bG]=h9[bG];i6.lL={};var dQ=a2.JP(z,i6.lL,J+56+kY+6,!1,null,t);
i6.M6=e.a5q(z,J+56+kY+6+dQ);i6.qU=ix.yi(i6.PB.EngineData.v);dN.aqa(i6.qU.EngineDict.StyleRun.RunArray);
if(i6.qU.ResourceDict==null)i6.qU.ResourceDict=a.G(i6.qU.DocumentResources);delete i6.PB.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var jn=u(z,J),b1=u(z,J+4);n.lmfx={};var kY=a2.JP(z,n.lmfx,J+8,!1,null,t);
bp._w(n.lmfx);break;case"FMsk":n[T]=z.slice(J,J+Z);break;case"Txt2":n[T]={};n[T].raw=z.slice(J,J+Z);
n[T].Yh=ed.yi(n[T].raw);break;case"Patt":case"Pat2":case"Pat3":n.Patt=dE.Mo(z,J,Z,t);break;case"SoLd":var c8=e.W2(z,J,t),j_=u(z,J+4),fQ=u(z,J+8),cM=n[T]={},jK=a2.JP(z,cM,J+12,null,null,t),aw=cM.warp,ez=cM.quiltWarp;
if(ez==null)ez=cM.quiltWarp=a.TX.axu(aw);delete cM.warp;var g4=ez.v.warpStyle.v.warpStyle,ht=ez.v.warpValues;
if(g4!="warpCylinder"&&ht){ez.v.warpValue={t:"doub",v:ht.v[0].v};delete ez.v.warpValues}if(cM.nonAffineTransform==null)cM.nonAffineTransform=a.G(cM.Trnf);
if(cM.Impr==null)cM.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var j_=u(z,J);
n[T]={};var jK=a2.JP(z,n[T],J+4,!1,null,t);break;case"vscg":var eu=e.W2(z,J,t),j_=u(z,J+4);n[eu]={};
var jK=a2.JP(z,n[eu],J+8,!1,null,t);bp.fI(n[eu],eu);break;case"vogk":var gx=u(z,J),j_=u(z,J+4);n[T]={};
var jK=a2.JP(z,n[T],J+8,!1,null,t);n[T]=n[T].keyDescriptorList.v;for(var g=0;g<n[T].length;g++){var kE=n[T][g].v;
if(!a.R$.T9(kE))continue;if(kE.keyOriginBoxCorners==null){var kS=a.R$.a4(kE);kE.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var h7=[kS[0],kS[1],kS[2],kS[1],kS[2],kS[3],kS[0],kS[3]];if(kE.keyOriginType.v==4)h7=a.R$.a6U(a.R$.ND(kE),kE.keyOriginLineWeight.v);
a.R$.Lq(kE,"keyOriginBoxCorners",h7)}}break;case"lnk2":case"lnkD__":case"lnk3":n.lnk2=[];var Y=J;while(Y<J+Z){var b7=new bi.WM;
n.lnk2.push(b7);var i7=X(z,Y);Y+=8;var fp=Y;b7.I=e.W2(z,Y,t);Y+=4;if(b7.I!="liFD"){alert("Unknown Linked Layer type: "+b7.I);
break;throw b7.I}b7.it=u(z,Y);Y+=4;var jB=e.Nj(z,Y);Y+=1+jB.vc.length;b7.A_=jB.vc;var fB=t?e.wB:e.nX;
b7.qI=fB(z,Y);Y+=4+b7.qI.length*2+2;b7.ht=e.W2(z,Y,t);Y+=4;b7.J_=e.W2(z,Y,t);Y+=4;var df=X(z,Y);Y+=8;
b7.open=z[Y];Y+=1;if(b7.open!=0){var dt={},kY=a2.JP(z,dt,Y+4,null,null,t);if(kY%4!=0)kY+=4-kY%4;console.log(dt);
Y+=kY+4}b7.open=0;b7.raw=z.slice(Y,Y+df);Y=fp+i7;if(i7%4!=0)Y+=4-i7%4}break;case"FEid":var Y=J;n[T]=[];
var g5=Y+Z,d=u(z,Y);Y+=4;while(Y<g5){var i7=X(z,Y);Y+=8;var l={};n[T].push(l);l.id=e.Nj(z,Y).vc;Y+=l.id.length+1;
var d=u(z,Y);Y+=4;Y+=4;var bR=u(z,Y);Y+=4;l.S=e.LM(z,Y,t);Y+=16;var h$=u(z,Y);Y+=4;var ih=u(z,Y);Y+=4;
var jt=new a.rk(0);for(var g=0;g<ih+2;g++){var jN=u(z,Y);Y+=4;if(jN!=0){var jk=X(z,Y),gE=null;Y+=8;if(g<3||g==25){gE=hD.kq(!0,h$,z,l.S.r,l.S.$,Y,jk,t)}if(g==0)jt.o=gE;
if(g==1)jt.k=gE;if(g==2)jt.X=gE;if(g==25)jt.k6=gE;Y+=jk}}l.buffer=a.j(l.S.C()*4,h$);a.s7(jt,l.buffer);
var cW=z[Y];Y++;if(cW!=0){l.T4=new bi.L7;l.T4.S=e.LM(z,Y,t);Y+=16;var dR=X(z,Y);Y+=8;var gE=hD.kq(!0,h$,z,l.T4.S.r,l.T4.S.$,Y,dR,t);
l.T4.N=gE;l.T4.color=255;l.T4.eB();Y+=dR}if(i7%4!=0)Y+=4-i7%4}break;case"Lr16":bM.cO(c,z,J,t);break;
case"Lr32":bM.cO(c,z,J,t);break;case"Anno":n[T]=[];var gV=J,gv=J+4,kF=u(z,gv);gv+=4;for(var g=0;g<kF;
g++){var i7=u(z,gv);gv+=4;var ga=e.W2(z,gv,t);gv+=4;if(ga!="txtA")throw ga;var iC=z[gv++],dI=z[gv++],fV=A(z,gv);
gv+=2;var dH=e.LM(z,gv,t);gv+=16;var aj=e.LM(z,gv,t);gv+=16;var S=jZ.zO(z,gv,t);gv+=10;var cH=e.Nj(z,gv);
gv+=cH.length;var ge=e.Nj(z,gv);gv+=ge.length;var ko=e.Nj(z,gv);gv+=ko.length;var iI=u(z,gv);gv+=4;var av=e.W2(z,gv,t);
gv+=4;var gF=u(z,gv);gv+=4;var kG=t?e.uv:e.J5,kh=kG(z,gv+2,gF-2>>1);gv+=gF;n[T].push([dH.x,dH.y,S,cH.vc,kh])}break;
default:console.log("unknown layer tag: "+T+", size: "+Z);break}var hB="Layr,Lr16,Lr32,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ,GenI,phry,vmsk,vstk".split(",");
if(hB.indexOf(T)==-1)if(Z%4!=0)console.log("size not multiple of 4!!!",T);if(T!="luni"&&T!="TySh"&&T!="tySh"&&T!="lfx2"&&T!="iOpa"&&T!="SoCo"&&T!="vmsk"&&T!="vstk")if(Z%4!=0)Z+=4-Z%4;
J+=Z}var E=n.CgEd;if(E){var y=n.brit;if(y){y.Brgh.v=E.Brgh?E.Brgh.v:0;y.Cntr.v=E.Cntr?E.Cntr.v:0;y.useLegacy.v=E.useLegacy?E.useLegacy.v:0}delete n.CgEd}var kf=[];
for(var g=0;g<kf.length;g++)delete n[kf[g]];return J};bp.Nf=function(z,J,p,n,B){if(p.SoLd){var c={};
for(var t in p){if(t=="SoLd")c.PlLd={};c[t]=p[t]}p=c}for(var u in p)if(p[u]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+u+"\" tag was present with a null value.");delete p[u]}for(var u in p){var v=n&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(u)!=-1,$=0;
e.fn(z,J,v?"8B64":"8BIM");J+=4;var A=J;e.fn(z,J,u);J+=4;e.sO(z,J,0);J+=v?8:4;switch(u){case"iOpa":e.cU(z,J,p[u],1);
$=4;break;case"brst":$=0;for(var g=0;g<3;g++)if(p[u][g]==0){e.kS(z,J+$,g);$+=4}break;case"knko":e.cU(z,J,p[u],1);
$=4;break;case"infx":e.cU(z,J,p[u],1);$=4;break;case"clbl":e.cU(z,J,p[u],1);$=4;break;case"lmgm":e.cU(z,J,p[u],1);
$=4;break;case"vmgm":e.cU(z,J,p[u],1);$=4;break;case"fcmy":e.cU(z,J,p[u],1);$=4;break;case"lyid":e.kS(z,J,p[u]);
$=4;break;case"lsct":e.kS(z,J,p[u].I);$=4;if(p[u].QN){e.fn(z,J+4,"8BIM");e.fn(z,J+8,p[u].QN);$=12}break;
case"lyvr":e.kS(z,J,p[u]);$=4;break;case"lnsr":e.fn(z,J,p[u]);$=4;break;case"lspf":e.kS(z,J,p[u]);$=4;
break;case"lclr":e.qj(z,J,p[u]);$=8;break;case"luni":e.A4(z,J,p[u]);$=4+2*p[u].length;break;case"fxrp":e.dJ(z,J,p[u].x);
e.dJ(z,J+8,p[u].y);$=16;break;case"phry":case"artb":case"artd":e.kS(z,J,16);$=a2.lT(z,p[u],J+4)+4;break;
case"SoCo":e.kS(z,J,16);$=a2.lT(z,p[u],J+4)+4;break;case"GdFl":e.kS(z,J,16);$=a2.lT(z,p[u],J+4)+4;break;
case"PtFl":e.kS(z,J,16);$=a2.lT(z,p[u],J+4)+4;break;case"CgEd":var X={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},U=X,w=p[u];
U.Brgh.v=w.Brgh.v;U.Cntr.v=w.Cntr.v;U.useLegacy.v=w.useLegacy.v;e.kS(z,J,16);$=a2.lT(z,X,J+4)+4;break;
case"brit":z.FA(J,8);$=8;break;case"levl":var P=new fJ;$=f8.oW(P,p[u]);e.CI(z,J,P.data);break;case"curv":$=a5.y$(z,J,p[u]);
break;case"expA":$=14;z.FA(J,14);e.Gg(z.data,J,1);e.sL(z.data,J+2,p[u].Exps?p[u].Exps.v:0);e.sL(z.data,J+6,p[u].Ofst?p[u].Ofst.v:0);
e.sL(z.data,J+10,p[u].gammaCorrection?p[u].gammaCorrection.v:1);break;case"vibA":e.kS(z,J,16);$=a2.lT(z,p[u],J+4)+4;
break;case"hue2":$=eP.y$(z,J,p[u]);break;case"blnc":$=19;z.FA(J,$);var k=["ShdL","MdtL","HghL"];for(var g=0;
g<3;g++){var T=p[u][k[g]].v;for(var Z=0;Z<3;Z++)T.push(e.GW(z.data,J+g*6+Z*2,T[Z].v))}z.data[J+18]=p[u].PrsL.v?1:0;
break;case"blwh":var X={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},i="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var g=0;g<i.length;g++){X[i[g]]=p[u][i[g]]}e.kS(z,J,16);$=a2.lT(z,X,J+4)+4;break;case"phfl":e.qj(z,J,2);
var V=p[u].Clr.v;e.qj(z,J+2,7);e.qj(z,J+4,Math.round(V.Lmnc.v*100));e.qj(z,J+6,Math.round(V.A.v*100));
e.qj(z,J+8,Math.round(V.B.v*100));e.qj(z,J+10,0);var _=J+2+10;z.FA(_,5);e.HH(z.data,_,p[u].Dnst.v);_+=4;
z.data[_]=p[u].PrsL.v?1:0;_++;$=_-J;break;case"mixr":$=44;z.FA(J,$);var y=fs.W6(p[u]);e.Gg(z.data,J,1);
e.Gg(z.data,J+2,y.Gj?1:0);for(var g=0;g<20;g++)e.GW(z.data,J+4+g*2,y.K[g]);break;case"clrL":case"rplc":e.qj(z,J,1);
e.kS(z,J+2,16);$=a2.lT(z,p[u],J+6)+6;break;case"nvrt":$=0;break;case"post":e.qj(z,J,p[u].Lvls.v);$=2;
break;case"thrs":e.qj(z,J,p[u].Lvl.v);$=2;break;case"grdm":var E=p[u].Rvrs?p[u].Rvrs.v:!1,F=p[u].Dthr?p[u].Dthr.v:!1,d=p[u].gs99?p[u].gs99.v.gradientInterpolationMethodType:"Gcls",x=867527939,f=!1,Q=!1,m=2048,I,D;
if(d=="Lnr")d="Lnr ";if(d=="stripes")d="\0\0\fm";var H=[0,0,0,0],S=[32768,32768,32768,32768],R=p[u].Grad.v,G=R.Clrs==null?1:0;
if(G==0){I=R;D=JSON.parse(a_.Pc.aBk).v}else{I=em.J0("grdm").Grad.v;D=R}z.FA(J,8);e.Gg(z.data,J,3);z.data[J+2]=E?1:0;
z.data[J+3]=F?1:0;e.CR(z.data,J+4,d);var C=J+8;e.A4(z,C,R.Nm.v);C+=4+R.Nm.v.length*2;C=bg.aJ_(z,C,I);
e.qj(z,C,G);C+=2;e.kS(z,C,D.RndS.v);C+=4;e.qj(z,C,D.ShTr.v?1:0);C+=2;e.qj(z,C,D.VctC.v?1:0);C+=2;e.kS(z,C,D.Smth.v);
C+=4;e.qj(z,C,3);C+=2;for(var g=0;g<4;g++)e.qj(z,C+g*2,H[g]);C+=8;for(var g=0;g<4;g++)e.qj(z,C+g*2,S[g]);
C+=8;C+=2;$=C-J;break;case"selc":$=ey.y$(z,J,p[u]);break;case"FMsk":e.CI(z,J,p[u]);$=p[u].length;break;
case"Txt2":var O=new fJ,Y=ed.Ag(p[u].Yh,O),h=O.data.slice(0,Y);e.CI(z,J,h);$=h.length;break;case"vmsk":var r=p[u],W=0;
e.kS(z,J,3);if(!r.r4)W+=1<<1;if(!r.isEnabled)W+=1<<2;e.kS(z,J+4,W);$=8;var N=r.u.length;z.FA(J+8,N*26);
iV.hU(z.data,J+8,r.u,B.r,B.$);$+=N*26;break;case"shmd":e.kS(z,J,Object.keys(p[u]).length);var _=J+4;
for(var o in p[u]){e.fn(z,_,"8BIM");_+=4;e.fn(z,_,o);_+=4;e.kS(z,_,0);_+=4;e.kS(z,_,0);_+=4;e.kS(z,_,16);
_+=4;var K=a2.lT(z,p[u][o],_);if(K%4!=0)K+=4-K%4;e.kS(z,_-8,K+4);_+=K}$=_-J;break;case"TySh":var _=J;
e.ld(z,_,1);_+=2;var l=p[u],O=new fJ;l.qU.DocumentResources=a.G(l.qU.ResourceDict);var Y=ix.Ag(l.qU,O),h=O.data.slice(0,Y);
l.PB.EngineData={t:"tdta",v:h};var aV=l.qU.EngineDict.Editor.Text;l.PB.Txt.v=aV.substring(0,aV.length-1);
e.a4G(z,_,l.h);_+=48;e.ld(z,_,50);_+=2;e.kS(z,_,16);_+=4;_+=a2.lT(z,l.PB,_);e.ld(z,_,1);_+=2;e.kS(z,_,16);
_+=4;_+=a2.lT(z,l.lL,_);e.ayE(z,_,l.M6);_+=16;$=_-J;break;case"lmfx":e.kS(z,J,0);e.kS(z,J+4,16);var X=a.G(p[u]),j=!1;
bp._3(X);for(var g=0;g<a_.in.length;g++)if(X[a_.in[g]]!=null)j=!0;e.fn(z,A,j?"lmfx":"lfx2");$=a2.lT(z,X,J+8)+8;
break;case"Patt":var _=dE.kl(z,J,p[u]);$=_-J;break;case"PlLd":var M=J;z.FA(J,60);var T=p.SoLd;e.fn(z,J,"plcL");
e.kS(z,J+4,3);var s=z.data[J+8]=T.Idnt.v.length;e.fn(z,J+9,T.Idnt.v);var _=J+9+s,l2=[1,1,16,2];for(var g=0;
g<4;g++)e.kS(z,_+g*4,l2[g]);_+=16;l2=L.tp.bU(T.nonAffineTransform);for(var g=0;g<8;g++)e.dJ(z,_+g*8,l2[g]);
_+=64;e.kS(z,_,0);e.kS(z,_+4,16);var gm=a.TX.a9U(T.quiltWarp).v;_+=8+a2.lT(z,gm,_+8);$=_-J;break;case"SoLd":var T=p[u],iz=T.quiltWarp;
T.warp=a.TX.a9U(iz);if(a.TX.rq(iz.v)==16)delete T.quiltWarp;e.fn(z,J,"soLD");e.kS(z,J+4,4);e.kS(z,J+8,16);
$=a2.lT(z,T,J+12)+12;T.quiltWarp=iz;delete T.warp;break;case"vstk":case"pths":e.kS(z,J,16);$=a2.lT(z,p[u],J+4)+4;
break;case"vscg__":e.fn(z,J,p[u].key);e.kS(z,J+4,16);$=a2.lT(z,p[u].K,J+8)+8;break;case"vogk":e.kS(z,J,1);
e.kS(z,J+4,16);a.R$.aAx(p[u]);for(var g=0;g<p[u].length;g++){var dC=p[u][g].v.keyOriginResolution;if(dC)dC.v=B.Ge}var dL={classID:"null",keyDescriptorList:{t:"VlLs",v:p[u]}};
$=a2.lT(z,dL,J+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var C=J;for(var g=0;g<p[u].length;g++){var cP=p[u][g],id=C;
e.qt(z,C,0);C+=8;e.fn(z,C,cP.I);C+=4;e.kS(z,C,cP.it);C+=4;z.FA(C,1);z.data[C]=cP.A_.length;C++;e.fn(z,C,cP.A_);
C+=cP.A_.length;e.A4(z,C,cP.qI+"\0");C+=4+cP.qI.length*2+2;e.fn(z,C,cP.ht);C+=4;e.fn(z,C,cP.J_);C+=4;
e.qt(z,C,cP.raw.length);C+=8;z.FA(C,1);z.data[C]=cP.open;C++;e.CI(z,C,cP.raw);C+=cP.raw.length;e.kS(z,C,1);
C+=4;C+=11;var jR=C-id-8;e.qt(z,id,jR);if(jR%4!=0){z.FA(C,4-jR%4);C+=4-jR%4}}$=C-J;break;case"FEid":var C=J;
e.kS(z,C,3);C+=4;for(var hC=0;hC<p[u].length;hC++){var eJ=p[u][hC];C+=4;var el=C;C+=4;e.a8(z,C,eJ.id);
C+=eJ.id.length+1;e.kS(z,C,1);C+=4;var eu=a.j(eJ.S.C(),B.depth),jY=eJ.S,fN=a.j(jY.C(),B.depth);C+=4;
var jC=C;C+=4;e.D4(z,C,jY);C+=16;e.kS(z,C,B.depth);C+=4;e.kS(z,C,24);C+=4;for(var g=0;g<24+2;g++){var kF=-1;
if(g==0)kF=0;if(g==1)kF=1;if(g==2)kF=2;if(g==25)kF=3;e.kS(z,C,kF!=-1?1:0);C+=4;if(kF!=-1){a.Tm(eJ.buffer,eu,kF);
a._1(eu,eJ.S,fN,jY);C+=4;var i6=C;C+=4;z.FA(C,jY.C()+2);C=hD.bx(!0,fN,z.data,jY.r,jY.$,C,3);e.kS(z,i6,C-(i6+4))}}e.kS(z,jC,C-(jC+4));
z.FA(C,1);z.data[C]=eJ.T4?1:0;C++;if(eJ.T4!=null){var kT=jY,kY=a.j(kT.C(),B.depth);kY.fill(a.hW(B.depth)*eJ.T4.color/255);
a._1(eJ.T4.N,eJ.T4.S,kY,kT);e.D4(z,C,kT);C+=16;C+=4;var h9=C;C+=4;z.FA(C,kT.C()+2);C=hD.bx(!0,kY,z.data,kT.r,kT.$,C,3);
e.kS(z,h9,C-(h9+4))}var jR=C-(el+4);e.kS(z,el,jR);if(jR%4!=0)C+=4-jR%4}$=C-J;break;case"Lr16":case"Lr32":var bG=bM.aFH(B,z,J,[],!1);
$=bG-J;break;case"Anno":var bG=J,dQ=p[u].length;e.qj(z,bG,2);e.qj(z,bG+2,1);bG+=4;e.kS(z,bG,dQ);bG+=4;
for(var g=0;g<dQ;g++){var jn=p[u][g],b1=jn[0],c8=jn[1],j_=bG;bG+=4;e.fn(z,bG,"txtA");bG+=4;z.FA(bG,2);
z.data[bG]=1;z.data[bG+1]=28;bG+=2;e.qj(z,bG,1);bG+=2;e.D4(z,bG,new fw(b1,c8,17,21));bG+=16;e.D4(z,bG,new fw(b1+8,c8+10,241,141));
bG+=16;z.FA(bG,10);jZ.xY(z.data,bG,jn[2]);bG+=10;bG+=e.a8(z,bG,jn[3]);bG+=e.a8(z,bG,"");bG+=e.a8(z,bG,"D:20211012120233+01'00'");
var fQ=jn[4].length*2;e.kS(z,bG,12+2+fQ);bG+=4;e.fn(z,bG,"txtC");bG+=4;e.kS(z,bG,2+fQ);bG+=4;z.FA(bG,2);
z.data[bG]=254;z.data[bG+1]=255;bG+=2;e.afF(z,bG,jn[4]);bG+=fQ;e.kS(z,j_,bG-j_)}$=bG-J;break;default:console.log("unknown layer tag: "+u+", size: "+$);
J-=12;continue}var cM=["Txt2","artd","extd","pths"];if(cM.indexOf(u)==-1)if($%4!=0)$+=4-$%4;if(v)e.qt(z,J-8,$);
else e.kS(z,J-4,$);if(u!="luni"&&u!="TySh")if($%4!=0)$+=4-$%4;J+=$}return J};bp._w=function(z){for(var g=0;
g<a_.order.length;g++){var J=a_.order[g],p=a_.in[g];if(z[p]==null)z[p]={t:"VlLs",v:[]};if(z[J]!=null){z[p].v.push(z[J]);
delete z[J]}var n=[];for(var B=0;B<z[p].v.length;B++){var c=z[p].v[B];if(c.v.present==null||c.v.present.v==!0)n.push(c)}z[p].v=n}};
bp._3=function(z){for(var g=0;g<a_.order.length;g++){var J=a_.order[g],p=a_.in[g],n=z[p].v.length;if(n==0){delete z[p];
continue}if(n==1){z[J]=z[p].v[0];delete z[p];continue}}};bp.fI=function(z,J){if(J=="GdFl"){if(z.Angl==null)z.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(z.Algn==null)z.Algn={v:!0,t:"bool"};if(z.Scl==null)z.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(z.Ofst==null)z.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(z.Rvrs==null)z.Rvrs={v:!1,t:"bool"};if(z.Dthr==null)z.Dthr={v:!1,t:"bool"}}if(J=="PtFl"){if(z.Algn==null)z.Algn={v:!0,t:"bool"};
if(z.Angl==null)z.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(z.Scl==null)z.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(z.phase==null)z.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};bp.P=function(z,J){var p={};
if(z=="TySh"){p.h=J.h.P();p.PB=a.G(J.PB);p.lL=a.G(J.lL);p.M6=J.M6.P();p.qU=a.G(J.qU);if(J.add)p.add={vmsk:J.add.vmsk.P(),vogk:a.G(J.add.vogk)};
return p}else if(z=="fxrp")return J.P();else if(z=="vmsk")return J.P();else return a.G(J)};function bN(z,J){}bN.yi=function(z,J,p,n,B){n=bN.afA(z,J,p,n,B);
return n};bN.Ag=function(z,J,p,n,B){n=bN.an8(z,J,p,n,B);return n};bN.afA=function(z,J,p,n,B){var c=n;
z.S=e.LM(p,n,B);n+=16;var t=B?e.Ei:e.Bq,u=B?e._4:e.uf,v=t(p,n);n+=2;z.hH=[];var A=J.v7,$=B?e.app:e.LD,X=B?e.gm:e.fy,U=A?$:X;
for(var g=0;g<v;g++){z.hH[g]={id:u(p,n),length:U(p,n+2)};n+=A?10:6}var w=e.W2(p,n,B);n+=4;if(w!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(w));
alert("Error in Photoshop file: wrong signature.");throw"e"}z.QN=e.W2(p,n,B);n+=4;z.YF=p[n];n+=1;z.Bx=p[n]==1;
n+=1;z.a3=p[n];n+=1;if(p[n]!=0)console.log("error in filler!");n+=1;var P=X(p,n);n+=4;var k=n;n=bN.aev(z,p,n,B);
n=bN.aox(z,p,n,B);var T=e.Nj(p,n);z.name=T.vc;n+=T.length;if(T.length%4!=0)n+=4-T.length%4;n=bp.Ef(p,n,k+P,z.add,A,J,B);
if(z.add.lsct){if(z.add.lsct.QN)z.QN=z.add.lsct.QN;z.add.lsct=z.add.lsct.I}return n};bN.an8=function(z,J,p,n,B){var c=n;
e.D4(p,n,z.S);n+=16;var t=J.add.fcmy==1,u=z.a5v(t);e.qj(p,n,u.length);n+=2;var v=J.v7;B.push(n);for(var g=0;
g<u.length;g++){e.ld(p,n,u[g]);if(v)e.qt(p,n+2,0);else e.kS(p,n+2,0);n+=v?10:6}e.fn(p,n,"8BIM");n+=4;
e.fn(p,n,z.QN);n+=4;e.cU(p,n,z.YF,1);n+=1;e.cU(p,n,z.Bx?1:0,1);n+=1;e.cU(p,n,z.a3,1);n+=1;e.cU(p,n,0,1);
n+=1;var A=n;e.kS(p,n,0);n+=4;var $=n;n=bN.akA(z,p,n);n=bN.avG(z,p,n);var X=e.a8(p,n,z.name.slice(0,255));
n+=X;if(X%4!=0)n+=4-X%4;if(z.add.lsct){z.add.lsct={I:z.add.lsct};if(z.QN=="pass"){z.add.lsct.QN="pass";
z.QN="norm"}}if(z.QN=="pass")z.add.lsct={I:z.add.lsct,QN:"pass"};if(z.add.brit)z.add.CgEd=z.add.brit;
n=bp.Nf(p,n,z.add,v,J);delete z.add.CgEd;if(z.add.lsct){if(z.add.lsct.QN)z.QN=z.add.lsct.QN;z.add.lsct=z.add.lsct.I}var U=n-$;
e.kS(p,A,U);return n};bN.aev=function(z,J,p,n){var B=n?e.gm:e.fy,c=B(J,p);p+=4;if(c==0)return p;var t=p;
z.T4=new bi.L7;z.T4.S=e.LM(J,p,n);p+=16;z.T4.color=J[p];p+=1;var u=bN.a3o(z.T4,J,p);p+=1;if(u){var v=!1,A=255,$=0,X=255,U=0;
for(var g=0;g<z.hH.length;g++)if(z.hH[g].id==-3)v=!0;if(v){z.SV=bN.al$(J,p,n);p+=18}var w=p,P=J[p];p++;
var k=n?e.L6:e.U0;if(P>>0&1){A=J[p];p++}if(P>>1&1){$=k(J,p);p+=8}if(P>>2&1){X=J[p];p++}if(P>>3&1){U=k(J,p);
p+=8}if((p-w&1)==1)p++;z.x5=[A,$,X,U]}else{if(c==20)p+=2;else{z.SV=bN.al$(J,p,n);p+=18}}return t+c};
bN.akA=function(z,J,p){e.kS(J,p,0);p+=4;if(z.T4==null)return p;var n=z.Qu(),B=z.add.vmsk,c=p,t=!0;e.kS(J,p,0);
e.D4(J,p,z.T4.S);p+=16;e.cU(J,p,z.T4.color);p+=1;bN.apo(z.T4,J,p,t);p+=1;if(t){if(z.SV){bN.a5W(J,p,z.SV);
p+=18}var u=p;e.cU(J,p,B?15:3);p+=1;e.cU(J,p,n?n.ED:255);p+=1;e.dJ(J,p,n?n.cc:0);p+=8;if(B){e.cU(J,p,B?B.ED:255);
p+=1;e.dJ(J,p,B?B.cc:0);p+=8}if((p-u&1)==1)p++}e.kS(J,c-4,p-c);return p};bN.al$=function(z,J,p){var n=new bi.L7;
bN.a3o(n,z,J);J+=1;n.color=z[J];J+=1;n.S=e.LM(z,J,p);J+=16;return n};bN.a5W=function(z,J,p){bN.apo(p,z,J,!1);
J+=1;e.cU(z,J,p.color);J+=1;e.D4(z,J,p.S);J+=16};bN.a3o=function(z,J,p){var n=J[p];z.r4=(n>>0&1)==0;
z.isEnabled=(n>>1&1)==0;z.$I=(n>>3&1)==1;return n>>4&1};bN.apo=function(z,J,p,n){var B=0;if(!z.r4)B+=1<<0;
if(!z.isEnabled)B+=1<<1;if(z.$I)B+=1<<3;if(n)B+=1<<4;e.cU(J,p,B)};bN.aox=function(z,J,p,n){var B=n?e.gm:e.fy,c=B(J,p);
p+=4;for(var g=0;g<c;g++)z.QQ[g]=J[p+g];return p+c};bN.avG=function(z,J,p){e.kS(J,p,z.QQ.length);p+=4;
J.FA(p,40);for(var g=0;g<40;g++){J.data[p+g]=z.QQ[g]}return p+40};function hD(){}hD.yi=function(z,J,p,n,B){n=hD.apc(z,J,p,n,B);
return n};hD.oW=function(z,J,p,n,B,c,t){n=hD.aEm(z,J,p,n,B,c,t);return n};hD.apc=function(z,J,p,n,B){var c=J.ei,t=z.hH,u={},v=n;
for(var g=0;g<t.length;g++){var A=t[g],$=A.id,X=A.length,U;if($==-2&&z.T4==null)$=-1;if($==-3)U=z.SV.S;
else if($==-2)U=z.T4.S;else U=z.S;var w=hD.kq(J.v7,J.oF,p,U.r,U.$,n,X,B);w=a.hg(w,J.depth);n+=X;if($==-3)z.SV.N=w;
else if($==-2)z.T4.N=w;else u["c"+$]=w}var P=new a.rk(0);P.k6=null;if(c==3){P.o=u.c0;P.k=u.c1;P.X=u.c2;
P.k6=u["c-1"]}else if(c==1){P.o=u.c0;P.k=u.c0;P.X=u.c0;P.k6=u["c-1"]}else if(c==4){var k=J.F0.r1039,T=null,Z=u.c0,i=u.c1,V=u.c2,_=u.c3;
if(k){var T=k.aK4,y=17;if(T==null){var E=ICC.R(k.buffer);if(E.header.spaceIn=="RGB "){}else T=k.aK4=ICC.U.sampleLUT(E,y)}}if(T){var F={o:Z,k:i,X:V,k6:_},d=a.j(Z.length*4,J.depth);
a.s7(F,d);a.oU(d);ICC.U.applyLUT4(T,y,d,d);a.eJ(d,F)}else{var F={o:Z,k:i,X:V,k6:_},d=a.j(Z.length*4,J.depth);
a.s7(F,d);a.oU(d);a.akY(d);a.eJ(d,F)}P.o=Z;P.k=i;P.X=V;P.k6=u["c-1"]}if(P.o==null)P.o=a.j(0);if(P.k6==null&&P.o!=null){P.k6=P.o.slice(0);
P.k6.fill(a.hW(a.zr(P.k6)))}if(P.k==null)P.k=P.o.slice(0);if(P.X==null)P.X=P.o.slice(0);z.buffer=a.j(Math.max(0,z.S.C()*4),J.depth);
a.s7(P,z.buffer);return n};hD.aEm=function(z,J,p,n,B,c,t){var u=J.a5v(t),v=J.buffer,A=null,$=a.zr(v),X=a.j(J.S.C(),$);
if(t){A=a.j(J.S.C(),$);a.Tm(v,A,3);v=v.slice(0);a.alZ(v)}for(var g=0;g<u.length;g++){var U=u[g],w;if(U==-3)w=J.SV.S;
else if(U==-2)w=J.T4.S;else w=J.S;var P=X;if(U==-3)P=J.SV.N;if(U==-2)P=J.T4.N;if(U==-1){if(A)P=A;else a.Tm(v,X,3)}if(U==0)a.Tm(v,X,0);
if(U==1)a.Tm(v,X,1);if(U==2)a.Tm(v,X,2);if(U==3)a.Tm(v,X,3);p.FA(n,w.C()*3+4);var k=n;n=hD.bx(z,P,p.data,w.r,w.$,n,$!=8||c[1]?3:1);
var T=n-k;if(z)e.afU(p.data,B+g*10+2,T);else e.HH(p.data,B+g*6+2,T)}return n};hD.kq=function(z,J,p,n,B,c,t,u){var v=u?e.Ei:e.Bq,A=v(p,c);
c+=2;var $=hD.U8(z,J,p,n,B,c,A,t-2,u);return $};hD.bx=function(z,J,p,n,B,c,t){e.GW(p,c,t);c+=2;c=hD.rs(z,J,p,n,B,c,t);
return c};hD.U8=function(z,J,p,n,B,c,t,u,v){var A,$=n*B*(J>>>3),X=$&3,U=$+(X==0?0:4-X);if(u<=0){return a.j(U,J)}if(t==0){A=a.j($);
A.set(new Uint8Array(p.buffer,c,Math.min($,p.buffer.byteLength-c)));if(J==16)for(var g=0;g<$;g+=2){var w=A[g];
A[g]=A[g+1];A[g+1]=w}if(J==32)for(var g=0;g<$;g+=4){var w=A[g];A[g]=A[g+3];A[g+3]=w;w=A[g+1];A[g+1]=A[g+2];
A[g+2]=w}c+=$}else if(t==1){A=a.j($);var P=z?4:2,k=hD.auo(p,A,n,B,c,c+P*B,P,v);c+=P*B+k}else if(t==2||t==3){var T=new Uint8Array(p.buffer,c+2,u-6),Z=a.j(U);
UZIP.inflateRaw(T,Z);if(t==3){if(J==8)for(var i=0;i<B;i++){var V=i*n+1,_=V+n-1,y=Z[V-1];for(var E=V;
E<_;E++){y+=Z[E];Z[E]=y&255}}else if(J==16)for(var i=0;i<B;i++){var V=i*n,_=V+n,y=0;for(var E=V;E<_;
E++){var F=E<<1;y+=Z[F]<<8|Z[F+1];Z[F]=y&255;Z[F+1]=y>>>8}}else{var d=n,x=Z.slice(0,d*4);for(var i=0;
i<B;i++){var V=i*d*4+1,_=V+d*4-1,y=Z[V-1];for(var E=V;E<_;E++){y+=Z[E];Z[E]=y&255}var f=i*d*4;for(var E=0;
E<d;E++){x[4*E+3]=Z[f+E];x[4*E+2]=Z[f+d+E];x[4*E+1]=Z[f+d+d+E];x[4*E]=Z[f+d+d+d+E]}Z.set(x,f)}}}if(Z.length==U)A=Z;
else{A=a.j(U);for(var g=0;g<Z.length;g++)A[g]=Z[g]}}else A=a.j(U);if(J==16)A=new Uint16Array(A.buffer);
if(J==32)A=new Float32Array(A.buffer);return A};hD.rs=function(z,J,p,n,B,c,t){var u=n*B,v=a.zr(J);if(v!=8)J=new Uint8Array(J.buffer);
var A=J;if(t==0)for(var g=0;g<u;g++)p[c++]=A[g];else if(t==1){var $=z?4:2,X=hD.abt(A,p,n,B,c,c+$*B,$);
c+=$*B+X}else if(t==2||t==3){function U(x,g){return x[g+1]<<8|x[g]}if(t==3){A=A.slice(0);if(v==8)for(var w=0;
w<B;w++){var P=w*n,k=P+n;for(var T=k-1;T>P;T--)A[T]=A[T]-A[T-1]+256&255}else if(v==16)for(var w=0;w<B;
w++){var P=w*n,k=P+n;for(var T=k-1;T>P;T--){var Z=T<<1,i=U(A,Z)-U(A,Z-2)+65536&65535;A[Z]=i>>>8;A[Z+1]=i&255}var V=A[P*2];
A[P*2]=A[P*2+1];A[P*2+1]=V}else if(v==32){var _=n,y=A.slice(0,_*4);for(var w=0;w<B;w++){var E=w*_*4;
for(var T=0;T<_;T++){var F=E+4*T;y[T]=A[F+3];y[_+T]=A[F+2];y[_+_+T]=A[F+1];y[_+_+_+T]=A[F]}for(var T=_*4-1;
T>0;T--)y[T]=y[T]-y[T-1]+256&255;A.set(y,E)}}}p[c]=120;p[c+1]=156;c+=2;var d=pako.deflateRaw(A,{aeo:4});
p.set(d,c);c+=d.length+4}else console.log("Unknown compression: "+t);return c};hD.auo=function(z,J,p,n,B,c,t,u){if(!(z instanceof Uint8Array)||!(J instanceof Uint8Array))throw"e";
var v=c,A=n|0;if(u){if(t==2)for(var g=0;g<A;g++){var $=e.Ei(z,B+(g<<1));hD.xN(z,c,$,J,g*p,p);c+=$}else for(var g=0;
g<A;g++){var $=e.gm(z,B+(g<<2));hD.xN(z,c,$,J,g*p,p);c+=$}}else{if(t==2)for(var g=0;g<A;g++){var $=e.Bq(z,B+(g<<1));
hD.xN(z,c,$,J,g*p,p);c+=$}else for(var g=0;g<A;g++){var $=e.fy(z,B+(g<<2));hD.xN(z,c,$,J,g*p,p);c+=$}}return c-v};
hD.abt=function(z,J,p,n,B,c,t){var u=c;if(t==2)for(var g=0;g<n;g++){var v=hD.a4i(z,g*p,p,J,c);e.Gg(J,B+g*2,v);
c+=v}else for(var g=0;g<n;g++){var v=hD.a4i(z,g*p,p,J,c);e.HH(J,B+g*4,v);c+=v}return c-u};hD.a4i=function(z,J,lj,p,n){var B,c,t,u,v,j3,A;
u=J+lj;for(t=J,c=n;lj>0;t=B,lj-=j3){A=lj<128?lj:128;if(t<=u-3&&z[t+1]==z[t+0]&&z[t+2]==z[t+0]){for(B=t+3;
B<t+A&&z[B]==z[t+0];)++B;j3=B-t;p[c++]=1+256-j3;p[c++]=z[t+0]}else{for(B=t;B<t+A;)if(B<=u-3&&z[B+1]==z[B+0]&&z[B+2]==z[B+0])break;
else++B;j3=B-t;p[c++]=j3-1;for(var g=0;g<j3;g++)p[c+g]=z[t+g];c+=j3}}return c-n};hD.xN=function(z,J,p,n,B,c){for(var t=0;
t<p;){var lj=z[J++];if(lj>=128){var u=z[J++],v=B+(257-lj);n.fill(u,B,v);B=v;t+=2}else{for(var g=0;g<=lj;
g++)n[B+g]=z[J+g];J+=lj+1;B+=lj+1;t+=1+1+lj}}};function jA(){}jA.azR=function(z){if(z.F0.r1005){z.Ge=e.We(z.F0.r1005,0)}if(z.F0.r1025){var J=z.F0.r1025;
delete z.F0.r1025;var p=iV.uG(J,0,J.length,z.r,z.$),n=new bi.jP;n.u=p;z.$n[0]=b$.zo("Work Path",{vmsk:n})}if(z.F0.r1026){var B=z.F0.r1026;
for(var g=0;g<B.length;g+=2){var c=z.U[g>>>1];if(c)c.eg=e.Bq(B,g)}}if(z.F0.r1032){z.r_=bM.a8v(z.F0.r1032,0)}delete z.F0.r1036;
z.Wk(z.F0.r1039);if(z.F0.r1045){z.XM=[];var t=z.F0.r1045,u=0;while(u<t.length){var v=e.nX(t,u);z.XM.push(v);
u+=4+2+v.length*2}}if(z.F0.r1050){var A=e.fy,$=z.F0.r1050,X=e.fy($,0);if(X==6){var u=4,U=e.LM($,u);u+=16;
var w=e.LW($,u);u+=4+w.length*2;var P=A($,u);u+=4;var k=z.Cy;for(var g=0;g<P;g++){var T=L.Xk.NK(),i;
k.push(T);T=T.v;T.sliceID.v=A($,u);u+=4;T.groupID.v=A($,u);u+=4;var Z=A($,u);u+=4;if(Z==1){i=A($,u);
u+=4}var w=e.LW($,u);u+=4+w.length*2;var V=A($,u);u+=4;var _=[A($,u),A($,u+4),A($,u+8),A($,u+12)];u+=16;
L.Xk.h5(k,k.length-1,_);var y=T.url.v=e.LW($,u);u+=4+y.length*2;var E=T.null.v=e.LW($,u);u+=4+E.length*2;
var F=T.Msge.v=e.LW($,u);u+=4+F.length*2;var d=T.altTag.v=e.LW($,u);u+=4+d.length*2;T.cellTextIsHTML.v=$[u]==1;
u++;var x=T.cellText.v=e.LW($,u);u+=4+x.length*2;var f=A($,u);u+=4;var Q=A($,u);u+=4;var m=$.slice(u,u+4);
u+=4;if(Z!=2)k.pop()}}else if(X==8){var H={},S=new fw(0,0,z.r,z.$);a2.JP($,H,8,!1);var $=z.Cy=H.slices.v;
for(var g=0;g<$.length;g++){var R=L.Xk.nQ($,g),I=new fw(R[0],R[1],R[2]-R[0],R[3]-R[1]);if($[g].v.origin.v.ESliceOrigin!="userGenerated"||I.ly(S).Sz()){$.splice(g,1);
g--}}}}if(z.F0.r1058){var D=z.F0.r1058,G=UTIF.decode(D.buffer,{parseMN:!1,debug:!1});l0.Ix(G[0],z.UD);
delete z.F0.r1058}if(z.F0.r1060){var C=e.A8(z.F0.r1060);l0.my(C,z.UD);delete z.F0.r1060}if(z.F0.r1065){var B=z.F0.r1065;
z.TN={};a2.JP(B,z.TN,4,!1)}if(z.F0.r1069){var B=z.F0.r1069,O=[];for(var g=2;g<B.length;g+=4){var i=e.fy(B,g);
for(var Y=0;Y<z.U.length;Y++){var c=z.U[Y];if(c.add.lyid==i&&c.add.lsct!=3&&O.indexOf(Y)==-1)O.push(Y)}}z.Y=O}if(z.F0.r1072){var B=z.F0.r1072;
for(var g=0;g<B.length;g++){var c=z.U[g];if(c)c.cM=B[g]==1}}if(z.F0.r1073){var B=z.F0.r1073,u=0,h=e.lz(B,u);
u+=4;var r=e.lz(B,u);u+=4;for(var g=0;g<r;g++){z.ih.push({y:h>=2?e.Lb(B,u+2):e.We(B,u+2),x:h>=2?e.Lb(B,u+6):e.We(B,u+6)});
u+=14}delete z.F0.r1073}if(z.F0.r1074){z.I7={};a2.JP(z.F0.r1074,z.I7,4,!1);delete z.F0.r1074}var W,N,gm=null;
if(z.F0.r3000){W={};a2.JP(z.F0.r3000,W,4,!1);delete z.F0.r3000}if(z.add.pths){N=z.add.pths;delete z.add.pths}for(var o=0;
o<=997;o++){var K="r"+(2e3+o),J=z.F0[K];if(J==null)break;var p=iV.uG(J,0,J.length,z.r,z.$),l="Path "+o,aV=[0,0];
if(N){var j=N.pathList.v[o].v,M=j.pathSymmetryClass;if(M){M=M.v;var s=M.pathSymmetryMode.v.pathSymmetryModeEnum.slice(16),P=M.pathSymmetryCount;
aV=[a.H6.aiP.indexOf(s),P?P.v:0]}l=j.pathUnicodeName.v}var l2=W?W.keyRootDescriptorList.v[o].v.keyDescriptorList.v:bi.cC(p),n=new bi.jP;
n.u=p;z.$n.push(b$.zo(l,{vmsk:n,vogk:l2},aV));delete z.F0[K]}if(N){var iz=N.pathSymmetrySelectedPath;
if(iz)gm=z.$n[iz.v+1]}for(var g=0;g<z.$n.length;g++)if(z.$n[g].sC[0]==3){z.$n.splice(g,1);g--}if(gm){if(gm.sC[0]==3)z.KY=!0;
else z.uc=z.$n.indexOf(gm)}if(z.F0.r4000){z.Jk=a.Jk.yi(z.F0.r4000)}var dC=z.F0.r7000,dL=z.F0.r7001;if(dC){var v=e.A8(dC);
z.gP=bM.aeB(v)}if(dL){var v=e.A8(dL);z.$p=bM.awF(v)}delete z.F0.r7000;delete z.F0.r7001};jA.aKQ=function(z,J,p){z.F0.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);
e.ac8(z.F0.r1005,0,z.Ge);e.ac8(z.F0.r1005,8,z.Ge);if(z.ih.length>0){var n=z.ih;z.F0.r1073=new Uint8Array(8+n.length*14);
e.Xv(z.F0.r1073,0,3);e.Xv(z.F0.r1073,4,n.length);for(var g=0;g<n.length;g++){var B=8+14*g;e.GW(z.F0.r1073,B,14);
e.sL(z.F0.r1073,B+2,n[g].y);e.sL(z.F0.r1073,B+6,n[g].x);e.GW(z.F0.r1073,B+10,-1);e.GW(z.F0.r1073,B+12,8)}}if(z.d4()){z.F0.r1022=new Uint8Array([0,3+z.b8.length-1,0])}else delete z.F0.r1022;
var c=new Uint8Array(z.U.length*2),t=0,u=new Uint8Array(z.U.length),v=1,B=16;for(var g=0;g<z.U.length;
g++){var A=z.U[g],$=A.eg,X=A.cM?1:0;e.Gg(c,g*2,$);u[g]=X;if($>t)t=$;if(X==0)v=0}if(t>0)z.F0.r1026=c;
if(v<1)z.F0.r1072=u;var U=z.r_,w=U.length,P=z.F0.r1032=new Uint8Array(16+5*w);e.HH(P,0,1);e.HH(P,4,576);
e.HH(P,8,576);e.HH(P,12,w);for(var g=0;g<w;g++){e.Xv(P,B,Math.round(U[g][1]*32));P[B+4]=U[g][0];B+=5}if(J[4]!=!0){var k=[z.dT(),new fw(0,0,z.r,z.$)],T=0;
a.pG(k);while(k[T+1].C()>200*200)T+=2;var Z=kL.V5("jpg"),i=k[T+1],V=new Uint8Array(Z.D6([[k[T].buffer,null,z.Ge]],i.r,i.$)),P=z.F0.r1036=new Uint8Array(28+V.length);
e.HH(P,0,1);e.HH(P,4,i.r);e.HH(P,8,i.$);e.HH(P,12,i.r*3);e.HH(P,16,i.C()*3);e.HH(P,20,V.length);e.Gg(P,24,24);
e.Gg(P,26,1);P.set(V,28)}delete z.F0.r1045;delete z.F0.r1006;delete z.F0.r1077;var _=new fJ;B=0;var y=new Uint8Array(4+p.length*13);
y[3]=1;for(var g=0;g<p.length;g++){var E=p[g],F=E.name+"\0";e.A4(_,B,F);B+=4+F.length*2;var d=4+g*13;
jZ.xY(y,d,E.Ij);y[d+11]=E.mN;y[d+12]=E.iQ}if(B!=0)z.F0.r1045=_.data.slice(0,B);z.F0.r1077=y;for(var g=0;
g<z.Cy.length;g++)z.Cy[z.Cy.length-g-1].v.sliceID.v=2+g*3;var x={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:z.Cy}},_=new fJ;
e.kS(_,0,8);e.kS(_,4,16);var f=a2.lT(_,x,8);z.F0.r1050=_.data.slice(0,f+8);var _=new fJ;e.kS(_,0,16);
var f=a2.lT(_,z.TN,4);z.F0.r1065=_.data.slice(0,f+4);if(z.I7){var _=new fJ;e.kS(_,0,16);var f=a2.lT(_,z.I7,4);
z.F0.r1074=_.data.slice(0,f+4)}var Q=z.Y;P=z.F0.r1069=new Uint8Array(2+Q.length*4);e.Gg(P,0,Q.length);
for(var g=0;g<Q.length;g++)e.HH(P,2+4*g,z.U[Q[g]].add.lyid);delete z.F0.r1058;delete z.F0.r1060;if(Object.keys(z.UD).length!=0){var m=[[Math.round(z.Ge*1e4),1e4]],H=[{t274:[1],t282:m,t283:m,t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
l0.ql(z.UD,H[0],J[0]&&J[1]);z.F0.r1058=new Uint8Array(UTIF.encode(H));var S=l0.B_(z.UD);z.F0.r1060=e.Hu(S)}var R=[],I=[],D=z.$n.slice(0);
if(z.KY){var G=iV.a0p([{type:6},{type:8,all:0},{type:3,length:5,boolop:1,frule:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),C=new bi.jP;
C.u=G;D.push(b$.zo("Tile Symmetry 1",{vmsk:C,vogk:bi.cC(G)},[3,1]))}var O=z.KY?z.$n.length-1:z.uc-1;
for(var g=0;g<D.length;g++){var Y=D[g],G=Y.add.vmsk.u;if(g==0&&G.length==2)continue;var h=a.j(G.length*26);
iV.hU(h,0,G,z.r,z.$);var r=g==0?1025:2e3+g-1;z.F0["r"+r]=h;if(g!=0){var W={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:Y.name}},N=W.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryMode"+a.H6.aiP[Y.sC[0]]}}}};
if(Y.sC[1]!=0)N.v.pathSymmetryCount={t:"long",v:Y.sC[1]};R.push({t:"Objc",v:W});I.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:Y.add.vogk}}})}}if(R.length!=0){z.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:R}};
if(O!=-1)z.add.pths.pathSymmetrySelectedPath={t:"long",v:O};I={classID:"null",keyRootDescriptorList:{t:"VlLs",v:I}};
var _=new fJ;e.kS(_,0,16);var f=a2.lT(_,I,4);z.F0.r3000=_.data.slice(0,f+4)}else{delete z.add.pths;delete z.F0.r3000}if(z.Jk&&z.Jk.length!=0){z.F0.r4000=a.Jk.Ag(z.Jk)}if(z.gP.length!=0){var o="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var g=0;g<z.gP.length;g++){var K=z.gP[g],l=[];for(var r in K)l.push(r+"=\""+K[r]+"\"");o+="<variable "+l.join(" ")+">\n</variable>\n"}o+="</variables>\n</variableSet>\n</variableSets>";
z.F0.r7000=e.Hu(o)}if(z.$p.length!=0){var o="<sampleDataSets psdPath=\""+z.name+"\">\n";for(var g=1;
g<z.$p.length;g++){var aV=z.$p[g];o+="<sampleDataSet dataSetName=\"Data Set "+g+"\">\n";for(var j=0;
j<aV.length;j++)o+="<"+z.$p[0][j]+">"+aV[j].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+z.$p[0][j]+">\n";
o+="</sampleDataSet>\n"}o+="</sampleDataSets>";z.F0.r7001=e.Hu(o)}};jA.a0j=function(z,J,p){var n=e.fy(J,p),B=0;
p+=4;var c=[];while(B<n){var t=e.RM(J,p+B,4);B+=4;var u=e.Bq(J,p+B);B+=2;var v=e.Nj(J,p+B);B+=v.length;
if(t=="MeSa"&&(u==7e3||u==7001)){}else if(t!="8BIM"){c.push(u);console.log("Unknown Image Resources signature: "+t+", ID: "+u)}var A=e.fy(J,p+B);
B+=4;if(z.F0["r"+u]!=null)console.log("--- two resources with same ID");z.F0["r"+u]=e.Bm(J,p+B,A);B+=A+(A&1)}for(var g=0;
g<c.length;g++)delete z.F0["r"+c[g]];delete z.F0.r1092;return p+n};jA.aql=function(z,J,p){var n=p,t=0;
p+=4;var B=[];for(var c in z.F0){B.push(parseInt(c.slice(1)))}B.sort(function(X,U){return X-U});for(var g=0;
g<B.length;g++){var u=B[g];e.fn(J,p+t,u==7e3||u==7001?"MeSa":"8BIM");t+=4;e.qj(J,p+t,u);t+=2;var v=e.a8(J,p+t,"");
t+=v;var A=z.F0["r"+u],$=A.length;e.kS(J,p+t,$);t+=4;e.CI(J,p+t,A);t+=$;if($%2==1)t++}e.kS(J,n,t);return p+t};
function bM(){}bM.tg=function(z,J,p){return;var n="",B=J;while(B!=0){var c=B%1e3+"";while(c.length<3)c="0"+c;
n=(n==""?c:c+" ")+n;B=Math.floor(B/1e3)}while(n.startsWith("0")&&n!="0")n=n.slice(1);while(n.length<11)n=" "+n;
console.log("===",n,"\t".repeat(z),": "+p)};bM.aqp=function(z){var J={F0:{},add:{},depth:8},n=0,B=0,u;
J.v7=!1;J.oF=8;var p=new Uint8Array(z);B=bM.Xe(J,p,n);n=B;B=bM.ajw(J,p,n);n=B;var c=e.fy(p,n);n+=4+c;
var t=J.v7?8:4;if(J.v7)u=e.LD(p,n);else u=e.fy(p,n);n+=t+u;B=bM.aBK(J,p,n);return[{eE:new fw(0,0,J.r,J.$),data:J.buffer.buffer}]};
bM.yi=function(z,J){J.v7=!1;var p=new Uint8Array(z),n=0,B=0,u=0,U=!1,w=!0,P=!1,k=0,jK=0;B=bM.Xe(J,p,n);
bM.tg(0,B-n,"PSD Header");n=B;B=bM.ajw(J,p,n);bM.tg(0,B-n,"Color Mode Data");n=B;B=jA.a0j(J,p,n);bM.tg(0,B-n,"Image Resources");
n=B;var c=n;B=bM.ae8(J,p,n);bM.tg(0,B-n,"Layer And Mask Info");n=B;jA.azR(J);var c=n;B=bM.aBK(J,p,n);
bM.tg(0,B-n,"Merged Image");n=B;delete J.v7;if(J.U.length==0){var t=J.JG();t.HV("Background");J.U.push(t);
t.buffer=J.buffer.slice(0);t.S=new fw(0,0,J.r,J.$)}for(var g=0;g<J.U.length;g++){var B=J.U[g],v=B.add.lsct;
if(v==cp.hX)u++;else if(v==cp.xj||v==cp.mD)u--}while(u<0){J.U.unshift(J.eH());u++}var A=new fw(0,0,J.r,J.$),$=J.add.Txt2,X=$;
if(X){X=X.Yh;if(X._DocumentResources==null)X=aG.aE4(X)}var T=-1;for(var g=0;g<J.U.length;g++){var B=J.U[g],Z=B.add.lsct,i=B.add.vmsk,V=B.Qu();
if(Z==cp.hX){k++;B.add.lspf=0}else if(Z==cp.xj||Z==cp.mD)k--;if(B.name==""){B.name="Layer "+(g+1);P=!0}if(P&&B.nT()&&B.QN=="norm")B.QN="pass";
if(B.Ik()&&B.g6(J)==null)delete B.add.SoLd;if(B.Ik()&&B.g6(J).T4){var _=B.g6(J);_.T4.isEnabled=B.add.SoLd.filterFX.v.filterMaskEnable.v}if(i&&B.dH()){var y=a_.jM.J0(!0);
if(B.add.vstk==null)B.add.vstk=a.G(y);else{var E="strokeStyleLineDashSet";if(B.add.vstk[E]==null)B.add.vstk[E]=a.G(y[E])}B.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
B.add.vstk.strokeStyleResolution.v=J.Ge}if(i&&(B.add.vogk==null||a.z.ZR(i.u)!=B.add.vogk.length))B.cC();
if(i&&B.add.vogk){var F=i.u,d=B.add.vogk,x=0;for(var f=0;f<F.length;f++){var Q=F[f];if(Q.I==0||Q.I==3)if(Q.j1!=-1){if(F[f+1+Q.length]&&F[f+1+Q.length].j1==-1&&d[x].v.keyOriginType){B.cC();
break}x++}}}if(!1){var m=B.add.vogk,H=!0;for(var x=0;x<m.length;x++){var S=m[x].v.keyShapeInvalidated;
if(S==null||S.v==!1)H=!1}if(H)B.cC()}if(B.add.SoLd&&B.S.Sz()){console.log("redrawing smart instance");
B.m8(J,null,null,!0,!0)}if(V==null&&B.T4!=null){if(B.T4.$I==!1){B.T4.$I=!0;B.SV=B.T4.P()}}V=B.Qu();if(B.x5){var y=B.x5,R=i;
if(V){V.ED=y[0];V.cc=y[1]}if(R){R.ED=y[2];R.cc=y[3]}B.x5=null}if(V!=null&&i!=null&&(V.cc+i.cc!=0||V.ED+i.ED!=2*255))B.k3(J);
else if(i!=null&&!B.dH())B.k3(J);else if(V&&V.ED!=255&&B.dH())B.k3(J);var I=B.add.artb;if(I&&I.artboardBackgroundType==null)I.artboardBackgroundType={t:"long",v:1};
if(I&&k!=0)delete B.add.artb;var D=B.add.vstk;if(B.dH()&&(B.S.Sz()||i&&i.cc!=0||D&&!D.fillEnabled.v&&(!D.strokeEnabled.v||D.strokeStyleLineWidth.v.val==0)))B.mF(J);
if(B.add.TySh){U=!0;if(!B.S.Sz())w=!1}if(B.add.TySh&&X){T++;var G=B.add.TySh.qU,C=dN.DL(G),O=X._DocumentObjects._TextObjects;
if(O.length<=T){console.log("Txt2 incomplete");continue}var Y=O[T]._Model,h=Y._StyleRun?Y._StyleRun._RunArray:[],r=G.EngineDict.StyleRun.RunArray;
for(var W=0;W<r.length;W++){var N=r[W].StyleSheet.StyleSheetData;if(h[W]==null)continue;var o=h[W]._RunData._StyleSheet._Features;
if(o){if(o._BaselineDirection)N.BaselineDirection=parseInt(o._BaselineDirection.slice(1));if(o._FillBackgroundFlag)N._FillBackgroundFlag=o._FillBackgroundFlag;
if(o._FillBackgroundColor)N._FillBackgroundColor={Type:1,Values:aI.tf(o._FillBackgroundColor._Color._Values)};
var v=dN.Fy;for(var K=0;K<v.length;K++)if(o[v[K]]!=null)N[v[K]]=o[v[K]];var l=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset","_DigitSet"];
for(var K=0;K<l.length;K++)if(o[l[K]]!=null)N[l[K]]=parseFloat(o[l[K]].slice(1));if(o._MiterLimit!=null)N._MiterLimit=Math.max(N._MiterLimit,1);
if(o._LineDashArray!=null)N._LineDashArray=aI.tf(o._LineDashArray)}}var aV=G.EngineDict.ParagraphRun.RunArray,j=Y._ParagraphRun._RunArray;
if(j==null)j=[];var M=Math.min(j.length,aV.length);for(var K=0;K<M;K++){var s=aV[K].ParagraphSheet.Properties,l2=X._DocumentResources._ParagraphSheetSet._Resources,gm=j[K]._RunData._ParagraphSheet;
if(typeof gm=="string")gm=l2[parseInt(gm.slice(1))]._Resource;var iz=gm._Parent==null?gm:l2[parseInt(gm._Parent.slice(1))]._Resource;
gm=gm._Features;iz=iz._Features;var dC=gm._ParagraphDirection;if(dC==null)dC=iz._ParagraphDirection;
if(dC)s._Direction=parseInt(dC.slice(1));if(gm._ComposerEngine)s._ComposerEngine=parseInt(gm._ComposerEngine.slice(1))}if(Y._AlternateGlyphRun){var j=Y._AlternateGlyphRun._RunArray,M=j.length,dL=G.EngineDict.AlternateGlyphRun=dN.at2();
for(var K=0;K<M;K++){var gm=j[K],cP={},id=gm._RunData._AlternateGlyphSheet;if(id)cP.Glyph=parseInt(id._Glyph.slice(1));
dL.RunArray.push(cP);dL.RunLengthArray.push(parseInt(gm._Length.slice(1)))}}var jR=X._DocumentResources,hC=jR._FontSet._Resources,eJ=G.ResourceDict.FontSet;
for(var el=0;el<eJ.length;el++){var eu=eJ[el],jY=null;for(var K=0;K<hC.length;K++){var fN=hC[K]._Resource._Identifier;
if(eu.Name==fN._Name.slice(1))jY=fN}if(jY){var jC=jY._MMAxis;if(jC){eu.Axis=[];for(var K=0;K<jC.length;
K++)eu.Axis.push(parseInt(jC[K].slice(1)))}}}var kF=jR._TextFrameSet._Resources,i6=kF[T]._Resource,kT=i6._Data,kY=new fA(1,0,0,1,0,0);
if(i6._0){var h9=parseFloat(i6._0[0].slice(1)),bG=parseFloat(i6._0[1].slice(1));kY.translate(h9,bG)}if(C){kY.translate(C[0],C[1]);
dN.h4(G,[0,0,C[2]-C[0],C[3]-C[1]])}else{if(i6._Bezier&&i6._Bezier._Points){var dQ=i6._Bezier._Points,h9=parseFloat(dQ[0].slice(1)),bG=parseFloat(dQ[1].slice(1));
if(h9!=0||bG!=0){kY.translate(h9,bG)}}}if(i6._Data&&i6._Data._FrameMatrix){var jn=i6._Data._FrameMatrix;
jn=jn.map(function(g4){return parseFloat(g4.slice(1))});kY.concat(new fA(jn[0],jn[1],jn[2],jn[3],jn[4],jn[5]))}kY.concat(B.add.TySh.h);
B.add.TySh.h=kY;var b1=kT._Type?parseInt(kT._Type.slice(1)):0;if(b1==2||b1==1&&kT._PathData&&kT._PathData._Spacing=="i-3")if(i6._Bezier){var c8=function(g4){return parseFloat(g4.slice(1))},dQ=i6._Bezier._Points.map(c8);
if(C)a.b.h(dQ,new fA(1,0,0,1,-C[0],-C[1]),dQ);var j_=kT._PathData?kT._PathData._Reversed:!1,fQ=kT._TextOnPathTRange;
if(fQ==null)fQ=["f-3","f-3"];G.Curve={Points:dQ,TextOnPathTRange:fQ.map(c8),Reversed:j_==null?!1:j_};
B.add.TySh.add={vmsk:new bi.jP,vogk:null};dN.at(B.add.TySh)}if(kT._LineOrientation=="i2")G._LineOrientation=2}}L.IC.Iu(J,!0);
var cM={},aw=[];for(var g=0;g<J.U.length;g++){var ez=J.U[g].add.lyid;if(ez==null)continue;var jK=Math.max(jK,ez);
if(cM[ez]!=null)aw.push(g);else cM[ez]=!0}for(var g=0;g<aw.length;g++)J.U[aw[g]].add.lyid=jK+1+g};bM.a8v=function(z,J){J+=12;
var p=e.fy(z,J),n=[];J+=4;p=Math.min(p,Math.floor((z.length-J)/5));for(var g=0;g<p;g++){var B=Math.min(z[J+g*5+4],1),c=e.lz(z,J+g*5)/32;
n.push([B,c])}return n};bM.aeB=function(z){var J=new DOMParser,p=J.parseFromString(z,"text/xml").firstChild.children[0],n=p.getElementsByTagName("variables");
if(n.length==0)return[];n=n[0].children;var B=[],c="varName trait docRef placementMethod align valign clip".split(" ");
for(var t=0;t<n.length;t++){var u=n[t],v={};B.push(v);for(var A=0;A<c.length;A++){var $=c[A],X=u.getAttribute($);
if(X==null)continue;v[$]=X}}return B};bM.awF=function(z){var J=new DOMParser,p=J.parseFromString(z,"text/xml").firstChild.children,n=[[]];
if(p==null)return n;for(var g=0;g<p.length;g++){var B=p[g],c=[];n.push(c);for(var t=0;t<B.children.length;
t++){var u=B.children[t];if(g==0)n[0].push(u.tagName);c.push(u.textContent)}}return n};bM.Ag=function(z,J,p){L.IC.LT(z);
L.IC.Iu(z,!1);z.v7=p[3]==!0;var n=[],B=[],k=0;for(var g=0;g<z.U.length;g++){var c=z.U[g];if(c.Ik()&&c.g6(z).T4){c.add.SoLd.filterFX.v.filterMaskEnable.v=c.g6(z).T4.isEnabled}if(c.add.TySh){var t=c.add.TySh.qU,u=dN.Xn(t);
c.add.TySh.PB.TextIndex={t:"long",v:n.length};n.push(t);if(u==2)dN.Fk(c.add.TySh)}var v=c.add.vstk;if(v)v.strokeStyleResolution.v=z.Ge;
if(c.dH()||p[2]&&c.add.SoLd){B[g]=[c.S,c.buffer];c.S=new fw;c.buffer=a.j(0);if(c.add.SoLd){var A=c.g6(z);
if(A!=null){B[g].push(A.buffer);A.buffer=a.j(A.buffer.length)}}}}if(n.length>0){var $=z.add.Txt2?z.add.Txt2.Yh:null;
if(z.add.Txt2==null)z.add.Txt2={};z.add.Txt2.Yh=aI.akD(n,null,$)}var X=[z.add.lnk2,z.add.FEid,z.add.Patt],U=z.avW(z.U);
z.ayY(U);var w=a.hL(z.buffer);if(z.add.fcmy)w=!1;var P=[];if(w)P.push({name:"Transparency",Ij:{o:255,k:0,X:0},mN:100,iQ:1});
P=P.concat(z.b8);jA.aKQ(z,p,P);k=bM.ew(z,J,k,3+P.length);k=bM.aJL(z,J,k);k=jA.aql(z,J,k);k=bM.amq(z,J,k,p,w);
k=bM.a4R(z,J,k,p[0],w);var T=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var g=0;g<T.length;g++)delete z.F0["r"+T[g]];for(var g=0;g<z.U.length;g++){var c=z.U[g];if(c.dH()||p[2]&&c.add.SoLd){c.S=B[g][0];
c.buffer=B[g][1];if(B[g][2]){var A=c.g6(z);B[g].push(A.buffer);A.buffer=B[g][2]}}}z.ayY(X);L.IC.Iu(z,!0);
delete z.v7;return k};bM.Xe=function(z,J,p){var n=e.RM(J,p,4);p+=4;if(n!="8BPS")alert("invalid header signature: "+n);
var B=e.Bq(J,p);p+=2;z.v7=B==2;if(B!=1&&B!=2)alert("invalid version: "+B);p+=6;z.yF=e.Bq(J,p);p+=2;z.$=e.lz(J,p);
p+=4;z.r=e.lz(J,p);p+=4;z.oF=e.Bq(J,p);if(kv)z.depth=z.oF;p+=2;z.ei=e.Bq(J,p);p+=2;return p};bM.ew=function(z,J,p,n){var B=z.add.fcmy==1;
J.FA(0,64);e.CR(J.data,p,"8BPS");p+=4;e.Gg(J.data,p,z.v7?2:1);p+=2;e.HH(J.data,p,0);p+=4;e.Gg(J.data,p,0);
p+=2;e.Gg(J.data,p,n+(B?1:0));p+=2;e.Xv(J.data,p,z.$);p+=4;e.Xv(J.data,p,z.r);p+=4;e.Gg(J.data,p,z.depth);
p+=2;e.Gg(J.data,p,B?4:3);p+=2;return p};bM.ajw=function(z,J,p){var n=e.lz(J,p);p+=4;if(n!=0)z.fA=J.slice(p,p+n);
p+=n;return p};bM.aJL=function(z,J,p){if(z.depth==32){var n=new Uint8Array([104,100,114,116,0,0,0,3,62,107,133,31,0,0,0,2,0,0,0,7,0,76,0,105,0,110,0,101,0,97,0,114,0,0,0,2,0,2,0,0,0,0,0,255,0,255,1,1,0,0,0,0,0,0,0,0,65,128,0,0,0,0,0,1,0,0,0,0,63,128,0,0,104,100,114,97,0,0,0,6,0,0,0,0,65,160,0,0,65,240,0,0,0,0,0,0,0,0,0,0,63,128,0,0,0,0,0,0,0,0]);
e.sO(J,p,n.length);p+=4;J.FA(p,n.length);J.data.set(n,p);p+=n.length}else{e.sO(J,p,0);p+=4}return p};
bM.ae8=function(z,J,p){var n=p,B,c,t=z.v7?8:4;if(z.v7)B=e.LD(J,p);else B=e.fy(J,p);p+=t;if(B==0)return n+t;
c=bM.ayD(z,J,p);bM.tg(1,c-p,"Layer Info");p=c;c=bM.a7T(z,J,p);bM.tg(1,c-p,"Global Layer Mask Info");
p=c;c=bp.Ef(J,p,n+t+B,z.add,z.v7,z);bM.tg(1,c-p,"Project Add Info");p=c;return n+t+B};bM.amq=function(z,J,p,n,B){var c=p;
e.kS(J,p,0);p+=4;if(z.v7){e.kS(J,p,0);p+=4}p=bM.aGU(z,J,p,n,B);p=bM.ab5(z,J,p);var t=z.add;if(z.depth!=8){t={};
t["Lr"+z.depth]={};for(var u in z.add)t[u]=z.add[u]}p=bp.Nf(J,p,t,z.v7,z);if(z.v7)e.qt(J,c,p-c-8);else e.kS(J,c,p-c-4);
return p};bM.ayD=function(z,J,p){var n,B=z.v7?8:4;if(z.v7)n=e.LD(J,p);else n=e.fy(J,p);p+=B;if(n!=0)bM.cO(z,J,p);
return p+n};bM.cO=function(z,J,p,n){var B=p,c=n?e._4:e.uf,t=c(J,p);p+=2;var u=Math.abs(t);for(var g=0;
g<u;g++){var v=new bi;p=bN.yi(v,z,J,p,n);z.U[g]=v}var A=new fw(0,0,z.r,z.$);for(var g=0;g<u;g++){var $=z.U[g],X=$.Qu(),U=hD.yi($,z,J,p,n);
if(U-p>8)bM.tg(2,U-p,"Lay: "+$.getName());p=U;bM.as9($,A);if(X)bM.as9(X,A)}};bM.as9=function(z,J){};
bM.aGU=function(z,J,p,n,B){var c=p,t=z.v7;p+=t?8:4;if(z.depth==8)p=bM.aFH(z,J,p,n,B);var u=p-c-(t?8:4);
if(u%2!=0)u++;if(t)e.qt(J,c,u);else e.kS(J,c,u);return c+u+(t?8:4)};bM.aFH=function(z,J,p,n,B){var c=z.U.length;
e.ld(J,p,B?-c:c);p+=2;var t=[];for(var g=0;g<c;g++)p=bN.Ag(z.U[g],z,J,p,t);for(var g=0;g<c;g++)p=hD.oW(z.v7,z.U[g],J,p,t[g],n,z.add.fcmy==1);
return p};bM.a7T=function(z,J,p){var n=e.fy(J,p);p+=4;p+=n;return p};bM.ab5=function(z,J,p){var n=e.kS(J,p,0);
p+=4;return p};bM.aBK=function(z,J,p){var n=z.ei,B="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),c=[1,1,1,3,4,1,1,3],X;
delete z.add.fcmy;if(n!=3){if(n==1||n==2||n==4)console.log("Project will be converted from "+B[n]+" to "+B[3]+" mode.");
else{alert("Color mode "+B[n]+" is not supported yet :(")}if(n==4)z.add.fcmy=1}var t=c[n]+(z.XM==null||z.XM[0]=="Transparency"?1:0),u=z.r,v=z.$,A=u*v,$=e.Bq(J,p);
p+=2;z.buffer=a.j(A*4,z.depth);a.o2(z.buffer,1);var U=p;for(var w=0;w<z.yF;w++){if($==0){X=hD.U8(z.v7,z.oF,J,u,v,p,$);
X=a.hg(X,z.depth);p+=A*(z.oF>>>3)}else if($==1){var P=z.oF==8?1:z.oF==16?2:4;X=a.j(A*P);var k=z.v7?4:2;
if(w==0)p+=z.yF*v*k;p+=hD.auo(J,X,u*P,v,U+w*v*k,p,k);if(z.oF==16){for(var g=0;g<X.length;g+=2){var T=X[g];
X[g]=X[g+1];X[g+1]=T}X=new Uint16Array(X.buffer)}if(z.oF==32){for(var g=0;g<X.length;g+=4){var T=X[g];
X[g]=X[g+3];X[g+3]=T;T=X[g+1];X[g+1]=X[g+2];X[g+2]=T}X=new Float32Array(X.buffer)}X=a.hg(X,z.depth)}else{console.log("unknown compression of image data: ",$);
return}if(w<t){a.DE(X,z.buffer,w);if(z.yF==1&&w==0){a.DE(X,z.buffer,1);a.DE(X,z.buffer,2)}}else{var Z=new bi.L7,i=w-t,V=w-c[z.ei];
Z.name=z.XM?z.XM[V]:"Alpha";if(Z.name=="Quick Mask"){Z.m6=!0;z.dX.push(i)}Z.S=new fw(0,0,u,v);Z.N=X;
Z.color=0;Z.eB();z.b8[i]=Z;if(z.F0.r1077){var _=z.F0.r1077.slice(4+V*13);Z.Ij=jZ.zO(_,0);Z.mN=_[11];
Z.iQ=_[12];if(Z.iQ==2)Z.m6=!0}}}z.yF=4;if(z.ei==2)for(var g=0;g<A;g++){var y=g*4,E=z.buffer[y];z.buffer[y]=z.fA[0+E];
z.buffer[y+1]=z.fA[256+E];z.buffer[y+2]=z.fA[512+E]}return p};bM.a4R=function(z,J,p,n,B){var c=1,t=16,u=z.r,v=z.$,$,X,U;
e.qj(J,p,c);p+=2;if(z.depth!=8)n=!0;var A=u*v;if(!n){X=new a.rk(u*v);a.eJ(z.buffer,X);var w=X.o,P=X.k,k=X.X,T=X.k6;
for(var g=0;g<A;g++){var Z=T[g]*(1/255);w[g]=~~(w[g]*Z+255*(1-Z));P[g]=~~(P[g]*Z+255*(1-Z));k[g]=~~(k[g]*Z+255*(1-Z))}U=[X.o,X.k,X.X];
if(z.add.fcmy==1){U.push(a.j(A));var i=z.buffer.slice(0);a.alZ(i);a.eJ(i,{o:U[0],k:U[1],X:U[2],k6:U[3]})}if(B)U.push(X.k6)}else{$=a.j(A,z.depth);
if(z.depth==16)$.fill(65535);U=[$,$,$];if(z.add.fcmy==1)U.push($);if(B)U.push($)}for(var g=0;g<z.b8.length;
g++){U.push(z.b8[g].TJ(new fw(0,0,z.r,z.$)))}var V=p;for(var _=0;_<U.length;_++){J.FA(p,u*v+4);$=U[_];
if(c==0||c==2||c==3)p=hD.rs(z.v7,$,J.data,u,v,p,c);else{var y=new Uint8Array($.buffer),E=u*(z.depth>>>3),F=z.v7?4:2;
if(_==0)p+=U.length*v*F;var d=p;p+=hD.abt(y,J.data,E,v,V+_*v*F,p,F)}}return p};function ix(){}ix.yi=function(z){var J={};
ix.Fb(z,J,0,0);return J};ix.Ag=function(z,J){var p=0;p=ix.Oz(z,J,p,0);return p};ix.Fb=function(z,J,p,n){while(z[p]!="<".charCodeAt(0))p++;
p+=2;while(!0){if(z[p]=="/".charCodeAt(0)){p++;var B=e.indexOf(z," ".charCodeAt(0),p,p+50),c=e.indexOf(z,"\n".charCodeAt(0),p,p+50);
if(c==-1)c=Infinity;if(B==-1)B=Infinity;var t=Math.min(c,B),u=e.RM(z,p,t-p),v=ix.e4(z,t+1,n+1,u);J[u]=v.K;
p=t+1;p+=v.size}else if(z[p]==">".charCodeAt(0)){p+=2;break}else{var A=z[p];if(A==10||A==9||A==32)p++;
else{console.log("unknown byte: "+A+", char: "+String.fromCharCode(A),p);p++}}}return p};ix.Oz=function(z,J,p,n){e.fn(J,p,"<<\n");
p+=3;var B=ix.a7e;for(var c in z){e.cU(J,p,"\t".charCodeAt(0),n+1);p+=n+1;e.fn(J,p,"/"+c);p+=1+c.length;
if(B(z[c])||z[c]instanceof Array){e.fn(J,p," ");p++}else{e.fn(J,p,"\n");p++;e.cU(J,p,"\t".charCodeAt(0),n+1);
p+=n+1}p=ix.P9(z[c],J,p,n+1);e.fn(J,p,"\n");p++}e.cU(J,p,"\t".charCodeAt(0),n);p+=n;e.fn(J,p,">>");p+=2;
return p};ix.e4=function(z,J,p,n){var B=J,c={size:0,K:0};while(!0){while(z[J]==" ".charCodeAt(0)||z[J]=="\t".charCodeAt(0)||z[J]=="\n".charCodeAt(0))J++;
if(z[J]=="<".charCodeAt(0)){c.K={};J=ix.Fb(z,c.K,J,p+1);break}else if(z[J]=="(".charCodeAt(0)){J+=3;
var t=J;while(!0){if(z[t-1]!="\\".charCodeAt(0)&&z[t]==")".charCodeAt(0)&&(z[t+1]=="\n".charCodeAt(0)||z[t+1]==" ".charCodeAt(0)))break;
else t++}c.K=e.aaz(z,J,t);J=t+2;break}else if(z[J]=="[".charCodeAt(0)){J++;c.K=[];while(z[J]==" ".charCodeAt(0)||z[J]=="\t".charCodeAt(0)||z[J]=="\n".charCodeAt(0))J++;
while(z[J]!="]".charCodeAt(0)){var u=ix.e4(z,J,p+1,n);c.K.push(u.K);J+=u.size;while(z[J]==" ".charCodeAt(0)||z[J]=="\t".charCodeAt(0)||z[J]=="\n".charCodeAt(0))J++}J++;
break}else{var v=e.indexOf(z," ".charCodeAt(0),J,J+50),A=e.indexOf(z,"\n".charCodeAt(0),J,J+50);if(A==-1)A=Infinity;
if(v==-1)v=Infinity;var $=e.RM(z,J,Math.min(v,A)-J).trim(),X=parseFloat($);if(!isNaN(X)){c.K=parseFloat($);
J=Math.min(v,A)+1;break}else if($=="true"||$=="false"){c.K=$=="true";J=Math.min(v,A)+1;break}else if($=="null"||$=="NaN"||$=="undefined"){c.K=0;
J=Math.min(v,A)+1;break}else{console.log("unknown identifier: "+$);throw"e"}J=Math.min(v,A)+1}}c.size=J-B;
return c};ix.P9=function(z,J,p,n){if(z instanceof Array){var B=z.length==0||typeof z[0]=="number";if(B){e.fn(J,p,"[ ");
p+=2;for(var g=0;g<z.length;g++){var c=z[g]+" ";e.fn(J,p,c);p+=c.length}e.fn(J,p,"]");p+=1}else{e.fn(J,p,"[\n");
p+=2;for(var g=0;g<z.length;g++){e.cU(J,p,"\t".charCodeAt(0),n);p+=n;p=ix.P9(z[g],J,p,n);e.fn(J,p,"\n");
p++}e.cU(J,p,"\t".charCodeAt(0),n);p+=n;e.fn(J,p,"]");p+=1}}else if(z instanceof Object){p=ix.Oz(z,J,p,n)}else if(typeof z=="string"){e.fn(J,p,"(");
p++;e.cU(J,p,254);p++;e.cU(J,p,255);p++;p=e.aaw(J,p,z);e.fn(J,p,")");p+=1}else{var c=z+"";e.fn(J,p,c);
p+=c.length}return p};ix.a7e=function(z){var J=typeof z;return J=="string"||J=="number"||J=="boolean"};
function ed(){}ed.yi=function(z){var J={};ed.ayV(z,J,0,0);return J};ed.Ag=function(z,J){var p=0;e.fn(J,p," ");
p++;p=ed.a86(z,J,p,0);p--;J.FA(p,2);J.data[p]=J.data[p+1]=0;p+=2;return p};ed.Fb=function(z,J,p,n){while(z[p]!="<".charCodeAt(0)){p++;
console.log("šipka")}p+=2;p=ed.ayV(z,J,p,n);return p};ed.Oz=function(z,J,p,n){e.fn(J,p,"<< ");p+=3;p=ed.a86(z,J,p,n);
e.fn(J,p,">>");p+=2;return p};ed.nO=function(z){return z==9||z==10||z==32};ed.ayV=function(z,J,p,n){while(!0){while(ed.nO(z[p])||z[p]==0)p++;
if(p>=z.length)break;if(z[p]=="/".charCodeAt(0)){p++;var B=p;while(!ed.nO(z[B]))B++;var c=e.RM(z,p,B-p);
p=B+1;var t=ed.e4(z,p,n,c);J["_"+c]=t.K;p+=t.size}else if(z[p]==">".charCodeAt(0)){p+=2;break}else{var u=z[p];
console.log(e.RM(z,p,p+100));console.log("unknown byte: "+u+", char: "+String.fromCharCode(u)+", offset: "+p);
p++;throw"e";return-1}}return p};ed.a86=function(z,J,p,n){for(var B in z){var c=B.substring(1,B.length);
e.fn(J,p,"/"+c);p+=1+c.length;e.fn(J,p," ");p++;p=ed.P9(z[B],J,p,n+1,c);e.fn(J,p," ");p++}return p};
ed.e4=function(z,J,p,n){var B=J,c={I:"",size:0,K:0};while(ed.nO(z[J]))J++;if(z[J]=="<".charCodeAt(0)){c.I="Object";
c.K={};J=ed.Fb(z,c.K,J,p+1)}else if(z[J]=="(".charCodeAt(0)){c.I="String";J++;if(z[J]==")".charCodeAt(0)){c.K="e";
J++}else if(z[J]==254&&z[J+1]==255){J+=2;var t=J,u=0;while(!0){if(z[t]==")".charCodeAt(0)&&z[t-1]!="\\".charCodeAt(0))break;
else t+=1}c.K="s"+e.aaz(z,J,t);J=t+2}else{var t=J;while(z[t]!=")".charCodeAt(0))t++;c.K="s"+e.RM(z,J,t-J);
J=t+1}}else if(z[J]=="[".charCodeAt(0)){J++;c.K=[];c.I="Array";while(ed.nO(z[J]))J++;while(z[J]!="]".charCodeAt(0)){var v=ed.e4(z,J,p+1,n);
if(v==-1)return-1;c.K.push(v.K);J+=v.size;delete v.size;while(ed.nO(z[J]))J++}J++}else{var A=J;while(!ed.nO(z[A]))A++;
var $=e.RM(z,J,A-J),X=parseFloat($);if(!isNaN(X)&&$.indexOf(".")!=-1){c.I="Float";var U=parseFloat($);
c.K="f"+U}else if(!isNaN(X)&&$.indexOf(".")==-1){c.I="Integer";c.K="i"+parseInt($)}else if($=="true"||$=="false"){c.I="Boolean";
c.K=$=="true"}else if($.charAt(0)=="/"){c.I="BString";c.K=$}else if($=="NaN"||$=="undefined"){c.I="Float";
c.K="f0"}else{console.log("unknown value",JSON.stringify($))}J=A+1}c.size=J-B;return c};ed.ad1=function(z){if(z==Math.round(z))return z+".0";
var J=z.toFixed(5);while(J.endsWith("0")&&J[J.length-2]!=".")J=J.slice(0,J.length-1);if(0<z&&z<1)J=J.slice(1);
if(-1<z&&z<0)J="-"+J.slice(2);return J};ed.P9=function(z,J,p,n,B){var c=typeof z=="string"?z.charAt(0):"";
if(z instanceof Array){e.fn(J,p,"[ ");p+=2;for(var g=0;g<z.length;g++){p=ed.P9(z[g],J,p,n,"");e.fn(J,p," ");
p++}e.fn(J,p,"]");p+=1}else if(z instanceof Object){p=ed.Oz(z,J,p,n)}else if(c=="e"){e.fn(J,p,"()");
p+=2}else if(c=="s"){e.fn(J,p,"(");p++;if(B=="97"){e.fn(J,p,z.slice(1));p+=z.length-1}else{e.cU(J,p,254);
p++;e.cU(J,p,255);p++;p=e.aaw(J,p,z.slice(1))}e.fn(J,p,")");p++}else if(c=="/"){e.fn(J,p,z);p+=z.length}else if(c=="f"){var t=parseFloat(z.substring(1)),u=ed.ad1(t);
e.fn(J,p,u);p+=u.length}else if(c=="i"){e.fn(J,p,z.substring(1));p+=z.length-1}else{var u=z+"";e.fn(J,p,u);
p+=u.length}return p};function e(){}e.ao7=function(lj){var z="";for(var g=3;g>=0;g--)z+=String.fromCharCode(lj>>g*8&255);
return z};e.aLG=function(z){var lj=0;for(var g=z.length-1;g>=0;g--)lj|=z.charCodeAt(g)<<(3-g)*8;return lj};
e.indexOf=function(z,J,p,n){if(p==null)p=0;if(n==null)n=z.length;n=Math.min(n,z.length);for(var g=p;
g<n;g++)if(z[g]==J)return g;return-1};e.ob=function(z,J,p){if(p==null)p=0;var n=J.length,B=z.length-n;
if(typeof J=="string"){var c=[];for(var g=0;g<n;g++)c.push(J.charCodeAt(g));J=c}if(J.length>0){var t=J[0];
for(var g=p;g<B;g++)if(z[g]==t){var u=!0;for(var v=1;v<n;v++)if(J[v]!=z[g+v]){u=!1;break}if(u)return g}}return-1};
e.aaz=function(z,J,p){var n=[],c="";while(J<p){var B=z[J++];if(B=="\\".charCodeAt(0))n.push(z[J++]);
else n.push(B)}for(var g=0;g<n.length;g+=2)c+=String.fromCharCode(n[g]<<8|n[g+1]);return c};e.ax5=function(z,J,p){var n=new Uint8Array(2);
for(var g=0;g<p.length;g++){e.Gg(n,0,p.charCodeAt(g));if(n[0]==")".charCodeAt(0)||n[0]=="(".charCodeAt(0)||n[0]=="\\".charCodeAt(0)){z[J]="\\".charCodeAt(0);
J++}z[J]=n[0];J++;if(n[1]==")".charCodeAt(0)||n[1]=="(".charCodeAt(0)||n[1]=="\\".charCodeAt(0)){z[J]="\\".charCodeAt(0);
J++}z[J]=n[1];J++}return J};e.aaw=function(z,J,p){z.FA(J,4*p.length);return e.ax5(z.data,J,p)};e.uv=function(z,J,p){var n="";
for(var g=0;g<p;g++){var B=z[J++]|z[J++]<<8;n+=String.fromCharCode(B)}return n};e.J5=function(z,J,p){var n="";
for(var g=0;g<p;g++){var B=z[J++]<<8|z[J++];n+=String.fromCharCode(B)}return n};e.aJk=function(z,J,p){for(var g=0;
g<p.length;g++){var n=p.charCodeAt(g);e.Zk(z,J+2*g,n)}};e.a76=function(z,J,p){for(var g=0;g<p.length;
g++){var n=p.charCodeAt(g);e.Gg(z,J+2*g,n)}};e.afF=function(z,J,p){z.FA(J,2*p.length);e.a76(z.data,J,p)};
e.aai=function(z,g,J){var p=[],n=0,B=0;J+=g;while(g<J){n=z[g++];if((n&128)==0)B=n;else if((n&224)==192){B=(n&31)<<6;
n=z[g++];B|=n&63}else if((n&240)==224){B=(n&15)<<12;n=z[g++];B|=(n&63)<<6;n=z[g++];B|=n&63}else if((n&248)==240){B=(n&7)<<18;
n=z[g++];B|=(n&63)<<12;n=z[g++];B|=(n&63)<<6;n=z[g++];B|=n&63}else throw"e";p.push(B)}return p};e.ax6=window.TextDecoder?new window.TextDecoder("utf8"):null;
e.A8=function(z,J,p){if(J==null)J=0;if(p==null)p=z.length;if(e.ax6&&J==0&&p==z.length)return e.ax6.decode(z);
var n=e.aai(z,J,p),B=n.length;for(var g=0;g<B;g++)n[g]=String.fromCharCode(n[g]);return n.join("")};
e.aJE=window.TextEncoder?new window.TextEncoder("utf8"):null;e.Hu=function(z){if(e.aJE)return e.aJE.encode(z);
var J=new Uint8Array(z.length*4),p=e.M2(z,J,0);return J.slice(0,p)};e.M2=function(z,J,p){var n=z.length,g=0;
for(var B=0;B<n;B++){var c=z.charCodeAt(B);if((c&4294967295-(1<<7)+1)==0){J[p+g]=c;g++}else if((c&4294967295-(1<<11)+1)==0){J[p+g]=192|c>>6;
J[p+g+1]=128|c>>0&63;g+=2}else if((c&4294967295-(1<<16)+1)==0){J[p+g]=224|c>>12;J[p+g+1]=128|c>>6&63;
J[p+g+2]=128|c>>0&63;g+=3}else if((c&4294967295-(1<<21)+1)==0){J[p+g]=240|c>>18;J[p+g+1]=128|c>>12&63;
J[p+g+2]=128|c>>6&63;J[p+g+3]=128|c>>0&63;g+=4}else throw"e"}return g};e.kF=function(z,J){var p=e.fy(z,J),n=e.A8(z,J+4,p-1);
return{Q5:n,w8:4+p}};e.aJR=function(z,J){var p=e.gm(z,J),n=e.uv(z,J+4,p);return n};e.LW=function(z,J){var p=e.fy(z,J),n=e.J5(z,J+4,p);
return n};e.nX=function(z,J){var p=e.fy(z,J),n=e.J5(z,J+4,p-1);return n};e.wB=function(z,J){var p=e.gm(z,J),n=e.uv(z,J+4,p-1);
return n};e.amO=function(z,J,p){e.Nx(z,J,p.length);J+=4;e.aJk(z,J,p)};e.ajJ=function(z,J,p){e.HH(z,J,p.length);
J+=4;e.a76(z,J,p)};e.A4=function(z,J,p){z.FA(J,4+2*p.length);e.ajJ(z.data,J,p)};e.aAi=function(z,J,p){z.FA(J,4+2*p.length);
e.amO(z.data,J,p)};e.r9=function(z,J,p){var n=[];for(var g=0;g<p;g++)n.push(String.fromCharCode(z[J+g]));
return n};e.auQ=function(z,J,p){var n=!1,B=z.length-p.length;for(var g=J;g<B;g++){for(var c=0;c<p.length;
c++){if(z[g+c]!=p.charCodeAt(c))break;if(c==p.length-1)return g}}};e.W2=function(z,J,p){var n=e.RM(z,J,4);
if(p)n=n.split("").reverse().join("");return n};e.RM=function(z,J,p){var n="";for(var g=0;g<p;g++)n+=String.fromCharCode(z[J+g]);
return n};e.CR=function(z,J,p){for(var g=0;g<p.length;g++)z[J+g]=p.charCodeAt(g)};e.fn=function(z,J,p){z.FA(J,p.length);
e.CR(z.data,J,p)};e.aDa=function(z,J,p){var n="";for(var g=0;g<p;g++){var B=z[J+g];if(B<10)n+="  ";else if(B<100)n+=" ";
n+=B+", "}return n};e.Bq=function(z,J){return z[J]<<8|z[J+1]};e.Gg=function(z,J,lj){z[J]=lj>>8&255;z[J+1]=lj&255};
e.qj=function(z,J,lj){z.FA(J,4);e.Gg(z.data,J,lj)};e.We=function(z,J){var p=e.Bq(z,J),n=e.Bq(z,J+2);
return p+n*(1/65536)};e.ac8=function(z,J,lj){var p=Math.floor(lj),n=Math.floor((lj-p)*65536);e.Gg(z,J,p);
e.Gg(z,J+2,n)};e.Ei=function(z,J){return z[J+1]<<8|z[J]};e.Zk=function(z,J,lj){z[J+1]=lj>>8&255;z[J]=lj&255};
e.n5=function(z,J,lj){z.FA(J,4);e.Zk(z.data,J,lj)};e.uf=function(z,J){e.Hs[0]=z[J+1];e.Hs[1]=z[J];return e.eC[0]};
e._4=function(z,J){e.Hs[0]=z[J];e.Hs[1]=z[J+1];return e.eC[0]};e.GW=e.Gg;e.ld=e.qj;e.lz=function(z,J){e.py[0]=z[J+3];
e.py[1]=z[J+2];e.py[2]=z[J+1];e.py[3]=z[J];return e.m_[0]};e.Xv=function(z,J,lj){e.m_[0]=lj;z[J+3]=e.py[0];
z[J+2]=e.py[1];z[J+1]=e.py[2];z[J+0]=e.py[3]};e.sO=function(z,J,lj){z.FA(J,4);e.Xv(z.data,J,lj)};e.GR=function(z,J,p,n){p[n+0]=z[J+0];
p[n+1]=z[J+1];p[n+2]=z[J+2];p[n+3]=z[J+3]};e.gm=function(z,J){e.GR(z,J,e.py,0);return e.anB[0]};e.Nx=function(z,J,lj){e.anB[0]=lj;
e.GR(e.py,0,z,J)};e.v9=function(z,J,lj){z.FA(J,4);e.Nx(z.data,J,lj)};e.qd=function(z,J){e.GR(z,J,e.py,0);
return e.m_[0]};e.aiv=function(z,J,lj){e.m_[0]=lj;e.GR(e.py,0,z,J)};e.ark=function(z,J,lj){z.FA(J,4);
e.aiv(z.data,J,lj)};e.fy=function(z,J){var p=z[J]*(256*256*256)+(z[J+1]<<16|z[J+2]<<8|z[J+3]);return p};
e.HH=function(z,J,lj){z[J]=lj>>24&255;z[J+1]=lj>>16&255;z[J+2]=lj>>8&255;z[J+3]=lj>>0&255};e.kS=function(z,J,lj){z.FA(J,4);
e.HH(z.data,J,lj)};e.LD=function(z,J){return e.fy(z,J)<<32|e.fy(z,J+4)};e.afU=function(z,J,lj){e.HH(z,J,lj>>16>>16);
e.HH(z,J+4,lj&4294967295)};e.qt=function(z,J,lj){z.FA(J,8);e.afU(z.data,J,lj)};e.app=function(z,J){return e.gm(z,J+4)|e.gm(z,J)<<32};
e.U0=function(z,J){var p=new Uint8Array(8);for(var g=0;g<8;g++)p[g]=z[J+7-g];var n=new Float64Array(p.buffer);
return n[0]};e.L6=function(z,J){var p=new Uint8Array(8);for(var g=0;g<8;g++)p[g]=z[J+g];var n=new Float64Array(p.buffer);
return n[0]};e.Pn=function(z,J,lj){var p=new Float64Array(1);p[0]=lj;var n=new Uint8Array(p.buffer);
for(var g=0;g<4;g++){var B=n[g];n[g]=n[7-g];n[7-g]=B}for(var g=0;g<8;g++)z[J+g]=n[g]};e.dJ=function(z,J,lj){z.FA(J,8);
e.Pn(z.data,J,lj)};e.Lb=function(z,J){e.py[0]=z[J+3];e.py[1]=z[J+2];e.py[2]=z[J+1];e.py[3]=z[J+0];return e.TF[0]};
e.ZW=function(z,J){e.py[0]=z[J+0];e.py[1]=z[J+1];e.py[2]=z[J+2];e.py[3]=z[J+3];return e.TF[0]};e.sL=function(z,J,lj){e.TF[0]=lj;
z[J+0]=e.py[3];z[J+1]=e.py[2];z[J+2]=e.py[1];z[J+3]=e.py[0]};e.acG=function(z,J,lj){z.FA(J,4);e.sL(z.data,J,lj)};
e.wn=function(z,J,lj){e.TF[0]=lj;z[J+0]=e.py[0];z[J+1]=e.py[1];z[J+2]=e.py[2];z[J+3]=e.py[3]};e.ad2=function(z,J,lj){z.FA(J,4);
e.wn(z.data,J,lj)};e.ami=function(z,J){var p=e.lz(z,J),n=p*(1/(1<<24));return n};e.arw=function(z,J){var p=e.qd(z,J),n=p*(1/(1<<24));
return n};e.aIh=function(z,J,p){var n=Math.floor(p*(1<<24));e.Xv(z,J,n)};e.a2Z=function(z,J,p){z.FA(J,4);
e.aIh(z.data,J,p)};e.Nj=function(z,J){var p=z[J],n=e.RM(z,J+1,p);p+=1-p%2;return{vc:n,length:p+1}};e.aD_=function(z,J,p){var n=p.length;
z[J]=n;e.CR(z,J+1,p);if(n%2==0){z[J+1+n]=0;++n}return n+1};e.a8=function(z,J,p){z.FA(J,p.length+2);return e.aD_(z.data,J,p)};
e.X9=function(z,J,p){var n=p?e.L6:e.U0,B=new fA;B.k6=n(z,J+0*8);B.X=n(z,J+1*8);B.GQ=n(z,J+2*8);B.JH=n(z,J+3*8);
B.Rf=n(z,J+4*8);B.Sm=n(z,J+5*8);return B};e.uZ=function(z,J,p){e.Pn(z,J+0*8,p.k6);e.Pn(z,J+1*8,p.X);
e.Pn(z,J+2*8,p.GQ);e.Pn(z,J+3*8,p.JH);e.Pn(z,J+4*8,p.Rf);e.Pn(z,J+5*8,p.Sm)};e.a4G=function(z,J,p){z.FA(J,48);
e.uZ(z.data,J,p)};e.a5q=function(z,J){var p=e.Lb(z,J),n=e.Lb(z,J+4),B=e.Lb(z,J+8),c=e.Lb(z,J+12);return new fw(p,n,B-p,c-n)};
e.a11=function(z,J,p){e.sL(z,J,p.x);e.sL(z,J+4,p.y);e.sL(z,J+8,p.x+p.r);e.sL(z,J+12,p.y+p.$)};e.ayE=function(z,J,p){z.FA(J,16);
e.a11(z.data,J,p)};e.LM=function(z,J,p){var n=p?e.qd:e.lz,B=n(z,J),c=n(z,J+4),t=n(z,J+8),u=n(z,J+12);
return new fw(c,B,u-c,t-B)};e.abb=function(z,J,p){e.Xv(z,J,p.y);e.Xv(z,J+4,p.x);e.Xv(z,J+8,p.y+p.$);
e.Xv(z,J+12,p.x+p.r)};e.D4=function(z,J,p){z.FA(J,16);e.abb(z.data,J,p)};e.Bm=function(z,J,p){var n=new Uint8Array(p);
for(var g=0;g<p;g++)n[g]=z[J+g];return n};e.arq=function(z,J,p){z.set(p,J)};e.CI=function(z,J,p){z.FA(J,p.length);
e.arq(z.data,J,p)};e.at6=function(z,J,p,lj){if(!lj)lj=1;for(var g=0;g<lj;g++)z[J+g]=p};e.cU=function(z,J,p,lj){if(!lj)lj=1;
z.FA(J,lj);e.at6(z.data,J,p,lj)};e.eC=new Int16Array(1);e.Hs=new Uint8Array(e.eC.buffer);e.m_=new Int32Array(1);
e.anB=new Uint32Array(e.m_.buffer);e.py=new Uint8Array(e.m_.buffer);e.TF=new Float32Array(e.m_.buffer);
function fO(){}fO.yi=function(z,J){var p=new Uint8Array(z),n=0,B=e.RM(p,n,9),u=4,v=100;n+=9;var c=e.RM(p,n,4);
n+=4;n++;J.r=e.fy(p,n);n+=4;J.$=e.fy(p,n);n+=4;var t=e.fy(p,n);n+=4;if(t!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(c)==-1){v=e.fy(p,n);n+=4;if(parseInt(c.slice(1))>=7){v=v}else alert("Unknown XCF version: "+c);
u=8}var A={};n=fO.yI(p,n,A);var $=[];n=fO.l5(p,n,$,u);var X=[];n=fO.l5(p,n,X,u);J.bj=0;for(var g=0;g<$.length;
g++)fO.aje(p,$[g],J,A,u,v);while(J.bj>0){J.U.push(J.eH());J.bj--}J.U.reverse();delete J.bj;J.buffer=a.j(J.r*J.$*4);
if(J.U.length==0)console.log("No layers!!!");for(var g=0;g<X.length;g++){var U=fO.aGN(p,X[g],A,u,v);
if(U.j3[bQ.atH])J.M={N:U.BK,S:new fw(0,0,J.r,J.$)}}};fO.aje=function(z,J,p,n,B,c){var t=p.JG(),u=e.fy(z,J),X=0;
J+=4;var v=e.fy(z,J);J+=4;t.S=new fw(0,0,u,v);var A=e.fy(z,J);J+=4;var $=e.kF(z,J);J+=$.w8;t.HV($.Q5);
var U={};J=fO.yI(z,J,U);if(U[bQ.a3Q]){var w=U[bQ.a3Q];X=w.length/4-1}if(U[bQ.HK]){t.S.x=e.lz(U[bQ.HK],0);
t.S.y=e.lz(U[bQ.HK],4)}if(U[bQ.ajz]){t.YF=e.fy(U[bQ.ajz],0)}if(U[bQ.ayK]){t.add.lsct=cp.xj;t.a3=24}if(U[bQ.aE_]){var P=e.fy(U[bQ.aE_],0);
t.QN=bQ.adM[P];if(t.nT()&&t.QN=="norm")t.QN="pass"}if(U[bQ.a3P]){if(e.fy(U[bQ.a3P],0)==0)t.a3+=2}if(U[bQ.am7]){var k=e.fy(U[bQ.am7],0);
t.add.lsct=k&1==1?cp.xj:cp.mD}if(U[bQ.Qt]){var T=U[bQ.Qt];for(var Z in T){var i=T[Z];if(Z=="gimp-text-layer"){var V=fO.aHV(i),_=V.text,y=V.font,E=V.color,F=V["font-size"];
if(_==null&&V.markup){var d=new DOMParser,x=d.parseFromString(V.markup,"image/svg+xml");while(x.firstChild!=null&&x.firstChild.tagName!=null){x=x.firstChild;
var f=x.getAttribute("font"),Q=x.getAttribute("foreground"),m=x.getAttribute("size");if(f!=null)y=f;
if(Q!=null){Q=CSS.zO(Q);E=[1,Q.o/255,Q.k/255,Q.X/255]}if(m!=null){F=""+parseFloat(m)/245}}_=x.textContent}t.add.lnsr="rend";
t.add.TySh=dN.gI(0,0);t.add.TySh.M6=new fw(0,0,100,100);t.add.TySh.h=new fA(1,0,0,1,t.S.x,t.S.y);var H=t.add.TySh.qU;
dN.tJ(H,0,_);var S=dN.cj(H,0,0),R=V.justify,D=V["line-spacing"];if(E)S.uA.FillColor={Type:1,Values:[1,parseFloat(E[1]),parseFloat(E[2]),parseFloat(E[3])]};
if(F){F=Math.round(parseFloat(F));S.uA.FontSize=F;t.add.TySh.h.Sm+=Math.min(17,F*.17)}if(D){D=Math.round(parseFloat(D)+S.uA.FontSize*1.2);
S.uA.Leading=D;S.uA.AutoLeading=!1}if(R)S.gC.Justification=["left","right","center","fill"].indexOf(R);
if(y&&y!="Sans-serif"){if(y instanceof Array){for(var g=0;g<y.length;g++)if(y[g][0]=="psname"){y=y[g][1];
break}}else{var G=y.toLowerCase(),C="bold italic semi extra regular condensed light".split(" "),O=G.length;
for(var g=0;g<C.length;g++){var h=G.indexOf(C[g]);if(h!=-1&&h<O&&G[h-1]==" ")O=h}if(O!=G.length)y=y.slice(0,O-1).split(" ").join("")+"-"+y.slice(O).split(" ").join("")}dN.Qp(S,y)}dN.CG(H,0,_.length,S);
var r=V["box-width"],W=V["box-height"],N=r?parseFloat(r):t.S.r,o=W?parseFloat(W):t.S.$;dN.NA(H,1);dN.h4(H,[0,0,Math.ceil(N),Math.ceil(o)])}else console.log("Unknown property "+Z)}}while(p.bj>X){p.U.push(p.eH());
p.bj--}p.bj=X;if(t.add.lsct==cp.xj||t.add.lsct==cp.mD)p.bj++;var K=B==4?e.fy:e.LD,l=K(z,J);J+=B;var aV=K(z,J);
J+=B;if(t.Zg()){t.buffer=a.j(t.S.C()*4);var j=new a.rk(t.S.C());fO.aKC(z,l,j,n,B,c);a.s7(j,t.buffer)}if(aV!=0){t.T4=new bi.L7;
var M=fO.aGN(z,aV,n,B,c);t.T4.N=M.BK;t.T4.S=t.S.P();if(U[bQ.acX])t.T4.isEnabled=e.fy(U[bQ.acX],0)==1;
t.T4.color=t.T4.N[0];t.T4.eB()}if(t.nT())t.S=new fw;p.U.push(t)};fO.aHV=function(z){var J="("+e.A8(z,0,z.length-1)+")",p=[],n={};
fO.a7D(J,1,p);fO.au0(p,n);return n};fO.au0=function(z,J){for(var g=0;g<z.length;g++){var p=z[g],n=p[0];
if(p.length==2)J[n]=p[1];else J[n]=p.slice(1)}};fO.a7D=function(z,J,p){while(!0){if(J>=z.length)throw"e";
var n=z.charAt(J);J++;if(n=="("){var B=[];J=fO.a7D(z,J,B);p.push(B)}else if(n==" "||n=="\n"||n=="\r"){}else if(n==")")return J;
else if(n=="\""){var c=J,t=!1;while(!0){var u=z[J];J++;if(u=="\"")break;if(u=="\\"){if(z[J]!="\""&&z[J]!="n"&&z[J]!="t"&&z[J]!="r")t=!0;
J++}}var v=z.slice(c-1,J);p.push(t?v:JSON.parse(v))}else{var c=J-1;while(z[J]!=" "&&z[J]!=")")J++;p.push(z.slice(c,J))}}};
fO.aGN=function(z,J,p,n,B){var c=e.fy(z,J);J+=4;var t=e.fy(z,J);J+=4;var u=e.kF(z,J);J+=u.w8;var v={};
J=fO.yI(z,J,v);var A=new a.rk(c*t),$=n==4?e.fy:e.LD,X=$(z,J);J+=n;fO.aKC(z,X,A,p,n,B);return{BK:A.o,j3:v}};
fO.aKC=function(z,J,p,n,B,c){var t=e.fy(z,J);J+=4;var u=e.fy(z,J);J+=4;var v=e.fy(z,J);J+=4;var A=B==4?e.fy:e.LD,$=A(z,J);
J+=B;fO.ayB(z,$,p,n,v,B,c)};fO.ayB=function(z,J,p,n,B,c,t){var u=e.fy(z,J),$=0,g=0;J+=4;var v=e.fy(z,J);
J+=4;var A=new fw(0,0,u,v);if(t==100||t==150)$=1;else if(t==200||t==250)$=2;else if(t==300||t==350)$=4;
else if(t==500||t==550)$=2;else if(t==600||t==650)$=4;else if(t==700||t==750)$=8;else{alert("unsupported bit depth "+t);
throw"e"}var X=B/$,$=Math.round(B/X),U=[];J=fO.l5(z,J,U,c);var w=new a.rk(64*64*$),P=new fw,k=n[bQ.a4M][0],T=[w.o,w.k,w.X,w.k6];
if(X==3)w.k6.fill(255);var Z=Date.now();if(U.length!=0)for(var i=0;i<v;i+=64)for(var V=0;V<u;V+=64){var _=Math.min(u-V,64),y=Math.min(v-i,64),E=_*y;
P.GK(V,i,_,y);fO.aiE(z,U[g++],E*$,k,X,T);if(t==100||t==150){}else if(t==250){for(var F=0;F<X;F++){var d=T[F];
for(var x=0;x<E;x++){var f=d[x]<<8|d[E+x];d[x]=Math.min(f>>>8,255)}}}else if(t==600){var Q=fO.a3N(),m=new Uint32Array(1),H=new Float32Array(m.buffer);
for(var F=0;F<X;F++){var d=T[F];for(var x=0;x<E;x++){m[0]=d[x]<<24|d[E+x]<<16|d[(E<<1)+x]<<8|d[(E<<1)+E+x]<<0;
var S=H[0];if(S<0)S=0;else if(S>1)S=1;d[x]=Q[~~(.5+S*1e3)]}}}else console.log("unknown data format",t);
a.nG(w,P,p,A)}};fO.a3N=function(){var z=fO.a0g;if(z!=null)return z;z=fO.a0g=new Uint8Array(1001);for(var g=0;
g<1001;g++)z[g]=~~(.49+255*a.hI(g*.001));return z};fO.aiE=function(z,J,p,n,B,c){if(n==1){for(var t=0;
t<B;t++){var u=c[t],v=0;while(v<p){var lj=z[J];J++;if(lj<127){var A=z[J];J++;lj++;for(var g=0;g<lj;g++)u[v+g]=A}else if(lj==127){var $=z[J];
J++;var X=z[J];J++;var A=z[J];J++;lj=$<<8|X;for(var g=0;g<lj;g++)u[v+g]=A}else if(lj==128){var $=z[J];
J++;var X=z[J];J++;lj=$<<8|X;for(var g=0;g<lj;g++)u[v+g]=z[J+g];J+=lj}else{lj=256-lj;for(var g=0;g<lj;
g++)u[v+g]=z[J+g];J+=lj}v+=lj}}}else if(n==2){var U=pako.inflate(z.slice(J)),w=Math.round(U.length/p);
for(var g=0;g<p;g++){var P=g*w;c[0][g]=U[P];c[1][g]=U[P+1];c[2][g]=U[P+2];c[3][g]=w==3?255:U[P+3]}}else alert("Unknown compression "+n)};
fO.l5=function(z,J,p,n){var B=n==4?e.fy:e.LD;while(!0){var c=B(z,J);J+=n;if(c==0)break;else p.push(c)}return J};
fO.yI=function(z,J,p){while(!0){var n=e.fy(z,J);J+=4;var B=e.fy(z,J);J+=4;if(n==bQ.aDE)break;else if(n==bQ.Qt)p[n]=fO.av$(z,J,J+B);
else p[n]=e.Bm(z,J,B);J+=B}return J};fO.av$=function(z,J,p){var n={};while(J<p){var B=e.kF(z,J);J+=B.w8;
var c=e.fy(z,J);J+=4;if(c!=1)console.log("unknown flags",c);var t=e.fy(z,J);J+=4;n[B.Q5]=e.Bm(z,J,t);
J+=t}return n};var bQ={aDE:0,aii:1,aAb:2,ajc:3,atH:4,agS:5,ajz:6,aE_:7,a3P:8,ab3:9,ald:10,acX:11,azB:12,alm:13,apv:14,HK:15,a8o:16,a4M:17,aBF:18,aF$:19,a05:20,Qt:21,aml:22,aDc:23,a94:24,aKp:25,ar3:26,aK9:27,aDl:28,ayK:29,a3Q:30,am7:31,ag9:32,atd:33,agG:34,arV:35,aIz:36,aej:37,agA:38,acA:0,a1w:1,aI_:2,arH:3,aeQ:1,abi:2,acR:0,anZ:1,aEI:1};
bQ.adM="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var k0=function(){var z=!1,J,p,Z=0,_;function n(){var F=e.RM(J,p,4);p+=4;return F[3]+F[2]+F[1]+F[0]}function B(){var F=e.RM(J,p,4);
p+=4;return F}function c(){var F=J[p];p+=1;return F}function t(){var F=e.Ei(J,p);p+=2;return F}function u(){var F=e.gm(J,p);
p+=4;return F}function v(){var F=e.qd(J,p);p+=4;return F}function A(){var F=e.gm(J,p);p+=8;return F}function $(){var F=e.ZW(J,p);
p+=4;return F}function X(){var F=e.L6(J,p);p+=8;return F}function U(){var F=e.Ei(J,p),d=e.A8(J,p+2,F);
p+=2+F;return d}function w(){var F=e.gm(J,p),d=e.A8(J,p+4,F);p+=4+F;return d}function P(F){p=F;var d=[];
while(p!=0){var x=B();if(x!="#FT4"&&x!="#FT3"&&x!="#FT2")throw x;var f=A(),Q=A(),m=A(),H=A(),S=A(),R=u(),I=u(),D=u(),G=t(),C=c(),O={};
d.push(O);for(var g=0;g<R;g++){var Y=u(),h=c();if(h!=0&&h!=1&&h!=2)throw h;var r=[];if(h==0||h==1){var W=A(),N=A(),o=A(),K=u(),l=c(),aV=u(),j=x!="#FT4"?0:u(),M=null;
if(x=="#FAT"||x=="#FT2"){switch(l){case 1:l=1;break;case 2:l=65;break;case 3:l=129;break;case 4:l=193;
break;default:l=0;break}}if(h==0)M=U();r=[W,N,o,l,M]}O["i"+Y]=[h,r]}for(var g=0;g<G;g++){var s=t(),l2=t(),gm=A(),iz=e.RM(J,p,s);
p+=s}p=f}d.reverse();for(var dC=1;dC<d.length;dC++){var O=d[dC],dL=d[dC]=a.G(d[dC-1]);for(var cP in O){var id=O[cP];
if(id[0]==0)dL[cP]=id;else if(id[0]==1){id[1][4]=dL[cP][1][4];dL[cP]=id}else if(id[0]==2)delete dL[cP]}}var jR=d.pop(),hC=[];
for(var cP in jR)hC.push(jR[cP][1]);hC.sort(function(eJ,el){return eJ[0]-el[0]});return hC}function k(F,d,x,f){while(p<J.length){var Q=c(),R=null;
if(Q==0){if(f){var m=c();if(m!=2){var H=n()}if(m==0)p+=4;f=!1;continue}else{break}}var S=n();if(S.indexOf("\0")!=-1)throw S;
if(z)console.log("  ".repeat(d),Q,Q&127,S,F._type);if(Q>127)R=T(Q,d,x);else R=i(Q,d,x);if(z)console.log("  ".repeat(d),R);
F[S]=R}}function T(F,d,x){var f=[];F=F&127;if(F==43)p+=4;var Q=u();if(F==50){var m=n(),H=t();if(H!=1)throw"e";
for(var g=0;g<Q;g++){var S={_status:"NotShared",_type:m};f.push(S);var R=c();if(R!=0&&R!=1)throw R;k(S,d+1,x)}}else if(F==41){if(Q>8)throw Q;
for(var g=0;g<Q;g++)f.push((J[p]>>>g&1)==1);p++}else for(var g=0;g<Q;g++){f.push(i(F,d,x,g!=0));if(F==42)F=2}return f}function i(F,d,x,f){var Q=null;
if(F==49){Q={};var m=c();if(m!=0){var H=u();if(x==null){Q._id=H;Q._status=["Shared","Link"][m-1]}if(x&&m==2)Q=x[H];
if(m==1){if(x)x[H]=Q;var S=c(),R=!1;if(S>1)throw S;Q._type=n();if(Q._type.indexOf("\0")!=-1)throw Q._type;
if(z)console.log("  ".repeat(d),"new",Q._type,S,p);if(S==0){while(!0){var I=t();if(I!=0&&I!=1&&I!=2&&I!=3&&I!=4)throw I;
if(J[p]!=0){R=!0;break}var D=t();if(D==512)break;var G=n();if(D==256)break}}k(Q,d+1,x,R)}}}else if(F==50){Q={_status:"NotShared"};
if(c()==1){Q._type=n();p+=2;k(Q,d+1,x)}}else if(F==1)Q={type:"byte",value:c()};else if(F==2)Q={type:"uint16",value:t()};
else if(F==3)Q={type:"uint32",value:u()};else if(F==4)Q={type:"uint64",value:A()};else if(F==7)Q={type:"int32",value:v()};
else if(F==8)Q={type:"int64",value:A()};else if(F==9)Q={type:"float32",value:$()};else if(F==10)Q={type:"float64",value:X()};
else if(F==11)Q={type:"float64",value:X()};else if(F==21)Q={type:"Vec2i",value:[u(),u()]};else if(F==23)Q={type:"Vec4i",value:[u(),u(),u(),u()]};
else if(F==33)Q={type:"Vec4f",value:[$(),$(),$(),$()]};else if(F==36)Q={type:"Vec2",value:[X(),X()]};
else if(F==38)Q={type:"Vec4",value:[X(),X(),X(),X()]};else if(F==40)Q={type:"Vec6",value:[X(),X(),X(),X(),X(),X()]};
else if(F==41)Q={type:"bool",value:c()!=0};else if(F==42)Q={type:"Enum",value:u()};else if(F==43)Q={type:"string",value:w()};
else if(F==44){if(f!=!0)Z=t();var C,O=X();if(Z==12)C=[c(),c(),c(),c()];else if(Z==16)C=[u(),u()];else if(Z==32)C=[X(),X(),X()];
else throw Z;Q={type:"curv16",value:[O,C]}}else if(F==45){var Y=u();Q={type:"buff",value:J.slice(p,p+Y)};
p+=Y}else if(F==47){Q={type:"uint32",value:u()}}else if(F==48){var h=[],r=t();if(r!=1)throw r;while(!0){if(J[p]==135){var N=T(c(),d+1,x),o=T(c(),d+1,x),K=T(c(),d+1,x);
h.push([N,o,K])}else{var l=1;if(J[p]==3){c();l=u()}for(var g=0;g<l;g++){var aV=J[p];if(aV==41){if(c()!=41)throw"e";
var H=c();if(H!=0&&H!=1)throw H}if(c()!=172)throw"e";var j=u(),M=t(),C=[];h.push(C);if(M!=18)throw M;
if(j>4e3)throw j;for(var s=0;s<j;s++)C.push([X(),X(),c(),c()])}}if(J[p]==0){p++;break}}Q={type:"curve",value:h}}else if(F==51){Q={type:"EmbeddedData"};
Q[n()]=w()}else if(F==52)Q={type:"uint32",value:u()};else if(F==56)Q={type:"Color32",value:[c(),c(),c(),c()]};
else if(F==60)Q={type:"ColorGRAY",value:[$(),$()]};else if(F==68)Q={type:"ColorRGBA",value:[$(),$(),$(),$()]};
else if(F==72)Q={type:"ColorCMYK",value:[$(),$(),$(),$(),$()]};else{throw F}return F==49||F==50||F==51?Q:Q.value}function V(F){var d=0,x=F.length;
for(var g=0;g<x;g+=4){F[g]=d=d+F[g];F[g+1]=d=d+F[g+1];F[g+2]=d=d+F[g+2];F[g+3]=d=d+F[g+3]}}function y(F){J=F;
p=4;var d=u(),x=B();if(x!="nsrP")throw x;var x=B();if(x!="#Inf")throw x;var f=A();_=A();var Q=A(),m=A(),H=A(),S=u(),R=u(),x=B();
if(x!="Prot")throw x;var S=u(),I=P(f),D={},G=Date.now();for(var C=0;C<I.length;C++){var O=I[C],Y=O[3],o=null;
p=O[0];var x=B();if(x!="#Fil")throw x;var h=Y>>>5&1,r=Y&3,W=Y&192;switch(W){case 64:W=1;h=0;break;case 128:W=2;
break;case 192:W=3;break;default:W=0;h=0}var N=new Uint8Array(J.buffer,p,O[2]);if(r==0)o=N;else if(r==1)o=pako.inflate(N);
else if(r==2)o=kL.ox.B1(N,O[1]);else throw r;if(h==0){if(W==1)V(o);if(W==2)throw"e"}else if(h==1){if(W==2)V(o);
else throw W}else throw h;D[O[4]]=o}return D}function E(F){var d=y(new Uint8Array(F));J=d["doc.dat"];
p=16;var x={};k(x,0,[]);return[d,x,_]}return{aLK:E}}();function d$(){}d$.yi=function(){function z(k,T){var Z=Date.now(),i=k0.aLK(k),V=i[0],_=i[1],y=i[2],E=_.DocR,F=E.DfSz,d=E.Chld;
if(d.length!=1)console.log(d);var x=d[0],f=x.SprB,Q=x.bbxs;d=x.Chld;if(f){T.r=~~f[2];T.$=~~f[3]}else if(Q){var m=Q.rcts,H=new fw;
for(var g=0;g<4;g++){var S=m[g];H=H.KQ(new fw(S[0],S[1],S[2]-S[0],S[3]-S[1]))}T.r=H.r;T.$=H.$}else{T.r=1920;
T.$=1080}T.buffer=a.j(T.r*T.$*4);var R=[0,{}];for(var g=0;g<d.length;g++)c(d[g],T,V,new fA,R,[],0);T.Gd(R[0]);
console.log(Date.now()-Z,"Document created");Z=Date.now()}function J(k){return new fA(k[0],k[3],k[1],k[4],k[2],k[5])}function p(k,T){var Z=T.Xfrm;
Z=Z?J(Z):new fA;Z.concat(k);return Z}function n(k){var T={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[k];
return T?T:"norm"}function B(k,T){var Z=k[T],i=k.DsMa;if(Z==null&&i)Z=i[T];return Z}function c(k,T,Z,i,V,_,y){var E=k._type,F=k.Chld,d=T.JG();
d.HV(k.Desc==null||k.Desc==""?E=="Grup"?"Folder":"Layer":k.Desc);var x=B(k,"Visi");if(x!=null)d.Rz(x);
var f=B(k,"Opac");if(f!=null)d.YF=Math.round(255*f);var Q=B(k,"FOpc");if(Q!=null)d.add.iOpa=Math.round(255*Q);
var m=B(k,"Blnd");if(m!=null)d.QN=n(m);if(k.BFFl&&k.BFFl[0])_.push(k.BFFl[0]);var H=p(i,k),S=E=="ShpN"||E=="PCrv";
if(F){T.U.push(T.eH());d.add.lsct=cp.xj;if(d.QN=="norm")d.QN="pass";d.a3=24;if(x!=null)d.Rz(x);if(E=="ShpN"&&y==0){var R=k.ShpB;
d.Uu(new fw(R[0]+H.Rf,R[1]+H.Sm,Math.round(H.k6*(R[2]-R[0])),Math.round(H.JH*(R[3]-R[1]))));V[0]++;d.add.artb.Clr={t:"Objc",v:a.Wi.yR({o:255,k:255,X:255})};
var I=_[0];for(var g=0;g<_.length;g++)if(_[g].FDeF._type!="FilN")I=_[g];if(I.FDeF._type=="FilS"){d.add.artb.Clr=A(I.FDeF.Colr);
d.add.artb.artboardBackgroundType.v=4}}var D=k.Shpe?k:null;if(D==null)D=k.DsMa&&k.DsMa.Shpe?k.DsMa:null;
if(D){var G=u(D);if(G.u.length!=7){d.add.vmsk=G;a.z.Gn(G.u,H);d.cC();d.k3(T)}}for(var g=0;g<F.length;
g++)c(F[g],T,Z,H,V,_,y+1)}else if(E=="Rstr"||E=="ImgN"||E=="MRst"){var C=B(k,"Bitm"),O=C.Bckg,Y=Date.now(),h;
if(O==null){h=X(C,Z,V[1]);d.S=h[2].P();d.buffer=h[1].slice(0);d.S.x+=H.Rf;d.S.y+=H.Sm}if(O||H.Nz()!=1){var r,W=0,N=0;
if(O){var o=Z[O.Data],K=e.ob(o,"ataD")+4,l=e.gm(o,K);K+=4;r=o.slice(K,K+l)}else{if(d.S.Sz())return;W=d.S.x-H.Rf;
N=d.S.y-H.Sm;if(h[3]==null)h[3]=new Uint8Array(kL.V5("PNG").D6([[d.buffer.buffer]],d.S.r,d.S.$));r=h[3].slice(0)}var aV=T.aZ(r,d.getName(),0,0);
aV.a3=d.a3;aV.YF=d.YF;d=aV;var j=new fA;j.translate(W,N);j.concat(H);var M=d.S.P();M.x=M.y=0;var s=a.b.e3(M).L;
a.b.h(s,j,s);d.add.SoLd.Trnf=L.tp.ey(s);d.add.SoLd.nonAffineTransform=L.tp.ey(s);d.m8(T,!1)}}else if(E=="TxtA"||E=="TxtF"){d.add.lnsr="rend";
d.add.TySh=dN.gI(0,0);d.add.TySh.M6=new fw(0,0,100,100);var l2=k.TxtH?k:k.DsMa,gm=l2.TxtH.FrmB,iz=1,dC=1,dL=d.add.TySh.h=new fA,eJ=0;
dL.translate(gm[0],gm[1]);dL.concat(H);if(E=="TxtF"){var cP=Math.atan2(-dL.X,dL.k6);dL.rotate(-cP);iz=dL.k6;
dC=dL.JH;dL.JH=dL.k6=1;dL.rotate(cP)}var id=d.add.TySh.qU,jR=l2.StSt;if(jR==null)jR=l2.StMa.StSt;var hC=jR.Blok;
if(hC.length!=1)throw"e";for(var el=0;el<hC.length;el++){var eu=hC[el],jY=eJ,fN=0,jC=eu.Glyp.Utf8;if(jC==null)continue;
jC=jC.replace(/\u2028/g,"\n");jC=jC.replace(/\u2029/g,"\n");jC=jC.slice(0,jC.length-1);if(jC=="")continue;
d.HV(jC.slice(0,255));dN.tJ(id,eJ,jC);eJ+=jC.length;var kF=eu.GAtt.Runs,i6=eu.PAtt.Runs[0],kT=i6.Item.Ints[0];
for(var kY=0;kY<kF.length;kY++){var h9=kF[kY],bG=h9.Indx,dQ=h9.Item,jn=dQ.Objs,b1=dN.cj(id,jY,1);b1.gC.Justification=kT==0?0:kT==1?2:1;
dN.Qp(b1,dQ.DFnt.Post);b1.uA.FontSize=dQ.Doub[0];for(var g=0;g<jn.length;g++){var c8=jn[g];if(c8._type=="FDsc"){var j_=c8.FDeF;
if(j_._type=="FilS"){var fQ=$(j_.Colr);b1.uA.FillColor={Type:1,Values:[1,fQ[0],fQ[1],fQ[2]]}}}}dN.CG(id,jY+fN,jY+Math.min(bG,jC.length),b1);
fN=bG}}dN.NA(id,1);dN.h4(id,[0,0,Math.round((gm[2]-gm[0])*iz*1.02),Math.round((gm[3]-gm[1])*dC*1.2)]);
T.Uq=!0}else if(S){d.a3|=16;var cM=d.add.vstk=a_.jM.J0(!0),G=d.add.vmsk=u(k);a.z.Gn(G.u,H);var I=_[0];
for(var g=0;g<_.length;g++)if(_[g].FDeF._type!="FilN")I=_[g];if(I){var jK=I.FDeF,aw=jK._type;if(aw=="FilS")d.add.SoCo={classID:"null",Clr:A(jK.Colr)};
else if(aw=="FilG"){var ez=d.add.GdFl=JSON.parse(a_.ef[a_.order.indexOf("GrFl")]);v(I,ez,a.z.nd(G.u))}else if(aw=="FilN"){d.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:0,k:0,X:0})}};
cM.fillEnabled.v=!1}else console.log(aw)}if(k.LILn){var g4=k.LILn[0].LDeL,ht=g4.Wght;if(ht!=0){cM.strokeEnabled.v=!0;
cM.strokeStyleLineWidth.v.val=ht;var jK=k.LIFl[0].FDeF,aw=jK._type;if(aw=="FilS")cM.strokeStyleContent.v.Clr=A(jK.Colr);
else if(aw=="FilN")cM.strokeEnabled.v=!1}}d.cC();d.k3(T)}else if(E=="RcRA"){var gx=k.AdjP,kE="hue2",kS=d.add[kE]=em.J0(kE);
t(kS,gx)}else console.log(E);var h7=k.AdCh,b7=[];if(h7)for(var g=0;g<h7.length;g++){var i7=h7[g],fp=i7._type;
if(fp=="ShpN"||fp=="PCrv"){var G=d.add.vmsk=u(i7),jB=p(H,i7);a.z.Gn(G.u,jB);d.cC();d.k3(T)}else if(i7.AdjP){var gx=i7.AdjP,fB=gx._type;
console.log(fB);var df={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[fB];
if(df==null){console.log(gx);continue}var dt=em.gd(df,{});b7.push(dt);var kS=dt.v.Fltr.v;if(fB=="LevP"){var g5=f8.FP(kS,0);
g5[0]=gx.OutB*255;g5[1]=gx.OutW*255;f8.m9(kS,0,g5)}else if(fB=="WhBP"){var g5=f8.FP(kS,2);g5[4]=100+gx.WBTi*20;
f8.m9(kS,2,g5);var g5=f8.FP(kS,3);g5[4]=100+gx.WBTi*200;f8.m9(kS,3,g5)}else if(fB=="HSSP"){var g5=eP.FP(kS,0);
g5[0]=Math.round(gx.HueA*256);g5[1]=Math.round(gx.SatA*256);g5[2]=Math.round(gx.LumA*256);eP.m9(kS,0,g5)}else if(fB=="RecP"){t(kS,gx)}else if(fB=="B&CP"){kS.Brgh.v=Math.round(gx.Brig*100);
kS.Cntr.v=Math.round(gx.Ctrs*100-100)}else if(fB=="PosP"){kS.Lvls.v=gx.Post}else if(fB=="VibP"){kS.vibrance.v=gx.Vibr-100;
kS.Strt.v=Math.round(gx.Satu*100)}else if(fB=="ExpP"){kS.Exps.v=gx.Expo;kS.gammaCorrection.v=gx.Gamm/2.2}else if(fB=="ThrP"){kS.Lvl.v=Math.round(gx.Thre*255)}else if(fB=="CrvP"){var bR=gx.Mast["Cnt "],h$=gx.Mast.Vals,g5=a5.FP(kS,0),ih=g5[0];
for(var jt=0;jt<bR;jt++){var jN=g5[jt]=a.G(ih);jN.v.Hrzn.v=Math.round(h$[jt]*255);jN.v.Vrtc.v=Math.round(h$[4+jt]*255)}a5.m9(kS,0,g5)}}else console.log(i7)}if(b7.length!=0&&d.add.SoLd){d.add.SoLd.filterFX=em.Mn();
T.p0({id:d.add.SoLd.placed.v,S:new fw,buffer:a.j(1),T4:new bi.L7});d.add.SoLd.filterFX.v.filterFXList.v=b7;
d.m8(T,!1)}var jk=k.FiEf;if(jk&&jk.length!=0){var gE=d.add.lmfx=JSON.parse(a_.default);for(var g=0;g<a_.order.length;
g++)gE[a_.in[g]]={t:"VlLs",v:[]};for(var cW=0;cW<jk.length;cW++){var dR=jk[cW],gV=dR._type,gv={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[gV],ez=gv?JSON.parse(a_.ef[a_.order.indexOf(gv)]):null,ga=1;
if(gV=="ColO"){ez.Clr=A(dR.Colr)}else if(gV=="GrdO"){v(dR.GrFl,ez)}else if(gV=="Shad"||gV=="InnS"||gV=="OutG"||gV=="InnG"){ez.Clr=A(dR.Colr);
ez.blur.v.val=Math.round(dR.Radi);var iC=dR.Comp;if(iC!=null){if(iC>.5)ga=1-.5*(iC-.5);else ez.Ckmt.v.val=Math.round(100*(.5-iC))}if(dR.Offs!=null){ez.Dstn.v.val=dR.Offs;
ez.lagl.v.val=Math.round(180-dR.Angl*180/Math.PI);ez.uglg.v=!1}}else if(gV=="Strk"){if(dR.Ftyp==0)ez.Clr=A(dR.Colr);
else{v(dR.GrFl,ez);ez.PntT.v.FrFl="GrFl"}ez.Sz.v.val=Math.round(dR.Radi)}else if(gV=="PhgB"||gV=="BevE"){ez.blur.v.val=Math.round(dR.Radi);
if(gV=="BevE")ez.bvlS.v.BESl="PlEb"}else if(gV=="Gaus"){if(S&&dR.Enab){d.add.vmsk.cc=dR.Radi/2.4;d.add.vmsk.Kk=!0;
d.cC();d.k3(T)}}if(gv){ez.enab.v=dR.Enab;if(ez.Md&&dR.BlnM!=null)ez.Md.v.BlnM=jM.oa(n(dR.BlnM));if(ez.Opct&&dR.Opac!=null)ez.Opct.v.val=Math.round(ga*dR.Opac*100);
var dI=a_.in[a_.order.indexOf(gv)];gE[dI].v.unshift({t:"Objc",v:ez})}}}if(k.BFFl&&k.BFFl[0])_.pop();
T.U.push(d)}function t(k,T){k.Clrz.v=!0;var Z=eP.FP(k,0);Z[0]=Math.round(T.RecH*360);Z[1]=Math.round(T.RecS*100);
Z[2]=Math.round(T.RecL*100);eP.m9(k,0,Z)}function u(k){var T=new bi.jP,Z=k._type;if(k.ShpB==null&&k.Crvs==null)k=k.DsMa;
if(Z=="PCrv"){var i=k.Crvs.Data,V=[],_=[];for(var g=0;g<i.length;g++){var y=i[g],E=y.length%3;if(E!=1){y=E==2?y[0][2]!=0?y.slice(0,y.length-1):y.slice(1):y.slice(1,y.length-1)}for(var F=0;
F<y.length;F++){var d=y[F],x=d[2];if(x!=0)V.push(F==0?"M":"C");_.push(d[0],d[1])}}T.u=a.b.nK({L:_,Ao:V},!0)}else{var f=k.ShpB,Q=k.Shpe,m=Q._type,H=f[2]-f[0];
if(m=="ShpE"){T.u=a.z.dZ.xJ(f[0],f[1],f[2]-f[0],f[3]-f[1])}else if(m=="ShNR"){var S=[0,0,0,0];if(Q.CTyp){S=Q.ShCR.slice(0);
for(var g=0;g<4;g++)S[g]*=f[2]-f[0];for(var g=1;g<4;g++)S[g]=S[0]}T.u=a.z.dZ.Rect(f[0],f[1],f[2]-f[0],f[3]-f[1],S)}else if(m=="ShpT"){T.u=a.b.nK({Ao:["M","L","L","Z"],L:[f[0],f[3],f[2],f[3],f[0]+H*.5,f[1]]},!0)}else if(m=="ShTz"){T.u=a.b.nK({Ao:["M","L","L","L","Z"],L:[f[0]+H*Q.PosL,f[1],f[0]+H*Q.PosR,f[1],f[2],f[3],f[0],f[3]]},!0)}else{console.log("--",m);
T.u=a.z.dZ.Rect(f[0],f[1],f[2]-f[0],f[3]-f[1],[0,0,0,0])}}return T}function v(k,T,Z){var i=k.FDeF,V=k.FDeX;
if(V)V=J(V);var _=i.Grad,y=_.Cols;T.Type.v.GrdT=i.Type==0?"Lnr":"Rdl";var E=[];for(var g=0;g<y.length;
g++){var F=$(y[g]);E.push([_.Posn[g][0],F])}T.Grad.v.Intr.v=0;a.Wi.Sy(E,T.Grad.v);var d=_.Posn,x=new i_(d[0][0],d[0][1]),f=new i_(d[1][0],d[1][1]);
if(V){var Q=new fA;if(Z==null)Q.translate(-.5,-.5);Q.concat(V);if(Z==null)Q.translate(.5,.5);x=Q.g$(x);
f=Q.g$(f)}if(i.Type==0)x=new i_((x.x+f.x)/2,(x.y+f.y)/2);a.Wi.aN(x,f,Z?Z:new fw(0,0,1,1),T)}function A(k){var T=$(k);
return{t:"Objc",v:a.Wi.yR({o:T[0]*255,k:T[1]*255,X:T[2]*255})}}function $(k){var T=k._col,Z=k._type;
if(Z=="HSLA"){var i=a.no(T[0],T[1],T[2]);return[i.o,i.k,i.X,T[3]]}else if(Z=="RGBA")return T;else if(Z=="CMYK")return a.oc(T);
else if(Z=="GRAY")return[T[0],T[1],T[2]];else if(Z=="Pant")return k.srgb._col;else{console.log(T);throw Z}}function X(k,T,Z){var i=k.Frmt,R="";
if(i!=0&&i!=1&&i!=4&&i!=6)throw i;var V=k.BmpW,_=k.BmpH,y=i==1?128:256,E=i==4?5:i==0||i==1?4:1,F=k.TWi1;
if(F==null)F=Math.ceil(V/y);var d=k.THi1;if(d==null)d=Math.ceil(_/256);var x=new fw(0,0,F,d),f=new fw;
for(var g=0;g<E;g++){var Q=new Uint8Array(k["Sta"+(g+1)]);if(Q.length!=x.C())throw"e";for(var m=0;m<Q.length;
m++)if(Q[m]==1)Q[m]=0;var H=a.Ni(Q,x);f=f.KQ(H)}var S=[];for(var g=0;g<E;g++){var Q=new Uint8Array(k["Sta"+(g+1)]),I=a.j(f.C());
a._1(Q,x,I,f);S[g]=[];for(var m=0;m<I.length;m++)S[g][m]=I[m];R+=JSON.stringify(S[g])+","+JSON.stringify(k["Idx"+(g+1)])+","}if(Z[R]==null){var D=f.r*y,G=f.$*256,C=new Array(E);
for(var g=0;g<E;g++){var Q=C[g]=new Uint8Array(D*G);U(Q,k["Idx"+(g+1)],S[g],T,D,G,y)}var O=a.j(D*G*4);
if(i==0||i==1)a.s7({o:C[0],k:C[1],X:C[2],k6:C[3]},O);else if(i==4){for(var g=0;g<C[0].length;g++){var Y=g*4,h=C[0][g]*(1/255),r=C[1][g]*(1/255),W=C[2][g]*(1/255),N=C[3][g]*(1/255),o=UDOC.C.cmykToRgb([h,r,W,N]);
O[Y]=o[0]*255;O[Y+1]=o[1]*255;O[Y+2]=o[2]*255;O[Y+3]=C[4][g]}}else{O.fill(255);a.eG(C[0],O)}var K=new fw(0,0,D,G),l={buffer:O,S:K};
a.PP(l);Z[R]=[l.S,l.buffer]}var H=Z[R][2]=Z[R][0].P();H.x+=f.x*y;H.y+=f.y*256;return Z[R]}function U(k,T,Z,i,V,_,y){var E=0,F=V>>>(y==256?8:7),d=_>>>8;
for(var x=0;x<d;x++)for(var f=0;f<F;f++){var Q=f*y,m=x*256,H=x*F+f,S=m*V+Q,R=Z[H];if(R<=1){}else if(R==2)w(k,S,255,V,y,256);
else if(R==4){var I=T[E];E++;var D=i[I.Data.DatI],G=I.Rect;if(G==null)G=[0,0,y,256];P(k,(m+G[1])*V+Q+G[0],D,G[1]*y+G[0],V,y,G[2]-G[0],G[3]-G[1])}else console.log(R)}}function w(k,T,Z,i,V,_){var y=T+i*_;
for(;T<y;T+=i){var E=T+V;for(var F=T;F<E;F++){k[F]=Z}}}function P(k,T,Z,i,V,_,y,E){var F=T+V*E,d=i+_*E;
for(;T<F&&i<d;T+=V,i+=_){for(var g=0;g<y;g++)k[T+g]=Z[i+g]}}return z}();function jh(){}jh.yi=function(z,J){var p=jh,n=e6.parse(z),c=0,d=0;
if(n.pages.length>1)console.log(n.pages.length,"pages");var B=[],t=new fw;for(var u=0;u<n.pages.length;
u++){var v=n.pages[u],A=v.layers,$=p.yq(A,u),U=!1;if($.C()>8e3*8e3||$.r>3e4||$.$>3e4){p.apl(A,!0);var X=p.yq(A,u);
if(X.C()>=$.C())p.apl(A,!1)}$=p.yq(A,u);for(var w=0;w<A.length;w++){var P=A[w];if(p.ak(P)=="artboard")U=!0}if(!U){console.log("no artboard");
var k={};for(var T in v)k[T]=v[T];k._class="group";v.layers=[k]}B.push($.P());if($.Sz())continue;$.x=0;
$.y=c;c+=$.$+200;t=t.KQ($)}var Z={};if(n.foreignSymbols)for(var g=0;g<n.foreignSymbols.length;g++){var i=n.foreignSymbols[g].symbolMaster;
Z[i.symbolID]={Rd:i}}p.akf(n.pages,Z,J);for(var V in Z){var P=Z[V].Rd,_=p.aF6(P.layers)}var y=jh.S8(t,8192*8192);
J.Uq=!0;J.r=Math.round(t.r/y);J.$=Math.round(t.$/y);J.buffer=a.j(J.r*J.$*4);J.wC={};J._E=[];c=0;for(var u=0;
u<n.pages.length;u++){var E=n.pages[u],$=B[u],F=new fA(y,0,0,y,$.x,$.y-c);p.sj(E.layers,J,F,n,Z,{},[]);
c+=$.$+200}delete J.wC;delete J._E;for(var g=0;g<J.U.length;g++)if(J.U[g].add.artb)d++;J.Gd(d);if(y!=1)alert("File scaled down "+y+"x");
J.apJ()};jh.aou=0;jh.ak=function(z){return z._class?z._class:z.$class};jh.S8=function(z,J){var p=1;if(ex!=0)return p;
while(Math.round(z.r/p)*Math.round(z.$/p)>J||Math.max(Math.round(z.r/p),Math.round(z.$/p))>3e4)p++;if(window.adX)return p;
if(p!=1&&!window.confirm("Your image is quite large ("+z.r+" x "+z.$+" px).\n"+"Press OK to scale it down "+p+"x, or Cancel to keep the size."))p=1;
return p};jh.yq=function(z,J){var p=[],n=jh;for(var B=0;B<z.length;B++){var c=z[B],t=n.LM(c.frame);if(J==0||n.ak(c)=="artboard")p.push(t)}return a.S.ni(p)};
jh.apl=function(z,J){var p=[],n=jh;for(var B=0;B<z.length;B++){var c=z[B],t=n.LM(c.frame);t.r+=150;t.$+=150;
p.push(t)}var u=a.S.ni(p);a.S.al7(p,J);var v=a.S.ni(p);if(v.C()*1.5<u.C()||u.r>3e4&&v.r<=3e4||u.$>3e4&&v.$<=3e4){alert("Re-arranging artboards");
for(var B=0;B<z.length;B++){var A=p[B],c=z[B],$=c.frame;$.x=A.x;$.y=A.y}}};jh.akf=function(z,J,p){if(z==null)return;
var n=jh;for(var B=0;B<z.length;B++){var c=z[B],t=n.ak(c);if(["page","artboard","group"].indexOf(t)!=-1)n.akf(c.layers,J,p);
else if(t=="symbolMaster")J[c.symbolID]={Rd:c}}};jh.aF6=function(z){var J=jh;for(var p=0;p<z.length;
p++){var n=z[p],B=J.ak(n),c=null;if(["page","artboard","group"].indexOf(B)!=-1)c=J.aF6(n.layers);if(B=="symbolMaster"||B=="symbolInstance")c=n;
if(c!=null)return c}return null};jh.sj=function(z,J,p,n,B,c,t){if(z==null)return;var u=jh,v=[];for(var A=0;
A<z.length;A++){var $=z[A],X=$.frame?u.LM($.frame):null,U=$.style,Z="",F=null,d=!1;if(U==null){console.log("no styles")}var w=u.aFq($,p),P=u.ak($),k=P=="shapeGroup"||P=="shapePath"||P=="rectangle"||P=="oval"||P=="triangle"||P=="polygon",T=["page","artboard","group"].indexOf(P)!=-1;
if(P=="shapeGroup"){for(var g=0;g<$.layers.length;g++)if(u.ak($.layers[g])=="shapeGroup")T=!0}var i=$.exportOptions;
if(i){var V=i.exportFormats;if(V==null)V=i.sizes;if(P!="artboard"&&(V&&V.length!=0)){var _=V[0].scale}}var y=J.JG();
y.Rz($.isVisible);var E=$.name;if(!(typeof E=="string"))E=P;y.HV(Z+E.slice(0,250));if(U!=null)F=u.a0O(n,J,U,X,w,y.getName(),k||P=="artboard"||T);
if(P=="rectangle"&&U&&U.fills&&U.fills[0]){var x=U.fills[0];if(x.fillType==4&&x.patternFillType>1&&x.image!=null)d=!0}if($.shouldBreakMaskChain){while(v.length!=0)u.adV(v.pop(),J)}if(T){y.add.lsct=$.layerListExpandedType==2?cp.xj:cp.mD;
y.QN="pass";y.a3=24;y.Rz($.isVisible);J.U.push(J.eH());if($.hasBackgroundColor==null&&$.hasClickThrough==0&&$.name=="Frame"&&!X.Sz()){console.log("Frame detected!!!!");
var f=y.add.vmsk=new bi.jP;y.add.vstk=a_.jM.J0(!0,!1);var Q=X.P();f.u=a.z.dZ.Rect(Q.x,Q.y,Q.r,Q.$);y.cC();
y.k3(J)}if(P=="artboard"){var m=X.P(),H=w.Nz();m.x=-Math.floor(w.Rf/H);m.y=-Math.floor(w.Sm/H);m.r=Math.floor(m.r/H);
m.$=Math.floor(m.$/H);y.Uu(m);var S=$.backgroundColor,R=S?{o:255*S.red,k:255*S.green,X:255*S.blue}:{o:255,k:255,X:255};
y.add.artb.Clr={t:"Objc",v:a.Wi.yR(R)};y.add.artb.artboardBackgroundType={t:"long",v:4}}u.sj($.layers,J,w,n,B,c,t)}else if(k&&!d){var I=F!=null&&F.frameFXMulti.v.length==1;
y.add.vmsk=new bi.jP;y.add.vstk=a_.jM.J0(!0,I);var D=U?U.fills:null,G=U?u.aog(n,D,X,w,y.getName(),J,u.Z2(t,$.do_objectID+"_image")):[];
if(G.length==0){if(I)y.add.vstk.fillEnabled.v=!1;else y.add.iOpa=0;y.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:0,k:0,X:0})}}}else{var C=G[0],Y=null,h=null;
if(C.I=="SoFi"){Y="SoCo";h=a_.Sx}if(C.I=="GrFl"){Y="GdFl";h=a_.ik}if(C.I=="patternFill"){Y="PtFl";h=a_.ry}if(Y!=null){y.add[Y]={classID:"null"};
for(var g=0;g<h.length;g++){var r=h[g];y.add[Y][r]=C.K.v[r]}var W=C.K.v.Opct.v.val;if(I&&W==0)y.add.vstk.fillEnabled.v=!1;
else y.add.iOpa=Math.round(255*W/100)}}y.a3|=16;y.add.vmsk.u=u.wz($.layers?$.layers:[$],$.layers?w:p);
var N=U?U.blur:null;if(N&&N.isEnabled&&N.type<=1)y.add.vmsk.cc=N.radius;if(y.add.vmsk.u.length==2){console.log("shape with no content:",y.getName())}if(I){var K=F.frameFXMulti.v[0].v,l=y.add.vstk,aV=U.borders[0];
F.frameFXMulti.v=[];ju.aGP(K,l);var j=U.borderOptions,M=U.miterLimit;if(j)a_.jM.write(l,{eY:j.lineCapStyle,AE:j.lineJoinStyle,ji:j.dashPattern,Rw:M})}y.cC();
y.k3(J)}else if(P=="bitmap"||d){if(!d&&$.image==null)continue;var s=d?U.fills[0]:null,l2=d?s.image.bdata:$.image.bdata,gm=J.aZ(l2,y.getName(),0,0);
gm.a3=y.a3;y=gm;var N=U?U.blur:null,iz=U?U.colorControls:null;if(N||iz){var D=[];if(N){var dC=em.gd("GsnB",{});
dC.v.enab.v=N.isEnabled;dC.v.Fltr.v.Rds.v.val=N.radius;D.push(dC)}if(iz){var dL=iz.brightness,cP=iz.contrast,id=iz.hue,jR=iz.saturation;
if(id!=0||jR!=1){var dC=em.gd("hue2",{});dC.v.enab.v=iz.isEnabled;eP.m9(dC.v.Fltr.v,0,[Math.round(id*180/Math.PI),Math.round((jR-1)*100),0]);
D.push(dC)}if(dL!=0||cP!=1){var dC=em.gd("brit",{});dC.v.enab.v=iz.isEnabled;cP=cP-1;if(cP>0)cP/=2;var hC=dC.v.Fltr.v;
hC.Brgh.v=Math.round(dL*255);hC.Cntr.v=Math.round(cP*255);hC.useLegacy.v=!0;D.push(dC)}}if(D.length!=0){y.add.SoLd.filterFX=em.Mn();
J.p0({id:y.add.SoLd.placed.v,S:new fw,buffer:a.j(1),T4:new bi.L7});y.add.SoLd.filterFX.v.filterFXList.v=D}}if(d){var eJ=s.patternFillType;
if(eJ==3){var el=y.S.r/y.S.$,eu=X.r/X.$;if(el<eu){w.translate(-(X.r*(1-el/eu))/2,0);w.scale(eu/el,1)}else{w.translate(0,-(X.$*(1-eu/el))/2);
w.scale(1,el/eu)}}}X.x=X.y=0;var jY=a.b.e3(X).L;w.oU();a.b.h(jY,w,jY);y.add.SoLd.Trnf=L.tp.ey(jY);y.add.SoLd.nonAffineTransform=L.tp.ey(jY);
y.m8(J,!1)}else if(P=="text"){if($.attributedString==null)continue;var fN=w.P(),jC,kF,bG=0;fN.oU();fN.k6=fN.JH=Math.min(fN.k6,fN.JH);
y.add.lnsr="rend";y.add.TySh=dN.gI(0,0);y.add.TySh.M6=new fw(0,0,X.r,X.$);y.add.TySh.h=fN;var i6=$.attributedString;
if(i6.archivedAttributedString)i6=i6.archivedAttributedString;var kT=i6.NSString;if(kT==null)kT=i6.string;
if(kT==null)kT="";if(kT["NS.string"])kT=kT["NS.string"];if(c[$.do_objectID]!=null)kT=c[$.do_objectID];
var kY=u.Z2(t,$.do_objectID+"_stringValue");if(kY)kT=kY.value;if(i6.attributes!=null){jC=[];kF=[];var h9=i6.attributes;
for(var g=0;g<h9.length;g++){jC.push(h9[g].length,g);kF.push(h9[g].attributes)}}else if(i6.NSAttributeInfo==null){jC=[kT.length,0];
kF=[i6.NSAttributes]}else{jC=i6.NSAttributeInfo["NS.data"];kF=i6.NSAttributes;jC=jh.aa9(jC,kF)}for(var g=0;
g<jC.length;g+=2)bG+=jC[g];if(bG!=kT.length){while(bG>kT.length){jC[jC.length-2]--;bG--;if(jC[jC.length-2]==0){jC.pop();
jC.pop()}}jC[jC.length-2]+=kT.length-bG}kT=kT.replace(/\u2028/g,"\n");kT=kT.replace(/\u2029/g,"\n");
kT=kT.replace(/\r/g,"\n");var dQ=y.add.TySh.qU;dN.tJ(dQ,0,kT);if(kT!=""){var jn=$.textBehaviour,b1=U.textStyle,c8=b1?b1.verticalAlignment:0,j_=u.aqK(dQ,jC,kF,kT),H=fN.Nz(),fQ=dN.cj(dQ,0,1),aw=0;
if(fQ.uA.Font){var cM=fQ.W5[fQ.uA.Font].Name;if(cM=="FontAwesome"||cM=="Ionicons")j_*=.87}var jK=fQ.uA.AutoLeading?0:fQ.uA.Leading*.6,ez=Math.max(j_,jK)*H,g4=X.r,ht=X.$;
if(jn==0){dN.NA(dQ,0);var gx=dN.Oq(fQ.gC);if(gx==1)aw=g4*H;if(gx==2)aw=g4*H*.5;if(c8==0)ez*=1;else ez*=.9}else{dN.NA(dQ,1);
dN.h4(dQ,[0,0,Math.round(g4),Math.round(ht)]);if(jn==2&&c8==0)ez=ez*.2;else if(jn==2&&c8==1){ez=H*.5*(ht-fQ.uA.FontSize)}else if(jn==1&&c8==0)ez=ez*.2;
else ez=ez*.35}y.add.TySh.h.translate(aw,ez)}}else if(P=="symbolInstance"||P=="symbolMaster"){var kE=$.symbolID;
if(c[$.do_objectID])kE=c[$.do_objectID].symbolID;var kS=u.Z2(t,$.do_objectID+"_symbolID");if(kS)kE=kS.value;
if(kE=="")continue;var h7={};for(var r in c)h7[r]=c[r];if($.overrides)for(var r in $.overrides)h7[r]=$.overrides[r];
var b7=t.slice(0);if($.overrideValues)b7=b7.concat($.overrideValues);var i7=B[kE];if(i7==null){console.log("Unknown master master",$.symbolID);
continue}var Q=jh.LM(i7.Rd.frame),fp=Q.r/X.r,jB=Q.$/X.$,fB=w.P();fB.scale(fp,jB);y.add.lsct=cp.mD;y.QN="pass";
y.a3=24;y.Rz($.isVisible);J.U.push(J.eH());var df=i7.Rd;if(J._E.indexOf(df)==-1){J._E.push(df);u.sj(df.layers,J,fB,n,B,h7,b7);
J._E.pop()}}else if(P=="slice"){console.log("slice layers are ignored by now");continue}else{console.log("unknown layer type: "+P,$);
continue}if(U&&U.contextSettings){var dt=U.contextSettings,g5=dt.blendMode;if(g5<u.o4.length){y.QN=jM.Bk[jM.n_.indexOf(u.o4[g5])];
if(T&&y.QN=="norm")y.QN="pass"}y.YF=Math.round(y.YF*dt.opacity)}if(F!=null){y.add.lmfx=F}J.U.push(y);
if($.hasClippingMask&&z.length>1){v.push(y);J.U.push(J.eH())}}while(v.length!=0)u.adV(v.pop(),J)};jh.Z2=function(z,J){for(var g=0;
g<z.length;g++)if(z[g].overrideName.startsWith(J))return z[g]};jh.aa9=function(z,J){var p=0,n=[];while(p+1<z.length){var B=z[p];
p++;if(B>127){B+=128*(z[p]-1);p++;if(z[p-1]>127){B+=128*(z[p]-1);p++}}var c=z[p];p++;n.push(B,c)}return n};
jh.aqK=function(z,J,p,n){var B=jh,c=0,$=0,X=0;for(var g=0;g<n.length;g++){var t=n.charCodeAt(g),u=1473<=t&&t<=1479||1488<=t&&t<=1514||1520<=t&&t<=1524,v=1569<=t&&t<=1594||1600<=t&&t<=1749;
if(u||v)c++}var A=c>n.length/2;for(var g=0;g<J.length;g+=2){var U=J[g],y=14,E="DejaVuSans";if(U==0)continue;
var w=J[g+1],P=p[w],k=dN.cj(z,$,$+U-1),T=P.NSColor;if(T==null){var T=P.MSAttributedStringColorDictionaryAttribute;
if(T==null)T=P.MSAttributedStringColorAttribute;if(T==null)T="0 0 0";else T=[T.red,T.green,T.blue].join(" ")}else if(B.ak(T)=="MSArchivedColor")T=T.dr+" "+T.dg+" "+T.db;
else if(T.NSRGB){T=T.NSRGB;T=e.RM(T,0,T.length-1)}else if(T.NSCMYK){T=T.NSCMYK;T=e.RM(T,0,T.length-1);
T=T.split(" ").map(parseFloat);var Z=1-T[0],i=1-T[1],V=1-T[2],_=1-T[3];T=Z*_+" "+i*_+" "+V*_}else if(T.NSWhite){T="1 1 1"}T=T.split(" ");
k.uA.FillColor={Type:1,Values:[1,parseFloat(T[0]),parseFloat(T[1]),parseFloat(T[2])]};var F=P.MSAttributedStringFontAttribute;
if(P.NSFont){y=P.NSFont.NSSize;E=P.NSFont.NSName}else if(F){if(F.attributes){F=F.attributes;y=F.size;
E=F.name}else{var d=F.NSFontDescriptorAttributes;if(d==null)d=F.UIFontDescriptorAttributes;F=d;y=F.NSFontSizeAttribute;
E=F.NSFontNameAttribute}if(E==null)E="DejaVuSans"}var X=Math.max(X,y);k.uA.FontSize=Math.round(y);dN.Qp(k,E);
var x=P.NSKern;if(x==null)x=P.kerning;if(x!=null)k.uA.Tracking=Math.round(1e3*x/y);if(P.NSUnderline!=null)k.uA.Underline=P.NSUnderline>0;
var f=P.NSStrikethrough;if(f==null)f=P.strikethroughStyle;if(f!=null)k.uA.Strikethrough=f>0;if(P.MSAttributedStringTextTransformAttribute==1)k.uA.FontCaps=2;
var Q=P.NSParagraphStyle;if(Q==null)Q=P.paragraphStyle;if(Q){var m=Q.paragraphSpacing;if(m!=null){k.gC.SpaceAfter=m}var H=Q.NSAlignment;
if(H==null)H=Q.alignment;if(H!=null){var S=0;if(!1){}else if(H==1)S=1;else if(H==2)S=2;else if(H==4)S=0;
else{S=H;console.log("unknown align",H)}if(A&&S<2)S=1-S;k.gC.Justification=S}var R=Q.NSMinLineHeight;
if(R==null)R=Q.minimumLineHeight;if(R!=null){k.uA.AutoLeading=!1;k.uA.Leading=R}}k.gC._Direction=A?1:0;
dN.CG(z,$,$+U,k);$+=U}return X};jh.a0O=function(z,J,p,n,B,c,t){var u=jh,v=JSON.parse(a_.default),A=!1;
for(var g=0;g<a_.order.length;g++)v[a_.in[g]]={t:"VlLs",v:[]};var $=p.fills,X=u.aog(z,$,n,B,c,J);for(var U=0;
U<2;U++){var w=p[["shadows","innerShadows"][U]];if(w==null)continue;var P=["DrSh","IrSh"][U],k=a_.in[a_.order.indexOf(P)];
for(var g=0;g<w.length;g++){var T=w[g];if(!T.isEnabled)continue;var Z=T.contextSettings;if(Z&&Z.opacity==0||T.color.alpha==0)continue;
var i=JSON.parse(a_.ef[a_.order.indexOf(P)]);v[k].v.unshift({t:"Objc",v:i});A=!0;i.Clr.v=u.zO(T.color);
i.blur.v.val=Math.round(T.blurRadius/B.Nz());var V=B.P();V.Rf=V.Sm=0;V.oU();var _=V.g$(new i_(T.offsetX,T.offsetY)),y=Math.sqrt(_.x*_.x+_.y*_.y);
i.Dstn.v.val=Math.round(y);i.lagl.v.val=Math.round(Math.atan2(_.y,-_.x)*(180/Math.PI));if(i.layerConceals)i.layerConceals.v=X.length!=0;
u.UR(T,i)}}var E=p.borders;if(E!=null&&(X.length==0||p.blur==null||!p.blur.isEnabled))for(var g=0;g<E.length;
g++){var F=E[g];if(!F.isEnabled)continue;var i=JSON.parse(a_.ef[a_.order.indexOf("FrFX")]),k=a_.in[a_.order.indexOf("FrFX")];
v[k].v.unshift({t:"Objc",v:i});A=!0;i.Clr.v=u.zO(F.color);if(F.fillType!=0&&F.gradient){var d=u.ahi(F.gradient,n,B,c),x=["Type","Angl","Ofst","Scl"];
for(var g=0;g<x.length;g++)i[x[g]]=d[x[g]];i.Grad.v=d.Grad.v;i.PntT.v.FrFl="GrFl"}i.Sz.v.val=Math.round(F.thickness/B.Nz());
i.Styl.v.FStl=["CtrF","InsF","OutF"][F.position];u.UR(F,i)}for(var g=t?1:0;g<X.length;g++){var f=X[g],k=a_.in[a_.order.indexOf(f.I)];
v[k].v.unshift(f.K);A=!0}return A?v:null};jh.aog=function(z,J,p,n,B,c,t){if(J==null)return[];var u=jh,v=[];
for(var g=0;g<J.length;g++)if(J[g].isEnabled)v.push(J[g]);J=v;var A=[];for(var g=0;g<J.length;g++){var $=J[g],X=null,U=null;
if($.fillType==0){X="SoFi";var w=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);U={t:"Objc",v:w};U.v.Clr.v=u.zO($.color)}else if($.fillType==1){X="GrFl";
U={t:"Objc",v:u.ahi($.gradient,p,n,B)}}else if($.fillType==4&&$.image!=null){var P=$.image;if(t)P=t.value;
var k=kL.yd(P.bdata.buffer);if(k=="fpng")k="png";if(k!=null&&k!="pdf"&&k!="eps"){var T,y=0,E=0,F=0;if(c.wC[P.key])T=c.wC[P.key];
else{var Z={data:new ArrayBuffer(4),eE:new fw(0,0,1,1)};try{Z=kL.V5(k).uj(P.bdata)[0]}catch(l5){}T={};
T.id=b$.rR()+"-d71c-11e5-b1ae-a548a96e5f9f";T.name="someImage";T.kR=[new Uint8Array(Z.data),Z.eE];c.KX(T);
c.wC[P.key]=T}var i=T.kR[1],w=JSON.parse(a_.ef[a_.order.indexOf("patternFill")]);X="patternFill";U={t:"Objc",v:w};
var V=$.patternFillType,_=$.patternTileScale;w.Algn.v=!0;w.Ptrn.v.Idnt.v=T.id;if(V==0){y=_*i.r/Math.min(i.r,i.$);
E=-n.Rf;F=-n.Sm}else{y=Math.max(p.r/i.r,p.$/i.$);E=-n.Rf-(i.r*y-p.r)/2;F=-n.Sm-(i.$*y-p.$)/2}w.Scl.v.val=100*y*(1/n.Nz());
w.phase.v.Hrzn.v=Math.round(E/n.Nz());w.phase.v.Vrtc.v=Math.round(F/n.Nz())}}else if($.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",$.fillType);
if(X!=null){u.UR($,U.v);A.push({I:X,K:U})}}return A};jh.a7S=function(z){var J=jh,p=new fw(0,0,1,1);z=z.slice(0);
while(!0){var n=!1;for(var g=0;g<z.length-1;g++){var B=z[g],c=z[g+1],t=null,u=B.contextSettings;if(B.fillType==0&&(u==null||u.opacity==1&&u.blendMode==0)&&B.color.alpha==1){var v="norm",A=1,u=c.contextSettings;
if(u){A=u.opacity;v=jM.pg(J.o4[u.blendMode])}if(c.fillType==0){t=a.G(c);J.a7F(t.color,B.color,t.color,p,v,A)}if(c.fillType==1){t=a.G(c);
var $=t.gradient.stops;for(var X=0;X<$.length;X++)J.a7F($[X].color,B.color,$[X].color,p,v,A)}if(t!=null&&t.contextSettings){var u=t.contextSettings;
u.opacity=1;u.blendMode=0}}if(t!=null){z.splice(g,0,t);n=!0;break}}if(!n||z.length<2)break}return z};
jh.a7F=function(z,J,p,n,B,c){var t=jh,u=a.j(4);t.a83(z,u);var v=a.j(4);t.a83(J,v);a.B.Oe(B,u,n,v,n,n,c);
t.ahJ(v,p)};jh.a83=function(z,J){J[0]=255*z.red;J[1]=255*z.green;J[2]=255*z.blue;J[3]=255*z.alpha};jh.ahJ=function(z,J){J.red=z[0]/255;
J.green=z[1]/255;J.blue=z[2]/255;J.alpha=z[3]/255};jh.adV=function(z,J){z=z.P();z.a3=24;z.HV("Mask by "+z.getName());
J.U.push(z);z.add.lsct=cp.xj;z.add.lyid=J.kv();delete z.add.lmfx;delete z.add.SoCo;delete z.add.GdFl;
delete z.add.PtFl;delete z.add.iOpa;if(z.add.vmsk)z.add.vmsk.Kk=!0;z.cC();z.k3(J);if((z.a3&16)==16)z.a3-=16;
if((z.a3&2)==2)z.a3-=2;z.QN="pass";z.YF=255};jh.o4="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
jh.ahi=function(z,J,p,n){p=p.P();p.oU();p.Rf=p.Sm=0;var B=p.Nz(),U=0,w=0;p.scale(1/B,1/B);var c=jh,t=JSON.parse(a_.ef[a_.order.indexOf("GrFl")]),u=t.Grad.v;
u.Intr.v=0;if(z==null)return t;var v=z.gradientType,A=c.yu(z.from),$=c.yu(z.to);A.offset(-.5,-.5);$.offset(-.5,-.5);
A=p.g$(A);$=p.g$($);var X=Math.atan2(-($.y-A.y),$.x-A.x);t.Type.v.GrdT=["Lnr","Rdl","Angl"][v];t.Scl.v.val=100*i_.mT(A,$);
if(v==0){t.Angl.v.val=180/Math.PI*X;t.Scl.v.val=100*i_.mT(A,$);U=(A.x+$.x)/2;w=(A.y+$.y)/2}if(v==1){t.Scl.v.val=200*i_.mT(A,$);
U=A.x;w=A.y}if(v==2){t.Angl.v.val=180/Math.PI*(X-Math.PI/2)}var P=t.Ofst.v;P.Hrzn.v.val=U*100;P.Vrtc.v.val=w*100;
var k=[];for(var g=0;g<z.stops.length;g++){var T=z.stops[g],Z=T.color;k.push([T.position,Z?[Z.red,Z.green,Z.blue]:[0,0,0],Z.alpha])}a.Wi.Sy(k,u);
return t};jh.UR=function(z,J){var p=jh,n=1,B=z.contextSettings;if(B!=null){J.Md.v.BlnM=p.o4[B.blendMode];
n*=B.opacity}else J.Md.v.BlnM=p.o4[0];J.enab.v=z.isEnabled;if(J.uglg!=null)J.uglg.v=!1;if(z.color!=null)n*=z.color.alpha;
J.Opct.v.val=Math.round(n*100)};jh.zO=function(z){return a.Wi.yR(z?{o:z.red*255,k:z.green*255,X:z.blue*255}:{o:0,k:0,X:0})};
jh.wz=function(z,J){var p=jh,n=[{I:6},{I:8,all:0}];for(var B=0;B<z.length;B++){var c=z[B],t=c.booleanOperation,u=0,v=c._class,P=!1;
if(v=="group"||v=="text"||v=="symbolInstance"||v=="slice"){console.log(v+" inside ShapeGroup");continue}if(t==-1)u=0;
else if(t==0)u=1;else if(t==1)u=2;else if(t==2)u=3;else if(t==3)u=0;if(B==0)u=1;var A=jh.LM(c.frame),$=p.aFq(c,J),X=c.path?c.path:c,U=[{I:0,length:0,j1:u,VR:2,RX:0,Zt:0}],w=X.points;
for(var g=0;g<w.length;g++){var k=w[g],T=p.yu(k.curveTo),Z=p.yu(k.point),i=p.yu(k.curveFrom);P=P||k.hasCurveFrom&&!i.Vm(Z)||k.hasCurveTo&&!T.Vm(Z)}var V=[];
if(!P){var _=[],lj=w.length;if(lj==0)continue;for(var g=0;g<lj;g++){V[g]=w[g].cornerRadius;var k=p.yu(w[g].point);
_.push(k.x,k.y)}$.scale(1/A.r,1/A.$);$.oU();a.b.h(_,$,_);U=a.z.dZ.AB(_,V).slice(2);U[0].j1=u}else{var y=w.length;
U[0].length=y;for(var g=0;g<y;g++){var k=w[g],E=k.curveMode,F=p.yu(k.point);U[1+g]={I:E==2||E==4?1:2,FV:k.hasCurveTo?p.yu(k.curveTo):F.P(),cy:F,M3:k.hasCurveFrom?p.yu(k.curveFrom):F.P()}}$.scale(1/A.r,1/A.$);
$.oU();a.z.Gn(U,$);var V=[];for(var g=0;g<y;g++){var k=w[g],E=k.curveMode,d=k.cornerRadius;if(E==1&&d!=0)V.push(d);
else V.push(0)}}if(!X.isClosed)for(var g=0;g<U.length;g++)U[g].I+=3;n=n.concat(U);var x=p.ak(c);if($.X==0&&$.GQ==0){var f=$.Rf,Q=$.Sm,m=f+$.k6,H=Q+$.JH,S=[f,Q,m,H]}}return n};
jh.aFq=function(z,J){var p=J.P(),n=z.frame?jh.LM(z.frame):null;if(n)p.translate(-n.x-n.r/2,-n.y-n.$/2);
if(z.isFlippedHorizontal)p.scale(-1,1);if(z.isFlippedVertical)p.scale(1,-1);p.rotate(-z.rotation*(Math.PI/180));
if(n)p.translate(n.r/2,n.$/2);return p};jh.yu=function(z){z=z.slice(1,z.length-1).split(",");return new i_(parseFloat(z[0]),parseFloat(z[1]))};
jh.LM=function(z){return new fw(z.x,z.y,z.width,z.height)};jh.abb=function(z){return{_class:"rect",constrainProportions:!1,x:z.x,y:z.y,width:z.r,height:z.$}};
function cF(){}cF.yi=function(z,J){var p=Date.now(),n=cF,B=UZIP.parse(z),c=JSON.parse(e.A8(B.manifest)),t=JSON.parse(e.A8(B["resources/graphics/graphicContent.agc"])).resources,u=[],v=[],A=c.children;
for(var g=0;g<A.length;g++){var $=A[g];if($.name=="artwork"){var X=$.children;for(var U=0;U<X.length;
U++){var w=X[U],P=JSON.parse(e.A8(B["artwork/"+w.path+"/graphics/graphicContent.agc"])),k=P.children;
if(k.length==0){}else if(k.length==1){if(w["uxdesign#bounds"]){w._node=k[0];u.push(w)}}else{var T=k[0],Z=T.transform,i=T.shape;
if(i==null)i={x:0,y:0,width:1e3,height:1e3};if(i.type=="path"){var V=a.b._g(Typr.U.SVGToPath(i.path).crds);
i={x:V.x,y:V.y,width:V.r,height:V.$}}i=a.G(i);if(Z){i.x+=Z.tx;i.y+=Z.ty}w["uxdesign#bounds"]=i;w._node={type:"artboard",artboard:{children:k}};
v.push(w)}}}}if(u.length==0)u=v;var _=[],y=new fw;for(var g=0;g<u.length;g++){var w=u[g],E=jh.LM(w["uxdesign#bounds"]);
_.push(E);y=y.KQ(E)}var F=jh.S8(y,8192*8192);J.Uq=!0;J.r=Math.round(y.r/F);J.$=Math.round(y.$/F);J.buffer=a.j(J.r*J.$*4);
J.Gd(u.length);var d=new fA(F,0,0,F,y.x,y.y);J.wC={};for(var g=0;g<u.length;g++){var w=u[g],E=jh.LM(w["uxdesign#bounds"]),x=w._node,f=d.P(),Q=E.P(),m=f.Nz();
f.translate(-E.x,-E.y);Q.x=-Math.floor(f.Rf/m);Q.y=-Math.floor(f.Sm/m);Q.r=Math.floor(Q.r/m);Q.$=Math.floor(Q.$/m);
f.translate(E.x,E.y);cF.G7(x,J,f,t,B,Q);var H=J.U[J.U.length-1];H.HV(w.name);H.Uu(Q);if(g!=u.length-1)H.add.lsct=cp.mD}delete J.wC};
cF.X9=function(z){if(z==null)return new fA;return new fA(z.a,z.b,z.c,z.d,z.tx,z.ty)};cF.G7=function(z,J,p,n,B,c){var t=cF,u=z.type,v=z[u],A=z.style,$=t.X9(z.transform),P,k="none",T,Z="none",i,V;
$.oU();var X=p.P();X.concat($);var U=J.JG(),w=z.name;U.HV(w?w.slice(0,250):"Layer");if(z.visible!=null)U.Rz(z.visible);
if(A){P=A.stroke;k=P?P.type:"none";T=A.fill;Z=T?T.type:"none";if(T&&Object.keys(T).length==1)Z="none";
i=A.filters;V=A.clipPath;if(V&&n.clipPaths[V.ref])V=n.clipPaths[V.ref].children;else V=null;if(A.opacity!=null)U.YF=Math.round(255*A.opacity);
if(Z=="solid"&&T.color.alpha)U.YF=Math.round(U.YF*T.color.alpha);if(i){U.add.lmfx=t.aBP(i);for(var g=0;
g<i.length;g++)if(i[g].type=="uxdesign#blur"){var _=i[g],y=_.params,E=y.brightnessAmount;if(E==null)E=0;
E=Math.abs(E/100);if((_.visible==null||_.visible==!0)&&y.backgroundEffect)U.YF=Math.round(U.YF*(E+(1-E)*y.fillOpacity))}}if(Z=="pattern"&&T.pattern.meta.ux.uid=="")Z="none"}if(V==null&&z.meta&&z.meta.ux&&z.meta.ux.clipPathResources)V=z.meta.ux.clipPathResources.children;
if(u=="artboard"||u=="group"){if(V){var F=V[0],d=F.shape,x=d!=null&&d.type=="rect"&&d.width*d.height>4e6;
if(F.type!="text"&&!x){if(d){var $=t.X9(F.transform);$.oU();var f=X.P();f.concat($);U.add.vmsk=new bi.jP;
U.add.vmsk.u=t.wz(d);f=f.P();f.oU();a.z.Gn(U.add.vmsk.u,f);U.cC();U.k3(J)}}else if(!x)alert("Clipping by text has been ignored")}U.add.lsct=cp.xj;
U.QN="pass";U.a3=24;if(z.visible!=null)U.Rz(z.visible);J.U.push(J.eH());var m=v.children,H=T;if(H)H=H.color;
if(H)H=H.value;if(T){if(u=="artboard"&&Z=="solid"){U.Uu(new fw(0,0,10,10));U.add.artb.Clr={t:"Objc",v:a.Wi.yR({o:H.r,k:H.g,X:H.b})};
U.add.artb.artboardBackgroundType={t:"long",v:4}}else{var S=J.JG();S.HV("BACKGROUND");S.a3|=16;S.add.vstk=a_.jM.J0();
S.add.vmsk=new bi.jP;S.add.vmsk.u=t.wz({type:"rect",x:c.x,y:c.y,width:c.r,height:c.$});t.Su(T,Z,X,c,c,S,J,n,B);
S.cC();S.k3(J);J.U.push(S)}}for(var g=0;g<m.length;g++){cF.G7(m[g],J,X,n,B,c)}}else if(u=="shape"&&(v.type=="rect"&&(v.r==null||v.r==0)||v.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(v.path)))&&Z=="pattern"&&(Math.abs(v.width/v.height-T.pattern.width/T.pattern.height)<.01||A.fill.pattern.meta.ux.scaleBehavior=="fill")){var R=T.pattern,I=R.meta.ux,D=I.uid,G=B["resources/"+D];
if(G==null){console.log(R);return}var C=J.aZ(G,U.getName(),0,0);C.a3=U.a3;C.YF=U.YF;U=C;var O=a.z.nd(t.wz(v),null),Y=a.b.e3(new fw(0,0,R.width,R.height)).L,h=new fA;
h.scale(R.width/O.r,R.height/O.$);if(I.offsetX)h.translate(-I.offsetX*R.width,0);if(I.offsetY)h.translate(0,-I.offsetY*R.height);
X.concat(h);X.oU();a.b.h(Y,X,Y);U.add.SoLd.Trnf=L.tp.ey(Y);U.add.SoLd.nonAffineTransform=L.tp.ey(Y);
U.m8(J,!1)}else if(u=="shape"){U.a3|=16;U.add.vstk=a_.jM.J0();U.add.vmsk=new bi.jP;U.add.vmsk.u=t.wz(v);
var O=a.z.nd(U.add.vmsk.u,null),f=X.P();f.oU();a.z.Gn(U.add.vmsk.u,f);var r=a.z.nd(U.add.vmsk.u,null);
if(k=="none"){}else{var W=P.color.value,N,o;N="SoFi";var K=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);
o={t:"Objc",v:K};o.v.Clr.v=a.Wi.yR({o:W.r,k:W.g,X:W.b});var l=P.align,aV=P.cap;if(l==null)l="center";
var j=U.add.vstk;j.strokeEnabled.v=!0;j.strokeStyleLineWidth.v.val=P.width;if(l)j.strokeStyleLineAlignment.v.strokeStyleLineAlignment=a_.jM.ER[["inside","center","outside"].indexOf(l)];
if(aV)j.strokeStyleLineCapType.v.strokeStyleLineCapType=a_.jM.CK[["butt","round","square"].indexOf(aV)];
var M=["SoFi","GrFl","patternFill"].indexOf(N),s=[a_.Sx,a_.ik,a_.ry][M];j.strokeStyleContent.v={classID:a_.jM.Sp[0]};
var l2=j.strokeStyleContent.v={classID:a_.jM.Sp[M]};for(var g=0;g<s.length;g++)l2[s[g]]=o.v[s[g]]}if(i)for(var g=0;
g<i.length;g++)if(i[g].type=="uxdesign#blur"&&i[g].visible){var gm=i[g];U.add.vmsk.cc=gm.params.blurAmount}t.Su(T,Z,X,O,r,U,J,n,B);
U.cC();U.k3(J)}else if(u=="text"&&z.text){var iz=z.text,dC=iz.frame,dL=A.font,cP=A.textAttributes,$=X.P(),eu=0;
$.oU();U.add.lnsr="rend";U.add.TySh=dN.gI(0,0);U.add.TySh.M6=new fw(0,0,100,100);U.add.TySh.h=$;var id=U.add.TySh.qU,jR=iz.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
dN.tJ(id,0,jR);if(jR!=""){var hC=dN.cj(id,0,1),eJ=dL.postscriptName;if(eJ==null)eJ=dL.family;dN.Qp(hC,eJ);
hC.uA.FontSize=Math.round(dL.size);if(Z=="solid"){var W=T.color.value;hC.uA.FillColor={Type:1,Values:[1,W.r/255,W.g/255,W.b/255]}}if(cP){if(cP.paragraphAlign)hC.gC.Justification=["left","right","center"].indexOf(cP.paragraphAlign);
if(cP.letterSpacing)hC.uA.Tracking=Math.round(cP.letterSpacing);if(cP.lineHeight){hC.uA.AutoLeading=!1;
hC.uA.Leading=Math.round(cP.lineHeight)}}dN.CG(id,0,jR.length,hC)}var el=z.meta.ux.rangedStyles;if(el)for(var g=0;
g<el.length;g++){var v=el[g],jY=Math.min(v.length,jR.length-eu);if(g==el.length-1)jY=jR.length-eu;var hC=dN.cj(id,eu,eu+jY),eJ=v.postscriptName;
if(eJ==null)eJ=v.family;if(eJ!=null)dN.Qp(hC,eJ);var fN=v.textScript,jC=v.underline,kF=v.fontSize,_=v.fill,i6=v.textTransform;
if(fN&&fN!="none")hC.uA.FontBaseline=fN=="superscript"?1:2;if(jC!=null)hC.uA.Underline=jC;if(kF!=null)hC.uA.FontSize=Math.round(kF);
if(i6!=null)hC.uA.FontCaps=i6=="uppercase"?2:0;if(i6=="lowercase"){dN.xA(id,eu,eu+jY);dN.tJ(id,eu,jR.slice(eu,eu+jY).toLowerCase())}if(_!=null){var kT=_.value;
hC.uA.FillColor={Type:1,Values:[1,(kT>>>16&255)/255,(kT>>>8&255)/255,(kT>>>0&255)/255]}}dN.CG(id,eu,eu+jY,hC);
eu+=jY}if(dC.type=="area"||dC.type=="autoHeight"){var kY=dC.width,h9=dC.height;dN.NA(id,1);dN.h4(id,[0,0,kY,h9!=null?h9:kY*2])}}else if(u=="syncRef"){var bG=z.syncSourceGuid,dQ=n.meta.ux.symbols,jn=t.Vu(dQ,bG);
if(jn){var b1=X.P();b1.concat(t.X9(jn.transform));cF.G7(jn,J,b1,n,B,c)}return}else console.log(u,z);
J.U.push(U)};cF.Vu=function(z,J){for(var g=0;g<z.length;g++){var p=z[g],n=p.group;if(p.id==J)return p;
if(n){var B=cF.Vu(n.children,J);if(B)return B}}return null};cF.wz=function(z){var J=z.type,p=[{I:6},{I:8,all:0}];
if(J=="rect"){var n=z.r,B=z.x,c=z.y,t=z.width,u=z.height;p=a.z.dZ.Rect(B,c,t,u,n?n:0)}else if(J=="circle"){var n=z.r;
p=a.z.dZ.xJ(z.cx-n,z.cy-n,2*n,2*n)}else if(J=="ellipse"){var v=z.rx,A=z.ry;p=a.z.dZ.xJ(z.cx-v,z.cy-A,2*v,2*A)}else if((J=="path"||J=="compound")&&z.path){var $=Typr.U.SVGToPath(z.path);
p=a.b.nK({Ao:$.cmds,L:$.crds},!1)}else if(J=="line"){var X=z.x1,U=z.x2,w=z.y1,P=z.y2;p=a.z.dZ.AB([X,w,U,P],0,!0)}else if(J=="polygon"){var k=z.points,T=[];
for(var g=0;g<k.length;g++)T.push(k[g].x,k[g].y);p=p.concat(a.z.dZ.AB(T,0,!1).slice(2))}else console.log(J,z);
return p};cF.aBP=function(z){var J=JSON.parse(a_.default);for(var g=0;g<a_.order.length;g++)J[a_.in[g]]={t:"VlLs",v:[]};
for(var g=0;g<z.length;g++){var p=z[g],n=p.type,B=p.params,c=p.visible;if(n=="dropShadow"){var t=a_.in[a_.order.indexOf("DrSh")],u=JSON.parse(a_.ef[a_.order.indexOf("DrSh")]);
J[t].v.unshift({t:"Objc",v:u});var v=B.dropShadows;if(v.length!=1)throw"e";var A=v[0],$=A.color,X=$.value,U=A.dx,w=A.dy;
u.Clr.v=a.Wi.yR({o:X.r,k:X.g,X:X.b});u.Opct.v.val=Math.round(($.alpha!=null?$.alpha:1)*100);u.uglg.v=!1;
u.enab.v=c!=null?c:!0;u.lagl.v.val=Math.round(180/Math.PI*Math.atan2(w,-U));u.Dstn.v.val=Math.round(Math.sqrt(U*U+w*w));
u.blur.v.val=Math.round(A.r*2.3)}}return J};cF.Su=function(z,J,p,n,B,c,t,u,v){var A=cF;c.add.vstk.fillEnabled.v=J!="none";
if(J=="none"){c.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:0,k:0,X:0})}}}else{var $,X,U;if(J=="solid"){var w=z.color.value;
$="SoCo";X=a_.Sx;var P=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);U={t:"Objc",v:P};U.v.Clr.v=a.Wi.yR({o:w.r,k:w.g,X:w.b})}else if(J=="gradient"){$="GdFl";
X=a_.ik;var P=JSON.parse(a_.ef[a_.order.indexOf("GrFl")]),k=P.Grad.v,_,y,E;k.Intr.v=0;var T=z[J],Z=T.ref?u.gradients[T.ref]:T.meta.ux.gradientResources,i=["linear","radial","angular"].indexOf(Z.type),V=Z.stops;
P.Type.v.GrdT=["Lnr","Rdl","Angl"][i];if(i==0){var _=new i_(T.x1,T.y1),y=new i_(T.x2,T.y2);_.x=y.x+.5*(_.x-y.x);
_.y=y.y+.5*(_.y-y.y)}else{var _=new i_(T.cx,T.cy),y=new i_(T.cx+T.r,T.cy)}E=B;if(T.units=="objectBoundingBox"){var F=new fA(n.r,0,0,n.$,n.x,n.y);
_=F.g$(_);y=F.g$(y)}var F=A.X9(T.transform);_=F.g$(_);y=F.g$(y);F=p.P();F.oU();_=F.g$(_);y=F.g$(y);a.Wi.aN(_,y,E,P);
var d=[];for(var g=0;g<V.length;g++){var x=V[g],f=x.color,w=f.value,Q=f.alpha;if(Q==null)Q=1;d.push([x.offset,[w.r/255,w.g/255,w.b/255],Q])}a.Wi.Sy(d,k);
U={t:"Objc",v:P}}else if(J=="pattern"){$="PtFl";X=a_.ry;var P=JSON.parse(a_.ef[a_.order.indexOf("patternFill")]),Y;
U={t:"Objc",v:P};var m=z[J],H=m.meta.ux,S=H.uid,R=v["resources/"+S].buffer,I=H.flipX,D=H.flipY,G=S+I+D,C=kL.yd(R);
if(t.wC[G])Y=t.wC[G];else{var h=new fw(0,0,m.width,m.height),r;if(h.Sz()||C==null){h=new fw(0,0,1,1);
r=new ArrayBuffer(4)}else{var W=kL.V5(C);if(W.xG){var N=new b$;W.uj(R,N);r=N.dT().buffer}else{try{var o=W.uj(R)[0];
r=o.data;h=o.eE}catch(l5){r=new ArrayBuffer(h.C()*4)}}}Y={};Y.id=b$.rR()+"-d71c-11e5-b1ae-a548a96e5f9f";
Y.name="someImage";Y.kR=[new Uint8Array(r),h];if(I)a.F.cx(Y.kR[0].slice(0),Y.kR[0],h.r,h.$);if(D)a.F.a9c(Y.kR[0].slice(0),Y.kR[0],h.r,h.$);
t.KX(Y);t.wC[G]=Y}var K=p.P();K.oU();K.translate(n.x,n.y);var l=n.r,aV=n.$,j=Y.kR[1].r,M=Y.kR[1].$,s=Math.max(l/j,aV/M);
if(H.scale)s*=H.scale;var l2=new fA;l2.translate(-j/2,-M/2);l2.scale(1/j,1/M);if(H.offsetX!=null)l2.translate(H.offsetX,H.offsetY);
l2.scale(j,M);l2.scale(s,s);l2.translate(l/2,aV/2);l2.concat(K);ju.apk(Y,P,0,0,1e3,l2)}else console.log(J);
if($!=null){c.add[$]={classID:"null"};for(var g=0;g<X.length;g++){var gm=X[g];c.add[$][gm]=U.v[gm]}}}};
function bz(){}bz.yi=function(){var z=e.qd,J=e.gm,p=e.Ei;function n(i,V){return e.RM(i,V,4).split("").reverse().join("")}function B(i,V){return e.RM(i,V,4)}function c(i,V){var _=new Uint8Array(i);
if(J(_,0)==759775571)t(i,V);else u(i,V)}function t(i,V){var _=new Uint8Array(i),y=0,E=e.RM(_,y,16);y+=16;
if(E!="SAI-CANVAS-TYPE0")throw"e";var F=J(_,y);y+=4;var d=V.r=J(_,y);y+=4;var x=V.$=J(_,y);y+=4;var f=J(_,y);
y+=4;var Q=J(_,y),m=J(_,y+4);y+=8;console.log(Q,m);for(var g=0;g<4;g++)if(J(_,y+g*4)!=0)throw"e";y+=16;
if(J(_,y)!=4286611584)throw"e";y+=4;var H=B(_,y);y+=4;if(H!="norm"&&H!="ver1")throw H;var S=new Array(Q),R={};
for(var I=0;I<Q;I++){var D=B(_,y);y+=4;var E=J(_,y),G=J(_,y+4);y+=8;if(J(_,y)!=0)throw"e";y+=4;var C=J(_,y+8);
if(I==Q-1)C=_.length;if(D=="layr"){var O=V.JG();V.U.push(O);if(B(_,G)!=D)throw"e";G+=4;var Y=O.add.lyid=J(_,G);
G+=4;if(Y!=E)throw"e";if(J(_,G)!=0&&J(_,G+4)!=0)throw"e";G+=8;var h=B(_,G);G+=4;var r=$(_,G);G+=16;var W=J(_,G),N=J(_,G+4);
G+=8;var o=B(_,G);G+=4;O.YF=Math.round(255*J(_,G)/100);G+=4;var K=J(_,G);G+=4;R[E]=[O,N];while(!0){if(J(_,G)==0)break;
var D=B(_,G);G+=4;var l=J(_,G);G+=4;if(D=="name")O.HV(e.uv(_,G+2,p(_,G)));else console.log(D,l);G+=l}if(G+4!=C)throw"e"}else if(D=="lpix"||D=="intg"){var aV=B(_,G),j,M,N,gm=0;
G+=4;if(aV!="dpcm"&&aV!="\0\0\0\0")throw aV;if(D=="intg"){M=new fw(0,0,V.r,V.$);j=V.buffer=a.j(M.C()*4);
N=Math.ceil(V.r/256)*Math.ceil(V.$/256)}else{var s=R[E],O=s[0];N=s[1];M=O.S=new fw(0,0,256,256);j=O.buffer=a.j(M.C()*4)}j.fill(255);
var l2=a.j(256*256),iz=G+N*4;for(var g=0;g<N;g++){var dC=J(_,G);G+=4;if(g==0)hD.xN(_,iz+gm+4,dC,l2,0);
gm+=dC}if(D=="lpix")a.eG(l2,j)}}}function u(i,V){w(i);var _=X(new Uint8Array(i),2,0),y=_.canvas;V.r=J(y,4);
V.$=J(y,8);V.Ge=J(y,22);var E=_.layers,F=[],d={};for(var x in E){var f=E[x],Q=0,m=J(f,Q);Q+=4;var H=V.JG(),S={Ot:H,i1:m==8?[]:null},R=H.add.lyid=J(f,Q);
Q+=4;d[R]=S;var I=H.S=$(f,Q);Q+=16;H.S.offset(-8,-8);var lj=J(f,Q);if(lj!=0&&lj!=1)throw lj;Q+=4;H.YF=Math.round(255*f[Q]/100);
Q++;H.Rz(f[Q]==1);Q++;H.buffer=a.j(I.C()*4);var D=f[Q];Q++;if(m!=8)H.Bx=f[Q]==1;Q++;if(f[Q]!=0)throw"e";
Q++;var G=n(f,Q);Q+=4;var C={"add ":"lddg","sub ":"lbrn",adsb:"lLit",cbin:"norm"}[G];H.QN=C?C:G;var O={};
Q=A(f,Q,O);H.HV(O.name);var Y=O.pfid;if(Y!=null)d[Y].i1.push(S);else F.push(S);if(m==8){H.add.lsct=O.fopn?cp.xj:cp.mD;
H.QN="pass";H.a3=24;continue}var h=Math.ceil(I.r/32),r=Math.ceil(I.$/32),W=Q;Q+=h*r;var N=new fw(0,0,32,32),o=a.j(N.C()*4),K=a.j(N.C()),l=I.P();
l.x=l.y=0;for(var aV=0;aV<r;aV++){for(var j=0;j<h;j++){if(f[W+aV*h+j]==1){for(var M=0;M<8;M++){var s=p(f,Q);
Q+=2;hD.xN(f,Q,s,K,0);Q+=s;if(M<4)a.DE(K,o,M==3?3:2-M)}N.x=j*32;N.y=aV*32;a.xI(o);a.nk(o,N,H.buffer,l)}}}}v(F,V)}function v(i,V){for(var g=0;
g<i.length;g++){var _=i[g];if(_.i1){V.U.push(V.eH());v(_.i1,V)}V.U.push(_.Ot)}}function A(i,V,_){while(V<i.length){var y=n(i,V),F=null;
V+=4;if(J(i,V-4)==0)break;var E=J(i,V);V+=4;if(y=="name"){var d=V;while(i[d]!=0)d++;F=e.RM(i,V,d-V)}else if(y=="lorg")F=[z(i,V),z(i,V+4)];
else if(y=="pfid")F=J(i,V);else if(y=="fopn")F=i[V]==1;else F=i.slice(V,V+E);_[y]=F;V+=E}return V}function $(i,V){return new fw(z(i,V),z(i,V+4),z(i,V+8),z(i,V+12))}function X(i,V,_){var y=new Uint8Array(i.buffer,V*4096,4096),E={},J=e.gm;
for(var F=0;F<64;F++){var d=F*64,x=J(y,d);d+=4;if(x==0)continue;var f=d;while(y[f]!=0)f++;var m=e.RM(y,d,f-d);
d+=32;var H=y[d+2];d+=4;var S=J(y,d);d+=4;var R=J(y,d);d+=4;d+=8;if(H==16)E[m]=X(i,S,_+1);else E[m]=U(i,S,R,_+1)}return E}function U(i,V,_,y){var E=new Uint8Array(_),F=0;
while(F<_){var d=new Uint8Array(i.buffer,V*4096,Math.min(4096,_-F));E.set(d,F);F+=4096;var x=V&511;V=J(i,(V-x)*4096+x*8+4)}return E}function w(i){var V=i.byteLength>>>12,_=null;
for(var y=0;y<V;y++){var E=y&511,F=new Uint32Array(i,y*4096,1024);if(E==0){P(y>>>9,F);_=F}else{k(_[E*2],F)}}}function P(i,V){for(var g=0;
g<1024;g++){var _=V[g],y=_^T(i);V[g]=y<<16|y>>>16;i=_}}function k(i,V){for(var g=0;g<1024;g++){var _=V[g];
V[g]=_-T(i);i=_}}function T(i){return i^Z[i>>24&255]+Z[i>>16&255]+Z[i>>8&255]+Z[i&255]}var Z=[2568213150,2213907773,3502118182,2252615351,2126945275,2312593252,4216435257,4278811734,2718363422,2537383565,3280172813,481610987,922161291,1077111757,2228298685,2951699955,2419222343,3422529757,632899331,3620054202,3825866656,3940214514,1802732112,1995240010,1864845004,2616811044,516581573,3877394729,2014831980,798606449,962212537,1631814467,1581141896,2158572332,410633887,2047071060,317232928,4185932942,56898934,2520522107,3152871894,3306333873,1372277035,1153097417,3000323009,1316759699,355584419,1134767269,1437751943,1893333625,4015737571,2330457237,2453308677,496133388,3377109596,668252948,326281719,203007998,1694112339,4053986157,2683015439,1289817166,545412609,2113706180,2688993288,2391861182,1612571479,4083217276,13463415,3429546452,617369208,2870873084,1787544965,4252019696,3567735393,448747572,1172110871,1600643382,2492455189,1705877237,2175475945,3547246402,259999175,464417497,3188812486,3747132629,1057723918,3261153176,2959472816,1650063733,3298487940,695306595,191731997,164592183,1764388344,1740016386,772856770,1815406908,2823508129,2893004987,1554389068,887382403,1119058345,2038971062,141887777,900672281,4155148394,1240629715,2708897881,341216509,2335581686,1041968541,4128117966,290924298,3680272051,1938426618,432163045,1494007138,2067251986,4227903816,3624455943,3602717826,3176198616,2447287224,4203131712,4125043328,2591812206,388020465,3985941867,3204628008,222404520,121327036,2191405380,43992033,1910953247,2839027465,1479570912,3818444681,4041412870,1963409077,1459914302,1861289019,3158343475,2377972517,2288815906,1525996922,753584693,2412341724,2646136500,3328105519,3859780374,176443802,975781905,3706914367,1096947235,579647323,686412134,2925730687,114868839,3664329876,1420159072,2082566388,4074935499,1534566649,3105170086,3964966144,282949799,941876312,2010342234,26095721,3761885269,3586343359,2619605226,2243994065,1711643782,68615962,3799909832,2979810349,4266521999,3538996778,853545920,4007016407,3925787112,2760445386,4095214355,1922134924,3786429346,2550212222,765549531,2915359311,3482702964,3223738241,522349805,2806458706,1012859507,3243424360,3714511003,2479353295,1326740484,831734365,649426570,241711918,2502942512,711700038,2740294256,3078740119,3947809617,3729340749,1212113564,559121502,3020776674,1205538512,808291915,1274548831,735228076,1036531436,3347519845,3058457822,2661858343,3515167888,994241647,1671757201,2854788376,1294671433,3097518253,3052849049,1830780188,3129846502,3843690435,3645411559,377353938,2275134785,1352051739,95204826,928851182,2133767850,2771777336,3402673424,4165299770,603804818,3010745650,1405198962,1184759007,3902259069,2797331118,1758345391,1568161035,1380917732,1243970353,3464103858,1445781573,867633316,2364443375,3371921919,1961177003,3450963862];
return c}();var bC=function(){function z(Z){return Z.tagName?Z.tagName.split(":").pop():null}function J(Z,i,V){if(V&&V[0]==null)V=null;
Z=new Uint8Array(Z);var _,R=1;if(Z[0]==255&&Z[1]==254)_=e.uv(Z,2,(Z.length>>>1)-1);else _=e.A8(Z,0,Z.length);
var y=new DOMParser,E=y.parseFromString(_,"image/svg+xml"),F=E.getElementsByTagName("style")[0];if(F)F=Typr.U.SVG.cssMap(F.textContent);
else F={};var d=E.firstChild;while(z(d)!="svg")d=d.nextSibling;var x=new fw(0,0,100,100),f=d.getAttribute("viewBox"),Q=d.getAttribute("width"),m=d.getAttribute("height"),H=Q!=null?parseFloat(Q):parseFloat(m),S=m!=null?parseFloat(m):parseFloat(Q);
if(Q&&Q.endsWith("ex"))H*=13;if(m&&m.endsWith("ex"))S*=13;if(f){var I=p(f);x.x=I[0];x.y=I[1];x.r=I[2];
x.$=I[3];if(Q!=null){var D=I[2]/I[3],G=H/S;if(G>D){var C=I[3]*G-x.r;x.x-=C/2;x.r+=C}if(G<D){var O=I[2]/G-x.$;
x.y-=O/2;x.$+=O}}if(H!=null&&!isNaN(H))R=H/I[2]}else if(Q!=null||m!=null){x.r=H;x.$=S}if(ex==0)x=a.b.$M(x);
while(V&&Math.max(x.r*(R*2),x.$*(R*2))<=Math.max(V[0],V[1]))R*=2;while(V==null&&Math.max(x.r,x.$)*R>8192)R*=.5;
i.Uq=!0;i.r=x.r*R;i.$=Math.abs(x.$*R);if(ex==0){i.r=Math.round(i.r);i.$=Math.round(i.$)}var Y=new fA(R,0,0,R,-x.x*R,-x.y*R),h={pY:U(d),ac6:F,pw:0};
n(E,d.children,i,Y,h,new fA,0);if(i.U.length==0){var r=i.JG();r.HV("Layer");i.U.push(r)}}function p(Z){var i=" ";
if(Z.indexOf(",")!=-1)i=",";return Z.split(i).map(parseFloat)}function n(Z,i,V,_,y,E,F,d){var x=["display","opacity","fill-opacity","filter","clip-path"],f=0;
for(var Q=0;Q<i.length;Q++){var m=i[Q],H=z(m),S=m.getAttribute("id"),D=13,h=1,N="clip-path",o=null,eJ=0;
if(S==null)S=m.getAttribute("data-name");var R=U(m,y.ac6);for(var I in y.pY)if((x.indexOf(I)==-1||d)&&R[I]==null)R[I]=y.pY[I];
if(R["font-size"])D=u(R["font-size"],D);var G=A(m);if(m.getAttribute("dx"))G.Rf+=u(m.getAttribute("dx"),D);
if(m.getAttribute("dy"))G.Sm+=u(m.getAttribute("dy"),D);G.concat(_);var C=m.getAttribute("visibility"),O=R.display,Y=V.JG();
if(C=="hidden"||O=="none")Y.Rz(!1);Y.HV(S!=null?S.split(":::")[0]:"Layer");if(R.opacity)h*=parseFloat(R.opacity);
if(R["fill-opacity"]){var r=parseFloat(R["fill-opacity"]);if(r!=0)h*=r}Y.YF=Math.round(255*h);if(R["mix-blend-mode"]){var W=jM.$s.indexOf(R["mix-blend-mode"]);
if(W!=-1)Y.QN=jM.Bk[W]}if(m.getAttribute(N)==null)N="mask";if(m.getAttribute(N)!=null||R["clip-path"]){var K=m.getAttribute(N);
if(K==null)K=R["clip-path"];K=K.slice(4,K.length-1);var l=Z.getElementById(K.slice(1)),aV=l?l.children:null,j=l&&l.tagName=="mask"&&aV[0]&&aV[0].tagName=="g";
if(j){var M=aV[0].children[0];j=M&&M.tagName=="g"&&M.children[0]&&M.children[0].tagName=="image"}if(j){var s=aV[0].children[0],l2=A(s);
l2.concat(G);var gm=s.children[0];console.log(gm);var iz=B(V,gm,l2),dC=y.$B=new bi.L7;dC.S=iz.S;dC.N=a.j(dC.S.C());
a.Tm(iz.buffer,dC.N,0)}else if(l){o=V.JG();o.HV("Clip-Path"+(S?": "+S:""));o.add.lsct=F<2?cp.xj:cp.mD;
o.QN="pass";o.a3=24;var dL=o.add.vmsk=new bi.jP;V.U.push(V.eH());var cP=[];if(l.getAttribute(N)){var K=l.getAttribute(N);
K=K.slice(4,K.length-1);cP=Z.getElementById(K.slice(1)).children}for(var g=0;g<aV.length;g++){var id=A(aV[g]);
id.concat(G);var jR=t(V,Z,aV[g],!1).slice(2);a.z.Gn(jR,id);dL.u=dL.u.concat(jR)}for(var g=0;g<cP.length;
g++){var id=A(aV[g]);id.concat(G);var jR=t(V,Z,cP[g],!1).slice(2);for(var hC=0;hC<jR.length;hC++)if(jR[g].j1!=null)jR[g].j1=3;
a.z.Gn(jR,id);dL.u=dL.u.concat(jR)}for(var g=0;g<dL.u.length;g++)if(dL.u[g].j1!=null)dL.u[g].j1=0;o.cC();
o.k3(V);F++}}if(R.filter&&R.filter!="none"){var el=R.filter,jY,fN,jC,i6=!1,kT=!1,kY=!1;el=el.slice(5,el.length-1);
var eu=Z.getElementById(el),kF=[0,0,0,.5],h9=G.Nz();if(eu)for(var g=0;g<eu.children.length;g++){var bG=eu.children[g],dQ=z(bG);
if(dQ=="feGaussianBlur"){i6=!0;jY=parseFloat(bG.getAttribute("stdDeviation"))*h9}if(dQ=="feColorMatrix"){var jn=bG.getAttribute("values");
if(jn){jn=jn.split(" ").map(parseFloat);kF=[jn[4],jn[9],jn[14],jn[18]]}}if(dQ=="feComposite"){kY=!0}if(dQ=="feOffset"){kT=!0;
var b1=bG.getAttribute("dx"),c8=bG.getAttribute("dy");fN=parseFloat(b1?b1:0)*h9;jC=parseFloat(c8?c8:0)*h9}}if(i6&&(kY||kT)){var j_=kY?"IrSh":"DrSh",fQ=JSON.parse(a_.ef[a_.order.indexOf(j_)]);
fQ.blur.v.val=Math.round(jY*2.4);var cM=Math.sqrt(fN*fN+jC*jC);fQ.uglg.v=!1;fQ.Dstn.v.val=Math.round(cM);
fQ.lagl.v.val=Math.round(Math.atan2(jC,-fN)*(180/Math.PI));fQ.Clr.v=a.Wi.yR({o:kF[0]*255,k:kF[1]*255,X:kF[2]*255});
fQ.Opct.v.val=Math.round(kF[3]*100);c(Y,a_.in[a_.order.indexOf(j_)],fQ)}else if(i6)eJ=jY}if(H=="g"||H=="a"||H=="svg"||H=="switch"||(H=="text"||H=="textPath")&&m.children.length>0||H=="symbol"&&d){if(H=="text")E=$(m,E);
var jK=m.getAttribute("viewBox"),aw=m.getAttribute("width"),ez=m.getAttribute("height");if(H=="svg"&&aw&&ez&&jK==null)jK="0 0 "+aw+" "+ez;
if(jK&&aw&&ez){var g4=p(jK),ht=$(m),gx=new fA;gx.translate(-g4[0],-g4[1]);gx.scale(parseFloat(aw)/g4[2],parseFloat(ez)/g4[3]);
gx.translate(ht.Rf,ht.Sm);gx.concat(G);G=gx}var kE=m.children.length,kS=y.pY;y.pY=R;var h7=y.pw;y.pw=Math.max(y.pw,eJ);
var b7=H!="text"&&H!="textPath"||kE>1;if(b7){var i7=Y.LE();Y.add.lsct=F<2&&i7&&(S==null||!S.endsWith(":::"))?cp.xj:cp.mD;
Y.QN="pass";Y.a3=24;Y.Rz(i7);V.U.push(V.eH())}n(Z,m.children,V,G,y,E,F+1);if(b7)V.U.push(Y);else{var fp=V.U[V.U.length-1];
fp.YF=Y.YF;fp.QN=Y.QN}y.pw=h7;y.pY=kS}else if(H=="use"){var gx=$(m);gx.concat(G);var jB=P(m),fB=Z.getElementById(jB.slice(1));
if(fB){var kS=y.pY;y.pY=R;if(R.filter)fB.setAttribute("filter",R.filter);n(Z,[fB],V,gx,y,E,F+1,!0);y.pY=kS}}else if(H=="path"||H=="rect"||H=="circle"||H=="ellipse"||H=="polygon"||H=="polyline"||H=="line"){Y.a3|=16;
var dL=Y.add.vmsk=new bi.jP,df=R.fill,dt=df=="none"||R["fill-opacity"]&&parseFloat(R["fill-opacity"])==0,g5=R["fill-rule"]=="evenodd"?1:0;
dL.u=t(V,Z,m,g5==1,dt);dL.VR=g5;a.z.Gn(dL.u,G);var bR=R.stroke,h$=R["stroke-width"],ih=R["stroke-dasharray"],jt=R["stroke-linejoin"];
if(jt==null)jt="miter";var jN=R["stroke-linecap"];if(jN==null)jN="butt";var jk=R["stroke-miterlimit"];
if(jk==null)jk=4;else jk=parseFloat(jk);var gE=R["paint-order"],cW=!(bR==null||bR=="none"||bR=="null"),dR=Y.add.vstk=a_.jM.J0(null,cW),gV=R["stroke-opacity"]?parseFloat(R["stroke-opacity"]):1;
if(cW){var gv=v(Z,bR,G,dL.u,V),ga=["SoFi","GrFl","patternFill"].indexOf(gv.I),iC=gv.K.v.Opct.v,dH=1;
if(iC.val!=100||gV!=1&&dt){Y.YF=Math.round(gV*Y.YF*iC.val/100);iC.val=100;gV=1}var dI=[a_.Sx,a_.ik,a_.ry][ga],fV=dR.strokeStyleContent.v={classID:a_.jM.Sp[ga]};
for(var g=0;g<dI.length;g++)fV[dI[g]]=gv.K.v[dI[g]];h$=h$?parseFloat(h$):1;if(gE&&gE.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){dH=2;
h$/=2}var aj={AE:["miter","round","bevel"].indexOf(jt),eY:["butt","round","square"].indexOf(jN),tM:h$,Rw:jk};
if(ih!=null&&ih!="none")aj.ji=(ih.indexOf(",")!=-1?ih.split(","):ih.split(" ")).map(parseFloat);a_.jM.write(dR,aj,G.Nz());
dR.strokeStyleLineAlignment.v.strokeStyleLineAlignment=a_.jM.ER[dH];dR.strokeStyleOpacity.v.val=100*gV;
if(gv.ZI)Y.add._sstl=gv.ZI}Y.add.vstk.fillEnabled.v=!dt;if(dt){Y.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:0,k:0,X:0})}}}else{var gv=v(Z,df,G,dL.u,V),cH=null,ge=null;
if(gv.I=="SoFi"){cH="SoCo";ge=a_.Sx}if(gv.I=="GrFl"){cH="GdFl";ge=a_.ik}if(gv.I=="patternFill"){cH="PtFl";
ge=a_.ry}if(cH!=null){var iC=gv.K.v.Opct.v;if(iC.val!=100){Y.YF=Math.round(Y.YF*iC.val/100);iC.val=100}Y.add[cH]={classID:"null"};
for(var g=0;g<ge.length;g++){var I=ge[g];Y.add[cH][I]=gv.K.v[I]}}if(gv.ZI)Y.add._fstl=gv.ZI}var ko=Math.max(eJ,y.pw);
if(ko!=0)Y.add.vmsk.cc=ko;Y.cC();Y.k3(V);V.U.push(Y)}else if((H=="text"||H=="tspan")&&m.textContent!=""){E=$(m,E);
var gx=E.P(),jC=0;gx.concat(G);if(H=="tspan"&&E.x!=0){}else gx.translate(f,0);if(m.children.length>0){var iI=U(m.children[0],y.ac6);
for(var I in iI)if(x.indexOf(I)==-1)R[I]=iI[I]}var av=R["xml:space"],gF=m.textContent;if(av=="preserve")gF=gF.replace(/\t/g," ").replace(/\n/g," ");
if(S==null)Y.HV(gF);Y.add.lnsr="rend";Y.add.TySh=dN.gI(0,0);Y.add.TySh.M6=new fw(0,0,100,100);Y.add.TySh.h=gx.P();
var kG=Y.add.TySh.qU;dN.tJ(kG,0,gF);if(H=="tspan")f+=D*gF.length*.5*gx.Nz();var df=R.fill,kh=R["font-weight"],hB=R["font-family"],kf=R["text-decoration"],bR=R.stroke,h$=R["stroke-width"],jg=R["dominant-baseline"];
if(jg=="text-before-edge")jC=D;else if(jg=="middle")jC=D/2;else if(jg=="hanging")jC=D;if(jC!=0)Y.add.TySh.h.translate(0,jC);
var fU=dN.cj(kG,0,1);if(df&&df!="none"){var kF=CSS.zO(df);fU.uA.FillColor={Type:1,Values:[1,kF.o/255,kF.k/255,kF.X/255]}}if(kf=="underline")fU.uA.Underline=!0;
fU.uA.FontSize=Math.round(D);dN.Qp(fU,"LiberationSans");if(kh=="bold")dN.Qp(fU,"LiberationSans-Bold");
if(hB){hB=hB.split(",")[0].trim();if(hB[0]=="\"")hB=hB.slice(1);if(hB[hB.length-1]=="\"")hB=hB.slice(0,hB.length-1);
var cv=hB+":"+(kh?kh:"normal"),bZ={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold","Source Sans Pro:normal":"SourceSansPro-Regular","Source Sans Pro:bold":"SourceSansPro-Bold"};
if(bZ[cv])dN.Qp(fU,bZ[cv]);else dN.Qp(fU,hB)}if(R["text-anchor"])fU.gC.Justification=["start","end","middle"].indexOf(R["text-anchor"]);
dN.CG(kG,0,gF.length,fU);if(bR==null||bR=="none"){}else{var fQ=JSON.parse(a_.ef[a_.order.indexOf("FrFX")]);
fQ.Clr.v=a.Wi.yR(CSS.zO(bR));fQ.Sz.v.val=Math.round(parseFloat(h$)*gx.Nz());c(Y,"frameFXMulti",fQ)}V.U.push(Y)}else if(H=="image"){var iz=B(V,m,G);
if(iz){iz.HV(Y.getName());iz.a3=Y.a3;Y=iz;V.U.push(Y);if(y.$B)Y.T4=y.$B;y.$B=null}}else console.log("unknown tag: "+H,m.children.length,m.textContent.length);
if(o!=null){V.U.push(o);F--}}}function B(Z,i,V){var _=P(i);if(_&&_.slice(0,4)=="data"){var y=kL.Bv(_),E=y,F=Z.aZ(E,"hey",0,0),d=F.S.P();
d.x=d.y=0;var x=i.getAttribute("width"),f=i.getAttribute("height");if(x)d.r=parseFloat(x);if(f)d.$=parseFloat(f);
var Q=$(i);Q.concat(V);var m=a.b.e3(d).L;a.b.h(m,Q,m);F.add.SoLd.Trnf=L.tp.ey(m);F.add.SoLd.nonAffineTransform=L.tp.ey(m);
F.m8(Z,!1);return F}}function c(Z,i,V){var _=Z.add.lmfx;if(_==null){var _=Z.add.lmfx=JSON.parse(a_.default);
for(var g=0;g<a_.order.length;g++)_[a_.in[g]]={t:"VlLs",v:[]}}_[i].v.push({t:"Objc",v:V})}function t(Z,i,V,_,y){var E=[{I:6},{I:8,all:0}],F=z(V);
if(F=="use"){var d=P(V),x=i.getElementById(d.slice(1)),f=new fA;if(z(x)!="rect")f=$(x);f.concat(A(x));
E=t(Z,i,x,_,y);a.z.Gn(E,f)}else if(F=="path"){var Q=V.getAttribute("d");if(Q==null)return E;var m=Typr.U.SVGToPath(Q);
E=a.b.nK({L:m.crds,Ao:m.cmds},_,y);a.z.aJD(E,_)}else if(F=="rect"){var H=V.getAttribute("rx"),S=new i_(0,0);
k("x",V,Z,S,!0);k("y",V,Z,S,!1);var R=new i_(0,0);k("width",V,Z,R,!0);k("height",V,Z,R,!1);E=a.z.dZ.Rect(S.x,S.y,R.x,R.y,H?parseFloat(H):0)}else if(F=="circle"||F=="ellipse"){var I=[0,0,0,0],D=["cx","cy","rx","ry","r"];
for(var g=0;g<5;g++){var G=V.getAttribute(D[g]);if(G){G=parseFloat(G);if(g<4)I[g]=G;else I[2]=I[3]=G}}E=a.z.dZ.xJ(I[0]-I[2],I[1]-I[3],2*I[2],2*I[3])}else if(F=="polygon"||F=="polyline"||F=="line"){var C;
if(F=="line")C=[V.getAttribute("x1"),V.getAttribute("y1"),V.getAttribute("x2"),V.getAttribute("y2")].map(parseFloat);
else C=V.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
E=a.z.dZ.AB(C,0,F!="polygon")}return E}function u(Z,i){if(Z.endsWith("em"))return i*parseFloat(Z.slice(0,Z.length-2));
else return parseFloat(Z)}function v(Z,i,V,_,y){var E,F,d,x=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]),f=a.z.nd(_),Q=i!=null?i.indexOf("("):-1;
if(Q!=-1){var m=i.lastIndexOf(")"),H=i.slice(0,Q).trim(),R=i.slice(Q+1,m).trim();if(R.charAt(0)=="'"||R.charAt(0)=="\"")R=R.slice(1,R.length-1);
if(H=="url"){if(R.charAt(0)=="#"){var I=Z.getElementById(R.slice(1));if(I&&z(I).toLowerCase().endsWith("gradient")){d=T(Z,I,V,f,_);
var D=gr.d7(d,_);E="GrFl";F={t:"Objc",v:D}}else if(I&&z(I).toLowerCase()=="pattern"&&I.children[0]&&z(I.children[0])=="use"){E="SoFi";
F={t:"Objc",v:x};var G=I.children[0],C=A(G),O=P(G),Y=Z.getElementById(O.slice(1)),h;if(P(Y)){var r=kL.Bv(P(Y)).buffer,W=kL.V5(kL.yd(r));
h=W.uj(r)[0]}else{var N=new Uint32Array(4*4);N.fill(4278220799);h={data:N.buffer,eE:new fw(0,0,4,4)}}var o={};
o.id=b$.rR()+"-d71c-11e5-b1ae-a548a96e5f9f";o.name="someImage";o.kR=[new Uint8Array(h.data),h.eE];y.KX(o);
var x=JSON.parse(a_.ef[a_.order.indexOf("patternFill")]);x.Scl.v.val=Math.round(100*f.r*C.k6);var K=x.phase.v;
K.Hrzn.v=Math.round(f.x+C.Rf*f.r);K.Vrtc.v=Math.round(f.y+C.Sm*f.$);x.Ptrn.v.Idnt.v=o.id;E="patternFill";
F={t:"Objc",v:x}}else{E="SoFi";F={t:"Objc",v:x}}}else console.log("unknown url",R)}else if(H=="rgb"||H=="hsl"||H=="rgba"||H=="hsla"){E="SoFi";
F={t:"Objc",v:x};F.v.Clr.v=a.Wi.yR(CSS.zO(i));if(H=="rgba"||H=="hsla")F.v.Opct.v.val=Math.round(100*parseFloat(i.split(",").pop()))}else if(H=="light-dark"){var l=0,aV=0;
for(var g=0;g<R.length;g++){if(R[g]=="(")aV++;if(R[g]==")")aV--;if(R[g]==","&&aV==0){l=g;break}}return v(Z,R.slice(0,l),V,_,y)}else console.log("unknown fill",i)}else{E="SoFi";
F={t:"Objc",v:x};var j=CSS.zO(i);F.v.Clr.v=a.Wi.yR(j);if(j.k6!=null)F.v.Opct.v.val=Math.round(100*j.k6/255)}return{I:E,K:F,ZI:d}}function A(Z){var i=new fA,V=Z.getAttribute("transform");
if(V)i=X(V);var _=Z.getAttribute("style");if(_!=null){var y={};w(y,_,["transform"]);_=y.transform;if(_)i.concat(X(_))}return i}function $(Z,i){var V=new fA,_=Z.getAttribute("x"),y=Z.getAttribute("y");
if(_)V.Rf=parseFloat(_);else if(i)V.Rf=i.Rf;if(y)V.Sm=parseFloat(y);else if(i)V.Sm=i.Sm;return V}function X(Z){var i=Typr.U.SVG.readTrnf(Z);
return new fA(i[0],i[1],i[2],i[3],i[4],i[5])}function U(Z,i){var V={},_="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var g=0;g<_.length;g++){var y=Z.getAttribute(_[g]);if(y!=null&&y!="inherit")V[_[g]]=y}var E=Z.getAttribute("class");
if(i!=null&&E!=null&&i["."+E]!=null)w(V,i["."+E],_);var F=Z.getAttribute("id");if(i!=null&&F!=null&&i["#"+F]!=null)w(V,i["#"+F],_);
var d=Z.getAttribute("style");if(d!=null)w(V,d,_);return V}function w(Z,i,V){i=i.trim().split(";");for(var g=0;
g<i.length;g++){var _=i[g].split(":"),y=_[0]?_[0].trim():"",E=_[1]?_[1].trim():"";for(var F=0;F<V.length;
F++)if(y==V[F]&&E!="inherit")Z[V[F]]=E}}function P(Z){var i=Z.getAttribute("xlink:href");if(i==null)i=Z.getAttribute("href");
if(i==null)i=Z.getAttribute("xl:href");return i}function k(Z,i,V,_,y){var E=i.getAttribute(Z);if(E==null)return;
var F=parseFloat(E);if(E.endsWith("%"))F*=(y?V.r:V.$)/100;if(y)_.x=F;else _.y=F}function T(Z,i,V,_,y){var E=k,F=new fA,d=i.getAttribute("gradientTransform"),S=!1;
if(d)F=X(d);F.concat(V);var x=z(i)=="linearGradient"?0:1,f=new i_(0,0),Q=new i_(1,0),m=f.P();if(x==0){var H=new fw(0,0,1,1);
E("x1",i,H,f,!0);E("y1",i,H,f,!1);E("x2",i,H,Q,!0);E("y2",i,H,Q,!1);m.GK(f.x,f.y)}if(x==1){if(i.getAttribute("cx"))f.x=parseFloat(i.getAttribute("cx"));
if(i.getAttribute("cy"))f.y=parseFloat(i.getAttribute("cy"));Q.GK(f.x,f.y);m.GK(f.x,f.y);if(i.getAttribute("r"))Q.x+=parseFloat(i.getAttribute("r"));
if(i.getAttribute("fx"))m.x=parseFloat(i.getAttribute("fx"));if(i.getAttribute("fy"))m.y=parseFloat(i.getAttribute("fy"))}var R=i;
while(!0){if(R.getAttribute("gradientUnits")=="userSpaceOnUse")S=!0;var I=P(R);if(I==null||I=="none")break;
R=Z.getElementById(I.slice(1))}if(!S)F=new fA(_.r,0,0,_.$,_.x,_.y);F=gr.Pf(f,Q,F);var D=gr.YU(x,F,y);
gr.So(D,f,Q,m);var G=i.children,C=D[1]=[];if(G.length==0){var O=P(i);if(O==null)throw"gradient has no stops";
var Y=Z.getElementById(O.slice(1));if(Y==null){console.log(O.slice(1))}else C=D[1]=T(Z,Y,F,_,y)[1]}else for(var g=0;
g<G.length;g++){var h=G[g],r=U(h),W=r["stop-color"],N=r["stop-opacity"],o=h.getAttribute("offset");if(W==null)W="#000000";
N=N==null?1:parseFloat(N);var K=o?parseFloat(o):0;if(o&&o.endsWith("%"))K/=100;W=CSS.zO(W);if(W.k6!=null)N*=W.k6/255;
C.push([K,[W.o/255,W.k/255,W.X/255],parseFloat(N),.5])}return D}return{yi:J}}();bC.oW=function(){var z=null,J="",p="",n;
function B(x,f,Q,m){var H=[],D=" { ",G=" } ",C=!1;z=f;p=f.ZC?"":"\t";J=f.ZC?"":" ";var S=f.aHB,R=f.aom;
n=ex==0?new fw(0,0,x.r,x.$):x.Ar(!0);if(m!=null){n=x.root.children[m].w.x0();S=n.r;R=n.$}H.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[n.x,n.y,n.r,n.$].join(" ")+"\" width=\""+S+"\" height=\""+R+"\">");
if(!f.ZC)H.push(c(1)+"<title>"+i(x.name.split(".")[0])+"</title>");var I={xu:[],B7:[],As:0,Ts:0,ZZ:0,L2:{},Tu:{},nH:0,Nu:{},aFK:{},yz:0,rf:[]};
P(x,I,x.root.children,1,f,Q,m);if(I.xu.length!=0){H.push(c(1)+"<defs>");H=H.concat(I.xu);H.push(c(1)+"</defs>")}H.push(c(1)+"<style>");
if(f.ZC){D="{";G="}"}for(var g=0;g<x.U.length;g++)if(x.U[g].add.TySh)C=!0;if(C&&!f.aga&&!f.aFg)H.push(c(2)+"tspan"+D+"white-space:pre"+G);
for(var O in I.Nu)H.push(c(2)+"."+O+D+I.Nu[O]+G);H.push(c(1)+"</style>");H=H.concat(I.B7);H.push("</svg>");
H=H.join(f.ZC?"":"\n");return e.Hu(H)}function c(lj){var x="";for(var g=0;g<lj;g++)x+=p;return x}function t(lj,x){if(x==null)x=1;
var f=""+parseFloat(lj.toFixed(x));if(f.startsWith("0."))f=f.slice(1);return f}function u(x,f){var Q=x.add.lmfx;
if(Q)Q=Q[f].v[0];if(Q)Q=Q.v;if(Q&&!Q.enab.v)Q=null;return Q}function v(x,f){var Q=u(x,"frameFXMulti");
if(Q){var m=Q.Sz.v.val;if(Q.Styl.v.FStl=="OutF"){f.push("paint-order:stroke fill markers");m*=2}w(f,CSS.j_(Q.Clr.v),1);
if(m!=1)f.push("stroke-width: "+m);f.push("stroke-linejoin: round;")}}var A="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function $(x){var f=A.length,Q="";for(var m=1;m<10;m++){var H=(f-10)*~~Math.pow(f,m-1);if(x<H){for(var g=0;
g<m;g++){var S=g==m-1?10:0,R=f-S,I=x%R;Q=A[I+S]+Q;x=Math.floor((x-I)/R)}break}x-=H}return Q}function X(x,f,Q,m){if(x.length!=0){if(m==null)m="s";
var H=x.join(";"),S=f.aFK[H];if(S==null){S=z.ZC?$(f.yz):m+f.yz;f.yz++;f.aFK[H]=S;f.Nu[S]=H}if(Q)Q.push(S);
return S}}function U(x){if(z.ZC&&x.length==7&&x[0]=="#"){if(x[1]==x[2]&&x[3]==x[4]&&x[5]==x[6])x="#"+x[1]+x[3]+x[5]}return x}function w(x,f,Q){f=U(f);
if(f!="#000"||Q==1)x.push((Q==0?"fill:":"stroke:")+J+f)}function P(x,f,Q,m,H,S,R){var I=!1;for(var D=0;
D<Q.length;D++){var G=Q[D].w,C=G.add.lsct;if(G.$Z)continue;if(G.add.artb&&R!=null&&D!=R)continue;if(!G.Bx&&Q[D+1]&&Q[D+1].w.Bx&&G.dH()&&G.add.vmsk){var O=[];
_(G,G.add.vmsk,f,O);f.B7.push(c(m)+"<g "+O[0]+">");m++;I=!0}else if(!G.Bx&&Q[D-1]&&Q[D-1].w.Bx&&I){m--;
f.B7.push(c(m)+"</g>");I=!1}var Y=G.add.vmsk,h=G.add.vogk,r=G.add.vstk,W=G.add.TySh;if(Y&&!Y.isEnabled)Y=r=null;
var N=[];if(!H.hidden&&!G.LE())continue;var o=G.YF/255,K=G.add.iOpa?G.add.iOpa/255:1;if(G.nT()){o*=K;
K=1}if(o!=1)N.push("opacity:"+J+t(o,2));if(K!=1)N.push("fill-opacity:"+J+t(K,2));if(G.QN!="norm"){var l=jM.$s[jM.Bk.indexOf(G.QN)];
if(l!=null)N.push("mix-blend-mode:"+J+l)}if(!G.LE())N.push("display:"+J+"none");var O=[],aV=[],j=G.getName(),M=j.indexOf(" .");
if(!H.ZC&&j!="Layer")O.push("id=\""+i(j)+"\"");var s=ju.abE(G.add.lmfx,G.add),l2=s[0],gm=s[1],iz=G.add.SoLd;
if(iz&&iz.filterFX){var dC=iz.filterFX.v;if(dC.enab.v&&dC.filterFXList.v.length!=0)iz=null}var dL=[];
if(Y&&!G.dH()&&!G.nT())_(G,Y,f,dL);if(dL.length!=0)f.B7.push(c(m)+"<g "+Z(dL,aV)+">");if(G.nT()){var cP=Q[D].children;
if(cP.length==1&&cP[0].w.add.SoLd&&!H.Ye){}else{var id=Y,jR=cP.length==0?null:cP[cP.length-1].w;if(ex==1&&jR&&jR.$Z&&jR.LE())id=jR.add.vmsk;
_(G,id,f,O);if(N.length!=0)O.push("style=\""+N.join(";")+"\"");if(l2){var hC=CSS.j_(l2.Clr.v),eJ="f"+f.Ts;
f.Ts++;f.B7.push(c(m)+"<filter id=\""+eJ+"\">");f.B7.push(c(m+1)+"<feFlood flood-color=\""+hC+"\" flood-opacity=\""+t(l2.Opct.v.val/100,2)+"\" />");
f.B7.push(c(m+1)+"<feBlend mode=\""+jM.$s[jM.Bk.indexOf(jM.pg(l2.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
f.B7.push(c(m+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");f.B7.push(c(m)+"</filter>");
O.push("filter=\"url(#"+eJ+")\"")}var el=Z(O,aV),eu=H.ZC&&el=="";if(!eu)f.B7.push(c(m)+"<g"+(el==""?"":" "+el)+">");
P(x,f,cP,m+1,H,S);if(!eu)f.B7.push(c(m)+"</g>")}}else if(G.dH()&&Y==null){y(x,N,G.add,f,n,H);if(N.length!=0)O.push("style=\""+N.join(";")+"\"");
f.B7.push(c(m)+"<rect width=\""+n.r+"\" height=\""+n.$+"\" "+Z(O,aV)+"/>")}else if(Y&&G.dH()&&G.add.PtFl==null){y(x,N,G.add,f,hK,H,Y.u);
X(N,f,aV);var jY,fN=null,jC=0,kF;if(h.length!=0){jY=h[0].v;fN=jY.keyOriginType;if(fN)fN=fN.v;if(fN==2){var i6=a.R$.OQ(jY);
jC=i6[0];for(var g=0;g<3;g++)if(jC!=i6[g+1])fN=null}}if(h.length==1&&fN==5&&Math.abs(a.R$.aAg(jY))<1e-4){var kT=a.R$.a4(jY),kY=(kT[0]+kT[2])/2,h9=(kT[1]+kT[3])/2,bG=kY-kT[0],dQ=h9-kT[1],jn=Math.abs(bG-dQ)<.01,b1=jn?"r=\""+t(bG)+"\"":"rx=\""+t(bG)+"\" ry=\""+t(dQ)+"\"";
kF="<"+(jn?"circle":"ellipse")+" "+Z(O,aV)+" cx=\""+t(kY)+"\" cy=\""+t(h9)+"\" "+b1+"/>"}else if(h.length==1&&fN==2&&jC!=0&&Math.abs(a.R$.aAg(jY))<1e-4){var kT=a.R$.a4(jY),c8=kT[0],j_=kT[1],fQ=kT[2]-kT[0],cM=kT[3]-kT[1],jK="";
if(c8!=0)jK+=" x=\""+t(c8)+"\"";if(j_!=0)jK+=" y=\""+t(j_)+"\"";jK+=" width=\""+t(fQ)+"\"";jK+=" height=\""+t(cM)+"\"";
jK+=" rx=\""+t(jC)+"\"";kF="<rect "+Z(O,aV)+jK+"></rect>"}else{var aw,ez;if(ex==0){var g4=a.z.Kv(Y.u,1);
aw=g4.kE;ez=g4.Pa}else{var ht=a.b.Ru(Y.u);aw=Typr.U.pathToSVG({crds:ht.L,cmds:ht.Ao},1);ez=Y.VR}if(ez!=0){O.push("fill-rule=\"evenodd\"")}kF="<path "+Z(O,aV)+" d=\""+aw+"\"/>"}f.B7.push(c(m)+kF)}else if(W&&H.aga){J=H.ZC?"":" ";
var gx=W.qU,kE=new e1(gx,S,W.PB),kS=null;if(l2)kS=CSS.j_(l2.Clr.v);if(gm){var kT=G.S.P();d(gm,f,kT,H);
kS="url(#g"+f.As+")"}if(kS)N.push("fill:"+J+kS);v(G,N);var ht=hk.Ta(kE,W,!0),h7=a.b.Re(ht);for(var b7 in h7){var i7=N.slice(0),fp=aV.slice(0),jB=O.slice(0);
if(kS==null){w(i7,b7.slice(0,7),0);if(b7.length>7){var fB=hk.aG$(b7.slice(7));w(i7,F(fB.K$),1);E(fB,i7)}}X(i7,f,fp);
var df=h7[b7],dt=Typr.U.pathToSVG({crds:df.L,cmds:df.Ao},1);f.B7.push(c(m)+"<path "+Z(jB,fp)+(H.ZC?"":" "+T(W))+" d=\""+dt+"\"/>")}}else if(W&&!H.aFg){var gx=W.qU,g5=W.h.P(),kS=null;
N.push("transform:"+J+V(g5));var bR=dN.Be(gx),kE=new e1(gx,S,W.PB);v(G,N);if(N.length!=0)O.push("style=\""+N.join(";")+"\"");
f.B7.push(c(m)+"<text "+Z(O,aV)+" >");if(l2)kS=CSS.j_(l2.Clr.v);if(gm){var kT=G.S.P();kT.x-=g5.Rf;kT.y-=g5.Sm;
d(gm,f,kT,H);kS=" url(#g"+f.As+")"}for(var g=0;g<kE.gC.length;g++){var h$=kE.gC[g];if(h$.vr.length==1&&h$.vr[0].$i)continue;
for(var ih=0;ih<h$.l0.length;ih++){var jt=h$.l0[ih],h9=h$.lo.y+jt.lo.y,jN=h$.vr[jt.start].start,jk=h$.vr[jt.end-1].end,gE=dN.aew(gx,jN,jk),cW="";
for(var dR=0;dR<gE.length;dR++){var gV=kE.Uy(jN),gv=gE[dR],ga=dN.cj(gx,jN,jN),iC=ga.W5[ga.uA.Font].Name,b7=dN.Um(ga.uA.FillColor),dI=Math.round(ga.uA.FontSize),fV=bR.slice(jN,jN+gv);
if(ga.uA.FontCaps==2)fV=fV.toUpperCase();var dH=new fA;dH.translate(gV.Dm.x,-h9);var aj=[];CSS.aeV(aj,ga,null,!0,!0,kS);
var cH=X(aj,f,null,"t");cH=cH?" class=\""+cH+"\"":"";var kY=gV.Dm.x,ge=k(ga,fV);cW+="<tspan "+(dR==0?"x=\""+t(gV.Dm.x)+"\"":"")+" y=\""+t(h9)+"\""+cH+ge+">"+i(fV)+"</tspan>";
jN+=gv}f.B7.push(c(m+1)+cW)}}f.B7.push(c(m)+"</text>")}else if(iz&&H.Ye&&l2==null){var eJ=iz.Idnt.v,ko=0,iI=iz.Crop?iz.Crop.v:null;
console.log(iI);if(f.Tu[eJ]!=null)ko=f.Tu[eJ];else{f.nH++;ko=f.nH;f.Tu[eJ]=f.nH;var av=x.Cx(eJ,iI),kh="";
if(av==null)return;var gF=av.GS,kG=kL.yd(av.raw.buffer);console.log(kG);if(kG=="pdf"){var hB=new b$("h");
kL.V5("PDF").uj(av.raw.buffer,hB);hB.K6();hB.m4();hB.qM();hB.TQ();if(iz.Crop&&iz.Crop.v==1){L.d_.O4(hB,hB.root.R2(hB,!0))}var kf=kL.V5("SVG").D6(hB,hB.r,hB.$,null,{rf:S});
kh="data:image/svg+xml;base64,"+kL.Lk(kf)}else if(kG=="jpg"||kG=="png"||kG=="gif"||kG=="svg"){var jg={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
kh="data:"+jg[kG]+";base64,"+kL.Lk(av.raw.buffer)}else{kh=kL.s0(gF[0].buffer,gF[1].r,gF[1].$)}var fU=iz.Sz.v;
f.xu.push(c(2)+"<image width=\""+fU.Wdth.v+"\" height=\""+fU.Hght.v+"\" id=\"img"+ko+"\" href=\""+kh+"\"/>")}var cv=a.F.Gy(iz);
if(N.length!=0)O.push("style=\""+N.join(";")+"\"");var bZ=Z(O,aV);f.B7.push(c(m)+"<use "+bZ+" href=\"#img"+ko+"\" transform=\""+V(cv)+"\"/>")}else if(!G.S.Sz()&&(H.Ye||W)){if(N.length!=0)O.push("style=\""+N.join(";")+"\"");
var bZ=Z(O,aV),iB=G.buffer;if(l2)iB=ju.asL(iB,l2,G.S);var ez=G.S;f.nH++;var kh=kL.s0(iB.buffer,ez.r,ez.$,"png",null,!0);
f.xu.push(c(2)+"<image "+T(W)+" width=\""+G.S.r+"\" height=\""+G.S.$+"\" id=\"img"+f.nH+"\" href=\""+kh+"\"/>");
f.B7.push(c(m)+"<use "+bZ+" href=\"#img"+f.nH+"\" x=\""+ez.x+"\" y=\""+ez.y+"\"/>")}if(dL.length!=0)f.B7.push(c(m)+"</g>")}if(I){m--;
f.B7.push(c(m)+"</g>");I=!1}}function k(x,f){var Q=x.uA.Tracking,m="";if(Q!=null&&Q!=0){Q=Math.round(Q*x.uA.FontSize/1e3);
m=" dx=\"0";for(var H=1;H<f.length;H++)m+=" "+Q;m+="\" "}return m}function T(x){if(x==null)return"";
var f=x.qU,Q=dN.Be(f);Q=i(Q.slice(0,Q.length-1));return"aria-label=\""+Q+"\" "}function Z(x,f){if(f.length!=0)x.push("class=\""+f.join(" ")+"\"");
return x.join(" ")}function i(x){return String(x).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function V(x){var f=[x.k6,x.X,x.GQ,x.JH,x.Rf,x.Sm];
for(var g=0;g<6;g++)f[g]=t(f[g],3);return"matrix("+f.join(",")+")"}function _(x,f,Q,m){if(f||x.add.artb){var H;
if(f)H=a.z.Kv(f.u).kE;else{var S=x.x0(),R=a.b.e3(S);H=Typr.U.pathToSVG({crds:R.L,cmds:R.Ao},1)}Q.ZZ++;
m.push("clip-path=\"url(#cp"+Q.ZZ+")\"");Q.xu.push(c(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+Q.ZZ+"\">");
Q.xu.push(c(3)+"<path d=\""+H+"\"/>");Q.xu.push(c(2)+"</clipPath>")}}function y(x,f,Q,m,H,S,R){var I=Q.vmsk,D=Q.lmfx,G=[];
if(I&&I.cc!=0){var C=t(I.cc);if(m.L2[C]==null){m.Ts++;m.L2[C]=m.Ts;m.xu.push(c(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+m.Ts+"\"> <feGaussianBlur stdDeviation=\""+C+"\"/> </filter>")}G.push("url(#f"+m.L2[C]+")")}if(D)for(var g=0;
g<a_.order.length;g++){var O=a_.order[g],Y=a_.in[g],h=D[Y].v;console.log(D);for(var r=0;r<h.length;r++){var W=h[r].v,N=W.classID;
if(!W.enab.v||!D.masterFXSwitch.v)continue;if(N=="OrGl"||N=="DrSh"){m.Ts++;G.push("url(#f"+m.Ts+")");
var K=0,l=0,aV=W.blur.v.val/2.4,j=W.Opct.v.val/100;if(N=="DrSh"){var M=W.uglg&&W.uglg.v?x.rN():W.lagl.v.val;
M=M*(Math.PI/180);var s=W.Dstn.v.val;K=-Math.cos(M)*s;l=Math.sin(M)*s}if(N=="OrGl")j/=W.Inpr.v.val/100;
var l2="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+m.Ts+"\" >";l2+="<feDropShadow dx=\""+K+"\" dy=\""+l+"\" stdDeviation=\""+aV+"\" flood-color=\""+CSS.j_(W.Clr.v)+"\" flood-opacity=\""+t(j)+"\"/>";
l2+="</filter>";m.xu.push(c(2)+l2)}}}if(G.length!=0)f.push("filter:"+J+G.join(" "));var gm=Q.vstl;if(gm==null)gm=b$.cD(Q,x);
for(var g=0;g<2;g++){var iz=g==0?gm.ZI:gm.K$;if(iz.length==0){if(g==0)f.push("fill:"+J+"none")}else if(iz.length==3)w(f,F(iz),g);
else{d(iz,m,H,S,R);w(f,"url(#g"+m.As+")",g)}}if(gm.K$.length!=0){E(gm,f)}}function E(x,f){var Q=x.eY,m=x.AE,H=x.tM,S=x.O_,R=x.ji;
if(S==2){H*=2;f.push("paint-order:stroke fill markers")}if(Q!=0)f.push("stroke-linecap:"+J+["butt","round","square"][Q]);
if(m!=0)f.push("stroke-linejoin:"+J+["miter","round","bevel"][m]);else if(x.Rw!=4)f.push("stroke-miterlimit:"+x.Rw);
if(H!=1)f.push("stroke-width:"+J+t(H));if(R.length!=0)f.push("stroke-dasharray:"+J+R.join(","))}function F(x){return CSS.xY({o:x[0]*255,k:x[1]*255,X:x[2]*255})}function d(x,f,Q,m,H){if(H==null)H=a.z.dZ.Rect(Q.x,Q.y,Q.r,Q.$);
if(!(x instanceof Array))x=gr.qx(x,H);f.As++;var S=x[0],R=(S==1?"radial":"linear")+"Gradient",I=c(2)+"<"+R+" id=\"g"+f.As+"\"",D="";
if(m.ZC){if(f.As==1)f.xu.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");D=" href=\"#P\""}else D=" gradientUnits=\"userSpaceOnUse\"";
var G=gr.g7(x,H),C=[new i_(0,0),new i_(1,0)];D+=" gradientTransform=\""+V(G)+"\"";var O=m.ZC?2:3;if(S==0)f.xu.push(I+" x2=\"1\""+D+">");
if(S==1){if(x[2][6]!=0){var Y=x[2][5]*Math.PI/180,h=x[2][6];f.xu.push(I+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+t(Math.cos(Y)*h,O)+"\" fy=\""+t(-Math.sin(Y)*h,O)+"\""+D+">")}else f.xu.push(I+" cx=\"0\" cy=\"0\" r=\"1\""+D+">")}var r=x[1];
for(var g=0;g<r.length;g++){var W=r[g],N=W[0],o=W[1],K=W[2];K=K==1?"":" stop-opacity=\""+t(K,O)+"\"";
var l=N==0&&m.ZC?"":" offset=\""+t(N,O)+"\"",aV=F(o);aV=m.ZC&&aV=="#000000"?"":" stop-color=\""+U(aV)+"\"";
f.xu.push(c(3)+"<stop"+l+aV+K+"/>")}f.xu.push(c(2)+"</"+R+">")}bC.uZ=V;return B}();bC.dZ=function(z,J,p,n,B){var c=[],t=bC.dZ,u=!1,v={Tx:z,tK:J,HL:[!0,!0,!0],Yv:!1,ka:p,ap3:0};
v.Ma=Math.round(Math.max(z,J)*(.02+t.Qi(v)*.03));v.lA=t.aA6(v);v.p9=t.aIb(v.lA,(t.Qi(v)<.5?-1:1)*(.2+t.Qi(v)*.3));
if(t.Qi(v)<.5){var A=v.lA;v.lA=v.p9;v.p9=A}v.a4Z=t.Qi(v)<.4&&t.aq1(v.p9,{o:1,k:1,X:1})>.3;v.aGy=t.Qi(v)<.5?0:1;
c.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+z+" "+J+"\" width=\""+z+"\" height=\""+J+"\">");
v.hV=n[Math.floor(t.KM(v)*n.length)];v.D$=n[Math.floor(t.KM(v)*n.length)];c.push("<style>");c.push("@font-face {  font-family: "+v.hV[2]+";  src: url("+j8.d6("rsrc/fonts/"+v.hV[5])+");  }");
c.push("@font-face {  font-family: "+v.D$[2]+";  src: url("+j8.d6("rsrc/fonts/"+v.D$[5])+");  }");c.push("</style>");
var $=[0,0,z,J],X=$;if(B==null)c.push("<path style=\"fill: "+t._R(v.lA)+"\" d=\""+t.Rect($[0],$[1],$[2]-$[0],$[3]-$[1])+"\" id=\"Background\" />");
else{v.Yv=!0;t.aG8(v,$,c,B)}if(t.Qi(v)<.25&&!v.Yv){v.HL[0]=v.HL[2]=!1;t.au6($,v,c);X=$}else if(t.Qi(v)<.25||v.Yv)X=$;
else{var U=.52+t.Qi(v)*.2;if(t.Qi(v)<.5)U=1-U;var w=$.slice(0),P=$.slice(0);if(t.Qi(v)<.5)w[2]=P[0]=Math.round(U*z);
else w[3]=P[1]=Math.round(U*J);if(t.Qi(v)<.5){var A=w;w=P;P=A}X=w;t.aEG(v,P,c,B)}t.agI(v,X,c);c.push("</svg>");
c=c.join("\n");var k=a.j(Math.round(c.length*1.5)),T=e.M2(c,k,0);return[k.buffer.slice(0,T),v.ps]};bC.dZ.au6=function(z,J,p){var n=bC.dZ,B=z[2]-z[0],c=z[3]-z[1];
if(n.Qi(J)<.5){p.push("<path id=\"Border\" style=\"fill: "+n._R(J.p9)+"\" d=\""+n.aHK(z[0],z[1],z[2]-z[0],z[3]-z[1],J.Ma)+"\" />")}else{var t=n.Qi(J)<.5?0:1,u=(t==0?c:B)/4,v=n.Jo(J,t,z,p,u,!0),v=n.Jo(J,t+2,z,p,u,!0,v)}};
bC.dZ.agI=function(z,J,p){var n=bC.dZ,B="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),c=2*Math.floor(n.Qi(z)*B.length/2),t=J[2]-J[0],u=J[3]-J[1],A=0,X=0;
z.Q9=(z.Tx+t)*.5*(.04+n.Qi(z)*.05);z.Q9=Math.min(z.Q9,u*.4,t*.12);z.Q9=Math.round(z.Q9);var v=Math.min(z.Q9*B[c].length*(.35+.3*n.Qi(z)),t*.9),$=(J[1]+J[3])/2,U=a.K3(z.lA)<.85?{o:1,k:1,X:1}:{o:.1,k:.1,X:.1};
if(n.Qi(z)<.25&&z.HL[0]){X=0;A=J[0]+z.Ma}else if(n.Qi(z)<.33&&z.HL[2]){X=2;A=J[2]-z.Ma}else{X=1;A=(J[0]+J[2])/2}var w=U.o==1?"0,0,0":"255,255,255",P=z.Yv&&n.Qi(z)<1;
if(P){var k=J[0],T=t,Z=$-z.Q9*1.1,i=z.Q9*2.2,V=.7;if(X==1&&n.Qi(z)<.5){k=Z=.2*Math.min(t,u);T=t-2*Z;
i=u-Z-Z}else if(n.Qi(z)<.7){k=Z=0;T=t;i=u;V=.25}p.push("<path id=\"Strip\" style=\"fill: rgb("+w+"); opacity: "+V+"\" d=\""+n.Rect(k,Z,T,i)+"\" />")}if(n.Qi(z)<.4){var _=z.Q9*.07;
_*=1.5+n.Qi(z)*1;if(X==-1&&t/u<3&&!P){p.push("<path id=\"Bar-bottom\" style=\"fill: "+n._R(U)+"\" d=\""+n.Rect(A-v/2,$+z.Q9*1.1-_/2,v,_)+"\" />");
p.push("<path id=\"Bar-top\"    style=\"fill: "+n._R(U)+"\" d=\""+n.Rect(A-v/2,$-z.Q9*1.1-_/2,v,_)+"\" />")}if(X!=1){p.push("<path id=\"Bar\" style=\"fill: "+n._R(U)+"\" d=\""+n.Rect(A-_/2,$-z.Q9*.8,_,z.Q9*.8*2)+"\" />");
A+=(X==0?1:-1)*z.Q9/3}}var y=z.Q9*.4;p.push(n.aaG(B[c+1],A,$+y*1.6,y,U,X,z.D$));p.push(n.aaG(B[c],A,$+z.Q9*.04,z.Q9,U,X,z.hV))};
bC.dZ.aEG=function(z,J,p,n){var B=J[2]-J[0],c=J[3]-J[1],t=Math.max(B,c),u=Math.min(B,c),v=bC.dZ;if(t/u<5&&!z.Yv&&!1){v.aG8(z,J,p,n)}else if(v.Qi(z)<0)p.push("<path style=\"fill: "+v._R(z.p9)+"\" d=\""+v.Rect(J[0],J[1],B,c)+"\" />");
else{var A=0;if(J[3]!=z.tK)A=0;if(J[2]!=z.Tx)A=3;if(J[0]!=0)A=1;if(J[1]!=0)A=2;var $=A+2&3;if(t/u<3){var X=v.auE($),U=X[Math.round(v.Qi(z)*(X.length-1))],w=U.y0.slice(0,4),P=w.indexOf(1);
U=a.G(U);var k=-1;if(w!="0000"){var T=new fA;if(U.y0[5]=="0"){if(P==3&&A==1){k=1;T.scale(-1,1)}else k=P}else{var Z=$;
while(Z==$)Z=Math.floor(v.Qi(z)*4)&3;T.rotate((-P+Z)*Math.PI/2)}v.h(U,T)}var i=v.yq(U),V=B-2*z.Ma,_=c-2*z.Ma;
if(k!=-1){if((k&1)==0)_-=z.Ma;else V-=z.Ma}var y=Math.min(V/i.r,_/i.$),E=new fA;E.translate(-i.x,-i.y);
E.scale(y,y);var F=(B-i.r*y)/2,d=(c-i.$*y)/2;if(k!=-1){if(k==3)F=0;if(k==0)d=0;if(k==1)F=B-i.r*y;if(k==2)d=c-i.$*y}E.translate(J[0]+F,J[1]+d);
v.Fz(z,U,E,z.p9,p)}else{v.Jo(z,A,J,p,1e9)}}};bC.dZ.aG8=function(z,J,p,n){var B=J[2]-J[0],c=J[3]-J[1],t=Math.max(B,c),u=Math.min(B,c),v=bC.dZ,A=v.KM(z),$,X,U,w=n[0]instanceof ArrayBuffer;
if(w){$="data:image/jpg;base64,"+jo.P3(n[0]);X=n[1];U=n[2]}else{var P=Math.floor(A*n.length),k=n[P];
z.ps=k;$=k.webformatURL;X=k.webformatWidth;U=k.webformatHeight}var T=J[0],Z=J[1],i=B,V=c;if(B/c>X/U){V=i*U/X;
Z=Z-(V-c)/2}else{i=V*X/U;T=T-(i-B)/2}if(w){p.push("<defs>");p.push("<image width=\""+X+"\" height=\""+U+"\" id=\"Background\" href=\""+$+"\" />");
p.push("</defs>");var _=i/X;p.push("<use href=\"#Background\" transform=\""+bC.uZ(new fA(_,0,0,_,T,Z))+"\" />")}else{var y="cp"+Math.random();
p.push("<clipPath id=\""+y+"\">");p.push("<path style=\"fill: "+v._R(z.p9)+"\" d=\""+v.Rect(J[0],J[1],B,c)+"\" />");
p.push("</clipPath>");p.push("<image  clip-path=\"url(#"+y+")\" xlink:href=\""+$+"\" x=\""+T+"\" y=\""+Z+"\" width=\""+i+"\" height=\""+V+"\" />")}};
bC.dZ.aaG=function(z,J,p,n,B,c,t){var u=bC.dZ;return"<text x=\""+J+"\" y=\""+p+"\" style=\"fill:"+u._R(B)+"; font-size:"+n+"px; text-anchor:"+["start","middle","end"][c]+"; font-family:"+t[2]+";\"><tspan>"+z+"</tspan></text>"};
bC.dZ.Fz=function(z,J,p,n,B){var c=bC.dZ,t=[];for(var g=0;g<J.IS.length;g++){t.push(n);if(z.a4Z){n=(g&1)==z.aGy?{o:1,k:1,X:1}:t[0]}}B.push("<g id=\""+J.y0.split("-")[2]+":::\" style=\"transform: "+bC.uZ(p)+";\" >");
for(var g=0;g<J.IS.length;g++){var u=J.IS[g];n=t.pop();B.push("<path style=\"fill: "+(n?c._R(n):"#"+u[0])+"\" d=\""+Typr.U.pathToSVG({crds:u[1].L,cmds:u[1].Ao})+"\" />")}B.push("</g>")};
bC.dZ.aCe=function(){if(SHPS[0].y0)return;for(var g=0;g<SHPS.length;g++){var z=SHPS[g],J=z[1],p=[];for(var n=0;
n<J.length;n++){var B=J[n],c=Typr.U.SVGToPath(B[1]);p.push([B[0],{Ao:c.cmds,L:c.crds}])}SHPS[g]={y0:z[0],IS:p}}};
bC.dZ.auE=function(z){var J=SHPS;bC.dZ.aCe();var p=[];for(var g=0;g<J.length;g++){var n=J[g],B=n.y0.slice(0,4);
if(B=="0000"){p.push(n);continue}if(["1000","0100","0010","0001"].indexOf(B)==-1)continue;var c=B.indexOf("1");
if(n.y0[5]=="0"&&z==c&&c!=3)continue;p.push(n)}return p};bC.dZ.Jo=function(z,J,p,n,B,c,t){var u=SHPS,i,V;
bC.dZ.aCe();var v=bC.dZ,A=[];for(var g=0;g<u.length;g++){var $=u[g],X=$.y0.slice(0,4);if(["1110","1101","1011","0111"].indexOf(X)==-1)continue;
var U=X.indexOf("0")+2&3;if($.y0[5]=="0")if(c==!0||J!=U&&!(J==1&&U==3))continue;A.push($)}var w=t!=null?t:Math.floor(v.Qi(z)*A.length),$=A[w],$=a.G($),X=$.y0.slice(0,4),U=X.indexOf("0")+2&3;
if(U==3&&J==1)a.h($,new fA(1,0,0,-1,0,1e3));var P=new fA;P.translate(-500,-500);P.rotate(-U*Math.PI/2);
P.translate(500,500);v.h($,P);var k=p[3]-p[1],T=p[2]-p[0],Z=v.yq($);if(Z.y<0){Z.$+=Z.y;Z.y=0}if(Z.y>0){Z.$+=Z.y;
Z.y=0}if((J&1)==0){V=k;i=T}else{i=k;V=T}var _=Math.min(Math.min(.5+.5*v.Qi(z))*Math.min(T,k),B)/Z.$,y=Math.ceil(i/(1e3*_)),E=new fA,F=new fA;
F.scale(_,_);if(J==0||J==2){F.translate(-(T/2),-(k/2));F.rotate(-J*Math.PI/2);F.translate(T/2+p[0],k/2+p[1])}else{F.rotate(Math.PI/2);
F.scale(1,-1);F.translate(p[0],p[1]);if(J==1){F.scale(-1,1);F.translate(T,0)}}n.push("<g id=\"Border-"+["top","right","bottom","left"][J]+":::\">");
for(var g=0;g<y;g++){var d=E.P();d.concat(F);v.Fz(z,$,d,z.p9,n);E.translate(1e3-2,0)}n.push("</g>");
return w};bC.dZ.Rect=function(z,J,p,n){return Typr.U.pathToSVG({crds:[z,J,z+p,J,z+p,J+n,z,J+n],cmds:["M","L","L","L","Z"]})};
bC.dZ.aHK=function(z,J,p,n,B){var c=[z,J,z+p,J,z+p,J+n,z,J+n];z+=B;J+=B;p-=2*B;n-=2*B;c.push(z,J,z,J+n,z+p,J+n,z+p,J);
return Typr.U.pathToSVG({crds:c,cmds:"M L L L Z M L L L Z".split(" ")})};bC.dZ.aIb=function(z,J){var p=a.X5(z.o,z.k,z.X);
p.w8=Math.max(.1,Math.min(.9,p.w8+J));return a.no(p.tK,p.Q5,p.w8)};bC.dZ.a36=function(z,J){var p=a.X5(z.o,z.k,z.X);
p.tK+=J;return a.no(p.tK,p.Q5,p.w8)};bC.dZ.aaT=function(z){var J=a.X5(z.o,z.k,z.X);J.w8=1-J.w8;return a.no(J.tK,J.Q5,J.w8)};
bC.dZ.aq1=function(z,J){var p=z.o-J.o,n=z.k-J.k,B=z.X-J.X;return Math.sqrt(p*p+n*n+B*B)};bC.dZ.aA6=function(z){var J=bC.dZ;
return{o:J.Qi(z),k:J.Qi(z),X:J.Qi(z)}};bC.dZ._R=function(z){return CSS.xY({o:z.o*255,k:z.k*255,X:z.X*255})};
bC.dZ.yq=function(z){var J=z.IS,p=new fw;for(var g=0;g<J.length;g++)p=p.KQ(a.b.yq(J[g][1].L));return p};
bC.dZ.h=function(z,J){var p=z.IS;for(var g=0;g<p.length;g++)a.b.h(p[g][1].L,J,p[g][1].L)};bC.dZ.Qi=function(z){z.ap3++;
var J=z.ap3&3;if(J==0)z.ka=bC.dZ.Xa(z.ka);var p=z.ka>>>8*J&255;return p*(.99999999/255)};bC.dZ.KM=function(z){var J=bC.dZ.Xa(z.ka);
z.ka=bC.dZ.Xa(J);return J*(1/4294967295)};bC.dZ.Xa=function(z){z=(z^61^z>>>16)>>>0;z=z+(z<<3)>>>0;z=(z^z>>>4)>>>0;
z=z*668265261>>>0;z=(z^z>>>15)>>>0;return z};var e6={};e6.parse=function(z){var J=new Uint8Array(z),p=null;
if(J[0]==80&&J[1]==75){var n=Date.now(),B=UZIP.parse(J.buffer),p=B["document.json"];p=JSON.parse(e.A8(p,0,p.length));
e6.Ro(p,B)}else{var c=cl.parse(z);p=e6.aeW(c[2][0][1])}return p};e6.Ro=function(z,J){var p=typeof z;
if(p=="string"||p=="number"||p=="boolean"||z==null)return z;if(z instanceof Array){for(var g=0;g<z.length;
g++)z[g]=e6.Ro(z[g],J);return z}var n=z._class;if(n==null)return z;if(n=="MSJSONFileReference"){var B=z._ref;
if(!1){}else if(J[B+".json"]!=null){var c=J[B+".json"],t=c.length;for(var g=0;g<t;g++)if(c[g]==11||c[g]==3)c[g]=32;
var u=e.A8(c,0,t);z=JSON.parse(u)}else if(J[B+".png"]!=null)return{key:B.split("/").pop(),bdata:J[B+".png"]};
else if(J[B+".jpg"]!=null)return{key:B.split("/").pop(),bdata:J[B+".jpg"]};else if(J[B+".pdf"]!=null)return{key:B.split("/").pop(),bdata:J[B+".pdf"]};
else if(J[B]!=null)return{key:B.split("/").pop(),bdata:J[B]};else{console.log(z,J);return}}else if(n=="MSAttributedString"){var u=atob(z.archivedAttributedString._archive),v=u.length,A=new Uint8Array(v);
for(var g=0;g<v;g++)A[g]=u.charCodeAt(g);z.archivedAttributedString=e6.aeW(A)}for(var $ in z)z[$]=e6.Ro(z[$],J);
return z};e6.ad4=function(z,J,p,n,B){if(z instanceof Uint8Array)return null;if(n.indexOf(z)!=-1)return null;
n.push(z);if(z==J)return p;for(var c in z){p.push(c);var t=e6.ad4(z[c],J,p,n,B);if(t){console.log(z,t);
throw"e"}p.pop()}};e6.aeW=function(z){var J=at.parse(z,0),p=J.$objects,n=new Uint8Array(p.length),B=e6.IH(p,n,J.$top.root);
for(var g=0;g<p.length;g++)if(n[g]==0&&g!=0){console.log(g,p[g]);e6.ad4(B,g,[],[],typeof p[g])}for(var g=0;
g<p.length;g++){var c=p[g];if(c._class&&(c._class=="bitmap"||c._class=="fill"&&c.fillType==4&&(c.image||c.imageSHA))){var t=c.image,u=c.imageSHA,v=null,A=null;
if(t=="$null")t=null;if(u=="$null")u=null;if(t&&t.data){A=t.sha1["NS.bytes"];A=btoa(e.RM(A,0,A.length));
v=t.data instanceof Uint8Array?t.data:t.data["NS.bytes"]}else if(t==null&&u==null){var $=kL.V5("PNG").D6([[a.j(4).buffer]],1,1);
v=new Uint8Array($)}else{var X=(B.assets?B.assets.imageCollection:B.images).images;if(u)A=u instanceof Uint8Array?u:u["NS.bytes"];
else A=t.sha1["NS.bytes"];A=btoa(e.RM(A,0,A.length));var v=X[A].data;if(v["NS.bytes"])v=v["NS.bytes"]}v=new Uint8Array(v.buffer.slice(v.byteOffset,v.byteOffset+v.length));
delete c.imageSHA;c.image={key:A,bdata:v}}}return B};e6.avc=function(z){return z.slice(0,11)=="MSImmutable"?"MS"+z.slice(11):z};
e6.IH=function(z,J,p){var n=z[p];if(J[p]==1){return n}J[p]=1;if(typeof n=="string")return n;if(typeof n=="number")return n;
if(typeof n=="boolean")return n;if(n instanceof Array)return n;if(n instanceof Uint8Array){return n}if(z[n.$class]==null){if(n.$class==null&&n["NS.data"]!=null)return n;
console.log(p,n);throw"e"}var B=z[n.$class],c=e6.avc(B.$classname);J[n.$class]=1;n.$class=c;if(e6.a02[c]){delete n.$class;
n._class=e6.a02[c]}var t=e6.IH;if(c=="NSMutableArray"||c=="NSArray"){var u=[];if(n["NS.objects"]!=null)for(var g=0;
g<n["NS.objects"].length;g++)u.push(t(z,J,n["NS.objects"][g]));else for(var g=0;n["NS.object."+g]!=null;
g++)u.push(t(z,J,n["NS.object."+g]));z[p]=u;return u}if(c=="NSDictionary"||c=="NSMutableDictionary"){var v={$class:c};
if(n["NS.keys"]!=null)for(var g=0;g<n["NS.keys"].length;g++){var A=t(z,J,n["NS.keys"][g]);if(A instanceof Uint8Array)A=btoa(e6.h8.RM(A,0,A.length));
else if(typeof A!="string"&&typeof A!="number")A=btoa(e6.h8.RM(A["NS.bytes"],0,A["NS.bytes"].length));
v[A]=t(z,J,n["NS.objects"][g])}else for(var g=0;n["NS.key."+g]!=null;g++){var A=t(z,J,n["NS.key."+g]);
if(A instanceof Uint8Array)A=btoa(e6.h8.RM(A,0,A.length));else if(typeof A!="string"&&typeof A!="number")A=btoa(e6.h8.RM(A["NS.bytes"],0,A["NS.bytes"].length));
v[A]=t(z,J,n["NS.object."+g])}for(var $ in n)delete n[$];for(var $ in v)n[$]=v[$];return n}if(c=="NSURL")return{$class:c,base:t(z,J,n["NS.base"]),relative:t(z,J,n["NS.relative"])};
if(e6.a8r.indexOf(c)!=-1){z[p]=t(z,J,n.array_do);return z[p]}if(n.do_objectID!=null)n.do_objectID=t(z,J,n.do_objectID);
if(e6.a3z.indexOf(c)!=-1)return n;var X=e6.acK[c];if(X==null){console.log(z,n);throw"unknown class "+c}for(var g=0;
g<X.length;g++)if(n[X[g]]!=null)n[X[g]]=t(z,J,n[X[g]]);if(c=="MSTextLayer"){var U=n,w,P,k,T;if(U.attributedString)w=U.attributedString.archivedAttributedString;
else w=U.storage;T=w.NSString;if(typeof T!="string")T=e.A8(T["NS.bytes"],0,T["NS.bytes"].length);if(w.NSAttributeInfo)P=w.NSAttributeInfo["NS.bytes"];
else{var Z=T.length,i=[];while(Z>0){var V=Math.min(100,Z);i.push(V,0);Z-=V}P=new Uint8Array(i)}k=w.NSAttributes instanceof Array?w.NSAttributes:[w.NSAttributes];
var _={$class:"NSAttributedString",NSString:T,NSAttributes:k};U.attributedString={_class:"MSAttributedString",archivedAttributedString:_};
_.NSAttributeInfo={$class:"NSMutableData","NS.data":P};delete U.storage}return n};e6.h8={Bq:function(z,J){return z[J+1]<<8|z[J]},fy:function(z,J){return z[J+3]<<24|z[J+2]<<16|z[J+1]<<8|z[J]},RM:function(z,J,p){var n="";
for(var g=0;g<p;g++)n+=String.fromCharCode(z[J+g]);return n}};e6.a02={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
e6.a8r=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
e6.a3z="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
e6.acK={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var at={};at.parse=function(z,J){var p=e.RM(z,J,8);J+=8;var n=z.length-32,B=at.parse.aJ3(z,n),c=[];if(B.QE==1){var J=n-B.QE*B.WF;
for(var g=0;g<B.WF;g++)c.push(z[J+g])}else if(B.QE==2){var J=n-B.QE*B.WF;for(var g=0;g<B.WF;g++)c.push(e.Bq(z,J+g*2))}else if(B.QE==4){var J=n-B.QE*B.WF;
for(var g=0;g<B.WF;g++)c.push(e.fy(z,J+g*4))}else{throw"e"}var t=at.parse.IH(z,c,B.root,B);return t};
at.parse.IH=function(z,J,p,n){var B=at.h8,c=n.adr,t=c==4?B.fy:c==2?B.Bq:B.azM,u=at.parse,v=J[p],A=z[v],$=A>>4,X=A&15,w=null;
v+=1;if([4,5,6,10,12,13].indexOf($)!=-1&&X==15){var U=u.lz(z,v);v+=U.R6;X=U.K}if(!1){}else if($==0)w=X==8?!1:X==9?!0:null;
else if($==1)w=u.lz(z,v-1).K;else if($==2)w=1<<X==4?e.Lb(z,v):e.U0(z,v);else if($==3)w=e.U0(z,v);else if($==4)w=new Uint8Array(z.buffer,v,X);
else if($==5)w=e.RM(z,v,X);else if($==6)w=e.J5(z,v,X);else if($==8){w=0;for(var g=0;g<X+1;g++)w=w<<8|z[v+g]}else if($==10){w=[];
for(var g=0;g<X;g++)w.push(u.IH(z,J,t(z,v+c*g),n))}else if($==12){w=[];for(var g=0;g<X;g++)w.push(u.IH(z,J,t(z,v+c*g),n))}else if($==13){w={};
for(var g=0;g<X;g++){var P=u.IH(z,J,t(z,v+c*g),n),k=u.IH(z,J,t(z,v+c*(X+g)),n);w[P]=k}}else throw"unknown mask "+$;
return w};at.parse.lz=function(z,J){var p=1<<(z[J]&15),n=0;for(var g=0;g<p;g++)n=n<<8|z[J+1+g];return{K:n,R6:p+1}};
at.parse.aJ3=function(z,J){var p={};J+=6;p.QE=z[J];J++;p.adr=z[J];J++;J+=4;p.WF=e.fy(z,J);J+=4;J+=4;
p.root=e.fy(z,J);J+=4;J+=4;p.a84=e.fy(z,J);J+=4;return p};at.h8={azM:function(z,J){return z[J]},Bq:function(z,J){return z[J]<<8|z[J+1]},fy:function(z,J){return z[J]<<24|z[J+1]<<16|z[J+2]<<8|z[J+3]},RM:function(z,J,p){var n="";
for(var g=0;g<p;g++)n+=String.fromCharCode(z[J+g]);return n}};var cl={parse:function(z){var J=new Uint8Array(z),p=cl.Xe(J),n=[],B=new Uint8Array(J.length),c=[];
n.push(c);cl.TL(J,p,1,B,c);for(var g=0;g<c.length;g++){var t=[];n.push(t);cl.TL(J,p,c[g][3],B,t,g==11);
c[g][3]=g+1}return n},TL:function(z,J,p,n,B,c){p--;var t=p*J.pQ+(p==0?100:0),u=z[t],v=cl.Bq(z,t+1),A=cl.Bq(z,t+3),$=cl.Bq(z,t+5),U=0;
if($==0)$=65536;var X=z[t+7];t+=8;if(u==2||u==5){U=cl.fy(z,t);t+=4}for(var w=0;w<A;w++){var P=p*J.pQ+cl.Bq(z,t+2*w),k=-1,T=0,Z=0,i=0;
if(u==2||u==5){k=cl.fy(z,P);P+=4}if(u==2||u==10||u==13){T=cl.OD(z,P);P+=T.R6}if(u==5||u==13){Z=cl.OD(z,P);
P+=Z.R6}if(u==2||u==5){cl.TL(z,J,k,n,B,c);continue}var V=J.pQ-(p==0?100:0),_=T.Mf,y=u==13?V-35:Math.floor((V-12)*64/255)-23,E=Math.floor((V-12)*32/255)-23,F=E+(_-E)%(V-4);
if(_<=y){cl._U(z,P,n,0,_)}else{var d=F<=y?F:E,x=0;cl._U(z,P,n,0,d);x+=d;i=cl.fy(z,P+d);while(i!=0){var f=(i-1)*J.pQ;
i=cl.fy(z,f);var Q=Math.min(J.pQ-4,_-x);cl._U(z,f+4,n,x,Q);x+=Q}}B.push(cl.aqm(n,_))}if(U!=0)cl.TL(z,J,U,n,B,c)},aqm:function(z,J){var p=0,n=cl.OD(z,p);
p+=n.R6;var B=[],c=[];while(p<n.Mf){var t=cl.OD(z,p);p+=t.R6;B.push(t.Mf)}if(p!=n.Mf)throw"e";for(var g=0;
g<B.length;g++){var t=B[g];if(!1){}else if(t==0)c.push(null);else if(t==1){c.push(cl.a9v(z,p));p+=1}else if(t==2){c.push(cl.uf(z,p));
p+=2}else if(t==3){c.push(cl.aBb(z,p));p+=3}else if(t==4){c.push(cl.lz(z,p));p+=4}else if(t==5){c.push(cl.fy(z,p+2));
p+=6}else if(t==6){c.push(cl.fy(z,p)+":"+cl.fy(z,p+4));p+=8}else if(t==7){c.push(cl.ah6(z,p));p+=8}else if(t==8)c.push(0);
else if(t==9)c.push(1);else if(t>=12&&(t&1)==0){var u=t-12>>1,v=new Uint8Array(u);cl._U(z,p,v,0,u);c.push(v);
p+=u}else if(t>=13&&(t&1)==1){var u=t-13>>1;c.push(cl.A8(z,p,u));p+=u}else throw"unknonw type "+t}return c},Xe:function(z){if(!(z[18]==1&&z[19]==1&&z[20]==0&&z[21]==64&&z[22]==32&&z[23]==32))throw"unexpected SQL3 header";
var J={_Z:cl.RM(z,0,15),pQ:cl.Bq(z,16),avL:cl.fy(z,24),size:cl.fy(z,28),aCu:cl.fy(z,32),acz:cl.fy(z,36),af8:cl.fy(z,40),at1:cl.fy(z,44),akK:cl.fy(z,48),aJY:cl.fy(z,52),aet:cl.fy(z,56),ac$:cl.fy(z,60),aFk:cl.fy(z,64)!=0,aHr:cl.fy(z,68),au2:cl.fy(z,92),a5y:cl.fy(z,96)};
if(J.pQ==1)J.pQ=65536;if(J.aet!=1)throw"unsupported text encoding "+J.aet;return J},adL:function(z,J){return z[J]<<16|z[J+1]<<8|z[J+2]},aBb:function(z,J){var p=cl.adL(z,J),n=p&8388608;
return n?-(16777215-p+1):p},a9v:function(z,J){cl.Mx[0]=z[J];return cl.amu[0]},lz:function(z,J){var p=cl.Mx;
for(var g=0;g<4;g++)p[g]=z[J+3-g];return cl.asW[0]},uf:function(z,J){var p=cl.Mx;p[0]=z[J+1];p[1]=z[J];
return cl.aDO[0]},Bq:function(z,J){return z[J]<<8|z[J+1]},fy:function(z,J){var p=cl.Mx;for(var g=0;g<4;
g++)p[g]=z[J+3-g];return cl.afo[0]},ah6:function(z,J){var p=cl.Mx;for(var g=0;g<8;g++)p[g]=z[J+7-g];
return cl.aCS[0]},OD:function(z,J){var p=J,lj=0;while(!0){var n=z[J];J++;lj=lj*128+(n&127);if(n<128)break}return{Mf:lj,R6:J-p}},RM:function(z,J,p){var n="";
for(var g=0;g<p;g++)n+=String.fromCharCode(z[J+g]);return n},A8:function(z,J,p){var n="";for(var g=0;
g<p;g++)n+="%"+cl.apR(z[J+g].toString(16));try{n=decodeURIComponent(n);return n}catch(l5){return n}},_U:function(z,J,p,n,B){if(B!=0&&(z[J+B-1]==null||p[n+B-1]==null)){console.log(J,n,B);
throw"e"}for(var g=0;g<B;g++)p[n+g]=z[J+g]},apR:function(lj){return lj.length<2?"0"+lj:lj}};cl.Mx=new Uint8Array(8);
cl.amu=new Int8Array(cl.Mx.buffer);cl.aDO=new Int16Array(cl.Mx.buffer);cl.asW=new Int32Array(cl.Mx.buffer);
cl.afo=new Uint32Array(cl.Mx.buffer);cl.aCS=new Float64Array(cl.Mx.buffer);cl.aLd=function(z,J){var p=z[0],n={};
for(var g=0;g<p.length;g++){var B=p[g],c=B[1];if(B[0]!="table")continue;var t=B[4];t=t.slice(t.indexOf("(")+1,t.indexOf(")"));
t=t.split(",");for(var u=0;u<t.length;u++){var v=t[u].trim().split(" ")[0];if(J&&v.startsWith(c))v=v.slice(c.length);
t[u]=v}var A=n[c]=[],$=z[B[3]];for(var u=0;u<$.length;u++){var X=$[u],U={};A.push(U);for(var w=0;w<t.length;
w++){if(U[t[w]]!=null)throw"e";U[t[w]]=X[w]}}}return n};function b4(z,J,p){this.RV=z;this.J9=J;this.alS=p;
this.nz=new i_(0,0);this.uE=-1;this.co=0;this.U3=0;this.ap=new fw;this.u$=[];this.pD=null;this.akm=null;
this.nb=null;this.PU=null;this.pR=null;this.a4b=null}b4.prototype.StartPage=function(z,J,p,n,B){var c=this.J9,t=c.Nz(),u=1,v=(p-z)*(n-J);
if(B!=null)v=B;while(v*t*t/(u*u)>2*8192*8192)u++;c.scale(1/u,1/u);this.akm=[z,J,p,n];var u=c.Nz();z=Math.round(z*u);
J=Math.round(J*u);p=Math.round(p*u);n=Math.round(n*u);var A=this.RV,$=this.nb;if($==null){c.Rf=-z}else{var X=$[2]-$[0]+30,U=Math.round(p-z)+30;
if(this.nz.x+X+U>8192){c.Rf=-z;this.nz.x=0;this.nz.y+=this.U3+120;this.U3=0}else{c.Rf+=X;this.nz.x+=X}}c.Sm=this.nz.y+(this.alS?n:-J);
this.U3=Math.max(this.U3,Math.round(n-J));this.nb=[z,J,p,n];this.azP=[];A.U.push(A.eH())};b4.prototype.StartTGroup=function(z){this.$0();
var J=this.RV;J.U.push(J.eH());var p=b4.Z4[z.bmode];if(p==null)p="norm";var n=J.JG();n.HV("<Group>");
n.add.lsct=cp.xj;n.QN=p=="norm"?"pass":p;n.a3=24;n.YF=Math.round(255*z.ca);this.azP.push(n)};b4.prototype.EndTGroup=function(){this.RV.U.push(this.azP.pop())};
b4.prototype.aoB=function(){var z=this.RV,J=z.U[z.U.length-1];return J};b4.prototype.aen=function(){var z=this.RV,J=z.JG();
J.HV("Path "+z.U.length);this.RV.U.push(J);J.a3|=16;J.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:0,k:0,X:0})}};
J.add.vmsk=new bi.jP;J.add.vstk=a_.jM.J0();return J};b4.prototype.iB=function(z,J){var p={L:z.crds,Ao:z.cmds},n=a.b.nK(p,!1);
a.z.aJD(n,J);a.z.Gn(n,this.J9);return n};b4.aeR=function(z,J){for(var g=0;g<z.length;g++)if(z[g].j1!=null)z[g].j1=J};
b4.EX=function(z){return a.Wi.yR({o:z[0]*255,k:z[1]*255,X:z[2]*255})};b4.Vy=function(z){return new fA(z[0],z[1],z[2],z[3],z[4],z[5])};
b4.prototype.Stroke=function(z){if(this.uE!=-1&&this.uE!=this.co)return;if(z.pth.cmds.length<=1)return;
var J=this.iB(z.pth,!0),t=null;if(J.length<=2)return;this.Ay(z);b4.aeR(J,-1);J[2].j1=1;var p=this.aoB(),n=a_.jM.J0(null,!0),B=z.ctm,c={};
b4.aeI(c,z);a_.jM.write(n,c,Math.sqrt(Math.abs(B[0]*B[3]-B[1]*B[2]))*this.J9.Nz());if(!(z.COLR instanceof Array)){t=a.b.yq(z.pth.crds);
var u=a.b.e3(t);a.b.h(u.L,this.J9,u.L);t=a.b.yq(u.L)}var v=b4.LV(z.COLR,this.J9,J),A=["SoFi","GrFl","patternFill"].indexOf(v.I),$=[a_.Sx,a_.ik,a_.ry][A],X=n.strokeStyleContent.v={classID:a_.jM.Sp[A]};
for(var g=0;g<$.length;g++)X[$[g]]=v.K.v[$[g]];var U=p!=null&&p.add.vmsk!=null&&!p.nT(),w=U&&!p.add.vstk.fillEnabled.v&&JSON.stringify(n)==p.add.vsjs;
if(w){var P=p.add.vmsk.u;for(var g=2;g<J.length;g++)P.push(J[g])}else{var k=U&&!p.add.vstk.strokeEnabled.v&&bi.jP.awg(p.add.vmsk.u,J,!0);
if(k){p.add.vstk=n;n.fillEnabled.v=!0}else{p=this.aen();p.add.vmsk.u=J;p.add.vstk=n;p.add.vsjs=JSON.stringify(n)}}};
b4.aeI=function(z,J){z.tM=J.lwidth;z.Rw=J.mlimit;z.ji=J.dash.slice(0);z.Ga=J.doff;z.AE=J.ljoin;z.eY=J.lcap;
z.O_=1};b4.ix=function(z,J){J.lwidth=z.tM*(z.O_==2?2:1);J.mlimit=z.Rw;J.doff=z.Ga;J.ljoin=z.AE;J.lcap=z.eY;
J.sal=z.O_;J.dash=z.ji.slice(0);if(J.dash.length==1&&J.dash[0]==0)J.dash=[]};b4.prototype.Fill=function(z,J){if(this.uE!=-1&&this.uE!=this.co)return;
if(z.ca==0)return;var p=z.pth.cmds;if(p.length==0)return;if(p.length==2&&JSON.stringify(p)=="[\"M\",\"L\"]")return;
var n=a.b.yq(z.pth.crds),B=a.b.yq(z.cpth.crds);if(n.ly(B).Sz())return;var c=z.pth,t=UDOC.G.isBox(c,[n.x,n.y,n.x+n.r,n.y+n.$]),u=z.cpth,v=UDOC.G.isBox(u,[B.x,B.y,B.x+B.r,B.y+B.$]);
if(t&&v&&n.C()>B.C()*2){var A=n.ly(B),$=A.x,X=A.y,U=$+A.r,w=X+A.$;c={cmds:["M","L","L","L","Z"],crds:[$,X,U,X,U,w,$,w]};
n=A}else if(this.PU==null&&UDOC.G.isBox(c,[n.x,n.y,n.x+n.r,n.y+n.$])&&n.cz(B)){c=u;n=B}else this.Ay(z);
var P=this.iB(c,J),k=b4.LV(z.colr,this.J9,P),T=this.aoB(),Z=T!=null&&T.YF==Math.round(255*z.ca)&&T.add.vstk!=null&&!T.add.vstk.strokeEnabled.v&&T.add.SoCo&&k.I=="SoFi"&&JSON.stringify(T.add.SoCo.Clr.v)==JSON.stringify(k.K.v.Clr.v);
if(Z){var i=!1;for(var g=0;g<P.length;g++){if(P[g].j1==0||P[g].j1==2)i=!0}if(i){var V=a.b.yq(a.z.hh(T.add.vmsk.u)),_=a.b.yq(a.z.hh(P));
Z=V.ly(_).Sz()}}if(Z){var y=T.add.vmsk.u;for(var g=2;g<P.length;g++)y.push(P[g])}else{T=this.aen();delete T.add.SoCo;
T.add.vmsk.u=bi.jP.Ox(P);b4.Su(z.colr,T,this.J9,P);b4.awr(z,T)}};b4.Su=function(z,J,p,n){var B=b4.LV(z,p,n),c=null,t=null;
J.add.vstk.fillEnabled.v=!0;if(B.I=="SoFi"){c="SoCo";t=a_.Sx}if(B.I=="GrFl"){c="GdFl";t=a_.ik}if(B.I=="patternFill"){c="PtFl";
t=a_.ry}if(c!=null){J.add[c]={classID:"null"};for(var g=0;g<t.length;g++){var u=t[g];J.add[c][u]=B.K.v[u]}if(c=="GdFl")J.add._fstl=B.ZI}};
b4.prototype.Ay=function(z){var J=this.RV,p=z.cpth,n=p.cmds.join(""),B=p.crds,c=n+" "+B.join(","),t=UDOC.G.isBox(p,this.akm);
if(t&&this.PU==null)return;if(c==this.PU)return;this.$0();if(!t){this.PU=c;J.U.push(J.eH());var u=J.JG();
u.HV("Mask");u.add.lsct=cp.mD;u.QN="pass";u.a3=24;var v=u.add.vmsk=new bi.jP;v.u=this.iB(z.cpth,!0);
if(UDOC.G.isBox(p)){this.pR=a.z.nd(v.u);this.pR.Lr(3,3)}else this.pR=null;this.a4b=u}};b4.prototype.$0=function(){var z=this.RV;
if(this.PU!=null){var J=z.U.length-1,g=J,p=!1;while(g>=0&&z.U[g].add.lsct!=cp.hX)g--;var n=this.pR;if(n){var B=new fw,c=J;
while(c>g){B=z.U[c].R2(this.RV,!1,!0);c--}p=n.cz(B)}if(p){this.u$.splice(g,1);z.U.splice(g,1)}else{z.U.push(this.a4b)}this.PU=null}};
b4.LV=function(z,J,p){var n,B,c;if(z.length!=null){n="SoFi";var t=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);
B={t:"Objc",v:t};B.v.Clr.v=b4.EX(z)}else{var u=b4.avS(z,J,p);n="GrFl";B={t:"Objc",v:gr.d7(u,p)};c=u}return{I:n,K:B,ZI:c}};
b4.avS=function(z,J,p){var n=b4.Vy(z.mat);n.concat(J);var B=new i_(0,0),c=new i_(0,0),t=new i_,u=z.crds,v=z.typ=="rad"?1:0;
if(v==1){var A=.7;t.x=u[0];t.y=u[1];B.x=u[3];B.y=u[4];c.x=B.x;c.y=B.y;c.x+=u[5]}else{B.x=u[0];B.y=u[1];
c.x=u[2];c.y=u[3];t.GK(B.x,B.y)}n=gr.Pf(B,c,n);var $=gr.YU(v,n,p);gr.So($,B,c,t);$[1]=a.G(z.grad);return $};
b4.prototype.PutText=function(z,J,p,n){var B=J.charCodeAt(0),w=null;if(this.uE!=-1&&this.uE!=this.co)return;
if(J.length==0||J.length==1&&(B==0||B==8203))return;this.Ay(z);var c=this.RV,t=z.font,u=Math.round(255*z.ca);
if(z.font.Tmode==3)u=0;var v=b4.Vy(z.ctm);v.concat(this.J9);var A=b4.Vy(t.Tm);A.concat(v);var $=A.Nz(),X=new fA(1/$,0,0,-1/$,0,0);
X.concat(A);var U=t.Tfs*$,P=c.U.length-1;while(P>=0&&c.U[P].add.TySh==null)P--;if(X.X*X.X+X.GQ*X.GQ<.001&&n==null&&P>=0&&c.U[P].add.TySh&&c.U[P].YF==u){var k=c.U[P],T=this.u$[P],Z=k.add.TySh.h,i=(X.Rf-T.a1r)/U,V=Math.abs(i),_=Z.k6==X.k6&&Z.X==X.X&&Z.GQ==X.GQ&&Z.JH==X.JH,y=X.Sm-T.Uz,E=_&&Math.abs(y)<1e-5&&V<1;
if(E){w=k;if(i>.2&&[".",",","?",":","!"].indexOf(J)==-1){J=" "+J;p+=.5}}else if(_&&0<y&&y<U*1.7&&T.afO==U){w=k;
this.aG7(T);T.Uz=X.Sm;T.azp=X.Rf;J="\n"+J}}if(w==null){P=c.U.length;this.u$[P]={TD:[],G8:0,a1r:X.Rf,Uz:X.Sm,azp:X.Rf,Qs:"",afO:U};
w=c.JG();c.U.push(w);w.add.lnsr="rend";w.add.TySh=dN.gI(0,0);w.add.TySh.h=X}var T=this.u$[P];T.G8+=p*U;
T.Qs+=J;T.a1r=X.Rf+p*U;var F=w.add.TySh.qU,d=dN.Be(F);if(n){dN.NA(F,1);var x=[0,0,Math.ceil(n[0]*$),Math.ceil(n[1]*$)];
dN.h4(F,x)}var f=d.length-1,Q=f+J.length;dN.tJ(F,f,J);if(this.pD==null)this.pD=dN.cj(F,f,f);var m=this.pD;
m.uA.FontSize=Math.round(U);m.uA.Tracking=Math.round(t.Tc*100);m.uA.Underline=t.Tun==1;m.uA.FillColor={Type:1,Values:[1,z.colr[0],z.colr[1],z.colr[2]]};
if(t.Tal!=null)m.gC.Justification=t.Tal;if(T.TD.length!=0){m.uA.AutoLeading=!1;m.uA.Leading=T.Uz-T.TD[T.TD.length-1].y}var H=t.Tf;
H=H.replace(/#2B/g,"+");H=H.replace(/#2C/g,"-");H=H.replace(/#2D/g,"-");H=H.split("+").pop();var S={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(S[H])H=S[H];dN.Qp(m,H);dN.CG(F,f,Q-1,m);w.xL();w.YF=u};b4.prototype.aG7=function(z){z.TD.push({Tx:z.G8,t:z.Qs.slice(z.TD.length==0?0:1)+"\n",x:z.azp,y:z.Uz,Q5:z.afO});
z.G8=0;z.Qs=""};b4.prototype.qL=function(z,J,p){var n=kL.V5("PNG"),B=ex==1?n.tv(z.buffer,J,p,8):n.D6([[z.buffer,0]],J,p);
return new Uint8Array(B)};b4.prototype.PutImage=function(z,J,p,n,B,c,t){if(this.uE!=-1&&this.uE!=this.co)return;
var u=this.RV,v=z.font.Tmode;if(v==7&&u.U[u.U.length-1].add.TySh){return}this.Ay(z);var A=b4.Vy(z.ctm);
A.concat(this.J9);var $=new fA(1/p,0,0,-1/n,0,1);$.concat(A);A=$;J=b4.aoj(J,p,n,c,!1);if(B)B=b4.aoj(B,p,n,t,!0);
if(B==null){if(J.length==p*n*4)J=this.qL(J,p,n)}else{J=this.a2E(J,p,n,c,!1);B=this.a2E(B,p,n,t,!0);var X=a.j(p*n);
a.Tm(B,X,0);a.DE(X,J,3);J=this.qL(J,p,n)}var U=u.aZ(J,"Bitmap",0,0),w=new fw(0,0,p,n),P=a.b.e3(w).L;
a.b.h(P,A,P);U.add.SoLd.Trnf=L.tp.ey(P);U.add.SoLd.nonAffineTransform=L.tp.ey(P);U.m8(u,!1);b4.awr(z,U);
u.U.push(U)};b4.awr=function(z,J){J.YF=Math.round(255*z.ca);var p=b4.Z4[z.bmode];if(p==null)console.log("Unknown blend mode",p);
else J.QN=p};b4.Z4={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
b4.atU=function(z){if(z=="pass")z="norm";for(var J in b4.Z4)if(b4.Z4[J]==z)return J;return"/Normal"};
b4.aoj=function(z,J,p,n,B){var c=kL.yd(z.buffer);if(c=="jpg"){try{z=new Uint8Array(kL.V5("JPG").a3l(z.buffer))}catch(l5){z=new Uint8Array(J*p*4)}}else if(c=="jb2"){z=new Uint8Array(kL.V5("JPG").uj(z.buffer,n,B)[0].data)}else if(z.length!=J*p*4){var t=new Uint8Array(J*p*4),u=Math.ceil(J/8),v=new Uint8Array(p*u);
UTIF.decode._decodeG4(z,0,z.length,v,0,J,1);var A=v[0]==(B?255:0);for(var $=0;$<p;$++){var X=u*$;for(var U=0;
U<J;U++){var g=$*J+U,w=g*4,P=(v[X+(U>>3)]>>7-(U&7)&1)*255;if(A)P=255-P;t[w]=P;t[w+1]=P;t[w+2]=P;t[w+3]=255}}z=t}return z};
b4.prototype.a2E=function(z,J,p,n,B){if(z.length!=J*p*4){var c=kL.yd(z.buffer);if(c=="jb2")throw"e";
var t=kL.V5(c);if(t==null||c=="tga")t=kL.V5("jpg");z=new Uint8Array(t.uj(z,n,B)[0].data)}return z};b4.prototype.ShowPage=function(){var z=this.RV;
this.co++;var J=this.nb;this.$0();var p=z.JG();z.U.push(p);var n=new fw(Math.round(this.nz.x),Math.round(this.nz.y),Math.round(J[2]-J[0]),Math.round(J[3]-J[1]));
if(n.Sz())n.r=n.$=2e3;this.ap=this.ap.KQ(n);p.Uu(n);p.add.artb.artboardBackgroundType.v=1;p.HV("Page "+this.co);
p.add.lsct=cp.mD;p.QN="pass";p.a3=24};b4.prototype.Print=function(z){console.log("Print:",z)};b4.prototype.Done=function(){var z=this.RV;
if(this.co==1)z.U[z.U.length-1].add.lsct=cp.xj;z.Gd(this.co);for(var g=0;g<z.U.length;g++){var J=z.U[g],p=J.add.vmsk,n=J.add.TySh,B=this.u$[g];
J.cC();delete J.add.vsjs;if(p){var c=!1;for(var t=0;t<p.u.length;t++){var u=p.u[t];if((u.I==0||u.I==3)&&u.length>32767)c=!0}if(c){z.U.splice(g,1);
g--;continue}}J.k3(z);if(n&&B&&B.TD.length!=0){this.aG7(B);var v=n.qU,A=B.TD.length,$=B.TD[0],X=1e9,U=-1e9,E="";
for(var t=0;t<A;t++){var w=B.TD[t];X=Math.min(X,w.x);U=Math.max(U,w.x+w.Tx)}var P=[];for(var t=0;t<A;
t++){var w=B.TD[t],k=-1,T=$.Q5*.1,Z=Math.abs(w.x-X),i=Math.abs(w.x+w.Tx-U),V=Math.abs(Z-i);if(V<T)k=2;
if(i<T){k=1;if(w.x!=X)if(t!=0&&B.TD[t-1].x==w.x||t!=A-1&&B.TD[t+1].x==w.x)k=-1}if(Z<T)k=0;if(w.Tx==U-X)k=3;
P.push(k)}var _=[!1,!1,!1];for(var t=0;t<A;t++){var k=P[t];if(k==3)k=t==0?P[t+1]:P[t-1];if(k==3)k=0;
P[t]=k;_[k]=!0}var y=(U-X)*.05;if(_[0]&&!_[1])U+=y;if(!_[0]&&_[1])X-=y;if(!_[0]&&!_[1]){X-=y;U+=2*y}dN.NA(v,1);
n.h.Sm-=$.Q5*.7;n.h.Rf=Math.round(X);dN.h4(v,[0,0,Math.ceil(U-X),Math.ceil(B.TD[A-1].y-$.y+$.Q5*2)]);
for(var t=0;t<A;t++){var w=B.TD[t],k=P[t],F=0;if(k==-1){k=0;F=Math.round(w.x-X)}var d=E.length,x=d+w.t.length;
E+=w.t;var f={W5:[],uA:{},gC:{Justification:k,StartIndent:F}};dN.CG(n.qU,d,x-1,f)}}if(n){var v=n.qU;
dN.avE(v);var Q=dN.Be(v).split("\n");for(var t=0;t<Q.length-1;t++){var w=Q[t],m=0;for(var H=0;H<w.length;
H++){var S=w.charCodeAt(H);if(1473<=S&&S<=1524)m++}if(m>w.length/2){Q[t]=w.split("").reverse().join("");
var R=v.EngineDict.ParagraphRun.RunArray[t].ParagraphSheet.Properties;R._Direction=1;R.Justification=dN.Oq(R)}}dN.Dl(v,Q.join("\n"))}}z.Uq=!0;
z.r=this.ap.r;z.$=this.ap.$;z.buffer=a.j(this.ap.C()*4)};var jr={};jr.p2=null;jr.oW=function(z,J,p,n,B,c){var t=ex==0?new fw(0,0,z.r,z.$):z.Ar();
if(B==null)B=t.r;if(c==null)c=t.$;jr.p2=z;var u=[[z.root,t,null]];if(ex==0&&z.add.artd){var v=z.root.children,A=[],$=!0;
for(var g=0;g<v.length;g++){var X=v[g].w,U=X.add.artb,w=null;if(U==null){$=!1;break}var P=U.artboardBackgroundType.v;
if(P!=1&&P!=3)w=X.i8();A.push([v[g],X.x0(),w])}if($)u=A}if(ex==1){var k=z.add.arts;u=[];for(var g=0;
g<k.length;g++)u.push([z.root,a.b._g(k[g].J4),null])}var T=J.pags;T=T.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
T=T.split(" ");var Z=[];for(var g=0;g<T.length;g++){var i=T[g];if(i=="-"){var V=Z.pop(),_=parseInt(T[g+1]);
while(V<_){Z.push(V);V++}}else Z.push(parseInt(i))}T=Z;for(var g=0;g<T.length;g++)if(isNaN(T[g])||T[g]<1||T[g]>u.length){T.splice(g,1);
g--}var y=B/t.r,E=c/t.$,F=y*72/z.Ge,d=E*72/z.Ge,x=J.mrgn;if(x==null)x=0;var f=72*x,Q=72*x;for(var m=0;
m<u.length;m++){var g=m;if(J.rvrs)g=u.length-1-m;if(T.length!=0&&T.indexOf(g+1)==-1)continue;var H=u[g][0],S=u[g][1];
if(!H.w.LE())continue;var R=Math.round(S.r*F+2*f),I=Math.round(S.$*d+2*Q);p.StartPage(0,0,R,I);var D=UDOC.getState(),G=new fA;
G.translate(-S.x,-S.y-S.$);G.scale(F,-d);G.translate(f,Q);if(u[g][2]){var C=u[g][2],O=f*F,Y=Q*d,h=O+S.r*F,r=Y+S.$*d;
D.colr=[(C>>>0&255)/255,(C>>>8&255)/255,(C>>>16&255)/255];D.pth={cmds:["M","L","L","L","Z"],crds:[O,Y,h,Y,h,r,O,r]};
p.Fill(D)}if(ex==0&&J.rall){var W=a.j(S.C()*4);a.nk(a.hg(z.dT(),8),t,W,S);var N=z.Zy();if(N)ICC.U.applyLUT(N[z.add.fcmy==1?5:3],N[2],W,W);
var o=kL.V5("JPG").D6([[W.buffer]],S.r,S.$,{qual:J.qual});W=new Uint8Array(o);var K=new fA;K.translate(S.x,S.y);
jr.JR(D,p,W,S,K,G)}else{jr.Bo(z,H,D,p,G,S,J,n);if(f!=0){var O=f,Y=Q,h=O+S.r*72/z.Ge,r=Y+S.$*72/z.Ge,l=h+f,aV=r+f;
D.ca=1;D.colr=[1,1,1];D.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,aV,l,aV,l,0,O,Y,h,Y,h,r,O,r]};
p.Fill(D)}}if(J.cmrk){var j=[[0,0],[1,0],[1,1],[0,1]],M=50,s=5,l2=M*.5,gm=s*.5,iz=S.r*72/z.Ge,dC=S.$*72/z.Ge;
D.colr=[.1,.1,.1];for(var dL in j){var cP=j[dL],id=[dL==0||dL==3?-1:1,dL==0||dL==1?-1:1],jR=[f-l2+gm*id[0]+cP[0]*iz,Q-(id[1]!=1?s:0)+cP[1]*dC],hC=[f-(id[0]!=1?s:0)+cP[0]*iz,Q-l2+gm*id[1]+cP[1]*dC];
D.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[jR[0],jR[1],jR[0]+M,jR[1],jR[0]+M,jR[1]+s,jR[0],jR[1]+s,hC[0],hC[1],hC[0]+s,hC[1],hC[0]+s,hC[1]+M,hC[0],hC[1]+M]};
p.Fill(D)}}var eJ=z.Cy;for(var el=0;el<eJ.length;el++){var eu=eJ[el].v,S=a.TX.R2(eu),jY=a.b.e3(S).L;
a.b.h(jY,G,jY);var fN=a.b.yq(jY);if(!new fw(0,0,R,I).cz(fN))continue;if(p.AddAnnot)p.AddAnnot([fN.x,fN.y,fN.x+fN.r,fN.y+fN.$],eu.url.v)}p.ShowPage()}p.Done();
jr.p2=null};jr.lI=function(z){z=a.Wi.Um(z);return[z.o/255,z.k/255,z.X/255]};jr.Bo=function(z,J,p,n,B,c,t,u){var v=J.w,A=v.add.lsct,$=v.add.lmfx,_,y,R,D=!1;
if(v.$Z)return;var X=v.add.vmsk,U=v.add.vstk,w=v.add.TySh;if(ex==1&&!v.nT()&&!c.SH(a.b.yq(v.ms())))return;
var P=J.children,k=P&&P.length!=0?P[P.length-1].w:null;if(ex==1&&k&&k.$Z&&k.LE())X=k.add.vmsk;if(!v.LE())return;
var T=v.YF/255,Z=v.add.iOpa!=null?v.add.iOpa/255:1;p.bmode=b4.atU(v.QN);var i=p.ca;p.ca=p.CA=T*Z;var V=$;
if(V)V=V.solidFillMulti.v[0];if(V)V=V.v;if(V&&!V.enab.v)V=null;var E=v.S;if(v.ti()&&(!v.nT()||v.GJ&&v.GJ.gg)){if(v.nT()){_=v.GJ.gg;
E=J.R2(z,!1)}else{_=a.j(v.S.C());a.Tm(a.hg(v.buffer,8),_,3)}var F=ju.u7($,v.add.fxrp,_,E,z,E),y=F.I;
ju.aFC(F);var d=["DrSh","OrGl"];if(Z!=1||U&&!U.fillEnabled.v){var x=_.slice(0);a.oU(x);for(var g=0;g<d.length;
g++){var f=y[d[g]];for(var Q=0;Q<f.length;Q++){var m=f[Q],H=m.dp.P();H.x+=E.x;H.y+=E.y;a.ph(x,E,m.R1,H)}}}}if(y)jr.a6A(v,_,E,y,p,n,B,t,!0);
var S=ju.ars(v,!1);if(S){n.StartTGroup(p);R=p;p=UDOC.getState();p.a3M=R.a3M}var I=X&&!v.dH(),G=v.add.GdFl;
if(G&&G.Type.v.GrdT!="Lnr"&&G.Type.v.GrdT!="Rdl"){D=!0}if(U&&U.strokeEnabled.v&&U.strokeStyleContent.v.Ptrn)D=!0;
if(I){var C=a.b.Yo(X.u,!1),O=C.kE;a.b.h(O.L,B,O.L);p.cpth={cmds:O.Ao,crds:O.L}}if(v.nT()){for(var g=0;
g<J.children.length;g++)jr.Bo(z,J.children[g],p,n,B,c,t,u)}else if(v.dH()&&v.add.PtFl==null&&!D){var Y=X?X.u:a.z.dZ.Rect(0,0,z.r,z.$),h=v.add.vstl,O,W;
if(h==null)h=b$.cD(v.add,z);for(var g=0;g<2;g++){var r=g==0?h.ZI:h.K$;if(r&&r.length==4)for(var Q=0;
Q<r[1].length;Q++)r[1][Q][1]=jr.dW(r[1][Q][1])}b4.ix(h,p);p.lwidth*=B.Nz();for(var g=0;g<p.dash.length;
g++)p.dash[g]*=B.Nz();if(ex==0){var C=a.b.Yo(Y,h.K$==null);O=C.kE;W=C.Pa}if(ex==1){O=a.b.Ru(Y);W=X.VR}a.b.h(O.L,B,O.L);
p.pth={cmds:O.Ao,crds:O.L};for(var Q=0;Q<2;Q++){var g=h.O_==2?1-Q:Q,N=g==0?h.ZI:h.K$,K=null;if(N.length==0)continue;
else if(N.length==3)K=N;else{var l=gr.g7(N,Y);l.concat(B);var aV=[0,0,1,0];if(N[0]==1){var j=N[2][5]*Math.PI/180,M=N[2][6];
aV=[Math.cos(j)*M,-Math.sin(j)*M,0,0,0,1]}K={typ:["lin","rad"][N[0]],mat:[l.k6,l.X,l.GQ,l.JH,l.Rf,l.Sm],grad:a.G(N[1]),crds:aV}}p[g==0?"colr":"COLR"]=K;
n[g==0?"Fill":"Stroke"](p,W!=0)}}else if(w&&t.vtxt){var s=w.qU,l2=new e1(s,u,w.PB),O=hk.Ta(l2,w,!0),gm=a.b.Re(O),iz=null,U=ju.av9($);
if(U){iz=a_.jM.kn(U);iz.K$=jr.lI(U.strokeStyleContent.v.Clr.v)}for(var dC in gm){var dL=parseInt(dC.slice(1,7),16),cP=0;
p.colr=V?jr.lI(V.Clr.v):jr.aGK(dL);var id=gm[dC];a.b.h(id.L,B,id.L);id=a.b.a8t(id);p.pth={cmds:id.Ao,crds:id.L};
var h=iz?a.G(iz):null;if(dC.length>7)h=hk.aG$(dC.slice(7));if(h)h.tM*=B.Nz();if(h&&h.O_==2){p.COLR=h.K$;
b4.ix(h,p);n.Stroke(p)}n.Fill(p);if(h&&h.O_!=2){p.COLR=h.K$;b4.ix(h,p);n.Stroke(p)}}}else if(w){var s=a.G(w.qU);
dN.avE(s);var jR=w.h.P(),hC=new fA(1,0,0,-1,0,0);hC.concat(jR);hC.concat(B);var eJ=dN.Be(s),l2=new e1(s,u,w.PB);
for(var g=0;g<l2.gC.length;g++){var el=l2.gC[g];if(el.vr.length==1&&el.vr[0].$i)continue;for(var Q=0;
Q<el.l0.length;Q++){var eu=el.l0[Q],jY=el.lo.y+eu.lo.y,fN=el.vr[eu.start].start,jC=el.vr[eu.end-1].end,kF=dN.aew(s,fN,jC);
for(var i6=0;i6<kF.length;i6++){var kT=l2.Uy(fN),kY=kF[i6],h9=dN.cj(s,fN,fN),bG=h9.W5[h9.uA.Font].Name;
p.font.Tf=bG;var dC=dN.Um(h9.uA.FillColor);p.colr=V?jr.lI(V.Clr.v):[dC.o/255,dC.k/255,dC.X/255];var dQ=p.font.Tfs=Math.round(h9.uA.FontSize),jn=eJ.slice(fN,fN+kY);
if(h9.uA.FontCaps==2)jn=jn.toUpperCase();var l=new fA;l.translate(kT.Dm.x,-jY);l.concat(hC);p.ctm=[l.k6,l.X,l.GQ,l.JH,l.Rf,l.Sm];
n.PutText(p,jn,0);for(var b1=0;b1<2;b1++){var c8=h9.uA[b1==0?"Strikethrough":"Underline"];if(!c8)continue;
var j_=l2.Uy(fN+kY-1),fQ=b1==0?.27:-.2,cM=dQ*fQ,jK=dQ*(fQ+.07),cP=j_.Dm.x+j_.Dm.r-kT.Dm.x,aw=[0,cM,cP,cM,cP,jK,0,jK];
a.b.h(aw,l,aw);p.pth={cmds:["M","L","L","L","Z"],crds:aw};n.Fill(p)}p.ctm=[1,0,0,1,0,0];fN+=kY}}}}else if(!v.S.Sz()||ex==1){var ez,g4,ht=!1,gx=new fA,kE=v.add.SoLd,kS=!0;
if(kE)kS=a.F.Ua(a.F.Q$(L.tp.bU(kE.Trnf)));var h7=z.Zy();if(kE&&kS&&h7==null){var b7=kE.Idnt.v,i7=z.Cx(b7,kE.Crop?kE.Crop.v:null),fB="";
if(i7==null)return;var fp=i7.GS,jB=kL.yd(i7.raw.buffer);if(t.fmts.indexOf(jB)!=-1){ez=i7.raw;ht=!0}else ez=fp[0];
g4=fp[1];gx=a.F.Gy(kE);if(i7.Mm.C()!=g4.C()){var df=new fA;df.translate(g4.x,g4.y);df.concat(gx);gx=df}}else{ez=a.hg(v.buffer,8);
g4=v.S;gx.translate(g4.x,g4.y);if(h7){ez=ez.slice(0);ICC.U.applyLUT(h7[z.add.fcmy==1?5:3],h7[2],ez,ez)}if(a.TP(ez,g4.r,g4.$)&&t.fmts&&t.fmts.indexOf("jpg")!=-1){var dt=kL.V5("JPG").D6([[ez.buffer]],g4.r,g4.$,[t[1]]);
ez=new Uint8Array(dt);ht=!0}}if(V&&!ht)ez=ju.asL(ez,V,g4);jr.JR(p,n,ez,g4,gx,B);if(V&&ht){var aw=[0,0,g4.r,0,g4.r,g4.$,0,g4.$];
a.b.h(aw,gx,aw);a.b.h(aw,B,aw);var g5=a.G(p);g5.ca=V.Opct.v.val/100;g5.pth={cmds:["M","L","L","L","Z"],crds:aw};
g5.colr=jr.lI(V.Clr.v);n.Fill(g5)}}if(I)p.cpth=null;if(S){n.EndTGroup();p=R}p.ca=p.CA=i;if(y)jr.a6A(v,_,E,y,p,n,B,t,!1)};
jr.dW=function(z){var J=jr.p2;if(J==null)return z;var p=J.Zy();if(p&&J.add.fcmy){return a.oc(a.KK(z)).slice(0,3)}return z};
jr.lI=function(z){z=a.Wi.Um(z);return jr.dW([z.o/255,z.k/255,z.X/255])};jr.aGK=function(z){return jr.dW([(z>>>16&255)/255,(z>>>8&255)/255,(z&255)/255])};
jr.a6A=function(z,J,p,n,B,c,t,u,v){var A=p.P(),$=J;if(z.add.TySh&&!u.vtxt)return;var X=B.ca,U=B.bmode;
for(var g=a_.order.length-1;g>=0;g--){var w=a_.order[g];if(w=="GrFl"||w=="SoFi")continue;if((z.add.vmsk||z.add.TySh)&&w=="FrFX")continue;
var P=n[w],k=g>7||w=="FrFX";if(k!=v)continue;for(var T=0;T<P.length;T++){var Z=P[T];if(Z.dp==null)Z=Z.ux?Z.ux:Z.Xy;
if(Z==null)continue;var i=a.hg(Z.R1,8),V=Z.dp.P();V.offset(A.x,A.y);if(!k){if(!A.cz(V)){var _=A.KQ(V),y=a.j(_.C());
a._1($,A,y,_);$=y;A=_}a.ph($,A,i,V)}if(k&&w=="FrFX"&&Z.hK)a.ph(Z.hK,V,i,V);var E=new fA;E.translate(V.x,V.y);
B.ca=Z.ZB;B.bmode=b4.atU(Z.D1);jr.JR(B,c,i,V,E,t)}}B.ca=X;B.bmode=U};jr.JR=function(z,J,p,n,B,c){var t=new fA;
t.scale(n.r,-n.$);t.translate(0,n.$);t.concat(B);t.concat(c);z.ctm=[t.k6,t.X,t.GQ,t.JH,t.Rf,t.Sm];J.PutImage(z,p,n.r,n.$);
z.ctm=[1,0,0,1,0,0]};var ef={};ef.yi=function(z){var J=new Uint8Array(z);return ef.al(J,0)};ef.al=function(z,J){var p=e.fy,n=e.RM,B={A_:n(z,J,4),p:J+8,size:p(z,J+4)},c=B.A_=="FORM"||B.A_=="FOR4"||B.A_=="LIST"||B.A_=="CAT ";
if(c)B.Sp=n(z,J+8,4);if(B.size<0||B.p+B.size>z.length)throw"e";if(c){B.sub=[];J+=12;var t=B.p+B.size;
while(J<t){var u=ef.al(z,J);B.sub.push(u);var v=u.size&1,A=u.size&3;if(B.A_=="FOR4")v=A==0?0:4-A;J+=8+u.size+v}}return B};
var cz={};cz.yi=function(z,J){var p=new Uint8Array(z);return cz.al(p,0,J)};cz.al=function(z,J,p){var n=e.gm,B=e.RM,c={A_:B(z,J,4),p:J+8,size:n(z,J+4)};
if(p&&p[c.size]!=null)c.size=p[c.size];if(c.A_=="RIFF"||c.A_=="LIST"){c.Sp=B(z,J+8,4)}if(c.size<0||c.p+c.size>z.length){console.log(c,z.length);
throw"e"}if(c.A_=="RIFF"||c.A_=="LIST"&&(c.Sp!="cmpr"&&c.Sp!="stlt")){c.sub=[];J+=12;var t=c.p+c.size;
while(J<t){var u=cz.al(z,J,p);c.sub.push(u);J+=8+u.size+(u.size&1)}}return c};var fj=function(){function z(K,l){var aV=null;
if(K.sub==null)return aV;for(var g=0;g<K.sub.length;g++){var j=K.sub[g];if(j.A_==l||j.Sp==l)aV=j}return aV}function J(K){if(K==32)return 300;
else if(K<49)return 0;else if(K<58)return 100*(K-48);else if(K<65)return 0;return 100*(K-55)}var p;function n(K,l){var aV=new Uint8Array(K);
l.Uq=!0;p={};var j=e.RM(aV,0,2);if(j=="WL"){alert("Unsupported CDR version")}else{var M,s,l2,dC,jY=300,kF=0;
if(j=="PK"){s=UZIP.parse(aV);if(s["content/root.dat"]){aV=s["content/root.dat"];l2=e.A8(s["content/dataFileList.dat"]).split("\n")}else{aV=s["content/riffData.cdr"];
s=null}}M=cz.yi(aV.buffer);console.log(M);var gm=J(aV[11]),iz={data:aV,p:0,VP:gm};iz.A3=iz.VP<600?16:32;
d(aV,iz,l2,s,M.sub,0);var dL=[];if(s){dC=z(M,"doc ");B(dC);var cP=M.sub;for(var g=0;g<cP.length;g++)if(cP[g].Sp=="page")dL.push(cP[g]);
dL=dL.slice(1)}else if(M.sub[3]&&M.sub[3].A_=="pack"){alert("We dont support this version of CDR files");
return}else if(z(M,"cmpr")==null){dC=z(M,"page");dL.push(dC);if(z(dC,"mcfg")==null){dC=z(M,"doc ");B(dC);
dL=[];var cP=M.sub;for(var g=0;g<cP.length;g++)if(cP[g].Sp=="page")dL.push(cP[g]);dL=dL.slice(1)}}else{var id=z(M,"cmpr").sub;
dC=id[0];dL=[id.slice(1)[1]];if(z(dC,"filt"))B(dC)}var jR=z(dC,"mcfg").K,hC=jR.aDB,eJ=hC.x*.1,el=hC.x*dL.length+eJ*(dL.length-1),eu=hC.y;
jY/=jh.S8(new fw(0,0,Math.round(el*jY),Math.round(eu*jY)),8192*8192);var fN=Math.round(el*jY),jC=Math.round(eu*jY);
l.r=fN;l.$=jC;l.buffer=a.j(l.r*l.$*4);for(var g=0;g<dL.length;g++){var i6=new fA(jY,0,0,-jY,hC.x*jY/2+kF,hC.y*jY/2);
c(dL[g],dC,l,i6);var kT=l.U[l.U.length-1];kT.Uu(new fw(Math.round(kF),0,Math.round(hC.x*jY),Math.round(hC.y*jY)));
kT.HV("Page "+(g+1));kF+=hC.x*jY+eJ*jY}l.Gd(dL.length)}}function B(K){var l=z(K,"filt").sub,aV=z(K,"otlt").sub,j=z(K,"fntt");
if(j)j=j.sub;K.PN={};for(var g=0;g<l.length;g++)K.PN[l[g].sub[0].K.id]=l[g].sub[0].K;K.Wr={};for(var g=0;
g<aV.length;g++)K.Wr[aV[g].K.id]=aV[g].K;if(j){K.fonts={};for(var g=0;g<j.length;g++)K.fonts[j[g].K.id]=j[g].K}}function c(K,l,aV,j){var M=K.Sp?K.Sp:K.A_,s=z(K,"lgob"),l2=z(K,"txsm"),gm=null,iz=null;
if(s){gm=z(s,"trfl");iz=z(s,"loda")}else if(z(K,"lobj"))iz=z(K,"lobj");var dC=gm&&gm.sub[0].bp?gm.sub[0].bp.P():new fA;
dC.concat(j);var dL=aV.JG();if(M=="page"||M=="layr"||M=="grp "){dL.HV((M=="page"?"Page":"Group")+" "+aV.U.length);
dL.add.lsct=cp.xj;dL.QN="pass";dL.a3=24;var cP=[];if(M=="page")cP=z(K,"gobj").sub;if(M=="layr")cP=K.sub.slice(2);
if(M=="grp ")cP=K.sub.slice(4);if(cP.length==0)return;aV.U.push(aV.eH());for(var g=cP.length-1;g>=0;
g--)c(cP[g],l,aV,j)}else if(M=="obj "&&iz.K&&iz.K.path){var id,jR;if(l.PN){id=l.PN[iz.K.at0];jR=l.Wr[iz.K.a47]}if(id==null)id=iz.K.aG4;
if(jR==null)jR=iz.K.aaH;dL=t(aV,iz.K.path,j,dC,id,jR)}else if(M=="obj "&&l2){var hC=iz.K.atV,eJ=iz.K.aeH,jY="";
dL.add.TySh=dN.gI(0,0);var el=dC.Nz();dL.add.TySh.h.translate(dC.Rf,dC.Sm);var eu=dL.add.TySh.qU,fN=l2.K.rn;
if(fN==null)return;for(var g=0;g<fN.length;g++){var jC=fN[g],kF=jY.length;jY+=jC.text+"\n";dN.tJ(eu,kF,jC.text+"\n");
if(jC.text=="")continue;var i6=u(jC.afW,l),kT=i6.adG,kY=l.fonts[kT.avF],h9=dN.cj(eu,kF,jY.length);if(i6.align==3)h9.gC.Justification=1;
else if(i6.align==2)h9.gC.Justification=2;else h9.gC.Justification=0;var bG=i6.fill.K;if(bG==null)bG=[0,0,0];
if(kY.ge)dN.Qp(h9,kY.ge);h9.uA.FillColor={Type:1,Values:[1,bG[0],bG[1],bG[2]]};h9.uA.FontSize=Math.round(kT.fontSize*j.Nz());
dN.CG(eu,kF,jY.length-1,h9)}if(eJ){dN.NA(eu,0)}else{dN.NA(eu,1);dN.h4(eu,[0,0,Math.round(hC.x*dC.k6),Math.round(-hC.y*dC.JH)])}dL.HV(jY.slice(0,10))}else{dL=null}if(dL)aV.U.push(dL)}function t(K,l,aV,j,M,s){var l2=K.JG();
l2.HV("Object "+K.U.length);l2.a3|=16;var gm=l2.add.vstk=a_.jM.J0();l2.add.vmsk=new bi.jP;l2.add.vmsk.u=a.b.nK(l,!1);
a.z.Gn(l2.add.vmsk.u,j);var iz=M&&M.I!=0,dC=iz&&M.K!=null?M.K:[0,0,0];b4.Su(dC,l2,j,l2.add.vmsk.u);gm.fillEnabled.v=iz;
if(s&&s.aHY!=1){gm.strokeEnabled.v=!0;gm.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var dL=gm.strokeStyleLineWidth.v.val=s.lineWidth*aV.Nz(),cP=s.color;gm.strokeStyleContent.v.Clr.v=a.Wi.yR({o:cP[0]*255,k:cP[1]*255,X:cP[2]*255});
if(s.ji.length!=0)gm.strokeStyleLineDashSet.v=ju.Zi(s.ji,4/dL);var id=s.a7s,jR=s.asd;if(jR!=0){var hC=l.L,g=hC.length-4,eJ=hC[g],el=hC[g+1],eu=hC[g+2],jY=hC[g+3],fN=new fA;
fN.scale(.15,.15);fN.rotate(-Math.PI/2+Math.atan2(jY-el,-(eu-eJ)));fN.translate(eu,jY);fN.concat(j);
if(p[jR]){var jC=t(K,p[jR],aV,fN,cP,null);K.U.push(jC)}}}l2.cC();l2.k3(K);return l2}function u(K,l){var aV=z(l,"stlt").K,j=a.G(aV.Z9[K]);
if(j.KE!=0){var M=aV.Z9[j.KE];for(var s in M)if(j[s]==null||j[s]==0)j[s]=M[s];delete j.KE}j.align=aV.aqM[j.a1V];
j.fill=l.PN[aV.aJg[j.alv]];j.a98=l.Wr[aV.aIl[j.a4j]];j.adG=aV.ah$[j.ay3];return j}function v(g){var lj=g.data[g.p];
g.p+=1;return lj}function A(g){var lj=e.Ei(g.data,g.p);g.p+=2;return lj}function $(g){var lj=e.gm(g.data,g.p);
g.p+=4;return lj}function X(g){var lj=e.gm(g.data,g.p);g.p+=8;return lj}function U(g){var lj=e._4(g.data,g.p);
g.p+=2;return lj}function w(g){var lj=e.qd(g.data,g.p);g.p+=4;return lj}function P(g){var lj=e.L6(g.data,g.p);
g.p+=8;return lj}function k(g){if(g.p>=g.data.length)throw"e";var K=0;while(g.data[g.p+K]!=0)K++;var l=e.RM(g.data,g.p,K);
g.p+=K+1;return l}function T(g){var K="";while(!0){var l=A(g);if(l==0)break;K+=String.fromCharCode(l)}return K}function Z(K){var l=$(K),aV=(l&4294901760)>>>16,j=(l&65535)/65535;
return aV+j}function i(K){if(K.VP<600)return Math.PI*U(K)/1800;return Math.PI*w(K)/18e7}function V(K){if(K.VP<1500)return _(K);
else return P(K)/254e3}function _(K){if(K.VP<600)return U(K)/1e3;else return w(K)/254e3}function y(K){if(K.VP<600)return A(K);
else return $(K)}function E(K){if(K.VP<600)return U(K);else return w(K)}function F(K,l,aV){var j="";
for(var g=0;g<aV;g++){for(var M=0;M<l;M+=4){var lj=e.gm(K.data,K.p+g*l+M);j+=(lj<500?lj:lj)+","}j+="\n"}return j}function d(K,l,aV,j,M,s){var l2,gm,iz;
for(var dC=0;dC<M.length;dC++){var dL=l.VP,cP=M[dC];l.data=K;l.p=cP.p+(cP.A_=="LIST"?4:0);if(j&&cP.sub==null){l2=$(l);
gm=$(l);iz=$(l);var id=A(l);if(id!=0&&id!=256&&id!=768)throw id.toString(16);var jR=A(l);if(jR>32)throw"e";
l.p-=16;if(l2!=4294967295){l.data=j["content/data/"+aV[l2]];l.p=iz}}if(cP.A_=="vrsn"){if(cP.size==16)l.p+=8;
var hC=A(l);l.VP=hC;console.log("Version",hC);l.A3=hC<600?16:32}else if(cP.A_=="DISP"){}else if(cP.A_=="pack"){var eJ=$(l),el=e.RM(l.data,l.p,4),fN=0;
if(el!="CPng")throw el;var eu=new Uint8Array(l.data.buffer,l.p+8+2,cP.size-10-4),jY=pako.inflateRaw(eu);
cP.sub=[];while(fN<jY.length){var jC=cz.al(jY,fN);fN=jC.p+jC.size;cP.sub.push(jC)}var kF={data:jY,p:0,VP:dL,A3:l.A3};
d(jY,kF,aV,j,cP.sub,s+1)}else if(cP.A_=="LIST"&&cP.Sp=="cmpr"){var i6=$(l),kT=$(l),kY=$(l),eJ=$(l),el=e.RM(l.data,l.p,4),fN=0;
if(el!="CPng")throw el;var eu=new Uint8Array(l.data.buffer,l.p+8+2,i6-6-8),jY=pako.inflateRaw(eu);l.p+=i6;
eu=new Uint8Array(l.data.buffer,l.p+8+2);var h9=pako.inflateRaw(eu),bG=[];for(var dQ=0;dQ<h9.length;
dQ+=4)bG.push(e.gm(h9,dQ));cP.sub=[];while(fN<jY.length){var jC=cz.al(jY,fN,bG);fN=jC.p+jC.size;cP.sub.push(jC)}var kF={data:jY,p:0,VP:dL,A3:l.A3};
d(jY,kF,aV,j,cP.sub,s+1)}else if(cP.A_=="LIST"&&cP.Sp=="stlt"||cP.A_=="stlt"){if(l2==4294967295)return;
var jn=l.p,aw="",dt=32;cP.K={};var b1=$(l);if(b1==0)return;cP.K.aJg=D(l,dL>=1300);cP.K.aIl=D(l);cP.K.ah$={};
var c8=$(l);for(var g=0;g<c8;g++){var j_=$(l);l.p+=dL<1e3?12:20;var fQ=A(l),cM=A(l);l.p+=8;var jK=_(l);
l.p+=dL<1e3?12:20;cP.K.ah$[j_]={avF:fQ,a6B:cM,fontSize:jK}}cP.K.aqM=D(l);var ez=$(l);aw+="Intervals\n"+F(l,52,ez)+"\n";
l.p+=52*ez;var g4=$(l);aw+="Set5s\n"+F(l,152,g4)+"\n";l.p+=152*g4;var ht=$(l);aw+="Tabs\n"+F(l,784,ht)+"\n";
l.p+=784*ht;var gx=$(l);aw+="Bullets\n";for(var g=0;g<gx;g++){var kE=l.p,kS=$(l);l.p+=4*3;if(dL>1300)l.p+=4;
var h7=$(l);l.p+=4*5;if(dL>=1300){var b7=$(l);if(b7){if($(l))l.p+=64;else l.p+=60}else l.p+=12}else{l.p+=20;
if(dL>=1e3)l.p+=8;if($(l))l.p+=8;l.p+=8}var i7=l.p;l.p=kE;aw+=F(l,i7-kE,1);l.p=i7}aw+="\n";var fp=$(l);
aw+="Indents\n";cP.K.a1U={};for(var g=0;g<fp;g++){var kE=l.p,jB=$(l),fB={};l.p+=12;fB.right=_(l);fB.afG=_(l);
fB.left=_(l);cP.K.a1U[jB]=fB;var i7=l.p;l.p=kE;aw+=F(l,i7-kE,1);l.p=i7}aw+="\n";var df=$(l);if(dL>=1300)dt+=4;
aw+="Hypens\n"+F(l,dt,df)+"\n";l.p+=dt*df;var g5=$(l);aw+="Dropcaps\n"+F(l,28,g5)+"\n";l.p+=28*g5;if(dL>800){var bR=$(l);
aw+="Set11s\n"+F(l,28,bR)+"\n";l.p+=12*bR}cP.K.Z9={};for(var g=0;g<b1;g++){var h$=$(l);if(h$>3)throw h$;
var ih=$(l),jt={};jt.KE=$(l);l.p+=8;var jN=$(l);if(dL>=1200)jN*=2;l.p+=jN;jt.alv=$(l);jt.a4j=$(l);if(h$>1){jt.ay3=$(l);
jt.a1V=$(l);jt.aeg=$(l);jt.ane=$(l);if(dL>800)jt.ak2=$(l)}if(h$>2){jt.aK0=$(l);jt.aba=$(l);jt.af3=$(l);
jt.ajX=$(l);jt.acT=$(l)}cP.K.Z9[ih]=jt}}else if(cP.A_=="LIST")d(K,l,aV,j,cP.sub,s+1);else if(cP.A_=="txsm"){cP.K={};
if(dL<600)throw"e";if(dL<700)throw"e";if(dL>=1600){cP.K=I(l);return}if(dL>=1500)l.p+=37;else l.p+=36;
if($(l)){if(dL<800)l.p+=32}if(dL<800)l.p+=4;cP.K.abc=$(l);cP.K.rn=[];l.p+=48;if(dL>=800){if($(l)){l.p+=32;
if(dL>=1300)l.p+=8}}if(dL>=1500)l.p+=12;var h$=$(l),jk=1,gE=!1;if(!h$){if(dL>=800)l.p+=4;if(dL>800)l.p+=2;
if(dL>=1400)l.p+=2;l.p+=24;if(dL<800)l.p+=8;jk=$(l)}for(var dQ=0;dQ<jk;dQ++){var cW=$(l),g=0;if(dL>=1300&&h$)l.p++;
l.p++;var b1=$(l),dR=[];for(g=0;g<b1;g++){var gV=v(l),ga=0;v(l);var gv=v(l);if(dL>=800)ga=v(l);var jt={};
if(gv&1){jt.avF=A(l);var iC=A(l);if(iC)jt.amK=iC}if(gv&2)l.p+=4;if(gv&4)jt.aJ5=_(l);if(gv&8)l.p+=4;if(gv&16)l.p+=4;
if(gv&32)l.p+=4;if(gv&64){jt.alv=$(l);if(dL>=1500)l.p+=48}if(gv&128){jt.a4j=$(l)}if(ga&8){if(dL>=1300){var dI=$(l);
if(l.p+dI*2>=l.data.length){gE=!0;break}l.p+=dI*2}else l.p+=4}if(ga&32){var fV=v(l);if(fV)l.p+=52}if(gV==2)if(dL>=1300)l.p+=48;
dR.push(jt)}if(gE){break}var dH=$(l);if(l.p+dH*4>l.data.length)break;var aj=[];for(g=0;g<dH;g++){var cH=0;
if(dL>=1200)cH=X(l)&4294967295;else cH=$(l);aj[g]=cH>>16|cH&1}var ge=dH;if(dL>=1200)ge=$(l);var ko=k(l);
cP.K.rn.push({afW:cW,text:ko,Z9:dR})}}else if(cP.A_=="arrw")cP.K=x(l);else if(cP.A_=="font"){var kE=l.p,iI=A(l),av=A(l),gF="";
l.p+=14;if(l.VP>=1200)gF=T(l);else gF=k(l);cP.K={id:iI,aKi:av,name:gF};if(j){var kG=kE+gm;while(l.data[l.p]==0)l.p++;
l.p+=2;var kh=T(l);while(l.data[l.p]==0)l.p++;while(l.data[l.p]<=2)l.p+=4;cP.K.ge=T(l)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(cP.A_)!=-1){}else if(cP.A_=="flgs")cP.K=$(l);
else if(cP.A_=="bbox"){var hB=_(l),kf=_(l),jg=_(l),fU=_(l);cP.K=new fw(hB,kf,jg-hB,fU-kf)}else if(cP.A_=="fild"){var cv=$(l),iB;
if(dL>=1300)l.p+=8;if(dL>=2510)l.p+=16+8;var bZ=A(l);if(bZ==0){}else if(bZ==1){l.p+=dL>=1300?13:2;iB=N(l)}else if(bZ==2){l.p+=dL>=1300?8:2;
var l8=v(l),ee=0;if(dL>=1300){l.p+=17;ee=U(l)}else if(dL>=600){l.p+=19;ee=w(l)}else{l.p+=11;ee=U(l)}var gU=i(l),ad=.5+E(l),a7=.5+E(l)-.5;
if(dL>=600)l.p+=2;var dm=y(l)&255,az=v(l)/100;l.p++;var al=y(l)&65535;if(dL>=1300)l.p+=3;var dl=[];for(var g=0;
g<al;g++){var fi=N(l);if(dL>=1400)l.p+=26;else if(dL>=1300)l.p+=5;var fT=(y(l)&65535)/100;if(dL>=1300)l.p+=3;
dl.push([fT,fi])}iB={typ:l8==1?"lin":"rad",crds:[ad-Math.cos(gU)/2,a7-Math.sin(gU)/2,ad,a7],grad:dl,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",bZ);
cP.K={id:cv,I:bZ,K:iB}}else if(cP.A_=="outl"){var cL=$(l);if(dL>=1300){var fx=0,by=0;while(fx!=1){l.p+=by;
fx=$(l);by=$(l)}}var ci=A(l),hG=A(l),k4=A(l);if(dL<1300&&dL>=600)l.p+=2;var dr=_(l),dk=A(l)/100;if(dL>=600)l.p+=2;
var hS=i(l);if(dL>=1300)l.p+=46;else if(dL>=600)l.p+=52;var iB=N(l);if(dL<600)l.p+=10;else l.p+=16;var lo=A(l),gB=l.p,fg=[];
for(var g=0;g<lo;++g)fg.push(A(l));if(dL<600)l.p=gB+20;else l.p=gB+22;var eN=$(l),k2=$(l);cP.K={id:cL,aHY:ci,aGd:hG,aFa:k4,lineWidth:dr,color:iB,ji:fg,a7s:eN,asd:k2}}else if(cP.A_=="mcfg"){if(1300<=dL)l.p+=12;
else if(900<=dL)l.p+=4;else if(600<=dL&&dL<700)l.p+=28;var eh=0,cE=0;if(dL<400){l.p+=2;var hB=_(l),kf=_(l),jg=_(l),fU=_(l);
eh=Math.abs(jg-hB);cE=Math.abs(fU-kf)}else{eh=_(l);cE=_(l)}cP.K={aDB:new i_(eh,cE)}}else if(cP.A_=="loda"||cP.A_=="lobj"){var jn=l.p,bw=y(l),c9=y(l),hp=y(l),jL=y(l),aL=y(l),cZ=[],hL=[],g=0,e4=null;
l.p=jn+hp;while(g<c9)cZ[g++]=y(l);l.p=jn+jL;while(g>0)hL[--g]=y(l);cP.K={};for(g=0;g<c9;g++){l.p=jn+cZ[g];
var eb=hL[g];if(eb==30){if(dL>=400&&aL==1||dL<400&&aL==0){cP.K.path=S(l)}else if(dL>=400&&aL==2||dL<400&&aL==1){cP.K.path=H(l)}else if(dL>=400&&aL==3||dL<400&&aL==2){cP.K.path=Y(l)}else if(aL==37){cP.K.path=O(l)}else if(dL>=400&&aL==4||dL<400&&aL==3){cP.K.aeH=G(l)}else if(dL>=400&&aL==6||dL<400&&aL==5){cP.K.atV=C(l)}else console.log(aL)}else if(eb==20){if(dL<400)cP.K.aG4=Q(l);
else cP.K.at0=$(l)}else if(eb==10){if(dL<400)cP.K.aaH=m(l);else cP.K.a47=$(l)}else if(eb==200)cP.K.axa=y(l);
else if(eb==100){if(dL<400)e4=f(l)}}if(e4&&cP.K.path)a.b.h(cP.K.path.L,e4,cP.K.path.L)}else if(cP.A_=="trfd"){var jn=l.p,bw=y(l),c9=y(l),hp=y(l);
l.p=jn+hp;var cZ=[];for(var g=0;g<c9;g++)cZ[g]=y(l);for(var g=0;g<c9;g++){l.p=jn+cZ[g];if(dL>=1300)l.p+=8;
var b0=A(l);if(b0==8){var cX,eH,hB,fq,j9,kf;if(dL>=600)l.p+=6;if(dL>=500){cX=P(l);eH=P(l);hB=P(l)/(dL<600?1e3:254e3);
fq=P(l);j9=P(l);kf=P(l)/(dL<600?1e3:254e3)}else throw"e";cP.bp=new fA(cX,fq,eH,j9,hB,kf)}else console.log(b0)}}else if(!1){console.log(cP);
var k5=Math.min(cP.size,32);console.log(e.r9(K,cP.p,k5));console.log(e.aDa(K,cP.p,k5))}}}function x(K){var l=$(K);
K.p+=4;var aV=A(K);K.p+=4;var j=[];for(var M=0;M<aV;M++)j.push(v(K));K.p+=1;var s=[];for(var l2=0;l2<aV;
l2++){var gm=[];gm[1]=_(K);gm[0]=_(K);s.push(gm)}var iz=r(s,j);p[l]=iz}function f(K){var l=0,aV=0,j=0,M=0,s=0,l2=0;
if(K.VP>=300){var gm=K.p;K.p+=10;var iz=y(K);K.p=gm+iz;l=Z(K);aV=Z(K);j=w(K)/1e3;M=Z(K);s=Z(K);l2=w(K)/1e3}else{j=_(K);
l2=_(K);l=Z(K);aV=Z(K);j+=Z(K)/1e3;M=Z(K);s=Z(K);l2+=Z(K)/1e3}return new fA(l,aV,M,s,j,l2)}function Q(K){var l=v(K);
if(l==0)return null;else if(l==1)return N(K);else console.log(l)}function m(K){var l=v(K);l<<=1;var aV=_(K),j=A(K)/100,M=i(K),s=N(K);
return{aHY:l,lineWidth:aV,color:s,ji:[],a7s:0,asd:0}}function H(K){var l=_(K),aV=_(K),j=i(K),M=i(K),s=a.b.Ru(a.z.dZ.xJ(0,0,l,aV));
return s}function S(K){var l=K.VP,aV=V(K),j=V(K),M=0,s=0,l2=0,gm=0,iz=0,dC=1,dL=1;if(l<1500){gm=V(K);
l2=l<900?gm:V(K);s=l<900?gm:V(K);M=l<900?gm:V(K)}else{var cP=P(K);if(cP!=0)dC=cP;cP=P(K);if(cP!=0)dL=cP;
var id=v(K);K.p+=7;if(id==0){gm=P(K);iz=v(K);K.p+=15;l2=P(K);K.p+=16;s=P(K);K.p+=16;M=P(K);var jR=Math.abs(aV*dC/2),hC=Math.abs(j*dL/2);
gm*=jR<hC?jR:hC;l2*=jR<hC?jR:hC;s*=jR<hC?jR:hC;M*=jR<hC?jR:hC}else{gm=V(K);iz=v(K);K.p+=15;l2=V(K);K.p+=16;
s=V(K);K.p+=16;M=V(K)}}return a.b.Ru(a.z.dZ.Rect(0,0,aV,j,[M,s,l2,gm]))}function R(K){var l=$(K);if(K.VP<1700)l*=2;
K.p+=l;return""}function I(K){var l=$(K),j=0;K.p+=37;var aV=$(K);for(var g=0;g<aV;g++){var M=$(K);j=M;
K.p+=48;var s=$(K);if(s==1)K.p+=12*4;else K.p+=8;if(!l){K.p+=16;R(K)}}var l2={abc:j,rn:[]},gm=$(K);for(var iz=0;
iz<gm;iz++){if(K.p>K.data.length)throw"e";var dC=$(K),dL=v(K),cP=-1,i6="";if(l){cP=v(K);if(cP==1)K.p+=64}var id=R(K),jR=$(K);
for(var g=0;g<jR;g++){K.p+=2;var hC=A(K),eJ=A(K);if(eJ&4){var el=$(K);el*=2;K.p+=el}if(hC||eJ&4){var eu=R(K)}}var jY=$(K),fN=[];
for(var g=0;g<jY;g++){var jC=X(K)&4294967295;fN[g]=jC>>16|jC&1}var kF=$(K);for(var g=0;g<jY;g++){var kT=fN[g]&7,kY=0;
if(kT==0||kT==2||kT==4||kT==6)kY=K.data[K.p++];else if(kT==1||kT==3||kT==5||kT==7)kY=K.data[K.p++]+K.data[K.p++]*256;
else throw kT;i6+=String.fromCharCode(kY)}if(iz+1<gm)K.p++;var h9=i6.split("\r");for(var g=0;g<h9.length;
g++)l2.rn.push({text:h9[g],afW:dC,Z9:[]})}return l2}function D(K,l){var aV={},j=$(K);for(var g=0;g<j;
g++){var M=$(K);K.p+=4;var s=$(K);aV[M]=s;if(l)K.p+=48}return aV}function G(K){var l=_(K),aV=_(K);return new i_(l,aV)}function C(K){K.p+=4;
var l=_(K),aV=_(K);return new i_(l,aV)}function O(K){K.p+=4;var l=A(K)+A(K);K.p+=16;var aV=h(K,l);return aV}function Y(K){var l=A(K);
K.p+=2;return h(K,l)}function h(K,l){var aV=[],j=[];for(var g=0;g<l;g++)aV.push([_(K),_(K)]);for(var g=0;
g<l;g++)j.push(v(K));return r(aV,j)}function r(K,l){var aV={L:[],Ao:[]},j=0,M=0,s=0;for(var g=0;g<K.length;
g++){var j=K[g][0],M=K[g][1],l2=l[g];if(!(l2&64)&&!(l2&128)||g==0){aV.L.push(j,M);aV.Ao.push("M");s+=2}else if(l2&64&&!(l2&128)){aV.L.push(j,M);
aV.Ao.push("L");s+=2}else if(!(l2&64)&&l2&128){aV.L.push(j,M);aV.Ao.push("C");s+=6}else if(l2&64&&l2&128){aV.L.push(j,M)}}if(s!=aV.L.length)throw"e";
return aV}function W(K,l){var aV=e.gm;l+=8;var j=aV(K,l);l+=4;var M=aV(K,l);l+=4;l+=4*7;var s=l,l2=a.j(j*M*4);
l+=1024;for(var gm=0;gm<M;gm++)for(var iz=0;iz<j;iz++){var g=gm*j+iz,dC=(M-gm-1)*j+iz,dL=K[l+g]<<2,cP=dC<<2;
l2[cP+0]=K[s+dL+2];l2[cP+1]=K[s+dL+1];l2[cP+2]=K[s+dL+0];l2[cP+3]=255}return{R1:l2,S:new fw(0,0,j,M)}}function N(K){var l=K.VP,aV=0,j=0,M=0;
if(l>=500){aV=A(K);if(aV==1&&l>=1300)aV=25;if(aV==30){aV=25;j=30}else{j=A(K);K.p+=4}M=$(K)}else if(l>=400)throw"e";
else{aV=v(K);M=$(K)}return o(aV,j,M)}function o(K,l,aV){var j=[0,0,0];if(K==2||K==3||K==9||K==17){var M=[aV>>>0&255,aV>>>8&255,aV>>>16&255,aV>>>24&255];
if(K==2)for(var g=0;g<4;g++)M[g]=Math.round(255*M[g]/100);for(var g=0;g<4;g++)M[g]/=255;j=UDOC.C.cmykToRgb(M)}else if(K==1||K==5){j=[aV>>>0&255,aV>>>8&255,aV>>>16&255];
for(var g=0;g<3;g++)j[g]=j[g]/255;if(K==5)j.reverse()}else console.log("Unknown color model "+K,aV,aV.toString(16));
return j}return{yi:n}}(),iG=function(){var z,J,p=new ArrayBuffer(4),n=new Uint8Array(p),B=new Uint32Array(p),c=new Float32Array(p);
function t(U,w){for(var P=0;P<U.length;P++)if(U[P][0]==w)return U[P]}function u(){var U=0,w=0,P=0;do{P=z[J++];
U|=(P&127)<<w;w+=7}while(P&128&&w<35);return U>>>0}function v(U,w,P,k,T){z=U;J=w;var Z=k[0]=="mesg",i=k[2],V={},_=1,y=Z?1e9:i.length;
while(_<=y){var E=_;if(Z){E=u();if(E==0)break}var F=t(i,E),d=F[2],x=F[1]==1,f=x?u():1,Q=new Array(f);
if(d==3){if(!x)throw"e";Q=z.slice(J,J+f);J+=f}else for(var g=0;g<f;g++){var m;if((d&1)==1){if(d==1)m=z[J++]==1;
else if(d==3)m=z[J++];else if(d==5){var H=u();m=H&1?~(H>>>1):H>>>1}else if(d==7)m=u();else if(d==9){if(z[J]==0){m=0;
J++}else{n[0]=z[J];n[1]=z[J+1];n[2]=z[J+2];n[3]=z[J+3];var S=B[0];B[0]=S<<23|S>>>9;m=c[0];J+=4}}else if(d==11){var R=A(z,J);
m=R[0];J+=R[1]+1}else if(d==15){var H=BigInt(0),I=BigInt(0),D=BigInt(7),G;while((G=z[J++])&128&&I<56){H|=BigInt(G&127)<<I;
I+=D}H|=BigInt(G)<<I;m=H}else throw d}else{var C=P[d>>>1];if(C[0]=="enum"){var O=u();m=C[2][O]}else{var Y=v(z,J,P,C,T+1);
m=Y[0];J=Y[1]}}Q[g]=m}V[F[3]]=x?Q:Q[0];_++}return[V,J]}function A(U,w){var P=w;while(U[P]!=0)P++;return[e.A8(new Uint8Array(U.buffer,w,P-w)),P-w]}function $(U,w){var P=w;
while(U[P]!=0)P++;for(var g=w;g<P;g++)if(U[g]>127)throw"e";return e.RM(U,w,P-w)}function X(U){z=U;J=1;
var w=[];while(J<U.length){var P=J,k=w.length,T=$(U,J);J+=T.length+1;var Z=u();if(Z>2)throw"e";var i=u(),V=[];
for(var g=0;g<i;g++){var _=$(U,J);J+=_.length+1;var y=u(),E=u(),F=u();V.push(Z==0?_:[F,E,y,_])}w.push([["enum","strc","mesg"][Z],T,V])}return w}return{apG:X,aa0:v}}();
function dZ(){}dZ.yi=function(z,J){var p=Date.now(),n=new Uint8Array(z),B=8,c,U=0,C=0;if(n[0]==80&&n[1]==75){c=UZIP.parse(z);
n=c["canvas.fig"]}var t=e.gm(n,B);B+=4;var u=[];while(B<n.length){var v=e.gm(n,B);B+=4;var A=n.slice(B,B+v);
if(n[B]==137&&n[B+1]==80){}else if(t>=70&&u.length!=0){var $=kL.ox.B1(A);A=$.length==0?UZIP.inflateRaw(A):$}else A=UZIP.inflateRaw(A);
u.push(A);B+=v}var X=iG.apG(u[0]);for(var g=0;g<X.length;g++)if(X[g][1]=="Message")U=g;var w=iG.aa0(u[1],0,X,X[U],0)[0],P={Rl:{},fx:{},am1:{},qQ:c},k=w.nodeChanges;
for(var T=0;T<k.length;T++){var Z=k[T],i=Z.guid;P.fx[i.sessionID+","+i.localID]=Z}for(var T=0;T<k.length;
T++){var Z=k[T],i=Z.parentIndex;if(i){var V=dZ.Vu(P.fx,i.guid);if(V.children==null)V.children=[];V.children.push(Z)}}var _=k[0],y=_.children,E=new fw,F=[],d=[];
for(var i=0;i<y.length;i++){var x=y[i],f=x.children;if(x.name=="Internal Only Canvas"||f==null)continue;
var Q=new fw;for(var g=0;g<f.length;g++){var m=f[g],H=m.transform,S=m.size;if(H.m00==1&&H.m10==0&&H.m01==0&&H.m11==1){var R=new fw(H.m02,H.m12,S.x,S.y);
Q=Q.KQ(R)}}var I=E.$==0?0:E.$+100,D=Q.P();D.x=0;D.y=I;E=E.KQ(D);F[i]=Q;d[i]=I}var G=jh.S8(new fw(0,0,E.r,E.$),8192*8192);
J.r=Math.round(E.r/G);J.$=Math.round(E.$/G);J.buffer=a.j(J.r*J.$*4);for(var i=0;i<y.length;i++){var x=y[i],f=x.children;
if(x.name=="Internal Only Canvas"||f==null)continue;f.sort(dZ.au8);var O=new fA(1,0,0,1,-F[i].x,d[i]-F[i].y);
O.scale(1/G,1/G);for(var g=0;g<f.length;g++){var m=f[g];dZ.G7(m,[],O,w.blobs,J,0,P);C++}}J.Gd(C);J.Uq=!0;
if(G!=1)alert("File scaled down "+G+"x")};dZ.G7=function(z,J,p,n,B,c,t){var u=dZ,f=!1,Q,S=!1,R,I;J=a.G(J);
var v=z.overrideKey?z.overrideKey:z.guid;for(var g=0;g<J.length;g++){var A=J[g],$=A.guidPath.guids;if(u.aK7($[0],v)){if($.length==1){var X={};
for(var U in z)X[U]=A[U]!=null?A[U]:z[U];z=X}else A.guidPath.guids=$.slice(1)}}var w=z.type,P=z.children,k=z.size,T=z.effects,Z=B.JG();
Z.HV(z.name);Z.Rz(z.visible);Z.YF=Math.round(z.opacity*255);var i=u.X9(z.transform),V=i.P();V.concat(p);
if(k==null)k={x:0,y:0};var _=new fw(Math.round(V.Rf),Math.round(V.Sm),Math.round(k.x*V.Nz()),Math.round(k.y*V.Nz()));
if(_.r==0||isNaN(_.r))_.r=100;if(_.$==0||isNaN(_.$))_.$=100;var y=z.fillPaints,E=z.inheritFillStyleID;
if(E){var X=u.Vu(t.fx,E);if(X)y=X.fillPaints}if(y==null)y=[];var y=u.azY(y),F=y[0];if(F&&F.type=="IMAGE"&&u.dT(n,dZ.vT(F),t,!0)==null)F=null;
var d=z.strokePaints,E=z.inheritFillStyleIDForStroke;if(E){var X=u.Vu(t.fx,E);if(X)d=X.fillPaints}if(d==null)d=[];
var d=u.azY(d),x="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(w)!=-1;
if(x||w=="FRAME"||w=="INSTANCE"){Q=new bi.jP;u.aoi(z,n,Q);f=a.z.Jr(Q.u);a.z.Gn(Q.u,V);var m=a.b.$M(a.z.nd(Q.u));
if(!m.Sz())_=m;if(t.Rl.j9&&F){var H=bi.jP.Ox(t.Rl.j9.u);for(var g=2;g<H.length;g++)if(H[g].j1!=null)H[g].j1=3;
Q.u=Q.u.concat(H.slice(2))}}if(F&&F.type=="IMAGE"){I=F.imageScaleMode;S=!0;var D=F.originalImageWidth,G=F.originalImageHeight;
if(D*G==0){var C=u.dT(n,dZ.vT(F),t);D=C.eE.r;G=C.eE.$}var O=D/G,Y=k.x/k.y;R=Math.abs(O-Y)}if(w=="FRAME"){}else if(x&&f&&S&&(I=="FIT"||I=="FILL"&&R<=.05||I=="STRETCH"&&R<=.05)){var h=u.dT(n,dZ.vT(F),t,!0),r=B.aZ(h,Z.getName(),0,0);
r.a3=Z.a3;r.YF=Z.YF;Z=r;var W=new fw(0,0,k.x,k.y);if(I=="FIT"){var N=F.originalImageWidth,o=F.originalImageHeight,K=Math.min(k.x/N,k.y/o),l=N*K,aV=o*K;
W=new fw(W.x+(W.r-l)/2,W.y+(W.$-aV)/2,l,aV)}var j=a.b.e3(W).L;a.b.h(j,V,j);Z.add.SoLd.Trnf=L.tp.ey(j);
Z.add.SoLd.nonAffineTransform=L.tp.ey(j);var M=[],T=z.effects,s=F.paintFilter;if(T)for(var g=0;g<T.length;
g++)if(T[g].type=="FOREGROUND_BLUR"){var l2=T[g],gm=em.gd("GsnB",{});M.push(gm);gm.v.enab.v=l2.visible;
gm.v.Fltr.v.Rds.v.val=l2.radius/2.4}if(s&&s.exposure!=0){var gm=em.gd("brit",{});M.push(gm);gm.v.Fltr.v.Brgh.v=Math.round(s.exposure*160);
gm.v.Fltr.v.useLegacy.v=!0}if(s&&s.vibrance!=0){var gm=em.gd("vibA",{});M.push(gm);gm.v.Fltr.v.Strt.v=Math.round(Math.round(s.vibrance*100))}if(M.length!=0){Z.add.SoLd.filterFX=em.Mn();
B.p0({id:Z.add.SoLd.placed.v,S:new fw,buffer:a.j(1),T4:new bi.L7});Z.add.SoLd.filterFX.v.filterFXList.v=M}Z.m8(B,!1);
u.an2(t,Z,B)}else if(x){u.SK(Z,Q,z,F,d,V,_,n,B,t);if(T)for(var g=0;g<T.length;g++){var l2=T[g];if(l2.type!="FOREGROUND_BLUR")continue;
Q.cc=l2.radius/2.4}Z.cC();Z.k3(B)}else if(w=="TEXT"){var iz=z.textData,dC=iz.layoutSize;if(dC==null)dC=z.size;
var dL=["LEFT","RIGHT","CENTER"].indexOf(z.textAlignHorizontal);if(dL==-1)dL=0;Z.add.lnsr="rend";Z.add.TySh=dN.gI(0,0);
Z.add.TySh.M6=new fw(0,0,100,100);var cP=V.P();Z.add.TySh.h=cP;var id=Z.add.TySh.qU,jR=iz.characters;
if(z.textCase=="TITLE"){for(var g=0;g<jR.length;g++)if(g==0||jR[g-1]==" "){var hC=jR.slice(0,g),eJ=jR.slice(g+1);
jR=hC+jR[g].toUpperCase()+eJ}}jR=jR.replace(/\u2028/g,"\n");jR=jR.replace(/\u2029/g,"\n");jR=jR.replace(/\r\n/g," \n");
dN.tJ(id,0,jR);var el=z.textAutoResize,eu=iz.baselines;if(el=="WIDTH_AND_HEIGHT"){var jY=dL==0?0:dL==1?dC.x:dC.x/2,fN=eu?eu[0].position.y:z.fontSize;
cP.translate(jY*V.Nz(),fN*V.Nz());dN.NA(id,0)}else if(el=="HEIGHT"||el=="NONE"||el==null){var fN=eu?eu[0].position.y-z.fontSize*.7:0;
cP.translate(0,fN*V.Nz());dN.NA(id,1);dN.h4(id,[0,0,Math.round(dC.x),Math.round((el=="NONE"?1.8:1)*dC.y)])}else throw el;
if(jR!=""){var jC=dN.cj(id,0,1);u.a13(z,V,k,jC,Z,n,B,t);dN.CG(id,0,jR.length,jC);var kF=iz.characterStyleIDs,i6=iz.styleOverrideTable;
if(kF){kF=kF.slice(0);for(var g=0;g<kF.length;g++)if(jR[g]=="\n")kF[g]=-g-1;var kT=[0],kY=0,h9=0;for(var g=0;
g<kF.length;g++){h9++;var bG=kF[g];if(g==0||bG==kF[g-1]){}else{kT.push(h9-1,g);h9=1}}kT.push(h9);for(var g=0;
g<kT.length;g+=2){var dQ=kT[g],jn=kT[g+1];if(jR[dQ]=="\n")continue;var bG=kF[dQ];if(bG!=0){var b1;for(var c8=0;
c8<i6.length;c8++)if(i6[c8].styleID==bG)b1=i6[c8];var jC=dN.cj(id,dQ,dQ+1);u.a13(b1,V,k,jC,Z,n,B,t);
dN.CG(id,dQ,dQ+jn-1,jC)}}}}}else if(w=="SYMBOL"){}else if(w=="INSTANCE"&&z.symbolData){var j_=z.symbolData,fQ=j_.symbolOverrides,X=u.Vu(t.fx,j_.symbolID);
if(X)P=X.children;else console.log(z.name,"symbol not found",j_.symbolID);J=J.slice(0);for(var g=0;g<fQ.length;
g++)J.push(fQ[g])}else console.log(w);if(!1){}else if(P&&!x){B.U.push(B.eH());var cM=!1,jK=c==0&&w!="SYMBOL"&&w!="INSTANCE";
if(jK){if(_.Sz())console.log(_);Z.Uu(_)}F=y[y.length-1];if(F&&F.type=="IMAGE"&&u.dT(n,dZ.vT(F),t,!0)==null)F=null;
if(jK&&F&&F.type=="SOLID"){var aw=F.color;Z.add.artb.artboardBackgroundType.v=4;Z.add.artb.Clr=u.zO(aw)}else if((F||d[0])&&Q){var ez=B.JG();
ez.HV("Background");u.SK(ez,Q,z,F,d,V,_,n,B,t);ez.cC();ez.k3(B);B.U.push(ez);cM=!0}P.sort(u.au8);var g4=t.Rl;
t.Rl={};for(var ht=0;ht<P.length;ht++)u.G7(P[ht],J,V,n,B,c+1,t);t.Rl=g4;Z.add.lsct=!1?cp.xj:cp.mD;Z.QN="pass";
var gx=Z.LE();Z.a3=24;Z.Rz(gx);var kE=c!=0&&y.length!=0&&!z.frameMaskDisabled&&z.containerSupportsFillStrokeAndCorners;
if(!cM&&kE&&Q){Z.add.vmsk=Q;Z.cC();Z.k3(B)}else u.an2(t,Z,B);B.U.push(Z)}else if(w=="FRAME"&&F&&Q){u.SK(Z,Q,z,F,d,V,_,n,B,t);
Z.cC();Z.k3(B);B.U.push(Z)}else if(z.mask){if(Q){t.Rl.j9=Q}}else{var kS=[],df=1;if(T)for(var h7=0;h7<T.length;
h7++){var l2=T[h7],b7=l2.color,i7=l2.type,fp=["DROP_SHADOW","INNER_SHADOW"].indexOf(i7);if(fp!=-1){var jB=["DrSh","IrSh"][fp],fB=JSON.parse(a_.ef[a_.order.indexOf(jB)]);
kS.push([jB,fB]);fB.enab.v=l2.visible;fB.Md.v.BlnM=jM.oa(u.aoQ(l2.blendMode));fB.Opct.v.val=Math.round(100*b7.a);
fB.blur.v.val=Math.round(l2.radius*V.Nz());fB.Clr=u.zO(b7);var jY=l2.offset.x,fN=l2.offset.y;fB.uglg.v=!1;
fB.lagl.v.val=Math.round(180/Math.PI*Math.atan2(fN,-jY));fB.Dstn.v.val=Math.round(Math.sqrt(jY*jY+fN*fN)*V.Nz())}}if(w=="TEXT"&&y[0]&&y[0].type!="SOLID")df=0;
for(var g=df;g<y.length;g++){var dt=y[g],g5=u.Hl(z,dt,V,_,n,B,t);if(g5[0]=="GdFl")kS.push(["GrFl",g5[1]]);
else if(g5[0]=="SoCo")kS.push(["SoFi",g5[1]]);else if(g5[0]=="PtFl")kS.push(["patternFill",g5[1]]);else if(g5[0]=="None"){}else throw g5}if(!x)for(var g=0;
g<d.length;g++){var dt=d[g],g5=u.Hl(z,dt,V,_,n,B,t);if(g5[0]=="SoCo"){var fB=JSON.parse(a_.ef[a_.order.indexOf("FrFX")]);
kS.push(["FrFX",fB]);fB.enab=g5[1].enab;fB.Opct=g5[1].Opct;fB.Md=g5[1].Md;fB.Clr=g5[1].Clr;fB.Sz.v.val=Math.round(z.strokeWeight);
var bR=z.strokeAlign;if(bR)fB.Styl.v.FStl=a_.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(bR)]}}if(kS.length!=0){var h$=JSON.parse(a_.default);
for(var g=0;g<a_.order.length;g++)h$[a_.in[g]]={t:"VlLs",v:[]};for(var g=0;g<kS.length;g++){var ih=kS[g],jB=a_.in[a_.order.indexOf(ih[0])];
h$[jB].v.unshift({t:"Objc",v:ih[1]})}if(P==null)Z.add.lmfx=h$}B.U.push(Z)}};dZ.SK=function(z,J,p,n,B,c,t,u,v,A){var $=dZ;
z.a3|=16;z.add.vmsk=J;var X=z.add.vstk=a_.jM.J0(),U=$.Hl(p,n,c,t,u,v,A);X.fillEnabled.v=U[0]!="None";
if(U[0]=="None"){z.add.SoCo=U[1]}else{$.f1(U,z);z.add[U[0]]=U[1]}var U=$.Hl(p,B[0],c,t,u,v,A);if(U[0]!="None"){var X=z.add.vstk;
X.strokeEnabled.v=!0;X.strokeStyleLineWidth.v.val=p.strokeWeight*c.Nz();X.strokeStyleLineAlignment.v.strokeStyleLineAlignment=a_.jM.ER[["INSIDE","CENTER","OUTSIDE"].indexOf(p.strokeAlign)];
var w={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[U[0]],P=["SoFi","GrFl","patternFill"].indexOf(w),k=[a_.Sx,a_.ik,a_.ry][P];
X.strokeStyleContent.v={classID:a_.jM.Sp[0]};var T=p.dashPattern;if(T)X.strokeStyleLineDashSet.v=ju.Zi(T,1/p.strokeWeight);
var Z=X.strokeStyleContent.v={classID:a_.jM.Sp[P]};for(var g=0;g<k.length;g++)Z[k[g]]=U[1][k[g]];if(!X.fillEnabled.v)$.f1(U,z)}};
dZ.f1=function(z,J){var p=z[1].Opct.v.val;if(p!=100)J.YF=Math.round(J.YF/255*(p/100)*255)};dZ.au8=function(z,J){var p=z.parentIndex.position,n=J.parentIndex.position;
return p>n?1:-1};dZ.azY=function(z){for(var g=1;g<z.length;g++){var J=z[g];if(J.type=="IMAGE"&&J.opacity==1){z=z.slice(g);
break}}for(var g=0;g<z.length;g++){var J=z[g],p=J.imageThumbnail,n=J.type=="IMAGE";if(n&&(J.image==null||J.image.dataBlob==null)&&p&&p.dataBlob)J.image=p;
if(!J.visible||n&&J.image==null){z.splice(g,1);g--}}return z};dZ.an2=function(z,J,p){if(z.Rl.j9){J.add.vmsk=z.Rl.j9.P();
J.cC();J.k3(p)}};dZ.a13=function(z,J,p,n,B,c,t,u){var v=z.fontSize,A=z.lineHeight,$=z.fontName,X=z.textAlignHorizontal,U=z.textTracking,w=z.textCase,P=z.textDecoration;
if(v==null)v=n.uA.FontSize;if($){var k=$.postscript;if(k==""){var T=$.family,Z=$.style;k=T.split(" ").join("")+"-"+Z}dN.Qp(n,k)}if(v!=null)n.uA.FontSize=Math.round(v);
if(P=="UNDERLINE")n.uA.Underline=!0;if(U)n.uA.Tracking=Math.round(U*1e3);if(w)n.uA.FontCaps=w=="UPPER"?2:0;
if(A&&(A.units!="PERCENT"||A.value!=100)){if(v==null)v=15;var i=A.value;if(A.units=="PERCENT")i=1*v*i/100;
if(A.units=="RAW")i=1*v*i;n.uA.AutoLeading=!1;n.uA.Leading=Math.round(i)}if(X)n.gC.Justification=["LEFT","RIGHT","CENTER"].indexOf(X);
var V=z.fillPaints,_=z.inheritFillStyleID;if(_){var y=dZ.Vu(u.fx,_);if(y)V=y.fillPaints}if(V&&V[0]){var E=dZ.Hl(z,V[0],J,p,c,t,u);
if(E[0]=="SoCo"){var F=a.Wi.Um(E[1].Clr.v);n.uA.FillColor={Type:1,Values:[1,F.o/255,F.k/255,F.X/255]};
dZ.f1(E,B)}}};dZ.Hl=function(z,J,p,n,B,c,t){var u=dZ,v,A,$=z.size;if($==null)$={x:0,y:0};if(J){var X=J.type,U=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(X);
if(X=="SOLID"){v="SoCo";var w=J.color;A=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);A.Clr=u.zO(w)}else if(X=="PATTERN"){v="SoCo";
var w=J.color;A=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);console.log(X)}else if(U!=-1){var P=JSON.parse(a_.ef[a_.order.indexOf("GrFl")]),k=P.Grad.v;
k.Intr.v=0;P.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][U];var T=[],Z=J.stops;for(var g=0;g<Z.length;g++){var i=Z[g],V=i.color;
T.push([i.position,[V.r,V.g,V.b],V.a])}a.Wi.Sy(T,k);var _=u.X9(J.transform);_.oU();var y=_.P();if($)y.scale($.x,$.y);
y.concat(p);var E=new i_(0,.5),F=new i_(1,.5);E=y.g$(E);F=y.g$(F);if(!0){E.x=F.x+.5*(E.x-F.x);E.y=F.y+.5*(E.y-F.y)}a.Wi.aN(E,F,n,P);
if(U==3){if(y.k6*y.JH-y.X*y.GQ<0)P.Rvrs.v=!P.Rvrs.v}v="GdFl";A=P}else if(X=="IMAGE"){var P=JSON.parse(a_.ef[a_.order.indexOf("patternFill")]),_=u.X9(J.transform);
_.oU();var d=dZ.vT(J),x=t.am1[d];if(x==null){var f=u.dT(B,d,t);if(f==null)f={data:a.j(4),eE:new fw(0,0,1,1)};
x=t.am1[d]={};x.id=b$.rR()+"-d71c-11e5-b1ae-a548a96e5f9f";x.kR=[new Uint8Array(f.data),f.eE];if(_.k6<0){var Q=x.kR[0].slice(0);
a.F.cx(Q,x.kR[0],f.eE.r,f.eE.$)}x.name="someImage";c.KX(x)}if(_.k6<0)_.k6=-_.k6;var m=["FILL","FIT","STRETCH","TILE"].indexOf(J.imageScaleMode),H=m==3?J.scale:1;
ju.apk(x,P,$.x,$.y,m,p,_,H);v="PtFl";A=P}else if(X=="VIDEO"){v="SoCo";A=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);
A.Clr=u.zO({r:255,g:0,b:255})}else throw X;if(A)A.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(J.opacity*100)}}}if(v==null||J.opacity<.001){v="None";
A={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:0,k:0,X:0})}}}return[v,A]};dZ.vT=function(z){var J=z.image,p=J.dataBlob;
if(p==null){p="";for(var g=0;g<20;g++)p+=J.hash[g].toString(16).padStart(2,"0")}return p};dZ.dT=function(z,J,p,n){if(z[J]){var B=z[J];
if(n)return B.bytes;if(B.rslt)return B.rslt;var c=B.bytes.buffer;B.rslt=dZ.alq(c);return B.rslt}else{if(p.qQ==null)return null;
if(n)return p.qQ["images/"+J];var t=p.qQ["images/"+J];if(t==null)return null;var c=t.buffer;if(p.qQ["images/-"+J])return p.qQ["images/-"+J];
p.qQ["images/-"+J]=dZ.alq(c);return p.qQ["images/-"+J]}};dZ.alq=function(z){var J=kL.yd(z);if(J=="fpng")J="png";
var p=kL.V5(J);try{var n=p.uj(z)[0];if(n.depth==16){n.depth=8;n.data=a.hg(new Uint16Array(n.data),8).buffer}return n}catch(l5){return{data:a.j(4),eE:new fw(0,0,1,1)}}};
dZ.aoi=function(z,J,p){var n=z.type,B=z.size,c=z.cornerRadius,A;if(c==null)c=0;var t=B.x,u=B.y,v=[c,c,c,c],$=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var g=0;g<4;g++)if(z[$[g]]!=null)v[g]=z[$[g]];if(n=="RECTANGLE"||n=="ROUNDED_RECTANGLE"||n=="FRAME"||n=="INSTANCE"){A=a.z.dZ.Rect(0,0,t,u,v)}else if(n=="ELLIPSE"){var X=z.arcData,U=X?X.startingAngle:0,w=X?X.endingAngle:2*Math.PI,P=X?X.innerRadius:0;
if(U==0&&w>1.999*Math.PI)A=a.z.dZ.xJ(0,0,t,u,0);else A=a.z.dZ.a3v(t/2,u/2,u/2,U,w);if(P!=0&&P!=1){var k=bi.jP.Ox(A).slice(3);
k.reverse();for(var g=0;g<k.length;g++){var T=k[g],Z=T.FV;T.FV=T.M3;T.M3=Z}var i=new fA;i.translate(-t/2,-u/2);
i.scale(P,P);i.translate(t/2,u/2);a.z.Gn(k,i);A=A.concat(k);A[2].length*=2}}else if(n=="LINE"){A=a.z.dZ.Rect(0,0,t,u,0);
A.pop();A.pop();A[2].length=2}else if(n=="STAR"){A=a.z.dZ.aoN(t/2,u/2,t/2,2*Math.PI*(1/4),5,0,z.starInnerScale)}else if(n=="REGULAR_POLYGON"){A=a.z.dZ.SX(.5,.5,.5,Math.PI/2,z.count,0);
var V=new fA;V.scale(t,u);a.z.Gn(A,V)}else if(n=="BOOLEAN_OPERATION"){A=[{I:6},{I:8,all:0}];var _=z.children,y=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(z.booleanOperation);
if(y==-1)throw z;if(_==null)_=[];for(var g=0;g<_.length;g++){var E=_[g],F=new bi.jP,d=dZ.aoi(E,J,F);
if(F.u==null)continue;a.z.Gn(F.u,dZ.X9(E.transform));A=A.concat(F.u.slice(2))}for(var g=3;g<A.length;
g++)if(A[g].j1!=null)A[g].j1=y}else if(n=="VECTOR"){var x,f,Y=3;if(!0){var Q=z.vectorData;if(Q==null)return;
x=Q.normalizedSize;f=Q.vectorNetworkBlob}var m=J[f].bytes,H=new Uint32Array(m.buffer),S=new Float32Array(m.buffer),R=H[0],I=H[1],D=H[2],G=[],C=[],O=[],h=Y+R*3,r=h+I*7;
for(var g=0;g<R;g++){var W=Y+g*3;if(Math.abs(S[W+0])>1e-7)throw"e";G.push(new i_(S[W+1],S[W+2]))}for(var g=0;
g<I;g++){var N=h+g*7;C.push([H[N+0],H[N+1],S[N+2],S[N+3],H[N+4],S[N+5],S[N+6]])}for(var g=0;g<D;g++){var o=H[r+1],K=O[g]=[];
r+=2;for(var l=0;l<o;l++){var aV=H[r++],j=K[l]=[];for(var M=0;M<aV;M++)j[M]=H[r+M];r+=aV}}if(r!=H.length&&r!=H.length-1)throw"e";
if(O.length==0&&C.length!=0){var s=new Uint8Array(G.length),l2=new Uint8Array(G.length),gm=-1;for(var g=0;
g<C.length;g++){var iz=C[g];s[iz[1]]++;s[iz[4]]++;l2[iz[1]]=1}for(var g=0;g<G.length;g++){if(s[g]==1&&l2[g]==1){gm=g;
break}}if(gm!=-1)for(var g=0;g<C.length;g++){if(C[g][1]==gm){var Z=C[0];C[0]=C[g];C[g]=Z;break}}var dC=C[0][4];
for(var g=1;g<C.length;g++){var dL=-1;for(var l=g;l<C.length;l++)if(C[l][4]==dC)dL=l;for(var l=g;l<C.length;
l++)if(C[l][1]==dC)dL=l;if(dL!=-1){var cP=0,Z=C[dL];C[dL]=C[g];C[g]=Z;if(Z[1]!=dC){cP=Z[1];Z[1]=Z[4];
Z[4]=cP;cP=Z[2];Z[2]=Z[5];Z[5]=cP;cP=Z[3];Z[3]=Z[6];Z[6]=cP}}dC=C[g][4]}O.push([[]]);for(var g=0;g<C.length;
g++)O[0][0].push(g)}var id=[],jR=[];for(var hC=0;hC<O.length;hC++){for(var eJ=0;eJ<O[hC].length;eJ++){var el=O[hC][eJ],eu=0;
if(el.length>1){var jY=C[el[0]],fN=C[el[1]];eu=jY[4]==fN[1]?1:0}for(var g=0;g<el.length;g++){var jC=C[el[g]],kF=1,i6=4;
if(eu==0){kF=4;i6=1}var kT=G[jC[kF]],kY=G[jC[i6]];if(g==0){jR.push("M");id.push(kT.x,kT.y)}jR.push("C");
id.push(kT.x+jC[kF+1],kT.y+jC[kF+2],kY.x+jC[i6+1],kY.y+jC[i6+2],kY.x,kY.y)}}}A=a.b.nK({L:id,Ao:jR},!1);
if(c!=0){var v=[],h9=A[2].length;for(var g=0;g<h9;g++)v.push(c);if(a.z.R3(A))a.z.EH(A,2,v)}var bG=new fA;
bG.scale(x.x==0?1:B.x/x.x,x.y==0?1:B.y/x.y);a.z.Gn(A,bG)}p.u=A};dZ.Vu=function(z,J){return z[J.sessionID+","+J.localID]};
dZ.aK7=function(z,J){return z.sessionID==J.sessionID&&z.localID==J.localID};dZ.aoQ=function(z){var J={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",LINEAR_DODGE:"lddg",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[z];
if(J==null)throw z;return J};dZ.zO=function(z){return{t:"Objc",v:a.Wi.yR({o:z.r*255,k:z.g*255,X:z.b*255})}};
dZ.X9=function(z){if(z==null)return new fA;var J=[z.m00,z.m10,z.m01,z.m11,z.m02,z.m12];for(var g=0;g<6;
g++)if(Math.abs(J[g])<1e-20)J[g]=0;return new fA(J[0],J[1],J[2],J[3],J[4],J[5])};function jO(){}jO.yi=function(){var z=e.RM;
function J(w,P,k,T){var Z=T?[]:{};while(P<w.length-1&&w[P]!=125){var i=z(w,P,3),V=z(w,P+3,1),_;P+=4;
P++;if(V=="v"){var y=J(w,P,k+1,i=="ELM"||i=="TIL"||i=="TFS");_=y.K;P=y.p}else if(V=="i"||V=="f"){var E=P;
while(w[E]!=125)E++;var F=z(w,P,E-P);_=V=="i"?parseInt(F,16):parseFloat(F);P=E+1}else if(V=="s"){var d=e.Bq(w,P),F="";
P+=2;for(var g=0;g<d;g++)F+=String.fromCharCode(w[P+2*g+1]);_=F;P=P+2*d+1}else if(V=="b"){_=w[P]==49;
P=P+2}else throw"e";if(T)Z.push([i,_]);else if(Z[i]==null)Z[i]=_;else{if(!(Z[i]instanceof Array))Z[i]=[Z[i]];
Z[i].push(_)}}P++;return{K:Z,p:P}}function p(w,P){var k=n(w).slice(1),w=P.Clr.v;w.Rd.v=k[0]*255;w.Grn.v=k[1]*255;
w.Bl.v=k[2]*255}function n(w){return[(w>>>24&255)/255,(w>>>16&255)/255,(w>>>8&255)/255,(w>>>0&255)/255]}function B(w,P){var k=P&4278190080|(P&255)<<16|(P>>>8&255)<<8|P>>>16&255;
a.dz(w,k)}function c(w,P){var k=w.TSZ,T=w.WPX,Z=w.HPX,i=w.TIL,V=new fw(0,0,T,Z),_=a.j(T*Z*4),y=0;for(var E=0;
E<Z;E+=k)for(var F=0;F<T;F+=k){var d=new fw(F,E,k,k),x,f=i[y];if(f[0]=="TMC"){x=a.j(d.C()*4);B(x,f[1])}else if(f[0]=="TID"){x=P[f[1]]}a.nk(x,d,_,V);
y++}return[_,V]}function t(w,P){w=new Uint8Array(w);var k=8,T,Z={},I=0;while(k<w.length){var i=e.fy(w,k);
k+=4;var V=z(w,k,4);k+=4;if(V=="mkTS"){var _=pako.inflate(w.slice(k,k+i)),y=J(_,0,0);T=y.K}else if(V=="mkBT"){var E=e.fy(w,k+4),F=e.fy(w,k+8),_=pako.inflate(w.slice(k+76,k+i));
if(F==0)for(var g=0;g<_.length;g+=4){var d=_[g],x=_[g+1],f=_[g+2],Q=_[g+3];_[g+3]=d;_[g+2]=Q;_[g+1]=f;
_[g]=x}else{var m=a.j(_.length*4);m.fill(255);a.eG(_,m);_=m}Z[E]=_}k+=i+4}var H=T.PDC,S=H?H instanceof Array?H:[H]:[T.MKB],R=new fw;
for(var g=0;g<S.length;g++){var D=S[g];R=R.KQ(new fw(0,I,D.WID,D.HIT));I+=D.HIT+100}P.r=R.r;P.$=R.$;
P.buffer=a.j(R.C()*4);P.Gd(S.length);I=0;for(var G=0;G<S.length;G++){P.U.push(P.eH());var D=S[G],C=D.WID,O=D.HIT,Y=D.BGC,h=(D.LYL?D:T).LYL.LAY,N=3;
for(var g=0;g<h.length;g++)v(h[g],P,null,Z,new fA(1,0,0,1,-D.XLC,-D.YLC+I));var r=P.JG();P.U.push(r);
var W=new fw(0,I,C,O);I+=O+100;r.Uu(W);if(Y>>>24!=0){var o=a.Wi.yR({o:Y>>>16&255,k:Y>>>8&255,X:Y>>>0&255});
r.add.artb.Clr={t:"Objc",v:o};N=4}r.add.artb.artboardBackgroundType.v=N;r.HV(D.PGN?D.PGN:"Page "+(G+1));
r.add.lsct=cp.mD;r.QN="pass";r.a3=24}}function u(w,P,k){var T=w[P];return T instanceof Array?T[k]:T}function v(w,P,k,T,Z){var i=P.JG();
if(w.VIS!=null)i.Rz(w.VIS);if(w.VIF!=null)i.Rz(w.VIF.VIS);if(w.OPA!=null)i.YF=Math.round(255*w.OPA/1e3);
i.QN=w.CLL||k=="GRP"?"pass":"norm";if(w.BLD!=null){var V=w.BLD,_={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[V+""];
if(_==null)console.log(w.OBN,V);else i.QN=_;if(V==30)i.YF>>>=1}if(w.CLL){i.HV(w.LNM);P.U.push(P.eH());
var y=w.CLL.CEL;if(y.length==null)y=[y];for(var E=y.length-1;E>=0;E--){var F=y[E].ELM;for(var g=F.length-1;
g>=0;g--)v(F[g][1],P,F[g][0],T,Z)}i.add.lsct=w.DIS?cp.xj:cp.mD;i.a3|=24}else if(k=="GRP"){var d=i.add.lmfx=$(w.EFL),x;
P.U.push(P.eH());var F=w.ELM,f=w.MRM;if(w.MNA){x=F[0][1];F=F.slice(1)}i.HV("Group: "+F.length+" objects");
for(var g=F.length-1;g>=0;g--)v(F[g][1],P,F[g][0],T,Z);if(x){if(w.MRX){var Q=c(x,T),m=i.T4=new bi.L7;
m.S=Q[1].P();m.S.x=x.XLC;m.S.y=x.YLC+Z.Sm;m.N=a.j(m.S.C());a.Tm(Q[0],m.N,0);a.oU(m.N)}else{A(i,x,Z);
i.cC();i.k3(P)}}if(f){A(i,f.PTH,Z);i.cC();i.k3(P)}i.add.lsct=cp.mD;i.a3|=24}else if(k=="IMG"){i.HV(w.OBN?w.OBN:"Bitmap");
var Q=c(w,T);i.S=Q[1].P();i.S.x=w.XLC;i.S.y=w.YLC+Z.Sm;i.buffer=Q[0]}else if(k=="TXT"){var H=w.TFS,G="";
i.add.lnsr="rend";i.add.TySh=dN.gI(0,0);i.add.TySh.M6=new fw(0,0,100,100);var S=new fA(1,0,0,1,w.LFT,w.TOP);
if(w.MTX){var R=w.MTX,m=new fA(R.M00,R.M01,R.M10,R.M11,R.M20,R.M21);S.concat(m)}S.concat(Z);i.add.TySh.h=S;
var I=i.add.TySh.qU,D=dN.cj(I,0,0),C=u(w,"FON");if(C)dN.Qp(D,C);var O=u(w,"PTS");if(O)D.uA.FontSize=Math.round(O);
var Y=u(w,"ITL");if(Y)D.uA.FauxItalic=Y;if(w.PAT)D.uA.FillColor={Type:1,Values:n(u(w.PAT,"FCL"))};for(var g=0;
g<H.length;g++){var h=H[g][0],r=H[g][1];if(h=="TRN"){r=r.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
r=r.replaceAll("\x03","\n").replaceAll("\r","\n");dN.tJ(I,G.length,r);dN.CG(I,G.length,G.length+r.length,D);
G+=r}else if(h=="FON")dN.Qp(D,r);else if(h=="PTS")D.uA.FontSize=Math.round(r);else if(h=="ITL")D.uA.FauxItalic=r;
else if(h=="UND")D.uA.Underline=r;else if(h=="FCL")D.uA.FillColor={Type:1,Values:n(r)};else if(h=="LED"){D.uA.Leading=r*D.uA.FontSize;
D.uA.AutoLeading=!1}else if(h=="JST")D.gC.Justification=[0,2,1,3,5,4,6,7,8][r]}i.HV(G.slice(0,255));
var W=w.RIT-w.LFT,N=w.BOT-w.TOP;if(w.IMG){v(w.IMG,P,"IMG",T,Z);var K=P.U.pop();i.buffer=K.buffer;i.S=K.S.P()}dN.NA(I,1);
dN.h4(I,[0,0,W,N])}else if(k=="PTH"){i.HV(w.OBN?w.OBN:"Path");i.a3|=16;var l=!1;A(i,w,Z);var aV=i.add.vmsk,j=i.add.vstk,M=a.z.nd(aV.u),s=w.PAT,l2=s.BPL,gm=s.FPL,iz=s.TXF;
if(gm&&gm.FEF)aV.cc+=gm.FEF/2.4;if(l2){var dC=l2.CAT;j.strokeEnabled.v=!0;j.strokeStyleLineWidth.v.val=l2.BDI;
j.strokeStyleLineAlignment.v.strokeStyleLineAlignment=a_.jM.ER[w.BRP];p(s.BCL,j.strokeStyleContent.v);
if(dC!="bc_Basic"&&dC!="bc_Pencil")l=!0}j.fillEnabled.v=gm!=null;if(gm==null){i.add.SoCo=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);
p(0,i.add.SoCo)}else if(gm.CAT=="fc_Solid"){i.add.SoCo=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);p(w.PAT.FCL,i.add.SoCo)}else if(gm.CAT=="fc_Linear"||gm.CAT=="fc_Circular"||gm.CAT=="fc_Elliptical"){var dL=gm.CAT=="fc_Linear",cP=i.add.GdFl=JSON.parse(a_.ef[a_.order.indexOf("GrFl")]),id=cP.Grad.v,jR=[],hC=gm.FGL,eJ,el=[];
if(hC.FGY){var eu=hC.FGY,eJ=eu.FG0.FGI,el=eu.FG1.FGI}else eJ=hC.FGV.FGI;for(var g=0;g<eJ.length;g++){var jY=eJ[g],fN=n(jY.FGC),jC=1;
if(el.length==eJ.length)jC=n(el[g].FGC)[0];jR.push([jY.FGP,fN.slice(1),jC])}cP.Type.v.GrdT=dL?"Lnr":"Rdl";
a.Wi.Sy(jR,id);id.Intr.v=0;var kF=w.PRI?w.PRI:w,i6=new i_(kF.PSX,kF.PSY),kT=new i_(kF.PEX,kF.PEY);if(gm.CAT=="fc_Elliptical"&&kF.PFX!=null){var kY=new i_(kF.PFX,kF.PFY),h9=i_.mT(i6,kT),bG=i_.mT(i6,kY);
if(bG<h9){var dQ=h9;h9=bG;bG=dQ}kT=new i_(i6.x+(h9+bG)/2,i6.y);if(h9/bG<.5)l=!0}if(dL){i6.x=(i6.x+kT.x)/2;
i6.y=(i6.y+kT.y)/2}a.Wi.aN(i6,kT,M,cP)}else console.log(gm.CAT);var d=i.add.lmfx=$(w.EFL,aV);if(gm&&gm.FTB!=0&&iz){var Q=c(iz.MSK,T),jn={};
jn.id=b$.rR()+"-d71c-11e5-b1ae-a548a96e5f9f";jn.name="someImage";jn.kR=Q;P.KX(jn);var b1=Q[0];for(var g=0;
g<b1.length;g+=4){b1[g+3]=255-b1[g];b1[g]=b1[g+1]=b1[g+2]=255}var cP=JSON.parse(a_.ef[a_.order.indexOf("patternFill")]);
cP.Opct.v.val=Math.round(gm.FTB/10);cP.Algn.v=!0;cP.Ptrn.v.Idnt.v=jn.id;d.patternFillMulti.v.unshift({t:"Objc",v:cP})}if(l&&w.IMG){v(w.IMG,P,"IMG",T,Z);
var c8=P.U[P.U.length-1];c8.YF=i.YF;return}i.cC();i.k3(P)}else if(k=="URL")return;else{console.log("unknown layer type",k,w);
i.HV("Layer")}P.U.push(i)}function A(w,P,k){if(P.PBL==null)return;var T=w.add.vmsk=new bi.jP,Z=w.add.vstk=a_.jM.J0(!0),i=P.PBL.PBP;
if(!(i instanceof Array))i=[i];for(var V=0;V<i.length;V++){var _=i[V].PBT;if(_==null)continue;if(!(_ instanceof Array))_=[_];
var y=i[V].ISC?0:3;T.u.push({I:y,length:_.length,j1:0,VR:2,RX:0,Zt:0});for(var g=0;g<_.length;g++){var E=_[g],F=E.XLC,d=E.YLC,x=[F,d,F,d,F,d],f="XPC YPC XLC YLC XSC YSC".split(" ");
for(var Q=0;Q<6;Q++){var m=f[Q],H=E[m];if(H!=null)x[Q]=H}T.u.push({I:y+2,cy:new i_(F,d),FV:new i_(x[0],x[1]),M3:new i_(x[4],x[5])})}}a.z.Gn(T.u,k)}function $(w,P){var k=JSON.parse(a_.default);
for(var g=0;g<a_.order.length;g++)k[a_.in[g]]={t:"VlLs",v:[]};if(w==null||w.EPS==null)return k;var T=w.EPS;
if(!(T instanceof Array))T=[T];for(var g=0;g<T.length;g++){var Z=T[g].DCE,i={};for(var V=0;V<Z.length;
V++)i[Z[V].DCK]=Z[V].DCV;if(i.EffectIsVisible=="false")continue;var _=i.mkbFile_WriteOnly_TemporaryEffectUiName;
if(_=="Gaussian Blur..."&&P){P.cc+=parseFloat(i.gaussian_blur_radius);continue}var y=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(_);
if(y==-1){continue}var E=["DrSh","ebbl","IrGl","OrGl"][y],F=a_.in[a_.order.indexOf(E)],d=JSON.parse(a_.ef[a_.order.indexOf(E)]);
k[F].v.unshift({t:"Objc",v:d});if(E=="DrSh"){d.uglg.v=!1;X(i,"ShadowDistance",d,"Dstn");X(i,"ShadowBlur",d,"blur");
X(i,"ShadowAngle",d,"lagl",180);d.Opct.v.val=100;U(i,"ShadowColor",d,"Clr")}if(E=="IrGl"){d.Md.v.BlnM="Nrml";
var x=i.MaskSoftness,f=i.GlowWidth;if(x&&f){x=parseInt(x);f=parseInt(f);d.blur.v.val=f+x;d.Ckmt.v.val=Math.round(100*f/(f+x))}X(i,"BevelContrast",d,"Opct");
U(i,"OuterBevelColor",d,"Clr")}if(E=="OrGl"){d.Md.v.BlnM="Nrml";var x=i.MaskSoftness,f=i.GlowWidth;if(x&&f){x=parseInt(x);
f=parseInt(f);d.blur.v.val=f+x}X(i,"BevelContrast",d,"Opct");U(i,"OuterBevelColor",d,"Clr")}if(E=="ebbl"){d.uglg.v=!1;
X(i,"BevelWidth",d,"blur");X(i,"AngleSoftness",d,"Sftn");X(i,"BevelContrast",d,"srgR");X(i,"LightAngle",d,"lagl")}}return k}function X(w,P,k,T,Z){var i=w[P];
if(Z==null)Z=0;if(i)k[T].v.val=parseInt(i)+Z}function U(w,P,k,T){var Z=w[P];if(Z){Z=Z.slice(1);if(Z.length==6)Z=Z+"ff";
if(Z.length!=8)throw"e";var i=n(parseInt(Z,16)),V=k[T].v;V.Rd.v=i[0]*255;V.Grn.v=i[1]*255;V.Bl.v=i[2]*255;
k.Opct.v.val=Math.round(k.Opct.v.val/100*i[3]*100)}}return t}();var gt=function(){function z(t){var u=new Uint8Array(t.length);
e.CR(u,0,t);return u}function J(t){var u=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",z("")],v=u.length,$=0;
u.push("<< /AIMetaData  "+(v+2)+" 0 R /AIPrivateData1 "+(v+3)+" 0 R  /AIPrivateData2 "+(v+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
u.push(z(""));u.push(z(""));u.push(t);var A=new fJ,X=[];function U(T){e.fn(A,$,T);$+=T.length}U("%PDF-1.5\n");
for(var g=0;g<u.length;g++){X.push($);U(g+1+" 0 obj\n");var w=u[g];if(typeof w=="string")U(u[g]+"\n");
else{var P=pako.deflate(w);U("<< /Length "+P.length+" /Filter [ /FlateDecode ] >>\nstream\n");A.FA($,P.length);
A.data.set(P,$);$+=P.length;U("\nendstream\n")}U("endobj\n")}var k=$;U("xref\n0 "+(X.length+1)+"\n0000000000 65535 f\r\n");
for(var g=0;g<X.length;g++)U((X[g]+"").padStart(10,"0")+" 00000 n\r\n");U("trailer\n<< /Root 1 0 R /Size "+(X.length+1)+" >>\nstartxref\n"+k+"\n%%EOF\n");
return A.data.slice(0,$)}function p(t,u){var v=Date.now(),A=new Uint8Array(t),$,X=A[2]==68;if(u)console.log(!X?"EPS":"PDF");
if(X){var U=e.ob(A,"/AIMetaData "),E,F,d;while(A[U]!=60)U--;U--;var w=e.ob(A,">>",U),P=e.RM(A,U+2,w-U-2).split("/"),k=[];
for(var g=0;g<P.length;g++){var T=P[g],Z=T.startsWith("AIPrivateData"),i=T.startsWith("AIPDFPrivateData");
if(!Z&&!i)continue;var V=T.trim().split(/\s+/),_=parseInt(V[1]),y=parseInt(V[0].slice(Z?13:16));k.push([y,_])}if(u)console.log("--- map made",Date.now()-v);
v=Date.now();while(!0){var x=FromPDF.indexOfXref(A),f=[],Q=FromPDF.readXrefTrail(A,x,f),m={buff:A,off:0},H=!1;
E=new Array(k.length);F=!1;d=!1;for(var g=0;g<k.length;g++){var y=k[g][0],_=k[g][1],D=0;if(f[_]==null){H=!0;
break}var S=FromPDF.getIndirect(_,0,m,f),R=S.buff,I=S["/Filter"];if(I!=null&&typeof I=="string")I=[I];
var G=e.RM(R,D,D+20);if(G=="%AI12_CompressedData"){D+=20;F=!0}else if(G=="%AI24_ZStandard_Data"){D+=20;
d=!0}R=new Uint8Array(R.buffer,R.byteOffset+D,R.length-D);if(I)for(var C=0;C<I.length;C++){var O=I[C];
if(O=="/FlateDecode")R=pako.inflate(R);else if(O=="/ASCIIHexDecode")R=FromPS.F.HexDecode({buff:R,off:0});
else if(O=="/ASCII85Decode")R=FromPS.F.ASCII85Decode({buff:R,off:0});else throw O}E[y-1]=R}if(H){console.log("extra xref after AI");
A=A.slice(0,x);continue}break}if(u)console.log("--- arrays found",Date.now()-v);v=Date.now();var Y=e.RM(E[0],0,13);
if(Y=="%%BoundingBox"||Y=="%AI7_Thumbnai")E=E.slice(1);if(Y=="%AI24_ZStanda"){E[0]=E[0].slice(20);d=!0}if(e.RM(E[0],0,13)=="%AI12_Compres"){E[0]=E[0].slice(20);
F=!0}$=n(E);if(u)console.log("--- concatenated",Date.now()-v);v=Date.now();if(F)$=UZIP.inflate($);if(d)$=kL.ox.B1($);
if(u)console.log("--- inflated",Date.now()-v);v=Date.now()}else{var h=e.A8(A);if(h.indexOf("%AI5_BeginLayer")!=-1||h.indexOf("%AI5_NumLayers")!=-1){$=A}else{var r=h.split(/[\n\r]+/),W=[],N=!1;
for(var o=0;o<r.length;o++){var K=r[o].trim();if(K=="%AI9_PrivateDataEnd"){N=!1;break}else if(K=="%AI9_DataStream"||K=="%AI24_DataStream"){N=!0}else if(N)W.push(K.slice(1))}var l=e.Hu(W.join("")),aV=FromPS.F.ASCII85Decode({buff:l,off:0});
if(aV[0]==120&&aV[1]==156)$=UZIP.inflate(aV);else $=kL.ox.B1(aV)}}return $}function n(t){var u=0,A=0;
for(var g=0;g<t.length;g++)u+=t[g].length;var v=new Uint8Array(u);for(var g=0;g<t.length;g++){var $=t[g];
v.set($,A);A+=$.length}return v}function B(t){var u=0,v=[];while(u<t.length){var A=t[u],$=A.charCodeAt(0);
if(A==" ")u++;else if(A==","||A==";"||A==":"){v.push(A);u++;var X=v[v.length-2];if(X=="/ASCII85Decode"){var U=u+1;
while(t[U]!="~"||t[U+1]!=">")U++;U+=2;var w=t.slice(u,U),P=FromPS.F.ASCII85Decode({off:0,buff:e.Hu(w)});
v.push(P);u=U}if(X=="/StrokeStyle"||X=="/FillStyle"||X=="/BlendStyle"||X=="/SimpleStyle"||X=="/SmoothShadingStyle"){var U=u+1;
while(t[U]!=";")U++;v.pop();v.pop();v.push(t.slice(u,U));v.push("/String");u=U+1}}else if(A=="("){var U=u+1;
while(!(t[U]==")"&&(t[U-1]!="\\"||t[U-2]=="\\")))U++;var k=t.slice(u+1,U);v.push(k);u=U+1}else if(A=="/"||A=="-"||48<=$&&$<=57){var U=u;
while(t[U]!=" ")U++;v.push(t.slice(u,U));u=U}else if(A=="X"&&t[u+1]=="="){var U=u,T=0;while(!0){if(t[U]=="X"&&t[U+1]=="="){T++}if(t[U]=="X"&&t[U+1]=="+"&&t[U+2]==" "){T--;
if(T==0)break}U++}v.push(t.slice(u+3,U));v.push("/String");u=U+2}else{console.log(v);console.log(t.slice(u-600,u+10));
throw A}}return v}function c(t){var u={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},v={},A=B(t.join(" ")),$=[],X=parseFloat;
while(A.length!=0){var U=A.shift();if(U=="/Recorded"||U=="/NotRecorded"){continue}else if(U=="/Dict"){$.pop();
var w=$.pop();$[$.length-1][U]=w}else if(U=="/Execution"){$.pop();var w=$.pop();$[$.length-1][U]=w}else if(U=="/Part"){$.pop();
var w=$.pop(),P=$[$.length-1];if(P[U]==null)P[U]=[];P[U].push(w);A.shift()}else if(U=="/Def"){$.pop();
var k=$.pop(),T=$[0];if(v[T]==null)v[T]=[];if(T=="/KnownStyle"){k={val:k};k[$.pop()]=$.pop()}$.pop();
v[T].push(k);A.shift()}else if(U==":"){var T=$.pop();if(T=="/Dictionary"||T=="/ArtDictionary"||T=="/XMLNode"||T=="/Mask"||T=="/ActiveStyle")$.push({});
else if(T=="/CompoundFilter"||T=="/BasicFilter"){$.push({typ:"Filter"})}else if(T=="/SVGFilter"||T=="/KnownStyle"){$.push(T)}else if(T=="/Array"||T=="/Document")$.push([]);
else if(T=="/Binary"){var Z=A.shift();if(Z!="/ASCII85Decode")throw"e";A.shift();$.push(A.shift())}else if(T=="/XMLUID"||T=="/XMLUIDREF"){A[1]=T}else if(T=="/GObjRef"){$.push(A.shift());
$.push("/String");A.shift();A.shift()}else{console.log($);console.log(A);throw T}if(A[0]=="/NotRecorded"){A.shift();
A.shift()}}else if(U==","){var i=$.pop(),T,V;if(i[0]=="/"&&i[1]==i[1].toUpperCase()&&i[1]!="\\"||i==";"){T=i;
i=null}else T=$.pop();if(T=="/Name"){$.push(T);continue}if(u[T]){V=$.slice($.length-u[T]);for(var g=0;
g<u[T];g++)$.pop();var _=$.pop();_[T]=V;$.push(_);continue}if(T=="/RealPoint"||T=="/RealPointRelToROrigin"){var y=$.pop();
V=[X($.pop()),X(y)]}else if(T=="/RealMatrix"){V=[];for(var g=0;g<6;g++)V.push(X($.pop()));V.reverse()}else if(T=="/String"&&typeof $[$.length-1]!="string")V="";
else{var top=$.pop();if(T==";")V=top;else if(T=="/String"||T=="/UnicodeString"||T=="/XMLUID"||T=="/XMLUIDREF"){V=top;
while(typeof $[$.length-1]=="string")V=$.pop()+V}else if(T=="/Int"||T=="/Real")V=X(top);else if(T=="/Bool")V=top=="1";
else throw JSON.stringify(T)}if($.length==0)throw"e";var _=$.pop();if(i==null&&!(_ instanceof Array)){alert("key is null in a Dict");
continue}if(i)_[i]=V;else _.push(V);$.push(_)}else $.push(U)}return $.length==0?v:$[0]}return{a9P:p,aJ7:J,ady:c}}();
function gr(){}gr.yi=function(){function z(Q,m,H){var S=!1,R=Date.now(),I=gt.a9P(Q,S);if(I==null)return;
if(S)console.log("part found",Date.now()-R);R=Date.now();var D=d(I);if(D.Layer==null)D.Layer=[{_begin:D.Setup._end,_end:I.length}];
var G=D.Layer,C=D.Header;if(S)console.log(D);var O=D.Setup.TextDocument,Y=G[0];Y=D.Layer[0];if(S)console.log("document parsed",Date.now()-R);
R=Date.now();D.Setup.Gradient=F(D.Setup.Gradient,I);if(S)console.log("grads loaded",Date.now()-R);R=Date.now();
D.Setup.Pattern=y(D.Setup.Pattern,I);if(S)console.log("patts loaded",Date.now()-R);R=Date.now();D.Setup.Palette=E(D.Setup.Palette,I);
if(S)console.log("palet loaded",Date.now()-R);R=Date.now();D.Setup.DocumentData=_(D.Setup.DocumentData,I);
if(S)console.log("docdata loaded",Date.now()-R);R=Date.now();D.Setup.SVGFilter=_(D.Setup.SVGFilter,I);
if(S)console.log("svgfilter loaded",Date.now()-R);R=Date.now();var h=D.Setup.ArtStyles;if(h){D.Setup.ArtStyles=_(h,I)}var r=D.Setup.Palette;
for(var g=0;g<r.length;g++){var W=r[g],N=W[0],o=W[1][0];if(N==null)N=W[1][1];var K=D.Setup.Gradient[N];
if(o==0)m.nY.push([N,W[1][1]]);if(o==1)m.nY.push([N,[K.iQ,K.aFf,0,0]]);if(o==2)m.nY.push([N,[N,0]])}var l=C.Cropmarks,aV=C.BoundingBox.split(" ").map(parseFloat),j=C.ArtSize?C.ArtSize.split(" ").map(parseFloat):[aV[2]-aV[0],aV[3]-aV[1]];
m.r=Math.round(Math.abs(j[0]));m.$=Math.round(Math.abs(j[1]));var M=[1,0,0,1,-aV[0]+(m.r-(aV[2]-aV[0]))/2,-aV[1]+(m.$-(aV[3]-aV[1]))/2];
M[3]=-1;M[5]=m.$-M[5];if(l){l=l.split(" ").map(parseFloat);m.r=Math.round(l[2]-l[0]);m.$=Math.round(l[3]-l[1]);
M=[1,0,0,-1,-l[0],m.$+l[1]]}console.log(D);var s=D.Setup.DocumentData,l2=[],gm=[];if(s&&s[0]&&s[0].ArtboardArray){var l2=s[0].ArtboardArray;
if(l2.length!=1)console.log(l2.length,"artboards");var iz=new fw;for(var g=0;g<l2.length;g++){var dC=l2[g],dL=dC.PositionPoint1,cP=dC.PositionPoint2,id=dL[0],jR=Math.min(dL[1],cP[1]),hC=cP[0],eJ=Math.max(dL[1],cP[1]),el=new fw(id,jR,hC-id,eJ-jR);
gm.push(el);iz=iz.KQ(el)}m.r=Math.round(iz.r);m.$=Math.round(iz.$);M[4]=-iz.x;M[5]=iz.y+m.$}if(s&&s[0]&&s[0]["#document"]){var eu=s[0]["#document"],jY=eu["xmlnode-children"][0];
if(jY&&jY["xmlnode-children"])jY=jY["xmlnode-children"][0];if(jY&&jY["xmlnode-nodename"]=="variableSets"){var fN=jY["xmlnode-children"][0]["xmlnode-children"],jC=fN[0],kF=fN[1],i6=f(jC);
m.gP=bM.aeB("<variableSets><variableSet>"+i6+"</variableSet></variableSets>");if(kF){var kT=f(kF),kY=m.$p=bM.awF(kT);
for(var g=0;g<kY.length;g++)for(var h9=0;h9<kY[g].length;h9++)kY[g][h9]=kY[g][h9].trim()}}}var bG=1/jh.S8(new fw(0,0,m.r,m.$),8192*8192);
if(Math.max(m.r*bG,m.$*bG)<800)bG*=2;while(H&&Math.max(m.r*bG,m.$*bG)<Math.max(H[0],H[1]))bG++;if(ex==1)bG=1;
m.r=Math.round(m.r*bG);m.$=Math.round(m.$*bG);m.Ge=Math.round(72*bG);for(var g=0;g<6;g++)M[g]*=bG;var dQ=[];
if(l2.length!=[1,0][ex]){var jn=ex==0?m.U:[];jn.push(m.eH());for(var g=0;g<gm.length;g++){var dC=l2[g],el=gm[g],b1=m.JG();
b1.HV(dC.Name);jn.push(b1);b1.add.SoCo=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);var c8=b1.add.SoCo.Clr.v;
X(c8,[1,1,1]);var id=el.x,jR=el.y,hC=id+el.r,eJ=jR+el.$,j_=[id,jR,hC,jR,hC,eJ,id,eJ];a.b.h(j_,w(M),j_);
T(b1,{cmds:["M","L","L","L","Z"],crds:j_},m,0);b1.add.vstk=a_.jM.J0(!0);var fQ=a.b.yq(j_);dQ.push({y0:dC.Name,J4:[fQ.x,fQ.y,fQ.x+fQ.r,fQ.y+fQ.$],Y:dC.IsArtboardSelected})}var b1=m.JG();
b1.HV("_Artboards_");b1.add.lsct=cp.mD;b1.QN="pass";b1.a3=24;jn.push(b1)}else dQ=[{y0:"Artboard",J4:[0,0,m.r,m.$],Y:!0}];
if(ex==1)m.add.arts=dQ;p=[0,0,0];n=[0,0,0];B="SoCo";c="SoCo";for(var cM=0;cM<G.length;cM++){var jK=G[cM];
jK.Raster=J(jK,"Raster");jK.Place=J(jK,"Place");var aw=i(I,jK);t(m,aw,M,D,jK,I)}if(ex==0)for(var g=0;
g<m.U.length;g++){var b1=m.U[g];if(b1.$Z){m.U.splice(g,1);var ez,g4=0;for(var h9=g;h9<m.U.length;h9++){ez=m.U[h9];
if(ez.add.lsct==cp.hX)g4++;else if(ez.nT())g4--;if(g4==-1)break}ez.add.vmsk=b1.add.vmsk;ez.add.vogk=b1.add.vogk;
ez.k3(m)}}else{}if(H){m.K6();var ht=m.root.R2();L.d_.O4(m,ht)}if(S)console.log("layers created",Date.now()-R);
R=Date.now()}function J(Q,m){var H=Q.Layer,S=Q[m];if(S==null)S=[];if(H){for(var g=0;g<H.length;g++){var R=H[g],I=R[m]=J(R,m);
S=S.concat(I)}S.sort(function(D,G){return D._begin-G._begin})}return S}var p,n,B,c;function t(Q,m,H,S,R,I){var D=[],G=0,C="",O=!1,Y={},h=UDOC.G,r=UDOC.getState(),N="norm",o=1,K=0,l=!1,aV=0,j=!1,M=!0,s=null,l2=null,gm=!1,iz=!1,dC=0,dL=null,cP,id,jR=0,hC=0,eJ=0,fN=0,jC=!1;
r.ctm=H;var W=a_.St.J0(),el=[0,0],eu=[],jY=[];for(var kF=0;kF<m.length;kF++){var i6=m[kF],jn=1e9;if(i6[0]=="%"){if(i6=="%_/ArtDictionary :"&&dC==0){s=[i6.slice(2)]}else if(s!=null){if(i6=="%_"&&dC==0){var kT=gt.ady(s),kY=Q.U[Q.U.length-1],h9=kT.AI10_ArtUID,bG=kT.BBAccumRotation;
if(h9&&!h9.startsWith("XMLID"))kY.HV(x(h9));if(bG&&kY.add.vmsk==null&&Q.U[Q.U.length-2])kY=Q.U[Q.U.length-2];
if(bG&&kY.add.vmsk)kY.add.vmsk.Kj=parseFloat(bG);s=null}else{s.push(i6.slice(gm?1:2));if(i6=="%_X=")dC++;
if(i6=="%_X+")dC--;if(i6=="%_/Binary : /ASCII85Decode ,")gm=!0;if(gm&&i6.endsWith("~>"))gm=!1}}else if(dL){cP+=(cP==""?"":" ")+i6.slice(2);
if(cP.endsWith("X#")){dL.push(cP.slice(0,cP.length-3));cP=""}}else if(i6.startsWith("%BeginData:"))iz=!0;
else if(i6.endsWith("%EndData"))iz=!1;continue}else if(i6.endsWith("%EndData"))iz=!1;else if(i6=="/Mesh X!"){dL=[];
cP="";continue}else if(i6=="/End X!"){A(dL,r,Q);dL=null;continue}if(i6!="XI"&&iz)continue;var dQ="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),b1=-1,c8=i6.indexOf("(")!=-1;
for(var g=0;g<dQ.length;g++){var j_=i6.indexOf(" "+dQ[g]+" ");if(j_!=-1&&j_<jn&&!c8){jn=j_;b1=g}}if(b1!=-1){O=!0;
var fQ=jn+1+dQ[b1].length;m[kF]=i6.slice(0,fQ);var cM=m[kF+1];if(cM==null||cM[0]=="%"||b1>9)m.splice(kF+1,0,i6.slice(fQ));
else m[kF+1]=(i6.slice(fQ)+" "+cM).replace(/\s\s+/g," ");kF--;continue}i6=i6.trim();var jK=i6.split(" "),aw=jK[jK.length-1],ez=aw.toLowerCase(),g4=jK.map(parseFloat);
if(aw=="m")h.moveTo(r,g4[0],g4[1]);else if(aw=="L"||aw=="l")h.lineTo(r,g4[0],g4[1]);else if(aw=="V"||aw=="v"){var ht=r.pth.crds,gx=r.cpos[0],kE=r.cpos[1];
h.curveTo(r,gx,kE,g4[0],g4[1],g4[2],g4[3]);var kS=ht.length;ht[kS-6]=gx;ht[kS-5]=kE}else if(aw=="Y"||aw=="y")h.curveTo(r,g4[0],g4[1],g4[2],g4[3],g4[2],g4[3]);
else if(aw=="C"||aw=="c")h.curveTo(r,g4[0],g4[1],g4[2],g4[3],g4[4],g4[5]);else if(aw=="H"||aw=="h"){if(aw==ez)h.closePath(r);
if(!l){var h7=Q.JG();Q.U.push(h7);h7.HV("<Clipping Path>");h7.$Z=!0;h7.add.vstk=a_.jM.J0();h7.add.SoCo=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);
T(h7,r.pth,Q,K)}else j=!0}else if(aw=="XR"){K=g4[0]}else if(aw=="Xy"){N=gr.a0J[g4[0]];o=g4[1];if(N==null){N="norm";
console.log("unknown blend mode",g4[0])}}else if(aw=="Xd"){var kY=Q.U[Q.U.length-1];kY.YF=Math.round(255*o);
kY.QN=kY.nT()&&N=="norm"?"pass":N}else if(aw=="AE")jR=g4[0];else if(aw=="Ae")hC=g4[0];else if(aw=="Xw")eJ=g4[0];
else if(aw=="*"){var b7=r.pth.crds,i7=r.ctm,j_=b7[0]==b7[2]?0:1;Q.r_.push([j_,b7[j_]]);h.newPath(r)}else if(aw=="XN")id=i6.split(" ")[0];
else if(aw=="XI"){var fp=R.Raster,jB,fB,dI;if(fp==null||fp.length==0){console.log("no Raster");continue}if(i6!="XI"){continue}else{var df=fp[G++];
if(df.Data)df=df.Data;var dt=df._begin,g5=df._end;while(I[dt]!=88)dt++;dt+=3;jB=I.slice(dt,g5);fB=m[kF-2].split(" ").map(parseFloat)}var bR=fB.slice(8),h$=bR[2],ih=bR[3],jt=h$*ih,jN=a.j(jt*4);
jN.fill(255);var jk=bR[7],gE=bR[8],cW=bR[6],dR=Math.ceil(h$*jk*cW/8);if(jk==1){if(cW==8)for(var g=0;
g<jt;g++)for(var gV=0;gV<3;gV++)jN[4*g+gV]=jB[g];else if(cW==1)for(var gv=0;gv<ih;gv++)for(var ga=0;
ga<h$;ga++)for(var gV=0;gV<3;gV++)jN[4*(gv*h$+ga)+gV]=255*(jB[gv*dR+(ga>>>3)]>>>7-(ga&7)&1);else throw cW}else if(jk==3)for(var g=0;
g<jt;g++)for(var gV=0;gV<3;gV++)jN[4*g+gV]=jB[3*g+gV];else if(jk==4||jk==5){for(var g=0;g<jt;g++){jN[4*g+0]=jB[jk*g+0];
jN[4*g+1]=jB[jk*g+1];jN[4*g+2]=jB[jk*g+2];jN[4*g+3]=jB[jk*g+3]}a.akY(jN);for(var g=0;g<jt;g++)jN[g*4+3]=255}else if(jk==7)for(var g=0;
g<jt;g++){jN[4*g+0]=jB[jk*g+0];jN[4*g+1]=jB[jk*g+1];jN[4*g+2]=jB[jk*g+2]}else console.log("unknown number of channels",jk);
if(gE==1){var iC=ih*dR;for(var g=0;g<jt;g++)jN[4*g+3]=jB[iC+g]}if(h$*ih<700*700)dI="PNG";else if(Math.max(h$,ih)>32768)dI="PNG";
else dI=a.TP(jN,h$,ih)?"JPG":"PNG";var fV=kL.V5(dI).D6([[jN.buffer]],h$,ih),dH=Q.aZ(new Uint8Array(fV),"<Image>",0,0);
Q.U.push(dH);dH.QN=N;dH.YF=Math.round(255*o);dH.Rz(eJ==0);var aj=new fA;aj.scale(1,-1);aj.concat(w(fB.slice(1)));
aj.concat(w(r.ctm));var cH=dH.add.SoLd,ge=cH.Sz.v,ko=new fw(0,0,ge.Wdth.v,ge.Hght.v),jK=a.b.e3(ko).L;
a.b.h(jK,aj,jK);dH.add.SoLd.Trnf=L.tp.ey(jK);dH.add.SoLd.nonAffineTransform=L.tp.ey(jK);dH.m8(Q,!1)}else if(aw=="Ln"){D.push($(i6))}else if(aw=="u"||aw=="q"||aw=="Lb"){if(aw=="Lb")Q.add.prvw=g4[1];
eu.push(hC==1);jY.push((aw=="Lb"?1-g4[0]:eJ)==0);if(l)continue;Q.U.push(Q.eH())}else if(aw=="U"||aw=="Q"||aw=="LB"){if(eu.length==0||jY.length==0)throw kF;
var iI=eu.pop(),av=jY.pop();if(aw=="LB")iI=jR==1;if(l)continue;var dH=Q.JG();dH.HV((aw=="U"?"<Group>":"<Clip Group>")+C);
if(aw=="LB")dH.HV(D.pop());dH.add.lsct=iI?cp.xj:cp.mD;dH.QN="pass";dH.a3=24;dH.Rz(av);Q.U.push(dH);if(jC){if(Q.U[Q.U.length-3].getName()=="</Layer group>"){Q.U.pop();
Q.U.splice(Q.U.length-2,1)}jC=!1}}else if(aw=="Bb")M=g4[0]!=1;else if(aw=="BB"){}else if(aw=="Bm"||aw=="Bc"||aw=="Xm"){}else if(aw=="Bh")el=g4.slice(2,4);
else if(aw=="Bg"){var gF=S.Setup.Gradient,kG=gF[$(i6)],jK=i6.slice(i6.indexOf(")")+2).split(" ").map(parseFloat);
if(kG==null){console.log("gradient not found");for(var kh in gF){kG=gF[kh];break}}var hB=jK[10];if(isNaN(hB))hB=1;
var kf=jK.slice(0,4);kf.push(hB,el[0],el[1]);if(Math.max(Math.abs(kf[0]),Math.abs(kf[1]))>20){kf[0]=0;
kf[1]=0;kf[3]=1;console.log("strange gradient")}var jg=[kG.iQ,kG.aFf,kf,jK.slice(4,10)];v(jg,"GdFl",M)}else if(ez=="p"&&1<i6.length&&i6.length<100){var fU=$(i6),cv=S.Setup.Pattern[fU],bZ=cv.J4,h$=Math.round(bZ[2]-bZ[0]),ih=Math.round(bZ[3]-bZ[1]);
if(Q.wC[fU]==null){var kT=new b$,iB=Math.sqrt(Math.abs(H[0]*H[3]-H[1]*H[2])),aj=new fA(1,0,0,-1,-cv.J4[0],ih+cv.J4[1]);
aj.concat(new fA(iB,0,0,iB,0,0));var l8=[p,n,B,c];p=[0,0,0];n=[0,0,0];B="SoCo";c="SoCo";t(kT,cv.TD,fA.mn(aj),S,R,I);
kT.r=Math.round(h$*iB);kT.$=Math.round(ih*iB);kT.K6();kT.qM();if(ex==0){kT.buffer=a.j(kT.r*kT.$*4);kT.TQ()}p=l8[0];
n=l8[1];B=l8[2];c=l8[3];Q.wC[fU]=kT}var ee=i6.slice(i6.indexOf(")")+2),gU=ee.slice(0,ee.indexOf("[")-1).split(" ").map(parseFloat),ad=ee.slice(ee.indexOf("[")+1,ee.indexOf("]")).split(" ").map(parseFloat),aj=new fA(1,0,0,-1,0,ih);
aj.concat(fA.aAD(ad));v([fU,[gU,fA.mn(aj)]],"patt",aw=="p")}else if(aw=="J"||aw=="j"||aw=="w"||aw=="M"||aw=="d"){var aj=r.ctm,iB=Math.sqrt(Math.abs(aj[0]*aj[3]-aj[1]*aj[2]));
for(var g=1;g<jK.length;g++){var a7=jK[g],dm=g4[g-1];if(a7=="w")W.tM=dm*iB;if(a7=="j")W.AE=dm;if(a7=="J")W.eY=dm;
if(a7=="M")W.Rw=dm;if(a7=="d"){var az=i6.slice(i6.indexOf("[")+1,i6.indexOf("]")).trim();if(az.length!=0){var al=az.split(" ").map(parseFloat);
W.ji=al;for(var gV=0;gV<al.length;gV++)al[gV]*=iB}else if(az=="")W.ji=[]}}}else if(ez=="xa"||ez=="xx"){var dl=k(i6);
v(dl,"SoCo",aw=="Xa"||aw=="Xx")}else if(ez=="xk"){dl=k(i6);v(dl,"SoCo",aw=="Xk")}else if(ez=="k"||ez=="x"){dl=k(i6);
v(dl,"SoCo",aw==ez)}else if(ez=="g"){var dl=[g4[0],g4[0],g4[0]];v(dl,"SoCo",aw==ez)}else if(ez=="n"){if(!l)h.newPath(r)}else if(aw=="*u"){l=!0;
aV=0;jY.push(eJ==0)}else if(aw=="*U"||ez=="s"||ez=="f"||ez=="b"){if(aw!="*U"&&l){if(ez=="f"||ez=="b")aV|=1;
if(ez=="s"||ez=="b")aV|=2;continue}if(aw==ez)h.closePath(r);if(aw=="*U"){l=!1}var dH;{dH=Q.JG();dH.a3|=16;
T(dH,r.pth,Q,K);var fi=ez=="f"||ez=="b"||aw=="*U"&&aV&1,fT=ez=="s"||ez=="b"||aw=="*U"&&aV&2,cL=dH.add.vstk=a_.jM.J0(fi,fT),fx=a.G(W);
fx.ZI=[];fx.K$=[];if(fi)fx.ZI=p;if(fT)fx.K$=n;if(ex==0){a_.jM.write(cL,fx);if(B=="SoCo"){dH.add.SoCo=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);
var by=dH.add.SoCo.Clr.v;X(by,p)}if(B=="GdFl"){dH.add.GdFl=gr.d7(p,dH.add.vmsk.u)}if(B=="patt"){dH.add.PtFl=u(p,Q)}if(fT){var ci=["SoCo","GdFl","patt"].indexOf(c),hG=ci==0?{Clr:{t:"Objc",v:b4.EX(n)}}:ci==1?gr.d7(n,dH.add.vmsk.u):u(n,Q),k4=[a_.Sx,a_.ik,a_.ry][ci],dr=cL.strokeStyleContent.v={classID:a_.jM.Sp[ci]};
for(var g=0;g<k4.length;g++)dr[k4[g]]=hG[k4[g]]}}else dH.add.vstl=fx}if(aw=="*U"&&j){dH.$Z=!0;j=!1}dH.HV("<"+(aw=="*U"?"Compound ":"")+"Path>"+C);
dH.QN=N;dH.YF=Math.round(255*o);dH.Rz(aw=="*U"?jY.pop():eJ==0);dH.k3(Q);Q.U.push(dH);h.newPath(r)}else if(aw==","&&jK[0]=="/XMLUID"){var kY=Q.U[Q.U.length-1];
for(var g=0;g<Q.gP.length;g++)if("("+Q.gP[g].docRef+")"==jK[2])Q.gP[g].docRef="id('"+kY.add.lyid+"')"}else if(aw==","&&jK[1]=="/FreeUndo"){fN=g4[0]}else if(aw==","&&jK[1]=="/StoryIndex"){var dk=S.Setup.TextDocument,bw=null;
if(!(dk instanceof Array))window.aLH=dk=S.Setup.TextDocument=V(dk,I);var hS=dk[0],lo=dk[2];if(hS._DocumentResources)hS=dk[0]=aG.a5Z(hS);
else aG.aE4(hS);var dH=Q.JG();dH.add.lnsr="rend";dH.add.TySh=dN.gI(0,0);var gB=g4[0];if(fN==1){for(var g=1;
g<60;g++){var cM=m[kF+g];if(cM&&cM.endsWith("/StoryIndex ,")){gB=parseFloat(cM.slice(2,cM.indexOf(" ")));
jC=!0;break}}fN=0}var fg=aI.aaA(hS),eN=dH.add.TySh.qU=fg[gB];if(eN==null){console.log("text not found");
jC=!1;continue}dH.HV(dN.Be(eN).slice(0,50));dH.QN=N;dH.YF=Math.round(255*o);dH.Rz(eJ==0);var k2=hS._1._1[gB]._1._0[0]._0;
k2=parseInt(k2.slice(1));var eh=hS._0._8._0,cE=eh[k2]._0;if(cE._0)bw=U(cE._0);else if(cE._1)bw=U(cE._1._0);
else bw=U(cE._2._2).slice(3);if(bw.length!=2){var bZ=a.b.yq(bw);bw=[bZ.x,bZ.y];if(bZ.C()!=0){dN.NA(eN,1);
dN.h4(eN,[0,0,Math.round(bZ.r),Math.round(bZ.$)])}}var c9=new fA,hp=new fA(1,0,0,1,bw[0],bw[1]),jL=new fA(1,0,0,1,-lo[0],-lo[1]),aL=w(r.ctm),cZ=new fA;
if(cE._2&&cE._2._2){var H=U(cE._2._2);cZ=w(H)}c9.concat(hp);c9.concat(cZ);c9.concat(jL);c9.scale(1,-1);
c9.concat(aL);dH.add.TySh.h=c9;Q.U.push(dH);Q.Uq=!0}else if(aw=="Tp"){Y.bp=w(g4)}else if(aw=="Tf"){Y.font=jK[0].slice(2)}else if(aw=="Tk"){var dH=Q.JG();
dH.add.lnsr="rend";var hL=dH.add.TySh=dN.gI(0,0),eN=hL.qU,aj=Y.bp.P(),ge=aj.Nz();aj.concat(w(r.ctm));
var e4=new fA(1/ge,0,0,-1/ge,0,0);e4.concat(aj);hL.h=e4;var eb=$(i6);dH.HV(eb);dN.tJ(eN,0,eb);var b0=dN.cj(eN,0,eb.length);
b0.uA.FontSize=ge;b0.uA.FillColor={Type:1,Values:[1,p[0],p[1],p[2]]};dN.Qp(b0,Y.font);dN.CG(eN,0,eb.length,b0);
Q.U.push(dH);Q.Uq=!0}else if(O&&g4.length>3){var cX=!1;for(var g=0;g<g4.length;g++)if(isNaN(g4[g]))cX=!0;
if(!cX)m[kF+1]=(i6+" "+m[kF+1]).replace(/\s\s+/g," ")}}}function u(p,Q){if(Q.Fj==null)Q.Fj={};var m=Q.Fj[p[0]];
if(m==null){var H=Q.wC[p[0]],m=Q.Fj[p[0]]={};m.id=b$.rR()+"-d71c-11e5-b1ae-a548a96e5f9f";m.name="someImage";
m.kR=[H.dT(),new fw(0,0,H.r,H.$)];Q.KX(m)}var S=JSON.parse(a_.ef[a_.order.indexOf("patternFill")]);S.Ptrn.v.Idnt.v=m.id;
var R=w(p[1][1]),I=-Math.atan2(-R.X,R.k6);S.Angl.v.val=Math.round(I*180/Math.PI);S.Scl.v.val=Math.round(100*R.Nz());
return S}gr.d7=function(Q,m){var H=gr.g7(Q,m),S=[0,0,1,0];if(Q[0]==0)S[0]=.5;a.b.h(S,H,S);var R=JSON.parse(a_.ef[a_.order.indexOf("GrFl")]),I=R.Grad.v;
I.Intr.v=0;R.Type.v.GrdT=["Lnr","Rdl"][Q[0]];a.Wi.Sy(Q[1],I);a.Wi.aN(new i_(S[0],S[1]),new i_(S[2],S[3]),a.z.nd(m),R);
return R};gr.qx=function(Q,m,H){var S={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[Q.Type.v.GrdT],R=a.z.nd(m);
if(H&&Q.Algn&&!Q.Algn.v)R=new fw(0,0,H.r,H.$);var I=a.Wi.a4l(Q,R),D=I[0],G=I[1];if(S==0){D.x-=G.x-D.x;
D.y-=G.y-D.y}var C=G.x-D.x,O=G.y-D.y,Y=Math.sqrt(C*C+O*O),h=new fA;h.rotate(Math.atan2(-O,C));h.scale(Y,Y);
h.translate(D.x,D.y);var r=gr.YU(S,h,m),W=Q.Grad.v;r[1]=a.Wi.apM(W,null,null);return r};gr.Pf=function(Q,m,H){var S=i_.mT(Q,m),R=new fA;
R.scale(S,S);R.rotate(-Math.atan2(m.y-Q.y,m.x-Q.x));R.translate(Q.x,Q.y);if(H)R.concat(H);return R};
gr.So=function(Q,m,H,S,R){if(m&&!S.Vm(m)){var I=Math.atan2(-(H.y-m.y),H.x-m.x);if(R!=null||I!=0){var D=new fA;
D.translate(-m.x,-m.y);D.scale(1,R);D.rotate(I);D.translate(m.x,m.y);D.oU();S=D.g$(S)}var G=Math.atan2(-(S.y-m.y),S.x-m.x);
Q[2][5]=G*180/Math.PI;Q[2][6]=i_.mT(S,m)/i_.mT(H,m)}};gr.YU=function(Q,m,H){var S=m.P(),C,O,Y=1;S.oU();
var R=bi.jP.Ox(H);a.z.Gn(R,S);var I=a.z.nd(R),D=I.r,G=I.$;if(Q==0){var h=new fA;h.translate(-I.x,-I.y);
h.translate(-D/2,-G/2);var r=gr.aJM(D,G,0);h.scale(1/r,1/r);h.scale(1/D,1/G);C=h.Rf+.5;O=h.Sm+.5;Y=h.k6}else{C=-I.x/D-.5;
O=-I.y/G-.5;var W=(C-.5)*D/2,N=(O-.5)*G/2;Y=1/Math.sqrt(2*(W*W+N*N))}var o=[Q,null,[C,O,0,Y,1,0,0],[m.k6,m.X,m.GQ,m.JH,m.Rf,m.Sm]];
return o};gr.g7=function(Q,m){var H=Q[0],S=Q[2],R=Q[3],I=w(R);I.oU();var D=bi.jP.Ox(m);a.z.Gn(D,I);var G=a.z.nd(D),C=G.r,O=G.$,Y=S[0],h=S[1],r=S[2]*Math.PI/180,W=S[3],N=new fA;
if(H==0){N.scale(W,W);N.translate(Y-.5,h-.5);N.scale(C,O);N.rotate(r);var o=gr.aJM(C,O,r);N.scale(o,o);
N.translate(C/2,O/2)}else{var K=(Y-.5)*C/2,l=(h-.5)*O/2,o=W*Math.sqrt(2*(K*K+l*l));N.scale(o,o*S[4]);
N.rotate(r);N.translate((Y+.5)*C,(h+.5)*O)}N.translate(G.x,G.y);N.concat(w(R));return N};function v(Q,m,H){if(H){B=m;
p=Q}else{c=m;n=Q}}function A(Q,m,H){var S=UDOC.G,R=[],I=[],D="/DeviceGray",G=1,C=[],O=1;for(var Y=0;
Y<Q.length;Y++){var h=Q[Y];if(h.endsWith(" /CS")){var r=h.indexOf("/NChannel"),W=h.indexOf("/Process");
if(h.startsWith("/DeviceRGB")){D="/DeviceRGB";G=3}else if(h.startsWith("/DeviceGray")){D="/DeviceGray";
G=1}else if(h.startsWith("/DeviceCMYK")){D="/DeviceCMYK";G=4;C=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(r!=-1){D="/DeviceCMYK";
G=parseInt(h.slice(r-2,r-1));var N=1;for(var g=0;g<G;g++){N=h.indexOf("[",N);C[G-1-g]=h.slice(N+1,N+8).split(" ").map(parseFloat);
N++}}else if(W){D="/DeviceGray";G=1}else throw h}else if(h[0]=="["){var o=h.indexOf("]"),K=h.slice(1,o).split(" ").map(parseFloat),l=h.slice(o+2),aV,j,M,s,l2,gm;
if(l=="/Size"||l=="/P"||l=="/R")continue;if(l=="/S"||l=="/A"){aV=K[0];j=K[1];M=K[2];s=K[3];l2=K[4];gm=K[5]}else if(l=="/N"){var iz=G+(O==1?0:1),dC;
aV=K[iz+0];j=K[iz+1];M=K[iz+2];s=K[iz+3];l2=K[iz+5];gm=K[iz+6];if(D=="/DeviceRGB")dC=K.slice(0,3);else if(D=="/DeviceGray")dC=[K[0],K[0],K[0]];
else if(D=="/DeviceCMYK"){var dL=[0,0,0,0];for(var g=0;g<G;g++){var cP=K[g],id=C[g];dL[0]+=cP*id[0];
dL[1]+=cP*id[1];dL[2]+=cP*id[2];dL[3]+=cP*id[3]}dC=P(dL)}else throw dC;dC.push(K[G]);I.push([dC,aV,j])}else throw l;
R.push([l,l2,gm,aV,j,M,s])}else if(h=="/E"){var jR=R.slice(0),hC=0;for(var g=0;g<R.length;g++){var eJ=R[g][0];
if(eJ=="/N"){hC++;continue}var el=g,eu=g+1;while(R[eu][0]!="/N"&&eu<R.length)eu++;if(hC==0||hC==3){for(var jY=0;
jY<eu-el;jY++)jR[el+jY]=R[eu-1-jY]}else for(var jY=el;jY<eu;jY++){var fN=jR[jY],jC=fN[1];fN[1]=fN[5];
fN[5]=jC;jC=fN[2];fN[2]=fN[6];fN[6]=jC}g=eu-1}R=[];for(var g=0;g<jR.length;g++){var fN=jR[g];R.push(fN[1],fN[2],fN[3],fN[4],fN[5],fN[6])}var kF=R.length;
S.moveTo(m,R[2],R[3]);for(var g=0;g<kF;g+=6){var M=R[(g+4)%kF],s=R[(g+5)%kF],l2=R[(g+6)%kF],gm=R[(g+7)%kF],aV=R[(g+8)%kF],j=R[(g+9)%kF];
S.curveTo(m,M,s,l2,gm,aV,j)}S.closePath(m);R=[]}else if(h.endsWith("/Version"))O=parseFloat(h[0])}var i6=H.JG();
i6.a3|=16;i6.HV("<Mesh>");var kT=i6.add.vstk=a_.jM.J0(!0);T(i6,m.pth,H,0);if(I.length>=2){var kY=0,h9=0,bG=0;
for(var g=0;g<I.length;g++)for(var jY=g+1;jY<I.length;jY++){var dQ=I[g][0],jn=I[jY][0],b1=dQ[0]-jn[0],c8=dQ[1]-jn[1],j_=dQ[2]-jn[2],fQ=Math.sqrt(b1*b1+c8*c8+j_*j_);
if(fQ>bG){bG=fQ;kY=g;h9=jY}}var cM=I[kY],jK=I[h9],aw=[[0,cM[0],1,.5],[1,jK[0],1,.5]],ez=w(m.ctm),g4=ez.g$(new i_(cM[1],cM[2])),ht=ez.g$(new i_(jK[1],jK[2]));
if(g4.Vm(ht))ht.x+=1;if(ex==0){var gx=i6.add.GdFl=JSON.parse(a_.ef[a_.order.indexOf("GrFl")]),kE=gx.Grad.v;
kE.Intr.v=0;gx.Type.v.GrdT="Lnr";a.Wi.Sy(aw,kE);var kS=a.b.yq(m.pth.crds);g4.x=(g4.x+ht.x)/2;g4.y=(g4.y+ht.y)/2;
a.Wi.aN(g4,ht,kS,gx)}else{var h7=i6.add.vstl=a_.St.J0();h7.K$=[];var i7=gr.Pf(g4,ht,new fA);h7.ZI=gr.YU(0,i7,i6.add.vmsk.u);
h7.ZI[1]=aw}}H.U.push(i6);S.newPath(m)}function $(Q){var m=Q.indexOf(")");while(Q[m-1]=="\\")m=Q.indexOf(")",m+1);
return Q.slice(Q.indexOf("(")+1,m).replaceAll("\\","")}function X(Q,p){Q.Rd.v=p[0]*255;Q.Grn.v=p[1]*255;
Q.Bl.v=p[2]*255}function U(Q){var m=[];for(var g=0;g<Q.length;g++)m[g]=parseFloat(Q[g].slice(1));return m}function w(Q){return fA.aAD(Q)}function P(Q){return a.oc(Q.slice(0,4)).slice(0,3)}function k(Q){var m=Q.split(" "),H=m[m.length-1],S=H.toLowerCase(),R=m.map(parseFloat),I=null;
if(S=="xa"||S=="xx"||S=="xz"){var I=R[4]==null?R.slice(0,3):[R[4],R[5],R[6]];if(S=="xx"&&R[R.length-2]==2)I=P(R)}else if(S=="g")I=P([0,0,0,1-R[0]]);
else if(S=="x"||S=="k"){if(S=="x"){R.pop();var D=1-R.pop();for(var g=0;g<4;g++)R[g]*=D}I=P(R)}else if(S=="xk"){var G=R[R.length-2],C=R[R.length-3];
if(G==0)I=P(R);else if(G==1){I=[R[4],R[5],R[6]];for(var g=0;g<3;g++)I[g]=C*1+(1-C)*I[g]}else throw Q}else throw S;
return I}function T(Q,m,H,S){Q.add.vmsk=new bi.jP;if(m.crds.length!=0)Q.add.vmsk.u=Z(m);Q.add.vmsk.VR=S;
Q.cC();Q.k3(H)}function Z(Q){var m={L:Q.crds,Ao:Q.cmds},H=a.b.nK(m,!1);return H}function i(Q,m){var H=[],Y=0,N=0;
for(var S=0;S<2;S++){var R=m[["Raster","Place"][S]];if(R==null)continue;for(var g=0;g<R.length;g++){for(var I=0;
I<3;I++){var D=R[g][["Data","Document","PlacedObjectPreview"][I]];if(D==null)continue;var G=D._begin,C=D._end;
if(G>C)G=C;H.push([G,C])}}}H.sort(function(K,l){return K[0]-l[0]});var O=[m._begin];for(var g=0;g<H.length;
g++){var h=H[g],G=h[0]+32;O.push(G,h[1]);Y+=h[1]-G}O.push(m._end);var r=m._end-m._begin,W=new Uint8Array(r-Y);
for(var g=0;g<O.length;g+=2){var G=O[g],o=O[g+1]-G;W.set(new Uint8Array(Q.buffer,G,o),N);N+=o}return e.A8(W).split(/\r\n|\r|\n/)}function V(Q,m){if(Q==null)return[];
var H=i(m,Q),S="",R="",I=0,D;for(var g=2;g<H.length;g++){var G=H[g];if(G[0]=="%"){if(I==0)S+=G.slice(1);
else R+=G.slice(1)}else if(G==";")I++;else if(G.endsWith("/RulerOrigin ,"))D=G.split(" ").slice(0,2).map(parseFloat)}var C=[S,R],O=[];
for(var g=0;g<2;g++){var Y=C[g],h=new Uint8Array(Y.length);e.CR(h,0,Y);var r=FromPS.F.ASCII85Decode({buff:h,off:0}),W=ed.yi(r);
O.push(W)}O.push(D);return O}function _(Q,m){if(Q==null)return[];var H=i(m,Q);H=H.slice(1);for(var g=0;
g<H.length;g++){var S=H[g];if(S.startsWith("%AI17_Begin_Content_if_version_gt")||S=="%AI17_Alternate_Content"||S=="%AI17_End_Versioned_Content")H[g]="";
else if(S[0]=="%")H[g]=S.slice(S[1]=="_"?2:1)}var R=gt.ady(H);return R}function y(Q,m){var H={};if(Q==null)return H;
for(var g=0;g<Q.length;g++){var S=i(m,Q[g]),R=S[1],I=$(R),D=R.slice(R.lastIndexOf(")")+2).split(" ").map(parseFloat),G=[];
for(var C=2;C<S.length;C++)G.push(S[C].slice(2));H[I]={J4:D,TD:G}}return H}function E(Q,m){var H=[],R,I;
if(Q==null)return H;var S=i(m,Q);for(var g=1;g<S.length;g++){var D=S[g];if(D=="0 0 Pb"||D=="PB"||D==""){}else if(D.endsWith("Xa")||D.endsWith("Xz")||D.endsWith("Xx")||D.endsWith("Xk")||D.endsWith(" g")||D.endsWith(" x")||D.endsWith(" k"))R=[0,k(D)];
else if(D.endsWith("Xs"))R=[0,[0,0,0]];else if(D.endsWith("Bg"))R=[1,$(D)];else if(D.endsWith("Pg")||D.endsWith("p"))R=[2,$(D)];
else if(D[0]=="(")I=$(D);else if(D=="Pc")H.push([I,R]);else if(D=="0 BB"||D=="Bb"||D.endsWith("Bh")){}else if(D.startsWith("%AI17_")){}else throw D}return H}function F(Q,m){var H={},S,R;
if(Q==null)return H;var I=[];for(var g=0;g<Q.length;g++){var D=i(m,Q[g]);for(var G=0;G<D.length;G++){var C=D[G];
if(C.endsWith("%_Bs")){var O=C.slice(0,C.length-4);if(!O.endsWith(" "))O+=" ";C=O+"%_BS"}if(C[0]=="("){S=$(C);
var Y=C.slice(C.lastIndexOf(")")+2).split(" ");R=parseInt(Y[0])}else if(C.endsWith("%_BS")){var h=C.split(" "),o,K=1;
h.pop();h=h.map(parseFloat);var r=h.pop(),W=h.pop(),N=h.pop();if(N==0)o=[h[0],h[0],h[0]];else if(N==2||N==4)o=[h[4],h[5],h[6]];
else if(N==1||N==3)o=P(h);else if(N==6){if(h.length==3)o=[h[0],h[0],h[0]];else if(h.length>=8)o=h.slice(4,7);
else o=P(h);K=h.pop()}else{throw N}I.push([r/100,o,K,W/100])}else if(C=="BD"){I.sort(function(l,aV){return l[0]-aV[0]});
H[S]={iQ:R,aFf:I};I=[]}}}return H}function d(Q){var m="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider Document".split(" "),H=Date.now(),S=0,R=[],I={Header:{}},D=[I],G=Q.length;
while(S<G){var C=S;while(C!=G&&Q[C]!=13&&Q[C]!=10){C++}if(Q[S]==37&&Q[S+1]==95&&Q[S+2]==37)S+=2;if(Q[S]==37&&(Q[S+1]==37||Q[S+1]==65)){var O=e.RM(Q,S,C-S);
if(O=="%%EOF")break;if(O=="%%EndComments"||O=="%EndComments"||O=="%AI5_Begin_NonPrinting"||O=="%AI5_End_NonPrinting--"||O.startsWith("%AI17_Begin_Content_if_version_gt")||O=="%AI17_End_Versioned_Content"){}else{var Y=O.indexOf("Begin"),h=Math.max(O.indexOf("_End"),O.indexOf("%End"));
if(Y!=-1&&O[Y-1]!="%"&&O[Y-1]!="_")Y=-1;if(Y!=-1){var r=O.slice(Y+5).split(":")[0],W={_begin:S,_end:S},N=D[D.length-1];
if(m.indexOf(r)!=-1){if(N[r]==null)N[r]=[];N[r].push(W)}else{if(N[r]!=null){console.log(D);throw O}N[r]=W}D.push(W);
if(O.startsWith("%%BeginData")){C=e.ob(Q,"%%EndData",S)}else if(O.slice(0,15)=="%%BeginDocument")C=e.ob(Q,"%%EndDocument",C);
else if(O=="%AI9_BeginDocumentData")C=e.ob(Q,"%AI9_EndDocumentData",C);else if(O=="%AI11_BeginTextDocument")C=e.ob(Q,"%AI11_EndTextDocument",C)}else if(h!=-1){if(D.length>1)D.pop()._end=S}else if(D.length==1&&(O.startsWith("%AI")||O.startsWith("%%")&&O.indexOf(" ")!=-1)){var o=1;
if(O.startsWith("%AI"))while(O[o]!="_"&&o<O.length)o++;var K=O.indexOf(":");if(K==-1)K=O.indexOf(" ");
var l=O.slice(o+1,K),aV=O.slice(K+1).trim();I.Header[l]=aV}}}S=C;if(Q[S]==13)S++;if(Q[S]==10)S++}return I}function x(Q){var m="";
for(var g=0;g<Q.length;g++){if(Q[g]=="_"&&Q[g+1]=="x"){var lj=parseInt(Q.slice(g+2,g+4),16);m+=String.fromCharCode(lj);
g+=4}else if(Q[g]=="_")m+=" ";else m+=Q[g]}return m}function f(Q){var m="xmlnode-nodename",H="xmlnode-nodevalue",S="xmlnode-attributes",R="xmlnode-children",I=Q[m].split(":").pop().replace("#",""),D=Q[S],G=Q[R],C="<"+I;
for(var O in D)if(O!="xmlns"&&O!="xmlns:v")C+=" "+O.split(":").pop()+"=\""+D[O][H]+"\"";C+=">"+(G.length==0?"":"\n");
for(var g=0;g<G.length;g++)C+=f(G[g]);if(Q[H])C+=Q[H];return C+"</"+I+">\n"}return z}();gr.aJM=function(z,J,p){var n=a.b.e3(new fw(0,0,z,J)).L,B=new fA;
B.rotate(p);a.b.h(n,B,n);var c=a.b.yq(n);return c.r/z};gr.a0J="norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",");
gr.oW=function(){function z(P){var k=72/P.Ge,T=new fA(k,0,0,-k,0,0),Z=P.root.children,i=[],V={c3:[],M4:{},aF2:0},y=16383,s=0,gm=0;
for(var g=0;g<P.nY.length;g++){var _=P.nY[g];if(_[1].length==4)U(_[1],V,_[0])}for(var g=0;g<Z.length;
g++)v(Z[g],P,T,V,i,0);var E=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+y+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
E.push("%%BeginSetup\r");E=E.concat(V.c3);for(pn in P.wC){var F=P.wC[pn],d=P.Ge/72;E.push("%AI3_BeginPattern: ("+pn+")");
E.push("("+pn+") 0 0 "+Math.round(F.r/d)+" "+Math.round(F.$/d));var Z=F.root.children,x=[];for(var g=0;
g<Z.length;g++)v(Z[g],F,T,V,x,1);x=window.adR;for(var g=0;g<x.length;g++){var f=x[g];E.push(f.startsWith("%_")?f:"%_"+f)}E.push("E","%AI3_EndPattern")}if(P.nY.length!=0){E.push("%AI5_BeginPalette","0 0 Pb");
for(var g=0;g<P.nY.length;g++){var _=P.nY[g],Q="("+_[0]+")",m=_[1].length;if(_[0]=="[Registration]")E.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(m==3)E.push(u(a.KK(_[1]).concat(_[1]))+" "+Q+" 0 1 Xk");else if(m==4)E.push("Bb","0 0 0 0 Bh",_[1][0]+1+" "+Q+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(m==2)E.push(Q+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");E.push(Q,"Pc")}E.push("PB","%AI5_EndPalette")}E=E.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var H=P.add.arts;for(var g=0;g<H.length;g++){var S=H[g];console.log(S);var R=S.J4[0]*k,I=-S.J4[1]*k,D=S.J4[2]*k,G=-S.J4[3]*k;
E.push("/Dictionary :","("+S.y0+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",y/2+" "+y/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",p(R)+" "+p(I)+" /RealPointRelToROrigin"," (PositionPoint1) ,",p(D)+" "+p(G)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}E=E.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var C=[],O=[];for(var g=0;g<P.U.length;g++){var Y=P.U[g],h=Y.add.TySh;if(h){C.push(h.qU);O.push(h)}}if(C.length!=0){var r=aI.akD(C,null,null);
function W(S){return S.map(function(iz){return"f"+iz})}for(var N=0;N<C.length;N++){var h=O[N],o=r._1._1[N],K=o._1._0[0]._0;
K=parseInt(K.slice(1));var l=r._0._8._0[K]._0,aV=h.h.P();aV.concat(T);aV.scale(1,-1);l._2._2=W([aV.k6,aV.X,aV.GQ,aV.JH,aV.Rf,aV.Sm])}var j=J(r),M=J(r);
E.push("%AI11_BeginTextDocument");E.push("/AI11TextDocument : /ASCII85Decode ,");E=E.concat(j);E.push("0.0001 0.0001 /RulerOrigin ,");
E.push(";");E.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");E=E.concat(M);E.push(";");E.push("%AI11_EndTextDocument")}E.push("%%EndSetup\r");
E=E.concat(i);E.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var g=0;g<E.length;g++){var S=E[g];if(typeof S=="string")S=E[g]=e.Hu(S);s+=S.length+1}var l2=new Uint8Array(s);
for(var g=0;g<E.length;g++){var S=E[g];l2.set(S,gm);gm+=S.length;l2[gm]=13;gm++}return gt.aJ7(l2).buffer}function J(P){var k=new fJ,T=ed.Ag(P,k)-2,Z=w(k.data.slice(0,T)),i=[];
for(var V=0;V<Z.length;V+=100){if(Z.length-V<103){i.push("%"+Z.slice(V));break}i.push("%"+Z.slice(V,V+100))}return i}function p(lj){return lj.toFixed(3)}function n(P,k){var T=P.getName(),Z=null;
k.push("%_/ArtDictionary :");if(P.add.vmsk)Z=P.add.vmsk.Kj;if(P.add.SoLd){var i=a.F.Gy(P.add.SoLd);Z=Math.atan2(-i.X,i.k6)}if(P.add.TySh){var i=P.add.TySh.h;
Z=Math.atan2(-i.X,i.k6)}if(Z!=null&&Z!=0)k.push("%_("+Z+") /String (BBAccumRotation) ,");if(P.add.TySh)k.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!T.startsWith("<")&&!T.endsWith(">")){k.push("%_/XMLUID : "+B(T)+" ; (AI10_ArtUID) ,")}k.push("%_;","%_")}function B(P){var k="";
for(var g=0;g<P.length;g++){var T=P[g],Z=P.charCodeAt(g);if(T==" ")k+="_";else if(T=="."||T==":"||T=="-"||48<=Z&&Z<=57||65<=Z&&Z<=90||97<=Z&&Z<=122||127<Z)k+=T;
else k+="_x"+Z.toString(16).toUpperCase()+"_"}return"("+k+")"}function c(P,k,T){T.push(u(P)+" "+k)}function t(P){return"[ "+u(P)+" ]"}function u(P){return P.map(p).join(" ")}function v(P,k,T,Z,i,V){var _=P.w;
if(V!=0)i.push("0 A",(_.LE()?0:1)+" Xw");if(_.nT()){var y=!1;for(var g=0;g<P.children.length;g++)if(P.children[g].w.$Z)y=!0;
var E=_.add.lsct==cp.xj?1:0;if(V==0){i.push("%AI5_BeginLayer");i.push((_.LE()?1:0)+" "+k.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
i.push("("+_.getName()+") Ln");i.push(E+" AE");n(_,i)}else{i.push(E+" Ae");i.push(y?"q":"u")}for(var g=0;
g<P.children.length;g++)v(P.children[g],k,T,Z,i,V+1);if(V==0)i.push("LB","%AI5_EndLayer--");else{i.push(y?"Q":"U");
n(_,i);A(_,i);i.push("0 0 Xd","6 () XW")}}else if(!0){A(_,i);var F=_.add.TySh,d=_.add.vmsk;if(F){i.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",Z.aF2+" /StoryIndex ,");
if(dN.Xn(F.qU)==1){var x=dN.DL(F.qU),f=a.b.e3(new fw(x[0],x[1],x[2],x[3])).L;a.b.h(f,F.h,f);a.b.h(f,T,f);
i.push("/Art :","X=","1 Ap",f[0]+" "+f[1]+" m",f[2]+" "+f[3]+" L",f[4]+" "+f[5]+" L",f[6]+" "+f[7]+" L",f[0]+" "+f[1]+" L","n","X+","; /ConfiningPath ,")}i.push("2 /TextAntialiasing ,",";");
Z.aF2++}else if(_.add.SoLd){var Q,m,H,S=_.add.SoLd,R=S.Idnt.v,I=k.Cx(R,S.Crop?S.Crop.v:null),D=I.GS,Q=D[0],m=D[1];
H=a.F.Gy(S);var G=new fA(1,0,0,-1,0,0);G.concat(H);G.concat(T);var C=m.C(),O=m.r,Y=m.$,h=a.j(C*4+8);
for(var g=0;g<C;g++){var r=g*4,W=g*3;h[W]=Q[r];h[W+1]=Q[r+1];h[W+2]=Q[r+2];h[3*C+g]=Q[r+3]}e.CR(h,C*4,"%EndData");
i.push("%AI5_File:","%AI5_BeginRaster",t([G.k6,G.X,G.GQ,G.JH,G.Rf,G.Sm])+" 0 0 "+[O,Y,O,Y].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(C*4+4),"XI",h,"XH","%AI5_EndRaster","N")}else if(d){var N=_.add.vstl,o,K;
if(N){o=N.ZI;K=N.K$;if(o.length==0)o=null;if(K.length==0)K=null}var l=a.z.ZR(d.u)>1;if(l)i.push("*u","0 Xw");
if(o){if(o.length==3)c(o,"Xa",i);else if(o.length==4){var aV=X(o,Z);i.push("Bb",aV,"2 BB")}else{i.push("("+o[0]+") "+o[1][0].join(" ")+" ["+o[1][1].join(" ")+"] p")}}if(K){var j=T.Nz(),M=N.ji.slice(0);
for(var g=0;g<M.length;g++)M[g]*=j;i.push(N.eY+" J "+N.AE+" j "+N.tM*j+" w "+p(N.Rw)+" M ["+M.join(" ")+"]0 d");
if(K.length==3)c(K,"XA",i);else if(K.length==4){var aV=X(K,Z);i.push("1 Bb",aV,"2 BB")}else{i.push("("+K[0]+") "+K[1][0].join(" ")+" ["+K[1][1].join(" ")+"] P")}}var s=a.b.Ru(d.u,1);
a.b.h(s.L,T,s.L);var l2=_.$Z?"h\nW\nn":o&&K?"b":o?"f":"s";$(s,l2,d.VR,i);if(l)i.push("*U")}n(_,i)}else{var gm=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
i=i.push(gm.join("\n"))}}function A(P,k){var T=gr.a0J.indexOf(P.QN);if(T==-1)T=0;k.push(T+" "+p(P.YF/255)+" 0 0 0 Xy")}function $(P,k,T,Z){Z.push(T+" XR");
var i=0;for(var V=0;V<P.Ao.length;V++){var _=P.Ao[V],y,E=0,F="";if(_=="M"){E=2;y="m"}if(_=="L"){E=2;
y="l"}if(_=="C"){E=6;y="c"}for(var g=0;g<E;g++)F+=p(P.L[i+g])+" ";i+=E;if(E!=0)Z.push(F+y);if(V==P.Ao.length-1||P.Ao[V+1]=="M"){Z.push(_=="Z"?k:k.toUpperCase())}}}function X(P,k){var T=U(P,k),Z="";
if(P[0]==1)Z="0 0 "+P[2].slice(5).map(p).join(" ")+" Bh\n";return Z+"1 ("+T+") "+P[2].slice(0,4).map(p).join(" ")+" "+P[3].map(p).join(" ")+" "+p(P[2][4])+" Bg"}function U(P,k,T){var Z=P[0],i=P[1].slice(0),V=Z+"-"+JSON.stringify(i);
if(k.M4[V])return k.M4[V];console.log(T);var _=k.M4[V]=T?T:"grd"+k.c3.length;k.c3.push("%AI5_BeginGradient: ("+_+")","("+_+") "+Z+" "+i.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(Z==0)i=i.reverse();for(var g=0;g<i.length;g++){var y=i[g];if(y[3]==null)throw"e";var E=a.KK(y[1]),F=100*y[3],d=E.concat(y[1]).map(p).join(" ")+" 2 "+p(y[2])+" 6 "+F+" "+p(y[0]*100);
k.c3.push(d+" %_BS");k.c3.push("%_"+d+" Bs")}k.c3.push("BD","%AI5_EndGradient");return _}function w(P){var k=[85*85*85*85,85*85*85,85*85,85,1],T="",Z=P.length,i=new Uint8Array(4),V=new Uint32Array(i.buffer);
for(var g=0;g<Z;g+=4){var _=Z-g;i[3]=P[g];i[2]=_>1?P[g+1]:0;i[1]=_>2?P[g+2]:0;i[0]=_>3?P[g+3]:0;var y=V[0],E=1+Math.min(4,_);
for(var F=0;F<E;F++){var d=Math.floor(y/k[F]);T+=String.fromCharCode(33+d);y-=d*k[F]}}return T+"~>"}return z}();
function bB(){}bB.yi=function(){var z,J,p,n,B,c=!0,t=!0,y,E,F;function u(O){return c?e.gm(z,O):e.fy(z,O)}function v(O){return c?e.Ei(z,O):e.Bq(z,O)}function A(O){return c?e.L6(z,O):e.U0(z,O)}function $(O){return e.Ei(z,O)}function X(O){return e.gm(z,O)}function U(O){return e.qd(z,O)}function w(O,Y){if(O+Y*4>z.length)throw Y;
var h=[];for(var g=0;g<Y;g++)h.push(u(O+g*4));return h}function P(O,Y){var h=[];for(var g=0;g<Y;g++)h.push(A(O+g*8));
return h}function k(O){return X((O+1)*4096-12)}function T(O){return X((O+1)*4096-8)}function Z(O,J,Y,h){if(n[O]==null)n[O]=[];
n[O].push([h,new Uint8Array(z.buffer,J,Y)])}function i(O,Y,h,r){var W=p[O],J=W*4096;J=J+X(J+4096-24-12-Y*4);
var N=$(J),o=z[J+2],K=z[J+3];if(Y!=o)throw o;if(K==0)Z(r,J+4,h,9);else{var l=$(J+6),aV=X(J+8);Z(r,J+12,N-12,9);
i(aV,l,h-(N-12),r)}}function V(){var O=X(352),Y=X(O*4096+128),h=X(936);p=[];n={};B={};for(var g=0;g<1e9;
g++){var r=X(h*4096+128+g*4);if(r==0)break;var W=w(r*4096+128,4096-128-12>>>2);p=p.concat(W)}for(var N=0;
N<p.length;N++){var o=p[N],K=k(o);if(K!=6)continue;var J=o*4096,l=X(J);J+=4;for(var g=0;g<l;g++){var aV=X(J);
J+=4;var j=X(J);J+=4;var M=X(J);J+=4;var s=X(J);J+=4;if(aV==0)B[j]=M;else{var l2=M&65535,gm=M>>>16;if(gm==0)Z(j,s*4096,l2,8);
else i(s,gm,l2,j)}}}var y={};for(var iz in n){var dC=n[iz],dL=dC.length;if(dL==1)y[iz]=dC[0][1];else{var cP=0,J=0;
for(var g=0;g<dL;g++)cP+=dC[g][1].length;var id=y[iz]=new Uint8Array(cP);for(var g=0;g<dL;g++){id.set(dC[g][1],J);
J+=dC[g][1].length}}}return y}function _(J,O){var Y=0,h="";if(O){Y=u(J);J+=4}else{J+=3;Y=v(J);J+=2}while(h.length<Y){var r=v(J),W=r&255,N=r>>>8,o=0,K="";
W+=(N&15)*256;N=N&240;J+=2;if(W==0)throw"e";for(var g=0;g<W;g++){if(N==64)o=z[J++];else if(N==128){o=v(J);
J+=2}else throw N;K+=String.fromCharCode(o)}h+=K}return[h,J]}function d(J,O,Y){var h=w(J,O);for(var g=0;
g<O;g++){Y.push(g);if(h[g]>E)throw"e";h[g]=f(h[g],Y);Y.pop()}return h}var x={};function f(O,Y){if(F.indexOf(O)!=-1)return y[O];
if(O==0)return null;if(y[O]==null)return null;if(!(y[O]instanceof Uint8Array))return y[O];var h=z,J=0;
z=y[O];F.push(O);var r=B[O].toString(16),W=y[O]={_type:C[r]?C[r]+":"+r:"typ-"+r,_eid:O};while(J+8<z.length){var N=u(J);
J+=4;var o=u(J);J+=4;var K=N.toString(16),l=J+o;if(J+o>z.length){W._bin=z;break}Q(K,R,W,J,o,Y);J=l}z=h;
F.pop();return W}function Q(O,Y,h,J,r,W){var N=Y[O+":"+h._type];if(N==null)N=Y[O];W.push(N?N[0]==""?O:N[0]:O);
if(N){var o=N[0],K=null,l=N[1];if(o=="")o=l+"-"+O;if(D[l]&&r!=D[l]){console.log(l);console.log(O,N);
console.log(z.slice(J,J+r));throw"e"}if(l=="mat")K=P(J,6);else if(l=="mmat")K=[f(u(J),W),r==6?[1,0,0,1,0,0]:P(J+6,6)];
else if(l=="rect")K=P(J,4);else if(l=="mrct"){K=P(J,4);K.push($(J+32))}else if(l=="doub")K=A(J);else if(l=="pointArr"){var aV=$(J);
K=w(J+2,aV*2)}else if(l=="usrt")K=$(J);else if(l=="uint")K=u(J);else if(l=="pntr"||l=="ptr6"){K=f(u(J),W)}else if(l=="bool2"){if(v(J)!=0&&v(J)!=1)throw v(J);
K=v(J)==1}else if(l=="bool4"){if(u(J)>60)throw O+","+u(J);K=u(J)==1}else if(l=="color"){if(r!=38&&r!=30&&r!=22)throw r;
var j=u(J),M=v(J+4);K=[j];for(var g=0;g<M;g++)K.push(A(J+6+g*8))}else if(l=="path"){var s=J+r;K=[];var l2=u(J);
J+=4;for(var g=0;g<l2;g++){var gm=[[]];K.push(gm);var iz=u(J);J+=4;for(var dC=0;dC<iz;dC++){var j=u(J);
J+=4;if(j<2){gm[0].push([j,A(J),A(J+8),A(J+16),A(J+24),A(J+32),A(J+40)]);J+=48}else if(j==2){gm[0].push([j,A(J),A(J+8)]);
J+=16}else throw j}var dL=$(J);if(dL!=0&&dL!=1&&dL!=256){console.log("unknown last",dL);K.pop();break}gm.push(dL);
J+=2}}else if(l=="ptrAndList"){var cP=u(J),K=[];if(r>4){var id=u(J+4);if(id>600)throw id;K=d(J+8,id,W)}K.unshift(f(cP,W))}else if(l=="ptrArray"||l=="ptrArrayX"){var jR=r>>2;
if(l=="ptrArray"){jR=u(J);J+=4;if(r!=4+jR*4)throw r}K=d(J,jR,W)}else if(l=="ptrArray2"){var jR=u(J);
J+=4;K=d(J,jR,W);J+=jR*4;jR=u(J);J+=4;K.push(d(J,jR,W))}else if(l=="cldrn"){var hC=u(J),eJ=u(J+4),jR=u(J+8);
K={J:f(hC,W),ba:f(eJ,W),Gp:d(J+12,jR,W)};if(r!=12+jR*4){console.log(O,sa);throw"e"}if(hC==0)throw hC}else if(l=="aprnc"){var jR=u(J);
J+=4;K={};for(var g=0;g<jR;g++){var el=u(J),eu=v(J+4),jY=v(J+6);J+=8;var fN=G[el.toString(16)];if(fN==null)fN="prm-"+el.toString(16);
else fN=S(fN);K[fN]=[];for(var dC=0;dC<jY;dC++){var jC=u(J),kF=v(J+4),i6=null;J+=6;if(jC==28264)i6=A(J);
else if(jC==28263)i6=u(J);else if(jC==279||jC==6917)i6=f(u(J),W);else if(jC==28261)i6=$(J)==1;else if(jC==28265)i6=[A(J),A(J+4)];
else if(jC==6914||jC==83231)i6=_(J)[0];else if(jC==28259||jC==28260||jC==23094||jC==67679){i6=z.slice(J,J+kF)}else throw jC.toString(16);
K[fN].push(i6);J+=kF}}}else if(l=="lopts"){var kT=8;if(c&&v(J+kT)<2)kT+=2;if(!c&&(u(J+kT)==0||u(J+kT)==65536))kT+=2;
K={abC:v(J+0)==1,show:v(J+2)==1,awx:v(J+4)==1,VT:u(J+kT),name:_(J+kT+8)[0]}}else if(l=="origin"){var s=J+r;
if(z[J++]!=1)throw"e";var aV=u(J);J+=4;var kY=e.RM(z,J,aV);J+=aV;J++;var h9=z[J++],bG=v(J);J+=2;var dQ=u(J);
J+=4;if(dQ!=0&&dQ!=1)throw dQ;var jn=u(J);J+=4;if(jn!=0&&jn!=2&&jn!=3)throw jn;var b1=X(J);J+=4;var c8=_(J,!0);
J=c8[1];c8=c8[0];var j_=X(J),fQ=X(J+4);J+=8;var cM=X(J);J+=4;if(cM!=0)throw cM;var jK=X(J);J+=4;var aw=_(J)[0];
J+=2+2+aw.length+3;K={file:kY,id:c8,tS:aw}}else if(l=="string")K=_(J)[0];else if(l=="relEnt"){var ez=v(J);
J+=2;K=[];for(var g=0;g<ez;g++)K.push([u(J+g*8),f(u(J+g*8+4),W)])}else if(l=="textData"){var s=J+r,g4=u(J);
J+=4;var el=u(J);J+=4;var M=v(J);J+=2;var ht=[];for(var g=0;g<M;g++){var gx=u(J);J+=4;if(g4==514)ht.push(_(J,!0)[0]);
else if(g4==515){var kE=u(J),O=u(J+4),kS=m(J+8,W);ht.push([kE,f(O,W),kS])}else if(g4==516){var kE=u(J),O=u(J+4),h7=v(J+8),kS=m(J+8,W);
ht.push([kE,f(O,W),kS])}else ht.push(z.slice(J,J+gx));J+=gx}if(s-J!=12)throw s-J;K=ht}else if(l=="storyProps"){var b7=J;
if(v(b7+4)>1)throw"e";var M=u(b7+10);K={a9b:u(b7),a22:f(u(b7+6),W),Gp:d(b7+14,M,W),aqn:f(u(b7+14+M*4),W)}}else if(l=="styleProps")K=m(J,W);
else if(l=="bounds"){var b7=J,ez=u(J);J+=4;K=[];for(var g=0;g<ez;g++){var i7=[];K.push(i7);for(var dC=0;
dC<4;dC++)i7.push(A(J+dC*8));J+=32;i7.push(z[J]);J++}if(J!=b7+r)throw"e"}else if(l=="columnPos"){var ez=u(J);
J+=4;K=[P(J,ez),A(J+ez*8)];J+=ez*8+8}else if(l=="StyleName"){K=[u(J+4)]}else if(l=="fontName"){var s=J+r;
K=[v(J)];J+=2;if(K[0]==2){J=s}else if(K[0]==3){for(var g=0;g<2;g++){if(v(J+3)==0){J+=7;continue}var kY=_(J);
J=kY[1];K.push(kY[0])}var fp=u(J);J+=4;if(fp==0){J=s}else{var kY=_(J);J=kY[1];K.push(kY[0]);var kY=_(J);
J=kY[1];K.push(kY[0]);var kY=_(J);J=kY[1];K.push(kY[0]);J+=10}J=s}else{if(K[0]!=1&&K[0]!=4)throw K[0];
for(var g=0;g<2;g++){var kY=_(J);J=kY[1];K.push(kY[0])}var jB=v(J),fB=v(J+2);J+=4;K.push(jB);var fp=v(J);
J+=2;K.push(fp);var df=v(J);J+=2;var dt=[];K.push(dt);for(var g5=0;g5<df;g5++){var bR=[];dt.push(bR);
var kY=_(J);J=kY[1];bR.push(kY[0]);var h$=v(J);if(h$<256){J+=2;var kY=e.RM(z,J,h$);J+=h$;bR.push(kY)}else{var kY=_(J);
J=kY[1];bR.push(kY[0])}for(var g=0;g<3;g++){var kY=_(J);J=kY[1];bR.push(kY[0])}var ih=u(J);bR.push(ih);
J+=4;if(u(J)>65535)t=!1;if(!t)continue;var kY=_(J,!0);J=kY[1];bR.push(kY[0])}K.push(u(J));J+=4}if(J!=s){J=s;
console.log("strange fontName")}}else throw l;if(h[o]!=null){console.log(o,h[o],K);console.log(W.slice(0));
console.log(eid,O,J,h[o],N,K);throw"e"}h[o]=K}else{var jt=z.slice(J,J+r);h["prop-"+O]=jt}W.pop()}function m(J,O){var Y=v(J);
J+=2;var h={};for(var g=0;g<Y;g++){var r=u(J);J+=4;var W=r.toString(16),N=v(J);J+=2;var o=v(J);J+=2;
for(var K=0;K<o;K++){var l=u(J);J+=4;var aV=v(J);J+=2;Q(W,I,h,J,aV,O);J+=aV}}return h}function H(O){c=!0;
t=!0;z=new Uint8Array(O);y=V();var Y=y[2147483649];Y=e.A8(Y,4,Y.length-4);delete y[2147483649];E=0;for(var h in y)E=Math.max(E,parseInt(h));
F=[];var r={};for(var h in y)r[h]=y[h];var W=y[1];if(W[0]==0)c=!1;for(var h in y)f(parseInt(h),[]);return y}function S(O){O=O.split(" ").join("");
return O[0].toLowerCase()+O.slice(1)}var R={"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},I={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},D={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},G={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},C={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return H}();function li(){}li.yi=function(){var z=0;function J(X,U){var w=bB.yi(X),H=1;z=0;var P=w[1],k=P.spreads,T=[],Z=new fw;
for(var i=0;i<k.length;i++){var V=k[i],_=V.children;if(_==null)continue;var y=_.Gp,E=n(V),F=y[0].children.Gp,d=new fw;
for(var x=0;x<F.length;x++){var f=F[x],Q=n(f);Q.concat(E);var m=p(f);m.offset(Q.Rf,Q.Sm);m=a.b.$M(m);
d=d.KQ(m)}T.push(d);Z=Z.KQ(d)}while(Math.sqrt(Z.C())*H<1e3)H++;while(Z.C()*H*H*4>2e9)H/=2;U.r=Z.r*H;
U.$=Z.$*H;U.buffer=new Uint8Array(4*U.r*U.$);U.Uq=!0;U.Ge=Math.round(72*H);U.Gd(k.length);for(var i=0;
i<k.length;i++){var V=k[i],_=V.children;if(_==null)continue;var y=_.Gp,S=U.JG();S.a3=24;S.add.lsct=cp.xj;
S.HV("Artboard "+(i+1));var R=T[i].P();R.offset(-Z.x,-Z.y);R.x*=H;R.y*=H;R.r*=H;R.$*=H;R=a.b.$M(R);S.Uu(R);
S.QN="pass";U.U.push(U.eH());var E=n(V);E.translate(-Z.x,-Z.y);E.scale(H,H);var I={};for(var D=0;D<y.length-1;
D++){var G=y[D],C=G.children;if(C==null)continue;C=C.Gp;var O=U.JG(),Y=G.layer;if(Y==null)continue;var h=Y.lopts;
if(h.name=="Internal_pages_layer_name"||I[h.name])continue;I[h.name]=!0;O.a3=24;O.add.lsct=cp.xj;O.HV(h.name);
O.Rz(h.show);if(h.abC)O.add.lspf=1<<31;O.QN="pass";U.U.push(U.eH());for(var g=0;g<C.length;g++)v(C[g],U,E,w);
U.U.push(O)}U.U.push(S)}}function p(X){var U=X.rect;return new fw(U[0],U[1],U[2]-U[0],U[3]-U[1])}function n(X){var U=X.transform;
if(U==null)U=new fA;return new fA(U[0],U[1],U[2],U[3],U[4],U[5])}function B(X){var U=X.color,w=X.parentFill,k;
if(U==null&&w)U=w.color;if(U==null){console.log("strange color",X);return[0,0,0]}var P=U[0];if(P==5)k=U.slice(1);
else if(P==6)k=UDOC.C.cmykToRgb(U.slice(1));else if(P==7){var T=a.p6(U[1],U[2],U[3]);k=[T.o/255,T.k/255,T.X/255]}else if(P==9)k=[U[1],U[1],U[1]];
else if(P==14){k=U.slice(1);console.log("unsure about the color")}else{console.log(U);throw P}return k}function c(X){var U=B(X);
return a.Wi.yR({o:U[0]*255,k:U[1]*255,X:U[2]*255})}function t(X){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[X]}function u(X,U){var g=0,w=0;
while(X[g+1]&&w+X[g][0]<=U){w+=X[g][0];g++}X=X[g][1].textData;g=0;while(X[g+1]&&w+X[g][0]<=U){w+=X[g][0];
g++}return X[g]}function v(X,U,w,P){var k=X.transform?n(X):new fA;k.concat(w);var T=X.path,Z=X.appearance,i=X.visible,V=X.children?X.children.Gp:null,_=U.JG();
if(i!=null)_.Rz(i);var y=V&&V.length==1&&V[0]&&V[0].bitmapFill,E=X["bool2-1623"]&&V&&V.length==1&&V[0].rect&&V[0]._type.startsWith("TextFrame");
if(y){_.HV("bitmap");var F=V[0],d=p(F),x=n(F),R=null;x.concat(k);var f=F.bitmapFill.bitmap;f=P[f]._bin;
if(f==null)return;if(f.length!=f.buffer.byteLength)f=f.slice(0);if(f[0]==123){console.log("unknown bitmap format");
return}var Q=kL.yd(f.buffer);if(["jpg","tiff","png","gif","webp"].indexOf(Q)==-1){alert("unsupported bitmap format:"+Q);
return}var m=U.aZ(f,"img.jpg",0,0);m.a3=_.a3;_=m;var H=[0,0,d.r,0,d.r,d.$,0,d.$];a.b.h(H,x,H);_.add.SoLd.Trnf=L.tp.ey(H);
_.add.SoLd.nonAffineTransform=L.tp.ey(H);_.m8(U,!1);var S=F.path;if(S&&S.length!=0)R=$(S,x,Z);else if(T&&T.length!=0)R=$(T,k,Z);
if(R){var I=a.z.nd(R.u),D=a.b.yq(H);if(I.C()/D.ly(I).C()>1.1){if(I.contains(D))R=null;var G=X.children;
X.children=null;v(X,U,w,P);X.children=G}}if(R)_.add.vmsk=R;_.cC();_.k3(U)}else if(E){if(Z&&Z.strokeSwatch){var C=U.JG();
A(C,U,Z,T,k);U.U.push(C)}var O=V[0],d=p(O),x=n(O),dL=0;x.concat(k);var Y=O.children.Gp[0],h=Y.obj228,r=h[0].story[1],W=r.stoProps.a22.relEnt,N=r.stoProps.Gp[0].relEnt;
if(N==null)N=r.stoProps.Gp[2].relEnt;var o=r.stoProps.Gp[1];if(o["ptrArrayX-210"]==null)o=r.stoProps.Gp[6];
if(o["ptrArrayX-210"][0]==null)return;o=o["ptrArrayX-210"][0].textData;var K=P[W[0][1].textData[0][1].name[0]],l=K?K.styProps:{};
o=o.join("").replace(/\r/g,"\n");var aV=-1;while((aV=o.indexOf("\uFFFC"))!=-1){o=o.slice(0,aV)+(o[aV-1]=="\n"?" ":" ")+o.slice(aV+1)}_.HV(o.slice(0,255));
_.add.lnsr="rend";_.add.TySh=dN.gI(0,0);_.add.TySh.M6=d;_.add.TySh.h=x;var j=_.add.TySh.qU;dN.tJ(j,0,o);
var M=dN.cj(j,0,o.length);M.uA.FontSize=10;dN.CG(j,0,o.length,M);var s=[];if(o.length!=0){var l2=u(W,0),gm=u(N,0),iz=1;
for(var g=1;g<o.length;g++){var T=u(W,g),dC=u(N,g);if(T!=l2||dC!=gm){s.push(iz);iz=0}l2=T;gm=dC;iz++}if(iz!=0)s.push(iz)}for(var g=0;
g<s.length;g++){var cP=u(N,dL),id=s[g],jR=Math.min(dL+id,o.length-1),hC=cP[2],eJ=cP[1]?cP[1].styProps:null;
if(eJ==null)eJ={};var el=u(W,dL),eu=el[1].styProps,jY=el[2],fN={};for(var jC in l)fN[jC]=l[jC];for(var jC in eu)fN[jC]=eu[jC];
for(var jC in jY)fN[jC]=jY[jC];for(var jC in eJ)fN[jC]=eJ[jC];for(var jC in hC)fN[jC]=hC[jC];fN.FontCaps=fN.FontCaps&3;
var M=dN.cj(j,dL,jR),kF=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],i6=kF.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var kT=0;kT<i6.length;kT++){var jC=i6[kT],kY=kT<kF.length?M.uA:M.gC;if(fN[jC]!=null)kY[jC]=fN[jC]}if(fN.fillColor){var h9=B(fN.fillColor);
M.uA.FillColor={Type:1,Values:[1].concat(h9)}}if(fN.font){var bG=fN.font.name[5],dQ=fN.fontStyle;if(dQ==null)dQ="Regular";
if(bG)for(var jn=0;jn<bG.length;jn++)if(bG[jn][0]==dQ)dN.Qp(M,bG[jn][1])}if(fN.leading!=null&&fN.leading>1){M.uA.Leading=fN.leading;
M.uA.AutoLeading=!1}if(fN.align!=null)M.gC.Justification=[0,2,1,6,3,5,4,0,0,0][fN.align];dN.CG(j,dL,jR,M);
dL+=id}dN.NA(j,1);dN.h4(j,[0,0,Math.round(d.r),Math.round(d.$)])}else if(X._type.startsWith("Path")&&(V==null||V.length==0)&&T){A(_,U,Z,T,k)}else{var b1=X["prop-14526"];
if(V==null&&b1){var c8=P[e.gm(b1,20)];V=[c8]}if(V){if(T&&T.length!=0){_.add.vmsk=$(T,k,Z);_.cC();_.k3(U)}_.HV("group");
_.a3=24;_.add.lsct=cp.xj;U.U.push(U.eH());for(var g=0;g<V.length;g++)if(V[g])v(V[g],U,k,P)}}if(Z){var j_=Z.objectBlendingMode,fQ=Z.objectOpacity,cM=Z.fillTint,aw=!1;
if(j_)_.QN=t(j_[0]);if(fQ)_.YF=Math.round(_.YF*fQ[0]/100);if(!y&&cM)_.YF=Math.round(_.YF*cM[0]/100);
var jK=JSON.parse(a_.default);for(var g=0;g<a_.order.length;g++)jK[a_.in[g]]={t:"VlLs",v:[]};var ez="dropShadow innerShadow satin bevel iglow oglow".split(" "),g4="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var g=0;g<ez.length;g++){var ht=ez[g];if(Z[ht]&&Z[ht][0]){var gx=Z[ht],kS=135,h7=10;aw=!0;var kE=JSON.parse(a_.ef[a_.order.indexOf(g4[g])]);
jK[a_.in[a_.order.indexOf(g4[g])]].v.push({t:"Objc",v:kE});if(Z[ht+"Color"])kE.Clr.v=c(Z[ht+"Color"][0]);
else if(ez[g]=="iglow"||ez[g]=="oglow")kE.Clr.v=a.Wi.yR({o:255,k:255,X:255});if(Z[ht+"ColorH"])kE.hglC.v=c(Z[ht+"ColorH"][0]);
if(Z[ht+"ColorS"])kE.sdwC.v=c(Z[ht+"ColorS"][0]);if(Z[ht+"BMode"])kE.Md.v.BlnM=jM.oa(t(Z[ht+"BMode"][0]));
if(Z[ht+"BModeH"])kE.hglM.v.BlnM=jM.oa(t(Z[ht+"BModeH"][0]));if(Z[ht+"BModeS"])kE.sdwM.v.BlnM=jM.oa(t(Z[ht+"BModeS"][0]));
if(Z[ht+"Opacity"])kE.Opct.v.val=Z[ht+"Opacity"][0];if(Z[ht+"OpacityH"])kE.hglO.v.val=Z[ht+"OpacityH"][0];
if(Z[ht+"OpacityS"])kE.sdwO.v.val=Z[ht+"OpacityS"][0];if(Z[ht+"Size"])kE.blur.v.val=Z[ht+"Size"][0];
if(Z[ht+"Angle"])kS=Z[ht+"Angle"][0];if(Z[ht+"Dist"])h7=Z[ht+"Dist"][0];if(Z[ht+"DX"]){var b7=Z[ht+"DX"][0],i7=Z[ht+"DY"]?Z[ht+"DY"][0]:0;
h7=Math.round(Math.sqrt(b7*b7+i7*i7));kS=Math.round(Math.atan2(i7,-b7)*180/Math.PI)}if(kE.lagl)kE.lagl.v.val=kS;
if(kE.Dstn)kE.Dstn.v.val=h7;if(kE.uglg)kE.uglg.v=!1;if(Z[ht+"Invert"])kE.Invr.v=Z[ht+"Invert"][0];else if(ez[g]=="satin")kE.Invr.v=!1;
if(Z[ht+"Alt"])kE.Lald.v.val=Z[ht+"Alt"][0];if(Z[ht+"Depth"])kE.srgR.v.val=Z[ht+"Depth"][0];if(Z[ht+"Choke"])kE.Ckmt.v.val=Z[ht+"Choke"][0]}}if(aw)_.add.lmfx=jK}if(X.name)_.HV(X.name);
else if(Z&&Z.name)_.HV(Z.name[0]);U.U.push(_)}function A(X,U,w,P,k){X.HV("path");X.a3|=16;X.add.vmsk=$(P,k,w);
var T=X.add.vstk=a_.jM.J0(),Z=a.Wi.yR({o:0,k:0,X:0});if(w){var i=w.strokeSwatch,V=w.fillSwatch,_=w.basicFeather,y=w.basicFeatherWidth,E=w.strokeWeight;
T.strokeEnabled.v=i!=null;T.fillEnabled.v=V!=null;if(_)X.add.vmsk.cc=y?y[0]:9;if(i){T.strokeStyleLineWidth.v.val=E?E[0]:1;
Z=c(i[0]);T.strokeStyleContent.v.Clr.v=Z}if(V){Z=c(V[0])}}if(Z)X.add.SoCo={classID:"null",Clr:{t:"Objc",v:Z}};
X.cC();X.k3(U)}function $(X,U,w){var P=new bi.jP,k=P.u;for(var T=0;T<X.length;T++){var Z=X[T],i=Z[0].length,V=Z[1]==0;
if(i==0)continue;var _=V?0:3;k.push({I:_,length:i,j1:0,VR:2,RX:0,Zt:0});for(var g=0;g<i;g++){var y=Z[0][g],E=y[0],F=new i_(y[1],y[2]),d=new i_(y[3],y[4]),x=new i_(y[5],y[6]);
if(E==0||E==1)k.push({I:_+2,FV:F,cy:d,M3:x});else if(E==2)k.push({I:_+2,FV:F,cy:F,M3:F});else throw E}}a.z.Gn(k,U);
return P}return J}();function f2(){}f2.JI=async function(z,J,p){if(p==null){p=8*1024*1024}var n=await z.slice(J,J+p),B=await n.arrayBuffer();
return new Uint8Array(B)};f2.a4r=function(z,J){var p=z[J],n=p,B=1;while(!(p&128)){++B;p=p<<1&255}p&=127;
p>>>=B-1;for(var g=1;g<B;++g){var c=z[J+g];p*=256;p+=c;n*=256;n+=c}return[p,B,n]};f2.lz=function(z,J,p){var n=z[J],B=n&128,c=n&127;
for(var g=1;g<p;++g){B*=256;c*=256;c+=z[J+g]}return c-B};f2.fy=function(z,J,p){var n=z[J];for(var g=1;
g<p;++g){n*=256;n+=z[J+g]}return n};f2.a12=function(z){var J=1,p=f2.fy(z,J,1),A="hvc1",X=0,U=!1,w="";
J+=1;var n=p>>6,B=(p&32)>>5,c=p&31,t=f2.fy(z,J,4);J+=4;var u=z.slice(J,J+6);J+=6;var v=f2.fy(z,J,1);
A+=".";switch(n){case 0:A+="";break;case 1:A+="A";break;case 2:A+="B";break;case 3:A+="C";break}A+=c;
A+=".";var $=t;for(var g=0;g<32;g++){X|=$&1;if(g==31)break;X<<=1;$>>=1}A+=X.toString(16);A+=".";if(B===0){A+="L"}else{A+="H"}A+=v;
for(g=5;g>=0;g--){if(u[g]||U){w="."+u[g].toString(16)+w;U=!0}}A+=w;return A};f2.VS=function(z,J){this.JD=!1;
this.or=z;this.position=0;this.rE=[];this.sP=[];this.Vk=[];this.H7=[];this.Dh=!0;this.aEf=0;this.bl=10;
this.aG=6;this.tY=[];this.wV=-2;this.l_=[];this.aR;this.Xc;this.OZ=J;this.W$;this.k4;this.aCY=-1;this.frames;
this.te=null;this.lY=null;this._I=null};f2.VS._Z=async function(){if(!this.JD){await this.DL()}return this.Zq};
f2.VS.lc=function(z){var J=this.sP[this.position],p;if(this.Dh&&J==this.aEf)this.Dh=!1;if(!this.OZ){if(this.Vk[J]){this.Xc.drawImage(z,0,0);
p=this.Xc.getImageData(0,0,this.Zq.Mf.width,this.Zq.Mf.height).data}if(this.H7[this.position]==0)z.close()}try{if(this.rE[J]){if(this.OZ){this.rE[J](z)}else if(this.Vk[J]){this.rE[J](p)}}var n=this.position-this.bl;
if(n>=0){var B=this.sP[n];delete this.F$[B];delete this.rE[B];this.Vk[B]=!1}this.position++}catch(l5){console.log(J);
console.log(this.rE[J]);console.log(l5)}};f2.VS.Hr=async function(z){if(this.H7[this.position]==0){if(this.OZ){createImageBitmap(z).then(img=>{this.lc(img)});
z.close()}else{this.lc(z)}}else{var J=this.H7[this.position];createImageBitmap(z,{resizeWidth:z.aET>>J,resizeHeight:z.a0E>>J}).then(img=>{this.lc(img)});
z.close()}};f2.VS.S6=async function(z,J,jy=0){if(!this.JD){await this.DL()}if(!this.lY){await this.aoC();
if(this.lY.state!="configured"){console.log("Could not make decoder.");return}}if(this.W$.length<=z){console.log("Requested track does not exist");
return}var p=this.W$[z],c,t,u;if(J>=this.Zq.Mf.LZ||J<0){console.log("Requested frame out of range");
return}var n=J;J=this._0(J);this.Vk[J]=!0;var B=J-this.wV;if(this.Dh){B=1;this.aEf=J}if(J!=this.wV+1){t=this.tY[this.tY.length-1];
for(var g=0;g<this.tY.length;++g){if(J<this.tY[g]){t=this.tY[g-1];break}}if(t==this.aCY){if(J>this.sP[this.sP.length-1]){t=this.sP[this.sP.length-1]+1}else if(this.F$[J.toString()]){t=this.sP[this.sP.length-1]+1}else{for(var g=this.sP.length-this.aG;
g<this.sP.length;++g){if(this.sP[g]==J){t=this.sP[this.sP.length-1]+1;break}}}}else{this.aCY=t;for(var g=this.sP.length-this.aG;
g<this.sP.length;++g){if(this.sP[g]==J){t=this.sP[this.sP.length-1]+1;break}}}}else{t=0;if(this.sP.length>0){t=this.sP[this.sP.length-1]+1}}if(t<this.frames){u=Math.min(J+this.aG,this.frames);
for(var g=t;g<u;++g){this.F$[g]=new Promise(function(v,A){c=v});this.rE[g]=c;this.sP.push(g);this.H7.push(jy);
if((g-J)%B==0)this.Vk[g]=!0}this.aqc(p,t,u)}this.wV=J;if(this.Dh)await new Promise(resolve=>setTimeout(resolve,200));
if(this.Dh){this.bl+=10;this.aG+=6;this.S6(z,n+1,jy)}return this.F$[J.toString()]};var gc=function(z){function J(t,u){var v=[];
for(var g=0;g<9;g++){var A=e.fy(t,u+g*4);if(g%3==2)v.push((A>>>30)+(A&1073741823)/1073741823);else v.push((A>>>16)+(A&65535)/65535)}return v}async function p(t,u,v,A,$,X){var U={},w=e.fy,P=e.Bq;
if(u==null){u=await f2.JI(t,v)}var k=A-v;while(A<$){var T=k,Z=e.fy(u,k);k+=4;var i=e.RM(u,k,4);k+=4;
if(Z==0)Z=$-T-v;if(Z==1){Z=e.LD(u,k);k+=8}var V=T+Z,_="".padStart(X,"\t");if(i!="mdat"&&V>u.byteLength){u=await f2.JI(t,v,V)}var y={};
if(i=="mvhd"){var E=u[k];if(E>1)throw i+"-e";k+=4;if(E==0){y.KR=w(u,k);k+=4;y.n2=w(u,k);k+=4;y.J6=w(u,k);
k+=4;y.duration=w(u,k);k+=4}else{y.KR=e.LD(u,k);k+=8;y.n2=e.LD(u,k);k+=8;y.J6=w(u,k);k+=4;y.duration=e.LD(u,k);
k+=8}y.Gs=w(u,k);k+=4;y.volume=P(u,k);k+=2;k+=10;y.ako=J(u,k);k+=4*9;y.a63=[];for(var g=0;g<6;g++)y.a63.push(w(u,k+g*4));
k+=4*6;y.acu=w(u,k);k+=4}else if(i=="tkhd"){var E=u[k];if(E>1)throw i+"-e";k+=4;if(E==0){y.KR=w(u,k);
k+=4;y.n2=w(u,k);k+=4;y.uR=w(u,k);k+=4;k+=4;y.duration=w(u,k);k+=4}else{y.KR=e.LD(u,k);k+=8;y.n2=e.LD(u,k);
k+=8;y.uR=w(u,k);k+=4;k+=4;y.duration=e.LD(u,k);k+=8}k+=8;y.w=P(u,k);k+=2;y.a7W=P(u,k);k+=2;y.volume=P(u,k);
k+=2;k+=2;y.ako=J(u,k);k+=4*9;y.Tx=w(u,k)>>>16;k+=4;y.tK=w(u,k)>>>16;k+=4}else if(i=="mdhd"){var E=u[k];
if(E>1)throw i+"-e";k+=4;if(E==0){y.KR=w(u,k);k+=4;y.n2=w(u,k);k+=4;y.J6=w(u,k);k+=4;y.duration=w(u,k);
k+=4}else{y.KR=e.LD(u,k);k+=8;y.n2=e.LD(u,k);k+=8;y.J6=w(u,k);k+=4;y.duration=e.LD(u,k);k+=8}y.lang=P(u,k);
k+=2;y.Rg=P(u,k);k+=2}else if(i=="hdlr"){var F=w(u,k);k+=4;if(F!=0)throw F;y.iQ=e.RM(u,k,4);k+=4;y.azw=e.RM(u,k,4);
k+=4;y.aEF=w(u,k);k+=4;y.a3=w(u,k);k+=4;y.a6m=w(u,k);k+=4;var d=k;while(u[d]!=0)d++;y.name=e.RM(u,k,d-k);
k+=d-k+1}else if(i=="stsd"){var F=w(u,k);k+=4;if(F!=0)throw F;var x=w(u,k);k+=4;if(x!=1)throw x;var f=w(u,k);
k+=4;y.Q6=e.RM(u,k,4);k+=4;if(y.Q6=="mett"){y.abn=e.RM(u,k,V-k)}else{for(var g=0;g<6;g++)if(u[k+g]!=0)throw i+"-e";
k+=6;y.a9_=P(u,k);k+=2;y.adc=P(u,k);k+=2;y.anI=P(u,k);k+=2;y.awG=w(u,k);k+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(y.Q6)!=-1){y.agK=w(u,k);
k+=4;y.aCy=w(u,k);k+=4;y.a4q=[P(u,k),P(u,k+2)];k+=4;y.ads=[w(u,k)/(1<<16),w(u,k+4)/(1<<16)];k+=8;var Q=w(u,k);
k+=4;if(Q!=0)throw i+"-e";var m=P(u,k);k+=2;if(m!=1)throw i+"-e";var H=u[k];k++;y.aHf=e.RM(u,k,H);k+=31;
y.arA=P(u,k);k+=2;var S=P(u,k);k+=2;if(S!=65535)throw i+"-e";if(k!=V)y.jK=await p(t,u,v,v+k,v+V,X+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(y.Q6)!=-1){y.b8=P(u,k);
k+=2;y.arv=P(u,k);k+=2;var R=P(u,k);k+=2;if(R!=0&&R!=65534)throw R;var I=P(u,k);k+=2;if(I!=0)throw I;
y.aBJ=w(u,k)/(1<<16);k+=4;if(k!=V)y.jK=await p(t,u,v,v+k,v+V,X+1)}else if(y.Q6=="CTMD"){y.K=u.slice(k,V)}else if(y.Q6=="tx3g"||y.Q6=="text"||y.Q6=="mebx"){}else if(y.Q6=="tmcd"){}else if(y.Q6=="CRAW"){}else if(y.Q6=="sowt"){}else throw JSON.stringify(y.Q6)}}else if(i=="stts"||i=="stsz"||i=="stco"||i=="stsc"||i=="ctts"||i=="elst"){var F=w(u,k),D=0,O=0;
k+=4;if(i=="stsz"){D=w(u,k);k+=4}var G=w(u,k)*(i=="stsc"||i=="elst"?3:i=="stts"||i=="ctts"?2:1);k+=4;
y=[];for(var g=0;g<G;g++){if(D!=0)y.push(D);else{if(i=="elst"){if(g%3==2){var C=w(u,k);C*=1/(1<<16);
y.push(C)}else y.push(e.lz(u,k))}else y.push(w(u,k));k+=4}}for(var g=0;g<G;g++)O+=y[g]}else if(i=="co64"){var F=w(u,k);
k+=4;if(F!=0)throw F;var G=w(u,k);k+=4;y=[];for(var g=0;g<G;g++){y.push(e.LD(u,k));k+=8}}else if(i=="iinf"){y=[];
k+=2;var Y=w(u,k);k+=4;for(var g=0;g<Y;g++){var h=w(u,k),r=e.RM(u,k+4,4),W=P(u,k+12),N=e.RM(u,k+16,4),T=[r,W,N];
y.push(T);if(h>21)T.push(e.RM(u,k+21,h-22));k+=h}}else if("moov trak mdia minf dinf stbl uuid edts meta iprp moof traf mvex".split(" ").indexOf(i)!=-1){if(i=="uuid")k+=16;
if(i=="meta")k+=4;y=await p(t,u,v,v+k,v+V,X+1);if(i=="moof"){y.p=k+v;y._5=Z}}else if(i=="CMT1"||i=="CMT2"||i=="CMT3"||i=="CMT4"){y=UTIF.decode(u.slice(k,V))}else if(i=="stss"){y.p=k+v;
y._5=Z;y.agk=w(u,k+4)}else if(i=="trex"){y.a3=w(u,k);k+=4;y.vv=w(u,k);k+=4;y.azz=w(u,k);k+=4;y.mq=w(u,k);
k+=4;y.asI=w(u,k);k+=4;y.apt=w(u,k);k+=4}else if(i=="tfhd"){y.a3=w(u,k);k+=4;y.vv=w(u,k);k+=4;if(y.a3&1)k+=8;
if(y.a3&2)k+=4;if(y.a3&8){y.mq=w(u,k);k+=4}}else if(i=="trun"){y.p=k+v;y._5=Z;y.a3=w(u,k);k+=4;y.aIZ=w(u,k);
k+=4}else{y.p=k+v;y._5=Z}k=V;if(i=="trak"||i=="free"||i=="uuid"||i=="traf"||i=="trex"||U.moov&&U.moov.mvex&&(i=="moof"||i=="mdat")){if(U[i]==null)U[i]=[];
U[i].push(y)}else{if(U[i]!=null)throw i;U[i]=y}A=k+v;if(k>=u.byteLength){v+=k;k=0;u=await f2.JI(t,v)}}return U}async function n(t){return await p(t,null,0,0,t.size,0)}function B(t,u){var v=t.mdia.minf.stbl,A=v.stsc,$=0,X=0;
for(var g=0;g<A.length;g+=3){var U=(g+3<A.length?A[g+3]:1e4)-A[g],w=X+U*A[g+1];if(X<=u&&u<w){while(X+A[g+1]<=u){$++;
X+=A[g+1]}break}$+=U;X=w}var P=v.stco;if(P==null)P=v.co64;var k=P[$];while(X<u){k+=v.stsz[X];X++}return[k,v.stsz[u]]}function c(t,u){var v=t.moov.trak,A=[];
for(var g=0;g<v.length;g++){if(v[g].mdia.hdlr.azw==u){A.push(v[g])}}return A}return{yi:n,k5:B,getTracks:c}}();
function cm(z,J){f2.VS.call(this,z,J);this._Z=f2.VS._Z;this.lc=f2.VS.lc;this.Hr=f2.VS.Hr;this.S6=f2.VS.S6;
this.R1;this.aG3=0;this.VJ=0;this.dG=0;this.BP=null;this.gn=null;this.pv}cm.prototype.oe=function(z){this.l_.push(z)};
cm.prototype.aKr=function(z,g){var J=0,p=z.getUint8(g,!1);g+=1;J=p&127;var n=p>>7;while(n==1){p=z.getUint8(g,!1);
g+=1;n=p>>7;var B=p&127;J=J<<7|B}return[J,g]};cm.prototype.a3n=function(z){this.iP={};var J=new DataView(z.buffer),g=4;
g+=4;while(g<J.byteLength){var p=J.getUint8(g,!1);g+=1;var n=this.aKr(J,g),B=n[0];g=n[1];if(p==3){g+=2;
g+=1}else if(p==4){this.iP.objectType=J.getUint8(g,!1);g+=1;this.iP.streamType=J.getUint8(g,!1)>>2;g+=1;
g+=3;this.iP.maxBitrate=J.getUint32(g,!1);g+=4;this.iP.avgBitrate=J.getUint32(g,!1);g+=4}else if(p==5){this.iP.decoderSpecificInfo=z.slice(g,g+B);
g+=B}else{g+=B}}};cm.prototype.aeO=function(z){var J=null,c=0;if(z.a3e){if(z.edts.aFe)J=z.edts.aFe}if(J==null){this.te=this.frames;
return}var p=this.t5.moov.mvhd.J6,n=z.mdia.mdhd.J6,B=z.mdia.mdhd.duration*1e3/n/this.t$.stsz.length;
this.BP=[];for(var g=0;g<J.length;g+=3){var t;if(J[g+1]==-1)t=-1;else t=J[g+1]*1e3/B/n;var j3=J[g]*1e3/B/p;
this.BP.push(c);this.BP.push(Math.floor(t));this.BP.push(J[g+2]);c+=Math.floor(j3)}this.te=c;if(this._0(this.te-1)>this.frames-1)this.te--;
if((c+1)*B<z.tkhd.duration*1e3/p){this.BP.push(c);this.BP.push(0);this.BP.push(1);this.te=Math.floor(z.tkhd.duration*1e3/p/B)}};
cm.prototype._0=function(z){if(this.BP){for(var g=this.BP.length-3;g>=0;g-=3){if(z>=this.BP[g]){if(this.BP[g+1]==-1)z=this.wV;
else if(this.BP[g+2]==0)z=this.BP[g+1];else z=z-this.BP[g]+this.BP[g+1];break}}}return z};cm.prototype.aoC=async function(){this.lY=new VideoDecoder({output:bA=>this.Hr(bA),error:function(n){console.log(n.message)}});
var z=this.t$.stsd.Q6;if(z=="avc1"){this.Aj=this.t$.stsd.jK.avcC;var J={codec:"avc1.640034"};J.description=new Uint8Array(await this.or.slice(this.Aj.p,this.Aj.p+this.Aj._5).arrayBuffer());
this.lY.configure(J)}else if(z=="hev1"||z=="hvc1"){var J={};this.bz=this.t$.stsd.jK.hvcC;J.description=new Uint8Array(await this.or.slice(this.bz.p,this.bz.p+this.bz._5).arrayBuffer());
var p=f2.a12(J.description);J.codec=p;J.codedWidth=this.Zq.Mf.width;J.codedHeight=this.Zq.Mf.height;
this.lY.configure(J)}else{var J={codec:"vp09.00.10.08"};this.lY.configure(J)}};cm.prototype.aqX=async function(){this._I=new AudioDecoder({output:bA=>this.oe(bA),error:function(z){console.log(z)}});
console.assert(await AudioDecoder.isConfigSupported(this.iw));this._I.configure(this.iw)};cm.prototype.aJH=async function(){var z=this.t5.moof,J=null,p=this.t5.moov.mvex.trex,t=0;
for(var g=0;g<p.length;++g){if(p[g].vv==this.pv){J=p[g];break}}if(J==null)throw"fmp4 video track not found";
var n=J.mq;if(n==0){for(var g=0;g<z[0].traf.length;++g){var B=z[0].traf[g].tfhd;if(B.vv==this.pv){n=B.mq;
break}}}var c=this.W$[0].mdia.mdhd.J6;this.Gs=1/(n/c);this.sizes=[];this.gw=[];for(var g=0;g<z.length;
++g){for(var u=0;u<z[g].traf.length;++u){var B=z[g].traf[u].tfhd;if(B.vv!=this.pv&&B.vv!=this.a0k)continue;
var v=z[g].traf[u].trun,A=this.t5.mdat[g].p,$=await this.or.slice(v.p-4,v.p+v._5),X=await $.arrayBuffer(),U=new Uint8Array(X),w=new DataView(U.buffer),P=8+3*4;
if(B.vv==this.pv){this.tY.push(this.sizes.length);while(P<w.byteLength-8){if(v.a3&256)P+=4;if(v.a3&512){this.sizes.push(w.getUint32(P,!1));
P+=4}if(v.a3&1024)P+=4;if(v.a3&2048)P+=4}for(var k=0;k<v.aIZ;++k){if(k==0)this.gw.push(A);else this.gw.push(this.gw[t+k-1]+this.sizes[t+k-1])}t+=v.aIZ}}}};
cm.prototype.DL=async function(){this.t5=await gc.yi(this.or);if(this.t5.moov.mvex)this.gn=!0;this.alo={};
this.F$={};this.W$=gc.getTracks(this.t5,"vide");var z=!0,u=!0;if(this.W$.length>0){var J=this.W$[0],p=J.tkhd;
this.pv=p.uR;this.t$=J.mdia.minf.stbl;var n=this.t$.stsd.Q6;if(n=="avc1"||n=="vp09"||n=="hvc1"||n=="hev1"){if(n=="avc1"&&!this.t$.stsd.jK.avcC||(n=="hvc1"||n=="hev1")&&!this.t$.stsd.jK.hvcC){console.log(n+" video codec not supported (avcC missing).");
z=!1}else{if(!this.gn){await this.aC9(this.t$.stss.p+8,this.t$.stss._5-8);for(var g=0;g<this.anV.byteLength;
g+=4){var B=this.anV.getUint32(g,!1)-1;this.tY.push(B)}var c=J.mdia.mdhd.J6,t=J.mdia.mdhd.duration/c;
this.frames=this.t$.stsz.length;this.Gs=this.frames/t;this.aeO(J)}}}else{console.log(n+" video codec not supported.");
z=!1}}this.k4=gc.getTracks(this.t5,"soun");if(this.k4.length>0){var v=this.k4[0],$;this.a0k=v.tkhd.uR;
var A=v.mdia.minf.stbl,X=A.stsd.b8;if(A.stsd.Q6=="mp4a"){if(A.stsd.jK.esds){this.a1z=A.stsz.length;var U=A.stsd.jK.esds.p,w=A.stsd.jK.esds._5,P=await this.or.slice(U-4,U+w+4),k=await P.arrayBuffer(),T=new Uint8Array(k),Z=null;
this.a3n(T);$="mp4a.";if(this.iP.objectType==64){$+=this.iP.objectType.toString(16);$+=".";$+=(this.iP.decoderSpecificInfo[0]>>3).toString();
Z=this.iP.decoderSpecificInfo}else{$+=this.iP.objectType.toString(16).toUpperCase()}if(Z){var i=Z[0]>>3;
if(i==31){var V=(Z[0]&7)<<3|Z[1]>>5;i=32+V;var _=Z[1]&31>>1;if(_==15){X=(Z[4]&1)<<3|Z[5]>>5}else{X=(Z[1]&1)<<3|Z[2]>>5}}else{var _=(Z[0]&7)<<1|Z[1]>>7;
if(_==15){X=(Z[4]&127)>>3}else{X=(Z[1]&127)>>3}}}this.iw={codec:$,numberOfChannels:X,sampleRate:A.stsd.aBJ};
if(Z){this.iw.description=Z}}else{console.log("Audio codec not supported.");u=!1}}else{console.log("Audio codec not supported.");
u=!1}}if(this.gn){await this.aJH();this.frames=this.gw.length;this.te=this.gw.length}this.Zq={};if(z&&this.W$.length>0){this.Zq.Mf={W$:1,LZ:this.te,Gs:this.Gs,width:p.Tx,height:p.tK}}if(u&&this.k4.length>0&&!this.gn){this.Zq.k6={W$:X,Gs:A.stsd.aBJ,LZ:v.mdia.mdhd.duration}}if(!this.OZ){this.aR=new OffscreenCanvas(this.Zq.Mf.width,this.Zq.Mf.height);
this.Xc=this.aR.getContext("2d",{willReadFrequently:!0});this.bl=10;this.aG=6}this.JD=!0};cm.prototype.aC9=async function(z,J){this.akP=await this.or.slice(z,z+J).arrayBuffer();
this.anV=new DataView(this.akP)};cm.prototype.qZ=async function(z,J){var p=Math.min(J+250,this.frames-1),n,B;
if(this.gn){n=this.f_(J);B=this.f_(p)}else{n=gc.k5(z,J);B=gc.k5(z,p)}var c=await this.or.slice(n[0],B[0]+B[1]),t=await c.arrayBuffer();
this.R1=new Uint8Array(t);this.aG3=J;this.VJ=p;this.dG=n[0];return};cm.prototype.f_=function(g){var z=[];
z.push(this.gw[g]);z.push(this.sizes[g]);return z};cm.prototype.aqc=async function(z,J,p){if(J>=this.VJ||p<this.aG3){await this.qZ(z,J)}for(var g=J;
g<p;++g){if(g>=this.VJ){await this.qZ(z,g)}var n=this.tY.indexOf(g),B=this.gn?this.f_(g):gc.k5(z,g),c=this.R1.slice(B[0]-this.dG,B[0]+B[1]-this.dG),t=new EncodedVideoChunk({timestamp:g,duration:1e3,type:n!=-1?"key":"delta",data:c});
if(this.lY.state=="configured"){try{this.lY.decode(t)}catch(p){console.log("CAUGHT unconfigured");console.log(p);
console.log(t)}}else{console.log("unconfigured");delete c}delete c}if(p==this.frames){await this.lY.flush()}};
cm.prototype.ax2=async function(z,J,p){if(!this._I){await this.aqX()}if(this.k4.length<=z){console.log("Requested audio track does not exist");
return}var n=this.k4[z],B=n.mdia.minf.stbl.stts,c=null,t=null,u=0,v=0;for(var g=0;g<B.length;g+=2){if(c==null&&u+B[g]*B[g+1]>=J){c=Math.ceil(v+(J-u)/B[g+1])}if(t==null&&u+B[g]*B[g+1]>=p){t=Math.ceil(v+(p-u)/B[g+1])}if(c&&t){break}u+=B[g]*B[g+1];
v+=B[g]}var A=gc.k5(n,c),$=gc.k5(n,t),X=await this.or.slice(A[0],$[0]+$[1]),U=await X.arrayBuffer(),w=new Uint8Array(U);
for(var g=c;g<t;++g){var P=gc.k5(n,g),k=w.slice(P[0]-A[0],P[0]+P[1]-A[0]),T=new EncodedAudioChunk({timestamp:g,duration:1e3,type:"key",data:k});
try{this._I.decode(T)}catch(l5){console.log("Error decoding audioframe "+g.toString()+". "+l5.message)}}try{await this._I.flush()}catch(l5){console.log("CAUGHT flush, but returning");
return this.l_}return this.l_};function fY(z,J,p){this.Zq=J;this.UC=z;this.aKn=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.a3w=40;this.Tx,this.tK;this.yl;this.fL;this.wH;this.akI;this.description;this.cF;this.hS;this.hA;
this.He;this.JC;this.x$;this.AL=p;this.xr;this.md;this.ll;this.atw;this.cG;if(this.Zq.Mf){this.ayv()}if(this.Zq.k6){this.ai6()}}fY.prototype.aEU=function(z){return new Uint8Array([z.charCodeAt(0),z.charCodeAt(1),z.charCodeAt(2),z.charCodeAt(3)]).buffer};
fY.prototype.a58=function(z){var J=new Uint32Array([z]),p=new Uint8Array(J.buffer);return new Uint8Array([p[3],p[2],p[1],p[0]])};
fY.prototype.vC=function(z){this.ll[this.md]=z;++this.md};fY.prototype.pJ=function(z){this.ll[this.md]=z>>8&255;
this.ll[this.md+1]=z&255;this.md+=2};fY.prototype.aJ$=function(z){this.ll[this.md]=z>>16&255;this.ll[this.md+1]=z>>8&255;
this.ll[this.md+2]=z&255;this.md+=3};fY.prototype.N7=function(z){this.ll[this.md]=z>>24&255;this.ll[this.md+1]=z>>16&255;
this.ll[this.md+2]=z>>8&255;this.ll[this.md+3]=z&255;this.md+=4};fY.prototype.c9=function(z){this.xr.push(this.md);
this.md+=4;this.ca(z)};fY.prototype.ca=function(z){for(var g=0;g<z.length;++g){this.ll[this.md]=z.charCodeAt(g);
++this.md}};fY.prototype.anl=function(z){this.ll.set(new Uint8Array(z),this.md);this.md+=z.byteLength};
fY.prototype.s$=function(){var z=this.md;this.md=this.xr.pop();this.N7(z-this.md);this.md=z};fY.prototype.aLs=function(z,J){if(!this.description&&J){if(J.description){this.description=J.description}if(J.decoderConfig&&J.decoderConfig.description){this.description=J.decoderConfig.description}}var p=new ArrayBuffer(z.byteLength);
z.copyTo(p);this.BI(p);this.yl.push({duration:z.duration,timestamp:z.timestamp,type:z.type,byteLength:z.byteLength});
if(z.type=="key"){this.wH.push(this.yl.length)}};fY.prototype.oe=function(z,J){if(!this.cF&&J){if(J.decoderConfig){this.cF=J.decoderConfig}}var p=new ArrayBuffer(z.byteLength);
z.copyTo(p);this.atB(p);this.fL.push({duration:z.duration,timestamp:z.timestamp,type:z.type,byteLength:z.byteLength});
if(z.type=="key"){this.akI.push(this.fL.length)}};fY.prototype.BI=function(z){var J=new Uint8Array(this.hS.byteLength+z.byteLength);
J.set(new Uint8Array(this.hS));J.set(new Uint8Array(z),this.hS.byteLength);this.hS=J.buffer;if(this.hS.byteLength>20*1024*1024){this.UC.write(this.hS);
this.hS=new Uint8Array}};fY.prototype.atB=function(z){var J=new Uint8Array(this.hA.byteLength+z.byteLength);
J.set(new Uint8Array(this.hA));J.set(new Uint8Array(z),this.hA.byteLength);this.hA=J.buffer};fY.prototype.a9M=function(){this.xr=[];
var z=this.a3w,J=[],p={},n=9e4,B=this.yl.length,c=this.wH.length,t=-1,v=!1,P=1;for(var g=0;g<this.yl.length;
++g){this.He+=this.yl[g].duration/1e3;this.x$+=this.yl[g].byteLength;if(this.yl[g].duration!=t){if(g!=0){J.push(p)}t=this.yl[g].duration;
p={duration:9e4*this.yl[g].duration/1e6,sampleCount:1}}else{p.sampleCount=p.sampleCount+1}}this.x$+=8;
J.push(p);var u=J.length;if(this.Zq.k6){v=!0}if(v){var A=[],$=this.fL.length;this.JC=0;var X=this.cF.sampleRate,t=-1;
for(var g=0;g<this.fL.length;++g){this.JC+=this.fL[g].duration/1e3;this.x$+=this.fL[g].byteLength;var U=Math.round(X*this.fL[g].duration/1e6);
if(U!=t){if(g!=0){A.push(p)}t=U;p={duration:U,sampleCount:1}}else{p.sampleCount=p.sampleCount+1}}A.push(p);
var w=A.length}var k=579+this.description.byteLength+4*B+4*B+4*c+8*u;if(v){k+=426+this.cF.description.byteLength+4*$+4*$+8*u;
P=2}this.ll=new Uint8Array(k);this.md=0;this.c9("moov");this.c9("mvhd");this.N7(0);this.N7(0);this.N7(0);
this.N7(1e3);this.N7(this.He);this.N7(65536);this.pJ(256);this.pJ(0);this.N7(0);this.N7(0);this.N7(65536);
this.N7(0);this.N7(0);this.N7(0);this.N7(65536);this.N7(0);this.N7(0);this.N7(0);this.N7(1073741824);
this.N7(0);this.N7(0);this.N7(0);this.N7(0);this.N7(0);this.N7(0);this.N7(2);this.s$();for(var T=0;T<P;
++T){this.c9("trak");this.c9("tkhd");this.N7(7);this.N7(0);this.N7(0);this.N7(1);this.N7(0);if(T==1)this.N7(this.JC);
else this.N7(this.He);this.N7(0);this.N7(0);this.pJ(0);this.pJ(0);this.pJ(256);this.pJ(0);if(T==1){this.N7(1);
this.N7(0);this.N7(0);this.N7(0);this.N7(1);this.N7(0);this.N7(0);this.N7(0);this.N7(1);this.N7(this.Tx*0);
this.N7(this.tK*0)}else{this.N7(65536);this.N7(0);this.N7(0);this.N7(0);this.N7(65536);this.N7(0);this.N7(0);
this.N7(0);this.N7(1073741824);this.N7(this.Tx*65536);this.N7(this.tK*65536)}this.s$();this.c9("mdia");
this.c9("mdhd");this.N7(0);this.N7(0);this.N7(0);if(T==1){this.N7(this.cF.sampleRate);this.N7(this.JC/1e3*this.cF.sampleRate)}else{this.N7(n);
this.N7(this.He/1e3*n)}this.vC(85);this.vC(196);this.pJ(0);this.s$();this.c9("hdlr");this.N7(0);this.N7(0);
if(T==1){this.ca("soun");this.N7(0);this.N7(0);this.N7(0);this.ca("SoundHandler");this.vC(0)}else{this.ca("vide");
this.N7(0);this.N7(0);this.N7(0);this.ca("VideoHandler");this.vC(0)}this.s$();this.c9("minf");if(T==1){this.c9("smhd");
this.N7(0);this.pJ(0);this.pJ(0);this.s$()}else{this.c9("vmhd");this.N7(1);this.pJ(0);this.pJ(0);this.pJ(0);
this.pJ(0);this.s$()}this.c9("dinf");this.c9("dref");this.N7(0);this.N7(1);this.c9("url ");this.N7(1);
this.s$();this.s$();this.s$();if(T==1){this.c9("stbl");this.c9("stsd");this.N7(0);this.N7(1);this.c9("mp4a");
this.pJ(0);this.pJ(0);this.pJ(0);this.pJ(1);this.N7(0);this.N7(0);this.pJ(this.cF.numberOfChannels);
this.pJ(16);this.pJ(0);this.pJ(0);this.pJ(this.cF.sampleRate);this.pJ(0);this.c9("esds");this.N7(0);
this.vC(3);this.vC(25);this.pJ(0);this.vC(0);this.vC(4);this.vC(17);this.vC(64);this.vC(21);this.aJ$(0);
this.N7(16e4);this.N7(16e4);this.vC(5);this.vC(2);this.anl(this.cF.description);this.vC(6);this.vC(1);
this.vC(2);this.s$();this.s$();this.s$();this.c9("stts");this.N7(0);this.N7(w);for(var g=0;g<w;++g){this.N7(A[g].sampleCount);
this.N7(A[g].duration)}this.s$();this.c9("stsc");this.N7(0);this.N7(1);this.N7(1);this.N7(1);this.N7(1);
this.s$();this.c9("stsz");this.N7(0);this.N7(0);this.N7($);for(var g=0;g<$;++g){this.N7(this.fL[g].byteLength)}this.s$();
this.c9("stco");this.N7(0);this.N7($);for(var g=0;g<$;++g){this.N7(z);z+=this.fL[g].byteLength}this.s$();
this.s$()}else{this.c9("stbl");this.c9("stsd");this.N7(0);this.N7(1);this.c9("avc1");this.pJ(0);this.pJ(0);
this.pJ(0);this.pJ(1);this.pJ(0);this.pJ(0);this.N7(0);this.N7(0);this.N7(0);this.pJ(this.Tx);this.pJ(this.tK);
this.N7(4718592);this.N7(4718592);this.N7(0);this.pJ(1);for(var g=0;g<8;++g){this.N7(0)}this.pJ(24);
this.pJ(-1);this.c9("avcC");this.anl(this.description);this.s$();this.s$();this.s$();this.c9("stts");
this.N7(0);this.N7(u);for(var g=0;g<u;++g){this.N7(J[g].sampleCount);this.N7(J[g].duration)}this.s$();
this.c9("stsc");this.N7(0);this.N7(1);this.N7(1);this.N7(1);this.N7(1);this.s$();this.c9("stsz");this.N7(0);
this.N7(0);this.N7(B);for(var g=0;g<B;++g){this.N7(this.yl[g].byteLength)}this.s$();this.c9("stco");
this.N7(0);this.N7(B);for(var g=0;g<B;++g){this.N7(z);z+=this.yl[g].byteLength}this.s$();this.c9("stss");
this.N7(0);this.N7(c);for(var g=0;g<c;++g){this.N7(this.wH[g])}this.s$();this.s$()}this.s$();this.s$();
this.s$()}this.s$();return};fY.prototype.auN=async function(z){console.assert(await VideoEncoder.isConfigSupported(z))};
fY.prototype.ayv=function(){var z=Date.now(),J=this.Zq.Mf.width,p=this.Zq.Mf.height;this.Tx=J;this.tK=p;
this.description=null;this.wH=[];this.yl=[];this.He=0;this.x$=0;this.hS=new Uint8Array;this.BI(new Uint8Array(this.aKn));
this.BI(this.a58(0).buffer);this.BI(this.aEU("mdat"));this.un=new VideoEncoder({output:(chunk,opts)=>this.aLs(chunk,opts),error:l5=>{console.log(l5)}});
var n=this.AL*this.Tx*this.tK,B=n*this.Zq.Mf.LZ,c=Math.round(n*24),t={width:this.Tx,height:this.tK,codec:"avc1.420034",bitrate:c,acceleration:"prefer-hardware"};
this.auN(t);this.un.configure(t);this.cG=0};fY.prototype.aya=async function(z){console.assert(await AudioDecoder.a6k(z))};
fY.prototype.ai6=function(){this.hA=new Uint8Array;this.cF=null;this.akI=[];this.fL=[];var z={codec:"mp4a.40.2",numberOfChannels:this.Zq.k6.W$,sampleRate:this.Zq.k6.Gs,bitrate:16e4};
this.jj=new AudioEncoder({output:(bA,j8)=>this.oe(bA,j8),error:function(J){console.log(J)}});this.aya(z);
this.jj.configure(z)};fY.prototype._Z=function(){return this.Zq};fY.prototype.a0f=async function(z,J,p){var n=z,B=1e6/this.Zq.Mf.Gs;
if(p%50==0){console.log(Math.round(p/this.Zq.Mf.LZ*100).toString()+"%")}var c=new VideoFrame(n.buffer,{timestamp:this.cG,duration:B,format:"RGBA",codedWidth:this.Tx,codedHeight:this.tK});
this.un.encode(c);c.close();this.cG+=B;delete n;delete z;delete c};fY.prototype.arC=async function(z,J,p,n){for(var g=0;
g<z.length;++g){this.jj.encode(z[g])}};fY.prototype.finish=async function(){if(this.Zq.Mf){await this.un.flush()}if(this.Zq.k6){await this.jj.flush()}this.a9M();
this.UC.write(this.hS);if(this.Zq.k6){this.UC.write(this.hA)}this.UC.write(this.ll);this.UC.write({I:"write",data:this.a58(this.x$),position:this.a3w-8});
return this.UC.close()};var hN=function(z){var J=[[21,73,169,102],[22,84,174,107],[17,77,155,116],[28,83,187,107],[31,67,182,117],[18,84,195,103]],p="KaxInfo KaxTracks KaxSeekHead KaxCues KaxCluster KaxTags".split(" "),n=!1,B=f2.a4r,c=f2.fy,t=f2.lz;
function u(k){for(var g=0;g<J.length;++g){var T=!0;for(var Z=0;Z<J[g].length;++Z){if(k[Z]!=J[g][Z]){T=!1;
break}}if(T==!0){return p[g]}}}async function v(k,T,Z,i){if(T==null||i<Z||i>=Z+T.byteLength){T=await f2.JI(k,i);
Z=i;i=0}else{i-=Z;var V=i,_=B(T,i),y=_[2];i+=_[1];_=B(T,i);var E=_[0];i+=_[1];if(i+E>T.byteLength){T=await f2.JI(k,Z+V,E+i-V);
Z+=V;i=0}else{i=V}}return[T,Z,i]}async function A(k,T,Z,i,V){var _=V.fC.CueClusterPosition,m=!1;_+=T.Segment.fs;
var y=await v(k,Z,i,_);Z=y[0];i=y[1];_=y[2];if(Z.length==0)return{pj:0,data:Z,start:i,OI:null};var E=B(Z,_),F=E[2];
_+=E[1];E=B(Z,_);var d=E[0];_+=E[1];var x=_;E=B(Z,x);F=E[2];x+=E[1];E=B(Z,x);d=E[0];x+=E[1];var f=hN.C8[F];
if(f.s=="CRC-32"){x+=d;E=B(Z,x);F=E[2];x+=E[1];E=B(Z,x);d=E[0];x+=E[1]}var Q=c(Z,x,d);if(V.fC.CueRelativePosition){_+=V.fC.CueRelativePosition;
E=B(Z,_);F=E[2];_+=E[1];E=B(Z,_);d=E[0];_+=E[1];if(f.s=="BlockGroup"){m=!0}return{pj:i+_+d,data:Z,start:i,OI:w(Z.slice(_,_+d),m),timeStamp:Q}}else{var H=0;
if(V.fC.CueBlockNumber){H=V.fC.CueBlockNumber-1;if(T.Segment.Info.MuxingApp.toLowerCase().includes("yamka")){H++}}d=0;
do{_+=d;E=B(Z,_);F=E[2];_+=E[1];E=B(Z,_);d=E[0];_+=E[1];f=hN.C8[F]}while(f.s!="SimpleBlock"&&f.s!="BlockGroup");
for(var g=0;g<H;++g){_+=d;E=B(Z,_);F=E[2];_+=E[1];E=B(Z,_);d=E[0];_+=E[1]}f=hN.C8[F];if(f.s=="BlockGroup"){m=!0}return{pj:i+_+d,data:Z,start:i,OI:w(Z.slice(_,_+d),m),timeStamp:Q}}}async function $(k,T,Z,i){var V=null,_=await v(k,T,Z,i),f=!1;
T=_[0];Z=_[1];i=_[2];if(T.length==0)return{pj:0,data:T,start:Z,OI:null};var y=B(T,i),E=y[2];i+=y[1];
y=B(T,i);var F=y[0];i+=y[1];var d=hN.C8[E];if(d.s!="SimpleBlock"&&d.s!="BlockGroup"){var x="SeekHead Tags Void Info Tracks Attachments Chapters Tags Cues".split(" ");
if(x.indexOf(d.s)==-1){do{if(d.s=="Cluster"){F=0}i+=F;_=await v(k,T,Z,Z+i);T=_[0];Z=_[1];i=_[2];if(T.length==0)return{pj:0,data:T,start:Z,OI:null};
y=B(T,i);E=y[2];i+=y[1];y=B(T,i);F=y[0];i+=y[1];d=hN.C8[E];if(d.s=="Timestamp"){V=c(T,i,F)}}while(d.s!="SimpleBlock"&&d.s!="BlockGroup")}else return{pj:0,data:T,start:Z,OI:null}}if(d.s=="BlockGroup"){f=!0}return{pj:Z+i+F,data:T,start:Z,OI:w(T.slice(i,i+F),f),timeStamp:V}}async function X(k,T,Z,i,V){var _={},y=i-Z;
if(T==null){T=await f2.JI(k,y);Z=y;y=0}while(y+Z<V&&!n){var E,F=y+Z,d=B(T,y),x=d[2];y+=d[1];d=B(T,y);
var f=d[0];y+=d[1];var Q=hN.C8[x];if(!Q){throw"Unknown EBML element "+x.toString(16)}var m=Q.s,H=y+f,S=y+Z;
if(H>T.byteLength&&m!="Segment"){T=await f2.JI(k,Z,H)}if(Q.t=="m"&&m=="Cluster"){n=!0;return[y,_]}if(Q.t=="m"){var R=await X(k,T,Z,Z+y,Z+H);
y=R[0];R[1].p=F;R[1].fs=S;if(Q.A==1){if(_[m]==null){_[m]=[]}_[m].push(R[1])}else{_[m]=R[1]}if(n){break}}else{if(Q.t=="8"){E=e.A8(T,y,f)}else if(Q.t=="s"){E=e.RM(T,y,f)}else if(Q.t=="b"){E=e.Bm(T,y,f)}else if(Q.t=="u"){E=c(T,y,f)}else if(Q.t=="i"){E=t(T,y,f)}else if(Q.t=="f"){if(f==4){E=e.Lb(T,y)}else if(f==8){E=e.U0(T,y)}else throw"Cannot read float of size "+f.toString()}else if(Q.t=="d"){var I=c(T,y,f);
I*=1e-6;I+=new Date(2001,1,1).valueOf()-new Date(1970,1,1).valueOf();E=new Date(I)}else{E=f}y+=f;if(Q.s=="SeekID"){var D=u(E);
E=D}if(Q.A==1){if(_[m]==null){_[m]=[]}_[m].push(E)}else{_[m]=E}}if(y+Z<V&&y>=T.byteLength){Z+=y;y=0;
T=await f2.JI(k,Z)}}return[y,_]}function U(k,T){var Z=k.Segment.Tracks.TrackEntry,i=[];for(var g=0;g<Z.length;
++g){var V=Z[g];if(V.TrackType==T){i.push(V)}}return i}function w(k,T){var Z,i,V,_=0;if(T){Z=B(k,_);
var y=Z[2];_+=Z[1];Z=B(k,_);var E=Z[0];_+=Z[1];i=_+E}Z=B(k,_);_+=Z[1];var F=Z[0],d=t(k,_,2);_+=2;var x=k[_],f=x>>>7;
_+=1;if(T){V=k.slice(_,i)}else{V=k.slice(_)}return[F,d,f,V]}async function P(k){var T=await X(k,null,0,0,k.size);
n=!1;var Z=T[1];if(Z.Segment.SeekHead){var i=Z.Segment.SeekHead;for(var g=0;g<i.length;++g){if(i[g].Seek){for(var V=0;
V<i[g].Seek.length;++V){if(i[g].Seek[V].SeekID=="KaxSeekHead"){var _=i[g].Seek[V].SeekPosition+Z.Segment.fs;
T=await X(k,null,0,_,k.size);n=!1;Z.Segment.SeekHead.push(T[1])}else if(i[g].Seek[V].SeekID=="KaxCues"){if(!Z.Segment.Cues){_=i[g].Seek[V].SeekPosition+Z.Segment.fs;
T=await X(k,null,0,_,k.size);n=!1;Z.Segment.Cues=T[1].Cues}}}}}}else{console.log("No seek heads parsed, WIP, not implemented yet.")}return Z}return{yi:P,getTracks:U,l7:$,Ce:A}}();
hN.C8={440786851:{s:"EBML",t:"m",A:0},17030:{s:"EBMLVersion",t:"u",A:0},17143:{s:"EBMLReadVersion",t:"u",A:0},17026:{s:"DocType",t:"s",A:0},17031:{s:"DocTypeVersion",t:"u",A:0},17029:{s:"DocTypeReadVersion",t:"u",A:0},17028:{s:"DocTypeExtensionVersion",t:"u",A:0},191:{s:"CRC-32",t:"b",A:0},236:{s:"Void",t:"b",A:1},17138:{s:"EBMLMaxIDLength",t:"u",A:0},17139:{s:"EBMLMaxSizeLength",t:"u",A:0},408125543:{s:"Segment",t:"m",A:0},290298740:{s:"SeekHead",t:"m",A:1},19899:{s:"Seek",t:"m",A:1},21419:{s:"SeekID",t:"b",A:0},21420:{s:"SeekPosition",t:"u",A:0},357149030:{s:"Info",t:"m",A:0},29604:{s:"SegmentUUID",t:"b",A:0},29572:{s:"SegmentFilename",t:"8",A:0},3979555:{s:"PrevUUID",t:"b",A:0},3965867:{s:"PrevFilename",t:"8",A:0},4110627:{s:"NextUUID",t:"b",A:0},4096955:{s:"NextFilename",t:"8",A:0},17476:{s:"SegmentFamily",t:"b",A:1},26916:{s:"ChapterTranslate",t:"m",A:1},27045:{s:"ChapterTranslateID",t:"b",A:0},27071:{s:"ChapterTranslateCodec",t:"u",A:0},27132:{s:"ChapterTranslateEditionUID",t:"u",A:1},2807729:{s:"TimestampScale",t:"u",A:0},17545:{s:"Duration",t:"f",A:0},17505:{s:"DateUTC",t:"d",A:0},31657:{s:"Title",t:"8",A:0},19840:{s:"MuxingApp",t:"8",A:0},22337:{s:"WritingApp",t:"8",A:0},524531317:{s:"Cluster",t:"m",A:1},231:{s:"Timestamp",t:"u",A:0},22612:{s:"SilentTracks",t:"m",A:0},22743:{s:"SilentTrackNumber",t:"u",A:1},167:{s:"Position",t:"u",A:0},171:{s:"PrevSize",t:"u",A:0},163:{s:"SimpleBlock",t:"b",A:1},160:{s:"BlockGroup",t:"m",A:1},161:{s:"Block",t:"b",A:0},162:{s:"BlockVirtual",t:"b",A:0},30113:{s:"BlockAdditions",t:"m",A:0},166:{s:"BlockMore",t:"m",A:1},165:{s:"BlockAdditional",t:"b",A:0},238:{s:"BlockAddID",t:"u",A:0},155:{s:"BlockDuration",t:"u",A:0},250:{s:"ReferencePriority",t:"u",A:0},251:{s:"ReferenceBlock",t:"i",A:1},253:{s:"ReferenceVirtual",t:"i",A:0},164:{s:"CodecState",t:"b",A:0},30114:{s:"DiscardPadding",t:"i",A:0},142:{s:"Slices",t:"m",A:0},232:{s:"TimeSlice",t:"m",A:1},204:{s:"LaceNumber",t:"u",A:0},205:{s:"FrameNumber",t:"u",A:0},203:{s:"BlockAdditionID",t:"u",A:0},206:{s:"Delay",t:"u",A:0},207:{s:"SliceDuration",t:"u",A:0},200:{s:"ReferenceFrame",t:"m",A:0},201:{s:"ReferenceOffset",t:"u",A:0},202:{s:"ReferenceTimestamp",t:"u",A:0},175:{s:"EncryptedBlock",t:"b",A:1},374648427:{s:"Tracks",t:"m",A:0},174:{s:"TrackEntry",t:"m",A:1},215:{s:"TrackNumber",t:"u",A:0},29637:{s:"TrackUID",t:"u",A:0},131:{s:"TrackType",t:"u",A:0},185:{s:"FlagEnabled",t:"u",A:0},136:{s:"FlagDefault",t:"u",A:0},21930:{s:"FlagForced",t:"u",A:0},21931:{s:"FlagHearingImpaired",t:"u",A:0},21932:{s:"FlagVisualImpaired",t:"u",A:0},21933:{s:"FlagTextDescriptions",t:"u",A:0},21934:{s:"FlagOriginal",t:"u",A:0},21935:{s:"FlagCommentary",t:"u",A:0},156:{s:"FlagLacing",t:"u",A:0},28135:{s:"MinCache",t:"u",A:0},28152:{s:"MaxCache",t:"u",A:0},2352003:{s:"DefaultDuration",t:"u",A:0},2313850:{s:"DefaultDecodedFieldDuration",t:"u",A:0},2306383:{s:"TrackTimestampScale",t:"f",A:0},21375:{s:"TrackOffset",t:"i",A:0},21998:{s:"MaxBlockAdditionID",t:"u",A:0},16868:{s:"BlockAdditionMapping",t:"m",A:1},16880:{s:"BlockAddIDValue",t:"u",A:0},16804:{s:"BlockAddIDName",t:"s",A:0},16871:{s:"BlockAddIDType",t:"u",A:0},16877:{s:"BlockAddIDExtraData",t:"b",A:0},21358:{s:"Name",t:"8",A:0},2274716:{s:"Language",t:"s",A:0},2274717:{s:"LanguageBCP47",t:"s",A:0},134:{s:"CodecID",t:"s",A:0},25506:{s:"CodecPrivate",t:"b",A:0},2459272:{s:"CodecName",t:"8",A:0},29766:{s:"AttachmentLink",t:"u",A:0},3839639:{s:"CodecSettings",t:"8",A:0},3883072:{s:"CodecInfoURL",t:"s",A:1},2536e3:{s:"CodecDownloadURL",t:"s",A:1},170:{s:"CodecDecodeAll",t:"u",A:0},28587:{s:"TrackOverlay",t:"u",A:1},22186:{s:"CodecDelay",t:"u",A:0},22203:{s:"SeekPreRoll",t:"u",A:0},26148:{s:"TrackTranslate",t:"m",A:1},26277:{s:"TrackTranslateTrackID",t:"b",A:0},26303:{s:"TrackTranslateCodec",t:"u",A:0},26364:{s:"TrackTranslateEditionUID",t:"u",A:1},224:{s:"Video",t:"m",A:0},154:{s:"FlagInterlaced",t:"u",A:0},157:{s:"FieldOrder",t:"u",A:0},21432:{s:"StereoMode",t:"u",A:0},21440:{s:"AlphaMode",t:"u",A:0},21433:{s:"OldStereoMode",t:"u",A:0},176:{s:"PixelWidth",t:"u",A:0},186:{s:"PixelHeight",t:"u",A:0},21674:{s:"PixelCropBottom",t:"u",A:0},21691:{s:"PixelCropTop",t:"u",A:0},21708:{s:"PixelCropLeft",t:"u",A:0},21725:{s:"PixelCropRight",t:"u",A:0},21680:{s:"DisplayWidth",t:"u",A:0},21690:{s:"DisplayHeight",t:"u",A:0},21682:{s:"DisplayUnit",t:"u",A:0},21683:{s:"AspectRatioType",t:"u",A:0},3061028:{s:"UncompressedFourCC",t:"b",A:0},3126563:{s:"GammaValue",t:"f",A:0},2327523:{s:"FrameRate",t:"f",A:0},21936:{s:"Colour",t:"m",A:0},21937:{s:"MatrixCoefficients",t:"u",A:0},21938:{s:"BitsPerChannel",t:"u",A:0},21939:{s:"ChromaSubsamplingHorz",t:"u",A:0},21940:{s:"ChromaSubsamplingVert",t:"u",A:0},21941:{s:"CbSubsamplingHorz",t:"u",A:0},21942:{s:"CbSubsamplingVert",t:"u",A:0},21943:{s:"ChromaSitingHorz",t:"u",A:0},21944:{s:"ChromaSitingVert",t:"u",A:0},21945:{s:"Range",t:"u",A:0},21946:{s:"TransferCharacteristics",t:"u",A:0},21947:{s:"Primaries",t:"u",A:0},21948:{s:"MaxCLL",t:"u",A:0},21949:{s:"MaxFALL",t:"u",A:0},21968:{s:"mingMetadata",t:"m",A:0},21969:{s:"PrimaryRChromaticityX",t:"f",A:0},21970:{s:"PrimaryRChromaticityY",t:"f",A:0},21971:{s:"PrimaryGChromaticityX",t:"f",A:0},21972:{s:"PrimaryGChromaticityY",t:"f",A:0},21973:{s:"PrimaryBChromaticityX",t:"f",A:0},21974:{s:"PrimaryBChromaticityY",t:"f",A:0},21975:{s:"WhitePointChromaticityX",t:"f",A:0},21976:{s:"WhitePointChromaticityY",t:"f",A:0},21977:{s:"LuminanceMax",t:"f",A:0},21978:{s:"LuminanceMin",t:"f",A:0},30320:{s:"Projection",t:"m",A:0},30321:{s:"ProjectionType",t:"u",A:0},30322:{s:"ProjectionPrivate",t:"b",A:0},30323:{s:"ProjectionPoseYaw",t:"f",A:0},30324:{s:"ProjectionPosePitch",t:"f",A:0},30325:{s:"ProjectionPoseRoll",t:"f",A:0},225:{s:"Audio",t:"m",A:0},181:{s:"SamplingFrequency",t:"f",A:0},30901:{s:"OutputSamplingFrequency",t:"f",A:0},159:{s:"Channels",t:"u",A:0},32123:{s:"ChannelPositions",t:"b",A:0},25188:{s:"BitDepth",t:"u",A:0},21233:{s:"Emphasis",t:"u",A:0},226:{s:"TrackOperation",t:"m",A:0},227:{s:"TrackCombinePlanes",t:"m",A:0},228:{s:"TrackPlane",t:"m",A:1},229:{s:"TrackPlaneUID",t:"u",A:0},230:{s:"TrackPlaneType",t:"u",A:0},233:{s:"TrackJoinBlocks",t:"m",A:0},237:{s:"TrackJoinUID",t:"u",A:1},192:{s:"TrickTrackUID",t:"u",A:0},193:{s:"TrickTrackSegmentUID",t:"b",A:0},198:{s:"TrickTrackFlag",t:"u",A:0},199:{s:"TrickmTrackUID",t:"u",A:0},196:{s:"TrickmTrackSegmentUID",t:"b",A:0},28032:{s:"ContentEncodings",t:"m",A:0},25152:{s:"ContentEncoding",t:"m",A:1},20529:{s:"ContentEncodingOrder",t:"u",A:0},20530:{s:"ContentEncodingScope",t:"u",A:0},20531:{s:"ContentEncodingType",t:"u",A:0},20532:{s:"ContentCompression",t:"m",A:0},16980:{s:"ContentCompAlgo",t:"u",A:0},16981:{s:"ContentCompSettings",t:"b",A:0},20533:{s:"ContentEncryption",t:"m",A:0},18401:{s:"ContentEncAlgo",t:"u",A:0},18402:{s:"ContentEncKeyID",t:"b",A:0},18407:{s:"ContentEncAESSettings",t:"m",A:0},18408:{s:"AESSettingsCipherMode",t:"u",A:0},18403:{s:"ContentSignature",t:"b",A:0},18404:{s:"ContentSigKeyID",t:"b",A:0},18405:{s:"ContentSigAlgo",t:"u",A:0},18406:{s:"ContentSigHashAlgo",t:"u",A:0},475249515:{s:"Cues",t:"m",A:0},187:{s:"CuePoint",t:"m",A:1},179:{s:"CueTime",t:"u",A:0},183:{s:"CueTrackPositions",t:"m",A:1},247:{s:"CueTrack",t:"u",A:0},241:{s:"CueClusterPosition",t:"u",A:0},240:{s:"CueRelativePosition",t:"u",A:0},178:{s:"CueDuration",t:"u",A:0},21368:{s:"CueBlockNumber",t:"u",A:0},234:{s:"CueCodecState",t:"u",A:0},219:{s:"CueReference",t:"m",A:1},150:{s:"CueRefTime",t:"u",A:0},151:{s:"CueRefCluster",t:"u",A:0},21343:{s:"CueRefNumber",t:"u",A:0},235:{s:"CueRefCodecState",t:"u",A:0},423732329:{s:"Attachments",t:"m",A:0},24999:{s:"AttachedFile",t:"m",A:1},18046:{s:"FileDescription",t:"8",A:0},18030:{s:"FileName",t:"8",A:0},18016:{s:"FileMediaType",t:"s",A:0},18012:{s:"FileData",t:"b",A:0},18094:{s:"FileUID",t:"u",A:0},18037:{s:"FileReferral",t:"b",A:0},18017:{s:"FileUsedStartTime",t:"u",A:0},18018:{s:"FileUsedEndTime",t:"u",A:0},272869232:{s:"Chapters",t:"m",A:0},17849:{s:"EditionEntry",t:"m",A:1},17852:{s:"EditionUID",t:"u",A:0},17853:{s:"EditionFlagHidden",t:"u",A:0},17883:{s:"EditionFlagDefault",t:"u",A:0},17885:{s:"EditionFlagOrdered",t:"u",A:0},17696:{s:"EditionDisplay",t:"m",A:1},17697:{s:"Editions",t:"8",A:0},17892:{s:"EditionLanguageIETF",t:"s",A:1},182:{s:"ChapterAtom",t:"m",A:1},29636:{s:"ChapterUID",t:"u",A:0},22100:{s:"ChaptersUID",t:"8",A:0},145:{s:"ChapterTimeStart",t:"u",A:0},146:{s:"ChapterTimeEnd",t:"u",A:0},152:{s:"ChapterFlagHidden",t:"u",A:0},17816:{s:"ChapterFlagEnabled",t:"u",A:0},28263:{s:"ChapterSegmentUUID",t:"b",A:0},17800:{s:"ChapterSkipType",t:"u",A:0},28348:{s:"ChapterSegmentEditionUID",t:"u",A:0},25539:{s:"ChapterPhysicalEquiv",t:"u",A:0},143:{s:"ChapterTrack",t:"m",A:0},137:{s:"ChapterTrackUID",t:"u",A:1},128:{s:"ChapterDisplay",t:"m",A:1},133:{s:"Chaps",t:"8",A:0},17276:{s:"ChapLanguage",t:"s",A:1},17277:{s:"ChapLanguageBCP47",t:"s",A:1},17278:{s:"ChapCountry",t:"s",A:1},26948:{s:"ChapProcess",t:"m",A:1},26965:{s:"ChapProcessCodecID",t:"u",A:0},17677:{s:"ChapProcessPrivate",t:"b",A:0},26897:{s:"ChapProcessCommand",t:"m",A:1},26914:{s:"ChapProcessTime",t:"u",A:0},26931:{s:"ChapProcessData",t:"b",A:0},307544935:{s:"Tags",t:"m",A:1},29555:{s:"Tag",t:"m",A:1},25536:{s:"Targets",t:"m",A:0},26826:{s:"TargetTypeValue",t:"u",A:0},25546:{s:"TargetType",t:"s",A:0},25541:{s:"TagTrackUID",t:"u",A:1},25545:{s:"TagEditionUID",t:"u",A:1},25540:{s:"TagChapterUID",t:"u",A:1},25542:{s:"TagAttachmentUID",t:"u",A:1},26568:{s:"SimpleTag",t:"m",A:1},17827:{s:"TagName",t:"8",A:0},17530:{s:"TagLanguage",t:"s",A:0},17531:{s:"TagLanguageBCP47",t:"s",A:0},17540:{s:"TagDefault",t:"u",A:0},17588:{s:"TagDefaultBogus",t:"u",A:0},17543:{s:"Tags",t:"8",A:0},17541:{s:"Tagb",t:"b",A:0}};
function gl(z,J){f2.VS.call(this,z,J);this._Z=f2.VS._Z;this.lc=f2.VS.lc;this.Hr=f2.VS.Hr;this.S6=f2.VS.S6;
this._0=function(p){return p};this.pj=0;this.data=null;this.start=0;this.OW=null;this.ME=null;this.GM=0;
this.WH=0}gl.prototype.aoC=async function(){this.lY=new VideoDecoder({output:bA=>this.Hr(bA),error:function(p){console.log(p.message)}});
var z={codec:this.OW};if(this.ME){z.description=this.ME}var J=await VideoDecoder.isConfigSupported(z);
if(J.supported==!0){this.lY.configure(z)}else{console.log("Codec not supported.",z)}};gl.prototype.aAe=async function(){if(!this.cues)return null;
var z=this.cues[this.cues.length-1],J=await hN.Ce(this.or,this.t5,this.data,this.start,z),p=J.timeStamp,n,B=[];
this.pj=J.pj;this.data=J.data;this.start=J.start;do{if(J.OI&&J.OI[0]==1){n=J;B.push(J.OI[1])}J=await hN.l7(this.or,this.data,this.start,this.pj);
if(J.timeStamp){p=J.timeStamp}this.pj=J.pj;this.data=J.data;this.start=J.start}while(J.pj>0);if(!this.q1){B.sort((ex,kv)=>ex-kv);
this.q1=Math.round((B[B.length-1]-B[0])/(B.length-1));this.Gs=1e3/this.q1}this.frames=Math.floor((p+n.OI[1]+this.q1-this.GM)/this.q1)};
gl.prototype.DL=async function(){this.t5=await hN.yi(this.or);this.alo={};this.F$={};this.W$=hN.getTracks(this.t5,1);
var z=!0;if(this.W$.length>0){var J=this.W$[0],p=J.TrackNumber,n=J.CodecID;if(J.CodecPrivate)this.ME=J.CodecPrivate;
var B=J.Video.PixelWidth,c=J.Video.PixelHeight,t=this.t5.Segment.Info.TimestampScale,u=J.DefaultDuration/t;
this.Gs=1e3/u;this.q1=u;var v=["V_VP8","V_VP9","V_MPEG4/ISO/AVC","V_MPEGH/ISO/HEVC"],A=["vp8","vp09.00.10.08","avc1.640034","hvc1"],$=v.indexOf(n);
if($>=0)this.OW=A[$];if(this.OW=="hvc1"){if(this.ME){this.OW=f2.a12(this.ME)}else{this.OW=null}}console.assert(this.OW!=null,"Codec "+n.toString()+" not supported.");
if(this.OW==null){z=!1}var X=this.t5.Segment.Cues.CuePoint;this.cues=[];for(var g=0;g<X.length;++g){for(var U=0;
U<X[g].CueTrackPositions.length;++U){if(X[g].CueTrackPositions[U].CueTrack==p){this.cues.push({SM:X[g].CueTime,fC:X[g].CueTrackPositions[U]})}}}if(this.cues[0].SM>0){this.GM=this.cues[0].SM}await this.aAe();
this.tY=[];for(var g=0;g<this.cues.length;++g){this.tY.push(Math.round((this.cues[g].SM-this.GM)/this.q1))}}this.Zq={};
if(z&&this.W$.length>0){this.Zq.Mf={W$:1,LZ:this.frames,Gs:this.Gs,width:B,height:c}}if(!this.OZ){this.aR=new OffscreenCanvas(this.Zq.Mf.width,this.Zq.Mf.height);
this.Xc=this.aR.getContext("2d",{an7:!0});this.bl=10;this.aG=6}this.JD=!0};1,0,gl.prototype.Ce=async function(z){var J=await hN.Ce(this.or,this.t5,this.data,this.start,this.cues[z]);
this.pj=J.pj;this.data=J.data;this.start=J.start;this.a8_(J)};gl.prototype.l7=async function(){var z;
do{z=await hN.l7(this.or,this.data,this.start,this.pj);this.pj=z.pj;this.data=z.data;this.start=z.start}while(z.pj>0&&z.OI[0]!=1);
if(this.pj>0){this.a8_(z)}};gl.prototype.a8_=function(z){var J=new EncodedVideoChunk({timestamp:z.OI[1],duration:this.q1,type:z.OI[2]==1?"key":"delta",data:z.OI[3]});
if(this.lY.state=="configured"){try{this.lY.decode(J)}catch(l5){console.log("CAUGHT unconfigured");console.log(l5);
console.log(J)}}else{console.log("unconfigured",this.pj,z);delete z}delete z};gl.prototype.aqc=async function(z,J,p){var n=p*this.q1,B=this.tY.indexOf(J),c=0,t;
for(var g=J;g<p;++g){while(this.WH>0){await new Promise(resolve=>setTimeout(resolve,50))}this.WH=1;if(g==J&&B>=0){await this.Ce(B)}else{await this.l7()}this.WH=0}if(p==this.frames){await new Promise(resolve=>setTimeout(resolve,100));
while(this.pj!=0){while(this.WH>0){await new Promise(resolve=>setTimeout(resolve,50))}this.WH=1;await this.l7();
this.WH=0}await this.lY.flush()}};var c6=function(){var z,J,p,n,B,c,t=4294967292,u=4294967293,v=4294967294,A=4294967295;
function $(){n+=1;return p[n-1]}function X(){n+=2;return e._4(p,n-2)}function U(){n+=4;return e.qd(p,n-4)}function w(){n+=4;
return e.gm(p,n-4)}function P(y){return 512+512*y}function k(y){return 64*y}function T(y,E){if(y>=E.length){console.log("error?");
return[]}var F=[];while(y!=v){F.push(y);y=E[y];if(y==null)throw y}return F}function Z(y,E,F){var d=T(y,F==64?c:B);
if(E==null)E=d.length*F;var x=new Uint8Array(E),f=F==64?J:z;for(var g=0;g<d.length;g++){var Q=d[g],m=F==64?k(Q):P(Q);
x.set(new Uint8Array(f.buffer,m,Math.min(F,E-g*F)),g*F)}return x}function i(y,E){for(var g=0;g<y;g++){var F=w();
if(F==A)continue;E.push(F)}}function V(y,E,F,d){var x=p,f=n,O;p=y;n=E*128;var Q=e.uv(p,n,32);n+=64;var m=X();
Q=Q.slice(0,m-2>>>1);var H=$(),S=$();if(H>5)throw"e";if(S>1)throw"e";var R=U(),I=U(),D=U();n+=16;if(U()!=0)throw"e";
n+=8;n+=8;var G=U(),C=U();if(U()!=0)throw"e";if(H==1||H==5){if(H==5){J=Z(G,null,512)}O={};V(y,D,O,d+1)}else if(H==2){if(C<4096)O=Z(G,C,64);
else O=Z(G,C,512)}else throw H;if(R!=-1)V(y,R,F,d+1);if(I!=-1)V(y,I,F,d+1);F[Q]=O;p=x;n=f}function _(y){p=z=new Uint8Array(y);
n=0;var E=[208,207,17,224,161,177,26,225];for(var g=0;g<8;g++)if($()!=E[g])throw"e";for(var g=0;g<16;
g++)if($()!=0)throw"e";var F=X(),d=X();if(X()!=-2)throw"big endian";if(X()!=9)throw"not 512";if(X()!=6)throw"not  64";
for(var g=0;g<10;g++)if($()!=0)throw"e";var x=U(),f=U();if(U()!=0)throw"e";if(U()!=4096)throw"e";var Q=U(),m=U(),H=U(),S=U(),R=[];
i(109,R);for(var g=0;g<S;g++){n=P(H);i(127,R);H=U()}if(R.length!=x)throw"e";B=[];for(var g=0;g<x;g++){n=P(R[g]);
for(var I=0;I<128;I++){var D=w();B.push(D)}}c=[];for(var g=0;g<m;g++){if(isNaN(Q))throw"e";n=P(Q);for(var I=0;
I<128;I++){var D=w();c.push(D)}Q=B[Q]}var G=Z(f,null,512),C={};V(G,0,C,0);return C["Root Entry"]}return{parse:_}}(),L={};
L.$q=function(z){return window.devicePixelRatio||1};L.DT=function(z,J){return(J.a9f=="touch"?12:8)*L.$q()/z.i.XP};
L.re=function(){var z="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfAgMAAABiwP6qAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAAAAA////g93P0gAAAAN0Uk5TAP//RFDWIQAAACxJREFUeJxjYGBgYHVggAA2ujNCQ0PDgDiEIWvVqpWrVq1aghAZEPcwQEMDAMwiEgB+z9L1AAAAAElFTkSuQmCC",J=L.$q(),p=15.5/J;
return"image-set(url('"+z+"') "+J+"x) "+p+" "+p+",auto"};L.y6=function(z,J,p){this.name=z;this.id=J;
this.kP=null;if(p!=null)this.Ez=p};L.y6.prototype.$P=function(z,J,p,n,B){};L.y6.prototype.enable=function(z,J,p,n,B,c){var t=new cD(b.E.c,!0);
t.data={R:b.J.tk,BZ:"default"};J.a(t)};L.y6.prototype.disable=function(z,J,p,n,B){};L.y6.prototype.a1M=function(z,J,p,n,B){return!1};
L.y6.prototype.lW=function(z,J,p,n,B){};L.y6.prototype.XJ=function(z,J,p,n,B){};L.y6.prototype.dV=function(z,J,p,n,B){};
L.y6.prototype.mI=function(z,J,p,n,B,c){};L.y6.prototype.uH=function(z,J,p,n,B){};L.y6.prototype.qA=function(z,J,p,n){};
L.y6.prototype.BL=function(z,J,p,n){};L.y6.prototype.Cb=function(z,J){};L.y6.prototype.gD=function(z,J){};
L.y6.prototype.ZD=function(z){return 0};L.y6.prototype.zD=function(z,J,p,n,B){};L.y6.prototype.Sc=function(z,J){};
L.y6.prototype.LA=function(z,J){return!1};L.y6.prototype.Ae=function(z,J){return!1};L.y6.prototype.pf=function(){return!1};
L.y6.prototype.XH=function(z,J){return!0};L.y6.prototype.UB=function(){return null};L.y6.prototype.t1=function(z,J,p){};
L.y6.prototype.amb=function(){return!1};L.y6.prototype.zA=function(z,J,p,n){};L.y6.prototype.track=function(z){var J=new cD(b.E.wR,!0);
J.data=z;z.ES=!0;this.kP.a(J)};L.y6.Mi=function(z,J,p,n){var B=10*L.$q()*(z.a9f=="touch"?2:1),c=z.x+B,t=z.y-B,u=a.DM.Gu(J.r,p.Ge,n,p.r,!0),v=a.DM.Gu(J.$,p.Ge,n,p.$,!0);
while(u.length<v.length)u=" "+u;while(u.length>v.length)v=" "+v;L.y6.WN(c,t,[j0.get([12,41]).charAt(0)+": "+u,j0.get([12,42]).charAt(0)+": "+v],p)};
L.y6.WN=function(z,J,p,n){function B(A,k,T,Z,i,V){A.beginPath();A.moveTo(k,T+V);A.arcTo(k,T+i,k+V,T+i,V);
A.arcTo(k+Z,T+i,k+Z,T+i-V,V);A.arcTo(k+Z,T,k+Z-V,T,V);A.arcTo(k,T,k,T+V,V)}var c=L.$q(),t=Math.round,u=t(11*c),v=L.y6.aqf,$=0;
if(v==null)v=L.y6.aqf=document.createElement("canvas");var A=v.getContext("2d");A.font=u+"px monospace";
for(var g=0;g<p.length;g++)$=Math.max($,A.measureText(p[g]).width);var X=t($+12*c),U=t((p.length*14+5)*c),w=new fw(z,J-U,X,U);
if(v.width!=X||v.height!=U){v.width=X;v.height=U;A.font=u+"px monospace"}A.clearRect(0,0,X,U);A.fillStyle="rgba(0,0,3,0.8)";
B(A,0,0,X,U,t(4*c));A.fill();A.fillStyle="rgba(255,255,255,1)";for(var g=0;g<p.length;g++)A.fillText(p[g],t(6*c),t((g+1)*13*c));
var P=[A.getImageData(0,0,X,U).data,w.P()];if(n)n.W.wE=[P];return P};L.y6.aqf=null;L.y6.aHj=function(z,J,p,n){if(J)this.kP=J;
var B=this.aiO;if(z)B=[z.r,z.$,z.Ge];if(p&&B)B[3]=p.Uc.zk;this.aiO=B;var c=new cD(b.E.c,!0);c.data={R:b.J.jv,l:this.id,jd:B};
if(this.kP)this.kP.a(c)};L.y6.k8=function(z){z.prototype.BL=L.y6.aHj;z.prototype.Sc=function(J,p){if(p==iQ.nc||p==iQ.hl)this.BL(null,null,J,null)}};
L.vX="0";L.Wu="1";L.aCf="2";L.a9J="3";L.Vq="5";L.aHs="6";L.aHW="7";L.qC="8";L.oi="9";L.ue="10";L.Fm="11";
L.$V="12";L.H5="13";L.ax="14";L.aHN="15";L.nB="16";L.gb="18";L.pb="19";L.a53="90";L.rQ="20";L.OE="21";
L.jf="22";L.na="23";L.eA="24";L.$R="25";L.xz="27";L.ta="31";L.Pl="32";L.aiG="33";L.er="34";L.a7v="35";
L.b6="36";L.pq="37";L.Dv="38";L.Zz="39";L.OA="40";L.hd="41";L.PO="42";L.Af="43";L.a4$="44";L.amN="45";
L.aAc="46";L.auK="72";L.MN="47";L.i3="48";L.q4="51";L.J7="52";L.d9="54";L.XS="55";L._9="56";L.wt="57";
L.Sv="58";L.$N="59";L.Rq="60";L.KZ="61";L.oH="70";L.kA="71";L.a3A="73";L.dt="100";L.Ou="101";L.G$="102";
L.fE="103";L.JO="120";L.h1="121";L.LH="122";L.Vi="230";L.a42="231";L.Mj="232";L.bX="233";L.bV="234";
L._f="235";L._T="236";L.kG={};L.kG[L.na]="tools/brush";L.kG[L.eA]="tools/pencil";L.kG[L.ta]="tools/eraser";
L.kG[L.MN]="tools/htype";L.f3={PcTl:L.eA,PbTl:L.na,moveTool:L.vX,cloneStampTool:L.xz,typeCreateOrEditTool:L.MN,artboardTool:L.oH,marqueeRectTool:L.Wu,typeVerticalCreateOrEditTool:L.i3,perspectiveCropTool:L.Fm,marqueeEllipTool:L.aCf,eyedropperTool:L.ax,eraserTool:L.ta,pathComponentSelectTool:L.q4,lassoTool:L.Vq,backgroundEraserTool:L.Pl,directSelectTool:L.J7,polySelTool:L.aHs,rectangleTool:L.d9,magneticLassoTool:L.aHW,gradientTool:L.er,quickSelectTool:L.qC,bucketTool:L.a7v,ellipseTool:L.XS,magicWandTool:L.oi,blurTool:L.b6,polygonTool:L._9,cropTool:L.ue,sharpenTool:L.pq,lineTool:L.wt,sliceTool:L.$V,smudgeTool:L.Dv,customShapeTool:L.Sv,sliceSelectTool:L.H5,dodgeTool:L.Zz,spotHealingBrushTool:L.gb,burnInTool:L.OA,saturationTool:L.hd,penTool:L.PO,redEyeTool:L.jf,freeformPenTool:L.Af,rulerTool:L.nB,paintbrushTool:L.na,handTool:L.$N,pencilTool:L.eA,zoomTool:L.KZ,objectSelectTool:L.a9J,healingBrushTool:L.pb,patchTool:L.rQ,contentAwareMoveTool:L.OE,colorReplacementBrushTool:L.$R,curvaturePenTool:L.a4$,rotareViewTool:L.Rq};
L.SD=function(z,J,p){L.y6.call(this,z,J,p);this.T_={brush:z?dT.L3():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.f=null;this.nC=null;this.KC=null;this._b=null;this.qg=null;this.SO=null;this.WK=null;this.qq=null;
this.Ln=null;this.pA=null;this.Mm=null;this.VH=null;this.sI=null;this.UI=1;this.oI=!1;this.hj=!1;this.UX=null;
this.y_;this.caller=null};L.SD.prototype=new L.y6;L.SD.prototype.Ae=function(z,J){return z.Wj&&J.Q(l5.VN)};
L.SD.prototype.XJ=function(z,J,p,n,B){if(n.Q(l5.W0)){this.SO=new i_(B.x,B.y);var c=this.T_.brush.Brsh.v,t=c.Dmtr.v.val,u=c.Hrdn!=null?c.Hrdn.v.val:-1;
this.WK=[t,u,!0,a.G(this.T_.brush),B];this.ee(p)}};L.SD.prototype.ST=function(z,J,p){var n=this.WK,B=z.i.XP,c=p.x-n[4].x,t=p.y-n[4].y,u=n[0],v=n[1],A=Math.abs(c)>Math.abs(t);
if(A&&n[2]){var $=Math.round(2*c/B);u+=$;p.x-=c-.5*$*B}if(!A&&!n[2]&&v!=-1){var $=Math.round(.25*t);
v+=$;p.y-=t-4*$}u=Math.max(1,u);v=n[1]==-1?-1:Math.max(0,Math.min(100,v));var X=n[3];X.Brsh.v.Dmtr.v.val=u;
if(v!=-1)X.Brsh.v.Hrdn.v.val=v;this.WK=[u,v,A,X,p];var U=dJ.Zn(X,J._$.EO,B),w=U[1];w.x=Math.round(this.SO.x-w.r/2);
w.y=Math.round(this.SO.y-w.$/2);z.W.lN=[U];var P=z.i.Ka(this.SO.x,this.SO.y);z.W.XI={qi:[],sT:[P.x-u/2,P.y,P.x+u/2,P.y]};
if(v!=-1)z.W.XI.sT.push(P.x+50/B,P.y-v/2,P.x+50/B,P.y+v/2);z.eO=!0};L.SD.prototype.uH=function(z,J,p,n,B){if(this.id==L.rQ||this.id==L.OE)return;
if(this.SO){this.SO=null;this.TW(a.G(this.WK[3]));z.W.lN=[];z.W.XI=null;z.eO=!0;return}var c=new cD(b.E.c,!0);
c.data={R:b.J.jv,l:this.id,awX:"showBrushOpts",md:new i_(B.Py+4,B.fH)};J.a(c)};L.SD.prototype.TW=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.bS,Xu:iQ.Pr,to:z};this.caller.a(J)};L.SD.tR=function(z,J,p,n,B,c){if(z==null)z="FrgC";
if(J==null)J="norm";if(p==null)p=1;if(B==null)B=!1;var t={classID:"Fl",Usng:{t:"enum",v:{FlCn:z}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(p*100)}},PrsT:{t:"bool",v:B},Md:{t:"enum",v:{BlnM:jM.oa(J)}}};
if(z=="Clr")t.Clr={t:"Objc",v:n};if(z=="contentAware")t.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(z=="Ptrn")t.Ptrn={t:"Objc",v:c};return{rK:"fill",m$:t}};L.SD.prototype.$P=function(z,J,p,n,B){this.kP=J;
var c=p.dX.length,t=c!=0?-1-p.dX[0]:p.Y[0],u=p.U[t],v=u&&u.add.SoLd&&u.add.SoLd.generativeDocInfo,A=z.R=="fromAction"&&z.NR&&z.NR.m$&&JSON.stringify(z.NR.m$).indexOf("aiHeal")!=1;
if(c==0&&!A&&!p.AM(J))return;if(z.R=="fromAction"){var $=z.NR,X=$.m$;if(X&&X.null&&X.null.v[0]&&X.null.v[0].v.classID=="Path"){var U=p.Q8(),w=U[0],P=U[1],k=w[P.length==0?0:P[0]].add.vmsk;
if($.rK=="fill"){var T=k.Qu(),Z=B.Nb,i=this.T_,V=Z>>16&255,_=Z>>8&255,y=Z>>0&255;this.HU(p,u,T,V,_,y,Math.round(i.opacity*255),i.bmode,"Fill Path")}else{var E=X&&X.Prs&&X.Prs.v,F=JSON.stringify(this.T_.brush);
if(E)dT.aG5(this.T_.brush,[!1,!0]);var d=Date.now();for(var x=0;x<1e3;x++){var f=a.z.Qq(k.u,x,!0);if(f==-1){this.mI(p,J,B,n,null);
break}var Q=k.u[f],m=k.u.slice(f,f+1+Q.length),H=a.b.Ru(m,2).L,S=H.slice(0,8);for(var R=8;R<H.length;
R+=6)S.push(H[R-2],H[R-1],H[R],H[R+1],H[R+2],H[R+3],H[R+4],H[R+5]);var I={};I.Points=S;I.TextOnPathTRange=k.IS.slice(0);
var I=e1.Ji(I,2,Q.I==3),D=I[0],G=p.i.cE(D[0],D[1]);if(E)G.Wf=0;if(x==0)this.lW(p,J,B,n,G);else this.nC.moveTo(D[0],D[1],E?0:null);
var C=D.length,O=Q.I==0?C+2:C;for(var g=2;g<O;g+=2){G=p.i.cE(D[g%C],D[(g+1)%C]);G.Wj=!0;if(E){var Y=g/O;
G.Wf=2*Math.min(Y,1-Y)}this.dV(p,J,B,n,G,this.T_.flow)}this.nC.finish();this.i$(p)}console.log(Date.now()-d);
if(E)this.T_.brush=JSON.parse(F)}}else if($.rK=="fill"){var h=X.PrsT?X.PrsT.v:!1,r=u?u.add.lspf:0;if(h&&u){u.add.lspf=r==null?1:r|1}var W=(X.Opct?X.Opct.v.val:100)/100,N=X.Md?jM.pg(X.Md.v.BlnM):"norm";
W=Math.round(255*W);var o=X.Usng.v.FlCn;if(o=="contentAware"||o=="aiHeal"){if(p.M==null&&!v){alert("Select an area to heal first.");
return}var K=p.M;if(o=="aiHeal"&&!ao.sQ(p))return;if(o=="contentAware"){this.RB(p);this.MZ(p,0);var l=a.j(K.S.C()*4);
a.DE(K.N,l,3);this.FJ(p,"sheal",l,K.S,K.S);this.qM(p,K.S);this.finish(p,K.S)}else{this.p2=p;this.f=B;
var aV=ao.Zd(B,3),j=function(){this.y_=X.prmt.v;ao.asv(this.y_,aV,p,this.anp.bind(this),X.Xu);var kT=new cD(b.E.c,!0);
kT.data={R:b.J.Yg,gX:"Processing ..."};J.a(kT);this.caller=J}.bind(this);if(aV||ao._v(3))j();else ao.J1(j)}}else if(o=="Ptrn"){var M=B.r0,s=p.M?p.M.S.P():new fw(0,0,p.r,p.$),l2=a.j(s.C()*4);
ju.fD(X,l2,s,M,new i_(0,0));for(var g=0;g<l2.length;g+=4)l2[g+3]=W;this.Mh(p,u,p.M,l2,N,[6,48,0,2])}else{var Z;
if(o=="FrgC")Z=B.Nb;else if(o=="BckC")Z=B.Gh;else if(o=="Blck")Z=0;else if(o=="Wht")Z=16777215;else if(o=="Gry")Z=8421504;
else if(o=="Clr"){var gm=a.Wi.Um(X.Clr.v);Z=gm.o<<16|gm.k<<8|gm.X}var V=Z>>16&255,_=Z>>8&255,y=Z>>0&255;
this.HU(p,u,p.M,V,_,y,W,N,[2,3])}if(h&&u){u.add.lspf=r==null?0:r}}else if($.rK=="delete"){var iz=t<0?1:u.uB,K=p.M,id;
if(K==null)return;var dC=t<0?p.b8[-t-1]:iz<=0?null:iz==1?u.Qu():u.g6(p).T4,s=iz<=0?u.S:dC.S,dL=iz<=0?K.S.ly(s):K.S.P();
if(dL.Sz())return;var cP=dL.C();if(iz<=0){id=a.j(cP*4,p.depth);a.nk(u.buffer,u.S,id,dL)}else{id=a.j(cP,p.depth);
dC.extend(dL);a._1(dC.N,dC.S,id,dL)}if(0<=t&&u.S7(p,K)){if(iz<=0){id.fill(0);a.nk(u.AO.J4,u.AO.E2,id,dL)}else{id.fill(255);
a._1(u.AO.J4,u.AO.E2,id,dL)}}else{if(iz<=0){var jR=a.j(id.length>>2,p.depth);a.Tm(id,jR,3);a.B.Sa(a.j(K.S.C(),p.depth),K.S,jR,dL,K.N,dL,1);
a.DE(jR,id,3)}else{var hC=a.j(K.S.C(),p.depth),V=B.Gh>>>16&255,_=B.Gh>>8&255,y=B.Gh>>0&255;hC.fill(Math.round(a.b2(V,_,y)));
a.B.Sa(hC,K.S,id,dL,K.N,dL,1)}}this.FO(p,!0,[2,2],t,iz,dL,id)}}if(z.R=="stroke"){var eJ=z.aD0,K=p.M;
if(K==null){K={S:u.S.P(),N:a.j(u.S.C())};a.Tm(u.buffer,K.N,3)}var el=ju.oZ(eJ),eu=L.gL.ax$(K,Math.ceil(el[0]),Math.ceil(el[1])),Z=a.Wi.Um(eJ.Clr.v),V=Math.round(Z.o),_=Math.round(Z.k),y=Math.round(Z.X);
this.HU(p,u,eu,V,_,y,Math.round(255*eJ.Opct.v.val/100),jM.pg(eJ.Md.v.BlnM),[14,9])}if(z.R=="fillBMP"){this.Mh(p,u,p.M,z.dj,z.D1,z.cN)}if(z.R=="draw"){var jY=z.ic,fN=jY.S;
this.RB(p);var jC=p.U[p.Y[0]];if(z.a70&&jC&&jC.uB<=0&&p.dX.length==0){fN=L.vJ.aAh(jY,p);jC.buffer=jY.buffer.slice(0);
jC.S=fN.P()}else{var kF=this.T_.bmode,i6=this.T_.opacity;this.T_.bmode="norm";this.T_.opacity=1;this.FJ(p,"draw",jY.buffer,fN,fN.ly(new fw(0,0,p.r,p.$)));
this.T_.bmode=kF;this.T_.opacity=i6}this.qM(p,fN);p.JS=!0;this.finish(p,fN,z.cN,z.a70)}};L.SD.prototype.anp=function(z){var J=z.target.response,p=new Uint8Array(J);
if(this.abu){this.abu=!1;J=kL.bQ(e.A8(p))}else if(p[0]==123){var n=JSON.parse(e.A8(p)),g=0;console.log(n);
if(n.status=="error"){alert(n.message.prompt[0]);return}var B=n.image_links;if(B==null)B=n.output;var c=B[0],t=new XMLHttpRequest;
t.responseType="arraybuffer";while(!0){var u=new XMLHttpRequest;u.open("HEAD",c,!1);u.send();if(u.status!=404)break;
console.log("not ready");g++}t.open("GET",c,!0);t.onload=this.anp.bind(this);this.abu=!0;t.send();return}var v=kL.Ul.uj(J)[0],A=new Uint8Array(v.data),$=this.p2,X=ao.jm($)[0],U=ao.jm($)[1];
this.p2=null;var w=X.r/v.eE.r;if(w>1.1){var P=L.tp.EG([A,v.eE],new fA(w,0,0,w,0,0));A=P.buffer}var k=$.U[$.Y[0]],T=k.add.SoLd&&$.M==null,Z=T?k.Qu():$.M,i=a.j(X.C()*4);
a.nk(a.hg($.dT(),8),new fw(0,0,$.r,$.$),i,X);var V=a.j(X.C());a._1(a.hg(Z.N,8),Z.S,V,X);a.round(V);var _=new Uint32Array(i.buffer),y=new Uint32Array(A.buffer);
for(var g=0;g<_.length;g++)if(V[g]==0)y[g]=_[g];a.Fu.D8(A,V,X,null,500*(1+U));var E=new cD(b.E.c,!0);
E.data={R:b.J.wg,gX:"Processing ..."};this.caller.a(E);if(T){var E=new cD(b.E.H,!0);E.l=L.bX;E.data={R:bi.Ai,K:[A,X],av4:this.y_};
this.caller.a(E)}else{var F=new b$(this.y_),J=Z.S.ly(new fw(0,0,$.r,$.$));F.r=J.r;F.$=J.$;F.Ge=$.Ge;
F.U.push(F.eH());var k=F.JG();k.S=J.P();F.U.push(k);k.HV(this.y_);k.buffer=a.j(k.S.C()*4);a.nk(A,X,k.buffer,k.S);
k.S.x=k.S.y=0;k=F.JG();k.HV("Variations");k.add.lsct=cp.xj;k.QN="pass";k.a3=24;F.U.push(k);F.qM();var E=new cD(b.E.H,!0);
E.data={R:bi.E5,CT:F};E.l=L.bX;this.caller.a(E);k=$.U[$.Y[0]];var d=k.add.SoLd;d.generativeDocInfo={t:"Objc",v:{classID:"generativeDocInfo",Vrsn:{t:"long",v:1},workflow:{t:"long",v:0}}};
L.DJ.ff($,$.Y,null,[J.x-k.S.x,J.y-k.S.y]);k.T4=new bi.L7;k.T4.color=0;k.T4.S=$.M.S.P();k.T4.N=$.M.N.slice(0);
$.qM();E=new cD(b.E.wR,!0);E.data=L.gL.aj();this.caller.a(E);E=new cD(b.E.c);E.data={R:b.J.n6,i9:bb.yK.yU};
this.caller.a(E)}if(ao.Zd(this.f,3)==null)ao.aO("Inpaint",3)};L.SD.prototype.HU=function(z,J,p,n,B,c,t,u,v){var A=p==null?new fw(0,0,z.r,z.$):p.S,$=a.j(A.C()*4,z.depth);
if(z.depth==8)a.dz($,t<<24|c<<16|B<<8|n<<0);else{var X=a.hW(z.depth)/255;for(var g=0;g<$.length;g+=4){$[g]=n*X;
$[g+1]=B*X;$[g+2]=c*X;$[g+3]=t*X}}this.Mh(z,J,p,$,u,v)};L.SD.prototype.Mh=function(z,J,p,n,B,c){var t=z.dX.length!=0?-1-z.dX[0]:z.Y[0],u=t<0?1:J.uB,v=t<0?z.b8[-1-t]:u<=0?null:u==1?J.Qu():J.g6(z).T4,A=u<=0?J.S:v.S,$=p==null?new fw(0,0,z.r,z.$):p.S,X;
if(p)X=p.N;else{X=a.j(z.r*z.$,z.depth);X.fill(a.hW(z.depth))}if(p!=null)a.PM(X,n);var U=$.C(),w=a.j(U*4,z.depth);
if(u<=0)a.nk(J.buffer,J.S,w,$);else{v.extend($);w.fill(255);a.eG(v.cH($),w)}if(0<=t&&p&&J.S7(z,p)&&u<=0){var P=J.AO.Da,k=J.AO.Da.slice(0);
if(u<=0)a._U(n,k);else a._U(fullc,k);var T=new dY([2,3],this);T.data={R:"drawtemp",w:z.Y[0],tl:u,atD:P,axt:k};
z.kL(T);this.Cb(T.data,z)}else{if(u<=0){var Z;if(J.iF(0)){Z=a.j($.C(),z.depth);a.Tm(w,Z,3)}a.B.Oe(B,n,$,w,$,$,1);
if(J.iF(0))a.DE(Z,w,3)}else{a.B.Oe(B,n,$,w,$,$,1);var i=a.j(U,z.depth);a.rz(w,i);w=i}this.FO(z,!0,c,t,u,$,w)}};
L.SD.prototype.LA=function(z){if(l5.OL.indexOf(z)!=-1)return!0;return!1};L.SD.prototype.qA=function(z,J,p,n){var B=this.T_.brush,c=n.Q(l5.W0),t=n.a5a(),u=c!=this.oI,v=t!=this.hj;
this.oI=c;this.hj=t;var A=L.SD.hb(B,n);if(A!=null)this.TW(A);if(!n.Q(l5.zT)&&n.IU()!=-1&&this.id!=L.$R){var $=l5.alG(Math.round(this.T_.opacity*100),n.IU())/100;
this.ID({opacity:$},J)}if(this.id==L.qC&&u&&z!=null){var X=this.T_.qsmode;if(X==2)X=z.M==null?0:1;else X=2;
this.ID({qsmode:X},J)}if(u||v){if(z)this.UI=z.i.XP;this.ee(p,n)}};L.SD.hb=function(z,J){var p=z.Brsh.v.Dmtr.v.val,n=z.Brsh.v.Hrdn!=null?z.Brsh.v.Hrdn.v.val:-1,B=z.Brsh.v.Angl.v.val,c=p,t=n,u=B,v=J.Q(l5.VN);
if(J.Q(l5.qN)){if(v)n=25*Math.floor((n-1)/25);else{if(p<=10)p--;else if(p<=50)p=5*Math.floor((p-1)/5);
else if(p<=100)p=10*Math.floor((p-1)/10);else if(p<=200)p=25*Math.floor((p-1)/25);else if(p<=400)p=50*Math.floor((p-1)/50);
else p=100*Math.floor((p-1)/100)}}if(J.Q(l5.Es)){if(v)n=25*Math.ceil((n+1)/25);else{if(p<10)p++;else if(p<50)p=5*Math.ceil((p+1)/5);
else if(p<100)p=10*Math.ceil((p+1)/10);else if(p<200)p=25*Math.ceil((p+1)/25);else if(p<400)p=50*Math.ceil((p+1)/50);
else p=100*Math.ceil((p+1)/100)}}var A=J.Q(l5._8),$=J.Q(l5.nE);if(v&&(A||$)){B=(B+360+15*(A?1:-1))%360}p=Math.max(1,p);
n=Math.max(0,Math.min(100,n));if(t==-1)n=-1;if(p!=c||n!=t||B!=u){var X=a.G(z);X.Brsh.v.Dmtr.v.val=p;
X.Brsh.v.Angl.v.val=B;if(t!=-1)X.Brsh.v.Hrdn.v.val=n;return X}return null};L.SD.prototype.ee=function(z,J,p,n){if(z._$.list.length==0)return;
var B=this.id,c;if((B==L.xz||B==L.pb||B==L.na||B==L.eA)&&(J!=null&&J.Q(l5.W0)||this.T_.alt[0]))c="crosshair";
else{var t=this.UI,u=this.T_.brush;if((B==L.xz||B==L.pb)&&p&&this.VH&&this.VH.length==this.Mm.C()*4){var v=p.i.Ka(n.x,n.y),A=this.aFl(v),$=this.VH,X=this.Mm,U=new fw(X.x+A.x,X.y+A.y,X.r,X.$),w=dJ.Zn(u,z._$.EO,t),P=w[0],k=w[1],T=Math.ceil(k.r/t),Z=new fw(Math.round(v.x-T/2),Math.round(v.y-T/2),T,T),i=a.j(Z.C()*4),V,_;
if(p.depth==8)a.nk($,U,i,Z);else{var y=a.j(Z.C()*4,p.depth);a.nk($,U,y,Z);i=a.hg(y,8)}if(t==1){V=i;_=Z}else{var E=new fA(t,0,0,t,0,0),F=L.tp.EG([i,Z],E,!0);
_=k.P();_.x=F.S.x;_.y=F.S.y;if(_.Vm(F.S))V=F.buffer;else{V=a.j(_.C()*4);a.nk(F.buffer,F.S,V,_)}}var d=this.T_.opacity/255;
for(var g=0;g<V.length;g+=4)V[g+3]=d*(P[g+3]*V[g+3]);dJ.Uv(new Uint32Array(V.buffer),_,4278190080,4294967295);
c={ps:V,Dm:_,wG:new i_(_.r/2,_.$/2)}}else{c=dJ.L$(u,z._$.EO,t,B==L.$R||B==L.Pl);if(this.hj){c.ps.fill(0);
dJ.Uv(new Uint32Array(c.ps.buffer),c.Dm,4278190080,4294967295)}}}var x=new cD(b.E.c,!0);x.data={R:b.J.tk,BZ:c};
if(this.caller)this.caller.a(x)};L.SD.prototype.enable=function(z,J,p,n){this.f=p;this.caller=J;this.TW(a.G(this.T_.brush));
if(z&&z.i.XP!=0)this.UI=z.i.XP;this.hj=n.a5a();this.ee(p,n)};L.SD.prototype.Sc=function(z,J){if(J==iQ.Pr){this.T_.brush=z._$.fO;
this.ee(z)}};L.SD.prototype.zD=function(z,J,p,n,B){for(var c in z)this.T_[c]=z[c];if(this.T_.alt[0])this.ee(B,n,p)};
L.SD.prototype.axQ=function(z){var J=z.dX.length!=0?-1-z.dX[0]:z.Y[0],p=z.U[J],n=J<0?1:p.uB,B=J<0?z.b8[-J-1]:n<=0?null:n==1?p.Qu():p.g6(z).T4,c=B?B.N:p.buffer,t=(B?B.S:p.S).P();
return[p,n,B,c,t]};L.SD.prototype.RB=function(z,J){this.sI=z.M==null?null:{S:z.M.S.P(),N:z.M.N.slice(0)};
var p=this.pA,n=this.axQ(z),B=n[0],c=n[1],t=n[2];this.pA=n[3];this.Ln=n[4];var u=new fw(0,0,z.r,z.$),v=u.KQ(this.Ln);
if((this.Np()&&c<=0||v.Vm(this.Ln))&&J!=!0){if(p&&p.length==this.pA.length){p.set(this.pA);this.pA=p}else this.pA=this.pA.slice(0)}else{if(t)t.extend(v);
else B.extend(v)}};L.SD.prototype.MZ=function(z,J){var p=this.axQ(z),n=p[1],B=p[3],c=p[4],t=[B,c],u=J!=null?J:this.T_.sfrom;
if(n<=0&&u!=0){t[1]=new fw(0,0,z.r,z.$);t[0]=z.dT(u==1&&z.Y[0]!=z.U.length-1?z.Y[0]:null).slice(0)}this.Mm=t[1].P();
this.VH=t[0].slice(0)};L.SD.prototype.hR=function(z,J,p,n,B,c){if(B.Wj&&n.Q(l5.W0)&&this.SO==null){if(c)this.Vr=p.Nb;
var t=new cD(b.E.H,!0);t.l=L.ax;t.data={R:"pickhere",aKD:B};J.a(t);var u=L.IY.ajT(z,!1,!0,B,null,p.Nb,this.Vr,1),t=new cD(b.E.c,!0);
t.data={R:b.J.tk,BZ:u};J.a(t);return!0}return!1};L.SD.prototype.ZP=function(z,J,p,n,B,c){if(this.id!=L.qC&&!z.AM(this.caller)){this.nC=null;
return}if(this.id!=L.qC&&this.nC)return;this.RB(z);var t=new fw(0,0,z.r,z.$),u=null;if(c!=null){var v=z.dX.length!=0?-1-z.dX[0]:z.Y[0],A=z.U[v],$=v<0?z.b8[-v-1]:A.uB<=0?null:A.uB==1?A.Qu():A.g6(z).T4;
u=a.j(t.C()*4,z.depth);if($)L.SD.oX(this.pA,this.Ln,$.color,u,t);else a.nk(this.pA,this.Ln,u,t)}var X=this.T_;
if(this.nC&&this.id==L.qC&&X.qsmode!=0&&z.M!=null){}else{var U=J.Nb,w=J.Gh,T=null;if(this.UX=="erase"){var P=U;
U=w;w=P}var k=this.id==L.qC?this.Ln:t;if(z.KY)T=[3];else if(z.uc!=-1){var Z=z.$n[z.uc];T=[Z.sC[0],Z.sC[1],Z.add.vmsk.u]}this.nC=new dJ(X.brush,J._$.EO,J._$.bG,{Ba:B,Xh:c,aKe:X.smth*50/z.i.XP,Aa:this.id==L.eA||X.emode==1,sC:T,depth:z.depth},U,w,k,u)}if(this.id==L.qC){this.nC.ach(X.brush,X.qsmode==2?0:16777215)}var i=z.i.Ka(n.x,n.y);
if(p.Q(l5.VN)&&this.KC){var V=this.KC;this.nC.moveTo(V.x,V.y,n.Wf);this.nC.lineTo(.001*V.x+.999*i.x,.001*V.y+.999*i.y,n.Wf);
this.nC.lineTo(i.x,i.y,n.Wf)}else this.nC.moveTo(i.x,i.y,n.Wf);this.KC=i;this._b=i.P();this.qg=new aS(i,z.i.rH)};
L.SD.prototype.iG=function(z,J,p){if(z&&z.i.XP!=0&&z.i.XP!=this.UI){this.UI=z.i.XP;this.ee(p)}};L.SD.prototype.A5=function(z,J,p,n){if(this.nC==null)return;
var B=z.U[z.Y[0]],c=z.i.Ka(n.x,n.y),t=this.qg.U$(c,p);if(t.Vm(this.KC))return 1;this.nC.lineTo(t.x,t.y,n.Wf);
this.KC=t;if(this.id==L.xz||this.id==L.pb){var u=this.pr(),v=11;u=z.i.cE(c.x-u.x,c.y-u.y);var A=v>>>1,$=new fw(Math.round(u.x)-A,Math.round(u.y)-A,v,v),X=a.j($.C()*4);
for(var g=0;g<v;g++)X[(g*v+A)*4+3]=X[(v*A+g)*4+3]=255;z.W.wE=[[X,$]];z.eO=!0}};L.SD.prototype.BL=function(z,J,p,n){if(p.Ms!=this.id)return;
if(this.id!=L.qC||z==null)return;if(z.M==null||z.Y[0]!=this.a9Y){this.a9Y=z.Y[0];this.ID({qsmode:0},J)}};
L.SD.prototype.qM=function(z,J){if(z.dX.length!=0){z.eO=!0;return}var p=z.U[z.Y[0]];if(J==null){J=this.nC.IV();
if(this.Np()&&p.uB<=0)J=J.ly(this.Ln)}var n=p.uB;if(n==1||n==3){var B=Math.round((n==1?p.Qu():p.g6(z).T4).cc*2.4);
J=J.P();J.Lr(B,B)}if(J.Sz())return;if(n<=0){p.qM(J)}if(n==1){p.Qu().Kk=!0;p.k3(z,J)}if(n==3){p.qM(J)}z.qM(z.root.Ad(J,z,z.Y[0],!0))};
L.SD.prototype.mI=function(z,J,p,n,B){if(this.nC==null)return;this.nC.finish();if(this.id!=L.gb&&this.id!=L.pb&&this.id!=L.qC)this.i$(z);
if(this.id==L.xz||this.id==L.pb){z.W.wE=[];z.eO=!0}if(this.id==L.qC){var c=z.M;z.M=this.sI;var t=new cD(b.E.H,!0);
t.data={R:"setsel",cN:this.name,M:c};t.l=L.Wu;J.a(t);if(this.T_.qsmode==0)this.ID({qsmode:1},J)}else{this.finish(z,this.nC.vo());
this.nC=null;this.qq=null}this.dir=0};L.SD.prototype.ID=function(z,J){for(var p in z)this.T_[p]=z[p];
var n=new cD(b.E.c,!0);n.data={R:b.J.jv,l:this.id,zd:z};J.a(n)};L.SD.prototype.Np=function(){var z=this.id;
return z==L.qC||z==L.ta||z==L.Zz||z==L.OA||z==L.hd||z==L.jf};L.SD.prototype.finish=function(z,J,p,n,B){var c=z.dX.length!=0?-1-z.dX[0]:z.Y[0],t=z.U[c],u=c<0?1:t.uB,v=c<0?z.b8[-c-1]:u<=0?null:u==1?t.Qu():t.g6(z).T4,A=v?v.S:t.S,U;
if(this.Np()||!A.Vm(this.Ln)){if(v==null){if(this.Np())t.eB();else{if(this.id!=L.na&&this.id!=L.eA){var $=J.KQ(this.Ln),X=a.j($.C()*4,z.depth);
a.nk(t.buffer,t.S,X,$);t.buffer=X;t.S=$}}}else v.eB();this.qM(z,A)}if(u<=0){U=a.j(J.C()*4,z.depth);a.nk(this.pA,this.Ln,U,J)}else{U=a.j(J.C(),z.depth);
U.fill(Math.round(a.hW(z.depth)*v.color/255));a._1(this.pA,this.Ln,U,J)}this.FO(z,!1,p?p:this.name,c,u,J,U,n,B)};
L.SD.prototype.FO=function(z,J,p,n,B,c,t,u,v){var A=t;if(B>0){A=a.j(c.C()*4,a.zr(t));L.SD.oX(t,c,0,A,c)}var $=new dY(p,this);
$.data=[{w:n,tl:B,Dm:c,sM:A}];if(u)$.data.Z1=[z.M,null];if(v)$.data.Z1=[this.sI,z.M];z.kL($);if(J)this.Cb($.data,z);
else if(u)z.M=null;L.Ir.afr(z,$.data)};L.SD.prototype.gD=function(z,J){this.apC(z,J,!1)};L.SD.prototype.Cb=function(z,J){this.apC(z,J,!0)};
L.SD.prototype.ZD=function(z){return L.Ir.ZD(z)};L.SD.prototype.apC=function(z,J,p){if(z.R=="drawtemp"){var n=p?z.axt:z.atD,B=J.U[z.w];
B.AO.Da=n;B.qB(J,0,0,J.M);B.qM();J.JS=!0}else{L.Ir.zn(J,z);if(z.Z1){J.M=z.Z1[p?1:0];J.g5=!0}}J.qM()};
L.SD.prototype.i$=function(z){var J=this.nC.qZ(),p=this.nC.R2(),n=this.nC.IV();this.FJ(z,this.UX,J,p,n);
this.qM(z)};L.SD.prototype.FJ=function(z,J,p,n,B){var c=this.T_,t=z.U[z.Y[0]],u=z.dX.length!=0?z.b8[z.dX[0]]:t.uB<=0?null:t.uB==1?t.Qu():t.g6(z).T4,v=a.j(B.C()*4,z.depth),A,$=t.iF(0);
if(u==null){if(this.id==L.OE&&J=="heal")a.nk(t.buffer,t.S,v,B);else a.nk(this.pA,this.Ln,v,B);if($){A=a.j(B.C(),z.depth);
a.Tm(v,A,3)}}else{L.SD.oX(this.pA,this.Ln,u.color,v,B)}if(z.M&&J!="qselect"){var X=B.ly(z.M.S),U=a.j(X.C()*4,z.depth);
if(J=="copy"){var w=a.j(X.C(),z.depth);a._1(z.M.N,z.M.S,w,X);a.nk(v,B,U,X);a.B.MQ(p,n,U,X,w,X,0,X,1,!1)}else{a.nk(p,n,U,X);
a.ph(z.M.N,z.M.S,U,X)}p=U;n=X}function P(Z,el){var jY=Math.max(el.x,Math.min(el.x+el.r-1,Z.x)),fN=Math.max(el.y,Math.min(el.y+el.$-1,Z.y));
return new i_(jY,fN)}if(J=="idraw"||J=="ierase"){if(this.qq==null)this.qq=a.j(this.Ln.C());var k=c.samp,T=this.f.Gh,Z=P(this.KC,B),i=k==0?Z:this._b,V=i.x,_=i.y,y=L.Tn.D0(this.pA,this.Ln,[i,new i_(V-2,_),new i_(V+2,_),new i_(V,_-2),new i_(V,_+2)]);
if(k==2)y=[[T>>>16&255,T>>>8&255,T>>>0&255,255]];var E=L.Tn.nj(v,B,Z,y,c.wconf),F=a.j(B.C());a._1(this.qq,this.Ln,F,B);
a.m5.KQ(E,F,F);a._1(F,B,this.qq,this.Ln);a.ph(F,B,p,n);J=J.slice(1)}if(J=="erase"&&(L.Ir.avo(z)!=16777215||u))J="draw";
if(J=="draw")a.B.Oe(c.bmode,p,n,v,B,B,c.opacity);else if(J=="erase"){var d=c.opacity;if(this.id==L.Pl)d=1;
var x=a.j(B.C()*4,z.depth);a.nk(p,n,x,B);if(u==null){var f=a.j(B.C(),z.depth);a.Tm(x,f,3);a.ou(f,d);
a.oU(f);a.ph(f,B,v,B)}else{a.Y1(x,0,0,0);a.B.Oe("norm",x,B,v,B,B,d)}}else if(J=="clone"||J=="heal"){var Q=this.pr(),m=this.Mm.P();
m.offset(Q.x,Q.y);var H=B.P();H.Lr(1,1);var S=a.j(H.C()*4,z.depth),R=a.j(H.C(),z.depth);a.nk(p,n,S,H);
a.Tm(S,R,3);S.fill(0);if(u==null){a.nk(this.VH,m,S,H);var I=a.j(H.C(),z.depth);a.Tm(S,I,3);a.iy(I,R)}else L.SD.oX(this.VH,m,u.color,S,H);
if(J=="clone"){a.DE(R,S,3);a.B.Oe(c.bmode,S,H,v,B,B,c.opacity)}if(J=="heal"){var D=R.slice(0);a.round(D,a.hW(z.depth)/10);
var G=a.j(H.C()*4,z.depth);if(u==null)a.nk(this.pA,this.Ln,G,H);else L.SD.oX(this.pA,this.Ln,u.color,G,H);
a.B.MQ(S,H,G,H,D,H,0,H,1,!1);var C=a.hg(G,8);a.Fu.D8(C,D,H);a.hg(C,z.depth,G);a.B.MQ(G,H,v,B,R,H,0,B,1,!1)}}else if(J=="dodge"||J=="burn"){var O=B.C()*4,Y=a.hW(z.depth),h=1/Y,S=a.j(O,z.depth),W=1,N=0,o=0,K=0;
a.nk(p,n,S,B);var r=L.SD.zN;if(this.oI){if(J=="dodge")J="burn";else J="dodge"}var l=c.rng;if(J=="dodge"){N=[1-W/2,1,1+W][l];
o=[1,1/(1+W),1][l];K=[W/2,0,0][l]}if(J=="burn"){N=[1/(1-W/2),1,1-W/2][l];o=[1,1+W,1][l];K=[-(W/2)/(1-W/2),0,0][l]}for(var g=0;
g<O;g+=4){var aV=S[g+3]*h;v[g+0]=Y*r(v[g+0]*h,N,o,K,aV);v[g+1]=Y*r(v[g+1]*h,N,o,K,aV);v[g+2]=Y*r(v[g+2]*h,N,o,K,aV)}}else if(J=="sponge"||J=="redeye"){var S=a.j(B.C()*4,z.depth),R=a.j(B.C(),z.depth);
a.nk(p,n,S,B);a.Tm(S,R,3);a._U(v,S);var j=c.smode;if(this.oI)j=1-j;var M=em.J0("hue2");if(J=="sponge")eP.m9(M,0,[0,[-50,46][j],[6,5][j]]);
else eP.m9(M,1,{RO:[265,305,25,55],pm:[0,-90,-70]});var s=fs.XC("hue2",M);fs.Rm(s,S,S,B);a.B.MQ(S,B,v,B,R,B,0,B,1,!1)}else if(J=="copy")a.nk(p,n,v,B);
else if(J=="sheal"){var S=a.j(B.C()*4,z.depth),R=a.j(B.C(),z.depth);a.nk(p,n,S,B);a.Tm(S,R,3);S.fill(0);
var l2=this.VH,gm=this.Mm;if(u){l2=a.j(gm.C()*4,z.depth);L.SD.oX(this.VH,gm,0,l2,gm)}var iz=a.hg(S,8),dC=a.l4.D8(a.hg(l2,8),gm,a.hg(R,8),iz,B);
a.hg(iz,z.depth,S);if(dC!=0)a.nk(l2,gm,S,B);if(c.sfrom==0)a.nk(S,B,v,B);else{a.nk(this.pA,this.Ln,v,B);
a.DE(R,S,3);a.B.Oe("norm",S,B,v,B,B,1)}}else if(J=="qselect"){var dL=this.Ln,cP=dL.r,id=dL.$,jR=cP*id,hC=a.hg(this.nC.qZ(),8),eJ=L.gL.NG,R=eJ.hr;
R.fill(128);for(var g=0;g<jR;g++){var el=hC[g<<2],eu=hC[(g<<2)+3];if(eu==255&&(el==0||el==255))R[g]=el}R[0]=R[cP-1]=0;
R[(id>>>1)*cP]=R[(id>>>1)*cP+cP-1]=0;L.pc.Mr(eJ,!0,z);z.M={S:dL,N:a.hg(eJ.M.slice(0),z.depth)};z.g5=!0}if(u==null){if($)a.DE(A,v,3);
a.nk(v,B,t.buffer,t.S)}else L.SD.fp(v,B,u)};L.SD.pr=function(){return null};L.SD.zN=function(z,J,p,n,B){var c=n+J*Math.pow(z,p),t=c*B+z*(1-B);
return Math.max(0,Math.min(1,t))};L.SD.oX=function(z,J,p,n,B){var c=a.zr(z),t=a.hW(c),u=a.j(B.C(),c);
u.fill(t*p/255);a._1(z,J,u,B);n.fill(t);a.eG(u,n)};L.SD.fp=function(z,J,p){var n=a.j(J.C(),a.zr(z));
a.rz(z,n);a._1(n,J,p.N,p.S)};L.gL=function(z,J,p){L.y6.call(this,z,J,p);this.T_={binop:0,feat:0,cstr:{t:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this._F=new i_(-1,-1);this.Ne=new i_(-1,-1);this.hc="default";this.kP=null;this.PA=!1;this.FN=new jJ;
this.mV=!1;this.$k=null;this.lK=null;this.Wx=!1;this.wQ=!1};L.gL.prototype=new L.y6;L.gL.prototype.UB=function(){var z=this.T_,J=[z.binop,z.feat],p=z.wconf.slice(0);
p[1]=p[1]?1:0;p[2]=p[2]?1:0;var n=p.join(",")=="16,1,1";if(J[0]==0&&J[1]==0&&n)return null;if(!n)J.push(p);
return J};L.gL.prototype.t1=function(z,J,p){var n=this.T_;if(z[0])n.binop=z[0];if(z[1])n.feat=z[1];if(z[2]){var B=n.wconf=z[2].slice(0);
if(typeof B[1]=="number"){B[1]=B[1]==1;B[2]=B[2]==1}}this.BN(p)};L.gL.prototype.BN=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.jv,l:this.id,T_:this.T_};z.a(J)};L.gL.NG={key:""};L.gL.G6=function(z,J,p){var n={rK:z,m$:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(J)n.m$.T=J;if(p!=null)n.m$.AntA={t:"bool",v:p};return n};L.gL.Dw=function(z,J,p){return L.gL.G6("set",{t:"Objc",v:{classID:z,Top:{t:"UntF",v:{type:"#Pxl",val:J.y}},Left:{t:"UntF",v:{type:"#Pxl",val:J.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:J.y+J.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:J.x+J.r}}}},p)};
L.gL.YR=function(z,J,p){var n=[],B=[],t="set";for(var g=0;g<z.length;g+=2){n.push(z[g]);B.push(z[g+1])}var c={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:n},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:B}]}}}};
if(J)t=["set","addTo","subtractFrom","interfaceWhite"][J];return L.gL.G6(t,c,p)};L.gL.aLB=function(z,J,p){var n={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:z.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:z.y}}}},B=L.gL.G6("set",n);
B.m$.Tlrn={t:"long",v:J[0]};B.m$.AntA={t:"bool",v:J[1]};B.m$.Cntg={t:"bool",v:J[2]};if(p==!0)B.m$.Mrgd={t:"bool",v:p};
return B};L.gL.aj=function(z){return L.gL.G6("set",{t:"enum",v:{Ordn:z?"Al":"None"}})};L.gL.dR=function(z,J,p){var n={classID:"null"};
if(z!="border")n.selectionModifyEffectAtCanvasBounds={t:"bool",v:p};var B={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[z[0]];
n[B]={t:"UntF",v:{type:"#Pxl",val:J}};return{rK:z,m$:n}};L.gL.tG=function(z,J,p){var n={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},B={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:J}}]};
if(p)B.v.push({t:"name",v:{classID:"Lyr",val:p}});var c=[{classID:"null",null:n,T:B},{classID:"null",null:B,T:n},{classID:"null",null:B,From:n},{classID:"null",null:B,With:n}],t=["set","add","subtract","interfaceIconFrameDimmed"];
return{rK:t[z],m$:c[z]}};L.gL.af4=function(){return{rK:"make",m$:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}};
L.gL.a64=function(z,J){var p=new cD(b.E.c,!0);p.data={R:b.J.bS,Xu:iQ.j5};if(!J.NO)z.a(p);p.data={R:b.J.bS,Xu:iQ.Qm};
if(!J.Uc.nI)z.a(p)};L.gL.prototype.$P=function(z,J,p,n,B){L.gL.a64(J,B);this.kP=J;var c=z.R,t,u,v=new fw(0,0,p.r,p.$),cM=!1,jK,aw,ez,g4;
if(c=="fromAction"){var A=z.NR,$=A.rK,X=A.m$,U=X?X.selectionModifyEffectAtCanvasBounds:null,w=U&&U.v;
if($=="colorRange"){if(X.Clrs){var P=X.Clrs.v.Clrs,k=0,T=255,Z=["Shdw","Mdtn","Hghl"].indexOf(P),y=.4;
if(Z==0)T=60;else if(Z==1){k=100;T=150}else k=190;var i=["shadows","midtones","highlights"][Z],V=X[i+"LowerLimit"],_=X[i+"UpperLimit"];
if(V)k=V.v;if(_)T=_.v;var E=X[i+"Fuzziness"];if(E)y=E.v/100;t=L.gL.R7(p,k,T,y,!0)}else{var k=X.Mnm.v,T=X.Mxm.v,y;
k={Z5:k.Lmnc.v,k6:k.A.v,X:k.B.v};T={Z5:T.Lmnc.v,k6:T.A.v,X:T.B.v};y=X.Fzns.v/200;t=L.gL.R7(p,k,T,y)}u=[7,8]}else if($=="inverse"){if(p.M==null){alert("No selection!");
return}t={N:a.j(v.C(),p.depth),S:v};a._1(p.M.N,p.M.S,t.N,t.S);a.oU(t.N);u=[7,2]}else if($=="expand"){var F=X.By.v.val,d=p.M.S.P();
d.Lr(F,F);var x=a.j(d.C()),f=a.j(d.C(),p.depth);a._1(p.M.N,p.M.S,f,d);a.style.stroke(a.hg(f,8),x,d,F);
t={N:a.hg(x,p.depth),S:d};u=[7,4]}else if($=="contract"){var F=X.By.v.val,Q=p.M.S.P();Q.Lr(1,1);if(!w)Q=Q.ly(v);
var f=a.j(Q.C(),p.depth),m=a.j(f.length,8);a._1(p.M.N,p.M.S,f,Q);a.oU(f);a.style.stroke(a.hg(f,8),m,Q,F);
a.oU(m);t={N:a.hg(m,p.depth),S:Q};a.eB(t);u=[7,5]}else if($=="border"){var F=X.Wdth.v.val;t=L.gL.ax$(p.M,F/2,F/2);
u=[7,9]}else if($=="feather"||$=="smoothness"){var F=X.Rds.v.val;t=L.gL.aHt(p.M,F,$=="smoothness",v,w);
u=$=="feather"?[7,6]:[19,3,0]}else if($=="move"){var H=X.T.v,d=p.M.S.P();d.x+=H.Hrzn.v.val;d.y+=H.Vrtc.v.val;
t={N:p.M.N,S:d};u=[7,7]}else if($=="grow"||$=="similar"){var S=this.T_.wconf.slice(0);if(X.Tlrn)S[0]=X.Tlrn.v;
S[2]=$=="grow";var R=p.dT(),I=new fw(0,0,p.r,p.$),D=p.M.S,G=Math.max(1,Math.round(Math.sqrt(D.C())/10)),C=a.j(I.C());
a._1(p.M.N,D,C,I);var O=[];for(var Y=0;Y<D.$;Y+=G)for(var h=(D.C()+Y)%G;h<D.r;h+=G)if(p.M.N[Y*D.r+h]==255){var r=new i_(D.x+h,D.y+Y);
O.push(r);if(S[2])a.m5.KQ(L.Tn.nj(R,I,r,null,S),C,C)}if(!S[2])a.m5.KQ(L.Tn.nj(R,I,r,L.Tn.D0(R,I,O),S),C,C);
t={N:C,S:I};u=$=="grow"?"Grow Selection":"Similar Selection";console.log(X)}else{var W=X.null.v,N=X.AntA!=null&&X.AntA.v;
function o(ga){return a.b.$M(a.R$.R2(ga,p.r,p.$),!0)}function K(ga){var iC=ga[0].arr,dI=ga[1].arr,fV={L:[],Ao:[]};
for(var g=0;g<iC.length;g++){fV.Ao.push(g==0?"M":"L");fV.L.push(iC[g],dI[g])}fV.Ao.push("Z");if(ga[0].uID=="#Prc")a.b.h(fV.L,new fA(p.r/100,0,0,p.$/100,0,0),fV.L);
return fV}var l=["set","addTo","subtractFrom","interfaceWhite"].indexOf($),aV=X.T?X.T.v:null;if(aV&&aV.classID=="Elps"){t=this.a2j(L.cK.aDU(o(aV)),p.depth);
u=[10,4]}else if(aV&&aV.classID=="Rctn"){var j=o(aV);t={N:a.j(j.C(),p.depth),S:j.P()};t.N.fill(a.hW(p.depth));
u=[10,15]}else if(aV&&aV.classID=="ObSl"){var j=o(aV),M=L.gL.NG,s=M.S,l2=M.hr,gm=s.r,iz=s.$,dC=j.x-s.x,dL=dC+j.r-1,cP=Math.max(dC,Math.min(dL,dC+dL>>>1)),id=j.y-s.y,jR=id+j.$-1,hC=Math.max(id,Math.min(jR,id+jR>>>1)),eJ=Math.max(dC,0),el=Math.min(dL,gm),eu=Math.max(id,0),jY=Math.min(jR,iz);
l2.fill(128);if(0<=id)for(var h=eJ;h<el;h++)l2[id*gm+h]=0;if(jR<iz)for(var h=eJ;h<el;h++)l2[jR*gm+h]=0;
if(0<=dC)for(var Y=eu;Y<jY;Y++)l2[Y*gm+dC]=0;if(dL<gm)for(var Y=eu;Y<jY;Y++)l2[Y*gm+dL]=0;var fN=L.T2.a6K,jC=Math.round(j.r*fN),kF=Math.round(j.$*fN);
for(var h=Math.max(0,cP-jC);h<Math.min(gm,cP+jC);h++)l2[hC*gm+h]=255;for(var Y=Math.max(0,hC-kF);Y<Math.min(iz,hC+kF);
Y++)l2[Y*gm+cP]=255;L.pc.Mr(M,!0);t={N:M.M.slice(0),S:s.P()};u=[10,44]}else if(aV&&aV.classID=="Plgn"){t=this.a2j(K(aV.Pts.v.arr),p.depth);
u=[10,9]}else if(aV&&aV.classID=="Pnt"){t=L.Tn.a3j(p,new i_(aV.Hrzn.v.val,aV.Vrtc.v.val),[X.Tlrn.v,N,X.Cntg==null||X.Cntg.v],X.Mrgd?X.Mrgd.v:!1);
u=[10,12]}else if(aV&&aV.Ordn=="None"){t=null;u=[7,1]}else if(aV&&aV.Ordn=="Al"){var i6=v;if(p.Y.length!=0){var kT=p.root.Ti(p.Y[0]);
while(kT.parent&&kT.parent.parent)kT=kT.parent;if(kT.w.add.artb)i6=kT.w.x0()}t={N:a.j(i6.C(),p.depth),S:i6};
t.N.fill(a.hW(p.depth));u=[7,0]}else if(aV&&aV[0]&&aV[0].v.keyID=="WrPt"){var kY={R:"frompath",qY:[-1,0,0]};
this.$P(kY,J,p,n,B);return}else{var h9=["set","add","subtract","interfaceIconFrameDimmed"].indexOf($),bG=$=="set"?aV:W,dQ=bG[0].v.enum,kY;
if(dQ=="Trsp"||dQ=="Gray"||dQ=="Msk"||dQ=="vectorMask"||dQ=="Trgt"){var jn=p.Y[0];if(bG.length==2)jn=dB.RC(p,bG[1]);
var b1=["Trsp","Msk","vectorMask"].indexOf(dQ);if(dQ=="Trgt"&&p.U[jn].uB==1)b1=1;if(dQ=="Gray")b1=-1;
kY={R:"fromlayer",qY:[jn,b1,h9]}}else{if(bG[0].t=="name"){var jn=0;for(var g=0;g<p.b8.length;g++)if(p.b8[g].name==bG[0].v.val)jn=g;
kY={R:"fromchannel",qY:[-5-jn,0,h9]}}else{var c8=["RGB","Rd","Grn","Bl"].indexOf(dQ);kY={R:"fromchannel",qY:[-1-c8,0,h9]}}}this.$P(kY,J,p,n,B);
return}if(t){if(!N)a.round(t.N);if(X.Fthr)t=L.gL.aHt(t,X.Fthr.v.val,!1);if($!="set"&&p.M!=null)t=a.m5.k1(t,p.M,l)}}if($=="expand"||$=="contract")if(!w&&!v.contains(t.S)){var j_=t.S.ly(v),fQ=a.j(j_.C(),p.depth);
a._1(t.N,t.S,fQ,j_);t.N=fQ;t.S=j_}}if(c=="qmask"){cM=!0;var ht=p.d4(),I=new fw(0,0,p.r,p.$);if(ht){t=ht.S.Vm(I)&&a.yv(ht.N,255)?null:{S:ht.S.P(),N:ht.N.slice(0)};
jK=ht}else{t=null;aw=new bi.L7;aw.color=0;aw.name="Quick Mask";aw.m6=!0;if(p.M){aw.S=p.M.S.P();aw.N=p.M.N.slice(0)}else{aw.S=I;
aw.N=a.j(aw.S.C());aw.N.fill(255)}}u=[6,6,1];p.JS=!0}if(c=="setsel"){t=z.M;u=z.cN}if(c=="crange"){var k=z.Va,T=z.ZJ;
t=L.gL.R7(p,k,T,z.w2);u=[7,8]}if(c=="fromlayer"||c=="fromchannel"||c=="frompath"){var gx=z.qY[0],b1=z.qY[1],l=z.qY[2];
if(c=="fromlayer"){if(gx==null)gx=p.Y[0];var kE=p.U[gx];if(b1<=0){if(kE.nT()){var kT=p.root.Ti(gx);t={N:a.j(0),S:new fw};
for(var g=0;g<kT.children.length;g++){var kS=kT.children[g].w;if(kS.S.Sz())continue;var h7=a.j(kS.S.C());
a.Tm(kS.buffer,h7,3);var b7={N:h7,S:kS.S.P()};if(g==0)t=b7;else t=a.m5.k1(t,b7,1)}if(t.S.Sz())return}else{var i7=kE.S,fp=kE.buffer;
if(i7.Sz())return;var jB=a.j(fp.length>>>2,p.depth);if(b1==0)a.Tm(fp,jB,3);if(b1==-1)a.rz(fp,jB);t={N:jB,S:i7.P()}}}else{if(kE.T4==null)kE.k3(p);
var fB=b1==1?kE.Qu():kE.T4;if(b1==3)fB=kE.g6(p).T4;t=L.gL.a7u(fB,v)}this.track(L.gL.tG(l,["Trsp","Msk"][b1],kE.getName()))}else if(c=="frompath"){var df=p.Q8(),dt=df[1],df=df[0],h$=!0;
if(gx==null)if(df.length==0||dt.length==0)return;var g5=df[dt[0]];if(gx!=null)for(var g=0;g<df.length;
g++)if(df[g].GU==gx)g5=df[g];var fB=g5.add.vmsk.Qu(),bR=fB.R2();if(bR.C()==0)return;var jB=fB.DR();if(z.qY[3]!=null)h$=z.qY[3];
if(!h$){jB=jB.slice(0);a.round(jB)}ez=[JSON.stringify(p.E0),JSON.stringify(p.sk)];g4=["[]","[]"];p.E0=[];
p.sk=[];t={N:jB,S:bR}}else if(c=="fromchannel"){if(gx==null)gx=L.gL.aJ4(p);t=L.gL.aDP(p,gx)}if(l!=0&&p.M)t=a.m5.k1(t,p.M,l);
u=[14,11]}if(c=="bgrm"){if(L.gL.a9t(p,J,z,B))return;var ih=window.locStor.getItem("bgrmt");if(ih==null)ih=0;
var jt=24*60*60,jN=L.gL.aqI.bind([p,J,z,B]),jk=Math.floor((Date.now()-ih)/1e3);if(!ao._v(1)&&ao.Zd(B,1)==null){var cW=j8.x_(),dR=cW?"Out of AI credits :( ":"This is a Premium feature. Go Premium for $5 a month (press Account at the top). ",gV=dR+"\nWatch a short ad to use the feature?";
hx.J1(jN,gV,"rmbg")}else jN();return}if(t!=null&&a.yv(t.N,0)){t=null;u=[7,1]}if(t)a.eB(t);var gv=new dY(u,this);
gv.data={R:"changesel",M:t,d4:cM,awf:jK,aBG:aw,Ah:ez,ayh:g4};p.kL(gv);this.Cb(gv.data,p)};L.gL.a9t=function(z,J,p,n){var B=z.U[z.Y[0]],c=B.S,t=a.hg(B.buffer,8),u=c.r,v=c.$,A=[0,0,u-1,0,0,v-1,u-1,v-1],$=!0;
for(var g=0;g<4;g+=2){var X=(A[g+1]*u+A[g])*4,U=0;for(var w=0;w<3;w++){U+=(t[w]-t[X+w])*(t[w]-t[X+w])}if(U>25)$=!1}if($&&B.Qu()==null&&z.M==null){var P=a.j(u*v);
for(var g=0;g<4;g++){var k=A[g*2],T=A[g*2+1],Z=20,i=1,V=null;if(P[T*u+k]>200)continue;while(Z<120){var _=L.Tn.nj(t,c,new i_(k,T),null,[Z,!0,!0]),y=0;
for(var w=0;w<_.length;w++)y+=_[w];var E=Z<50?1.015:1.004;if(V&&y>i*E)break;V=_;i=y;Z+=10}for(var w=0;
w<V.length;w++)P[w]=Math.max(P[w],V[w])}a.oU(P);L.gL.aci(B,J,P,c,p.K,null);alert(iX.fb("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};L.gL.aqI=function(){var z=this[0],J=this[1],p=this[2],n=this[3],B=2,c=z.U[z.Y[0]],t=c.S,u=a.hg(c.buffer,8),v=1,A=[4096,4096,2048][B];
while(Math.max(t.r,t.$)>A){var $=a.Wq(u,t);t=$.S;u=$.R1;v*=2}var X=kL.V5("png"),U=kL.V5("jpg"),w=U.D6([[u.buffer]],t.r,t.$),P=new FormData;
P.append("image",new Blob([w],{type:"ima"+"ge/j"+"pg"}));P.append("mode","mask");var k=new cD(b.E.c,!0);
k.data={R:b.J.Yg,gX:"Processing ..."};J.a(k);window.a8G=Date.now();var T=function(Z){console.log(Date.now()-window.a8G);
var i=Z.target.response,V=new Uint8Array(i);if(V.length!=0){var _=X.uj(i)[0],y=_.eE,F=a.j(y.C());a.rz(new Uint8Array(_.data),F);
for(var g=0;g<F.length;g++){if(F[g]>250)F[g]=255}if(v!=1){var $=L.tp.azh([F,y],new fA(v,0,0,v,0,0));
y=$.S;F=$.N}y.x=c.S.x;y.y=c.S.y;L.gL.aci(c,J,F,y,p.K,iX.fb("AQVUYE\\{}"));if(ao.Zd(n,1)==null){ao.aO("Rem"+"ove B"+"G",1);
window.locStor.setItem("bgrmt",Date.now())}}else{alert("An error occured :( we are trying to fix it.")}var k=new cD(b.E.c,!0);
k.data={R:b.J.wg,gX:"Processing ..."};J.a(k)};ao.afj(iX.fb("aQVUYEi<87<5=7:0#"),P,ao.Zd(n,1),T)};L.gL.aci=function(z,J,p,n,B,c){var t=new cD(b.E.H,!0);
if(B==1){t.l=L.bX;t.data={R:bi.CZ,s6:c,a5E:!0,th:"HdAl"};J.a(t);var u=z.Qu();u.color=0;u.S=n;u.N=a.hg(p,a.zr(z.buffer));
u.eB();z.k3()}else if(B==2){t.l=L.Wu;t.data={R:"setsel",M:{N:p,S:n},cN:"Select Subject"};J.a(t)}else throw"e"};
L.gL.aJ4=function(z){var J=0;if(z.dX.length!=0)J=-5-z.dX[0];else if(JSON.stringify(z.i.Az)=="[1,1,1]")J=-1;
else J=-2-z.i.Az.indexOf(1);return J};L.gL.aDP=function(z,J){var p,n=new fw(0,0,z.r,z.$);if(-5<J&J<0){var B=-J-1,c=z.dT(),t=a.j(n.C());
if(B==0)a.rz(c,t);else a.Tm(c,t,B-1);p={N:t,S:n.P()}}if(J<-4){p=L.gL.a7u(z.b8[-J-5],n)}return p};L.gL.a7u=function(z,J){var p,n;
if(z.Um()==0){n=z.R2().P();if(n.C()==0)return;p=z.DR()}else{n=J;p=a.j(n.C());z.TJ(n,p)}return{N:p,S:n}};
L.gL.prototype.Ae=function(z){return this.mV||z.Wj&&this.id!=L.Vq};L.gL.prototype.Rc=function(z,J,p){var n=new cD(J,!0);
n.data=p;z.a(n)};L.gL.prototype.a3i=function(z,J){var p=new cD(b.E.c,!0);p.data={R:b.J.tk,BZ:J};z.a(p)};
L.gL.prototype.R2=function(z,J,p){J=z.M==null||this.FN.Oi(1)||this.FN.vb(1)?J:null;var n=this._F,B=this.Ne;
if(p){n.x=Math.max(0,Math.min(z.r,n.x));n.y=Math.max(0,Math.min(z.$,n.y));B.x=Math.max(0,Math.min(z.r,B.x));
B.y=Math.max(0,Math.min(z.$,B.y))}var c=L.Fz.wP(n,B,J,!0,this.T_.cstr),t=c[0].x,u=c[0].y,v=new fw(t,u,c[1].x-t,c[1].y-u);
if(p){v.x=Math.max(v.x,0);v.y=Math.max(v.y,0)}return v};L.gL.prototype.lW=function(z,J,p,n,B){this.wQ=!0;
if(this.Zr())return;this.kP=J;this.PA=!1;this.FN.lW(n);this._F=z.i.Ka(B.x,B.y);this._F=L.DJ.o9(z,this._F,p);
if(this.auA(z,this._F,n)){this.mV=!0;this.$k=z.M.S.P();return}this.Zf(z,p,n,B);z.i.zZ=new fw};L.gL.prototype.auA=function(z,J,p){var n=p.Q(l5.VN),B=p.Q(l5.W0);
if(z.M&&!n&&!B&&this.T_.binop==0)return a.Y8(J,z.M.N,z.M.S);return!1};L.gL.prototype.dV=function(z,J,p,n,B){this.kP=J;
if(this.Wx)return;var c=z.i.Ka(B.x,B.y);if(i_.mT(this._F,c)*z.i.XP>5){this.PA=!0;this.FN.dV()}if(n.Q(l5.BE)){if(this.lK==null)this.lK=new i_(c.x-this._F.x,c.y-this._F.y);
this._F.x=c.x-this.lK.x;this._F.y=c.y-this.lK.y}else this.lK=null;this.Ne=c;if(!this.mV&&this.id!=L.Vq)this.Ne=L.DJ.o9(z,this.Ne,p);
if(this.auA(z,this.Ne,n))this.a3i(J,"move");else this.a3i(J,this.hc);if(this.mV){var t=this.$k.P();t.x+=this.Ne.x-this._F.x;
t.y+=this.Ne.y-this._F.y;var u=L.DJ.qP(z,t,p);z.M.S.x=Math.round(this.Ne.x-this._F.x+this.$k.x+u[0]);
z.M.S.y=Math.round(this.Ne.y-this._F.y+this.$k.y+u[1]);z.g5=!0;L.DJ._B(z,t,u);return}this.Is(z,p,n,B,J);
if(z.i.zZ)z.i.zZ=this.R2(z,n)};L.gL.prototype.Zr=function(){return!1};L.gL.prototype.mI=function(z,J,p,n,B,c){var t=this.wQ;
this.wQ=!1;if(c||!t)return;z.i.zZ=null;this.Ne=z.i.Ka(B.x,B.y);this.Ne=L.DJ.o9(z,this.Ne,p);if(this.mV){this.mV=!1;
if(z!=null&&z.W.qT){z.W.qT=null;z.eO=!0}if(this.Ne.Vm(this._F)&&this.UZ()==0){this.Rc(J,b.E.wR,L.gL.aj());
return}this.auL(z,this.$k,z.M.S.P());return}this.fW(z,p,n,B,J);L.gL.a64(J,p);this.FN.mI();this.qK(J)};
L.gL.prototype.auL=function(z,J,p){var n=z.HE();if(n!=null&&n.l==this&&n.data.R=="movesel"){}else{n=new dY([7,7],this);
n.data={R:"movesel",$_:J};z.kL(n)}n.data.xK=p;this.Cb(n.data,z)};L.gL.prototype.XJ=function(z,J,p,n,B){this.Wx=!0};
L.gL.prototype.uH=function(z,J,p,n,B){var c=new cD(b.E.c,!0);c.data={R:b.J.jv,l:this.id,bW:B,RV:z,f:p};
J.a(c);this.Wx=!1};L.gL.prototype.qA=function(z,J,p,n){this.FN.qA(n);if(z!=null&&z.M!=null){var B=n.wK();
if(B.x!=0||B.y!=0){var c=z.M.S.P();c.x+=B.x;c.y+=B.y;this.auL(z,z.M.S.P(),c)}}this.qK(J)};L.gL.prototype.qK=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.jv,l:this.id,ZB:this.UZ()};z.a(J)};L.gL.prototype.UZ=function(){var z=this.FN.Oi(0),J=this.FN.vb(0);
return L.gL.O8(this.T_.binop,z,J)};L.gL.O8=function(z,J,p){if(J)z=1;if(p)z=2;if(J&&p)z=3;return z};L.gL.prototype.finish=function(z,J,p,n){var B=z.M,c=this.getSelection(z,J,p,n);
if(c==null)c=L.gL.aj();else{var t=this.T_.feat,u=this.UZ();if(t!=0)c.m$.Fthr={t:"UntF",v:{type:"#Pxl",val:t}};
if(u!=0&&u!=4)c.rK=["","addTo","subtractFrom","interfaceWhite",""][u]}this.Rc(this.kP,b.E.wR,c);this._F.GK(-1,-1);
this.Ne.GK(-1,-1)};L.gL.prototype.getSelection=function(z,J,p,n){return null};L.gL.prototype.Zf=function(z,J,p,n){};
L.gL.prototype.Is=function(z,J,p,n){};L.gL.prototype.fW=function(z,J,p,n){};L.gL.prototype.gD=function(z,J){var p=z.R;
if(p=="changesel"){var n=J.M;J.M=z.M;z.M=n}if(p=="movesel")J.M.S=z.$_;if(z.d4){if(z.awf){J.dX=[J.b8.length];
J.b8.push(z.awf)}else{J.b8.pop();J.dX=[]}}if(z.Ah){J.E0=JSON.parse(z.Ah[0]);J.sk=JSON.parse(z.Ah[1])}J.g5=!0};
L.gL.prototype.Cb=function(z,J){var p=z.R;if(p=="changesel"){var n=J.M;J.M=z.M;z.M=n}if(p=="movesel")J.M.S=z.xK;
if(z.d4){if(z.aBG){J.dX=[J.b8.length];J.b8.push(z.aBG)}else{J.b8.pop();J.dX=[]}}if(z.Ah){J.E0=JSON.parse(z.ayh[0]);
J.sk=JSON.parse(z.ayh[1])}J.g5=!0};L.gL.prototype.ZD=function(z){return z.R=="changesel"&&z.M?z.M.N.length:0};
L.gL.prototype.zD=function(z){for(var J in z.T_)this.T_[J]=z.T_[J]};L.gL.prototype.a2j=function(z,J){var p=a.b._g(z.L);
if(p.Sz())return null;var n=a.za(p.r,p.$);n.save();n.beginPath();n.translate(-p.x,-p.y);Typr.U.pathToContext({cmds:z.Ao,crds:z.L},n);
n.closePath();n.fill();n.restore();var B=a.j(p.C()),c=n.getImageData(0,0,p.r,p.$);a.Tm(new Uint8Array(c.data.buffer),B,3);
if(J!=8)B=a.hg(B,J);return{S:p,N:B}};L.gL.aHt=function(z,J,p,n,B){if(p)J=Math.round(J*.7);var c=Math.ceil(2.6*J),t=z.S.P();
t.Lr(c,c);if(n&&!B)t=t.ly(n);var u=a.j(t.C(),a.zr(z.N));a._1(z.N,z.S,u,t);a.zM.zH(u,t,J);if(p){var v=u.length,A=a.hW(a.zr(u)),$=A/2;
for(var g=0;g<v;g++){var X=(u[g]-$)*J*2.5;u[g]=Math.max(0,Math.min(A,$+X))}}return{N:u,S:t}};L.gL.ax$=function(z,J,p){var n=a.zr(z.N),B=a.hg(z.N,8),c=Math.max(1,Math.ceil(p)),t=z.S.P();
t.Lr(c,c);var u=t.C(),v={N:a.j(u),S:t},A=a.j(u);a._1(B,z.S,A,v.S);if(p!=0)a.style.stroke(A,v.N,v.S,p);
else a._U(A,v.N);var $=a.j(u);a.oU(A);if(J!=0)a.style.stroke(A,$,v.S,J);else a._U(A,$);a.m5.ly(v.N,$,v.N);
v.N=a.hg(v.N,n);return v};L.gL.R7=function(z,J,p,n,B){var c=new fw(0,0,z.r,z.$),t=z.dT();if(z.M){var u=z.M.S.ly(c),v=a.j(u.C()*4,z.depth);
a.nk(t,c,v,u);c=u;t=v}var A=c.C(),$=a.j(A,z.depth),X=1/n,U=255/a.hW(z.depth);if(B){if(J>=p)J=p-1;var w=J*(1-n),P=J,k=p,T=p+(255-p)*n,Z=w==P?0:1/(P-w),i=k==T?0:1/(T-k);
for(var g=0;g<A;g++){var V=g<<2,_=a.b2(t[V]*U,t[V+1]*U,t[V+2]*U),y=0;if(_<w)y=0;else if(_<P)y=(_-w)*Z;
else if(_<=k)y=1;else if(_<=T)y=1-(_-k)*i;else y=0;$[g]=t[V+3]*y*y}}else for(var g=0;g<A;g++){var V=g<<2,E=a.ym(t[V]*U,t[V+1]*U,t[V+2]*U),y=a.ajs(E,J,p,n,X);
$[g]=t[V+3]*y}return{S:c,N:$}};L.yM=function(){L.SD.call(this,[10,18],L.b6,"tools/blur");this.UX="copy"};
L.yM.prototype=new L.SD;L.yM.prototype.lW=function(z,J,p,n,B){var c=n.Q(l5.W0)?dJ.qw:dJ.b6;this.ZP(z,p,n,B,this.T_.strn,c);
if(this.nC==null)return;this.i$(z)};L.yM.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);if(this.SO)this.ST(z,p,B);
if(this.nC==null)return;if(!B.Wj)return;this.A5(z,p,n,B);this.i$(z)};L.sE=function(){L.SD.call(this,[10,0],L.na,"tools/brush");
this.UX="draw"};L.sE.prototype=new L.SD;L.sE.prototype.lW=function(z,J,p,n,B){if(this.hR(z,J,p,n,B,!0))return;
this.ZP(z,p,n,B,this.T_.flow);if(this.nC==null)return;this.i$(z)};L.sE.prototype.dV=function(z,J,p,n,B){if(this.hR(z,J,p,n,B))return;
this.iG(z,J,p);if(this.SO)this.ST(z,p,B);if(this.nC==null){if(z)z.Cr();return}if(!B.Wj)return;this.A5(z,p,n,B);
this.i$(z)};L.H_=function(){L.SD.call(this,[10,42],L.$R,"tools/crepl");this.UX="idraw";this.T_.bmode="hue "};
L.H_.prototype=new L.SD;L.H_.prototype.lW=function(z,J,p,n,B){if(this.hR(z,J,p,n,B,!0))return;this.ZP(z,p,n,B,this.T_.flow);
if(this.nC==null)return;this.i$(z)};L.H_.prototype.dV=function(z,J,p,n,B){if(this.hR(z,J,p,n,B))return;
this.iG(z,J,p);if(this.SO)this.ST(z,p,B);if(this.nC==null)return;if(!B.Wj)return;this.A5(z,p,n,B);this.i$(z)};
L.Zv=function(){L.SD.call(this,[10,43],L.jf,"tools/redeye");this.T_.smode=0;this.UX="redeye"};L.Zv.prototype=new L.SD;
L.Zv.prototype.lW=function(z,J,p,n,B){this.ZP(z,p,n,B,this.T_.flow);if(this.nC==null)return;this.i$(z)};
L.Zv.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);if(this.SO)this.ST(z,p,B);if(this.nC==null)return;
if(!B.Wj)return;this.A5(z,p,n,B);this.i$(z)};L.hv=function(){L.SD.call(this,[10,38],L.eA,"tools/pencil");
this.UX="draw"};L.hv.prototype=new L.SD;L.hv.prototype.lW=function(z,J,p,n,B){if(this.hR(z,J,p,n,B,!0))return;
this.ZP(z,p,n,B,this.T_.flow);if(this.nC==null)return;this.i$(z)};L.hv.prototype.dV=function(z,J,p,n,B){if(this.hR(z,J,p,n,B))return;
this.iG(z,J,p);if(this.SO)this.ST(z,p,B);if(this.nC==null){if(z)z.Cr();return}if(!B.Wj)return;this.A5(z,p,n,B);
this.i$(z)};L.Td=function(){L.SD.call(this,[10,22],L.OA,"tools/burn");this.UX="burn"};L.Td.prototype=new L.SD;
L.Td.prototype.lW=function(z,J,p,n,B){this.ZP(z,p,n,B,this.T_.expo/Math.E);if(this.nC==null)return;this.i$(z)};
L.Td.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);if(this.SO)this.ST(z,p,B);if(this.nC==null)return;
if(!B.Wj)return;this.A5(z,p,n,B);this.i$(z)};L.n0=function(z,J,p){L.SD.call(this,z==""?null:z?z:[10,1],J?J:L.xz,p?p:"tools/clone");
this.UX="clone";this.kz=null;this.p=null};L.n0.prototype=new L.SD;L.n0.prototype.lW=function(z,J,p,n,B){var c=this.T_,t=c.alt[0];
if(n.Q(l5.W0)||n.Q(l5.ZA)||t){this.kz=z.i.Ka(B.x,B.y);this.p=null;if(t)this.ID({alt:[!1]},J);this.MZ(z);
this.ee(p,n,z,B);return}if(this.kz==null){alert(j0.get([15,7,0]));return}this.ee(p,n);this.ZP(z,p,n,B,this.T_.flow);
if(this.nC==null)return;this.p=this.aFl(z.i.Ka(B.x,B.y));this.i$(z)};L.n0.prototype.aFl=function(z){var J=this.p;
if(J==null||!this.T_.algnd)J=new i_(Math.round(z.x-this.kz.x),Math.round(z.y-this.kz.y));return J};L.n0.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);
if(this.SO)this.ST(z,p,B);if(this.nC==null){if(this.kz!=null)this.ee(p,n,z,B);return}if(!B.Wj||this.kz==null)return;
this.A5(z,p,n,B);this.i$(z)};L.n0.prototype.pr=function(){return this.p};L.Zc=function(){L.y6.call(this,[10,53],L.aHN,"tools/csamp");
this.RJ=-1;this.yZ=null};L.Zc.prototype=new L.y6;L.Zc.prototype.lW=function(z,J,p,n,B){this.yZ=JSON.stringify(z.ih);
var c=z.i.Ka(B.x,B.y),t=z.ih,u=1e9,v=-1;for(var g=0;g<t.length;g++){var A=t[g],$=c.x-A.x,X=c.y-A.y,U=$*$+X*X;
if(U<u){u=U;v=g}}var w=15/z.i.XP;v=u<w*w?v:-1;if(v==-1){v=t.length;t.push({x:c.x,y:c.y})}else if(n.Q(l5.W0)){t.splice(v,1);
v=-1}this.RJ=v;z.eO=!0};L.Zc.prototype.dV=function(z,J,p,n,B){var c=this.RJ;if(c!=-1){var t=z.i.Ka(B.x,B.y);
z.ih[c].x=t.x;z.ih[c].y=t.y;z.eO=!0}};L.Zc.prototype.mI=function(z,J,p,n,B,c){var t=new dY(this.name,this);
t.data={PY:this.yZ,gW:JSON.stringify(z.ih)};z.kL(t);this.RJ=-1};L.Zc.prototype.gD=function(z,J){J.ih=JSON.parse(z.PY)};
L.Zc.prototype.Cb=function(z,J){J.ih=JSON.parse(z.gW)};L.d_=function(z,J,p){L.y6.call(this,z,J,p);this.T_={Yz:{t:0,x:0,y:0},O4:!1,RI:!1};
this.r8=!1;this.hc=L.re();this.nW=null;this.cursor=null;this.aA2=0;this.vQ=null;this._F=null;this.JB=null;
this.cT=!1;this.jF=!1};L.d_.prototype=new L.y6;L.d_.prototype.pf=function(){return this.nW!=null};L.d_.prototype.Ae=function(z){return this._F!=null||this.nW&&this.nW.amZ()};
L.d_.prototype.lW=function(z,J,p,n,B){this.vQ=B;var c=z.i.Ka(B.x,B.y),t=this.T_.Yz,u=t.t!=0?t.x/t.y:null,v=this.cT;
this.cT=!1;if(this.nW){var A=this.nW.TR(c,z.i.XP);if(v&&A==null){this.nW.clear(z);this.nW=null}else{this.nW.lW(z,p,n,c,u,!1,B);
this.jF=!1;return}}this._F=L.DJ.o9(z,c,p)};L.d_.prototype._L=function(z,J,p){if(p==null)p=[z.x,z.y,z.x+z.r,z.y,z.x+z.r,z.y+z.$,z.x,z.y+z.$];
return new ia(p,!0,!1,this.id==L.Fm,!0,J,this.id==L.Fm?2:0,this.id==L.Fm?4:3)};L.d_.prototype.ee=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.tk,BZ:this.cursor};z.a(J)};L.d_.prototype.enable=function(z,J,p,n){this.kP=J;this.cursor=this.hc;
this.ee(J);if(z!=null&&this.nW==null){var B=z.M?{Kq:"cropby",a2L:3}:{Kq:"config",T_:this.T_,aEu:!0};
this.zD(B,J,z,n,p);if(z.M==null&&this.T_.Yz.t==0)this.cT=!0;this.jF=!0}};L.d_.prototype.dV=function(z,J,p,n,B){this.vQ=B;
var c=z.i.Ka(B.x,B.y);if(!B.Wj){var t=this.hc;if(this.nW){var u=this.nW.TR(c,z.i.XP,null,B);if(u)t=u;
else t="default"}if(t!=this.cursor){this.cursor=t;this.ee(J)}}if(this.nW)this.nW.dV(z,p,n,c);else if(this._F){if(this.r8){z.W.cV={Ao:["M","L"],L:[this._F.x,this._F.y,c.x,c.y]}}else{var v=L.Fz.wP(this._F,L.DJ.o9(z,c,p),n,!0,this.T_.Yz),A=v[0].x,$=v[0].y,X=this.JB=new fw(A,$,v[1].x-A,v[1].y-$);
z.W.cV=a.b.e3(X);L.y6.Mi(B,X,z,p)}z.eO=!0}};L.d_.a4x=function(z,J,p){var n,B,u,v;if(J<=p){n=J;B=p}else{n=p;
B=J}var c=z-Math.floor((z+Math.PI)/(2*Math.PI))*2*Math.PI;c=Math.abs(c);if(c>Math.PI/2)c=Math.PI-c;var t=n/(B*Math.sin(c)+n*Math.cos(c));
if(J<=p){u=n*t;v=B*t}else{u=B*t;v=n*t}return{Tx:u,tK:v}};L.d_.prototype.mI=function(z,J,p,n,B){this.vQ=B;
var c=z.i.Ka(B.x,B.y);if(this.nW==null){var t=this.JB;if(this._F&&(t||this.r8)){if(this.r8){var u=this._F,v=c,A=v.x-u.x,$=v.y-u.y;
if(Math.abs(A)<Math.abs($))v=new i_(u.x-$,u.y+A);if(u.x>v.x){var X=u;u=v;v=X}var u=Math.atan2(-(v.y-u.y),v.x-u.x),U=L.d_.a4x(u,z.r,z.$);
if(this.T_.RI){var w=a.b.e3(new fw(0,0,z.r,z.$)),P=new fA;P.rotate(u);a.b.h(w.L,P,w.L);U=a.b._g(w.L);
U={Tx:U.r,tK:U.$}}var k=[0,0,U.Tx,0,U.Tx,U.tK,0,U.tK],T=new fA;T.translate(-U.Tx/2,-U.tK/2);T.rotate(u);
T.translate(z.r/2,z.$/2);a.b.h(k,T,k);this.nW=this._L(t,!1,k);this.r8=!1}else{var Z=this.T_.Yz;this.nW=this._L(t,Z.t!=0)}this.jF=!1;
this.nW.iT(z,p);this.JB=null;this.Rc(J,b.E.c,{R:b.J.jv,l:this.id,O9:!0});this._F=null;z.W.wE=[];z.W.cV=null;
z.eO=!0}return}this.nW.mI(z,p,n,c);this.Rc(J,b.E.c,{R:b.J.jv,l:this.id,O9:!0});var k=this.nW.rI();if(Math.abs(k[0]-k[4])<2&&Math.abs(k[1]-k[5])<2){this.$C(z,J,null,n);
return}if(Date.now()-this.aA2<200&&this.nW._W(c)){this.ii(z,p);this.$C(z,J,p,n);return}this.aA2=Date.now()};
L.d_.prototype.qA=function(z,J,p,n){var B=this.nW;if(B==null||this.vQ&&this.vQ.Wj)return;if(n.Q(l5.Kd)){this.ii(z,p);
this.$C(z,J,p,n)}else if(n.Q(l5.Mz)){this.$C(z,J,p,n)}else B.qA(z,p,n)};L.d_.aaK=function(z,J,p){var n={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:z[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:z[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:z[1]+z[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:z[0]+z[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:J!=null?J:0}},Dlt:{t:"bool",v:p!=null?p:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{rK:"crop",m$:n}};L.d_.Jd=function(z,J){if(J==null)J=[!0,!0,!0,!0];var p={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][z]}}},n=["Top","Left","Btom","Rght"];
for(var g=0;g<4;g++)p[n[g]]={t:"bool",v:J[g]};return{rK:"trim",m$:p}};L.d_.yp=function(z,J,p,n,B){var c={classID:"null"};
if(n!=null){c.Wdth={t:"UntF",v:B?{type:"#Prc",val:z*100}:{type:"#Pxl",val:z}};c.Hght={t:"UntF",v:B?{type:"#Prc",val:J*100}:{type:"#Pxl",val:J}};
c.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][n]}}}if(p!=null)c.Rslt={t:"UntF",v:{type:"#Rsl",val:p}};
return{rK:"imageSize",m$:c}};L.d_.aob=function(z,J,p,n){if(p==null)p=4;if(n==null)n=!1;var B=Math.floor(p/3),c=p%3;
return{rK:"canvasSize",m$:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:z}},Hght:{t:"UntF",v:{type:"#Pxl",val:J}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][c]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][B]}},Rltv:{t:"bool",v:n}}}};
L.d_.prototype.$P=function(z,J,p,n,B){var c=new fw(0,0,p.r,p.$),t=[11,3],u=p.Ge,v=p.r/2,A=p.$/2,M=1,jn,b1,c8;
function $(g4,g){return g4[g]+2*g4[g+1]+g4[g+2]>>>2}if(z.R=="cropAndStr"){var X=p.U[p.Y[0]],U=X.buffer,w=X.S,P=w.r,k=w.$,T=P+2,Z=[0,0,P-1,0,P-1,k-1,0,k-1],i,V=1e9,C=0;
for(var g=0;g<4;g++)for(var _=g+1;_<4;_++){var y=Z[2*g],E=Z[2*g+1],F=(E*P+y)*4,d=(Z[2*_+1]*P+Z[2*_])*4,x=U[F]-U[d],f=U[F+1]-U[d+1],Q=U[F+2]-U[d+2],m=x*x+f*f+Q*Q;
if(m<V){V=m;i=new i_(y+.5,E+.5)}}var H=Date.now(),S=L.Tn.nj(X.buffer,w,i,null,[16,!1,!0]);a.oU(S);var R=w.P();
R.Lr(1,1);var I=a.j(R.C());a._1(S,w,I,R);var D=I.slice(0);for(var E=0;E<k;E++)for(var y=0;y<P;y++){var _=E*P+y;
if(S[_]==255&&$(U,_*4)>200){var g=(E+1)*T+y+1;I[g]=D[g-T]&D[g-1]&D[g+1]&D[g+T]}}var G=a.b.gT(I,R.r,R.$,0),O=new cD(b.E.c,!0);
O.data={R:b.J.Rt};var H=Date.now();for(var Y=0;Y<G.length;Y++){var h=G[Y].path.L;if(G[Y].J4.C()<2500)continue;
var r=a.b.al_(h,C==3);for(var g=0;g<r.length;g++)r[g]-=1;var W=new i_(r[0],r[1]),N=Math.ceil(i_.mT(W,new i_(r[2],r[3]))),o=Math.ceil(i_.mT(W,new i_(r[6],r[7]))),K=new fw(0,0,N,o),l=a.j(K.C()*4),h=a.F.Q$(r,new fw(-1,-1,N+2,o+2));
h=a.F.oU(h);h=a.F.iE(h,a.F.R8(new fA(w.r,0,0,w.$,w.x,w.y)));a.F.drawImage(h,X.buffer,w.r,w.$,l,K);C++;
var aV=O.data.CT=new b$("Image "+C+".psd");aV.r=N;aV.$=o;var j=aV.JG();j.HV("Background");j.buffer=l;
j.S=K;aV.U.push(j);J.a(O)}return}if(z.R=="fromAction"){var s=z.NR,l2=s.rK,gm=s.m$,iz=p.r/p.$,T=gm.Wdth?gm.Wdth.v.val:-1,dC=gm.Hght?gm.Hght.v.val:-1,u=gm.Rslt?gm.Rslt.v.val:null,dL=gm.Wdth?gm.Wdth.v.type:gm.Hght?gm.Hght.v.type:-1,cP=1,id;
if(dL=="#Prc"){if(T!=-1)T=Math.round(p.r*T/100);if(dC!=-1)dC=Math.round(p.$*dC/100)}if(l2=="imageSize"){if(gm.Intr){if(gm.Intr.v.Intp=="Nrst")cP=0;
if(gm.Intr.v.Intp=="bicubicSharper")cP=2;if(T==-1&&dC==-1){var jR=u/p.Ge;T=Math.round(p.r*jR);dC=Math.round(p.$*jR)}if(gm.CnsP&&gm.CnsP.v){if(T==-1)T=Math.round(dC*iz);
if(dC==-1)dC=Math.round(T/iz)}}else{if(dL=="#Prc")u=Math.round(p.Ge*(p.r/T));else if(dL==-1)u=Math.round(u);
else throw"e";T=p.r;dC=p.$}id={R:"imgsize",hi:T,jl:dC,WZ:u,R4:cP}}else if(l2=="canvasSize"){if(T==-1)T=p.r;
if(dC==-1)dC=p.$;if(gm.Rltv&&gm.Rltv.v==!0){if(gm.Wdth)T+=p.r;if(gm.Hght)dC+=p.$}var hC=gm.Vrtc?gm.Vrtc.v.VrtL:"Cntr",eJ=gm.Hrzn?gm.Hrzn.v.HrzL:"Cntr";
id={R:"canvsize",hi:T,jl:dC,bb:3*["Top","Cntr","Btom"].indexOf(hC)+["Left","Cntr","Rght"].indexOf(eJ)}}else if(l2=="revealAll"){id={R:"revealAll"}}else if(l2=="trim"){var el={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[gm.trimBasedOn.v.trimBasedOn];
if(el==null)throw"e";var eu=["Top","Left","Btom","Rght"],jY=[!0,!0,!0,!0];for(var g=0;g<4;g++)if(gm[eu[g]])jY[g]=gm[eu[g]].v;
id={R:"trim",aDq:el,m1:jY}}else if(l2=="crop"){var y,E,P,k;if(gm.T){var fN=gm.T.v,y=Math.round(fN.Left.v.val),E=Math.round(fN.Top.v.val),P=Math.round(fN.Rght.v.val)-y,k=Math.round(fN.Btom.v.val)-E}else{var w=p.M.S;
y=w.x;E=w.y;P=w.r;k=w.$}id={R:"canvsize",hi:P,jl:k,p:new i_(y,E),ana:gm.Dlt!=null&&gm.Dlt.v}}else console.log(s);
if(id)this.$P(id,J,p,n,B);return}else if(z.R=="imgsize"){c=new fw(0,0,z.hi,z.jl);if(z.WZ)u=z.WZ;M=z.R4}else if(z.R=="canvsize"){var jC=z.bb!=null?z.bb:0;
c=new fw(0,0,z.hi,z.jl);var kF=p.r-z.hi,i6=p.$-z.jl,kT=Math.round(kF/2),kY=Math.round(i6/2);if(jC==1||jC==4||jC==7)c.x=kT;
if(jC==2||jC==5||jC==8)c.x=kF;if(jC==3||jC==4||jC==5)c.y=kY;if(jC==6||jC==7||jC==8)c.y=i6;if(z.p){c.x=z.p.x;
c.y=z.p.y}}else if(z.R=="rot"&&(z.K+2*Math.PI)%(Math.PI/2)!=0){var h9=a.b.e3(c).L,bG=new fA;bG.translate(-v,-A);
bG.rotate(z.K);bG.translate(v,A);a.b.h(h9,bG,h9);c=a.b._g(h9)}else if(z.R=="rot"&&z.K!=Math.PI&&z.K!=-Math.PI){c=new fw(v-p.$/2,A-p.r/2,p.$,p.r);
if((p.r+p.$&1)==1){v=Math.floor(v);A=Math.floor(A);c=new fw(v-Math.floor(p.$/2),A-Math.floor(p.r/2),p.$,p.r);
if((p.r&1)==1&&z.K!=-Math.PI/2)c.y--;if((p.$&1)==1&&z.K==-Math.PI/2)c.x--}}else if(z.R=="trim"){t=[11,12,0];
var dQ=p.dT(),w=new fw(0,0,p.r,p.$);c=a.an(dQ,w,z.aDq,z.m1);if(c.Sz())c=w}else if(z.R=="revealAll"){t=[11,12,2];
c=p.root.R2(p,!0)}var j_=z.R=="canvsize"&&z.ana;if(z.R=="imgsize"||z.R=="rot"||z.R=="scl"||j_){var fQ=new fA;
if(z.R=="imgsize"){t=[11,10];fQ.scale(z.hi/p.r,z.jl/p.$);c8=p.zQ();for(var g=0;g<c8[0].length;g++)c8[0][g][1]*=c8[0][g][0]==0?fQ.k6:fQ.JH}else if(j_){}else{fQ.translate(-v,-A);
if(z.R=="rot")fQ.rotate(z.K);if(z.R=="scl")fQ.scale(z.K.x,z.K.y);fQ.translate(v,A);t=z.cN}b1=a.F.R8(fQ);
jn=this.Zo(p,B,!0,b1,M,j_?c:null)}else if(z.R=="auto-align"){if(p.Y.length<2){alert("Select two or more layers.");
return}var cM=[];for(var g=0;g<p.Y.length;g++){var X=p.U[p.Y[g]];if(!X.Zg()&&X.add.SoLd==null){alert("Unsupported layer selected.");
return}if(X.S.Sz()){alert("Empty layer selected.");return}cM.push([X.buffer,X.S])}var jK=a.p1.bM(cM);
if(jK==null){alert("No similarity found.");return}b1=jK[1];jn=this.Zo(p,B,!1,jK,M);c=p.root.R2(p,!0);
t=[2,10,1]}var aw=new fw(0,0,p.r,p.$);if(!c.Sz()&&(!c.Vm(aw)||jn!=null)){var ez=new dY(t,this);ez.data={bk:p.Ge,WZ:u,bR:jn,zj:b1,EB:L.d_.ap9(p,c,aw,jn!=null)};
if(c8){ez.data.hn=p.zQ();ez.data.AQ=c8}L.d_.acd(p,ez.data,c);p.kL(ez);this.Cb(ez.data,p,!0)}};L.d_.ap9=function(z,J,p,n){if(z.Cy.length==0)return null;
var B=JSON.stringify(z.Cy),c=JSON.parse(B);L.Xk.ai5(c,J,p,n);c=JSON.stringify(c);return[B,c]};L.d_.prototype.Zo=function(z,J,p,n,B,c,t){var u={U:[],xH:null,vh:!0};
if(p)u.U=L.tp.JV(z);else u.U=z.Y.slice(0);u.xH=L.tp.HJ(z,u.U,!0);var v=Math.abs(n[3]*n[1])>1e-9;L.tp.d8(z,J,u.U,u.xH,B,n,null,!0,v&&a.F.Ua(n)?null:c);
if(p&&t&&z.AM()){var A=z.U[z.Y[0]],$=A.buffer,X=A.S,U=v?X.P():c.P(),w=a.j(U.C()*4),P=a.j(X.C());a.Tm($,P,3);
var k=a.j(U.C());a._1(P,X,k,U);a.round(k,255);a.oU(k);var T=a.l4.D8($,X,k,w,U);if(T==0){A.S=U;A.buffer=w}}return u};
L.d_.prototype.Cb=function(z,J,p){if(z.WZ)J.Ge=z.WZ;if(z.EB)J.Cy=JSON.parse(z.EB[1]);if(z.bR){L.d_.C1(J,a.F.Q3(z.zj));
if(p==null)L.tp.Qk(J,z.bR);if(z.AQ)J.$t(z.AQ)}L.d_.UA(J,z)};L.d_.prototype.gD=function(z,J){if(z.bk)J.Ge=z.bk;
if(z.EB)J.Cy=JSON.parse(z.EB[0]);L.d_.GB(J,z);if(z.lC)J.i.p.IQ(z.lC);J.an1();if(z.bR){var p=a.F.Q3(z.zj).P();
p.oU();L.d_.C1(J,p);L.tp.Qk(J,z.bR);if(z.hn)J.$t(z.hn)}};L.d_.C1=function(z,J){for(var g=0;g<z.U.length;
g++){var p=z.U[g];if(p.add.artb==null)continue;var n=a.b.e3(p.x0()).L;a.b.h(n,J,n);var B=a.b._g(n);p.Uu(B)}};
L.d_.oE=function(z){var J=new fw,p=0,n=z.root.children.length;for(var g=0;g<n;g++){var B=z.root.children[g].w;
if(B.add.artb==null)continue;J=J.KQ(B.x0());p++}var c=new fw(0,0,z.r,z.$);if(!J.Sz()&&!c.Vm(J))return J;
return null};L.d_.GY=function(z){var J=L.d_.oE(z);if(J)L.d_.O4(z,J,!0);return J};L.d_.O4=function(z,J,p){var n=z.r,B=z.$,c=J.r,t=J.$,u=J.x==0&&J.y==0;
if(u&&n==c&&B==t)return;z.r=c;z.$=t;var v=[];for(var g=0;g<z.U.length;g++)v.push(g);if(!u)L.DJ.QS(z,v,null,-J.x,-J.y);
for(var g=0;g<z.U.length;g++){z.U[g].k3(z)}z.an1();if(p){var A=z.i.p,$=z.i.XP;A.x+=Math.round((J.x+(c-n)/2)*$);
A.y+=Math.round((J.y+(t-B)/2)*$)}else z.i.p.GK(0,0);if(z.M)z.M.S.offset(-J.x,-J.y);var X=z.zQ();for(var U=0;
U<X[0].length;U++)if(X[1][U]==-1){var w=z.r_[U];w[1]-=w[0]==0?J.x:J.y}for(var g=0;g<z.b8.length;g++)z.b8[g].S.offset(-J.x,-J.y);
for(var g=0;g<z.$n.length;g++)a.z.Gn(z.$n[g].add.vmsk.u,new fA(1,0,0,1,-J.x,-J.y))};L.d_.prototype.zD=function(z,J,p,n,B){if(z.Kq=="commit"){this.ii(p,B);
this.$C(p,J,null,n)}else if(z.Kq=="cancel"){this.$C(p,J,null,n)}var c=null,t=new fw(0,0,p.r,p.$),u=this.T_.Yz;
if(z.Kq=="config"){this.T_=z.T_;u=this.T_.Yz;if(p==null||!z.aEu)return;c=t;if(u.t==1){var v=u.x/u.y;
if(c.r/v<c.$)c.$=Math.round(c.r/v);else c.r=Math.round(c.$*v)}if(u.t==2){c.r=u.x;c.$=u.y}c.x=Math.round((p.r-c.r)/2);
c.y=Math.round((p.$-c.$)/2);this.jF=!1}if(z.Kq=="straighten"){alert("Draw a line in the image.");this.r8=!0}if(z.Kq=="cropby"){if(p==null)return;
var A=z.a2L,c;if(A==0)c=p.root.R2(p,!0);if(A==1){if(p.Y.length==0)alert("No layer is selected.");else{var $=p.root.Ti(p.Y[0]);
c=$.R2(p,!0)}}if(A==2){if(p.Y.length==0)alert("No layer is selected.");else{c=a.an(p.dT(),t,0);if(c.Sz())c=t.P()}}if(A==3){if(p.M!=null)c=p.M.S;
else alert("There is no selection.")}if(A==4){c=new fw(0,0,p.r,p.$)}}if(c&&c.Sz())c=null;if(c!=null){this.nW=this._L(c,u.t!=0);
this.nW.iT(p,B);this.Rc(J,b.E.c,{R:b.J.jv,l:this.id,O9:!0})}};L.y6.k8(L.d_);L.d_.prototype.ii=function(z,J){var p=this.nW.rI(),n=a.b._g(p),B=this.a2P(z,p),c=!1,t=this.T_,u=t.Yz,v=t.O4,A=u.x,$=u.y,w;
if(this.id==L.ue&&u.t==2&&B.C()!=A*$){B=new fw(B.x,B.y,A,$);c=!0}var X=a.F.Q$(p,B);X=a.F.oU(X);var U=!a.F.Ua(X),P=Math.abs(Math.atan2(X[3],X[0]))>1e-9,k=new fw(0,0,z.r,z.$);
if(P||U||c||v||t.RI)w=this.Zo(z,J,!0,X,1,n,t.RI);if(!P&&!U&&!c&&B.Vm(k))return;var T=new dY(this.name,this);
T.data={bR:w,zj:X,lC:z.i.p.P(),EB:L.d_.ap9(z,B,k,!1)};if(u.Ge!=null){T.data.bk=z.Ge;T.data.WZ=u.Ge}L.d_.acd(z,T.data,B);
z.kL(T);this.Cb(T.data,z,!0);this.track(L.d_.aaK([n.x,n.y,n.r,n.$],null,v))};L.d_.acd=function(z,J,p){if(p==null)return;
J.$_=new fw(0,0,z.r,z.$);J.xK=p};L.d_.UA=function(z,J){if(J.xK==null)return;L.d_.O4(z,J.xK)};L.d_.GB=function(z,J){if(J.xK==null)return;
var p=J.$_.P();p.offset(-J.xK.x,-J.xK.y);L.d_.O4(z,p)};L.d_.prototype.a2P=function(z,J){var p=a.F.Q$(J),n=a.F.Ua(p),B=a.F.Q3(p),c=B.Rf,t=B.Sm,u=Math.atan2(B.X,B.k6);
B.rotate(u);var v=new fw(c,t,B.k6,B.JH);if(!n){function A(V,g,_){var y=V[g]-V[_],E=V[g+1]-V[_+1];return Math.sqrt(y*y+E*E)}var $=A(J,0,2),X=A(J,4,6),U=Math.max($,X),w=A(J,2,4),P=A(J,6,0),k=Math.max(w,P),T=L.d_.nf(J,z.r/2,z.$/2),Z,i;
if(isNaN(T)||T==Infinity||T==-Infinity||Math.min(T,1/T)<.1)T=($+X)/(w+P);if(U/k>T){Z=U*1;i=Z/T}else{i=k*1;
Z=i*T}v.r=Z;v.$=i}v.x=Math.round(v.x);v.y=Math.round(v.y);v.r=Math.round(v.r);v.$=Math.round(v.$);return v};
L.d_.nf=function(z,J,p){var n=z[0]-J,B=z[1]-p,c=z[2]-J,t=z[3]-p,u=z[6]-J,v=z[7]-p,A=z[4]-J,$=z[5]-p,X=((B-$)*u-(n-A)*v+n*$-B*A)/((t-$)*u-(c-A)*v+c*$-t*A),U=((B-$)*c-(n-A)*t+n*$-B*A)/((v-$)*c-(u-A)*t+u*$-v*A),w=-((U*v-B)*(X*t-B)+(U*u-n)*(X*c-n))/((U-1)*(X-1));
function P(T){return T*T}var k=Math.sqrt((P(X-1)+P(X*t-B)/w+P(X*c-n)/w)/(P(U-1)+P(U*v-B)/w+P(U*u-n)/w));
if(X==1&&U==1)k=Math.sqrt((P(t-B)+P(c-n))/(P(v-B)+P(u-n)));return k};L.d_.prototype.$C=function(z,J,p,n){if(z==null)return;
if(this.nW)this.nW.clear(z);this.nW=null;this.Rc(J,b.E.c,{R:b.J.jv,l:this.id,O9:!1})};L.d_.prototype.disable=function(z,J,p,n){if(this.nW&&!this.jF)this.ii(z,p);
this.$C(z,J,p,n)};L.d_.prototype.Rc=function(z,J,p,n){var B=new cD(J,!0);B.data=p;if(n)B.l=n;z.a(B)};
L.aBu=function(){L.d_.call(this,[10,2],L.ue,"tools/rcrop")};L.aBu.prototype=new L.d_;L.aBz=function(){L.d_.call(this,[10,39],L.Fm,"tools/pcrop")};
L.aBz.prototype=new L.d_;L.X7=function(){L.SD.call(this,[10,21],L.Zz,"tools/dodge");this.UX="dodge"};
L.X7.prototype=new L.SD;L.X7.prototype.lW=function(z,J,p,n,B){this.ZP(z,p,n,B,this.T_.expo/Math.PI);
if(this.nC==null)return;this.i$(z)};L.X7.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);if(this.SO)this.ST(z,p,B);
if(this.nC==null)return;if(!B.Wj)return;this.A5(z,p,n,B);this.i$(z)};L.Ur=function(){L.SD.call(this,[10,3],L.ta,"tools/eraser");
this.UX="erase"};L.Ur.prototype=new L.SD;L.Ur.prototype.lW=function(z,J,p,n,B){this.ZP(z,p,n,B,this.T_.flow);
if(this.nC==null)return;this.i$(z)};L.Ur.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);if(this.SO)this.ST(z,p,B);
if(this.nC==null)return;if(!B.Wj)return;var c=this.A5(z,p,n,B);this.i$(z)};L.jD=function(){L.SD.call(this,[10,45],L.Pl,"tools/beraser");
this.UX="ierase"};L.jD.prototype=new L.SD;L.jD.prototype.lW=function(z,J,p,n,B){if(this.hR(z,J,p,n,B,!0))return;
this.ZP(z,p,n,B,this.T_.flow);if(this.nC==null)return;this.i$(z)};L.jD.prototype.dV=function(z,J,p,n,B){if(this.hR(z,J,p,n,B))return;
this.iG(z,J,p);if(this.SO)this.ST(z,p,B);if(this.nC==null)return;if(!B.Wj)return;this.A5(z,p,n,B);this.i$(z)};
L.om=function(){L.gL.call(this,[10,15],L.Wu,"tools/rselect");this.hc=L.re()};L.om.prototype=new L.gL;
L.om.prototype.Is=function(z,J,p,n){if(!n.Wj||!this.PA)return;var B=this.R2(z,p,!0);z.W.cV=a.b.e3(B);
z.eO=!0;L.y6.Mi(n,B,z,J)};L.om.prototype.fW=function(z,J,p,n){z.W.cV=null;z.W.wE=[];z.eO=!0;this.finish(z,J,p,n)};
L.om.prototype.getSelection=function(z,J,p,n){if(this._F.Vm(this.Ne)||!this.PA)return null;var B=this.R2(z,p,!0);
if(B.Sz())return null;return L.gL.Dw("Rctn",B,this.T_.anta)};L.y6.k8(L.om);L.cK=function(){L.gL.call(this,[10,4],L.aCf,"tools/eselect");
this.hc=L.re()};L.cK.prototype=new L.gL;L.cK.prototype.Is=function(z,J,p,n){if(!n.Wj||!this.PA)return;
var B=this.R2(z,p);z.W.cV=L.cK.aDU(B);z.eO=!0;L.y6.Mi(n,B,z,J)};L.cK.prototype.fW=function(z,J,p,n){z.W.cV=null;
z.W.wE=[];z.eO=!0;this.finish(z,J,p,n)};L.cK.prototype.getSelection=function(z,J,p,n){if(this._F.Vm(this.Ne)||!this.PA)return null;
var B=this.R2(z,p);if(!B.SH(new fw(0,0,z.r,z.$)))return null;return L.gL.Dw("Elps",B,this.T_.anta)};
L.cK.aDU=function(z){var J=z.x,p=z.y,n=z.x+z.r,B=z.y+z.$,c=(J+n)/2,t=(p+B)/2,u=(J-n)/2,v=(p-B)/2,A=.5522848,$={L:[c,t-v],Ao:["M","C","C","C","C"]};
$.L.push(c+A*u,t-v,c+u,t-A*v,c+u,t);$.L.push(c+u,t+A*v,c+A*u,t+v,c,t+v);$.L.push(c-A*u,t+v,c-u,t+A*v,c-u,t);
$.L.push(c-u,t-A*v,c-A*u,t-v,c,t-v);return $};L.y6.k8(L.cK);L.IY=function(z){L.y6.call(this,[10,5],z?L.fE:L.ax,"tools/eyedropper");
this.pp=null;this.adm=!1;this.Vr=0;this.YK=null;this.C0=1;this.Bb=2;this.a99=!0;this.AJ=!1};L.IY.prototype=new L.y6;
L.IY.prototype.Ae=function(z){return z.Wj};L.IY.prototype.enable=function(z,J,p,n,B){L.y6.prototype.enable.call(this,z,J,p,n,B);
this.adm=B};L.IY.prototype.$P=function(z,J,p,n,B){if(z.R=="pickhere")this.lZ(p,J,B,null,z.aKD);if(z.R=="supertool")this.pp=z.l};
L.IY.prototype.lW=function(z,J,p,n,B){var c=this.pp;if(c){c.lW(z,J,p,n,B);return}if(ex==0){this.YK=B;
this.Vr=p.Nb;var t=this.lZ(z,null,p,n,B);this.ee(z,J,t,B)}};L.IY.prototype.dV=function(z,J,p,n,B){if(ex!=0)return;
var c=this.pp;if(c){c.dV(z,J,p,n,B);return}var t=this.YK;if(t){var u=B.x-t.x,v=B.y-t.y,A=1,$=new i_(t.x+u*A,t.y+v*A),X=this.lZ(z,null,p,n,$);
this.ee(z,J,X,$,new i_(u*(1-A),v*(1-A)))}};L.IY.prototype.ee=function(z,J,p,n,B){var c=this.a99,t=this.AJ;
if(z.i.XP>4)t=!1;if(!t&&!c)return;var u=L.IY.ajT(z,t,c,n,B,p,this.Vr,this.C0),v=new cD(b.E.c,!0);v.data={R:b.J.tk,BZ:u};
J.a(v)};L.IY.prototype.mI=function(z,J,p,n,B,c){var t=this.pp;if(t){t.mI(z,J,p,n,B);return}if(ex==0){this.lZ(z,J,p,n,B);
if(this.YK){this.YK=null;if(c)this.lZ(z,J,p,n,B,this.Vr);var u=new cD(b.E.c,!0);u.data={R:b.J.tk,BZ:"default"};
J.a(u)}}else{var v=z.i.Ka(B.x,B.y),A;if(n.Q(l5.VN)){var $=z.Ar(),X=new Uint8Array(z.u5(p)),U=Math.floor(v.x),w=Math.floor(v.y),g=(w-$.y)*$.r+U-$.x;
if($.n9(new i_(U,w))){var P=X[g*4+3];if(P==0)A={ZI:[1,1,1]};else A={ZI:[X[g*4]/255,X[g*4+1]/255,X[g*4+2]/255]}}}else{var k=z.root.Y8(new i_(Math.floor(v.x),Math.floor(v.y)));
if(k==null)return;var T=k.w.add,Z=T.TySh;A=T.vstl;if(A==null&&Z){var i=Z.qU,V=dN.cj(i,0,1);A={ZI:V.uA.FillColor.Values.slice(1),K$:[]}}}if(A==null)return;
var u=new cD(b.E.c);u.data={R:b.J.bS,Xu:iQ.m7,K:a.G(A)};J.a(u)}};L.IY.prototype.lZ=function(z,J,p,n,B,c){if(c==null)c=L.IY.YE(z,B,this.C0,this.Bb);
var t=new cD(b.E.c);t.data={R:b.J.bS,Xu:iQ.Hm,el:!this.adm&&n&&n.Q(l5.W0)?1:0,K:c};if(J)J.a(t);return c};
L.IY.ajT=function(z,J,p,n,B,c,t,u){if(B==null)B=new i_(0,0);var v=new fw(0,0,z.r,z.$),A=z.dT(),$=12,X=11,U=($*2+1)*X,w=new i_(U/2,U/2),P=new fw(0,0,U,U),k=a.j(P.C()*4),T=z.i.Ka(n.x,n.y),Z=Math.floor(T.x),i=Math.floor(T.y),V=new fA;
V.scale(1/X,1/X);V.translate(Z-$,i-$);if(J)a.scale.MY(A,v,V,k,P);var _=($-3.4)*X,y=($-1.7)*X,E=$*X;for(var F=0;
F<U;F++)for(var d=0;d<U;d++){var x=i_.mT(new i_(d,F),w);if(x>_){if(p){var f=Math.max(0,_-x+1),Q=(F*U+d)*4,m=k[Q+3]<<24|k[Q]<<16|k[Q+1]<<8|k[Q+2],H=255<<24|(F<E+X*.5?c:t);
if(x>y){f=Math.max(0,y-x+1);m=H;H=4286611584}else if(!J){m=H&16777215}k[Q+0]=(1-f)*(H>>>16&255)+f*(m>>>16&255);
k[Q+1]=(1-f)*(H>>>8&255)+f*(m>>>8&255);k[Q+2]=(1-f)*(H>>>0&255)+f*(m>>>0&255);k[Q+3]=(1-f)*(H>>>24&255)+f*(m>>>24&255)}if(x>E){k[(F*U+d)*4+3]=Math.max(0,255*(E-x+1))}}}function S(g){var l2=g<<2;
k[l2]=0;k[l2+1]=0;k[l2+2]=0;k[l2+3]=255}function R(g){var l2=g<<2;k[l2]=255;k[l2+1]=255;k[l2+2]=255;
k[l2+3]=255}var I=u*X+2,D=U-I>>>1,G=D+I-1;if(J&&I<U)for(var g=0;g<I;g++){var C=D*U+D+g,Y=G*U+D+g,h=(D+g)*U+D,r=(D+g)*U+G;
S(C);S(Y);S(h);S(r);if(g!=0&&g!=I-1){R(C+U);R(Y-U);R(h+1);R(r-1)}}if(!J)for(var g=-9;g<=9;g++){if(-3<g&&g<3)continue;
var W=U>>>1,d=W*U+W+g,F=(W+g)*U+W;R(d-U);S(d);R(d+U);R(F-1);S(F);R(F+1)}var N=c>>>16&255,l=c>>>8&255,aV=c>>>0&255,j="RGB "+N+","+l+","+aV,M=a.KK([N/255,l/255,aV/255]);
if(z.add.fcmy)j="CMYK "+M.map(function(l2){return Math.round(l2*100)}).join(",");var s=L.y6.WN(0,0,["#"+a.fX(c),j]),v=s[1];
v.y=0;v.x=U-v.r>>>1;a.nk(s[0],v,k,P);return{ps:k,Dm:P,wG:new i_(w.x+B.x,w.y+B.y)}};L.IY.YE=function(z,J,p,n,B){if(n==null)n=2;
var c=z.i.Ka(J.x,J.y),t,u,v=z.Y.length==1&&z.U[z.Y[0]].uB>0&&B!=!0,A=z.dX.length!=0,y=0,E=0,F=0;if(v||A){var $;
if(A)$=z.b8[z.dX[0]];else{var X=z.U[z.Y[0]];$=X.uB==1?X.Qu():X.aul()}u=$.R2();if(!u.n9(c))return $.color==0?0:16777215;
t=a.j(u.C()*4);t.fill(255);var U=$.DR();a.eG(U,t)}else if(n==0&&z.Y.length!=0){var X=z.U[z.Y[0]];t=X.buffer;
u=X.S}else{t=n==2?z.dT():z.dT(z.Y[0]);u=new fw(0,0,z.r,z.$)}var w=Math.floor(c.x)-u.x,P=Math.floor(c.y)-u.y,k=(p-1)/2,T=Math.max(0,w-k),Z=Math.max(0,P-k),i=Math.min(u.r,w+k+1),V=Math.min(u.$,P+k+1),_=(i-T)*(V-Z);
for(var w=T;w<i;w++)for(var P=Z;P<V;P++){var g=4*(P*u.r+w);y+=t[g];E+=t[g+1];F+=t[g+2]}var d=a.zr(t),x=d==8?255:d==16?65535:1,f=255/(x*_);
y=Math.round(y*f);E=Math.round(E*f);F=Math.round(F*f);return y<<16|E<<8|F};L.IY.prototype.zD=function(z){var J=z.T_;
this.C0=[1,3,5,11,31][J[0]];this.Bb=J[1];this.a99=J[2];this.AJ=J[3]};L.PK=function(){L.y6.call(this,[10,6],L.er,"tools/gradient");
this.T_=JSON.parse(a_.ef[6]);this.T_.Grad=JSON.parse(a_.Pc.a5D);this.Eb=!1;this.p2=null;this.bc=null};
L.PK.prototype=new L.y6;L.PK.prototype.enable=function(z,J,p,n){L.y6.prototype.enable.call(this,z,J,p,n);
this.p2=z;if(this.Eb)L.c1.c4(z)};L.PK.prototype.BL=function(z,J,p,n){if(p.Ms!=this.id)return;this.p2=z;
this.aA9(z,J)};L.PK.prototype.disable=function(z,J,p,n){this.p2=null;if(this.Eb)L.c1.hG(z)};L.PK.prototype.aA9=function(z,J){var p=L.c1.J8(z);
this.Eb=p!=null;var n=new cD(b.E.c,!0);n.data={R:b.J.jv,l:this.id,Xu:p?z.U[z.Y[0]].add.GdFl:this.T_,z:this.Eb};
J.a(n);if(this.Eb)L.c1.c4(z);else L.c1.hG(z)};L.PK.prototype.zD=function(z){var J=this.p2;if(this.Eb){var p=J.U[J.Y[0]],n=p.add.GdFl;
if(n==null)return;this.di=JSON.stringify(n);p.add.GdFl=z.Xu;p.k3(J);J.qM();L.c1.aHQ(this,J);L.c1.c4(J)}else this.T_=z.Xu};
L.PK.prototype.lW=function(z,J,p,n,B){if(this.Eb){L.c1.prototype.lW.call(this,z,J,p,n,B);return}if(!z.AM())return;
this.bc=L.DJ.o9(z,z.i.Ka(B.x,B.y),p)};L.PK.prototype.dV=function(z,J,p,n,B){if(this.Eb){L.c1.prototype.dV.call(this,z,J,p,n,B);
return}if(!this.bc)return;var c=z.i.Ka(B.x,B.y);c=L.DJ.o9(z,c,p);if(n.Q(l5.VN))c=L.PK.Kr(this.bc,c);
z.W.cV={L:[this.bc.x,this.bc.y,c.x,c.y],Ao:["M","L"]};z.W.hT=[this.bc.x,this.bc.y,c.x,c.y];z.eO=!0};
L.PK.prototype.mI=function(z,J,p,n,B){if(this.Eb){L.c1.prototype.mI.call(this,z,J,p,n,B);return}if(!this.bc)return;
var c=z.U[z.Y[0]],t=z.i.Ka(B.x,B.y);t=L.DJ.o9(z,t,p);if(n.Q(l5.VN))t=L.PK.Kr(this.bc,t);if(i_.mT(this.bc,t)>2){var u;
if(z.M)u=z.M.S;else u=new fw(0,0,z.r,z.$);var v=a.j(u.C()*4,z.depth),A=this.T_,$=A.Type.v.GrdT,X=A.Opct.v.val,U=this.bc;
if($=="Lnr")U=new i_((U.x+t.x)/2,(U.y+t.y)/2);a.Wi.aN(U,t,u,A);ju.QR(A,v,u,z,null,null,p.Nb,p.Gh);var w=v.length,P=X/100;
if(X!=100)for(var g=0;g<w;g+=4)v[g+3]=Math.round(v[g+3]*P);var k=new cD(b.E.H);k.l=L.ta;k.data={R:"fillBMP",dj:v,D1:jM.pg(A.Md.v.BlnM),cN:this.name};
J.a(k)}z.W.cV=null;z.W.hT=[];z.eO=!0;this.bc=null};L.PK.prototype.$P=function(z,J,p,n,B){function c(X){X=X.v;
var U=X.Hrzn.v.val,w=X.Vrtc.v.val;return p.i.cE(U,w)}if(z.R=="fromAction"){var t=this.T_;this.T_=a.G(t);
var u=z.NR.m$,v=["Grad","Type","Opct","Dthr"];for(var g=0;g<v.length;g++)if(u[v[g]])this.T_[v[g]]=u[v[g]];
var A=c(u.From),$=c(u.T);this.lW(p,J,B,n,A);this.mI(p,J,B,n,$);this.T_=t}};L.PK.Kr=function(z,J){if(z.Vm(J))return z;
var p=J.x-z.x,n=J.y-z.y,B=Math.abs(p),c=Math.abs(n);if(B>c)c=B/2>c?0:B;if(c>B)B=c/2>B?0:c;B=p>0?B:-B;
c=n>0?c:-c;var t=Math.sqrt(p*p+n*n)/Math.sqrt(B*B+c*c);return new i_(z.x+B*t,z.y+c*t)};L.PK.ky=function(z,J,p,n,B,c,t){var u=new fw(0,0,J,p),v=a.j(J*p*4);
a.jp(v,J,p,4);var A=Math.sin(n),$=Math.cos(n),X=a.j(J*p*4);a.Wi.MJ(z,X,u,[$*1/J,A*1/J,-A*1/p,$*1/p],J/2,p/2,!1,0,B,c);
a.B.Oe("norm",X,u,v,u,u,1);if(t)return new ImageData(new Uint8ClampedArray(v.buffer),J,p);else return kL.s0(v.buffer,J,p,null,null,!0)};
L.PK.a68=function(z,J,p){var n=a.G(z);if(n.Clrs)for(var g=0;g<n.Clrs.v.length;g++){var B=n.Clrs.v[g].v,c=B.Type.v.Clry;
if(c=="UsrS")continue;var t=c=="FrgC"?J:p;B.Type.v.Clry="UsrS";B.Clr={t:"Objc",v:a.Wi.yR({o:t>>16&255,k:t>>8&255,X:t&255})}}return n};
L.PK.prototype.Cb=function(z,J){L.c1.prototype.Cb.call(this,z,J)};L.PK.prototype.gD=function(z,J){L.c1.prototype.gD.call(this,z,J)};
L.c1=function(){L.y6.call(this,"Vector Gradient",L.a3A,"tools/gradient");this.sD=null;this.yA=null;this.RJ=null;
this.di};L.c1.prototype=new L.y6;L.c1.prototype.enable=function(z,J,p,n){L.c1.c4(z)};L.c1.prototype.BL=function(z,J,p,n){if(p.Ms!=this.id)return;
L.c1.c4(z)};L.c1.prototype.disable=function(z,J,p,n){L.c1.hG(z)};L.c1.hG=function(z){if(z==null)return;
z.W.S4=null;z.W.hT=[];z.eO=!0};L.c1.prototype.lW=function(z,J,p,n,B){var c=L.c1.J8(z);if(c==null&&ex==0){var t=new cD(b.E.wR,!0);
t.data=L.Fz.tR(1);J.a(t);c=L.c1.J8(z)}if(c==null)return;var u=L.DJ.o9(z,z.i.Ka(B.x,B.y),p),v=L.c1.Xs(c,u,z),A=z.U[z.Y[0]],$=A.add.GdFl,X=A.add.vstl;
this.di=JSON.stringify(ex==0?$:X);this.sD=u;if(v==-1){var U=c[1];this.yA=[u.x,u.y,u.x+2,u.y];if(U[0]==1){this.yA.push(u.x,u.y-2);
U[2][4]=1}this.RJ=1;L.c1.a6a(z,this.yA)}else{this.yA=c[0];this.RJ=v}};L.c1.prototype.dV=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=L.c1.J8(z),u=this.RJ;
if(u!=null){var v=this.yA.slice(0);c=L.DJ.o9(z,c,p);if(n.Q(l5.VN))c=L.PK.Kr(new i_(v[0],v[1]),c);var A=c.x-v[u*2],$=c.y-v[u*2+1];
if(u==0){for(var g=0;g<v.length;g+=2){v[g]+=A;v[g+1]+=$}}else{v[u*2]+=A;v[u*2+1]+=$}L.c1.a6a(z,v,u)}else if(t){var X=L.c1.Xs(t,c,z),U=new cD(b.E.c,!0);
U.data={R:b.J.tk,BZ:X==-1?"default":X==0?"move":"pointer"};J.a(U)}L.c1.c4(z)};L.c1.Xs=function(z,J,p){var n=6*L.$q()/p.i.XP,B=z[0],c=a.b.dy(B,J.x,J.y,n);
if(c==0&&B.length==8&&B[0]==B[6]&&B[1]==B[7])c=3;if(c==-1&&z[1][0]==1)c=a.b.dy(B.slice(0,2),J.x,J.y,2*n);
return c};L.c1.prototype.mI=function(z,J,p,n,B){if(this.yA==null)return;this.yA=null;this.RJ=null;L.c1.aHQ(this,z)};
L.c1.aHQ=function(z,J){var p=J.Y[0],n=J.U[p],B=n.add.GdFl,c=n.add.vstl,t=JSON.stringify(B?B:c),u=J.history[J.Jq];
if(u&&u.l==z&&u.data.Ot==p)u.data.AQ=t;else{var v=new dY("Change Gradient",z);v.data={Ot:p,hn:z.di,AQ:t};
J.kL(v)}};L.c1.a6a=function(z,J,p){var n=z.U[z.Y[0]],B=n.add.GdFl,c=n.add.vstl,t=n.add.vmsk,u=new i_(J[0],J[1]),v=new i_(J[2],J[3]),A=new i_(J[4],J[5]),$=new i_(J[6],J[7]);
if(c){var X=c.ZI[0],U=c.ZI[2],w=gr.Pf(u,v,new fA),P=gr.YU(X,w,t.u);if(X==1){var k=i_.mT(A,u)/i_.mT(v,u);
if(Math.abs(k-1)<.03)k=1;P[2][4]=p==2?k:U[4];if(p==3){if(i_.mT($,u)/i_.mT(v,u)<.05)$=u.P();gr.So(P,u,v,$,P[2][4]);
if(P[2][6]>.999)P[2][6]=.999}else{P[2][5]=U[5];P[2][6]=U[6]}}P[1]=c.ZI[1];c.ZI=P}else{var X=B.Type.v.GrdT,T=n.S;
if(X=="Lnr"||X=="Rflc"){u.x=(u.x+v.x)/2;u.y=(u.y+v.y)/2}a.Wi.aN(u,v,T,B);n.k3(z)}z.qM()};L.c1.J8=function(z){if(z==null||z.Y.length==0)return;
var J=z.U[z.Y[0]],p=J.add.GdFl,n=J.add.vstl;if(p==null&&n==null)return;if(n==null)n=b$.cD(J.add,z);var B=n.ZI;
if(B.length!=4)return;var c=J.add.vmsk?J.add.vmsk.u:a.z.dZ.Rect(0,0,z.r,z.$),t=gr.g7(B,c),c=[0,0,1,0];
if(ex==1&&B[0]==1){var u=B[2][5]*Math.PI/180,v=B[2][6];c.push(0,-1,Math.cos(u)*v,-Math.sin(u)*v)}a.b.h(c,t,c);
return[c,B,t]};L.c1.c4=function(z){if(z)L.c1.hG(z);var J=L.c1.J8(z);if(J==null)return;var p=J[0],n=J[1],B=J[2],c={L:p.slice(0,4),Ao:["M","L"]};
if(n[0]==1){var t=a.z.dZ.xJ(-1,-1,2,2),u=a.b.Ru(t);a.b.h(u.L,B,u.L);a.b.concat(c,u)}z.W.S4=c;z.W.hT=p;
z.eO=!0};L.c1.prototype.Cb=function(z,J){var p=J.U[z.Ot],n=ex==0?"GdFl":"vstl";if(z.AQ){p.add[n]=JSON.parse(z.AQ);
p.k3(J);J.qM();L.c1.hG(J)}};L.c1.prototype.gD=function(z,J){var p=J.U[z.Ot],n=ex==0?"GdFl":"vstl";if(z.AQ){p.add[n]=JSON.parse(z.hn);
p.k3(J);J.qM();L.c1.hG(J)}};L.Hi=function(){L.y6.call(this,[10,7],L.$N,"tools/hand");this.op=!1;this.YK=new i_(0,0);
this.Qg=null;this.Fd=0;this.Aq=!1};L.Hi.prototype=new L.y6;L.Hi.prototype.zD=function(z,J,p,n){this.op=z.op};
L.Hi.prototype.$P=function(z,J,p,n,B){var c=z.R;if(c=="setcls"){p.i.Az=z.Az;p.eO=!0;p.SR=!0}if(c=="scroll"){if(n.Q(l5.zT))L.Hi.Ih(p,p.i.p.x-z.lB.y,p.i.p.y-z.lB.x);
else L.Hi.Ih(p,p.i.p.x-z.lB.x,p.i.p.y-z.lB.y)}};L.Hi.prototype.enable=function(z,J,p,n){this.Qg=null;
var B=new cD(b.E.c,!0);B.data={R:b.J.tk,BZ:"grab"};J.a(B);if(z&&Date.now()-this.Fd<300){B.I=b.E.H;B.l=L.KZ;
B.data={R:"adapt",K:"fitscr"};J.a(B)}this.Fd=Date.now()};L.Hi.prototype.lW=function(z,J,p,n,B){this.Qg=z.i.p.P();
this.YK.GK(B.x,B.y);if(ex==2){this.Aq=z.J.g3;if(this.Aq){var c=new cD(b.E.c,!0);c.data={R:b.J.UN};J.a(c)}}};
L.Hi.prototype.dV=function(z,J,p,n,B){if(!B.Wj)return;if(this.Qg==null)this.lW(z,J,p,n,B);var c=this.op?J.U4:[z];
for(var g=0;g<c.length;g++)L.Hi.Ih(c[g],this.Qg.x+(B.x-this.YK.x),this.Qg.y+(B.y-this.YK.y))};L.Hi.prototype.mI=function(z,J,p,n,B){this.Qg=null;
if(ex==2&&this.Aq){var c=new cD(b.E.c,!0);c.data={R:b.J.UN};J.a(c)}};L.Hi.Ih=function(z,J,p){var n=z.i.XP,B=z.i.B7,c=B.r,t=B.$,u=a.b.e3(new fw(0,0,z.r,z.$)).L,v=new fA;
v.rotate(z.i.rH);a.b.h(u,v,u);var A=a.b.yq(u),$=A.r*n,X=A.$*n,U=$<c&&X<t,w=c/2+$/2-64,P=t/2+X/2-64;if(ex==2){w=P=1e9;
J=Math.min(0,J)}z.i.p.GK(Math.max(-w,Math.min(w,J)),Math.max(-P,Math.min(P,p)));z.SR=!0};L.ct=function(){L.y6.call(this,[10,47],L.Rq,"tools/rview");
this.YK=new i_(0,0);this.KC=null;this.JK=null;this.Fd=0};L.ct.prototype=new L.y6;L.ct.prototype.enable=function(z,J,p,n){this.Qg=null;
var B=new cD(b.E.c,!0);B.data={R:b.J.tk,BZ:"grab"};J.a(B);if(z&&Date.now()-this.Fd<300&&z.i.rH!=0){z.i.rH=0;
z.eO=!0}this.Fd=Date.now();if(z)this.cL(z,J)};L.ct.prototype.disable=function(z,J,p,n,B){if(z)this.cL(z,J)};
L.ct.prototype.zA=function(z,J,p,n){if(z)this.cL(z,J)};L.ct.prototype.lW=function(z,J,p,n,B){this.YK.GK(B.x,B.y);
var c=z.i;this.KC=c.Ka(c.B7.r/2,c.B7.$/2);this.JK=c.kb();var t=c.Ka(c.B7.r/2,c.B7.$/2),u=Math.min(c.B7.r,c.B7.$)*.35/c.XP,v=u*.2,A=t.x,$=t.y;
z.W.cV={Ao:"M L L L L L".split(" "),L:[A,$,A,$-u,A+v,$,A,$+u,A-v,$,A,$-u]};z.eO=!0};L.ct.prototype.a19=function(z){var J=z.i,p=J.Ka(J.B7.r/2,J.B7.$/2);
z.W.cV={Ao:["M","L"],L:[p.x,p.y,p.x,p.y-200]}};L.ct.prototype.dV=function(z,J,p,n,B){if(!B.Wj)return;
var c=z.i,t=this.KC,u=this.YK,v=new i_(c.B7.r/2,c.B7.$/2),A=Math.atan2(B.y-v.y,B.x-v.x),$=Math.atan2(u.y-v.y,u.x-v.x),X=Math.atan2(this.JK.X,this.JK.k6),U=A-$,w=Math.PI/4;
if(n.Q(l5.VN)){U=X+w*Math.round((U-X)/w)}this.az3(z,J,this.JK.P(),t,U)};L.ct.prototype.mI=function(z,J,p,n,B){z.W.cV=null;
z.eO=!0};L.ct.prototype.zD=function(z,J,p,n){this.az3(p,J,null,null,z.K4-p.i.rH);p.i.rH=z.K4};L.ct.prototype.az3=function(z,J,p,n,B){var c=z.i;
if(p==null)p=c.kb();if(n==null)n=c.Ka(c.B7.r/2,c.B7.$/2);p.translate(-n.x,-n.y);p.rotate(B);p.translate(n.x,n.y);
c.axm(p);if(z.r*c.XP<c.B7.r&&z.$*c.XP<c.B7.$)c.p.GK(0,0);z.eO=!0;this.cL(z,J)};L.ct.prototype.cL=function(z,J){var p=new cD(b.E.c,!0);
p.data={R:b.J.jv,l:this.id,K4:z.i.rH};J.a(p)};L.Ux=function(){L.n0.call(this,[10,25],L.pb,"tools/hbrush")};
L.Ux.prototype=new L.n0("");L.Ux.prototype.mI=function(z,J,p,n,B){if(this.nC==null)return;this.FJ(z,"heal",this.nC.qZ(),this.nC.R2(),this.nC.vo());
this.qM(z,this.nC.vo());L.SD.prototype.mI.call(this,z,J,p,n,B);if(!this.T_.algnd)this.p=null};L.M0=function(z){L.y6.call(this,z?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],z?L.i3:L.MN,z?"tools/vtype":"tools/htype");
this.L9=[];this.f=null;this.caller=null;this.mr=1;this.xk=0;this.P1=null;this.aJS=0;this.zX=0;this.a8k=0;
this.adI=null;this.Hq=null;this.q0=null;this.zP=null;this.yV=null;this.Gr=null;this.a4B=null;this.ay=null;
this.nW=null;this.N2=null;this.a0U=null;this.D9=!1;this.Us=!1;this.zb=!1;this.vF=null;this.ku=null;this.ahv=null;
this.azu=!1;this._y=!1;this.$O=-1;this.ar=-1;this.Dc=document.createElement("textarea");this.Dc.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.Dc.addEventListener("input",this.DO.bind(this),!1);this.Dc.addEventListener("keydown",this.aGh.bind(this),!1);
this.Dc.addEventListener("keyup",this.aKT.bind(this),!1)};L.M0.prototype=new L.y6;L.M0.prototype.Ae=function(z){return z.Wj};
L.M0.prototype.BL=function(z,J,p,n){if(this.q0!=null||this.id==L.i3)return;this.caller=J;var B=this.aBh(z);
if(B.length!=0){var c=null,t=[],u=[];for(var g=0;g<B.length;g++){var v=z.U[B[g]],A=v.add.TySh,$=0,X=dN.Be(A.qU).length-2,U=dN.cj(A.qU,$,X);
dN.up(U,A.h.Nz());if(U.uA.Font!=null)U.uA.Font=U.W5[U.uA.Font].Name;c=U.W5;t.push(U.uA);u.push(U.gC)}var U={W5:c,uA:dN.iE(t),gC:dN.iE(u)};
if(U.uA.Font!=null)dN.Qp(U,U.uA.Font);this.auP(J,U,A)}};L.M0.prototype.aBh=function(z){var J=[];for(var g=0;
g<z.Y.length;g++)if(z.U[z.Y[g]]&&z.U[z.Y[g]].add.TySh)J.push(z.Y[g]);return J};L.M0.prototype.$P=function(z,J,p,n,B){var c=z.R=="insertGlyph",t=z.R=="copyText",u=z.R=="selectAll";
if((c||t||z.R=="insertText"||u)&&this.q0){var v=c?String.fromCharCode(65533):z.K,A=this.Dc,$=A.value,X=A.selectionStart,U=A.selectionEnd;
if(t){jo.Ht(new Blob([$.slice(X,U)],{type:"text/plain"}))}else if(u){this.$O=A.selectionStart=0;this.ar=A.selectionEnd=$.length;
this.$J(p);A.focus()}else{A.value=$.slice(0,X)+v+$.slice(U);A.selectionStart=A.selectionEnd=X+v.length;
this.DO(null,c?z.K:null);A.focus()}}if(z.R=="updateStyles"){if(this.q0==null){var w=this.aBh(p),P=!1;
if(w.length!=0){this.SC(p,J,B,w);for(var g=0;g<w.length;g++){var k=p.U[w[g]],T=k.add.TySh;dN.Pv(T,this.mr);
T.PB.VAlign.v=this.xk;this.q0=k;var Z=dN.Be(T.qU);this.$O=0;this.ar=Z.length-1;dN.CG(T.qU,this.$O,this.ar,this.Ry(B,T));
var i=this.Te(p,B);if(i==!1)P=!0}if(P){this.azu=!0;return}this.r$(p,J,!0)}return}this.Ip(B)}if(z.R.startsWith("warp")){var V=this._y;
if(z.R=="warp"||z.R=="warpCancel"){if(this.q0==null)return;if(z.R=="warp")this.q0.add.TySh.lL=z.TX;else this.q0.add.TySh.lL=this.a4B;
this.Te(p,B);if(!V)this.$J(p)}if(z.R!="warp")this.Dc.focus();if((z.R=="warpConfirm"||z.R=="warpCancel")&&V){this._y=!1;
if(z.R=="warpConfirm")this.r$(p,J);else this.$D(p,J)}}if(z.R=="editCurr"){if(B.Ms!=L.MN){this.P1=B.Ms;
var _=new cD(b.E.c,!0);_.data={R:b.J.OS,l:L.MN};J.a(_)}if(this.q0!=null)this.disable(p,J,B,n);this.f=B;
this.caller=J;this.SC(p,J,B,[z.UK]);var Z=dN.Be(this.q0.add.TySh.qU);this.$O=0;this.ar=Z.length-1;this.$J(p);
this.Qf();this.Dc.focus()}if(z.R=="switchPntPrgr"){if(this.q0)return;var k=p.U[p.Y[0]],T=k.add.TySh,y=T.h.Nz(),E=k.R2(),F=a.G(T.qU),d=dN.Xn(F),x=d==1?dN.DL(F):[0,0,Math.round(E.r*1.05/y),Math.round(E.$*1.25/y)],f=dN.cj(F,0,0),Q=f.W5[f.uA.Font].Name,m=B.rf.ck(Q),H=[0,x[2],x[2]/2][f.gC.Justification%3],S=(m?e1.pa(m):.8)*f.uA.FontSize;
dN.NA(F,1-d);if(d==0){H=-H;S=-S;dN.h4(F,[0,0,x[2],x[3]])}var R=new fA(1,0,0,1,H,S);R.concat(T.h);this.$P({TC:p.Y[0],R:"newED",a50:F,h:R,ad6:[16,3,d==1?0:1]},J,p,n,B)}if(z.R=="newED"){var k=p.U[z.TC],T=k.add.TySh,I=this.Vb(p,[z.TC]);
T.qU=z.a50;if(z.h)T.h=z.h;if(hk.D5(T,B.rf,J)){hk.Te(k,B.rf,p);p.qM()}else p.Uq=!0;var D=new dY(z.ad6?z.ad6:this.name,this);
D.data={nV:I,aG9:this.Vb(p,[z.TC])};p.kL(D)}if(z.R=="fromAction"){var G;if(z.NR.rK=="set"){G=z.NR.m$.T.v}else{G=z.NR.m$.Usng.v;
window.aAj=G;var C=G.TxtC.v,O=[];for(var g=0;g<2;g++){var Y=C[g==0?"Hrzn":"Vrtc"].v,v=Y.val;if(Y.type=="#Prc")v=(g==0?p.r:p.$)*(v/100);
O[g]=v}this.kN(p,J,B,n,p.i.cE(O[0],O[1]),!0)}var k=p.U[p.Y[0]],T=k.add.TySh,h=T.qU,$=dN.Be(h);dN.xA(h,0,$.length-1);
dN.tJ(h,0,G.Txt.v.replace(/\r/g,"\n"));dN.aln(G,h,p);if(hk.qs(p,B.rf,J))hk.Te(k,B.rf,p);else p.Uq=!0;
p.qM();this.r$(p,J)}};L.M0.prototype.Ip=function(z){var J=Math.min(this.$O,this.ar),p=Math.max(this.$O,this.ar),n=this.q0.add.TySh;
dN.Pv(n,this.mr);n.PB.VAlign.v=this.xk;var B=this.Ry(z,n);dN.CG(n.qU,J,p-1,B);var c=this.caller.Y0(),t=this.Te(c,z);
if(t)this.$J(c);if(document.activeElement.tagName.toLowerCase()!="input")this.Dc.focus()};L.M0.prototype.LA=function(z){return this.L9.indexOf(z)!=-1};
L.M0.prototype.enable=function(z,J,p,n){var B=this.Dc;J._.appendChild(B);this.ay="default";this.ee(J)};
L.M0.prototype.pf=function(){return this.q0!=null};L.M0.pZ=function(z,J){var p=new i_(J.x,J.y);for(var g=z.U.length-1;
g>=0;g--){var n=z.U[g],B=n.add.TySh;if(B&&z.a6L(g)){var c=p,t=n.S;if(ex==1){var u=B.h.P();u.oU();c=u.g$(p);
t=n.GJ.SU}if(!t.n9(c))continue;var v=n.iF(31);return v?-2:g}}return-1};L.M0.prototype.lW=function(z,J,p,n,B){this.f=p;
this.caller=J;var c=z.i.Ka(B.x,B.y),t=this.q0==null;if(t){var u=L.M0.pZ(z,c);if(u==-2){alert(j0.get([6,57,0]));
return}if(u>=0&&!n.Q(l5.VN)){if(!hk.D5(z.U[u].add.TySh,p.rf,J)){alert("Fonts not loaded yet");return}this.SC(z,J,p,[u])}else{this.zb=!0;
this.vF=B;return}}var v=t?-1:dN.Xn(this.q0.add.TySh.qU),A=this.N2?this.N2:this.nW,$=A&&A.lW(z,p,n,c,null,null,B)&&a.TX.CM(this.q0.add.TySh.lL),X=!t&&a.b.aBg(c,this.q0.R2())>20/z.i.XP&&(v==0||v==1),U=L.nA.ru(z,c);
if(this.N2&&U){alert("moving curve range");this.k$=U}else if($||X){this.D9=!0;this.ku=c;this.ahv=this.q0.add.TySh.h.P();
if(this.$O==-1&&this.ar==-1)this.$O=this.ar=this.Lx(c)}else{if(this.yV==null){alert("Fonts not loaded yet");
return}this.Us=!0;this.$O=this.ar=this.Lx(c);var w=Date.now();if(w-this.aJS>300)this.zX=0;this.zX++;
this.aJS=w;if(this.zX==2)this.ajQ();if(this.zX==3)this.aAy();if(this.zX>1){this.Us=!1}}this.Qf();this.$J(z)};
L.M0.prototype.SC=function(z,J,p,n){var B=z.U[n[0]];this.q0=B;this.Rc(J,b.E.c,{R:b.J.jv,l:this.id,Kq:"showactive"});
this.zP=n;z.Y=n.slice(0);z.n$();z.Km=!0;this.Gr=this.Vb(z,n);this.FT(B.add.TySh);this.Te(z,p)};L.M0.prototype.FT=function(z){if(dN.Xn(z.qU)!=1)return;
var J=dN.DL(z.qU);J=new fw(0,0,J[2]-J[0],J[3]-J[1]);var p=[J.x,J.y,J.x+J.r,J.y,J.x+J.r,J.y+J.$,J.x,J.y+J.$];
a.b.h(p,z.h,p);this.nW=new ia(p,!1,!1,!1,!0);this.nW.TT(0)};L.M0.prototype.ajQ=function(){var z=dN.Be(this.q0.add.TySh.qU);
this.$O=this.a69(z,this.$O);this.ar=this.aEl(z,this.$O)};L.M0.prototype.a69=function(z,J){var p=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",n=[];
for(var g=0;g<p.length;g++)n.push(p.charAt(g));var B=n.indexOf(z[J])==-1?!0:!1;for(var g=J-1;g>=0;g--)if(n.indexOf(z.charAt(g))!=-1==B)return g+1;
return 0};L.M0.prototype.aEl=function(z,J){var p=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",n=[];for(var g=0;
g<p.length;g++)n.push(p.charAt(g));var B=n.indexOf(z[J])==-1?!0:!1;for(var g=J+1;g<z.length;g++)if(n.indexOf(z.charAt(g))!=-1==B)return g;
return z.length-1};L.M0.prototype.aAy=function(){var z=this.yV.aeD(this.$O);this.$O=z[0];this.ar=z[1]};
L.M0.prototype.ee=function(z){var J=new cD(b.E.c,!0);J.data={R:b.J.tk,BZ:this.ay};z.a(J)};L.M0.prototype.dV=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=this.q0;
if(!B.Wj){var u="default",v=this.nW,A=this.N2?this.N2:v;if(A&&a.TX.CM(t.add.TySh.lL)){var $=A.TR(c,z.i.XP,null,B);
if($)u=$;else if(A==v&&v._W(c))u="text";var X=L.nA.ru(z,c);if(X)u="default"}else if(t&&a.b.aBg(c,t.R2())>20/z.i.XP)u="move";
else if(L.M0.pZ(z,c)>=0)u="text";if(u!=this.ay){this.ay=u;this.ee(J)}}var U=this.vF;if(this.zb&&Math.min(B.x-U.x,B.y-U.y)>4/z.i.XP){this.zb=!1;
this.kN(z,J,p,n,B);t=this.q0;this.D9=!0;this.nW=new ia(null,!1,!1,!1,!0);this.nW.TT(0);var w=z.i.Ka(this.vF.x,this.vF.y);
w.x=Math.round(w.x);w.y=Math.round(w.y);this.nW.lW(z,p,n,w,null,null,B,z.i.rH)}if(this.k$){var P=t.add.TySh,v=this.k$,k=v[3].add.vmsk;
L.nA.alH(v,k,c);P.add={vmsk:k};dN.Fk(P);this.Te(z,p)}if(this.D9){var P=t.add.TySh;if(this.N2){this.N2.dV(z,p,n,c);
var T=a.F.Q3(a.F.Q$(this.N2.rI(),this.a0U));P.h=T;this.Te(z,p);dN.at(P)}else if(this.nW){this.nW.dV(z,p,n,c);
var Z=P.h.P(),i=Math.atan2(Z.X,Z.k6);Z.rotate(i);var T=a.F.Q3(a.F.Q$(this.nW.rI())),V=Math.atan2(T.X,T.k6);
T.rotate(V);if(!isNaN(T.k6)&&T.k6*T.JH-T.X*T.GQ!=0){var _=new fw(0,0,T.k6/Z.k6,T.JH/Z.JH),y=_.r,E=_.$,F=P.qU.Curve;
if(F){var d=dN.DL(P.qU),x=new fA(y/d[2],0,0,E/d[3],0,0);a.b.h(F.Points,x,F.Points);dN.at(P)}dN.h4(P.qU,[0,0,y,E]);
P.h=a.F.Q3(a.F.Q$(this.nW.rI(),_));this.Te(z,p);dN.at(P)}}else{var f=c.x-this.ku.x,Q=c.y-this.ku.y;P.h=this.ahv.P();
var m=new i_(P.h.Rf+f,P.h.Sm+Q);m=L.DJ.o9(z,m,p);P.h.Rf=m.x;P.h.Sm=m.y;this.Te(z,p)}}if(this.Us)this.ar=this.Lx(c);
if(this.D9||this.Us)this.$J(z)};L.M0.prototype.kN=function(z,J,p,n,B,c){var t=z.Q8(),u=t[0],v=t[1],A=z.JG();
A.add.lnsr="rend";var $=z.U.slice(0);A.HV("Text layer "+$.length);this.q0=A;var X=z.Y.length==0?z.U.length-1:z.Y[z.Y.length-1],U=X+1;
if($[X].add.lsct==cp.xj)U--;this.Gr={Xg:$.slice(0),sI:z.Y.slice(0)};$.splice(U,0,A);z.Y=[U];this.$O=this.ar=0;
z.QF($);this.Gr.lP=$.slice(0);this.Gr.Gq=z.Y.slice(0);this.Rc(J,b.E.c,{R:b.J.jv,l:this.id,Kq:"showactive"});
var w=z.i.Ka(B.x,B.y),P=p.ko;console.log(P);if(this.id==L.i3){P=a.G(P);P.uA.BaselineDirection=1}A.add.TySh=dN.gI(w.x,w.y,P,z.i.rH);
var k=A.add.TySh,T=k.qU;if(this.id==L.i3)T._LineOrientation=2;dN.Pv(k,this.mr);k.PB.VAlign.v=this.xk;
if(B.Wj)dN.NA(T,1);else{dN.NA(T,0);var Z=u[v.pop()],i=Z?Z.add.vmsk:null;if(c)i=null;if(i&&!n.Q(l5.VN)){i=i.P();
var V=i.u,y,E;for(var g=0;g<V.length;g++)if(V[g].j1!=null)V[g].j1=0;var _=5/z.i.XP;y=a.z.Y8(i.u,w,!0,_);
if(y.GU==-1)y=a.z.Y8(i.u,w);if(y.GU!=-1){dN.NA(T,1);var F=a.z.Qq(V,y.GU),d=a.z.gN(V,y.GU)-1;V=i.u=V.slice(0,2).concat(V.slice(F,F+d+1));
i.Y=[];k.add={vmsk:i,vogk:bi.cC(V)};T.Curve={};dN.Fk(k);if(y.Rl!=null){var x=e1.Ji(T.Curve);a.b.h(x[0],k.h,x[0]);
var f=a.b.dy(x[0],w.x,w.y),Q=p.ko.gC.Justification;if(Q==2||Q==5){var m=(x[2][f]+x[3]*.5)%x[3];f=e1.oQ(m,x[2])}var H=x[1][f];
H=H%d;i.IS=[H,H];dN.Fk(k)}else this.FT(k)}}}return A};L.M0.prototype.mI=function(z,J,p,n,B,c){if(c){this.zb=!1;
return}if(this.q0==null&&!this.zb)return;var t=z.i.Ka(B.x,B.y),u=this.zb;if(this.zb){this.zb=!1;this.kN(z,J,p,n,B);
this.Us=!0}if(this.D9||this.Us||this.k$){this.$J(z);this.Qf();if(u)this.Ip(p)}this.k$=null;if(this.D9&&this.nW)this.nW.mI(z,p,n,t);
this.D9=this.Us=!1;this.Dc.focus()};L.M0.prototype.Qf=function(){var z=this.q0.add.TySh,J=Math.min(this.$O,this.ar),p=Math.max(this.$O,this.ar),n,B;
if(J==p){var c=dN.Be(z.qU);if(J==0||c.charAt(J-1)=="\n")n=B=J;else n=B=J-1}else{n=J;B=p-1}var t=dN.cj(z.qU,n,B);
dN.up(t,z.h.Nz());this.auP(this.caller,t,z)};L.M0.prototype.auP=function(z,J,p){this.Rc(z,b.E.c,{R:b.J.bS,Xu:iQ.N3,ko:J});
var n=this.mr=dN.w6(p),B=this.xk=p.PB.VAlign.v;this.Rc(this.caller,b.E.c,{R:b.J.jv,l:this.id,Kq:"changeOther",e7:n,ahW:B})};
L.M0.prototype.uH=function(z,J,p,n,B){if(z==null)return;var c=z.i.Ka(B.x,B.y),t=L.M0.pZ(z,c);if(t==-1)return;
var u=new cD(b.E.c,!0);u.data={R:b.J.jv,l:this.id,Kq:"showpan",aof:this.q0!=null,UK:t,bW:B,RV:z,f:p};
J.a(u)};L.M0.prototype.arL=function(){var z=this.q0;if(z&&!this.D9&&this.N2!=null){var J=this.caller.Y0();
this.N2.mI(J,this.f,null,null);this.N2=null;this.FT(z.add.TySh);this.$J(J)}};L.M0.prototype.disable=function(z,J,p,n){var B=this.q0;
this.r$(z,J)};L.M0.prototype.zD=function(z,J,p,n,B){if(this._y)return;if(z.Kq=="commit")this.r$(p,J);
if(z.Kq=="cancel")this.$D(p,J);if(z.Kq=="changeOther"){this.mr=z.e7;this.xk=z.ahW;if(p!=null)this.$P({R:"updateStyles"},J,p,n,B)}if(z.Kq=="showwarp"){if(p==null)return;
if(this.q0==null){var c=p.U[p.Y[0]],t=c.add.TySh;if(t==null)return;this.SC(p,J,B,[p.Y[0]]);this.Dc.focus();
this._y=!0}this.a4B=this.q0.add.TySh.lL;var u=new cD(b.E.c,!0);u.data={R:b.J.Ym,i9:"textwarp"};J.a(u)}};
L.M0.prototype.Sc=function(z,J){if(J!=iQ.OT)return;if(this.azu&&this.zP){this.azu=!1;var p=this.caller.Y0(),n=this.zP;
for(var g=0;g<n.length;g++){this.q0=p.U[n[g]];this.Te(p,z)}this.r$(p,this.caller);return}if(this.q0)this.Ip(z)};
L.M0.prototype.Ry=function(z,J){var p=a.G(z.ko);dN.up(p,1/J.h.Nz());return p};L.M0.prototype.Cb=function(z,J){if(z.nV!=null)this.xy(J,z.aG9);
else this.a6i(J,z.lP,z.Gq)};L.M0.prototype.gD=function(z,J){if(z.nV!=null)this.xy(J,z.nV);else this.a6i(J,z.Xg,z.sI)};
L.M0.prototype.xy=function(z,J){for(var g=0;g<J.length;g++){var p=J[g],n=p.TC,B=z.U[n];B.buffer=p.sM;
B.S=p.Dm.P();B.qM();B.GJ.kR=null;B.GJ.path=null;var c=B.add.TySh;c.lL=p.TX;c.M6=p.M6.P();c.h=p.h.P();
c.qU=a.G(p.qU);if(c.add)dN.at(c);B.xL()}z.qM()};L.M0.prototype.Vb=function(z,J){var p=[];for(var g=0;
g<J.length;g++){var n=J[g],B=z.U[n],c=B.add.TySh;p.push({TC:n,h:c.h.P(),TX:a.G(c.lL),M6:c.M6.P(),qU:a.G(c.qU),sM:B.buffer.slice(0),Dm:B.S.P()})}return p};
L.M0.prototype.a6i=function(z,J,p){z.Y=p;z.QF(J);z.qM();z.JS=!0};L.M0.prototype.Te=function(z,J,p){if(p==null)p=!1;
var n=this.q0.add.TySh;if(!hk.D5(n,J.rf,this.caller))return!1;if(!p){var B=dN.Be(n.qU);this.Dc.value=B.slice(0,B.length-1)}var c=this.q0.S,t=hk.Te(this.q0,J.rf,z);
this.yV=t[1];var u=this.yV.X2();if(a.TX.CM(n.lL))n.M6=new fw;else{if(dN.Xn(n.qU)==1){var v=dN.DL(n.qU),lj=u.y;
n.M6=new fw(0,lj,v[2]-v[0],v[3]-v[1]-lj)}else n.M6=u}z.K6();if(t[2])z.qM(z.root.Ad(t[2].Dm.KQ(c),z,z.U.indexOf(this.q0)));
return!0};L.M0.prototype.DO=function(z,J){if(this.q0==null||this._y)return;var p=this.Dc.selectionStart,n=this.q0.add.TySh,B=dN.Be(n.qU),c=this.Dc.value+"\n",t=Math.min(this.$O,this.ar),u=Math.max(this.$O,this.ar),U=!1;
this.$O=Math.min(p,t);if(c.length-p<B.length-this.ar)this.ar=B.length-c.length+p;if(B!=c){while(this.$O>0&&B.charAt(this.$O-1)!=c.charAt(this.$O-1))this.$O--}var v=B.substring(0,this.$O),A=B.substring(this.ar,B.length),$=c.substring(this.$O,c.length-A.length);
dN.xA(n.qU,this.$O,this.ar);dN.tJ(n.qU,this.$O,$);if(J!=null)dN.afV(n.qU,this.$O,J);var X=this.Ry(this.f,n),w=-1,P=Array.from($);
for(var g=0;g<P.length;g++)w=Math.max(w,P[g].codePointAt(0));if(w!=-1&&w>32&&w!=65533&&X.uA.Font!=null){var k=X.W5[X.uA.Font].Name,T=this.f.rf.anj(w,k,X.W5);
if(k!=T){dN.Qp(X,T);U=!0}}if(this.Hq!=null&&$==this.Hq){var Z=JSON.parse(this.adI);dN.up(Z,1/n.h.Nz());
X.uA=Z.uA;X.W5=Z.W5;U=!0}dN.CG(n.qU,this.$O,this.$O+$.length-1,X);this.$O=this.ar=v.length+$.length;
var i=this.caller.Y0(),V=this.Te(i,this.f,!0);if(V)this.$J(i,!0);if(U)this.Qf()};L.M0.prototype.aKT=function(z){var J=l5;
if(!z.ctrlKey)this.arL();z.stopPropagation()};L.M0.prototype.aGh=function(z){z.stopPropagation();var J=z.ctrlKey||z.metaKey,p=l5,v=0,A=0,V=0,S=!1;
if(this.q0==null||this._y)return;if(this.q0==null)return;if(this.caller.q7.Bi())return;var n=this.caller.Y0();
if(this.N2==null&&J){var B=this.q0.add.TySh,c=dN.Xn(B.qU),t;if(c==1){t=dN.DL(B.qU);t=new fw(0,0,t[2]-t[0],t[3]-t[1])}else t=this.yV.X2();
var u=[t.x,t.y,t.x+t.r,t.y,t.x+t.r,t.y+t.$,t.x,t.y+t.$];a.b.h(u,B.h,u);this.N2=new ia(u,!0,!0,!1,!1);
this.N2.TT(0);this.a0U=t;this.$J(n)}if(p.Oh(z.code,p.nE))v=1;if(p.Oh(z.code,p._8))v=-1;if(p.Oh(z.code,p.Sw))A=-1;
if(p.Oh(z.code,p.E6))A=1;var $=p.Oh(z.code,l5.z7),X=p.Oh(z.code,l5.a9r);if(p.Oh(z.code,l5.Kd)&&J){this.r$(n,this.caller);
return}if(p.Oh(z.code,l5.Mz)){this.$D(n,this.caller);return}if(p.Oh(z.code,l5.dD)){z.preventDefault();
var U=this.Dc,w=U.value,P=U.selectionStart,k=U.selectionEnd;U.value=w.substring(0,P)+"\t"+w.substring(k);
U.selectionStart=U.selectionEnd=P+1;this.DO(null);return}var T=p.Oh(z.code,p.xg),Z=p.Oh(z.code,p.a6);
if(J&&(T||Z)){z.preventDefault();var i=new cD(b.E.H,!0);i.l=L.KZ;i.data={R:"zoom",i5:T};this.caller.a(i)}if(p.Oh(z.code,p.Cc))V=1;
if(p.Oh(z.code,p.ZE))V=-1;var _=this.$O==this.ar,y=J&&z.shiftKey&&V!=0&&!_;if(y||z.altKey&&v!=0){var E=a.G(this.f.ko);
if(y){var F=E.uA.FontSize;if(F==null)F=16;E.uA.FontSize=Math.max(1,F+V*(z.altKey?5:1))}else{if(_){E.uA.Kerning+=20*v;
E.uA.AutoKerning=!1}else E.uA.Tracking+=20*v}z.preventDefault();var d=new cD(b.E.c,!0);d.data={R:b.J.bS,Xu:iQ.N3,ko:E};
this.caller.a(d);var i=new cD(b.E.H,!0);i.l=L.MN;i.data={R:"updateStyles"};this.caller.a(i);return}if((p.Oh(z.code,p.mf)||p.Oh(z.code,p.bI))&&J){var x=this.$O,f=this.ar;
if(x>f){var Q=x;x=f;f=Q}var B=this.q0.add.TySh,m=dN.Be(B.qU);if(x!=f){this.Hq=m.slice(x,f);this.adI=JSON.stringify(this.f.ko)}}var H=dN.Be(this.q0.add.TySh.qU);
if(v!=0||A!=0||$||X){z.preventDefault();var R=this.$O;if(v!=0){if(J&&v==-1)R=this.a69(H,this.$O-1);else if(J&&v==1)R=this.aEl(H,this.$O);
else{var U=this.Dc,w=U.value;R=this.$O+v;if(R!=0&&w.codePointAt(R-1)>65535)R+=v}}else if(A!=0){var I=this.yV.Uy(this.$O);
if(A==-1&&I.FL==0)R=0;else if(A==1&&I.FL==this.yV.aIB()-1)R=99999999999;else R=this.yV.au5(new i_(I.Dm.x+I.Dm.r/2,0),I.FL+A)}else if($){var D=this.$O-1;
while(D>0&&H.charCodeAt(D)!=10)D--;R=D==0?0:D+1}else if(X){var D=this.$O;while(D<H.length-1&&H.charCodeAt(D)!=10)D++;
R=D}R=Math.max(0,Math.min(H.length-1,R));if(z.shiftKey)this.$O=R;else this.$O=this.ar=R;S=!0}if(J&&p.ai3(z,l5.J)){this.$O=0;
this.ar=H.length-1;S=!0}if(S){this.Qf();this.$J(n)}};L.M0.aqD=function(z,J){var p=z.length;if(p!=J.length)return!1;
for(var g=0;g<p;g++)if(z[g].TC!=J[g].TC)return!1;return!0};L.M0.prototype.r$=function(z,J,p){if(this.q0==null)return;
if(Date.now()-this.a8k<5e3)p=!0;this.a8k=Date.now();this.q0.xL();var n=this.Gr;if(n instanceof Array){var B=this.Vb(z,this.zP),c=z.HE();
if(c!=null&&c.l==this&&c.data.nV&&L.M0.aqD(c.data.nV,n)&&p)c.data.aG9=B;else{var t=new dY(this.name,this);
t.data={nV:n,aG9:B};z.kL(t)}}else{var t=new dY(this.name,this);t.data={Xg:n.Xg,lP:n.lP,sI:n.sI,Gq:n.Gq};
z.kL(t);var u=this.q0.add.TySh,v=u.qU,A=dN.Be(v).slice(0,-1),$={classID:"null",null:dB.DG("TxLr"),Usng:{t:"Objc",v:{classID:"TxLr",Txt:{t:"TEXT",v:A},TxtC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:100*u.h.Rf/z.r}},Vrtc:{t:"UntF",v:{type:"#Prc",val:100*u.h.Sm/z.$}}}}}}};
dN.aLg($.Usng.v,v,z);this.kP=J;this.track({rK:"make",m$:$})}this.escape(z,J)};L.M0.prototype.$D=function(z,J){if(this.q0==null)return;
if(this.Gr instanceof Array){this.xy(z,this.Gr);if(this.q0)dN.at(this.q0.add.TySh)}else{z.Y=this.Gr.sI;
z.QF(this.Gr.Xg);z.JS=!0}z.qM();this.escape(z,J)};L.M0.prototype.escape=function(z,J){this.arL();this.q0=null;
this.zP=null;this.yV=null;this.nW=null;this.Dc.blur();z.W.cV=null;z.W.Tk=null;z.W.MG=[];z.eO=!0;this.D9=!1;
this.Us=!1;this.$O=this.ar=-1;this.Rc(J,b.E.c,{R:b.J.jv,l:this.id,Kq:"hideactive"});if(this.P1){var p=new cD(b.E.c,!0);
p.data={R:b.J.OS,l:this.P1};J.a(p);this.P1=null}};L.M0.prototype.Rc=function(z,J,p,n){var B=new cD(J,!0);
B.data=p;if(n)B.l=n;z.a(B)};L.M0.prototype.Lx=function(z){var J=this.q0.add.TySh,p=this.yV,n=J.h.P();
n.oU();var B=n.g$(z),c=dN.R2(J,p),t=a.TX.Dz(J.lL,c),u=a.IN.MV(t,B);if(u==null)u=new Float64Array(2);
B=new i_(c.x+u[0]*c.r,c.y+u[1]*c.$);if(p.vm){var v=p.vm.P();v.oU();B=v.g$(B)}var A=p.au5(B);return A};
L.M0.prototype.$J=function(z,J){if(J==null)J=!1;var p=this.q0.add.TySh,n=dN.Xn(p.qU),B=this.yV,c=B?dN.R2(p,B):null;
z.W.MG=[];z.W.cV=null;z.W.Tk=null;var t=this.N2?this.N2:this.nW;if(t){t.iT(z,this.f,!a.TX.CM(p.lL));
var u=p.h.P();u.oU();if(B&&B.vm&&B.iQ==1){var v=B.vm.P();v.oU();u.concat(v)}a.b.h(z.W.MG,u,z.W.MG);a.b.h(z.W.cV.L,u,z.W.cV.L);
if(B&&B.vm==null&&B.aKY()){var A=c.r-20,$=c.$+8;z.W.cV.L.push(A,$,A+10,$,A+5,$-5,A+5,$+5);z.W.cV.Ao.push("M","L","M","L")}}else if(n==0)this.acD(z,p,B);
else z.W.cV={L:[],Ao:[]};var X=Math.min(this.$O,this.ar),U=Math.max(this.$O,this.ar);if(!J){this.Dc.selectionStart=X;
this.Dc.selectionEnd=U}if(B!=null){var w=function(t,_){var y=t.x,E=t.y+t.$,F=new fA;F.translate(-y,-E);
F.rotate(-_);F.translate(y,E);t.y+=t.$*.27;var V=a.b.e3(t);a.b.h(V.L,F,V.L);return V};if(X==U){X=Math.max(X,0);
var P=B.Uy(X);if(P){var k=P.Dm,T=this.f.ko.uA.FontSize;if(T!=null&&T!=0){T/=p.h.Nz();k.y+=k.$-T;k.$=T}var Z=B.au9(X);
if(Z!=null&&Z.Tt==1)k.x+=k.r;var i=w(k,P.rH).L;z.W.cV.Ao.push("M","L");z.W.cV.L.push(i[0],i[1]-1,i[6],i[7]-1)}}else if(this.caller.q7.Bi()==null){z.W.Tk={L:[],Ao:[]};
for(var g=X;g<U;g++){var P=B.Uy(g),V=w(P.Dm,P.rH);a.b.concat(z.W.Tk,V)}}}z.W.cV=hk.kU(z.W.cV,p,B,!0);
z.W.Tk=hk.kU(z.W.Tk,p,B,!0);z.W.MG=hk.kU({L:z.W.MG},p,B,!0).L;z.eO=!0};L.M0.prototype.acD=function(z,J,p){if(p==null)return;
z.W.MG.push(0,0);if(z.W.cV==null)z.W.cV={Ao:[],L:[]};for(var g=0;g<p.gC.length;g++){var n=p.gC[g];for(var B=0;
B<n.l0.length;B++){var c=n.l0[B],t=n.lo.x+c.lo.x+c.Dm.x,u=n.lo.y+c.lo.y+c.Dm.y+c.Dm.$;z.W.cV.Ao.push("M","L");
z.W.cV.L.push(t,u,t+c.Dm.r,u)}}z.eO=!0};L.LU=function(){L.M0.call(this,!0)};L.LU.prototype=new L.M0;
L.Jv=function(z){L.gL.call(this,z?"Magic Replace":[10,9],z?L.a53:L.Vq,z?"tools/mremove":"tools/lasso");
this.ez=null;this.ss=null;this.ku=null};L.Jv.prototype=new L.gL;L.Jv.prototype.Zf=function(z,J,p,n){this.ez=this._F;
this.ss={L:[this.ez.x,this.ez.y],Ao:["M"]}};L.Jv.prototype.Is=function(z,J,p,n){this.ku=n;var B=this.ss;
if(B==null)return;if(!n.Wj){if(this.ss!=null&&this.FN.vb(1)&&p.Q(l5.W0)){B.L.pop();B.L.pop();B.L.push(this.Ne.x,this.Ne.y);
z.W.cV=B;z.eO=!0}return}B.Ao.push("L");B.L.push(this.Ne.x,this.Ne.y);this.ez=this.Ne;if(this.PA){z.W.cV=B;
z.eO=!0}};L.Jv.prototype.pf=function(){return this.ss!=null};L.Jv.prototype.Zr=function(){return this.ss!=null};
L.Jv.prototype.qA=function(z,J,p,n){L.gL.prototype.qA.call(this,z,J,p,n);if(this.ss&&this.FN.vb(1)&&this.ku&&!this.ku.Wj&&!n.Q(l5.W0))this.asx(z,p,n)};
L.Jv.prototype.fW=function(z,J,p,n){this.ku=n;var B=this.ss;if(B==null)return;if(this.FN.vb(1)&&p.Q(l5.W0)){B.Ao.push("L");
B.L.push(this.Ne.x,this.Ne.y);return}this.asx(z,J,p)};L.Jv.prototype.asx=function(z,J,p){this.finish(z,J,p,this.ku);
this.ss=null;z.W.cV=null;z.eO=!0};L.Jv.prototype.getSelection=function(z,J,p,n){if(this._F.Vm(this.Ne)||!this.PA)return null;
return L.gL.YR(this.ss.L,null,this.T_.anta)};L.DJ=function(){L.y6.call(this,[10,11],L.vX,"tools/move");
this.Z$=new i_(0,0);this.Yj=new i_(0,0);this.OJ=null;this.qg=null;this.cn=new i_(0,0);this.CT=null;this.f=null;
this.kP=null;this.Fd=0;this.Fr=null;this.CX=[];this.GO=null;this.qf=null;this.KP=!1;this.R=0;this.aGi=null;
this.qp=null;this.Co=null;this.t3=!1;this.T_={Mp:!0,$U:ex==1,XI:!1,atM:1};this.acW=!1;this.akE=!1;this.nW=null;
this.o7=null;this.axT=null;var z=[];for(var g=0;g<a.DM.mi.length;g++)z.push({name:a.DM.mi[g],e:function(J,p,n){return{gV:p.Uc.zk==n}}});
this.AS=new ka(z);this.AS.D("select",this.lx,this)};L.DJ.prototype=new L.y6;L.y6.prototype.Ae=function(z){return this.KP&&this.R!=2};
L.DJ.prototype.amb=function(){return this.KP&&(this.R==0||this.R==1)};L.DJ.prototype.zA=function(z,J,p,n){this.I5(z,-this.cn.x,-this.cn.y);
this.cn.GK(0,0);this.W8(z,null,p);this.c4(z)};L.DJ.prototype.UB=function(){var z=this.T_;if(z.Mp&&!z.$U&&!z.XI)return null;
return[z.Mp?1:0,z.$U?1:0,z.XI?1:0]};L.DJ.prototype.t1=function(z,J,p){var n=this.T_;if(z&&z[0]!=null)n.Mp=z[0]==1;
if(z&&z[1]!=null)n.$U=z[1]==1;if(z&&z[2]!=null)n.XI=z[2]==1;if(ex==1)n.$U=!0;var B=new cD(b.E.c,!0);
B.data={R:b.J.jv,l:this.id,z2:n,aFB:J};p.a(B)};L.DJ.a6E=function(z,J,p,n,B,c,t){if(t==null)t=[!1,!0];
var u=z.l3(null,B,!0),v,A=B==null?z.Y[0]:B;if(z.add.artd&&(B!=null||z.Y.length==1)&&z.U[A].add.artb){var $=z.U[A].x0();
v=z.tX(u,$,$)[0]}else{var X=new fw(0,0,z.r,z.$),v=z.tX(u,t[0]?X:null,t[1]?null:X)[0];delete v.add.artd;
if(t[1]){var U=a.an(v.dT(),new fw(0,0,v.r,v.$),2);L.d_.O4(v,U)}}if(p!=1){var w=new fw(0,0,Math.round(v.r*p),Math.round(v.$*p));
L.d_.O4(v,w);var P=[];for(var g=0;g<v.U.length;g++)P.push(g);var k=L.tp.HJ(v,P,!0);L.d_.C1(v,new fA(p,0,0,p,0,0));
L.tp.d8(v,n,P,k,1,a.F.R8(new fA(p,0,0,p,0,0)),null,!0);v.TQ()}var T=[];for(var g=0;g<J.length;g++)if(v.r*v.$!=0)T.push(kL.Pk(v,J[g].toUpperCase(),null,null,c?c[g]:null,n));
return T};L.DJ.prototype.a7h=function(z,J,p,n,B){if(z==null||z.Y.length==0)return;var c=L.DJ.a6E(z,[J],p,n,null);
if(c.length==0){alert("Empty layer selected.");return}var t=c[0],u=new cD(b.E.c,!0);u.data={R:b.J.L1,data:t,name:z.U[z.Y[0]].getName()+(p==1?"":"@"+p+"x")+"."+J};
B.a(u)};L.DJ.prototype.zD=function(z,J,p,n,B){if(z.el=="getPNG"){this.a7h(p,"png",z.bK,B,J)}else if(z.el=="getSVG"){this.a7h(p,"svg",z.bK,B,J)}if(z.el=="prms"){this.T_=z;
this.c4(p)}};L.DJ.aoy=function(z){var lj=z.length,p=0;z.sort(function(c,t){return c[0]+c[1]/2-(t[0]+t[1]/2)});
var J=z[lj-1][0]+z[lj-1][1]-z[0][0];for(var g=0;g<lj;g++)p+=z[g][1];var n=Math.round((J-p)/(lj-1)),B=z[0][0];
for(var g=0;g<lj;g++){z[g][0]=B;B+=z[g][1]+n}};L.DJ.prototype.$P=function(z,J,p,n,B){var c=z.R;if(c=="trsl"){var t=Math.round(z.V$),u=Math.round(z.Yx);
this.cn.GK(t,u);this.wa(p,J,n,B,!1,z.w);this.I5(p,t,u);this.W8(p,null,B)}else if(c=="fcmy"||c=="fvec"){var v=["RGB","CMYK"][z.K]+" Color";
if(c=="fvec")v=["Raster","Vector"][z.K]+" Mode";var A=new dY(v,this);A.data={R:z.R,PY:p.add[c]==null?0:p.add[c],gW:z.K};
p.kL(A);this.Cb(A.data,p)}else if(c=="pview"){var c=new dY([8,14],this);c.data={R:z.R};p.kL(c);this.Cb(c.data,p)}else if(c=="lockguides"){if(p)p.Bj=!p.Bj}else if(c=="gids"||c=="gidsFromLayer"){var $=z.qp,X,U;
if($==null)$=p.zQ();if(c=="gids"){X=z.hu;var w=$[0].length,P=X[0].length;U=w==P?[23,2]:w>P?[23,3]:[23,4];
if(P==0)U=[11,15,0]}else if(c=="gidsFromLayer"){var k=[],T=[],Z=p.oq();for(var g=0;g<p.Y.length;g++){var i=p.U[p.Y[g]].S;
if(i.Sz())continue;k.push([0,i.x],[1,i.y],[0,i.x+i.r],[1,i.y+i.$]);T.push(Z,Z,Z,Z)}U=[11,15,1];X=p.zQ();
L.DJ.lE(X,[k,T])}if(JSON.stringify($)==JSON.stringify(X))return;var c=new dY(U,this);c.data={R:2,qp:$,hu:X};
p.kL(c);this.Cb(c.data,p)}else if(c=="algn"){var V=z.K,_=z.azt,C=0,O=0;if(p==null)return;if(p.Y.length<2&&!(p.M!=null&&V!=3&&V!=7)&&_!=1){alert(j0.get([15,7,5]));
return}var y=p.M;p.M=null;var i=_==1?new fw(0,0,p.r,p.$):y?y.S:L.tp.R2(p);this.wa(p,J,n,B,!1);if(!this.KP)return;
var E=this.Fr,F={},d=[],x=[],f=[];for(var g=0;g<E.length;g++){var Q=E[g];while(p.U[Q].getName()=="</Layer group>")Q++;
var m=p.root.Ti(Q),H=m;while(m.parent!=null){m=m.parent;if(E.indexOf(m.index)!=-1)H=m}var S=x.indexOf(H.index);
if(S==-1){S=x.length;x.push(H.index)}d[g]=S}var R=[],I=[],D=[],G=new fw;for(var g=0;g<x.length;g++){var Y=L.tp.R2(p,p.l3(!0,x[g]));
D.push(Y);G=G.KQ(Y);C=Math.max(C,Y.r);O=Math.max(O,Y.$);var h=V==3?[Y.y,Y.$]:[Y.x,Y.r];R[g]=h;I.push(h)}L.DJ.aoy(I);
if(V==8){var r=z.cols,W=a.DM.Kf(z.ave,p.Ge,p.r,B.Uc.zk),N=a.DM.Kf(z.ai$,p.Ge,p.r,B.Uc.zk);for(var g=0;
g<x.length;g++){var o=Math.floor(g/r),S=g-o*r,Y=D[g],K=G.x+S*(C+W),l=G.y+o*(O+N);f.push(Math.round(K-Y.x),Math.round(l-Y.y))}}else for(var g=0;
g<x.length;g++){var Y=D[g],K=Y.x,l=Y.y;if(V==0)K=i.x;if(V==1)K=i.x+(i.r-Y.r)/2;if(V==2)K=i.x+(i.r-Y.r);
if(V==3)l=R[g][0];if(V==4)l=i.y;if(V==5)l=i.y+(i.$-Y.$)/2;if(V==6)l=i.y+(i.$-Y.$);if(V==7)K=R[g][0];
f.push(Math.round(K-Y.x),Math.round(l-Y.y))}var aV=[];for(var g=0;g<E.length;g++){var j=d[g];aV[2*g]=f[2*j];
aV[2*g+1]=f[2*j+1]}this.I5(p,0,0,null,aV);var M=V==3||V==7?[20,4,6]:[20,4,V<3?V:V-1];if(V==8)M=[2,10,1];
this.W8(p,null,B,aV,M);p.M=y}else if(c=="disabAuto"){this.t1([!1],null,J)}};L.DJ.lE=function(z,J){for(var g=0;
g<J[0].length;g++){var p=J[0][g],n=J[1][g],B=!1;for(var c=0;c<z[0].length;c++){var t=z[0][c],u=z[1][c];
if(p[0]==t[0]&&p[1]==t[1]&&n==u)B=!0}if(!B){z[0].push(p.slice(0));z[1].push(n)}}};L.DJ.prototype.enable=function(z,J,p,n,B){this.f=p;
this.kP=J;this.t3=B?!0:!1;this.c4(z);this.ee("default",J);this.qA(z,J,p,n)};L.DJ.prototype.disable=function(z,J,p,n){this.hG(z)};
L.DJ.prototype.hG=function(z){if(z==null)return;if(this.nW){this.nW.clear(z);this.nW=null}if(z.W.XI){z.W.XI=null;
z.eO=!0}if(z.W.qT){z.W.qT=null;z.eO=!0}if(z.W.s2[this.id]){delete z.W.s2[this.id];z.eO=!0}if(z.W.wE.length!=0){z.W.wE=[];
z.eO=!0}};L.DJ.prototype.BL=function(z,J,p,n){if(p.Ms!=this.id)return;this.c4(z)};L.DJ.prototype.c4=function(z,J){if(z==null)return;
var p=this.T_;this.hG(z);if(!this.t3){var n;if(p.$U||p.XI){n=L.tp.R2(z);if(ex==0)n=a.b.$M(n)}if(p.$U&&!n.Sz()){var B=z.U[z.Y[0]],c=a.b.e3(n).L;
if(ex==1&&z.Y.length==1){if(B.add.vmsk)c=B.add.vmsk.v_();if(B.add.SoLd)c=L.tp.bU(B.add.SoLd.nonAffineTransform);
if(B.add.TySh){c=a.b.e3(B.GJ.SU).L;a.b.h(c,B.add.TySh.h,c)}}this.nW=new ia(c,!0);this.nW.iT(z,this.f)}if(p.XI){var t=null,U=null,w=!1;
if(z.oq()!=-1)t=z.U[z.oq()].x0();else t=new fw(0,0,z.r,z.$);z.W.XI={qi:[n],sT:[]};var u=z.W.XI.sT,v=n.x+n.r,A=n.y+n.$,$=n.x+Math.floor(n.r/2),X=n.y+Math.floor(n.$/2);
if(J){var P=z.root.Y8(new i_(Math.floor(J.x),Math.floor(J.y)));if(P){U=a.b.$M(P.w.R2(z));if(U.SH(n)){w=(U.cz(n)||n.cz(U))&&!n.Vm(U);
if(!w)U=null}}}this.acH(n,u);if(U!=null){z.W.XI.qi.push(U);var k=U.x+U.r,T=U.y+U.$,Z=U.x+Math.floor(U.r/2),i=U.y+Math.floor(U.$/2);
if(w){var V=$,_=X;if(n.cz(U)){V=Z;_=i}u.push(n.x,_,U.x,_);u.push(v,_,k,_);u.push(V,n.y,V,U.y);u.push(V,A,V,T)}else{this.acH(U,u);
var y=A<U.y||T<n.y,E=v<U.x||k<n.x;if(v<U.x)u.push(v,X,U.x,X);if(k<n.x)u.push(k,X,n.x,X);if(A<U.y)u.push($,A,$,U.y);
if(T<n.y)u.push($,T,$,n.y);if(y&&!E){if(n.x<U.x)u.push(n.x,i,U.x,i);if(U.x<n.x)u.push(U.x,X,n.x,X)}}}else{if(n.y>t.y)u.push($,t.y,$,n.y);
if(A<t.y+t.$)u.push($,A,$,t.y+t.$);if(n.x>t.x)u.push(t.x,X,n.x,X);if(v<t.x+t.r)u.push(v,X,t.x+t.r,X)}z.eO=!0}}if(this.R==2&&this.KP){var F=new fw(0,0,z.r,z.$),d=z.oq();
if(d!=-1){var x=z.zQ(),f=x[1][this.Fr];if(f==-1)f=d;F=z.U[f].x0()}var Q=z.r_[this.Fr],m=Q[0],H=(m==0?"X":"Y")+": "+a.DM.Gu(Q[1]-(m==0?F.x:F.y),z.Ge,this.f,m==0?F.r:F.$,!0);
L.y6.WN(Math.round(this.OJ.x)+10,Math.round(this.OJ.y)-10,[H],z);z.eO=!0}if(this.R==3&&this.KP){var S=a.b.e3(this.aGi);
z.W.s2[this.id]={cV:S};z.eO=!0}};L.DJ.prototype.acH=function(z,J){var p=z.r,n=z.$,B=z.x+Math.floor(p*.2),c=z.y+Math.floor(n*.2);
J.push(B,z.y,B,z.y+n);J.push(z.x,c,z.x+p,c)};L.DJ.prototype.ee=function(z,J){var p={R:b.J.tk,BZ:z},n=new cD(b.E.c,!0);
n.data=p;J.a(n)};L.DJ.prototype.xP=function(z){var J=this.o7.cw()[0],p=this.axT.length;if(J<p){var n=this.CT,B=this.axT[J];
this.Ra(n,B)}else{var c=new cD(J==p?b.E.c:b.E.H,!0);if(J==p)c.data={R:b.J.yE,tS:"psd"};else{c.l=L.Wu;
c.data={R:"bgrm",K:1}}this.kP.a(c)}};L.DJ.prototype.lx=function(z){var J=a.G(this.f.Uc);J.zk=this.AS.cw()[0];
var p=new cD(b.E.c,!0);p.data={R:b.J.bS,Xu:iQ.nc,gW:J};this.kP.a(p)};L.DJ.prototype.uH=function(z,J,p,n,B){if(this.KP)this.mI(z,J,p,n,B);
this.CT=z;this.f=p;this.kP=J;var c=z.i.Ka(B.x,B.y),t;if(L.DJ.Ec(p,B,z.i)){t=this.AS}else{if(this.o7)this.o7.removeEventListener("select",this.xP);
var u=[];z.root.Y8(c,u);if(u.length==0)return;if(n.Q(l5.W0)){this.Ra(z,u[0]);return}var v=[];this.axT=u;
for(var g=0;g<u.length;g++)v.push({name:z.U[u[g]].getName(),$h:g==u.length-1});v.push({name:[1,18],wp:!0});
v.push({name:"Remove BG",e:ac.qF});t=this.o7=new ka(v);t.D("select",this.xP,this)}t.parent=J;t.T();t.update(z,p);
var A=new cD(b.E.c,!0);A.data={R:b.J.v0,NC:t,x:B.Py+2,y:B.fH+1};J.a(A)};L.DJ.prototype.a1M=function(z,J,p,n,B){var c=L.DJ.QO(z,B);
return c!=-1||L.DJ.Ec(p,B,z.i)};L.DJ.QO=function(z,J){if(z==null||z.add.artd==null)return-1;var p=z.i.Ka(J.x,J.y),n=12*L.$q()/z.i.XP;
for(var g=0;g<z.U.length;g++){var B=z.U[g];if(!B.LE()||B.add.artb==null)continue;var c=B.x0(),t=new fw(c.x,c.y-1.7*n,n*B.getName().length*.5,n);
if(t.n9(p))return g}return-1};L.DJ.prototype.lW=function(z,J,p,n,B){var c=L.DJ.QO(z,B),t=L.DJ.aBp(z,z.i.Ka(B.x,B.y));
if(c!=-1){z.Y=[c];if(p.Ms==L.vX){var u=new cD(b.E.c);u.data={R:b.J.OS,l:L.oH};J.a(u)}return}if(t!=-1){z.i.aD=t;
z.SR=!0;var u=new cD(b.E.c,!0);u.data={R:b.J.n6,i9:bb.yK.aq6};J.a(u);return}this.OJ=B;this.Z$.GK(B.x,B.y);
this.Yj=z.i.Ka(B.x,B.y);this.qg=new aS(this.Yj);this.wa(z,J,n,p,!0)};L.DJ.Ec=function(z,J,p,n){var B=a.DM.NX,c=p.B7.$;
return z.v5&&(0<J.x&&J.x<B||0<J.y&&J.y<B||n&&0<J.x&&J.x<4*B&&c-B<J.y&&J.y<c)};L.DJ.prototype.wa=function(z,J,p,n,B,c){var t,u=this.Yj,v=!1;
if(B){var A=n.NO&&n.Uc.r_;if(L.DJ.Ec(n,this.Z$,z.i)){t=z.zQ();var $=z.zQ(),X=null;if(this.Z$.x<a.DM.NX){X=[0,u.x]}if(this.Z$.y<a.DM.NX){X=[1,u.y]}$[0].push(X);
$[1].push(z.oq(!0));z.$t($);if(!A){var U=new cD(b.E.c);if(!n.Uc.r_){U.data={R:b.J.bS,Xu:iQ.lr};J.a(U)}if(!n.NO){U.data={R:b.J.bS,Xu:iQ.j5};
J.a(U)}A=!0}}var w=this.abe(z,u);if(A&&w!=null&&!z.Bj){this.R=2;this.qp=t?t:z.zQ();this.Fr=w;this.KP=!0;
this.qf=L.tp.R2(z);return}if(z.dX.length!=0){this.R=4;this.qf=z.b8[z.dX[0]].S.P();this.KP=!0;return}if(this.nW&&this.nW.TR(u,z.i.XP,!0,this.OJ)!=null){var U=new cD(b.E.c);
U.data={R:b.J.OS,l:L.dt,afe:!0};J.a(U);return}if(z.M&&z.M.S.n9(u)){var P=Math.round(u.x),k=Math.round(u.y),T=z.M.S;
v=z.M.N[(k-T.y)*T.r+P-T.x]>a.hW(z.depth)/2}var Z=this.T_.Mp||ex==1;if(!v&&(!this.t3&&Z||this.t3&&Z&&(p.Q(l5.VN)||z.Y.length<2))){var i=this.akJ(z,u,p);
if(!i){z.Y=[];z.sk=null;z.JS=z.Pb=!0;this.R=3;this.aGi=new fw;this.KP=!0;return}}if(p.Q(l5.W0)&&!v){var V=new cD(b.E.H);
V.l=L.bX;V.data={R:bi.Kb,avm:!0};J.a(V)}}if(z.dX.length!=0){this.R=4;this.qf=z.b8[z.dX[0]].S.P();this.KP=!0;
return}this.Fr=z.l3(c==null,c,null,!0);for(var g=0;g<this.Fr.length;g++){var _=this.Fr[g],y=z.U[_];if(y.iF(2)||y.iF(31)||z.ce(_)){alert(j0.get([6,57,0]));
return}}if(z.add.artd&&B){var E=this.Fr,F=!1;for(var g=0;g<E.length;g++)if(z.U[E[g]].add.artb)F=!0;if(!F){this.GO=[z,z.U.slice(0),z.Y.slice(0),-1];
this.Fr.sort(function(R,I){return R-I})}}this.CX=L.DJ.at4(z,this.Fr);this.R=0;if(z.M&&(!B||v)&&z.Y.length==1&&z.AM(!1)){if(!z.aAB()){this.KP=!1;
return}var d=z.U[z.Y[0]],x=p.Q(l5.W0);this.R=1;var f=z.history[z.Jq];if(f.l==this&&f.data.R==1&&f.data.w==z.Y[0]&&d.uB==d.AO.uB&&!x){this.Co=f}else{var Q=d.AO,m=!1,H;
if(!d.S7(z,z.M)||x){m=!0;d.L_(z,z.M,x)}if(d.AO.uB<=0){H=a.j(d.AO.Da.length>>2,z.depth);a.Tm(d.AO.Da,H,3)}else H=z.M.N.slice(0);
var S={S:d.AO.Pa.P(),N:H};this.Co=new dY(x?[12,53]:[12,54],this);this.Co.data={R:1,w:z.Y[0],AO:d.AO,s4:Q,_h:m,sI:z.M,Gq:S,JH:new i_(0,0)};
z.kL(this.Co);z.M=S;z.g5=!0}}this.KP=!0;this.qf=L.tp.R2(z)};L.DJ.prototype.akJ=function(z,J,p){var n=z.root.Y8(new i_(Math.floor(J.x),Math.floor(J.y)));
if(n){if(n.w.add.vmsk)z.eO=!0;var B=z.U.indexOf(n.w);if(this.T_.atM==0){var c=z.root.Ti(B);while(c.parent&&c.parent.depth!=0&&c.parent.w.add.artb==null)c=c.parent;
B=c.index}if(p.Q(l5.VN)){var t=z.Y.indexOf(B);if(t==-1)z.Y.push(B);else if(z.Y.length>1)z.Y.splice(t,1)}else if(z.Y.indexOf(B)==-1){this.Ra(z,B)}}return n!=null};
L.DJ.prototype.Ra=function(z,J){z.U[J].uB=0;z.Y=[J];z.sk=null;z.n$();z.Km=!0;z.JS=!0};L.DJ.aBp=function(z,J){var p=z.add.Anno;
if(p==null||p.length==0)return-1;var n=30/z.i.XP;for(var g=0;g<p.length;g++)if(new fw(p[g][0],p[g][1],n,n).n9(J))return g;
return-1};L.DJ.prototype.dV=function(z,J,p,n,B){this.OJ=B;var c=z.i.Ka(B.x,B.y),w,P;if(this.qg&&this.R<2)c=this.qg.U$(c,n);
if(!this.KP){if(p.NO&&p.Uc.r_&&z&&!z.Bj){var t=this.abe(z,c),u="default",v=L.DJ.QO(z,B);if(t!=null)u=["col-resize","row-resize"][z.r_[t][0]];
else if(this.nW){var A=this.nW.TR(c,z.i.XP,null,B);if(A)u=A}else if(v!=-1||L.DJ.aBp(z,c)!=-1){u="pointer"}this.ee(u,J)}this.c4(z,c);
return}var $=this.Yj,X=Math.round(c.x-$.x)-this.cn.x,U=Math.round(c.y-$.y)-this.cn.y;if(this.qf){if(this.R==2){var k=[];
if(z.M)k.push(z.M.S);if(this.qf)k.push(this.qf);if(z.i.zZ)k.push(z.i.zZ);c=L.DJ.o9(z,c,p,[!1,k,!0,!0])}else{P=this.qf.P();
P.offset(this.cn.x+X,this.cn.y+U);w=L.DJ.qP(z,P,p);var T=this.qg.afv(n);if(T==1){w[0]=0;w[2]=1e9}if(T==2){w[1]=0;
w[3]=1e9}X+=Math.round(w[0]);U+=Math.round(w[1])}}this.cn.x+=X;this.cn.y+=U;var Z=this.GO;if(Z&&z==Z[0]){z.QF(Z[1]);
z.Y=Z[2].slice(0);Z[3]=-1}this.I5(z,X,U,c,null,n.Q(l5.VN));if(Z&&z==Z[0]){var i=this.qf.P();i.offset(this.cn.x,this.cn.y);
var V=c,v=z.oq(),_=-1;for(var g=0;g<z.U.length;g++){var y=z.U[g];if(!y.LE()||y.add.artb==null)continue;
var E=y.x0();if(E.n9(V))_=g}if(_!=-1&&_!=v){var F=L.vJ.IE(z,this.Fr,_,!0,null,!1);z.QF(F[0]);z.Y=F[1];
Z[3]=_}}this.c4(z,c);if(w)L.DJ._B(z,P,w)};L.DJ.prototype.abe=function(z,J){var p=L.DT(z,this.OJ);J=[J.x,J.y];
var n=z.zQ(),B=z.oq();for(var g=0;g<n[0].length;g++){var c=n[0][g],t=n[1][g];if(t!=-1&&t!=B)continue;
if(Math.abs(c[1]-J[c[0]])<p)return g}return null};L.DJ.prototype.I5=function(z,J,p,n,B,c){if(this.R==0){if(B)L.DJ.ff(z,this.Fr,this.CX,B);
else L.DJ.QS(z,this.Fr,this.CX,J,p)}else if(this.R==1){var t=this.Co.data;t.JH.offset(J,p);L.DJ.zR(z,t.w,J,p)}else if(this.R==2){var u=1e-4;
if(c)u=z.i.XP<=1?10:1;var v=u*Math.round(n.x/u),A=u*Math.round(n.y/u),$=[v,A],X=z.r_[this.Fr];X[1]=$[X[0]]}else if(this.R==3){var U=this.Yj,w=a.b._g([U.x,U.y,n.x,n.y]);
this.aGi=w;var P=[];z.root.zg(w,P);if(JSON.stringify(z.Y)!=JSON.stringify(P)){z.Y=P;z.JS=z.Pb=!0}}else if(this.R==4){for(var g=0;
g<z.dX.length;g++)z.b8[z.dX[g]].S.offset(J,p);z.eO=!0}};L.DJ.zR=function(z,J,p,n){var B=z.U[J];z.M.S.offset(p,n);
B.qB(z,p,n,z.M);z.g5=!0;z.qM()};L.DJ.prototype.mI=function(z,J,p,n,B,c){this.W8(z,B,p);this.c4(z);if(Date.now()-this.Fd<300&&!c){var t=L.M0.pZ(z,z.i.Ka(B.x,B.y));
if(L.DJ.Ec(p,B,z.i,!0)){var u=new cD(b.E.c);if(B.y>z.i.B7.$-20){u.data={R:b.J.Ym,i9:"doczoom",PY:z.i.XP*100,sm:{g:b.E.H,l:L.KZ,d:{R:"pzoom"}}}}else{u.data={R:b.J.Ym,i9:"preferences"}}J.a(u)}else if(t>=0){var v=new cD(b.E.H,!0);
v.l=L.MN;v.data={R:"editCurr",UK:t};J.a(v)}}this.Fd=Date.now();L.d_.GY(z)};L.DJ.prototype.W8=function(z,J,p,n,B){if(!this.KP)return;
this.KP=!1;if(this.R<=1){if(n){this.a14(z,null,n,B)}else{if(this.cn.x==0&&this.cn.y==0)return;this.a14(z,this.cn.P())}z.SR=!0}else if(this.R==2){var c=0;
J=[J.x,J.y];var t=this.Fr,u=z.r_[t],fR=this.qp[0].length,v=z.r_.length;if(p.v5&&J[u[0]]<a.DM.NX){var A=z.zQ();
A[0].splice(t,1);A[1].splice(t,1);z.$t(A);c=1;if(fR==v-1)return}if(fR<v)c=2;var $=new dY([[23,2],[23,3],[23,4]][c],this);
$.data={R:2,qp:this.qp,hu:z.zQ()};z.kL($)}else if(this.R==4){var $=new dY([12,54],this);$.data={R:4,Y:z.dX.slice(0),p:this.cn.P()};
z.kL($)}this.cn.GK(0,0)};L.DJ.prototype.qA=function(z,J,p,n){var B=n.wK(z?z.i.rH:0);if(z!=null&&(B.x!=0||B.y!=0)){if(n.Q(l5.W0)&&z.M==null){var c=new cD(b.E.H);
c.l=L.bX;c.data={R:bi.Kb,avm:!0};J.a(c)}this.cn.GK(B.x,B.y);this.wa(z,J,n,p,!1);if(!this.KP)return;this.I5(z,B.x,B.y);
this.W8(z,null,p);this.c4(z)}var t=n.Q(l5.zT);if(!this.t3&&this.akE!=t){if(t){this.acW=this.T_.Mp;this.T_.Mp=!0}else{this.T_.Mp=this.acW}this.akE=t;
var u=new cD(b.E.c,!0);u.data={R:b.J.jv,l:this.id,z2:this.T_};J.a(u)}};L.DJ.prototype.gD=function(z,J){if(z.R==0){var p=z.arG;
if(p){J.QF(p.Xg);J.Y=p.wu.slice(0);J.qM();J.JS=!0}L.DJ.ff(J,z.Y,z.BH,z.WR,!0);L.d_.GY(J)}else if(z.R=="fcmy"||z.R=="fvec"){if(z.PY==0)delete J.add[z.R];
else J.add[z.R]=z.PY;J.eO=!0}else if(z.R=="pview"){J.KY=!J.KY;J.qM()}else if(z.R==2){J.$t(z.qp);J.eO=!0}else if(z.R==4){for(var g=0;
g<z.Y.length;g++)J.b8[z.Y[g]].S.offset(-z.p.x,-z.p.y);J.eO=!0}else{var n=J.U[z.w];if(z._h){n.Gt(J,z.s4);
J.M=z.sI;J.g5=!0;J.qM();n.qM()}else{L.DJ.zR(J,z.w,-z.JH.x,-z.JH.y)}}};L.DJ.prototype.Cb=function(z,J){if(z.R==0){L.DJ.ff(J,z.Y,z.BH,z.WR);
var p=z.arG;if(p){J.QF(p.lP);J.Y=p.mG.slice(0);J.qM();J.JS=!0}L.d_.GY(J)}else if(z.R=="fcmy"||z.R=="fvec"){if(z.gW==0)delete J.add[z.R];
else J.add[z.R]=z.gW;J.eO=!0}else if(z.R=="pview"){J.KY=!J.KY;J.qM()}else if(z.R==2){J.$t(z.hu);J.eO=!0}else if(z.R==4){for(var g=0;
g<z.Y.length;g++)J.b8[z.Y[g]].S.offset(z.p.x,z.p.y);J.eO=!0}else{var n=J.U[z.w];if(z._h){n.AO=z.AO;J.M=z.Gq;
L.DJ.zR(J,z.w,0,0);n.qM()}else{L.DJ.zR(J,z.w,z.JH.x,z.JH.y)}}};L.DJ.prototype.a14=function(z,J,p,n){if(p){var B=!0;
for(var g=0;g<p.length;g++)if(p[g]!=0)B=!1;if(B)return}var c=z.history[z.Jq],t=this.GO,u=t!=null&&t[3]!=-1&&t[0]==z;
if(!u&&p==null&&c.data&&c.l==this&&c.data.R==0&&JSON.stringify(c.data.Y)==JSON.stringify(this.Fr)&&JSON.stringify(c.data.BH)==JSON.stringify(this.CX)){var v=c.data.WR,A=c.data.afK.m$.T.v;
A.Hrzn.v.val+=J.x;A.Vrtc.v.val+=J.y;for(var g=0;g<v.length;g+=2){v[g]+=J.x;v[g+1]+=J.y}}else{if(J==null)J=new i_(p[0],p[1]);
var $={rK:this.R==0?"move":"cut",m$:{classID:"null",null:this.R==0?dB.DG("Lyr",!0):{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:J.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:J.y}}}}}},X=null;
if(u)X={Xg:t[1],wu:t[2],lP:z.U.slice(0),mG:z.Y.slice(0)};this.GO=null;this.track($);if(this.R!=0)return;
var U=new dY(n?n:[12,54],this);if(p)U.data={R:0,Y:this.Fr,BH:this.CX,arG:X,WR:p};else U.data={R:0,Y:this.Fr,BH:this.CX,arG:X,WR:L.DJ.aC2(this.Fr,J.x,J.y)};
U.data.afK=$;z.kL(U)}};L.DJ.aC2=function(z,J,p){var n=[];for(var g=0;g<z.length;g++)n.push(J,p);return n};
L.DJ.QS=function(z,J,p,n,B){L.DJ.ff(z,J,p,L.DJ.aC2(J,n,B))};L.DJ.ff=function(z,J,p,n,B){if(J.length==0)return;
if(p==null){p=[];for(var g=0;g<J.length;g++){p.push(z.U[J[g]].tP(z,!0))}}var c=new fw,t=new fw(0,0,z.r,z.$);
for(var g=0;g<J.length;g++){var u=n[2*g],v=n[2*g+1];if(B){u=-u;v=-v}var A=z.U[J[g]],$=p[g];if(A.add.fxrp&&($.indexOf(0)!=-1||A.dH()))A.add.fxrp.offset(u,v);
for(var X=0;X<$.length;X++){var U=$[X];if(U==0){A.S.offset(u,v);if(A.Ik()&&A.g6(z))A.g6(z).S.offset(u,v);
if(A.add.artb){var w=A.x0();w.offset(u,v);A.Uu(w);var P=A.add.artb.guideIndeces;P=P?P.v:[];for(var k=0;
k<P.length;k++){var T=z.r_[P[k].v];T[1]+=T[0]==0?u:v}}if(A.add.TySh){A.add.TySh.h.translate(u,v);if(A.add.TySh.add){A.add.TySh.add.vmsk.offset(u,v)}}if(A.add.SoLd){var Z=new fA(1,0,0,1,u,v),i=A.add.SoLd,V=L.tp.bU(i.Trnf),_=L.tp.bU(i.nonAffineTransform);
a.b.h(V,Z,V);a.b.h(_,Z,_);i.Trnf=L.tp.ey(V);i.nonAffineTransform=L.tp.ey(_);L.tp.aoR(i,Z)}}if(U==1)A.Qu().S.offset(u,v);
if(U==2){A.add.vmsk.offset(u,v);if(A.add.vogk)a.R$.h(A.add.vogk,[1,0,u,0,1,v,0,0],[]);if(A.GJ.ss){var y=A.GJ.ss.kE.L;
a.b.h(y,new fA(1,0,0,1,u,v),y)}}if(U==3){A.g6(z).T4.S.offset(u,v);if($.length==1)A.qM()}}if($.length>0){var E=A.add.GdFl;
if(E==null)E=A.add.PtFl;if(A.dH()&&!A.rr()&&A.add.vmsk!=null&&a.z.iW(A.add.vmsk.u)&&A.add.vmsk.ED==255&&(E==null||E.Algn&&E.Algn.v)){A.S.offset(u,v)}else A.k3(z);
var F=z.root.Ad(A.R2(z),z,J[g]);if(A.add.artb)F=F.KQ(A.x0());c=c.KQ(F);F.offset(-u,-v);c=c.KQ(F);if(A.ti()&&A.T4&&A.T4.color==255)c=c.KQ(t);
A.adw()}}z.qM(a.b.$M(c))};L.DJ.at4=function(z,J){var p=[];for(var g=0;g<J.length;g++){var n=z.U[J[g]];
p.push(n.tP(z))}return p};L.DJ._B=function(z,J,p){var n={L:[],Ao:[]},B=J.x+p[0],c=J.y+p[1];if(p[2]!=1e9){n.Ao.push("M","L");
var t=c+J.$;if(p[4])n.L.push(p[2],Math.min(c,t,p[4][1]),p[2],Math.max(c,t,p[4][1]));else n.L.push(p[2],c,p[2],c+J.$)}if(p[3]!=1e9){n.Ao.push("M","L");
var u=B+J.r;if(p[5])n.L.push(Math.min(B,u,p[5][0]),p[3],Math.max(B,u,p[5][0]),p[3]);else n.L.push(B,p[3],u,p[3])}if(n.L.length!=0){z.W.qT=n;
z.eO=!0}};L.DJ.o9=function(z,J,p,n){var B=L.DJ.afC(z,[[J.x],[J.y]],p,n);return new i_(J.x+B[0],J.y+B[1])};
L.DJ.qP=function(z,J,p,n,B){var c=B==!0?1:.5,t=L.DJ.afC(z,[[J.x,J.x+Math.round(J.r*c),J.x+J.r],[J.y,J.y+Math.round(J.$*c),J.y+J.$]],p,n);
return t};L.DJ.afC=function(z,J,p,n){if(n==null)n=[!0,null,!0];var B=[0,0,1e9,1e9,null,null];if(!p.UF)return B;
var c=a.G(J);for(var t=0;t<2;t++){var u=1e9,v=J[t],A=0,$=null;for(var X=0;X<v.length;X++){var U=L.DJ.ayr(z,v[X],c[1-t][X],t,p,n),w=U[0];
if(w!=1e9)c[t][X]=w;if(w!=1e9&&Math.abs(w-v[X])<Math.abs(u)){u=w-v[X];A=w;$=U[1]}}if(u!=1e9){B[t]=u;
B[t+2]=A;B[t+4]=$}}return B};L.DJ.ayr=function(z,J,p,n,B,c){var t=1e9,u=null,v=B.kM,A=B.Uc,$=[z.root];
while($.length!=0&&v[2]){var X=$.pop(),U=X.w,w=U.S;if(!U.LE())continue;if(X.children)for(var g=0;g<X.children.length;
g++)$.push(X.children[g]);if(z.Y.indexOf(X.index)!=-1||w.Sz())continue;var P=w.r,k=P>>>1,T=w.$,Z=T>>>1,i=t;
if(n==0){if(Math.abs(w.x-J)<Math.abs(t-J))t=w.x;if(Math.abs(w.x+k-J)<Math.abs(t-J))t=w.x+k;if(Math.abs(w.x+P-J)<Math.abs(t-J))t=w.x+P}else{if(Math.abs(w.y-J)<Math.abs(t-J))t=w.y;
if(Math.abs(w.y+Z-J)<Math.abs(t-J))t=w.y+Z;if(Math.abs(w.y+T-J)<Math.abs(t-J))t=w.y+T}if(i!=t){u=[w.x+k,w.y+Z]}}var V=t;
t=1e9;if(c[0]&&v[0]&&A.r_&&B.NO){var _=z.zQ(),y=_[0],E=_[1],F=z.oq();for(var g=0;g<y.length;g++)if((E[g]==-1||E[g]==F)&&y[g][0]==n&&Math.abs(y[g][1]-J)<Math.abs(t-J))t=y[g][1]}if(v[1]&&A.eQ&&B.NO){var d=n==0||A.WL==0?A.rq:A.WL,x=Math.round(a.DM.Kf(d/A.bB,z.Ge,z.r,A.LK));
if(n==1&&A.Ku==1){var f=p*.5*Math.sqrt(4/3),Q;x*=Math.sqrt(4/3);Q=Math.round((J-f)/x)*x+f;if(Math.abs(Q-J)<Math.abs(t-J))t=Q;
Q=Math.round((J+f)/x)*x-f;if(Math.abs(Q-J)<Math.abs(t-J))t=Q}else{var Q=Math.round(J/x)*x;if(Math.abs(Q-J)<Math.abs(t-J))t=Q}}var m=z.Cy;
if(v[3]&&A.Cy&&B.NO&&m.length!=0){for(var g=0;g<m.length;g++){if(!c[2]&&z.L8.indexOf(g)!=-1)continue;
var H=L.Xk.nQ(m,g);for(var S=0;S<3;S+=2)if(H[S+n]!=J&&Math.abs(H[S+n]-J)<Math.abs(t-J))t=H[S+n]}}if(c[1])for(var R=0;
R<c[1].length;R++){var w=c[1][R],P=w.r,T=w.$,k=P>>>1,Z=T>>>1;if(c[3]){k=P/2;Z=T/2}var I=[w.x,w.y,w.x+k,w.y+Z,w.x+P,w.y+T];
for(var g=0;g<6;g+=2)if(Math.abs(I[g+n]-J)<Math.abs(t-J))t=I[g+n]}if(v[4]){var w=new fw(0,0,z.r,z.$),F=z.oq();
if(F!=-1)w=z.U[F].x0();var P=w.r,T=w.$,k=P>>>1,Z=T>>>1;if(c[3]){k=P/2;Z=T/2}var I=[w.x,w.y,w.x+k,w.y+Z,w.x+P,w.y+T];
for(var g=0;g<6;g+=2)if(Math.abs(I[g+n]-J)<Math.abs(t-J))t=I[g+n]}if(Math.abs(t-J)<=Math.abs(V-J))u=null;
else t=V;var D=Math.abs(t-J)<=4*L.$q()/z.i.XP?t:1e9;return[D,u]};L.Tn=function(){L.gL.call(this,[10,12],L.oi,"tools/mwand");
this.sD=null};L.Tn.prototype=new L.gL;L.Tn.prototype.Zf=function(z,J,p,n){this.sD=n;this.aqJ=this.T_.wconf[0];
this.finish(z,J,p,n)};L.Tn.prototype.Is=function(z,J,p,n,B){if(!n.Wj)return;var c=new cD(b.E.H);c.l=L.Mj;
c.data={R:"h_stepbck"};B.a(c);var t=n.x-this.sD.x,u=Math.max(0,Math.min(255,Math.round(this.aqJ+t/4)));
this.T_.wconf[0]=u;this.BN(B);this.finish(z,J,p,this.sD)};L.Tn.prototype.fW=function(z,J,p,n,B){this.T_.wconf[0]=this.aqJ;
this.BN(B)};L.Tn.prototype.getSelection=function(z,J,p,n){var B=this.Ne;B=z.i.Ka(n.x,n.y);var c=L.gL.aLB(new i_(Math.floor(B.x),Math.floor(B.y)),this.T_.wconf,this.T_.sall);
return c};L.Tn.a3j=function(z,J,p,n,B){if(J.x<0||J.x>z.r||J.y<0||J.y>z.$)return null;var c,t=new fw(0,0,z.r,z.$);
if(n)c=z.dT();else{var u=z.Y.length,A=null;if(u!=1){alert(u==0?"No layer selected.":"More than one layer selected.");
return null}var v=z.U[z.Y[0]],$=v.uB<=0?null:v.uB==1?v.Qu():v.g6(z).T4;if(B||$&&$.m6)A=$;if(A==null&&v.add.lsct!=null&&v.add.lsct!=cp.if){alert("No layer selected.");
return null}if(A==null&&t.Vm(v.S))c=v.buffer;else{c=a.j(t.C()*4,z.depth);if(A==null)a.nk(v.buffer,v.S,c,t);
else L.SD.oX(A.N,A.S,A.color,c,t)}}var X=L.Tn.nj(c,t,J,null,p),U=a.Ni(X,t),w=a.j(U.C(),z.depth);a._1(X,t,w,U);
return{S:U,N:w}};L.Tn.D0=function(z,J,p){var n=J.r,B=J.$,t=0,u=0,v=0,A=0;z=new Uint32Array(z.buffer);
var c=[],$=p.length;for(var g=0;g<$;g++){var X=p[g],U=Math.round(X.x-.5-J.x),w=Math.round(X.y-.5-J.y);
U=Math.max(0,Math.min(n-1,U));w=Math.max(0,Math.min(B-1,w));var P=w*n+U,k=z[P];c.push([k&255,k>>8&255,k>>16&255,k>>>24])}return c};
L.Tn.nj=function(z,J,p,n,B){var c=a.zr(z);z=a.hg(z,8);z=new Uint32Array(z.buffer);var t=J.r,u=J.$,v=t*u;
if(n==null)n=L.Tn.D0(z,J,[p]);var A=Math.round(p.x-.5-J.x),$=Math.round(p.y-.5-J.y),X=$*t+A,U=Date.now(),w=a.j(t*u),P=B[0],k=1/P,T=B[1]&&P>0?255:0;
if(B[2]){var Z=a.j(w.length),i=new Uint32Array(v),V=1;i[0]=A<<16|$;Z[X]=1;while(V>0){var _=i[V-1];V--;
var y=_>>>16,E=_&65535,g=E*t+y,F=L.Tn.Cn(z[g],n);if(F>P){var d=T*(1-Math.max(0,Math.min(1,(F-P)*k)));
w[g]=~~d}else{w[g]=255;if(E!=u-1&&Z[g+t]==0){i[V++]=y<<16|E+1;Z[g+t]=1}if(E!=0&&Z[g-t]==0){i[V++]=y<<16|E-1;
Z[g-t]=1}if(y!=t-1&&Z[g+1]==0){i[V++]=y+1<<16|E;Z[g+1]=1}if(y!=0&&Z[g-1]==0){i[V++]=y-1<<16|E;Z[g-1]=1}}}}else{for(var g=0;
g<v;g++){var F=L.Tn.Cn(z[g],n);if(F<=P)w[g]=255}for(var E=0;E<u;E++)for(var y=0;y<t;y++){var g=E*t+y;
if(w[g]==0&&(y>0&&(w[g-1]==255||E>0&&w[g-t-1]==255||E<u-1&&w[g+t-1]==255)||y<t-1&&(w[g+1]==255||E>0&&w[g-t+1]==255||E<u-1&&w[g+t+1]==255)||E>0&&w[g-t]==255||E<u-1&&w[g+t]==255)){var F=L.Tn.Cn(z[g],n),d=T*(1-Math.max(0,Math.min(1,(F-P)*k)));
w[g]=~~d}}}w=a.hg(w,c);return w};L.Tn.Cn=function(z,J){var p=J.length,n=L.Tn.awZ(z,J[0]),g=1;while(g!=p){n=Math.min(n,L.Tn.awZ(z,J[g]));
g++}return n};L.Tn.awZ=function(z,J){var p=z&255,n=z>>>8&255,B=z>>>16&255,c=z>>>24&255;if(J[3]==0)return c<5?0:255;
var t=Math.max(Math.abs(p-J[0]),Math.max(Math.abs(n-J[1]),Math.abs(B-J[2])));return c==0?255:t};L.ts=function(z,J){if(J)L.SD.call(this);
else if(z)L.SD.call(this,[10,49],L.OE,"tools/camove");else L.SD.call(this,[10,26],L.rQ,"tools/patch");
this.ez=null;this.ss=null;this.p=null;this.lo=null;this.aI3=new i_;this.aHH=null;this.a8p=null};L.ts.prototype=new L.SD;
L.ts.prototype.lW=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y);if(z.M&&a.Y8(c,z.M.N,z.M.S)){var t=new fw(0,0,z.r,z.$),u=t.ly(z.M.S);
if(!z.AM()||u.Sz())return;if(!0){var v=a.j(u.C(),z.depth);a._1(z.M.N,z.M.S,v,u);z.M={N:v,S:u}}this.RB(z);
this.MZ(z);this.lo=c;this.aI3=new i_(c.x-z.M.S.x,c.y-z.M.S.y);this.a8p=a.j(z.M.S.C()*4,z.depth);this.a8p.fill(a.hW(z.depth));
if(this.T_.patch==1){var A=z.U[z.Y[0]];A.L_(z,z.M,!0);if(A.AO==null)this.lo=null}this.aHH=z.M.S.P()}else{this.ss={L:[c.x,c.y],Ao:["M"]};
this.ez=c}};L.ts.prototype.dV=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y);if(this.lo){if(this.T_.patch==1){if(z.dX.length==0){var t=z.U[z.Y[0]].AO,u=c.x-this.aI3.x,v=c.y-this.aI3.y;
L.DJ.zR(z,z.Y[0],Math.round(u-t.Pa.x),Math.round(v-t.Pa.y))}}else this.axl(z,c,"clone")}if(this.ez){this.ss.Ao.push("L");
this.ss.L.push(c.x,c.y);this.ez=c;z.W.cV=this.ss;z.eO=!0}};L.ts.prototype.mI=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y);
if(this.lo){var t=z.M.S.P();if(this.id==L.OE){var u=z.U[z.Y[0]];u.Gt(z,u.AO);z.M.S=this.aHH.P();var v=a.j(z.M.S.C()*4,z.depth);
a.DE(z.M.N,v,3);this.FJ(z,"sheal",v,z.M.S,z.M.S);z.M.S=t;t=t.KQ(this.aHH)}this.axl(z,c,"heal");this.finish(z,t,null,null,!0);
z.qM(t);this.lo=null}if(this.ez){var A=L.gL.O8(this.T_.setop,n.Q(l5.VN),n.Q(l5.W0)),$=new cD(b.E.wR,!0);
if(this.ss.L.length<=4)$.data=L.gL.aj();else $.data=L.gL.YR(this.ss.L,A);J.a($);this.ez=null;z.W.cV=null;
z.eO=!0}};L.ts.prototype.pr=function(){return this.p};L.ts.prototype.zD=function(z,J,p,n,B){L.SD.prototype.zD.call(this,z,J,p,n,B);
this.ee(B,n)};L.ts.prototype.ee=function(z,J){var p="auto;";if(J!=null&&J.Q(l5.VN)&&!J.Q(l5.W0)||this.T_.setop=="union")p="copy";
var n=new cD(b.E.c,!0);n.data={R:b.J.tk,BZ:p};if(this.caller)this.caller.a(n)};L.ts.prototype.axl=function(z,J,p){var n=new i_(Math.round(this.lo.x-J.x),Math.round(this.lo.y-J.y));
if(this.T_.patch==1)n.GK(-n.x,-n.y);this.p=n;this.FJ(z,p,this.a8p,z.M.S,z.M.S);this.qM(z,z.M.S)};L.aJe=function(){L.ts.call(this,!0);
this.T_.patch=1};L.aJe.prototype=new L.ts(!0,!0);L.jG=function(z){if(z)L.SD.call(this,[10,52],L.aiG,"tools/meraser");
else L.SD.call(this,[10,13],L.a7v,"tools/pbucket");this.MF=!1;this.adf=z};L.jG.prototype=new L.SD;L.jG.prototype.enable=function(z,J,p,n){var B=new cD(b.E.c,!0);
B.data={R:b.J.tk,BZ:"default"};J.a(B)};L.jG.prototype.Sc=function(z,J){};L.jG.prototype.lW=function(z,J,p,n,B){if(this.hR(z,J,p,n,B,!0))return;
this.MF=!0};L.jG.prototype.dV=function(z,J,p,n,B){if(this.hR(z,J,p,n,B))return};L.jG.prototype.mI=function(z,J,p,n,B,c){this.enable(z,J,p,n);
var t=this.MF;this.MF=!1;if(!t||c)return;if(!z.AM())return;var u=z.i.Ka(B.x,B.y),v=L.Tn.a3j(z,u,this.T_.wconf,this.T_.sall,!0);
if(v==null)return;if(z.M){var A=z.M.S.ly(v.S);if(A.C()<v.S.C()){var $=a.j(A.C(),z.depth);a._1(v.N,v.S,$,A);
v.S=A;v.N=$}}var X=a.j(v.S.C()*4,z.depth),U=a.g8(p.Nb,1);a.Y1(X,U.o,U.k,U.X);a.DE(v.N,X,3);this.RB(z);
this.FJ(z,this.adf?"erase":"draw",X,v.S,v.S);this.qM(z,v.S);this.finish(z,v.S)};L.zU=function(){L.gL.call(this,[10,14],L.aHs,"tools/plasso");
this.L9=[];this.BX=null;this.ss=null;this.akk=0};L.zU.prototype=new L.gL;L.zU.prototype.disable=function(z,J,p,n){this.Cj(z)};
L.zU.prototype.Zf=function(z,J,p,n){this.L9=[l5.mP,l5.IB]};L.zU.prototype.LA=function(z){return this.L9.indexOf(z)!=-1};
L.zU.prototype.Ae=function(z){return this.ss!=null};L.zU.prototype.Zr=function(){return this.ss!=null};
L.zU.prototype.pf=function(){return this.ss!=null};L.zU.prototype.Is=function(z,J,p,n){if(this.ss==null)return;
var B=this.ss,c=B.L,t=c.length-2,u=this.Ne;if(this.FN.vb(1)&&p.Q(l5.W0)&&n.Wj){c.push(0,0);B.Ao.push("L");
t+=2}else if(p.Q(l5.VN))u=L.PK.Kr(new i_(c[t-2],c[t-1]),u);c[t]=u.x;c[t+1]=u.y;z.W.cV=B;z.eO=!0};L.zU.prototype.fW=function(z,J,p,n){var B=Date.now();
if(this.ss==null)this.ss={L:[this.Ne.x,this.Ne.y,this.Ne.x,this.Ne.y],Ao:["M","L"]};else{this.Is(z,J,p,n);
if(B-this.akk<250||i_.mT(this.Ne,new i_(this.ss.L[0],this.ss.L[1]))<L.DT(z,n)){this.BX=this.ss;this.finish(z,J,p,n);
this.Cj(z);return}this.ss.Ao.push("L");this.ss.L.push(this.Ne.x,this.Ne.y)}this.akk=B;z.W.cV=this.ss};
L.zU.prototype.Cj=function(z){this.ss=null;this.L9=[];if(z!=null){z.W.cV=null;z.eO=!0}};L.zU.prototype.qA=function(z,J,p,n){L.gL.prototype.qA.call(this,z,J,p,n);
if(n.Q(l5.Mz)&&this.ss==null&&this.BX&&z.M!=null){var B=new cD(b.E.H);B.l=L.Mj;B.data={R:"h_stepbck"};
J.a(B);this.Zf(z,p,n,null);this.ss=this.BX;return}if(this.ss==null)return;if(n.Q(l5.mP)||n.Q(l5.IB)){this.ss.L.pop();
this.ss.L.pop();this.ss.Ao.pop();this.Is(z,p,n)}if(n.Q(l5.Kd)){if(this.ss.L.length>4){this.BX=this.ss;
this.finish(z,p,n)}this.ss=null}if(n.Q(l5.Mz)){this.ss=null}z.W.cV=this.ss;z.eO=!0};L.zU.prototype.getSelection=function(z,J,p,n){return L.gL.YR(this.ss.L,null,this.T_.anta)};
L.Le=function(){L.gL.call(this,[10,10],L.aHW,"tools/mlasso");this.L9=[];this.u=[];this.OH=[];this.l0=[];
this.amV=null;this.aAU=0;this.c2=null;this.ev=null;this.Fd=0;this.CC=0};L.Le.prototype=new L.gL;L.Le.prototype.disable=function(z,J,p,n){this.clear(z)};
L.Le.prototype.Ae=function(z){return this.u.length!=0};L.Le.prototype.pf=function(){return this.u.length!=0};
L.Le.prototype.LA=function(z){return this.L9.indexOf(z)!=-1};L.Le.prototype.Zf=function(z,J,p,n){this.L9=[l5.mP,l5.IB];
var B=this.cI(this._F,z);if(this.u.length!=0&&(i_.mT(B,this.u[0])<L.DT(z,n)||Date.now()-this.Fd<300)){this.iZ(z,this.u[0]);
this.finish(z,J,p);this.clear(z);return}this.Fd=Date.now();if(this.u.length!=0)B=this.yg(B,z);else{var c=z.r,t=z.$,u=a.hg(z.dT(),8),v=UZIP.adler(u,0,u.length);
if(v==this.aAU){}else{var A=a.j(c*t),$=c*t*4;for(var g=0;g<$;g+=4)A[g>>>2]=~~(.5+a.b2(u[g],u[g+1],u[g+2])*(u[g+3]*(1/255)));
this.amV=a.MH.aB4(A,c,t);this.aAU=v}this.ev=new Uint16Array(c*t)}this.iZ(z,B);this.CC=p.Q(l5.W0)?1:0;
this.x9(z)};L.Le.prototype.iZ=function(z,J){var p=this.u;this.OH[p.length]=this.l0.length;if(p.length!=0){a.MH.BD(this.c2,J.y*z.r+J.x);
var n=this.mp(z,J);n.reverse();var B=L.Le.ad7(z,n);this.l0=this.l0.concat(B)}p.push(J);this.aKg(z)};
L.Le.prototype.aKg=function(z){var J=this.u[this.u.length-1],p=J.y*z.r+J.x;this.c2=a.MH.a2T(this.amV,p,z.r,z.$);
this.ev.fill(0)};L.Le.prototype.cI=function(z,J){return new i_(Math.floor(Math.max(0,Math.min(J.r-1,z.x))),Math.floor(Math.max(0,Math.min(J.$-1,z.y))))};
L.Le.prototype.clear=function(z){this.l0=[];this.u=[];this.OH=[];this.c2=null;this.ev=null;if(z!=null){z.W.cV=null;
z.W.MG=[];z.eO=!0}this.L9=[]};L.Le.prototype.Is=function(z,J,p,n){var B=this.u,c=B.length;if(c==0)return;
var t=this.yg(this.cI(this.Ne,z),z),u=this.mp(z,t);for(var g=0;g<u.length;g++){var v=u[g],A=new i_(v%z.r,Math.floor(v/z.r));
if(this.ev[v]>30&&i_.mT(A,B[c-1])>20){this.iZ(z,A);return}this.ev[v]++}if(this.CC==1&&n.Wj)this.iZ(z,t);
this.x9(z)};L.Le.prototype.x9=function(z){var J=this.u;if(J.length!=0){var p=this.yg(this.cI(this.Ne,z),z),n=this.mp(z,p);
n.reverse();var B=L.Le.ad7(z,n),c=this.l0.concat(B),t=z.W.cV={L:c,Ao:["M"]};for(var g=2;g<c.length;g+=2)t.Ao.push("L")}z.W.MG=[];
for(var g=0;g<J.length;g++)z.W.MG.push(J[g].x+.5,J[g].y+.5);z.eO=!0};L.Le.prototype.fW=function(z,J,p,n){};
L.Le.prototype.qA=function(z,J,p,n){if(this.u.length==0)return;if(n.Q(l5.mP)||n.Q(l5.IB)){this.u.pop();
this.l0=this.l0.slice(0,this.OH[this.u.length]);this.OH.pop();if(this.u.length==0)this.clear(z);else this.aKg(z);
this.x9(z)}if(n.Q(l5.Kd)){var B=this.cI(this.Ne,z);this.iZ(z,B);this.finish(z,p,n);this.clear(z)}if(n.Q(l5.Mz)){this.clear(z)}};
L.Le.prototype.getSelection=function(z,J,p,n){return L.gL.YR(this.l0,null,this.T_.anta)};L.Le.prototype.mp=function(z,J){var p=this.u[this.u.length-1],n=p.y*z.r+p.x,B=J.y*z.r+J.x;
if(this.CC==1)return[B,n];var c=[B];while(B!=n){B=B+this.c2.C_[B];c.push(B);if(c.length>5e3){console.log(c);
throw"e"}}return c};L.Le.ad7=function(z,J){var p=[],n=z.r;for(var g=0;g<J.length;g++){var B=J[g];p.push(B%n+.5,Math.floor(B/n)+.5)}return p};
L.Le.prototype.yg=function(z,J){var p=J.r,n=J.$,B=z.P(),t=3;a.MH.BD(this.c2,z.y*p+z.x);var c=this.c2.Fn[z.y*p+z.x];
for(var u=-t+1;u<t;u++)for(var v=-t+1;v<t;v++){var A=z.x+v,$=z.y+u;if(A<0||A>=p||$<0||$>=n)continue;
a.MH.BD(this.c2,$*p+A);if(this.c2.Fn[$*p+A]<c)B.GK(A,$)}return B};L.rb=function(){L.y6.call(this,[10,36],L.nB,"tools/ruler");
this.IS=null;this.Rx=null;this.hE=null;this.aJZ=null;this.asP=null};L.rb.prototype=new L.y6;L.rb.prototype.Ae=function(z){return z.Wj};
L.rb.prototype.enable=function(z,J,p,n){L.y6.prototype.enable.call(this,z,J,n,p);if(z){this.c4(z)}};
L.rb.prototype.disable=function(z,J,p,n){if(z)this.Cj(z)};L.rb.prototype.$P=function(z,J,p,n,B){if(z.R=="unit"){var c=this.IS,t=z.K;
p.I7={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:t[0]},logicalLength:{t:"doub",v:t[1]},logicalUnits:{t:"TEXT",v:t[2]}}}};
this.Rc(J,b.E.c,{R:b.J.jv,l:this.id,alf:c[0],hJ:c[1],EE:c[2],Ge:p.Ge,amf:p.r,I7:p.I7})}if(z.R=="reset"){this.IS=this.hE=null;
this.c4(p)}};L.rb.prototype.lW=function(z,J,p,n,B){var c=L.DT(z,B),t=z.i.Ka(B.x,B.y);t.x=Math.round(t.x);
t.y=Math.round(t.y);var u=this.IS;this.Rx=u?u.slice(0):null;var v=u&&i_.mT(t,u[0])<c,A=u&&i_.mT(t,u[1])<c,$=u&&u[2]&&i_.mT(t,u[2])<c;
if(v||A||$){if(n.Q(l5.W0)&&u.length==2){if(A){var X=u[0];u[0]=u[1];u[1]=X}u[2]=u[0].P();this.hE=[2]}else this.hE=[v?0:A?1:2]}else if(u&&L.rb.amr(u[0],u[1],t)<c&&Math.min(u[0].x,u[1].x)-5<=t.x&&t.x<=Math.max(u[0].x,u[1].x)+5&&Math.min(u[0].y,u[1].y)-5<=t.y&&t.y<=Math.max(u[0].y,u[1].y)+5){this.hE=[];
this.asP=[];for(var g=0;g<u.length;g++){this.hE.push(g);this.asP.push(u[g].P())}this.aJZ=t}else{this.IS=[t.P(),t.P()];
this.hE=[1]}};L.rb.prototype.dV=function(z,J,p,n,B){if(this.hE==null)return;var c=this.IS,t=this.hE,u=z.i.Ka(B.x,B.y);
u.x=Math.round(u.x);u.y=Math.round(u.y);if(t.length>1){var v=u.x-this.aJZ.x,A=u.y-this.aJZ.y;for(var g=0;
g<c.length;g++){c[g]=this.asP[g].P();c[g].offset(v,A)}}else{c[t[0]].GK(u.x,u.y);if(n.Q(l5.VN)){c[t[0]]=L.PK.Kr(c[1-t[0]],c[t[0]])}}this.c4(z);
this.Rc(J,b.E.c,{R:b.J.jv,l:this.id,alf:c[0],hJ:c[1],EE:c[2],Ge:z.Ge,amf:z.r,I7:z.I7});z.i.zZ=a.b._g([c[0].x,c[0].y,c[1].x,c[1].y])};
L.rb.prototype.mI=function(z,J,p,n,B,c){this.hE=null;if(c){this.IS=this.Rx.slice(0);this.c4(z)}};L.rb.prototype.Rc=function(z,J,p){var n=new cD(J,!0);
n.data=p;z.a(n)};L.rb.prototype.c4=function(z){var J=this.IS;if(J==null)this.Cj(z);else{var p=[J[1].x,J[1].y,J[0].x,J[0].y],n=["M","L"];
if(J.length>2){p.push(J[2].x,J[2].y);n.push("L")}z.W.cV={Ao:n,L:p};z.W.MG=p}z.eO=!0};L.rb.prototype.Cj=function(z){z.W.cV=null;
z.W.MG=[]};L.rb.amr=function(z,J,p){var n=J.x-z.x,B=J.y-z.y,c=Math.abs(B*p.x-n*p.y+J.x*z.y-J.y*z.x),t=Math.sqrt(n*n+B*B);
return t==0?0:c/t};L.MI=function(){L.SD.call(this,[10,19],L.pq,"tools/sharpen");this.UX="copy"};L.MI.prototype=new L.SD;
L.MI.prototype.lW=function(z,J,p,n,B){var c=this.T_.pdetail?dJ.qw:dJ.pq;if(n.Q(l5.W0))c=dJ.b6;this.ZP(z,p,n,B,this.T_.strn,c);
if(this.nC==null)return;this.i$(z)};L.MI.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);if(this.SO)this.ST(z,p,B);
if(this.nC==null)return;if(!B.Wj)return;this.A5(z,p,n,B);this.i$(z)};L.NP=function(){L.SD.call(this,[10,24],L.gb,"tools/shbrush");
this.UX="draw";this.T_.opacity=.5};L.NP.prototype=new L.SD;L.NP.prototype.lW=function(z,J,p,n,B){this.ZP(z,p,n,B,1);
if(this.nC==null)return;this.MZ(z);this.i$(z)};L.NP.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);
if(this.SO)this.ST(z,p,B);if(this.nC==null)return;if(!B.Wj)return;this.A5(z,p,n,B);this.i$(z)};L.NP.prototype.mI=function(z,J,p,n,B){if(this.nC==null)return;
this.FJ(z,"sheal",this.nC.qZ(),this.nC.R2(),this.nC.vo(),null);this.qM(z,this.nC.vo());L.SD.prototype.mI.call(this,z,J,p,n,B)};
L.GX=function(){L.SD.call(this,[10,20],L.Dv,"tools/smudge");this.UX="copy"};L.GX.prototype=new L.SD;
L.GX.prototype.lW=function(z,J,p,n,B){var c=this.T_.brush.toolOptions;this.ZP(z,p,n,B,this.T_.strn,dJ.Dv);
if(this.nC==null)return;this.i$(z)};L.GX.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);if(this.SO)this.ST(z,p,B);
if(this.nC==null)return;if(!B.Wj)return;this.A5(z,p,n,B);this.i$(z)};L.on=function(){L.SD.call(this,[10,23],L.hd,"tools/sponge");
this.UX="sponge"};L.on.prototype=new L.SD;L.on.prototype.lW=function(z,J,p,n,B){this.ZP(z,p,n,B,this.T_.flow);
if(this.nC==null)return;this.i$(z)};L.on.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);if(this.SO)this.ST(z,p,B);
if(this.nC==null)return;if(!B.Wj)return;this.A5(z,p,n,B);this.i$(z)};L.gf=function(){L.y6.call(this,[10,17],L.KZ,"tools/zoom");
this.oU=!1;this.i5=!0;this.op=!1;this._m=0;this.Tw=null;this.bc=null;this.aoK=0;this.lC=null;this.aDT=0;
this.AS=new ka([{name:[8,0],wA:"Ctrl + +"},{name:[8,1],wA:"Ctrl + -",$h:!0},{name:[20,3],wA:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],wA:"Ctrl + 1"}],[{g:b.E.H,l:L.KZ,d:{R:"zoom",i5:!0}},{g:b.E.H,l:L.KZ,d:{R:"zoom",i5:!1}},{g:b.E.H,l:L.KZ,d:{R:"adapt",K:"fitscr"}},{g:b.E.H,l:L.KZ,d:{R:"adapt",K:"pixel"}}])};
L.gf.prototype=new L.y6;L.gf.prototype.uH=function(z,J,p,n,B){var c=this.AS;c.T();c.parent=J;c.update(z,p);
var t=new cD(b.E.c,!0);t.data={R:b.J.v0,NC:c,x:B.Py+2,y:B.fH+1};J.a(t)};L.gf.prototype.enable=function(z,J,p,n){this.tW(J,n);
if(z&&Date.now()-this._m<300)this.$P({R:"adapt",K:"pixel"},J,z,n,p);this._m=Date.now()};L.gf.prototype.lW=function(z,J,p,n,B){this.bc=new i_(B.x,B.y);
this.aoK=z.i.XP;this.lC=z.i.p.P()};L.gf.prototype.dV=function(z,J,p,n,B){if(this.bc==null)return;var c=Math.exp(Math.log(this.aoK)+(B.x-this.bc.x)/64);
c=Math.max(.02,Math.min(L.gf.T$[0],c));z.i.XP=this.aoK;z.i.p=this.lC.P();this.$P({R:"zoom",XP:c,OJ:this.bc,op:this.op},J,z,n,p)};
L.gf.prototype.mI=function(z,J,p,n,B){if(i_.mT(this.bc,B)<4){var c=this.auJ(n);this.$P({R:"zoom",i5:c,OJ:B,op:this.op},J,z,n,p)}this.bc=null};
L.gf.T$=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
L.gf.ag=function(z,J,p,n){var B=1;while(z*B*1/2>p||J*B*1/2>n)B*=1/2;if(z*B*2/3>p||J*B*2/3>n)B*=1/2;else if(z*B>p||J*B>n)B*=2/3;
return B};L.gf.arJ=function(z,J){var p=L.gf.a10(z);if(J&&p==0)return z;if(!J&&p==L.gf.T$.length-1)return z;
return L.gf.T$[J?p-1:p+1]};L.gf.a10=function(z){var J=0;while(L.gf.T$[J]>z)J++;return J};L.gf.xp=function(z,J,p,n){var B=z.CT;
if(n==0||n==null){n=L.gf.arJ(z.XP,p);if(n==z.XP)return}var c=z.Ka(J.x,J.y);if(ex==2){}else{c.x=Math.max(0,Math.min(B.r,c.x));
c.y=Math.max(0,Math.min(B.$,c.y))}if(!1){}else{var t=z.kb(),u=z.XP/n;t.translate(-c.x,-c.y);t.scale(u,u);
t.translate(c.x,c.y);var v=z.p.y;z.axm(t)}};L.gf.prototype.$P=function(z,J,p,n,B){if(z.R=="pzoom"){if(typeof z.K=="string")return;
z={R:"zoom",XP:z.K/100}}if(z.R=="prvw"){p.add.prvw=1-p.add.prvw;p.eO=!0}var c=0,t=!1,u=null;if(z.R=="adapt"){var v=0;
if(z.K=="pixel")v=1;if(z.K=="fitscr"){var v=0,A=p.i.B7.r,$=p.i.B7.$,X=new fw(0,0,p.r,p.$),U=a.b.e3(X).L,w=new fA;
w.rotate(p.i.rH);a.b.h(U,w,U);var P=a.b.yq(U),k=B.v5?a.DM.NX+4:8;v=Math.min((A-k*2)/P.r,($-k*2)/P.$);
p.i.p.GK(0,0)}u=new i_(Math.round(p.i.B7.r/2),Math.round(p.i.B7.$/2));c=v;L.gf.xp(p.i,u,t,c);p.SR=!0}if(z.R.startsWith("multi")){function T(S){var C=S[0].x-S[1].x,O=S[0].y-S[1].y;
return Math.sqrt(C*C+O*O)}function Z(S){return new i_((S[0].x+S[1].x)/2,(S[0].y+S[1].y)/2)}function i(S){var C=S[0].x-S[1].x,O=S[0].y-S[1].y;
return Math.atan2(O,C)}var V=z.H1,_=Z(V);if(z.R=="multidown"){this.Tw=[V,p.i.XP,p.i.Ka(_.x,_.y),p.i.rH]}else{var y=L.gf.T$;
c=this.Tw[1]*T(V)/T(this.Tw[0]);c=Math.max(y[y.length-1],Math.min(y[0],c));if(c!=p.i.XP)L.gf.xp(p.i,_,t,c);
var E=this.Tw[2],F=p.i.cE(E.x,E.y),d=p.i.p;d.x=Math.round(d.x+_.x-F.x);d.y=Math.round(d.y+_.y-F.y);var x=this.Tw[3]+(i(V)-i(this.Tw[0])),f=2*Math.PI,Q=[0,f/4,f/2,f*3/4,f];
while(x<0)x+=f;x=x%f;for(var g=0;g<Q.length;g++)if(Math.abs(x-Q[g])<.08){x=Q[g];break}p.i.rH=x;p.SR=!0}}if(z.R=="scroll"){u=z.OJ;
var y=L.gf.T$,m=z.lB.y,H=1+Math.abs(m)*8e-4*(z.a2b?10:1);if(m>0)H=1/H;c=p.i.XP*H;L.gf.xp(p.i,u,t,Math.min(y[0],Math.max(y[y.length-1],c)));
p.SR=!0}if(z.R=="zoom"){var S=z.op?J.U4:[p];for(var g=0;g<S.length;g++){var R=S[g],I=R.i;u=z.OJ?z.OJ:new i_(Math.round(I.B7.r/2),Math.round(I.B7.$/2));
if(z.XP!=null)c=z.XP;else t=z.i5;L.gf.xp(I,u,t,c);R.SR=!0}}if(z.R=="mskView"){var D=p.U[p.Y[0]];if(D.uB<=0){D.uB=1;
p.JS=!0}var G=D.uB==3?D.g6(p).T4:D.Qu();if(z.K==0){p.i.Az=[1,1,1];G.m6=!1}if(z.K==1){p.i.Az=[1,1,1];
G.m6=!0}if(z.K==2){p.i.Az=[0,0,0];G.m6=!0}for(var g=0;g<p.b8.length;g++)p.b8[g].m6=!1;p.dX=[];p.eO=!0}};
L.gf.prototype.qA=function(z,J,p,n){if(this.oU!=n.Q(l5.W0)){this.oU=n.Q(l5.W0);var B={R:b.J.jv,l:this.id,oU:this.oU},c=new cD(b.E.c,!0);
c.data=B;J.a(c);this.tW(J,n)}};L.gf.prototype.tW=function(z,J){var p=new cD(b.E.c,!0),n=this.auJ(J);
p.data={R:b.J.tk,BZ:n?"zoom-in":"zoom-out"};z.a(p)};L.gf.prototype.zD=function(z,J,p,n){this.i5=z.i5;
this.op=z.op;this.tW(J,n)};L.gf.prototype.auJ=function(z){var J=this.i5;if(z.Q(l5.BE)&&z.Q(l5.zT))J=!0;
if(this.oU)J=!J;return J};L.gf.auX=function(z,J){if(z.Q(l5.xg)||z.Q(l5.a3I)){J.l=L.KZ;J.data={R:"zoom",i5:!0}}if(z.Q(l5.a6)){J.l=L.KZ;
J.data={R:"zoom",i5:!1}}if(z.Q(l5.vL)){J.l=L.KZ;J.data={R:"adapt",K:"fitscr"}}if(z.Q(l5.uP)){J.l=L.KZ;
J.data={R:"adapt",K:"pixel"}}};L.YG=function(z,J,p){L.y6.call(this,z,J,p);this.CT=null;this.f=null;this.kP=null;
this.abT=0;this.En=null;this.ZV=-1;this.akB=null;this.aye=null};L.YG.prototype=new L.y6;L.YG.K2=function(z,J){var p={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},n=z==null?{classID:"null",null:p,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:p,Usng:{t:"type",v:{classID:z}},__name:"Stroke"};
if(J)n.Prs={t:"bool",v:!0};return{rK:z==null?"fill":"stroke",m$:n}};L.YG.Ve=function(g){var z={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},n;
if(g==3){var J=dB.DG("Lyr",!0);J.v.unshift(z);return{rK:"delete",m$:{classID:"Dlt",null:J}}}var J=dB.DG("Path"),p={t:"obj ",v:[z]};
if(g<2)n={t:"enum",v:{vectorMaskEnabled:g==0?"RvlA":"HdAl"}};else n=dB.DG("Path",!0);return{rK:"make",m$:{classID:"Mk",null:J,At:p,Usng:n}}};
L.YG.prototype.enable=function(z,J,p,n,B){this.f=p;var c=new cD(b.E.c,!0);c.data={R:b.J.tk,BZ:"default"};
J.a(c)};L.YG.prototype.uH=function(z,J,p,n,B){var c=z.Q8(),t=c[0],u=c[1];if(u.length==0)return;var v=t[u[0]],A=v.add.vmsk,$=z.i.Ka(B.x,B.y),X=4*L.$q()/z.i.XP,U=new fw($.x-X,$.y-X,X*2,X*2),w=a.z.Lp(A.u,U)[0];
if(w.length!=0){A.Vd=w;z.eO=!0}var P=a.z.Y8(A.u,$).GU;if(P!=-1){A.Y=[P];z.eO=!0}var k=new cD(b.E.c,!0);
k.data={R:b.J.jv,l:this.id,bW:B,RV:z,f:p};J.a(k)};L.YG.prototype.alU=function(z,J){var p=new cD(b.E.c,!0);
p.data={R:b.J.bS,Xu:iQ.j5};if(!J.NO)z.a(p);p.data={R:b.J.bS,Xu:iQ.wI};if(!J.Uc.$n)z.a(p)};L.YG.prototype.BL=function(z,J,p,n,B){if(this.En&&this.ZV==-1){console.log("updating over live");
this.wx(z,p)}if([L.d9,L.XS,L._9,L.wt,L.Sv].indexOf(this.id)!=-1)L.y6.aHj.call(this,z,J,p,n);if(z==null)return;
if(p.Ms!=this.id&&B==null)return;if(z.Y.length==0)return;var c=z.U[z.Y[0]],t=c.add.vmsk,u=c.add.vstk;
if(ex==0){var v=a_.O7(c.add);this.CT=z;this.kP=J;if(c.dH()&&t!=null&&(JSON.stringify(u)!=JSON.stringify(p.p_)||JSON.stringify(v)!=JSON.stringify(p.Mq))){this.abT=Date.now();
var A=new cD(b.E.c,!0);A.data={R:b.J.bS,Xu:iQ.A1,K:v};J.a(A);A.data={R:b.J.bS,Xu:iQ.f$,K:u};J.a(A)}}else{var $=null;
for(var g=0;g<z.Y.length;g++){var c=z.U[z.Y[g]],X=c.add.vstl;if(X==null)continue;if($==null)$=a.G(X);
else{for(var U in X){if($[U]==null)continue;if(X[U]==X.K$){if(JSON.stringify(X[U])!=JSON.stringify($[U]))delete $[U]}else if(X[U]==X.ZI){if(JSON.stringify(X[U])!=JSON.stringify($[U]))delete $[U]}else if(X[U]!=$[U])delete $[U]}}}if($==null)return;
var w=JSON.stringify($);if(w!=JSON.stringify(p.St)){var A=new cD(b.E.c,!0);A.data={R:b.J.bS,Xu:iQ.m7,K:$};
J.a(A)}}};L.YG.prototype.Sc=function(z,J){if(J==iQ.nc||J==iQ.hl)this.BL(null,null,z,null);if(this.CT==null)return;
if(J==iQ.hl||J==iQ.A1||J==iQ.f$){if(Date.now()-this.abT<50)return;var p=J==iQ.A1,n=this.CT,B=p?z.Mq:z.p_,c=[],t=n.Y;
for(var g=0;g<t.length;g++){var u=t[g],v=n.U[u];if(!v.dH()||v.add.vmsk==null)continue;c.push(u)}var A=new cD(b.E.H,!0);
A.l=L.bX;A.data={R:bi.zB,oz:c,fe:p,K:B};if(c.length!=0)this.kP.a(A)}};L.YG.prototype.aHx=function(z){if(typeof z=="number"){var J=new cD(b.E.wR,!0);
J.data=L.Fz.tR(0);J.data.m$.Usng.v.Type.v.Clr.v=a.Wi.yR({o:z>>>16&255,k:z>>>8&255,X:z>>>0&255});this.kP.a(J)}};
L.YG.prototype.$P=function(z,J,p,n,B){this.kP=J;if(z.R=="newfill"){if(z.iQ==0){var c=new cD(b.E.c,!0);
c.data={R:b.J.Ym,i9:"colorpicker",Ij:B.Nb,sy:this.aHx.bind(this)};J.a(c)}}else if(z.R=="smplp"){if(p==null)return;
var t=p.Q8(),u=t[0],v=t[1];if(v.length==0){alert("No paths selected");return}var A=u[v[0]];if(A.add.vmsk.Y.length<=0){alert("No paths selected");
return}if(this.N_==null){this.N_=A.add.vmsk.P();this.Rs=JSON.stringify(A.add.vogk);this.ss=A;this.CT=p}var c=new cD(b.E.c,!0);
c.data={R:b.J.Ym,i9:"simplifypath",PY:100,RD:this.aA5.bind(this)};J.a(c)}else if(z.R=="pathedit"){var $=z.el,X="",U=p.$n.slice(0),w=p.E0.slice(0),P=p.$n.slice(0),k=p.E0.slice(0),T=p.uc,Z=p.uc;
if($=="rnm"){var i=-1-z.GU,V=U[i],_=b$.zo(z.name,V.add);if(i!=0)P[i]=_;else{k=[P.length];P.push(_);P[0]=b$.zo("Work Path")}X="Rename"}else if($=="sspath"){if(z.K==-1){Z=-1;
k=[]}else if(z.K==1&&p.uc!=-1)k=[p.uc];else if(p.E0.length!=0){if(p.KY){alert("Symmetry can't be used in the Pattern Preview");
return}Z=p.E0[0]}else return;X="Symmetry"}else if($=="new"){var _=b$.zo("Path "+U.length);if(z.kE)_=z.kE;
if(z.azA){var t=p.Q8(),u=t[0],v=t[1],y=u[v[0]];_.add.vmsk=y.add.vmsk.P();_.add.vogk=a.G(y.add.vogk);
if(y.GU==-1){var E=P[k[0]]=b$.zo("Path "+U.length);E.name=y.name;E.GU=y.GU}}P.push(_);k=[P.length-1];
X="New";if(z.sC!=null){if(p.KY){alert("Symmetry can't be used in the Pattern Preview");return}var F=z.sC[0],d=z.sC[1];
_.name=j0.get(a.H6.list[F][0]);var x=a.H6.mp(F,d),f=Math.min(p.r,p.$),Q=(p.r-f)/2,m=(p.$-f)/2;a.b.h(x.L,new fA(f,0,0,f,Q,m),x.L);
_.add.vmsk.u=a.b.nK(x);_.sC=[a.H6.list[F][1],d];Z=k[0];X="New Symmetry"}}else if($=="del"){if(p.sk&&p.sk.length!=0){var c=new cD(b.E.wR,!0);
c.data=L.YG.Ve(3);J.a(c)}if(k.length==0)return;k.sort(function(S,o){return S-o});if(k[0]==0){P[0]=b$.zo(U[0].name);
k=k.slice(1)}var H=0;while(k.length!=0){P.splice(k[0]-H,1);k=k.slice(1);H++}X="Delete"}else if($=="fromsel"){var A=P[0]=b$.zo("Work Path");
k=[0];L.YG.aaf(p.M,A);X="Selection to"}var S=new dY(X+" Path",this);S.data={Rx:U,aup:w,aJf:P,a9E:k,ape:T,aep:Z};
if($=="fromsel"){S.data.sI=p.M;S.data.Gq=null}p.kL(S);this.Cb(S.data,p);if($=="new"&&z.sC||$=="sspath"&&z.K!=-1){var c=new cD(b.E.c,!0);
c.data={R:b.J.OS,l:L.dt};J.a(c)}}else{var R=z.cN,t=p.Q8(z.R=="append"||z.R=="fromAction"),u=t[0],v=t[1],A=u[v[0]],I=A.add.vmsk,D=A.add.vogk,G=I.P(),C=I.P(),O=JSON.stringify(D);
if(z.R=="fromAction"){var Y=z.NR,h=Y.rK,r=Y.m$,W=r.T;if(h=="set"){if(W){D=[a.R$.fd(W,p.r,p.$)];C.u.push({I:0,j1:1,length:0});
a.R$._n(D,C);R=[12,76,0]}else throw r}else if(h=="draw"){D=[a.R$.fd(r.Shp,p.r,p.$)];C.u.push({I:0,j1:1,length:0});
a.R$._n(D,C);L.YG.akG(C.u,r.AntA.v,B.Nb,J);return}else throw h}else if(z.R=="remove"){if(z.O5&&C.Vd.length!=0){C.u=a.z.aDQ(C.u,C.Vd,D,z.anL);
var N=a.z.ZR(C.u);for(var g=0;g<C.Y.length;g++)if(C.Y[g]>=N){C.Y.splice(g,1);g--}C.Vd=[];R="Delete Anchors"}else{if(C.Y.length==0)return;
var H=0;for(var g=0;g<C.Y.length;g++){D.splice(C.Y[g]+H,1);H--}C.u=a.z.aGG(C.u,C.Y);C.Y=[];C.Vd=[];if(R==null)R="Delete Paths"}}if(z.R=="append"){L.YG.Vp(z.akg,C,D)}this.s8(p,A.GU,C,D);
this.eD(p,R,A.GU,G,C.P(),null,O,JSON.stringify(D))}};L.YG.aaf=function(z,J){if(z==null)return;var p=z.N.slice(0);
for(var g=0;g<p.length;g++)p[g]=p[g]>128?2:1;var n=z.S.P();n.Lr(1,1);var B=a.j(n.C());a._1(p,z.S,B,n);
var c=jH.cv(B,n.r,n.$,Math.round(n.C()*2e-5)),t=jH.Q8(c),u=new fA(1,0,0,1,-1+z.S.x,-1+z.S.y);for(var g=0;
g<t.length;g++)a.b.h(t[g].path.L,u,t[g].path.L);for(var g=0;g<t.length;g++){var v=t[g];if(v.color==1&&v.parent==-1)continue;
var A=a.b.nK(t[g].path,!1);A[2].j1=0;J.add.vmsk.u=J.add.vmsk.u.concat(A.slice(2))}J.add.vogk=bi.cC(J.add.vmsk.u)};
L.YG.akG=function(z,J,p,n){var B=new bi.jP;B.u=B.u.concat(z.slice(2));var c=B.Qu();if(!J)a.round(c.N);
var t=a.j(c.S.C()*4);a.dz(t,(p&255)<<16|(p>>8&255)<<8|(p>>16&255)<<0);a.DE(c.N,t,3);var u=new cD(b.E.H,!0);
u.l=L.na;u.data={R:"draw",ic:{buffer:t,S:c.S.P()},cN:this.name};n.a(u)};L.YG.XQ=function(z,J){var p=a.z.ai_(z.u,z.Y),n=[];
for(var g=0;g<z.Y.length;g++)n.push(a.G(J[z.Y[g]]));return[p,n]};L.YG.Vp=function(z,J,p){var n=a.z.ZR(J.u),B=a.z.ZR(z[0]);
J.u=J.u.concat(z[0].slice(2));J.Y=[];for(var g=0;g<B;g++)J.Y.push(n+g);for(var g=0;g<B;g++)p.push(a.G(z[1][g]))};
L.YG.prototype.LA=function(z,J){if(J==null)return!1;var p=J.Q8(),n=p[0],B=p[1];if(B.length==0)return!1;
var c=n[B[0]],t=c.add.vmsk;if(t&&t.Y.length+t.Vd.length!=0)return[l5.mP,l5.IB].indexOf(z)!=-1};L.YG.prototype.qA=function(z,J,p,n){if(z==null)return;
var B=z.Q8(),c=B[0],t=B[1];if(t.length==0)return;var u=c[t[0]],v=u.add.vmsk;if(n.Q(l5.Mz)||n.Q(l5.Kd)||this.id==L.PO&&n.Q(l5.zW)&&v.Vd.length==1){v.Vd=[];
z.eO=!0}if(v.Y.length!=0){var A=n.wK(z?z.i.rH:0);if(A.x!=0||A.y!=0){var $=v.P(),X=v.P(),U=new fA(1,0,0,1,A.x,A.y),w=u.add.vogk,P=JSON.stringify(w);
if(n.Q(l5.W0)){var k=L.YG.XQ(X,w);L.YG.Vp(k,X,w)}a.z.Gn(X.u,U,X.Y);a.R$.h(w,a.F.R8(U),X.Y);this.s8(z,u.GU,X,w);
this.eD(z,"Move Paths",u.GU,$,X.P(),!0,P,JSON.stringify(w))}if(n.Q(l5.mP)||n.Q(l5.IB))this.$P({R:"remove",O5:this.id==L.PO},J,z,n,p)}};
L.YG.prototype.eD=function(z,J,p,n,B,c,t,u){var v=new dY(J,this);v.data={Lw:p,a9C:n,A$:B,ail:c,aCL:t,a7q:u};
z.kL(v)};L.YG.prototype.Cb=function(z,J){if(z.Lw!=null)this.s8(J,z.Lw,z.A$.P(),JSON.parse(z.a7q));else{J.$n=z.aJf.slice(0);
J.E0=z.a9E.slice(0);J.eO=J.JS=!0}if(z.sI||z.Gq){J.M=z.Gq;J.g5=!0}if(z.aep!=null)J.uc=z.aep};L.YG.prototype.gD=function(z,J){if(z.Lw!=null)this.s8(J,z.Lw,z.a9C.P(),JSON.parse(z.aCL));
else{J.$n=z.Rx.slice(0);J.E0=z.aup.slice(0);J.eO=J.JS=!0}if(z.sI||z.Gq){J.M=z.sI;J.g5=!0}if(z.ape!=null)J.uc=z.ape};
L.YG.prototype.s8=function(z,J,p,n){var B=J<0?z.$n[-1-J]:J<1e6?z.U[J]:z.U[J-1e6].add.TySh,c=B.add.vmsk;
c.N=null;c.Kk=!0;if(c.SV){c.SV.N=null;c.SV.Kk=!0}B.add.vmsk=p;B.add.vogk=n;if(1e6<=J){dN.Fk(B);var t=z.U[J-1e6],u=B,v=this.f;
hk.Te(t,v.rf);z.qM()}else if(0<=J){p.Kk=!0;B.k3(z);z.qM()}z.eO=z.JS=!0};L.YG.prototype.wx=function(z,J,p){if(!p)this.aj6(z,J);
var n=z.Q8(),B=n[0],c=n[1];for(var t=0;t<c.length;t++){var u=B[c[t]],v=a.R$.auM(u.add.vogk,u.add.vmsk.Y,z.i);
if(v==null)continue;z.eO=!0;if(v[1])z.W.hT=v[1];if(p){this.En[0]=v;return}var A=new ia(v[3],!1,!1);A.iT(z,J);
this.En=[v,A,u]}};L.YG.prototype.aj6=function(z,J){var p=this.En;if(p==null)return;z.W.hT=[];z.W.wE=[];
p[1].clear(z);this.En=null};L.YG.prototype.ah2=function(z,J,p,n,B){var c=this.En,t=this.ZV;if(c==null)return!1;
var u=z.i.Ka(B.x,B.y);if(t!=-1){var v=c[0],A=c[1],$=c[2],X=this.N_.P(),U=JSON.parse(this.Rs);if(t==10){c[1].dV(z,p,n,u);
var w=a.F.Q$(c[1].rI()),P=a.F.iE(w,a.F.oU(this.aye));a.R$.h(U,P,X.Y);a.R$._n(U,X);this.s8(z,$.GU,X,U)}else{var k=JSON.parse(this.akB),T=new i_(v[2][t*2],v[2][t*2+1]),Z=new i_(v[4][0],v[4][1]),i=Math.round(i_.mT(T,u)/Math.sqrt(2));
if(i_.mT(u,Z)>i_.mT(T,Z))i=0;L.y6.WN(B.x+20,B.y,[j0.get([12,56])+": "+i+" px"],z);if(k[0]==8)k[3]=i;
else{var V=i-k[3][t];if(n.Q(l5.W0))k[3][t]=i;else for(var g=0;g<4;g++)k[3][g]=Math.max(k[3][g]+V,0)}var _=new cD(b.E.H,!0);
_.l=L.bX;_.data={R:bi._P,K:k};J.a(_)}this.wx(z,p,!0);return!0}else{var y=c[1].TR(u,z.i.XP,!0);if(y==null&&c[0][1]){var E=a.b.dy(c[0][1],u.x,u.y,7/z.i.XP);
if(E!=-1)y="default"}var _=new cD(b.E.c,!0);_.data={R:b.J.tk,BZ:y?y:L.re()};J.a(_)}};L.YG.prototype.aq7=function(z,J,p,n,B){var c=this.En;
if(c==null)return!1;var t=z.i.Ka(B.x,B.y),u=-1;if(c[1].TR(t,z.i.XP,!0)&&c[1].lW(z,p,n,t))u=10;else if(c[0][1]){var v=a.b.dy(c[0][1],t.x,t.y,7/z.i.XP);
if(v!=-1)u=v}if(u!=-1){var A=c[2];this.N_=A.add.vmsk.P();this.Rs=JSON.stringify(A.add.vogk);this.ZV=u;
this.akB=JSON.stringify(a.R$.Q$(z));this.aye=a.F.Q$(c[1].rI());return!0}};L.YG.prototype.ah5=function(z,J,p,n,B){var c=this.En,t=this.ZV;
if(t==-1)return!1;var u=z.i.Ka(B.x,B.y);if(t==10){c[1].mI(z,p,n,u);var v=c[2];this.eD(z,[10,16],v.GU,this.N_,v.add.vmsk,null,this.Rs,JSON.stringify(v.add.vogk))}this.ZV=-1;
this.wx(z,p)};L.Fz=function(z,J,p,n){L.YG.call(this,z,J,p);this.T_={shape:iV.J0(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{t:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.apS=n;this.np=null;this.aqE=null;this.aQ=null;this.FN=new jJ};L.Fz.prototype=new L.YG;L.Fz.prototype.Ae=function(z){return z.Wj&&this.id!=L.Af};
L.Fz.prototype.enable=function(z,J,p,n,B){this.f=p;var c=new cD(b.E.c,!0);c.data={R:b.J.tk,BZ:L.re()};
J.a(c);this.wx(z,p)};L.Fz.prototype.disable=function(z,J,p,n){this.aj6(z,p)};L.Fz.prototype.qA=function(z,J,p,n){L.YG.prototype.qA.call(this,z,J,p,n);
this.FN.qA(n);this.qK(J,p)};L.Fz.prototype.qK=function(z,J){var p=new cD(b.E.c,!0);p.data={R:b.J.jv,l:this.id,ZB:this.UZ(J)};
z.a(p)};L.Fz.prototype.UZ=function(z){var J=this.FN.Oi(0),p=this.FN.vb(0),n=L.gL.O8(this.T_.binop,J,p),B=this.id==L.Af?z._k:z.im;
if(B==1&&n==0)n=1;return n};L.Fz.prototype.rj=function(z,J,p,n){};L.Fz.prototype.lW=function(z,J,p,n,B){if(this.aq7(z,J,p,n,B))return;
var c=this.id==L.Af?p._k:p.im;if(c!=2)this.alU(J,p);if(c==2&&!z.AM())return;var t=z.i.Ka(B.x,B.y);t=L.DJ.o9(z,t,p);
this.aQ=[t.x,t.y];this.np=t;this.aqE=new i_(0,0);this.FN.lW(n)};L.Fz.prototype.ad_=function(z,J,p,n){var B=[this.np.P(),J.P()];
p=this.FN.Oi(1)||p.Q(l5.VN)||this.FN.vb(1)?p:null;if(this.apS)B=L.Fz.wP(B[0],B[1],p,!0,this.T_.cstr);
if(z)z.i.zZ=new fw(B[0].x,B[0].y,B[1].x-B[0].x,B[1].y-B[0].y);return this.rj(B[0],B[1],this.FN.Oi(1)&&p.Q(l5.VN),this.aQ,z.i,n)};
L.Fz.prototype.aaZ=function(z,J,p){var n=z.i.Ka(J.x,J.y);if(this.id==L.Af)return n;var B=this.T_.cstr;
if(B.t==2){var c=new fw(n.x-B.x,n.y-B.y,B.x,B.y),t=L.DJ.qP(z,c,p);n.x+=t[0];n.y+=t[1];L.DJ._B(z,c,t)}else n=L.DJ.o9(z,n,p);
return n};L.Fz.prototype.dV=function(z,J,p,n,B){if(this.ah2(z,J,p,n,B))return;if(this.np==null)return;
var c=this.aQ,t=c.length,u=B?this.aaZ(z,B,p):new i_(c[t-2],c[t-1]);if(n.Q(l5.BE))this.np=u.Br(this.aqE);
else this.aqE=u.Br(this.np);c.push(u.x,u.y);if(this.T_.shape==null)this.T_.shape=p.bA[0];var v=this.ad_(z,u,n,!0)[0],A=a.b.Ru(v);
z.W.cV=A;if(this.id!=L.Af&&this.id!=L._9&&this.id!=L.wt)L.y6.Mi(B,z.i.zZ,z,p);z.eO=!0;this.FN.dV()};
L.Fz.prototype.apW=function(z,J,p,n){var B=z[4].P();if(n){B.x-=J/2;B.y-=p/2}if(this.id==L._9){J/=2;p/=2;
B.x+=J;B.y+=p;p=-p;J=0}var c=this.rj(B,new i_(B.x+J,B.y+p),!1,this.aQ);this.ajC(z[0],z[1],z[2],c)};L.Fz.prototype.ajC=function(z,J,p,n){var B=this.id==L.Af?p._k:p.im,c=new cD(b.E.wR,!0);
if(B==0)c.data=L.Fz.a7X(n[1],p);else if(B==1){var t={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:n[1]};
c.data={rK:"set",m$:t}}else{var t={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:n[1]};c.data={rK:"draw",m$:t}}J.a(c);
if(n[1].v.classID=="customShape"&&n[1].v.Nm.v.startsWith("--")){var u=z.Q8(),v=u[0],A=u[1],$=v[A.pop()],X=$.add.vmsk,U=$.add.vogk;
a.R$.a6y(U);var w=X.P();w.u=n[0];this.s8(z,$.GU,w,U)}if(this.id==L.d9||this.id==L.XS){var u=z.Q8(),v=u[0],A=u[1],$=v[A.pop()],X=$.add.vmsk;
X.Y=[0];this.wx(z,p)}};L.Fz.prototype.mI=function(z,J,p,n,B,c){if(this.ah5(z,J,p,n,B))return;if(this.np==null)return;
var t=this.aaZ(z,B,p),u=this.UZ(p),v=this.id==L.Af?p._k:p.im,A=this.aQ,$=A.length;if(this.id==L.Af&&$<=4){}else if($<=4){t.x=Math.round(t.x);
t.y=Math.round(t.y);var X=new cD(b.E.c);X.data={R:b.J.Ym,i9:"createshape",a1G:this.apW.bind(this),aqQ:this.name,aaa:[z,J,p,n,t]};
if(!c)J.a(X)}else if($!=2){var U=this.ad_(z,t,n),w=U[0],P=z.Q8(!0),k=P[0],T=P[1],Z=T.length-1;if(v==1&&w.length>2||v==0&&u!=0&&Z!=-1&&k[T[Z]].GU>=0){w[2].j1=[1,2,3,0][u-1];
var i=k[T.pop()],V=i.add.vmsk,_=i.add.vogk,y=V.P(),E=V.P(),F=JSON.stringify(_);E.u=E.u.concat(w.slice(2));
E.Y=[a.z.ZR(E.u)-1];var d=a.R$.fd(U[1]);_.push(d?d:a.R$.Q7());this.s8(z,i.GU,E,_);this.eD(z,this.name,i.GU,y,E,null,F,JSON.stringify(_))}else if(v==0){this.ajC(z,J,p,U)}else if(v==2){L.YG.akG(w,this.T_.anta,p.Nb,J)}}this.np=null;
z.W.cV=null;z.W.qT=null;z.W.wE=[];z.i.zZ=null;z.eO=!0;this.FN.mI();this.qK(J,p)};L.Fz.prototype.zD=function(z,J,p,n,B){for(var p in z)this.T_[p]=z[p]};
L.Fz.wP=function(z,J,p,n,B){var c=z.x,t=z.y,u=J.x,v=J.y;if(B&&B.t==2){if(n){u=Math.round(u);v=Math.round(v)}c=u-B.x;
t=v-B.y}else{var A=0;if(B&&B.t==1)A=B.y/B.x;else if(p&&p.Q(l5.VN))A=1;if(A!=0){if(n){if(c<u)c=Math.floor(c);
else c=Math.ceil(c);if(t<v)t=Math.floor(t);else t=Math.ceil(t)}var $=Math.abs(u-c),X=Math.abs(v-t),U=$;
if(X/$<A)U*=X/$/A;u=u>c?c+U:c-U;v=v>t?t+U*A:t-U*A}if(p&&p.Q(l5.W0)){c-=u-c;t-=v-t}}var z=new i_(c,t),J=new i_(u,v);
if(n)L.Fz.aL6(z,J);return[z,J]};L.Fz.aL6=function(z,J){if(z.x>J.x){var p=z.x;z.x=J.x;J.x=p}if(z.y>J.y){var p=z.y;
z.y=J.y;J.y=p}z.x=Math.floor(z.x);z.y=Math.floor(z.y);J.x=Math.ceil(J.x);J.y=Math.ceil(J.y)};L.Fz.a6G=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
L.Fz.tR=function(z,J){var p=L.Fz.a6G(),n=p.Usng.v.Type;if(J==null){n.v=a.G(a_.J3[z]);n.v.classID=["solidColorLayer","gradientLayer","patternLayer"][z]}else L.vJ.FW(J,n.v,z);
return{rK:"make",m$:p}};L.Fz.a7X=function(z,J){var p=J.Mq,n=a.G(J.p_);n.fillEnabled.v=p.ht!=0;var B=L.Fz.tR(Math.max(0,p.ht-1),p._H);
B.m$.Usng.v.Shp=z;B.m$.Usng.v.strokeStyle={t:"Objc",v:n};return B};L.Wc=function(z){L.YG.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][z],[L.PO,L.a4$,L.amN,L.aAc,L.auK][z],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][z]);
this.CC=z;this.O0=null;this.ku=null;this.N_=null;this.Rs=null;this.aBN=0;this.uo=null;this.QK=!1;this.YC=!1;
this.auH=!1;this.nU=!1;this.aJp=!1;this.asR=!1;this._m=0};L.Wc.prototype=new L.YG;L.Wc.prototype.Ae=function(z){return this.N_!=null};
L.Wc.prototype.qA=function(z,J,p,n){if(!n.Q(l5.W0))this.aJp=!1;if(this.CC==1&&(n.Q(l5.mP)||n.Q(l5.IB))&&this.LA(l5.mP,z)){this.$P({R:"remove",O5:!0},J,z,n,p);
return}if(this.ku)this.ee(z,J,p,n,this.ku);L.YG.prototype.qA.call(this,z,J,p,n)};L.Wc.prototype.q_=function(z,J,p,n){var B=z.i.Ka(n.x,n.y,!0),c=L.DJ.o9(z,B,J),t=this.CC,u=J._k,v=this.aBN;
if(u==2)u=0;var A=z.Q8(),$=A[0],X=A[1],U=X.length==0?null:$[X.pop()],w=U?U.add.vmsk:null;if(u==0&&v!=0&&U&&U.GU>=0)u=1;
var P=L.DT(z,n);if(t<=1&&u==0&&(w==null||w.Vd.length==0&&a.z.Y8(w.u,B,!0,P).GU==-1))return["new",!0];
if(t<=1&&u==1&&w==null)return["new"];if(w==null)return[null];var k=w.u,T=a.z.Lp(k,new fw(B.x-P,B.y-P,P*2,P*2),w.Vd,!0),Z=a.z.Y8(k,B,!0,P);
if(t<3&&Z.GU!=-1&&T[0].length==0)return["add"];if((T[3]!=0||Z.GU!=-1)&&(p.Q(l5.W0)||t==4))return["cnv"];
var i=T[0].length==1&&k[T[0][0]-1]&&(k[T[0][0]-1].cy!=null||k[T[0][0]-1].I==0||k[T[0][0]-1].length==1);
if(i)return[t==0||t==3?"del":t==2?"mva":"mov"];if(t<2){var V=a.z.Qq(k,a.z.y8(k,w.Vd[0]));if(V!=-1&&i_.mT(B,k[V+1].cy)<P)return["fin"];
if(w.Vd.length!=1)return["new"];return["nrm"]}return[null]};L.Wc.prototype.lW=function(z,J,p,n,B){var c=z.E0.indexOf(0)!=-1,t=z.i.Ka(B.x,B.y,!0),u=L.DJ.o9(z,t,p),v=this.CC,A=p._k,$=this.aBN;
if(A==2)A=0;var X=z.Q8(A==1),U=X[0],w=X[1],P=U[w.pop()],k=P?P.add.vmsk:null;if(A==0&&$!=0&&P&&P.GU>=0)A=1;
var T=L.DT(z,B),Z=this.q_(z,p,n,B);if(Z[0]==null)return;if(Z[1]){var i=new cD(b.E.wR,!0),V=a.R$.TO("customShape",[0,0,1,1],null,null,null,"--");
i.data=L.Fz.a7X(V,p);J.a(i);this.asR=!0;X=z.Q8(!0);U=X[0];w=X[1];P=U[w.pop()];k=P.add.vmsk;k.u=k.u.slice(0,2)}var _=P.add.vogk,y=k.u;
this.N_=k.P();this.Rs=JSON.stringify(_);if(P.name=="Work Path"&&!c){y=k.u=y.slice(0,2);_=[]}this.O0=B;
this.alU(J,p);var E=a.z.Lp(y,new fw(t.x-T,t.y-T,T*2,T*2),k.Vd,!0),F=a.z.Y8(y,t,!0,T);if(Z[0]=="add"){var d=a.z.Qq(y,F.GU),x=y[d].length;
while(x<=F.Rl){F.Rl-=x;d+=x+1}var f={I:4,FV:u.P(),cy:u.P(),M3:u.P()},Q=d+2+F.Rl,m=d+1+(1+F.Rl)%x,H=y[Q-1],S=y[m];
if(!H.cy.Vm(H.M3)||!S.FV.Vm(S.cy)){var R=a.b.awM(H.cy,H.M3,S.FV,S.cy,F.md);H.M3=R[0];f.FV=R[1];f.cy=R[2];
f.M3=R[3];S.FV=R[4]}this.nU=!0;y.splice(Q,0,f);y[d].length++;k.Vd=[Q];if(v==1){f.FV.x+=2;this.KT(k)}}else if(Z[0]=="cnv"){var I=-1;
if(E[0].length!=0){I=E[0][0];var D=y[I],G=D.I>=3?3:0,C=I==y.length-1;D.I=G+1;if(!(v==4&&n.Q(l5.W0))&&!(v==0&&C))D.FV=D.cy.P();
D.M3=D.cy.P();this.nU=!0;if(v==0&&!C)this.aJp=!0}else if(E[1].length+E[2].length!=0){var I=E[2][0];if(I==null){I=E[1][0];
this.YC=!0}var D=y[I],G=D.I>=3?3:0;D.I=G+2}else I=a.z.Qq(y,F.GU)+F.Rl+1;if(I!=-1)k.Vd=[I]}else if(Z[0]=="mva"){this.auH=!0;
k.Vd=[E[0][0]]}else if(Z[0]=="mov"){var I=E[0][0],O=y[I],Y=O.cy,h=Math.abs(a.b.NL(O.FV.x,O.FV.y,Y.x,Y.y,O.M3.x,O.M3.y));
if(h>.01){O.FV=Y.P();O.M3=Y.P()}if(Date.now()-this._m<300){var r=O.FV.Vm(Y)&&O.M3.Vm(Y);if(r)O.M3.offset(2,2);
else{O.FV=Y.P();O.M3=Y.P()}this._m=0}else this._m=Date.now();k.Vd=[I];this.KT(k)}else if(Z[0]=="del"){var I=E[0][0],d=a.z.Qq(y,a.z.y8(y,I)),V=y[d],W=d+V.length;
if(I!=W||V.I==0){y[d].length--;y.splice(I,1);W--;if(V.length==0){y.splice(d,1);W=-1}}if(W!=-1)k.Vd=[W];
else k.Vd=[]}else if(Z[0]=="fin"){var d=a.z.Qq(y,a.z.y8(y,k.Vd[0]));y[d].I=0;k.Vd=[d+1];this.uo=u;this.QK=!0;
this.nU=!0}else{var N=0;if(Z[0]=="new"){k.Y=[a.z.ZR(y)];y.push({I:3,length:1,j1:[1,2,3,0][Math.max(0,$-1)],VR:2,RX:0,Zt:0});
N=y.length;_.push(a.R$.Q7())}if(Z[0]=="nrm"){var d=a.z.Qq(y,a.z.y8(y,k.Vd[0])),O=d+y[d].length;y[d].length++;
N=O+1;if(O==d+1&&y[d].length!=2)N=d+1}if(n.Q(l5.VN)&&y[N-1]&&y[N-1].cy)u=L.PK.Kr(y[N-1].cy,u);var f={I:4,FV:u.P(),cy:u.P(),M3:u.P()};
y.splice(N,0,f);k.Vd=[N];this.uo=u;if(this.CC==1){f.FV.x+=2;this.KT(k)}this.nU=!0;this._m=Date.now()}this.s8(z,P.GU,k,_);
z.eO=!0};L.Wc.prototype.KT=function(z){var J=z.u,p=z.Vd[0],n=a.z.Qq(J,a.z.y8(J,p))+1,B=J[n-1].length;
if(B<3)return;var c=[],t=[];for(var g=0;g<5;g++){var u=n+(p-n-2+g+5*B)%B;t.push(u);var v=J[u].cy;c.push(v.x,v.y)}var A=a.b.aeY(c);
for(var g=1;g<4;g++){var $=g*4,X=J[t[g]],v=X.cy,U=X.FV.Vm(v)&&X.M3.Vm(v);if(!U){X.FV.GK(A[$],A[$+1]);
X.M3.GK(A[$+2],A[$+3])}else{X.FV=v.P();X.M3=v.P()}}};L.Wc.prototype.ee=function(z,J,p,n,B){var c=this.q_(z,p,n,B)[0],t=null;
if(c==null)t="default";else t=L.Wc.L$(c);var u=new cD(b.E.c,!0);u.data={R:b.J.tk,BZ:t};J.a(u)};L.Wc.prototype.dV=function(z,J,p,n,B){this.ku=B;
if(this.N_==null){this.ee(z,J,p,n,B);return}var c=this.O0;if(c&&i_.mT(c,B)<L.DT({i:{XP:1}},B))return;
this.O0=null;var t=z.i.Ka(B.x,B.y),u=L.DJ.o9(z,t,p),v=z.Q8(p._k==1),A=v[0],$=v[1],X=A[$.pop()],U=X.add.vmsk,w=U.u,P=w[U.Vd[0]];
if(this.CC==1){var k=P.cy.Vm(P.FV)&&P.cy.Vm(P.M3);P.cy=t.P();P.FV=t.P();P.M3=t.P();if(!k)P.FV.x+=2;this.KT(U)}else if(n.Q(l5.BE)){if(n.Q(l5.VN))u=L.PK.Kr(this.uo,u);
var T=P.cy.Br(P.M3),Z=P.FV.Br(P.cy);P.M3=u;P.cy=u.add(T);P.FV=P.cy.add(Z)}else if(this.auH){var i=P.FV.Br(P.cy),V=P.M3.Br(P.cy);
P.cy=u;P.FV=P.cy.add(i);P.M3=P.cy.add(V)}else{if(n.Q(l5.VN))u=L.PK.Kr(P.cy,u);if(this.YC){var _=P.FV;
P.FV=P.M3;P.M3=_}if(this.QK){var y=i_.mT(P.cy,u),E=y==0?0:i_.mT(P.cy,P.M3)/y;P.M3.x=P.cy.x+E*(u.x-P.cy.x);
P.M3.y=P.cy.y+E*(u.y-P.cy.y)}else P.M3=u;var F=P.I>=3?3:0;if(this.nU&&!this.aJp)P.I=F+n.Q(l5.W0)?2:1;
if(P.I-F==1){P.FV=P.cy.add(P.cy.Br(u))}this.uo=u;if(this.YC){var _=P.FV;P.FV=P.M3;P.M3=_}}this.s8(z,X.GU,U,X.add.vogk);
z.eO=!0};L.Wc.prototype.mI=function(z,J,p,n,B){if(this.N_==null)return;var c=z.Q8(p._k==1),t=c[0],u=c[1],v=t[u.pop()],A=v.add.vmsk,$=v.add.vogk;
if(this.QK){A.Vd=[];this.s8(z,v.GU,A,v.add.vogk)}var X=this.N_.u.length,U=A.u.length;if(!this.asR)this.eD(z,this.QK?"Close Path":(X==U?"Move":X<U?"Add":"Delete")+" Anchor Point",v.GU,this.N_,A.P(),null,this.Rs,JSON.stringify($));
this.asR=!1;this.QK=!1;this.YC=!1;this.auH=!1;this.nU=!1;this.N_=null};L.Wc.prototype.zD=function(z,J,p,n,B){this.aBN=z.binop};
L.Wc.aKZ={};L.Wc.L$=function(z){var J=L.Wc.aKZ[z],p=64,u=2,v=10,A=25,$=5,X=35;if(J)return J;var n=new fw(0,0,p,p),B=-.38,c=a.za(p,p);
c.clearRect(0,0,p,p);var t=L.$q();c.save();c.lineWidth=u;c.translate(4-u/2,4-u/2);c.rotate(B);if(t<1.5){var U=.66;
v*=U;A*=U;$*=U;X*=U}c.lineJoin="miter";c.beginPath();if(z=="cnv"){c.moveTo(-v,A);c.lineTo(0,0);c.lineTo(v,A);
c.stroke()}else{c.moveTo(0,0);c.lineTo(v,A);c.lineTo($,X);c.lineTo(-$,X);c.lineTo(-v,A);c.lineTo(0,0);
c.moveTo(0,0);c.lineTo(0,A);c.fillStyle="white";c.fill();c.stroke();c.fillStyle="black";c.fillRect(-$-1,X,2*$+2,6);
c.beginPath();c.arc(0,A-2,2.5,0,2*Math.PI,!1);c.fill();c.rotate(-B);c.translate(24,7);c.beginPath();
if(z=="add"||z=="del"||z=="new"){c.moveTo(-5,0);c.lineTo(5,0);if(z=="add"){c.moveTo(0,-5);c.lineTo(0,5)}if(z=="new"){c.moveTo(-2.5,-4.5);
c.lineTo(2.5,4.5);c.moveTo(2.5,-4.5);c.lineTo(-2.5,4.5)}}else if(z=="fin")c.arc(0,0,5,0,2*Math.PI,!1);
else if(z=="mov"||z=="mva"){for(var g=0;g<4;g++){c.moveTo(0,0);c.lineTo(-7,0);var w=1+u;c.moveTo(-7+w,-w);
c.lineTo(-7,0);c.lineTo(-7+w,w);c.rotate(Math.PI/2)}}c.stroke()}c.restore();var P=new Uint8Array(c.getImageData(0,0,p,p).data.buffer),k=a.j(p*p);
a.Tm(P,k,3);var T=a.j(p*p),Z=[3,5,3,4,8,4,3,5,3];Z=a.iM.ns(Z);a.iM.fg(k,T,p,p,Z);for(var g=0;g<T.length;
g++)T[g]=Math.min(255,T[g]*2);a.iM.fg(T,k,p,p,Z);for(var g=0;g<k.length;g++)k[g]=Math.min(255,k[g]*2);
var i=P.slice(0);P.fill(255);a.DE(k,P,3);a.B.Oe("norm",i,n,P,n,n,1);L.Wc.aKZ[z]=J={ps:P,Dm:n,wG:new i_(4,4)};
return J};L.A0=function(){L.Fz.call(this,[10,30],L.Af,"tools/fpen",!1)};L.A0.prototype=new L.Fz;L.A0.prototype.rj=function(z,J,p,n,B,c){var t=n.length-1,u=Math.sqrt((n[t-1]-n[0])*(n[t-1]-n[0])+(n[t]-n[1])*(n[t]-n[1]))<6/B.XP;
return[a.z.Id(n,u,c),a.R$.TO("customShape",[0,0,1,1],null,null,null,"--")]};L.nA=function(){L.YG.call(this,[10,27],L.q4,"tools/pselect");
this.Dk=null;this.sJ=!1;this.ss=null;this.N_=null;this.agO=null;this.Rs=null;this.aKz=null;this.qf=null;
this.k$=null;this.qg=null};L.nA.prototype=new L.YG;L.nA.prototype.Ae=function(z){return z.Wj};L.nA.ru=function(z,J){var p=z.Q8(),n=p[0],B=p[1];
for(var g=0;g<B.length;g++){var c=n[B[g]],t=c.add.vmsk;for(var u=0;u<t.IS.length;u++){var v=a.z.aqb(t.u,t.IS[u]);
if(v==null)continue;var A=i_.mT(v,J);if(A<5*L.$q()/z.i.XP){var $=z.U[c.GU-1e6].add.TySh,X=$.qU.Curve,U=$.h,w=X.Reversed;
X.Reversed=!1;var X=e1.Ji($.qU.Curve);X.Reversed=w;a.b.h(X[0],U,X[0]);return[X,u,U.k6*U.JH-U.X*U.GQ,c]}}}};
L.nA.alH=function(z,J,p){var n=z[0][0],B=a.b.dy(n,p.x,p.y);J.IS[z[1]]=z[0][1][B];var c=n[B*2],t=n[B*2+1],u=(n[B*2+2]-c)*(p.y-t)-(n[B*2+3]-t)*(p.x-c);
if(z[2]<0)u=-u;J.xa=u>0};L.nA.prototype.lW=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=z.Q8(),u=t[0],v=t[1],A,$;
for(var g=0;g<v.length;g++){var X=u[v[g]],U=X.add.vmsk,w=a.z.Y8(U.u,c).GU;if(w!=-1){this.ss=A=X;$=w}}var P=L.nA.ru(z,c);
if(P){this.k$=P;this.ss=A=P.pop();$=0}if(A!=null){var U=A.add.vmsk;U.Vd=[];var k=U.Y.indexOf($);if(n.Q(l5.VN)){if(k==-1){U.Y.push($);
this.sJ=!0}else U.Y.splice(k,1)}else{if(k==-1)U.Y=[$];this.sJ=!0}this.qf=a.z.nd(U.u,U.Y)}this.Dk=c;this.qg=new aS(c);
z.JS=!0;z.eO=!0};L.nA.prototype.dV=function(z,J,p,n,B){if(this.Dk==null)return;var c=z.i.Ka(B.x,B.y);
if(this.sJ){c=this.qg.U$(c,n);var t=this.ss;if(this.N_==null){this.N_=this.agO=t.add.vmsk.P();this.Rs=this.aKz=JSON.stringify(t.add.vogk);
if(n.Q(l5.W0)){var u=this.N_.P(),v=JSON.parse(this.Rs),A=L.YG.XQ(u,v);L.YG.Vp(A,u,v);this.agO=u;this.aKz=JSON.stringify(v)}}var u=this.agO.P(),v=JSON.parse(this.aKz);
if(this.k$){L.nA.alH(this.k$,u,c)}else{var $=this.qf.P(),X=$.x,U=$.y;$.offset(c.x-this.Dk.x,c.y-this.Dk.y);
$.x=Math.round($.x);$.y=Math.round($.y);var w=L.DJ.qP(z,$,p),P=new fA(1,0,0,1,$.x-X+w[0],$.y-U+w[1]);
a.z.Gn(u.u,P,u.Y);a.R$.h(v,a.F.R8(P),u.Y);L.DJ._B(z,$,w)}this.s8(z,t.GU,u,v)}else{var k=this.Dk;z.W.cV=a.b.e3(new fw(k.x,k.y,c.x-k.x,c.y-k.y));
z.eO=!0}};L.nA.prototype.mI=function(z,J,p,n,B){if(this.Dk==null)return;var c=z.i.Ka(B.x,B.y),t=this.ss,u=t?t.add.vmsk:null;
if(this.sJ){var v=JSON.stringify(t.add.vogk);if(!this.Dk.Vm(c))this.eD(z,"Move Paths",t.GU,this.N_,u,null,this.Rs,v);
if(z!=null&&z.W.qT){z.W.qT=null;z.eO=!0}}else{var A=z.Q8(),$=A[0],X=A[1];if(X.length!=0){var U=$[X[0]];
u=U.add.vmsk;var w=this.Dk,P=new fw(w.x,w.y,c.x-w.x,c.y-w.y),k=a.z.aJh(u.u,P);if(n.Q(l5.VN)){for(var g=0;
g<k.length;g++)if(u.Y.indexOf(k[g])==-1)u.Y.push(k[g])}else u.Y=k}z.W.cV=null;z.eO=!0}this.Dk=null;this.N_=null;
this.k$=null;this.sJ=!1;this.qg=null};L.nA.prototype.aA5=function(z){var J=this.ss,p=this.CT,n=J.add.vmsk,B=J.add.vogk,c=B.length;
if(z=="confirm"){if(n!=this.N_)this.eD(p,[12,94,2],J.GU,this.N_,n,null,this.Rs,JSON.stringify(B));this.Cj();
return}if(z=="cancel"){this.s8(this.CT,this.ss.GU,this.N_.P(),JSON.parse(this.Rs));this.Cj()}else{var n=this.N_.P(),B=JSON.parse(this.Rs);
n.u=a.z.acE(n.u,n.Y,z);this.s8(this.CT,this.ss.GU,n,B)}};L.nA.prototype.Cj=function(){this.ss=null;this.N_=null;
this.Dk=null;this.RA=this.bN=-1;this.qg=null};L.nA.prototype.BL=function(z,J,p,n){L.YG.prototype.BL.call(this,z,J,p,n);
if(p.Ms!=this.id)return;if(z.Y.length==0)return;var B=z.Q8(),c=B[0],t=B[1];if(t.length==0)return;var u=c[t[0]],v=u.add.vmsk,A=u.add.vstk,$=u.add.vogk,X=new cD(b.E.c,!0);
X.data={R:b.J.jv,l:this.id,Kq:"main",j9:v?v:null,R$:$};J.a(X)};L.nA.prototype.zD=function(z,J,p,n,B){var c=z.qY;
if(c.j9){var t=p.Q8(),u=t[0],v=t[1];if(v.length==0)return;var A=u[v[0]],$=A.add.vmsk.P(),X=JSON.stringify(A.add.vogk),U=c.j9;
this.s8(p,A.GU,U,c.R$);var w=[18,5];if($.u.length==U.u.length)w=$.Y[0]==U.Y[0]?"Fill Rule":"Path Order";
this.eD(p,w,A.GU,$,U,null,X,JSON.stringify(c.R$))}};L.o3=function(){L.YG.call(this,[10,28],L.J7,"tools/dselect");
this.RA=-1;this.bN=-1;this.gi=null;this.Dk=null;this._u=null;this.ss=null;this.N_=null;this.Rs=null;
this.Fd=0;this.mC={psnap:!1};this.qg=null};L.o3.prototype=new L.YG;L.o3.prototype.Ae=function(z){return z.Wj};
L.o3.prototype.zD=function(z){this.mC=z};L.o3.prototype.$P=function(z,J,p,n,B){if(z.R=="crnr"){if(p==null)return;
var c=p.Q8(),t=c[0],u=c[1];if(u.length==0){alert("No paths selected");return}var v=t[u[0]],A=v.add.vmsk;
if(A.Vd.length==0){alert("No corners selected");return}for(var g=0;g<A.Vd.length;g++){var $=A.u[A.Vd[g]];
if(!$.cy.Vm($.M3)||!$.cy.Vm($.FV)){alert("Only sharp corners can be rounded");return}}if(this.N_==null){this.N_=v.add.vmsk.P();
this.Rs=JSON.stringify(v.add.vogk);this.ss=v;this.CT=p}var X=new cD(b.E.c,!0);X.data={R:b.J.Ym,i9:"cornerradius",PY:5,RD:this.anY.bind(this)};
J.a(X)}else L.YG.prototype.$P.call(this,z,J,p,n,B)};L.o3.prototype.anY=function(z){if(z=="confirm"){var J=this.CT,p=this.ss,n=p.add.vmsk,B=p.add.vogk;
this.eD(J,[12,94,0],p.GU,this.N_,n,null,this.Rs,JSON.stringify(B));this.Cj();return}var n=this.N_.P(),B=JSON.parse(this.Rs),c=n.Vd;
if(z=="cancel"){}else{var t=[];for(var g=0;g<c.length;g++){var u=c[g],v=a.z.y8(n.u,u,!0),X=0;if(t.indexOf(v)!=-1)continue;
t.push(v);var A=a.z.Qq(n.u,v,!0),$=n.u[A].length,U=[];for(var w=0;w<$;w++){var P=n.Vd.indexOf(A+w+1)==-1?0:z;
U.push(P);if(P!=0)X++}a.z.EH(n.u,A,U);for(var w=0;w<c.length;w++)if(c[w]>A+$)c[w]+=X}this.Qw(n,B);n.Vd=[]}this.s8(this.CT,this.ss.GU,n,B);
if(z=="cancel")this.Cj()};L.o3.prototype.disable=function(z,J,p,n){this.VV(z)};L.o3.prototype.lW=function(z,J,p,n,B){this.VV(z);
var c=z.i.Ka(B.x,B.y),X,U,w;this.gi=c.P();var t=z.Q8(),u=t[0],v=t[1];if(v.length==0)return;var A=L.DT(z,B),$=new fw(c.x-A,c.y-A,A*2,A*2);
for(var P=0;P<v.length;P++){X=this.ss=u[v[P]];U=X.add.vmsk;w=a.z.Lp(U.u,$);if(w[0].length+w[1].length+w[2].length!=0)break}var k=[!1,!1,!1];
for(var g=0;g<3;g++){for(var T=0;T<w[g].length;T++){var Z=w[g][T],i=U.u[Z];if(U.Vd.indexOf(Z)!=-1||g==1&&U.Vd.indexOf(Z-1)!=-1&&!i.cy.Vm(i.FV)||g==2&&U.Vd.indexOf(Z+1)!=-1&&!i.cy.Vm(i.M3)){w[g]=[Z];
k[g]=!0;break}}}if(w[0].length!=0&&(k[0]||!k[1]&&!k[2])){var V=w[0][0],_=U.Vd.indexOf(V);if(n.Q(l5.VN)){if(_==-1)U.Vd.push(V);
else{U.Vd.splice(_,1);z.eO=!0;return}}else if(_==-1)U.Vd=[V];this.RA=V;this.bN=0}else if(w[1].length!=0&&k[1]){this.RA=w[1][0];
this.bN=1}else if(w[2].length!=0&&k[2]){this.RA=w[2][0];this.bN=2}else{var y=a.z.Y8(U.u,c,!0,A);if(y.GU==-1)this.Dk=c;
else{this._u=y;var E=a.z.Qq(U.u,y.GU);U.Y=[y.GU];U.Vd=[E+1+y.Rl]}}if(this.N_==null){this.N_=X.add.vmsk.P();
this.Rs=JSON.stringify(X.add.vogk)}this.qg=new aS(c);z.eO=!0};L.o3.prototype.dV=function(z,J,p,n,B){if(z==null)return;
var c=z.i.Ka(B.x,B.y),t=this.ss;if(this.RA!=-1){var u=this.N_.P(),v=t.add.vogk,A=u.u[this.RA];A=[A.cy,A.FV,A.M3][this.bN];
if(n.Q(l5.VN)){if(this.bN==0){c=this.qg.U$(c,n);c.x+=A.x-this.gi.x;c.y+=A.y-this.gi.y}else c=L.PK.Kr(u.u[this.RA].cy,c)}else{if(this.mC.psnap){c.x=Math.round(c.x);
c.y=Math.round(c.y)}c=L.DJ.o9(z,c,p)}if(this.bN==0){var $=new fA(1,0,0,1,c.x-A.x,c.y-A.y);a.z.Gn(u.u,$,null,u.Vd)}else{var X=u.u[this.RA];
if(n.Q(l5.W0)&&(X.I==1||X.I==4))X.I++;L.o3.OU(X,c,this.bN==1)}this.Qw(u,v);this.s8(z,t.GU,u,v)}else if(this.Dk!=null){var U=this.Dk;
z.W.cV=a.b.e3(new fw(U.x,U.y,c.x-U.x,c.y-U.y));z.eO=!0}else if(this._u!=null){var u=this.N_.P(),v=t.add.vogk,w=this._u,P=this.gi,k=a.z.Qq(u.u,w.GU),T=u.u[k].length,Z,i=w.md;
if(i<=1/6)Z=0;else if(i<=.5)Z=Math.pow((6*i-1)/2,3)/2;else if(i<=5/6)Z=(1-Math.pow((6*(1-i)-1)/2,3))/2+.5;
else Z=1;var V=c.x-P.x,_=c.y-P.y,y=(1-Z)/(3*i*(1-i)*(1-i)),E=Z/(3*i*i*(1-i)),F=u.u[k+1+w.Rl];F.M3.offset(y*V,y*_);
var d=u.u[k+1+(w.Rl+1)%T];d.FV.offset(E*V,E*_);L.o3.OU(F,F.M3,!1);L.o3.OU(d,d.FV,!0);this.Qw(u,v);this.s8(z,t.GU,u,v)}else{var x=z.Q8(),f=x[0],Q=x[1],t,u,S;
if(Q.length==0)return;var m=L.DT(z,B),H=new fw(c.x-m,c.y-m,m*2,m*2);for(var R=0;R<Q.length;R++){t=f[Q[R]];
u=t.add.vmsk;S=a.z.Lp(u.u,H);if(S[0].length+S[1].length+S[2].length!=0)break}this.VV(z);for(var g=0;
g<3;g++){for(var I=0;I<S[g].length;I++){var D=S[g][I],G=u.u[D];G=g==0?G.cy:g==1?G.FV:G.M3;z.W.hT.push(G.x,G.y);
z.eO=!0}}}};L.o3.prototype.VV=function(z){if(z&&z.W.hT.length!=0){z.W.hT=[];z.eO=!0}};L.o3.prototype.mI=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=this.ss,u=t?t.add.vmsk:null,v=t?t.add.vogk:null;
if(this.RA!=-1||this._u){if(Date.now()-this.Fd<300){var A=u.u[this.RA],$=this.bN,X=null;if($==0){var U=A.FV.Vm(A.cy),w=A.M3.Vm(A.cy);
if(!U&&!w){X="Anchor Type";if(A.I==1||A.I==4)A.I++;else{A.I--;A.M3=A.cy.add(A.cy.Br(A.FV))}}else{X="Add Handles";
if(U&&w){A.FV.x-=30;A.M3.x+=30}else if(U)A.FV=A.cy.add(A.cy.Br(A.M3));else if(w)A.M3=A.cy.add(A.cy.Br(A.FV))}}else{X="Remove Handle";
if($==1)A.FV.IQ(A.cy);else A.M3.IQ(A.cy)}this.Qw(u,v);this.s8(z,t.GU,u,v);this.eD(z,X,t.GU,this.N_,u,null,this.Rs,JSON.stringify(v))}else if(this._u||!this.gi.Vm(c)){this.eD(z,"Drag Anchors",t.GU,this.N_,u,null,this.Rs,JSON.stringify(v))}this._u=null;
this.Fd=Date.now()}else if(this.Dk!=null){var P=this.Dk,k=new fw(P.x,P.y,c.x-P.x,c.y-P.y);if(k.r<0)k.x+=k.r;
if(k.$<0)k.y+=k.$;k.r=Math.abs(k.r);k.$=Math.abs(k.$);var T=a.z.Lp(u.u,k);u.Vd=T[0].concat(n.Q(l5.VN)?u.Vd:[]);
z.W.cV=null}this.Cj();z.eO=!0};L.o3.prototype.Cj=function(){this.ss=null;this.N_=null;this.Dk=null;this.RA=this.bN=-1;
this.qg=null};L.o3.prototype.Qw=function(z,J){for(var g=0;g<z.Vd.length;g++){var p=a.z.y8(z.u,z.Vd[g]);
a.R$.oo(J,p)}};L.o3.prototype.qA=function(z,J,p,n){if(z==null)return;var B=z.Q8(),c=B[0],t=B[1];if(t.length==0)return;
var u=c[t[0]],v=u.add.vmsk;if(v==null||v.Vd.length==0)return;var A=u.add.vogk,$=JSON.stringify(A),X=n.wK(z?z.i.rH:0);
if(X.x!=0||X.y!=0){var U=v.P(),w=v.P(),P=new fA(1,0,0,1,X.x,X.y);a.z.Gn(w.u,P,null,w.Vd);this.Qw(w,A);
this.s8(z,u.GU,w,A);this.eD(z,"Move Anchors",z.Y[0],U,w.P(),!0,$,JSON.stringify(A))}if(n.Q(l5.mP)||n.Q(l5.IB))this.$P({R:"remove",O5:!0,anL:!0},J,z,n,p)};
L.o3.prototype.eD=function(z,J,p,n,B,c,t,u){var v=z.HE();if(c&&v!=null&&v.l==this&&v.data.ail&&v.data.Lw==p&&JSON.stringify(v.data.a9C.Vd)==JSON.stringify(n.Vd)){v.data.A$=B;
v.data.a7q=u}else{var v=new dY(J,this);v.data={Lw:p,a9C:n,A$:B,ail:c,aCL:t,a7q:u};z.kL(v)}};L.o3.OU=function(z,J,p){var n=z.FV,B=z.M3;
if(!p){n=z.M3;B=z.FV}n.GK(J.x,J.y);if(z.I==1||z.I==4){var c=i_.mT(n,z.cy),t=i_.mT(B,z.cy);if(t!=0){B.x=z.cy.x-(n.x-z.cy.x)*(t/c);
B.y=z.cy.y-(n.y-z.cy.y)*(t/c)}}};L.Rect=function(){L.Fz.call(this,[10,32],L.d9,"tools/rect",!0)};L.Rect.prototype=new L.Fz;
L.Rect.prototype.rj=function(z,J,p){var n=this.T_.crad,B=J.x-z.x,c=J.y-z.y;return[a.z.dZ.Rect(z.x,z.y,B,c,n),a.R$.TO("Rctn",[z.x,z.y,J.x,J.y],[n,n,n,n])]};
L.xJ=function(){L.Fz.call(this,[10,33],L.XS,"tools/ellipse",!0)};L.xJ.prototype=new L.Fz;L.xJ.prototype.rj=function(z,J,p){var n=J.x-z.x,B=J.y-z.y;
return[a.z.dZ.xJ(z.x,z.y,n,B),a.R$.TO("Elps",[z.x,z.y,J.x,J.y])]};L.IM=function(){L.Fz.call(this,[10,34],L._9,"tools/pshape",!1);
this.T_.aopts=[!1,!0,50,100,0]};L.IM.prototype=new L.Fz;L.IM.prototype.rj=function(z,J,p){var n=this.T_.pshape,B=this.T_.crad,c=this.T_.irad/100,t=this.T_.sides,u=this.T_.width,v=this.T_.aopts,A=this.T_.length,$=this.T_.rows,X=this.T_.cols,U=this.T_.brdr,V;
J=J.P();var w=z.x,P=z.y,k=J.x,T=J.y,Z=Math.sqrt((k-w)*(k-w)+(T-P)*(T-P)),i=Math.atan2(-T+P,k-w);if(p)i=Math.round(i*180/Math.PI/15)*15*Math.PI/180;
if(n==0)V=a.z.dZ.SX(w,P,Z,i,t,B);if(n==1)V=a.z.dZ.aoN(w,P,Z,i,t,B,c);if(n==2)V=a.z.dZ.Pi(z.x,z.y,J.x,J.y,u,v);
if(n==3){if(w>k){var _=w;w=k;k=_}if(P>T){var _=P;P=T;T=_}if(p){if(X>$)T=P+(k-w-U)*$/X+U;else k=w+(T-P-U)*X/$+U}V=a.z.dZ.aHL(w,P,k,T,$,X,U)}if(n==4)V=a.z.dZ.af0(w,P,Z,i,A);
return[V,a.R$.TO("customShape",[z.x,z.y,J.x,J.y],null,null,null,"--")]};L.IM.prototype.qA=function(z,J,p,n){L.Fz.prototype.qA.call(this,z,J,p,n);
var B=n.wK(),c=this.T_,t,u;if(B.y!=0){var v=-B.y,A=c.pshape;if(A<2){t="sides";u=Math.max(3,Math.min(100,c.sides+v))}else if(A==2){t="width";
u=Math.max(1,Math.min(100,c.width+v))}else if(A==3){t="length";u=Math.max(4,Math.min(40,c.length+v))}}if(B.x!=0){t="pshape";
u=Math.max(0,Math.min(3,c.pshape+B.x))}if(t){var $=new cD(b.E.c,!0),X={};X[t]=u;c[t]=u;$.data={R:b.J.jv,l:this.id,el:"vals",ap0:X};
J.a($);this.dV(z,J,p,n)}};L.kY=function(){L.Fz.call(this,[10,35],L.wt,"tools/line",!1)};L.kY.prototype=new L.Fz;
L.kY.prototype.rj=function(z,J,p){var n=this.T_.width,B=this.T_.aopts;J=J.P();if(p){J=L.PK.Kr(z,J)}if(ex==1)n=0;
return[a.z.dZ.Pi(z.x,z.y,J.x,J.y,n,B),a.R$.TO("Ln",null,null,[z.x,z.y,J.x,J.y],n,null,B)]};L.h_=function(){L.Fz.call(this,[10,31],L.Sv,"tools/cshape",!0)};
L.h_.prototype=new L.Fz;L.h_.prototype.rj=function(z,J,p){var n=this.T_.shape,B=n.J4.r/n.J4.$,c=bi.jP.Ox(n.u);
J=J.P();if(p){J.y=z.y+(J.x-z.x)/B}var t=J.x-z.x,u=J.y-z.y;a.z.Gn(c,new fA(t,0,0,u,z.x,z.y));return[c,a.R$.TO("customShape",[z.x,z.y,J.x,J.y],null,null,null,n.vS)]};
L.tp=function(z,J,p){L.y6.call(this,z,J,p);this.Cp=0;this.U=null;this.xH=null;this.f=null;this.R4=1;
this.Ek=0;this.Ii=!0;this.uq=!1;this.cursor=null;this.s4=null;this.sI=null;this._h=!1;this.B3=null;this.abV=0;
this.gp=null;this.CC=0;this.$_=null;this.nW=null;this.Js=null;this.i7=null;this.alu=null;this.rg=null};
L.tp.prototype=new L.y6;L.tp.ul=function(z,J,p){var n={classID:"null",null:dB.DG(p?"Lyr":"Dcmn",!0)};
if(z)n.Angl={t:"UntF",v:{type:"#Ang",val:J}};else n.Axis={t:"enum",v:{Ornt:J}};return{rK:z?"rotateEventEnum":"flip",m$:n}};
L.tp.prototype.uH=function(z,J,p,n,B){var c=new cD(b.E.c,!0);c.data={R:b.J.jv,l:this.id,bW:B,RV:z,f:p};
J.a(c);this.Wx=!1};L.tp.prototype.Ae=function(z){return this.nW&&this.nW.amZ()};L.tp.prototype.$P=function(z,J,p,n,B){this.f=B;
if(z.R=="again"&&this.gp==null)return;if(z.R=="cmode"){if(p.depth==z.K)return;var c=L.tp.JV(p),t=L.tp.HJ(p,c,!0),u=new dY("Mode: "+p.depth+"-Bit to "+z.K+"-Bit",this);
u.data={I:0,U:c,xH:t,vh:!0,depth:p.depth};p.kL(u);L.tp.agC(p,c,z.K);return}if(z.R=="cprof"){var v=p.JM(),c,t;
v=v?v[0]:null;var A=b$.Dn[b$.Xj.indexOf(z.K)];if(A)A=kL.r7.get(A);if(z.ajS){c=L.tp.JV(p);t=L.tp.HJ(p,c,!0)}var u=new dY((c?"Convert To":"Assing")+" Profile: "+(A?z.K:"sRGB"),this);
u.data={I:0,U:c,xH:t,vh:!0,aLz:[v]};p.kL(u);if(z.ajS)L.tp.aGC(p,c,A);p.Wk(A);return}if(!this.XH(p,B))return;
if(this.nW){this.alT(z,this.nW.O1(),J,p,n,B);this.II(p,B,0,!0);this.Yk(p);return}this.aGl(p,z.w==null,z.w);
this.azU(p);this.alT(z,z.asn,J,p,n,B);this.r$(p,J,z.cN,!1)};L.tp.prototype.alT=function(z,J,p,n,B,c){var t=z.bb!=null?z.bb:4;
this.nW.ab8(t);if(J==null)J=this.nW.O1();var u=this.$_,v=J.x,A=J.y;if(z.R=="rot"&&z.K!=Math.PI&&(u.r+u.$&1)==1){v=Math.floor(v);
A=Math.floor(A)}var $=new fA;$.translate(-v,-A);if(z.R=="rot")$.rotate(z.K);if(z.R=="scl")$.scale(z.K.x,z.K.y);
if(z.R=="mat")$.concat(z.K);$.translate(v,A);if(z.R=="again")$=this.gp;var X=a.F.R8($);if(z.R=="dtr"){var U=a.F;
X=U.iE(z.K,U.j(-v,-A));X=U.iE(U.j(v,A),X)}var w=this.nW.rI();a.F.h(X,w);if(z.R=="reset"){var P=n.U[n.Y[0]].add.SoLd,k=P.Sz.v,T=k.Wdth.v,Z=k.Hght.v;
console.log(P);var X=this.nW.O1(),i=new fw(Math.round(X.x-T/2),Math.round(X.y-Z/2),T,Z);w=a.b.e3(i).L;
P.quiltWarp.v=a.TX.j(i)}this.nW.kc(w);if(t==9)this.nW.aec(J);if(z.gJ){var V=z.gJ.v;this.zD({Kq:"switchWarp"},p,n,B);
this.zD({Kq:"wrp",gJ:V},p,n,B)}};L.tp.prototype.pf=function(){return!0};L.tp.prototype.XH=function(z,J,p){if(z==null)return!1;
if(this.id==L.Ou)return z.M!=null;var n=z.l3(!0,null,null,!0);if(this.id==L.G$&&z.U[n[0]].S.Sz()){alert("Layer is empty.");
return!1}if(z.E0.length!=0)return!0;for(var g=0;g<n.length;g++){var B=z.U[n[g]];if(B.iF(2)||B.iF(31)){alert(j0.get([6,57,0]));
return!1}if(B.add.artb){alert("You can not transform the whole artboard");return!1}if(B.add.TySh)if(!hk.D5(B.add.TySh,J.rf))return!1;
if(B.add.SoLd){if(n.length==1&&(p&&p.th==-1)&&(B.Qu()&&B.Qu().r4||B.add.vmsk&&B.add.vmsk.r4)){alert("Unlink masks before transforming Smart Object");
return!1}if(!z.ak$(B.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+z.Hb(B.add.SoLd.Idnt.v).qI+")");
return!1}}}if(z.M==null)return!0;if(!z.AM())return!1;return z.aAB()};L.tp.prototype.lW=function(z,J,p,n,B){var c=this.GA(B,z),t=c[0],u=c[1],v=this.CC==0?this.nW:this.Js;
z.i.XP*=u;this.uq=v.lW(z,p,n,t,null,null,B);if(!this.uq&&ex==1){this.r$(z,J,null,!0);return}this.Yk(z,t);
z.i.XP/=u;if(this.uq&&v._W(t)){if(Date.now()-this.abV<250)this.r$(z,J,null,!0);this.abV=Date.now()}};
L.tp.prototype.ee=function(z){var J=new cD(b.E.c,!0);J.data={R:b.J.tk,BZ:this.cursor};z.a(J)};L.tp.prototype.GA=function(z,J){var p=1;
z=J.i.Ka(z.x,z.y);if(this.CC==1){var n=a.F.Q$(this.nW.rI(),this.$_);p=a.F.Q3(n).Nz();var B=a.F.oU(n);
z=a.F.atX(B,z)}return[z,p]};L.tp.prototype.dV=function(z,J,p,n,B){var c=this.GA(B,z),t=c[0],u=c[1],v=this.CC==0?this.nW:this.Js;
if(!B.Wj){var A="default";if(v){var $=v.TR(t,z.i.XP*u,null,B,null,n);if($)A=$}if(A!=this.cursor){this.cursor=A;
this.ee(J)}if(this.Js){this.Yk(z,t)}}if(!this.uq)return;z.i.XP*=u;var X=this.SN=v.dV(z,p,n,t,this.Ii);
z.i.XP/=u;this.II(z,p,0,!0);this.Yk(z,t);this.hp(J,null,z)};L.tp.prototype.mI=function(z,J,p,n,B){var c=this.GA(B,z),t=c[0],u=c[1];
this.nW.mI(z,p,n,t);if(this.Js){var v=this.Js.mI(z,p,n,t);if(v){this.hp(J,!0,z);this.Yk(z)}}if(this.SN){var A=this.Gi(),$=a.b.e3(this.$_).L;
a.F.h(A,$);this.nW.kc($);this.SN=null}this.uq=!1};L.tp.prototype.qA=function(z,J,p,n){if(n.Q(l5.Kd))this.r$(z,J,null,!0);
else if(n.Q(l5.Mz))this.$D(z,J);else{var B=this.nW.qA(z,p,n);if(B){this.II(z,p,0,!0);this.hp(J,null,z)}}};
L.tp.prototype.zD=function(z,J,p,n){if(z.Kq=="commit")this.r$(p,J,null,!0);else if(z.Kq=="cancel")this.$D(p,J);
else if(z.Kq=="switchWarp"){this.CC=1-this.CC;this.akR();this.Yk(p);this.hp(J,null,p)}else if(z.Kq=="wrp"){this.Js.aC4(z.gJ);
this.Yk(p);this.II(p,this.f,0,!0)}else if(z.Kq=="splt")this.Js.aCT(z.K);else if(z.Kq=="ctyp"){this.nW.ab8(z.ai2);
this.Yk(p);this.hp(J,null,p)}else if(z.Kq=="cen"){this.nW.aec(z.wG);this.Yk(p);this.II(p,this.f,0,!0);
this.hp(J,null,p)}else if(z.Kq=="trn"){var B=a.F.R8(z.t6),c=this.$_,t=a.F.Q$(this.nW.rI(),this.$_);B[6]=t[6],B[7]=t[7];
var u=[c.x,c.y,c.x+c.r,c.y,c.x+c.r,c.y+c.$,c.x,c.y+c.$];a.F.h(B,u);this.R4=z.R4;if(z.Ek!=this.Ek){this.Ek=z.Ek;
this.a0b(p)}this.Ii=z.Ii;this.nW.kc(u);this.Yk(p);this.II(p,this.f,0,!0)}};L.tp.prototype.Yk=function(z,J){if(this.CC==0)this.nW.iT(z,this.f);
else{this.Js.iT(z,J);var p=this.Gi();a.F.h(p,z.W.qH.L);a.F.h(p,z.W.K1);a.F.h(p,z.W.Px)}};L.tp.prototype.r$=function(z,J,p,n){this.II(z,this.f,this.R4);
var B=new dY(p?p:this.name,this);if(this.Cp==0)B.data={I:this.Cp,U:this.U,xH:this.xH};else if(this.Cp==1){var c=z.U[this.U[0]],t;
if(c.AO.uB<=0){t=a.j(c.AO.Pa.C(),z.depth);a.Tm(c.AO.Da,t,3)}else t=z.M.N;var u={S:c.AO.Pa.P(),N:t};B.data={I:this.Cp,w:this.U[0],sI:this.sI,Gq:u,s4:this.s4,_h:this._h,AO:c.AO,B3:this.B3,FU:{Dm:c.AO.Pa,sM:c.AO.Da}}}else if(this.Cp==2){B.data={I:this.Cp,sI:this.sI,Gq:{S:z.M.S.P(),N:z.M.N.slice(0)}}}z.kL(B);
var v=a.F.Q$(this.nW.rI(),this.$_),A=this.xH,$=A?A[0]:null;if(A&&A.length==1&&$[4]){var X=L.tp.bU($[4].nonAffineTransform),U=a.b.yq(a.TX.Dz($[4].quiltWarp.v)[3]),w=a.F.Q$(X,U);
v=a.F.iE(v,a.F.oU(w))}var P=this.Js?this.Js.uK():null;if(P&&a.TX.CM(P))P=null;var k=this.nW.rI();a.F.h(a.F.oU(v),k);
var T=this.nW.O1(k),Z=a.F;v=Z.iE(Z.iE(Z.j(-T.x,-T.y),v),Z.j(T.x,T.y));var i=L.tp.aym(v,this.nW.Wa,T,P);
if(this.id==L.Ou)i.null.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};this.kP=J;this.track({rK:"transform",m$:i});
this.escape(z,J,n)};L.tp.acg={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};L.tp.aym=function(z,J,p,n){var B=a.F.Q3(z),c=B.Rf,t=B.Sm,u=-Math.atan2(-B.X,B.k6),A="Qcsi";
B.rotate(u);function v(w,P){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][P],val:w}}}var $=L.tp.acg;
for(var X in $)if($[X]==J)A=X;var U={classID:"null",null:dB.DG("Lyr",!0),FTcs:{t:"enum",v:{QCSt:A}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:v(c,0),Vrtc:v(t,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:v(Math.atan(B.GQ/B.JH)*180/Math.PI,2),Vrtc:v(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:v(100*z[6],1),Vrtc:v(100*z[7],1)}},Wdth:v(B.k6*100,1),Hght:v(B.JH*100,1),Angl:v(u*180/Math.PI,2)};
if(J==9)U.Pstn={t:"Objc",v:{Hrzn:v(p.x,0),Vrtc:v(p.y,0)}};if(n)U.quiltWarp={t:"Objc",v:n};return U};
L.tp.aKq=function(z){var J=1,p=1,n=0,B=0,c=0,t=0,u=0,U=null,w=null;if(z.Wdth)J=z.Wdth.v.val/100;if(z.Hght)p=z.Hght.v.val/100;
if(z.Skew){var v=z.Skew.v;n=v.Hrzn.v.val;B=v.Vrtc.v.val}if(z.Ofst){var A=z.Ofst.v;t=A.Hrzn.v.val;u=A.Vrtc.v.val}if(z.Angl)c=z.Angl.v.val;
var $=new fA;$.concat(new fA(J,J*Math.tan(B*Math.PI/180),p*Math.tan(n*Math.PI/180),p,0,0));$.rotate(-c*Math.PI/180);
$.translate(t,u);var X=a.F.R8($);if(z.Usng){var A=z.Usng.v;X[6]=A.Hrzn.v.val/100;X[7]=A.Vrtc.v.val/100}var P=z.FTcs.v.QCSt;
if(P=="Qcsi"){var k=z.Pstn.v;U=new i_(k.Hrzn.v.val,k.Vrtc.v.val);w=9}else w=L.tp.acg[P];return{R:"dtr",bb:w,K:X,gJ:z.warp,asn:U}};
L.tp.prototype.$D=function(z,J){if(this.Cp==0)L.tp.afB(z,this.U,this.xH);else if(this.Cp==1){var p=z.U[this.U[0]];
z.M=this.sI;if(!this._h){p.AO.Pa=this.B3.Dm;p.AO.Da=this.B3.sM;p.qB(z,0,0,z.M)}else{p.Gt(z,this.s4)}z.qM();
z.g5=!0}else if(this.Cp==2){z.M=this.sI;z.g5=!0}this.escape(z,J,!0)};L.tp.prototype.escape=function(z,J,p){this.nW.clear(z);
if(this.Js)this.Js.clear(z);this.nW=null;this.Js=null;this.rg=null;this.CC=0;if(p)this.Rc(J,b.E.c,{R:b.J.Jl})};
L.tp.prototype.Cb=function(z,J){if(z.I==0)L.tp.Qk(J,z);else{if(z.I==1){var p=J.U[z.w];if(z._h){p.AO=z.AO}else{p.AO.Pa=z.FU.Dm;
p.AO.Da=z.FU.sM}p.qB(J,0,0,J.M);J.qM()}J.M={S:z.Gq.S.P(),N:z.Gq.N.slice(0)};J.g5=!0}};L.tp.prototype.gD=function(z,J){if(z.I==0)L.tp.Qk(J,z);
else{if(z.I==1){var p=J.U[z.w];if(z._h){p.Gt(J,z.s4)}else{p.AO.Pa=z.B3.Dm;p.AO.Da=z.B3.sM;p.qB(J,0,0,J.M)}J.qM()}J.M=z.sI;
J.g5=!0}};L.tp.prototype.aGl=function(z,J,p){z.Q8();var n=[];if(p==null)for(var g=0;g<z.E0.length;g++)if(z.$n[z.E0[g]].add.vmsk.u.length>2)n.push(-1-z.E0[g]);
var B=[],c=z.i.Az;if(c[0]+c[1]+c[2]==3)if(p!=null||n.length==0||z.sk!=null&&z.sk.length!=0){if(z.Y.length==1){var t=z.U[z.Y[0]];
if(t.nT()&&t.UU)B=[z.Y[0]]}if(B.length==0)B=z.l3(J,p,null,!0)}B=B.concat(n);for(var g=0;g<z.dX.length;
g++)B.push(-1e3-z.dX[g]);this.U=B};L.tp.prototype.enable=function(z,J,p,n,B,c){if(this.cursor==null)this.cursor="default";
this.ee(J);if(this.nW)return;this.f=p;this.aGl(z,!0);this.azU(z,c&&c.th!=null&&c.th!=-1?c.th:null);this.hp(J,null,z);
this.Yk(z);if(c&&c.th==-1)this.zD({Kq:"switchWarp"},J,z,n)};L.tp.prototype.UB=function(){return this.Ii?null:[0]};
L.tp.prototype.t1=function(z,J,p){if(z&&z[0]!=null)this.Ii=z[0]==1};L.tp.prototype.hp=function(z,J,p){var n={R:b.J.jv,l:this.id};
if(this.CC==0){var B=a.F.Q$(this.nW.rI(),this.$_),c=a.F.Q3(B);n.t6={bp:c,ai2:this.nW.a6F(),wG:this.nW.O1(),Dm:this.$_.P(),Ii:this.Ii}}else{n.a6z=J;
n.gJ=this.Js.uK()}if(p){n.b8=["---"];for(var g=0;g<p.b8.length;g++)n.b8.push(p.b8[g].name)}n.ah8=this.Js!=null;
n.aIW=!1;if(p)for(var g=0;g<p.Y.length;g++){var t=p.U[p.Y[g]];if(!(t.add.SoLd||t.add.TySh||t.dH()||t.nT()))n.aIW=!0}this.Rc(z,b.E.c,n)};
L.tp.prototype.azU=function(z,J){var p=this.id==L.Ou,n=!0,B=this.U[0],c=z.U[B],u=null,v=null,A=null,U=null;
if(p){this.Cp=2;this.sI=z.M}else if(z.M&&this.U.length==1&&B>=0&&!c.S.Sz()){this.Cp=1;this.sI=z.M;this.s4=c.AO;
this._h=!1;if(!c.S7(z,z.M)){this._h=!0;c.L_(z,z.M,!1)}this.B3={sM:c.AO.Da,Dm:c.AO.Pa}}else{this.Cp=0;
this.xH=L.tp.HJ(z,this.U,null);for(var g=0;g<this.xH.length;g++)if(this.xH[g][3]!=null)n=!1}var t=this.Cp==1;
if(this.xH&&this.xH.length==1){var $=this.xH[0];if($[2]!=null)v=$[2].j9;if($[3]==null)t=!0;if($[3]!=null)A=$[3];
if($[4]!=null){u=z.U[this.U[0]].add.SoLd;if($[1]||$[2])t=!1}}var X=p?z.M.S.P():L.tp.R2(z,this.U);this.$_=X;
if(!p&&v&&ex==1){U=v.v_();this.i7=a.F.Q$(U,this.$_)}else if(!p&&A&&ex==1){var w=z.U[this.U[0]],A=w.add.TySh;
U=a.b.e3(w.GJ.SU).L;a.b.h(U,A.h,U);this.i7=a.F.Q$(U,this.$_)}else if(!p&&u){U=L.tp.bU(u.nonAffineTransform);
this.$_=a.b.yq(a.TX.Dz(u.quiltWarp.v)[3]);if(t)this.Js=new k1(u.quiltWarp.v);this.i7=a.F.Q$(U,this.$_)}else{if(t||p)this.Js=new k1(a.TX.j(this.$_));
this.i7=[1,0,0,0,1,0,0,0];if(this.id==L.G$)J=3;U=[X.x,X.y,X.x+X.r,X.y,X.x+X.r,X.y+X.$,X.x,X.y+X.$]}this.nW=new ia(U,!0,!0,n,!1,!1,J);
this.alu=[1,0,0,0,1,0,0,0];this.a0b(z)};L.tp.prototype.a0b=function(z){if(this.id==L.G$){var J,p,c=null;
if(this.xH&&z.M==null){var n=this.xH[0][0],B=n.b3;J=B[0];p=B[1]}else if(this.B3){J=this.B3.sM;p=this.B3.Dm}if(this.Ek!=0)c=z.b8[this.Ek-1].TJ(p);
this.rg=a.bd.ahm(a.hg(J,8),p.r,p.$,c)}};L.tp.R2=function(z,J){if(J==null)J=z.l3(!0,null,null,!0);var p=new fw,n=new fw;
if(z.M&&J.length==1&&J[0]>=0)p=z.M.S.P();else for(var g=0;g<J.length;g++){var B=J[g],c=0<=B?z.U[B]:-1e3<B?z.$n[-1-B]:z.b8[-1e3-B],t=c.add?c.add.vmsk:null,u=0<=B?c.R2(z,J.length==1,!1,!0):-1e3<B?a.z.nd(t.u,J.length==1&&t.Y.length!=0?t.Y:null):c.S.P();
p=p.KQ(u);if(B>0&&c.add.artb)n=n.KQ(c.x0())}if(!n.Sz())return n;if(p.r==0){if(p.$==0)return p;p.x-=10;
p.r+=20}if(p.$==0){p.y-=10;p.$+=20}return p};L.tp.prototype.Rc=function(z,J,p,n){var B=new cD(J,!0);
B.data=p;if(n)B.l=n;z.a(B)};L.tp.JV=function(z){var J=[];for(var g=0;g<z.U.length;g++)J.push(g);for(var g=0;
g<z.$n.length;g++)J.push(-1-g);for(var g=0;g<z.b8.length;g++)J.push(-1e3-g);return J};L.tp.HJ=function(z,J,p){var n=[];
for(var g=0;g<J.length;g++){var B=J[g],c,t;if(B>=0){c=z.U[B];t=c.tP(z,p,!0)}else if(B>-1e3){c=z.$n[-1-B];
t=[2]}else{n.push([null,null,null,null,null,null,null,z.b8[-1e3-B].P()]);continue}var u=[],v=t.indexOf(0)!=-1;
if(v){var A={b3:c.add.SoLd?null:[c.buffer.slice(0),c.S.P()]};u.push(A);if(c.Ik()){var $=c.g6(z);A.amM=$.buffer.slice(0);
A.aqx=$.S.P()}}else u.push(null);if(t.indexOf(1)!=-1)u.push(c.Qu().P());else u.push(null);if(t.indexOf(2)!=-1)u.push({j9:c.add.vmsk.P(),jM:c.add.vstk?a.G(c.add.vstk):null,_H:c.add.vstk?a_.O7(z.U[B].add):null,St:c.add.vstl?JSON.stringify(c.add.vstl):null,R$:c.add.vogk?a.G(c.add.vogk):null});
else u.push(null);if(c.add.TySh&&v){dN.Fk(c.add.TySh);u.push(c.add.TySh.h.P())}else u.push(null);if(c.add.SoLd&&v)u.push(a.G(c.add.SoLd));
else u.push(null);if(t.indexOf(3)!=-1)u.push(c.g6(z).T4.P());else u.push(null);if(c.add.lmfx)u.push(JSON.stringify(c.add.lmfx));
else u.push(null);n.push(u)}return n};L.tp.afB=function(z,J,p){for(var g=0;g<J.length;g++){var n=J[g],B=0<=n?z.U[n]:-1e3<n?z.$n[-1-n]:z.b8[-1e3-n],c=p[g];
if(c[0]){if(c[0].b3){B.S=c[0].b3[1].P();B.buffer=c[0].b3[0].slice(0)}if(B.Ik()){var t=B.g6(z);t.buffer=c[0].amM.slice(0);
t.S=c[0].aqx.P()}}if(c[1]){B.Qu().N=c[1].N.slice(0);B.Qu().S=c[1].S.P();B.Qu().Kk=!0}if(c[2]){B.add.vmsk=c[2].j9.P();
if(c[2]._H)a_.bE(B.add,c[2]._H);if(c[2].jM)B.add.vstk=a.G(c[2].jM);if(c[2].R$)B.add.vogk=a.G(c[2].R$);
if(c[2].St)B.add.vstl=JSON.parse(c[2].St)}if(c[3]){B.add.TySh.h=c[3].P();dN.at(B.add.TySh)}if(c[4]){B.add.SoLd=a.G(c[4])}if(c[5]){var u=B.g6(z).T4;
u.N=c[5].N.slice(0);u.S=c[5].S.P()}if(c[6]){B.add.lmfx=JSON.parse(c[6])}if(c[7]){B.N=c[7].N.slice(0);
B.S=c[7].S.P();B.Kk=!0}if(0<=n){B.k3(z);B.qM();if(c[4])B.m8(z,!1)}}z.qM()};L.tp.agC=function(z,J,p){z.depth=p;
z.buffer=a.j(z.r*z.$*4,p);for(var g=0;g<J.length;g++){var n=J[g];if(0<=n){var B=z.U[n],c=B.Qu();if(c){c.N=a.hg(c.N,p);
c.Kk=!0}if(B.add.vmsk)B.add.vmsk.Kk=!0;if(B.dH())B.k3(z);else if(B.add.SoLd){if(B.Ik()){var t=B.g6(z),c=t.T4;
if(c){c.N=a.hg(c.N,p);c.Kk=!0}}B.m8(z)}else B.buffer=a.hg(B.buffer,p);B.qM()}else if(-1e3<n){}else{var c=z.b8[-1e3-n];
c.N=a.hg(c.N,p)}}z.qM()};L.tp.aGC=function(z,J,p){var n,B,c=17,t=z.JM();if(t){c=t[2];n=t[3].slice(0)}if(p){var u=ICC.R(p.buffer);
B=ICC.U.sampleLUT(u,c,!0)}for(var g=0;g<J.length;g++){var v=J[g];if(0<=v){var A=z.U[v];if(A.dH())A.k3(z);
else if(A.add.SoLd){}else{if(n)ICC.U.applyLUT(n,c,A.buffer,A.buffer);if(B)ICC.U.applyLUT(B,c,A.buffer,A.buffer)}A.qM()}}z.qM()};
L.tp.Qk=function(z,J){if(J.aLz){var p=z.JM();z.Wk(J.aLz[0]);J.aLz=[p?p[0]:null]}if(J.U==null)return;
var n=L.tp.HJ(z,J.U,J.vh);if(J.depth!=null){var B=J.depth;J.depth=z.depth;z.depth=B;z.buffer=a.j(z.r*z.$*4,z.depth);
z.qM()}L.tp.afB(z,J.U,J.xH);J.xH=n};L.tp.d8=function(z,J,p,n,B,c,t,u,v,A){if(typeof c[0]=="number"){var $=[];
for(var g=0;g<p.length;g++)$[g]=c;c=$}for(var g=0;g<p.length;g++){var X=c[g],U=a.F.Q3(X),w=U.Nz(),P=p[g],k=0<=P?z.U[P]:-1e3<P?z.$n[-1-P]:z.b8[-1e3-P],T=n[g];
if(k.add&&k.add.lmfx&&u)ju.yh(k.add.lmfx,w);if(T[0]&&!T[3]&&!T[4]&&!T[5]){var Z=T[0].b3;if(v){var i=v.ly(Z[1]),V=a.j(i.C()*4);
a.nk(Z[0],Z[1],V,i);Z=[V,i]}var _=L.tp.Zx(Z,B,X,t,B==0?k.buffer.buffer:null,null,A);if(_){k.S=_.S;k.buffer=_.buffer}}if(T[1]){var y=k.Qu();
L.tp.Yr(z,T[1],y,B,X,t,y.r4&&t&&!a.TX.CM(t)&&T[0]?T[0].b3[1]:null);if(v){var i=y.S.ly(v),E=a.j(i.C());
a._1(y.N,y.S,E,i);y.N=E;y.S=i}}if(T[2]){var F=t&&!a.TX.CM(t),d=T[2].j9.P(),x=p.length==1&&d.Y.length!=0,f=p.length==1&&d.Vd.length>1;
if(f)x=!1;var Q=x?d.Y:null,m=f?d.Vd:null;if(F){var H=a.TX.Dz(t);a.F.h(X,H[3]);a.z.a3m(d.u,H,Q,m)}else a.z.acv(d.u,X,Q,m);
if(k.add.vstk&&u){k.add.vstk.strokeStyleLineWidth.v.val=T[2].jM.strokeStyleLineWidth.v.val*w;var S=T[2]._H;
if(S&&S.ht==3){S=a.G(S);var R=S._H.phase.v;S._H.Scl.v.val=Math.round(S._H.Scl.v.val*w);R.Hrzn.v=Math.round(R.Hrzn.v*w);
R.Vrtc.v=Math.round(R.Vrtc.v*w);a_.bE(k.add,S)}}if(k.add.vogk){k.add.vogk=a.G(T[2].R$);if(F||f)a.R$.a6y(k.add.vogk);
else a.R$.h(k.add.vogk,X,p.length>1?[]:d.Y,u)}if(k.add.vstl){var I=k.add.vstl=JSON.parse(T[2].St);for(var D=0;
D<2;D++){var G=D==0?I.ZI:I.K$;if(G==null||G[3]==null)continue;var C=G[3],O=new fA(C[0],C[1],C[2],C[3],C[4],C[5]);
O.concat(U);G[3]=[O.k6,O.X,O.GQ,O.JH,O.Rf,O.Sm]}}d.cc*=w;var Y=new fA;Y.rotate(d.Kj);Y.concat(U);d.Kj=Math.atan2(-Y.X,Y.k6);
k.add.vmsk=d;if(k.add.vogk)a.R$._n(k.add.vogk,k.add.vmsk)}if(T[3]){var O=T[3].P();O.concat(U);k.add.TySh.h=O;
dN.at(k.add.TySh);hk.Te(k,J.rf)}if(T[4]){var h=k.add.SoLd,r=L.tp.bU(T[4].nonAffineTransform);a.F.h(X,r);
var W=a.b._g(r);if(ia.lq(r)){if(t){var N=a.b.yq(a.TX.Dz(T[4].quiltWarp.v)[3]),E=a.F.Q$(r,N),o=a.b.yq(a.TX.Dz(t)[3]);
r=[o.x,o.y,o.x+o.r,o.y,o.x+o.r,o.y+o.$,o.x,o.y+o.$];a.F.h(E,r);h.quiltWarp.v=t}var K=a.F.Q$(r),l=r;if(!a.F.Ua(K)){K[6]=K[7]=0;
l=[0,0,1,0,1,1,0,1];a.F.h(K,l)}h.Trnf=L.tp.ey(l);h.nonAffineTransform=L.tp.ey(r);if(h.filterFX)h.filterFX=a.G(T[4].filterFX);
L.tp.aoR(h,U);k.m8(z,B==0,J.rf)}}if(T[5])L.tp.Yr(z,T[5],k.g6(z).T4,B,X,t);if(T[7])L.tp.Yr(z,T[7],k,B,X,t);
if(0<=P){if(!A)k.eB();k.k3(z);k.qM();if(k.GJ)k.GJ.X_=!0}}z.qM()};L.tp.azh=function(z,J){var p=J.Nz(),n=0;
a.Sb(z);var B=a.aBT(z,J,.3,4);n=B[0];J=B[1];var c=z[n],t=z[n+1],u=a.zr(c),v=t.r,A=t.$,$=a.b.e3(t).L;
a.b.h($,J,$);var X=a.b._g($),U=a.j(X.C(),u),w=X.x,P=X.y,k=X.r,T=X.$,Z=J.P();Z.oU();var i=Z.g$(new i_(0,0)),V=Z.g$(new i_(1,0)),_=V.x-i.x,y=V.y-i.y;
for(var E=0;E<T;E++){var F=Z.k6*(w+.5)+Z.GQ*(E+P+.5)+Z.Rf,d=Z.X*(w+.5)+Z.JH*(E+P+.5)+Z.Sm;if(u==8)for(var x=0;
x<k;x++){if(.5<F&&F<v-.5&&.5<d&&d<A-.5)U[E*k+x]=Math.floor(.5+a.F.ahR(F,d,c,v,A));F+=_;d+=y}else if(u==16)for(var x=0;
x<k;x++){if(.5<F&&F<v-.5&&.5<d&&d<A-.5)U[E*k+x]=Math.floor(.5+a.F.a5u(F,d,c,v,A));F+=_;d+=y}else if(u==32)for(var x=0;
x<k;x++){if(.5<F&&F<v-.5&&.5<d&&d<A-.5)U[E*k+x]=a.F.a5u(F,d,c,v,A);F+=_;d+=y}}return{S:X,N:U}};L.tp.EG=function(z,J,p,n,B){if(p==null)p=!1;
return L.tp.Zx(z,p?0:1,a.F.R8(J),null,n,B,p)};L.tp.Zx=function(z,J,p,n,B,c,t){if(t==null)t=!1;if(t&&c)throw"e";
var u=a.zr(z[0]),v={},U=0;if(n&&!a.TX.CM(n)){var A=a.TX.Dz(n);a.F.h(p,A[3]);v.S=a.b._g(A[3]);v.buffer=a.j(v.S.C()*4,u);
var $=a.TX.R2(n);$.x=$.y=0;var X=z[1].P();if($.C()==X.C())X.x=X.y=0;a.IN.drawImage(A,z[0],X,$,v.buffer,v.S,J==0);
return v}if(a.F.Ua(p)){a.pG(z);var w=.3,U=0,P=a.F.Q3(p),k=z[1],T=k.C()*P.Nz();if(t&&T>4e6)w=T>8e6?2.2:1.2;
var Z=a.aBT(z,P,w,16);U=Z[0];p=a.F.R8(Z[1])}var i=z[U],k=z[U+1],V=a.F.iE(p,a.F.R8(new fA(k.r,0,0,k.$,k.x,k.y))),_=[0,0,1,0,1,1,0,1];
for(var y=.1;y<.99;y+=.1)_.push(0,y,y,0,1,y,y,1);a.F.h(V,_);v.S=a.b._g(_,!0);if(c)v.S=v.S.ly(c);if(t){while((v.S.r&3)!=0)v.S.r++;
while((v.S.$&3)!=0)v.S.$++}if(v.S.r>1e5||v.S.$>1e5||v.S.C()>3e4*3e4)return null;var E=v.S.C()*4;if(u==8&&B&&B.byteLength>=E&&E>=B.byteLength>>2){v.buffer=new Uint8Array(B)}else{v.buffer=a.j(E,u)}a.F.drawImage(V,i,k.r,k.$,v.buffer,v.S,J==0,t);
if(J==2&&v.buffer){var F=v.S.r,d=v.S.$,x;x=[0,-1,0,-1,16,-1,0,-1,0];x=a.iM.ns(x);var f=v.buffer.slice(0);
a.iM.Jf(f,v.buffer,F,d,x,!0,!1)}if(v.buffer)return v};L.tp.Yr=function(z,J,p,n,B,c,t){var u=J.S,v=J.N;
if(t){u=t;v=J.TJ(u)}if(J.color==255)a.oU(v);var A=a.j(u.C()*4,z.depth);a.DE(v,A,3);var $=L.tp.Zx([A,u],n,B,c);
if($){p.S=$.S;p.N=a.j($.S.C(),z.depth);a.Tm($.buffer,p.N,3);p.Kk=!0}if(J.color==255){a.oU(v);if($)a.oU(p.N)}};
L.tp.aoR=function(z,J){var p=z.filterFX;if(p)p=p.v.filterFXList;if(p)p=p.v;if(p)for(var n=0;n<p.length;
n++){var B=p[n].v.Fltr;if(B==null)continue;var c=B.v.classID;B=B.v;if(c!="rigidTransform"&&c!="blurbTransform"&&c!="perspectiveWarpTransform")continue;
var t=[];for(var u=0;u<4;u++)t.push(B["PuX"+u].v,B["PuY"+u].v);var v=t.slice(0);a.b.h(t,J,t);for(var u=0;
u<4;u++){B["PuX"+u].v=t[u*2];B["PuY"+u].v=t[u*2+1]}if(c=="rigidTransform"){var A=["PinP","posFinalPins"],$=["originalVertexArray","deformedVertexArray"],X=B.puppetShapeList.v;
for(var U=0;U<X.length;U++){var w=X[U].v;for(var P=0;P<A.length;P++){var k=L.tp.bU(w[A[P]]);a.b.h(k,J,k);
w[A[P]]=L.tp.ey(k);var T=new Uint8Array(w[$[P]].v),v=new Float32Array(T.buffer);a.b.h(v,J,v);var Z=[];
for(var i=0;i<T.length;i++)Z[i]=T[i];w[$[P]].v=Z}}}if(c=="blurbTransform"){var V=a.Bh.FQ(B);a.Bh.h(V,J);
a.Bh.KL(V[0],B)}if(c=="perspectiveWarpTransform"){var _=a.l2.bF(B);a.b.h(_.MX,J,_.MX);a.b.h(_.BR,J,_.BR);
a.l2.pK(_,B)}}};L.tp.bU=function(z){var J=[],p=z.v.length;for(var g=0;g<p;g++)J.push(z.v[g].v);return J};
L.tp.ey=function(z){var J={t:"VlLs",v:[]},p=z.length;for(var g=0;g<p;g++)J.v.push({t:"doub",v:z[g]});
return J};L.tp.prototype.akR=function(){var z=a.b.yq(a.TX.Dz(this.Js.uK())[3]),J=a.F.Q$(this.nW.rI(),this.$_),p=[z.x,z.y,z.x+z.r,z.y,z.x+z.r,z.y+z.$,z.x,z.y+z.$];
a.F.h(J,p);this.nW.kc(p);this.$_=z};L.tp.prototype.Gi=function(){var z=a.F.Q$(this.nW.rI(),this.$_);
if(this.SN)z=a.F.iE(z,a.F.R8(this.SN));return z};L.tp.prototype.II=function(z,J,p,n){var B=this.Gi();
B=a.F.iE(B,a.F.oU(this.i7));var c=this.Js?this.Js.uK():null;if(this.Cp==0){var t=this.gp=a.F.Q3(B);if(this.id==L.G$){var u=this.xH[0][0],v=u.b3,A=v[1],$=~~(A.r*Math.max(0,t.k6)),X=~~(A.$*Math.max(0,t.JH)),U=new fw(Math.round(t.k6*A.x+t.Rf),Math.round(t.JH*A.y+t.Sm),$,X),w=a.bd.h(this.rg,U),P=z.U[this.U[0]];
P.buffer=a.hg(w,z.depth);P.S=U;P.qM();z.qM()}else L.tp.d8(z,J,this.U,this.xH,p,B,c,null,null,n)}else if(this.Cp==1){var k=z.U[this.U[0]],A=this.B3.Dm;
if(k.uB<=0){var T=this.B3.sM,Z=this.sI,i=null;if(c&&!a.TX.CM(c)&&!Z.S.Vm(A)){var w=a.j(Z.S.C()*4);a.nk(T,A,w,Z.S);
T=w;A=Z.S}if(this.id==L.G$){var t=this.gp=a.F.Q3(B),$=~~(A.r*Math.max(0,t.k6)),X=~~(A.$*Math.max(0,t.JH)),U=new fw(Math.round(t.k6*A.x+t.Rf),Math.round(t.JH*A.y+t.Sm),$,X),w=a.bd.h(this.rg,U);
i={buffer:a.hg(w,z.depth),S:U}}else i=L.tp.Zx([T,A],p,B,c);if(i){k.AO.Da=i.buffer;k.AO.Pa=i.S;var V=a.j(i.S.C(),z.depth);
a.Tm(k.AO.Da,V,3);z.M={N:V,S:k.AO.Pa.P()}}}else{var _=a.j(A.C()*4);a.DE(this.B3.sM,_,3);var i=L.tp.Zx([_,A],p,B,c);
if(i){k.AO.Da=a.j(i.S.C());a.Tm(i.buffer,k.AO.Da,3);k.AO.Pa=i.S}this.a2$(z,p,B,c)}k.qB(z,0,0,z.M);if(p!=0){k.eB();
a.eB(z.M)}z.g5=!0;z.qM()}else if(this.Cp==2)this.a2$(z,p,B,c)};L.tp.prototype.a2$=function(z,J,p,n){var B=this.sI.S,c=a.j(B.C()*4);
a.DE(this.sI.N,c,3);var t=L.tp.Zx([c,B],J,p,n),u=a.j(t.S.C());a.Tm(t.buffer,u,3);z.M={N:u,S:t.S};z.g5=!0};
L.tp.prototype.disable=function(z,J,p,n){if(this.nW)this.r$(z,J,null,!0)};L.aE7=function(){L.tp.call(this,[10,16],L.dt,"tools/transform")};
L.aE7.prototype=new L.tp;L.ari=function(){L.tp.call(this,[7,10],L.Ou,"tools/transform")};L.ari.prototype=new L.tp;
L.aAm=function(){L.tp.call(this,[10,48],L.G$,"tools/transform")};L.aAm.prototype=new L.tp;L.Xk=function(z,J,p){L.y6.call(this,z?z:[10,40],J?J:L.$V,p?p:"tools/slice");
this.p2=null;this.kP=null;this.Yz={t:0,x:0,y:0};this.hf=null;this.au$=null;this.Ko=null;this.AS=null};
L.Xk.prototype=new L.y6;L.Xk.Y8=function(z,J){var p=-1;for(var g=0;g<z.length;g++){var n=L.Xk.nQ(z,g);
if(n[0]<=J.x&&J.x<=n[2]&&n[1]<=J.y&&J.y<=n[3]){p=g;break}}return p};L.Xk.prototype.$P=function(z,J,p,n,B){if(p==null)return;
this.nw(p);if(z.R=="fromAction"){var c=z.NR,t=c.rK,u=c.m$,v=p.zQ(),A=p.oq(),$=A==-1?new fw(0,0,p.r,p.$):p.U[A].x0();
if(t=="divide"){if(p.L8.length!=0){var X=p.L8[0],U=L.Xk.nQ(p.Cy,X);$=new fw(U[0],U[1],U[2]-U[0],U[3]-U[1]);
p.Cy.splice(X,1);p.L8=[]}v=[[],[]];for(var w=0;w<2;w++){var P=["Across","Down"][w],k=u["pixels"+P]?0:1,T=u[["pixels","slices"][k]+P];
if(T==null)continue;T=T.v;var Z=w==0?$.x:$.y,i=w==0?$.r:$.$;if(k==0)for(var g=1;g*T<i;g++){v[0].push([w,Z+g*T]);
v[1].push(A)}else{var V=Math.floor(i/T);for(var g=1;g<T;g++){v[0].push([w,Z+g*V]);v[1].push(A)}}}}var _=[$.x,$.x+$.r],y=[$.y,$.y+$.$];
for(var g=0;g<v[0].length;g++){var E=v[0][g],F=Math.round(E[1]),d=v[1][g];if(d!=-1&&d!=A)continue;if(E[0]==0&&_.indexOf(F)==-1)_.push(F);
if(E[0]==1&&y.indexOf(F)==-1)y.push(F)}_.sort(function(G,C){return G-C});y.sort(function(G,C){return G-C});
for(var x=1;x<y.length;x++)for(var f=1;f<_.length;f++){p.Cy.push(L.Xk.NK());L.Xk.h5(p.Cy,p.Cy.length-1,[_[f-1],y[x-1],_[f],y[x]]);
p.eO=!0}}else if(z.R=="reorder"){if(p.L8.length==0)return;var Q=p.Cy,m=p.L8;m.sort(function(G,C){return G-C});
console.log(m);var H=Q.slice(0),S=[],R=[];for(var g=0;g<m.length;g++){var X=m[g],I=Q[X];R.push(I);H.splice(H.indexOf(I),1)}var D=Math.max(0,Math.min(H.length,m[0]-z.dir));
for(var g=0;g<R.length;g++){H.splice(D+g,0,R[g]);S.push(D+g)}p.Cy=H;p.L8=S}else if(z.R=="delete"){var Q=p.Cy.slice(0);
for(var g=0;g<p.L8.length;g++)p.Cy.splice(p.Cy.indexOf(Q[p.L8[g]]),1);p.L8=[]}else if(z.R=="deleteAll"){p.Cy=[];
p.L8=[]}else{p.Cy[p.L8[0]].v=z;p.eO=!0}this.De(p)};L.Xk.prototype.enable=function(z,J,p,n,B,c){L.y6.prototype.enable.call(this,z,J,p,n,B,c);
if(!p.Uc.Cy){var t=new cD(b.E.c,!0);t.data={R:b.J.bS,Xu:iQ.Kx};J.a(t)}};L.Xk.prototype.disable=function(){this.p2=null;
this.kP=null};L.Xk.prototype.uH=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=L.Xk.Y8(z.Cy,c);if(t==-1)return;
this.p2=z;this.kP=J;z.L8=[t];z.eO=!0;if(this.AS==null){this.AS=new ka([{name:[5,4]},{name:[8,11,1],wp:!0}]);
this.AS.D("select",this.lx,this)}var u=this.AS;u.parent=J;u.T();u.update(z,p);var v=new cD(b.E.c,!0);
v.data={R:b.J.v0,NC:u,x:B.Py+2,y:B.fH+1};J.a(v)};L.Xk.prototype.lx=function(z){var J=this.AS.cw()[0],p=this.p2;
if(J==0){this.nw(p);p.Cy.splice(p.L8[0],1);p.L8=[];p.eO=!0;this.De(p)}if(J==1){var n=new cD(b.E.c,!0);
n.data={R:b.J.Ym,i9:"soptions",K:p.Cy[p.L8[0]].v};this.kP.a(n)}};L.Xk.prototype.lW=function(z,J,p,n,B){if(z==null)return;
this.nw(z);var c=z.i.Ka(B.x,B.y);c=L.DJ.o9(z,c,p,[!0,null,!1]);c.x=Math.round(c.x);c.y=Math.round(c.y);
this.Ko=c;z.Cy.unshift(L.Xk.NK());z.L8=[0];L.Xk.h5(z.Cy,0,[c.x,c.y,c.x+20,c.y+20]);z.eO=!0};L.Xk.prototype.dV=function(z,J,p,n,B){if(this.hf==null)return;
var c=z.i.Ka(B.x,B.y),t=this.Ko;c=L.DJ.o9(z,c,p,[!0,null,!1]);var u=L.Fz.wP(t,c,n,!0,this.Yz);t=u[0];
c=u[1];var v=[t.x,t.y,c.x,c.y];L.Xk.aA_(v);L.Xk.h5(z.Cy,0,v);z.eO=!0};L.Xk.prototype.mI=function(z,J,p,n,B){this.De(z);
this.Ko=null};L.Xk.prototype.nw=function(z){this.hf=JSON.stringify(z.Cy);this.au$=JSON.stringify(z.L8)};
L.Xk.prototype.De=function(z){var J=JSON.stringify(z.Cy);if(J!=this.hf){var p=new dY(this.name,this);
p.data={B3:this.hf,FU:J,ak9:this.au$,avH:JSON.stringify(z.L8)};z.kL(p)}this.hf=null};L.Xk.prototype.gD=function(z,J){J.Cy=JSON.parse(z.B3);
J.L8=JSON.parse(z.ak9);J.eO=!0};L.Xk.prototype.Cb=function(z,J){J.Cy=JSON.parse(z.FU);J.L8=JSON.parse(z.avH);
J.eO=!0};L.Xk.prototype.LA=function(z,J){return J!=null&&J.L8.length!=0&&(z==l5.mP||z==l5.IB)};L.Xk.prototype.qA=function(z,J,p,n){if(z==null)return;
if(n.Q(l5.mP)||n.Q(l5.IB))this.$P({R:"delete"},J,z,n,p);var B=n.wK();if(B.x!=0||B.y!=0){this.nw(z);L.Xk.Us(z,B);
this.De(z)}};L.Xk.prototype.zD=function(z,J,p,n,B){this.Yz=z.m1};L.Xk.ai5=function(z,J,p,n){var B=new i_(-J.x,-J.y),c=J.r/p.r,t=J.$/p.$,u=[0,0,J.r,J.$];
for(var g=0;g<z.length;g++){var v=L.Xk.nQ(z,g);if(n){v[0]=Math.round(v[0]*c);v[1]=Math.round(v[1]*t);
v[2]=Math.round(v[2]*c);v[3]=Math.round(v[3]*t)}else{L.Xk.oA(v,B);L.Xk.awm(v,u)}if(v[0]>=v[2]||v[1]>=v[3]){z.splice(g,1);
g--;continue}L.Xk.h5(z,g,v)}};L.Xk.Us=function(z,J){var p=z.Cy;for(var g=0;g<z.L8.length;g++){var n=L.Xk.nQ(p,z.L8[g]);
L.Xk.oA(n,J);L.Xk.h5(p,z.L8[g],n)}};L.Xk.awm=function(z,J){if(z[0]<J[0])z[0]=J[0];if(z[1]<J[1])z[1]=J[1];
if(J[2]<z[2])z[2]=J[2];if(J[3]<z[3])z[3]=J[3]};L.Xk.oA=function(z,J){z[0]=Math.round(z[0]+J.x);z[2]=Math.round(z[2]+J.x);
z[1]=Math.round(z[1]+J.y);z[3]=Math.round(z[3]+J.y)};L.Xk.h5=function(z,g,J){var p=z[g].v.bounds.v;p.Left.v=J[0];
p.Top.v=J[1];p.Rght.v=J[2];p.Btom.v=J[3]};L.Xk.nQ=function(z,g){var J=z[g].v.bounds.v;return[J.Left.v,J.Top.v,J.Rght.v,J.Btom.v,g]};
L.Xk.aA_=function(z){if(z[2]<z[0]){var J=z[0];z[0]=z[2];z[2]=J}if(z[2]==z[0])z[2]++;if(z[3]<z[1]){var J=z[1];
z[1]=z[3];z[3]=J}if(z[3]==z[1])z[3]++};L.Xk.yq=function(z,J){var p=1e9,n=-1e9,B=1e9,c=-1e9;for(var g=0;
g<J.length;g++){var t=L.Xk.nQ(z,J[g]);p=Math.min(p,t[0]);B=Math.min(B,t[1]);n=Math.max(n,t[2]);c=Math.max(c,t[3])}return[p,B,n,c]};
L.Xk.NK=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
L.a5=function(){L.Xk.call(this,[10,41],L.H5,"tools/sselect");this.Ko=null;this.oh=null;this.YT=null;
this.QX=null;this.aqy=!1};L.a5.prototype=new L.Xk;L.a5.prototype.lW=function(z,J,p,n,B){if(z==null)return;
var c=z.i.Ka(B.x,B.y),t=L.a5.a0x(c,4/z.i.XP,z.Cy,z.L8);t.pop();if(t.length!=0){this.Ko=c;this.YT=t;this.nw(z);
return}var u=z.Cy,v=L.Xk.Y8(u,c);if(v==-1)z.L8=[];else{var A=z.L8.indexOf(v);if(n.Q(l5.VN)){if(A==-1)z.L8.push(v);
else z.L8.splice(A,1)}else{z.L8.sort(function(k,T){return k-T});if(A==-1)z.L8=[v];this.Ko=c;this.nw(z);
this.oh=L.Xk.yq(u,z.L8);this.QX=[];for(var g=0;g<z.L8.length;g++)this.QX.push(L.Xk.nQ(u,z.L8[g]));if(n.Q(l5.W0)){var $=u.slice(0),X=z.L8,U=[];
for(var g=0;g<X.length;g++){var v=X[g],w=$[v],P=u.indexOf(w);U.push(P);u.splice(P,0,a.G(w))}z.L8=U}}}z.eO=!0};
L.a5.prototype.dV=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y);if(this.Ko==null){var t=L.a5.a0x(c,4/z.i.XP,z.Cy,z.L8),u=t.pop(),v=t.length==0?"default":["ew","nwse","ns","nesw"][u]+"-resize",A=new cD(b.E.c,!0);
A.data={R:b.J.tk,BZ:v};J.a(A);return}if(!this.aqy&&c.Vm(this.Ko))return;this.aqy=!0;var $=z.Cy,t=this.YT;
if(t){c=L.DJ.o9(z,c,p,[!0,null,!1]);var X=Math.round(c.x),U=Math.round(c.y);for(var g=0;g<t.length;g+=2){var w=L.Xk.nQ($,t[g]),P=t[g+1];
w[P]=(P&1)==0?X:U;L.Xk.aA_(w);L.Xk.h5($,t[g],w)}}else{var k=c.Br(this.Ko),T=this.oh.slice(0);L.Xk.oA(T,k);
var Z=new fw(T[0],T[1],T[2]-T[0],T[3]-T[1]),i=L.DJ.qP(z,Z,p,[!0,null,!1],!0);L.DJ._B(z,Z,i);k.x+=i[0];
k.y+=i[1];for(var g=0;g<z.L8.length;g++)L.Xk.h5($,z.L8[g],this.QX[g]);L.Xk.Us(z,k)}z.eO=!0};L.a5.prototype.mI=function(z,J,p,n,B){if(this.Ko==null)return;
this.De(z);z.W.qT=null;z.eO=!0;this.Ko=null;this.YT=null;this.QX=null;this.aqy=!1};L.a5.a0x=function(z,J,p,n){var B=z.x,c=z.y,t=[],u=-1,v=[];
for(var g=0;g<n.length;g++){var A=n[g],$=L.Xk.nQ(p,A),X=$[0],U=$[1],w=$[2],P=$[3];if(B<X-J||w+J<B||c<U-J||P+J<c)continue;
var k=[B<X+J,c<U+J,w-J<B,P-J<c],T=-1;for(var Z=0;Z<4;Z++){if(k[Z]&&k[Z+1&3])T=1+2*(Z&1);if(k[Z])t.push(A,Z)}if(T==-1){if(k[0]||k[2])T=0;
if(k[1]||k[3])T=2}if(T!=-1){u=T;v.push(A)}}var i=t.length;for(var g=0;g<i;g+=2){var A=t[g],V=t[g+1],_=L.Xk.nQ(p,A)[V];
for(var Z=0;Z<n.length;Z++){var y=n[Z];if(v.indexOf(y)!=-1)continue;var $=L.Xk.nQ(p,y);if($[V&1]==_)t.push(y,V&1);
if($[2+(V&1)]==_)t.push(y,2+(V&1))}}t.push(u);return t};L.B0=function(z,J,p){L.y6.call(this,z,J,p);this.mz=null;
this.aCl=null;this.zh=null;this.Hh=null;this.Nt=null;this.HY=null;this.ku=null;this.wf=[]};L.B0.prototype=new L.y6;
L.B0.prototype.pf=function(){return!0};L.B0.sQ=function(z){if(z==null)return!1;if(z.Y.length!=1)return!1;
var J=z.U[z.Y[0]];return J.add.SoLd||z.AM(!1)};L.B0.prototype.XH=function(z,J){return L.B0.sQ(z)};L.B0.prototype.LA=function(z,J){return z==l5.mP||z==l5.IB};
L.B0.prototype.enable=function(z,J,p,n,B,c,t){this.aCl=c.Na;var u=c.Na,v,P=null;if(u){var A=z.U[u.w];
if(A.add.SoLd.filterFX!=null){var $=A.add.SoLd.filterFX.v.filterFXList.v;if($[u.index])v=a.G($[u.index].v.Fltr.v)}}var A=z.U[z.Y[0]],X=A.buffer,U=A.S,w=A.add.SoLd;
if(w){var k=w.nonAffineTransform.v;P=[];for(var g=0;g<4;g++)P.push(k[g*2].v,k[g*2+1].v);if(v==null)this.f0("edit",J);
var T=A.g6(z);X=T.buffer;U=T.S}this.Hh={buffer:X.slice(0),S:U.P(),w9:P};this.WT(v,z,J,c.agU);this.xW(J);
var Z=new cD(b.E.c,!0);Z.data={R:b.J.tk,BZ:"default"};J.a(Z)};L.B0.prototype.xW=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.jv,l:this.id,Xu:this.Nt};z.a(J)};L.B0.prototype.disable=function(z,J,p,n){if(this.HY)this.r$(z,J,!0)};
L.B0.prototype.f0=function(z,J){var p=new cD(b.E.H,!0);p.l=L._f;p.data={R:z,Na:this.aCl,mz:this.mz,Mf:this.zh};
J.a(p)};L.B0.prototype.r$=function(z,J,p){this.f0("confirm",J);this.escape(z,J,p)};L.B0.prototype.$D=function(z,J,p){this.f0("cancel",J);
this.escape(z,J,p)};L.w5=function(z,J,p){L.B0.call(this,[10,46],L.JO,"tools/transform");this.mz="rigidTransform";
this.Nt=[1,1,2,!0]};L.w5.prototype=new L.B0;L.w5.prototype.WT=function(z,J,p){this.zh=z?z:L.w5.sU(this.Hh,this.Nt);
this.HY=L.w5.pe(this.zh,this.Nt);this.z4();this.c4(J);if(z==null)this.xM(p)};L.w5.prototype.z4=function(z){var J=this.HY;
this.wf=[];for(var g=0;g<J.length;g++){var p=J[g];for(var n=0;n<p.Y.length;n++)this.wf.push([g,p.Y[g]]);
p.Si=a.uu.aHG(p);if(z)a.uu.aB0(p)}};L.w5.prototype.zD=function(z,J,p,n){if(z.Kq=="commit")this.r$(p,J,!0);
else if(z.Kq=="cancel")this.$D(p,J,!0);else if(z.Kq=="prm"){var B=!1;for(var g=0;g<3;g++)if(this.Nt[g]!=z.Xu[g])B=!0;
this.Nt=z.Xu;if(B){this.zh=L.w5.sU(this.Hh,this.Nt,this.zh);this.HY=L.w5.pe(this.zh,this.Nt);this.z4(!0);
this.xM(J)}this.c4(p)}else if(z.Kq=="moveDepth"){var c=this.HY;for(var t=0;t<c.length;t++){var u=c[t];
for(var g=0;g<u.Y.length;g++){var v=u.Y[g];u.IR[v]+=z.aCQ?1:-1}}this.xM(J)}};L.w5.prototype.qA=function(z,J,p,n){var B=n.wK();
if(n.Q(l5.Kd))this.r$(z,J,!0);else if(n.Q(l5.Mz))this.$D(z,J,!0);else if(n.Q(l5.mP)||n.Q(l5.IB)){var c=this.HY;
for(var t=0;t<c.length;t++){var u=c[t];u.Y.sort(function($,X){return X-$});for(var g=0;g<u.Y.length;
g++){var v=u.Y[g],A=v*2;u.IR.splice(v,1);u.z_.splice(v,1);u.hs.splice(v,1);u.Ft.splice(v,1);u.si.splice(A,2);
u.BR.splice(A,2)}u.Y=[];if(u.Ft.length==0){u.ib=u.S_.slice(0);u.oM=u.S_.slice(0)}}this.z4(!0);this.xM(J);
this.c4(z)}else if(B.x!=0||B.y!=0){this.aol(z,B.x,B.y,J);this.Tb=null}};L.w5.prototype.escape=function(z,J,p){z.W.cV=null;
z.W.hT=[];z.W.u2=[];z.eO=!0;this.HY=null;var n=new cD(b.E.c,!0);n.data={R:b.J.Jl};if(p)J.a(n)};L.w5.prototype.lW=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=c.x,u=c.y,v=this.HY,A=null,$=[0,2,4,1.2,1.2,1.2],X=-1,U=L.DT(z,B);
for(var g=0;g<v.length;g++){var w=v[g],P=a.b.dy(w.BR,t,u,U);if(P!=-1)A=[g,P];if(X==-1&&a.uu.a1f.ard(w.oM,w.Lz,t,u))X=g}if(A==null&&X!=-1){var w=v[X];
L.w5.ai1(w,t,u,t,u,0);A=[X,w.Ft.length-1];w.Si=a.uu.aHG(w)}this.ku=c;if(A){var k=v[A[0]].Y.indexOf(A[1])!=-1;
if(n.Q(l5.VN)&&!k){v[A[0]].Y.push(A[1]);this.wf.push(A)}else if(!k){v[A[0]].Y=[A[1]];this.wf=[A]}}this.c4(z)};
L.w5.ai1=function(z,J,p,n,B,c){var t=a.b.dy(z.oM,J,p);z.Ft.push(t);z.BR.push(n,B);z.si.push(z.oM[t*2]-J,z.oM[t*2+1]-p);
z.hs.push(0);z.z_.push(!1);z.IR.push(c)};L.w5.prototype.dV=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=this.ku;
if(t)this.aol(z,c.x-t.x,c.y-t.y,J)};L.w5.prototype.aol=function(z,J,p,n){var B={},c=this.wf,t=this.HY;
if(this.Tb==null){this.Tb=[];for(var g=0;g<t.length;g++)this.Tb.push(t[g].BR.slice(0))}for(var g=0;g<c.length;
g++){var u=this.wf[g],v=u[0],A=t[u[0]],$=u[1]*2;A.BR[$+0]=this.Tb[v][$+0]+J;A.BR[$+1]=this.Tb[v][$+1]+p;
B[v]=v}for(var v in B)a.uu.aB0(this.HY[B[v]]);this.c4(z);this.xM(n)};L.w5.prototype.mI=function(z,J,p,n,B){this.ku=null;
this.Tb=null};L.w5.prototype.xM=function(z){L.w5.a7P(this.HY,this.Nt,this.zh);this.f0("edit",z)};L.w5.prototype.c4=function(z){var J=this.HY,p=this.zh;
z.W.cV={L:[],Ao:[]};z.W.hT=[];z.W.u2=[];for(var g=0;g<J.length;g++){var n=J[g];for(var B=0;B<n.BR.length;
B+=2){var c=z.W.u2;if(n.Y.indexOf(B>>>1)!=-1)c=z.W.hT;c.push(n.BR[B],n.BR[B+1])}if(this.Nt[3])a.b.concat(z.W.cV,a.b.a4e(n.oM,n.Lz))}z.eO=!0};
L.w5.sU=function(z,J,p){var n=z.buffer,B=z.S,c=z.w9,t=em.J0("rigidTransform");if(c)for(var g=0;g<4;g++){t["PuX"+g].v=c[g*2];
t["PuY"+g].v=c[g*2+1]}var u=t.puppetShapeList.v,v=a.uu.aF4(n,B.r,B.$,J[1],J[2]),A=[];for(var $=0;$<v.length;
$++){var X={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
X.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var U=v[$];u.push({t:"Objc",v:X});var w=U.S_.slice(0);a.b.h(w,new fA(1,0,0,1,B.x,B.y),w);var P=U.Lz;
for(var g=0;g<P.length;g+=3){var k=P[g+1];P[g+1]=P[g+2];P[g+2]=k}A.push({Lz:P,S_:w,ib:w,oM:w,Ft:[],si:[],BR:[],Si:null,Y:[],hs:[],z_:[],IR:[]})}if(p){var T=L.w5.pe(p,[]),Z=A[0];
for(var g=0;g<T.length;g++){var i=T[g];for(var V=0;V<i.Y.length;V++)Z.Y.push((Z.BR.length>>>1)+i.Y[V]);
for(var V=0;V<i.Ft.length;V++){var _=i.Ft[V]*2,y=i.S_[_]-i.si[V*2],E=i.S_[_+1]-i.si[V*2+1];L.w5.ai1(Z,y,E,i.BR[V*2],i.BR[V*2+1],i.IR[V])}}}L.w5.a7P(A,J,t);
return t};L.w5.pe=function(z,J){var p=L.tp.bU,n=z.puppetShapeList.v,B=[];for(var c=0;c<n.length;c++){var t=n[c].v;
J[0]=t.meshRigidity.v-1;J[1]=t.meshQuality.v-1;J[2]=t.meshExpansion.v;var u=t.pinVertexIndices.v.length,v=t.meshBoundaryPath.v.pathComponents.v;
if(v.length!=0){var A=v[0].v.SbpL.v[0].v.Pts;A.v=[]}var $=new Uint32Array(new Uint8Array(t.indexArray.v).buffer),X=new Float32Array(new Uint8Array(t.originalVertexArray.v).buffer),U=new Float32Array(new Uint8Array(t.deformedVertexArray.v).buffer),w=[],P=[],k=[];
for(var g=0;g<$.length;g++)w.push($[g]);for(var g=0;g<X.length;g++){P.push(X[g]);k.push(U[g])}var T=p(t.pinVertexIndices),Z=p(t.pinOffsets),i=p(t.posFinalPins),V=p(t.PnRt),_=p(t.PnOv),y=p(t.PnDp),E=p(t.selectedPin);
B.push({Lz:w,S_:P,ib:k.slice(0),oM:k,Ft:T,si:Z,BR:i,Si:null,hs:V,z_:_,IR:y,Y:E})}return B};L.w5.a7P=function(z,J,p){function n(U,w){var P=[];
for(var g=0;g<U.length;g++)P.push({t:w,v:U[g]});return P}function B(U,w,P){var k=new(P?Uint32Array:Float32Array)(U),T=new Uint8Array(k.buffer);
for(var g=0;g<T.length;g++)w[g]=T[g]}var c=p.puppetShapeList.v;for(var t=0;t<c.length;t++){var u=z[t],v=c[t].v;
v.meshRigidity.v=J[0]+1;v.meshQuality.v=J[1]+1;v.meshExpansion.v=J[2];B(u.Lz,v.indexArray.v,!0);B(u.S_,v.originalVertexArray.v);
B(u.oM,v.deformedVertexArray.v);var A=[];for(var g=0;g<u.Ft.length;g++){var $=u.Ft[g]*2,X=g*2;A[X]=u.S_[$]-u.si[X];
A[X+1]=u.S_[$+1]-u.si[X+1]}v.PinP.v=n(A,"doub");v.pinVertexIndices.v=n(u.Ft,"long");v.pinOffsets.v=n(u.si,"doub");
v.posFinalPins.v=n(u.BR,"doub");v.PnRt.v=n(u.hs,"long");v.PnOv.v=n(u.z_,"bool");v.PnDp.v=n(u.IR,"doub");
v.selectedPin.v=n(u.Y,"long")}};L.W4=function(z,J,p){L.B0.call(this,"Perspective Warp",L.h1,"tools/transform");
this.mz="perspectiveWarpTransform";this.RJ=-1;this.FD=-1;this.st=!1;this.aD7=!1};L.W4.prototype=new L.B0;
L.W4.prototype.WT=function(z,J,p){this.zh=z?z:em.J0(this.mz);this.HY=a.l2.bF(this.zh);if(this.Hh.w9){this.HY.w9=this.Hh.w9;
a.l2.pK(this.HY,this.zh)}this.Nt=this.HY.th;this.xW(p);this.c4(J)};L.W4.prototype.lW=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=this.HY,u=t.th,v=u==0?t.MX:t.BR;
this.st=!0;if(u==0&&this.RJ==-1){var A=v.length>>>1,$=-(z.r+z.$>>>4);t.Ee.push(A,A+1,A+2,A+3);v.push(c.x,c.y,c.x+$,c.y,c.x+$,c.y+$,c.x,c.y+$);
t.BR=v.slice(0);this.aD7=!0;this.RJ=A;a.l2.pK(t,this.zh);this.c4(z)}if(this.RJ!=-1)this.FD=this.RJ};
L.W4.prototype.dV=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=this.HY,u=t.th,v=u==0?t.MX:t.BR,A=t.Ee;
if(this.st){var $=this.RJ,X=v.slice(0);X[$*2]=c.x;X[$*2+1]=c.y;for(var g=0;g<A.length;g+=4){var U=[];
for(var w=0;w<4;w++)U.push(X[2*A[g+w]],X[2*A[g+w]+1]);if(!ia.lq(U))return}if(u==0){t.MX=X;if(this.aD7)t.BR=X.slice(0)}else{t.BR=X;
this.aD7=!1}a.l2.pK(t,this.zh);if(u==1)this.f0("edit",J)}else{var P=L.DT(z,B);this.RJ=a.b.dy(v,c.x,c.y,P)}this.c4(z)};
L.W4.prototype.mI=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=this.HY,u=t.th,v=u==0?t.MX:t.BR,A=t.Ee,$=this.RJ;
this.st=!1;if(u==0&&$!=-1){var X=L.DT(z,B),U=a.b.dy(v,c.x,c.y,X,$);if(U!=-1){if(U<$){var w=$;$=U;U=w}var P=A.slice(0),k=v.slice(0);
k.splice(U*2,2);for(var g=0;g<P.length;g++){if(P[g]==U)P[g]=$;else if(P[g]>U)P[g]--}for(var g=0;g<P.length;
g+=4){for(var T=0;T<4;T++)for(var Z=T+1;Z<4;Z++)if(P[g+T]==P[g+Z])return}t.Ee=P;if(u==0)t.MX=k;else t.BR=k;
a.l2.pK(t,this.zh);this.c4(z)}}};L.W4.prototype.qA=function(z,J,p,n){var B=n.wK(),c=this.FD,t=this.HY,u=t.th;
if(n.Q(l5.Kd))this.r$(z,J,!0);else if(n.Q(l5.Mz))this.$D(z,J,!0);else if(n.Q(l5.mP)||n.Q(l5.IB))if(u==0&&c!=-1){var v=t.Ee;
for(var g=0;g<v.length;g+=4){if(v[g]==c||v[g+1]==c||v[g+2]==c||v[g+3]==c){v.splice(g,4);g-=4}}var A=[];
for(var g=0;g<t.MX.length;g++)A.push(g);for(var g=(t.MX.length>>>1)-1;g>=0;g--){if(v.indexOf(g)==-1){A.splice(g,1);
t.MX.splice(g*2,2);t.BR.splice(g*2,2)}}for(var g=0;g<v.length;g++)v[g]=A.indexOf(v[g]);a.l2.pK(t,this.zh);
this.FD=-1;this.c4(z)}};L.W4.prototype.zD=function(z,J,p,n){if(z.Kq=="commit")this.r$(p,J,!0);else if(z.Kq=="cancel")this.$D(p,J,!0);
else{this.HY.th=z.Xu;a.l2.pK(this.HY,this.zh);this.c4(p);this.f0("edit",J)}};L.W4.prototype.escape=function(z,J,p){z.W.S4=null;
z.W.hT=[];z.W.u2=[];z.eO=!0;this.HY=null;var n=new cD(b.E.c,!0);n.data={R:b.J.Jl};if(p)J.a(n)};L.W4.prototype.c4=function(z){var J=this.HY,p=this.RJ,n=this.FD,B=J.th==0?J.MX:J.BR,c=J.Ee;
z.W.u2=B.slice(0);z.W.hT=[];if(n>p){var t=p;p=n;n=t}if(p!=-1){z.W.hT.push(B[p*2],B[p*2+1]);z.W.u2.splice(p*2,2)}if(n!=-1&&n!=p){z.W.hT.push(B[n*2],B[n*2+1]);
z.W.u2.splice(n*2,2)}z.W.S4={L:[],Ao:[]};for(var g=0;g<c.length;g+=4){z.W.S4.Ao.push("M","L","L","L","Z");
for(var u=0;u<4;u++)z.W.S4.L.push(B[2*c[g+u]],B[2*c[g+u]+1])}z.eO=!0};L.UH=function(){L.B0.call(this,"Blur Gallery",L.LH,"tools/ruler");
this.mz="blurbTransform";this.Nt=[0,[],null];this.RJ=-1};L.UH.prototype=new L.B0;L.UH.prototype.WT=function(z,J,p,n){this.HY={};
var B=z==null;if(z==null){z=em.J0(this.mz);a.Bh.a7A(z,n,J.r/2,J.$/2);var c=[!1,!1,!1,!1,!1,!1];c[n]=!0;
a.Bh.avw(z,c)}this.zh=z;this.Nt[0]=a.Bh.ajo(z);this.Nt[1]=a.Bh.aod(z);this.c4(J);if(B)this.f0("edit",p)};
L.UH.prototype.qA=function(z,J,p,n){if(n.Q(l5.Kd))this.r$(z,J,!0);else if(n.Q(l5.Mz))this.$D(z,J,!0);
else if(n.Q(l5.mP)||n.Q(l5.IB)){var B=this.RJ;if(B==-1)return;var c=this.Nt[0],t=a.Bh.FQ(this.zh)[0],u=t[c];
if(c==0)u.splice(B,1);if(c==1||c==5)u.splice(Math.floor(B/6),1);if(c==3)u.splice(Math.floor(B/5),1);
if(c==4)u.splice(Math.floor(B/4),1);a.Bh.KL(t,this.zh);a.Bh.zq(this.zh,c);this.RJ=-1;this.c4(z);this.f0("edit",J)}};
L.UH.prototype.zD=function(z,J,p,n){if(z.Kq=="commit")this.r$(p,J,!0);else if(z.Kq=="cancel")this.$D(p,J,!0);
else{this.Nt=z.Xu;var B=this.Nt[0],c=this.RJ;a.Bh.avw(this.zh,this.Nt[1]);if(this.Nt[2]){var t=a.Bh.FQ(this.zh)[0],u=t[B];
if(B==0)u[c][2]=this.Nt[2][0];if(B==1||B==5)u[Math.floor(c/6)][14]=this.Nt[2][0];if(B==3)u[Math.floor(c/5)][10]=this.Nt[2][0];
if(B==4){u[0][4]=this.Nt[2][0]/100;var v=(c&3)<2?0:5,A=u[Math.floor(c/4)],$=A[v],X=A[v+1],U=A[v+2]-$,w=A[v+3]-X,P=Math.sqrt(U*U+w*w),k=this.Nt[2][1];
if(P==0){A[v+2]=$+k;A[v+3]=X}else{A[v+2]=$+k*U/P;A[v+3]=X+k*w/P}}a.Bh.KL(t,this.zh)}a.Bh.zq(this.zh,B);
this.c4(p);this.f0("edit",J)}};L.UH.prototype.escape=function(z,J,p){z.W.qH=null;z.W.S4=null;z.W.lD=null;
z.W.hT=[];z.W.u2=[];z.eO=!0;this.HY=null;var n=new cD(b.E.c,!0);n.data={R:b.J.Jl};if(p)J.a(n)};L.UH.prototype.c4=function(z){var J=a.Bh.FQ(this.zh)[0];
z.W.hT=[];z.W.u2=[];var p=z.W.qH={L:[],Ao:[]},n=z.W.S4={L:[],Ao:[]},B=z.W.lD={L:[],Ao:[]};this.wf=[];
this.aBR=[];var c=this.Nt[0],t=this.RJ,u=J[c];for(var g=0;g<u.length;g++){var v=u[g];if(c==0){if(g==t){z.W.hT.push(v[0],v[1]);
this.Nt[2]=[v[2]]}else z.W.u2.push(v[0],v[1]);this.aBR.push([]);this.wf.push(v[0],v[1])}else if(c==1||c==5){var A=a.Bh.aCD(v);
A.oU();var $=[0,-1,1,0,0,1,-1,0,0,0,1-v[10],0];a.b.h($,A,$);for(var X=0;X<$.length;X+=2){if(t==g*6+(X>>>1)){z.W.hT.push($[X],$[X+1]);
this.Nt[2]=[v[14]]}else z.W.u2.push($[X],$[X+1]);this.wf.push($[X],$[X+1])}var U=a.b.Ru(a.z.dZ.xJ(-1,-1,2,2));
a.b.concat(p,U,A)}else if(c==3){var w=v[0],P=v[1],k=v[2]-v[0],T=v[3]-v[1],Z=Math.sqrt(k*k+T*T),i=T*1e4/Z,V=-k*1e4/Z;
for(var X=0;X<10;X+=2){if(t==g*5+(X>>>1)){z.W.hT.push(v[X],v[X+1]);this.Nt[2]=[v[10]]}else z.W.u2.push(v[X],v[X+1]);
this.wf.push(v[X],v[X+1]);if(X==0)continue;if(Math.floor(t/5)!=g)continue;p.L.push(v[X]-i,v[X+1]-V,v[X]+i,v[X+1]+V);
p.Ao.push("M","L")}}else if(c==4){B.L.push(v[0],v[1],v[5],v[6]);B.Ao.push("M","L");for(var X=0;X<2;X++){var _=X*5,w=v[_],P=v[_+1],y=v[_+2],E=v[_+3],k=y-w,T=E-P,F=Math.sqrt(k*k+T*T),d=25;
if(F!=0){k/=F;T/=F}if((t&14)==g*4+X*2){z.W.hT.push(w,P,y,E);this.Nt[2]=[v[4]*100,F]}else z.W.u2.push(w,P,y,E);
n.L.push(w,P,y,E);n.Ao.push("M","L");this.wf.push(w,P,y,E);if(F==0)continue;var x=-k*d*2,f=-T*d*2;n.L.push(y,E,y+(-T*d+x),E+(k*d+f));
n.L.push(y,E,y+(T*d+x),E+(-k*d+f));n.Ao.push("M","L","M","L","M","L")}}}z.eO=!0};L.UH.prototype.dV=function(z,J,p,n,B){function c(N,g,o){var E=N[g]-N[o],d=N[g+1]-N[o+1];
return Math.sqrt(E*E+d*d)}var t=z.i.Ka(B.x,B.y),u=a.b.dy(this.wf,t.x,t.y,6/z.i.XP);if(this.ku){var v=this.RJ,A=this.Nt,$=A[0],X=a.Bh.FQ(this.zh)[0],U=X[$];
if($==0){U[v][0]=t.x;U[v][1]=t.y}if($==1||$==5){var w=Math.floor(v/6),P=v-w*6,k=U[w],T=c(k,0,2)/2,Z=c(k,2,4)/2,i=k[8],V=k[9],_=Math.atan2(-k[3]+k[1],k[2]-k[0]),y=k[10],E=t.x-i,d=t.y-V,x=Math.sqrt(E*E+d*d);
if(P<4){_=Math.atan2(-d,E)+(-1+P)*Math.PI/2;if(P==0||P==2)Z=x;else T=x}if(P==4){i=t.x;V=t.y}if(P==5)y=Math.max(0,Math.min(1,1-x/T));
var f=new fA;f.scale(T,Z);f.rotate(_);f.translate(i,V);var Q=U[w]=[-1,-1,1,-1,1,1,-1,1,0,0];a.b.h(Q,f,Q);
Q.push(y,y,y,y,k[14])}if($==3){var w=Math.floor(v/5),P=v-w*5,k=U[w],m=k[0],H=k[1],S=c(k,0,2),R=c(k,0,4),I=c(k,0,6),D=c(k,0,8),_=Math.atan2(-k[3]+k[1],k[2]-k[0]),E=t.x-m,d=t.y-H,x=Math.sqrt(E*E+d*d);
if(P==0){m=t.x;H=t.y}if(P==1)S=Math.max(I*1.1,x);if(P==2)R=Math.max(D*1.1,x);if(P==3)I=Math.min(S,x);
if(P==4)D=Math.min(R,x);if(P==1)_=Math.atan2(-d,E);if(P==2)_=Math.atan2(d,-E);var Q=U[w]=[0,0,-S,0,R,0,-I,0,D,0],f=new fA;
f.rotate(_+Math.PI);f.translate(m,H);a.b.h(Q,f,Q);Q.push(k[10])}if($==4){var w=Math.floor(v/4),P=v-w*4,k=U[w],G=P<2?0:5;
if((P&1)==0){var C=[k[2]-k[0],k[3]-k[1],k[7]-k[5],k[8]-k[6]],O=Math.atan2(-(k[6]-k[1]),k[5]-k[0]);k[G]=t.x;
k[G+1]=t.y;var Y=Math.atan2(-(k[6]-k[1]),k[5]-k[0]),f=new fA;f.rotate(Y-O);for(var g=0;g<2;g++){var h=new i_(C[g*2],C[g*2+1]);
h=f.g$(h);k[g*5+2]=k[g*5]+h.x;k[g*5+3]=k[g*5+1]+h.y}}else{k[G+2]=t.x;k[G+3]=t.y}}a.Bh.KL(X,this.zh);
a.Bh.zq(this.zh,$);this.c4(z)}else{var r="default";if(u!=-1)r="pointer";var W=new cD(b.E.c,!0);W.data={R:b.J.tk,BZ:r};
J.a(W)}};L.UH.prototype.lW=function(z,J,p,n,B){var c=this.Nt[0],t=z.i.Ka(B.x,B.y),u=t.x,v=t.y,A=a.b.dy(this.wf,u,v,10/z.i.XP);
if(A==-1){A=a.Bh.a7A(this.zh,c,u,v)}this.ku=t;this.RJ=A;this.c4(z)};L.UH.prototype.mI=function(z,J,p,n,B){if(this.ku){this.f0("edit",J);
this.xW(J)}this.ku=null};L.T2=function(){L.gL.call(this,[10,44],L.a9J,"tools/oselect");this.hc="crosshair";
this.avV=0};L.T2.prototype=new L.gL;L.T2.prototype.Zf=function(z,J,p,n){if(Math.random()<1/(1+this.avV)){alert("The cross should be fully inside the object.",3500);
this.avV++}};L.T2.prototype.Is=function(z,J,p,n){L.pc.YB(z,L.gL.NG,this.kP);if(!n.Wj||!this.PA)return;
var B=this.R2(z,p,!1),c=B.r,t=B.$,u=B.x,v=B.y,A=B.x+c,$=B.y+t,X=u+c/2,U=v+t/2,w=L.T2.a6K;z.W.cV={L:[u,v,A,v,A,$,u,$,X-c*w,U,X+c*w,U,X,U-t*w,X,U+t*w],Ao:"M L L L Z M L M L".split(" ")};
z.eO=!0};L.T2.a6K=.12;L.T2.prototype.fW=function(z,J,p,n){z.W.cV=null;z.eO=!0;this.finish(z,J,p,n)};
L.T2.prototype.getSelection=function(z,J,p,n){if(this._F.Vm(this.Ne)||!this.PA)return null;var B=this.R2(z,p,!1),c=z.U[z.Y[0]];
if(B.Sz()||!B.SH(c.S))return null;return L.gL.Dw("ObSl",B)};L.pc=function(){L.SD.call(this,[10,37],L.qC,"tools/qselect");
this.UX="qselect"};L.pc.prototype=new L.SD;L.pc.prototype.lW=function(z,J,p,n,B){if(z.Y.length==0){alert("Select a layer first.");
return}L.pc.YB(z,L.gL.NG,J,!0);this.ZP(z,p,n,B,1);if(this.nC==null)return;this.i$(z)};L.pc.prototype.dV=function(z,J,p,n,B){this.iG(z,J,p);
L.pc.YB(z,L.gL.NG,J);if(this.SO)this.ST(z,p,B);if(this.nC==null)return;if(!B.Wj)return;var c=this.A5(z,p,n,B);
if(c!=1)this.i$(z)};L.pc.YB=function(z,J,p,n){if(z.Y.length==0)return;if(z&&J.key!=L.pc.Iv(z)){J.key=L.pc.Iv(z);
var B=z.U[z.Y[0]].S.C(),t="Image Analysis ...";if(B==0)return;var c=B>1e6&&n!=!0,u=new cD(b.E.c,!0);
u.data={R:b.J.Yg,gX:t};if(c)p.a(u);var v=function(){var A=L.pc.aj4(z);for(var $ in A)J[$]=A[$];var u=new cD(b.E.c,!0);
u.data={R:b.J.wg,gX:t};if(c)p.a(u)};if(n)v();else setTimeout(v,30)}};L.pc.Iv=function(z){var J=z.Y[0],p=z.U[J],n=p.S,B=n.r,c=n.$,t=B*c,u=a.hg(p.buffer,8);
return[J,n.x,n.y,B,c,u[0],u[1],u[2],u[3]].join(",")};L.pc.aj4=function(z){var J=z.Y[0],p=z.U[J],n=p.S,B=n.r,c=n.$,t=B*c,u=a.hg(p.buffer,8),v=Date.now(),A=a.j(t);
A.fill(128);var $=a.YM.Rv(u,B,c);console.log(Date.now()-v);var X={key:L.pc.Iv(z),aF:u,S:n.P(),Tx:B,tK:c,w2:12,hr:A,Yw:$,M:a.j(t),nY:null,jA:null,Iq:null};
L.pc.Mr(X,null,z);return X};L.pc.Mr=function(z,J,p){var n=z.Tx,B=z.tK,c=0,t=0,u=Date.now(),v=z.nY!=null&&a.YM.Mw(z.nY.Lz,z.nY.ZA,z.hr)==-1;
c=Date.now()-u;u=Date.now();if(!v){var A=a.YM.Mw(z.Yw.Lz,z.Yw.ZA,z.hr),$=0;while(A!=-1){var X=[],U=[],w=z.Yw.Lz;
for(var P=0;P<B;P++)for(var k=0;k<n;k++){var g=P*n+k;if(w[g]==A){var T=z.hr[g];if(T==0)X.push(k,P);if(T==255)U.push(k,P)}}var Z=p.U[p.Y[0]],i=a.hg(Z.buffer,8);
a.YM.Rv.mW(i,n,B,z.Yw,X,U);A=a.YM.Mw(z.Yw.Lz,z.Yw.ZA,z.hr);$++;if($>=10){console.log("too many subdivisions");
break}}z.nY=a.YM.Id(z.Yw,n,B,z.hr,z.w2);z.jA=a.YM.adQ(z.aF,n,B,z.nY.Lz,z.nY.ZA);z.Iq=[z.jA[0].slice(0),[]];
t=Date.now()-u;u=Date.now()}var u=Date.now();if(J){z.Iq[0].set(z.jA[0]);var V=z.jA[1],_=z.Iq[1];for(var y=0;
y<V.length;y++)_[y]=V[y].slice(0);a.YM.aEL(z.nY.Lz,n,B,z.nY.ZA,z.hr,z.M,z.Iq)}};L.Mb=function(){L.y6.call(this,[10,50],L.oH,"tools/artb");
this.E4=null;this.a8H=!1;this.nW=null;this.Pe=!1;this.aoe=null;this.ye=100;this.pt=null;this.Fd=0};L.Mb.prototype=new L.y6;
L.Mb.prototype.$P=function(z,J,p,n,B){this.OM(p,z.ajp,J,z.th)};L.Mb.af$=function(z,J){var p=z[0],n=0,B=0;
if(p==0)B=-1;else if(p==1)n=1;else if(p==2)B=1;else n=-1;return[20/J.HB,z[1]+n*60/J.HB,z[2]+B*60/J.HB]};
L.Mb.prototype.zD=function(z,J,p,n,B){this.E4=z.Xu;this.Fd=Date.now()};L.Mb.prototype.BL=function(z,J,p,n){if(p.Ms!=this.id)return;
if(z==null||z.Y.length!=1){this.Cj(z);return}var B=z.Y[0],c=z.U[B],t=c.add.artb;if(t==null){this.Cj(z);
return}if(this.Pe)return;if(Date.now()-this.Fd>50){this.E4={};var u=["artboardBackgroundType","Clr"];
for(var g=0;g<u.length;g++)if(t[u[g]])this.E4[u[g]]=a.G(t[u[g]]);var v=new cD(b.E.c,!0);v.data={R:b.J.jv,l:this.id,z2:this.E4};
J.a(v)}var A=c.x0(),$=a.b.e3(A).L,X=this.nW=new ia($,!0,!1,!1,!0,!1,3,!1);X.iT(z,p,!1);var U={L:[1,0],Ao:["M"]};
for(var g=1;g<30;g++){var w=Math.PI*2*g/30;U.L.push(Math.cos(w),Math.sin(w));U.Ao.push("L")}U.Ao.push("Z","M","L","M","L");
U.L.push(-.5,0,.5,0,0,-.5,0,.5);var P=A.x+A.r/2,k=A.y+A.$/2,T=this.ye*1.1,Z=this.aoe=[P,A.y,A.x+A.r,k,P,A.y+A.$,A.x,k],i=[0,-T,T,0,0,T,-T,0],V=z.root.children;
z.W.je=[];for(var g=0;g<4;g++){var _=new i_(Z[g*2]+i[g*2],Z[g*2+1]+i[g*2+1]),y=!1;for(var E=0;E<V.length;
E++){var c=V[E].w;if(c.add.artb==null)continue;var A=c.x0();if(A.n9(_))y=!0}if(y){Z[g*2]=1e9;continue}z.W.je.push([g,Z[g*2],Z[g*2+1]])}};
L.Mb.prototype.disable=function(z,J,p,n,B){this.Cj(z)};L.Mb.prototype.Cj=function(z){if(this.nW){this.nW.clear(z);
this.nW=null;z.W.je=null}};L.Mb.prototype.lW=function(z,J,p,n,B){this.Fd=Date.now();var c=z.i.Ka(B.x,B.y),t=this.nW;
if(t){var u=new cD(b.E.H),v=t.q_(null,c,z,B);if(v<9){this.Pe=t.lW(z,p,n,c,null,!0,B);return}else if(t._W(c)){u.l=L.vX;
u.data={R:"disabAuto"};J.a(u);var A=new cD(b.E.c);A.data={R:b.J.OS,l:L.vX,afe:!0};J.a(A);return}else{var $=-1,X=z.W.je;
for(var g=0;g<X.length;g++){var U=L.Mb.af$(X[g],z.i);if(i_.mT(c,new i_(U[1],U[2]))<U[0])$=X[g][0]}if($!=-1){var w=z.U[z.Y[0]].x0(),P=w.P(),k=($==0||$==2?w.$:w.r)+this.ye;
if($==0||$==3)k=-k;if($==0||$==2)w.y+=k;else w.x+=k;if(n.Q(l5.W0)){var T=new fw(0,0,z.r,z.$);u.l=L.bX;
u.data={R:bi.Kb};J.a(u);L.DJ.QS(z,z.l3(null,z.Y[0],null,!0),null,w.x-P.x,w.y-P.y);z.Y=z.Y.slice(z.Y.length-1);
var Z=L.d_.GY(z);if(Z){var i=z.HE();i.data.$_=T;i.data.xK=Z;i.data.mG=z.Y}}else this.OM(z,w,J);return}}}this.pt=L.DJ.o9(z,c,p)};
L.Mb.prototype.OM=function(z,J,p,n){if(n==null)n=0;var B=z.U.slice(0),c=[z.U.length+1],t=z.JG();t.HV(j0.get([1,16,0])+" "+(z.add.artd==null?1:z.root.children.length+1));
t.add.lsct=cp.xj;t.Uu(J);if(this.E4){var u=t.add.artb,v=this.E4;for(var A in v)u[A]=v[A]}t.QN="pass";
t.a3=24;if(n==0){if(z.add.artd||J.ly(new fw(0,0,z.r,z.$)).Sz())B.push(z.eH());else B.unshift(z.eH())}else{var $=z.l3();
$.sort(function(k,T){return k-T});var X=L.vJ.IE(z,$,B.length-1,!1,null,!1),U=X.pop(),w=X.pop();B=X.pop();
B.splice(z.U.length-$.length,0,z.eH())}B.push(t);var P=new cD(b.E.H);P.l=L.bX;P.data={R:bi.Y7,lP:B,Gq:c,cN:[1,16,2]};
p.a(P)};L.Mb.prototype.dV=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=this.nW,u=this.pt;if(t){if(this.Pe){t.dV(z,p,n,c)}else{var v=t.TR(c,z.i.XP,null,B);
if(v==null)v="default";var A=new cD(b.E.c,!0);A.data={R:b.J.tk,BZ:v};J.a(A)}}if(u){var $=this.nQ(z,c,n,p);
z.W.cV=a.b.e3($);z.eO=!0;L.y6.Mi(B,$,z,p)}};L.Mb.prototype.mI=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=this.pt;
if(this.Pe){this.nW.mI(z,p,n,c);this.Pe=!1;var u=a.b._g(this.nW.rI()),v=bi.Hk(u),A=z.U[z.Y[0]],$=a.G(A.add.artb);
$.artboardRect.v=v;var X=new cD(b.E.H,!0);X.l=L.bX;X.data={R:bi.EP,wd:$};J.a(X)}if(t){var U=this.nQ(z,c,n,p);
if(U.C()>20)this.OM(z,U,J);z.W.cV=null;z.eO=!0;this.pt=null;z.W.wE=[]}};L.Mb.prototype.nQ=function(z,J,p,n){var B=this.pt,c=L.DJ.o9(z,J,n),t=L.Fz.wP(B,c,p,!0);
B=t[0];c=t[1];return a.b._g([B.x,B.y,c.x,c.y])};L.pn=function(){L.y6.call(this,[10,50],L.kA,"tools/artb");
this.nW=null;this.aK=!1;this.f=null;this.a3E=null;this.s9=null;this.ac9=null;this.acV=null;this.LO=null;
this.sD=null};L.pn.prototype=new L.y6;L.pn.prototype.LA=function(z,J){return z==l5.mP||z==l5.IB};L.pn.prototype.qA=function(z,J,p,n){if(n.Q(l5.mP)||n.Q(l5.IB))this.$P({R:"del"},J,z,n,p)};
L.pn.prototype.$P=function(z,J,p,n,B){var c=p.add.arts;this.a3E=JSON.stringify(c);if(z.R=="del"){for(var g=0;
g<c.length;g++)if(c[g].Y){c.splice(g,1);g--}}if(z.R=="new"){for(var g=0;g<c.length;g++)c[g].Y=!1;var t=p.Ar(),u=t.x+t.r+20;
c.push({y0:"Artboard "+(c.length+1),J4:[u,t.y,u+100,t.y+100],Y:!0})}if(z.R=="rpl"){var v=0;for(var g=0;
g<c.length;g++)if(c[g].Y)v=g;c[v]=z.K}if(z.R=="adapt"){var A=[];for(var g=0;g<p.U.length;g++)A.push(g);
var $=L.tp.R2(p,A),X=c[c.length-1];X.J4=[$.x,$.y,$.x+$.r,$.y+$.$]}this.atc(p);this.y4(p)};L.pn.prototype.disable=function(z,J,p,n,B){this.aK=!1};
L.pn.prototype.enable=function(z,J,p,n,B){this.aK=!0;this.f=p;this.y4(z)};L.pn.prototype.Cj=function(z){};
L.pn.prototype.lW=function(z,J,p,n,B){var c=this.sD=z.i.Ka(B.x,B.y),t=z.add.arts;this.a3E=JSON.stringify(t);
var u=this.nW,v=u?u.TR(c,z.i.XP,null,B):null,A=n.Q(l5.zT)||n.Q(l5.VN);if(u&&!A&&(a.b.yq(u.rI()).n9(c)||v)){}else{var $=-1;
for(var g=0;g<t.length;g++)if(a.b.yq(t[g].J4).n9(c))$=g;if($==-1)this.Rp(z,-1);else if(A)t[$].Y=!t[$].Y;
else this.Rp(z,$);this.y4(z)}if(this.nW){this.nW.lW(z,p,n,c,null,!0,B)}z.eO=!0};L.pn.prototype.dV=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=z.add.arts,u=JSON.parse(this.s9);
if(this.nW){this.nW.dV(z,p,n,c);if(B.Wj){var v=a.b.yq(this.nW.rI()),A=this.acV,$=new fA;$.translate(-A.x,-A.y);
$.scale(v.r/A.r,v.$/A.$);$.translate(v.x,v.y);var X=this.nW.q_(n,c,z,B);for(var g=0;g<t.length;g++){var U=t[g];
if(!U.Y)continue;if(a.b.yq(u[g].J4).Sz())U.J4=[v.x,v.y,v.x+v.r,v.y+v.$];else{U.J4=u[g].J4.slice(0);a.b.h(U.J4,$,U.J4)}}if(X==10){L.DJ.QS(z,this.ac9,null,v.x-this.LO.x,v.y-this.LO.y);
this.LO=v}z.qM()}var w="default",P=this.nW.TR(c,z.i.XP,null,B);if(P)w=P;var k=new cD(b.E.c,!0);k.data={R:b.J.tk,BZ:w};
J.a(k)}else if(B.Wj&&i_.mT(c,this.sD)>=6/z.i.XP){t.push({y0:"Artboard "+(t.length+1),J4:[0,0,0,0],Y:!0});
this.y4(z);this.nW.lW(z,p,n,this.sD,null,!0,B)}};L.pn.prototype.mI=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y),t=z.add.arts,u=JSON.parse(this.s9),v=n.Q(l5.zT)||n.Q(l5.VN);
if(!v&&i_.mT(this.sD,c)<6/z.i.XP){var A=-1;for(var g=0;g<t.length;g++)if(a.b.yq(t[g].J4).n9(c))A=g;if(A!=-1){this.Rp(z,A);
this.y4(z)}if(a.b.yq(u[u.length-1].J4).Sz()){this.nW.clear(z);t.pop()}}if(this.nW){var $=this.nW.q_(n,c,z,B);
this.nW.mI(z,p,n,c);if(!c.Vm(this.sD))this.atc(z,$==10?c.Br(this.sD):null)}};L.pn.prototype.atc=function(z,J){var p=new dY([10,50],this);
p.data={PY:this.a3E,gW:JSON.stringify(z.add.arts)};if(J){p.data.Y=this.ac9;p.data.Eu=J}z.kL(p)};L.pn.prototype.y4=function(z){var J=z.add.arts,p=new fw,n=0,B=[];
for(var g=0;g<J.length;g++)if(J[g].Y){var c=a.b.yq(J[g].J4);p=p.KQ(c);z.root.zg(c,B);n++}if(n==0){if(this.nW)this.nW.clear(z);
z.eO=!0;this.nW=null;return}this.s9=JSON.stringify(J);this.ac9=B;this.acV=this.LO=p;var t=a.b.e3(p).L;
this.nW=new ia(p.Sz()?null:t,!0,!1,!1,!1,!1,3);if(!p.Sz())this.nW.iT(z,this.f)};L.pn.prototype.Rp=function(z,J){var p=z.add.arts;
for(var g=0;g<p.length;g++)p[g].Y=J==g};L.pn.prototype.Cb=function(z,J){J.add.arts=JSON.parse(z.gW);
if(z.Y)L.DJ.QS(J,z.Y,null,z.Eu.x,z.Eu.y);if(this.aK)this.y4(J);J.eO};L.pn.prototype.gD=function(z,J){J.add.arts=JSON.parse(z.PY);
if(z.Y)L.DJ.QS(J,z.Y,null,-z.Eu.x,-z.Eu.y);if(this.aK)this.y4(J);J.eO};function ia(z,J,p,n,B,c,t,u){this.Rx=null;
this.IS=z?z.slice(0):null;this.mm=1;this.Wa=4;this.Ne=null;this.pP=null;this.O0=null;this.RJ=-1;this.ku=null;
this.a9k=!1;this.avJ=[];for(var g=0;g<8;g++)this.avJ.push(kL.aFs(0,PIMG.rotate,-.5,-.5,-45-g*45));this.aeN=J;
this.as3=p;this.apw=n;this.auv=B;this.aI$=c;this.th=t;this.awb=u==null?1:u}ia.prototype.amZ=function(){return this.RJ!=-1};
ia.prototype.rI=function(){return this.IS.slice(0)};ia.prototype.kc=function(z){this.IS=z};ia.prototype.ame=function(){return this.Cf(this.IS)};
ia.prototype.a6F=function(){return this.Wa};ia.prototype.ab8=function(z){this.Wa=z};ia.prototype.O1=function(z){if(z==null)z=this.IS;
if(this.Wa==9)return this.Ne;else return this.Cf(z)[this.Wa]};ia.prototype.aec=function(z){if(this.Wa==9)this.Ne=z.P();
else{var J=this.O1(),p=new fA(1,0,0,1,z.x-J.x,z.y-J.y);a.b.h(this.IS,p,this.IS)}};ia.prototype.TT=function(z){this.mm=z};
ia.prototype.TR=function(z,J,p,n,B,c){var t=this.Xs(c,z,J,n),u;if(t==9)return"default";if(t==10){if(p)return null;
return!this.aeN?"move":null}if(t==-1||t==4)return null;if(t==11){var v=this.O1().Br(z);if(B==null)B=Math.atan2(v.y,v.x);
u=90-B*180/Math.PI;var A=Math.round(8*(u/360));A=(A+8)%8;return this.avJ[A]}else{var $=this.UO(z,this.IS);
u=[135,90,45,180,0,0,225,270,315][t]*Math.PI/180;var X=a.F.Q$(this.IS);return ia.aEj(X[0],X[3],u)}};
ia.aEj=function(z,J,p){var n=Math.atan2(-J,z);if(p)n+=p;var B="ew nesw ns nwse ew nesw ns nwse".split(" "),c=Math.round(8*(n/(2*Math.PI)));
c=(c+8)%8;return B[c]+"-resize"};ia.prototype.UO=function(z,J){var p=a.F.oU(a.F.Q$(J)),n=new Float64Array(2);
a.F.Di(z.x,z.y,p,n);return new i_(n[0],n[1])};ia.prototype._W=function(z){var J=this.UO(z,this.IS);return 0<=J.x&&J.x<=1&&0<=J.y&&J.y<=1};
ia.prototype.lW=function(z,J,p,n,B,c,t,u){this.a9k=c;this.ku=n;var v=z.i.XP,A;if(this.IS==null)n=L.DJ.o9(z,n,J);
this.O0=n.P();if(this.IS==null){if(u==null)u=0;var $=new fA;$.rotate(u);var X=$.g$(new i_(1,1));this.O0.offset(X.x,X.y);
var U=B==null?1:1/B,w=this.IS=[0,0,1,0,1,U,0,U];$.translate(n.x,n.y);a.b.h(this.IS,$,this.IS);A=8}else{A=this.Xs(p,n,v,t);
var P=p.Q(l5.zT)&&(A==1||A==3||A==5||A==7);if(0<=A&&A<=8&&!P)this.O0=this.Cf(this.IS)[A];if(A==9){this.Wa=9;
this.Ne=n.P()}}this.Rx=this.IS.slice(0);this.RJ=A;this.iT(z,J);this.pP=this.O1();return A!=-1};ia.prototype.q_=function(z,J,p,n){return this.Xs(z,J,p.i.XP,n)};
ia.prototype.Xs=function(z,J,p,n){var B=z&&z.Q(l5.zT),c=-1,t=this.Cf(),u=[0,2,6,8,1,3,5,7],v=n?L.DT({i:{XP:p}},n):8*L.$q()/p,A=i_.mT(t[0],t[2]),$=i_.mT(t[0],t[6]),X=this.UO(J,this.IS);
X.x*=A;X.y*=$;var U=new fw(0,0,A,$);U.Lr(v,v);if(c==-1)if(i_.mT(this.O1(),J)<v)c=9;if(c==-1)for(var g=0;
g<u.length;g++)if(i_.mT(t[u[g]],J)<v)c=u[g];if(c==-1&&U.n9(X)){if(Math.abs(X.y-0)<v)c=1;if(Math.abs(X.x-0)<v)c=3;
if(Math.abs(X.y-$)<v)c=7;if(Math.abs(X.x-A)<v)c=5}if(c==-1&&z&&z.Q(l5.W0))c=9;if(c==-1||this.th==4){if(this._W(J)){if(this.aeN)c=10}else{var w=[3,.85][ex];
U.Lr(w*v,w*v);c=U.n9(X)&&this.th!=3?11:10;if(c==10&&ex==1)c=-1}}return c};ia.prototype.dV=function(z,J,p,n,B){if(this.RJ==-1)return;
this.ku=n;var c=p&&p.Q(l5.VN),t=p&&p.Q(l5.W0),u=p&&p.Q(l5.zT),v=z.i.XP,A=this.O0,$=this.RJ,X=$==0||$==2||$==6||$==8,U=this.Cf(),w=L.DJ.o9(z,A,J),P=L.DJ.o9(z,n,J),k,T;
if($==9){var U=this.Cf(),Z=-1;for(var g=0;g<U.length;g++)if(i_.mT(U[g],P)*v<10)Z=g;this.Wa=Z==-1?9:Z;
this.Ne=c?L.PK.Kr(w,P):P.P()}else if($==10){T=a.b.yq(this.Rx);var i=T.x,V=T.y;T.offset(n.x-A.x,n.y-A.y);
if(this.acL()){T.x=Math.round(T.x);T.y=Math.round(T.y)}k=L.DJ.qP(z,T,J);var _=new fA(1,0,0,1,T.x-i+k[0],T.y-V+k[1]);
a.b.h(this.Rx,_,this.IS)}else if($==11){var y=this.O1(this.Rx),E=y.Br(n),F=y.Br(A),d=Math.atan2(E.y,E.x),x=Math.atan2(F.y,F.x),_=new fA(1,0,0,1,-y.x,-y.y),f=Math.PI/12;
if(c)_.rotate(Math.round((x-d)/f)*f);else _.rotate(x-d);_.translate(y.x,y.y);a.b.h(this.Rx,_,this.IS)}else{var Q=c,m;
if(B&&!u)Q=!Q;if(this.aI$)Q=!0;var H=this.Rx;if(this.th==1){if(X)c=t=u=!0}else if(this.th==2&&X&&this.a9k!=!0)u=!0;
if(this.th==3)u=!1;else if(this.th==5){c=u=!0}if(this.apw&&X&&u){var g=[0,0,2,0,0,0,6,0,4,0][$],S=-1,R=P.x,I=P.y;
if(c){var D=g+6&7,G=g+10&7,C=ia.aLu(H[g],H[g+1],H[D],H[D+1],P.x,P.y),O=ia.aLu(H[g],H[g+1],H[G],H[G+1],P.x,P.y),Y=C[2]<O[2]?C:O;
R=Y[0];I=Y[1];if(t)S=C[2]<O[2]?D:G}else if(t)S=g+4&7;m=H.slice(0);if(S!=-1){var h=H[S],r=H[S+1],W=(H[g]+h)/2,N=(H[g+1]+r)/2;
m[S]=W-(R-W);m[S+1]=N-(I-N)}m[g]=R;m[g+1]=I}else if(X&&t){var y=this.pP,o=y.x,K=y.y,l=w.x-o,aV=w.y-K,j=1,M=1;
if(Math.abs(l)>=1)j=(P.x-o)/l;if(Math.abs(aV)>=1)M=(P.y-K)/aV;if(Q)j=M=(j+M)/2;var _=new fA;_.translate(-o,-K);
_.scale(j,M);_.translate(o,K);m=H.slice(0);a.b.h(m,_,m)}else if(!X&&u&&this.as3){function s(fQ,cM,hC){var id=cM[0]-fQ[0],jR=cM[1]-fQ[1],jY=a.b.HR(hC[0],hC[1],-jR,id,fQ[0],fQ[1],id,jR);
return jY}var l2=[1,5,7,3].indexOf($),gm=l2+1&3,iz=H.slice(l2*2,l2*2+2),dC=H.slice(gm*2,gm*2+2),dL=P;
if(c){var cP=s(iz,dC,[P.x,P.y]);dL=new i_(P.x-cP*(dC[1]-iz[1]),P.y+cP*(dC[0]-iz[0]))}var id=dL.x-A.x,jR=dL.y-A.y,hC=[this.pP.x,this.pP.y],eJ=[hC[0]+dC[0]-iz[0],hC[1]+dC[1]-iz[1]],el=s(hC,eJ,[A.x,A.y]);
m=H.slice(0);for(var g=0;g<4;g++){if(!t&&g!=l2&&g!=gm)continue;var eu=H.slice(g*2,g*2+2),jY=s(hC,eJ,eu)/el;
m[g*2]+=jY*id;m[g*2+1]+=jY*jR}}else{if(this.acL()){P.x=Math.round(P.x);P.y=Math.round(P.y)}var fN=[0,1,2,5,8,7,6,3],jC=fN[(fN.indexOf($)+4)%8],kF=[];
for(var g=0;g<3;g++)for(var S=0;S<3;S++)kF.push(new i_(S/2,g/2));var y=this.pP,i6=t&&(this.Wa==4||this.Wa==9)?this.UO(y,H):kF[jC],kT=t&&(this.Wa==4||this.Wa==9)?y:U[jC];
if(X&&Q){function kY(fQ,cM,hC){var id=cM[0]-fQ[0],jR=cM[1]-fQ[1],jY=a.b.HR(hC[0],hC[1],-jR,id,fQ[0],fQ[1],id,jR);
return[hC[0]-jR*jY,hC[1]+id*jY]}while(!0){var h9=kY([kT.x,kT.y],[A.x,A.y],[P.x,P.y]);h9=new i_(h9[0],h9[1]);
h9=L.DJ.o9(z,h9,J);if(i_.mT(h9,P)<1e-6)break;P=h9}}var bG=this.UO(P,H),dQ=this.UO(A,H),jn=new fA,b1=new fA,j=(bG.x-i6.x)/(dQ.x-i6.x);
if(j==0)j=1e-4;var M=(bG.y-i6.y)/(dQ.y-i6.y);if(M==0)M=1e-4;if(this.auv){j=Math.max(j,0);M=Math.max(M,0)}if(X){if(Q)jn.scale(j,j);
else jn.scale(j,M)}else if($!=4){var c8=Q,j_=u&&c;if(j_)c8=!1;if($==1||$==7)jn.scale(c8?M:1,j_?1:M);
else jn.scale(j_?1:j,c8?j:1);if(this.as3&&u){if($==1||$==7)b1.GQ=(bG.x-i6.x)/(bG.y-i6.y);else b1.X=(bG.y-i6.y)/(bG.x-i6.x)}}var _=new fA;
_.translate(-i6.x,-i6.y);_.concat(jn);_.concat(b1);_.translate(i6.x,i6.y);m=[0,0,1,0,1,1,0,1];a.b.h(m,_,m);
var Y=a.F.Q$(H);a.F.h(Y,m)}if(ia.lq(m))this.IS=m}this.iT(z,J);if(k)L.DJ._B(z,T,k)};ia.aLu=function(z,J,p,n,B,c){var t=p-z,u=n-J,v=B-z,A=c-J,$=t*t+u*u,X=v*t+A*u,U=X/$,w=z+U*t,P=J+U*u,k=B-w,T=c-P;
return[w,P,Math.sqrt(k*k+T*T)]};ia.prototype.acL=function(){var z=this.IS;return Math.abs(z[1]-z[3])<1e-6&&Math.abs(z[2]-z[4])<1e-6||Math.abs(z[0]-z[2])<1e-6&&Math.abs(z[3]-z[5])<1e-6};
ia.lq=function(z){return a.b.aIH(z)||a.b.aIH([z[6],z[7],z[4],z[5],z[2],z[3],z[0],z[1]])};ia.prototype.mI=function(z,J,p,n){this.RJ=-1;
this.ku=null;z.W.qT=null;z.W.wE=[];z.eO=!0};ia.prototype.qA=function(z,J,p){var n=p.wK(z?z.i.rH:0);if(n.x||n.y){var B=new fA(1,0,0,1,n.x,n.y);
a.b.h(this.IS,B,this.IS);this.iT(z,J);return!0}return!1};ia.prototype.Cf=function(z){if(z==null)z=this.IS;
var J=z[6]-z[0],p=z[7]-z[1],n=z[4]-z[2],B=z[5]-z[3],c=[z[0],z[1],z[2],z[3],z[0]+J/2,z[1]+p/2,z[2]+n/2,z[3]+B/2,z[6],z[7],z[4],z[5]],t=[];
for(var g=0;g<3;g++){var u=g*4,v=c[u+0],A=c[u+1],$=c[u+2],X=c[u+3];t.push(new i_(v,A));t.push(new i_(v+($-v)/2,A+(X-A)/2));
t.push(new i_($,X))}return t};ia.prototype.iT=function(z,J,p){if(z.W==null)return;if(p==null)p=!1;var n=this.mm,B=this.Cf(),c=B[0],t=B[2],u=B[6],v=B[8],A={Ao:[],L:[]};
if(n==0)z.W.cV=A;else z.W.qH=A;var $=a.F.Q$([c.x,c.y,t.x,t.y,v.x,v.y,u.x,u.y]);A.Ao.push("M","L","L","L","Z");
A.L.push(0,0,1,0,1,1,0,1);var X=this.awb;if(X>1){z.W.p$=a.G(A);a.F.h($,z.W.p$.L);for(var g=1;g<X;g++){var U=g/X;
A.Ao.push("M","L","M","L");A.L.push(0,U,1,U,U,0,U,1)}}a.F.h($,A.L);z.i.zZ=new fw(0,0,i_.mT(B[0],B[2]),i_.mT(B[0],B[6]));
if(this.RJ!=-1&&this.RJ<9&&this.ku){var w=z.i.cE(this.ku.x,this.ku.y);L.y6.Mi(w,z.i.zZ,z,J)}if(!p){var P=[];
if(n==0)z.W.MG=P;else z.W.K1=P;for(var g=0;g<B.length;g++)if(g!=4)P.push(B[g].x,B[g].y);var k=this.O1();
P.push(k.x,k.y)}z.eO=!0};ia.prototype.clear=function(z){z.i.zZ=null;z.W.qT=null;z.W.cV=null;z.W.qH=null;
z.W.p$=null;z.W.MG=[];z.W.K1=[];z.eO=!0};function k1(z){this.TX=null;this.RJ=-1;this.aIp=null;this.aqd=null;
this.Xp=null;this.Rr=-1;this.aj0=null;this.aC4(z)}k1.prototype.uK=function(){return a.G(this.TX)};k1.prototype.aC4=function(z){this.TX=a.G(z)};
k1.prototype.aCT=function(z){this.Rr=z};k1.prototype._W=function(z){return!0};k1.prototype.TR=function(z,J,p,n){var B=this.Xs(z,J,n);
if(B==-1)return"default";return"pointer"};k1.prototype.lW=function(z,J,p,n,B,c,t){if(this.Rr!=-1)return!0;
this.RJ=this.Xs(n,z.i.XP,t);var u=a.TX.Dz(this.TX),v=a.IN.MV(u,n),A=0<v[0]&&v[0]<1&&0<v[1]&&v[1]<1;this.aIp=A?v:null;
this.aqd=JSON.stringify(u);this.aj0=JSON.stringify(this.TX);this.Xp=n;return this.RJ!=-1||A};k1.prototype.Xs=function(z,J,p){var n=p?L.DT({i:{XP:J}},p)*2:20*L.$q()/J,B=this.TX,c=k1.ai4(B),t=-1;
if(c){t=a.b.dy(c,z.x,z.y,n);if(t!=-1)t+=1e6}else{var u=a.TX.Dz(B);t=a.b.dy(u[3],z.x,z.y,n);if(t!=-1&&this.D3(u,t)==null)t=-1}return t};
k1.prototype.dV=function(z,J,p,n){if(this.Rr!=-1)return;var B=this.TX,c=this.RJ,t=this.aIp,u=JSON.parse(this.aqd),v=u[0],A=u[1],$=u[3];
if(c>=1e6){var X=B.warpStyle.v.warpStyle,U=a.TX.R2(B);if(X=="warpCylinder"){this.TX=B=JSON.parse(this.aj0);
var w=L.tp.bU(B.warpValues),P=(w[2]-w[0])/(w[1]-w[3]),k=w[4]*P*U.$,T=w[5]*P*U.$,Z=n.x-this.Xp.x,i=n.y-this.Xp.y;
w[0]=U.x;w[1]=U.y+U.$;w[2]=U.x+U.r;w[3]=U.y;c-=1e6;if(c==0){w[0]+=Z;w[1]+=i}if(c==1){w[2]+=Z;w[3]+=i}if(c==2){k+=2*i;
T+=2*i}if(c==3){T+=2*i}if(c==4){w[6]=Math.max(0,Math.min(1,w[6]-2*Z/U.r))}var V=a.b.yq(w.slice(0,4)),_=V.r/U.r,y=V.$/U.$;
w[4]=k/V.r;w[5]=T/V.r;B.warpValues=L.tp.ey(w);var E=new fA;E.translate(-U.x,-U.y);E.scale(_,y);E.translate(V.x,V.y);
if(c<4)return E}else{var F=B.warpRotate.v.Ornt,d=F=="Vrtc",x=a.TX.acB[X],f=d?-n.x/U.r:-n.y/U.$;f+=x[1];
if(x[1]>.5)f=-f;f/=x[2];var _=U.r/U.$;if(d)_=1/_;if(x[3])f/=_;B.warpValue.v=100*Math.max(-1,Math.min(1,f))}}else if(c!=-1){var Q=[c],Z=n.x-$[c*2],i=n.y-$[c*2+1];
if(v*A>16){var m=this.D3(u,c);if(m[0]==0){var H=Math.floor(c/v),S=c-H*v;if(S>0)Q.push(c-1);if(S<v-1)Q.push(c+1);
if(H>0)Q.push(c-v);if(H<A-1)Q.push(c+v)}}for(var g=0;g<Q.length;g++){$[Q[g]*2]+=Z;$[Q[g]*2+1]+=i}a.TX.le(B,u)}else if(t){a.IN.a17(u,t[0],t[1],n.x-this.Xp.x,n.y-this.Xp.y);
a.TX.le(B,u)}};k1.prototype.mI=function(z,J,p,n){var B=this.Rr;this.aIp=null;this.Rr=-1;if(B!=-1){var c=a.TX.Dz(this.TX),t=a.IN.MV(c,n);
if(B==0||B==1)a.IN.split(c,0,t[0]);if(B==0||B==2)a.IN.split(c,1,t[1]);a.TX.le(this.TX,c)}z.eO=!0;return B!=-1};
k1.prototype.qA=function(z,J,p){var n=p.wK();if(n.x||n.y){var B=new fA(1,0,0,1,n.x,n.y);a.b.h(this.IS,B,this.IS);
this.iT(z)}};k1.prototype.D3=function(z,g){var J=z[0],p=z[1],n=this.RJ,B=Math.floor(n/J),c=n-B*J,t=n%3,u=n%3,v=t==0&&u==0,B=Math.floor(g/J),c=g-B*J,t=c%3,u=B%3;
if(t!=0&&u!=0)return null;if(t==0&&u==0)return[0];else{var A=0;if(u==0)A=t==1?g-1:g+1;if(t==0)A=u==1?g-J:g+J;
if(J*p>16){var $=n==g||n==g+1||n==g-1||n==g+J||n==g-J;if(v&&($||n==g+2||n==g-2||n==g+2*J||n==g-2*J)){}else if(!v&&$){}else return null}return[1,A]}};
k1.ai4=function(z,J){var J=z.warpStyle.v.warpStyle,n;if(J=="warpCustom"||J=="warpNone")return null;var p=a.TX.Dz(z);
if(J=="warpCylinder"){var B=z.warpValues.v;n=[0,1,1,0,.5,0,.5,1,.75-.25*B[6].v,.5]}else{var c=z.warpRotate.v.Ornt,t=a.TX.acB[J];
n=c=="Hrzn"?[t[0],t[1]]:[t[1],t[0]]}a.IN.h(p,n,new fw(0,0,1,1));return n};k1.prototype.iT=function(z,J){var p=this.TX,n=p.warpStyle.v.warpStyle,B=a.TX.Dz(p),c=B[0],t=B[1],u=B[3],v=z.W.qH={Ao:[],L:[]},A=z.W.K1=[],$=z.W.Px=[],X=this.RJ;
if(n=="warpCustom"||n=="warpNone")for(var U=0;U<t;U++)for(var w=0;w<c;w++){var g=U*c+w,P=this.D3(B,g);
if(P==null)continue;var k=u[2*g],T=u[2*g+1],Z=$;if(P[0]==0)Z=g==X&&c*t>16?$:A;else{var i=P[1];v.Ao.push("M","L");
v.L.push(k,T,u[2*i],u[2*i+1])}Z.push(k,T)}else{var V=k1.ai4(p);if(V)for(var g=0;g<V.length;g++)A.push(V[g])}for(var U=0;
U+1<t;U+=3)for(var w=0;w+1<c;w+=3){v.Ao.push("M","C","C","C","C");var g=U*c+w,_=g+c+c,y=[g,g+1,g+2,g+3,g+c+3,_+3,_+c+3,_+c+2,_+c+1,_+c,_,g+c,g];
for(var g=0;g<y.length;g++){var k=u[y[g]*2],T=u[y[g]*2+1];v.L.push(k,T)}}var E=[],F=[];function d(x,w,m){for(var y=0;
y<=m;y++){F.push(y==0?"M":"L");if(x==0)E.push(w,y/m);else E.push(y/m,w)}}if(J)J=a.IN.MV(B,J);for(var x=0;
x<2;x++){var f=B[2][x],Q=x==0?c:t,m=Q*5;for(var H=1;H<Q;H++){var S=Math.floor((H-1)/3),R=H-(1+S*3);if(R==0)continue;
var w=f[S]+R/3*(f[S+1]-f[S]);d(x,w,m)}var I=this.Rr;if(J&&I!=-1&&(I==0||I-1==x))d(x,J[x],m)}a.IN.h(B,E,new fw(0,0,1,1));
a.b.concat(v,{L:E,Ao:F});z.eO=!0};k1.prototype.clear=function(z){z.W.qH=null;z.W.K1=[];z.W.Px=[];z.eO=!0};
function jJ(){this.st=!1;this.S9=!1;this.a8T=!1;this.aHn=!1;this.aov=!1;this.oI=!1;this.Y$=0;this.Bu=0}jJ.prototype.lW=function(z){this.st=!0;
this.S9=!1;this.aov=z.Q(l5.VN);this.oI=z.Q(l5.W0);this.Y$=this.aov?0:1;this.Bu=this.oI?0:1};jJ.prototype.qA=function(z){var J=this.aHn=z.Q(l5.VN),p=this.a8T=z.Q(l5.W0);
if(this.S9){if(this.Y$==0&&!J)this.Y$++;if(this.Y$==1&&J)this.Y$++;if(this.Bu==0&&!p)this.Bu++;if(this.Bu==1&&p)this.Bu++}};
jJ.prototype.dV=function(){this.S9=!0};jJ.prototype.mI=function(){this.st=!1};jJ.prototype.vb=function(g){if(g==0)return this.st?this.oI:this.a8T;
if(g==1)return this.S9?this.Bu==2:!1};jJ.prototype.Oi=function(g){if(g==0)return this.st?this.aov:this.aHn;
if(g==1)return this.S9?this.Y$==2:!1};L.History=function(){L.y6.call(this,"History",L.Mj);this.aHg=!0;
this.ayQ=0};L.History.prototype=new L.y6;L.History.prototype.$P=function(z,J,p,n){p.SR=!0;if(z.R=="h_itemchange"){if(z.index<p.Jq)for(var g=p.Jq;
g>z.index;g--)this.Sg(p);if(z.index>p.Jq)for(var g=p.Jq;g<z.index;g++)this.V0(p)}if(z.R=="h_stepfwd")this.V0(p);
if(z.R=="h_stepbck")this.Sg(p);if(z.R=="h_undoredo"){var B=this.aHg||this.ayQ!=p.Jq;if(B){this.Sg(p);
B=!1}else{this.V0(p);B=!0}this.aHg=B;this.ayQ=p.Jq}if(z.R=="h_clear"){if(z.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
p.history=[new dY([1,0],null)];p.Jq=0}else this.aHg=!0};L.History.prototype.Sg=function(z){if(z.Jq==0)return;
var J=z.history[z.Jq];J.l.gD(J.data,z);z.Jq--};L.History.prototype.V0=function(z){if(z.Jq==z.history.length-1)return;
var J=z.history[z.Jq+1];J.l.Cb(J.data,z);z.Jq++};L.vJ=function(){L.y6.call(this,"Layers",L.bX);this.kP=null};
L.vJ.prototype=new L.y6;L.vJ.prototype.$P=function(z,J,p,n,B){this.kP=J;var c=z.R,t=z.w!=null?z.w:p.Y.length!=0?p.Y[0]:p.U.length-1,u=p.U[t];
p.JS=!0;var v=n.Q(l5.W0),A=n.Q(l5.VN),$=n.Q(l5.zT);if(c==bi.xC&&p.M==null&&(p.Y.length>1||!p.AM(!1)||p.U[p.Y[0]].nT()))c=bi.Kb;
if(c==bi.Sd){var X=new dY([6,33],this),U=u.nT()?["pass"].concat(jM.Bk):jM.Bk,w=U[z.gW],P=z.w!=null?[z.w]:p.Y,k=JSON.stringify(P),T=[];
for(var g=0;g<P.length;g++)T.push(p.U[P[g]].QN);X.data={R:c,oz:k,Vl:T,gW:w};p.kL(X);this.Cb(X.data,p);
this.track(dB.kt("Md",{t:"enum",v:{BlnM:jM.oa(w)}}))}if(c==bi.I9){var X,Z=p.HE(),P=z.w!=null?[z.w]:p.Y,k=JSON.stringify(P);
if(Z&&Z.data&&Z.data.R==c&&Z.data.oz==k)X=Z;else{var i=dB.kt("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(i);var T=[];for(var g=0;g<P.length;g++)T.push(p.U[P[g]].YF);X=new dY([6,32],this);X.data={R:c,oz:k,Vl:T,gW:z.gW,a5T:i.m$};
p.kL(X)}X.data.gW=z.gW;X.data.a5T.T.v.Opct.v.val=Math.round(z.gW*100/255);this.Cb(X.data,p)}if(c==bi.T3){var V=u.J,X,Z=p.HE();
if(Z&&Z.data&&Z.data.R==c&&Z.data.w==t)X=Z;else{X=new dY("Audio Change",this);X.data={R:c,w:t,Vl:{dY:V.dY,volume:V.volume}};
p.kL(X)}X.data.gW=z.gW;this.Cb(X.data,p)}if(c==bi.h9){if(u.add.iOpa==null)u.add.iOpa=255;var X,Z=p.HE();
if(Z&&Z.data&&Z.data.R==c&&Z.data.w==t)X=Z;else{X=new dY("Fill Opacity Change",this);X.data={R:c,w:t,Vl:u.add.iOpa,gW:z.gW};
p.kL(X)}X.data.gW=z.gW;this.Cb(X.data,p)}if(c==bi.tt){var _=z.gW,y=z.w!=null?[z.w]:p.Y.slice(0),E=[],F=[],X;
for(var d=0;d<y.length;d++){var x=p.U[y[d]];if(x.add.lspf==null)x.add.lspf=0;var T=x.add.lspf,w=T;for(var g=0;
g<_[0].length;g++){var f=_[1][g],Q=1<<f;if((w&Q)==0&&_[0][g])w^=Q;else if((w&Q)!=0&&!_[0][g])w^=Q}E.push(T);
F.push(w)}var Z=p.HE(),P=JSON.stringify(y);if(Z&&Z.data&&Z.data.R==c&&JSON.stringify(Z.data.oz)==P){X=Z;
X.data.gW=F}else{var X=new dY([6,57,1],this);X.data={R:c,oz:P,Vl:E,gW:F};p.kL(X)}this.Cb(X.data,p)}if(c==bi.cY){var m="----",H=z.gs,w=null;
for(var g=0;g<ce.oG.In.length;g++)if(u.add[ce.oG.In[g]])m=ce.oG.In[g];var S=u.add[m];if(H=="TySh")w=dN.gI(50,50,B.ko);
var X=new dY("Layer Type",this);X.data={R:c,w:t,ayR:[m,S],gs:[H,w]};p.kL(X);this.Cb(X.data,p)}if(c==bi.BJ){var y=[];
if(v){var R=p.HE(),I=R?R.data:null;if(R!=null&&R.l==this&&I.R==bi.BJ&&I.oz.length!=1){var D=new cD(b.E.H);
D.l=L.Mj;D.data={R:"h_stepbck"};J.a(D);if(I.w==t)return}var G=p.root.Ti(t),C=G,O=[z.w];while(C.parent!=p.root){O.push(C.parent.index);
C=C.parent}for(var g=0;g<p.U.length;g++){var Y=p.U[g],C=p.root.Ti(g),h=O.indexOf(g)!=-1?!0:Y.LE()&&G.depth<C.depth;
if(h!=Y.LE())y.push(g)}}else if(z.oz)y=z.oz;else{y.push(t);var r=p.U[t].LE(),i={rK:r?"hide":"show",m$:{classID:r?"Hd":"Shw",null:{t:"VlLs",v:[dB.DG("Lyr",!0)]}}};
this.track(i)}var X=new dY("Layer visibility",this,!0);X.data={R:c,oz:y,w:t};p.kL(X);this.Cb(X.data,p)}if(c==bi.FE){if(B.Ms==L.oH){var W=new cD(b.E.c);
W.data={R:b.J.OS,l:L.vX};J.a(W)}var N=z.aBj,o=z.c8,aV,escape=!1,j=!1;if(z.ahg){if($&&(o==0||o==1||o==2)){var K=0;
if(A)K++;if(v)K+=2;var l=new cD(b.E.H,!0);l.l=L.Wu;l.data={R:"fromlayer",qY:[z.w,o,K]};J.a(l);return}}var i={rK:"select",m$:{classID:"null",MkVs:{t:"bool",v:!1}}};
p.av6();if(n.Q(l5.zT)||z.azS==0){var M=p.Y.indexOf(t);if(M==-1)p.Y.push(t);else if(p.Y.length>1){if(z.azS!=0)p.Y.splice(M,1)}p.Y.sort(function(X,hp){return X-hp});
i.m$.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};aV=t}else if(A&&!v&&o>0){c=o==1?bi.tn:o==2?bi.yb:bi.Ty;
escape=!0}else if((A||z.azS==1)&&p.Y.length>0){var s=Math.min(t,p.Y[0]),l2=Math.max(t,p.Y[p.Y.length-1]);
p.Y=[];for(var g=s;g<=l2;g++)if(p.U[g].add.lsct!=cp.hX)p.Y.push(g);i.m$.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
aV=t}else{aV=t;if(t>=p.U.length)return;var Y=p.U[t];if(Y&&Y.nT()&&z.aw6)Y.add.lsct=cp.xj;else if(p.Y.length==1&&p.Y[0]==t&&Math.max(0,o)==Y.uB){j=!0;
p.JS=!1}if(!j){p.Y=[t];p.n$()}}if(!j){if(aV!=null&&aV<p.U.length){i.m$.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:p.U[aV].getName()}}]},this.track(i)}if(!escape){console.log("no escape");
if(p.Y.length==1){var gm=p.Y[0];for(var g=0;g<p.U.length;g++){if(g==gm)continue;var x=p.U[g];x.uB=0;
x.UU=!1}var u=p.U[gm];if(o==2){u.UU=!u.UU;p.E0=[]}else if(u){u.uB=o<=0?0:o}}else for(var g=0;g<p.U.length;
g++){var x=p.U[g];x.uB=0;x.UU=!1}p.sk=null;p.SR=!0}}if(z.ahg&&v){if((o==1||o==3)&&N!=null){var l=new cD(b.E.H,!0);
l.l=L.KZ;l.data={R:"mskView",K:N!=0?0:A?1:2};J.a(l)}else{this.$P({R:bi.S5,w:z.w},J,p,n,B)}}}if(c==bi.tn||c==bi.Ty){var iz=c==bi.tn,dC=iz?u.Qu():u.g6(p).T4;
if(dC==null)return;var X=new dY(dC.isEnabled?iz?[6,15]:[6,42]:iz?[6,14]:[6,41],this);X.data={R:c,w:t};
p.kL(X);this.Cb(X.data,p)}if(c==bi.yb){var dC=u.add.vmsk;if(dC==null)return;var X=new dY(dC.isEnabled?[6,17]:[6,16],this);
X.data={R:c,w:t};p.kL(X);this.Cb(X.data,p)}if(c==bi.anU){var dL=u.add.lsct==cp.xj?cp.mD:cp.xj,C=p.root.Ti(p.U.indexOf(u)),jR=!1;
if(n.Q(l5.zT)){var cP=C.parent;for(var g=0;g<cP.children.length;g++){var id=cP.children[g].w;if(id.nT())id.add.lsct=dL}}else u.add.lsct=dL;
for(var g=0;g<p.Y.length;g++){var hC=p.Y[g];if(C.$K<hC&&hC<C.index)jR=!0}if(jR)p.Y=[C.index];p.SR=!0}if(c==bi.S5){if(!p.em(t))return;
var X=new dY(u.Bx?[6,19]:[6,18],this);X.data={R:c,w:t};p.kL(X);if(z.gW==null||z.gW!=u.Bx)this.Cb(X.data,p)}if(c==bi.anA){if(u.pU())u.a3-=32;
else u.a3+=32;p.SR=!0}if(c==bi.iJ||c==bi.Wy){var X;if(c==bi.iJ)X=new dY(u.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(c==bi.Wy)X=new dY(u.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);X.data={R:c,w:t};p.kL(X);this.Cb(X.data,p)}if(c==bi.gz||c==bi.fM){var gm=z.index,X;
if(c==bi.gz)X=new dY(u.add.lmfx[a_.in[gm[0]]].v[gm[1]].v.enab.v?[6,30,0]:[6,29],this);if(c==bi.fM)X=new dY(u.add.SoLd.filterFX.v.filterFXList.v[gm].v.enab.v?[6,44]:[6,43],this);
X.data={R:c,w:t,index:z.index};p.kL(X);this.Cb(X.data,p)}if(c==bi.nl){if(z.src==z.EY)return;var eJ=p.U[z.src],el=p.U[z.EY],eu=eJ.add.lmfx?JSON.stringify(eJ.add.lmfx):"",jY=el.add.lmfx?JSON.stringify(el.add.lmfx):"";
if(el.add.lmfx==null){el.add.lmfx=JSON.parse(a_.default);for(var g=0;g<a_.order.length;g++)el.add.lmfx[a_.in[g]]={t:"VlLs",v:[]}}if(z.ft==null){el.add.lmfx=JSON.parse(eu);
if(!v)delete eJ.add.lmfx}else{var fN=z.ft[0],jC=a_.in[fN];if(a_.aiX.indexOf(a_.order[fN])==-1)el.add.lmfx[jC].v=[];
el.add.lmfx[jC].v.push(eJ.add.lmfx[jC].v[z.ft[1]]);if(!v)eJ.add.lmfx[jC].v.splice(z.ft[1],1)}var kF=eJ.add.lmfx?JSON.stringify(eJ.add.lmfx):"",i6=el.add.lmfx?JSON.stringify(el.add.lmfx):"";
if(!el.pU())el.a3+=32;var X=new dY("Move Layer Styles",this);X.data={R:c,p4:z.src,Rk:z.EY,aaU:eu,aJ2:jY,av7:kF,a8c:i6};
p.kL(X);this.Cb(X.data,p)}if(c==bi.K5){if(z.src!=null)t=z.src;var x=p.U[t],kT=JSON.stringify(x.add.SoLd),kY=JSON.parse(kT),h9=kY.filterFX.v.filterFXList.v;
h9.splice(z.ft,1);var X=new dY([6,53],this);X.data={R:bi.IL,BH:[{Lw:t,RG:[kT,JSON.stringify(kY)]}]};
p.kL(X);this.Cb(X.data,p)}if(c==bi.aDR){var bG=v,eJ=p.U[z.src],el=p.U[z.EY],dQ=[];if(eJ!=el&&el.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(eJ==el&&!bG&&z.ft==z.ya)return;if(eJ==el&&z.ft==-1)return;var jn=eJ.g6(p),kT=JSON.stringify(eJ.add.SoLd),kY=JSON.parse(kT),h9=kY.filterFX.v.filterFXList.v;
if(eJ==el){h9.splice(z.ya,0,h9[z.ft]);if(!bG)h9.splice(z.ft+(z.ft<z.ya?0:1),1);dQ.push({Lw:z.src,RG:[kT,JSON.stringify(kY)]})}else if(z.ft==-1){var b1=kY.filterFX;
if(!bG){delete kY.filterFX;dQ.push({Lw:z.src,RG:[kT,JSON.stringify(kY)],g4:[jn,null]})}var c8=el.Ik()?el.g6(p):null,j_=b$.aHa(jn),fQ=JSON.stringify(el.add.SoLd),cM=JSON.parse(fQ);
cM.placed.v=j_.id;cM.filterFX=b1;dQ.push({Lw:z.EY,RG:[fQ,JSON.stringify(cM)],g4:[c8,j_]})}else{var jK=h9[z.ft];
if(!bG){h9.splice(z.ft,1);dQ.push({Lw:z.src,RG:[kT,JSON.stringify(kY)]})}var fQ=JSON.stringify(el.add.SoLd),cM=JSON.parse(fQ);
if(cM.filterFX==null)cM.filterFX=em.Mn();var aw=cM.filterFX.v.filterFXList.v;aw.splice(z.ya,0,jK);var ez={Lw:z.EY,RG:[fQ,JSON.stringify(cM)]};
if(!el.Ik()){var j_=b$.art(el.add.SoLd.placed.v,p.depth);ez.g4=[null,j_]}dQ.push(ez)}var X=new dY([6,52],this);
X.data={R:bi.IL,BH:dQ};p.kL(X);this.Cb(X.data,p)}if(c==bi.tT){var dC=u.Qu(),X=new dY(dC.r4?[6,26]:[6,25],this);
X.data={R:c,w:t};p.kL(X);this.Cb(X.data,p);this.track({rK:"set",m$:{classID:"setd",null:{t:"obj ",v:[dB.DG("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:dC.r4}}}}})}if(c==bi.Ep){var dC=u.add.vmsk,X=new dY(dC.r4?[6,28]:[6,27],this);
X.data={R:c,w:t};p.kL(X);this.Cb(X.data,p)}if(c==bi.b9){var X=new dY("Variables / Datasets",this),g4=JSON.stringify([p.gP,p.$p]);
if(g4==z.K)return;X.data={R:c,aly:g4,axE:z.K};p.kL(X);this.Cb(X.data,p)}if(c==bi._P){var ht=[],X;for(var g=0;
g<p.Y.length;g++){var d=p.Y[g],Y=p.U[d];if(Y.add.vogk)ht.push(d,JSON.stringify(Y.add.vogk))}for(var g=0;
g<p.E0.length;g++){var d=p.E0[g],Y=p.$n[d];if(Y.add.vogk)ht.push(-1-d,JSON.stringify(Y.add.vogk))}a.R$.ax3(p,z.K,z.arQ);
var gx=[];for(var g=0;g<p.Y.length;g++){var d=p.Y[g],Y=p.U[d];if(Y.add.vogk)gx.push(d,JSON.stringify(Y.add.vogk))}for(var g=0;
g<p.E0.length;g++){var d=p.E0[g],Y=p.$n[d];if(Y.add.vogk)gx.push(-1-d,JSON.stringify(Y.add.vogk))}var Z=p.HE();
if(Z&&Z.data&&Z.data.R==c){var kE=!0;for(var g=0;g<ht.length;g+=2)if(ht[g]!=Z.data.Sh[g])kE=!1;if(kE){X=Z;
X.data.zd=gx}}if(X==null){var X=new dY([12,91,1],this);X.data={R:c,Sh:ht,zd:gx};p.kL(X)}this.Cb(X.data,p)}if(c==bi.EP){var kS=JSON.stringify(u.add.artb),h7=JSON.stringify(z.wd),X;
p.U[t].add.artb=JSON.parse(h7);var b7=new fw(0,0,p.r,p.$),i7=L.d_.oE(p),Z=p.HE();if(Z&&Z.data&&Z.data.R==c&&Z.data.w==t){X=Z;
X.data.wd=h7}if(X==null){var X=new dY("Editing Artboard",this);X.data={R:c,w:t,aeL:kS,wd:h7,$_:b7};p.kL(X)}X.data.xK=i7;
this.Cb(X.data,p)}if(c==bi.JY){var gx=p.b8.slice(0),fp=p.dX.slice(0),jB=p.M,fB=p.M,h=p.i.Az.slice(0);
if(z.el=="seltochannel"){var df=z.qY[0],dt=gx[df]=gx[df].P(),C=a.m5.k1(p.M,dt,z.qY[1]);dt.N=C.N;dt.S=C.S}if(z.el=="fromAction"){var g5=z.K.rK,bR=z.K.m$;
if(g5=="make"||g5=="duplicate"){var h$=gx.length,jt=!1,jN=!1;if(p.d4())h$--;var ih=new bi.L7(p.depth);
ih.name="Alpha "+(h$+1);if(g5=="make"){var jk=bR.Nw.v;ih.color=0;fp=[h$];ih.m6=!0;ih.mN=jk.Opct.v;if(jk.Nm)ih.name=jk.Nm.v;
if(jk.classID=="SCch"){jt=!0;fB=null;ih.iQ=1}for(var g=0;g<p.b8.length;g++)p.b8[g].m6=!1;h=[0,0,0]}else{var Y=p.U[p.Y[0]],gE=Y.uB==1?Y.Qu():Y.uB==3?Y.g6(p).T4:null,cW=bR.null.v[0].v;
if(bR.Nm)ih.name=bR.Nm.v;if(cW.keyID=="fsel")jt=!0;else if(gE){ih.N=gE.N.slice(0);ih.S=gE.S.P();ih.color=gE.color}else{var dR=L.gL.aJ4(p);
fB=L.gL.aDP(p,dR);ih.color=0;ih.S=fB.S;ih.N=fB.N}}if(jt){ih.color=0;if(p.M){ih.S=p.M.S.P();ih.N=p.M.N.slice(0)}if(jN){ih.color=255-ih.color;
a.oU(ih.N)}}gx.splice(h$,0,ih)}else if(g5=="delete"){if(u&&u.Qu()&&u.uB==1){this.$P({R:bi.cf},J,p,n,B);
return}var gV=p.dX;gV.sort(function(X,hp){return hp-X});if(gV.length==0)return;for(var g=0;g<gV.length;
g++)gx.splice(gV[g],1);fp=[];h=[1,1,1]}else if(g5=="show"||g5=="hide"){var gv=bR.null.v,ga=null,iC=!1;
for(var g=0;g<gv.length;g++){var dI=gv[g].v[0].v,fV=dI.enum;if(fV=="Trgt"){if(gx[fp[0]]==null)continue;
gx[fp[0]]=gx[fp[0]].P();gx[fp[0]].m6=g5=="show";iC=!0}else{var df=["Rd","Grn","Bl"].indexOf(fV);if(ga==null)ga=p.i.Az.slice(0);
ga[df]=g5=="show"?1:0}}if(ga){var D=new cD(b.E.H,!0);D.l=L.$N;D.data={R:"setcls",Az:ga};J.a(D);if(!iC)return}}}if(z.el=="rnm"){gx[z.GU]=gx[z.GU].P();
gx[z.GU].name=z.name}var X=new dY("Channel Edit",this);X.data={R:c,Sh:p.b8.slice(0),aup:p.dX.slice(0),zd:gx,a9E:fp,sI:jB,Gq:fB,aE9:p.i.Az.slice(0),aKs:h};
this.Cb(X.data,p);p.kL(X)}if(c==bi.Y7){var dH=new fw(0,0,p.r,p.$),X=new dY(z.cN,this);X.data={R:bi.Y7,Xg:p.U.slice(0),lP:z.lP,wu:p.Y.slice(0),mG:z.Gq};
p.kL(X);this.Cb(X.data,p);var aj=L.d_.GY(p);if(aj){X.data.$_=dH;X.data.xK=aj}}if(c==bi.W3){var cH=p.l3(null,z.w),ko=1e10;
if(cH.length==0)return;if(p.U.length==cH.length){alert("Project must have at least 1 layer");return}var ge=[];
for(var g=0;g<p.U.length;g++)if(cH.indexOf(g)==-1)ge.push(p.U[g]);for(var g=0;g<cH.length;g++)ko=Math.min(ko,cH[g]);
while(ko>ge.length-1)ko--;ko=Math.max(ko,0);while(ge[ko].name=="</Layer group>")ko++;this.track({rK:"delete",m$:{classID:"Dlt",null:dB.DG("Lyr",!0)}});
var b7=new fw(0,0,p.r,p.$),X=new dY([6,31],this);X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:[ko]};
p.kL(X);this.Cb(X.data,p);var i7=L.d_.oE(p);if(i7){X.data.xK=i7;X.data.$_=b7;L.d_.GY(p)}}if(c==bi.yT){if(!n.Q(l5.VN))return;
var X=new dY("Switch Layer Link",this);X.data={R:c,w:z.w};p.kL(X);this.Cb(X.data,p)}if(c==bi.kh){var gV=z.ala?z.ala:p.Y,iI=0,kG=!1;
if(gV.length==0)return;if(gV.length==1&&p.U[gV[0]].eg==0){alert(j0.get([15,7,5]));return}var av=[];for(var g=0;
g<p.U.length;g++){var gF=p.U[g].eg;av.push(gF);iI=Math.max(iI,gF)}var kh=-1,hB=-1;for(var g=0;g<gV.length;
g++){var gF=p.U[gV[g]].eg;if(gF==0)kG=!0;else if(kh==-1||kh==gF)kh=gF;else hB=gF}if(!kG)for(var g=0;
g<gV.length;g++)p.U[gV[g]].eg=0;else if(kh!=-1&&hB==-1)for(var g=0;g<gV.length;g++)p.U[gV[g]].eg=kh;
else for(var g=0;g<gV.length;g++)p.U[gV[g]].eg=iI+1;var kf=[];for(var g=0;g<p.U.length;g++){var gF=p.U[g].eg;
if(kf[gF]==null)kf[gF]=0;kf[gF]++}for(var g=0;g<p.U.length;g++){var gF=p.U[g].eg;if(kf[gF]==1)p.U[g].eg=0}var jg=av;
av=[];for(var g=0;g<p.U.length;g++){var gF=p.U[g].eg;av.push(gF);iI=Math.max(iI,gF)}var X=new dY(kG?[6,54,0]:[6,54,1],this);
X.data={R:bi.kh,a9a:jg,aJ8:av};p.kL(X);this.Cb(X.data,p)}if(c==bi.Kb&&(z.w!=null||p.Y.length!=0)||c==bi.XN){var fU=p.pL(c==bi.Kb?z.w:t,null,z.avm),cv;
if(c==bi.XN){var x=fU[0],g5=x.add.SoLd.Idnt.v,bZ=p.Hb(g5).P();x.add.SoLd.Idnt.v=bZ.A_=b$.rR()+g5.slice(8);
p.add.lnk2.push(bZ)}if(c==bi.Kb){var iB={rK:"duplicate",m$:{classID:"null",null:dB.DG("Lyr",!0)}};if(z.s6){fU[fU.length-1].HV(z.s6);
iB.Nm={t:"TEXT",v:z.s6}}this.track(iB);z.alM=z.w}c=bi.jt;z.U=fU;z.N6=p;z.q9=p}if(c==bi.jt){var l8,ee,gU=z.N6,ad=z.q9,a7=0,dm=0,az=gU.oq(),hG=!1,k4,gB=0,fg=0;
if(gU!=ad){console.log("ADDLAYERS different projs");var l8=new fw(0,0,gU.r,gU.$),ee=new fw(0,0,ad.r,ad.$),al=[],dl=[],fi=new fw;
for(var g=0;g<z.U.length;g++){var x=z.U[g];fi=fi.KQ(x.S);if(x.add.SoLd==null)continue;var g5=x.add.SoLd.Idnt.v;
if(al.indexOf(g5)==-1){al.push(g5);dl.push(b$.rR()+g5.slice(8))}x.add.SoLd.Idnt.v=dl[al.indexOf(g5)];
var jn=x.g6(gU);if(jn){gU.Rb(jn);ad.p0(jn)}}if(az==-1&&!z.MB&&z.at9&&!ee.SH(fi)){a7=-fi.x;dm=-fi.y}if(al.length>0){if(ad.add.lnk2==null)ad.add.lnk2=[];
for(var g=0;g<al.length;g++){var fT=gU.Hb(al[g]),bZ=fT.P();bZ.A_=dl[g];ad.add.lnk2.push(bZ)}}}var jB=ad.Y.slice(0);
jB.sort(function(X,hp){return X-hp});var ge=ad.U.slice(0),fB=[],cL=-1;for(var g=0;g<jB.length;g++)cL=Math.max(cL,jB[g]);
if(z.alM!=null)cL=z.alM;if(z.MB){cL=z.MB-1;var fx=ad.U[z.MB].x0();a7+=fx.x;dm+=fx.y}if(az!=-1&&(gU!=ad||z.MB)){var by=gU.U[az].x0();
a7-=by.x;dm-=by.y}var ci=ad.zQ();for(var g=0;g<ci[0].length;g++){var dr=ci[1][g];if(dr!=-1)ci[1][g]=ge[dr]}cL++;
for(var g=0;g<z.U.length;g++){var Y=z.U[g],dk=Y.add.artb;ge.splice(cL,0,Y);fB.push(cL);cL++;if(dk){k4=!0;
var hS=dk.guideIndeces;if(hS){hS=hS.v;for(var lo=0;lo<hS.length;lo++){ci[0].push(gU.r_[hS[lo].v].slice(0));
ci[1].push(Y);hG=!0}}}}for(var g=0;g<ci[0].length;g++){var dr=ci[1][g];if(dr!=-1)ci[1][g]=ge.indexOf(dr)}for(var g=0;
g<z.U.length;g++){var Y=z.U[g];if(Y.add.lsct==cp.hX){if(gB==0)fg++;gB++}else if(Y.nT())gB--}if(fg==1)fB=[cL-1];
var eN=z.ag3;if(eN){var P=[];for(var g=0;g<fB.length;g++)P.push(ge[fB[g]]);for(var g=0;g<eN.length;g++)ge.splice(ge.indexOf(eN[g]),1);
fB=[];for(var g=0;g<P.length;g++)fB.push(ge.indexOf(P[g]))}var X=new dY([6,0],this);X.data={R:bi.Y7,Xg:ad.U.slice(0),lP:ge,wu:jB,mG:fB};
if(hG){X.data.XE=[ad.zQ(),ci]}ad.kL(X);this.Cb(X.data,ad);if(a7!=0||dm!=0)L.DJ.QS(ad,ad.l3(),null,a7,dm);
if(k4){X.data.$_=new fw(0,0,ad.r,ad.$);X.data.xK=L.d_.oE(ad);L.d_.GY(ad)}if(gU.depth!=ad.depth){alert("Converting from "+gU.depth+"-bit mode to "+ad.depth+"-bit mode.");
L.tp.agC(ad,ad.Y,ad.depth)}var k2=gU.JM(),eh=ad.JM();if(gU!=ad&&(k2||eh)){if(k2&&eh&&a.Vm(k2[0],eh[0])){}else{alert("Converting between color spaces");
var cE=17;if(k2){var bw=k2[1],c9=ICC.U.sampleLUT(bw,cE);for(var g=0;g<z.U.length;g++){var hp=z.U[g].buffer;
ICC.U.applyLUT(c9,cE,hp,hp)}}if(eh){var bw=eh[1],c9=ICC.U.sampleLUT(bw,cE,!0);for(var g=0;g<z.U.length;
g++){var hp=z.U[g].buffer;ICC.U.applyLUT(c9,cE,hp,hp)}}}}}if(c==bi.IF){var jL=z.w!=null?[z.w]:p.l3(),ge=p.U.slice(0);
for(var g=0;g<jL.length;g++){var Y=p.U[jL[g]].P();Y.nq(p);ge.splice(jL[g],1,Y)}var X=new dY([6,8],this);
X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:p.Y.slice(0)};p.kL(X);this.Cb(X.data,p)}if(c==bi.a1q){var ge=p.U.slice(0),Y=ge[p.Y[0]]=ge[p.Y[0]].P(),aL=Y.add.lmfx,cZ,fx;
delete Y.add.lmfx;var hL=p.Y[0],e4=hL+1;if(Y.nT()){var eb=p.U[p.Y[0]].GJ;fx=eb.axz;cZ=eb.gg;var C=p.root.Ti(hL);
hL=C.$K}else{fx=Y.S;cZ=a.j(fx.C());a.Tm(a.hg(Y.buffer,8),cZ,3)}var b0=ju.u7(aL,Y.add.fxrp,cZ,fx,p,fx),cX=b0.I;
ju.aFC(b0);for(var g=0;g<a_.order.length;g++){var eH=a_.order[g],fq=cX[eH];fq.reverse();for(var lo=0;
lo<fq.length;lo++){var j9=fq[lo],P=p.JG(),k5=g>7;if(eH=="ebbl"){if(j9.Xy||j9.ux){var cT=j9.Xy?j9.Xy:j9.ux;
if(j9.Xy)delete j9.Xy;else delete j9.ux;if(j9.ux||j9.kp)lo--}else if(j9.kp||j9.wD){var cT=j9.wD?j9.wD:j9.kp;
if(j9.wD){delete j9.wD;if(j9.kp)lo--}k5=!0}j9=cT}P.QN=j9.D1;P.YF=Math.round(255*j9.ZB);P.buffer=a.hg(j9.R1,p.depth);
P.S=j9.dp.P();P.S.offset(fx.x,fx.y);if(eH=="FrFX"){P.buffer=P.buffer.slice(0);a.DE(a.hg(j9.hK?j9.hK:j9._Y,p.depth),P.buffer,3);
if(j9.hK){k5=!0;delete j9.hK;if(j9._Y)lo--}}P.Bx=!k5;P.HV(Y.getName()+"'s "+j0.get(a_.names[g]));ge.splice(k5?hL:e4,0,P);
if(k5)e4++}}var X=new dY("Styles to Layers",this);X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:[e4-1]};
p.kL(X);this.Cb(X.data,p)}if(c==bi.aum){var jL=p.l3(),ge=p.U.slice(0),c0=new fw(0,0,p.r,p.$);for(var g=0;
g<jL.length;g++){var j6=p.U[jL[g]],eK=j6.LE();j6.Rz(!0);var a0=p.root.Ti(jL[g]);if(j6.nT())continue;
if(a0==null)continue;var Y=j6.P();Y.nq(p);var kq=a0.R2(p,!0),k$=p.U;p.QF([j6]);p.qM();p.TQ();Y.buffer=a.j(kq.C()*4);
a.nk(p.dT(),c0,Y.buffer,kq);Y.S=kq;Y.YF=255;Y.add.iOpa=255;Y.QN="norm";Y.qM();Y.GJ.X_=!0;p.QF(k$);if(Y.add.lmfx)delete Y.add.lmfx;
Y.T4=Y.SV=null;ge.splice(jL[g],1,Y);Y.Rz(eK);j6.Rz(eK)}var X=new dY([6,34],this);X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:p.Y.slice(0)};
p.kL(X);this.Cb(X.data,p)}if(c==bi.Bn){var jL=p.l3(),ge=p.U.slice(0);for(var g=0;g<jL.length;g++){var Y=p.U[jL[g]],ki=Y.add.TySh;
if(ki==null)continue;var x=new e1(ki.qU,B.rf,ki.PB),f_=a.b.Re(hk.Ta(x,ki,!0));for(var ln in f_){var ib=f_[ln],id=Y.P();
delete id.add.TySh;id.a3=id.a3|1<<4;id.add.SoCo=a.G(a_.J3[0]);var d5=id.add.SoCo.Clr.v;d5.Rd.v=parseInt(ln.slice(1,3),16);
d5.Grn.v=parseInt(ln.slice(3,5),16);d5.Bl.v=parseInt(ln.slice(5,7),16);var d4=new bi.jP;d4.u=a.b.nK(ib,!1);
if(id.add.vmsk!=null){id.add.vmsk.aia();d4.concat(id.add.vmsk)}id.add.vmsk=d4;id.add.vstk=a_.jM.J0(!0);
id.cC();id.k3(p);ge.splice(ge.indexOf(Y),0,id)}ge.splice(ge.indexOf(Y),1)}var fB=p.Y.slice(0);for(var g=fB.length-1;
g>=0;g--)if(fB[g]>=ge.length)fB.splice(g,1);var X=new dY([6,40],this);X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:fB};
p.kL(X);this.Cb(X.data,p)}if(c==bi.aJo){var fZ=p.Y.length,fI,ae;if(fZ<2){alert("Select two or more layers.");
return}for(var g=0;g<fZ;g++){var by=p.U[p.Y[g]].S;fI=g==0?by:fI.ly(by);ae=g==0?by:ae.KQ(by)}if(fI.C()*1.2>ae.C()){alert("stacking images");
var fd=[],l4=[];for(var g=0;g<fZ;g++){var Y=p.U[p.Y[g]];fd.push(Y.buffer);l4.push(Y.S)}var kn=a.aBL.Oj(fd,l4),gb=kn[0],fX=kn[1],gS=[];
for(var g=0;g<fZ;g++){var dC=new bi.L7(p.depth);dC.color=255;dC.S=fX;dC.N=gb[g];gS.push(p.Y[g],null,dC)}var X=new dY("Focus-Stack",this);
X.data={R:bi.LF,li:gS};p.kL(X);this.Cb(X.data,p);return}if(!p.lF())return;var id=p.U[p.Y[0]].P(),ge=[];
for(var g=0;g<p.U.length;g++)if(p.Y.indexOf(g)==-1)ge.push(p.U[g]);ge.splice(p.Y[0],0,id);for(var g=1;
g<fZ;g++)if(p.U[p.Y[g]].S.C()>2e6){alert("Blended areas are too large.");return}for(var g=1;g<fZ;g++){var Y=p.U[p.Y[g]],fX=Y.S.P();
fX.Lr(1,1);var hp=a.j(fX.C()*4);a.nk(Y.buffer,Y.S,hp,fX);id.extend(fX);var a3=a.j(fX.C()*4);a.nk(id.buffer,id.S,a3,fX);
var X=a.j(fX.C());a.Tm(hp,X,3);a.round(X,200);a.DE(X,hp,3);a.B.Oe("norm",hp,fX,a3,fX,fX,1);a.Fu.D8(a3,X,fX);
a.nk(a3,fX,id.buffer,id.S)}var X=new dY([2,10,0],this);X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:[p.Y[0]]};
p.kL(X);this.Cb(X.data,p)}if(c==bi.Tv){var ge=p.U.slice(0),fp=p.Y.slice(0);for(var g=0;g<ge.length;g++){var Y=ge[g],cA=Y.add.vmsk;
if(Y.dH()&&cA&&Y.add.vstk.strokeEnabled.v&&!Y.add.vstk.fillEnabled.v){var dG=cA.u,jq=0,cC=-1;for(var lo=0;
lo<dG.length;lo++){if((dG[lo].I==0||dG[lo].I==3)&&dG[lo].j1!=-1){jq++;if(dG[lo].I==3&&cC==-1){dG[lo].VR=dG[lo].j1=1;
cC=lo}}}if(jq>1&&cC!=-1&&jq<10){console.log("separating an open path into a new layer");Y=Y.P();cA=Y.add.vmsk;
dG=cA.u;var P=dG[cC].length,eN=Y.P();eN.add.lyid=p.kv();cA.u=dG.slice(0,2).concat(dG.slice(cC,cC+P+1));
cA.Y=[];Y.k3(p);Y.qM();var kJ=eN.add.vmsk.u;eN.add.vmsk.u=kJ.slice(0,cC).concat(kJ.slice(cC+P+1,kJ.length));
eN.add.vmsk.Y=[];eN.k3(p);ge[g]=Y;ge.splice(g+1,0,eN);for(var lo=0;lo<fp.length;lo++)if(fp[lo]>g)fp[lo]++;
var lc=fp.indexOf(g);if(lc!=-1){fp.splice(lc+1,0,g+1)}}}}if(ge.length!=p.U.length){var X=new dY("Splitting open paths",this);
X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:fp};p.kL(X);this.Cb(X.data,p)}}if(c==bi.LL){this.$P({R:bi.Tv},J,p,n,B);
var jB=p.Y.slice(0),k$=p.U.slice(0),jL=p.l3();if(jL.length==0)return;p.a9z(jL,!1,z.tS);var X=new dY([6,36,0],this);
X.data={R:bi.Y7,Xg:k$,lP:p.U.slice(),wu:jB,mG:p.Y.slice(0)};p.kL(X);this.Cb(X.data,p)}if(c==bi.a1s){var kT=u.add.SoLd;
if(kT==null)return;var g5=kT.Idnt.v,f5=p.Hb(g5);f5.dT(!1);var g8=a.hg(f5.GS[0],8),fX=f5.GS[1];if(a.hL(g8)){alert("The smart object contains transparency.");
return}var gC=kL.V5("jpg").D6([[g8.buffer]],fX.r,fX.$,[90]);this.$P({R:bi.Eo,data:new Uint8Array(gC),qI:"image.jpg"},J,p,n,B);
console.log(p.add);return}if(c==bi.Ai){var kT=u.add.SoLd,bV=!1;if(kT==null)return;var g5=kT.Idnt.v,b8=new b$;
bM.yi(p.Cx(g5).raw.buffer,b8);if(z.el!="del")for(var g=1;g<b8.U.length-1;g++)b8.U[g].Rz(!1);if(z.el=="switch"){b8.U[z.K].Rz(!0);
bV=!0}else if(z.el=="del"){b8.U.splice(z.K,1);b8.Y=[b8.U.length-1]}else{var Y=b8.JG();Y.S=u.S.P();Y.HV(z.av4);
var gO=Y.buffer=a.j(Y.S.C()*4);a.nk(z.K[0],z.K[1],gO,Y.S);Y.S.x=Y.S.y=0;b8.U.splice(b8.U.length-1,0,Y)}var br=kL.Aw.D6(b8);
this.$P({R:bi.Eo,data:new Uint8Array(br),qI:"image.psd",id:g5,a0q:bV},J,p,n,B);return}if(c==bi.Eo){var c0=z.CT,g5=z.id;
if(c0==null)c0=p;if(g5==null)g5=u.add.SoLd.Idnt.v;var fT=c0.Hb(g5),bZ=fT.P();bZ.raw=z.data;bZ.qI=z.qI;
var aK=kL.yd(z.data.buffer);if(aK=="psd"){bZ.J_="8BIM";bZ.ht="8BPB"}else{bZ.J_="    ";bZ.ht="    "}bZ.dT(!1);
fT.dT(!1);var R=p.HE();if(z.a0q&&R&&R.l==this&&R.data.R==c&&R.data.id==g5){X=R;X.data._c=bZ}else{var X=new dY(z.a0q?"Select Variation":[6,36,1],this);
X.data={R:bi.Eo,id:g5,arP:fT,_c:bZ};c0.kL(X)}this.Cb(X.data,c0)}if(c==bi.wc){var X=new dY([6,36,4],this);
X.data={R:c,w:t,PY:u.add.SoLd.Impr.v.classID,gW:z.gW};p.kL(X);this.Cb(X.data,p)}if(c==bi.E5){var am,bj;
if(z.Xt){am=z.CT;bj=z.Xt}else{z.CT.K6();z.CT.m4();z.CT.qM();z.CT.TQ();z.CT.dT();am=kL.V5("PSD").D6(z.CT,0,0,[!0,!0]);
bj=z.CT.name}if(!(am instanceof ArrayBuffer))throw"e";am=new Uint8Array(am);var M=z.UK;if(M==null){if(p.Y.length==0)M=p.Y.length;
else{var hC=p.Y[p.Y.length-1],P=p.U[hC];M=P.nT()?hC:hC+1}}var cS=new fw(0,0,p.r,p.$),eA=p.oq();if(eA!=-1)cS=p.U[eA].x0();
var fy=p.aZ(am,bj,null,null,cS,B.rf,J),ge=p.U.slice(0);ge.splice(M,0,fy);var X=new dY([6,36,2],this);
X.data={R:bi.Y7,Xg:p.U.slice(),lP:ge,wu:p.Y.slice(0),mG:[ge.indexOf(fy)]};p.kL(X);this.Cb(X.data,p)}if(c==bi.PE&&z.el=="merge"){var cf=[],jD=p.root.children,cq=0;
for(var g=0;g<jD.length;g++){var C=jD[g],Y=C.w,eE=C.children,ek=!0;if(!Y.nT()||eE.length==0)continue;
for(var lo=0;lo<eE.length;lo++)if(!eE[lo].w.getName().startsWith("_a_")){ek=!1;break}if(ek)cf.push(p.U.indexOf(Y))}var gw=[];
for(var g=0;g<cf.length;g++)if(p.Y.indexOf(cf[g])!=-1)gw.push(cf[g]);if(gw.length>=2)cf=gw;if(cf.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var hH=[];for(var g=0;g<cf.length;g++)hH.push(p.U[cf[g]].getName());var fq=[];for(var ab=0;ab<cf.length;
ab++){var C=p.root.Ti(cf[ab]),ez=[[],[],0,ab];fq.push(ez);for(var g=0;g<C.children.length;g++){var d=C.children[g].index,Y=C.children[g].w,ih=Y.getName(),ie=20,cs=ih.split(",");
if(cs.length>1){var kj=parseInt(cs.pop());if(!isNaN(kj)&&kj!=0)ie=kj}if(ie<17)ie=17;ez[0].push(Y);ez[1].push(ie);
ez[2]+=ie}}fq.sort(function(X,hp){return hp[2]-X[2]});if(fq[0][2]>2e3){var cd=0,la=0;for(var g=0;g<fq.length;
g++){var bO=fq[g][1].length/fq[g][2];if(bO>la){la=bO;cd=g}}var aU=(fq[0][2]/1e3).toFixed(1),lg=window.confirm("- \""+hH[fq[0][3]]+"\" is "+aU+" seconds long\n"+"- \""+hH[fq[cd][3]]+"\" is playing at "+Math.round(la*1e3)+" frames per second\n"+"A merged animation must be "+aU+" sec, up to "+Math.round(fq[0][2]*la)+" frames. Proceed?");
if(!lg)return}var hR=fq[0],dn=hR[2];for(var dr=1;dr<fq.length;dr++){var ez=fq[dr],hP=1,g_=ez[1].slice(0),hn=0;
while((hP+1)*ez[2]<=hR[2]){hP++;g_=g_.concat(ez[1])}ez[1]=g_;ez[2]*=hP;var iT=hR[2]/ez[2];for(var g=0;
g<ez[1].length;g++){var bP=Math.floor(ez[1][g]*iT);ez[1][g]=bP;hn+=bP}while(hn<dn){hn++;ez[1][ez[1].length-1]++}ez[2]=hn}var fE=[],h_=[],bP=[];
for(var g=0;g<fq.length;g++){fE.push(0);h_.push(0)}while(cq<dn){var eY=1e9,h$=-1;for(var g=0;g<fq.length;
g++){var cr=fq[g][1],hL=fE[g];if(hL!=cr.length&&h_[g]+cr[hL]<cq+eY){h$=g;eY=h_[g]+cr[hL]-cq}}h_[h$]+=fq[h$][1][fE[h$]];
fE[h$]++;if(eY!=0){bP.push(eY);cq+=eY}}for(var g=1;g<bP.length;g++){var bD=bP[g];if(bD<16&&(bP[g-1]<16||g<bP.length-1&&16<=bP[g+1])){bP[g-1]+=bD;
bP.splice(g,1);g--}}var eK=[],c0=new fw(0,0,p.r,p.$);for(var g=0;g<p.U.length;g++){eK[g]=p.U[g].LE();
p.U[g].Rz(!1)}var gn=p.Y.slice(0);p.Y=cf;var cH=p.l3();cH.sort(function(X,hp){return X-hp});var ge=[];
for(var g=0;g<p.U.length;g++){if(cH.indexOf(g)==-1)ge.push(p.U[g])}fq.sort(function(X,hp){return X[3]-hp[3]});
function dj(cr,h6){var g=0,fF=0;while(fF+cr[g]<=h6){fF+=cr[g];g++}return g}cq=0;ge.splice(cH[0],0,p.eH());
for(var jw=0;jw<bP.length;jw++){var y=[];for(var g=0;g<fq.length;g++){var hL=dj(fq[g][1],cq)%fq[g][0].length,Y=fq[g][0][hL];
y.push(Y)}var Y=p.JG();for(var g=0;g<fq.length;g++){var gP=y[g],cP=p.U[cf[g]];gP.Rz(!0);cP.Rz(!0)}p.qM();
p.TQ();var g8=p.dT();Y.S=a.an(g8,c0,2);Y.buffer=a.j(Y.S.C()*4);a.nk(g8,c0,Y.buffer,Y.S);for(var g=0;
g<fq.length;g++){var gP=y[g],cP=p.U[cf[g]];gP.Rz(!1);cP.Rz(!1)}Y.Rz(jw==0);Y.HV("_a_frm"+jw+","+bP[jw]);
ge.splice(cH[0]+1+jw,0,Y);cq+=bP[jw]}var Y=p.JG();Y.HV(hH.join(" + "));Y.QN="pass";Y.add.lsct=cp.mD;
Y.a3=24;ge.splice(cH[0]+1+bP.length,0,Y);for(var g=0;g<p.U.length;g++)p.U[g].Rz(eK[g]);var X=new dY([6,12,0],this);
X.data={R:bi.Y7,Xg:p.U,lP:ge,wu:gn,mG:[cH[0]+1+bP.length]};p.kL(X);this.Cb(X.data,p)}if(c==bi.kZ){var h2=z.m5,fu=p.Y.slice(0);
fu.sort(function(X,hp){return X-hp});if(fu.length<2){alert("Select at least two layers.");return}for(var g=0;
g<fu.length;g++)if(!p.U[fu[g]].dH()){alert("Select only vector shapes.");return}var hW=[["AuB"],["AsB"],["AiB"],["AsB","BsA"],["AsB","BsA","AiB"],["AsB","B"],["AuB"],["BsAs","AiB"],["BsAs","AiBs","AsBs"],["BsA"]],fU=[],k6=hW[h2],ej=bi.jP.Ox,V=ej(p.U[fu[0]].add.vmsk.u),f7=ej(p.U[fu[1]].add.vmsk.u);
for(var g=2;g<fu.length;g++)f7=f7.concat(p.U[fu[g]].add.vmsk.u.slice(2));if(k6.length>1)fU.push(p.eH());
for(var g=0;g<k6.length;g++){var iu=k6[g],Y=p.U[fu[h2==1?0:fu.length-1]].P(),cA=Y.add.vmsk;fU.push(Y);
if(iu.length==1)cA.u=ej(iu=="A"?V:f7);else{var X=V,hp=f7;if(iu[0]=="B"){X=f7;hp=V}X=ej(X);hp=ej(hp);
for(var lo=0;lo<hp.length;lo++)if(hp[lo].j1!=null&&hp[lo].j1!=-1)hp[lo].j1={u:1,s:2,i:3}[iu[1]];cA.u=a.z.vY(X.concat(hp.slice(2)));
if(iu[3]=="s")Y.add.vstl.ZI=[]}}if(k6.length>1){var Y=p.JG();Y.HV("<Group>");fU.push(Y);Y.add.lsct=cp.mD;
Y.QN="pass";Y.a3=24}var ge=[],fB=[];for(var g=0;g<p.U.length;g++)if(fu.indexOf(g)==-1)ge.push(p.U[g]);
for(var g=0;g<fU.length;g++){ge.splice(fu[0]+g,0,fU[g]);fB.push(fu[0]+g)}var X=new dY("Pathfinder",this);
X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y,mG:fB};p.kL(X);this.Cb(X.data,p)}if(c==bi.lp||c==bi.Kl){var f4=p.Y.length==1&&!p.U[p.Y[0]].nT(),bI=!0,fy=null,fB;
if(f4&&p.Y[0]==0)return;var dd=c==bi.lp&&z.w!=null&&p.Y.indexOf(z.w)==-1,k$=p.U.slice(0),jB=p.Y.slice(0);
if(f4||dd)p.Y=[t,t-1];if(c==bi.Kl){p.Y=[];for(var g=0;g<p.U.length;g++)if(p.U[g].LE())p.Y.push(g)}var jL=p.l3();
jL.sort(function(X,hp){return X-hp});var dD=new fw,c0=new fw(0,0,p.r,p.$);for(var g=0;g<jL.length;g++){var d=jL[g],Y=p.U[d];
if(Y.nT()||Y.getName()=="</Layer group>")continue;bI=bI&&Y.dH()&&Y.add.vmsk!=null;dD=dD.KQ(p.root.Ti(d).R2(p,!0))}if(z.m5!=null&&!bI){alert("Select shape layers only.");
return}if(bI){var cA=null,h2=z.m5;for(var g=0;g<jL.length;g++){var P=p.U[jL[g]];if(ex==0&&P.S.C()==0)continue;
if(fy==null){fy=P.P();cA=fy.add.vmsk}else{var P=p.U[jL[g]],kJ=bi.jP.Ox(P.add.vmsk.u);if(h2!=null)for(var lo=0;
lo<kJ.length;lo++)if(kJ[lo].j1!=null&&kJ[lo].j1!=-1)kJ[lo].j1=[1,2,3,0][h2];cA.u=cA.u.concat(kJ.slice(2));
fy.add.vogk=fy.add.vogk.concat(a.G(P.add.vogk))}}fy.add.vmsk.Kk=!0;fy.k3(p)}else if(c0.cz(dD)){fy=p.JG();
fy.HV(p.U[jL[jL.length-1]].getName());fy.S=dD;fy.buffer=a.j(dD.C()*4,p.depth);var aM=p.add.artd;delete p.add.artd;
var kb=p.dT(jL);if(aM)p.add.artd=aM;a.nk(kb,c0,fy.buffer,dD);fy.eB();fy.qM()}else{p.a9z(jL,!0);fy=p.U[p.Y[0]];
p.U.splice(p.Y[0],1);var iv=p.Hb(fy.add.SoLd.Idnt.v);p.add.lnk2.splice(p.add.lnk2.indexOf(iv),1);delete fy.add.SoLd}var kV=v,gf=-1;
if(z.m$&&z.m$.Dplc&&z.m$.Dplc.v)kV=!0;if(kV&&c==bi.Kl&&jB.length!=0&&p.U[jB[0]].Zg()&&p.U[jB[0]].S.Sz()){gf=jB[0]}if(gf!=-1||f4){var bd=p.U[gf!=-1?gf:t-1];
fy.HV(bd.getName());fy.add.lclr=bd.add.lclr}var ge=[];for(var g=0;g<p.U.length;g++)if(kV||jL.indexOf(g)==-1)if(g!=gf)ge.push(p.U[g]);
var kP=jL[jL.length-1],hz=kP==p.U.length-1?null:p.U[kP+1],jE=hz?ge.indexOf(hz):ge.length;ge.splice(jE,0,fy);
fB=[jE];if(dd)fB=jB.slice(0);var X=new dY([6,12,0],this);X.data={R:bi.Y7,Xg:k$,lP:ge,wu:jB,mG:fB};p.kL(X);
this.Cb(X.data,p)}if(c==bi.agc){var id=p.JG();id.S=new fw(0,0,p.r,p.$);id.buffer=a.j(id.S.C()*4);id.buffer.fill(255);
a.B.Oe("norm",p.dT(),id.S,id.buffer,id.S,id.S,1);id.HV("Background");id.add.lspf=1<<2;var X=new dY([6,12,1],this);
X.data={R:bi.Y7,Xg:p.U.slice(),lP:[id],wu:p.Y.slice(0),mG:[0]};p.kL(X);this.Cb(X.data,p)}var kd=c==bi.xC||c==bi.KS;
if(c==bi.JX||c==bi.LQ||c==bi.Uf||c==bi.HI||kd){var Y=kd?p.pL()[0]:p.JG(),gy=j0.get([0,3]),eo=z.s6,hw=!1,hQ,jb;
if(c==bi.Uf)gy=j0.get([12,76,1]);if(kd){if(p.M){var j6=p.U[p.Y[0]],cR=j6.xB(p,p.M);if(cR==null){alert("Copied area is empty");
return}Y.S=cR.S;Y.buffer=cR.sM;Y.nq(p);Y.Rz(!0)}else eo=Y.getName();Y.add.lspf=0;Y.Bx=!1;if((Y.a3&1)!=0)Y.a3--}if(c==bi.HI){Y.S=L.vJ.aAh(z.ic,p);
Y.buffer=a.hg(z.ic.buffer.slice(0),a.zr(Y.buffer));if(z.aAl&&p.M){Y.T4=new bi.L7(p.depth);Y.T4.S=p.M.S;
Y.T4.color=0;Y.T4.N=p.M.N.slice(0)}}if(c==bi.JX){this.track({rK:"make",m$:{classID:"Mk",null:dB.DG("Lyr")}})}if(c==bi.LQ){Y.a3|=16;
var il=z.m$.Usng.v,ig=il.Type.v,eC=fs.Po[ig.classID];gy=j0.get(fs.names[eC]);if(il.Nm)eo=il.Nm.v;Y.add[eC]=em.J0(eC);
if(Y.add[eC]==null)Y.add[eC]={};for(var e9 in ig)Y.add[eC][e9]=a.G(ig[e9]);Y.T4=L.vJ.au3(p);Y.uB=1}if(c==bi.Uf){Y.a3|=16;
var bR=z.m$,il=bR.Usng.v,kC=il.Type.v,iZ=il.Shp;if(il.Nm)eo=il.Nm.v;if(iZ==null){var hf=p.Q8(),f_=hf[0],kA=hf[1];
if(kA.length!=0&&f_[kA[0]].GU<0){var fn=f_[kA[0]].add;Y.add.vmsk=fn.vmsk.P();Y.add.vstk=a_.jM.J0(!0);
Y.add.vogk=a.G(fn.vogk);p.E0=[]}else Y.T4=L.vJ.au3(p)}else{Y.add.vmsk=new bi.jP;Y.add.vstk=a.G(il.strokeStyle?il.strokeStyle.v:a_.jM.J0(!0));
Y.add.vogk=[];if(iZ){var kl=a.R$.fd(iZ,p.r,p.$);if(kl){Y.add.vogk=[kl];Y.add.vmsk.u.push({I:0,j1:1,length:0});
a.R$._n(Y.add.vogk,Y.add.vmsk)}else{iZ=iZ.v;var gj=iZ.classID;if(gj=="Plgn"){var dI=iZ.Cntr.v,by=iZ.corner.v;
dI=new i_(dI.Hrzn.v.val,dI.Vrtc.v.val);by=new i_(by.Hrzn.v.val,by.Vrtc.v.val);Y.add.vmsk.u=a.z.dZ.SX(dI.x,dI.y,Math.sqrt(by.x*by.x+by.y*by.y),Math.atan2(by.y,by.x),iZ.sides.v,0)}else if(gj=="customShape"){var cU=a.R$.AF(iZ),iF=cU[2]-cU[0],bc=cU[3]-cU[1],kI=B.bA,a1,js;
for(var g=0;g<kI.length;g++)if(kI[g].vS==iZ.Nm.v)a1=kI[g];if(a1){js=bi.jP.Ox(a1.u);a.z.Gn(js,new fA(iF,0,0,bc,cU[0],cU[1]))}else js=a.z.dZ.Rect(cU[0],cU[1],iF,bc,0);
Y.add.vmsk.u=js}Y.cC()}}}if(ex==0){var bY={solidColorLayer:0,gradientLayer:1,patternLayer:2}[kC.classID],iM=["SoCo","GdFl","PtFl"][bY];
Y.add[iM]=a.G(a_.J3[bY]);if(bY==0)Y.add[iM].Clr.v=a.Wi.yR(a.g8(B.Nb));L.vJ.FW(kC,Y.add[iM],bY);if(iZ==null)gy=j0.get([6,48,0,bY]);
var k7=p.oq();if(iM=="GdFl"&&k7!=-1){var fx=p.U[k7].x0(),g7=fx.x+fx.r/2,cw=fx.y+fx.$/2,ap=Y.add[iM].Ofst.v;
ap.Hrzn.v.val=Math.round(100*(-.5+g7/p.r));ap.Vrtc.v.val=Math.round(100*(-.5+cw/p.$));var iT=Math.min(fx.r/p.r,fx.$/p.$);
Y.add[iM].Scl.v.val=Math.round(100*iT)}if(iM=="PtFl"){var iY=Y.add[iM].Ptrn.v,cs=ju.AR(iY,B.r0);if(cs==null)cs=ju.AR(iY,p.add.Patt);
if(cs==null)cs=B.r0[0];iY.Idnt.v=cs.id;p.KX(cs)}Y.k3(p)}else{Y.add.vstl=a.G(B.a4u)}}var fZ=L.vJ.Db(p,gy+" ");
Y.HV(gy+" "+(fZ+1));if(eo)Y.HV(eo);var cx=p.Y.length==0?p.U.length-1:p.Y[p.Y.length-1],cj=p.U[cx];if(ex==0&&c==bi.Uf&&cj.Zg()&&cj.S.Sz()){hw=!0;
Y.HV(cj.getName());hQ=cx}else{hQ=cx+(c==bi.JX&&$&&!A?0:1);if(cj&&cj.add.lsct==cp.xj)hQ--}if(z.aAr)hQ=Math.max(0,hQ-1);
var ge=p.U.slice(0);if(c==bi.KS){var gI=ge[p.Y[0]]=ge[p.Y[0]].P(),gz=p.M.N.slice(0);a.oU(gz);a.ph(gz,p.M.S,gI.buffer,gI.S)}ge.splice(hQ,hw?1:0,Y);
var kB=[5,2];if(c==bi.JX)kB=[6,13];if(c==bi.LQ)kB=[6,1];if(c==bi.Uf){kB=[6,48,1];var iZ=z.m$.Usng.v.Shp;
if(iZ){var hh={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[iZ.v.classID];
if(hh)kB=hh}}if(kd){kB=[6,49,c==bi.xC?0:1]}if(kd||c==bi.Uf||c==bi.HI||c==bi.LQ)if(p.M)jb=[p.M,null];
var X=new dY(kB,this);X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:[hQ],Nd:jb};p.kL(X);this.Cb(X.data,p);
if(c==bi.Uf&&iZ==null&&bY!=0||c==bi.LQ){var W=new cD(b.E.c);W.data={R:b.J.n6,i9:bb.yK.yU};J.a(W)}}if(c==bi.a5l){var ge=p.U.slice(0),Y=p.U[p.Y[0]],is=Y.S.C(),d3=is*4,gm=ge.indexOf(Y),bd=p.JG();
bd.HV("Decomposition");bd.add.lsct=cp.xj;bd.QN="pass";bd.a3=24;ge.splice(gm+1,0,bd);ge.splice(gm+1,0,p.eH());
var i9=Y.P();i9.HV("Residual");ge.splice(gm+2,0,i9);function eY(X,hp,g){hp[g]+=128-X[g];hp[g+1]+=128-X[g+1];
hp[g+2]+=128-X[g+2];hp[g+4]+=128-X[g+4];hp[g+5]+=128-X[g+5];hp[g+6]+=128-X[g+6]}ge.splice(gm,0);var hT=Date.now();
for(var cV=0;cV<5;cV++){var eN=i9.P();ge.splice(gm+3,0,eN);eN.YF=128;eN.QN="lLit";eN.HV("Scale "+(cV+1));
em.Pz(1<<cV,1,i9.buffer,Y.S);var cU=i9.buffer,d6=new Uint8ClampedArray(eN.buffer.buffer);for(var g=0;
g<d3;g+=8)eY(cU,d6,g)}var X=new dY("Wavelet Decompose",this);X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:[gm+2]};
p.kL(X);this.Cb(X.data,p)}if(c==bi.k7){var Y=p.JG(),gy=j0.get([0,4]),fZ=L.vJ.Db(p,gy+" ");Y.HV(gy+" "+(fZ+1));
Y.QN="pass";Y.add.lsct=cp.xj;Y.a3=24;if(z.s6)Y.HV(z.s6);if(z.aM!=null)Y.add.lclr=z.aM;var f6=p.eH(),cx=t,hQ=cx+($?0:1),ge=p.U.slice(0);
ge.splice(hQ,0,f6,Y);var X=new dY([6,20],this);X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:[hQ+1]};
p.kL(X);this.Cb(X.data,p)}if(c==bi.j2||c==bi.qv){var iP=c==bi.j2?z.source:p.Y[0],ah,l7,e2=p.Y.indexOf(iP)!=-1,a8=v|z.a74,h3,eY=null;
if(e2)h3=p.l3();else h3=p.Fv(iP);h3.sort(function(X,hp){return X-hp});if(c==bi.j2){ah=z.target;l7=z.p7>.5}else if(z.target!=null){ah=Math.min(z.target,p.U.length-1);
l7=z.target<p.U.length;p.Km=!0}else{var aP=z.el;l7=aP>1;if(aP==0){ah=p.U.length-1}if(aP==1){ah=h3[h3.length-1]+1;
var P=p.Fv(ah);if(P.indexOf(iP)==-1)ah+=P.length-1}if(aP==2){ah=h3[0]-1;var P=p.Fv(ah);if(P.indexOf(iP)==-1)ah-=P.length-1}if(aP==3){ah=0;
if(p.U[0].add.lnsr=="bgnd")ah++}if(ah<0||ah>p.U.length-1)return;p.Km=!0}if(h3.indexOf(ah)!=-1&&!a8)return;
var aR=L.vJ.IE(p,h3,ah,l7,a8?p.pL(e2?null:iP):null,c==bi.j2&&z.p7>.8),jW=aR.pop(),fp=aR.pop(),ge=aR.pop(),fm=p.Y;
p.Y=[iP];var az=p.oq();p.Y=[ah];var c9=p.oq();if(c9==ah&&!l7)c9=-1;p.Y=fm;if(iP==az){}else if(az!=c9){var eY=new i_(0,0);
if(az!=-1){var fX=p.U[az].x0();eY.x-=fX.x;eY.y-=fX.y}if(c9!=-1){var fX=p.U[c9].x0();eY.x+=fX.x;eY.y+=fX.y}}var X=new dY(a8?[6,0]:[6,35],this);
X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:fp,DY:eY};p.kL(X);this.Cb(X.data,p);var bR={classID:"move",null:dB.DG("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:jW+(l7?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:a8}};
this.track({rK:"move",m$:bR})}if(c==bi.wW){var cj=z.$Z;if(z.UY){if(u==null||!u.nT())return;var C=p.root.Ti(t),hs=p.U.indexOf(C.aeZ),ge=p.U.slice(0);
ge.splice(t,1);ge.splice(hs,1);var fp=[];for(var g=hs;g<t-1;g++)fp.push(g);if(cj){var s=t-2;ge[s]=ge[s].P();
ge[s].$Z=!1}var X=new dY(cj?[6,6,0]:"Ungroup Layers",this);X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:fp};
p.kL(X);this.Cb(X.data,p)}else{var Y=p.JG(),fr=j0.get([0,4])+" ";Y.HV(fr+(L.vJ.Db(p,fr)+1));Y.QN="pass";
if(cj){if(p.Y.length==1){alert("Select more than one layer for a clipping group.");return}Y.HV("<Clip Group>")}if(z.s6)Y.HV(z.s6);
if(z.aM!=null)Y.add.lclr=z.aM;Y.add.lsct=p.Y.length==1?cp.xj:cp.mD;Y.a3=24;var f6=p.eH(),h3=p.l3();if(h3.length==0)return;
h3.sort(function(X,hp){return X-hp});var ge=[];for(var g=0;g<p.U.length;g++)if(h3.indexOf(g)==-1)ge.push(p.U[g]);
var cx=p.Y[p.Y.length-1]-h3.length;ge.splice(cx+1,0,f6);for(var g=0;g<h3.length;g++)ge.splice(cx+2+g,0,p.U[h3[g]]);
ge.splice(cx+2+h3.length,0,Y);if(cj){var s=cx+h3.length+1;ge[s]=ge[s].P();ge[s].$Z=!0}var X=new dY(cj?[6,6,0]:[6,9],this);
X.data={R:bi.Y7,Xg:p.U.slice(0),lP:ge,wu:p.Y.slice(0),mG:[ge.indexOf(Y)]};p.kL(X);this.Cb(X.data,p);
var i={rK:"make",ES:!0};i.m$={classID:"Mk",null:dB.DG("layerSection"),From:dB.DG("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:Y.getName()}}}};
this.track(i)}}if(c==bi.a0W){if(p.Y.length!=1)return;var M=p.Y[0],cY=v;if(p.U[M].Qu()==null&&!n.Q(l5.zT)){c=bi.CZ;
z.th=p.M?!cY?"RvlS":"HdSl":!cY?"RvlA":"HdAl"}else{c=bi.K7;z.apX=!0}}if(c==bi.CZ){if(p.Y.length!=1)return;
var M=p.Y[0],Y=p.U[M];if(Y.add.vmsk&&Y.T4==null)Y.k3(p);var g2=Y.Qu();if(g2==null||z.a5E){var X=new dY(z.s6?z.s6:[6,21],this),fz=new bi.L7(p.depth),cB=z.th,ky=cB=="RvlS"||cB=="HdSl";
if(cB=="RvlS"||cB=="HdAl"||cB=="Trns")fz.color=0;if(ky){fz.N=p.M.N.slice(0);fz.S=p.M.S.P();if(cB=="HdSl")a.oU(fz.N)}if(cB=="Trns"){fz.S=Y.S.P();
fz.N=a.j(Y.S.C());a.Tm(Y.buffer,fz.N,3)}X.data={R:bi.LF,li:[M,g2,fz],Nd:ky?[p.M,null]:null,aps:cB=="Trns"};
p.kL(X);this.Cb(X.data,p);p.U[M].uB=1;this.track({rK:"make",m$:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:cB}}}})}}else if(c==bi.air){var eJ=p.U[z.src],el=p.U[z.EY],X=new dY([6,21],this),i0=eJ.Qu(),eM=el.Qu(),dC=[z.src,i0,null,z.EY,eM,i0];
if(v||A){var ih=i0.P();if(v)dC=[z.EY,eM,ih];else dC[5]=ih;if(A){a.oU(ih.N);ih.color=255-ih.color}}X.data={R:bi.LF,li:dC};
p.kL(X);this.Cb(X.data,p)}if(c==bi.cf){if(p.Y.length!=1)return;var M=t,eL=p.U[M].Qu();if(eL!=null){var X=new dY([6,22],this);
X.data={R:bi.LF,li:[t,eL,null]};p.kL(X);this.Cb(X.data,p)}}if(c==bi.ZH){var k$=p.U.slice(0),id=u.P(),gE=id.Qu();
a.ph(gE.TJ(id.S),id.S,id.buffer,id.S);L.vJ.fT(p,id);id.eB();p.U[p.Y[0]]=id;var X=new dY([5,8],this);
X.data={R:bi.Y7,Xg:k$,lP:p.U.slice(),wu:p.Y.slice(0),mG:p.Y.slice(0)};p.kL(X);this.Cb(X.data,p)}if(c==bi.fJ){if(p.Y.length!=1)return;
var M=p.Y[0];if(p.U[M].g6(p).T4==null){var X=new dY([6,45],this);X.data={R:c,w:M,T4:new bi.L7(p.depth)};
p.kL(X);this.Cb(X.data,p)}}if(c==bi.C9){if(p.Y.length!=1)return;var M=p.Y[0];if(p.U[M].g6(p).T4!=null){var X=new dY([6,46],this);
X.data={R:c,w:M,T4:p.U[M].g6(p).T4};p.kL(X);this.Cb(X.data,p)}}if(c==bi.wJ){if(z.src==null&&p.Y.length!=1)return;
if(z.src!=null)t=z.src;if(p.U[t].Ik()){var X=new dY([6,47],this),kT=JSON.stringify(p.U[t].add.SoLd),kY=JSON.parse(kT);
delete kY.filterFX;X.data={R:bi.IL,BH:[{Lw:t,RG:[kT,JSON.stringify(kY)],g4:[p.U[t].g6(p),null]}]};p.kL(X);
this.Cb(X.data,p)}}if(c==bi.K7){if(p.Y.length!=1)return;if(u.add.vmsk==null){var X=new dY([6,23],this),dG=p.Q8(),gV=dG[1],dG=dG[0],fz,kl;
if(z.apX&&gV.length!=0){var fn=dG[gV[0]].add;fz=fn.vmsk.P();kl=fn.vogk}else{fz=new bi.jP;kl=[];fz.u[1].all=z.asc?0:1}X.data={R:c,w:t,a7B:!0,T4:fz,R$:JSON.stringify(kl),jM:null};
if(u.dH()){X.data.jM=Stroke.jM.J0(!0)}p.kL(X);this.Cb(X.data,p)}}if(c==bi.xe){var eJ=p.U[z.src],el=p.U[z.EY];
if(el.add.vmsk)return;var X=new dY([6,23],this),cA=eJ.add.vmsk;X.data={w:z.EY,a7B:eJ.UU,T4:cA.P(),R$:JSON.stringify(eJ.add.vogk),jM:eJ.add.vstk?JSON.stringify(eJ.add.vstk):null};
if(v){X.data.R=bi.K7}else{X.data.R=c;X.data.src=z.src;X.data.EY=z.EY}p.kL(X);this.Cb(X.data,p)}if(c==bi.Xo||c==bi.q6){if(p.Y.length!=1)return;
var Y=p.U[t],cA=Y.add.vmsk;if(cA!=null){var c7=c==bi.q6,X=new dY(c7?[6,8]:[6,24],this);X.data={R:bi.Xo,w:t,a7B:Y.UU,T4:cA,R$:JSON.stringify(Y.add.vogk),jM:Y.add.vstk?JSON.stringify(Y.add.vstk):null};
if(c7){X.data.SV=cA.Qu(Y.add.vstk);X.data.SV.$I=!1}p.kL(X);this.Cb(X.data,p)}}if(c==bi.Th){var X=new dY("Metadata",this);
X.data={R:c,B3:JSON.stringify(p.UD),FU:JSON.stringify(z.FU)};p.kL(X);this.Cb(X.data,p)}if(c==bi.Xx){var h4=z.EY?z.EY:p,dy=h4.name,eo=z.K+"."+dy.split(".").pop();
if(dy==eo)return;var X=new dY([6,37],this);X.data={R:c,aF8:dy,s6:eo};if(z.arN!=!0)h4.kL(X);this.Cb(X.data,h4)}if(c==bi.PE&&z.el.endsWith("makeframes")){var hE=[],jp=z.el.startsWith("make");
for(var g=0;g<p.Y.length;g++){var d=p.Y[g],Y=p.U[d],d1=Y.getName(),aH=d1.startsWith("_a_");if(jp==aH||Y.add.lsct==cp.hX)continue;
var f9=jp?"_a_"+d1:d1.slice(3);hE.push([d,d1,f9,Y.add.lnsr,null])}var X=new dY([6,37],this);X.data={R:bi.JL,Xu:hE};
p.kL(X);this.Cb(X.data,p)}if(c==bi.JL){var dy=u.getName(),eo=z.name.substring(0,255);if(dy==eo)return;
var X=new dY([6,37],this);X.data={R:c,Xu:[[t,dy,eo,u.add.lnsr,null]]};p.kL(X);this.Cb(X.data,p);this.track(dB.kt("Nm",{t:"TEXT",v:eo}))}if(c==bi.ig){var ea=p.l3(),gT=[],jc=[];
for(var g=0;g<ea.length;g++){gT.push(p.U[ea[g]].add.lclr);jc.push(z.anu)}var X=new dY([6,38],this);X.data={R:c,U:ea,aCJ:gT,aM:jc};
p.kL(X);this.Cb(X.data,p)}if(c==bi.BF){var X=p.history[p.Jq];if(X!=null&&X.l==this&&X.data.R==c&&X.data.w==z.Rj&&X.data.gW.rh==z.dr.rh)X.data.gW=z.dr;
else{X=new dY("Mask Density / Feather",this);X.data={R:c,w:z.Rj,PY:p.U[z.Rj].xd(z.dr.rh),gW:z.dr};p.kL(X)}this.Cb(X.data,p)}if(c==bi.zB){var cN=JSON.stringify(z.K),aD=JSON.parse(cN),X=p.history[p.Jq];
if(X!=null&&X.l==this&&X.data.R==c&&X.data.fe==z.fe&&X.data.oz.join(",")==z.oz.join(",")){for(var g=0;
g<z.oz.length;g++)X.data.abX[g]=aD;if(X.data.m$&&aD.ht!=0)L.vJ.FW(aD._H,X.data.m$.T.v,aD.ht-1)}else{X=new dY([11,6],this);
X.data={R:c,oz:z.oz,fe:z.fe,aIE:[],abX:[]};var cc=!1;for(var g=0;g<z.oz.length;g++){var d=z.oz[g],Y=p.U[d],f$=z.fe?a_.O7(Y.add):a.G(Y.add.vstk);
X.data.aIE.push(f$);X.data.abX.push(aD);if(JSON.stringify(f$)!=cN)cc=!0}if(!cc)return;p.kL(X);if(z.fe&&aD.ht>0){var bR=X.data.m$={classID:"setd",null:dB.DG("contentLayer",!0),T:{t:"Objc",v:{}}};
L.vJ.FW(aD._H,bR.T.v,aD.ht-1);this.track({rK:"set",m$:bR})}}if(z.fe&&aD.ht==3)p.KX(ju.AR(aD._H.Ptrn.v,B.r0));
if(!z.fe){var jQ=aD.strokeStyleContent.v;if(jQ.classID==a_.jM.Sp[2])p.KX(ju.AR(jQ.Ptrn.v,B.r0))}this.Cb(X.data,p)}if(c==bi.Ol){var bo=B.St,fP=[];
for(var g=0;g<p.Y.length;g++){var d=p.Y[g],Y=p.U[d],jS=Y.add.vstl;if(jS==null)continue;var f$=JSON.stringify(jS);
for(var c0 in bo)jS[c0]=bo[c0];var aD=JSON.stringify(jS);if(f$==aD)continue;fP.push([d,f$,aD])}if(fP.length!=0){var R=p.HE();
if(R&&R.l==this&&R.data.R==c&&R.data.hy.length==fP.length){var kE=!0;for(var g=0;g<fP.length;g++)if(fP[g][0]!=R.data.hy[g][0])kE=!1;
if(kE){for(var g=0;g<fP.length;g++)R.data.hy[g][2]=fP[g][2];p.qM();return}}var X=new dY("Style Change",this);
X.data={R:c,hy:fP};p.kL(X);p.qM()}}};L.vJ.IE=function(z,J,p,n,B,c){var t=z.U[p],u=[];if(B)u=z.U.slice(0);
else for(var g=0;g<z.U.length;g++)if(J.indexOf(g)==-1)u.push(z.U[g]);var v=u.indexOf(t);if(c&&t.nT()&&t.add.lsct==cp.mD)v-=z.Fv(p).length-1;
var A=[];for(var g=0;g<J.length;g++){var $=v+(n?0:1)+g,X=B?B[g]:z.U[J[g]];u.splice($,0,X);A.push($)}return[u,A,v]};
L.vJ.FW=function(z,J,p){var n=[a_.Sx,a_.ik,a_.ry][p];if(J.classID==null)J.classID=["solidColorLayer","gradientLayer","patternLayer"][p];
for(var g=0;g<n.length;g++)if(z[n[g]])J[n[g]]=a.G(z[n[g]])};L.vJ.au3=function(z){var J=new bi.L7(z.depth);
if(z.M!=null){J.color=0;J.N=z.M.N.slice(0);J.S=z.M.S.P()}return J};L.vJ.E9=function(z,J,p,n,B){var c=n.Mm,t=p.Mm,u=n.Ge/p.Ge,v=c.r/t.r,A=c.$/t.$,$=c.r/2,X=c.$/2;
v/=u;A/=u;var U=a.b.e3(c).L;for(var g=0;g<z.U.length;g++){var w=z.U[g],P=w.add.SoLd;if(P==null||P.Idnt.v!=J)continue;
var k=v!=1||A!=1;if(k){var T=L.tp.bU(P.nonAffineTransform),Z=a.F.Q$(T,c),i=new fA;i.translate(-$,-X);
i.scale(v,A);i.translate($,X);var V=a.F.iE(Z,a.F.R8(i)),_=U.slice(0);a.F.h(V,_);P.Trnf=L.tp.ey(_);P.nonAffineTransform=L.tp.ey(_);
if(a.TX.CM(P.quiltWarp.v)){var y=P.quiltWarp.v.bounds.v;y.Rght.v.val=c.r;y.Btom.v.val=c.$}}w.m8(z,null,B,!k)}z.qM()};
L.vJ.ajK=function(z,J,p){J.color=255-J.color;a.oU(J.N);J.Kk=!0;z.k3(p);p.qM()};L.vJ.prototype.gD=function(z,J){var p=z.R,n=J.U[z.w];
J.JS=!0;if(p==bi.Eo){var g=J.add.lnk2.indexOf(J.Hb(z.id));if(g==-1)throw"e";J.add.lnk2[g]=z.arP;L.vJ.E9(J,z.id,z._c,z.arP)}if(p==bi.wc){n.add.SoLd.Impr.v.classID=z.PY;
n.m8(J)}if(p==bi.Sd){var B=JSON.parse(z.oz);for(var g=0;g<B.length;g++)J.U[B[g]].QN=z.Vl[g];J.qM()}if(p==bi.I9){var B=JSON.parse(z.oz);
for(var g=0;g<B.length;g++)J.U[B[g]].YF=z.Vl[g];J.qM()}if(p==bi.T3){n.J.dY=z.Vl.dY;n.J.volume=z.Vl.volume}if(p==bi.tt){var B=JSON.parse(z.oz);
for(var g=0;g<B.length;g++)if(J.U[B[g]].add.lsct!=cp.hX)J.U[B[g]].add.lspf=z.Vl[g]}if(p==bi.cY){var c=z.gs,t=z.ayR;
delete n.add[c[0]];if(t[0]!="----")n.add[t[0]]=t[1]}if(p==bi.h9){n.add.iOpa=z.Vl;J.qM()}if(p==bi.BJ){for(var g=0;
g<z.oz.length;g++){var u=J.U[z.oz[g]];u.Rz(!u.LE())}J.qM()}if(p==bi.tn){var v=n.Qu();v.isEnabled=!v.isEnabled;
n.k3(J);J.qM()}if(p==bi.Ty){var v=n.g6(J).T4;v.isEnabled=!v.isEnabled;n.qM();J.qM()}if(p==bi.yb){var v=n.add.vmsk;
v.isEnabled=!v.isEnabled;if(!v.isEnabled){if(n.SV){n.T4=n.SV;n.SV=null}else n.T4=null}else if(n.T4){n.SV=n.T4;
n.T4=null}n.k3(J);J.qM()}if(p==bi.S5){n.Bx=!n.Bx;J.qM()}if(p==bi.iJ){n.add.lmfx.masterFXSwitch.v=!n.add.lmfx.masterFXSwitch.v;
n.GJ.X_=!0;J.qM()}if(p==bi.Wy){n.add.SoLd.filterFX.v.enab.v=!n.add.SoLd.filterFX.v.enab.v;n.SG(J);J.qM()}if(p==bi.gz){var A=z.index,$=n.add.lmfx[a_.in[A[0]]].v[A[1]].v;
$.enab.v=!$.enab.v;n.GJ.X_=!0;J.qM()}if(p==bi.nl){var X=J.U[z.p4],U=J.U[z.Rk],w=z.aaU,P=z.aJ2;if(w=="")delete X.add.lmfx;
else X.add.lmfx=JSON.parse(w);if(P=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(P);X.GJ.X_=!0;U.GJ.X_=!0;
J.qM()}if(p==bi.fM){var k=n.add.SoLd.filterFX.v.filterFXList.v[z.index].v;k.enab.v=!k.enab.v;n.SG(J);
J.qM()}if(p==bi.aon){n.add.SoLd.filterFX.v=a.G(z.apT);n.SG(J);J.qM()}if(p==bi.tT){var v=n.Qu();v.r4=!v.r4}if(p==bi.Ep){var v=n.add.vmsk;
v.r4=!v.r4}if(p==bi.b9){var T=JSON.parse(z.aly);J.gP=T[0];J.$p=T[1]}if(p==bi._P){var T=z.Sh;for(var g=0;
g<T.length;g+=2){var Z=T[g],u=Z>=0?J.U[Z]:J.$n[-1-Z];u.add.vogk=JSON.parse(T[g+1]);a.R$._n(u.add.vogk,u.add.vmsk);
if(Z>=0)u.k3(J)}J.qM()}if(p==bi.EP){n.add.artb=JSON.parse(z.aeL);J.qM();L.d_.GB(J,z)}if(p==bi.JY){J.M=z.sI;
if(z.aE9)J.i.Az=z.aE9.slice(0);J.b8=z.Sh.slice(0);J.dX=z.aup.slice(0);J.eO=J.SR=!0}if(p==bi.yT){n.cM=!n.cM}if(p==bi.kh){var i=z.a9a;
for(var g=0;g<i.length;g++)J.U[g].eg=i[g]}if(p==bi.Y7){if(z.DY)L.DJ.QS(J,J.Y,null,-z.DY.x,-z.DY.y);if(z.wu)J.Y=z.wu;
if(z.Nd)J.M=z.Nd[0];J.sk=null;J.qM();L.d_.GB(J,z);J.QF(z.Xg);if(z.XE)J.$t(z.XE[0])}if(p==bi.LF){for(var g=0;
g<z.li.length;g+=3)L.vJ.fT(J,J.U[z.li[g]],z.li[g+1]);if(z.Nd){var V=z.Nd[0];if(V==null)delete J.M;else J.M=V}if(z.aps){var u=J.U[z.li[0]];
a.DE(z.li[2].N,u.buffer,3)}}if(p==bi.fJ){n.g6(J).T4=null;n.qM();J.qM()}if(p==bi.C9){n.g6(J).T4=z.T4;
n.qM();J.qM()}if(p==bi.IL){L.vJ.aBx(J,z.BH,0)}if(p==bi.K7){L.vJ.yW(J,n,!0)}if(p==bi.xe){L.vJ.yW(J,J.U[z.EY],z.T4.isEnabled);
L.vJ.ve(J,J.U[z.src],z)}if(p==bi.Xo){if(z.SV)L.vJ.fT(J,n,null);L.vJ.ve(J,n,z)}if(p==bi.Th){J.UD=JSON.parse(z.B3)}if(p==bi.Xx){J.name=z.aF8}if(p==bi.JL){for(var g=0;
g<z.Xu.length;g++){var _=z.Xu[g],u=J.U[_[0]];u.HV(_[1]);if(_[3])u.add.lnsr=_[3];else delete u.add.lnsr}}if(p==bi.ig){for(var g=0;
g<z.U.length;g++)J.U[z.U[g]].add.lclr=z.aCJ[g]}if(p==bi.zB){var y=z.aIE;for(var g=0;g<z.oz.length;g++){var u=J.U[z.oz[g]],E=y[g];
if(!z.fe)u.add.vstk=a.G(E);else a_.bE(u.add,a.G(E));u.mF(J)}J.qM()}if(p==bi.Ol){for(var g=0;g<z.hy.length;
g++){var F=z.hy[g];J.U[F[0]].add.vstl=JSON.parse(F[1])}J.qM()}if(p==bi.BF){n.akU(z.PY);n.k3(J);J.qM()}J.SR=!0};
L.vJ.prototype.Cb=function(z,J){var p=z.R,n=J.U[z.w];J.JS=!0;if(p==bi.Eo){var g=J.add.lnk2.indexOf(J.Hb(z.id));
if(g==-1)throw"e";J.add.lnk2[g]=z._c;L.vJ.E9(J,z.id,z.arP,z._c)}if(p==bi.wc){n.add.SoLd.Impr.v.classID=z.gW;
n.m8(J)}if(p==bi.Sd){var B=JSON.parse(z.oz);for(var g=0;g<B.length;g++)J.U[B[g]].QN=z.gW;J.qM()}if(p==bi.I9){var B=JSON.parse(z.oz);
for(var g=0;g<B.length;g++)J.U[B[g]].YF=z.gW;J.qM()}if(p==bi.T3){n.J.dY=z.gW.dY;n.J.volume=z.gW.volume}if(p==bi.tt){var B=JSON.parse(z.oz);
for(var g=0;g<B.length;g++)if(J.U[B[g]].add.lsct!=cp.hX)J.U[B[g]].add.lspf=z.gW[g]}if(p==bi.cY){var c=z.ayR,t=z.gs;
delete n.add[c[0]];if(t[0]!="----")n.add[t[0]]=t[1]}if(p==bi.h9){n.add.iOpa=z.gW;J.qM()}if(p==bi.BJ){for(var g=0;
g<z.oz.length;g++){var u=J.U[z.oz[g]];u.Rz(!u.LE())}J.qM()}if(p==bi.tn){var v=n.Qu();v.isEnabled=!v.isEnabled;
n.k3(J);J.qM()}if(p==bi.Ty){var v=n.g6(J).T4;v.isEnabled=!v.isEnabled;n.qM();J.qM()}if(p==bi.yb){var v=n.add.vmsk;
v.isEnabled=!v.isEnabled;if(!v.isEnabled){if(n.SV){n.T4=n.SV;n.SV=null}else n.T4=null}else if(n.T4){n.SV=n.T4;
n.T4=null}n.k3(J);J.qM()}if(p==bi.S5){n.Bx=!n.Bx;J.qM()}if(p==bi.iJ){n.add.lmfx.masterFXSwitch.v=!n.add.lmfx.masterFXSwitch.v;
n.GJ.X_=!0;J.qM()}if(p==bi.Wy){n.add.SoLd.filterFX.v.enab.v=!n.add.SoLd.filterFX.v.enab.v;n.SG(J);J.qM()}if(p==bi.gz){var A=z.index,$=n.add.lmfx[a_.in[A[0]]].v[A[1]].v;
$.enab.v=!$.enab.v;n.GJ.X_=!0;J.qM()}if(p==bi.nl){var X=J.U[z.p4],U=J.U[z.Rk],w=z.av7,P=z.a8c;if(w=="")delete X.add.lmfx;
else X.add.lmfx=JSON.parse(w);if(P=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(P);X.GJ.X_=!0;U.GJ.X_=!0;
J.qM()}if(p==bi.fM){var k=n.add.SoLd.filterFX.v.filterFXList.v[z.index].v;k.enab.v=!k.enab.v;n.SG(J);
J.qM()}if(p==bi.aon){n.add.SoLd.filterFX.v=a.G(z.aJv);n.SG(J);J.qM()}if(p==bi.tT){var v=n.Qu();v.r4=!v.r4}if(p==bi.Ep){var v=n.add.vmsk;
v.r4=!v.r4}if(p==bi.b9){var T=JSON.parse(z.axE);J.gP=T[0];J.$p=T[1]}if(p==bi._P){var T=z.zd;for(var g=0;
g<T.length;g+=2){var Z=T[g],u=Z>=0?J.U[Z]:J.$n[-1-Z];u.add.vogk=JSON.parse(T[g+1]);a.R$._n(u.add.vogk,u.add.vmsk);
if(Z>=0)u.k3(J)}J.qM()}if(p==bi.EP){n.add.artb=JSON.parse(z.wd);J.qM();L.d_.UA(J,z)}if(p==bi.JY){J.M=z.Gq;
if(z.aKs)J.i.Az=z.aKs.slice(0);J.b8=z.zd.slice(0);J.dX=z.a9E.slice(0);J.eO=J.SR=!0}if(p==bi.yT){n.cM=!n.cM}if(p==bi.kh){var i=z.aJ8;
for(var g=0;g<i.length;g++)J.U[g].eg=i[g]}if(p==bi.Y7){J.av6();var V=z.lP,_=0,y;for(var g=0;g<V.length;
g++){var u=V[g],E=u.add.lsct;if(E==cp.hX)_++;else if(E==cp.xj||E==cp.mD)_--;if(u.add.artb&&_!=0)y="Artboards can not be inside folders."}if(y){J.history.pop();
J.Jq--;alert(y);return}if(z.mG)J.Y=z.mG;if(z.Nd)J.M=z.Nd[1];J.sk=null;J.qM();J.QF(z.lP);L.d_.UA(J,z);
if(z.DY)L.DJ.QS(J,J.Y,null,z.DY.x,z.DY.y);if(z.XE)J.$t(z.XE[1])}if(p==bi.LF){for(var g=0;g<z.li.length;
g+=3)L.vJ.fT(J,J.U[z.li[g]],z.li[g+2]);if(z.Nd){var F=z.Nd[1];if(F==null)delete J.M;else J.M=F}if(z.aps){var u=J.U[z.li[0]],d=u.buffer;
for(var g=0;g<d.length;g+=4)d[g+3]=255}}if(p==bi.fJ){n.g6(J).T4=z.T4;n.uB=0;n.qM();J.qM()}if(p==bi.C9){n.g6(J).T4=null;
n.uB=0;n.qM();J.qM()}if(p==bi.IL){L.vJ.aBx(J,z.BH,1)}if(p==bi.K7){L.vJ.ve(J,n,z)}if(p==bi.xe){L.vJ.yW(J,J.U[z.src],z.T4.isEnabled);
L.vJ.ve(J,J.U[z.EY],z)}if(p==bi.Xo){L.vJ.yW(J,n,z.T4.isEnabled);if(z.SV)L.vJ.fT(J,n,z.SV)}if(p==bi.Th){J.UD=JSON.parse(z.FU)}if(p==bi.Xx){J.name=z.s6}if(p==bi.JL){for(var g=0;
g<z.Xu.length;g++){var x=z.Xu[g],u=J.U[x[0]];u.HV(x[2]);if(x[4])u.add.lnsr=x[4];else delete u.add.lnsr}}if(p==bi.ig){for(var g=0;
g<z.U.length;g++)J.U[z.U[g]].add.lclr=z.aM[g]}if(p==bi.zB){var f=z.abX;for(var g=0;g<z.oz.length;g++){var u=J.U[z.oz[g]],Q=f[g];
if(!z.fe)u.add.vstk=a.G(Q);else a_.bE(u.add,a.G(Q));u.mF(J)}J.qM()}if(p==bi.Ol){for(var g=0;g<z.hy.length;
g++){var m=z.hy[g];J.U[m[0]].add.vstl=JSON.parse(m[2])}J.qM()}if(p==bi.BF){n.akU(z.gW);n.k3(J);J.qM()}J.SR=!0};
L.vJ.Db=function(z,J){var p=0;for(var g=0;g<z.U.length;g++){var n=z.U[g].getName();if(n.startsWith(J)){var B=n.slice(J.length).trim(),c=parseInt(B);
if(!isNaN(c)&&c+""==B&&c>p)p=c}}return p};L.vJ.aBx=function(z,J,p){for(var g=0;g<J.length;g++){var n=J[g],B=z.U[n.Lw];
if(n.RG){B.add.SoLd=JSON.parse(n.RG[p])}if(n.g4){if(n.g4[1-p]!=null)z.Rb(n.g4[1-p]);if(n.g4[p]!=null)z.p0(n.g4[p]);
else B.uB=0}B.m8(z)}};L.vJ.aAh=function(z,J){var p=z.Ln,n=z.S.P();if(p!=null&&(p.x!=J.r||p.y!=J.$)){n.x=Math.floor((J.r-n.r)/2);
n.y=Math.floor((J.$-n.$)/2)}else if(p==null){var B=new fw(0,0,J.r,J.$),c=J.oq();if(c!=-1)B=J.U[c].x0();
n.x+=B.x;n.y+=B.y}return n};L.vJ.avZ=function(z,J){if(J.SV)J.SV=null;else J.T4=null;J.k3(z);z.qM();J.uB=0};
L.vJ.fT=function(z,J,p){var n=J.Qu();if(n==null&&p==null)return;if(n)L.vJ.avZ(z,J);if(p==null)return;
if(J.T4)J.SV=p;else J.T4=p;J.k3(z);z.qM()};L.vJ.yW=function(z,J,p){if(J.SV&&p){J.T4=J.SV;J.SV=null}else if(J.T4&&p){J.T4=null}delete J.add.vogk;
delete J.add.vstk;delete J.add.vmsk;J.k3(z);J.UU=!1;z.sk=[];z.qM()};L.vJ.ve=function(z,J,p){J.add.vogk=JSON.parse(p.R$);
if(p.jM)J.add.vstk=JSON.parse(p.jM);else delete J.add.vstk;J.add.vmsk=p.T4.P();if(J.T4&&J.add.vmsk.isEnabled)J.SV=J.T4;
J.k3(z);J.UU=p.a7B;z.sk=[z.U.indexOf(J)];z.E0=[];z.qM()};L.Wp=function(){L.y6.call(this,"Layer Styles",L.bV);
this.j$=null;this.X8=null;this.WE=null;this.ef=[];this.uU=null};L.Wp.prototype=new L.y6;L.Wp.prototype.$P=function(z,J,p,n,B){var c=z.w;
if(c==null)c=p.Y[0];var t=p.U[c],u=z.GU;if(this.j$==null){this.WE=L.Wp.Yb(p,t);this.j$=JSON.stringify(this.WE);
if(t.add.lmfx)this.X8=JSON.stringify(t.add.lmfx)}if(t.add.lmfx==null){t.add.lmfx=JSON.parse(a_.default);
for(var g=0;g<a_.order.length;g++)t.add.lmfx[a_.in[g]]={t:"VlLs",v:[]}}if(z.R=="scaleeffects"){if(z.K=="confirm"||z.K=="cancel"){this.$P({R:z.K},J,p,n,B);
return}t.add.lmfx=JSON.parse(this.X8);ju.yh(t.add.lmfx,z.K/100)}else if(z.R=="changeprop"){var v=null;
if(u!=0){var A=this.ef[u[0]];if(A==null)A=a_.ef[u[0]];A=JSON.parse(A);var $=t.add.lmfx[a_.in[u[0]]].v;
if($[u[1]]==null)$[u[1]]={t:"Objc",v:A};v=$[u[1]].v;for(var X in A)if(v[X]==null)v[X]=A[X]}if(z.R=="changeprop"){if(u==0){this.WE[z.j3].v=z.K;
L.Wp.Ri(p,t,this.WE)}else if(z.j3=="lagl"){if(v.uglg&&v.uglg.v){p.r6(z.K.val);this.WE.gagl.v.val=p.rN()}else v[z.j3].v=z.K}else if(z.j3=="Lald"){if(v.uglg.v){p.Qv(z.K.val);
this.WE.globalAlt=p.Ch()}else v[z.j3].v=z.K}else if((u[0]==3||u[0]==8)&&(z.j3=="Clr"||z.j3=="Grad")){if(z.j3=="Clr"){v.Clr={t:"Objc",v:z.K};
delete v.Grad}if(z.j3=="Grad"){v.Grad={t:"Objc",v:z.K};delete v.Clr}}else{v[z.j3].v=z.K}if(u!=0)this.ef[u[0]]=JSON.stringify(v)}if(u!=0)if(v.Ptrn)p.KX(ju.AR(v.Ptrn.v,B.r0))}else if(z.R=="setstl"){var U=z.K.Lefx;
if(U)ju.aGW(U,p,B.r0);ju.aJd(z.K,t,null,p);this.WE=L.Wp.Yb(p,t)}else if(z.R=="st_dupsingle"){var w=t.add.lmfx[a_.in[z.Ee[0]]].v;
if(w[z.Ee[1]]==null)return;var P=a.G(w[z.Ee[1]]);w.splice(z.Ee[1],0,P)}else if(z.R=="st_movsingle"){var k=z.Ee[1],w=t.add.lmfx[a_.in[z.Ee[0]]].v;
if(w[z.Ee[1]]==null)return;var T=Math.max(0,Math.min(w.length-1,k+z.ahH)),Z=w[T];w[T]=w[k];w[k]=Z}else if(z.R=="cancel"){if(this.X8==null)delete t.add.lmfx;
else t.add.lmfx=JSON.parse(this.X8);L.Wp.Ri(p,t,JSON.parse(this.j$));this.j$=null;this.X8=null}else if(z.R=="confirm"){var i=JSON.stringify(t.add.lmfx),V=new dY([11,6],this);
V.data={U:[c],aD5:[this.X8],aB5:[i],aLi:[this.j$],akX:[JSON.stringify(this.WE)]};p.kL(V);this.j$=null;
this.X8=null;if(i!=null){var _=JSON.parse(i);bp._3(_);_.classID="Lefx";delete _.masterFXSwitch;var y=new cD(b.E.wR);
y.iv=!0;y.data={rK:"set",ES:!0};var E=dB.DG("Lyr",!0);E.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
y.data.m$={__name:"Set",classID:"setd",null:E,T:{t:"Objc",v:_}};J.a(y)}}else if(z.R=="st_copy"){this.uU=[this.j$,this.X8];
this.j$=null;this.X8=null}else if(z.R=="st_paste"||z.R=="st_clear"){if(z.R=="st_paste"&&this.uU==null)return;
var F=z.w!=null?[z.w]:p.Y.slice(0),d=[],x=[],f=[],Q=[];for(var g=0;g<F.length;g++){var t=p.U[F[g]],m=L.Wp.Yb(p,t);
d.push(t.add.lmfx?JSON.stringify(t.add.lmfx):null);f.push(JSON.stringify(m));if(z.R=="st_paste"){x.push(this.uU[1]);
Q.push(this.uU[0])}else{x.push(null);m.lrMd.v=0;m.Opct.v.val=100;m.iOpa.v.val=100;m.blIf={v:[]};for(var H=0;
H<10;H++)m.blIf.v.push(0,0,255,255);Q.push(JSON.stringify(m))}}var V=new dY([11,6],this);V.data={U:F,aD5:d,aB5:x,aLi:f,akX:Q};
this.Cb(V.data,p);p.kL(V);this.j$=null;this.X8=null}else{var S=this.WE,_=null;if(z.R=="st_delsingle"){_=JSON.parse(this.X8);
_[a_.in[z.Ee[0]]].v.splice(z.Ee[1],1);_=JSON.stringify(_)}if(_==null)delete t.add.lmfx;else t.add.lmfx=JSON.parse(_);
if(S!=null)L.Wp.Ri(p,t,S);var V=new dY([11,6],this);V.data={U:[z.w],aD5:[this.X8],aB5:[_],aLi:[this.j$],akX:[JSON.stringify(S)]};
p.kL(V);this.j$=null;this.X8=null}t.GJ.X_=!0;p.JS=!0;p.qM()};L.Wp.Yb=function(z,J){if(J.add.iOpa==null)J.add.iOpa=255;
if(J.add.brst==null)J.add.brst=[1,1,1];var p=J.nT()?["pass"].concat(jM.Bk):jM.Bk;return{lrMd:{v:p.indexOf(J.QN)},Opct:{v:{type:"#Prc",val:Math.round(J.YF*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(J.add.iOpa*100/255)},t:"UntF"},blIf:{v:J.QQ.slice(0)},brst:{v:J.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:z.rN()}},globalAlt:z.Ch(),isFolder:J.nT()}};
L.Wp.Ri=function(z,J,p){var n=J.nT()?["pass"].concat(jM.Bk):jM.Bk;J.QN=n[p.lrMd.v];J.YF=Math.round(p.Opct.v.val*255/100);
J.add.iOpa=Math.round(p.iOpa.v.val*255/100);J.QQ=p.blIf.v.slice(0);J.add.brst=p.brst.v.slice(0);z.r6(p.gagl.v.val);
z.Qv(p.globalAlt)};L.Wp.prototype.gD=function(z,J){for(var g=0;g<z.U.length;g++){var p=J.U[z.U[g]],n=z.aD5[g];
if(n==null)delete p.add.lmfx;else p.add.lmfx=JSON.parse(n);L.Wp.Ri(J,p,JSON.parse(z.aLi[g]));p.GJ.X_=!0}J.JS=!0;
J.qM()};L.Wp.prototype.Cb=function(z,J){for(var g=0;g<z.U.length;g++){var p=J.U[z.U[g]],n=z.aB5[g];if(n==null)delete p.add.lmfx;
else p.add.lmfx=JSON.parse(n);L.Wp.Ri(J,p,JSON.parse(z.akX[g]));p.GJ.X_=!0}J.JS=!0;J.qM()};L.IC=function(){L.y6.call(this,"Layer Comps",L._T)};
L.IC.prototype=new L.y6;L.IC.prototype.$P=function(z,J,p,n){var B=a.G(p.TN),c=a.G(p.TN),t=null,u=null,v=null,A=-1,$=!1;
if(z.R=="delLC"){var X=L.IC.DD(p.TN,z.GU),U=p.TN.lastAppliedComp?p.TN.lastAppliedComp.v:0;c.list.v.splice(X,1);
if(U==z.GU)delete c.lastAppliedComp;t="Delete Layer Comp"}if(z.R=="editLC"){var X=L.IC.DD(p.TN,z.GU),w=c.list.v[X].v;
if(z.s6!=null)w.Nm.v=z.s6;if(z.asM!=null){var P=z.asM,k=w.capturedInfo.v,T=k&(1<<P)-1;k=k>>P;if((k&1)==1)k--;
else k++;w.capturedInfo.v=(k<<P)+T}t="Layer Comp properties"}if(z.R=="setLC"){L.IC.LT(p);if(z.GU==0)delete c.lastAppliedComp;
else c.lastAppliedComp={t:"long",v:z.GU};t="Switch Layer Comp";$=!0}if(z.R=="updLC"){L.IC.LT(p);u=L.IC.aur(p,z.GU);
v=L.IC.Lc(p,z.GU);c.lastAppliedComp={t:"long",v:z.GU};t="Update Layer Comp";A=z.GU;$=!0}if(z.R=="addLC"){L.IC.LT(p);
var Z=1;for(var g=0;g<c.list.v.length;g++)Z=Math.max(Z,c.list.v[g].v.compID.v)+1;Z+=Math.floor(Math.random()*1e4);
var i={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(c.list.v.length+1)},compID:{t:"long",v:Z},capturedInfo:{t:"long",v:7}}};
c.list.v.push(i);c.lastAppliedComp={t:"long",v:Z};t="New Layer Comp";var V=L.IC.Lc(p,Z);L.IC.YS(p,V,Z)}var _=new dY(t,this);
_.data={aih:B,arS:c,ai9:u,aFW:v,GU:A,x9:$};this.Cb(_.data,p);p.kL(_)};L.IC.prototype.Cb=function(z,J){J.TN=z.arS;
J.JS=!0;if(z.aFW)L.IC.YS(J,z.aFW,z.GU);if(z.x9){var p=J.TN.lastAppliedComp?J.TN.lastAppliedComp.v:0,n=L.IC.DD(J.TN,p),B=n==-1?null:J.TN.list.v[n].v,c=B?B.capturedInfo.v:7;
L.IC.Ey(J,p,c);J.qM()}};L.IC.prototype.gD=function(z,J){J.TN=z.aih;J.JS=!0;if(z.ai9)L.IC.YS(J,z.ai9,z.GU);
if(z.x9){var p=J.TN.lastAppliedComp?J.TN.lastAppliedComp.v:0,n=L.IC.DD(J.TN,p),B=n==-1?null:J.TN.list.v[n].v,c=B?B.capturedInfo.v:7;
L.IC.Ey(J,p,c);J.qM()}};L.IC.LT=function(z){if(z.TN.lastAppliedComp!=null||!z.aoY)return;var J=L.IC.Lc(z,0);
L.IC.YS(z,J,0);z.aoY=!1};L.IC.ks=function(z,J,p){z.v.Hrzn.v+=J;z.v.Vrtc.v+=p};L.IC.DD=function(z,J){var p=z.list.v;
for(var g=0;g<p.length;g++)if(p[g].v.compID.v==J)return g;return-1};L.IC.aaR=function(z){var J=z.layerSettings.v,B=null;
if(J.length==0)return;var p="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),n=J[0].v;
if(n.enab==null)n.enab={t:"bool",v:!0};if(n.Ofst==null)n.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var g=0;g<J.length;g++){var c=J[g].v;if(B==null)B=a.G(c);else for(var t=0;t<p.length;t++){var u=p[t];
if(c[u])B[u]=a.G(c[u])}J[g].v=a.G(B)}};L.IC.at3=function(z,J){var p=z.add.shmd.cmls,n=p.layerSettings.v;
for(var B=0;B<n.length;B++){var c=n[B].v,t=c.compList.v[0].v;if(t==J)return B}return-1};L.IC.akz=function(z,J){var p=L.IC.at3(z,J);
return p==-1?null:z.add.shmd.cmls.layerSettings.v[p].v};L.IC.Ey=function(z,J,p){for(var g=0;g<z.U.length;
g++){var n=z.U[g],B=n.add.shmd.cmls;if(B==null)continue;var c=B.layerSettings.v,t=L.IC.akz(n,J);if(t==null){n.Rz(!1);
continue}if((p&1)!=0){if(t.enab)n.Rz(t.enab.v);else n.Rz(!0)}if((p&2)!=0){if(t.Ofst){var u=t.Ofst.v,v=n.R2(z),A=Math.round(u.Hrzn.v-v.x),$=Math.round(u.Vrtc.v-v.y);
if(A!=0||$!=0)L.DJ.QS(z,[g],null,A,$)}}if((p&4)!=0){if(t.Lefx){var X=a.G(t.Lefx.v);bp._w(X);if(JSON.stringify(X)!=JSON.stringify(n.add.lmfx)){n.add.lmfx=X;
n.GJ.X_=!0}}else delete n.add.lmfx;if(t.blendOptions){var U=t.blendOptions.v;if(U.Opct)n.YF=Math.round(255*U.Opct.v.val/100);
if(U.fillOpacity)n.add.iOpa=Math.round(255*U.fillOpacity.v.val/100);if(U.Md)n.QN=n.add.lsct==cp.hX?"norm":jM.pg(U.Md.v.BlnM)}else{n.YF=255;
n.QN=n.nT()?"pass":"norm";n.add.iOpa=255}}}};L.IC.aur=function(z,J){var p={};for(var g=0;g<z.U.length;
g++){var n=z.U[g];if(n.add.shmd==null||n.add.shmd.cmls==null)continue;p["l"+n.add.lyid]=a.G(L.IC.akz(n,J))}return p};
L.IC.Lc=function(z,J){var p={};for(var g=0;g<z.U.length;g++){var n=z.U[g],B=n.add.lyid;p["l"+B]=L.IC.ajt(z,n,J)}return p};
L.IC.ajt=function(z,J,p){var n=J.add.shmd?J.add.shmd.cmls:null,B={classID:"null"},c=J.R2(z),t={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:c.x},Vrtc:{t:"long",v:c.y}}};
B.compList={t:"VlLs",v:[{t:"long",v:p}]};B.enab={t:"bool",v:J.LE()};B.Ofst=a.G(t);B.FXRefPoint=a.G(n&&n.origFXRefPoint?n.origFXRefPoint:t);
B.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:jM.oa(J.QN)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*J.YF/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:J.add.iOpa!=null?100*J.add.iOpa/255:100}}}};
if(J.add.vmsk){B.vectorMask={t:"Objc",v:{classID:"null"}};B.vectorMask.v.Ofst=a.G(t)}if(J.add.lmfx){B.Lefx={t:"Objc",v:a.G(J.add.lmfx)};
bp._3(B.Lefx.v)}return B};L.IC.a3R=function(z,J){var p=J.add.lyid;if(J.add.shmd==null)J.add.shmd={};
if(J.add.shmd.cmls==null){J.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:p},layerSettings:{t:"VlLs",v:[{t:"Objc",v:L.IC.ajt(z,J,0)}]}}}};
L.IC.YS=function(z,J,p){for(var g=0;g<z.U.length;g++){var n=z.U[g],B=n.add.lyid;L.IC.a3R(z,n);var c=n.add.shmd.cmls,t=c.layerSettings.v,u=J["l"+B];
if(u!=null)u={t:"Objc",v:a.G(u)};var v=L.IC.at3(n,p);if(v==-1){if(u==null)continue;else t.push(u)}else{if(u==null)t.splice(v,1);
else t[v]=u}}};L.IC.Iu=function(z,J){for(var g=0;g<z.U.length;g++){var p=z.U[g],n=p.add.lyid;if(p.add.shmd==null||p.add.shmd.cmls==null)continue;
var B=p.R2(z),c=Math.round(B.x),t=Math.round(B.y);if(!J){c=-c;t=-t}var u=p.add.shmd.cmls,v=u.layerSettings.v;
if(u.origFXRefPoint)L.IC.ks(u.origFXRefPoint,-c,-t);for(var A=0;A<v.length;A++){var $=v[A].v;L.IC.ks($.Ofst,c,t);
var X=$.imageMask,U=$.vectorMask;if(X&&X.v.Ofst)L.IC.ks(X.v.Ofst,c,t);if(U&&U.v.Ofst)L.IC.ks(U.v.Ofst,c,t)}}};
L.Ir=function(){L.y6.call(this,"Adjust Edit",L.Vi);this.FU=null;this.Jb=null};L.Ir.prototype=new L.y6;
L.Ir.K_=function(z,J,p,n){if(n)J/=4;var B=0,c=0,t=255,u=0,v=0,A=255;while(c+z[B]<J){c+=z[B];B++}while(u+z[t]<J){u+=z[t];
t--}if(n){B-=Math.round(z[B]/(p/32));t+=Math.round(z[t]/(p/32));if(B<0)v=Math.round(-B*255/(t-B));if(t>255)A=255-Math.round((t-255)*255/(t-B))}return[Math.max(B,0),Math.min(t,255),v,A,100]};
L.Ir.prototype.$P=function(z,J,p,n,B){var c=z.R;if(c=="auto"){var t=z.asr,u=L.Ir.getData(p);for(var g=0;
g<u.length;g++){var v=u[g],A;if(t<3){}else{var $=em.J0("hue2");eP.m9($,0,[0,-100,0]);A=fs.XC("hue2",$)}fs.Rm(A,v.sM,v.Ll,v.Dm)}L.Ir.ec(p,u);
L.Ir.Vs(p,u,t<3?[4,16,t]:[19,7,0],this);p.qM()}if(c=="edit_layer")this.azk(z,J,p,n);if(c=="edit"||c=="confirm"||c=="cancel")this.xf(z,J,p,B,!0);
if(c=="start"){if(p.Y.length==0)return;var X=p.U[p.Y[0]];if(X.add.SoLd&&X.uB<=0&&p.dX.length==0){var U=new cD(b.E.H,!0);
U.l=L._f;U.data={R:"start",mz:z.Fc,Mf:z.Mf};J.a(U);return}if(!p.lF(J,null,!0))return;if(ks[z.Fc]&&z.Mf==null){if(p.Y.length!=1)alert("Will be applied to "+p.Y.length+" layers.");
var U=new cD(b.E.c,!0);U.data={R:b.J.Ym,i9:"afw_"+z.Fc};J.a(U)}else{this.xf({R:"edit",Mf:z.Mf,mz:z.Fc},J,p,B);
this.xf({R:"confirm",mz:z.Fc},J,p,B)}}};L.Ir.prototype.azk=function(z,J,p,n){var B=z.R,c=p.Y[0],t=p.U[c],u=fs.get(t.add),U;
if(t.add[u]==null)return;var v=a.G(t.add[u]);for(var A in z.K)v[A]=z.K[A];var $=a.G(v);for(var A in fs.Po)if(fs.Po[A]==u)$.classID=A;
var X=p.history[p.Jq];if(X&&X.l==this&&X.data.PY!=null&&X.data.w==c)U=X;else{var w=new cD(b.E.wR,!0),P={classID:"setd",null:dB.DG("AdjL",!0),T:{t:"Objc",v:$}};
w.data={ES:!0,rK:"set",m$:P};J.a(w);var U=new dY([6,39],this);U.data={w:c,PY:t.add[u],gW:v,a5T:P};p.kL(U)}U.data.gW=v;
U.data.a5T.T.v=$;this.Cb(U.data,p)};L.Ir.getData=function(z,J,p){var n=[],B=new fw(0,0,z.r,z.$),c=z.dX.length!=0?[-1-z.dX[0]]:z.Y;
for(var g=0;g<c.length;g++){var t=c[g],u=t<0?null:z.U[t],v={w:t,tl:t<0?1:u.uB};n.push(v);var A=z.b8[-1-t];
if(0<=t)A=u.uB<=0?null:u.uB==1?u.Qu():u.g6(z).T4;var $=A?A.S:u.S;if(z.M){v.Dm=z.M.S.ly(J||A!=null?B:$)}else v.Dm=J||A!=null?$.KQ(B):$.P();
if(p)v.Dm=p[g].Dm.P();var X=v.Dm.C();v.sM=a.j(X*4,z.depth);if(A)L.SD.oX(A.N,A.S,A.color,v.sM,v.Dm);else a.nk(u.buffer,$,v.sM,v.Dm);
v.Ll=v.sM.slice(0);if(z.M){v.li=a.j(X,z.depth);a._1(z.M.N,z.M.S,v.li,v.Dm)}}return n};L.Ir.aw1=function(z,J,p){if(J==null)return J;
var n=fs.mU(z,J),c;if(n==-1)return J;var B=p.length>>>2,t=a.iq(p),u=.001*B;if(n==0||n==2)c=[[0,255,0,255,100],L.Ir.K_(t[1],u,B,n==2),L.Ir.K_(t[2],u,B,n==2),L.Ir.K_(t[3],u,B,n==2)];
if(n==1)c=[L.Ir.K_(t[0],u*.33,B,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var v=em.J0("levl");
for(var g=0;g<4;g++)f8.m9(v,g,c[g]);return v};L.Ir.ayA=function(z,J,p,n){var B,c;if(p.t=="name"){var t=0;
for(var u=0;u<z.U.length;u++)if(z.U[u].getName()==p.v.val)t=u;if(z==J&&t==n.w){B=n.sM;c=n.Dm}else{var v=z.U[t];
B=v.buffer;c=v.S}}else{c=new fw(0,0,z.r,z.$);B=z==J?n.ps:z.dT()}return[B,c]};L.Ir.prototype.xf=function(z,J,p,n){var B=p.M,c=z.mz=="matc"&&z.Mf;
if(this.FU==null){if(z.mz=="aply")p.U[p.Y[0]].extend(new fw(0,0,p.r,p.$));if(c)p.M=null;this.FU=L.Ir.getData(p,null,z.mz=="fade"?p.HE().data:null);
p.M=B;if(z.mz=="aply"||z.mz=="matc")this.FU[0].ps=p.dT()}if(z.R=="edit"){this.Jb=[z.mz,z.Mf];var t=this.FU[0],u=L.Ir.aw1(z.mz,z.Mf,t.sM),v=fs.XC(z.mz,u);
if(z.mz=="fade"||z.mz=="matc"||z.mz=="aply")v=z.Mf;if(v!=null){for(var A=0;A<this.FU.length;A++){var $=this.FU[A];
if(z.lf)a._U($.sM,$.Ll);else if(z.mz=="fade"){var X=jM.pg(z.Mf.Md.v.BlnM),U=z.Mf.Opct.v.val/100,w=p.HE().data[A];
a._U(w.sM,$.Ll);if(X=="norm")a.B.MQ($.sM,$.Dm,$.Ll,$.Dm,null,null,null,$.Dm,U);else{var P=ju.YD();P.dq=!0;
for(var g=0;g<w.sM.length;g+=4)if(w.sM[g+3]!=$.sM[g+3]){P=null;break}a.B.Oe(X,$.sM,$.Dm,$.Ll,$.Dm,$.Dm,U,P)}}else if(z.mz=="matc"){function k(r,W){if(W==null)return r;
var N=a.j(W[1].C()*4);a.nk(r,W[0],N,W[1]);return N}var T,Z,F=null,d=null,x=null;if(v.noReference&&v.noReference.v){T=$.sM;
Z=$.Dm}else{var i=v.Srce.v,V=i[1].v.val,_=J.U4,y=p;for(var g=0;g<_.length;g++)if(_[g].name==V)y=_[g];
var E=L.Ir.ayA(y,p,i[0],$);T=E[0];Z=E[1]}if(B&&v.selectedSourceAreas&&v.selectedSourceAreas.v)d=[Z,B.S];
if(B&&v.SlcA&&v.SlcA.v)F=[$.Dm,B.S];if(B&&v.fsel&&v.fsel.v)x=[$.Dm,B.S];$.Ll.set($.sM);var f=k($.Ll,x);
b3(k($.sM,F),k(T,d),f,[v.Lght.v,v.ClrR.v,v.Fade.v,v.neutralizeColor?v.neutralizeColor.v:!1]);if(x)a.nk(f,B.S,$.Ll,$.Dm)}else if(z.mz=="aply"){v=v.With.v;
var Q=v.T.v,E=L.Ir.ayA(p,p,Q[1],$),T=E[0],Z=E[1],m=v.Clcl?v.Clcl.v.Clcn:null,X=m?jM.pg(m):"norm",U=v.Opct?v.Opct.v.val/100:1,H=["RGB","Rd","Grn","Bl","Trsp"].indexOf(Q[0].v.enum),u=v.Invr&&v.Invr.v;
if(u||H!=0){T=T.slice(0);if(u)a.anD(T);if(H!=0){var S=a.j(Z.C());a.Tm(T,S,H-1);if(H==4)a.oU(S);for(var R=0;
R<3;R++)a.DE(S,T,R)}}if(m=="Add"||m=="Sbtr"){var I=1/v.Scl.v,D=v.Ofst.v,G=m=="Add"?1:-1,C=new Uint8ClampedArray($.Ll.buffer);
for(var g=0;g<T.length;g+=4){C[g]=($.sM[g]+G*T[g])*I+D;C[g+1]=($.sM[g+1]+G*T[g+1])*I+D;C[g+2]=($.sM[g+2]+G*T[g+2])*I+D}}else{var P=ju.YD();
P.dq=v.PrsT&&v.PrsT.v;$.Ll.fill(0);$.Ll.set($.sM);a.B.Oe(X,T,Z,$.Ll,$.Dm,$.Dm,U,P)}}else fs.Rm(v,$.sM,$.Ll,$.Dm)}if(c)p.M=null;
L.Ir.ec(p,this.FU);p.M=B}}if(z.R=="cancel"){L.Ir.aBM(p,this.FU);this.FU=null}if(z.R=="confirm"){var O={fade:[2,11],aply:[2,12],matc:[4,18]},Y=O[z.mz];
if(Y==null)Y=fs.names[z.mz];var h=fs.mU(z.mz,this.Jb[1]);if(h!=-1)Y=[4,16,h];L.Ir.Vs(p,this.FU,Y,this);
this.FU=null;if(h==-1)L.Ir.aO(J,this.Jb)}p.qM()};L.Ir.aO=function(z,J){var p=J[0],n=J[1],B,c;if(fs.f3[p]){B=fs.f3[p];
if(ks[p])c=n}if(em.f3[p]){B=em.f3[p];if(ks[p])c=n}if(p=="fade"){B="fade";c=n}if(p=="matc"){B="matchColor";
c=n}if(p=="aply"){B="applyImageEvent";c=n}if(p=="GEfc"){if(c.GEfs)c=c.GEfs.v[0].v}if(B==null)return;
var t=new cD(b.E.wR,!0);t.data={ES:!0,rK:B};if(c){c=a.G(c);t.data.m$=c}z.a(t)};L.Ir.aBM=function(z,J){L.Ir.zn(z,J)};
L.Ir.Vs=function(z,J,p,n){for(var g=0;g<J.length;g++){var B=J[g],c=z.U[B.w],t=B.w<0?z.b8[-1-B.w]:B.tl<=0?null:B.tl==1?c.Qu():c.g6(z).T4;
if(t){t.eB();t.Kk=!0;if(c)c.k3(z)}else{c.eB();c.qM()}delete B.Ll;delete B.li}var u=new dY(p,n);u.data=J;
z.kL(u);z.JS=!0};L.Ir.ec=function(z,J,p){for(var g=0;g<J.length;g++){var n=J[g],B=z.U[n.w],c=p?n.sM:n.Ll,t=n.Dm;
if(n.tl==0){B.extend(t);if(n.li){a.nk(n.sM,t,B.buffer,B.S);a.B.MQ(c,t,B.buffer,B.S,n.li,t,0,t,1)}else a.nk(c,t,B.buffer,B.S)}else{var u=n.w<0?z.b8[-1-n.w]:n.tl==1?B.Qu():B.g6(z).T4;
u.extend(t);if(n.li){var v=a.j(t.C()*4);a._U(n.sM,v);a.B.MQ(c,t,v,t,n.li,t,0,t,1);L.SD.fp(v,t,u)}else L.SD.fp(c,t,u);
u.Kk=!0;if(B)B.k3(z)}if(B)B.qM()}if(!p)L.Ir.afr(z,J)};L.Ir.zn=function(z,J){for(var g=0;g<J.length;g++){var p=J[g],n=z.U[p.w],B=p.Dm,c=a.j(B.C()*4,z.depth);
if(p.tl==0){a.nk(n.buffer,n.S,c,B);n.extend(B);a.nk(p.sM,B,n.buffer,n.S);n.eB()}else{var t=p.w<0?z.b8[-1-p.w]:p.tl==1?n.Qu():n.g6(z).T4;
L.SD.oX(t.N,t.S,t.color,c,B);t.extend(B);L.SD.fp(p.sM,B,t);t.eB();t.Kk=!0;if(n)n.k3(z)}p.sM=c;if(n)n.qM()}z.JS=!0};
L.Ir.ZD=function(z){var J=0;for(var g=0;g<z.length;g++)J+=z[g].sM.length;return J};L.Ir.afr=function(z,J){var p=L.Ir.avo(z),n=~p;
if(p==16777215)return;for(var g=0;g<J.length;g++){var B=J[g],c=z.U[B.w],t=B.Dm;if(B.tl!=0)continue;c.extend(t);
var u=t.x-c.S.x,v=t.y-c.S.y,A=c.S.r,$=new Uint32Array(B.sM.buffer),X=new Uint32Array(c.buffer.buffer);
for(var U=0;U<t.$;U++)for(var w=0;w<t.r;w++){var P=U*t.r+w,k=(U+v)*A+(w+u);X[k]=X[k]&p|$[P]&n}c.eB();
c.qM()}z.qM()};L.Ir.avo=function(z){var J=z.i.Az;return J[2]*16711680|J[1]*65280|J[0]*255};L.Ir.prototype.gD=function(z,J){var p=J.U[z.w];
if(z.PY!=null)p.add[fs.get(p.add)]=z.PY;else L.Ir.zn(J,z);J.qM()};L.Ir.prototype.Cb=function(z,J){var p=J.U[z.w];
if(z.PY!=null)p.add[fs.get(p.add)]=z.gW;else L.Ir.zn(J,z);J.qM()};L.Ir.prototype.ZD=function(z){return z.PY==null?L.Ir.ZD(z):0};
L.eM=function(){L.y6.call(this,"Filter Edit",L._f);this.FU=null;this.OX=null;this.R=null;this.Jb=null;
this._Q=null};L.eM.prototype=new L.y6;L.eM.prototype.$P=function(z,J,p,n,B){if(z.R=="start"){if(p.Y.length==0)return;
var c=p.U[p.Y[0]];if(c.add.SoLd&&c.uB<=0&&p.dX.length==0){}else if(!p.lF(J,null,!0))return;var t=z.mz;
if((ks[t]||em.Z[t])&&z.Mf==null){if(p.Y.length!=1)alert("Will be applied to "+p.Y.length+" layers.");
var u=new cD(b.E.c,!0);u.data=L.eM.lQ(t,this.h0(p,t),z.agU);J.a(u)}else{var v={R:"edit",mz:t,Mf:z.Mf,Na:this.h0(p)};
this.$P(v,J,p,n,B);v.R="confirm";delete v.Mf;this.$P(v,J,p,n,B)}}if(z.R=="edit"||z.R=="cancel"||z.R=="confirm"){if(z.R=="edit"){this.Jb=[z.mz,z.Mf];
if(fs.names[z.mz]==null)this._Q=this.Jb}if(z.Na)this.a9j(z,J,p,B);else this.akq(z,J,p,B)}if(z.R=="applylast"&&this._Q!=null){var t=this._Q[0],A=this._Q[1];
if(n.Q(l5.W0)&&(ks[t]||em.Z[t])){var u=new cD(b.E.c,!0);u.data=L.eM.lQ(t,this.h0(p,t),null,A);J.a(u)}else{var v={R:"edit",mz:t,Mf:A,Na:this.h0(p)};
this.$P(v,J,p,n,B);v.R="confirm";delete v.Mf;this.$P(v,J,p,n,B)}}};L.eM.lQ=function(z,J,p,n){var B=em.Z[z];
if(B)return{R:b.J.OS,l:B,z2:{Na:J,agU:p}};else return{R:b.J.Ym,i9:"afw_"+z,Na:J,NK:n}};L.eM.prototype.h0=function(z,J){var p=z.U[z.Y[0]],n;
if(p.add.SoLd&&p.uB<=0&&z.dX.length==0){n={w:z.Y[0],index:0};if(p.add.SoLd.filterFX!=null){var B=p.add.SoLd.filterFX.v.filterFXList.v;
n.index=B.length;for(var g=0;g<B.length;g++)if(em.Jt(B[g].v)=="rigidTransform")n.index=g}}return n};
L.eM.prototype.a9j=function(z,J,p,n){var B=p.U[z.Na.w],c=z.mz;if(z.R=="edit"){if(this.R==null){var t=em.names[c];
if(t==null)t=fs.names[c];if(c=="blendOptions")t=[14,10];this.R=new dY(t,this);this.R.data={Na:z.Na,adv:a.G(B.add.SoLd)}}if(!B.Ik()){B.add.SoLd.filterFX=em.Mn();
var u=this.R.data.g4=b$.art(B.add.SoLd.placed.v,p.depth);p.p0(u);if(p.M){u.T4.N=p.M.N.slice(0);u.T4.S=p.M.S.P();
u.T4.color=0;this.R.data.sI=p.M;p.M=null}B.m8(p)}var v=B.add.SoLd.filterFX.v.filterFXList.v;if(v[z.Na.index]==null){v.push(em.gd(c,n))}if(z.Mf){v[z.Na.index].v.enab.v=z.lf!=!0;
if(c=="blendOptions")v[z.Na.index].v.blendOptions.v=z.Mf;else v[z.Na.index].v.Fltr.v=z.Mf}this.R.data.ayF=a.G(B.add.SoLd);
this.Cb(this.R.data,p)}if(z.R=="cancel"){if(this.R)this.gD(this.R.data,p);this.R=null}if(z.R=="confirm"){if(this.R)p.kL(this.R);
if(this.Jb)L.Ir.aO(J,this.Jb);this.R=null}};L.eM.prototype.akq=function(z,J,p,n){if(this.FU==null){var B=em._r(z.mz,z.Mf);
this.FU=L.Ir.getData(p,B.x!=0||B.y!=0,z.mz=="VaPo"?[{Dm:z.ps[1]}]:null)}if(z.R=="edit"){var c=JSON.stringify(z.Mf);
if((z.Mf==null||c!=this.OX)&&z.lf!=!0)for(var g=0;g<this.FU.length;g++){var t=this.FU[g],u={S:t.Dm,buffer:t.sM},v={S:t.Dm,buffer:t.Ll};
if(z.mz=="Avrg"&&t.li){u.buffer=t.sM.slice(0);a.PM(t.li,u.buffer)}em.Rm(z.mz,u,z.Mf,a.g8(n.Nb),a.g8(n.Gh),v,[p.add.lnk2?p.add.lnk2:[],p.U[p.Y[0]].Qu(),p.b8,p.Q8()]);
if(z.mz=="VaPo"){a.nk(z.ps[0],z.ps[1],v.buffer,v.S)}if(z.mz=="Avrg"&&t.li){var A=t.sM.length;for(var g=0;
g<A;g+=4)t.Ll[g+3]=t.sM[g+3]}this.OX=c}L.Ir.ec(p,this.FU,z.lf)}if(z.R=="cancel"){L.Ir.aBM(p,this.FU);
this.FU=null;this.OX=null}if(z.R=="confirm"){if(z.mz=="VaPo"){this.FU.aq8=JSON.stringify(p.Jk);this.FU.avR=JSON.stringify(z.K);
p.Jk=z.K}L.Ir.Vs(p,this.FU,em.names[z.mz],this);this.FU=null;this.OX=null;L.Ir.aO(J,this.Jb)}p.qM();
p.JS=!0};L.eM.prototype.gD=function(z,J){if(z.avR)J.Jk=JSON.parse(z.aq8);if(z.Na){var p=J.U[z.Na.w];
if(z.g4)J.Rb(z.g4);if(z.sI)J.M=z.sI;p.add.SoLd=a.G(z.adv);if(p.Ik())p.SG(J);else{p.m8(J);p.uB=0}}else L.Ir.zn(J,z);
J.qM();J.JS=!0};L.eM.prototype.Cb=function(z,J){if(z.avR)J.Jk=JSON.parse(z.avR);if(z.Na){var p=J.U[z.Na.w];
if(z.g4)J.p0(z.g4);if(z.sI)J.M=null;p.add.SoLd=a.G(z.ayF);if(p.Ik())p.SG(J);else p.m8(J);if(!p.pU())p.a3+=32}else L.Ir.zn(J,z);
J.qM();J.JS=!0};L.eM.prototype.ZD=function(z){return z.Na==null?L.Ir.ZD(z):0};var iQ={hl:"0",na:"1",uN:"2",Io:"3",b1:"3.5",wi:"4",EA:"5",e_:"6",o5:"7",eU:"7.5",H:"8",XW:"8.5",NQ:"8.8",OO:"9",OT:"10",a6Z:"10.5",N3:"11",A1:"12",f$:"13",Pr:"14",$w:"15",Rn:"16",WP:"17",e6:"18",m7:"19",Hm:"21",qV:"22",j5:"23",nc:"23.0",lr:"23.1",B5:"23.2",wI:"23.3",xZ:"23.4",Kx:"23.5",Qm:"23.6",ags:"30",$a:"31",uX:"40",NM:"41",Bz:"42"};
iQ.lM={};iQ.lM[iQ.na]=["abr","brushes",e0,[9,3],3];iQ.lM[iQ.uN]=["grd","gradients",bg,[12,37],4,36,36];
iQ.lM[iQ.Io]=["shc","contours",fo,[12,21],0];iQ.lM[iQ.b1]=["acv","curves",a5,[4,2],0];iQ.lM[iQ.wi]=["asl","styles",d8,[12,22],5];
iQ.lM[iQ.EA]=["pat","patterns",dE,[12,62],6];iQ.lM[iQ.e_]=["csh","shapes",iV,[12,77],7];iQ.lM[iQ.o5]=["aco","swatches",jZ,[9,8],0,22,22];
iQ.lM[iQ.eU]=["act","color tables",j7,"Color tables",0,22,22];iQ.lM[iQ.H]=["atn","actions",ic,[9,9],2];
iQ.lM[iQ.XW]=["tpl","tpresets",jy,[9,12],0];iQ.lM[iQ.NQ]=["icc","profiles",aZ,"LUTs",8];iQ.YQ={};iQ.YQ[iQ.o5]=!0;
function dY(z,J,p){if(p==null)p=!1;this.name=z;this.l=J;this.a25=p;this.data=null;this.aht=Date.now()}dY.prototype.ZD=function(){return this.l?this.l.ZD(this.data):0};
var dB={};dB.DG=function(z,J){var p={t:"Clss",v:{classID:z}};if(J)p={t:"Enmr",v:{classID:z,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[p]}};dB.kt=function(z,J){var p={classID:"Lyr"};p[z]=J;return{rK:"set",m$:{classID:"null",null:dB.DG("Lyr",!0),T:{t:"Objc",v:p}}}};
dB.ag5=function(z,J,p,n,B){var c=new cD(b.E.wR,!0),t=[],g=0,u=dB.Fo(J,p,n,t);while(t.length!=0){var v=t.pop();
g++;if(!v.e)continue;console.log(g-1);if(v.rK=="conditional"){var A=z.U[z.Y[0]],$=v.m$.null.v.Cndt,X=!1;
if($=="Bckg")X=!1;else if($=="Pxel"&&z.AM(!1))X=!0;else if($=="Adjs"&&fs.get(A.add))X=!0;else if($=="Shp"&&A.add.vogk)X=!0;
else if($=="Grup"&&A.nT())X=!0;else if($=="Opn"&&z!=null)X=!0;else if($=="32Bt")X=!1;else if($=="RGB")X=!0;
var U=v.m$.then,w=v.m$.else;if(X&&U)dB.Fo(J,U.v[0].v.val,U.v[1].v.val,t);if(!X&&w)dB.Fo(J,w.v[0].v.val,w.v[1].v.val,t)}else if(v.rK=="stop"){if(v.m$.Cntn&&v.m$.Cntn.v==!0)window.confirm(v.m$.Msge.v);
else{alert(v.m$.Msge.v);break}}else if(v.rK=="play"){var P=v.m$.null.v,k=new cD(b.E.c,!0);k.data={R:b.J.Zj,qY:[P[0].v.val,P[1].v.val]};
B.a(k)}else{c.data={rK:v.rK,m$:v.m$};B.a(c)}}};dB.Cs=function(z,J,p){var n;for(var g=0;g<z.length;g++){if(z[g].cN!=p)continue;
var B=z[g].B7;for(var c=0;c<B.length;c++){if(B[c].cN!=J)continue;n=B[c]}}return n};dB.Fo=function(z,J,p,n){var B=dB.Cs(z,J,p).B7,c=B.length;
for(var g=0;g<c;g++)n.push(B[c-1-g])};dB.awQ=function(z){var J=z.rK,p=z.m$,n,t,u,v,A;if(p&&p.null)n=p.null.v[0];
if(p&&n==null&&p.At)n=p.At.v[0];if(n&&n.t=="obj ")n=n.v[0];var B=n&&n.v?n.v.classID:null,c=["purge"];
if(c.indexOf(J)!=-1)return J[0].toUpperCase()+J.slice(1);if(J=="GEfc"||J=="paintDaubs")return hj.names[p.GEfk.v.GEft][1];
A=fs.f3;for(t in A)if(A[t]==J)u=t;A=em.f3;for(t in A)if(A[t]==J)v=t;A=em.f3;for(t in A)if(t==J)v=t;if(u){var $=fs.mU(u,p);
if($!=-1)return[4,16,$];return fs.names[u]}if(v)return em.names[v];var X=dB.arF;if(J=="make"){if(n){if(B=="AdjL")return[6,1];
else if(B=="layerSection")return p.From?[6,9]:[6,20];else if(B=="Lyr")return[6,13];else if(B=="Chnl"&&n.v.enum=="Msk")return[6,2];
else if(B=="contentLayer")return[6,48,1];else if(B=="BckL")return"Make Background Layer";else if(B=="Path")return"Make Path";
else if(B=="TxLr")return"Make Text Layer";else if(B=="slice")return"Make Slices";else if(B=="Dcmn")return[11,7];
else if(B=="Gd")return[23,4];else if(B=="Brsh")return["VAR0: VAR1",[12,87],[9,3]]}if(p.Nw){B=p.Nw.v.classID;
if(B=="Dcmn")return[11,7];else if(B=="Chnl"||B=="SCch")return"New Channel"}}else if(J=="deselect"){if(B=="Path")return"Deselect current path";
else throw B}else if(J=="draw"){return"Draw"}else if(J=="select"){if(B=="Chnl"){var U={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[n.v.enum];
if(U==null)U="";return"Select "+U+" Channel"}else if(B=="Mn")return"Select Panel \""+n.v.enum+"\"";else if(B=="Lyr"){if(n.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[n.v.enum]+" Layer";
return"Select Layer \""+n.v.val+"\""}else if(B=="Path")return"Select Path";else if(B=="Brsh")return"Select Brush";
else if(B=="Dcmn")return"Select Document"}else if(X[J]&&B=="Chnl"){var w=n.v.keyID=="fsel";return X[J]+" "+(w?"Selection":"Channel")}else if(J=="set"){if(B=="Lyr")return"Set Current Layer";
else if(B=="AdjL")return[6,39];else if(B=="contentLayer")return[6,48,2];else if(B=="Prpr"){var P=n.v.keyID;
if(P=="TxtS")return"Set Text Style";else if(P=="paragraphStyle")return"Set Paragraph Style";else if(P=="Lefx")return[11,6];
else if(P=="FlIn")return"Set "+j0.get([1,14]);else if(P=="GnrP")return"Set General Preferences";else console.log(P)}else if(B=="Clr")return"Set "+(n.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(B=="Brsh")return"Set Brush";else if(B=="Path")return"Set Work Path";else console.log(B)}else if(J=="move"){if(B=="Lyr")return"Move Layer";
else if(B=="Chnl"&&n.v.keyID=="fsel")return[7,7];else console.log(B)}else if(J=="show"||J=="hide"){var k="";
if(B=="Lyr")k="Layer";if(B=="Chnl")k="Channel";if(B=="filterFX")k="Filter Effect";return(J=="show"?"Show":"Hide")+" "+k}else if(J=="reset"){if(B=="Clr")return"Reset Colors"}else if(J=="exchange"){if(B=="Clr")return[22,7,0]}else if(J=="rotateEventEnum")return[2,5];
else if(J=="flip"){var T=p.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,T?2:3]]}if(J=="duplicate"&&B=="Dcmn")return"Duplicate first document";
if(B=="Chnl"){if(J=="duplicate"){if(n.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(J=="delete")return"Delete Channel"}if(J=="transform")return n&&n.v.keyID=="fsel"?[7,10]:[10,16];
if(J=="convertMode"){var Z="Convert Mode",i=p.Dpth;if(i)Z+=" To "+i.v+"-Bit";return Z}var V={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:p?B=="Lyr"?[6,31]:B=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerMakeCopy:"New Smart Obj. via Copy",placedLayerEditContents:"Edit Contents",placedLayerResetTransforms:"Reset Transform",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",placedLayerConvertToLayers:"Convert To Layers",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",assignProfile:"Assign Profile",convertToProfile:"Convert To Profile",conditional:"If"},_=V[J];
if(_==null)_=dB.a72[J];if(_)return _;return J};dB.a72={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
dB.arF={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
dB.an6=function(z,J,p,n){var B=z.rK,c=z.m$,t=!1,u=new cD(b.E.H,!0),X,U,w,P;u.l=L.bX;var v=new cD(b.E.c,!0),A=["purge","updatePlacedLayer"];
if(A.indexOf(B)!=-1)return;var $=B;while($.length<4)$+=" ";P=fs.f3;for(X in P)if(P[X]==$)U=X;P=em.f3;
for(X in P)if(P[X]==$)w=X;P=em.f3;for(X in P)if(X==$)w=X;if(B=="fade")U=B;if(B=="matchColor")U="matc";
if(B=="applyImageEvent")U="aply";if(U){u.l=L.Vi;u.data={R:"start",Fc:U,Mf:c}}else if(w){u.l=L._f;u.data={R:"start",mz:w,Mf:c}}else if(B=="GEfc"||B=="paintDaubs"){u.l=L._f;
u.data={R:"start",mz:"GEfc",Mf:c}}else if(B=="convertMode"){var k=c.Dpth;if(k==null)return;u.l=L.dt;
u.data={R:"cmode",K:k.v}}else if(B=="assignProfile"||B=="convertToProfile"){var T=c.profile;if(T==null)T=c.T;
u.l=L.dt;u.data={R:"cprof",K:T?T.v:null,ajS:B[0]=="c"}}else if(B=="imageSize"||B=="canvasSize"||B=="revealAll"||B=="trim"||B=="crop"){u.l=L.ue;
u.data={R:"fromAction",NR:z}}else if(B=="fill"||B=="stroke"||B=="delete"&&c==null){var Z=null;if(n.Y.length!=0)Z=n.U[n.Y[0]];
if(c&&JSON.stringify(c).indexOf("aiHeal")!=-1)Z=null;var i=a.g8(p.Nb);if(Z!=null&&B=="fill"&&Z.add.TySh){var V="var c = new SolidColor();  c.rgb.red="+i.o+";  c.rgb.green="+i.k+";  c.rgb.blue="+i.X+";  app.activeDocument.activeLayer.textItem.color = c;";
v.data={R:b.J.$W,w0:V}}else if(Z!=null&&B=="delete"&&Z.add.TySh){u.l=L.MN;u.data={R:"insertText",K:""}}else if(Z!=null&&B=="fill"&&Z.dH()&&Z.c8<=0){var u=new cD(b.E.wR,!0),c={classID:"setd",null:dB.DG("contentLayer",!0),T:{t:"Objc",v:{}}};
L.vJ.FW({Clr:{t:"Objc",v:a.Wi.yR(a.g8(p.Nb))}},c.T.v,0);u.data={rK:"set",m$:c};J.a(u);return}else if(B=="stroke"&&c&&c.null==null){u.l=L.ta;
u.data={R:"stroke",aD0:c}}else{if(B=="stroke"&&c&&c.Usng)u.l=L.f3[c.Usng.v.classID];else u.l=p.Ms==L.eA?L.eA:L.na;
u.data={R:"fromAction",NR:z}}}else if(B=="colorRange"||B=="grow"||B=="similar"){u.l=L.oi;u.data={R:"fromAction",NR:z}}else if(B=="set"&&c&&c.T&&c.T.v.Ordn=="Al"&&p.Ms==L.MN&&J.tm().pf()){u.l=L.MN;
u.data={R:"selectAll"}}else if(dB.a72[B]||dB.arF[B]&&(!1||c.With&&c.With.v[0].v.keyID=="fsel"||c.From&&c.From.v[0].v.keyID=="fsel"||c.null&&c.null.v[0].v.keyID=="fsel"||c.T.v[0]&&c.T.v[0].v.keyID=="fsel")){u.l=L.Wu;
u.data={R:"fromAction",NR:z}}else if(B=="rasterizeLayer"){u.data={R:c.What?c.What.v.rasterizeItem=="vectorMask"?bi.q6:bi.aum:bi.IF}}var _={copyToLayer:bi.xC,cutToLayer:bi.KS,mergeLayersNew:bi.lp,mergeVisible:bi.Kl,flattenImage:bi.agc,newPlacedLayer:bi.LL,placedLayerMakeCopy:bi.XN};
if(_[B])u.data={R:_[B],m$:c};if(u.data){J.a(u);return}if(B=="collapseAllGroupsEvent"){for(var g=0;g<n.U.length;
g++){var Z=n.U[g];if(Z.nT())Z.add.lsct=cp.mD}n.SR=!0;return}if(B=="desaturate"||B=="Dstt"){u.l=L.Vi;
u.data={R:"auto",asr:3};if(n&&n.U[n.Y[0]].add.SoLd==null)J.a(u);return}if(B=="close"){if(c&&c.Svng.v.YsN=="Ys"){v.data={R:b.J._2};
J.a(v)}v.data={R:b.J.ZY,Bw:n};J.a(v);return}if(B=="save"){v.data={R:b.J._2};J.a(v);return}if(B=="copyMerged"){v.data={R:b.J.dx,L5:!0,fR:!0};
J.a(v);return}if(B=="placedLayerReplaceContents")v.data={R:b.J.iC,CE:!0};if(B=="placedLayerConvertToLayers"){v.data={R:b.J.GL};
J.a(v);var y=J.U4[J.U4.length-1];y.Y=[];for(var g=0;g<y.U.length;g++)y.Y.push(g);u.l=L.bX;u.data={R:bi.wW};
J.a(u);var E=n.U[n.Y[0]];u.l=L.bX;u.data={R:bi.jt,U:y.pL(),N6:y,q9:n,ag3:[E]};J.a(u);v.data={R:b.J.ZY};
J.a(v);var F=n.history[n.history.length-1];F.name="Convert to Layers";var d=n.U[n.Y[0]];d.HV(E.getName());
L.DJ.QS(n,n.l3(),null,E.S.x,E.S.y);return}if(B=="placedLayerResetTransforms"){u.l=L.dt;u.data={R:"reset",cN:"Reset Transform"};
J.a(u);return}var _={placedLayerEditContents:b.J.GL,placedLayerExportContents:b.J.a9e,copyEvent:b.J.dx,paste:b.J.RP};
if(_[B])v.data={R:_[B],fR:!0};if(v.data){J.a(v);return}var x=c.null?c.null.v:null,f=x?x[0].v.classID:"";
if(B=="make"){if(c.null==null&&c.Nw)f=c.Nw.v.classID;if(f=="AdjL"){u.data={R:bi.LQ,m$:c}}else if(f=="layerSection"){u.data=c.From?{R:bi.wW}:{R:bi.k7};
if(c.Usng){var Q=c.Usng.v;if(Q.Nm)u.data.s6=Q.Nm.v;if(Q.Clr)u.data.aM=dB.gY(Q)}}else if(f=="Lyr"){if(c.Usng&&c.Usng.v.length==2)u.data={R:bi.a1q};
else{u.data={R:bi.JX};if(c.Usng)u.data.s6=c.Usng.v.Nm.v;if(c.below&&c.below.v)u.data.aAr=!0}}else if(f=="Chnl"&&c.At&&c.At.v[0].v.enum=="Msk"){u.data={R:bi.CZ,th:c.Usng.v.UsrM}}else if(f=="Chnl"||f=="SCch"){u.data={R:bi.JY,el:"fromAction",K:z}}else if(f=="contentLayer"){u.data={R:bi.Uf,m$:c}}else if(f=="BckL"){n.U[n.Y[0]].a1a();
return}else if(f=="Dcmn"){if(c.Nw==null)return;var m=c.Nw.v;v.data={R:b.J.Rt,CT:b$.a27(m,p)}}else if(f=="Ptrn")v.data={R:b.J.$j,Xu:0};
else if(f=="Brsh")v.data={R:b.J.$j,Xu:1};else if(f=="Path"){var H=c.At;if(H&&H.v&&H.v[0]&&H.v[0].v&&H.v[0].v.enum=="vectorMask"){u.l=L.bX;
var R=!1,I=!1;if(c&&c.Usng){var Q=c.Usng.v;R=Q.vectorMaskEnabled=="RvlA";I=Q[0]&&Q[0].v.classID=="Path"}u.data={R:bi.K7,asc:!R,apX:I}}else{u.l=L.q4;
u.data={R:"pathedit",el:"fromsel"}}}else if(f=="TxLr"){u.l=L.MN;u.data={R:"fromAction",NR:z}}else if(f=="slice"){u.l=L.$V;
u.data={R:"fromAction",NR:z}}else if(f=="Gd"){var D=[[],[]],m=c.Nw.v;D[m.Ornt.v.Ornt=="Vrtc"?0:1].push(m.Pstn.v.val);
var C=kM.W1(D);L.DJ.lE(C,n.zQ());u.l=L.vX;u.data={R:"gids",hu:C}}else{console.log(B,f,c);throw"e"}}else if(B=="divide"){u.l=L.$V;
u.data={R:"fromAction",NR:z}}else if(B=="deselect"){if(f=="Path"){n.E0=[];n.sk=[];n.SR=n.eO=!0;return}else throw f}else if(B=="selectNoLayers"){n.Y=[];
n.JS=!0}else if(B=="selectAllLayers"){n.Y=[];for(var g=0;g<n.U.length;g++)n.Y.push(g);n.JS=!0;return}else if(B=="select"){var O=L.f3;
if(f=="Lyr"){var Y=c.selectionModifier,h=Y?Y.v.selectionModifierType:null,r=dB.RC(n,x[0]),W=0;if(r==-1){alert("Layer "+x[0].v.val+" does not exist.");
return}var Z=n.U[r];if(Z.nT()&&Z.Qu()&&Y==null)W=1;u.data={R:bi.FE,w:r,azS:h?["addToSelection","addToSelectionContinuous"].indexOf(h):null,c8:W}}else if(f=="Path"){if(x[0].v.keyID=="WrPt"){n.E0=[0];
n.SR=n.eO=!0;return}else if(x[0].t=="name"){for(var g=0;g<n.$n.length;g++)if(n.$n[g].name==x[0].v.val){n.E0=[g];
n.SR=n.eO=!0;return}}else throw x[0]}else if(f=="Chnl"){var N=x?x[0].v.enum:"",o=["Rd","Grn","Bl"].indexOf(N);
if(o!=-1){var K=c.Extd&&c.Extd.v?n.i.Az.slice(0):[0,0,0];K[o]=1;u.l=L.$N;u.data={R:"setcls",Az:K}}else u.data={R:bi.FE,w:r,c8:N=="RGB"?0:1}}else if(f=="Dcmn"){if(J.U4.length<2)return;
v.data={R:b.J.agd,dir:c.null.v[0].v.val}}else if(f=="Brsh"){var l=p._$.list,aV;for(var g=0;g<l.length;
g++){if(l[g].v.Nm.v.split("/").pop()==x[0].v.val)aV=l[g].v}if(p.Ms==L.vX){v.data={R:b.J.OS,l:L.na};J.a(v)}v.data={R:b.J.bS,Xu:iQ.Pr,to:aV}}else if(f=="Mn"){if(x[0].v.enum=="FrTr")v.data={R:b.J.OS,l:L.dt};
if(x[0].v.enum=="Scl")v.data={R:b.J.OS,l:L.dt,z2:{th:3}};if(x[0].v.enum=="Plce")v.data={R:b.J.iC,aGp:!0};
if(x[0].v.enum=="ZmIn"){u.l=L.KZ;u.data={R:"zoom",i5:!0}}if(x[0].v.enum=="ZmOt"){u.l=L.KZ;u.data={R:"zoom",i5:!1}}if(x[0].v.enum=="FtOn"){u.l=L.KZ;
u.data={R:"adapt",K:"fitscr"}}}else if(O[f]){v.data={R:b.J.OS,l:O[f]}}else throw f}else if(B=="draw"){u.l=L.q4;
u.data={R:"fromAction",NR:z}}else if(B=="gradientClassEvent"){u.l=L.er;u.data={R:"fromAction",NR:z}}else if((B=="set"||B=="reset"||B=="exchange")&&f=="Clr"){v.data={R:b.J.bS,Xu:iQ.Hm,el:B=="reset"?3:2};
if(B=="set"){v.data.el=x[0].v.keyID=="FrgC"?0:1;var j=a.Wi.Um(c.T.v);v.data.K=j.o<<16|j.k<<8|j.X}}else if(B=="set"){if(f=="AdjL"){var M=c.T.v.classID;
M=fs.Po[M];u.l=L.Vi;if(M)u.data={R:"edit_layer",K:c.T.v}}else if(f=="Lyr"){var s=c.T.v,r=dB.RC(n,x[0]);
for(var l2 in s){if(l2=="classID")continue;u.l=L.bX;if(l2=="Nm")u.data={R:bi.JL,name:s.Nm.v};else if(l2=="Opct")u.data={R:bi.I9,gW:Math.round(s.Opct.v.val*255/100)};
else if(l2=="fillOpacity")u.data={R:bi.h9,gW:Math.round(s.fillOpacity.v.val*255/100)};else if(l2=="Md")u.data={R:bi.Sd,gW:jM.n_.indexOf(s.Md.v.BlnM)+(n.U[r].nT()?1:0)};
else if(l2=="Usrs")u.data={R:bi.tT,w:r};else if(l2=="Blnd"){u.l=L.bV;u.data={R:"setstl",w:r,K:{blendOptions:{t:"objc",v:s}}};
J.a(u);u.data={R:"confirm",w:r}}else if(l2=="userMaskFeather"||l2=="userMaskDensity"){var gm=s.userMaskFeather,k=s.userMaskDensity,r=n.Y[0],iz=n.U[r].xd(0);
if(gm)iz.hq=gm.v.val;if(k)iz.eZ=k.v.val;u.data={R:bi.BF,Rj:r,dr:iz}}else if(l2=="Clr"){var i=dB.gY(s);
u.data={R:bi.ig,anu:i}}else if(l2=="Lefx")dB.a9I(J,r,s.Lefx.v,p);else if(l2=="UsrM"){if(s[l2].v==n.U[r].Qu().isEnabled)return;
u.data={R:bi.tn,w:r}}else{console.log(c);throw l2}if(u.data){J.a(u);delete u.data}}u.data={};var Z=n.U[r];
Z.aK6()}else if(f=="Prpr"){var s=a.G(c.T.v),r=dB.RC(n,c.null.v[1]),Z=n.U[r],dC=x[0].v.keyID;if(dC=="TxtS"||dC=="paragraphStyle"){var dL=Z.add.TySh,cP=a.G(dL.qU),id=dN.Be(cP),jR=dN.cj(cP,0,id.length-2);
if(dC=="TxtS")dN.i4(s,jR.uA);else dN.i4(s,jR.gC);dN.CG(cP,0,id.length-1,jR);u.l=L.MN;u.data={R:"newED",TC:r,a50:cP}}else if(dC=="Lefx"){for(var hC in s)if(s[hC].v){if(hC=="Scl")s[hC].v.val=100}dB.a9I(J,r,s,p);
u.data={}}else if(dC=="FlIn"||dC=="GnrP")return;else throw dC}else if(f=="contentLayer"){var r=dB.RC(n,x[0]),s=c.T.v,eJ=!0;
if(s.classID=="shapeStyle"){if(s.strokeStyle){s=s.strokeStyle.v;eJ=!1}else s=s.FlCn.v}if(eJ){var el={solidColorLayer:0,gradientLayer:1,patternLayer:2}[s.classID],eu=a_.O7(n.U[r].add),w=eu.ht==el+1?eu._H:a_.J3[el];
w=a.G(w);L.vJ.FW(s,w,el);u.data={R:bi.zB,oz:[r],fe:!0,K:{ht:el+1,_H:w}}}else{var jY=a.G(n.U[r].add.vstk);
for(var hC in s)jY[hC]=s[hC];u.data={R:bi.zB,oz:[r],fe:!1,K:jY}}}else if(f=="Brsh"){var aV=a.G(p._$.fO),fN=c.T.v;
if(fN.masterDiameter)aV.Brsh.v.Dmtr.v.val=fN.masterDiameter.v.val;else console.log("unknown brush parameters");
v.data={R:b.J.bS,Xu:iQ.Pr,to:aV}}else if(f=="Path"){u.l=L.q4;u.data={R:"fromAction",NR:z}}else if(f=="TxLr"){u.l=L.MN;
u.data={R:"fromAction",NR:z}}else{console.log(x[0],c);throw f}}else if(B=="move"){if(f=="Lyr"){var s=c.T.v;
if(s.classID=="Ofst"){u.data={R:"trsl",V$:s.Hrzn.v.val,Yx:s.Vrtc.v.val};u.l=L.vX}else{var jC,kF;if(s[0].t=="Enmr"){if(s[0].v.enum=="Frnt")kF=0;
else if(s[0].v.enum=="Nxt")kF=1;else if(s[0].v.enum=="Prvs")kF=2;else if(s[0].v.enum=="Back")kF=3;else throw"e"}else jC=s[0].v.val;
u.data={R:bi.qv,target:jC,el:kF,a74:c.Dplc?c.Dplc.v:!1}}}else if(f=="Chnl"&&x[0].v.keyID=="fsel"){u.l=L.Wu;
u.data={R:"fromAction",NR:z}}}else if(B=="cut"){var s=c.T.v,i6=s.Hrzn.v.val,kT=s.Vrtc.v.val;u.data={R:"trsl",V$:i6,Yx:kT};
u.l=L.vX}else if(B=="groupEvent"||B=="ungroup")u.data={R:bi.S5};else if(B=="show"||B=="hide"){var kY=c.null.t;
if(kY=="obj "){if(x[0].v.val!=null)u.data={R:bi.fM,index:x[0].v.val-1};else u.data={R:bi.Wy}}else if(kY=="VlLs"){var f=x[0].v[0].v.classID;
if(f=="Chnl")u.data={R:bi.JY,el:"fromAction",K:z};else{var h9=f=="filterFX"?x:x[0].v;for(var g=0;g<h9.length;
g++){if(f=="filterFX")u.data={R:bi.fM,index:h9[g].v[0].v.val-1};else if(h9[g].v.enum=="Trgt"){var bG=[];
for(var dQ=0;dQ<n.Y.length;dQ++){var r=n.Y[dQ],jn=n.U[r].LE();if(B=="show"&&jn||B=="hide"&&!jn)continue;
bG.push(r)}u.data={R:bi.BJ,oz:bG}}else{var r=dB.RC(n,h9[g]),jn=n.U[r].LE();if(B=="show"&&jn||B=="hide"&&!jn)continue;
u.data={R:bi.BJ,oz:[r]}}J.a(u)}return}}else throw kY}else if(B=="rotateEventEnum"){u.l=f=="Lyr"?L.dt:L.ue;
var b1=c.Angl.v.val;u.data={R:"rot",cN:[2,5],K:-b1*Math.PI/180}}else if(B=="flip"){u.l=f=="Lyr"?L.dt:L.ue;
var c8=c.Axis.v.Ornt=="Hrzn",j_=c8?new i_(-1,1):new i_(1,-1);u.data={R:"scl",cN:[[2,6],[22,4,c8?2:3]],K:j_}}else if(B=="transform"){var x=c.null;
if(x&&x.v instanceof Array)x=x.v[0];u.l=x&&x.v.keyID=="fsel"?L.Ou:L.dt;u.data=L.tp.aKq(c)}else if(B=="duplicate"){if(f=="Chnl")u.data={R:bi.JY,el:"fromAction",K:z};
else if(f=="Dcmn"){var fQ=kL.V5("PSD").D6(n);jo.mQ({url:n.name},fQ,J);return}else if(f=="Actn"){var cM=p.MD,jK=x[1].v.val,aw=null;
for(var g=0;g<cM.length;g++)if(cM[g].cN==jK)aw=cM[g];var ez=dB.Cs(cM,x[0].v.val,jK);ez=a.G(ez);ez.cN+=" copy";
aw.B7.push(ez);return}else u.data={R:bi.Kb,s6:c.Nm?c.Nm.v:null}}else if(B=="delete"){if(f=="filterFX"){if(x[0].v.val!=null)u.data={R:bi.K5,ft:x[0].v.val-1};
else u.data={R:bi.wJ}}else if(f=="Path"){if(x&&x.length==2&&x[0].v.enum=="vectorMask"&&x[1].v.classID=="Lyr"){u.l=L.bX;
u.data={R:bi.Xo}}else{u.l=L.q4;u.data={R:"pathedit",el:"del"}}}else if(f=="Lyr")u.data={R:bi.W3};else if(f=="Chnl"&&x[0].v.enum=="Msk")u.data={R:bi.cf};
else if(f=="Chnl")u.data={R:bi.JY,el:"fromAction",K:z};else if(f=="Cmnd"){var cM=p.MD,jK=x[2].v.val,ez=dB.Cs(cM,x[1].v.val,jK);
ez.B7.splice(x[0].v.val-1,1);return}else if(f=="Actn"){var cM=p.MD,jK=x[1].v.val,aw=null;for(var g=0;
g<cM.length;g++)if(cM[g].cN==jK)aw=cM[g];var ez=dB.Cs(cM,x[0].v.val,jK);aw.B7.splice(aw.B7.indexOf(ez),1);
return}else if(f=="ASet"){var cM=p.MD,jK=x[0].v.val,aw=null;for(var g=0;g<cM.length;g++)if(cM[g].cN==jK)aw=cM[g];
if(aw==null)return;cM.splice(cM.indexOf(aw),1);n.JS=!0;return}else throw f}else if(B=="align"){if(c.Aply&&c.Aply.v.projection=="Auto"){u.l=L.ue;
u.data={R:"auto-align"}}else{u.l=L.vX;var g4=c.Usng.v.ADSt,U={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[g4];
if(U==null)throw g4;u.data={R:"algn",K:U}}}else if(B=="applyLocking"){var ht=c.layerLocking.v,gx;if(ht.protectTransparency)gx=[[ht.protectTransparency.v],[0]];
else if(ht.protectNone)gx=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(ht);throw"e"}u.data={R:bi.tt,gW:gx}}else if(B=="play"){var x=c.target.v;
v.data={R:b.J.Zj,qY:[x[0].v.val,x[1].v.val]}}if(u.data)J.a(u);else if(v.data)J.a(v);else{console.log(z);
alert("Unknown action \""+B+"\"");throw"e"}};dB.a9I=function(z,J,p,n){p=a.G(p);bp._w(p);if(p.masterFXSwitch==null)p.masterFXSwitch={t:"bool",v:!0};
console.log(p);var B=a_.in;for(var c=0;c<B.length;c++)if(p[B[c]]){for(var g=0;g<p[B[c]].v.length;g++){var t=p[B[c]].v[g].v;
for(var u=0;u<2;u++){var v=t[u==0?"TrnS":"MpgS"];if(v&&v.v.Crv==null){var A=v.v,$=A.Nm.v.split("=").pop(),X=n.rV,U=0;
for(var w=0;w<X.length;w++){var P=X[w].Nm.v.split("=").pop();if(P==$)U=w}A.Crv=a.G(X[U].Crv)}}}}var k=new cD(b.E.H,!0);
k.l=L.bV;k.data={R:"setstl",w:J,K:{Lefx:{t:"objc",v:p}}};z.a(k);k.data={R:"confirm",w:J};z.a(k)};dB.gY=function(z){var J={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[z.Clr.v.Clr];
if(J==null)throw z.Clr.v.Clr;return J};dB.RC=function(z,J){var p=1e6,n=0,B=z.U.length;for(var g=0;g<z.Y.length;
g++){p=Math.min(p,z.Y[g]);n=Math.max(n,z.Y[g])}var c=J.t,t=-1;if(c=="name"){var u=J.v.val,t=-1;for(var g=0;
g<B;g++)if(z.U[g].getName()==u){t=g;break}}else if(c=="Enmr"){if(z.Y.length!=0)t=z.Y[0];if(J.v.enum=="Frwr")t=n+1;
if(J.v.enum=="Bckw")t=p-1;if(J.v.enum=="Back")t=0;if(J.v.enum=="Frnt")t=B-1;t=(t+B)%B}else if(c=="prop"){if(J.v.keyID=="Bckg")t=0}else if(c=="indx")t=J.v.val-1;
return t};var fs={};fs.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
fs.a78=["expA","clrL","selc"];fs.ty=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];fs.aoW=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
fs.io=[[13,1,1],[13,1,4],[13,1,5]];fs.tD={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
fs.Po=function(){var z=a.G(fs.tD);delete z.GrMp;z.GdMp="grdm";return z}();fs.f3={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
fs.keys={levl:[l5.zT,l5.Z5],curv:[l5.zT,l5.Ma],hue2:[l5.zT,l5.Vh],nvrt:[l5.zT,l5.vn],blnc:[l5.zT,l5.ba]};
fs.kf=function(z){var J=em.J0("mixr");J.Mnch={t:"bool",v:z.Gj};function p(n,g){var B={classID:"ChMx"},c={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var t in c)B[t]={t:"UntF",v:{type:"#Prc",val:n[g+c[t]]}};return{t:"Objc",v:B}}if(z.Gj)J.Gry=p(z.K,0);
else{J.Rd=p(z.K,0);J.Grn=p(z.K,5);J.Bl=p(z.K,10)}return J};fs.W6=function(z){function J(n,B,g){var c={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var t in c)if(n[t])B[g+c[t]]=n[t].v.val}var p={Gj:!1,K:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(z.Mnch&&z.Mnch.v)p.Gj=!0;if(p.Gj)J(z.Gry.v,p.K,0);else{J(z.Rd.v,p.K,0);J(z.Grn.v,p.K,5);J(z.Bl.v,p.K,10)}return p};
fs.get=function(z){for(var J in fs.names)if(z[J]!=null)return J;return null};fs.XC=function(z,J){var p=fs.TI,n;
if(z=="brit"){var B=J.Brgh?J.Brgh.v:0,c=J.Cntr?J.Cntr.v:0,t=J.useLegacy?J.useLegacy.v:!1;if(t){var u=B/255,v=1+c/100;
if(v>1)v=1+Math.tan(Math.PI/2*c/101);var A=(1-v)/2,$=a.gr.Hv(u,u,u),X=[v,0,0,A,0,v,0,A,0,0,v,A,0,0,0,1],U=a.gr.multiply(X,$),w={o:new Float32Array(256),k:new Float32Array(256),X:new Float32Array(256)};
for(var g=0;g<256;g++)w.o[g]=g/255;a.gr.JZ(w,w,U);n={I:p.oN,vm:w.o,vg:w.o,D1:w.o,zc:!1,YV:!1}}else{var P=1024,k=-30+60*(c+100)/200,T=[];
for(var g=0;g<4;g++)T.push(a.kC.YL(g/3*255,g/3*255,!0));T[1].v.Hrzn.v=64;T[1].v.Vrtc.v=64-k;T[2].v.Hrzn.v=128+64;
T[2].v.Vrtc.v=128+64+k;T.sort(function(gU,ad){return gU.v.Hrzn.v-ad.v.Hrzn.v});var Z=a.kC.ZX(T,P);function i(gU,P){var T=[],lj=3;
for(var g=0;g<lj+1;g++)T.push(a.kC.YL(g/lj*255,g/lj*255,!0));T[1].v.Hrzn.v=130-gU*26;T[1].v.Vrtc.v=130+gU*51;
T[2].v.Hrzn.v=233-gU*48;T[2].v.Vrtc.v=233+gU*10;return a.kC.ZX(T,P)}var V=i(Math.abs(B)/100,P);if(B<0){var _=[],y=1/P;
for(var g=0;g<P;g++){var E=g*y,F=g;while(V[F]>E&&F>1)F--;_[g]=F*y}V=_}var d=new Float32Array(P);for(var g=0;
g<P;g++){var x=Math.round((P-1)*V[g]);d[g]=Z[x]}n={I:p.oN,vm:d,vg:d,D1:d,zc:!1,YV:!1}}}if(z=="levl"){var f=[],Q,m,$,H,S,R,I=256;
for(var g=0;g<4;g++)f.push(f8.FP(J,g));var D=I-1;Q=-f[0][0]/255;m=1/(f[0][1]/255-f[0][0]/255);$=a.gr.multiply(a.gr.GP(m,m,m),a.gr.Hv(Q,Q,Q));
H=a.gr.GP(1/(f[1][1]/255-f[1][0]/255),1/(f[2][1]/255-f[2][0]/255),1/(f[3][1]/255-f[3][0]/255));S=a.gr.Hv(-f[1][0]/255,-f[2][0]/255,-f[3][0]/255);
R=a.gr.multiply(H,S);var d={o:new Float32Array(I),k:new Float32Array(I),X:new Float32Array(I)};for(var g=0;
g<I;g++)d.o[g]=d.k[g]=d.X[g]=g/D;var G=1/(f[0][4]/100),C=1/(f[1][4]/100),O=1/(f[2][4]/100),Y=1/(f[3][4]/100);
a.gr.JZ(d,d,R);for(var g=0;g<I;g++){d.o[g]=Math.max(0,Math.min(1,Math.pow(d.o[g],C)));d.k[g]=Math.max(0,Math.min(1,Math.pow(d.k[g],O)));
d.X[g]=Math.max(0,Math.min(1,Math.pow(d.X[g],Y)))}a.gr.JZ(d,d,$);for(var g=0;g<I;g++){d.o[g]=Math.max(0,Math.min(1,Math.pow(d.o[g],G)));
d.k[g]=Math.max(0,Math.min(1,Math.pow(d.k[g],G)));d.X[g]=Math.max(0,Math.min(1,Math.pow(d.X[g],G)))}Q=f[0][2]/255;
m=f[0][3]/255-f[0][2]/255;$=a.gr.multiply(a.gr.Hv(Q,Q,Q),a.gr.GP(m,m,m));H=a.gr.GP(f[1][3]/255-f[1][2]/255,f[2][3]/255-f[2][2]/255,f[3][3]/255-f[3][2]/255);
S=a.gr.Hv(f[1][2]/255,f[2][2]/255,f[3][2]/255);R=a.gr.multiply(S,H);a.gr.JZ(d,d,a.gr.multiply($,R));
n={I:p.oN,vm:d.o,vg:d.k,D1:d.X,zc:!1,YV:!1}}if(z=="curv"){var h=a5.FP(J,0).length==256?1:0,r=[];if(h==0){var W=a.kC.ZX(a5.FP(J,0),256);
for(var g=1;g<4;g++){var N=a.kC.ZX(a5.FP(J,g),256);r.push(a.kC.aee(N,W))}}else{var o=[];for(var g=0;
g<4;g++){var K=new Float32Array(256);o.push(K);var l=a5.FP(J,g);for(var F=0;F<256;F++)K[F]=l[F]/255}for(var g=1;
g<4;g++)r.push(a.kC.aee(o[g],o[0]))}n={I:p.oN,vm:r[0],vg:r[1],D1:r[2],zc:!1,YV:!1}}if(z=="expA"){var aV=J.Exps,j=J.Ofst,M=J.gammaCorrection,s=aV?aV.v:0,l2=j?j.v:0,gm=M?M.v:1,d=new Float32Array(256);
for(var g=0;g<256;g++){var J=g/255,iz=Math.pow(Math.abs(l2),1/(Math.PI/2));if(l2>0){J=Math.max(l2/Math.E,J);
J=J*Math.exp(l2/1.75+s/Math.PI);J=(1-iz)*J+iz*1}else{J=J*Math.exp(-l2*1.75+s/Math.PI);J=J+-iz*1.14}J=Math.pow(J,1/gm);
d[g]=Math.max(0,Math.min(1,J))}n={I:p.oN,vm:d,vg:d,D1:d,zc:!1,YV:!1}}if(z=="vibA"){var dC=(J.vibrance?J.vibrance.v:0)/100,dL=(J.Strt?J.Strt.v:0)/100,iz=1+dC*(dC>0?.25:.5),cP=.8+.2/iz;
n={I:p.BM,Xu:[dC,dL,cP,iz]}}if(z=="hue2"){var id=[],jR=[],hC=[],eJ=J.Clrz?J.Clrz.v:!1,I=256,D=I-1;for(var g=0;
g<I;g++){id[g]=g/D;jR[g]=0;hC[g]=0}var el=eP.FP(J,0),eu=fs.B9(el[1]/100);if(eJ){var jY=el[0]/360;for(var g=0;
g<I;g++){id[g]=jY;jR[g]=eu}}else{for(var g=0;g<I;g++){var fN=id[g],jC=jR[g];id[g]+=el[0]/360;for(var F=0;
F<6;F++){var kF=eP.FP(J,F+1),i6=kF.pm,kT=kF.RO,iz=0;for(var kY=1;kY<4;kY++)if(kT[kY]<kT[0])kT[kY]+=360;
var h9=kT[0],bG=kT[1],dQ=kT[2],jn=kT[3],b1=fN*360;if(b1<kT[0])b1+=360;var c8=(b1-h9)/(bG-h9),j_=(b1-dQ)/(jn-dQ);
if(c8<0)iz=0;else if(c8<1)iz=c8;else if(j_<0)iz=1;else if(j_<1)iz=1-j_;else iz=0;var v=fs.B9(i6[1]/100);
id[g]+=iz*i6[0]/360;jR[g]+=iz*v;hC[g]+=iz*i6[2]/100}}for(var g=0;g<I;g++){jR[g]=(1+jR[g])*(1+eu)-1;hC[g]=Math.max(-1,Math.min(1,hC[g]))}}var d=a.j(I*4*1,32);
for(var g=0;g<I;g++){d[4*g]=id[g];d[4*g+1]=fs.aCE(jR[g]);d[4*g+2]=hC[g]}var fQ=el[2]/100,cM=fQ<0?-fQ:fQ,jK=fQ<0?0:1;
n={I:p.zs,map:d,adD:cM*jK,XG:1-cM,asb:el[2]/100,agv:eJ?1:0}}if(z=="nvrt"){var d=new Float32Array(256);
for(var g=0;g<256;g++)d[g]=1-g/255;n={I:p.oN,vm:d,vg:d,D1:d,zc:!1,YV:!1}}if(z=="post"){var aw=J.Lvls.v,d=new Float32Array(256),iz=aw/255.001,ez=1/(aw-1);
for(var g=0;g<256;g++)d[g]=Math.floor(g*iz)*ez;n={I:p.oN,vm:d,vg:d,D1:d,zc:!1,YV:!1}}if(z=="grdm"){var g4=J.Grad.v,ht=J.Rvrs,gx=J.gs99,P=1024,kE=a.Wi.a6J(g4,P,ht?ht.v:!1,0,0,gx?gx.v.gradientInterpolationMethodType:"Gcls"),kS=new Float32Array(P),b7=new Float32Array(P),i7=new Float32Array(P);
a.Tm(kE,kS,0);a.Tm(kE,b7,1);a.Tm(kE,i7,2);n={I:p.oN,vm:kS,vg:b7,D1:i7,zc:!0,YV:!1}}if(z=="selc"){var fp=new Float32Array(9*3*2),jB=J.Tl,fB=J.Mthd?J.Mthd.v.CrcM=="Absl":!1;
for(var F=0;F<9;F++){var df=F*6,dt=ey.FP(J,F),g5=dt[0]/100,bR=dt[1]/100,ih=dt[2]/100,jt=dt[3]/100;if(fB){fp[df]=fp[df+1]=fp[df+2]=1;
fp[df+3]=g5*(1+jt)+jt;fp[df+4]=bR*(1+jt)+jt;fp[df+5]=ih*(1+jt)+jt}else{fp[df+0]=(1+g5)*(1+jt);fp[df+1]=(1+bR)*(1+jt);
fp[df+2]=(1+ih)*(1+jt)}}n={I:p.tB,ak0:fp}}if(z=="blwh"){var jN="Rd Yllw Grn Cyn Bl Mgnt".split(" "),n=[],ga=0,iC=0;
for(var g=0;g<6;g++)n.push(J[jN[g]]?J[jN[g]].v:50);n.push(J.useTint.v,J.tintColor.v);var jk=[];for(var g=0;
g<6;g++)jk.push((n[g]-50)/50);var cW=a.Wi.Um(n[7]);cW.o/=255;cW.k/=255;cW.X/=255;var dR=a.HC(cW.o,cW.k,cW.X),gV=a.K3(a.no(dR.tK,1,.5)),gv=dR.Q5*dR.Mf;
if(gV==.5)ga=iC=.5;else{ga=gv*(.5-gV)/(.5/gV-1);iC=1-gv*(.5-gV)-1/(2*(1-gV));iC/=1-1/(2*(1-gV))}n={I:p.fm,avx:jk,Zm:n[6]?1:0,ano:dR.tK,K3:gV,agg:gv,ug:ga,aBB:iC}}if(z=="blnc"){var f=[],dI=["ShdL","MdtL","HghL"];
for(var g=0;g<3;g++){if(J[dI[g]]==null){f[g]=[0,0,0];continue}var aw=J[dI[g]].v,fV=aw[0].v/100,dH=aw[1].v/100,aj=aw[2].v/100,cH=J.PrsL==null||J.PrsL.v?(Math.min(fV,dH,aj)+Math.max(fV,dH,aj))/2:0;
f[g]=[fV-cH,dH-cH,aj-cH]}var r=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];for(var F=0;
F<3;F++)for(var g=0;g<256;g++){var E=g*(1/255),ge=0,k=0,ko=0;k=f[2][F];ko=Math.abs(k);if(k<0)ge=Math.pow(E,Math.SQRT2);
else ge=1.63*(Math.pow(E+.04,.5)-.2);E=ko*ge+(1-ko)*E;k=f[1][F];ko=Math.abs(k);if(k<0)ge=Math.pow(E,2);
else ge=Math.min(2.35*(Math.pow(E+.09,.5)-.3),Math.pow(E,1/2));E=ko*ge+(1-ko)*E;k=f[0][F];ko=Math.abs(k);
if(k<0)ge=E<.4?0:Math.pow((E-.4)/.6,Math.SQRT2);else ge=Math.pow(E,Math.SQRT2/2);E=ko*ge+(1-ko)*E;E=Math.max(0,Math.min(1,E));
r[F][g]=E}n={I:p.oN,vm:r[0],vg:r[1],D1:r[2],zc:!1,YV:!1}}if(z=="phfl"){var iI=a.Wi.Um(J.Clr.v),av=[iI.o/255,iI.k/255,iI.X/255],gF=J.Dnst.v/100,r=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];
for(var F=0;F<3;F++)for(var g=0;g<256;g++){var E=g*(1/255),kG=E*av[F];kG=Math.max(0,Math.min(1,kG));
E=gF*kG+(1-gF)*E;r[F][g]=E}n={I:p.oN,vm:r[0],vg:r[1],D1:r[2],zc:!1,YV:J.PrsL.v}}if(z=="thrs"){var d=new Float32Array(256);
for(var g=J.Lvl.v;g<256;g++)d[g]=1;n={I:p.oN,vm:d,vg:d,D1:d,zc:!0,YV:!1}}if(z=="mixr"){var kh=fs.W6(J),U=[];
for(var g=0;g<kh.K.length;g++)if(g%5!=3)U.push(kh.K[g]/100);if(kh.Gj){for(var hB=1;hB<3;hB++)for(var E=0;
E<4;E++)U[hB*4+E]=U[E]}n={I:p.mt,bp:U}}if(z=="rplc"){var kf=J.Mnm.v,jg=J.Mxm.v;n={I:p.Sf,Va:[kf.Lmnc.v,kf.A.v,kf.B.v],ZJ:[jg.Lmnc.v,jg.A.v,jg.B.v],shift:[J.H.v/360,J.Strt.v/100,J.Lght.v/100],w2:J.Fzns.v/150}}if(z=="clrL"&&J.profile){var fU=new Uint8Array(J.profile.v),cv=ICC.R(fU.buffer),bZ=[],iB=17,bZ=ICC.U.sampleLUT(cv,iB);
n={I:p.e2,sM:ICC.U.lutToRGBA32(bZ,iB),a7f:bZ,EL:iB}}var v=J?J.showClipping:null;if(v){var l8=[n.vm,n.vg,n.D1],ee=v.v==1?1/255:253/255;
for(var K=0;K<3;K++)for(var g=0;g<l8[K].length;g++)l8[K][g]=l8[K][g]<ee?0:1}return n};fs.mU=function(z,J){var p=-1;
if(z!="levl"||J==null)p=-1;else if(J.Auto)p=0;else if(J.AuCo)p=1;else if(J.autoBlackWhite)p=2;return p};
fs.TI={oN:0,zs:1,BM:2,tB:3,fm:4,mt:5,Sf:6,e2:7};fs.B9=function(z){if(z<0)return z;return Math.pow(Math.tan(Math.PI/2*z),1.3)};
fs.aCE=function(z){if(z<0)return z;z=Math.pow(z,1/1.3);return Math.atan2(z,1)/(Math.PI/2)};fs.Rm=function(z,J,p,n){var B=fs.TI,c=Date.now();
if(co.Pw&&n.C()>300*300&&z.I!=B.oN&&z.I!=B.e2){n=n.P();n.x=n.y=0;var t=co.Ud(0,n.r,n.$,a.zr(J));t.set(J);
co.C4(t,n);t.Xq(n);fs.PW(z,t.Qz,n);t.get(p);return}var u=J.length,v=a.zr(J),A=v==8?255:v==16?65535:1,$=1/A;
for(var g=0;g<u;g+=4)p[g+3]=J[g+3];if(z.I==B.e2){var X=z.a7f,U=z.EL;ICC.U.applyLUT(X,U,J,p);var u=J.length}if(z.I==B.mt)a.gr.atl(J,p,z.bp);
if(z.I==B.fm){var w=z.agg,P=z.K3,k=z.ug,T=z.aBB,u=J.length;for(var g=0;g<u;g+=4){var n=J[g]*$,Z=J[g+1]*$,i=J[g+2]*$,V=a.X5(n,Z,i),_=0;
for(var y=0;y<6;y++)_+=Math.min(1,1.7*(1-V.w8))*V.Q5*z.avx[y]*fs.a6t(V.tK,y*(1/6));var E=Math.max(0,Math.min(1,V.w8*(1+_)));
if(z.Zm==1){var F=0;if(E<k)F=E*(.5/P);else if(E<T)F=E+w*(.5-P);else F=1-(1-E)*.5/(1-P);V.tK=z.ano;V.Q5=Math.min(1,w+3*w*Math.abs(E-.5*(k+T)));
V.w8=F}else{V.tK=0;V.Q5=0;V.w8=E}var d=a.no(V.tK,V.Q5,V.w8);p[g]=d.o*A;p[g+1]=d.k*A;p[g+2]=d.X*A}}if(z.I==B.tB){var x=z.ak0,u=J.length,f=1/255;
for(var g=0;g<u;g+=4){var n=J[g]*f,Z=J[g+1]*f,i=J[g+2]*f,V=a.X5(n,Z,i),Q=Math.max(n,Math.max(Z,i)),m=Math.min(n,Math.min(Z,i)),H=1-n,S=1-Z,R=1-i,I=0,D=0,G=0;
for(var y=0;y<9;y++){var C=y*6,r=0;if(x[C]==1&&x[C+1]==1&&x[C+2]==1&&x[C+3]==0&&x[C+4]==0&&x[C+5]==0)continue;
var O=H*x[C]+x[C+3],Y=S*x[C+1]+x[C+4],h=R*x[C+2]+x[C+5];if(y<6)r=fs.a6t(V.tK,y*(1/6))*V.Q5*2*Math.min(V.w8,1-V.w8);
else if(y==6)r=Math.max(0,m-.5)*2;else if(y==7)r=1-(Math.abs(Q-.5)+Math.abs(m-.5));else r=Math.max(0,.5-Q)*2;
I+=(Math.max(0,Math.min(1,O))-H)*r;D+=(Math.max(0,Math.min(1,Y))-S)*r;G+=(Math.max(0,Math.min(1,h))-R)*r}H=Math.max(0,Math.min(1,H+I));
S=Math.max(0,Math.min(1,S+D));R=Math.max(0,Math.min(1,R+G));n=1-H;Z=1-S;i=1-R;p[g]=Math.round(n*255);
p[g+1]=Math.round(Z*255);p[g+2]=Math.round(i*255)}}if(z.I==B.oN){a.aFA(J,p,z.vm,z.vg,z.D1,z.zc,z.YV)}if(z.I==B.zs){if(fs.aF_==null){fs.aF_=new Float64Array(1024);
for(var g=0;g<1024;g++)fs.aF_[g]=fs.B9(-1+2*g/1023)}var W=fs.aF_,N=(z.map.length>>>2)-1,o=z.map;for(var g=0;
g<u;g+=4){var n=J[g]*$,Z=J[g+1]*$,i=J[g+2]*$,K=Math.min(n,Z,i),l=Math.max(n,Z,i),aV=(a.X5(n,Z,i).tK+5e-4)*N,j=0,M=0,s=aV-Math.floor(aV),l2=Math.floor(aV)*4,gm=Math.min(N*4,l2+4),iz=(1-s)*o[l2]+s*o[gm+0],dC=(1-s)*o[l2+1]+s*o[gm+1],dL=(1-s)*o[l2+2]+s*o[gm+2],_=-dL,cP=K;
if(0<dL){_=dL;cP=l}var id=z.adD+z.XG*_*cP,jR=z.XG*(1-_);n=id+jR*n;Z=id+jR*Z;i=id+jR*i;l=Math.max(n,Z,i);
K=Math.min(n,Z,i);M=(l+K)*.5;if(l!=K){var hC=l-K;j=M>.5?hC/(2-(l+K)):hC/(l+K)}var eJ=dC;if(z.agv==0){dC=W[Math.floor((1+dC)*511.5)];
eJ=Math.min(j*(1+dC),1)}var d=a.no(iz,eJ,M);n=d.o;Z=d.k;i=d.X;p[g]=n*A;p[g+1]=Z*A;p[g+2]=i*A}}if(z.I==B.Sf){a._U(J,p);
var el=new Uint32Array(J.buffer),eu=new Uint32Array(p.buffer),u=el.length,jY=z.w2,fN=1/jY,jC={Z5:z.Va[0],k6:z.Va[1],X:z.Va[2]},kF={Z5:z.ZJ[0],k6:z.ZJ[1],X:z.ZJ[2]};
for(var g=0;g<u;g++){var i6=el[g],kT=i6&255,kY=i6>>>8&255,h9=i6>>>16&255,n=kT*(1/255),Z=kY*(1/255),i=h9*(1/255),bG=i6>>>24,dQ=a.ym(kT,kY,h9),jn=a.ajs(dQ,jC,kF,jY,fN);
if(jn==0)continue;var V=a.X5(n,Z,i),iz=2+V.tK+z.shift[0];V.tK=iz-~~iz;V.Q5=Math.max(0,Math.min(1,V.Q5+z.shift[1]));
V.w8=Math.max(0,Math.min(1,V.w8+z.shift[2]));var d=a.no(V.tK,V.Q5,V.w8);n=(1-jn)*n+jn*d.o;Z=(1-jn)*Z+jn*d.k;
i=(1-jn)*i+jn*d.X;eu[g]=bG<<24|i*255<<16|Z*255<<8|n*255}}if(z.I==B.BM){var b1=z.Xu[0],c8=z.Xu[1],j_=z.Xu[2],_=z.Xu[3],fQ=a.gr.Eh([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),cM=a.gr.oU(fQ),jK=2.4;
function U(gx){return Math.max(0,Math.min(1,gx))}function aw(gx){return Math.pow(gx,jK)}function ez(gx){return Math.pow(gx,1/jK)}function g4(n,Z,i,gx){n=aw(n);
Z=aw(Z);i=aw(i);var kE=a.gr.V9(fQ,[n,Z,i,1]);kE[0]*=j_;kE[1]*=_;kE[2]*=_;var d=a.gr.V9(cM,kE);d[0]=ez(U(d[0]));
d[1]=ez(U(d[1]));d[2]=ez(U(d[2]));return d}for(var g=0;g<u;g+=4){var n=J[g]*$,Z=J[g+1]*$,i=J[g+2]*$,d=g4(n,Z,i,b1);
n=d[0];Z=d[1];i=d[2];var ht=a.X5(n,Z,i);ht.Q5=Math.max(0,Math.min(1,ht.Q5*(1+c8)));d=a.no(ht.tK,ht.Q5,ht.w8);
n=d.o;Z=d.k;i=d.X;p[g]=n*A;p[g+1]=Z*A;p[g+2]=i*A}}};fs.PW=function(z,J,p){co.Fc.PW(z,J)};fs.a6t=function(z,J){var p=a.me(J,z)*6;
return Math.max(0,Math.min(1,p<0?1+p:1-p))};var em={};em.Jt=function(z){var J=z.filterID.v;return J>16777215?e.ao7(J):z.Fltr.v.classID};
em.uC=[{_H:"GEfc"},{_H:"LnCr"},{_H:"Adobe Camera Raw Filter"},{_H:"LqFy"},{_H:"VaPo",$h:!0},{hk:"3D",fK:["lightFilterGradient","Dila"]},{hk:[24,2],fK:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{hk:[24,3,11],fK:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{hk:[24,4],fK:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{hk:[24,6],fK:["AdNs","Dspc","DstS","Mdn ","denoise"]},{hk:[24,8],fK:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{hk:[24,10],fK:["Flam","Clds","DfrC","Fbrs","LnsF"]},{hk:[24,12],fK:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{hk:[24,14],fK:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{hk:[24,16],fK:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{hk:"Fourier",fK:["dDFT","iDFT"]}];
em.f3={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
em.ju={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
em.Z={rigidTransform:L.JO,perspectiveWarpTransform:L.h1,blurbTransform:L.LH};em.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],perspectiveWarpTransform:"Perspective Warp",blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
em.J0=function(z){var J=null;if(z=="GEfc")J={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:hj.J0("GlwE")}]}};
if(z=="LqFy"){var p={Tx:5,tK:5,map:new Float32Array(5*5*2)},n=new Uint8Array(kD.Ag(p)),B=[];for(var g=0;
g<n.length;g++)B.push(n[g]);J={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:B}}}if(z=="rigidTransform"){J={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(z=="perspectiveWarpTransform"){J={__name:"Perspective Warp",classID:"perspectiveWarpTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Md:{t:"enum",v:{perspectiveWarpMode:"layout"}},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:-1014}},Left:{t:"UntF",v:{type:"#Pxl",val:0}},Btom:{t:"UntF",v:{type:"#Pxl",val:3098}},Rght:{t:"UntF",v:{type:"#Pxl",val:3320}}}},vertices:{t:"VlLs",v:[]},warpedVertices:{t:"VlLs",v:[]},quads:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(z=="blurbTransform"){J={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(z=="LnCr")J={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(z=="adaptCorrect")J={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(z=="Dfs ")J={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(z=="Fbrs")J={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(z=="Embs")J={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(z=="oilPaint")J={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(z=="TrcC")J={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(z=="Wnd ")J={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(z=="lightFilterGradient")J={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(z=="boxblur")J={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(z=="GsnB")J={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(z=="Bokh")J={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(z=="MtnB")J={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(z=="RdlB")J={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(z=="surfaceBlur")J={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(z=="denoise")J={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(z=="Dspl")J={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(z=="Pnch")J={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(z=="Plr ")J={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(z=="Rple")J={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(z=="Shr ")J={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(z=="Sphr")J={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(z=="Twrl")J={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(z=="Wave")J={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(z=="ZgZg")J={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(z=="AdNs")J={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(z=="DstS")J={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(z=="Mdn ")J={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(z=="ClrH")J={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(z=="Crst")J={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(z=="Mztn")J={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(z=="Msc ")J={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(z=="Pntl")J={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(z=="LnsF")J={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(z=="Dthr")J={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(z=="Part")J={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(z=="Adobe Camera Raw Filter")J={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(z=="smartSharpen")J={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(z=="UnsM")J={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(z=="HghP")J={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(z=="HsbP")J={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(z=="Mxm ")J={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(z=="Mnm ")J={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(z=="Ofst")J={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(z=="Kale")J={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(z=="Rept")J={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(z=="Flam")J={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(z=="Ctoa")J={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(z=="brit")J={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(z=="levl")J={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(z=="curv")J={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(z=="expA")J={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(z=="vibA")J={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(z=="hue2")J={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(z=="blnc")J={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(z=="blwh")J={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(z=="phfl")J={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(z=="grdm")J={__name:"Gradient Map",classID:"GrMp",gs99:{t:"enum",v:{gradientInterpolationMethodType:"Gcls"}},Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Grad:JSON.parse(a_.ef[6]).Grad};
if(z=="selc")J={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(z=="thrs")J={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(z=="mixr")J={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(z=="clrL")J={__name:"Color Lookup",classID:"colorLookup"};if(z=="post")J={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(z=="rplc")J={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(z=="fade")J={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(z=="aply")J={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(z=="matc"){J={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},"neutralizeColor    ":{t:"bool",v:!1},selectedSourceAreas:{t:"bool",v:!0},SlcA:{t:"bool",v:!0},noReference:{t:"bool",v:!0}}}if(z=="Dila")J={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(z=="blendOptions")J={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return J};em.mn={sFlam:function(z,J){J[0]=z.Type.v;J[1]=z.Leng.v;J[2]=z.RndL.v;J[3]=z.Widt.v;J[4]=z.Angl.v;
J[5]=z.Intr.v;J[6]=z.Adpt.v;J[7]=z.Clr.v;J[8]=z.Qual.v;J[9]=z.Turb.v;J[10]=z.Jag.v;J[11]=z.Opct.v.val;
J[12]=z.Lins.v;J[13]=z.Botm.v;J[14]=z.Styl.v;J[15]=z.Shap.v;J[16]=z.RnSh.v;J[17]=z.Arng.v},gFlam:function(z,J){z.Type.v=J[0];
z.Leng.v=J[1];z.RndL.v=J[2];z.Widt.v=J[3];z.Angl.v=J[4];z.Intr.v=J[5];z.Adpt.v=J[6];z.Clr.v=J[7];z.Qual.v=J[8];
z.Turb.v=J[9];z.Jag.v=J[10];z.Opct.v.val=J[11];z.Lins.v=J[12];z.Botm.v=J[13];z.Styl.v=J[14];z.Shap.v=J[15];
z.RnSh.v=J[16];z.Arng.v=J[17]},sAdNs:function(z,J){J[0]=z.Nose.v.val;J[1]=["Gsn","Unfr"].indexOf(z.Dstr.v.Dstr);
J[2]=z.Mnch.v},gAdNs:function(z,J){z.Nose.v.val=J[0];z.Dstr.v.Dstr=["Gsn","Unfr"][J[1]];z.Mnch.v=J[2]},sDstS:function(z,J){J[0]=z.Rds.v;
J[1]=z.Thsh.v},gDstS:function(z,J){z.Rds.v=J[0];z.Thsh.v=J[1]},sGsnB:function(z,J){J[0]=z.Rds.v.val},gGsnB:function(z,J){z.Rds.v.val=J[0]},sDila:function(z,J){J[0]=z.Crop.v.val;
J[1]=z.Rds.v.val},gDila:function(z,J){z.Crop.v.val=J[0];z.Rds.v.val=J[1]},sHghP:function(z,J){J[0]=z.Rds.v.val},gHghP:function(z,J){z.Rds.v.val=J[0]},sHsbP:function(z,J){var p=["RGBC","HSBl","HSLC"];
J[0]=p.indexOf(z.Inpt.v.ClrS);J[1]=p.indexOf(z.Otpt.v.ClrS)},gHsbP:function(z,J){var p=["RGBC","HSBl","HSLC"];
z.Inpt.v.ClrS=p[J[0]];z.Otpt.v.ClrS=p[J[1]]},"sMxm ":function(z,J){var p="preserveShape";J[0]=z.Rds.v.val;
J[1]=z[p]?["squareness","Rndn"].indexOf(z[p].v[p]):0},"gMxm ":function(z,J){var p="preserveShape";z.Rds.v.val=J[0];
z[p]={t:"enum",v:{preserveShape:["squareness","Rndn"][J[1]]}}},"sMnm ":function(z,J){var p="preserveShape";
J[0]=z.Rds.v.val;J[1]=z[p]?["squareness","Rndn"].indexOf(z[p].v[p]):0},"gMnm ":function(z,J){var p="preserveShape";
z.Rds.v.val=J[0];z[p]={t:"enum",v:{preserveShape:["squareness","Rndn"][J[1]]}}},sMtnB:function(z,J){J[0]=[z.Angl.v];
J[1]=z.Dstn.v.val;console.log(J)},gMtnB:function(z,J){z.Angl.v=typeof J[0]=="number"?J[0]:J[0][0];z.Dstn.v.val=J[1]},sOfst:function(z,J){J[0]=z.Hrzn.v;
J[1]=z.Vrtc.v;J[2]=["Rpt","Bckg","Wrp"].indexOf(z.Fl.v.FlMd)},gOfst:function(z,J){z.Hrzn.v=J[0];z.Vrtc.v=J[1];
z.Fl.v.FlMd=["Rpt","Bckg","Wrp"][J[2]]},sPnch:function(z,J){J[0]=z.Amnt.v},gPnch:function(z,J){z.Amnt.v=J[0]},"sPlr ":function(z,J){J[0]=["RctP","PlrR"].indexOf(z.Cnvr.v.Cnvr)},"gPlr ":function(z,J){z.Cnvr.v.Cnvr=["RctP","PlrR"][J[0]]},sRple:function(z,J){J[0]=z.Amnt.v;
J[1]=["Sml","Mdm","Lrg"].indexOf(z.RplS.v.RplS)},gRple:function(z,J){z.Amnt.v=J[0];z.RplS.v.RplS=["Sml","Mdm","Lrg"][J[1]]},sTwrl:function(z,J){J[0]=z.Angl.v},gTwrl:function(z,J){z.Angl.v=J[0]},sZgZg:function(z,J){J[0]=z.Amnt.v;
J[1]=z.NmbR.v;J[2]=["ArnC","OtFr","PndR"].indexOf(z.ZZTy.v.ZZTy)},gZgZg:function(z,J){z.Amnt.v=J[0];
z.NmbR.v=J[1];z.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][J[2]]},sUnsM:function(z,J){J[0]=z.Amnt.v.val;J[1]=z.Rds.v.val;
J[2]=z.Thsh.v},gUnsM:function(z,J){z.Amnt.v.val=J[0];z.Rds.v.val=J[1];z.Thsh.v=J[2]},sWave:function(z,J){J[0]=z.NmbG.v;
J[1]=z.WLMn.v;J[2]=z.WLMx.v;J[3]=z.AmMn.v;J[4]=z.AmMx.v;J[5]=z.SclH.v;J[6]=z.SclV.v;J[7]=["WvSn","WvTr","WvSq"].indexOf(z.Wvtp.v.Wvtp);
J[8]=["WrpA","RptE"].indexOf(z.UndA.v.UndA);J[9]=z.RndS.v},gWave:function(z,J){z.NmbG.v=J[0];z.WLMn.v=J[1];
z.WLMx.v=J[2];z.AmMn.v=J[3];z.AmMx.v=J[4];z.SclH.v=J[5];z.SclV.v=J[6];z.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][J[7]];
z.UndA.v.UndA=["WrpA","RptE"][J[8]];if(J[9]!=null){var p=parseInt(J[9]);if(isNaN(p))p=248325464;p=Math.max(0,Math.min(268435455,p));
z.RndS.v=p}},sDspl:function(z,J){J[0]=z.HrzS.v;J[1]=z.VrtS.v;J[2]=0;J[3]=["WrpA","RptE"].indexOf(z.UndA.v.UndA)},gDspl:function(z,J){z.HrzS.v=J[0];
z.VrtS.v=J[1];z.UndA.v.UndA=["WrpA","RptE"][J[3]];z.DspF.v.pth=J[4]},sbrit:function(z,J){J[0]=z.Brgh?z.Brgh.v:0;
J[1]=z.Cntr?z.Cntr.v:0;J[2]=z.useLegacy?z.useLegacy.v:!1},gbrit:function(z,J){z.Brgh.v=J[0];z.Cntr.v=J[1];
if(J[2]!=null)z.useLegacy.v=J[2]}};em.a5i=function(z){var J=new i_(0,0);if(z.enab.v==!1)return J;var p=z.filterFXList.v;
for(var g=0;g<p.length;g++){var n=p[g].v;if(n.enab.v==!1)continue;var B=em.Jt(n),c=em._r(B,n.Fltr?n.Fltr.v:null);
if(c.x>J.x)J.x=c.x;if(c.y>J.y)J.y=c.y}return J};em._r=function(z,J){var p=0,n=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(z)!=-1){var B=J.Rds?J.Rds.v.val:1;
p=n=B*2.57}if(z=="MtnB")p=n=J.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,perspectiveWarpTransform,Frgm,Flam".split(",").indexOf(z)!=-1){p=n=1e4}if(z=="GEfc")return hj._r(J);
return new i_(Math.ceil(p),Math.ceil(n))};em.Mn=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
em.gd=function(z,J){var p={o:J.Nb>>16,k:J.Nb>>8&255,X:J.Nb&255},n={o:J.Gh>>16,k:J.Gh>>8&255,X:J.Gh&255},B=em.names[z];
if(B==null)B=fs.names[z];var c=z;for(var t in fs.tD)if(fs.tD[t]==z)c=t;var u={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:j0.get(B)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:a.Wi.yR(p)},BckC:{t:"Objc",v:a.Wi.yR(n)},filterID:{t:"long",v:c.length==4?e.aLG(c):777}}},v=em.J0(z);
if(v)u.v.Fltr={t:"Objc",v:v};return u};em.Pz=function(z,J,p,n){var B=Date.now(),c=co.Pw&&Math.max(n.r,n.$)<=co.$l.getParameter(co.$l.MAX_TEXTURE_SIZE),t=a.zr(p);
if(z<1){var u=Math.round(z*5),v=[1,2,1,2,[40,26,13,6,4,2][u],2,1,2,1];v=a.iM.ns(v);if(!c){a.Ie(p);var A=p.slice(0);
a.iM.Jf(A,p,n.r,n.$,v,!0);a.xI(p)}else{var $=n.r,X=n.$,U=co.Ud(0,$,X,t);U.set(p);var w=co.Ud(1,$,X,t),P=new Float32Array([1/$,1/X]);
co.C4(w);co.filter.PW({I:co.filter.ajY,lw:P,aB$:new Float32Array(v)},U.zu);w.get(p)}}else{var k=[];while(J!=2&&z*[1,2.4][J]>20&&k.length<4){var T=a.Wq(p,n);
k.push(p,n);p=T.R1;n=T.S;z/=2}var $=n.r,X=n.$;if(!c||J==2&&z>15){a.Ie(p);if(J==0)a.zM.aKU(p,n,z);if(J==1)a.zM.a5N(p,n,z);
if(J==2)a.zM.auy(p,n,z);a.xI(p)}else{var U=co.Ud(0,$,X,t);U.set(p);var w=co.Ud(1,$,X,t),P=new Float32Array([1/$,1/X]);
if(J==0){var Z=1;while(Z<z)Z<<=1;co.C4(w);co.filter.PW({I:co.filter.b6,lw:P,nN:z,z2:[0,0,Z]},U.zu);co.C4(U);
co.filter.PW({I:co.filter.b6,lw:P,nN:z,z2:[0,1,Z]},w.zu);U.get(p)}else if(J==1){var i=3,V=a.zM.ahZ(z,i);
for(var g=0;g<i;g++){var _=V[g]>>>1,y=1;while(y<_)y<<=1;if(_==0)continue;co.C4(w);co.filter.PW({I:co.filter.b6,lw:P,nN:_,z2:[0,0,y]},U.zu);
co.C4(U);co.filter.PW({I:co.filter.b6,lw:P,nN:_,z2:[0,1,y]},w.zu)}U.get(p)}else{var Z=1;while(Z<z)Z<<=1;
co.C4(w);co.filter.PW({I:co.filter.b6,lw:P,nN:z,z2:[0,0,Z]},U.zu);w.get(p)}}var E=Date.now();while(k.length!=0){var F=k.pop(),d=k.pop();
a.scale.a4_(p,n.r,n.$,d,F.r,F.$);p=d;n=F}}};em.a8J=function(z,J,p,n){for(var g=0;g<z.length;g++){p[g]=z[g]*(1/255);
n[g]=0}FFT.fft2d(p,n);var B=J>>>1,c=16384,t=128,v=100;while(t<J){t<<=1;c<<=2}var u=255/Math.log(c),A=-100;
for(var $=0;$<J;$++)for(var X=0;X<B;X++){var U=J+B+$&J-1,w=p[U*J+X],P=n[U*J+X],k=Math.sqrt(w*w+P*P),T=Math.atan2(P,w);
z[$*J+X]=Math.round(u*Math.log(k+1));z[$*J+B+X]=Math.round((Math.PI+T)*(255*.5/Math.PI))}};em.am_=function(z,J,p,n){p.fill(0);
n.fill(0);var B=J>>>1,c=16384,t=128;while(t<J){t<<=1;c<<=2}var u=255/Math.log(c),v=[],A=[],$=[];for(var g=0;
g<256;g++){v[g]=Math.exp(g/u)-1;var X=g*(2*Math.PI/255)-Math.PI;A[g]=Math.sin(X);$[g]=Math.cos(X)}for(var U=0;
U<J;U++)for(var w=0;w<B;w++){var P=J+B+U&J-1,k=v[z[U*J+w]],X=z[U*J+B+w],T=k*$[X],Z=k*A[X];p[P*J+w]=T;
n[P*J+w]=Z;if(w!=0){var i=P==0?P*J+J-w:(J-P)*J+(J-w);p[i]=T;n[i]=-Z}}FFT.ifft2d(p,n);for(var g=0;g<z.length;
g++){z[g]=Math.max(0,Math.min(255,~~(.5+255*p[g])))}};em.anh=new ArrayBuffer(512);em.a2l=function(z){var J=em.anh,p=z.length;
if(J.byteLength<p)em.anh=J=new ArrayBuffer(p);var n=new Uint8Array(J);for(var g=0;g<p;g+=4){n[g]=z[g];
n[g+1]=z[g+1];n[g+2]=z[g+2];n[g+3]=z[g+3]}return J};em.Rm=function(z,J,p,n,B,c,t){var u,v,A=a.zr(J.buffer);
if(c==null)c={buffer:a.j(J.buffer.length,A),S:J.S.P()};c.buffer.set(J.buffer);var $="Blr ,BlrM,Shrp,ShrM,GsnB,boxblur,smartSharpen,UnsM,HghP".split(","),X=A!=8&&$.indexOf(z)==-1;
if(X){u=J.buffer;v=c.buffer;J.buffer=a.hg(u,8);c.buffer=a.hg(v,8)}c=em.a9n(z,J,p,n,B,c,t);if(X){J.buffer=u;
a.hg(c.buffer,A,v);c.buffer=v}return c};em.a9n=function(z,J,p,n,B,c,t){var u=p&&p.RndS?p.RndS.v>>>1:0,v=a.zr(J.buffer),A=a.hW(v);
if(z=="GEfc"){var $=[];if(p.GEfs){var X=p.GEfs.v;for(var g=0;g<X.length;g++){var U=X[g].v;if(U.GELv&&U.GELv.v==!1)continue;
$.push(U)}}else $=[p];for(var g=0;g<$.length;g++){var w;if(g==0)hj.Rm(z,J,$[g],n,B,c,t);else{if(w==null)w={buffer:a.j(J.buffer.length),S:J.S.P()};
a._U(c.buffer,w.buffer);hj.Rm(z,w,$[g],n,B,c,t)}}}if(z=="Dila"){var P=p.Crop.v.val,k=p.Rds.v.val+P;k=k*k;
if(k==0)return;var T=J.S,Z=T.r,i=T.$,V=Z*i,_=J.buffer,w=c.buffer,E=a.j(V);a.Tm(_,E,3);if(P!=0){var F=T.P();
F.Lr(1,1);var d=a.j(F.C());a._1(E,T,d,F);a.oU(d);a.style.stroke(d,d,F,P);a.oU(d);a._1(d,F,E,T)}var x=a.style.BB(E,Z,i);
w.fill(0);for(var f=0;f<i;f++)for(var Q=0;Q<Z;Q++){var g=f*Z+Q,m=g<<1,H=g<<2,S=x[m],R=x[m+1];if(S*S+R*R<k){var I=(f+R)*Z+(Q+S)<<2;
w[H]=_[I];w[H+1]=_[I+1];w[H+2]=_[I+2];w[H+3]=255}}}if(z=="Adobe Camera Raw Filter"){var T=J.S,Z=T.r,i=T.$,D=a.hg(J.buffer,32),G=a.G(p);
delete G.Upri;delete G.GuUr;iS(D,Z,i,D,G);a.hg(D,8,c.buffer)}if(z=="Fct "){var T=J.S,Z=T.r,i=T.$,V=Z*i,C=V*4;
function O(cU){var h9=cU.slice(0);for(var f=0;f<3;f++)for(var Q=0;Q<3;Q++)h9[f*3+Q]=cU[(2-Q)*3+f];return h9}function Y(f_,bE,hw,hQ){var f5=0;
for(var f=0;f<3;f++)for(var Q=0;Q<3;Q++)f5+=bE[f*3+Q]*f_[(hQ-1+f)*Z+hw-1+Q];return f5}var h=[8,5,2,5,2,-1,2,-1,-4],r=[5,5,5,2,2,2,-1,-1,-1],W=[2,2,2,2,2,2,2,2,2],N=[];
N.push(h);for(var g=0;g<3;g++)N.push(O(N[N.length-1]));N.push(r);for(var g=0;g<3;g++)N.push(O(N[N.length-1]));
N.push(W);for(var g=0;g<9;g++)N[g]=a.iM.ns(N[g]);var o=[-Z-1,-Z,-Z+1,-1,0,1,Z-1,Z,Z+1],K=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],l=a.j(V),aV=new Float32Array(V),j=a.j(V);
for(var M=0;M<3;M++){a.Tm(J.buffer,l,M);for(var s=0;s<1;s++){for(var f=1;f<i-1;f++)for(var Q=1;Q<Z-1;
Q++){var l2=f*Z+Q,gm=l[l2];aV[l2]=1e9;for(var g=0;g<9;g++){var iz=Y(l,N[g],Q,f),dC=(iz-gm)*(iz-gm);if(dC<aV[l2])aV[l2]=dC}}for(var f=1;
f<i-1;f++)for(var Q=1;Q<Z-1;Q++){var dL=0,cP=1e9;for(var g=0;g<9;g++){var id=f*Z+Q+o[g],dC=aV[id];if(dC<cP){cP=dC;
dL=l[id]}}j[f*Z+Q]=dL}l.set(j)}a.DE(j,c.buffer,M)}}if(z=="adaptCorrect"){var T=J.S,Z=T.r,i=T.$,V=Z*i,C=V*4,jR=p.sdwM.v,hC=jR.Amnt.v.val/100,eJ=jR.Wdth.v.val/100,el=jR.Rds.v,eu=p.hglM.v,jY=eu.Amnt.v.val/100,fN=eu.Wdth.v.val/100,jC=eu.Rds.v;
a.axN.Oj(J.buffer,c.buffer,Z,i,hC,eJ,el,jY,fN,jC,p.ClrC.v/100,p.Cntr.v/100)}if(z=="denoise"){var T=J.S,Z=T.r,i=T.$,kF=p.channelDenoise.v[0].v;
a.axY.a0d(J.buffer,Z,i,c.buffer,kF.Amnt.v/10,kF.EdgF.v/100)}if(z=="HsbP"){var i6=p.Inpt.v.ClrS,kT=p.Otpt.v.ClrS,T=J.S,Z=T.r,i=T.$,V=Z*i;
for(var g=0;g<V;g++){var H=g*4,s=J.buffer[H]*(1/255),kY=J.buffer[H+1]*(1/255),h9=J.buffer[H+2]*(1/255);
if(i6=="RGBC"){}else if(i6=="HSLC"){var j=a.no(s,kY,h9);s=j.o;kY=j.k;h9=j.X}else if(i6=="HSBl"){var j=a.aFF(s,kY,h9);
s=j.o;kY=j.k;h9=j.X}var bG=s,dQ=kY,jn=h9;if(kT=="RGBC"){}else if(kT=="HSLC"){var j=a.X5(s,kY,h9);bG=j.tK;
dQ=j.Q5;jn=j.w8}else if(kT=="HSBl"){var j=a.acZ(s,kY,h9);bG=j.tK;dQ=j.Q5;jn=j.X}c.buffer[H]=~~(255*bG);
c.buffer[H+1]=~~(255*dQ);c.buffer[H+2]=~~(255*jn)}}if(z=="Fbrs"){var T=J.S,Z=T.r,i=T.$;a.O.aeC(J.buffer,Z,i,c.buffer,[p.Vrnc.v,p.Strg.v,u]);
var b1=a.j(Z*i);a.Tm(c.buffer,b1,0);a.oU(b1);hj.um(b1,c.buffer,n,B)}if(z=="Frgm"){var T=J.S,Z=T.r,i=T.$,c8=J.buffer.slice(0);
a.Ie(c8);a.O.aaM(c8,Z,i,c.buffer);a.xI(c.buffer)}if(z=="Flam"){var T=J.S,Z=T.r,i=T.$,j_=p.Clr.v,fQ={I:p.Type.v+1,length:p.Leng.v,a5x:p.RndL.v,rM:p.Widt.v,aoL:p.Angl.v,adW:p.Intr.v,aI8:p.Adpt.v,color:{o:j_.Rd.v,k:j_.Grn.v,X:j_.Bl.v},Qr:p.Qual.v+1,cp:p.Turb.v,HA:p.Jag.v,YF:p.Opct.v.val,Ml:p.Lins.v,aiz:p.Botm.v,style:p.Styl.v+1,shape:p.Shap.v+1,af5:p.RnSh.v,a71:p.Arng.v,an5:!1};
if(t[3]==null)return;var cM=t[3],jK=cM[0],aw=cM[1],ez=jK[aw.length!=0?aw[0]:0];if(ez==null){alert("Make a path first");
return}var g4=ez.add.vmsk.u,ht=a.z.ZR(g4),gx=[];for(var I=0;I<ht;I++){var kE=a.z.Qq(g4,I),kS=g4[kE];
if(kS.length<2)continue;var h7=[];gx.push(h7);var b7=kS.length-(kS.I==3?1:0);for(var l2=0;l2<b7;l2++){var i7=g4[kE+1+l2],fp=l2==kS.length-1?g4[kE+1]:g4[kE+1+l2+1],jB=i7.cy,fB=i7.M3,h=fp.FV,df=fp.cy,dt=Math.round(i_.mT(jB,df)/5);
for(var g5=0;g5<dt;g5++){var bR=g5/dt,h$=1-bR,Q=h$*h$*h$*jB.x+3*h$*h$*bR*fB.x+3*h$*bR*bR*h.x+bR*bR*bR*df.x,f=h$*h$*h$*jB.y+3*h$*h$*bR*fB.y+3*h$*bR*bR*h.y+bR*bR*bR*df.y;
h7.push(Q,f)}}}var ih=[gx,fQ],jt=Date.now(),jN=bf(ih);ip(J.buffer,Z,i,c.buffer,jN,ih)}if(z=="Dfs "){var T=J.S,Z=T.r,i=T.$,jk=["Nrml","DrkO","LghO","anisotropic"].indexOf(p.Md.v.DfsM);
if(jk<3)a.O.afd(J.buffer,Z,i,c.buffer,[jk]);else{var ih=[1.4,1.6,1,4,!1,2,[0,0,.001]],T=J.S.P();T.x=T.y=0;
a.rm.filter(J.buffer,T,c.buffer,ih)}}if(z=="TrcC"){var T=J.S,Z=T.r,gE=Z<<2,i=T.$,cW=p.Lvl.v,dR=p.Edg.v.CntE=="Lwr",gV=J.buffer,gv=c.buffer;
a.Y1(gv,1,1,1);function ga(cR,il){dI(cR,il);dI(cR+1,il+1);dI(cR+2,il+2)}function iC(cR,il){fV(cR,il);
fV(cR+1,il+1);fV(cR+2,il+2)}function dI(cR,il){var bG=gV[cR],dQ=gV[il];if(bG>=cW&&dQ<cW)gv[cR]=0;if(bG<cW&&dQ>=cW)gv[il]=0}function fV(cR,il){var bG=gV[cR],dQ=gV[il];
if(bG>cW&&dQ<=cW)gv[il]=0;if(bG<=cW&&dQ>cW)gv[cR]=0}if(dR)for(var f=1;f<i;f++)for(var Q=1;Q<Z;Q++){var H=f*Z+Q<<2;
ga(H,H-4);ga(H,H-gE)}else for(var f=1;f<i;f++)for(var Q=1;Q<Z;Q++){var H=f*Z+Q<<2;iC(H,H-4);iC(H,H-gE)}}if(z=="Embs"){var T=J.S,Z=T.r,i=T.$,dH=-p.Angl.v*Math.PI/180,aj=p.Hght.v,cH=p.Amnt.v/100;
aj/=2;var S=Math.cos(dH)*aj,R=Math.sin(dH)*aj,gV=J.buffer,gv=c.buffer;gv.fill(0);var ge=new Uint32Array(gV.buffer),j=new Uint8Array(4),ko=new Uint32Array(j.buffer);
for(var f=0;f<i;f++)for(var Q=0;Q<Z;Q++){var iI=0,av=0,gF=0;if(0<=Q+S&&Q+S<Z&&0<=f+R&&f+R<i){a.F.V8(Q+S+.5,f+R+.5,ge,Z,i,ko,0,0);
iI+=j[0]-128;av+=j[1]-128;gF+=j[2]-128}if(0<=Q-S&&Q-S<Z&&0<=f-R&&f-R<i){a.F.V8(Q-S+.5,f-R+.5,ge,Z,i,ko,0,0);
iI-=j[0]-128;av-=j[1]-128;gF-=j[2]-128}var H=f*Z+Q<<2;gv[H]=Math.max(0,Math.min(255,iI*cH+128));gv[H+1]=Math.max(0,Math.min(255,av*cH+128));
gv[H+2]=Math.max(0,Math.min(255,gF*cH+128));gv[H+3]=gV[H+3]}}if(z=="ShrE"){var T=J.S,Z=T.r,i=T.$;a.O.aFR(J.buffer,Z,i,c.buffer)}if(z=="Dspc"){var T=J.S,Z=T.r,i=T.$;
a.O.a3C(J.buffer,Z,i,c.buffer)}if(z=="Slrz"){var kG=c.buffer,kh=128;for(var g=0;g<kG.length;g+=4){if(kG[g]>kh)kG[g]=255-kG[g];
if(kG[g+1]>kh)kG[g+1]=255-kG[g+1];if(kG[g+2]>kh)kG[g+2]=255-kG[g+2]}}if(z=="Wnd "){var T=J.S,Z=T.r,i=T.$,hB=["Wnd","Blst","Stgr"],kf=p.WndM.v.WndM;
a.O.i9(J.buffer,Z,i,c.buffer,[hB.indexOf(kf),p.Drct.v.Drct!="Left"])}if(z=="Bokh"){var T=J.S,Z=T.r,i=T.$,V=Z*i,C=V*4,jg=J.buffer.slice(0),fU=p.BkDi.v.BtDi,cv=p.BkDc,bZ=p.BkDs.v,iB=p.BkDp.v/255;
if(fU=="BeIn")iB=0;var l8=57*(.3+.7*((Z+i)/2)/1750)*(p.BkIb.v/100)*(1+.2*Math.pow(iB,.1)),lj=parseInt(p.BkIs.v.BtIs.slice(3)),ee=-p.BkIr.v*Math.PI/180,gU=[];
for(var g=0;g<8;g++){var ad=ee+g*(Math.PI*2/lj),a7=ee+(g+1)*(Math.PI*2/lj),dm=Math.cos(ad),az=Math.sin(ad),al=Math.cos(a7),dl=Math.sin(a7),fi=[0,0,0];
a.bp.x7([[dm,az,1,0],[al,dl,1,0],[1,1,1,1]],fi);if(fi[2]>0){fi[0]*=-1;fi[1]*=-1;fi[2]*=-1}gU.push(fi[0],fi[1],fi[2],0)}if(fU=="BeIn"){a.o2(jg,0);
iB=1}else if(fU=="BeIt"&&cv.v.BtDc=="BeCt"){}else{var fT;if(fU=="BeIt"&&cv.v.BtDc=="BeCm")fT=t[1];else if(fU=="BeIa")fT=t[2][cv.v];
if(fT==null){a.o2(jg,0)}else{var l;if(fT.S.Vm(T))l=fT.N;else l=fT.TJ(T);a.DE(l,jg,3)}}if(bZ)for(var g=0;
g<C;g+=4)jg[g+3]=255-jg[g+3];if(co.Pw){var cL=jg,fx=Z,by=i,ci=1,hG=(p.BkSb.v==0||p.BkSt.v==255)&&fU=="BeIn";
if(!hG){var k4=0;for(var g=0;g<C;g+=4)k4+=Math.abs(iB-jg[g+3]*(1/255));k4=k4/V*l8;var dr=3.14*k4*k4*Z*i/3e6;
if(dr>2e3){alert("too large radius");return}}while(hG&&3*(l8/ci)*(l8/ci)*Z*i>500*2e3*2e3){var dk=a.atE(jg,new fw(0,0,fx,by));
jg=dk.R1;fx=dk.S.r;by=dk.S.$;ci*=2}var jt=Date.now(),_=co.Ud(0,fx,by);_.set(jg);var hS=co.Ud(1,Z,i);
co.C4(hS);co.filter.PW({I:co.filter.aFw,lw:new Float32Array([1/fx,1/by]),avv:iB,TU:l8/ci,akv:new Float32Array([p.BkSb.v/100,p.BkSt.v/255]),amz:new Float32Array([p.BkNa.v/100,p.BkNt.v.BtNt=="BeNu"?0:1,p.BkNm.v?1:0]),a3O:new Float32Array(gU.slice(0,16)),aER:new Float32Array(gU.slice(16))},_.zu);
hS.get(c.buffer);var lo=c.buffer;for(var g=0;g<C;g+=4)lo[g+3]=J.buffer[g+3]}}if(z=="blurbTransform"){a.Bh.apply(p,J,c)}if(z=="rigidTransform"){var jt=Date.now(),gB=em.a2l,_=J.buffer.slice(0),bw=0,c9=0;
a.Ie(_);var Z=J.S.r,i=J.S.$,fg=p.puppetShapeList.v,eN=[],k2=[],eh=[],cE=[];for(var l2=0;l2<fg.length;
l2++){var hp=fg[l2].v,m=bw*2,jL=c9*3,aL=hp.originalVertexArray.v.length>>>2,cZ=hp.indexArray.v.length>>>2,hL=new Float32Array(gB(hp.originalVertexArray.v));
for(var g=0;g<aL;g++)eN[m+g]=hL[g];var e4=new Float32Array(gB(hp.deformedVertexArray.v));for(var g=0;
g<aL;g++)k2[m+g]=e4[g];var eb=new Uint32Array(gB(hp.indexArray.v));for(var g=0;g<cZ;g++)eh[jL+g]=bw+eb[g];
var b0=[],cX=[],eH=hp.PnDp.v;for(var g=0;g<eH.length;g++){b0.push(hp.pinVertexIndices.v[g].v);cX.push(eH[g].v)}var fq=a.uu.ap6(hL,eb,b0,cX);
for(var g=0;g<fq.length;g++)cE[bw+g]=fq[g];bw+=aL>>>1;c9+=~~(cZ/3)}var j9=new fA(1,0,0,1,-J.S.x,-J.S.y);
a.b.h(eN,j9,eN);a.b.h(k2,j9,k2);c.buffer.fill(0);a.uu.NE(_,Z,i,c.buffer,Z,i,eN,k2,cE,eh);a.xI(c.buffer)}if(z=="perspectiveWarpTransform"){var k5=a.l2.bF(p);
if(k5.th==0){c.buffer.set(J.buffer);return}var cT=k5.Ee,c0=k5.MX,j6=k5.BR,iI=J.S,eK=c.S;c.buffer.fill(0);
var a0=new fA;a0.translate(-eK.x,-eK.y);function kq(bE,l1,g,s){var cR=l1[g]*2,il=l1[g+1]*2,bH=l1[g+2]*2,iN=l1[g+3]*2;
return a.F.Q$([bE[cR],bE[cR+1],bE[il],bE[il+1],bE[bH],bE[bH+1],bE[iN],bE[iN+1]],s)}if(cT.length==4){var k$=kq(c0,cT,0),ki=kq(j6,cT,0),f_=a.F.iE(ki,a.F.oU(k$)),ln=L.tp.Zx([J.buffer,iI],1,f_,null,null,c.S,!1);
if(ln)a.nk(ln.buffer,ln.S,c.buffer,c.S)}else{var ib=[],d5=[],d4=[];for(var g=0;g<cT.length;g+=4){var k$=kq(c0,cT,g),ki=kq(j6,cT,g),fZ=[],fI=24,ae=1/(fI-1),fd=d5.length>>>1;
for(var f=0;f<fI;f++)for(var Q=0;Q<fI;Q++){fZ.push(Q*ae,f*ae);if(Q<fI-1&&f<fI-1)ib.push(fd+f*fI+Q,fd+f*fI+Q+1,fd+(f+1)*fI+Q+1,fd+f*fI+Q,fd+(f+1)*fI+Q+1,fd+(f+1)*fI+Q)}var jB=fZ.slice(0);
a.F.h(k$,jB);d5=d5.concat(jB);var fB=fZ.slice(0);a.F.h(ki,fB);d4=d4.concat(fB)}a.b.h(d5,a0,d5);a.b.h(d4,a0,d4);
var jt=Date.now();a.uu.NE(J.buffer,iI.r,iI.$,c.buffer,eK.r,eK.$,d5,d4,null,ib)}}if(z=="lightFilterGradient"){function l4(jB){var fd=1/Math.sqrt(jB[0]*jB[0]+jB[1]*jB[1]+jB[2]*jB[2]);
jB[0]*=fd;jB[1]*=fd;jB[2]*=fd}var Z=J.S.r,i=J.S.$,V=Z*i,jt=Date.now(),kn=a.j(V),dQ=.3,jn=.7;a.rz(c.buffer,kn);
var gb=kn.slice(0);a.zM.zH(gb,c.S,16);var fX=kn.slice(0);a.zM.zH(fX,c.S,8);var gS=kn,cA=new Float32Array(V),jq=p.Dtl.v,cC=jq[2].v,kJ=jq[1].v,lc=jq[0].v,f5=p.Scl.v*40*p.textureScale.v/(cC+kJ+lc);
cC*=f5;kJ*=f5;lc*=f5;for(var g=0;g<V;g++){var g8=gb[g]*(1/255),gC=fX[g]*(1/255),b8=gS[g]*(1/255);b8=b8*b8;
cA[g]=cC*g8+kJ*gC+lc*b8}var jU=p.blur.v;if(jU!=0){a.zM.zH(cA,c.S,jU)}var aE=Z-1,bV=i-1;for(var f=0;f<i;
f++)for(var Q=0;Q<Z;Q++){var g=f*Z+Q,H=g*4,gO=cA[g],S=dQ*(cA[g+(Q==aE?0:1)]-gO)+jn*(gO-cA[g-(Q==0?0:1)]),R=dQ*(cA[g+(f==bV?0:Z)]-gO)+jn*(gO-cA[g-(f==0?0:Z)]),jB=[1,0,S],fB=[0,1,R];
l4(jB);l4(fB);var a7=jB[0],br=jB[2],aK=fB[1],am=fB[2],bj=-br*aK,cS=-a7*am,eA=a7*aK;c.buffer[H]=~~(127.5+bj*127.5);
c.buffer[H+1]=~~(127.5+cS*127.5);c.buffer[H+2]=~~(127.5+eA*127.5)}}if(z=="defr"){var Z=J.S.r,i=J.S.$;
fc(J.buffer,Z,i,c.buffer)}if(z=="dDFT"||z=="iDFT"){function jD(lj){if(lj==0)return 1;lj--;lj|=lj>>1;
lj|=lj>>2;lj|=lj>>4;lj|=lj>>8;lj|=lj>>16;return lj+1}var Z=J.S.r,i=J.S.$,dP=jD(Math.max(Z,i)),eE=dP>>>1,ek=new fw(0,0,dP,dP),gw=new fw(0,0,Z,i);
gw.y=dP-i>>>1;var hH=Z>>>1,ab=new fw(0,gw.y,hH,i),ie=new a.rk(Z*i);a.eJ(J.buffer,ie);var kj=new Float64Array(dP*dP),cd=new Float64Array(dP*dP),l=a.j(dP*dP);
FFT.init(dP);var la=[ie.o,ie.k,ie.X];for(var g=0;g<3;g++){var bO=la[g];l.fill(0);if(z=="dDFT"){a._1(bO,gw,l,ek);
em.a8J(l,dP,kj,cd);a._1(l,ek,bO,gw,ab);ab.x+=hH;ek.x-=eE-hH;a._1(l,ek,bO,gw,ab);ab.x-=hH;ek.x+=eE-hH}else{a._1(bO,gw,l,ek,ab);
ab.x+=eE;gw.x+=eE-hH;a._1(bO,gw,l,ek,ab);ab.x-=eE;gw.x-=eE-hH;em.am_(l,dP,kj,cd);a._1(l,ek,bO,gw)}}a.s7(ie,c.buffer)}if(z=="Avrg"){var kX=0,aU=0,hR=0,dn=0,hP=1;
for(var g=0;g<J.buffer.length;g+=4){var E=J.buffer[g+3];kX+=J.buffer[g]*E;aU+=J.buffer[g+1]*E;hR+=J.buffer[g+2]*E;
dn+=E}var g_=1/dn;kX=Math.round(hP*(kX*g_)+(1-hP)*255);aU=Math.round(hP*(aU*g_)+(1-hP)*255);hR=Math.round(hP*(hR*g_)+(1-hP)*255);
a.Y1(c.buffer,kX/255,aU/255,hR/255)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(z)!=-1){var iT=p.Rds?p.Rds.v.val:1;
em.Pz(iT,z=="boxblur"?0:1,c.buffer,c.S);if(z=="UnsM"||z=="smartSharpen"){var cH=(p.Amnt?p.Amnt.v.val:200)/100,hn=0;
if(z=="UnsM")hn=p.Thsh.v*A/255;else cH*=.75;for(var g=0;g<J.buffer.length;g++){if((g&3)==3){c.buffer[g]=J.buffer[g];
continue}var gm=J.buffer[g],iz=c.buffer[g],bP=cH*(gm-iz);if(bP>0)bP=Math.max(0,bP-hn);else bP=Math.min(0,bP+hn);
c.buffer[g]=Math.max(0,Math.min(A,gm+bP))}}if(z=="HghP")for(var g=0;g<J.buffer.length;g++){if((g&3)==3){c.buffer[g]=J.buffer[g];
continue}var gm=J.buffer[g],iz=c.buffer[g];c.buffer[g]=Math.max(0,Math.min(A,.5*A+gm-iz))}}if(z=="AdNs"){var cq=new Uint8ClampedArray(c.buffer.buffer),fE=255*p.Nose.v.val/100,h_;
if(p.Dstr.v.Dstr=="Gsn")h_=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else h_=function(){return Math.random()*2-1};for(var g=0;g<cq.length;g+=4){var s=cq[g],kY=cq[g+1],h9=cq[g+2],eY,cr,bD;
if(p.Mnch.v){eY=cr=bD=h_()}else{eY=h_();cr=h_();bD=h_()}s+=fE*eY;kY+=fE*cr;h9+=fE*bD;cq[g]=s;cq[g+1]=kY;
cq[g+2]=h9}}var jt=Date.now();if(z=="Mdn "||z=="DstS"||z=="Mxm "||z=="Mnm "||z=="surfaceBlur"){var s=0,eK=p.Thsh,hp=0;
if(eK)eK=eK.v;else eK=0;if(z=="Mdn "||z=="Mxm "||z=="Mnm "||z=="surfaceBlur")s=p.Rds.v.val;else s=p.Rds.v;
var gn=10*Math.ceil(s/10),Z=J.S.r,i=J.S.$,dj=["Mnm ","Mxm ","surfaceBlur"].indexOf(z),jw=p.preserveShape;
if(jw&&jw.v.preserveShape=="Rndn")hp=1;var gP=(hp==0?1:.75)*[.73,.73,1.2][dj]*(Z*i*Math.pow(gn*gn,1.05))/6022387,h2=.6*(Z*i*Math.pow(s,1/2.6))/6500;
if(z=="Mxm "||z=="Mnm ")h2=Z*i/13e3;if(co.Pw&&dj!=-1&&(gP<h2||hp==1)&&gP<1e3){var _=co.Ud(0,Z,i);_.set(J.buffer);
var w=co.Ud(1,Z,i);co.C4(w);co.filter.PW({I:co.filter.aD6,lw:new Float32Array([1/Z,1/i]),TU:s,a38:eK/255,z2:[hp,dj,gn]},_.zu);
w.get(c.buffer)}else if(z=="Mxm "||z=="Mnm "){var Z=J.S.r,i=J.S.$;a._J.aJQ(J.buffer,c.buffer,Z,i,1+Math.floor(p.Rds.v.val)*2,z=="Mxm ")}else{s=Math.round(s);
a.pH.rC=.5;a.pH.qc=eK;var fu=z=="surfaceBlur"?1:0;a.pH.SB(J.buffer,c.buffer,Z,i,s,fu);if(z=="DstS")for(var g=0;
g<Z*i*4;g++){var k6=Math.abs(J.buffer[g]-c.buffer[g]);if(k6<=eK)c.buffer[g]=J.buffer[g]}}}if(z=="ClrH"){var ab=J.S.P(),dD=0;
ab.x=ab.y=0;var s=p.Rds.v;s=s*Math.sqrt(2);var Z=ab.r,i=ab.$,ej=a.za(Z,i),f7=new Float32Array(256);for(var g=0;
g<256;g++){var j_=g/255,iT=Math.sqrt(j_*(1/Math.PI));if(iT>.5)iT=.5+Math.pow((iT-.5)/(.564-.5),1.35)*.2;
f7[g]=s*iT}var iu=Math.floor(2*Z/s),f4=Math.floor(2*i/s),dd=10-(s-54*Math.sqrt(2))*1.5,bI=[J.buffer,ab];
a.pG(bI);while(bI[dD*2+1].r>1.5*Z/s)dD++;var iI=bI[dD*2+1],gF=bI[dD*2],aM=a.j(iI.C()),ci=1/(1<<dD),fx=iI.r,by=iI.$,l=a.j(Z*i);
for(var f_=0;f_<3;f_++){a.Tm(gF,aM,f_);a.oU(aM);var dH=Math.PI*p["Ang"+(f_+1)].v/180,a0=new fA;a0.translate(-Z/2,-i/2);
a0.rotate(-dH);a0.translate(Z/2,i/2);ej.clearRect(0,0,Z,i);for(var f=-(f4>>>2);f<f4;f++)for(var Q=-(iu>>>2);
Q<iu;Q++){var kb=a0.g$(new i_((Q+.5)*s-dd,(f+.5)*s-dd)),iv=Math.max(0,Math.min(kb.x*ci,fx-.51)),kV=Math.max(0,Math.min(kb.y*ci,by-.51)),V=~~a.F.rl(iv,kV,aM,fx,by);
ej.beginPath();ej.arc(kb.x,kb.y,f7[V],0,2*Math.PI);ej.fill()}var gf=ej.getImageData(0,0,Z,i);a.Tm(gf.data,l,3);
a.oU(l);a.DE(l,c.buffer,f_)}}if(z=="Crst"||z=="Pntl"){var Z=J.S.r,i=J.S.$,fu=z=="Crst"?a.dv.a2h:a.dv.a8F;
fu(J.buffer,Z,i,c.buffer,p.ClSz.v,[Math.round(B.o),Math.round(B.k),Math.round(B.X)])}if(z=="Mztn"){var Z=J.S.r,i=J.S.$,V=Z*i,ie=new a.rk(V),bd=[ie.o,ie.k,ie.X];
a.eJ(J.buffer,ie);var kf=p.MztT.v.MztT,kP={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[kf],jt=Date.now(),hz=[];
for(var g=0;g<V;g++){hz[g]=Math.random()}var V=Z*i,jE=Math.round(V*kP[0]),kd=V-Z-1;for(var g=0;g<jE;
g++){var gy=Math.random(),eo=1;if(gy<.5){eo=Z;gy*=2}else gy=2*(gy-.5);var cR=Math.floor(gy*kd),il=cR+eo;
hz[cR]=hz[il]}var ig=Math.round(Z*kP[1]);for(var f=0;f<i;f++)for(var g=0;g<ig;g++){var gy=a.B.OB(f*V+g),cR=f*Z+Math.floor(gy*(Z-1));
hz[cR]=hz[cR+1]}var eC=new Float64Array(256);for(var g=0;g<256;g++){var e9=g/255,kC=2*(e9<.5?e9:1-e9);
kC=kP[2]+Math.pow(kC,kP[3])*(1-kP[2]);e9=e9<.5?kC*.5:1-kC*.5;eC[g]=e9}for(var M=0;M<3;M++){var l=bd[M];
for(var f=0;f<i;f++){for(var Q=0;Q<Z;Q++){var g=f*Z+Q,iZ=l[g],e9=eC[iZ],gy=hz[g];l[g]=gy>e9?0:255}}}a.s7(ie,c.buffer)}if(z=="Msc "){var ht=p.ClSz.v.val,Z=J.S.r,i=J.S.$,hf=Math.ceil(Z/ht),kA=Math.ceil(i/ht),fn=a.j(hf*kA*4);
a.scale.ov(J.buffer,Z,i,fn,hf,kA,1/ht);a.scale.ov(fn,hf,kA,c.buffer,Z,i,ht)}if(z=="Clds"||z=="DfrC"){var Z=c.S.r,i=c.S.$,V=Z*i,kl=a.j(V);
if(z=="Clds")a.dz(c.buffer,4278190080);var gj=a.j(256*4);for(var g=0;g<256;g++){var H=g<<2,cU=g/255,eb=1-cU;
gj[H]=Math.round(cU*n.o+eb*B.o);gj[H+1]=Math.round(cU*n.k+eb*B.k);gj[H+2]=Math.round(cU*n.X+eb*B.X)}a.O.a7Y(J.buffer,Z,i,kl);
var iF=c.buffer;for(var g=0;g<V;g++){var H=g<<2,M=kl[g]<<2,s=gj[M],kY=gj[M+1],h9=gj[M+2];if(z=="Clds"){iF[H]=s;
iF[H+1]=kY;iF[H+2]=h9}else{iF[H]=Math.abs(iF[4*g]-s);iF[H+1]=Math.abs(iF[4*g+1]-kY);iF[H+2]=Math.abs(iF[4*g+2]-h9)}}}if(z=="LnsF"){var Z=J.S.r,i=J.S.$,kf=["Zm","Nkn","Nkn1","PnVs"].indexOf(p.Lns.v.Lns),bc=p.FlrC.v,kI=[Math.min(kf,2),p.Brgh.v/100,bc.Hrzn.v,bc.Vrtc.v],jt=Date.now();
a.aoT(J.buffer,Z,i,c.buffer,kI)}var a1=["Blr ","BlrM","Shrp","ShrM"].indexOf(z);if(a1!=-1){var js=a1>1,Z=J.S.r,i=J.S.$,bY=a.iM.Gb[a1],iM=J.buffer.slice(0);
if(!js)a.Ie(iM);a.iM.Jf(iM,c.buffer,Z,i,bY,!0,!1);if(!js)a.xI(c.buffer)}if(z=="MtnB"){var k7=-p.Angl.v*Math.PI/180,g7=p.Dstn.v.val/2,jt=Date.now(),Z=J.S.r,i=J.S.$,T=J.S.P();
T.x=T.y=0;if(co.Pw){var jt=Date.now(),cw=c.buffer;cw.set(J.buffer);a.Ie(cw);var ap=co.Ud(0,Z,i);ap.set(cw);
var gV=a.j(4);gV[0]=Math.round(128+127*Math.cos(k7));gV[1]=Math.round(128+127*Math.sin(k7));a.dz(cw,new Uint32Array(gV.buffer)[0]);
var iY=co.Ud(1,Z,i);iY.set(cw);co.C4(ap,T);ap.Xq(T);co.filter.PW({I:co.filter.wF,qX:iY.zu,lw:new Float32Array([1/Z,1/i]),VU:g7/2,PC:1},ap.Qz);
ap.get(cw);a.xI(cw)}else{var cx=c.buffer,j9=new fA;j9.rotate(k7);var j=L.tp.EG([J.buffer,J.S],j9);em.Pz(g7,2,j.buffer,j.S);
j9.oU();j=L.tp.EG([j.buffer,j.S],j9,!1,cx.buffer,c.S);if(!a.hL(J.buffer))for(var g=0;g<cx.length;g+=4)cx[g+3]=255}console.log(Date.now()-jt)}if(z=="RdlB"){var Z=J.S.r,i=J.S.$,cH=p.Amnt.v,cj=p.BlrM.v.BlrM=="Zm",f_=p.Cntr.v,hw=f_.Hrzn.v,hQ=f_.Vrtc.v,S=Math.max(hw,1-hw)*Z,R=Math.max(hQ,1-hQ)*i,iT=Math.sqrt(S*S+R*R),gI=2*Math.PI*iT*1.5,gz=Math.round(gI),kB=Math.round(iT),ab=new fw(0,0,gz,kB),jb=a.j(gz*kB*4),hh=cj?4:1,is=cj?.6:8*((Z+i)/2)/1400,d3=.1,ci=1,iu=1;
a.F.an9(J.buffer,Z,i,jb,gz,kB,hw,hQ,hh,d3,ci,iu);var i9=cj?a.j(gz*kB*4):null;if(cj){a.F.dg(jb,i9,gz,kB);
var bR=i9;i9=jb;jb=bR;ab.r=kB;ab.$=gz}em.Pz(is*cH,2,jb,ab);if(cj){a.F.dg(jb,i9,kB,gz);var bR=i9;i9=jb;
jb=bR;ab.r=gz;ab.$=kB}a.F.arg(jb,gz,kB,c.buffer,Z,i,hw,hQ,hh,d3,ci,iu)}if(z=="Plr "){var Z=J.S.r,i=J.S.$;
if(p.Cnvr.v.Cnvr=="RctP")a.F.arg(J.buffer,Z,i,c.buffer,Z,i,.5,.5,1,0,2,Z/i);else a.F.an9(J.buffer,Z,i,c.buffer,Z,i,.5,.5,1,0,2,Z/i)}if(z=="FndE"){var Z=J.S.r,i=J.S.$;
a.iM.aCq(J.buffer,c.buffer,Z,i)}if(z=="oilPaint"){var dH=p.LghD.v*Math.PI/180,hT=[Math.cos(dH),Math.sin(dH),.001],ih=[p.stylization.v,p.cleanliness.v,p.brushScale.v,p.microBrush.v,p.lightingOn.v,p.specularity.v,hT],T=J.S.P();
T.x=T.y=0;a.rm.filter(J.buffer,T,c.buffer,ih)}if(z=="Ofst"){var Z=J.S.r,i=J.S.$,cV=new Uint32Array(J.buffer.buffer),d6=new Uint32Array(c.buffer.buffer);
d6.fill(0);var f6=p.Hrzn.v,iP=p.Vrtc.v,ah=p.Fl.v.FlMd;if(ah=="Bckg"||ah=="Rpt"){var ab=J.S.P();ab.offset(f6,iP);
a.nk(cV,ab,d6,c.S)}if(ah=="Rpt"){var dm,az,al,dl,l7;f6=Math.max(-Z,Math.min(Z,f6));iP=Math.max(-i,Math.min(i,iP));
dm=f6>0?f6:0;al=f6>0?Z:Z+f6;az=iP>0?0:iP+i;dl=iP>0?iP:i;l7=iP>0?0:Z*(i-1);for(var f=az;f<dl;f++)for(var Q=dm;
Q<al;Q++)d6[f*Z+Q]=cV[l7+Q-f6];dm=f6>0?0:Z+f6;al=f6>0?f6:Z;az=iP>0?iP:0;dl=iP>0?i:i+iP;l7=f6>0?0:Z-1;
for(var f=az;f<dl;f++)for(var Q=dm;Q<al;Q++)d6[f*Z+Q]=cV[l7+Z*(f-iP)];if(f6>=0&&iP>=0){dm=0;al=f6;az=0;
dl=iP;l7=0}if(f6>=0&&iP<0){dm=0;al=f6;az=i+iP;dl=i;l7=Z*(i-1)}if(f6<0&&iP>=0){dm=Z+f6;al=Z;az=0;dl=iP;
l7=Z-1}if(f6<0&&iP<0){dm=Z+f6;al=Z;az=i+iP;dl=i;l7=Z*i-1}for(var f=az;f<dl;f++)for(var Q=dm;Q<al;Q++)d6[f*Z+Q]=cV[l7]}if(ah=="Wrp"){f6=(f6+100*Z)%Z;
iP=(iP+100*i)%i;var ab=new fw(f6-Z,iP-i,Z,i);a.nk(cV,ab,d6,c.S);ab.offset(Z,0);a.nk(cV,ab,d6,c.S);ab.offset(0,i);
a.nk(cV,ab,d6,c.S);ab.offset(-Z,0);a.nk(cV,ab,d6,c.S)}}if(z=="Rept"){var e2=p.Rsft.v.val/100,a8=p.SpcX.v.val/100;
a8=Math.max(a8,-.99);var h3=p.SpcY.v.val/100;h3=Math.max(h3,-.99);var ci=p.Scl.v.val/100,j9=new fA;j9.rotate(p.Angl.v*Math.PI/180);
j9.scale(ci,ci);var aP={buffer:J.buffer,S:J.S};a.PP(aP);if(aP.S.Sz()){aP.buffer=J.buffer;aP.S=J.S}var iF=aP.buffer,ab=aP.S,aR=a.an(iF,ab,0),jW=new Uint32Array(iF.buffer)[0];
if(!aR.Sz()&&!aR.Vm(ab)){var fm=a.j(aR.C()*4);a.nk(iF,ab,fm,aR);iF=fm;ab=aR}ab.x=ab.y=0;jW=a8==0&&h3==0&&!a.hL(J.buffer)||p.SpcC.v?jW:0;
function hs(Q){return Q<0?Math.ceil(Q):Math.floor(Q)}var fr=j9.g$(new i_(ab.r,0));fr.x=hs(fr.x);fr.y=hs(fr.y);
var cY=j9.g$(new i_(0,ab.$));cY.x=hs(cY.x);cY.y=hs(cY.y);var j=L.tp.EG([iF,ab],j9,!1),gw=j.S,gv=j.buffer,g2=Math.round(gw.x),fz=Math.round(gw.y),cB=Math.max(c.S.r,c.S.$)/Math.min(ab.r*ci*(1+a8),ab.$*ci*(1+h3));
cB=Math.ceil(cB*1.7);a.dz(c.buffer,jW);for(var f=-cB;f<cB;f++){for(var Q=-cB;Q<cB;Q++){var ky=(Q+f*e2)*(1+a8),i0=f*(1+h3);
gw.x=g2+Math.round(ky*fr.x+i0*cY.x);gw.y=fz+Math.round(ky*fr.y+i0*cY.y);if(gw.SH(c.S))a.B.Oe("norm",gv,gw,c.buffer,c.S,gw,1)}}}if(z=="Ctoa"){var B=a.Wi.Um(p.Clr.v),eK=p.Trsp.v.val/100,eM=p.Opct.v.val/100;
eK=eM==0?0:eK/eM;var Z=J.S.r,i=J.S.$,eL=~~B.o,c7=~~B.k,h4=~~B.X,l7=J.buffer,id=c.buffer;for(var f=0;
f<i;f++)for(var Q=0;Q<Z;Q++){var g=f*Z+Q,H=g<<2,ab=l7[H],dy=l7[H+1],iF=l7[H+2],hE=Math.abs(eL-ab),jp=Math.abs(c7-dy),d1=Math.abs(h4-iF),aH=Math.max(hE,jp,d1)*(1/255);
aH=Math.max(0,Math.min(1,aH/eM));var f9=aH==0?0:1/aH,gL=eK==1?1:Math.max(0,Math.min(1,(aH-eK)/(1-eK)));
id[H]=Math.max(0,Math.min(255,(ab-eL*(1-aH))*f9));id[H+1]=Math.max(0,Math.min(255,(dy-c7*(1-aH))*f9));
id[H+2]=Math.max(0,Math.min(255,(iF-h4*(1-aH))*f9));id[H+3]=Math.min(id[H+3],~~(.5+gL*255))}}if(z=="Dthr"){var ea=hj.a1X(p.Plte.v),gT=new Uint32Array(hj.tA(ea));
a.Yn(new Uint8Array(gT.buffer));var Z=J.S.r,i=J.S.$,V=Z*i,jc=V*4,gF=J.buffer.slice(0),cN=c.buffer;a.Yn(gF);
var ib=a.j(Z*i);UPNG.encode.dither(gF,Z,i,gT,cN,ib,p.Mthd?p.Mthd.v:1);a.aoh(cN)}if(z=="Part"){var aD=[p.RndS.v,p.Cont.v/100,p.Size.v,p.Dpth.v/100,p.Brgh.v/100,a.Wi.Um(p.Clr.v),p.Time.v,p.Blnk.v,p.Fall.v,p.Turb.v/100];
a.rn.fF(c.buffer,J.S.r,J.S.$,aD)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(z)!=-1){var cc=t[0],Z=J.S.r,i=J.S.$,eC,jQ=0;
if(z=="LqFy")eC=kD.yi(new Uint8Array(p.LqMe.v).buffer);else{var bo=3;if(z=="Wave")bo=Math.min(3,p.WLMn.v);
eC={Tx:Math.floor(Z/bo),tK:Math.floor(i/bo)};eC.map=new Float32Array(eC.Tx*eC.tK*2);if(z=="LnCr"){var hw=.5*(eC.Tx-1),hQ=.5*(eC.tK-1),fP=Math.max(Math.abs(0-hw),Math.abs(1-hw)),jS=Math.max(Math.abs(0-hQ),Math.abs(1-hQ)),a0=Math.sqrt(fP*fP+jS*jS),h6=0,fF=0,le=-1,be=2,ci=p.LnSi.v/100,cj=1/ci,iJ=p.LnIa.v/100,fW=iJ==0?1e-6:iJ*4.6,f1=cj/a0;
for(var f=0;f<eC.tK;f++){for(var Q=0;Q<eC.Tx;Q++){var S=(Q-hw)*f1,R=(f-hQ)*f1,s=Math.sqrt(S*S+R*R)*fW,ew=Math.atan(s),iy=iJ>0?ew/s:s/ew,iu=hw+a0*iy*S,f4=hQ+a0*iy*R,g=f*eC.Tx+Q<<1;
eC.map[g]=iu-Q;eC.map[g+1]=f4-f}}}else if(z=="Kale"){var hf=eC.Tx,kA=eC.tK,hl=(hf-1)*.5,bV=(kA-1)*.5,hX=p.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,bh=p.Mirr.v,fa=Math.PI*2/bh,aN=.5*fa;
for(var f=0;f<kA;f++)for(var Q=0;Q<hf;Q++){var S=Q-hl,R=f-bV,eI=Math.sqrt(S*S+R*R),dH=Math.atan2(R,S)+hX;
dH=dH%fa;if(dH>aN)dH=fa-dH;var iu=hl+Math.cos(dH-hX)*eI,f4=bV+Math.sin(dH-hX)*eI,g=(f*hf+Q)*2;eC.map[g]=iu-Q;
eC.map[g+1]=f4-f}}else if(z=="Dspl"&&cc.length!=0){jQ=p.UndA.v.UndA=="WrpA"?2:1;var gM=p.DspF.v.pth,fk,kQ=p.DspD,gu,hg,fC;
if(kQ){var kX=kQ.v;hg=kX[1]*256+kX[0];gu=kX[5]*256+kX[4];fC=new Uint8Array(kX.slice(10,10+gu*hg))}else{for(var g=0;
g<cc.length;g++)if(cc[g].A_==gM)fk=cc[g];if(fk==null)fk=cc[0];fk.dT();var hE=fk.GS[1],fC=a.j(hE.C());
a.rz(fk.GS[0],fC);gu=hE.r;hg=hE.$}eC={Tx:gu,tK:hg};eC.map=new Float32Array(eC.Tx*eC.tK*2);var iU=2.54*p.HrzS.v*gu/Z,jx=2.54*p.VrtS.v*hg/i;
for(var f=0;f<eC.tK;f++){for(var Q=0;Q<eC.Tx;Q++){var k6=-.5+fC[f*gu+Q]*(1/255),g=f*eC.Tx+Q<<1;eC.map[g]=k6*iU;
eC.map[g+1]=k6*jx}}}else if(z=="Pnch"||z=="Twrl"||z=="Sphr"||z=="ZgZg"){var cH=1,k7=Math.PI,iH=0,fH=1,e_=0,f_=3,ht=1.53,iy=1;
if(z=="Pnch"||z=="Sphr"||z=="ZgZg")cH=p.Amnt.v/100;if(z=="ZgZg"){fH=p.NmbR.v;e_=["ArnC","OtFr","PndR"].indexOf(p.ZZTy.v.ZZTy)}if(z=="Twrl")k7=p.Angl.v*Math.PI/180;
if(z=="Sphr")iH=["Nrml","HrzO","VrtO"].indexOf(p.SphM.v.SphM);function fu(Q){Q=Math.pow(Q,1-Q*.3-Q*Q*(Q*Q)*.5);
return-.225*Math.sin(Q*Math.PI)}function da(i,bE,s,dm,az,al,dl,iy){var S=al-dm,R=dl-az,cQ=dm-i,l1=az-bE,cU=S*S+R*R,h9=2*(S*cQ+R*l1),f_=cQ*cQ+l1*l1-s*s,bH=Math.sqrt(h9*h9-4*cU*f_),iN=iy/(2*cU),af=(-h9+bH)*iN,bn=(-h9-bH)*iN;
return iy*Math.min(af,bn)}var hf=eC.Tx,kA=eC.tK,hl=eC.Tx/2,bV=eC.tK/2,he=1/hl,s=Math.sqrt(f_*f_+1)/f_,bO=f_+Math.sqrt(1/(f_*f_));
if(cH<0){f_=1.72;s=1;bO=f_;ht=-1;iy=-1}for(var f=0;f<kA;f++){var R=(f-bV)/bV;for(var Q=0;Q<hf;Q++){var S=(Q-hl)*he;
if(iH==1)R=0;else if(iH==2)S=0;var dx=Math.sqrt(S*S+R*R);if(dx<1&&dx!=0){var g=f*eC.Tx+Q<<1;if(z=="Pnch"){var dv=-cH*fu(dx)/dx;
eC.map[g]=S*dv*hl;eC.map[g+1]=R*dv*bV}else if(z=="Sphr"){var bR=da(0,bO,s,0,0,dx,f_,iy),dd=ht*cH*(bR-1);
eC.map[g]=S*dd*hl;eC.map[g+1]=R*dd*bV}else if(z=="Twrl"){var dH=Math.atan2(R,S)-k7*(1-dx)*(1-dx),gg=Math.cos(dH),fL=Math.sin(dH);
eC.map[g]=(dx*gg-S)*hl;eC.map[g+1]=(dx*fL-R)*bV}else if(z=="ZgZg"){var gg=0,fL=0,hy=cH*(.5-.5*Math.cos(dx*fH*2*Math.PI))*(1-dx);
if(e_==0){var dH=Math.atan2(R,S)-3.5*hy;gg=dx*Math.cos(dH);fL=dx*Math.sin(dH)}if(e_==1){hy=100/Z*hy/dx;
gg=(1-hy)*S;fL=(1-hy)*R}if(e_==2){var W=512/Z*hy*Math.PI/4;gg=W+S;fL=W+R}eC.map[g]=(gg-S)*hl;eC.map[g+1]=(fL-R)*bV}}}}}else if(z=="Shr "){var g4=a.G(p.ShrP.v);
a.kC.h(g4,new fA(0,255/127,255/127,0,-2,0));var eg=a.kC.ZX(g4,eC.tK,!0);jQ=p.UndA.v.UndA=="WrpA"?2:1;
for(var f=0;f<eC.tK;f++){var S=-eg[f]*eC.Tx;for(var Q=0;Q<eC.Tx;Q++){var g=f*eC.Tx+Q<<1;eC.map[g]=S}}}else if(z=="Wave"){var hc=p.NmbG.v,aO=p.WLMn.v,aa=p.WLMx.v,kH=p.AmMn.v*(Math.PI/4),dp=p.AmMx.v*(Math.PI/4),hd=p.SclH.v/100,iL=p.SclV.v/100,kf=p.Wvtp.v.Wvtp,hy=Math.sin;
if(kf=="WvTr")hy=function(Q){Q*=2/Math.PI;return-.5+Math.abs(Q%2-1)};if(kf=="WvSq")hy=function(Q){Q*=2/Math.PI;
return 1+2*Math.floor(Q%2-1)};var iA=[],fK=new a.B.en(p.RndS.v);for(var g=0;g<hc;g++){iA.push(fK.get()*10);
iA.push(Math.PI*bo/(aO+fK.get()*(aa-aO)));iA.push(hd*(kH+fK.get()*(dp-kH))/bo);iA.push(fK.get()*10);
iA.push(Math.PI*bo/(aO+fK.get()*(aa-aO)));iA.push(iL*(kH+fK.get()*(dp-kH))/bo)}var gH=[],c2=[],aT=Math.max(eC.Tx,eC.tK);
for(var g=0;g<aT;g++){var S=0,R=0;for(var g5=0;g5<hc;g5++){var eD=g5*6;S+=iA[eD+2]*hy(iA[eD]+g*iA[eD+1]);
R+=iA[eD+5]*hy(iA[eD+3]+g*iA[eD+4])}gH[g]=R;c2[g]=S}for(var f=0;f<eC.tK;f++){for(var Q=0;Q<eC.Tx;Q++){var g=f*eC.Tx+Q<<1;
eC.map[g]=c2[f];eC.map[g+1]=gH[Q]}}jQ=p.UndA.v.UndA=="WrpA"?2:1}else if(z=="Rple"){jQ=1;var cH=p.Amnt.v/100,gJ=4,hJ=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],bl=1,jI=1,cQ=0,gh=["Sml","Mdm","Lrg"].indexOf(p.RplS.v.RplS);
if(gh==0){bl=1;jI=.2;cQ=3}if(gh==2){bl=1;jI=2;cQ=-1;hJ=hJ.reverse()}var ec=function(Q,f){var f_=Math.cos,f5=0;
for(var g=0;g<gJ;g++)for(var g5=0;g5<gJ;g5++)f5+=hJ[g*gJ+g5]*f_(Q*(g+cQ)-f*(g5+cQ));return f5},cI=Math.floor(50/bo),eU=new Float32Array(cI*cI*2),ds=jI*cH*.5/bo;
for(var f=0;f<cI;f++)for(var Q=0;Q<cI;Q++){var hw=bl*Q*2*Math.PI/cI,hQ=bl*f*2*Math.PI/cI,ij=ec(hw,hQ),S=(ec(hw+.01,hQ)-ij)*100,R=(ec(hw,hQ+.01)-ij)*100,g=(f*cI+Q)*2;
eU[g]=S*ds;eU[g+1]=R*ds}for(var f=0;f<eC.tK;f++)for(var Q=0;Q<eC.Tx;Q++){var fL=f%cI,gg=Q%cI,g=f*eC.Tx+Q<<1,gd=fL*cI+gg<<1;
eC.map[g]=eU[gd];eC.map[g+1]=eU[gd+1]}}}a.EZ.TB(J.buffer,c.buffer,Z,i,null,eC.map,eC.Tx,eC.tK,jQ)}return c};
var hj={};hj.a20="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");hj.g2="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
hj.O$=["ScrC","ScrD","ScrL"];hj.yY=["SDRD","SDHz","SDLD","SDVt"];hj.Im="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
hj.Z6="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");hj.sR="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
hj.uC=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];hj.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
hj.J0=function(z){var J;if(z=="ClrP")J={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(z=="Ct")J={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(z=="DryB")J={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(z=="FlmG")J={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(z=="Frsc")J={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(z=="NGlw")J={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(z=="PntD")J={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(z=="PltK")J={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(z=="PlsW")J={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(z=="PstE")J={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(z=="RghP")J={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(z=="SmdS")J={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(z=="Spng")J={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(z=="Undr")J={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(z=="Wtrc")J={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(z=="AccE")J={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(z=="AngS")J={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(z=="Crsh")J={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(z=="DrkS")J={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(z=="InkO")J={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(z=="Smie")J={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(z=="Spt")J={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(z=="SprS")J={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(z=="DfsG")J={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(z=="Gls")J={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(z=="OcnR")J={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(z=="BsRl")J={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(z=="ChlC")J={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(z=="Chrc")J={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(z=="Chrm")J={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(z=="CntC")J={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(z=="GraP")J={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(z=="HlfS")J={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(z=="NtPr")J={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(z=="Phtc")J={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(z=="Plst")J={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(z=="Rtcl")J={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(z=="Stmp")J={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(z=="TrnE")J={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(z=="WtrP")J={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(z=="GlwE")J={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(z=="Crql")J={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(z=="Grn")J={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(z=="MscT")J={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(z=="Ptch")J={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(z=="StnG")J={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(z=="Txtz")J={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
J.__name="Filter Gallery";J.classID="GEfc";J.GEfk={t:"enum",v:{GEft:z}};J.GELv={t:"bool",v:!0};return J};
hj.zc=function(z,J){for(var g=0;g<J.length;g++)~~(J[g]=(z[4*g]+z[4*g+1]+z[4*g+2])*(1/3))};hj.aC1=function(z,J,p,n){var B=UPNG.quantize(z,J);
B={Lz:B.inds,nY:hj.aAo(B.plte)};return B};hj.aAo=function(z){var J=[];for(var g=0;g<z.length;g++){var p=z[g].est.q;
J.push(["",{o:p[0]*255,k:p[1]*255,X:p[2]*255,k6:p[3]*255}])}return J};hj.tA=function(z){var J=[];for(var g=0;
g<z.length;g++){var p=z[g][1];J.push(p.k6<<24|p.X<<16|p.k<<8|p.o)}return J};hj.awK=[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"];
hj.a1X=function(z){var J=[];if(z==0)J=[["",{o:0,k:0,X:0,k6:255}],["",{o:255,k:255,X:255,k6:255}]];else{var p=[[1,1,1],[2,2,2],[3,3,2]][z-1],n=[1<<p[0],1<<p[1],1<<p[2]],B=[~~(255/(n[0]-1)),~~(255/(n[1]-1)),~~(255/(n[2]-1))];
J=[];for(var c=0;c<n[0];c++)for(var t=0;t<n[1];t++)for(var u=0;u<n[2];u++)J.push(["",{o:c*B[0],k:t*B[1],X:u*B[2],k6:255}])}return J};
hj.Rm=function(z,J,p,n,B,c,t){z=p.GEfk.v.GEft;var u=J.S,v=u.r,A=u.$,$=v*A,X=p.FlRs?p.FlRs.v>>>1:0;function U(F){return F.o<<24|F.k<<16|F.X<<8|255}if(z=="ClrP")a.O.ajP(J.buffer,v,A,c.buffer,[p.Pncl.v,p.StrP.v,p.PprB.v]);
if(z=="Ct"){var w=p.NmbL.v,P=p.EdgS.v,k=hj.aC1(J.buffer.buffer,w*2,v,A);a.YM.awB(k.Lz,v,A,Math.floor((v+A)*.015));
for(var g=0;g<k.Lz.length;g++)k.Lz[g]++;var T=new Uint8Array((v+2)*(A+2));a._1(k.Lz,new fw(1,1,v,A),T,new fw(0,0,v+2,A+2));
var Z=a.b.gT(T,v+2,A+2,P,!1),i=new fA(1,0,0,1,-1,-1);for(var g=0;g<Z.length;g++)a.b.h(Z[g].path.L,i,Z[g].path.L);
var V=k.nY,_=a.za(v,A);for(var g=0;g<Z.length;g++){var E=Z[g],F=V[E.color-1][1];if(F.k6==0)continue;
_.fillStyle="rgba("+F.o+","+F.k+","+F.X+","+F.k6/255+")";_.beginPath();Typr.U.pathToContext({crds:E.path.L,cmds:E.path.Ao},_);
_.fill()}if(!u.Sz()){var d=_.getImageData(0,0,v,A);a._U(d.data,c.buffer)}}if(z=="DryB")a.O.axF(J.buffer,v,A,c.buffer,[p.BrsS.v,p.BrsD.v,p.Txtr.v]);
if(z=="FlmG")a.O.ap5(J.buffer,v,A,c.buffer,[p.Grn.v,p.HghA.v,p.Intn.v,X]);if(z=="Frsc")a.O.aD4(J.buffer,v,A,c.buffer,[p.BrsS.v,p.BrsD.v,p.Txtr.v]);
if(z=="NGlw")a.O.aja(J.buffer,v,A,c.buffer,[p.Sz.v,p.Brgh.v,U(a.Wi.Um(p.Clr.v)),U(n),U(B)]);if(z=="PltK")a.O.a1i(J.buffer,v,A,c.buffer,[p.StrS.v,p.StDt.v,p.Sftn.v]);
if(z=="PstE")a.O.aJc(J.buffer,v,A,c.buffer,[p.EdgT.v,p.EdgI.v,p.Pstr.v]);if(z=="RghP")a.O.a9B(J.buffer,v,A,c.buffer,[p.StrL.v,p.StDt.v,hj.Im.indexOf(p.TxtT.v.TxtT),p.Scln.v,p.Rlf.v,hj.g2.indexOf(p.LghD.v.LghD),p.InvT.v]);
if(z=="SmdS")a.O.a3u(J.buffer,v,A,c.buffer,[p.StrL.v,p.HghA.v,p.Intn.v,p.FlRs?p.FlRs.v:0,X]);if(z=="Spng")a.O.arT(J.buffer,v,A,c.buffer,[p.BrsS.v,p.Dfnt.v,p.Smth.v,p.FlRs?p.FlRs.v:0,X]);
if(z=="Undr")a.O.ajW(J.buffer,v,A,c.buffer,[p.BrsS.v,p.TxtC.v,hj.Im.indexOf(p.TxtT.v.TxtT),p.Scln.v,p.Rlf.v,hj.g2.indexOf(p.LghD.v.LghD),p.InvT.v]);
if(z=="Wtrc")a.O.a6N(J.buffer,v,A,c.buffer,[p.BrsD.v,p.ShdI.v,p.Txtr.v]);if(z=="AccE")a.O.aK$(J.buffer,v,A,c.buffer,[p.EdgW.v,p.EdgB.v,p.Smth.v]);
if(z=="AngS")a.O.aIo(J.buffer,v,A,c.buffer,[p.DrcB.v,p.StrL.v,p.Shrp.v]);if(z=="Crsh")a.O.anT(J.buffer,v,A,c.buffer,[p.StrL.v,p.Shrp.v,p.Strg.v]);
if(z=="DrkS")a.O.a5J(J.buffer,v,A,c.buffer,[p.Blnc.v,p.BlcI.v,p.WhtI.v]);if(z=="InkO")a.O.aq0(J.buffer,v,A,c.buffer,[p.StrL.v,p.DrkI.v,p.LghI.v]);
if(z=="Smie")a.O.an0(J.buffer,v,A,c.buffer,[p.StrW.v,p.StrP.v,p.Cntr.v]);if(z=="DfsG")a.O.aqB(J.buffer,v,A,c.buffer,[p.Grns.v,p.GlwA.v,p.ClrA.v,U(B),X]);
if(z=="CntC")a.O.ahC(J.buffer,v,A,c.buffer,[p.FrgL.v,p.BckL.v,hj.Im.indexOf(p.TxtT.v.TxtT),p.Scln.v,p.Rlf.v,hj.g2.indexOf(p.LghD.v.LghD),p.InvT.v,U(B),U(n)]);
if(z=="ChlC")a.O.a7U(J.buffer,v,A,c.buffer,[p.ChrA.v,p.ChlA.v,p.StrP.v,X,U(B),U(n)]);var x=z=="GraP"||z=="Chrc"||z=="Plst"||z=="Rtcl"||z=="Stmp"||z=="TrnE";
if(x){var f=a.j(v*A);if(z=="GraP")a.O.abG(J.buffer,v,A,c.buffer,[p.StrL.v,p.LgDr.v,hj.yY.indexOf(p.SDir.v.StrD),X]);
if(z=="Chrc")a.O.ahf(J.buffer,v,A,c.buffer,[p.ChAm.v,p.Dtl.v,p.LgDr.v]);if(z=="Plst")a.O.ahV(J.buffer,v,A,c.buffer,[p.ImgB.v,hj.Z6.indexOf(p.LghP.v.LghP),p.Smth.v]);
if(z=="Rtcl")a.O.ayq(J.buffer,v,A,c.buffer,[p.Dnst.v,p.BlcL.v,p.WhtL.v,X]);if(z=="Stmp")a.O.aJN(J.buffer,v,A,c.buffer,[p.LgDr.v,p.Smth.v]);
if(z=="TrnE")a.O.adj(J.buffer,v,A,c.buffer,[p.ImgB.v,p.Smth.v,p.Cntr.v,X]);a.Tm(c.buffer,f,0);hj.um(f,c.buffer,n,B)}if(z=="NtPr")a.O.aIY(J.buffer,v,A,c.buffer,[p.ImgB.v,p.Grns.v,p.Rlf.v,U(n),U(B),X]);
if(z=="WtrP")a.O.aIc(J.buffer,v,A,c.buffer,[p.FbrL.v,p.Brgh.v,p.Cntr.v,X>>>1]);if(z=="Crql")a.O.agh(J.buffer,v,A,c.buffer,[p.CrcS.v,p.CrcD.v,p.CrcB.v,X]);
if(z=="Grn")a.O.as2(J.buffer,v,A,c.buffer,[p.Intn.v,hj.sR.indexOf(p.Grnt.v.Grnt),p.Cntr.v,U(n),U(B),X]);
if(z=="MscT")a.O.ama(J.buffer,v,A,c.buffer,[p.TlSz.v,p.GrtW.v,p.LghG.v,X]);if(z=="Ptch")a.O.ar_(J.buffer,v,A,c.buffer,[p.SqrS.v,p.Rlf.v,X]);
if(z=="Phtc"){function Q(g4,ht,u,dH){a.zM.zH(ht,u,dH,2);for(var g=0;g<$;g++)ht[g]=Math.max(0,Math.min(255,128+g4[g]-ht[g]))}var m=p.Dtl.v,H=p.Drkn.v,S=a.j($);
a.rz(J.buffer,S);var R=S.slice(0);Q(S,R,u,1);if(m==1){m=2;H=Math.round(H/4)}var I=S.slice(0);Q(S,I,u,m);
for(var g=0;g<$;g++)S[g]=Math.max(0,Math.min(255,255-(R[g]-I[g])*H));hj.um(S,c.buffer,n,B)}if(z=="Spt"||z=="SprS"){var D,G=1,C=1;
D={Tx:Math.floor(v/C),tK:Math.floor(A/C)};D.map=new Float32Array(D.Tx*D.tK*2);var O=new a.B.en(X),Y=new Float32Array(8192),h=p.SprR.v,r=h<20?.018*h:.36+(h-20)*.128;
if(z=="SprS"){r=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][h]}for(var g=0;
g<8192;g++)Y[g]=(-1+2*O.get())*r*70;for(var W=0;W<A;W++)for(var N=0;N<v;N++){var o=W*v+N<<1;D.map[o]=Y[o%7919];
D.map[o+1]=Y[(o+1)%7919]}var K=D.map.slice(0),l=z=="Spt"?p.Smth.v-1:1;if(z=="Spt"&&l!=0){hj.a30(D.map,K,v,A,l);
hj.anG(K,D.map,v,A,l)}if(z=="SprS"){var aV=p.StrL.v>>>1,j=aV==0?2:1;hj.a30(D.map,K,v,A,j);hj.anG(K,D.map,v,A,j);
if(aV!=0){var M=hj.yY.indexOf(p.SDir.v.StrD),s=[1,1,1,0][M],l2=[-1,0,1,1][M],gm=2*aV+1,iz=1/gm;for(var W=0;
W<A;W++)for(var N=0;N<v;N++){var o=W*v+N<<1,dC=0,dL=0;for(var g=0;g<gm;g++){var cP=Math.max(0,Math.min(v-1,N-(aV+g)*s)),id=Math.max(0,Math.min(A-1,W-(aV+g)*l2)),jR=id*v+cP<<1;
dC+=D.map[jR];dL+=D.map[jR+1]}K[o]=dC*iz;K[o+1]=dL*iz}D.map=K}}a.EZ.TB(J.buffer,c.buffer,v,A,null,D.map,D.Tx,D.tK,G)}if(z=="BsRl"||z=="PlsW"||z=="Chrm"){var hC=Date.now(),eJ=a.j($);
a.rz(J.buffer,eJ);var m=p.Dtl.v,el=p.Smth.v;if(m!=15){a.zM.zH(eJ,u,Math.round((15-m)*.5))}var eu=1.4/v,jY=1.4/A,fN=new Float32Array($),jC=new Float32Array($),kF=new Float32Array(c.buffer.buffer);
for(var W=0;W<A;W++)for(var N=0;N<v;N++){var g=W*v+N,s=N==v-1?eJ[g]-eJ[g-1]:eJ[g+1]-eJ[g],l2=W==A-1?eJ[g]-eJ[g-v]:eJ[g+v]-eJ[g],i6=N*eu-.7,kT=W*jY-.7;
fN[g]=s==0?i6:s*.4;jC[g]=l2==0?kT:l2*.4}if(z=="BsRl"){var kY=(2+hj.g2.indexOf(p.LghD.v.LghD))*Math.PI*.25,dC=Math.cos(kY);
if(Math.abs(dC)<.1)dC=0;dC=Math.sign(dC);var dL=Math.sin(kY);if(Math.abs(dL)<.1)dL=0;dL=Math.sign(dL);
var h9=1/(dC*dC+dL*dL),bG=eJ.slice(0);for(var W=0;W<A;W++)for(var N=0;N<v;N++){var g=W*v+N,dQ=Math.max(-1,Math.min(1,dC*fN[g])),jn=Math.max(-1,Math.min(1,dL*jC[g]));
bG[g]=128+127*(dQ+jn)*h9}if(el!=1){a.zM.zH(bG,u,Math.round((el-1)*.5))}hj.um(bG,c.buffer,n,B)}else{if(z=="Chrm")el=5+el;
if(el>1)hj.Pz(fN,jC,kF,u,el-1);if(z=="PlsW"){var b1=new Uint8Array(fN.buffer);for(var g=0;g<$;g++){var c8=g<<2,s=fN[g],l2=jC[g],j_=1/(Math.sqrt(1+s*s)*Math.sqrt(1+l2*l2)),fQ=j_*j_,cM=fQ*fQ,F=~~(255*(cM*cM*fQ));
b1[c8+0]=F;b1[c8+1]=F;b1[c8+2]=F;b1[c8+3]=F}c.buffer.set(J.buffer);a.B.Oe("norm",b1,u,c.buffer,u,u,p.HghS.v/20)}else if(z=="Chrm"){var jK=c.buffer,aw=v>>>1,ez=A>>>1;
for(var g=0;g<$;g++){var c8=g<<2,s=fN[g],l2=jC[g],g4={x:1,y:0,ZO:s};ju.br(g4);var ht={x:0,y:1,ZO:l2};
ju.br(ht);var gx=ju.atS(g4,ht),kE=1/gx.ZO,kS=~~Math.max(0,Math.min(v-1,aw-gx.x*kE*aw)),h7=~~Math.max(0,Math.min(A-1,ez-gx.y*kE*ez)),F=eJ[h7*v+kS];
jK[c8+0]=F;jK[c8+1]=F;jK[c8+2]=F}}}}if(z=="Gls"||z=="OcnR"||z=="Txtz"){var b7=z=="OcnR"?2:hj.Im.indexOf(p.TxtT.v.TxtT),i7=hj.a1(b7),fp=i7[0],eJ=i7[1],jB=fp.r,fB=fp.$,gm=24,jk=0,gE,cW;
function df(dl,fi,fT){return~~(dt*(dl+fi)+8192)&127}var fN=new Float32Array($),jC=new Float32Array($),kF=new Float32Array(c.buffer.buffer),dt=z=="OcnR"?1/(1+(p.RplS.v-1)*.1):100/p.Scln.v;
if(b7==3)dt*=32/22.2;var hC=Date.now(),g5=dt,eu=1.4/v,jY=1.4/A;if(z=="Txtz"){g5*=1/255;gm=256}for(var W=0;
W<A;W++){var bR=df(W,u.y,fB),id=bR+1&127;for(var N=0;N<v;N++){var g=W*v+N,h$=df(N,u.x,jB),cP=h$+1&127,ih=0,jt=0,jN=0;
if(z=="Txtz"){ih=a.F.rl(dt*N,dt*W,eJ,128,128);jt=a.F.rl(dt*N,dt*W+1,eJ,128,128);jN=a.F.rl(dt*N+1,dt*W,eJ,128,128)}else{ih=eJ[bR*jB+h$];
jt=eJ[id*jB+h$];jN=eJ[bR*jB+cP]}fN[g]=Math.max(-gm,Math.min((jN-ih)*g5,gm));jC[g]=Math.max(-gm,Math.min((jt-ih)*g5,gm))}}if(z=="Txtz")hj.aHU(fN,jC,kF,u,6);
else hj.Pz(fN,jC,kF,u,z=="Txtz"?1:z=="OcnR"?3.5/dt:p.Smth.v);if(z=="Txtz")jk=p.InvT.v?-1:1;else if(z=="Gls"){jk=[1,.4,.5,.5,.5,.5,.5][b7]*(Math.exp(p.Dstr.v*.155)-1);
if(p.InvT.v)jk=-jk}else{jk=.5*(Math.exp(p.RplM.v*.155)-1)}var jK=c.buffer;if(z=="Txtz"){var kY=(2+hj.g2.indexOf(p.LghD.v.LghD))*Math.PI*.25,dC=Math.cos(kY),dL=Math.sin(kY);
gE={x:dC,y:dL,ZO:0};ju.br(gE);cW=p.Rlf.v;cW=cW/4+Math.max(0,(cW-35)*2)}function dR(g4,ht,gv){var av=a.B.overF(ht,g4,1),dl=(1-gv)*g4+gv*(gv*ht+(1-gv)*av);
return dl*255}for(var W=0;W<A;W++)for(var N=0;N<v;N++){var g=W*v+N,c8=g<<2,s=fN[g],l2=jC[g],g4={x:1,y:0,ZO:s};
ju.br(g4);var ht={x:0,y:1,ZO:l2};ju.br(ht);var gx=ju.atS(g4,ht);if(z=="Txtz"){var gV=ju.aeA(gx,gE)*jk,gv=1,F=1;
if(gV<0){F=0;gV=-gV}gv=Math.min(1,gV*cW);jK[c8+0]=~~dR(J.buffer[c8]*(1/255),F,gv);jK[c8+1]=~~dR(J.buffer[c8+1]*(1/255),F,gv);
jK[c8+2]=~~dR(J.buffer[c8+2]*(1/255),F,gv)}else{var kE=jk/gx.ZO,kS=~~Math.max(0,Math.min(v-1,N-gx.x*kE)),h7=~~Math.max(0,Math.min(A-1,W-gx.y*kE)),ga=h7*v+kS<<2;
jK[c8+0]=J.buffer[ga];jK[c8+1]=J.buffer[ga+1];jK[c8+2]=J.buffer[ga+2]}}}if(z=="PntD"){var iC=p.Shrp.v*.4,dI=p.BrsT.v.BrsT,fV={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[dI],dH=Math.round(p.Sz.v*.5);
a.pH.rC=fV[0];a.pH.SB(J.buffer,c.buffer,v,A,dH,0,[]);var aj=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];aj=a.iM.ns(aj);
var cH=c.buffer.slice(0);a.iM.Jf(cH,c.buffer,v,A,aj);for(var g=0;g<J.buffer.length;g++){var ge=c.buffer[g]-cH[g];
c.buffer[g]=Math.max(0,Math.min(255,cH[g]+iC*ge))}}if(z=="GlwE"){var ko=c.buffer.slice(0);a.pH.rC=.5;
a.pH.SB(J.buffer,ko,v,A,p.Smth.v>>>1,0,[]);a.iM.aCq(ko,c.buffer,v,A);a._U(c.buffer,ko);a.oU(ko);a.o2(ko,1);
a._J.aJQ(ko,c.buffer,v,A,(p.EdgW.v>>>1)*2+1,!0);var iI=p.EdgB.v/10;for(var g=0;g<ko.length;g++){if((g&3)==3)continue;
var av=c.buffer[g];c.buffer[g]=Math.max(0,Math.min(255,av*iI))}}if(z=="StnG"){a.dv.alB(J.buffer,v,A,c.buffer,p.ClSz.v,[Math.round(n.o),Math.round(n.k),Math.round(n.X)],p.BrdT.v,X)}if(z=="HlfS"){var gF=p.HlSz.v,kG=gF*2+1,kh=p.Cntr.v,hB=hj.O$.indexOf(p.ScrT.v.ScrT),$=v*A,kf=$*4,jg=a.j($),fU=J.buffer,l8=0,ee=0;
hj.zc(fU,jg);a.zM.W7(jg,u,gF);var cv=Math.PI/kG,bZ=new Float64Array(v),dC=new Float64Array(v),iB=new Float64Array(2*v);
for(var N=0;N<v;N++){var h$=(N-(v>>>1))*cv;bZ[N]=h$*h$;dC[N]=Math.cos(h$);var s=N<<1;iB[s]=Math.sin(s*(1/4.5));
iB[s+1]=Math.sin((s+1)*(1/4.5))}for(var W=0;W<A;W++){var bR=(W-(A>>>1))*cv,dL=Math.cos(bR),gU=bR*bR;
for(var N=0;N<v;N++){var F=dL;if(hB==0){var ad=.5+Math.sqrt(bZ[N]+gU)*4.5;F=iB[~~ad]}else if(hB==1){F=dC[N]*dL}var g=W*v+N,a7=jg[g]*(.75+.25*F),gv=fU[(g<<2)+3]*(1/255),dm=Math.max(0,Math.min(255,~~a7));
l8+=dm*gv,ee+=gv;jg[g]=dm}}l8/=ee;var az=128+1.26*(l8-128),iI=.08+.25*Math.abs((128-l8)/128),al=1+iI*kh;
for(var g=0;g<$;g++){var a7=az+(jg[g]-az)*al;jg[g]=Math.max(0,Math.min(255,~~a7))}if(kh>46)a.round(jg);
hj.um(jg,c.buffer,n,B)}for(var g=0;g<J.buffer.length;g+=4)c.buffer[g+3]=J.buffer[g+3]};hj.um=function(z,J,p,n){var B=z.length,c=p.o,t=p.k,u=p.X,v=n.o,A=n.k,$=n.X;
for(var g=0;g<B;g++){var X=z[g]*(1/255),U=1-X,w=g<<2;J[w]=~~(c*U+v*X);J[w+1]=~~(t*U+A*X);J[w+2]=~~(u*U+$*X)}};
hj.a1=function(z){if(z==6)z=2;var J="blocks canvas frosted tinylens brick burlap".split(" ")[z];if(hj.u9==null)hj.u9=[];
if(hj.u9[z]==null){var p,n;if(z==2){n=new fw(0,0,128,128);var B=em.J0("AdNs");B.Mnch.v=!0;B.Dstr.v.Dstr="Gsn";
B.Nose.v.val=50;var p=a.j(n.C()*4),c=p.slice(0);a.dz(c.buffer,4286611584);em.Rm("AdNs",{buffer:c,S:n},B,0,0,{buffer:p,S:n})}else{var t=kL.r7.get("tex/"+J,!0)[0];
n=t.eE;p=new Uint8Array(t.data)}var u=a.j(n.C());a.Tm(p,u,0);hj.u9[z]=[n,u]}return hj.u9[z]};hj.Pz=function(z,J,p,n,B){if(B<=1){B=Math.round(B);
hj.aHU(z,J,p,n,[1,16,4][B]);return}var c=B*.42;if(z){a.zM.zH(z,n,c,3)}if(J){a.zM.zH(J,n,c,3)}};hj.aHU=function(z,J,p,n,B){var c=a.iM.ns([1,2,1,2,B,2,1,2,1]);
if(z){p.set(z);a.iM.akc(z,p,n.r,n.$,c);z.set(p)}if(J){p.set(J);a.iM.akc(J,p,n.r,n.$,c);J.set(p)}};hj._r=function(z){if(z==null)return new i_(0,0);
var J=0,p=z.GEfs?z.GEfs.v:[{v:z}];for(var g=0;g<p.length;g++){var n=p[g].v,c=1e4;if(n.GELv&&!n.GELv.v)continue;
var B=n.GEfk.v.GEft;if(B=="GlwE"||B=="Phtc"||B=="BsRl"||B=="PlsW"||B=="Chrm"||B=="Gls"||B=="OcnR"||B=="InkO")c=0;
J=Math.max(J,c)}return new i_(J,J)};hj.aHX=function(z){var J=[0,0,0,0,0,0,0,0,0,0,0,0,0],p=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][z];
for(var g=0;g<13;g++){var n=g-6;J[g]=1/(p*Math.sqrt(2*Math.PI))*Math.exp(-.5*(n/p)*(n/p))}return J};
hj.a30=function(z,J,p,n,B){var c=hj.aHX(B),t=6,u=13;for(var v=0;v<n;v++)for(var A=0;A<p;A++){var $=v*p+A<<1,X=0,U=0;
for(var g=0;g<u;g++){var w=A+g-t,P=w<0?0:w>=p?p-1:w,k=(v*p+P)*2,T=c[g];X+=T*z[k];U+=T*z[k+1]}J[$]=X;
J[$+1]=U}};hj.anG=function(z,J,p,n,B){var c=hj.aHX(B),t=6,u=13;for(var v=0;v<n;v++)for(var A=0;A<p;A++){var $=v*p+A<<1,X=0,U=0;
for(var g=0;g<u;g++){var w=v+g-t,P=w<0?0:w>=n?n-1:w,k=(P*p+A)*2,T=c[g];X+=T*z[k];U+=T*z[k+1]}J[$]=X;
J[$+1]=U}};function jM(){}jM.jN=[2,5,5,7,4,4];jM.Bk="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
jM.n_="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
jM.he=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
jM.$s=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
jM.pg=function(z){if(z=="passThrough")return"pass";return jM.Bk[jM.n_.indexOf(z)]};jM.oa=function(z){if(z=="pass")return"passThrough";
return jM.n_[jM.Bk.indexOf(z)]};jM.getName=function(z){return jM.he[jM.Bk.indexOf(z)]};function bi(){this.S=null;
this.buffer=null;this.QN="norm";this.YF=255;this.Bx=!1;this.$Z=!1;this.a3=0;this.eg=0;this.cM=!0;this.QQ=[];
for(var g=0;g<10;g++)this.QQ.push(0,0,255,255);this.name=null;this.add={};this.hH=null;this.x5=null;
this.J={list:[],Y:[],dY:0,volume:1};this.T4=null;this.SV=null;this.aoD=30;this.jS=null;this.aIS=null;
this.ask=null;this.a6I=null;this.uB=0;this.UU=!1;this.AO=null;this.GJ=new bi.iz}bi.iz=function(){this.Hn=!0;
this.X_=!0;this.gg=a.j(0);this.aAf=a.j(0);this.eo=null;this.Z9={};this.arz=null;this.ag8=null;this.aP=null;
this.v$=null;this.Gv=null;this.LB=!1};bi.iz.prototype.axw=function(){this.Hn=null;this.X_=!1;this.eo=null;
this.LB=co.Pw};bi.iz.prototype.aAN=function(){ju.acJ(this.Z9);this.gg=a.j(0);this.aAf=a.j(0);if(this.v$)this.v$.delete();
if(this.Gv)this.Gv.delete();this.v$=null;this.Gv=null};bi.prototype.qM=function(z){if(z==null)z=this.S.P();
if(this.GJ.eo==null)this.GJ.eo=z;else this.GJ.eo=this.GJ.eo.KQ(z)};bi.prototype.nT=function(){return this.add.lsct==cp.xj||this.add.lsct==cp.mD};
bi.prototype.dH=function(){var z=this.add;return z.SoCo!=null||z.GdFl!=null||z.PtFl!=null||z.vstl!=null};
bi.prototype.adw=function(){var z=this.add.lmfx;if(z==null)return;var J=["GrFl","patternFill"];for(var g=0;
g<J.length;g++){var p=a_.in[a_.order.indexOf(J[g])],n=z[p].v;if(n.length==0)continue;for(var B=0;B<n.length;
B++){var c=n[B].v;if(c.enab.v&&(c.Algn==null||!c.Algn.v))this.GJ.X_=!0}}};bi.prototype.apf=function(){var z=this.T4,J=this.GJ.Hn;
if(this.dH())z=this.Qu();if(!co.Pw)return z.DR();if(this.GJ.Gv==null||J||co.Pw!=this.GJ.LB){var p=z.R2(),n=z.DR(),B=this.GJ.Gv,c=a.zr(n),t=null;
if(J!=!0&&J!=null){t=J.P();t.offset(-p.x,-p.y)}if(B==null||B.r!=p.r||B.$!=p.$||B.depth!=c){B=this.GJ.Gv=new co.kH(p.r,p.$,c);
t=null}B.set(n,t)}return this.GJ.Gv};bi.prototype.adB=function(z){var J=this.S,p=this.buffer;if(!co.Pw){var n=this.Tq(z,p,J);
if(n){p=n.R1;J=n.S}return p}if(this.GJ.eo!=null||co.Pw!=this.GJ.LB){var n=this.Tq(z,p,J);if(n){p=n.R1;
J=n.S}var B=J;if(co.Pw!=this.GJ.LB||this.GJ.v$==null||this.GJ.v$.r!=B.r||this.GJ.v$.$!=B.$||this.GJ.v$.depth!=z.depth){if(this.GJ.v$)this.GJ.v$.delete();
this.GJ.v$=new co.rk(B.r,B.$,z.depth);this.GJ.v$.set(p)}else{var c=this.GJ.eo.P();c.offset(-J.x,-J.y);
this.GJ.v$.set(p,c)}}return this.GJ.v$};bi.prototype.rr=function(){var z=this.T4;if(this.dH())z=this.Qu();
return z!=null&&z.isEnabled&&(!z.S.Sz()||z.Um()!=255)};bi.prototype.Tq=function(z,J,p){if(this.Ik()){var n=this.g6(z);
if(n.T4&&n.T4.isEnabled&&(!n.T4.S.Sz()||n.T4.color==0)){var B=this.add.SoLd.filterFX.v;n.T4.ED=B.filterMaskDensity?B.filterMaskDensity.v:255;
n.T4.cc=B.filterMaskFeather?B.filterMaskFeather.v:0;var c=n.buffer,t=n.S;if(t.C()<p.C()){t=p;c=a.j(t.C()*4,z.depth);
a.nk(n.buffer,n.S,c,t)}var u=n.T4.TJ(p);a.oU(u);J=J.slice(0);a.B.MQ(c,t,J,p,u,p,0,p,1);return{R1:J,S:p}}}};
bi.prototype.aKX=function(){var z={sw:!1,kQ:!1,a0:0,aAv:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)z.kQ=!0;
if(this.Qu()&&this.Qu().isEnabled)z.sw=!0;if(z.sw&&z.kQ){z.a0=this.Qu().S.x-this.add.vmsk.Qu().S.x;z.aAv=this.Qu().S.y-this.add.vmsk.Qu().S.y}return z};
bi.prototype.k3=function(z,J){if(ex!=0)return;if(J&&this.Qu().cc!=0){J=J.P();var p=Math.round(this.Qu().cc*2.4);
J.Lr(p,p)}var n=!1;if(this.add.lsct==cp.hX)return;var B=this,c=this.Qu()!=null&&this.Qu().Kk,t=this.add.vmsk!=null&&this.add.vmsk.Kk,u=this.aKX(),v=JSON.stringify(u)!=this.GJ.arz||u.sw&&c||u.kQ&&t;
if(v){if(u.kQ){var A=this.add.vmsk.Qu(null,z.depth);if(u.sw){this.T4=this.Qu().iE(A);this.GJ.ag8=new i_(this.T4.S.x-this.Qu().S.x,this.T4.S.y-this.Qu().S.y)}else this.T4=A}if(this.T4)n=!0;
if(this.T4)this.GJ.aP=new i_(this.S.x-this.T4.S.x,this.S.y-this.T4.S.y);if(u.sw)this.Qu().Kk=!1;if(u.kQ)this.add.vmsk.Kk=!1;
this.qM(J)}else{if(u.sw&&u.kQ){this.T4.S.x=this.Qu().S.x+this.GJ.ag8.x;this.T4.S.y=this.Qu().S.y+this.GJ.ag8.y}}if(B.dH()){this.mF(z)}if(B.Zg()){var $;
if(this.T4)$=new i_(this.S.x-this.T4.S.x,this.S.y-this.T4.S.y);if(this.T4&&this.T4.isEnabled&&(this.GJ.aP==null||!$.Vm(this.GJ.aP))){this.GJ.aP=$;
this.qM(J);n=!0}}if(fs.get(B.add)!=null)n=!0;if(n){var X=this.GJ.Hn;if(J&&X&&X!=!0)X=X.KQ(J);else X=J?J:!0;
this.GJ.Hn=X}this.GJ.arz=JSON.stringify(u)};bi.prototype.mF=function(z){if(ex!=0)return;var J=this,p=J.add.vstk,n=new fw(0,0,z.r,z.$),B,c=J.add.vmsk?this.add.vmsk.Qu(null,z.depth):null,v=!0,X;
if(c&&c.isEnabled&&c.Um()==0)B=c.R2().P();else B=n;var t=J.Qu();if(t&&t.isEnabled&&t.Um()==0)B=B.ly(J.T4.R2());
var u=c&&p;if(p&&(!p.strokeEnabled.v||p.strokeStyleLineWidth.v.val==0))u=!1;if(p&&!p.fillEnabled.v&&u)v=!1;
var A=a.j(B.C()*4,z.depth);if(v){if(J.add.SoCo)ju.$r(A,J.add.SoCo.Clr.v);if(J.add.GdFl){var $=c&&c.color==0?a.z.nd(J.add.vmsk.u,null,!0):null;
ju.QR(J.add.GdFl,A,B,z,null,$)}if(J.add.PtFl)ju.fD(J.add.PtFl,A,B,z.add.Patt,J.add.fxrp)}if(u)X=a_.jM.ER.indexOf(p.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(c){var U=c.ED;if(u)c.ED=255;var w=a.j(B.C(),z.depth);if(c.Um()!=0)w.fill(a.hW(z.depth)*c.Um()/255);
if(c&&c.isEnabled){var P=c.R2(),k=c.DR();if(P.Vm(B))a._U(k,w);else a._1(k,P,w,B)}if(u&&X==2){}else{if(J.add.SoCo&&v){a.DE(w,A,3)}else a.ph(w,B,A,B)}if(u)c.ED=U}J.buffer=A;
J.S=B;if(u){var T=p.strokeStyleContent.v,Z=a_.jM.Sp.indexOf(T.classID),i=this.add.vmsk.Qu(p,z.depth);
if(X!=0&&!J.S.Vm(n))J.extend(J.S.KQ(i.R2()));var U=i.ED;i.ED=255;var V=i.TJ(J.S);i.ED=U;if(i.color==255)a.oU(V);
var _=a.j(J.S.C()*4,z.depth);if(Z==0)ju.$r(_,T.Clr.v);if(Z==1)ju.QR(T,_,J.S,z,null,c.color==0?c.S:null);
if(Z==2)ju.fD(T,_,J.S,z.add.Patt,J.add.fxrp);var y=p.strokeStyleOpacity.v.val/100;if(y!=1)a.ou(V,y);
if(i.color==255)X=2-X;if(X<2){a.B.MQ(_,J.S,J.buffer,J.S,V,J.S,255,J.S,1,!1);if(X==0)a.PM(w,J.buffer)}if(X==2){a.PM(V,_);
a.oU(w);a.B.MQ(_,J.S,J.buffer,J.S,w,B,255,J.S,1,!1);a.oU(w)}if(i.ED!=255){var E=_.slice(0);a.o2(E,1);
a.B.Oe("norm",E,J.S,J.buffer,J.S,J.S,1-i.ED/255)}U=c.ED;c.ED=255;this.aAf=c.TJ(J.S);c.ED=U}this.qM()};
bi.prototype.m8=function(z,J,p,n,B){var c=this,t=c.add.SoLd.Idnt.v,u=c.add.SoLd,v=L.tp.bU(u.nonAffineTransform),A=a.b.yq(v),$=z.Cx(t,u.Crop?u.Crop.v:null,[A.r,A.$],u.Impr.v.classID,p),d=null;
if($==null)return;var X=$.GS;if(!$.aaD){$.aaD=!0;a.ao6(X,z.depth);var U=z.JM();if(U||$.fc){if(U&&$.fc&&a.Vm(U[0],$.fc)){}else{var w=17;
if($.fc){var P=ICC.R($.fc.buffer),k=ICC.U.sampleLUT(P,w);for(var g=0;g<X.length;g+=2){var T=X[g];ICC.U.applyLUT(k,w,T,T)}}if(U){var P=U[1],k=ICC.U.sampleLUT(P,w,!0);
for(var g=0;g<X.length;g+=2){var T=X[g];ICC.U.applyLUT(k,w,T,T)}}}}}if(B&&a.yv(X[0],0))return;if(u.Sz){u.Sz.v.Wdth.v=$.Mm.r;
u.Sz.v.Hght.v=$.Mm.$}if(ex!=0)return;var Z=$.Ge==null?u.Rslt.v.val:$.Ge,i=u.quiltWarp.v;if(a.TX.CM(i))i=null;
var V=a.F.Q$(v,$.Mm);if(i){var A=a.b.yq(a.TX.Dz(i)[3]),_=A.x,y=A.y,E=1/A.r,F=1/A.$;V=a.F.Q$(v);V=a.F.iE(V,[E,0,-_*E,0,F,-y*F,0,0])}if(!J&&!c.Ik()&&i==null){var x=z.U.indexOf(c),f=bi.c_(c);
for(var g=0;g<x;g++){var Q=z.U[g];if(Q.add.SoLd&&!Q.Ik()&&bi.c_(Q)[0]==f[0]){var m=bi.c_(Q);d={buffer:Q.buffer.slice(0),S:Q.S.P()};
d.S.offset(Math.round(f[1]-m[1]),Math.round(f[2]-m[2]));break}}}var H=window.locStor.getItem("__itp");
H=H==null?1:H;if(d==null)d=L.tp.Zx(X,J?0:H,V,i,null,null,J);if(d==null){c.buffer=a.j(0,z.depth);c.S=new fw}else if(c.Ik()){var S=c.g6(z);
if(n){S.buffer=a.hg(S.buffer,z.depth);S.buffer.fill(0);a.nk(d.buffer,d.S,S.buffer,S.S)}else{S.buffer=d.buffer;
S.S=d.S.P()}this.SG(z,J)}else{c.buffer=d.buffer;c.S=d.S}c.k3(z);c.qM();z.qM()};bi.c_=function(z){var J=z.add.SoLd,p=J.Idnt.v,n=L.tp.bU(J.nonAffineTransform),B=a.F.Q$(n,new fw(0,0,1e3,1e3)),c=J.quiltWarp.v;
if(a.TX.CM(c))c=null;return[[p,B[0],B[1],B[3],B[4],B[6],B[7],c==null].join(":"),B[2],B[5]]};bi.prototype.SG=function(z,J){if(J==null)J=!1;
var p=this.g6(z),n=this.add.SoLd.filterFX.v,B=em.a5i(n),c=new fw(0,0,z.r,z.$),t=p.S.KQ(c),u=p.S.P();
u.Lr(B.x,B.y);var v={buffer:null,S:t.ly(u)};v.buffer=a.j(v.S.C()*4,z.depth);a.nk(p.buffer,p.S,v.buffer,v.S);
if(n.enab.v&&J==!1){var A=n.filterFXList.v;for(var g=0;g<A.length;g++){var $=A[g].v;if($.enab.v==!1)continue;
var X=$.blendOptions.v,U=jM.pg(X.Md.v.BlnM),w=X.Opct.v.val/100,P=a.Wi.Um($.FrgC.v),k=a.Wi.Um($.BckC.v),T=em.Jt($),Z={buffer:a.j(v.buffer.length,z.depth),S:v.S.P()},i=$.Fltr?$.Fltr.v:null;
if(fs.tD[T]!=null){var V=fs.tD[T],_=fs.XC(V,i);if(_)fs.Rm(_,v.buffer,Z.buffer,v.S)}else em.Rm(T,v,i,P,k,Z,[z.add.lnk2?z.add.lnk2:[],this.Qu(),z.b8]);
if(U=="norm"&&w==1)v=Z;else if(U=="norm"){a.B.MQ(Z.buffer,Z.S,v.buffer,v.S,null,null,null,v.S,w)}else{a.B.Oe(U,Z.buffer,Z.S,v.buffer,v.S,v.S,w)}}}this.S=v.S;
this.buffer=v.buffer;this.eB();this.qM();z.qM()};bi.prototype.L_=function(z,J,p){this.AO=this.aG1(z,J,p)};
bi.prototype.xB=function(z,J){var p=this.aG1(z,J,!0);if(p==null)return null;var n={c8:p.uB,sM:p.Da,S:p.Pa};
if(n.c8==1||n.c8==3){var B=n.S,c=a.j(B.r*B.$*4,a.zr(z.M.N));a.DE(n.sM,c,0);a.DE(n.sM,c,1);a.DE(n.sM,c,2);
a.aAH(z.M.N,z.M.S,c,B);n.sM=c}return n};bi.prototype.aG1=function(z,J,p){var n,B,c,t,u,v,A;if(this.uB<=0){var $=a.j(this.S.C(),z.depth);
a.Tm(this.buffer,$,3);n=a.m5.k1(J,{N:$,S:this.S},3);if(n==null)return null;var X=a.Ni(n.N,n.S);t=n.S.P();
u=this.S.P();B=a.j(t.C()*4,z.depth);a.nk(this.buffer,u,B,t);a.DE(n.N,B,3);c=this.buffer.slice(0);if(!p){var U=J.N.slice(0);
a.oU(U);a.ph(U,J.S,c,u)}v=this.buffer.slice(0);A=this.S.P()}if(this.uB==1||this.uB==3){var w=this.uB==1?this.Qu():this.g6(z).T4;
t=J.S.P();u=w.S.P();B=w.cH(t);var c=w.N.slice(0);if(!p){var P=a.j(t.C(),z.depth);if(w.color==255)P.fill(a.hW(z.depth));
a.B.Sa(P,t,c,u,J.N,t,1)}v=w.N.slice(0);A=w.S.P()}return{uB:this.uB,Da:B,Pa:t,J4:c,E2:u,hS:v,a6V:A}};
bi.prototype.Gt=function(z,J){var p=this.AO;if(p.uB==0){this.S=p.a6V;this.buffer=p.hS;this.qM()}if(p.uB==1||p.uB==3){var n=p.uB==1?this.Qu():this.g6(z).T4;
n.N=p.hS;n.S=p.a6V;if(this.uB==1){n.Kk=!0;this.k3(z)}if(this.uB==3)this.qM()}this.AO=J};bi.prototype.S7=function(z,J){var p=z.depth;
if(this.uB<=0&&J.S.Vm(this.S)){var n=a.j(this.S.C(),p);a.Tm(this.buffer,n,3);if(a.Vm(z.M.N,n)){var B=this.S,c=this.buffer;
this.AO={uB:this.uB,Da:c.slice(0),Pa:B.P(),J4:a.j(0),E2:new fw,hS:a.j(0),a6V:new fw};return!0}}var t=this.AO;
if(t==null)return!1;if(t.uB!=this.uB)return!1;if(!J.S.Vm(t.Pa))return!1;var u=t.E2.KQ(t.Pa);if(t.uB<=0){if(!u.Vm(this.S))return!1;
var v=a.j(t.Da.length>>2,p);a.Tm(t.Da,v,3);if(!a.Vm(J.N,v))return!1;var A=a.j(u.C()*4,p);a.nk(t.J4,t.E2,A,u);
a.B.Oe("norm",t.Da,t.Pa,A,u,u,1);return a.Vm(A,this.buffer)}if(t.uB==1||t.uB==3){var $=t.uB==1?this.Qu():this.g6(z).T4;
if(!u.Vm($.S))return!1;var X=a.j(u.C(),p);X.fill($.color*a.hW(p)/255);a._1(t.J4,t.E2,X,u);a.B.Sa(t.Da,t.Pa,X,u,J.N,u,1);
return a.Vm(X,$.N)}};bi.prototype.qB=function(z,J,p,n){var B=this.AO;B.Pa.offset(J,p);var c=B.E2.KQ(B.Pa);
if(B.uB<=0){var t=a.j(c.C()*4,z.depth);a.nk(B.J4,B.E2,t,c);a.B.Oe("norm",B.Da,B.Pa,t,c,c,1);this.buffer=t;
this.S=c;this.qM()}else{var u=this.uB==1?this.Qu():this.g6(z).T4,v=a.j(c.C());v.fill(u.color);a._1(B.J4,B.E2,v,c);
a.B.Sa(B.Da,B.Pa,v,c,n.N,c,1);u.N=v;u.S=c.P();if(this.uB==1){u.Kk=!0;this.k3(z)}if(this.uB==3)this.qM()}};
bi.prototype.a5v=function(z){var J=[-1,0,1,2];if(z)J.push(3);if(this.T4)J.push(-2);if(this.SV)J.push(-3);
return J};bi.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};bi.prototype.HV=function(lj){this.add.luni=this.name=lj};
bi.prototype.xL=function(z){var J=this.add.lnsr,p=this.add.TySh;if(J=="rend"&&p){var n=dN.Be(p.qU);this.HV(n.slice(0,n.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
bi.prototype.LE=function(){return(this.a3&1<<1)==0};bi.prototype.Zg=function(){return(this.a3&1<<4)==0};
bi.prototype.pU=function(){return(this.a3&1<<5)!=0};bi.prototype.a1a=function(){var z=this;if(z.add.lnsr!="bgnd"){z.add.lnsr="bgnd";
z.HV("Background");z.add.lspf=1<<2}};bi.prototype.aK6=function(){var z=this;if(z.add.lnsr=="bgnd"){delete z.add.lnsr;
z.HV("Layer 0");z.add.lspf=0}};bi.prototype.iF=function(z){var J=this.add.lspf;return J==null?!1:(J>>z&1)!=0};
bi.prototype.Rz=function(z){if(z&&!this.LE())this.a3-=2;if(!z&&this.LE())this.a3+=2};bi.prototype.p3=function(){var z=this.add.lmfx;
if(z==null)return!1;for(var J in z){if(J=="masterFXSwitch")continue;if(J=="Scl")continue;if(J=="classID")continue;
if(z[J].v.length>0)return!0}return!1};bi.prototype.Ik=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
bi.prototype.ti=function(){var z=this.add.lmfx;if(z==null)return!1;if(!z.masterFXSwitch.v)return!1;for(var J in z){if(J=="masterFXSwitch")continue;
if(J=="Scl")continue;if(J=="classID")continue;var p=z[J].v;for(var g=0;g<p.length;g++)if(p[g].v.enab.v)return!0}return!1};
bi.prototype.ms=function(){var z=this,J=z.add.SoLd,p=z.add.TySh,n=z.add.vmsk,B=[];if(J)B=L.tp.bU(J.nonAffineTransform);
if(p&&this.GJ.SU){B=a.b.e3(z.GJ.SU).L;a.b.h(B,p.h,B)}if(n)B=a.b.e3(n.aJq()).L;return B};bi.prototype.R2=function(z,J,p,n){if(ex==1)return a.b.yq(this.ms());
var B=new fw,c=this.tP(z,p,n);if(c.indexOf(0)!=-1)B=B.KQ(this.S);if(c.indexOf(1)!=-1){var t=this.Qu(),u=t.R2();
B=p&&t.Um()==0?B.Sz()?u:B.ly(u):B.KQ(u)}if(c.indexOf(2)!=-1){var v=this.add.vmsk,A=this.add.vstk,$;if(J){if(v.Vd.length>1){var X=a.z.hh(v.u,null,v.Vd);
$=a.b.yq(X);if($.Sz())$=null}if($==null)$=a.z.nd(v.u,v.Y.length!=0?v.Y:null)}else $=a.z.nd(v.u);if(!n&&A&&A.strokeEnabled.v){var U=A.strokeStyleLineAlignment.v.strokeStyleLineAlignment,w=A.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(U!="strokeStyleAlignInside"){var P=A.strokeStyleLineWidth.v.val;if(w=="strokeStyleMiterJoin")$=new fw(0,0,z.r,z.$);
else $.Lr(P,P)}}if(!n&&v.cc!=0)$.Lr(v.cc*2.2,v.cc*2.2);B=B.KQ($)}if(c.indexOf(3)!=-1)B=B.KQ(this.g6(z).T4.R2());
if(c.length==0&&this.dH())B=n?new fw(0,0,0,0):new fw(0,0,z.r,z.$);return B};bi.prototype.i8=function(){var z=this.add.artb,J=z.artboardBackgroundType.v,p=0;
if(J==1)p=4294967295;else if(J==2)p=4278190080;else if(J==3)p=0;else if(J==4){p=z.Clr.v;p=255<<24|p.Bl.v<<16|p.Grn.v<<8|p.Rd.v}else throw J;
return p};bi.prototype.x0=function(){var z=this.add.artb.artboardRect.v,J=z.Btom.v,p=z.Left.v,n=z.Rght.v,top=z.Top.v;
return new fw(p,top,n-p,J-top)};bi.prototype.Uu=function(z){var J=bi.Hk(z);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=J};bi.Hk=function(z){var J={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
J.Btom.v=z.y+z.$;J.Left.v=z.x;J.Rght.v=z.x+z.r;J.Top.v=z.y;return J};bi.prototype.tP=function(z,J,p){var n=[],B=this;
if(!J&&B.UU&&p){n.push(2)}else if(B.uB<=0||J){if(B.Zg()){if(ex==1&&B.add.TySh)n.push(0);else if(ex==1&&B.add.SoLd)n.push(0);
else if(!this.S.Sz()||B.add.SoLd||B.add.TySh)n.push(0)}if(B.Qu()&&!B.Qu().S.Sz())if(B.Qu().r4||J)n.push(1);
if(B.add.vmsk)if(B.add.vmsk.r4||J)n.push(2);if(B.Ik()&&B.g6(z).T4&&!B.g6(z).T4.S.Sz())n.push(3)}else if(B.uB==1){n.push(1);
if(B.Qu().r4&&!B.Qu().S.Sz()){if(B.Zg())if(!this.S.Sz())n.push(0);if(B.add.vmsk)if(B.add.vmsk.r4)n.push(2)}}else if(B.uB==3&&!B.g6(z).T4.S.Sz())n.push(3);
if(B.add.artb&&n.indexOf(0)==-1)n.push(0);n.sort();return n};bi.prototype.Qu=function(){var z=this;return z.SV?z.SV:z.add.vmsk&&z.add.vmsk.isEnabled?null:z.T4};
bi.prototype.g6=function(z){if(this.add.SoLd==null)return null;var J=this.add.SoLd.placed.v,p=z.add.FEid;
if(p==null)return null;for(var g=0;g<p.length;g++)if(p[g].id==J)return p[g];return null};bi.prototype.extend=function(z){a.aop(this,z)};
bi.prototype.abZ=function(z,J,p){var n=z.P();if(this.ti()){var B=this.add.lmfx,c=J.root.Ti(J.U.indexOf(this)),t=B.gradientFillMulti.v,u=!1;
for(var g=0;g<t.length;g++)if(t[g].v.enab.v&&t[g].v.Algn.v)u=!0;if(u)n=n.KQ(c.R2(J,!1));var v=ju.aAk(this.add.lmfx,J,p);
n.offset(v.x,v.y);n.r+=v.r;n.$+=v.$}return n};bi.prototype.eB=function(){if(this.Zg())a.PP(this);var z=this.Qu();
if(z)z.eB()};bi.prototype.P=function(){var z=new bi;z.S=this.S.P();z.buffer=this.buffer.slice(0);z.QN=this.QN;
z.YF=this.YF;z.Bx=this.Bx;z.a3=this.a3;z.name=this.name;z.QQ=this.QQ.slice(0);z.J=a.G(this.J);if(this.T4)z.T4=this.T4.P();
if(this.SV)z.SV=this.SV.P();for(var J in this.add)z.add[J]=bp.P(J,this.add[J]);return z};bi.prototype.nq=function(z){var J=this;
if(J.add.TySh)delete J.add.TySh;if(J.add.SoLd){var p=this.Tq(z,this.buffer,this.S);if(p){this.buffer=p.R1;
this.S=p.S;this.qM()}delete J.add.SoLd}if(J.add.SoCo||J.add.GdFl||J.add.PtFl){if(J.add.vogk)delete J.add.vogk;
if(J.add.SoCo)delete J.add.SoCo;if(J.add.GdFl)delete J.add.GdFl;if(J.add.PtFl)delete J.add.PtFl;if(J.add.vmsk){console.log(J.SV,J.T4);
delete J.add.vmsk;if(J.SV==null&&J.T4)delete J.T4;else if(J.SV!=null&&J.T4!=null){J.T4=J.SV;delete J.SV}}}if(!J.nT()&&fs.get(J.add)==null&&!this.Zg())this.a3-=16};
bi.prototype.xd=function(z){var J=255,p=0;if(z==2){var n=this.add.SoLd.filterFX.v;if(n.filterMaskDensity)J=n.filterMaskDensity.v;
if(n.filterMaskFeather)p=n.filterMaskFeather.v}else{var B=z==0?this.Qu():this.add.vmsk;J=B.ED;p=B.cc}return{rh:z,eZ:J,hq:p}};
bi.prototype.akU=function(z){if(z.rh==2){var J=this.add.SoLd.filterFX.v;if(z.eZ==255)delete J.filterMaskDensity;
else J.filterMaskDensity={t:"long",v:z.eZ};if(z.hq==0)delete J.filterMaskFeather;else J.filterMaskFeather={t:"doub",v:z.hq};
this.qM()}else{var p=z.rh==0?this.Qu():this.add.vmsk;p.ED=z.eZ;p.cc=z.hq;p.Kk=!0}};bi.prototype.cC=function(){var z=this,J=z.add.vmsk;
if(J==null)return;z.add.vogk=a.R$.aFG(J.u)};bi.cC=function(z){var J=[],p=a.z.ZR(z);for(var n=0;n<p;n++)J.push(a.R$.Q7());
return J};var cp={if:0,xj:1,mD:2,hX:3};bi.L7=function(z){this.name="Mask";this.m6=!1;this.Ij={o:255,k:0,X:0};
this.mN=50;this.iQ=0;this.color=255;this.r4=!0;this.isEnabled=!0;this.$I=!1;this.ED=255;this.cc=0;this.S=new fw;
this.N=a.j(0,z);this.N2=null;this.ak5=null;this.Kk=!0};bi.L7.prototype.iE=function(z){if(!this.isEnabled)return z;
var J=new bi.L7;J.color=Math.round(this.Um()*z.Um()/255);if(this.Um()==0&&z.Um()==0)J.S=this.R2().ly(z.R2());
else if(z.Um()==0)J.S=z.R2().P();else if(this.Um()==0)J.S=this.R2().P();else J.S=this.R2().KQ(z.R2());
J.N=this.TJ(J.S);J.ED=255;J.cc=0;var p=z.TJ(J.S);a.abP(p,J.S,J.N,J.S);return J};bi.L7.prototype.R2=function(){if(this.cc==0)return this.S;
var z=Math.ceil(this.cc*2.2),J=this.S.P();if(J.y==0){if(J.x==0)J.r+=z;else J.Lr(z,0);J.$+=z}else J.Lr(z,z);
return J};bi.L7.prototype.DR=function(){if(this.cc==0&&this.ED==255)return this.N;if(this.cc==0){var z=this.N.slice(0);
a.oU(z);a.ou(z,this.ED/255);a.oU(z);return z}var J=this.R2(),z=this.cH(J);a.zM.zH(z,J,this.cc);if(this.ED!=255){a.oU(z);
a.ou(z,this.ED/255);a.oU(z)}return z};bi.L7.prototype.Um=function(){return Math.round(255-(255-this.color)*(this.ED/255))};
bi.L7.prototype.extend=function(z){a.extend(this,z,this.color/255)};bi.L7.prototype.eB=function(){if(this.color==255)a.oU(this.N);
a.eB(this);if(this.color==255)a.oU(this.N)};bi.L7.prototype.P=function(){var z=new bi.L7;z.name=this.name;
z.m6=this.m6;z.Ij=this.Ij;z.mN=this.mN;z.iQ=this.iQ;z.color=this.color;z.r4=this.r4;z.isEnabled=this.isEnabled;
z.$I=this.$I;z.ED=this.ED;z.cc=this.cc;z.S=this.S.P();z.N=this.N.slice(0);return z};bi.L7.prototype.cH=function(z,J){var p=a.zr(this.N);
if(J==null)J=a.j(z.C(),p);J.fill(this.color*a.hW(p)/255);a._1(this.N,this.S,J,z);return J};bi.L7.prototype.TJ=function(z,J){var p=this.R2(),n=this.DR(),B=a.zr(n);
if(J==null)J=a.j(z.C(),B);J.fill(this.Um()*a.hW(B)/255);a._1(n,p,J,z);return J};bi.jP=function(){this.r4=!0;
this.isEnabled=!0;this.ED=255;this.cc=0;this.Kj=0;this.VR=1;this.u=[{I:6},{I:8,all:0}];this.IS=[-3,-3];
this.xa=!1;this.SV=null;this.Kk=!0;this.Y=[];this.Vd=[]};bi.jP.prototype.aJq=function(z){var J=bi.jP.Ox(this.u),p=new fA;
if(z)p.rotate(-this.Kj);a.z.Gn(J,p);return a.z.nd(J)};bi.jP.prototype.v_=function(){var z=this.aJq(!0),J=a.b.e3(z).L,p=new fA;
p.rotate(this.Kj);a.b.h(J,p,J);return J};bi.jP.prototype.offset=function(z,J){this.SV=this.Qu();a.z.Gn(this.u,new fA(1,0,0,1,z,J));
this.SV.S.offset(z,J)};bi.jP.prototype.Qu=function(z,J){if(!this.Kk&&this.SV&&z==null){this.SV.isEnabled=this.isEnabled;
return this.SV}var p=this.u,n=a.z.nd(p),B="strokeStyleLineAlignment",c="strokeStyleLineJoinType";if(n.C()>2e4*2e4)n=new fw(0,0,100,100);
if(z&&z[B].v[B]!="strokeStyleAlignInside"){var t=1;if(z[c].v[c]=="strokeStyleMiterJoin"){var u=a.z.avl(p),v=u/2,A=Math.sin(v),$=Math.cos(v);
$/=A;A=1;var t=Math.sqrt($*$+A*A);if(isNaN(t)||t<1)t=1}t*=z[B].v[B]=="strokeStyleAlignOutside"?1:.5;
var X=Math.ceil(z.strokeStyleLineWidth.v.val*t);X=Math.min(X,600);n.Lr(X,X)}n=a.b.$M(n);var U=new bi.L7;
U.color=a.z.iW(p)?0:255;U.r4=this.r4;U.isEnabled=this.isEnabled;U.$I=!0;U.S=n;U.ED=this.ED;U.cc=this.cc;
U.N=a.j(U.S.C());if(!n.Sz())a.z.aiS(p,U.N,U.S,z);if(J!=null&&J!=8)U.N=a.hg(U.N,J);if(z==null){this.SV=U;
this.Kk=!1}return U};bi.jP.prototype.P=function(){var z=new bi.jP;z.r4=this.r4;z.isEnabled=this.isEnabled;
z.ED=this.ED;z.cc=this.cc;z.Kj=this.Kj;z.VR=this.VR;z.u=bi.jP.Ox(this.u);z.IS=this.IS.slice(0);z.xa=this.xa;
z.Y=this.Y.slice(0);z.Vd=this.Vd.slice(0);return z};bi.jP.prototype.concat=function(z){var J=z.u.slice(2);
if(J.length==0)return;J[0].j1=3;this.u=this.u.concat(J)};bi.jP.Ox=function(z){var J=[];for(var g=0;g<z.length;
g++){var p=z[g];if(p.I>5||p.I==0||p.I==3)J.push(a.G(p));else J.push({I:p.I,FV:p.FV.P(),cy:p.cy.P(),M3:p.M3.P()})}return J};
bi.jP.awg=function(z,J,p){if(z.length!=J.length)return!1;for(var g=2;g<z.length;g++){var n=z[g],B=J[g];
if(n.I!=B.I)return!1;if(n.I==0||n.I==3){if(n.length!=B.length||!p&&n.j1!=B.j1)return!1}else if(!n.FV.Vm(B.FV)||!n.cy.Vm(B.cy)||!n.M3.Vm(B.M3))return!1}return!0};
bi.jP.prototype.aia=function(){var z=this.u;for(var g=3;g<z.length;g++)if(z[g].I==0||z[g].I==3)z[g].j1=-1};
bi.WM=function(){this.I=null;this.it=2;this.A_=null;this.qI="";this.ht="";this.J_="";this.open=0;this.raw=null;
this.GS=null;this.aj3="none";this.Uq=!1;this.Ge=null;this.fc=null;this.aaD=!1;this.Mm=null};bi.WM.prototype.P=function(){var z=new bi.WM;
z.I=this.I;z.it=this.it;z.A_=this.A_;z.qI=this.qI;z.ht=this.ht;z.J_=this.J_;z.open=this.open;z.raw=new Uint8Array(this.raw.buffer.slice(0));
return z};bi.WM.prototype.dT=function(z,J,p,n,B){if(p==null)p="none";var c=this,t=kL.yd(c.raw.buffer),u=t=="svg"||t=="pdf"||t=="ai";
if(c.GS){var v=J&&u&&Math.max(c.GS[1].r,c.GS[1].$)<Math.max(J[0],J[1]);if(!v&&p==this.aj3&&!c.Uq)return}this.aj3=p;
if(!u)z=0;if(t==null){alert("Unsupported format: "+e.RM(c.raw,0,4));return null}var A=kL.V5(t);if(t=="psd"&&ex==1){var $=bM.aqp(c.raw)[0],X=new Uint8Array($.data);
c.GS=[X,$.eE]}else if(A.xG){var U=new b$(name+(t=="psd"?"":"-"+t)+".psd"),X;A.uj(c.raw.buffer,U,J);var w=new fw(0,0,U.r,U.$);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(p)!=-1){var P=[];for(var g=0;g<U.U.length;
g++){var k=U.U[g],T=k.buffer;if(!k.S.Vm(w)){T=a.j(w.C()*4);a.nk(k.buffer,k.S,T,w);console.log("resizing")}P.push(T)}X=a.j(w.C()*4);
a.stack.stack(P,X,p)}else{for(var g=0;g<U.U.length;g++)if(U.U[g].dH())U.U[g].k3(U);if(n&&U.Uq){var Z=hk.qs(U,n,B);
c.Uq=!Z;if(Z)hk.Lh(U,n,B)}U.K6();U.qM();U.TQ();X=U.dT()}c.GS=[X,w];c.Ge=U.Ge!=null&&U.Ge!=0?U.Ge:72;
if(U.JM())c.fc=U.JM()[0]}else if(A){var i=A.uj(c.raw.buffer)[0],V=i.depth;c.GS=[V==16?new Uint16Array(i.data):new Uint8Array(i.data),i.eE];
c.Ge=i.Ge!=null&&i.Ge!=0?i.Ge:72;c.fc=i.fc}if(c.GS){c.Mm=c.GS[1].P();if(z==1){var T=c.GS[0],_=c.GS[1],y=a.j(_.C());
a.Tm(T,y,3);var E=a.Ni(y,_),F=a.j(E.C()*4);a.nk(T,_,F,E);E.x=E.y=0;c.GS=[F,E]}else{var T=c.GS[0],_=c.GS[1],E=a.an(T,_,2,null,4278190080);
if(E.Sz())E=new fw(0,0,1,1);while((E.x&15)!=0){E.x--;E.r++}while((E.y&15)!=0){E.y--;E.$++}if(!E.Vm(_)&&E.C()/_.C()<.7){var F=a.j(E.C()*4,a.zr(T));
a.nk(T,_,F,E);c.GS=[F,E]}}a.pG(c.GS)}};bi.Kb="0";bi.W3="2";bi.kh="2.5";bi.yT="2.6";bi.LL="3";bi.Eo="4";
bi.Ai="4.4";bi.wc="4.5";bi.a1s="4.6";bi.E5="5";bi.XN="5.5";bi.IF="6";bi.aum="7";bi.a1q="8";bi.lp="9";
bi.Kl="9.3";bi.kZ="9.4";bi.agc="9.5";bi.PE="9.6";bi.tn="10";bi.yb="11";bi.Ty="12";bi.CZ="13";bi.cf="13.1";
bi.air="13.2";bi.ZH="13.3";bi.LF="13.4";bi.K7="14";bi.Xo="14.1";bi.xe="14.2";bi.q6="14.3";bi.tT="17";
bi.Ep="18";bi.a0W="19";bi._P="19.5";bi.JY="19.6";bi.EP="19.7";bi.b9="19.8";bi.Sd="20";bi.I9="21";bi.T3="21.2";
bi.tt="21.5";bi.h9="22";bi.cY="22.5";bi.BJ="23";bi.ajm="24";bi.FE="25";bi.anU="26";bi.anA="27";bi.iJ="28";
bi.gz="29";bi.jt="30";bi.S5="31";bi.JX="32";bi.a5l="32.5";bi.k7="33";bi.LQ="34";bi.HI="35";bi.j2="36";
bi.nl="36.5";bi.wW="37";bi.qv="37.5";bi.a5V="37.6";bi.JL="38";bi.Xx="38.5";bi.Th="38.6";bi.Y7="39";bi.ig="40";
bi.Bn="41";bi.aJo="42";bi.Wy="50";bi.fM="51";bi.fJ="52";bi.C9="53";bi.wJ="54";bi.aDR="54.5";bi.K5="54.6";
bi.aon="54.7";bi.IL="54.8";bi.zB="55";bi.Ol="55.5";bi.Uf="56";bi.xC="57";bi.KS="58";bi.BF="59";bi.Tv="60";
function c$(){this.depth=0;this.index=-1;this.w=null;this.aeZ=null;this.$K=-1;this.children=null;this.parent=null;
this.mo=null}c$.prototype.avh=function(z,J){if(this.depth!=0)z.push(this.w.getName());if(this.children)for(var g=0;
g<this.children.length;g++)this.children[g].avh(z,J);if(z.length>J.Mf.length)J.Mf=z.slice(0);if(this.depth!=0)z.pop()};
c$.prototype.ae3=function(){var z=0;if(this.w.nT()){for(var g=0;g<this.children.length;g++)z+=this.children[g].ae3()}else if(this.w.buffer)z+=this.w.buffer.length;
return z};c$.prototype.Ti=function(z){var J=this.mo[z];return this.mo[z]};c$.prototype.zg=function(z,J){var p=this.w;
if(!p.LE()||p.iF(2)||p.iF(31))return null;if(p.rr()){var n=p.T4.S.SH(z);if(!n&&p.T4.color==0)return}if(p.nT()){for(var g=0;
g<this.children.length;g++){var lj=this.children[g];lj.zg(z,J)}}else if(ex==1){var B=p.ms();if(z.SH(a.b.yq(B))&&J.indexOf(this.index)==-1)J.push(this.index)}else if(p.S.SH(z))J.push(this.index)};
c$.prototype.Y8=function(z,J){var p=this.w;if(!p.LE()||p.iF(2)||p.iF(31))return null;if(p.rr()){if(p.T4.S.n9(z)){if(!a.Y8(z,p.T4.N,p.T4.S))return null}else if(p.T4.color==0)return null}if(p.nT()){if(p.add.artb&&!p.x0().n9(z))return null;
for(var g=this.children.length-1;g>=0;g--){var lj=this.children[g],n=lj.Y8(z,J);if(n&&J==null)return n}return null}else if(ex==1){if(p.add.vmsk){var B=p.add.vstk,c=!B.fillEnabled.v&&!p.$Z,t=B.strokeStyleLineWidth.v.val*.5,u=a.z.Y8(p.add.vmsk.u,z,c,t);
return u.GU==-1?null:this}var v=p.ms();if(jH.Go(v,z.x,z.y))return this}else if(p.add.TySh&&p.S.n9(z)||a.awY(z,p.buffer,p.S)){if(J==null)return this;
else J.push(this.index)}return null};c$.prototype.as4=function(z){var J=this.w;if(!J.LE()||J.iF(2)||J.iF(31))return null;
var p=J.add.vmsk;if(p&&p.isEnabled){var n=a.z.Y8(p.u,z).GU;if(n!=-1)return{aux:this,a8Y:n}}if(J.nT()){if(J.add.artb&&!J.x0().n9(z))return null;
for(var g=this.children.length-1;g>=0;g--){var lj=this.children[g],B=lj.as4(z);if(B)return B}return null}return null};
c$.prototype.JF=function(z,J){z.push(this.index);if(this.w.nT()){z.push(this.$K);if(J)if(this.w.uB==1&&this.w.Qu().r4==!1)return;
for(var g=0;g<this.children.length;g++)this.children[g].JF(z)}};c$.AK=function(){var z=document.createElement("canvas");
return z.getContext("2d")};c$.auz=function(z,J){var p,n;if(z.r>z.$){p=Math.floor(J);n=Math.floor(J*(z.$/z.r))}else if(z.r==0&&z.$==0){p=n=J}else{p=Math.floor(J*(z.r/z.$));
n=Math.floor(J)}return new i_(p,n)};c$.e0=32;c$.MW=1;c$.$x=function(z){if(z==200)return"#cccccc";if(z==300)return"#ffffff";
if(z==500)return"#999999";if(z==501)return"#666666";var J="#0080ff #00ffff #4000ff #ff8000 #ffc000 #ffff00 #00dd00 #c000ff #ff4000 #ff0000 #0000ff #ff00ff #80ff00 #00ff80 #8000ff #ff0080".split(" "),p=parseInt(J[z>>>3].slice(1),16),n=0,B=z&7;
for(var g=0;g<3;g++){var c=p>>>g*8&255;if(B<4)c=Math.round((1-(B-0)/8)*c+(B-0)/8*255);else c=Math.round((1-(B-3)/6)*c+(B-3)/6*0);
n|=c<<g*8}return"#"+n.toString(16).padStart(6,"0")};c$.prototype.ky=function(z,J,p){var n=c$.MW,B=this.w;
if(B.nT()&&B.add.artb!=null)J=B.x0();var c=n==0?B.S:J;if(c.Sz()||B.add.TySh)c=J;var t=c$.e0*L.$q(),u=c$.auz(c,t),v=u.x,A=u.y,$=c$.auz(J,t),X=fs.get(B.add)!=null;
if(B.dH()&&B.add.vmsk==null||B.add.TySh||X)v=A=Math.max(A,16);else if(B.nT()){v=A=Math.round(18*L.$q())}else{v=Math.max(v,6);
A=Math.max(A,6)}if(p&&B.jS==null){B.jS=c$.AK();if(ex==0){B.aIS=c$.AK();B.ask=c$.AK();B.a6I=c$.AK()}}var U=B.dH()&&B.add.vmsk;
if(ex==2&&!B.nT()&&B.jS){a.oB.GV(B.jS,v,A);B.jS.fillStyle=c$.$x(B.J.dY);B.jS.fillRect(0,0,300,300)}else if(ex==1&&!B.nT()){if(p)a.oB.axG(B.jS,v,A,z,this)}else if(U){if(p&&B.add.vstk)a.oB.$Y(B.jS,v,A,c,B.buffer,B.S,!1,null,!B.add.vstk.fillEnabled.v&&!B.add.vstk.strokeEnabled.v);
if(p)a.oB.aGz(B.jS,v,A)}else if(B.add.TySh){if(p)a.oB.aJB(B.jS,A,A,B.add.TySh)}else if(B.add.SoCo){if(p)a.oB.av3(B.jS,A,A,B.add.SoCo)}else if(B.add.GdFl){if(p)a.oB.ak8(B.jS,A,A,B.add.GdFl)}else if(B.add.PtFl){if(p)a.oB.ac_(B.jS,A,A,B.add.PtFl,z)}else if(X){if(p)a.oB.asF(B.jS,A,A,B.add)}else if(B.add.SoLd){if(p)a.oB.$Y(B.jS,v,A,c,B.buffer,B.S,!1);
if(p)a.oB.abR(B.jS,v,A,B.add.SoLd)}else if(B.nT()){}else{if(p){if(B.Zg())a.oB.$Y(B.jS,v,A,c,B.buffer,B.S,!1);
else{a.oB.awE(B.jS,A,A)}}}var w=B.Qu();if(p){if(w)a.oB.b4(B.aIS,$.x,$.y,J,w);if(B.Ik()&&B.g6(z)&&B.g6(z).T4){var P=B.g6(z).T4;
a.oB.b4(B.a6I,$.x,$.y,J,P)}if(!U&&B.add.vmsk){a.oB.b4(B.ask,$.x,$.y,J,B.add.vmsk.Qu(),!0)}}if(w||B.add.vmsk)A=Math.max(A,$.y);
B.aoD=Math.max(A,16);if(p!=!0&&B.nT()&&(B.add.lsct==cp.xj||z.U.length<4e3))for(var g=0;g<this.children.length;
g++)this.children[g].ky(z,J)};c$.prototype.a4E=function(z,J,p,n){this.depth=p;var B=z[J];if(n==null)n=[];
this.mo=n;if(B.add.lsct==cp.hX){this.aeZ=B;this.$K=J-1;this.children=[];var g=J+1;while(!0){var c=z[g];
if(c==null)console.log(g,z.length);if(c.add.lsct==cp.xj||c.add.lsct==cp.mD){if(B.add.lyid==c.add.lyid)B.add.lyid+=16777215;
this.w=c;this.index=g-1;n[this.index]=this;n[J-1]=this;break}var t=new c$;t.parent=this;g=t.a4E(z,g,p+1,n);
this.children.push(t)}return g+1}else{this.w=B;this.index=J-1;n[this.index]=this;return J+1}};c$.prototype.Ad=function(z,J,p,n){var B=this.Ti(p),c=z;
while(B.parent!=null){c=B.w.abZ(c,J,n);B=B.parent}return c};c$.prototype.R2=function(z,J){var p=this.w,n=new fw;
if(!p.LE())return n;var B=p.Qu();if(p.nT())for(var g=0;g<this.children.length;g++){var c=this.children[g].R2(z,!0);
n=n.KQ(c)}else if(fs.get(p.add)!=null)n=p.rr()&&p.T4.color==0?p.T4.R2().P():new fw(0,0,z.r,z.$);else if(p.dH()&&p.add.vmsk&&p.add.vmsk.isEnabled&&p.add.vstk){n=p.S.P()}else if(p.dH()&&B&&B.isEnabled&&B.Um()!=0)n=new fw(0,0,z.r,z.$);
else{n=p.R2(z,!1,!0);if(p.add.vmsk)n=a.b.$M(n)}return J?p.abZ(n,z):n};c$.Vh={delete:function(z){if(z&&z.r)z.delete()},j:function(z,J){return co.Pw?new co.rk(z,J):a.j(z*J*4)},aKd:function(z,J,p){var n=J.r,B=J.$;
if(z==null||co.Pw&&(z.r!=n||z.$!=B||z.depth!=p)||!co.Pw&&(z.length!=n*B*4||a.zr(z)!=p)){c$.Vh.delete(z);
return co.Pw?new co.rk(n,B,p):a.j(n*B*4,p)}else return z},_1:function(z,J,p,n,B){(co.Pw?co.nG:a.nk)(z,J,p,n,B)},MQ:function(z,J,p,n,B,c,t,u,g,v,A){(co.Pw?co.B.hN:a.B.MQ)(z,J,p,n,B,c,t,u,g,v,A)},afx:function(z,J,p,n,B,c,t,u){var v=p.P(),A=B.r,$=B.$,X=v.x,U=v.y,w=v.x+v.r>A?-1:0,P=v.x<0?2:1,k=v.y+v.$>$?-1:0,T=v.y<0?2:1;
for(var Z=k;Z<T;Z++)for(var i=w;i<P;i++){v.x=X+i*A;v.y=U+Z*$;c$.Vh.Oe(z,J,v,n,B,c,t,u)}},Oe:function(z,J,p,n,B,c,t,u){if(co.Pw)co.B.aKL(z,J,p,n,B,c,t,u);
else a.B.Oe(z,J,p,n,B,c,t,u)},rd:function(z,J){if(co.Pw){co.C4(z);co.j4(J)}else a.dz(z,J)},kw:function(z){if(co.Pw){co.C4(z);
co.kw()}else{var J=a.zr(z),p=J==8?255:J==16?65535:1;if(J==8)a.o2(z,1);else for(var g=0;g<z.length;g+=4)z[g+3]=p}},abv:function(z,J,p,n,B){if(co.Pw){co.B.hN(null,null,n,B,z,J,p,B,1,!1)}else{if(p==255)a.ph(z,J,n,B);
else{var c=a.j(J.C(),a.zr(z));a.CO(n,B,c,J);a.iy(z,c);a.o2(n,0);a.aAH(c,J,n,B)}}},zY:function(z,J,p,n,B){if(co.Pw)co.B.hN(null,null,p,n,z,J,0,B,1,!1);
else a.zY(z,J,p,n,B)}};c$.prototype.Kp=function(z,J,p,n,B,c,t){var u=typeof c=="number";if(!this.w.nT()&&(u&&this.index>c||!u&&c.indexOf(this.index)==-1)){return}var v=this.w,A=ju.Yb(v),$=c$.Vh,X=z.depth;
if(X==null)X=a.zr(z);var U=v.dH()?v.Qu():v.T4;if(!v.LE())return;if(v.rr()&&U.S.Sz()&&U.Um()==0){return}if(v.add.vstk==null&&this.R2(n,!1).Sz()){return}if(v.dH()&&v.S.Sz())return;
var w=this.R2(n,!0).ly(p);if(!J.Vm(p)&&!p.SH(w))return;if(v.nT()&&v.add.artb){var P=v.x0();p=p.ly(P)}var k=c$.aAq(v,B,A);
if(!k){this.a2X(z,J,p,n,B,c,t);return}var T=t.T0(w,X),Z=T[0],i=T[1];$._1(z,J,Z,i,p);this.a2X(Z,i,p,n,B,c,t);
$.MQ(Z,i,z,J,null,null,0,p,v.YF/255,v.QN=="diss",A.$G);t.Q9(Z)};c$.aAq=function(z,J,p){if(p.$G[0]*p.$G[1]*p.$G[2]==0)return!0;
return z.YF!=255&&(J.length!=0||z.nT()||z.ti())};c$.prototype.a2X=function(z,J,p,n,B,c,t){var u=this.w,v=ju.Yb(u),A=fs.get(u.add)!=null,$=c$.Vh,X=z.depth,x=null,f=null;
if(X==null)X=a.zr(z);var U=c$.aAq(u,B,v),w=U?1:u.YF/255,P=u.dH()?u.Qu():u.T4,k=u.nT()&&v.ZL==null&&(u.QN=="pass"||u.add.artb!=null)&&!(B.length>0||v.fill!=1||u.ti()),T=!u.nT()&&!A&&!u.ti()&&B.length==0,Z=A&&!u.ti()&&B.length==0;
if(k||T||Z){var i=z,V=J;if(u.rr()){var _=t.T0(this.R2(n,!1),X);i=_[0];V=_[1];$._1(z,J,i,V)}if(k)this.RS(i,V,p,n,c,t);
if(T)$.Oe(u.QN,u.adB(n),u.S,i,V,p,w,v);if(Z){var y=u.rr()&&P.Um()==0?P.R2().P():V.P(),_=t.T0(y,X),E=_[0],F=_[1];
this.axI(i,V,E,F,u.add);v.dq=!0;$.Oe(u.QN,E,F,i,V,p,w,v);t.Q9(E)}if(u.rr()){$.MQ(i,V,z,J,u.apf(),P.R2(),P.Um(),p,1,u.QN=="diss");
t.Q9(i)}u.GJ.axw();return}var d=u.nT()&&u.QN=="pass"&&(B.length>0||v.fill!=1||u.ti()),y=u.S;if(u.nT()){y=this.R2(n,!1);
if(y.C()>p.C())y=y.ly(new fw(0,0,n.r,n.$));f=t.BT(y,X);$.rd(f,0);this.RS(f,y,u.ti()?y:y.ly(p),n,c,t)}else if(A){y=u.rr()&&P.Um()==0?P.R2().P():J.P()}else{y=u.S;
x=u.adB(n)}var Q=t.BT(y,X);if(u.nT()){$._1(f,y,Q,y,u.ti()?y:y.ly(p));if(!d)t.Q9(f)}else if(A){$.rd(Q,4294967295)}else{$._1(x,y,Q,y)}if(u.rr())$.abv(u.apf(),P.R2(),P.Um(),Q,y);
if(u.ti())if(u.GJ.eo||u.GJ.X_||u.GJ.LB!=co.Pw||u.GJ.Hn||u.nT()){var m=u.add.vmsk,H=a.j(y.C(),X);if(ju.aKA(u.add.lmfx)){if(co.Pw){if(!u.nT()&&u.Qu()==null&&u.S.Vm(y)&&m==null)a.Tm(u.buffer,H,3);
else{var S=a.j(y.C()*4,X);Q.get(S);a.Tm(S,H,3)}}else a.Tm(Q,H,3)}if(u.GJ.X_||u.GJ.LB!=co.Pw||!a.Vm(H,u.GJ.gg)){var R=null;
if(u.dH()&&m&&m.isEnabled&&m.Qu().color==0)R=m.Qu().S;ju.acJ(u.GJ.Z9);u.GJ.Z9=ju.ayg(H,y,u.add.lmfx,u.add.fxrp,n,R);
u.GJ.gg=H;u.GJ.axz=y}}if(u.ti())ju.a2K(u.add.lmfx,u.GJ.Z9,y,z,J,p);var _=t.T0(y,X),I=_[0],D=_[1];if(u.nT()){$.rd(I,0);
if(u.QN=="pass")$._1(z,J,I,D);if(d){$.zY(f,y,I,D,u.ti()?y:y.ly(p));t.Q9(f)}this.RS(I,D,p,n,c,t)}else if(A){this.axI(z,J,I,D,u.add)}else{$._1(x,y,I,D,p)}$.kw(I);
for(var g=0;g<B.length;g++)B[g].Kp(I,D,p,n,[],c,t);var _=t.T0(y,X),G=_[0],C=_[1];$._1(z,J,G,C,p);if(A)v.dq=!0;
$.Oe(u.QN=="pass"?"norm":u.QN,I,D,G,C,p,1,v);t.Q9(I);if(u.ti()){var Y=u.GJ.Z9.I.FrFX,h=null,r=null,W=null,N=null,o=null;
if(Y.length!=0){h=Y[0];for(var g=0;g<Y.length;g++)if(Y[g].cs.r>h.cs.r)h=Y[g];var _=t.T0(h.cs,X);r=_[0];
W=_[1];var _=t.T0(h.cs,X);N=_[0];o=_[1];$._1(z,J,r,W,p)}ju.ax_(u.add.lmfx,u.GJ.Z9,y,z,J,p,G,C,r,W,N,o);
t.Q9(r);t.Q9(N)}$.MQ(G,C,z,J,Q,y,0,p,1,u.QN=="diss");u.GJ.axw();t.Q9(Q);t.Q9(G)};c$.prototype.axI=function(z,J,p,n,B){var c=fs.get(B),t;
if(c)t=fs.XC(c,B[c]);var u=a.zr(z),v=c$.Vh;if(!(co.Pw&&J.Vm(n)))v._1(z,J,p,n);if(t){if(co.Pw){var A=n.P();
A.x=A.y=0;if(J.Vm(n)){co.C4(p,A);fs.PW(t,z.zu,A)}else{co.C4(p,A);p.Xq(A);fs.PW(t,p.Qz,A)}}else fs.Rm(t,p,p,n)}return p};
c$.prototype.RS=function(z,J,p,n,B,c){var t=J.r,u=J.$,v=J.x,A=J.y,lj=p,$=lj.x,X=lj.y,U=-1,w=-1,P=2,k=2,Z=!1;
if(!n.KY){U=w=0;P=k=1}var T=this.children;for(var g=0;g<T.length;g++){if(!T[g].w.Bx)Z=!0;if(!Z)continue;
var i=fs.get(T[g].w.add)!=null,V=[];for(var _=g+1;_<T.length;_++)if(T[_].w.Bx)V.push(T[_]);else break;
for(var y=w;y<k;y++)for(var E=U;E<P;E++){J.x=v+E*t;J.y=A+y*u;lj.x=$+E*t;lj.y=X+y*u;if((E!=0||y!=0)&&i)continue;
T[g].Kp(z,J,lj,n,V,B,c)}g+=V.length}J.x=v;J.y=A;lj.x=$;lj.y=X};(function(){c$.prototype.aU=function(B,c,t,u){var v=this.w,A=v.add.lmfx,$=v.add.TySh,X=v.add.SoLd,w=null;
if(!v.LE())return;c.save();var U=v.YF/255*(v.add.iOpa?v.add.iOpa/255:1);c.globalAlpha*=U;c.globalCompositeOperation=jM.$s[jM.Bk.indexOf(v.QN)];
var P=B.add.prvw==0;if(P){c.lineWidth=1/B.i.XP;c.fillStyle="black"}var k=ju.ars(v,!1);if(k){w=c;var T=document.createElement("canvas");
T.width=c.canvas.width;T.height=c.canvas.height;var Z=c.getTransform();c=T.getContext("2d");c.setTransform(Z.a,Z.b,Z.c,Z.d,Z.e,Z.f)}if(v.nT()){var i=this.children,V=null;
for(var g=0;g<i.length;g++)if(i[g].w.$Z&&i[g].w.LE())V=i[g].w;if(V&&!P){c.beginPath();J(V,c);c.clip()}for(var g=0;
g<i.length;g++)i[g].aU(B,c,t,u)}else if($){var _=!0;if(v.GJ.path==null){_=hk.D5($,t.rf);if(_)hk.Te(v,t.rf,!1)}if(_){{var y=$.h;
c.save();z(c,y);var E=v.GJ.path;if(P){var F=E.Ao.slice(0);for(var g=0;g<F.length;g++)if(F[g][0]=="#")F[g]="#000000";
E={Ao:F,L:E.L}}hk.aFm(E,c);c.restore()}}}else if(v.dH()&&v.add.vmsk&&(!v.$Z||P)){var d=v.add.vmsk;c.beginPath();
J(v,c);if(P){c.stroke()}else{var x=v.add.vstl;if(x.ZI.length!=0){var f=p(x.ZI,d.u,B,c);if(f[1]){c.save();
z(c,f[1])}c.fillStyle=f[0];c.fill(["nonzero","evenodd"][d.VR]);if(f[1]){c.restore()}}if(x.K$.length!=0){a.z.bC(x,c);
c.strokeStyle=p(x.K$,d.u,B,c,!0)[0];c.stroke()}}}else if(X){var Q=X.filterFX;if(Q){var f=Q.v.filterFXList.v;
for(var g=0;g<f.length;g++){var m=f[g].v;if(!m.enab.v)continue;var H=em.Jt(m);if(H=="GsnB"){c.filter="blur("+m.Fltr.v.Rds.v.val*B.i.XP+"px)"}}}var R=X.Idnt.v,I=B.Cx(R,X.Crop?X.Crop.v:null),y=a.F.Gy(X),D=I.GS;
if(P){var G=L.tp.bU(X.Trnf);c.moveTo(G[0],G[1]);for(var g=2;g<8;g+=2)c.lineTo(G[g],G[g+1]);c.closePath();
c.stroke()}else n(B,v,c,y,D)}if(k){w.save();w.setTransform(1,0,0,1,0,0);w.drawImage(c.canvas,0,0);w.restore();
c=w}c.globalAlpha/=U;c.globalCompositeOperation="source-over";c.restore()};function z(B,c){B.transform(c.k6,c.X,c.GQ,c.JH,c.Rf,c.Sm)}function J(B,c){var t=B.add.vmsk.u;
for(var g=0;g<t.length;g++){if(t[g].I>5)continue;var u=t[g].length;if(u==0)continue;var v=t[g].I==3;
a.z.adz(c,t,g+1,u,0,0,v);if(!v)c.closePath();g+=u}}function p(B,c,t,u,v){if(B.length==3)return[CSS.ar5(B),null];
else if(B.length==2){var A=t.wC[B[0]],$=1,X=A.aEg;if(X==null){var U=document.createElement("canvas"),w=U.getContext("2d");
U.width=Math.round(A.r*$);U.height=Math.round(A.$*$);w.scale($,$);A.root.aU(A,w,{},null);X=A.aEg=u.createPattern(U,"repeat")}var P=new fA(1/$,0,0,1/$,0,0),k=t.Ge/72,T=new fA;
T.concat(P);var Z=B[1][1];T.concat(new fA(Z[0],Z[1],Z[2],Z[3],k*Z[4],k*Z[5]));T.scale(1,-1);return[X,T]}else{var i=B[0],V=B[1],_=B[2],y=-_[5]*Math.PI/180,E=gr.g7(B,c),F,P;
if(i==0){var d=[0,0,1,0];a.b.h(d,E,d);F=u.createLinearGradient(d[0],d[1],d[2],d[3])}else{var d=[Math.cos(y)*_[6],Math.sin(y)*_[6],0,0,1,0],x=Math.abs(E.k6*E.X+E.GQ*E.JH)<1e-9,f=Math.abs(E.k6*E.k6+E.X*E.X-E.GQ*E.GQ-E.JH*E.JH)<1e-9,Q=x&&f;
if(Q||v){a.b.h(d,E,d);var m=d[4]-d[2],H=d[5]-d[3];F=u.createRadialGradient(d[0],d[1],0,d[2],d[3],Math.sqrt(m*m+H*H))}else{F=u.createRadialGradient(d[0],d[1],0,0,0,1);
P=E}}a.Wi.NF(F,V);return[F,P]}}function n(B,c,t,u,v){if(u==null)u=new fA;var A=c.buffer,$=c.S;if(v){var X=u.Nz()*B.i.XP,U=0;
while(1<<U/2<.5/X&&U+2<v.length)U+=2;A=v[U];$=v[U+1];$=$.P();$.x=$.y=0;var X=1<<U/2,w=new fA;w.scale(X,X);
w.concat(u);u=w}if($.Sz())return;var P=document.createElement("canvas");P.width=$.r;P.height=$.$;var k=P.getContext("2d");
k.putImageData(new ImageData(new Uint8ClampedArray(A.buffer),$.r,$.$),0,0);t.transform(u.k6,u.X,u.GQ,u.JH,u.Rf,u.Sm);
t.drawImage(P,$.x,$.y);u.oU();t.transform(u.k6,u.X,u.GQ,u.JH,u.Rf,u.Sm)}}());function b$(z){this.Lt="psd";
this.ia=!1;this.name=z;this.oF=8;this.depth=8;this.ei=-1;this.KY=!1;this.c$=null;this.oT=null;this.eN=null;
this.vy=null;this.r=0;this.$=0;this.buffer=null;this.U=[];this.F0={};this.add={};this.ih=[];this.wC={};
this.nY=[];this.aEg=null;this.yF=4;this.fA=null;this.Ge=72;this.UD={};this.Y=[];this.r_=[];this.Bj=!1;
this.Cy=[];this.L8=[];this.$n=[b$.zo("Work Path")];this.uc=-1;this.E0=[];this.sk=null;this.TN={classID:"CompList",list:{t:"VlLs",v:[]}};
this.I7=null;this.Jk=[];this.gP=[];this.$p=[];this.root=null;this.HN=null;this.Uq=!1;this.agw=!1;this.aiL=!1;
this.aoY=!1;this.g5=!1;this.eO=!1;this.SR=!1;this.JS=!1;this.Pb=!1;this.Km=!1;this.eo=null;this.ajF=null;
this.M=null;this.b8=[];this.dX=[];this.W={s2:{},MG:[],K1:[],Px:[],hT:[],u2:[],cV:null,qH:null,S4:null,lD:null,Tk:null,qT:null,p$:null,XI:null,lN:[],wE:[],je:null};
this.history=[new dY([1,0],null)];this.Jq=0;this.nD=0;this.adh=0;this.a4o=0;this.sN=null;this.Ck=!1;
this.i=new dc(this);this.Wv=null;this.ay$=null}b$.prototype.Cr=function(z){var J=this,p=J.amp,n=null,B,t=!1;
if(z&&p==null)return;var c=new fw(0,0,J.r,J.$);if(this.AM(!1))n=J.U[J.Y[0]];if(z)n=null;if(z)console.log("clearing");
if(p&&p!=n){B=p.S;p.eB();if(!B.Vm(p.S)){p.qM();if(t)console.log("compressing",p.getName())}}if(n){B=n.S;
n.extend(c);if(!B.Vm(n.S)){n.qM();if(t)console.log("extending",n.getName())}}this.amp=n};b$.prototype.xb=function(){var z=this;
z.nD=z.Jq;z.adh=Date.now();z.eO=!0};b$.prototype.aD9=function(){var z=this,J=z.add.artd;return J!=null&&J.Cnt.v>1||z.add.arts&&z.add.arts.length>1};
b$.prototype.Wk=function(z){if(z){if(z.length==30240){this.Wk(null);return}this.F0.r1039=z;var J=ICC.R(z.buffer),B=null,c=17,X,U;
if(J==null){this.Wk(null);return}var p=J.header.spaceIn.toLowerCase(),n=JSON.stringify(J.tags.desc).toLowerCase();
try{B=ICC.U.profileName(J)}catch(l5){}if(p!="rgb "||B==null||n.indexOf("srgb")!=-1&&n.indexOf("p3")==-1&&this.depth!=32||n.indexOf("apple wide color sharing profile")!=-1||n.indexOf("apple poppy output profile")!=-1||p=="rgb "&&this.add.fcmy==1){this.Wk(null);
return}console.log("We got an ICC profile!",J,B);try{var t=ICC.U.sampleLUT(J,c)}catch(l5){this.Wk(null);
return}var u=a.Ff("rgbToRgbC"),v=u[2],A=u[3],$=b$.agT(t,A,v);if(co.Pw){X=new co.rk(c,c*c,co.Ib());X.set(ICC.U.lutToRGBA32(t,c));
U=new co.rk(c,c*c,co.Ib());U.set(ICC.U.lutToRGBA32($,c))}this.Wv=[z,J,c,t,X,$,U]}else{delete this.F0.r1039;
this.Wv=null}};b$.agT=function(z,J,p){var n=z.slice(0),B=a.j(4,32);for(var g=0;g<z.length;g+=3){B[0]=z[g];
B[1]=z[g+1];B[2]=z[g+2];ICC.U.applyLUT(J,p,B,B);n[g]=B[0];n[g+1]=B[1];n[g+2]=B[2]}return n};b$.prototype.JM=function(){return this.Wv};
b$.prototype.Zy=function(){if(this.Wv)return this.Wv;if(this.add.fcmy==1){if(this.ay$==null){var z=a.Ff("rgbToRgbC"),J=z[2],p=z[3],n;
if(co.Pw){n=new co.rk(J,J*J,co.Ib());n.set(ICC.U.lutToRGBA32(p,J))}this.ay$=[null,null,J,null,null,p,n]}return this.ay$}};
b$.prototype.a4s=function(){var z=this.JM();if(z==null)return 0;var J=ICC.U.profileName(z[1]);if(J=="Adobe RGB (1998)")return 1;
if(J=="ProPhoto RGB")return 2;if(J=="Display P3")return 3;return-1};b$.prototype.av6=function(){var z=this;
if(z.i.Az.join("")!="111"){z.i.Az=[1,1,1];z.eO=!0}for(var g=0;g<z.U.length;g++){var J=z.U[g],p=J.add.vmsk;
if(J.Ik()){var n=J.g6(z);if(n&&n.T4&&n.T4.m6){n.T4.m6=!1;z.eO=!0}}var B=J.Qu();if(B&&B.m6){B.m6=!1;z.eO=!0}if(p){if(p.Y.length!=0)p.Y=[];
if(p.Vd.length!=0)p.Vd=[]}}};b$.prototype.a4k=function(){var z=this;return z.M!=null||z.Q8()[1].length!=0||z.Y.length>1};
b$.prototype.zQ=function(){var z=this.r_,J=[];for(var g=0;g<z.length;g++)J[g]=-1;var p=this.root.children;
for(var g=0;g<p.length;g++){var n=p[g],B=n.w.add.artb;if(B==null)continue;var c=B.guideIndeces;c=c?c.v:[];
for(var t=0;t<c.length;t++)J[c[t].v]=n.index}return[a.G(z),J]};b$.prototype.$t=function(z){this.r_=a.G(z[0]);
var J=z[1],p=this.root.children;for(var g=0;g<p.length;g++){var n=p[g],B=n.w.add.artb;if(B==null)continue;
B.guideIndeces={t:"VlLs",v:[]}}for(var g=0;g<J.length;g++)if(J[g]!=-1)this.U[J[g]].add.artb.guideIndeces.v.push({t:"long",v:g})};
b$.prototype.ayY=function(z){var J=this;if(z[0])J.add.lnk2=z[0];else delete J.add.lnk2;if(z[1])J.add.FEid=z[1];
else delete J.add.FEid;if(z[2])J.add.Patt=z[2];else delete J.add.Patt};b$.prototype.avW=function(z){var J=this,p=[],n=[],B=[],P=null,k=null,T=null;
for(var g=0;g<z.length;g++){var c=z[g];if(c.add.SoLd){p.push(c.add.SoLd.Idnt.v);n.push(c.add.SoLd.placed.v)}if(c.add.PtFl)B.push(c.add.PtFl.Ptrn.v.Idnt.v);
if(c.add.lmfx){for(var t=0;t<a_.in.length;t++){var u=c.add.lmfx[a_.in[t]].v;for(var v=0;v<u.length;v++)if(u[v].v.Ptrn){var A=u[v].v;
if(A.classID=="FrFX"&&A.PntT.v.FrFl!="Ptrn")continue;B.push(A.Ptrn.v.Idnt.v)}}}var $=c.add.vstk;if($&&$.strokeStyleContent.v.classID=="patternLayer"){B.push($.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var X=J.add.lnk2,U=J.add.FEid,w=J.add.Patt;
if(X){P=[];for(var g=0;g<X.length;g++)if(p.indexOf(X[g].A_)!=-1)P.push(X[g]);if(P.length==0)P=null}if(U){k=[];
for(var g=0;g<U.length;g++)if(n.indexOf(U[g].id)!=-1)k.push(U[g]);if(k.length==0)k=null}if(w){T=[];for(var g=0;
g<w.length;g++)if(B.indexOf(w[g].id)!=-1)T.push(w[g]);if(T.length==0)T=null}return[P,k,T]};b$.prototype.ce=function(z){var J=this,p=J.root.Ti(z==null?J.Y[0]:z),n=!1;
while(p.parent!=null){n=n||p.w.iF(31);p=p.parent}return n};b$.prototype.d4=function(){var z=this.b8,J=this.b8.length;
if(J!=0&&z[J-1].name=="Quick Mask")return z[J-1]};b$.prototype.bO=function(){return this.Lt==iX.DX("% |/!)")||this.Lt==iX.fb("gP")};
b$.prototype.Gd=function(z){var J=this.add.artd;if(z!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:z},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};b$.prototype.p0=function(z){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(z)==-1)this.add.FEid.push(z)};
b$.prototype.Rb=function(z){var J=this.add.FEid.indexOf(z);this.add.FEid.splice(J,1);if(this.add.FEid.length==0)delete this.add.FEid};
b$.prototype.qM=function(z){if(z==null)z=new fw(0,0,this.r,this.$);if(this.eo==null)this.eo=z;else this.eo=this.eo.KQ(z)};
b$.prototype.azT=function(z){return this.eo!=null};b$.prototype.em=function(z){var J=this.U[z],p=this.root.Ti(z);
if(p==null)return!1;if(J.nT()||p.parent.children.indexOf(p)==0)return!1;return!0};b$.a0G=function(z){if(z.add.lnk2)for(var g=0;
g<z.add.lnk2.length;g++){var J=z.add.lnk2[g].A_;z.add.lnk2[g].A_=b$.rR()+J.slice(8);for(var p=0;p<z.U.length;
p++){var n=z.U[p].add.SoLd;if(n&&n.Idnt.v==J)n.Idnt.v=z.add.lnk2[g].A_}}};b$.prototype.tX=function(z,J,p){z.sort(function(X,U){return X-U});
var top=z[z.length-1],n=this.U.slice(0),B=this.Y.slice(0),c=[],t=[];for(var g=0;g<this.U.length;g++){if(z.indexOf(g)!=-1)t.push(this.U[g]);
else c.push(this.U[g])}this.QF(t);this.Y=[];var u=this.root.R2(this,!0);if(J)u=u.ly(J);if(p)u=u.KQ(p);
if(u.Sz())u=new fw(0,0,100,100);var v=new fw(-u.x,-u.y,this.r,this.$),A=new Uint8Array(kL.V5("PSD").D6(this,0,0,[!0,!1]));
this.QF(n);this.Y=B;var $=new b$(this.U[top].getName());kL.V5("PSD").uj(A.buffer,$);delete $.add.artd;
$.Cy=[];$.QF($.U);$.$t([[],[]]);b$.a0G($);L.d_.O4($,u);$.qM();$.TQ();$.dT();return[$,u,c,top]};b$.prototype.a9z=function(z,J,p){var n=this.tX(z),B=n[0],c=n[1],t=n[2],top=n[3],u;
if(p=="jpg")u=new Uint8Array(kL.V5("JPG").D6([[B.dT().buffer]],B.r,B.$,[80]));else u=new Uint8Array(kL.V5("PSD").D6(B,null,null,[!0,!1]));
if(J)t=this.U.slice(0);var v=this.aZ(u,B.name,c.x,c.y);if(top==this.U.length-1)t.push(v);else t.splice(J?top+1:top-z.length+1,0,v);
this.QF(t);this.Y=[t.indexOf(v)]};b$.rR=function(z){if(z==null)z="";var J="";while(J==""||J==z){J="";
for(var g=0;g<8;g++)J+=Math.floor(Math.random()*16).toString(16)}return J};b$.prototype.KX=function(z){if(z==null)return;
if(this.add.Patt==null)this.add.Patt=[];var J=this.add.Patt;for(var g=0;g<J.length;g++)if(J[g].id==z.id)return;
J.push(z)};b$.prototype.akQ=function(z){for(var g=0;g<this.U.length;g++){var J=this.U[g],p=J.add.SoLd;
if(p&&p.Idnt.v==z)J.m8(this)}};b$.prototype.aZ=function(z,J,p,n,B,c,t){if(this.add.lnk2==null)this.add.lnk2=[];
var u=null;for(var g=0;g<this.add.lnk2.length;g++)if(a.Vm(z,this.add.lnk2[g].raw)){u=this.add.lnk2[g].A_;
break}if(u==null){var v=kL.yd(z.buffer);u=b$.rR()+"-d71c-11e5-b1ae-a548a96e5f9f";var A=new bi.WM;A.A_=u;
A.J_=v=="psd"?"8BIM":"    ";A.qI=J+"."+v;A.ht=v=="psd"?"8BPB":"    ";A.open=0;A.raw=z;A.I="liFD";A.it=2;
this.add.lnk2.push(A)}var $=this.Cx(u,null,null,null,c,t),X=b$.rR()+"-d71c-11e5-b1ae-a548a96e5f9f",U=this.JG(),w=$?$.Mm:new fw;
U.HV(J);U.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:u},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:X},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:a.TX.j(w)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:w.r},Hght:{t:"doub",v:w.$}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:$?$.Ge:72}}};
var P=w.P();if(p!=null)P.offset(p,n);if($!=null&&B){var v=kL.yd(z.buffer),k=this.i,T=B,Z=k.cE(B.x+B.r/2,B.y+B.$/2);
if(!k.B7.n9(Z)){var i=a.b.e3(k.B7).L;a.b.h(i,k.kb(),i);B=B.ly(a.b._g(i))}var V=B.x,_=B.y,y=B.r,E=B.$;
P=$.Mm.P();P.offset(V+p,_+n);var F=F=this.Ge/($.Ge?$.Ge:v=="pdf"?144:this.Ge);P.r=P.r*F;P.$=P.$*F;var d=Math.max(P.r/T.r,P.$/T.$);
if(d>1.0001){P.r=P.r/d;P.$=P.$/d}P.x=Math.round(V+(y-P.r)/2);P.y=Math.round(_+(E-P.$)/2)}var x=a.b.e3(P).L;
U.add.SoLd.Trnf=L.tp.ey(x);U.add.SoLd.nonAffineTransform=L.tp.ey(x);if($){if(B)U.m8(this,!1);else if(ex==0){U.S=$.GS[1].P();
U.S.offset(P.x,P.y);U.buffer=$.GS[0].slice(0)}}return U};b$.prototype.Ar=function(z){var J=this.add.arts,p=new fw;
for(var g=0;g<J.length;g++)p=p.KQ(a.b.yq(J[g].J4));if(z!=!0)p=a.b.$M(p);return p};b$.prototype.u5=function(z,J,p){var n=this.Ar();
if(J==null){J=n.r;p=n.$}var B=a.za(J,p);B.save();B.translate(-n.x,-n.y);B.scale(J/n.r,p/n.$);this.root.aU(this,B,z,new fw(0,0,J,p));
B.restore();return B.getImageData(0,0,J,p).data.buffer};b$.prototype.dT=function(z){if(z!=null){this.qM();
this.TQ(z);var J=this.buffer;if(co.Pw)this.HN.get(J);else J=J.slice(0);this.qM();this.TQ();return J}if(this.eo){this.TQ();
this.eo=null}if(co.Pw&&this.ajF){this.HN.get(this.buffer);this.ajF=null;this.SR=!0}return this.buffer};
b$.prototype.an1=function(){for(var g=0;g<this.U.length;g++)this.U[g].adw();this.qM()};b$.prototype.avI=function(){for(var g=0;
g<this.U.length;g++)if(this.U[g].add.lmfx)this.U[g].GJ.X_=!0};b$.prototype.kv=function(){var z=this.F0.r1044;
if(z==null){z=this.F0.r1044=new Uint8Array(4);var J=0;for(var g=0;g<this.U.length;g++)J=Math.max(J,this.U[g].add.lyid);
e.HH(z,0,J)}var p=e.fy(z,0);e.HH(z,0,p+1);return p+1};b$.prototype.AM=function(z,J,p){if(z==null)z=!0;
var n=this;if(n.dX.length!=0)return!0;if(n.Y.length!=1){if(z)alert(n.Y.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.lF(z,J,p)};b$.prototype.lF=function(z,J,p){if(z==null)z=!0;if(J==null)J=!1;var n=this;
if(n.dX.length!=0)return!0;for(var g=0;g<n.Y.length;g++){var B=n.U[n.Y[g]],c=J||B.uB<=0;if(B.add.lsct!=null&&B.add.lsct!=cp.if&&B.uB!=1){if(z)alert(j0.get([15,7,2]));
return!1}if(c&&!B.Zg()){if(z)alert(j0.get([15,7,2]));return!1}if(c&&B.add.TySh){return this.acw(z,[15,7,3],p)}if(c&&B.add.SoLd){return this.acw(z,[15,7,4],p)}if(B.iF(1)||n.ce(n.Y[g])){if(z)alert(j0.get([6,57,0]));
return!1}}return!0};b$.prototype.acw=function(z,J,p){if(z&&typeof z=="object"){var n=new cD(b.E.c);n.data={R:b.J.Ym,i9:"confirm"};
n.data.K=j0.get(J)+". "+j0.get([6,8])+"?";var B=z;n.data.RD=function(){var c=new cD(b.E.wR,!0);c.data={rK:"rasterizeLayer",m$:{classID:"rasterizeLayer",null:dB.DG("Lyr",!0)}};
B.a(c)};z.a(n);return!1}if(z)alert(j0.get(J));return!1};b$.prototype.a6L=function(z){var J=this.root.Ti(z);
if(J.parent)return J.w.LE()&&this.a6L(J.parent.index);else return J.w.LE()};b$.prototype.oq=function(z){var J=this;
if(z){var p=0;for(var g=0;g<J.Y.length;g++)if(J.U[J.Y[g]].add.artb)p++;if(p>1)return-1}if(J.add.artd&&J.Y.length!=0){var n=J.root.Ti(J.Y[0]);
while(n.parent.parent)n=n.parent;if(n.w.add.artb)return n.index}return-1};b$.prototype.VY=function(){var z=this.oq();
if(z!=-1){var J=this.U[z].x0();return new i_(J.x,J.y)}return new i_(0,0)};b$.prototype.aAB=function(){var z=this.U[this.Y[0]];
if(z.uB<=0&&!z.S.SH(this.M.S)){alert("Selected area is empty.");return!1}if(this.Y.length==1&&this.M){var J=a.j(this.M.N.length);
a.CO(z.buffer,z.S,J,this.M.S);a.iy(this.M.N,J);if(a.yv(J,0)){alert("Selected area is empty.");return!1}}return!0};
b$.prototype.rN=function(){if(this.F0["r"+1037]==null)this.r6(30);return e.lz(this.F0["r"+1037],0)};
b$.prototype.r6=function(z){if(this.F0["r"+1037]==null)this.F0["r"+1037]=new Uint8Array(4);if(e.lz(this.F0["r"+1037],0)==z)return;
e.Xv(this.F0["r"+1037],0,z);this.avI()};b$.prototype.Ch=function(){if(this.F0["r"+1049]==null)this.Qv(30);
return e.lz(this.F0["r"+1049],0)};b$.prototype.Qv=function(z){if(this.F0["r"+1049]==null)this.F0["r"+1049]=new Uint8Array(4);
if(e.lz(this.F0["r"+1049],0)==z)return;e.Xv(this.F0["r"+1049],0,z);this.avI()};b$.prototype.Hb=function(z){if(this.add.lnk2==null)return null;
for(var g=0;g<this.add.lnk2.length;g++)if(this.add.lnk2[g].A_==z)return this.add.lnk2[g];return null};
b$.prototype.ak$=function(z){var J=this.Hb(z);if(J==null)return!1;var p=kL.yd(J.raw.buffer);if(p==null)return!1;
if(kL.V5(p)!=null||p=="psd")return!0;return!1};b$.prototype.Cx=function(z,J,p,n,B,c){var t=this.Hb(z);
if(t==null)return null;t.dT(J,p,n,B,c);if(t.GS)return t};b$.prototype.aC8=function(){var z=this.r,J=this.$,p=this.HN,n=this.depth;
if(co.Pw&&p==null)p=this.HN=new co.rk(z,J,n,!0);if(this.buffer==null||this.buffer.length!=z*J*4||co.Pw&&(p.r!=z||p.$!=J||p.depth!=n)){this.buffer=a.j(z*J*4,n);
if(p)p.delete();if(co.Pw)p=this.HN=new co.rk(z,J,n,!0)}};b$.prototype.aq9=function(){this.aC8();if(co.Pw){this.HN.set(this.buffer)}};
b$.prototype.TQ=function(z){if(ex!=0)throw"redrawing in vector mode";var J=this.r,p=this.$,n=new fw(0,0,J,p),B=this.KY?n:n.ly(this.eo);
this.aC8();if(B.Sz())return;if(!B.Vm(n)){if(!co.Pw){var c=a.j(B.C()*4,this.depth);a.nk(c,B,this.buffer,n)}if(co.Pw){co.C4(this.HN,B);
co.j4(0)}}else{if(co.Pw){this.HN.set(null)}else{this.buffer.fill(0)}}var t=Date.now(),u=co.Pw?this.HN:this.buffer;
if(z==null)z=1e9;var v=this.root.children;for(var g=0;g<v.length;g++){var A=v[g].w;if(A.LE()&&A.add.artb&&this.add.artd){var $=A.x0(),X=B.ly($),U=A.i8();
if(U!=0){if(co.Pw){co.C4(u,X);co.j4(U);co.j4(U)}else a.aks(u,n,X,U)}}}this.root.Kp(u,n,B,this,[],z,gK);
gK.a5A();this.ajF=this.eo.P()};b$.prototype.JG=function(z){var J=new bi;J.S=new fw(0,0,0,0);J.buffer=a.j(0,this.depth);
J.HV("Layer");if(z!=!0)J.add.lyid=this.kv();J.add.lsct=cp.if;J.add.lclr=0;J.add.fxrp=new i_(0,0);return J};
b$.prototype.eH=function(z){var J=this.JG(z);J.HV("</Layer group>");J.add.lsct=cp.hX;J.a3=24;return J};
b$.prototype.E_=function(){return this.Jq!=this.nD};b$.prototype.kL=function(z){while(this.history.length>this.Jq+1)this.history.pop();
if(this.nD>this.Jq)this.nD=-1;if(z.l.id!=L._T){this.aoY=!0;if(this.TN.lastAppliedComp){delete this.TN.lastAppliedComp;
this.SR=!0}}this.history.push(z);this.Jq++;this.SR=!0;var J=j8.x_()?40:20,p=0;for(var g=this.history.length-1;
g>=0;g--){var n=this.history[g];if(n.a25)continue;p++;if(p==J){this.Jq-=g;this.history=this.history.slice(g);
break}}};b$.prototype.HE=function(){if(this.Jq!=this.history.length-1)return null;return this.history[this.history.length-1]};
b$.prototype.l3=function(z,J,p,n){if(z==null)z=!1;var B=J!=null?[J]:this.Y.slice(0);if(n){var c=[];for(var g=0;
g<B.length;g++){var t=this.U[B[g]],u=t.eg;if(t.cM&&u!=0&&c.indexOf(u)==-1)c.push(u)}if(c.length!=0)for(var g=0;
g<this.U.length;g++){var t=this.U[g],u=t.eg;if(t.cM&&u!=0&&c.indexOf(u)!=-1&&B.indexOf(g)==-1)B.push(g)}}var v=[];
for(var g=0;g<B.length;g++){var A=this.Fv(B[g],z);for(var $=0;$<A.length;$++)if(v.indexOf(A[$])==-1)v.push(A[$]);
if(p){var lj=this.root.Ti(B[g]);while(lj.parent!=null&&lj.parent.parent!=null){lj=lj.parent;if(v.indexOf(lj.index)==-1){v.push(lj.index,lj.$K)}}}}return v};
b$.prototype.pL=function(z,J,p){var n=this,B=n.l3(!1,z,null,p);B.sort(function(V,_){return V-_});var c={};
for(var t=0;t<n.U.length;t++){var u=n.U[t].getName();c[u]=!0}var v=[];for(var g=0;g<B.length;g++){var A=n.U[B[g]].P(),T,Z;
A.add.lyid=n.kv();A.add.lspf=0;if(A.Ik()){var $=A.g6(n),X=b$.aHa($);n.p0(X);A.add.SoLd.placed.v=X.id}else if(A.add.SoLd){var U=A.add.SoLd.placed.v;
A.add.SoLd.placed.v=b$.rR(U.slice(0,8))+U.slice(8)}A.k3(n);var w=A.getName(),P=w.length;while(48<=w.charCodeAt(P-1)&&w.charCodeAt(P-1)<=57)P--;
var k=parseInt(w.slice(P));if(isNaN(k)){if(w.endsWith(" copy")){k=1;T=w.slice(0,w.length-5)}else{k=0;
T=w}}else if(w.slice(0,P).endsWith(" copy ")){k=k;T=w.slice(0,P-6)}else{k=0;T=w}k++;while(!0){Z=T+" copy"+(k==1?"":" "+k);
if(c[Z]==null)break;k++}var i=B.indexOf(this.root.Ti(B[g]).parent.index)!=-1;if(w=="Background"&&n.U.length==1)Z="Layer 1";
if(J!=!0&&!i)A.HV(Z);c[Z]=!0;v.push(A)}return v};b$.aHa=function(z){return{id:b$.rR(z.id.slice(0,8))+z.id.slice(8),buffer:z.buffer.slice(0),S:z.S.P(),T4:z.T4?z.T4.P():null}};
b$.art=function(z,J){return{id:z,S:new fw,buffer:a.j(1,J),T4:new bi.L7(J)}};b$.zo=function(z,J,p){if(p==null)p=[0,0];
if(J==null)J={vmsk:new bi.jP};if(J.vogk==null){J.vogk=[];var n=a.z.ZR(J.vmsk.u);for(var B=0;B<n;B++)J.vogk.push(a.R$.Q7())}return{name:z,GU:0,sC:p,add:J}};
b$.prototype.Q8=function(z){var J=[],p=[],n=this;for(var g=1;g<n.$n.length;g++){var B=n.$n[g];B.GU=-1-g;
J.push(B);if(n.E0.indexOf(g)!=-1)p.push(J.length-1)}if(n.$n[0].add.vmsk.u.length>2){var B=n.$n[0];B.GU=-1;
J.push(B);if(n.E0.indexOf(0)!=-1)p.push(J.length-1)}var c=n.sk==null;if(c)n.sk=[];for(var g=n.Y.length-1;
g>=0;g--){var t=n.Y[g],u=n.U[t],v=u.add.TySh;if(u.add.vmsk!=null){var B=b$.zo("\""+u.getName()+"\" Shape Path",u.add);
B.GU=t;J.push(B);if(c&&(u.UU||u.dH()))n.sk.push(t);if(n.sk.indexOf(t)!=-1)p.push(J.length-1)}if(v&&v.add&&a.TX.CM(v.lL)){var B=b$.zo("\""+u.getName().slice(0,10)+"..\" Text Path",v.add);
B.GU=1e6+n.Y[g];J.push(B);p.push(J.length-1)}}if(p.length==0&&z){n.$n[0].GU=-1;n.E0=[0];p.push(J.length);
J.push(n.$n[0])}return[J,p]};b$.prototype.Fv=function(g,z){var J=[],lj=this.root.Ti(g);if(lj)lj.JF(J,z);
return J};b$.prototype.m4=function(){this.root.ky(this,new fw(0,0,this.r,this.$))};b$.prototype.QF=function(z){for(var g=0;
g<this.U.length;g++){var J=this.U[g];if(z.indexOf(J)==-1){J.GJ.aAN();J.qM()}}var p=0;for(var g=0;g<z.length;
g++)if(z[g].add.artb)p++;this.Gd(p);this.U=z.slice(0);this.K6()};b$.prototype.K6=function(){var z=this.U,J=z.length;
this.root=new c$;var p=this.JG(!0);p.QN="pass";p.add.lsct=cp.xj;p.HV("");var n=this.eH(!0),B=[n];for(var g=0;
g<J;g++)B.push(z[g]);B.push(p);this.root.a4E(B,0,0);if(this.Y.length==0)this.Y=[J-1]};b$.prototype.n$=function(){if(this.Y.length!=1)return;
var z=this.root.Ti(this.Y[0]);while(z.parent!=null){var J=z.parent.w;J.add.lsct=cp.xj;z=z.parent}this.eO=this.aGF=!0};
b$.prototype.apJ=function(){this.K6();var z=[this.root],fR=0;while(z.length!=0){var top=z.pop();fR++;
if(top.w.add.lsct==cp.xj)for(var g=0;g<top.children.length;g++)z.push(top.children[g])}if(fR>1e3){var J=this.root.children;
for(var g=0;g<J.length;g++)if(J[g].w.add.lsct==cp.xj)J[g].w.add.lsct=cp.mD}};b$.IP=function(z,J,p,n,B,c,t,u,v){if(u==null)u="sRGB IEC61966-2.1";
if(v==null)v=8;var A={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:n},artboard:{t:"bool",v:c},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:z*72/p}},Hght:{t:"UntF",v:{type:"#Rlt",val:J*72/p}},Rslt:{t:"UntF",v:{type:"#Rsl",val:p}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:B}},Dpth:{t:"long",v:v},profile:{t:"TEXT",v:u}}}};
if(B=="Clr")A.Nw.v.FlCl={t:"Objc",v:t};return{rK:"make",m$:A}};b$.uy=["sRGB","Adobe RGB","ProPhoto RGB","Display P3"];
b$.Xj=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"];b$.Dn=[null,"icc/adobe","icc/prophoto","icc/displayp3"];
b$.a27=function(z,J){var p=0,n=0,B=72,c=J.ax0,t=z.preset&&z.preset.v=="Clipboard",u=z.Dpth?z.Dpth.v:8;
if(t){p=c.r;n=c.$}else{p=z.Wdth.v.val;n=z.Hght.v.val;B=z.Rslt.v.val;p=Math.round(p*B/72);n=Math.round(n*B/72)}var v=new b$((z.Nm?z.Nm.v:j0.get([11,7]))+".psd");
v.r=p;v.$=n;v.Ge=B;v.depth=u;var A=z.Fl?z.Fl.v.Fl:"Wht";if(z.artboard&&z.artboard.v){var $=v.JG();$.HV(j0.get([1,16,0])+" 1");
$.add.lsct=cp.xj;$.Uu(new fw(0,0,p,n));$.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[A]};
if(A=="Clr")$.add.artb.Clr={t:"Objc",v:a.Wi.yR(a.Wi.Um(z.FlCl.v))};$.QN="pass";$.a3=24;var X=v.JG();
X.HV("Layer 1");v.QF([v.eH(),X,$]);v.Gd(1);v.Y=[1]}else if(ex==0){var U=v.JG(),w=0;U.HV("Background");
v.QF([U]);U.add.lspf=1<<2;if(A=="Clr")w=a.Wi.Um(z.FlCl.v);else if(A!="Trns"){var P=J.Gh;w={Wht:{o:255,k:255,X:255},Blck:{o:0,k:0,X:0},BckC:{o:P>>>16,k:P>>>8&255,X:P&255}}[A]}if(w){U.S=new fw(0,0,p,n);
U.buffer=a.j(p*n*4,u);ju.$r(U.buffer,a.Wi.yR(w))}}if(ex==0)v.buffer=a.j(p*n*4,u);var k=z.profile;if(k){var T=b$.Dn[b$.Xj.indexOf(k.v)];
if(T)v.Wk(kL.r7.get(T))}if(ex==1)v.Ge=72;return v};b$.prototype.apE=function(){var z=this,J=z.add.arts=[],p=!0;
z.add.prvw=1;z.K6();var n=z.root.children;for(var g=0;g<n.length;g++)if(!n[g].w.nT())p=!1;if(!p||z.U.length==0){z.U.unshift(z.eH());
var B=z.JG();B.HV("Layer 1");B.add.lsct=cp.xj;B.QN="pass";B.a3=24;z.U.push(B);for(var g=0;g<z.Y.length;
g++)z.Y[g]++;z.JS=!0}if(z.add.artd){delete z.add.artd;var c=[];for(var g=0;g<z.U.length;g++){var B=z.U[g],t=B.add.artb;
if(t==null)continue;var u=B.x0();delete B.add.artb;J.push({y0:B.getName(),J4:[u.x,u.y,u.x+u.r,u.y+u.$],Y:!1});
var v=t.artboardBackgroundType.v;if(v!=1&&v!=3){var A=z.root.Ti(g).aeZ;c.push([A,v,u,a.Wi.Um(t.Clr.v)])}}for(var g=0;
g<c.length;g++){var A=c[g][0],v=c[g][1],u=c[g][2],$=c[g][3],B=z.JG();B.HV("Background");B.add.vmsk=new bi.jP;
B.add.vmsk.u=a.z.dZ.Rect(u.x,u.y,u.r,u.$);B.add.vstk=a_.jM.J0(!0);B.add.vstl=a_.St.J0();B.add.vstl.ZI=[null,[1,1,1],[0,0,0],[],[$.o/255,$.k/255,$.X/255],[1,1,1]][v];
B.cC();z.U.splice(z.U.indexOf(A)+1,0,B);z.K6()}console.log(c)}else J.push({y0:"Artboard",J4:[0,0,z.r,z.$],Y:!1});
if(z.name.endsWith(".psd"))z.name=z.name.slice(0,-4)+".ai";if(z.buffer)z.buffer=null;for(var g=0;g<z.U.length;
g++){var B=z.U[g],u=B.S;if(B.nT()&&B.add.vmsk==null&&B.Qu()){var X=B.Qu();L.vJ.fT(z,B,null);B.add.vmsk=new bi.jP;
L.YG.aaf(X,B)}if(B.Qu())L.vJ.fT(z,B,null);if(B.nT()&&B.add.vmsk){var U=z.JG();z.U.splice(g,0,U);U.HV("<Clipping Path>");
U.$Z=!0;U.add.vogk=B.add.vogk;delete B.add.vogk;U.add.vmsk=B.add.vmsk;delete B.add.vmsk;U.add.vstk=a_.jM.J0();
U.add.SoCo=JSON.parse(a_.ef[a_.order.indexOf("SoFi")]);console.log("mask here!")}else if(B.add.SoLd&&B.add.vmsk){delete B.add.vmsk}else if(B.dH()&&B.add.vstl==null){if(B.add.vmsk==null){B.add.vmsk=new bi.jP;
B.add.vmsk.u=a.z.dZ.Rect(0,0,z.r,z.$);B.add.vstk=a_.jM.J0(!0);B.cC()}var w=B.add.vstl=b$.cD(B.add)}delete B.add.lmfx;
if(B.add.SoLd||B.add.TySh||B.add.vmsk||u.Sz())continue;var P=u.r,k=u.$,T=a.TP(B.buffer,P,k)?"JPG":"PNG";
if(P*k<700*700)T="PNG";var Z=kL.V5(T).D6([[B.buffer.buffer]],P,k),i=z.U[g]=z.aZ(new Uint8Array(Z),B.getName(),u.x,u.y);
i.Rz(B.LE());i.QN=B.QN;i.YF=B.YF}};b$.cD=function(z,J){var p=z.vstk,v=null,A=null;if(p==null)p=a_.jM.J0(!0);
var n=a_.jM.kn(p),B=a_.O7(z),c=a_.cb(p);function t(v){var k=a.Wi.Um(v.Clr.v);return[k.o/255,k.k/255,k.X/255]}var u=z.lmfx;
if(u)v=u.solidFillMulti.v[0];if(v)v=v.v;if(v&&(!v.enab.v||v.Opct.v.val<50))v=null;if(u)A=u.frameFXMulti.v[0];
if(A)A=A.v;if(A&&(!A.enab.v||A.Opct.v.val<50))A=null;var $=z.vmsk,X=$?$.u:a.z.dZ.Rect(0,0,J.r,J.$);for(var U=0;
U<2;U++){var w=U==0?B:c,P=[];if(w.ht==1)P=jr.lI(w._H.Clr.v);if(w.ht==2){P=z[U==0?"_fstl":"_sstl"];if(P==null||ex==0)P=gr.qx(w._H,X,J)}if(U==0&&v)P=t(v);
if(U==1&&A){P=t(A);n.tM=A.Sz.v.val;n.O_=a_.stroke.types.indexOf(A.Styl.v.FStl);n.AE=1}if(U==0)n.ZI=P;
else n.K$=P}return n};function dc(z){this.CT=z;this.XP=0;this.aco=1;this.HB=1;this.p=new i_(0,0);this.fi=new i_(0,0);
this.rH=0;this.Az=[1,1,1];this.aD=0;this.B7=new fw(0,0,1,1);this.az5=new fw(0,0,z.r,z.$);this.zZ=null;
this.SZ=null;this.dO=null;this.vW=null}dc.iu=null;dc.Sq=null;dc.e9=function(z){var J=dc,p=z.C();if(J.iu==null||J.iu.length!=p*4){J.Sq=a.j(p);
J.iu=a.j(p*4)}};dc.prototype.kb=function(z){var J=new fA,p=this.B7,n=this.CT,B=z?this.HB:this.XP,c=z?this.fi:this.p,t=Math.round((p.r-n.r*B)/2+c.x),u=Math.round((p.$-n.$*B)/2+c.y);
J.translate(-t,-u);J.scale(1/B,1/B);var v=n.r/2,A=n.$/2;J.translate(-v,-A);J.rotate(this.rH);J.translate(v,A);
return J};dc.prototype.axm=function(z){var J=this.B7,p=this.CT,n=Math.atan2(-z.X,z.k6),B=p.r/2,c=p.$/2;
z.translate(-B,-c);z.rotate(-n);z.translate(B,c);var t=1/z.Nz();z.scale(t,t);var u=-z.Rf,v=-z.Sm,A=Math.round(u-(J.r-p.r*t)/2),$=Math.round(v-(J.$-p.$*t)/2);
if(Math.abs(t-Math.round(t))<1e-6)t=Math.round(t);this.rH=n;this.XP=t;this.p=new i_(A,$)};dc.prototype.lm=function(){var z=this.kb(),J=200,p=100,n=Math.round(L.$q()*J/12)*this.aco;
z.scale(this.CT.J.aao/(p*q.$q()),-1/n);z.translate(0,5*12);return z};dc.prototype.aC6=function(z,J,p){return this.lm().g$(new i_(z,J))};
dc.prototype.Ka=function(z,J,p){var n=this.kb(),B=n.g$(new i_(z,J));if(p){B.x=Math.round(B.x);B.y=Math.round(B.y)}return B};
dc.prototype.cE=function(z,J){var p=this.kb();p.oU();return p.g$(new i_(z,J))};var aQ=function(){function z(){this.qy=0;
this.Vz={}}z.prototype.BT=function(J,p){var n=J.r+"x"+J.$,B=this.Vz[n],c=0;if(B==null)B=this.Vz[n]=[];
while(B[c]&&B[c][2])c++;if(B[c]==null)B[c]=[null,0,!1,0];B[c][0]=c$.Vh.aKd(B[c][0],J,p);B[c][1]=this.qy;
B[c][2]=!0;B[c][3]=p;return B[c][0]};z.prototype.T0=function(J,p){var n=[];for(var B in this.Vz){var c=B.split("x"),t=parseInt(c[0]),u=parseInt(c[1]);
if(J.r>t||J.$>u||J.C()*10<t*u)continue;var v=this.Vz[B];for(var g=0;g<v.length;g++)if(!v[g][2])n.push([t*u,v[g],t,u])}n.sort(function(X,U){return X[0]-U[0]});
if(n.length==0)return[this.BT(J,p),J];var A=n[0],$=J.P();$.r=A[2];$.$=A[3];A[1][1]=this.qy;A[1][2]=!0;
A[1][0]=c$.Vh.aKd(A[1][0],$,p);return[A[1][0],$]};z.prototype.Q9=function(J){for(var p in this.Vz){var n=this.Vz[p];
for(var g=0;g<n.length;g++)if(n[g][0]==J)n[g][2]=!1}};z.prototype.a5A=function(){for(var J in this.Vz){var p=this.Vz[J];
for(var g=0;g<p.length;g++)if(p[g][1]!=this.qy){c$.Vh.delete(p[g][0]);p.splice(g,1);g--}if(p.length==0)delete this.Vz[J]}this.qy++};
return z}(),gK=new aQ;function a_(){}a_.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
a_.in="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
a_.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];a_.aiX=["DrSh","IrSh","SoFi","GrFl","FrFX"];
a_.Sx=["Clr"];a_.ik="Grad Rvrs Type Algn Angl Dthr Scl gs99 Ofst".split(" ");a_.ry=["Ptrn","Angl","Scl","Algn","phase"];
a_.Pc={VT:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",ahO:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",a5D:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",aBk:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",yX:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
a_.Pc.VT="\"Clr\": "+a_.Pc.VT;a_.Pc.Wi="\"Grad\":"+a_.Pc.ahO+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"},\"gs99\":{\"t\":\"enum\",\"v\":{\"gradientInterpolationMethodType\":\"Gcls\"}}";
a_.Pc.yX="\"Ptrn\":"+a_.Pc.yX+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
a_.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
a_.ef=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+a_.Pc.VT+","+a_.Pc.Wi+","+a_.Pc.yX+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+a_.Pc.VT+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+a_.Pc.Wi+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+a_.Pc.yX+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
a_.Wi={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),pX:["Perc","Lnr","Gcls","Smoo","stripes"],names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
a_.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],JU:["SClr","GrFl","Ptrn"],aFE:[[13,0],[12,37],[12,62]]};
a_.XL={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],a5r:["SrcC","SrcE"],aFo:[[19,5,1],[12,69]]};a_.x1={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],aDZ:["SfBL","PrBL","Slmt"],aw$:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
a_.jM={CK:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],ER:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],Sp:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+a_.Pc.VT+"}")},strokeStyleResolution:{t:"doub",v:72}},J0:function(z,J){var p=JSON.parse(a_.jM.aE3);
if(z)p.fillEnabled.v=!0;if(J)p.strokeEnabled.v=!0;return p},kn:function(z,J,p){if(J==null)J={};if(p==null)p=1;
var n=z.strokeStyleLineDashSet.v,B=J.tM=z.strokeStyleLineWidth.v.val*p;J.Rw=z.strokeStyleMiterLimit.v;
J.Ga=z.strokeStyleLineDashOffset.v.val;J.AE=a_.jM.join.indexOf(z.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
J.eY=a_.jM.CK.indexOf(z.strokeStyleLineCapType.v.strokeStyleLineCapType);J.O_=a_.jM.ER.indexOf(z.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
J.ji=[];for(var g=0;g<n.length;g++)J.ji.push(n[g].v.val*B);if(J.ji.length==1&&J.ji[0]==0)J.ji=[];return J},write:function(z,J,p){if(p==null)p=1;
var n=J.tM,B=J.Rw,c=J.ji,t=J.Ga,u=J.AE,v=J.eY,A=J.O_;if(n!=null)n=z.strokeStyleLineWidth.v.val=Math.max(.4,n*p);
else n=z.strokeStyleLineWidth.v.val;if(A!=null)z.strokeStyleLineAlignment.v.strokeStyleLineAlignment=a_.jM.ER[A];
if(B!=null)z.strokeStyleMiterLimit.v=B;if(c!=null)z.strokeStyleLineDashSet.v=ju.Zi(c,p/n);if(t!=null)z.strokeStyleLineDashOffset.v.val=t;
if(u!=null)z.strokeStyleLineJoinType.v.strokeStyleLineJoinType=a_.jM.join[u];if(v!=null)z.strokeStyleLineCapType.v.strokeStyleLineCapType=a_.jM.CK[v]}};
a_.jM.aE3=JSON.stringify(a_.jM.default);a_.St={J0:function(){return{ZI:[1,1,1],K$:[0,0,0],tM:1,Rw:10,ji:[],Ga:0,AE:0,eY:0,O_:1}},aax:function(z){var J=dN.Um(z.StrokeColor),p=a_.St.J0();
p.O_=z.FillFirst?1:2;var n=z._LineCap,B=z._LineJoin,c=z._MiterLimit,t=z._LineDashOffset,u=z._LineDashArray,v=z.OutlineWidth;
if(n)p.eY=n;if(B)p.AE=B;if(c)p.Rw=c;if(u)p.ji=u;if(v!=null)p.tM=v;p.K$=[J.o/255,J.k/255,J.X/255];return p},ayd:function(z,J){J.FillFirst=z.O_==1;
J._LineCap=z.eY;J._LineJoin=z.AE;J._MiterLimit=z.Rw;J._LineDashArray=z.ji}};a_.cb=function(z){var J=z.strokeEnabled.v,p=z.strokeStyleContent.v;
return J?{ht:1+a_.jM.Sp.indexOf(p.classID),_H:p}:{ht:0}};a_.bC=function(z,J){var p=J.ht;z.strokeEnabled.v=p!=0;
if(p!=0){z.strokeStyleContent.v=J._H;J._H.classID=a_.jM.Sp[p-1]}};a_.O7=function(z){var J=z.vstk,p=null;
if(J&&!J.fillEnabled.v)p={ht:0};else if(z.SoCo)p={ht:1,_H:z.SoCo};else if(z.GdFl)p={ht:2,_H:z.GdFl};
else if(z.PtFl)p={ht:3,_H:z.PtFl};return p};a_.bE=function(z,J){var p=z.vmsk,n=z.vstk,B=J.ht;if(n)n.fillEnabled.v=B!=0;
if(B>0){var c=["SoCo","GdFl","PtFl"][B-1];for(var g=0;g<3;g++)delete z[["SoCo","GdFl","PtFl"][g]];z[c]=J._H}};
a_.J3=[{classID:"null",Clr:JSON.parse(a_.ef[5]).Clr},{classID:"null",Grad:JSON.parse(a_.ef[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(a_.ef[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var ju={};ju.abE=function(z,J){function p(z,U){if(z==null||!z.masterFXSwitch.v)return null;var w=z[U].v,P;
if(w.length!=0){P=w[0].v;if(!P.enab.v)P=null}return P}var n=J.SoCo,B=J.GdFl,c=p(z,"solidFillMulti"),t=p(z,"gradientFillMulti");
if(c==null&&t==null)return[n,B];var u=ju.a40;if(n&&c&&t==null){var v=a.G(n);v.Clr.v=u(c.Clr.v,n.Clr.v,c);
return[v,null]}if(B&&c&&t==null){var A=a.G(B),$=A.Grad.v.Clrs.v;for(var g=0;g<$.length;g++){var X=$[g].v.Clr;
X.v=u(c.Clr.v,X.v,c)}return[null,A]}if(n&&t){var A=a.G(t),$=A.Grad.v.Clrs.v;for(var g=0;g<$.length;g++){var X=$[g].v.Clr;
X.v=u(X.v,n.Clr.v,t)}return[null,A]}return[c,t]};ju.Ea={aL:a.j(4),rB:a.j(4),o:new fw(0,0,1,1)};ju.a40=function(z,J,p){var n=jM.pg(p.Md.v.BlnM),B=p.Opct.v.val/100,c=ju.Ea;
z=a.Wi.Um(z);J=a.Wi.Um(J);c.aL[0]=z.o;c.aL[1]=z.k;c.aL[2]=z.X;c.aL[3]=255;c.rB[0]=J.o;c.rB[1]=J.k;c.rB[2]=J.X;
c.rB[3]=255;a.B.Oe(n,c.aL,c.o,c.rB,c.o,c.o,B);return{classID:"RGBC",Rd:{t:"doub",v:c.rB[0]},Grn:{t:"doub",v:c.rB[1]},Bl:{t:"doub",v:c.rB[2]}}};
ju.asL=function(z,J,p){var n=z;z=z.slice(0);var B=jM.Bk[jM.n_.indexOf(J.Md.v.BlnM)],c=a.Wi.Um(J.Clr.v),t=4278190080|Math.round(c.X)<<16|Math.round(c.k)<<8|Math.round(c.o),u=a.j(p.C()*4);
a.dz(u,t);a.B.Oe(B,u,p,z,p,p,J.Opct.v.val/100);for(var g=0;g<z.length;g+=4)z[g+3]=n[g+3];return z};ju.yh=function(z,J){var p=["Sz","blur","Sftn","Dstn"];
for(var g=0;g<a_.order.length;g++){var n=a_.order[g],B=z[a_.in[g]].v;for(var c=0;c<B.length;c++){var t=B[c].v;
for(var u=0;u<p.length;u++){var v=t[p[u]];if(v){var A=v.v.val,$=A;$=Math.max(A==0?0:1,$*J);if(n=="ChFX")$=Math.min($,250);
if(n=="ebbl"){if(p[u]=="blur")$=Math.min($,250);if(p[u]=="Sftn")$=Math.min($,16)}v.v.val=Math.round($)}}if(n=="ebbl"||n=="patternFill"||n=="FrFX")if(t.Ptrn&&t.Scl)t.Scl.v.val=Math.max(1,Math.min(1e3,t.Scl.v.val*J))}}};
ju.aAk=function(z,J,p){var n=new fw(-.5,-.5,1,1);for(var g=0;g<a_.order.length;g++){var B=a_.order[g],c=z[a_.in[g]].v;
for(var t=0;t<c.length;t++){var u=c[t].v,X;if(!u.enab.v)continue;var v=u.blur?u.blur.v.val+1:0,A=u.Ckmt?u.Ckmt.v.val/100:0,$=Math.round(v*A);
if(B=="DrSh"||B=="IrSh"&&p){X=new fw(-.5,-.5,1,1);X.Lr(v,v);ju._M(X,u,J,0)}if(B=="St3D"){X=new fw(-.5,-.5,1,1);
ju._M(X,u,J,Math.PI,"Angl")}if(B=="OrGl"||B=="IrGl"&&p){X=new fw(-.5,-.5,1,1);X.Lr(v,v)}if(B=="FrFX"){var U=ju.oZ(u),w=U[1];
if(p)w=Math.max(U[0],w);X=new fw(-.5,-.5,1,1);X.Lr(Math.ceil(w),Math.ceil(w))}if(B=="ebbl"){var v=u.blur.v.val,P=u.bvlS.v.BESl;
if(P=="Embs"||P=="PlEb")v/=2;var k=["OtrB","InrB","Embs","PlEb","strokeEmboss"],T=["SfBL","PrBL","Slmt"],Z=["In","Out"],i=u.bvlT.v.bvlT!="SfBL"?v:v*.43,V=Math.round(v);
X=new fw(-V-1,-V-1,2*V+2,2*V+2)}if(p&&B=="ChFX"){X=new fw(-.5,-.5,1,1);X.Lr(v,v);var _=X.P();ju._M(X,u,J,0);
ju._M(_,u,J,Math.PI);X=X.KQ(_)}if(X)n=n.KQ(X)}}if(n.x!=Math.ceil(n.x)){n.x=Math.ceil(n.x);n.r-=1}if(n.y!=Math.ceil(n.y)){n.y=Math.ceil(n.y);
n.$-=1}n.r=Math.floor(n.r);n.$=Math.floor(n.$);return n};ju.oZ=function(z){var J,p,n=0,B=0;if(z.Sz){J=z.Sz.v.val;
p=a_.stroke.types.indexOf(z.Styl.v.FStl)}else{J=z.Wdth.v;p=["Insd","Cntr","Otsd"].indexOf(z.Lctn.v.StrL)}if(p==0)n=J;
if(p==1)n=B=J/2;if(p==2)B=J;return[n,B]};ju.a3U=function(z,J){if(co.Pw&&z.pd==null){var p=z.R1,n=p instanceof Array;
if(n){z.pd=[z.R1[0],new co.kH(z.dp.r,z.dp.$,J)];z.pd[1].set(z.R1[1]);delete z.R1}else{z.pd=new co.rk(z.dp.r,z.dp.$,J);
z.pd.set(z.R1);delete z.R1}if(z._Y){z.$v=new co.kH(z.dp.r,z.dp.$,J);z.$v.set(z._Y);delete z._Y}if(z.hK){z.g_=new co.kH(z.dp.r,z.dp.$,J);
z.g_.set(z.hK);delete z.hK}}};ju.ay_=function(z){if(z.pd)z.pd instanceof Array?z.pd[1].delete():z.pd.delete();
if(z.$v)z.$v.delete();if(z.g_)z.g_.delete()};ju.acJ=function(z){if(z.all==null)return;for(var g=0;g<z.all.length;
g++){ju.ay_(z.all[g])}};ju.aFC=function(z){var J=z.all;for(var g=0;g<J.length;g++){var p=J[g];if(p.R1 instanceof Array){var n=p.R1[1],B=p.R1[0],c=a.zr(n),t=a.j(p.dp.C()*4,c);
if(c==8)new Uint32Array(t.buffer).fill(new Uint32Array(B.buffer)[0]);else for(var g=0;g<t.length;g+=4){t[g]=B[0];
t[g+1]=B[1];t[g+2]=B[2]}a.DE(n,t,3);p.R1=t}}};ju.ayg=function(z,J,p,n,B,c){var t=ju.u7(p,n,z,J,B,c),u=B.depth;
for(var g=0;g<t.all.length;g++){var v=t.all[g];if(v.R1 instanceof Array)v.R1=[a.hg(v.R1[0],u),a.hg(v.R1[1],u)];
else v.R1=a.hg(v.R1,u);if(v._Y)v._Y=a.hg(v._Y,u);if(v.hK)v.hK=a.hg(v.hK,u);ju.a3U(v,u)}return t};ju.aKA=function(z){for(var g=0;
g<a_.order.length;g++){var J=a_.order[g],p=a_.in[g],n=z[p].v;for(var B=0;B<n.length;B++){var c=n[B].v;
if(c.enab.v&&["patternFill","GrFl","SoFi"].indexOf(J)==-1)return!0}}return!1};ju.u7=function(z,J,p,n,B,c){var t=a.zr(p),u=16,v=0,A=0;
p=a.hg(p,u);if(c==null)c=n;for(var g=0;g<a_.order.length;g++){var $=a_.order[g],X=a_.in[g],U=z[X].v;
for(var w=0;w<U.length;w++){var P=U[w].v;if($=="DrSh"&&P.enab.v&&P.Ckmt.v.val>0&&P.blur.v.val>0)v=Math.max(v,Math.ceil(P.Ckmt.v.val*P.blur.v.val/100));
if($=="OrGl"&&P.enab.v&&P.Ckmt.v.val>0&&P.blur.v.val>0&&P.GlwT.v.BETE=="SfBL")v=Math.max(v,Math.ceil(P.Ckmt.v.val*P.blur.v.val/100));
if($=="OrGl"&&P.enab.v&&P.blur.v.val>0&&P.GlwT.v.BETE=="PrBL")v=Math.max(v,P.blur.v.val);if($=="FrFX"&&P.enab.v&&P.Sz.v.val>0){if(P.Styl.v.FStl=="OutF")v=Math.max(v,P.Sz.v.val);
if(P.Styl.v.FStl=="CtrF")v=Math.max(v,Math.ceil(P.Sz.v.val/2));A=Math.max(A,ju.oZ(P)[1])}}}var k=new ju.a2(p,n,v,ju.aKA(z)),T=-n.x,Z=-n.y,i={I:{},all:[]};
for(var V=0;V<a_.order.length;V++){var $=a_.order[V],X=a_.in[V];i.I[$]=[];for(var _=z[X].v.length-1;
_>=0;_--){var y=z[X].v[_].v,x;if(!y.enab.v)continue;var E=y.blur?y.blur.v.val:0,F=y.Ckmt?y.Ckmt.v.val/100:0,d=E*F;
if($=="St3D"){var f=Math.max(1e-4,1-y.Srnk.v.val/100),I=2,dQ=0;function Q(m,ez,y){var f_=y.Angl.v.val;
f_*=Math.PI/180;var M=y.Dstn.v.val,ln=Math.cos(f_)*M,ib=-Math.sin(f_)*M,d5=f+ez*(1-f),ht=new fA;ht.translate(-m.r/2,-m.$/2);
ht.scale(d5,d5);ht.translate(m.r/2,m.$/2);ht.translate((1-ez)*ln,(1-ez)*ib);return ht}var m=n.P(),H=a.hg(p,8);
m.x=m.y=0;var S=Date.now(),R=m.P();R.Lr(I,I);var D=a.j(R.C(),8);a._1(H,m,D,R);a.zM.zH(D,R,2);var G=a.hW(8),C=a.Wi.Um(y.Clr.v),O=C.o/255,Y=C.k/255,h=C.X/255,r=a.j(m.C()),W=m.r,N=m.$,o=R.r,K=R.$,l=a.j(256*4),aV=new Uint32Array(l.buffer),j=ju.aqC(y,B),M=Math.cos(j[1]),s=-Math.cos(j[0])*M,l2=Math.sin(j[0])*M;
if(Math.abs(s)<.001&&Math.abs(l2)<.001)s=l2=0;for(var gm=0;gm<N;gm++)for(var iz=0;iz<W;iz++){var g=(gm+I)*o+iz+I,w=gm*W+iz,dC=w*4,dL=D[g+1]-D[g-1],cP=D[g+o]-D[g-o],id=dL*dL+cP*cP;
if(id>10){var jR=1/Math.sqrt(id),hC=s*jR*dL+l2*jR*cP;r[w]=Math.max(1,Math.min(G,G*.5+G*.5*hC));var eJ=r[w]*4;
if(l[eJ+3]==0){var el=-hC,eu=0;if(hC>0){el=0;eu=hC}l[eJ]=255*(1-el)*(eu+(1-eu)*O);l[eJ+1]=255*(1-el)*(eu+(1-eu)*Y);
l[eJ+2]=255*(1-el)*(eu+(1-eu)*h);l[eJ+3]=255}}else r[w]=0}var jY=D;jY.fill(0);a._1(H,m,jY,R);var fN=[H,m],jC=Q(m,0,y),kF=a.b.e3(m).L,i6=kF.slice(0);
a.b.h(kF,jC,i6);var kT=m.KQ(a.b._g(i6)),kY=a.j(kT.C()*4,8),h9=kT.r,bG=kT.$;for(var g=0;g<8;g+=2){var dL=kF[g]-i6[g],cP=kF[g+1]-i6[g+1];
dQ=Math.max(dQ,Math.sqrt(dL*dL+cP*cP))}var jn=Math.round(dQ/2),b1=new Uint16Array(r.length),c8=new Uint16Array(N);
for(var gm=0;gm<N;gm++)for(var iz=W-1;iz>=0;iz--){var g=gm*W+iz,j_=0;if(r[g]!=0){j_=0;if(c8[gm]==0)c8[gm]=iz+1}else if(iz==W-1)j_=50;
else j_=b1[g+1]+1;b1[g]=j_}var fQ=y.Drkn.v.val/100,cM=new Uint32Array(kY.buffer),jK=new Uint8ClampedArray(kY.buffer);
for(var aw=jn-1;aw>=0;aw--){var ez=aw/jn,g4=1-fQ+ez*fQ,ht=Q(m,ez,y),gx=ht.P();gx.oU();var kE=1/gx.k6;
for(var gm=0;gm<bG;gm++){var kS=(gm+kT.y+.5)*gx.JH+gx.Sm;if(!(0<=kS&&kS<N))continue;var h7=Math.floor(kS),b7=h7*W,i7=Math.max(0,Math.floor((b1[b7]-gx.Rf)*kE-kT.x-.5)),fp=Math.min(h9,Math.ceil((c8[h7]-gx.Rf)*kE-kT.x-.5)),jB=(i7-1+kT.x+.5)*gx.k6+gx.Rf;
for(var iz=i7;iz<fp;iz++){var fB=gm*h9+iz<<2;jB+=gx.k6;if(kY[fB+3]==255){}else if(0<=jB&&jB<W){var df=b7+Math.floor(jB),dt=b1[df];
if(dt!=0){var j_=Math.floor((dt-1)*kE);iz+=j_;jB+=j_*gx.k6}else{var g5=a.F.ahR(jB+I,kS+I,jY,o,K)*(1/255),bR=255-kY[fB+3],h$=1/255*g5*g4*bR,ih=aV[r[df]];
jK[fB]+=(ih&255)*h$;jK[fB+1]+=(ih>>>8&255)*h$;jK[fB+2]+=(ih>>>16&255)*h$;jK[fB+3]+=g5*bR}}}}}a.xI(kY);
x={R1:kY,dp:kT}}else if($=="DrSh"){var jt=k.IJ(d,E-d,!0),jN=jt.BK,jk=jt.Dm.P();ju.xU(jN,y,!1);if(y.Cntn&&y.Cntn.v){var gE=new fw;
ju._M(gE,y,B,0);var cW=jk.P();cW.offset(-gE.x,-gE.y);cW=cW.KQ(jk);var dR=a.j(cW.C(),u);a._1(jN,jk,dR,cW);
var gV=Math.sqrt(gE.x*gE.x+gE.y*gE.y),gv=jN.slice(0);for(var g=0;g<gV-1;g++){var dL=Math.round(-gE.x*g/gV),cP=Math.round(-gE.y*g/gV),ga=jt.Dm.P();
ga.offset(dL,cP);a.aj8(gv,ga,dR,cW)}jN=dR;jk=cW}jk.offset(T,Z);ju._M(jk,y,B,0);var kY=a.j(4,u);ju.$r(kY,y.Clr.v);
x={R1:[kY,jN],dp:jk,aCZ:y.layerConceals.v}}else if($=="IrSh"){var jt=k.IJ(d,E-d,!1);ju._M(jt.Dm,y,B,0);
var jk=k.S().P(),jN=a.j(jk.C(),u);jN.fill(a.hW(u));a._1(jt.BK,jt.Dm,jN,jk);ju.xU(jN,y,!0,!0);var kY=a.j(4,u);
ju.$r(kY,y.Clr.v);jk.offset(T,Z);x={R1:[kY,jN],dp:jk}}else if($=="GrFl"){var kY=a.j(k.S().C()*4,t);ju.QR(y,kY,k.S(),B,null,c);
var jk=k.S().P();jk.offset(T,Z);x={R1:kY,dp:jk}}else if($=="SoFi"){var kY=a.j(4,u);ju.$r(kY,y.Clr.v);
var iC=a.j(k.BK().length,t);iC.fill(a.hW(t));var jk=k.S().P();jk.offset(T,Z);x={R1:[kY,iC],dp:jk}}else if($=="ebbl"){var dI=!1;
if(dI)console.log(y);var S=Date.now(),fV=S,dH=y.bvlS.v.BESl,aj=y.bvlT.v.bvlT;if(dH=="strokeEmboss"){var cH=z.frameFXMulti.v;
if(cH.length==0)continue;cH=cH[0].v;if(!cH.enab.v)continue;var ge=cH.Styl.v.FStl;if(ge=="OutF")dH="OtrB";
if(ge=="CtrF")dH="Embs";if(ge=="InsF")dH="InrB"}var E=y.blur.v.val;if(E==0)E=.7;if(dH=="Embs"||dH=="PlEb")E/=2;
var ko=["OtrB","InrB","Embs","PlEb","strokeEmboss"],iI=["SfBL","PrBL","Slmt"],av=["In","Out"],gF=aj!="SfBL"?E:E*.45,kG=Math.round(E),kh=k.S().P(),hB=kh.P();
hB.Lr(kG,kG);var W=hB.r,N=hB.$,kf=W*N,jg=a.j(kf,u);a._1(k.BK(),kh,jg,hB);var fU=a.style.xO(jg,W,N);a.oU(jg);
var cv=a.style.xO(jg,W,N);if(dI)console.log("distTransform computed",Date.now()-S);S=Date.now();ju.a1m(gF,fU,cv);
if(dI)console.log("summing + cropping",Date.now()-S);S=Date.now();if(aj=="SfBL"){var bZ=Math.pow(E*.21,1.22);
if(!0)bZ=Math.max(bZ,2);a.zM.zH(cv,hB,bZ,2)}if(dI)console.log("blurring",Date.now()-S);S=Date.now();
var iB=cv,l8=fU;l8.set(iB);if(y.useShape.v){var ee=Math.min(100,y.Inpr.v.val+1)/100;if(dH!="OtrB"&&dH!="InrB")ee=1;
var gU=a.kC.ZX(y.MpgS.v.Crv.v,2e3),ad=Math.round(2e3/ee);gU=a.kC.aC3(gU,ad,dH=="InrB");var a7=.5/gF;
for(var g=0;g<kf;g++){var dm=iB[g],az=.99999*(dm+gF)*a7;iB[g]=-gF+2*gF*gU[~~(az*(ad-1))]}if(dI)console.log("applying shape",Date.now()-S);
S=Date.now()}if(y.useTexture.v){var al=a.j(W*N*4);ju.fD(y,al,hB,B.add.Patt,J);var dl=a.j(W*N);a.rz(al,dl);
a.zM.W7(dl,hB,1);var fi=E*y.textureDepth.v.val*(1/100)*(1/255);if(y.InvT.v)fi=-fi;for(var g=0;g<kf;g++)iB[g]+=-fi*dl[g];
if(dI)console.log("applying texture",Date.now()-S);S=Date.now()}var fT=dH=="PlEb",cL=new Float32Array(kf),fx=cL;
if(fT){fx=new Float32Array(kf)}var by=ju.alb(W,N,y,B,iB,cL,fx,fT);if(dI)console.log("raycasting",Date.now()-S);
S=Date.now();if(y.Sftn.v.val!=0){a.zM.zH(cL,hB,y.Sftn.v.val*.43,2);if(fT)a.zM.zH(fx,hB,y.Sftn.v.val*.43,2)}if(dI)console.log("softening",Date.now()-S);
S=Date.now();var ci=a.j(W*N,u),hG=a.j(W*N,u),k4=ci,dr=hG;if(fT){k4=a.j(W*N,u);dr=a.j(W*N,u)}ju.arl(y,W,N,by,gF,fT,l8,ci,hG,k4,dr,cL,fx);
if(dI)console.log("baking textures",Date.now()-S);S=Date.now();hB=k.S().P();hB.Lr(kG,kG);hB.offset(T,Z);
x={a7z:y.bvlS.v.BESl=="strokeEmboss"};var dk=jM.pg(y.hglM.v.BlnM),hS=y.hglO.v.val/100,lo=jM.pg(y.sdwM.v.BlnM),gB=y.sdwO.v.val/100,fg=a.j(4,u);
ju.$r(fg,y.hglC.v);var eN=a.j(4,u);ju.$r(eN,y.sdwC.v);if(["InrB","Embs","PlEb"].indexOf(dH)!=-1){x.ux={R1:[fg,ci],dp:hB,D1:dk,ZB:hS};
x.Xy={R1:[eN,hG],dp:hB,D1:lo,ZB:gB}}if(["OtrB","Embs","PlEb"].indexOf(dH)!=-1){x.kp={R1:[fg,k4],dp:hB,D1:dk,ZB:hS};
x.wD={R1:[eN,dr],dp:hB,D1:lo,ZB:gB}}if(dI)console.log(Date.now()-fV)}else if($=="patternFill"){var k2=k.S(),kY=a.j(k2.C()*4,t);
ju.fD(y,kY,k2,B.add.Patt,J);var jk=k2.P();jk.offset(T,Z);x={R1:kY,dp:jk}}else if($=="ChFX"){var S=Date.now(),E=y.blur.v.val,eh=k.S().P();
eh.Lr(E,E);var cE=a.j(eh.C(),u);a._1(k.BK(),k.S(),cE,eh);a.zM.zH(cE,eh,E*.43);ju.aas(cE,y.MpgS.v.Crv.v);
var O=k.S(),bw=eh.P(),c9=eh.P();ju._M(bw,y,B,0);ju._M(c9,y,B,Math.PI);var C=a.j(O.C(),u);a._1(cE,c9,C,O);
var hp=O.ly(bw),W=hp.r;for(var gm=0;gm<hp.$;gm++){var jL=(gm+hp.y-O.y)*O.r+hp.x-O.x,aL=(gm+hp.y-bw.y)*bw.r+hp.x-bw.x;
for(var iz=0;iz<W;iz++)C[jL+iz]=Math.abs(C[jL+iz]-cE[aL+iz])}if(y.Invr.v)a.oU(C);var kY=a.j(4,u);ju.$r(kY,y.Clr.v);
var jk=k.S().P();jk.offset(T,Z);x={R1:[kY,C],dp:jk}}else if($=="OrGl"){var jt,cZ=ju.age(y),kY=null;if(y.GlwT.v.BETE=="SfBL"){jt=k.IJ(d,E-d,!0);
ju.aza(jt.BK,cZ)}else jt=k.af2(E,F,!0,cZ);var jN=jt.BK,jk=jt.Dm,hL=jN.slice(0);if(y.Grad==null){ju.xU(jN,y,!1);
var al=a.j(4,u);ju.$r(al,y.Clr.v);kY=[al,jN]}else{ju.dd(jN,y);var e4={ye:jN,od:a.hW(u),dh:0,Pg:jk};kY=a.j(jk.C()*4,u);
ju.QR(y,kY,jk,B,e4);var eb=jk.r,b0=a.hW(u),cX=b0*(32/255);for(var g=0;g<hL.length;g++){var eH=b0,fq=hL[g];
if(fq<b0){var j9=(fq+hL[g-1]+hL[g+1]+hL[g-eb]+hL[g+eb])*.2-1;eH=Math.min(b0,Math.round(Math.max(0,j9)*8))}jN[g]=eH}ju.mu(jN,y,!1);
a.DE(jN,kY,3)}jk.offset(T,Z);x={R1:kY,dp:jk}}else if($=="IrGl"){var jt,cZ=ju.age(y),kY=null;if(y.GlwT.v.BETE=="SfBL"){jt=k.IJ(d,E-d,!1);
ju.aza(jt.BK,cZ)}else jt=k.af2(E,F,!1,cZ);var jN=jt.BK,jk=jt.Dm;if(y.glwS.v.IGSr=="SrcC")a.oU(jN);if(y.Grad==null){ju.xU(jN,y,!0);
var al=a.j(4,u);ju.$r(al,y.Clr.v);kY=[al,jN]}else{ju.dd(jN,y);var e4={ye:jN,od:a.hW(u),dh:0,Pg:jk};kY=a.j(jk.C()*4,u);
ju.QR(y,kY,jk,B,e4);jN.fill(a.hW(u));ju.mu(jN,y,!1);a.DE(jN,kY,3)}jk.offset(T,Z);x={R1:kY,dp:jk}}else if($=="FrFX"){var k5=ju.oZ(y),cT=k5[0],c0=k5[1],jk=k.S().P(),j6=null,eK=null,kY=null;
jk.Lr(Math.ceil(A),Math.ceil(A));if(c0>0){var jt=k.IJ(c0,0,!0);eK=jt.BK;if(eK.length<jk.C()){eK=a.j(jk.C(),u);
a._1(jt.BK,jt.Dm,eK,jk)}}if(cT>0){var jt=k.IJ(cT,0,!1);j6=a.j(jk.C(),u);j6.fill(a.hW(u));a._1(jt.BK,jt.Dm,j6,jk)}jk.offset(T,Z);
var a0=y.PntT.v.FrFl;if(a0=="SClr"){var al=a.j(4,t),kq=a.j(jk.C(),t);ju.$r(al,y.Clr.v);kq.fill(a.hW(t));
kY=[al,kq]}else{kY=a.j(jk.C()*4,t);if(a0=="GrFl")ju.QR(y,kY,jk,B,k.aio(cT,c0));if(a0=="Ptrn")ju.fD(y,kY,jk,B.add.Patt,J)}var k$=y.overprint,ki=k$?k$.v:!1;
if(ki){var iC=j6?j6:eK;if(j6&&eK)a.m5.ly(j6,eK,iC);iC=a.hg(iC,t);if(kY instanceof Array)kY[1].set(iC);
else a.DE(iC,kY,3)}x={R1:kY,dp:jk,hK:eK,_Y:j6,ap$:ki}}i.I[$].push(x);if($=="ebbl"){if(x.ux)i.all.push(x.ux,x.Xy);
if(x.kp)i.all.push(x.kp,x.wD)}else{x.D1=jM.pg(y.Md.v.BlnM);x.ZB=y.Opct.v.val/100,i.all.push(x)}}}return i};
ju.br=function(z){var J=1/Math.sqrt(z.x*z.x+z.y*z.y+z.ZO*z.ZO);z.x*=J;z.y*=J;z.ZO*=J};ju.atS=function(z,J){return{x:z.y*J.ZO-z.ZO*J.y,y:z.ZO*J.x-z.x*J.ZO,ZO:z.x*J.y-z.y*J.x}};
ju.aeA=function(z,J){return z.x*J.x+z.y*J.y+z.ZO*J.ZO};ju.a1m=function(z,J,p){var n=J.length;for(var g=0;
g<n;g++){var B=p[g]-J[g];p[g]=B}for(var g=0;g<n;g++){var B=p[g];if(B<-z)p[g]=-z;else if(B>z)p[g]=z}};
ju.alb=function(z,J,p,n,B,c,t,u){var v=ju.aqC(p,n),A=v[0],$=v[1],X=Math.cos(A)*Math.cos($),U=-Math.sin(A)*Math.cos($),w=Math.sin($);
c.fill(w);if(u)t.fill(w);var P=(p.bvlT.v.bvlT=="SfBL"?1:.5)*(p.bvlD.v.BESs=="In"?1:-1)*p.srgR.v.val/100,k=-.125*P;
for(var T=0;T<J;T++){var Z=T==0?0:-z,i=T==J-1?0:z,g=T*z;for(var V=0;V<z;V++,g++){var _=V==0?g:g-1,y=V==z-1?g:g+1,E=B[y]-B[_],F=B[g+i]-B[g+Z];
if(E*E+F*F<.005)continue;var d=B[_+Z],x=B[y+Z],f=B[_+i],Q=B[y+i],m=k*(x+2*E+Q-d-f),H=k*(f+2*F+Q-d-x),S=1/Math.sqrt(m*m+H*H+1);
m*=S;H*=S;c[g]=Math.max(0,m*X+H*U+S*w);if(u)t[g]=Math.max(0,-m*X-H*U+S*w)}}return w};ju.arl=function(z,J,p,n,B,c,t,u,v,A,$,X,U){var w=1/n,P=1/(1-n),k=1/B,T=a.zr(u),Z=a.hW(T),i=a.kC.ZX(z.TrnS.v.Crv.v,1024),V=new Float32Array(2500);
for(var g=0;g<2500;g++){var _=Math.max(0,Math.min(1,(g-500)*.001));V[g]=Math.pow(_,.2)}var y=new Float32Array(1024),E=new Float32Array(1024);
for(var g=0;g<1024;g++){var F=i[g];y[g]=Z*(1-Math.min(1,F*w));E[g]=Z*(1-Math.min(1,(1-F)*P))}for(var d=0;
d<p;d++)for(var _=0;_<J;_++){var g=d*J+_,x=(t[g]+B*.993)*k,f=V[~~(500+x*1e3)],Q=~~(X[g]*1023);v[g]=f*y[Q];
u[g]=f*E[Q];if(c){Q=~~(U[g]*1023);$[g]=f*y[Q];A[g]=f*E[Q]}}};ju.Yb=function(z){var J=ju.YD(),p=z.QQ,n=!1;
for(var g=0;g<32;g+=8)if(p[g]+p[g+1]+p[g+4]+p[g+5]!=0||p[g+2]+p[g+3]+p[g+6]+p[g+7]!=1020)n=!0;if(n){p=p.slice(0);
for(var g=0;g<40;g+=4){var B=p[g]/255,c=p[g+1]/255,t=p[g+2]/255,u=p[g+3]/255;p[g]=B-.001;p[g+1]=B==c?1e6:1/(c-B);
p[g+2]=t==u?-1e6:1/(t-u);p[g+3]=u+.001}}var v=z.add.iOpa!=null?z.add.iOpa/255:J.fill,A=z.add.vstk;if(A&&!A.fillEnabled.v&&(!A.strokeEnabled.v||A.strokeStyleLineWidth.v.val==0))v=0;
return{fill:v,ZL:n?p:null,$G:z.add.brst!=null?z.add.brst:J.$G,a6l:z.add.knko!=null?z.add.knko:J.a6l,style:!1,dq:!1}};
ju.YD=function(){return{fill:1,ZL:null,$G:[1,1,1],a6l:0,style:!1,dq:!1}};ju.apk=function(z,J,p,n,B,c,t,u){if(u==null)u=1;
if(t==null)t=new fA;var v=z.kR[1].r,A=z.kR[1].$,$=new fA,X=B<2;if(X)$.translate(-v/2,-A/2);if(B==0){u*=Math.max(p/v,n/A)}else if(B==1){u*=Math.min(p/v,n/A)}else if(B==2){$.scale(1/v,1/A);
$.concat(t);$.scale(p,n)}else if(B==3){u=u}$.scale(u,u);if(X)$.translate(p/2,n/2);$.concat(c);J.Ptrn.v.Idnt.v=z.id;
J.Scl.v.val=Math.round(100*$.Nz());J.Angl.v.val=Math.round(180*Math.atan2(-$.X,$.k6)/Math.PI);J.Algn.v=!0;
var U=J.phase.v;U.Hrzn.v=Math.round($.Rf);U.Vrtc.v=Math.round($.Sm)};ju.AR=function(z,J){if(J==null)return null;
var p=z.Idnt.v,n=z.Nm.v;for(var g=0;g<J.length;g++)if(J[g].id==p)return J[g];for(var g=0;g<J.length;
g++)if(J[g].name==n)return J[g];return null};ju.aGW=function(z,J,p){var n=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var g=0;g<n.length;g++){var B=z.v[n[g]].v;for(var c=0;c<B.length;c++)if(B[c].v.Ptrn)J.KX(ju.AR(B[c].v.Ptrn.v,p))}};
ju.alO=function(z,J,p){var n=["patternFillMulti","ebblMulti","frameFXMulti"];for(var g=0;g<n.length;
g++){var B=z.v[n[g]].v;for(var c=0;c<B.length;c++)if(B[c].v.Ptrn){var t=B[c].v.Ptrn.v,u=ju.AR(t,p),v=ju.AR(t,J.add.Patt);
if(u==null&&v)p.push(v)}}};ju.fD=function(z,J,p,n,B){if(z.Ptrn==null)return;var c=ju.AR(z.Ptrn.v,n);
if(c!=null&&!p.Sz()){var t=c.kR,u=t[0],v=t[1],A=0;a.pG(t);var $=(z.Scl?z.Scl.v.val:100)/100;while(($<.3||$==.5)&&t[A+2]){$*=v.r/t[A+3].r;
A+=2;u=t[A];v=t[A+1]}var X=a.scale.fD(u,v.r,v.$),U=z.phase?z.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},w=z.Angl?z.Angl.v.val:0,P=-p.x+U.Hrzn.v-1,k=-p.y+U.Vrtc.v-1;
if(z.Algn!=null&&!z.Algn.v){}else if(B){P+=B.x;k+=B.y}if(J)a.scale.ay9(X,J,p.r,p.$,$,$,P+1,k+1,w*Math.PI/180);
else return[X,$,P+1,k+1,w*Math.PI/180]}};ju.QR=function(z,J,p,n,B,c,t,u){if(c==null)c=p;var v=z.Type?z.Type.v.GrdT:"shapeburst",A=z.Algn&&z.Algn.v?c:new fw(0,0,n.r,n.$),$=z.Angl?a.Wi.a4l(z,A):[new i_(0,0),new i_(100,0)],X=$[0].x,U=$[0].y,w=$[1].x-X,P=$[1].y-U,k=Math.sqrt(w*w+P*P);
k=1/(2*k*k);var T=[w*k,P*k,-P*k,w*k],Z=z.Rvrs?z.Rvrs.v:!1,i=z.Dthr?z.Dthr.v:!1,V=z.gradientsInterpolationMethod;
if(V==null)V=z.gs99;var _=V?V.v.gradientInterpolationMethodType:"Gcls";a.Wi.MJ(z.Grad.v,J,p,T,X,U,Z,a_.Wi.types.indexOf(v),t==null?0:t,u==null?0:u,B,i,_)};
ju.aqA=function(z,J,p){for(var g=0;g<z.all.length;g++){var n=z.all[g];n.cs=n.dp.P();n.cs.offset(J,p)}};
ju.a2K=function(z,J,p,n,B,c){var t=co.Pw?ju.ajd:ju.amm;ju.aqA(J,p.x,p.y);var u=J.I.DrSh;for(var g=0;
g<u.length;g++)if(!u[g].aCZ)t(u[g],n,B,c)};ju.ax_=function(z,J,p,n,B,c,t,u,v,A,$,X){var U=co.Pw?ju.ajd:ju.amm,w=co.Pw?co.B.hN:a.B.MQ,P;
P=J.I.DrSh;for(var g=0;g<P.length;g++)if(P[g].aCZ)U(P[g],n,B,c);P=J.I.St3D;for(var g=0;g<P.length;g++)U(P[g],n,B,c);
P=J.I.OrGl;for(var g=0;g<P.length;g++)U(P[g],n,B,c);var k="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var T=0;T<k.length;T++){var P=J.I[k[T]];for(var g=0;g<P.length;g++)U(P[g],t,u,c)}var Z=J.I.ebbl[0],i=Z!=null&&Z.a7z;
P=J.I.FrFX;for(var g=0;g<P.length;g++){var V=P[g];c$.Vh._1(v,A,$,X,c);U(V,$,X,c);if(i&&g==P.length-1){if(Z.wD)U(Z.wD,$,X,c);
if(Z.kp)U(Z.kp,$,X,c);if(Z.Xy)U(Z.Xy,$,X,c);if(Z.ux)U(Z.ux,$,X,c)}if(V.ap$){if(V._Y||V.$v){U(V,t,u,c)}if(V.hK||V.g_){U(V,n,B,c)}}else{if(V._Y||V.$v)w($,X,t,u,co.Pw?V.$v:V._Y,V.cs,0,c,1);
if(V.hK||V.g_)w($,X,n,B,co.Pw?V.g_:V.hK,V.cs,0,c,1)}}if(!i&&Z!=null){if(Z.wD)U(Z.wD,n,B,c);if(Z.kp)U(Z.kp,n,B,c);
if(Z.Xy)U(Z.Xy,t,u,c);if(Z.ux)U(Z.ux,t,u,c)}};ju.amm=function(z,J,p,n){var B=ju.YD();B.fill=z.ZB;B.style=!0;
a.B.Oe(z.D1,z.R1,z.cs,J,p,n,1,B)};ju.ajd=function(z,J,p,n){var B=ju.YD();B.fill=z.ZB;B.style=!0;co.B.aKL(z.D1,z.pd,z.cs,J,p,n,1,B)};
ju.age=function(z){var J=1-z.Inpr.v.val/100;return 1+Math.tan(J*(Math.PI/2))};ju.aza=function(z,J){var p=a.hW(a.zr(z));
for(var g=0;g<z.length;g++)z[g]=Math.min(p,z[g]*J)};ju.dd=function(z,J,p){var n=J.blur.v.val,B=Math.round(n*(J.Ckmt.v.val/100));
if(n>B)ju.aas(z,J.TrnS.v.Crv.v,p!=!0)};ju.aas=function(z,J,p){if(J.length==2){function n(X){return new i_(X.Hrzn.v,X.Vrtc.v)}var B=n(J[0].v),c=n(J[1].v);
if(B.x==0&&B.y==0&&c.x==255&&c.y==255)return}var t=2048,u=a.zr(z),v=a.hW(u),A=(t-1)/v,$=a.kC.VQ(J,t,p,u);
for(var g=0;g<z.length;g++)z[g]=$[~~(A*z[g])]};ju.mu=function(z,J,p){var n=J.Nose.v.val/100,B=z,c=a.zr(z),t=a.hW(c),u=c==32?t/2:t>>>1,v=c==32?1/65535:c==16?1:1/255;
if(n>0){if(p)for(var g=0;g<B.length;g++){var A=B[g];if(A>0)B[g]=Math.max(0,Math.min(t,A+n*2*(v*ju.OB(g*3)-u)))}else for(var g=0;
g<B.length;g++){var A=B[g];if(A>0)B[g]=Math.max(0,Math.min(t,A+Math.min(A*3,n*2*(v*ju.OB(g*3)-u))))}}};
ju.xU=function(z,J,p,n){ju.dd(z,J,n);ju.mu(z,J,p)};ju.aex=function(z,J){var p=J.ShdN.v.val/100;if(p>0)for(var g=0;
g<z.length;g++){var n=z[g];n=Math.min(510-(1+p)*ju.OB(g),n);z[g]=n}};ju.OB=function(z){z=z^61^z>>16;
z=z+(z<<3);z=z^z>>4;z=z*668265261;z=z^z>>15;return z&65535};ju.aJr=function(z,J,p){var n=a.Wi.Um(z);
if(p!=null){n.o=Math.round(n.o*p);n.k=Math.round(n.k*p);n.X=Math.round(n.X*p)}return J<<24|n.X<<16|n.k<<8|n.o};
ju.$r=function(z,J,p){var n=a.zr(z);if(n==8)new Uint32Array(z.buffer).fill(ju.aJr(J,255,p));else{var B=a.Wi.Um(J),c=(p==null?1:p)/255;
a.Y1(z,B.o*c,B.k*c,B.X*c);a.o2(z,1)}};ju._M=function(z,J,p,n,B){var c=J.uglg&&J.uglg.v?p.rN():J[B?B:"lagl"].v.val;
c=c*Math.PI/180+n;var t=Math.cos(c)*J.Dstn.v.val,u=Math.sin(c)*J.Dstn.v.val;z.x-=Math.round(t);z.y+=Math.round(u)};
ju.aqC=function(z,J){var p=z.uglg&&z.uglg.v?J.rN():z.lagl.v.val;p=p*(Math.PI/180);var n=z.uglg&&z.uglg.v?J.Ch():z.Lald.v.val;
n=n*(Math.PI/180);return[p,n]};ju.av9=function(z){if(z==null||!z.masterFXSwitch.v)return null;var J=z.frameFXMulti.v,p=null;
for(var g=0;g<J.length;g++)if(J[g].v.enab.v)p=J[g].v;if(p==null)return null;var n=a_.jM.J0();ju.aGP(p,n);
return n};ju.aGP=function(z,J){var p=a_.stroke.JU.indexOf(z.PntT.v.FrFl),n=[a_.Sx,a_.ik,a_.ry][p],B=J.strokeStyleContent.v={classID:a_.jM.Sp[p]};
for(var g=0;g<n.length;g++)B[n[g]]=z[n[g]];J.strokeEnabled=z.enab;J.strokeStyleLineWidth=z.Sz;J.strokeStyleLineAlignment.v.strokeStyleLineAlignment=a_.jM.ER[a_.stroke.types.indexOf(z.Styl.v.FStl)];
J.strokeStyleOpacity=z.Opct;J.strokeStyleBlendMode=z.Md;J.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
ju.Zi=function(z,J){var p=[];for(var g=0;g<z.length;g++)p.push({t:"UntF",v:{type:"#Nne",val:z[g]*J}});
return p};ju.ars=function(z,J){var p=z.YF/255*(z.add.iOpa?z.add.iOpa/255:1),n=z.add.TySh,B=z.nT()||z.dH()&&z.add.vmsk&&z.add.vstk.fillEnabled.v&&z.add.vstk.strokeEnabled.v;
if(n){var c=n.qU.EngineDict.StyleRun.RunArray,t=c[0].StyleSheet.StyleSheetData,u=0;if(t.FillFlag)u++;
if(t.StrokeFlag)u++;if(t._FillBackgroundFlag)u++;if(u>1)B=!0}return B&&(J||p!=1||z.QN!="pass"&&z.QN!="norm")};
ju.a2=function(z,J,p,n){this.W9=J.P();this.arK=J.P();this.arK.Lr(p,p);if(n){this.W9.Lr(1,1);this.a6$=a.j(this.W9.C(),a.zr(z));
a._1(z,J,this.a6$,this.W9)}else this.a6$=z;this.Fq=null;this.$E=null;this.C3=null};ju.a2.prototype.BK=function(){return this.a6$};
ju.a2.prototype.S=function(){return this.W9};ju.a2.prototype.Yl=function(){return this.arK};ju.a2.prototype.UY=function(){if(this.Fq)return this.Fq;
this.Fq=this.BK().slice(0);a.oU(this.Fq);return this.Fq};ju.a2.prototype.I2=function(){if(this.$E)return this.$E;
this.$E=a.style.xO(this.UY(),this.S().r,this.S().$);return this.$E};ju.a2.prototype.yO=function(){if(this.C3)return this.C3;
var z=this.Yl(),J=a.j(z.C(),a.zr(this.BK()));a._1(this.BK(),this.S(),J,z);var p=Date.now();this.C3=a.style.xO(J,z.r,z.$);
return this.C3};ju.a2.prototype.aio=function(z,J){var p={od:-J,dh:z,Pg:null,ye:null};if(J==0){p.Pg=this.S();
p.ye=this.I2();return p}var n=this.yO().slice(0),B=this.Yl();p.Pg=B;p.ye=n;for(var g=0;g<n.length;g++)n[g]=-n[g];
if(z==0)return p;var c=this.I2(),t=this.S();for(var u=0;u<t.$;u++)for(var v=0;v<t.r;v++){var A=u*t.r+v,$=(u+t.y-B.y)*B.r+v+t.x-B.x;
n[$]+=c[A]}return p};ju.a2.prototype.IJ=function(z,J,p){var n=Math.ceil(z+J),B={Dm:this.S().P(),BK:null};
B.Dm.Lr(n,n);B.BK=a.j(B.Dm.C(),a.zr(this.BK()));if(z==0&&J==0)a._U(p?this.BK():this.UY(),B.BK);else{var c=B.BK;
a._1(this.BK(),this.S(),c,B.Dm);if(!p)a.oU(c);if(z!=0){if(p)a.style.PL(c,B.Dm,this.yO(),this.Yl(),z);
else a.style.PL(c,B.Dm,this.I2(),this.S(),z)}if(J!=0)a.zM.zH(c,B.Dm,Math.max(1,J*.43))}return B};ju.a2.prototype.af2=function(z,J,p,n){var B=z*(J-.5),c=1/z,t={Dm:this.S().P(),BK:null};
if(p)t.Dm.Lr(z,z);var u=a.zr(this.BK()),v=a.hW(u);t.BK=a.j(t.Dm.C(),u);var A=p?this.yO():this.I2(),$=p?this.Yl():this.S(),X=t.Dm,U=X.ly($),w=U.r,P=U.$,k=U.x-X.x,T=U.y-X.y,Z=U.x-$.x,i=U.y-$.y,V=1-J*2;
for(var _=0;_<P;_++)for(var y=0;y<w;y++){var E=A[(_+i)*$.r+y+Z],F=E*c;t.BK[(_+T)*X.r+y+k]=v*Math.max(0,Math.min(1,n*(1-(F+V)/(1+V))))}return t};
ju.aJd=function(z,J,p,n){var B=z.Lefx,c=z.blendOptions;if(B){var t=J.add.lmfx;if(p==null)p=t?t.Scl.v.val:100;
J.add.lmfx=a.G(B.v);if(J.add.lmfx.Scl==null)J.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};ju.yh(J.add.lmfx,p/J.add.lmfx.Scl.v.val);
if(t)J.add.lmfx.Scl.v.val=t.Scl.v.val;var u=B.v.gagl;if(u&&n)n.r6(u.v.val)}else delete J.add.lmfx;if(c){c=c.v;
if(c.Md)J.QN=jM.pg(c.Md.v.BlnM);if(c.Opct)J.YF=Math.round(c.Opct.v.val*255/100);if(c.fillOpacity)J.add.iOpa=Math.round(c.fillOpacity.v.val*255/100);
if(c.Blnd){var v=[];for(var g=0;g<10;g++)v.push(0,0,255,255);var A=c.Blnd.v,$="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var g=0;g<A.length;g++){var X=A[g].v,U=8*["Gry","Rd","Grn","Bl"].indexOf(X.Chnl.v[0].v.enum);for(var w=0;
w<8;w++){v[U+w]=X[$[w]].v}}J.QQ=v}}};ju.ahP=function(z){var J="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),p=[],n=z.QQ;
for(var g=0;g<4;g++){var B=g*8;if(n[B]+n[B+1]+n[B+4]+n[B+5]==0&&n[B+2]+n[B+3]+n[B+6]+n[B+7]==4*255)continue;
var c={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][g]}}]}}};
p.push(c);for(var t=0;t<8;t++)c.v[J[t]]={t:"long",v:n[g*8+t]}}var u={classID:"blendOptions"};if(z.QN!="norm")u.Md={t:"enum",v:{BlnM:jM.oa(z.QN)}};
if(z.YF!=255)u.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(z.YF*100/255)}};if(z.add.iOpa!=null)u.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(z.add.iOpa*100/255)}};
if(p.length!=0)u.Blnd={t:"VlLs",v:p};var v={wl:{classID:"null",Idnt:{t:"TEXT",v:b$.rR()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},pY:{classID:"Styl",blendOptions:{t:"Objc",v:u}}},A=z.add.lmfx;
if(A)v.pY.Lefx={t:"Objc",v:A};return v};function dT(){}dT.L3=function(z){var J=a.G(dT.aJt),p=J.Brsh.v;
if(z!=null){delete p.Hrdn;p.classID="sampledBrush";p.sampledData={t:"TEXT",v:z}}return J};dT.aJt={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
dT.aG5=function(z,J){var p=["opVr","szVr"],n=["usePaintDynamics","useTipDynamics"];for(var g=0;g<2;g++){var B=p[g];
if(z[B]==null)z[B]=JSON.parse(dT.br.Pm[B]);z[B].v.bVTy.v=J[g]?2:0;if(J[g])z[n[g]].v=!0}dT.br.awc(z)};
dT.br={};dT.br.check=function(z){var J=dT.br.KU;for(var g=0;g<J.length;g++)if(z[J[g]]==null)z[J[g]]=JSON.parse(dT.br.Pm[J[g]]);
var p=[];for(var g=0;g<J.length;g++)p.push(J[g]);var n=dT.br.awp;for(var g=0;g<n.length;g++){var B=n[g][0],c=n[g][1],t=!0;
for(var u=0;u<B.length;u++)t=t&&z[B[u]].v==!0;if(t)for(var u=0;u<c.length;u++){if(z[c[u]]==null)console.log("Missing conditional parameter "+c[u]);
else p.push(c[u])}}for(var v in z)if(p.indexOf(v)==-1&&v!="toolOptions")console.log("Extra parameter "+v);
z=z.Brsh.v;J=dT.br.to.KU;for(var g=0;g<J.length;g++)if(z[J[g]]==null)z[J[g]]=JSON.parse(dT.br.to.Pm[J[g]]);
p=[];for(var g=0;g<J.length;g++)if(z[J[g]])p.push(J[g]);else console.log("Missing default parameter "+J[g]);
n=dT.br.to.a4n[z.classID];for(var g=0;g<n.length;g++)if(z[n[g]]==null&&n[g]!="dtipsGridSize"&&n[g]!="dtipsErodibleTipHeightMap"&&z.a91!=1)console.log("Missing conditional parameter "+n[g]);
else p.push(n[g]);for(var v in z)if(p.indexOf(v)==-1)console.log("Extra parameter "+v)};dT.br.awc=function(z){var J=dT.br.awp;
for(var g=0;g<J.length;g++){var p=J[g][0],n=J[g][1],B=!0;for(var c=0;c<p.length;c++)B=B&&z[p[c]]&&z[p[c]].v==!0;
if(B){for(var c=0;c<n.length;c++)if(z[n[c]]==null){z[n[c]]=JSON.parse(dT.br.Pm[n[c]])}}else for(var c=0;
c<n.length;c++)if(z[n[c]]!=null){delete z[n[c]]}}};dT.br.to={};dT.br.to.KU="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
dT.br.to.Pm={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};dT.br.to.a4n={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
dT.br.awp=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
dT.br.KU="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
dT.br.Pm={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function aS(z,J){this.a4m=z;this.rH=J==null?0:J;this.dir=0}aS.prototype.U$=function(z,J){var p=this.a4m,n=new i_(z.x-p.x,z.y-p.y),B=new fA;
B.rotate(-this.rH);n=B.g$(n);if(this.dir==0&&!p.Vm(z))this.dir=Math.abs(n.x)<Math.abs(n.y)?1:2;if(J.Q(l5.VN)){if(this.dir==1)n.x=0;
if(this.dir==2)n.y=0}B.oU();n=B.g$(n);var c=new i_(p.x+n.x,p.y+n.y);return c};aS.prototype.afv=function(z){if(z.Q(l5.VN))return this.dir;
return 0};var ay=function(){function z(){this.axb={}}z.asK=function(J,p){var n=J.P();n.Rf-=Math.floor(n.Rf);
n.Sm-=Math.floor(n.Sm);var B=new i_(p,0),c=new i_(0,p),t=n.g$(B),u=n.g$(c),v=new i_(n.Rf,n.Sm);return[t,u,v]};
z.aqV=function(J,p){var n=i_.mT;return n(J[0],p[0])+n(J[1],p[1])+n(J[2],p[2]);return dsum};z.prototype.a5O=function(J){var p=this.axb,n=p[J];
if(n==null)n=p[J]={lg:[],BW:0,C:0,a85:0,aqh:0};n.BW=Date.now();while(Object.keys(p).length>3){var B="",c=Date.now();
for(var t in p){var u=p[t].BW;if(u<c){c=u;B=t}}delete p[B]}return n};z.prototype.aAS=function(J,p){var n=J.lg,B,c=1e6;
for(var g=0;g<n.length;g++){var t=n[g],u=z.aqV(t.cc,p);if(u<c){B=t;c=u}}return B};z.prototype.ams=function(J,p){var n=J.lg;
n.push(p);J.C+=p.S.C();if(n.length>1e3||J.C>100*100*1600){n.sort(function(c,t){return t.BW-c.BW});while(n.length>500||J.C>100*100*800){var B=n.pop();
J.C-=B.S.C()}}};return z}();function dJ(z,J,p,n,B,c,t,u,v){this.EO=J;this.bG=p;this.Gh=c;this.qY=n;this._b=null;
this.KC=null;this.js=0;this.aL3=0;this.avk=0;this.FM=0;this.p5=0;this.ka=v==null?Math.floor(Math.random()*16777215):v;
this.aW=v==null?Math.floor(Math.random()*16777215):v;this.eE=new fw;this.GZ=new fw;this.AL=n.depth?n.depth:8;
if(u!=null){this.R1=u}else{var A=dJ.aro;if(A.length!=t.C()*4)A=a.j(t.C()*4,this.AL);else A.fill(0);this.R1=dJ.aro=A}this.S=t.P();
this.Er=[];this.qa=[];this.Ne=null;this.Nb=0;this.X=null;this.ayx="";this.sS=null;this.aDj=null;this.ach(z,B)}dJ.aro=a.j(0);
dJ.prototype.ach=function(z,J){this.Nb=J;this.X=z;this.ayx=JSON.stringify(z)+JSON.stringify(this.qY.Aa);
this.sS=dJ.acj(this.X,this.EO,this.bG);this.sS.kR[0]=a.hg(this.sS.kR[0],this.AL);this.aDj=a.j(this.sS.kR[1].C()*4,this.AL);
a.DE(this.sS.kR[0],this.aDj,3)};dJ.prototype.moveTo=function(z,J,p){p=this.ap_(p);this.js=p;var n=new i_(z,J),B=this.X.Brsh.v.Dmtr.v.val;
this._b=n.P();this.KC=n.P();this.Ne=n.P();this.Er=[z,J];this.qa=[p];if(this.qY.Xh!=dJ.Dv){var c=this.X.angleDynamics,t=c?c.v.bVTy.v==6:!1;
this.dm(t?new fw:this.a41(n,this.a3V(p),p,new i_(0,0)))}this.FM=n.P()};dJ.prototype.lineTo=function(z,J,p){p=this.ap_(p);
var n=this.Er,B=n.length,c=n[B-2],t=n[B-1];if(z==c&&J==t)return;var u=this.X.Brsh.v.Dmtr.v.val,v=Math.ceil(u)+1,A=new fw(Math.round(c),Math.round(t),0,0);
A.Lr(v,v);var $=new fw(Math.round(z),Math.round(J),0,0);$.Lr(v,v);this.Er.push(z,J);this.qa.push(p);
B+=2;if(B>=6)this.dm(this.a2W(B))};dJ.prototype.ap_=function(z){if(z==null)z=1;z=Math.max(.05,Math.min(5,z));
if(isNaN(z)){alert("Pressure is not a number");throw"e"}return z};dJ.prototype.dm=function(z){this.eE=z;
this.GZ=this.GZ.KQ(z)};dJ.prototype.finish=function(){var z=this.Er,J=z.length,p;if(J==4)p=this.fh(z[J-2],z[J-1],this.qa[(J>>1)-1],!0);
if(J>4)p=this.a2W(J+2);if(p)this.dm(p)};dJ.prototype.R2=function(){return this.S.P()};dJ.prototype.IV=function(){return this.eE.ly(this.S)};
dJ.prototype.vo=function(){return this.GZ.ly(this.S)};dJ.prototype.qZ=function(){return this.R1};dJ.prototype.a2W=function(z){var J=this.Er,p=this.qa,n=J[z-6],B=J[z-5],c=J[z-4],t=J[z-3],u=p[(z>>1)-3],v=p[(z>>1)-2],A=new i_(0,0),$=new i_(0,0);
if(8<=z)A=dJ.aEA(J[z-8],J[z-7],n,B,c,t);if(z<=J.length)$=dJ.aEA(J[z-2],J[z-1],c,t,n,B);var X=n+A.x,U=B+A.y,w=c+$.x,P=t+$.y,k=new fw,T=this.axC()?1:10;
for(var g=0;g<T;g++){var Z=(g+1)/T,i=1-Z,V=i*i*i*n+3*Z*i*i*X+3*Z*Z*i*w+Z*Z*Z*c,_=i*i*i*B+3*Z*i*i*U+3*Z*Z*i*P+Z*Z*Z*t,y=this.fh(V,_,u+Z*(v-u));
k=k.KQ(y)}return k};dJ.aEA=function(z,J,p,n,B,c){var t=z-p,u=J-n,v=B-p,A=c-n,$=Math.sqrt(t*t+u*u),X=Math.sqrt(v*v+A*A),U=Math.acos((t*v+u*A)/($*X))/Math.PI,w=.35,P=.1;
U=P+U*(w-P);var k=B-z,T=c-J,Z=Math.sqrt(k*k+T*T),i=U*X/Z;return new i_(k*i,T*i)};dJ.prototype.fh=function(z,J,p,n){var B=new fw,c=this.qY.aKe;
if(c==null)c=0;if(c==0||n){B=this.a6g(z,J,p);return B}var t=this.Ne,u=z-t.x,v=J-t.y,A=Math.sqrt(u*u+v*v);
u/=A;v/=A;if(A>c){var $=t.x+u*(A-c),X=t.y+v*(A-c);B=this.a6g($,X,p);this.Ne.GK($,X)}return B};dJ.prototype.axC=function(){var z=this.X,J=z.Brsh.v.Dmtr.v.val;
return this.qY.Aa&&J==1};dJ.prototype.a6g=function(z,J,p){var n=new fw,B=new i_(z,J),c=this.qY.Xh,t=B.Br(this.KC);
t.normalize(1);var u=i_.mT(this.KC,B),v=-this.aL3,A=this.KC.P();if(this.axC()){if(u>.99){var $=this.KC,X=a.H6.asV(B,this.S,this.qY.sC);
for(var g=0;g<X.length;g++){var U=X[g],w=U.g$($),P=U.g$(B);dJ.afb(w,P,this.R1,this.S,this.gY(this.X));
n=n.KQ(a.b._g([w.x,w.y,P.x,P.y]))}v=u}else B=this.KC}else while(!0){var k=this.js+(p-this.js)*(Math.max(0,v)/u),T=this.a3V(k),Z=this.aa$()*(T+this.avk)/2*this.sS.a5b;
if(c==dJ.Dv)Z=1;Z=Math.max(Z,.5);if(v+Z<u){v+=Z;this.p5+=Z;var i=new i_(this.KC.x+t.x*v,this.KC.y+t.y*v),_=1;
if(c==dJ.Dv){var P=A.P();P.x+=t.x>0?1:-1;var V=A.P();V.y+=t.y>0?1:-1;if(i_.mT(P,i)<i_.mT(V,i))i=P;else i=V;
v=i_.mT(i,this.KC)}if(this.X.useScatter.v==!0){_=this.X.Cnt.v;var y=this.X.countDynamics.v.jitter.v.val/100,E=y*(-1+2*this.Qi());
_+=Math.round(_*E)}for(var g=0;g<_;g++){var F=this.a41(i,T,p,t);n=n.KQ(F)}A=i}else break}this.aL3=u-v;
this.KC=B;this.js=p;return n};dJ.prototype.aa$=function(){var z=this.X.Brsh.v,J=z.Spcn.v.val,p=Math.max(5,z.Rndn.v.val);
return p/100*(J/100)};dJ.prototype.a3V=function(z){var J=this.X,p=J.Brsh.v.Dmtr.v.val;if(J.useTipDynamics.v){var n=p*(J.minimumDiameter.v.val/100);
p=n+(p-n)*(1-this.Qi(this.aW)*(J.szVr.v.jitter.v.val/100));p*=dJ.rY(J,"szVr",z,this.p5)}return p};dJ.rY=function(z,J,p,n){var B=1,c=z[J].v,t=c.bVTy.v,u=c.fStp.v;
if(t==1)B*=Math.max(0,(u-n)/u);if(t==2)B*=p;return B};dJ.prototype.a41=function(z,J,p,n){var B=this.qY.Ba,k=0;
B=Math.min(1,B);var c=this.X,t=this.X.Brsh.v,u=t.Dmtr.v.val,v=this.qY,A=v.Xh,$=v.a0S,X=this.sS.kR[1],U=new fA;
U.translate(-X.r/2,-X.$/2);U.scale(1/this.sS.amo,1/this.sS.amo);U.scale(J/u,J/u);U.scale(1,Math.max(5,t.Rndn.v.val)/100);
if(c.usePaintDynamics&&c.usePaintDynamics.v){var w=c.opVr.v.jitter.v.val/100,P=c.prVr.v.jitter.v.val/100;
B*=1-this.Qi()*w;B*=1-this.Qi()*P;B*=dJ.rY(c,"opVr",p,this.p5)*dJ.rY(c,"prVr",p,this.p5)}if(c.useTipDynamics.v){var T=c.angleDynamics.v,Z=c.minimumRoundness.v.val/100;
U.scale(1,Z+(1-Z)*Math.round(100-this.Qi()*c.roundnessDynamics.v.jitter.v.val)/100);k+=(-.5+this.Qi())*4*Math.PI*(T.jitter.v.val/100);
k+=dJ.rY(c,"angleDynamics",p,this.p5)*2*Math.PI;if(T.bVTy.v==6)k+=Math.atan2(-n.y,n.x)}k+=t.Angl.v.val*(Math.PI/180);
U.rotate(k);if(c.useScatter.v){var i=(-1+2*this.Qi())*c.scatterDynamics.v.jitter.v.val/100;U.translate(-i*J*n.y,i*J*n.x)}U.translate(z.x,z.y);
var V=this.aau(U,z,J),_=V.S.P();if(A==null){var y=this.gY(c);a.Y1(V.QP,y.o,y.k,y.X);if(this.GZ.Sz()&&this.S.Vm(V.S)&&B==1)this.R1=V.QP.slice(0);
else{var E=a.H6.asV(z,this.S,v.sC);for(var g=0;g<E.length;g++){var F=E[g],d,x;if(F.k6==1&&F.X==0&&F.GQ==0&F.JH==1){d=V.QP;
x=V.S.P();x.x+=F.Rf;x.y+=F.Sm}else{var f=U.P();f.concat(F);var Q=this.aau(f,F.g$(z),J);d=Q.QP;x=Q.S;
a.Y1(d,y.o,y.k,y.X)}if(x.SH(this.S)){_=_.KQ(x);if(this.AL==8)a.B.aiR(d,x,this.R1,this.S,x,B);else a.B.Oe("norm",d,x,this.R1,this.S,x,B)}}}}if(A==dJ.Dv){var H=new i_(V.S.x+V.S.r/2,V.S.y+V.S.$/2),S=Math.round(H.x-this.FM.x),R=Math.round(H.y-this.FM.y),I=V.S.P();
I.offset(-S,-R);var D=I.ly(this.S);D.offset(S,R);a.nk(this.R1,this.S,V.QP,I);if(this.AL==8)a.B.agm(V.QP,V.S,this.R1,this.S,V.hr,V.S,B);
else a.B.MQ(V.QP,V.S,this.R1,this.S,V.hr,V.S,0,D,B,!1)}if(A==dJ.b6||A==dJ.pq||A==dJ.qw){var G=V.S.ly(this.S),C;
if(G.Vm(V.S))C=V.hr;else{C=a.j(G.C(),this.AL);a._1(V.hr,V.S,C,G)}var O=a.j(G.C()*4,this.AL);a.nk(this.R1,this.S,O,G);
if(A==dJ.pq){var Y=O.slice(0),h=a.iM.ns([-1,-1,-1,-1,25,-1,-1,-1,-1]);a.iM.Jf(O,Y,G.r,G.$,h);a._U(Y,O)}else if(A==dJ.qw){var r=em.J0("UnsM");
r.Amnt.v.val=15;r.Thsh.v=0;r.Rds.v.val=5;var Y=a.j(O.length,this.AL);em.Rm("UnsM",{buffer:O,S:G},r,0,0,{buffer:Y,S:G});
a._U(Y,O)}else{em.Pz(1,0,O,G)}if(this.AL==8)a.B.agm(O,G,this.R1,this.S,C,G,B);else a.B.MQ(O,G,this.R1,this.S,C,G,0,G,B,!1)}this.avk=J;
this.FM=H;this.aW++;return _};dJ.prototype.gY=function(z){var J=a.g8(this.Nb,1),p=z.colorDynamicsPerTip,n=null;
p=p?p.v:!1;if(this.a6W==null)this.a6W=this.ka;if(!p){n=this.ka;this.ka=this.a6W}if(z.useColorDynamics&&z.useColorDynamics.v){var B=1-this.Qi()*z.clVr.v.jitter.v.val/100,c=a.g8(this.Gh,1);
J.o=B*J.o+(1-B)*c.o;J.k=B*J.k+(1-B)*c.k;J.X=B*J.X+(1-B)*c.X;var t=(-.5+this.Qi())*z.H.v.val/100,u=(-1+2*this.Qi())*z.Strt.v.val/100,v=(-1+2*this.Qi())*z.Brgh.v.val/100,A=a.HC(J.o,J.k,J.X);
A.tK=(A.tK+t+1)%1;A.Q5=A.Q5+u;if(A.Q5<0)A.Q5=-A.Q5;if(A.Q5>1)A.Q5=1-(A.Q5-1);A.Mf=A.Mf+v;if(A.Mf<0)A.Mf=-A.Mf;
if(A.Mf>1)A.Mf=1-(A.Mf-1);J=a.u4(A.tK,A.Q5,A.Mf)}if(!p)this.ka=n;return J};dJ.prototype.br=function(z){return Math.max(0,Math.min(1,z))};
dJ.prototype.Qi=function(z){if(z==null){z=this.ka++}return dJ.hash(z)};dJ.hash=function(z){z=z^61^z>>16;
z=z+(z<<3);z=z^z>>4;z=z*668265261;z=z^z>>15;return(z&16777215)/16777215};dJ.azW=new ay;dJ.aeU=function(z,g,J){var p=z[g],n=z[J];
z[g]=4+7*p+n>>>3;z[J]=4+7*n+p>>>3};dJ.prototype.aau=function(z,J,p){var n=this.qY.Aa,B=this.X.Brsh.v,c=Math.round(B.Dmtr.v.val),t;
if(n&&c<=3){t={N:a.j(c*c,this.AL),S:new fw(Math.round(J.x-c/2),Math.round(J.y-c/2),c,c)};t.N.fill(a.hW(this.AL))}else if(z.k6==1&&z.X==0&&z.GQ==0&&z.JH==1){t={N:this.sS.kR[0],S:this.sS.kR[1].P(),QP:this.aDj};
t.S.x=Math.round(z.Rf);t.S.y=Math.round(z.Sm)}else{if(z.Nz()>1e-4){t=L.tp.azh(this.sS.kR,z);var u=t.S.r,v=t.S.$,A=t.N;
if(B.classID=="sampledBrush"&&a.zr(A)==8&&u*v>25)for(var $=1;$<v;$++)for(var X=1;X<u;X++){var g=$*u+X;
dJ.aeU(A,g,g-1);dJ.aeU(A,g,g-u)}}}if(t)t.N=a.hg(t.N,this.AL);if(t==null)t={N:a.j(0,this.AL),S:new fw};
var U={hr:t.N,S:t.S,QP:t.QP};if(U.QP==null||n){if(n)a.round(t.N);U.QP=a.j(t.S.C()*4,this.AL);a.DE(U.hr,U.QP,3)}return U};
dJ.acj=function(z,J,p){var n,B,c,t=z.Brsh.v.Dmtr.v.val,u=z.Brsh.v.classID;if(u=="computedBrush"){var v=z.Brsh.v.Hrdn.v.val/100;
B=t<100?1.4:1;c=1;n=a.ayI.ahd(t,v,B)}if(u=="sampledBrush"){var A;for(var g=0;g<J.length;g++)if(J[g].id==z.Brsh.v.sampledData.v)A=J[g];
n=A.kR;var $=n[1];B=Math.max($.r,$.$)/t;c=Math.min($.r,$.$)/Math.max($.r,$.$)}return{amo:B,a5b:c,kR:n}};
dJ._V=null;dJ.$l=null;dJ.ky=function(z,J,p,n,B,c){var t=dJ._V,u=dJ.$l;if(t==null){dJ._V=t=document.createElement("canvas");
dJ.$l=u=t.getContext("2d")}if(c==null)c=n;if(t.width!=c||t.height!=B){t.width=c;t.height=B}else u.clearRect(0,0,c,B);
u.fillStyle="#000000";u.font=Math.floor(10*L.$q())+"px sans-serif";var v=z.Brsh.v.Dmtr.v.val,A=""+v,$=z.useBrushSize;
if($&&$.v)A="---";var X=u.measureText(A);u.fillText(A,(n-X.width)/2,B-2);var U=n,w=B-10*L.$q(),P=Math.min(U,w),k=z.Brsh.v.classID;
if(k=="computedBrush"){u.translate(U/2,w/2);u.rotate(-z.Brsh.v.Angl.v.val*Math.PI/180);u.scale(1,.1+.9*z.Brsh.v.Rndn.v.val/100);
var T=Math.min(.95*P/2,v/2)+.5,Z=.9*z.Brsh.v.Hrdn.v.val/100,i=u.createRadialGradient(0,0,0,0,0,T);i.addColorStop(Z,"rgba(0,0,0,1)");
i.addColorStop((.5+Z)/1.5,"rgba(0,0,0,.5)");i.addColorStop(1,"rgba(0,0,0,0)");u.fillStyle=i;u.fillRect(-T,-T,2*T,2*T);
u.setTransform(1,0,0,1,0,0)}else if(k=="sampledBrush"){var V,d=0;for(var g=0;g<J.length;g++)if(J[g].id==z.Brsh.v.sampledData.v)V=J[g];
var _=V.kR;a.Sb(_);var y=_[0],E=_[1].r,F=_[1].$;while((E>U||F>w)&&_[d+2]){d+=2;y=_[d];E=_[d+1].r;F=_[d+1].$}if(E*F!=0){var x=a.j(E*F*4);
a.DE(y,x,3);var f=new ImageData(new Uint8ClampedArray(x.buffer),E,F);u.putImageData(f,Math.round((U-E)/2),Math.round((w-F)/2))}}else{}return t.toDataURL()};
dJ.Zn=function(z,J,p,n){if(p==0)p=1;var B=z.Brsh.v,c=B.Dmtr.v.val,t=B.Angl.v.val,u=B.Dmtr.v.val=Math.min(n!=null?Math.round(n*2.6):3e3,c*p),v=B.Hrdn?B.Hrdn.v.val/100:1,A=n!=null?n:Math.round((t==0?1:1.42)*u*(1+.55*(1-v)))+4,U;
A=Math.max(25,Math.min(A,3e3));var $=new fw(0,0,A,A),X=new dJ(z,J,null,{Ba:1},16711712,0,$);B.Dmtr.v.val=c;
X.moveTo($.r/2,$.$/2);var w=a.hg(X.qZ(),8),P=X.R2();if($.Vm(P))U=w;else{U=a.j($.C()*4);a.nk(w,P,U,$)}return[U,$,u]};
dJ.Uv=function(z,J,p,n){var B=J.r,c=B>>>1;for(var g=2;g<7;g++){z[B*(c-g)+c-1]=n;z[B*(c-g)+c]=p;z[B*(c-g)+c+1]=n;
z[B*(c+g)+c-1]=n;z[B*(c+g)+c]=p;z[B*(c+g)+c+1]=n;z[B*(c-1)+c-g]=n;z[B*c+c-g]=p;z[B*(c+1)+c-g]=n;z[B*(c-1)+c+g]=n;
z[B*c+c+g]=p;z[B*(c+1)+c+g]=n}n=p;if(L.$q()>=1.5)for(var g=5;g<11;g++){z[B*(c-g)+c-1]=n;z[B*(c-g)+c]=p;
z[B*(c-g)+c+1]=n;z[B*(c+g)+c-1]=n;z[B*(c+g)+c]=p;z[B*(c+g)+c+1]=n;z[B*(c-1)+c-g]=n;z[B*c+c-g]=p;z[B*(c+1)+c-g]=n;
z[B*(c-1)+c+g]=n;z[B*c+c+g]=p;z[B*(c+1)+c+g]=n}};dJ.L$=function(z,J,p,n){var B=dJ.Zn(z,J,p),c=B[0].slice(0),t=B[1],u=B[2],v=t.C(),A=a.j(v);
a.Tm(c,A,3);var $=a.j(v);a.M.a3B(A,$,t,L.$q()>1.9);if(u<3||a.yv($,0)||n&&u>12){dJ.Uv($,t,255,0)}var X=[3,5,3,4,8,4,3,5,3];
X=a.iM.ns(X);a.iM.fg($,A,t.r,t.$,X);c.fill(255);a.DE(A,c,3);for(var g=0;g<v;g++)if($[g]==255){c[g<<2]=c[(g<<2)+1]=c[(g<<2)+2]=0;
c[(g<<2)+3]=255}return{ps:c,Dm:t,wG:new i_(t.r/2,t.$/2)}};dJ.afb=function(z,J,p,n,B){var c=4278190080|Math.round(B.X*255)<<16|Math.round(B.k*255)<<8|Math.round(B.o*255)<<0;
p=new Uint32Array(p.buffer);var t=Math.floor(z.x),u=Math.floor(z.y),v=Math.floor(J.x),A=Math.floor(J.y),$=Math.abs(v-t),X=Math.abs(A-u),U=t<v?1:-1,w=u<A?1:-1,P=$-X;
while(!0){if(0<=t&&t<n.r&&0<=u&&u<=n.$)p[u*n.r+t]=c;if(t==v&&u==A)break;var k=2*P;if(k>-X){P-=X;t+=U}if(k<$){P+=$;
u+=w}}};dJ.Dv="0";dJ.b6="1";dJ.pq="2";dJ.qw="3";var hk={};hk.Te=function(z,J,p){if(p==null)p=!0;var n=z.add.TySh,B=n.qU,c=new e1(B,J,n.PB);
z.GJ.SU=c.X2();var t=z.GJ.path=hk.Ta(c,n);if(ex!=0)return[t,c,null];var u=hk.NE(t,n.h,dN.w6(n));if(p){z.S=u.Dm;
var v=a.zr(z.buffer);z.buffer=a.hg(u.R1,v);z.qM()}return[t,c,u]};hk.NE=function(z,J,p){z={Ao:z.Ao,L:z.L.slice(0)};
a.b.h(z.L,J,z.L);var n=a.b._g(z.L),B=0;if(n.Sz())return{R1:a.j(0),Dm:new fw};for(var g=0;g<z.Ao.length;
g++){var c=z.Ao[g];if(c[0]=="O"&&c[1]=="-")B=Math.max(B,parseFloat(c.split("-")[2]))}B=Math.ceil(B*J.Nz()/2);
n.Lr(B,B);var t=a.za(n.r,n.$);t.translate(-n.x,-n.y);hk.aFm(z,t);var u=t.getImageData(0,0,n.r,n.$),v=new Uint8Array(u.data.buffer);
if(p==0)for(var g=0;g<v.length;g+=4)v[g+3]=v[g+3]>80?255:0;if(p==3)for(var g=0;g<v.length;g+=4)v[g+3]=Math.min(255,v[g+3]*1.5);
t.resetTransform();t.beginPath();return{R1:v,Dm:n}};hk.Ta=function(z,J,p){var n=J.h,B=J.qU;hk.vV=n.Nz();
var c=dN.w6(J),t=Math.max(n.X*n.X,n.GQ*n.GQ)<1e-9?n:null;if(c==3||c==4)t=null;var u={Ao:[],L:[]};hk.abL(z,u,t,!0);
hk.abL(z,u,t,!1);u=hk.kU(u,J,z,p);return u};hk.vV=1;hk.kU=function(z,J,p,n){if(z==null)return z;if(p&&p.vm)a.b.h(z.L,p.vm,z.L);
if(p&&!a.TX.CM(J.lL)){var B=dN.R2(J,p);if(!B.Sz()){if(z.Ao){z=a.b.bm(z);var c=Math.min(B.r,B.$)/8;if(c<1)c=1;
z=a.b.mW(z,c)}var t=a.TX.Dz(J.lL,B);a.IN.h(t,z.L,B)}}var u=J.h;if(n)a.b.h(z.L,u,z.L);return z};hk.aFm=function(z,J){J.save();
J.miterLimit=2;Typr.U.pathToContext({crds:z.L,cmds:z.Ao},J);J.restore()};hk.D5=function(z,J,p){var n=e1.a9G(p),B=z.qU,c=B.ResourceDict.FontSet,t=B.ResourceDict.StyleSheetSet[0].StyleSheetData,u=B.EngineDict.StyleRun.RunLengthArray,v=B.EngineDict.StyleRun.RunArray,A=dN.Be(B),$=!0,X={},U=0;
for(var g=0;g<v.length;g++){var w=v[g].StyleSheet.StyleSheetData.Font;if(w==null)w=t.Font;for(var P=0;
P<u[g];P++){var k=A.charCodeAt(U+P),T=w+","+(k>128?k:-1),Z=dN.qI(c[w]);if(X[T]==null){X[T]=1;if(J.ck(Z,k)==null)$=!1}}U+=u[g]}return $&&n};
hk.qs=function(z,J,p){var n=!0;for(var B=0;B<z.U.length;B++){var c=z.U[B],t=c.add.TySh;if(t!=null&&!hk.D5(t,J,p))n=!1}return n};
hk.Lh=function(z,J,p){for(var n=0;n<z.U.length;n++){var B=z.U[n],c=B.add.TySh;if(c!=null&&hk.D5(c,J,p)){hk.Te(B,J);
z.qM()}}};hk.abL=function(z,J,p,n){var B=new fA;for(var g=0;g<z.gC.length;g++)hk.aGj(z.uA,z.gC[g],J,B,p,n)};
hk.aGj=function(z,J,p,n,B,c){n.translate(J.lo.x,J.lo.y);for(var g=0;g<J.l0.length;g++){var t={},u=J.l0[g],$=0;
if(!u.v2)break;var v=n.P();v.translate(u.lo.x,u.lo.y);if(B){var A=B.Sm+v.Sm*B.JH;v.Sm=(Math.round(A)-B.Sm)/B.JH}for(var X=u.start;
X<u.end;X++)$=Math.max($,J.vr[X].pa);for(var X=u.start;X<u.end;X++){hk.a6c(z,J.vr[X],J,t,p,v,c,$)}}n.translate(-J.lo.x,-J.lo.y)};
hk.a6c=function(z,J,p,n,B,c,t,u){c.translate(J.lo.x,J.lo.y);for(var v=J.E1;v<=J.zG;v++){var A=p.tU[v],$=A.Dm.r,X=z[p.aeq+A.sc],U=X.bs._FillBackgroundFlag;
if(X.La=="\n"||t&&!U)continue;var w=X.bs.FontSize/X.Vv.head.unitsPerEm,P=c.P();P.translate(A.lo.x+A.a0*w,A.lo.y-A.aAv*w);
var k=new fA;k.scale(w,-w);if(X.bs.FauxItalic)k.concat(new fA(1,0,-Math.tan(.18),1,0,0));k.translate(0,X.aDm);
k.scale(X.scale.x,X.scale.y);if(X.bs.BaselineShift!=null)k.translate(0,-X.bs.BaselineShift);if(A.rH!=0){k.rotate(-A.rH)}k.concat(P);
var T=(X.bs.OutlineWidth?X.bs.OutlineWidth:1)*hk.vV;if(t){B.Ao.push(hk.gY(X.bs._FillBackgroundColor));
var Z=1.005*A.Dm.$/w,i=new fw(-A.a0,-Z*.27,1.03*A.Dm.r/(w*X.scale.x),Z);if(X.bs.StrokeFlag)i.Lr(T/w,T/w);
a.b.concat(B,a.b.e3(i),k);B.Ao.push("X");continue}if(X.bs.FillFlag)B.Ao.push(hk.gY(X.bs.FillColor));
if(X.bs.StrokeFlag){var V=a_.St.aax(X.bs);B.Ao.push(hk.aHT(V))}if(A.path.Ao.length!=0&&X.La!="\t"){if(X.bs.FauxBold){var _=X.bs.FontSize/2048*27*X.scale.x,y=Math.cos(A.rH)*_,E=Math.sin(A.rH)*_;
k.Rf+=y;k.Sm+=E;a.b.concat(B,A.path,k);k.Rf-=y+y;k.Sm-=E+E;a.b.concat(B,A.path,k)}else a.b.concat(B,A.path,k)}if(X.La!="\n"){var F=A.Dm.r/w;
if(X.bs.Underline){if(n.aF7==null)n.aF7=X.Vv.post.underlineThickness/X.Vv.head.unitsPerEm;if(n.a8e==null)n.a8e=X.Vv.post.underlinePosition;
console.log(X.Vv.name.aad,X.Vv.post.underlineThickness/X.Vv.head.unitsPerEm);var d=0,x=0,f=0,Q=1/(w*X.scale.y),m=-u*Q;
f=-m*n.aF7*1.6;x=m*.3;a.b.concat(B,{Ao:["M","L","L","L","Z"],L:[d,x,d+F,x,d+F,x+f,d,x+f]},k)}if(X.bs.Strikethrough){var H=X.Vv["OS/2"].yStrikeoutSize,S=X.Vv["OS/2"].yStrikeoutPosition,d=0,x=S+H/2,f=-H;
a.b.concat(B,{Ao:["M","L","L","L","Z"],L:[d,x,d+F,x,d+F,x+f,d,x+f]},k)}}var R=X.bs.FillFlag,I=X.bs.FillFirst;
if(I==null)I=!0;if(R&&I)B.Ao.push("X");if(X.bs.StrokeFlag)B.Ao.push("OX");if(R&&!I)B.Ao.push("X")}c.translate(-J.lo.x,-J.lo.y)};
hk.aHT=function(z){var J=z.K$,p=["O","#"+a.fX(a.fa({o:J[0],k:J[1],X:J[2]},1)),z.tM];p.push(z.eY,z.AE,z.Rw,z.Ga,z.ji.join(","));
return p.join("-")};hk.aG$=function(z){var J=parseFloat,p=z.split("-"),n=a.g8(parseInt(p[1].slice(1),16)),B=p[8]=="1"?2:0;
return{K$:[n.o/255,n.k/255,n.X/255],tM:J(p[2]*(B==2?.5:1)),eY:J(p[3]),AE:J(p[4]),Rw:J(p[5]),Ga:J(p[6]),ji:p[7]==""?[]:p[7].split(",").map(J),O_:B}};
hk.gY=function(z){return"#"+a.fX(a.fa(dN.Um(z)))};function e1(z,J,p){var n=dN.Xn(z),B,c,t=dN.DL(z),u=z._LineOrientation==2?new fA:null,X,w;
if(z.Curve)c=e1.Ji(z.Curve);if(n!=0){B=new fw(t[0],t[1],t[2],t[3]);if(u){var v=B.r;B.r=B.$;B.$=v;u.translate(0,-t[2])}if(n==2){B.r=c[5]-c[4];
B.$=9999}}this.gC=[];this.uA=[];this.iQ=n;this.vm=u;var A=this.aA4=dN.Be(z),$=-1,U=-1;for(var g=0;g<A.length;
g++){var P=X,k=dN.aGo(z,g);if(k!=$){$=k;P=X=dN.aeb(z,k)}var T=w,k=dN.aBm(z,g);if(k!=U){U=k;T=w=dN.aLf(z,k)}var Z={La:A.charAt(g),bs:P,Vv:null,zS:null,aef:!1,Jj:-1,To:dN.alI(z,g),aDm:0,scale:new i_(0,0),pa:0,lineHeight:0,Tt:0},i=z.ResourceDict.FontSet[P.Font],V=dN.qI(i),_=Z.Vv=J.ck(V,A.charCodeAt(g));
if(i.Axis){var y=Z.zS=i.Axis.slice(0),E=_.fvar;for(var F=0;F<y.length;F++)y[F]/=65536;if(E&&E[0].length<y.length)Z.zS=Z.zS.slice(0,E[0].length)}if(P.FontCaps==1)Z.aef=_&&_.GSUB&&_.GSUB.smcp?!1:!0;
Z.scale.x=P.HorizontalScale==null?1:P.HorizontalScale;Z.scale.y=P.VerticalScale==null?1:P.VerticalScale;
var d=_["OS/2"],x=_.hhea;if(Z.aef&&Z.La!=Z.La.toUpperCase()){var f=d.sxHeight?d.sxHeight/d.sTypoAscender:.76;
Z.scale.x*=f;Z.scale.y*=f}var Q=1/_.head.unitsPerEm*P.FontSize;if(P.FontBaseline==1){var f=z.ResourceDict.SuperscriptSize;
Z.scale.x*=f;Z.scale.y*=f;Z.aDm-=z.ResourceDict.SuperscriptPosition*P.FontSize}if(P.FontBaseline==2){var f=z.ResourceDict.SubscriptSize;
Z.scale.x*=f;Z.scale.y*=f;Z.aDm+=z.ResourceDict.SubscriptPosition*P.FontSize}Z.pa=e1.pa(_)*P.FontSize;
var m=T.AutoLeading;Z.lineHeight=P.FontSize*(m==null?1.2:m);if(P.AutoLeading==!1)Z.lineHeight=P.Leading;
if(Z.La=="\n"&&A[g-1]!="\n")Z.lineHeight=0;if(Z.lineHeight==0)Z.lineHeight=.01;this.uA.push(Z)}var H=this.gC,S=[0];
for(var g=0;g<z.EngineDict.ParagraphRun.RunLengthArray.length;g++){var R=new e1.i6(z,J,this.uA,g,B,S,n==1?c:null);
H.push(R)}if(u){if(n==0)u.translate(0,H[0].vr[0].pa/2);u.rotate(-Math.PI/2)}if(n==2){var I=z.Curve.Points,D=c[0],G=c[1],C=c[2],O=c[3],Y=c[4],h=c[5];
for(var g=0;g<H.length;g++)for(var F=0;F<H[g].l0.length;F++)if(!(g==0&&F==0))H[g].l0[F].v2=!1;var R=H[0],r=R.l0[0];
R.lo.GK(0,0);r.lo.GK(0,0);for(var F=r.start;F<r.end;F++){var W=R.vr[F],N=W.lo.x;W.lo.x=0;for(var o=W.E1;
o<=W.zG;o++){var K=R.tU[o],l=K.Dm.r/2;K.lo.x+=N;var aV=e1.aGt(D,(Y+K.lo.x+l)%O);K.lo.x=aV[0]-l*aV[2];
K.lo.y=aV[1]-l*aV[3];K.rH=Math.atan2(aV[3],aV[2])}}}if(p){var j=p.VAlign.v;if(j!=0&&dN.Xn(z)==1){var M=dN.DL(z)[3],s=this.X2().$,l2=0;
if(j==1)l2=M-s;if(j==2)l2=(M-s)/2;for(var g=0;g<this.gC.length;g++)this.gC[g].lo.y+=l2}}}e1.pa=function(z){var J=z._hhhh;
if(J==null){var p=Typr.U,n=p.codeToGlyph(z,104),B=a.b.yq(Typr.U.glyphToPath(z,n).crds).$;J=z._hhhh=B*(1/z.head.unitsPerEm)}return J};
e1.prototype.aKY=function(){return!this.aeG(0)};e1.prototype.aIB=function(){return this.aeG(1)};e1.prototype.aeG=function(z){var J=this.gC,p=!0,n=0;
for(var g=0;g<J.length;g++){var B=J[g].l0,c=B.length;n+=c;for(var t=0;t<c;t++)p&=B[t].v2}return[p,n][z]};
e1.Ji=function(z,J,p){if(J==null)J=.25;var n=z.Points,B=n.length,c=B>>>3,t=z.TextOnPathTRange,u=z.Reversed,U=0,w=0;
if(u){var v=n.slice(0);for(var g=0;g<B;g+=2){v[g]=n[B-2-g];v[g+1]=n[B-1-g]}n=v;t=[c-t[1]%c,c-t[0]%c]}var A=[],$=[0],X=[0];
for(var g=0;g<B;g+=8){var P=n[g+6]-n[g+0],k=n[g+7]-n[g+1],T=Math.round(Math.sqrt(P*P+k*k)/J),Z=p&&g==B-8?T+1:T;
for(var i=0;i<Z;i++){var V=i/T,_=1-V,y=_*_*_*n[g+0]+3*_*_*V*n[g+2]+3*_*V*V*n[g+4]+V*V*V*n[g+6],E=_*_*_*n[g+1]+3*_*_*V*n[g+3]+3*_*V*V*n[g+5]+V*V*V*n[g+7];
A.push(y,E);if(g+i!=0){var P=y-U,k=E-w;X.push(X[X.length-1]+Math.sqrt(P*P+k*k));$.push((g>>>3)+V)}U=y;
w=E}}var J=X.length,F=X[J-1],d=e1.oQ(t[0]%c,$),x=e1.oQ(t[1]%c,$),f=X[d%J],Q=X[x%J];if(f>=Q)Q+=F;return[A,$,X,F,f,Q]};
e1.oQ=function(z,J){var g=0;while(J[g]<z)g++;return g};e1.aGt=function(z,J){var p=0,g=0,n,B,c;while(p<J){n=z[g+2]-z[g];
B=z[g+3]-z[g+1];c=Math.sqrt(n*n+B*B);p+=c;g+=2}return[z[g],z[g+1],n/c,B/c]};e1.prototype.au9=function(z){return this.uA[z]};
e1.prototype.aeD=function(z){for(var J=0;J<this.gC.length;J++){var p=this.gC[J];for(var n=0;n<p.l0.length;
n++){var B=p.l0[n],c=p.vr[B.start].start,t=p.vr[B.end-1].end;if(c<z&&z<t)return[c,t-1]}}return[0,1]};
e1.prototype.au5=function(z,J){var p=-1,n=this.gC;if(this.iQ==2){var B=1e9,c=0,t=n[0],u=t.l0[0];for(var v=u.start;
v<u.end;v++){var A=t.vr[v];for(var $=A.E1;$<=A.zG;$++){var X=t.tU[$],U=X.Dm.r,w=z.x-X.lo.x,P=z.y-X.lo.y,k=w*w+P*P;
if(k<B){B=k;c=X.sc}}}if(c!=0&&this.aA4.codePointAt(c-1)>65535)c--;return c}for(var T=0;T<n.length;T++){var t=n[T];
for(var Z=0;Z<t.l0.length;Z++){p++;var u=t.l0[Z],i=t.l0[Z+1];if(i==null&&T<n.length-1)i=n[T+1].l0[0];
if(J!=null){if(p!=J)continue}else{if(i!=null&&t.lo.y+u.lo.y<z.y)continue}for(var v=u.start;v<u.end;v++){var A=t.vr[v];
for(var $=A.E1;$<=A.zG;$++){var X=t.tU[$],U=X.Dm.r,V=t.lo.x+u.lo.x+A.lo.x,_=V+X.lo.x,y=V+($<A.zG?t.tU[$+1].lo.x:X.lo.x+U);
if(z.x<=y||v+1==u.end&&$==A.zG){var E=t.aeq+X.sc,F=this.uA[E],d=F.Tt&1;if(F.La!="\n"&&(d==0&&z.x>_+U/2||d==1&&z.x<_+U/2))E+=this.aA4.codePointAt(E)>65535?2:1;
return E}}}}}};e1.prototype.Uy=function(z){var J={Dm:new fw,FL:0},p=0;for(var n=0;n<this.gC.length;n++){var B=this.gC[n];
for(var c=0;c<B.l0.length;c++){var t=B.l0[c];J.FL=p;p++;for(var u=t.start;u<t.end;u++){var v=B.vr[u];
for(var A=v.start;A<v.end;A++){if(A==z){var $=this.uA[A],X=$.Jj,U=B.tU[X].sc,w=1;while(B.tU[X]!=null&&B.tU[X].sc==U){var P=B.tU[X],k=B.lo.x+t.lo.x+v.lo.x+P.lo.x,T=B.lo.y+t.lo.y+v.lo.y+P.lo.y;
J.Dm=J.Dm.KQ(new fw(k,T-$.lineHeight,P.Dm.r,$.lineHeight));J.rH=P.rH;X+=w}return J}}}}}};e1.prototype.X2=function(){var z=Infinity,J=Infinity,p=-Infinity,n=-Infinity;
for(var g=0;g<this.gC.length;g++){var B=this.gC[g];for(var c=0;c<B.l0.length;c++){var t=B.l0[c];if(!t.v2)break;
for(var u=t.start;u<t.end;u++){var v=B.vr[u];for(var A=v.E1;A<=v.zG;A++){var $=B.tU[A],X=$.Dm,U=B.lo.x+t.lo.x+v.lo.x+$.lo.x,w=B.lo.y+t.lo.y+v.lo.y+$.lo.y;
z=Math.min(z,U+X.x);J=Math.min(J,w+X.y);p=Math.max(p,U+X.x+X.r);n=Math.max(n,w+X.y+X.$)}}}}return new fw(z,J,p-z,n-J)};
e1.Wz=function(z){return 19968<=z&&z<=40959||12288<=z&&z<=12543};e1.Rr=function(z,J,p,n,B,c,t){var u=[c],v=0;
for(var g=c;g<t;g++){if(p[g]==null)console.log(g,c,t,p);var A=p[g].La,$=A.charCodeAt(0);if($==32||$==9){u.push(v,g,1,g+1);
v=0}else if($==3851){u.push(v+1,g+1);v=0}else if(e1.Wz($)){u.push(v,g);v=1}else if(g!=c&&p[g].Tt!=p[g-1].Tt){u.push(v,g);
v=1}else v++}u.push(v);var X=[];for(var g=0;g<u.length;g+=2){var U=u[g],w=u[g+1];if(w==0)continue;X.push(new e1.ah_(z,J,p,n,B,U,w))}return X};
e1.axj=function(z,J,p,n,B,c,t){var u=[0,J?J.r:1e9],v=[];if(n){var A=z[c].pa,$=B+(B==0?A:z[c].lineHeight),X=$-A*.9,U=a.b.aoO(n[0],X),w=U.length,P=a.b.aoO(n[0],$),k=P.length;
if(w!=0&&k!=0){var T=0,Z=0,i=[];while(T<w&&Z<k){var V=Math.max(U[T],P[Z]),_=U[T+1],y=P[Z+1],E=Math.min(_,y);
if(V<E)i.push(V,E);if(_<y)T+=2;else Z+=2}if(i.length!=0)u=i}}for(var F=0;F<u.length;F+=2){var d=0,x=c,f=J?u[F+1]-u[F]-p.StartIndent-p.EndIndent-(c==0?p.FirstLineIndent:0):Infinity;
while(c!=z.length){var Q=z[c],m=d==0||(Q.ys||Q.$i)||d+Q.Dm.r<f;if(!m)break;d+=Q.Dm.r;c++}v.push(c-x)}t[0]=v;
t[1]=u;t[2]=c};e1.amn=function(z,J){var p=z.length,n=new Uint32Array(p),B=new Uint8Array(p),c=0;for(var g=0;
g<p;g++){B[g]=0;var t=z.charCodeAt(g);n[g]=t;if(t>c)c=t}if(c>1424)B=e1.a2H(n,J);return B};e1.aui=function(z){return z=="ß"?z:z.toUpperCase()};
e1.i6=function(z,J,p,n,B,c,t){this.vr=[];this.l0=[];this.lo=new i_(0,0);this.tU=null;this.vr=null;this.bs=dN.aLf(z,n);
var u=this.bs,X=0,P="",E=0,F=1,gm=0;if(n!=0){var v=u.SpaceBefore;if(v!=null)c[0]+=v}var A=z.EngineDict.ParagraphRun.RunLengthArray,$=A[n];
for(var g=0;g<n;g++)X+=A[g];var U=u._Direction?u._Direction:0;this.aeq=X;var w=dN.Be(z).slice(X,X+$);
for(var k=0;k<w.length;k++){var T=p[X+k],Z=T.bs.FontCaps,i=w.charAt(k);if(Z==0)P+=i;if(Z==1)P+=T.aef?e1.aui(i):i;
if(Z==2)P+=e1.aui(i)}w=P;var V=e1.amn(w,U),_=[],d=V[0]&1,x=p[X].Vv;p[X].Tt=V[0];for(var g=1;g<w.length;
g++){var i=p[X+g],f=V[g];i.Tt=f;if(f!=d||i.Vv!=x){_.push(E,F);E=g;F=1;d=f;x=i.Vv}else F++}_.push(E,F);
var Q=this.tU=[];for(var g=0;g<_.length;g+=2){var m=_[g],H=_[g+1],S=(p[X+m].Tt&1)==0,R=w.slice(m,m+H),I=[];
for(var k=0;k<H;k++){var D=p[X+m+k].bs,G=[];I.push(G);for(var C=0;C<8;C++)G.push(D[dN.Fy[C]]?1:0);G.push(D.FontCaps==1?1:0);
var O=R.charCodeAt(k),Y=D._DigitSet;if(Y==null)Y=0;if(Y>1&&48<=O&&O<=57){O=O-48+1632+(Y-2)*144;R=R.slice(0,k)+String.fromCharCode(O)+R.slice(k+1)}}I=e1.as_(I);
var h=Typr.U.shapeHB(p[X+m].Vv,R,{ltr:S,fts:I,axs:p[X+m].zS}),r=[];for(var k=0;k<h.length;k++){var N=h[k];
r.push({k:N.g,sc:N.cl,Py:N.ax,fH:N.ay,a0:N.dx,aAv:N.dy})}h=r;for(var k=0;k<H;k++){var o=0,K=-1;for(var l=0;
l<h.length;l++){var F=h[l].sc;if(F<=k&&F>K){K=F;o=l}}p[X+m+k].Jj=Q.length+o}for(var k=0;k<h.length;k++){Q.push(h[k]);
h[k].sc+=m;var i=p[X+h[k].sc];if(i.To!=-1&&i.To<i.Vv.maxp.numGlyphs){h[k].k=i.To;var aV=i.Vv.hmtx;if(aV){var j=Object.keys(aV)[0];
h[k].Py=aV[j][i.To]}}if(i.La=="\n")h[k].Py=0;if(i.La=="\t")h[k].Py=i.Vv.head.unitsPerEm*36/i.bs.FontSize}}var M=dN.Oq(u),s=this.vr=e1.Rr(z,J,p,X,Q,X,X+$),l2=this.l0,iz=-1,P=[null,null,0];
while(gm<s.length){e1.axj(s,B,u,t,c[0],gm,P);iz++;var dC={start:gm,end:0,Dm:new fw,lo:new i_(0,0),v2:!0},h9=0,bG=0;
l2.push(dC);dC.end=P[2];if(dC.start==dC.end)throw"e";var dL=dC.end==s.length;function cP(b1,m,c8){var j_=c8-m>>>1;
for(var g=0;g<j_;g++){var fQ=b1[m+g];b1[m+g]=b1[c8-1-g];b1[c8-1-g]=fQ}}for(var id=1;id<5;id++){var jR=-1;
for(var g=dC.start;g<dC.end;g++){var f=p[s[g].start].Tt;if(jR==-1&&f>=id)jR=g;else if(jR!=-1&&f<id){cP(s,jR,g);
jR=-1}}var hC=dC.end;if(U==0&&s[hC-1].ys)hC--;if(jR!=-1)cP(s,jR,hC)}var eJ=P[0],el=P[1],jR=gm,eu=gm;
for(var jY=0;jY<el.length;jY+=2){var fN=B?el[jY+1]-el[jY]-u.StartIndent-u.EndIndent-(gm==0?u.FirstLineIndent:0):Infinity,jC=0;
jR=eu;eu+=eJ[jY>>>1];var kF=this.avM(jR,eu,s,U,B!=null);if(B){if(M==1||dL&&M==4)jC=kF[1]+(fN-kF[0]);
if(M==2||dL&&M==5)jC=kF[1]+(fN-kF[0])/2;if(eu-jR==1&&s[jR].Dm.r>fN)jC=0;if(iz==0)jC+=u.FirstLineIndent;
jC+=u.StartIndent}else{if(M==0)jC=u.StartIndent+u.FirstLineIndent;if(M==1)jC=-kF[0]-u.EndIndent;if(M==2)jC=-kF[0]/2}jC+=el[jY];
if(B&&M>2&&(M==6||!dL))this.a5U(jR,eu,s,fN,U,jC);else{var i6=jC;for(var g=jR;g<eu;g++){var kT=s[g],kY=kT.Dm.r;
kT.lo.x=i6;if(kT.vc=="\t")kY=Math.ceil((i6+4)/36)*36-i6;i6+=kY}}}gm=dC.end;for(var g=dC.start;g<dC.end;
g++){var dQ=s[g].Dm.P();dQ.aiJ(s[g].lo);dC.Dm=dC.Dm.KQ(dQ);h9=Math.max(h9,s[g].pa);bG=Math.max(bG,s[g].lineHeight)}dC.lo.y=iz==0?0:l2[iz-1].lo.y+bG;
if(iz==0){if(n==0&&B)c[0]+=h9;if(n!=0)c[0]+=bG;this.lo.y=c[0]}else c[0]+=bG;if(B)dC.v2=this.lo.y+dC.lo.y<B.y+B.$||n==0&&iz==0}var jn=u.SpaceAfter;
if(jn!=null)c[0]+=jn};e1.i6.prototype.avM=function(z,J,p,n,B){var c=0,t=0;for(var g=z;g<J;g++)c+=p[g].Dm.r;
if(B){if(n==0)for(var g=J-1;g>=z;g--)if(p[g].ys||p[g].$i)c-=p[g].Dm.r;else break;if(n==1)for(var g=z;
g<J;g++)if(p[g].ys||p[g].$i){var u=p[g].Dm.r;c-=u;t-=u}else break}return[c,t]};e1.i6.prototype.a5U=function(z,J,p,n,B,c){var t=0,u=0,v=0,A=0;
for(var g=z;g<J;g++)if(p[g].ys)v++;else{t+=p[g].Dm.r;u++}if(B==0)for(var g=J-1;g>=z;g--)if(p[g].ys||p[g].$i){if(p[g].ys){v--}}else break;
if(B==1)for(var g=z;g<J;g++)if(p[g].ys||p[g].$i){if(p[g].ys){v--;A++}}else break;if(u<=1||v==0){if(u==1)p[z].lo.x=c;
return}var $=(n-t)/v,X=-A*$;for(var g=z;g<J;g++){if(p[g].ys)this.tU[p[g].E1].Dm.r=p[g].Dm.r=$;p[g].lo.x=c+X;
X+=p[g].Dm.r}};e1.ah_=function(z,J,p,n,B,c,t){this.vc="";for(var g=0;g<t;g++)this.vc+=p[c+g].La;this.ys=t==1&&(p[c].La==" "||p[c].La=="\t");
this.$i=t==1&&p[c].La=="\n";this.start=c;this.end=c+t;this.Dm=new fw;this.lo=new i_(0,0);this.pa=0;this.lineHeight=0;
var u=0,v=0;if(t==0){this.lineHeight=p[c].lineHeight;this.pa=p[c].pa;this.Dm=new fw(0,-p[c].lineHeight,0,p[c].lineHeight)}var A=p[c].Jj,$=p[c+t-1].Jj;
if(A==-1)return;if($<A){var X=A;A=$;$=X}while($+1<B.length&&B[$].sc==B[$+1].sc){$++}this.E1=A;this.zG=$;
for(var U=A;U<=$;U++){var w=B[U],P=p[n+w.sc],k=z._LineOrientation==2&&(P.bs.BaselineDirection!=2||e1.Wz(P.La.charCodeAt(0))),T=Typr.U.glyphToPath(P.Vv,w.k,null,P.zS),y=0;
w.path={Ao:T.cmds,L:T.crds};var Z=P.bs.FontSize,i=1/P.Vv.head.unitsPerEm*Z;if(!P.bs.AutoKerning)u+=P.bs.Kerning*2*i*P.scale.x;
w.lo=new i_(u,0);w.rH=0;if(k&&w.path.L.length>0){w.rH=-Math.PI/2;w.lo.x+=Z*.83;w.lo.y=-Z*.3+w.Py*i/2;
w.Py=Z/i}var V=w.Py*i*P.scale.x;w.Dm=new fw(0,-P.lineHeight,V,P.lineHeight);var _=w.Dm.P();_.aiJ(w.lo);
if(P.bs.Tracking!=null)y=P.bs.Tracking*.001*Z;if(P.bs.FauxBold==!0)y+=.027*Z;u+=V+y;if(U<B.length-2)w.Dm.r+=y;
if(t==1&&P.La==" "){_.r+=2*y;w.lo.x+=y}else if(t==1&&P.La!=null&&e1.Wz(P.La.charCodeAt(0)))_.r+=y;this.Dm=this.Dm.KQ(_);
this.pa=Math.max(this.pa,P.pa);this.lineHeight=Math.max(this.lineHeight,P.lineHeight)}};e1.kx=0;e1.a9G=function(z){if(e1.kx==2)return!0;
if(e1.kx==1)return!1;e1.kx=1;function J(){fetch(j8.DP("code/ext/fribidi.wasm")).then(function(p){return p.arrayBuffer()}).then(function(p){return WebAssembly.instantiate(p)}).then(function(p){var n=p.instance.exports,B=n.memory,c=16,t=256,u=1,v=c|t,A=c|t|u;
e1.a2H=function(X,U){var w=X.length,P=w*4+4+w*4+w*4+w;kL.fZ(n,P+w+1e7);var k=new Uint8Array(B.buffer),T=new Uint32Array(B.buffer),Z=n.calloc(P,1),i=Z+w*4,V=i+4,_=V+w*4,y=_+w*4;
T.set(X,Z>>>2);T[i>>>2]=U==0?v:A;n.fribidi_get_bidi_types(Z,w,V);n.fribidi_get_bracket_types(Z,w,V,_);
n.fribidi_get_par_embedding_levels_ex(V,_,w,i,y);var E=k.slice(y,y+w);n.free(Z);return E};e1.kx=2;var $=new cD(b.E.c,!0);
$.data={R:b.J.bS,c$:"add",Xu:iQ.OT,wo:null};if(z)z.a($)})}Typr.U.initHB(j8.DP("code/ext/hb.wasm"),J);
return!1};e1.as_=function(z){var J=[],p=z.length,n=dN.aBC;for(var B=0;B<9;B++){var c=n[B],u=null;if(c==null)continue;
var t=-1;for(var g=0;g<p;g++){var v=z[g][B];if(v!=t){if(u)u[3]=g;u=[c,v,g,g+1];J.push(u);t=v}}u[3]=p}return J};
function dN(){}dN.Pu=function(z,J){for(var p in J)z[p]=J[p]};dN.Fy="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
dN.MS=[18,20,19,25,28,26,24,23];dN.aFU="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
dN.aBC="liga calt dlig swsh salt titl ordn frac smcp".split(" ");dN.qI=function(z){return z.Axis?z.Name.split("_")[0]:z.Name};
dN.gI=function(z,J,p,n){var B=dN.aJb();if(p)dN.CG(B,0,0,p);var c=new fA;if(n!=null)c.rotate(n);c.translate(Math.round(z),Math.round(J));
var t={h:c,qU:B};t.PB=dN.a9p();t.lL=a.TX.j();t.M6=new fw;return t};dN.arx=function(z){var J=["CharacterDirection",0];
for(var g=0;g<J.length;g+=2){if(z[J[g]]!=null&&z[J[g]]!=J[g+1]){throw"e";console.log(J[g],z[J[g]])}}if(z instanceof Array)for(var g=0;
g<z.length;g++)dN.arx(z[g]);else if(z instanceof Object)for(var p in z)dN.arx(z[p])};dN.Oq=function(z,J){if(J==null)J=z.Justification;
var p=z._Direction?z._Direction:0;if(p==1){if(J==0||J==3)J++;else if(J==1||J==4)J--}return J};dN.Fk=function(z){if(z.add==null)return;
var J=z.qU,p=J.Curve,n=z.add.vmsk,B=n.u,c=a.b.Ru(B,2).L,t=z.h.P();t.oU();a.b.h(c,t,c);var u=c.slice(0,8);
for(var v=8;v<c.length;v+=6)u.push(c[v-2],c[v-1],c[v],c[v+1],c[v+2],c[v+3],c[v+4],c[v+5]);p.Points=u;
p.TextOnPathTRange=n.IS.slice(0);p.Reversed=n.xa;if(dN.Xn(J)==1){var p=e1.Ji(J.Curve),A=a.b.yq(p[0]);
dN.h4(J,[0,0,A.r,A.$].map(Math.round));for(var g=0;g<u.length;g+=2){u[g]-=A.x;u[g+1]-=A.y}var $=new fA(1,0,0,1,A.x,A.y);
$.concat(z.h);z.h=$}};dN.at=function(z){if(z.add==null)return;var J=z.add.vmsk,p=z.qU.Curve,n=p.Points,B={Ao:["M"],L:[n[0],n[1]]};
for(var g=0;g<n.length;g+=8){B.Ao.push("C");B.L.push(n[g+2],n[g+3],n[g+4],n[g+5],n[g+6],n[g+7])}a.b.h(B.L,z.h,B.L);
var c=a.b.nK(B,!0);J.u=c;J.xa=p.Reversed;J.IS=p.TextOnPathTRange.slice(0);z.add.vogk=bi.cC(c)};dN.Um=function(z){var J={o:0,k:0,X:0};
if(z){var p=z.Values;if(z.Type==1)J={o:p[1]*255,k:p[2]*255,X:p[3]*255};else if(z.Type==2){var n={classID:"CMYC",Cyn:{t:"doub",v:p[1]*100},Mgnt:{t:"doub",v:p[2]*100},Ylw:{t:"doub",v:p[3]*100},Blck:{t:"doub",v:p[4]*100}};
J=a.Wi.Um(n)}else console.log("Unknown color type")}return J};dN.aqa=function(z){for(var g=0;g<z.length;
g++){var J=z[g].StyleSheet.StyleSheetData,p=J.FillColor;if(p&&p.Type==2){var n=dN.Um(p);p.Type=1;p.Values=[1,n.o/255,n.k/255,n.X/255]}}};
dN.R2=function(z,J){var p;if(dN.Xn(z.qU)==1){var n=dN.DL(z.qU);p=new fw(0,0,n[2]-n[0],n[3]-n[1])}else{p=J.X2();
if(J.vm){var B=J.vm.P(),c=a.b.e3(p);a.b.h(c.L,B,c.L);p=a.b.yq(c.L)}}return p};dN.iE=function(z){var J=z[0];
for(var g=0;g<z.length;g++)J=dN.agl(J,z[g]);return J};dN.agl=function(z,J){var p={};for(var n in z)if(JSON.stringify(z[n])==JSON.stringify(J[n]))p[n]=z[n];
return p};dN.Qp=function(z,J){var p=z.W5,n=-1;for(var g=0;g<p.length;g++)if(p[g].Name==J)n=g;if(n==-1){n=p.length;
p.push({FontType:1,Name:J,Script:0,Synthetic:0})}z.uA.Font=n};dN.Be=function(z){return z.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
dN.Dl=function(z,J){z.EngineDict.Editor.Text=J.replace(/\n/g,"\r")};dN.Xn=function(z){return z.Curve&&z.Curve.TextOnPathTRange[0]>=0?2:z.EngineDict.Rendered.Shapes.Children[0].ShapeType};
dN.NA=function(z,J){var p=z.EngineDict.Rendered.Shapes.Children[0];p.ShapeType=J;var n=p.Cookie.Photoshop;
n.ShapeType=J;n.Base.ShapeType=J;if(J==0){delete n.BoxBounds;n.PointBase=[0,0]}if(J==1){delete n.PointBase;
n.BoxBounds=[0,0,1,1]}};dN.DL=function(z){return z.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
dN.h4=function(z,J){z.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=J};dN.alI=function(z,J){var p=z.EngineDict.AlternateGlyphRun;
if(p==null)return-1;var n=dN.v6(p.RunLengthArray,J).so;if(p.RunArray[n]==null)return-1;var B=p.RunArray[n].Glyph;
return B==null?-1:B};dN.afV=function(z,J,p){var n=z.EngineDict.AlternateGlyphRun;if(n==null){n=z.EngineDict.AlternateGlyphRun=dN.at2();
n.RunArray.push({});n.RunLengthArray.push(dN.Be(z).length)}var B=dN.v6(n.RunLengthArray,J),c=B.so,t=J-B.uQ,u=n.RunArray[c],v=JSON.stringify(u),A=n.RunLengthArray[c];
if(t!=0){n.RunArray.splice(c,0,JSON.parse(v));n.RunLengthArray.splice(c,0,t);n.RunLengthArray[c+1]-=t;
c++;A-=t;t=0}if(A!=1){n.RunArray.splice(c+1,0,JSON.parse(v));n.RunLengthArray.splice(c+1,0,A-1);n.RunLengthArray[c]=1;
A=1}u.Glyph=p};dN.aGo=function(z,J){var p=z.EngineDict.StyleRun.RunLengthArray;return dN.v6(p,J).so};
dN.aeb=function(z,J){var p=z.ResourceDict.StyleSheetSet[0].StyleSheetData,n={};for(var B in p)n[B]=p[B];
var c=z.EngineDict.StyleRun.RunArray[J].StyleSheet.StyleSheetData;dN.Pu(n,c);return n};dN.aBm=function(z,J){var p=z.EngineDict.ParagraphRun.RunLengthArray;
return dN.v6(p,J).so};dN.aLf=function(z,J){var p=z.ResourceDict.ParagraphSheetSet[0].Properties,n={};
for(var B in p)n[B]=p[B];var c=z.EngineDict.ParagraphRun.RunArray[J].ParagraphSheet.Properties;dN.Pu(n,c);
var t=["StartIndent","EndIndent","FirstLineIndent"];for(var g=0;g<3;g++)if(n[t[g]]==null)n[t[g]]=0;return n};
dN.aln=function(z,J,p){var n=dN.Be(J);for(var B=0;B<2;B++){var c=z[B==0?"Txtt":"paragraphStyleRange"];
if(c==null)continue;c=c.v;console.log(c);for(var g=0;g<c.length;g++){var t=c[g].v,u=t.From.v,v=Math.min(t.T.v-1,n.length-1);
t=t[B==0?"TxtS":"paragraphStyle"].v;var A=dN.cj(J,u,v);dN.i4(t,B==0?A.uA:A.gC,A,p.Ge);dN.CG(J,u,v,A)}}};
dN.aLg=function(z,J,p){var n=dN.Be(J).slice(0,-1);for(var B=0;B<2;B++){var c=B==0?"Txtt":"paragraphStyleRange",t=B==0?"TxtS":"paragraphStyle",u=z[c]={t:"VlLs",v:[]},$=0;
u=u.v;var v=J.EngineDict[B==0?"StyleRun":"ParagraphRun"],A=v.RunLengthArray;for(var g=0;g<A.length;g++){var X=$+A[g],U=dN.cj(J,$,X-1),w=B==0?U.uA:U.gC,P={t:"Objc",v:{classID:c,From:{t:"long",v:$},T:{t:"long",v:X}}};
u.push(P);P.v[t]={t:"Objc",v:{classID:t}};P=P.v[t].v;dN.jg(w,P,U,p.Ge);$=X}}};dN.i4=function(z,J,p,n){for(var B in z){var c=z[B].v;
if(B=="Sz")J.FontSize=Math.round(c.val*(c.type=="#Pnt"?n/72:1));if(B=="fontPostScriptName")dN.Qp(p,c);
if(B=="Algn")J.Justification=["Left","Rght","Cntr"].indexOf(c.Alg);if(B=="leading")J.Leading=z[B].v.val;
if(B=="baselineShift"||B=="Bsln")J.BaselineShift=z[B].v.val;if(B=="autoLeading")J.AutoLeading=z[B].v;
if(B=="syntheticBold")J.FauxBold=z[B].v;if(B=="syntheticItalic")J.FauxItalic=z[B].v;if(B=="Trck")J.Tracking=z[B].v;
if(B=="verticalScale"||B=="VrtS")J.VerticalScale=z[B].v/100;if(B=="horizontalScale"||B=="HrzS")J.HorizontalScale=z[B].v/100;
if(B=="Clr")J.FillColor={Type:1,Values:[1,c.Rd.v/255,c.Grn.v/255,c.Bl.v/255]}}};dN.jg=function(z,J,p,n){for(var B in z){var c=z[B];
if(B=="FontSize")J.Sz={t:"UntF",v:{type:"#Pnt",val:c*72/n}};if(B=="Font")J.fontPostScriptName={t:"TEXT",v:p.W5[c].Name};
if(B=="Justification")J.Algn={t:"enum",v:{Alg:["Left","Rght","Cntr"][c]}};if(B=="Leading")J.leading={t:"long",v:c};
if(B=="BaselineShift")J.Bsln={t:"UntF",v:{type:"#Pnt",val:c}};if(B=="AutoLeading")J.autoLeading={t:"bool",v:c};
if(B=="FauxBold")J.syntheticBold={t:"bool",v:c};if(B=="FauxItalic")J.syntheticItalic={t:"bool",v:c};
if(B=="Tracking")J.Trck={t:"long",v:c};if(B=="VerticalScale")J.VrtS={t:"doub",v:c*100};if(B=="HorizontalScale")J.HrzS={t:"doub",v:c*100};
if(B=="FillColor")J.Clr={t:"Objc",v:a.Wi.yR({o:255*c.Values[1],k:255*c.Values[2],X:255*c.Values[3]})}}};
dN.tJ=function(z,J,p){if(p=="")return;var n=dN.Be(z);dN.Dl(z,n.substring(0,J)+p+n.substring(J,n.length));
var B=z.EngineDict.StyleRun,c=B.RunLengthArray,t=dN.v6(c,J-1);c[t.so]+=p.length;var u=z.EngineDict.AlternateGlyphRun;
if(u){var c=u.RunLengthArray,t=dN.v6(c,J-1);c[t.so]+=p.length}var v=z.EngineDict.ParagraphRun,c=v.RunLengthArray,A=dN.v6(c,J),$=p.split("\n");
if($.length==1){c[A.so]+=p.length;return}c.splice(A.so+1,0,c[A.so]-(J-A.uQ));v.RunArray.splice(A.so+1,0,a.G(v.RunArray[A.so]));
c[A.so]-=c[A.so+1];c[A.so]+=$[0].length+1;for(var g=1;g<$.length-1;g++){v.RunArray.splice(A.so+g,0,a.G(v.RunArray[A.so+g-1]));
v.RunLengthArray.splice(A.so+g,0,$[g].length+1)}c[A.so+$.length-1]+=$[$.length-1].length};dN.xA=function(z,J,p){var n=dN.Be(z);
dN.Dl(z,n.substring(0,J)+n.substring(p,n.length));dN.lR(z.EngineDict.ParagraphRun,J,p,!0);dN.lR(z.EngineDict.StyleRun,J,p,!1);
var B=z.EngineDict.AlternateGlyphRun;if(B)dN.lR(B,J,p,!1)};dN.lR=function(z,J,p,n){var B=z.RunLengthArray,c=dN.v6(B,J),t=dN.v6(B,p),u=[];
for(var g=0;g<B.length;g++)for(var v=0;v<B[g];v++)u.push(g);u.splice(J,p-J);var A=[];for(var g=0;g<B.length;
g++)A.push(0);for(var g=0;g<u.length;g++)A[u[g]]++;for(var g=0;g<B.length;g++){if(A[g]==0){A.splice(g,1);
B.splice(g,1);z.RunArray.splice(g,1);g--}else if(A[g]<B[g])B[g]=A[g]}if(n&&c.so!=t.so&&c.uQ!=J){B[c.so]+=B[c.so+1];
B.splice(c.so+1,1);z.RunArray.splice(c.so+1,1)}};dN.CG=function(z,J,p,n){var B=n.uA.Font,c=z.ResourceDict.FontSet,t=z.EngineDict.Editor.Text.length;
if(p==t-2)p++;if(B!=null){var u=n.W5[B],v=-1;for(var g=0;g<c.length;g++)if(c[g].Name==u.Name)v=g;if(v==-1){v=c.length;
c.push(a.G(u))}n.uA.Font=v}if(J<=p)dN.aK2(z.EngineDict.StyleRun,n.uA,J,p,!0);dN.aK2(z.EngineDict.ParagraphRun,n.gC,J,p,!1);
n.uA.Font=B;if(c.length>20){var A=z.ResourceDict.FontSet=[],$=z.EngineDict.StyleRun.RunArray,X={};for(var g=0;
g<$.length;g++){var U=$[g].StyleSheet.StyleSheetData,w=U.Font;if(w!=null){if(X[w]==null){X[w]=A.length;
A.push(c[w])}U.Font=X[w]}}}};dN.cj=function(z,J,p){var n={W5:z.ResourceDict.FontSet.slice(0),uA:[],gC:[]},B=z.EngineDict.StyleRun.RunLengthArray,c=dN.v6(B,J).so,t=dN.v6(B,p).so;
for(var g=c;g<=t;g++){var u=a.G(z.ResourceDict.StyleSheetSet[0].StyleSheetData),v=z.EngineDict.StyleRun.RunArray;
if(v.length==0)continue;var A=v[g].StyleSheet.StyleSheetData;dN.Pu(u,A);n.uA.push(u)}var $=z.EngineDict.ParagraphRun.RunLengthArray,X=dN.v6($,J).so,U=dN.v6($,p).so;
for(var g=X;g<=U;g++){var w=z.EngineDict.ParagraphRun.RunArray;if(w.length==0)continue;n.gC.push(a.G(w[g].ParagraphSheet.Properties))}n.uA=n.uA.length==0?{}:dN.iE(n.uA);
n.gC=n.gC.length==0?{}:dN.iE(n.gC);return n};dN.aK2=function(z,J,p,n,B){var c=z.RunLengthArray;if(B){var t=dN.v6(c,p);
if(t.uQ!=p){var u=c[t.so];c.splice(t.so,0,p-t.uQ);c[t.so+1]=u-c[t.so];z.RunArray.splice(t.so+1,0,a.G(z.RunArray[t.so]))}var v=dN.v6(c,n);
if(v.uQ+c[v.so]-1!=n){var u=c[v.so];c.splice(v.so,0,n-v.uQ+1);c[v.so+1]=u-c[v.so];z.RunArray.splice(v.so+1,0,a.G(z.RunArray[v.so]))}}var t=dN.v6(c,p),v=dN.v6(c,n);
if(B)for(var g=t.so;g<=v.so;g++)dN.Pu(z.RunArray[g].StyleSheet.StyleSheetData,J);else for(var g=t.so;
g<=v.so;g++)dN.Pu(z.RunArray[g].ParagraphSheet.Properties,J)};dN.aew=function(z,J,p){var n=z.EngineDict.StyleRun.RunLengthArray,B=[],c=0;
for(var g=0;g<n.length;g++){var t=n[g];for(var u=0;u<t;u++)if(J<=c+u&&c+u<p)B.push(g);c+=t}var v=B[0],A=[];
for(var g=0;g<B.length;g++){var $=B[g]-v;if($==A.length)A.push(0);A[$]++}return A};dN.avE=function(z){var J=z.EngineDict.StyleRun,p=J.RunArray,n=J.RunLengthArray;
for(var g=0;g<n.length-1;g++){var B=p[g].StyleSheet.StyleSheetData,c=p[g+1].StyleSheet.StyleSheetData;
if(JSON.stringify(B)==JSON.stringify(c)){p.splice(g+1,1);n[g]+=n[g+1];n.splice(g+1,1);g--}}};dN.w6=function(z){var J=z.PB.AntA.v.Annt;
J=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(J);if(J==-1)J=1;return J};dN.Pv=function(z,J){z.PB.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][J]};
dN.up=function(z,J){var p,n;p=["FontSize","Leading","BaselineShift","OutlineWidth"];n=z.uA;for(var g=0;
g<p.length;g++)if(n[p[g]]!=null)n[p[g]]*=J;p=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
n=z.gC;for(var g=0;g<p.length;g++)if(n[p[g]]!=null)n[p[g]]*=J};dN.aph=function(){return dN.cj(a.G(dN.aAX),0,0)};
dN.a9p=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
dN.v6=function(z,J){var p=0,g=0;while(p+z[g]<=J){p+=z[g];g++}return{so:g,uQ:p}};dN.aJb=function(){var z=a.G(this.aAX);
return z};dN.aGR={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
dN.aEH={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
dN.at2=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};dN.aAX={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:a.G(dN.aGR)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:a.G(dN.aGR)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:a.G(dN.aEH)}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var aI={};aI.aaA=function(z){var J=aI.aFt(z._0,z._1);aI.a2i(J,z._0);return J};aI.akD=function(z,J,p){var n={};
n._98={_0:"i7"};n._0=aI.alh(z,J,p?p._0:null);n._1=aI.aiV(z,J,n._0,p?p._1:null);return n};aI.alh=function(z,J,p){var n={};
n._1=aI.azr(z,p?p._1:null);n._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};n._3=a.G(aI.aaV);n._4=a.G(aI.atP);
n._5=aI.awz(z,n._1._0,p?p._5:null);n._6=aI.akj(z,p?p._6:null);n._8=aI.afq(z,J,p?p._8:null);n._9=aI.ajO;
return n};aI.a2i=function(z,J){aI.aC7(z,J._5,J._1._0)};aI.azr=function(z,J){var p=[],n=[];for(var g=0;
g<z.length;g++){var B=z[g].ResourceDict.FontSet;for(var c=0;c<B.length;c++){var t=B[c];if(n.indexOf(t.Name)!=-1)continue;
p.push(t);n.push(t.Name)}}var u={_0:[]};for(var g=0;g<p.length;g++){var v=p[g],A=v.Axis,$={_0:"s"+v.Name,_1:"i"+v.Script,_2:"i"+v.FontType};
if(A){var X=$._4=[];for(var c=0;c<A.length;c++)X.push("i"+A[c])}if(v.Script==0)delete $._1;u._0.push({_0:{_99:"/CoolTypeFont",_0:$}})}return u};
aI.awz=function(z,J,p){var n={_0:[],_1:[]},B={_0:a.G(aI.a0L)};aI.a8K(B._0,z[0].ResourceDict.StyleSheetSet[0],J,z[0].ResourceDict.FontSet);
n._0.push(B);n._1.push({_0:"i0"});n._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});n._1.push({_0:"i1"});return n};
aI.aC7=function(z,J,p){var n=J._0[0];for(var g=0;g<z.length;g++)aI.aqk(n._0,z[g].ResourceDict.StyleSheetSet[0],p,z[g].ResourceDict.FontSet)};
aI.akj=function(z,J){var p={_0:[],_1:[]},n={_0:a.G(aI.Ug)};aI.B6(n._0,z[0].ResourceDict.ParagraphSheetSet[0]);
p._0.push(n);p._1.push({_0:"i0"});n={_0:a.G(aI.Ug)};aI.B6(n._0,z[0].ResourceDict.ParagraphSheetSet[0]);
n._0._0="sBasic Paragraph";n._0._6="i0";p._0.push(n);p._1.push({_0:"i1"});return p};aI.afq=function(z,J,p){var n={_0:[]};
for(var g=0;g<z.length;g++){var B=z[g].Curve,c={};n._0.push({_0:c});var t=dN.Xn(z[g]);c._1={};c._2={};
c._2._0="i"+t;if(z[g]._LineOrientation==2)c._2._1="i2";if(t==0){delete c._1;c._2._6=["f-1","f-1"];c._2._11={_4:"i-1",_7:!1}}else if(t==1&&B==null){var u=dN.DL(z[g]),v=u[2],A=u[3];
c._1._0=aI.Tj("f",[0,0,0,0,v,0,v,0,v,0,v,0,v,A,v,A,v,A,v,A,0,A,0,A,0,A,0,A,0,0,0,0]);c._2._6=["f-2","f-2"];
c._2._11={_4:"i-2",_7:!1}}else if(t==1){var u=dN.DL(z[g]),v=u[2],A=u[3];c._1._0=aI.Tj("f",B.Points);
c._2._6=["f-3","f-3"];c._2._11={_4:"i-3",_7:!1}}else if(t==2){c._1._0=aI.Tj("f",B.Points);c._2._6=aI.Tj("f",B.TextOnPathTRange);
c._2._11={_0:B.Reversed,_3:"i0",_5:"f0",_7:!1}}}return n};aI.aiV=function(z,J,p,n){var B={};B._0=a.G(aI.aLe);
B._1=aI.anN(z,J,p,n?n._1:null);B._2=a.G(aI.a0L._6);B._3=a.G(aI.Ug._5);return B};aI.aFt=function(z,J){return aI.avN(z,J._1)};
aI.anN=function(z,J,p,n){var B=[],c=p._1._0;for(var g=0;g<z.length;g++){var t=z[g],u={_0:{}};B.push(u);
u._0._0="s"+t.EngineDict.Editor.Text;u._0._0=u._0._0;var v=u._0._5={_0:[]},A=t.EngineDict.ParagraphRun;
for(var $=0;$<A.RunArray.length;$++){var X={_0:{}};v._0.push(X);X._0._0={_0:"s",_5:{},_6:"i1"};aI.B6(X._0._0,A.RunArray[$].ParagraphSheet);
X._1="i"+A.RunLengthArray[$]}var U=u._0._6={_0:[]};A=t.EngineDict.StyleRun;for(var $=0;$<A.RunArray.length;
$++){var w={_0:{}};U._0.push(w);w._0._0={_0:"s",_5:"i1",_6:{}};aI.a8K(w._0._0,A.RunArray[$].StyleSheet,c,t.ResourceDict.FontSet);
w._1="i"+A.RunLengthArray[$]}A=t.EngineDict.AlternateGlyphRun;if(A){var P=u._0._9={_0:[]};for(var $=0;
$<A.RunArray.length;$++){var k={_0:{}};P._0.push(k);var T=A.RunArray[$];if(T.Glyph!=null){k._0._0={_0:"i"+T.Glyph,_1:"e"}}k._1="i"+A.RunLengthArray[$]}}u._0._10={_0:"i4",_2:!0};
u._1=aI.view.aKa(t,null,g,null)}return B};aI.avN=function(z,J){var p=[],n=z._1._0;if(J)for(var g=0;g<J.length;
g++){var B=dN.aJb();p.push(B);var c=J[g];B.EngineDict.Editor.Text=c._0._0.slice(1);var t=B.EngineDict.ParagraphRun.RunArray[0],u=B.EngineDict.ParagraphRun,v=c._0._5;
if(v)for(var A=0;A<v._0.length;A++){var $=v._0[A];u.RunLengthArray[A]=parseInt($._1.slice(1));u.RunArray[A]=a.G(t);
aI.aF9($._0._0,u.RunArray[A].ParagraphSheet)}else{u.RunLengthArray[0]=dN.Be(B).length}var X=c._0._6;
u=B.EngineDict.StyleRun;if(X)for(var A=0;A<X._0.length;A++){var U=X._0[A];u.RunLengthArray[A]=parseInt(U._1.slice(1));
u.RunArray[A]={StyleSheet:{StyleSheetData:{}}};aI.aqk(U._0._0,u.RunArray[A].StyleSheet,n,B.ResourceDict.FontSet)}else{u.RunLengthArray[0]=dN.Be(B).length;
u.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return p};aI.a8K=function(z,J,p,n,B){z._0="s"+(J.Name?J.Name:"");
var c=z._6,t=B?B._6:null,u=J.StyleSheetData;if(u.Font!=null){var v=n[u.Font].Name,A=-1;for(var g=0;g<p.length;
g++)if("s"+v==p[g]._0._0._0){A=g;break}c._0="i"+A}if(u.FontSize!=null)c._1="f"+u.FontSize;if(u.FauxBold!=null)c._2=u.FauxBold;
if(u.FauxItalic!=null)c._3=u.FauxItalic;if(u.AutoLeading!=null)c._4=u.AutoLeading;if(u.Leading!=null)c._5="f"+u.Leading;
if(u.HorizontalScale!=null)c._6="f"+u.HorizontalScale;if(u.VerticalScale!=null)c._7="f"+u.VerticalScale;
if(u.Tracking!=null)c._8="i"+u.Tracking;if(u.BaselineShift!=null)c._9="f"+u.BaselineShift;if(u.AutoKerning!=null)c._11="i"+(u.AutoKerning?1:0);
if(u.FontCaps!=null)c._12="i"+u.FontCaps;if(u.FontBaseline!=null)c._13="i"+u.FontBaseline;if(u.Strikethrough!=null)c._15="i"+(u.Strikethrough?1:0);
if(u.Underline!=null)c._16="i"+(u.Underline?2:0);if(u.Ligatures!=null)c._18=u.Ligatures;if(u.DLigatures!=null)c._19=u.DLigatures;
if(u.BaselineDirection!=null)c._35="i"+u.BaselineDirection;if(u.Language!=null)c._38="i"+u.Language;
if(u.FillColor!=null)c._53=aI.gY(u.FillColor);if(u.StrokeColor!=null)c._54=aI.gY(u.StrokeColor);if(u.FillFlag!=null)c._56=u.FillFlag;
if(u.StrokeFlag!=null)c._57=u.StrokeFlag;if(u.FillFirst!=null)c._58=u.FillFirst;if(u.OutlineWidth!=null)c._63="f"+u.OutlineWidth;
if(u._FillBackgroundColor!=null)c._79=aI.gY(u._FillBackgroundColor);if(u._FillBackgroundFlag!=null)c._80=u._FillBackgroundFlag;
if(u._LineCap!=null)c._61="i"+u._LineCap;if(u._LineJoin!=null)c._62="i"+u._LineJoin;if(u._MiterLimit!=null)c._64="f"+u._MiterLimit;
if(u._LineDashOffset!=null)c._65="f"+u._LineDashOffset;if(u._LineDashArray!=null)c._66=aI.Tj("f",u._LineDashArray);
if(u._DigitSet!=null)c._70="i"+u._DigitSet;for(var g=0;g<8;g++)if(u[dN.Fy[g]]!=null)c["_"+dN.MS[g]]=u[dN.Fy[g]]};
aI.gY=function(z){return{_99:"/SimplePaint",_0:{_0:"i1",_1:aI.Tj("f",z.Values)}}};aI.aqk=function(z,J,p,n){var B=z._6;
if(B==null)return;var c=J.StyleSheetData;if(B._0){var t=parseInt(B._0.slice(1)),u=p[t]._0._0._0.slice(1);
dN.Qp({uA:c,W5:n},u)}if(B._1!=null)c.FontSize=parseFloat(B._1.slice(1));if(B._2!=null)c.FauxBold=B._2;
if(B._3!=null)c.FauxItalic=B._3;if(B._4!=null)c.AutoLeading=B._4;if(B._5!=null)c.Leading=parseFloat(B._5.slice(1));
if(B._6!=null)c.HorizontalScale=parseFloat(B._6.slice(1));if(B._7!=null)c.VerticalScale=parseFloat(B._7.slice(1));
if(B._8!=null)c.Tracking=parseFloat(B._8.slice(1));if(B._9!=null)c.BaselineShift=parseFloat(B._9.slice(1));
if(B._11!=null)c.AutoKerning=parseFloat(B._11.slice(1))==1;if(B._12!=null)c.FontCaps=parseFloat(B._12.slice(1));
if(B._13!=null)c.FontBaseline=parseFloat(B._13.slice(1));if(B._15!=null)c.Strikethrough=parseFloat(B._15.slice(1))==1;
if(B._16!=null)c.Underline=parseFloat(B._16.slice(1))==1;if(B._18!=null)c.Ligatures=B._18;if(B._19!=null)c.DLigatures=B._19;
if(B._35!=null)c.BaselineDirection=parseFloat(B._35.slice(1));if(B._38!=null)c.Language=parseFloat(B._38.slice(1));
if(B._53!=null)c.FillColor=aI.tQ(B._53);if(B._54!=null)c.StrokeColor=aI.tQ(B._54);if(B._56!=null)c.FillFlag=B._56;
if(B._57!=null)c.StrokeFlag=B._57;if(B._63!=null)c.OutlineWidth=parseFloat(B._63.slice(1));if(B._79!=null)c._FillBackgroundColor=aI.tQ(B._79);
if(B._80!=null)c._FillBackgroundFlag=B._80;if(B._61!=null)c._LineCap=parseFloat(B._61.slice(1));if(B._62!=null)c._LineJoin=parseFloat(B._62.slice(1));
if(B._64!=null)c._MiterLimit=parseFloat(B._64.slice(1));if(B._65!=null)c._LineDashOffset=parseFloat(B._65.slice(1));
if(B._66!=null)c._LineDashArray=aI.tf(B._66);if(B._70!=null)c._DigitSet=parseFloat(B._70.slice(1));for(var g=0;
g<8;g++)if(B["_"+dN.MS[g]]!=null)c[dN.Fy[g]]=B["_"+dN.MS[g]]};aI.tQ=function(z){var J=z._0._0,p=[1,0,0,0],n=aI.tf(z._0._1);
if(J=="i0")p[1]=p[2]=p[3]=n[1];else if(J=="i1")p=n;else if(J=="i2")p=[1].concat(UDOC.C.cmykToRgb(n.slice(1)));
else console.log("unknown color type",J,n);return{Type:1,Values:p}};aI.B6=function(z,J){z._0="s"+(J.Name?J.Name:"");
var p=z._5,n=J.Properties;if(n.Justification!=null)p._0="i"+n.Justification;if(n.FirstLineIndent!=null)p._1="f"+n.FirstLineIndent;
if(n.StartIndent!=null)p._2="f"+n.StartIndent;if(n.EndIndent!=null)p._3="f"+n.EndIndent;if(n.SpaceBefore!=null)p._4="f"+n.SpaceBefore;
if(n.SpaceAfter!=null)p._5="f"+n.SpaceAfter;if(n.AutoLeading!=null)p._7="f"+n.AutoLeading;if(n.AutoHyphenate!=null)p._9=n.AutoHyphenate;
if(n._Direction!=null)p._33="i"+n._Direction;if(n._ComposerEngine!=null)p._35="i"+n._ComposerEngine};
aI.aF9=function(z,J){var p=z._5;if(p==null)return;var n=J.Properties;if(p._0)n.Justification=parseInt(p._0.slice(1))};
aI.Tj=function(z,J){var p=[];for(var g=0;g<J.length;g++)p.push(z+J[g]);return p};aI.tf=function(z){var J=[];
for(var g=0;g<z.length;g++)J.push(parseFloat(z[g].slice(1)));return J};aI.aaV={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
aI.atP={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
aI.a0L={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
aI.Ug={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
aI.ajO={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
aI.aLe={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var aG={};aG.aE4=function(z){return aG.ok(z,aG.Vz,0)};aG.a5Z=function(z){return aG.a9(z,aG.Vz)};aG.ok=function(z,J,p){var n;
if(typeof z=="string")return z;if(z instanceof Array){n=[];for(var g=0;g<z.length;g++)n[g]=aG.ok(z[g],J,p+1)}else{n={};
var B={};for(var c in J){var t=J[c],u="_"+t[0];if(z[u]!=null){n[c]=t[1]?aG.ok(z[u],t[1],p+1):z[u];B[u]=!0}}for(var c in z){if(B[c]==null){if(c.length>3)continue;
console.log(J,B);console.log(c,z);throw"e"}}}return n};aG.a9=function(z,J){var p;if(typeof z=="string")return z;
else if(z instanceof Array){p=[];for(var g=0;g<z.length;g++)p[g]=aG.a9(z[g],J)}else{p={};var n={};for(var B in J){var c=J[B],t="_"+c[0];
if(z[B]!=null){p[t]=c[1]?aG.a9(z[B],c[1]):z[B];n[B]=!0}}for(var B in z){if(n[B]==null){console.log(J,n);
console.log(B,z);throw"e"}}}return p};aG.mm={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
aG.n_={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,aG.mm],_StrokeColor:[54,aG.mm],_Blend:[55,{_0:[0],_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,aG.mm],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_91:[91],_92:[92],_TrackingAdjustment:[93],_94:[94],_95:[95],_96:[96]};
aG.ah7={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,aG.n_],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40],_41:[41]};
aG.a06={_Name:[0],_Features:[5,aG.ah7],_Parent:[6],_UUID:[97]};aG.aaQ={_Name:[0],_Parent:[5],_Features:[6,aG.n_],_UUID:[97]};
aG.Vz={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_MMAxis:[4],_VersionString:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1],_2:[2]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,aG.aaQ]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,aG.a06]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1],_UUID:[97]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_RowCount:[12],_ColumnCount:[13],_15:[15],_16:[16]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_12:[12],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,aG.a06]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,aG.aaQ]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4],_5:[5]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,aG.n_],_OriginalNormalParagraphFeatures:[3,aG.ah7],_4:[4],_5:[5]}]};
aI.view={};aI.view.aKa=function(z,J,p,n){var B={},c=dN.Xn(z);B._0=[{_0:"i"+p}];return B};function CSS(){}CSS.a5m=function(z,J){var p=z.add,n=p.vmsk,B=p.vstk,c=p.lmfx,t=p.TySh,u=[],v=CSS.O7(c,p),A=z.YF/255*(z.add.iOpa!=null?z.add.iOpa/255:1);
if(A!=1)u.push("opacity: "+A.toFixed(3));if(z.dH()&&n){var $=a.z.nd(n.u);if(!$.Sz()){u.push("width: "+Math.round($.r)+"px");
u.push("height: "+Math.round($.$)+"px")}var X=a.z.atC(n.u);if(X>0)u.push("border-radius: "+Math.round(X)+"px")}else if(t){var U=t.qU;
if(dN.Xn(U)==1){var $=dN.DL(U);u.push("width: "+Math.round($[2])+"px");u.push("height: "+Math.round($[3])+"px")}CSS.aeV(u,dN.cj(U,0,0),t.h,!1,!1,v[0])}CSS.aoH(J,c,u);
if(t==null)CSS.aAC(v,u);if(B==null||!B.strokeEnabled.v)B=ju.av9(c);if(B&&B.strokeEnabled.v){var w=B.strokeStyleContent.v,P=w.classID,k=B.strokeStyleOpacity.v.val/100,T=B.strokeStyleLineWidth.v.val,Z="";
if(P=="solidColorLayer")Z=CSS.j_(w.Clr.v,k);u.push("border: "+T+"px solid "+Z)}return u};CSS.aoH=function(z,J,p){if(J==null||!J.masterFXSwitch.v)return;
var n=J.dropShadowMulti.v.concat(J.innerShadowMulti.v);for(var g=0;g<n.length;g++){var B=n[g].v;if(B.enab.v){var c=B.classID=="IrSh",t=B.Dstn.v.val,u=B.lagl.v.val*Math.PI/180;
if(B.uglg&&B.uglg.v)u=z.rN()*Math.PI/180;var v=t*Math.cos(u),A=t*Math.sin(u),$=(v==0?"0 ":CSS.a9F(-v)+"px ")+(A==0?"0 ":CSS.a9F(A)+"px ")+B.blur.v.val/2+"px "+CSS.j_(B.Clr.v,B.Opct.v.val/100);
if(c)p.push("box-shadow: inset "+$);else p.push("filter: drop-shadow("+$+")")}}};CSS.O7=function(z,J){var p=ju.abE(z,J),n=p[0],B=p[1],c,t;
if(n){c=CSS.j_(n.Clr.v,J.iOpa!=null?J.iOpa/255:1)}else if(B){t=CSS.qx(B)}return[c,t]};CSS.aAC=function(z,J){if(z[0])J.push("background-color: "+z[0]);
if(z[1])J.push("background-image: "+z[1])};CSS.bt={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.a9F=function(lj){return""+parseFloat(lj.toFixed(3))};CSS.zO=function(z){if(z==null)return{o:0,k:0,X:0};
var J=z.indexOf("(");if(J!=-1){var p=z.slice(J+1,z.length-1).split(",");for(var g=0;g<p.length;g++){var n=p[g].trim();
p[g]=parseFloat(n)*(n.endsWith("%")?255/100:1)}if(z.startsWith("hsl")){var B=a.no(p[0]/360,p[1]/255,p[2]/255);
B.o*=255;B.k*=255;B.X*=255;return B}return{o:p[0],k:p[1],X:p[2]}}if(z.charAt(0)!="#"){var c=CSS.bt;if(c[z])z=c[z];
else if(z=="currentColor")z="#000000";else console.log("unknown color "+z)}z=z.slice(1);if(z.length==4)z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2]+z[3]+z[3];
if(z.length==3)z=z[0]+z[0]+z[1]+z[1]+z[2]+z[2];var t=-1;if(z.length==8){t=parseInt(z.slice(6),16);z=z.slice(0,6)}z=parseInt(z,16);
var u={o:z>>16&255,k:z>>8&255,X:z&255};if(t!=-1)u.k6=t;return u};CSS.j_=function(z,J){return CSS.xY(a.Wi.Um(z),J)};
CSS.xY=function(z,J){if(J==null)J=1;var p=Math.round(z.o),n=Math.round(z.k),B=Math.round(z.X),c=p<<16|n<<8|B;
return J==1?"#"+a.fX(c):"rgba("+p+","+n+","+B+","+J+")"};CSS.ar5=function(z,J){return CSS.xY({o:z[0]*255,k:z[1]*255,X:z[2]*255},J)};
CSS.qx=function(z){var J=z.Grad.v;if(J.Clrs==null)return"";var p=J.Clrs.v.slice(0),n=J.Trns.v.slice(0),B=z.Ofst.v,c=z.Type.v.GrdT=="Rdl"?1:0,t=(c==1?"radial":"linear")+"-gradient",u=c==0?Math.round(-z.Angl.v.val+90)+"deg":"circle at center",v=z.Rvrs.v,A=a.Wi.apM(J,v);
for(var g=0;g<A.length;g++){var $=A[g],X=$[1];u+=", "+CSS.xY({o:X[0]*255,k:X[1]*255,X:X[2]*255},$[2])+" "+Math.round($[0]*100)+"%"}return t+"("+u+")"};
CSS.aeV=function(z,J,p,n,B,c){var t=J.uA,u=n?1:p.Nz(),v=Math.round(t.FontSize*u);z.push("font-size: "+v+"px");
var A=t.Tracking;if(!n&&A!=null&&A!=0)z.push("letter-spacing: "+Math.round(A*v/1e3)+"px");if(!t.AutoLeading)z.push("line-height: "+Math.round(t.Leading*u)+"px");
if(t.Strikethrough)z.push("text-decoration: line-through");if(t.Underline)z.push("text-decoration: underline");
if(t.FontCaps==2)z.push("text-transform: uppercase");var $=dN.Um(t.FillColor);$=[$.o,$.k,$.X].map(Math.round);
z.push((n?"fill: ":"color: ")+(c?c:"#"+a.fX($[0]<<16|$[1]<<8|$[2])));var X=J.W5[t.Font].Name;if(X){var U=bA.Cl.ck(X),w="",P=null,k=null;
if(U!=null&&X!=bA.ge(U))U=null;if(B&&U)w+="\""+X+"\", ";var T=X.toLowerCase();if(U){P=bA.afP(U)[0];if(U["OS/2"])k=U["OS/2"].usWeightClass}else{P=CSS.a1K(X);
if(T.indexOf("light")!=-1)k=300;else if(T.indexOf("medium")!=-1)k=500;else if(T.indexOf("black")!=-1||T.indexOf("extrabold")!=-1)k=800;
else if(T.indexOf("bold")!=-1)k="bold"}if(P!=null)w+="\""+P+"\"";if(k!=null)z.push("font-weight: "+k);
if(T.indexOf("italic")!=-1||T.indexOf("oblique")!=-1)z.push("font-style: italic");if(w)z.push("font-family: "+w)}var Z=J.gC.Justification;
if(Z!=null&&Z!=0)if(n){}else z.push("text-align: "+["left","right","center"][Z%3])};CSS.a1K=function(z){z=z.split("-")[0];
while(z.endsWith("MT")||z.endsWith("PS"))z=z.slice(0,z.length-2);var J=!0;for(var g=0;g<z.length;g++){var p=z.charAt(g);
if(!J&&p.toLowerCase()!=p){z=z.slice(0,g)+" "+z.slice(g);g++;J=!0}else J=!1}return z};function ce(){}ce.Gw={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0,setTimeout:!0,setInterval:!0,fetch:!0};
ce.o_=function(z,J){var p=Date.now(),n=z.split("\n"),B;if(n.length==1)n=z.split("\r");for(var g=0;g<n.length;
g++)if(n[g].trim()[0]=="#"){n[g]=""}z=n.join("\n");try{B=acorn.parse(z)}catch(l5){console.log(l5);return}var c=a.G(ce.oG.cd);
c.__return=!1;c.__continue=!1;c.__break=!1;c.__throw=!1;c.__fs={};c.__window={};ce.eval(B,J,c);var t=c.__fs;
if(Object.keys(t).length!=0){var u=UZIP.encode(t);jo.save(u,"output.zip")}};ce.eval=function(z,J,p){var n=z.type;
if(!1){}else if(n=="Program"||n=="BlockStatement"){var B=z.body;for(var g=0;g<B.length;g++){var c=B[g].type;
if(c=="FunctionDeclaration")p[B[g].id.name]=B[g]}for(var g=0;g<B.length;g++){var c=B[g].type,t=ce.eval(B[g],J,p);
if(p.__continue&&p.__pif==null){p.__continue=!1;return t}if(p.__return||p.__break||p.__throw)return t}}else if(n=="ReturnStatement"){p.__return=!0;
return z.argument?ce.QV(z.argument,J,p):null}else if(n=="BreakStatement"){p.__break=!0}else if(n=="ContinueStatement"){p.__continue=!0}else if(n=="VariableDeclaration"){var u=z.declarations;
for(var g=0;g<u.length;g++)ce.eval(u[g],J,p)}else if(n=="VariableDeclarator"){p[z.id.name]=z.init?ce.QV(z.init,J,p):null}else if(n=="FunctionDeclaration"){p[z.id.name]=z}else if(n=="MemberExpression"){var v=ce.QV(z.object,J,p),t;
if(p.__throw)return;var A=z.computed?ce.QV(z.property,J,p):ce.eval(z.property,J,p);if(v.Az!=null)t=ce.oG.j3(v,A,J,p);
else if(v==window&&ce.Gw[A]){}else t=v[A];return t}else if(n=="ArrayExpression"){var $=[],X=z.elements;
for(var g=0;g<X.length;g++)$.push(ce.QV(X[g],J,p));return $}else if(n=="ObjectExpression"){var $={},X=z.properties;
for(var g=0;g<X.length;g++){var U=X[g],w=X[g].key.name?X[g].key.name:X[g].key.value;$[w]=ce.QV(X[g].value,J,p)}return $}else if(n=="ExpressionStatement"){return ce.eval(z.expression,J,p)}else if(n=="NewExpression"){var P=z.arguments,k=z.callee,T=k.type,Z=k.name,i=[],$=null;
for(var g=0;g<P.length;g++)i.push(ce.QV(P[g],J,p));if(Z=="Array")$=new window[Z];else if(T=="Identifier")$=ce.oG.a2I(Z,i,J,p);
else throw"e";if($==null)throw"new "+Z;return $}else if(n=="CallExpression"){var P=z.arguments,k=z.callee,T=k.type,V={};
for(var _ in p)V[_]=p[_];var i=[];for(var g=0;g<P.length;g++)i.push(ce.QV(P[g],J,p));if(T=="Identifier"){var y=k.name,E=p[y];
if(E&&E.Az=="AppFunc"){y=E.y0;E=null}if(E){if(E.params){var F=E.params;for(var g=0;g<F.length;g++)V[F[g].name]=i[g];
return ce.eval(E.body,J,V)}else{return E.apply(null,i)}}else if(ce.oG.aC$.indexOf(y)!=-1)return ce.oG.zN({Az:"Application"},y,i,J,p);
else if(window[y]==null)console.log("Unknown function "+y);else if(ce.Gw[y])alert(y+"() not available");
else{var d=window[y].apply(window,i);return d}}else if(T=="MemberExpression"){var v=ce.QV(k.object,J,p),A=k.computed?ce.QV(k.property,J,p):ce.eval(k.property,J,p);
if(v==window&&ce.Gw[A])return;if(v.Az!=null)return ce.oG.zN(v,A,i,J,p);else if(A=="sort"&&v[0]&&v[0].Az=="Layer"){return v.sort(function(K,l){return K.K.getName()>l.K.getName()?1:-1})}else if(A=="toSource")return JSON.stringify(v);
else return v[A].apply(v,i)}else if(T=="FunctionExpression"){var x=ce.eval(k.body,J,p);p.__return=!1;
return x}else console.log(z)}else if(n=="AssignmentExpression"){var f=z.operator,Q=z.left,m=Q.type,H=ce.QV(Q,J,p),S=ce.QV(z.right,J,p),t=null;
if(!1){}else if(f=="=")t=S;else if(f=="+=")t=H+S;else if(f=="-=")t=H-S;else if(f=="*=")t=H*S;else if(f=="/=")t=H/S;
else if(f=="%=")t=H%S;else if(f=="&=")t=H&S;else if(f=="|=")t=H|S;else if(f=="&&=")t=H&&S;else if(f=="||=")t=H||S;
else console.log(z);if(m=="Identifier"){var R=Q.name;if(p.hasOwnProperty(R))p[R]=t;else p.__window[R]=t}else if(m=="MemberExpression"){var I=ce.eval(Q.property,J,p),D=ce.QV(Q.object,J,p);
if(D.Az!=null)ce.oG.aGg(D,I,t,J,p);else D[I]=t}else console.log(z);return t}else if(n=="Identifier")return z.name;
else if(n=="Literal")return z.value;else if(n=="UpdateExpression"){var f=z.operator,G=z.argument.name,$=ce.QV(z.argument,J,p),C=p;
if(C[G]==null)C=p.__window;if(!1){}else if(f=="++"){C[G]++;return z.prefix?C[G]:C[G]-1}else if(f=="--"){C[G]--;
return z.prefix?C[G]:C[G]+1}else console.log(z)}else if(n=="UnaryExpression"){var f=z.operator,O=ce.QV(z.argument,J,p);
if(O&&O.Az=="UnitValue"){if(f=="-")return-O.K;else return ce.aE6(O.K,f)}else return ce.aE6(O,f)}else if(n=="BinaryExpression"||n=="LogicalExpression"){var f=z.operator,Q=ce.QV(z.left,J,p);
if(n=="LogicalExpression"&&f=="&&"&&!Q)return Q;var O=ce.QV(z.right,J,p);if(Q==null||O==null)return ce.X1(Q,O,f);
else if(Q.Az=="UnitValue"&&O.Az=="UnitValue")return ce.X1(Q.K,O.K,f);else if(Q.Az=="UnitValue")return ce.X1(Q.K,O,f);
else if(O.Az=="UnitValue"){if(f=="-")return-(Q-O.K);else return ce.X1(Q,O.K,f)}else return ce.X1(Q,O,f)}else if(n=="IfStatement"){var Y=ce.QV(z.test,J,p),h=p.__pif,t=null;
p.__pif=!0;if(Y)t=ce.eval(z.consequent,J,p);else if(z.alternate)t=ce.eval(z.alternate,J,p);p.__pif=h;
return t}else if(n=="ConditionalExpression"){var Y=ce.QV(z.test,J,p);if(Y)return ce.QV(z.consequent,J,p);
else if(z.alternate)return ce.QV(z.alternate,J,p)}else if(n=="ForInStatement"){ce.eval(z.left,J,p);var r=z.left.declarations[0].id.name,W=ce.QV(z.right,J,p);
for(var _ in W){p[r]=_;var N=ce.eval(z.body,J,p);if(p.__break)break;if(p.__return)return N}p.__break=!1}else if(n=="ForStatement"){ce.eval(z.init,J,p);
while(ce.eval(z.test,J,p)){var N=ce.eval(z.body,J,p);if(p.__break)break;if(p.__return)return N;ce.eval(z.update,J,p)}p.__break=!1}else if(n=="WhileStatement"){while(ce.eval(z.test,J,p)){var N=ce.eval(z.body,J,p);
if(p.__break)break;if(p.__return)return N}p.__break=!1}else if(n=="DoWhileStatement"){do{var N=ce.eval(z.body,J,p);
if(p.__break)break;if(p.__return)return N}while(ce.eval(z.test,J,p));p.__break=!1}else if(n=="TryStatement"){ce.eval(z.block,J,p);
if(p.__throw){var o=z.handler;p[o.param.name]=p.__throw;p.__throw=!1;ce.eval(o.body,J,p);delete p[o.param.name]}}else if(n=="FunctionExpression"){return z}else if(n=="EmptyStatement"){}else console.log(z)};
ce.X1=function(z,J,p){if(p=="+")return z+J;else if(p=="-")return z-J;else if(p=="*")return z*J;else if(p=="/")return z/J;
else if(p=="%")return z%J;else if(p=="^")return z^J;else if(p=="&")return z&J;else if(p=="&&")return z&&J;
else if(p=="|")return z|J;else if(p=="||")return z||J;else if(p=="<")return z<J;else if(p==">")return z>J;
else if(p=="=="){if(z!=null&&J!=null&&z.Az&&J.Az)return z.K==J.K;return z==J}else if(p=="===")return z===J;
else if(p=="<=")return z<=J;else if(p==">=")return z>=J;else if(p=="!=")return z!=J;else if(p=="!==")return z!==J;
else if(p=="<<")return z<<J;else if(p==">>")return z>>J;else console.log(p)};ce.aE6=function(z,J){if(J=="-")return-z;
else if(J=="!")return!z;else if(J=="~")return~z;else if(J=="+")return z;else if(J=="typeof")return typeof z;
else console.log(J,z)};ce.QV=function(z,J,p){var n=z.type;if(n=="Identifier")return ce.ahQ(z.name,J,p);
else return ce.eval(z,J,p)};ce.ahQ=function(z,J,p){if(z=="undefined")return undefined;else if(p.hasOwnProperty(z))return p[z];
else if(z=="app")return{Az:"Application"};else if(z=="Folder")return{Az:"Folder"};else if(z=="File")return{Az:"File"};
else if(z=="$")return{Az:"$"};else if(ce.oG.ao$.indexOf(z)!=-1)return ce.oG.j3({Az:"Application"},z,J,p);
else if(ce.oG.aC$.indexOf(z)!=-1)return{Az:"AppFunc",y0:z};else if(p.__window.hasOwnProperty(z))return p.__window[z];
else if(window[z]&&!ce.Gw[z])return window[z];else{p[z]=null;return null}};ce.oG={};ce.oG.a2I=function(z,J,p,n){var B;
if(z=="PathPointInfo")B={Az:z,kind:0,cy:[],FV:[],M3:[]};if(z=="SubPathInfo")B={Az:z,A7:0,nx:!1,K:[]};
if(z=="SolidColor")B={Az:z,K:[1,0,0,0]};if(z=="RGBColor")B={Az:z,K:[1,0,0,0]};if(z=="Window")B={Az:z,K:new iw(J[0],J[1],J[2])};
if(z=="ExportOptionsSaveForWeb")B={Az:z,K:{tS:"png",Rg:100}};if(z=="PhotoshopSaveOptions")B={Az:z,K:{tS:"psd"}};
if(z=="PNGSaveOptions")B={Az:z,K:{tS:"png",Rg:100}};if(z=="JPEGSaveOptions")B={Az:z,K:{tS:"jpg",Rg:100}};
if(z=="PDFSaveOptions")B={Az:z,K:{tS:"pdf",a1I:""}};if(z=="File")B={Az:z,K:J[0]};if(z=="ActionReference")B={Az:z,K:{t:"obj ",v:[]}};
if(z=="ActionDescriptor")B={Az:z,K:{t:"Objc",v:{classID:"null"}}};if(z=="ActionList")B={Az:z,K:{t:"VlLs",v:[]}};
if(z=="UnitValue"){var c=0,t="px",u=J[0],v=J[1];if(u){c=parseFloat(u);if(typeof u=="string"&&u.indexOf(" ")!=-1)t=u.split(" ").pop()}B={Az:z,K:c,aw7:v?v:t}}return B};
ce.oG.ao$="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
ce.oG.aC$="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue echoToOE".split(" ");
ce.oG.j3=function(z,J,p,n){var B=p.f,c=p.Y0();if(!1){}else if(J=="typename"){if(z.Az=="Layer")return z.K.nT()?"LayerSet":"ArtLayer";
else return z.Az}else if(["Document","Layer"].indexOf(z.Az)!=-1&&["layers","artLayers","layerSets"].indexOf(J)!=-1){var t=c;
if(z.Az=="Document")t=z.K;else t=z.mb;var u=t.root,v={Az:"Layers",aDN:J,K:[],mb:t};if(z.Az=="Layer")u=t.root.Ti(t.U.indexOf(z.K));
if(u.children==null)return null;for(var g=0;g<u.children.length;g++){var A=u.children[g].w,$=A.nT();
if($&&J=="artLayers"||!$&&J=="layerSets")continue;v.K.push({Az:"Layer",K:A,mb:t})}v.K.reverse();return v}else if(z.Az=="Documents"||z.Az=="Layers"||z.Az=="HistoryStates"||z.Az=="LayerComps"||z.Az=="PathItems"||z.Az=="SubPathItems"||z.Az=="PathPoints"){if(!1){}else if(J=="length")return z.K.length;
else if(Number.isInteger(J))return z.K[J];else console.log(z.Az+": unknown property ",J)}else if(z.Az=="Application"){if(!1){}else if(J=="activeDocument")return{Az:"Document",K:p.Y0()};
else if(J=="documents"){var v={Az:"Documents",K:[]};for(var g=0;g<p.U4.length;g++)v.K.push({Az:"Document",K:p.U4[g]});
return v}else if(J=="fonts")return{Az:"TextFonts"};else if(J=="preferences")return{Az:"Preferences"};
else if(J=="displayDialogs")return{Az:"DialogModes"};else if(J=="foregroundColor"||J=="backgroundColor"){var X=J[0]=="f"?B.Nb:B.Gh;
return{Az:"SolidColor",K:[1,(X>>>16&255)/255,(X>>>8&255)/255,(X>>>0&255)/255]}}else if(J=="UI")return{Az:"UI"};
else if(J=="version")return 30;else console.log(z,J)}else if(z.Az=="Document"){var c=z.K;if(!1){}else if(J=="activeLayer"){var A=c.U[c.Y[0]];
return{Az:"Layer",K:A,mb:c}}else if(J=="pixelAspectRatio")return 1;else if(J=="resolution")return c.Ge;
else if(J=="width")return c.r;else if(J=="height")return c.$;else if(J=="name")return c.name.split(".")[0];
else if(J=="saved")return!c.E_();else if(J=="selection")return{Az:"Selection"};else if(J=="activeHistoryState")return{Az:"HistoryState",GU:c.Jq};
else if(J=="source")return c.oT;else if(J=="layerComps"){var U=c.TN.list.v,w=[];for(var g=0;g<U.length;
g++)w.push({Az:"LayerComp",K:g});return{Az:"LayerComps",K:w}}else if(J=="historyStates"){var P=[];for(var g=0;
g<c.history.length;g++)P.push({Az:"HistoryState",GU:g});return{Az:"HistoryStates",K:P}}else if(J=="mode")return c.add.fcmy?1:7;
else if(J=="colorSamplers"){var v={Az:"ColorSamplers",aDN:J,K:c.ih.slice(0),mb:c};return v}else if(J=="pathItems"){var k=[],c=z.K,T=c.Q8(),Z=T[0],i=T[1];
for(var g=0;g<Z.length;g++)k.push({Az:"PathItem",K:Z[g]});return{Az:"PathItems",K:k}}else console.log(z,J)}else if(z.Az=="PathItem"){if(J=="subPathItems"){var V=z.K,_=V.add.vmsk.u,k=[];
for(var g=0;g<a.z.ZR(_);g++){var y=a.z.Qq(_,g),E=_[y],F=_.slice(y+1,y+1+E.length);k.push({Az:"SubPathItem",A7:E.j1,nx:E.I==0,K:bi.jP.Ox(F)})}return{Az:"SubPathItems",K:k}}else alert(J)}else if(z.Az=="SubPathItem"||z.Az=="SubPathInfo"){if(J=="pathPoints"||J=="entireSubPath"){var k=[];
for(var g=0;g<z.K.length;g++){var d=z.K[g];k.push({Az:"PathPointInfo",kind:d.I==1||d.I==4?1:0,cy:[d.cy.x,d.cy.y],FV:[d.FV.x,d.FV.y],M3:[d.M3.x,d.M3.y]})}return{Az:"PathPoints",K:k}}else if(J=="operation")return z.A7;
else if(J=="closed")return z.nx;else throw J}else if(z.Az=="PathPointInfo"){if(J=="kind")return z.kind;
else if(J=="anchor")return z.cy;else if(J=="leftDirection")return z.FV;else if(J=="rightDirection")return z.M3;
else throw J}else if(z.Az=="LayerComp"){if(J=="name")return c.TN.list.v[z.K].v.Nm.v;else throw J}else if(z.Az=="ColorSamplers"){if(Number.isInteger(J))return{Az:"ColorSampler",K:z.K[J]};
else if(J=="length")return c.ih.length}else if(z.Az=="ColorSampler"){if(J=="color"){var X=L.IY.YE(c,c.i.cE(z.K.x,z.K.y),1,2);
return{Az:"SolidColor",K:[1,(X>>>16&255)/255,(X>>>8&255)/255,(X>>>0&255)/255]}}else if(J=="position")return[z.K.x,z.K.y]}else if(z.Az=="Layer"){var x={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},A=z.K;
if(!1){}else if(J=="visible")return A.LE();else if(J=="selected")return c.Y.indexOf(c.U.indexOf(A))!=-1;
else if(J=="grouped")return A.Bx;else if(x[J]!=null)return A.iF(x[J]);else if(J=="opacity")return A.YF*100/255;
else if(J=="fillOpacity")return(A.add.iOpa==null?255:A.add.iOpa)*100/255;else if(J=="blendMode")return A.QN;
else if(J=="name")return A.getName();else if(J=="id")return A.add.lyid;else if(J=="textItem")return{Az:"TextItem",K:A};
else if(J=="bounds"){var f=L.tp.R2(c,[c.U.indexOf(A)]);return ce.oG.azb(f,c)}else if(J=="parent"){var Q=p.U4,t;
for(var g=0;g<Q.length;g++)if(Q[g].U.indexOf(A)!=-1)t=Q[g];var m=t.root.Ti(t.U.indexOf(A)).parent;return m.depth==0?{Az:"Document",K:t}:{Az:"Layer",K:m.w,mb:t}}else if(J=="kind"){var H=ce.oG.In;
for(var g=0;g<H.length;g++)if(A.add[H[g]]!=null)return g;return 0}else if(J=="isBackgroundLayer")return A.add.lnsr=="bgnd";
else if(J=="itemIndex")return c.U.indexOf(A)+1;else if(J.startsWith("layerMask")||J.startsWith("filterMask")){var S=J.startsWith("layerMask")?A.Qu():A.g6(c).T4;
return J.endsWith("Density")?S.ED*100/255:S.cc}else console.log(z,J)}else if(z.Az=="Selection"){if(!1){}else if(J=="bounds"){if(c.M==null)n.__throw={message:"no selection"};
else return ce.oG.azb(c.M.S,c)}else console.log(z,J)}else if(z.Az=="TextItem"){var R=z.K.add.TySh,I=R.qU,D=dN.Be(I),G=R.h.Nz(),C=dN.cj(I,0,0);
if(J=="contents")return D.slice(0,D.length-1).replace(/\n/g,"\r");else if(J=="font")return C.uA.Font!=null?C.W5[C.uA.Font].Name:null;
else if(J=="size")return ce.oG.xc(C.uA.FontSize*G,c);else if(J=="leading")return ce.oG.xc(C.uA.Leading*G,c);
else if(J=="tracking")return ce.oG.xc(C.uA.Tracking);else if(J=="baselineShift")return ce.oG.xc(C.uA.BaselineShift);
else if(J=="kind")return 1-dN.Xn(I);else if(ce.oG.RU[J])return C.uA[ce.oG.RU[J]];else if(J=="justification")return ce.oG.xc(C.gC.Justification);
else if(J=="color")return{Az:"SolidColor",K:C.uA.FillColor.Values.slice(0)};else if(J=="width"||J=="height"){var O=dN.DL(I),Y=(O[2]-O[0])*G,h=(O[3]-O[1])*G;
return ce.oG.xc(J=="width"?Y:h,c)}else if(J=="position"){var S=R.h;return ce.oG.adq([S.Rf,S.Sm],c)}else if(J=="horizontalScale"||J=="verticalScale"){var r=J[0].toUpperCase()+J.slice(1);
return Math.round(C.uA[r]*100)}else if(J=="antiAliasMethod")dN.w6(R);else if(J=="totalTextStyle"){var v={};
for(var W=0;W<2;W++){var N=["Style","Paragraph"][W],o=I.EngineDict[N+"Run"].RunLengthArray,K=[],l=0;
for(var g=0;g<o.length;g++){var aV=dN.cj(I,l,Math.min(l+o[g],D.length-2));l+=o[g];K.push(W==0?aV.uA:aV.gC);
v.fontSet=aV.W5}v[N]={runs:o,styles:K}}return JSON.stringify(v)}else if(J=="transform"){var S=R.h;return JSON.stringify([S.k6,S.X,S.GQ,S.JH,S.Rf,S.Sm])}else console.log(z,J)}else if(z.Az=="Preferences"){if(J=="rulerUnits")return B.Uc.zk;
else console.log(z,J)}else if(z.Az=="SolidColor"){if(J=="rgb")return{Az:"RGBColor",K:z.K};if(J=="cmyk")return{Az:"CMYKColor",K:a.KK(z.K.slice(1))};
else console.log(z,J)}else if(z.Az=="RGBColor"){var f=Math.round(255*z.K[1]),j=Math.round(255*z.K[2]),M=Math.round(255*z.K[3]);
if(!1){}else if(J=="red")return f;else if(J=="green")return j;else if(J=="blue")return M;else if(J=="hexValue")return a.fX(f<<16|j<<8|M).toUpperCase();
else console.log(z,J)}else if(z.Az=="CMYKColor"){var s=[];for(var g=0;g<4;g++)s.push(Math.round(z.K[g]*100));
var l2=["cyan","magenta","yellow","black"].indexOf(J);if(l2!=-1)return s[l2];else console.log(z,J)}else if(z.Az=="UnitValue"){if(J=="value")return z.K;
else throw"e"}else if(z.Az=="ExportOptionsSaveForWeb"){if(J=="format")return z.K.tS;else if(J=="PNG8"||J=="interlaced")return!1;
else if(J=="quality")return z.K.Rg;else if(J=="transparency")return!0;else throw J}else if(z.Az=="PNGSaveOptions"||z.Az=="JPEGSaveOptions"||z.Az=="PDFSaveOptions"){return 0}else if(z.Az=="$"){if(J=="localize")return!1;
else if(J=="os")return"Windows";else throw J}else if(z.Az=="ActionList"){if(J=="count")return z.K.v.length;
else throw J}else console.log(z,J)};ce.oG.azb=function(z,J){return ce.oG.adq([z.x,z.y,z.x+z.r,z.y+z.$],J)};
ce.oG.adq=function(z,J){var p=[];for(var g=0;g<z.length;g++)p.push(ce.oG.xc(z[g],J));return p};ce.oG.Il=function(z){var J=[];
for(var g=0;g<z.length;g++)J.push(z[g].Az?z[g].K:z[g]);return J};ce.oG.xc=function(z,J){return{Az:"UnitValue",K:z,aw7:"px"}};
ce.oG.q5=function(z,J){if(z.Az=="UnitValue")return a.DM.Kf(z.K,J.Ge,J.r,a.DM.mZ.indexOf(z.aw7));return z};
ce.oG.RU={fauxBold:"FauxBold",fauxItalic:"FauxItalic",useAutoLeading:"AutoLeading",hyphenation:"AutoHyphenate",ligatures:"_Ligatures"};
ce.oG.aGg=function(z,J,p,n,B){var c=new cD(b.E.H,!0),t=new cD(b.E.c,!0),u=n.Y0(),v=n.f;if(!1){}else if(z.Az=="Application"){if(!1){}else if(J=="activeDocument"){t.data={R:b.J.Rt,CT:p.K};
n.a(t)}else if(J=="displayDialogs"){}else if(J=="foregroundColor"||J=="backgroundColor"){var A=p.K,$=A[1]*255<<16|A[2]*255<<8|A[3]*255<<0;
t.data={R:b.J.bS,Xu:iQ.Hm,el:J=="foregroundColor"?0:1,K:$};n.a(t)}else console.log(z,J,p)}else if(z.Az=="Document"){var X=z.K;
if(!1){}else if(J=="name"){c.l=L.bX;c.data={R:bi.Xx,K:p,arN:!0,EY:X};u.SR=!0}else if(J=="source")X.oT=p;
else if(J=="activeLayer"){X.Y=[X.U.indexOf(p.K)]}else if(J=="activeHistoryState"){c.l=L.Mj;c.data={R:"h_itemchange",index:p.GU}}else console.log(z,J)}else if(z.Az=="Layer"){c.l=L.bX;
var U={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},w=z.K,P=u.U.indexOf(w);
if(!1){}else if(J=="visible"){if(w.LE()!=p)c.data={R:bi.BJ,w:P}}else if(J=="opacity"){c.data={R:bi.I9,w:P,gW:Math.round(255*p/100)}}else if(J=="fillOpacity"){c.data={R:bi.h9,w:P,gW:Math.round(255*p/100)}}else if(J=="blendMode"){c.data={R:bi.Sd,w:P,gW:jM.Bk.indexOf(p)}}else if(J=="name"){c.data={R:bi.JL,w:P,name:p}}else if(U[J]!=null){c.data={R:bi.tt,w:P,gW:[[p],[U[J]]]}}else if(J=="kind"){c.data={R:bi.cY,w:P,gs:ce.oG.In[p]}}else if(J=="grouped"){c.data={R:bi.S5,w:P,gW:p}}else if(J.startsWith("layerMask")||J.startsWith("filterMask")){var k=w.xd(J.startsWith("layerMask")?0:2);
if(J.endsWith("Density"))k.eZ=Math.round(p*255/100);else k.hq=p;c.data={R:bi.BF,Rj:P,dr:k}}else console.log(z,J,p)}else if(z.Az=="TextItem"){c.l=L.MN;
var w=z.K,T=w.add.TySh,Z=a.G(T.qU),i=T.h.P(),V=T.h.Nz(),_=dN.Be(Z),y=dN.cj(Z,0,_.length-2),E=!1;if(!1){}else if(J=="contents"){dN.xA(Z,0,_.length-1);
dN.tJ(Z,0,(p+"").replace(/\r/g,"\n"))}else if(J=="size"){y.uA.FontSize=(p.K!=null?p.K:p)/V;E=!0}else if(J=="leading"){y.uA.Leading=(p.K!=null?p.K:p)/V;
E=!0}else if(J=="tracking"){y.uA.Tracking=p.K!=null?p.K:p;E=!0}else if(J=="baselineShift"){y.uA.BaselineShift=p.K!=null?p.K:p;
E=!0}else if(J=="kind"){var F=dN.Xn(Z);if(F==1&&p==1){var d=new e1(Z,n.f.rf,T.PB).gC[0],x=d.l0[0].end,f=d.vr[x-1].end;
dN.xA(Z,0,_.length-1);dN.tJ(Z,0,_.slice(0,f-1))}if(F==p)dN.NA(Z,1-p)}else if(ce.oG.RU[J]){y.uA[ce.oG.RU[J]]=p;
E=!0}else if(J=="justification"){y.gC.Justification=p;E=!0}else if(J=="font"){dN.Qp(y,p);E=!0}else if(J=="color"){y.uA.FillColor.Values=p.K.slice(0);
E=!0}else if(J=="width"||J=="height"){var Q=dN.DL(Z).slice(0),m=ce.oG.q5(p,u);if(J=="width")Q[2]=Math.round(Q[0]+m/V);
else Q[3]=Math.round(Q[1]+m/V);dN.h4(Z,Q)}else if(J=="position"){i.Rf=p[0];i.Sm=p[1]}else if(J=="horizontalScale"||J=="verticalScale"){var H=J[0].toUpperCase()+J.slice(1);
y.uA[H]=p/100;E=!0}else if(J=="antiAliasMethod")dN.Pv(T,p);else console.log(z,J,p);if(E)dN.CG(Z,0,_.length-1,y);
c.data={R:"newED",TC:u.U.indexOf(w),a50:Z,h:i}}else if(z.Az=="Preferences"){if(!1){}else if(J=="rulerUnits"){var S=a.G(v.Uc);
S.zk=p;t.data={R:b.J.bS,Xu:iQ.nc,gW:S};n.a(t)}else console.log(z,J,p)}else if(z.Az=="SolidColor"){if(J=="rgb")z.K=p.K;
else throw J}else if(z.Az=="RGBColor"){if(!1){}else if(J=="red")z.K[1]=p/255;else if(J=="green")z.K[2]=p/255;
else if(J=="blue")z.K[3]=p/255;else if(J=="hexValue"){var R=a.av2(p.slice(p.charAt(0)=="#"?1:0));z.K[1]=(R>>>16&255)/255;
z.K[2]=(R>>>8&255)/255;z.K[3]=(R>>>0&255)/255}else console.log(z,J)}else if(z.Az=="ExportOptionsSaveForWeb"){if(J=="format")z.K.tS=p;
else if(J=="PNG8"||J=="transparency"||J=="interlaced"){}else if(J=="quality")z.K.Rg=p;else throw J}else if(z.Az=="PNGSaveOptions"||z.Az=="JPEGSaveOptions"){if(J=="quality")z.K.Rg=Math.round(100*p/12)}else if(z.Az=="PDFSaveOptions"){if(J=="preset")z.K.a1I=p}else if(z.Az=="PathPointInfo"){if(J=="kind")z.kind=p;
else if(J=="anchor")z.cy=p;else if(J=="leftDirection")z.FV=p;else if(J=="rightDirection")z.M3=p;else throw J}else if(z.Az=="SubPathInfo"){if(J=="operation")z.A7=p;
else if(J=="closed")z.nx=p;else if(J=="entireSubPath"){z.K=[];for(var g=0;g<p.length;g++){var I=p[g];
z.K.push({I:I.kind==1?1:2,FV:new i_(I.FV[0],I.FV[1]),cy:new i_(I.cy[0],I.cy[1]),M3:new i_(I.M3[0],I.M3[1])})}}else throw J}else if(z.Az=="$"){if(J=="localize"){}}else console.log(z,J,p);
if(c.data!=null)n.a(c)};ce.oG.aGq=function(z,J,p){if(J==null)return;var n=J.qU.EngineDict.StyleRun.RunArray,B=J.qU.ResourceDict.FontSet,c=[];
for(var g=0;g<n.length;g++){var t=n[g].StyleSheet.StyleSheetData,u=B[t.Font].Name,v=p.f.rf.ck(u);if(v&&v.name.postScriptName!=u)v=null;
c.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:v!=null},fontPostScriptName:{t:"TEXT",v:u}}}}})}z.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:c},textKey:{t:"TEXT",v:dN.Be(J.qU)}}}};
ce.oG.zN=function(z,J,p,n,B){var c=z.Az,t=null,u=new cD(b.E.H,!0),v=new cD(b.E.wR,!0),A=new cD(b.E.c,!0),$=n.Y0(),X=n.U4;
if(!1){}else if(c=="Application"){if(!1){}else if(J=="charIDToTypeID"){var U=p[0].trim(),w={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return w[U]?w[U]:U}else if(J=="stringIDToTypeID"){var P=p[0].trim(),w={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",actionSet:"ASet",type:"Type",using:"Usng",targetEnum:"Trgt",to:"T",ordinal:"Ordn",property:"Prpr",numberOfChildren:"NmbC",userMaskEnabled:"UsrM",textStyle:"TxtS"},k=w[P];
return k==null?P:k}else if(J=="typeIDToStringID"){return p[0].trim()}else if(J=="executeAction"){var T;
if(p[1]){T=p[1].K.v;T.classID=p[0]}var Z={setd:"set"},i=Z[p[0]];if(i==null)i=p[0];var V=fs.tD[p[0]];
if(V&&fs.f3[V])i=fs.f3[V];v.data={rK:i,m$:T}}else if(J=="executeActionGet"){var _=p[0].K.v,t={};if(_.length==1){var y=t.classID=_[0].v.classID;
if(y=="Lyr"){var E=dB.RC($,_[0]),F=$.U[E],d=F.add.SoLd,x=F.add.SoCo,f=F.add.TySh,Q=F.Qu();if(d)t.smartObjectMore={t:"Objc",v:{transform:d.nonAffineTransform}};
if(x)t.adjustment={t:"VlLs",v:[{t:"Objc",v:a.G(x)}]};if(f)ce.oG.aGq(t,f,n);if(Q)t.UsrM={t:"Objc",v:{}}}else if(y=="ASet"){var m=n.f.MD;
t.NmbC={t:"long",v:m[0].B7.length}}return{Az:"ActionDescriptor",K:{t:"null",v:t}}}if(_.length==2){var y=t.classID=_[1].v.classID,P=_[0].v.keyID;
if(y=="Dcmn"){var H=$;if(P=="numberOfLayers")t[P]={t:"long",v:H.U.length};else throw P}else if(y=="Lyr"){var E=dB.RC($,_[1]),F=$.U[E],f=F.add.TySh;
if(P=="textKey")ce.oG.aGq(t,f,n);else throw P}else if(y=="ASet"){var m=n.f.MD,S=t.classID=_[0].v.classID;
if(S=="Actn"){t.NmbC={t:"long",v:dB.Cs(m,_[0].v.val,_[1].v.val).B7.length}}else throw S}else throw y;
return{Az:"ActionDescriptor",K:{t:"null",v:t}}}}else if(J=="doAction"){A.data={R:b.J.Zj,qY:[p[0],p[1]]}}else if(J=="bringToFront"){}else if(J=="open"){A.data={R:b.J.Je,Xu:{url:p[0]}};
if(p[2]&&X.length!=0)A.data.Xu._z=X.indexOf($)}else if(J=="echoToOE"){A.data={R:b.J.SI,Xu:p[0]}}else if(J=="showWindow"){A.data={R:b.J.Ym,i9:p[0]}}else if(J=="UnitValue"){return p[0]+" "+p[1]}else console.log(J)}else if(c=="LayerComp"){if(J=="apply"){u.l=L._T;
u.data={R:"setLC",GU:$.TN.list.v[z.K].v.compID.v}}else throw J}else if(c=="Document"){var $=z.K;if(!1){}else if(J=="changeMode"){u.l=L.vX;
u.data={R:"fcmy",K:p[0]==1?1:0}}else if(J=="crop"){var R=p[0];v.data=L.d_.aaK([R[0],R[1],R[2]-R[0],R[3]-R[1]])}else if(J=="trim"){var D=[];
for(var g=0;g<4;g++)D.push(p[g+1]!=null?p[g+1]:!0);v.data=L.d_.Jd(p[0]!=null?p[0]:0,D)}else if(J=="suspendHistory"){var G=acorn.parse(p[1]);
ce.eval(G,n,B)}else if(J=="save"){A.data={R:b.J._2}}else if(J=="saveToOE"){A.data={R:b.J._2,anr:p}}else if(J=="rotateCanvas"||J=="flipCanvas"){var C=J=="rotateCanvas";
v.data=L.tp.ul(C,C?p[0]:["Hrzn","Vrtc"][p[0]])}else if(J=="resizeImage"||J=="resizeCanvas"){var O=p[0],Y=p[1];
if(O!=null){var h={r:$.r,Ge:$.Ge};if(p[2])h.Ge=p[2];O=ce.oG.q5(O,h),Y=ce.oG.q5(Y,h);O=Math.round(O);
Y=Math.round(Y)}if(J=="resizeCanvas")v.data=L.d_.aob(O,Y,p[2]);else v.data=L.d_.yp(O,Y,p[2],O!=null?1:null)}else if(J=="paste"){A.data={R:b.J.RP,a6d:p.length!=0&&p[0],fR:!0};
n.a(A);A.data=null;return{Az:"Layer",K:$.U[$.Y[0]],mb:$}}else if(J=="close"){A.data={R:b.J.ZY,Bw:$}}else if(J=="exportDocument"||J=="saveAs"){var r=B.__fs,W=J=="exportDocument"?p[2].K:p[1].K,N=p[0].K.replace(":","").replace("~/","");
if(!N.toLowerCase().endsWith("."+W.tS))N+="."+W.tS;var o=kL.Pk($,W.tS,null,null,W.tS=="pdf"?null:{qual:W.Rg},n.f);
r[N]=new Uint8Array(o)}else if(J=="flatten"){v.data={rK:"flattenImage"}}else if(J=="clearHistory"){u.l=L.Mj;
u.data={R:"h_clear",force:!0}}else console.log(z,J,p)}else if(c=="Layer"){var K=z.K,E=$.U.indexOf(K);
if(!1){}else if(J=="copy"){ce.oG.BY($,n,0);A.data={R:b.J.dx,L5:p[0],Lw:E,fR:!0};n.a(A);delete A.data;
ce.oG.BY($,n,1)}else if(J=="clear"){ce.oG.BY($,n,0);v.data={rK:"delete"};n.a(v);delete v.data;ce.oG.BY($,n,1)}else if(J=="autoLevels"||J=="autoContrast"){if(J=="autoContrast")v.data={rK:"levels",m$:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else v.data={rK:"levels",m$:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(J=="duplicate"){if(p.length==0){var l=$.Y.slice(0);
u.data={R:bi.Kb,w:E};u.l=L.bX;n.a(u);u.data=null;t={Az:"Layer",K:$.U[$.Y[0]],mb:z.mb};$.Y=l}else if(p[0].Az=="Document"){u.data={R:bi.jt,U:$.pL(E),N6:$,q9:p[0].K};
u.l=L.bX}if(u.data){n.a(u);u.data=null;return{Az:"Layer",K:$.U[$.Y[0]],mb:$}}}else if(J=="merge"||J=="remove"){u.data={R:J=="merge"?bi.lp:bi.W3,w:E};
u.l=L.bX;var aV=$.U.length-E;n.a(u);u.data=null;if(J!="remove")t={Az:"Layer",K:$.U[$.U.length-aV],mb:z.mb}}else if(J=="move"){var j=$.U.indexOf(p[0].K);
if(j==E+1&&p[1]==4)return;if(j==E-1&&p[1]==3)return;u.data={R:bi.j2,source:E,target:j,p7:p[1]!=3?.6:.3};
u.l=L.bX}else if(J=="rasterize"){u.l=L.bX;u.data={R:bi.IF,w:E};n.a(u);u.data=null;z.K=$.U[E]}else if(J=="rotate"){u.data={R:"rot",cN:[2,5],K:-p[0]*Math.PI/180,bb:p[1],w:E};
u.l=L.dt}else if(J=="resize"){u.data={R:"scl",cN:[2,4],K:new i_(p[0]/100,p[1]/100),bb:p[2],w:E};u.l=L.dt}else if(J=="translate"){var M=ce.oG.Il(p);
u.data={R:"trsl",w:E,V$:M[0],Yx:M[1]};u.l=L.vX}else if(J=="link"){u.data={R:bi.kh,ala:[E,$.U.indexOf(p[0].K)]};
u.l=L.bX}else if(J=="invert"){u.l=L.Vi;u.data={R:"start",Fc:"nvrt"}}else if(J=="desaturate"){v.data={rK:"desaturate"}}else if(J.startsWith("apply")&&em.ju[J.slice(5)]||J.startsWith("adjust")&&em.ju[J.slice(6)]||J=="mixChannels"){var s=J.startsWith("apply"),M=ce.oG.Il(p),l2=J=="mixChannels"?"mixr":em.ju[J.slice(s?5:6)];
if(l2=="Dspl"){for(var g=0;g<$.U.length;g++)if($.U[g].getName()==M[4]){M[4]=$.U[g].add.SoLd.Idnt.v;break}}v.data={rK:s?em.f3[l2]:fs.f3[l2]};
var T=em.J0(l2),l=$.Y;$.Y=[E];if(T){if(l2=="mixr"){var gm=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
for(var g=0;g<3;g++){var iz=M[0][g],dC=g*5;gm[dC+0]=iz[0];gm[dC+1]=iz[1];gm[dC+2]=iz[2];gm[dC+4]=iz[3]}T=fs.kf({K:gm,Gj:M[1]})}else em.mn["g"+l2](T,M);
v.data.m$=T}n.a(v);v.data=null;$.Y=l}else if(J=="applyStyle"){var dL=n.f.Z9,cP=null;for(var g=0;g<dL.length;
g++)if(dL[g].wl.Nm.v.split("/").pop()==p[0])cP=dL[g];if(cP==null){alert("Style not found!");return}u.l=L.bV;
u.data={R:"setstl",K:cP.pY,w:E};n.a(u);u.data={R:"confirm",w:E}}else console.log(z,J,p)}else if(c=="Documents"){if(J=="getByName"){for(var g=0;
g<X.length;g++)if(X[g].name==p[0]||X[g].name.split(".")[0]==p[0])return{Az:"Document",K:X[g]};return null}else if(J=="add"){if(p.length==0)p=[100,100,72,"New Project"];
var id=p[5];if(id==null)id=1;v.data=b$.IP(p[0],p[1],p[2],p[3],["Wht","Trns","BckC"][id],!1);n.a(v);v.data=null;
return{Az:"Document",K:n.Y0()}}else throw"e"}else if(c=="Layers"){if(J=="getByName"){for(var g=0;g<z.K.length;
g++)if(z.K[g].K.getName()==p[0]){t=z.K[g];break}if(t==null)B.__throw={message:"No layer with a name "+p[0]}}else if(J=="add"){u.data={R:z.aDN=="layerSets"?bi.k7:bi.JX};
u.l=L.bX;n.a(u);u.data=null;t={Az:"Layer",K:$.U[$.Y[0]],mb:z.mb}}else console.log(z,J,p)}else if(z.Az=="Selection"){if(J=="select"){var jR=p[0],hC=[];
for(var g=0;g<jR.length;g++)hC.push(jR[g][0],jR[g][1]);v.data=L.gL.YR(ce.oG.Il(hC),p[1])}else if(J=="clear"){v.data={rK:"delete"}}else if(J=="selectAll"){v.data=L.gL.aj(!0)}else if(J=="invert"){v.data={rK:"inverse"}}else if(J=="copy"){A.data={R:b.J.dx,L5:p[0],fR:!0}}else if(J=="deselect"){v.data=L.gL.aj()}else if(J=="fill"){var eJ=p[0].K;
eJ=a.Wi.yR({o:eJ[1]*255,k:eJ[2]*255,X:eJ[3]*255});v.data=L.SD.tR("Clr",p[1],p[2]==null?1:p[2]/100,eJ)}else if(J=="grow"||J=="similar"){var T={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if(p[0]!=null)T.Tlrn={t:"long",v:p[0]};v.data={rK:J,m$:T}}else if(J=="expand"||J=="contract"||J=="feather"){v.data=L.gL.dR(J,p[0],!0)}else if(J=="translate"){var T={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:p[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:p[1]}}}}};
v.data={rK:"move",m$:T}}else if(J=="smooth"){v.data=L.gL.dR("smoothness",p[0],!1)}else if(J=="stroke"){var cP=JSON.parse(a_.ef[1]),el=cP.Clr.v,eJ=p[0].K;
el.Rd.v=eJ[1]*255;el.Grn.v=eJ[2]*255;el.Bl.v=eJ[3]*255;cP.Sz.v.val=p[1];cP.Styl.v.FStl=a_.stroke.types[p[2]];
console.log(cP,p);u.l=L.ta;u.data={R:"stroke",aD0:cP}}else console.log(z,J,p)}else if(z.Az=="Window"){if(J=="show"){A.data={R:b.J.Ym,i9:z.K}}else throw"e"}else if(z.Az=="ActionReference"){if(J=="putProperty"){z.K.v.push({t:"prop",v:{classID:p[0],keyID:p[1]}})}else if(J=="putClass"){z.K.v.push({t:"Clss",v:{classID:p[0]}})}else if(J=="putEnumerated"){z.K.v.push({t:"Enmr",v:{classID:p[0],typeID:p[1],enum:p[2]}})}else if(J=="putName"){z.K.v.push({t:"name",v:{classID:p[0],val:p[1]}})}else if(J=="putIndex"){z.K.v.push({t:"indx",v:{classID:p[0],val:p[1]}})}else console.log(J,p)}else if(z.Az=="ActionDescriptor"||z.Az=="ActionList"){var eu=z.Az=="ActionList";
if(J.startsWith("put")){var jY=eu?p:p.slice(1),k=null;if(J=="putReference"){k=jY[0].K}else if(J=="putObject"){k=jY[1].K;
k.v.classID=jY[0]}else if(J=="putList"){k=jY[0].K}else if(J=="putDouble"){k={t:"doub",v:jY[0]}}else if(J=="putUnitDouble"){k={t:"UntF",v:{type:jY[0],val:jY[1]}}}else if(J=="putBoolean"){k={t:"bool",v:jY[0]}}else if(J=="putInteger"){k={t:"long",v:jY[0]}}else if(J=="putString"){k={t:"TEXT",v:jY[0]}}else if(J=="putClass"){k={t:"type",v:{classID:jY[0]}}}else if(J=="putEnumerated"){var fN=p[0].split("+");
if(fN.length==2&&p[1]==null){p[0]=fN[0];p[1]=jY[0]=fN[1]}var dC={};dC[jY[0]]=jY[1];k={t:"enum",v:dC}}else throw J;
if(eu)z.K.v.push(k);else z.K.v[p[0]]=k}else if(J=="hasKey"){return z.K.v[p[0]]!=null}else if(J=="getEnumerationValue"){if(p[0]=="layerSection")t="layerSectionContent";
else console.log(p)}else if(J=="getBoolean"){t=z.K.v[p[0]].v}else if(J=="getString"){t=z.K.v[p[0]].v}else if(J=="getObjectValue"){var t=z.K.v[p[0]];
return{Az:"ActionDescriptor",K:a.G(t)}}else if(J=="getList"){var t=z.K.v[p[0]];return{Az:"ActionList",K:t}}else if(J=="getInteger"||J=="getDouble"){return z.K.v[p[0]].v}else console.log(J,p)}else if(z.Az=="$"){if(J=="writeln"){console.log(p[0])}else throw J}else if(z.Az=="UI"){if(J=="scroll"||J=="scrollTo"){var jC=p[0],kF=p[1],i6=$.i.XP;
if(J=="scrollTo"){jC=(-$.r/2+jC)*i6+$.i.p.x;kF=(-$.$/2+kF)*i6+$.i.p.y}u.l=L.$N;u.data={R:"scroll",lB:new i_(Math.round(jC),Math.round(kF))}}else{var kT;
if(J=="zoomIn"||J=="zoomOut"){kT={R:"zoom",i5:J=="zoomIn"}}else if(J=="fitTheArea"){kT={R:"adapt",K:"fitscr"}}else if(J=="pixelToPixel"){kT={R:"adapt",K:"pixel"}}u.l=L.KZ;
u.data=kT;if(J=="switchFullscreen"){var kY=n.f.gK,h9=document.fullscreenElement!=null==(kY==2);A.data={R:b.J.Zw,K:kY==0?2:0,cq:h9}}}}else if(z.Az=="ColorSamplers"){if(J=="removeAll")$.ih=[];
else if(J=="add"){var bG={x:p[0][0],y:p[0][1]};$.ih.push(bG);var t={Az:"ColorSampler",K:bG}}}else if(z.Az=="ColorSampler"){if(J=="move"){var dQ=$.ih.indexOf(z.K);
bG=$.ih[dQ];bG.x=p[0][0];bG.y=p[0][1]}else if(J=="remove"){var dQ=$.ih.indexOf(z.K);$.ih.splice(dQ,1)}}else if(z.Az=="PathItem"){if(J=="select"){$.E0=[$.$n.indexOf(z.K)];
$.SR=!0}else if(J=="remove"){u.l=L.q4;u.data={R:"pathedit",el:"del"}}else console.log(J)}else if(z.Az=="PathItems"){if(J=="add"){var jn=p[1],b1=b$.zo(p[0]),R=b1.add.vmsk.u;
for(var g=0;g<jn.length;g++){var c8=jn[g],j_=c8.K.length;R.push({I:c8.nx?0:3,length:j_,j1:c8.A7});for(var fQ=0;
fQ<j_;fQ++){if(!c8.nx)c8.K[fQ].I+=3;R.push(c8.K[fQ])}}u.l=L.q4;u.data={R:"pathedit",el:"new",kE:b1};
n.a(u);return{Az:"PathItem",K:b1}}else throw J}else if(z.Az=="Folder"){if(J=="selectDialog")t="img";
else throw J}else if(z.Az=="File"){if(J=="openDialog")alert("A website can not show the Open dialog from a script");
else throw J}else console.log(z,J,p);if(u.data)n.a(u);if(v.data)n.a(v);if(A.data)n.a(A);return t};ce.oG.BY=function(z,J,p){var n=new cD(b.E.H,!0);
n.l=L.Wu;var B=new cD(b.E.wR,!0);if(p==0){ce.oG.aiK=z.M;B.data=L.gL.aj(!0)}else{var c=ce.oG.aiK;if(c)n.data={R:"setsel",cN:"Restore Selection",M:{S:c.S.P(),N:c.N.slice(0)}};
else B.data=L.gL.aj()}J.a(n.data?n:B)};ce.oG.aiK=null;ce.oG.cd={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5,BRIGHTNESSCONTRAST:6,LEVELS:7,CURVES:8,EXPOSURE:9,VIBRANCE:10,HUESATURATION:11,COLORBALANCE:12,BLACKANDWHITE:13,PHOTOFILTER:14,CHANNELMIXER:15,LAYER3D:16,INVERSION:17,POSTERIZE:18,THRESHOLD:19,GRADIENTMAP:20,SELECTIVECOLOR:21},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},ChangeMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3},Direction:{HORIZONTAL:0,VERTICAL:1}};
ce.oG.cd.ColorBlendMode=ce.oG.cd.BlendMode;ce.oG.In="---- SoLd TySh SoCo GdFl PtFl brit levl curv expA vibA hue2 blnc blwh phfl mixr clrL nvrt post thrs grdm selc".split(" ");
function l0(){}l0.Nc={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null],"xmp:Label":["",null],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:UserComment":["",37510],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
l0.gZ={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
l0.aFI=function(z,J){if(J==null)J={};var p=l0.gZ,n=[],B=[],c="";for(var g=0;g<z.length;g++){var t=z[g],u=p[t[0]+""];
if(u&&(J[u]==null||J[u]==""))J[u]=t[1];else if(t[0]==12)B.push(t[1]);else if(t[0]==25)n.push(t[1]);else if(t[0]==55)c=t[1];
else if(t[0]==60)c+=";"+t[1]}if(c!=""&&J["exif:DateTimeOriginal"]==null)J["exif:DateTimeOriginal"]=c;
if(B.length!=0&&J["Iptc4xmpCore:SubjectCode"]==null)J["Iptc4xmpCore:SubjectCode"]=B.join(";");if(n.length!=0&&J["dc:Keywords"]==null)J["dc:Keywords"]=n.join(";");
return J};l0.a9D=function(z){var J=l0.gZ,p=[];for(var n in J)if(z[J[n]])p.push([parseInt(n),z[J[n]]]);
if(z["Iptc4xmpCore:SubjectCode"]){var B=z["Iptc4xmpCore:SubjectCode"].split(";");for(var g=0;g<B.length;
g++)p.push([12,B[g].trim()])}if(z["dc:Keywords"]){var B=z["dc:Keywords"].split(";");for(var g=0;g<B.length;
g++)p.push([25,B[g].trim()])}p.sort(function(c,t){return c[0]-t[0]});return p};l0.my=function(z,J){if(J==null)J={};
var p=new DOMParser,n=p.parseFromString(z,"image/svg+xml"),B=n.getElementsByTagName("rdf:Description")[0];
if(B==null)return J;var c=l0.Nc;for(var t in c){var u=[];if(c[t][2]){var v=c[t][2],A=B.getElementsByTagName(v)[0];
if(A==null)continue;var $=A.getElementsByTagName("rdf:li");for(var g=0;g<$.length;g++)u.push($[g].textContent)}else if(B.getAttribute(t))u.push(B.getAttribute(t));
else continue;J[t]=u.join("; ")}return J};l0.B_=function(z){var J=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:photoshop=\"http://ns.adobe.com/photoshop/1.0/\" xmlns:tiff=\"http://ns.adobe.com/tiff/1.0/\" xmlns:exif=\"http://ns.adobe.com/exif/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],p=l0.Nc,n="";
for(var B in p){var c=z[B],t=p[B][2];if(c==null)continue;if(t){var u="Seq",v="";if(t=="dc:title"||t=="dc:description"){u="Alt";
v=" xml:lang=\"x-default\""}if(t=="dc:subject")u="Bag";J.push("\t<"+t+"><rdf:"+u+">");var A=t=="dc:subject"?c.split(";").join(",").split(","):[c];
for(var g=0;g<A.length;g++)J.push("\t\t<rdf:li"+v+">"+A[g].trim()+"</rdf:li>");J.push("\t</rdf:"+u+"></"+t+">")}else n+=" "+B+"=\""+c+"\""}J[3]+=n+">";
J.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return J.join("\n")};
l0.alJ=function(z){var J=[];for(var g=0;g<z.length;g++)J[g]=z[g][1]==0?0:z[g][0]/z[g][1];return J};l0.aGx=function(z){var J=[];
for(var g=0;g<z.length;g++){var p=z[g],n=1;if(p!=Math.round(p)){n=1e3;p=Math.round(p*n)}J[g]=[p,n]}return J};
l0.Ix=function(z,J){var p=l0.Nc;if(J==null)J={};for(var n in p){var B=p[n][1],c="t"+B;if(B!=null&&z[c]!=null){var t=z[c];
if(B==0)t=t.join(".");else if(B==2||B==4){var u=z["t"+(B-1)];if(u==null)u=[B==2?"N":"E"];t=l0.alJ(t).join(",")+u[0]}else if(B==42034)t=l0.alJ(t).join(" ");
else if(B==270||B==315){if(t instanceof Uint8Array)t=e.A8(t);else{var v=t[0],A=new Uint8Array(v.length);
e.CR(A,0,v);t=e.A8(A)}}else if(B==37510&&t instanceof Uint8Array){var v=e.A8(t);t=v.startsWith("ASCII")?v.slice(8):v}else t=t[0];
J[n]=t}}if(z.exifIFD)l0.Ix(z.exifIFD,J);if(z.gpsiIFD)l0.Ix(z.gpsiIFD,J);return J};l0.ql=function(z,J,p){var n=l0.Nc,c=0,u=0;
if(J==null)J={};var B={},t={};for(var v in n){if(z[v]==null||n[v][1]==null)continue;var A=n[v][1],$="t"+A,X=J;
if(v.startsWith("exif:")){X=B;c++;if(v.startsWith("exif:GPS")){X=t;u++}}var U=z[v];if(A==0)U=new Uint8Array(U.split(".").map(parseFloat));
else if(A==2||A==4){var w=U.length;X["t"+(A-1)]=[U.slice(U.length-1)];U=l0.aGx(U.split(",").map(parseFloat))}else if(A==42034)U=l0.aGx(U.split(" ").map(parseFloat));
else if(A==270||A==315){var P=e.Hu(U);U=[e.RM(P,0,P.length)]}else if(A==37510)U=e.Hu(U);else U=[U];X[$]=U}if(c!=0){J.exifIFD=B;
J.t34665=[0]}if(u!=0){J.gpsiIFD=t;J.t34853=[0]}var k=new Date,T=[k.getFullYear(),k.getMonth()+1,k.getDate(),k.getHours(),k.getMinutes(),k.getSeconds()];
for(var g=0;g<6;g++)T[g]=(T[g]+"").padStart(2,"0");J.t305=["Photopea Editor (www.photopea.com)"];if(p!=!0)J.t306=[T[0]+":"+T[1]+":"+T[2]+" "+T[3]+":"+T[4]+":"+T[5]];
return J};function kg(){}kg.yi=function(z){var J={ayi:",",Or:"\r\n",amQ:"\""},p=[[""]],n,B,c,t,u;for(n=B=c=t=0;
c<z.length;c++){switch(u=z.charAt(c)){case J.amQ:if(t&&z.charAt(c+1)==J.amQ){p[n][B]+=J.amQ;++c}else{t^=1}break;
case J.ayi:if(!t){p[n][++B]=""}else{p[n][B]+=u}break;case J.Or.charAt(0):if(!t&&(!J.Or.charAt(1)||J.Or.charAt(1)&&J.Or.charAt(1)==z.charAt(c+1))){p[++n]=[""];
p[n][B=0]="";if(J.Or.charAt(1)){++c}}else{p[n][B]+=u}break;default:p[n][B]+=u}}if(p[p.length-1].length<p[0].length)p.pop();
return p};var q={};q.a6R=0;q.Jt=function(){q.a6R++;return q.a6R};q.aHv="uint8";q.VI=function(z){z._.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
z._.style.opacity="1";z._.style.transform="scale(1)"};q.bo=function(z,J){z._.style.opacity="0";z._.style.transform="scale(0.95)";
if(J)setTimeout(function(){J.removeChild(z._)},100)};q.aBr=function(){var z=q.KG();if(z=="")return 0;
if(z!=q.fb("_TXZRPB;d7@;")&&z!=iX.fb("eQLZRRM?8a4=8")){var J=q.Ps[iX.lH][iX.WX],p=J.indexOf(String.fromCharCode(35)),n;
if(p==-1)return 0;try{n=JSON.parse(q.Ps[iX.ayH](J.slice(p+1)))}catch(l5){return 0}var B=n[q.fb("bQ[ODL<E<M")];
if(B==null||B.length<<2!=64)return 0;var c=iX.BW(),t=parseInt(B.slice(3*4).split("").reverse().join(""),16)<<16;
if(t<c||B!=iX.amc(t,z))return 0;return 2}return 1};q.KG=function(){var z=q.Ps[q.DX("}$z{2*35")][q.fb("W[\\ZQAJ?")],J=String.fromCharCode(46),p=z.split(J);
if(p.length<2)return"";var n=p.pop();n=p.pop()+J+n;return n};q.dK=function(z){var J=q.KG();if(j8.x_())return!0;
if((J==iX.fb("_TXZRPB;d7@;")||J==iX.fb("~yy")||true)&&q.Ps==q.Ps[iX.aIG])return!0;var p=q.Ps[iX.lH][iX.WX],n=p.indexOf("#");
if(n!=-1&&n!=p.length-1&&(p[n+1]=="%"||p[n+1]=="{")){var B=p.substring(n+1,p.length);B=JSON.parse(q.Ps[iX.ayH](B));
var c=B[iX.fb("P\\RY")];if(c)if(z==0&&c[iX.fb("aYKM")]||z==1&&c[iX.fb("SQcMR")])return!0}return!1};q.af1=function(){if(q.Ps[iX.auh][iX.a6S]){var z=new q.Ps[iX.vp];
z[iX.Ab](iX.aDJ,q.fb("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+q.KG());z[iX.nu]()}};q.Cm=function(){if(window.top!=window.self)return!1;
var z=navigator.userAgent.toLowerCase();if(z.indexOf("firefox")!=-1)return!1;if(z.indexOf("safari")!=-1&&z.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null&&navigator.clipboard!=null};q.RR=function(z){this.wy=z;this.eK=q.m("img");
this.Lm=q.m("canvas");this.da=null;this.WA="";this.P0=null;this.vQ=new i_(0,0);this.a8H=!0;q.G3(this.wy,this.Gm.bind(this))};
q.RR.prototype.DK=function(z,J){this.da=z;if(J)this.WA=J;this.Gm()};q.RR.prototype.h6=function(z){this.a8H=z;
this.Gm()};q.RR.prototype.Gm=function(z){if(z)this.vQ=q.bZ(z,this.wy);var J=this.a8H?this.da:"auto",p=typeof J=="string";
if(!p){var n=q.$q(),B=this.vQ,c=J.Dm.r,t=J.Dm.$,u=typeof J.ps=="string",v=u?this.eK:this.Lm;if(u)v.setAttribute("src",J.ps);
else{v.width=c;v.height=t;var A=v.getContext("2d"),$=new ImageData(new Uint8ClampedArray(J.ps.buffer),c,t);
A.putImageData($,0,0)}q.v(v," position:absolute; pointer-events:none;user-select:none;"+"top:"+(B.y-J.wG.y/n)+"px; left:"+(B.x-J.wG.x/n)+"px; width:"+c/n+"px; height:"+t/n+"px");
var X=this.P0;if(X==null||X!=v){if(X)this.wy.removeChild(X);this.wy.appendChild(v);this.P0=v}}else if(this.P0){this.wy.removeChild(this.P0);
this.P0=null}q.v(this.wy,"cursor:"+(p?J:"none")+"; "+this.WA)};q.kT=function(z){return z.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
q.pi=function(z,J){z.MM(j0.get([12,41]).charAt(0)+":");J.MM(j0.get([12,42]).charAt(0)+":")};q.m=function(z,J){var p=document.createElement(z);
if(J!=null)p.className=J;return p};q.X0=function(z){while(z.firstChild)z.removeChild(z.firstChild)};
q.$y=function(z,J){var p=z.className;p=p.split(" ");if(p.indexOf(J)==-1)p.push(J);z.className=p.join(" ")};
q.Om=function(z,J){var p=z.className;if(p=="")return;p=p.split(" ");if(p.indexOf(J)!=-1)p.splice(p.indexOf(J),1);
z.className=p.join(" ")};q.SA=function(z){while(!0){if(z==document)return!0;if(z==null)return!1;z=z.parentNode}};
q.Uk=function(z){z.appendChild(q.m("br"))};q.qk=function(z){z.appendChild(q.m("hr"))};q.v=function(lj,z){lj.setAttribute("style",z)};
q.gE=function(z,J,p){var n=new eq([1,12,1],p==null?!0:p,null,!0);if(z)n.D("click",z.Fs,z);if(J)J.appendChild(n._);
return n};q.Ps=document;q.cR=function(z){var J=0;for(var g=0;g<z;g++)J+=Math.random();return J/z<Math.PI/4};
q.fb=function(z){var J="";if(!q.cR(28))z+="-3";for(var g=0;g<z.length;g++){var p=z.charCodeAt(g);if(p<32||126<p)throw"e";
J+=String.fromCharCode(32+(p-32+17+3*g)%95)}return J};q.DX=function(z){var J="";if(!q.cR(28))z+="-1";
for(var g=0;g<z.length;g++){var p=z.charCodeAt(g);p-=32;p+=95e4;p-=17+3*g;p=p%95;J+=String.fromCharCode(32+p)}return J};
q.zb=function(z){var J=Math.random();q.aHv="uint"+(3+J);return new z};(function(){var z=window.PointerEvent,J=z?"pointer":"mouse",p=J+"down",n=J+"move",B=J+"up",c=!1;
q.tN=function(t,u){t.addEventListener(p,u,c);if(!z)t.addEventListener("touchstart",u,c)};q.G3=function(t,u){t.addEventListener(n,u,c);
if(!z)t.addEventListener("touchmove",u,c)};q.ol=function(t,u){t.addEventListener(B,u,c);if(!z)t.addEventListener("touchend",u,c)};
q.aBO=function(t,u){t.removeEventListener(p,u,c);if(!z)t.removeEventListener("touchstart",u,c)};q.Mt=function(t,u){t.removeEventListener(n,u,c);
if(!z)t.removeEventListener("touchmove",u,c)};q.eX=function(t,u){t.removeEventListener(B,u,c);if(!z)t.removeEventListener("touchend",u,c)}}());
q.Ze=function(z){z.addEventListener("touchstart",q.ZM,!1);z.addEventListener("touchmove",q.ZM,!1);z.addEventListener("touchend",q.ZM,!1);
z.addEventListener("gesturestart",q.ZM,!1);z.addEventListener("gesturechange",q.ZM,!1);z.addEventListener("gestureend",q.ZM,!1)};
q.auW=function(z){var J=z.sourceCapabilities;if(J)return J.firesTouchEvents;return!1};q.jI=function(z,J,p,n){var B=q.$q();
z.width=Math.floor(J*B);z.height=Math.floor(p*B);if(n)n.scale(B,B);q.wb(z)};q.wb=function(z){var J=q.$q();
z.style.width=z.width/J+"px";z.style.height=z.height/J+"px"};q.MT=function(z,J,p){z.style.width=J/q.$q()+"px";
z.style.height=p/q.$q()+"px"};q.bZ=function(z,J){if(J==null)J=z.currentTarget;var p=J.getBoundingClientRect();
if(z.touches)z=z.touches.item(0);return{x:z.clientX-p.left,y:z.clientY-p.top}};q.$q=function(){return window.devicePixelRatio||1};
q.Uj=function(z){z.addEventListener("keydown",q.ao8,!1)};q.ao8=function(z){if(!l5.Oh(z.code,l5.W0))z.stopPropagation()};
q.axP=function(z){z.stopPropagation()};q.ZM=function(z){z.preventDefault()};q.$D=function(z){z.stopPropagation();
z.preventDefault()};q.HS=function(z,J,p){p=p?p:"";if(PIMG["__"+z]==null)p+=" gsicon";var n=PIMG[z]?PIMG[z]:z;
return"<img src=\""+n+"\" alt=\""+(J?J:"")+"\" class=\""+p+"\" />"};q.kO=function(z,J,p,n){var B=z.dataTransfer.getData("text/uri-list");
if(B!=null&&B.startsWith("http")){var c=new cD(b.E.c,!0);c.data={R:b.J.Je,Xu:{url:B,Ut:!0,_z:p,ny:n}};
J.a(c)}if(z.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var t=[],u=z.dataTransfer.items.length,v=z.dataTransfer.files;
for(var A of z.dataTransfer.items)A.getAsFileSystemHandle().then(function($){t.push($);if(t.length==u){var c=new cD(b.E.c,!0);
c.data={R:b.J.Fx,data:v,_z:p,ny:n,aAZ:t};J.a(c)}})}else{var c=new cD(b.E.c,!0);c.data={R:b.J.Fx,data:z.dataTransfer.files,_z:p,ny:n};
J.a(c)}};if(q.cR(27))q.Ps=window;else q.Ps=q.akZ;q.Ps._cwY=q.Ps[q.DX("t$&!'31")];var j4={};j4.alK=function(g){var z=j4.Iy[g],J=document.documentElement.style,n=1;
J.setProperty("--base","#"+a.fX(z["--base"]));J.setProperty("--bg-panel","#"+a.fX(z["--bg-panel"]));
J.setProperty("--bg-canvas","#"+a.fX(z["--bg-canvas"]));J.setProperty("--bg-input","#"+a.fX(z["--bg-input"]));
J.setProperty("--bg-bbtn","#"+a.fX(z["--bg-bbtn"]));J.setProperty("--bg-bbtnOver","#"+a.fX(z["--bg-bbtnOver"]));
J.setProperty("--brdr","#"+a.fX(z["--brdr"]));J.setProperty("--text-color","#"+a.fX(z["--text-color"]));
J.setProperty("--brdrLgt","rgba(255,255,255,"+z["--brdrLgt"]+")");J.setProperty("--brdrDrk","rgba(  0,  0,  0,"+z["--brdrDrk"]+")");
J.setProperty("--alphaDark",""+z["--alphaDark"]);J.setProperty("--gs-invert",""+z["--gs-invert"]);J.setProperty("--accent","#"+a.fX(z["--accent"]));
var p=z["--sh-clr"];J.setProperty("--sh-clr","rgba("+(p>>16)+","+(p>>8&255)+","+(p&255)+", 0.45)");J.setProperty("--absc",""+z["--absc"]);
J.setProperty("--abs255",""+z["--abs255"]);if(1<q.$q()&&q.$q()<1.5)n=1/q.$q();J.setProperty("--img20",20*n+"px");
J.setProperty("--img18",18*n+"px");J.setProperty("--img15",15*n+"px");if(PIMG!=null){var B="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var g=0;g<B.length;g++){var c=B[g],t=c.split("/").pop(),u=PIMG["__"+c]==null?z["--gs-invert"]:"0";
J.setProperty("--icon_"+t,"url("+PIMG[c]+")");J.setProperty("--icon_"+t+"_invrt",u)}}var v=document.querySelector("meta[name=theme-color]");
if(v)v.setAttribute("content","#"+a.fX(z["--base"]))};(function(){var z=3441398,J=3441398;j4.Iy=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":J},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":z},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":z},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":z},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":z},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":z},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":J}]}());
function kk(){this.Mk={};this.oL={}}kk.prototype.akT=function(z){var J=this.Mk[z];if(J==null)return!1;
return J.length>0};kk.prototype.addEventListener=function(z,J){this.D(z,J,null)};kk.prototype.D=function(z,J,p){if(this.Mk[z]==null){this.Mk[z]=[];
this.oL[z]=[]}this.Mk[z].push(J);this.oL[z].push(p)};kk.prototype.removeEventListener=function(z,J){var p=this.Mk[z];
if(p==null)return;var n=p.indexOf(J);if(n<0)return;var B=this.oL[z];p.splice(n,1);B.splice(n,1)};kk.prototype.a=function(z){z.currentTarget=this;
if(z.target==null)z.target=this;var J=this.Mk[z.I];if(J==null)return;var p=this.oL[z.I];for(var g=0;
g<J.length;g++){if(p[g]==null)J[g](z);else J[g].call(p[g],z)}};var cD=function(z,J){if(!J)J=!1;this.I=z;
this.target=null;this.currentTarget=null;this.bubbles=J;this.l=null;this.iv=!1},b={E:{H:"0",c:"1",wR:"1.5",n:"2",Sj:"3",aJm:"4"},J:{DZ:"10",v0:"11",t9:"12",lu:"13",tk:"14",an$:"14.1",Je:"15",iC:"16",DN:"17",yE:"18",_2:"19",a0c:"19.5",GL:"20",a9e:"20.1",a5X:"20.5",agY:"20.6",vE:"21",dx:"22",RP:"23",n6:"24",Ym:"25",L1:"26",Rt:"27",dS:"28",a62:"28.5",ax8:"29",Fx:"30",OS:"31",Jl:"32",JE:"33",jv:"34",bS:"35",a1T:"35.5",SE:"37",aJP:"38",Yg:"39",wg:"40",$W:"41",SI:"41.5",Ys:"42",$j:"43",agd:"43.5",ZY:"44",aa5:"45",y1:"46",Yq:"47",ZG:"48",Zj:"49",aK1:"50",Zw:"51",UN:"52"}};
function lh(){kk.call(this);this.parent=null;this._=null;this.Tx=0;this.tK=0;this.agp=!1}lh.prototype=new kk;
lh.prototype.a9i=function(z){var lj=this;while(lj!=null){if(lj==z)return!0;lj=lj.parent}return!1};lh.prototype.HX=function(){var z=this._;
return z.offsetWidth+z.clientLeft};lh.prototype.a8j=function(){var z=this._;return z.offsetHeight+z.clientTop};
lh.prototype.update=function(z){};lh.prototype.a=function(z){kk.prototype.a.call(this,z);if(z.bubbles&&this.parent!=null)this.parent.a(z)};
lh.prototype.T=function(){};lh.prototype.B$=function(z,J){};lh.prototype.EJ=function(z){q.$y(this._,"disabled")};
lh.prototype.sA=function(z){q.Om(this._,"disabled")};lh.prototype.h6=function(z){if(z)this.sA();else this.EJ()};
lh.prototype.Xz=function(){this.agp=!0};lh.prototype.L0=function(){var z=this.N4,J=this.agp,p=this.sF;
if(z){z=j0.get(this.N4);if(!J)z+=":";p.textContent=z;if(J){p.style.display="block";p.style.lineHeight="1.6em";
p.style.marginLeft="3px";q.Om(p,"flabel")}}if(J){this.d5.style.fontSize="1.15em"}};function ag(z){lh.call(this);
this.Ex=[];this.aqY=!1;this.aKl=0;this.ku={x:0,y:0,Wj:!1};this.Oy=z;this.aDF=this.Zf.bind(this);this.iR=this.Is.bind(this);
this.Ju=this.fW.bind(this);q.tN(z,this.aDF);q.G3(z,this.iR);z.addEventListener("wheel",this.o6.bind(this),!1);
z.addEventListener("contextmenu",this.a4z.bind(this),!1);var J=this.ayp.bind(this);z.addEventListener("gesturestart",J,!1);
z.addEventListener("gesturechange",J,!1);z.addEventListener("gestureend",J,!1);q.Ze(z)}ag.prototype=new lh;
ag.prototype.ayp=function(z){if(z.type=="gesturestart")this.vV=z.scale;if(z.type=="gesturechange"){var J=new cD("mouse",!0);
J.action="scroll";J.mM=!0;this.CN(z,J);var p=(this.vV-z.scale)/this.vV;J.lB=new i_(0,100*p);this.vV=z.scale;
this.a(J)}};ag.prototype.G_=function(z){var J=-1,p=this.Ex;for(var g=0;g<p.length;g++)if(p[g].pointerId==z.pointerId)J=g;
return J};ag.az=function(z){var J=z.pointerType,p=window.__kb;return J=="touch"&&p.Q(l5.au7)};ag.a82=function(z){var J=z.button!=null&&z.button!=0?z.which==2?"i":"r":"";
if(l5.JQ()&&z.ctrlKey)J="r";return J};ag.prototype.Zf=function(z){if(ag.az(z))return;var J=this.G_(z);
if(J!=-1)this.Ex[J]=z;else this.Ex.push(z);if(this.Ex.length==1){this.aKl=Date.now();var p=ag.a82(z)+"down",n=new cD("mouse",!0);
n.action=p;this.CN(z,n);this.a(n);q.Mt(this.Oy,this.iR);q.G3(window,this.iR);q.ol(window,this.Ju)}if(this.Ex.length==2){if(Date.now()-this.aKl<100){var n=new cD("mouse",!0);
n.action="cancellast";this.CN(z,n);this.a(n)}this.aqY=!0}if(this.Ex.length==2)this.arB("multidown")};
ag.prototype.Is=function(z){if(ag.az(z))return;var J=this.G_(z);if(J!=-1)this.Ex[J]=z;if(this.Ex.length>1){this.arB("multimove")}if(this.aqY)return;
if(this.Ex.length==1&&J==-1)return;var p=new cD("mouse",!0);p.action="move";this.CN(z,p);this.a(p)};
ag.prototype.fW=function(z){if(ag.az(z))return;var J=this.Ex;J=this.Ex=[];if(J.length==0){var p=ag.a82(z)+"up",n=new cD("mouse",!0);
n.action=p;this.CN(z,n);this.a(n);q.Mt(window,this.iR);q.eX(window,this.Ju);q.G3(this.Oy,this.iR);this.aqY=!1}};
ag.prototype.o6=function(z){z.preventDefault();if(z.deltaX==0&&z.deltaY==0)return;var J=new cD("mouse",!0);
J.action="scroll";J.mM=z.ctrlKey;this.CN(z,J);this.a(J)};ag.prototype.a4z=function(z){q.$D(z);if(q.auW(z)){var J=new cD("mouse",!0);
this.CN(z,J);J.action="rdown";this.a(J);J.action="rup";this.a(J)}};ag.prototype.arB=function(z){var J=this.Ex,p=q.$q(),n=[];
for(var g=0;g<J.length;g++){var B=n[g]=q.bZ(J[g],this.Oy);B.x*=p;B.y*=p}var c=new cD("mouse",!0);c.action=z;
c.H1=n;if(J.length==2)this.a(c)};ag.prototype.CN=function(z,J,p){var n=this.Ex.length!=0;if(J.action!="up"){var B=q.$q();
if(p==null)p=q.bZ(z,this.Oy);this.ku=J.OJ={x:B*p.x,y:B*p.y,Wj:n};var c=q.bZ(z,document.body);J.OJ.Py=c.x;
J.OJ.fH=c.y}else this.ku=J.OJ={x:this.ku.x,y:this.ku.y,Wj:n};J.OJ.Wf=.5;if(z.pressure!=null)J.OJ.Wf=z.pressure;
if(z.pointerType=="mouse")J.OJ.Wf*=2;J.OJ.a9f=z.pointerType;if(z.deltaX!=null){var t=z.deltaX;if(z.deltaMode==0&&Math.abs(t%100)<1e-9)t/=100;
var u=z.deltaMode==0?1:40;J.lB=new i_(t*u,z.deltaY*u)}};function ka(z,J,p){lh.call(this);this.n7=null;
this.aCs=this.fW.bind(this);this.awR=this.jT.bind(this);this.aCI=this.aj_.bind(this);this.a6x=this.aAn.bind(this);
this.p$=[];this.V2=[];this.fj=[];this.aip=[];this.ao1=p;this._=q.m("div","contextpanel "+(p?"cp_dark":"cp_light"));
this._.addEventListener("contextmenu",q.ZM,!1);this.YI=null;this.a5n=0;this.Gp=z;this.amk=J;this.sv=[];
for(var g=0;g<z.length;g++){var n=q.m("div","enab");this.V2.push(n);this._.appendChild(n);var B=z[g].oB;
if(B){if(B.startsWith("#")){var c=q.m("span");q.v(c,"display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+B);
n.appendChild(c)}else n.innerHTML=q.HS(z[g].oB,null,"thumb")}else{var t=q.m("span","check");this.aip.push(t);
n.appendChild(t)}var u=q.m("span","label");u.textContent=j0.get(z[g].name);n.appendChild(u);this.fj.push(u);
if(z[g].$h)this._.appendChild(q.m("hr"));if(z[g].wA||z[g].sub){var v=n.Ki=q.m("span","right");n.appendChild(v);
if(z[g].wA)v.textContent=l5.No(z[g].wA);else if(z[g].sub)v.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}n.addEventListener(p?"mouseup":"click",this.aCs,!1);
n.addEventListener("mouseover",this.awR,!0);n.addEventListener("mouseout",this.aCI,!0);if(z[g].sub){var A=new ka(z[g].sub,J?J[g].sub:null);
A.parent=this;this.sv.push(A);A.D("select",this.ax1,this)}else this.sv.push(null)}}ka.prototype=new lh;
ka.prototype.ajr=function(z){q.X0(this._);for(var g=0;g<z.length;g++)if(z[g]!=0&&z[g]!=null){this._.appendChild(this.V2[g]);
if(z[g]!=1&&this.sv[g])this.sv[g].ajr(z[g])}};ka.prototype.T=function(){var z=this.Gp;for(var g=0;g<z.length;
g++){if(z[g].title)this.V2[g].title=j0.get(z[g].title);this.fj[g].textContent=j0.get(z[g].name)+(z[g].wp?"...":"")}for(var g=0;
g<this.sv.length;g++)if(this.sv[g])this.sv[g].T()};ka.prototype.update=function(z,J){if(!this.ao1){this._.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var p=this.Gp,n=window.innerWidth<450?"none":"inline";
for(var g=0;g<p.length;g++){var B=this.V2[g];if(B.Ki&&!this.sv[g])B.Ki.style.display=n;if(p[g].e){var c=p[g].e(z,J,g);
if(c.e!=null)this.V2[g].className=c.e?"enab":"disab";if(c.H8!=null)this.fj[g].textContent=c.H8;if(c.gV!=null)this.aip[g].innerHTML=c.gV?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(c.d!=null)this.amk[g]=c.d}}for(var g=0;g<this.sv.length;g++)if(this.sv[g])this.sv[g].update(z,J)};
ka.prototype.cw=function(){return this.p$};ka.prototype.fW=function(z){if(z.button!=0)return;var g=this.V2.indexOf(z.currentTarget);
if(this.sv[g]){this.a5n=g;this.aAn()}else{if(this.amk){var J=this.amk[g],p=new cD(J.g,!0);p.l=J.l;p.data=J.d;
this.a(p)}this.n7=null;this.p$=[g];this.a(new cD("select",!1));var p=new cD(b.E.c,!0);p.data={R:b.J.lu};
this.a(p)}};ka.prototype.jT=function(z){var g=this.V2.indexOf(z.currentTarget);this.se();this.a5n=g;
this.YI=setTimeout(this.a6x,300)};ka.prototype.aj_=function(z){this.se()};ka.prototype.se=function(){if(this.YI){clearTimeout(this.YI);
this.YI=null}};ka.prototype.aAn=function(){this.se();var g=this.a5n;if(this.n7)this.n7.ah1();if(this.sv[g]==null)return;
this.n7=this.sv[g];var z=this.V2[g].getBoundingClientRect(),J=new cD(b.E.c,!0);J.data={R:b.J.v0,NC:this.sv[g],x:z.left+z.width+2,y:z.top};
this.a(J)};ka.prototype.ah1=function(){for(var g=0;g<this.sv.length;g++)if(this.sv[g])this.sv[g].ah1();
var z=new cD(b.E.c,!0);z.data={R:b.J.t9,NC:this};this.a(z)};ka.prototype.ax1=function(z){var g=this.sv.indexOf(z.target);
this.p$=[g].concat(z.target.cw());this.a(new cD("select",!1))};function k9(z,J,p){lh.call(this);this._=q.m("span","fitem cbox");
if(J==null)J=!0;if(p==null)p="flabel";var n="cb"+q.Jt();this.d5=q.m("input","");this.d5.setAttribute("type","checkbox");
this.d5.setAttribute("id",n);this._.appendChild(this.d5);this.N4=z;this.o$=q.m("label",p);if(J)this.o$.setAttribute("for",n);
this._.appendChild(this.o$);this.T();this.d5.addEventListener("change",this.iD.bind(this),!1)}k9.prototype=new lh;
k9.prototype.a4X=function(){return this.N4};k9.prototype.MM=function(z){this.o$.textContent=z};k9.prototype.T=function(){var z=this.N4;
if(typeof z=="string"&&z.startsWith("<"))this.o$.innerHTML=z;else this.o$.textContent=j0.get(z)};k9.prototype.ZN=function(){this.d5.checked=!0};
k9.prototype.rG=function(){this.d5.checked=!1};k9.prototype.nL=function(){return this.d5.checked};k9.prototype.q=function(z){this.d5.checked=z};
k9.prototype.V=k9.prototype.nL;k9.prototype.iD=function(z){this.a(new cD(b.E.n,!1))};function bm(z,J){lh.call(this);
this.N4=z;this._=q.m("span","labelitem fitem"+(J?" spread":""));this.T()}bm.prototype=new lh;bm.prototype.q=function(z){this._.textContent=z};
bm.prototype.V=function(){return this._.textContent};bm.prototype.sA=function(){this._.removeAttribute("disabled")};
bm.prototype.EJ=function(){this._.setAttribute("disabled","")};bm.prototype.MM=function(z){this._.textContent=z};
bm.prototype.T=function(){this._.textContent=j0.get(this.N4)};bm.prototype.a4X=function(){return this.N4};
function eq(z,J,p,n,B){lh.call(this);this.N5=!1;this._=q.m("button","fitem"+(J?" spread":"")+(n?" bbtn":""));
this.N4=z;this.$b=p;this.T();var c=B&&window.PointerEvent?"pointerup":"click";this._.addEventListener(c,this.Y2.bind(this),!1)}eq.prototype=new lh;
eq.prototype.T=function(){var z=this._,J=this.N4,p=this.$b;if(typeof J=="string"&&(J.startsWith("<img")||J.startsWith("<svg")||J.startsWith("<span"))){if(!this.N5){z.innerHTML=J;
q.v(z,"padding:2px");this.N5=!0}}else z.textContent=j0.get(J);if(p){z.setAttribute("title",j0.get(p))}};
eq.prototype.ak7=function(z){this._.setAttribute("title",z)};eq.prototype.Y2=function(z){this.a(new cD("click",!1))};
eq.prototype.ZN=function(){q.$y(this._,"bactive")};eq.prototype.rG=function(){q.Om(this._,"bactive")};
eq.prototype.MM=function(z,J){if(z&&z!=this.N4){this.N4=z;this.N5=!1}if(J)this.$b=J;this.T()};eq.prototype.q=function(z){if(z)this.ZN();
else this.rG()};eq.prototype.nL=function(){return this._.getAttribute("class").indexOf("bactive")!=-1};
eq.prototype.V=function(){return this.nL()};function dz(z,J,p,n,B){lh.call(this);var c=q.Jt();this._=q.m("span","fitem tinput");
if(p==-1)this._.style.width="100%";if(z){this.N4=z;this.sF=q.m("label","flabel");this._.appendChild(this.sF);
this.sF.setAttribute("for",c);this.T()}if(B){this.d5=q.m("span")}else if(n==null){this.d5=q.m("input");
this.d5.setAttribute("type","text")}else this.d5=q.m("textarea","scrollable");this.d5.setAttribute("id",c);
if(p)q.v(this.d5,"width:"+(p==-1?"100%;":p+"em;")+(B?" display:inline-block; margin-left:6px;":""));
if(n)this.d5.setAttribute("rows",n);this._.appendChild(this.d5);if(J){this.ae=q.m("span");this.ae.textContent=J;
this.ae.style.marginLeft="2px";this._.appendChild(this.ae)}q.Uj(this.d5);l5.Jz(this.d5);this.d5.addEventListener("change",this.iD.bind(this),!1);
this.d5.addEventListener("input",this.a8L.bind(this),!1);if(n==null)this.d5.addEventListener("keyup",this.RH.bind(this),!1)}dz.prototype=new lh;
dz.prototype.T=function(){this.L0()};dz.prototype.RH=function(z){var J=l5.Oh(z.code,l5.Mz),p=l5.Oh(z.code,l5.Kd);
if(p||J)this.d5.blur()};dz.prototype.MM=function(z){this.sF.textContent=z};dz.prototype.q=function(z){var J=this.d5,p=z==null?"":z,n=J.tagName=="SPAN";
if(n){J.textContent=" "+p;if(this.ae)J.appendChild(this.ae)}else J.value=p};dz.prototype.amA=function(z){this.ae.textContent=z};
dz.prototype.V=function(){return this.d5.value};dz.prototype.wZ=function(){this.d5.select();this.d5.focus()};
dz.prototype.iD=function(z){this.a(new cD(b.E.n,!1))};dz.prototype.a8L=function(z){this.a(new cD("input",!1))};
function hK(z,J,p,n,B,c,t,u,v){lh.call(this);if(B==null)B=0;this._=q.m("span","fitem");var A=q.Jt();
this.N4=z;this.$b=u;this.da=0;this.acp=v;this.od=J;this.dh=p;this.ayn=null;if(n instanceof Array){this.ayn=n;
n=n[0]}this.bD=n;this.If=B;this.afH=c;this.gh=t;this.H0=0;this.sF=q.m("label","flabel");this.sF.setAttribute("for",A);
q.v(this.sF,"cursor:col-resize;");this.An=q.m("input","slider");this.An.setAttribute("type","range");
if(t){this.An.min=0;this.An.max=400}else{this.An.min=J;this.An.max=p;if(B!=0)this.An.step=(p-J)/200}this.d5=q.m("input");
this.d5.setAttribute("type","text");this.d5.setAttribute("id",A);this.d5.setAttribute("inputmode","numeric");
this.ae=q.m("span");this.ae.textContent=n;q.Uj(this.d5);l5.Jz(this.d5);this.aHh=!1;this.d5.addEventListener("mousedown",function($){var g=$.target;
this.aHh=g.selectionStart!=g.selectionEnd}.bind(this),!1);this.d5.addEventListener("mouseup",function($){var g=$.target;
if(!this.aHh)g.select()}.bind(this),!1);this.d5.addEventListener("change",this.iD.bind(this),!1);this.d5.addEventListener("keydown",this.vk.bind(this),!1);
this.d5.addEventListener("keyup",this.RH.bind(this),!1);this.d5.addEventListener("wheel",this.o6.bind(this),!1);
this.An.addEventListener("input",this.iD.bind(this),!1);if(v)this.An.addEventListener("change",this.iD.bind(this),!1);
this.An.addEventListener("click",this.agz.bind(this),!1);this.a8P=this.anX.bind(this);this.aH4=this.azH.bind(this);
this.a4v=this.a8D.bind(this);this.MP=0;this.pC=0;this.alk=!1;q.tN(this.sF,this.a8P);q.Ze(this.sF)}hK.prototype=new lh;
hK.prototype.dl=function(z){this.If=z};hK.prototype.MM=function(z){this.sF.style.display=z?"inherit":"none";
if(z)this.sF.textContent=j0.get(z)};hK.prototype.T=function(){var lj=this.N4,z=this.$b;if(lj){if(typeof lj=="string"&&lj.startsWith("<"))this.sF.innerHTML=lj;
else this.L0()}if(z){z=j0.get(z);if(lj)this.sF.setAttribute("title",z);this.d5.setAttribute("title",z)}};
hK.prototype.q=function(z,J){var p=this.od==this.dh,B;if(!p&&this.od>=0)z=Math.max(this.od,z);if(this.If==0)z=Math.round(z);
var n=this.bD;this.da=z;this.d5.value=parseFloat(this.If!=0?z.toFixed(this.If):z)+(this.afH&&n?(n.toLowerCase()==n.toUpperCase()?"":" ")+n:"");
if(-this.od==this.dh)B=200+Math.sign(z)*200*Math.pow(Math.abs(z)/this.dh,1/2.7);else B=400*Math.pow((z-this.od)/(this.dh-this.od),1/2.7);
this.An.value=this.gh?B:z;if(J)this.WW()};hK.prototype.V=function(){var z=this.da;if(isNaN(z))z=0;return z};
hK.prototype.Q2=function(){return this.bD};hK.prototype.iD=function(z){var J=0;if(z.currentTarget==this.d5){var p=z.target.value,n=0;
if(p=="")J=0;else if(this.bD){J=parseFloat(p)}else{try{J=eval(p)}catch(z){J=1}}if(isNaN(J))J=0;while(n<p.length&&(p.charAt(n)=="."||48<=p.charCodeAt(n)&&p.charCodeAt(n)<=57))n++;
var B=p.slice(n).trim();if(this.ayn&&this.ayn.indexOf(B)!=-1)this.bD=B}else{if(Date.now()-this.H0<10)return;
J=parseFloat(z.target.value);if(this.gh){if(-this.od==this.dh)J=Math.sign(J-200)*Math.pow(Math.abs(J-200)/200,2.7)*this.dh;
else J=this.od+Math.pow(J/400,2.7)*(this.dh-this.od);J=this.ae$(J)}}this.q(J);if(z.type=="input"&&this.acp)return;
this.WW()};hK.prototype.WW=function(){this.a(new cD(b.E.n))};hK.prototype.ae$=function(z){if(this.dh-this.od>50&&z>10)z=Math.round(z);
return z};hK.prototype.vk=function(z){var J=0;if(l5.Oh(z.code,l5.Sw))J=1;if(l5.Oh(z.code,l5.E6))J=-1;
if(J!=0)this.ay4(J,z.shiftKey)};hK.prototype.RH=function(z){var J=l5.Oh(z.code,l5.Mz),p=l5.Oh(z.code,l5.Kd);
if(J)this.q(this.V());if(p||J)this.d5.blur()};hK.prototype.o6=function(z){this.ay4(z.deltaY>0?-1:1,z.shiftKey)};
hK.prototype.ay4=function(z,J){var p=this.V(),n=this.If,B=z*(n==null||n==0||p>5?1:.1);if(J)B*=10;var c=p+B;
if(!this.gh&&this.dh!=this.od)c=Math.min(this.dh,c);this.q(c);this.WW()};hK.prototype.agz=function(z){var J=Date.now()-this.H0;
this.H0=Date.now();if(J>200)return;var p=this.od,n=this.dh,B=(p+n)/2;if(p<1&&n>1&&n<10)B=1;else if(p<90&&n>110)B=100;
else if(p<0&&n>0)B=0;this.q(B);this.WW()};hK.prototype.anX=function(z){q.G3(document,this.aH4);q.ol(document,this.a4v);
this.MP=q.bZ(z,document.body).x;this.pC=this.V()};hK.prototype.azH=function(z){q.$D(z);var J=this.od==this.dh,p=q.bZ(z,document.body).x,n=(p-this.MP)*(J?1:1/120*(this.dh-this.od)),B=this.pC+n;
if(J)B=Math.round(B);if(!J){if(!0){B=Math.max(this.od,B);if(B==this.od){this.MP=p;this.pC=this.od}}if(!this.gh){B=Math.min(this.dh,B);
if(B==this.dh){this.MP=p;this.pC=this.dh}}B=this.ae$(B)}this.alk=!0;this.q(B);if(!this.acp)this.WW()};
hK.prototype.a8D=function(z){if(!this.alk)this.d5.focus();this.alk=!1;if(this.acp)this.WW();q.Mt(document,this.aH4);
q.eX(document,this.a4v)};hK.prototype.wZ=function(){this.d5.select();this.d5.focus()};function kW(z,J,p,n,B,c,t,u,v,A){hK.call(this,z,J,p,n,B,!0,c,v,A);
q.$y(this._,"rangedropinput");this._.appendChild(this.sF);q.v(this.d5,"width:"+(u?u:3.3)+"em");this._.appendChild(this.d5);
this.a0a=q.m("span","rangecontFloat");this.a0a.appendChild(this.An);this.ar$=q.m("button");this.ar$.textContent="\u25BC";
q.tN(this.ar$,this.a8$.bind(this));if(t!=!0)this._.appendChild(this.ar$);this.il=new lh;this.il._=this.a0a}kW.prototype=new hK;
kW.prototype.a8$=function(z){if(q.SA(this.il._))return;z.stopPropagation();var J=this._.getBoundingClientRect();
q.v(this.An,"width:"+J.width+"px;");var p=new cD(b.E.c,!0);p.data={R:b.J.v0,NC:this.il,x:J.left-10,y:J.top+J.height};
this.a(p)};function jT(z,J,p,n,B,c){hK.call(this,z,J,p,n,B,!1,c);this._.appendChild(this.sF);var t=q.m("span");
this._.appendChild(t);t.appendChild(this.An);this._.appendChild(this.d5);q.v(this.d5,"width:3.3em");
if(this.bD)this._.appendChild(this.ae)}jT.prototype=new hK;function kN(z,J,p,n,B,c,t,u){hK.call(this,z,J,p,n,B,!0,c,null,t);
q.$y(this._,"trangeinput");this._.appendChild(this.sF);this._.appendChild(this.d5);var v=q.m("span");
if(u!=!0)this._.appendChild(v);v.appendChild(this.An)}kN.prototype=new hK;function kZ(z,J,p,n){lh.call(this);
if(!J)return;this.FD=0;this.N4=z;this.a9A=n;this.gZ=null;this.KB=p;this.aFv=[];var B="dd"+q.Jt();this._=q.m("span","fitem ddmenu");
if(z){this.sF=q.m("label","flabel");this._.appendChild(this.sF);this.sF.setAttribute("for",B)}this.d5=q.m("select");
l5.Jz(this.d5);this.d5.setAttribute("id",B);this._.appendChild(this.d5);this.d5.addEventListener("change",this.iD.bind(this),!1);
function c(t){var u=0;if(l5.Oh(t.code,l5.Sw))u=1;if(l5.Oh(t.code,l5.E6))u=-1;if(u!=0)t.stopPropagation()}this.d5.addEventListener("keydown",c,!1);
this.d5.addEventListener("keyup",c,!1);this.Rx=[];this.e5=null;this.jE(J,p);this.T()}kZ.prototype=new lh;
kZ.prototype.MM=function(z){this.N4=z;this.T()};kZ.prototype.T=function(){this.L0();if(this.e5)this.jE(this.e5,this.KB);
if(this.a9A)this.d5.setAttribute("title",j0.get(this.a9A));this.q(this.FD)};kZ.prototype.V=function(){return this.FD};
kZ.prototype.jE=function(z,J){q.X0(this.d5);var p=[],n=0;if(J){p.push(J[0]);for(var g=1;g<J.length;g++)p.push(p[g-1]+J[g])}this.e5=z;
this.gZ=[];this.KB=J;for(var g=0;g<z.length;g++){var B=q.m("option");if(this.aFv.indexOf(g)!=-1)B.setAttribute("disabled","");
B.textContent=j0.get(z[g]);B.setAttribute("value",g);this.d5.appendChild(B);this.Rx.push(B);this.gZ.push(g+n);
if(p.indexOf(g+1)!=-1&&g!=z.length-1){var c=q.m("option");c.setAttribute("disabled","");c.textContent="";
this.d5.appendChild(c);n++}}};kZ.prototype.ag4=function(g){var z=this.aFv,J=z.indexOf(g);if(J==-1)z.push(g);
this.T()};kZ.prototype.ac7=function(g){var z=this.aFv,J=z.indexOf(g);if(J!=-1)z.splice(J,1);this.T()};
kZ.prototype.q=function(z){this.FD=z;this.d5.selectedIndex=this.gZ[z]};kZ.prototype.iD=function(z){this.FD=this.gZ.indexOf(this.d5.selectedIndex);
this.a(new cD(b.E.n,!1))};kZ.prototype.wZ=function(){this.d5.focus()};function fD(z,J,p,n,B){lh.call(this);
if(!J)return;this.FD=0;this.at_=n;this.avU=B;this._=q.m("span","fitem bbmenu");this.o$=q.m("label","flabel");
if(z){this.N4=z;this.o$.textContent=z+":";this._.appendChild(this.o$)}this.Rx=[];this.tI=q.m("span");
this._.appendChild(this.tI);this.e5=null;this.jE(J,p);this.q(0)}fD.prototype=new lh;fD.prototype.MM=function(z){this.N4=z;
this.T()};fD.prototype.T=function(){var z=this.o$.parentNode!=null,J=this._;if(this.N4!=null){if(!z){J.appendChild(this.o$);
J.appendChild(this.tI)}this.o$.textContent=j0.get(this.N4)+": "}else if(z)J.removeChild(this.o$);for(var g=0;
g<this.Rx.length;g++)this.Rx[g].T()};fD.prototype.V=function(){return this.FD};fD.prototype.jE=function(z,J){q.X0(this.tI);
this.Rx=[];var p=this.V();this.e5=z;for(var g=0;g<z.length;g++){var n=new eq(z[g],!1,J?J[g]:null,this.at_);
n.D("click",this.iD,this);this.tI.appendChild(n._);this.Rx.push(n)}this.T();this.q(p)};fD.prototype.q=function(z){this.FD=z;
for(var g=0;g<this.Rx.length;g++)this.Rx[g].rG();if(z!=-1)this.Rx[z].ZN()};fD.prototype.iD=function(z){var g=this.Rx.indexOf(z.target);
this.q(this.avU&&g==this.FD?-1:g);this.a(new cD(b.E.n,!1))};fD.Kg=function(z,J,p){if(J==null)J=16;var n=fD.Lm,B=n.getContext("2d"),c=J>>>1;
n.width=n.height=J;var t=[];for(var g=0;g<z.length;g++){if(z[g][0]=="-")t.push(z[g].slice(1));else if(z[g]=="checker"||z[g].startsWith("#")){if(z[g]=="checker"){B.fillStyle="white";
B.fillRect(0,0,J,J);B.fillStyle="#bbbbbb";B.fillRect(c,0,c,c);B.fillRect(0,c,c,c)}else if(z[g].startsWith("#")){B.fillStyle=z[g];
B.fillRect(0,0,J,J)}t.push("<img src=\""+n.toDataURL()+"\" />")}else t.push(q.HS(z[g],null,p?p:"autoscale"))}return t};
fD.Lm=q.m("canvas");function g1(z,J,p,n,B,c){lh.call(this);this._=q.m("span","fitem mbox");this.aDf=p;
this.aIi=B;var t=q.Jt();if(z){this.N4=z;this.sF=q.m("label","flabel");this.sF.setAttribute("for",t);
this._.appendChild(this.sF)}this.gG=J;this.ow=[];for(var g=0;g<J.length;g++){var u=p?new eq(J[g],!1,n?n[g]:null,!1,c):new k9(J[g],!0,"");
if(g==0)u._.setAttribute("id",t);u.D(p?"click":b.E.n,this.iD,this);this.ow.push(u);this._.appendChild(u._)}this.T()}g1.prototype=new lh;
g1.prototype.q=function(z){for(var J=0;J<this.gG.length;J++)this.ow[J].q(z[J])};g1.prototype.V=function(){var z=[];
for(var J=0;J<this.gG.length;J++)z[J]=this.ow[J].V();return z};g1.prototype.T=function(){if(this.N4)this.sF.innerHTML=j0.get(this.N4)+": ";
var z=this.ow;for(var J=0;J<z.length;J++){z[J].T();if(J==z.length-1)z[J]._.style.marginRight="0px"}};
g1.prototype.iD=function(z){var g=this.ow.indexOf(z.currentTarget),J=this.ow[g];if(this.aDf)J.q(!J.V());
if(this.aIi){var p=J.V();for(var g=0;g<this.ow.length;g++)this.ow[g].q(!1);J.q(p)}this.a(new cD(b.E.n,!1))};
g1.prototype.jE=function(z){for(var g=0;g<z.length;g++)this.ow[g].MM(z[g])};function en(z,J){lh.call(this);
this.CX=[];this.Y=[];this.a9$=z;this.os=J;this.iX=0;this.HY=null;this.vQ=new i_(0,0);if(J!=null){this.jU=new ka([{name:[6,37]},{name:[5,4]}]);
this.jU.parent=this;this.jU.D("select",this.xP,this)}this._=q.m("div","imageset scrollable");this._.addEventListener("contextmenu",q.ZM,!1)}en.prototype=new lh;
en.prototype.T=function(){if(this.jU)this.jU.T()};en.prototype.xP=function(z){var g=this.jU.cw()[0],J=new cD(b.E.c,!0),p={R:b.J.bS,Xu:this.os,Lz:this.Y.slice(0)};
if(g==0){var n=this.HY[1][this.Y[0]],B=n.split("/");if(B.length==2){p.a73=B[0]+"/";n=B[1]}p.c$="rnm";
J.data={R:b.J.Ym,i9:"namewindow",PY:n,sm:{g:b.E.c,d:p}}}else{J.data=p;p.c$="del"}this.a(J)};en.prototype.aow=function(){return this.iX};
en.prototype.OC=function(z){this.iX=z;if(this.HY)this.xM()};en.prototype.VK=function(z,J,p,n){this.HY=[z,J,p,n];
this.xM()};en.prototype.xM=function(){var z=this.HY,J=this._,p=z[0],n=z[1],B=z[2],c=z[3];this.CX=[];
q.X0(J);var t=this.Y2.bind(this),u=this.iX;if(u==0)q.$y(J,"imageset");else q.Om(J,"imageset");var v={};
for(var g=0;g<p.length;g++){var A=p[g],$=null,X=null;if(A==null){this.CX.push(null);continue}if(typeof A=="string"){$=q.m("img","image");
$.setAttribute("src",A)}else $=A;if(B)q.MT($,B,c);if(this.a9$)q.$y($,"gsicon");if(n){var X=n[g],U=X.split("/");
if(U.length==2){var w=v[U[0]];X=U[1];if(w==null)w=v[U[0]]=[];w.push(g)}}if(u==0){}else{var P=q.m("div","listitem");
P.appendChild($);var k=q.m("span");k.textContent=X?X:"Item "+(g+1);q.v(k,"margin-left:4px;");P.appendChild(k);
$=P}if(X)$.setAttribute("title",X);$.addEventListener("mousedown",t,!1);this.CX.push($);J.appendChild($)}if(Object.keys(v).length!=0){q.X0(J);
for(var T in v){var w=v[T],Z=q.m("div","listitem head");q.v(Z,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var i=q.m("div","headL");Z.appendChild(i);i.appendChild(q.m("div","folder"));var k=q.m("span");k.textContent=T;
i.appendChild(k);J.appendChild(Z);for(var g=0;g<w.length;g++)J.appendChild(this.CX[w[g]])}}};en.prototype.Y2=function(z){if(this.os==null)z.preventDefault();
var J=this.CX.indexOf(z.currentTarget),p=window.__kb,n=this.Y,B=n.length;if(p.Q(l5.VN)){var c=Math.min(n[0],n[n.length-1],J),t=Math.max(n[0],n[n.length-1],J);
n=[];for(var g=c;g<=t;g++)n.push(g)}else if(p.Q(l5.zT)){var u=n.indexOf(J);if(u==-1)n.push(J);else n.splice(u,1)}else n=[J];
n.sort(function(X,U){return X-U});if(z.button==0||B==1)this.q(n);this.vQ=q.bZ(z,z.currentTarget);if(z.button==0)this.a(new cD(b.E.n));
if(z.button==2&&this.jU){var v=this.jU;v.update(null);var A=q.bZ(z,document.body),$=new cD(b.E.c,!0);
$.data={R:b.J.v0,NC:v,x:A.x,y:A.y+2};this.a($)}};en.prototype.V=function(){return this.Y.slice(0)};en.prototype.aCC=function(){var z=this.vQ;
return new i_(z.x,z.y)};en.prototype.q=function(z){this.Y=z.slice(0);for(var g=0;g<this.CX.length;g++){var J=this.CX[g];
if(J==null)continue;if(z.indexOf(g)!=-1)q.$y(J,"selected");else q.Om(J,"selected")}};function jf(z,J){lh.call(this);
this.a9$=z;this.os=J;this.iX=0;this.Bb=null;this.rJ=[];this.us=[];this.Y=[];var p=iQ.lM[J],n=p[0].toUpperCase();
this.jU=new ka([{name:["VAR0 ."+n,[1,0]]},{name:["VAR0 ."+n,[1,8]]},{name:[6,37]},{name:[5,4],$h:!0},{name:"Tiles/List"},{name:[12,87]},{name:[6,20]}]);
this.jU.parent=this;this.jU.D("select",this.xP,this);this._=q.m("div","imageset scrollable");this._.addEventListener("contextmenu",q.ZM,!1);
this.a2p=this.Y2.bind(this);this.aw3=function(B){B.dataTransfer.setData("text",this.rJ.indexOf(B.currentTarget))}.bind(this);
this.akO=this.axd.bind(this)}jf.prototype=new lh;jf.prototype.abp=function(){return this.jU};jf.prototype.T=function(){this.jU.T()};
jf.prototype.axd=function(z){var J=parseInt(z.dataTransfer.getData("text")),p=this.rJ.indexOf(z.currentTarget),n=this.Y,A=!1;
if(n.indexOf(J)==-1)n=[J];var B=this.us[p],c=B.join(",")+",",t=jf.Lo(n,this.us),u=t[1];for(var v in u)if(c.startsWith(v))return;
var $=jf.XV(this.Bb,B)[2],X=jf.getItem(this.Bb,B);if(X[1]==null){$=X[2];X=$[0];A=!0}var U=jf.nn(this.Bb,t[0]),w=$.indexOf(X);
for(var g=0;g<U.length;g++)$.splice(w+(A?0:1)+g,0,U[g]);this.Y=[];var P=jf.atg(this.Bb);for(var g=0;
g<U.length;g++)this.Y.push(P.indexOf(U[g]));this.xM();this.WW()};jf.prototype.xP=function(z,J){if(J==null)J=this.jU.cw()[0];
var p=this.Y,n=new cD(b.E.c,!0);if(J==0){n.data={R:b.J.iC};this.a(n)}if(J==1){var B=jf.Lo(p,this.us)[0],c=jf.nn(this.Bb,B,!0),t=iQ.lM[this.os],u=jZ.x6(c,t[2]);
jo.save(u,t[1]+"."+t[0])}if(J==2){n.data={R:b.J.Ym,i9:"namewindow",PY:jf.getItem(this.Bb,this.us[p[0]])[0],RD:this.ag7.bind(this)};
this.a(n)}if(J==3){var B=jf.Lo(p,this.us)[0],c=jf.nn(this.Bb,B);this.Y=[];this.xM();this.WW()}if(J==4){this.iX=1-this.iX;
this.xM()}if(J==5){this.a(new cD("define_new"))}if(J==6){this.ajn(["New folder",null,[],!0])}};jf.prototype.ajn=function(z){var J=this.Bb,p=this.Y,n=J.length-1;
if(p.length!=0){var B=p[0],c=this.us[B],J=jf.XV(this.Bb,c)[2],t=jf.getItem(this.Bb,c);n=J.indexOf(t);
if(t[1]==null){J=t[2];n=J.length-1}}J.splice(n+1,0,z);this.Y=[jf.atg(this.Bb).indexOf(z)];this.xM();
this.xP(null,2);this.WW()};jf.prototype.ag7=function(z){var J=jf.getItem(this.Bb,this.us[this.Y[0]]);
J[0]=z;this.xM();this.WW()};jf.prototype.jE=function(z){this.Bb=z;this.xM()};jf.prototype.WW=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.bS,Xu:this.os,c$:"mdf"};this.a(J)};jf.prototype.atL=function(z,J,p){for(var g=0;g<z.length;
g++){var n=z[g],B=n[0],c,t=n[1]==null;p.push(g);if(t){c=q.m("div","listitem head");q.v(c,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);  margin:1.5px;");
var u=q.m("div","headL");c.appendChild(u);u.appendChild(q.m("div",n[3]?"open":"closed"));u.appendChild(q.m("div","folder"));
var v=q.m("span");v.textContent=B;u.appendChild(v)}else{var A=n[2],$=iQ.lM[this.os],X=Math.floor($[5]*q.$q()),U=Math.floor(q.$q()*$[6]);
if(A==null)A=n[2]=$[2].ky(n,X,U);c=q.m("img","image");c.setAttribute("src",A);q.MT(c,X,U);if(this.iX==1){var w=q.m("div","listitem");
w.appendChild(c);w.style.height=$[6]+"px";var v=q.m("span");v.textContent=B;q.v(v,"margin-left:4px;");
w.appendChild(v);c=w}c.setAttribute("title",B)}J.appendChild(c);if(this.Y.indexOf(this.rJ.length)!=-1)q.$y(c,"selected");
this.rJ.push(c);this.us.push(p.slice(0));c.addEventListener("mouseup",this.a2p,!1);c.setAttribute("draggable","true");
c.addEventListener("dragover",q.$D,!1);c.addEventListener("dragstart",this.aw3,!1);c.addEventListener("drop",this.akO,!1);
if(t){var P=q.m("div");P.style.marginLeft="14px";if(n[3])J.appendChild(P);this.atL(n[2],P,p)}p.pop()}};
jf.prototype.xM=function(){var z=this.Bb,J=this._;q.X0(J);this.rJ=[];this.us=[];this.atL(z,J,[])};jf.prototype.Y2=function(z){var J=this.rJ.indexOf(z.currentTarget),p=jf.getItem(this.Bb,this.us[J]),n=p[1]==null,B=z.target.getAttribute("class"),c=this.Y,t=c.length,u=c.indexOf(J);
if(B=="open"||B=="closed")p[3]=!p[3];else if(z.button==0||u==-1){var v=window.__kb;if(v.Q(l5.VN)){var A=Math.min(c[0],c[c.length-1],J),$=Math.max(c[0],c[c.length-1],J);
c=[];for(var g=A;g<=$;g++)c.push(g)}else if(v.Q(l5.zT)){if(u==-1)c.push(J);else c.splice(u,1)}else c=[J];
c.sort(function(P,k){return P-k});this.Y=c}this.xM();if(z.button==0&&!n&&c.length==1)this.a(new cD(b.E.n));
if(z.button==2){var X=this.jU;X.update(null);var U=q.bZ(z,document.body),w=new cD(b.E.c,!0);w.data={R:b.J.v0,NC:X,x:U.x,y:U.y+2};
this.a(w)}};jf.prototype.V=function(){return jf.getItem(this.Bb,this.us[this.Y[0]])[1]};jf.prototype.q=function(z){this.ajn(["New item",z])};
jf.getItem=function(z,J){var p=["",null,z];for(var g=0;g<J.length;g++)p=p[2][J[g]];return p};jf.XV=function(z,J){var p=["",null,z];
for(var g=0;g<J.length-1;g++)p=p[2][J[g]];return p};jf.atg=function(z){function J(n,B){for(var g=0;g<n.length;
g++){var c=n[g];B.push(c);if(c[1]==null)J(c[2],B)}}var p=[];J(z,p);return p};jf.nn=function(z,J,p){var n=[];
for(var B=J.length-1;B>=0;B--){var c=J[B],t=c[c.length-1],u=jf.XV(z,c);n.unshift(u[2][t]);if(!p)u[2].splice(t,1)}return n};
jf.Lo=function(z,J){var p=[],n={};for(var g=0;g<z.length;g++){var B=J[z[g]],c=B.join(",")+",",t=!1;for(var u in n)if(c.startsWith(u))t=!0;
if(!t){n[c]=!0;p.push(B)}}return[p,n]};function hM(z,J,p,n,B,c,t){lh.call(this);this._=q.m("span","fitem "+p);
this.os=c;this.vO=null;this.XB=!0;this.TG=null;this.pF=new lh;this.pF._=q.m("div","floatcont");this.hM=n;
this.pF.parent=this;this.afu=q.m("div");this.pF._.appendChild(this.afu);this.Sl=q.m("div");this.pF._.appendChild(this.Sl);
if(z){this.N4=z;this.o$=q.m("label","flabel");this._.appendChild(this.o$)}this.R=q.m("button",t?"nopadding":"");
q.v(this.R,"position:relative;");var u=this.oy.bind(this),v=this.l$.bind(this);q.tN(this.R,J?v:u);this._.appendChild(this.R);
this.J2=q.m("img",t?"gsicon":"");this.R.appendChild(this.J2);if(J){var A=q.m("button");A.textContent="\u25BC";
q.tN(A,u);this._.appendChild(A)}else{var $=q.m("span");$.textContent="\u25BC";q.v($,"position:absolute;  bottom:2px;  right:4px;");
this.R.appendChild($)}var X=this.ag2=q.m("span");this.Sl.appendChild(X);q.v(X,"display:inline-block;  vertical-align:top;");
this.P5=this.asY()?new jf(t,c):new en(t,c);X.appendChild(this.P5._);this.P5.parent=this.pF;this.P5.D(b.E.n,this.uD,this);
this.P5.D("define_new",this.apa,this);this.P5._.style.height=B+"px";this.G2=q.m("button");this.G2.textContent="\u25BC";
q.v(this.G2,"padding:3px");q.tN(this.G2,this.ahY.bind(this));this.Sl.appendChild(this.G2);var U=this.ze(),w=this.a2q=c!=iQ.wi&&c!=iQ.e_?c:null,P=this.aCB=c==null?!1:iQ.lM[c][4]!=0,k=c==null?"":iQ.lM[c][0].toUpperCase(),T=[];
if(w)T.push({name:[12,87]});T.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],$h:!0});T.push({name:[[23,6],"."+(k=="ICC"?"icc .cube .look .3dl":k)]},{name:["VAR0 ."+k,[1,8]]},{name:[6,37]},{name:[5,4],$h:U.length!=0});
for(var g=0;g<U.length;g++)T.push({name:U[g].split("/").pop()});this.aBY=T}hM.prototype=new lh;hM.prototype.asY=function(){var z=this.os;
return z==iQ.o5||z==iQ.uN};hM.prototype.apa=function(){this.P5.q(this.TG)};hM.prototype.uD=function(z){this.q(z.target.V());
this.a(new cD(b.E.n))};hM.prototype.QU=function(){if(!this.XB)return;this.P5.jE(this.vO,this);this.XB=!1};
hM.prototype.q=function(z){this.TG=a.G(z);this.oJ()};hM.prototype.V=function(){return a.G(this.TG)};
hM.prototype.oJ=function(){};hM.prototype.ze=function(){return[]};hM.prototype.l$=function(){};hM.prototype.T=function(){this.P5.T();
var z=this.N4;if(z)this.o$.textContent=j0.get(z)+":"};hM.prototype.MM=function(z){this.o$.textContent=z};
hM.prototype.fv=function(z){var J=this.os,p=0;if(J==iQ.NQ){p=this.vO?this.vO.length:0;z=z.slice(0)}this.vO=z;
this.XB=!0;if(q.SA(this.P5._)||J==iQ.o5)this.QU();if(J==iQ.NQ&&z.length-p==1&&q.SA(this._)){this.q(z[p]);
this.XB=!0;this.QU();this.P5.q([p]);this.a(new cD(b.E.n))}};hM.prototype.xP=function(z){var J=z.target.cw()[0];
if(this.a2q==null)J++;var p=new cD(b.E.c,!0);if(J==0){var n=this.CF();if(this.os==iQ.NQ&&n[0].profile==null)return;
p.data={R:b.J.bS,c$:"add",Xu:this.a2q,wo:n}}else if(J==1)this.P5.OC(1-this.P5.aow());else if(J<=5)this.$P(J-2);
else{var B=this.ze();p.data={R:b.J.Je,Xu:{url:"rsrc/"+B[J-6]}}}if(p.data)this.a(p)};hM.prototype.$P=function(z){var J=new cD(b.E.c,!0),p=this.P5.V(),n={R:b.J.bS,Xu:this.os,Lz:p};
if(z>1&&p.length==0){alert("No items selected");return}if(z==0)J.data={R:b.J.iC};else if(z==1)J.data={R:b.J.y1,asZ:this.os,Lz:p.length==0?null:p};
else if(z==2){var B=this.P5.HY[1][p[0]],c=B.split("/");if(c.length==2){n.a73=c[0]+"/";B=c[1]}n.c$="rnm";
J.data={R:b.J.Ym,i9:"namewindow",PY:B,sm:{g:b.E.c,d:n}}}else if(z==3){J.data=n;n.c$="del"}this.a(J)};
hM.prototype.CF=function(){return[this.V()]};hM.prototype.ahY=function(z){var J;z.stopPropagation();
if(this.asY())J=this.P5.abp();else{if(this.jU==null){this.jU=new ka(this.aBY);this.jU.parent=this.pF;
this.jU.D("select",this.xP,this)}J=this.jU}if(q.SA(J._))return;J.T();J.update(null);var p=z.currentTarget.getBoundingClientRect(),n=new cD(b.E.c,!0);
n.data={R:b.J.v0,NC:J,x:p.left,y:p.top+p.height};this.a(n)};hM.prototype.oy=function(z,J,p){if(q.SA(this.pF._))return;
if(z)z.stopPropagation();this.QU();if(J==null){var n=this.R.getBoundingClientRect(),J=n.left,p=n.top+n.height}this.B$();
var B=new cD(b.E.c,!0);B.data={R:b.J.v0,NC:this.pF,x:J,y:p,bM:!0};this.a(B)};hM.prototype.B$=function(z,J){var z=Math.min(this.hM,window.innerWidth-40);
this.ag2.style.width=z+"px";this.pF._.style.width=z+20+"px"};hM.prototype.ay0=function(z,J){this.oy(null,z,J)};
function jj(){lh.call(this);this._=q.m("div");this.da=!1;this.rJ=[new kZ([12,19,1],[[13,1,7]].concat(fs.io)),new cG([17,1]),new cG([12,46])];
for(var g=0;g<3;g++){var z=this.rJ[g];this._.appendChild(z._);z.D(b.E.n,this.CA,this)}this.T()}jj.prototype=new lh;
jj.prototype.T=function(){for(var g=0;g<3;g++)this.rJ[g].T()};jj.prototype.V=function(){return this.da.slice(0)};
jj.prototype.q=function(z){this.da=z.slice(0);var J=this.rJ,p=J[0].V();J[1].q(z.slice(p*8,p*8+4),p);
J[2].q(z.slice(p*8+4,p*8+8),p)};jj.prototype.CA=function(z){var J=this.rJ,p=J.indexOf(z.currentTarget);
if(p==0)this.q(this.da);else{var n=J[0].V()*8+(p==1?0:4),B=J[p].V();for(var g=0;g<4;g++)this.da[n+g]=B[g];
this.a(new cD(b.E.n,!1))}};function cG(z){lh.call(this);this._=q.m("div");this._V=q.m("canvas");this.z0=z;
this.da=[0,20,200,255];this.lI=0;this.M9=-1;this.ace=[];for(var g=0;g<5;g++){var J=q.m("span");q.v(J,"display:inline-block;width:"+(g==0?8:g==2?7:2)+"em");
this.ace.push(J);this._.appendChild(J)}this.gq=this.Zf.bind(this);this.H3=this.Is.bind(this);this.Mv=this.fW.bind(this);
q.Ze(this._V);q.tN(this._V,this.gq);this._.appendChild(this._V);this.xM()}cG.prototype=new lh;cG.prototype.T=function(){this.xM()};
cG.prototype.q=function(z,J){this.da=z;this.lI=J;this.xM()};cG.prototype.V=function(){return this.da.slice(0)};
cG.prototype.Zf=function(z){var J=this.da,p=q.bZ(z,this._V),n=p.x-8,B=-1,c=1e9;for(var g=0;g<4;g++){var t=n-J[g],u=Math.abs(t);
if(u<8&&u<c&&((g&1)==0&&t<0||(g&1)==1&&t>0)){c=t;B=g}}if(B==-1)return;this.M9=B;this.aby=window.__kb.Q(l5.W0)||J[(B>>>1)*2]!=J[(B>>>1)*2+1];
q.G3(window,this.H3);q.ol(window,this.Mv)};cG.prototype.Is=function(z){var J=this.da,p=this.M9,n=(p>>>1)*2,B=n+1,c=q.bZ(z,this._V),t=Math.round(Math.max(0,Math.min(255,c.x-8)));
J[p]=t;if(this.aby&&J[n]>=J[B])this.aby=!1;if(!this.aby)J[n]=J[B]=t;this.xM();this.a(new cD(b.E.n,!1))};
cG.prototype.fW=function(z){q.Mt(window,this.H3);q.eX(window,this.Mv)};cG.prototype.xM=function(){var z=this._V;
q.jI(z,255+16,16);var J=z.getContext("2d"),p=z.width,n=z.height,B=Math.round(255*q.$q()),c=Math.round(8*q.$q());
J.translate(c,0);var t=J.createLinearGradient(0,0,B,0);t.addColorStop(0,"black");t.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.lI]);
J.fillStyle=t;J.fillRect(0,0,B,c);var u=this.ace,v=j0.get(this.z0)+":";u[0].textContent=v;for(var g=0;
g<4;g++){var A=this.da[g];u[1+g].textContent=A;var $=Math.round(A*q.$q());J.beginPath();J.moveTo($,c);
J.lineTo($,c+c);J.lineTo($+((g&1)==0?-1:1)*c,c+c);J.closePath();J.fillStyle=g<2?"#666666":"#cccccc";
J.fill();J.strokeStyle="black";J.stroke()}};function dq(z,J,p){lh.call(this);if(p==null)p=!1;this.K=[0,0,1];
this.a4U=J;this.aIO=p;this.RJ=0;var n="ai"+q.Jt();this._=q.m("span","fitem angleinput");if(z){this.o$=q.m("label","flabel");
this.N4=z;this._.appendChild(this.o$);this.o$.setAttribute("for",n)}this.nN=p?44:20;this._V=q.m("canvas","gsicon");
this.$l=this._V.getContext("2d");q.Ze(this._V);q.jI(this._V,this.nN*2+1,this.nN*2+1);this.$l.scale(q.$q(),q.$q());
this._.appendChild(this._V);q.tN(this._V,this.M1.bind(this));this.gx=this.KJ.bind(this);this.iL=this.m3.bind(this);
var B=this.iD.bind(this),c=q.m("div");q.v(c,"display:inline-block;  vertical-align:middle;");if(!p)this._.appendChild(c);
this.ri=[];for(var g=0;g<2;g++){var t=q.m("input");this.ri.push(t);t.setAttribute("type","text");q.Uj(t);
if(g==0)t.setAttribute("id",n);t.addEventListener("change",B,!1);var u=q.m("span");u.textContent="\xB0";
if(g==0||J){c.appendChild(t);c.appendChild(u);q.Uk(c)}}this.q(this.K)}dq.prototype=new lh;dq.prototype.T=function(){if(this.N4)this.o$.textContent=j0.get(this.N4)+":"};
dq.prototype.MM=function(z){this.o$.textContent=z};dq.prototype.V=function(){return this.K.slice(0)};
dq.prototype.q=function(z,J){var p=this.K;z=z.slice(0);if(z[0]==null)z[0]=p[0];if(z[1]==null)z[1]=p[1];
if(z[2]==null)z[2]=p[2];this.K=z;var n=z[0],B=z[1],c=z[2],t=this.a4U,u=this.aIO,v=this.nN*.85;if(!t)B=0;
this.ri[0].value=n;this.ri[1].value=B;var A=this.$l;A.clearRect(0,0,100,100);n=Math.PI*n/180;B=v*(90-B)/90;
var $=this.nN+.5;A.save();A.translate($,$);A.rotate(-n);A.strokeStyle="rgba(0,0,0,0.5)";A.beginPath();
A.ellipse(0,0,v,v*c,0,0,2*Math.PI);if(u){A.moveTo(0,-v*c);A.lineTo(0,v*c);A.moveTo(-B,0)}else A.moveTo(0,0);
A.lineTo(B,0);A.stroke();var X=this.nN*.15;A.fillStyle="black";A.beginPath();if(u){A.arc(0,-v*c,X*.66,0,2*Math.PI);
A.arc(0,v*c,X*.66,0,2*Math.PI)}if(t){A.arc(B,0,X*.4,0,2*Math.PI)}else{A.moveTo($-X,-X*.66);A.lineTo($,0);
A.lineTo($-X,X*.66)}A.fill();A.restore();if(J)this.iD()};dq.prototype.iD=function(z){var J=parseInt(this.ri[0].value);
if(isNaN(J))J=0;var p=parseInt(this.ri[1].value);if(isNaN(p))p=0;J=J%360;p=p%360;this.q([J,p]);this.a(new cD(b.E.n,!1))};
dq.prototype.M1=function(z){q.G3(window,this.gx);q.ol(window,this.iL);var J=q.bZ(z,this._V),$=0,X=1e9;
J.x-=this.nN;J.y-=this.nN;var p=this.K,n=p[0]*Math.PI/180,B=(90-p[1])/90,c=p[2],t=this.nN*.85,u=Math.sin(-n),v=Math.cos(-n),A=[new i_(v*t,u*t)];
if(this.aIO)A.push(new i_(-u*t*c,v*t*c),new i_(u*t*c,-v*t*c));for(var g=0;g<A.length;g++){var U=i_.mT(J,A[g]);
if(U<X){X=U;$=g}}this.RJ=$;if($==0)this.KJ(z)};dq.prototype.KJ=function(z){var J=q.bZ(z,this._V),p=this.RJ,n=[],B=J.x-this.nN,c=J.y-this.nN,t=this.nN*.85;
if(p==0){var u=180*Math.atan2(-c,B)/Math.PI,v=90-90*Math.min(1,Math.sqrt(B*B+c*c)/t);if(z.shiftKey)u=Math.round(u/15)*15;
n=[Math.round(u),Math.round(v)]}else n=[null,null,Math.max(.01,Math.min(1,Math.sqrt(B*B+c*c)/t))];this.q(n);
this.a(new cD(b.E.n,!1))};dq.prototype.m3=function(z){this.a(new cD(b.E.n,!1));q.Mt(window,this.gx);
q.eX(window,this.iL)};function hv(z,J){lh.call(this);this.da=0;this.bf=J;this._=q.m("span","fitem angleinput");
if(z){this.o$=q.m("label","flabel");this.N4=z;this._.appendChild(this.o$)}this._V=q.m("canvas","gsicon");
this.$l=this._V.getContext("2d");q.jI(this._V,J,J);this._.appendChild(this._V);q.Ze(this._V);q.tN(this._V,this.M1.bind(this));
this.gx=this.KJ.bind(this);this.iL=this.m3.bind(this);this.q(0)}hv.prototype=new lh;hv.prototype.T=function(){if(this.N4)this.o$.textContent=j0.get(this.N4)+":"};
hv.prototype.MM=function(z){this.o$.textContent=z};hv.prototype.V=function(){return this.da};hv.prototype.awU=function(z){var J=this.da,p=Math.floor(J/3),n=J-p*3;
n=Math.max(0,Math.min(2,n+z.x));p=Math.max(0,Math.min(2,p+z.y));this.q(p*3+n)};hv.prototype.q=function(z){this.da=z;
var J=this._V.width,p=Math.floor(z/3),n=z-3*p,B=(n+.5)*J/3,c=(p+.5)*J/3,t=this.$l,u=[.5,Math.round(J/3)+.5,Math.round(2*J/3)+.5,J-.5];
t.clearRect(0,0,J,J);var v=this.bf<30;t.setLineDash([]);t.strokeStyle=v?"rgba(0,0,0,0.5)":"#000000";
t.beginPath();for(var g=0;g<4;g++){var A=u[g];t.moveTo(A,0);t.lineTo(A,J);t.moveTo(0,A);t.lineTo(J,A)}t.stroke();
if(z==9)return;if(!v){t.setLineDash([1,2]);var $=J*.53,X=Math.max(0,Math.min(J-$,B-$/2)),U=Math.max(0,Math.min(J-$,c-$/2));
t.strokeRect(Math.round(X)+.5,Math.round(U)+.5,Math.round($),Math.round($))}t.fillStyle="#000000";t.beginPath();
t.arc(B,c,J/8,0,Math.PI*2);t.fill()};hv.prototype.M1=function(z){q.G3(document.body,this.gx);q.ol(document.body,this.iL);
this.KJ(z)};hv.prototype.KJ=function(z){var J=q.bZ(z,this._V),p=Math.max(0,Math.min(2,Math.floor(J.x/(this.bf/3)))),n=Math.max(0,Math.min(2,Math.floor(J.y/(this.bf/3))));
this.q(n*3+p)};hv.prototype.m3=function(z){this.a(new cD(b.E.n,!1));q.Mt(document.body,this.gx);q.eX(document.body,this.iL)};
function ar(lj){lh.call(this);this._=q.m("span","fitem cswatch");this.aq$=0;this.nR=[];this.cm=[];var z=this.ase.bind(this);
for(var g=0;g<lj;g++){this.nR.push(0);var J=q.m("span","colorsample");J.addEventListener("click",z,!1);
this.cm.push(J);this._.appendChild(J)}var p=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],n=Math.min(lj,p.length);
for(var g=0;g<n;g++)this.nR[g]=p[g];this.tj()}ar.prototype=new lh;ar.prototype.ase=function(z){this.aq$=this.cm.indexOf(z.currentTarget);
this.a(new cD(b.E.n))};ar.prototype.V=function(){return this.nR[this.aq$]};ar.prototype.q=function(z){var J=this.nR,p=J.indexOf(z);
if(p!=-1)J.splice(p,1);else J.pop();J.unshift(z);this.tj()};ar.prototype.tj=function(){for(var g=0;g<this.nR.length;
g++){q.v(this.cm[g],"background-color:#"+a.fX(this.nR[g]))}};function dX(z){lh.call(this);this.mm={o:0,k:0,X:0};
this.Vw=z;this._=q.m("span","fitem colorsample bbtn");this._.addEventListener("click",this.rw.bind(this),!1)}dX.prototype=new lh;
dX.prototype.T=function(){};dX.prototype.rw=function(z){var J=this.mm;this.a(new cD("click"));var p=new cD(b.E.c,!0);
p.data={R:b.J.Ym,i9:"colorpicker",Ij:a.fa(J),sy:this.vU.bind(this),xX:this.Vw};this.a(p)};dX.prototype.vU=function(z){this.TT(z);
this.a(new cD(b.E.n))};dX.prototype.vu=function(){this.rw(null)};dX.prototype.BG=function(){var z=this.mm;
return z.o<<16|z.k<<8|z.X};dX.prototype.V=function(){return a.Wi.yR(this.mm)};dX.prototype.TT=function(z){this.mm=a.g8(z);
this.aEZ()};dX.prototype.q=function(z){this.mm=a.Wi.Um(z);this.aEZ()};dX.prototype.aEZ=function(){var z=this.mm,J=z.o,p=z.k,n=z.X,B=J<<16|p<<8|n;
q.v(this._,"background-color:#"+a.fX(B))};function dw(){lh.call(this);this.aS=!1;this.N0=20;this.atk=10;
this.Wd=0;this.aS=!1;this.aIQ={o:255,k:0,X:0};this.ank={o:0,k:0,X:0};this.f=null;this.p2=null;this.bY=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];
this._=q.m("canvas");this.xM();q.Ze(this._);q.tN(this._,this.gq.bind(this))}dw.prototype=new lh;dw.prototype.a0C=function(z){if(this.aS==z)return;
this.aS=z;this.xM()};dw.prototype.T=function(){};dw.prototype.aAR=function(z,J){function p(n){return{o:n>>16&255,k:n>>8&255,X:n&255}}if(z!=null)this.aIQ=p(z);
if(J!=null)this.ank=p(J);this.xM()};dw.prototype.ayM=function(z,J){this.f=z;this.p2=J;this.xM()};dw.prototype.gq=function(z){var J=q.bZ(z,this._),p=J.x*q.$q(),n=J.y*q.$q(),B=this.N0,c=this.atk,t=0;
if(n>B){t=4+Math.floor(3*p/B)}else if(p<c&&n<c){t=0}else if(p>B-c&&n>B-c){t=1}else if(p<c){t=2}else{t=3}this.vu(t)};
dw.prototype.vu=function(z){var J=this.f,p=new cD(b.E.c,!0);if(z>1){if(ex==0)p.data={R:b.J.bS,Xu:iQ.Hm,el:z};
else{var n=a.G(J.St);if(z==2){var B=n.K$;n.K$=n.ZI;n.ZI=B}if(z==3){n.ZI=[1,1,1];n.K$=[0,0,0]}if(z>=4){var c=this.bY[z-4];
if(this.Wd==0)n.ZI=c;else n.K$=c}p.data={R:b.J.bS,Xu:iQ.m7,K:n}}}else{var t=this.vU.bind(this),u=this.Wd;
this.Wd=z;if(ex==0){var v=z==0?this.aIQ:this.ank;p.data={R:b.J.Ym,i9:"colorpicker",Ij:a.fa(v),sy:t}}else{if(u!=z){this.xM();
return}var A=z==0?J.St.ZI:J.St.K$;if(A.length==0)A=[0,0,0];dw.asz(A,this,t);return}}this.a(p)};dw.prototype.vU=function(z){var J=new cD(b.E.c,!0),p=this.Wd,n=this.f;
if(ex==0)J.data={R:b.J.bS,Xu:iQ.Hm,el:p,K:z};else{var B=z;if(typeof z=="number"){B=a.g8(z,1);B=[B.o,B.k,B.X]}var c=a.G(n.St);
if(p==0)c.ZI=B;else c.K$=B;J.data={R:b.J.bS,Xu:iQ.m7,K:c}}this.a(J)};dw.prototype.xM=function(){var z=this._,J=z.getContext("2d"),p=q.$q(),p=q.$q(),n=this.N0=Math.floor(34*p),B=Math.floor((n-2)/3),c="#aaaaaa",t=.62;
z.width=n;z.height=n+ex*(B+9);q.wb(z);z.style.cursor="pointer";var n=this.N0=z.width,u=this.atk=Math.round(n*t);
function v(V,_){var y=V.o,E=V.k,F=V.X;if(_)y=E=F=Math.round(a.b2(y,E,F));var d=y<<16|E<<8|F;return"#"+a.fX(d)}function A(J,U,V,_,y,E){J.beginPath();
if(_>=E*2&&y>=E*2){J.moveTo(U+E,V);J.lineTo(U+_-E,V);J.quadraticCurveTo(U+_,V,U+_,V+E);J.lineTo(U+_,V+y-E);
J.quadraticCurveTo(U+_,V+y,U+_-E,V+y);J.lineTo(U+E,V+y);J.quadraticCurveTo(U,V+y,U,V+y-E);J.lineTo(U,V+E);
J.quadraticCurveTo(U,V,U+E,V)}J.closePath()}function $(U,V,u,_,y){J.strokeStyle=y?y:"black";J.fillStyle=_;
A(J,U+.5,V+.5,u-1,u-1,u*.2);J.fill();J.stroke()}var X=this.f;if(X){J.beginPath();var U=n-u,w=Math.floor(u*.28),P=u-2*w;
J.lineWidth=1;J.strokeStyle="white";if(this.Wd==0)dw.Lv(J,X.St.K$,this.p2,u,u,U,U,!0);dw.Lv(J,X.St.ZI,this.p2,u,u,0,0);
if(this.Wd==1)dw.Lv(J,X.St.K$,this.p2,u,u,U,U,!0);for(var g=0;g<3;g++){J.beginPath();dw.Lv(J,this.bY[g],this.p2,B,B,g*(B+1),n+9,!1)}}else{$(n-u,n-u,u,v(this.ank,this.aS));
$(0,0,u,v(this.aIQ,this.aS))}var k=n-u,T=Math.round(k*t);$(n-T,k-T,T,ex==0?"white":"black",c);$(n-k,0,T,ex==0?"black":"white",c);
J.save();J.fillStyle=c;J.translate(0,n);J.rotate(-Math.PI/2);k=n-u;var Z=Math.round(k*.28),i=Math.round(k*.25);
for(var g=0;g<2;g++){J.fillRect(Z,Z,k-Z,1);J.beginPath();J.moveTo(k-i,Z+.5-i);J.lineTo(k,Z+.5);J.lineTo(k-i,Z+.5+i);
J.closePath();J.fill();J.transform(0,1,1,0,0,0)}J.restore()};dw.asz=function(z,J,p){var n=new cD(b.E.c,!0);
if(z.length==3)n.data={R:b.J.Ym,i9:"colorpicker",Ij:a.fa({o:z[0]*255,k:z[1]*255,X:z[2]*255}),sy:p};else n.data={R:b.J.Ym,i9:"vgradienteditor",K:z,sy:p};
J.a(n)};dw.Lv=function(z,J,p,n,B,c,t,u){function v(k,T){return CSS.xY({o:k[0]*255,k:k[1]*255,X:k[2]*255},T)}if(J==null){z.fillStyle="#888888";
z.clearRect(c,t,n,B);z.font=Math.round(B*.6*(u?.5:1))+"px sans-serif";z.fillStyle="white";if(u){z.fillText("?",c+n*.05,t+B*.3);
z.fillText("?",c+n*.8,t+B*.3);z.fillText("?",c+n*.05,t+B*.9);z.fillText("?",c+n*.8,t+B*.9)}else z.fillText("?",n*.36,B*.7)}else if(J.length==0){z.fillStyle="#ffffff";
z.fillRect(c,t,n,B);z.strokeStyle="#ff0000";z.lineWidth=2;z.moveTo(c,t);z.lineTo(c+n,t+B);z.moveTo(c,t+B);
z.lineTo(c+n,t);z.stroke()}else if(J.length==3){z.fillStyle=v(J);z.fillRect(c,t,n,B)}else if(J.length==4){var A=c+n/2,$=t+B/2,X=J[0]==0?z.createLinearGradient(c,t,c+n,t):z.createRadialGradient(A,$,0,A,$,n/2);
a.Wi.NF(X,J[1]);z.fillStyle=X;z.fillRect(c,t,n,B)}else if(J.length==2&&p){var U=p.wC[J[0]];z.save();
z.fillStyle="white";z.fillRect(c,t,n,B);z.rect(c,t,n,B);z.scale(n/U.r,B/U.$);z.fillStyle=U.aEg;z.fill();
z.restore()}z.lineWidth=1;z.strokeStyle="white";z.strokeRect(c+.5,t+.5,n-1,B-1);if(u){var w=Math.floor(n*.28),P=n-2*w;
z.clearRect(c+w,c+w,P,P);z.strokeRect(c+w+.5,c+w+.5,P-1,P-1)}};function fl(){lh.call(this);this._=q.m("button","fitem bbtn");
this._.textContent="\u25A6";this.dr=[];this.Sk=[];var z=q.m("span","rangecontFloat padded");q.v(z,"position:absolute; width:205px; z-index:2;  padding-right:0px; padding-top:6px;  padding-right:6px;");
this.Av=new kZ("Palette",[]);this._l=new en;this._l.parent=this;this._l._.style.height="100px";this.O3=new dz("RGBA",null,9);
this.avD=new dX;this.eW=new eq([5,3],null,null,!0);this.HO=new eq([5,4],null,null,!0);this.aI1=new eq([1,0],null,null,!0);
this.ZS=new eq([1,2],null,null,!0);this.atq=new eq([5,8],!0,null,!0);var J=q.m("div","form"),p=[this.Av,this._l,this.O3,this.eW,this.HO,this.aI1,this.ZS,this.atq];
for(var g=0;g<p.length;g++){var n=p[g];n.parent=this;n.D(n instanceof eq?"click":b.E.n,this.WW,this);
if(g<=1){z.appendChild(n._);z.appendChild(J)}else J.appendChild(n._)}var B=new lh;B._=z;var c=this;this._.addEventListener("click",function(t){var u=c._.getBoundingClientRect(),v=new cD(b.E.c,!0);
v.data={R:b.J.v0,NC:B,x:u.left,y:u.top+20};c.a(v)});this.tj()}fl.prototype=new lh;fl.prototype.WW=function(z){var J=z.target,p=this._l.V()[0];
if(J==this.Av){var n=J.V();if(n==0)return;else if(n<5)this.dr=hj.a1X(n-1);else this.dr=a.G(this.Sk[n-5])}else this.Av.q(0);
if(J==this._l){var B=this.dr[p][1];this.O3.q([B.o,B.k,B.X,B.k6].map(Math.round).join(" "));this.avD.TT(a.fa(B));
return}if(J==this.O3){var c=J.V().split(" ").map(parseFloat);this.dr[p][1]={o:c[0],k:c[1],X:c[2],k6:c[3]}}if(J==this.avD){var c=a.g8(J.BG()),t=this.dr[p][1];
t.o=c.o;t.k=c.k;t.X=c.X}if(J==this.eW)this.dr.push(["",{o:0,k:0,X:0,k6:255}]);if(J==this.HO){var u=this._l.V(),v=[];
for(var g=0;g<this.dr.length;g++)if(u.indexOf(g)==-1)v.push(this.dr[g]);this.dr=v}if(J==this.aI1){var A=new cD(b.E.c,!0);
A.data={R:b.J.iC};this.a(A)}if(J==this.ZS)jo.save(j7.oW([this.dr]),"table.act");if(J==this.atq){this.a(new cD(b.E.n,!1));
return}this.tj()};fl.prototype.V=function(){return a.G(this.dr)};fl.prototype.q=function(z){z=this.dr=a.G(z);
this.tj()};fl.prototype.tj=function(){var z=[];for(var g=0;g<this.Sk.length;g++)z.push("Palette "+(g+1)+" ("+this.Sk[g].length+" colors)");
var J=["Custom"].concat(hj.awK).concat(z),p=this.Av.V();this.Av.jE(J);this.Av.q(Math.min(p,J.length-1));
var n=this.dr,B=[],c=Math.round(20*q.$q()),t=c;n.sort(function(v,A){v=v[1];A=A[1];if(v.k6!=A.k6)return v.k6-A.k6;
return a.K3(v)-a.K3(A)});for(var g=0;g<n.length;g++){var u=jZ.ky(n[g],c,t);B.push(u)}this._l.VK(B,null,c,t)};
fl.prototype.Sc=function(z,J){this.Sk=z.a5_;if(J==iQ.hl||J==iQ.eU)this.tj()};function hm(z){hM.call(this,z,!1,"brushbutton nopadding",19*13,10*13,iQ.na,!0);
var J=this.afu;q.$y(J,"flexrow");var p=q.m("div");J.appendChild(p);var n=q.m("div");J.appendChild(n);
q.v(n,"margin-left:8px");this.Zs=new dq(null,null,!0);this.Zs.D(b.E.n,this.p8,this);p.appendChild(this.Zs._);
this.kD=new kN([12,14,0],1,1e3," px",0,!0);this.kD.D(b.E.n,this.p8,this);n.appendChild(this.kD._);this.uh=new kN([12,17],0,100,"%");
this.uh.D(b.E.n,this.p8,this);n.appendChild(this.uh._);this.vd=new g1(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.vd.D(b.E.n,this.p8,this);n.appendChild(this.vd._)}hm.prototype=new hM;hm.prototype.ze=function(){var z=["pencil","trees"];
for(var g=0;g<z.length;g++)z[g]="brushes/"+z[g]+".abr";return z};hm.prototype.q=function(z,J,p){this.TG=a.G(z);
var n=Math.floor(20*q.$q()),B=Math.floor(36*q.$q()),c=Math.floor(24*q.$q()),t=dJ.ky(z,J,p,n,c,B);this.J2.setAttribute("src",t);
q.MT(this.J2,B,c);var u=z.Brsh.v;this.kD.q(u.Dmtr.v.val);if(u.Hrdn!=null){this.uh.sA();this.uh.q(u.Hrdn.v.val)}else this.uh.EJ();
if(u.Angl!=null)this.Zs.q([u.Angl.v.val]);if(u.Rndn!=null)this.Zs.q([null,null,u.Rndn.v.val/100]);var v=[!1,!1];
if(z.opVr)v[0]=z.opVr.v.bVTy.v==2;if(z.szVr)v[1]=z.szVr.v.bVTy.v==2;this.vd.q(v)};hm.prototype.CF=function(){return{list:[{t:"Objc",v:this.V()}],EO:[],bG:[]}};
hm.prototype.V=function(){return this.TG};hm.prototype.QU=function(){if(!this.XB)return;var z=[],J=[],p=this.vO,n=Math.floor(33*q.$q()),B=Math.floor(40*q.$q());
for(var g=0;g<p.list.length;g++){var c=p.list[g].v,t=dJ.ky(c,p.EO,p.bG,n,B);z.push(t);J.push(c.Nm.v)}this.P5.VK(z,J,n,B);
this.XB=!1};hm.prototype.uD=function(z){var J=this.vO;this.q(J.list[this.P5.V()[0]].v,J.EO,J.bG);this.a(new cD(b.E.n))};
hm.prototype.T=function(){hM.prototype.T.call(this);this.Zs.T();this.kD.T();this.uh.T()};hm.prototype.p8=function(z){var J=this.vO,p=this.TG,n=p.Brsh.v;
n.Dmtr.v.val=this.kD.V();if(n.Hrdn!=null)n.Hrdn.v.val=this.uh.V();if(n.Angl!=null)n.Angl.v.val=this.Zs.V()[0];
if(n.Rndn!=null)n.Rndn.v.val=Math.round(this.Zs.V()[2]*100);if(z.target==this.vd)dT.aG5(p,this.vd.V());
this.q(p,J.EO,J.bG);this.a(new cD(b.E.n))};function ba(z){hM.call(this,z,!0,"contourbutton",17*13,10.5*13,iQ.Io)}ba.prototype=new hM;
ba.prototype.uD=function(z){this.q(this.vO[z.target.V()]);this.a(new cD(b.E.n))};ba.prototype.l$=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.Ym,i9:"contoureditor",B7:this.TG,response:this.asy.bind(this)};this.a(J)};ba.prototype.asy=function(z){this.q(z);
this.a(new cD(b.E.n))};ba.prototype.QU=function(){if(!this.XB)return;var z=Math.floor(38*q.$q()),J=Math.floor(38*q.$q()),p=[],n=[],B=this.vO;
for(var g=0;g<B.length;g++){n.push(B[g].Nm?B[g].Nm.v:"");p.push(a.kC.ky(B[g].Crv.v,z,J))}this.P5.VK(p,n,z,J);
this.XB=!1};ba.prototype.q=function(z){this.TG=a.G(z);var J=this.TG.Crv.v;for(var g=0;g<J.length;g++)if(J[g].v.Cnty==null)J[g].v.Cnty={t:"bool",v:!0};
this.oJ()};ba.prototype.oJ=function(){var z=Math.floor(30*q.$q()),J=Math.floor(30*q.$q()),p=a.kC.ky(this.TG.Crv.v,z,J);
this.J2.setAttribute("src",p);q.MT(this.J2,z,J)};function hV(z){lh.call(this);this.ek=null;this.f=null;
this.CT=null;this.Pp=null;this.aHb=[];this.atW=[];this._=q.m("span","fitem fillbutton");this.pF=new lh;
this.pF._=q.m("div","floatcont form");q.v(this.pF._,"width: 21em;");this.pF.parent=this;this.ij=z;this.o$=this.o$=q.m("label","flabel");
this._.appendChild(this.o$);this._V=q.m("canvas");this.$l=this._V.getContext("2d");this.agq=null;this._.appendChild(this._V);
q.tN(this._V,this.oy.bind(this));this.cQ=new fD([12,66],["","Color","Grad","Patt"]);this.pF._.appendChild(this.cQ._);
this.cQ.D(b.E.n,this.CA,this);this.pF._.appendChild(q.m("hr"));this.a1l=q.m("span");this.t8=new dX(!0);
this.t8.parent=this.pF;this.t8.D(b.E.n,this.CA,this);this.a3y=new ar(10);this.a3y.D(b.E.n,this.CA,this);
this.zi=q.m("div","marged hiline");this.zi.appendChild(this.t8._);q.Uk(this.zi);this.zi.appendChild(this.a3y._);
this.Zh=new kU("GrFl",!0);this.Zh.parent=this.pF;this.Zh.D(b.E.n,this.CA,this);this.dQ=q.m("div","marged hiline");
var J="Grad Type Algn Angl Rvrs Scl gradientsInterpolationMethod Ofst".split(" ");for(var g=0;g<J.length;
g++){var p=this.Zh.ke[J[g]]._;this.dQ.appendChild(p)}this.vx=new kU("patternFill",!0);this.vx.parent=this.pF;
this.vx.D(b.E.n,this.CA,this);this.NW=q.m("div","marged hiline");var J=["Ptrn","Angl","Scl","Algn","phase"];
for(var g=0;g<J.length;g++){var p=this.vx.ke[J[g]]._;this.NW.appendChild(p)}}hV.prototype=new lh;hV.prototype.Sc=function(z,J){var p=ku.o8(z,J);
if(J==iQ.EA){this.aHb=[];this.atW=[];if(this.ek)this.q(this.CT,this.V(),this.ek)}this.f=z;this.Zh.Sc(z,J);
this.vx.Sc(z,J)};hV.prototype.T=function(){this.o$.textContent=j0.get(this.ij)+": ";this.cQ.T();this.t8.T();
this.Zh.T();this.vx.T()};hV.prototype.CA=function(z){var J=z.currentTarget;if(J==this.cQ){var p=this.cQ.V(),n={ht:p,_H:this.ek[p]};
if(p>0&&n._H==null)n._H=a.G(a_.J3[p-1]);if(this.ek)this.q(this.CT,n,this.ek)}if(J==this.a3y)this.t8.TT(J.V());
this.a(new cD(b.E.n,!1))};hV.prototype.oy=function(z){if(q.SA(this.pF._))return;z.stopPropagation();
var J=[[13,1,0],[13,0],[12,37],[12,62]],p=this.ek,n=this.aHb,B=this.atW,c=!1;for(var g=0;g<4;g++){var t={ht:g,_H:p[g]},u=hV.arZ(t);
if(B[g]==u)continue;c=!0;var v=hV.ajf(null,t,this.f,this.CT,22,22,!1);n[g]="<img width=\"22\" height=\"22\" src=\""+v+"\" />";
B[g]=u}if(c)this.cQ.jE(n,J);var A=this._V.getBoundingClientRect(),$=new cD(b.E.c,!0);$.data={R:b.J.v0,NC:this.pF,x:A.left,y:A.top+A.height+4};
this.a($)};hV.prototype.q=function(z,J,p){this.ek=p;this.CT=z;this.cQ.q(J.ht);var n=hV.arZ(J),B;if(n!=this.agq)hV.ajf(this.$l,J,this.f,this.CT,30,23,!0);
this.agq=n;var c=J.ht;if(c==0){B=this.a1l}if(c==1){this.t8.q(J._H.Clr.v);B=this.zi}if(c==2){this.Zh.update(z,J._H);
B=this.dQ}if(c==3){this.vx.update(z,J._H);B=this.NW}if(B!=this.Pp){if(this.Pp!=null){this.pF._.removeChild(this.Pp)}this.pF._.appendChild(B);
this.Pp=B}};hV.prototype.V=function(){var z={ht:this.cQ.V()};if(z.ht==1){z._H=a.G(a_.J3[0]);z._H.Clr.v=this.t8.V()}if(z.ht==2){z._H=this.Zh.V()}if(z.ht==3){z._H=this.vx.V()}return z};
hV.arZ=function(z){var J=z.ht,p=z._H,n="empty";if(J==1){n=a.Wi.Um(p.Clr.v);n=n.o+","+n.k+","+n.X}if(J==2)n=JSON.stringify(p.Grad.v);
if(J==3)n=p.Ptrn.v.Idnt.v;return n};hV.ajf=function(z,J,p,n,B,c,t){if(z==null)z=hV.$l;var u=Math.floor(B*q.$q()),v=Math.floor(c*q.$q()),A=z.canvas;
A.width=u;A.height=v;q.MT(A,u,v);hV.aHi(z,J,p,n,u,v);if(t){z.beginPath();z.strokeStyle="#000000";z.fillStyle="#ffffff";
z.lineWidth=2;var $=u*.7,X=Math.floor(v*.7),U=7*q.$q();z.moveTo($,X);z.lineTo($+U,X);z.lineTo($+U/2,X+U/2);
z.closePath();z.stroke();z.fill()}if(z==hV.$l)return A.toDataURL()};hV.$l=q.m("canvas").getContext("2d");
hV.aHi=function(z,J,p,n,B,c,t,u){if(t==null)t=0;if(u==null)u=0;var v=J.ht;if(v==0){z.fillStyle="#ffffff";
z.fillRect(t,u,B,c);z.strokeStyle="#ff0000";z.lineWidth=2;z.moveTo(t,u);z.lineTo(t+B,u+c);z.moveTo(t,u+c);
z.lineTo(t+B,u);z.stroke()}if(v==1){var A=J._H.Clr.v;A=a.Wi.Um(A);z.fillStyle="#"+a.fX(A.o<<16|A.k<<8|A.X);
z.fillRect(t,u,B,c)}if(v==2){var $=L.PK.ky(J._H.Grad.v,B,c,0,p.Nb,p.Gh,!0);z.putImageData($,t,u)}if(v==3){var X=J._H.Ptrn.v,U;
if(n!=null)U=ju.AR(X,n.add.Patt);if(U==null)U=ju.AR(X,p.r0);gk.ky(U,B,c,z.canvas)}};function gk(z){hM.call(this,z,!1,"patternbutton",18*13,10*13,iQ.EA);
this.aiU=null}gk.prototype=new hM;gk.prototype.uD=function(z){var J=this.vO[this.P5.V()];this.TG={classID:"Ptrn",Nm:{t:"TEXT",v:J.name},Idnt:{t:"TEXT",v:J.id}};
this.a(new cD(b.E.n));this.oJ()};gk.prototype.QU=function(){if(!this.XB)return;var z=this.vO,J=Math.floor(34*q.$q()),p=Math.floor(34*q.$q()),n=[],B=[];
for(var g=0;g<z.length;g++){n.push(gk.ky(z[g],J,p));B.push(z[g].name)}this.P5.VK(n,B,J,p);this.XB=!1};
gk.prototype.q=function(z,J){if(this.TG&&z.Idnt.v==this.TG.Idnt.v)return;this.TG=a.G(z);this.oJ(J)};
gk.prototype.V=function(){return a.G(this.TG)};gk.prototype.CF=function(){return this.aiU?[this.aiU]:[]};
gk.prototype.oJ=function(z){var J=Math.floor(50*q.$q()),p=Math.floor(50*q.$q()),n;if(z!=null)n=ju.AR(this.TG,z.add.Patt);
if(n==null)n=ju.AR(this.TG,this.vO);this.aiU=n;var B=gk.ky(n,J,p);this.J2.setAttribute("src",B);q.MT(this.J2,J,p)};
gk._V=q.m("canvas","");gk.ky=function(z,J,p,n){if(n==null)n=gk._V;var B=n.getContext("2d");n.width=J;
n.height=p;if(z){var c=z.kR[1],t=c.r,u=c.$,v=z.kR[0],A=Math.min(J/t,p/u),$=A;if($*t<2)$=2/t;var X=A;
if(X*u<2)X=2/u;var U=L.tp.EG([v,c],new fA($,0,0,X,0,0),$>2),w=U.S.r,P=U.S.$,k=new ImageData(w,P);a._U(U.buffer,k.data);
B.putImageData(k,Math.floor((J-w)/2),Math.floor((p-P)/2))}return n.toDataURL()};function b6(z,J,p){if(J==null)J=24.2;
if(p==null)p=17;hM.call(this,z,!1,"patternbutton",J*13,p*13,iQ.wi);this.Yz=""}b6.prototype=new hM;b6.prototype.uD=function(z){this.TG=a.G(this.vO[0][this.P5.V()[0]]);
this.a(new cD(b.E.n))};b6.prototype.QU=function(){var z=this.vO;if(z==null||!this.XB)return;var J=Math.floor(50*q.$q()),p=Math.floor(50*q.$q()),n=[],B=[];
for(var g=0;g<z[0].length;g++){n.push(b6.ky(this.vO[0][g].pY,J,p,this.vO[1]));B.push(z[0][g].wl.Nm.v.split("=").pop())}this.P5.VK(n,B,J,p);
this.XB=!1};b6.prototype.q=function(z,J,p,n){var B=JSON.stringify(z.pY)+","+p+","+n;if(this.Yz!=B){this.Yz=B;
this.TG=a.G(z);this.oJ(J,p,n)}};b6.prototype.oJ=function(z,J,p){var n=Math.floor(68*q.$q()),B=Math.floor(68*q.$q()),c=b6.ky(this.TG.pY,n,B,z?z:this.vO[1],J,p);
this.J2.setAttribute("src",c);q.MT(this.J2,n,B)};b6.ky=function(z,J,p,n,B,c){var t=new b$;t.r=J;t.$=p;
t.buffer=a.j(J*p*4);t.add.Patt=n;t.r6(B==null?90:B);t.Qv(c==null?30:c);var u=new fw(0,0,Math.round(J*.5),Math.round(p*.5));
u.x=Math.round((J-u.r)/2);u.y=Math.round((p-u.$)/2);var v=t.JG();v.S=u;v.buffer=a.j(u.C()*4);a.dz(v.buffer,4284045657);
ju.aJd(z,v,.5*100);t.U.push(v);t.K6();t.qM();var A=co.Pw;co.Pw=!1;t.TQ();var $=t.dT();co.Pw=A;var X=kL.s0($.buffer,t.r,t.$);
return X};function iq(z){hM.call(this,null,!1,"tpresetbutton",18*13,24*13,iQ.XW,!0);q.Om(this._,"fitem");
this.P5.OC(1);this.id=z;this.oJ();this.R.style.overflow="hidden";this.FR=new k9([15,7,9]);this.FR.q(!0);
this.FR.D(b.E.n,this.ajg,this);this.Sl.appendChild(this.FR._)}iq.prototype=new hM;iq.prototype.asU=function(z){if(this.id==z)return;
this.id=z;this.fv(this.vO)};iq.prototype.uD=function(z){var J=this.vO[this.P5.V()],p=new cD(b.E.c,!0);
p.data={R:b.J.bS,c$:"set",Xu:iQ.XW,wo:J};this.a(p)};iq.prototype.T=function(){hM.prototype.T.call(this);
this.FR.T()};iq.prototype.ajg=function(){this.XB=!0;this.QU()};iq.prototype.QU=function(){if(!this.XB)return;
var z=Math.floor(16*q.$q()),J=Math.floor(16*q.$q()),p=[],n=[],B=this.vO,c=this.FR.V();for(var g=0;g<B.length;
g++){var t=L.f3[B[g][1].classID];if(!c||t==this.id){n.push(B[g][0]?B[g][0].split("=").pop():"");p.push(t==-1?"":PIMG[L.kG[t]])}else{p.push(null);
n.push(null)}}this.P5.VK(p,n,z,J);this.XB=!1};iq.prototype.oJ=function(){var z=this.J2;z.setAttribute("src",PIMG[L.kG[this.id]]);
q.$y(z,"toolicon")};iq.prototype.CF=function(){return null};iq.Vz={};iq.ky=function(z,J,p){var n=iq.$l,B=iq.Vz,c=a.fX(z.o<<16|z.k<<8|z.X);
if(B[c])return B[c];if(n==null){var t=q.m("canvas");n=iq.$l=t.getContext("2d")}var t=n.canvas;t.width=J;
t.height=p;n.fillStyle="#"+c;n.fillRect(0,0,J,p);var u=B[c]=t.toDataURL();return u};function i2(z,J,p){lh.call(this);
this._=q.m("span","fitem curveeditor");this.HT=null;this.apO=0;this.lI="";this.mode=0;this.apu=null;
this.ahF=null;this.oS=z;this.amv=J;this.apH=p;this.CP=null;this.Q0=null;this.aGA=0;this.a2m=0;this.KC=new i_;
this.Hc=this.KJ.bind(this);this.RT=this.m3.bind(this);this.bf=256;this._V=q.m("canvas");this.$l=this._V.getContext("2d");
q.Ze(this._V);this._.appendChild(this._V);this.B$(256,256);q.tN(this._V,this.M1.bind(this));this.coords=q.m("div");
q.v(this.coords,"width:250px");this._.appendChild(this.coords);var n=this.dh=p?100:255,B=null;this.Y3=new kW("X (in)",0,n,B,0,!1,!0);
this.rX=new kW("Y (out)",0,n,B,0,!1,!0);this.rD=new k9([19,3,0]);this.Y3.D(b.E.n,this.SF,this);this.rX.D(b.E.n,this.SF,this);
this.rD.D(b.E.n,this.SF,this);this.coords.appendChild(this.Y3._);if(p)this.coords.appendChild(this.rD._);
this.coords.appendChild(this.rX._)}i2.prototype=new lh;i2.prototype.T=function(){this.rD.T();this.Y3.T();
this.rX.T()};i2.prototype.B$=function(z,J){this.bf=Math.round(z);this.$l.resetTransform();q.jI(this._V,this.bf,this.bf,this.$l);
this.$l.scale(this.bf/256,this.bf/256);if(this.CP)this.x9()};i2.prototype.SF=function(z){var g=this.aqR(),J=this.CP[g],p=255/this.dh;
J.v.Hrzn.v=this.Y3.V()*p;J.v.Vrtc.v=this.rX.V()*p;if(this.apH)J.v.Cnty.v=this.rD.V();this.CP.sort(function(n,B){return n.v.Hrzn.v-B.v.Hrzn.v});
this.x9();this.a(new cD(b.E.n))};i2.prototype.q=function(z,g,J){var p=JSON.stringify(z),n=J?JSON.stringify(J):null;
if(p==JSON.stringify(this.CP)&&n==this.ahF)return;this.mode=z.length==256?1:0;this.CP=JSON.parse(p);
this.apu=J;this.ahF=n;if(g!=null)this.Q0=this.CP[g];this.x9()};i2.prototype.nZ=function(z,J,p){this.HT=z;
this.apO=J;this.lI=p;this.x9()};i2.prototype.V=function(){return a.G(this.CP)};i2.prototype.aqR=function(){return this.CP.indexOf(this.Q0)};
i2.prototype.M1=function(z){var J=256/this.bf,p=q.bZ(z,this._V);p.x*=J;p.y*=J;var n=p.x,B=256-p.y;if(this.oS){var c=n;
n=256-B;B=c}this.KC.GK(n,B);if(this.mode==0){var t=0,u=1e9,U;for(var g=0;g<this.CP.length;g++){var v=this.CP[g].v,A=v.Hrzn.v-n,$=v.Vrtc.v-B,X=Math.sqrt(A*A+$*$);
if(X<u){u=X;t=g}}if(u<15)U=this.CP[t];else{U=a.kC.YL(n,B,!0);this.CP.push(U);this.CP.sort(function(w,P){return w.v.Hrzn.v-P.v.Hrzn.v})}this.Q0=U;
this.a2m=this.CP.slice(0)}q.G3(document.body,this.Hc);q.ol(document.body,this.RT);this.KJ(z)};i2.prototype.aLq=function(){var z=this.Q0;
return z?z.v.Vrtc.v:0};i2.prototype.KJ=function(z){var J=256/this.bf,p=q.bZ(z,this._V);p.x*=J;p.y*=J;
var n=p.x,B=256-p.y;if(this.oS){var c=n;n=256-B;B=c}if(this.mode==0){var t=this.CP,u=this.Q0,v=this.a2m,A=v.indexOf(u),$=t.indexOf(u)!=-1,X=v.length-1,U=n;
if(A==0){U=Math.max(0,Math.min(v[1].v.Hrzn.v-1,n))}else if(A==X){U=Math.min(255,Math.max(v[X-1].v.Hrzn.v+1,n))}else{var w=n<0||n>255||B<0||B>255;
if(n<=v[A-1].v.Hrzn.v||n>=v[A+1].v.Hrzn.v)w=!0;if(!w&&!$)t.splice(A,0,u);if(w&&$)t.splice(A,1)}if(this.amv&&(A==0||A==v.length-1)){}else u.v.Hrzn.v=Math.round(U);
u.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(B)))}else{n=Math.round(n);B=Math.round(B);n=Math.max(0,Math.min(255,n));
B=Math.max(0,Math.min(255,B));var P=this.KC.x,k=n,T=this.KC.y,Z=B;if(n<this.KC.x){k=P;P=n;Z=T;T=B}this.CP[n]=B;
if(P!=k)for(var i=P;i<=k;i++)this.CP[i]=Math.round(T+(i-P)*(Z-T)/(k-P))}this.KC.GK(n,B);this.x9();this.a(new cD(b.E.n))};
i2.prototype.m3=function(z){q.Mt(document.body,this.Hc);q.eX(document.body,this.RT);this.a(new cD(b.E.n))};
i2.prototype.x9=function(){var z=this.$l,J=this._V;z.fillStyle="#ffffff";z.fillRect(0,0,256,256);var p=256/J.width;
if(this.HT){z.save();z.translate(0,256);z.scale(1,-1);hA.apI(z,this.HT,5700/this.apO,this.lI);z.restore()}z.strokeStyle="#aaaaaa";
z.lineWidth=1*p;z.beginPath();for(var g=1;g<4;g++){var n=(Math.floor(64*g/p)+.5)*p;z.moveTo(0,n);z.lineTo(255,n);
z.moveTo(n,0);z.lineTo(n,255)}z.stroke();if(this.oS){z.save();z.transform(0,1,-1,0,256,0)}var B=a.kC.VQ,c=i2.aA0,t=this.apu,u=["#ff0000","#00ff00","#0000ff"];
if(this.mode==0){var v=this.CP;if(t)for(var g=0;g<t.length;g++)c(z,B(t[g],256),u[g]);c(z,B(v,256),"#000000");
z.lineWidth=2*p;for(var g=0;g<v.length;g++){var A=v[g].v;z.fillStyle=this.Q0==v[g]?"#333":"#fff";z.beginPath();
z.moveTo(A.Hrzn.v,255.5-A.Vrtc.v);z.arc(A.Hrzn.v,255.5-A.Vrtc.v,4,0,2*Math.PI);z.stroke();z.fill()}}else{if(t)for(var g=0;
g<t.length;g++)c(z,t[g],u[g]);c(z,this.CP,"#000000")}if(this.oS)z.restore();var g=this.aqR();this.coords.className=g==-1?"disabled":"";
if(g==-1)return;var A=this.CP[g].v,$=255/this.dh;this.Y3.q(Math.round(A.Hrzn.v/$));this.rX.q(Math.round(A.Vrtc.v/$));
if(A.Cnty)this.rD.q(A.Cnty.v)};i2.aA0=function(z,J,p){z.strokeStyle=p;z.beginPath();z.moveTo(0,255.5-J[0]);
for(var g=0;g<256;g++)z.lineTo(g,255.5-J[g]);z.stroke()};function hA(z,J,p){lh.call(this);this._=q.m("span");
this.N9=new kZ([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.N9.D(b.E.n,this.xM,this);if(p==null){this._.appendChild(this.N9._);
q.Uk(this._)}var n=q.m("div");this._.appendChild(n);q.v(n,"background-color: var(--bg-canvas);");this._V=q.m("canvas");
var B=this._V;n.appendChild(B);B.width=Math.round(z*q.$q());B.height=Math.round(100*q.$q());q.MT(B,B.width,B.height);
B.style.display="block";this.$l=B.getContext("2d");this.HT=null;this.EX=0;this.a8O=null;this.aIx=[];
this._S=[];var c=["Mean:","Pixels:"],t=this._;if(J)for(var g=0;g<c.length;g++){var u=new bm(c[g]);this.aIx.push(u);
t.appendChild(u._);var v=new bm("hi");this._S.push(v);t.appendChild(v._);q.Uk(t)}if(p!=null)this.OC(p)}hA.prototype=new lh;
hA.prototype.T=function(){this.N9.T()};hA.prototype.OC=function(z){this.N9.q(z);this.xM()};hA.prototype.q=function(z,J){this.HT=z;
this.a8O=J;this.xM()};hA.prototype.TT=function(z){if(z==this.EX)return;this.EX=z;this.xM()};hA.prototype.xM=function(){if(this.HT==null)return;
var z=this._V,J=this.$l,p=this.HT,n=this.a8O,B=this.N9.V(),c=6e3/p[4],t="#"+a.fX(this.EX),u=hA.apI;z.width=z.width;
J.setTransform(z.width/256,0,0,-z.height/100,0,z.height);J.globalCompositeOperation="lighter";if(B==0)u(J,p[0],c/3,t);
else if(B<4)u(J,p[B],c,t);else{u(J,p[1],c,"#ff4545",!0);u(J,p[2],c,"#40bb60",!0);u(J,p[3],c,"#2266bb",!0)}J.setTransform(1,0,0,1,0,0);
if(n!=null){if(B==4)B=0;var v=0;for(var g=0;g<256;g++)v+=g*p[B][g];if(B==0)v/=3;this._S[0].q((v/n).toFixed(1)+"");
this._S[1].q(n+"")}};hA.apI=function(z,J,p,n,B){z.beginPath();z.moveTo(0,0);for(var c=0;c<256;c++)z.lineTo(c,J[c]*p);
z.lineTo(256,0);z.fillStyle=n;z.strokeStyle=n;if(B){z.globalAlpha=.2;z.fill();z.globalAlpha=1;z.stroke()}else z.fill()};
function bU(z,J){lh.call(this);this.aE={o:0,k:0,X:0};if(Math.abs(z-256/q.$q())<10)z=256/q.$q();var p=this._=q.m("div","flexrow");
p.style.position="relative";var n=this.aun=q.m("div");p.appendChild(n);this.Fw=new i_;this.af=new i_;
this.gx=this.Ls.bind(this);this.iL=this.azI.bind(this);this._V=q.m("canvas","");this.$l=this._V.getContext("2d");
this._V.width=this._V.height=256;this.a0Y=this.$l.getImageData(0,0,256,256);this.aoP=-1;this.aBa="";
this.rh=null;q.Ze(this._V);q.tN(this._V,this.abU.bind(this));n.appendChild(this._V);this.aCX=this.alr.bind(this);
this.aqS=this.akL.bind(this);this.TH=q.m("canvas","");this.Mu=this.TH.getContext("2d");this.TH.width=20;
this.TH.height=256;this.ab6=this.Mu.getImageData(0,0,20,256);bU.awN(this.ab6.data,20,256);q.Ze(this.TH);
q.tN(this.TH,this.aaL.bind(this));p.appendChild(this.TH);q.v(this._V,"width:"+z+"px; height:"+z+"px");
q.v(this.TH,"width:16px; height:"+z+"px");this.gy=new k9("Web Colors\u2001");this.gy.D(b.E.n,this.update,this);
this.u0=new k9("CMYK gamut");this.u0.D(b.E.n,this.update,this);if(J){q.Uk(n);n.appendChild(this.gy._);
n.appendChild(this.u0._)}var B=this.x2=document.createElementNS("http://www.w3.org/2000/svg","svg");
p.appendChild(B)}bU.prototype=new lh;bU.prototype.B$=function(z,J){this._V.style.width=this.aun.style.width=z-16+"px"};
bU.prototype.q=function(z){if(this.gy.V()){var J=a.G(z);bU.ui(J);var p=this.V();if(J.o==p.o&&J.k==p.k&&J.X==p.X)z=this.aE}this.aE=z;
this.update()};bU.prototype.V=function(){var z=a.G(this.aE);if(this.gy.V())bU.ui(z);return z};bU.prototype.update=function(){var z=this.aE,J=a.HC(z.o,z.k,z.X),u=18;
if(J.Mf==0)J.Q5=this.Fw.x/255;if(J.Q5==0||J.Mf==0)J.tK=(255-this.br(this.af.y))/255;if(J.Mf!=0)this.Fw.x=J.Q5*255;
this.Fw.y=(1-J.Mf)*255;this.af.y=(1-J.tK)*255;var p=this.a0Y,n=this.gy.V(),B=this.u0.V(),c=n+","+B;if(Math.abs(J.tK-this.aoP)>.002||this.aBa!=c){this.adU(new Uint8Array(p.data.buffer),256,256,J.tK,n,B);
this.anR();this.aoP=J.tK;this.aBa=c}var t=this.$l;t.putImageData(p,0,0);p=this.ab6;t=this.Mu;t.putImageData(p,0,0);
t.strokeStyle="#ffffff";t.beginPath();t.moveTo(0,this.af.y);t.lineTo(20,this.af.y);t.lineWidth=2;t.stroke();
var v=this.Fw.y/255,A=parseFloat(this._V.style.width),$=parseFloat(this._V.style.height),X=this.x2;X.setAttribute("width",u);
X.setAttribute("height",u);var U=Math.round(z.o*255)<<16|Math.round(z.k*255)<<8|Math.round(z.X*255),w="<circle cx=\""+u/2+"\" cy=\""+u/2+"\" r=\""+u/2+"\" fill=\"#"+a.fX(U)+"\"></circle>";
w+="<circle cx=\""+u/2+"\" cy=\""+u/2+"\" r=\""+(-.5+u/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*v)+")\" stroke-width=\"1\"></circle>";
w+="<circle cx=\""+u/2+"\" cy=\""+u/2+"\" r=\""+(-1.2+u/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
X.innerHTML=w;X.style.pointerEvents="none";X.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
X.style.position="absolute";X.style.left=A*(this.Fw.x/255)-u/2+"px";X.style.top=$*(this.Fw.y/255)-u/2+"px"};
bU.ui=function(z){z.o=~~(.5+z.o*5)*.2;z.k=~~(.5+z.k*5)*.2;z.X=~~(.5+z.X*5)*.2};bU.prototype.adU=function(z,J,p,n,B,c){var t=1/J,u=1/p;
for(var v=0;v<p;v++)for(var A=0;A<J;A++){var $=a.u4(n,A*t,(p-v-1)*u);if(B)bU.ui($);var g=v*J+A<<2;z[g+0]=~~($.o*255);
z[g+1]=~~($.k*255);z[g+2]=~~($.X*255);z[g+3]=255}if(c){var X=z.slice(0),U=a.Ff("rgbToRgbC"),w=U[2],P=U[3];
ICC.U.applyLUT(P,w,X,X);this.rh=a.j(J*p);for(var g=0;g<z.length;g+=4){var k=z[g]-X[g],T=z[g+1]-X[g+1],Z=z[g+2]-X[g+2],i=k*k+T*T+Z*Z;
if(i>300){z[g]=z[g+1]=z[g+2]=200;this.rh[g>>>2]=255}}}};bU.awN=function(z,J,p,n,B){if(n==null)n=1;if(B==null)B=0;
var c=new Uint32Array(z.buffer);for(var t=0;t<p;t++){var u=a.u4((1+n*(1-t/p)+B)%1,1,1),v=255<<24|u.X*255<<16|u.k*255<<8|u.o*255;
for(var A=0;A<J;A++)c[t*J+A]=v}};bU.prototype.abU=function(z){q.G3(window,this.gx);q.ol(window,this.iL);
this.Ls(z);this.x2.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.x2.style.transform="scale(2.4)"};
bU.prototype.azI=function(z){q.Mt(window,this.gx);q.eX(window,this.iL);this.x2.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.x2.style.transform="scale(1)"};bU.prototype.Ls=function(z){var J=q.bZ(z,this._V);J.x=J.x*(256/parseFloat(this._V.style.width));
J.y=J.y*(256/parseFloat(this._V.style.height));this.Fw.GK(this.br(J.x),this.br(J.y));this.anR();this.WW()};
bU.prototype.anR=function(){if(!this.u0.V())return;var z=this.Fw,J=0,p=0,n=1e9;for(var B=0;B<256;B++){for(var c=0;
c<256;c++){if(this.rh[B*256+c]==255)continue;var t=c-z.x,u=B-z.y,v=t*t+u*u;if(v<n){J=c;p=B;n=v}}}z.x=J;
z.y=p};bU.prototype.WW=function(){this.aE=this.a9O();this.a(new cD(b.E.n))};bU.prototype.a9O=function(){var z=a.u4((255-this.br(this.af.y))/255,this.Od(this.Fw.x/255),this.Od(1-this.Fw.y/255));
return{o:z.o,k:z.k,X:z.X}};bU.prototype.aaL=function(z){q.G3(window,this.aCX);q.ol(window,this.aqS);
this.alr(z)};bU.prototype.akL=function(z){q.Mt(window,this.aCX);q.eX(window,this.aqS)};bU.prototype.alr=function(z){var J=q.bZ(z,this.TH);
J.y=J.y*(256/parseFloat(this.TH.style.height));this.af.GK(this.br(J.x),this.br(J.y));this.WW()};bU.prototype.br=function(z){return Math.max(0,Math.min(255,z))};
bU.prototype.Od=function(z){return Math.max(0,Math.min(1,z))};function km(z,J,p,n){var B=fD.Kg(J,n);
fD.call(this,z,B,p)}km.prototype=new fD;function e5(){lh.call(this);this.dr=0;this._=q.m("button","fitem bbtn");
this._.style.width="130px";var z=[];for(var g=0;g<16;g++){var J={name:MIDDB.grps[g],sub:[],oB:c$.$x(g*8)};
z.push(J);for(var p=0;p<8;p++)J.sub.push({name:MIDDB.list[g*8+p],oB:c$.$x(g*8+p)})}z.push({name:MIDDB.list[200],oB:c$.$x(200)});
z.push({name:MIDDB.list[500],oB:c$.$x(500)});this.VE=new ka(z);this.VE.D("select",this.CA,this);this._.textContent="Piano \u25BC";
this._.addEventListener("click",this.Hg.bind(this),!1)}e5.prototype=new lh;e5.prototype.Hg=function(z){var J=this._.getBoundingClientRect(),p=this.VE;
p.T();p.parent=this;var n=new cD(b.E.c,!0);n.data={R:b.J.v0,NC:p,x:J.left,y:J.top+J.height+4};this.a(n)};
e5.prototype.CA=function(z){var J=this.VE.cw();this.dr=J==17?500:J==16?200:J[0]*8+J[1];this.a(new cD(b.E.n,!1))};
e5.prototype.vw=function(z){var J=this.cm.indexOf(z.currentTarget),p=this.U6[J],n=this.lV;if(p.eY!=null)n.eY=p.eY;
if(p.AE!=null)n.AE=p.AE;n.ji=p.ji.slice(0);if(n.tM==null)n.tM=3;for(var g=0;g<n.ji.length;g++)n.ji[g]*=n.tM/p.tM;
this.a(new cD(b.E.n,!1))};e5.prototype.T=function(){};e5.prototype.q=function(z){this.dr=z;this._.textContent=MIDDB.list[z]+" \u25BC"};
e5.prototype.V=function(){return this.dr};function jd(){lh.call(this);this.ak4=null;this.Ds=new iO;this.Ds.D(b.E.n,this.a8V,this);
this.Ds.parent=this;this.PG=new kW([12,14,0],1,150,"px",2,!0);this.PG.D(b.E.n,this.sK,this);this.PG.parent=this;
this.CB=new kW([16,0],.01,100,"px",2,!0,null,5);this.CB.D(b.E.n,this.sK,this);this.CB.parent=this;this.wS=new k9("Auto");
this.wS.D(b.E.n,this.sK,this);this.gA=new kW([16,1],-500,5e3,"%",0,!0);this.gA.D(b.E.n,this.sK,this);
this.gA.parent=this;this.z5=new kW("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.z5.D(b.E.n,this.sK,this);
this.z5.parent=this;this.NH=new kW("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.NH.D(b.E.n,this.sK,this);
this.NH.parent=this;this._D=new kW([16,2],-10,10,"px");this._D.D(b.E.n,this.sK,this);this._D.parent=this;
this.s3=new dX(!0);this.s3.D(b.E.n,this.yC,this);this.s3.parent=this;this.At=new dX(!0);this.At.D(b.E.n,this.yC,this);
this.At.parent=this;this.EN=new dX(!0);this.EN.D(b.E.n,this.yC,this);this.EN.parent=this;this.CQ=new dX(!0);
this.CQ.D(b.E.n,this.yC,this);this.CQ.parent=this;this.Yd=new k9([2,3]);this.Yd.D(b.E.n,this.sK,this);
this.t4=new k9([14,9]);this.t4.D(b.E.n,this.sK,this);this._C=new k9([12,46]);this._C.D(b.E.n,this.sK,this);
this.DS=new aq(!0,!0);this.DS.D(b.E.n,this.sK,this);this.gk=new eq("...",null,null,!0);q.tN(this.gk._,this.aH1.bind(this));
this.pF=new lh;var z=this.pF._=q.m("div","floatcont form"),t=100;this.pF.parent=this;this.DS.parent=this.pF;
this._G=new kW([12,41],1,20,"px",0,!0,!0);this._G._.style.marginLeft="16px";this._G.D(b.E.n,this.sK,this);
this._G.parent=this.pF;z.appendChild(this.At._);z.appendChild(this.Yd._);q.Uk(z);z.appendChild(this.EN._);
z.appendChild(this.t4._);q.Uk(z);z.appendChild(this._G._);z.appendChild(this.DS._);q.Uk(z);z.appendChild(this.CQ._);
z.appendChild(this._C._);this.xF=new eq("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.i2=new eq("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this.Fi=new eq("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.n8=new eq("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this.uw=new eq("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.UE=new eq("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.gl=new eq("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.Q4=new eq("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var J=[this.xF,this.i2,this.Fi,this.n8,this.uw,this.UE,this.gl,this.Q4];for(var g=0;g<J.length;g++)J[g].D("click",this.am9,this);
var p="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.Fy=[];for(var g=0;
g<8;g++){var n=new eq("<img src=\""+PIMG["lig/"+p[g]]+"\" class=\"autoscale gsicon\" />",!1,dN.aFU[g]);
n.D("click",this.am9,this);this.Fy.push(n)}this.aDG=new eq("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.aiC=new eq("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.a2g=new eq("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.aiy=new eq("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.aI7=new eq("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.awV=new eq("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.alV=new eq("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.C6=[this.aDG,this.aiC,this.a2g,this.aiy,this.aI7,this.awV,this.alV];for(var g=0;g<this.C6.length;
g++)this.C6[g].D("click",this.sK,this);var B=["lind","rind","flind","bind","aind"],c=[];for(var g=0;
g<5;g++)c.push("<img src=\""+PIMG["par/"+B[g]]+"\" class=\"autoscale gsicon\" /> ");this.j6=new kW(c[0],-t,t,"px");
this.yG=new kW(c[1],-t,t,"px");this.jy=new kW(c[2],-t,t,"px");this._6=new kW(c[3],-t,t,"px");this.__=new kW(c[4],-t,t,"px");
this.sY=new fD([12,33],["Abc ...","... أي بي"]);this.FF=new kW(["Auto VAR0",[16,0]],0,500,"%");this.aT=[this.j6,this.yG,this.jy,this._6,this.__,this.sY,this.FF];
for(var g=0;g<this.aT.length;g++){var u=this.aT[g];u.D(b.E.n,this.sK,this);u.parent=this}this.NS=new kZ("Digits",["LTR Arabic - 123","RTL Arabic- 123","Hindi (١,٢,٣,٤,٥,٦...)","Farsi (۱,۲,۳,۴,۵,۶...)"]);
this.NS.D(b.E.n,this.sK,this);this.Hz=[];this.a04="";this.VX=q.m("div","labfxd")}jd.prototype=new lh;
jd.prototype.aH1=function(z){if(q.SA(this.pF._))return;z.stopPropagation();var J=this.gk._.getBoundingClientRect(),p=new cD(b.E.c,!0);
p.data={R:b.J.v0,NC:this.pF,x:J.left,y:J.top+J.height+4};this.a(p)};jd.prototype.T=function(){this.Ds.T();
this.PG.T();this.CB.T();this.gA.T();this._D.T();this.z5.T();this.NH.T();this.Yd.T();this.t4.T();this._C.T();
this._G.T();this.DS.T();for(var g=0;g<this.aT.length;g++)this.aT[g].T()};jd.prototype.q=function(z,J,p){if(J)this.ak4=J;
this.ko=a.G(z);var n=this.ko,B=n.uA,c=n.gC;this.xF.q(B.FauxBold!=null?B.FauxBold:!1);this.i2.q(B.FauxItalic!=null?B.FauxItalic:!1);
this.Fi.q(B.FontCaps==2);this.n8.q(B.FontCaps==1);this.uw.q(B.FontBaseline==1);this.UE.q(B.FontBaseline==2);
this.gl.q(B.Underline);this.Q4.q(B.Strikethrough);if(B._DigitSet!=null)this.NS.q(B._DigitSet);var t={};
if(B.Font!=null){var u=n.W5[B.Font],v=J.ck(dN.qI(u));if(v)t=v.GSUB;if(t==null)t={};if(v&&v.fvar){var A=v.fvar[0],$=v.fvar[1],X=JSON.stringify(A);
if(X!=this.aay){this.aay=X;this.Hz=[];q.X0(this.VX);for(var g=0;g<A.length;g++){var U=A[g],w=new jT(U[5],U[1],U[3]);
w.T();this.Hz.push(w);w.D(b.E.n,this.azq,this);this.VX.appendChild(w._)}}var P=u.Axis;if(P)for(var g=0;
g<Math.min(P.length,this.Hz.length);g++)this.Hz[g].q(P[g]/65536)}else if(this.Hz.length!=0){this.Hz=[];
q.X0(this.VX);this.aay=""}}for(var g=0;g<8;g++){this.Fy[g].h6(t[dN.aBC[g]]);this.Fy[g].q(B[dN.Fy[g]])}this.Ds.q(B.Font==null?null:dN.qI(n.W5[B.Font]),J,p);
var k=B.FontSize==null?20:B.FontSize;this.PG.q(k);var T=B.Tracking;this.gA.q(T==null?0:T);this._G.q(B.OutlineWidth!=null?B.OutlineWidth:1);
this.DS.q(a_.St.aax(B));this.CB.q(B.Leading!=null&&B.Leading!=0?B.Leading:k);this.wS.q(B.AutoLeading);
this.z5.q((B.VerticalScale!=null?B.VerticalScale:0)*100);this.NH.q((B.HorizontalScale!=null?B.HorizontalScale:0)*100);
this._D.q(B.BaselineShift!=null?B.BaselineShift:0);this.Yd.q(B.FillFlag!=null?B.FillFlag:!1);this.t4.q(B.StrokeFlag!=null?B.StrokeFlag:!1);
this._C.q(B._FillBackgroundFlag!=null?B._FillBackgroundFlag:!1);this.Ig(B.FillColor,this.s3);this.Ig(B.FillColor,this.At);
this.Ig(B.StrokeColor,this.EN);this.Ig(B._FillBackgroundColor,this.CQ);var Z=c._Direction!=null?c._Direction:0,i=dN.Oq(c);
for(var g=0;g<this.C6.length;g++)this.C6[g].q(i==g);this.sY.q(Z);this.FF.q((c.AutoLeading!=null?c.AutoLeading:1.2)*100);
this.j6.q(c.StartIndent!=null?c.StartIndent:0);this.yG.q(c.EndIndent!=null?c.EndIndent:0);this.jy.q(c.FirstLineIndent!=null?c.FirstLineIndent:0);
this._6.q(c.SpaceBefore!=null?c.SpaceBefore:0);this.__.q(c.SpaceAfter!=null?c.SpaceAfter:0)};jd.prototype.Ig=function(z,J){if(z){var p=dN.Um(z);
J.TT(Math.round(p.o)<<16|Math.round(p.k)<<8|Math.round(p.X))}else J.TT(0)};jd.prototype.Jc=function(){var z=new cD(b.E.c,!0);
z.data={R:b.J.bS,Xu:iQ.N3,ko:this.ko};this.a(z);var z=new cD(b.E.H,!0);z.l=L.MN;z.data={R:"updateStyles"};
this.a(z)};jd.prototype.am9=function(z){var J=this.ko.uA,p=z.target,n=!p.nL(),B=this.Fy.indexOf(p);if(B!=-1){J[dN.Fy[B]]=n}else{if(p==this.xF)J.FauxBold=n;
if(p==this.i2)J.FauxItalic=n;if(p==this.Fi)J.FontCaps=n?2:0;if(p==this.n8)J.FontCaps=n?1:0;if(p==this.uw)J.FontBaseline=n?1:0;
if(p==this.UE)J.FontBaseline=n?2:0;if(p==this.gl)J.Underline=n;if(p==this.Q4)J.Strikethrough=n}this.Jc()};
jd.prototype.sK=function(z){var J=this.ko.uA,p=this.ko.gC,n=z.target;if(n==this.DS){a_.St.ayd(n.V(),J)}if(n==this.gA){var B=n.V();
J.Tracking=B}if(n==this.CB){J.AutoLeading=!1;J.Leading=n.V()}if(n==this.wS){J.AutoLeading=n.V()}if(n==this._G)J.OutlineWidth=n.V();
if(n==this.PG)J.FontSize=n.V();if(n==this.z5)J.VerticalScale=n.V()/100;if(n==this.NH)J.HorizontalScale=n.V()/100;
if(n==this._D)J.BaselineShift=n.V();if(n==this.Yd)J.FillFlag=n.V();if(n==this.t4)J.StrokeFlag=n.V();
if(n==this._C)J._FillBackgroundFlag=n.V();if(n==this.NS)J._DigitSet=n.V();if(this.C6.indexOf(n)!=-1){p.Justification=dN.Oq(p,this.C6.indexOf(n))}if(n==this.j6)p.StartIndent=n.V();
if(n==this.yG)p.EndIndent=n.V();if(n==this.jy)p.FirstLineIndent=n.V();if(n==this._6)p.SpaceBefore=n.V();
if(n==this.__)p.SpaceAfter=n.V();if(n==this.sY)p._Direction=n.V();if(n==this.FF)p.AutoLeading=n.V()/100;
this.Jc()};jd.prototype.azq=function(z){var J=this.ko,p=J.W5[J.uA.Font],n=p.Axis,B=dN.qI(p),c=this.ak4.ck(B);
if(n)for(var g=0;g<Math.min(n.length,this.Hz.length);g++){var t=this.Hz[g].V();n[g]=Math.round(t*65536);
B+="_"+t.toFixed(3)+c.fvar[0][g][0]}p.Name=B;this.Jc()};jd.prototype.a8V=function(z){var J=this.ko;if(J.uA.Font==null)J.uA.Font=0;
var p=this.Ds.V(),n=J.W5[J.uA.Font],B=this.ak4.ck(p);delete n.Axis;if(B&&B.fvar){var c=B.fvar,t=[];for(var g=0;
g<c[0].length;g++)t.push(c[0][g][2]);for(var g=0;g<c[1].length;g++)if(c[1][g][3]==p)t=c[1][g][2].slice(0);
for(var g=0;g<t.length;g++)t[g]=Math.round(t[g]*65536);n.Axis=t}n.Name=p;this.Jc()};jd.prototype.yC=function(z){var J=z.target,p=J.BG(),n={Type:1,Values:[1,(p>>16&255)/255,(p>>8&255)/255,(p>>0&255)/255]};
for(var g=0;g<4;g++)n.Values[g]=Math.round(n.Values[g]*1e3)/1e3;var B=J==this.s3||J==this.At?0:J==this.EN?1:2;
this.ko.uA[["FillColor","StrokeColor","_FillBackgroundColor"][B]]=n;this.Jc()};function iO(){lh.call(this);
this._=q.m("span","fontinput");this.sd=null;this.lU=null;this.PV=null;this.QI="";this.CX={};this.ahe=[];
this.avX={};this.aDK={};this.ak3=!1;this.My=q.m("button","fitem");q.v(this.My,"width:9em;");this.My.textContent="Family Name \u25BC";
this._.appendChild(this.My);q.tN(this.My,this.ad3.bind(this));this.mB=new lh;this.mB.parent=this;var z=this.mB._=q.m("div","floatcont");
z.style.padding="7px 7px 3px 7px";var J=new bm("Recent");z.appendChild(J._);var p=this.atA=new eq([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
p.D("click",this.amP,this);p._.style.float="right";z.appendChild(p._);var n=this.aal=new k9("Local Fonts");
n.D(b.E.n,this.a4W,this);n._.style.float="right";n._.style.marginRight="10px";n._.style.marginTop="3px";
z.appendChild(n._);q.Uk(z);this.WJ=q.m("span","fitem imageset scrollable");this.WJ.style.height="5.5em";
this.WJ.style.width="100%";z.appendChild(this.WJ);var B=q.m("div","form");this.mB._.appendChild(B);this.nh=new eq(q.HS("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.nh.D("click",this.alR,this);B.appendChild(this.nh._);this.mY=new dz([12,86],null,7.5);this.mY.D("input",this.Za,this);
B.appendChild(this.mY._);this.FZ=new c_(10,"\u2630");B.appendChild(this.FZ._);this.FZ.parent=this.mB;
this.FZ.D(b.E.n,this.d$,this);this.FZ._.style.float="right";this.FZ._.style.marginRight="0";this.ur=q.m("span","fitem imageset scrollable");
this.ur.style.height="30em";this.mB._.appendChild(this.ur);this.ur.addEventListener("scroll",this.akx.bind(this),!1);
this.qG=q.m("button","fitem");q.v(this.qG,"width:7em;");this.qG.textContent="SubFamily Name \u25BC";
this._.appendChild(this.qG);q.tN(this.qG,this.ad3.bind(this));this.yy=new lh;this.yy.parent=this;this.yy._=q.m("div","floatcont");
this.aca=q.m("span","fitem imageset scrollable");this.yy._.appendChild(this.aca);this.aBc=this.ahp.bind(this);
this.aDk=this.aIC.bind(this);this.v8=this.auV.bind(this);this.a1H=this.az4.bind(this);this.ag1=this.aoJ.bind(this);
this.ae_=this.Hx.bind(this)}iO.prototype=new lh;iO.Jb=[];iO.prototype.a4W=function(z){bA.Rl.h6(z.target.V(),function(){this.q();
this.d$()}.bind(this),function(){this.aal.q(!1)}.bind(this));this.d$()};iO.prototype.akx=function(z){var J=this.ur.scrollTop,p=this.ahe,n=Math.floor(J/27),B=Math.min(n+20,p.length);
for(var g=n;g<B;g++)this.a6Q(p[g])};iO.prototype.amP=function(){var z=new cD(b.E.c,!0);z.data={R:b.J.iC};
this.a(z)};iO.prototype.T=function(){this.FZ.T();this.atA.T();this.aal.q(bA.Rl.nL());this.nh.MM(q.HS("tools/cshape",null,"autoscale"))};
iO.prototype.alR=function(z){this.nh.q(!this.nh.nL());this.d$(null,null,!0)};iO.prototype.Za=function(z){this.QI=this.mY.V().toLowerCase();
this.d$()};iO.prototype.ad3=function(z){q.$D(z);this.Yy=null;var J=z.currentTarget,p=J.getBoundingClientRect(),n=J==this.My,B=n?this.mB:this.yy;
if(q.SA(B._)){this.a6Y(B);return}if(!n&&this.xD()==null)return;var c=new cD(b.E.c,!0);c.data={R:b.J.v0,NC:B,x:p.left,y:p.top+p.height};
this.a(c);if(n){this.d$(null,!0,!0)}};iO.prototype.xD=function(z){if(z==null)z=this.PV;return z==null?null:this.sd.jw()[z]};
iO.prototype.auV=function(z){this.X$(this.lb,this.azm,!0);this.ak3=!0};iO.prototype.az4=function(z){this.azm=null;
this.lb=z.currentTarget.firstChild.nextSibling.textContent;if(this.Yy==null)this.Yy=this.V();this.a2M=setTimeout(this.v8,250)};
iO.prototype.aoJ=function(z){this.azm=z.currentTarget.firstChild.textContent;this.lb=null;if(this.Yy==null)this.Yy=this.V();
this.a2M=setTimeout(this.v8,250)};iO.prototype.Hx=function(z){this.aeh=null;this.afR=null;clearTimeout(this.a2M);
if(this.ak3){this.ak3=!1;this.q(this.Yy,this.sd);this.a(new cD(b.E.n,!1))}};iO.prototype.ahp=function(z){var J=z.currentTarget.firstChild.nextSibling.textContent;
if(z.target.tagName.toLowerCase()=="button"){var p=this.lU.slice(0),n=p.indexOf(J);if(n==-1){p=p.slice(Math.max(0,p.length-99));
p.push(J)}else p.splice(n,1);var B=new cD(b.E.c,!0);B.data={R:b.J.bS,Xu:iQ.$w,gW:p};this.a(B);this.d$()}else{this.Hx(z);
this.X$(J,null)}};iO.prototype.aIC=function(z){this.Hx(z);this.X$(null,z.currentTarget.firstChild.textContent)};
iO.prototype.X$=function(z,J,p){var n=z==null?this.yy:this.mB,B=this.sd;if(z==null)z=this.xD()[0];else{var c=B.GC(z),t=this.xD();
J=bA.YJ(c,t?t[1]:"regular")}var u=B.eh(z,J)[2];if(u==this.PV)return;if(!p){var v=iO.Jb;for(var g=0;g<v.length;
g++)if(v[g][0][0]==z)v.splice(g,1);v.push([this.xD(u),Date.now()]);v.sort(function(A,$){return $[1]-A[1]});
v=v.slice(0,10)}this.q(u,B);this.a(new cD(b.E.n,!1));if(p==null)this.a6Y(n);this.d$()};iO.prototype.a6Y=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.t9,NC:z};this.a(J)};iO.prototype.V=function(){return this.PV};iO.prototype.q=function(z,J,p){var n=this.sd;
if(z!=null)this.PV=z;else z=this.PV;if(J)this.sd=J;else J=this.sd;if(p)this.lU=p;else p=this.lU;if(z!=null){var B=this.xD(z),c,t;
if(B==null){c="- "+z;t="-------"}else{c=B[0];t=B[1];var u=J.GC(c);u.sort(bA.aAM);this.aca.textContent="";
for(var g=0;g<u.length;g++){var B=J.eh(c,u[g]);if(!this.FZ.zt(B))continue;var v=this.Vn(B,!1);this.aca.appendChild(v)}}this.My.textContent=c.substring(0,15)+" \u25BC";
this.My.setAttribute("title",c+", \""+z+"\"");this.qG.textContent=t.substring(0,10)+" \u25BC";this.qG.setAttribute("title",t)}};
iO.prototype.d$=function(z,J,p){var n=this.xD(),B=this.lU,c=this.sd.a1E();this.ahe=[];var t=this.aal.V();
for(var u in c){var v=B.indexOf(u)!=-1,A=this.sd.GC(u),$=!1;for(var g=0;g<A.length;g++){var X=this.sd.eh(u,A[g]),U=!0;
if(this.QI.length>0&&X[0].toLowerCase().indexOf(this.QI)==-1)U=!1;else if(!this.FZ.zt(X))U=!1;else if(this.nh.nL()&&!v)U=!1;
else if(X[5]=="--loc"&&!t)U=!1;if(U)$=!0}var w=this.CX[u];if(w==null){var P=bA.YJ(c[u],"regular"),k=this.sd.eh(u,P),w=this.Vn(k,!0);
this.CX[u]=w;this.ur.appendChild(w);this.avX[u]="[true,false,false]"}if($)this.ahe.push(u);var T=n!=null&&n[0]==u;
this.aDK[u]="["+$+","+T+","+v+"]";if(!J)this.a6Q(u)}if(n&&p){var Z=this.CX[n[0]];this.ur.scrollTop=Z.offsetTop-210}this.akx();
if(this.asA==null)this.asA=function(){q.X0(this.WJ);for(var g=1;g<iO.Jb.length;g++){var X=iO.Jb[g][0],w=this.Vn(X,!0);
this.a7(w,X,!0);this.WJ.appendChild(w)}}.bind(this);setTimeout(this.asA,200)};iO.prototype.a6Q=function(z){var J=this.CX[z];
if(J.firstChild==null){var p=this.sd.a1E(),n=bA.YJ(p[z],"regular"),B=this.sd.eh(z,n);this.a7(J,B,!0)}var c=this.avX[z],t=this.aDK[z];
if(c==t)return;var u=JSON.parse(c),v=JSON.parse(t);if(u[0]!=v[0]||u[1]!=v[1]){var A=v[0]?"":"display:none; ";
if(v[1])A+="background-color:rgba(0,0,0,0.13);";q.v(J,A)}if(u[2]!=v[2])q.v(J.firstChild,"opacity: "+(v[2]?"1":"0.2"));
this.avX[z]=t};iO.prototype.Vn=function(z,J){var p=q.m("div","fontitem");if(!J)this.a7(p,z,J);return p};
iO.prototype.a7=function(z,J,p){var n=J[p?0:1],B=p?this.aBc:this.aDk,c=p?this.a1H:this.ag1,A="";z.addEventListener("click",B,!1);
z.addEventListener("mouseover",c);z.addEventListener("mouseout",this.ae_);if(p)z.appendChild(q.m("button","star"));
var t=q.m("span","label");t.setAttribute("title",n);t.textContent=n;z.appendChild(t);var u=q.$q(),v=1/u,$=bA.XO*v,X=bA.LI*v;
if(1<u&&u<1.5)A="width:"+$+"px; height:"+X+"px;";var U=q.m("span","thumb gsicon");if(J.El){A+="background: url("+J.El+");";
if(1<u&&u<1.5)A+="background-size: "+$+"px "+X+"px;"}else{var w=Math.ceil(FNTS.list.length/bA.cols),P=Math.floor(J.GU/bA.cols),k=J.GU-P*bA.cols,T=k*bA.XO,Z=P*bA.LI;
if(1<u&&u<1.5){A+="background-size: "+bA.cols*$+"px "+w*X+"px;";T*=v;Z*=v}A+="background-position:-"+T+"px -"+Z+"px;"}q.v(U,A);
z.appendChild(U)};function c_(z,J){lh.call(this);this._=q.m("button","fitem bbtn");this._.addEventListener("click",this.Hg.bind(this),!1);
this.pF=new lh;this.pF._=q.m("div","floatcont");this.pF.parent=this;this.VE=q.m("div","flexrow");this.pF._.appendChild(this.VE);
this.z0=J;this.QH=[];this.Lj=[];var p=this.VE,n=q.m("div",""),B=q.m("div","");p.appendChild(n);p.appendChild(B);
this.uC=[];for(var g=0;g<FNTS.cats.length;g++)this.uC.push({name:FNTS.cats[g],index:g,pu:0});this.OG=new k9([7,0]);
this.OG.q(!0);this.OG.D(b.E.n,this.ayX,this);n.appendChild(this.OG._);this.asH=q.m("div","vlist marged scrollable");
q.v(this.asH,"width:10.3em; height:"+z+"em; ");n.appendChild(this.asH);this.dP=[];for(var g=0;g<this.uC.length;
g++){var c=this.uC[g],t=new k9(c.name);this.dP.push(t);t.D(b.E.n,this.axA,this);t.q(!0);this.asH.appendChild(t._);
this.QH.push(1)}this.au1=new k9([7,0]);this.au1.D(b.E.n,this.acP,this);this.abN=q.m("div","vlist marged scrollable");
q.v(this.abN,"width:8.6em; height:"+(z+1.5)+"em; ");B.appendChild(this.abN);this.zV=[];for(var g=0;g<FNTS.subsetNames.length;
g++){var t=new k9(FNTS.subsetNames[g]);this.zV.push(t);t.D(b.E.n,this.a9h,this);t.q(!1);this.abN.appendChild(t._);
this.Lj.push(t.V()?1:0)}}c_.prototype=new lh;c_.prototype.aKJ=function(z){var J=this.zV;for(var g=0;
g<J.length;g++){var p=(z>>>g&1)==1;this.Lj[g]=p;J[g].q(p)}};c_.prototype.abp=function(){return this.VE};
c_.prototype.T=function(){this._.textContent=this.z0?this.z0:j0.get([25,1,0])+" \u25BC";this.OG.T();
this.au1.T()};c_.prototype.Hg=function(z){var J=this._.getBoundingClientRect(),p=new cD(b.E.c,!0);p.data={R:b.J.v0,NC:this.pF,x:J.left,y:J.top+J.height,bM:!0};
this.a(p)};c_.prototype.zt=function(z){if(this.QH[z[4]]==0)return!1;else for(var J=0;J<this.Lj.length;
J++)if(this.Lj[J]==1&&(z[3]>>>J&1)==0)return!1;return!0};c_.prototype.ayX=function(z){var J=z.target.V(),p=this.dP,n=this.QH;
for(var g=0;g<p.length;g++){p[g].q(J);n[g]=J?1:0}this.a(new cD(b.E.n,!1))};c_.prototype.acP=function(z){var J=z.target.V(),p=this.zV,n=this.Lj;
for(var g=0;g<p.length;g++){p[g].q(J);n[g]=J?1:0}this.a(new cD(b.E.n,!1))};c_.prototype.axA=function(z){var g=this.dP.indexOf(z.target),J=this.uC[g].index;
this.QH[J]=1-this.QH[J];this.a(new cD(b.E.n,!1));this.ais(this.dP,this.OG)};c_.prototype.a9h=function(z){var g=this.zV.indexOf(z.target);
this.Lj[g]=1-this.Lj[g];this.a(new cD(b.E.n,!1))};c_.prototype.ais=function(z,J){var p=!0;for(var g=0;
g<z.length;g++)p=p&&z[g].V();J.q(p)};function a$(z,J,p){hM.call(this,J,!0,"gradientbutton",18*13,10*13,iQ.uN);
this.Nb=-1;this.Gh=-1;this.asi=null;this.agf=z;this.Vw=p}a$.prototype=new hM;a$.prototype.l$=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.Ym,i9:"gradienteditor",Wi:this.TG,sy:this.aHD.bind(this),xX:this.Vw};this.a(J)};a$.prototype.aHD=function(z){this.q(z);
this.a(new cD(b.E.n))};a$.prototype.MU=function(z,J){this.Nb=z;this.Gh=J;this.oJ()};a$.prototype.oJ=function(){if(this.TG==null)return;
var z=JSON.stringify(this.TG)+","+this.Nb+","+this.Gh;if(z==this.asi)return;this.asi=z;var J=Math.floor(80*q.$q()),p=Math.floor(16*q.$q()),n=L.PK.ky(this.TG,J,p,0,this.Nb,this.Gh);
this.J2.setAttribute("src",n);q.MT(this.J2,J,p)};a$.prototype.V=function(){var z;if(this.agf)z=L.PK.a68(this.TG,this.Nb,this.Gh);
else z=a.G(this.TG);return z};function hU(z){hM.call(this,z,!1,"swatchbutton",16*13,9.5*13,iQ.o5)}hU.prototype=new hM;
function ch(z){hM.call(this,null,!0,"swatchbutton",16*13,8.75*13,iQ.na);this.cX=z}ch.prototype=new hM;
ch.prototype.uD=function(z){var J=this.vO,p=z.target.V();this.q(p==0?[]:J.nY[p-1][1],J);this.a(new cD(b.E.n))};
ch.prototype.l$=function(z){if(this.TG.length!=0)dw.asz(this.TG,this,this.WW.bind(this))};ch.prototype.WW=function(z){var J=z;
if(typeof z=="number"){J=a.g8(z,1);J=[J.o,J.k,J.X]}this.q(J);this.a(new cD(b.E.n))};ch.prototype.q=function(z,J){this.TG=z;
this.oJ(J)};ch.prototype.oJ=function(z){var J=Math.floor(20*q.$q()),p=Math.floor(20*q.$q()),n=q.m("canvas"),B=n.getContext("2d");
n.width=J;n.height=p;dw.Lv(B,this.TG,z,J,p,0,0,this.cX==1);var c=B.canvas.toDataURL("png");this.J2.setAttribute("src",c);
q.MT(this.J2,J,p)};ch.prototype.QU=function(){if(!this.XB)return;var z=Math.floor(20*q.$q()),J=Math.floor(20*q.$q()),p=[],n=[],B=this.vO,c=B.nY,t=q.m("canvas"),u=t.getContext("2d");
t.width=z;t.height=J;c=[["None",[]]].concat(c);for(var g=0;g<c.length;g++){n.push(c[g][0]);dw.Lv(u,c[g][1],B,z,J,0,0);
var v=u.canvas.toDataURL("png");p.push(v)}this.P5.VK(p,n,z,J);this.XB=!1};ch.prototype.V=function(){return a.G(this.TG)};
function ck(z,J,p){lh.call(this);this._=q.m(p?"div":"span");var n=this.et=q.m("input");this.et.setAttribute("type","file");
if(J)n.setAttribute("multiple","");this.et.addEventListener("change",this.afp.bind(this),!1);this.acq=this.Qy.bind(this);
this.wj={};this.DC=0;this.sF=z;var B=this.h7=new eq(j0.get(z)+" (0)",null,null,!0);this._.appendChild(B._);
B.addEventListener("click",function(c){n.click()});if(p){this.Me=q.m("div","scrollable");q.v(this.Me,"height:120px; width:100%; line-height:1.5em;");
this._.appendChild(this.Me);this.xM()}}ck.prototype=new lh;ck.prototype.q=function(z){this.wj=z;this.xM()};
ck.prototype.V=function(z){return this.wj};ck.prototype.afp=function(z){var J=z.target.files;this.DC=J.length;
this.wj={};for(var g=0;g<J.length;g++){var p=J[g],n=new FileReader;n.onload=this.acq;n.N4=p.name;n.readAsArrayBuffer(p)}};
ck.prototype.Qy=function(z){var J=this.wj[z.target.N4]=new Uint8Array(z.target.result);this.DC--;if(this.DC==0){this.xM();
this.a(new cD(b.E.n));this.et.value=null}};ck.prototype.xM=function(){var z=this.wj;this.h7.MM(j0.get(this.sF)+" ("+Object.keys(z).length+")");
var J=this.Me;if(J==null)return;q.X0(J);var p=[];for(var n in z)p.push(n);p.sort();for(var g=0;g<p.length;
g++){var B=q.m("div");B.textContent=p[g];J.appendChild(B)}};function iD(z,J,p,n,B){if(z==null)z=!1;if(J==null)J=!1;
if(p==null)p=!1;lh.call(this);this.qe=new i_;this.dr=new i_;this.atZ=72;this._K=72;this.axq=n;this.hO=!0;
this.Ej=!1;this._=q.m("span");this.gQ=new kW([12,41],0,0,null,0,!1,!0,4);this._.appendChild(this.gQ._);
this.gQ.D(b.E.n,this.CA,this);var c=["px","%"];if(z)c=c.concat(["cm","mm","in"]);if(B){c=[[12,76,2],[12,76,6]];
if(z)c=c.concat([[12,76,4],[12,76,5],[12,76,3]])}this.R0=new kZ(null,c);this._.appendChild(this.R0._);
q.Uk(this._);this.R0.D(b.E.n,this.CA,this);this.km=new kW([12,42],0,0,null,0,!1,!0,4);this._.appendChild(this.km._);
this.km.D(b.E.n,this.CA,this);this.XZ=new eq("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.XZ.D("click",this.CA,this);this.NN=new bm("");this.NN._.style.margin="0";this.NN._.style.padding="0";
if(J){this._.appendChild(this.XZ._);this._.appendChild(this.NN._);this.XZ.ZN()}else{var t=this.atK=new eq("\u21C6",!1,null,!0);
t.D("click",this.rS,this);this._.appendChild(t._)}this.Vt=new kW("DPI",0,0,null,3,!1,!0,4);this.GI=new kZ(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);
if(z&&!n){q.Uk(this._);this._.appendChild(this.Vt._);this._.appendChild(this.GI._)}this.GI.D(b.E.n,this.CA,this);
this.Vt.D(b.E.n,this.CA,this);this.k0=new k9([12,23,1]);this.k0.D(b.E.n,this.CA,this);if(p){q.Uk(this._);
this._.appendChild(this.k0._)}q.Uk(this._)}iD.prototype=new lh;iD.prototype.B$=function(z,J){this.gQ.d5.style.width=this.km.d5.style.width=(z-78-this.XZ.HX())/2+"px"};
iD.prototype.Xz=function(){var z=this.axq;this.gQ.Xz();this.km.Xz();this.R0.Xz();var J=this._;q.X0(J);
this.R0._.style.marginRight="0";J.appendChild(this.gQ._);if(this.atK)J.appendChild(this.atK._);else J.appendChild(this.XZ._);
J.appendChild(this.km._);J.appendChild(this.R0._);this.Vt.Xz();this.GI.Xz();if(!z){q.Uk(J);J.appendChild(this.Vt._);
J.appendChild(this.GI._)}};iD.prototype.wZ=function(){this.gQ.wZ()};iD.prototype.aHc=function(z,J){this.hO=z;
if(J!=null)this.Ej=J;if(!this.hO&&!this.Ej&&this.R0.V()==0){this.R0.q(4);this.E3()}};iD.prototype.a1j=function(z){this.XZ.q(z)};
iD.prototype.T=function(){this.gQ.T();this.km.T();this.Vt.T();this.GI.T();this.XZ.T();this.k0.T();this.R0.T()};
iD.prototype.rS=function(z){var J=this.dr.x;this.dr.x=this.dr.y;this.dr.y=J;this.E3();this.a(new cD(b.E.n,!1))};
iD.prototype.CA=function(z){if(z.target==this.R0&&!this.hO&&!this.Ej&&this.R0.V()==0)this.R0.q(4);if(z.target==this.R0||z.target==this.k0){this.E3();
return}if(z.target==this.XZ)z.target.q(!z.target.V());if(z.target==this.GI)window.locStor.setItem("dpiUnit",this.GI.V());
var J=this.qe,p=parseFloat(this.gQ.V());if(isNaN(p))p=1;var n=parseFloat(this.km.V());if(isNaN(n))n=1;
var B=this.Vt.V()*[1,2.54][this.GI.V()],c=this.R0.V();if(this.hO){var t=this._K;if(c==1){p=this.qe.x*(p/100);
n=this.qe.y*(n/100)}var u=[1,1,2.54/t,25.4/t,1/t][c];p/=u;n/=u;if(this.k0.V()){p+=this.qe.x;n+=this.qe.y}if(z.target==this.Vt){var v=B;
if(!this.Ej){var A=v/t;p*=A;n*=A}t=v}if(this.XZ.V()){if(z.target==this.gQ)n=p*(J.y/J.x);else p=n*(J.x/J.y)}p=Math.max(Math.abs(p),1);
n=Math.max(Math.abs(n),1)}else{var t=this.atZ;if(z.target==this.Vt)t=B;else{if(this.XZ.V()){if(z.target==this.gQ)n=p*(J.y/J.x);
else p=n*(J.x/J.y)}var u=[1,1,2.54/t,25.4/t,1/t][c],$=p/(c==1?100:J.x*u);t=t/$}p=J.x;n=J.y}this.dr=new i_(Math.round(p),Math.round(n));
this._K=t;this.E3();this.a(new cD(b.E.n,!1))};iD.prototype.ga=function(g){this.R0.q(g);this.E3()};iD.prototype.aky=function(){return this.R0.V()};
iD.prototype.q=function(z,J,p){var n=window.locStor.getItem("dpiUnit");if(n!=null)this.GI.q(n);if(p!=!0)this.qe=z.P();
this.dr=z.P();if(J!=null){this.atZ=J;this._K=J}this.E3()};iD.prototype.E3=function(){var z=this.dr.x,J=this.dr.y,p=this._K,n=(z/J).toFixed(3);
while(n.charAt(n.length-1)=="0")n=n.substring(0,n.length-1);if(n.charAt(n.length-1)==".")n=n.substring(0,n.length-1);
var B="  "+n+" : 1",c=function($,X){while(X!=0){var U=X;X=$%X;$=U}return $},t=c(z,J);if(Math.min(z,J)/t<10)B="  "+Math.round(z/t)+" : "+Math.round(J/t);
this.NN.q(B);if(this.k0.V()){z-=this.qe.x;J-=this.qe.y}var u=this.R0.V();if(u==1){if(this.hO){z=100*z/this.qe.x;
J=100*J/this.qe.y}else{z=J=100*this.atZ/this._K}}else{z=Math.round(z);J=Math.round(J)}var v=[1,1,2.54/p,25.4/p,1/p][u];
z*=v;J*=v;var A=u==1||u==2||u==4?2:0;this.gQ.dl(A);this.km.dl(A);this.gQ.q(z);this.km.q(J);this.Vt.q(p*[1,1/2.54][this.GI.V()])};
iD.prototype.V=function(){return this.dr.P()};iD.prototype.I0=function(){return this._K};function gD(z,J,p){lh.call(this);
var n=z==0?["W","H","X","Y"]:["\u250F","\u2517","\u2513","\u251B"];this.CC=z;this.aI2=J;this.aJz=1;this.ahG=[1,1,0];
var B=this._=q.m("div","numlist"),c=q.m("div","flexrow");B.appendChild(c);var t=q.m("div"),u=q.m("div");
c.appendChild(t);c.appendChild(u);q.v(t,"width:100px");q.v(u,"width:100px");var v=this.xR=[];for(var g=0;
g<4;g++){var A=new kW(n[g],0,0,null,2,!1,!0,4,null,p&&g<2);A.D(b.E.n,this.CA,this);(g<2?t:u).appendChild(A._);
v[g]=A}v[4]=new k9(z==0?[12,51]:[12,91,2]);v[4].q(!0);B.appendChild(v[4]._)}gD.prototype=new lh;gD.prototype.T=function(){var z=this.xR;
for(var g=0;g<5;g++)z[g].T();if(this.CC==0)q.pi(z[0],z[1])};gD.prototype.q=function(z,J){if(J)this.ahG=J;
J=this.ahG;var p=this.CC==0?[z[2],z[3],z[0],z[1]]:[z[0],z[3],z[1],z[2]];this.aJz=z[2]/z[3];for(var g=0;
g<4;g++){var n=this.xR[g];n.dl(J[2]==0&&this.aI2?0:2);n.q(a.DM.gj(p[g],J[0],J[1],J[2]))}};gD.prototype.V=function(){var z=[],J=this.ahG;
for(var g=0;g<4;g++){var p=a.DM.Kf(this.xR[g].V(),J[0],J[1],J[2]);z[g]=this.aI2?Math.round(p):p}var n=this.CC==0?[z[2],z[3],z[0],z[1]]:[z[0],z[2],z[3],z[1]];
return n};gD.prototype.CA=function(z){var J=this.CC,p=this.xR.indexOf(z.currentTarget),n=this.V(),B=this.xR[4].V();
if(J==0){n[2]=Math.max(1,n[2]);n[3]=Math.max(1,n[3]);if(B&&p==0)n[3]=n[2]/this.aJz;if(B&&p==1)n[2]=n[3]*this.aJz}if(J==1){n[p]=Math.max(0,n[p]);
if(B)for(var g=0;g<4;g++)n[g]=n[p]}this.q(n,null);this.a(new cD(b.E.n,!1))};function d0(z){lh.call(this);
this.aEM=0;this._S=[0,0,1,1,100,100];this.EM=[10,5,1,1,4,3,3,2,16,9];this.anF=0;this.a81=72;this.a9m=z;
this._=q.m("span","fitem");this.c6=new kZ(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this._.appendChild(this.c6._);this.c6.D(b.E.n,this.CA,this);this.gQ=new kW("W",0,0,null,2,!1,!0);this._.appendChild(this.gQ._);
this.gQ.D(b.E.n,this.CA,this);var J=this.DS=new eq("\u21C4",!1,null,!0);J.D("click",this.rS,this);this._.appendChild(J._);
this.km=new kW("H",0,0,null,2,!1,!0);this._.appendChild(this.km._);this.km.D(b.E.n,this.CA,this);this.Vt=new kW("New DPI",0,0,null,3,!1,!0,4);
this.Vt.D(b.E.n,this.CA,this);this.q({t:0,x:0,y:0})}d0.prototype=new lh;d0.prototype.Jy=function(z){this.EM[0]=z[0];
this.EM[1]=z[1];var J=this.V();this.a81=z[2];this.anF=z[3];this.q(J)};d0.prototype.T=function(){q.pi(this.gQ,this.km);
this.Vt.T();this.c6.T()};d0.prototype.rS=function(z){var J=this.km.V();this.km.q(this.gQ.V());this.gQ.q(J);
this.CA(z)};d0.prototype.CA=function(z){if(z.target==this.c6){var g=this.c6.V(),J=this._S,p=this.Vt._;
if(g==2&&p.parentNode==null&&this.a9m)this._.appendChild(p);if(g!=2&&p.parentNode!=null)this._.removeChild(p);
if(g>2){g-=3;var n=this.EM[2*g],B=this.EM[2*g+1];J[2]=n;J[3]=B;this.gQ.q(n);this.km.q(B);this.c6.q(1)}var c=this.V();
J[this.aEM*2]=c.x;J[this.aEM*2+1]=c.y;this.aEM=c.t;this.q({t:c.t,x:J[c.t*2],y:J[c.t*2+1]})}if(this.gQ.V()<1)this.gQ.q(1);
if(this.km.V()<1)this.km.q(1);this.a(new cD(b.E.n,!1))};d0.prototype.q=function(z){this.c6.q(z.t);var J=z.x,p=z.y;
if(z.t==2){var n=this.anF,B=this.a81,c=this.EM;J=a.DM.gj(z.x,B,c[0],n);p=a.DM.gj(z.y,B,c[1],n)}this.gQ.q(J);
this.km.q(p);if(z.t==0){this.gQ.EJ();this.km.EJ();this.DS.EJ()}else{this.gQ.sA();this.km.sA();this.DS.sA()}};
d0.prototype.V=function(){var z=this.gQ.V(),J=this.km.V(),p=this.c6.V();if(p==2){var n=this.anF,B=this.a81,c=this.EM;
z=a.DM.Kf(z,B,c[0],n);J=a.DM.Kf(J,B,c[1],n);z=Math.round(z);J=Math.round(J)}var t={t:p,x:z,y:J},u=this.Vt.V();
if(this.a9m&&u!=0)t.Ge=u;return t};function kK(z){lh.call(this);this._=q.m("span","");this.aCw=z;var J=z?100:300;
this.wm=new jT("Off X",-J,J,z?"%":"px",0,!z);this.FI=new jT("Off Y",-J,J,z?"%":"px",0,!z);this.wm.D(b.E.n,this.CA,this);
this.FI.D(b.E.n,this.CA,this);this._.appendChild(this.wm._);this._.appendChild(this.FI._)}kK.prototype=new lh;
kK.prototype.T=function(){this.wm.T();this.FI.T()};kK.prototype.CA=function(z){this.a(new cD(b.E.n,!1))};
kK.prototype.aLv=function(z){this.wm.q(z.x);this.FI.q(z.y)};kK.prototype.a8C=function(){return new i_(this.wm.V(),this.FI.V())};
kK.prototype.q=function(z,J){var p=z.Hrzn.v,n=z.Vrtc.v;if(this.aCw){p=p.val;n=n.val}this.wm.q(p);this.FI.q(n);
if(J==!0)this.CA()};kK.prototype.V=function(){var z=this.wm.V(),J=this.FI.V();if(this.aCw)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:z}},Vrtc:{t:"UntF",v:{type:"#Prc",val:J}}};
else return{classID:"Pnt",Hrzn:{v:z,t:"doub"},Vrtc:{v:J,t:"doub"}}};function aq(z,J){lh.call(this);this._=q.m("button");
this.U6=[{tM:3,ji:[]},{tM:3,ji:[12,6],eY:0},{tM:3,ji:[0,6],eY:1,AE:1}];this.lV=a_.St.J0();this.a90=z;
this.FZ=J;this._.addEventListener("click",this.Hg.bind(this),!1);var p=q.m("canvas","gsicon");this.$l=p.getContext("2d");
this._.appendChild(p);var n=q.m("span");n.textContent=" \u25BC";this._.appendChild(n);this.pF=new lh;
this.pF.parent=this;this.pF._=q.m("div","floatcont form label6");var B=this.pF._;q.v(B,"width: 15em;");
this.CX=[J?new k9("Fill First"):new kZ([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new fD([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new fD([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new kW("Limit",1,50,null,null,null,!0,2.5),new dz([19,9,2])];
for(var g=0;g<this.CX.length;g++){var c=this.CX[g];if(ex==0||g!=0||!J)B.appendChild(c._);c.D(b.E.n,this.CA,this)}q.Uk(B);
this.cm=[];var t=this.vw.bind(this);for(var g=0;g<this.U6.length;g++){var u=q.m("button","fitem");this.cm.push(u);
B.appendChild(u);u.addEventListener("click",t,!1);var p=q.m("canvas","gsicon"),v=p.getContext("2d");
u.appendChild(p);this.aIk(v,40,20,this.U6[g])}}aq.prototype=new lh;aq.prototype.Hg=function(z){var J=this._.getBoundingClientRect(),p=new cD(b.E.c,!0);
p.data={R:b.J.v0,NC:this.pF,x:J.left,y:J.top+J.height+4,bM:!0};this.a(p)};aq.prototype.CA=function(z){var J=this.CX,p=J.indexOf(z.target),n=J[p].V(),B=this.lV;
if(p==0)B.O_=this.FZ?n?1:0:n;if(p==1)B.eY=n;if(p==2)B.AE=n;if(p==3)B.Rw=n;if(p==4){var c=B.ji=n==""?[]:n.split(" ").map(parseFloat);
if(!this.a90)for(var g=0;g<c.length;g++)c[g]*=B.tM}this.a(new cD(b.E.n,!1))};aq.prototype.vw=function(z){var J=this.cm.indexOf(z.currentTarget),p=this.U6[J],n=this.lV;
if(p.eY!=null)n.eY=p.eY;if(p.AE!=null)n.AE=p.AE;n.ji=p.ji.slice(0);if(n.tM==null)n.tM=3;for(var g=0;
g<n.ji.length;g++)n.ji[g]*=n.tM/p.tM;this.a(new cD(b.E.n,!1))};aq.prototype.T=function(){for(var g=0;
g<this.CX.length;g++)this.CX[g].T()};aq.prototype.q=function(z){this.lV=a.G(z);var J=this.CX;if(z.O_!=null)J[0].q(this.FZ?z.O_==1:z.O_);
if(z.eY!=null)J[1].q(z.eY);if(z.AE!=null)J[2].q(z.AE);if(z.Rw!=null)J[3].q(z.Rw);J[3].h6(z.AE==0);if(z.ji!=null){var p=z.ji.slice(0);
if(!this.a90)for(var g=0;g<p.length;g++)p[g]/=z.tM;J[4].q(p.join(" "))}this.aIk(this.$l,40,16,z)};aq.prototype.V=function(){return a.G(this.lV)};
aq.prototype.aIk=function(z,J,p,n){q.jI(z.canvas,J,p);var B=n.ji?n.ji:[],c=n.tM;if(c==null)c=3;else{c=Math.min(5,c);
B=B.slice(0);for(var g=0;g<B.length;g++)B[g]*=c/n.tM}z.clearRect(0,0,J,p);z.setLineDash(B);z.lineCap=["butt","round","square"][n.eY];
z.lineJoin=["miter","round","bevel"][n.AE];z.lineWidth=c;z.beginPath();z.moveTo(0,p/2);z.lineTo(J*2,p/2);
z.stroke()};function lb(z){hM.call(this,z,!1,"contourbutton",34*13,16*13,iQ.e_,!0);this.mY=new dz([12,86],null,16);
this.mY.D("input",this.Za,this);this.pF._.appendChild(this.mY._);this.akb=null;this.QI="";this.vI=null;
this.q(iV.J0())}lb.prototype=new hM;lb.prototype.T=function(){hM.prototype.T.call(this);this.mY.T()};
lb.prototype.uD=function(z){this.q(this.akb[z.target.V()[0]]);this.a(new cD(b.E.n))};lb.prototype.Za=function(z){this.QI=this.mY.V().toLowerCase();
this.aGv()};lb.arO=!1;lb.prototype.QU=function(){if(!this.XB)return;var z=this.vO;if(z==null||!lb.arO){var J=new cD(b.E.c,!0);
J.data={R:b.J.Je,Xu:{url:"rsrc/basic/fa.zip"}};this.a(J);lb.arO=!0}else{var p=Date.now(),n=Math.floor(38*q.$q()),B=Math.floor(38*q.$q());
this.vI=[];for(var g=0;g<z.length;g++){if(z[g].a2a==null)z[g].a2a=lb.aIv(z[g],n,B);this.vI.push(z[g].a2a)}this.aGv();
this.XB=!1}};lb.prototype.aGv=function(){var z=Math.floor(38*q.$q()),J=Math.floor(38*q.$q());this.akb=[];
var p=[],n=[],B=this.vO;for(var g=0;g<B.length;g++){if(B[g].vS.toLowerCase().indexOf(this.QI)==-1)continue;
this.akb.push(B[g]);p.push(this.vI[g]);n.push(B[g].vS)}this.P5.VK(p,n,z,J)};lb.prototype.q=function(z){this.TG=lb.P(z);
this.oJ()};lb.prototype.oJ=function(){var z=Math.floor(23*q.$q()),J=Math.floor(23*q.$q()),p=lb.aIv(this.TG,z,J);
this.J2.setAttribute("src",p);q.MT(this.J2,z,J)};lb.prototype.V=function(){return lb.P(this.TG)};lb.P=function(z){return{vS:z.vS,wl:z.wl,u:bi.jP.Ox(z.u),J4:z.J4.P()}};
lb._V=null;lb.$l=null;lb.aIv=function(z,J,p){var n=z.J4,B=Math.min(J/n.r,p/n.$)*.9,c=new fA;c.translate(-.5,-.5);
c.scale(.95,.95);c.translate(.5,.5);c.scale(B*n.r,B*n.$);c.translate((J-B*n.r)/2,(p-B*n.$)/2);var t=a.za(J,p);
t.save();t.fillStyle="black";t.clearRect(0,0,J,p);t.setTransform(c.k6,c.X,c.GQ,c.JH,c.Rf,c.Sm);a.z.$z(z.u,t,0,0);
t.restore();var u=UPNG.encode([t.getImageData(0,0,J,p).data.buffer],J,p,0);return"data:image/png;base64,"+kL.Lk(u)};
function eV(z){hM.call(this,z,!1,"ICCButton",16*13,12*13,iQ.NQ,!0);this.P5.OC(1)}eV.prototype=new hM;
eV.prototype.ze=function(){var z="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var g=0;g<z.length;g++)z[g]="luts/"+z[g]+".CUBE";return z};eV.prototype.uD=function(z){this.q(this.vO[z.target.V()]);
this.a(new cD(b.E.n))};eV.prototype.QU=function(){if(!this.XB)return;var z=Math.floor(1*q.$q()),J=Math.floor(1*q.$q()),p=[],n=[],B=this.vO;
for(var g=0;g<B.length;g++){var c=B[g].Nm.v.split("\\").pop().split("/").pop();n.push(c);p.push(eV.ky(B[g],z,J))}this.P5.VK(p,n,z,J);
this.XB=!1};eV.ky=function(z,J,p){var n=q.m("canvas"),t="ICC / 3DL / look / cube";n.width=J;n.height=p;
var B=n.getContext("2d"),c=Math.floor(14*q.$q());B.font=c+"px sans-serif";if(z.Nm)t=z.Nm.v.split("\\").pop().split("/").pop();
B.fillText(t,10,c);return n.toDataURL()};eV.prototype.oJ=function(){var z=Math.floor(120*q.$q()),J=Math.floor(20*q.$q());
this.J2.setAttribute("src",eV.ky(this.TG,z,J));q.MT(this.J2,z,J)};function k8(){lh.call(this);this.aE=null;
this._=q.m("span","fitem");this.Pq=new hV([14,9]);this.azG=new kW(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.Vc=new aq;this.HP=[this.Pq,this.azG,this.Vc];for(var g=0;g<this.HP.length;g++){var z=this.HP[g];
this._.appendChild(z._);z.parent=this;z.D(b.E.n,this.CA,this)}}k8.prototype=new lh;k8.prototype.T=function(){for(var g=0;
g<this.HP.length;g++)this.HP[g].T()};k8.prototype.Sc=function(z,J){this.Pq.Sc(z,J)};k8.prototype.CA=function(z){var J=this.aE,p=this.Pq.V();
a_.bC(J,p);J.strokeStyleLineWidth.v.val=this.azG.V();if(z.target==this.Vc)a_.jM.write(J,this.Vc.V());
this.aE=J;this.a(new cD(b.E.n,!1))};k8.prototype.q=function(z,J,p){this.aE=a.G(J);var n=a_.cb(J);this.Pq.q(z,n,p);
this.azG.q(J.strokeStyleLineWidth.v.val);this.Vc.q(a_.jM.kn(J))};k8.prototype.V=function(){return a.G(this.aE)};
function hO(z){var J=[[18,0],[18,1],[18,2],[18,3]],p=fD.Kg(["set/front","set/union","set/difference","set/intersection"]);
fD.call(this,z?[12,36]:null,p,J)}hO.prototype=new fD;function jF(){lh.call(this);this._=q.m("button","fitem bbtn");
q.tN(this._,this.oy.bind(this));this.pF=new lh;this.pF._=q.m("div","floatcont form");q.v(this.pF._,"max-width: 200px;");
this.pF.parent=this;var z=kN;this.Nt=[new k9("Start"),new k9("End"),new z([12,41],0,100,"px",null,!0,null,!0),new z([12,80,0],0,100,"px",null,!0,null,!0),new z("Concavity",-50,50,"%",null,null,null,!0)];
for(var g=0;g<this.Nt.length;g++){var J=this.Nt[g];J.parent=this;J.D(b.E.n,this.WW,this);this.pF._.appendChild(J._)}this.al9=q.m("div");
this.pF._.appendChild(this.al9)}jF.prototype=new lh;jF.prototype.q=function(z){for(var g=0;g<5;g++)this.Nt[g].q(z[g]);
this.xM()};jF.prototype.V=function(z){var J=[];for(var g=0;g<5;g++)J[g]=this.Nt[g].V();return J};jF.prototype.T=function(){this._.textContent=j0.get([12,93,4]);
for(var g=0;g<this.Nt.length;g++)this.Nt[g].T()};jF.prototype.WW=function(z){this.a(new cD(b.E.n,!1));
this.xM()};jF.prototype.xM=function(z){var J=this.V(),p=200,n=60;J[2]/=q.$q();J[3]/=q.$q();var B=a.z.dZ.Pi(0,n/2,p,n/2,5,J),c=a.z.Kv(B);
this.al9.innerHTML="<svg width=\""+p+"\" height=\""+n+"\" class=\"gsicon\">\t\t\t<path d=\""+c.kE+"\" />\t\t\t</svg>"};
jF.prototype.oy=function(z){if(q.SA(this.pF._))return;z.stopPropagation();var J=this._.getBoundingClientRect(),p=new cD(b.E.c,!0);
p.data={R:b.J.v0,NC:this.pF,x:J.left,y:J.top+J.height,bM:!0};this.a(p)};function bL(){lh.call(this);
this._=q.m("div");this.xR=[];this.a1p=[];var z=this.Cl=q.m("div"),J=q.m("h2");J.textContent="Create Teams";
z.appendChild(J);J.style.margin="26px 0 16px 0";var p=new eq("More about Teams",!1,null,!0);J.appendChild(p._);
p._.style.float="right";p.D("click",this.aHA,this);this.ot=q.m("div");z.appendChild(this.ot);this.a3$=new dz("Team Name",null,10);
z.appendChild(this.a3$._);var n=this.anQ=new eq("Create Team",null,null,!0);z.appendChild(n._);n.D("click",this.aGD,this);
var J=q.m("h2");J.textContent="Join Teams";z.appendChild(J);J.style.margin="26px 0 16px 0";this.dA=q.m("div");
z.appendChild(this.dA);this.abF=new dz("Team ID",null,10);z.appendChild(this.abF._);var n=new eq("Join Team",null,null,!0);
z.appendChild(n._);n.D("click",this.aGD,this);this.as5;this.as1=this.DK.bind(this);this.aiT=this.a1S.bind(this);
this.aGQ=!1;this.gR();this.Of=null;this.akH=""}bL.prototype=new lh;bL.prototype.aHA=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.SE,link:"https://www.photopea.com/api/accounts#teams"};this.a(J)};bL.prototype.gR=function(){clearTimeout(this.aHm);
this.aHm=setTimeout(this.aiT,this.Of?10:3e3)};bL.prototype.a1S=function(){var z=j8.uO();if(document.hidden||!q.SA(this._)||z==null){this.gR();
return}var J=j8.nF();if(this.Of==null&&J==null)return;j8.GG(this.Of?this.Of:J,this.as1);this.aGQ=!0;
this.Of=null};bL.prototype.aGk=function(z){z.acc.update=!0;this._.style.pointerEvents="none";this._.style.opacity="0.5";
if(this.aGQ)this.Of=z;else{clearTimeout(this.aHm);j8.GG(z,this.as1)}};bL.prototype.RZ=function(z){var J=typeof z=="string"?this.as5:this.xR.indexOf(z.target),p=this.a1p[J],n=p[0],B=j8.nF();
if(B==null)B={};var c=B.acc,t=c.tjoin,u=c.tstart;if(n=="leave"){t.splice(t.indexOf(p[1]),1)}if(n=="add"||n=="remove"||n=="delTeam"||n=="showRename"||n=="rename"){var v=-1,A=0;
for(var g=0;g<u.length;g++){A+=u[g][1].length;if(u[g][2]==p[1])v=g}var $=u[v];if(n=="add"){var X=j8.x_();
if(X&&X[0]==0&&X[1][2]<=A){alert("You can have at most "+X[1][2]+" members in your Premium.");return}$[1].push(p[2])}if(n=="remove")$[1].splice($[1].indexOf(p[2]),1);
if(n=="delTeam"){if($[1].length!=0){alert("Remove members first.");return}u.splice(v,1)}if(n=="showRename"){var U=new cD(b.E.c,!0);
U.data={R:b.J.Ym,i9:"namewindow",PY:$[0],RD:this.RZ.bind(this)};this.a(U);this.as5=J;p[0]="rename";return}if(n=="rename")$[0]=z}this.aGk(B)};
bL.prototype.aGD=function(z){var J=this.anQ==z.target,p=(J?this.a3$:this.abF).V().trim();if(p==""){alert("The Team "+(J?"Name":"ID")+" is empty.");
return}if(!J){p=parseInt(p);if(isNaN(p)){alert("The ID must be a number");return}}var n=j8.nF();if(n==null)n={};
var B=n.acc;if(B==null)B=n.acc={};var c=B.tstart,t=B.tjoin;if(J){if(c==null)c=B.tstart=[];if(c.length>5){alert("You can have at most 5 teams");
return}c.push([p,[]])}else{if(c)for(var g=0;g<c.length;g++)if(c[g][2]==p){alert("You are the owner of this team");
return}if(t==null)t=B.tjoin=[];if(t.indexOf(p)!=-1){alert("You already asked to join this team.");return}B.tjoin.push(p)}B.update=!0;
this.aGk(n)};bL.prototype.DK=function(){this.aGQ=!1;var z=j8.uO(),J=z!=null,p=this.Cl.parentNode!=null;
if(J!=p){q.X0(this._);if(J)this._.appendChild(this.Cl);else this._.textContent="Log In to access Team Settings."}if(!J)return;
var n=j8.nF();if(n==null)n={};var B=n.acc;if(B==null)B={};var c=JSON.stringify(B)+"===="+JSON.stringify(z);
if(c!=this.akH){this.akH=c;var t=this.ot,u=this.dA;q.X0(t);q.X0(u);var v=this.xR=[],A=this.a1p=[],$=this.RZ.bind(this);
function X(S,R){S.addEventListener("click",$);v.push(S);A.push(R)}function U(_,S){var F=q.m("div"),R="rgba(255,255,255,0.15)";
F.appendChild(P("ID: "+_[2],54,R));F.appendChild(P(_[0],160,null,!0));if(S){F.appendChild(P(_[1].length+" members",80,null,!0))}else{F.appendChild(P(_[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<_[1]*1e3)F.appendChild(P("Premium",80,"rgba(0,140,0,1)"))}var I=P("",120);F.appendChild(I);
q.v(I,"float:right;text-align:right");if(S){var D=new eq("Rename",null,null,!0);X(D,["showRename",_[2]]);
I.appendChild(D._)}var D=new eq(S?"Delete":"Leave",null,null,!0);X(D,[S?"delTeam":"leave",_[2]]);I.appendChild(D._);
return F}function w(S,R,H){var F=q.m("div");F.style.paddingLeft="46px";F.appendChild(P(R?"\u2713":"...",8,R?"#229922":"#aa7700"));
F.appendChild(P(S[1],200));F.appendChild(P(S[2],240));var I=P("",120);F.appendChild(I);q.v(I,"float:right;text-align:right");
var D=new eq(R?"Remove":"Add",null,null,!0);X(D,[R?"remove":"add",H,S[0]]);I.appendChild(D._);return F}function P(S,R,I,D){var G=q.m("span");
G.textContent=S;q.v(G,"display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+R+"px;  "+(I!=null?"background-color:"+I+";":"")+(D?"font-weight:bold;":""));
return G}var k=B.tstart,T=B.tjoin,Z=z.wantToJoin,i=z.inTeams;if(k)for(var V=0;V<k.length;V++){var _=k[V],y=Z["t"+_[2]];
if(y==null)y=[];var E={};for(var g=0;g<y.length;g++)E["u"+y[g][0]]=y[g];var F=U(_,!0);t.appendChild(F);
F.style.marginTop="10px";for(var g=0;g<_[1].length;g++){var d=_[1][g],x=E["u"+d];if(x==null)x=[d,"========","... user has left your team"];
delete E["u"+d];var f=w(x,!0,_[2]);t.appendChild(f)}for(var Q in E){var x=E[Q],f=w(x,!1,_[2]);t.appendChild(f)}}if(T){var m={};
for(var g=0;g<i.length;g++)m["t"+i[g][2]]=i[g];for(var V=0;V<T.length;V++){var H=T[V],_=m["t"+H],F=U(_?_:["==========",-1,H],!1);
u.appendChild(F)}}this.a(new cD(b.E.n))}if(this.Of==null){this._.style.pointerEvents="auto";this._.style.opacity="1"}this.gR()};
function dh(){lh.call(this);this._=q.m("span","fitem SymButton");var z=this.h7=new eq("<img src=\""+PIMG.sym+"\" class=\"autoscale gsicon\" />");
this._.appendChild(z._);q.ol(z._,this.Yi.bind(this));this.o7=null;this.T()}dh.prototype=new lh;dh.prototype.T=function(){if(this.o7)this.o7.T()};
dh.prototype.Yi=function(z){var J=this.o7;if(J==null){var p=40,n=40,B=q.m("canvas"),c=B.getContext("2d");
B.width=p;B.height=n;var t=new fA(p,0,0,n,0,0);c.lineWidth=2;var u=[{name:"No Symmetry",$h:!0}],v=a.H6.list,A=[{g:b.E.H,l:L.q4,d:{R:"pathedit",el:"sspath",K:-1}}];
for(var g=0;g<v.length;g++){c.clearRect(0,0,p,n);var $=a.H6.mp(g,5);a.b.h($.L,t,$.L);for(var X=0;X<$.L.length;
X++)$.L[X]=Math.round($.L[X]);c.beginPath();Typr.U.pathToContext({cmds:$.Ao,crds:$.L},c);c.rect(0,0,p,n);
c.stroke();var U={name:v[g][0],oB:c.canvas.toDataURL()};u.push(U);if(g<8)A.push({g:b.E.H,l:L.q4,d:{R:"pathedit",el:"new",sC:[g,0]}});
else{U.sub=[];var w={sub:[]};A.push(w);for(var X=0;X<12;X++){U.sub.push({name:"Rays: "+(2+X)});w.sub.push({g:b.E.H,l:L.q4,d:{R:"pathedit",el:"new",sC:[g,2+X]}})}}}u[u.length-1].$h=!0;
u.push({name:"Selected Path"},{name:"Transform Symmetry"});A.push({g:b.E.H,l:L.q4,d:{R:"pathedit",el:"sspath",K:0}},{g:b.E.H,l:L.q4,d:{R:"pathedit",el:"sspath",K:1}});
J=this.o7=new ka(u,A)}var P=this.h7._.getBoundingClientRect();J.T();J.parent=this;var w=new cD(b.E.c,!0);
w.data={R:b.J.v0,NC:J,x:P.x,y:P.y+P.height};this.a(w)};function gW(){lh.call(this);this.HY=[16,!0,!0];
this._=q.m("span","");this.rJ=[new kW([12,24],0,255),new k9([12,25,1]),new k9([12,25,0])];for(var g=0;
g<3;g++){var z=this.rJ[g];z.parent=this;z.q(this.HY[g]);this._.appendChild(z._);z.D(b.E.n,this.CA,this)}}gW.prototype=new lh;
gW.prototype.CA=function(){for(var g=0;g<3;g++)this.HY[g]=this.rJ[g].V();this.a(new cD(b.E.n,!1))};gW.prototype.q=function(z){this.HY=z.slice(0);
for(var g=0;g<3;g++)this.rJ[g].q(z[g])};gW.prototype.V=function(){return this.HY.slice(0)};gW.prototype.T=function(){for(var g=0;
g<3;g++)this.rJ[g].T()};function k3(z,J){lh.call(this);if(J==null)J=!1;this.vI=[];this.aku=Math.floor(120*q.$q());
this.awT=Math.floor(23*q.$q());this.zL=0;this.K8=[];this.he=[];for(var p in a.TX.I){if((p=="warpCustom"||p=="warpCylinder")&&!J)continue;
this.K8.push(p);this.he.push(a.TX.I[p])}this._=q.m("span","fitem warpbutton");this.pF=new lh;this.pF._=q.m("div","floatcont");
if(z){this.sF=z;this.o$=q.m("label","flabel");this._.appendChild(this.o$)}this.R=q.m("button");this._.appendChild(this.R);
q.tN(this.R,this.oy.bind(this));this.ne=new en(!0);this.pF._.appendChild(this.ne._);this.ne.D(b.E.n,this.asl,this);
q.v(this.pF._,"width:"+Math.floor(8+this.aku/q.$q())+"px;");this.T()}k3.prototype=new lh;k3.prototype.MM=function(z){this.o$.textContent=z};
k3.prototype.T=function(){if(this.sF)this.o$.innerHTML=j0.get(this.sF)+":";this.oJ()};k3.apd={};k3.aGS=function(z,J,p){var n=j0.get(a.TX.I[z]),B=n+"-"+z+"-"+J+"-"+p,c=k3.apd[B];
if(c)return c;var t=k3.$l;if(u==null){var u=q.m("canvas");t=k3.$l=u.getContext("2d")}var u=t.canvas;
if(u.width!=J||u.height!=p){u.width=J;u.height=p}t.font=Math.floor(13*q.$q())+"px sans-serif";t.lineWidth=1;
t.strokeStyle="#000000";var v=Math.floor(16*q.$q()),A=new fw(0,0,v,v);t.clearRect(0,0,u.width,u.height);
var $=a.TX.TX(z,z=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);a.TX.amT($[3],A);var X=a.b.e3(A);
X.Ao.push("M","L","M","L");X.L.push(0,v/2,v,v/2);X.L.push(v/2,0,v/2,v);X=a.b.bm(X);X=a.b.mW(X,v/5);a.IN.h($,X.L,A);
a.b.h(X.L,new fA(1,0,0,1,Math.floor(8*q.$q())+.5,Math.floor(3*q.$q())+.5),X.L);t.beginPath();Typr.U.pathToContext({cmds:X.Ao,crds:X.L},t);
t.stroke();t.fillText(n,Math.floor(40*q.$q()),Math.floor(16*q.$q()));c=k3.apd[B]=u.toDataURL();return c};
k3.prototype.oy=function(z){if(q.SA(this.pF._))return;z.stopPropagation();var J=this.aku,p=this.awT;
for(var g=0;g<this.K8.length;g++)this.vI[g]=k3.aGS(this.K8[g],J,p);this.ne.VK(this.vI,null,J,p);var n=this.R.getBoundingClientRect(),B=new cD(b.E.c,!0);
B.data={R:b.J.v0,NC:this.pF,x:n.left,y:n.top+n.height+4};this.a(B)};k3.prototype.asl=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.t9,NC:this.pF};this.a(J);this.zL=z.target.V()[0];this.oJ();this.a(new cD(b.E.n))};k3.prototype.oJ=function(){var z=this.aku,J=this.awT;
this.ne.q([this.zL]);this.R.innerHTML="<img src=\""+k3.aGS(this.K8[this.zL],z,J)+"\" class=\"gsicon\" />";
q.MT(this.R.firstChild,z,J)};k3.prototype.V=function(){return this.K8[this.zL]};k3.prototype.q=function(z){this.zL=this.K8.indexOf(z);
this.oJ()};function kw(z,J,p){lh.call(this);if(z==null)z=!1;if(J==null)J=!1;if(p==null)p=!1;this.a1o=J;
this.TX=null;this.Vx=new k3([12,22],p);this.Vx.parent=this;this.Vx.D(b.E.n,this.Jc,this);this.yn=new kZ([22,0],[[22,4,0],[22,4,1]]);
this.yn.D(b.E.n,this.Jc,this);var n=z?kW:kN;this.IX=new n([22,1],-100,100,"%");this.Dq=new n("Horizontal Distortion:",-100,100,"%");
this.uM=new n("Vertical Distortion:",-100,100,"%");this.IX.parent=this.Dq.parent=this.uM.parent=this;
this.IX.D(b.E.n,this.Jc,this);this.Dq.D(b.E.n,this.Jc,this);this.uM.D(b.E.n,this.Jc,this)}kw.prototype=new lh;
kw.prototype.T=function(){this.Vx.T();this.yn.T();this.IX.T();var z=this.a1o?1:100;this.Dq.MM(j0.get([22,2]).substring(0,z)+":");
this.uM.MM(j0.get([22,3]).substring(0,z)+":")};kw.prototype.Jc=function(){var z=this.TX,J=this.Vx.V(),p=z.warpStyle.v.warpStyle;
if(J=="warpCustom")a.TX.le(z,a.TX.Dz(z));else delete z.customEnvelopeWarp;z.warpStyle.v.warpStyle=this.Vx.V();
z.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.yn.V()];var n=this.IX.V();z.warpPerspective.v=this.Dq.V();z.warpPerspectiveOther.v=this.uM.V();
if(J=="warpNone"||J=="warpCustom"){n=0;z.warpPerspective.v=0;z.warpPerspectiveOther.v=0}else if(p=="warpNone"||p=="warpCustom"||p=="warpCylinder")n=50;
if(J!="warpCylinder"){z.warpValue={t:"doub",v:n};delete z.warpValues}else{z.warpValues=L.tp.ey([0,100,100,0,.15,.2,1]);
delete z.warpValue}this.a(new cD(b.E.n,!1));this.q(z)};kw.prototype.V=function(z){return a.G(this.TX)};
kw.prototype.q=function(z){this.TX=a.G(z);var J=z.warpStyle.v.warpStyle,p=J=="warpNone"||J=="warpCustom"||J=="warpCylinder";
this.Vx.q(J);if(!p){this.yn.q(z.warpRotate.v.Ornt=="Hrzn"?0:1);this.IX.q(z.warpValue.v);this.Dq.q(z.warpPerspective.v);
this.uM.q(z.warpPerspectiveOther.v)}var n=[this.yn,this.IX,this.Dq,this.uM];for(var g=0;g<n.length;g++)if(p)n[g].EJ();
else n[g].sA()};function eQ(z,J,p){lh.call(this);this.aqz={};this._=q.m("div");this.auU=z;this.cg=null;
this.vQ=new i_(0,0);this.WA="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.aKH=J;
this.aar=p;this.ay=null;this.KN=new q.RR(this._);this.c5("grab");this._V=q.m("canvas","canv");this._.appendChild(this._V);
this.$l=this._V.getContext("2d",{willReadFrequently:!0});this.av1=null;this.b_=null;this.rW=0;this.a5Y=0;
this.a32=0;this.a59=0;this.aF3=this.a2t.bind(this);this.asq=null;this.i=new dc({r:1,$:1});this.O0=null;
this.lC=null;this.Ex=[];this.ayc=0;this.G5=0;this.arm=this.Zf.bind(this);this.a9K=this.Is.bind(this);
this.aue=this.fW.bind(this);this.ai0=this.o6.bind(this);this.acy=0;this.pl=null;this.ac4(this._V);this.FH(this)}eQ.prototype=new lh;
eQ.prototype.aua=function(z){this.aqz=z;this.x9()};eQ.du=function(z){var J=new l5(!0);if(z>=0)J.aH("Space");
if(z>=1){J.aH("ControlLeft");if(z==2)J.aH("AltLeft")}return J};eQ.prototype.qA=function(z){var J=this.ay,p=null;
if(z.Q(l5.BE)){p="grab";if(z.Q(l5.zT)){p="zoom-in";if(z.Q(l5.W0))p="zoom-out"}}this.cg=p;if(p)J=p;this.KN.DK(J,this.WA);
if(z.Q(l5.zT)){var n=0;if(z.Q(l5.xg))n=1;if(z.Q(l5.a6))n=-1;if(n!=0){this.U9(new i_(this._V.width/2,this._V.height/2),n==1)}}};
eQ.prototype.c5=function(z){this.ay=z;if(this.cg)return;this.KN.DK(z,this.WA)};eQ.prototype.ac4=function(z){q.tN(z,this.arm);
q.Ze(z);z.addEventListener("wheel",this.ai0,!1)};eQ.prototype.FH=function(z){z.D("viewchange",this.a1J,this)};
eQ.prototype.a1J=function(z){var J=this.i.XP,p=z.currentTarget.rO();this.i.XP=p.XP;this.i.p=p.p.P();
if(J!=p.XP)this.PT();this.x9()};eQ.prototype.rO=function(){return{XP:this.i.XP,p:this.i.p}};eQ.prototype.q=function(z,J,p,n){var B=z[0].eE;
if(this.b_!=null&&this.b_[0].eE.Vm(B)){}else{this.i.CT={r:B.r,$:B.$};this.i.XP=1;this.i.p=new i_(0,0)}this.b_=z;
this.PT(n);this.tV();this.rW=0;this.a5Y=Date.now();this.a32=0;this.a59=J==null?0:J;if(p)this.aqz=p;this.a2t(n)};
eQ.prototype.o6=function(z){z.preventDefault();if(z.deltaY==0||Date.now()-this.acy<100)return;var J=q.bZ(z);
J.x=q.$q()*J.x;J.y=q.$q()*J.y;this.acy=Date.now();this.U9(J,z.deltaY<0)};eQ.prototype.U9=function(z,J){L.gf.xp(this.i,z,J);
this.adE()};eQ.prototype.PH=function(z){var J=this.i,p=this.b_[0].eE;this.i.XP=L.gf.ag(p.r,p.$,J.B7.r,J.B7.$);
if(z)this.i.p=new i_(0,0);this.adE()};eQ.prototype.adE=function(){this.PT();this.a(new cD("viewchange"));
this.a(new cD("zoom"))};eQ.prototype.PT=function(z){};eQ.prototype.tV=function(){clearTimeout(this.asq)};
eQ.prototype.x9=function(z){if(this.b_==null||!q.SA(this._V)||z&&z.Sz())return;var J=this.i,p=this.b_[0].eE,n=J.B7,B=n.r,c=n.$,t=this.av1,_,y=null;
if(t==null||t.length!=n.C()*4){t=this.av1=a.j(n.C()*4);console.log("creating image data")}else t.fill(0);
var u=this.b_[this.rW],v=this.$l,A=J.kb(!1),$=A.P();$.oU();var X=Date.now(),U=z?z:p,w=a.b.e3(U).L;a.b.h(w,$,w);
var P=a.b._g(w),k=n.ly(P),T=new Uint8Array(t.buffer,0,k.C()*4);dc.e9(J.B7);var Z=new Uint8Array(dc.iu.buffer,0,k.C()*4),i=new Uint8Array(u.data);
if(J.XP==1){var V=p.P();V.offset(P.x-U.x,P.y-U.y);a.nk(i,V,Z,k)}else a.scale.MY(i,p,A,Z,k,!1);if(this.aKH)_=Z;
else{_=T;a.jp(T,k.r,k.$,8,U.x,U.y);a.B.Oe("norm",Z,k,T,k,k,1)}if(z==null)v.clearRect(0,0,B,c);if(k.C()!=0)v.putImageData(new ImageData(new Uint8ClampedArray(_.buffer,0,k.C()*4),k.r,k.$),k.x,k.y);
if(this.aar){B=p.r,c=p.$;y=B+" \xD7 "+c+" ("+(B*c/1e6).toFixed(1)+"MP)"}var E=eQ.a0N(J.XP,"#ffffff",y);
v.putImageData(E,0,J.B7.$-E.height);var F=this.aqz;if(F){var d=hY.aF([.1,.5,1,1]),x=hY.aF([1,0,0,1]),f=hY.aF([1,1,1,1]),Q=hY.aF([0,0,0,1]),$=J.kb(!1);
$.oU();v.save();v.setTransform($.k6,$.X,$.GQ,$.JH,$.Rf,$.Sm);v.strokeStyle=x;if(F.a2f){hY.hY(F.a2f,null,v);
v.lineWidth=1/J.XP;v.stroke()}v.strokeStyle=f;if(F.a1x){hY.hY(F.a1x,null,v);v.lineWidth=1/J.XP;v.stroke();
v.strokeStyle=Q;v.setLineDash([4/J.XP,4/J.XP]);v.stroke();v.setLineDash([])}v.strokeStyle=d;v.fillStyle=hY.aF([1,1,1,1]);
if(F.cV){hY.hY(F.cV,null,v);v.lineWidth=1/J.XP;v.stroke()}if(F.MG){hY.CU(F.MG,v,J,.5);v.lineWidth=2/J.XP;
v.stroke();v.fill()}if(F.fj){v.font=16/J.XP+"px sans-serif";var m=1/J.XP;for(var g=0;g<F.fj.length;g++){var H=F.fj[g],S=H[0],R=H[1]+6/J.XP,I=H[2];
v.fillStyle="black";v.fillText(I,S-m,R);v.fillText(I,S+m,R);v.fillStyle="white";v.fillText(I,S,R)}}v.restore()}v.getImageData(0,0,1,1)};
eQ.aIt="";eQ.a5c=null;eQ.a0N=function(z,J,p){if(p==null)p="";var n="z"+z+","+J+","+p;if(n==eQ.aIt)return eQ.a5c;
var B=Math.round(50*q.$q()),c=Math.round(18*q.$q()),t=p==""?0:Math.round((p.length+2)*c*.35),u=q.m("canvas"),v=u.getContext("2d");
u.width=B+t;u.height=c;v.fillStyle="rgba(1,1,1,1)";v.fillRect(0,0,B,c);if(p!="")v.fillRect(B+2,0,t,c);
v.font=Math.round(11*q.$q())+"px monospace";v.fillStyle=J;var A=z*100;if(A<100)A=A.toFixed(2);else A=Math.round(A);
A=A+"%";var $=v.measureText(A).width;v.fillText(A,(B-$)/2,Math.round(c*.7));if(p!=""){var X=v.measureText(p).width;
v.fillText(p,B+(t-X)/2+1,Math.round(c*.7))}var U=v.getImageData(0,0,B+t,c);eQ.aIt=n;eQ.a5c=U;return U};
eQ.prototype.a2t=function(z){var J=this.b_,p=J.length,n=this.rW,B=this.b_[n],c=(n+1)%p;this.x9(z);var t=Date.now();
if(p!=1&&J[c].eE.Vm(B.eE)){var u=B.IK?parseInt(B.IK.split(",").pop()):30;if(u==0)u=16;if(c==0)this.a32++;
if(this.a59==0||this.a32<this.a59)this.asq=setTimeout(this.aF3,u)}this.rW=c;this.a5Y=t};eQ.prototype.B$=function(z,J){if(z<=0||J<=0)return;
var p=Math.floor(z*q.$q()),n=Math.floor(J*q.$q());this.i.B7=new fw(0,0,p,n);this._V.width=p;this._V.height=n;
q.v(this._V,"width:"+p/q.$q()+"px; height:"+n/q.$q()+"px; display:block;");this.x9()};eQ.prototype.G_=function(z){var J=-1,p=this.Ex;
for(var g=0;g<p.length;g++)if(p[g].pointerId==z.pointerId)J=g;return J};eQ.prototype.Zf=function(z){var J=this.G_(z),p=this.Ex;
if(J!=-1)p[J]=z;else p.push(z);if(p.length==1){this.pl=z.target;q.G3(window,this.a9K);q.ol(window,this.aue);
this.O0=q.bZ(z,this._V);this.O0.x*=q.$q();this.O0.y*=q.$q();this.vQ=this.O0;this.lC=this.i.p.P();if(this.auU&&this.pl==this._V&&!this.cg)this.a(new cD("mousedown"))}else this.ayc=this.G5=i_.mT(q.bZ(p[0],this._V),q.bZ(p[1],this._V))};
eQ.prototype.Is=function(z){var J=this.G_(z),p=this.Ex;if(J!=-1)p[J]=z;var n=this.i,B=this.cg,c=this.b_[this.rW].eE.P();
c.r*=n.XP;c.$*=n.XP;var t=q.bZ(z,this._V);t.x*=q.$q();t.y*=q.$q();this.vQ=t;if(this.auU&&this.pl==this._V&&!B)this.a(new cD("mousemove"));
else if(B=="grab"||B==null){if(p.length>1){var u=q.bZ(p[0],this._V),v=q.bZ(p[1],this._V),A=new i_(q.$q()*(u.x+v.x)/2,q.$q()*(u.y+v.y)/2),$=i_.mT(u,v),X=null;
if($>this.G5+50){this.G5+=50;X=!0}if($<this.G5-50){this.G5-=50;X=!1}if(X!=null)this.U9(A,X);return}else{var U=t.x-this.O0.x,w=t.y-this.O0.y;
n.p.x=this.lC.x+Math.round(U);n.p.y=this.lC.y+Math.round(w)}this.a(new cD("viewchange"))}};eQ.prototype.fW=function(z){var J=this.G_(z),p=this.Ex;
p.splice(J,1);if(p.length==0){q.Mt(window,this.a9K);q.eX(window,this.aue);var n=this.cg;if(z.detail>1){this.i.XP=1;
this.i.p.GK(0,0);this.x9()}if(this.auU&&this.pl==this._V&&!this.cg)this.a(new cD("mouseup"));else{if(n=="zoom-in"||n=="zoom-out")this.U9(this.vQ,n=="zoom-in")}}else{var B=this.O0=q.bZ(p[0],this._V);
B.x*=q.$q();B.y*=q.$q()}};eQ.prototype.sx=function(z){var J=this.vQ;if(z){J=q.bZ(z,this._V);J.x*=q.$q();
J.y*=q.$q()}return this.i.Ka(J.x,J.y)};function gY(){lh.call(this);this.mR=null;this.N0=null;this.qE=null;
this.Ja=null;this.aFj="";this.h$=[];this.O3=0;this.cA=[];this.f=null;this._m=0;var z=this._=q.m("div",""),J=this.adS=q.m("div","form");
z.appendChild(J);var p=this.sF=q.m("span");q.v(p,"font-size:1.3em; font-weight:bold; margin-right:2em;");
var n=this.akn=new k9([25,2,0]);n.q(!0);J.appendChild(n._);n.D(b.E.n,this.tj,this);var B=this.a6P=new k9([25,2,1]);
B.q(!0);J.appendChild(B._);B.D(b.E.n,this.tj,this);var c=new eq("?",null,null,!0);J.appendChild(c._);
c.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
var t=new bm(" ");J.appendChild(t._);var u=this.a2x=new dz([25,1,1]);J.appendChild(u._);u.D(b.E.n,this.tj,this);
this.FZ=new c_(14);this.FZ.aKJ(3);this.FZ.D(b.E.n,this.ajH,this);var v=this.alj=new eq(q.HS("reload",null,"autoscale"),null,[25,1,2]);
J.appendChild(v._);v.D("click",this.L4,this);this.afa=this.any.bind(this);this.PD=q.m("div","svggallery scrollable");
z.appendChild(this.PD);this.PD.addEventListener("scroll",this.apx.bind(this))}gY.prototype=new lh;gY.prototype.Sc=function(z){this.f=z};
gY.prototype.T=function(){this.sF.textContent=j0.get([25,0]);this.FZ.T();this.akn.T();this.a6P.T();this.a2x.T()};
gY.prototype.B$=function(z,J){if(this.mR&&this.mR.x==z&&this.mR.y==J)return;this.mR=new i_(z,J);q.v(this.adS,"width:"+z+"px; margin-bottom:12px;");
var p=this.adS.getBoundingClientRect();J-=(450<z?30:60)+12;q.v(this.PD,"width:"+z+"px; height:"+J+"px;  line-height:0;");
if(q.SA(this._))this.tj()};gY.prototype.q=function(z){this.N0=z;this.tj()};gY.prototype.apx=function(z){var J=this.PD;
if(J.scrollTop+J.clientHeight+10>=J.scrollHeight){this.tj(!0)}};gY.prototype.ajH=function(z){this.qE=null;
this.tj()};gY.prototype.any=function(z){if(Date.now()-this._m<2e3)return;this._m=Date.now();this.O3=this.cA.indexOf(z.currentTarget);
var J=this.Ny(this.N0.x,this.N0.y);if(J[1]){var p=J[1].largeImageURL,n=new XMLHttpRequest;n.responseType="arraybuffer";
n.open("GET",p,!0);n.onload=this.a9s.bind(this);n.send();return}this.aEa(J)};gY.prototype.a9s=function(z){var J=z.target.response,p=kL.yd(J),n=kL.V5(p),B=n.uj(J),c=this.Ny(this.N0.x,this.N0.y,[J,B[0].eE.r,B[0].eE.$]);
this.aEa(c)};gY.prototype.aEa=function(z){var J=z[0],p=kL.yd(J),n=kL.V5(p),B=new b$("template.psd");
n.uj(J,B);var c=new cD("tempready",!0);c.data={CT:B};this.a(c)};gY.prototype.L4=function(z){var J=z.target;
this.h$=[];this.qE=null;this.tj()};gY.prototype.agu=function(z){var J=JSON.parse(z.target.response),p=this.Ja=J.hits;
for(var g=0;g<p.length;g++)if(p[g].user_id==6314823)p.splice(g,1);this.tj()};gY.prototype.tj=function(z){if(this.N0==null||this.mR==null||this.f==null)return;
if(this.mR.x<=0)return;var J=this.N0.x,p=this.N0.y;if(Math.min(J,p)<50)return;if(z!=!0){this.cA=[];q.X0(this.PD);
this.PD.scrollTop=0}if(this.cA.length>300)return;var n=Math.min(1,320/Math.max(J,p)),B=this.mR.P();B.x-=20;
var c=Math.max(1,Math.floor(B.x/(J*n))),t=Math.max(1,Math.ceil(B.y/(p*n)));n=B.x/c/J;var u=c*t;if(this.qE==null){var v=this.f.rf.jw(),A=[];
for(var $ in v){var X=v[$],U=X[3];if(!this.FZ.zt(X))continue;if(X[5]==null||X[5].slice(0,2)=="gf")continue;
A.push(X)}if(A.length==0)A.push(v.DejaVuSans);var w=A.length;for(var g=0;g<w*10;g++){var P=Math.floor(Math.random()*w),k=Math.floor(Math.random()*w),T=A[P];
A[P]=A[k];A[k]=T}A=A.slice(0,10);this.qE=A}var Z=this.a6P.V(),i=this.a2x.V().trim();this.a2x.h6(Z);if(Z&&(this.Ja==null||i!=this.aFj)){var V=new XMLHttpRequest,_="https://pixabay.com/api/?image_type=photo"+(i==""?"":"&q="+encodeURIComponent(i))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(i=="")_="//www.photopea.com/plugins/gallery.json";V.open("GET",_,!0);V.onload=this.agu.bind(this);
V.onerror=function(f){console.log(f.target.response)};V.send();this.aFj=i;return}n*=(J*n-24)/(J*n);var y=this.cA.length;
for(var g=0;g<u;g++){var E=this.O3=y+g;if(this.h$[E]==null)this.h$[E]=Math.floor(Math.random()*4294967295);
var F=this.Ny(Math.round(J*n),Math.round(p*n)),d=F[0];d=e.A8(new Uint8Array(d));var x=q.m("span");x.innerHTML=d;
this.cA.push(x);q.v(x.firstChild,"margin: 0 24px 24px 0; cursor:pointer; border-radius:5px;");this.PD.appendChild(x);
x.addEventListener("click",this.afa,!1)}};gY.prototype.Ny=function(z,J,p){var n=this.a6P.V(),B=this.akn.V(),c=n&&this.Ja.length!=0?this.Ja:null;
if(B&&!n)c=null;if(B&&n&&(this.O3&1)==0)c=null;return bC.dZ(z,J,this.h$[this.O3],this.qE,p?p:c)};function gq(){lh.call(this);
this._=q.m("div");this.Cl=null;this.aBn=null;this.azo=-1;this.fu={JPG:{qual:{sl:new kN([12,52,0],0,100,"%",null,null,!0),Cq:70},mtdt:{sl:new k9("attach metadata"),Cq:!1}},TIFF:{mtdt:{sl:new k9("attach metadata"),Cq:!1}},WEBP:{qual:{sl:new kN([12,52,0],0,100,"%",null,null,!0),Cq:70},mtdt:{sl:new k9("attach metadata"),Cq:!1}},GIF:{qual:{sl:new kN([12,52,0],0,100,"%",null,null,!0),Cq:100},dthr:{sl:new k9([12,23,3]),Cq:!1}},PNG:{qual:{sl:new kN([12,52,0],0,100,"%",null,null,!0),Cq:100},nplt:{sl:new k9("don't use palettes"),Cq:!1},mtdt:{sl:new k9("attach metadata"),Cq:!1}},BMP:{nplt:{sl:new k9("don't use palettes"),Cq:!1}},PDF:{pags:{sl:new dz([12,52,1]),Cq:""},qual:{sl:new kN([12,52,0],0,100,"%",null,null,!0),Cq:100},rvrs:{sl:new k9("reverse pages"),Cq:!1},rall:{sl:new k9("rasterize all"),Cq:!1},vtxt:{sl:new k9("vectorize text"),Cq:!1},mrgn:{sl:new kN("Add Margin",0,5,"in",2),Cq:0},cmrk:{sl:new k9("add crop marks"),Cq:!1}},EMF:{pags:{sl:new dz([12,52,1]),Cq:""},qual:{sl:new kN([12,52,0],0,100,"%",null,null,!0),Cq:100},rvrs:{sl:new k9("reverse pages"),Cq:!1},rall:{sl:new k9("rasterize all"),Cq:!1},vtxt:{sl:new k9("vectorize text"),Cq:!1},mrgn:{sl:new kN("Add Margin",0,5,"in",2),Cq:0}},SVG:{arst:{sl:new k9("add raster graphics"),Cq:!0},ahid:{sl:new k9("add hidden layers"),Cq:!1},vtxt:{sl:new k9("vectorize text"),Cq:!1},rtxt:{sl:new k9("rasterize text"),Cq:!1},mini:{sl:new k9("minify"),Cq:!1}},RAW:{cnum:{sl:new fD([12,72],["1","3","4"]),Cq:2},dpth:{sl:new fD([12,34],["8 Bits","16 Bits"]),Cq:0},endi:{sl:new fD("Byte Order",["12-34","34-12"]),Cq:0}},DDS:{cmpr:{sl:new kZ("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),Cq:0},mpmp:{sl:new k9("Add Mipmaps"),Cq:!0},dxsr:{sl:new k9("DXGI_FORMAT: SRGB"),Cq:!1}},AVIF:{qual:{sl:new kN([12,52,0],0,100,"%",null,null,!0),Cq:70},smlr:{sl:new k9("Smaller files (5x slower)"),Cq:!1}},MP4:{qual:{sl:new kN([12,52,0],0,100,"%",null,null,!0),Cq:50}},anim:{sped:{sl:new kN("Speed",10,1e3,"%",null,!0,!0),Cq:100},rept:{sl:new kW("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),Cq:0},rvrs:{sl:new k9("reverse frames"),Cq:!1},bmrn:{sl:new k9("boomerang"),Cq:!1}},slcs:{slcs:{sl:new kZ([8,11,0],["No Slices","All Slices","User Slices"]),Cq:1}},artb:{artb:{sl:new k9([1,16,1]),Cq:!0}},srgb:{srgb:{sl:new k9("convert to sRGB"),Cq:!0}},ctoa:{ctoa:{sl:new k9("extra channel as opacity"),Cq:!1}},ke16:{ke16:{sl:new k9("as 16-bit"),Cq:!1}}};
for(var z in this.fu){var J=this.fu[z];for(var p in J){J[p].sl.q(J[p].Cq);J[p].sl.D(b.E.n,this.fk,this)}}}gq.prototype=new lh;
gq.prototype.aFz=function(){this.azo=-1};gq.prototype.T=function(){for(var z in this.fu)for(var J in this.fu[z])this.fu[z][J].sl.T()};
gq.prototype.fk=function(){this.tj();this.a(new cD(b.E.n,!1))};gq.prototype.CJ=function(z,J){var p=this.fu[J];
if(p)for(var n in p)z[n]=p[n]};gq.prototype.tj=function(){var z=this.Cl,J=z[0],p=z[1],n=z[2],B=z[3],c=z[4],t=z[5],u=z[6],v={};
this.CJ(v,J);if(p)this.CJ(v,"anim");if(["GIF","PNG","JPG","WEBP"].indexOf(J)!=-1&&n)this.CJ(v,"slcs");
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(J)!=-1&&B)this.CJ(v,"artb");if(c)this.CJ(v,"srgb");
if(["PNG","DDS","TGA"].indexOf(J)!=-1&&t)this.CJ(v,"ctoa");if(["PNG","TIFF"].indexOf(J)!=-1&&u==16)this.CJ(v,"ke16");
var A=z.join(",");if(A!=this.azo){this.azo=A;q.X0(this._);for(var $ in v){if(J=="PDF"&&!B&&($=="pags"||$=="rvrs"))continue;
this._.appendChild(v[$].sl._);q.Uk(this._)}}var X=this.aBn={};for(var $ in v)X[$]=v[$].sl.V()};gq.prototype.RL=function(z,J,p,n,B,c,t){this.Cl=[z,J,p,n,B,c,t];
this.tj()};gq.prototype.V=function(){return a.G(this.aBn)};gq.prototype.q=function(z){if(z instanceof Array)return;
var J=this.Cl,p=J[0];for(var n in this.fu){if(n!=p&&n.toLowerCase()!=n)continue;var B=this.fu[n];if(B==null)return;
for(var c in z)if(B[c])B[c].sl.q(z[c])}this.tj()};function bX(){lh.call(this);this._=q.m("span","fitem yesno");
this._.style.marginRight="0";this.da=!1;this.agV=new eq("No",!1,"Cancel");this.Wl=new eq("Yes",!1,"Confirm");
this._.appendChild(this.agV._);this._.appendChild(this.Wl._);this.agV.D("click",this.rt,this);this.Wl.D("click",this.rt,this);
this.T()}bX.prototype=new lh;bX.prototype.T=function(){this.agV.MM(q.HS("cross",null,"autoscale"));this.Wl.MM(q.HS("checkmark",null,"autoscale"))};
bX.prototype.rt=function(z){this.da=z.target==this.Wl;this.a(new cD("click",!1))};bX.prototype.V=function(){return this.da};
function aB(z){lh.call(this);this._=q.m("span","fitem");this.a8i=new eq("\u25BC",null,"Auto Options",!0);
q.tN(this.a8i._,this.aed.bind(this));this._.appendChild(this.a8i._);this.T1=new eq("Auto",null,null,!0);
this.T1.D("click",this.WW,this);this._.appendChild(this.T1._);this.xE=new g1("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.xE.D(b.E.n,this.WW,this);this.xE.q([!1,!1,!1,!0]);this.pF=new lh;var J=this.pF._=q.m("div","floatcont form");
q.v(J,"width: 250px;");this.pF.parent=this;J.appendChild(this.xE._);this.abH=[];for(var g=0;g<2;g++){var p=new kW((g==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);
p.q(.1);p.D(b.E.n,this.WW,this);this.abH.push(p);J.appendChild(p._)}}aB.prototype=new lh;aB.prototype.WW=function(z){this.a(new cD(b.E.n,!1))};
aB.prototype.T=function(){};aB.prototype.V=function(){return[this.xE.V().indexOf(!0),this.abH[0].V(),this.abH[1].V()]};
aB.prototype.aed=function(z){if(q.SA(this.pF._))return;z.stopPropagation();var J=this.a8i._.getBoundingClientRect(),p=new cD(b.E.c,!0);
p.data={R:b.J.v0,NC:this.pF,x:J.left,y:J.top+J.height+4};this.a(p)};function eT(){lh.call(this);var z=this._=q.m("div","fitem");
this.eW=new kZ([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.eW.D(b.E.n,this.CA,this);z.appendChild(this.eW._);
this.xQ=new dX(!1);this.xQ.parent=this;this.xQ.TT(16777215);this.xQ.D(b.E.n,this.CA,this);z.appendChild(this.xQ._)}eT.prototype=new lh;
eT.prototype.T=function(){this.eW.T();this.xQ.T()};eT.prototype.aig=function(z){var J=[z.artboardBackgroundType.v-1];
if(z.Clr)J.push(z.Clr.v);this.q(J)};eT.prototype.ay2=function(){var z=this.V();return{classID:"artboard",Clr:{t:"Objc",v:z[1]},artboardBackgroundType:{t:"long",v:z[0]+1}}};
eT.prototype.q=function(z){this.eW.q(z[0]);if(z[1])this.xQ.q(z[1])};eT.prototype.V=function(){return[this.eW.V(),this.xQ.V()]};
eT.prototype.CA=function(z){if(z.target==this.xQ)this.eW.q(3);this.a(new cD(b.E.n,!1))};eT.prototype.Xz=function(){this.eW.Xz()};
function ak(){lh.call(this);var z=this._=q.m("div");q.qk(z);var J=q.m("span");J.textContent="Prompt";
z.appendChild(J);q.Uk(z);this.dI=new dz(null,null,-1,4);this.jB=new gp;this.jB.parent=this;this.A2=new eq("Generate",!1,null,!0);
this.A2.D("click",this.qn,this);this.YH=null;this.aag=0;z.appendChild(this.dI._);q.Uk(z);z.appendChild(this.jB._);
z.appendChild(this.A2._);this.aKF=this.ali.bind(this);this.a0y=this.aaO.bind(this);this.HT=q.m("div","scrollable");
z.appendChild(this.HT)}ak.prototype=new lh;ak.prototype.q=function(z){var J=new Uint8Array(z),p=Date.now(),n=UZIP.adler(J,0,J.length);
if(n==this.ar0)return;this.ar0=n;var B=new b$;bM.yi(z,B);q.X0(this.HT);this.aag=B.U.length-2;if(this.YH==this.aag)this.YH=null;
var p=Date.now();for(var g=B.U.length-2;g>0;g--){var c=B.U[g],J=c.buffer,t=c.S;while(t.C()>500*500){var u=a.Wq(J,t);
J=u.R1;t=u.S}var v=kL.s0(J.buffer,t.r,t.$,"png"),A=q.m("div");q.v(A,"width:75px; margin:4px; cursor:pointer; display:inline-block; text-align:center;"+(c.LE()?" box-shadow:0 0 0px 3px #00aaff;":""));
var $=q.m("img");q.v($,"width:100%; margin-bottom:-18px;");if(c.LE()&&this.YH==null)this.dI.q(c.getName());
$.aCo=g;$.setAttribute("src",v);var X=new eq("x",!1,"Delete",!0);q.v(X._,"height:15px; line-height:1em; padding: 0px 4px;");
X._.aCo=g;A.appendChild($);A.appendChild(X._);q.ol($,this.aKF);q.ol(X._,this.a0y);this.HT.appendChild(A)}console.log(Date.now()-p)};
ak.prototype.T=function(){this.jB.T()};ak.prototype.ali=function(z){var J=new cD(b.E.H,!0);J.l=L.bX;
J.data={R:bi.Ai,K:z.currentTarget.aCo,el:"switch"};this.a(J)};ak.prototype.aaO=function(z){var J=new cD(b.E.H,!0);
J.l=L.bX;J.data={R:bi.Ai,K:z.currentTarget.aCo,el:"del"};this.a(J)};ak.prototype.qn=function(z){var J=this.jB.aDA(this.dI.V());
if(J)this.YH=this.aag+1};function gp(){this.uk=new eq("\u2026",!1,null,!0);this.uk.D("click",this.oy,this);
this._=this.uk._;this.pF=new lh;this.pF.parent=this;var z=this.pF._=q.m("div","floatcont form label6");
z.style.width="270px";var J=this.wX="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.aaE=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var p=this.xR=[new k9("Use default settings"),new kZ("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new dz("Neg. prompt",null,13.25),new jT("Guidance",-20,20),new jT("Steps",10,50),new kZ("Sampler",J)];
p[0].D(b.E.n,this.T,this);p[0].q(!0);p[1].q(1);p[3].q(6);p[4].q(20);for(var g=0;g<p.length;g++){z.appendChild(p[g]._);
q.Uk(z)}}gp.prototype=new lh;gp.prototype.V=function(){var z=this.xR,J={},p=["model","negative_prompt","guidance","steps","sampler"],n=!z[0].V();
if(n){for(var g=1;g<z.length;g++)J[p[g-1]]=z[g].V();J.model=this.aaE[J.model];J.sampler=this.wX[J.sampler];
J.steps=Math.min(J.steps,50)}return n?null:J};gp.prototype.T=function(){var z=this.xR;for(var g=0;g<z.length;
g++){z[g].T();if(g>0)z[g].h6(!z[0].V())}};gp.prototype.oy=function(z){if(q.SA(this.pF._))return;var J=this.uk._.getBoundingClientRect(),p=new cD(b.E.c,!0);
p.data={R:b.J.v0,NC:this.pF,x:J.left,y:J.top+J.height+4,bM:!0};this.a(p)};gp.prototype.aDA=function(z){if(z.length>1e3){alert("Your prompt is too long");
return!1}var J=new cD(b.E.wR,!0);J.data=L.SD.tR("aiHeal");J.data.m$.prmt={t:"TEXT",v:z};J.data.m$.Xu=this.V();
this.a(J);return!0};function j1(z){lh.call(this);this.Wb=z;this.azQ=0;this.axJ=!1;this.a7t=z?new j1.z7:null;
this._=q.m("div","flexrow storageset");this._.style.background="var(--bg-panel)";this.es=q.m("div");
this._.appendChild(this.es);this.Ki=q.m("div");this._.appendChild(this.Ki);this.cm=[];var J=Storage.list.length;
if(z)J=J+1+j1.bJ.length;var p=this.mE.bind(this);for(var g=0;g<J;g++){var n=q.m("div");this.cm.push(n);
this.es.appendChild(n);n.addEventListener("click",p,!1)}this.mE(null,0)}j1.prototype=new lh;j1.Me=[];
j1.ep=function(z){j1.Me.push(z);z.xM()};j1.KH=function(){var z=j1.Me;z.pop();z[z.length-1].xM()};j1.prototype.xM=function(){this.mE(null,this.azQ)};
j1.prototype.Sc=function(z,J){if(!z.jR&&!this.axJ){var p=this.Wb?2:1;for(var g=p;g<this.cm.length;g++)this.es.removeChild(this.cm[g]);
this.axJ=!0;if(this.Wb)this.a7t.Sc(z,J)}if(this.gc)this.gc.Sc(z,J)};j1.prototype.T=function(){if(this.Wb)this.a7t.T();
if(this.gc)this.gc.T()};j1.prototype.mE=function(z,J){var p=this.cm,n;if(J==null)J=p.indexOf(z.currentTarget);
this.azQ=J;for(var g=0;g<p.length;g++)q.Om(p[g],"active");q.$y(p[J],"active");if(this.Wb)J--;var B=Storage.list.length;
if(J==-1)n=this.a7t;else if(J<B)n=Storage.gF(J);else{var c=j1.bJ[J-B];n=new j1.VW(c[1]);j8.event("strg_"+c[0]);
if(J-B==1){window.open(c[1]);return}}this.gc=n;n.parent=this;q.X0(this.Ki);this.Ki.appendChild(n._);
this.B$(this.Tx,this.tK);this.T()};j1.prototype.B$=function(z,J){this.Tx=z;this.tK=J;var p=z<850,n=p?50:210,B=Storage.list;
if(this.Wb)B=[[[1,19,3],null,"strg/home"]].concat(B.concat(j1.bJ));for(var g=0;g<B.length;g++){var c=this.cm[g],t="padding: 8px "+(p?13:36)+"px; cursor:pointer;";
q.v(c,t);var u=B[g][2],v=B[g].length==6;u=v?u:PIMG[u];c.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+u+"\" /> "+(p?"":j0.get(B[g][0]))}this._.style.width=z+"px";
this._.style.height=J+"px";this.es.style.width=n+"px";this.es.style.paddingTop="32px";if(this.gc)this.gc.B$(z-n,J)};
j1.bJ=[["PeaGames","games","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664],["AI Tools","//www.img-tools.app/?utm_source=af-photopea&utm_medium=social&utm_campaign=af-photopea","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAABtQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlFHiIAAAAAl0Uk5TACBAgJ+/3/9gnq2YfAAABcRJREFUeJytmzuMHEUQhqt8PO5IWO0CJlwfAQmBAwRkWEayQwhOODQYAyFgbJOuRIDNOzUImxCQLBHCCSScgWTxCAlsTo7AXt+tZBKM8bA7szNd012Pnhp3cJqdx7/f9vSr6u9DIGW4Z7hebP/91AT8Bcnh4/urg+LKF3dCcGVj3BwXm7/2Flw5OiCn/Yq14K6XB63zxVdbvQTx+XF0ofhk1kfw0eeSK1fP9RBcfS294qzGSvDJfcylWx+4Be8+xl776QevIAvYAXG0vj7e2X5sUgvuOiHc+G1WLdY9rLjyzawSZF5xVa6dzdF7Yl99OP2sFMST0r1ZbZHW11wRxVeyKL9/beo9eIR+unoOlV8M8O+Hll5U/8XmXPDQWLy9eNcSfCeqlCmyvaQpaxNdL3kYEe55Q3ngr891wRgQ1jA91/rCU6peCngKW1VYfHcZR8+QkfH2ex0BJwhvEb1ygBltEMUzGj8DCEhPLpvd6Cj9ym6AgHe92Xz87/3l94TOpDZtDhDw3tfThx94qTmnvWYOEJCcPd180ytNLSp9hQWkgqSJhJPKmMgCAh7cW3/+5+PmUujxsiAPSAXJiL9yvD6SGyIPCBjaNWkhYQwRBQVAwFeb+idtOIy54ngjAAKGjnI6XLQFJUBBEPizGYDenywC0pfy5RZzv/BSREAqSJpN6OB1/84FpO2QdNswivOCMiBgmFbZrscO2QogYJhESf2HN3Xzo26AgLtfaI6bSiRTP+ngWYCA5OFmIAj1yi7pNEB2CqBrE2YKUAHnEzNZKlWTVBhqgF3RqYAQTaMXf8bhBr15sULrAgjGRM8s3XXAuWB7PZaUGNEAnAuKC2Ie0QAEfTmXIlqAoC84U0QL0FgSJ4gmYLloD9O6iWgClmEF6c4Gog1YCqqL4haiDaiGZgliBmAlSBeEGmIGYCVIF4QKYg6gEoCniDmAdYrgoRdtxCzAJolxYC9zsY2YBdikWVafHRuIeYAhEbR6uJUI+i0iLjYPZQGSVNXDTwfG6fkbx6Mbr4+yAFvJtLdvLI8u/Gg3dimCQfpheOzCenH9j+0tiKYq7kEhCkT+NJiIUoglC+qIYpgqC+qIYgyoCGqIchytCGqIcpCqCcqISqCvCcqIShStCkqIWiaiiVPqeKT1WUBcAErP6YI8YgnoE+QRyxp0CnKIVQ06BTnE6hV7BVPE5Sv2CqaLvWVc4BVMZpI6mvQKJlNdndxxCoqAXkER0CkoAzoFZUCfoALoE1QAXYIaoCwIctEAxaIIqoAeQRegIugDVAQNwIEQZouCBiAeSUJ9Q9AA3H1YcOkkwQSwnYzFk0w2IhUc7nlkAMXlS1tmTDKPNwUjkfOXYfr9n0bqY5Gb4REFfzkOAlJAyesM/nKHBesyecQiSv6yDSggiv6yDcgjyv6yCcgjVoJGUCIAsoiV4EE9FhUAWcRSkLg+nQA5ROwDyCEuBL01yCKq/rIJyCCq/jIDSG1AFtFOpkUxSbykjRGRGak0wLTCI0SkafUMQBMRO8fFBqLhL3NRnY5opJ0590NHNPxl1kFSEZFmnRl/mfhKeYhIrzL+Mru7Q0NE8k44f5m1gzVEy1/mDBoV0ecvK4hOf1lGtPxl3oZTEImV2clfFhGJIOsvS+6tiOj2lyVEr78sIlr+srzjRkB0/2QJ0fKXlT1BPKLPX1YQff6ygmj5y9p2NxbR8pfVPUYcosdfVhE9/rKKaPnL+gY/BtHyl9VNUByi4S9rrYZH7LeRLEW8ZfjL6ktelBhxzfCXrc14sT127Wzf7YJtT3De8PpuaGwp3v501n/LJYmzp+dnoPvLGb+4LKP9w0Gxc/GXUh4UfznnFy8pBzv1ESjOaN7G2kh68UfwEKxuIgsK/rJ/czLvL7sANX/ZU4NNioDxl7N2JouCqb+cl9wTBRN/ubhv0k8w9pd7/6NB21++E/8KAcRfLnt5f8HKX75/dmmR7nOX/wHUTMNAfPQixAAAAABJRU5ErkJggg==",!0,"Join the contenst!",1730950917]];
for(var g=0;g<j1.bJ.length;g++)if(j1.bJ[g][5]*1e3<Date.now()){j1.bJ.splice(g,1);g--}j1.z7=function(){this.Ub=null;
var z=this._=q.m("div");z.style.background="var(--bg-canvas)";var J=this.lj=q.m("div");z.appendChild(J);
var p=q.m("style");z.appendChild(p);p.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var g=0;g<2;g++){var n=q.m("div"),p="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";J.appendChild(n);
if(g==0)p+="padding: 12px 0px";if(g==1)p+="position:absolute;  bottom:0;";q.v(n,p);var B=q.m("img");
n.appendChild(B);B.setAttribute("src",PIMG[g==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);if(g==0)this.arW=B;
else this.aEk=B;if(g==0)this.asw=n;else this.ahK=n}this.cm=[];p="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var c=this.Yi.bind(this),t=q.m("div");J.appendChild(t);q.v(t,"width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var g=0;g<4;g++){var u=q.m("span","bhover");this.cm.push(u);q.v(u,p+"cursor:pointer; padding:12px;");
u.addEventListener("click",c,!1);t.appendChild(u)}q.Uk(J);var n=this.ada=q.m("div");q.v(n,p+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
J.appendChild(n);var v=new Date().getDate(),A=new Date().getMonth();if(A==11&&v>20||A==0&&v<10){this._V=q.m("canvas");
q.v(this._V,"position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");this.$l=this._V.getContext("2d");
this.ayJ=a.j(4);z.appendChild(this._V);var $=Math.random()<.5,X={o:255,k:255,X:255};if(!$){X=a.u4(Math.random(),Math.random()*.7,1);
X.o*=255;X.k*=255;X.X*=255}this.mC=[Math.round(1048575*Math.random()),$?.05:.02,Math.round(4+Math.random()*8),1,$?3:15,X,0,!0,$,$?1:.2,3];
this.a7O=$?.1:.2;this.nM=this.dC.bind(this);window.requestAnimationFrame(this.nM)}};j1.z7.prototype=new lh;
j1.z7.prototype.dC=function(){window.requestAnimationFrame(this.nM);if(!q.SA(this._))return;var z=this.ayJ,J=this._V,p=this.$l,n=J.width,B=J.height;
this.mC[6]=Date.now()*.001*this.a7O;a.rn.fF(z,n,B,this.mC,!0);p.putImageData(new ImageData(new Uint8ClampedArray(z.buffer),n,B),0,0)};
j1.z7.prototype.Yi=function(z){var g=this.cm.indexOf(z.currentTarget),J=new cD(b.E.c,!0);if(g==0)J.data={R:b.J.Ym,i9:"newproject"};
if(g==1)J.data={R:b.J.iC};if(g==2)J.data={R:b.J.Ym,i9:"res0"};if(g==3)J.data={R:b.J.Ys};this.a(J)};j1.z7.prototype.T=function(){var z=this.cm,J=[[11,7],[1,6],[25,0],[0,17,6]],p=["\u2605","\uD83E\uDC7F","\u25A3"],p=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var g=0;g<z.length;g++)z[g].innerHTML="<span style=\"vertical-align:middle\">"+q.HS(p[g],null,"autoscale")+"</span>\u2000"+(ex==1&&g==3?"Install Vectorpea":j0.get(J[g]));
var n="l"+"o"+"g"+"o",B=n+"_"+["pp","vp","pp"][ex],c=new Date;if(c.getMonth()==3&&c.getDate()==1)B="lo"+"go_cuc"+"umber";
if(PIMG[n])B=n;this.ada.textContent=j0.get([0,17,7]);this.arW.setAttribute("src",PIMG[B]);this.aEk.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
j1.z7.prototype.B$=function(z,J){var p=Math.min(J*1.5,Math.min(z,600)),n=this._V;if(n){q.jI(n,z,p*.26);
this.ayJ=a.j(n.width*n.height*4)}this._.style.width=z+"px";this._.style.height=J+"px";this.ahK.style.width=z+"px";
this.lj.style.marginLeft=Math.max(0,Math.round((z+200-600)/2)-200)+"px";this.arW.style.width=p+"px";
this.aEk.style.width=p+"px"};j1.z7.prototype.Sc=function(z,J){var p=z;if(z==null)z=this.f;this.f=z;if(!z.jR&&this.cm[2].parent){this.lj.removeChild(this.cm[2]);
this.lj.removeChild(this.cm[3])}this.cm[3].style.display=z.EU?"inline-block":"none";if(p)this.Ub=setTimeout(this.Sc.bind(this),100)};
j1.VW=function(z){var J=this._=q.m("iframe");J.style.background="var(--bg-canvas)";J.setAttribute("src",z)};
j1.VW.prototype=new lh;j1.VW.prototype.B$=function(z,J){var p=this._;p.style.width=z+"px";p.style.height=J+"px"};
j1.VW.prototype.Sc=function(){};function Storage(z){lh.call(this);var J=this._=q.m("div","storage");
q.Uj(J);J.addEventListener("drop",this.asQ.bind(this),!1);var p=this.a0e=q.m("style");J.appendChild(p);
J.setAttribute("tabindex","0");J.style.outline="none";J.addEventListener("keydown",this.azX.bind(this),!1);
this.jk=this.a7b.bind(this);this.DB=0;this.YH=0;var n=q.m("div");J.appendChild(n);var B=this.a7d.bind(this);
this.uJ=q.m("div","bar");n.appendChild(this.uJ);this.bY=q.m("div","fls scrollable");n.appendChild(this.bY);
this.OR=q.m("div");n.appendChild(this.OR);q.v(this.OR,"position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.Nk=q.m("div","bar");this.Nk.textContent="Name: ";var c=this.lb=q.m("input");c.setAttribute("type","text");
this.Nk.appendChild(c);var t=this.vA=q.m("div","btn");t.textContent="Save";this.Nk.appendChild(t);q.ol(t,B);
q.tN(this.bY,this.jk);this.atF=0;this.ub=z;var u=this.aCa.bind(this),v=this.agX=q.m("div");q.v(v,"text-align:center; font-size:1.6em");
var A=q.m("img");v.appendChild(A);q.Uk(v);A.setAttribute("src",PIMG[Storage.list[this.ub][2]]);q.v(A,"opacity:0.5;  width:25%; cursor:pointer;");
q.ol(A,u);this.ah4=q.m("div","btn");v.appendChild(this.ah4);q.ol(this.ah4,u);this.Ke=new ka([{name:[6,20]},{name:[5,2],wA:[l5.zT,l5.vH],e:function(){return{e:Storage.bg!=null}}}]);
this.Ke.parent=this;this.Ke.D("select",this.Wh,this);this.bY.addEventListener("contextmenu",this.jk);
this.aEo=q.m("span");this.EV=q.m("span");q.v(this.EV,"position:absolute; right:0; top:5px; z-index:1; ");
this.C5=[];this._s=[];for(var g=0;g<3;g++){var $=q.m("div","btn");this.C5.push($);this.aEo.appendChild($);
q.ol($,B);$.innerHTML=Storage.alE[[3,1,0][g]]}for(var g=0;g<5;g++){if(g==0){var X=q.m("span");X.textContent="Sort by:";
this.EV.appendChild(X)}var $=q.m("div","btn");this._s.push($);this.EV.appendChild($);q.ol($,B)}window.addEventListener("message",this.aCU.bind(this),!1);
this.aKV=!1;this.yL=0;setInterval(this.a8b.bind(this),300);this.N5();var U=this.aEK=document.createElement("input");
U.setAttribute("type","file");U.addEventListener("change",this.asQ.bind(this),!1);document.body.appendChild(U);
q.v(U,"display:none");U.setAttribute("multiple","")}Storage.prototype=new lh;Storage.KO=!1;(function(){Storage.alE=[];
var z="<svg viewBox=\"0 0 14 14\" width=\"10\" height=\"10\" fill=\"black\"><path transform=\"translate(7 7) rotate(",J=") translate(-7 -7)\" d=\"m4 4m-4 2h11l-5-5 2-1 7 7-7 7-2-1 5-5h-11\" /></svg>";
for(var g=0;g<4;g++)Storage.alE.push(z+[-90,0,90,180][g]+J)}());Storage.prototype.asQ=function(z){z.stopPropagation();
z.preventDefault();var J=z.dataTransfer?z.dataTransfer.files:z.target.files;this.aaC=J.length;Storage.bg={};
for(var g=0;g<J.length;g++){var p=J[g],n=new FileReader;n.mv=p;n.onload=this.afl.bind(this);n.readAsArrayBuffer(p)}};
Storage.prototype.afl=function(z){var J=Storage.bg;J[z.target.mv.name]=z.target.result;this.aaC--;if(this.aaC==0)this.Eg()};
Storage.prototype.Sc=function(z,J){var p=Storage.list[this.ub][3],n=j8.uO();if(p){if(this.yL==1&&q.SA(this._)&&n!=null){this.N5()}if(this.yL==2&&n==null){this.nu("forget","")}}};
Storage.prototype.a8b=function(){var z=q.SA(this._),J=this.aKV;if(z&&!J){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!z&&J){window.onpopstate=function(){};history.go(-1)}this.aKV=z};
Storage.prototype.N5=function(){if(this.jo)document.body.removeChild(this.jo);this.iV=[[]];this.w3=0;
this.axX={"/":[]};this.aI9="";this.TY=null;this.rJ=[];this.ahD=[];this.apA=[];this.a3a=null;var z=Storage.list[this.ub][1],J=j8.DP("code/storages/"+Storage.list[this.ub][1]);
if(ex==1&&this.ub==0)J=z;var p=this.jo=q.m("iframe");p.setAttribute("src",J);q.v(p,"display:none");document.body.appendChild(p)};
Storage.prototype.Xr=function(){return this.axX[this.Ha()]};Storage.prototype.ho=function(z){this.axX[this.Ha()]=z};
Storage.gF=function(g){var z=Storage.Yt[g];if(z==null)z=Storage.Yt[g]=new Storage(g);return z};Storage.Yt=[];
Storage.CC=0;Storage.xv="";Storage.cS=null;Storage.OC=function(z,J,p){Storage.CC=z;Storage.xv=J;Storage.cS=p;
var n=Storage.Yt;for(var g=0;g<n.length;g++)if(n[g]){if(z==1)n[g].ho([]);n[g].xM()}};Storage.auC=[500*(1<<20),5e3*(1<<20)];
Storage.mX=0;Storage.H4=2;Storage.aB=0;Storage.list=[[[1,19,4],"deviceStorage.html","strg/tdevice",!1,null],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,null],["OneDrive","onedriveStorage.html","strg/onedrive",!1,null],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,null],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.az0=function(z){for(var g=0;g<Storage.Yt.length;g++){if(Storage.Yt[g]&&Storage.Yt[g].jo.contentWindow==z)return!0}return!1};
Storage.prototype.azX=function(z){if(z.target.tagName=="INPUT")return;var J=l5;if(J.Oh(z.code,J.mP)&&this.Ha().length!=0)this.ahs();
else if(z.ctrlKey){if(J.Oh(z.code,J.J)){var p=[];this.ho(p);for(var g=0;g<this.TY.length;g++)p.push(g);
this.dc()}if(J.Oh(z.code,J.mf))this.Am(2);if(J.Oh(z.code,J.vH))this.Eg()}else if(J.Oh(z.code,J.Kd)){var n=this.Xr();
if(n.length!=0)this.aJJ(n)}else if(J.Oh(z.code,J.IB)){this.w3=Math.max(this.w3-1,0);this.TE()}else{var B=0;
for(var g=65;g<=90;g++)if(z.code=="Key"+String.fromCharCode(g))B=g;if(B!=0){var c=String.fromCharCode(B).toLowerCase(),t=[],u=this.TY,v;
for(var g=0;g<u.length;g++)if(u[g][0][0].toLowerCase()==c)t.push(g);if(t.length==0)return;var n=this.Xr();
if(n.length==0)v=t[0];else{var A=t.indexOf(n[0]);if(A==-1){v=t[0];for(var g=0;g<t.length;g++)if(t[g]>n[0]){v=t[g];
break}}else v=t[(A+1)%t.length]}this.ho([v]);this.dc(!0)}}};Storage.prototype.B$=function(z,J){this.Tx=z;
this.tK=J;this._.style.width=z+"px";this._.style.height=J+"px";var p=z-30,n=Math.floor(p/230),p=Math.floor(p/n)-72;
this.a0e.textContent=".storage .tile .name {  width:"+p+"px;  }";this.lb.style.width=z-140+"px";this.bY.style.width=this.uJ.style.width=z-20+"px";
this.bY.style.height=J-70-(Storage.CC==0?0:45)+"px"};Storage.prototype.aCa=function(){this.TE()};Storage.prototype.TE=function(){var z=this.ub,J="____strg"+z;
if(window[J]==null){j8.event("strg_"+(z==0?"This Device":Storage.list[z][0]));window[J]=!0}this.YH=1;
this.nu("show",this.Ha())};Storage.prototype.Ha=function(z){var J=this.iV[this.w3],p="/"+J.join("/");
if(z&&J.length!=0)p+="/";return p};Storage.prototype.a7d=function(z){var J=z.currentTarget,p=this.w3,n=this.C5.indexOf(J),B=this._s.indexOf(J);
if(n>=0&&!this.aH0(n))return;if(n==0){this.w3=Math.max(p-1,0);this.TE()}if(n==1){this.w3=Math.min(p+1,this.iV.length-1);
this.TE()}if(n==2){var c=this.iV[p+1]=this.iV[p].slice(0);c.pop();this.w3++;this.iV=this.iV.slice(0,this.w3+1);
this.TE()}if(B==0){Storage.H4=(Storage.H4+1)%3;this.xM()}if(B==1){Storage.aB=(Storage.aB+1)%2;this.xM()}if(B==2){Storage.mX=(Storage.mX+1)%3;
this.xM()}if(B==3){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.aEK.dispatchEvent(t)}if(B==4){this.nu("forget","")}if(J==this.vA){var u=this.lb.value.trim(),v=this.TY,A=-1;
for(var g=0;g<v.length;g++)if(v[g][0]==u)A=g;if(A!=-1){this.eL("Do you really want to replace \""+u+"\"?",this.a1c.bind(this))}else this.a1c()}};
Storage.prototype.a1c=function(){var z=this.lb.value.trim(),J=[this.ub,this.Ha(!0)+z];if(Storage.cS){this.aHO(this.Ha(!0)+z,Storage.cS);
Storage.cS=null;Storage.xv=null}else this.k_({R:b.J.agY,Ks:J});this.a(new cD("canclose",!0))};Storage.prototype.Eg=function(){if(Storage.bg==null)return;
this.k_({R:b.J.Yg,gX:j0.get("Uploading ...")});this.DB=4;ev.gF(2,this.jo,[this.Ha(),Storage.bg,this.TY],null,this.avY.bind(this))};
Storage.prototype.avY=function(z){this.DB=0;this.k_({R:b.J.wg,gX:j0.get("Uploading ...")});this.TE()};
Storage.prototype.Wh=function(z){var J=z.target.cw();if(z.target==this.Ke){if(J[0]==0){var p=[j0.get([6,20]),-1,0];
this.TY.push(p);this.xM();var g=this.TY.indexOf(p),n=this.rJ[g].querySelector(".name");console.log(n);
var B=new bb.hB(n,function(X){this.k_({R:b.J.Yg,gX:j0.get([1,2])+" ..."});var U=this.Ha(!0)+X+"/";console.log(U);
this.nu("save",U)}.bind(this),!0)}else this.Eg()}else{if(J[0]==0){this.Am(2)}else if(J[0]==1){var g=this.Xr()[0],c=this.TY[g],n=this.rJ[g].querySelector(".name");
console.log(n);n.innerHTML=c[0];var B=new bb.hB(n,function(X){X=X.trim();if(X.indexOf("/")!=-1){alert("You can not use slashes in a file name.");
this.xM();return}var U=this.TY;for(var g=0;g<U.length;g++)if(U[g][0]==X){alert("Item with such name already exists.");
this.xM();return}var w=this.Ha(!0)+c[0]+":"+X;console.log(w);this.nu("rename",w)}.bind(this))}else if(J[0]==2){this.Am(3)}else if(J[0]==3)this.ahs();
else if(J[0]==4){this.Am(1)}else{var t=this.TY[this.Xr()[0]],u=Storage.Fg(t),v=u[J[1]],A=v[0],$=this.I3().pop()[1];
if(Storage.aDd(t,A)!=-1){this.nu("share",$+":"+A+":-1");alert("Unshared.")}else{this.nu("share",$+":"+A+":"+J[2]);
alert("Shared.")}}}};Storage.aDd=function(z,J){var p=z[4];if(p==null)return-1;if(p.indexOf(J+":0")!=-1)return 0;
if(p.indexOf(J+":1")!=-1)return 1;return-1};Storage.prototype.ahs=function(){var z=this.Xr();this.eL("Do you really want to delete "+(z.length==1?"\""+this.TY[z[0]][0]+"\"":"these files")+"?",this._q.bind(this))};
Storage.prototype.eL=function(z,J){var p={R:b.J.Ym,i9:"confirm",K:z,RD:J};this.k_(p)};Storage.prototype.Am=function(z){this.DB=z;
if(1<z)this.k_({R:b.J.Yg,gX:j0.get("Downloading ...")});else this.k_({R:b.J.Yg,gX:j0.get("Getting info ...")});
ev.gF(0,this.jo,this.Ha(),this.I3(!0),this.anP.bind(this))};Storage.prototype.anP=function(z){if(this.DB==1){var J=0,p=0;
for(var n in z){var B=z[n];J+=B[1];p++}this.eL(p+" files, "+hI.dB(J)+" in total.",function(){});this.k_({R:b.J.wg,gX:j0.get("Getting info ...")});
this.DB=0}if(1<this.DB)ev.gF(1,this.jo,z,null,this.adx.bind(this))};Storage.prototype.adx=function(z){if(1<this.DB){if(1<this.DB)this.k_({R:b.J.wg,gX:j0.get("Downloading ...")});
var J={},p=this.Ha(!0);for(var n in z)J[n.slice(p.length)]=z[n];if(this.DB==2){Storage.bg=J;alert("Copied to a clipboard")}if(this.DB==3){var B=Object.keys(z);
if(B.length==1)jo.save(z[B[0]].buffer,B[0].split("/").pop());else jo.save(UZIP.encode(J),p=="/"?"files.zip":this.Ha().split("/").pop()+".zip")}}this.DB=0};
Storage.bg=null;Storage.prototype._q=function(){this.k_({R:b.J.Yg,gX:j0.get([5,4])+" ..."});this.ahD=this.I3();
this.oR()};Storage.prototype.oR=function(){if(this.ahD.length==0){this.k_({R:b.J.wg,gX:j0.get([5,4])+" ..."});
this.ho([]);this.TE()}else this.nu("delete",this.ahD.pop()[1])};Storage.prototype.I3=function(z){var J=[],p=this.Ha(!0),n=this.Xr();
for(var g=0;g<n.length;g++){var B=this.TY[n[g]];if(z)J.push(B[0]);else J.push([this.ub,p+B[0]])}return J};
Storage.prototype.nu=function(z,J){q.$y(this._,"disabled");this.aI9=z;if(Storage.KO)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+z+"\", \"prm\": "+JSON.stringify(J)+"  }");
this.jo.contentWindow.postMessage("{\"code\": \""+z+"\", \"prm\": "+JSON.stringify(J)+"  }","*")};Storage.prototype.aCU=function(z){if(z.source!=this.jo.contentWindow||this.DB!=0)return;
q.Om(this._,"disabled");if(typeof z.data=="string"){if(Storage.KO)console.log("==",Math.floor(Date.now()/1e3),z.data);
var J=JSON.parse(z.data),p=J.code,n=J.prm,B=this.aI9,c=Storage.list[this.ub][3];if(p=="ready"){if(c&&!n){var t=j8.uO();
console.log(t);var u=j8.nF(),v=u.acc;if(t==null){this.yL=1;alert("Log in to use this storage (press Account at the top).");
this.f8();return}var A=[],$=t.wantToJoin;for(var X in $)A.push(parseInt(X.slice(1)));var U=[],w=t.inTeams;
for(var g=0;g<w.length;g++)U.push(w[g][2]);var P={uid:t.id,limit:Storage.auC[j8.x_()?1:0],inTeams:U,myTeams:A};
P.secret=v&&v.pds?v.pds:"";this.nu("login",P);return}if(c)this.yL=2;if(c&&J.secret){var u=j8.nF(),v=u.acc;
if(v==null)v=u.acc={};v.pds=J.secret;j8.GG(u)}if(n)this.TE();else this.f8()}else if(p!="0"){if(B=="save")this.k_({R:b.J.wg,gX:j0.get([1,2])+" ..."});
if(B=="delete")this.oR();alert(n);this.xM()}else if(B=="show"){this.YH=0;this.TY=n;this.xM()}else if(B=="save"){this.YH=0;
this.k_({R:b.J.wg,gX:j0.get([1,2])+" ..."});this.TE()}else if(B=="delete"){this.oR()}else if(B=="forget"){if(c)this.f8();
else this.N5()}else if(B=="rename"||B=="share"){this.TE()}else throw p}else{if(Storage.KO)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.k_({R:b.J.a5X,Ks:this.I3()[this.yk],sM:z.data});this.avb()}};Storage.prototype.f8=function(){q.X0(this.uJ);
q.X0(this.bY);q.X0(this.OR);this.bY.appendChild(this.agX)};Storage.prototype.aH0=function(g){if(g==0)return this.w3>0;
if(g==1)return this.w3<this.iV.length-1;if(g==2)return this.Ha()!="/"};Storage.aAY=function(z){z=z+"";
return z.length==1?"0"+z:z};Storage.a6f=function(z){var J=new Date(z),p=Storage.aAY,n=p(J.getDate())+"."+p(J.getMonth()+1)+"."+J.getFullYear();
if(J.toLocaleDateString().indexOf("/")!=-1)n=p(J.getMonth()+1)+"/"+p(J.getDate())+"/"+J.getFullYear();
var B=p(J.getHours())+":"+p(J.getMinutes());return n+" "+B};Storage.colSpan=function(z){var J=q.m("span");
J.style.opacity="0.8";J.style.display="inline-block";J.style.width="120px";J.textContent=z;return J};
Storage.prototype.xM=function(){var z=Storage.list[this.ub][3],J=this.TY,p=Storage.H4,n=Storage.aB,B=Storage.mX;
if(J==null)return;J.sort(function(S,R){var D=S[1]==-1?1:5,G=R[1]==-1?1:5,C=0;if(Math.min(D,G)==1&&D!=G)return D-G;
else if(D==1||p==0)C=S[0].toLowerCase()<R[0].toLowerCase()?-1:1;else if(p==1)C=S[1]-R[1];else if(p==2)C=S[2]-R[2];
if(n==1)C=-C;if(S[0]=="Shared")C=-1;if(R[0]=="Shared")C=1;return C});var c=this.bY,t=this.uJ,u=this.iV[this.w3];
q.X0(c);q.X0(t);this.rJ=[];for(var g=0;g<3;g++)if(this.aH0(g))q.Om(this.C5[g],"disabled");else q.$y(this.C5[g],"disabled");
t.appendChild(this.aEo);t.appendChild(this.EV);var v=q.m("span");v.textContent="/";t.appendChild(v);
for(var g=0;g<u.length;g++){var v=q.m("span");v.textContent=u[g];t.appendChild(v);var v=q.m("span");
v.textContent="/";t.appendChild(v)}var A=["tile","icon","litm"][B];for(var g=0;g<J.length;g++){var $=J[g],X=$[1]==-1,U=X?"":hI.dB($[1]),w=q.m("div","cont "+A),d=!1;
c.appendChild(w);this.rJ.push(w);var P=X?"":Storage.a6f($[2]*1e3);w.setAttribute("title",$[0]+(X?"":"\nSize: "+U+"\nDate Modified: "+P));
var k=q.m("img");k.setAttribute("src",X?Storage.ay5:$[3]?$[3]:Storage.mv);if(!X&&$[3])q.v(k,"box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var T=q.m("span","name"),Z=$[0];if(A=="icon"&&Z.length>30)Z=Z.slice(0,24)+".."+Z.slice(Z.length-5);if(z&&u.length==1&&u[0]=="Shared"){var i=Storage.Fg(),V=parseInt(Z.slice(5));
for(var _=0;_<i.length;_++)if(i[_][0]==V)Z=i[_][1]}T.textContent=Z;w.appendChild(k);w.appendChild(T);
if(A!="icon"&&!X){if(A=="litm")w.appendChild(Storage.colSpan(P));if(A=="tile")q.Uk(T);var y=Storage.colSpan(U);
if(A=="litm")y.style["text-align"]="right";(A=="tile"?T:w).appendChild(y)}var E=$[0].split("."),F=(E.length==1?"":E.pop()).toUpperCase();
if(z&&$[0]=="Shared"&&u.length==0){d=!0;F="\u21E7"}if(A!="litm"&&(!X&&$[3]==null||d)){var x=q.m("span","ext");
x.textContent=F;var f=Storage.bt[F];x.style.backgroundColor=f?f:Storage.avu(F);w.appendChild(x)}q.tN(w,this.jk);
w.addEventListener("contextmenu",this.jk)}this.dc();var Q=this.Nk.parentNode!=null,m=Storage.CC,H=this._;
if(Q&&m==0)H.removeChild(this.Nk);if(!Q&&m==1)H.appendChild(this.Nk);this.B$(this.Tx,this.tK);this.T()};
Storage.prototype.dc=function(z){var J=this.rJ,p=this.TY,n=this.Xr(),B=!1,c=0,t=Storage.xv?Storage.xv.split(".").pop():"";
for(var g=0;g<J.length;g++){var u=p[g],v=u[1]==-1,A=J[g];if(Storage.CC==1&&!v&&!u[0].toLowerCase().endsWith(t))A.style.display="none";
else A.style.display="auto";if(n.indexOf(g)==-1)q.Om(A,"active");else{if(v)B=!0;else c+=u[1];q.$y(A,"active");
if(z)A.scrollIntoView({block:"center",behavior:"smooth"})}}var $=B?"":hI.dB(c);this.OR.textContent=n.length==0?"":n.length+" item"+(n.length==1?"":"s")+" selected\u2001"+$;
this.lb.value=n.length==1&&!B?p[n[0]][0]:Storage.xv};Storage.prototype.aJJ=function(z){var J=z[0],p=this.TY[J];
if(p[1]==-1){var n=this.iV[this.w3].slice(0);n.push(p[0]);this.w3++;this.iV[this.w3]=n;this.iV=this.iV.slice(0,this.w3+1);
this.ho([]);this.TE()}else if(Storage.CC==0){this.avb(z)}};Storage.prototype.avb=function(z){if(z){this.k_({R:b.J.Yg,gX:"Opening ..."});
this.a(new cD("canclose",!0));this.alA=z.slice(0);this.yk=0}else this.yk++;if(this.alA.length==this.yk){this.k_({R:b.J.wg,gX:"Opening ..."})}else{var J=this.alA[this.yk],p=this.TY[J],n=this.Ha(!0)+p[0];
this.nu("load",n)}};Storage.prototype.T=function(){var z=Storage.H4,J=Storage.aB,p=Storage.mX;this._s[0].textContent=j0.get([[12,48],[12,14,0],"Date"][z]);
this._s[1].innerHTML=Storage.alE[[2,0][J]];this._s[2].textContent=j0.get(["Tiles","Icons",[25,3,1]][p]);
this._s[3].textContent="Upload";this._s[4].textContent="\u2716";var n=Storage.list[this.ub],B=n[4];if(B==null)B=j0.get([[1,19,5],ex==0?"Photopea":"Vectorpea",n[0]]);
this.ah4.innerHTML=j0.get([[23,6],n[0]])+"<br/><small><small>"+B+"</small></small>";this.Sc()};Storage.prototype.a7b=function(z){this.k_({R:b.J.lu});
if(q.SA(this.agX))return;if(z.button==3||z.button==4){if(Date.now()-this.abM>50){var J=this.w3;if(z.button==3)this.w3=Math.max(J-1,0);
else this.w3=Math.min(J+1,this.iV.length-1);this.TE()}this.abM=Date.now();return}z.stopPropagation();
var g=this.rJ.indexOf(z.currentTarget);if(z.type=="contextmenu"){if(this.TY==null)return;z.preventDefault();
var p=this.Ke;if(g!=-1){var n=[{name:[5,1],wA:[l5.zT,l5.mf]},{name:[6,37]},{name:"Download",$h:!0},{name:[5,4],wA:[l5.mP]},{name:[9,2]}];
if(Storage.list[this.ub][3]){var B=this.TY[g],c=Storage.Fg(B);if(c.length!=0){var t=[];for(var u=0;u<c.length;
u++){var v=[],A=c[u],$=Storage.aDd(B,A[0]);if($!=-1)v.push({name:"Unshare"});else v.push({name:"Allow Read"},{name:"Allow Read & Write"});
t.push({name:A[1]+[""," (R)"," (R,W)"][$+1],sub:v})}n.push({name:"Share With",sub:t})}}p=new ka(n);p.parent=this;
p.D("select",this.Wh,this)}p.parent=this;p.T();p.update();this.k_({R:b.J.v0,NC:p,x:z.clientX+4,y:z.clientY});
return}var X=this.Xr(),U=X.indexOf(g);if(z.button!=0&&U!=-1)return;if(z.target==this.bY)this.ho([]);
else{if(z.ctrlKey){if(U==-1)X.push(g);else X.splice(U,1)}else if(z.shiftKey&&X.length!=0){var u=X[0];
if(u<g){var w=g;g=u;u=w}X=[];this.ho(X);for(var P=g;P<=u;P++)X.push(P)}else{this.ho([g]);if(Date.now()-this.atF<300&&X.length!=0&&X[0]==g){this.aJJ([g]);
this.atF=0}}}this.atF=Date.now();this.dc()};Storage.prototype.k_=function(z){var J=new cD(b.E.c,!0);
J.data=z;this.a(J)};Storage.Fg=function(z){var J=[],p=[],n=j8.nF(),B=n.acc.tstart;if(B)for(var g=0;g<B.length;
g++){J.push([B[g][2],B[g][0]]);p.push(B[g][2])}var c=j8.uO();B=c.inTeams;if(B)for(var g=0;g<B.length;
g++){J.push([B[g][2],B[g][0]]);p.push(B[g][2])}if(z&&z[4]){for(var g=0;g<z[4].length;g++){var t=parseInt(z[4][g].split(":")[0]);
if(p.indexOf(t)==-1)J.push([t,"Team "+t])}}return J};Storage.prototype.aHO=function(z,J){if(this.YH!=0)return 1;
this.YH=2;this.k_({R:b.J.Yg,gX:j0.get([1,2])+" ..."});this.nu("save",z);if(Storage.KO)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.jo.contentWindow.postMessage(J,"*")};Storage.bt={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.avu=function(z){z=z.toLowerCase();
var J=0;for(var g=0;g<z.length;g++)J+=z.charCodeAt(g)*613<<8*g;return"#"+a.fX(J&16777215)};Storage.ay5="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.mv="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var ev=function(){var z,J,p,n,B,c,t,u;function v(w,P,k,T,Z){J=P;n=T;t=Z;z=w;c={};if(z==0){p=[k]}if(z==1){p=[];
for(var i in k)p.push(i)}if(z==2){var V=k[0],_=k[1],y=k[2],E={};for(var g=0;g<y.length;g++)E[y[g][0]]=!0;
var F={};for(var i in _){var d=i.split("/"),x=d[0],f=x.split("."),Q="";if(f.length!=1){Q="."+f.pop();
x=f.join(".")}while(E[x+Q])x+=" - Copy";d[0]=x+Q;F[d.join("/")]=_[i]}var m={};p=[];for(var i in F){var d=i.split("/");
for(var g=0;g<d.length-1;g++){var H=V+d.slice(0,g+1).join("/")+"/";if(m[H]==null){m[H]=!0;p.push([H])}}var S=V.endsWith("/")||i.startsWith("/")?"":"/";
p.push([V+S+i,F[i]])}}window.addEventListener("message",$,!1);u=Date.now();A()}function A(){if(p.length==0){U();
return}B=p.shift();if(z==0)X("show",B);if(z==1)X("load",B);if(z==2){X("save",B[0]);if(B.length==2)J.contentWindow.postMessage(B[1],"*")}}function $(w){if(w.source!=J.contentWindow)return;
if(z==0){var P=JSON.parse(w.data),k=P.code,T=P.prm;for(var g=0;g<T.length;g++){var Z=T[g];if(n&&n.indexOf(Z[0])==-1)continue;
var i=B+(B=="/"?"":"/"),V=i+Z[0];if(Z[1]==-1)p.push(V);else c[V]=Z}n=null}else if(z==1){c[B]=new Uint8Array(w.data)}A()}function X(w,P){var k=w=="show"?", \"nothumbs\": true":"",T="{\"code\": \""+w+"\", \"prm\": "+JSON.stringify(P)+k+"  }";
J.contentWindow.postMessage(T,"*")}function U(){console.log(Date.now()-u);window.removeEventListener("message",$,!1);
t(c)}return{gF:v}}();function bT(z){lh.call(this);var J=this._=q.m("div","form scrollable padded label12");
this.cX=z;this.dr=null;var p=[],n=bT.uC[z];this.atO=[];for(var B in n){var c=parseInt(B.slice(1)),t=c%10==0?"":"\u2800\u2800- ";
p.push(t+n[B]);this.atO.push(c)}this.Kc=[new dz("Name",null,30),new dz("Description",null,30,4),z==0?new dz("File"," www.Photopea.com#i...",17):new ck("File",!1,!1),new dz("Thumbnail URL","* Use Imgur.com etc.",17),new kZ("Category",p),new k9("Make Public"),new eq("<< Back",null,null,!0),new eq("Save",null,null,!0)];
if(z==0)this.Kc.push(new bm("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new bm("Get a Thumbnail URL: File - Publish Online - JPG."),new bm("Write a proper description, so that your work can be found using text search."));
if(z==1)this.Kc.push(new bm("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(z!=0)this.Kc.push(new bm("Do not load any file to preserve the old version."));for(var g=0;g<this.Kc.length;
g++){var u=this.Kc[g];J.appendChild(u._);u.parent=this;if(g!=4&&g!=6)q.Uk(J);if(u instanceof eq)u.D("click",this.aJs,this);
if(z!=0&&g==2)u.D(b.E.n,this.aJW,this)}}bT.prototype=new lh;bT.prototype.aJW=function(z){var J=this.Kc[2],p=J.V(),n=Object.keys(p),B=p[n[0]].buffer,c=kL.yd(B),t=" json atn abr grd asl pat csh icc".split(" ")[this.cX];
if(c!=t){alert("This is a wrong file"+(c?" ("+c.toUpperCase()+")":"")+". You need to upload the "+t.toUpperCase()+" file.");
J.q({})}};bT.prototype.aJs=function(z){if(z.target==this.Kc[6]){this.a(new cD("back"));return}function J(t,u){return t.indexOf(u)!=-1}var p=this.Kc[3].V().trim(),n=p.startsWith("http")&&(J(p,".jpeg")||J(p,".jpg")||J(p,".png")||J(p,".gif"));
if(!n){alert("Thumbnail URL is incorrect.");return}var B=new XMLHttpRequest,c=(p);
B.open("GET",c);B.responseType="arraybuffer";B.onload=this.aE2.bind(this);B.send()};bT.prototype.aE2=function(z){var J=z.target.response,p=J.byteLength;
if(p>2e5&&kL.yd(J)!="gif"){alert("Thumbnail is too large ("+hI.dB(p)+"). Make it under 200 kB.");return}var n=this.Kc[2].V(),B=Object.keys(n);
if(this.cX!=0&&B.length==0&&(this.dr==null||this.dr.file==null||this.dr.file=="")){alert("You need to select a file.");
return}if(this.cX!=0&&B.length!=0){console.log(n);jo.Cl.axf(n[B[0]].buffer,B[0],this.aLx.bind(this),"pp-resources");
return}this.aLx()};bT.prototype.aLx=function(z){var J=this.cX,p="name desc file thmb catg publ".split(" "),n=this.dr;
for(var g=0;g<6;g++){if(J!=0&&g==2)continue;var B=this.Kc[g].V();if(g<=3){B=B.trim();if(B.length==0){alert("One of values is empty.");
return}}if(g==2){if(B.endsWith(".psd"))B=B.slice(0,B.length-4);var c=B.split("#i");if(c.length!=2||c[1].length!=8){alert("File ID is incorrect.");
return}B=c.pop()}if(g==4)B=this.atO[B];n[p[g]]=B}if(J!=0){if(z)n.file=z;else if(n.file==null){alert("Select a file from your computer.");
return}}if(n.utme.length==0)n.utme=""+Math.round(Date.now()/1e3);n.type=J;this.a(new cD("save"))};bT.prototype.T=function(){};
bT.prototype.q=function(z){var J=this.dr=a.G(z),p=this.cX,n="name desc file thmb catg publ".split(" ");
for(var g=0;g<6;g++){if(p!=0&&g==2)continue;var B=J[n[g]];if(B!=""&&g==2)B="https://photopea.com#i"+B;
if(g==4)B=this.atO.indexOf(B);if(g==5&&B==null)B=!0;this.Kc[g].q(B)}};bT.prototype.V=function(){return a.G(this.dr)};
bT.uC=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function a9(){lh.call(this);var z=this._=q.m("div","form");this.dr=null;this.yZ=null;this.aQ=null;this.Pg=null;
var J=q.m("canvas");this.$l=J.getContext("2d");q.Ze(J);q.tN(J,this.gq.bind(this));this.xR=[new fD([12,44],[[19,0,0],[19,0,1]]),{_:J},new kW([12,0],0,100,"%",null,null,null,4),new dX,new kW([12,40],0,100,"%",2,null,null,4),new eq([5,4],null,null,!0)];
for(var g=0;g<this.xR.length;g++){var p=this.xR[g];p.parent=this;z.appendChild(p._);if(g!=2&&g!=4)q.Uk(z);
if(g!=1)p.D(g==5?"click":b.E.n,this.WW,this)}this.iR=this.H3.bind(this);this.Ju=this.Mv.bind(this)}a9.prototype=new lh;
a9.prototype.V=function(){return a.G(this.dr)};a9.prototype.q=function(z){this.dr=a.G(z);this.tj()};
a9.prototype.T=function(){var z=this.xR;for(var g=0;g<z.length;g++)if(z[g].T)z[g].T()};a9.prototype.gq=function(z){var J=q.$q(),p=q.bZ(z,this.$l.canvas);
p.x*=J;p.y*=J;var n=this.aQ,B=this.Pg,c=this.dr,t=c[1],u=7*q.$q(),v=-1;for(var g=0;g<n.length;g++){if(i_.mT(p,n[g][0])<u)v=g}if(v==-1){if(Math.abs(p.y-(B.y+B.$))>10*J)return;
var A=[.5,[0,0,0],1,.5];t.push(A);t.sort(function($,X){return $[0]-X[0]});this.RJ=[new i_,t.indexOf(A),0]}else this.RJ=n[v];
this.yZ=JSON.stringify(this.dr);q.G3(window,this.iR);q.ol(window,this.Ju);if(v==-1)this.H3(z);this.tj()};
a9.prototype.H3=function(z){this.dr=JSON.parse(this.yZ);var J=q.$q(),p=q.bZ(z,this.$l.canvas);p.x*=J;
p.y*=J;var n=this.RJ,B=n[1],c=this.Pg,t=this.dr[1],u=t[B],v=(p.x-c.x)/c.r;if(n[2]==0){u[0]=Math.max(0,Math.min(1,v));
if(Math.abs(p.y-(c.y+c.$))>30*J)t.splice(B,1)}else{var A=u[0],$=t[B+1][0],X=u[3];u[3]=Math.max(.13,Math.min(.87,(v-A)/($-A)))}t.sort(function(U,w){return U[0]-w[0]});
this.tj()};a9.prototype.Mv=function(z){q.Mt(window,this.iR);q.eX(window,this.Ju)};a9.prototype.WW=function(z){var J=this.xR,g=J.indexOf(z.target),p=this.dr,n=z.target.V(),B=this.RJ;
if(g==0)p[0]=n;if(B){var c=p[1][B[1]];if(g==2)c[2]=n/100;if(g==3){n=a.g8(z.target.BG());c[1]=[n.o/255,n.k/255,n.X/255]}if(g==4)if(B[2]==0)c[0]=n/100;
else c[3]=Math.max(.13,Math.min(.87,n/100));if(g==5){p[1].splice(B[1],1);this.RJ=null}}this.tj()};a9.prototype.tj=function(){var z=this.xR,J=this.dr,p=J[1],n=this.$l,B=n.canvas;
z[0].q(J[0]);var c=B.width=Math.floor(300*q.$q()),t=B.height=Math.floor(60*q.$q()),u=Math.floor(20*q.$q()),v=c-u-u;
this.Pg=new fw(u,u,v,t-u-u);q.wb(B);var A=n.fillStyle=n.createLinearGradient(u,u,c-u,u);a.Wi.NF(A,p);
n.fillRect(u,u,v,t-u-u);n.lineWidth=1;n.strokeRect(u-.5,u-.5,v+1,t-u-u+1);var $=this.aQ=[],X=this.RJ;
n.fillStyle="white";for(var g=0;g<p.length;g++){var U=p[g],w=U[0],P=t-u*.6;if(X&&X[1]==g&&X[2]==0){n.fillStyle="#00aaff";
n.beginPath();n.arc(u+w*v,P,t*.125,0,2*Math.PI);n.fill()}n.fillStyle="white";n.beginPath();n.arc(u+w*v,P,t*.1,0,2*Math.PI);
n.fill();n.beginPath();n.arc(u+w*v,P,t*.07,0,2*Math.PI);n.stroke();$.push([new i_(u+w*v,P),g,0]);if(g!=p.length-1){var k=U[3],T=p[g+1][0];
w=w+k*(T-w);P=u*.7;if(X&&X[1]==g&&X[2]==1){n.fillStyle="#00aaff";n.beginPath();n.arc(u+w*v,P,t*.075,0,2*Math.PI);
n.fill()}n.fillStyle="white";n.beginPath();n.arc(u+w*v,P,t*.05,0,2*Math.PI);n.fill();$.push([new i_(u+w*v,P),g,1])}}z[2].h6(X&&X[2]==0);
z[3].h6(X&&X[2]==0);z[4].h6(X!=null);z[5].h6(X&&X[2]==0&&p.length>2);if(X){var U=p[X[1]],Z=U[1];if(X[2]==0)z[2].q(U[2]*100);
z[3].TT(a.fa({o:Z[0]*255,k:Z[1]*255,X:Z[2]*255}));z[4].q(U[X[2]==0?0:3]*100)}};function ks(z){lh.call(this);
this.r3=z;this._=q.m("div","");this.dL=[];this.ayl=null;this.aBE=[]}ks.prototype=new lh;ks.prototype.XF=function(z){};
ks.prototype.T5=function(){return!1};ks.prototype.Fh=function(){return 0};ks.prototype.B$=function(z,J){};
ks.prototype.Sc=function(z,J){};ks.prototype.nZ=function(z){};ks.prototype.q=function(z,J,p,n,B,c){var t=[],u=this.dL,v=0,A=em.mn["s"+this.r3];
if(this.r3=="Dspl")this.EQ(z,t,c);else A?A(z,t,c):this.EQ(z,t,c);for(var g=0;g<u.length;g++)if(!(u[g]instanceof bm))u[g].q(t[v++]);
if(z.RndS)this.ayl=z.RndS.v};ks.prototype.V=function(){var z=em.J0(this.r3),J=[],p=this.dL,n=0;for(var g=0;
g<p.length;g++)if(!(p[g]instanceof bm))J[n++]=p[g].V();var B=em.mn["g"+this.r3];if(this.r3=="Dspl")this.rF(z,J);
else B?B(z,J):this.rF(z,J);if(z.RndS)z.RndS.v=this.ayl;return z};ks.prototype.qA=function(z){};ks.prototype.Jc=function(z){if(z&&z.target instanceof eq){this.ayl=Math.floor(Math.random()*4294967295)}var J=this.aBE;
for(var g=0;g<J.length;g+=2){var p=this.dL[J[g]],n=this.dL[J[g+1]],B=p.V(),c=n.V();if(z.target==p)n.q(Math.max(B,c));
else p.q(Math.min(B,c))}this.a(new cD(b.E.n))};ks.prototype.T=function(){for(var g=0;g<this.dL.length;
g++)this.dL[g].T();var z=this.aDg;if(z)z.T()};ks.prototype.SL=function(z){q.$y(this._,"form");var J=this.dL;
for(var g=0;g<J.length;g++){var p=J[g];p.parent=this;p.D(b.E.n,this.Jc,this);this._.appendChild(p._);
if(p instanceof k9&&J[g+1]instanceof dX)continue;if(z&&z.indexOf(g)!=-1)q.qk(this._);else q.Uk(this._)}var n=em.J0(this.r3);
if(n.RndS){var B=this.aDg=new eq([25,1,2],null,null,!0);this._.appendChild(B._);B.D("click",this.Jc,this)}};
ks.prototype.LA=function(z){return!1};ks.prototype.AY=function(){return!1};ks.prototype.lW=function(z,J,p,n,B){};
ks.prototype.dV=function(z,J,p,n,B){};ks.prototype.mI=function(z,J,p,n,B){};ks.prototype.rF=function(z,J){};
ks.prototype.EQ=function(z,J){};ks.prototype.Ap=function(z){var J=z.target.V().indexOf(!0),p=J!=-1;if(J!=-1){this.VD=J}if(this.Ac==null)this.Ac=0;
var n=Date.now(),B=new cD(b.E.c,!0);B.iv=!0;if(n-this.Ac<300&&this.VD<3&&this.l9&&this.NB==null){if(this.zP==null)this.zP=[0,8421504,16777215];
B.data={R:b.J.Ym,i9:"colorpicker",Ij:this.zP[this.VD],sy:this.a4Q.bind(this)};this.a(B)}else{this.amX(J!=-1)}this.Ac=n};
ks.prototype.amX=function(z){var J=new cD(b.E.c,!0);J.iv=!0;J.data={R:z?b.J.OS:b.J.Jl,l:L.fE};this.a(J);
J=new cD(b.E.H,!0);J.l=L.fE;J.iv=!0;J.data={R:"supertool",l:z?this:null};this.a(J)};ks.prototype.a4Q=function(z){this.zP[this.VD]=z;
var J=[];for(var g=0;g<3;g++)J[g]="#"+a.fX(this.zP[g]);this.l9.jE(fD.Kg(J));var p=[!1,!1,!1];p[this.VD]=!0;
this.l9.q(p);this.amX(!0)};ks.afE=function(z){z.AY=function(){return!0};z.lW=function(J,p,n,B,c){this.st=!0;
this.aLJ(J,c)};z.dV=function(J,p,n,B,c){if(!this.st)return;this.aLJ(J,c)};z.mI=function(J,p,n,B,c){this.st=!1};
z.aLJ=function(J,p){var n=new fw(0,0,J.r,J.$);if(J.M)n=J.M.S;var B=J.i.Ka(p.x,p.y);B.x-=n.x;B.y-=n.y;
function c(t,u){return Math.round(Math.max(0,Math.min(100,100*t/u)))}this.dL[2].q(c(B.x,n.r));this.dL[3].q(c(B.y,n.$));
this.Jc()}};ks.a1W=function(z,J,p,n){var B=z.l9.V().indexOf(!0);if(B==-1||B>2)return;var c=n=="levl"?f8:a5,t=z.value;
z.value=em.J0(n);z.Jc();var u=L.IY.YE(J,p,1,null,!0),v=[u>>>16&255,u>>>8&255,u&255],A=z.zP;if(A==null)A=[0,8421504,16777215];
u=A[B];var $=[u>>>16&255,u>>>8&255,u&255];for(var g=0;g<3;g++){var X=c.FP(t,1+g);if(B==0){var U=v[g]-$[g];
if(n=="levl")X[0]=U;else X[0].v.Hrzn.v=U}if(B==1){var w=Math.log(v[g]/255)/Math.log((v[0]+v[1]+v[2])*.333/255),P=Math.log($[g]/255)/Math.log(($[0]+$[1]+$[2])*.333/255),k=w/P;
if(n=="levl")X[4]=Math.min(999,Math.max(10,Math.round(100*k)));else{if(X.length==2)X.splice(1,0,a.G(X[0]));
X[1].v.Hrzn.v=127-Math.log(k)*80;X[1].v.Vrtc.v=127}}if(B==2){var U=255*v[g]/$[g];if(n=="levl")X[1]=U;
else X[X.length-1].v.Hrzn.v=U}c.m9(t,1+g,X)}z.q(t);z.Jc()};ks.Bokh=function(){ks.call(this,"Bokh");this.dL=[new kZ("Depth Map",["A","b"]),new kN("Focal Distance",0,255),new k9([4,11]),new kZ([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new kN([12,56],0,100),new kN([12,15],0,360),new kN([12,2],0,100),new kN([4,13],0,255),new kN([24,6],0,100),new fD([12,58],[[12,59,0],[12,59,1]]),new k9([12,60])];
this.SL([5,7])};ks.Bokh.prototype=new ks;ks.Bokh.prototype.EQ=function(z,J,p){var n=[[22,5,0],[6,5,3],[6,2]],B=z.BkDi.v.BtDi,c=z.BkDc,t=0;
if(B=="BeIn")t=0;else if(B=="BeIt"&&c.v.BtDc=="BeCt")t=1;else if(B=="BeIt"&&c.v.BtDc=="BeCm")t=2;else t=3+c.v;
for(var g=0;g<p[1].length;g++)n.push(p[1][g].name);this.dL[0].jE(n,[3]);J[0]=t;J[1]=z.BkDp.v;J[2]=z.BkDs.v;
J[3]=parseInt(z.BkIs.v.BtIs.slice(3))-3;J[4]=z.BkIb.v;J[5]=z.BkIr.v;J[6]=z.BkSb.v;J[7]=z.BkSt.v;J[8]=z.BkNa.v;
J[9]=z.BkNt.v.BtNt=="BeNu"?0:1;J[10]=z.BkNm.v};ks.Bokh.prototype.rF=function(z,J){var p;if(J[0]==0){p="BeIn";
delete z.BkDc}else if(J[0]<3){p="BeIt";z.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][J[0]-1]}}}else{p="BeIa";
z.BkDc={t:"long",v:J[0]-3}}z.BkDi.v.BtDi=p;z.BkDp.v=J[1];z.BkDs.v=J[2];z.BkIs.v.BtIs="BeS"+(3+J[3]);
z.BkIb.v=J[4];z.BkIr.v=J[5];z.BkSb.v=J[6];z.BkSt.v=J[7];z.BkNa.v=J[8];z.BkNt.v.BtNt=["BeNu","BeNg"][J[9]];
z.BkNm.v=J[10]};ks.oilPaint=function(){ks.call(this,"oilPaint");this.dL=[new kN([12,56],.1,10,"px",!0),new kN("Cleanliness",0,10,"px",!0),new kN([12,38],.1,10,null,!0),new kN("Bristle Detail",0,10,null,!0),new k9("Lighting"),new kN("Shine",0,10,null,!0),new dq([12,15])];
this.SL()};ks.oilPaint.prototype=new ks;ks.oilPaint.prototype.EQ=function(z,J){var p="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var g=0;g<p.length;g++)J[g]=z[p[g]].v;J[6]=[z.LghD.v]};ks.oilPaint.prototype.rF=function(z,J){var p="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var g=0;g<p.length;g++)z[p[g]].v=J[g];z.LghD.v=J[6][0]};ks.TrcC=function(){ks.call(this,"TrcC");
this.dL=[new kN("Level",0,255),new fD([12,69],[[19,4,1],[19,4,0]])];this.SL()};ks.TrcC.prototype=new ks;
ks.TrcC.prototype.EQ=function(z,J){J[0]=z.Lvl.v;J[1]=["Lwr","Upr"].indexOf(z.Edg.v.CntE)};ks.TrcC.prototype.rF=function(z,J){z.Lvl.v=J[0];
z.Edg.v.CntE=["Lwr","Upr"][J[1]]};ks["Dfs "]=function(){ks.call(this,"Dfs ");this.dL=[new fD([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.SL()};ks["Dfs "].prototype=new ks;ks["Dfs "].prototype.EQ=function(z,J){J[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(z.Md.v.DfsM)};
ks["Dfs "].prototype.rF=function(z,J){z.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][J[0]]};ks.Embs=function(){ks.call(this,"Embs");
this.dL=[new dq([12,15]),new kN([12,42],1,100,"px"),new kN([12,57],1,500,"%")];this.SL()};ks.Embs.prototype=new ks;
ks.Embs.prototype.EQ=function(z,J){J[0]=[z.Angl.v];J[1]=z.Hght.v;J[2]=z.Amnt.v};ks.Embs.prototype.rF=function(z,J){z.Angl.v=J[0][0];
z.Hght.v=J[1];z.Amnt.v=J[2]};ks["Wnd "]=function(){ks.call(this,"Wnd ");this.dL=[new fD([12,32],["Wind","Blast","Stagger"]),new fD([12,33],["From the Right","From the Left"])];
this.SL()};ks["Wnd "].prototype=new ks;ks["Wnd "].prototype.EQ=function(z,J){J[0]=["Wnd","Blst","Stgr"].indexOf(z.WndM.v.WndM);
J[1]=["Left","Rght"].indexOf(z.Drct.v.Drct)};ks["Wnd "].prototype.rF=function(z,J){z.WndM.v.WndM=["Wnd","Blst","Stgr"][J[0]];
z.Drct.v.Drct=["Left","Rght"][J[1]]};ks.denoise=function(){ks.call(this,"denoise");this.dL=[new kN([12,64],0,10),new kN([12,65],0,100,"%")];
this.SL()};ks.denoise.prototype=new ks;ks.denoise.prototype.EQ=function(z,J){var p=z.channelDenoise.v[0].v;
J[0]=p.Amnt.v;J[1]=p.EdgF.v};ks.denoise.prototype.rF=function(z,J){var p=z.channelDenoise.v[0].v;p.Amnt.v=J[0];
p.EdgF.v=J[1]};ks.lightFilterGradient=function(){ks.call(this,"lightFilterGradient");this.dL=[new kN([24,3,1],0,100,"px",1,!0),new kN([12,38],0,200,"%"),new k9([4,11]),new kN("High",0,100,"%"),new kN("Medium",0,100,"%"),new kN("Low",0,100,"%")];
this.SL()};ks.lightFilterGradient.prototype=new ks;ks.lightFilterGradient.prototype.EQ=function(z,J){J[0]=z.blur.v;
J[1]=z.textureScale.v*100;J[2]=z.Scl.v==-1;var p=z.Dtl.v;J[3]=p[0].v*100;J[4]=p[1].v*100;J[5]=p[2].v*100};
ks.lightFilterGradient.prototype.rF=function(z,J){z.blur.v=J[0];z.textureScale.v=J[1]/100;z.Scl.v=J[2]?-1:1;
var p=z.Dtl.v;p[0].v=J[3]/100;p[1].v=J[4]/100;p[2].v=J[5]/100};ks.Fbrs=function(){ks.call(this,"Fbrs");
this.dL=[new kN("Variance",1,64),new kN([12,64],1,64)];this.SL()};ks.Fbrs.prototype=new ks;ks.Fbrs.prototype.EQ=function(z,J){J[0]=z.Vrnc.v;
J[1]=z.Strg.v};ks.Fbrs.prototype.rF=function(z,J){z.Vrnc.v=J[0];z.Strg.v=J[1]};ks.LnsF=function(){ks.call(this,"LnsF");
this.dL=[new kN([12,2],10,300,"%"),new fD([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new kN("Position X",0,100,"%"),new kN("Position Y",0,100,"%")];
this.SL()};ks.LnsF.prototype=new ks;ks.LnsF.prototype.EQ=function(z,J){J[0]=z.Brgh.v;J[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(z.Lns.v.Lns);
var p=z.FlrC.v;J[2]=Math.round(p.Hrzn.v*100);J[3]=Math.round(p.Vrtc.v*100)};ks.LnsF.prototype.rF=function(z,J){z.Brgh.v=J[0];
z.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][J[1]];var p=z.FlrC.v;p.Hrzn.v=J[2]/100;p.Vrtc.v=J[3]/100};ks.afE(ks.LnsF.prototype);
ks.blendOptions=function(){ks.call(this,"blendOptions");this.dL.push(new kZ([12,19,0],jM.he,jM.jN));
this.dL.push(new kN([12,0],0,100,"%"));this.SL()};ks.blendOptions.prototype=new ks;ks.blendOptions.prototype.EQ=function(z,J){J[0]=jM.n_.indexOf(z.Md.v.BlnM);
J[1]=z.Opct.v.val};ks.blendOptions.prototype.rF=function(z,J){z.Md.v.BlnM=jM.n_[J[0]];z.Opct.v.val=J[1]};
ks.LnCr=function(){ks.call(this,"LnCr");this.dL=[new kN([12,57],-100,100),new kN([12,38],10,150,"%")];
this.SL()};ks.LnCr.prototype=new ks;ks.LnCr.prototype.EQ=function(z,J){J[0]=z.LnIa.v;J[1]=z.LnSi.v};
ks.LnCr.prototype.rF=function(z,J){z.LnIa.v=J[0];z.LnSi.v=J[1]};ks.adaptCorrect=function(){ks.call(this,"adaptCorrect");
var z=jT;this.dL=[new bm([19,6,0]),new z([12,57],0,100,"%"),new z("Tone",0,100,"%"),new z([12,56],0,200,"px"),new bm([19,6,2]),new z([12,57],0,100,"%"),new z("Tone",0,100,"%"),new z([12,56],0,200,"px"),new bm([3]),new z([13,0],-100,100)];
this.SL([3,7])};ks.adaptCorrect.prototype=new ks;ks.adaptCorrect.prototype.EQ=function(z,J){var p=z.sdwM.v;
J[0]=p.Amnt.v.val;J[1]=p.Wdth.v.val;J[2]=p.Rds.v;var p=z.hglM.v;J[3]=p.Amnt.v.val;J[4]=p.Wdth.v.val;
J[5]=p.Rds.v;J[6]=z.ClrC.v};ks.adaptCorrect.prototype.rF=function(z,J){var p=z.sdwM.v;p.Amnt.v.val=J[0];
p.Wdth.v.val=J[1];p.Rds.v=J[2];var p=z.hglM.v;p.Amnt.v.val=J[3];p.Wdth.v.val=J[4];p.Rds.v=J[5];z.ClrC.v=J[6]};
ks.Flam=function(){ks.call(this,"Flam");var z=this.dL=[new kZ([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new kN([12,80,0],20,1e3,"px"),new k9("Randomize Length"),new kN([12,41],5,600,"px"),new kN([12,15],0,360,"\xB0"),new kN("Interval",10,200,"px"),new k9("Adapt Interval for Loops"),new dX(!1),new kZ([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new kN("Turbulent",0,100),new kN("Jag",0,100),new kN([12,0],0,100),new kN("Lines",2,30),new kN("Bottom",0,100),new kZ([12,22],["Normal","Violent","Flat"]),new kZ([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new k9("Randomize Shape"),new kN("Random Seed",0,100)];
this.SL();var J=this._;q.X0(J);var p=new fD(null,["Basic","Advanced"]);p.D(b.E.n,this.a1u,this);J.appendChild(p._);
q.qk(J);var n=q.m("div"),B=q.m("div");this.afi=[n,B];J.appendChild(n);for(var g=0;g<z.length;g++){(g<9?n:B).appendChild(z[g]._);
if(g==6)q.Uk(n)}z[0].D(b.E.n,this.ani,this);this.ani()};ks.Flam.prototype=new ks;ks.Flam.prototype.ani=function(z){var J=this.dL,g=J[0].V();
J[1].h6(g!=0&&g!=5);J[2].h6(g!=0&&g!=5);J[4].h6(g!=0&&g!=5&&g!=1);J[5].h6(g!=0&&g!=5);J[6].h6(g!=0&&g!=5)};
ks.Flam.prototype.a1u=function(z){var g=z.target.V(),J=this.afi,p=this._;p.removeChild(J[1-g]);p.appendChild(J[g])};
ks.boxblur=function(){ks.call(this,"boxblur");this.dL=[new kN([12,56],1,200," px")];this.SL()};ks.boxblur.prototype=new ks;
ks.boxblur.prototype.EQ=function(z,J){J[0]=z.Rds.v.val};ks.boxblur.prototype.rF=function(z,J){z.Rds.v.val=J[0]};
ks.GsnB=function(){ks.call(this,"GsnB");this.dL=[new kN([12,56],.1,400,"px",1,!0)];this.SL()};ks.GsnB.prototype=new ks;
ks.Dila=function(){ks.call(this,"Dila");this.dL=[new kN([11,12,1],0,20,"px",0),new kN([12,56],0,400,"px",0,!0)];
this.SL()};ks.Dila.prototype=new ks;ks.MtnB=function(){ks.call(this,"MtnB");this.dL=[new dq([12,15]),new kN([12,28],1,100," px")];
this.SL()};ks.MtnB.prototype=new ks;ks.RdlB=function(){ks.call(this,"RdlB");this.dL=[new kN([12,57],1,100),new fD([12,36],["Spin","Zoom"]),new kN("Position X",0,100,"%"),new kN("Position Y",0,100,"%")];
this.SL()};ks.RdlB.prototype=new ks;ks.RdlB.prototype.EQ=function(z,J){J[0]=z.Amnt.v;J[1]=["Spn","Zm"].indexOf(z.BlrM.v.BlrM);
J[2]=z.Cntr.v.Hrzn.v*100;J[3]=z.Cntr.v.Vrtc.v*100};ks.RdlB.prototype.rF=function(z,J){z.Amnt.v=J[0];
z.BlrM.v.BlrM=["Spn","Zm"][J[1]];z.Cntr.v.Hrzn.v=J[2]/100;z.Cntr.v.Vrtc.v=J[3]/100};ks.afE(ks.RdlB.prototype);
ks.Dspl=function(){ks.call(this,"Dspl");this.dL=[new kZ([6,36,3],["a","b"]),new kN([22,4,0],-100,100,"px"),new kN([22,4,1],-100,100,"px"),new kZ([24,18,0],[[24,18,3],[24,18,2]])];
this.SL()};ks.Dspl.prototype=new ks;ks.Dspl.prototype.EQ=function(z,J,p){this.aDL=[];this.Iw=[];var n=-1,B=p?p[0]:null;
if(B==null)B=this.asg;else this.asg=B;if(B)for(var g=0;g<B.length;g++){var c=B[g];this.aDL.push(c.qI.trim());
this.Iw.push(c.A_);if(c.A_==z.DspF.v.pth)n=g}this.dL[0].jE(this.aDL);J[0]=n==-1?0:n;J[1]=z.HrzS.v;J[2]=z.VrtS.v;
J[3]=["WrpA","RptE"].indexOf(z.UndA.v.UndA)};ks.Dspl.prototype.rF=function(z,J){var p=this.asg;if(this.Iw.length==0)return;
z.DspF.v.pth=this.Iw[J[0]];z.HrzS.v=J[1];z.VrtS.v=J[2];z.UndA.v.UndA=["WrpA","RptE"][J[3]];var n=p[J[0]];
n.dT();var B=n.GS[1],c=B.r,t=B.$,u=a.j(B.C());a.rz(n.GS[0],u);var v=[t&255,t>>>8,0,0,c&255,c>>>8,0,0,3,0];
for(var A=0;A<2;A++)for(var g=0;g<u.length;g++)v.push(u[g]);for(var g=0;g<1e3;g++)v.push(0);z.DspD={t:"tdta",v:v};
z.EmbF={t:"bool",v:!0}};ks.Pnch=function(){ks.call(this,"Pnch");this.dL=[new kN([12,57],-100,100,"%")];
this.SL()};ks.Pnch.prototype=new ks;ks["Plr "]=function(){ks.call(this,"Plr ");this.dL=[new fD(null,["Rect to Polar","Polar to Rect"])];
this.SL()};ks["Plr "].prototype=new ks;ks.Rple=function(){ks.call(this,"Rple");this.dL=[new kN([12,57],-999,999),new kZ([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.SL()};ks.Rple.prototype=new ks;ks["Shr "]=function(){ks.call(this,"Shr ");this.dL=[new i2(!0,!0),new kZ([24,18,0],[[24,18,3],[24,18,2]])];
this.SL()};ks["Shr "].prototype=new ks;ks["Shr "].prototype.EQ=function(z,J){var p=new fA(0,255/127,255/127,0,-2,128),n=a.G(z.ShrP.v);
a.kC.h(n,p);J[0]=n;J[1]=["WrpA","RptE"].indexOf(z.UndA.v.UndA)};ks["Shr "].prototype.rF=function(z,J){var p=new fA(0,255/127,255/127,0,-2,128);
p.oU();a.kC.h(J[0],p);z.ShrP.v=J[0];z.ShrE.v=J[0].length-1;z.UndA.v.UndA=["WrpA","RptE"][J[1]]};ks.Sphr=function(){ks.call(this,"Sphr");
this.dL=[new kN([12,57],-100,100),new kZ([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.SL()};ks.Sphr.prototype=new ks;
ks.Sphr.prototype.EQ=function(z,J){J[0]=z.Amnt.v;J[1]=["Nrml","HrzO","VrtO"].indexOf(z.SphM.v.SphM)};
ks.Sphr.prototype.rF=function(z,J){z.Amnt.v=J[0];z.SphM.v.SphM=["Nrml","HrzO","VrtO"][J[1]]};ks.Dthr=function(){ks.call(this,"Dthr");
this.dL=[new kZ("Palette",hj.awK),new fD("Method",["None","Floyd-Steinberg","Bayer 4x4"])];this.SL()};
ks.Dthr.prototype=new ks;ks.Dthr.prototype.EQ=function(z,J){J[0]=z.Plte.v;J[1]=z.Mthd?z.Mthd.v:1};ks.Dthr.prototype.rF=function(z,J){z.Plte.v=J[0];
z.Mthd.v=J[1]};ks.Part=function(){ks.call(this,"Part");this.dL=[new kN([15,5,1],0,100,"%"),new kN([12,14,0],1,50,"px"),new kN([12,34],0,100,"%"),new kN([12,2],10,1e3,"%"),new dX(!0),new kN("Time",0,1,null,3),new kN("Turbulence",0,100,"%"),new k9("Blink"),new k9("Fall")];
this.SL([4])};ks.Part.prototype=new ks;ks.Part.prototype.EQ=function(z,J){J[0]=z.Cont.v;J[1]=z.Size.v;
J[2]=z.Dpth.v;J[3]=z.Brgh.v;J[4]=z.Clr.v;J[5]=z.Time.v;J[6]=z.Turb.v;J[7]=z.Blnk.v;J[8]=z.Fall.v};ks.Part.prototype.rF=function(z,J){z.Cont.v=J[0];
z.Size.v=J[1];z.Dpth.v=J[2];z.Brgh.v=J[3];z.Clr.v=J[4];z.Time.v=J[5];z.Turb.v=J[6];z.Blnk.v=J[7];z.Fall.v=J[8]};
ks.Twrl=function(){ks.call(this,"Twrl");this.dL=[new kN([12,15],-999,999)];this.SL()};ks.Twrl.prototype=new ks;
ks.Wave=function(){ks.call(this,"Wave");this.aBE=[1,2,3,4];this.dL=[new kN("Number of Generators",1,100),new jT("Min Length",1,999),new jT("Max Length",1,999),new jT("Min Ampl.",1,999),new jT("Max Ampl.",1,999),new jT("Scale X",1,100,"%"),new jT("Scale Y",1,100,"%"),new fD([12,44],["Sine","Triangle",[12,93,3]]),new kZ([24,18,0],[[24,18,3],[24,18,2]])];
this.SL()};ks.Wave.prototype=new ks;ks.ZgZg=function(){ks.call(this,"ZgZg");this.dL=[new kN([12,57],-100,100),new kN("Ridges",0,20),new kZ([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.SL()};ks.ZgZg.prototype=new ks;ks.surfaceBlur=function(){ks.call(this,"surfaceBlur");this.dL=[new kN([12,56],1,200," px"),new kN([4,13],1,255," px")];
this.SL()};ks.surfaceBlur.prototype=new ks;ks.surfaceBlur.prototype.EQ=function(z,J){J[0]=z.Rds.v.val;
J[1]=z.Thsh.v};ks.surfaceBlur.prototype.rF=function(z,J){z.Rds.v.val=J[0];z.Thsh.v=J[1]};ks.AdNs=function(){ks.call(this,"AdNs");
this.dL=[new kN([12,57],0,200," %"),new kZ([12,58],[[12,59,1],[12,59,0]]),new k9([12,60])];this.SL()};
ks.AdNs.prototype=new ks;ks.DstS=function(){ks.call(this,"DstS");this.dL=[new kN([12,56],1,200," px"),new kN([4,13],1,255," px")];
this.SL()};ks.DstS.prototype=new ks;ks["Mdn "]=function(){ks.call(this,"Mdn ");this.dL=[new kN([12,56],1,200," px")];
this.SL()};ks["Mdn "].prototype=new ks;ks["Mdn "].prototype.EQ=function(z,J){J[0]=z.Rds.v.val};ks["Mdn "].prototype.rF=function(z,J){z.Rds.v.val=J[0]};
ks.ClrH=function(){ks.call(this,"ClrH");this.dL=[new kN([12,56],4,100," px")];for(var g=1;g<4;g++)this.dL.push(new kN("Angle "+g,0,90," \xB0"));
this.SL()};ks.ClrH.prototype=new ks;ks.ClrH.prototype.EQ=function(z,J){J[0]=z.Rds.v;for(var g=1;g<4;
g++)J[g]=z["Ang"+g].v};ks.ClrH.prototype.rF=function(z,J){z.Rds.v=J[0];for(var g=1;g<4;g++)z["Ang"+g].v=J[g]};
ks.ClrH.prototype.T=function(){var z=this.dL;z[0].T();for(var g=1;g<4;g++)z[g].MM(j0.get([12,15])+" "+g)};
ks.Crst=function(){ks.call(this,"Crst");this.dL=[new kN([12,61],3,100," px")];this.SL()};ks.Crst.prototype=new ks;
ks.Crst.prototype.EQ=function(z,J){J[0]=z.ClSz.v};ks.Crst.prototype.rF=function(z,J){z.ClSz.v=J[0]};
ks.Mztn=function(){ks.call(this,"Mztn");this.dL.push(new kZ([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.Iw="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.SL()};ks.Mztn.prototype=new ks;
ks.Mztn.prototype.EQ=function(z,J){J[0]=this.Iw.indexOf(z.MztT.v.MztT)};ks.Mztn.prototype.rF=function(z,J){z.MztT.v.MztT=this.Iw[J[0]]};
ks["Msc "]=function(){ks.call(this,"Msc ");this.dL=[new kN([12,61],2,200," px")];this.SL()};ks["Msc "].prototype=new ks;
ks["Msc "].prototype.EQ=function(z,J){J[0]=z.ClSz.v.val};ks["Msc "].prototype.rF=function(z,J){z.ClSz.v.val=J[0]};
ks.Pntl=function(){ks.call(this,"Pntl");this.dL=[new kN([12,61],3,100," px")];this.SL()};ks.Pntl.prototype=new ks;
ks.Pntl.prototype.EQ=function(z,J){J[0]=z.ClSz.v};ks.Pntl.prototype.rF=function(z,J){z.ClSz.v=J[0]};
ks.smartSharpen=function(){ks.call(this,"smartSharpen");this.dL=[new kN([12,57],1,200,"%"),new kN([12,56],0,200,"px",1,!0)];
this.SL()};ks.smartSharpen.prototype=new ks;ks.smartSharpen.prototype.EQ=function(z,J){J[0]=z.Amnt?z.Amnt.v.val:200;
J[1]=z.Rds?z.Rds.v.val:1};ks.smartSharpen.prototype.rF=function(z,J){z.Amnt.v.val=J[0];z.Rds.v.val=J[1]};
ks.UnsM=function(){ks.call(this,"UnsM");this.dL=[new kN([12,57],1,200," %"),new kN([12,56],.1,400,"px",1,!0),new kN([4,13],0,255," ")];
this.SL()};ks.UnsM.prototype=new ks;ks.HghP=function(){ks.call(this,"HghP");this.dL=[new kN([12,56],.1,400,"px",1,!0)];
this.SL()};ks.HghP.prototype=new ks;ks.HsbP=function(){ks.call(this,"HsbP");this.dL=[new fD("Input",["RGB","HSB","HSL"]),new fD("Output",["RGB","HSB","HSL"])];
this.SL()};ks.HsbP.prototype=new ks;ks["Mxm "]=function(){ks.call(this,"Mxm ");this.dL=[new kN([12,56],.1,200," px",1,!0),new kZ([12,76,1],[[12,93,3],"Circle"])];
this.SL()};ks["Mxm "].prototype=new ks;ks["Mnm "]=function(){ks.call(this,"Mnm ");this.dL=[new kN([12,56],.1,200," px",1,!0),new kZ([12,76,1],[[12,93,3],"Circle"])];
this.SL()};ks["Mnm "].prototype=new ks;ks.Ofst=function(){ks.call(this,"Ofst");this.dL=[new kN([22,4,0],-1024,1024," px"),new kN([22,4,1],-1024,1024," px"),new kZ([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.SL()};ks.Ofst.prototype=new ks;ks.Kale=function(){ks.call(this,"Kale");this.dL=[new jT("Mirrors",2,20),new jT([12,15],0,360,"\xB0")];
this.SL()};ks.Kale.prototype=new ks;ks.Kale.prototype.EQ=function(z,J){J[0]=z.Mirr.v;J[1]=z.MRot.v};
ks.Kale.prototype.rF=function(z,J){z.Mirr.v=J[0];z.MRot.v=J[1]};ks.Rept=function(){ks.call(this,"Rept");
this.dL=[new jT([12,38],1,300," %"),new jT("Row Shift",-50,50," %"),new jT("Space X",-99,200," %"),new jT("Space Y",-99,200," %"),new k9([4,16,2]),new dq([12,15])];
this.SL()};ks.Rept.prototype=new ks;ks.Rept.prototype.EQ=function(z,J){J[0]=z.Scl.v.val;J[1]=z.Rsft.v.val;
J[2]=z.SpcX.v.val;J[3]=z.SpcY.v.val;J[4]=z.SpcC.v;J[5]=[z.Angl.v]};ks.Rept.prototype.rF=function(z,J){z.Scl.v.val=J[0];
z.Rsft.v.val=J[1];z.SpcX.v.val=J[2];z.SpcY.v.val=J[3];z.SpcC.v=J[4];z.Angl.v=J[5][0];return z};ks.Ctoa=function(){ks.call(this,"Ctoa");
this.dL=[new bm([13,0]),new dX(!0),new kN(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new kN(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.SL()};ks.Ctoa.prototype=new ks;ks.Ctoa.prototype.EQ=function(z,J){J[0]=z.Clr.v;J[1]=z.Trsp.v.val;
J[2]=z.Opct.v.val};ks.Ctoa.prototype.rF=function(z,J){z.Clr.v=J[0];z.Trsp.v.val=J[1];z.Opct.v.val=J[2]};
ks.LqFy=function(){ks.call(this,"LqFy");this.oI=!1;this.MF=!1;this.ku=null;this.aCx=null;this.l=0;this.UW=-1;
this.Z={_X:[[{l:{id:0,name:[24,1,0,1,0],Ez:"liq/smudge"}}],[{l:{id:1,name:[24,1,0,1,1],Ez:"liq/reconstruct"}}],[{l:{id:2,name:[24,1,0,1,2],Ez:"liq/smooth"}}],[{l:{id:3,name:[24,1,0,1,3],Ez:"liq/twirl"}}],[{l:{id:4,name:[24,1,0,1,4],Ez:"liq/shrink"}}],[{l:{id:5,name:[24,1,0,1,5],Ez:"liq/blow"}}],[{l:{id:6,name:[24,1,0,1,6],Ez:"liq/pleft"}}],[{l:{id:7,name:"Hand",Ez:"tools/hand"}}],[{l:{id:8,name:"Zoom In",Ez:"zoomIn"}}],[{l:{id:9,name:"Zoom Out",Ez:"zoomOut"}}]],keys:[]};
this.Sr=new cn(this.Z,!1);this.Sr.Yu(0);this.Sr.D(b.E.c,this.ci,this);this.OF=dT.L3();this.Vz=null;this.t0=[];
this.Fl=-1;this.Pg=null;this.aqF=null;this.bu=null;this.Iz=null;this.zK=null;var z=q.m("div","flexrow");
this.wy=z;this._.appendChild(z);z.appendChild(this.Sr._);this.view=new eQ(!0);this.view.B$(100,100);
this.view.D("mousedown",this.Zf,this);this.view.D("mousemove",this.Is,this);this.view.D("mouseup",this.fW,this);
this.view.D("zoom",this.ee,this);z.appendChild(this.view._);var J=q.m("div","form");z.appendChild(J);
this.aJK=J;J.style.width="230px";this.ow=[new kN([12,14,0],0,1e3,null,!1,!0),new kN([12,74],0,100,null,!1,!1),new kN([12,84],0,100,null,!1,!1),new k9([12,46]),new kN([12,0],0,100,null,!1,!1),new k9([24,18,5])];
var p=this.OF.Brsh.v;p.Dmtr.v.val=100;var n=[100,50,100,!1,100,!0];for(var g=0;g<this.ow.length;g++){var B=this.ow[g];
B.q(n[g]);if(g==4)B.EJ();B.D(b.E.n,this.ajh,this);J.appendChild(B._)}var c=this.aor=new eq([1,12,2],!0,null,!0);
c.D("click",this.L4,this);J.appendChild(c._);this.a7_=this.Lf.bind(this);this.Vo=new lh;this.Vo._=q.m("div","floatcont");
this.HQ=new eq("Menu",!1,null,!0);var t=this.HQ._;q.v(t,"position:absolute; right:13px; top:47px");q.tN(t,this.auR.bind(this))};
ks.LqFy.prototype=new ks;ks.LqFy.prototype.T5=function(){return!0};ks.LqFy.prototype.XF=function(z){this.aJK.appendChild(z)};
ks.LqFy.prototype.auR=function(z){if(q.SA(this.Vo._))return;z.stopPropagation();var J=this.HQ._.getBoundingClientRect();
this.Vo._.appendChild(this.aJK);var p=new cD(b.E.c,!0);p.data={R:b.J.v0,NC:this.Vo,x:J.right+J.width-290,y:J.top+J.height};
this.a(p)};ks.LqFy.prototype.qA=function(z){this.oI=z.Q(l5.W0);var J=L.SD.hb(this.OF,z);if(J!=null){this.OF=J;
this.ee();this.ow[0].q(J.Brsh.v.Dmtr.v.val)}else if(z.Q(l5.zT)&&z.Q(l5.Lg)){var p=this.t0;if(z.Q(l5.VN)){if(this.Fl+1<p.length)this.Fl++}else if(this.Fl>0)this.Fl--;
this.Vz.map=p[this.Fl].slice(0);this.xM(null)}else if(this.l<=6)this.view.qA(z);var n=this.l,B=-1,c=z.Q(l5.W0);
if(c&&this.UW==-1){if(n==0)B=1;if(n==4)B=5;if(n==5)B=4;if(B!=-1)this.UW=n}if(!c&&this.UW!=-1){B=this.UW;
this.UW=-1}if(B!=-1){this.l=B;this.Sr.Yu(this.l)}};ks.LqFy.prototype.ci=function(z){if(z.data.R==b.J.OS){var J=this.l=z.data.l;
this.Sr.Yu(this.l);this.view.qA(J>6?eQ.du(J-7):new l5)}};ks.LqFy.prototype.ajh=function(z){var J=z.currentTarget,g=this.ow.indexOf(J),p=this.OF.Brsh.v;
if(g==0){p.Dmtr.v.val=J.V();this.ee()}this.ow[4].h6(this.ow[3].V());if(g>2)this.xM(null)};ks.LqFy.prototype.Mg=function(){var z=this.t0;
this.Fl++;z[this.Fl]=this.Vz.map.slice(0);while(z.length>this.Fl+1)z.pop();while(z.length>50){z=z.slice(1);
this.Fl--}};ks.LqFy.prototype.Zf=function(z){this.ku=this.view.sx();this.aCx=new i_(0,0);this.MF=!0;
window.requestAnimationFrame(this.a7_)};ks.LqFy.prototype.Is=function(z){var J=this.view.sx(),p=new i_(J.x-this.ku.x,J.y-this.ku.y);
if(this.l==0||this.l==6)this.a2O(p);this.ku=J};ks.LqFy.prototype.fW=function(z){this.Mg();this.MF=!1};
ks.LqFy.prototype.Lf=function(z){if(this.l!=0&&this.l!=6)this.a2O(new i_(0,0));if(this.MF)window.requestAnimationFrame(this.a7_)};
ks.LqFy.prototype.a2O=function(z){var J=this.Vz,p=J.Tx/this.Pg.r,n=this.ku,B=this.OF.Brsh.v,c=B.Dmtr.v.val,t=Date.now(),u=J.Tx,v=J.tK,A=Math.sqrt(z.x*z.x+z.y*z.y),$=Math.max(1,Math.ceil(A/2)),X=z.x/$,U=z.y/$,w=n.P(),P=this.l,k=this.ow[1].V()/100,T=this.ow[2].V()/100,Z=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],i=Z[P*2],V=Z[P*2+1],_=(1-k)*i+k*V,y=c*p/2;
for(var g=0;g<$;g++){var E=[];w.x+=X;w.y+=U;a.EZ.afT(J.map,u,v,P,w.x*p,w.y*p,y,k,T,X*p,U*p,E,this.oI);
a.EZ.aIX(u,v,J.map,E,2*_*T)}var F=new fw(0,0,u,v),d=new fw(n.x*p,n.y*p,0,0);d.Lr(c*p*.5,c*p*.5);var x=d.P();
x.offset(z.x*p,z.y*p);d=d.KQ(x);var f=new fw(d.x/p,d.y/p,d.r/p,d.$/p);f=a.b.$M(f).ly(this.Pg);this.ow[5].q(!0);
this.xM(f)};ks.LqFy.prototype.ee=function(){var z=dJ.L$(this.OF,null,this.view.rO().XP);this.view.c5(z)};
ks.LqFy.prototype.q=function(z,J,p,n,B){p=p.P();if(J==null)return;J=a.hg(J,8);if(!n.Vm(p)){var c=p.KQ(n),t=a.j(c.C()*4);
a.nk(J,p,t,c);J=t;p=c;var u=a.j(c.C()*4);a.nk(B,n,u,c);B=u}p.x=p.y=0;this.bu=J;this.aqF=B;this.zK=J.slice(0);
this.Iz=J.slice(0);this.Pg=p;this.Vz=kD.yi(new Uint8Array(z.LqMe.v).buffer);var v=p.r,A=p.$;if(this.Vz.Tx/v<.22){this.Vz={Tx:Math.floor(v/4),tK:Math.floor(A/4)};
this.Vz.map=new Float32Array(this.Vz.Tx*this.Vz.tK*2)}this.t0=[];this.Fl=-1;this.Mg();this.xM(null);
this.view.PH(!0);this.ee()};ks.LqFy.prototype.V=function(){var z=em.J0("LqFy"),J=new Uint8Array(kD.Ag(this.Vz)),p=[];
for(var g=0;g<J.length;g++)p.push(J[g]);z.LqMe.v=p;return z};ks.LqFy.prototype.B$=function(z,J){this.Sr.B$(z,J);
var p=this.HQ._,n=this.aJK;this.wy.appendChild(n);this.wy.appendChild(p);if(z>450&&z-J>200){n.style.marginLeft="1em";
this.wy.removeChild(p);this.view.B$(z-238-45,J)}else{n.style.marginLeft="";this.wy.removeChild(n);this.view.B$(z-40,J)}};
ks.LqFy.prototype.T=function(){this.Sr.T();this.aor.T();for(var g=0;g<this.ow.length;g++)this.ow[g].T()};
ks.LqFy.prototype.L4=function(){this.Vz.map.fill(0);this.Mg();this.xM(null)};ks.LqFy.prototype.xM=function(z){var J=this.Pg,p=this.bu,n=this.zK,B=this.Vz;
if(this.ow[5].V())a.EZ.TB(p,this.Iz,J.r,J.$,z,B.map,B.Tx,B.tK,0);else this.Iz.set(p);if(this.ow[3].nL()){a.nk(this.aqF,J,n,J,z?z:J);
a.B.Oe("norm",this.Iz,J,n,J,z?z:J,this.ow[4].V()/100)}else a._U(this.Iz,n);this.view.q([{eE:J,data:n.buffer}],null,null,z)};
ks.GEfc=function(){ks.call(this,"GEfc");this.hM=0;this.k2=0;this.bu=null;this.zK=null;this.Pg=null;this.f=null;
this.dr=null;this.y5=0;this.WB=null;this.VF=null;var z=q.m("div","flexrow");this.wy=z;this._.appendChild(z);
this.view=new eQ(null);this.view.B$(100,100);z.appendChild(this.view._);this.Cv="";this.a3Z=270;var J=this.CH=q.m("div","form scrollable");
z.appendChild(J);q.v(J,"width:"+this.a3Z+"px;");var p=this.EV=q.m("div","form");z.appendChild(p);q.v(p,"width:230px;  margin:0 10px");
this.yP={};for(var n in hj.names){var B=new ks.GEfc.eI(n);B.parent=this;this.yP[n]=B;B.D(b.E.n,this.aB2,this)}this.vt=!0;
this.HQ=new eq("Menu",null,null,!0);this.HQ.D("click",this.aoG,this);z.appendChild(this.HQ._);this.arn=new eq(">>",null,null,!0);
this.arn.D("click",this.a5F,this);p.appendChild(this.arn._);this.anS=q.m("div");q.v(this.anS,"margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
p.appendChild(this.anS);this.KA=q.m("div");this.KA.style.minHeight="14em";this.KA.style.marginBottom="1em";
p.appendChild(this.KA);this.Xd=q.m("div","lpbody scrollable");this.x4=q.m("div","lpfoot");p.appendChild(this.Xd);
p.appendChild(this.x4);this.D("click",this.apK,this);this.kK=[];de.Vg([[5,3],[5,4]],this.kK,this.x4,this.z8.bind(this))};
ks.GEfc.prototype=new ks;ks.GEfc.prototype.T5=function(){return!0};ks.GEfc.prototype.XF=function(z){this.anS.appendChild(z)};
ks.GEfc.prototype.qA=function(z){this.view.qA(z)};ks.GEfc.prototype.Sc=function(z,J){this.f=z;if(z.Nb==z.Gh)alert("Your foreground and a background color are identical.",4e3)};
ks.GEfc.prototype.a5F=function(z){var J=this.CH.style.display!="none";this.CH.style.display=J?"none":"";
this.arn.MM(J?"<<":">>");this.B$()};ks.GEfc.prototype.aoG=function(z){this.vt=!this.vt;this.B$()};ks.GEfc.prototype.B$=function(z,J){var p=this.CH.style.display!="none";
if(z!=null){this.hM=z;this.k2=J;if(z<1e3&&p||z>=1e3&&!p){this.a5F();p=!p}this.vt=z>600}else{z=this.hM;
J=this.k2}var n=this.vt?250+(p?this.a3Z:0):0;if(q.SA(this.EV)&&!this.vt){this.wy.removeChild(this.CH);
this.wy.removeChild(this.EV)}if(!q.SA(this.EV)&&this.vt){this.wy.appendChild(this.CH);this.wy.appendChild(this.EV)}this.CH.style.height=J+"px";
this.view.B$(z-n,J);this.Xd.style.height=J-Math.max(this.KA.getBoundingClientRect().height,186)-96+"px";
q.v(this.HQ._,"position:absolute; top:46px;  right:"+(n+16)+"px")};ks.GEfc.prototype.aeE=function(){var z=kL.r7.get("img/beach",!0)[0],J=z.eE,p=this.CH,n=Math.floor(q.$q()*(this.a3Z-44)/3),B=~~(n*.7),c=new fw(0,0,n,B),t=a.j(n*B*4),u=t.slice(0),v=Math.round(10*q.$q()),A=new ImageData(new Uint8ClampedArray(u.buffer),n,B);
a.nk(new Uint8Array(z.data),J,t,new fw(Math.round((J.r-n)/2),Math.round((J.$-B)/2),n,B));var $=q.m("canvas"),X=$.getContext("2d");
$.width=n;$.height=B+Math.round(v*1.5);X.font=v+"px sans-serif";this.WB={};q.X0(p);var U=this.axM.bind(this);
for(var g=0;g<hj.uC.length;g++){var w=hj.uC[g],P=q.m("div");p.appendChild(P);q.v(P,"background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
P.textContent=j0.get(w);for(var k in hj.names){var T=hj.names[k];if(T[0]!=g)continue;hj.Rm(k,{S:c,buffer:t},hj.J0(k),{o:0,k:0,X:0},{o:255,k:255,X:255},{S:c,buffer:u},{});
X.fillStyle="black";X.fillRect(0,0,500,500);X.putImageData(A,0,0);var Z=j0.get(T[1]);X.fillStyle="white";
X.fillText(Z,(n-X.measureText(Z).width)/2,B+Math.round(v*1.1));var i=q.m("div");p.appendChild(i);q.v(i,"display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
i.addEventListener("click",U,!1);var P=q.m("img");i.appendChild(P);P.setAttribute("src",$.toDataURL());
q.v(P,"width:"+n/q.$q()+"px; margin-bottom:0px;");this.WB[k]=i}}};ks.GEfc.prototype.axM=function(z){var J;
for(var p in this.WB)if(this.WB[p]==z.currentTarget)this.Cv=p;this.aB2()};ks.GEfc.prototype.z8=function(z){var J=de.Ax(this.kK,z),p=this.dr.GEfs.v,n=p[this.y5].v;
if(J==0){p.push(a.G(p[this.y5]));this.y5=p.length-1}else if(p.length>1){p.splice(this.y5,1);if(this.y5==p.length)this.y5--}this.vZ();
this.xM()};ks.GEfc.prototype.aB2=function(z){var J=this.Cv,p;if(z==null)p=hj.J0(J);else p=this.yP[J].V();
this.dr.GEfs.v[this.y5].v=p;this.vZ();this.xM()};ks.GEfc.prototype.q=function(z,J,p,n,B){var c=j0.get([24,0]);
if(this.WB==null||c!=this.VF)this.aeE();this.VF=c;z=this.dr=a.G(z);if(z.GEfs==null)z=this.dr={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:z}]}};
var t=z.GEfs.v;for(var g=0;g<t.length;g++)if(t[g].v.GELv==null)t[g].v.GELv={t:"bool",v:!0};this.y5=t.length-1;
this.vZ();p=p.P();if(J==null)return;J=a.hg(J,8);if(!n.Vm(p)&&hj._r(z).x!=0){var u=p.KQ(n),v=a.j(u.C()*4);
a.nk(J,p,v,u);J=v;p=u}p.x=p.y=0;this.bu=J;this.zK=J.slice(0);this.Pg=p;this.xM();this.view.PH()};ks.GEfc.prototype.apK=function(z){var J=z.data,g=J.GU,p=this.dr.GEfs.v;
if(J.z1){p[g].v.GELv.v=!p[g].v.GELv.v;this.xM()}else this.y5=g;this.vZ()};ks.GEfc.prototype.vZ=function(){var z=this.dr.GEfs.v,J=z[this.y5].v,p=J.GEfk.v.GEft,n=this.KA;
if(hj.names[p]==null){alert("Unsupported gallery filter");q.X0(n)}else{this.Cv=p;for(var B in this.WB)q.Om(this.WB[B],"selected");
q.$y(this.WB[p],"selected");var c=this.yP[p];c.q(J);if(n.firstChild!=c._){q.X0(n);n.appendChild(c._)}}var t=[];
for(var g=0;g<z.length;g++){var u=z[g].v,v=hj.names[u.GEfk.v.GEft],A=new fe(g,!0,!0,null,v?v[1]:"Filter",g==this.y5,u.GELv.v);
A.parent=this;t.push(A._)}q.X0(this.Xd);t.reverse();for(var g=0;g<t.length;g++)this.Xd.appendChild(t[g]);
this.B$()};ks.GEfc.prototype.V=function(){return a.G(this.dr)};ks.GEfc.prototype.xM=function(z){var J=this.Pg,p=this.bu,n=this.zK,B=this.Cv,c=this.dr,t=this.f;
em.Rm("GEfc",{S:this.Pg,buffer:this.bu},c,a.g8(t.Nb),a.g8(t.Gh),{S:this.Pg,buffer:this.zK},null);this.view.q([{eE:J,data:n.buffer}])};
ks.GEfc.prototype.T=function(){for(var z in this.yP)this.yP[z].T();de.lS(this.kK,["lrs/newlayer","lrs/bin"])};
ks.GEfc.eI=function(z){lh.call(this);this.Sp=z;this._=q.m("div");this.I6={};var J=hj.J0(z);for(var p in J){var n=null;
if(p=="__name"||p=="classID"||p=="GEfk"||p=="GELv"||["FlRs"].indexOf(p)!=-1)continue;else if(p=="EdgW")n=new kN([24,21,0],1,14);
else if(p=="EdgB")n=new kN([24,21,1],0,z=="AccE"?50:20);else if(p=="Smth")n=new kN([19,3,3],1,z=="Stmp"?50:15);
else if(p=="ClSz")n=new kN([12,61],3,100);else if(p=="BrdT")n=new kN([7,9],1,20);else if(p=="HghS")n=new kN([12,64],0,20);
else if(p=="HlSz")n=new kN([12,14,0],1,15);else if(p=="Cntr")n=new kN([12,3,0],0,z=="WtrP"?100:50);else if(p=="Shrp")n=new kN([24,21,2],0,40);
else if(p=="SprR")n=new kN([24,21,3],0,25);else if(p=="LgDr")n=new kN([24,21,4],0,z=="Stmp"?50:100);
else if(p=="Drkn")n=new kN([24,21,5],1,50);else if(p=="Dstr")n=new kN([24,21,6],0,20);else if(p=="Scln")n=new kN([12,38],50,200);
else if(p=="Rlf")n=new kN([24,21,7],0,z=="Ptch"||z=="NtPr"?25:50);else if(p=="ChAm")n=new kN([24,21,8],1,7);
else if(p=="Pncl")n=new kN([19,2,5],1,30);else if(p=="StrP")n=new kN([24,21,9],0,15);else if(p=="PprB")n=new kN([24,21,10],0,50);
else if(p=="BrsS")n=new kN([24,21,11],0,10);else if(p=="BrsD")n=new kN([24,21,12],0,10);else if(p=="Txtr")n=new kN([12,67],1,3);
else if(p=="Grn")n=new kN([24,20,42],0,20);else if(p=="HghA")n=new kN([24,21,13],0,20);else if(p=="Intn")n=new kN([24,21,14],0,10);
else if(p=="Brgh")n=new kN([24,21,15],0,z=="WtrP"?100:50);else if(p=="StrS")n=new kN([24,21,16],1,50);
else if(p=="StDt")n=new kN([24,21,17],1,3);else if(p=="Sftn")n=new kN([24,21,18],0,10);else if(p=="EdgT")n=new kN([24,21,19],0,10);
else if(p=="EdgI")n=new kN([24,21,20],0,10);else if(p=="Pstr")n=new kN([24,21,23],0,6);else if(p=="Dfnt")n=new kN([24,21,24],0,25);
else if(p=="TxtC")n=new kN([24,21,25],0,50);else if(p=="ShdI")n=new kN([24,21,26],0,10);else if(p=="DrcB")n=new kN([24,21,28],0,100);
else if(p=="Strg")n=new kN([12,64],1,3);else if(p=="Blnc")n=new kN([24,21,27],0,10);else if(p=="BlcI")n=new kN([24,21,30],0,10);
else if(p=="WhtI")n=new kN([24,21,31],0,10);else if(p=="DrkI")n=new kN([24,21,32],0,50);else if(p=="LghI")n=new kN([24,21,33],0,50);
else if(p=="StrW")n=new kN([24,21,34],3,15);else if(p=="Grns")n=new kN([24,21,36],0,z=="NtPr"?20:10);
else if(p=="GlwA")n=new kN([24,21,37],0,20);else if(p=="ClrA")n=new kN([24,21,38],0,20);else if(p=="ChrA")n=new kN([24,21,39],0,20);
else if(p=="ChlA")n=new kN([24,21,40],0,20);else if(p=="FrgL")n=new kN([24,21,41],1,15);else if(p=="BckL")n=new kN([24,21,42],1,15);
else if(p=="WhtL")n=new kN([24,21,42],0,50);else if(p=="BlcL")n=new kN([24,21,41],0,50);else if(p=="ImgB")n=new kN([24,21,29],0,50);
else if(p=="Dnst")n=new kN([12,74],0,50);else if(p=="FbrL")n=new kN([24,21,43],3,50);else if(p=="CrcS")n=new kN([24,21,44],2,100);
else if(p=="CrcD")n=new kN([24,21,45],0,10);else if(p=="CrcB")n=new kN([24,21,46],0,10);else if(p=="TlSz")n=new kN([24,21,47],2,100);
else if(p=="GrtW")n=new kN([24,21,48],1,15);else if(p=="LghG")n=new kN([24,21,49],0,10);else if(p=="SqrS")n=new kN([24,21,50],0,10);
else if(p=="RplS")n=new kN([24,21,51],1,15);else if(p=="RplM")n=new kN([24,21,52],0,20);else if(p=="NmbL")n=new kN([24,21,53],2,8);
else if(p=="EdgS")n=new kN([24,21,21],0,10);else if(p=="EdgF")n=new kN([24,21,22],1,3);else if(p=="Sz")n=z=="NGlw"?new kN([24,21,54],-24,24):new kN([24,21,11],1,50);
else if(p=="Dtl")n=z=="Chrc"?new kN([24,21,56],0,5):new kN([24,21,56],1,15);else if(p=="StrL")n=z=="InkO"?new kN([24,21,35],1,50):new kN([24,21,35],0,20);
else if(p=="TxtT")n=new kZ([12,67],[[24,22,0],[24,22,1],[24,22,2],[24,22,3],[24,22,4],[24,22,5],[24,22,6]]);
else if(p=="BrsT")n=new kZ([24,21,57],[[24,23,0],[24,23,1],[24,23,2],[24,23,3],[24,23,4],[24,23,5]]);
else if(p=="Grnt")n=new kZ([24,21,58],[[24,24,0],[24,24,1],[24,24,2],[24,24,3],[24,24,4],[24,24,5],[24,24,6],[22,4,0],[22,4,1],[24,24,7]]);
else if(p=="SDir")n=new kZ([12,33],[[24,25,0],[22,4,0],[24,25,1],[22,4,1]]);else if(p=="ScrT")n=new kZ([12,62],[[12,93,5],[12,93,6],[10,35]]);
else if(p=="LghD"||p=="LghP")n=new kZ([24,21,59],[[24,26,0],[24,26,1],[24,26,2],[24,26,3],[24,26,4],[24,26,5],[24,26,6],[24,26,7]]);
else if(p=="Clr")n=new dX([24,21,55]);else if(p=="InvT")n=new k9([4,11]);else console.log(p);n.D(b.E.n,this.WW,this);
n.parent=this;this.I6[p]=n;this._.appendChild(n._)}};ks.GEfc.eI.prototype=new lh;ks.GEfc.eI.prototype.WW=function(z){this.a(new cD(b.E.n,!1))};
ks.GEfc.ag0="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
ks.GEfc.eI.prototype.q=function(z){for(var J in this.I6){var p;if(ks.GEfc.ag0.indexOf(J)!=-1)p=z[J].v;
else if(J=="TxtT")p=hj.Im.indexOf(z[J].v[J]);else if(J=="BrsT")p=hj.a20.indexOf(z[J].v[J]);else if(J=="LghD")p=hj.g2.indexOf(z[J].v[J]);
else if(J=="LghP")p=hj.Z6.indexOf(z[J].v[J]);else if(J=="Grnt")p=hj.sR.indexOf(z[J].v[J]);else if(J=="ScrT")p=hj.O$.indexOf(z[J].v[J]);
else if(J=="SDir")p=hj.yY.indexOf(z[J].v.StrD);this.I6[J].q(p)}};ks.GEfc.eI.prototype.V=function(){var z=hj.J0(this.Sp);
for(var J in this.I6){var p=this.I6[J].V();if(ks.GEfc.ag0.indexOf(J)!=-1)z[J].v=p;else if(J=="TxtT")z[J].v[J]=hj.Im[p];
else if(J=="BrsT")z[J].v[J]=hj.a20[p];else if(J=="LghD")z[J].v[J]=hj.g2[p];else if(J=="LghP")z[J].v[J]=hj.Z6[p];
else if(J=="Grnt")z[J].v[J]=hj.sR[p];else if(J=="ScrT")z[J].v[J]=hj.O$[p];else if(J=="SDir")z[J].v.StrD=hj.yY[p]}return z};
ks.GEfc.eI.prototype.T=function(){for(var z in this.I6)this.I6[z].T()};ks["Adobe Camera Raw Filter"]=function(){var z=function(J){ks.call(this,"Adobe Camera Raw Filter");
var p=this._;this.azl=J;this.mL=null;this.J2=null;this.a0v="";this.be=null;this.wX=1e3;this.RK=null;
this.dF=null;q.$y(p,"flexrow");this.view=new eQ(!1,J,!0);this.view.D("zoom",this.xM,this);p.appendChild(this.view._);
var n=q.m("div");q.v(n,"width:18.8em; border-left:2px solid var(--brdr);");p.appendChild(n);this.HT=new hA(245,null,4);
n.appendChild(this.HT._);this.HT._.style.opacity=.8;this.a4y=q.m("div","scrollable");n.appendChild(this.a4y);
this.aki=q.m("div","padded");n.appendChild(this.aki);this.I6={Ex12:new kN([4,3],-4,4,null,!0),Cr12:new kN([12,3,0],-100,100),Hi12:new kN("Highlights",-100,100),Sh12:new kN("Shadows",-100,100),Wh12:new kN("Whites",-100,100),Bk12:new kN("Blacks",-100,100),Temp:new kN("Temperature",-100,100),Tint:new kN("Tint",-100,100),Vibr:new kN([4,4],-100,100),Strt:new kN([12,9],-100,100),CrTx:new kN("Texture",-100,100),Cl12:new kN("Clarity",-100,100),Dhze:new kN("Dehaze",-100,100)};
this.K9={Temp:new kN("Temperature",2e3,3e4),Tint:new kN("Tint",-100,100),Ex12:new kN([4,3],-4,4,null,!0)};
var B=[["Light","Ex12 Cr12 Hi12 Sh12 Wh12 Bk12".split(" ")],["Color",["Temp","Tint","Vibr","Strt"]],["Effects",["CrTx","Cl12","Dhze"]]];
for(var g=0;g<B.length;g++){var c=B[g][1],t=q.m("div","padded");this.a4y.appendChild(t);q.v(t,"border-top:2px solid var(--brdr);");
var u=q.m("div");u.innerHTML="\u2B9F <span style=\"font-size:1.1em; margin-left:6px;\">"+j0.get(B[g][0])+"</span>";
q.v(u,"font-weight:bold; margin:2px 0 4px 0;");t.appendChild(u);for(var v=0;v<c.length;v++){var A=c[v],$=J&&this.K9[A]?this.K9[A]:this.I6[A];
$.q(0);$.D(b.E.n,this.xM,this);t.appendChild($._)}}};z.prototype=new ks;z.prototype.T5=function(){return!0};
z.prototype.XF=function(J){J.style.marginTop="4px";this.aki.appendChild(J)};z.prototype.qA=function(J){this.view.qA(J)};
z.prototype.Sc=function(J,p){this.HT.TT(j4.Iy[J.y3]["--text-color"])};z.prototype.a24=function(J){var p=a.raw.a8z(J),n=p.aho,B=p.aqv,c=n*B,t=new fw(0,0,n,B),u=p.R1,v=new Float32Array(n*B*4);
for(var g=0;g<c;g++){var A=g*4,$=g*3;v[A]=u[$];v[A+1]=u[$+1];v[A+2]=u[$+2];v[A+3]=1}this.mL=[v,t];a.pG(this.mL);
this.J2=J;var X=a.raw.arY(J),U=e8.asp(X);this.K9.Temp.q(U.Y5);this.K9.Tint.q(U.Zm);this.K9.Ex12.q(0);
var w=new Float32Array(c*4);w.fill(1);var P=em.J0("Adobe Camera Raw Filter");this.anz(P,w,t)};z.prototype.aoU=function(J,p){var n=this.K9,B=n.Temp.V(),c=n.Tint.V(),t=n.Ex12.V(),u=[B,c,t,p,J].join(":");
if(this.a0v==u)return;this.a0v=u;var v=Date.now();a.raw.ds(this.mL[p*2],this.be[p*2],this.J2,[B,c,t],J);
console.log(Date.now()-v,"remapping XYZ")};z.prototype.q=function(J,p,n,B,c){var t=new Float32Array(n.C()*4);
a.hg(p,32,t);this.anz(J,t,n)};z.prototype.anz=function(J,p,n){this.dr=J;this.Pg=n;var B=n.r,c=n.$,t=B*c;
this.wX=1e3;this.a0v="";this.be=[p,n];this.RK=[new Float32Array(B*c*4),n];this.RK[0].fill(1);this.dF=[new Uint8Array(B*c*4),n];
this.dF[0].fill(255);a.pG(this.be);a.pG(this.RK);a.pG(this.dF);for(var u in this.I6){this.I6[u].q(J[u]?J[u].v:0)}this.view.q([{eE:n,data:this.dF[0].buffer}]);
this.view.PH();this.xM(null)};z.prototype.al4=function(J,p){var n=this.Pg,B=this.RK[0];if(this.azl)this.aoU(J,0);
iS(this.be[0],n.r,n.$,B,this.dr);return[a.hg(B,p),n]};z.prototype.V=function(){return a.G(this.dr)};
z.prototype.a3c=function(){this.mL=null;this.RK=null;this.be=null;this.dF=null};z.prototype.xM=function(J){if(J&&J.target!=this.view){this.wX=1e3;
for(var p in this.I6){this.dr[p]={t:p=="Ex12"?"doub":"long",v:this.I6[p].V()}}}var n=this.view.rO().XP,B=0;
while(n*2<=1){n*=2;B++}if(this.wX<=B)return;this.wX=B;var c=this.a9q(B);this.HT.q(c);this.view.q([{eE:this.Pg,data:this.dF[0].buffer}])};
z.prototype.a9q=function(J){console.log("---");var p=this.be[J*2],n=this.RK[J*2],B=this.dF[J*2],c=this.be[J*2+1],t=c.r,u=c.$;
if(this.azl)this.aoU(0,J);iS(p,t,u,n,this.dr);var v=Date.now();a.hg(n,8,B);console.log(Date.now()-v,"integer conversion");
v=Date.now();var X=a.iq(B,Math.max(1,Math.floor(t*u/2e5)));console.log(Date.now()-v,"histogram done");
v=Date.now();if(J!=0){var U=new Uint32Array(B.buffer),w=new Uint32Array(this.dF[0].buffer),P=this.Pg.r,k=this.Pg.$;
for(var T=0;T<k;T+=2)for(var Z=0;Z<P;Z+=2){var i=T*P+Z,V=U[(T>>>J)*t+(Z>>>J)];w[i]=V;w[i+1]=V;w[i+P]=V;
w[i+P+1]=V}console.log(Date.now()-v,"upscale");v=Date.now()}for(var c=0;c<2;c++)for(var V=0;V<4;V++){var u=X[V],k=u.slice(0);
for(var g=1;g<u.length-1;g++)u[g]=(k[g-1]+k[g]+k[g+1])*.33333}return X};z.prototype.B$=function(J,p){this.a7o=J-248;
this.azg=p;this.view.B$(this.a7o,this.azg);this.a4y.style.height=p-200+"px"};z.prototype.T=function(){for(var J in this.I6)this.I6[J].T();
for(var J in this.K9)this.K9[J].T()};return z}();ks.VaPo=function(){ks.call(this,"VaPo");this.l=-1;this.RJ=null;
this.st=!1;this.WI=null;this.Ca=null;this.Ob=null;this.lO=null;this.b5=null;this.N8=null;this.a2G=null;
this.hz=null;this.aBA=null;this.d2=null;this.s1=null;this.cu=null;this.t0=[];this.Fl=-1;this.Y=null;
this.Z={_X:[[{l:{id:0,name:"Move",Ez:"tools/move"}}],[{l:{id:1,name:"Create Plane",Ez:"tools/pcrop"}}],[{l:{id:2,name:"Marquee",Ez:"tools/rselect"}}],[{l:{id:3,name:"Stamp",Ez:"tools/clone"}}],[{l:{id:4,name:"Brush",Ez:"tools/brush"}}],[{l:{id:5,name:"Transform",Ez:"tools/transform"}}],[{l:{id:6,name:"Hand",Ez:"tools/hand"}}],[{l:{id:7,name:"Zoom In",Ez:"zoomIn"}}],[{l:{id:8,name:"Zoom Out",Ez:"zoomOut"}}]],keys:[l5.vH,l5.mf,l5.Ma,l5.jY,l5.ba,l5.GJ,l5.$T,l5.Lg]};
this.Sr=new cn(this.Z,!1);this.Sr.D(b.E.c,this.ci,this);this.LG=null;this.Pg=null;this.bu=null;this.a45=null;
this.zK=null;this.aa=null;var z=q.m("div","flexrow"),n=0;this.wy=z;this._.appendChild(z);z.appendChild(this.Sr._);
var J=q.m("div");z.appendChild(J);var top=q.m("div","form");J.appendChild(top);q.v(top,"padding-left:8px; height:30px;");
this.w$=q.m("span");top.appendChild(this.w$);this.GN=[[new kW([12,80,5],1,1e3),new eq([5,2],null,null,!0)],[new kW([7,6],0,30)],[new kW([12,14],1,200),new kW([12,17],0,100),new kW([12,0],0,100),new k9([12,75])],[new kW([12,14],1,200),new kW([12,17],0,100),new kW([12,0],0,100),new dX],[new k9("Flip"),new k9("Flop")],[]];
var p=[100,!0,0,100,100,100,!1,100,100,100,JSON.parse(a_.Pc.VT.slice(6)).v];this.XY=[];for(var g=0;g<6;
g++){var B=q.m("span"),c=this.GN[g];this.XY.push(B);for(var t=0;t<c.length;t++){var u=c[t];u.parent=this;
u.q(p[n++]);if(u instanceof eq)u.D("click",this.aeS,this);else u.D(b.E.n,this.aBl,this);B.appendChild(u._)}}this.ab1=q.m("div");
q.v(this.ab1,"display:inline-block;float:right; width:100px;");top.appendChild(this.ab1);this.view=new eQ(!0);
this.view.B$(100,100);this.view.c5("auto");this.view.D("mousedown",this.Zf,this);this.view.D("mousemove",this.Is,this);
this.view.D("mouseup",this.fW,this);q.G3(this.view._V,this.Ls.bind(this));J.appendChild(this.view._)};
ks.VaPo.prototype=new ks;ks.VaPo.prototype.T5=function(){return!0};ks.VaPo.prototype.XF=function(z){this.ab1.appendChild(z)};
ks.VaPo.prototype.Sc=function(z,J){this.WI=z};ks.VaPo.prototype.aeS=function(z){var J=this.WI;if(q.Cm())jo.apF(this.EW.bind(this));
else if(J){var p=J.ic;if(p){var n=p.S.P();n.x=n.y=0;this.Wn(a.hg(p.buffer,8),n)}}};ks.VaPo.prototype.aBl=function(z){if(z.target==this.GN[0][0]){var J=this.iU(),p=z.target.V();
for(var g=0;g<this.Y.length;g++)if(this.Y[g].length!=0&&J[g])J[g][0]=p;this.Tc(J)}if(this.l==5){this.LG=this.t_();
this.xM(!0)}this.xM()};ks.VaPo.prototype.qA=function(z){var J=this.l,p=this.Ob;if(J==3||J==4){var n=this.GN[J-1],B=dT.L3(),c=B.Brsh.v;
c.Dmtr.v.val=n[0].V();c.Hrdn.v.val=n[1].V();B=L.SD.hb(B,z);if(B){c=B.Brsh.v;n[0].q(c.Dmtr.v.val);n[1].q(c.Hrdn.v.val)}this.ee()}if(J==1&&p&&(z.Q(l5.mP)||z.Q(l5.IB))){p.pop();
p.pop();if(p.length==0)p=this.Ob=null;this.xM()}function t($,g,P){a.nk($[g],$[0],P.bu,P.Pg);P.Y_($[0])}this.Ca=z;
if(J<6)this.view.qA(z);var u=z.Q(l5.zT);if(u){var v=this.Fl,A=0;if(z.Q(l5.Lg)){if(z.Q(l5.VN))A=1;else A=-1}else if(z.Q(l5.AT))A=1;
if(A!=0&&J!=5){console.log(this.Fl,A,this.t0);var $=this.t0[this.Fl],X=!1;if($.length==3&&A==-1){t($,1,this);
X=!0}v+=A;this.Fl=Math.max(0,Math.min(this.t0.length-1,v));$=this.t0[this.Fl];if($.length==3&&A==1){t($,2,this);
X=!0}this.xM(X)}if(z.Q(l5.vH))this.aeS();if(z.Q(l5.Qx)){this.N8=null;this.xM()}}else{var U=this.Z.keys;
for(var g=0;g<U.length;g++)if(z.Q(U[g]))this.Yu(g)}if(z.Q(l5.IB)||z.Q(l5.mP)){var w=this.iU();w=a.Jk.a5M(w,this.Y);
this.Y=[];for(var g=0;g<w.length;g++)this.Y[g]=[];this.Tc(w);this.xM()}};ks.VaPo.prototype.EW=function(z){if(z=="granted")jo.E8(this,this.Wn.bind(this))};
ks.VaPo.prototype.Wn=function(z,J){console.log(z,J);var p=this.iU();if(p.length==0){alert("Make a plane before pasting an image");
return}if(this.b5==null)this.b5=[0,0];if(this.l==5)this.Yu(0);this.Yu(5,{sM:z,Dm:J})};ks.VaPo.prototype.ci=function(z){if(z.data.R==b.J.OS){this.Yu(z.data.l)}};
ks.VaPo.prototype.afs=function(z){var J=this.view.sx(z),p=a.Jk.rI(this.iU(),this.Y),n=1e9,B=0;for(var g=0;
g<p.length;g++){var c=p[g][0],t=J.x-c[0],u=J.y-c[1],v=Math.sqrt(t*t+u*u);if(v<n){n=v;B=g}}if(n>4*q.$q()/this.view.rO().XP)return null;
return p[B]};ks.VaPo.prototype.Ls=function(z){var J=this.l,p=this.Ob;if(J<2&&!this.st){var n=this.RJ=this.afs(z),B=this.iU(),c="auto";
if(J==0&&a.Jk.AP(B,n)){var t=B[n[1]][1][n[2]],u=t[5+{1:0,5:1,7:2,3:3}[n[3]]],v=u[0],A=u[1];c=ia.aEj(v[1]-A[1],-v[0]+A[0])}if(a.Jk.akw(B,n))c="crosshair";
this.view.c5(c)}if(p){var $=this.view.sx(z),X=p.slice(0);p[p.length-2]=$.x;p[p.length-1]=$.y;this.xM()}this.ee(z);
if(J==5&&!this.st&&this.nW){var $=this.view.sx(z),B=this.iU(),U=a.Jk.wO(B,$.x,$.y,this.mS());if(U){var w=new i_(U[2][0],U[2][1]),P=a.Jk.vs(B,B[U[0]][1][U[1]],this.mS()),k=P[1],T=a.F.Q$(P[0],k),Z=[k.x+k.r/2,k.y+k.$/2];
a.F.h(T,Z);var i=$.x-Z[0],V=$.y-Z[1],_=this.nW.TR(w,this.view.rO().XP,null,null,Math.atan2(-V,-i));this.view.c5(_?_:"default")}}};
ks.VaPo.prototype.ee=function(z){var J=this.l,p=this.Ca;if((J==3||J==4)&&!this.st){var n=z?this.view.sx(z):this.Xp,B=this.iU();
this.Xp=n;if(n==null)return;var c=a.Jk.wO(B,n.x,n.y,this.mS());if(c){if(J==3&&this.cu&&this.GN[2][3].V()){var t=new i_(c[2][0],c[2][1]);
this.s1=t.Br(this.cu);this.xM()}if(J==3&&(this.s1==null||p&&(p.Q(l5.W0)||p.Q(l5.ZA)))){if(this.LG){this.aa=null;
this.Y_(this.LG);this.xM(!0,this.LG)}return}this.a3r(c,this.LG)}}};ks.VaPo.prototype.mS=function(){return[this.Pg.r/2,this.Pg.$/2]};
ks.VaPo.prototype.Zf=function(z){this.st=!0;var J=this.l,p=this.Ob,n=this.iU(),B=this.Ca,c=this.RJ=this.afs(null),t=this.view.sx(),u=a.Jk.wO(n,t.x,t.y,this.mS()),v=u?new i_(u[2][0],u[2][1]):null;
if(a.Jk.akw(n,c)){var A=n[c[1]][1][c[2]];n.splice(c[1],1);this.Y.splice(c[1],1);p=a.Jk.aie(A);var $=-1,t=c[0];
for(var g=0;g<8;g+=2){var X=p[g]-t[0],U=p[g+1]-t[1];if(X*X+U*U<1e-5)$=g}$=$+2&7;p=this.Ob=p.slice($).concat(p.slice(0,$));
this.Tc(n)}else if(a.Jk.AP(n,c)){if(J==1||B&&B.Q(l5.zT)){n=a.Jk.a92(n,c,this.mS());this.Tc(n);c[2]=n[c[1]][1].length-1;
c[3]=8+(c[3]+4&7);this.Y[c[1]].push(c[2]);this.Tc(n,!0);this.Yu(0)}else this.Tc(this.iU(n))}else if(J==0){var w=[];
for(var g=0;g<n.length;g++)w.push([]);if(u){if(B&&B.Q(l5.VN))w=this.Y;var P=w[u[0]].indexOf(u[1]);if(P==-1)w[u[0]].push(u[1]);
else w[u[0]].splice(P,1)}this.Y=w;this.Tc(n,!0);this.xM()}else if(J==2){if(u){var k=this.N8;if(k&&k.n9(v)){if(B)if(B.Q(l5.W0)||B.Q(l5.zT)){this.Yu(5);
this.Zf(z);return}this.a2G=new i_(v.x-k.x,v.y-k.y)}else{this.lO=u[2].concat(u[2]);this.b5=u}}}else if(J==3||J==4){if(J==3){if(B&&(B.Q(l5.W0)||B.Q(l5.ZA))){if(u){this.s1=v;
this.aBA=v.P();this.cu=null;this.d2=u;this.xM()}else alert("You must click into a plane");this.st=!1;
return}else if(this.s1==null){alert(j0.get([15,7,0]));this.st=!1;return}else if(u){var T=this.cu=v.Br(this.s1)}}if(u){this.a3r(u)}}else if(J==5){if(u){var Z=new i_(u[2][0],u[2][1]),i=this.nW.lW({i:this.view.rO()},{},B,Z)}}};
ks.VaPo.prototype.a3r=function(z,J){var p=this.aa;if(p==null)this.aa=p=a.j(this.Pg.C()*4);else p.fill(0);
var n=this.l;this.b5=z;var B=this.GN[n-1],c=a.ayI.ahd(B[0].V(),B[1].V()/100,1),t=a.j(c[1].C()*4);a.DE(c[0],t,3);
if(n==4){var u=a.Wi.Um(B[3].V());a.Y1(t,u.o/255,u.k/255,u.X/255)}this.hz={ajb:c[0],sM:t,Dm:c[1]};var v=this.LG=this.fh(z[2],z[2]),A=J?J.KQ(v):v;
this.Y_(A);this.xM(!0,A)};ks.VaPo.prototype.Is=function(z){var J=this.RJ,p=this.l,n=this.iU();if(p==0&&a.Jk.AP(n,J)){n=a.Jk.adb(n,J,this.view.sx());
this.Tc(n,!0);this.xM()}var B=this.a2G;if(p==2&&this.st&&(this.lO||B)){var c=this.view.sx(),t=a.Jk.wO(n,c.x,c.y,this.mS());
if(t){this.b5=t;if(B){this.N8.x=t[2][0]-B.x;this.N8.y=t[2][1]-B.y}else{this.lO=this.lO.slice(0,2).concat(t[2]);
this.N8=a.b._g(this.lO)}this.xM()}}if((p==3||p==4)&&this.st){var c=this.view.sx(),t=a.Jk.wO(n,c.x,c.y,this.mS());
if(t){if(p==3){var u=this.cu;this.s1=new i_(t[2][0]-u.x,t[2][1]-u.y)}var v=this.fh(this.b5[2],t[2]);
this.LG=this.LG.KQ(v);this.b5=t;this.Y_(v);this.xM(!0,v)}}if(p==5&&this.st){var c=this.view.sx(),t=a.Jk.wO(n,c.x,c.y,this.mS(),this.b5);
if(t){var A=new i_(t[2][0],t[2][1]);this.nW.dV({i:this.view.rO()},{},this.Ca,A);this.b5=t;var v=this.LG;
if(v)this.Y_(v);else v=new fw;this.LG=this.t_(null,null,!0);this.xM(!0,v.KQ(this.LG))}}};ks.VaPo.prototype.fh=function(z,J){z=new i_(z[0],z[1]);
J=new i_(J[0],J[1]);var p=Math.max(1e-5,i_.mT(z,J)),n=this.hz.Dm.r*.2,B=new fw;for(var c=0;c<p;c+=n){var t=1-c/p,u=t*z.x+(1-t)*J.x,v=t*z.y+(1-t)*J.y,A=this.hz.Dm.P();
A.x=Math.round(u-A.r/2);A.y=Math.round(v-A.$/2);if(this.l==3){var $=this.cu;if($==null)$=new i_(u,v).Br(this.s1);
var X=this.N8=A.P();X.x=Math.round(X.x-$.x);X.y=Math.round(X.y-$.y);var U=this.hz.ajb;this.hz=this.adp(this.d2);
this.N8=null;a.PM(U,this.hz.sM);this.hz.ajb=U}var w=this.t_(this.aa,A);B=B.KQ(w)}return B};ks.VaPo.prototype.fW=function(z){var J=this.RJ;
if(J&&J[3]>=8){var p=a.Jk.a52(this.iU(),J,this.mS());this.Tc(p,!0);this.xM();alert("new plane added")}var n=this.l,B=this.Ob;
if(B||n==1){var c=this.view.sx();if(B==null)B=this.Ob=[c.x,c.y];if(B.length==8&&ia.lq(B)){var p=this.iU();
p.push([100,[a.Jk.a80(B,this.mS())]]);this.Y.push([0]);this.Tc(p,!0);B=this.Ob=null;this.Yu(0);this.xM()}else if(B.length<8){B.push(c.x,c.y);
if(B.length==8&&!ia.lq(B)){var t=B[0],u=B[1];B[0]=B[4];B[1]=B[5];B[4]=t;B[5]=u}}}var v=this.lO;if(n==2&&v&&v[0]==v[2]&&v[1]==v[3]){this.N8=null;
this.xM()}if((n==3||n==4)&&this.st){if(n==3&&!this.GN[2][3].V()&&this.aBA){this.s1=this.aBA.P();this.xM()}this.Tc();
this.aa=null}if(!this.GN[2][3].V())this.cu=null;this.st=!1;this.a2G=null;this.lO=null};ks.VaPo.prototype.Yu=function(z,J){if(z==this.l)return;
var p=this.LG,B=6;if(this.l==5){this.Tc();this.Y_(p);this.nW=null;this.xM()}if(this.l==3||this.l==4){this.aa=null;
if(p)this.Y_(p);this.xM(!0,p)}if(z==5){if(J==null&&this.N8==null){alert("Select the area to be transformed");
return}this.a9N(J)}if(z>1){var n=this.iU();this.Wh();this.Tc(n,!0);this.xM()}this.view.qA(z>=B?eQ.du(z-B):new l5(!0));
if(z<B)this.view.c5("auto");this.l=z;this.Sr.Yu(z);q.X0(this.w$);var c={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[z];
this.w$.appendChild(this.XY[c])};ks.VaPo.prototype.iU=function(){var g=this.Fl,z=this.t0;while(z[g].length==3)g--;
var J=z[g];this.Y=JSON.parse(J[1]);return JSON.parse(J[0])};ks.VaPo.prototype.Tc=function(z,J){if(z==null&&this.LG==null)return;
var p=this.t0,n=this.Fl,g=n;while(g>=0&&p[g].length==3)g--;if(J==null)this.Fl=n=n+1;if(z!=null)p[J?g:n]=[JSON.stringify(z),JSON.stringify(this.Y)];
else{var B=this.Pg,c=this.LG,t=a.j(c.C()*4),u=a.j(c.C()*4);p[n]=[c,t,u];a.nk(this.bu,B,t,c);if(this.aa)a.B.Oe("norm",this.aa,B,this.bu,B,B,this.a1b());
else this.t_(this.bu);a.nk(this.bu,B,u,c);this.LG=null}while(p.length!=n+1)p.pop()};ks.VaPo.prototype.a1b=function(){return this.GN[this.l-1][2].V()/100};
ks.VaPo.prototype.Wh=function(z,J){if(z==null)z=this.iU();this.Y=[];for(var g=0;g<z.length;g++){var p=[];
this.Y.push(p);if(J)for(var n=0;n<z[g][1].length;n++)p.push(n)}};ks.VaPo.prototype.q=function(z,J,p,n,B,c){var t=a.G(c[2].Jk);
this.Fl=-1;this.Wh(t);this.Tc(t);J=a.hg(J,8);B=a.hg(B,8);var u=a.j(n.C()*4);a.nk(J,p,u,n);this.ad5=new fw;
this.Pg=n;this.a45=B;this.bu=u;this.zK=B.slice(0);this.Y_(n);this.xM(!0);this.view.PH();this.Yu(0)};
ks.VaPo.prototype.a9N=function(z){this.hz=z?z:this.adp();var J=a.b.e3(this.hz.Dm).L;if(z){var p=this.iU(),n=a.Jk.vs(p,p[0][1][0],this.mS()),B=n[1],c=Math.min(B.r/z.Dm.r,B.$/z.Dm.$)*.9;
if(c<1)a.b.h(J,new fA(c,0,0,c,0,0),J)}this.nW=new ia(J,!0,!0);this.N8=null;this.LG=this.t_();this.xM(!0)};
ks.VaPo.prototype.adp=function(z){var J=this.Pg,p=a.b.$M(this.N8),n=this.iU(),B=a.j(p.C()*4);if(z==null)z=this.b5;
var c=n[z[0]][1],t=a.Jk.E7(n[z[0]][1],z[1],p,this.mS());for(var u=0;u<t.length;u++){var v=c[t[u]],A=a.Jk.vs(n,v,this.mS()),$=A[0],X=A[1],U=X.ly(p);
if(U.Sz())continue;U=a.b.$M(U);var w=a.j(U.C()*4),P=a.F.Q$($,X);P=a.F.iE([1/J.r,0,0,0,1/J.$,0,0,0],P);
P=a.F.oU(P);a.F.drawImage(P,this.zK,J.r,J.$,w,U);a.nk(w,U,B,p)}var k=this.GN[1][0].V(),T=Math.round(k*1.4),Z=p.P();
Z.Lr(-T,-T);var i=a.j(Z.C());i.fill(255);var V=a.j(p.C());a._1(i,Z,V,p);var _=V.slice(0);a.zM.zH(_,p,k);
a.Tm(B,V,3);a.m5.ly(V,_,_);a.DE(_,B,3);return{sM:B,Dm:p}};ks.VaPo.prototype.Y_=function(z,J){var p=this.Pg;
a.nk(this.a45,p,this.zK,p,z);a.B.Oe("norm",this.bu,p,this.zK,p,z,1);if(this.aa)a.B.Oe("norm",this.aa,p,this.zK,p,z,this.a1b())};
ks.VaPo.prototype.t_=function(z,J,p){var n=this.hz,B=n.Dm,c=this.Pg,t,u=J?a.b.e3(J).L:this.nW.rI(),v=a.b.yq(u),t=a.F.Q$(u,B),A=this.GN[4],$=new fA;
if(A[0].V()){$.k6=-1;$.Rf=2*B.x+B.r}if(A[1].V()){$.JH=-1;$.Sm=2*B.y+B.$}t=a.F.iE(t,a.F.R8($));function X(R,I){R.beginPath();
R.moveTo(I[0],I[1]);for(var g=1;g<4;g++)R.lineTo(I[g*2],I[g*2+1]);R.closePath()}var U=this.iU(),w=a.Jk.E7(U[this.b5[0]][1],this.b5[1],v,this.mS()),P=U[this.b5[0]][1],k=new fw;
for(var T=0;T<w.length;T++){var Z=P[w[T]],i=a.Jk.vs(U,Z,this.mS()),V=i[0],_=i[1],y=_.ly(v);if(this.N8)y=y.ly(this.N8);
if(y.Sz())continue;var E=a.F.Q$(V,_),F=a.b.e3(y).L;a.F.h(E,F);var d=u.slice(0);a.F.h(E,d);var x=a.b._g(d).ly(a.b._g(F)),f=x.r,Q=x.$;
if(x.Sz())continue;E=a.F.iE(a.F.iE(E,t),[B.r,0,B.x,0,B.$,B.y,0,0]);var m=a.j(x.C()*4);a.F.drawImage(E,n.sM,B.r,B.$,m,x,p);
if(y.C()!=v.C()){var H=a.za(f,Q);H.save();H.clearRect(0,0,f,Q);H.translate(-x.x,-x.y);X(H,F);H.clip();
X(H,d);H.fill();H.restore();var S=new Uint8Array(H.getImageData(0,0,f,Q).data.buffer);for(var g=3;g<m.length;
g+=4)if(S[g]<m[g])m[g]=S[g]}a.B.Oe("norm",m,x,z?z:this.zK,c,x,1);k=k.KQ(x)}return k};ks.VaPo.prototype.V=function(){return a.G(this.iU())};
ks.VaPo.prototype.akS=function(){if(this.l==5)this.Yu(0);var z=new fw,J=this.t0;for(var g=0;g<=this.Fl;
g++)if(J[g].length==3)z=z.KQ(J[g][0]);var p=a.j(z.C()*4);a.nk(this.bu,this.Pg,p,z);return[p,z]};ks.VaPo.prototype.B$=function(z,J){this.Sr.B$(z,J);
this.view.B$(z-40,J-30)};ks.VaPo.prototype.T=function(){this.Sr.T();for(var g=0;g<this.GN.length;g++)for(var z=0;
z<this.GN[g].length;z++)this.GN[g][z].T()};ks.VaPo.prototype.xM=function(z,J){var p=this.Pg,n=[],B=[],c=[],t=this.iU(),u=a.Jk.rI(t,this.Y),v=0,A=null,T=null,Z=null,i=null;
for(var g=0;g<u.length;g++)c.push(u[g][0][0],u[g][0][1]);for(var g=0;g<t.length;g++){var $=this.Y[g].length;
v+=$;if($!=0)A=[g,this.Y[g][0]]}var X=this.GN[0][0];X.h6(v!=0);if(v!=0)X.q(Math.round(t[A[0]][0]));this.GN[0][1].h6(v!=0);
if(v==1){var U=t[A[0]][1]}var w=[];if(this.N8&&t[this.b5[0]])w=a.Jk.E7(t[this.b5[0]][1],this.b5[1],this.N8,this.mS());
var P=[];if(this.nW){P=this.nW.ame();P[4]=this.nW.O1()}var k=[];if(this.nW&&t[this.b5[0]])k=a.Jk.E7(t[this.b5[0]][1],this.b5[1],a.b._g(this.nW.rI()),this.mS());
for(var V=0;V<t.length;V++){var _=t[V][0],U=t[V][1],y=this.Y[V];for(var E=0;E<U.length;E++){var A=U[E],F=a.Jk.vs(t,A,this.mS()),d=F[0],p=F[1],x=a.F.Q$(d,p);
if(p.Sz()){if(Z==null)Z={Ao:[],L:[]};a.b.concat(Z,{Ao:["M","L","L","L","Z"],L:d});continue}var f=a.b.e3(p),Q=f.L,m=f.Ao,H=this.s1;
if(H&&p.n9(H)&&this.d2&&this.d2[0]==V){T=[H.x,H.y];a.F.h(x,T)}if(w.indexOf(E)!=-1){var S=this.N8.ly(p);
if(V==this.b5[0]&&!S.Sz()){if(i==null)i={L:[],Ao:[]};var R=a.b.e3(S);a.F.h(x,R.L);a.b.concat(i,R)}}if(k.indexOf(E)!=-1&&V==this.b5[0]){var I=[];
for(var g=0;g<P.length;g++)if(p.n9(P[g]))I.push(P[g].x,P[g].y);if(I.length!=0){a.F.h(x,I);c=c.concat(I)}}if(y&&y.indexOf(E)!=-1){var D=Math.ceil(p.x/_)*_,G=p.x+p.r,C=Math.ceil(p.y/_)*_,O=p.y+p.$;
for(var Y=D;Y<G;Y+=_){Q.push(Y,p.y,Y,O);m.push("M","L")}for(var h=C;h<O;h+=_){Q.push(p.x,h,G,h);m.push("M","L")}}a.F.h(x,Q);
n=n.concat(m);B=B.concat(Q)}if(T&&this.l==3){var Y=T[0],h=T[1],r=10/this.view.rO().XP;B.push(Y-r,h,Y+r,h);
B.push(Y,h-r,Y,h+r);n.push("M","L","M","L")}}var d=this.Ob,p=this.Pg;if(d){var W=["M"];for(var g=0;g<d.length-2;
g+=2)W.push("L");W.push("Z");var N=L.d_.nf(d,p.r/2,p.$/2);if(isNaN(N)||N==Infinity||N==-Infinity||!ia.lq(d)){if(Z==null)Z={Ao:[],L:[]};
a.b.concat(Z,{Ao:W,L:d})}else{B=B.concat(d);n=n.concat(W)}}var o={cV:{Ao:n,L:B},a2f:Z,a1x:i,MG:c,fj:null};
if(z){if(J){J=J.P();J.Lr(4,4)}this.view.q([{eE:p,data:this.zK.buffer}],null,o,J)}else this.view.aua(o)};
ks.blnc=function(){ks.call(this);var z=this._;this.da=null;this.DF=new kZ([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
this.DF.D(b.E.n,this.xM,this);z.appendChild(this.DF._);this.pm=[];for(var g=0;g<3;g++){var J=new kN(["VAR0 - VAR1",fs.aoW[g],fs.io[g]],-100,100);
J.D(b.E.n,this.Jc,this);this.pm.push(J);z.appendChild(J._)}this.og=new k9([13,4]);this.og.D(b.E.n,this.Jc,this);
z.appendChild(this.og._)};ks.blnc.prototype=new ks;ks.blnc.prototype.T=function(){this.DF.T();for(var g=0;
g<3;g++)this.pm[g].T();this.og.T()};ks.blnc.prototype.q=function(z){this.da=a.G(z);this.xM()};ks.blnc.prototype.V=function(z){var J=["ShdL","MdtL","HghL"],p=this.da[J[this.DF.V()]].v;
for(var g=0;g<3;g++)p[g].v=this.pm[g].V();this.da.PrsL.v=this.og.V();return a.G(this.da)};ks.blnc.prototype.xM=function(z){var J=["ShdL","MdtL","HghL"],p=this.da[J[this.DF.V()]].v;
for(var g=0;g<3;g++)this.pm[g].q(p[g].v);this.og.q(this.da.PrsL.v)};ks.brit=function(){ks.call(this,"brit");
this.dL.push(new kN([12,2],-150,150,""));this.dL.push(new kN([12,3,0],-100,100,""));this.dL.push(new k9([12,3,1]));
this.SL()};ks.brit.prototype=new ks;ks.curv=function(){ks.call(this);this.value=null;this.lg=null;this.f=null;
var z=this._;this.cJ=new kZ("Preset",["basic","advanced"]);this.cJ.D(b.E.n,this.adH,this);z.appendChild(this.cJ._);
q.Uk(z);this.Ho=new kZ([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);this.Ho.D(b.E.n,this.x9,this);z.appendChild(this.Ho._);
this.c6=new kZ(null,["Spline","Sketch"]);this.c6.D(b.E.n,this.adH,this);z.appendChild(this.c6._);this.T1=new aB;
this.T1.parent=this;this.T1.D(b.E.n,this.e1,this);z.appendChild(this.T1._);q.Uk(z);this.Fe=new i2;this.Fe.D(b.E.n,this.Hj,this);
z.appendChild(this.Fe._);this.v8=null;this.a9T=0;this.a3G=0;q.Uk(z);this.l9=new g1("Sample from image",fD.Kg(["#000000","#888888","#ffffff","-\u2195"]),!0,null,!0);
this.l9.D(b.E.n,this.Ap,this);this.l9._.style.marginRight="0";z.appendChild(this.l9._)};ks.curv.prototype=new ks;
ks.curv.prototype.Fh=function(){return this.Fe.aLq()<128?1:2};ks.curv.prototype.Sc=function(z,J){if(J==iQ.hl||J==iQ.b1){var p=z.u_,n=["Default"];
for(var g=0;g<p.length;g++)n.push(p[g].presetFileName.v);n.push("Custom");this.cJ.jE(n,[1,p.length,1]);
this.f=z}};ks.curv.prototype.B$=function(z,J){this.Fe.B$(z,J)};ks.curv.prototype.T=function(){this.Ho.T();
this.Fe.T()};ks.curv.prototype.iH=function(){this.cJ.q(this.f.u_.length+1)};ks.curv.prototype.adH=function(z){if(z.target==this.cJ){var J=this.cJ.V(),p=this.f.u_,n;
if(J==0)n=em.J0("curv");else if(J-1<p.length)n=a.G(p[J-1]);else return;this.q(n);this.Jc();return}this.iH();
var B=a5.FP(this.value,0),c=B.length==256?1:0,t=this.c6.V();if(c==t)return;var n=em.J0("curv");if(t==1){var u=[];
for(var g=0;g<256;g++)u.push(g);a5.m9(n,0,u)}this.q(n);this.Jc()};ks.curv.prototype.Hj=function(){this.iH();
a5.m9(this.value,this.Ho.V(),this.Fe.V());this.Jc()};ks.curv.prototype.x9=function(){var z=this.Ho.V(),J=a5.FP,p=J(this.value,z),n;
if(z==0)n=[J(this.value,1),J(this.value,2),J(this.value,3)];var B=p.length==256?1:0;this.c6.q(B);if(this.lg)this.Fe.nZ(this.lg[z],this.lg[4]*[1,.33,.33,.33][z],["#ccc","#fcc","#cfc","#ccf"][z]);
this.Fe.q(p,null,n)};ks.curv.prototype.AY=function(){return!0};ks.curv.prototype.lW=function(z,J,p,n,B){var c=this.value;
this.value=em.J0("curv");this.Jc();var t=L.IY.YE(z,B,1,null,!0),u=this.v8=[t>>>16&255,t>>>8&255,t&255];
this.a9T=B.y;this.q(c);this.Jc()};ks.curv.prototype.dV=function(z,J,p,n,B){if(this.v8==null)return;if(this.l9.V().indexOf(!0)==3){var c=this.v8,t=this.value,u=this.Ho.V(),v=a5.FP(t,u),A,$=u==0?Math.round((c[0]+c[1]+c[2])/3):c[u-1],X=-1;
for(var g=0;g<v.length;g++)if(v[g].v.Hrzn.v==$)X=g;if(X==-1){A=a.G(v[0]);A.v.Hrzn.v=$;A.v.Vrtc.v=$;v.push(A);
v.sort(function(U,w){return U.v.Hrzn.v-w.v.Hrzn.v});a5.m9(t,u,v);X=v.indexOf(A)}A=v[X];A.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(A.v.Hrzn.v+(this.a9T-B.y))));
a5.m9(t,u,v);this.q(t);this.Jc()}};ks.curv.prototype.mI=function(z,J,p,n,B){ks.a1W(this,z,B,"curv");
this.iH();this.v8=null};ks.curv.prototype.q=function(z){this.value=z;this.x9()};ks.curv.prototype.nZ=function(z){this.lg=z;
this.x9()};ks.curv.prototype.V=function(z){return a.G(this.value)};ks.curv.prototype.e1=function(){var z=this.T1.V(),J=this.lg,p=this.value,n=a.aBe(z,J);
for(var g=0;g<4;g++){var B=n[g][0],c=n[g][1],t=n[g][2],u=[a.kC.YL(B,0,!0),a.kC.YL(c,255,!0)];if(t!=null)u.splice(1,0,a.kC.YL(128,t,!0));
a5.m9(p,g,u)}this.x9();this.Jc()};ks.expA=function(){ks.call(this,"expA");this.dL.push(new kN([12,5],-20,20,null,2,!0));
this.dL.push(new kN([12,6],-.5,.5,null,2));this.dL.push(new kN([12,7],.01,9.99,null,2,!0));this.SL()};
ks.expA.prototype=new ks;ks.expA.prototype.EQ=function(z,J){J[0]=z.Exps.v;J[1]=z.Ofst?z.Ofst.v:0;J[2]=z.gammaCorrection?z.gammaCorrection.v:1};
ks.expA.prototype.rF=function(z,J){z.Exps={t:"doub",v:J[0]};z.Ofst={t:"doub",v:J[1]};z.gammaCorrection={t:"doub",v:J[2]}};
ks.grdm=function(){ks.call(this,"grdm");this.dL.push(new a$(!0,null,!0));this.dL.push(new k9([12,23,3]));
this.dL.push(new k9([12,23,0]));this.dL.push(new kZ("Method",["Perceptual","Linear","Classic","Smooth","Stripes"]));
this.SL()};ks.grdm.prototype=new ks;ks.grdm.prototype.EQ=function(z,J){J[0]=z.Grad.v;J[1]=z.Dthr?z.Dthr.v:!1;
J[2]=z.Rvrs?z.Rvrs.v:!1;J[3]=a_.Wi.pX.indexOf(z.gs99?z.gs99.v.gradientInterpolationMethodType:"Gcls")};
ks.grdm.prototype.rF=function(z,J){z.Grad.v=J[0];z.Dthr={t:"bool",v:J[1]};z.Rvrs={t:"bool",v:J[2]};z.gs99={t:"enum",v:{gradientInterpolationMethodType:a_.Wi.pX[J[3]]}}};
ks.grdm.prototype.Sc=function(z,J){this.dL[0].MU(z.Nb,z.Gh);if(J==iQ.hl||J==iQ.Hm||J==iQ.uN)this.dL[0].fv(z.lX)};
ks.selc=function(){ks.call(this);var z=this._;this.FG=[];this.$$=null;this.DF=new kZ([12,82],fs.ty.concat([[13,1,8],[13,1,13],[13,1,10]]));
this.DF.D(b.E.n,this.WW,this);z.appendChild(this.DF._);q.Uk(z);for(var g=0;g<4;g++){var J=new kN(fs.aoW[g],-100,100,"%");
J.D(b.E.n,this.WW,this);this.FG.push(J);z.appendChild(J._)}this.WY=new k9([13,3]);z.appendChild(this.WY._);
this.WY.D(b.E.n,this.WW,this)};ks.selc.prototype=new ks;ks.selc.prototype.T=function(){this.DF.T();this.WY.T();
for(var g=0;g<4;g++)this.FG[g].T()};ks.selc.prototype.q=function(z){this.$$=a.G(z);this.xM()};ks.selc.prototype.V=function(z){return a.G(this.$$)};
ks.selc.prototype.WW=function(z){if(z.target!=this.DF){var J=this.$$,p=[];for(var g=0;g<4;g++)p[g]=this.FG[g].V();
ey.m9(J,this.DF.V(),p);J.Mthd={t:"enum",v:{CrcM:this.WY.V()?"Absl":"Rltv"}}}this.xM();this.Jc()};ks.selc.prototype.xM=function(){var z=this.$$,J=ey.FP(z,this.DF.V());
for(var g=0;g<4;g++)this.FG[g].q(J[g]);this.WY.q(z.Mthd?z.Mthd.v.CrcM=="Absl":!1)};ks.blwh=function(){ks.call(this,"blwh");
this.dL.push(new k9([12,11]));this.dL.push(new dX(!0));for(var g=0;g<6;g++)this.dL.push(new kN(fs.ty[g],-200,300));
this.SL()};ks.blwh.prototype=new ks;ks.blwh.prototype.EQ=function(z,J){J[0]=z.useTint.v;J[1]=z.tintColor.v;
var p="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var g=0;g<6;g++)J[2+g]=z[p[g]].v};ks.blwh.prototype.rF=function(z,J){z.useTint.v=J[0];
z.tintColor.v=J[1];var p="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var g=0;g<6;g++)z[p[g]].v=J[2+g]};
ks.hue2=function(){ks.call(this);this.value=null;this.wm=null;this.TA=null;this.a7L=[[0,0,0],[0,50,0]];
var z=this._;this.l9=new g1(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.l9.D(b.E.n,this.aHS,this);this.l9.D(b.E.n,this.Ap,this);z.appendChild(this.l9._);var J=this.dL=[new kZ([12,12],["Master"].concat(fs.ty)),new kN([12,8],-180,180),new kN([12,9],-100,100),new kN([12,10],-100,100),new k9([12,11])];
for(var g=0;g<J.length;g++){var p=J[g];p.D(b.E.n,g==0?this.x9:this.a4J,this);z.appendChild(p._)}this.DF=J[0];
this.aIs=J[1];this.VM=J[2];this.aKb=J[3];this.qo=J[4];this.NB=new g1("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.NB.D(b.E.n,this.aHS,this);this.NB.D(b.E.n,this.Ap,this);this.NB._.style.marginLeft="20px";z.appendChild(this.NB._);
this.a3d=q.m("div");z.appendChild(this.a3d);this.Hc=this.KJ.bind(this);this.RT=this.m3.bind(this);this._V=q.m("canvas");
this.$l=this._V.getContext("2d");this.M9=null;q.Ze(this._V);q.jI(this._V,282,18);z.appendChild(this._V);
q.tN(this._V,this.M1.bind(this))};ks.hue2.prototype=new ks;ks.hue2.prototype.B$=function(z,J){q.jI(this._V,Math.round(z),18);
if(this.value)this.x9()};ks.hue2.prototype.aHS=function(z){var J=z.target.V().indexOf(!0);if(J==-1)return;
if(z.target==this.l9)this.NB.q([!1,!1,!1]);else this.l9.q([!1,!1,!1])};ks.hue2.prototype.M1=function(z){if(this.DF.V()==0||this.qo.V())return;
var J=q.bZ(z,this._V).x/(this._V.width/q.$q()),c=1e6;function p(X,U,w){return X<U&&U<w||w<X&&(X<U||U<w)}var n=this.HG(),B=-1;
for(var g=0;g<4;g++){var t=Math.abs(J-(n[g]+g*1e-5));if(t<c){c=t;B=g}}if(c>.025){B=-1;var u=n[0],v=n[1],A=n[2],$=n[3];
if(p(u,J,v))B=4;if(p(v,J,A))B=5;if(p(A,J,$))B=6}if(B==-1)return;this.M9=B;q.G3(document.body,this.Hc);
q.ol(document.body,this.RT)};ks.hue2.prototype.KJ=function(z){var J=q.bZ(z,this._V).x/(this._V.width/q.$q()),p=this.HG(),n=this.M9;
for(var g=1;g<4;g++)if(p[g]<p[g-1]){p[g]+=1}if(n<4){var B=1e6,c=0;for(var g=-20;g<20;g++){var t=Math.abs(p[n]-(J+g));
if(t<B){B=t;c=g}}J+=c;p[n]=J;for(var g=n+1;g<4;g++)if(p[g]<p[g-1]){p[g]=p[g-1]}for(var g=n-1;g>=0;g--)if(p[g]>p[g+1]){p[g]=p[g+1]}}else{var u=J-(p[n-4]+p[n-3])/2;
if(u<-.5)u+=1;if(n==4){p[0]+=u;p[1]+=u;p[2]=Math.max(p[1],p[2]);p[3]=Math.max(p[1],p[3])}if(n==5)for(var g=0;
g<4;g++)p[g]+=u;if(n==6){p[2]+=u;p[3]+=u;p[0]=Math.min(p[0],p[2]);p[1]=Math.min(p[1],p[2])}}for(var g=1;
g<4;g++)if(p[g]<p[g-1])throw"e";this.a7K(p);this.x9();this.Jc()};ks.hue2.prototype.m3=function(z){q.Mt(document.body,this.Hc);
q.eX(document.body,this.RT)};ks.hue2.prototype.T=function(){for(var g=0;g<this.dL.length;g++)this.dL[g].T()};
ks.hue2.prototype.a4J=function(z){var J=this.value.Clrz.v=this.qo.V();if(J)this.DF.q(0);if(z&&z.target==this.qo){var p=J?1:0;
this.a7L[1-p]=eP.FP(this.value,0);var n=this.a7L[p];eP.m9(this.value,0,n);if(this.DF.V()==0){this.aIs.q(n[0]);
this.VM.q(n[1]);this.aKb.q(n[2])}}var B=this.DF.V(),c=eP.FP(this.value,B),n=B==0?c:c.pm;n[0]=this.aIs.V();
var t=this.VM.V();n[1]=J?Math.max(0,t):t;n[2]=this.aKb.V();eP.m9(this.value,B,c);this.x9();this.Jc()};
ks.hue2.prototype.x9=function(){var z=this.DF.V(),J=this.value.Clrz?this.value.Clrz.v:!1;this.qo.q(J);
this.DF.h6(!J);this.NB.h6(!J&&z!=0);var p=eP.FP(this.value,z),n=z==0?p:p.pm;this.aIs.q(n[0]);this.VM.q(n[1]);
this.aKb.q(n[2]);var B=this._V.width,c=this._V.height,t=this.$l;t.clearRect(0,0,B,c);if(J||z==0){this.a3d.innerHTML="";
return}var u=p.RO;this.a3d.innerHTML=u[0]+"\xB0 / "+u[1]+"\xB0<span style=\"float:right\">"+u[2]+"\xB0 \\ "+u[3]+"\xB0</span>";
var v=a.j(B*4);bU.awN(v,1,B,-1,.5);var A=new ImageData(new Uint8ClampedArray(v.buffer),B,1),$=Math.round(c/4);
for(var g=0;g<$;g++)t.putImageData(A,0,g);function X(Z,i,V){t.fillStyle=V;var _=$*2;if(Z<=i)t.fillRect(Z*B,_,(i-Z)*B,$);
else{t.fillRect(0,_,i*B,$);t.fillRect(Z*B,_,(1-Z)*B,$)}}var U=this.HG();X(U[0],U[1],"#888888");X(U[1],U[2],"#cccccc");
X(U[2],U[3],"#888888");t.fillStyle="#ffffff";t.lineWidth=1;t.beginPath();var w=$+.5,P=4*$+.5;for(var g=0;
g<4;g++){var k=Math.floor(B*U[g])+.5,T=(g<2?-1:1)*$*(g==1||g==2?1:2);t.moveTo(k,w);t.lineTo(k,P);t.lineTo(k+T,P);
t.lineTo(k+T,$+$+.5);t.closePath()}t.fill();t.stroke()};ks.hue2.prototype.HG=function(){var z=this.DF.V(),J=eP.FP(this.value,z).RO;
for(var g=0;g<4;g++)J[g]=(1000.5+J[g]/360)%1;return J};ks.hue2.prototype.a7K=function(z){var J=this.DF.V(),p=eP.FP(this.value,J);
for(var g=0;g<4;g++)p.RO[g]=Math.round(36e3+(z[g]-.5)*360)%360;eP.m9(this.value,J,p)};ks.hue2.prototype.AY=function(){return!0};
ks.hue2.prototype.aah=function(){var z=this.l9.V().indexOf(!0),J=this.NB.V().indexOf(!0);return z!=-1?z:J!=-1?J+1:-1};
ks.hue2.prototype.lW=function(z,J,p,n,B){var c=this.aah();if(c==-1)return;var t=this.value;this.value=em.J0("hue2");
this.Jc();var u=L.IY.YE(z,B,1,null,!0);this.q(t);var v=[u>>>16&255,u>>>8&255,u&255],A=a.HC(v[0]/255,v[1]/255,v[2]/255);
if(c==0){this.DF.q(1+Math.round(A.tK*6)%6)}else{var $=this.HG(),X=.5+A.tK,U=1/12,w=$[1],P=$[2];if(P<w){P++;
if(X<w&&X+1-P<w-X)X++}var k=w<=X&&X<=P;if(c==1){w=X-U/2;P=X+U/2}else if(c==2&&!k){w=Math.min(X,w);P=Math.max(X,P)}else if(c==3&&k){if(X-w<P-X)w=X;
else P=X}$=[w-U,w,P,P+U];this.a7K($)}this.Jc();this.wm=B.x;this.TA=this.VM.V()};ks.hue2.prototype.dV=function(z,J,p,n,B){var c=this.aah();
if(c==-1)return;if(c==0){if(this.wm!=null){var t=B.x-this.wm;t=Math.max(-100,Math.min(100,this.TA+.5*t));
this.VM.q(t);this.a4J()}}};ks.hue2.prototype.mI=function(z,J,p,n,B){this.wm=null};ks.hue2.prototype.q=function(z){this.value=a.G(z);
var J=this.value.Clrz?this.value.Clrz.v:!1;this.a7L[J?1:0]=eP.FP(this.value,0);this.x9()};ks.hue2.prototype.V=function(z){return a.G(this.value)};
ks.levl=function(){function z(){ks.call(this);this.value=null;this.lg=null;this.ez=[new i_(0,0),new i_(0,0),new i_(0,0),new i_(0,0),new i_(0,0)];
this.RF=-1;this.a77=0;this.Hc=this.KJ.bind(this);this.RT=this.m3.bind(this);var J=this._;this.Ho=new kZ([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.Ho.D(b.E.n,this.x9,this);J.appendChild(this.Ho._);this.T1=new aB;this.T1.parent=this;this.T1.D(b.E.n,this.e1,this);
J.appendChild(this.T1._);var p=q.m("div","");J.appendChild(p);var n=q.m("div","");J.appendChild(n);this._V=q.m("canvas");
p.appendChild(this._V);this.$l=this._V.getContext("2d");this.r5=new i_(256,120);q.v(this._V,"display:block");
q.Ze(this._V);q.tN(this._V,this.M1.bind(this));this.TH=q.m("canvas","");n.appendChild(this.TH);this.Mu=this.TH.getContext("2d");
this.Dy=new i_(this.r5.x,40);q.v(this.TH,"display:block");q.Ze(this.TH);q.tN(this.TH,this.a8d.bind(this));
var B=this.aBt=[];for(var g=0;g<5;g++){var c=new dz(null,null,3);B.push(c);c.D(b.E.n,this.al3,this);
(g<2||g==4?p:n).appendChild(c._)}p.appendChild(B[1]._);this.l9=new g1("Sample from image",fD.Kg(["#000000","#888888","#ffffff"]),!0,null,!0);
this.l9.D(b.E.n,this.Ap,this);J.appendChild(this.l9._);this.B$(250,100)}z.prototype=new ks;z.prototype.Fh=function(){return this.a77==0?1:2};
z.prototype.e1=function(){var J=this.T1.V(),p=this.lg,n=this.value,B=a.aBe(J,p);for(var g=0;g<4;g++){var c=B[g][0],t=B[g][1],u=B[g][2],v=[a.kC.YL(c,0,!0),a.kC.YL(t,255,!0)];
if(u!=null)v.splice(1,0,a.kC.YL(128,u,!0));var A=[~~c,~~t,0,255,u==null?100:~~(100+.75*100*(u-128)/128)];
f8.m9(n,g,A)}this.x9();this.Jc()};z.prototype.B$=function(J,p){J+=6;this.r5.x=this.Dy.x=J;q.jI(this._V,J,this.r5.y,this.$l);
q.jI(this.TH,J,this.Dy.y,this.Mu);var n=this.aBt;q.v(n[3]._,"margin-left: "+(J-104)+"px");q.v(n[4]._,"margin: 0 "+(J/2-74)+"px");
if(this.value)this.x9()};z.prototype.T=function(){this.Ho.T()};z.prototype.al3=function(J){var p=[];
for(var g=0;g<5;g++){var n=255,B=1;if(g==4){n=999;B=100}var c=parseFloat(this.aBt[g].V());p[g]=Math.max(0,Math.min(n,c*B))}f8.m9(this.value,this.Ho.V(),p);
this.x9();this.Jc()};z.prototype.x9=function(J){var p=this.r5.x,n=this.r5.y,B=this.Ho.V(),c=this.$l;
c.clearRect(0,0,p,n);c.fillStyle="#cccccc";c.fillRect(8,8,p-16,n-16-8);if(this.lg){var t=this.lg[0].slice(0),P=0;
if(B==0){t.fill(0);var u=a.G(this.value);f8.m9(u,0,[0,255,0,255,100]);var v=fs.XC("levl",u),A=[v.vm,v.vg,v.D1];
for(var $=0;$<3;$++){var X=this.lg[1+$],U=A[$];for(var g=0;g<256;g++)t[~~(U[g]*255)]+=X[g]}}var w=B==0?t:this.lg[B];
for(var g=0;g<w.length;g++)P+=w[g];c.fillStyle="#333333";c.beginPath();c.moveTo(8,n-16);for(var g=0;
g<256;g++){var k=55*w[g]/P;c.lineTo(8+g/256*(p-16),Math.max(8,n-16-n*k))}c.lineTo(p-8,n-16);c.closePath();
c.fill()}var T=f8.FP(this.value,B);for(var g=0;g<5;g++)this.aBt[g].q(T[g]/(g==4?100:1));this.ez[0].GK(8+T[0]/255*(p-16),n-14);
this.ez[1].GK(8+T[1]/255*(p-16),n-14);var Z=Math.log(T[4]/100)/Math.log(9.99);Z=.5-Z/2;this.ez[4].GK(this.ez[0].x+Z*(this.ez[1].x-this.ez[0].x),n-14);
this.ua(c,this.ez[0],"#000000");this.ua(c,this.ez[1],"#ffffff");this.ua(c,this.ez[4],"#777777");var p=this.Dy.x,n=this.Dy.y;
c=this.Mu;c.clearRect(0,0,p,n);var i=c.createLinearGradient(0,0,p-16,0);i.addColorStop(0,"black");i.addColorStop(1,"white");
c.fillStyle=i;c.fillRect(8,8,p-16,16);this.ez[2].GK(8+T[2]/255*(p-16),n-14);this.ez[3].GK(8+T[3]/255*(p-16),n-14);
this.ua(c,this.ez[2],"#000000");this.ua(c,this.ez[3],"#ffffff")};z.prototype.ua=function(J,p,n){J.fillStyle=n;
J.fillRect(p.x-5,p.y,10,10)};z.prototype.M1=function(J){var p=q.bZ(J,this._V),n=this.aBW([0,1,4],p);
if(n!=-1)this.RF=this.a77=n;this.aLy()};z.prototype.a8d=function(J){var p=q.bZ(J,this.TH),n=this.aBW([2,3],p);
if(n!=-1)this.RF=n;this.aLy()};z.prototype.aBW=function(J,p){var n=-1,B=1e9;for(var g=0;g<J.length;g++){var c=Math.abs(this.ez[J[g]].x-p.x);
if(c<B){B=c;n=J[g]}}return B<16?n:-1};z.prototype.aLy=function(J){if(this.RF==-1)return;q.G3(document.body,this.Hc);
q.ol(document.body,this.RT)};z.prototype.KJ=function(J){var p=f8.FP(this.value,this.Ho.V()),n=q.bZ(J,this.RF==2&&this.RF==3?this.TH:this._V),B=255*(n.x-8)/(this.r5.x-16);
B=Math.max(0,Math.min(255,B));if(this.RF==0)B=Math.min(B,p[1]-2);if(this.RF==1)B=Math.max(B,p[0]+2);
if(this.RF!=4)p[this.RF]=Math.round(B);else{var c=(B-p[0])/(p[1]-p[0]);c=1-2*c;c=Math.pow(9.99,c);p[4]=Math.min(999,Math.max(10,Math.round(c*100)))}f8.m9(this.value,this.Ho.V(),p);
this.x9();this.Jc()};z.prototype.m3=function(J){q.Mt(document.body,this.Hc);q.eX(document.body,this.RT);
this.RF=-1};z.prototype.AY=function(){return!0};z.prototype.mI=function(J,p,n,B,c){ks.a1W(this,J,c,"levl")};
z.prototype.q=function(J){this.value=J;this.x9()};z.prototype.nZ=function(J){this.lg=J;this.x9()};z.prototype.V=function(J){return a.G(this.value)};
return z}();ks.phfl=function(){ks.call(this,"phfl");this.dL.push(new dX);this.dL.push(new kN([12,74],0,100,"%"));
this.dL.push(new k9([13,4]));this.SL()};ks.phfl.prototype=new ks;ks.phfl.prototype.EQ=function(z,J){J[0]=z.Clr.v;
J[1]=z.Dnst.v;J[2]=z.PrsL.v};ks.phfl.prototype.rF=function(z,J){var p=a.Wi.Um(J[0]),n=z.Clr.v,B=a.ym(p.o,p.k,p.X);
n.Lmnc.v=B.Z5;n.A.v=B.k6;n.B.v=B.X;z.Dnst.v=J[1];z.PrsL.v=J[2]};ks.vibA=function(){ks.call(this,"vibA");
this.dL.push(new kN([12,13],-100,100,null));this.dL.push(new kN([12,9],-100,100,null));this.SL()};ks.vibA.prototype=new ks;
ks.vibA.prototype.EQ=function(z,J){J[0]=z.vibrance?z.vibrance.v:0;J[1]=z.Strt?z.Strt.v:0};ks.vibA.prototype.rF=function(z,J){z.vibrance.v=J[0];
z.Strt.v=J[1]};ks.thrs=function(){ks.call(this,"thrs");this.dL.push(new kN([4,13],1,255,null));this.SL()};
ks.thrs.prototype=new ks;ks.thrs.prototype.EQ=function(z,J){J[0]=z.Lvl.v};ks.thrs.prototype.rF=function(z,J){z.Lvl.v=J[0]};
ks.mixr=function(){ks.call(this);var z=this._;this.FG=[];this.$$=null;this.DF=new kZ([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.aII=!1;this.DF.D(b.E.n,this.WW,this);z.appendChild(this.DF._);q.Uk(z);this.Gj=new k9([12,60]);z.appendChild(this.Gj._);
this.Gj.D(b.E.n,this.WW,this);for(var g=0;g<4;g++){var J=new kN([[13,1,1],[13,1,4],[13,1,5],[13,2]][g],-200,200,"%");
J.D(b.E.n,this.WW,this);this.FG.push(J);z.appendChild(J._)}};ks.mixr.prototype=new ks;ks.mixr.prototype.T=function(){this.DF.T();
this.Gj.T();for(var g=0;g<4;g++)this.FG[g].T()};ks.mixr.prototype.q=function(z){this.$$=a.G(z);this.xM()};
ks.mixr.prototype.V=function(z){return a.G(this.$$)};ks.mixr.prototype.WW=function(z){if(z.target!=this.DF){var J=fs.W6(this.$$);
if(z.target==this.Gj){J.Gj=this.Gj.V();if(J.Gj)J.K=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else J.K=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var p=(J.Gj?0:this.DF.V())*5,g=this.FG.indexOf(z.target);
J.K[p+(g<3?g:4)]=z.target.V()}this.$$=fs.kf(J)}this.xM();this.Jc()};ks.mixr.prototype.xM=function(){var z=fs.W6(this.$$),J=this.DF.V();
if(z.Gj!=this.aII){this.DF.jE(z.Gj?[[13,1,7]]:fs.io);this.DF.q(J)}this.aII=z.Gj;this.Gj.q(z.Gj);var p=(z.Gj?0:J)*5;
for(var g=0;g<4;g++)this.FG[g].q(z.K[p+(g<3?g:4)])};ks.post=function(){ks.call(this,"post");this.dL.push(new kN([4,1],2,255,null));
this.SL()};ks.post.prototype=new ks;ks.post.prototype.EQ=function(z,J){J[0]=z.Lvls.v};ks.post.prototype.rF=function(z,J){z.Lvls.v=J[0]};
ks.clrL=function(){ks.call(this,"clrL");this.dL.push(new eV("LUTs"));this.SL()};ks.clrL.prototype=new ks;
ks.clrL.prototype.EQ=function(z,J){J[0]=z};ks.clrL.prototype.rF=function(z,J){var p=J[0];for(var n in p)z[n]=p[n]};
ks.clrL.prototype.Sc=function(z,J){if(J==iQ.hl||J==iQ.NQ)this.dL[0].fv(z.aKj)};ks.rplc=function(){ks.call(this,"rplc");
this.dL.push(new kN([12,92],0,200));this.dL.push(new dX);this.dL.push(new kN([12,8],-180,180));this.dL.push(new kN([12,9],-100,100));
this.dL.push(new kN([12,10],-100,100));this.SL()};ks.rplc.prototype=new ks;ks.rplc.prototype.EQ=function(z,J){J[0]=z.Fzns.v;
J[1]=z.Mxm.v;J[2]=z.H.v;J[3]=z.Strt.v;J[4]=z.Lght.v};ks.rplc.prototype.rF=function(z,J){function p(B,c){c.Lmnc.v=B.Z5;
c.A.v=B.k6;c.B.v=B.X}z.Fzns.v=J[0];z.H.v=J[2];z.Strt.v=J[3];z.Lght.v=J[4];var n=a.Wi.Um(J[1]),B=a.ym(n.o,n.k,n.X);
p(B,z.Mnm.v);p(B,z.Mxm.v)};ks.fade=function(){ks.call(this,"fade");this.dL.push(new kN([12,0],0,100,"%"));
this.dL.push(new kZ([12,19,0],jM.he,jM.jN));this.SL()};ks.fade.prototype=new ks;ks.fade.prototype.EQ=function(z,J){J[0]=z.Opct.v.val;
J[1]=jM.n_.indexOf(z.Md.v.BlnM)};ks.fade.prototype.rF=function(z,J){z.Opct.v.val=J[0];z.Md.v.BlnM=jM.n_[J[1]]};
ks.aply=function(){var z=jM.n_.concat(["Add","Sbtr"]);z.splice(21,1);var J=jM.he.concat([[15,10,28],[15,10,21]]);
J.splice(21,1);var p=jM.jN.slice(0);p[4]--;function n(){ks.call(this,"aply");this.dL.push(new kZ([0,3],[]));
this.dL.push(new kZ([12,4],["RGB"].concat(fs.io).concat(["Transparency"])));this.dL.push(new k9([4,11]));
this.dL.push(new kZ([12,19,0],J,p));this.dL.push(new kN([12,0],0,100,"%"));this.dL.push(new kW([12,38],1,2,null,2));
this.dL.push(new kW([12,6],-255,255));this.dL.push(new k9([13,5]));this.SL([2]);this.ao9=null}n.prototype=new ks;
n.prototype.EQ=function(B,c,t){if(t){var u=t[2].U,v=this.ao9=[];for(var g=0;g<u.length;g++){var A=u[g].getName();
v.push(A.length<30?A:A.slice(0,27)+"...")}v.reverse();this.dL[0].jE([[5,7]].concat(v),[1,v.length])}else var v=this.ao9;
B=B.With.v;var $=B.T.v;c[0]=$[1].t=="name"?1+v.indexOf($[1].v.val):0;c[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf($[0].v.enum);
c[2]=B.Invr.v;var X=B.Clcl.v.Clcn;c[3]=z.indexOf(X);c[4]=B.Opct.v.val;c[5]=B.Scl.v;c[6]=B.Ofst.v;c[7]=B.PrsT.v};
n.prototype.rF=function(B,c){B=B.With.v;var t=B.T.v;if(c[0]==0)t[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else t[1]={t:"name",v:{classID:"Lyr",val:this.ao9[c[0]-1]}};t[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][c[1]];
B.Invr.v=c[2];var u=B.Clcl.v.Clcn=z[c[3]];B.Opct.v.val=c[4];B.Scl.v=c[5];B.Ofst.v=c[6];B.PrsT.v=c[7];
var v=u=="Add"||u=="Sbtr";this.dL[5].h6(v);this.dL[6].h6(v)};return n}();ks.matc=function(){var z,J,p=0;
function n(){ks.call(this,"matc");this.dL.push(new k9("Apply only to a selection"));this.dL.push(new kN("Luminance",1,200));
this.dL.push(new kN("Color Intensity",1,200));this.dL.push(new kN([2,11],0,100,"%"));this.dL.push(new k9("Neutralize"));
this.dL.push(new k9("Use a selection of the source"));this.dL.push(new k9("Use a selection of the target"));
this.dL.push(new kZ([12,70],[]));this.dL.push(new kZ([0,3],[]));this.SL([4])}function B(c,t){c.dL[8].jE([[5,7]].concat(t),[1,t.length])}n.prototype=new ks;
n.prototype.EQ=function(c,t,u){p=0;t[0]=c.fsel?c.fsel.v:!1;t[1]=c.Lght.v;t[2]=c.ClrR.v;t[3]=c.Fade.v;
t[4]=c.neutralizeColor?c.neutralizeColor.v:!1;t[5]=c.selectedSourceAreas?c.selectedSourceAreas.v:!1;
t[6]=c.SlcA?c.SlcA.v:!1;t[7]=t[8]=0;var v=c.Srce;if(v)v=v.v;if(u){z=[];J=[];var A=u[2],$=u[3];for(var g=0;
g<$.length;g++){var X=$[g];z.push(X.name);var U=X.U,w=[];J.push(w);for(var P=0;P<U.length;P++)w.push(U[P].getName());
w.reverse()}this.dL[7].jE([[13,1,0]].concat(z),[1,z.length]);var k=$.indexOf(A);if(v)k=z.indexOf(v[1].v.val);
B(this,J[k])}if(v){var T=z.indexOf(v[1].v.val);t[7]=p=1+T;if(v[0].t=="name")t[8]=1+J[T].indexOf(v[0].v.val)}};
n.prototype.rF=function(c,t){c.fsel={t:"bool",v:t[0]};c.Lght.v=t[1];c.ClrR.v=t[2];c.Fade.v=t[3];c.neutralizeColor={t:"bool",v:t[4]};
c.selectedSourceAreas={t:"bool",v:t[5]};c.SlcA={t:"bool",v:t[6]};if(t[7]==0){c.noReference={t:"bool",v:!0};
delete c.Srce}else{if(t[7]!=p){p=t[7];B(this,J[t[7]-1])}delete c.noReference;var u={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},v=J[t[7]-1];
if(t[8]!=0)u={t:"name",v:{classID:"Lyr",val:v[t[8]-1]}};c.Srce={t:"obj ",v:[u,{t:"name",v:{classID:"Dcmn",val:z[t[7]-1]}}]}}};
return n}();function cy(z,J){lh.call(this);if(z==null)return;this.id=J;this.YN=z;this.acY=null;this._=q.m("div","window "+J);
this.aj9=null;this.Tz=q.m("div","whead");this.aEQ=q.m("span","wname");this.Tz.appendChild(this.aEQ);
this.aID=!1;this._.appendChild(this.Tz);this.gq=this.aat.bind(this);this.H3=this.aAu.bind(this);this.Mv=this.ad$.bind(this);
q.Ze(this.Tz);q.tN(this.Tz,this.gq);this.acs=q.m("span","cross gsicon");this.Tz.appendChild(this.acs);
cy.prototype.T.call(this);q.ol(this.acs,this.ahE.bind(this));this.body=q.m("div","body");this._.appendChild(this.body)}cy.prototype=new lh;
cy.prototype.pf=function(){return!1};cy.prototype.AY=function(){return!1};cy.prototype.T=function(){if(this.YN==null)return;
this.aEQ.textContent=j0.get(this.YN)};cy.prototype.lW=function(z,J,p,n,B){};cy.prototype.XJ=function(z,J,p,n,B){};
cy.prototype.dV=function(z,J,p,n,B){};cy.prototype.mI=function(z,J,p,n,B){};cy.prototype.uH=function(z,J,p,n,B){};
cy.prototype.qA=function(z,J,p,n){if(n.Q(l5.Kd)&&this.Fs)this.Fs();if(n.Q(l5.zT)&&!this.LA(-1)){var B=new cD(b.E.H);
B.iv=!0;L.gf.auX(n,B);if(B.data)J.a(B)}};cy.prototype.LA=function(z){return!1};cy.prototype.zI=function(z,J){return!0};
cy.prototype.DK=function(z,J,p,n){};cy.prototype.Sc=function(z,J){};cy.prototype.k9=function(z,J){return null};
cy.prototype.abd=function(z){return this.aj9};cy.prototype.B$=function(){};cy.prototype.close=function(){this.a(new cD(b.E.Sj))};
cy.prototype.aat=function(z){if(z.target==this.acs)return;this.acY=q.bZ(z,this._);q.G3(window,this.H3);
q.ol(window,this.Mv)};cy.prototype.aAu=function(z){var J=this._.parentNode,p=q.bZ(z,J);p.x=Math.min(p.x,window.innerWidth);
p.y=Math.min(p.y,window.innerHeight);var n=Math.round(p.x-this.acY.x),B=J.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(p.y-this.acY.y)));
this.aj9=new i_(n,B);this._.style.left=n+"px";this._.style.top=B+"px"};cy.prototype.ad$=function(z){q.Mt(window,this.H3);
q.eX(window,this.Mv)};cy.prototype.ahE=function(z){if(this.aID){this.Fs();return}this.close();this.a(new cD("closebtn"))};
function hF(){cy.call(this,"About Photopea","aboutpp");var z=this.body,J=this.a9W=q.m("img");z.appendChild(J);
q.v(this.body,"margin:0; padding:0");var p=this.XY=q.m("div");p.innerHTML=hF.lj;z.appendChild(p);var n=this.z0=q.m("span");
n.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(n)}hF.prototype=new cy;hF.prototype.k9=function(z,J){return new i_(0,0)};hF.prototype.B$=function(z,J){var p=(z+J-42-42)/110,n,B,c;
p=Math.sqrt((z-42)*(J-42))/50;if(z>J){q.$y(this.body,"flexrow");n="width:"+z/2+"px; height:"+J+"px; display:block; object-fit:cover;";
B="width:"+(z/2-42)+"px; height:"+(J-42)+"px; padding:20px; font-size:"+p+"px;";c="position:absolute;  bottom:10px; right:"+(z/2+10)+"px"}else{if(z*1.5>J)p*=.9;
q.Om(this.body,"flexrow");n="width:"+z+"px; height:"+J/2+"px; display:block; object-fit:cover;";B="width:"+(z-42)+"px; height:"+(J/2-42)+"px; padding:20px; font-size:"+p+"px;";
c="position:absolute;  bottom:"+(J/2+10)+"px; right:10px"}q.v(this.a9W,n);q.v(this.XY,B);q.v(this.z0,c)};
hF.prototype.T=function(){};hF.prototype.DK=function(z,J,p,n){this.a9W.setAttribute("src","promo/ivan_pp.webp")};
hF.lj="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function ho(){cy.call(this,"Are you blocking ads?","bnotify");var z=this.body,J="style=\"color:inherit\" target=\"_blank\"",p="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAMAAAA9UgEZAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAI1QTFRF4eHhR0dHk5OTUlJSoqKio6OjpKSkqqqq2dnZVFRUVlZWdHR029vbxcXFWFhYYmJizs7OaGhogoKCsbGxTExMpaWlXl5ecXFxSUlJfn5+uLi4iYmJmJiYd3d3v7+/Tk5OjY2N0tLSZWVleXl5oaGhaWlpWlpaT09Pf39/nZ2dra2tXFxcnJycYGBga2trbtjItQAAAQtJREFUeJzt1scWgkAMBVAj0pEm2HvF+v+fJwF0lUyElZzD2z7vGRjCYK/XpUV5+ADOsgGcQZFVbWhClX5dqX3kxqoH1/DN6IefW5kDivixx0AvUDlMwNCtBAG2tNzLMqIlbqfbZ+Pmtc1Lnd+/QV5rnTwPm0rFmOqSvISMNLDckZV5KOiJkWnRjlOyHI6xXPNrYiZkGyZ5FaslHMl6kTdPQdK3g8dPQsvBR9I9yqkg6R6v9i5cLfmShti4tNRVO1Q+FWaKFE+lmgSHhtUkwIw4xarDec5IXDO5keNXSvZrYKgn3udW/MszoT3Sbvx1iEDMi5ZLWV6ZOxG/vHtuD6zYVzknq/lno0sXIW9imwujYrBo1QAAAABJRU5ErkJggg==";
z.style.width="540px";var n="<h2>It seems like you are blocking our ads</h2>"+"<p>Please, let us show you ads. Photopea would not exist if everyone blocked ads :(</p>"+"<p>Or get <a "+J+" href=\"//www.photopea.com/promo/no_ads.png\">90 days ad-free</a> for <b>$15</b> (one-time payment) - press <b>Account</b> at the top!</p>"+"<p>Are you not aware of blocking ads? Read <a "+J+" href=\"//www.photopea.com/tuts/photopea-says-i-am-blocking-ads-but-i-am-not/\">this article</a>! :)"+" This button: <img style=\"width:20px; vertical-align:middle;\" src=\""+p+"\" /> will show you your extensions, which can modify Photopea (potential ad-blockers).</p>"+"<a "+J+" href=\"img/exts.png\"><img style=\"width:100%\" src=\"img/exts.png\" /></a>";
z.innerHTML=n}ho.prototype=new cy;ho.prototype.B$=function(z,J){this.body.style.width=Math.min(540,z-24)+"px"};
function hi(){cy.call(this,[0,13,0],"account");this.xl=q.m("div","form scrollable");this.body.appendChild(this.xl);
this.body.style.padding="0";this.Dx=[new hi.O6,new hi.AH("::"+j8.DP("privacy.html")),new hi.AH(hi.adt)];
for(var g=0;g<this.Dx.length;g++)this.Dx[g].parent=this;this.D("showpage",this.aAE,this)}hi.prototype=new cy;
hi.prototype.zI=function(z,J){var p=navigator.onLine;if(!p)alert("Go online first");return p};hi.prototype.B$=function(z,J){q.v(this.xl,"width:"+Math.min(z-40,740)+"px;  height:"+(J-38)+"px;  padding:1.5em;");
this.Dx[0].B$(z,J)};hi.prototype.k9=function(z,J){return new i_(Math.max(0,Math.min(150,(z-740)/2)),Math.max(0,Math.min(100,(J-700)/2)))};
hi.prototype.aAE=function(z){q.X0(this.xl);this.xl.scrollTop=0;this.xl.appendChild(this.Dx[z.data.GU]._)};
hi.prototype.T=function(){cy.prototype.T.call(this);for(var g=0;g<this.Dx.length;g++)this.Dx[g].T()};
hi.prototype.DK=function(z,J,p){if(!navigator.onLine)return;q.X0(this.xl);var n=this.Dx[0];this.xl.appendChild(n._);
n.DK();this.T()};hi.prototype.Sc=function(z,J){this.DK(null,null,null)};hi.O6=function(){lh.call(this);
this._=q.m("div");var z=this._,u,v,$="font-size:1.25em;",X="text-align:center;",w="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",P="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",k="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",i=12;
this.zx=q.m("div");z.appendChild(this.zx);this._N=new eq([0,11],!1,null,!0);q.v(this._N._,"background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this._N.D("click",this.VL,this);z.appendChild(this._N._);this.aCp=new eq([0,13,1],!1,null,!0);this.aCp.D("click",this.aij,this);
z.appendChild(this.aCp._);this.avn=new eq("Business Terms",!1,null,!0);this.avn.D("click",this.am$,this);
z.appendChild(this.avn._);var J=q.m("div");J.style.margin="20px 0";z.appendChild(J);var p=["Account Types","Go Premium","Team Settings","Distributors","AI credits"],n=this.V2=[],B=this.adn=[],c=this.B7=q.m("div");
z.appendChild(c);for(var g=0;g<p.length;g++){var t=q.m("span");t.textContent=p[g];J.appendChild(t);n.push(t);
q.v(t,"font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
t.addEventListener("click",this.vP.bind(this));B.push(q.m("div"))}this.vP(0);var A=this.apm="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
z=B[0];var v=q.m("table"),U="style=\" "+X+$+" padding-bottom:20px;\"";v.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+k+">\t\t\t\t\t<div "+U+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+k+">\t\t\t\t\t<div "+U+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+P+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+P+">\u2713</span> 3,000 AI credits / month</li> \t\t\t\t\t\t\t<li><span "+P+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
z.appendChild(v);var t=new eq("Go Premium");q.v(t._,A+"padding:10px 0;");t.D("click",function(y){this.vP(1)},this);
v.children[0].children[1].children[1].appendChild(t._);this.YW=q.m("div");z.appendChild(this.YW);z=B[1];
var T=this.az7=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.Jp=[];for(var g=0;g<T.length;g++)this.Jp.push(new eq("Buy: $"+T[g][0],!1,null,!0));for(var g=0;
g<this.Jp.length;g++){this.Jp[g].D("click",this.ayN,this)}this.eR=new eq("...",!0);q.v(this.eR._,A);
z.appendChild(this.eR._);v=this.a5z(4,["Single user",this.Jp[0],this.Jp[1],this.Jp[2],"Team of 5",this.Jp[3],this.Jp[4],this.Jp[5],"Team of 20",this.Jp[6],this.Jp[7],this.Jp[8],"Team of 50",this.Jp[9],this.Jp[10],this.Jp[11]]);
z.appendChild(v);var Z=q.m("div");z.appendChild(Z);Z.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.azf=new k9("I accept",!0,"");z.appendChild(this.azf._);this.amD=new eq([0,13,1],!1,null,!0);this.amD.D("click",this.aij,this);
z.appendChild(this.amD._);this.a8n=new eq("Promo Code",!1,null,!0);q.v(this.a8n._,A+" float:right; width:inherit;");
this.a8n.D("click",this.ayN,this);z.appendChild(this.a8n._);z=B[2];this.Ub=new bL;this.Ub.parent=this;
this.Ub.D(b.E.n,this.Hd,this);z.appendChild(this.Ub._);this.Ub._.textContent="Log in to create or join teams.";
z=B[3];this.X3=new eq("...",!0);q.v(this.X3._,A);z.appendChild(this.X3._);v=this.a5z(3,["1000 views/mo",this.Jp[i++],this.Jp[i++],this.Jp[i++],"5000 views/mo",this.Jp[i++],this.Jp[i++],this.Jp[i++],"20000 views/mo",this.Jp[i++],this.Jp[i++],this.Jp[i++]]);
z.appendChild(v);var V=q.m("p");V.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
z.appendChild(V);this.TZ=new dz("Domain name (e.g. domain.com)",null,14);z.appendChild(this.TZ._);var _=new eq("Save Domain Settings",!1,null,!0);
_.ZN();z.appendChild(_._);_.D("click",this.aap,this)};hi.O6.prototype=new lh;hi.O6.prototype.vP=function(z){var J=typeof z=="number"?z:this.V2.indexOf(z.target);
for(var g=0;g<this.V2.length;g++)this.V2[g].style.opacity=.6;this.V2[J].style.opacity=1;q.X0(this.B7);
this.B7.appendChild(this.adn[J])};hi.O6.prototype.B$=function(z,J){var p=z<600?"d":" days",n=["30 days","90 days","365 days"];
if(z<600)n=["30d","90d","365d"];var B=this.az7;for(var g=0;g<B.length;g++){this.Jp[g].MM("<span>"+n[g%3]+": <sup>$</sup><big><b>"+B[g][0]+"</b></big>"+"</span>");
q.v(this.Jp[g]._,this.apm)}};hi.O6.prototype.aij=function(z){var J=new cD("showpage",!0);J.data={GU:1};
this.a(J)};hi.O6.prototype.am$=function(z){var J=new cD("showpage",!0);J.data={GU:2};this.a(J)};hi.O6.prototype.T=function(){this._N.MM(j8.s_()?j0.get([0,11]):j0.get([0,10]));
this.amD.T();this.aCp.T();this.avn.T()};hi.O6.prototype.aHA=function(z){var J=new cD(b.E.c,!0);J.data={R:b.J.SE,link:"https://www.photopea.com/api/accounts#"+(z.target==this.a54?"teams":"distributors")};
this.a(J)};hi.O6.prototype.am3=function(z){var J=z.currentTarget==this.amI;this.amI.q(J);this.a1n.q(!J)};
hi.O6.prototype.awh=function(z){var J=this.amI.V(),p=this.aj5.V().trim().toLowerCase(),n=this.a46.value.trim().toLowerCase();
if(p.length>60){alert("Too long email address");return}if(n.length>600){alert("Too many team members");
return}n=n.split(",").join(" ").trim();n=n.replace(/\s+/g," ");if(n=="")n=[];else n=n.split(" ");var B=j8.nF();
if(B==null)B={};if(B.acc==null)B.acc={};B.acc.team={jin:J,ldr:p,mmb:n};j8.GG(B,this.Hd.bind(this));alert("Saved!");
this.DK()};hi.O6.prototype.aap=function(z){var J=this.TZ.V().trim();if(!j8.s_()){alert("You have to log in first.");
return}if(j8.we()==0){alert("Order a distributor account first.");return}var p=j8.nF();if(p==null)p={};
if(p.acc==null)p.acc={};if(J=="")delete p.acc.dname;else p.acc.dname=J;j8.GG(p,this.Hd.bind(this));alert("Saved!");
this.DK()};hi.O6.prototype.a8m=function(z){var J=j8.uO(),g=this._z,p=j8.nF();if(p==null)p={};if(p.acc==null)p.acc={};
p.acc.bto=z;j8.GG(p,function(){});var n=hi.aoF(z.split("\n"),J.pmnts[g]);jo.save(n,"photopea_invoice.pdf")};
hi.O6.prototype.aaB=function(z){var J=j8.uO(),p=j8.nF(),n=p&&p.acc?p.acc.bto:null;if(n==null)n=J.name+"\n"+J.email;
var g=-1,B=z.target._.parentNode;while((B=B.previousSibling)!=null)g++;this._z=g;var c=new cD(b.E.c,!0);
c.data={R:b.J.Ym,i9:"billto",PY:n,RD:this.a8m.bind(this)};this.a(c)};hi.O6.prototype.DK=function(){this.zx.innerHTML="";
q.X0(this.YW);this.adn[4].innerHTML="AI credits are available only to Premium users.";if(j8.s_()){var z=j8.uO(),J=z.pmnts;
if(z==null)return;this.zx.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+z.name+"</span> "+z.email+" <br/>";
if(J){var p="<h2>Payments</h2>";for(var g=0;g<J.length;g++){var n=J[g],B=new Date(n[0]*1e3);p+="<div style=\"font-size:1.2em\">"+B.getDate()+"th of "+B.toDateString().split(" ")[1]+" "+B.getFullYear()+" - "+hi.acO(n)+"</div>"}this.YW.innerHTML=p;
for(var g=0;g<J.length;g++){var c=new eq("Get Invoice",!1,null,!0);q.v(c._,"float:right");c.D("click",this.aaB,this);
this.YW.children[g+1].appendChild(c._)}}}else{}var t=j8.s_()&&j8.x_();this.eR._.style.display=t?"block":"none";
if(t){var u,v,A=t,p="<table><tr><th>Month</th><th>AI credits spent</th></tr>";if(A[0]==0){u=j8.jQ(A[1])-Date.now()*(1/1e3);
v=A[1][2]==1?"Single User":"Team Of "+A[1][2]}else{u=A[1][1]-Date.now()*(1/1e3);v="Member of \""+A[1][0]+"\""}this.eR.MM("Premium active for "+Math.round(u/(60*60*24))+" more days! ("+v+")");
var $=this.adn[4];q.X0($);for(var X=ao.wv();X>=648;X--){var U=1970+Math.floor(X/12),w=X%12,B=new Date(U,w,2);
p+="<tr><td>"+U+" "+B.toDateString().split(" ")[1]+"</td><td>"+ao.a0T(X)+"</td></tr>"}var P=ao.aAF(ao.wv()+1)-Date.now(),k=Math.floor(P/(24*60*6e4));
P-=k*24*60*6e4;var T=Math.floor(P/(60*6e4));P-=T*60*6e4;var w=Math.floor(P/6e4);P-=w*6e4;p="New period starts in "+k+" days, "+T+" hours, "+w+" mins"+p;
$.innerHTML=p+"</table>"}var Z=j8.s_()&&j8.we()*1e3>Date.now();this.X3._.style.display=Z?"block":"none";
if(Z){var u=j8.we()-Date.now()/1e3;this.X3.MM("Distributor active for "+Math.round(u/(60*60*24))+" more days!")}var i=j8.nF();
this.Ub.DK();if(i&&i.acc&&i.acc.dname)this.TZ.q(i.acc.dname);else this.TZ.q("")};hi.O6.prototype.a5z=function(z,J){var p=q.m("table");
if(!0){var n="<table><tr>";for(var g=0;g<z;g++)n+="<th>"+J[g*4]+"</th>";n+="</tr></table>";p.innerHTML=n;
for(var g=0;g<3;g++){var B=q.m("tr"),c;p.appendChild(B);for(var t=0;t<z;t++){c=q.m("td");c.style.width=Math.round(100/z)+"%";
B.appendChild(c);c.appendChild(J[t*4+1+g]._)}}}return p};hi.O6.prototype.ayN=function(z){var J=this.Jp.indexOf(z.currentTarget),n=30,B=1;
if(!j8.s_()){this.VL();return}if(this.azf.V()==!1&&J<12){alert("You must accept Terms of Service");return}var p=j8.s_()&&j8.x_();
if(J!=-1){var c=this.az7[J];n=c[1];B=c[2]}if(p&&B<1e3){alert("You already have premium.");return}console.log(c,n,B);
if(J==-1){var t=prompt("Please enter your key");if(t!=null){j8.al0(t,this.Hd.bind(this));this.yo()}return}if(n==30&&B==1){var u=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!u)return}j8.order(n,B,this.Hd.bind(this));this.yo()};hi.O6.prototype.Hd=function(z){this.DK();this.yo()};
hi.O6.prototype.VL=function(z){if(j8.s_()){j8.acl();this.yo();this.DK(null,null,null)}else j8.VL(this.ays.bind(this))};
hi.O6.prototype.ays=function(){var z=new cD(b.E.c,!0);z.data={R:b.J.akW};this.a(z)};hi.O6.prototype.yo=function(){var z=new cD(b.E.c,!0);
z.data={R:b.J.aJP};this.a(z)};hi.AH=function(z){lh.call(this);this._=q.m("div");var J=this._,p=this.apj=new eq([0,13,2],!1,null,!0),n;
p.D("click",this.aDM,this);J.appendChild(p._);if(z.startsWith("::")){n=q.m("iframe");q.v(n,"width:100%;height:1700px; background-color:white;");
n.setAttribute("src",z.slice(2))}else{n=q.m("div");n.innerHTML=z}J.appendChild(n)};hi.AH.prototype=new lh;
hi.AH.prototype.aDM=function(z){var J=new cD("showpage",!0);J.data={GU:0};this.a(J)};hi.AH.prototype.T=function(){this.apj.T()};
hi.adt="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
hi.acO=function(z){var J=z[1]+" days, ";if(z[2]<1e3)return"Photopea Premium ("+J+z[2]+" user"+(z[2]==1?"":"s")+")";
else return"Photopea Distributor ("+J+z[2]+" views/month)"};hi.aoF=function(z,J){z=["Bill To:"].concat(z);
var p=new ToPDF,n=595,B=842,c=40,t=18,u=12,v=500,A=100,$=400,k=0;function X(f,Q,m,H,S){w.font.Tf=S?"Helvetica-Bold":"Helvetica";
w.ctm=[1,0,0,1,Q,m];w.font.Tfs=H?H:u;p.PutText(w,f,0)}function U(f,Q,m,H){for(var g=0;g<f.length;g++){X(f[g],Q,m-g*H,null,g==0)}}var w=UDOC.getState();
p.StartPage(0,0,n,B);X("INVOICE",n-c-140,B-c-30,30,!0);U(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],c,B-c-40,t);
var P=new Date(J[0]*1e3);U(["Date: "+P.getDate()+"th of "+P.toDateString().split(" ")[1]+" "+P.getFullYear(),"Transaction ID: "+J[4]],n-c-140,B-c-40-t*2,t);
var T=z.join("");for(var g=0;g<T.length;g++)k=Math.max(k,T.charCodeAt(g));if(k>256){var Z=4,i=q.m("canvas"),V=i.getContext("2d"),_=0;
V.font=u*Z+"px sans-serif";for(var g=0;g<z.length;g++)_=Math.max(_,V.measureText(z[g]).width);var y=Math.round(_)+20,E=z.length*Z*t+20;
i.width=y;i.height=E;V.font=u*Z+"px sans-serif";for(var g=0;g<z.length;g++){V.font=(g==0?"bold ":"")+u*Z+"px sans-serif";
V.fillText(z[g],10,(g+1)*Z*t)}document.body.appendChild(i);var F=new Uint8Array(V.getImageData(0,0,y,E).data.buffer);
w.ctm=[y/Z,0,0,E/Z,c-10/Z,B-c-40-100-E/Z];p.PutImage(w,F,y,E);w.ctm=[1,0,0,1,0,0]}else U(z,c,B-c-40-100,t);
w.colr=[.8,.8,.8];w.pth={cmds:["M","L","L","L","Z"],crds:[c,v,n-c,v,n-c,v-t,c,v-t]};p.Fill(w);w.colr=[0,0,0];
var d=[c,v,n-c,v,c,v-t,n-c,v-t,c,v-A,n-c,v-A,c,v,c,v-A,n-c,v,n-c,v-A,$,v,$,v-A],x=[];for(var g=0;g<d.length;
g+=4)x.push("M","L");w.pth={cmds:x,crds:d};p.Stroke(w);X("Order details",c+4,v-14);X(hi.acO(J),c+4,v-t-14);
X("TOTAL:",c+4,v-A-14,null,!0);X("Price",n-c-50,v-14);X(J[3]+" USD",n-c-60,v-t-14);X(J[3]+" USD",n-c-60,v-A-14,null,!0);
X("www.Photopea.com",c,c);X("support@photopea.com",n-c-130,c);p.ShowPage();p.Done();return p.buffer};
function jl(){cy.call(this,[11,14],"addguides");this.p2;this.f={Uc:{zk:0}};this.ah3=null;var z=q.m("div","form");
this.body.appendChild(z);this.AD=[];this.oh=new fD(null,["Hi"]);z.appendChild(this.oh._);q.Uk(z);this.oh.D(b.E.n,this.tj,this);
this.km=new dz([22,4,0],null,16);this.km.D(b.E.n,this.v1,this);this.QY=new dz([22,4,1],null,16);this.QY.D(b.E.n,this.v1,this);
this.ki=new kZ(null,a.DM.mi);this.ki.D(b.E.n,this.v1,this);z.appendChild(this.km._);z.appendChild(this.ki._);
q.Uk(z);z.appendChild(this.QY._);this.Wl=q.gE(this,z);this.D("closebtn",this.Xm,this)}jl.prototype=new cy;
jl.prototype.zI=function(z,J){return z!=null};jl.prototype.pf=function(){return!0};jl.prototype.T=function(){cy.prototype.T.call(this);
this.km.T();this.QY.T();this.ki.T();this.Wl.T()};jl.prototype.Sc=function(z,J){var p=z.Uc.zk;this.f.Uc.zk=p;
this.ki.q(p)};jl.prototype.DK=function(z,J){this.p2=z;this.ah3=JSON.stringify(z.zQ());this.AD=[-1];var p=["Global"],n=z.root.children,B=z.oq();
for(var g=0;g<n.length;g++){var c=n[g].w;if(c.add.artb){p.push(c.getName());this.AD.push(n[g].index)}}this.oh.jE(p);
this.oh.q(this.AD.indexOf(B));this.tj()};jl.prototype.tj=function(){var z=this.p2,J=z.zQ(),p=this.AD[this.oh.V()],n=[0,0];
if(p!=-1){var B=z.U[p].x0();n=[B.x,B.y]}var c=function(t,u,z,v,A){var $=t[0],X=[];for(var g=0;g<$.length;
g++)if(t[1][g]==p&&$[g][0]==u)X.push(a.DM.Gu($[g][1]-n[u],z.Ge,v,A));X.sort(function(U,w){return U-w});
return X.join(", ")};this.km.q(c(J,1,z,this.f,z.$));this.QY.q(c(J,0,z,this.f,z.r))};jl.prototype.v1=function(z){if(z&&z.currentTarget==this.ki)this.f.Uc.zk=this.ki.V();
else{var J=this.alY(),p=this.p2;p.$t(J);p.eO=!0}this.tj()};jl.prototype.alY=function(){var z=this.p2,J=z.zQ(),p=this.AD[this.oh.V()],n=[0,0];
if(p!=-1){var B=z.U[p].x0();n=[B.x,B.y]}var c=[];for(var t=0;t<2;t++){var u=t==0?this.QY:this.km,v=t==0?z.r:z.$,A=u.V().replace(/,/g," ").replace(/  +/g," ").trim(),$=A==""?[]:A.split(" ");
for(var g=0;g<$.length;g++)c.push([t,a.DM.aG6($[g],z.Ge,this.f,v)+n[t]])}for(var g=0;g<J[0].length;g++)if(J[1][g]==p){J[0].splice(g,1);
J[1].splice(g,1);g--}for(var g=0;g<c.length;g++){J[0].push(c[g]);J[1].push(p)}return J};jl.prototype.Xm=function(z){var J=this.p2;
J.$t(JSON.parse(this.ah3));J.eO=!0;this.p2=null};jl.prototype.Fs=function(z){this.v1(z);var J=new cD(b.E.H,!0);
J.l=L.vX;J.data={R:"gids",qp:JSON.parse(this.ah3),hu:this.p2.zQ()};this.p2=null;this.close();this.a(J)};
function cu(z){cy.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[z],z);
this.f=null;this.p2=null;this.U4=null;var J=q.m("div","form");this.body.appendChild(J);q.v(J,"width:300px");
this.et=new ck("Source Images",!0,!0);J.appendChild(this.et._);this.ajx=new kZ([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.Bt=new k9("Order images by name");this.Bt.q(!0);var p=this.as8=kL.vj();for(var g=0;g<p.length;g++)if(kL.V5(p[g]).xG){p.splice(g,1);
g--}p.push("SVG","PDF");this.Qh=new kZ([12,50],p);this.Qh.q(1);this.Em=new gq;this.Qh.D(b.E.n,this.O2,this);
this.gU=new kZ("Action Set",[]);this.gU.D(b.E.n,this.Sc,this);this.a8R=new kZ("Action",[]);this.adO=new k9("Apply to all opened documents");
this.ahn=new k9("Stretch inserted images");this.ahn.q(!0);this.zy=new k9("Resize");this.zy.D(b.E.n,this.apL,this);
var n=this.ar7=q.m("div","label6");this.pE=new kW([12,41],1,5e3,"px",0,null,null,5);this.pE.parent=this;
this.pE.q(1e3);this.NU=new kW([12,42],1,5e3,"px",0,null,null,5);this.NU.parent=this;this.NU.q(1e3);n.appendChild(this.pE._);
q.Uk(n);n.appendChild(this.NU._);if(z=="pdfpres"){J.appendChild(this.ajx._);J.appendChild(this.Bt._)}else{if(z=="batch"){J.appendChild(this.gU._);
q.Uk(J);J.appendChild(this.a8R._);q.qk(J)}if(z=="mockups"){J.appendChild(this.adO._);J.appendChild(this.ahn._);
q.Uk(J)}if(z=="resize"){this.zy.q(!0)}else{J.appendChild(this.zy._);q.Uk(J)}J.appendChild(n);this.apL();
q.qk(J);J.appendChild(this.Qh._);J.appendChild(this.Em._)}var B=["VAR0 PDF",[1,8]];if(z=="cformat")B="Convert Images";
if(z=="batch")B="Process Images";if(z=="mockups")B="Generate";if(z=="resize")B="Resize Images";var c=this.h7=new eq(B,!0,null,!0);
c.D("click",this.sb,this);J.appendChild(c._);this.O2();this.Gl=-1;this.f5=null}cu.prototype=new cy;cu.prototype.apL=function(z){this.ar7.style.display=this.zy.V()?"":"none"};
cu.prototype.O2=function(z){var J=this.as8[this.Qh.V()];this.Em.RL(J)};cu.prototype.sb=function(z){this.f5=null;
if(this.id=="mockups"&&this.U4.length>1&&this.adO.V()){this.f5={};this.Gl=0}this.q$()};cu.prototype.q$=async function(){this.h7.EJ();
var z=Date.now(),J=this.et.V(),p=[],c=595,t=842,P,k,T,Z;for(var n in J)p.push(n);if(p.length==0){alert("No images selected");
return}if(this.Bt.V())p.sort();var B=this.ajx.V(),u=new ToPDF,v=UDOC.getState(),A=this.as8[this.Qh.V()],$=kL.V5(A),X=this.Em.V(),U={},w=this.p2;
if(this.f5)w=this.U4[this.Gl];if(this.id=="mockups"){if(w==null){alert("Open a document with smart objects");
return}var i=w.U[w.Y[0]];if(i.add.SoLd==null){i=null;for(var g=0;g<w.U.length;g++)if(w.U[g].add.SoLd)i=w.U[g];
if(i==null){alert("There are no smart objects in a current document.");return}}w.Y=[w.U.indexOf(i)];
var V=i.add.SoLd;k=w.Hb(V.Idnt.v);T=k.GS;Z=k.Mm;P=V.Sz.v}for(var _=0;_<p.length;_++){var n=p[_],y=J[n],E=y[0]==255,F=kL.yd(y.buffer),d=kL.V5(F),x=[{eE:new fw,data:new ArrayBuffer(0)}],f=null;
if(F=="psd"&&!$.xG)x=bM.aqp(y.buffer);else if(d.xG){f=new b$("file.psd");d.uj(y.buffer,f);f.K6();if(!$.xG){if(f.Uq)hk.Lh(f,this.f.rf,this);
f.qM();f.TQ();x=[{eE:new fw(0,0,f.r,f.$),data:f.dT().buffer}]}}else if(d.l6){x=await kL.az9(d,y.buffer);
console.log(x)}else x=d.uj(y.buffer);if(this.id=="batch"){var Q=new cD(b.E.c,!0),m=this.f,H=m.MD,S=H[this.gU.V()];
for(var g=0;g<x.length;g++){if(d.xG&&$.xG){}else f=kL.su(n,[x[g]]);Q.data={R:b.J.Rt,CT:f};this.a(Q);
if(f.U.length==3)f.Y=[1];dB.ag5(f,H,S.B7[this.a8R.V()].cN,S.cN,this);f.qM();f.TQ();x[g].eE=new fw(0,0,f.r,f.$);
x[g].data=f.dT().buffer;x[g].Ge=f.Ge;x[g].fc=f.fc;Q.data={R:b.J.ZY,Bw:f};this.a(Q)}}if(this.id=="mockups"){var R=new Uint8Array(x[0].data),D=x[0].eE,G=P.Wdth.v,C=P.Hght.v;
if(!this.ahn.V()){var O=D.r,Y=D.$,h=O/Y,r=G/C;if(r>h)O=Math.ceil(Y*r);else Y=Math.ceil(O/r);D.x=O-D.r>>>1;
D.y=Y-D.$>>>1;var W=new fw(0,0,O,Y),N=a.j(O*Y*4);a.nk(R,D,N,W);R=N;D=W}var o=L.tp.EG([R,D],new fA(G/D.r,0,0,C/D.$,0,0));
k.GS=[o.buffer,o.S];a.pG(k.GS);k.Mm=o.S;k.aaD=!1;w.akQ(k.A_);x=[{data:a.hg(w.dT(),8).buffer,eE:new fw(0,0,w.r,w.$),Ge:w.Ge,fc:w.fc,UD:w.UD}]}if(this.zy.V()){var K=x[0].eE,l=Math.min(this.pE.V()/K.r,this.NU.V()/K.$);
if(l<1)for(var g=0;g<x.length;g++){var R=new Uint8Array(x[g].data),D=x[g].eE,o=L.tp.EG([R,D],new fA(l*.999999,0,0,l*.999999,0,0));
x[g].data=o.buffer.buffer;x[g].eE=o.S}}var K=x[0].eE,aV=new Uint8Array(x[0].data),j=K.r,M=K.$;if(this.id=="pdfpres"){var s=[[595,842],[842,595],[595,595],[595,0]][B];
if(B==3)s[1]=Math.round(s[0]*M/j);var c=s[0],t=s[1],l2=Math.min(c/j,t/M);u.StartPage(0,0,c,t);v.ctm=[j*l2,0,0,M*l2,(c-j*l2)/2,(t-M*l2)/2];
u.PutImage(v,E?y:aV,j,M);u.ShowPage()}else{var gm=n.split("."),iz;gm.pop();gm.push(A.toLowerCase());
if($.xG){if(f==null){f=kL.su(n,x);f.K6()}iz=$.D6(f,f.r,f.$,X,this.f)}else{var dC=[];for(var g=0;g<x.length;
g++){var dL=x[g],cP=dL.IK,id=0;if(cP){cP=cP.split(",");if(cP[1])id=parseInt(cP[1])}dC.push([dL.data,id,dL.Ge,dL.UD,null,dL.fc])}if($.l6)iz=await $.D6(dC,j,M,X);
else iz=$.D6(dC,j,M,X)}U[gm.join(".")]=new Uint8Array(iz)}}if(this.id=="mockups"){k.GS=T;k.Mm=Z;w.akQ(k.A_)}console.log(Date.now()-z);
if(this.id=="pdfpres"){u.Done();this.f4(u.buffer,"file.pdf")}else{var jR="images";if(this.id=="mockups")jR=w.name.slice(0,w.name.length-4);
if(this.f5){for(var n in U)this.f5[jR+"/"+n]=U[n];this.Gl++;if(this.Gl==this.U4.length){this.f4(UZIP.encode(this.f5),"images.zip");
this.f5=null}else this.q$()}else this.f4(UZIP.encode(U),jR+".zip")}};cu.prototype.f4=function(z,J){this.h7.sA();
j8.event("auto_"+this.id);jo.save(z,J)};cu.prototype.DK=function(z,J,p,n){this.p2=z;this.U4=p};cu.prototype.Sc=function(z,J){if(J!=null){this.f=z;
var p=z.MD,n=[];for(var g=0;g<p.length;g++)n.push(p[g].cN);this.gU.jE(n)}else z=this.f;var p=z.MD.length==0?[]:z.MD[this.gU.V()].B7,n=[];
for(var g=0;g<p.length;g++)n.push(p[g].cN);this.a8R.jE(n)};cu.prototype.T=function(){cy.prototype.T.call(this);
this.Em.T();this.pE.MM("Max. "+j0.get([12,41])+":");this.NU.MM("Max. "+j0.get([12,42])+":");this.et.T();
this.ajx.T();this.Bt.T()};function dF(z){var J=em.names[z];if(J==null)J=fs.names[z];if(z=="aply")J=[2,12];
if(z=="fade")J=[2,11];if(z=="matc")J=[4,18];if(z=="blendOptions")J=[14,10];cy.call(this,J,"afw_"+z);
this.mz=z;this.Na=null;this.aq4=null;this.aAs=!1;this.Fe=new ks[z];this.Fe.D(b.E.n,this.Jc,this);this.Fe.parent=this;
this.body.appendChild(this.Fe._);this.C_=new k9([24,18,5]);this.C_.q(!0);this.C_.D(b.E.n,this.Jc,this);
this.az_=new eq([1,12,2],!0,null,!0);this.az_.D("click",this.L4,this);this.Wl=q.gE(this);if(this.ls())this.Fe.XF(this.Wl._);
else{q.$y(this.Fe._,"form");var p=this.Ki=q.m("div","form");this.body.appendChild(p);p.appendChild(this.Wl._);
p.appendChild(this.az_._);p.appendChild(this.C_._)}this.D("closebtn",this.se,this)}dF.prototype=new cy;
dF.prototype.pf=function(){return!0};dF.prototype.ls=function(){return this.Fe!=null&&this.Fe.T5()};
dF.prototype.k9=function(){return this.ls()?new i_(0,0):cy.prototype.k9()};dF.prototype.LA=function(z){return this.Fe.LA(z)};
dF.prototype.AY=function(){return this.Fe.AY()};dF.prototype.lW=function(z,J,p,n,B){this.Fe.lW(z,J,p,n,B)};
dF.prototype.dV=function(z,J,p,n,B){this.Fe.dV(z,J,p,n,B)};dF.prototype.mI=function(z,J,p,n,B){this.Fe.mI(z,J,p,n,B)};
dF.prototype.zI=function(z,J){if(this.mz=="fade")return dF.asG(z);return!0};dF.prototype.L4=function(z){this.Fe.q(em.J0(this.mz));
this.Jc()};dF.prototype.Jc=function(z){var J=this.Fe,p=J.V(),n=this.aAs?J.Fh():0;if(n!=0)p.showClipping={t:"long",v:n};
this.GF({R:"edit",Mf:p,lf:!this.C_.V()})};dF.prototype.se=function(z){this.GF({R:"cancel"})};dF.prototype.Fs=function(z){if(!this.C_.V()){this.C_.q(!0);
this.Jc()}this.aq4=this.Fe.V();if(this.ls())this.Jc();this.GF({R:"confirm"});this.close()};dF.prototype.T=function(){cy.prototype.T.call(this);
this.C_.T();if(this.Fe)this.Fe.T();this.Wl.T()};dF.prototype.Sc=function(z,J){if(this.Fe)this.Fe.Sc(z,J)};
dF.prototype.qA=function(z,J,p,n){this.aAs=n.Q(l5.W0);if(this.mz=="levl"||this.mz=="curv")this.Jc();
if(this.ls())this.Fe.qA(n);else cy.prototype.qA.call(this,z,J,p,n)};dF.prototype.DK=function(z,J,p,n){this.Na=J.Na;
var B=z.add.lnk2?z.add.lnk2:[],c,t,u=new fw(0,0,z.r,z.$),v=z.U[z.Y[0]],$=null;c=v.buffer;t=v.S;var A=z.M&&this.mz=="LqFy"&&J.Na==null;
if(A){t=z.M.S.P();c=a.j(t.C()*4);a.nk(v.buffer,v.S,c,t)}if(this.ls()){$=z.dT(z.Y[0]-1);if(A){var X=a.j(t.C()*4);
a.nk($,u,X,t);u=t.P();$=X}}var U=em.J0(this.mz);if(J.NK)U=J.NK;var w=[B,z.b8,z,p];if(J.Na==null){this.Fe.q(U,c,t,u,$,w);
if(fs.names[this.mz]){if(n.Q(l5.W0)&&this.aq4)this.Fe.q(this.aq4);var P=L.Ir.getData(z),k=a.iq(P[0].sM);
this.Fe.nZ(k)}}else{var T=!1,v=z.U[this.Na.w];if(v.Ik()){var Z=v.g6(z);c=Z.buffer;t=Z.S;var i=v.add.SoLd.filterFX.v.filterFXList.v;
if(i[this.Na.index]){var V=i[this.Na.index].v;this.Fe.q(this.mz=="blendOptions"?V.blendOptions.v:V.Fltr.v,c,t,u,$,w);
this.Fe.nZ(a.iq(c));T=!0}}if(!T){this.Fe.q(U,c,t,u,$,w);this.Fe.nZ(a.iq(c))}}if(!this.ls()){this.Jc();
var _=this.Fe;if(_&&_.dL&&_.dL[0]&&_.dL[0].wZ&&Math.min(window.innerWidth,window.innerHeight)>500)_.dL[0].wZ()}};
dF.prototype.GF=function(z){var J=new cD(b.E.H,!0);z.mz=this.mz;z.Na=this.Na;if(this.mz=="VaPo"){z.K=this.Fe.V();
z.ps=this.Fe.akS()}J.data=z;J.l=em.names[this.mz]||this.Na?L._f:L.Vi;J.iv=!0;this.a(J)};dF.prototype.B$=function(z,J){if(!this.Fe.T5()){var p="",n="width:312px",B="100%";
if(500<z){p+="width:8em; margin-left:1em;";q.$y(this.body,"flexrow")}else{p+="margin-top:1em";q.Om(this.body,"flexrow");
B="100px"}this.Wl._.style.width=B;this.az_._.style.width=B;q.v(this.Ki,p);q.v(this.Fe._,n)}else{this.body.style.padding="0";
this.Fe.B$(z,J)}};dF.asG=function(z){if(z==null)return!1;var J=z.HE();if(J==null||!(J.data instanceof Array)||J.data.length!=z.Y.length)return!1;
for(var g=0;g<J.data.length;g++){var p=J.data[g];if(p.w<0&&z.b8[-1-p.w])return!0;if(p.w==null||z.U[p.w]==null||z.U[p.w].uB!=p.tl)return!1;
if(z.Y.indexOf(p.w)==-1)return!1}return!0};function bs(){cy.call(this,[11,0],"camera");this.data=null;
this.aH2=new i_(1,1);this.azx=[];var z=q.m("div","form hbar");this.body.appendChild(z);this.aBq=new kZ(null,[]);
this.awy=new kZ([21,0],[[21,2],[21,1]]);z.appendChild(this.awy._);this.Bf=new kZ(null,[]);this.Bf.D(b.E.n,this.ac3,this);
z.appendChild(this.Bf._);this.amH=new eq([11,0],!1,null,!0);this.amH.D("click",this.abW,this);z.appendChild(this.amH._);
this.aCb=new bm("");z.appendChild(this.aCb._);this.stream=null;this.z3=q.m("video");this.z3.setAttribute("autoplay","true");
this.body.appendChild(this.z3);this.aD2=this.aDH.bind(this);this.aCm=this.a0H.bind(this);this.a8x=this.aqr.bind(this);
this.D("closebtn",this.a0w,this)}bs.prototype=new cy;bs.prototype.T=function(){cy.prototype.T.call(this);
this.awy.T();this.amH.T();this.B$(this.Tx,this.tK)};bs.prototype.dT=function(){var z=this.z3.videoWidth,J=this.z3.videoHeight,p=q.m("canvas","");
p.width=z;p.height=J;var n=p.getContext("2d");n.drawImage(this.z3,0,0,z,J);var B=n.getImageData(0,0,z,J);
return{eE:new fw(0,0,z,J),data:B.data.buffer}};bs.prototype.abW=function(z){if(this.awy.V()==0)this.aEt();
else this.a5t()};bs.prototype.a5t=function(){var z=this.dT(),J={buffer:new Uint8Array(z.data),S:z.eE},p=new cD(b.E.H,!0);
p.iv=!0;p.l=L.bX;p.data={R:bi.HI,ic:J};this.a(p);alert(j0.get([21,4]))};bs.prototype.aEt=function(){var z=this.dT(),J=kL.su("camera",[z]),p=new cD(b.E.c,!0);
p.data={R:b.J.Rt,CT:J};this.a(p);alert(j0.get([21,5]))};bs.prototype.DK=function(z,J,p){navigator.mediaDevices.enumerateDevices().then(this.auu.bind(this))};
bs.prototype.auu=function(z){var J=this.azx=[],p=[];for(var g=0;g<z.length;g++)if(z[g].kind=="videoinput"){J.push(z[g]);
p.push("Camera "+J.length)}this.Bf.jE(p);this.Bf.q(0);this.ac3()};bs.prototype.ac3=function(z){this.a0w();
var J={video:{deviceId:this.azx[this.Bf.V()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(J).then(this.aD2).catch(this.aCm);
else navigator.webkitGetUserMedia(J,this.aD2,this.aCm)};bs.prototype.aDH=function(z){this.stream=z;this.z3.srcObject=z;
this.z3.addEventListener("loadedmetadata",this.a8x,!1)};bs.prototype.aqr=function(z){this.z3.play();
this.B$(this.Tx,this.tK)};bs.prototype.k9=function(z,J){return new i_(0,0)};bs.prototype.B$=function(z,J){var p=this.z3.videoWidth,n=this.z3.videoHeight;
this.aCb.q(p+" x "+n+" px");q.v(this.aCb._,"position:absolute;  left:14px; bottom:10px; z-index:1;");
this.aH2.GK(p,n);this.Tx=z;this.tK=J;var B=z-28,c=J-28-30,t=this.aH2.x/this.aH2.y;if(B/c>t)B=c*t;else c=B/t;
q.v(this.z3,"display: block; width: "+Math.round(B)+"px; height:"+Math.round(c)+"px;")};bs.prototype.a0H=function(z){console.log("error",z);
alert(j0.get([21,6]));this.close()};bs.prototype.a0w=function(z){if(this.stream!=null){var J=this.stream.getTracks();
for(var g=0;g<J.length;g++)J[g].stop();this.stream=null}};function hq(){cy.call(this,[7,8],"crange");
this.p2=null;this.s5={Z5:73,k6:4.45,X:4};this.x3={Z5:73,k6:4.45,X:4};this.body.style.width="20em";this.CC=new kZ([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.CC.D(b.E.n,this.aDI,this);this.body.appendChild(this.CC._);this.lj=q.m("div","form");this.body.appendChild(this.lj);
var z=this.aB3=2,J=this.rJ=[new kN([12,92],0,200),new fD([12,36],[[18,0],"\uFF0B","-"]),new kN([12,92],0,100,"%"),new kW("Min",0,255),new kW("Max",0,255)];
J[0].q(40);J[z].q(40);for(var g=0;g<J.length;g++){J[g].D(b.E.n,this.xM,this);J[g].parent=this}this._V=q.m("canvas");
this.body.appendChild(this._V);this.Wl=q.gE(this,this.body)}hq.prototype=new cy;hq.prototype.zI=function(z,J){return z!=null};
hq.prototype.AY=function(){return!0};hq.prototype.pf=function(){return!0};hq.prototype.aDI=function(z){var J=this.CC.V(),p=this.rJ,n=this.lj,B=0,c=p.length,t=this.aB3;
if(J==0)c=t;else{B=t;p[B+1].q([0,100,190][J-1]);p[B+1].h6(J!=1);p[B+2].q([60,150,255][J-1]);p[B+2].h6(J!=3)}q.X0(n);
for(var g=B;g<c;g++){n.appendChild(p[g]._)}this.xM()};hq.prototype.T=function(){cy.prototype.T.call(this);
this.Wl.T();this.CC.T();for(var g=0;g<this.rJ.length;g++)this.rJ[g].T()};hq.prototype.lW=function(z,J,p,n,B){var c=z.i.Ka(B.x,B.y);
this.aKy(c.x,c.y)};hq.prototype.aKy=function(z,J){var p=Math.min,n=Math.max,B=this.p2,c=n(0,p(B.r-1,Math.floor(z))),t=n(0,p(B.$-1,Math.floor(J))),u=B.dT(),v=(t*B.r+c)*4,A=255/a.hW(B.depth),$=u[v],X=u[v+1],U=u[v+2],w=a.ym($*A,X*A,U*A),P=this.rJ[1].V(),k=this.s5,T=this.x3;
if(P==0){this.s5=a.G(w);this.x3=w}else if(P==1){k.Z5=p(k.Z5,w.Z5);k.k6=p(k.k6,w.k6);k.X=p(k.X,w.X);T.Z5=n(T.Z5,w.Z5);
T.k6=n(T.k6,w.k6);T.X=n(T.X,w.X)}else if(P==2){var Z=(k.Z5+T.Z5)/2,i=(k.k6+T.k6)/2,V=(k.X+T.X)/2;if(w.Z5<Z)k.Z5=n(k.Z5,w.Z5+10);
else T.Z5=p(T.Z5,w.Z5-10);if(w.k6<i)k.k6=n(k.k6,w.k6+1);else T.k6=p(T.k6,w.k6-1);if(w.X<V)k.X=n(k.X,w.X+1);
else T.X=p(T.X,w.X-1)}this.xM()};hq.prototype.Fs=function(z){var J=this.CC.V(),p=this.rJ,n={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(J==0){var B=this.s5,c=this.x3;n.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:B.Z5},A:{t:"doub",v:B.k6},B:{t:"doub",v:B.X}}};
n.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:c.Z5},A:{t:"doub",v:c.k6},B:{t:"doub",v:c.X}}};n.Fzns={t:"long",v:p[0].V()}}else{J--;
var t=["shadows","midtones","highlights"][J];n.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][J]}};if(0<J)n[t+"LowerLimit"]={t:"long",v:p[3].V()};
if(J<2)n[t+"UpperLimit"]={t:"long",v:p[4].V()};n[t+"Fuzziness"]={t:"long",v:p[2].V()}}this.close();var u=new cD(b.E.wR,!0);
u.data={rK:"colorRange",m$:n};this.a(u)};hq.prototype.DK=function(z,J){this.p2=z;this.aKy(0,0);this.aDI()};
hq.prototype.xM=function(){var z=this.p2,J=this.CC.V(),p=this.s5,n=this.x3,B=this.rJ,c=B[0].V()/200,t=!1;
if(J>0){p=B[3].V();n=B[4].V();if(p>=n)p=n-1;t=!0;c=B[2].V()/100}var u=L.gL.R7(z,p,n,c,t),v=u.S,A=u.N,$=this._V,X=$.getContext("2d"),U=Math.floor(230*q.$q()),w=Math.floor(U*(v.$/v.r));
$.width=U;$.height=w;q.MT($,U,w);var P=a.j(A.length*4);P.fill(255);a.eG(a.hg(A,8),P,g);var k=L.tp.EG([P,v],new fA(U/v.r,0,0,w/v.$,0,0)),T=k.S,Z=new ImageData(new Uint8ClampedArray(k.buffer.buffer),T.r,T.$);
X.putImageData(Z,0,0)};function c4(){cy.call(this,[12,76,1],"createshape");this.HY=null;var z=q.m("div","form");
q.v(z,"width:20em");this.body.appendChild(z);this.vz=new iD(!0,!0,null,!0,!0);this.vz.q(new i_(100,100));
z.appendChild(this.vz._);this.a7x=new k9([19,5,3]);z.appendChild(this.a7x._);this.Wl=q.gE(this,z)}c4.prototype=new cy;
c4.prototype.Fs=function(z){var J=this.vz.V();this.HY.a1G(this.HY.aaa,J.x,J.y,this.a7x.V());this.close()};
c4.prototype.T=function(){if(this.HY)this.YN=j0.get([5,3])+": "+j0.get(this.HY.aqQ);cy.prototype.T.call(this);
this.Wl.T();this.vz.T();this.a7x.T()};c4.prototype.DK=function(z,J){this.HY=J;this.T();this.vz.q(this.vz.V(),z.Ge)};
function jV(){cy.call(this,[11,1],"colorpicker");this.s9=null;this.aE=null;this.Md=null;this.Nn=!1;this.Vw=!1;
this.am4=[.9642,1,.8249];var z=q.m("div","flexrow"),t,u;this.body.appendChild(z);this.Kn=new bU(256,!0);
this.Kn.D(b.E.n,this.Dr,this);z.appendChild(this.Kn._);var J=q.m("div","form");q.v(J,"width:14.5em; margin-left:1em;");
z.appendChild(J);var p=q.m("div","flexrow");J.appendChild(p);var n=q.m("div");p.appendChild(n);n.style="width:95px; margin-right:14px";
this.a2y=q.m("div","full");n.appendChild(this.a2y);this.aLC=q.m("div","full");n.appendChild(this.aLC);
var n=q.m("col");p.appendChild(n);n.style.width="80px";this.Wl=q.gE(this,n);this.axg=new eq("Add Swatch",!0,null,!0);
n.appendChild(this.axg._);this.axg.D("click",this.acr,this);var p=q.m("div","flexrow");J.appendChild(p);
var B=q.m("div"),c=q.m("div");p.appendChild(B);p.appendChild(c);B.style=c.style="margin-left:14px; max-width:80px;";
t=["H","S","B"];u=B;this.V7=[];for(var g=0;g<3;g++){var v=0,A=360,$="\xB0";if(g!=0){A=100;$="%"}var X=new kW(t[g],v,A,$,0,!1,!0);
this.V7.push(X);X.D(b.E.n,this.arD,this);u.appendChild(X._);if(g==2)X._.style.marginBottom="8px"}t=["R","G","B"];
u=B;this.Oo=[];for(var g=0;g<3;g++){var X=new kW(t[g],0,255,null,0,!1,!0);this.Oo.push(X);X.D(b.E.n,this.aut,this);
u.appendChild(X._)}t=["L","a","b"];u=c;this.$o=[];for(var g=0;g<3;g++){var v=[0,-128,-128][g],A=[100,127,127][g],X=new kW(t[g],v,A,null,0,!1,!0);
X.q(0);this.$o.push(X);X.D(b.E.n,this.a1C,this);u.appendChild(X._);if(g==2)X._.style.marginBottom="8px"}t=["C","M","Y","K"];
u=c;this.QW=[];for(var g=0;g<4;g++){var X=new kW(t[g],0,100,"%",0,!1,!0);X.q(0);this.QW.push(X);X.D(b.E.n,this.aBD,this);
u.appendChild(X._);if(g==3)X._.style.marginBottom="8px"}this.km=new dz("#",null,4.5);this.km.D(b.E.n,this._o,this);
B.appendChild(this.km._);this.km._.style.marginRight="0";this.eq=q.m("input","fitem");this.eq.setAttribute("type","color");
q.v(this.eq,"width:59px;  margin-left:19px;");this.eq.addEventListener("change",this._o.bind(this),!1);
this.Se=new ar(9);this.Se.D(b.E.n,this._o,this);J.appendChild(this.Se._);this.D("closebtn",this.se,this);
this.WS=!1}jV.prototype=new cy;jV.prototype.AY=function(){return!0};jV.prototype.acr=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.n6,i9:bb.yK.ar8};this.a(J);var p=this.aE;ku.Cl.aJ0({o:p.o*255,k:p.k*255,X:p.X*255})};jV.prototype.k9=function(z,J){if(Math.min(z,J)>500)return null;
return new i_(Math.max(0,Math.min(150,(z-484)/2)),Math.max(0,Math.min(150,(J-316)/2)))};jV.prototype.B$=function(z,J){this.Kn.B$(Math.min(256,z-226),J)};
jV.prototype.T=function(z,J){cy.prototype.T.call(this);for(var g=0;g<3;g++){this.Oo[g].T();this.V7[g].T();
this.$o[g].T()}for(var g=0;g<4;g++)this.QW[g].T();this.Wl.T()};jV.prototype.Dr=function(z){this.aE=this.Kn.V();
this.update()};jV.prototype.lW=function(z,J,p,n,B){this.WS=!0;this.aGa(z,B)};jV.prototype.dV=function(z,J,p,n,B){if(!this.WS)return;
this.aGa(z,B)};jV.prototype.mI=function(z,J,p,n,B){this.WS=!1};jV.prototype.aGa=function(z,J){this.aE=a.g8(L.IY.YE(z,J,1),1);
this.update()};jV.prototype.aut=function(z){var J=this.Oo,p=this.br(parseInt(J[0].V())),n=this.br(parseInt(J[1].V())),B=this.br(parseInt(J[2].V()));
this.aE={o:p/255,k:n/255,X:B/255};this.update()};jV.prototype.arD=function(z){var J=this.V7,p=this.Od(parseInt(J[0].V())/360),n=this.Od(parseInt(J[1].V())/100),B=this.Od(parseInt(J[2].V())/100);
this.aE=a.u4(p,n,B);this.update()};jV.prototype.aBD=function(z){var J=this.QW,p=[];for(var g=0;g<4;g++){var n=this.ayG(parseInt(J[g].V()));
J[g].q(n);p.push(n/100)}var B=a.oc(p);this.aE={o:B[0],k:B[1],X:B[2]};this.update(!0)};jV.prototype.a1C=function(z){var J=this.$o,p=parseInt(J[0].V()),n=parseInt(J[1].V()),B=parseInt(J[2].V()),c=a.p6(p,n,B);
this.aE={o:c.o/255,k:c.k/255,X:c.X/255};this.update()};jV.prototype._o=function(z){var J;if(z.currentTarget==this.Se)J=this.Se.V();
else{J=z.currentTarget==this.km?this.km.V():this.eq.value;if(J.charAt(0)=="#")J=J.slice(1);if(J.length==3)J=J[0]+J[0]+J[1]+J[1]+J[2]+J[2];
J=a.av2(J)}this.aE=a.g8(J,1);this.update()};jV.prototype.Fs=function(z){this.close();this.a8l();var J=a.fa(this.aE,1);
this.Se.q(J);this.Md(J);this.Vw=!1;this.aE=null};jV.prototype.se=function(z){this.a8l();if(this.Nn)this.Md(a.fa(this.s9,1));
this.Vw=!1;this.aE=null};jV.prototype.a8l=function(z){var J=new cD(b.E.c,!0);J.data={R:b.J.an$};this.a(J)};
jV.prototype.Sc=function(z,J){var p=ku.o8(z,J);if(p!=null)this.Se.q(p);if(J!=iQ.Hm)return;this.Se.q(p);
if(this.aE!=null){this.aE=a.g8(p,1);this.update()}};jV.prototype.DK=function(z,J){var p=a.g8(J.Ij,1);
if(this.aE==null){var n=new cD(b.E.c,!0);n.data={R:b.J.tk,BZ:"crosshair",push:!0};this.a(n);this.WS=!1;
this.Md=J.sy;this.Nn=!1;this.Vw=J.xX;this.s9=a.G(p);q.v(this.aLC,"height:2.3em;background-color:#"+a.fX(J.Ij)+";")}this.aE=p;
this.update()};jV.prototype.update=function(z){var J=this.aE,p=a.fa(J,1);this.km.q(a.fX(p));this.eq.value="#"+a.fX(p);
q.v(this.a2y,"height:2.3em;background-color:#"+a.fX(p)+";");var n=this.Oo;n[0].q(Math.round(J.o*255));
n[1].q(Math.round(J.k*255));n[2].q(Math.round(J.X*255));var B=a.HC(J.o,J.k,J.X);n=this.V7;n[0].q(Math.round(B.tK*360));
n[1].q(Math.round(B.Q5*100));n[2].q(Math.round(B.Mf*100));var c=a.ym(J.o*255,J.k*255,J.X*255,this.am4);
n=this.$o;n[0].q(Math.round(c.Z5));n[1].q(Math.round(c.k6));n[2].q(Math.round(c.X));if(z==null){var t=a.KK([J.o,J.k,J.X]);
n=this.QW;n[0].q(Math.round(t[0]*100));n[1].q(Math.round(t[1]*100));n[2].q(Math.round(t[2]*100));n[3].q(Math.round(t[3]*100))}this.Kn.q(J);
if(this.Vw){this.Md(a.fa(this.aE,1));this.Nn=!0}};jV.prototype.ayG=function(z){return Math.max(0,Math.min(100,z))};
jV.prototype.br=function(z){return Math.max(0,Math.min(255,z))};jV.prototype.Od=function(z){return Math.max(0,Math.min(1,z))};
function au(){cy.call(this,[11,2],"contoureditor");this.alX=null;this.MH=null;this.response=null;this.S0=q.m("div","cell");
this.body.appendChild(this.S0);this.AS=q.m("div","cell padded");this.body.appendChild(this.AS);var z=q.m("div","bordered padded vmargin");
this.S0.appendChild(z);this.Fe=new i2(null,null,!0);this.Fe.D(b.E.n,this.Hj,this);z.appendChild(this.Fe._);
this.Wl=q.gE(this,this.AS);this.D("closebtn",this.$D,this)}au.prototype=new cy;au.prototype.Fs=function(){this.close()};
au.prototype.T=function(){cy.prototype.T.call(this);this.Wl.T();this.Fe.T()};au.prototype.Hj=function(z){this.MH.Crv.v=this.Fe.V();
this.response(this.MH)};au.prototype.$D=function(z){this.response(this.alX)};au.prototype.DK=function(z,J){this.alX=a.G(J.B7);
this.MH=J.B7;this.response=J.response;this.Fe.q(this.MH.Crv.v)};function kO(){cy.call(this,[11,4],"duplinto");
this.CT=null;this.U4=null;this.eT=null;var z=q.m("div","form");q.v(z,"max-width:26em");this.body.appendChild(z);
this.yt=new kZ([12,43],["abc","def"]);this.yt.D(b.E.n,this.WW,this);z.appendChild(this.yt._);q.Uk(z);
this.M7=new kZ([1,16,0],["abc","def"]);this.M7.D(b.E.n,this.WW,this);z.appendChild(this.M7._);q.Uk(z);
this.jr=new dz([12,48],null,14);z.appendChild(this.jr._);this.Wl=q.gE(this,z)}kO.prototype=new cy;kO.prototype.pf=function(){return!0};
kO.prototype.T=function(){cy.prototype.T.call(this);this.Wl.T();this.yt.T();this.jr.T()};kO.prototype.WW=function(z){if(z&&z.target==this.M7)return;
var J=this.yt.V(),p=this.U4[J],n=this.CT,B=p!=null&&p.add.artd!=null;for(var g=0;g<n.Y.length;g++)if(n.U[n.Y[g]].add.artb)B=!1;
this.jr.h6(J==this.U4.length);this.M7.h6(B);if(B){var c=p.root.children,t=[],u=this.eT=[];for(var g=0;
g<c.length;g++){var v=c[g].w;if(v.add.artb)t.push(v.getName());u.push(c[g].index)}this.M7.jE(t);this.M7.q(0)}else this.eT=null};
kO.prototype.DK=function(z,J,p){this.CT=z;this.U4=p;this.jr.q(z.Y.length==0?"Layer":z.U[z.Y[0]].getName());
var n=[];for(var g=0;g<p.length;g++){var B=p[g].name;n.push(B.length<30?B:B.slice(0,27)+"...")}n.push([11,7]);
this.yt.jE(n);this.yt.q(p.indexOf(z));this.WW(null)};kO.prototype.Fs=function(z){var J=this.yt.V();if(J==this.U4.length){var p=new b$(this.jr.V()+".psd"),n=this.CT.r,B=this.CT.$,c=this.CT.oq();
if(c!=-1){var t=this.CT.U[c].x0();n=t.r;B=t.$}p.r=n;p.$=B;p.buffer=a.j(p.r*p.$*4);var u=p.JG();u.HV("Background");
p.QF([u]);var v=new cD(b.E.c,!0);v.iv=!0;v.data={R:b.J.Rt,CT:p};this.a(v)}var A=this.CT.pL(null,this.CT!=this.U4[J]),v=new cD(b.E.H,!0);
v.data={R:bi.jt,U:A,N6:this.CT,q9:this.U4[J]};if(this.eT)v.data.MB=this.eT[this.M7.V()];v.l=L.bX;v.iv=!0;
this.a(v);this.close()};function aJ(){cy.call(this,[1,9],"eassets");this.f=null;this.CT=null;var z=this.body;
q.$y(z,"form");z.style.width="32em";this.CC=new fD(null,["Layers","Combinations"]);this.CC.D(b.E.n,this.tj,this);
z.appendChild(this.CC._);q.qk(z);this.gX=q.m("span");z.appendChild(this.gX);this.jC=q.m("div");z.appendChild(this.jC);
var J=q.m("div"),p=q.m("div","flexrow");this.ary=[J,p];this.Tb=[new k9("Only layers / folders, whose name starts with \"-e-\""),new k9("Remove parts outside the canvas"),new k9("Trim transparent parts")];
for(var g=0;g<3;g++){var n=this.Tb[g];n.q(!0);n.D(b.E.n,this.tj,this);J.appendChild(n._);q.Uk(J)}this.bT=new g1([12,14,0],["1x","2x","3x","4x"]);
this.bT.q([!0,!1,!1,!1]);J.appendChild(this.bT._);var B=q.m("div");p.appendChild(B);var c=q.m("img");
c.setAttribute("src",j8.DP("img/nft.png"));c.style.width="150px";p.appendChild(c);var t=q.m("span");
t.textContent="File Names:";B.appendChild(t);this.N4=new g1(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
B.appendChild(this.N4._);this.N4.q([!0,!1,!1]);q.qk(z);this.at8=["PNG","JPG","SVG","TIFF","TGA"];this.H2=new kZ([12,50],this.at8);
this.H2.D(b.E.n,this.O2,this);z.appendChild(this.H2._);this.Em=new gq;z.appendChild(this.Em._);this.Wl=new eq([1,9],!0,null,!0);
this.Wl.D("click",this.Fs,this);z.appendChild(this.Wl._);this.D("closebtn",this.ON,this)}aJ.prototype=new cy;
aJ.prototype.O2=function(z){this.Em.RL(this.at8[this.H2.V()],!1,!1,!1,this.CT.JM()!=null)};aJ.prototype.ON=function(z){this.CT=null};
aJ.prototype.T=function(){cy.prototype.T.call(this);this.H2.T();this.bT.T();this.Wl.T();this.Em.T()};
aJ.prototype.DK=function(z,J,p){this.CT=z;this.tj()};aJ.prototype.tj=function(z){var J=this.CC.V(),p;
q.X0(this.jC);this.jC.appendChild(this.ary[J]);if(J==0){var n=this.agF();p=n.length+" exportable layers"}else{var n=this.a79();
p=n[1]+" combinations ("+n[0].join(" \xD7 ")+")"}this.gX.textContent="- - - "+p;this.O2(null)};aJ.prototype.agF=function(){var z=this.Tb[0].V(),J=[],p=this.CT;
for(var g=0;g<p.U.length;g++){var n=p.U[g],B=n.getName();if(!z&&!n.nT()&&!n.S.Sz()||B.startsWith("-e"))J.push(g)}return J};
aJ.prototype.a79=function(){var z=this.CT,J=z.root.children,p=[],n=1,B=[];for(var g=0;g<J.length;g++){var c=J[g],t=c.w;
if(t.nT()){var u=c.children.length;p.push(u);n*=u;B.push(c.index)}t}return[p,n,B]};aJ.prototype.Sc=function(z,J){this.f=z};
aJ.prototype.Fs=function(z){var J=this.CT,p=this.CC.V(),n=[this.at8[this.H2.V()]],B=[this.Em.V()],c={};
if(p==0){var t=this.bT.V(),u={},v=this.agF();if(v.length==0){alert("No layers to export.");return}var A=[this.Tb[1].V(),this.Tb[2].V()];
for(var g=0;g<v.length;g++){var $=v[g],X=J.U[$],U=X.getName();U=U.replace(/\//g,"-");if(u[U]!=null){u[U]++;
U+=" "+u[U]}else u[U]=1;var w=X.LE();X.Rz(!0);for(var P=0;P<t.length;P++){if(!t[P])continue;var k=P+1,T=L.DJ.a6E(J,n,k,this.f,$,B,A);
for(var Z=0;Z<n.length;Z++){var i=n[Z],V=U.slice(U.startsWith("-e-")?3:0)+(k==1?"":"@"+k+"x")+"."+i.toLowerCase();
if(T[Z])c[V]=new Uint8Array(T[Z])}}X.Rz(w)}}else{var w=[];for(var g=0;g<J.U.length;g++)w.push(J.U[g].LE());
var _=this.a79(),y=_[0],v=_[2],E=[];function F(x,$,f,Q){if($==x.length){Q.push(f.slice(0));return}var m=x[$];
for(var g=0;g<m;g++){f.push(g);F(x,$+1,f,Q);f.pop(g)}}F(y,0,[],E);var d=this.N4.V().indexOf(!0);this.Nt=[E,c,v,n,B,w,d,this.a7G.bind(this),0,0];
this.a7G();return}this.f4(c,J.name)};aJ.prototype.a7G=function(){var z=this.Nt,J=z[0],p=z[1],n=this.CT,B=z[2],c=z[3],t=z[4],u=z[5],v=z[6],A=z[7],$=0;
while(J.length!=0&&$<1e3){var X=Date.now(),U=J.shift(),w=[];for(var g=0;g<U.length;g++){var P=n.root.Ti(B[g]);
for(var k=0;k<P.children.length;k++)P.children[k].w.Rz(!1);var T=P.children[U[g]].w;w.push(v==2?T.getName():P.w.getName()+U[g]);
T.Rz(!0)}n.qM();n.TQ();var Z=(v==0?U:w).join("-")+"."+c[0].toLowerCase();p[Z]=new Uint8Array(kL.Pk(n,c[0],n.r,n.$,t[0],this.f));
z[8]++;z[9]+=p[Z].length;$+=Date.now()-X}if(J.length!=0){alert(z[8]+" done, "+hI.dB(z[9])+".",800);setTimeout(A,35);
return}for(var g=0;g<n.U.length;g++)n.U[g].Rz(u[g]);n.qM();this.f4(p,n.name)};aJ.prototype.f4=function(z,J){var p=UZIP.encode(z),n=new cD(b.E.c,!0);
n.data={R:b.J.L1,data:p,name:J.split(".")[0]+".zip"};this.a(n)};function gs(){cy.call(this,"Export Color Lookup Tables","exlut");
this.f=null;this.CT=null;var z=q.m("div","form");q.v(z,"width:20em");this.body.appendChild(z);this.Tb=[new kW("Grid Points",1,256),new fD([12,50],[".CUBE"])];
var J=[16,0];for(var g=0;g<this.Tb.length;g++){var p=this.Tb[g];p.q(J[g]);p.parent=this;p.D(b.E.n,this.tj,this);
z.appendChild(p._);q.Uk(z)}this.Wl=q.gE(this,z);this.D("closebtn",this.ON,this)}gs.prototype=new cy;
gs.prototype.zI=function(z,J){if(Math.min(z.r,z.$)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(z.U.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};gs.prototype.ON=function(z){this.CT=null};gs.prototype.Sc=function(z,J){this.f=z};
gs.prototype.DK=function(z,J,p){this.CT=z};gs.prototype.Fs=function(){var z=this.CT,J=this.Tb[0].V(),p=[],n=new fw(0,0,z.r,z.$),B=a.j(J*J*4),c=B.slice(0),t=new fw(z.r-J>>>1,z.$-J>>>1,J,J),u=z.U[0],v=u.buffer,A=u.S;
u.S=t;u.buffer=B;for(var $=0;$<J;$++){this.a43(J,$,B);u.qM(t);z.qM(t);var X=z.dT();a.nk(X,n,c,t);for(var U=0;
U<J;U++)for(var w=0;w<J;w++){var P=U*J+w<<2;p.push(c[P]/255,c[P+1]/255,c[P+2]/255)}}var k=aZ.a5e(p,J,z.name);
jo.save(k,z.name.split(".")[0]+".CUBE");u.buffer=v;u.S=A;u.qM();z.qM()};gs.prototype.a43=function(z,J,p){var n=255/(z-1),B=Math.round(J*n);
for(var c=0;c<z;c++)for(var t=0;t<z;t++){var u=c*z+t<<2;p[u]=Math.round(t*n);p[u+1]=Math.round(c*n);
p[u+2]=B;p[u+3]=255}};gs.prototype.T=function(){cy.prototype.T.call(this);for(var g=0;g<this.Tb.length;
g++)this.Tb[g].T();this.Wl.T()};function c3(){cy.call(this,[1,14],"finfo");this.aEW=null;this.Vz=null;
this.a4F=null;this.xl=q.m("div","form scrollable label12");q.v(this.xl,"width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.xl);var z=q.m("div","form");this.body.appendChild(z);this.vN=new kZ(null,["Hello"]);
z.appendChild(this.vN._);this.alc=new eq("Add Parameter",!1,null,!0);z.appendChild(this.alc._);this.alc.D("click",this.eW,this);
this.vA=new eq("=== S A V E ===",!1,null,!0);z.appendChild(this.vA._);this.vA.D("click",this.f4,this);
this.amh=""}c3.prototype=new cy;c3.prototype.k9=function(z,J){return z<450||J<450?new i_(0,0):new i_(150,100)};
c3.prototype.eW=function(z){if(this.a4F.length==0)return;var J=this.a4F[this.vN.V()],p=this.mh();p[J]=l0.Nc[J][0];
this.hm(p);this.Vz[J]._.scrollIntoView();this.Vz[J].wZ()};c3.prototype.HO=function(z){var J=this.mh();
delete J[z.currentTarget.aAJ];this.hm(J)};c3.prototype.f4=function(z){var J=this.mh(),p=this.aEW,n=!0;
for(var B in p)if(JSON.stringify(p[B])!=JSON.stringify(J[B]))n=!1;for(var B in J)if(JSON.stringify(p[B])!=JSON.stringify(J[B]))n=!1;
if(n)return;var c=new cD(b.E.H,!0);c.l=L.bX;c.data={R:bi.Th,FU:J};this.a(c);this.aEW=J;this.hm(J);alert("Metadata saved!")};
c3.avK=function(z){function J(B){var c=B.toLowerCase();return B==c}var p=z.split(":").pop();for(var n=1;
n<p.length-1;n++){if(p[n]==p[n].toUpperCase()&&(J(p[n+1])||J(p[n-1]))){p=p.slice(0,n)+" "+p.slice(n);
n++}}return p};c3.prototype.DK=function(z,J){this.aEW=z.UD;this.hm(z.UD)};c3.prototype.hm=function(z){var J=this.xl,B=0;
q.X0(J);var p=this.Vz={},n=["tiff","exif","exif:GPS"],c=this.a4F=[],t=[];for(var u in l0.Nc){var v=c3.avK(u),A=0,$=15,X=null;
if(z[u]==null){if(l0.Nc[u].length!=1||u=="photoshop:Credit"||u=="photoshop:Source"){c.push(u);t.push(v)}continue}for(var g=0;
g<n.length;g++)if(u.startsWith(n[g]))A=g;if(A!=B){q.qk(J);B=A}if(u=="tiff:ImageDescription"||u=="dc:Keywords"){$=18.5;
X=3}var U=new dz(v,null,$,X);p[u]=U;var w=z[u];if(w instanceof Array)w=w[1]==0?"---":w[0]+"/"+w[1];var P=new eq("\u2716",null,j0.get([5,4]));
J.appendChild(P._);P.D("click",this.HO,this);P.aAJ=u;U.q(w);J.appendChild(U._);q.Uk(J);if(u=="exif:GPSLongitude"&&z["exif:GPSLatitude"]){this.amh=c3.afL(z["exif:GPSLatitude"])+","+c3.afL(z["exif:GPSLongitude"]);
var k=new eq("Show on map",!1,null,!0);J.appendChild(k._);q.Uk(J);k.D("click",this.afk,this)}}this.vN.jE(t);
this.vN.q(0)};c3.prototype.mh=function(){var z=this.Vz,J=l0.Nc,p={};for(var n in J){var B=J[n][0],c=typeof B;
if(B==null||z[n]==null)continue;var t=z[n].V(),u="The value of \""+c3.avK(n)+"\" must ";if(c=="number"){t=parseFloat(t);
if(isNaN(t)){alert(u+"be a number.");t=B}}else if(B instanceof Array&&B.length==2){if(t.indexOf("/")==-1){alert(u+"be a fraction.");
t=B.slice(0)}else{t=t.split("/").map(parseFloat);if(isNaN(t[0])||isNaN(t[1])){t=B.slice(0)}}}p[n]=t}return p};
c3.afL=function(z){var J=z.length,p=z.slice(0,J-1).split(",").map(parseFloat),n=z.slice(J-1),B=p[0]+p[1]/60+p[2]/3600;
if(n!="N"&&n!="E")B=-B;return B};c3.prototype.afk=function(z){window.open("https://maps.google.com?q="+this.amh,"Map")};
function lk(){cy.call(this,[11,5],"gradienteditor");this.s9=null;this.aE=null;this.f=null;this.Md=null;
this.Nn=!1;this.Vw=!1;this.D2=null;this.VA=null;this.oP=-1;this.IT=-1;this.H0=0;this.Hc=this.KJ.bind(this);
this.RT=this.m3.bind(this);this._V=q.m("canvas");this.$l=this._V.getContext("2d");q.v(this._V,"display:block");
this.YX=null;q.Ze(this._V);q.tN(this._V,this.M1.bind(this));this.ro=q.m("div","form");this.ot=q.m("div");
this.Ui=q.m("div","form");this.dA=q.m("div");this.cX=new kZ([12,44],[[15,10,0],[24,6]]);this.cX.D(b.E.n,this._A,this);
this.body.appendChild(this.cX._);q.qk(this.body);var z=this.ro;this.ut=new kW([19,3,3],0,100,"%");this.ut.D(b.E.n,this._A,this);
this.ut.parent=this;z.appendChild(this.ut._);q.Uk(z);this.ajN=new bm([12,0]);z.appendChild(this.ajN._);
this.hQ=q.m("div","bordered padded noalign");z.appendChild(this.hQ);this.Ba=new kW([12,0],0,100,"%");
this.Ba.parent=this;this.Ba.D(b.E.n,this._A,this);this.hQ.appendChild(this.Ba._);this.yw=new kW([12,40],0,100,"%");
this.yw.parent=this;this.yw.D(b.E.n,this._A,this);this.hQ.appendChild(this.yw._);this.q3=new eq([5,4],!1,null,!0);
this.q3.D("click",this.atn,this);this.hQ.appendChild(this.q3._);z.appendChild(this.ot);this.aCc=new bm([13,0]);
z.appendChild(this.aCc._);this.BA=q.m("div","bordered padded noalign");z.appendChild(this.BA);this.Wa=new kZ([12,44],[[12,45],[12,46],[12,47]]);
this.Wa.D(b.E.n,this._A,this);this.BA.appendChild(this.Wa._);this.fG=new dX(!0);this.fG.parent=this;
this.fG.D(b.E.n,this._A,this);this.BA.appendChild(this.fG._);this.mg=new kW([12,40],0,100,"%");this.mg.parent=this;
this.mg.D(b.E.n,this._A,this);this.BA.appendChild(this.mg._);this.tz=new eq([5,4],!1,null,!0);this.tz.D("click",this.a2r,this);
this.BA.appendChild(this.tz._);var z=this.Ui;this.RE=new kW("Roughness",0,100,"%");this.RE.D(b.E.n,this._A,this);
this.RE.parent=this;z.appendChild(this.RE._);z.appendChild(this.dA);this.Qi=new eq([25,1,2],!1,null,!0);
this.Qi.D("click",this._A,this);z.appendChild(this.Qi._);this.Wl=q.gE(this);this.D("closebtn",this.se,this)}lk.prototype=new cy;
lk.prototype.se=function(z){if(this.Nn)this.Md(this.s9);this.Md=null;this.Vw=!1};lk.prototype.T=function(){cy.prototype.T.call(this);
this.Wl.T();this.ut.T();this.ajN.T();this.aCc.T();this.q3.T();this.tz.T();this.Ba.T();this.yw.T();this.Wa.T();
this.mg.T();this.Qi.T()};lk.prototype.Sc=function(z,J){this.f=z;if(J==iQ.Hm)this.x9()};lk.prototype.DK=function(z,J){this.aE=a.G(J.Wi);
this.s9=a.G(J.Wi);this.D2=this.VA=null;this.Md=J.sy;this.Nn=!1;this.Vw=J.xX;this.x9();this.zv()};lk.prototype.Fs=function(z){var J=this.aE;
this.Md(J);this.close();this.Md=null;this.Vw=!1};lk.prototype.LA=function(z){return z==l5.mP||z==l5.IB};
lk.prototype.qA=function(z,J,p,n){if(n.Q(l5.mP)||n.Q(l5.IB)){if(this.VA)this.atn();if(this.D2)this.a2r()}};
lk.prototype.atn=function(z){var J=this.aE.Trns.v;if(this.VA==null||J.length==1)return;J.splice(J.indexOf(this.VA),1);
this.VA=null;this.x9();this.zv()};lk.prototype.a2r=function(z){var J=this.aE.Clrs.v;if(this.D2==null||J.length==1)return;
J.splice(J.indexOf(this.D2),1);this.D2=null;this.x9();this.zv()};lk.prototype.x9=function(){var z=this._V,J=this.$l;
if(this.aE==null)return;var p=q.$q();z.width=Math.floor(410*p);z.height=Math.floor(70*p);q.MT(z,z.width,z.height);
z.style.marginTop="8px";this.YX=new fw(0,0,Math.floor(380*p),Math.floor(32*p));this.YX.x=Math.floor((z.width-this.YX.r)/2);
this.YX.y=Math.floor((z.height-this.YX.$)/2);var n=this.YX,B=n.r,c=n.$,t=n.x,u=n.y,v=new fw(0,0,B,c),A=J.getImageData(0,0,B,c),$=new Uint8Array(A.data.buffer);
a.jp($,B,c,8);var X=a.j(B*c*4);a.Wi.MJ(this.aE,X,v,[1/B,0,0,1/c],B/2,c/2,!1,0,this.f.Nb,this.f.Gh);a.B.Oe("norm",X,n,$,n,n,1);
J.clearRect(0,0,z.width,z.height);J.putImageData(A,t,u);var U=this.aE;if(U.Clrs){var w=U.Trns.v,P=U.Clrs.v,k=a.Wi.aAz(U,this.f.Nb,this.f.Gh),T=Math.round(6*q.$q()),Z=Math.round(14*q.$q()),i=this.VA?this.VA.v:null,V=this.D2?this.D2.v:null;
for(var g=0;g<w.length;g++){var _=w[g].v,y=Math.round(255-255*_.Opct.v.val/100);if((_==i||w[g-1]&&w[g-1].v==i||g==this.IT)&&g!=0){J.fillStyle="#000000";
J.fillRect(t-3+B*(w[g-1].v.Lctn.v+(_.Lctn.v-w[g-1].v.Lctn.v)*_.Mdpn.v/100)/4096,u-6-2,6,6)}if(_==i){J.fillStyle="#ffffff";
J.fillRect(t-T+B*(_.Lctn.v/4096)-2,u-2-Z-2,2*T+4,Z+4)}J.fillStyle="rgb("+y+","+y+","+y+")";J.fillRect(t-T+B*(_.Lctn.v/4096),u-2-Z,2*T,Z)}for(var g=0;
g<P.length;g++){var E=P[g].v,F=k[0][g][0];if((E==V||P[g-1]&&P[g-1].v==V||g==this.oP)&&g!=0){J.fillStyle="#000000";
J.fillRect(t-3+B*(P[g-1].v.Lctn.v+(E.Lctn.v-P[g-1].v.Lctn.v)*E.Mdpn.v/100)/4096,u+c+2,6,6)}if(E==V){J.fillStyle="#ffffff";
J.fillRect(t-T+B*(E.Lctn.v/4096)-2,u+c+2-2,2*T+4,Z+4)}J.fillStyle="rgb("+Math.round(F.o)+", "+Math.round(F.k)+","+Math.round(F.X)+")";
J.fillRect(t-T+B*(E.Lctn.v/4096),u+c+2,2*T,Z)}}if(this.Vw){this.Md(this.aE);this.Nn=!0}};lk.prototype.zv=function(){var z=this.aE,J=z.Clrs?0:1;
this.cX.q(J);if(q.SA(this.ro))this.body.removeChild(this.ro);if(q.SA(this.Ui))this.body.removeChild(this.Ui);
(J==0?this.ot:this.dA).appendChild(this._V);if(J==0){this.body.appendChild(this.ro);this.ut.q(Math.round(100*z.Intr.v/4096));
var p=z.Trns.v,n=z.Clrs.v,B=this.VA!=null,c=this.IT!=-1;this.Ba.h6(B);this.yw.h6(B||c);this.q3.h6(B);
if(B){q.v(this.hQ,"");var t=this.VA.v;this.yw.q(Math.round(100*t.Lctn.v/4096));this.Ba.q(t.Opct.v.val)}if(c)this.yw.q(p[this.IT].v.Mdpn.v);
var B=this.D2!=null,c=this.oP!=-1;this.Wa.h6(B);this.fG.h6(B);this.mg.h6(B||c);this.tz.h6(B);if(B){q.v(this.BA,"");
var u=this.D2.v;this.mg.q(Math.round(100*u.Lctn.v/4096));var v=u.Type.v.Clry;this.Wa.q(["FrgC","BckC","UsrS"].indexOf(v));
if(v=="FrgC")this.fG.TT(this.f.Nb);if(v=="BckC")this.fG.TT(this.f.Gh);if(v=="UsrS")this.fG.q(u.Clr.v)}if(c)this.mg.q(n[this.oP].v.Mdpn.v)}else{this.body.appendChild(this.Ui);
this.RE.q(Math.round(100*z.Smth.v/4096))}this.body.appendChild(this.Wl._)};lk.prototype._A=function(z){var J=this.aE,p=J.Clrs?0:1;
if(z.target==this.cX){var n=p==0?JSON.parse(a_.Pc.aBk).v:em.J0("grdm").Grad.v;this.aE=n;this.zv();this.x9();
return}if(p==0){J.Intr.v=Math.round(4096*this.ut.V()/100);var B=J.Trns.v,c=J.Clrs.v;if(this.VA!=null){var t=this.VA.v;
t.Lctn.v=Math.round(4096*(this.yw.V()/100));t.Opct.v.val=this.Ba.V()}if(this.D2!=null){var u=this.D2.v;
u.Lctn.v=Math.round(4096*(this.mg.V()/100));if(z.target==this.fG)this.Wa.q(2);var v=this.Wa.V();u.Type.v.Clry=["FrgC","BckC","UsrS"][v];
if(v==2)u.Clr={t:"Objc",v:this.fG.V()};else if(u.Clr)delete u.Clr}if(this.IT!=-1)B[this.IT].v.Mdpn.v=this.yw.V();
if(this.oP!=-1)c[this.oP].v.Mdpn.v=this.mg.V()}else{J.Smth.v=Math.round(4096*this.RE.V()/100);if(z.target==this.Qi)J.RndS.v=Math.floor(Math.random()*4294967295)}this.x9()};
lk.prototype.M1=function(z){var J=q.bZ(z,this._V),p=this.YX,n=(J.x*q.$q()-p.x)/p.r,B=(J.y*q.$q()-p.y)/p.$,c=this.aE.Trns.v,t=this.aE.Clrs.v,u=null,v=null,A=-1,$=-1;
if(B<1)for(var g=0;g<c.length;g++){var X=c[g].v;if(Math.abs(X.Lctn.v/4096-n)<.02)u=c[g];if(g>0)if(Math.abs((c[g-1].v.Lctn.v+(X.Lctn.v-c[g-1].v.Lctn.v)*X.Mdpn.v/100)/4096-n)<.01)A=g}if(B>0)for(var g=0;
g<t.length;g++){var U=t[g].v;if(Math.abs(U.Lctn.v/4096-n)<.02)v=t[g];if(g>0)if(Math.abs((t[g-1].v.Lctn.v+(U.Lctn.v-t[g-1].v.Lctn.v)*U.Mdpn.v/100)/4096-n)<.01)$=g}if(v==null&&u==null&&A==-1&&$==-1){if(B<0){var X={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
X.v.Lctn.v=Math.round(n*4096);c.push(X);c.sort(this.V4);u=X}if(B>1){var t=this.aE.Clrs.v,w=a.Wi.aAz(this.aE,this.f.Nb,this.f.Gh),P=a.Wi.QV(this.aE,w,n),U={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:a.Wi.yR({o:P&255,k:P>>8&255,X:P>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
U.v.Lctn.v=Math.round(n*4096);t.push(U);t.sort(this.V4);v=U}}if(v!=null)$=-1;if(u!=null)A=-1;if(v!=null||u!=null||A>-1||$>-1){this.VA=u;
this.D2=v;this.IT=A;this.oP=$;this.zv();this.x9();q.G3(window,this.Hc);q.ol(window,this.RT)}};lk.prototype.KJ=function(z){var J=q.bZ(z,this._V),p=this.YX,n=(J.x*q.$q()-p.x)/p.r,B=(J.y*q.$q()-p.y)/p.$;
n=Math.max(0,Math.min(1,n));var c=this.aE.Trns.v,t=this.aE.Clrs.v;if(this.VA!=null){var u=this.VA.v;
u.Lctn.v=Math.round(4096*n);var v=c.indexOf(this.VA);if(v!=-1&&B<-1&&c.length>1)c.splice(v,1);if(v==-1&&B>-1)c.push(this.VA);
c.sort(this.V4)}if(this.D2!=null){var A=this.D2.v;A.Lctn.v=Math.round(4096*n);var $=t.indexOf(this.D2);
if($!=-1&&B>2&&t.length>1)t.splice($,1);if($==-1&&B<2)t.push(this.D2);t.sort(this.V4)}if(this.IT>-1){var u=c[this.IT].v;
u.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(n*4096-c[this.IT-1].v.Lctn.v)/(u.Lctn.v-c[this.IT-1].v.Lctn.v))))}if(this.oP>-1){var A=t[this.oP].v;
A.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(n*4096-t[this.oP-1].v.Lctn.v)/(A.Lctn.v-t[this.oP-1].v.Lctn.v))))}if(this.VA!=null||this.D2!=null||this.IT>-1||this.oP>-1){this.zv();
this.x9()}};lk.prototype.m3=function(z){q.Mt(window,this.Hc);q.eX(window,this.RT);if(Date.now()-this.H0<300){if(this.oP!=-1||this.IT!=-1){var J=(this.oP!=-1?this.aE.Clrs.v[this.oP]:this.aE.Trns.v[this.IT]).v;
J.Mdpn.v=50;this.zv();this.x9()}else if(this.D2!=null)this.fG.vu()}this.H0=Date.now()};lk.prototype.V4=function(z,J){return z.v.Lctn.v-J.v.Lctn.v};
function dA(){cy.call(this,[11,5],"vgradienteditor");this.Md=null;this.w_=new a9;this.w_.parent=this;
this.body.appendChild(this.w_._);this.Wl=q.gE(this,this.body)}dA.prototype=new cy;dA.prototype.DK=function(z,J){this.Md=J.sy;
this.w_.q(J.K)};dA.prototype.T=function(){cy.prototype.T.call(this);this.w_.T()};dA.prototype.Fs=function(z){this.Md(this.w_.V());
this.close()};function l6(z){cy.call(this,z=="isize"?[11,10]:[11,3],z);this.a9L=z;this.TA=null;var J=q.m("div","form");
q.v(J,"width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(J);var p=z=="csize";this.aIN=new bm("Hi");
J.appendChild(this.aIN._);q.Uk(J);this.vz=new iD(!0,!0,p,p,!0);if(p)this.vz.a1j(!1);J.appendChild(this.vz._);
this.ud=new k9([12,25,3]);this.ud.q(!0);this.ud.D(b.E.n,this.agP,this);this.c6=new kZ(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.c6.q(1);this.Gk=new hv([12,23,2],41);this.Gk.q(4);if(z=="isize"){J.appendChild(this.ud._);J.appendChild(this.c6._)}else J.appendChild(this.Gk._);
this.Wl=q.gE(this,this.body)}l6.prototype=new cy;l6.prototype.zI=function(z,J){return z!=null};l6.prototype.pf=function(){return!0};
l6.prototype.LA=function(z){return this.a9L=="isize"?!1:[l5._8,l5.nE,l5.Sw,l5.E6].indexOf(z)!=-1};l6.prototype.qA=function(z,J,p,n){if(n.Q(l5.Kd))this.Fs();
this.Gk.awU(n.wK())};l6.prototype.T=function(){cy.prototype.T.call(this);this.vz.T();this.ud.T();this.c6.T();
this.Gk.T();this.Wl.T()};l6.prototype.Fs=function(z){var J=this.vz.V(),p=J.x,n=J.y,B=new cD(b.E.wR,!0),c=this.vz.k0.V();
if(this.a9L=="csize"){if(c){var t=this.vz.qe,u=this.vz.dr;p=u.x-t.x;n=u.y-t.y}B.data=L.d_.aob(p,n,this.Gk.V(),c)}else{var v=this.c6.V();
if(!this.ud.V())v=null;var A=this.vz.aky(),$=this.TA;console.log(A);if(A==1)B.data=L.d_.yp(p/$.x,n/$.y,this.vz.I0(),v,!0);
else B.data=L.d_.yp(p,n,this.vz.I0(),v)}this.close();this.a(B)};l6.prototype.DK=function(z,J){this.TA=new i_(z.r,z.$);
this.vz.q(this.TA,z.Ge);this.vz.wZ();this.aIN.q(j0.get(this.YN)+": "+(z.r*z.$/1e6).toFixed(2)+" MPx")};
l6.prototype.agP=function(z){var J=this.ud.V(),p=this.vz,n=this.c6;if(J)n.sA();else n.EJ();p.aHc(J)};
function an(){cy.call(this,"Import RAW","importraw");var z=q.m("div","flexrow"),J=q.m("div");q.v(J,"margin-bottom: 1em");
this.body.appendChild(z);this.body.appendChild(J);var p=q.m("div","form");q.v(p,"width:18em");z.appendChild(p);
var n=q.m("div","form");q.v(n,"width:15em");z.appendChild(n);this.HY=null;this.lb=null;this.J2=null;
this.pV=null;this.Nr=[];var B=[];for(var g=0;g<an.Ly.length;g++)B.push(an.Ly[g]+" Bits");var c=this.Nt=[new iD(!0,null,null,!0),new kW([12,72],1,8),new k9("Last one is Transparency"),new fD([12,34],B),new fD("Byte Order",["12-34","34-12"]),new kZ("Guesses",[])];
for(var g=0;g<c.length;g++){var t=c[g];t.parent=this;t.D(b.E.n,g==5?this.awP:this.WW,this);var u=g==0?p:g==5?J:n;
u.appendChild(t._)}this._V=q.m("canvas");this.$l=this._V.getContext("2d");this.body.appendChild(this._V);
this.Wl=q.gE(this,this.body)}an.prototype=new cy;an.prototype.T=function(){cy.prototype.T.call(this);
var z=this.Nt;this.Wl.T();for(var g=0;g<z.length;g++)z[g].T()};an.prototype.Fs=function(z){this.close();
var J=this.Nt[0].V(),p=kL.su(this.lb,[{data:this.J2,eE:new fw(0,0,J.x,J.y)}]);if(this.pV)p.b8=this.pV;
var n=new cD(b.E.c,!0);n.data={R:!0?b.J.Rt:b.J.dS,CT:p};this.a(n)};an.Ly=[8,16];an.prototype.DK=function(z,J){this.HY=new Uint8Array(J.ea);
this.lb=J.qI;var p=this.HY.length,n=[1,3,4],B=0,c=0,t=1,u=1,v=this.Nr=[],A=Math.round(Math.sqrt(p)*2);
A=Math.max(A,4e3);for(var $=0;$<3;$++){for(var X=0;X<2;X++){var U=an.Ly[X],w=n[$],P=w*U,k=Math.round(p*8/P);
if(k!=p*8/P)continue;for(var T=0;T<=A;T++)for(var Z=0;Z<=A;Z++)if(T*Z==k){var i=0;if(T==Z)i+=64;if(Math.round(T/100)==T/100&&Math.round(Z/100)==Z/100)i+=32;
if(Math.round(T/10)==T/10&&Math.round(Z/10)==Z/10)i+=16;if(Math.round(T/2)==T/2&&Math.round(Z/2)==Z/2)i+=8;
v.push([T,Z,w,U,i])}}}var V=function(F,d){if(d[4]!=F[4])return d[4]-F[4];var x=Math.max(F[0],F[1])/Math.min(F[0],F[1]),f=Math.max(d[0],d[1])/Math.min(d[0],d[1]);
if(x!=f)return x-f;return d[0]-F[0]};v.sort(V);var _=this.Nt,y=[];for(var g=0;g<v.length;g++){var E=v[g];
y.push(E[0]+" x "+E[1]+", "+E[2]+"ch, "+E[3]+"-bit")}_[5].jE(y);_[5].q(0);this.awP(null)};an.prototype.awP=function(z){var J=this.Nt,p=this.Nr[this.Nt[5].V()];
J[0].q(new i_(p[0],p[1]),72);J[1].q(p[2]);J[3].q(an.Ly.indexOf(p[3]));this.WW()};an.prototype.WW=function(z){var J=this.Nt,p=J[0].V(),n=p.x,B=p.y,c=an.Ly[J[3].V()],t=this.HY;
if(c==16&&J[4].V()==1){t=t.slice(0);for(var g=0;g<t.length;g+=2){var u=t[g];t[g]=t[g+1];t[g+1]=u}}var v=this.J2=this.uj(t,n,B,J[1].V(),c,J[2].V()),A=this._V,$=this.$l,X=[v,new fw(0,0,n,B)];
a.pG(X);for(var g=0;g<X.length;g+=2)if(X[g+1].$<300){v=X[g];n=X[g+1].r;B=X[g+1].$;break}A.width=n;A.height=B;
q.MT(A,n,B);var U=new ImageData(new Uint8ClampedArray(v.buffer),n,B);$.putImageData(U,0,0)};an.prototype.uj=function(z,J,p,n,B,c){this.pV=null;
var t=[],u=J*p;for(var v=0;v<n;v++){var A=a.j(u);t.push(A);if(B==8)for(var g=0;g<u;g++)A[g]=z[g*n+v];
else if(B==16)for(var g=0;g<u;g++)A[g]=Math.round((z[(g*n+v)*2]<<8|z[(g*n+v)*2+1])*(255/65535))}var $=a.j(u*4);
a.dz($,4278190080);if(c){a.DE(t.pop(),$,3);n--}if(n==0){}else if(n==1)a.eG(t[0],$);else{a.DE(t[0],$,0);
a.DE(t[1],$,1);if(n>2){a.DE(t[2],$,2);if(n>3){this.pV=[];for(var g=3;g<n;g++){var X=new bi.L7;X.name="Alpha "+(g-2);
X.S=new fw(0,0,J,p);X.N=t[g];this.pV.push(X)}}}}return $};function kU(z,J,p){lh.call(this);this._=q.m("div","");
this.n_=z;this.ke=null;this.w_=J==null?!1:J;this.ML=null;this.xn=p;this.anq=[];this.tF=[];this.fS=[];
this.CX=[];this.db=0;this.ke=this.a6e(kU.CX[z]);this.SL();this.O0=null;this.abq;this.acI}kU.prototype=new lh;
kU.prototype.lW=function(z,J,p,n,B){this.O0=B;this.abq=a.G(this.ML);if(this.ke.lagl)this.acI=this.ke.lagl.V()[0]};
kU.prototype.dV=function(z,J,p,n,B){var c=this.O0,t=this.n_,u=this.abq;if(c==null)return;var v=(B.x-c.x)/z.i.XP,A=(B.y-c.y)/z.i.XP;
if(t=="GrFl"){var $=a.G(u.Ofst.v);$.Hrzn.v.val+=v*.5;$.Vrtc.v.val+=A*.5;this.ke.Ofst.q($,!0)}if(t=="patternFill"){var $=a.G(u.phase.v);
$.Hrzn.v+=v;$.Vrtc.v+=A;this.ke.phase.q($,!0)}if(t=="DrSh"||t=="IrSh"||t=="ChFX"){var X=u.Dstn.v.val,U=this.acI*Math.PI/180,w=-Math.cos(U)*X+v,P=Math.sin(U)*X+A;
this.ke.Dstn.q(Math.sqrt(w*w+P*P),!0);this.ke.lagl.q([Math.atan2(P,-w)*180/Math.PI],!0)}};kU.prototype.mI=function(z,J,p,n,B){this.O0=null};
kU.prototype.anW=function(){for(var g=0;g<this.CX.length;g++){q.Om(this.CX[g],"selected");if(this.fS[g]instanceof k9)this.fS[g].q(!1)}};
kU.prototype.a9Z=function(z){var J=this.aa7.bind(this);for(var g=0;g<this.fS.length;g++){var p=q.m("div","listitem");
this.CX.push(p);if(g>0)p.textContent="\u2003";p.appendChild(this.fS[g]._);if(a_.aiX.indexOf(this.n_)!=-1){var n=new eq("+");
n.ZN();n._.style.float="right";p.appendChild(n._);var B=new eq("\u2B0D");B.ZN();B._.style.float="right";
B._.style["margin-right"]="2px";p.appendChild(B._)}p.addEventListener("click",J,!1);z.appendChild(p)}};
kU.Zb=function(z,J){var p=J.getBoundingClientRect();return(z.clientY-p.top)/p.height};kU.prototype.aa7=function(z){var J=z.target.tagName.toLowerCase();
if(J=="input"){return}if(J=="button"){var p=new cD(b.E.H,!0),n=z.target.textContent=="+",B=n?0:kU.Zb(z,z.target)<.5?-1:1;
if(n)p.data={R:"st_dupsingle",w:this.parent.data.w,Ee:this.xn};else p.data={R:"st_movsingle",w:this.parent.data.w,Ee:this.xn,ahH:B};
p.l=L.bV;p.iv=!0;this.a(p);p=new cD("redrawall",!0);p.data={ahH:B};this.a(p);return}q.$D(z);this.ah();
this.db=this.CX.indexOf(z.currentTarget);this.a(new cD("showme"))};kU.prototype.ah=function(){if(this.ke.enab&&this.ke.enab.V()==!1)this.GF({j3:"enab",K:!0})};
kU.prototype.ack=function(){var z=this.CX[this.db];if(z)q.$y(z,"selected");return this.tF[this.db]};
kU.prototype.a6e=function(z){var J={};for(var g=0;g<z.length;g++){var p=z[g],n=null;if(p=="----")n={_:q.m("hr")};
if(p=="\n")n={_:q.m("br")};if(p=="blOptions")n=new bm([14,10]);if(p=="brst")n=new g1([12,72],["R","G","B"]);
if(p=="knko")n=new kZ("Knockout",[[13,1,0],"Shallow","Deep"]);if(p=="enab")n=new k9(a_.names[a_.order.indexOf(this.n_)]);
if(p=="lrMd"||p=="Md")n=new kZ([12,19,0],jM.he,jM.jN);if(p=="Opct")n=this.w_?new kW([12,0],0,100,"%"):new jT([12,0],0,100,"%");
if(p=="iOpa")n=new jT([12,26],0,100,"%");if(p=="blIf")n=new jj;if(p=="ShdN")n=new jT([12,68],0,100,"%");
var B=this.n_=="St3D"&&p=="lagl";if(p=="lagl"||p=="Angl")n=new dq(B?"Light":[12,15],this.n_=="ebbl"||B);
if(p=="uglg")n=new k9([12,27]);if(p=="Dstn")n=new jT([12,28],0,200,"px");if(p=="Ckmt")n=new jT([12,29],0,100,"%");
if(p=="Srnk")n=new jT("Shrink",0,100,"%");if(p=="Drkn")n=new jT("Darken",0,100,"%");if(p=="blur")n=new jT([12,14,0],0,200,"px");
if(p=="TrnS"||p=="MpgS")n=new ba([12,21]);if(p=="Nose")n=new jT([12,30],0,100,"%");if(p=="layerConceals")n=new k9([12,31]);
if(p=="Cntn")n=new k9([12,25,4]);if(p=="AntA"||p=="antialiasGloss")n=new k9([12,25,1]);if(p=="GlwT")n=new kZ([12,32],a_.XL.names);
if(p=="glwS")n=new kZ([12,70],a_.XL.aFo);if(p=="Inpr")n=new jT([12,12],1,100,"%");if(p=="bvlS")n=new kZ([12,22],a_.x1.style);
if(p=="bvlT")n=new kZ([12,32],a_.x1.aw$);if(p=="bvlD")n=new kZ(null,a_.x1.dir);if(p=="srgR")n=new jT([12,34],0,1e3,"%");
if(p=="Sftn")n=new jT([12,35],0,20,"px");if(p=="Lald")n=J.lagl;if(p=="hglM"||p=="sdwM")n=new kZ([12,36],jM.he,jM.jN);
if(p=="hglC"||p=="sdwC")n=new dX;if(p=="hglO"||p=="sdwO")n=new jT([12,0],0,100,"%");if(p=="Invr"||p=="InvT")n=new k9([4,11]);
if(p=="overprint")n=new k9("Overprint");if(p=="Sz")n=new jT([12,14,0],1,200,"px");if(p=="Styl")n=new kZ([12,40],a_.stroke.names);
if(p=="PntT")n=new kZ([12,66],a_.stroke.aFE);if(p=="Clr")n=new dX(!0);if(p=="Grad"){n=new a$(!0,this.w_?null:[12,37],!0);
n.q(JSON.parse(a_.Pc.ahO).v)}if(p=="Rvrs")n=new k9([12,23,0]);if(p=="Dthr")n=new k9([12,23,3]);if(p=="Type")n=new kZ(this.w_?null:[12,22],a_.Wi.names.slice(0,this.n_=="FrFX"?6:5));
if(p=="gs99")n=new kZ("Method",["Perceptual","Linear","Classic","Smooth","Stripes"]);if(p=="Ptrn")n=new gk([12,62]);
if(p=="Scl")n=new jT([12,38],5,500,"%",0,!0);if(p=="Algn")n=new k9([12,39]);if(p=="Ofst")n=new kK(!0);
if(p=="phase")n=new kK(!1);if(p=="useShape")n=new k9([12,21]);if(p=="useTexture")n=new k9([12,67]);if(p=="textureDepth")n=new jT([12,34],-300,300,"%");
var c=p=="----"||p=="\n"?p+g:p;if(p=="gs99"&&this.w_)c="gradientsInterpolationMethod";if(n!=null)J[c]=n}return J};
kU.prototype.abz=function(z){var J=this.tF[this.db];for(var g=0;g<z.length;g++){var p=this.ke[z[g]];
if(p&&J.contains(p._))J.removeChild(p._)}};kU.prototype.aAd=function(z){var J=this.tF[this.db];for(var g=0;
g<z.length;g++){var p=this.ke[z[g]];if(p&&!J.contains(p._))J.appendChild(p._)}};kU.prototype.Sc=function(z,J){if(this.ke==null)return;
var p=J==iQ.hl;if(this.ke.Grad){this.ke.Grad.MU(z.Nb,z.Gh);if(p||J==iQ.Hm||J==iQ.uN)this.ke.Grad.fv(z.lX)}if(this.ke.Ptrn){if(p||J==iQ.EA)this.ke.Ptrn.fv(z.r0)}if(this.ke.TrnS){if(p||J==iQ.Io)this.ke.TrnS.fv(z.rV)}if(this.ke.MpgS){if(p||J==iQ.Io)this.ke.MpgS.fv(z.rV)}};
kU.prototype.T=function(){for(var g=0;g<this.anq.length;g++)this.anq[g].T();for(var z in this.ke)if(this.ke[z]instanceof lh)this.ke[z].T()};
kU.prototype.SL=function(){for(var z in this.ke){var J=this.ke[z];J.parent=this;if(J instanceof lh)J.D(b.E.n,this.aEs,this);
if(this.tF.length==0||z=="useShape"||z=="useTexture"){var p=new bm(J.a4X()),n=q.m("div","bordered padded");
if(this.w_==!1){n.appendChild(p._);n.appendChild(q.m("hr",""))}this.anq.push(p);this.tF.push(n);this.fS.push(J)}else this.tF[this.tF.length-1].appendChild(J._)}};
kU.prototype.update=function(z,J){if(this.ke==null)return;this.ML=a.G(J);var p=this.w_?"gradientsInterpolationMethod":"gs99";
if(this.n_=="GrFl"&&J[p]==null)J[p]={t:"enum",v:{gradientInterpolationMethodType:"Gcls"}};for(var n in J){var B=this.ke[n];
if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(n)!=-1)B.q(J[n].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf(n)!=-1){B.q(J[n].v,z)}if(["Md","hglM","sdwM"].indexOf(n)!=-1)B.q(jM.n_.indexOf(J[n].v.BlnM));
if(n=="lrMd"){var c=(J.isFolder?[[15,10,27]]:[]).concat(jM.he),t=(J.isFolder?[1]:[]).concat(jM.jN);B.jE(c,t);
B.q(J[n].v)}if(n=="Angl")B.q([J[n].v.val]);if(n=="lagl"){var u=J.uglg&&J.uglg.v?z.rN():J.lagl.v.val;
B.q([u])}if(n=="Lald"){var u=J.uglg&&J.uglg.v?z.Ch():J.Lald.v.val;B.q([null,u])}if(n==p){var v=a_.Wi.pX.indexOf(J[n].v.gradientInterpolationMethodType);
B.q(v)}if(n=="Type")B.q(a_.Wi.types.indexOf(J.Type.v.GrdT));if(n=="Styl")B.q(a_.stroke.types.indexOf(J.Styl.v.FStl));
if(n=="PntT"){var A=a_.stroke.JU.indexOf(J.PntT.v.FrFl);B.q(A);if(!this.w_){this.abz(a_.Sx.concat(a_.ik.concat(a_.ry)));
this.aAd([a_.Sx,a_.ik,a_.ry][A])}}if(n=="GlwT")B.q(a_.XL.types.indexOf(J.GlwT.v.BETE));if(n=="glwS")B.q(a_.XL.a5r.indexOf(J.glwS.v.IGSr));
if(n=="bvlS")B.q(a_.x1.types.indexOf(J.bvlS.v.BESl));if(n=="bvlT")B.q(a_.x1.aDZ.indexOf(J.bvlT.v.bvlT));
if(n=="bvlD")B.q(["In","Out"].indexOf(J.bvlD.v.BESs))}};kU.prototype.aEs=function(z){var J=this.w_?"gradientsInterpolationMethod":"gs99";
for(var p in this.ke){if(this.ke[p]!=z.target)continue;var n=null,B=!1;if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(p)!=-1)n={type:"#Prc",val:z.target.V()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(p)!=-1)n={type:"#Pxl",val:z.target.V()};if(["Angl","lagl"].indexOf(p)!=-1)n={type:"#Ang",val:z.target.V()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(p)!=-1)n=z.target.V();
if(["Md","hglM","sdwM"].indexOf(p)!=-1)n={BlnM:jM.n_[z.target.V()]};if(p=="uglg"){n=z.target.V();B=!0}if(p=="PntT"){n={FrFl:a_.stroke.JU[z.target.V()]};
B=!0}if(p=="Lald")n={type:"#Ang",val:z.target.V()[1]};if(p==J)n={gradientInterpolationMethodType:a_.Wi.pX[z.target.V()]};
if(p=="Type")n={GrdT:a_.Wi.types[z.target.V()]};if(p=="Styl")n={FStl:a_.stroke.types[z.target.V()]};
if(p=="GlwT")n={BETE:a_.XL.types[z.target.V()]};if(p=="glwS")n={IGSr:a_.XL.a5r[z.target.V()]};if(p=="bvlS")n={BESl:a_.x1.types[z.target.V()]};
if(p=="bvlT")n={bvlT:a_.x1.aDZ[z.target.V()]};if(p=="bvlD")n={BESs:["In","Out"][z.target.V()]};this.GF({j3:p,K:n});
if(B){if(this.w_)this.update(null,this.ML);else{var c=this.parent,t=c.CT,u=this.xn,v=t.U[c.data.w].add.lmfx[a_.in[u[0]]].v[u[1]].v;
this.update(t,v)}}}};kU.prototype.GF=function(z){if(this.ML&&this.ML[z.j3])this.ML[z.j3].v=z.K;if(this.w_){this.a(new cD(b.E.n))}else{z.R="changeprop";
z.w=this.parent.data.w;z.GU=this.xn;var J=new cD(b.E.H,!0);J.data=z;J.l=L.bV;J.iv=!0;this.a(J);this.a(new cD("afterchange",!0))}};
kU.prototype.V=function(){return a.G(this.ML)};kU.CX={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(a_.Sx),GrFl:["enab","Md","Opct"].concat(a_.ik),patternFill:["enab","Md","Opct"].concat(a_.ry),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(a_.Sx.concat(a_.ik.concat(a_.ry)))};
function g0(){cy.call(this,[11,6],"layerstyle");this.aJl=-1;this.data={};this.CT=null;this.f=null;this.e8=[];
this.SJ=[];q.$y(this.body,"flexrow");this.S0=q.m("div","bordered");q.v(this.S0,"min-width:13em;");this.body.appendChild(this.S0);
this.o7=q.m("div","");q.v(this.o7,"width:25em; padding-left: 1em;");this.body.appendChild(this.o7);this.AS=q.m("div","form");
q.v(this.AS,"padding-left: 1em; width:7em;");this.body.appendChild(this.AS);this.Wl=q.gE(this,this.AS);
this.ao3=new eq([12,87],!0,null,!0);this.ao3.D("click",this.a7C,this);this.AS.appendChild(this.ao3._);
this.Xw=new b6;this.Xw.parent=this;this.Xw.D(b.E.n,this.aC0,this);this.AS.appendChild(this.Xw._);this.D("closebtn",this.se,this);
this.D("redrawall",this.aBS,this)}g0.prototype=new cy;g0.prototype.pf=function(){return!0};g0.prototype.AY=function(){return!0};
g0.prototype.lW=function(z,J,p,n,B){var c=this.GD();if(c)c.lW(z,J,p,n,B)};g0.prototype.dV=function(z,J,p,n,B){var c=this.GD();
if(c)c.dV(z,J,p,n,B)};g0.prototype.mI=function(z,J,p,n,B){var c=this.GD();if(c)c.mI(z,J,p,n,B)};g0.prototype.GD=function(z){if(z==null)z=this.data.index;
return z==null?null:z==0?this.e8[0]:this.SJ[z[0]][z[1]]};g0.prototype.aC0=function(z){var J=this.Xw.V();
this.GF({R:"setstl",K:J.pY});this.aBS(null)};g0.prototype.a7C=function(z){var J=this.CT,p=this.data.w;
if(p==null)p=J.Y[0];var n=this.CT.U[p],B=ju.ahP(n),c=new cD(b.E.c,!0);c.data={R:b.J.bS,c$:"add",Xu:iQ.wi,wo:[a.G(B)]};
this.a(c)};g0.prototype.a09=function(z){this.data.index=z.currentTarget.xn;this.dw(z.currentTarget.xn)};
g0.prototype.aBS=function(z){this.DK(this.CT,this.data)};g0.prototype.dw=function(z,J){q.X0(this.o7);
for(var g=0;g<this.e8.length;g++)this.e8[g].anW();var p=this.GD(z);this.o7.appendChild(p.ack());if(J)p.ah();
var n=this.CT;if(n){var B=n.U[this.data.w];this.e8[0].update(n,L.Wp.Yb(n,B));var c=B.add.lmfx;if(c==null)return;
for(var g=0;g<a_.order.length;g++){var t=c[a_.in[g]].v;for(var u=0;u<t.length;u++)this.SJ[g][u].update(n,t[u].v)}}if(J)p.ah()};
g0.prototype.T=function(){cy.prototype.T.call(this);this.ao3.T();this.Xw.T();this.Wl.T();for(var g=0;
g<this.e8.length;g++)this.e8[g].T()};g0.prototype.DK=function(z,J){var p=J.w==null;this.data.w=J.w;this.data.index=J.index;
J=this.data;this.CT=z;if(p)J.w=z.Y.length==0?z.U.length-1:z.Y[0];q.X0(this.S0);var n=z.U[J.w].add.lmfx;
this.SS();this.e8=[new kU("bops",!1,0)];this.SJ=[];for(var g=0;g<a_.order.length;g++){this.SJ.push([]);
var B=n==null?[]:n[a_.in[g]].v;for(var c=0;c<B.length;c++){var t=new kU(a_.order[g],!1,[g,c]);this.e8.push(t);
this.SJ[g].push(t)}if(B.length==0){var t=new kU(a_.order[g],!1,[g,0]);this.e8.push(t);this.SJ[g].push(t)}}this.T();
this.aJ1(this.f,iQ.hl);for(var g=0;g<this.e8.length;g++){this.e8[g].parent=this;this.e8[g].a9Z(this.S0);
this.e8[g].D("showme",this.a09,this)}if(J.index==null||J.index==0||!p&&n[a_.in[J.index[0]]].v.length==0){this.dw(0)}else this.dw(J.index,p);
this.D("afterchange",this.SS,this)};g0.prototype.SS=function(z){var J=this.CT,p=this.data.w;if(p==null)p=J.Y[0];
var n=this.CT.U[p],B=ju.ahP(n);this.Xw.q(B,J.add.Patt?J.add.Patt:[],J.rN(),J.Ch())};g0.prototype.Sc=function(z,J){this.f=z;
this.aJ1(z,J);if(J==iQ.wi||J==iQ.hl){this.Xw.fv([z.Z9,z.r0])}if(J==iQ.e_){}};g0.prototype.aJ1=function(z,J){for(var g=0;
g<this.e8.length;g++)this.e8[g].Sc(z,J)};g0.prototype.se=function(z){this.GF({R:"cancel"})};g0.prototype.Fs=function(z){this.GF({R:"confirm"});
this.close()};g0.prototype.GF=function(z){z.w=this.data.w;var J=new cD(b.E.H,!0);J.data=z;J.l=L.bV;J.iv=!0;
this.a(J);this.SS()};g0.akl=function(){var z=function(J){if(J==null||J.Y.length==0)return{e:!1};var p=J.U[J.Y[0]];
return{e:p.add.lmfx!=null}};return{name:[11,6],$h:!0,sub:[{name:[5,1],e:z},{name:[5,2]},{name:[2,2],e:z}]}};
g0.aIg=function(){return{sub:[{g:b.E.H,l:L.bV,d:{R:"st_copy"}},{g:b.E.H,l:L.bV,d:{R:"st_paste"}},{g:b.E.H,l:L.bV,d:{R:"st_clear"}}]}};
g0.VG=function(z){var J=[{name:[14,10],$h:!0}];for(var g=0;g<a_.names.length;g++)J.push({name:a_.names[g]});
if(z){J[J.length-1].$h=!0;J.push(g0.akl());J.push({name:[6,30,1],e:function(p){return{e:p!=null&&p.Y.length!=0&&p.U[p.Y[0]].p3()}}});
J.push({name:["VAR0 VAR1",[12,49],[9,1]],e:function(p){return{e:p!=null&&p.Y.length!=0&&p.U[p.Y[0]].add.lmfx!=null}}})}return J};
g0.wL=function(z){var J=[{g:b.E.c,d:{R:b.J.Ym,i9:"layerstyle"}}];for(var g=0;g<a_.names.length;g++)J.push({g:b.E.c,d:{R:b.J.Ym,i9:"layerstyle",index:[g,0]}});
if(z){J.push(g0.aIg());J.push({g:b.E.c,d:{R:b.J.Ym,i9:"scaleeffects",PY:100,sm:{g:b.E.H,l:L.bV,d:{R:"scaleeffects"}}}});
var p={classID:"Mk",null:dB.DG("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
J.push({g:b.E.wR,d:{rK:"make",m$:p}})}return J};g0.axS=function(z){var J=[];if(z)J.push({name:[6,48,0,0],wp:!0},{name:[6,48,0,1],wp:!0},{name:[6,48,0,2],wp:!0,$h:!0});
for(var p in fs.names)J.push({name:fs.names[p],$h:fs.a78.indexOf(p)!=-1,wp:ks[p]!=null});return J};g0.AZ=function(z){var J=[];
if(z){J.push({g:b.E.H,l:L.d9,d:{R:"newfill",iQ:0}});for(var g=1;g<3;g++)J.push({g:b.E.wR,d:L.Fz.tR(g)})}for(var p in fs.names){var n=em.J0(p);
if(n==null)n={};for(var B in fs.Po)if(fs.Po[B]==p)n.classID=B;var c={rK:"make",m$:{classID:"Mk",null:dB.DG("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:n}}}}};
J.push({g:b.E.wR,d:c})}return J};function gA(){cy.call(this,"Merge Channels","mergechannels");this.U4=null;
var z=q.m("div","form");this.body.appendChild(z);this.Nt=[];for(var g=0;g<3;g++){var J=new kZ(fs.io[g],[]);
this.Nt.push(J);z.appendChild(J._);q.Uk(z)}this.Wl=q.gE(this,z)}gA.prototype=new cy;gA.prototype.T=function(){cy.prototype.T.call(this);
this.Wl.T();for(var g=0;g<3;g++)this.Nt[g].T()};gA.prototype.DK=function(z,J,p,n){this.U4=p;var B=[];
for(var g=0;g<p.length;g++)B.push(p[g].name);for(var g=0;g<3;g++){var c=this.Nt[g];c.jE(B);c.q(Math.min(g,p.length-1))}};
gA.prototype.Fs=function(z){var J=this.U4,p=J[0],n=new cD(b.E.wR,!0);n.data=b$.IP(p.r,p.$,p.Ge,"Merged Document","Wht",!1);
this.a(n);var B=[];for(var g=0;g<3;g++)B.push(J[this.Nt[g].V()].dT());var p=J[J.length-1],c=p.U[0],t=c.buffer;
for(var g=0;g<t.length;g+=4){t[g]=B[0][g];t[g+1]=B[1][g];t[g+2]=B[2][g]}c.qM();p.qM();this.close()};
function er(){cy.call(this,[1,10],"script");var z=q.m("div","form");q.v(z,"width:44em");this.body.appendChild(z);
this.f=null;this.cm=[];this.G9=[];this.aos;var J=this.vA=new eq([1,2],!1,null,!0);J.D("click",this.f4,this);
z.appendChild(J._);var p=new eq("JS Reference",!1,null,!0);p.D("click",this.as0,this);z.appendChild(p._);
z.appendChild(new bm("Demos:")._);this.a6O=[];var n=er.AC;for(var g=0;g<n.length;g++){var B=new eq(n[g].A$,!1,null,!0);
this.a6O.push(B);z.appendChild(B._);B.D("click",this.aek,this)}this.B8=q.m("textarea");q.Uj(this.B8);
this.B8.setAttribute("rows",16);q.v(this.B8,"display:block;tab-size:4; font-family:monospace;width:100%;");
z.appendChild(this.B8);var c=new eq("Run",!0,null,!0);c.D("click",this.Fs,this);z.appendChild(c._);this.ex=q.m("div");
z.appendChild(this.ex)}er.prototype=new cy;er.prototype.T=function(){this.vA.T()};er.prototype.f4=function(){var z=this.aos;
if(z==null)z="script.jsx";var J=new cD(b.E.c,!0);J.data={R:b.J.Ym,i9:"namewindow",PY:z.slice(0,z.length-4),RD:this.aG2.bind(this)};
this.a(J)};er.prototype.aG2=function(z){var J=this.B8.value,p=e.Hu(J),n=new cD(b.E.c,!0);n.data={R:b.J.Yq,ea:p.buffer,y0:z+".jsx",aws:!0};
this.a(n)};er.prototype.a3X=function(z){var g=this.cm.indexOf(z.target),J=this.aos=this.G9[g],p=this.f.P$.ZU[J],n=new Uint8Array(p),B=e.A8(n,0,n.length);
this.B8.value=B};er.prototype.DK=function(z,J,p){this.B8.value=er.AC[0].Nw;this.api()};er.prototype.api=function(){var z=this.f.P$,J=this.ex;
q.X0(J);this.cm=[];this.G9=[];J.textContent="Saved scripts: ";for(var p in z.ZU){if(p.endsWith(".jsx")){var n=new eq(p,!1,null,!0);
this.cm.push(n);this.G9.push(p);n.D("click",this.a3X,this);J.appendChild(n._)}}};er.prototype.Sc=function(z,J){this.f=z;
if(J==iQ.Bz)this.api()};er.prototype.as0=function(z){var J=new cD(b.E.c,!0);J.data={R:b.J.SE,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.a(J)};er.prototype.Fs=function(z){var J=this.B8.value,p=this.f.P$.ZU;J=er.atx(J,p);var n=new cD(b.E.c,!0);
n.data={R:b.J.$W,w0:J};this.a(n)};er.atx=function(z,J){var p=z.split("\n");for(var g=0;g<p.length;g++){var n=p[g].trim();
if(n.startsWith("#include")){var B=n.slice(n.indexOf("\"")+1,n.lastIndexOf("\"")),c=J[B];if(c==null)alert("\""+B+"\" not found in the Local Storage");
p[g]=er.atx(e.A8(new Uint8Array(c)),J)}}return p.join("\n")};er.prototype.aek=function(z){var J=this.a6O.indexOf(z.currentTarget);
this.B8.value=er.AC[J].Nw};er.AC=[{A$:"Hello",Nw:"\nalert(\"Hello Photopea!\");\n"},{A$:"Process Layers",Nw:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{A$:"Clone Layers",Nw:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function g$(){cy.call(this,[11,7],"newproject");this.data=null;this.U4=null;this.Fd=0;var z=this.lj=q.m("div","flexrow");
this.body.appendChild(z);var J=this.xl=q.m("div","form");z.appendChild(J);this.jr=new dz([12,48],null,10);
J.appendChild(this.jr._);q.Uk(J);this.vz=new iD(!0,null,null,ex==1,!0);this.vz.q(new i_(1280,720),72);
if(ex==1){this.vz.q(new i_(8.3*72,11.7*72),72);this.vz.ga(4)}this.vz.aHc(!0,!0);this.vz.D(b.E.n,this.jZ,this);
J.appendChild(this.vz._);this.zl=new eT;this.zl.parent=this;if(ex==0){q.Uk(J);J.appendChild(this.zl._)}this.UM=new kZ([13,6],b$.uy);
this.fl=new kZ(null,["8 bit","16 bit","32 bit"]);this.axr=new k9([1,16,1]);if(ex==0){J.appendChild(this.axr._);
q.Uk(J);J.appendChild(this.UM._);J.appendChild(this.fl._)}this.jr.Xz();this.vz.Xz();this.zl.Xz();this.UM.Xz();
this.fl.Xz();this.Wl=new eq([12,49],!0,null,!0);this.Wl.D("click",this.Fs,this);this.Wl._.style.marginBottom="20px";
J.appendChild(this.Wl._);var p=this.Nr=q.m("div","form");J.appendChild(this.Nr);var n=g$.HY,B=[];for(var g=0;
g<n.length;g++)B.push(n[g].name);this.eV=new fD(null,B);if(ex==1)this.eV.q(1);this.eV.D(b.E.n,this.YY,this);
p.appendChild(this.eV._);this.Wo=new en(!0);this.Wo.D(b.E.n,this.abD,this);p.appendChild(this.Wo._);
this.YY();this.FS=new gY;this.FS.parent=this;q.v(this.FS._,"margin-right:20px");this.FS.D("tempready",this.aKc,this);
this.Cl=this.Nr;this.a0K=new eq([25,0],null,null,!0);this.a0K.D("click",function(){var c;if(this.Cl==this.Nr){this.Cl=this.FS._;
c=[11,10]}else{this.Cl=this.Nr;c=[25,0]}this.a0K.MM(c);this.B$(this.Tx,this.tK-.001)},this)}g$.prototype=new cy;
g$.prototype.ahY=function(z){var J=this.uk,p=J.style.display!="none";J.style.display=p?"none":"";this.$d.MM(p?"\u02C5":"\u02C4");
this.B$(this.Tx,this.tK-.001)};g$.prototype.Sc=function(z,J){this.FS.Sc(z)};g$.prototype.k9=function(z,J){return new i_(Math.max(0,Math.min(70,(z-690)/2)),z>J?Math.max(0,Math.min(50,(J-400)/2)):0)};
g$.prototype.B$=function(z,J){if(this.Tx==z&&this.tK==J)return;this.Tx=z;this.tK=J;var p=this.lj,n=this.Nr,B=this.FS._,c=this.xl,t=330,u=500;
q.X0(p);if(n.parentNode)n.parentNode.removeChild(n);if(B.parentNode)B.parentNode.removeChild(B);this.Wo._.style.height=J-54-(z<730?30:0)+"px";
n.style.marginRight="20px";var v=this.a0K._;if(1100<z){u=(z-t)/2-32;p.appendChild(this.FS._);this.FS.B$(u,J-28);
p.appendChild(n);p.appendChild(this.xl)}else if(520<z){if(z<750)t=280;u=z-t-44;p.appendChild(this.Cl);
p.appendChild(v);q.v(v,"position:fixed; right:"+(t+40)+"px; bottom:20px;");p.appendChild(this.xl);if(this.Cl==B)this.FS.B$(u,J-27)}else{t=z-26;
u=t;n.style.marginRight="";c.appendChild(this.Cl);c.appendChild(v);q.v(v,"position:fixed; right:16px; bottom:20px;");
p.appendChild(this.xl);var A=J-412+(ex==0?0:120);this.Wo._.style.height=A+"px";if(this.Cl==B)this.FS.B$(u,A+27)}q.v(c,"width:"+t+"px; line-height:3em;");
n.style.width=u+"px";this.YY(null,u)};g$.prototype.jZ=function(){this.FS.q(this.vz.V())};g$.prototype.abD=function(z){var J=this.Wo.V()[0],p=g$.HY[this.eV.V()].pm[J],n=p[4];
if(n==0||ex==1)n=72;var B=p[1],c=p[2],t=["px","%","mm","in"].indexOf(p[3]),u=[1,1,25.4/n,1/n][t];B/=u;
c/=u;this.vz.q(new i_(Math.round(B),Math.round(c)),n);this.vz.ga(t);this.jZ();if(Date.now()-this.Fd<300)this.Fs();
else j8.event("ndoc_Size click",.1);this.Fd=Date.now()};g$.prototype.YY=function(z,J){if(J==null)J=this.aK8;
else this.aK8=J;if(J==null)return;var p=J<360?2:J<600?3:4,n=(J-5)/p-5,B=g$.HY[this.eV.V()].pm,c=[],t=[],u=Math.floor(n*q.$q()),v=Math.floor(n*q.$q()),A=0;
for(var g=0;g<B.length;g++)A=Math.max(A,B[g][1],B[g][2]);for(var g=0;g<B.length;g++){var $=B[g],X=$[1]+" x "+$[2]+" "+$[3];
if($[3]=="in")X=($[1]*25.4).toFixed(0)+" x "+($[2]*25.4).toFixed(0)+" mm";if($[3]=="mm")X=($[1]/25.4).toFixed(1)+" x "+($[2]/25.4).toFixed(1)+" in";
if($[4])X=X+" @ "+$[4]+" ppi";t.push(X);c.push(g$.ky($,u,v,A))}this.Wo.VK(c,t,u,v)};g$.ky=function(z,J,p,n){var B=a.za(J,p),c=Math.round(J/8),t=Math.floor(13*q.$q()),u=z[1],v=z[2];
B.fillStyle="#000000";B.font=Math.round(t*.9)+"px \"Open Sans\", Sans-Serif";var A=u+" x "+v+" "+z[3],$=B.measureText(A);
B.fillText(A,Math.round((J-$.width)/2),p-Math.round(c/2));if(z[0]!=null){B.font="bold "+t+"px \"Open Sans\", Sans-Serif";
var A=z[0],$=B.measureText(A);B.fillText(A,Math.round((J-$.width)/2),p-Math.round(c/2)-Math.round(t*1.3))}var X=p-Math.round(2.5*t),U=Math.min((J-c)/u,(X-c)/v);
U*=.5+.5*(Math.max(u,v)/n);var w=(J-u*U)/2,P=(X-v*U)/2;B.strokeRect(Math.round(w)+.5,Math.round(P)+.5,Math.round(u*U),Math.round(v*U));
var k=B.getImageData(0,0,J,p).data;return kL.s0(k.buffer,J,p,null,null,!0)};g$.prototype.T=function(){cy.prototype.T.call(this);
this.vz.T();this.jr.T();this.zl.T();this.Wl.T();this.jr.q(j0.get([11,7]));this.eV.T();this.UM.T();this.fl.T();
this.axr.T();this.FS.T()};g$.prototype.Fs=function(z){j8.event("ndoc_Create click",.1);var J=this.vz.V(),p=J.x,n=J.y;
this.close();var B=this.zl.V(),c=b$.Xj[this.UM.V()],t=new cD(b.E.wR,!0);t.data=b$.IP(p,n,this.vz.I0(),this.jr.V(),["Wht","Blck","Trns","Clr"][B[0]],this.axr.V(),B[1],c,8<<this.fl.V());
this.a(t);this.aJw()};g$.prototype.aKc=function(z){j8.event("ndoc_Template click",.1);var J=z.data.CT;
J.Ge=this.vz.I0();var p=new cD(b.E.c,!0);p.data={R:b.J.Rt,CT:J};this.a(p);this.close();this.aJw()};g$.prototype.aJw=function(){var z=this.U4[this.U4.length-1],J=this.data.aCW;
if(J)kr.h2(function(){var p=new XMLHttpRequest,n="https://www.googleapis.com/drive/v3/files?"+kr.asf();
p.open("POST",n,!0);p.setRequestHeader("Content-Type","application/json");p.addEventListener("load",function(B){var c=JSON.parse(B.target.response);
z.vy={file:c,va:"psd"};alert(z.name+" created in Google Drive")});p.send(JSON.stringify({name:z.name,ajV:[J]}))})};
g$.prototype.DK=function(z,J,p,n){this.U4=p;if(z!=null&&z.M!=null){var B=new fw(0,0,z.r,z.$).ly(z.M.S);
this.vz.q(new i_(B.r,B.$))}this.data=J;this.jZ();if(q.Cm())jo.apF(this.EW.bind(this))};g$.prototype.EW=function(z){if(z=="granted")jo.E8(this,this.Wn.bind(this))};
g$.prototype.Wn=function(z,J){this.vz.q(new i_(J.r,J.$))};g$.HY=[{name:"Social",pm:[["FB Page Cover",1640,664,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Insta Portrait",1080,1350,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],pm:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],pm:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],pm:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],pm:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],pm:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",pm:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function e$(z,J,p){cy.call(this,J,"sel_"+z);this.R=z;var n=q.m("div","form");this.body.appendChild(n);
this.jr=new kW(J,0,255,null,0,!1,!0);n.appendChild(this.jr._);this.jr.q(1);this.jr.D(b.E.n,this.fk,this);
var B=q.m("span");B.textContent=p;n.appendChild(B);q.Uk(n);this.abh=new k9("Apply at canvas bounds");
if(z!="border")n.appendChild(this.abh._);this.Wl=q.gE(this,n);this.D("closebtn",this.Kw,this)}e$.prototype=new cy;
e$.prototype.zI=function(z,J){if(z==null)return;if(z.M==null)alert("No selection!");return z.M!=null};
e$.prototype.Kw=function(){var z=new cD(b.E.H,!0);z.l=L.Mj;z.data={R:"h_undoredo"};this.a(z)};e$.prototype.fk=function(z,J,p){if(J==null)this.Kw();
var n=new cD(b.E.wR,!0);n.data=L.gL.dR(this.R,this.jr.V(),this.abh.V());n.iv=!0;if(p!=!0)n.data.awv=!0;
this.a(n)};e$.prototype.Fs=function(z){this.fk(null,null,!0);this.close()};e$.prototype.T=function(){cy.prototype.T.call(this);
this.Wl.T();if(this.jr)this.jr.T()};e$.prototype.DK=function(z,J){this.jr.wZ();this.fk(null,!0)};function im(z,J,p,n,B,c){cy.call(this,p,J);
this.azV=c;this.Vw=B;this.HY=null;this.xl=q.m("div","form");this.body.appendChild(this.xl);this.a0V=q.m("div");
this.xl.appendChild(this.a0V);var t=500;if(n){var u=n.split(",");n=u[0];if(u[1])t=parseFloat(u[1])}this.jr=z==0?new dz(p,null,10):z==1?new jT(p,0,t,n,1):new dz(p,null,24,5);
this.jr.D(b.E.n,this.fk,this);this.xl.appendChild(this.jr._);this.Wl=q.gE(this,this.xl);this.D("closebtn",this.se,this)}im.prototype=new cy;
im.prototype.k9=function(z,J){return new i_(Math.max(0,Math.min(150,(z-250)/2)),Math.max(0,Math.min(150,(J-120)/2)))};
im.prototype.pf=function(){return this.azV};im.prototype.fk=function(z){var J=this.jr.V();if(this.Vw)this.mc(J)};
im.prototype.se=function(z){if(this.Vw)this.mc("cancel")};im.prototype.Fs=function(z){if(this.Vw)this.mc("confirm");
else this.mc(this.jr.V());this.close()};im.prototype.mc=function(z){if(this.HY.RD)this.HY.RD(z);else if(this.HY.sm){var J=this.HY.sm,p=new cD(J.g,!0);
p.l=J.l;p.data=J.d;p.data.K=z;p.iv=!0;this.a(p)}};im.prototype.T=function(){cy.prototype.T.call(this);
this.Wl.T();if(this.jr)this.jr.T()};im.prototype.DK=function(z,J){this.HY=J;this.jr.q(J.PY);this.jr.wZ();
this.a0V.innerHTML=J.as$?J.as$:"";this.fk(null)};function aX(){cy.call(this,[1,5],"open_from_url");this._z=null;
var z=q.m("div","form");this.body.appendChild(z);this.a4c=new dz("URL",null,22);z.appendChild(this.a4c._);
q.Uk(z);this.a2d=new fD([21,0],[[21,2],[21,1]]);z.appendChild(this.a2d._);this.Wl=q.gE(this,z)}aX.prototype=new cy;
aX.prototype.T=function(){cy.prototype.T.call(this);this.Wl.T();this.a2d.T()};aX.prototype.DK=function(z,J,p){this.a4c.wZ();
this._z=null;if(z&&p.indexOf(z)!=-1)this._z=p.indexOf(z)};aX.prototype.Fs=function(z){var J=new cD(b.E.c,!0),p=this.a4c.V();
J.data={R:b.J.Je,Xu:{url:p,Ut:!0,_z:this.a2d.V()==1?this._z:null}};this.a(J);this.close()};function eO(){cy.call(this,[12,79],"preferences");
this.f=null;var z=q.m("div","form");z.style.width="290px";this.body.appendChild(z);this.CX=[new k9([8,2]),new dX,new dX,new k9([8,4]),new dX,new kZ([12,80,3],[[12,93,3],[12,80,4]]),new kW(["VAR0 X",[12,80,5]],.02,200,null,2),new kZ(null,a.DM.mi),new kW(["VAR0 Y",[12,80,5]],.02,200,null,2),new kW("Subdivision",1,10),new kZ([12,80,6],a.DM.mi),new kZ([12,14,1],[[12,14,2],[12,14,3],"Bicubic Sharper"]),new k9("Zoom with Scroll Wheel"),new k9("Glass Menus"),new kW("Cursor Offset",0,200),new dz("Dezgo API Key")];
for(var g=0;g<this.CX.length;g++){var J=this.CX[g];J.parent=this;J.D(b.E.n,this.v1,this);if(g==2){var p=new bm("Local guides:");
z.appendChild(p._)}z.appendChild(J._);if(g!=0&&g!=1&&g!=3&&g!=4&&g!=6&&g!=8)q.Uk(z);if(g==2||g==9||g==10)q.qk(z)}}eO.prototype=new cy;
eO.prototype.T=function(){cy.prototype.T.call(this);for(var g=0;g<this.CX.length;g++)this.CX[g].T()};
eO.prototype.DK=function(z,J,p){};eO.prototype.Sc=function(z,J){this.f=z;var p=z.Uc;this.CX[0].q(p.r_);
this.CX[1].TT(p.tO);this.CX[2].TT(p.ab);this.CX[3].q(p.eQ);this.CX[4].TT(p.Gc);this.CX[5].q(p.Ku);this.CX[6].q(p.rq);
this.CX[7].q(p.LK);this.CX[8].q(p.WL==0?p.rq:p.WL);this.CX[9].q(p.bB);this.CX[10].q(p.zk);var n=window.locStor.getItem("__itp");
this.CX[11].q(n==null?1:n);var B=window.locStor.getItem("__zwh");this.CX[12].q(B==1);var c=window.locStor.getItem("__glm");
this.CX[13].q(c=="1");this.CX[14].q(z.bH);var t=window.locStor.getItem("__dak");this.CX[15].q(t?t:"")};
eO.prototype.v1=function(z){var J=this.CX,p=a.G(this.f.Uc);p.r_=J[0].V();p.tO=J[1].BG();p.ab=J[2].BG();
p.eQ=J[3].V();p.Gc=J[4].BG();p.Ku=J[5].V();p.rq=J[6].V();p.LK=J[7].V();if(z.target==J[6]){J[8].q(J[6].V());
p.WL=0}else p.WL=J[8].V();p.bB=J[9].V();p.zk=J[10].V();var n=window.locStor;n.setItem("__itp",J[11].V());
n.setItem("__zwh",J[12].V()?"1":"0");n.setItem("__glm",J[13].V()?"1":"0");this.f.bH=J[14].V();var B=J[15].V();
if(B=="")n.removeItem("__dak");else n.setItem("__dak",B);var c=new cD(b.E.c,!0);c.data={R:b.J.bS,Xu:iQ.nc,gW:p};
this.a(c)};function hI(){cy.call(this,[11,8],"saveforweb");this.aHe="";this.D("closebtn",function(){this.bi.tV()},this);
this.CT=null;this.jW=null;this.ahc=null;this.f=null;q.$y(this.body,"flexrow");this.body.style.padding="0";
var z=q.m("div");q.v(z,"position:relative;");var J=q.m("div");this.body.appendChild(z);this.body.appendChild(J);
this.BA=q.m("div","imgcont");z.appendChild(this.BA);this.bi=new eQ;this.bi.B$(512,512);var p=this.LN=q.m("video");
p.setAttribute("controls","");p.setAttribute("preload","auto");p.setAttribute("loop","");this._Z=q.m("div");
q.v(this._Z,"position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
z.appendChild(this._Z);var n=this.xl=q.m("div","form cell");q.v(n,"width:195px; padding:9px 13px;");
J.appendChild(n);this.N4=new dz([12,48],null,7.6);this.N4.Xz();n.appendChild(this.N4._);var B=kL.vj();
B[B.indexOf("WEBP")]="webP";this.Ew=new kZ([12,50],B);this.Ew._.style.marginRight="0";this.Ew.Xz();n.appendChild(this.Ew._);
this.Ew.D(b.E.n,this.tj,this);q.Uk(n);this.vz=new iD(!0,!0,!1,!0);this.vz.Xz();this.vz.D(b.E.n,this.tj,this);
this.vz.gQ._.style.paddingBottom="8px";n.appendChild(this.vz._);this.Em=new gq;this.Em.D(b.E.n,this.tj,this);
n.appendChild(this.Em._);this.Sn=new eq([1,2],!1,null,!0);this.Sn.D("click",this.Fs,this);n.appendChild(this.Sn._);
this.$d=new eq("...",!1,null,!0);this.$d.D("click",this.Fs,this);n.appendChild(this.$d._)}hI.prototype=new cy;
hI.prototype.zI=function(z,J){return z!=null};hI.prototype.T=function(){cy.prototype.T.call(this);this.vz.T();
this.N4.T();this.Ew.T();this.Em.T();this.Sn.T()};hI.prototype.Fs=function(z){var J=this.N4.V().trim(),p=kL.vj()[this.Ew.V()],n=p=="JPG"||p=="PNG"||p=="GIF"||p=="SVG"||p=="WEBP",B=kL.V5(p),c="."+p.toLowerCase(),t=this.jW,u=J+c,v=this.CT,A=v.Cy,$=this.Em.V(),X=A.length!=0&&n?$.slcs:0;
if(X!=0){var U=[],w={},P=new fw(0,0,v.r,v.$),k=a.hg(v.dT(),8);for(var g=0;g<A.length;g++)U.push(L.Xk.nQ(A,g));
U.reverse();var T=a.S.a4a([0,0,v.r,v.$],U),Z=[];for(var g=0;g<T.length;g++){var i=T[g],V=new fw(i[0],i[1],i[2]-i[0],i[3]-i[1]),lj=""+(g+1);
if(lj.length<2)lj="0"+lj;lj=J+"_"+lj;if(i[4]!=null&&A[i[4]].v.Nm)lj=A[i[4]].v.Nm.v;var _="images/"+lj+c;
Z.push(_);if(X==2&&i[4]==null)continue;var y=a.j(V.C()*4);a.nk(k,P,y,V);if(w[_]){alert("There are multiple slices with a name \""+lj+"\"");
return}w[_]=new Uint8Array(B.D6([[y.buffer,0,v.Ge,v.UD]],V.r,V.$,$))}Z.push("images/spacer.gif");var E="<html>\n<head>\n<title>"+J+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
E+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
E+="<!-- Save for Web Slices ("+v.name+") -->\n";E+=a.S.azD(T,Z,A,X)+"\n";E+="<!-- End Save for Web Slices -->\n";
E+="</body>\n</html>\n";var F=a.j(Math.round(E.length*1.5)),d=e.M2(E,F,0);w["index.html"]=F.slice(0,d);
t=UZIP.encode(w);u=J+".zip"}else if(v.aD9()&&n&&$.artb){var x=[],P,k;if(ex==0){P=new fw(0,0,v.r,v.$);
k=a.hg(v.dT(),8);var f=v.root.children;for(var g=0;g<f.length;g++){var Q=f[g].w;if(Q.add.artb==null||!Q.LE())continue;
x.push([Q.getName(),Q.x0()])}}else{P=v.Ar();k=new Uint8Array(v.u5(this.f));var m=v.add.arts;for(var g=0;
g<m.length;g++){var H=m[g];x.push([H.y0,a.b._g(H.J4)])}}var w={};for(var g=0;g<x.length;g++){var S,H=x[g][1];
if(p=="SVG")S=new Uint8Array(B.D6(v,H.r,H.$,$,this.f,g));else{var R=a.j(H.C()*4);console.log(P,H);a.nk(k,P,R,H);
S=new Uint8Array(B.D6([[R.buffer,0,v.Ge,v.UD]],H.r,H.$,$))}w[x[g][0]+c]=S}t=UZIP.encode(w);u=J+".zip"}var I=z&&z.target==this.$d,D=function(){if(v.ia)jo.l1("act=1&id="+v.ia);
this.bi.tV();this.close();var c=kL.vj()[this.Ew.V()];j8.event("efmt_"+c.toLowerCase(),.1);var C=new cD(b.E.c,!0);
C.data={R:b.J.L1,data:t,name:u};if(I){C.data={R:b.J.Ym,i9:"storwindow",th:1,xv:u,cS:t}}this.a(C)}.bind(this);
v.xb();if(!this.f.jR||j8.x_()){D();return}var G=hx.Ue()!=0;D();var C=new cD(b.E.c,!0),O=iX.fb("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),Y=iX.fb(";QJXQ_*II9"),h=function(){C.data={R:b.J.Ym,i9:"account"};
this.a(C)}.bind(this);if(G){O=iX.fb("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
h=function(){};Y=null}C.data={R:b.J.Ym,i9:iX.ii,K:O,RD:h,aEB:Y};if(Math.random()<.1||G)this.a(C)};hI.prototype.DK=function(z,J){if(J.tS!=null)this.Ew.q(J.tS);
this.CT=z;var p=this.CT.name,n=p.lastIndexOf("."),p=n==-1?p:p.slice(0,n);this.N4.q(p);var B=z.r,c=z.$;
if(ex==1){var t=z.Ar();B=t.r;c=t.$}var u=B+","+c;if(u!=this.aHe){this.aHe=u;this.vz.q(new i_(B,c),z.Ge)}this.Em.aFz();
this.tj(null,!0);if(J.a7H){this.vz.ga(3);var v=this.Em.V();v.rall=!0;this.Em.q(v)}this.Sn._.focus()};
hI.prototype.aik=function(z,J){return z<J&&z<660};hI.prototype.k9=function(z,J){return this.aik(z,J)?new i_(0,0):new i_(Math.max(0,Math.min(150,(z-770)/2)),Math.max(0,Math.min(150,(J-590)/2)))};
hI.prototype.B$=function(z,J,p){this.Tx=z;this.tK=J;if(this.CT==null)return;var n=this.Sn._,B=this.aik(z,J),c,t,U="<span style=\"width:",w="display:inline-block; text-align:right;\">";
if(B){var u=this.xl.getBoundingClientRect().height;c=z;t=J-Math.max(u,252);q.Om(this.body,"flexrow")}else{c=Math.min(512,z-195-2*13);
t=Math.min(512,J-24);q.$y(this.body,"flexrow")}var v=B?z-2*13:195;this.xl.style.width=v+"px";this.N4.d5.style.width=v-78+"px";
this.vz.B$(v-1);this.Sn._.style.width=v-28+"px";this.$d._.style.marginRight="0";var A=kL.vj()[this.Ew.V()],$=kL.V5(A);
if($.xG||$.lf)q.v(this.BA.firstChild,"display:block; width:"+c+"px; height:"+t+"px;");else{this.bi.B$(c,t);
this.LN.width=c;this.LN.height=t}if(this.jW==null)return;var X=this.jW.byteLength,P=U+64+"px;"+w+hI.dB(X)+"</span>";
if(c>400)P+=U+90+"px; opacity:"+.5+";"+w+X.toLocaleString()+" B</span>";this._Z.innerHTML=P;if(p)setTimeout(function(){this.B$(this.Tx,this.tK)}.bind(this),20)};
hI.dB=function(z){var J=z.toString(2),p=0;while(p+10<J.length)p+=10;var n=(z/Math.pow(2,p)).toFixed(1);
if(n.endsWith(".0"))n=n.slice(0,-2);var B="B KB MB GB TB PB".split(" ")[Math.floor(p/10)];return n+" "+B};
hI.prototype.Sc=function(z,J){this.f=z};hI.prototype.tj=async function(z,J){var p=this.CT,n=this.vz.V(),B=n.x,c=n.y,t=this.Ew.V(),u=kL.vj()[t],v=kL.am6(p)[0].length,A=["GIF","PNG","WEBP","MP4"].indexOf(u)!=-1&&v>1,k="";
if(A&&u!="MP4"&&J&&(v>4&&B*c>1024*1024||B*c*v>800*800*50)){var $=1;while(Math.max(B>>>$,c>>>$)>800)$++;
var X=window.confirm("Your animation is large ("+B+" x "+c+" px). Press \"OK\" to scale it to "+(100>>>$)+"%. Press \"Cancel\" to keep the size.");
if(X){this.vz.q(new i_(B>>>$,c>>>$),null,!0);B=B>>>$;c=c>>>$}}var U=p.JM();this.Em.RL(u,A,p.Cy.length!=0,p.aD9(),U!=null&&p.depth!=32,p.b8.length!=0,p.depth);
var w=window.locStor.getItem("sfwPrms");if(w==null)w={};else{w=JSON.parse(w);if(w.MP4&&w.MP4.qual==100)w.MP4.qual=50}var P=this.Em.V();
if(z&&z.target==this.Em){w[u]=P;window.locStor.setItem("sfwPrms",JSON.stringify(w))}else if(w[u]){this.Em.q(w[u]);
P=this.Em.V()}this.jW=await kL.Pk(p,u,B,c,P,this.f);if(this.jW==null){this.CT=null;return}q.X0(this.BA);
this.bi.tV();var T=kL.V5(u);if(T.lf){this.BA.innerHTML="<div></div>"}else if(T.xG){var Z=B,i=c,V;if(u=="PDF"||u=="AI"){V=URL.createObjectURL(new Blob([this.jW],{type:"application/pdf"}))}else{V=URL.createObjectURL(new Blob([this.jW],{type:"image/svg+xml"}))}this.BA.innerHTML="<iframe src=\""+V+"\"></iframe>"}else if(u=="MP4"){var V=URL.createObjectURL(new Blob([this.jW]));
this.LN.setAttribute("src",V);this.BA.appendChild(this.LN)}else{var _=this.ahc=T.l6?await kL.az9(T,this.jW):T.uj(this.jW),E=_[0],F=E.eE,Z=F.r,i=F.$;
if(E.depth!=null&&E.depth!=8)for(var g=0;g<_.length;g++){var d=_[g].depth==16?Uint16Array:Float32Array;
_[g].data=a.hg(new d(_[g].data),8).buffer;_[g].depth=8}if(E.fc){var x=ICC.R(E.fc.buffer),f=17,Q=ICC.U.sampleLUT(x,f);
for(var g=0;g<_.length;g++){var m=new Uint8Array(_[g].data);ICC.U.applyLUT(Q,f,m,m)}}this.bi.q(_,_.length>1?P[P.length-3]:0);
this.BA.appendChild(this.bi._);k="background: rgba(0,0,0,0);"}q.v(this.BA,"display:block; "+(T.lf?"background:rgba(0,0,0,0);":"background-size:"+16/q.$q()+"px;")+k);
this.B$(this.Tx,this.tK,J)};function b5(){cy.call(this,[11,13],"shortcuts");this.f=null;var z=this.lj=q.m("div","scrollable");
q.v(z,"min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(z);this.wT()}b5.prototype=new cy;
b5.prototype.T=function(){cy.prototype.T.call(this);this.wT()};b5.prototype.Sc=function(z,J){this.f=z};
b5.prototype.DK=function(z,J,p,n){if(q.SA(this._))this.wT()};b5.prototype.wT=function(){var z="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",J="",p=l5,n=p.zT,B=p.VN,c=p.W0;
J+="<h2 style=\"margin-top:0;\">Main Menu</h2>";J+=z;J+=this.Y4([[0,0],"---",[1,0],[n,p.XT],[1,2],[n,p.jY],[1,3],[B,n,p.jY],[1,8],[c,B,n,p.jY],[0,1],"---",[2,0],[B,n,p.Lg],[2,1],[n,p.Lg],[5,0],[n,p.bI],[5,1],[n,p.mf],[5,2],[n,p.vH],[2,2],"Delete",[2,3],[c,p.IB],[10,16],[c,n,p.GJ],[12,79],[n,p.ZA],[3],"---",[4,1],[n,p.Z5],[4,2],[n,p.Ma],[4,5],[n,p.Vh],[4,11],[n,p.vn],[0,3],"---",[6,13],[B,n,p.EL],[6,49,0],[n,p.Z7],[6,6,0],[c,n,p.BT],[6,9],[n,p.BT],[6,10],[n,p.E],[0,5],"---",[7,0],[n,p.J],[7,1],[n,p.Qx],[7,2],[B,n,p.vn],[0,7],"---",[8,0],[n,p.xg],[8,1],[n,p.a6],[8,3],[n,p.yK],[8,2],[n,p.am],[8,4],[n,p.mw],[11,13],"?"]);
J+="</div>";J+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";J+=z;J+=this.Y4(["Vertical scroll","Wheel","Horizontal scroll",[n,"Wheel"],"Zooming",[c,"Wheel"]]);
J+="</div>";J+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
J+=z;J+=this.Y4([[10,11],[n],[10,7],"Space",[10,17],[n,p.BE]]);J+="</div>";J+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
J+=z;var t=[],u=this.f;if(u==null)return;var v=u.Z;for(var g=0;g<v._X.length;g++){var A=v._X[g],$=v.keys[g];
for(var X=0;X<A.length;X++)t.push(A[X].l.name,$?$.A$:null)}t=t.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[n,p.Q9]]);
J+=this.Y4(t);J+="</div>";this.lj.innerHTML=J};b5.prototype.Y4=function(z){var J="",p=!0;for(var g=0;
g<z.length;g+=2){var n=z[g],B=l5.No(z[g+1]);if(B==null){p=!1;continue}var c=q.kT(j0.get(n));if(B=="---"){if(!p)J+="<br/>";
J+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+c+"</div>"}else J+="<div>"+c+" <span style=\"float:right; font-weight:bold;\">"+B+"</span> </div>";
p=!1}return J};function ep(z){cy.call(this,z?"Artboard Options":[8,11,1],(z?"a":"s")+"options");this.dr=null;
this.aCM=z;var J=q.m("div","form");J.style.width="20em";this.body.appendChild(J);this.WG={Nm:[12,48],url:"URL",null:[12,71]};
this.CX={};for(var p in this.WG){if(z&&p!="Nm")continue;var n=new dz(this.WG[p],null,15);this.CX[p]=n;
J.appendChild(n._)}this.aIM=new bm([12,14,0]);J.appendChild(this.aIM._);this.lK=new gD(0,!z);J.appendChild(this.lK._);
this.Wl=q.gE(this,J)}ep.prototype=new cy;ep.prototype.DK=function(z,J,p){var n=J.K;this.dr=JSON.stringify(n);
console.log(n);if(n.J4){this.CX.Nm.q(n.y0);var B=n.J4,c=B[0],t=B[1];this.lK.q([c,t,B[2]-c,B[3]-t])}else{for(var u in this.WG){this.CX[u].q(n[u]?n[u].v:"")}var v=n.bounds.v,c=v.Left.v,t=v.Top.v;
this.lK.q([c,t,v.Rght.v-c,v.Btom.v-t])}};ep.prototype.Fs=function(z){var J=JSON.parse(this.dr),p=new cD(b.E.H,!0),n=this.lK.V(),B=n[0],c=n[1];
console.log(n);if(this.aCM){J.y0=this.CX.Nm.V();J.J4=[B,c,B+n[2],c+n[3]];p.l=L.kA;p.data={R:"rpl",K:J}}else{for(var t in this.WG){var u=this.CX[t].V();
J[t]={t:"TEXT",v:u}}var v=J.bounds.v;v.Left.v=B;v.Top.v=c;v.Rght.v=B+n[2];v.Btom.v=c+n[3];p.l=L.$V;p.data=J}p.iv=!0;
this.a(p);this.close()};ep.prototype.T=function(){cy.prototype.T.call(this);this.Wl.T();this.aIM.T();
this.lK.T()};function a4(){cy.call(this,[2,3],"fill");this.p2=null;var z=q.m("div","form padded");z.style.width="22em";
this.body.appendChild(z);this.DU="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.cQ=new kZ([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.cQ.D(b.E.n,this.a1D,this);z.appendChild(this.cQ._);this.BA=q.m("span");z.appendChild(this.BA);this.VT=new dX;
this.VT.parent=this;this.VT.TT(0);this.bG=new gk;this.bG.parent=this;this.a0Z=new kZ([12,19,0],jM.he,jM.jN);
z.appendChild(this.a0Z._);this.lh=new jT([12,0],0,100,"%",0,!1);this.lh.q(100);z.appendChild(this.lh._);
this.S2=new k9([13,5]);this.S2.q(!1);z.appendChild(this.S2._);this.Wl=q.gE(this,this.body)}a4.prototype=new cy;
a4.prototype.zI=function(z,J){return z!=null};a4.prototype.pf=function(){return!0};a4.prototype.a1D=function(){var z=this.cQ.V(),J=this.VT._,p=this.bG._,n=this.BA;
if(z==2)n.appendChild(J);else if(n.contains(J))n.removeChild(J);if(z==7)n.appendChild(p);else if(n.contains(p))n.removeChild(p)};
a4.prototype.T=function(){cy.prototype.T.call(this);this.cQ.T();this.a0Z.T();this.lh.T();this.S2.T();
this.Wl.T()};a4.prototype.Fs=function(z){if(!this.p2.AM())return;var J=new cD(b.E.wR,!0),p=this.cQ.V();
J.data=L.SD.tR(this.DU[p],jM.Bk[this.a0Z.V()],this.lh.V()/100,this.VT.V(),this.S2.V(),this.bG.V());this.close();
this.a(J)};a4.prototype.DK=function(z,J){this.p2=z};a4.prototype.Sc=function(z,J){if(J==iQ.hl||J==iQ.EA){this.bG.fv(z.r0);
this.bG.q({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function hr(){cy.call(this,[14,9],"stroke");this.f=null;this.xl=q.m("div","form");q.v(this.xl,"width:24em");
this.body.appendChild(this.xl);this.Vc=new kU("FrFX",!0);this.Vc.parent=this;var z=["Sz","Styl","Md","Opct"].concat(a_.Sx);
for(var g=0;g<z.length;g++){var J=this.Vc.ke[z[g]]._;this.xl.appendChild(J)}this.qO=!1;this.Wl=q.gE(this,this.body)}hr.prototype=new cy;
hr.prototype.zI=function(z,J){return z!=null};hr.prototype.pf=function(){return!0};hr.prototype.T=function(){cy.prototype.T.call(this);
this.Wl.T();this.Vc.T()};hr.prototype.Fs=function(z){var J=this.Vc.V(),p={classID:"Strk"};p.Md=J.Md;
p.Opct=J.Opct;p.Clr=J.Clr;p.Wdth={t:"long",v:J.Sz.v.val};var n=a_.stroke.types.indexOf(J.Styl.v.FStl);
p.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][n]}};var B=new cD(b.E.wR,!0);B.data={rK:"stroke",m$:p};
this.close();this.a(B)};hr.prototype.DK=function(z,J){if(!this.qO){var p=a_.ef[a_.order.indexOf("FrFX")];
p=JSON.parse(p);this.Vc.update(z,p);this.qO=!0}var p=this.Vc.V(),n=this.f.Nb;p.Clr.v=a.Wi.yR({o:n>>16&255,k:n>>8&255,X:n&255});
this.Vc.update(z,p)};hr.prototype.Sc=function(z,J){this.f=z};function bF(){cy.call(this,[11,9],"textwarp");
this.CX=new kw;this.CX.D(b.E.n,this.Jc,this);this.CX.parent=this;this.xl=q.m("div","form");q.v(this.xl,"width:20em");
this.body.appendChild(this.xl);this.xl.appendChild(this.CX.Vx._);this.xl.appendChild(this.CX.yn._);this.xl.appendChild(this.CX.IX._);
this.xl.appendChild(this.CX.Dq._);this.xl.appendChild(this.CX.uM._);this.Wl=q.gE(this,this.xl);this.D("closebtn",this.se,this)}bF.prototype=new cy;
bF.prototype.pf=function(){return!0};bF.prototype.T=function(){cy.prototype.T.call(this);this.Wl.T();
this.CX.T()};bF.prototype.Jc=function(z){var J=this.CX.V();this.mc({R:"warp",TX:J})};bF.prototype.mc=function(z){var J=new cD(b.E.H,!0);
J.l=L.MN;J.data=z;J.iv=!0;this.a(J)};bF.prototype.se=function(z){this.mc({R:"warpCancel"})};bF.prototype.Fs=function(z){this.mc({R:"warpConfirm"});
this.close()};bF.prototype.DK=function(z,J){var p=z.U[z.Y[0]];this.CX.q(p.add.TySh.lL)};function ax(){cy.call(this,[11,12,0],"trim");
var z=this.xl=q.m("div","form");q.v(this.xl,"width:22em");this.body.appendChild(this.xl);var J=new bm("Color To Trim:");
z.appendChild(J._);this.CC=new g1(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.CC.q([!0]);this.xl.appendChild(this.CC._);var J=new bm("Sides:");z.appendChild(J._);this.VB=new g1(null,["Top","Left","Bottom","Right"]);
this.VB.q([!0,!0,!0,!0]);this.xl.appendChild(this.VB._);this.Wl=q.gE(this,this.body)}ax.prototype=new cy;
ax.prototype.zI=function(z,J){return z!=null};ax.prototype.pf=function(){return!0};ax.prototype.T=function(){cy.prototype.T.call(this);
this.CC.T();this.VB.T();this.Wl.T()};ax.prototype.Fs=function(z){var J=this.CC.V().indexOf(!0),p=this.VB.V(),n=new cD(b.E.wR,!0);
n.data=L.d_.Jd(J,p);this.close();this.a(n)};function e3(){cy.call(this,"Raw Photopea","rawpea");this.J2=null;
this.body.style.padding="0";var z=this.DH=new ks["Adobe Camera Raw Filter"](!0),J="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(z._);this.UM=new kZ("Space",b$.uy);this.fl=new kZ(null,["8 bit","16 bit","32 bit"]);
this.a4w=new eq([1,0],!0,null,!0);this.a4w.D("click",this.Fs,this);this.DS=new eq(J+" JPG",!0,null,!0);
this.DS.D("click",this.aBo,this);z.XF(this.UM._);z.XF(this.fl._);z.XF(this.a4w._);z.XF(this.DS._)}e3.prototype=new cy;
e3.prototype.k9=function(){return new i_(0,0)};e3.prototype.B$=function(z,J){this.DH.B$(z,J)};e3.prototype.Sc=function(z,J){this.DH.Sc(z,J)};
e3.prototype.T=function(){cy.prototype.T.call(this);this.DH.T()};e3.prototype.aBo=function(z){var J=this.DH.al4(0,8),p=J[1],n=kL.V5("JPG").D6([[J[0].buffer]],p.r,p.$,[85]),B=new cD(b.E.c,!0);
B.data={R:b.J.L1,data:n,name:"photo.jpg"};this.a(B)};e3.prototype.Fs=function(z){var J=this.J2,p=8<<this.fl.V(),n=this.UM.V(),B=l0.Ix(J),c=this.DH.al4(n,p),t=c[1],J={eE:t,data:c[0].buffer,UD:B,depth:p},u=kL.su("Raw Photo",[J]);
if(n!=0)u.Wk(kL.r7.get(b$.Dn[n]));var v=new cD(b.E.c,!0);v.data={R:b.J.Rt,CT:u};this.a(v);this.Cj();
this.close()};e3.prototype.Cj=function(){this.J2=null;this.DH.a3c()};e3.prototype.DK=function(z,J,p,n){this.J2=J.ps;
this.DH.a24(J.ps)};e3.prototype.LA=function(z){return!0};e3.prototype.qA=function(z,J,p,n){cy.prototype.qA.call(this,z,J,p,n);
this.DH.qA(n)};function bK(z){cy.call(this,z?[11,11,0]:[11,11,1],z?"vbitmap":"rcolors");this.HY=null;
this.AV=null;this.a8s=null;this.nt=null;this.mH=null;this.a0i=null;this.CT=null;this.f=null;this.Nt="";
this.v4=z;this.ww=this.x9.bind(this);this.aAQ=!1;this.body.style.padding="0";this.xl=q.m("div","form hbar padded");
this.body.appendChild(this.xl);this.PS=new g1(null,["Fill","Stroke","Labels"]);this.PS.D(b.E.n,this.x9,this);
var J=q.m("span","rangecontFloat form padded"),v=16;J.appendChild(this.PS._);q.v(J,"position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var p=new lh;p._=J;var n=this.ri={cnum:new kW([12,82],2,50,null),ctab:new fl,nois:new k9([12,81]),mode:new kZ(null,["Cartoon","Photo"]),segm:new k9("Segmentize"),cbok:new k9("Coloring book"),poly:new k9("Polygon"),merg:new k9("Merge colors"),polE:new kW("Roughness",2,30,null),dthr:new k9([12,23,3]),vprm:new eq("\u2026",!1,null,!0),ok:q.gE(this,null,!1)},B=this;
for(var c in n){var t=n[c];t.parent=this;if(c=="ok"){}else if(c=="vprm"){t.D("click",function($){var X=n.vprm._.getBoundingClientRect(),U=new cD(b.E.c,!0);
U.data={R:b.J.v0,NC:p,x:X.left,y:X.top+20};B.a(U)})}else t.D(b.E.n,this.x9,this)}var u=this.Cu=q.m("div","flexrow");
this.body.appendChild(u);q.v(u,"background-color:var(--bg-canvas)");this.N$=new eQ;this.N$.D("viewchange",this.zE,this);
this.wY=new eQ;this._V=q.m("canvas");q.v(this._V,"margin:0 0 0 1px; padding:0; cursor:grab;");this.$l=this._V.getContext("2d");
var A=a.j(16*16*4);a.jp(A,v,v,8);this.PZ=a.scale.fD(A,v,v);this.N$.ac4(this._V);this.N$.FH(this.wY);
this.wY.FH(this.N$);u.appendChild(this.N$._);if(z)u.appendChild(this._V);else u.appendChild(this.wY._)}bK.prototype=new cy;
bK.prototype.k9=function(){return new i_(0,0)};bK.prototype.pf=function(){return!0};bK.prototype.B$=function(z,J){this.Tx=z;
this.tK=J;J=J-44;if(z<600)J-=29;if(this.HY==null)return;var p=this.HY.eE,n=je.OZ(z,J,p.r,p.$);if(n==1)J-=3;
if(n==0){z=Math.floor(z/2);q.$y(this.Cu,"flexrow")}else{J=Math.floor(J/2);q.Om(this.Cu,"flexrow")}q.jI(this._V,z,J);
this.N$.B$(z,J);if(this.v4)this.zE();else this.wY.B$(z,J)};bK.prototype.qA=function(z,J,p,n){this.N$.qA(n)};
bK.prototype.T=function(){cy.prototype.T.call(this);for(var z in this.ri)this.ri[z].T()};bK.prototype.DK=function(z,J){this.CT=z;
this.mH=null;var p=z.U[z.Y[0]],n=a.YM.ahB(p.buffer.buffer,p.S.r,p.S.$).a5w,B=n/((p.S.r-2)*(p.S.$-2)),c=this.ri;
c.cnum.q(20);c.nois.q(B<.75);c.mode.q(B<.75?1:0);c.segm.q(!1);c.cbok.q(!1);c.poly.q(!1);c.merg.q(!0);
c.polE.q(1);c.dthr.q(!1);var t=p.S.P();t.x=t.y=0;this.HY={eE:t,data:p.buffer.buffer.slice(0)};this.AV=null;
this.B$(this.Tx,this.tK);this.N$.q([this.HY]);this.N$.PH();this.aAQ=!0;this.PS.q([!0,!1,!1]);setTimeout(this.ww,20)};
bK.prototype.x9=function(z){var J=!0,p=Date.now(),n=this.HY,B=this.ri,c=B.cnum.V(),t=B.nois.V(),u=B.mode.V(),v=B.segm.V(),A=B.cbok.V(),$=B.poly.V(),X=B.merg.V(),U=B.polE.V(),Q=null;
if(u==0)v=$=A=!1;var w=B.dthr.V(),P=["cnum","mode","ctab","nois"];if(u==1){P.push("cbok");if(this.v4){P.push("poly");
if($)P.push("polE");P.push("vprm")}}if(this.v4)P.push("merg");else P.push("dthr");P.push("ok");q.X0(this.xl);
for(var g=0;g<P.length;g++)this.xl.appendChild(B[P[g]]._);if(J)console.log("---------------------------------------");
var k=t||v,T=t+","+v;if(k&&(this.AV==null||this.Nt!=T)){this.Nt=T;var Z=new Uint8Array(n.data),i=n.eE.r,V=n.eE.$;
if(t){if(this.mH==null){this.mH=Z.slice(0);a.pH.qc=35;a.pH.SB(this.mH,this.mH,i,V,15,1);if(J){console.log("denoise",Date.now()-p);
p=Date.now()}}Z=this.mH.slice(0)}else Z=Z.slice(0);if(v){var _=a.YM.Rv(Z,i,V,40,10),y=_.ZA,E=new Uint8Array(y*4);
for(var g=0;g<y;g++){var F=g*4,d=g*6,x=1/_.UP[d+5];E[F]=_.UP[d]*x;E[F+1]=_.UP[d+1]*x;E[F+2]=_.UP[d+2]*x}for(var g=0;
g<Z.length;g+=4){var f=_.Lz[g>>>2]*4;Z[g]=E[f];Z[g+1]=E[f+1];Z[g+2]=E[f+2]}if(J){console.log("segm",Date.now()-p);
p=Date.now()}}this.AV={eE:n.eE.P(),data:Z.buffer}}if(k)n=this.AV;var Z=new Uint8Array(n.data),i=n.eE.r,V=n.eE.$;
for(var g=0;g<Z.length;g+=4){if(Z[g+3]<10)Z[g]=Z[g+1]=Z[g+2]=Z[g+3]=0}if(z==null||z.target==this.ri.cnum||z.target==this.ri.mode){if(u==0){Q=a.YM.azN(Z,i,V,c,k?.1:2e-4);
Q.nY=hj.aAo(Q.nY);if(J){console.log("quantize",Date.now()-p);p=Date.now()}}if(u!=0||Q&&Q.nY.length<2){Q=hj.aC1(Z.buffer,c,i,V)}this.ri.ctab.q(Q.nY)}else{var E=this.ri.ctab.V(),f=a.j(i*V);
UPNG.encode.dither(Z,i,V,hj.tA(E),Z.slice(0),f,0);Q={Lz:f,nY:E};this.ri.cnum.q(E.length)}if(A){var E=new Uint32Array(hj.tA(Q.nY));
Q.Lz=a.a2F(Z,i,V,new Uint8Array(E.buffer))}if(this.v4){var m=Q.Lz.slice(0);for(var g=0;g<m.length;g++)m[g]++;
this.gG=a.YM.a3f(Q.Lz,i,V);var H=new Uint8Array((i+2)*(V+2));a._1(m,new fw(1,1,i,V),H,new fw(0,0,i+2,V+2));
if(!$){var S=Math.round((i+2)*(V+2)/1e4),R=jH.cv(H.slice(0),i+2,V+2,Math.min(12,S)),I=jH.Q8(R);if(J){console.log("trace smooth",Date.now()-p);
p=Date.now()}}else{var I=a.b.gT(H,i+2,V+2,U,J)}var D=I.length,G=new fA(1,0,0,1,-1,-1);for(var g=0;g<D;
g++)a.b.h(I[g].path.L,G,I[g].path.L);this.nt=I;for(var g=0;g<D;g++){var C=I[g];if(Q.nY[C.color-1][1].k6>10)continue;
var O=C.parent;while(O!=-1){var Y=I[O];O=Y.parent;if(Q.nY[Y.color-1][1].k6<10)break;a.b.concat(Y.path,a.b.reverse(C.path))}}if(J){console.log("finding holes",Date.now()-p);
p=Date.now()}for(var g=0;g<I.length;g++){var h=I[g];if(h.parent!=-1){var r=I[h.parent];h.parent=r;if(r.fB==null)r.fB=[];
r.fB.push(h)}h.depth=h.parent==-1?0:h.parent.depth+1}if(X){function W(eu,K){var jY={},fN=0,jC=0;for(var g=0;
g<eu.length;g++){var aV=eu[g].color,kF="c"+aV;if(aV==K)throw aV;if(jY[kF]==null)jY[kF]=0;jY[kF]++;if(jY[kF]>fN){fN=jY[kF];
jC=aV}}return jC}var N=[],o=[],K=-1,l=!0;for(var g=0;g<I.length;g++)if(I[g].parent==-1)o.push(I[g]);
while(o.length!=0){var aV=W(o,K);K=aV;for(var g=0;g<o.length;g++)if(o[g].color==aV){var j=o[g];N.push(j);
o.splice(g,1);g--;if(j.fB)for(var M=0;M<j.fB.length;M++){o.push(j.fB[M]);if(j.fB[M].color!=aV)l=!1}}}if(l)I=N;
else{var s=[];for(var l2=0;l2<500;l2++){var gm=[],R=s[l2-1];s.push(gm);for(var g=0;g<I.length;g++){var h=I[g],r=h.parent;
if(l2==0&&r==-1||l2!=0&&R.indexOf(r)!=-1){gm.push(h);I.splice(g,1);g--}}gm.sort(function(eu,jY){return eu.color-jY.color});
if(I.length==0)break}for(var g=0;g<s.length;g++)I=I.concat(s[g])}}else{var N=[],iz=[];while(I.length!=0){iz.push(I.shift());
while(iz.length!=0){var dC=iz.pop();N.push(dC);if(dC.fB)for(var g=0;g<dC.fB.length;g++){var h=dC.fB[g];
I.splice(I.indexOf(h),1);iz.push(h)}}}I=N}this.nt=I;for(var g=0;g<I.length;g++){var C=I[g],dL=Q.nY[C.color-1][1];
if(dL.k6<=10){I.splice(g,1);g--;continue}}for(var g=1;g<I.length;g++){var cP=I[g-1],C=I[g];if(cP.color==C.color&&(X||cP.parent==C.parent&&cP.depth>=2)){a.b.concat(cP.path,C.path);
I.splice(g,1);g--;continue}}if(J){console.log("reordering layers",Date.now()-p,D,I.length);p=Date.now()}this.a8s=Q;
this.zE()}else{var id=new Uint32Array(i*V),jR=i*V,hC=this.a0i=new Uint8Array(id.buffer),eJ=new Uint32Array(hj.tA(Q.nY));
if(w){var el=new Uint8Array(n.data).slice(0);a.Yn(el);a.Yn(new Uint8Array(eJ.buffer));UPNG.encode.dither(el,i,V,eJ,hC,a.j(i*V));
a.aoh(hC)}else{for(var g=0;g<jR;g++)id[g]=eJ[Q.Lz[g]]}this.wY.q([{eE:n.eE,data:id.buffer}]);if(this.aAQ){this.wY.PH();
this.aAQ=!1}}};bK.prototype.zE=function(z){if(this.nt==null)return;var J=this.PS.V(),p=this.HY.eE.r,n=this.HY.eE.$,B=this.nt,c=this._V,t=this.$l,u=this.N$.rO(),A="rgba(0,0,0,0.3)";
t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,c.width,c.height);t.translate(c.width/2,c.height/2);t.scale(u.XP,u.XP);
t.translate(u.p.x/u.XP-p/2,u.p.y/u.XP-n/2);t.scale(1/u.XP,1/u.XP);t.fillStyle=this.PZ;t.fillRect(0,0,p*u.XP,n*u.XP);
t.scale(u.XP,u.XP);t.lineWidth=(p+n)*5e-4;var v=this.Nm();t.strokeStyle=A;for(var $=0;$<2;$++){if(!J[$])continue;
for(var g=0;g<B.length;g++){var X=B[g],U=v[X.color-1];if(U.k6==0)continue;t.fillStyle=U.aF;t.beginPath();
Typr.U.pathToContext({crds:X.path.L,cmds:X.path.Ao},t);if($==0)t.fill();else t.stroke()}}if(J[2])this.ag$(t,p,n)};
bK.prototype.Nm=function(){var z=this.a8s.nY,J=[];for(var g=0;g<z.length;g++){var p=z[g][1];p.aF="rgba("+p.o+","+p.k+","+p.X+","+p.k6/255+")";
J.push(p)}return J};bK.prototype.ag$=function(z,J,p){var n=this.Nm(),B=this.amU(J,p,n);function c(A,$,X,U){z.font=U+"px sans-serif";
A++;var w=z.measureText(A);z.fillText(A,$-w.width/2,X+U*.25)}z.fillStyle="rgba(0,0,0,0.5)";var t=this.gG;
for(var g=0;g<t.length;g++){var u=t[g];if(u[3]<J*p*5e-4)continue;c(u[2],u[0],u[1],(J+p)*.008)}z.fillStyle="rgba(255,255,255,1)";
z.fillRect(0,0,B,B*n.length);for(var g=0;g<n.length;g++){var v=n[g];z.fillStyle=v.aF;z.fillRect(B,B*g,B,B);
z.fillStyle="black";c(g,B*.5,B*(g+.5),B*.65)}};bK.prototype.amU=function(z,J,p){var n=p.length*(z+J)/70;
return Math.min(J,n)/p.length};bK.prototype.Fs=function(z){var J=this.CT,p=J.Y[0],n=J.U[p],B=new cD(b.E.H,!0);
B.iv=!0;B.l=L.bX;var c=this.f.rf,t=this;if(this.v4){var u=this.Nm(),$=0,U=!1;function v(Z,k){var T=J.JG();
T.YF=k.k6;T.a3|=16;T.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR(k)}};T.add.vmsk=new bi.jP;T.add.vstk=a_.jM.J0(!0);
T.add.vmsk.u=Z;T.cC();T.k3(J);return T}var A=this.PS.V();for(var g=0;g<3;g++)if(A[g])$++;if($==0){alert("Enable Fill, Stroke or Labels");
return}var X=this.nt;if($==1&&A[0]&&X.length==1)U=!0;var w=J.U.slice(0,p);if(!U)w.push(J.eH());if(A[0])for(var g=0;
g<X.length;g++){var P=X[g],k=u[P.color-1];a.b.h(P.path.L,new fA(1,0,0,1,n.S.x,n.S.y),P.path.L);var T=v(a.b.nK(P.path,!1),k);
T.HV("Path "+g);w.push(T)}if(A[1]){var T=J.JG();T.HV("Stroke");w.push(T);T.YF=128;T.a3|=16;T.add.SoCo={classID:"null",Clr:{t:"Objc",v:a.Wi.yR({o:0,k:0,X:0})}};
T.add.vmsk=new bi.jP;T.add.vstk=a_.jM.J0(!1,!0);var Z=[];for(var g=0;g<X.length;g++){var P=X[g],i=a.b.nK(P.path,!1);
if(g==0)Z=i;else Z=Z.concat(i.slice(2))}T.add.vmsk.u=Z;T.cC();T.k3(J)}if(A[2]){var V=this.HY.eE,_=V.r,y=V.$,E=this.amU(_,y,u);
w.push(J.eH());function F(H,S,R,I){H=1+H+"";var T=J.JG();w.push(T);T.YF=I;T.add.lnsr="rend";var D=T.add.TySh=dN.gI(S-E*.2,R+E*.25),G=T.add.TySh.qU,C=dN.cj(G,0,0);
C.uA.FontSize=Math.round(E*.6);dN.CG(G,0,0,C);dN.tJ(G,0,H);T.xL();if(hk.D5(D,c,t)){hk.Te(T,c,J);J.qM()}}var d=this.gG;
for(var g=0;g<d.length;g++){var x=d[g];if(x[3]<_*y*5e-4)continue;F(x[2],x[0],x[1],128)}var T=v(a.z.dZ.Rect(0,0,E,E*u.length),{o:255,k:255,X:255,k6:255});
T.HV("white");w.push(T);for(var g=0;g<u.length;g++){var k=u[g],T=v(a.z.dZ.Rect(E,E*g,E,E),k);T.HV("color");
w.push(T);F(g,E/2,E*(g+.5),255)}var T=J.JG();T.HV("Labels");T.add.lsct=cp.mD;T.QN="pass";T.a3=24;w.push(T)}var f=w[w.length-1];
if(!U){var T=J.JG();T.HV(n.getName());T.add.lsct=cp.xj;T.QN="pass";T.a3=24;w.push(T);f=T}var Q=n.add.lmfx;
if(Q)f.add.lmfx=a.G(Q);var m=w.length;for(var g=p+1;g<J.U.length;g++)w.push(J.U[g]);B.data={R:bi.Y7,lP:w,Gq:[m-1],cN:[11,11,0]}}else{var w=J.U.slice(0),T=J.JG();
T.HV(n.getName());w.splice(J.Y[0]+1,0,T);T.S=n.S.P();T.buffer=this.a0i;T.qM();B.data={R:bi.Y7,lP:w,Gq:[J.Y[0]+1],cN:[11,11,1]}}this.a(B);
this.close();J.Uq=!0};bK.prototype.Sc=function(z,J){this.f=z;this.ri.ctab.Sc(z,J)};function je(z){cy.call(this,[[7,11],[7,13]][z],["redge","magiccut"][z]);
this.CC=z;this.HY={};this.nC=null;this.f=null;this.CT=null;this.Ca=null;this.ku=null;this.body.style.padding="0";
this.t0=[];this.Fl=-1;this.xl=q.m("div","form hbar padded");this.body.appendChild(this.xl);this.oh=new hm;
this.oh.parent=this;this.oh.D(b.E.n,this.ee,this);this.xl.appendChild(this.oh._);var J=z==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
J=J.concat("tools/hand","zoomIn","zoomOut");var p=z==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.Os=new km(null,J,p,28);this.Os.D(b.E.n,this.qA,this);this.xl.appendChild(this.Os._);this.xt=new kW([7,9],0,50,null);
this.xt.parent=this;this.xt.D(b.E.n,[this.aeJ,this.x9][z],this);this.xl.appendChild(this.xt._);var n=this.a6n=new eq([2,2],!1,null,!0);
n.D("click",this.Cj,this);this.xl.appendChild(n._);var B=this.Ki=q.m("span","form");this.xl.appendChild(B);
var c=this.ab$=new eq([12,90],!1,null,!0);c.D("click",function(v){alert(z==0?j0.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
B.appendChild(c._);var t=new eq("Tutorial",!1,null,!0);t.D("click",this.axy,this);B.appendChild(t._);
this.JT=new km([12,46],["checker","#ffffff","#000000"]);this.JT.D(b.E.n,this.aDz,this);B.appendChild(this.JT._);
this.aKo=new kZ(null,[[6,13],[6,2],[17,2]]);B.appendChild(this.aKo._);this.Wl=q.gE(this,B,!1);var u=this.Cu=q.m("div","flexrow");
this.body.appendChild(u);this.WQ=new eQ(!0);this.d1=new eQ;this.WQ.FH(this.d1);this.d1.FH(this.WQ);this.WQ.D("mousedown",this.Zf,this);
this.WQ.D("mousemove",this.Is,this);this.WQ.D("mouseup",this.fW,this);this.WQ.D("zoom",this.ee,this);
this.d1.D("zoom",this.ee,this);u.appendChild(this.WQ._);u.appendChild(this.d1._)}je.prototype=new cy;
je.prototype.zI=function(z,J){var p=z!=null&&!z.U[z.Y[0]].S.Sz();if(!p)alert("The layer is empty.");
return p};je.prototype.k9=function(){return new i_(0,0)};je.prototype.pf=function(){return!0};je.prototype.B$=function(z,J){this.Tx=z;
this.tK=J;J=J-12-33;if(z<900){q.v(this.Ki,"display:block;  text-align:right;");J-=29}else{q.v(this.Ki,"position:absolute;  right:0px")}this.JT.MM(z<440?null:[12,46]);
this.xt.MM(z<470?null:[7,9]);var p=this.HY.S;if(p){var n=je.OZ(z,J,p.r,p.$);if(n==0){z=Math.floor(z/2);
q.$y(this.Cu,"flexrow")}else{J=Math.floor(J/2);q.Om(this.Cu,"flexrow")}this.WQ.B$(z,J);this.d1.B$(z,J)}};
je.OZ=function(z,J,p,n){var B=z/2,c=J/2,t=Math.min(B/p,J/n),u=Math.min(z/p,c/n);return t>u?0:1};je.prototype.T=function(){cy.prototype.T.call(this);
this.oh.T();this.xt.T();this.Wl.T();this.JT.T();this.aKo.T();this.a6n.T();this.ab$.T()};je.prototype.axy=function(z){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.CC],"_blank")};
je.prototype.Sc=function(z,J){this.f=z;if(J==iQ.na||J==iQ.hl){this.oh.fv(z._$);this.oh.q(dT.L3(),z._$.EO,z._$.bG)}};
je.prototype.qA=function(z,J,p,n){var B=this.Os.V();if(n==null){this.WQ.qA(eQ.du(B-3));return}this.Ca=n;
var c=L.SD.hb(this.oh.V(),n);if(c!=null){this.oh.q(c);this.ee()}else if(n.Q(l5.zT)&&n.Q(l5.Lg)){var t=this.t0,u=0;
if(n.Q(l5.VN)){if(this.Fl+1<t.length)u=1}else if(this.Fl>0)u=-1;if(u!=0){this.Fl+=u;var v=this.Fl,A=this.HY;
if(u==1)a.nk(t[v][2],t[v][0],A.kj,A.S);else a.nk(t[v+1][1],t[v+1][0],A.kj,A.S);A.nP=A.S;this.x9()}}else if(B<3)this.WQ.qA(n)};
je.prototype.Mg=function(z){var J=this.HY,p=this.t0,n=a.j(z.C()*4);a.nk(J.qW,J.S,n,z);J.qW=null;var B=a.j(z.C()*4);
a.nk(J.kj,J.S,B,z);this.Fl++;p[this.Fl]=[z.P(),n,B];while(p.length>this.Fl+1)p.pop();while(p.length>50){p=p.slice(1);
this.Fl--}};je.prototype.ee=function(){var z=this.f,J=dJ.L$(this.oh.V(),z._$.EO,this.WQ.rO().XP);this.WQ.c5(J)};
je.prototype.Zf=function(z){var J=this.f,p=this.HY,n=this.Ca,B=this.oh.V(),c=this.WQ.sx(),t=[16777215,8421504,0][this.Os.V()];
this.nC=new dJ(B,J._$.EO,J._$.bG,{Ba:1,Aa:!0},t,J.Gh,p.S);p.qW=p.kj.slice(0);if(n!=null&&n.Q(l5.VN)&&this.ku){this.nC.moveTo(this.ku.x,this.ku.y);
this.nC.lineTo(c.x,c.y)}else this.nC.moveTo(c.x,c.y);this.aKw()};je.prototype.Is=function(z){var J=this.HY,p=this.WQ.sx();
this.nC.lineTo(p.x,p.y);this.aKw()};je.prototype.fW=function(z){this.ku=this.WQ.sx();this.Mg(this.nC.vo());
this.x9()};je.prototype.aKw=function(){var z=this.HY,J=this.nC,p=J.IV();if(p.Sz())return;z.nP=p;a.B.Oe("norm",J.qZ(),J.R2(),z.kj,z.S,p,1);
this.a8I()};je.prototype.Cj=function(z){var J=this.HY;J.qW=J.kj.slice(0);J.nP=J.S;a.dz(J.kj,[4278190080,4292730333][this.CC]);
this.Mg(J.S);this.x9()};je.prototype.DK=function(z,J){this.CT=z;var p=z.U[z.Y[0]],n=p.S.P(),B=n.r,c=n.$,v;
this.xt.q(this.CC==0?3:B*c<3e6?3:0);this.Os.q(z.M==null?0:1);this.xt.EJ();if(this.CC==0&&z.M!=null||this.CC==1)this.xt.sA();
var t=this.CC,u=a.j(n.C());if(t==0&&z.M){a._1(z.M.N,z.M.S,u,n);var A=a.j(n.C());for(var $=0;$<c;$++)for(var X=0;
X<B;X++){var g=$*B+X,U=u[g];if(X>0&&u[g-1]!=U||X<B-1&&u[g+1]!=U||$>0&&u[g-B]!=U||$<c-1&&u[g+B]!=U)A[g]=255}v=a.style.xO(A,B,c)}else{v=new Float32Array(n.C());
v.fill(1e9)}n.x=n.y=0;this.HY={S:n,R1:a.hg(p.buffer,8),sI:u,XI:v,abw:a.j(n.C()*4),aHy:a.j(n.C()*4),kj:a.j(n.C()*4),qW:null,SW:null,nP:n,asX:{}};
if(t==0)this.aeJ();else{this.HY.asX=L.pc.aj4(z);var w=this.HY.kj;a.dz(w,4287137928);var P=a.rA.getSelection(a.hg(p.buffer,8),B,c),k=Math.round(B/60),T=Math.round(.7*c);
for(var $=0;$<c;$++)for(var X=0;X<B;X++){var Z=($*B+X)*4,i=P[Z>>>2];i=i>128?255:128;if($<k||$<T&&(X<k||X>B-1-k))i=0;
w[Z]=w[Z+1]=w[Z+2]=i}this.x9()}this.t0=[1];this.Fl=0;var V=this.oh.V();V.Brsh.v.Dmtr.v.val=Math.round(n.r/(t==0?10:20));
this.oh.q(V);this.ee();this.B$(this.Tx,this.tK);this.WQ.PH()};je.prototype.aeJ=function(){var z=this.HY,J=z.S.C(),p=this.xt.V(),n=z.sI.slice(0);
for(var g=0;g<J;g++)if(z.XI[g]<p)n[g]=128;z.kj.fill(255);a.DE(n,z.kj,0);a.DE(n,z.kj,1);a.DE(n,z.kj,2);
z.nP=z.S;this.x9()};je.prototype.x9=function(){var z=this.HY,B,u,v=0,A=0,$=0;this.a8I();var J=z.S,p=J.r,n=J.$,c=a.j(J.C()),t=z.R1;
a.Tm(z.kj,c,0);for(var g=0;g<c.length;g++){if(t[(g<<2)+3]!=255)continue;var X=c[g];if(X==0)v++;else if(X==255)A++;
else $++}if(v*A*$!=0){if(this.CC==0)u=a.YA.YA(J,t,c);else{var U=this.Os.V();for(var w=1;w<n;w++)for(var P=1;
P<p;P++){var g=w*p+P,k=c[g],T=c[g-1];if(k==0&&T==255||k==255&&T==0){B="The Red and Green should never touch! Erase it with Grey.";
break}}var Z=Date.now(),i=this.HY.asX;a._U(c,i.hr);L.pc.Mr(i,!0,this.CT);var V=Math.ceil(this.xt.V()/2);
if(V==0){u=t.slice(0);a.DE(i.M,u,3)}else{var _=i.M.slice(0),y=i.M.slice(0);for(var E=0;E<V;E++){for(var w=1;
w<n-1;w++)for(var P=1;P<p-1;P++){var g=w*J.r+P,F=_[g];if(_[g-p]!=F||_[g-1]!=F||_[g+1]!=F||_[g+p]!=F)y[g]=128;
else y[g]=F}var d=_;_=y;y=d}for(var w=0;w<n;w++)for(var P=0;P<p;P++){var g=w*p+P;if(c[g]==0||c[g]==255)_[g]=c[g]}u=a.YA.YA(J,t,_,20,!1)}}}else{u=t.slice(0);
a.DE(c,u,3)}for(var g=3;g<u.length;g+=4)if(u[g]>t[g])u[g]=t[g];if(J.Vm(z.S))z.SW=u;else a.nk(u,J,z.SW,z.S);
this.aDz();if(B)alert(B,4e3)};je.prototype.a8I=function(z){var J=this.HY,p=J.nP;a.nk(J.R1,J.S,J.abw,J.S,p,!0);
var n=J.kj,B=J.S,c=Date.now();if(this.CC==1){var t=new Uint32Array(256);t[0]=4278190335;t[255]=4278255360;
var u=a.j(p.C()*4),v=p.C();a.nk(n,B,u,p);n=u;B=p;var A=new Uint32Array(n.buffer);for(var g=0;g<v;g++)A[g]=t[A[g]&255]}console.log(Date.now()-c);
a.B.Oe("norm",n,B,J.abw,J.S,p,.3);this.WQ.q([{eE:J.S,data:J.abw.buffer}],null,null,p)};je.prototype.aDz=function(z){var J=this.HY;
a.dz(J.aHy,[0,4294967295,4278190080][this.JT.V()]);a.B.Oe("norm",J.SW,J.S,J.aHy,J.S,J.S,1);this.d1.q([{eE:J.S,data:J.aHy.buffer}])};
je.prototype.Fs=function(z){var J=this.CT,p=this.HY,n=this.aKo.V(),B=J.U[J.Y[0]],c=new cD(b.E.H,!0);
c.iv=!0;var t=B.S.P();if(n==0&&B.LE()||n!=0&&!B.LE()){c.l=L.bX;c.data={R:bi.BJ,w:J.Y[0]};this.a(c)}if(J.M!=null){c.l=L.Wu;
c.data={R:"fromAction",NR:L.gL.aj()};this.a(c)}if(n==0){var u=J.U.slice(0),v=J.JG();v.HV(B.getName());
u.splice(J.Y[0]+1,0,v);v.S=t;v.buffer=a.hg(p.SW,J.depth);v.qM();c.l=L.bX;c.data={R:bi.Y7,lP:u,Gq:[J.Y[0]+1],cN:[7,11]};
this.a(c)}if(n==1){var A=B.Qu();c.l=L.bX;c.data={R:bi.CZ,a5E:!0};this.a(c);var $=B.Qu();$.N=a.j(t.C());
$.S=t;$.color=0;$.Kk=!0;a.Tm(p.SW,$.N,3);$.N=a.hg($.N,J.depth);if(A){var X=$.iE(A);$.S=X.S;$.N=X.N;$.color=X.color}$.eB();
B.k3(J)}if(n==2){var U={S:t,N:a.j(t.C())};a.Tm(p.SW,U.N,3);U.N=a.hg(U.N,J.depth);c.l=L.Wu;c.data={R:"setsel",M:U,cN:this.YN};
this.a(c)}this.close()};function ir(){cy.call(this,[1,13],"locstor");this.f=null;this.K8=[];var z=this.body,J=q.m("p");
J.textContent="These files are loaded every time you start Photopea.";z.appendChild(J);this.aKR=0;this.ae6=q.m("span");
z.appendChild(this.ae6);q.v(this.ae6,"display:inline-block;  width:12em;  font-weight:bold;");var p=q.m("span","form");
z.appendChild(p);this.HO=new eq([5,4],!1,null,!0);this.HO.D("click",this._q,this);p.appendChild(this.HO._);
this.ZS=new eq("Get all as ZIP",!1,null,!0);this.ZS.D("click",this.f4,this);p.appendChild(this.ZS._);
this._l=new en(!0);this._l.parent=this;this._l.OC(1);z.appendChild(this._l._);q.v(this._l._,"width: 40em; height: 25em")}ir.prototype=new cy;
ir.prototype.T=function(){cy.prototype.T.call(this);this.ae6.textContent=j0.get([13,2])+": "+hI.dB(this.aKR);
this.HO.T()};ir.prototype.Sc=function(z,J){this.f=z;if(J==iQ.Bz)this.DK()};ir.prototype.DK=function(z,J){var p=this.f.P$.ZU,v=0;
this.K8=[];for(var n in p)this.K8.push(n);this.K8.sort(function($,X){$=$.split(".");X=X.split(".");return $[1]==X[1]?$[0]<X[0]?-1:1:$[1]<X[1]?-1:1});
var B=Math.floor(100*q.$q()),c=Math.floor(16*q.$q()),t=[],u=[];for(var g=0;g<this.K8.length;g++){var n=this.K8[g],A=ir.ky(n,p[n],B,c);
t.push(A);u.push(n);v+=p[n].byteLength}this._l.VK(t,u,B,c);this.aKR=v;this.T()};ir.prototype._q=function(z){var J=this._l.V();
if(J.length==0){alert("Select a file first.");return}this._l.q([]);var p=this.f.P$.ZU;for(var g=0;g<J.length;
g++)delete p[this.K8[J[g]]];var n=new cD(b.E.c,!0);n.data={R:b.J.bS,Xu:iQ.Bz};this.a(n)};ir.prototype.f4=function(z){var J=this.f.P$.ZU,p={};
for(var n in J)p[n]=new Uint8Array(J[n]);var B=UZIP.encode(p);jo.save(B,"resources.zip")};ir.ky=function(z,J,p,n){var B=q.m("canvas"),u=0;
B.width=p;B.height=n;var c=B.getContext("2d"),t=z.split(".").pop().toLowerCase();for(var g=0;g<t.length;
g++)u+=t.charCodeAt(g)*613<<8*g;c.fillStyle="#"+a.fX(u&16777215);c.fillRect(0,0,20,n);var v=Math.floor(14*q.$q());
c.fillStyle="#000000";c.font="bold "+v+"px sans-serif";var A=(n-v)/2,$=hI.dB(J.byteLength),X=c.measureText($);
c.fillText($,p-12-X.width,n-A);return B.toDataURL()};function c5(){cy.call(this,[1,15],"pmanager");this.f=null;
this.N9=new kZ([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.N9.D(b.E.n,this.DK,this);
this.body.appendChild(this.N9._);var z=q.m("div","flexrow");this.body.appendChild(z);var J=this.aAa=q.m("div");
z.appendChild(J);var p=q.m("div","form");z.appendChild(p);q.v(p,"width:140px; margin-left:12px");this.alL=[iQ.na,iQ.uN,iQ.EA,iQ.wi,iQ.e_,iQ.Io];
this.cm=[new hm,new a$,new gk,new b6,new lb,new ba];for(var g=0;g<this.cm.length;g++)this.cm[g].parent=this;
this.es=[];for(var g=0;g<4;g++){var n=new eq("Hello",!0,null,!0);n.D("click",this.RZ,this);this.es.push(n);
p.appendChild(n._)}this.DK()}c5.prototype=new cy;c5.prototype.LA=function(z){return z==l5.mP||z==l5.IB};
c5.prototype.RZ=function(z){var g=this.es.indexOf(z.target);this.cm[this.N9.V()].$P(g)};c5.prototype.T=function(){cy.prototype.T.call(this);
this.N9.T();for(var g=0;g<this.cm.length;g++)this.cm[g].T();var z=this.es,J=this.N9.V(),p=iQ.lM[this.alL[J]],n=p[0].toUpperCase();
z[0].MM([[23,6],"."+n]);z[1].MM(["VAR0 ."+n,[1,8]]);z[2].MM([6,37]);z[3].MM([5,4])};c5.prototype.Sc=function(z,J){this.f=z;
this.DK()};c5.prototype.DK=function(z,J){if(!q.SA(this._))return;this.T();q.X0(this.aAa);this.aAa.appendChild(this.cm[this.N9.V()].Sl);
var p=this.cm,n=this.f;if(n==null)return;p[0].fv(n._$);p[1].MU(n.Nb,n.Gh);p[1].fv(n.lX);p[2].fv(n.r0);
p[3].fv([n.Z9,n.r0]);p[4].fv(n.bA);p[5].fv(n.rV)};function iw(z,J,p){cy.call(this,J,"cwindow");this.azE=new i_(p[0],p[1]-33);
this.xl=q.m("div","form");q.v(this.xl,"width:"+(p[2]-p[0])+"px; height:"+(p[3]-p[1])+"px");this.body.appendChild(this.xl)}iw.prototype=new cy;
iw.prototype.k9=function(z,J){return this.azE.P()};function b_(z){var J=b_.ayU(z);cy.call(this,J,"res"+z);
var p=this.apB.bind(this);window.addEventListener("message",function(B){if(typeof B.data=="string"&&B.data.startsWith("--et ")){if(j8.uO()==null)return;
console.log(B.data);var c=this.apP=B.data.slice(5).split(",");c[0]=parseFloat(c[0]);j8.aIq(c[0],c[1],p)}}.bind(this));
this.N4=J;this.cX=z;this.aHZ=null;this.PD=null;this.mx=0;this.SP=null;this.BQ=null;this.apP=null;this.f=null;
q.v(this.body,"padding:0");this.Yc=new eq("",null,null,!0);this.body.appendChild(this.Yc._);this.Yc.D("click",this.sz,this);
q.v(this.Yc._,"position:absolute; margin-top: -28px;  margin-left:150px");this.st=new eq("\u25BC",null,null,!0);
q.v(this.st._,"position:absolute; margin-top: -28px;  margin-left:270px");this.st.D("click",this.ahj,this);
this.body.appendChild(this.st._);this.aW=q.m("span","form");this.body.appendChild(this.aW);this.es=[];
for(var g=0;g<9;g++){var n=new eq(b_.ayU(g));this.es.push(n);if(g==z)n.q(!0);this.aW.appendChild(n._);
n.D("click",this.a6o,this)}this.ae9=new eq([5,3],null,null,!0);this.ae9.D("click",this.aJa,this);this.aes=new eq("Upload Current Document as a Template",null,null,!0);
this.aes.D("click",this.a9o,this);this.a9w=new dz("Creator / Brand name");this.Sn=new eq([1,2],null,null,!0);
this.Sn.D("click",this.f4,this);this.Ev=q.m("iframe","scrollable");q.v(this.Ev,"border:none; margin:0; padding:0;");
this.vB=q.m("div","form scrollable padded");this.Fe=new bT(z);this.Fe.D("back",this.Cj,this);this.Fe.D("save",this.auf,this);
this.body.appendChild(this.Ev)}b_.prototype=new cy;b_.ayU=function(z){var J;if(z==0)J=[25,0];else if(z==1)J="Plugins";
else for(var p in iQ.lM)if(iQ.lM[p][4]==z)J=iQ.lM[p][3];return J};b_.prototype.ahj=function(z){this.aW.style.display=this.aW.style.display=="none"?"":"none"};
b_.prototype.a6o=function(z){var g=this.es.indexOf(z.target);if(g==this.cX)return;this.close();var J=new cD(b.E.c,!0);
J.data={R:b.J.Ym,i9:"res"+g};this.a(J)};b_.prototype.apB=function(z){this.sz();this.BQ=JSON.parse(z.target.response);
this._a()};b_.prototype.k9=function(z,J){return new i_(0,0)};b_.prototype.B$=function(z,J){this.Tx=z;
this.tK=J;this.p2=null;J=J-4;z=z;var p=z>820,n="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",B="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
q.v(this.aW,p?n:B);this.aW.style.marginTop=(p?-31:0)+"px";this.st._.style.display=p?"none":"";var c=this.vB;
c.style.width=z-12+"px";c.style.height=J-12+"px";var c=this.Fe._;c.style.width=z-12+"px";c.style.height=J-12+"px";
var c=this.Ev;c.style.width=z+"px";c.style.height=J+"px";this.GE()};b_.prototype.Sc=function(z,J){this.f=z};
b_.prototype.T=function(){cy.prototype.T.call(this);for(var g=0;g<this.es.length;g++)this.es[g].T();
this.ae9.T()};b_.prototype.DK=function(z,J,p,n){this.p2=z;this.sz(null,!1)};b_.prototype.sz=function(z,J){var p=J!=null?J:q.SA(this.Ev);
if(p){if(!j8.s_()){alert("You need to log in first!");return}var n=j8.nF();if(n==null)n={};this.PD=n.tpl?n.tpl.list:[];
this.a9w.q(n.tpl&&n.tpl.brnd?n.tpl.brnd:"");this.GE()}else{this.Ev.setAttribute("src","");this.Ev.setAttribute("src",j8.DP("templates/index.html?type="+this.cX+""+this.f.wo.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(p?this.vB:this.Ev);var B=j0.get(this.N4);this.Yc.MM(p?"All "+B:"Add "+B)};b_.prototype.GE=function(){var z=j0.get(this.N4),J=this.PD,p=this.cX,u=450;
if(J==null)return;var n=this.vB;q.X0(n);var B=q.m("h1");n.appendChild(B);B.textContent="Share your "+z+" with the world!";
var c=q.m("ul");n.appendChild(c);var t=q.m("li");c.appendChild(t);t.textContent="By publishing your "+z+", you agree to let others use them for all kinds of purposes, even commercially.";
n.appendChild(this.ae9._);if(p==0)n.appendChild(this.aes._);q.Uk(n);n.appendChild(this.a9w._);n.appendChild(this.Sn._);
q.Uk(n);u=(this.Tx-20)/Math.max(1,Math.floor(this.Tx/u))-42;var v="display:inline-block; width:"+u+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var g=J.length-1;g>=0;g--){var A=J[g];if(A.type==null)A.type=0;if(A.type!=p)continue;var $=q.m("div");
n.appendChild($);q.v($,v);var X=q.m("img");$.appendChild(X);X.setAttribute("src",A.thmb);q.v(X,"float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var U=q.m("h3");$.appendChild(U);U.textContent=A.name;q.v(U,"margin:0 0 10px 0");var w=q.m("p");$.appendChild(w);
w.textContent=A.desc;q.v(w,"height:76px;  overflow:hidden; margin-bottom: 6px;");for(var P=0;P<2;P++){var k=new eq(P==0?"Edit":"Delete",null,null,!0);
k.ac2=g;k._a=P==0;k.D("click",this.aB1,this);$.appendChild(k._)}}};b_.prototype.a9o=function(z){if(this.p2==null){alert("No document opened.");
return}var J=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!J)return;var p=new cD(b.E.c,!0);p.data={R:b.J.yE,tS:"psd",QB:this.ant.bind(this)};this.a(p)};b_.prototype.ant=function(z){this.adK=z;
var J=new cD(b.E.c,!0);J.data={R:b.J.yE,tS:"jpg",QB:this.adu.bind(this),a5d:1400};this.a(J)};b_.prototype.adu=function(z){this.SP={type:0,catg:0,desc:"",file:this.adK,name:this.p2.name.split(".")[0],thmb:z,publ:!0,utme:""};
this._a()};b_.prototype.aJa=function(z){this.SP={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this._a()};b_.prototype.aB1=function(z){this.mx=z.target.ac2;if(!z.target._a){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.PD.splice(this.mx,1);this.f4();this.GE();return}this._a()};b_.prototype._a=function(){if(q.SA(this.vB))this.body.removeChild(this.vB);
this.body.appendChild(this.Fe._);var z=this.SP?this.SP:this.BQ?this.BQ:this.PD[this.mx];if(z.type==null)z.type=0;
this.Fe.q(z)};b_.prototype.auf=function(z){var J=this.Fe.V();if(this.SP)this.PD.push(J);else if(this.BQ){var p=this.apP;
j8.aIq(p[0],p[1],this.Cj.bind(this),JSON.stringify(J));return}else this.PD[this.mx]=J;this.f4();this.Cj()};
b_.prototype.Cj=function(){var z=this.BQ;this.SP=null;this.BQ=null;this.body.removeChild(this.Fe._);
this.body.appendChild(this.vB);this.GE();if(z)this.sz()};b_.prototype.f4=function(){var z=j8.nF();if(z==null)z={};
if(this.PD.length==0)delete z.tpl;else{z.tpl={list:a.G(this.PD)};var J=this.a9w.V().trim();if(J!="")z.tpl.brnd=J}j8.GG(z,function(){alert("Saved.")})};
function ke(){cy.call(this,"Make Selection","makesel");var z=q.m("div","form");this.body.appendChild(z);
this.e7=new k9([12,25,1]);this.e7.q(!0);z.appendChild(this.e7._);q.Uk(z);this.acS=new hO(!0);z.appendChild(this.acS._);
this.Wl=q.gE(this,this.body)}ke.prototype=new cy;ke.prototype.T=function(){cy.prototype.T.call(this);
this.acS.T();this.e7.T();this.Wl.T()};ke.prototype.Fs=function(z){var J=new cD(b.E.H,!0);J.l=L.Wu;J.data={R:"frompath",qY:[null,0,this.acS.V(),this.e7.V()]};
this.close();this.a(J)};function i5(){cy.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.p2=null;this.Pc=null;
this.aGV=null;var z=this.aI0=q.m("div","form");q.v(z,"width:20em");this.body.appendChild(z);this.Qh=new fD([12,50],["PSD","PSB"]);
this.Qh.D(b.E.n,this.tj,this);z.appendChild(this.Qh._);q.qk(z);var J=new bm("Minify the file");z.appendChild(J._);
q.Uk(z);var p=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.LJ=[];for(var g=0;g<p.length;g++){var n=new k9(p[g]);this.LJ.push(n);z.appendChild(n._);n.D(b.E.n,this.tj,this)}q.qk(z);
this.p4=new bm("aa.psd");this.Rk=new bm("10 kB");z.appendChild(this.Rk._);this.a7n=new bm("1000 B");
z.appendChild(this.a7n._);this.Wl=new eq([1,2],!0,null,!0);this.Wl.D("click",this.Fs,this);z.appendChild(this.Wl._);
this.gv=new eq(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.gv.D("click",this.Fs,this);z.appendChild(this.gv._);
this.D("closebtn",this.se,this)}i5.prototype=new cy;i5.prototype.DK=function(z,J,p,n){var B=q.SA(this.gv._),c=z.vy!=null&&z.vy.va=="psd";
if(c&&!B)this.aI0.appendChild(this.gv._);if(!c&&B)this.aI0.removeChild(this.gv._);for(var g=0;g<this.LJ.length;
g++)this.LJ[g].q(!1);this.p2=z;this.tj()};i5.prototype.Fs=function(z){if(z.target==this.Wl)jo.save(this.Pc,this.aGV);
else{if(this.LJ[3].V()){alert("You should not save a ZIP as a PSD to Google Drive.");return}l9.a0u(this.p2,this.Pc)}};
i5.prototype.se=function(){this.p2=null;this.Pc=null};i5.prototype.tj=function(){var z=this.p2,J=[!1,!1,!1,!1];
for(var g=0;g<3;g++)J[g]=this.LJ[g].V();var p=this.LJ[3].V(),n=J[3]=this.Qh.V()==1,B=z.name.slice(0,z.name.length-3),c=this.Pc=kL.V5("PSD").D6(z,0,0,J),lj=this.aGV=B+"ps"+(n?"b":"d");
if(p){var t={};t[lj]=new Uint8Array(c);c=this.Pc=UZIP.encode(t);lj=this.aGV=B+"zip"}this.p4.q(lj);this.Rk.q(hI.dB(c.byteLength));
this.Rk._.style["font-size"]="2em";this.a7n.q(" \u2001 "+c.byteLength+" B");this.Wl.MM(j0.get([1,2])+" \""+lj+"\"")};
i5.prototype.T=function(){cy.prototype.T.call(this);this.Qh.T();this.Wl.T();this.gv.T()};function i$(){cy.call(this,"Confirm","confirm");
this.RD=null;var z=q.m("div");q.v(z,"margin-bottom:1em");this.body.appendChild(z);this.jr=q.m("div");
this.jr.textContent="Hello";z.appendChild(this.jr);this.Wl=q.gE(this,this.body)}i$.prototype=new cy;
i$.prototype.Fs=function(z){if(this.RD==null)return;console.log("okconfirm");this.close();this.RD();
this.RD=null};i$.prototype.T=function(){cy.prototype.T.call(this);this.Wl.T()};i$.prototype.DK=function(z,J){if(J.amt||J.aL8)this.jr.innerHTML=J.K;
else this.jr.textContent=J.K;if(J.aEB)this.Wl.MM(J.aEB);this.RD=J.RD;this.Wl._.focus();if(J.amt!=null)this._.style.top=Math.random()*(window.innerHeight-150)+"px";
this.aID=J.amt!=null};i$.prototype.k9=function(z,J){return new i_(Math.max(0,(z-500)/2),Math.max(0,Math.min(60,(J-100)/2)))};
i$.prototype.B$=function(z,J){this.jr.style.width=z-30+"px"};function jX(){cy.call(this,[1,16,2],"newartb");
this.CC=0;this.vD=null;var z=q.m("div","form");z.style.width="260px";this.body.appendChild(z);this._l=new iD;
z.appendChild(this._l._);this.Wl=q.gE(this,z)}jX.prototype=new cy;jX.prototype.zI=function(z,J){return z!=null};
jX.prototype.Fs=function(z){var J=this._l.V();this.vD.r=J.x;this.vD.$=J.y;var p=new cD(b.E.H,!0);p.l=L.oH;
p.data={ajp:this.vD,th:this.CC};this.a(p);this.close()};jX.prototype.T=function(){cy.prototype.T.call(this);
this._l.T();this.Wl.T()};jX.prototype.DK=function(z,J){this.CC=J.th;var p=new fw(0,0,z.r,z.$);if(z.Y.length!=0){var n=z.U[z.Y[0]];
if(n.add.artb){p=n.x0();p.x+=p.r+100}if(J.th==1)p=L.tp.R2(z)}this.vD=p;this._l.q(new i_(p.r,p.$))};function bv(){cy.call(this,[1,19,0],"storwindow");
q.v(this.body,"padding:0");this.wX=null;this.D("closebtn",this.Xm,this);this.D("canclose",this.Xm,this)}bv.prototype=new cy;
bv.prototype.Sc=function(z,J){if(this.wX)this.wX.Sc(z,J)};bv.prototype.k9=function(z,J){return new i_(Math.max(0,Math.min(150,(z-980)/2)),Math.max(0,Math.min(150,(J-590)/2)))};
bv.prototype.B$=function(z,J){this.Tx=z;this.tK=J;z=Math.min(z,980);J=Math.min(J,590);if(this.wX)this.wX.B$(z,J)};
bv.prototype.T=function(){cy.prototype.T.call(this);if(this.wX)this.wX.T()};bv.prototype.DK=function(z,J,p,n){this.YN=J.th==0?["VAR0 VAR1",[1,0],[1,19,1]]:["VAR0 VAR1",[1,2],[1,19,2]];
this.T();if(this.wX==null){this.wX=new j1;this.wX.parent=this;this.body.appendChild(this.wX._);this.T();
this.B$(this.Tx,this.tK)}Storage.OC(J.th,J.xv?J.xv:z?z.name:"",J.cS);j1.ep(this.wX)};bv.prototype.Xm=function(z){Storage.OC(0);
j1.KH();if(z.I=="canclose")this.close()};function i8(){cy.call(this,[2,14],"varsdats");var z=this.xl=q.m("div","form");
q.v(z,"width:300px");this.body.appendChild(z);this.p2=null;this.eP=0;this.f=null;this.gH=new fD(null,[[2,14],"Data Sets",[1,8]]);
this.gH.D(b.E.n,this.aIP,this);this.LP=new i8.aI;this.Au=new i8.hF;this.as=new i8.CL;this.Au.D("activate",this.aV,this);
this.as.D("export",this.q$,this);this.Wl=q.gE(this)}i8.prototype=new cy;i8.prototype.aIP=function(z){var J=this.gH.V(),p=this.xl;
q.X0(p);p.appendChild(this.gH._);q.qk(p);p.appendChild([this.LP,this.Au,this.as][J]._);p.appendChild(this.Wl._)};
i8.prototype.Fs=function(z){var J=new cD(b.E.H,!0);J.l=L.bX;J.data={R:bi.b9,K:JSON.stringify([this.LP.V(),this.Au.V()])};
this.a(J);this.close()};i8.prototype.T=function(){cy.prototype.T.call(this);this.Wl.T();this.as.T()};
i8.prototype.DK=function(z,J){this.p2=z;this.as.p2=z;if(z==null)return;this.LP.DK(z,J);this.Au.DK(z,J);
this.gH.q(0);this.aIP();this.eP=0;this.as.axO()};i8.prototype.Sc=function(z,J){this.f=z};i8.prototype.q$=function(z){var J=this.LP.V(),p=this.Au.V(),n=this.as.V();
if(J.length==0){alert("There are no variables.");return}if(p.length==0){alert("There are no data sets.");
return}var B=kL.aj2(this.p2,J,p,this.Au.a9u(),n[0],n[1],n[2],this.f,this);if(B!=null)jo.save(B,this.p2.name.split(".")[0]+".zip")};
i8.prototype.aV=function(z){var J=this.Au.Y,p=this.LP.V(),n=this.Au.V();if(p.length==0){alert("There are no variables.");
return}if(n.length==0){alert("There are no data sets.");return}this.Kw();this.eP+=kL.aoI(this.p2,this,p,n,this.Au.a9u(),J)};
i8.prototype.Kw=function(){var z=new cD(b.E.H,!0);z.l=L.Mj;z.data={R:"h_stepbck"};while(this.eP>0){this.a(z);
this.eP--}};i8.CL=function(){lh.call(this);var z=this._=q.m("div");this.aGc=new dz("Variable for file names");
z.appendChild(this.aGc._);q.qk(z);this.p2=null;this.H2=["JPG","PNG","PDF"];this.Qh=new fD([12,50],this.H2);
this.Qh.D(b.E.n,this.axO,this);z.appendChild(this.Qh._);this.Em=new gq;z.appendChild(this.Em._);this.ZS=new eq("Export all items",!0,null,!0);
this.ZS.D("click",this.q$,this);z.appendChild(this.ZS._)};i8.CL.prototype=new lh;i8.CL.prototype.T=function(z){this.aGc.T();
this.Qh.T();this.ZS.T();this.Em.T()};i8.CL.prototype.axO=function(z){if(this.p2==null)return;var J=this.H2[this.Qh.V()],p=this.p2,n=p.add.artd;
this.Em.RL(J,null,null,n!=null&&n.Cnt.v>1)};i8.CL.prototype.q$=function(z){this.a(new cD("export"))};
i8.CL.prototype.V=function(){var z=this.H2[this.Qh.V()];return[z,this.Em.V(),this.aGc.V().trim()]};i8.hF=function(){lh.call(this);
this.Jm=null;this.aCN=[];this.Y=0;var z=this._=q.m("div","form");this.a2v=new ck("Import a CSV file");
z.appendChild(this.a2v._);this.a2v.D(b.E.n,this.atJ,this);this.ex=q.m("div","scrollable");q.v(this.ex,"overflow:scroll;  height:234px;");
z.appendChild(this.ex);this.akt=new ck("Source Images",!0);z.appendChild(this.akt._)};i8.hF.prototype=new lh;
i8.hF.prototype.atJ=function(z){var J=this.a2v.V();for(var p in J){J=J[p];break}this.Jm=kg.yi(e.A8(J));
this.xM()};i8.hF.prototype.a9u=function(){return this.akt.V()};i8.hF.prototype.DK=function(z,J){var p=this.Jm=a.G(z.$p);
this.xM()};i8.hF.prototype.V=function(){return this.Jm};i8.hF.prototype.xM=function(){var z=this.vw.bind(this),J=this.Jm,n="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.aCN=[];var p=q.m("table");q.v(p,"border-collapse: collapse;");for(var g=0;g<J.length;g++){var B=q.m("tr"),c=J[g],t=g==0?"th":"td";
p.appendChild(B);var u=q.m(t);B.appendChild(u);q.v(u,n+"cursor:pointer;");if(g!=0)u.textContent="\u2713";
this.aCN.push(u);u.addEventListener("click",z,!1);for(var v=0;v<c.length;v++){var u=q.m(t);u.textContent=c[v];
B.appendChild(u);q.v(u,n);u.setAttribute("title",c[v])}}q.X0(this.ex);this.ex.appendChild(p)};i8.hF.prototype.vw=function(z){this.Y=this.aCN.indexOf(z.currentTarget);
this.a(new cD("activate"))};i8.aI=function(){lh.call(this);var z=this._=q.m("div","form marged");this.mo=null;
this.Y9=[];this.G9=[];this.iI=null;this.t7=new kZ([0,3],[]);this.t7.D(b.E.n,this.aqG,this);z.appendChild(this.t7._);
this.atQ=[];var J=["Visibility","Text Content","Pixel Content"];for(var g=0;g<J.length;g++){q.qk(z);
var p=new k9(J[g]);p.D(b.E.n,this.WW,this);z.appendChild(p._);q.Uk(z);var n=new dz("Variable Name");
n.D(b.E.n,this.WW,this);z.appendChild(n._);this.atQ.push(p,n)}};i8.aI.prototype=new lh;i8.aI.prototype.WW=function(z){var J=this.t7.V(),p=this.iI[J],n=this.Y9[J],B=this.mo["l"+p],c=this.atQ;
if(B==null)this.mo["l"+p]=B=[];while(B.length!=0)B.pop();for(var g=0;g<3;g++){var t=c[2*g+1].V().trim();
if(!c[2*g].V())continue;if(t.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}t=t.replaceAll(" ","");
var u={varName:t,trait:["visibility","textcontent","fileref"][g]};B.push(u);if(g==2){u.align="center";
u.clip="false";u.placementMethod="fit";u.valign="middle"}}if(B.length==0)delete this.mo["l"+p];this.DK()};
i8.aI.prototype.aqG=function(z){var J=this.t7.V(),p=this.iI[J],n=this.Y9[J],B=this.mo["l"+p],c=this.atQ;
if(B==null)B=[];for(var g=0;g<3;g++){var t=g==0||g==1&&n==0||g==2&&n==1;c[2*g].h6(t);c[2*g].q(!1);c[2*g+1].h6(t);
if(!t)c[2*g+1].q("")}for(var g=0;g<B.length;g++){var u=B[g],v=u.trait,A=["visibility","textcontent","fileref"].indexOf(v);
c[A*2].q(!0);c[A*2+1].q(u.varName)}};i8.aI.prototype.DK=function(z,J){if(z){var p=a.G(z.gP),n=this.mo={};
for(var g=0;g<p.length;g++){var B=p[g],c=B.docRef;c="l"+c.slice(4,c.length-2);if(n[c]==null)n[c]=[];
n[c].push(B)}this.iI=[];this.Y9=[];this.G9=[];for(var g=z.U.length-1;g>=0;g--){var t=z.U[g],c=t.add.lyid;
if(t.add.lsct==cp.hX)continue;this.iI.push(c);this.Y9.push(t.add.TySh?0:1);this.G9.push(t.getName())}}var u=[],v=this.G9;
for(var g=0;g<v.length;g++){u.push(v[g]+(this.mo["l"+this.iI[g]]?" *":""))}var A=this.t7.V();this.t7.jE(u);
this.t7.q(A);this.aqG()};i8.aI.prototype.V=function(){var z=this.mo,J=[];for(var p in z){var n=z[p];
for(var B=0;B<n.length;B++){n[B].docRef="id('"+p.slice(1)+"')";J.push(n[B])}}return J};function cO(){cy.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.alw=!1;var z=this.i0=[],J=q.m("div","form");q.v(J,"width:20em");this.body.appendChild(J);for(var g=0;
g<2;g++){var p=new k9([22,4,2+g]);J.appendChild(p._);q.Uk(J);var n=new fD(null,[["N equal parts"],["N pixels per part"]]);
J.appendChild(n._);q.Uk(J);var B=new kW("N",0,1e3);B.q(4);B.parent=this;J.appendChild(B._);q.Uk(J);if(g==0)q.qk(J);
z.push(p,n,B)}for(var g=0;g<z.length;g++)z[g].D(b.E.n,this.CA,this);z.push(q.gE(this,J));this.D("closebtn",this.Kw,this)}cO.prototype=new cy;
cO.prototype.Kw=function(){if(this.alw){var z=new cD(b.E.H,!0);z.l=L.Mj;z.data={R:"h_stepbck"};this.a(z)}};
cO.prototype.CA=function(z){this.Kw();this.alw=!0;var J=[];for(var g=0;g<6;g++)J.push(this.i0[g].V());
var p={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var n=0;n<2;n++){if(!J[n*3])continue;var B=J[n*3+1],c=J[n*3+2];p[["slices","pixels"][B]+["Across","Down"][n]]={t:"long",v:c}}var t=new cD(b.E.wR,!0);
t.data={rK:"divide",m$:p};this.a(t)};cO.prototype.Fs=function(z){this.close()};cO.prototype.T=function(){cy.prototype.T.call(this);
var z=this.i0;for(var g=0;g<z.length;g++)z[g].T()};cO.prototype.DK=function(z,J){this.alw=!1};function f3(){cy.call(this,"Stroke Path","strokepath");
this.f=null;this.r2=null;this.a1Y=null;this.Wl=null;this.aL1=[L.eA,L.na,L.ta,L.Pl,L.gb,L.pb,L.xz,L.Dv,L.b6,L.pq,L.Zz,L.OA,L.hd,L.$R,L.qC]}f3.prototype=new cy;
f3.prototype.T=function(){cy.prototype.T.call(this);if(this.Wl){this.r2.T();this.Wl.T()}};f3.prototype.Fs=function(z){var J=this.aL1[this.r2.V()],p=null;
for(var n in L.f3)if(L.f3[n]==J)p=n;var B=new cD(b.E.wR,!0);B.data=L.YG.K2(p,this.a1Y.V());this.close();
this.a(B)};f3.prototype.Sc=function(z,J){if(this.f==null){var p=[];for(var g=0;g<this.aL1.length;++g){p.push(z.Z.map[this.aL1[g]].l.name)}var n=q.m("div","form");
this.body.appendChild(n);this.r2=new kZ("Tool",p);this.r2.q(1);n.appendChild(this.r2._);this.a1Y=new k9("Simulate Pressure");
q.Uk(n);n.appendChild(this.a1Y._);this.Wl=q.gE(this,this.body)}this.f=z};function dO(){cy.call(this,[1,18],"linkview");
q.$y(this.body,"form");var z=this.ri=[new dz(null,null,17),new eq([5,1],!1,null,!0),new eq([1,0],!1,null,!0)];
for(var g=0;g<3;g++){var J=z[g];this.body.appendChild(J._);if(g!=0)J.D("click",this.LY,this);if(g==0)q.Uk(this.body)}}dO.prototype=new cy;
dO.prototype.DK=function(z,J){var p=J.aa4;if(p.startsWith("https://"))p=p.slice(8);this.ri[0].q(p)};
dO.prototype.LY=function(z){var J=this.ri,p=J[0].V(),n=z.target==this.ri[1];if(n){navigator.clipboard.writeText(p);
alert("Copied to a clipboard!")}else window.open("https://"+p,"Shared")};function iK(z){cy.call(this,z==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][z]);
this.U4=null;this.de=z;var J=q.m("div","form label8");q.v(J,"max-width:26em");this.body.appendChild(J);
this.yt=new kZ("Document",["abc","def"]);this.yt.D(b.E.n,this.WW,this);J.appendChild(this.yt._);q.Uk(J);
this.Ho=new kZ([12,4],["abc","def"]);this.Ho.D(b.E.n,this.WW,this);J.appendChild(this.Ho._);this.aCP=new k9([4,11]);
this.jr=new dz([12,48]);this.jr.q("Alpha");if(z==0){}else{J.appendChild(this.jr._)}this.Ws=new hO(!0);
J.appendChild(this.Ws._);this.Wl=q.gE(this,J)}iK.prototype=new cy;iK.prototype.pf=function(){return!0};
iK.prototype.T=function(){cy.prototype.T.call(this);this.Wl.T();this.yt.T();this.Ho.T();this.jr.T();
this.aCP.T();this.Ws.T()};iK.prototype.WW=function(z){var J=this.de;if(z==null||z==this.yt){var p=this.yt.V(),n=this.U4[p],B=[];
if(J==0)B.push(n.U[n.Y[0]].getName()+" Transparency",n.U[n.Y[0]].getName()+" Gray");else B.push([5,3]);
for(var g=0;g<n.b8.length;g++)B.push(n.b8[g].name);this.Ho.jE(B)}if(J==0)return;var c=this.Ho.V();this.jr.h6(c==0);
this.Ws.h6(c!=0)};iK.prototype.DK=function(z,J,p){this.U4=p;var n=[];for(var g=0;g<p.length;g++){var B=p[g].name;
n.push(B.length<30?B:B.slice(0,27)+"...")}this.yt.jE(n);this.yt.q(p.indexOf(z));this.WW(null)};iK.prototype.Fs=function(z){var J=this.de,p=this.Ho.V(),n=this.yt.V(),B=this.U4[n],c=this.Ws.V(),t,u=!1;
if(J==0){if(p==1)u=!0;p=Math.max(p-1,0)}if(p==0){t=new cD(b.E.wR,!0);if(J==0)t.data=L.gL.tG(c,u?"Gray":"Trsp",B.U[B.Y[0]].getName());
else t.data={rK:"duplicate",m$:{classID:"null",Nm:{t:"TEXT",v:this.jr.V()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{t=new cD(b.E.H,!0);
if(J==0){t.l=L.Wu;t.data={R:"fromchannel",qY:[-4-p,0,c]}}else{t.l=L.bX;t.data={R:bi.JY,el:"seltochannel",qY:[p-1,c]}}}this.close();
this.a(t)};function gQ(){cy.call(this,"PeaMark","peamark");var z=q.m("div");z.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small>";
this.body.appendChild(z);z.style.marginBottom="40px";var J=q.m("div","form");q.v(this.body,"width:320px;");
this.body.appendChild(J);this.ayy=!1;this.KB=[];this.Cd=[];this.aGs=[];for(var g=0;g<3;g++){var z=q.m("span");
z.textContent="0";J.appendChild(z);q.v(z,"text-align:center; font-size:2em;  width:50%; display:inline-block; vertical-align:middle;");
var p=new eq("Test "+["CPU","GPU","free RAM"][g],!1,null,!0);J.appendChild(p._);q.v(p._,"width:50%; margin-right:0px;");
p.D("click",this.avd,this);this.KB.push(z);this.aGs.push(p);var n=q.m("hr");this.Cd.push(n);if(g!=2)J.appendChild(n);
q.v(n,"height:2px; background-color:#00ff00")}q.Uk(this.body);this.asj=new eq("Browse scores",!1,null,!0);
var B=this.asj._;this.body.appendChild(B);this.asj.D("click",this.aDv,this);q.v(B,"position:absolute;top:100px;left:13px;");
this.a5P=new eq("Tweet your score!",!1,null,!0);var B=this.a5P._;this.body.appendChild(B);this.a5P.D("click",this.aDv,this);
q.v(B,"position:absolute;top:100px;right:13px;");this.kX=q.m("div","scrollable");this.body.appendChild(this.kX);
this.kX.style.height="226px";this.Nt=[];this.aCk=0;this.axZ=this.awo.bind(this);this.a4h()}gQ.prototype=new cy;
gQ.prototype.aDv=function(z){var J=PMRK,p;if(z.target==this.asj){p="https://twitter.com/hashtag/peamark?f=live"}else{var n=J[J.length-1];
if(Math.min(n[2],n[3])==0){alert("Run both tests first.");return}p="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+n[2]+"/"+n[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open(p,"_blank")};
gQ.prototype.avd=function(z){var J=this.aGs.indexOf(z.target),p=1024,n=1024,B=new fw(0,0,p,n),c=this.axZ;
if(J==0){var t=a.j(B.C());for(var u=0;u<n;u++)for(var v=0;v<p;v++)t[u*p+v]=((u>>>7)+(v>>>7)&1)*255;this.Nt=[J,t,p,n];
for(var g=0;g<4;g++)c(!0)}else if(J==1){var A=a.j(B.C()*4),$=co.Ud(1,p,n);$.set(A);a.dz(A,4278190335);
var X=co.Ud(0,p,n);X.set(A);var U=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],w={I:co.filter.aFw,lw:new Float32Array([1/p,1/n]),avv:0,TU:20,akv:new Float32Array([0,1]),amz:new Float32Array([0,0,0]),a3O:new Float32Array(U),aER:new Float32Array(U)};
this.Nt=[J,w,A,X,$];c(!0)}else{if(this.ayy){alert("Close all documents before running this test.");return}this.Nt=[J,[]];
c(!0)}this.aJy=[[0,0],[0,0],[0,0]];this.aCk=Date.now();setTimeout(this.axZ,20)};gQ.prototype.awo=function(z){var J=this.Nt,p=J[0],n=Date.now(),t=!1,u;
if(p==0){a.style.xO(J[1],J[2],J[3])}else if(p==1){co.C4(J[4]);co.filter.PW(J[1],J[3].zu);J[4].get(J[2])}if(z)return;
var B=Date.now()-n,c=this.aJy[p];c[0]+=B;c[1]++;if(p<2){var v=[26,73];u=Math.round(1e3*v[p]/(c[0]/c[1]));
var A=(Date.now()-this.aCk)/5e3,t=A>1;this.Cd[p].style.width=Math.min(100,A*100)+"%"}else{var $=128*(1<<20);
try{var X=new Uint8Array($);X.fill(117);J[1].push(X)}catch(l5){t=!0;this.Nt=null;alert("finished")}u=(J[1].length*$/(1<<30)).toFixed(2)+" GB"}this.KB[p].textContent=u;
if(!t)setTimeout(this.axZ,20);else{var U=PMRK;U[U.length-1][2+p]=u;this.a4h()}};gQ.prototype.a4h=function(){var z=this.kX,p="",n=" style=\"text-align:right; width:4em;\">";
q.X0(z);var J=PMRK.slice(0);J.sort(function(v,A){return 1e3*(A[2]-v[2])+(A[3]-v[3])});var B="<td"+n,c="<th"+n;
for(var g=0;g<J.length;g++){var t=J[g],u=null;if((g&1)==0)u="rgba(255,255,255,0.05)";if(t[1]=="Your Device")u="rgba(255,255,0,0.2)";
p+="<tr style=\""+(u?" background-color:"+u:"")+"\"><td style=\"text-align:center\">"+["\uD83D\uDDA5","\uD83D\uDCBB","\uD83D\uDCF1","\uD83D\uDCF1"][t[0]]+"</td><td>"+t[1]+"</td>"+B+t[2]+"</td>"+B+t[3]+"</td></tr>"}z.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th></th><th style=\"width:13.7em;\">Device</th>"+c+"CPU</th>"+c+"GPU</th></tr>"+p+"</table>"};
gQ.prototype.DK=function(z,J,p,n){this.ayy=z!=null};function d7(){cy.call(this,"Measurement Scale","measscale");
var z=q.m("div","form label8");z.style.width="300px";this.body.appendChild(z);var J=this.gG=[new dz("Pixel Length"),new dz("Logical Length"),new dz("Unit Name"),new bm("Hi")];
for(var g=0;g<4;g++){var p=J[g];p.D(b.E.n,this.WW,this);z.appendChild(p._)}this.Wl=q.gE(this,z)}d7.prototype=new cy;
d7.prototype.k9=function(z,J){return new i_(Math.max(0,Math.min(150,(z-250)/2)),Math.max(0,Math.min(150,(J-120)/2)))};
d7.prototype.WW=function(z){var J=this.gG;J[3].q(J[0].V()+" pixels = "+J[1].V()+" "+J[2].V())};d7.prototype.Fs=function(z){var J=this.gG,p=[];
for(var g=0;g<3;g++)p.push(J[g].V());p[0]=parseFloat(p[0]);p[1]=parseFloat(p[1]);var n=new cD(b.E.H,!0);
n.l=L.nB;n.data={R:"unit",K:p};this.a(n);this.close()};d7.prototype.T=function(){cy.prototype.T.call(this);
var z=this.gG;for(var g=0;g<z.length;g++)z[g].T()};d7.prototype.DK=function(z,J){var p=this.gG;p[0].q(Math.round(J.R6));
if(z.I7){var n=z.I7.T.v;console.log(n);p[1].q(n.logicalLength.v);p[2].q(n.logicalUnits.v)}else{p[1].q(1);
p[2].q("unitName")}this.WW()};function a6(){cy.call(this,"Transform","transform");var z=this.xl=q.m("div","form label6");
this.body.appendChild(z);this.aDp=0;this.rJ=[[new kW([22,4,0],-1e3,1e3),new kW([22,4,1],-1e3,1e3),"-",new kW([12,28],-1e3,1e3),new dq([12,15],!1,!1)],[new dq([12,15],!1,!1)],[new fD("Reflect",[[22,4,0],[22,4,1]])],[new kW([22,4,0],-500,500,"%"),new kW([22,4,1],-500,500,"%")],[]];
this.rJ[3][0].q(100);this.rJ[3][1].q(100);this.Wl=q.gE(this,this.body)}a6.prototype=new cy;a6.prototype.T=function(){cy.prototype.T.call(this);
var z=this.rJ;for(var g=0;g<z.length;g++){var J=z[g];for(var p=0;p<J.length;p++)if(J[p]!="-")J[p].T()}this.Wl.T()};
a6.prototype.DK=function(z,J,p,n){var B=this.aDp=J.el,c=this.xl,t=this.rJ[B];this.YN=[[12,54],[2,5],"Reflect",[12,38],[24,5,4]][B];
q.X0(c);for(var g=0;g<t.length;g++){var u=t[g];if(u=="-"){q.qk(c);continue}u.q(u.V());u.parent=this;
c.appendChild(u._);q.Uk(c)}this.T()};a6.prototype.Fs=function(z){var J=this.aDp,p=this.rJ[J],n="",B=[];
for(var g=0;g<p.length;g++)if(p[g]!="-")B.push(p[g].V());console.log(B);if(J==0){var c=B[0],t=B[1];if(B[2]!=0){var u=B[3][0]*Math.PI/180;
c=B[2]*Math.cos(u);t=-B[2]*Math.sin(u)}n="translate("+c+","+t+");"}if(J==1)n="rotate("+-B[0][0]+");";
if(J==2){var v=1,A=1;if(B[0]==0)A=-1;else v=-1;n="resize("+v*100+","+A*100+");"}if(J==3){n="resize("+B[0]+","+B[1]+");"}console.log(n);
var $=new cD(b.E.c,!0);$.data={R:b.J.$W,w0:"app.activeDocument.activeLayer."+n};this.close();this.a($)};
function bb(z,J,p,n){lh.call(this);this.name=z;this.aCn=p;this.Ss=n;this.fo=q.m("div","");this.fo.setAttribute("draggable","true");
this.sZ=q.m("div","pbody");this.Tg=new eq("",!1,"");this.Tg.parent=this;this.aeX=q.m("span","cross gsicon");
this.ij=q.m("span","label");var B=this.awi.bind(this);this.fo.addEventListener("mousedown",this.rw.bind(this),!1);
this.fo.addEventListener("contextmenu",B,!1);this.Tg._.addEventListener("contextmenu",B,!1);this.aeX.addEventListener("mousedown",this.ON.bind(this),!1);
this.fo.appendChild(this.ij);if(J)this.fo.appendChild(this.aeX);this.FD=!1;this.ij.textContent=z}bb.prototype=new lh;
bb.prototype.Gz=function(){return null};bb.prototype.T=function(){var z=j0.get(this.name),J=!1,p=this.Tx==0?22:Math.round(2+this.Tx/50);
if(z.endsWith(" *")){J=!0;z=z.slice(0,z.length-2);p-=2}var n=z.length>p;this.ij.textContent=n?z.slice(0,p-2):z;
this.fo.setAttribute("title",z);if(n)for(var B=0;B<2;B++){var c=q.m("span");c.textContent=z.charAt(p-2+B);
q.v(c,"opacity:"+(.6-B*.4));this.ij.appendChild(c)}if(J){var c=q.m("span");c.textContent=" *";this.ij.appendChild(c)}var t=z.split(" "),u=t.length==2?t[0].substring(0,2)+t[1][0]:z.substring(0,3);
if(u.charCodeAt(0)>=11776)u=u.substring(0,1);var v=this.aCn;if(v==null)this.Tg.MM(u,z);else{var A;if(v.startsWith("---"))A="<img src=\""+PIMG[v.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(v.startsWith("==="))A="<img src=\""+v.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(v.indexOf("\"")==-1)A="<img src=\""+v+"\" alt=\""+q.kT(z).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Tg.MM(A,z)}};bb.prototype.enable=function(){this.sZ.className="pbody"};bb.prototype.disable=function(){this.sZ.className="pbody disabled"};
bb.prototype.Sc=function(z,J){};bb.prototype.DK=function(z,J,p){};bb.prototype.w1=function(z){};bb.prototype.B$=function(z,J){};
bb.prototype.FX=function(z){this.name=z;this.T()};bb.prototype.Jw=function(){};bb.prototype.rw=function(z){if(z.button==0)this.a(new cD("select",!1));
if(z.button==1)this.t2()};bb.prototype.awi=function(z){q.$D(z);var J=this.Ss!=null&&isNaN(this.Ss),p=q.bZ(z,document.body),n=this.a6C;
if(n==null){n=this.a6C=new ka(J?[{name:"Uninstall Plugin"}]:[{name:[1,12,0]},{name:"Close All"},{name:"Close Others"}]);
this.a6C.D("select",this.ab9,this)}n.update(null);n.T();n.parent=this;var B=new cD(b.E.c,!0);B.data={R:b.J.v0,NC:n,x:p.x+1,y:p.y+1};
this.a(B)};bb.prototype.t2=function(){if(this.Ss!=null){var z=new cD(b.E.c,!0);z.data={R:b.J.t9,NC:this.a6C};
this.a(z);if(isNaN(this.Ss)){z.data={R:b.J.bS,Xu:iQ.Rn,ae5:this.DA.resID}}else{z.data={R:b.J.bS,Xu:iQ.OO,K:parseFloat(this.Ss),c$:"del"}}this.a(z)}else if(this.a0R())this.a(new cD(b.E.Sj,!1))};
bb.prototype.a0R=function(z){return!0};bb.prototype.ON=function(z){if(z.stopPropagation)z.stopPropagation();
this.t2()};bb.prototype.ab9=function(z){var g=z.target.cw()[0];if(g==0)this.t2();else{var J=new cD(b.E.Sj,!1);
J.data=g-1;this.a(J)}};bb.prototype.lW=function(z,J,p,n,B){};bb.prototype.dV=function(z,J,p,n,B){};bb.prototype.mI=function(z,J,p,n,B){};
bb.hB=function(z,J,p){if(z.childElementCount!=0)return;var n=z.textContent;this.RH=this.aqi.bind(this);
this.ayj=this.aiZ.bind(this);this.xq=J;this.ar6=p;this.Oy=z;this.Yy=n;var B=q.m("input","");B.setAttribute("type","text");
B.setAttribute("size","10");B.setAttribute("value",n);q.X0(z);z.appendChild(B);B.select();B.focus();
q.Uj(z);z.addEventListener("keyup",this.RH,!1);document.body.addEventListener("mousedown",this.ayj,!1)};
bb.hB.prototype.aqi=function(z){var J=l5.Oh,p=J(z.code,l5.Kd);if(J(z.code,l5.Mz)||p)this.a18(p)};bb.hB.prototype.aiZ=function(z){var J=z.target;
if(J.tagName&&J.tagName.toLowerCase()=="input")return;this.a18(!0)};bb.hB.prototype.a18=function(z){var J=this.Oy,p=J.firstChild.value;
J.removeEventListener("keyup",this.RH);document.body.removeEventListener("mousedown",this.ayj);if(this.ar6||z&&p!=""&&p!=this.Yy){this.xq(p)}else{q.X0(J);
J.textContent=this.Yy}};bb._e=function(){return[0,1,2,3,5,6,7,9,10,16,17,100]};bb.aH7=function(z){var J=bb._e(),p=[];
for(var g=0;g<z.length;g++)if(J.indexOf(z[g])==-1)p.push(z[g]);for(var g=0;g<J.length;g++)if(z.indexOf(J[g])==-1)p.push(-J[g]);
return p};bb.atN=function(z){var J=bb._e();for(var g=0;g<z.length;g++){var p=z[g],n=J.indexOf(p);if(n==-1)n=J.indexOf(-p);
if(0<=p&&n==-1)J.push(p);if(p<0&&n!=-1)J.splice(n,1);if(p==0&&n!=-1)J.splice(n,1)}return J};bb.yK={Mj:"0",ar8:"1",bX:"2",av_:"3",a4S:"4",yU:"5",CSS:"6",na:"7",aqT:"8",aFN:"9",a7y:"10",a5Q:"11",agn:"12",Hm:"13",XW:"14",ahL:"15",a5G:"16",wI:"17",aKx:"18",aa1:"19",a2S:"20",wi:"21",aq6:"22",aoX:"23",aem:"24",aK5:"25",a1L:"26",auD:"27",kZ:"28"};
function di(){bb.call(this,[9,9],!1,"---panels/actions",bb.yK.a5Q);this.f=null;this.Jn=[0,0]}di.prototype=new bb("");
di.prototype.N5=function(){if(!q.SA(this.sZ))return;if(this.Cl){this.xM();return}this.Cl=q.m("div","padded scrollable");
q.v(this.Cl,"width:260px;  height:260px");this.sZ.appendChild(this.Cl);this.D(b.E.n,this.fk,this);this.x4=q.m("div","lpfoot");
this.sZ.appendChild(this.x4);this.cm=[];var z="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",J="</svg>",p=z+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+J,n=z+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+J;
this.abY=z+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+J;this.ayO=z+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+J;
var B=[this.abY,n,"lrs/folder","lrs/newlayer","lrs/bin",p],c=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var g=0;g<B.length;g++){var t=B[g];if(1<g&&g!=B.length-1)t="<img src=\""+PIMG[B[g]]+"\" class=\"miniscale gsicon\" />";
var u=new eq(t,!1,c[g]);u.D("click",this.rv,this);this.x4.appendChild(u._);this.cm.push(u)}this.xM()};
di.prototype.T=function(){bb.prototype.T.call(this);if(this.Cl==null)return;for(var g=0;g<this.cm.length;
g++)this.cm[g].T()};di.prototype.rv=function(z){var g=this.cm.indexOf(z.currentTarget),J=this.Jn,p=this.f,n=p.MD;
if(g==0){var B,c=p.T7;if(n.length==0){alert("Create an Action Set first.");return}if(J.length<2){alert("Select a target action first.");
return}if(c==null){B=this.ayO;c=this.Jn}else{B=this.abY;c=null}this.cm[0].MM(B);p.T7=c}else if(g==1)this.abJ();
else if(g==2||g==3){var t={cN:"Action Set "+n.length,B7:[],exp:!0};if(g==2||n.length==0){J=[n.length];
n.push(t)}if(g==3){var u=n[J[0]].B7;J=[J[0],u.length];u.push({cN:"Action "+u.length,color:0,B7:[],atu:!1,shift:!1,exp:!0,GU:u.length})}this.Jn=J;
this.xM()}else if(g==4){var v;if(J.length==1)v=n;else if(J.length==2)v=n[J[0]].B7;else v=n[J[0]].B7[J[1]].B7;
var A=J.length-1;v.splice(J[A],1);if(v.length==0)J.pop();else while(J[A]>=v.length)J[A]--;if(J.length==0)J.push(0);
this.xM()}else if(g==5){if(n.length==0){alert("No Actions Present.");return}var $=new cD(b.E.c,!0);$.data={R:b.J.y1,asZ:iQ.H,Lz:[J[0]]};
this.a($)}};di.prototype.fk=function(z){var J=this.f.MD,p=z.data.R,n=z.data.WC;if(p=="sel")this.Jn=n;
if(p=="fold"){if(n.length==1)J[n[0]].exp=!J[n[0]].exp;else J[n[0]].B7[n[1]].exp=!J[n[0]].B7[n[1]].exp}if(p=="enab"){var B=J[n[0]].B7[n[1]].B7[n[2]];
B.e=!B.e}if(p=="nchange"){if(n.length==1)J[n[0]].cN=z.data.s6;else J[n[0]].B7[n[1]].cN=z.data.s6}this.xM()};
di.prototype.DK=di.prototype.Jw=function(){this.N5()};di.prototype.Sc=function(z,J){this.f=z;if(this.Cl==null)return;
if(J==iQ.H||J==iQ.hl)this.xM()};di.prototype.xM=function(){if(this.f==null)return;q.X0(this.Cl);var z=this.f.MD;
if(z.length==0)return;var J=JSON.stringify(this.Jn);for(var g=0;g<z.length;g++){var p=z[g],n=new di.HF([g],J,p.exp,p.cN.split("=").pop());
n.parent=this;this.Cl.appendChild(n._);if(!p.exp)continue;for(var B=0;B<p.B7.length;B++){var c=p.B7[B],n=new di.HF([g,B],J,c.exp,c.cN.split("=").pop());
n.parent=this;this.Cl.appendChild(n._);if(!c.exp)continue;for(var t=0;t<c.B7.length;t++){var u=c.B7[t],n=new di.HF([g,B,t],J,null,j0.get(dB.awQ(u)),u.e);
n.parent=this;this.Cl.appendChild(n._)}}}};di.prototype.abJ=function(){var z=this.f.MD,J=this.Jn;if(z.length==0){alert("No Actions Present");
return}if(J.length==1){alert("Select an Action first");return}if(this.f.T7!=null){alert("You can not apply actions while recording actions");
return}if(J.length==1)J.push(0);var p=z[J[0]],n=p.B7[J[1]],B=new cD(b.E.c,!0);B.data={R:b.J.Zj,qY:[n.cN,p.cN]};
this.a(B)};di.HF=function(z,J,p,n,B){lh.call(this);this.WC=z;var c=this.WC.length-1;this._=q.m("div","layeritem"+(JSON.stringify(z)==J?" selected":""));
this.Tz=q.m("div","head");this._.appendChild(this.Tz);q.v(this.Tz,"height:24px");this.EF=q.m("div","headL");
this.Tz.appendChild(this.EF);if(c!=0){var t=q.m("div");t.style.width=c*20+"px";this.EF.appendChild(t)}if(p!=null){var u=this.aDX=q.m("div",p?"open":"closed");
this.EF.appendChild(u)}else{var v=this.aG0=q.m("div","cmark");q.v(v,"background-size:12px 12px; opacity:"+(B?1:.3));
this.EF.appendChild(v)}if(c==0){var A=q.m("div","folder");this.EF.appendChild(A)}var $=this.ij=q.m("div","label");
$.textContent=n;this.EF.appendChild($);this._.addEventListener("mouseup",this.aV.bind(this),!1)};di.HF.prototype=new lh;
di.HF.prototype.aV=function(z){if(z.detail==1&&z.target.tagName.toLowerCase()!="input"){var J="sel";
if(z.target==this.aDX)J="fold";if(z.target==this.aG0)J="enab";var p=new cD(b.E.n,!0);p.data={R:J,WC:this.WC};
this.a(p)}else if(this.WC.length<3)var n=new bb.hB(this.ij,this.xq.bind(this))};di.HF.prototype.xq=function(z){var J=new cD(b.E.n,!0);
J.data={R:"nchange",s6:z,WC:this.WC};this.a(J)};function cK(){bb.call(this,[3],!1,"---lrs/adj",bb.yK.aKx)}cK.prototype=new bb("");
cK.prototype.N5=function(){if(!q.SA(this.sZ)||this.cm)return;q.v(this.sZ,"text-align:center;  padding:6px; min-width:220px");
this.cm=[];var g=0;for(var z in fs.names){var J=new eq("<img src=\""+PIMG["adj/"+z]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,fs.names[z]);
J.D("click",this.qn,this);this.cm.push(J);this.sZ.appendChild(J._);if(g==4||g==10)q.Uk(this.sZ);g++}this.T()};
cK.prototype.DK=function(){this.N5()};cK.prototype.Jw=function(){this.N5()};cK.prototype.T=function(){bb.prototype.T.call(this);
if(this.cm==null)return;for(var g=0;g<this.cm.length;g++)this.cm[g].T()};cK.prototype.qn=function(z){var J=this.cm.indexOf(z.target),p=g0.AZ()[J],n=new cD(p.g,!0);
n.data=p.d;this.a(n)};function d_(){bb.call(this,[12,22],!1,null,bb.yK.wi);this.Cl=q.m("div","padded");
this.f=null;this.sZ.appendChild(this.Cl);this.Xw=new b6(null,17.7,10);this.Xw.parent=this;this.Xw.D(b.E.n,this.CA,this);
this.Cl.appendChild(this.Xw.Sl)}d_.prototype=new bb("");d_.prototype.CA=function(z){var J=this.Xw.V(),p=new cD(b.E.H,!0);
p.data={R:"setstl",K:J.pY};p.l=L.bV;this.a(p);p.data={R:"confirm"};this.a(p)};d_.prototype.Sc=function(z,J){this.f=z;
if(z==null)return;if(J==iQ.hl||J==iQ.wi){this.Xw.fv([z.Z9,z.r0]);this.Xw.B$()}};d_.prototype.xM=function(){this.Xw.QU()};
d_.prototype.DK=function(){this.xM()};d_.prototype.Jw=function(){this.xM()};var dK=function(){function z(){bb.call(this,[9,3],!1,"---panels/brush",bb.yK.na);
this.to=null;this.f=null}z.prototype=new bb("");z.prototype.N5=function(){var B=q.m("div","");this.sZ.appendChild(B);
this.S0=q.m("div","bordered cell");q.v(this.S0,"width:10em; height:28.5em;");B.appendChild(this.S0);
this.CX=[];this.akp=null;this.uT=[];var c=this.ayS.bind(this);this.e8=[new p("basic"),new p("useTipDynamics"),new p("useScatter"),new p("useColorDynamics"),new p("usePaintDynamics")];
for(var g=0;g<this.e8.length;g++){var t=q.m("div","listitem"),u=this.e8[g],A=null;u.parent=this;u.D("brushchange",this.aFQ,this);
var v=u.Xt;if(g==0){this.akp=new bm(v);t.appendChild(this.akp._)}else{A=new k9(v,!1);A.D(b.E.n,this.aFT,this);
t.appendChild(A._)}this.uT.push(A);this.S0.appendChild(t);this.CX.push(t);t.addEventListener("click",c,!1)}this.o7=q.m("div","cell padded");
B.appendChild(this.o7);this.setItem(0);this._V=q.m("canvas");this._V.height=10;B.appendChild(this._V);
this.$l=this._V.getContext("2d");this.x9()};z.prototype.B$=function(B,c){if(this.Tx==B)return;this.Tx=B;
this.tK=c;this.x9()};z.prototype.Jw=function(){if(!q.SA(this.sZ))return;if(this.S0){this.x9();return}this.N5();
this.T();this.Sc(this.f,iQ.hl)};z.prototype.T=function(){bb.prototype.T.call(this);if(this.S0==null)return;
this.akp.T();for(var g=1;g<this.uT.length;g++)this.uT[g].T();for(var g=0;g<this.e8.length;g++)this.e8[g].T()};
z.prototype.aFQ=function(B){var c=this.e8.indexOf(B.currentTarget),t=a.G(this.e8[c].to),u=new cD(b.E.c,!0);
u.data={R:b.J.bS,Xu:iQ.Pr,to:t};this.a(u)};z.prototype.aFT=function(B){this.a96(this.uT.indexOf(B.currentTarget),B.currentTarget.nL())};
z.prototype.ayS=function(B){var g=this.CX.indexOf(B.currentTarget);if(B.target.tagName.toLowerCase()=="input")return;
if(this.uT[g]&&!this.uT[g].nL()){this.uT[g].ZN();this.a96(g,!0)}this.setItem(g)};z.prototype.a96=function(B,c){this.e8[B].alp(c)};
z.prototype.setItem=function(B){for(var g=0;g<this.e8.length;g++)this.CX[g].className="listitem";if(this.o7.firstChild)this.o7.removeChild(this.o7.firstChild);
this.CX[B].className="listitem selected";this.o7.appendChild(this.e8[B]._)};z.prototype.Sc=function(B,c){this.f=B;
if(this.S0==null)return;for(var g=0;g<this.e8.length;g++)this.e8[g].Sc(B,c);if(c==iQ.Pr||c==iQ.hl){this.to=B._$.fO;
this.x9()}if(c==iQ.Hm)this.x9()};z.prototype.x9=function(){if(this.to)this.enable();else{this.disable();
return}if(!q.SA(this.sZ))return;var B=this.f;for(var g=0;g<this.e8.length;g++){this.e8[g].q(this.to);
if(this.uT[g])this.uT[g].q(this.e8[g].nL())}var c=a.G(this.to);c.Brsh.v.Dmtr.v.val=Math.min(c.Brsh.v.Dmtr.v.val,50);
q.jI(this._V,this.Tx,80);var t=new fw(0,0,this._V.width,this._V.height),u=this.f._$,v=new dJ(c,u?u.EO:null,u?u.bG:null,{Ba:1},B.Nb,B.Gh,t,null,0),A=t.$/2,$=t.r-A*2;
v.moveTo(A,A);for(var g=0;g<=$;g+=10)v.lineTo(A+g,A+20*Math.sin(2*Math.PI*g/$));v.finish();var X=new ImageData(t.r,t.$);
a.nk(v.qZ(),v.R2(),X.data,t);this.$l.putImageData(X,0,0)};function J(B){lh.call(this);B=B.split(".")[0];
this.pB=B;var c=this._=q.m("span"),t=["Off","Fade"];t.push(B=="angleDynamics"?"Direction":"Pen Pressure");
var u=this.N9=new kZ("Control",t);u.D(b.E.n,this.WW,this);c.appendChild(u._);var v=this.a0z=new kW(null,0,100,null,null,null,!0);
v.q(50);v.D(b.E.n,this.WW,this)}J.prototype=new lh;J.prototype.q=function(B){B=B<2?B:2;this.N9.q(B);
this.xM()};J.prototype.V=function(){var B=this.N9.V(),c=this.pB;B=B<=1?B:c=="angleDynamics"?6:2;return B};
J.prototype.WW=function(B){this.xM();B.target=B.currentTarget=this;this.a(B)};J.prototype.xM=function(B){this.a0z.h6(this.N9.V()==1)};
function p(B){lh.call(this);this._=q.m("div");this.to=null;var c=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(B);
this.Xt=[[15,0],[15,1],[15,2],[15,3],"Transfer"][c];this.CC=B;this.ke={};this.aDo=null;var t=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["colorDynamicsPerTip","clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][c];
for(var g=0;g<t.length;g++){var u=t[g],v;if(u=="--br"){v=new hm;this._.appendChild(v.Sl.firstChild)}else if(u=="Brsh.Dmtr")v=new kN([12,14,0],1,1e3," px",0,!0);
else if(u=="Brsh.Angl")v=new kN([12,15],0,359," \xB0");else if(u=="Brsh.Rndn")v=new kN([12,16],0,100," %");
else if(u=="Brsh.Hrdn")v=new kN([12,17],0,100," %");else if(u=="Brsh.Spcn")v=new kN([12,18],1,300," %");
else if(u=="szVr.jitter")v=new kN([15,4,0],0,100,"%");else if(u=="minimumDiameter")v=new kN([15,4,1],0,100,"%");
else if(u=="angleDynamics.jitter")v=new kN([15,4,2],0,100,"%");else if(u.endsWith("bVTy"))v=new J(u);
else if(u.endsWith("fStp"))v=new kW(null,0,100,null,null,null,!0);else if(u=="roundnessDynamics.jitter")v=new kN([15,4,3],0,100,"%");
else if(u=="minimumRoundness")v=new kN([15,4,4],1,100,"%");else if(u=="scatterDynamics.jitter")v=new kN([15,5,0],0,1e3," %");
else if(u=="Cnt")v=new kN([15,5,1],1,20);else if(u=="countDynamics.jitter")v=new kN([15,5,2],0,100," %");
else if(u=="clVr.jitter")v=new kN([15,6,0],0,100," %");else if(u=="H")v=new kN([15,6,1],0,100," %");
else if(u=="Strt")v=new kN([15,6,2],0,100," %");else if(u=="Brgh")v=new kN([15,6,3],0,100," %");else if(u=="opVr.jitter")v=new kN("Opacity Jitter",0,100," %");
else if(u=="prVr.jitter")v=new kN("Flow Jitter",0,100," %");else if(u=="colorDynamicsPerTip")v=new k9("Apply Per Tip");
else throw u;this.ke[u]=v;v.parent=this;v.D(b.E.n,this.WW,this)}}p.prototype=new lh;p.prototype.ath=function(){this.a(new cD("brushchange"))};
p.prototype.q=function(B){this.to=a.G(B);this._.className=this.nL()?"":"disabled";this.x9()};p.prototype.T=function(){for(var B in this.ke)this.ke[B].T()};
p.prototype.nL=function(){return!0};p.prototype.Sc=function(B,c){if(c==iQ.na||c==iQ.hl){var t=this.ke["--br"];
if(t)t.fv(B._$)}};p.prototype.WW=function(B){var c=B.target,t=this.ke,u;for(var v in t)if(t[v]==c)u=v;
if(u=="--br"){var A=new cD(b.E.c,!0);A.data={R:b.J.bS,Xu:iQ.Pr,to:c.V()};this.a(A)}else{var $=n(this.to,u),X=c.V();
if($){if(u.endsWith("bVTy")||u.endsWith("fStp")||u=="Cnt")$.v=X;else if(u=="colorDynamicsPerTip")$.v=X;
else $.v.val=X;this.ath()}}};p.prototype.x9=function(){var B=this.to,c=B.Brsh.v.classID,t=this.ke,u=c!=this.aDo;
this.aDo=c;if(u){q.X0(this._);for(var v in t){if(c!="computedBrush"&&c!="sampledBrush"&&v=="Brsh.Rndn")continue;
if(c!="computedBrush"&&v=="Brsh.Hrdn")continue;var A=t[v],$=A._;if(v=="--br"){$=A.P5._;$.style.width="auto"}this._.appendChild($)}}for(var v in t){if(v=="--br")continue;
var X=n(B,v),U;if(X){if(v.endsWith("bVTy")||v.endsWith("fStp")||v=="Cnt")U=X.v;else if(v=="colorDynamicsPerTip")U=X.v;
else U=X.v.val;t[v].q(U);if(v.endsWith("fStp"))t[v].h6(n(B,v.split(".")[0]+".bVTy").v==1)}}};p.prototype.nL=function(){var B=this.CC;
return B=="basic"?!0:this.to[B].v};p.prototype.alp=function(B){var c=this.CC;if(c=="basic")return;this.to[c].v=B;
dT.br.awc(this.to);this.ath()};function n(B,c){var t=c.split(".");B=B[t[0]];for(var g=1;g<t.length;g++){if(B==null)return B;
B=B.v[t[g]]}return B}return z}();function cg(){bb.call(this,[9,0],!1,"---panels/history",bb.yK.Mj);q.v(this.sZ,"min-width:200px;");
this.wy=q.m("div","hpbody scrollable");this.wy.style.height="160px";this.sZ.appendChild(this.wy);this.aCd=-1;
this.a2_=[];this.OB="";this.z6=new ka([{name:"Clear History"}],[{g:b.E.H,l:L.Mj,d:{R:"h_clear"}}])}cg.prototype=new bb("");
cg.prototype.Gz=function(){return this.z6};cg.prototype.B$=function(z,J){this.Jw()};cg.prototype.DK=function(z){if(z==null){q.X0(this.wy);
this.OB="";return}q.X0(this.wy);var J=0;for(var g=0;g<z.history.length;g++)if(g<=z.Jq&&!z.history[g].a25)J=g;
for(var g=0;g<z.history.length;g++){var p=z.history[g];if(p.a25)continue;var n=new h1(p,g,J);n.parent=this;
this.wy.appendChild(n._);this.a2_.push(n)}if(z.Jq==z.history.length-1)this.Jw()};cg.prototype.Jw=function(){this.wy.scrollTop=this.wy.scrollHeight};
cg.prototype.T=function(){bb.prototype.T.call(this);for(var g=0;g<this.a2_.length;g++)this.a2_[g].T()};
function h1(z,g,J){lh.call(this);this.index=g;this._=q.m("div",g==J?"listitem selected":"listitem");
this.N4=z.name;this.T();if(g>J)this._.style.opacity=.4;this._.addEventListener("click",this.lW.bind(this),!1)}h1.prototype=new lh;
h1.prototype.T=function(){this._.textContent=j0.get(this.N4)};h1.prototype.lW=function(z){if(this.index==this.parent.aCd)return;
this.GF({R:"h_itemchange",index:this.index})};h1.prototype.GF=function(z){var J=new cD(b.E.H,!0);J.data=z;
J.l=L.Mj;this.a(J)};function h8(){bb.call(this,[9,10],!1,"---panels/histogram",bb.yK.a4S);var z=q.m("div","padded");
this.sZ.appendChild(z);this.HT=new hA(256,!0);z.appendChild(this.HT._);this.p2=null}h8.prototype=new bb("");
h8.prototype.DK=function(z){this.p2=z;this.xM()};h8.prototype.xM=function(){var z=this.p2;if(!q.SA(this.sZ))return;
if(z==null||z.Y.length==0){this.HT.q(a.iq(a.j(4)));return}var J=z.dT(),p=new fw(0,0,z.r,z.$),n=p.C();
if(z.M){var B=z.M.S,c=a.j(B.C()*4);a.nk(J,p,c,B);a.PM(z.M.N,c);J=c;p=B;var t=z.M.N;n=0;for(var g=0;g<t.length;
g++)n+=t[g];n=Math.round(n/255)}var u=a.iq(J);u[0][255]+=3*(n-u[5]);for(var g=1;g<4;g++)u[g][255]+=n-u[5];
this.HT.q(u,n)};h8.prototype.Sc=function(z,J){this.HT.TT(j4.Iy[z.y3]["--text-color"])};h8.prototype.T=function(){bb.prototype.T.call(this);
this.HT.T()};h8.prototype.Jw=function(){this.xM()};function ku(){bb.call(this,[9,8],!1,"---adj/clrL",bb.yK.ar8);
this.Cl=q.m("div","padded");this.sZ.appendChild(this.Cl);this.Jb=new ar(10);this.Cl.appendChild(this.Jb._);
this.jx=new hU;this.jx.parent=this;this.Cl.appendChild(this.jx.Sl);this.jx.Sl.style.marginTop="6px";
this.Jb.D(b.E.n,this.ao0,this);this.jx.D(b.E.n,this.ao0,this);ku.Cl=this}ku.prototype=new bb("");ku.prototype.aJ0=function(z){this.jx.P5.q(z)};
ku.prototype.ao0=function(z){var J;if(z.target==this.Jb)J=this.Jb.V();else{var p=this.jx.V();J=a.fa(p)}var n=new cD(b.E.c,!0);
n.data={R:b.J.bS,Xu:iQ.Hm,el:0,K:J};this.a(n)};ku.o8=function(z,J){var p=J==iQ.hl,n=z.Mq,B=z.p_,c=B.strokeStyleContent.v,t=null;
if((J==iQ.A1||p)&&n.ht==1){t=a.Wi.Um(n._H.Clr.v);t=t.o<<16|t.k<<8|t.X}if((J==iQ.f$||p)&&B.strokeEnabled.v&&c.classID=="solidColorLayer"){t=a.Wi.Um(c.Clr.v);
t=t.o<<16|t.k<<8|t.X}if(J==iQ.Hm||p)t=z.Nb;return t};ku.prototype.Sc=function(z,J){var p=z.Nb,n=J==iQ.hl,B=ku.o8(z,J);
if(B!=null){this.Jb.q(B);this.jx.q({o:B>>>16&255,k:B>>>8&255,X:B>>>0&255,hk:"Default/Color #"+a.fX(B)})}if(J==iQ.o5||n){var c=z.aIL;
this.jx.fv(c)}};ku.prototype.B$=function(z,J){this.jx.Sl.children[0].style.width=z-32+"px"};function de(){bb.call(this,[12,72],!1,"---adj/mixr",bb.yK.a5G);
this.Uh=null;this.CT=null;this.wy=q.m("div","lpbody scrollable");this.wy.style.marginTop="4px";this.x4=q.m("div","lpfoot");
this.sZ.appendChild(this.wy);this.sZ.appendChild(this.x4);this.a1R=[];this.D("click",this.Hy,this);this.kK=[];
de.Vg([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.kK,this.x4,this.z8.bind(this),this.Nv.bind(this));
this.z6=new ka([{name:"Merge Channels",wp:!0}],[{g:b.E.c,d:{R:b.J.Ym,i9:"mergechannels"}}])}de.prototype=new bb("");
de.prototype.Gz=function(){return this.z6};de.Vg=function(z,J,p,n,B){for(var g=0;g<z.length;g++){var c=new eq("W",!1,z[g]);
J.push(c);q.tN(c._,n);p.appendChild(c._);var t=c._;t.addEventListener("drop",B,!1);t.addEventListener("dragover",function(u){u.preventDefault()},!1);
t.addEventListener("dragenter",q.$D,!1)}};de.Ax=function(z,J){for(var g=0;g<z.length;g++)if(z[g]._==J.currentTarget)return g};
de.prototype.z8=function(z){var J=de.Ax(this.kK,z);if(J==0)this.a(fe.jX(!0,null,z));else{J--;var p=new cD(b.E.wR,!0),n={classID:"null"};
if(J==0)n.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(J==1)n.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else n.null=dB.DG("Chnl",!0);p.data={rK:["duplicate","make","delete"][J],m$:n};this.a(p)}};de.prototype.Nv=function(z){var J=de.Ax(this.kK,z);
if(J==2){var p=new cD(b.E.wR,!0),n={classID:"null"};n.null=dB.DG("Chnl",!0);p.data={rK:"duplicate",m$:n};
this.a(p)}else this.z8(z)};de.prototype.AK=function(g){var z=this.a1R,J=z[g];if(J==null){var p=q.m("canvas");
J=p.getContext("2d");z.push(J)}return J};de.prototype.Hy=function(z){var J=this.Uh.slice(0),p=z.data.GU,n=J[0]+J[1]+J[2],B=this.CT;
if(-5<p&&p<0){var c=-p-1;if(z.data.z1){if(c==0)J=n==3?[0,0,0]:[1,1,1];else{if(J[c-1]==0)J[c-1]=1;else if(!0)J[c-1]=0}}else{if(c==0)J=[1,1,1];
else{J=[0,0,0];J[c-1]=1}for(var g=0;g<B.b8.length;g++)B.b8[g].m6=!1;B.dX=[]}var t=new cD(b.E.H,!0);t.l=L.$N;
t.data={R:"setcls",Az:J};this.a(t);return}if(-1<p){var u=Math.floor(p),v=B.U[u],A=u==p?v.Qu():v.g6(B).T4;
if(z.data.z1)A.m6=!A.m6;else{v.uB=1+(u==p?0:2);for(var g=0;g<B.b8.length;g++)B.b8[g].m6=!1;B.dX=[]}}else{var $=-p-5,A=B.b8[$];
if(z.data.z1)A.m6=!A.m6;else{for(var g=0;g<B.b8.length;g++)B.b8[g].m6=!1;A.m6=!0;B.dX=[$];if(n!=0){var t=new cD(b.E.H,!0);
t.l=L.$N;t.data={R:"setcls",Az:[0,0,0]};this.a(t)}}}B.eO=B.SR=!0};de.prototype.Jw=function(){this.tj()};
de.prototype.DK=function(z){this.CT=z;this.tj()};de.prototype.tj=function(){var z=this.CT,J=this.wy,w=4;
q.X0(J);if(z==null||!q.SA(J))return;var p=z.r,n=z.$,B=new fw(0,0,p,n),c=this.Uh=z.i.Az.slice(0),t=c[0]+c[1]+c[2],u=Math.round(34*q.$q()),v=u;
if(p>n)v=Math.round(v*n/p);else u=Math.round(u*p/n);var A=["RGB"].concat(fs.io);for(var g=0;g<4;g++){var $=this.AK(g);
a.oB.$Y($,u,v,B,z.dT(),B,!1,g==0?null:g-1);var X=g==0?t==3:c[g-1]==1,U=new fe(-1-g,!0,!0,$,A[g],X,X);
U.parent=this;J.appendChild(U._);q.wb($.canvas)}for(var g=0;g<z.Y.length;g++){var P=z.U[z.Y[g]],k=P.uB;
for(var T=0;T<2;T++){var Z=T==0?P.Qu():P.g6(z);if(Z==null)continue;if(T==1)Z=Z.T4;var $=this.AK(w);w++;
a.oB.b4($,u,v,B,Z);var U=new fe(z.Y[g]+T*.5,!0,!0,$,P.getName()+(T==0?"":" Filter")+" Mask",T==0&&k==1||T==1&&k==3,Z.m6);
U.parent=this;J.appendChild(U._);q.wb($.canvas)}}for(var g=0;g<z.b8.length;g++){var Z=z.b8[g],$=this.AK(w+g);
a.oB.b4($,u,v,B,Z);var U=new fe(-5-g,!0,Z.name=="Quick Mask",$,Z.name,z.dX.indexOf(g)!=-1,Z.m6,L.bX,{R:bi.JY,el:"rnm",GU:g});
U.parent=this;J.appendChild(U._);q.wb($.canvas)}};de.prototype.B$=function(z,J){this.wy.style.height=J-30-4+"px";
this.wy.style.width=z+"px"};de.prototype.T=function(){bb.prototype.T.call(this);this.tj();de.lS(this.kK,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
de.lS=function(z,J,p){var J=fD.Kg(J,null,"miniscale");for(var g=0;g<z.length;g++)z[g].MM(J[g],p?p[g]:null)};
function fe(z,J,p,n,B,c,t,u,v){lh.call(this);this._=q.m("div");this.ayz=z;this.aw5=J;this.$l=n;this.a35=u;
this.a0m=v;this.Tz=q.m("div",c?"head selected":"head");q.v(this.Tz,"height: "+40+"px");var A=q.m("div","headL"),$=q.m("div","headR"),X=15;
this._.appendChild(this.Tz);this.Tz.appendChild(A);this.Tz.appendChild($);this.CV=q.m("div","eye");if(1<q.$q()&&q.$q()<1.5)X=X/q.$q();
q.v(this.CV,"background-size: "+X+"px "+X+"px;");this.CV.style.opacity=t?1:.2;if(J)A.appendChild(this.CV);
this.n1=q.m("div","thumb");if(n)this.n1.appendChild(n.canvas);A.appendChild(this.n1);this.E$=q.m("div","label");
if(p)this.E$.style.fontStyle="italic";this.E$.textContent=j0.get(B);A.appendChild(this.E$);var U=this.Tz;
U.setAttribute("draggable","true");U.addEventListener("dragstart",function(w){w.stopPropagation();w.dataTransfer.setData("Text","hello")},!1);
U.addEventListener("drop",q.$D,!1);q.tN(this.Tz,this.avT.bind(this));if(!p)this.Tz.addEventListener("mouseup",this.aj1.bind(this),!1)}fe.prototype=new lh;
fe.prototype.xq=function(z){var J=new cD(b.E.H,!0);J.l=this.a35;J.data=this.a0m;J.data.name=z;this.a(J)};
fe.prototype.avT=function(z){var J=z.ctrlKey||z.metaKey,p=this.ayz;if(J&&z.target==this.$l.canvas){this.a(fe.jX(this.aw5,p,z))}else{var n=new cD("click",!0);
n.data={GU:p,z1:z.target==this.CV,mM:J};this.a(n)}};fe._m=0;fe.prototype.aj1=function(z){if(Date.now()-fe._m<300&&z.target==this.E$){var J=new bb.hB(this.E$,this.xq.bind(this))}fe._m=Date.now()};
fe.jX=function(z,J,p){var n=0;if(p.shiftKey)n++;if(p.altKey)n+=2;var B=new cD(b.E.H,!0);B.l=L.Wu;if(z){var c=Math.floor(J);
if(-5<J&&J<0){B=new cD(b.E.wR,!0);B.data=L.gL.tG(n,["RGB","Rd","Grn","Bl"][-1-J])}else if(J<=-5||J==null)B.data={R:"fromchannel",qY:[J,0,n]};
else B.data={R:"fromlayer",qY:[c,1+(J==c?0:2),n]}}else B.data={R:"frompath",qY:[J,0,n]};return B};function io(){bb.call(this,[8,9],!1,"---panels/paths",bb.yK.wI);
this.Uh=null;this.CT=null;this.wy=q.m("div","lpbody scrollable");this.wy.style.marginTop="4px";this.x4=q.m("div","lpfoot");
this.sZ.appendChild(this.wy);this.sZ.appendChild(this.x4);this.sZ.addEventListener("click",this.aak.bind(this),!1);
this.a1R=[];this.D("click",this.Hy,this);this.kK=[];de.Vg(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.kK,this.x4,this.z8.bind(this),this.Nv.bind(this))}io.prototype=new bb("");
io.prototype.z8=function(z,J){var p=de.Ax(this.kK,z),n;if(p<2){if(p==1&&z.altKey){n=new cD(b.E.c,!0);
n.data={R:b.J.Ym,i9:"strokepath"}}else{n=new cD(b.E.wR,!0);n.data=L.YG.K2(p==0?null:"PbTl")}}else if(p==2)n=fe.jX(!1,null,z);
else if(p==3){n=new cD(b.E.wR,!0);n.data=L.gL.af4()}else if(p>3){var n=new cD(b.E.H,!0);n.l=L.q4;n.data={R:"pathedit",el:["new","del"][p-4],azA:J}}this.a(n)};
io.prototype.Nv=function(z){this.z8(z,!0)};io.prototype.AK=function(g){var z=this.a1R,J=z[g];if(J==null){var p=q.m("canvas");
J=p.getContext("2d");z.push(J)}return J};io.prototype.aak=function(z){if(z.target==this.wy){var J=this.CT;
J.E0=[];J.sk=[];J.SR=!0;J.eO=!0}};io.prototype.Hy=function(z){var J=z.data.GU,p=this.CT,n=z.data.mM,B=J,c=p.sk,t=p.E0;
if(J<0){B=-1-J;c=p.E0;t=p.sk}if(n){var u=c.indexOf(B);if(u==-1)c.push(B);else c.splice(u,1)}else{while(c.length!=0)c.pop();
while(t.length!=0)t.pop();c.push(B)}p.SR=!0;p.eO=!0};io.prototype.Jw=function(){this.tj()};io.prototype.DK=function(z){this.CT=z;
this.tj()};io.prototype.tj=function(){var z=this.CT,J=this.wy;q.X0(J);if(z==null||!q.SA(J))return;var p=z.r,n=z.$,B=new fw(0,0,p,n),c=this.Uh=z.i.Az.slice(0),t=c[0]+c[1]+c[2],u=Math.round(34*q.$q()),v=u;
if(p>n)v=Math.round(v*n/p);else u=Math.round(u*p/n);var A=z.Q8(),$=A[0];for(var g=0;g<$.length;g++){var X=$[g],U=z.uc!=-1&&z.uc==-1-X.GU,w=this.AK(g);
a.oB.aDY(w,u,v,B,X.add.vmsk,U);var P=new fe(X.GU,!1,X.GU>=0||U,w,X.name,A[1].indexOf(g)!=-1,!1,L.q4,{R:"pathedit",el:"rnm",GU:X.GU});
P.parent=this;J.appendChild(P._);q.wb(w.canvas)}};io.prototype.B$=function(z,J){this.wy.style.height=J-30-4+"px";
this.wy.style.width=z+"px"};io.prototype.T=function(){bb.prototype.T.call(this);this.tj();de.lS(this.kK,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function eB(z){bb.call(this,[9,z?4:5],!1,"---panels/"+(z?"character":"paragraph"),z?bb.yK.aFN:bb.yK.a7y);
q.v(this.sZ,"min-width:255px;");this.asa=z;this.f=null;this.qO=!1}eB.prototype=new bb("");eB.xm=null;
eB.prototype.N5=function(){var z=eB.xm,J=this.sZ;if(z==null)z=eB.xm=new jd;z.parent=this;this.qO=!0;
if(this.asa){var p=q.m("div","marged");J.appendChild(p);p.appendChild(z.Ds._);p.appendChild(z.VX);q.qk(J);
var n=q.m("div","marged");J.appendChild(n);n.appendChild(z.PG._);n.appendChild(z.gA._);var B=q.m("div","marged");
J.appendChild(B);B.appendChild(z.CB._);B.appendChild(z.wS._);q.qk(J);var c=q.m("div","marged");J.appendChild(c);
c.appendChild(z.z5._);c.appendChild(z.NH._);var t=q.m("div","marged");J.appendChild(t);t.appendChild(z._D._);
t.appendChild(z.s3._);t.appendChild(z.gk._);q.qk(J);var u=q.m("div","marged");J.appendChild(u);u.appendChild(z.xF._);
u.appendChild(z.i2._);u.appendChild(z.Fi._);u.appendChild(z.n8._);u.appendChild(z.uw._);u.appendChild(z.UE._);
u.appendChild(z.gl._);u.appendChild(z.Q4._);var v=q.m("div","marged");J.appendChild(v);for(var g=0;g<8;
g++)v.appendChild(z.Fy[g]._);q.qk(J);var A=q.m("div","marged");J.appendChild(A);A.appendChild(z.NS._)}else{var p=q.m("div","marged");
J.appendChild(p);p.appendChild(z.aDG._);p.appendChild(z.a2g._);p.appendChild(z.aiC._);p.appendChild(z.aiy._);
p.appendChild(z.awV._);p.appendChild(z.aI7._);p.appendChild(z.alV._);q.qk(J);var n=q.m("div","marged");
J.appendChild(n);n.appendChild(z.j6._);n.appendChild(z.yG._);n.appendChild(z.jy._);q.qk(J);var B=q.m("div","marged");
J.appendChild(B);B.appendChild(z._6._);B.appendChild(z.__._);B.appendChild(z.FF._);B.appendChild(z.sY._)}};
eB.prototype.Jw=function(){if(!q.SA(this.sZ))return;if(!this.qO){this.N5();var z=this.f;if(z)eB.xm.q(z.ko,z.rf,z.RY);
eB.xm.T()}};eB.prototype.T=function(){bb.prototype.T.call(this);if(eB.xm)eB.xm.T()};eB.prototype.Sc=function(z,J){this.f=z;
if(J!=iQ.hl&&J!=iQ.N3&&J!=iQ.OT&&J!=iQ.$w)return;if(eB.xm)eB.xm.q(z.ko,z.rf,z.RY)};function jz(z){bb.call(this,z?"Character Styles":"Paragraph Styles",!1,null,z?bb.yK.aem:bb.yK.aK5);
q.v(this.sZ,"min-width:240px;");var J=this.Me=q.m("div","scrollable");this.sZ.appendChild(J);q.v(J,"max-height:400px;");
this.U6=null;this.aer=null;this.i0=null;this.asa=z?0:1;this.p2=null;this.f=null;this.afN=jz.prototype.Yi.bind(this)}jz.prototype=new bb("");
jz.prototype.DK=function(z,J,p){this.p2=z;this.f=p;this.tj()};jz.prototype.tj=function(){var z=this.Me;
q.X0(z);if(!q.SA(this.sZ))return;var J=this.p2,p=this.f;if(J==null||p==null)return;var n=p.ko,B=this.U6=[],c={},t=this.aer=[],u=this.i0=[],v={},A=this.asa,$=A==0?"Style":"Paragraph";
for(var g=0;g<J.U.length;g++){var X=J.U[g].add.TySh;if(X==null)continue;var U=X.qU,w=X.h.Nz(),P=U.ResourceDict.FontSet,k=U.EngineDict[$+"Run"],T=k.RunArray;
for(var Z=0;Z<T.length;Z++){var i=jz.ak1(T[Z][$+"Sheet"][A==0?"StyleSheetData":"Properties"],A,P,t,v,w);
if(i.FillColor==null)i.FillColor={Type:1,Values:[1,0,0,0]};var V=JSON.stringify(i);if(c[V]==null){c[V]=!0;
B.push(i)}}}var _=A==0?function(l,aV){return aV.FontSize-l.FontSize}:function(l,aV){return l.Justify-aV.Justify};
B.sort(_);var y=[];if(A==0){var E=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],F=E.length,d=new Array(F),x=1e9,f=0;
d.fill(1e9);for(var g=0;g<B.length;g++){var Q=B[g],P=Q.FontSize;x=Math.min(x,P);f=Math.max(f,P);var m=Q.FillColor.Values,H=(m[1]+m[2]+m[3])/3;
y[g]=H>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var S=jz.ak1(A==0?n.uA:n.gC,A,n.W5,t,v,1),R=JSON.stringify(S);
for(var g=0;g<B.length;g++){var I=q.m("div");z.appendChild(I);u.push(I);I.addEventListener("click",this.afN,!1);
var Q=B[g],D=JSON.stringify(Q)==R;if(A==0){var G=t[Q.Font].Name,C=G.toLowerCase(),O=C.indexOf("bold")!=-1||C.indexOf("-black")!=-1,h=C.indexOf("italic")!=-1||C.indexOf("oblique")!=-1||C.endsWith("-it"),r=C.indexOf("light")!=-1,P=Q.FontSize,m=Q.FillColor.Values,W=y[g];
if(D){W=W.slice(0);W[1]=Math.min(1,W[1]+.2)}var N=f==x?.5:(P-x)/(f-x),n=10+16*N,o="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+n+"px; color:"+CSS.xY({o:m[1]*255,k:m[2]*255,X:m[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.xY({o:W[1]*255,k:W[2]*255,X:W[3]*255})+";";
if(O)o+=" font-weight:bold;";if(h)o+=" font-style:italic;";if(r)o+=" font-weight:lighter;";q.v(I,o);
var K=q.m("span");I.appendChild(K);q.v(K,"display:inline-block;  width:"+(f>99?50:40)+"px;  text-align:right;  margin-right:5px;");
K.textContent=Math.round(P);K=q.m("span");I.appendChild(K);q.v(K,"display:inline-block;  width:130px; ");
K.textContent=G}}};jz.prototype.Yi=function(z){var J=a.G(this.f.ko),g=this.i0.indexOf(z.currentTarget),p=this.U6[g];
for(var n in p)if(n!="Font")J.uA[n]=p[n];dN.Qp(J,this.aer[p.Font].Name);console.log(J);var B=new cD(b.E.c,!0);
B.data={R:b.J.bS,Xu:iQ.N3,ko:J};this.a(B);var B=new cD(b.E.H,!0);B.l=L.MN;B.data={R:"updateStyles"};
this.a(B)};jz.ak1=function(z,J,p,n,B,c){var t=J==0?["Font","FontSize","FillColor"]:[],u={};for(var v=0;
v<t.length;v++)u[t[v]]=z[t[v]];if(J==0){if(u.Font!=null){var A=p[u.Font].Name;if(B[A]==null){B[A]=n.length;
n.push(p[u.Font])}u.Font=B[A]}u.FontSize=u.FontSize*c}return u};jz.prototype.Jw=function(){if(!q.SA(this.sZ))return};
jz.prototype.T=function(){bb.prototype.T.call(this)};jz.prototype.Sc=function(z,J){this.f=z;this.tj()};
function bJ(){bb.call(this,[9,13],!1,"---panels/glyphs",bb.yK.aa1);this.f=null}bJ.prototype=new bb("");
bJ.prototype.N5=function(){this.xm=new jd;this.xm.parent=this;this.apY=null;this.ahX=null;this.HZ=null;
this.aGT=null;this.T8=Math.round(290*q.$q());this.zw=45;this.Cd=4;this.auZ=this.xM.bind(this);this.ahy=0;
this.M$=new kZ(null,["Hi","Hello"]);this.M$.D(b.E.n,this.xM,this);var z=this.od=new eq("-",null,null,!0);
z.D("click",this.aFX,this);var J=this.afh=new eq("+",null,null,!0);J.D("click",this.aFX,this);this.P5=new en(!1);
this.P5.D(b.E.n,this.rw,this);this.P5._.style.height=250+"px";var p=this.FN=q.m("div","form padded");
this.sZ.appendChild(p);p.appendChild(this.xm.Ds._);q.Uk(p);p.appendChild(this.M$._);p.appendChild(z._);
p.appendChild(J._);this.sZ.appendChild(this.P5._)};bJ.prototype.B$=function(z,J){if(this.Tx==z||this.xm==null)return;
this.Tx=z;this.T8=Math.floor((z-13)*q.$q());q.v(this.FN,"width:"+this.T8/q.$q()+"px;");this.P5._.style.height=J-73+"px";
this.xM()};bJ.prototype.rw=function(z){var J=this.aab(),p=Math.round(this.T8/J);J/=q.$q();var n=this.P5.V()[0]*p*this.Cd,B=this.P5.aCC();
n+=Math.floor(B.y/J)*p;n+=Math.floor(B.x/J);var c=this.HZ[this.M$.V()];if(n>=c.length)return;var t=c[n],u=this.aGT[t],v=new cD(b.E.H,!0);
v.l=L.MN;if(u.yS.length==0)v.data={R:"insertGlyph",K:n+1};else v.data={R:"insertText",K:String.fromCodePoint(u.yS[0])};
this.a(v)};bJ.prototype.aFX=function(z){var J=1.2;if(z.target==this.od){if(this.zw>20)this.zw/=J}else{if(this.zw<100)this.zw*=J}this.xM()};
bJ.prototype.Jw=function(){this.Sc(this.f)};bJ.prototype.Sc=function(z,J){this.f=z;if(!q.SA(this.sZ))return;
if(this.xm==null)this.N5();this.xm.q(z.ko,z.rf,z.RY);var p=z.ko,n=p.uA.Font,v=0;if(n==null)return;var B=dN.qI(p.W5[n]);
if(this.apY==B)return;var n=z.rf.ck(B);if(n==null)return;var c=n.maxp.numGlyphs,t=this.aGT=new Array(c);
for(var g=0;g<c;g++)t[g]={yS:[]};var u=Date.now(),A=new Uint8Array(1048575);for(var g=0;g<1048575;g++){var $=Typr.U.codeToGlyph(n,g);
if($!=0&&$<c){A[g]=1;if(t[$].yS.length==0)v++;t[$].yS.push(g)}}var X=bJ.uC,U=[];for(var g=0;g<X.length;
g++)U.push([]);for(var $=1;$<c;$++){U[0].push($);var w=t[$].yS[0];if(w==null){continue}for(var P=1;P<X.length;
P++){var k=X[P].ZQ;for(var g=0;g<k.length;g+=2)if(k[g]<=w&&w<=k[g+1]){U[P].push($);break}}}this.HZ=U;
var T=[];for(var g=0;g<X.length;g++)T.push(X[g].A$+" ("+U[g].length+")");var Z=this.M$.V();this.M$.jE(T);
this.M$.q(Z);this.apY=B;this.ahX=n;this.xM()};bJ.prototype.aab=function(z){var J=Math.floor(this.T8/this.zw);
return Math.floor(this.T8/J)};bJ.prototype.xM=function(z){if(!q.SA(this.sZ)||this.HZ==null)return;var J=this.HZ[this.M$.V()],p=J.length,n=this.ahX,B=Typr.U,c=this.aab(),t=c,u=t*.8,v=t*.8/n.head.unitsPerEm,A=[],$=Math.floor(this.T8/c),X=Math.ceil(p/$),U=this.Cd,w=Date.now(),P=null;
for(var k=0;k<X;k+=U){var T=q.m("canvas"),Z=T.getContext("2d");if(P==null)P=T.toDataURL("png");T.width=c*$;
T.height=t*U;var i=q.m("map"),V="map"+Math.random();i.setAttribute("name",V);Z.fillStyle="white";Z.fillRect(0,0,$*c,t*U);
for(var _=0;_<U;_++){for(var y=0;y<$;y++){var g=J[(k+_)*$+y];if(g==null)break;var E=B.glyphToPath(n,g),F=a.b.yq(E.crds);
Z.fillStyle="#252525";if(F.Sz()){var d=n.hmtx,x=[],S=170;for(var f in d)x.push(f);var Q=d[x[0]][g],m=d[x[1]][g],H=Math.max(Q,m);
E={cmds:"M L M L M L".split(" "),crds:[0,0,H,0,0,-S,0,S,H,-S,H,S]};F.r=H;F.x=0;Z.strokeStyle="rgba(0,255,0,1)"}var R=c/q.$q(),I=t/q.$q(),D=[y*R,_*I,(y+1)*R,(_+1)*I].join(","),G=q.m("area");
i.appendChild(G);G.setAttribute("shape","rect");G.setAttribute("coords",D);var C=this.aGT[g];G.setAttribute("title","Glyph: "+g+"\nCharacter: "+(C.yS.length==0?"----":String.fromCodePoint(C.yS[0]))+"\nUnicode: #"+(C.yS.length==0?"----":C.yS[0].toString(16).padStart(4,"0")));
Z.beginPath();var O=y*c+(c-F.r*v)*.5-F.x*v,Y=_*t+u;Z.translate(O,Y);Z.scale(v,-v);B.pathToContext(E,Z);
Z.scale(1/v,-1/v);Z.translate(-O,-Y);F.Sz()?Z.stroke():Z.fill()}}Z.beginPath();for(var y=0;y<$;y++){var h=y*c+c+.5;
Z.moveTo(h,0);Z.lineTo(h,t*U)}for(var _=-1;_<U;_++){var r=_*t+t+.5;Z.moveTo(0,r);Z.lineTo($*c,r)}Z.strokeStyle="rgba(0,0,0,0.3)";
Z.stroke();var W=q.m("div");W.appendChild(T);q.v(W,"position:relative;");q.MT(T,c*$,t*U);var N=q.m("img");
W.appendChild(N);W.appendChild(i);N.setAttribute("src",P);N.setAttribute("usemap","#"+V);q.v(N,"position:absolute; top:0; left:0;");
q.MT(N,c*$,t*U);A.push(W)}this.P5.VK(A,null,c*$,t*U)};bJ.uC=[{A$:"All Glyphs"},{A$:"Basic Latin, Latin 1",ZQ:[0,127,128,143]},{A$:"Latin Extended-A",ZQ:[256,383]},{A$:"Latin Extended-B",ZQ:[384,591]},{A$:"Punctuations",ZQ:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{A$:"Greek",ZQ:[880,1023]},{A$:"Cyrillic",ZQ:[1024,1279]},{A$:"Hebrew",ZQ:[1424,1535]},{A$:"Arabic",ZQ:[1536,1791]},{A$:"Emoji",ZQ:[9728,10095,127744,129535]}];
function b9(){bb.call(this,[13,0],!1,null,bb.yK.Hm);this.G1=0;this.ahN=0;this.f=null}b9.prototype=new bb("");
b9.prototype.N5=function(){if(!q.SA(this.sZ)||this.P6)return;var z=q.m("div","flexrow padded");this.sZ.appendChild(z);
var J=q.m("div");z.appendChild(J);this.P6=[];for(var g=0;g<2;g++){var p=new dX;this.P6.push(p);p.D("click",this.aiI,this);
J.appendChild(p._)}this.Kn=new bU(192);console.log("hsb picker");this.Kn.D(b.E.n,this.Dr,this);this.T6=new dw;
this.T6.parent=this;z.appendChild(this.Kn._);this.Sc(this.f,iQ.hl)};b9.prototype.aiI=function(z){var J=z.currentTarget,p=this.P6.indexOf(J);
if(p==this.G1){this.T6.vu(p)}else{this.G1=p;this.xM()}};b9.prototype.Dr=function(z){var J=this.Kn.V();
this.Kn.q(J);var p=Math.round(J.o*255)<<16|Math.round(J.k*255)<<8|Math.round(J.X*255),n=new cD(b.E.c,!0);
n.data={R:b.J.bS,Xu:iQ.Hm,el:this.G1,K:p};this.a(n);this.ahN=Date.now()};b9.prototype.xM=function(){if(this.T6==null)return;
var z=this.f,J=this.G1,p=[z.Nb,z.Gh];for(var g=0;g<2;g++){var n=this.P6[g],B=n._.style;n.TT(p[g]);if(g==J)B.filter="drop-shadow(0 0 1px #000000)"}var c=p[J];
if(Date.now()-this.ahN>100)this.Kn.q({o:(c>>>16)/255,k:(c>>>8&255)/255,X:(c&255)/255})};b9.prototype.Sc=function(z,J){this.f=z;
if(this.T6==null)return;if(J==iQ.hl||J==iQ.Hm){this.T6.aAR(z.Nb,z.Gh);this.xM()}};b9.prototype.DK=function(){this.N5()};
b9.prototype.Jw=function(){this.N5();this.xM()};function iW(){bb.call(this,"CSS",!1,"---panels/css",bb.yK.CSS);
this.p2=null;var z=q.m("div","padded");this.sZ.appendChild(z);this.B8=q.m("textarea");q.Uj(this.B8);
z.appendChild(this.B8)}iW.prototype=new bb("");iW.prototype.B$=function(z,J){if(this.Tx==z)return;this.Tx=z;
q.v(this.B8,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(z-10)+"px; height:"+(J-10)+"px")};
iW.prototype.DK=function(z){this.p2=z;this.xM()};iW.prototype.Sc=function(z,J){if(J==iQ.OT)this.xM()};
iW.prototype.xM=function(){var z=this.p2;if(z==null||z.Y.length==0)return;if(!q.SA(this.sZ))return;var J=z.U[z.Y[0]],p=CSS.a5m(J,z);
if(p.length!=0)this.B8.value=p.join(";\n")+";";else this.B8.value=""};iW.prototype.Jw=function(){this.xM()};
function fS(){bb.call(this,"Text to Image",!1,null,bb.yK.aoX);this.p2=null;this._z=0;this.Ea={};this.eK=null;
var z=this.i0=[new dz("Prompt",null,null,4),new eq([12,49],!0,null,!0)];z[0].q("goat riding a bike");
var J=q.m("div","form padded labfxd");this.sZ.appendChild(J);for(var p=0;p<z.length;p++){z[p].parent=this;
J.appendChild(z[p]._);if(p==1)z[p].D("click",this.sb,this)}this.HT=q.m("div","scrollable");J.appendChild(this.HT);
this.aq_=fS.prototype.aIr.bind(this)}fS.prototype=new bb("");fS.prototype.sb=function(){var z=this.i0,J=z[0].V().trim(),p=function(){var n=ao.asv(J,null,null,this.aq_);
if(n==1)q.$y(this.sZ,"disabled")}.bind(this);if(ao._v(3))p();else ao.J1(p)};fS.prototype.aIr=function(z){var J=this.i0;
q.Om(this.sZ,"disabled");var p={created:Math.round(Date.now()/1e3),data:[{b64_json:kL.Lk(z.target.response)}]},n=this.Ea,B=J[0].V().trim();
if(n[B]==null)n[B]=[];n[B].push(p);ao.aO("Generate",3);this.xM()};fS.prototype.B$=function(z,J){if(this.Tx==z)return;
this.Tx=z;this.sZ.style.width=z-16+"px";this.HT.style.height=J-190+"px"};fS.prototype.DK=function(z,J){this.p2=z;
if(z)this._z=J.indexOf(z);this.xM()};fS.prototype.T=function(z,J){bb.prototype.T.call(this);var p=this.i0,B=" target=\"_blank\" style=\"color:inherit;\">";
for(var n=0;n<p.length;n++)this.i0[n].T()};fS.prototype.xM=function(){var z=this.HT,J=this.Ea;q.X0(z);
var p=[];for(var n in J){J[n].sort(function(w,P){return P.created-w.created});p.push([n,J[n]])}p.sort(function(w,P){return P[1][0].created-w[1][0].created});
var B=this.aL0.bind(this),c=this.eK=[[],[]];for(var g=0;g<p.length;g++){var n=p[g][0],t=p[g][1],u=q.m("div");
u.textContent=n;z.appendChild(u);for(var v=0;v<t.length;v++){var A=t[v].data;for(var $=0;$<A.length;
$++){var X=A[$].b64_json,U=q.m("img");U.setAttribute("src","data:image/png;base64,"+X);U.onclick=B;U.style.width=128/q.$q()+"px";
U.style.marginRight="4px";U.style.cursor="pointer";z.appendChild(U);c[0].push(U);c[1].push(A[$])}}}};
fS.prototype.aL0=function(z){var g=this.eK[0].indexOf(z.target),J=this.eK[1][g].b64_json,p=kL.bQ(J);
jo.mQ({url:"file",_z:this._z},p,this)};fS.prototype.Jw=function(){this.xM()};function kt(){bb.call(this,[9,6],!1,"---panels/info",bb.yK.av_);
q.v(this.sZ,"min-width:240px;");this.p2=null;this.f=null;this.QZ=null;var z=this.ow=[];for(var J=0;J<3;
J++){var p=q.m("div","marged row");this.sZ.appendChild(p);var n=q.m("div","cell");q.v(n,"width:10em");
p.appendChild(n);var B=q.m("div","cell");q.v(B,"width:10em");p.appendChild(B);var c=[8,4,3][J];for(var g=0;
g<c;g++){var t=new bm("");z.push(t);t.q(0);t._.style.padding="0";var u=g<(J==1?2:4)?n:B;u.appendChild(t._);
q.Uk(u)}if(J<2)q.qk(this.sZ)}this.Y3=z[8];this.rX=z[9];this.gQ=z[10];this.km=z[11];q.qk(this.sZ);this.QZ=q.m("div");
q.v(this.QZ,"min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");this.sZ.appendChild(this.QZ)}kt.prototype=new bb("");
kt.prototype.dV=function(z,J,p,n,B){if(!q.SA(this.sZ)||z==null)return;var c=z.i.Ka(B.x,B.y),t=new i_(Math.floor(c.x),Math.floor(c.y));
if(!B.Wj){var u=0,v=0,A=0,$=0,X=this.ow;if(!B.Wj&&!z.azT()&&new fw(0,0,z.r-1,z.$-1).n9(t)){var U=z.dT(),g=z.r*t.y+t.x<<2;
u=U[g+0];v=U[g+1];A=U[g+2];$=U[g+3]}var w=a.KK([u/255,v/255,A/255]);X[0].q("R: "+u);X[1].q("G: "+v);
X[2].q("B: "+A);X[3].q("A: "+$);X[4].q("C: "+Math.round(w[0]*100)+"%");X[5].q("M: "+Math.round(w[1]*100)+"%");
X[6].q("Y: "+Math.round(w[2]*100)+"%");X[7].q("K: "+Math.round(w[3]*100)+"%");var P=a.acZ(u,v,A);X[12].q("H: "+Math.round(P.tK*360)+"\xB0");
X[13].q("S: "+Math.round(P.Q5*100)+"%");X[14].q("B: "+Math.round(P.X*100/255)+"%")}var k=z.i.XP>1?new i_(c.x,c.y):t;
this.Y3.q("X: "+a.DM.Gu(k.x,z.Ge,p,z.r));this.rX.q("Y: "+a.DM.Gu(k.y,z.Ge,p,z.$));this.QC()};kt.prototype.QC=function(){var z=this.p2,J=this.f,p=0,n=0;
if(z&&J){if(z.i.zZ){p=z.i.zZ.r;n=z.i.zZ.$}else if(z.M){p=z.M.S.r;n=z.M.S.$}p=a.DM.Gu(Math.abs(p),z.Ge,J,z.r);
n=a.DM.Gu(Math.abs(n),z.Ge,J,z.$)}this.gQ.q(j0.get([12,41]).charAt(0)+": "+p);this.km.q(j0.get([12,42]).charAt(0)+": "+n)};
kt.prototype.T=function(){bb.prototype.T.call(this);this.QC()};kt.prototype.Jw=function(){this.DK(this.p2,null,this.f)};
kt.prototype.DK=function(z,J,p){this.p2=z;this.f=p;if(!q.SA(this.sZ))return;console.log("update");this.QC();
if(z&&z.Y.length!=0){var n=z.Y[0],B=z.U[n],c=fs.get(B.add)!=null,t=c&&z.Y[0]>0;this.QZ.innerHTML="";
for(var g=0;g<z.ih.length;g++){var u=z.ih[g],B=z.i.cE(u.x,u.y),v=L.IY.YE(z,B,1,t?1:2),A={o:v>>>16&255,k:v>>>8&255,X:v&255},k="<span style=\"display:inline-block; width:25px; text-align:right\">",T="</span>";
if(t){var $=z.Y[0];z.Y[0]=n-1;var X=L.IY.YE(z,B,1,1),U={o:X>>>16&255,k:X>>>8&255,X:X&255};z.Y[0]=$}var w=q.m("div");
q.v(w,"padding: 0.5em 0.5em; width: 40%");var P="<b>#"+(g+1)+"</b>",Z=[A.o,A.k,A.X],i=t?[U.o,U.k,U.X]:null,V=["R","G","B"];
for(var _=0;_<3;_++)P+="<br/>"+k+V[_]+T+": "+(t?k+i[_]+T+" /":"")+k+Z[_]+T;w.innerHTML=P;this.QZ.appendChild(w)}}};
function hZ(){bb.call(this,[9,1],!1,"---panels/layers",bb.yK.bX);this.aub=null;this.Z0=[];this.CT=null;
this.U4=null;this.Tz=q.m("div","lphead");this.wy=q.m("div","lpbody scrollable");this.wy.addEventListener("scroll",this.a3L.bind(this),!1);
this.x4=q.m("div","lpfoot");var z=this.a8E=q.m("span");q.v(z,"display:inline-block; height:26px");this.l8=new kZ(null,jM.he,jM.jN);
this.l8.D(b.E.n,this.anJ,this);this.I$=new kW([12,0],0,100,"%",0);this.I$.D(b.E.n,this.aIw,this);this.I$.parent=this;
this.I1=new e5;this.I1.parent=this;this.I1._.style.marginLeft="4px";this.It=new kW("Volume",0,100,"%",0);
this.It.parent=this;this.It.D(b.E.n,this.aI4,this);this.I1.D(b.E.n,this.aI4,this);this.pI=new g1([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.pI.D(b.E.n,this.atY,this);this.ln=new kW([12,26],0,100,"%",0);this.ln.D(b.E.n,this.awk,this);this.ln.parent=this;
if(ex==0){this.Tz.appendChild(z);this.Tz.appendChild(this.l8._);this.Tz.appendChild(this.I$._);this.Tz.appendChild(this.pI._);
this.Tz.appendChild(this.ln._)}if(ex==2){this.Tz.appendChild(this.I1._);this.Tz.appendChild(this.It._)}this.kK=[];
this.Vg();if(ex==0||ex==2)this.sZ.appendChild(this.Tz);this.sZ.appendChild(this.wy);this.wy.addEventListener("dragover",function(B){B.preventDefault()},!1);
this.wy.addEventListener("dragenter",q.$D,!1);this.wy.addEventListener("drop",this.aeK.bind(this),!1);
this.sZ.appendChild(this.x4);this.sZ.addEventListener("contextmenu",q.$D,!1);if(ex==0)this.D("rclick",this.aKW,this);
var J=function(B,c,g){return{gV:this.sa[g]==1}}.bind(this);if(ex==0){this.a93=new ka([{name:[0,6],e:J},{name:[14,10],e:J},{name:[6,57,2],e:J,$h:!0},{name:"Long-tap as a right click",e:J,$h:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",e:function(){return{gV:c$.MW==0,e:!0}}},{name:"Thumbnails by Document",e:function(){return{gV:c$.MW==1,e:!0}}}]);
this.a93.D("select",this.a6s,this)}this.sa=[0,1,1,0];var p=window.locStor;if(p){var n=p.getItem("lpOpt");
if(n){n=JSON.parse(n);this.sa=n[0];c$.e0=n[1];c$.MW=n[2]}}this.a6s()}hZ.prototype=new bb("");hZ.d3=function(z){var J=z==null?0:z.Y.length;
return{e:J!=0&&(J!=1||z.Y[0]!=0)&&(J!=1||!z.U[z.Y[0]].nT()||z.U[z.Y[0]].LE()),H8:j0.get(J>1||J==1&&z.U[z.Y[0]].nT()?[6,12,0]:[6,10])}};
hZ.prototype.FY=function(){if(this.ado)return;var z=g0.VG(!0),J=g0.wL(!0);this.ado=new ka(z,J);var z=[{name:[14,10]},{name:[14,11],$h:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],$h:!0},{name:[6,7,0]},ac.Hb(!0,!0),{name:[6,8],e:hZ.a8h},{name:[6,34],e:function(n){var B=n.U[n.Y[0]];
return{e:B.add.lmfx!=null&&!B.nT()}}},{name:[6,40],$h:!0,e:function(n){var B=n.U[n.Y[0]];return{e:B.add.TySh!=null}}},{name:"",$h:!0,e:function(n){var B=n.U[n.Y[0]],c=B.add.TySh,t=c?c.qU:null;
return{e:c!=null&&t.Curve==null,H8:j0.get(c&&dN.Xn(t)==0?[16,3,1]:[16,3,0])}}},hZ.aGw(!1),g0.akl(),{name:[6,12,0],e:hZ.d3},{name:[6,12,1],$h:!0},{name:[13,0],sub:function(){var n=[];
for(var g=0;g<ii.zP.length;g++)n.push({name:[13,1,g],oB:"#"+a.fX(ii.zP[g])});return n}()}],J=[{g:b.E.c,d:{R:b.J.Ym,i9:"layerstyle"}},{g:b.E.H,l:L.Wu,d:{R:"fromlayer",qY:[null,0,0]}},{g:b.E.H,l:L.bX,d:{R:bi.Kb}},{g:b.E.c,d:{R:b.J.Ym,i9:"duplinto"}},{g:b.E.H,l:L.bX,d:{R:bi.W3}},{g:b.E.wR,d:{rK:"newPlacedLayer"}},ac.Hb(!1,!0),{g:b.E.wR,d:{rK:"rasterizeLayer",m$:{classID:"rasterizeLayer",null:dB.DG("Lyr",!0)}}},{g:b.E.wR,d:{rK:"rasterizeLayer",m$:{classID:"rasterizeLayer",null:dB.DG("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{g:b.E.H,l:L.bX,d:{R:bi.Bn}},{g:b.E.H,l:L.MN,d:{R:"switchPntPrgr"}},{g:b.E.H,l:L.bX,d:{R:bi.S5}},g0.aIg(),{g:b.E.wR,d:{rK:"mergeLayersNew",m$:{__name:"Merge Layers",classID:"Mrg2"}}},{g:b.E.wR,d:{rK:"flattenImage"}},{sub:function(){var n=[];
for(var g=0;g<8;g++)n.push({g:b.E.H,l:L.bX,d:{R:bi.ig,anu:g}});return n}()}];this.o7=new ka(z,J);var z=[{name:[6,45],e:function(n){var B=n.U[n.Y[0]];
return{e:B.g6(n).T4==null}}},{name:[6,47]}],J=[{g:b.E.H,l:L.bX,d:{R:bi.fJ}},{g:b.E.H,l:L.bX,d:{R:bi.wJ}}];
this.aqN=new ka(z,J);var z=[{name:"enab/disab",e:function(n){return{H8:j0.get(n.U[n.Y[0]].Qu().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],e:function(n){return{e:n.AM(!1,!0)}}}],J=[{g:b.E.H,l:L.bX,d:{R:bi.tn}},{g:b.E.H,l:L.bX,d:{R:bi.cf}},{g:b.E.H,l:L.bX,d:{R:bi.ZH}}];
this.amJ=new ka(z,J);var z=[{name:"enab/disab",e:function(n){return{H8:j0.get(n.U[n.Y[0]].g6(n).T4.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],J=[{g:b.E.H,l:L.bX,d:{R:bi.Ty}},{g:b.E.H,l:L.bX,d:{R:bi.C9}}];
this.agB=new ka(z,J);var z=[{name:"enab/disab",e:function(n){return{H8:j0.get(n.U[n.Y[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],p={classID:"rasterizeLayer",null:dB.DG("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},J=[{g:b.E.H,l:L.bX,d:{R:bi.yb}},{g:b.E.wR,d:L.YG.Ve(3)},{g:b.E.wR,d:{rK:"rasterizeLayer",m$:p}}];
this.afD=new ka(z,J);this.ajM=new ka(g0.axS(!0),g0.AZ(!0));this.aH5=new ka(g0.VG(),g0.wL())};hZ.prototype.a3L=function(z){var J=this.wy.scrollTop-600;
for(var g=0;g<this.Z0.length;g++){var p=this.Z0[g],n=p.FI;if(J<p.FI)p.aLA();if(p.FI>J+this.tK+600)break}};
hZ.prototype.Gz=function(){return this.a93};hZ.prototype.a6s=function(z){var J=this.sa;if(z){var p=z.target.cw(),g=p[0];
if(g<4)J[g]=1-J[g];else if(g<6){if(g==4&&c$.e0-10>=10)c$.e0-=10;if(g==5&&c$.e0+10<=200)c$.e0+=10;if(this.CT)this.CT.JS=!0}else{if(g==6)c$.MW=0;
if(g==7)c$.MW=1;if(this.CT)this.CT.JS=!0}var n=window.locStor;if(n)n.setItem("lpOpt",JSON.stringify([J,c$.e0,c$.MW]))}if(J[0]==1)this.aAO();
var B=[[{_:this.a8E}],[this.l8,this.I$],[this.pI,this.ln]];for(var g=0;g<3;g++)for(var c=0;c<B[g].length;
c++)B[g][c]._.style.display=J[g]==1?"inline-block":"none";this.B$(this.Tx,this.tK)};hZ.prototype.aoS=function(){var z=this.jL;
if(z==null)return!1;if(z.V()){var J=this.hZ.V(),p=this.XA[J].V();if(J==0)return p.indexOf(!0)!=-1;if(J==1)return p!=""}return!1};
hZ.aGw=function(z){var J=function(n){var B=n!=null&&n.Y.length!=0&&n.U[n.Y[0]].Bx;return{gV:B,e:n!=null&&n.em(n.Y[0]),d:{g:b.E.wR,d:{rK:B?"ungroup":"groupEvent",m$:{classID:B?"Ungr":"GrpL",null:dB.DG("Lyr",!0)}}}}},p={name:[6,6,0],$h:!0,e:J};
if(z)p.wA=[l5.W0,l5.zT,l5.BT];return p};hZ.a8h=function(z,J){if(z)for(var g=0;g<z.Y.length;g++){var p=z.U[z.Y[g]];
if(p.add.TySh||p.add.SoLd||p.add.SoCo||p.add.GdFl||p.add.PtFl)return{e:!0}}return{e:!1}};hZ.prototype.aeK=function(z){q.$D(z);
var J=z.dataTransfer.getData("Text"),p=1,n=0;if(J==""){q.kO(z,this,this.U4.indexOf(this.CT),n+(p>.5?0:1))}else if(J!="--panel"){var J=JSON.parse(J),B=J.iQ;
if(B=="l")this.GF({R:bi.j2,source:J.Ee,target:n,p7:p})}};hZ.prototype.aKW=function(z){var J=this.CT,p=z.data,B;
if(J.Y.indexOf(p.w)==-1){var n={R:bi.FE,w:z.target.Oy.index,c8:p.uB};this.GF(n)}if(J.Y.indexOf(p.w)==-1)return;
this.FY();if(p.uB==1){B=this.amJ}else if(p.uB==2){B=this.afD}else if(p.uB==3){B=this.agB}else if(p.uB==4){B=this.aqN}else if(p.uB==5){B=this.ado}else{B=this.o7}B.T();
B.update(J);B.parent=this;var c=new cD(b.E.c,!0);c.data={R:b.J.v0,NC:B,x:p.md.x+1,y:p.md.y+1};this.a(c)};
hZ.prototype.T=function(){bb.prototype.T.call(this);this.l8.T();this.I$.T();this.pI.T();this.ln.T();
this.I1.T();this.It.T();if(this.jL){this.jL.T();this.XA[0].T()}if(this.CT)this.DK(this.CT);var z="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var g=0;g<this.kK.length;g++){var J=this.kK[g];J.MM(q.HS(z[g],null,"miniscale"));if(g==1||g==3){J._.style.position="relative";
var p=q.m("img","gsicon");p.setAttribute("src",PIMG["tools/corner"]);q.v(p,"position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
J._.appendChild(p)}}};hZ.prototype.DK=function(z,J){if(z&&!z.JS)return;if(z==null)q.$y(this.sZ,"disabled");
else q.Om(this.sZ,"disabled");var p=this.wy.scrollTop,n=this.CT?this.CT.U.length:-1,B=!1;this.CT=z;this.U4=J;
if(this.aub!=null){q.X0(this.wy);this.aub=null;this.Z0=[]}if(z==null)return;for(var g=0;g<z.b8.length;
g++)if(z.b8[g].m6)B=!0;this.aub=new ii(z.root,this,z,{Ij:0,a4T:!1},{a1d:B,ahq:this.aoS()},this.Z0,0,new fw(0,0,z.r,z.$));
if(z.U.length==n)this.wy.scrollTop=p;if(z.Y.length==0||z.U[z.Y[0]]==null)q.$y(this.Tz,"disabled");else{q.Om(this.Tz,"disabled");
if(z.Y.length==1&&z.Km){var c=z.Y[0];for(var g=0;g<this.Z0.length;g++){var t=this.Z0[g];if(t.Oy.index==c&&t.Tz.scrollIntoView)t.Tz.scrollIntoView({block:"nearest"})}}var u=z.U[z.Y[0]];
if(ex==2&&u.J){this.I1.q(u.J.dY);this.It.q(u.J.volume*100)}if(u.nT()){this.l8.jE([[15,10,27]].concat(jM.he),[1].concat(jM.jN));
var v=jM.Bk.indexOf(u.QN);this.l8.q(v+1)}else{this.l8.jE(jM.he,jM.jN);var v=jM.Bk.indexOf(u.QN);this.l8.q(v)}this.I$.q(Math.round(100*u.YF/255));
this.pI.q([u.iF(0),u.iF(1),u.iF(2),u.iF(31)]);var A=z.ce();this.l8.h6(!A);this.ln.h6(!A);this.I$.h6(!A);
this.pI.h6(!(A&&!u.iF(31)));this.ln.q(Math.round(100*(u.add.iOpa!=null?u.add.iOpa/255:1)));this.kK[2].ak7(j0.get(u.Qu()?[6,23]:[6,21]))}this.a3L(null)};
hZ.prototype.B$=function(z,J){this.Tx=z;this.tK=J;var p=this.Tz.getBoundingClientRect().height;if(55<p&&p<56)p=60.2;
var n=this.x4.getBoundingClientRect().height,B=J-(p+n+3);this.wy.style.height=B+"px";this.wy.style.width=z+"px"};
hZ.prototype.anJ=function(z){this.GF({R:bi.Sd,gW:this.l8.V()})};hZ.prototype.aIw=function(z){this.GF({R:bi.I9,gW:Math.round(255*this.I$.V()/100)})};
hZ.prototype.aI4=function(z){this.GF({R:bi.T3,gW:{dY:this.I1.V(),volume:this.It.V()/100}})};hZ.prototype.atY=function(z){this.GF({R:bi.tt,gW:[this.pI.V(),[0,1,2,31]]})};
hZ.prototype.awk=function(z){this.GF({R:bi.h9,gW:Math.round(255*this.ln.V()/100)})};hZ.prototype.Xl=function(z){if(z.target==this.hZ)this.aAO();
var J=this.jL.V();if(J)q.Om(this.aEp,"disabled");else q.$y(this.aEp,"disabled");this.T();this.CT.JS=!0;
this.DK(this.CT);this.CT.JS=!1};hZ.prototype.aAO=function(){var z=this.aEp;if(z==null){var J=this.a8E,p=this.jL=new k9([0,6]);
p.D(b.E.n,this.Xl,this);J.appendChild(p._);z=this.aEp=q.m("span","disabled");J.appendChild(z);this.hZ=new kZ(null,["Kind",[12,48]],[]);
this.hZ.D(b.E.n,this.Xl,this);var n=this.XA=[new g1(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new dz(null,null,8)];
n[0].D(b.E.n,this.Xl,this);n[1].D("input",this.Xl,this)}q.X0(z);z.appendChild(this.hZ._);z.appendChild(this.XA[this.hZ.V()]._)};
hZ.prototype.a9H=function(z){this.FY();this.aru(z,this.ajM)};hZ.prototype.akd=function(z){this.FY();
this.aru(z,this.aH5)};hZ.prototype.aru=function(z,J){var p=z.currentTarget;if(q.SA(J._))return;z.stopPropagation();
var n=p.getBoundingClientRect();J.T();J.update(this.CT);J.parent=this;var B=new cD(b.E.c,!0);B.data={R:b.J.v0,NC:J,x:n.left,y:n.top,aFc:!0};
this.a(B)};hZ.prototype.aGZ=function(z){this.GF({R:bi.a0W})};hZ.prototype.avr=function(z){this.GF({R:this.CT.Y.length>1?bi.wW:bi.k7})};
hZ.prototype.a0t=function(z){this.GF({R:bi.JX})};hZ.prototype.ayZ=function(z){var J=this.CT;if(J.Y.length==0)return;
var p=J.U[J.Y[0]],n=p.uB;this.GF({R:n<=0?p.UU?bi.Xo:bi.W3:n==3?bi.C9:bi.cf})};hZ.prototype.aJ9=function(z){this.GF({R:bi.kh})};
hZ.prototype.GF=function(z){var J=new cD(b.E.H,!0);J.data=z;J.l=L.bX;this.a(J)};hZ.prototype.Vg=function(){var z=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],J=[this.aJ9,this.akd,this.aGZ,this.a9H,this.avr,this.a0t,this.ayZ],p=this.a97.bind(this);
for(var g=0;g<z.length;g++){var n=new eq("W",!1,z[g]);this.kK.push(n);q.tN(n._,J[g].bind(this));if(ex==0||ex==1&&g>3&&g!=5||ex==2&&g>3)this.x4.appendChild(n._);
if(g>=z.length-3){var B=n._;B.addEventListener("drop",p,!1);B.addEventListener("dragover",function(c){c.preventDefault()},!1);
B.addEventListener("dragenter",q.$D,!1)}}};hZ.prototype.a97=function(z){q.$D(z);var J=0,p=this.kK;while(p[J]._!=z.currentTarget)J++;
p[J].rG();var n=z.dataTransfer.getData("Text");if(n=="")return;var n=JSON.parse(n);if(n.iQ=="l"){var B={R:[bi.wW,bi.Kb,bi.W3][J-4]};
if(this.CT.Y.indexOf(n.Ee)==-1)B.w=n.Ee;this.GF(B)}if(J!=6)return;if(n.iQ=="sm"||n.iQ=="s"){var c=new cD(b.E.H,!0);
c.l=L.bV;c.data={R:n.iQ=="sm"?"st_clear":"st_delsingle",w:n.Ee,Ee:n.ft};this.a(c)}if(n.iQ=="fm"||n.iQ=="f"){this.GF({R:n.iQ=="fm"?bi.wJ:bi.K5,src:n.Ee,ft:n.ft})}if(n.iQ=="m"||n.iQ=="vm"){this.GF({R:n.iQ=="m"?bi.cf:bi.Xo,w:n.Ee})}};
function ii(z,J,p,n,B,c,t,u){lh.call(this);this.parent=J;this.FI=t;this.Oy=z;c.push(this);this.CT=p;
this.S$=n;var v=J.wy,A=z.w,$=p.Y.indexOf(z.index)!=-1,P=null;this.Tz=q.m("div",$?"head selected":"head");
if(A.add.artb!=null){q.$y(this.Tz,"artb");u=A.x0()}var X=this.aA7=Math.floor(10+A.aoD/q.$q()),U="height: "+X+"px;";
if($&&B.a1d)U+="background-color:rgba(255,50,50,0.4);";q.v(this.Tz,U);this.view=u;var w=this.axx=this.aju.bind(this),k=B.ahq&&!this.aka();
if(!k){if(z.depth!=0){v.appendChild(this.Tz);t+=X-.3}if(A.p3()||A.Ik())if(A.pU()){P=this.a3Y=q.m("div","lpineck");
v.appendChild(P);if(A.p3()){P.addEventListener("contextmenu",w,!1);var T=new hZ.XU(j0.get([12,1]),"sm","layerstyle",z.depth,0,null);
t+=21;T.parent=this;P.appendChild(T._);var Z=A.add.lmfx,i=Z.masterFXSwitch.v;T.Rz(i);for(var g=0;g<a_.order.length;
g++){var V=Z[a_.in[g]].v;if(V.length==0)continue;for(var _=0;_<V.length;_++){var T=new hZ.XU(j0.get(a_.names[g]),"s","layerstyle",z.depth,1,[g,_]);
t+=21;T.Rz(i&&V[_].v.enab.v);T.parent=this;P.appendChild(T._)}}}if(A.Ik()){var y=A.g6(p).T4;if(y)this.f6=q.m("div","thumb");
var T=new hZ.XU(j0.get([12,55]),"fm",null,z.depth,0,-1,y?this.f6:null,X);t+=y?X:21;T.parent=this;P.appendChild(T._);
this.aLa=T._;this.aLa.addEventListener("contextmenu",w,!1);var Z=A.add.SoLd.filterFX.v,E=Z.filterFXList.v,i=Z.enab.v;
T.Rz(i);for(var g=E.length-1;g>=0;g--){var F=E[g].v,d=em.Jt(F);if(fs.tD[d])d=fs.tD[d];var x=F.Nm.v;if(em.names[d])x=j0.get(em.names[d]);
if(fs.names[d])x=j0.get(fs.names[d]);var f="afw_"+d,T=new hZ.XU(x,"f",f,z.depth,1,g);t+=21;T.Rz(i&&F.enab.v);
T.parent=this;P.appendChild(T._)}}}}var Q=A.add.lclr;if(Q==null)Q=0;Q=Q==0?n.Ij:ii.zP[Q];this.a3T=Q;
if(A.nT()&&(A.add.lsct==cp.xj||B.ahq)){var m={Ij:Q,a4T:n.a4T||A.iF(31)};for(var g=z.children.length-1;
g>=0;g--){var H=new ii(z.children[g],J,p,m,B,c,t,u);t=H.aIV}}this.aIV=t}ii.prototype=new lh;ii.zP=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
ii.prototype.aLA=function(){if(this.P4)return;var z=this.Oy,J=z.w,p=this.CT,n=this.S$,X=!0,m=!1;z.ky(p,this.view,!0);
var B=q.m("div","headL"),c=q.m("div","headR");this.Tz.appendChild(B);this.Tz.appendChild(c);var t=this.Tz;
t.setAttribute("draggable","true");t.addEventListener("dragstart",this.w4.bind(this),!1);t.addEventListener("drop",this.il.bind(this),!1);
t.addEventListener("dragover",this.au.bind(this),!1);t.addEventListener("dragenter",q.$D,!1);t.addEventListener("dragleave",this.IA.bind(this),!1);
var u=[],v=[null,null,null,null],A=J.LE(),$=z;while($.parent){$=$.parent;A=A&&$.w.LE()}if(J.Bx){for(var g=z.index-1;
g>=0;g--){var U=p.U[g];if(!U.Bx){X=U.LE();break}}}var w=J.LE()?A&&X?2:1:0;this.P4=q.m("div");var P=q.m("div",w==0?"sqr":"eye");
this.P4.appendChild(P);P.style.opacity=[.12,.33,1][w];var k=q.m("div","space");this.E$=q.m("div","label");
q.v(this.E$,"max-width:calc(100% - "+(96+z.depth*20)+"px); margin-top:"+(this.aA7-19)/2+"px;"+(J.$Z?"text-decoration:underline;":""));
this.E$.textContent=J.getName();this.a1_=q.m("div","lock");this.a2c=q.m("div","lrfx");this.g0=q.m("div","arfx");
var T=this.axx,Z=this.aBU.bind(this);this.Tz.addEventListener("click",Z,!1);this.Tz.addEventListener("contextmenu",T,!1);
var i=this.a3T;if(i!=0){var V=[i>>16,i>>8&255,i&255];for(var g=0;g<3;g++){V[g]="calc("+V[g]+"*0.7 + (var(--absc)) * 255 * 0.3)"}q.v(this.P4,"background-color:rgba("+V.join(",")+",1);")}var _=this.ans.bind(this);
this.P4.addEventListener("mousedown",_,!1);this.P4.addEventListener("mouseover",_,!1);this.g0.addEventListener("click",this.aAt.bind(this),!1);
u[0]=this.P4;u[1]=k;u[10]=this.E$;if(J.nT()){var y=q.m("div","arrow"),E=q.m("div","folder");this.pS(E);
y.addEventListener("click",this.apz.bind(this),!1);u[2]=y;u[3]=E;y.className=J.add.lsct==cp.xj?"open":"closed"}else{this.n1=q.m("div","thumb");
u[5]=this.n1;ii._x(this.n1,J.jS);this.pS(this.n1);if(fs.get(J.add))q.$y(J.jS.canvas,"gsicon")}var F=J.Qu();
if(F){this.yf=q.m("div","chain");this.Qd=q.m("div","thumb");ii._x(this.Qd,J.aIS,!0);this.yf.style.opacity=F.r4?1:0;
this.yf.addEventListener("click",this.a5H.bind(this),!1)}var d=J.dH()&&J.add.vmsk;if(J.add.vmsk&&!d){this.iK=q.m("div","chain");
this.U2=q.m("div","thumb");ii._x(this.U2,J.ask,!0);this.iK.style.opacity=J.add.vmsk.r4?1:0;this.iK.addEventListener("click",this.a34.bind(this),!1)}if(J.Ik()&&J.pU()&&J.g6(p).T4){ii._x(this.f6,J.a6I,!1);
this.pS(this.f6);this.f6.addEventListener("click",Z,!1);this.f6.addEventListener("contextmenu",T,!1)}if(z.index==p.Y[0]){var x=J.uB,f;
if(x<=0)f=this.n1;else if(x==1)f=this.Qd;else if(x==3)f=this.f6;if(f)f.className="thumb active";if(J.UU&&this.U2)this.U2.className="thumb active"}q.v(k,"width:"+Math.max(0,z.depth-1)*18+"px");
var Q=J.add.lspf!=null&&J.add.lspf!=0||n.a4T;this.a1_.style.opacity=J.iF(31)?1:.5;u[4]=J.Bx?q.m("div","clipp"):null;
u[6]=F?this.yf:null;u[7]=F?this.Qd:null;u[8]=J.add.vmsk&&!d?this.iK:null;u[9]=J.add.vmsk&&!d?this.U2:null;
var H=J.eg,S=p.Y;if(H!=0)for(var g=0;g<S.length;g++)if(p.U[S[g]].eg==H){m=!0;break}if(m){v[0]=q.m("div",J.cM?"link":"linkX");
v[0].addEventListener("click",this.ab2.bind(this),!1)}v[1]=Q?this.a1_:null;v[2]=J.p3()?this.a2c:null;
v[3]=J.p3()||J.Ik()?this.g0:null;this.g0.className=J.pU()?"arfx open  gsicon":"arfx closed  gsicon";
var R=u;for(var g=0;g<R.length;g++)if(R[g])B.appendChild(R[g]);R=v;for(var g=0;g<R.length;g++)if(R[g])c.appendChild(R[g])};
ii._x=function(z,J,p){var n=J.canvas;q.wb(n);if(p)z.setAttribute("draggable","true");z.appendChild(n);
q.v(n,n.getAttribute("style")+"; pointer-events:none")};ii.prototype.pS=function(z){q.tN(z,function(J){if(this.parent.sa[3]==0)return;
q.ZM(J);q.ol(document.body,function(){clearTimeout(this.a4t)}.bind(this));this.a4t=setTimeout(function(){var p=new cD("rclick",!0);
p.data={w:this.Oy.index,uB:this.uB(J),md:q.bZ(J,document.body)};this.a(p)}.bind(this),600)}.bind(this))};
ii.Zb=function(z,J){var p=J.getBoundingClientRect();return(z.clientY-p.top)/p.height};ii.prototype.w4=function(z){z.stopPropagation();
var J=z.target==this.Qd?"m":z.target==this.U2?"vm":"l";z.dataTransfer.setData("Text",JSON.stringify({iQ:J,Ee:this.Oy.index}))};
ii.prototype.IA=function(z){q.$D(z);this.Oa()};ii.prototype.il=function(z){q.$D(z);this.Oa();var J=z.dataTransfer.getData("Text"),p=this.parent.CT,n=ii.Zb(z,this.Tz),B=this.Oy.index;
if(n>.8){var c=!0,t=p.root.Ti(B);while(t.parent!=null){var u=t.parent,v=u.children;if(v.indexOf(t)!=0)c=!1;
t=t.parent}if(c){B=0;n=1}}if(J==""){q.kO(z,this,this.parent.U4.indexOf(p),B+(n>.5?0:1))}else if(J!="--panel"){var J=JSON.parse(J),A=J.iQ;
if(A=="l")this.GF({R:bi.j2,source:J.Ee,target:B,p7:n});else if(A=="m"||A=="vm")this.GF({R:A=="m"?bi.air:bi.xe,src:J.Ee,EY:B});
else ii.a1Z(z,J,this)}};ii.a1Z=function(z,J,p,n){var B=J.iQ,c=p.Oy.index,t=J.Ee;if(B=="s"||B=="sm")p.GF({R:bi.nl,src:t,EY:c,ft:J.ft});
if(B=="f"||B=="fm")p.GF({R:bi.aDR,src:t,EY:c,ft:J.ft,ya:n==null?0:n})};ii.prototype.au=function(z){q.$D(z);
var J=ii.Zb(z,this.Tz),p=this.Oy.w.nT()&&.5<J&&J<.8;this.Oa();var n="inset 0 "+(p?0:J>.5?-3:3)+"px "+(p?"6px":0)+" var(--text-color)";
this.Tz.style.boxShadow=n};ii.prototype.Oa=function(z){this.Tz.style.boxShadow=""};ii.aFV=-1;ii.MA=!1;
ii.aEx=function(z){ii.MA=!1;document.body.removeEventListener("mouseup",ii.aEx)};ii.prototype.ans=function(z){if(z.button!=0)return;
if(z.type=="mousedown"){ii.MA=!0;document.body.addEventListener("mouseup",ii.aEx,!1)}if(z.type=="mouseover"&&(!ii.MA||ii.aFV==this.Oy.index))return;
q.$D(z);this.GF({R:bi.BJ,w:this.Oy.index});ii.aFV=this.Oy.index};ii.prototype.apz=function(z){q.$D(z);
this.GF({R:bi.anU,w:this.Oy.index})};ii.prototype.a5H=function(z){this.GF({R:bi.tT,w:this.Oy.index})};
ii.prototype.a34=function(z){this.GF({R:bi.Ep,w:this.Oy.index})};ii._m=0;ii.EK=null;ii.prototype.xq=function(z){this.GF({R:bi.JL,w:this.Oy.index,name:z})};
ii.prototype.aAt=function(z){this.GF({R:bi.anA,w:this.Oy.index})};ii.prototype.ab2=function(z){this.GF({R:bi.yT,w:this.Oy.index})};
ii.prototype.aju=function(z){if(z.button!=2&&!q.auW(z)&&!(z.ctrlKey&&l5.JQ()))return;var J=this.uB(z);
if(J!=3&&z.currentTarget==this.aLa)J=4;if(z.target==this.a2c||z.currentTarget==this.a3Y)J=5;var p=new cD("rclick",!0);
p.data={w:this.Oy.index,uB:J,md:q.bZ(z,document.body)};this.a(p)};ii.prototype.uB=function(z){var J=z.target,p=J;
return p==this.U2?2:p==this.Qd?1:p==this.n1?0:p==this.f6?3:-1};ii.prototype.aBU=function(z){var J=z.target,k;
if(J==this.P4.firstChild||J==this.g0||J==this.yf||J==this.iK||J.tagName&&J.tagName.toLowerCase()=="input")return;
var p=this.uB(z),n=this.parent.CT,B=this.Oy.index,c=n.U[B];if(J==this.a1_){this.GF({R:bi.tt,w:B,gW:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var t=ii._m,u=Date.now()-t<300&&B==ii.EK;ii._m=Date.now();ii.EK=B;if(J==this.E$){if(u){this.Tz.setAttribute("draggable","false");
var v=new bb.hB(this.E$,this.xq.bind(this))}else this.GF({R:bi.FE,w:B,c8:p,ahg:!0});return}if(ex==0&&z.button==0&&u){if(J==this.E$)return;
var A=new cD(b.E.H,!0),$=new cD(b.E.c,!0),X=new cD(b.E.wR,!0);if(p==0&&c.add.SoCo){var U=a.Wi.Um(c.add.SoCo.Clr.v);
$.data={R:b.J.Ym,i9:"colorpicker",Ij:U.o<<16|U.k<<8|U.X,sy:function(i){var V=a.Wi.yR({X:i&255,k:i>>>8&255,o:i>>16&255});
V={classID:"null",Clr:{t:"Objc",v:V}};var _=new cD(b.E.H,!0);_.l=L.bX;_.data={R:bi.zB,oz:[B],fe:!0,K:{ht:1,_H:V}};
this.a(_)}.bind(this),xX:!0}}else if(p==0&&(fs.get(c.add)||c.add.SoCo||c.add.GdFl||c.add.PtFl))$.data={R:b.J.n6,i9:bb.yK.yU};
else if(p!=0&&p!=-1)$.data={R:b.J.n6,i9:bb.yK.yU};else if(p==0&&c.add.SoLd){var w=c.add.SoLd,P=w.generativeDocInfo;
if(P)$.data={R:b.J.n6,i9:bb.yK.yU};else X.data={rK:"placedLayerEditContents",m$:{classID:"placedLayerEditContents"}}}else if(p==0&&c.add.TySh){A.l=L.MN;
A.data={R:"editCurr",UK:B}}else $.data={R:b.J.Ym,i9:"layerstyle",w:B};this.a(X.data?X:$.data?$:A);return}if(z.button!=0)return;
if(p==1||p==3){var T=p==3?c.g6(n).T4:c.Qu();k=T.m6?n.i.Az.join("")=="111"?1:2:0}var Z={R:bi.FE,w:B,c8:p,aBj:k,ahg:!0};
this.GF(Z)};ii.prototype.GF=function(z){var J=new cD(b.E.H,!0);J.data=z;J.l=L.bX;this.a(J)};ii.prototype.aka=function(){var z=this.Oy.w,J=z.add,p=this.parent.hZ.V(),n=this.parent.XA[p].V();
if(p==0){if(n[0]&&J.SoLd==null&&J.TySh==null&&z.Zg())return!0;if(n[1]&&fs.get(J)!=null)return!0;if(n[2]&&J.TySh!=null)return!0;
if(n[3]&&J.vstk!=null)return!0;if(n[4]&&J.SoLd!=null)return!0;return!1}if(p==1)return z.getName().toLowerCase().indexOf(n.toLowerCase())!=-1};
hZ.XU=function(z,J,p,n,B,c,t,u){lh.call(this);this.aAT=J;this.VF=p;this.index=c;this._=q.m("div","styleitem");
this.Tz=q.m("div","head");this.auO=null;if(J=="f"){var v=this.auO=q.m("div","headR");v.textContent="\u2699";
this.Tz.appendChild(v)}this.P4=q.m("div","eye gsicon");this.E$=q.m("div","label");this._.appendChild(this.Tz);
this.Tz.appendChild(this.P4);if(t){this.Qd=t;this.Tz.appendChild(t);q.v(this.Tz,"height: "+u+"px")}this.E$.innerHTML=z;
q.v(this._,"margin-left: "+(24+n*16+B*22)+"px");this.Tz.appendChild(this.E$);this.P4.addEventListener("click",this.aDV.bind(this),!1);
var A=this._;A.setAttribute("draggable","true");A.addEventListener("dragstart",this.w4.bind(this),!1);
if(!0){A.addEventListener("drop",this.il.bind(this),!1);A.addEventListener("dragover",this.au.bind(this),!1);
A.addEventListener("dragenter",q.$D,!1);A.addEventListener("dragleave",this.IA.bind(this),!1)}this._.addEventListener("click",this.mI.bind(this),!1)};
hZ.XU.prototype=new lh;hZ.XU.prototype.w4=function(z){z.stopPropagation();z.dataTransfer.setData("Text",JSON.stringify({iQ:this.aAT,Ee:this.parent.Oy.index,ft:this.index}))};
hZ.XU.prototype.IA=function(z){q.$D(z);this.Oa()};hZ.XU.prototype.il=function(z){q.$D(z);this.Oa();var J=z.dataTransfer.getData("Text");
if(J=="")return;var J=JSON.parse(J);ii.a1Z(z,J,this.parent,this.index+(ii.Zb(z,this.Tz)>.5?0:1))};hZ.XU.prototype.au=function(z){q.$D(z);
var J=ii.Zb(z,this.Tz)>.5;this.Oa();var p="border-"+(J?"bottom":"top");this.Tz.style[p]="0.2em solid rgba(0,0,0,0.5)"};
hZ.XU.prototype.Oa=function(z){this.Tz.style.border="none"};hZ.XU.prototype.Rz=function(z){this.P4.style.opacity=z?1:.2};
hZ.XU.prototype.mI=function(z){var J=this.parent.Oy.index,p=ii._m,n=Date.now()-p<300&&J==ii.EK;ii._m=Date.now();
ii.EK=J;if(z.target==this.P4)return;if(n&&this.VF!=null){var J=this.parent.Oy.index,B=new cD(b.E.c,!0);
if(this.VF.indexOf("afw_")==0){var c=this.VF.slice(4),t=ks[c]||em.Z[c],u=z.target==this.auO;if(!u&&!t)return;
B.data=L.eM.lQ(u?"blendOptions":c,{w:J,index:this.index})}else B.data={R:b.J.Ym,i9:this.VF,w:J,index:this.index};
this.a(B)}else{if(z.target.className!="thumb")this.parent.GF({R:bi.FE,w:J,c8:0})}};hZ.XU.prototype.aDV=function(z){var J={fm:bi.Wy,f:bi.fM,sm:bi.iJ,s:bi.gz}[this.aAT];
this.parent.GF({R:J,w:this.parent.Oy.index,index:this.index})};function kM(){bb.call(this,"Guide Guy",!1,"---panels/guideguy",bb.yK.ahL);
this.p2=null;this.N9=new kZ(null,a.DM.mi)}kM.prototype=new bb("");kM.prototype.N5=function(){this.ow=[];
var z=q.m("div","form padded");this.sZ.appendChild(z);q.v(z,"width:200px");this.sZ.appendChild(z);var J=q.m("canvas"),p=J.getContext("2d");
J.width=J.height=160;var n=[32,0,16,160,0,32,160,16,0,112,160,16],B="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),c=[0,0,0,0,0,0,0,0,0,0];
z.appendChild(this.N9._);q.Uk(z);for(var g=0;g<10;g++){p.clearRect(0,0,160,160);p.setTransform(1,0,0,1,80,80);
p.rotate((g&3)*Math.PI/2);p.translate(-80,-80);p.fillStyle="rgba(0,0,0,0.3)";if(g<4){for(var t=0;t<12;
t+=4){p.fillStyle=t==0?"#000000":"rgba(0,0,0,0.3)";p.fillRect(n[t],n[t+1],n[t+2],n[t+3])}}else if(g<6){var u=8*6;
p.fillRect(0,0,u,160);p.fillRect(8*7,0,u,160);p.fillStyle="#000000";p.fillRect(8*14,0,u,160)}else if(g<8){p.fillRect(0,0,16,160);
p.fillRect(160-16,0,16,160);p.fillRect(32,0,160-64,160);p.fillStyle="#000000";p.fillRect(32,80-8,160-64,8*1)}else{p.fillRect(0,0,8*7,160);
p.fillRect(8*13,0,160,160);p.fillStyle="#000000";p.fillRect(8*7,80-8,8*6,8*1)}var v="<img src=\""+J.toDataURL()+"\" class=\"autoscale gsicon\" /> ",A=new kW(v,0,200,null,g==4||g==5?0:2,null,null,4,B[g]);
A.parent=this;A.D(b.E.n,this.aDe,this);A.q(c[g]);A.T();this.ow.push(A);z.appendChild(A._)}var $=[[11,14],[11,15,0]];
this.cm=[];for(var g=0;g<$.length;g++){var X=new eq($[g],!0,null,!0);this.cm.push(X);X.D("click",this.RZ,this);
z.appendChild(X._)}for(var g=0;g<6;g++){p.setTransform(1,0,0,1,80,80);p.rotate(Math.floor(g/3)*Math.PI/2);
p.translate(-80,-80);p.clearRect(0,0,160,160);p.fillStyle="rgba(0,0,0,0.3)";p.fillRect(0,0,160,160);
p.clearRect(16,16,128,128);p.fillStyle="#000000";var U=g%3;p.fillRect([0,9,18][U]*8,0,16,160);var v="<img src=\""+J.toDataURL()+"\" class=\"autoscale gsicon\" /> ",X=new eq(v,!1,null,!1);
this.cm.push(X);X.D("click",this.RZ,this);z.appendChild(X._)}};kM.prototype.T=function(){bb.prototype.T.call(this);
this.N9.T();if(this.ow==null)return;for(var g=0;g<this.cm.length;g++)this.cm[g].T()};kM.prototype.aDe=function(z){var J=this.ow,p=J.indexOf(z.target),n=Math.floor(p/2),B=p&1,c=[];
for(var g=0;g<4;g++)c.push(J[2*g+B].V());var t=-1;if(n==2&&c[2]!=0&&c[3]!=0&&c[4]!=0)t=4;if(n==3&&c[3]!=0&&c[2]!=0&&c[4]!=0)t=4;
if(n==4&&c[4]!=0&&c[2]!=0&&c[3]!=0)t=3;if(t!=-1)J[2*t+B].q(0)};kM.prototype.RZ=function(z){var J=this.p2,p=this.cm.indexOf(z.target),n=[[],[]];
if(J==null)return;var B=J.M?J.M.S:new fw(0,0,J.r,J.$),c=B.r,t=B.$;if(p==0){var u=[[],[]],v=this.N9.V();
for(var g=0;g<this.ow.length;g++){var A=this.ow[g].V();if(g!=4&&g!=5)A=a.DM.Kf(A,J.Ge,(g&1)==0?B.r:B.$,v);
u[g&1].push(A)}var $=[kM.awn(u[0],B.x,B.x+c),kM.awn(u[1],B.y,B.y+t)];n=kM.W1($);L.DJ.lE(n,J.zQ())}else if(p==1){}else{p-=2;
var X=Math.floor(p/3),$=[[],[]];$[X].push([B.x,B.x+c/2,B.x+c,B.y,B.y+t/2,B.y+t][p]);n=kM.W1($);L.DJ.lE(n,J.zQ())}this.aqW(n)};
kM.W1=function(z){var J=[],p=[];for(var n=0;n<2;n++)for(var g=0;g<z[n].length;g++){J.push([n,z[n][g]]);
p.push(-1)}return[J,p]};kM.prototype.anH=function(z){var J=this.agy.indexOf(z.target)};kM.prototype.aqW=function(z){var J=new cD(b.E.H,!0);
J.l=L.vX;J.data={R:"gids",hu:z};this.a(J)};kM.awn=function(z,J,p){var n=[],B=z[2],c=z[3],t=z[4],u=0;
if(B==0)u++;if(c==0)u++;if(t==0)u++;if(u>1&&B==0&&c==0){if(z[0]!=0)n.push(J+z[0]);if(z[1]!=0)n.push(p-z[1]);
return n}var v=p-J-z[0]-z[1];if(B==0){if(t==0){B=Math.floor(v/c);t=(v-B*c)/(B-1)}else{B=1;while(c*B+t*(B-1)+c+t<=v)B++}}else if(B!=0&&c!=0){if(B*c>v)B=Math.floor(v/c);
t=(v-B*c)/(B-1)}n.push(J+z[0],p-z[1]);var c=(v-t*(B-1))/B;for(var g=1;g<B;g++){if(t==0)n.push(J+z[0]+g*c);
else n.push(J+z[0]+g*c+(g-1)*t,J+z[0]+g*c+g*t)}return n};kM.prototype.DK=function(z,J,p){this.p2=z};
kM.prototype.Jw=function(){if(q.SA(this.sZ)&&this.ow==null)this.N5();this.T()};kM.prototype.Sc=function(z){this.N9.q(z.Uc.zk)};
function it(){bb.call(this,[9,2],!1,"---panels/properties",bb.yK.yU);this.a9V=null;this.CT=null;this.f=null;
this.ac5=-1;this.Cl=null}it.prototype=new bb("");it.prototype.B$=function(z,J){this.Tx=z;this.tK=J;z=z-16;
J=J-30;var p=this.Cl;if(p){p.style.width=z+"px";p.style.height=J+"px";for(var g=0;g<3;g++)this.acU[g].B$(z-12,J)}};
it.prototype.N5=function(){this.Cl=q.m("div","padded scrollable");this.sZ.appendChild(this.Cl);var z=q.m("span");
this.Cl.appendChild(z);this.pM=[new eq([0,3]),new eq([12,73]),new eq([12,91,0])];for(var g=0;g<this.pM.length;
g++){var J=this.pM[g];J.D("click",this.ahx,this);z.appendChild(J._);if(g==2)J._.style.marginRight="0"}this.Cl.appendChild(q.m("hr"));
this.po=new it.eF;this.po.parent=this;this.mO=new it.bv;this.mO.parent=this;this.EI=new it.I4;this.EI.parent=this;
this.acU=[this.po,this.mO,this.EI];this.Cl.appendChild(this.po._);this.x4=q.m("div","lpfoot");this.sZ.appendChild(this.x4);
this.kK=[];for(var g=0;g<4;g++){var J=new eq("W");J.D("click",this.z8,this);this.kK.push(J);this.x4.appendChild(J._)}this.B$(this.Tx,this.tK)};
it.prototype.z8=function(z){var g=this.kK.indexOf(z.target);if(g==1){var J=this.CT,p=J.U[J.Y[0]],n=fs.get(p.add);
this.po.auI.q(em.J0(n));this.po.aqU();return}var B=new cD(b.E.H,!0);B.l=L.bX;if(g==0)B.data={R:bi.S5};
if(g==2)B.data={R:bi.BJ};if(g==3)B.data={R:bi.W3};this.a(B)};it.prototype.ahx=function(z){var g=this.pM.indexOf(z.currentTarget);
this.xo(g);this.abl(g==1?this.mO.mK:-1)};it.prototype.xo=function(z){for(var g=0;g<3;g++){this.pM[g].rG();
var J=this.acU[g]._;if(J.parentNode==this.Cl&&g!=z)this.Cl.removeChild(J);if(J.parentNode!=this.Cl&&g==z)this.Cl.appendChild(J)}this.pM[z].ZN()};
it.prototype.abl=function(z){var J=this.CT.Y[0],p=this.CT.U[J],n=z+1;if(z==1&&p.UU)return;var B=new cD(b.E.H,!0);
B.l=L.bX;if(z!=1&&p.UU){B.data={R:bi.FE,w:J,c8:2};this.a(B)}B.data={R:bi.FE,w:J,c8:n};this.a(B)};it.prototype.T=function(){bb.prototype.T.call(this);
if(this.Cl==null)return;this.DK(this.CT);for(var g=0;g<3;g++){this.pM[g].T();this.acU[g].T()}de.lS(this.kK,["lrs/clipping","reload","lrs/eye","lrs/bin"],[[6,6,0],[1,12,2],[5,5],[6,31]])};
it.prototype.Jw=function(){if(!q.SA(this.sZ))return;if(this.Cl==null){this.N5();this.Sc(this.f,iQ.hl);
this.DK(this.a9V);this.T()}};it.prototype.DK=function(z){this.a9V=z;if(this.Cl==null)return;this.po.DK(z);
this.mO.DK(z);this.EI.DK(z);if(z==null||z.Y.length==0||z.U[z.Y[0]]==null){q.$y(this.sZ,"disabled");this.CT=null;
return}else q.Om(this.sZ,"disabled");var J=z.Y[0],p=z.U[J];this.kK[0].q(p.Bx);this.kK[1].h6(fs.get(p.add)!=null);
this.kK[2].q(p.LE());var n=z.Q8(),B=n[0],c=n[1];if(c.length!=0){var t=B[c[0]],u=t.add.vogk,v=!1;if(u)for(var g=0;
g<u.length;g++){var A=u[g].v;if(!a.R$.T9(A))continue;v=!0;J=t.GU}}J+=","+v;if(z!=this.CT||this.ac5!=J){this.CT=z;
this.ac5=J;if(v)this.xo(2);else if(p.uB<1&&!p.UU||fs.get(p.add))this.xo(0);else this.xo(1)}this.pM[1].h6(this.mO.mK!=-1);
this.pM[2].h6(v)};it.prototype.Sc=function(z,J){this.f=z;if(this.po)this.po.Sc(z,J);if(this.EI)this.EI.Sc(z,J)};
it.eF=function(){lh.call(this);this._=q.m("div","form");this.aAG=new bm("Hello");this._.appendChild(this.aAG._);
this.Tr=null;this.auI=null;this.CT=null;this.f=null;this.aso=-1;this.afy=null;this.atI=null;this.oh=new gD(0,!0,!0);
this.oh.parent=this;this.oh.D(b.E.n,this.aGI,this);this._.appendChild(this.oh._);this.t8=new dX(!0);
this.t8.parent=this;this.t8.D(b.E.n,this.aqL,this);this.zi=q.m("div","marged hiline");this.zi.appendChild(this.t8._);
this.Zh=new kU("GrFl",!0);this.Zh.parent=this;this.Zh.D(b.E.n,this.ap1,this);this.dQ=q.m("div","marged hiline");
var z="Grad Rvrs Type Algn Angl Dthr Scl gradientsInterpolationMethod Ofst".split(" ");for(var g=0;g<z.length;
g++){var J=this.Zh.ke[z[g]]._;this.dQ.appendChild(J)}this.vx=new kU("patternFill",!0);this.vx.parent=this;
this.vx.D(b.E.n,this.akr,this);this.NW=q.m("div","marged hiline");var z=["Ptrn","Angl","Scl","Algn","phase"];
for(var g=0;g<z.length;g++){var J=this.vx.ke[z[g]]._;this.NW.appendChild(J)}this.Cz={};for(var p in fs.names){if(ks[p]==null)continue;
this.Cz[p]=new ks[p];this.Cz[p].D(b.E.n,this.aqU,this);this.Cz[p].parent=this}var n=this.a15=q.m("div","marged hiline");
this.aw=new gD(0,!0);n.appendChild(this.aw._);this.aw.D(b.E.n,this.cB,this);this.ayw=null;this.xQ=new eT;
this.xQ.parent=this;this.xQ.D(b.E.n,this.cB,this);n.appendChild(this.xQ._);this.sf=new ak;this.sf.parent=this};
it.eF.prototype=new lh;it.eF.prototype.aGI=function(z){var J=this.oh.V(),p=this.atI,n=new fw(J[0],J[1],J[2],J[3]);
if(n.Vm(p))return;this.atI=n;var B=new cD(b.E.H,!0);if(p.r==n.r&&p.$==n.$){B.l=L.vX;B.data={R:"trsl",V$:n.x-p.x,Yx:n.y-p.y}}else{B.l=L.dt;
B.data={R:"scl",cN:[2,4],K:new i_(n.r/p.r,n.$/p.$),bb:0}}this.a(B)};it.eF.prototype.B$=function(z,J){var p=this.Cz;
for(var n in p)p[n].B$(z,J)};it.eF.prototype.T=function(){for(var z in this.Cz)this.Cz[z].T();this.Zh.T();
this.vx.T();this.xQ.T();this.aw.T();this.oh.T();this.sf.T()};it.eF.prototype.cB=function(z){var J=new cD(b.E.H,!0),p=this.aw.V(),n=this.ayw;
if(z.target==this.aw&&p[2]==n[2]&&p[3]==n[3]){J.l=L.vX;J.data={R:"trsl",V$:p[0]-n[0],Yx:p[1]-n[1]}}else{var B=bi.Hk(new fw(p[0],p[1],p[2],p[3])),c=this.xQ.ay2();
c.artboardRect={t:"Objc",v:B};var t=this.CT,u=t.U[t.Y[0]],v=u.add.artb.guideIndeces;if(v)c.guideIndeces=a.G(v);
J.l=L.bX;J.data={R:bi.EP,wd:c}}this.a(J)};it.eF.prototype.aqL=function(z){var J=this.CT,p=J.Y[0];if(J.U[p].add.SoCo==null)return;
var n=a.G(J.U[p].add.SoCo);n.Clr.v=this.t8.V();this.US({ht:1,_H:n})};it.eF.prototype.ap1=function(z){var J=this.CT,p=J.Y[0];
if(J.U[p].add.GdFl==null)return;this.US({ht:2,_H:this.Zh.V()})};it.eF.prototype.akr=function(z){this.US({ht:3,_H:this.vx.V()})};
it.eF.prototype.US=function(z){this.a6h(L.bX,{R:bi.zB,oz:[this.CT.Y[0]],fe:!0,K:z})};it.eF.prototype.aqU=function(z){this.a6h(L.Vi,{R:"edit_layer",K:this.auI.V()})};
it.eF.prototype.a6h=function(z,J){var p=new cD(b.E.H,!0);p.l=z;p.data=J;this.a(p)};it.eF.prototype.DK=function(z,J){var p=j0.get([0,3]),n=!1,B=null;
this.CT=z;if(z&&z.U.length>0&&z.Y.length!=0&&z.U[z.Y[0]]){var c=z.U[z.Y[0]],t=fs.get(c.add);if(t!=null&&this.Cz[t]!=null){B=this.Cz[t]._;
this.auI=this.Cz[t];this.Cz[t].q(a.G(c.add[t]));if(z.Y[0]!=this.aso){var u=z.dT(z.Y[0]-1);this.afy=a.iq(u)}this.Cz[t].nZ(this.afy);
p=j0.get(fs.names[t])}if(t==null&&c.add.artb==null){var v=this.atI=a.b.$M(L.tp.R2(z));n=!v.Sz();var A=z.VY();
v.x-=A.x;v.y-=A.y;this.oh.q([v.x,v.y,v.r,v.$],[z.Ge,z.r,this.f.Uc.zk])}if(c.add.SoCo){B=this.zi;this.t8.q(c.add.SoCo.Clr.v);
p=j0.get([6,48,0,0])}if(c.add.GdFl){B=this.dQ;this.Zh.update(z,c.add.GdFl);p=j0.get([6,48,0,1])}if(c.add.PtFl){B=this.NW;
this.vx.update(z,c.add.PtFl);p=j0.get([6,48,0,2])}if(c.add.artb){var $=c.add.artb,X=c.x0();B=this.a15;
this.xQ.aig($);var U=this.ayw=[X.x,X.y,X.r,X.$];this.aw.q(U,[z.Ge,z.r,this.f.Uc.zk]);p=j0.get([1,16,0])}var w=c.add.SoLd;
if(w&&w.generativeDocInfo){var P=w.Idnt.v,k=z.Hb(P);this.sf.q(k.raw.buffer);B=this.sf._}this.aso=z.Y[0]}if(B!=this.Tr){if(this.Tr)this._.removeChild(this.Tr);
if(B!=null)this._.appendChild(B);this.Tr=B}this.aAG.q(p);this.oh._.style.display=n?"":"none"};it.eF.prototype.Sc=function(z,J){this.f=z;
this.Zh.Sc(z,J);this.vx.Sc(z,J);if(J==iQ.nc)this.DK(this.CT,z);for(var p in this.Cz)this.Cz[p].Sc(z,J)};
it.bv=function(){lh.call(this);this._=q.m("div","form");this.CT=null;this.mK=0;var z=q.m("span","fitem");
this._.appendChild(z);this.pM=[new eq([6,2]),new eq([6,3]),new eq([6,50])];for(var g=0;g<this.pM.length;
g++){var J=this.pM[g];J.D("click",this.a7g,this);z.appendChild(J._)}this.eZ=new kN([12,74],0,255);this.eZ.D(b.E.n,this.WW,this);
this._.appendChild(this.eZ._);this.hq=new kN([7,6],0,500,"px",2,!0);this.hq.D(b.E.n,this.WW,this);this._.appendChild(this.hq._);
this.aoz=new eq([4,11],null,null,!0);this.aoz.D("click",this.aCO,this)};it.bv.prototype=new lh;it.bv.prototype.aCO=function(){var z=new cD(b.E.H,!0);
z.l=L.Vi;z.data={R:"start",Fc:"nvrt"};this.a(z)};it.bv.prototype.WW=function(z){var J=this.eZ.V(),p=this.hq.V(),n=new cD(b.E.H,!0);
n.l=L.bX;n.data={R:bi.BF,Rj:this.CT.Y[0],dr:{rh:this.mK,eZ:J,hq:p}};this.a(n)};it.bv.prototype.T=function(){for(var g=0;
g<this.pM.length;g++)this.pM[g].T();this.eZ.T();this.hq.T();this.aoz.T()};it.bv.prototype.DK=function(z){this.CT=z;
this.tj()};it.bv.prototype.a7g=function(z){this.tj(this.pM.indexOf(z.currentTarget));this.parent.abl(this.mK)};
it.bv.prototype.tj=function(z){var J=this.CT,p=this.pM;for(var g=0;g<3;g++){var n=p[g];n.rG();n.EJ()}if(J==null||J.U.length==0||J.Y.length==0||J.U[J.Y[0]]==null)return;
var B=-1,c=J.U[J.Y[0]];if(c.Ik()&&c.g6(J).T4!=null){p[2].sA();B=2}if(c.add.vmsk){p[1].sA();B=1}if(c.Qu()){p[0].sA();
B=0}if(z!=null)B=z;else if(c.UU)B=1;else if(c.uB==3)B=2;else if(c.uB==1)B=0;this.mK=B;if(B==-1){this.eZ.EJ();
this.hq.EJ();return}var t=c.xd(B);this.eZ.sA();this.hq.sA();this.eZ.q(t.eZ);this.hq.q(t.hq);p[B].ZN();
var u=this.aoz._;if(B==0)this._.appendChild(u);else if(u.parentNode==this._)this._.removeChild(u)};it.I4=function(){lh.call(this);
this._=q.m("div","form");this.p2=null;this.f=null;this.Jb=-1;this.oh=new gD(0,!1);this.X6=new kN([12,15],-180,180,"\xB0",2);
this.D7=new gD(1,!0);this.px=new kN([12,94,0],0,100,null,2);this.yD=new kN([12,78],3,30);this.xx=new eq(["\u279C  ",[12,76,0]],null,null,!0);
this.oh.D(b.E.n,this.LC,this);this.X6.D(b.E.n,this.LC,this);this.D7.D(b.E.n,this.LC,this);this.px.D(b.E.n,this.LC,this);
this.yD.D(b.E.n,this.LC,this);this.xx.D("click",this.LC,this)};it.I4.prototype=new lh;it.I4.prototype.T=function(){this.oh.T();
this.X6.T();this.D7.T();this.px.T();this.yD.T()};it.I4.prototype.LC=function(z){var J=this.p2,p=a.R$.Q$(J),n=z.target.V(),B=[this.oh,this.X6,this.D7,this.px,this.yD,this.xx].indexOf(z.target);
if(B==0){var c=J.VY(),t=[],u=t[0]=n[0]+c.x,v=t[1]=n[1]+c.y;t[2]=u+n[2];t[3]=v+n[3];n=t}if(B==1)n=n*Math.PI/180;
var A={0:1,1:2,2:3,3:3,4:4}[B];p[A]=n;var $=new cD(b.E.H,!0);$.l=L.bX;$.data={R:bi._P,K:p,arQ:B==5};
this.a($)};it.I4.prototype.DK=function(z){var J=this._;this.p2=z;if(z==null)return;var p=this.f,n=[z.Ge,z.r,p.Uc.zk],B=a.R$.Q$(z),c=B[0],t=B[1];
if(t==null)return;var u=c!=this.Jb;this.Jb=c;if(u)q.X0(J);if(u)J.appendChild(this.oh._);if(u)J.appendChild(this.X6._);
var v=z.VY();this.oh.q([t[0]-v.x,t[1]-v.y,t[2]-t[0],t[3]-t[1]],n);this.X6.q(B[2]*180/Math.PI);if(c==2){if(u)J.appendChild(this.D7._);
var A=B[3];this.D7.q(A,n)}if(c==7||c==8){if(u)J.appendChild(this.px._);this.px.q(B[3])}if(c==8){if(u)J.appendChild(this.yD._);
this.yD.q(B[4])}J.appendChild(this.xx._)};it.I4.prototype.Sc=function(z,J){this.f=z;this.DK(this.p2)};
function hY(z){bb.call(this,z.name,!0);this.CT=z;this.f=null;this.U1=new ag(this.sZ);this.U1.parent=this}hY.prototype=new bb;
hY.dN=function(){var z=document.createElement("canvas"),J=document.createElement("canvas"),p=document.createElement("canvas"),n=16,B=a.j(16*16*4);
a.jp(B,n,n,8);var c=a.scale.fD(B,n,n);return{rU:z,aDh:J,ajB:p,B7:z.getContext("2d"),au4:J.getContext("2d"),a3F:p.getContext("2d"),PZ:c}}();
hY.prototype.a0R=function(){if(this.CT.E_())return window.confirm(j0.get([22,6,3])+" "+this.CT.name+". "+j0.get([22,6,4]));
return!0};hY.prototype.Sc=function(z,J){this.f=z};hY.prototype.DK=function(z){this.Jw();this.xM()};hY.prototype.B$=function(z,J){if(z<=0||J<=0)return;
this.Tx=z;this.tK=J;var p=this.CT,n=hY.dN,B=q.$q();p.i.B7.r=Math.floor(z*B);p.i.B7.$=Math.floor(J*B);
q.jI(n.rU,z,J);q.jI(n.aDh,z,J);q.jI(n.ajB,z,J);q.jI(co.za(),z,J);if(p.i.XP==0)p.i.XP=L.gf.ag(p.r,p.$,z*B,J*B);
this.xM()};hY.prototype.Jw=function(){var z=this.sZ.firstChild,J=hY.dN,p=co.Pw&&ex==0;if(!p&&z==co.za()||p&&z==J.rU)this.sZ.removeChild(z);
var n=p?co.za():J.rU;if(!q.SA(n))this.sZ.appendChild(n)};hY.prototype.xM=function(){if(this.f==null)return;
var z=this.CT,J=co.Pw&&ex==0;if(J)this.a7k();else this.ww()};hY.prototype.a7k=function(){if(co.Pw&&hY.aFS==null){var z=hY.aFS=[],J=[0,2,8,32,128];
for(var g=0;g<5;g++)z[g]=[new hY.Xb(!1,J[g],!1),new hY.Xb(!0,J[g],!1)];z.push([new hY.Xb(!1,0,!0),new hY.Xb(!0,0,!0)])}var p=this.CT,n=hY.dN,k,i=0,x,f;
if(p.HN==null)return;var B=p.i,c=B.B7.r,t=B.B7.$,u=co.$l;n.B7.clearRect(0,0,c,t);var v=this.adT(p);if(B.vW==null||B.vW.r!=c||B.vW.$!=t)B.vW=new co.rk(c,t);
if(v){var A=Date.now(),$=navigator.userAgent.toLowerCase();if($.indexOf("safari")!=-1&&$.indexOf("chrome")==-1){var X=t,U=new Uint8Array(n.B7.getImageData(0,0,c,X).data.buffer);
B.vW.set(U,new fw(0,0,c,X))}else B.vW.set(n.B7.canvas);this.JJ=!0}else if(this.f.v5){if(this.JJ){co.C4(B.vW);
co.j4(1);this.JJ=!1}var w=a.DM.NX,U=new Uint8Array(p.i.dO.data.buffer);B.vW.set(U,new fw(0,0,w,t));var U=new Uint8Array(p.i.SZ.data.buffer);
B.vW.set(U,new fw(0,0,c,w));var U=new Uint8Array(n.B7.getImageData(0,t-w,c,w).data.buffer);B.vW.set(U,new fw(0,t-w,c,w));
this.JJ=!0}else if(this.JJ){co.C4(B.vW);co.j4(1);this.JJ=!1}var P=B.cE(0,0);if(hY.a9S==null)hY.a9S=new Float32Array(4*1024);
var T=[0,0,0,0],Z=hY.a9S;if(p.add.artd){Z.fill(0);T=hY.Ph(p);var V=p.r,_=p.$,d=0;for(var g=0;g<p.U.length;
g++){var y=p.U[g],E=y.add.artb;if(E==null||!y.LE())continue;var F=y.x0();Z[i]=F.x/V;Z[i+1]=F.y/_;Z[i+2]=F.r/V;
Z[i+3]=F.$/_;i+=4;if(i==Z.length)break}if(i>2*4)d++;if(i>8*4)d++;if(i>32*4)d++;k=hY.aFS[d+1];Z=new Float32Array(Z.buffer,0,[2,8,32,128][d]*4)}else k=hY.aFS[p.KY?5:0];
var Q=p.Zy();if(Q==null)k=k[0];else{k=k[1];f=Q[p.add.fcmy==1?6:4];x=Q[2]}co.agr(c,t);co.j4(0);co.agr(c,t);
k.KI();var m=new fA;m.scale(c,t);m.concat(B.kb(!0));m.scale(1/p.r,1/p.$);var H=[m.k6,m.X,0,m.GQ,m.JH,0,m.Rf,m.Sm,1];
k.zm(B.vW.zu,p.HN.zu,new Float32Array(H),new Float32Array([c/8,t/8,P.x/c,P.y/t]),p.r,p.$,1/p.i.XP,c,t,new Float32Array(T),Z,new Float32Array(a.gr.dg(a.gr.ay7(B.Az))),f,x);
u.drawArrays(u.TRIANGLES,0,6)};hY.Ph=function(z){return[0,0,0,0]};hY.aL5=function(z){var J=a.Wi.Um(z.v),p=[J.o/255,J.k/255,J.X/255,1];
for(var g=0;g<4;g++)p[g]=Math.min(1,p[g]);return p};hY.aF=function(z,J){var p=z[2]*255;if(co.Pw)p=J?0:Math.max(2,p);
return"rgba("+z[0]*255+","+z[1]*255+","+p+","+z[3]+")"};hY.NY=function(z){var J=z.length;if(co.Pw)for(var g=0;
g<J;g+=4){if(z[g+2]==0)z[g+2]=3}};hY.prototype.ww=function(){var z=this.CT,J=hY.dN;if(ex==0&&z.buffer==null)return;
var p=z.i,n=p.B7,B=n.r,c=n.$,t=new fw(0,0,z.r,z.$);J.B7.clearRect(0,0,B,c);var u=z.add.prvw==0;if(ex==1&&u){J.B7.fillStyle="white";
J.B7.fillRect(-5e3,-5e3,2e4,2e4)}var v=p.kb(!0),A=v.P();A.oU();if(ex!=0){}else if(z.add.artd==null){J.B7.save();
var $=A.g$(new i_(0,0));A.translate(-$.x,-$.y);J.B7.translate(Math.round($.x),Math.round($.y));J.B7.fillStyle=ex==0?J.PZ:"#ffffff";
if(z.KY)J.B7.fillRect(-5e3,-5e3,2e4,2e4);else{this.ac(a.b.e3(t),A,J.B7);J.B7.fill()}J.B7.restore()}else{J.B7.fillStyle=hY.aF(hY.Ph(z));
J.B7.fillRect(0,0,B,c);J.B7.save();J.B7.setTransform(A.k6,A.X,A.GQ,A.JH,A.Rf,A.Sm);var X=z.root.children;
for(var g=0;g<X.length;g++){var U=X[g].w;if(U.add.artb==null||!U.LE())continue;var w=U.x0(),P=U.i8();
if(P!=0)continue;J.B7.fillStyle=J.PZ;J.B7.save();J.B7.scale(1/p.XP,1/p.XP);J.B7.fillRect(p.XP*w.x,p.XP*w.y,w.r*p.XP,w.$*p.XP);
J.B7.restore()}J.B7.restore()}var A=p.kb(!0);A.oU();if(ex==1){J.B7.save();var k=a.b.e3(p.B7);a.b.h(k.L,p.kb(!0),k.L);
var T=a.b._g(k.L);J.B7.setTransform(A.k6,A.X,A.GQ,A.JH,A.Rf,A.Sm);z.root.aU(z,J.B7,this.f,T);J.B7.restore();
J.B7.save();J.B7.fillStyle="#ffffff";J.B7.globalCompositeOperation="destination-over";var Z=z.add.arts;
for(var g=0;g<Z.length;g++){var T=a.b.yq(Z[g].J4);this.ac(a.b.e3(T),A,J.B7);if(u)J.B7.stroke();else J.B7.fill()}J.B7.restore()}else if(ex==0){dc.e9(p.B7);
var i=n,V=z.eo;if(V&&V.cz(t))V=null;if(!z.KY){var _=V;if(_==null)_=t;var y=a.b.e3(_).L;a.b.h(y,A,y);
var T=a.b._g(y);i=n.ly(T)}if(!i.Sz()){var E=new Uint8Array(dc.iu.buffer,0,i.C()*4);E.fill(0);var F=z.buffer,d=z.Zy(),x=a.zr(F),f=a.hW(x);
if(d&&x!=8){F=F.slice(0);for(var g=0;g<F.length;g++)if(F[g]>f)F[g]=f;ICC.U.applyLUT(d[z.add.fcmy==1?5:3],d[2],F,F)}a.scale.MY(F,t,v,E,i,z.KY);
if(d&&x==8){ICC.U.applyLUT(d[z.add.fcmy==1?5:3],d[2],E,E)}if(p.Az[0]+p.Az[1]+p.Az[2]!=3)a.gr.atl(E,E,a.gr.ay7(p.Az));
if(V)J.a3F.clearRect(i.x,i.y,i.r,i.$);else J.a3F.clearRect(0,0,B,c);J.a3F.putImageData(new ImageData(new Uint8ClampedArray(E.buffer,0,E.length),i.r,i.$),i.x,i.y)}J.B7.drawImage(J.ajB,0,0);
J.B7.getImageData(0,0,1,1)}else if(ex==2){hY.J.ass(z,J.B7,this.f)}if(ex!=2)this.adT(z)};hY.prototype.adT=function(z){var J=z.i,p=J.Az[0]+J.Az[1]+J.Az[2],n=hY.dN,B=!1,c=[];
for(var g=0;g<z.Y.length;g++){var t=z.U[z.Y[g]];if(t==null)continue;var u=t.uB;if(u!=1&&u!=3)continue;
var v=u==1?t.Qu():t.g6(z).T4;if(v.m6)c.push(v)}for(var g=0;g<z.b8.length;g++)if(z.b8[g].m6)c.push(z.b8[g]);
for(var g=0;g<c.length;g++){var v=c[g];this.a3K(v,J,c.length==1&&p==0?2:1,v.color,v.Ij);B=!0}var A=this.f;
B=this.aDi(z,n.B7,J,c.length!=0)||B;if(z.M&&A.NO&&A.Uc.nI){this.a3K(z.M,J,0,0,null);B=!0}return B};hY.prototype.a3K=function(z,J,p,n,B){var c=0;
if(B)c=Math.round(B.X)<<16|Math.round(B.k)<<8|Math.round(B.o);var t=J.kb(!0),u=J.B7,v=new fw(0,0,J.CT.r,J.CT.$),A=hY.dN;
dc.e9(J.B7);dc.Sq.fill(n);dc.iu.fill(0);var $=z.N,X=z.S;a.scale.h($,X,t,dc.Sq,u);if(p==0){var U=new Uint32Array([4278190080,4294967295]);
hY.NY(new Uint8Array(U.buffer));a.M.asB(dc.Sq,dc.iu,u,U,q.$q()>1.9)}else{var w=Date.now();a.M.aHE(dc.Sq,dc.iu,u,p,c);
hY.NY(dc.iu)}var P=new ImageData(new Uint8ClampedArray(dc.iu.buffer),u.r,u.$);A.au4.putImageData(P,0,0);
A.B7.save();if(p!=0){var k=new fw(0,0,v.r,v.$),T=t.P();T.oU();this.ac(a.b.e3(k),T,A.B7);A.B7.clip()}A.B7.drawImage(A.aDh,0,0);
A.B7.restore()};hY.prototype.aDi=function(z,J,p,n){var B=z.W.Tk!=null||z.W.cV!=null||z.W.qH!=null||z.W.S4!=null||z.W.lD!=null||z.W.qT!=null||z.W.lN.length!=0||z.W.wE.length!=0,c=this.f,t=c.Uc,u=j4.Iy[c.y3],v=Math.round(12*q.$q()),A=v/z.i.XP,$=p.kb(!0);
$.oU();J.save();J.setTransform($.k6,$.X,$.GQ,$.JH,$.Rf,$.Sm);var X=hY.Ph(z)[0];X=X<.5?X+.5:X-.5;X=""+Math.round(X*255).toString(16);
while(X.length<2)X="0"+X;J.font=A+"px sans-serif";if(z.add.artd){J.fillStyle="#"+X+X+X;for(var g=0;g<z.U.length;
g++){var U=z.U[g];if(U.add.artb==null||!U.LE())continue;var w=U.x0();J.save();J.beginPath();J.rect(w.x,w.y-2*A,w.r,2*A);
J.clip();J.fillText(U.getName(),w.x+2,w.y-A*.7);J.beginPath();J.restore();B=!0}}if(z.add.arts&&c.Ms==L.kA){var P=z.add.arts;
for(var g=0;g<P.length;g++){var w=P[g],k=a.b.yq(w.J4),T=(g+1+"").padStart(2,"0");T+=" - "+w.y0;J.save();
J.beginPath();J.fillStyle=w.Y?"#cce6ff":"#dddddd";J.rect(k.x,k.y,J.measureText(T).width+A,A*1.5);J.fill();
J.fillStyle="black";J.fillText(T,k.x+A/2,k.y+A*1.1);J.restore()}B=!0}function Z(aj){return aj==1||aj==2||aj==4||aj==5}var i=hY.aF([.3,.5,1,1]),V=hY.aF([1,1,1,1]),_=hY.aF([.7,.7,.7,1]);
if(c.NO&&t.$n){J.fillStyle=J.strokeStyle=i;J.lineWidth=1.5/p.XP;var y=z.Q8(),E=y[0],F=y[1];for(var d=0;
d<F.length;d++){var U=E[F[d]],x=U.add.vmsk,f=x.u,Q=a.b.Ru(f);this.ac(Q,null,J);J.stroke();B=!0;var m=3*q.$q()/p.XP,H=m*1.5;
for(var g=0;g<x.IS.length;g++){var S=a.z.aqb(f,x.IS[g]);if(S==null)continue;var R=S.x,I=S.y;J.beginPath();
var D=g==0;if(x.xa)D=!D;if(D){J.moveTo(R-H,I-H);J.lineTo(R+H,I+H);J.moveTo(R-H,I+H);J.lineTo(R+H,I-H);
J.stroke()}else{J.arc(R,I,H,0,2*Math.PI);J.save();J.globalCompositeOperation="destination-out";J.fill();
J.restore();J.stroke()}B=!0}if(z.Y.length!=1)continue;var G=-1,C=-1,O=-1;for(var g=0;g<f.length;g++){if(f[g].I>5)continue;
if(f[g].I==0||f[g].I==3){C=g+1;O=f[g].length;if(f[g].j1!=-1)G++;continue}if(x.Y.indexOf(G)!=-1){var R=f[g].cy.x,I=f[g].cy.y;
J.fillRect(R-m*.8,I-m*.8,2*m*.8,2*m*.8)}if(x.Vd.indexOf(g)!=-1){var Y=f[g],h=[Y.cy];J.beginPath();J.moveTo(Y.FV.x,Y.FV.y);
J.lineTo(Y.cy.x,Y.cy.y);J.lineTo(Y.M3.x,Y.M3.y);var r=C+(g+O-C-1)%O,W=C+(g+O-C+1)%O,N=f[r],o=f[W];if(N&&Z(N.I)&&x.Vd.indexOf(r)==-1){J.moveTo(N.cy.x,N.cy.y);
J.lineTo(N.M3.x,N.M3.y);h.push(N.M3)}if(o&&Z(o.I)&&x.Vd.indexOf(W)==-1){J.moveTo(o.cy.x,o.cy.y);J.lineTo(o.FV.x,o.FV.y);
h.push(o.FV)}J.stroke();if(!Y.cy.Vm(Y.FV))h.push(Y.FV);if(!Y.cy.Vm(Y.M3))h.push(Y.M3);for(var K=0;K<h.length;
K++){var S=h[K],R=S.x,I=S.y;if(K==0&&(Y.I==2||Y.I==5))J.fillRect(R-1.2*m,I-1.2*m,2.4*m,2.4*m);else{J.beginPath();
J.arc(R,I,m*1.2,0,2*Math.PI);J.fill();if(K!=0)J.fillStyle=V;J.beginPath();J.arc(R,I,m*.8,0,2*Math.PI);
J.fill();J.fillStyle=i}}}B=!0}}if(z.uc!=-1&&[L.na,L.eA,L.ta].indexOf(c.Ms)!=-1){var U=z.$n[z.uc],x=U.add.vmsk,f=x.u,Q=a.b.Ru(f);
this.ac(Q,null,J);J.stroke();B=!0}}J.lineWidth=1/p.XP;if(z.W.je){J.fillStyle=J.strokeStyle=i;var o={L:[],Ao:[]},l=hY.asE;
if(l==null){l=hY.asE={L:[1,0],Ao:["M"]};for(var g=1;g<30;g++){var aV=Math.PI*2*g/30;l.L.push(Math.cos(aV),Math.sin(aV));
l.Ao.push("L")}l.Ao.push("Z","M","L","M","L");l.L.push(-.5,0,.5,0,0,-.5,0,.5)}for(var g=0;g<z.W.je.length;
g++){var N=L.Mb.af$(z.W.je[g],p),j=new fA(N[0],0,0,N[0],N[1],N[2]);a.b.concat(o,l,j)}this.ac(o,null,J);
J.stroke();B=!0}var M=new fA(1,0,0,1,.5/p.XP,.5/p.XP);if(z.KY){J.fillStyle=J.strokeStyle=i;var o={L:[0,0,z.r,0,z.r,z.$,0,z.$],Ao:["M","L","L","L","Z"]};
this.ac(o,M,J);J.stroke();B=!0}if(z.W.p$){J.fillStyle=J.strokeStyle=hY.aF([0,0,0,.5]);this.ac(z.W.p$,null,J,!0);
J.fill("evenodd")}J.strokeStyle=i;J.fillStyle=V;if(z.W.qH){this.ac(z.W.qH,M,J);J.stroke()}if(z.W.lD){this.ac(z.W.lD,M,J);
J.lineWidth=q.$q()*3.5/p.XP;J.stroke()}var s=hY.CU(z.W.K1,J,p);J.fill();J.stroke();B=B||s;J.fillStyle=J.strokeStyle=hY.aF([0,0,0,co.Pw&&ex==0?1:.5],!0);
if(z.W.Tk){this.ac(z.W.Tk,null,J);J.fill()}if(z.W.cV){this.ac(z.W.cV,M,J);J.stroke()}for(var l2 in z.W.s2)if(z.W.s2[l2].cV){this.ac(z.W.s2[l2].cV,null,J);
J.stroke();B=!0}var s=hY.CU(z.W.MG,J,p);J.stroke();B=B||s;if(z.W.S4){this.ac(z.W.S4,M,J);J.strokeStyle="rgba(0,0,0,0.5)";
J.lineWidth=q.$q()*2.5/p.XP;J.stroke();J.strokeStyle="white";J.lineWidth=q.$q()*2/p.XP;J.stroke()}if(z.W.hT.length+z.W.u2.length+z.W.Px.length!=0){B=!0;
J.fillStyle=V;hY.b$(z.W.hT,J,p,6);J.fill();hY.b$(z.W.u2,J,p,6);J.fill();J.fillStyle=i;hY.b$(z.W.hT,J,p,4);
J.fill();hY.b$(z.W.Px,J,p,4);J.fill();J.fillStyle=_;hY.b$(z.W.u2,J,p,4);J.fill()}if(z.W.lN.length!=0){for(var g=0;
g<z.W.lN.length;g++){var gm=z.W.lN[g],iz=gm[1],dC;if(n){dC=J.getImageData(iz.x,iz.y,iz.r,iz.$);a.B.Oe("norm",gm[0],iz,new Uint8Array(dC.data.buffer),iz,iz,1)}else dC=new ImageData(new Uint8ClampedArray(gm[0].buffer),iz.r,iz.$);
J.putImageData(dC,iz.x,iz.y)}}var dL=.5/p.XP;J.lineWidth=1/p.XP;if(z.W.XI){B=!0;var cP=z.W.XI,id=cP.sT,Q={Ao:[],L:[]};
for(var g=0;g<cP.qi.length;g++)a.b.concat(Q,a.b.e3(cP.qi[g]));Q.L=Q.L.concat(id);for(var g=0;g<id.length;
g+=4){Q.Ao.push("M","L")}for(var g=0;g<Q.L.length;g++){Q.L[g]+=dL}J.strokeStyle=hY.aF([.9,.2,.2,1]);
this.ac(Q,null,J);J.stroke();var jR=q.$q(),hC=2/p.XP;J.font=A*.9+"px sans-serif";for(var g=0;g<id.length;
g+=4){var R=id[g],I=id[g+1],eJ=id[g+2],el=id[g+3],eu=Math.sqrt((el-I)*(el-I)+(eJ-R)*(eJ-R));eu=a.DM.Gu(eu,z.Ge,c,I==el?z.r:z.$);
var jY=new i_((R+eJ)/2,(I+el)/2);J.fillStyle=hY.aF([.9,.2,.2,1]);var fN=J.measureText(eu).width;J.fillRect(jY.x-fN/2-hC*jR,jY.y-3.5*hC*jR,fN+2*hC*jR,7*hC*jR);
J.fillStyle=hY.aF([1,1,1,1]);J.save();J.translate(jY.x-fN/2,jY.y+2*hC*jR);J.scale(.1,.1);J.font=A*9+"px sans-serif";
J.fillText(eu,0,0);J.restore()}}if(c.NO){if(t.Lu&&z.i.XP>10&&ex==0){this.jp(z,J,1,1,.25,t.Ku,16777215);
B=!0}if(t.eQ){var jC=a.DM.Kf(t.rq,z.Ge,z.r,t.LK),kF=t.WL==0?jC:a.DM.Kf(t.WL,z.Ge,z.r,t.LK);if(t.LK==4)kF*=z.$/z.r;
this.jp(z,J,jC,kF,1,t.Ku,t.Gc);B=!0;if(t.bB!=1){J.save();J.setLineDash([1/z.i.XP,1/z.i.XP]);this.jp(z,J,jC/t.bB,kF/t.bB,1,t.Ku,t.Gc);
J.restore()}}if(t.r_){var i6=z.zQ(),kT=z.oq(),kY=Math.max(z.i.B7.r,z.i.B7.$)/z.i.XP;kY=Math.max(Math.max(z.r,z.$)*2,kY);
for(var g=0;g<i6[0].length;g++){var h9=i6[0][g],bG=i6[1][g];if(bG!=-1&&bG!=kT)continue;var dQ=p.cE(h9[1],h9[1]),jn=p.Ka(Math.floor(dQ.x)+.5,Math.floor(dQ.y)+.5),b1=a.g8(bG==-1?t.tO:t.ab);
b1=[b1.o/255,b1.k/255,b1.X/255,1];J.beginPath();J.strokeStyle=hY.aF(b1);if(h9[0]==0){var c8=jn.x;J.moveTo(c8,-kY);
J.lineTo(c8,kY)}else{var j_=jn.x;J.moveTo(-kY,j_);J.lineTo(kY,j_)}J.stroke();B=!0}}var fQ=z.ih;if(fQ.length>0&&c.Ms==L.aHN){var iz=7/z.i.XP,cM=iz/3,jK=iz*4;
J.strokeStyle=J.fillStyle="black";for(var g=0;g<fQ.length;g++){var aw=fQ[g];J.fillRect(aw.x-.5*cM,aw.y-.5*jK,cM,jK);
J.fillRect(aw.x-.5*jK,aw.y-.5*cM,jK,cM);J.lineWidth=2.5/z.i.XP;J.beginPath();J.arc(aw.x,aw.y,iz,0,2*Math.PI);
J.stroke();J.font=1.9*iz+"px serif";J.lineWidth=1.25/z.i.XP;J.strokeText(""+(g+1),aw.x+.75*iz,aw.y+2.5*iz)}B=!0}var ez=z.Cy;
if(t.Cy&&ez.length!=0){J.font=A*.8+"px sans-serif";var g4=[],ht=[];for(var g=0;g<ez.length;g++){var gx=L.Xk.nQ(ez,g);
g4.push(gx);if(z.L8.indexOf(g)!=-1)ht.push(gx)}g4.reverse();var kE=Date.now();g4=a.S.a4a([0,0,z.r,z.$],g4);
for(var K=0;K<2;K++)for(var g=0;g<g4.length;g++){var kS=g4[g],G=kS[4],O=G!=null?ez[G]:null;if(O&&K==0||O==null&&K==1)continue;
var R=Math.round(kS[0]),I=Math.round(kS[1]),eJ=Math.round(kS[2]),el=Math.round(kS[3]);J.strokeStyle=J.fillStyle=hY.aF(O?[0,.7,.7,1]:[.8,.8,.8,1]);
J.strokeRect(R+dL,I+dL,eJ-R,el-I);var h7=g+1,i7=J.measureText(h7),fN=i7.width;J.fillRect(R,I,fN+A/2,A);
J.fillStyle=hY.aF([1,1,1,1]);J.fillText(h7,R+A/4,I+A*.8)}var hC=2/z.i.XP,fp=2*hC;for(var g=0;g<ht.length;
g++){var kS=ht[g],R=Math.round(kS[0]),I=Math.round(kS[1]),eJ=Math.round(kS[2]),el=Math.round(kS[3]);
J.strokeStyle=J.fillStyle=hY.aF([1,.6,0,1]);J.strokeRect(R+dL,I+dL,eJ-R,el-I);var jB=[R,I,eJ,I,eJ,el,R,el];
for(var fB=0;fB<jB.length;fB+=2){var c8=jB[fB],j_=jB[fB+1],df=jB[fB+2&7],dt=jB[fB+3&7];J.fillRect(c8-hC,j_-hC,fp,fp);
J.fillRect(Math.round((c8+df)/2)-hC,Math.round((j_+dt)/2)-hC,fp,fp)}}B=!0}var g5=z.add.Anno;if(g5&&g5.length!=0)for(var g=0;
g<g5.length;g++){var bR=g5[g],b1=bR[2],c8=bR[0]-dL,j_=bR[1]-dL,fp=30/p.HB,ih=.4*fp,jt=.6*fp;J.beginPath();
J.moveTo(c8,j_+jt);J.lineTo(c8,j_);J.lineTo(c8+fp,j_);J.lineTo(c8+fp,j_+fp);J.lineTo(c8+ih,j_+fp);J.closePath();
J.lineTo(c8+ih,j_+jt);J.lineTo(c8+ih,j_+fp);if(g==z.i.aD){J.lineWidth*=5;J.strokeStyle=hY.aF([0,0,0,.5]);
J.stroke();J.lineWidth/=5}J.fillStyle=hY.aF([b1.o/255,b1.k/255,b1.X/255,1]);J.fill();J.strokeStyle=hY.aF([0,0,0,1]);
J.stroke()}}J.strokeStyle=hY.aF([1,0,0,1]);if(z.W.qT){this.ac(z.W.qT,M,J);J.stroke()}J.restore();if(c.v5){if(z.i.SZ==null||z.i.SZ.width!=z.i.B7.r||z.i.dO.height!=z.i.B7.$){z.i.SZ=new ImageData(z.i.B7.r,a.DM.NX);
z.i.dO=new ImageData(a.DM.NX,z.i.B7.$)}var u=j4.Iy[c.y3],jk=0,gE=0,cW=z.r,dR=z.$;if(z.oq()!=-1){var w=z.U[z.oq()].x0();
jk=w.x;gE=w.y;cW=w.r;dR=w.$}jk*=p.XP;gE*=p.XP;var p=z.i,gV=[1,z.Ge,z.Ge/2.54,z.Ge/25.4,cW/100][t.zk],gv=p.XP*z.r/2,ga=p.XP*z.$/2,iC=[p.XP*gV,new i_(p.p.x+(jk+gv*gV-gv),p.p.y+(gE+ga*gV-ga))];
if(t.zk==4)gV*=dR/cW;var dI=[p.XP*gV,new i_(p.p.x+(jk+gv*gV-gv),p.p.y+(gE+ga*gV-ga))],fV=this.U1.ku;
a.DM.avf(p,u["--text-color"],u["--bg-input"],Math.floor(fV.x),Math.floor(fV.y),iC,dI,t.zk==1?8:10);var dH=eQ.a0N(p.XP,hY.aF([1,1,1,1]),z.r+" \xD7 "+z.$);
hY.NY(z.i.dO.data);hY.NY(z.i.SZ.data);J.putImageData(z.i.dO,0,0);J.putImageData(z.i.SZ,0,0);J.putImageData(dH,0,z.i.B7.$-dH.height)}if(z.W.wE.length!=0){for(var g=0;
g<z.W.wE.length;g++){var gm=z.W.wE[g],iz=gm[1];J.putImageData(new ImageData(new Uint8ClampedArray(gm[0].buffer),iz.r,iz.$),iz.x,iz.y)}}return B};
hY.prototype.jp=function(z,J,p,n,B,c,t){while(p*z.i.XP<4){p*=2;n*=2}var u=z.r,v=z.$,A=.5/z.i.XP;t=a.g8(t);
J.strokeStyle=hY.aF([t.o/255,t.k/255,t.X/255,B],!1);J.save();J.rect(0,0,u,v);J.clip();J.beginPath();
for(var $=0;$<=u;$+=p){J.moveTo($+A,0);J.lineTo($+A,v)}if(c==0){for(var X=0;X<=v;X+=n){J.moveTo(0,X+A);
J.lineTo(u,X+A)}}else{n*=Math.sqrt(4/3);var U=n*Math.floor(u/n),w=u*(n/(2*p));for(var X=-U;X<=v+U;X+=n){J.moveTo(0,X);
J.lineTo(u,X-w);J.moveTo(0,X);J.lineTo(u,X+w)}}J.stroke();J.restore()};hY.b$=function(z,J,p,n){J.beginPath();
var B=n*q.$q()/p.XP,c=!1;for(var g=0;g<z.length;g+=2){c=!0;var t=z[g],u=z[g+1];J.moveTo(t+B,u);J.arc(t,u,B,0,2*Math.PI)}return c};
hY.CU=function(z,J,p,n){J.beginPath();var B=(n?n:1)*(4*q.$q()+.5)/p.XP,c=!1;for(var g=0;g<z.length;g+=2){c=!0;
var t=z[g],u=z[g+1];J.rect(t-B,u-B,2*B,2*B)}return c};hY.hY=function(z,J,p,n){p.beginPath();if(n)p.rect(-1e5,-1e5,1e6,1e6);
var B=z;if(J){B=a.b.P(z);a.b.h(B.L,J,B.L)}Typr.U.pathToContext({cmds:B.Ao,crds:B.L},p)};hY.prototype.ac=hY.hY;
hY.Xb=function(z,J,p){co.P8.call(this);var n=this.asT=J!=0,B=p?"true":"in01(sCoord)",c="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D over;\t\t\tuniform sampler2D image;\t\t\t"+(z?"uniform sampler2D lut;  uniform float N;  "+co.rZ.alC:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(n?"uniform vec4 bgClr;  uniform vec4 ars["+J+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+co.rZ.aBy+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(over , tCoord); \t\t\t\tvec4 tgt = min(vec4(1,1,1,1),texture2D(image, sCoord"+(p?"-floor(sCoord)":"")+")); \t\t\t\t"+(z?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(n?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+J+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+B+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+B+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",t="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.SL(c,t)};hY.Xb.prototype=new co.P8;hY.Xb.prototype.zm=function(z,J,p,n,B,c,t,u,v,A,$,X,U,w){this.lG("tmat gsize over image lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var P=co.$l,k=this.Vh;P.uniformMatrix3fv(k.tmat,!1,p);P.uniform4fv(k.gsize,n);P.uniform3f(k.contSizeZoom,B,c,t);
P.uniform2f(k.cnvSize,u,v);P.uniformMatrix4fv(k.ctrn,!1,X);if(this.asT){P.uniform4fv(k.ars,$);P.uniform4fv(k.bgClr,A)}P.uniform1i(k.over,0);
P.uniform1i(k.image,1);P.activeTexture(P.TEXTURE0);P.bindTexture(P.TEXTURE_2D,z);P.activeTexture(P.TEXTURE1);
P.bindTexture(P.TEXTURE_2D,J);if(U){P.uniform1f(k.N,w);P.uniform1i(k.lut,2);P.activeTexture(P.TEXTURE2);
P.bindTexture(P.TEXTURE_2D,U.zu);var T=P.LINEAR;P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MIN_FILTER,T);
P.texParameteri(P.TEXTURE_2D,P.TEXTURE_MAG_FILTER,T)}P.activeTexture(P.TEXTURE0)};function kx(){bb.call(this,[9,7],!1,"---panels/layercomps",bb.yK.aqT);
q.v(this.sZ,"min-width:240px;");this.CT=null;this.DW=-1;this.Z0=[];this.wy=q.m("div","scrollable");this.wy.style.height="160px";
this.sZ.appendChild(this.wy);this.x4=q.m("div","lpfoot");this.sZ.appendChild(this.x4);this.cm=[];var z=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],J=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var g=0;g<z.length;g++){var p=z[g];if(g>0)p="<img src=\""+PIMG[z[g]]+"\" class=\"miniscale gsicon\" />";
var n=new eq(p,!1,J[g]);n.D("click",this.abB,this);this.x4.appendChild(n._);this.cm.push(n)}}kx.prototype=new bb("");
kx.prototype.B$=function(z,J){q.v(this.sZ,"width:"+(z-2)+"px;");this.wy.style.height=J-28+"px"};kx.prototype.GF=function(z){var J=new cD(b.E.H,!0);
J.data=z;J.l=L._T;this.a(J)};kx.ajq="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
kx.prototype.abB=function(z){var g=this.cm.indexOf(z.currentTarget)-1;if(g==-1){var J=new cD(b.E.c,!0);
J.data={R:b.J.$W,w0:kx.ajq};this.a(J);return}if(g!=1)if(this.DW==-1)return;this.GF({R:["updLC","addLC","delLC"][g],GU:this.DW});
if(g==2)this.DW=-1};kx.prototype.T=function(){bb.prototype.T.call(this);for(var g=0;g<this.cm.length;
g++)this.cm[g].T()};kx.prototype.DK=function(z){if(z==null)q.$y(this.sZ,"disabled");else q.Om(this.sZ,"disabled");
this.CT=z;q.X0(this.wy);if(z==null)return;var J=z.TN.lastAppliedComp?z.TN.lastAppliedComp.v:0,p=z.TN.list.v.slice(0);
p.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var g=0;g<p.length;
g++){var n=p[g].v,B=new e7(n.Nm.v,n.compID.v,n.capturedInfo.v,J,this.DW);B.D("activate",this.aV,this);
B.parent=this;this.wy.appendChild(B._);this.Z0.push(B)}};kx.prototype.aV=function(z){this.DW=z.currentTarget.GU;
this.DK(this.CT)};function e7(z,g,J,p,n){lh.call(this);this.GU=g;this._=q.m("div","head listitem"+(g==n?" selected":""));
var B=g==p,c=new eq(B?"\u2713":"\u2014");if(B)c.ZN();this._.appendChild(c._);c.D("click",this.Ey,this);
var t=this.ij=q.m("span");t.textContent=z;this._.appendChild(t);this.cm=[];if(g!=0){this._.addEventListener("mouseup",this.aV.bind(this),!1);
this.VO=q.m("span","headR");this._.appendChild(this.VO);var u=["lrs/eye","pos","lrs/fx"],v=["Visibility","Position","Appearance"];
for(var A=0;A<u.length;A++){var $=new eq("<img src=\""+PIMG[u[A]]+"\" class=\"autoscale gsicon\" />",!1,v[A]);
if((J>>A&1)==0)q.v($._,"opacity:0.3");$.D("click",this.aJx,this);this.VO.appendChild($._);this.cm.push($)}}}e7.prototype=new lh;
e7.prototype.aV=function(z){if(z.target!=this.ij&&z.target!=this._)return;if(z.detail==1)this.a(new cD("activate",!1));
else{var J=new bb.hB(this.ij,this.xq.bind(this))}};e7.prototype.aJx=function(z){var g=this.cm.indexOf(z.currentTarget);
this.GF({R:"editLC",asM:g,GU:this.GU})};e7.prototype.xq=function(z){this.GF({R:"editLC",s6:z,GU:this.GU})};
e7.prototype.Ey=function(z){this.GF({R:"setLC",GU:this.GU})};e7.prototype.GF=function(z){var J=new cD(b.E.H,!0);
J.data=z;J.l=L._T;this.a(J)};function du(){bb.call(this,[9,11],!1,"---panels/navigator",bb.yK.agn);var z=this.sZ;
q.$y(z,"padded");q.v(z,"cursor:grab;");this._V=q.m("canvas");z.appendChild(this._V);q.Uk(z);q.Ze(this._V);
q.tN(this._V,this.gq.bind(this));var J=q.m("div","form label6");z.appendChild(J);this.AJ=new jT([8,0],2,6400,"%",null,!0);
this.AJ.D(b.E.n,this.ae4,this);J.appendChild(this.AJ._);this.tb=new jT([12,15],-180,180,"\xB0");this.tb.D(b.E.n,this.ae4,this);
J.appendChild(this.tb._);this.arU=this.H3.bind(this);this.alW=this.Mv.bind(this);this.p2=null;this.aw9=null;
this.st=!1}du.prototype=new bb("");du.prototype.B$=function(z,J){this.Tx=z*1.2;this.tK=J*1.2;this.xM()};
du.prototype.ae4=function(z){var J=this.AJ.V(),p=this.p2,n=J/100;if(.8<n&&n<1.2)n=1;else if(1.8<n)n=Math.round(n);
p.i.rH=this.tb.V()*Math.PI/180;var B=new cD(b.E.H,!0);B.l=L.KZ;B.data={R:"zoom",XP:n};this.a(B)};du.prototype.gq=function(z){var J=this.p2;
if(J==null)return;this.st=!0;q.G3(window,this.arU);q.ol(window,this.alW)};du.prototype.H3=function(z){var J=q.bZ(z,this._V),p=this.p2,n=p.i,B=this._V.width,c=this._V.height,t=p.r*(J.x*q.$q()-B/2)/B,u=p.$*(J.y*q.$q()-c/2)/c,v=Math.sin(n.rH),A=Math.cos(n.rH),$=Math.round(-n.XP*(A*t-v*u)),X=Math.round(-n.XP*(v*t+A*u));
L.Hi.Ih(p,$,X)};du.prototype.Mv=function(z){q.Mt(window,this.arU);q.eX(window,this.alW);this.st=!1};
du.prototype.DK=function(z){if(z==null&&this.p2!=null)this._V.width=100;this.p2=z;this.xM()};du.prototype.avt=function(){var z=this.p2,J=q.$q(),p=L.gf.ag(z.r,z.$,J*(this.Tx-10),J*(this.tK-36)),n=a.apQ(z.dT(),new fw(0,0,z.r,z.$),p);
this.aw9=[n.R1,n.S]};du.prototype.xM=function(){var z=this.p2;if(z==null||z.i.XP==0)return;var J=z.i;
if(!q.SA(this.sZ)||this.Tx==0)return;this.AJ.q(J.XP*100);var p=J.rH*180/Math.PI;p=(36e5+180+p)%360-180;
this.tb.q(p);if(!this.st)this.avt();var n=this.aw9[0],B=this.aw9[1],c=B.r,t=B.$,u=this._V;u.width=c;
u.height=t;q.MT(u,c,t);var v=this.sZ;v.style.width=this._V.style.width+12+"px";var A=u.getContext("2d"),$=new ImageData(c,t);
a._U(n,$.data);A.putImageData($,0,0);A.getImageData(0,0,1,1);var X=c/z.r;A.scale(X,X);A.lineWidth=4/X;
A.strokeStyle="#ff0000";var U=J.B7,w=a.b.e3(U).L;a.b.h(w,J.kb(),w);A.moveTo(w[0],w[1]);for(var g=0;g<4;
g++)A.lineTo(w[g*2],w[g*2+1]);A.closePath();A.stroke()};du.prototype.Sc=function(z,J){};du.prototype.T=function(){bb.prototype.T.call(this);
this.AJ.T();this.tb.T()};du.prototype.Jw=function(){this.xM()};function c1(z,J){bb.call(this,z.name,!1,z.icon,J);
this.DA=z}c1.prototype=new bb("");c1.prototype.N5=function(){var z=this.sZ,J=this.DA;if(!q.SA(z)||this.P_)return;
var p=this.P_=q.m("iframe");p.setAttribute("src",J.url);this.sZ.appendChild(p)};c1.prototype.Jw=c1.prototype.DK=function(){this.N5()};
c1.prototype.w1=function(z){if(q.SA(this.P_))this.P_.contentWindow.postMessage(z,"*")};c1.prototype.B$=function(z,J,p){if(this.P_==null)return;
var n=this.DA;if(n.url.indexOf("peasmaker")!=-1&&window.innerWidth>500)z=Math.max(z,Math.min(700,window.innerWidth-320));
if(p){n.w=z;n.h=J}if(n.w)z=Math.min(n.w,window.innerWidth-40);if(n.h)J=Math.min(n.h,window.innerHeight-50);
q.v(this.P_,"width:"+z+"px; height:"+J+"px")};function bu(){bb.call(this,[9,12],!1,"---panels/tpreset",bb.yK.XW);
this.f=null;this.lk=new iq(L.na);this.lk.parent=this;var z=q.m("div","padded");q.v(z,"width:20em");this.sZ.appendChild(z);
z.appendChild(this.lk.Sl)}bu.prototype=new bb("");bu.prototype.Jw=function(){this.lk.fv(this.f.hC)};
bu.prototype.Sc=function(z,J){this.f=z;if(J==iQ.hl||J==iQ.XW)this.lk.fv(z.hC)};bu.prototype.B$=function(z,J){this.lk.asU(this.f.Ms)};
bu.prototype.T=function(){bb.prototype.T.call(this);this.lk.T()};var dW=function(){var z=[],J=null,p=null,n=null,B=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function c(){bb.call(this,"Memory",!1,null,bb.yK.a2S);var P=q.m("div","padded");this.sZ.appendChild(P);
p=new eq(["<< VAR0",[0,13,2]],!1,null,!0);p.addEventListener("click",function(k){z.pop();u()});P.appendChild(p._);
J=q.m("div","scrollable");q.v(J,"width:20em;  height:26em; margin-top:8px;");P.appendChild(J)}c.prototype=new bb("");
c.prototype.DK=function(P,k,T){n=k;this.Jw()};c.prototype.Jw=function(){p.h6(!1);if(!q.SA(J))return;
var P={y0:"Total:",qD:[]};for(var g=0;g<n.length;g++)P.qD.push(A(n[g]));if(gK!=null){var k=gK.Vz,T=[],Z={y0:"Blending Buffers",qD:T};
P.qD.push(Z);for(var i in k){var V=i.split("x"),_=parseInt(V[0]),y=parseInt(V[1]),E=k[i],F=0;for(var g=0;
g<E.length;g++)F+=_*y*4*(E[g][3]>>>3);T.push({y0:E.length+"\xD7 "+_+" \xD7 "+y+" px",_5:co.Pw?[0,F]:[F,0]})}X(Z)}var d=dc;
if(d.iu)P.qD.push({y0:"View Buffers",_5:[d.iu.length+d.Sq.length,0]});X(P);z=[P];u()};c.prototype.T=function(){bb.prototype.T.call(this);
p.T()};function t(P){var k=P.currentTarget,g=0;while((k=k.previousSibling)!=null)g++;z.push(z[z.length-1].qD[g-1]);
u()}function u(){p.h6(z.length>1);var P=z[z.length-1];q.X0(J);v(P,J,0);P.qD.sort(function(k,T){return T._5[0]-k._5[0]});
for(var g=0;g<P.qD.length;g++)v(P.qD[g],J,1)}function v(P,k,T){var Z=hI.dB,i=T!=0&&P.qD,V="margin-left:"+T*10+"px; margin-bottom:8px; padding:3px 5px;";
if(i)V+="cursor:pointer;";if(P.iQ!=null)V+="background-color:rgba("+B[P.iQ].join(",")+",0.2);";var _=q.m("div");
k.appendChild(_);q.v(_,V);_.innerHTML=q.kT(P.y0)+"<br />"+"RAM: <b>"+Z(P._5[0])+"</b>\u2001GPU: <b>"+Z(P._5[1])+"</b>";
if(i)_.addEventListener("click",t,!1)}function A(P){var k={y0:P.name,qD:[],iQ:0},T=co.Pw?1:0,Z=1-T,i=P.depth>>>3,V={y0:"History",qD:[],iQ:5};
k.qD.push(V);for(var g=1;g<P.history.length;g++){var _=P.history[g];V.qD.push({y0:j0.get(_.name),iQ:5,_5:[_.ZD(),0]})}X(V);
var V={y0:"Final Image"+U(P,4,i),_5:[P.r*P.$*4*i,T*P.r*P.$*4*i],iQ:2};k.qD.push(V);for(var g=0;g<P.U.length;
g++){var y=$(P.U[g],i);if(y.qD.length!=0)k.qD.push(y)}var E=P.add.lnk2;if(E)for(var g=0;g<E.length;g++){var y=E[g],F={y0:y.qI,qD:[],iQ:4},d=0;
F.qD.push({y0:"Raw file",_5:[y.raw.length,0]});if(y.GS)for(var x=0;x<y.GS.length;x+=2)d+=y.GS[x].length;
if(d!=0)F.qD.push({y0:"Decoded pixels",_5:[d*i,0]});X(F);k.qD.push(F)}X(k);return k}function $(P,k){var T={y0:P.getName(),qD:[],iQ:1},Z=co.Pw?1:0,i=1-Z,V=P.S.C();
if(V!=0)T.qD.push({y0:"Layer pixels"+U(P.S,4,k),_5:[V*4*k,Z*V*4*k]});if(P.add.lmfx&&P.GJ.Z9.I){var _=P.GJ.Z9.I;
for(var y in _){var E=0;for(var F=0;F<_[y].length;F++){var d=_[y][F];if(y=="ebbl"){E+=w(d.ux);E+=w(d.Xy);
E+=w(d.kp);E+=w(d.wD)}else{E+=w(d);if(d.hK||d.g_)E+=d.dp.C();if(d._Y||d.$v)E+=d.dp.C()}}if(E!=0)T.qD.push({y0:j0.get(a_.names[a_.order.indexOf(y)]),_5:[i*E*k,Z*E*k],iQ:3})}var x=P.GJ.gg?P.GJ.gg.length:0;
if(x!=0)T.qD.push({y0:"Transparency backup",_5:[x*k,0]})}var f=P.Qu(),Q=f?f.S.C():0;if(Q!=0){T.qD.push({y0:"Raster Mask",_5:[Q*k,0]})}var f=P.add.vmsk,Q=f&&f.SV?f.SV.S.C():0;
if(Q!=0){T.qD.push({y0:"Vector Mask",_5:[Q*k,0]})}X(T);return T}function X(P){P._5=[0,0];for(var g=0;
g<P.qD.length;g++){P._5[0]+=P.qD[g]._5[0];P._5[1]+=P.qD[g]._5[1]}}function U(P,k,T){return"\u2001"+P.r+"\xD7"+P.$}function w(P){if(P==null)return 0;
var k=P.R1;if(k==null)k=P.pd;return P.dp.C()*(k instanceof Array?1:4)}return c}();function fG(){bb.call(this,[9,14],!1,"---panels/notes",bb.yK.aq6);
q.v(this.sZ,"min-width:240px;");var z=q.m("div","padded");this.sZ.appendChild(z);this.Vf=new dz("Author");
z.appendChild(this.Vf._);this.B8=q.m("textarea");q.Uj(this.B8);z.appendChild(this.B8);var J=new eq("<<",null,null,!0);
z.appendChild(J._);this.azy=J;var p=new eq(">>",null,null,!0);z.appendChild(p._);J.D("click",this.ff,this);
p.D("click",this.ff,this);var n=this.aCR=new bm("");z.appendChild(n._)}fG.prototype=new bb("");fG.prototype.ff=function(z){var J=z.target==this.azy?-1:1,p=this.p2,n=p.add.Anno;
if(n==null)return;var B=n.length,c=p.i.aD;p.i.aD=(c+J+B)%B;p.SR=!0;this.xM()};fG.prototype.xM=function(){var z=this.p2;
if(z==null)return;var J=z.add.Anno;if(J==null||J.length==0)return;var p=z.i.aD,n=J[p];this.B8.value=n[4];
this.aCR.q(p+1+" / "+J.length);this.Vf.q(n[3])};fG.prototype.B$=function(z,J){if(this.Tx==z)return;this.Tx=z;
J=Math.min(J,200);q.v(this.B8,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(z-10)+"px; height:"+(J-66)+"px")};
fG.prototype.DK=function(z,J,p){this.p2=z;this.xM()};function dU(){bb.call(this,[1,16,1],!1,"---tools/artb",bb.yK.a1L);
this.Bs=[];this.Me=[];this.cm=[];this.Cl=null;this.x4=null}dU.prototype=new bb("");dU.prototype.N5=function(){this.Cl=q.m("div","padded scrollable");
q.v(this.Cl,"width:260px;  height:260px");this.sZ.appendChild(this.Cl);this.x4=q.m("div","lpfoot");this.sZ.appendChild(this.x4);
var z=["lrs/newlayer","lrs/bin"],J=[[15,8,2],[5,4]];for(var g=0;g<z.length;g++){var p="<img src=\""+PIMG[z[g]]+"\" class=\"miniscale gsicon\" />",n=new eq(p,!1,J[g]);
n.D("click",this.rv,this);this.x4.appendChild(n._);this.cm.push(n)}};dU.prototype.T=function(){bb.prototype.T.call(this);
if(this.Cl==null)return;for(var g=0;g<this.cm.length;g++)this.cm[g].T()};dU.prototype.rv=function(z){var g=this.cm.indexOf(z.currentTarget),J=new cD(b.E.H,!0);
J.l=L.kA;J.data={R:g==0?"new":"del"};this.a(J);if(g==0)this.ax9(this.Bs.length-1)};dU.prototype.DK=dU.prototype.Jw=function(z){if(z)this.Bs=z.add.arts;
if(!q.SA(this.sZ))return;if(this.Cl==null)this.N5();this.xM(z)};dU.prototype.LY=function(z){var g=this.Me.indexOf(z.currentTarget);
if(z.target.tagName=="BUTTON"){this.ax9(g)}var J=this.Bs;for(var p=0;p<J.length;p++)J[p].Y=!1;J[g].Y=!0;
this.xM()};dU.prototype.ax9=function(g){var z=new cD(b.E.c,!0);z.data={R:b.J.Ym,i9:"aoptions",K:this.Bs[g]};
this.a(z)};dU.prototype.xM=function(){q.X0(this.Cl);var z=this.Bs,J=this.LY.bind(this);this.Me=[];for(var g=0;
g<z.length;g++){var p=z[g],n=q.m("div","layeritem"+(p.Y?" selected":""));this.Cl.appendChild(n);this.Me.push(n);
n.addEventListener("click",J);var B=q.m("div","head");n.appendChild(B);q.v(B,"height:24px");var c=q.m("div","headL");
B.appendChild(c);var t=q.m("div","headR");B.appendChild(t);var u=q.m("div","label");u.textContent=g+1+". "+p.y0;
c.appendChild(u);var v=new eq("Options",null,null,!0);t.appendChild(v._)}};function ik(){bb.call(this,["Vector","Document"][ex]+" Info",!1,"---panels/info",bb.yK.auD);
this.u6=q.m("div","scrollable padded form");this.sZ.appendChild(this.u6);q.v(this.u6,"width:260px;  height:200px")}ik.prototype=new bb("");
ik.prototype.N5=function(){if(!q.SA(this.sZ))return;var z=this.p2,J=this.WI,p=this.u6,B=0,c=0,t=0,u=0;
if(z==null)return;var n=z.l3();for(var g=0;g<n.length;g++){var v=z.U[n[g]],A=v.add.vmsk;if(A==null)continue;
var $=A.u;for(var X=0;X<$.length;X++){var U=$[X],w=U.I;if(6<=w)continue;if(w==0)c++;else if(w==3)B++;
else t++;if(w==0||w==3){var P=$.slice(0,2).concat($.slice(X,X+1+U.length)),k=a.b.Ru(P),Z=0;k=a.b.bm(k);
var T=a.b.DI(k),i=T.length-(w==0?0:2);for(var V=0;V<i;V+=2){var _=(V+2)%T.length,y=T[_]-T[V],E=T[_+1]-T[V+1];
Z+=Math.sqrt(y*y+E*E)}u+=Z}}}var F=J.Uc.zk;p.innerHTML="Objects:<br/>Paths: "+(B+c)+" ("+B+" open, "+c+" closed, "+t+" points, length = "+a.DM.gj(u,z.Ge,z.r,F).toFixed(3)+" "+a.DM.mZ[F]+")"};
ik.prototype.DK=function(z,J,p){this.p2=z;this.WI=p;this.N5()};ik.prototype.Jw=function(){this.N5()};
ik.prototype.T=function(){bb.prototype.T.call(this)};function kz(){bb.call(this,"Pathfinder",!1,"---set/intersection",bb.yK.kZ);
var z=this.Cl=q.m("div","padded");q.v(this.Cl,"width:260px;  height:130px");this.sZ.appendChild(this.Cl);
var J=this.cm=[],p=new bm("Shape Modes:");z.appendChild(p._);q.Uk(z);var n=[[18,1],[18,2],[18,3],[18,4]],B=fD.Kg(["set/union","set/difference","set/intersection","set/xor"]);
n=n.concat([[15,10,22],[11,12],[18,5],[11,12,1],"Outline","Minus Back"]);for(var g=0;g<n.length;g++){var c=new eq(g<4?B[g]:n[g],null,n[g]);
J.push(c);c.D("click",this.qn,this);z.appendChild(c._);if(g==3){q.Uk(z);z.appendChild(new bm("Pathfinders:")._);
q.Uk(z)}}}kz.prototype=new bb("");kz.prototype.qn=function(z){var g=this.cm.indexOf(z.target),J=new cD(b.E.H,!0);
J.l=L.bX;J.data={R:bi.kZ,m5:g};this.a(J)};kz.prototype.T=function(){bb.prototype.T.call(this);var z=this.cm;
for(var g=0;g<z.length;g++)z[g].T()};function db(){lh.call(this);this.l=0;this.Ez=null;this._=q.m("div","toolconf");
this.lk=null;this.atT=null;this.body=new q.m("div","body")}db.prototype=new lh;db.prototype.a0l=function(z,J){this.l=z;
this.Ez=J;if(L.kG[z]){var p=this.lk=new iq(z);this._.appendChild(p._);p.parent=this}else{this.atT=q.m("div");
this._.appendChild(this.atT)}this._.appendChild(this.body);this.T()};db.prototype.Zu=function(z,J){};
db.prototype.AG=function(z){};db.prototype.Sc=function(z,J){if(J==iQ.hl||J==iQ.XW)if(this.lk)this.lk.fv(z.hC)};
db.prototype.YO=function(z){};db.prototype.T=function(){if(this.lk)this.lk.T();else this.atT.innerHTML=q.HS(this.Ez,null,"toolicon");
this.dM()};db.prototype.dM=function(){};function ll(){db.call(this);this.xQ=new eT;this.xQ.D(b.E.n,this.cB,this);
this.xQ.parent=this;this.body.appendChild(this.xQ._)}ll.prototype=new db;ll.prototype.dM=function(){this.xQ.T()};
ll.prototype.cB=function(z){var J=new cD(b.E.c,!0);J.data={R:b.J.JE,l:this.l,Xu:this.xQ.ay2()};this.a(J)};
ll.prototype.YO=function(z){this.xQ.aig(z.z2)};function g3(z){db.call(this);if(z==null)return;this.f=null;
this.ow={};if(z.indexOf("brush")!=-1&&z.indexOf("prsr")==-1)z.push("prsr");for(var g=0;g<z.length;g++){var J=z[g],p=null;
if(J=="brush"){p=new hm}if(J=="bmode"){p=new kZ([12,19,0],jM.he,jM.jN)}if(J=="bmode0"){p=new kZ([12,19,0],jM.he.slice(23))}if(J=="emode"){p=new kZ([12,36],[[9,3],[10,38]])}if(J=="opacity"){p=new kW([12,0],0,100,"%");
p.q(100)}if(J=="flow"){p=new kW([12,63],0,100,"%");p.q(100)}if(J=="smth"){p=new kW([19,3,0],0,100,"%");
p.q(0)}if(J=="samp"){p=new kZ([12,36],[[12,25,4],[12,25,5],[12,46]])}if(J=="wconf"){p=new gW;p.q([40,!0,!0])}if(J=="sall"){p=new k9([12,25,2])}if(J=="smode"){p=new kZ([12,36],[[19,7,0],[19,7,1]]);
p.q(1)}if(J=="pdetail"){p=new k9([12,65]);p.ZN()}if(J=="rng"){p=new kZ([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
p.q(1)}if(J=="expo"){p=new kW([12,5],0,100,"%");p.q(50)}if(J=="algnd"){p=new k9([12,75]);p.q(!1)}if(J=="sfrom"){p=new kZ([12,70],[[17,1],[17,3],[17,0]])}if(J=="alt"){p=new g1(null,["Alt"],!0,["Select Source"])}if(J=="qsmode"){p=new fD([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(J=="redge"){p=new eq([7,11],!1,null,!0)}if(J=="sesu"){p=new eq("Select Subject",!1,null,!0)}if(J=="setop"){p=new hO}if(J=="patch"){p=new fD(null,[[12,70],[12,71]])}if(J=="strn"){p=new kW([12,64],1,100,"%");
p.q(50)}if(J=="prsr"){p=this.ow.brush.vd}if(J=="symm"){p=new dh}this.body.appendChild(p._);if(J=="prsr")continue;
p.parent=this;this.ow[J]=p;if(J=="brush")p.D(b.E.n,this.atf,this);else if(J=="redge"||J=="sesu")p.D("click",aC.ajE,this);
else p.D(b.E.n,this.H$,this)}}g3.prototype=new db;g3.prototype.Zu=function(z,J){z=z[1];var p=this.ow;
if(z.Md)p.bmode.q(jM.n_.indexOf(z.Md.v.BlnM));if(z.Opct)p.opacity.q(z.Opct.v);if(z.flow)p.flow.q(z.flow.v);
if(z.Brsh)p.brush.q(z,J._$.EO,J._$.bG);if(z.FrgC){var n=a.Wi.Um(z.FrgC.v),B=new cD(b.E.c,!0);B.data={R:b.J.bS,Xu:iQ.Hm,el:0,K:n.o<<16|n.k<<8|n.X};
this.a(B)}this.atf();this.H$()};g3.prototype.AG=function(){if(L.kG[this.l]==null)return null;var z=this.ow,J;
for(var p in L.f3)if(L.f3[p]==this.l)J=p;var n=a.G(z.brush.V());n.classID=J;if(z.bmode)n.Md={t:"enum",v:{BlnM:jM.n_[z.bmode.V()]}};
if(z.opacity)n.Opct={t:"long",v:z.opacity.V()};if(z.flow)n.flow={t:"long",v:z.flow.V()};var B=this.f.Nb;
B={o:B>>>16,k:B>>>8&255,X:B&255};n.FrgC={t:"Objc",v:a.Wi.yR(B)};return["Brush Preset "+n.Brsh.v.Dmtr.v.val,n]};
g3.prototype.dM=function(){for(var z in this.ow)this.ow[z].T()};g3.prototype.YO=function(z){if(z.awX=="showBrushOpts"){this.ow.brush.ay0(z.md.x,z.md.y)}for(var J in z.zd){var p=z.zd[J];
if(J!="qsmode")p*=100;if(this.ow[J])this.ow[J].q(p)}};g3.prototype.Sc=function(z,J){db.prototype.Sc.call(this,z,J);
this.f=z;var p=this.ow.brush;if(p==null)return;if(J==iQ.hl||J==iQ.na)p.fv(z._$);if(J==iQ.Pr){p.q(z._$.fO,z._$.EO,z._$.bG)}};
g3.prototype.atf=function(){var z=new cD(b.E.c,!0);z.data={R:b.J.bS,Xu:iQ.Pr,to:this.ow.brush.V()};this.a(z)};
g3.prototype.H$=function(){var z=new cD(b.E.c,!0);z.data={R:b.J.JE,l:this.l};for(var J in this.ow){if(J=="brush"||J=="redge"||J=="symm")continue;
var p=this.ow[J].V();if(["opacity","flow","smth","expo","strn"].indexOf(J)!=-1)z.data[J]=p/100;else if(J=="bmode")z.data.bmode=jM.Bk[p];
else if(J=="bmode0")z.data.bmode=jM.Bk[23+p];else z.data[J]=p}this.a(z)};function aC(z,J){db.call(this);
if(z)return;this.ow={};for(var g=0;g<J.length;g++){var p=J[g],n=null;if(p=="sesu"&&!q.dK(1))continue;
if(p=="binop")n=new hO;if(p=="feat"){n=new kW([7,6],0,100,"px");n.q(0)}if(p=="redge")n=new eq([7,11],!1,null,!0);
if(p=="sesu")n=new eq("Select Subject",!1,null,!0);if(p=="wconf")n=new gW;if(p=="cstr")n=new d0;if(p=="anta"){n=new k9([12,25,1]);
n.q(!0)}if(p=="sall")n=new k9([12,25,2]);if(p=="redge"||p=="sesu")n.D("click",aC.ajE,this);else n.D(b.E.n,this.H$,this);
n.parent=this;this.body.appendChild(n._);this.ow[p]=n}}aC.prototype=new db;aC.prototype.YO=function(z){var J=this.ow.cstr;
if(z.ZB!=null)this.ow.binop.q(z.ZB);else if(z.T_){for(var p in z.T_)if(this.ow[p])this.ow[p].q(z.T_[p])}else if(z.jd){if(J)J.Jy(z.jd)}else{var n=aC.vK;
if(n==null){var B=ac.ahu(!0);n=aC.vK=new ka(B.items,B.CY)}n.T();n.parent=this;n.update(z.RV,z.f);var c=new cD(b.E.c,!0);
c.data={R:b.J.v0,NC:n,x:z.bW.Py+2,y:z.bW.fH+1};this.a(c)}};aC.prototype.dM=function(){for(var z in this.ow)this.ow[z].T()};
aC.ajE=function(z){var J=z.target==this.ow.sesu,p=new cD(J?b.E.H:b.E.c,!0);if(J){p.l=L.Wu;p.data={R:"bgrm",K:2}}else p.data={R:b.J.Ym,i9:"redge"};
this.a(p)};aC.prototype.H$=function(){var z=new cD(b.E.c,!0);z.data={R:b.J.JE,l:this.l,T_:{}};for(var J in this.ow)z.data.T_[J]=this.ow[J].V();
this.a(z)};function kp(){g3.call(this,["brush","strn"])}kp.prototype=new g3;function fM(){g3.call(this,"brush bmode opacity flow smth prsr symm".split(" "))}fM.prototype=new g3;
function d9(){g3.call(this,["brush","bmode0","samp","wconf"])}d9.prototype=new g3;function bq(){g3.call(this,["brush"])}bq.prototype=new g3;
function cb(){g3.call(this,"brush bmode opacity smth prsr symm".split(" "))}cb.prototype=new g3;function fb(){g3.call(this,["brush","rng","expo"])}fb.prototype=new g3;
function gi(){g3.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}gi.prototype=new g3;function dS(z){db.call(this);
if(z==null)return;this.pM=[];this.aES=new eq("\u2026",!1,null,!0);if(!z)this.body.appendChild(this.aES._);
this.aES.D("click",this.oy,this);this.pF=new lh;this.pF.parent=this;var J=this.pF._=q.m("div","floatcont form"),p=[[17,0],[17,1],[11,12,0],[17,2]];
for(var g=0;g<p.length;g++){var n=new eq(p[g],!1,null,!0);this.pM.push(n);n.D("click",this.a2Q,this);
if(!z||g==1)J.appendChild(n._)}this.m1=new d0(!0);this.m1.D(b.E.n,this.C2,this);if(!z)this.body.appendChild(this.m1._);
this.kg=new eq([15,7,6],!1,null,!0);this.kg.D("click",this.a2Q,this);if(!z)this.body.appendChild(this.kg._);
this.ip=new k9([15,7,10]);this.ip.D(b.E.n,this.C2,this);if(!z)this.body.appendChild(this.ip._);this.fV=new k9([6,48,0,3]);
this.fV.D(b.E.n,this.C2,this);if(!z)this.body.appendChild(this.fV._);this.xS=new bX;this.xS.D("click",this.rt,this)}dS.prototype=new db;
dS.prototype.oy=function(z){if(q.SA(this.pF._))return;var J=this.aES._.getBoundingClientRect(),p=new cD(b.E.c,!0);
p.data={R:b.J.v0,NC:this.pF,x:J.left,y:J.top+J.height+4};this.a(p)};dS.prototype.dM=function(){this.xS.T();
for(var g=0;g<this.pM.length;g++)this.pM[g].T();this.m1.T();this.ip.T();this.kg.T();this.fV.T()};dS.prototype.YO=function(z){if(z.jd){this.m1.Jy(z.jd);
return}var J=this.xS._;if(z.O9)this.body.appendChild(J);else if(this.body.contains(J))this.body.removeChild(J);
if(z.m1)this.m1.q(z.m1)};dS.prototype.rt=function(z){var J={R:b.J.JE,l:this.l,Kq:this.xS.V()?"commit":"cancel"},p=new cD(b.E.c,!0);
p.data=J;this.a(p)};dS.prototype.a2Q=function(z){z.target._.blur();var J={R:b.J.JE,l:this.l,Kq:"cropby",a2L:this.pM.indexOf(z.target)};
if(z.target==this.kg)J.Kq="straighten";var p=new cD(b.E.c,!0);p.data={R:b.J.t9,NC:this.pF};this.a(p);
p.data=J;this.a(p)};dS.prototype.C2=function(z){var J={R:b.J.JE,l:this.l,Kq:"config",T_:{Yz:this.m1.V(),O4:this.ip.V(),RI:this.fV.V()},aEu:z.target==this.m1},p=new cD(b.E.c,!0);
p.data=J;this.a(p)};function eR(){dS.call(this,!1)}eR.prototype=new dS;function ca(){dS.call(this,!0)}ca.prototype=new dS;
function gN(){g3.call(this,["brush","rng","expo"])}gN.prototype=new g3;function kc(){g3.call(this,"brush emode opacity flow smth prsr symm".split(" "))}kc.prototype=new g3;
function j2(){g3.call(this,["brush","samp","wconf"])}j2.prototype=new g3;function g6(){aC.call(this,!1,["binop","feat","anta","redge","cstr"])}g6.prototype=new aC(!0);
function aF(){db.call(this);var z=this.ow=[new kZ([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new kZ([12,70],[[17,1],[17,3],[17,0]]),new k9([12,20,1]),new k9([8,0])];
z[1].q(2);z[2].q(!0);for(var g=0;g<z.length;g++){var J=z[g];J.D(b.E.n,this.H$,this);this.body.appendChild(J._)}}aF.prototype=new db;
aF.prototype.H$=function(z){var J=this.ow,p=[];for(var g=0;g<J.length;g++)p[g]=J[g].V();var n=new cD(b.E.c,!0);
n.data={R:b.J.JE,l:this.l,T_:p};this.a(n)};aF.prototype.dM=function(){for(var g=0;g<this.ow.length;g++)this.ow[g].T()};
function dV(){db.call(this);this.Eb=!1;this.Zh=new kU("GrFl",!0);this.Zh.parent=this;this.Zh.update(null,JSON.parse(a_.ef[6]));
this.Zh.D(b.E.n,this.WW,this);var z="Grad Type Md Opct Rvrs Dthr".split(" ");for(var g=0;g<z.length;
g++)this.body.appendChild(this.Zh.ke[z[g]]._);this.Zh.ke.Grad.agf=!1;this.h7=new eq([6,48,1],!1,null,!0);
this.h7.D("click",this.WW,this);this.body.appendChild(this.h7._)}dV.prototype=new db;dV.prototype.dM=function(z){var z=this.Eb;
this.body.children[2].style.display=z?"none":"";this.body.children[3].style.display=z?"none":"";this.Zh.T();
this.h7.T()};dV.prototype.Sc=function(z,J){db.prototype.Sc.call(this,z,J);var p=J==iQ.Hm,n=this.Zh.ke.Grad;
n.MU(z.Nb,z.Gh);if(p||J==iQ.uN||J==iQ.hl)n.fv(z.lX)};dV.prototype.WW=function(z){if(z.target==this.h7){var J=new cD(b.E.wR,!0);
J.data=L.Fz.tR(1);this.a(J);return}this.T();var J=new cD(b.E.c,!0);J.data={R:b.J.JE,l:this.l,Xu:this.Zh.V()};
this.a(J)};dV.prototype.YO=function(z){this.Eb=z.z;this.T();this.Zh.update(null,z.Xu);this.T()};function ji(){db.call(this);
this.sG=new k9([8,7,1]);this.body.appendChild(this.sG._);this.sG.D(b.E.n,this.H$,this)}ji.prototype=new db;
ji.prototype.H$=function(){var z={R:b.J.JE,l:this.l,op:this.sG.V()},J=new cD(b.E.c,!0);J.data=z;this.a(J)};
function ja(){db.call(this);var z=q.m("span","fitem");this.body.appendChild(z);this.fz=[new kW([12,15],-180,180,"\xB0"),new eq([1,12,2],null,null,!0)];
for(var g=0;g<this.fz.length;g++){var J=this.fz[g];J.parent=this;z.appendChild(J._);J.D(g==1?"click":b.E.n,this.fk,this)}}ja.prototype=new db;
ja.prototype.dM=function(){for(var g=0;g<this.fz.length;g++)this.fz[g].T()};ja.prototype.YO=function(z){var J=z.K4*180/Math.PI;
J=(36e5+180+J)%360-180;this.fz[0].q(J)};ja.prototype.fk=function(z){var J=this.fz.indexOf(z.target),p=new cD(b.E.c,!0);
p.data={R:b.J.JE,l:this.l,K4:J==1?0:z.target.V()*Math.PI/180};this.a(p)};function j$(){g3.call(this,["brush","algnd","sfrom","alt"])}j$.prototype=new g3;
function et(){db.call(this);this.f=null;this.ao=new jd;this.ao.parent=this;this.body.appendChild(this.ao.Ds._);
this.body.appendChild(this.ao.PG._);this.body.appendChild(this.ao.s3._);this.body.appendChild(this.ao.gk._);
var z=q.m("span","fitem");this.body.appendChild(z);z.appendChild(this.ao.aDG._);z.appendChild(this.ao.a2g._);
z.appendChild(this.ao.aiC._);this.Hf=new kZ("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.Hf.D(b.E.n,this.rt,this);this.body.appendChild(this.Hf._);this.QL=new kZ(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.QL.D(b.E.n,this.rt,this);this.body.appendChild(this.QL._);this.J$=new eq([11,9],!1,null,!0);this.J$.D("click",this.azd,this);
this.body.appendChild(this.J$._);this.xS=new bX;this.xS.D("click",this.rt,this)}et.prototype=new db;
et.prototype.Zu=function(z,J){z=z[1];var p=z.textToolCharacterOptions.v.TxtS.v,n=z.textToolParagraphOptions.v.paragraphStyle.v,B=a.G(J.ko);
dN.i4(p,B.uA,B,72);dN.i4(n,B.gC,B,72);var c=new cD(b.E.c,!0);c.data={R:b.J.bS,Xu:iQ.N3,ko:B};this.a(c)};
et.prototype.AG=function(){var z={classID:"TxtS"},J={classID:"paragraphStyle"},p=this.f.ko;dN.jg(p.uA,z,p,72);
dN.jg(p.gC,J,p,72);return["Horizontal Type Tool",{classID:"typeCreateOrEditTool",textToolCharacterOptions:{t:"Objc",v:{classID:"null",TxtS:{t:"Objc",v:z}}},textToolParagraphOptions:{t:"Objc",v:{classID:"null",paragraphStyle:{t:"Objc",v:J}}}}]};
et.prototype.dM=function(){this.xS.T();this.ao.T();this.J$.T()};et.prototype.azd=function(z){var J={R:b.J.JE,l:this.l,Kq:"showwarp"},p=new cD(b.E.c,!0);
p.data=J;this.a(p)};et.prototype.YO=function(z){if(z.Kq=="showactive")this.body.appendChild(this.xS._);
if(z.Kq=="hideactive")this.body.removeChild(this.xS._);if(z.Kq=="changeOther"){this.Hf.q(z.e7);this.QL.q([0,2,1][z.ahW])}if(z.Kq=="showpan"){var J=[{name:[0,1],$h:!0}],p=[{g:b.E.H,l:L.MN,d:{R:"editCurr",UK:z.UK}}],n=z.bW;
if(z.aof){J=[{name:["VAR0: VAR1",[0,5],[7,0]],$h:!0}];p=[{g:b.E.wR,d:L.gL.aj(!0)}];var B=ac.a7E();J=J.concat(B[0]);
p=p.concat(B[1])}J.push({name:[11,9]});p.push({g:b.E.c,d:{R:b.J.JE,l:this.l,Kq:"showwarp"}});var c=new ka(J,p);
c.parent=this;c.T();c.update(z.RV,z.f);var t=new cD(b.E.c,!0);t.data={R:b.J.v0,NC:c,x:n.Py+2,y:n.fH+1};
this.a(t)}};et.prototype.Sc=function(z,J){this.f=z;db.prototype.Sc.call(this,z,J);if(J!=iQ.hl&&J!=iQ.N3&&J!=iQ.OT&&J!=iQ.$w)return;
this.ao.q(z.ko,z.rf,z.RY)};et.prototype.rt=function(z){var J={R:b.J.JE,l:this.l,Kq:this.xS.V()?"commit":"cancel"};
if(z.target==this.Hf||z.target==this.QL){J.Kq="changeOther";J.e7=this.Hf.V();J.ahW=[0,2,1][this.QL.V()]}var p=new cD(b.E.c,!0);
p.data=J;this.a(p)};function h0(){aC.call(this,!1,["binop","feat","anta","redge"])}h0.prototype=new aC(!0);
function ai(){db.call(this);var z=[],p="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.OY=new k9([12,85]);this.OY.q(!0);this.OY.D(b.E.n,this.H$,this);z.push(this.OY._);this.cl=new kZ(null,[[0,4],[0,3]]);
this.cl.D(b.E.n,this.H$,this);this.cl.q(1);z.push(this.cl._);this.jc=new k9([20,1]);this.jc.D(b.E.n,this.H$,this);
z.push(this.jc._);this.bn=new k9([12,83]);this.bn.D(b.E.n,this.H$,this);z.push(this.bn._);this.pF=new lh;
var J=this.pF._=q.m("div","floatcont form");q.v(this.pF._,"max-width: 200px;");this.pF.parent=this;this.aGu=new kZ("Scale for exported files",["1x","2x","3x","4x"]);
J.appendChild(this.aGu._);this.qL=new eq(p+" PNG",!1,"Save selected layers as PNG",!0);J.appendChild(this.qL._);
this.qL.D("click",this.a$,this);this.a1h=new eq(p+" SVG",!1,"Save selected layers as SVG",!0);J.appendChild(this.a1h._);
this.a1h.D("click",this.a$,this);var n=new eq(p,!1,"Save selected layers",!0);z.push(n._);n.D("click",function(U){if(q.SA(this.pF._))return;
var w=n._.getBoundingClientRect(),P=new cD(b.E.c,!0);P.data={R:b.J.v0,NC:this.pF,x:w.left,y:w.top+w.height,bM:!0};
this.a(P)},this);this.YZ=new lh;var B=this.YZ._=q.m("div","floatcont label6");q.v(B,"max-width: 180px;");
this.YZ.parent=this;this.Tf=new kN("Columns",1,20);this.Tf.q(4);B.appendChild(this.Tf._);this.jJ=new kN("Gap",0,200,null,2,!0);
this.jJ.q(8);B.appendChild(this.jJ._);this.jJ.D(b.E.n,function(U){this.LS.q(this.jJ.V())}.bind(this),this);
this.LS=new kN("Vertical Gap",0,200,null,2,!0);this.LS.q(8);B.appendChild(this.LS._);this.Kz=new eq([2,10,1],!1,null,!0);
B.appendChild(this.Kz._);this.Kz.D("click",this.a$,this);this.a6r=new lh;var c=this.a6r._=q.m("div","floatcont label6");
q.v(c,"max-width:180px");this.a6r.parent=this;this.ati=new kZ("Align to",["Selection","Canvas"]);this.ati.q(0);
c.appendChild(this.ati._);var t=q.m("span","fitem");z.push(t);var u=q.m("span","fitem");z.push(u);this.cm=[];
for(var g=0;g<8;g++){var v=g==3||g==7?[20,4,6]:[20,4,g<3?g:g-1],A=new eq("Hi",!1,v);(g<4?t:u).appendChild(A._);
A.D("click",this.a$,this);this.cm.push(A)}var $=this.uk=new eq("...");u.appendChild($._);$.D("click",function(U){if(q.SA(this.YZ._))return;
var w=$._.getBoundingClientRect(),P=new cD(b.E.c,!0);P.data={R:b.J.v0,NC:this.a6r,x:w.left,y:w.top+w.height,bM:!0};
this.a(P)},this);var X=this.aDy=new eq("Hi",!1,"Align to a Grid");z.push(X._);X.D("click",function(U){if(q.SA(this.YZ._))return;
var w=X._.getBoundingClientRect(),P=new cD(b.E.c,!0);P.data={R:b.J.v0,NC:this.YZ,x:w.left,y:w.top+w.height,bM:!0};
this.a(P)},this);for(var g=0;g<z.length;g++)this.body.appendChild(z[g]);this.aJA=z}ai.prototype=new db;
ai.prototype.YO=function(z){var J=z.z2,p=z.aFB;this.OY.q(J.Mp);this.jc.q(J.$U);this.bn.q(J.XI);if(p){q.X0(this.body);
for(var g=0;g<p.length;g++)if(p[g]==1&&this.aJA[g])this.body.appendChild(this.aJA[g])}};ai.prototype.a$=function(z){var J=this.cm.indexOf(z.target),p;
if(J!=-1||z.target==this.Kz){p=new cD(b.E.H,!0);p.l=L.vX;p.data={R:"algn",K:J==-1?8:J,azt:this.ati.V(),cols:this.Tf.V(),ave:this.jJ.V(),ai$:this.LS.V()}}else{p=new cD(b.E.c,!0);
p.data={R:b.J.JE,l:this.l,el:z.target==this.qL?"getPNG":"getSVG",bK:this.aGu.V()+1}}this.a(p)};ai.prototype.H$=function(z){var J=new cD(b.E.c,!0);
J.data={R:b.J.JE,l:this.l,el:"prms",Mp:this.OY.nL(),atM:this.cl.V(),$U:this.jc.nL(),XI:this.bn.nL()};
this.a(J)};ai.prototype.dM=function(){this.OY.T();this.cl.T();this.jc.T();this.bn.T();var z="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var g=0;g<8;g++){this.cm[g].MM(q.HS("align/"+z[g],null,"autoscale"))}this.aDy.MM(q.HS("split/vh",null,"autoscale"));
this.Tf.T();this.jJ.T();this.LS.T();this.Kz.T()};function gG(){aC.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}gG.prototype=new aC(!0);
function es(){g3.call(this,["setop","patch"])}es.prototype=new g3;function fv(){g3.call(this,["setop"])}fv.prototype=new g3;
function as(z){var J=z==L.aiG?[]:["bmode"];g3.call(this,J.concat(["opacity","wconf","sall"]))}as.prototype=new g3;
function aW(){aC.call(this,!1,["binop","feat","anta","redge"])}aW.prototype=new aC(!0);function iE(){aC.call(this,!1,["binop","feat","anta","redge"])}iE.prototype=new aC(!0);
function jm(){aC.call(this,!1,["binop","feat","redge","cstr"])}jm.prototype=new aC(!0);function eZ(){db.call(this);
this.f=null;this.S$=null;this.Cj=!0;this.gG=[new dz("X",null,3.2,null,!0),new dz("Y",null,3.2,null,!0),new dz("W",null,3.2,null,!0),new dz("H",null,3.2,null,!0),new dz("a","\xB0",3.7,null,!0),new dz("l",null,3.5,null,!0),new dz("l",null,3.5,null,!0),new k9("Use custom units:"),new eq("Define Unit",!1,null,!0),new eq([15,7,6],!1,null,!0),new eq([2,2],!1,null,!0)];
this.gG[7]._.style.marginRight="0px";for(var g=0;g<this.gG.length;g++){var z=this.gG[g];this.body.appendChild(z._);
if(g>6)z.D(g==7?b.E.n:"click",this.r8,this)}this.tb=0}eZ.prototype=new db;eZ.prototype.r8=function(z){var J=this.gG.indexOf(z.target),p=new cD(b.E.H,!0),n=this.S$;
if(J==7){this.YO(n);return}if(J==8){if(this.Cj){alert("Draw a line for the new unit");return}this.gG[7].q(!0);
var B=new cD(b.E.c,!0);B.data={R:b.J.Ym,i9:"measscale",R6:i_.mT(n.alf,n.hJ)};this.a(B);return}if(J==9){if(this.tb==0)return;
p.l=L.dt;p.data={R:"rot",cN:[2,5],K:-this.tb}}if(J==10){p.l=L.nB;p.data={R:"reset"};this.Cj=!0;for(var g=0;
g<6;g++)this.gG[g].q(null)}this.a(p)};eZ.prototype.YO=function(z){function J(A,$,X){var U=i_.mT(A,$),w=i_.mT($,X),P=i_.mT(A,X);
return Math.acos((w*w+U*U-P*P)/(2*w*U))}if(z==null)return;this.S$=z;var p=z.alf,n=z.hJ,B=n.x-p.x,c=n.y-p.y;
this.tb=-Math.atan2(c,B);if(z.EE)this.tb=J(n,p,z.EE);var t=this.gG;t[0].q(this.V3(z,p.x));t[1].q(this.V3(z,p.y));
t[2].q(this.V3(z,B));t[3].q(this.V3(z,c));t[4].q((this.tb*180/Math.PI).toFixed(2));t[5].q(this.V3(z,i_.mT(p,n)));
this.Cj=p.Vm(n);if(z.EE){t[6].q(this.V3(z,i_.mT(p,z.EE)))}else t[6].q("");t[8].MM("Define");var u=z.I7;
if(u){var v=u.T.v;t[8].MM(v.logicalUnits.v)}};eZ.prototype.V3=function(z,J){var p=this.S$.I7,n;if(p&&this.gG[7].V()){var B=p.T.v;
n=J*B.logicalLength.v/B.pixelLength.v}else n=a.DM.Gu(J,z.Ge,this.f,z.amf,!1);return parseFloat(n).toFixed(2)};
eZ.prototype.Sc=function(z,J){this.f=z;this.YO(this.S$)};eZ.prototype.dM=function(){var z=this.gG;for(var g=0;
g<z.length;g++)z[g].T();z[4].MM(j0.get([12,15]).slice(0,1)+":");var J=j0.get([12,80,0]).slice(0,1);z[5].MM(J+"1:");
z[6].MM(J+"2:");q.pi(z[2],z[3])};function jG(){g3.call(this,["brush","strn","pdetail"])}jG.prototype=new g3;
function j5(){g3.call(this,["brush","sfrom"]);this.arh=[];var z=[[7,12]];for(var g=0;g<z.length;g++){var J=new eq(z[g],!1,null,!0);
this.arh.push(J);J.parent=this;this.body.appendChild(J._);J.D("click",this.azj,this)}}j5.prototype=new g3;
j5.prototype.azj=function(z){var J=new cD(b.E.wR,!0);J.data=L.SD.tR("contentAware");this.a(J)};function bx(){g3.call(this,["brush","strn"])}bx.prototype=new g3;
function f0(){g3.call(this,["brush","flow","smode"])}f0.prototype=new g3;function ft(){db.call(this);
this.oU=!1;var z=q.m("span","fitem");this.body.appendChild(z);this.bw=new fD(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
z.appendChild(this.bw._);this.bw.D(b.E.n,this.H$,this);this.tq=new eq([20,2]);this.body.appendChild(this.tq._);
this.tq.D("click",this.azv,this);this.aaS=new eq([20,3]);this.body.appendChild(this.aaS._);this.aaS.D("click",this.azv,this);
this.sG=new k9([8,7,1]);this.body.appendChild(this.sG._);this.sG.D(b.E.n,this.H$,this)}ft.prototype=new db;
ft.prototype.dM=function(){this.tq.T();this.aaS.T()};ft.prototype.H$=function(){var z={R:b.J.JE,l:this.l,i5:this.bw.V()==0,op:this.sG.V()},J=new cD(b.E.c,!0);
J.data=z;this.a(J)};ft.prototype.YO=function(z){if(this.oU!=z.oU)this.bw.q(1-this.bw.V());this.oU=z.oU};
ft.prototype.azv=function(z){var J=new cD(b.E.H,!0);J.l=L.KZ;J.data={R:"adapt",K:z.target==this.tq?"pixel":"fitscr"};
this.a(J)};function hu(z,J){db.call(this);if(z==null)return;this.Nt=z;this.ri={};this.ayW=J;for(var g=0;
g<z.length;g++){var p=z[g],n=null;if(p=="vmode"||p=="pmode"){n=new kZ(null,[[12,76,1],[12,76,0],[12,76,2]]);
n.q(p=="vmode"?0:1);if(J)n.ag4(2)}if(p=="make"){n=new fD("Make",[[17,2],[12,76,1]],null,!0)}if(p=="anta"){n=new k9([12,25,1]);
n.q(!0)}if(p=="binop"){n=new kZ(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(p=="pshape")n=new kZ(null,[[12,93,0],[12,93,1],[12,93,4],[8,4],[12,93,2]]);
if(p=="shape")n=new lb([12,76,1]);if(p=="crad"){n=new kW([12,94,0],0,50,"px");n.q(0)}if(p=="cstr"){n=new d0}if(p=="irad"){n=new kW([12,94,1],0,100,"%");
n.q(40)}if(p=="length"){n=new kW([12,80,0],4,40);n.q(4)}if(p=="sides"){n=new kW([12,78],3,30);n.q(5)}if(p=="width"){n=new kW([12,41],0,100,"px");
n.q(5)}if(p=="tolr"){n=new kW([12,24],0,100);n.q(5)}if(p=="fstyle"){n=new hV([12,26])}if(p=="sstyle"){n=new k8}if(p=="psnap"){n=new k9([8,10])}if(p=="crnr"){n=new eq("\u2312",!1,[12,94,0],!0)}if(p=="aopts"){n=new jF;
n.q([!1,!1,50,60,0])}if(p=="smplp"){n=new eq([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}if(p=="rows"){n=new kW("Rows",1,20);
n.q(3)}if(p=="cols"){n=new kW("Columns",1,20);n.q(4)}if(p=="brdr"){n=new kW([7,9],1,20);n.q(8)}n.parent=this;
this.body.appendChild(n._);this.ri[p]=n;n.D(p=="crnr"||p=="smplp"?"click":b.E.n,this.H$,this)}}hu.prototype=new db;
hu.prototype.YO=function(z){var J=this.ri.cstr;if(z.ZB!=null)this.ri.binop.q(z.ZB);else if(z.el=="vals")for(var p in z.ap0)this.ri[p].q(z.ap0[p]);
else if(z.jd){if(J)J.Jy(z.jd)}else{var n=hu.vK,B=function(t){return{e:t!=null&&t.AM(!1)}};if(n==null)n=hu.vK=new ka([{name:"Remove Anchor Point",e:function(t){var u=t?t.Q8():null;
return{e:t&&u[1].length!=0&&u[0][u[1][0]].add.vmsk.Vd.length!=0}}},{name:"Remove Path",e:function(t){var u=t?t.Q8():null;
return{e:t&&u[1].length!=0&&u[0][u[1][0]].add.vmsk.Y.length!=0}},$h:!0},{name:"Make Selection"},{name:[2,3],e:B},{name:[14,9],e:B}],[{g:b.E.H,l:L.J7,d:{R:"remove",O5:!0}},{g:b.E.H,l:L.q4,d:{R:"remove"}},{g:b.E.c,d:{R:b.J.Ym,i9:"makesel"}},{g:b.E.wR,d:L.YG.K2(null)},{g:b.E.c,d:{R:b.J.Ym,i9:"strokepath"}}]);
n.parent=this;n.update(z.RV,z.f);var c=new cD(b.E.c,!0);c.data={R:b.J.v0,NC:n,x:z.bW.Py+2,y:z.bW.fH+1};
this.a(c)}};hu.prototype.aFd=function(g){return null};hu.prototype.dM=function(){for(var z in this.ri){this.ri[z].T()}};
hu.prototype.H$=function(z){var J=new cD(b.E.c,!0),p=this.ri;if(z.target==p.crnr){J=new cD(b.E.H,!0);
J.l=L.J7;J.data={R:"crnr"}}else if(z.target==p.smplp){J=new cD(b.E.H,!0);J.l=L.q4;J.data={R:"smplp"}}else if(z.target==p.make){var g=z.target.V();
console.log(g);if(g==0)J.data={R:b.J.Ym,i9:"makesel"};else{J=new cD(b.E.H,!0);J.l=L.d9;J.data={R:"newfill",iQ:0}}}else if(z.target==p.fstyle){J.data={R:b.J.bS,Xu:iQ.A1,K:p.fstyle.V()}}else if(z.target==p.sstyle){J.data={R:b.J.bS,Xu:iQ.f$,K:p.sstyle.V()}}else if(z.target==p.vmode||z.target==p.pmode){J.data={R:b.J.bS,Xu:z.target==p.vmode?iQ.WP:iQ.e6,K:z.target.V()}}else{if(p.pshape)this.sU();
J.data={R:b.J.JE,l:this.l};for(var n in p)J.data[n]=p[n].V()}this.a(J)};hu.prototype.sU=function(){var z=this.ri,J=(z.vmode?z.vmode:z.pmode).V(),p=z.pshape?this.aFd(z.pshape.V()):this.Nt,n;
if(J==0)n=["anta","make"];if(J==1)n=["anta","fstyle","sstyle"];if(J==2)n=["make","binop","fstyle","sstyle"];
var B=z.binop;if(B){var c=B.V();if(J==0){B.ac7(0)}else{B.ag4(0);if(c==0){B.q(1);this.H$({target:B})}}}q.X0(this.body);
for(var g=0;g<p.length;g++){var t=p[g];if(n.indexOf(t)!=-1)continue;this.body.appendChild(z[t]._)}};
hu.prototype.Sc=function(z,J){db.prototype.Sc.call(this,z,J);var p=this.ri.fstyle,n=this.ri.sstyle,B=this.ri.vmode,c=this.ri.pmode;
if(p)p.Sc(z,J);if(n)n.Sc(z,J);if(J==iQ.hl||J==iQ.e_)if(z.bA.length!=0&&this.ri.shape){this.ri.shape.fv(z.bA)}if(J==iQ.hl||J==iQ.A1)if(p)p.q(null,z.Mq,z.ax7);
if(J==iQ.hl||J==iQ.f$)if(n)n.q(null,z.p_,z.apU);if(J==iQ.hl||J==iQ.WP||J==iQ.e6){var t=z.im,u=z._k;if(this.ayW&&u==2)u=0;
if(B){B.q(t);this.sU()}if(c){c.q(u);this.sU()}}};function bS(){hu.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}bS.prototype=new hu;
function jP(){hu.call(this,"pmode make anta fstyle sstyle binop".split(" "))}jP.prototype=new hu;function ha(){hu.call(this,["fstyle","sstyle","smplp"]);
this.abI=null;this.a9X=null;this.awl=null;this.CD=new kZ([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.st=new eq("\u25BC");this.st.ZN();this.aB6=new eq("\u25B2");this.aB6.ZN();this.a4L=[this.CD,this.st,this.aB6];
for(var g=0;g<this.a4L.length;g++){var z=this.a4L[g];this.body.appendChild(z._);z.parent=this;z.D(g==0?b.E.n:"click",this.CA,this)}}ha.prototype=new hu;
ha.prototype.YO=function(z){if(z.Kq=="main"){var J=this.a4L,p=z.j9;if(p){this.a9X=p.P();this.awl=JSON.stringify(z.R$);
var n=p.Y.slice(0),B=n.length;for(var g=0;g<n.length;g++)n[g]++;n.sort(function(v,A){return v-A});J[0].sA();
J[1].h6(B!=0);J[2].h6(B!=0);J[0].MM(B==0?"No Paths":B==1?"Path "+n[0]:"Paths "+n.slice(0,3).join(",")+(B>3?"..":""));
if(B!=0){var c=p.Y[0],t=a.z.Qq(p.u,c),u=p.u[t];this.CD.q([3,0,1,2][u.j1])}}else for(var g=0;g<J.length;
g++)J[g].EJ()}else hu.prototype.YO.call(this,z)};ha.prototype.dM=function(){hu.prototype.dM.call(this);
this.CD.T()};ha.prototype.CA=function(z){if(z.target==this.CD||z.target==this.st||z.target==this.aB6){var J={},p=this.a9X,n=p.u,B=p.Y,c=a.z.ZR(n),t=JSON.parse(this.awl);
B.sort(function(i,V){return i-V});if(z.target==this.CD){var u=this.CD.V();if(u<4)for(var g=0;g<B.length;
g++)n[a.z.Qq(n,B[g])].j1=[1,2,3,0][u];else{if(c<=1)return;p.u=a.z.vY(n);p.Y=p.u.length==2?[]:[0];p.Vd=[];
t=[a.R$.Q7()]}}else{var v=z.target==this.st?-1:1,A=[];for(var g=0;g<c;g++){var $=a.z.Qq(n,g),X=$+1+n[$].length;
A.push(n.slice($,X))}var U=B.slice(0);for(var g=0;g<B.length;g++)U[g]=Math.max(g,Math.min(c-1-(B.length-1-g),U[g]+v));
if(B.join(",")==U.join(","))return;var w=a.G(t);for(var g=0;g<B.length;g++){var P=v==-1?g:B.length-1-g,$=B[P],X=U[P];
if($!=X){var k=A[$];A[$]=A[X];A[X]=k;k=w[$];w[$]=w[X];w[X]=k}}var T=n.slice(0,2);for(var g=0;g<A.length;
g++)T=T.concat(A[g]);p.u=T;p.Y=U;t=w}J.j9=p;J.R$=t;var Z=new cD(b.E.c,!0);Z.data={R:b.J.JE,l:this.l,qY:J};
this.a(Z)}};function lm(){hu.call(this,["fstyle","sstyle","crnr","psnap"])}lm.prototype=new hu;function iR(){hu.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}iR.prototype=new hu;
function l3(){hu.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}l3.prototype=new hu;
function ff(){hu.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length rows cols brdr".split(" "));
this.ri.aopts.q([!1,!0,50,60,0])}ff.prototype=new hu;ff.prototype.aFd=function(g){var z=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["rows","cols","brdr"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(z[g])};function eS(){hu.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}eS.prototype=new hu;
function b2(){hu.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}b2.prototype=new hu;
function bk(){aC.call(this,!1,["binop","feat","redge","sesu"])}bk.prototype=new aC(!0);function ct(){g3.call(this,["brush","qsmode","redge","sesu"])}ct.prototype=new g3;
function hb(){db.call(this);this.rJ=[new d0,new eq([8,11,3],null,null,!0),new eq(["VAR0...",[15,10,22]],null,null,!0)];
for(var g=0;g<3;g++){var z=this.rJ[g];z.D(g==0?b.E.n:"click",this.CA,this);this.body.appendChild(z._)}}hb.prototype=new db;
hb.prototype.CA=function(z){var J=new cD(b.E.c,!0),p=this.rJ.indexOf(z.target);if(p==0){J.data={R:b.J.JE,l:this.l,m1:z.target.V()}}else if(p==1){J=new cD(b.E.wR,!0);
J.data={rK:"make",m$:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{J.data={R:b.J.Ym,i9:"divslice"}}this.a(J)};
hb.prototype.dM=function(z){for(var g=0;g<this.rJ.length;g++)this.rJ[g].T()};function eG(){db.call(this);
var z=this.i0=[new eq("\u25BC",null,null,!0),new eq("\u25B2",null,null,!0),new eq([5,4],null,null,!0),new eq(["VAR0...",[15,10,22]],null,null,!0)];
for(var g=0;g<4;g++){var J=z[g];this.body.appendChild(J._);J.D("click",this.CA,this)}}eG.prototype=new db;
eG.prototype.CA=function(z){var J=this.i0.indexOf(z.target),p;if(J==3){p=new cD(b.E.c,!0);p.data={R:b.J.Ym,i9:"divslice"}}else{p=new cD(b.E.H,!0);
p.l=L.$V;p.data={R:J==2?"delete":"reorder",dir:J==0?-1:1}}this.a(p)};eG.prototype.T=function(){db.prototype.T.call(this);
for(var g=0;g<4;g++)this.i0[g].T()};function aA(z,J){db.call(this);if(window.Typr==null||z)return;this.anO=J;
this.nV=null;this.aiH=q.m("span","");this.ao4=q.m("span","");var p=1,n=this.t6={bb:new hv(null,24),Y3:new kW("X",0,0,"px",0,!1,!0,4),rX:new kW("Y",0,0,"px",0,!1,!0,4),gQ:new kW("W",0,0,["%","px"],2,!1,!0,5),fY:new eq("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),km:new kW("H",0,0,["%","px"],2,!1,!0,5),ap2:new kW("\u2221",0,0,"\xB0",p,!1,!0),aCV:new kW("\u25B1 H",-85,85,"\xB0",p,!1,!0),aKu:new kW("\u25B1 V",-85,85,"\xB0",p,!1,!0),c6:new kZ(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),ae1:new kZ("Protect",[])};
n.c6.q(1);n.fY.q(!0);for(var B in n){var c=n[B],t=!0;if(J&&(c==n.ap2||c==n.aCV||c==n.aKu||c==n.c6))t=!1;
if(!J&&c==n.ae1)t=!1;if(t)this.aiH.appendChild(c._);var u=c==n.fY?"click":b.E.n;c.D(u,this.alF,this)}this.zp=new fD("Split",fD.Kg(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.zp.q(-1);this.zp.D(b.E.n,this.aC_,this);this.Qb=new kw(!0,!0,!0);this.Qb.D(b.E.n,this.aC_,this);
this.Qb.parent=this;var v=this.ao4,A=this.Qb;v.appendChild(this.zp._);v.appendChild(A.Vx._);v.appendChild(A.yn._);
v.appendChild(A.IX._);v.appendChild(A.Dq._);v.appendChild(A.uM._);this.J$=new eq([11,9]);this.J$.D("click",this.amg,this);
this.xS=new bX;this.xS.D("click",this.rt,this)}aA.prototype=new db;aA.prototype.YO=function(z){if(z.bW){var J=aA,p=this.vK;
if(p==null)p=this.vK=new ka(J.qr(),J.tL(this.l));p.T();p.parent=this;p.update(z.RV,z.f);var n=new cD(b.E.c,!0);
n.data={R:b.J.v0,NC:p,x:z.bW.Py+2,y:z.bW.fH+1};this.a(n);return}q.X0(this.body);this.nV=z;var B=this.t6;
if(z.t6){var c=z.t6.Dm,t=z.t6.bp.P(),u=-Math.atan2(-t.X,t.k6),v=new fA;v.rotate(u);t.concat(v);B.bb.q(z.t6.ai2);
B.Y3.q(z.t6.wG.x);B.rX.q(z.t6.wG.y);B.gQ.q(t.k6*(B.gQ.Q2()=="%"?100:c.r));B.km.q(t.JH*(B.km.Q2()=="%"?100:c.$));
B.ap2.q(u*180/Math.PI);B.aCV.q(Math.atan(t.GQ/t.JH)*180/Math.PI);B.aKu.q(0*180/Math.PI);this.body.appendChild(this.aiH);
this.J$.rG();if(z.t6.Ii!=null)B.fY.q(z.t6.Ii)}if(z.gJ){if(z.a6z)this.zp.q(-1);this.Qb.q(z.gJ);this.body.appendChild(this.ao4);
this.J$.ZN()}if(z.b8)B.ae1.jE(z.b8);if(z.ah8&&!this.anO)this.body.appendChild(this.J$._);this.body.appendChild(this.xS._);
B.c6._.style.display=z.aIW?"":"none"};aA.prototype.alF=function(z){var J=this.t6,p=this.nV.t6.Dm,n=J.bb.V();
if(z.target==J.fY)J.fY.q(!J.fY.V());else if(J.fY.nL()){var B=J.km,c=J.gQ,t=p.$,u=p.r;if(z.target==J.gQ){B=J.gQ;
c=J.km;t=p.r;u=p.$}var v=B.V()/(B.Q2()=="%"?100:t);v*=c.Q2()=="%"?100:u;c.q(v)}var A=[];for(var $ in J)if(J[$]!=J.fY&&J[$]!=J.bb){var v=J[$].V();
if((J[$]==J.gQ||J[$]==J.km)&&v==0){v=.1;J[$].q(v)}if(J[$]==J.gQ&&J[$].Q2()=="px")v/=p.r/100;if(J[$]==J.km&&J[$].Q2()=="px")v/=p.$/100;
A.push(v)}var X=new i_(A[0],A[1]);if(z.target==J.bb){this.jh({Kq:"ctyp",ai2:n})}else if(z.target==J.Y3||z.target==J.rX){this.jh({Kq:"cen",wG:X})}else{var U=this.nV.t6.bp.P(),w=Math.atan2(-U.X,U.k6);
U.translate(-X.x,-X.y);U.rotate(-w);var P=new fA(U.k6,U.X,U.GQ,U.JH,0,0);P.oU();U.concat(P);var k=A[2]/100,T=A[3]/100;
U.concat(new fA(k,k*Math.tan(A[6]*Math.PI/180),T*Math.tan(A[5]*Math.PI/180),T,0,0));U.rotate(-A[4]*Math.PI/180);
U.translate(X.x,X.y);this.nV.t6.bp=U;this.jh({Kq:"trn",t6:U,R4:J.c6.V(),Ek:J.ae1.V(),Ii:J.fY.V()})}};
aA.prototype.aC_=function(z){var J=this.zp;this.jh(z.target==J?{Kq:"splt",K:J.V()}:{Kq:"wrp",gJ:this.Qb.V()})};
aA.prototype.amg=function(z){this.jh({Kq:"switchWarp"})};aA.prototype.rt=function(z){this.jh({Kq:this.xS.V()?"commit":"cancel"})};
aA.prototype.jh=function(z){z.R=b.J.JE;z.l=this.l;var J=new cD(b.E.c,!0);J.data=z;this.a(J)};aA.prototype.dM=function(){var z=this.t6;
for(var J in z)z[J].T();q.pi(z.gQ,z.km);this.xS.T();this.zp.T();this.Qb.T();this.J$.T()};aA.qr=function(){var z=function(J){var p=!0;
if(J==null||J.Y.length==0)p=!1;else{var n=J.Y;for(var g=0;g<n.length;g++){if(J.U[n[g]].add.TySh)p=!1}}return{e:p}};
return[{name:[5,9],wA:"Shift+Alt+Ctrl + T",$h:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],e:z},{name:[2,9],e:z,$h:!0},{name:[11,9],e:function(J){if(J==null||J.Y.length!=1)return{e:!1};
var p=J.U[J.Y[0]];return{e:p.add.TySh==null&&!p.nT()}},$h:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
aA.tL=function(z){if(z==null)z=L.dt;return[{g:b.E.H,l:z,d:{R:"again"}},{g:b.E.c,d:{R:b.J.OS,l:z,z2:{th:3}}},{g:b.E.c,d:{R:b.J.OS,l:z,z2:{th:4}}},{g:b.E.c,d:{R:b.J.OS,l:z,z2:{th:5}}},{g:b.E.c,d:{R:b.J.OS,l:z,z2:{th:2}}},{g:b.E.c,d:{R:b.J.OS,l:z,z2:{th:1}}},{g:b.E.c,d:{R:b.J.OS,l:z,z2:{th:-1}}},{g:b.E.wR,d:L.tp.ul(!0,90,!0)},{g:b.E.wR,d:L.tp.ul(!0,-90,!0)},{g:b.E.wR,d:L.tp.ul(!0,-180,!0)},{g:b.E.wR,d:L.tp.ul(!1,"Hrzn",!0)},{g:b.E.wR,d:L.tp.ul(!1,"Vrtc",!0)}]};
function i3(){aA.call(this)}i3.prototype=new aA(!0);function ei(){aA.call(this)}ei.prototype=new aA(!0);
function bt(){aA.call(this,!1,!0)}bt.prototype=new aA(!0);function h5(){db.call(this);var z=this.Nt=[new kZ([12,36],["Rigid",[15,10,0],[24,4]]),new kZ([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new kW([7,4],0,100,"px"),new k9("Show Mesh"),new eq("\u25BC",null,null,!0),new eq("\u25B2",null,null,!0)];
for(var g=0;g<z.length;g++){var J=z[g];J.parent=this;this.body.appendChild(J._);J.D(g<4?b.E.n:"click",this.Fa,this)}this.xS=new bX;
this.xS.D("click",this.rt,this);this.body.appendChild(this.xS._)}h5.prototype=new db;h5.prototype.dM=function(){var z=this.Nt;
for(var g=0;g<4;g++)z[g].T();this.xS.T()};h5.prototype.YO=function(z){var z=z.Xu;for(var g=0;g<4;g++)this.Nt[g].q(z[g])};
h5.prototype.Fa=function(z){var J=[];for(var g=0;g<4;g++)J[g]=this.Nt[g].V();var p=this.Nt.indexOf(z.target);
if(p<4)this.jh({Kq:"prm",Xu:J});else this.jh({Kq:"moveDepth",aCQ:p==5})};h5.prototype.rt=function(z){this.jh({Kq:this.xS.V()?"commit":"cancel"})};
h5.prototype.jh=function(z){z.R=b.J.JE;z.l=this.l;var J=new cD(b.E.c,!0);J.data=z;this.a(J)};function i1(){db.call(this);
this.de=new fD(null,["Layout","Warp"]);this.de.D(b.E.n,this.Fa,this);this.body.appendChild(this.de._);
this.xS=new bX;this.xS.D("click",this.rt,this);this.body.appendChild(this.xS._)}i1.prototype=new db;
i1.prototype.dM=function(){var z=this.Nt;this.xS.T()};i1.prototype.YO=function(z){this.de.q(z.Xu)};i1.prototype.Fa=function(z){this.jh({Xu:this.de.V()})};
i1.prototype.rt=function(z){this.jh({Kq:this.xS.V()?"commit":"cancel"})};i1.prototype.jh=function(z){z.R=b.J.JE;
z.l=this.l;var J=new cD(b.E.c,!0);J.data=z;this.a(J)};function bW(){db.call(this);this.Nt=null;this.cX=new kZ([12,44],["","","","",""]);
this.cX.D(b.E.n,this.H$,this);this.body.appendChild(this.cX._);this.Xf=new k9("ON");this.Xf.D(b.E.n,this.H$,this);
this.body.appendChild(this.Xf._);var z=kW;this.Tb=[[new z([24,2],0,500)],[new z([24,2],0,500)],[],[new z([24,2],0,500)],[new z("Speed",0,500,"%"),new z("Point Speed",0,500,"px")],[new z([12,15],0,360,"\xB0",null,!0)]];
for(var g=0;g<6;g++)for(var J=0;J<this.Tb[g].length;J++){var p=this.Tb[g][J];p.parent=this;p.D(b.E.n,this.H$,this)}this.xS=new bX;
this.xS.D("click",this.H$,this)}bW.prototype=new db;bW.prototype.YO=function(z){var J=this.Nt=z.Xu,p=J[0];
this.awW();this.T()};bW.prototype.H$=function(z){var J=this.Nt,p=J[0],n=z.target,B=n.V();if(n==this.xS){}else if(n==this.cX){p=J[0]=B<2?B:B+1;
this.awW(p);J[2]=null}else if(n==this.Xf){J[1][p]=B;J[2]=null;this.T()}else{var c=this.Tb[p];for(var t=0;
t<c.length;t++)J[2][t]=c[t].V()}var u=new cD(b.E.c,!0);u.data={R:b.J.JE,l:this.l,Xu:J};if(n==this.xS)u.data.Kq=B?"commit":"cancel";
this.a(u)};bW.prototype.awW=function(){var z=this.body,J=this.Nt,p=J[0];this.cX.q(p<2?p:p-1);this.Xf.q(J[1][p]);
while(z.children.length>2)z.removeChild(z.lastChild);var n=this.Tb[p];for(var g=0;g<n.length;g++){n[g].h6(J[2]!=null);
if(J[2]!=null)n[g].q(J[2][g]);z.appendChild(n[g]._)}z.appendChild(this.xS._)};bW.prototype.T=function(){var z=[],J=this.Nt,p=this.cX;
for(var g=0;g<5;g++){var n=[24,3,12,g];if(J)n=(J[1][g<2?g:g+1]?"\u2713 ":"\u2002\u2002")+j0.get(n);z.push(n)}var B=p.V();
p.jE(z);p.q(B);var c=this.Tb;for(var g=0;g<6;g++){var t=c[g];for(var u=0;u<t.length;u++)t[u].T()}};function cJ(){db.call(this);
var z=this.ow=[new kZ([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var g=0;g<z.length;g++){var J=z[g];
J.D(b.E.n,this.H$,this);this.body.appendChild(J._)}}cJ.prototype=new db;cJ.prototype.H$=function(z){var J=this.ow,p=[];
for(var g=0;g<J.length;g++)p[g]=J[g].V();var n=new cD(b.E.c,!0);n.data={R:b.J.JE,l:this.l,T_:p};this.a(n)};
cJ.prototype.dM=function(){for(var g=0;g<this.ow.length;g++)this.ow[g].T()};function dg(){aC.call(this,!1,["binop"]);
this.gM=new eq("Remove",!1,null,!0);this.gM.D("click",this.qn,this);this.gM._.style.marginRight="2em";
this.dI=new dz("New content");this.jB=new gp;this.jB.parent=this;this.A2=new eq([18,0],!1,null,!0);this.A2.D("click",this.qn,this);
this.aB9=new eq("Undo",!1,null,!0);this.aB9.D("click",this.qn,this);this.alP=new eq("?",!1,null,!0);
this.alP.D("click",this.qn,this);this.body.appendChild(this.dI._);this.body.appendChild(this.jB._);this.body.appendChild(this.A2._);
this.body.appendChild(this.gM._);this.body.appendChild(this.aB9._);this.body.appendChild(this.alP._)}dg.prototype=new aC(!0);
dg.prototype.T=function(){db.prototype.T.call(this);this.A2.T();this.jB.T()};dg.prototype.qn=function(z){if(z.target==this.aB9){var J=new cD(b.E.H,!0);
J.l=L.Mj;J.data={R:"h_stepbck"};this.a(J);return}if(z.target==this.alP){window.open("https://x.com/photopeacom/status/1661425407944425494/video/1","_blank");
return}var p=z.target==this.gM,n=p?"empty background":this.dI.V();this.jB.aDA(n)};function eX(){lh.call(this);
this._=q.m("div","cmanager");window.alert=function(n,B){this.anM(n,B);console.log("Alert: "+n)}.bind(this);
window.onblur=function(n){var B=this;B.uS()}.bind(this);this.Tx=0;this.tK=0;this.I8=[];this.aBs={};this.vf=q.m("div","alertcont");
q.v(this.vf,"pointer-events:none");this._.appendChild(this.vf);this.ahr=q.m("div","alertcont");this._.appendChild(this.ahr);
this.Q1=q.m("div","alertcont");this.aGY=0;this.SQ=-1;this.arp=null;this.rJ=null;var z=this.a6v=q.m("div","alertpanel");
q.v(z,"padding:0.7em 1em 0.1em 1em;");this.Q1.appendChild(z);var J=this.d5=q.m("input");J.setAttribute("type","text");
q.Uj(J);q.v(J,"background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");J.addEventListener("input",this.an_.bind(this),!1);
J.addEventListener("keydown",this.asJ.bind(this),!1);z.appendChild(J);var p=this.kX=q.m("div","contextpanel scrollable");
q.v(p,"text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");p.addEventListener("click",this.a7N.bind(this),!1);
z.appendChild(p);q.tN(document.body,this.aiF.bind(this))}eX.prototype=new lh;eX.prototype.jb=function(){if(q.SA(this.Q1))this._.removeChild(this.Q1)};
eX.prototype.aqw=function(z,J){var p=this.arp=[],n=J.aa3;for(var g=0;g<ac.data.length;g++){var B=ac.data[g],c=[j0.get(B.name)],t=[g];
eX.$u(B.items,c,t,p,z,J,n==null?null:n[g]==null?0:n[g])}var u=J.Z;for(var g=0;g<u._X.length;g++){var v=u._X[g],A=u.keys[g];
for(var $=0;$<v.length;$++)p.push([["Tools",j0.get(v[$].l.name)],[-1,v[$].l.id],A?A.A$:null])}this._.appendChild(this.Q1);
var X=this.d5;X.focus();X.select();this.xM()};eX.prototype.an_=function(z){this.SQ=-1;this.xM()};eX.prototype.xM=function(){var z=this.d5.value.toLowerCase().trim().replace(/  +/g," "),J=this.arp,p=[],n=[],B=z.split(" ");
if(z!="")for(var g=0;g<J.length;g++){var c=J[g][0],t=[],u=0;for(var v=0;v<c.length;v++)t[v]=-1;for(var A=0;
A<B.length;A++)for(var v=0;v<c.length;v++){var $=c[v].toLowerCase().indexOf(B[A]);if($!=-1){t[v]=[$,$+B[A].length];
u++;break}}if(u==B.length){p.push(J[g]);n.push(t)}}var X=[],U=this.kX;q.X0(U);for(var g=0;g<p.length;
g++){var w=p[g],P=w[0],$=n[g],k="enab",Z="";if(g==this.SQ)k+=" active";var T=q.m("div",k);X.push(T);
U.appendChild(T);for(var v=0;v<P.length;v++){var i=$[v],V=B[v],_=P[v];if(i!=-1)_=_.slice(0,i[0])+"<span style=\"color:black\">"+_.slice(i[0],i[1])+"</span>"+_.slice(i[1]);
Z+=_;if(v<P.length-1)Z+=" \uFE65 "}if(w[2]&&(typeof w[2]!="string"||w[2].length==1))Z+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+l5.No(w[2])+"</span>";
T.innerHTML=Z}this.rJ=[p,X]};eX.prototype.asJ=function(z){var J=l5.Oh,p=z.code;if(J(p,l5.Mz))this.jb();
var n=J(p,l5.Sw),B=J(p,l5.E6),c=J(p,l5.Kd);if(n||B){this.SQ=Math.max(0,Math.min(this.rJ[0].length-1,this.SQ+(n?-1:1)));
this.xM()}if(c&&this.SQ!=-1)this.ar1(this.SQ)};eX.$u=function(z,J,p,n,B,c,t){if(typeof t=="number"){if(t==0)return;
if(t==1)t=null}for(var g=0;g<z.length;g++){if(t!=null&&(t[g]==0||t[g]==null))continue;var u=z[g],v=J.slice(0),A=p.slice(0),$=j0.get(u.name);
if(u.e){var X=u.e(B,c,g);if(X.H8)$=X.H8;if(X.e==!1)continue}v.push($);A.push(g);if(u.sub)eX.$u(u.sub,v,A,n,B,c,t?t[g]:null);
else n.push([v,A,u.wA])}};eX.prototype.a7N=function(z){var J=z.target;if(J.tagName.toLowerCase()=="span")J=J.parentNode;
var p=this.rJ[1].indexOf(J);if(p!=-1)this.ar1(p)};eX.prototype.ar1=function(z){var J=this.rJ[0][z][1];
if(J[0]==-1){var p=new cD(b.E.c,!0);p.data={R:b.J.OS,l:J[1]};this.a(p)}else{var n=ac.data[J[0]].CY[J[1]];
for(var g=2;g<J.length;g++)n=n.sub[J[g]];var B=new cD(n.g,!0);B.l=n.l;B.data=n.d;this.a(B)}this.jb()};
eX.prototype.B$=function(z,J){this.Tx=z;this.tK=J;this.kX.style["max-height"]=J-120+"px"};eX.prototype.auB=function(z){var J=q.m("div","alertpanel");
J.textContent=j0.get(z);this.vf.appendChild(J);this.aBs[JSON.stringify(z)]=J};eX.prototype.aLl=function(z){var J=this.aBs[JSON.stringify(z)];
this.vf.removeChild(J);delete this.aBs[JSON.stringify(z)]};eX.prototype.anM=function(z,J){var p=this.ahr;
for(var g=0;g<p.children.length;g++)if(p.children[g].textContent==z)return;var n=q.m("div","alertpanel tpanel");
n.textContent=z;q.v(n,"opacity:0.5; transform:scale(0.9)\t");p.appendChild(n);if(J==null)J=1500;var B=J,c=Math.max(Date.now()+B,this.aGY+B);
setTimeout(function(){q.v(n,"transform:scale(1); opacity:1;")},10);setTimeout(function(){q.v(p,"pointer-events:none; margin-top: -3.6em; transform: translateY(3.6em);")},c-Date.now()-30);
setTimeout(function(){p.removeChild(p.firstChild);q.v(p,"pointer-events:none; transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},c-Date.now());
this.aGY=c};eX.prototype.aiF=function(z){var J=this.I8;for(var g=J.length-1;g>=0;g--){var p=J[g],n=z.target;
while(n!=null){if(n==p._){this.uS(p);return}n=n.parentNode}}this.uS();var B=z.target;while(B!=this.Q1&&B!=document.body)B=B.parentNode;
if(B!=this.Q1)this.jb()};eX.prototype.uS=function(z){var J=this.I8;for(var g=0;g<J.length;g++){if(z&&z.a9i(J[g]))continue;
var p=J[g]._;if(!(J[g]instanceof ka))q.bo(J[g],this._);else this._.removeChild(p);p.style.height="auto";
q.Om(p,"scrollable");J.splice(g,1);g--}};eX.prototype.an3=function(z){this.uS(z.NC);var J=z.NC,p=J._;
if(this.I8.indexOf(J)!=-1)return;this.I8.push(J);this._.appendChild(p);var n=this.Tx,B=this.tK,c=z.x,t=z.y,u=this._.getBoundingClientRect(),v=J instanceof ka,A=-1,$=B-2;
if(v||z.bM){var X=J.HX(),U=J.a8j();if(v)X=Math.min(X,200);var w=n-X-2,P=B-U-2;if(t<P)A=2;else if(c<w)A=1;
else if(0<t-U-2)A=0;else A=3;if(z.aFc)A=0;if(z.aey)A=2;if(A==2){c=Math.min(c,w)}else if(A==1){t=Math.min(t,P)}else if(A==0){t=t-U-2;
c=Math.min(c,w);$=z.y}else if(A==3){c=c-X-2;t=Math.min(t,P)}}t=Math.max(2,t);var top=Math.round(t-u.y+this._.offsetTop);
p.style.position="absolute";p.style["z-index"]=10;if(t+J.a8j()>$){p.style.height=$-t+"px";q.$y(p,"scrollable");
if(A==3)c-=10}p.style.left=Math.round(c)+"px";p.style.top=top+"px";if(!(J instanceof ka))q.VI(J)};eX.prototype.afS=function(z){var J=z.NC,p=this.I8.indexOf(J);
if(p==-1)return;this.I8.splice(p,1);var n=J._;if(!(J instanceof ka))q.bo(J,this._);else this._.removeChild(J._)};
eX.prototype.Bi=function(){var z=this.I8;return z.length==0?null:z[z.length-1]};eX.prototype.aBV=function(){this.afS({NC:this.Bi()})};
function eF(){lh.call(this);this._=q.m("div","confbar")}eF.prototype=new lh;eF.prototype.aib=function(z){z.parent=this;
q.X0(this._);this._.appendChild(z._)};function gZ(){lh.call(this);var z=this._=q.m("div","toolconf");
z.style.marginLeft="40px";this.NZ=null;this.p2=null;this.uz=[new ch(0),new ch(1),new kW([14,9],0,100,"px"),new aq(!0),new kW([12,0],0,100,"%",0)];
for(var g=0;g<this.uz.length;g++){var J=this.uz[g];J.parent=this;J.D(b.E.n,this.a8U,this);z.appendChild(J._)}var p=this.xm=new jd;
this.xm.parent=this;this.aa2=new bm("Tt:");var n=this.DC=q.m("span");z.appendChild(n);n.appendChild(this.aa2._);
n.appendChild(p.Ds._);n.appendChild(p.PG._);n.appendChild(p.s3._)}gZ.prototype=new lh;gZ.prototype.a8U=function(z){var J=this.uz.indexOf(z.target),p=z.target.V();
if(J==4){var n=new cD(b.E.H,!0);n.l=L.bX;n.data={R:bi.I9,gW:Math.round(255*p/100)};this.a(n);return}var B=a.G(this.NZ.St);
if(J<2){var c,t=p;if(J==0){c=B.ZI;B.ZI=t}else{c=B.K$;B.K$=t}if(c.length!=t.length){var u=[1,0,0,1,0,0];
if(c.length==4){u=c[3].slice(0);u[1]*=-1;u[2]*=-1}if(c.length==2){u=c[1][1].slice(0)}if(t.length==4){t[2]=[0,0,0,1,1,0,0];
t[3]=u;u[1]*=-1;u[2]*=-1}if(t.length==2){t[1]=[[0,0,1,1,0,0,0,0,0],u]}}}if(J==2)B.tM=p;if(J==3)B=p;var n=new cD(b.E.c,!0);
n.data={R:b.J.bS,Xu:iQ.m7,K:B};this.a(n)};gZ.prototype.T=function(){for(var g=0;g<this.uz.length;g++)this.uz[g].T();
this.xm.T()};gZ.prototype.AU=function(z,J){this.p2=z;this.uz[0].fv(z);this.uz[1].fv(z)};gZ.prototype.DK=function(z){if(z.Y.length==0)return;
var J=z.U[z.Y[0]];this.uz[4].q(Math.round(J.YF*100/255));q.v(this.DC,"line-height:1.5em; display:"+(J.add.TySh?"":"none"))};
gZ.prototype.Sc=function(z,J){this.NZ=z;var p=z.St,n=this.p2;this.uz[0].q(p.ZI,n);this.uz[1].q(p.K$,n);
if(p.tM!=null)this.uz[2].q(p.tM);this.uz[3].q(p);this.xm.q(z.ko,z.rf,z.RY)};function d2(){lh.call(this);
this._=q.m("div","toolconf");var z=q.m("div","body");this._.appendChild(z);z.style.marginLeft="8px";
this.NZ=null;this.p2=null;this.j0=new eq("Play",!1,null,!0);this.tH=new kW("BPM",1,300,null);this.tH.parent=this;
z.appendChild(this.j0._);z.appendChild(this.tH._);this.j0.D("click",function(J){var p=new cD(b.E.c,!0);
p.data={R:b.J.UN};this.a(p);this.j0.MM(this.p2.J.g3?"Pause":"Play")},this)}d2.prototype=new lh;d2.prototype.Sc=function(z,J){this.NZ=z};
d2.prototype.AU=function(z,J){this.p2=z;if(z)this.tH.q(z.J.a5p)};d2.prototype.T=function(){this.j0.T();
this.tH.T()};function jo(z){lh.call(this);jo.Cl=this;jo.mQ=z;this.f=null;this.sh=q.m("input","");this.sh.setAttribute("type","file");
this.sh.setAttribute("multiple","");this.sh.addEventListener("change",function(J){this.EC(J.target.files,null,this.qu,null);
this.qu=null}.bind(this),!1);document.body.appendChild(this.sh);q.v(this.sh,"display:none");this.a4A=[];
this.aoV=!1;this.aEv=[];this.amF=!1;this.aEP={};this.qu=null}jo.prototype=new lh;jo.mQ=null;jo.Ht=function(z){try{var J={};
J[z.type]=z;navigator.clipboard.write([new ClipboardItem(J)])}catch(l5){console.error(l5,l5.message)}};
jo.E8=function(z,J){navigator.clipboard.read().then(function(p){for(var g=0;g<p.length;g++){try{var n=p[g],B={},c=0,t=0;
for(var u=0;u<n.types.length;u++){var v=n.types[u];c++;n.getType(v).then(function(A){var $=v;new Response(A).arrayBuffer().then(function(X){B[this.iQ]=X;
t++;if(t==c)jo.aiQ(B,z,J)}.bind({iQ:this.iQ}))}.bind({iQ:v}))}}catch(l5){console.error(l5,l5.message)}}}).catch(function(p){alert("Please, give us permissions to access your clipboard.")})};
jo.apF=function(z){navigator.permissions.query({name:"clipboard-read"}).then(function(J){z(J.state)})};
jo.aiQ=function(z,J,p){var n=["text/plain","image/png","text/html","text/plain"];for(var B in z)console.log(B,B.startsWith("text")?e.A8(new Uint8Array(z[B])).slice(0,100)+"...":z[B]);
for(var c=0;c<n.length;c++){var t=n[c],u=z[t];if(u==null)continue;if(t=="image/png"){jo.mQ({name:"image.png"},u,J,p);
return}if(t=="text/plain"){var v=e.A8(new Uint8Array(u));if(c==0)if(!v.startsWith("<!--")&&!v.startsWith("<svg"))continue;
if(p&&v.startsWith("<svg"))continue;var A=new cD(b.E.c,!0);A.data={R:b.J.aK1,K:v};J.a(A);return}if(t=="text/html"){var v=e.A8(new Uint8Array(u)),$=v.indexOf("src=\"");
if($!=-1){var X=$+10;while(v[X]!="\"")X++;var U=v.slice($+5,X);if(U.startsWith("http")){var A=new cD(b.E.c,!0);
A.data={R:b.J.Je,Xu:{url:U,Ut:!0}};J.a(A);return}else{jo.mQ({name:"chart.png"},kL.Bv(U).buffer,J,p);
return}}}}};jo.prototype.$Q=function(z){if(z==null)z=[23,5];var J=JSON.stringify(z),p=this.aEP;if(p[J]==null)p[J]=0;
if(p[J]==0){var n=new cD(b.E.c,!0);n.data={R:b.J.Yg,gX:z};this.a(n)}p[J]++};jo.prototype.fP=function(z){if(z==null)z=[23,5];
var J=JSON.stringify(z),p=this.aEP;if(p[J]==null)p[J]=0;p[J]--;if(p[J]==0){var n=new cD(b.E.c,!0);n.data={R:b.J.wg,gX:z};
this.a(n)}};jo.prototype.and=function(z,J,p){this.qu=z;var n=window.showOpenFilePicker;if(p)n=null;if(n&&window.self==window.top){var B=this;
n({multiple:!0}).then(function(u){var v=[];function A($){v.push($);if(v.length==u.length){B.EC(v,null,B.qu,null,u);
B.qu=null}else u[v.length].getFile().then(A)}u[v.length].getFile().then(A)});return}var c=this.sh;if(J)c.setAttribute("accept",J);
else c.removeAttribute("accept");var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
c.dispatchEvent(t)};jo.prototype.KW=function(z){if(z.url.indexOf("photopea.com#i")!=-1||z.url.indexOf("photopea.com/#i")!=-1){this.Ng(z.url.split("#i").pop());
return}this.a4A.push(z);this.agi()};jo.prototype.agi=function(){var z=this.a4A;if(z.length==0||this.aoV)return;
this.aoV=!0;var J=z.shift();this.$Q();if(J.c$==null)J.c$={};var p=new XMLHttpRequest;p.mv=J;var n=J.url;
if(J.Ut&&!n.startsWith("data:image"))n=(n);p.open("GET",n);if(J.aEy)for(var B in J.aEy)p.setRequestHeader(B,J.aEy[B]);
p.responseType="arraybuffer";p.onload=this.ahA.bind(this);p.send()};jo.prototype.EC=function(z,J,p,n,B){for(var g=0;
g<z.length;g++){this.$Q();var c=z[g],t=new FileReader;t.mv=c;t.mv._z=p;t.mv.ny=n==null?null:n+g;t.agM=J;
if(B)t.mv.sN=B[g];t.onload=this.ahA.bind(this);t.onerror=function(u){this.fP()}.bind(this);this.aEv.push([t,c])}this.sh.value=null;
this.atb()};jo.prototype.atb=function(){var z=this.aEv;if(z.length==0||this.amF)return;this.amF=!0;var J=z.shift();
J[0].readAsArrayBuffer(J[1])};jo.prototype.aDt=function(z,J,p){this.$Q("Saving ...");this.f=J;setTimeout(p.bind({Bw:z,caller:this}),50)};
jo.P3=function(z){var J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=new Uint8Array(z),n=p.length,B=n%3,c=n-B,t=[],u=0,v=0,A=0;
for(var g=0;g<c;g+=3){u=p[g];v=p[g+1];A=p[g+2];t.push(J[u>>2]+J[(u&3)<<4|v>>4]+J[(v&15)<<2|A>>6]+J[A&63])}if(B==1){u=p[c];
t.push(J[u>>2]+J[(u&3)<<4]+"==")}if(B==2){u=p[c];v=p[c+1];t.push(J[u>>2]+J[(u&3)<<4|v>>4]+J[(v&15)<<2]+"=")}var $=t.join("");
return $};jo.azK=function(z,J){var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(64),u=0,v=0,A=0,X=0;
for(var g=0;g<64;g++)n[g]=p.charCodeAt(g);var B=new Uint8Array(z),c=J%3,t=J-c,$=new Uint8Array(Math.floor(J/3)*4+(c==0?0:4));
for(var g=0;g<t;g+=3){u=B[g];v=B[g+1];A=B[g+2];$[X]=n[u>>>2];$[X+1]=n[(u&3)<<4|v>>>4];$[X+2]=n[(v&15)<<2|A>>>6];
$[X+3]=n[A&63];X+=4}if(c==1){u=B[t];$[X]=n[u>>2];$[X+1]=n[(u&3)<<4];$[X+2]=61;$[X+3]=61}if(c==2){u=B[t];
v=B[t+1];$[X]=n[u>>2];$[X+1]=n[(u&3)<<4|v>>4];$[X+2]=n[(v&15)<<2];$[X+3]=61}return $};jo.prototype.ahA=function(z){var J,p=z.target.mv;
if(z.target instanceof XMLHttpRequest)J=z.target.response;else J=z.target.result;jo.mQ(p,J,this,z.target.agM);
this.fP();if(z.target instanceof XMLHttpRequest){this.aoV=!1;this.agi()}else{this.amF=!1;this.atb()}};
jo.a8a=function(z,J){var p=new XMLHttpRequest;p.open("POST","https://api.imgur.com/3/image",!0);p.QB=J;
var n=["2c49c3d17cf0ab5","e1d678b8d6a606b","0546b331803cedb","426d743915497b3"],B=Math.floor(Math.random()*n.length);
console.log(B);p.setRequestHeader("Authorization","Client-ID "+n[B]);p.setRequestHeader("Content-type","application/x-www-form-urlencoded");
p.setRequestHeader("Accept","application/json");p.addEventListener("load",jo.aiM);p.addEventListener("progress",function(c){var t=c.target.status;
if(t==429)alert("Too many uploads, try it a bit later.");else if(400<=t)alert("Error. Status code: "+t)});
p.send("type=base64&image="+encodeURIComponent(jo.P3(z)));alert("Saving to Imgur ...",4e3)};jo.aiM=function(z){var J=JSON.parse(z.target.response);
if(J.success){if(z.target.QB)z.target.QB(J.data.link);else window.open(J.data.link,"Imgur")}};jo.prototype.Ng=function(z,J){this.$Q();
var p=new XMLHttpRequest;p.responseType="arraybuffer";p.open("GET","templates/file/"+(J?"pp-resources":"psdshared")+"/"+z);
p.onload=this.aIe.bind(this);p.send();p.S$=[Date.now(),z,J]};jo.prototype.aIe=function(z){var J=z.target.S$,p=new Uint8Array(z.target.response);
console.log(p.length+" B,",Date.now()-J[0]+" ms");for(var g=0;g<p.length;g++)p[g]=255-p[g];p=pako.inflateRaw(p);
var n=JSON.parse(e.A8(p,0,2e3));jo.mQ({name:n.name,ia:J[1]},p.slice(2e3).buffer,this);this.fP();if(!J[2])jo.l1("act=0&id="+J[1])};
jo.prototype.axf=function(z,J,p,n){if(!(z instanceof ArrayBuffer))throw"e";z=new Uint8Array(z);var B=new Uint8Array(z.length+2e3),U="";
for(var g=0;g<2e3;g++)B[g]=32;e.M2(JSON.stringify({name:J}),B,0);B.set(z,2e3);z=B;z=pako.deflateRaw(z);
for(var g=0;g<z.length;g++)z[g]=255-z[g];z=z.buffer;var c=z.byteLength,t=hI.dB(c),u=~~(609e5/2),v=~~(209e5/2);
if(c>u){confirm("Your file is "+t+". Our limit is "+hI.dB(u)+". Delete some layers and try again.");
return}if(c>v){var A=confirm("Your file is quite large ("+t+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!A)return}var $=sha1(z),X=[];for(var g=0;g<20;g++){var w=parseInt($.slice(g*2,g*2+2),16);X.push(w);
U+=String.fromCharCode(w)}var P=btoa(U).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(jo.am5(P,n)){console.log("file already exists");
if(p)p(P);else window.open("https://www.photopea.com#i"+P+".psd");return}this.$Q("Publishing ...");var k=new XMLHttpRequest;
k.S$=[z,$,P,p,n];k.open("GET",j8.DP("papi/img/publish.php?rnd="+Math.random()+"&id="+P+"&size="+c+"&bname="+n));
k.onload=this.a4g.bind(this);k.send()};jo.am5=function(z,J){try{var p=new XMLHttpRequest;p.open("HEAD","templates/file/"+J+"/"+z,!1);
p.send();if(p.status==200)return!0}catch(l5){return!1}return!1};jo.prototype.a4g=function(z){console.log(z.target.response);
var J=JSON.parse(z.target.response),p=z.target.S$,n=new XMLHttpRequest;n.open("POST",J.uploadUrl);n.setRequestHeader("Authorization",J.authorizationToken);
n.setRequestHeader("X-Bz-File-Name",p[2]);n.setRequestHeader("Content-Type","b2/x-auto");n.setRequestHeader("X-Bz-Content-Sha1",p[1]);
n.send(new Blob([p[0]]));n.onload=this.a21.bind({kP:this,S$:p})};jo.prototype.a21=function(z){this.kP.fP("Publishing ...");
if(this.S$[3])this.S$[3](this.S$[2]);else window.open("https://www.photopea.com#i"+this.S$[2]+".psd");
if(this.S$[4]=="psdshared")jo.l1("act=2&id="+this.S$[2]+"&fileId="+JSON.parse(z.target.response).fileId)};
jo.l1=function(z){var J=new XMLHttpRequest;J.open("GET","/papi/img/update.php?"+z+"&rnd="+Math.random());
J.send()};jo.save=function(z,J){var p=new Uint8Array(z),n=document.createElement("a");if(typeof n.download=="string"){var B=new Blob([p]),c=window.URL.createObjectURL(B);
n.href=c;n.download=J;document.body.appendChild(n);n.click();document.body.removeChild(n)}else{var t="data:application/octet-stream;base64,"+jo.P3(z);
window.open(t)}};function fJ(){this.size=16;this.data=a.j(16)}fJ.prototype.FA=function(z,J){if(z+J<=this.size)return;
var p=this.size;while(z+J>this.size)this.size*=2;var n=a.j(this.size);for(var g=0;g<p;g++)n[g]=this.data[g];
this.data=n};var l9={};l9.BC=function(z,J,p,n){var B=J.split(":"),c=B[0];if(B.length==2){if(c=="jpg")n={qual:Math.round(100*parseFloat(B[1])),mtdt:!0};
if(c=="webp")n={qual:Math.round(100*parseFloat(B[1])),mtdt:!0};if(c=="psd")n=[!0,!0,!1,!1,!1];if(c=="svg"){var t=["arst","ahid","vtxt","rtxt","mini"],u=B[1].split(",");
n={};for(var g=0;g<u.length;g++)n[t[g]]=u[g]=="true"}if(c=="jpg"||c=="webp")if(z.JM())n.srgb=!1}var v=kL.Pk(z,c.toUpperCase(),null,null,n,p);
return v};l9.aEi=function(z,J,p){var n=z.dT(),B=J[0];return l9.BC(z,B,p)};l9.aHM=function(){var z=this.Bw,J=this.caller,p=z.c$.G4,n=p.formats,B,c;
z.dT();var t=Date.now();if(p.version==1){var u=[],v=0,$=0;for(var g=0;g<n.length;g++){var A=l9.BC(z,n[g],J.f);
u.push(A);v+=A.byteLength}B=new Uint8Array(2e3+v);var X="{ \"source\": "+JSON.stringify(z.oT)+", \"versions\": [\n";
for(var g=0;g<n.length;g++){var U=new Uint8Array(u[g]);X+="\t{\"format\": \""+n[g].split(":")[0]+"\", \"start\": "+$+", \"size\": "+U.length+" }"+(g+1<n.length?", ":"")+"\n";
B.set(U,2e3+$);$+=u[g].byteLength}X+="] }";var w=e.M2(X,B,0);for(var g=w;g<2e3;g++)B[g]=32;c="application/octet-stream"}else{var P=new fJ,k=0,T="",Z=encodeURIComponent;
T="p="+Z("{ \"source\": "+JSON.stringify(z.oT)+", \"versions\": [");e.fn(P,k,T);k+=T.length;for(var g=0;
g<n.length;g++){T=Z(" {\"format\": \""+n[g].split(":")[0]+"\", \"data\": \"");e.fn(P,k,T);k+=T.length;
var A=l9.BC(z,n[g],J.f),i=jo.azK(A,A.byteLength),w=i.length;P.FA(k,w);for(var V=0;V<w;V++){P.FA(k,3);
var _=i[V];if(_==43){P.data[k]=37;P.data[k+1]=50;P.data[k+2]=66;k+=3}else if(_==47){P.data[k]=37;P.data[k+1]=50;
P.data[k+2]=70;k+=3}else if(_==61){P.data[k]=37;P.data[k+1]=51;P.data[k+2]=68;k+=3}else{P.data[k]=_;
k++}}T=Z("\" }"+(g+1<n.length?", ":""));e.fn(P,k,T);k+=T.length}T=Z("] }");e.fn(P,k,T);k+=T.length;B=P.data.slice(0,k);
c="application/x-www-form-urlencoded"}var y=new XMLHttpRequest;y.open("POST",p.url,!0);if(c)y.setRequestHeader("Content-Type",c);
y.addEventListener("load",l9.a9R.bind(this));y.send(new Blob([B.buffer]))};l9.a9R=function(z){this.caller.fP("Saving ...");
var J=z.target.response;if(J.charAt(0)=="{"){J=JSON.parse(J);if(J.newSource)this.Bw.oT=J.newSource;if(J.message)alert(J.message,2e3);
if(J.script){var p=new cD(b.E.c,!0);p.data={R:b.J.$W,w0:J.script};this.caller.a(p)}}else alert("Saved. Response: "+J,1500)};
l9.aLt=function(z){var J=z.Ks,p=J[1].split(".").pop(),n=l9.BC(z,p,null,p=="psd"&&J[0]==1?[!0,!1,!0,!1]:null),B=Storage.gF(J[0]);
return B.aHO(J[1],n)};l9.a0u=function(z,J){var p=z.vy.va;if(J==null)J=l9.BC(z,p);kr.h2(function(){var n=new XMLHttpRequest,B="https://www.googleapis.com/upload/drive/v3/files/"+z.vy.file.id+"?uploadType=media"+"&"+kr.asf();
n.open("PATCH",B,!0);n.addEventListener("load",function(c){var t=JSON.parse(c.target.response);alert(t.name+" updated")});
n.send(J);alert("Saving \""+z.vy.file.name+"\" to Google Drive ...")})};l9.mQ=function(z,J,p,n,B){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)l9.Ok(z,J,p,n);
else{try{l9.Ok(z,J,p,n,B)}catch(l5){if(l5=="low_ram"){}else{var c=kL.yd(J),t="Error. Please, send your file to support@photopea.com and we will solve it.";
if(c=="psd")t="Your file is probably damaged :( If your file works well in other programs, send it to support@photopea.com";
if(kL.yd(J)=="eps")t="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(t,1e4)}}}};l9.Ok=function(z,J,p,n,B){var c;if(z.name){var t=z.name.lastIndexOf(".");c=t==-1?z.name:z.name.slice(0,t);
if(z.name.slice(t+1)=="psdt")c="Untitled-1"}else{if(z.url.substring(0,5)=="data:")c="image";else{var u=z.url.substring(z.url.lastIndexOf("/")+1).split(".");
c=u[0];if(u[1]=="psdt")c="Untitled-1"}c=c.slice(0,50)}var v=z.name?z.name:z.url,A=new Uint8Array(J);
if(A[0]==31&&A[1]==139&&A[2]==8){var $=pako.inflate(A);l9.Ok(z,$.buffer,p,n,B);return}var X=kL.yd(J);
if(X!=null&&kL.V5(X))j8.event("fmt_"+X,.1);if(X==null)X=e.RM(A,0,4);if(v&&v.toLowerCase().endsWith(".aco"))X="aco";
if(v&&v.toLowerCase().endsWith(".act"))X="act";if(v&&v.toLowerCase().endsWith(".asv"))X="asv";if(v&&v.toLowerCase().endsWith(".sai"))X="sai2";
if(v&&v.toLowerCase().endsWith(".raw")&&X!="tiff"){var U=new cD(b.E.c,!0);U.data={R:b.J.Ym,i9:"importraw",ea:J,qI:v.split("/").pop()};
p.a(U);return}else if(X=="json"){var w="";for(var g=0;g<A.length;g++)w+=String.fromCharCode(A[g]);w=decodeURIComponent(escape(w));
var P=JSON.parse(w);if(P.name&&P.url){P.resID=z.ia;var U=new cD(b.E.c,!0);U.data={R:b.J.a62,K:P};p.a(U)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(P)}return}if(X=="html"){var w=e.A8(A,0,A.length),k=new DOMParser,T=k.parseFromString(w,"text/html"),Z=T.getElementsByTagName("meta");
for(var g=0;g<Z.length;g++){var i=Z[g],V=i.getAttribute("property"),_=i.getAttribute("content"),y=null;
if(V=="og:image")y=_;if(V==null&&_&&_.startsWith("0;url=/imgres?")){var u=_.slice(14).split("&");for(var E=0;
E<u.length;E++)if(u[E].startsWith("imgurl"))y=decodeURIComponent(u[E].slice(7))}if(y==null)continue;
var U=new cD(b.E.c,!0);U.data={R:b.J.Je,Xu:{url:y,Ut:!0,_z:z._z}};p.a(U)}return}if(kL.V5(X)){if(X=="pxz"){var F=UZIP.parse(J);
for(var d in F){if(d.endsWith(".woff")||d.endsWith(".ttf")||d.endsWith(".otf"))l9.mQ({name:d},F[d].buffer,p)}}var x,f,Q=kL.V5(X);
if(z._z!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(X)!=-1){var U=new cD(b.E.c,!0);if(0<=z._z)U.data={R:b.J.dS,target:z._z,UK:z.ny,CT:J,Xt:c};
else{U=new cD(b.E.H,!0);U.data={R:bi.Eo,data:new Uint8Array(J),qI:c+"."+X};U.l=L.bX}p.a(U);return}var m=[c,Q,X,z,p,n,J];
if(Q.xG){x=new b$("");Q.uj(J,x,l9.aC,m)}else{f=Q.uj(J,null,l9.aC,m,p);if(f==null)return}if(Q.l6!=!0)l9.aC(x,f,m);
else p.$Q();return}var H=new cD(b.E.c,!0);H.data={R:b.J.Yq,ea:J,y0:z.name};var S=z instanceof File&&z.arM!=!0,U=new cD(b.E.c,!0);
U.data={R:b.J.bS,c$:"add",Xu:null,wo:null,ahS:z.arM};if(X=="zip"){var R=Date.now(),F=UZIP.parse(J),I="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var d in F){var D=!1;for(var g=0;g<I.length;g++)if(d.toLowerCase().endsWith("."+I[g]))D=!0;if(d.startsWith("__MACOSX/")||F[d].length==0)D=!0;
if(D)continue;var G=d.split("/").pop();l9.mQ({name:G},F[d].buffer,p,n,!0)}}else if(X=="jsx"||v&&v.toLowerCase().endsWith(".jsx")){if(S)p.a(H);
var w=e.A8(new Uint8Array(J));U.data={R:b.J.$W,w0:w};p.a(U)}else if(X=="sf2"){var C=SF2Parser.yi(new Uint8Array(J));
U.data.Xu=iQ.a6Z;U.data.wo=C;p.a(U)}else if(X=="otf"){if(S)p.a(H);var C=Typr.parse(J);U.data.Xu=iQ.OT;
for(var g=0;g<C.length;g++){U.data.wo=C[g];p.a(U)}}else if(X=="asl"){if(S)p.a(H);var C=d8.yi(J,v);U.data.Xu=iQ.EA;
U.data.wo=C.hx;p.a(U);U.data.Xu=iQ.wi;U.data.wo=C.Nu;p.a(U)}else if(X=="tpl"){if(S)p.a(H);var C=jy.yi(J);
U.data.Xu=iQ.na;U.data.wo={EO:C.EO,bG:C.bG,list:[]};p.a(U);if(C.a3s.length!=0){U.data.Xu=iQ.e_;U.data.wo=C.a3s;
p.a(U)}if(C.Nu.length!=0){U.data.Xu=iQ.wi;U.data.wo=C.Nu;p.a(U)}U.data.Xu=iQ.XW;U.data.wo=C.list;p.a(U)}else{var O="";
for(var Y in iQ.lM)if(iQ.lM[Y][0]==X)O=Y;if(O!=""){if(S&&!iQ.YQ[O])p.a(H);U.data.wo=iQ.lM[O][2].yi(J,v);
U.data.Xu=O;p.a(U)}else if(J.byteLength==0)alert("Empty file (0 Bytes)");else{var h=kL.yd(J),r;if(h==null)h=v.split(".").pop().split("?")[0];
var W="eot fntdata csv py txt js json html htm css scss mp3".split(" ");if(W.indexOf(h)!=-1)r=h+" | ...";
else r=h+" | "+new Uint8Array(J).slice(0,4).join(",");if(h.length<=10&&B!=!0)j8.event("ufmt_"+r);alert("Unknown file format: "+JSON.stringify(X))}}};
l9.aC=function(z,J,p){var n=p[0],B=p[1],c=p[2],t=p[3],u=p[4],v=p[5],A=p[6];if(B.l6)u.fP();if(!B.xG){if(J.length==0)return;
if(J[0].t33421||J[0].t50706){a.raw.normalize(J[0],A);console.log(J[0]);var $=new cD(b.E.c,!0);$.data={R:b.J.Ym,i9:"rawpea",ps:J[0]};
u.a($);return}if(v){v(new Uint8Array(J[0].data),J[0].eE);return}z=kL.su(n,J)}var X=ex==0?"psd":"ai";
if(ex==0&&kL.qR.indexOf(c)!=-1)X=c;z.name=n+"."+X;z.ia=t.ia;z.Lt=c;z.c$=t.c$;z.oT=t.url;z.eN=t.eN;z.vy=t.vy;
z.sN=t.sN;z.Ks=t.Ks;if(t.sN&&t.sN.name.endsWith(".psdt"))z.sN=null;if(z.vy)z.vy.va=c;if(z.U.length!=0){var $=new cD(b.E.c,!0);
$.data={R:t._z==null?b.J.Rt:b.J.dS,target:t._z,UK:t.ny,CT:z};u.a($)}};function kR(z,J){lh.call(this);
this.QJ=kR.QJ++;this.dn=z;this.aCG=this.avO.bind(this);this.am0=this.a3W.bind(this);this.aiD=this.Vo.bind(this);
this.a6w=J;this.abS=this.asD.bind(this);this.ade=this.al6.bind(this);this.aez=this.atr.bind(this);this.Ci=0;
this.aIy=0;this.ajv=0;this._=q.m("div","panelblock");this.AW=q.m("div","block");this.Hw=q.m("div","collapsed");
this._.appendChild(this.AW);this.FD=-1;this.Du=!0;this.ng=q.m("div","panelhead");this.AW.appendChild(this.ng);
this.Bd(this.ng);this.aiN=new eq("\u2261");q.v(this.aiN._,"position:absolute; right:4px;");this.aiN.D("click",this.aCj,this);
this.wy=q.m("div","body");this.AW.appendChild(this.wy);this.CX=[];this.z9=null;this.iA=null}kR.QJ=0;
kR.prototype=new lh;kR.Jh=26.1;kR.prototype.aCj=function(z){var J=this.CX[this.FD].Gz(),p=z.currentTarget._.getBoundingClientRect();
J.T();J.update();J.parent=this;var n=new cD(b.E.c,!0);n.data={R:b.J.v0,NC:J,x:p.left,y:p.top+p.height+2};
this.a(n)};kR.prototype.Dj=function(z){var J=this.AW,p=this.ng,n=this.wy;if(q.SA(p))J.removeChild(p);
if(q.SA(n))J.removeChild(n);if(z==0)J.appendChild(p);J.appendChild(n);this.ajv=z};kR.$D=function(z){z.stopPropagation();
z.preventDefault()};kR.prototype.avO=function(z){var J=z.dataTransfer.types;if(J[1]!=null&&J[1]!=this.QJ+"")return;
kR.$D(z);var lj=z.currentTarget;if(z.target==lj)q.$y(lj,"highlight")};kR.prototype.a3W=function(z){kR.$D(z);
var lj=z.currentTarget;if(z.target==lj)q.Om(lj,"highlight")};kR.prototype.Bd=function(z){z.addEventListener("dragenter",this.aCG,!1);
z.addEventListener("dragleave",this.am0,!1);z.addEventListener("dragover",kR.$D,!1);z.addEventListener("drop",this.aiD,!1);
z.addEventListener("dragstart",function(J){J.dataTransfer.setData("Text","--panel");J.dataTransfer.setData(this.QJ+"","")}.bind(this),!1)};
kR.prototype.Vo=function(z){this.am0(z);var J=null,lj=z.currentTarget,p=this.ac0(lj);if(lj==this.wy&&this.FD!=-1)J=this.FD;
else if(lj==this.ng)J=null;else if(p!=-1)J=p;var n=z.dataTransfer.getData("Text");if(n==""||n.startsWith("http")||n.startsWith("data:image/"))q.kO(z,this,J);
else if(n=="--panel"){var B=q.bZ(z,lj),c=this.CX,t=c.slice(0),g=this.FD,u=p==-1?c.length:B.x<lj.getBoundingClientRect().width/2?p:p+1;
if(g==u||g+1==u||lj==this.wy)return;var v=g<u?u-1:u,A=c[g];c.splice(g,1);c.splice(v,0,A);q.X0(this.ng);
for(var $=0;$<c.length;$++)this.ng.appendChild(c[$].fo);this.JW(v);var X=[];for(var g=0;g<c.length;g++)X[g]=t.indexOf(c[g]);
var U=new cD("shuffleItems",!1);U.data={a2z:X};this.a(U)}else if(J!=null&&this instanceof lf){var U=new cD(b.E.c,!0);
U.data={R:b.J.aa5,a44:J};this.a(U)}};kR.prototype.la=function(){return null};kR.prototype.ad8=function(){if(this.la()){this.ng.style.padding="0px";
this.iA=this.la();this.wy.appendChild(this.iA);this.KN.h6(!1);var z=new cD(b.E.c,!0);z.data={R:b.J.Zw,K:1};
this.a(z)}};kR.prototype.awC=function(){if(this.iA){this.ng.style.padding="";this.wy.removeChild(this.iA);
this.iA=null;this.KN.h6(!0);var z=new cD(b.E.c,!0);z.data={R:b.J.Zw,K:0};this.a(z)}};kR.prototype.ac0=function(z){var J=this.CX;
for(var g=0;g<J.length;g++)if(J[g].fo==z)return g;return-1};kR.prototype.j8=function(){for(var g=0;g<this.CX.length;
g++)this.CX[g].Tg.rG()};kR.prototype.xw=function(){return this.FD};kR.prototype.GH=function(){if(this.Du)return;
this.Du=!0;this._.removeChild(this.Hw);this._.appendChild(this.AW)};kR.prototype.collapse=function(){if(!this.Du)return;
this.Du=!1;this._.appendChild(this.Hw);this._.removeChild(this.AW)};kR.prototype.Jh=function(){var z=0;
if(this.ajv==0){z=this.ng.getBoundingClientRect().height+1;z=Math.max(z,kR.Jh)}return z};kR.prototype.acn=function(){return this.Jh()+this.wy.getBoundingClientRect().height};
kR.prototype.B$=function(z,J,p){this.ng.style.maxWidth=z+"px";var n=this.Jh();if(this.FD!=-1)this.CX[this.FD].B$(z,J-n,p);
return J-n};kR.prototype.Sc=function(z,J){if(this.FD!=-1)this.CX[this.FD].Sc(z,J)};kR.prototype.DK=function(z,J,p){this.CX[this.FD].DK(z,J,p)};
kR.prototype.oY=function(z){this.awC();if(this.CX.indexOf(z)!=-1){this.JW(this.CX.indexOf(z));return}z.parent=this;
this.CX.push(z);this.ng.appendChild(z.fo);z.fo.addEventListener("mouseover",this.abS,!1);this.Bd(z.fo);
this.Hw.appendChild(z.Tg._);z.Tg.D("click",this.aLF,this);z.D("select",this.alx,this);z.D(b.E.Sj,this.aEc,this);
this.JW(this.CX.length-1)};kR.prototype.asD=function(z){if(z.buttons==0)return;var J=z.currentTarget,p=J,g=0;
while((p=p.previousSibling)!=null)g++;this.aIy=g;J.addEventListener("mouseout",this.ade,!1);this.Ci=setTimeout(this.aez,700)};
kR.prototype.al6=function(z){var J=z.currentTarget,p=J,g=0;while((p=p.previousSibling)!=null)g++;J.removeEventListener("mouseout",this.ade);
clearTimeout(this.Ci)};kR.prototype.atr=function(z){this.a(new cD(b.E.aJm,!1))};kR.prototype.axk=function(z){return this.aIy};
kR.prototype.Ww=function(g){var z=new cD(b.E.Sj,!1);z.data={nx:g};this.a(z);var J=this.CX[g];this.CX.splice(g,1);
this.ng.removeChild(J.fo);this.Hw.removeChild(J.Tg._);J.fo.className="";J.Tg.removeEventListener("click",this.aLF,this);
J.Tg.rG();J.removeEventListener("activate",this.alx);J.removeEventListener(b.E.Sj,this.aEc);var p=this.FD;
if(g<p)p--;else if(g==p&&g==this.CX.length)p--;if(this.Du)this.JW(p);if(this.CX.length==0)this.ad8()};
kR.prototype.arb=function(){return this.CX.length};kR.prototype.t2=function(){if(this.CX.length!=0)this.CX[this.FD].t2()};
kR.prototype.JW=function(z,J){if(J==null)J=!0;for(var g=0;g<this.CX.length;g++)this.CX[g].fo.className="";
if(this.z9)this.wy.removeChild(this.z9);this.z9=null;this.FD=z;if(z==-1)return;var p=this.CX[this.FD];
this.z9=p.sZ;this.wy.appendChild(p.sZ);p.fo.className="active";if(!this.Du){this.a(new cD("showFloat"));
this.CX[z].Tg.ZN()}if(J)this.a(new cD(b.E.n,!1));p.Jw();var n=this.aiN._;if(n.parentNode)this.ng.removeChild(n);
if(p.Gz())this.ng.appendChild(n);var B=new cD(b.E.c,!0);B.data={R:b.J.DZ};this.a(B)};kR.prototype.alx=function(z){if(this.dn&&!this.dn.aKf())return;
var g=this.CX.indexOf(z.currentTarget);this.JW(g)};kR.prototype.aEc=function(z){var J=this.CX.indexOf(z.currentTarget);
if(z.data!=null){for(var g=this.CX.length-1;g>=0;g--){var p=this.CX[g];if(z.data==1&&g==J)continue;p.t2()}return}if(this.dn&&!this.dn.aKf())return;
this.Ww(J)};kR.prototype.aLF=function(z){var J=this.CX.indexOf(z.currentTarget.parent);if(this.CX[J].Tg.nL())this.a(new cD("hideFloat"));
else this.JW(J)};kR.prototype.aan=function(z){this.a(z)};function lf(z){kR.call(this,z);this.Tx=0;this.tK=0;
q.ol(this.ng,this.abo.bind(this));this.Cw=0;this.d0=-2;this.apg=this.apb.bind(this);this.Bd(this.wy);
this.I_=["default;"];this.KN=new q.RR(this.wy);this.RW=new j1(!0);this.RW.parent=this;this.XX=this.RW._;
j1.ep(this.RW)}lf.prototype=new kR;lf.prototype.abo=function(z){if(z.target!=this.ng)return;var J=Date.now()-this.Cw<300&&this.d0==-1;
this.Cw=Date.now();this.d0=-1;if(!J)return;var p=new cD(b.E.c,!0);p.data={R:b.J.Ym,i9:"newproject"};
this.a(p)};lf.prototype.c5=function(z,J){if(J)this.I_.push(z);else{var p=this.I_.length-1;if(this.I_[p]==z)return;
this.I_[p]=z}this.Gm()};lf.prototype.afI=function(){this.I_.pop();this.Gm()};lf.prototype.Gm=function(){var z=this.I_[this.I_.length-1];
this.KN.DK(z,this.WA)};lf.prototype.Sc=function(z,J){kR.prototype.Sc.call(this,z,J);this.RW.Sc(z,J);
if(!z.jR){}};lf.prototype.T=function(){kR.prototype.T.call(this);this.RW.T()};lf.prototype.DK=function(z,J){for(var g=0;
g<J.length;g++){var p=J[g];this.CX[g].FX(p.name+(p.depth==8?"":" (RGB/"+p.depth+")")+(p.E_()?" *":""))}kR.prototype.DK.call(this,z,J)};
lf.prototype.la=function(){return this.XX};lf.prototype.B$=function(z,J){if(this.CX.length==0)J+=kR.Jh-1;
this.Tx=z;this.tK=J;J=kR.prototype.B$.call(this,z,J);this.WA="height:"+J+"px; width:"+z+"px; overflow:hidden; position:relative;";
this.Gm();this.RW.B$(z,J)};lf.prototype.oY=function(z){kR.prototype.oY.call(this,z);z.fo.addEventListener("click",this.apg,!1)};
lf.prototype.Ww=function(g){var z=this.CX[g];q.eX(z.fo,this.apg);kR.prototype.Ww.call(this,g)};lf.prototype.apb=function(z){var J=this.ac0(z.currentTarget),p=Date.now()-this.Cw<300&&this.d0==J;
this.Cw=Date.now();this.d0=J;if(!p)return;var n=this.CX[J].CT.name,B=new cD(b.E.c,!0),c={g:b.E.H,l:L.bX,d:{R:bi.Xx}};
B.data={R:b.J.Ym,i9:"namewindow",PY:n.slice(0,n.length-4),sm:c};this.a(B)};function go(z){lh.call(this);
if(z)return;j4.alK(1);this._=q.m("div","flexrow app");this.eu=q.m("div");this._.appendChild(this.eu);
setTimeout(function(){var p=window.hideCap;if(p)p()},25e3);this.$g=new l5;window.addEventListener("blur",function(p){this.$g.reset()}.bind(this),!1);
window.addEventListener("resize",this.Qn.bind(this),!1);var J=this.eu;this.q7=new i4;this.q7.parent=this;
J.appendChild(this.q7._);this.$X=new eX;this.$X.parent=this;J.appendChild(this.$X._);this.lt=new gX(!0);
this.lt.parent=this;J.appendChild(this.lt._);this.D(b.E.c,this.Pd,this);this.nM=this.dC.bind(this);window.requestAnimationFrame(this.nM)}go.prototype=new lh;
go.prototype.dC=function(z){this.Lf();window.requestAnimationFrame(this.nM)};go.prototype.T=function(){};
go.prototype.Qn=function(z){var J=window.innerWidth,p=window.innerHeight;this.B$(J,p)};go.prototype.B$=function(z,J){this.$X.B$(z,J);
this.q7.B$(z,J)};go.prototype.Pd=function(z){var J=z.data.R;if(J==b.J.v0)this.$X.an3(z.data);if(J==b.J.t9)this.$X.afS(z.data);
if(J==b.J.Yg)this.$X.auB(z.data.gX);if(J==b.J.wg)this.$X.aLl(z.data.gX);if(J==b.J.lu)this.$X.uS()};function g9(){go.call(this);
this.ku={x:0,y:0,Wj:!1};this.vR=!1;this.gS=!1;this.als=null;this.aJX=0;this.aDC=!1;this.Fd=0;document.body.style.overscrollBehavior="contain";
window.onmessage=function(U){if(Storage.az0(U.source))return;if(U.data instanceof ArrayBuffer){var w=kL.yd(U.data),P=kL.V5(w);
jo.mQ({url:"file"},U.data,this);if(P==null)this.Gl()}else if(U.data instanceof Object||U.data.startsWith("{")||U.data.startsWith("amp-")||U.data.startsWith("0=goog")||U.data.startsWith("3PCoo")||U.data.startsWith("ima://")){}else if(U.data.startsWith("--ur ")){var k=U.data.split(" ").pop();
k=k.length==0?[]:k.split(",");var T=new cD(b.E.c,!0);T.data={R:b.J.bS,Xu:iQ.Rn,gW:k};this.a(T)}else if(U.data.startsWith("--ot ")){if(this.q7.Bi())this.q7.Bi().close();
this.Q_.Ng(U.data.split(" ").pop())}else if(U.data.startsWith("--et ")){}else{var T=new cD(b.E.c,!0);
T.data={R:b.J.$W,w0:U.data};this.a(T);this.Gl()}}.bind(this);window.onbeforeunload=function(U){this.aGf();
for(var g=0;g<this.U4.length;g++)if(this.U4[g].E_()){return this.U4[g].name}}.bind(this);if(ex==0&&!hx._i())window.setInterval(this.amd.bind(this),5*60*1e3);
var z=this;if(window.indexedDB){var J={FA:window.indexedDB.open("pp",1)};J.FA.onupgradeneeded=function(U){var w=U.target.result,P=w.createObjectStore("rsrc",{keyPath:"k"})};
J.FA.onsuccess=function(U){var w=z.f.P$.RQ=U.target.result,P=w.transaction(["rsrc"],"readwrite").objectStore("rsrc"),k=P.get("fs0");
k.onsuccess=function(U){if(U.target.result){var i=z.f.P$.ZU=U.target.result.fset;for(var V in i){if(!V.endsWith(".jsx")&&!V.endsWith(".p"+"sd"))jo.mQ({url:V,arM:!0},i[V],z);
var _=V.split(".").pop(),y="";for(var E in iQ.lM)if(iQ.lM[E][0]==_)y=E;if(iQ.YQ[y]&&!V.startsWith("_all_"))delete i[V]}}};
var T=new BroadcastChannel("pp-tabs"),Z=[];T.onmessage=function(U){if(U.data=="id")T.postMessage(z.f.P$.id);
else Z.push(U.data)};T.postMessage("id");setTimeout(function(){var P=w.transaction(["rsrc"],"readwrite").objectStore("rsrc"),i=P.getAllKeys();
i.onsuccess=function(){var V=i.result,_=[],y=0;for(var g=0;g<V.length;g++){if(V[g]=="fs0")continue;if(Z.indexOf(V[g])!=-1)continue;
_.push(V[g])}for(var g=0;g<_.length;g++){var k=P.get(_[g]);k.onsuccess=function(U){if(U.target.result){var E=U.target.result.fset;
for(var F in E){try{jo.mQ({url:F,arM:!0},E[F],z);var d=z.Y0();d.nD=d.a4o=-1}catch(U){console.log(U)}}y++;
if(y==_.length)for(var g=0;g<_.length;g++){var k=P.delete(_[g])}}}}}},200)}}var p="rwx~#.-(;.]6EF rx'|#1,6><@87f?NO \"|'/-&(0><BBDEEMGrVPb w$,*1)379;<<D>iQW \"|'/-4,6:<>??GAlTZ \"|'/-1)(W?E !#$$,&P72<DBIAKOoTZR %%!-~-&,>AI`HN vx!/-3QV66;`HN \"|'/-M)+3A]BDEEMG *#DGUP%(+48>Kk>FHHVXXW(Z(un03y=p{ *#DGUP%:/5457:=IuF_$Q~le'*p4gr x$')61Q9? x$')61Q6899A;".split(" "),n=q.Ps[iX.lH][iX.ar9];
if(n==null)n=[q.Ps[iX.UG][iX.Al]];for(var B=0;B<n.length;B++){var c=n[B];for(var g=0;g<p.length;g++){var t=q.DX(p[g]);
if(c.indexOf(t)!=-1){var u=q.Ps[iX.UG][iX.wy],v=iX.fb("+TyeVTVF<pR1:444X3!~'tGkgfkdlfi_R%JQCBGs<B>AV:-;#TIBEsx*CVqux}xreyztGc]Pdea1NH;OPL|93&:;81$}p%&\"Qnh[oplgYSFZ[XTD>1EFBE/){01.)ysfz{wvgw;Hamh+F,3#!T6@=# |0odhjb`RKtGPK\\WI3A3.:_A{{#t~x,E{xu)H]ac[YKDm@IDo_/hcS*OYl}w/{!thr|i]seVT[dUHP>UF8<?3(@% ,4r.Gi%jqa_3t~{a^[nNCGIA?1*S&/*Hw$y<kjgpsilhtSU\\ZUI?OKCCALeh+20+~t%!xx#a`]fi_b'vF l");
q.X0(u);u[iX.a33]=v;return}}}this.Z=g9.aKI();this.f={Z:this.Z,ats:!1,Ms:null,gK:0,_$:{bG:[],EO:[],list:[],fO:null},a07:[],hC:[],aKj:[],lX:[],rV:[],u_:[],r0:[],aIL:[],a5_:[],a7R:[],u_:[],bA:[iV.J0()],Z9:[],MD:[],T7:null,im:0,_k:1-ex,St:a_.St.J0(),a4u:a_.St.J0(),Mq:{ht:1,_H:a.G(a_.J3[0])},p_:a_.jM.J0(),ax7:[null].concat(a_.J3),apU:[null].concat(a_.J3),rf:new bA(function(U){var w=new cD(b.E.c,!0);
w.data={R:b.J.Je,Xu:{url:j8.d6("rsrc/fonts/"+U)}};this.a(w)}.bind(this)),ko:{W5:[],uA:null,gC:null},font:null,RY:[],wo:[],aiW:{},Nb:0,Gh:16777215,v5:!1,NO:!0,Uc:{r_:!0,eQ:!1,nI:!0,$n:!0,Lu:!0,Cy:!0,rq:20,WL:0,bB:1,LK:0,Ku:0,zk:0,Gc:8421504,tO:65535,ab:33023},UF:!0,kM:[!0,!0,!1,!0,!0],e8:bb._e(),y3:1,uF:!0,OK:{},jR:!0,aHl:!1,compact:!1,apq:1,bH:0,XX:!0,IZ:{},EU:null,P$:{id:"ts"+Math.round(Math.random()*16777215),az2:!1,abK:!1,ZU:{},JN:{},RQ:null},az6:0,ax0:null,ic:null,a3_:null,Bc:null};
bA.Rl.SL(this);this.ayf={Dm:new fw,Ln:new i_};this.f.ko=dN.aph();this.MR=new ac;this.Df=new eF;this.qh=new gZ;
this.sp=new d2;this.Sr=new cn(this.Z,!0);this.td=new k_;this.b0=new lf(this);this.Gx=q.m("div");this.w7=!1;
this.ara=this.a4K.bind(this);q.$y(this.b0._,"mainblock");this.lt.parent=this.MR.parent=this.Df.parent=this.Sr.parent=this.td.parent=this.b0.parent=this;
this.b0.D(b.E.n,this.sg,this);this.b0.D(b.E.Sj,this.aA$,this);this.b0.D("shuffleItems",this.a4f,this);
this.b0.D(b.E.aJm,this.a7Z,this);this.D("mouse",this.axK,this);this.D(b.E.H,this.$P,this);this.D(b.E.wR,this.aFD,this);
document.body.addEventListener("keydown",this.vk.bind(this),!1);window.addEventListener("keyup",this.RH.bind(this),!1);
window.addEventListener("paste",this.ava.bind(this),!1);window.addEventListener("copy",this.asN.bind(this),!1);
window.addEventListener("wheel",function(U){if(U.ctrlKey)U.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(U){if(window.innerWidth>400)U.preventDefault();
this.f.EU=U}.bind(this));this.aKk=0;this.U4=[];this.Q_=new jo(l9.mQ);this.Q_.parent=this;var A=this.eu,$=this.zx=q.m("div");
$.appendChild(this.MR._);$.appendChild(this.Df._);this.lt.ayk($);var X=this.a85=q.m("div","flexrow");
A.appendChild(X);X.appendChild(this.Sr._);X.appendChild(this.b0._);X.appendChild(this.td._);if(ex==0||ex==1)this.Q_.KW({url:j8.DP("rsrc/basic/basic.zip")});
if(ex==2)this.Q_.KW({url:"images/sf2/Nokia_S30.sf2"});this.Yu(ex==0?L.vX:L.vX);j8.SL(this.anw.bind(this));
if(this.aq())return;if(ex==0){j8.event("web_PPea",.01);var c=q.Ps[iX.UG][iX.Al];if(c=="")c="di"+"rect";
c=c.split("//").pop();if(c.startsWith("w"+"ww."))c=c.slice(4);if(c.endsWith("/"))c=c.slice(0,-1);if(c.startsWith("go"+"ogle."))c="go"+"ogle.com";
if(c.startsWith("baidu.com"))c="baidu.com";if(c.startsWith("photopea.com/templates"))c="photopea.com/templates";
if(c.startsWith("photopea.com/tuts"))c="photopea.com/tuts";if(c.endsWith("search.yahoo.com"))c="search.yahoo.com";
if(c.endsWith("gradio.live"))c="gradio.live";if(c.endsWith("proxy.ru"))c="proxy.ru";if(c.length>28&&c.indexOf("/")!=-1)c=c.split("/")[0];
if(c.length>28)c=c.split(".").slice(1).join(".");if(c.length>28)c=c.split(".").slice(1).join(".");if(c.length>28)c=c.slice(c.length-28);
if(hx._i()){j8.event("i"+"fr_"+c,.01,1)}else j8.event("r"+"ef_"+c,.01,1)}if(ex==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}g9.prototype=new go(!0);
g9.prototype.Gl=function(z){var J=new cD(b.E.c);J.data={R:b.J.SI,Xu:z?z:"done"};this.a(J)};g9.prototype.amd=function(){var z=this.f.P$,p=!1;
if(z.RQ==null)return;var J=this.U4;for(var g=0;g<J.length;g++){var n=J[g];if(n.a4o!=n.Jq&&n.depth==8){var B=Date.now(),c=kL.Pk(n,"psd",0,0,[!0,!1,!0,!1,!0]);
n.a4o=n.Jq;z.JN[n.name]=c;p=!0;console.log(Date.now()-B,"saving "+n.name,c.byteLength)}}if(p){var t=new cD(b.E.c);
t.data={R:b.J.bS,Xu:iQ.Bz,aI6:!0};this.a(t)}};g9.prototype.anw=function(){q.Ps[iX.oC](this.a4V.bind(this),Math.pow(Math.PI,8)+q.Ps[iX.aB_][iX.a57]()*1e4);
var z=j8.nF();if(z!=null&&z.globals!=null)this.wN(z.globals);else{this.aDC=!0;var J=j0.a3t();if(J&&J.length!=0){var p=J[0];
j0.avP(p,this.ara)}}if(!this.aq()){var n=q.aBr();if(n==0)this.aHl=!0;if(n==2)this.f.jR=!1;if(n!=1&&Math.random()<.002)q.af1()}if(!hx._i()||!this.f.jR){this.a9l();
this.wq()}else{var B=q.zb(q.Ps[iX.vp]);B[iX.XR](iX.nv,this.a4P.bind(this));var c=q.fb("_MYOqDLGJa;A:6");
if(ex!=0)c=iX.DX("@C/25N4/9A?C;:iBQRv")+c;B[iX.Ab](q.fb("61="),c);B[iX.nu]()}this.vR=!0;this.Gl();var t=new cD(b.E.c);
t.data={R:b.J.Ym,i9:"peamark",tS:4,index:[10,0]}};g9.prototype.a4P=function(z){var J=JSON.parse(z.target[iX.Md]),p=q.Ps[iX.aEw][iX.ad9]()/1e3,n=q.Ps[iX.UG][iX.Al],B=!1;
for(var c in J)if(c.indexOf(".")!=-1&&n.indexOf(c)!=-1&&parseInt(J[c])>p)B=!0;if(B)this.f.jR=!1;this.a9l();
this.wq();if(n==""){if(this.f.jR){alert(iX.fb("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};g9.prototype.wq=function(z){this.gS=!0;
if(!this.f.XX)this.b0.XX=null;else if(this.U4.length==0)this.b0.ad8();this.X4(iQ.hl);this.T();this.Qn();
this.td.DK(this.Y0(),this.U4,this.f)};g9.prototype.wN=function(z){var J=this.f;if(z.fc!=null){J.Nb=z.fc;
var p=J.ko.uA.FillColor;if(p){var n=a.g8(J.Nb);p.Values=[1,n.o/255,n.k/255,n.X/255]}}if(z.bc!=null)J.Gh=z.bc;
if(z.ru!=null)J.v5=z.ru==1;if(z.ex!=null)J.NO=z.ex==1;if(z.favFam!=null)J.RY=z.favFam;if(z.ff!=null)J.RY=z.ff.split(",");
if(z.rsrc!=null)J.wo=z.rsrc;if(z.rs!=null)J.wo=z.rs.split(",");if(z.fo!=null)J.ko.W5[0].Name=z.fo;if(z.panels!=null)J.e8=z.panels;
if(z.pd!=null)J.e8=bb.atN(z.pd);if(z.as!=null)J.apq=z.as;if(z.co!=null){J.bH=z.co;if(J.bH!=0)alert("Edit > Preferences > Cursor Offset is not Zero.",2500)}var B=z.ep?z.ep:z.eparams;
if(B){var c=J.Uc;if(B.guides!=null)c.r_=B.guides;if(B.grid!=null)c.eQ=B.grid;if(B.gsize!=null)c.rq=B.gsize;
if(B.gunits!=null)c.LK=B.gunits;if(B.gtype!=null)c.Ku=B.gtype;if(B.runits!=null)c.zk=B.runits;if(B.gcol!=null)c.Gc=B.gcol;
if(B.gucol!=null)c.tO=B.gucol;if(B.glcol!=null)c.ab=B.glcol;if(B.sels!=null)c.nI=B.sels;if(B.paths!=null)c.$n=B.paths;
if(B.pgrid!=null)c.Lu=B.pgrid;if(B.slices!=null)c.Cy=B.slices;if(B.gc!=null)c.Gc=B.gc;if(B.uc!=null)c.tO=B.uc;
if(B.lc!=null)c.ab=B.lc;if(B.gs!=null)c.rq=B.gs;if(B.gv!=null)c.WL=B.gv;if(B.gn!=null)c.bB=B.gn;if(B.gu!=null)c.LK=B.gu;
if(B.gt!=null)c.Ku=B.gt;if(B.ru!=null)c.zk=B.ru;if(B.gr!=null)c.eQ=B.gr==1;if(B.gd!=null)c.r_=B.gd==1;
if(B.se!=null)c.nI=B.se==1;if(B.pa!=null)c.$n=B.pa==1;if(B.pg!=null)c.Lu=B.pg==1;if(B.sl!=null)c.Cy=B.sl==1}if(z.lang!=null)j0.avP(z.lang,this.ara);
if(z.theme!=null)J.y3=z.theme;if(z.to){var t=z.to;for(var g=0;g<t.length;g+=2){var u=this.Z.map[t[g]];
if(u)u.l.t1(t[g+1],null,this)}}if(z.topt||J.a49){var v=z.topt?z.topt:{},A=J.a49?J.a49:{};for(var $ in this.Z.map){if($>=103)continue;
var X="t"+$;if(v[X]||A[X])this.Z.map[$].l.t1(v[X],A[X],this)}}};g9.prototype.a9l=function(){if(this.f.ats)return;
this.f.ats=!0;var z=null,J=window.location.href,p=J.indexOf("="),n=J.indexOf("#");if(p!=-1)z=J.substring(J.indexOf("?")+1,p);
if(n!=-1&&n!=J.length-1){z="p";p=n}if(n!=-1&&J[n+1]=="i"){this.Q_.Ng(J.slice(n+2,n+10))}else if(J.slice(n+1).startsWith("audit")){}else if(J.slice(n+1).startsWith("goog_rewarded")){}else if(n!=-1&&J[n+1]=="t"){this.Q_.Ng(J.slice(n+2,n+10).split("").reverse().join(""))}else if(z=="p"||z=="state"){var B=J.substring(p+1,J.length);
B=JSON.parse(decodeURIComponent(B));if(z=="p"){var c=B.apis,t=this.f;if(c){if(c.rmbg)t.IZ.a8M=c.rmbg;
if(c.dezgo)t.IZ.ab0=c.dezgo}if(B.script=="alert(73)")this.f.jR=!1;if(B.script)e1.a9G(this);if(B.server)this.als=B.server;
if(B.resources)for(var g=0;g<B.resources.length;g++)this.Q_.KW({url:B.resources[g]});if(B.files)for(var g=0;
g<B.files.length;g++)this.Q_.KW({url:B.files[g],c$:{G4:B.server,awS:B.script}});var u=B.environment;
if(u==null)u={};if(u.plugins!=null)this.td.aFL(u.plugins);if(u.localsave!=null)this.f.uF=u.localsave;
if(u.customIO!=null)this.f.OK=u.customIO;if(u.vmode!=null){var v=u.vmode;if(v==1)this.f.compact=!0;if(v==2)this.ahM=!0}if(u.intro!=null&&!this.f.jR)this.f.XX=u.intro;
if(u.menus!=null)this.f.aa3=u.menus;if(u.tmnu!=null)this.f.a49=u.tmnu;if(u.panels!=null)this.f.e8=u.panels;
if(u.showtools!=null){var A=u.showtools,$=A.indexOf(this.f.Ms);this.f.DV=A;if($==-1)this.Yu(A[0])}if(u.phrases!=null)j0.aLo(u.phrases);
if(u.autosave!=null){this.f.apq=0;window.setInterval(function(){var w=new cD(b.E.c);w.data={R:b.J._2};
this.a(w)}.bind(this),u.autosave*1e3)}if(u.icons!=null){for(var X in u.icons)if(u.icons[X].indexOf("\"")==-1){if((X==iX.amj||X==iX.aok)&&this.f.jR)continue;
PIMG[X]=u.icons[X];PIMG["__"+X]=!0}}this.wN(u);if(B.files==null&&B.script){ce.o_(B.script,this);this.Gl()}}else if(z=="state"){var U=this.Q_;
if(B.action=="create"){var w=new cD(b.E.c);w.data={R:b.J.Ym,i9:"newproject",aCW:B.folderId};this.a(w)}if(B.action=="open"){for(var g=0;
g<B.ids.length;g++)kr.h2(function(){var k="https://www.googleapis.com/drive/v3/files/"+this.ai8,T=new XMLHttpRequest;
T.open("GET",k);T.setRequestHeader("Authorization",kr.a0M());T.send();T.onload=function(Z){var i=JSON.parse(Z.target.response);
U.KW({url:k+"?alt=media",name:i.name,vy:{file:i,va:""},aEy:{Authorization:kr.a0M()}})}}.bind({ai8:B.ids[g]}));
alert("Loading files from Google Drive ...")}}}else{var P=window.launchQueue;if(P){var U=this.Q_;P.setConsumer(function(k){var T=k.files,Z=[];
for(var g=0;g<T.length;g++){var i=T[g];i.getFile().then(function(V){Z.push(V);if(Z.length==T.length)U.EC(Z,null,null,null,T)})}})}}};
g9.prototype.T=function(){var z=null;if(z){var J=!1,p=z.getElementsByTagName("h1")[0],c=0,u=0,v=0;p.textContent="Free Online Photo Editor";
var n=z.getElementsByTagName("p"),B="Photopea: "+q.kT(j0.get([0,17,1])),t=["PSD","AI","PDF","SVG","CDR"];
for(var g=0;g<t.length;g++)B=B.replace(t[g],"<b>"+t[g]+"</b>");if(!J)B+=" (<b>Adobe Photoshop</b>, <b>Adobe Illustrator</b>, <b>PDF</b>,  <b>SVG</b>, <b>CorelDRAW</b>).";
n[0].innerHTML=B;B=j0.get([0,17,2])+" "+j0.get([0,17,3]);for(var g=0;g<B.length;g++){var A=B[g];if(A=="<")u++;
if(A==">")v++}if(!J&&u*v==9){var $=["//github.com/photopea/"+["photo","vector"][ex]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var g=0;g<3;g++){var X=B.indexOf("<",c),U=B.indexOf(">",c),w=B.slice(0,X)+"<a href=\""+$[g]+"\" target=\"_blank\">"+B.slice(X+1,U)+"</a>";
c=w.length;B=w+B.slice(U+1)}n[1].innerHTML=B}else n[1].innerHTML=j0.get([0,17,2])}this.lt.T();this.MR.T();
this.qh.T();this.sp.T();this.td.T();this.Sr.T();this.q7.T();this.b0.T();for(var P in this.Z.map)if(this.Z.map[P].nS)this.Z.map[P].nS.T()};
g9.prototype.aq=function(){if(hx.AA())return!0;return 4<q.Ps[iX.lH][iX.WX][iX.aHF](iX.fb("'$!|"))||true};g9.prototype.B$=function(z,J){z=Math.floor(z);
J=Math.floor(J);var p=window.visualViewport,i=0;if(z>J&&p){var n=p.width,B=p.height;if(z>J&&n<B){var c=n;
n=B;B=c}var t=J*(n/B);if(Math.abs(t-z)>100)z=t}var u=q.fb("WUMK&AM"),v=iX.n_,A=q.Ps[iX.UG],$=Math.max(z,window.screen.width),X=Math.max(J,window.screen.height);
if(hx.qJ==null){hx.qJ=Math.min($,X)<500||$<750?0:$<1500?1:2}var U=hx.qJ,w=!this.gS||this.aq()||!this.f.jR||j8.x_()||q.KG()==iX.fb("eQLZRRM?8a4=8");
if(!w&&hx._i()){if(this.a9x==null)this.a9x=Math.random()<.5;w=this.a9x}if(hx._i()){var P=window.location.ancestorOrigins;
if(P==null)P=[document.referrer];console.log(P)}if(w){if(U!=0&&q.Ps[u]&&this.gS)q.Ps[u]()}else{if(U==0)J-=84;
else z-=U==1?180:320}go.prototype.B$.call(this,z,J);if(w&&this.w7){var k=U==0?A[iX.wy]:this._;k[iX.afn](this.Gx);
q.X0(this.Gx);this.w7=!1}if(!w&&!this.w7){var T=function(y){q.Ps[iX.oC](function(){var E=new cD(b.E.c);
E.data={R:b.J.Ym,i9:iX.fb("QZXZLFV")};if(ex==0&&hx.Ue()&&!j8.x_())this.a(E)}.bind(this),14720+Math.random()*46351);
if(Math.random()<.002){if(ex==0&&hx.Ue())j8.event("gota_0")}if(ex==0&&y)q.Ps.___a=!0;this.aaP(z,J);var k=U==0?A[iX.wy]:this._;
k.appendChild(this.Gx);this.Gx[iX.n4](v,q.fb("_MMJLNDfKCAg")+(U==0?10:10)+q.fb("_d$ebOS?I:==Ba-+# }$M"));
this.Gx[v][q.fb("_MMJLND&<:E")]=(U==0?0:19)+q.fb("_d");this.Gx[v][q.fb("i5WJHX")]=U==0?0:1}.bind(this);
function Z(){hx.aH6(T)}setTimeout(Z,2800);this.w7=!0}if(q.SA(this.MR._))i+=31;if(q.SA(this.Df._))i+=32;
this.lt.aqg=this.f.jR&&this.gS;this.lt.B$(z,i);var V=J-i,_=q.fb("_d");this.Gx[v][iX.aDx]=(U==0?100>>>1:J-11)+_;
this.Gx[v][iX.at7]=(U==0?z:6*Math.pow(10,2))+_;if(q.SA(this.Sr._))this.Sr.B$(z,V);this.td.B$(z,V);this.b0.B$(z-this.Sr.HX()-this.td.HX(),V)};
g9.prototype.aaP=function(z,J){var p=function(){var n=new cD(b.E.c);n.data={R:b.J.Ym,i9:"account"};this.a(n)}.bind(this);
hx.aam(z,J,this.Gx,p)};g9.prototype.asN=function(z){console.log("systemCopy")};g9.prototype.ava=function(z){if(q.Cm())return;
console.log("systemPaste");if(!z.clipboardData)return;var J=z.target.tagName.toLowerCase(),p=z.clipboardData.items;
if(p==null)return;var n=this.aiw.bind(this);for(var g=0;g<p.length;g++){var B=p[g],c=B.getAsFile();if(B.type.indexOf("image")!=-1){if(c.size==this.f.az6)return;
this.f.az6=c.size;if(c){c.name="image.png";this.Q_.EC([c],n)}}}};g9.prototype.aiw=function(z,J){var p={buffer:z,S:J},n=this.f;
if(q.Cm()){var B=this.ayf,c=B.Dm;if(c.r==J.r&&c.$==J.$){p.S=c;p.Ln=B.Ln}}else{if(n.ic){var t=new cD(b.E.H,!0);
t.l=L.Mj;t.data={R:"h_stepbck"};this.a(t)}}n.ic=p;var t=new cD(b.E.c,!0);t.data={R:b.J.RP,at5:!0};this.a(t)};
g9.prototype.ajk=function(){if(this.q7.Bi()!=null)alert(j0.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
g9.prototype.$P=function(z){var J=this.Y0();if(J==null){alert(j0.get([15,7,7]));return}var p=z.l==L.$N||z.l==L.KZ;
if(this.q7.pf()&&z.iv!=!0&&!p){this.ajk();return}var n=this.Z,B=this.f.Ms,c=z.l;if(c==L.MN&&B==L.i3)c=L.i3;
if(B!=c&&n.map[B].l.pf()&&!p&&!((B==L.JO||B==L.h1||B==L.LH)&&c==L._f)){console.log("disabling",B);n.map[B].l.disable(J,this,this.f,this.$g)}if(c!=L.$N&&c!=L.KZ)J.Cr(!0);
var t=this.Z.map[c].l;t.$P(z.data,this,J,this.$g,this.f)};g9.prototype.aFD=function(z){var J=this.f;
if(z.data.ES!=!0)dB.an6({rK:z.data.rK,m$:z.data.m$},this,J,this.Y0());var p=J.T7,n=J.MD;if(p==null||z.data.awv)return;
var B={adk:!1,wr:"Step",aEz:0,e:!0,exp:!1,rK:z.data.rK};if(p[2]==null)p[2]=n[p[0]].B7[p[1]].B7.length-1;
if(z.data.m$)B.m$=z.data.m$;n[p[0]].B7[p[1]].B7.splice(p[2]+1,0,B);p[2]++;this.X4(iQ.H)};g9.prototype.Pd=function(z){if(this.aHl){z.data=0;
return z.I}var J=z.data&&z.data.R==b.J.Ym&&z.data.i9==iX.aA1,p=z.data&&(z.data.R==b.J.v0||z.data.R==b.J.DN);
if(q.Ps.__csrf&&!j8.x_()&&!J&&!p){var n=iX.fb("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(n,5e3);return}go.prototype.Pd.call(this,z);var B=z.data.R;if(B==b.J.UN){var c=this.Y0();Speaker.t1(c,this.f.a07[0]);
if(c.J.g3)Speaker.pause();else{var t=c.i.lm();Speaker.play(Synth.acN(-c.i.p.x*t.k6,c))}c.J.g3=!c.J.g3;
c.eO=!0}if(B==b.J.Zj)dB.ag5(this.Y0(),this.f.MD,z.data.qY[0],z.data.qY[1],this);if(B==b.J.aa5){this.arI(z.data.a44)}if(B==b.J.aJP){this.T();
this.Qn()}if(B==b.J.DZ)this.Qn();if(B==b.J.Ys)if(this.f.EU){this.f.EU.prompt();this.f.EU=null}if(B==b.J.tk)this.b0.c5(z.data.BZ,z.data.push);
if(B==b.J.an$)this.b0.afI();if(B==b.J.agd)this.sg(null,z.data.dir);if(B==b.J.ZY)this.b0.Ww(this.U4.indexOf(z.data.Bw?z.data.Bw:this.Y0()));
if(B==b.J.Zw){var u=navigator.keyboard;if(z.data.cq&&u)u.lock(["Escape"]);if(z.data.cq&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(z.data.cq)document.body.webkitRequestFullScreen();if(z.data.K!=null)this.Dj(z.data.K)}if(B==b.J.a1T){if(z.data.Wj)this.$g.aH(z.data.azc);
else this.$g.Un(z.data.azc);this.qA(z.data.Wj?"down":"up")}if(B==b.J.a62){var v=z.data.K;this.td.aFL([v]);
this.T()}if(B==b.J.$j){var c=this.Y0(),A=c.U[c.Y[0]],$=new fw(0,0,c.r,c.$),X=c.M?c.M.S.P():$,U=a.j(X.C()*4);
a.nk(c.dT(),$,U,X);var w=b$.rR()+"-d71c-11e5-b1ae-a548a96e5f9f",P=new cD(b.E.c,!0);if(z.data.Xu==0){var k={name:"Default/"+c.name.split(".")[0],id:w,kR:[U,X]};
P.data={R:b.J.bS,c$:"add",Xu:iQ.EA,wo:[k]};this.a(P)}if(z.data.Xu==1){var T=a.j(X.C()*4);T.fill(255);
a.B.Oe("norm",U,X,T,X,X,1);var Z=a.j(X.C());a.rz(T,Z);a.oU(Z);var i=a.Ni(Z,X);if(i.Sz())i=X;var V=a.j(i.C());
a._1(Z,X,V,i);i.x=i.y=0;var _={Dm:i,id:w,kR:[V,i]},y=dT.L3(w),E=y.Brsh.v;E.Dmtr.v.val=Math.max(i.r,i.$);
E.Spcn.v.val=10;P.data={R:b.J.bS,c$:"add",Xu:iQ.na,wo:{list:[{t:"Objc",v:y}],EO:[_],bG:[]}};this.a(P);
P.data={R:b.J.bS,Xu:iQ.Pr,to:y};this.a(P)}if(z.data.Xu==2){var F=c.Q8(),d=F[0][F[1][0]],x={vS:"Default/"+A.getName(),wl:w,u:d.add.vmsk.P().u},f=a.z.nd(x.u),Q=new fA(f.r,0,0,f.$,f.x,f.y);
Q.oU();a.z.Gn(x.u,Q);f.x=f.y=0;x.J4=f.P();P.data={R:b.J.bS,c$:"add",Xu:iQ.e_,wo:[x]};this.a(P)}}if(B==b.J.Je)this.Q_.KW(z.data.Xu);
if(B==b.J.iC){var m=z.data.aGp,H=z.data.CE;if(m!=!0&&H!=!0&&this.by("open"))return;var S=this.b0.xw();
if(H)S=-1-S;this.Q_.and(m||H?S:null,z.data.af9,z.data.yZ)}if(B==b.J.y1){var R=iQ.lM[z.data.asZ],U=this.abm(z.data.asZ,z.data.Lz);
jo.save(U,R[1]+"."+R[0])}if(B==b.J.Yq){var I=this.f.P$,D=z.data.aws;if(I.RQ&&!I.az2&&!D){I.abK=window.confirm("Load \""+z.data.y0+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
I.az2=!0}if((I.abK||D)&&I.RQ){I.ZU[z.data.y0]=z.data.ea;var P=new cD(b.E.c);P.data={R:b.J.bS,Xu:iQ.Bz};
this.a(P)}}if(B==b.J.a0c){var c=this.Y0(),O="<!DOCTYPE HTML>";if(c==null)return;var G=kL.s0(c.dT().buffer,c.r,c.$),C=window.open();
O+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";O+="<body><img src=\""+G+"\" /></body>";
O+="</html>";C.document.write(O)}if(B==b.J.yE){if(this.by("publishOnline"))return;var Y=z.data.tS,h=Y=="jpg"||Y=="png",c=this.Y0();
if(c==null)return;if(!h&&c.ia)return;var n="Your "+(h?"picture":"document")+" will be published at "+(h?"Imgur":["Photo","Vector"][ex]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!h)n+=" We guarantee 6+ months of storage.";var r=z.data.QB?!0:confirm(n);if(r){if(Y=="psd"){var P=new cD(b.E.H,!0);
P.l=L.bX;P.data={R:bi.Tv};this.a(P);var W=new fw(0,0,c.r,c.$);for(var g=0;g<c.U.length;g++){var A=c.U[g];
if(A.S.Sz()||A.nT()||A.Qu()||A.ti()||A.dH()||A.add.TySh||A.add.vmsk||A.add.SoLd)continue;var N=W.ly(A.S);
if(!N.Vm(A.S)&&!N.Sz()){var o=a.j(N.C()*4);a.nk(A.buffer,A.S,o,N);A.buffer=o;A.S=N}if(!a.TP(A.buffer,A.S.r,A.S.$))continue;
var K=A.LE(),l=A.YF,aV=A.QN,j=A.Bx;A.Rz(!0);A.YF=255;A.QN="norm";c.Y=[g];P.data={R:bi.LL,tS:"jpg"};this.a(P);
var M=c.U[g];A.Rz(K);M.Rz(K);A.YF=M.YF=l;A.QN=M.QN=aV,A.Bx=M.Bx=j}}if(c.eo){c.TQ()}var s=c.r,l2=c.$,gm=z.data.a5d,iz;
if(gm)while(Math.max(s,l2)>gm){s=s>>>1;l2=l2>>>1}console.log(s,l2);if(Y=="psd")iz=kL.Pk(c,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(Y=="ai")iz=kL.Pk(c,"ai");else if(Y=="png")iz=kL.Pk(c,"png",s,l2);else{var dC=kL.Pk(c,"png",s,l2),dL=kL.Pk(c,"jpg",s,l2);
iz=dC.byteLength<dL.byteLength?dC:dL}var cP=z.data.QB;if(cP==null)cP=function(iB){var l8=h?iB:"https://www."+["photo","vector"][ex]+"pea.com/#i"+iB,P=new cD(b.E.c);
P.data={R:b.J.Ym,i9:"linkview",aa4:l8};this.a(P);j8.event("share_"+Y)}.bind(this);if(h)jo.a8a(iz,cP);
else this.Q_.axf(iz,c.name,cP,"psdshared")}}if(B==b.J._2){var c=this.Y0(),id=!1;if(c==null)return;if(c.eo){c.TQ()}var jR=this.tm();
if(jR.pf())jR.disable(c,this,this.f,this.$g);if(z.data.anr){if(!this.$e(c,z.data.anr))return;var U=l9.aEi(c,z.data.anr,this.f);
this.Gl(U);id=!0}else if(c.eN){if(this.U4.indexOf(c.eN.N6)!=-1){var U=new Uint8Array(kL.V5("PSD").D6(c,null,null,[!0,!1])),P=new cD(b.E.H,!0);
P.data={R:bi.Eo,CT:c.eN.N6,data:U,id:c.eN.aeP,qI:c.name};P.l=L.bX;this.a(P);alert("Smart Object updated")}id=!0}else if(this.by("save")){id=!0;
if(hx.AA())alert("File Saved.");if(hx.AA()&&!j8.x_()){var P=new cD(b.E.c,!0),n=iX.fb("+\\hYWYI?sU=79-Q*$% }'I>ns> j[i[Z\\w\\TRxkZsn261ds-#{+y=.nwsuh`^hrcbZWSSRDF<QD?IaQ\"&!TOr 9E[jrcwEdTYR[Pk\\SFIP1,6D] ;,*,{qF(foiii.Z\\SMWKS]XJ4B4/;`B||$u y-(mtdb6w\"~ewJSNlK@DF><.'&/*H*(q\" z325.-,$\"!~v{tlnilhb\\Ibs$)(,w/NjingoilbUmbQYJ^+'zRrxrin\\L{U4!!+}xg~pa[rQZKaMOEZs6QB@B2(\\>|&   Dpricmaisn`JXJEQvX33:,60C>$+zxL.85{.`id#aVZ\\TRD=<E@^@>(861IHJG??::6/32*'$~~z|t_x%698/Hw(0)zyx0ayvp=-\\6t,w(wV!_\\u;=GM><>.$X:*w(!6goidh1WV\\_MWc|wO?75<I:8:* T6)wo|m<7,}1rXRSNLUw<MIAiMH384\"}6  |z'evrjhaSh*%YRUO=<SD@.dF+,#G|\"p!|4pp1{vhj^P%fXH@>Ea==]Ha\\L1!xv}ID4fhr7"),hC=iX.fb(";QJXQ_*II9"),eJ=function(){P.data={R:b.J.Ym,i9:"account"};
this.a(P)}.bind(this);P.data={R:b.J.Ym,i9:iX.ii,K:n,RD:eJ,aEB:hC,aL8:!0};this.a(P)}}else if(c.vy){l9.a0u(c);
id=!0}else if(c.Ks){if(c.Ks[0]!=0&&!navigator.onLine){alert("Go online to save this file.");return}var el=l9.aLt(c);
if(el==1){alert("Already saving another file. Try again later.");return}id=!0}else if(c.c$&&c.c$.G4){if(!this.$e(c,c.c$.G4.formats))return;
this.Q_.aDt(c,this.f,l9.aHM);id=!0}else if(c.sN&&(ex==0&&kL.qR.indexOf(c.Lt)!=-1||ex==1&&c.Lt=="ai")){this.aw8();
return}if(id){c.xb()}else{var P=new cD(b.E.c,!0);P.data={R:b.J.DN};this.a(P)}}if(B==b.J.DN){if(!this.f.uF){alert("function is disabled");
return}if(this.by("saveAsPSD"))return;var c=this.Y0();if(c==null)return;if(!this.$e(c))return;var P=new cD(b.E.H,!0);
P.data={R:bi.Tv};P.l=L.bX;this.a(P);var eu=c.U.length,jY="Your document has "+c.U.length+" layers.";
if(eu>1<<15){alert(jY+" PSD files can have up to "+(1<<15)+" layers.",5e3);return}if(eu>8e3&&!confirm(jY+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var fN={Mf:[]};c.root.avh([],fN);var jC=fN.Mf;if(jC.length>11&&!confirm("One layer is nested "+(jC.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+jC.join(" \uD83E\uDC1A ")+"."))return;
var kF=c.name.split(".");kF.pop();kF=kF.join(".")+[".psd",".ai"][ex];var i6=window.showSaveFilePicker;
if(window.parent!=window)i6=null;if(i6&&!z.data.aJi){var kT={suggestedName:kF,types:[{description:["PSD","AI"][ex]+" Files",accept:ex==0?{"image/psd":[".p"+"sd"]}:{"application/pdf":[".ai"]}}]};
i6(kT).then(function(z){c.sN=z;c.name=z.name;c.SR=!0;c.Lt="psd";this.aw8()}.bind(this));return}var kY=window.gtag;
if(c.bO()&&kY)kY("event",c.Lt+":"+q.DX(j8.x_()?"\"'|('61":"w'| "),{event_category:"Formats"});if(c.eo){c.TQ()}var h9=ex==0?"PSD":"AI",bG=kL.V5(h9);
j8.event("efmt_"+h9.toLowerCase(),.1);if(z.data.aJi){var U=c.Lt=="psd"?bG.D6(c):l9.BC(c,c.Lt,this.f);
this.aLm(U,c,this)}else{var U=bG.D6(c);jo.save(U,kF);c.xb()}}if(B==b.J.SE)window.open(z.data.link,"_blank");
if(B==b.J.GL){if(this.q7.pf()){this.ajk();return}var c=this.Y0(),A=c.U[c.Y[0]],v=c.Hb(A.add.SoLd.Idnt.v);
for(var g=0;g<this.U4.length;g++){var dQ=this.U4[g].eN;if(dQ!=null&&dQ.aeP==v.A_&&dQ.N6==c){this.b0.JW(g);
return}}jo.mQ({name:v.qI,eN:{aeP:A.add.SoLd.Idnt.v,N6:c}},v.raw.buffer,this)}if(B==b.J.a9e){var c=this.Y0(),A=c.U[c.Y[0]],v=c.Hb(A.add.SoLd.Idnt.v);
jo.save(v.raw.buffer,v.qI)}if(B==b.J.a5X){console.log(z.data);jo.mQ({name:z.data.Ks[1].split("/").pop(),Ks:z.data.Ks},z.data.sM,this)}if(B==b.J.agY){var c=this.Y0();
c.Ks=z.data.Ks;c.name=c.Ks[1].split("/").pop();var P=new cD(b.E.c);P.data={R:b.J._2};this.a(P)}if(B==b.J.vE){this.are()}if(B==b.J.dx){this.a3q(z.data.L5,z.data.Lw,z.data.fR)}if(B==b.J.RP){this.aKv(z.data.at5,z.data.aAl,z.data.fR)}if(B==b.J.aK1){var jn=z.data.K;
if(this.f.Ms==L.MN&&this.tm().pf()){var P=new cD(b.E.H,!0);P.l=L.MN;P.data={R:"insertText",K:jn};this.a(P);
return}if(jn.startsWith("ncb;")){var P=new cD(b.E.H,!0);P.l=L.vX;P.data={R:"append",cN:"Paste Notes",akg:JSON.parse(jn.slice(4))};
this.a(P)}else if(jn.startsWith("vcb;")){var b1=JSON.parse(jn.slice(4));b1[0]=iV.a0p(b1[0]);var P=new cD(b.E.H,!0);
P.l=L.q4;P.data={R:"append",cN:"Paste Paths",akg:b1};this.a(P)}else if(jn.startsWith("lrs;")){var c8=jn.split(";"),j_=this.U4[parseInt(c8[1])];
if(j_==null)return;var fQ=this.Y0(),cM=j_.Y;j_.Y=JSON.parse(c8[2]);var jK=j_.pL(null,j_!=fQ);j_.Y=cM;
var P=new cD(b.E.H,!0);P.data={R:bi.jt,U:jK,N6:j_,q9:fQ};P.l=L.bX;this.a(P)}else if(jn.startsWith("<!--")||jn.startsWith("<svg")){var aw=e.Hu(jn),ez=kL.V5("svg"),$=new b$("image.p"+"sd");
ez.uj(aw.buffer,$);if(this.U4.length!=0){var g4=$.U;if(g4.length==3&&g4[0].getName()=="</Layer group>"&&g4[2].nT())g4=[g4[1]];
var P=new cD(b.E.H,!0);P.l=L.bX;P.data={R:bi.jt,U:g4,N6:$,q9:this.Y0()};this.a(P)}else this.aoM($)}}if(B==b.J.$W){ce.o_(z.data.w0,this)}if(B==b.J.SI){if(window.parent!=window)window.parent.postMessage(z.data.Xu,"*");
this.td.w1(z.data.Xu)}if(B==b.J.n6){var ht=parseFloat(z.data.i9);if(this.f.e8.indexOf(ht)==-1){var P=new cD(b.E.c,!0);
P.data={R:b.J.bS,Xu:iQ.OO,K:ht,c$:"add"};this.a(P)}this.td.a5B(z.data.i9)}if(B==b.J.ZG){this.$X.aqw(this.Y0(),this.f)}if(B==b.J.Ym){var gx="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var g=0;g<gx.length;g+=2)if(z.data.i9==gx[g]&&this.by(gx[g+1]))return;if(!this.f.uF&&z.data.window=="saveforweb"){alert("function is disabled");
return}this.q7.a8N(z.data.i9,this.Y0(),z.data,this.U4,this.$g)}if(B==b.J.L1){var kE=this.f.OK.exportAs;
if(kE)this.Gl(z.data.data);else jo.save(z.data.data,z.data.name)}if(B==b.J.Rt){if(!this.q7.pf()||z.iv)this.aoM(z.data.CT)}if(B==b.J.dS){this.b0.JW(z.data.target);
var P=new cD(b.E.H,!0);P.data={R:bi.E5,CT:z.data.CT,Xt:z.data.Xt,UK:z.data.UK};P.l=L.bX;this.a(P);this.Yu(L.dt)}if(B==b.J.ax8){co.Pw=!co.Pw;
if(this.U4.length>0)this.Y0().qM()}if(B==b.J.akW){var kS=j8.nF();if(kS!=null&&kS.globals!=null)this.wN(kS.globals);
this.wq()}if(B==b.J.Fx){this.Q_.EC(z.data.data,null,z.data._z,z.data.ny,z.data.aAZ)}if(B==b.J.OS){var h7=this.tm();
if(!this.q7.Bi()!=null)this.Yu(z.data.l,z.data.z2);var b7=this.tm();if(b7!=h7&&z.data.afe)b7.lW(this.Y0(),this,this.f,this.$g,this.ku)}if(B==b.J.Jl){if(this.Z.aKP)this.Yu(this.Z.aKP)}if(B==b.J.JE){var i7=this.Z.map[z.data.l].l,c=this.Y0();
i7.zD(z.data,this,c,this.$g,this.f);if(c)c.JS=!0;this.a0B()}if(B==b.J.jv){var fp=this.Z.map[z.data.l];
this.aft(fp);fp.nS.YO(z.data)}if(B==b.J.bS){var c=this.Y0(),jB,fB=!(c&&c.Y.length!=0&&c.U[c.Y[0]].add.TySh),df=z.data.Xu,dt=z.data.wo,g5=this.f;
if(z.data.c$=="set"){var b7=L.f3[dt[1].classID];if(g5.Ms!=b7)this.Yu(b7);this.Z.map[b7].nS.Zu(dt,g5)}if(z.data.c$=="add"){var R=iQ.lM[df];
if(df==iQ.OO){g5.e8.push(z.data.K);g5.e8.sort(function(iB,l8){return iB-l8})}else if(df==iQ.a6Z){g5.a07.push(z.data.wo)}else if(R==null){if(dt)g5.rf.aKS(dt,z.data.ahS);
if(c)c.eO=!0}else{var bR=this.ET(df);if(df==iQ.na){bR.EO=bR.EO.concat(dt.EO);bR.bG=bR.bG.concat(dt.bG);
bR=bR.list;dt=dt.list}if(df==iQ.wi&&c){for(var g=0;g<dt.length;g++){var h$=dt[g].pY.Lefx;if(h$)ju.alO(h$,c,g5.r0)}}if(df==iQ.XW&&dt==null){var $=this.Z.map[g5.Ms].nS.AG();
if($==null)return;dt=[$]}if(iQ.YQ[df]&&dt[0][0]=="_all_")dt=dt[0][2];for(var g=0;g<dt.length;g++)bR.push(dt[g]);
if(df==iQ.e_){var ih={};for(var g=0;g<bR.length;g++){var jt=bR[g].vS;while(ih[jt]!=null)jt=bR[g].vS=jt+"X";
ih[jt]=!0}}if(z.data.ahS!=!0)if(bR.length!=dt.length||df==iQ.o5||df==iQ.wi||df==iQ.b1||df==iQ.H)alert(j0.get(R[3])+" "+j0.get([23,1])+".")}}if(z.data.c$=="del"){if(df==iQ.OO){g5.e8.splice(g5.e8.indexOf(z.data.K),1)}else{var R=iQ.lM[df],jN=z.data.Lz,bR=this.ET(df);
if(df==iQ.na)bR=bR.list;for(var g=0;g<jN.length;g++)bR[jN[g]]=null;for(var g=0;g<bR.length;g++)if(bR[g]==null){bR.splice(g,1);
g--}alert(j0.get(R[3])+" deleted.")}}if(z.data.c$=="rnm"){var R=iQ.lM[df],bR=this.ET(df);if(df==iQ.na)bR=bR.list;
if(bR[z.data.Lz[0]]==null)return;R[2].FX(bR[z.data.Lz[0]],(z.data.a73?z.data.a73:"")+z.data.K)}if((z.data.c$!=null||z.data.c$=="mdf")&&iQ.YQ[df]){var I=this.f.P$,R=iQ.lM[df];
if(I.RQ&&!hx._i()){var jk=this.ET(df),gE=jZ.x6(jk,R[2]);I.ZU["_all_."+R[0]]=gE.buffer;var P=new cD(b.E.c);
P.data={R:b.J.bS,Xu:iQ.Bz};this.a(P)}}if(df==iQ.A1){var cW=z.data.K;g5.Mq=cW;g5.ax7[cW.ht]=cW._H}if(df==iQ.f$){var cW=z.data.K;
g5.p_=a.G(cW);var dR=a_.cb(cW);g5.apU[dR.ht]=dR._H}if(df==iQ.m7){g5.St=z.data.K;var gV=a_.St.J0(),gv=!0;
for(var $ in gV)if(g5.St[$]==null)gv=!1;if(gv)g5.a4u=a.G(g5.St)}if(df==iQ.WP){g5.im=z.data.K}if(df==iQ.e6){g5._k=z.data.K}if(df==iQ.N3){g5.ko=z.data.ko;
var ga=g5.ko.uA.FillColor;if(fB&&ga){var iC=ga.Values,dI={o:iC[1]*255,k:iC[2]*255,X:iC[3]*255},fV=a.fa(dI);
if(g5.Nb!=fV){g5.Nb=fV;jB=iQ.Hm}}}if(df==iQ.Pr){var o=a.G(z.data.to),dH=o.useBrushSize;if(dH&&dH.v){o.Brsh.v.Dmtr.v.val=g5._$.fO.Brsh.v.Dmtr.v.val;
dH.v=!1}g5._$.fO=o;if(o.Nm==null)return;var aj={rK:"select",m$:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:o.Nm.v.split("/").pop()}}]}}},fp=this.tm();
fp.kP=this;fp.track(aj)}if(df==iQ.$w){g5.RY=z.data.gW}if(df==iQ.Rn){var cH=z.data.gW,iI=!0,gF=null;if(z.data.ae5){cH=g5.wo.slice(0);
cH.splice(cH.indexOf(z.data.ae5),1)}var ge=cH,ko=g5.wo;if(ko.length>ge.length){var av=ko;ko=ge;ge=av;
iI=!1}for(var g=0;g<ge.length;g++)if(ko.indexOf(ge[g])==-1)gF=ge[g];jo.l1("act=3&id="+gF+"&dif="+(iI?1:-1));
alert((iI?"Resource added.":"Resource removed.")+" "+gF);if(!iI)if(g5.aiW[gF])delete g5.aiW[gF];g5.wo=cH}if(df==iQ.Hm){var aj,kG="Clrs";
if(z.data.el<2){var kh=z.data.K,hB=z.data.el==0,kf=a.Wi.yR(a.g8(kh));if(hB)g5.Nb=kh;else g5.Gh=kh;kG=hB?"FrgC":"BckC";
aj={rK:"set",m$:{__name:"Set",classID:"setd",T:{t:"Objc",v:kf}}}}if(z.data.el==2){var av=g5.Nb;g5.Nb=g5.Gh;
g5.Gh=av;aj={rK:"exchange",m$:{__name:"Exchange",classID:"Exch"}}}if(z.data.el==3){g5.Nb=0;g5.Gh=16777215;
if(c!=null&&c.Y.length!=0&&c.U[c.Y[0]].uB==1){var av=g5.Nb;g5.Nb=g5.Gh;g5.Gh=av}aj={rK:"reset",m$:{__name:"Reset",classID:"Rset"}}}if(aj){aj.m$.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:kG}}]};
var fp=this.tm();fp.kP=this;fp.track(aj)}}if(df==iQ.qV){g5.v5=!g5.v5;this.Qn()}if(df==iQ.j5){g5.NO=!g5.NO;
this.Qn()}var jg=g5.Uc;if(df==iQ.Qm){jg.nI=!jg.nI;this.Qn()}if(df==iQ.wI){jg.$n=!jg.$n;this.Qn()}if(df==iQ.lr){jg.r_=!jg.r_;
this.Qn()}if(df==iQ.B5){jg.eQ=!jg.eQ;this.Qn()}if(df==iQ.xZ){jg.Lu=!jg.Lu;this.Qn()}if(df==iQ.Kx){jg.Cy=!jg.Cy;
this.Qn()}if(df==iQ.nc){g5.Uc=z.data.gW;this.Qn()}if(df==iQ.ags){g5.UF=!g5.UF;this.Qn()}if(df==iQ.$a){g5.kM[z.data.Vl]=!g5.kM[z.data.Vl];
this.Qn()}if(df==iQ.uX){j0.afc(z.data.lang,this.ara)}if(df==iQ.NM){g5.y3=z.data.y3;this.T()}if(df==iQ.Bz&&g5.P$.RQ){var fU=g5.P$.RQ.transaction(["rsrc"],"readwrite").objectStore("rsrc"),cv={k:"fs0",fset:g5.P$.ZU};
if(z.data.aI6)cv={k:g5.P$.id,fset:g5.P$.JN};var bZ=Object.keys(cv.fset).length==0?fU.delete(cv.k):fU.put(cv);
bZ.onerror=function(z){console.log(z);alert("Storing failed. Browser says: "+z.target.error.message,7e3)}}this.X4(df);
if(jB)this.X4(jB)}};g9.prototype.aw8=function(){var z=this.Y0();console.log(z.Ck);if(z.Ck)return;z.Ck=!0;
var J=new cD(b.E.c,!0);J.data={R:b.J.Yg,gX:"Saving ..."};this.a(J);setTimeout(function(){var J=new cD(b.E.c,!0);
J.data={R:b.J.DN,aJi:!0};this.a(J)}.bind(this),20)};g9.prototype.aLm=function(z,J){J.sN.createWritable().then(function(p){p.write(z);
return p}).then(function(p){return p.close()}).then(function(p){J.xb();J.Ck=!1;var n=new cD(b.E.c,!0);
n.data={R:b.J.wg,gX:"Saving ..."};this.a(n)}.bind(this)).catch(function(p){J.Ck=!1;var n=new cD(b.E.c,!0);
n.data={R:b.J.wg,gX:"Saving ..."};this.a(n)}.bind(this))};g9.prototype.aEX=function(){var z=this.f,J=z.wo,p=z.aiW;
for(var g=0;g<J.length;g++){var n=J[g];if(p[n])continue;p[n]=!0;this.Q_.Ng(n,!0)}};g9.prototype.a4K=function(){this.T();
this.Qn()};g9.prototype.by=function(z){var J=this.f.OK[z];if(J){var p=new cD(b.E.c,!0);p.data={R:b.J.$W,w0:J};
this.a(p)}return J!=null};g9.prototype.$e=function(z,J){var p=!0,t=15;if(J){p=!1;for(var g=0;g<J.length;
g++)if(J[g].startsWith(q.fb("__M")))p=!0}var n=z.bO()||z.eN&&z.eN.N6.bO();if(this.aq())n=!1;var B=new q.Ps[iX.aEw],c=(B[q.DX("xy,b-66:")]()&1)*60+B[q.fb("VQ]3LNRN<G")]();
if(n&&!j8.x_()&&c>t&&p){var u=q.Ps[q.DX("}$z{2*35")][q.DX("y'|!")],v=q.fb("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
v+="\n\n"+q.fb("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-c+120)+q.fb("nYRTXTBMd");
if(u.indexOf(q.DX("\"|'/-1)(W0?@"))==-1)v=j0.get([0,11+6,3+2]);q.Ps._cwY(v);return!1}return!0};g9.prototype.ET=function(z){var J=this.f,p=[iQ.na,iQ.uN,iQ.Io,iQ.b1,iQ.EA,iQ.e_,iQ.wi,iQ.o5,iQ.H,iQ.XW,iQ.NQ,iQ.eU],n=[J._$,J.lX,J.rV,J.u_,J.r0,J.bA,J.Z9,J.aIL,J.MD,J.hC,J.aKj,J.a5_];
return n[p.indexOf(z)]};g9.prototype.abm=function(z,J){var p=this.ET(z);console.log(p);if(J){var n=z==iQ.na,B=[];
for(var g=0;g<J.length;g++)B.push((n?p.list:p)[J[g]]);p=n?{bG:p.bG,EO:p.EO,list:B}:B}if(z==iQ.wi){var c=new b$;
for(var g=0;g<p.length;g++){var t=p[g].pY.Lefx;if(t)ju.aGW(t,c,this.f.r0)}p={hx:c.add.Patt?c.add.Patt:[],Nu:p}}if(z==iQ.XW){var u=this.f._$;
p={EO:[],bG:[],list:p};console.log(p)}console.log(p);var v=iQ.lM[z];return v[2].oW(p)};g9.prototype.are=function(){var z=this.a3q(),J=this.Y0();
if(J==null||J.Y.length==0)return;var p=J.U[J.Y[0]],n=new cD(b.E.H);if(ex==2){n.l=L.vX;n.data={R:"remove",cN:"Cut Notes"}}else if(z==1){n.l=L.q4;
n.data={R:"remove",cN:"Cut Paths"}}else{n=new cD(b.E.wR);n.data={rK:"delete"}}this.a(n)};g9.prototype.a3q=function(z,J,p){if(z==null)z=!1;
var n=this.f;console.log("doCopy",z,J);var B=this.Y0();if(n.Ms==L.MN&&this.tm().pf()){var c=new cD(b.E.H,!0);
c.l=L.MN;c.data={R:"copyText"};this.a(c);return}if(B.Y.length==1&&ex==2){var t=B.U[B.Y[0]].J;if(t.Y.length==0)return;
var u=[];for(var g=0;g<t.Y.length;g++)u.push(t.list[t.Y[g]]);jo.Ht(new Blob(["ncb;"+JSON.stringify(u)],{type:"text/plain"}));
return}if(B==null||B.Y.length==0&&!z)return;var v=B.U[J==null?B.Y[0]:J],A=B.Q8(),$=A[0],X=A[1],U=$[X[0]];
if(!z&&U!=null&&U.add.vmsk.Y.length!=0&&ex==0){var w=L.YG.XQ(U.add.vmsk,U.add.vogk);if(q.Cm()){w[0]=iV.a5K(w[0]);
var P="vcb;"+JSON.stringify(w);jo.Ht(new Blob([P],{type:"text/plain"}))}else n.Bc=w;return 1}else if(B.M==null){if(q.Cm()){var P="lrs;"+this.U4.indexOf(B)+";"+JSON.stringify(B.Y);
jo.Ht(new Blob([P],{type:"text/plain"}))}}else{var k,T;if(z){var Z=new fw(0,0,B.r,B.$);T=Z.ly(B.M.S);
k=a.j(T.C()*4,B.depth);a.nk(B.dT(),Z,k,T);a.ph(B.M.N,B.M.S,k,T)}else if(B.dX.length!=0){T=B.M.S.P();
k=a.j(T.C()*4,B.depth);var i=B.b8[B.dX[0]],V=i.TJ(T);a.eG(V,k);a.DE(B.M.N,k,3)}else{var _=v.xB(B,B.M);
if(_==null){alert("Copied area is empty");return}k=_.sM;T=_.S}var y=B.i.Az,E=y[0]+y[1]+y[2];if(E==1){var F=y.indexOf(1);
for(var g=0;g<k.length;g+=4)k[g]=k[g+1]=k[g+2]=k[g+F]}var d=new i_(B.r,B.$);if(q.Cm()&&p!=!0){var x=kL.V5("PNG").tv(k.buffer,T.r,T.$,B.depth);
jo.Ht(new Blob([new Uint8Array(x)],{type:"image/png"}));this.ayf={Dm:T,Ln:d}}else n.ic={buffer:k,S:T,Ln:d};
n.ax0=T.P();n.Bc=null;var c=new cD(b.E.wR);c.data={rK:"copyEvent",ES:!0};this.a(c)}};g9.prototype.aKv=function(z,J,p){if(J)this.aus=!0;
console.log("doPaste");var n=this.f,B=n.ic,c=this.$g,A;if(this.U4.length==0){if(!z&&q.Cm()){jo.E8(this,null);
return}if(B){var t=kL.su("image.p"+"sd",[{data:B.buffer.buffer,eE:B.S}]),u=new cD(b.E.c);u.data={R:b.J.Rt,CT:t};
this.a(u)}return}var t=this.Y0();if(n.Ms==L.MN&&this.tm().pf()){jo.E8(this,null);return}var v=t.U[t.Y.length==0?t.U.length-1:t.Y[0]];
if(n.Bc){var $=t.Q8(!0),X=$[0],U=$[1];A=X[U[0]]}var u=new cD(b.E.H,!0);if(n.Bc!=null&&A!=null){u.l=L.q4;
u.data={R:"append",cN:"Paste Paths",akg:n.Bc}}else if(!z&&q.Cm()&&p!=!0){var w=navigator.userAgent.toLowerCase();
jo.E8(this,this.aiw.bind(this));return}else{if(B==null)return;if(t.AM(!1)&&(t.i.Az.join("")!="111"||t.dX.length!=0||v.uB>0||v.S.Sz())){u.l=L.na;
u.data={R:"draw",a70:!0,cN:[5,2]}}else{u.l=L.bX;u.data={R:bi.HI,a6d:this.aus};this.aus=!1}u.data.ic=B;
if(B.S.x==0&&B.S.y==0){var P=t.i.B7,k=t.i.cE(t.r/2,t.$/2),T=t.r-B.S.r,Z=t.$-B.S.$;if(P.n9(k)){var i=t.oq();
if(i==-1){B.S.x=T>>1;B.S.y=Z>>1}else{var V=t.U[i].x0();B.S.x=Math.floor((V.r-B.S.r)/2);B.S.y=Math.floor((V.$-B.S.$)/2)}}else{k=t.i.Ka(P.r/2,P.$/2);
console.log(k);B.S.x=Math.max(0,Math.min(T,Math.round(k.x-B.S.r/2)));B.S.y=Math.max(0,Math.min(Z,Math.round(k.y-B.S.$/2)))}}}this.a(u);
var u=new cD(b.E.wR);u.data={rK:"paste",ES:!0};this.a(u)};g9.prototype.aGB=function(){var z=this.f.rf;
if(z.a65())return;for(var g=0;g<this.U4.length;g++){var J=this.U4[g];if(!hk.qs(J,z,this))continue;if(J.Uq)hk.Lh(J,z,this);
var p=J.add.lnk2;if(p)for(var n=0;n<p.length;n++){var B=p[n];if(B.Uq)L.vJ.E9(J,B.A_,B,B,z)}if(J.aiL)continue;
J.aiL=!0;if(J.c$&&J.c$.awS)ce.o_(J.c$.awS,this);this.Gl();var c=new cD(b.E.H);c.l=L._f;c.data={R:"start",mz:"blurbTransform"};
c.data={R:"start",mz:"rigidTransform"};c.data={R:"start",mz:"perspectiveWarpTransform"};var t=new cD(b.E.c);
t.data={R:b.J.n6,i9:bb.yK.yU};t.data={R:b.J.Ym,i9:"saveforweb",el:3,Ij:16711935,tS:4,index:[10,0]}}};
g9.prototype.X4=function(z){this.aEX();var J=this.f,p=J.Ms,u=!1;if(z==iQ.Pr){if(this.Z.map[p].nS)this.Z.map[p].nS.Sc(J,z)}else for(var n in this.Z.map)if(this.Z.map[n].nS)this.Z.map[n].nS.Sc(J,z);
if(z==iQ.OT){if(p!=L.MN)this.Z.map[L.MN].l.Sc(J,z);this.aGB()}this.b0.Sc(J,z);this.Sr.Sc(J,z);this.q7.Sc(J,z);
if(ex==1&&z==iQ.m7){var B=new cD(b.E.H,!0);B.l=L.bX;B.data={R:bi.Ol};this.a(B)}else this.tm().Sc(J,z);
this.td.Sc(J,z);this.MR.Sc(J,z);if(ex==1)this.qh.Sc(J,z);if(ex==2)this.sp.Sc(J,z);if(z==iQ.NM||z==iQ.hl){j4.alK(J.y3);
this.update(!0)}var c=J.ko,t=c.uA.Font;if(z==iQ.N3&&t!=null&&c.W5[t].Name!=J.font){J.font=c.W5[t].Name;
u=!0}if([iQ.OO,iQ.$w,iQ.Rn,iQ.Hm,iQ.qV,iQ.j5,iQ.nc,iQ.lr,iQ.B5,iQ.Qm,iQ.wI,iQ.xZ,iQ.Kx,iQ.uX,iQ.NM].indexOf(z)!=-1||u)this.a0B()};
g9.prototype.a0B=function(){if(!this.vR)return;var z=[],J=this.Z.map;for(var p in J){var n=J[p].l;if(n.UB&&n.UB()!=null)z.push(parseInt(p),n.UB())}var B=this.f,c=B.Uc,t={};
if(c.Gc!=8421504)t.gc=c.Gc;if(c.tO!=65535)t.uc=c.tO;if(c.ab!=33023)t.lc=c.ab;if(c.rq!=20)t.gs=parseFloat(c.rq.toFixed(2));
if(c.WL!=0)t.gv=parseFloat(c.WL.toFixed(2));if(c.bB!=1)t.gn=c.bB;if(c.LK!=0)t.gu=c.LK;if(c.Ku!=0)t.gt=c.Ku;
if(c.zk!=0)t.ru=c.zk;if(c.eQ!=!1)t.gr=c.eQ?1:0;if(c.r_!=!0)t.gd=c.r_?1:0;if(c.nI!=!0)t.se=c.nI?1:0;if(c.$n!=!0)t.pa=c.$n?1:0;
if(c.Lu!=!0)t.pg=c.Lu?1:0;if(c.Cy!=!0)t.sl=c.Cy?1:0;var u={};if(B.Nb!=0)u.fc=B.Nb;if(B.Gh!=16777215)u.bc=B.Gh;
if(B.v5!=!1)u.ru=B.v5?1:0;if(B.NO!=!0)u.ex=B.NO?1:0;if(B.RY.length!=0)u.ff=B.RY.join(",");if(B.wo.length!=0)u.rs=B.wo.join(",");
if(B.y3!=1)u.theme=B.y3;if(B.bH!=0)u.co=B.bH;if(B.font!=null&&B.font!="DejaVuSans")u.fo=B.font;var v=bb.aH7(B.e8);
if(v.length!=0)u.pd=v;if(z.length!=0)u.to=z;if(j0.jH()!="en")u.lang=j0.jH();if(Object.keys(t).length!=0)u.ep=t;
var A=j8.nF();if(A==null)A={};A.globals=u;j8.GG(A)};g9.prototype.uY=function(z){var J=this.$g,p=this.ku,n=this.f.Ms,B=this.Z.map[n].l,c=null,t=!1;
for(var g=0;g<this.Z.aBd.length;g++){var u=this.Z.aBd[g],v=!0;for(var A=0;A<u.wA.length;A++){var $=u.wA[A];
if(!J.Q($))v=!1}if(v&&(!u.xV||!B.pf())&&(u.rP==null||u.rP.indexOf(n)!=-1)){c=u.l;t=u.xV;break}}if((!p.Wj||n==L.Vq||z)&&this.Z.TM!=c&&(c!=n||!t)){var X=this.Y0();
if(this.Z.TM!=null&&c==null)this.tm().disable(X,this,this.f,J,!0);this.Z.TM=c;this.tm().enable(X,this,this.f,J,c!=null&&c!=n)}};
g9.prototype.vl=function(z){var J=this.f.Ms,p=this.Y0();if(J!=null){this.Z.map[J].l.disable(p,this,this.f,this.$g)}};
g9.prototype.aft=function(z){if(z.nS==null){z.nS=new z.kB(z.l.id);z.nS.a0l(z.l.id,z.l.Ez);z.nS.Sc(this.f,iQ.hl);
z.nS.T()}};g9.prototype.Yu=function(z,J){for(var g=0;g<this.U4.length;g++)this.U4[g].Cr(!0);if(z==L.dt&&this.q7.Bi())return;
var p=this.Y0(),n=this.f;if(this.Z.map[z].l.XH(p,n,J)){this.vl();if(z!=n.Ms)this.Z.aKP=n.Ms?n.Ms:L.vX;
n.Ms=z;this.Sr.Yu(n.Ms);var B=this.Z.map[z];this.Z.PJ[B.g9]=B.aKm;this.aft(B);this.Df.aib(ex==0?B.nS:ex==1?this.qh:this.sp);
var c=B.l;c.enable(p,this,this.f,this.$g,!1,J);if(p)p.JS=!0;this.Qn();this.lt.akh()}};g9.prototype.tm=function(z){var J=this.Z,p=J.Ow,n=J.TM,B=this.f.Ms;
if(p)B=p;else if(n&&z==null)B=n;return J.map[B].l};g9.prototype.aoM=function(z){var J=this.f,p=this.U4.indexOf(z);
if(p!=-1){this.b0.JW(p);return}if(this.als&&(z.c$==null||z.c$.G4==null)){z.c$={G4:this.als}}if(z.oT==null){z.oT="local,"+this.aJX+","+z.name;
this.aJX++}z.adh=Date.now();if(ex==1&&z.add.arts==null)z.apE();if(hx.Ue()!=0&&!this.aDC&&q.Ps[q.DX("t$&!'31")].toString().indexOf(q.DX(" u,$4&"))==-1){alert(q.DX("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var g=0;g<z.U.length;g++){var n=z.U[g];if(n.add.SoLd!=null){}}var B=z.U.length,c=iX.BW(),t=Math.PI*(8e3<<14)+(q.cR(31)?20:10)*7e7;
if(c>t){var B=z.U.length;z.U=[];return B}if(co.Pw){co.oV(Math.max(z.r,z.$),z.depth);for(var g=0;g<z.U.length;
g++){var n=z.U[g];if(n.Zg())co.oV(Math.max(n.S.r,n.S.$))}}z.K6();z.m4();if(z.agw)z.aq9();else z.qM();
z.agw=!1;this.U4.push(z);this.b0.oY(new hY(z));z.JS=!0;z.eO=!0;this.aGB();if(this.ahM)this.Dj(1);var u=new cD(b.E.H);
u.l=L.Vi;u.data={R:"auto",asr:2}};g9.prototype.Y0=function(){return this.U4[this.aKk]};g9.prototype.aKf=function(){return this.q7.Bi()==null};
g9.prototype.sg=function(z,J){this.vl();var p=this.U4.length;if(J!=null)this.b0.JW((this.b0.xw()+J+p)%p);
this.aKk=this.b0.xw();var n=this.Y0();this.MR.AU(n,this.f);if(ex==1)this.qh.AU(n,this.f);if(ex==2)this.sp.AU(n,this.f);
this.td.DK(n,this.U4,this.f);this.Qn();if(n)n.JS=!0};g9.prototype.aA$=function(z){this.vl();var J=this.U4,p=J[z.data.nx];
J.splice(z.data.nx,1);if(J.length==0){this.sg(z);var n=co.za(),B=hY.dN.rU;if(n.parentNode)n.parentNode.removeChild(n);
if(B.parentNode)B.parentNode.removeChild(B)}this.aGf(p.name)};g9.prototype.aGf=function(z){var J=this.f.P$,p=!1;
if(J.RQ==null)return;for(var n in J.JN){if(z==null||n==z){delete J.JN[n];p=!0}}if(p){var B=new cD(b.E.c);
B.data={R:b.J.bS,Xu:iQ.Bz,aI6:!0};this.a(B)}};g9.prototype.a4f=function(z){var J=[],p=z.data.a2z;for(var g=0;
g<p.length;g++)J[g]=this.U4[p[g]];this.U4=J;this.aKk=this.b0.xw()};g9.prototype.a7Z=function(z){var J=this.b0,p=J.axk(),n=this.tm(),B=this.Y0();
if(p==J.xw()||!n.amb())return;this.arI(p,n)};g9.prototype.arI=function(z,J){console.log("dup2doc");var p=this.f,n=this.b0,B=this.Y0(),c=this.U4[z],t,u=new cD(b.E.H,!0);
u.l=L.bX;if(B.M==null){u.data={R:bi.jt,U:B.pL(null,!0),N6:B,q9:c,at9:J==null};this.a(u)}else t=B.U[B.Y[0]].xB(B,B.M);
var v=this.ku,A=p.v5;p.v5=!1;v=B.i.Ka(v.x,v.y);if(J)J.zA(B,this,p,this.$g);n.JW(z);if(B.M){u.data={R:bi.HI,ic:{buffer:t.sM,S:t.S}};
this.a(u)}v=c.i.cE(v.x,v.y);if(J)J.lW(c,this,p,this.$g,v);p.v5=A};g9.prototype.axK=function(z){var J=this.Y0(),p=this.$g,n=this.f,B=z.OJ;
if(B)this.ku=B;if(B)B.y-=n.bH;if(this.aeu==null)this.aeu=0;if(z.action=="multidown"){this.jC=z.H1.length;
this.aeu=Date.now()}if(z.action=="up"&&Date.now()-this.aeu<100){var c=new cD(b.E.H);c.l=L.Mj;c.data={R:this.jC==2?"h_stepbck":"h_stepfwd"};
this.a(c)}if(z.action.startsWith("multi")){var t=new cD(b.E.H,!0);t.data={R:z.action,H1:z.H1};t.l=L.KZ;
this.a(t);return}var u=this.Z.map[L.vX].l;if((z.action=="down"||z.action=="rdown")&&n.Ms!=L.vX&&this.Z.TM!=L.vX&&u.a1M(J,this,n,p,B)){this.Z.Ow=L.vX;
u.enable(J,this,n,p,!0)}if(z.action=="idown"){p.aH("Space");this.uY(!0);z.action="down"}var v=this.q7.Bi(),A=v!=null&&v.AY()&&this.Z.TM==null?v:this.tm();
if(z.action=="scroll"){var $=!p.Q(l5.zT)&&z.mM,X=p.Q(l5.W0);if(window.locStor.getItem("__zwh")=="1")X=!X;
var t=new cD(b.E.H,!0);t.data={R:"scroll",lB:z.lB.P(),OJ:B,a2b:$};t.l=X||$?L.KZ:L.$N;this.a(t)}if(v!=null&&A!=v&&this.q7.pf()&&A.id!=L.$N&&A.id!=L.KZ)return;
if(z.action=="down")A.lW(J,this,n,p,B);if(z.action=="rdown")A.XJ(J,this,n,p,B);if(z.action=="move")A.dV(J,this,n,p,B);
if(z.action=="up"||z.action=="iup"||z.action=="cancellast")A.mI(J,this,n,p,B,z.action=="cancellast");
if(z.action=="rup")A.uH(J,this,n,p,B);if(z.action=="iup"){p.Un("Space");this.uY(!0)}if(z.action=="cancellast"){if(J&&J.history.length!=0&&Date.now()-J.history[J.history.length-1].aht<200){var c=new cD(b.E.H);
c.l=L.Mj;c.data={R:"h_stepbck"};this.a(c)}}var U=this.td;if(z.action=="down")U.lW(J,this,n,p,B);if(z.action=="move")U.dV(J,this,n,p,B);
if(z.action=="up")U.mI(J,this,n,p,B);if(z.action=="down"||z.action=="up"){this.uY()}if(z.action=="down"||z.action=="up"||z.action=="ctx"){J.JS=!0}if((z.action=="up"||z.action=="rup")&&this.Z.Ow){this.Z.Ow=null;
u.disable(J,this,n,p)}if(J&&n.v5)J.eO=!0};g9.prototype.Lf=function(z){var J=this.Y0(),p=this.ku;if(J&&this.tm().Ae(p,this.$g)){var n=J.i,B=n.B7.r,c=n.B7.$,t=0,u=0,v=16;
if(p.x<v)t=v-p.x;if(p.x>B-v)t=p.x-(B-v);if(p.y<v)u=v-p.y;if(p.y>c-v)u=p.y-(c-v);var A=this.$g.Q(l5.VN)?8:1;
if((t!=0||u!=0)&&(J.r*n.XP>B||J.$*n.XP>c)){t=Math.min(5,t*.5)*A;u=Math.min(5,u*.5)*A;if(p.x>v)t=-t;if(p.y>v)u=-u;
n.p.x+=t;n.p.y+=u;this.axK({OJ:this.ku,action:"move"});J.SR=!0}}this.update()};g9.prototype.update=function(z){var J=this.Y0();
if(J==null)return;if(ex!=0){if(J.buffer)throw"e"}if(J.JS){var p=this.Z.map;for(var n in p){if(p[n].l.BL)p[n].l.BL(J,this,this.f,this.$g)}if(ex==1){p[L.PO].l.BL(J,this,this.f,this.$g,!0)}}if(J.eo&&ex==0)if(co.Pw)co.oV(Math.max(J.r,J.$));
if(J.eo&&ex==0){J.TQ()}if(ex==2&&J.J.g3){var B=J.i.lm();B.oU();J.i.p.x=-Synth.auS(Speaker.getTime(),J)*B.k6;
J.eO=!0}var c=J.i,t=this.Fd,u=this.Fd=Date.now();if(J.eo||J.g5||J.eO||J.SR||z||c.HB!=c.XP||!c.fi.Vm(c.p)){var v=c.HB;
if(c.HB!=c.XP){var A=L.gf.arJ(c.XP,c.HB>c.XP),$=.12;if(c.HB<c.XP&&c.HB<A)c.HB=A;if(c.HB>c.XP&&c.HB>A)c.HB=A;
var X=Math.abs(c.XP-A)*(u-t)*.001/$;if(c.HB<c.XP)c.HB=Math.min(c.XP,c.HB+X);else c.HB=Math.max(c.XP,c.HB-X)}var U=v==c.XP?0:(c.HB-c.XP)/(v-c.XP);
c.fi.x=c.p.x+U*(c.fi.x-c.p.x);c.fi.y=c.p.y+U*(c.fi.y-c.p.y);this.b0.Sc(this.f,null);this.b0.DK(J,this.U4)}if((J.eo||J.SR||J.JS)&&(!this.ku.Wj||J.Pb)){if(J.JS)J.m4();
this.td.DK(J,this.U4,this.f);this.Sr.awH(J,this.$g);if(ex==1)this.qh.DK(J);J.Km=!1}J.Pb=!1;J.JS=!1;J.eo=null;
J.g5=J.eO=J.SR=!1};g9.prototype.vk=function(z){var J=z.target.tagName.toLowerCase(),p=z.target.getAttribute("type"),n=l5,B=n.Oh(z.code,n.Kd);
if(!((J=="input"||J=="select"||J=="button")&&n.Oh(z.code,n.dD))){if(n.akV(z)&&J!="select"){z.preventDefault()}this.$g.aH(n.tw(z));
this.qA("down")}};g9.prototype.RH=function(z){var J=this.$g;if(z.key==" ")J.aJ();if(l5.Oh(z.code,l5.aae))J.reset();
J.Un(l5.tw(z));J.aBI(z.getModifierState("CapsLock"));var p=z.target.tagName.toLowerCase();if(l5.akV(z)&&p!="select"){z.preventDefault()}this.qA("up")};
g9.prototype.qA=function(z){var J=this.$g,p=this.Y0(),n=p!=null&&p.Y.length!=0;if(this.$X.Bi()!=null){if(J.Q(l5.Mz)||J.Q(l5.Kd)){this.$X.aBV()}return}this.uY();
var B=this.Z_(l5.zT),c=J.Q(l5.W0),t=J.Q(l5.VN);if(B&&J.Q(l5.Lg)&&z=="down"){var u=new cD(b.E.H),v=new cD(b.E.c);
u.l=L.Mj;if(t){u.data={R:"h_stepfwd"}}else{u.data={R:"h_stepbck"}}if(this.q7.Bi()!=null&&this.q7.Bi().pf()){}else this.a(u)}if(B){var u=new cD(b.E.H),A=new cD(b.E.wR),v=new cD(b.E.c);
if(J.Q(l5.vn)&&J.Q(l5.Vh)){v.data={R:b.J.Ym,i9:"storwindow"};this.a(v)}if(!c&&z=="down")for(var $ in fs.keys){var X=fs.keys[$],U=!0;
for(var g=0;g<X.length;g++)if(!J.Q(X[g]))U=!1;if(U){u.l=L.Vi;if($=="hue2"&&t&&p.U[p.Y[0]].add.SoLd==null)u.data={R:"auto",asr:3};
else u.data={R:"start",Fc:$}}}if(J.Q(l5.J)){if(c){A.data={rK:"selectAllLayers",m$:{classID:"null",null:dB.DG("Lyr",!0)}}}else if(ex==2){var w=p.U[p.Y[0]];
if(w){w.J.Y=[];for(var g=0;g<w.J.list.length;g++)w.J.Y.push(g);p.eO=!0}}else A.data=L.gL.aj(!0)}if(J.Q(l5.mf)){if(c)v.data={R:b.J.Ym,i9:"csize"};
else if(p)v.data={R:b.J.dx,L5:t}}if(J.Q(l5.Qx)&&p.M){A.data=L.gL.aj()}if(J.Q(l5.E)&&z=="down"){if(t)A.data={rK:"mergeVisible"};
else if(hZ.d3(p).e)A.data={rK:"mergeLayersNew",m$:{__name:"Merge Layers",classID:"Mrg2"}}}if(J.Q(l5.Q9)){if(t&&this.f.Ms!=L.dt)v.data={R:b.J.Ym,i9:"afw_fade"};
else if(c){u.l=L._f;u.data={R:"applylast"}}else v.data={R:b.J.ZG}}if(J.Q(l5.BT)){if(c&&p&&p.em(p.Y[0])){u.l=L.bX;
u.data={R:bi.S5}}else{u.l=L.bX;u.data={R:bi.wW,UY:t}}}if(ex==1&&J.Q(l5.Qe)){u.l=L.bX;u.data={R:bi.wW,$Z:!0,UY:c}}if(J.Q(l5.$T)){v.data={R:b.J.bS,Xu:iQ.j5}}if(J.Q(l5.vn)){if(t){u.data=null;
if(c)v.data={R:b.J.Ym,i9:"finfo"};else A.data={rK:"inverse"}}else if(c)v.data={R:b.J.Ym,i9:"isize"}}if(J.Q(l5.Z7)){A.data={rK:(t?"cut":"copy")+"ToLayer"}}if(J.Q(l5.ZA)){v.data={R:b.J.Ym,i9:"preferences"}}if(J.Q(l5.EL)){if(t){u.l=L.bX;
u.data={R:bi.JX}}else if(z=="down")v.data={R:b.J.Ym,i9:"newproject"}}if(J.Q(l5.XT)){if(c)v.data={R:b.J.Ym,i9:"storwindow",th:0};
else{v.data={R:b.J.iC};J.reset()}}if(J.Q(l5.zW)){v.data={R:b.J.Ym,i9:"saveforweb",tS:3,a7H:!0}}if(J.Q(l5.yK)){v.data={R:b.J.bS,Xu:iQ.qV}}if(J.Q(l5.jY)&&z=="down"){if(t){if(c)v.data={R:b.J.Ym,i9:"saveforweb"};
else v.data={R:b.J.DN}}else v.data={R:b.J._2}}if(J.Q(l5.GJ)){if(t){u.l=L.bX;u.data={R:bi.Kb};this.a(u);
u.l=L.dt;u.data={R:"again"}}else v.data={R:b.J.OS,l:L.dt}}if(J.Q(l5.vH)){v.data={R:b.J.RP}}if(J.Q(l5.agZ)){this.b0.t2()}if(J.Q(l5.bI)&&p&&(p.a4k()||ex==2)){v.data={R:b.J.vE}}if(J.Q(l5.AT)&&p){u.l=L.KZ;
u.data={R:"prvw"}}if(J.Q(l5.qN)||J.Q(l5.Es)){u.l=L.bX;u.data={R:bi.qv,el:0};if(J.Q(l5.qN))u.data.el=t?3:2;
else u.data.el=t?0:1}if(J.Q(l5.ZE)&&p&&p.Y.length!=0){var P=p.U[p.Y[0]].LE();A.data={rK:P?"hide":"show",m$:{classID:"null",null:{t:"VlLs",v:[dB.DG("Lyr",!0)]}}}}if(J.Q(l5.Kd)&&p){var k=0;
if(t)k++;if(c)k+=2;u.l=L.Wu;u.data={R:"frompath",qY:[null,0,k]}}if(J.Q(l5.Cc)){A.data=L.d_.Jd(0)}if(J.Q(l5.dD)){var T=this.U4.length,Z=J.Q(l5.VN)?-1:1;
if(T>1)this.b0.JW((this.b0.xw()+T+Z)%T)}if(J.Q(l5.am)){v.data={R:b.J.bS,Xu:iQ.lr}}if(J.Q(l5.mw)){v.data={R:b.J.bS,Xu:iQ.B5}}L.gf.auX(J,u);
if(this.q7.Bi()!=null&&this.q7.Bi().pf()){}else{if(u.data)this.a(u);if(A.data)this.a(A);if(v.data)this.a(v)}}if(!B&&c){var i;
if(J.Q(l5.qN))i="Bckw";if(J.Q(l5.Es))i="Frwr";if(J.Q(l5.ZE))i="Back";if(J.Q(l5.Cc))i="Frnt";if(i){var A=new cD(b.E.wR);
A.data={rK:"select",m$:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:i}}]},MkVs:{t:"bool",v:!1}}};
this.a(A)}}if(p&&p.Y.length!=0){var w=p.U[p.Y[0]],V=w.uB;if(V==1||V==3||B){var u=new cD(b.E.H),_=V==3?w.g6(p).T4:w.Qu();
if(_){var y=_.m6?p.i.Az.join("")=="111"?1:2:0;u.l=L.KZ;if(_&&J.Q(l5.Mz)&&y!=0){u.data={R:"mskView",K:0}}if(_&&J.Q(l5.aBi)){u.data={R:"mskView",K:y==1?0:1}}if(_&&J.Q(l5.a6D)){u.data={R:"mskView",K:y==2?0:2}}if(u.data)this.a(u)}}}var E=J.IU();
if(p&&B&&2<=E&&E<=5){var F=[1,1,1];if(E>2){F=[0,0,0];F[E-3]=1}var d=new cD(b.E.H,!0);d.l=L.$N;d.data={R:"setcls",Az:F};
this.a(d)}if(!J.Q(l5.zT)&&!c&&z=="down"){var u=new cD(b.E.H),v=new cD(b.E.c),x=this.Z.map[this.f.Ms],f=-1;
for(var g=0;g<this.Z.keys.length;g++)if(this.Z.keys[g]&&this.Z_(this.Z.keys[g]))f=g;if(f!=-1){var Q=null;
if(x.g9!=f)Q=this.Z.PJ[f];if(x.g9==f&&t)Q=(x.aKm+1)%this.Z._X[f].length;if(Q!=null){var m=this.Z._X[f][Q].l.id,H=this.f.DV;
if((H==null||H.indexOf(parseInt(m))!=-1)&&!this.ku.Wj)v.data={R:b.J.OS,l:m}}}if(J.Q(l5.$T))v.data={R:b.J.OS,l:L.$N};
if(J.Q(l5.yK))v.data={R:b.J.OS,l:L.Rq};if(J.Q(l5.bI))v.data={R:b.J.bS,Xu:iQ.Hm,el:2};if(J.Q(l5.Qx))v.data={R:b.J.bS,Xu:iQ.Hm,el:3};
if(v.data)this.a(v);if(J.Q(l5.aCi)&&p&&p.Y.length==1){var w=p.U[p.Y[0]];u.l=L.bX;var S=w.iF(0)||w.iF(1)||w.iF(2)||w.iF(31);
u.data={R:bi.tt,gW:S?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[0]]};this.a(u)}var E=J.IU();if(n&&E!=-1&&this.Z_(l5.OL[E])){var R=p.Y[0],w=p.U[R],I=l5.alG(Math.round(100*w.YF/255),E);
u.l=L.bX;u.data={R:bi.I9,gW:Math.round(255*I/100)};this.a(u)}var D=this.f.gK;if(J.Q(l5.dD)){v.data={R:b.J.Zw,K:D==0?1:0};
this.a(v)}if(J.Q(l5.Q9)||J.Q(l5.Mz)&&D==2){var G=document.fullscreenElement!=null==(D==2);v.data={R:b.J.Zw,K:D==0?2:0,cq:G};
this.a(v)}if(J.Q(l5.a2D)&&!this.ku.Wj){u.l=L.Wu;u.data={R:"qmask"};this.a(u)}}if(!J.Q(l5.zT)&&!c&&t){var u=new cD(b.E.H),v=new cD(b.E.c);
if(J.Q(l5.ZE))v.data={R:b.J.Ym,i9:"shortcuts"};if(J.Q(l5.aE1))v.data={R:b.J.Ym,i9:"fill"};if(J.Q(l5.aE$))v.data={R:b.J.Ym,i9:"sel_feather"};
if(n&&(J.Q(l5.xg)||J.Q(l5.a6))){var R=p.Y[0],w=p.U[R],C=jM.Bk,O=C.length,Y=C.indexOf(w.QN);u.l=L.bX;
u.data={R:bi.Sd,gW:(Y+O+(J.Q(l5.xg)?1:-1))%O};this.a(u)}if(v.data)this.a(v)}var u=new cD(b.E.H),h=z=="down"&&(this.Z_(l5.mP)||this.Z_(l5.IB));
if((B||c)&&h){u=new cD(b.E.wR);u.data=L.SD.tR(B?"BckC":"FrgC");this.a(u)}else if(this.q7.Bi()==null&&p&&h&&!this.ku.Wj){if(p.M!=null){u=new cD(b.E.wR);
u.data={rK:"delete"}}else if(p.Y.length!=0){var w=p.U[p.Y[0]];if(w.uB==1)u.data={R:bi.cf};else if(w.uB==3)u.data={R:bi.C9};
else u.data={R:bi.W3};u.l=L.bX}this.a(u)}if(this.q7.Bi()!=null){if(J.Q(l5.Mz)){this.q7.Bi().ahE()}else{this.q7.Bi().qA(p,this,this.f,J)}}if(this.f.Ms==null)return;
var x=this.tm();if(this.q7.Bi()==null||this.Z.TM)x.qA(p,this,this.f,J)};g9.prototype.Z_=function(z){var J=this.$g,p=this.Z.map[this.f.Ms].l,top=this.q7.Bi(),n=this.Y0();
return J.Q(z)&&!p.LA(z,n)&&(top==null||!top.LA(z,n))};g9.prototype.Dj=function(z){var J=this.a85,p=this.eu;
this.f.gK=z;var n=q.SA,B=this.MR._;if(n(B))this.zx.removeChild(B);var c=this.Df._;if(n(c))this.zx.removeChild(c);
var t=this.Sr._;if(n(t))J.removeChild(t);var u=this.b0._;if(n(u))J.removeChild(u);var v=this.td._;if(n(v))J.removeChild(v);
if(z==0){this.zx.appendChild(B);this.zx.appendChild(c);p.appendChild(J);J.appendChild(t);J.appendChild(u);
J.appendChild(v)}if(z==1){this.zx.appendChild(B);J.appendChild(u)}if(z==2){J.appendChild(u)}this.b0.Dj(z==2?1:0);
this.Qn()};g9.prototype.a4V=function(z){if(this.aq())return 1;if(q.aBr()==0){this.f={};this.B$=function(J,p){return Math.sqrt(J*p)}}return-1};
g9.aKI=function(){var z=ex==0?[[{l:new L.DJ,kB:ai},{l:new L.Mb,kB:ll}],[{l:new L.om,kB:jm,qb:0},{l:new L.cK,kB:g6,qb:0}],[{l:new L.Jv,kB:h0,qb:0},{l:new L.zU,kB:aW,qb:0},{l:new L.Le,kB:iE,qb:0}],[{l:new L.Tn,kB:gG,qb:0},{l:new L.pc,kB:ct,qb:0},{l:new L.T2,kB:bk,qb:0}],[{l:new L.aBu,kB:eR},{l:new L.aBz,kB:ca},{l:new L.Xk,kB:hb,qb:0},{l:new L.a5,kB:eG,qb:0}],[{l:new L.IY,kB:aF},{l:new L.Zc,kB:cJ,qb:0},{l:new L.rb,kB:eZ}],[{l:new L.NP,kB:j5,qb:0},{l:new L.Ux,kB:j$,qb:0},{l:new L.Jv(!0),kB:dg,qb:0},{l:new L.ts,kB:es,qb:0},{l:new L.aJe,kB:fv,qb:0},{l:new L.Zv,kB:bq,qb:0}],[{l:new L.sE,kB:fM,qb:0},{l:new L.hv,kB:cb,qb:0},{l:new L.H_,kB:d9,qb:0}],[{l:new L.n0,kB:gi,qb:0}],[{l:new L.Ur,kB:kc,qb:0},{l:new L.jD,kB:j2,qb:0},{l:new L.jG(!0),kB:as,qb:0}],[{l:new L.PK,kB:dV,qb:0},{l:new L.jG,kB:as,qb:0}],[{l:new L.yM,kB:kp,qb:0},{l:new L.MI,kB:jG,qb:0},{l:new L.GX,kB:bx,qb:0}],[{l:new L.X7,kB:gN,qb:0},{l:new L.Td,kB:fb,qb:0},{l:new L.on,kB:f0,qb:0}],[{l:new L.M0,kB:et},{l:new L.LU,kB:et}],[{l:new L.Wc(0),kB:bS},{l:new L.A0,kB:jP},{l:new L.Wc(1),kB:bS},{l:new L.Wc(2),kB:bS},{l:new L.Wc(3),kB:bS},{l:new L.Wc(4),kB:bS}],[{l:new L.nA,kB:ha},{l:new L.o3,kB:lm}],[{l:new L.Rect,kB:iR},{l:new L.xJ,kB:l3},{l:new L.kY,kB:eS},{l:new L.IM,kB:ff},{l:new L.h_,kB:b2}],[{l:new L.Hi,kB:ji},{l:new L.ct,kB:ja}],[{l:new L.gf,kB:ft}]]:ex==1?[[{l:new L.DJ,kB:ai}],[{l:new L.o3,kB:lm}],[{l:new L.Wc(0),kB:bS}],[{l:new L.A0,kB:jP}],[{l:new L.M0,kB:et},{l:new L.LU,kB:et}],[{l:new L.kY,kB:eS}],[{l:new L.Rect,kB:iR},{l:new L.xJ,kB:l3}],[{l:new L.pn,kB:ji}],[{l:new L.c1,kB:dV}],[{l:new L.IY,kB:aF}],[{l:new L.Hi,kB:ji},{l:new L.ct,kB:ja}],[{l:new L.gf,kB:ft}]]:[[{l:new L.a8q(0),kB:ai}],[{l:new L.a8q(1),kB:fM}],[{l:new L.Hi,kB:ji}],[{l:new L.gf,kB:ft}]],u="",v="";
if(ex==0&&!q.dK(1))z[6].splice(2,1);var J=[[l5.vH,l5.Ma,l5.Z5,l5.agZ,l5.mf,l5.vn,l5.Z7,l5.ba,l5.jY,l5.E,l5.BT,null,l5.XT,l5.GJ,l5.zW,l5.J,l5.Vh,l5.$T,l5.Lg],[l5.vH,l5.J,l5.zW,null,l5.GJ,l5.aBi,l5.Ma,null,l5.BT,l5.vn,l5.$T,l5.Lg],[l5.vH,l5.ba,l5.$T,l5.Lg]][ex],p=[{l:L.KZ,xV:!1,wA:[l5.aaj,l5.BE]},{l:L.KZ,xV:!1,wA:[l5.aaj],rP:[L.$N]},{l:L.$N,xV:!1,wA:[l5.BE]},{l:L.$V,xV:!0,wA:[l5.zT],rP:[L.H5]},{l:L.H5,xV:!0,wA:[l5.zT],rP:[L.$V]},{l:L.J7,xV:!0,wA:[l5.zT],rP:[L.q4,L.PO,L.Af]}];
if(ex==0)p.push({l:L.q4,xV:!0,wA:[l5.zT],rP:[L.J7,L.d9,L.XS,L.wt,L._9,L.Sv]});p.push({l:L.vX,xV:!0,wA:[l5.zT]});
var n={aBd:p,_X:z,PJ:[],keys:J,Dt:[{l:new L.aE7,kB:i3},{l:new L.ari,kB:ei},{l:new L.aAm,kB:bt},{l:new L.IY(!0),kB:aF},{l:new L.w5,kB:h5},{l:new L.W4,kB:i1},{l:new L.UH,kB:bW}],a3H:[{l:new L.vJ},{l:new L.History},{l:new L.IC},{l:new L.Wp},{l:new L.Ir},{l:new L.eM}],map:{},aKP:null,TM:null,Ow:null},B=n._X;
for(var g=0;g<B.length;g++){var c=B[g];if(j0=="---")continue;for(var t=0;t<c.length;t++)if(c[t].qb!=null&&c[t].qb!=ex){c.splice(t,1);
t--}if(c.length==0){B.splice(g,1);n.keys.splice(g,1);g--}}for(var g=0;g<n._X.length;g++){var A=n._X[g];
if(A=="---")continue;var $=n.keys[g];for(var t=0;t<A.length;t++){n.map[A[t].l.id]=A[t];A[t].g9=g;A[t].aKm=t;
var X=j0.get(A[t].l.name);v+="<li>"+A[t].l.id+": "+X+"</li>";u+="\t"+JSON.stringify(A[t].l.name)+", "+($?"\""+$.A$+"\"":"null")+", "+A[t].l.id+", // "+X+"\n"}n.PJ[g]=0}for(var g=0;
g<n.Dt.length;g++)n.map[n.Dt[g].l.id]=n.Dt[g];for(var g=0;g<n.a3H.length;g++)n.map[n.a3H[g].l.id]=n.a3H[g];
try{var U=window.locStor.getItem("_ltools");if(U){U=U.split(",");for(var g=0;g<U.length;g++){var w=n.map[U[g]];
if(w&&w.g9!=null)n.PJ[w.g9]=w.aKm}}}catch(l5){alert("could not load the tool preferences");console.log("Last tools: ",window.locStor.getItem("_ltools"))}return n};
function jv(z){lh.call(this);if(z==null)return;this.Tx=null;this.tK=null;this._=q.m("div","sbar"+" "+z);
this.w$=new q.m("div","top");this.w$.innerHTML="> <";this._.appendChild(this.w$);this.bP=1;this.w$.addEventListener("click",this.adA.bind(this),!1)}jv.prototype=new lh;
jv.prototype.adA=function(z){if(this.Tx!=null&&this.Tx<500&&this.bP==0)return;if(this.bP==0)this.GH(!0);
else this.collapse(!0)};jv.prototype.a1v=function(z){this.bP=z;this.w$.innerHTML=this.bP==0?"< >":"> <"};
jv.prototype.ae0=function(){var z=new cD(b.E.c,!0);z.data={R:b.J.DZ};this.a(z)};jv.prototype.GH=function(z){this.a1v(1);
if(z)this.ae0()};jv.prototype.collapse=function(z){this.a1v(0);if(z)this.ae0()};jv.prototype.zf=function(){return this.bP==1};
function aY(z){jv.call(this,"vcolumn");this.fq=z;this.ZK();this.lj=q.m("div","cont");q.v(this.lj,"cursor:default;");
this.a6T=this.aaF.bind(this);this.aFi=this.a6M.bind(this);this.a88=this.apN.bind(this);q.tN(this._,this.a6T);
this._.appendChild(this.lj);this.a0X=q.m("div");this.lj.appendChild(this.a0X);this.QM=-1;this.ag6=q.m("div","float");
var J=this.Kt=q.m("canvas","gsicon"),p=Math.round(12*q.$q());J.width=J.height=p;var n=J.getContext("2d");
n.moveTo(2,2);n.lineTo(p-2,p-2);n.moveTo(2,7);n.lineTo(p-7,p-2);n.stroke();q.v(this.Kt,"position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
q.Ze(this.Kt);q.tN(this.Kt,this.a6T);q.wb(J);this.e$=[];this.aFJ=[];this.a2o=null;this.ZT=null;this.aKt=0}aY.prototype=new jv;
aY.prototype.aaF=function(z){var J=z.target==this.Kt;if(!J){if(z.target!=this._)return;if(!this.zf())return}else{var p=this.e$[this.QM].AW;
p.style.pointerEvents="none";var n=p.getBoundingClientRect();this.a2o=[n.width,n.height];this.aFJ[this.QM]=[n.width,n.height]}z.stopPropagation();
this.ZT=q.bZ(z,document.body);this.aKt=this.fq;q.G3(document,this.aFi);q.ol(document,this.a88)};aY.prototype.a6M=function(z){var J=q.bZ(z,document.body);
if(this.zf()){this.fq=this.aKt+this.ZT.x-J.x;this.ZK()}else{var p=this.aFJ[this.QM],n=this.a2o;p[0]=n[0]+this.ZT.x-J.x;
p[1]=n[1]+J.y-this.ZT.y}var B=new cD(b.E.c,!0);B.data={R:b.J.DZ};this.a(B)};aY.prototype.apN=function(z){if(!this.zf()){var J=this.e$[this.QM].AW;
J.style.pointerEvents="auto"}q.Mt(document,this.aFi);q.eX(document,this.a88)};aY.prototype.aF5=function(z){z.D("showFloat",this.a28,this);
z.D("hideFloat",this.U5,this);this.e$.push(z);z.parent=this;this.lj.appendChild(z._)};aY.prototype.al1=function(g){var z=this.e$[g];
z.removeEventListener("showFloat",this.a28,this);z.removeEventListener("hideFloat",this.U5,this);this.e$.splice(g,1);
z.parent=null;this.lj.removeChild(z._)};aY.prototype.aJu=function(){return this.e$.length};aY.prototype.j8=function(){for(var g=0;
g<this.e$.length;g++)this.e$[g].j8()};aY.prototype.a28=function(z){this.j8();var J=this.ag6;this.a0X.appendChild(J);
this.QM=this.e$.indexOf(z.currentTarget);var p=this.e$[this.QM].AW;q.X0(J);J.appendChild(p);J.appendChild(this.Kt);
this.B$(this.Tx,this.tK)};aY.prototype.U5=function(z){this.j8();if(this.QM!=-1){this.a0X.removeChild(this.ag6);
this.QM=-1}};aY.prototype.ZK=function(){function z(J){return Math.round(J*q.$q())/q.$q()}q.v(this._,"width: "+this.fq+"px; border-left-width:"+z(4)+"px; cursor:ew-resize;")};
aY.prototype.GH=function(z){this.ZK();this.U5();for(var g=0;g<this.e$.length;g++)this.e$[g].GH();jv.prototype.GH.call(this,z)};
aY.prototype.collapse=function(z){this._.removeAttribute("style");for(var g=0;g<this.e$.length;g++)this.e$[g].collapse();
jv.prototype.collapse.call(this,z)};aY.ag_=11;aY.prototype.B$=function(z,J,p){this.Tx=z;this.tK=J;J-=aY.ag_;
var n=this.e$.length;if(n==0)return;this.lj.style.height=J-1+"px";if(!this.zf()){var B=J<400?J:400+(J-400)*.5,c=Math.max(this.fq,(window.innerWidth-350)/3);
for(var g=0;g<n;g++){var t=this.e$[g],u=this.aFJ[g];t.B$(u?u[0]:t.a6w?c:this.fq,u?u[1]:B,p)}}else{var v=J;
for(var g=0;g<n;g++){var t=this.e$[g],A=t.acn();if(g==n-1){A=v;t._.style.borderBottom="none"}t.B$(this.fq,A);
v-=A+4}}};function gX(z){lh.call(this);this._=q.m("div");this.lj=null;this.hM=0;this.k2=0;this.a2B=z;
this.auG=this.Zf.bind(this);this.ac1=this.Is.bind(this);this.a5S=this.fW.bind(this);this.QX=null;this.aX=null;
this.an4=null;var J=this._,n="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
q.tN(J,this.auG);J.addEventListener("touchmove",q.ZM,!1);this.aqg=!0;this.cm=[];var p=this.aHo=q.m("div");
q.v(p,"float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");J.appendChild(p);
var B=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",n+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",n+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",n+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var g=0;g<B.length;g++){var c=new eq(B[g]);this.cm.push(c);q.v(c._,"margin-left:"+(g<7?4:0)+"px;cursor:pointer;");
c.D("click",this.RZ,this)}}gX.prototype=new lh;gX.prototype.T=function(){var z=this.aHo;q.X0(z);for(var g=0;
g<this.cm.length;g++){var J=this.cm[g];if(g<5)J.T();z.appendChild(J._)}};gX.prototype.RZ=function(z){var g=this.cm.indexOf(z.currentTarget);
if(g==0){if(window.showCap)window.showCap();return}var J=" issues learn blog api twitter facebook".split(" "),p=["","//github.com/photopea/"+["photo","vector"][ex]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],n=window.ga;
if(n)n("send","event","Links",J[g]);var B=new cD(b.E.c,!0);B.data={R:b.J.SE,link:p[g]};this.a(B)};gX.prototype.Zf=function(z){if(z.a2s){z.preventDefault();
z.stopPropagation()}var J=window;q.G3(J,this.ac1);q.ol(J,this.a5S);J=this.lj;this.QX=new i_(parseInt(J.style.left),parseInt(J.style.top));
this.aX=q.bZ(z,this._);this.an4=J.getBoundingClientRect()};gX.prototype.Is=function(z){var J=q.bZ(z,this._),p=this.QX.x+J.x-this.aX.x,n=this.QX.y+J.y-this.aX.y,B=this.hM-this.an4.width,c=this.k2-this.an4.height;
if(this.a2B)this.lj.style.left=Math.min(0,Math.max(B,p))+"px";else this.lj.style.top=Math.min(0,Math.max(c,n))+"px";
if(p-10>0){this.aX.x=J.x-10;this.QX.x=0}if(p+10<B){this.aX.x=J.x+10;this.QX.x=B}};gX.prototype.fW=function(z){var J=window;
q.Mt(J,this.ac1);q.eX(J,this.a5S)};gX.prototype.ayk=function(z){if(this.lj){this._.removeChild(this.lj)}this.lj=z;
this._.appendChild(z);z.style.position="absolute";z.style.appRegion="no-drag";if(this.a2B)z.style.left=0;
else z.style.top=0};gX.prototype.B$=function(z,J){this.hM=z;this.k2=J;q.v(this._,"position:relative; width: "+z+"px; height: "+J+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var p=this.lj.firstChild,n=this.aHo,B=p?p.firstChild.getBoundingClientRect().width:1e9,c=170,t=navigator.windowControlsOverlay,u=0,v=0;
if(t&&t.visible){var A=t.getTitlebarAreaRect();v=A.x;u=z-A.width-A.x;if(u<0)u=0;B+=A.x;c+=u}var $=this.aqg&&z>B+c;
n[iX.n_][iX.aH_]=$?"":iX.aj7;n[iX.n_][iX.VO]=u+"px";if(p){p[iX.n_][iX.adN]=v+"px";p[iX.n_][iX.aHJ]=iX.afm}var X=this.cm;
for(var g=0;g<X.length;g++){var U=g>4||z-B-c>330?"":iX.aj7,w=X[g];w._.style.display=U}};gX.prototype.akh=function(){this.lj.style.left="0";
this.lj.style.top="0"};function k_(){lh.call(this);this.f=null;this.S3=k_.zW;this.asC="";this._=q.m("div","rightbar");
this.Tf=[new aY(300),new aY(268)];this.e$=[new kR,new kR,new kR,new kR,new kR,new kR,new kR(null,!0)];
this.arj=[]}k_.prototype=new lh;k_.prototype.T=function(){var z=this.S3;for(var g=0;g<z.length;g++)z[g].NC.T()};
k_.zW=ex==0?[{NC:new di,OI:3},{NC:new cK,OI:1},{NC:new dK,OI:4},{NC:new de,OI:2},{NC:new eB(!0),OI:5},{NC:new jz(!0),OI:5},{NC:new b9,OI:0},{NC:new bJ,OI:5},{NC:new h8,OI:3},{NC:new cg,OI:0},{NC:new kt,OI:3},{NC:new hZ,OI:2},{NC:new kx,OI:4},{NC:new du,OI:3},{NC:new fG,OI:5},{NC:new eB(!1),OI:5},{NC:new io,OI:2},{NC:new it,OI:3},{NC:new d_,OI:1},{NC:new ku,OI:0},{NC:new bu,OI:5},{NC:new ik,OI:4},{NC:new iW,OI:6,aA:!0}]:[{NC:new dU,OI:5},{NC:new eB(!0),OI:5},{NC:new eB(!1),OI:5},{NC:new ik,OI:4},{NC:new bJ,OI:5},{NC:new cg,OI:0},{NC:new hZ,OI:2},{NC:new kz,OI:6},{NC:new iW,OI:6,aA:!0}];
if(q.dK(1))k_.zW.push({NC:new fS,OI:6,aA:!0});k_.zW.push({NC:new kM,OI:6,aA:!0},{NC:new dW,OI:6,aA:!0});
(function(){var z=[{name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Peas Maker",url:"//www.photopea.com/plugins/peasmaker"}];
for(var g=0;g<z.length;g++)k_.zW.push({NC:new c1(z[g],""+(100+g)),OI:6,aA:!0})}());k_.prototype.aFL=function(z){for(var g=0;
g<z.length;g++){var J=z[g],p=new c1(J,"plg_"+J.name);this.S3.push({NC:p,OI:6});this.arj.push(p.Ss)}this.xM()};
k_.prototype.Sc=function(z,J){this.f=z;var p=this.S3;for(var g=0;g<p.length;g++)p[g].NC.Sc(z,J);if(J==iQ.Rn||J==iQ.OO||J==iQ.hl)this.xM()};
k_.prototype.w1=function(z){var J=this.S3;for(var g=0;g<J.length;g++)J[g].NC.w1(z)};k_.prototype.B$=function(z,J){this.Tx=z;
this.tK=J;this.xM();this.Tf[0].B$(z,J);this.Tf[1].B$(z,J)};k_.prototype.xM=function(){var z=this.f,J=this.Tx,p=this.tK;
if(z==null||J==0)return;var n=this.arj;for(var g=0;g<n.length;g++){var B=this.Mc(n[g]),c=B.NC.DA.resID;
if(c!=null&&z.wo.indexOf(c)==-1){n.splice(g,1);g--}}var t=z.e8.concat(n),u=J<500||J<700&&J<p,v=JSON.stringify(t)+","+u;
if(v!=this.asC){this.asC=v;q.X0(this._);var A=[];for(var g=0;g<this.Tf.length;g++){var $=this.Tf[g];
A[g]=$.zf();while($.aJu()!=0)$.al1(0);$.GH()}var X=[];for(var g=0;g<this.e$.length;g++){var U=this.e$[g];
U.GH();while(U.arb()!=0)U.Ww(0);X.push(0)}for(var g=0;g<t.length;g++){var B=this.Mc(t[g].toString());
if(B==null)continue;this.e$[B.OI].oY(B.NC);this.e$[B.OI].JW(0);X[B.OI]++}var w=[];for(var g=0;g<X.length;
g++){if(X[g]==0)continue;var P=g<3||u?1:0,$=this.Tf[P];$.parent=this;$.aF5(this.e$[g]);w[P]=!0}for(var g=0;
g<this.Tf.length;g++)if(w[g])this._.appendChild(this.Tf[g]._);this.Tf[0].collapse();if(J<700||this.f.compact||!A[1]){this.Tf[1].collapse()}var k=new cD(b.E.c,!0);
k.data={R:b.J.DZ};this.a(k)}};k_.prototype.Mc=function(z){for(var g=0;g<this.S3.length;g++)if(this.S3[g].NC.Ss==z)return this.S3[g]};
k_.prototype.a5B=function(z){var J=this.Mc(z);if(J==null)return;this.e$[J.OI].oY(J.NC)};k_.prototype.DK=function(z,J,p){var n=this.S3;
for(var g=0;g<n.length;g++)n[g].NC.DK(z,J,p)};k_.prototype.lW=function(z,J,p,n,B){var c=this.S3;for(var g=0;
g<c.length;g++)c[g].NC.lW(z,J,p,n,B)};k_.prototype.dV=function(z,J,p,n,B){var c=this.S3;for(var g=0;
g<c.length;g++)c[g].NC.dV(z,J,p,n,B)};k_.prototype.mI=function(z,J,p,n,B){var c=this.S3;for(var g=0;
g<c.length;g++)c[g].NC.mI(z,J,p,n,B)};function cn(z,J){jv.call(this,"toolbar");this._.removeChild(this.w$);
this.IO=q.m("div","tools");this._.appendChild(this.IO);this.DV=null;this.Ms=null;this.axB=J;this.Ca=null;
this.p2=null;this.a0r=-1;var p=window.locStor.getItem("_ltools");this.dU=p?p.split(","):[];this.ak_=z;
this.Z=null;this.CX=null;this.BV=null;this.aEY=null;this.z6=new dw;this.z6._.style.marginTop="5px";this.z6._.style.marginBottom="3px";
this.z6.parent=this;this.d4=new eq(q.HS("lrs/mask"),!1,[6,6,1]);this.d4.D("click",function(t){var u=new cD(b.E.H,!0);
u.l=L.Wu;u.data={R:"qmask"};this.a(u)},this);var n=new g1(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
n.D(b.E.n,this.aaq,this);var B=q.m("span","rangecontFloat form padded");B.appendChild(n._);q.v(B,"position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var c=this._;this.amx=[!1,!1,!1,!1];this.c7=new eq(q.HS("kb"),!1,"Virtual Keys");this.c7.D("click",function(t){var u=this.c7._.getBoundingClientRect();
B.style.top=u.top-110+"px";B.style.left=u.left+u.width+8+"px";if(q.SA(B)){q.bo({_:B},c)}else{c.appendChild(B);
q.VI({_:B})}},this)}cn.prototype=new jv;cn.prototype.aaq=function(z){var J=z.target.V();this.c7.q(J[0]||J[1]||J[2]||J[3]);
var p=new cD(b.E.c,!0);for(var g=0;g<4;g++){if(J[g]!=this.amx[g]){p.data={R:b.J.a1T,Wj:J[g],azc:[l5.JQ()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][g]};
this.a(p)}}this.amx=J.slice(0)};cn.prototype.awH=function(z,J){this.Ca=J;this.p2=z;if(z==null||z.Y.length==0||z.U[z.Y[0]]==null)return;
var p=z.d4()!=null,n=z.i.Az,B=z.U[z.Y[0]].uB,c=B==1||B==3||p||n[0]+n[1]+n[2]==1;this.z6.a0C(c);this.d4.q(p)};
cn.prototype.aL4=function(z,J){var p=z.length,n=[];for(var g=0;g<p;g++)n[g]=z[g].slice(0);z=n;var B=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],c=Math.min(B.length/2,p-J);
for(var g=0;g<c;g++){var t=B[2*g],u=B[2*g+1];z[t]=z[t].concat(z[u]);z[u]=null}for(var g=0;g<z.length;
g++)if(z[g]==null){z.splice(g,1);g--}return z};cn.prototype.aFP=function(z,J){for(var g=0;g<J.length;
g++)for(var p=0;p<J[g].length;p++)if(J[g][p].l.id==z)return g};cn.prototype.aLb=function(z){var J=this.ak_;
this.CX=[];this.BV=[];this.aEY=[];this.Z=[];var p=J._X;if(z!=null&&this.axB)p=this.aL4(p,z);var n=this.DV;
if(n){var B=[];for(var g=0;g<p.length;g++){var c=[];for(var t=0;t<p[g].length;t++){var u=p[g][t];if(n==null||n.indexOf(parseInt(u.l.id))!=-1)c.push(u)}if(c.length>0)B.push(c)}p=B}for(var g=0;
g<p.length;g++){var v=[],A=this.CX.length,$=null,X=-1;for(var t=0;t<p[g].length;t++){var u=p[g][t].l,U=this.aFP(u.id,J._X),w=J.keys[U];
if(w==l5.$T&&t==1)w=l5.yK;this.Z.push(u);var P=new gR(u.name,w,u.Ez,this.CX.length,g,p[g].length>1);
this.CX.push(P);var k=this.dU.indexOf(u.id);if(k==-1)k=0;if(k>X){X=k;$=P}P.D(b.E.n,this.iD,this);P.D("mover",this.jT,this);
v.push({name:u.name,oB:u.Ez,wA:w?w.A$:""})}this.BV.push($);this.aEY.push(v.length==1?null:[v,A])}};cn.prototype.B$=function(z,J){var p=this.tK=J,n=20;
if(1<q.$q()&&q.$q()<1.5)n=20/q.$q();n+=12.7;var B=this.tK>640&&ex==0?2:1,c=34+5+3+B*(n+4),t=Math.floor((p-c)/n);
if(t!=this.a0r){this.a0r=t;this.aLb(t);this.Yu()}var u=this.BV.length*n+c,v=Math.min(1,p/u);if(.75<=v){q.v(this.IO,"width:34px; transform-origin: top left; transform: scale("+v+","+v+");");
q.v(this._,"height:"+(J-2)+"px;")}else{p-=4;q.v(this.IO,"height: "+p+"px;  width:"+Math.ceil(u/p)*34+"px");
q.v(this._,"")}};cn.prototype.T=function(){if(this.Z==null)return;for(var g=0;g<this.CX.length;g++)this.CX[g].T()};
cn.prototype.iD=function(z){var J=new cD(b.E.c,!0);J.data={R:b.J.OS,l:this.Z[z.id].id};this.a(J)};cn.prototype.ajL=function(z){var J=z.target.aLh+z.target.cw()[0];
this.CX[J].fW(null,!0)};cn.prototype.jT=function(z){var J=this.Ca,p=new cD(b.E.c,!0);p.data={R:b.J.lu};
this.a(p);var n=z.target,B=this.aEY[n.g9];if(B==null)return;var c=new ka(B[0],null,!0);c.aLh=B[1];c.g9=n.g9;
c.D("select",this.ajL,this);c.parent=this;c.T();var t=n._.getBoundingClientRect(),p=new cD(b.E.c,!0);
p.data={R:b.J.v0,NC:c,x:t.left+t.width+8,y:t.top};if(J==null||!(J.Q(l5.BE)||J.Q(l5.zT)))this.a(p)};cn.prototype.Yu=function(z){if(z==null)z=this.Ms;
this.Ms=z;if(this.Z==null)return;var J=this.dU.indexOf(z);if(J!=-1)this.dU.splice(J,1);this.dU.push(z);
window.locStor.setItem("_ltools",this.dU.join(","));var p=-1;for(var g=0;g<this.Z.length;g++)if(this.Z[g].id==z)p=g;
for(var g=0;g<this.CX.length;g++){var n=this.CX[g];n.ael(p==g)}if(p==-1)return;this.BV[this.CX[p].g9]=this.CX[p];
q.X0(this.IO);var B=this.BV;for(var g=0;g<B.length;g++){this.IO.appendChild(B[g]._)}if(!this.axB)return;
this.IO.appendChild(this.z6._);if(this.tK>640&&ex==0)this.IO.appendChild(this.d4._);this.IO.appendChild(this.c7._)};
cn.prototype.Sc=function(z,J){if(J==iQ.hl&&z.DV){this.DV=z.DV;this.aLb();this.Yu()}this.z6.aAR(z.Nb,z.Gh);
if(ex==1&&(J==iQ.m7||J==iQ.hl)){this.z6.ayM(z,this.p2)}};function gR(z,J,p,n,B,c){lh.call(this);this.Ci=0;
this.U1=this.aic.bind(this);this.g9=B;this.WC=n;this.N4=z;this.pB=J;this.auk=c;this.Ez=p;this._=q.m("button","");
this._.innerHTML=q.HS(this.Ez);if(this.auk){var t=q.m("img","gsicon");t.setAttribute("src",PIMG["tools/corner"]);
q.v(t,"position:absolute; right:0;  bottom:0; width:100%; height:100%;");this._.appendChild(t)}this._.addEventListener("touchstart",q.ZM,!1);
this.T();q.tN(this._,this.Zf.bind(this));q.ol(this._,this.fW.bind(this));this._.addEventListener("contextmenu",this.U1,!1);
this._.addEventListener("contextmenu",gR.$D,!1)}gR.prototype=new lh;gR.$D=function(z){z.stopPropagation();
z.preventDefault();return!1};gR.prototype.T=function(){var z=this.pB?" ("+this.pB.A$+")":"";this._.setAttribute("title",j0.get(this.N4)+z)};
gR.prototype.Zf=function(z){gR.Jb=this.WC;this.Ci=setTimeout(this.U1,160)};gR.prototype.fW=function(z,J){if(J==null&&gR.Jb!=this.WC)return;
clearTimeout(this.Ci);var p=new cD(b.E.n,!1);p.target=this;p.id=this.WC;this.a(p)};gR.prototype.aic=function(z){var J=new cD("mover",!1);
J.target=this;J.id=this.WC;this.a(J)};gR.prototype.ael=function(z){this._.className=z?"toolbtn active":"toolbtn"};
function ac(){lh.call(this);this._=q.m("div","topbar");this.a5s=q.m("span");this.aea=q.m("span");this.arR=0;
this._.appendChild(this.a5s);this._.appendChild(this.aea);this.CT=null;this.f=null;this.V2=[];this.e8=[];
var z=this.Zf.bind(this);for(var g=0;g<ac.data.length;g++){var J=q.m("button");this.V2.push(J);var p=ac.data[g];
J.addEventListener("mouseover",z,!1);q.tN(J,z)}this.sX=new eq([0,13,0],!1,null,!0);this.sX.D("click",this.kV,this);
this.o1=new eq(q.HS("tools/zoom",null,"autoscale"),!1,[12,86]);this.o1.D("click",this.kV,this);this.aI5=new eq("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.aI5.D("click",this.kV,this)}ac.prototype=new lh;ac.prototype.alN=function(){if(this.e8.length!=0)return;
for(var g=0;g<ac.data.length;g++){var z=ac.data[g],J=new ka(z.items,z.CY);J.parent=this;this.e8.push(J)}this.T()};
ac.prototype.T=function(){this.sX.T();this.o1.T();this.aI5.T();for(var g=0;g<this.V2.length;g++)this.V2[g].textContent=j0.get(ac.data[g].name);
this.ajR();for(var g=0;g<this.e8.length;g++)this.e8[g].T()};ac.prototype.kV=function(z){var J=new cD(b.E.c,!0);
if(z.target==this.sX)J.data={R:b.J.Ym,i9:"account"};else if(z.target==this.o1)J.data={R:b.J.ZG};else J.data={R:b.J.Zw,cq:!0};
this.a(J)};ac.prototype.AU=function(z,J){this.CT=z;this.f=J};ac.prototype.Sc=function(z,J){this.f=z;
if(J==iQ.hl){var p=z.aa3;q.X0(this.a5s);for(var g=0;g<this.V2.length;g++){var n=ac.data[g];if(p==null||p[g]==1||p[g]instanceof Array)this.a5s.appendChild(this.V2[g]);
if(p!=null&&p[g]instanceof Array){this.alN();this.e8[g].ajr(p[g])}}var B=this.aea;q.X0(B);if(z.jR){B.appendChild(this.sX._)}B.appendChild(this.o1._);
B.appendChild(this.aI5._)}this.ajR()};ac.prototype.ajR=function(z,J){var p=this.sX,n=12255232;if(j8.uO())n=j8.x_()?43520:16755200;
q.v(p._,"color:#ffffff; background-color:#"+a.fX(n))};ac.prototype.Zf=function(z){this.alN();var g=this.V2.indexOf(z.currentTarget),J=this.e8[g];
if(z.type=="mouseover"&&!q.SA(this.e8[this.arR]._))return;if(q.SA(J._))return;z.a2s=!0;this.arR=g;for(var g=0;
g<ac.data.length;g++)this.e8[g].update(this.CT,this.f);var p=z.target.getBoundingClientRect(),n=new cD(b.E.c,!0);
n.data={R:b.J.v0,NC:J,x:p.left,y:p.top+p.height+2,aey:!0};this.a(n)};ac.ahu=function(z){var J=l5,p=J.zT,n=J.VN,B=J.W0,c=function(Z){return{e:Z!=null}},t=function(Z){return{e:Z!=null&&Z.M!=null}},u=function(Z){return{e:Z!=null&&Z.AM(!1)}},v=function(Z){return{e:Z!=null&&Z.AM(!1)&&Z.M!=null}},A=[{name:[7,0],e:c,wA:[p,J.J]},{name:[7,1],wA:[p,J.Qx],e:t},{name:[7,2],wA:[n,p,J.vn],e:t,$h:!0},{name:"Remove BG",e:ac.qF},{name:[7,8],e:c,wp:!0},{name:[7,13],wp:!0,e:function(Z){return{e:Z!=null&&Z.Y.length!=0&&!Z.U[Z.Y[0]].S.Sz()}}},{name:[7,14],e:ac.qF,$h:!0},{name:[7,11],wp:!0,e:function(Z){return{e:Z!=null&&Z.Y.length!=0&&!Z.U[Z.Y[0]].S.Sz()}}},{name:[7,3],e:c,$h:!0,sub:[{name:[7,9],wp:!0,e:t},{name:[19,3,0],wp:!0,e:t},{name:[7,4],wp:!0,e:t},{name:[7,5],wp:!0,e:t},{name:[7,6],wp:!0,e:t,wA:"Shift+F6"}]},{name:[7,15],e:t},{name:[7,16],e:t,$h:!0},{name:[7,10],e:t,$h:!0},{name:[6,6,1],e:function(Z){return{e:Z!=null,gV:Z!=null&&Z.d4()!=null}},wA:[J.a2D],$h:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],e:t}],$=[{g:b.E.wR,d:L.gL.aj(!0)},{g:b.E.wR,d:L.gL.aj()},{g:b.E.wR,d:{rK:"inverse"}},{g:b.E.H,l:L.Wu,d:{R:"bgrm",K:1}},{g:b.E.c,d:{R:b.J.Ym,i9:"crange"}},{g:b.E.c,d:{R:b.J.Ym,i9:"magiccut"}},{g:b.E.H,l:L.Wu,d:{R:"bgrm",K:2}},{g:b.E.c,d:{R:b.J.Ym,i9:"redge"}},{sub:[{g:b.E.c,d:{R:b.J.Ym,i9:"sel_border"}},{g:b.E.c,d:{R:b.J.Ym,i9:"sel_smoothness"}},{g:b.E.c,d:{R:b.J.Ym,i9:"sel_expand"}},{g:b.E.c,d:{R:b.J.Ym,i9:"sel_contract"}},{g:b.E.c,d:{R:b.J.Ym,i9:"sel_feather"}}]},{g:b.E.wR,d:{rK:"grow",m$:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{g:b.E.wR,d:{rK:"similar",m$:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{g:b.E.c,d:{R:b.J.OS,l:L.Ou}},{g:b.E.H,l:L.Wu,d:{R:"qmask"}},{g:b.E.c,d:{R:b.J.Ym,i9:"loadsel"}},{g:b.E.c,d:{R:b.J.Ym,i9:"savesel"}}];
if(z){var X=[1,2,8,7,"",14,"a","","b","c","d","","e",11,"","f","g"],U={a:[{name:"Make Work Path",e:t},{g:b.E.wR,d:L.gL.af4()}],b:[{name:[6,49,0],e:t},{g:b.E.wR,d:{rK:"copyToLayer"}}],c:[{name:[6,49,1],e:v},{g:b.E.wR,d:{rK:"cutToLayer"}}],d:[{name:[6,13]},{g:b.E.H,l:L.bX,d:{R:bi.JX}}],e:[{name:[10,16],e:c},{g:b.E.c,d:{R:b.J.OS,l:L.dt}}],f:[{name:[2,3],e:v,wp:!0},{g:b.E.c,d:{R:b.J.Ym,i9:"fill"}}],g:[{name:[14,9],e:v,wp:!0},{g:b.E.c,d:{R:b.J.Ym,i9:"stroke"}}]},w=[],P=[];
for(var g=0;g<X.length;g++){var k=X[g];if(A[k]){var T=A[k];T.$h=!1;delete T.wA;w.push(T);P.push($[k])}else if(k==""){w[w.length-1].$h=!0}else if(U[k]){var T=U[k];
w.push(T[0]);P.push(T[1])}}$=P;A=w}return{name:[0,5],items:A,CY:$}};ac.qF=function(z){return{e:q.dK(1)&&z!=null&&z.Y.length!=0&&!z.U[z.Y[0]].S.Sz()}};
ac.QD=function(z,J){if(z==null||z.Y.length==0)return!1;var p=z.U[z.Y[0]];return p.add.TySh!=null&&J.Ms==L.MN};
ac.a7E=function(){var z=l5,J=z.zT,p=z.VN,n=z.W0,B=function(c){return{e:c!=null}};return[[{name:[5,0],wA:[J,z.bI],e:function(c,t){return{e:c!=null&&(c.a4k()||ac.QD(c,t))}}},{name:[5,1],wA:[J,z.mf],e:B},{name:[5,2],wA:[J,z.vH],e:function(c,t){return{e:ac.QD()||q.Cm()||t.ic!=null||t.Bc!=null||t.avs!=null}}},{name:[2,2],e:function(c,t){return{e:c!=null&&(c.M!=null||ac.QD(c,t))}},wA:"Delete",$h:!0}],[{g:b.E.c,d:{R:b.J.vE}},{g:b.E.c,d:{R:b.J.dx}},{g:b.E.c,d:{R:b.J.RP}},{g:b.E.wR,d:{rK:"delete"}}]]};
ac.Hb=function(z,J){var p=function(A){return{e:A!=null&&A.Y.length!=0&&A.U[A.Y[0]].add.SoLd!=null}},n=function(A){return{e:A!=null}},B=[],c=[],t="none maxx avrg medn minn rang stdv summ vari".split(" "),u=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var g=0;g<t.length;g++){B.push({name:u[g],e:function(A,$){if(A==null||A.Y.length!=1)return{e:!1};
var X=A.U[A.Y[0]].add.SoLd;if(X==null)return{e:!1};return{e:!0,gV:X.Impr.v.classID==this.ahb}}.bind({ahb:t[g]})});
c.push({g:b.E.H,l:L.bX,d:{R:bi.wc,gW:t[g]}})}var v={name:[6,7,1],e:n,$h:!0,sub:[{name:[6,7,0]},{name:"New Smart Obj. via Copy",e:p,$h:!0},{name:"Open (Edit Contents)",e:p,wp:!0},{name:"Reset Transform",e:p},{name:"Replace Contents",e:p,wp:!0},{name:"Export Contents",e:p,wp:!0,$h:!0},{name:"Convert to Layers",e:p,wp:!0,$h:!0},{name:[6,36,4],e:p,sub:B},{name:"Turn into JPG",e:p}]};
if(!z)v={sub:[{g:b.E.wR,d:{rK:"newPlacedLayer"}},{g:b.E.wR,d:{rK:"placedLayerMakeCopy"}},{g:b.E.wR,d:{rK:"placedLayerEditContents",m$:{classID:"placedLayerEditContents"}}},{g:b.E.wR,d:{rK:"placedLayerResetTransforms",m$:{classID:"placedLayerResetTransforms"}}},{g:b.E.wR,d:{rK:"placedLayerReplaceContents",m$:{classID:"placedLayerReplaceContents"}}},{g:b.E.wR,d:{rK:"placedLayerExportContents",m$:{classID:"placedLayerExportContents"}}},{g:b.E.wR,d:{rK:"placedLayerConvertToLayers",m$:{classID:"placedLayerConvertToLayers"}}},{sub:c},{g:b.E.H,l:L.bX,d:{R:bi.a1s}}]};
if(J)v.sub.splice(0,1);return v};ac.data=function(){var z=l5,J=z.zT,p=z.VN,n=z.W0,B=function(_){return{e:_!=null&&_.Y.length!=0}},c=function(_){return{e:_!=null}},t=function(_){return{e:_!=null&&_.AM(!1)}},u=function(_){return{e:_!=null&&_.AM(!1)&&!_.U[_.Y[0]].S.Sz()}},v=ac.a7E(!0),A=[],$=[],X=[],U="assignProfile",w="convertToProfile",P=function(_,y,g){return{gV:_!=null&&_.a4s()==g,e:!0}};
for(var g=0;g<b$.uy.length;g++){var k=b$.uy[g];A.push({name:k,e:P});var T={classID:U,null:dB.DG("Dcmn",!0)};
if(k!="sRGB")T.profile={t:"TEXT",v:b$.Xj[g]};var Z={classID:w,null:dB.DG("Dcmn",!0)};Z.T={t:"TEXT",v:b$.Xj[g]};
$.push({g:b.E.wR,d:{rK:U,m$:T}});X.push({g:b.E.wR,d:{rK:w,m$:Z}})}var i=[{name:[0,0],items:[{name:[5,3],wA:[n,J,z.EL],title:[11,7],wp:!0},{name:[1,0],wA:[J,z.XT],wp:!0},{name:[1,11],wp:!0,e:c},{name:["VAR0 VAR1",[1,0],[0,14]],$h:!0,sub:[{name:"From Any Folder"},{name:[1,19,1],wp:!0,wA:[n,J,z.XT]},{name:[1,5],wp:!0},{name:[11,0],wp:!0},{name:["PSD VAR0",[25,0]],wp:!0}]},{name:[1,18],$h:!0,e:c,sub:[{name:"PNG",wA:"Imgur.com",e:function(_,y){return{e:_!=null&&y.uF}}},{name:"JPG",wA:"Imgur.com",e:function(_,y){return{e:_!=null&&y.uF}}},{name:ex==0?"PSD":"AI",wA:["Photo","Vector"][ex]+"pea.com",e:function(_,y){return{e:_!=null&&y.uF&&!_.ia}}}]},{name:"Save ...",wA:[J,z.jY],e:function(_,y){var E=j0.get([1,2]),F=!0;
if(_){if(_.eN)E+=" ("+j0.get([6,7,1])+")";if(_.vy)E+=" (Google Drive)";if(_.Ks)E+=" ("+Storage.list[_.Ks[0]][0]+")";
F=kL.qR.indexOf(_.Lt)!=-1;if(ex==1)F=_.Lt=="ai"}return{e:_!=null&&(_.Ks!=null||_.sN!=null&&F||_.eN!=null||_.c$!=null&&_.c$.G4!=null||_.vy!=null||y.OK.save!=null),H8:E}}},{name:ex==0?[1,3]:"Save as AI",e:function(_,y){return{e:_!=null&&y.uF}}},{name:["VAR0 VAR1",[1,2],[0,14]],e:c,sub:[{name:["VAR0 VAR1",ex==0?"PSD":"AI",[1,19,2]],e:function(_,y){return{e:_!=null&&y.uF}}},{name:["VAR0 PSD/PSB",[1,2]],wp:!0,e:function(_,y){return{e:ex==0&&_!=null&&y.uF}}}]},{name:[1,8],e:c,sub:function(){var _=kL.vj(0),y=[];
for(var g=0;g<_.length;g++)y.push({name:_[g],wA:"."+_[g].toLowerCase()});y.push({name:[0,14],sub:function(){var _=kL.vj(1),y=[];
for(var g=0;g<_.length;g++)y.push({name:_[g],wA:"."+_[g].toLowerCase()});return y}()});return y}()},{name:[1,4],wp:!0,e:c,$h:!0,wA:[J,z.zW]},{name:[1,9],wp:!0,e:c},{name:"Export Color Lookup",wp:!0,e:c,$h:!0},{name:[1,14],wp:!0,e:c,$h:!0},{name:[1,17],sub:[{name:"Batch",wp:!0},{name:"PDF Presentation",wp:!0},{name:"Convert Formats",wp:!0},{name:"Generate Mockups",wp:!0,e:c},{name:"Resize Images",wp:!0,$h:!0},{name:"Crop and Straighten Photos",e:c}]},{name:[1,10],wp:!0}],CY:[{g:b.E.c,d:{R:b.J.Ym,i9:"newproject"}},{g:b.E.c,d:{R:b.J.iC}},{g:b.E.c,d:{R:b.J.iC,aGp:!0}},{sub:[{g:b.E.c,d:{R:b.J.iC,yZ:!0}},{g:b.E.c,d:{R:b.J.Ym,i9:"storwindow",th:0}},{g:b.E.c,d:{R:b.J.Ym,i9:"open_from_url"}},{g:b.E.c,d:{R:b.J.Ym,i9:"camera"}},{g:b.E.c,d:{R:b.J.Ym,i9:"res0"}}]},{sub:[{g:b.E.c,d:{R:b.J.yE,tS:"png"}},{g:b.E.c,d:{R:b.J.yE,tS:"jpg"}},{g:b.E.c,d:{R:b.J.yE,tS:ex==0?"psd":"ai"}}]},{g:b.E.c,d:{R:b.J._2}},{g:b.E.c,d:{R:b.J.DN}},{sub:[{g:b.E.c,d:{R:b.J.Ym,i9:"storwindow",th:1}},{g:b.E.c,d:{R:b.J.Ym,i9:"savepsb"}}]},{sub:function(){var _=kL.vj(0),y=[];
for(var g=0;g<_.length;g++)y.push({g:b.E.c,d:{R:b.J.Ym,i9:"saveforweb",tS:g}});y.push({sub:function(){var E=kL.vj(0).length,_=kL.vj(1),y=[];
for(var g=0;g<_.length;g++)y.push({g:b.E.c,d:{R:b.J.Ym,i9:"saveforweb",tS:E+g}});return y}()});return y}()},{g:b.E.c,d:{R:b.J.Ym,i9:"saveforweb",tS:3,a7H:!0}},{g:b.E.c,d:{R:b.J.Ym,i9:"eassets"}},{g:b.E.c,d:{R:b.J.Ym,i9:"exlut"}},{g:b.E.c,d:{R:b.J.Ym,i9:"finfo"}},{sub:[{g:b.E.c,d:{R:b.J.Ym,i9:"batch"}},{g:b.E.c,d:{R:b.J.Ym,i9:"pdfpres"}},{g:b.E.c,d:{R:b.J.Ym,i9:"cformat"}},{g:b.E.c,d:{R:b.J.Ym,i9:"mockups"}},{g:b.E.c,d:{R:b.J.Ym,i9:"resize"}},{g:b.E.H,l:L.ue,d:{R:"cropAndStr"}}]},{g:b.E.c,d:{R:b.J.Ym,i9:"script"}}]},{name:[0,1],items:[{name:[2,8],e:c},{name:[2,0],e:c,wA:[p,J,z.Lg]},{name:[2,1],e:c,wA:[J,z.Lg],$h:!0},{name:[2,11],wA:[p,J,z.Q9],$h:!0,wp:!0,e:function(_,y){return{e:dF.asG(_)&&y.Ms!=L.dt}}},v[0][0],v[0][1],{name:[5,7],wA:[p,J,z.mf],e:function(_){return{e:_!=null&&_.M!=null}}},v[0][2],v[0][3],{name:[2,3],e:t,wp:!0,wA:[p,z.aE1]},{name:[14,9],e:t,wp:!0,$h:!0},{name:[10,48],e:t},{name:[10,46],e:function(_){return{e:L.B0.sQ(_)}}},{name:"Perspective Warp",e:function(_){return{e:L.B0.sQ(_)}}},{name:[10,16],e:c,wA:[n,J,z.GJ]},{name:[2,4],e:c,sub:aA.qr()},{name:[2,10,1],e:c},{name:[2,10,0],e:c,$h:!0},{name:"Assign Profile",sub:A},{name:"Convert to Profile",sub:A,$h:!0},{name:[12,87],e:c,sub:[{name:[12,62],e:c},{name:[9,3],e:c},{name:[10,31],e:function(_){return{e:_!=null&&_.Q8()[1].length!=0}}}]},{name:[1,15],wp:!0},{name:[12,79],wp:!0,wA:[J,z.ZA]},{name:[1,13],wp:!0}],CY:[{g:b.E.H,l:L.Mj,d:{R:"h_undoredo"}},{g:b.E.H,l:L.Mj,d:{R:"h_stepfwd"}},{g:b.E.H,l:L.Mj,d:{R:"h_stepbck"}},{g:b.E.c,d:{R:b.J.Ym,i9:"afw_fade"}},v[1][0],v[1][1],{g:b.E.c,d:{R:b.J.dx,L5:!0}},v[1][2],v[1][3],{g:b.E.c,d:{R:b.J.Ym,i9:"fill"}},{g:b.E.c,d:{R:b.J.Ym,i9:"stroke"}},{g:b.E.c,d:{R:b.J.OS,l:L.G$}},{g:b.E.H,l:L._f,d:{R:"start",mz:"rigidTransform"}},{g:b.E.H,l:L._f,d:{R:"start",mz:"perspectiveWarpTransform"}},{g:b.E.c,d:{R:b.J.OS,l:L.dt}},{sub:aA.tL()},{g:b.E.wR,d:{rK:"align",m$:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{g:b.E.H,l:L.bX,d:{R:bi.aJo}},{sub:$},{sub:X},{sub:[{g:b.E.c,d:{R:b.J.$j,Xu:0}},{g:b.E.c,d:{R:b.J.$j,Xu:1}},{g:b.E.c,d:{R:b.J.$j,Xu:2}}]},{g:b.E.c,d:{R:b.J.Ym,i9:"pmanager"}},{g:b.E.c,d:{R:b.J.Ym,i9:"preferences"}},{g:b.E.c,d:{R:b.J.Ym,i9:"locstor"}}]},{name:[0,2],items:[{name:[12,36],e:c,$h:!0,sub:[{name:"RGB",e:function(_){if(_==null)return{e:!1};
return{gV:_.add.fcmy==null,e:!0}}},{name:"CMYK",$h:!0,e:function(_){if(_==null)return{e:!1};return{gV:_.add.fcmy!=null,e:_.depth!=32}}}].concat(kv?[{name:"8 Bits/Channel",e:function(_){if(_==null)return{e:!1};
return{gV:_.depth==8,e:!0}}},{name:"16 Bits/Channel",e:function(_){if(_==null)return{e:!1};return{gV:_.depth==16,e:!0}}},{name:"32 Bits/Channel",e:function(_){if(_==null)return{e:!1};
return{gV:_.depth==32,e:_.add.fcmy!=1}}}]:[])},{name:[3],e:c,$h:!0,sub:function(){var _=[];for(var y in fs.names){_.push({name:fs.names[y],wp:ks[y]!=null,wA:fs.keys[y],$h:fs.a78.indexOf(y)!=-1});
if(y=="selc"){_.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],wp:!0,$h:!0});_.push({name:[19,7,0],wA:[J,p,z.Vh],e:t});
_.push({name:[4,18],wp:!0,e:t})}}return _}()},{name:[4,16,0],e:t},{name:[4,16,1],e:t},{name:[4,16,2],e:t,$h:!0},{name:[11,11,1],e:u,wp:!0},{name:[11,11,0],e:u,wp:!0},{name:"Wavelet Decompose",e:u,$h:!0},{name:[11,3],e:c,wp:!0,wA:[n,J,z.mf]},{name:[11,10],e:c,wp:!0,wA:[n,J,z.vn]},{name:[2,4],e:c,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],e:function(_){return{e:_!=null&&_.M!=null}}},{name:[11,12,0],e:c,wA:[J,z.Cc],wp:!0},{name:[11,12,2],e:c,$h:!0},{name:[12,53],e:c},{name:[2,12],e:t,wp:!0,$h:!0},{name:[2,14],e:c,wp:!0}],CY:[{sub:[{g:b.E.H,l:L.vX,d:{R:"fcmy",K:0}},{g:b.E.H,l:L.vX,d:{R:"fcmy",K:1}},{g:b.E.wR,d:{rK:"convertMode",m$:{classID:"CnvM",Dpth:{t:"long",v:8},Mrge:{t:"bool",v:!1}}}},{g:b.E.wR,d:{rK:"convertMode",m$:{classID:"CnvM",Dpth:{t:"long",v:16},Mrge:{t:"bool",v:!1}}}},{g:b.E.wR,d:{rK:"convertMode",m$:{classID:"CnvM",Dpth:{t:"long",v:32},Mrge:{t:"bool",v:!1}}}}]},{sub:function(){var _=[];
for(var y in fs.names){_.push({g:b.E.H,l:L.Vi,d:{R:"start",Fc:y}});if(y=="selc"){_.push({g:b.E.H,l:L._f,d:{R:"start",mz:"adaptCorrect"}});
_.push({g:b.E.wR,d:{rK:"desaturate"}});_.push({g:b.E.H,l:L.Vi,d:{R:"start",Fc:"matc"}})}}return _}()},{g:b.E.wR,d:{rK:"levels",m$:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{g:b.E.wR,d:{rK:"levels",m$:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{g:b.E.wR,d:{rK:"levels",m$:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{g:b.E.c,d:{R:b.J.Ym,i9:"rcolors"}},{g:b.E.c,d:{R:b.J.Ym,i9:"vbitmap"}},{g:b.E.H,l:L.bX,d:{R:bi.a5l}},{g:b.E.c,d:{R:b.J.Ym,i9:"csize"}},{g:b.E.c,d:{R:b.J.Ym,i9:"isize"}},{sub:[{g:b.E.wR,d:L.tp.ul(!0,90)},{g:b.E.wR,d:L.tp.ul(!0,-90)},{g:b.E.wR,d:L.tp.ul(!0,-180)},{g:b.E.wR,d:L.tp.ul(!1,"Hrzn")},{g:b.E.wR,d:L.tp.ul(!1,"Vrtc")}]},{g:b.E.wR,d:{rK:"crop",m$:{__name:"Crop",classID:"Crop"}}},{g:b.E.c,d:{R:b.J.Ym,i9:"trim"}},{g:b.E.wR,d:{rK:"revealAll",m$:{classID:"RvlA"}}},{g:b.E.wR,d:{rK:"duplicate",m$:{classID:"Dplc",null:dB.DG("Dcmn",!0)}}},{g:b.E.H,l:L.Vi,d:{R:"start",Fc:"aply"}},{g:b.E.c,d:{R:b.J.Ym,i9:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],e:c,sub:[{name:[0,3],wA:[p,J,z.EL]},{name:[0,4]},{name:[1,16,0],wp:!0},{name:[1,16,3],wp:!0,$h:!0},{name:[6,49,0],wA:[J,z.Z7]},{name:[6,49,1],wA:[p,J,z.Z7],e:function(_){return{e:_!=null&&_.M!=null&&_.AM(!1)}}}]},{name:[6,0],e:B},{name:[11,4],e:B},{name:[5,4],e:B,$h:!0},{name:"Text",e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],e:B,$h:!0,sub:g0.VG(!0)},{name:[6,48,1],e:c,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],e:c,$h:!0,sub:g0.axS()},{name:[6,2],e:c,sub:[{name:[6,4],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].Qu()==null}}},{name:[6,5,0],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].Qu()==null}}},{name:[6,5,1],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].Qu()==null&&_.M!=null}}},{name:[6,5,2],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].Qu()==null&&_.M!=null}}},{name:[6,5,3],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].Qu()==null}},$h:!0},{name:[5,4],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].Qu()!=null}}},{name:[5,8],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].Qu()!=null&&_.AM(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].Qu()!=null}}}]},{name:[6,3],e:c,sub:[{name:[6,4],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].add.vmsk==null}}},{name:[6,5,0],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].add.vmsk==null}}},{name:[12,76,7],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].add.vmsk==null}},$h:!0},{name:[5,4],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],e:function(_){return{e:_!=null&&_.Y.length!=0&&_.U[_.Y[0]].add.vmsk!=null}}}]},hZ.aGw(!0),ac.Hb(!0),{name:[6,8],e:hZ.a8h},{name:[6,34],$h:!0,e:function(_){if(_==null||_.Y.length==0)return{e:!1};
var y=_.U[_.Y[0]];return{e:y.add.lmfx!=null&&!y.nT()}}},{name:[6,9],e:c,$h:!0,wA:[J,z.BT]},{name:[6,55],e:c,sub:[{name:[6,56,0],wA:[p,J,z.Es]},{name:[6,56,1],wA:[J,z.Es]},{name:[6,56,2],wA:[J,z.qN]},{name:[6,56,3],wA:[p,J,z.qN]}]},{name:"Combine Shapes",e:c,$h:!0,sub:[{name:[18,1],oB:"set/union"},{name:[18,2],oB:"set/difference"},{name:[18,3],oB:"set/intersection"},{name:[18,4],oB:"set/xor"}]},{name:[6,58],e:c,$h:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],wA:[J,z.E],e:hZ.d3},{name:[6,12,1],e:c},{name:[2,13],e:c}],CY:[{sub:[{g:b.E.H,l:L.bX,d:{R:bi.JX}},{g:b.E.H,l:L.bX,d:{R:bi.k7}},{g:b.E.c,d:{R:b.J.Ym,i9:"newartb",th:0}},{g:b.E.c,d:{R:b.J.Ym,i9:"newartb",th:1}},{g:b.E.wR,d:{rK:"copyToLayer"}},{g:b.E.wR,d:{rK:"cutToLayer"}}]},{g:b.E.H,l:L.bX,d:{R:bi.Kb}},{g:b.E.c,d:{R:b.J.Ym,i9:"duplinto"}},{g:b.E.H,l:L.bX,d:{R:bi.W3}},{sub:[{g:b.E.H,l:L.bX,d:{R:bi.Bn}}]},{sub:g0.wL(!0)},{sub:[{g:b.E.H,l:L.d9,d:{R:"newfill",iQ:0}},{g:b.E.wR,d:L.Fz.tR(1)},{g:b.E.wR,d:L.Fz.tR(2)}]},{sub:g0.AZ()},{sub:[{g:b.E.H,l:L.bX,d:{R:bi.CZ,th:"RvlA"}},{g:b.E.H,l:L.bX,d:{R:bi.CZ,th:"HdAl"}},{g:b.E.H,l:L.bX,d:{R:bi.CZ,th:"RvlS"}},{g:b.E.H,l:L.bX,d:{R:bi.CZ,th:"HdSl"}},{g:b.E.H,l:L.bX,d:{R:bi.CZ,th:"Trns"}},{g:b.E.H,l:L.bX,d:{R:bi.cf}},{g:b.E.H,l:L.bX,d:{R:bi.ZH}},{g:b.E.H,l:L.bX,d:{R:bi.tn}}]},{sub:[{g:b.E.wR,d:L.YG.Ve(0)},{g:b.E.wR,d:L.YG.Ve(1)},{g:b.E.wR,d:L.YG.Ve(2)},{g:b.E.wR,d:L.YG.Ve(3)},{g:b.E.H,l:L.bX,d:{R:bi.yb}}]},{g:b.E.H,l:L.bX,d:{R:bi.S5}},ac.Hb(!1),{g:b.E.wR,d:{rK:"rasterizeLayer",m$:{classID:"rasterizeLayer",null:dB.DG("Lyr",!0)}}},{g:b.E.wR,d:{rK:"rasterizeLayer",m$:{classID:"rasterizeLayer",null:dB.DG("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{g:b.E.H,l:L.bX,d:{R:bi.wW}},{sub:[{g:b.E.H,l:L.bX,d:{R:bi.qv,el:0}},{g:b.E.H,l:L.bX,d:{R:bi.qv,el:1}},{g:b.E.H,l:L.bX,d:{R:bi.qv,el:2}},{g:b.E.H,l:L.bX,d:{R:bi.qv,el:3}}]},{sub:[{g:b.E.H,l:L.bX,d:{R:bi.lp,m5:0}},{g:b.E.H,l:L.bX,d:{R:bi.lp,m5:1}},{g:b.E.H,l:L.bX,d:{R:bi.lp,m5:2}},{g:b.E.H,l:L.bX,d:{R:bi.lp,m5:3}}]},{sub:[{g:b.E.H,l:L.bX,d:{R:bi.PE,el:"makeframes"}},{g:b.E.H,l:L.bX,d:{R:bi.PE,el:"unmakeframes"}},{g:b.E.H,l:L.bX,d:{R:bi.PE,el:"merge"}}]},{g:b.E.wR,d:{rK:"mergeLayersNew",m$:{__name:"Merge Layers",classID:"Mrg2"}}},{g:b.E.wR,d:{rK:"flattenImage"}},{g:b.E.H,l:L._f,d:{R:"start",mz:"defr"}}]},ac.ahu(!1),function(){var _={name:[0,6],items:[{name:[24,18,4],wA:[n,J,z.Q9],e:c,$h:!0}],CY:[{g:b.E.H,l:L._f,d:{R:"applylast"}}]};
for(var g=0;g<em.uC.length;g++){var y=em.uC[g],E=y.fK;if(y._H!=null){var F={name:em.names[y._H],wp:!0,$h:y.$h,e:c};
if(y._H=="VaPo")F.e=t;_.items.push(F);_.CY.push({g:b.E.H,l:L._f,d:{R:"start",mz:y._H}});continue}var d={name:y.hk,sub:[],e:c};
_.items.push(d);var x={sub:[]};_.CY.push(x);for(var f=0;f<E.length;f++){var Q=E[f],m=em.names[Q];if(Q=="blurbTransform")m=[24,3,12,f];
var H={name:m,wp:em.J0(Q)!=null};d.sub.push(H);var S={g:b.E.H,l:L._f,d:{R:"start",mz:Q,agU:f<2?f:f+1}};
x.sub.push(S)}}return _}(),{name:[0,7],items:[{name:[8,0],e:c,wA:[J,z.xg]},{name:[8,1],e:c,wA:[J,z.a6]},{name:[20,3],e:c,wA:[J,z.vL]},{name:[20,2],e:c,wA:[J,z.uP]},{name:[8,14],e:function(_,y){return{e:_!=null,gV:_!=null&&_.KY}},$h:!0},{name:[12,36],$h:!0,sub:[{name:"Fullscreen",e:function(_,y){return{gV:document.fullscreenElement!=null}},$h:!0},{name:"Standard",e:function(_,y){return{gV:y.gK==0}}},{name:"Menu Bar and Canvas",e:function(_,y){return{gV:y.gK==1}}}]},{name:[8,13],wA:[J,z.$T],e:function(_,y){return{gV:y.NO}}},{name:[8,12],$h:!0,sub:[{name:[17,2],e:function(_,y){return{e:y.NO,gV:y.Uc.nI}}},{name:[8,9],e:function(_,y){return{e:y.NO,gV:y.Uc.$n}}},{name:[8,2],e:function(_,y){return{e:y.NO,gV:y.Uc.r_}},wA:[J,z.am]},{name:[8,4],e:function(_,y){return{e:y.NO,gV:y.Uc.eQ}},wA:[J,z.mw]},{name:[8,8],e:function(_,y){return{e:y.NO,gV:y.Uc.Lu}}},{name:[8,11,0],e:function(_,y){return{e:y.NO,gV:y.Uc.Cy}}}]},{name:[8,3],e:function(_,y){return{gV:y.v5}},wA:[J,z.yK],$h:!0},{name:[8,5],e:function(_,y){return{gV:y.UF}}},{name:[8,6],$h:!0,sub:[{name:[8,2],e:function(_,y){return{gV:y.kM[0]}}},{name:[8,4],e:function(_,y){return{gV:y.kM[1]}}},{name:[9,1],e:function(_,y){return{gV:y.kM[2]}}},{name:[8,11,0],e:function(_,y){return{gV:y.kM[3]}}},{name:[8,7,0],e:function(_,y){return{gV:y.kM[4]}}}]},{name:[11,15,2],e:function(_,y){return{e:_!=null,gV:_!=null&&_.Bj}}},{name:[11,15,0],e:c},{name:[11,14],e:c,wp:!0},{name:[11,15,1],e:function(_,y){return{e:_!=null&&_.Y.length!=0}},$h:!0},{name:[8,11,2],e:function(_,y){return{e:_!=null&&_.Cy.length!=0}}}],CY:[{g:b.E.H,l:L.KZ,d:{R:"zoom",i5:!0}},{g:b.E.H,l:L.KZ,d:{R:"zoom",i5:!1}},{g:b.E.H,l:L.KZ,d:{R:"adapt",K:"fitscr"}},{g:b.E.H,l:L.KZ,d:{R:"adapt",K:"pixel"}},{g:b.E.H,l:L.vX,d:{R:"pview"}},{sub:[{g:b.E.c,d:{R:b.J.Zw,cq:!0}},{g:b.E.c,d:{R:b.J.Zw,K:0}},{g:b.E.c,d:{R:b.J.Zw,K:1}},{g:b.E.c,d:{R:b.J.Zw,K:2}}]},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.j5}},{sub:[{g:b.E.c,d:{R:b.J.bS,Xu:iQ.Qm}},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.wI}},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.lr}},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.B5}},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.xZ}},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.Kx}}]},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.qV}},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.ags}},{sub:[{g:b.E.c,d:{R:b.J.bS,Xu:iQ.$a,Vl:0}},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.$a,Vl:1}},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.$a,Vl:2}},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.$a,Vl:3}},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.$a,Vl:4}}]},{g:b.E.H,l:L.vX,d:{R:"lockguides"}},{g:b.E.H,l:L.vX,d:{R:"gids",hu:[[],[]]}},{g:b.E.c,d:{R:b.J.Ym,i9:"addguides"}},{g:b.E.H,l:L.vX,d:{R:"gidsFromLayer"}},{g:b.E.H,l:L.$V,d:{R:"deleteAll"}}]},function(){var _={name:[0,8],items:[{name:[0,14],$h:!0,sub:[]},{name:"Plugins",$h:!0}],CY:[{sub:[]},{g:b.E.c,d:{R:b.J.Ym,i9:"res1"}}]};
for(var g=0;g<k_.zW.length;g++){var y=k_.zW[g],E=function(){var F=y.NC.Ss;return function(d,x){return{gV:x.e8.indexOf(parseInt(F))!=-1}}}();
(y.aA?_.items[0].sub:_.items).push({name:y.NC.name,e:E});(y.aA?_.CY[0].sub:_.CY).push({g:b.E.c,d:{R:b.J.n6,i9:y.NC.Ss}})}return _}(),function(){var _={name:[0,14],items:[],CY:[]},y={name:[0,9],sub:[]};
_.items.push(y);var E={sub:[]};_.CY.push(E);var F=j0.awD();for(var g=0;g<F.length;g++){var d=F[g],x=d.code,f=j0.apy(x);
y.sub.push({name:d.name,wA:x,e:function(Q,m){return{gV:this.wA==j0.jH()}}});E.sub.push({g:b.E.c,d:{R:b.J.bS,Xu:iQ.uX,lang:f}})}y.sub.push({name:[0,12]});
E.sub.push({g:b.E.c,d:{R:b.J.SE,link:"https://www.photopea.com/translate/"}});var y={name:[0,15],sub:[]};
_.items.push(y);var E={sub:[]};_.CY.push(E);for(var g=0;g<j4.Iy.length;g++){y.sub.push({name:j4.Iy[g].name,e:function(Q,m){return{gV:this.name==j4.Iy[m.y3].name}}});
E.sub.push({g:b.E.c,d:{R:b.J.bS,Xu:iQ.NM,y3:g}})}_.items.push({name:ex==0?[0,17,6]:"Install Vectorpea",e:function(Q,m){return{e:m.EU!=null}}});
_.CY.push({g:b.E.c,d:{R:b.J.Ys}});if(ex==0){_.items.push({name:[11,13]});_.CY.push({g:b.E.c,d:{R:b.J.Ym,i9:"shortcuts"}});
_.items.push({name:[0,16],e:function(Q){return{gV:co.Pw,e:co.aDw}},$h:!0});_.CY.push({g:b.E.c,d:{R:b.J.ax8}})}_.items.push({name:"PeaMark"});
_.CY.push({g:b.E.c,d:{R:b.J.Ym,i9:"peamark"}});_.items.push({name:"",e:function(Q,m){return m.jR?{H8:"About "+["Photopea","Vectorpea"][ex],e:!0}:{H8:"",e:!1}}});
_.CY.push({g:b.E.c,d:{R:b.J.Ym,i9:"aboutpp"}});return _}()],V=[i[0],{name:[0,1],items:[{name:[2,8],e:c},{name:[2,0],e:c,wA:[p,J,z.Lg]},{name:[2,1],e:c,wA:[J,z.Lg],$h:!0},v[0][0],v[0][1],{name:[5,7],wA:[p,J,z.mf],e:function(_){return{e:_!=null&&_.M!=null}}},v[0][2],v[0][3],{name:[10,16],e:c,wA:[n,J,z.GJ]},{name:[2,4],e:c,sub:aA.qr()},{name:"Assign Profile",sub:A},{name:"Convert to Profile",sub:A,$h:!0},{name:[12,87],e:c,sub:[{name:[9,3],e:c},{name:[10,31],e:function(_){return{e:_!=null&&_.Q8()[1].length!=0}}}]},{name:[1,15],wp:!0},{name:[12,79],wp:!0,wA:[J,z.ZA]},{name:[1,13],wp:!0}],CY:[{g:b.E.H,l:L.Mj,d:{R:"h_undoredo"}},{g:b.E.H,l:L.Mj,d:{R:"h_stepfwd"}},{g:b.E.H,l:L.Mj,d:{R:"h_stepbck"}},v[1][0],v[1][1],{g:b.E.c,d:{R:b.J.dx,L5:!0}},v[1][2],v[1][3],{g:b.E.c,d:{R:b.J.OS,l:L.dt}},{sub:aA.tL()},{sub:$},{sub:X},{sub:[{g:b.E.c,d:{R:b.J.$j,Xu:1}},{g:b.E.c,d:{R:b.J.$j,Xu:2}}]},{g:b.E.c,d:{R:b.J.Ym,i9:"pmanager"}},{g:b.E.c,d:{R:b.J.Ym,i9:"preferences"}},{g:b.E.c,d:{R:b.J.Ym,i9:"locstor"}}]},{name:"Object",items:[{name:[2,4],e:c,$h:!0,sub:[{name:[12,54]},{name:[2,5]},{name:"Reflect"},{name:[12,38]}]},{name:[6,9],e:c,$h:!0,wA:[J,z.BT]},{name:[6,6,0],sub:[{name:[5,5],wA:[J,z.Qe]},{name:[5,6],wA:[n,J,z.Qe]}]},{name:[1,16,1],sub:[{name:"Fit to Artwork Bounds"}]}],CY:[{sub:[{g:b.E.c,d:{R:b.J.Ym,i9:"transform",el:0}},{g:b.E.c,d:{R:b.J.Ym,i9:"transform",el:1}},{g:b.E.c,d:{R:b.J.Ym,i9:"transform",el:2}},{g:b.E.c,d:{R:b.J.Ym,i9:"transform",el:3}},{g:b.E.c,d:{R:b.J.Ym,i9:"transform",el:4}}]},{g:b.E.H,l:L.bX,d:{R:bi.wW}},{sub:[{g:b.E.H,l:L.bX,d:{R:bi.wW,$Z:!0}},{g:b.E.H,l:L.bX,d:{R:bi.wW,$Z:!0,UY:!0}}]},{sub:[{g:b.E.H,l:L.kA,d:{R:"adapt"}}]}]},{name:[0,7],items:[{name:"Outline View",e:function(_,y){return{gV:_&&_.add.prvw==0,e:_!=null}},$h:!0,wA:[J,z.AT]},{name:[8,0],e:c,wA:[J,z.xg]},{name:[8,1],e:c,wA:[J,z.a6]},{name:[12,36],$h:!0,sub:[{name:"Fullscreen",e:function(_,y){return{gV:document.fullscreenElement!=null}},$h:!0},{name:"Standard",e:function(_,y){return{gV:y.gK==0}}},{name:"Menu Bar and Canvas",e:function(_,y){return{gV:y.gK==1}}}]},{name:[8,3],e:function(_,y){return{gV:y.v5}},wA:[J,z.yK]}],CY:[{g:b.E.H,l:L.KZ,d:{R:"prvw"}},{g:b.E.H,l:L.KZ,d:{R:"zoom",i5:!0}},{g:b.E.H,l:L.KZ,d:{R:"zoom",i5:!1}},{sub:[{g:b.E.c,d:{R:b.J.Zw,cq:!0}},{g:b.E.c,d:{R:b.J.Zw,K:0}},{g:b.E.c,d:{R:b.J.Zw,K:1}}]},{g:b.E.c,d:{R:b.J.bS,Xu:iQ.qV}}]},i[7],i[8]];
return ex==0?i:V}();function i4(){lh.call(this);this._=q.m("div","");this.hM=0;this.k2=0;this.f=null;
this.OI=q.m("div","");q.v(this.OI,"width:200em; height:100em; position:absolute;");this.fU=[];this.V6=[];
this.qO={}}i4.prototype=new lh;i4.prototype.N5=function(z){var J=Date.now(),p=[];if(z=="-"){p=[new hi,new gQ,new jl,new cu("pdfpres"),new cu("cformat"),new cu("batch"),new cu("mockups"),new cu("resize"),new c3,new gA,new hI,new ep,new ep(!0),new g$,new aX,new er,new bs,new eO,new b5,new jV,new lk,new dA,new au,new g0,new l6("isize"),new l6("csize"),new ax,new an,new kO,new bF,new hq,new e3,new a4,new hr,new bK(!1),new bK(!0),new je(0),new je(1),new aJ,new gs,new c4,new cO,new ir,new c5,new b_(0),new b_(1),new b_(2),new b_(3),new b_(4),new b_(5),new b_(6),new b_(7),new b_(8),new ke,new i5,new hF,new ho,new i$,new jX,new bv,new i8,new dO,new d7,new iK(0),new iK(1),new e$("border",[7,9],"px"),new e$("smoothness",[19,3,0],"px"),new e$("expand",[7,4],"px"),new e$("contract",[7,5],"px"),new e$("feather",[7,6],"px"),new im(0,"namewindow",[12,48]),new im(2,"billto","Bill To"),new im(1,"cornerradius",[12,94,0],"px",!0,!0),new im(1,"scaleeffects",[6,30,1],"%",!0),new im(1,"doczoom","Zoom","%",!0),new im(1,"setFPS","Set FPS","fps,120",!1),new im(1,"simplifypath",[12,94,2],"%,100",!0,!0),new a6];
if(ex==0){p.push(new f3)}}else p=[new dF(z.slice(4))];this.a3x(p);this.qO[z]=!0};i4.prototype.a3x=function(z){var J=this.f;
for(var g=0;g<z.length;g++){var p=z[g];p.parent=this;this.V6.push(p);this.rp(p);p.T();if(J)p.Sc(J,iQ.hl);
p.D(b.E.Sj,this.Op,this);q.bo(p)}};i4.prototype.B$=function(z,J){this.hM=z;this.k2=J;for(var g=0;g<this.V6.length;
g++)this.rp(this.V6[g])};i4.prototype.T=function(){for(var g=0;g<this.V6.length;g++)this.V6[g].T()};
i4.prototype.Bi=function(){return this.fU.length==0?null:this.fU[this.fU.length-1]};i4.prototype.pf=function(){for(var g=0;
g<this.fU.length;g++)if(this.fU[g].pf())return!0;return!1};i4.prototype.a8N=function(z,J,p,n,B){console.log("Show",z);
var c=z.startsWith("afw_"),t=null;if(!c&&!this.qO["-"])this.N5("-");if(c&&!this.qO[z])this.N5(z);if(typeof z=="object"){t=z;
if(!t.akT(b.E.Sj,this.Op))t.D(b.E.Sj,this.Op,this);t.parent=this}else for(var g=0;g<this.V6.length;g++)if(this.V6[g].id==z)t=this.V6[g];
if(this.pf()&&t.pf()){alert("Finish the current action first");return}if(!t.zI(J))return;if(this.fU.indexOf(t)!=-1){if(z=="colorpicker")this.Op(null,t);
else return}var u=this.fU.length-1;if(u>=0)q.$y(this.fU[u]._,"wdisabled");this._.appendChild(t._);this.fU.push(t);
this.rp(t);q.VI(t);t.DK(J,p,n,B)};i4.prototype.rp=function(z){var J=this.hM,p=this.k2,n=z.k9(J,p),B;
if(n!=null){B=n}else{n=new i_(0,0);B=z.abd();if(B==null){var c=this.fU.indexOf(z)+1;if(J<450||p<450)B=new i_(0,0);
else B=new i_(c*150,c*150)}}z._.style.left=B.x+"px";z._.style.top=this._.offsetTop+B.y+"px";z.B$(this.hM-n.x*2,this.k2-n.y*2-34)};
i4.prototype.Sc=function(z,J){this.f=z;for(var g=0;g<this.V6.length;g++)this.V6[g].Sc(z,J)};i4.prototype.Op=function(z,J){if(J==null){J=this.fU.pop();
q.bo(J,this._)}else{this.fU.splice(this.fU.indexOf(J),1);this._.removeChild(J._);q.Om(J._,"wdisabled")}var p=this.fU.length-1;
if(p>=0)q.Om(this.fU[p]._,"wdisabled");if(this.OI.parentNode==this._)this._.removeChild(this.OI)};document.body.appendChild(new g9()._)}())