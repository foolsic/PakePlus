(function(){var gw=window.location.hostname=="www.vectorpea.com"?1:0,jV=!0;(function(){var F;try{F=window.localStorage}catch(ac){}var r={};
if(F){var $=F.getItem("_ppp");if($)r=JSON.parse($);else{var C="0_uid 0_provider 0_token 0_stateLocal capShown localFonts __glm dpiUnit swfPrms lpOpt".split(" ");
for(var O=0;O<C.length;O++){var M=F.getItem(C[O]);if(M!=null)r[C[O]]=M}}}var l=window.locStor={};l.setItem=function(d,I){r[d]=I;
if(F)F.setItem("_ppp",JSON.stringify(r))};l.getItem=function(d){return r[d]};l.removeItem=function(d){delete r[d];
if(F)F.setItem("_ppp",JSON.stringify(r))};if(gw==0){window.showCap=function(){k(!0)};window.hideCap=function(){k(!1)};
function k(d){document.getElementById("cap").setAttribute("style",d?"":"display:none;");window.locStor.setItem("capShown",""+d)}if(window.locStor.getItem("capShown")=="false"||window.self!=window.top){}else window.showCap()}}());
var ht={hI:0,jA:null,rD:null,ab3:null,i6:null,WJ:null,aft:!0,a66:0,OL:!1};ht.event=function(F,r,$){if(gw!=0)return;
if(r!=null&&r<Math.random())return;if($==null)$=0;var C=new XMLHttpRequest;C.open("GET","/papi/event.php?id="+F+"&g="+$+"&rnd="+Math.random());
C.send()};ht.lQ=function(F){if(gw!=0)F="//www.photopea.com/"+F;return F};ht.Kq=function(F){var r=location.href;
if(r.indexOf("photopea.com")!=-1||r.indexOf("vectorpea.com")!=-1)return"//vecpea.com/"+F;return ht.lQ(F)};
ht._q=function(){var F=ht.WL();if(F==null)return null;var r=y.oK(24)?" ":"",$=y.uJ[y.kd("Uu,"+r)];$=$[y.kd(r+"$/")];
var C=ht.a5v(1,999);if(C&&ht.yB(C)*50>$()/20)return[0,C];var M=F.inTeams;if(M)for(var O=0;O<M.length;
O++)if(M[O][1]*50>$()/20)return[1,M[O]];return null};ht.ij=function(){return ht.ahL()!=null};ht.xM=function(){return ht.yB(ht.a5v(1e3,999999999))};
ht.yB=function(F){return F==null?0:F[0]+F[1]*24*60*60};ht.a5v=function(F,r){var $=ht.WL(),C=$.pmnts,M=0,l=null;
if(C==null||C.length==0)return 0;for(var O=0;O<C.length;O++){var k=C[O],d=ht.yB(k);if(F<=k[2]&&k[2]<=r)if(M<d){M=d;
l=k}}return l};ht.WL=function(){return ht.WJ};ht.G7=function(F){window.addEventListener("message",ht.akV,!1);
setInterval(ht.ar$,5e3);if(ht.ij()&&navigator.onLine){ht.jA=F;ht.$S()}else setTimeout(F,1)};ht.ar$=function(){if(ht.ij()&&ht.OL){ht.a84(ht.y6());
ht.OL=!1}};ht.gP=function(F){ht.jA=F;var r="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
ht.ab3=window.open(r,"_blank")};ht.ai2=function(){var F=window.locStor;F.removeItem(ht.hI+"_uid");F.removeItem(ht.hI+"_provider");
F.removeItem(ht.hI+"_token");ht.WJ=null};ht.akV=function(F){if(F.data instanceof ArrayBuffer||F.data instanceof Object)return;
if(F.data.charAt(0)!="{")return;var r=JSON.parse(F.data);if(r.prms==null)return;var $=r.prms.split(",");
if($[0]=="papi_logged_in"){var C=window.locStor;C.setItem(ht.hI+"_uid",$[1]);ht.F0($[2]);C.setItem(ht.hI+"_provider",$[3]);
ht.ab3.close();ht.$S()}if($[0]=="payment_complete"){ht.i6.close();ht.$S()}};ht.ahL=function(){var F=window.locStor.getItem(ht.hI+"_token");
if(F!=null&&Date.now()*.001+10<parseInt(F.split("-")[0]))return F;return null};ht.F0=function(F){var r=window.locStor.getItem(ht.hI+"_token");
if(r!=null&&parseInt(F.split("-")[0])<parseInt(r.split("-")[0]))return;window.locStor.setItem(ht.hI+"_token",F);
clearTimeout(ht.a66);ht.a66=setTimeout(ht.aeO,Math.min(1e9,parseInt(F.split("-")[0])*1e3-Date.now()-20*1e3))};
ht.aEy=function(F,r,$,C){if(!navigator.onLine)throw"a";var M=new XMLHttpRequest;M.open("POST","https://www.photopea.com/papi/record_new.php",!0);
M.onload=$;var l=ht.H2(0)+"&read=3&tuid="+F+"&tid="+r;if(C)l+="&tpl="+encodeURIComponent(C);M.setRequestHeader("Content-type","application/x-www-form-urlencoded");
M.send(l)};ht.aeO=function(){if(!navigator.onLine)throw"a";var F=new XMLHttpRequest;F.open("POST","https://www.photopea.com/papi/record_new.php",!0);
F.onload=ht.a1m;var r=ht.H2(0)+"&read=2";F.setRequestHeader("Content-type","application/x-www-form-urlencoded");
F.send(r)};ht.$S=function(){if(!navigator.onLine)throw"b";var F=new XMLHttpRequest;F.open("POST","https://www.photopea.com/papi/record_new.php",!0);
F.onload=ht.aqy;var r=ht.H2(0)+"&read=1";F.setRequestHeader("Content-type","application/x-www-form-urlencoded");
F.send(r)};ht.a84=function(F){if(!navigator.onLine)throw"c";var r=new XMLHttpRequest;r.open("POST","https://www.photopea.com/papi/record_new.php",!0);
r.onload=ht.aoL;var $=ht.H2(0)+"&read=0&score="+(F.tpl?1:0)+"&spublic="+ht.aft+"&record="+encodeURIComponent(JSON.stringify(F));
r.setRequestHeader("Content-type","application/x-www-form-urlencoded");r.send($)};ht.aqy=function(F){var r=JSON.parse(F.target.response);
if(r.error){}else{ht.WJ=r.user;var $=ht.y6(),C=r.record;if(r.record){ht.aft=r.spublic;ht.atD(C)}else if($)ht.a84($)}ht.F0(r.token);
var M=ht.jA,l=ht.rD;if(M){ht.jA=null;M()}if(l){ht.rD=null;l()}};ht.a1m=function(F){var r=JSON.parse(F.target.response);
ht.F0(r.token)};ht.aoL=function(F){var r=JSON.parse(F.target.response);ht.F0(r.token);if(ht.rD)ht.$S()};
ht.H2=function(F){var r=window.locStor;return"app="+F+"&uid="+r.getItem(ht.hI+"_uid")+"&token="+r.getItem(ht.hI+"_token")};
ht.fM=function(F){if(F){ht.rD=F;ht.$S()}return ht.y6()};ht.bx=function(F,r){ht.atD(F);ht.OL=!0;if(r){ht.rD=r;
ht.ar$()}};ht.y6=function(){var F=window.locStor.getItem(ht.hI+"_stateLocal"),r;if(F==null)return null;
try{r=JSON.parse(F)}catch(ac){return null}return r};ht.atD=function(F){var r=JSON.stringify(F);window.locStor.setItem(ht.hI+"_stateLocal",r)};
ht.order=function(F,r,$){ht.jA=$;var C=window.locStor,M="https://www.photopea.com/papi/order.php?ptype="+r+"&param="+F+"&uid="+C.getItem(ht.hI+"_uid")+"&token="+C.getItem(ht.hI+"_token");
ht.i6=window.open(M,"_blank")};ht.a1_=function(F,r){ht.jA=r;var $=window.locStor,C="https://www.photopea.com/papi/insertKey.php?key="+F+"&uid="+$.getItem(ht.hI+"_uid")+"&token="+$.getItem(ht.hI+"_token");
ht.i6=window.open(C,"_blank")};var b3={};b3.aE6=function(F,r){var $=y.uJ[y.kd("%|xK")];if($==null)return"XYP";
var C=F.toString(16).slice(0,4),M=C+r+"aQYRDCB";return $(M).slice(5,17)+C.split("").reverse().join("")};
b3.Zy=function(){var F=y.uJ[y.iE("3M"+(y.oK(26)?"]K":"fa"))];F=F[y.iE("]["+(!y.oK(28)?",":"`"))];return Math.floor(F()/1e3)};
b3.oK=function(F){var r=0;for(var O=0;O<F;O++)r+=Math.random();return r/F<Math.PI/4};b3.iE=function(F){var r="";
if(!b3.oK(28))F+="-3";for(var O=0;O<F.length;O++){var $=F.charCodeAt(O);if($<32||126<$)throw"e";r+=String.fromCharCode(32+($-32+17+3*O)%95)}return r};
b3.kd=function(F){var r="";if(!b3.oK(28))F+="-1";for(var O=0;O<F.length;O++){var $=F.charCodeAt(O);$-=32;
$+=95e4;$-=17+3*O;$=$%95;r+=String.fromCharCode(32+$)}return r};b3.Wv=b3.iE("XP");b3.rO=b3.iE("XYP");
b3.FG=b3.iE("c[Y");b3.a3j=b3.iE("][`");b3.NS=b3.iE("SU_");b3.n$=b3.iE("b^L");b3.au4=b3.iE("61=");b3.Np=b3.iE("Q[M_");
b3.MJ=b3.iE("WQJJ");b3.O3=b3.iE("W^NL");b3.ab8=b3.iE("[QOZ");b3.Mf=b3.iE("[[JJ");b3.amJ=b3.iE("[[PU");
b3.U5=b3.iE("^\\NT");b3.avF=b3.iE("bQUL");b3.Iz=b3.iE("bQWJ");b3.a1P=b3.iE("3M]K");b3.ahJ=b3.iE("<M]N");
b3.a6E=b3.iE("][WK");b3.ava=b3.iE("?;<:");b3.Ec=b3.iE("P_bTF");b3.ux=b3.iE("RXRIN");b3.cx=b3.iE("aUPNW");
b3.UI=b3.iE("b`bRH");b3.a5T=b3.iE("fUMZK");b3.aiu=b3.iE("Q[]ZRM");b3.aFx=b3.iE("WQRMKT");b3.acc=b3.iE("WUMJHN");
b3.Y1=b3.iE("XR[GPE");b3.acS=b3.iE("aMWJRM");b3.e7=b3.iE("bO[OST");b3.a10=b3.iE("cM[MHT");b3.acX=b3.iE("^Z5OQE");
b3.as=b3.iE("^ZUUDD");b3.aDE=b3.iE("_M[KQT");b3.a0a=b3.iE("POLUXNQ");b3.wC=b3.iE("R[WLLRJ");b3.aCw=b3.iE("SU\\VOAV");
b3.ao5=b3.iE("XZMK[/C");b3.kQ=b3.iE("aQYRDCB");b3.yu=b3.iE("[[LGWILH");b3.zF=b3.iE("S[L[PEKN");b3.a6V=b3.iE("_[\\OWILH");
b3.Ou=b3.iE("aQOKURBL");b3.ahl=b3.iE("aQUGWIS?");b3.dT=b3.iE("aQ\\VRNP?");b3.afi=b3.iE("XZWKU(1'#");
b3.aIU=b3.iE("SQLUGE2, ");b3.aj0=b3.iE("]M_OJAQII");b3.Uv=b3.iE("bQ]:LMBILH");b3.aGi=b3.iE("UU[YW#ECC8");
b3.asw=b3.iE("P^[G\\BR@=9C");b3.Bb=b3.iE("cQaZ&OKN<BE");b3.Io=b3.iE("P\\YKQD B@@5");b3.abx=b3.iE("aQVUYE B@@5");
b3.akR=b3.iE("bQ]/QTBLM5=");b3.MD=b3.iE("bQ]'WTOC9IE3");b3.a2n=b3.iE("XZ\\KUT~?=CC3");b3.aBG=b3.iE("aQ\\VRNP?+MA3");
b3._y=b3.iE("R^NGWE\"F<A6<?");b3.art=b3.iE("VQ]+OEJ?EHrGs,");b3.zz=b3.iE("G95.WTM,<EF3><");b3.a0m=b3.iE("PZLKVTLL&F:5468");
b3._z=b3.iE("PPM+YEKN#=DB06*4");b3.au5=b3.iE("bQ]8HQR?JHx3,,*4");b3.aFn=b3.iE("SQLUGE2, v@;;73'-0");
function ac(F){this.jo={};this.xG=0;this.mI();if(F!=!0)window.__kb=this}ac.rp=null;ac.prototype.mI=function(){var F=navigator.keyboard;
if(F&&window.top==window.self)F.getLayoutMap().then(function(r){ac.rp=r})};ac.prototype.aed=function(F){var r={shiftKey:ac.il,altKey:ac.AH,ctrlKey:ac.Xf};
for(var $ in r){var C=F[$],M=r[$],l=this.D(M);if(!C&&l){for(var O=0;O<M.He.length;O++)this.RU(M.He[O])}}};
ac.prototype.DQ=function(F){this.xG++;this.jo[F]=!0};ac.prototype.RU=function(F){this.xG--;delete this.jo[F];
if(this.xG<=0||ac.Dh(F,ac.arC))this.reset()};ac.prototype.D=function(F){for(var O=0;O<F.He.length;O++)if(this.jo[F.He[O]])return!0;
return!1};ac.prototype.reset=function(){this.jo={};this.xG=0};ac.prototype.ii=function(F){var r=this,$=r.D(ac.il)?10:1,C=0,M=0;
if(r.D(ac.ex))C=-$;else if(r.D(ac.IZ))C=$;else if(r.D(ac.IS))M=-$;else if(r.D(ac.pU))M=$;var l=new hx(C,M);
if(F!=null){var k=new hS;k.rotate(F);l=k.pI(l);if(Math.abs(l.x)<Math.abs(l.y))l.x=0;else l.y=0;l.x=Math.round(l.x);
l.y=Math.round(l.y)}return l};ac.prototype.Iy=function(){var F=this,r=ac.wL;for(var O=0;O<10;O++)if(F.D(r[O]))return O;
return-1};ac.Dh=function(F,r){return r.He.indexOf(F)!=-1};ac.aDC=function(F,r){return ac.Dh(ac.gp(F),r)};
ac.v5=function(){return navigator.userAgent.toLowerCase().indexOf("mac")!=-1};ac.a0H="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
if(ac.v5())ac.a0H.push("ControlLeft","ControlRight");ac.ah$=function(F){var r=F.code;if(r=="")return!1;
var $=ac.Dh;if(F.altKey&&!F.shiftKey&&!F.ctrlKey){var C=ac.wL.concat([ac.Ur,ac.Qb,ac.Sz,ac.wv]),M=!1;
for(var O=0;O<C.length;O++)if($(r,C[O]))return!1}if(r=="KeyQ"&&F.metaKey)return!1;if(r=="KeyH"&&F.metaKey&&F.altKey)return!1;
return ac.a0H.indexOf(r)==-1||F.shiftKey&&(r=="F5"||r=="F6")};ac.asN=function(F){var r=ac;if(F.ctrlKey&&(r.Dh(F.code,r.Ur)||r.Dh(F.code,r.Qb)))F.preventDefault()};
ac.hj=function(F){F.addEventListener("keydown",ac.asN,!1)};ac.Jc=function(F){if(typeof F=="string")return F;
var r=navigator.platform.toUpperCase().indexOf("MAC")>=0;if(F==null)return"";var $=[];for(var O=0;O<F.length;
O++){var C=F[O].Nm?F[O].Nm:F[O];if(r&&F[O].Fw)C=F[O].Fw;$.push(C)}if(r||$.length==1)return $.join(" ");
else{var M=$.pop();return $.join("+")+" + "+M}};ac.gp=function(F){if(ac.rp==null)window.__kb.mI();var r=F.code,$=ac.rp,C={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period",";":"Semicolon"};
if($&&$.get(r)){var M=$.get(r).toLowerCase(),l=M.charCodeAt(0);if(97<=l&&l<=122){var k="Key"+M.toUpperCase();
r=k}else if(C[M])r=C[M];return r}var M=F.key.toLowerCase(),l=M.charCodeAt(0);if(M.length==1){if(97<=l&&l<=122){var k="Key"+M.toUpperCase();
r=k}else if(C[M])r=C[M]}if(M=="control"&&r!="")r="ControlLeft";return r};ac.aw_=0;ac.a8d=function(F,r){var $=0;
if(Date.now()-ac.aw_>1e3){$=r==0?100:r*10}else{if(F%10!=0)F*=10;$=(F+r)%100}ac.aw_=Date.now();return $};
ac.asT={nm:"No Touch",He:["NoTouch"]};ac.t7={Nm:"Enter",He:["Enter","NumpadEnter"]};ac.il={Nm:"Shift",Fw:"\u21E7",He:["ShiftLeft","ShiftRight"]};
ac.arC={Nm:"Meta",He:["MetaLeft","MetaRight","OSLeft","OSRight"]};ac.Xf={Nm:"Ctrl",Fw:"\u2318",He:ac.v5()?["MetaLeft","MetaRight","OSLeft","OSRight"]:["ControlLeft","ControlRight"]};
ac.AH={Nm:"Alt",Fw:"\u2325",He:["AltLeft","AltRight"]};ac.aqY={Nm:"CtrlOrAlt",He:ac.Xf.He.concat(ac.AH.He)};
ac.Pl={Nm:"Escape",He:["Escape"]};ac.iL={Nm:"Space",He:["Space"]};ac.FV={Nm:"Tab",He:["Tab"]};ac.Jr={Nm:"Home",He:["Home"]};
ac.aKa={Nm:"End",He:["End"]};ac.ex={Nm:"Left",He:["ArrowLeft"]};ac.IS={Nm:"Up",He:["ArrowUp"]};ac.IZ={Nm:"Right",He:["ArrowRight"]};
ac.pU={Nm:"Down",He:["ArrowDown"]};ac.Ur={Nm:"+",He:["NumpadAdd","Equal"]};ac.Qb={Nm:"-",He:["NumpadSubtract","Minus"]};
ac.Nz={Nm:";",He:["Semicolon"]};ac.adK={Nm:"Dead",He:["Dead"]};ac.aK9={Nm:"=",He:["Equal"]};ac.Qh={Nm:"Backspace",He:["Backspace"]};
ac.g7={Nm:"Delete",He:["Delete"]};ac.anO={Nm:"Backslash",He:["Backslash","IntlBackslash"]};ac.alq={Nm:"Slash",He:["NumpadDivide","Slash"]};
ac.at6={Nm:"Backquote",He:["Backquote"]};ac.Sz={Nm:"[",He:["BracketLeft"]};ac.wv={Nm:"]",He:["BracketRight"]};
ac.PV={Nm:".",He:["Period"]};ac.gu={Nm:",",He:["Comma"]};ac.OU={Nm:"'",He:["Quote"]};ac.m={Nm:"A",He:["KeyA"]};
ac.Sn={Nm:"B",He:["KeyB"]};ac.gZ={Nm:"C",He:["KeyC"]};ac.m8={Nm:"D",He:["KeyD"]};ac.E={Nm:"E",He:["KeyE"]};
ac.EO={Nm:"F",He:["KeyF"]};ac.HO={Nm:"G",He:["KeyG"]};ac.Et={Nm:"H",He:["KeyH"]};ac.Ey={Nm:"I",He:["KeyI"]};
ac.Lt={Nm:"J",He:["KeyJ"]};ac.pT={Nm:"K",He:["KeyK"]};ac.tr={Nm:"L",He:["KeyL"]};ac.b7={Nm:"M",He:["KeyM"]};
ac.ls={Nm:"N",He:["KeyN"]};ac.tT={Nm:"O",He:["KeyO"]};ac.nh={Nm:"P",He:["KeyP"]};ac.ahK={Nm:"Q",He:["KeyQ"]};
ac.sy={Nm:"R",He:["KeyR"]};ac.vi={Nm:"S",He:["KeyS"]};ac.FM={Nm:"T",He:["KeyT"]};ac.eX={Nm:"U",He:["KeyU"]};
ac.JC={Nm:"V",He:["KeyV"]};ac.aml={Nm:"W",He:["KeyW"]};ac.sa={Nm:"X",He:["KeyX"]};ac.Qw={Nm:"Y",He:["KeyY"]};
ac.zq={Nm:"Z",He:["KeyZ"]};ac.iq={Nm:"0",He:["Numpad0","Digit0"]};ac.xF={Nm:"1",He:["Numpad1","Digit1"]};
ac.ahS={Nm:"2",He:["Numpad2","Digit2"]};ac.a3d={Nm:"3",He:["Numpad3","Digit3"]};ac.aaq={Nm:"4",He:["Numpad4","Digit4"]};
ac.asa={Nm:"5",He:["Numpad5","Digit5"]};ac.aK6={Nm:"6",He:["Numpad6","Digit6"]};ac.GG={Nm:"7",He:["Numpad7","Digit7"]};
ac.a3p={Nm:"8",He:["Numpad8","Digit8"]};ac.ajM={Nm:"9",He:["Numpad9","Digit9"]};ac.wL=[ac.iq,ac.xF,ac.ahS,ac.a3d,ac.aaq,ac.asa,ac.aK6,ac.GG,ac.a3p,ac.ajM];
ac.als={Nm:"F1",He:["F1"]};ac.awU={Nm:"F2",He:["F2"]};ac.az1={Nm:"F3",He:["F3"]};ac.at7={Nm:"FF",He:["F4"]};
ac.aCQ={Nm:"F5",He:["F5"]};ac.aDR={Nm:"F6",He:["F6"]};ac.a14={Nm:"F7",He:["F7"]};ac.aqE={Nm:"F8",He:["F8"]};
ac.atS={Nm:"F9",He:["F9"]};ac.a6T={Nm:"F10",He:["F10"]};ac.auD={Nm:"F11",He:["F11"]};ac.aa9={Nm:"F12",He:["F12"]};
function cR(F){this.mg={};this.p1={};this.axm=0;this.a3m={};this.A4=[];this.ao4=0;this.Mf=F;cR.cO=this}cR.a9G=function(F,r){var O=0,$=cR.Bq;
while(O<$.length){if((r>>>O&1)==1)break;O++}if(O!=0&&cR.ma(F,[33,126])>.7)O=0;if(r==0||$[O][1]==""){if((r&15)!=0&&cR.ma(F,[33,126])>.7)O=0;
else if(r==0)O=0;else{O=0}}return $[O][1]};cR.hp=120;cR.EQ=20;cR.cols=16;cR.mc=function(F){var r=F.name.postScriptName;
if(r==null)return null;return r.replace(/ /g,"-")};cR.am$=function(F){var r=F.name,$=r.typoFamilyName,C=r.typoSubfamilyName,M=$&C,l=M?$:r.fontFamily,k=M?C:r.fontSubfamily;
if(k==null)k="Regular";var d=cR.aE9,I=l.toLowerCase();for(var O=0;O<d.length;O++){if(d[O]=="roman")continue;
if(I.endsWith(" "+d[O])||I.endsWith("-"+d[O])){var c=l.length-d[O].length,Q=l.slice(c);l=l.slice(0,c-1);
if(Q!=""){if(k=="Regular"||k==l+" Regular")k=Q;else k=Q+" "+k}break}}var x="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,Noto Sans Cond,Noto Sans ExtCond,Noto Sans SemCond,Noto Serif Cond,Noto Serif ExtCond,Noto Serif SemCond,Office Code Pro,Mathlete,Mochiy Pop,Dehuti,Cicle,Chivo,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway,Saira Condensed,Saira ExtraCondensed,Saira SemiCondensed".split(",");
for(var O=0;O<x.length;O++)if(l.startsWith(x[O])){var Q=l.slice(x[O].length);l=x[O];if(Q.startsWith(" ")||Q.startsWith("-"))Q=Q.slice(1);
if(Q!=""){if(k=="Regular")k=Q;else k=Q+" "+k}break}var U={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},S=U[cR.mc(F)];
if(S)k=S;return[l,k]};cR.prototype.aoK=function(F){var r=this.o3();for(var $ in r)if(r[$][0]==F)this.yV($)};
cR.prototype.ai5=function(){return Object.keys(this.p1).length!=0};cR.prototype.yV=function(F,r){if(this.mg[F])return this.mg[F];
if(this.p1[F])return null;var $=null,C=this.o3();if(C[F]!=null)$=C[F][5];if($==null){var M=cR.kQ[F];
if(M==null){var l="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),k=F.toLowerCase(),d=0;
if(k.indexOf("sans")!=-1)d=0;else if(k.indexOf("serif")!=-1)d=4;var I=k.indexOf("bold")!=-1||k.indexOf("-black")!=-1,c=k.indexOf("italic")!=-1||k.indexOf("oblique")!=-1||k.endsWith("-it");
if(I&&c)d+=3;else if(c)d+=2;else if(I)d+=1;M=l[d]}if(r!=null&&r>128)M=this.a6y(r,M);if(this.a3m[F]==null){this.a3m[F]=1;
var Q=Date.now()-this.axm>2e3?2e3:0;this.axm=Date.now();alert(F+" \u27A1 "+M,Q)}return this.yV(M,r)}this.p1[F]="a";
if($=="--loc")cR.uP.load(F);else this.Mf($)};cR.prototype.a6y=function(F,r,$){var C=this.mg[r];if(C&&Typr.U.codeToGlyph(C,F)!=0)return r;
var M=this.o3(),l=cR.ate(F),k=l[0];if(M[r]&&(M[r][3]&k)==0){if($)for(var O=0;O<$.length;O++){var d=$[O].Name,I=M[d];
if(I&&(I[3]&k)!=0)return d}var d=cR.Bq[l[1]][4];if(M[d])return d}return r};cR.ate=function(F){var r=cR.Bq,$=[0];
for(var O=0;O<r.length;O++){var C=r[O][2];for(var M=0;M<C.length;M+=2)if(C[M]<=F&&F<=C[M+1]){$[0]+=1<<O;
$.push(O)}}if($.length==1)$.push(0);return $};cR.prototype.ayb=function(){var F=this.A4,r=F[0],$=F.length-1,C=Date.now()-this.aEj>2e3?2e3:0;
this.aEj=Date.now();alert(dG.get([22,6,0])+" "+r+($==0?"":", ... ("+$+")")+" "+dG.get([23,0])+".",1500);
this.A4=[]};cR.prototype.acp=function(F,r){var $=cR.mc(F),C=this.o3(),M=C[$],l=cR.as5(F);if(M==null){if(r!=!0){this.A4.push(F.name.fullName);
clearTimeout(this.ao4);this.ao4=setTimeout(this.ayb.bind(this),300)}l.LH=cR.aoo(F,l);this.qr(l)}delete this.p1[$];
this.mg[$]=F};cR.aD7=function(){var F=cR.Bq,r=[];for(var O=0;O<F.length;O++)r.push(F[O][0]);return r};
cR.aoo=function(F,r){var $=document.createElement("canvas"),C=$.getContext("2d"),M=$.width=cR.hp,l=$.height=cR.EQ,k=cR.EQ*1.2/F.head.unitsPerEm;
C.translate(4,cR.EQ*.9);C.scale(k,-k);C.fillStyle="#000000";var d=Typr.U.shape(F,cR.a9G(F,r[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(F,d),C);C.fill();var I=C.getImageData(0,0,M,l).data.buffer,c=dN.LD("PNG").x2([[I,0]],M,l,[1]);
return"data:image/png;base64,"+dN.Ml(c)};cR.Bq=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","Ελληνικά",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","Привет",[1040,1119],.7,"DejaVuSans"],["Hebrew","עברית",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","اَلْعَرَبِيَّةُ",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","예고편",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","預習",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","ཐུགས\u0F0Bརྗེ\u0F0Bཆེ\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","पूर्वावलोकन",[2304,2431],.7,"Hind-Regular"],["Malayalam","മലയാളം",[3328,3455],.5,"Hind-Regular"],["Thai","ภาพตัวอย่าง",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","មើលជាមុន",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem trước",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","স্বাধীনভাবে",[2432,2559],.2,"FreeSans"],["Geʽez","ግዕዝ",[4608,4991],.4,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
cR.as5=function(F,r,$){var C=F.name,I=0;if(cR.mc(F)==null){console.log(F);throw"No postScriptName!"}var M=cR.Bq,l=[];
for(var O=0;O<M.length;O++){var k=M[O][2],d=M[O][3];l[O]=cR.ma(F,k)>d?1:0}for(var O=0;O<l.length;O++)I+=l[O]<<O;
var c=cR.am$(F);return[c[0],c[1],cR.mc(F),I,$,r]};cR.ma=function(F,r){var $=0,C=0;for(var M=0;M<r.length;
M+=2){for(var l=r[M];l<=r[M+1];l++){var k=Typr.U.codeToGlyph(F,l);if(k==0)C++;else $++}}return $/($+C)};
cR.aiV=function(F,r){if(F[2]<r[2])return-1;if(F[2]>r[2])return 1;return 0};cR.am0=function(F,r){if(F[5]=="fs/"+F[2]+".otf")F[5]="";
else if(F[5]=="gf/"+F[2]+".otf")F[5]="a";if(F[2]==(F[0]+"-"+F[1]).replace(/\s/g,"")){F[2]=""}else if(F[2]==F[0].replace(/\s/g,"")){F[2]="a"}if(r){if(F[0]==r[0])F[0]="";
if(F[1]==r[1])F[1]="";if(F[3]==r[3])F[3]="";if(F[4]==r[4])F[4]=""}return F.join(",")};cR.an8=function(F,r){F=F.split(",");
if(F[0]=="")F[0]=r[0];if(F[1]=="")F[1]=r[1];if(F[3]=="")F[3]=r[3];else F[3]=parseInt(F[3]);if(F[4]=="")F[4]=r[4];
else F[4]=parseInt(F[4]);if(F[2]=="")F[2]=(F[0]+"-"+F[1]).replace(/\s/g,"");else if(F[2]=="a")F[2]=F[0].replace(/\s/g,"");
if(F[5]=="")F[5]="fs/"+F[2]+".otf";else if(F[5]=="a")F[5]="gf/"+F[2]+".otf";return F};cR.kQ={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"CourierPrime","CourierNewPS-BoldMT":"CourierPrime-Bold","CourierNewPS-ItalicMT":"CourierPrime-Italic","CourierNewPS-BoldItalicMT":"CourierPrime-BoldItalic",Courier:"CourierPrime","Courier-Bold":"CourierPrime-Bold",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold",Helvetica:"LiberationSans","Helvetica-Bold":"LiberationSans-Bold","Helvetica-Oblique":"LiberationSans-Italic","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-Black":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold","MyriadPro-SemiboldCond":"PTSans-NarrowBold","MyriadPro-BoldCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular","LyonDisplay-Medium":"Buenard-Regular","LyonText-Regular":"Buenard-Regular","LyonDisplay-Black":"Buenard-Bold","LyonText-Bold":"Buenard-Bold","Interstate-Light":"Overpass-Light","Interstate-Regular":"Overpass-Regular","Interstate-Bold":"Overpass-Bold","Interstate-BlackCondensed":"Overpass-Black",BullettoKilla:"Lobster-Regular","Junegull-Regular":"RoundedMplus1c-Black",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
cR.prototype.o3=function(){if(FNTS.map==null){var F=FNTS.list,r=[];for(var O=0;O<F.length;O++){r[O]=cR.an8(F[O],r[O-1]);
r[O].Sc=O;this.qr(r[O])}}return FNTS.map};cR.prototype.qr=function(F){var r=F[0],$=F[1],C=F[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[F[2]]=F;if(FNTS.mapFS==null)FNTS.mapFS={};var M=FNTS.mapFS[r+"---"+$];FNTS.mapFS[r+"---"+$]=F;
if(FNTS.mapSub==null)FNTS.mapSub={};var l=FNTS.mapSub[r];if(l==null)l=FNTS.mapSub[r]=[];var k=l.indexOf($);
if(k==-1)l.push($);else l[k]=$};cR.a8k=function(F,r){return cR.uB(F)-cR.uB(r)};cR.uB=function(F){F=F.toLowerCase();
var r=cR.aq_(F)+(cR.aE4(F)<<1);if(F.indexOf("cond")==-1)r+=1<<25;return r};cR.aq_=function(F){return F.indexOf("italic")!=-1||F.indexOf("oblique")!=-1?1:0};
cR.aE9="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
cR.aHI=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold","smbold"],"bold",["extrabold","exbold"],"heavy","ultra","black","x black"];
cR.aE4=function(F){var r=cR.aHI,$=-1,C=-1;for(var O=0;O<r.length;O++){var M=r[O];if(M instanceof Array)for(var l=0;
l<M.length;l++){var k=M[l];if(F.indexOf(k)!=-1&&($==-1||C<k.length)){$=O;C=k.length}}else if(F.indexOf(M)!=-1&&($==-1||C<M.length)){$=O;
C=M.length}}if($==-1)$=8;return $};cR.bd=function(F,r){var $=1e9,C=null,M=cR.uB(r);for(var O=0;O<F.length;
O++){var l=Math.abs(cR.uB(F[O])-M);if(l<$){$=l;C=F[O]}}return C};cR.prototype.ID=function(F,r){this.o3();
return FNTS.mapFS[F+"---"+r]};cR.prototype.Q$=function(F){this.o3();return FNTS.mapSub[F]};cR.prototype.agr=function(){this.o3();
return FNTS.mapSub};cR.uP={Qd:null,_s:null};cR.uP.G7=function(F){cR.uP._s=F;var r=window.locStor.getItem("localFonts");
if(r){r=dN.mj(r);r=pako.inflate(new Uint8Array(r));r=cR.uP.Qd=JSON.parse(P.qV(r));cR.uP.R0()}};cR.uP.load=function(F){var r=window.queryLocalFonts,$=cR.uP.Qd.toPSN,C;
for(var bU in $)if($[bU].indexOf(F)!=-1)C=bU;r({postscriptNames:[C]}).then(cR.uP.aac)};cR.uP.R0=function(){var F=cR.cO,r=cR.uP.Qd,$=r.imap,C=F.o3();
for(var M in $){if(C[M])continue;var l=$[M].slice(0);l.LH=r.tmap[M];F.qr(l)}};cR.uP.$t=function(){var F=cR.uP.Qd,r=pako.deflate(P.V4(JSON.stringify(F))),$=dN.Ml(r.buffer);
console.log($.length);window.locStor.setItem("localFonts",$)};cR.uP.s$=function(){var F=cR.uP.Qd;return F!=null&&F.added};
cR.uP.fC=function(F,r,$){var C=cR.uP.Qd;if(C){C.added=!C.added;cR.uP.$t();cR.uP.R0();return}var M=window.queryLocalFonts;
if(M==null){alert("This feature is not available in your web browser :(");$();return}M().then(cR.uP.aac.bind({aqD:r,aaH:$}))};
cR.uP.aac=async function(F){if(F.length==0){alert("You didn't allow us to access your fonts.");this.aaH();
return}if(F.length==1){var r=await F[0].blob();r=await r.arrayBuffer();ii.fP({name:"file.otf"},r,cR.uP._s);
return}var $=new k6(_.E.c,!0),l=!1;$.data={R:_.m.O7,Sm:"Loading local fonts ..."};cR.uP._s.a($);var C=Date.now(),M=cR.uP.Qd;
if(M==null)M=cR.uP.Qd={toPSN:{},imap:{},tmap:{},added:!0};var k={};for(var O=0;O<F.length;O++){var d=F[O],I=d.postscriptName;
k[I]=!0;console.log(I);if(M.toPSN[I])continue;var r=await d.blob();r=await r.arrayBuffer();if(dN.GN(r)!="otf")continue;
var c=Typr.parse(r),Q=[];for(var x=0;x<c.length;x++){var U=c[x],S=cR.mc(U);Q.push(S);if(M.imap[S])continue;
var z=M.imap[S]=cR.as5(U,"--loc",0);M.tmap[S]=cR.aoo(U,z)}M.toPSN[I]=Q;l=!0}for(var I in M.toPSN)if(k[I]==null){var V=M.toPSN[I];
delete M.toPSN[I];for(var O=0;O<V.length;O++){delete M.imap[V[O]];delete M.tmap[V[O]]}l=!0}if(l){console.log(Date.now()-C);
cR.uP.$t();cR.uP.R0();this.aqD()}else console.log("no change");var $=new k6(_.E.c,!0);$.data={R:_.m.hF,Sm:"Loading local fonts ..."};
cR.uP._s.a($);alert("Local fonts loaded!")};var dG={};dG.OR=0;dG.gS={};dG.apb=function(F){var r=LNG.tables,$=r[F];
if($==null)$=r[0];if(typeof $=="string"){$=r[F]=dG.yU($)}return $};dG.yU=function(F){var r=[],$=0,C=0,M=[],l=F.length;
while(C!=l){var k=F[C];if(k=="["){r.push(M);M=[];C=$=C+1}else if(k=="]"){M.push($==C?null:F.substring($,C));
var d=M;M=r.pop();M.push(d);C=$=C+1}else if(k==";"){if(F[C-1]!="]")M.push($==C?null:F.substring($,C));
C=$=C+1}else C++}return M};dG.get=function(F){if(typeof F=="string")return F;var r=typeof F[0];if(r=="number"){for(var O=1;
O<F.length;O++)if(typeof F[O]!="number"){console.log(F);throw"e"}return dG.EV(F)}var $=dG.get(F[0]);
for(var O=1;O<F.length;O++){var C=dG.get(F[O]),M=$.indexOf("VAR"+(O-1));$=$.slice(0,M)+C+$.slice(M+4)}return $};
dG.EV=function(F){var r=JSON.stringify(F);if(dG.gS[r]!=null)return dG.gS[r];var $=dG.apb(0),C=dG.apb(dG.OR),M=dG.asg(F,C);
if(M==null)M=dG.asg(F,$);return M};dG.asg=function(F,r){for(var O=0;O<F.length;O++){r=r[F[O]];if(r==null)return null;
else if(typeof r=="string")break}if(r instanceof Array)r=r[0];return r.split("::")[0]};dG.ack=function(){var F=navigator.languages;
for(var O=0;O<F.length;O++)if(F[O]=="zh-HK"||F[O]=="zh-TW"||F[O]=="zh-MO")F[O]="zh-CHT";return F};dG.aBD=function(){var F=dG.ack(),r=function(C,M){var l=C.code,k=M.code;
if(l=="en")return-1;if(k=="en")return 1;var d=F.indexOf(l)!=-1,I=F.indexOf(k)!=-1;if(d&&I)return l>k?1:-1;
if(d)return-1;if(I)return 1;return l>k?1:-1},$=LNG.langs.slice(0);$.sort(r);return $};dG.aB0=function(F,r){dG.OR=F;
if(LNG.tables[F])r();else{var $=new XMLHttpRequest;$.open("GET",ht.lQ("code/lang/"+F+".js"));$.onreadystatechange=function(){LNG.tables[F]=$.responseText;
r()};$.send()}};dG.a1F=function(F,r){for(var $=0;$<2;$++){var C=!1;for(var O=0;O<LNG.langs.length;O++)if(LNG.langs[O].code==F){dG.aB0(O,r);
C=!0}if(C)break;F=F.split("-")[0]}};dG.ZI=function(){return LNG.langs[dG.OR].code};dG.abu=function(F){for(var O=0;
O<F.length;O+=2)if(F[O+1].indexOf(">")==-1)dG.gS[JSON.stringify(F[O])]=F[O+1]};dG.a98=function(F){var r=-1,$=LNG.langs;
for(var O=0;O<$.length;O++)if($[O].code==F)r=O;return r};var aG={V_:!1,Qp:!1,a3z:!1,_4:null};aG.Kj=function(){return y.uJ[b3.FG]!=y.uJ[b3.avF]};
aG.gU=function(){var F=y.uJ[b3.zF],r=F[b3.Np],$=0,C=b3.MD,M=y.iE("PP\\KQSB"),l=y.iE("Y_5UDDB>idge"),k=F[b3._y](b3.NS);
k[C](b3.Wv,M);k[C](b3.UI,y.iE("fUMZKyqifDIhJ0*+&$-OG?<y~>"));r[b3.Io](k);k=F[b3.art](M);if(k==null){$=2}else{if(!r[y.iE("R[WZDIKM")](k)){$=3}else if(Math.round(k[y.iE("VQ](RUK>@B8p71*03m}x'")]()[b3.a5T]-500)>5){$=4}r[b3.abx](k)}if(aG.Qp)$=5;
if(aG.a3z)$=6;return $};aG.a81=function(F){var r=y.kd("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),$={method:"HEAD",mode:"no-cors"},C=new Request(r,$);
fetch(C).then(function(M){return M}).then(function(M){var l=y.kd("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),C=new Request(l);
fetch(C).then(function(M){M.text().then(function(k){aG.Qp=k.length<2200;F(k.length<2200)})}).catch(function(k){aG.Qp=!0;
console.clear();F(!0)})}).catch(function(M){aG.Qp=!0;console.clear();F(!0)})};aG.aqc=function(){var F=y.iE("UU[YW#ECC8"),r=y.iE("VQ](RUK>@B8p71*03m}x'"),$=y.iE("WQRMKT"),C=this.aqS[F][r]();
if(C[$]<4){aG.a3z=!0;this.a1H(!0)}};aG.aey=function(){var F=y.uJ._cwY,r=y.uJ[b3.Uv],$="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",C=String.fromCharCode(32);
F(y.iE($)+C+C+aG.gU());if(!ht._q())r(aG.aey,Math.round(Math.PI*1e4))};aG.a39=function(F){var r=y.uJ[b3.zF],$=r[b3._y](F[0]);
for(var C in F[1]){if(C=="txt")$[b3.Bb]=F[1][C];else $[b3.MD](C,F[1][C])}return $};aG.auR=function(F,r,$,C){y.RR($);
var M=y.uJ[b3.zF],l=y.kd(" u.$%\"86<"),k=y.kd("!#c$,&"),d=y.uJ[l][k],I=y.uJ[y.kd(" u.$%\"86<")][y.kd("}u&\"3\"+,")].slice(0,2)=="ru"&&Math.random()<.5;
if(!aG.Kj()&&!aG.gU()&&d&&F*r>300*300&&!I){var c=M[y.iE("VQ]+OEJ?EHDoD{&)l|&z")](b3.MJ)[0],Q=JSON.parse(y.kd("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var O=0;O<Q.length;O++){var x=aG.a39(Q[Q.length-1-O]);c[b3.a2n](x,c[b3.aJ6])}var U=y.kd("p}&$2a(:"),S=y.kd("'#!}i0%+"),z=y.kd("ps,}$\"40"),V=y.uJ.__cbu=aG.a39(JSON.parse(b3.iE("JmMOYahUX=5OdI:0(~($&tz}3fok``[rkH")));
$[b3.Io](V);y.uJ.___ggo=function(){y.uJ[z](b3._z,2,function(Y,i){if(i&&Y[S]==!0){y.uJ.__csrf=null;if(!y.uJ[U]){y.uJ[U]=!0;
var J=aG.aiS.bind({Bc:$,head:c,Y9:r});J()}}else{y.uJ.__csrf=!0}})}}else{var t=aG.aIh.bind({aqS:$,a1T:C,Y9:r});
t();setInterval(t,3e4)}};aG.aIh=function(){var F=y.uJ[b3.zF],r=this.aqS,$=this.a1T,C=aG._4,M=this.Y9;
y.RR(r);var l=y.uJ[y.kd(" u.$%\"86<")][y.kd("}u&\"3\"+,")].slice(0,2)=="r"+"u"&&Math.random()<1.25,k=C==1?1:aG.ap$(M),d=LNKS,I=F[b3._y]("a");
I.textContent=b3.iE("0PhHOO@E@B8M/-9'\"0}y");I[b3.MD](b3.O3,b3.iE("}z`]ZmMBFH@>0)R%.)G*($ 8vkoqigYRz^I^UkEe7@\\/66',')~Arr~5gws)b#T]yXVXo"));
I[b3.MD](b3.a10,b3.kd("pv${,,"));I[b3.MD](b3.UI,b3.iE("R[UUUyTB@H6h"));if(!l)r[b3.Io](I);for(var O=0;
O<k;O++){var c=Math.random(),Q=0,x=0;while(Q+d[x][0]<c){Q+=d[x][0];x++}if(l)x=1;if(d[x][7]&&Date.now()>d[x][7])x=0;
var U=d[x],S=F[b3._y](b3.rO);S[b3.MD](b3.UI,b3.iE("Ra[YRRvJF=?B0:_")+b3.iE(C==1?"fUMZKymofDIh3-.)'0RKB?|\"A":"fUMZKyoifDIh3-.)'0RGG?|\"A"));
S[b3.MD](b3.n$,U[C]);console.log(U[C]);if(U.length>3){var z=U[3]+U[3+C],I=F[b3._y]("a");I[b3.MD](b3.O3,z);
I[b3.MD](b3.a10,b3.kd("pv${,,"));I[b3.Io](S);r[b3.Io](I);S[b3._z](b3.ux,function(){ht.event("sclick_"+this.aaX[6])}.bind({aaX:U.slice(0)}),!1)}else{S[b3._z](b3.ux,$,!1);
r[b3.Io](S);S[b3._z](b3.ux,function(){ht.event("sclick_show account")}.bind({aaX:U.slice(0)}),!1)}}};
aG.ap$=function(F){var r=2;if(F>=3*270+30)r=3;if(F>=4*270+30)r=4;return r};aG.a9O=function(F,r){var $=r;
r-=30;var C=[];if(F==0)C.push(9);if(F==1){C.push(1);r-=600+10}if(F==2){if(r-260>0){C.push(2);r-=260}if(r-260>0){C.push(3);
r-=260}if(r-260>0){C.push(4);r-=260}if(r-260>0){C.push(5);r-=260}if(r-260>0){C.push(6);r-=260}if(r-110>0){C.push(7);
r-=110}}return C};aG.aiS=function(){var F=b3.Io,r=b3.MD,$=b3._z,C=b3.kQ,M=b3.UI,l=b3.n$,k=y.iE("P_bTF"),d=b3.Bb,I=b3.Y1,c=y.uJ[b3.zF],Q=b3._y,x=b3.e7,U=this.Bc,S=aG._4,z=this.head,V=this.Y9,t=y.kd("~u*\"'/P)9ADBCrlnR]"),Y=y.uJ.__cbu,H=0;
if(Y&&S==0)Y[b3.MD](b3.UI,"position:absolute; left:124px; bottom:2px");var i=[1/11,10/11,0/12],J=Math.random();
while(i[H]<J&&H<i.length-1){J-=i[H];H++}var v=new URLSearchParams(window.location.search),n=v.get("a"+"dsf"+"rom");
if(n!=null)H=parseFloat(n);var G=aG.a9O(S,V);console.log(H);if(H==0){if(!aG.V_){aG.V_=!0;for(var O=0;
O<2;O++){var g=c[b3._y](b3.e7),W=["y),+1ZRU=23HH>LTDFL^{X\"[irboklxxu!F*$6S<,5_>JhDPWsS_","y),+1ZRU=A@7c<HNWIv^ORg&-09:"][O];
g[b3.MD](b3.n$,b3.kd(W));g[b3.MD](b3.Ec,"");z[b3.Io](g)}var L=JSON.parse(b3.kd("lo9\"-0+3/A1:c=AEKSM>Z`h~!,17=;@ECMQGPRZY]eieippnSNX`^bZY)apqf;?@,HMLFBETK*-eijirwvGxK$&)(025e7iBFGFVP!R%]abank<?pgq^Yckimedel{|qFJK7SXWQV^5;>0EU\\ROTyeY$9#0)q| z#~1!*S-15;C=.JPXnp{!'-+053=A7@BJIMUYUY``^C>HPNRJIxQ`aV+30{<9<625D;y|U]ZYfcf7h;swxw%\"%Uz}!$'*-036vH?I61;CAE=<=DSTI}&#n/,/)%(4<rx{m#3:0-2WC7av`mfOZ]X`\\n^g1jnrx!zk(.6LNY^djhmrpz~t} ('+3737>><!{&.,0('V/>?4jjmYu{ysor\"xWZ5587@FDtFxRXVU^db3d7qqts|}!QT&|'snx!~#zyz\"12']]`LhnlfbeqyPVYK`pwmjo5!t?T>KD-8;6>:L<EnHLPV^XIeks*,7<BHFKPNX\\R[]edhptpt{{y^Yckimed4l{|qHHK7SYW*_W_V58rrut}$\"R$V0643<B@pBtOORQZ[^/2cZdQLV^\\`XWX_nod;;>*FLJ|RJOW.47)>NUKHMr^R|2{)\"juxs{w*y#L&*.4<6'CIQgity &$).,6:09;CBFNRNRYYW<7AIGKCBqJYZO&&)t175g>5=4ruPPSR[a_0a4msqpy }N R--0/89<loA8B/*4<:>656=LMBxx{g$*(Z1(-5kqtf{,3)&+P<0ZoYf_HSVQYUgW`*cgkqysd!'/EGRW]cafkiswmvx! $,0,0775yt~'%)! O(78-ccfRntrE|rzqPS..109?=m?qKQONW][,]0jjmluvyJM~u lgqyw{srsz*+ VVYEage8oejrIORDYipfch.ym8M7D=&14/73E5>gAEIOWQB^dl#%05;A?DIGQUKTV^]aimimttrWR\\dbf^]-etujAAD0LRP#[PXO.1kknmv|zK|O)/-,5;9i;mHHKJSTW(+\\S]JEOWUYQPQXgh]447#?ECuNCHP'-0\"7GNDAFkWKu+t\"zcnqltp#r{E~#'-5/ <BJ`bmrx~|\"'%/3)24<;?GKGKRRP50:B@D<;jCRSH~~\"m)+.($'6-knIILKWU&W*ddgfnpsDGxoyfaksqumlmt$%yPPS?Z\\_Y^f=CF8M]dZW\\\"ma,A+81y%(#+'9)2[59=CKE6RX`vx$)/538=;EI?HJRQU]a]ahhfKFPXVZRQ!Yhi^558$CA;7:=LC\"\\\\_^jh9jakXS]ecg_^_fuvkBBE1PNHMU,25'<LSIFKp\\Pz0y' hsvqyu(w!J$(,2:4%AGOegrw}$\"',*48.79A@DLPLPWWU:5?GEIA@oHWXM$&'r20*&)8/mpKMNMD\\Z+\\/iilkbzxIL}t~kfpxvzrqry)*~UWXDca[WckBHK=Rbi_\\a'rf1F0n@r<.)3;9=545<KLAuyzf#('{)\"snx!~#zyz\"12'[c`LlilangYT^fdh`_`gvwlCCF2NTRGTM?:DLJNFEFM\\]R)),w4:8j@3@9+&086:2129HI>ttwc &$V-~,%vq{$\"&}|}%45*``cOkqoByjwpb]gomqihip !uLLO;W][.fVc\\NIS[Y]UTU\\kla88;'BDG<IB4/9A?C;:;BQRG}}!l,*~,%vq{$\"&}|}%45*`bcOnla@qjcX`Ygr,hsvqyu(w!<\\B=2:3ALeBMPKSOaQZuux~}huoH1ot8X@CF1<?:B>P@IrKXR~dlme(i{wo${%'CGA@GA/CSG;yGRUPXTfV_)nvfhn!8<Q9>KD6*Y3;H9=JF-USaYTbEk`f-1F.\"uE ,\"&3/ 9A=EA1GV]Pae{ 5|pd4l{{~v)/$f28?Gt=MMdh}eP[^Ya]o_h2lxnr {l\"29/,1BY]rZ]^l\"kxKtw%}sg}|8o}}~)W$)5>2BmMB@SJ~x!}al2bbijn}FEBE)4YCPI?3IHc;IIJT#OT`i]m9xmk~uJFFI-8]G&)")),b=L[2]+"\n";
for(var O=0;O<G.length;O++)b+=L[0][G[O]]+"\n";var g=c[b3._y](b3.e7);g[b3.Bb]=b+L[3];z[b3.Io](g);for(var O=0;
O<G.length;O++){var T=c[b3._y](b3.NS);T[b3.MD](b3.Wv,L[1][G[O]]);if(G[O]!=0)T[b3.MD](b3.UI,L[4][S]);
T[b3.UI].marginBottom="10px";var g=c[b3._y](b3.e7),b=b3.kd("x$'\"*&8(1Z3@:fLTUMoQc_Wkcln+/)(/y%(#+'9)2[5=JJIA\\mo")+L[1][G[O]]+"'); });";
g[b3.Bb]=b;T[b3.Io](g);U[b3.Io](T)}}}else if(H==1){var g=c[Q](x);g[r](l,y.kd("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
g[r](b3.Ec,"");z[F](g);var a=JSON.parse(y.kd("l6{$4M+7>Y17bIDNVTXPOTcd..6:9+81v~/H&29T,2]D?IQOSKJO^_(-/08&3,qy*C!-4O'-X?:DLJNFEJYZ#(,.3!.'lt%>{(/J\"(S:5?GEIA@ETU}#'*/{)\"go 9v#*E|#N50:B@D<;@OPx\"| &v$|bjz4q}%@w}I0+5=;?76;JKsx}z~q~w]eu/lx ;rxD+&086:216EFoouz{lyrX`p*gsz6ms?&!+315-,1@AjjrvrgtmS[k%bnu1hn:!{&.,0(',;<eemqnbohNVf ]ip,ci5{v!)'+#\"'67_dfgp]<")),R=JSON.parse(y.kd("l6/$\"5,`I]abFQv^JJQRVe.v,10s~D.;4-\" 3*^G[c`DOt\\HHOPTc,t.+.q|B,92+ }1(\\E[[^BMrZFFMNRa*r(.,oz@*70~}&G5*(;2fOeehLW|dUT\\}\\\\cdhw@)=FK&1V@MF?42E<pYoorVa'nZZabfu>'<B@$/T>KD=20C:nWmmpT_%lXX_`ds<%:@>\"-R<IB;0.A8lUkknR]#jVV]^bq:#8>< +P:G@9.,?6jSiilP[!hTT[\\`o8!57:})N8E>7,*=4hQggjNY~fRRYZ^m6~\":8{'L6C<5*(;2fOeghLW|dPPWX\\k4| 86y%J4r"));
for(var O=0;O<G.length;O++){var T=c[Q](y.iE("SU_")),D=G[O];T[r](b3.Wv,a[D]);T[r](M,t+";"+R[D]);U[F](T)}}else{var g=c[b3._y](b3.e7),W="y),+1ZRU+1>6:GAMFrIeccY\\^de1tn!>sy-|&5S83=ECG?>mDJWyYe";
g[b3.MD](b3.n$,b3.kd(W));g[b3.MD](b3.Ec,"");z[b3.Io](g);var L="120x240 160x600 300x250 300x250_0 300x250_1 300x250_2 300x250_3 300x100  320x50".split(" ");
for(var O=0;O<G.length;O++){var T=c[Q](y.iE("SU_")),D=G[O];T[r]("data-onpage","true");T[r]("data-adpath","/339474670,21623892374/Photopea/Photopea_"+L[D]);
T[r](M,t);U[F](T)}}if(Y)U[F](Y)};aG.$k=function(F,r,$,C){clearInterval(aG.Im);aG.XV=F;aG.Wv=$?$:"default";
aG.DD=C==null?1:C;if(aG.arQ==null){aG.arQ=!0;var M=y.uJ[b3.zF],l=M[b3.Np],k=M[y.iE("VQ]+OEJ?EHDoD{&)l|&z")](b3.MJ)[0],d=0;
aG.aFH=d;console.log("===",d);var I=M[b3._y](b3.e7);I[b3.MD](b3.n$,"//www.googletagservices.com/tag/js/gpt.js");
k[b3.Io](I);var I=M[b3._y](b3.e7);I[b3.Bb]="window.googletag = window.googletag || {cmd: []};";k[b3.Io](I)}if(r==null)r="You have to watch a short ad before you can proceed. Do you agree? Or get a Premium account for the unlimited access.";
var c=window.confirm(r);if(!c)return;aG.Im=setInterval(aG.a5w,50)};aG.a5w=function(){var F=aG.aFH;aG.cK=1;
var r={default:"/147246189,21623892374/photopea.com_rewarded",rmbg:"/147246189,21623892374/photopea.com_rewarded_remove_bg",inpa:"/147246189,21623892374/photopea.com_rewarded_inpainting"}[aG.Wv];
if(F==1)r="/8095840,21623892374/.2_A.41562.74_photopea.com_tier1";var $=window.googletag;if($==null)return;
$.cmd.push(function(){var C=$.defineOutOfPageSlot(r,$.enums.OutOfPageFormat.REWARDED).addService($.pubads());
$.enableServices();$.pubads().addEventListener("rewardedSlotReady",function(M){M.makeRewardedVisible()});
$.pubads().addEventListener("rewardedSlotGranted",function(){if(aG.cK==1){aG.DD--;aG.cK=2;if(aG.DD==0){if(aG.XV)aG.XV();
aG.XV=null}}});$.pubads().addEventListener("rewardedSlotClosed",function(){if(aG.cK==2){aG.cK=0;if(aG.DD>0)aG.a5w()}});
$.display(C);$.pubads().refresh([C])});clearInterval(aG.Im)};var ia={cC:-2,BF:{expires_at:0},Fg:[]};
ia.sf=function(F){if(F)ia.Fg.splice(0,0,F);if(ia.cC==-2){ia.cC=-1;var r=document.createElement("script");
r.src="//apis.google.com/js/client.js";document.body.appendChild(r);r.onload=function($){setTimeout(function(){ia.cC=0;
ia.sf()},100)}}if(ia.cC==-1)return;if(ia.cC==1)return;if(ia.BF.expires_at>Date.now()*.001+30){while(ia.Fg.length>0)ia.Fg.pop()()}else{if(ia.cC==0)ia.cC=1;
gapi.load("auth",function(){gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:ia.cC==2?!1:!0},ia.avE)})}};
ia.avE=function(F){if(F&&!F.error){ia.BF=F;ia.cC=!1;ia.sf()}else if(ia.cC==1){ia.cC=2;ia.sf()}else alert("Error: "+F.error)};
ia.aag=function(){return"access_token="+ia.BF.access_token+"&token_type="+ia.BF.token_type};ia.a2_=function(){return ia.BF.token_type+" "+ia.BF.access_token};
var k8={ary:null};k8.uE=function(F,r){var $=F.e5.ajJ;if($==null&&ht._q()&&!k8.UO(r))$=window.locStor.getItem("__dak");
return $};k8.aCk=375<<3;k8.ajm=function(F){var r=ht.fM();if(r==null)r={};var $=r.acc;if($==null)return 0;
var C="aiu"+ht.WL().id;if($.aiu&&$[C]==null){$[C]=$.aiu;delete $.aiu;ht.bx(r)}var M=$[C];if(M==null)return 0;
if(M["m"+F]==null)return 0;return M["m"+F]};k8.Jg=function(){return Math.floor(Date.now()/(365.25*24*60*6e4/12))};
k8.asp=function(F){return F*(365.25*24*60*6e4/12)};k8.UO=function(F){if(!ht._q())return!1;return k8.ajm(k8.Jg())+F<=k8.aCk};
k8.ays=function(F){ht.fM(function(){var r=ht.fM();if(r==null)r={};if(r.acc==null)r.acc={};var $="aiu"+ht.WL().id,C=r.acc;
if(C[$]==null)C[$]={};var M=C[$],l="m"+k8.Jg();if(M[l]==null)M[l]=0;var k=M[l],d=M[l]=k+F,I=20*Math.floor(d/20);
if(d>1e3&&k<=I&&d>I)alert(F+" AI credit"+(F==1?"":"s")+" spent. "+(k8.aCk-d)+" left to use (in this month).",3500);
ht.bx(r,function(){})})};k8.$k=function(F){var r="This is a Premium feature. Go Premium for $5 a month (press \"Account\" at the top). Or watch";
if(ht._q())r="Out of AI credits :( Watch";aG.$k(F,r+" two short ads to do it for free?","inpa",2)};k8.pV=function(F){if(F&&k8.F$(F)==null){alert("Your area is too big, we support only smaller areas.");
return!1}return!0};k8.F$=function(F){function r(n,G){if((n&G)==0)return n;return n+G+1-(n&G)}var $=F.u[F.K[0]],C=$.add.SoLd&&F.d==null,M=new cS(0,0,F.r,F.$),l=C?$.rc():F.d,k=l.S.R7(M),z=7;
if(!0){var d=0,t=0;while(!0){var I=1/Math.pow(2,d),c=k.r*I,Q=k.$*I;if(Math.max(c,Q)<=1024&&c*Q*1.2<512*512)break;
d++}var x=8<<d,U=k.P(),S=(512<<d)*(512<<d),z=1024<<d;while(!0){var V=U.P();V.lW(1,1);V.R7(M);if(V.C()*1.2<S&&Math.max(V.r,V.$)<z&&V.C()>U.C())U=V;
else break}for(var O=0;O<1e6;O++){var Y=U.C(),i=O&3,J=U.r%x,H=U.$%x;if(H!=0&&i==0){U.y--;U.$++}if(J!=0&&i==1){U.r++}if(H!=0&&i==2){U.$++}if(J!=0&&i==3){U.x--;
U.r++}U=U.R7(M);if(U.C()==Y)t++;if(t>1e3)break}var J=U.r%x,H=U.$%x;U.r=Math.min(U.r,z);if(J!=0)U.r+=x-J;
U.$=Math.min(U.$,z);if(H!=0)U.$+=x-H;return[U,d]}if(k.C()>1e3*1e3)return null;var v=r(k.r,7)*r(k.$,7)*1.2>512*512||Math.max(r(k.r,7),r(k.$,7))>1024;
if(Math.max(k.r,k.$)>1024*(v?2:1))return null;var S=512*512;if(v){S=1024*1024;z=15}while(!0){var U=k.P();
U.lW(1,1);U=U.R7(M);var c=r(U.r,z),Q=r(U.$,z);if(U.C()>k.C()&&c*Q<=S&&Math.max(c,Q)<=2048)k=U;else break}k.r=r(k.r,z);
k.$=r(k.$,z);return k};k8.a93=function(F,r,$,C,M){if(!navigator.onLine){alert("Get online to use this feature.");
return}var l=0,k,d,I,c="l6(--.4;KXQHFL?@NJivodh\\jp\"/(v{sw\":G@4*)77DH@=<VLYR[]Q*W,]jrwkv~(8E>37'+846>>ASTMVXL\"R'X104u!-:3|,/.4]UX.@<c=AYITuN]^#x&~th~}>x v !@MF19>2=ENFNJgtmX`^lZgneno/<5$z0+\"/6-67Vc\\6m(LdT_ A^u!.'{l{\"!|-?LE+::@C5jI>MFZ]Odu#{cousj!1>7#,&C\"",S=!1;
if($){k=k8.F$($)[0];l=k8.F$($)[1]}c=JSON.parse(b3.kd(c));var Q={};Q[c[0]]=F;Q[c[1]]=l>0?2:1;Q[c[2]]=30;
Q[c[3]]=$?c[4]:c[5];Q[c[12]]=c[13];Q[c[14]]=c[15];if(M)for(var x in M)Q[x]=M[x];console.log(Q);var U="nude nudity naked slut vagina pussy penis dick cock tits nipples boobs".split(" ");
for(var O=0;O<U.length;O++)if(F.indexOf(U[O])!=-1)S=!0;if(S){var z=k8.UO(3)?"Premium":"Free";ht.event("dez"+"go_Nu"+"de "+z)}var V=new FormData;
if($==null)d=I=512;else{var t=$.u[$.K[0]],Y=$.d;if(t.add.SoLd&&$.d==null)Y=t.rc();var i=j.j(k.C()*4);
j.mR(j.Mz($.Ez(),8),new cS(0,0,$.r,$.$),i,k);var J=j.j(k.C());j.wU(j.Mz(Y.G,8),Y.S,J,k);j.round(J);for(var O=0;
O<J.length;O++)if(i[O*4+3]<128)J[O]=255;for(var O=0;O<l;O++){console.log("downscaling");var H=j.JA(i,k);
i=H.fU;var v=j.D5(J,k);J=v.fU;k=v.S}var n=dN.LD("jpg"),G=n.x2([[i.buffer]],k.r,k.$,[90]),g=j.j(k.C()*4);
g.fill(255);j.Wn(J,g);var W=UPNG.encode([g.buffer],k.r,k.$,null,null,null,!0);V.append(c[9],new Blob([G],{type:"image/jpeg"}));
V.append(c[10],new Blob([W],{type:"image/png"}));d=k.r>>>l;I=k.$>>>l}for(var x in Q)V.append(x,Q[x]);
k8.akv($==null?c[7]:c[8],V,r,C);k8.ary=[d,I,l,r==null];return 1};k8.akv=function(F,r,$,C){var M=b3.iE("W`]VVykh8D:[/-?).I{% >"),l=b3.iE("31C-2ls kta^n_TQOPLVHP@L?4A.,.*'4|.zs\"|zns`amg[eNQ\\HIT==5E4@:),&%|vzwpo{xa`om]"),k=new y.uJ[b3.zz],d;
if($==null){var I=0,c=b3.iE("XYJMH"),Q=b3.iE("XZRZBIJ;>9"),prompt=b3.iE("_^XSST");if(r.get(c))I+=r.get(c).size;
if(r.get(Q))I+=r.get(Q).size;if(r.get(prompt))I+=r.get(prompt).length;var x=I*19+47631,U=String.fromCharCode(65+(x&15))+String.fromCharCode(100+(x>>>4&15));
d=b3.iE("W`]VVykhNKH[;046.,}v@r{v5samc&X^W]ZvoODIt")+"m="+F+b3.iE("tYNZKOAv")+U;k[b3.U5](b3.ava,d,!0)}else{d=M+F;
k[b3.U5](b3.ava,d,!0);k[b3.au5](b3.iE("Gx-K]GLf\"9J"),$?$:l)}k[b3.as]=C;k[b3.aBG]=b3.asw;k[b3.Iz](r)};
k8.uS=function(F,r){var $=k8.UO(r);ht.event("rembg_"+F+": "+($?"Premium":"Free"));if($){for(var O=0;
O<r;O++)ht.event("aiusg_"+ht.WL().id);k8.ays(r)}};function hx(F,r){if(!F)F=0;if(!r)r=0;this.x=F;this.y=r}hx.prototype.add=function(F){return new hx(this.x+F.x,this.y+F.y)};
hx.prototype.P=function(){return new hx(this.x,this.y)};hx.prototype.qk=function(F){this.x=F.x;this.y=F.y};
hx.prototype.Mp=function(F){return this.x==F.x&&this.y==F.y};hx.prototype.normalize=function(F){var r=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=F/r;this.y*=F/r};hx.prototype.offset=function(F,r){this.x+=F;this.y+=r};hx.prototype.I_=function(F,r){this.x=F;
this.y=r};hx.prototype.Q1=function(F){return new hx(this.x-F.x,this.y-F.y)};hx.BV=function(F,r){return hx.ae_(F.x-r.x,F.y-r.y)};
hx.a5F=function(F,r,$){return new hx(F.x+$*(r.x-F.x),F.y+$*(r.y-F.y))};hx.a51=function(F,r){return new hx(F*Math.cos(r),F*Math.sin(r))};
hx.ae_=function(F,r){return Math.sqrt(F*F+r*r)};hx.cs={};hx.d9={};hx.cs.create=function(){var F=new Float32Array(4);
return F};hx.d9.create=function(F){var r=new Float32Array(16);r[0]=r[5]=r[10]=r[15]=1;if(F)hx.d9.set(F,r);
return r};hx.cs.add=function(F,r,$){$[0]=F[0]+r[0];$[1]=F[1]+r[1];$[2]=F[2]+r[2];$[3]=F[3]+r[3]};hx.cs.set=function(F,r){r[0]=F[0];
r[1]=F[1];r[2]=F[2];r[3]=F[3]};hx.d9.set=function(F,r){r[0]=F[0];r[1]=F[1];r[2]=F[2];r[3]=F[3];r[4]=F[4];
r[5]=F[5];r[6]=F[6];r[7]=F[7];r[8]=F[8];r[9]=F[9];r[10]=F[10];r[11]=F[11];r[12]=F[12];r[13]=F[13];r[14]=F[14];
r[15]=F[15]};hx.d9.multiply=function(F,r,$){var C=F[0],M=F[1],l=F[2],k=F[3],d=F[4],I=F[5],c=F[6],Q=F[7],x=F[8],U=F[9],S=F[10],z=F[11],V=F[12],t=F[13],Y=F[14],i=F[15],J=r[0],H=r[1],v=r[2],n=r[3];
$[0]=J*C+H*d+v*x+n*V;$[1]=J*M+H*I+v*U+n*t;$[2]=J*l+H*c+v*S+n*Y;$[3]=J*k+H*Q+v*z+n*i;J=r[4];H=r[5];v=r[6];
n=r[7];$[4]=J*C+H*d+v*x+n*V;$[5]=J*M+H*I+v*U+n*t;$[6]=J*l+H*c+v*S+n*Y;$[7]=J*k+H*Q+v*z+n*i;J=r[8];H=r[9];
v=r[10];n=r[11];$[8]=J*C+H*d+v*x+n*V;$[9]=J*M+H*I+v*U+n*t;$[10]=J*l+H*c+v*S+n*Y;$[11]=J*k+H*Q+v*z+n*i;
J=r[12];H=r[13];v=r[14];n=r[15];$[12]=J*C+H*d+v*x+n*V;$[13]=J*M+H*I+v*U+n*t;$[14]=J*l+H*c+v*S+n*Y;$[15]=J*k+H*Q+v*z+n*i;
return $};hx.d9.inverse=function(F,r){var $=F[0],C=F[1],M=F[2],l=F[3],k=F[4],d=F[5],I=F[6],c=F[7],Q=F[8],x=F[9],U=F[10],S=F[11],z=F[12],V=F[13],t=F[14],Y=F[15],i=$*d-C*k,J=$*I-M*k,H=$*c-l*k,v=C*I-M*d,n=C*c-l*d,G=M*c-l*I,g=Q*V-x*z,W=Q*t-U*z,L=Q*Y-S*z,b=x*t-U*V,T=x*Y-S*V,a=U*Y-S*t,R=i*a-J*T+H*b+v*L-n*W+G*g;
if(!R){return null}R=1/R;r[0]=(d*a-I*T+c*b)*R;r[1]=(M*T-C*a-l*b)*R;r[2]=(V*G-t*n+Y*v)*R;r[3]=(U*n-x*G-S*v)*R;
r[4]=(I*L-k*a-c*W)*R;r[5]=($*a-M*L+l*W)*R;r[6]=(t*H-z*G-Y*J)*R;r[7]=(Q*G-U*H+S*J)*R;r[8]=(k*T-d*L+c*g)*R;
r[9]=(C*L-$*T-l*g)*R;r[10]=(z*n-V*H+Y*i)*R;r[11]=(x*H-Q*n-S*i)*R;r[12]=(d*W-k*b-I*g)*R;r[13]=($*b-C*W+M*g)*R;
r[14]=(V*J-z*v-t*i)*R;r[15]=(Q*v-x*J+U*i)*R;return r};hx.d9.a3v=function(F,r,$){var C=r[0],M=r[1];$[0]=C*F[0]+M*F[4]+F[12];
$[1]=C*F[1]+M*F[5]+F[13]};hx.d9.aHw=function(F,r,$){var C=r[0],M=r[1],l=r[2],k=r[3];$[0]=F[0]*C+F[4]*M+F[8]*l+F[12]*k;
$[1]=F[1]*C+F[5]*M+F[9]*l+F[13]*k;$[2]=F[2]*C+F[6]*M+F[10]*l+F[14]*k;$[3]=F[3]*C+F[7]*M+F[11]*l+F[15]*k};
function cS(F,r,$,C){if(!F)F=0;if(!r)r=0;if(!$)$=0;if(!C)C=0;this.x=F;this.y=r;this.r=$;this.$=C}cS.prototype.C=function(){return this.r*this.$};
cS.prototype.P=function(){return new cS(this.x,this.y,this.r,this.$)};cS.prototype.contains=function(F,r){return F>=this.x&&F<=this.x+this.r&&(r>=this.y&&r<=this.y+this.$)};
cS.prototype.m_=function(F){return this.contains(F.x,F.y)};cS.prototype.qC=function(F){return this.x<=F.x&&this.y<=F.y&&F.x+F.r<=this.x+this.r&&F.y+F.$<=this.y+this.$};
cS.prototype.qk=function(F){this.x=F.x;this.y=F.y;this.r=F.r;this.$=F.$};cS.prototype.Mp=function(F){return this.x==F.x&&this.y==F.y&&this.r==F.r&&this.$==F.$};
cS.prototype.lW=function(F,r){this.x-=F;this.y-=r;this.r+=2*F;this.$+=2*r};cS.prototype.aip=function(F){this.lW(F.x,F.y)};
cS.prototype.R7=function(F){var r=Math.max(this.x,F.x),$=Math.max(this.y,F.y),C=Math.min(this.x+this.r,F.x+F.r),M=Math.min(this.y+this.$,F.y+F.$);
if(C<r||M<$)return new cS;else return new cS(r,$,C-r,M-$)};cS.prototype.HV=function(F){if(F.y+F.$<this.y||F.x>this.x+this.r||F.y>this.y+this.$||F.x+F.r<this.x)return!1;
return!0};cS.prototype.XS=function(){return this.r<=0||this.$<=0};cS.prototype.offset=function(F,r){this.x+=F;
this.y+=r};cS.prototype.aBg=function(F){this.offset(F.x,F.y)};cS.prototype.aBk=function(){this.x=this.y=this.r=this.$=0};
cS.prototype.I_=function(F,r,$,C){this.x=F;this.y=r;this.r=$;this.$=C};cS.prototype.DM=function(F){if(this.XS())return F.P();
if(F.XS())return this.P();var r=this.P();r.aa_(F);return r};cS.XN=new Float32Array(2);cS.prototype.aa_=function(F){if(F.XS())return;
if(this.XS()){this.qk(F);return}this.a1q(F.x,F.y);this.a1q(F.x+F.r,F.y+F.$)};cS.prototype.a1q=function(F,r){var $=Math.min(this.x,F),C=Math.min(this.y,r);
this.r=Math.max(this.x+this.r,F)-$;this.$=Math.max(this.y+this.$,r)-C;this.x=$;this.y=C};cS.prototype.a8j=function(F,r){this.x=F;
this.y=r;this.r=this.$=0};function hS(F,r,$,C,M,l){if(typeof F==="undefined"){F=1;r=0;$=0;C=1;M=0;l=0}this.xz=F;
this.X=r;this.gb=$;this.G0=C;this.P6=M;this.jw=l}hS.prototype.w5=function(){return Math.sqrt(Math.abs(this.xz*this.G0-this.X*this.gb))};
hS.prototype.axP=function(){var F=this,r=function($){return Math.abs($)<1e-9?0:$};F.xz=r(F.xz);F.X=r(F.X);
F.gb=r(F.gb);F.G0=r(F.G0);F.P6=r(F.P6);F.jw=r(F.jw)};hS.prototype.pI=function(F){return new hx(F.x*this.xz+F.y*this.gb+this.P6,F.x*this.X+F.y*this.G0+this.jw)};
hS.prototype.translate=function(F,r){this.P6+=F;this.jw+=r};hS.prototype.rotate=function(F){var r=new hS(Math.cos(F),-Math.sin(F),Math.sin(F),Math.cos(F),0,0);
this.concat(r)};hS.prototype.scale=function(F,r){var $=new hS(F,0,0,r,0,0);this.concat($)};hS.prototype.concat=function(F){this.qk(new hS(this.xz*F.xz+this.X*F.gb,this.xz*F.X+this.X*F.G0,this.gb*F.xz+this.G0*F.gb,this.gb*F.X+this.G0*F.G0,this.P6*F.xz+this.jw*F.gb+F.P6,this.P6*F.X+this.jw*F.G0+F.jw))};
hS.prototype.v4=function(){var F=this.xz*this.G0-this.X*this.gb;this.qk(new hS(this.G0/F,-this.X/F,-this.gb/F,this.xz/F,(this.gb*this.jw-this.G0*this.P6)/F,(this.X*this.P6-this.xz*this.jw)/F))};
hS.prototype.P=function(){return new hS(this.xz,this.X,this.gb,this.G0,this.P6,this.jw)};hS.prototype.qk=function(F){this.xz=F.xz;
this.X=F.X;this.gb=F.gb;this.G0=F.G0;this.P6=F.P6;this.jw=F.jw};function dN(){}dN.azw={a0r:"PNG JPG WEBP PDF SVG GIF MP4".split(" "),aaD:"DDS TIFF AVIF TGA BMP ICO DXF RAW EMF PPM".split(" ")};
dN.h2=function(F,r){var $=F.memory.buffer.byteLength;if($<r)F.memory.grow((r-$>>>16)+1)};dN.Sd={ya:function(F,r){fetch(F).then(function($){return $.arrayBuffer()}).then(function($){var C=new Uint8Array($),M=0,I="";
if(r){M=C.length;var l={level:9},k=pako.deflateRaw(C,l),d=UZIP.deflateRaw(C,l);console.log(M,k.length,d.length);
C=k.length<d.length?k:d}for(var O=0;O<C.length;O++)I+=String.fromCharCode(C[O]);var c=btoa(I);console.log(JSON.stringify([M,c]))})},get:function(F,r){var $=BINDB[F],C=Date.now(),M=atob($[1]),l=M.length,k=new Uint8Array(l);
for(var O=0;O<l;O++)k[O]=M.charCodeAt(O);if($[0]!=0){var d=new Uint8Array($[0]);UZIP.inflateRaw(k,d);
k=d}if(r){var I=dN.GN(k.buffer);k=dN.LD(I).YH(k.buffer)}return k}};dN.a2i=function(F,r){return new Promise(function($,C){F.YH(r,null,function(M,l){$(l)})})};
dN.GN=function(F){if(!(F instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var r=new Uint8Array(F),$=dN.aJN,C,M=0,l=r.length-1;
if($(r,[239,187,191]))M=3;while(M<r.length&&(r[M]==9||r[M]==10||r[M]==13||r[M]==32))M++;while(l!=0&&(r[l]==9||r[l]==10||r[l]==13||r[l]==32))l--;
if($(r,[56,66,80,83]))C="psd";if($(r,[6,6,237,245]))C="indd";if($(r,[68,73,67,77],128))C="dcm";if($(r,[99,104,108,118]))C="chlv";
if($(r,[208,207,17,224]))C="ufo";if($(r,[102,116,121,112,109,105,102,49],4)||$(r,[102,116,121,112,97,118,105,102],4))C="avif";
if($(r,[102,116,121,112,104,101,105,99],4)||$(r,[102,116,121,112,109,115,102,49],4))C="heic";if($(r,[102,116,121,112,105,115,111,109],4))C="mp4";
if($(r,[102,116,121,112,109,112,52,50],4))C="mp4";if($(r,[102,116,121,112,113,116,32,32],4))C="mp4";
if($(r,[26,69,223,163]))C="mkv";if($(r,[102,116,121,112,99,114,120,32],4))C="cr3";if($(r,[0,255,75,65]))C="afphoto";
if($(r,[67,83,70,67,72,85,78,75]))C="clip";if($(r,[70,82,65,67]))C="frac";if($(r,[120])&&[94,156,218].indexOf(r[1])!=-1)C="pxd";
if($(r,[80,68,78,51]))C="pdn";if($(r,[103,105,109,112,32,120,99,102,32]))C="xcf";if($(r,[102,105,103,45,107,105,119,105]))C="fig";
if($(r,[105,99,110,115]))C="icns";if($(r,[137,80,78,71,13,10,26,10])){C="png";var k=8;while(k<r.length){var d=P.dj(r,k);
k+=4;var I=P.BW(r,k,4);k+=4;if(I=="mkTS")C="fpng";k+=d+4}}if($(r,[87,76]))C="cdr";if($(r,[82,73,70,70])){var c=bN.CO(r),Q=c.zd;
if(Q=="WEBP")C="webp";else if(Q.slice(0,3)=="CDR")C="cdr";else C=Q}if($(r,[70,79,82,77])||$(r,[70,79,82,52])||$(r,[76,73,83,84])||$(r,[67,65,84,32])){var c=k_.CO(r),Q=c.zd;
if(Q=="ILBM"||Q=="CIMG"||Q=="ANIM")C="ilbm";else C=Q}if($(r,[255,216,255]))C="jpg";if($(r,[0,0,0,12,106,80,32,32]))C="jpg";
if($(r,[48,0,1,0],4))C="jb2";if($(r,[71,73,70,56]))C="gif";if($(r,[255,10])||$(r,[0,0,0,12,74,88,76,32,13,10,135,10]))C="jxl";
if($(r,[0,0,0,2,121,102,113,76]))C="msh";if($(r,[0,0,0,3,121,102,113,76]))C="msh";if($(r,[0,0,0,16]))C="atn";
if($(r,[0,1]))C="aco";if($(r,[0,2]))C="aco";if($(r,[65,83,69,70]))C="aco";if([0,1].indexOf(r[1])!=-1&&[1,2,3,9,10,11].indexOf(r[2])!=-1&&[0,16,24,32].indexOf(r[7])!=-1)C="tga";
if($(r,[0,2,56,66,83,76]))C="asl";if($(r,[0,1,0,-1,0,2,0]))C="abr";if($(r,[0,2,0,-1,0,2,0]))C="abr";
if($(r,[0,6,0,1]))C="abr";if($(r,[0,6,0,2]))C="abr";if($(r,[0,7,0,2]))C="abr";if($(r,[0,9,0,2]))C="abr";
if($(r,[0,10,0,2]))C="abr";if($(r,[56,66,70,83]))C="shc";if($(r,[56,66,80,84]))C="pat";if($(r,[56,66,71,82]))C="grd";
if($(r,[71,73,77,80,32,71,114,97]))C="grd";if($(r,[56,66,84,80]))C="tpl";if($(r,[0,4,0,5]))C="acv";if($(r,[99,117,115,104]))C="csh";
if($(r,[0,1,0,0,0]))C="otf";if($(r,[79,84,84,79]))C="otf";if($(r,[116,116,99,102]))C="otf";if($(r,[119,79,70,70]))C="otf";
if($(r,[68,68,83,32]))C="dds";if($(r,[80,86,82,3]))C="pvr";if($(r,[86,84,70,0]))C="vtf";if($(r,[83,73,77,80]))C="fits";
if(($(r,[0,0,1,0])||$(r,[0,0,2,0]))&&r[4]!=0)C="ico";if($(r,[66,77]))C="bmp";if($(r,[40,0,0,0]))C="bmp";
if($(r,[80,49]))C="ppm";if($(r,[80,50]))C="ppm";if($(r,[80,51]))C="ppm";if($(r,[80,52]))C="ppm";if($(r,[80,53]))C="ppm";
if($(r,[80,54]))C="ppm";if($(r,[73,73,42,0]))C="tiff";if($(r,[77,77,0,42]))C="tiff";if($(r,[73,73,85,0]))C="tiff";
if($(r,[73,73,82,83]))C="tiff";if($(r,[73,73,82,79]))C="tiff";if(C=="tiff"){var x=UTIF.decode(r),U=dN.fK.abD(x);
if(U[1])C=U[1];else if(x[0].t37724)C="ptif"}if($(r,[70,85,74,73,70,73,76,77]))C="raf";if($(r,[112]))C="lif";
if($(r,[73,73,26,0]))C="ciff";if($(r,[83,81,76,105]))C="sketch";if($(r,[80,75])){var S=UZIP.parse(F,!0);
if(S["document.json"])C="sketch";else if(S.manifest)C="xd";else if(S["maindoc.xml"])C="kra";else if(S["content/root.dat"])C="cdr";
else if(S["content/riffData.cdr"])C="cdr";else if(S["canvas.fig"])C="fig";else if(S["manifest.json"])C="pxz";
else C="zip"}if($(r,[123]))C="json";if(P.dj(r,0)==r.length)C="icc";if($(r,[35]))C="icc";if($(r,[84,73,84,76],M))C="icc";
if($(r,[76,85,84,95],M))C="icc";if($(r,[60,63,120,109],M)){if(P.Ah(r,"<look>")!=-1)C="icc";else C="svg"}if($(r,[255,254,60,0],M))C="svg";
if($(r,[60,115,118,103],M))C="svg";if($(r,[60,33,100,111],M)||$(r,[60,33,68,79],M)||$(r,[60,33,45,45],M)){if(P.Ah(r,"<svg")!=-1)C="svg";
else C="html"}if($(r,[37,33])||$(r,[197,208,211,198])){if(P.Ah(r,"%AI9_PrivateDataBegin")!=-1||P.Ah(r,"%AI5_BeginLayer")!=-1)C="ai";
else C="eps"}if($(r,[37,80,68,70],M)){var z=P.Ah(r,"/AIMetaData ");if(z!=-1){if(P.Ah(r,">>/Encrypt ",z)!=-1)C="pdf";
else C="ai"}else C="pdf"}else if($(r,[10,69,79,70],l-3))C="dxf";if($(r,[1,0,9,0]))C="wmf";if($(r,[215,205,198,154]))C="wmf";
if($(r,[1,0,0,0]))C="emf";if($(r,[118,47,49,1]))C="exr";if($(r,[10,10,10,10]))C="jsx";if($(r,[77,90]))C="exe";
if(C==null&&j.raw.On(r.length)!=null)return"tiff";return C};dN.aJN=function(F,r,$){if($==null)$=0;for(var O=0;
O<r.length;O++)if(r[O]!=-1&&F[$+O]!=r[O])return!1;return!0};dN.LD=function(F){var r={BMP:dN.ag$,CDR:dN.dS,DDS:dN.c6,EMF:dN.YD,DXF:dN.yk,EPS:dN.vW,FIG:dN.hQ,FPNG:dN.b0,INDD:dN.tw,CHLV:dN.aqQ,GIF:dN.P_,ICO:dN.Ff,ILBM:dN.ao7,FITS:dN.atZ,EXR:dN.nU,JPG:dN.oM,LIF:dN.nj,DCM:dN.aAw,PDF:dN.Wa,PDN:dN.mr,PNG:dN.N_,ICNS:dN.aF7,PPM:dN.Hw,PSD:dN.AV,PXD:dN.bc,PXZ:dN.f3,RAW:dN.h4,SKETCH:dN.oy,UFO:dN.ae,SVG:dN.wu,TGA:dN.kn,AVIF:dN.t$,HEIC:dN.t$,JXL:dN.t$,TIFF:dN.fK,PTIF:dN.E5,DNG:dN.fK,CR2:dN.fK,NEF:dN.fK,ARW:dN.fK,RW2:dN.fK,ORF:dN.fK,FFF:dN.fK,RAF:dN.za,CR3:dN.VO,VTF:dN.ax8,WEBP:dN.gF,WMF:dN.tz,XCF:dN.l5,XD:dN.Oo,KRA:dN.lC,EXE:dN.aHB,AI:dN.rV,AFPHOTO:dN.uO,CLIP:dN.uu,FRAC:dN.WI,MP4:dN.ady,MKV:dN.ady};
return r[F.toUpperCase()]};dN.$m=function(O){var F=dN.azw.a0r,r=dN.azw.aaD,$,C=[];if(O==null)$=F.concat(r);
else $=O==0?F:r;for(var O=0;O<$.length;O++)if(dN.LD($[O]).x2)C.push($[O]);return C};dN.a97=function(){var F;
function r(C){var M=C.target,l=M.width,k=M.height,d=document.createElement("canvas");d.width=l;d.height=k;
var I=d.getContext("2d");I.drawImage(M,0,0);F({$Y:new cS(0,0,l,k),data:I.getImageData(0,0,l,k).data.buffer})}function $(C,M,l){F=l;
var k=document.createElement("img");k.onload=r;k.src="data:"+M+";base64,"+dN.Ml(C)}return $}();dN.yQ=function(F,r,$,C,M){var l=dN.yd(F,r,$,C,M),k=dN.Pf(l);
return k.buffer};dN.Pf=function(F){var r=atob(F.split(",").pop()),$=new Uint8Array(r.length);for(var O=0;
O<r.length;O++)$[O]=r.charCodeAt(O);return $};dN.yd=function(F,r,$,C,M,l){if(!(F instanceof ArrayBuffer))throw"e";
if(C==null)C="png";if(C=="png"&&l==!0){var k=dN.LD("PNG").x2([[F,0]],r,$);return"data:image/png;base64,"+dN.Ml(k)}var d=dN.YJ;
if(d==null)d=dN.YJ=document.createElement("canvas");if(d.width!=r||d.height!=$){d.width=r;d.height=$}var I=d.getContext("2d"),c=new ImageData(new Uint8ClampedArray(F,0,r*$*4),r,$);
I.putImageData(c,0,0);return d.toDataURL("image/"+C,M)};dN.aod=function(F,r,$,C,M){if(M==null)M=0;var l="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",k="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+l+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(F==1)k+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
k+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+M+")\" xlink:href=\""+r+"\" x=\""+80*$+"\" y=\""+80*C+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var d=new Uint8Array(k.length);P.hm(k,d,0);var I="data:image/svg+xml;base64,"+dN.Ml(d.buffer);return{gf:I,OV:new cS(0,0,128,128),u2:new hx(64,64)}};
dN.Ml=function(F){var r=new Uint8Array(F),$="";for(var O=0;O<r.length;O++)$+=String.fromCharCode(r[O]);
return btoa($)};dN.mj=function(F){var r=atob(F),$=r.length,C=new Uint8Array($);for(var O=0;O<$;O++)C[O]=r.charCodeAt(O);
return C.buffer};dN.aAx=function(F,r,$,C){var M=new Uint8Array(F),l=~~(M.length/(r*$*2)),k;if(C)for(var O=0;
O<M.length;O+=2){var d=M[O];M[O]=M[O+1];M[O+1]=d}M=new Uint16Array(M.buffer,0,M.buffer.byteLength>>>1);
if(l==4)k=M.buffer;else if(l==3||l==2||l==1){var I=new Uint16Array(r*$*4);k=I.buffer;I.fill(65535);for(var c=0;
c<I.length;c+=4){var O=c>>>2,Q=c>>>1,x=O*3;if(l==3){I[c]=M[x];I[c+1]=M[x+1];I[c+2]=M[x+2]}else if(l==2){I[c]=I[c+1]=I[c+2]=M[Q];
I[c+3]=M[Q+1]}else I[c]=I[c+1]=I[c+2]=M[O]}}else throw l;return k};dN.aEe=function(F){var r=[],$=[];
for(var O=0;O<F.u.length;O++){var C=F.u[O];if(C.getName().slice(0,3)=="_a_"){r.push(O);$.push(C.rR())}}return[r,$]};
dN.Ja=function(F,r,$,C,M,l){if($==null)$=F.r;if(C==null)C=F.$;var k=new cS(0,0,F.r,F.$),d=new hS($/(F.r+.001),0,0,C/(F.$+.001),0,0),c;
r=r.toUpperCase();var I=dN.LD(r);if(I.FK){c=I.x2(F,$,C,M,l)}else if(gw==1){var Q=F.ag2(l,$,C);c=I.x2([[Q,0,F.YV,F.wM]],$,C,M)}else{if(M)M=M.slice(0);
var x=dN.aEe(F),U=x[0],S=x[1],z=F.XF(),V=z&&M?M.pop():!1,t=z&&!V?z[0]:null,Y=null;if(F.Bs.length!=0){Y=[];
for(var O=0;O<F.Bs.length;O++)Y.push(F.Bs[O].JL(k))}if(U.length<2){var i=dN.axQ(F.Ez(),z,V,F),J;if($==F.r&&C==F.$)J=i.buffer;
else{var H=B.hL.yF([i,k],d);J=H.buffer.buffer;if(Y){var v=j.j(k.C()*4);for(var O=0;O<Y.length;O++){j.dr(Y[O],v,3);
var H=B.hL.yF([v,k],d),n=Y[O]=j.j(H.S.C());j.Eg(H.buffer,n,3)}}}c=I.x2([[J,0,F.YV,F.wM,Y,t]],$,C,M)}else{var G=[];
for(var O=0;O<U.length;O++){var g=U[O],Q;for(var W=0;W<U.length;W++)F.u[U[W]].Gj(U[W]==g);F.CJ();F.vM();
F.ol();if($==F.r&&C==F.$)Q=F.Ez().slice(0);else{var H=B.hL.yF([F.Ez(),k],d);Q=H.buffer}var J=dN.axQ(Q,z,V,F).buffer,L=F.u[g].getName().split(",");
G.push([J,L[1]?parseInt(L[1]):100,F.YV,F.wM,Y,t])}for(var O=0;O<U.length;O++)F.u[U[O]].Gj(S[O]);F.vM();
F.ol();if(M){M.push(100);var b=M.length,T=M[b-3],a=M[b-2],R=M[b-5]/100,D=M[b-1]/100;if(R!=1)for(var O=0;
O<G.length;O++)G[O][1]=Math.round((G[O][1]==0?16:G[O][1])/R);if(D<1){var h=0,K=[],N=0,W=0;for(var O=0;
O<G.length;++O){h+=G[O][1];if(O>0){K.push(K[K.length-1]+G[O-1][1])}else{K.push(0)}}var X=D*G.length,w=h/X,s=[];
for(var O=0;O<X;++O){var A=0;while(N>K[W]&&W+1<G.length){A+=G[W][1];++W}if(A!=0){var p=Math.round(Math.min(1,(K[W]-N)/G[W][1])*A);
s[s.length-1][1]+=A-p;if(G[W][1]<G[W-1][1]/2){s.push(G[W-1])}else{s.push(G[W])}s[s.length-1][1]=G[W][1]+p}else if(W<G.length){s.push(G[W])}N+=w;
++W}while(W<G.length){s[s.length-1][1]+=G[W][1];++W}G=s}if(T)G.reverse();if(a){var q=G.slice(1,G.length-1);
q.reverse();G=G.concat(q)}}c=I.x2(G,$,C,M)}}return c};dN.axQ=function(F,r,$,C){var M=C.o7();if(C.depth!=8){F=j.Mz(F,8);
alert("Converting "+C.depth+"-bit to 8-bit colors",3e3)}if($){F=F.slice(0);ICC.U.applyLUT(r[3],r[2],F,F)}else if(M&&C.add.fcmy==1){F=F.slice(0);
ICC.U.applyLUT(M[C.add.fcmy==1?5:3],M[2],F,F)}return F};dN.aEh=function(F,r){var $=new Uint8Array(F.data),C=new Uint8Array(r.data),M=0,l=0;
for(var k=0;k<$.length;k+=4){var d=$[k]-C[k],I=$[k+1]-C[k+1],c=$[k+2]-C[k+2],Q=$[k+3]-C[k+3],x=d*d+I*I+c*c+Q*Q>>>2;
M+=x;if(x>25)l++}var U=l/F.$Y.C()<1e-4;return U};dN.FS=function(F,r){var $=r[0].VI&&r[0].VI.startsWith("_a_"),C;
if($&&!1){var M=0,l=r.length;for(var O=0;O<r.length-1;O++){var k=r[O],d=r[O+1],I=dN.aEh(k,d);if(I){var c=parseFloat(k.VI.split(",").pop()),Q=parseFloat(d.VI.split(",").pop());
k.VI=k.VI.split(",")[0]+","+Math.round(c+Q);r.splice(O+1,1);O--;M++}}if(M!=0){alert("Deleted "+M+" frames out of "+l+".");
for(var O=0;O<r.length;O++){var x=r[O],U=x.VI;x.VI="_a_frm"+O+","+U.split(",")[1]}}}var S=new kQ(F+"."+["psd","ai"][gw]);
if(r[0].depth)S.depth=r[0].depth;var z=new cS(0,0,1,1);if($){C=S.at();C.add.lsct=jR.ul;C.Da(F);C.ww="pass";
C.U4=24;C.Gj(!0);S.u.push(S.fm())}for(var O=0;O<r.length;O++){var V=r[O];z=z.DM(V.$Y);var t=S.at();t.Gj(O==0);
t.Da(r.length==1?"Background":"Layer "+O);if(O==0&&V.YV)S.YV=V.YV;if(O==0&&V.wM)S.wM=V.wM;if(V.VI)t.Da(V.VI);
if(V.n8)for(var Y=0;Y<V.n8.length;Y++){var H=V.n8[Y],v=kQ.dK(H[0]);v.add.vmsk.M=H[1];j.w.J_(H[1],new hS(z.r,0,0,z.$,0,0));
S.S8.push(v)}if(V.oT)S.oT=V.oT;t.S=V.$Y.P();var n=V.depth?V.depth:S.depth;if(n==8)t.buffer=new Uint8Array(V.data);
else if(n==16)t.buffer=new Uint16Array(V.data);else if(n==32)t.buffer=new Float32Array(V.data);t.buffer=j.Mz(t.buffer,S.depth);
if(O==0&&V.z$)S.u4(V.z$);j.oA(t,!0);S.u.push(t)}if($)S.u.push(C);if(r[0].Bs){for(var O=0;O<r[0].Bs.length;
O++){var G=new Z.tp;S.Bs.push(G);G.S=r[0].$Y.P();G.G=r[0].Bs[O]}}S.K=[$?S.u.length-1:0];S.r=z.r;S.$=z.$;
if(gw==0)S.buffer=j.j(z.C()*4,S.depth);S.vM();return S};dN.aDo=function(F,r,$){var C=F.length-$,M=new Uint8Array(C);
for(var O=0;O<r;O++)M[O]=F[O];for(var O=r;O<C;O++)M[O]=F[O+$];return M};dN.aG9=function(F,r,$){var C=F.length,M=$.length,l=new Uint8Array(C+M);
for(var O=0;O<r;O++)l[O]=F[O];for(var O=r;O<C;O++)l[O+M]=F[O];l.set($,r);return l};dN.aga=function(F,r,$,C,M,l,k,d,I){var c=new k6(_.E.O,!0);
c.J=B.sT;c.data={R:"h_stepbck"};var Q={};for(var x=1;x<$.length;x++){var U=F.K.slice(0),S=dN.aDk(F,I,r,$,C,x),z="img"+x,V=$[0].indexOf(k);
if(k!=""){if(V==-1)alert("Column "+k+" not found.");else z=$[x][V]}Q[z+"."+M.toLowerCase()]=new Uint8Array(dN.Ja(F,M,null,null,l,d));
for(var O=0;O<S;O++)I.a(c)}return UZIP.encode(Q)};dN.aDk=function(F,r,$,C,M,l){var k=new k6(_.E.c,!0),c=0;
k.data={R:_.m.y9};var d=new k6(_.E.O,!0);d.J=B.pO;d.data={R:Z.Y0,TT:{buffer:null,S:null}};var I=d.data.TT;
for(var Q=0;Q<$.length;Q++){var x=$[Q],U=x.trait,S=parseInt(x.docRef.slice(4,-2)),z=-1;for(var O=0;O<F.u.length;
O++)if(F.u[O].add.lyid==S)z=O;if(z==-1)continue;var V=C[0].indexOf(x.varName);if(V==-1){alert("Column "+x.varName+" is missing");
return}var t=C[l][V],Y=F.u[z];F.K=[z];if(U=="textcontent"){k.data.ky="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(t)+";";
r.a(k);c++}if(U=="visibility"&&Y.rR()+""!=t.toLowerCase()){t=t.trim().toLowerCase();if(t!="true"&&t!="false")t=t==""?"false":"true";
k.data.ky="app.activeDocument.activeLayer.visible = "+t+";";if(Y.rR()+""!=t){r.a(k);c++}}if(U=="fileref"){var i=t.split("/").pop(),J=null;
for(var bU in M)if(bU.split("/").pop()==i)J=M[bU];if(J==null){alert("Image "+i+" is missing.")}else{var H=dN.LD(dN.GN(J.buffer)).YH(J.buffer)[0],v=H.$Y,n=Y.S,L=0,b=0;
if(Y.add.SoLd){var G=B.hL.$M(Y.add.SoLd.nonAffineTransform);n=j.b.qy(G)}var g=n.r/n.$,W=v.r/v.$;if(g>W){b=n.$;
L=~~(b*W)}else{L=n.r;b=~~(L/W)}k.data.ky="app.activeDocument.activeLayer.visible = false;";r.a(k);c++;
var T=B.hL.yF([new Uint8Array(H.data),v],new hS(L/v.r,0,0,b/v.$,0,0));I.S=T.S;I.buffer=T.buffer;T.S.x=n.x+(n.r-L>>>1);
T.S.y=n.y+(n.$-b>>>1);r.a(d);c++;var a=F.u[F.K[0]];a.gk=Y.gk;a.p9=Y.p9;a.ww=Y.ww;a.Lj=Y.Lj}}}return c};
dN.N_={};dN.N_.x2=function(F,r,$,C){if(C==null)C=[100,!1,!1,0,0,0];var M={sRGB:1,loop:C[4]},l=F[0];if(l[5]!=null){delete M.sRGB;
M.iCCP=l[5]}if(l[2]!=null){var k=Math.round(l[2]*(1e4/254));M.pHYs=[k,k,1]}if(l[3]!=null&&C[2]&&Object.keys(l[3]).length!=0){M.iTXt={"XML:com.adobe.xmp":hf.qu(l[3])}}var d=C[0],I=d==100?0:Math.max(2,Math.floor(d*5));
if(I==5)I=4;var c=[],Q=[];for(var O=0;O<F.length;O++){c.push(F[O][0]);Q.push(F[O][1])}var x=UPNG.encode(c,r,$,I,Q,M,C[1]);
return x};dN.N_.axE=function(F,r,$,C){if(C==null)C=8;if(C==16){F=F.slice(0);var M=new Uint8Array(F);
for(var O=0;O<M.length;O+=2){var l=M[O];M[O]=M[O+1];M[O+1]=l}}return UPNG.encodeLL([F],r,$,3,1,C)};dN.N_.YH=function(F){var r=Date.now(),$=UPNG.decode(F),C=$.width,M=$.height,l=8,k=$.ctype,d,I=0,c=null,Q=$.tabs.iCCP;
if($.tabs.pHYs)I=Math.round($.tabs.pHYs[0]*254/1e4);var x=$.tabs.iTXt;if(x&&x["XML:com.adobe.xmp"])c=hf.VH(x["XML:com.adobe.xmp"]);
if(jV&&$.depth==16){d=[dN.aAx($.data.buffer.slice(0,C*M*8),C,M,!0)];l=16}else d=UPNG.toRGBA8($);if(d.length==1)return[{$Y:new cS(0,0,C,M),data:d[0],YV:I,z$:Q,wM:c,depth:l}];
var U=[];for(var O=0;O<d.length;O++){U.push({VI:"_a_frm"+O+","+$.frames[O].delay,$Y:new cS(0,0,C,M),data:d[O],YV:I,z$:Q,wM:c,depth:l})}return U};
dN.Hw={};dN.Hw.x2=function(F,r,$,C){var M=new Uint8Array(F[0][0]),l=r*$,k=l*3,d="P6\n"+r+" "+$+"\n255\n",I=d.length,c=new Uint8Array(I+k);
for(var O=0;O<I;O++)c[O]=d.charCodeAt(O);for(var O=0;O<l;O++){var Q=O*4,x=O*3+I;c[x]=M[Q];c[x+1]=M[Q+1];
c[x+2]=M[Q+2]}return c.buffer};dN.Hw.YH=function(F){F=new Uint8Array(F);var r=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],$=0,C=String.fromCharCode(F[0])+String.fromCharCode(F[1]),M=[],l=0,k=C=="P1"||C=="P4"?2:3;
for($=2;$<F.length;$++){var d=F[$],I=String.fromCharCode(d);if(d=="#".charCodeAt(0)){while(F[$]!="\n".charCodeAt(0))$++;
continue}var c=r.indexOf(d)!=-1;if(l==0&&!c){M.push(I);l=1;continue}if(l==1&&!c){M[M.length-1]+=I;continue}if(l==1&&c){l=0;
if(M.length==k)break;continue}}var Q=parseInt(M[0]),x=parseInt(M[1]),U=Q*x*4,S=C=="P1"||C=="P4"?1:255/parseInt(M[2]),z=j.j(U);
if(C=="P1"||C=="P2"||C=="P3"){var V="",t=0,l=0,Y="#".charCodeAt(0);for(var O=$;O<F.length;O++){var d=F[O],I=String.fromCharCode(d),c=r.indexOf(d)!=-1;
if(d==Y){while(F[O]!="\n".charCodeAt(0))O++}else if(l==0&&!c){V=I;l=1}else if(l==1){if(c){l=0;var i=parseInt(V);
V="";if(C=="P1"){z[t]=z[t+1]=z[t+2]=(1-i)*255;z[t+3]=255;t+=4}if(C=="P2"){z[t]=z[t+1]=z[t+2]=Math.round(i*S);
z[t+3]=255;t+=4}if(C=="P3"){z[t]=Math.round(i*S);t++;if((t&3)==3){z[t]=255;t++}}}else V+=I}}}var J=Q*x;
if(C=="P4")for(var H=0;H<x;H++){var v=H*8*Math.ceil(Q/8);for(var n=0;n<Q;n++){var O=v+n,G=F[$+1+(O>>3)];
G=G>>7-(O&7)&1;var g=H*Q+n<<2;z[g]=z[g+1]=z[g+2]=(1-G)*255;z[g+3]=255}}if(C=="P5")for(var O=0;O<J;O++){var g=4*O;
z[g]=z[g+1]=z[g+2]=Math.round(F[$+1+O]*S);z[g+3]=255}if(C=="P6")for(var O=0;O<J;O++){var g=4*O,W=$+1+3*O;
z[g]=Math.round(F[W]*S);z[g+1]=Math.round(F[W+1]*S);z[g+2]=Math.round(F[W+2]*S);z[g+3]=255}return[{$Y:new cS(0,0,Q,x),data:z.buffer}]};
dN.c6={};dN.c6.x2=function(F,r,$,C){if(C==null)C=[0,!0];if(typeof C[0]=="boolean")C[0]=0;var M=new Uint8Array(F[0][0]);
if(!j.Q3(M)&&F[0][4]){M=M.slice(0);j.dr(F[0][4][0],M,3)}var l=r&3,k=$&3;if(l!=0||k!=0){var d=r+(l==0?0:4-l),I=$+(k==0?0:4-k),c=new Uint8Array(d*I*4);
j.A9(c,4278190080);j.mR(M,new cS(0,0,r,$),c,new cS(0,0,d,I));M=c;r=d;$=I}var Q=UTEX.DDS.encode(M.buffer,r,$,C);
if(!1){var x=UTEX.DDS.decode(Q)[0],c=new Uint8Array(x.gn),U=0;for(var O=0;O<M.length;O++){var S=M[O]-c[O];
U+=S*S}console.log(U)}return Q};dN.c6.YH=function(F){var r=UTEX.DDS.decode(F)[0],$={$Y:new cS(0,0,r.width,r.height),data:r.image};
j.aAF($);return[$]};dN.ax8={};dN.ax8.YH=function(F){var r=UTEX.VTF.decode(F).pop(),$={$Y:new cS(0,0,r.width,r.height),data:r.image};
j.aAF($);return[$]};dN.oM={};dN.oM.aq1=null;dN.oM.a7h=function(F,r){var $=dN.oM.aq1,C=F.byteLength,M=r.width,l=r.height,k=M*l,d=5e6+2*C+k*(r.progressive?Math.max(2,r.numComponents)*4+1:8),I=$.instance.exports;
dN.h2(I,d);var c=new Uint8Array(I.memory.buffer),Q=I.malloc(C);c.set(new Uint8Array(F),Q);var x=I.malloc(4),U=I.malloc(4),bU=I.malloc(4),S=I.stbi_load_from_memory(Q,C,x,U,bU,4);
I.free(Q);I.free(x,U,bU);I.free(S);var z=c.slice(S,S+k*4);return z};(function(){var F=dN.Sd.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(F).then(function(r){dN.oM.aq1=r})}());dN.oM.x2=function(F,r,$,C){if(C==null)C=[85];
var M=F[0],l=new Uint8Array(M[0]);if(j.Q3(l)){var k=new Uint8Array(l.length);k.fill(255);var d=new cS(0,0,r,$);
j.v.O5("norm",l,d,k,d,d,1);l=k}var I=new Uint8Array(dN.yQ(l.buffer,r,$,"jpeg",C[0]/100));if(I.length<2e4||M[5]){var c=P.Ah(I,[255,226]);
if(c!=-1){var Q=P.G2(I,c+2);I=dN.aDo(I,c,Q+2)}}if(M[5]!=null){var x=4+P.G2(I,4),U=M[5].length+16,S=new Uint8Array(U+2);
S[0]=255;S[1]=226;P.N2(S,2,U);P.o9(S,4,"ICC_PROFILE");S[16]=S[17]=1;S.set(M[5],18);I=dN.aG9(I,x,S)}if(M[2]!=null){var z=dN.oM.df(I)[224][0]+2;
z+=9;I[z]=1;P.N2(I,z+1,M[2]);P.N2(I,z+3,M[2])}if(M[3]!=null&&C[1]==!0&&Object.keys(M[3]).length!=0){var V=0,t=0,Y=0,i=hf.Yp(M[3]),J=new Uint8Array(UTIF.encode([i])),H="http://ns.adobe.com/xap/1.0/",x=20;
V=4+6+J.length;var v=hf.qu(M[3]),n=P.V4(v);t=4+H.length+1+n.length;var G=hf.atN(M[3]);if(G.length!=0){var g=0,b=0;
for(var O=0;O<G.length;O++)g+=5+G[O][1].length;var W=g+(g&1),L=j.j(14+4+4+4+W);P.o9(L,b,"Photoshop 3.0");
b+=14;P.o9(L,b,"8BIM");b+=4;L[b++]=4;L[b++]=4;b+=2;P.us(L,b,g);b+=4;for(var O=0;O<G.length;O++){var T=G[O],a=T[1];
L[b++]=28;L[b++]=2;L[b++]=T[0];P.N2(L,b,a.length);b+=2;P.o9(L,b,a);b+=a.length}Y=4+L.length}var R=V+t+Y,D=new Uint8Array(I.length+R);
for(var O=0;O<20;O++)D[O]=I[O];for(var O=20;O<I.length;O++)D[O+R]=I[O];D[x]=255;D[x+1]=225;P.N2(D,x+2,V-2);
P.o9(D,x+4,"Exif");for(var O=0;O<J.length;O++)D[x+10+O]=J[O];x+=V;D[x]=255;D[x+1]=225;P.N2(D,x+2,t-2);
P.o9(D,x+4,H);for(var O=0;O<n.length;O++)D[x+4+H.length+1+O]=n[O];x+=t;if(Y!=0){D[x]=255;D[x+1]=237;
P.N2(D,x+2,Y-2);for(var O=0;O<L.length;O++)D[x+4+O]=L[O];x+=Y}I=D}return I.buffer};dN.oM.df=function(F){var r=0,$=[],C=F.length;
while(r<C){while(F[r]!=255&&r<C)r++;while(F[r]==255)r++;if(r==C)break;var M=F[r];r++;if($[M]==null)$[M]=[];
$[M].push(r-2);if(M==216)continue;if(M==217)break;if(224<=M&&M<=239||M==218||M==219||M==192||M==193||M==194||M==196||M==221||M==254){var l=P.G2(F,r);
r+=l;if(M==218)while(r<C&&(F[r]!=255||(F[r+1]==0||208<=F[r+1]&&F[r+1]<=215)))r++;continue}console.log("unknown marker ",M.toString(16),r);
break}if($[217]==null){console.log("EOI marker missing");var k=F.length-2;F[k]=255;F[k+1]=217;$[217]=[k]}return $};
dN.oM.akc=function(F){F=new Uint8Array(F);if(F[0]!=255)return F.buffer;var r=dN.oM.df(F),$=dN.oM.aF6(F,r);
if($.numComponents!=4)return F.buffer;var C=$.width,M=$.height,l=dN.oM.aq7(F,r,!0);return dN.oM.x2([[l[0].data]],C,M,[85])};
dN.oM.aF6=function(F,r){var $=(r[192]?r[192]:r[193]?r[193]:r[194])[0]+4,C={};C.progressive=r[194]!=null;
C.precision=F[$];$++;C.height=P.G2(F,$);$+=2;C.width=P.G2(F,$);$+=2;C.numComponents=F[$];$++;if(r[224]){var M=C.jfif={};
$=r[224][0]+2+2+5+2;M.densityUnits=F[$];$++;M.xDensity=P.G2(F,$);$+=2;M.yDensity=P.G2(F,$);$+=2}if(r[238]){var M=C.adobe={};
$=r[238][0]+2+2+6;M.version=F[$];$++;M.flags0=P.G2(F,$);$+=2;M.flags1=P.G2(F,$);$+=2;M.transform=F[$];
$++}return C};dN.oM.aHg=function(F,r,$){var C=r,M=P.G2(F,C);C+=2;var l=P.BW(F,C,4);if(l=="Exif"){C+=6;
var k=F.slice(C,C+M-8),d;try{d=UTIF.decode(k.buffer,{parseMN:!1,debug:!1})}catch(ac){}if(d&&d.length!=0)$.exif=d}else if(l=="http"){var I=0;
while(F[C+I]!=0)I++;var c=P.BW(F,C,I);C+=I+1;if(c=="http://ns.adobe.com/xmp/extension/"){var Q=P.BW(F,C,32);
C+=32;C+=8;var x=r+M-C;while(F[C+x-1]==0)x--;if($.xmp_extn==null)$.xmp_extn="";try{$.xmp_extn+=P.qV(F,C,x)}catch(ac){}}else if(c=="http://ns.adobe.com/xap/1.0/"){var U=P.qV(F.slice(C,C+M-I-3));
if(U[0]=="?")U="<"+U;$.xmp=U}}else console.log(l)};dN.oM.aq7=function(F,r,$){var C=dN.oM.aF6(F,r),M=C.width,l=C.height,k=M*l,d,H=72,v,G,g=null;
if(M*l*4>2e9&&window.chrome!=null){alert("A bug in Chromium doesn't allow us open such large images. Try it in Firefox!",2600);
return null}var I=-1;if(C.adobe)I=C.adobe.transform;if($||M*l>1e7||I==0||I==2||C.progressive||window.WebAssembly==null){var c=new PDFJS.JpegImage;
c.parse(F);var Q=c.getData({width:M,height:l,forceRGB:!0,isSourcePDF:$}),d=j.j(k*4);for(var O=0;O<k;
O++){var x=O<<2,U=x-O;d[x]=Q[U];d[x+1]=Q[U+1];d[x+2]=Q[U+2];d[x+3]=255}}else{d=dN.oM.a7h(F.buffer,C)}var S=r[225];
if(S)for(var O=0;O<S.length;O++)dN.oM.aHg(F,S[O]+2,C);var z=r[226];if(z){for(var O=0;O<z.length;O++){var V=z[O],t=P.G2(F,V+2),Y=P.BW(F,V+4,11);
if(C.icc==null&&Y=="ICC_PROFILE"){var i=P.dj(F,V+18);C.icc=F.slice(V+18,V+18+i)}}}var J=r[217][0]+2;
if(J!=F.length)C.suffix=F.slice(J);var n=[M,l,1,0,0,0,1,0];if(C.jfif&&C.jfif.densityUnits!=0){H=Math.round([72,1,2.54][C.jfif.densityUnits]*C.jfif.xDensity)}else if(C.exif&&C.exif[0].t282!=null){var W=C.exif[0].t282[0];
H=W[0]/W[1]}if(C.exif){var L=C.exif;v=hf.LL(L[0]);var b=L[0].t274;if(b)b=b[0];if(b!=null&&b>1&&b<20)n=j.raw.a23(b,M,l)}if(C.xmp){v=hf.VH(C.xmp,v)}if(C.icc)G=C.icc;
var T=r[237],a=[],R=[];if(T){var D=new Uint8Array(65536),h=0,V=0;for(var O=0;O<T.length;O++){V=T[O]+2;
var K=V+P.G2(F,V);V+=2;var X=V;while(F[V]!=0)V++;V++;var w=P.BW(F,X,V-X-1),N=K-V;if(N<0)break;while(h+N>D.length){var s=new Uint8Array(D.length*2);
s.set(D);D=s}var A=new Uint8Array(F.buffer,V,N);D.set(A,h);h+=N}V=0;F=D;while(V<h){var p=P.BW(F,V,4);
V+=4;var q=P.G2(F,V);V+=2;var f=F[V++],e=P.BW(F,V,f);V+=f;if((f&1)==0)V++;var t=P.dj(F,V);V+=4;var J=V+t+(t&1);
if(q==1028){while(V+4<J){var o=F[V++],E=F[V++],cj=F[V++],u=P.G2(F,V);V+=2;if(o==28&&E==2)a.push([cj,P.BW(F,V,u)]);
V+=u}}else if(q==1032)g=go.aeL(F,V);else if((q&2e3)==2e3){var cd=fW.Hv(F,V,t);R.push([e,cd])}else{}V=J}if(a.length!=0)v=hf.axI(a,v)}var m=[{$Y:new cS(0,0,M,l),data:d.buffer,YV:H,wM:v,z$:G,n8:R.length==0?null:R,oT:g}],v=C.xmp_extn;
if(v){var aZ=new DOMParser,jN=aZ.parseFromString(v,"image/svg+xml"),jN=jN.children[0].children[0].children[0],eh=[jN.getAttribute("GImage:Data"),jN.getAttribute("GDepth:Data")];
for(var O=0;O<eh.length;O++)if(eh[O]){var iA=atob(eh[O]),hd=new Uint8Array(iA.length);P.o9(hd,0,iA);
hd=hd.buffer;var kx=dN.GN(hd),b0=dN.LD(kx).YH(hd);m.push(b0[0])}}if(C.suffix){var gX=C.suffix,j$=!1,i0=P.BW(gX,4,4),f7=P.Ah(gX,[255,216,255]);
if(dN.aJN(gX,[0,0,1,10,14,0,0,0])){if(j$)console.log("Samsung");var V=0;while(V!=gX.length){var am=P.IX(gX,V+2);
V+=4;var gf={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[am];if(gf!=null){var cC=P.cA(gX,V);V+=4;
var aD=P.BW(gX,V,cC);V+=cC;var c_=P.BW(gX,V,gf);V+=gf;if(am==2608){var a9=V,jz=P.dj(gX,V+24);V+=jz+24;
var g3=P.dj(gX,V);V+=g3;var e3=gX.slice(a9,V);dN.oM.a3g(e3)}}else if(am==18502){while(P.BW(gX,V,4)!="SEFT")V+=4;
V+=4}else{break;console.log(P._3(gX,V,128));console.log(gX.slice(V));throw am.toString(16)}}}else if(i0=="ftyp"){if(j$)console.log("MP4 Video");
dN.oM.a3g(gX)}else if(P.BW(gX,0,4)=="fixe"){if(j$)console.log("fixe");alert("Unknown data - "+gX.length+" B - at the end of the file",3e3);
var V=4,t=P.cA(gX,V);V+=4;var c1=P.cA(gX,V);V+=4;var dI=P.cA(gX,V);V+=4;console.log(t,c1,dI,gX.slice(V,V+84));
V+=84;var kJ=P.BW(gX,V,32);V+=32;V+=8;var kJ=P.BW(gX,V,32);V+=32}else if(P.BW(gX,8,13)=="FocusShot_Map"){if(j$)console.log("FocusShot_Map");
var cA=P.dj(gX,0),u=P.cA(gX,4),hd=j.j(k*4),c2=j.j(k*4);for(var ee=0;ee<l;ee++)for(var hF=0;hF<M;hF++){var O=ee*M+hF,x=O<<2,ic=8+13+((ee>>>1)*M+hF>>>1),eH=gX[ic],kz=gX[ic+(k>>>2)];
hd[x]=hd[x+1]=hd[x+2]=eH;hd[x+3]=255;c2[x]=c2[x+1]=c2[x+2]=kz;c2[x+3]=255}m.push({$Y:new cS(0,0,M,l),data:hd.buffer},{$Y:new cS(0,0,M,l),data:c2.buffer})}else if(i0=="edof"){if(j$)console.log("edof");
var b=gX[8+7];console.log(b.toString(16));var V=8+16,kq=P.IX(gX,V),a7=P.IX(gX,V+2),k=kq*a7;V+=4;V+=32+16;
var i6=j.j(k*4);for(var O=0;O<k;O++){var x=O<<2;i6[x]=i6[x+1]=i6[x+2]=gX[V+O];i6[x+3]=255}if(b==16){}else if(b==19){var hm=i6.slice(0);
j.H.Mk(i6,hm,kq,a7);var bB=kq;kq=a7;a7=bB;j.H.rQ(hm,i6,kq,a7)}else throw"Unknown orientation of a depth map";
m.push({$Y:new cS(0,0,kq,a7),data:i6.buffer})}else if(P.BW(gX,0,64).indexOf("DualShot")!=-1){var iV=P.cA,eO=P.BW,aC=P.IX,V=0;
function fq(){var gj=iV(gX,V);if(iV(gX,V+4)!=0)throw"e";V+=8;return gj}var bX=P.dj(gX,V);V+=4;try{if(bX==45066){V=1226;
var M=fq(),l=fq();V=3445}else if(bX==45322){var gb=iV(gX,V);V+=4;var kJ=eO(gX,V,gb);V+=gb;if(kJ!="DualShot_DepthMap_1")throw kJ;
M=1008;l=756}else throw bX;var dX=j.j(M*l*4);dX.fill(255);j.Wn(gX.slice(V,V+M*l),dX);m.push({$Y:new cS(0,0,M,l),data:dX.buffer})}catch(ac){console.log("error reading a depth map")}try{if(f7!=0)gX=gX.slice(f7);
m=m.concat(dN.LD("jpg").YH(gX.buffer))}catch(ac){}}else if(f7!=-1&&!(gX[0]==255&&gX[1]==129)){if(j$)console.log("another JPG at",f7);
try{if(f7!=0)gX=gX.slice(f7);m=m.concat(dN.LD("jpg").YH(gX.buffer))}catch(ac){}}else if(P.BW(gX,0,4)=="PMPD"){if(j$)console.log("Xiaomi stuff");
var V=4,cb=P.cA(gX,12),e6=P.cA(gX,16),kq=P.cA(gX,1060),a7=P.cA(gX,1064),gn=kq>a7,a2=m[0].$Y.r>m[0].$Y.$,kf=gX.slice(gX.length-kq*a7-4),dj=j.j(kq*a7);
for(var ee=0;ee<a7;ee++)for(var hF=0;hF<kq;hF++)dj[ee*kq+hF]=kf[(a7-ee-1)*kq+hF];var dX=j.j(kq*a7*4);
dX.fill(255);j.Wn(dj,dX);if(gn!=a2){var hm=dX.slice(0);j.H.Mk(dX,hm,kq,a7);var bB=kq;kq=a7;a7=bB;j.H.rQ(hm,dX,kq,a7)}m.push({$Y:new cS(0,0,kq,a7),data:dX.buffer})}else console.log(P.BW(gX,0,4),gX)}if(m.length>1){var hr=m[0].$Y,dm=!1,fr=!0;
m[0].VI="Main";var iB=[!1];for(var O=1;O<m.length;O++){iB[O]=dN.oM.a4P(new Uint8Array(m[O].data));if(iB[O])dm=!0;
if(!m[O].$Y.Mp(m[0].$Y))fr=!1}if(!dm&&!fr)m=m.slice(0,1);else for(var O=1;O<m.length;O++){m[O].VI=iB[O]?"Depth Map":null;
var dv=m[O].$Y;if(!dv.Mp(hr)){var hw=hr.r/dv.r,gT=hr.$/dv.$,cu=new hS;cu.scale(hw,gT);var ha=B.hL.pF([new Uint8Array(m[O].data),dv],1,j.H.TG(cu));
m[O].$Y=ha.S;m[O].data=ha.buffer}}}if(dN.oM.gl==1)if(n[2]!=1||n[6]!=1)for(var O=0;O<m.length;O++){var g1=m[O],dd=new Uint8Array(g1.data),M=g1.$Y.r,l=g1.$Y.$,kq=n[0],a7=n[1],d=j.j(kq*a7*4);
j.H.zt(dd,M,l,d,n);g1.$Y=new cS(0,0,kq,a7);g1.data=d.buffer}return m};dN.oM.a3g=function(F){if(window.confirm("Photopea found a "+iv.$A(F.length)+" MP4 video inside your image. Would you like to save it?",4e3)){bF.save(F.slice(0).buffer,"video.mp4")}};
dN.oM.a4P=function(F){var r=!0;for(var O=0;O<F.length;O+=4){r=r&&F[O]==F[O+1]&&F[O+1]==F[O+2]}return r};
dN.oM.gl=0;dN.oM.YH=function(F,r,$){F=new Uint8Array(F);if(F[0]==255){var C=dN.oM.df(F);if(C[195]==null){dN.oM.gl++;
var M=dN.oM.aq7(F,C,!1);dN.oM.gl--;return M}var l=P.G2(F,C[195][0]+5),k=P.G2(F,C[195][0]+7),d=UTIF.LosslessJpegDecode(F),I=k*l,c=j.j(I*4);
for(var O=0;O<I;O++){var Q=O<<2,x=Q-O;c[Q]=d[x];c[Q+1]=d[x+1];c[Q+2]=d[x+2];c[Q+3]=255}return[{$Y:new cS(0,0,k,l),data:c.buffer}]}else if(F[0]==0&&F[4]==48&&F[6]==1){var U=F,S=new PDFJS.Jbig2Image,z=[];
if(r)z.push({data:r,start:0,end:r.length});z.push({data:U,start:0,end:U.length});var d=S.parseChunks(z);
if(!$)for(var O=0;O<d.length;O++)d[O]=~d[O];var k=P.dj(F,11),l=P.dj(F,15),V=Math.ceil(k/8),t=j.j(k*l*4);
for(var Y=0;Y<l;Y++){var i=Y*V;for(var J=0;J<k;J++){var Q=(Y*k+J)*4,H=d[i+(J>>>3)]>>>7-(J&7)&1,v=H*255;
t[Q]=v;t[Q+1]=v;t[Q+2]=v;t[Q+3]=255}}return[{$Y:new cS(0,0,k,l),data:t.buffer}]}else{var S=new PDFJS.JpxImage;
S.parse(F);var k=S.width,l=S.height,n=S.tiles,G=S.componentsCount,g=new Uint8Array(k*l*4),W=new cS(0,0,k,l);
for(var S=0;S<n.length;S++){var L=n[S],b=L.width,T=L.height,a=b*T,R=L.items,D=new cS(L.left,L.top,b,T),h=new Uint8Array(a*4);
if(G==1)for(var O=0;O<a;O++){var K=R[O],Q=O*4;h[Q]=K;h[Q+1]=K;h[Q+2]=K;h[Q+3]=255}else if(G==3)for(var O=0;
O<a;O++){var x=O*3,Q=O*4;h[Q]=R[x];h[Q+1]=R[x+1];h[Q+2]=R[x+2];h[Q+3]=255}else if(G==4)h.set(R);else console.log("Unknown number of components: "+G);
j.mR(h,D,g,W)}return[{$Y:W,data:g.buffer}]}};dN.gF={};dN.gF.x2=function(F,r,$,C){if(C==null)C=[70,!1,0,0,0];
var M=C[0]/100,V=0;if(F.length==1){var l=new Uint8Array(dN.yQ(F[0][0],r,$,"webp",M));if(dN.GN(l.buffer)!="webp"){alert("Your browser cannot export WEBP :(",3e3);
throw"e"}if(l.length<2e4){var k=bN.CO(l.buffer),d=k.sub;for(var O=0;O<d.length;O++)if(d[O].ar=="ICCP"){var I=d[O];
l=dN.aDo(l,I.p-8,I.size+8);P.mu(l,4,k.size-(I.size+8));break}}if(C[1]&&F[0][3]){var k=bN.CO(l.buffer),d=k.sub,c=d[0].p+d[0].size,Q=F[0][3],x=new Uint8Array(UTIF.encode([hf.Yp(Q)])),U=new Uint8Array(6+x.length);
P.o9(U,0,"Exif\0\0");U.set(x,6);var S=P.V4(hf.qu(Q)),z=new Uint8Array(16+U.length+S.length);P.o9(z,0,"EXIF");
P.mu(z,4,U.length);z.set(U,8);var V=8+U.length;P.o9(z,V,"XMP ");P.mu(z,V+4,S.length);z.set(S,V+8);var t=new Uint8Array(l.length+z.length);
t.set(new Uint8Array(l.buffer,0,c),0);t.set(z,c);t.set(new Uint8Array(l.buffer,c),c+z.length);l=t;P.mu(l,4,P.cA(l,4)+z.length)}return l.buffer}var Y=P.k6,i=P.Lh,J=new eo;
Y(J,V,"RIFF    WEBPVP8X");V+=16;i(J,V,10);V+=4;i(J,V,18);V+=4;i(J,V,r-1);V+=3;i(J,V,$-1);V+=3;Y(J,V,"ANIM");
V+=4;i(J,V,6);V+=4;J.cq(V,4);J.data[V+3]=255;P.JQ(J,V+4,C[3]);V+=6;var H=[];for(var O=0;O<F.length;O++){H.push(F[O][0])}var v=UPNG.encode.compress(H,r,$,M==1?0:Math.max(2,Math.floor(M*500)),[!1,!0,!0,0,!0]).frames;
function n(k,X,w,N){var a=k.p-8,R=k.size+8;w.cq(N,R);for(var O=0;O<R;O++)w.data[N+O]=X[a+O];return N+R}for(var O=0;
O<F.length;O++){Y(J,V,"ANMF");V+=4;var G=V,a=0,R=0;V+=4;var g=v[O],W=g.rect,L=[W.x>>>1,W.y>>>1,W.width-1,W.height-1,F[O][1]];
for(var b=0;b<5;b++)i(J,V+3*b,L[b]);V+=15;J.cq(V,1);J.data[V]=1-g.blend<<1|g.dispose;V++;var T=new Uint8Array(dN.yQ(g.img.buffer,W.width,W.height,"webp",1)),d=bN.CO(T.buffer).sub,D={};
for(var h=0;h<d.length;h++)D[d[h].ar]=d[h];if(D.VP8L)V=n(D.VP8L,T,J,V);else throw"e";var K=V-G-4;i(J,G,K);
if((K&1)==1){J.cq(V,1);V++}}i(J,4,V-8);return J.data.slice(0,V).buffer};(function(){var F=dN.Sd.get("wasm/webp").buffer;
WebAssembly.instantiate(F).then(function(r){var $=r.instance.exports;dN.gF.exp=$})}());dN.gF.YH=function(F){var r=new Uint8Array(F),$=dN.gF.a1D,C=null,M=bN.CO(F).sub,l={},k=null;
for(var O=0;O<M.length;O++)l[M[O].ar]=M[O];if(l.EXIF){var d=l.EXIF,I=new Uint8Array(F,d.p+6,d.size-6),d=UTIF.decode(I)[0];
if(d)k=hf.LL(d)}var d=l["XMP\0"];if(d==null)d=l["XMP "];if(d){var I=new Uint8Array(F,d.p,d.size);if(k==null)k={};
k=hf.VH(P.qV(I),k)}var c=l.ANIM,Q=l.VP8L,x=l["VP8 "],U=l.VP8X;if(c==null){var S,z;if(x){S=P.IX(r,x.p+6);
z=P.IX(r,x.p+8)}else if(Q){var V=P.cA(r,Q.p+1);S=(V&(1<<14)-1)+1;z=(V>>>14&(1<<14)-1)+1}else throw"e";
var t=$(C,F,{p:0,size:r.length},S,z);t.wM=k;return[t]}var Y=U.p,S=1+(P.cA(r,Y+4)&16777215),z=1+(P.cA(r,Y+7)&16777215),i=[],J=new cS(0,0,S,z),H=j.j(S*z*4);
for(var O=0;O<M.length;O++){var v=M[O];if(v.ar!="ANMF")continue;var n=[];for(var G=0;G<5;G++)n.push(P.cA(r,v.p+G*3)&16777215);
var g=new cS(n[0]*2,n[1]*2,n[2]+1,n[3]+1),W=n[4],L=$(C,F,{p:v.p+16,size:v.size-16},S,z),b=new Uint8Array(L.data),T=r[v.p+15];
if(T>>>1==0)j.v.O5("norm",b,g,H,J,g,1);else j.mR(b,g,H,J);i.push({VI:"_a_"+i.length+","+W,$Y:J.P(),data:H.buffer.slice(0)});
if((T&1)==1){b.fill(0);j.mR(b,g,H,J)}}return i};dN.gF.a1D=function(F,r,$,C,M){var l=dN.gF.exp,k=l.memory,d=5e6+2*$.size+C*M*10;
dN.h2(l,d);var I=new Uint8Array(k.buffer),c=l.malloc($.size);I.set(new Uint8Array(r,$.p,$.size),c);var Q=l.malloc(8),x=l.WebPDecodeARGB(c,$.size,Q,Q+4),U=P.cA(I,Q),S=P.cA(I,Q+4),z=U*S*4,V=j.j(z);
for(var O=0;O<z;O+=4){V[O]=I[x+O+1];V[O+1]=I[x+O+2];V[O+2]=I[x+O+3];V[O+3]=I[x+O]}l.WebPFree(x);l.free(Q);
l.free(c);return{$Y:new cS(0,0,U,S),data:V.buffer}};dN.ag$=function(){function F(d,I,c,Q){var x=new Uint8Array(d[0][0]),U=new Uint32Array(x.buffer),S=[],z={},t=24,Y=0,n=0;
for(var O=0;O<U.length;O++){var V=U[O]&16777215;if(z[V]==null){z[V]=S.length;S.push(V);if(S.length>256){S=null;
break}}}if(Q&&Q[0])S=null;if(S){t=1;while(1<<t<S.length)t*=2;if(t==2)t=4}var i={a0:I,Y9:c,ZM:1,eW:t,C4:0,a8R:Y},J=4*Math.floor((i.eW*i.a0+31)/32);
i.size=J*i.Y9+2;var H=new eo,v=S?(1<<t)*4:0;P.k6(H,n,"BM");n+=2;P.Lh(H,n,J*c+16+40+v);n+=4;P.Lh(H,n,0);
n+=4;P.Lh(H,n,54+v);n+=4;H.cq(n,40);P.Lh(H,n,40);n+=4;k(H.data,n,i,J);n+=36;if(S){H.cq(n,v);var G=H.data;
for(var O=0;O<S.length;O++){var g=n+O*4,W=S[O]>>>16,L=S[O]>>>8&255,b=S[O]&255;G[g]=W;G[g+1]=L;G[g+2]=b}n+=v}H.cq(n,J*c);
if(t==24)for(var T=0;T<c;T++){var a=n+(c-1-T)*J;for(var R=0;R<I;R++){var h=(T*I+R)*4;H.data[a+R*3+2]=x[h];
H.data[a+R*3+1]=x[h+1];H.data[a+R*3+0]=x[h+2]}}else if(t==8)for(var T=0;T<c;T++){var a=n+(c-1-T)*J;for(var R=0;
R<I;R++){var h=T*I+R,K=z[U[h]&16777215];H.data[a+R]|=K}}else if(t==4)for(var T=0;T<c;T++){var a=n+(c-1-T)*J;
for(var R=0;R<I;R++){var h=T*I+R,K=z[U[h]&16777215];H.data[a+(R>>>1)]|=K<<4-(R&1)*4}}else if(t==1)for(var T=0;
T<c;T++){var a=n+(c-1-T)*J;for(var R=0;R<I;R++){var h=T*I+R,K=z[U[h]&16777215];H.data[a+(R>>>3)]|=K<<7-(R&7)}}n+=J*c+2;
return H.data.slice(0,n).buffer}function r(d){d=new Uint8Array(d);if(P.cA(d,0)==40)return[$(d.buffer,0)];
var I=0,c=P.BW(d,I,2);I+=2;if(c!="BM"){alert("Unsupported BMP format: "+c);return}var Q=P.cA(d,I);I+=4;
I+=4;var x=P.cA(d,I);I+=4;return[$(d.buffer,I,x)]}function $(d,I,c){d=new Uint8Array(d);var Q=P.cA(d,I),x=l(d,I+4);
if(x.ZM!=1)alert("unsupported number of color planes: "+x.ZM);if(x.C4!=0&&x.C4!=1&&x.C4!=2&&x.C4!=3){alert("Unsupported BMP compression: "+x.C4);
return}I+=Q;var U=I,S=d;if(c==null)c=I;if(x.C4==1||x.C4==2){var z=M(d,c,x);x.eW=8;d=z;c=0}var V=4*Math.floor((x.eW*x.a0+31)/32),t=x.a0,Y=Math.abs(x.Y9),i=new Uint8Array(t*Y*4);
i.fill(255);if(x.eW==32)for(var J=0;J<Y;J++){var H=c+(Y-1-J)*V;for(var v=0;v<t;v++){var n=(J*t+v)*4;
i[n]=d[H+v*4+2];i[n+1]=d[H+v*4+1];i[n+2]=d[H+v*4+0];i[n+3]=d[H+v*4+3]}}else if(x.eW==24)for(var J=0;
J<Y;J++){var H=c+(Y-1-J)*V;for(var v=0;v<t;v++){var n=(J*t+v)*4;i[n]=d[H+v*3+2];i[n+1]=d[H+v*3+1];i[n+2]=d[H+v*3+0]}}else if(x.eW==16)for(var J=0;
J<Y;J++){var H=c+(Y-1-J)*V;for(var v=0;v<t;v++){var n=(J*t+v)*4,G=d[H+v*2+1]<<8|d[H+v*2];if(c==I){i[n]=(G>>>10&31)*(255/31);
i[n+1]=(G>>>5&31)*(255/31);i[n+2]=(G&31)*(255/31)}else{i[n]=(G>>>11)*(255/31);i[n+1]=(G>>>5&63)*(255/63);
i[n+2]=(G&31)*(255/31)}}}else if(x.eW==8)for(var J=0;J<Y;J++){var H=c+(Y-1-J)*V;for(var v=0;v<t;v++){var n=(J*t+v)*4,g=d[H+v];
i[n]=S[U+4*g+2];i[n+1]=S[U+4*g+1];i[n+2]=S[U+4*g+0]}}else if(x.eW==4)for(var J=0;J<Y;J++){var H=c+(Y-1-J)*V;
for(var v=0;v<t;v++){var n=(J*t+v)*4,g=d[H+(v>>1)];g=g>>4-4*(v&1);g=g&15;i[n]=S[U+4*g+2];i[n+1]=S[U+4*g+1];
i[n+2]=S[U+4*g+0]}}else if(x.eW==1)for(var J=0;J<Y;J++){var H=c+(Y-1-J)*V;for(var v=0;v<t;v++){var n=(J*t+v)*4,W=d[H+(v>>3)];
W=W>>7-(v&7);W=W&1;i[n]=S[U+4*W+2];i[n+1]=S[U+4*W+1];i[n+2]=S[U+4*W+0]}}else throw"Unknown bit depth "+x.eW;
if(x.Y9<0){var L=new Uint32Array(i.buffer),b=Y>>>1;for(var J=0;J<b;J++){var T=J*t,a=(Y-J-1)*t;for(var v=0;
v<t;v++){var R=L[T+v];L[T+v]=L[a+v];L[a+v]=R}}}return{$Y:new cS(0,0,t,Y),data:i.buffer}}function C(d,O){return d>>>4-((O&1)<<2)&15}function M(d,I,c){var Q=c.a0,x=Math.abs(c.Y9),U=new Uint8Array(Q*x),S=0,z=0,O=0;
while(z<x){var V=d[I++],t=d[I++],Y=z*Q+S;if(V>0){if(c.eW==4)for(O=0;O<V;O++){U[Y+O]=C(t,O)}else for(O=0;
O<V;O++){U[Y+O]=t}S+=V}else if(V==0&&t==0){z++;S=0}else if(V==0&&t==1){break}else if(V==0&&t==2){S+=d[I++];
z+=d[I++]}else{var i=t;if(c.eW==4){for(O=0;O<t;O++){U[Y+O]=C(d[I+(O>>>1)],O)}i=Math.ceil(t/2)}else{for(O=0;
O<t;O++){U[Y+O]=d[I+O]}}if((i&1)!=0)i++;I+=i;S+=t}}return U}function l(d,I){var c=P.jF,Q=P.cA,x=P.IX,U={};
U.a0=c(d,I);I+=4;U.Y9=c(d,I);I+=4;U.ZM=x(d,I);I+=2;U.eW=x(d,I);I+=2;U.C4=Q(d,I);I+=4;U.size=Q(d,I);I+=4;
var S=c(d,I);I+=4;var z=c(d,I);I+=4;U.a8R=Q(d,I);I+=4;I+=4;return U}function k(d,I,c,Q){P.mu(d,I,c.a0);
I+=4;P.mu(d,I,c.Y9);I+=4;P.Vz(d,I,c.ZM);I+=2;P.Vz(d,I,c.eW);I+=2;P.mu(d,I,c.C4);I+=4;P.mu(d,I,c.size);
I+=4;P.mu(d,I,2834);I+=4;P.mu(d,I,2834);I+=4;P.mu(d,I,c.a8R);I+=4;I+=4}return{YH:r,x2:F,a11:$}}();dN.P_={};
dN.P_.x2=function(F,r,$,C){if(C==null)C=[100,!1,0,0,0,0];var M=[],l=[],k=r*$*4,V=null;for(var d=0;d<F.length;
d++){var I=new Uint8Array(F[d][0].slice(0));for(var O=0;O<k;O+=4){var c=I[O+3]=I[O+3]>127?255:0;if(c==0)I[O]=I[O+1]=I[O+2]=0}M.push(I.buffer);
l.push(F[d][1])}var Q=Math.round(2+254*C[0]/100),x=UPNG.encode.compress(M,r,$,Q,[!0,!1,!1,8,!1,C[1]]),U=x.plte,S=new Uint8Array(4),z=new Uint32Array(S.buffer);
for(var O=0;O<U.length;O++){z[0]=U[O];var t=S[0];S[0]=S[2];S[2]=t;U[O]=z[0];if(z[0]==0&&V==null)V=O}while(U.length<256)U.push(0);
var Y=new Uint8Array(2e4+Math.round(1.5*r*$*F.length)),i=C[3],J={palette:U};if(i!=1)J.loop=i==0?0:i-1;
var H=new GifWriter(Y,r,$,J);for(var O=0;O<F.length;O++){var v=x.frames[O],n=v.rect,G=v.blend,g=v.dispose,W=Math.round(l[O]/10);
if(W<2)W=2;H.addFrame(n.x,n.y,n.width,n.height,v.img,{transparent:V,disposal:g+1,delay:W})}return Y.slice(0,H.end()).buffer};
dN.P_.YH=function(F){var r=Date.now(),$=[],C=UGIF.decode(F),M=UGIF.toRGBA8(C),l=new cS(0,0,C.width,C.height);
for(var O=0;O<M.length;O++){var k=C.frames[O];$.push({$Y:l.P(),VI:"_a_frm"+O+","+k.delay*10,data:M[O]})}return $};
dN.Ff={};dN.Ff.x2=function(F,r,$,C){if(r>256||$>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var M=Math.min(r,256),l=Math.min($,256),k=new cS(0,0,M,l),d=j.j(k.C()*4),I=new cS(0,0,r,$),c=new Uint8Array(F[0][0]);
j.mR(c,I,d,k);F[0][0]=d.buffer;r=M;$=l}var Q=new Uint8Array(F[0][0]).slice(0),U=0;Q[3]=Math.min(Q[3],254);
var x=new eo,S=C&&C[0]==!0;P.JQ(x,U,0);U+=2;P.JQ(x,U,S?2:1);U+=2;P.JQ(x,U,1);U+=2;var z=new Uint8Array(UPNG.encode([Q.buffer],r,$,null,null,null,!0));
x.cq(U,16);x.data[U]=r==256?0:r;U++;x.data[U]=$==256?0:$;U++;U+=2;P.JQ(x,U,S?Math.round(r/2):1);U+=2;
P.JQ(x,U,S?Math.round($/2):32);U+=2;P.Lh(x,U,z.length);U+=4;P.Lh(x,U,6+16);U+=4;x.cq(U,z.length);x.data.set(z,U);
U+=z.length;return x.data.slice(0,U).buffer};dN.Ff.YH=function(F){F=new Uint8Array(F);var r=4,$=P.IX(F,r);
r+=2;var C=[];for(var O=0;O<$;O++){var M=dN.Ff.a3_(F,r+O*16),l=F.buffer.slice(M.offset,M.offset+M.size),k=dN.GN(l);
k=k?k:"bmp";if(k=="png"){var d=dN.LD(k),I=d.YH(l);M.uv=I[0]}else{var c=dN.LD("BMP").a11(l,0),l=j.j(M.a0*M.Y9*4);
j.mR(new Uint8Array(c.data),new cS(0,0,c.$Y.r,c.$Y.$),l,new cS(0,M.Y9,M.a0,M.Y9));c.data=l.buffer;c.$Y.$=M.Y9;
M.uv=c}C.push(M)}C.sort(function(Q,x){if(Q.a0!=x.a0)return Q.a0-x.a0;return Q.a1W-x.a1W});return[C.pop().uv]};
dN.Ff.a3_=function(F,r){var $={};$.a0=F[r];r++;if($.a0==0)$.a0=256;$.Y9=F[r];r++;if($.Y9==0)$.Y9=256;
$.aqr=F[r];r++;r++;$.aHZ=P.IX(F,r);r+=2;$.a1W=P.IX(F,r);r+=2;$.size=P.cA(F,r);r+=4;$.offset=P.cA(F,r);
r+=4;return $};dN.fK={};dN.fK.abD=function(F){var r,$="dng";if(F[0].t33421)r=F[0];else if(F[0].subIFD&&F[0].t271&&F[0].t271[0]=="Hasselblad"){$="fff";
r=F[0].subIFD[0];r.t33421=[2,2]}else if(F[0].subIFD&&F[0].subIFD[0].t33421){r=F[0].subIFD[0];if(r.t50706==null){if(r.t258[0]==8)r.t258[0]=12}$=r.t50713||r.t50717?"dng":"arw"}else if(F[0].subIFD&&F[0].subIFD[0]&&F[0].subIFD[0].t262&&F[0].subIFD[0].t262[0]==34892)r=F[0].subIFD[0];
else if(F[0].t50706)r=F[0];else if(F[0].subIFD&&F[0].subIFD[1]&&F[0].subIFD[1].t33421){$="nef";r=F[0].subIFD[1]}else if(F[0].subIFD&&F[0].subIFD[2]&&F[0].subIFD[2].t33421){$="nef";
r=F[0].subIFD[2]}else if(F[3]&&F[3].t50648){$="cr2";var C=F[0].exifIFD,M=C.makerNote;r=F[3];var l=M.t224[1],k=M.t224[2];
r.t256=[l];r.t257=[k];r.t258=[16];r.t259=[7];r.t262=[32803];r.t277=[1];r.t33421=[2,2];var d=r.t50656[0],I=j.raw.fW[d];
if(I==null)throw"e";r.t33422=I}else if(F[0].t1&&F[0].t1.length==4){$="rw2";var c=F[0],Q={2:256,3:257,8:277,11:259,271:271,272:272,279:279,280:273,278:278,273:273,278:278},x=c.t280==null;
r={};for(var U in Q)if(c["t"+U])r["t"+Q[U]]=c["t"+U];r.t2=c.t2;r.t3=c.t3;r.t10=c.t10;r.t45=c.t45;r.t258=[16];
r.t33421=[2,2];var S=c.t9[0];if(x)S=2;r.t33422=[[0,1,1,2],[1,0,2,1],[1,2,0,1],[2,1,1,0]][S-1];var z=c.t4[0],V=c.t5[0],t=c.t6[0],Y=c.t7[0];
r.t50829=[z,V,t,Y];var i=c.t36[0],J=c.t37[0],H=c.t38[0];r.t50728=[J/i,J/J,J/H]}else if(F[0].t258&&F[0].t258[0]>=12&&F[0].t271&&(F[0].t271[0].startsWith("OLYMPUS")||F[0].t271[0].startsWith("OM Digital Solutions"))){$="orf";
r=F[0];r.t33421=[2,2]}return[r,r?$:null]};dN.fK.YH=function(F){var r=Date.now();if(j.raw.On(F.byteLength))return[j.raw.al6(F)];
var $=UTIF.decode(F);console.log($.slice(0));var C=dN.fK.abD($),M=C[0];if(M){UTIF.decodeImage(F,M,$);
for(var l in $[0])if((l[0]=="t"||l[0]=="e"||l[0]=="d")&&M[l]==null)M[l]=$[0][l];M.lM=$[0].t274?$[0].t274[0]:1;
return[M]}var k=[];for(var O=0;O<$.length;O++){var d=$[O],I=null,V=72,n,G=8;UTIF.decodeImage(F,d,$);
if(d.width==null)continue;if(d.t258&&d.t258[0]==16&&d.t277&&d.t277[0]==1){var c=0,Q=0,x=0,U=d.data;for(var S=0;
S<U.length;S+=2){var z=U[S+1]<<8|U[S];if(z>c)c=z;Q+=z;x++}I=1/256*65535/(.5*c+.5*(2*Q/x))}var t=d.t282,Y=d.t296,i=hf.LL(d),J=d.t258,H=d.width,v=d.height;
if(t!=null&&Y!=null){V=t[0][0]/t[0][1];if(Y[0]==3)V=Math.round(V/2.54)}if(jV&&J[0]==16){n=dN.aAx(d.data.buffer,H,v);
G=16}else n=UTIF.toRGBA8(d,I).buffer;console.log(d);k.push({$Y:new cS(0,0,H,v),data:n,YV:V,wM:i,z$:d.t34675?d.t34675.slice(0):null,depth:G})}return k};
dN.fK.x2=function(F,r,$,C){if(C==null)C=[!1];var M={},l=F[0].slice(0);console.log(l);var k=new Uint8Array(l[0]);
if(!j.Q3(k)&&l[4]&&l[4][0]){k=k.slice(0);j.dr(l[4][0],k,3)}if(l[3]!=null&&C[0])M=hf.Yp(l[3]);if(l[2]!=null){M.t282=M.t283=[[Math.round(l[2]),1]];
M.t296=[2]}return UTIF.encodeImage(k.buffer,r,$,M)};dN.E5={};dN.E5.FK=!0;dN.E5.YH=function(F,r){var $=P.Ah(new Uint8Array(F),"Alpha 1"),C=UTIF.decode(F),M=C[0],S=0;
console.log(C);var l=r.r=M.t256[0],k=r.$=M.t257[0],d=l*k;r.buffer=j.j(d*4);r.Fd=!1;r.z_=M.t258[0];r.zX=3;
var I=M.t34377;if(I){var c=new Uint8Array(I.length+4);c.set(I,4);P.us(c,0,I.length);c8.aAD(r,c,0);c8.aEw(r)}var Q=M.t37724.slice(36),x=P.BW(Q,0,4)=="MIB8";
iE.DW(Q,0,Q.length,r.add,!1,r,x);var U=x?P.cA:P.dj;while(S<Q.length){var z=P.Ew(Q,S,x);S+=4;var V=P.Ew(Q,S,x);
S+=4;var t=U(Q,S);S+=4;if(V=="Layr"){go.Jv(r,Q,S,x);for(var O=0;O<r.u.length;O++){var Y=r.u[O];if(Y.add.vstk)Y.uH(r)}}S+=t;
if((t&3)!=0)S+=4-(t&3)}var i=M.t277[0],J=new Uint8Array(F,M.t273[0]);for(var O=3;O<i;O++){var H=j.j(d);
for(var v=0;v<d;v++)H[v]=J[v*i+O];var n=new Z.tp;r.Bs.push(n);n.name=r.fg?r.fg[O-3]:"Alpha";n.G=H;n.S=new cS(0,0,l,k)}};
dN.aF7={};dN.aF7.YH=function(F){F=new Uint8Array(F);var r=8,$,C=0;while(r<F.length){var M=P.BW(F,r,4),l=P.dj(F,r+4);
if(M.startsWith("ic")){var k=F.slice(r+8,r+l),d=dN.GN(k.buffer),I=dN.LD(d),c=I.YH(k.buffer),Q=c[0].$Y.C();
if(Q>C){C=Q;$=c}}r+=l}return $};dN.AV={};dN.AV.FK=!0;dN.AV.YH=function(F,r){go.CO(F,r)};dN.AV.aoq=function(F,r,$,C){if(C==null)C=[!1,!1,!1,!1,!1];
if(!C[0])F.Ez();var M=new eo,l=go.Gk(F,M,C);return[M.data.buffer,l]};dN.AV.x2=function(F,r,$,C){var M=dN.AV.aoq(F,r,$,C),l=M[0],k=M[1];
return l.byteLength==k?l:l.slice(0,k)};dN.bc={};dN.bc.FK=!0;dN.bc.YH=function(F,r){var $=pako.inflate(new Uint8Array(F)),C=P.G2($,0),M=P.G2($,2),l=4;
r.r=P.dj($,l);l+=4;r.$=P.dj($,l);l+=4;r.buffer=j.j(r.r*r.$*4);var k=P.G2($,l);l+=2;l+=4;for(var d=0;
d<k;d++){var I=r.at(),z=0,h=1,K=2,X=3,w=0;r.u.push(I);var c=P.dj($,l);l+=4;var Q=l,x=P.G2($,Q);Q+=2;
var U=P.qV($,Q,x);Q+=x;I.Da(U);var S=$[Q];Q++;if(S!=0&&S!=1)throw S;I.S.x=P.Dm($,Q);Q+=4;I.S.y=P.Dm($,Q);
Q+=4;I.S.r=P.dj($,Q);Q+=4;I.S.$=P.dj($,Q);Q+=4;if(C>3){z=P.Dm($,Q);Q+=4}I.gk=Math.round(255*$[Q]/100);
Q++;var V=$[Q];Q++;I.Gj(V!=0);I.ww="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[$[Q]];
Q++;var t=$[Q];Q++;if(t)I.add.lspf=1<<31;if(C>3){var Y=P.G2($,Q);Q+=2;if(Y!=0){var i=JSON.parse(P.qV($,Q,Y));
Q+=Y;var J=i.text,H=i.textSettings,v=H.font,n=H.size,G=H.padding,g=parseInt(H.color.slice(1),16);I.add.lnsr="rend";
I.add.TySh=ho.DB(0,0);I.add.TySh.xa=new cS(0,0,100,100);var W=I.add.TySh.U=new hS,L=I.S.r/2,b=I.S.$/2;
W.translate(-L,-b);W.rotate(-z*Math.PI/180);W.translate(L,b);W.translate(I.S.x+G,I.S.y+G);var T=I.add.TySh.$E;
ho.s2(T,1);ho.SB(T,[0,0,I.S.r-G*2,I.S.$]);ho.uy(T,0,J);var a=ho.RT(T,0,1);a.Uz.FontSize=n;a.Uz.FillColor={Type:1,Values:[1,(g>>>16&255)/255,(g>>>8&255)/255,(g>>>0&255)/255]};
if(H.bold)v+="-Bold";ho.jl(a,v);a.jv.Justification=["left","right","center"].indexOf(H.align);ho.WE(T,0,J.length,a)}}var R=P.dj($,Q);
Q+=4;if(R!=I.S.C()*4){for(var O=I.S.r;O>I.S.r/2;O--){var D=R/(O*4);if(D==Math.round(D)){I.S.r=O;I.S.$=D;
break}}}I.buffer=j.j(I.S.C()*4);if(C>3){h=0;K=1;X=2;w=3}for(var O=0;O<R;O+=4){I.buffer[O]=$[Q+O+h];I.buffer[O+1]=$[Q+O+K];
I.buffer[O+2]=$[Q+O+X];I.buffer[O+3]=$[Q+O+w]}Q+=R;var N=P.dj($,Q);Q+=4;if(N==0&&C>3){l+=c;continue}var s=$[Q];
Q++;var A=P.G2($,Q);Q+=2;if(N!=0){I.Lj=new Z.tp;I.Lj.S=I.S.P();I.Lj.G=j.j(I.S.C());for(var O=0;O<N;O+=4)I.Lj.G[O>>>2]=$[Q+O+1];
Q+=N}if(s!=0){var p=JSON.parse(cK.default);I.add.lmfx=p;for(var O=0;O<cK.order.length;O++)p[cK.Zb[O]]={t:"VlLs",v:[]};
var q={"102":9,"101":2,"103":0,"104":3,"105":8};for(var O=0;O<s;O++){var f=P.G2($,Q),e=Q+f+4,o=$.slice(Q,e),E=$[Q+2];
Q+=3;var cj=q[E+""],u=JSON.parse(cK.sH[cj]);p[cK.Zb[cj]].v.push({t:"Objc",v:u});if(cj!=0){u.Md.v.BlnM=dL.Yy("norm");
u.Opct.v.val=$[Q];Q++;if(cj==9||cj==2){u.Dstn.v.val=$[Q+1];Q+=2}else Q+=2;u.blur.v.val=Math.round($[Q]*1.2);
Q++;if(cj==9||cj==2){u.uglg.v=!1;u.lagl.v.val=180-P.G2($,Q);Q+=2}u.Clr.v=j.qS.NG({t:$[Q+1],L:$[Q+2],X:$[Q+3]})}else{u.hglM.v.BlnM=u.sdwM.v.BlnM=dL.Yy("norm");
Q+=2;var cd=$[Q++],m=$[Q++];u.blur.v.val=Math.round(Math.sqrt(m*cd)*1.3);u.srgR.v.val=Math.round(100*cd/m);
u.uglg.v=!1;u.lagl.v.val=180-P.G2($,Q);Q+=2;u.hglO.v.val=$[Q++];u.hglC.v=j.qS.NG({t:$[Q+1],L:$[Q+2],X:$[Q+3]});
Q+=4;u.sdwO.v.val=$[Q++];u.sdwC.v=j.qS.NG({t:$[Q+1],L:$[Q+2],X:$[Q+3]});Q+=4}Q=e}}if(Q-l<c){var aZ=P.dj($,Q),hd=0;
Q+=4;Q++;var x=P.G2($,Q);Q+=2;var J=P.qV($,Q,x);Q+=x;J=J.replace(/\r/g,"\n");var x=P.G2($,Q);Q+=2;var v=P.qV($,Q,x);
Q+=x;var n=P.G2($,Q);Q+=2;var jN=I.S.x,iA=I.S.r;if(aZ&4)hd=1;if(aZ&2)hd=2;var kx=Math.round(n*.4);if(hd==0||hd==2)iA+=kx;
if(hd==1||hd==2){iA+=kx;jN-=kx}I.add.lnsr="rend";I.add.TySh=ho.DB(0,0);I.add.TySh.xa=new cS(0,0,100,100);
I.add.TySh.U=new hS(1,0,0,1,jN,I.S.y+n*.25);var T=I.add.TySh.$E;ho.s2(T,1);ho.SB(T,[0,0,iA,I.S.$]);ho.uy(T,0,J);
var a=ho.RT(T,0,1);a.Uz.FontSize=n;a.Uz.FillColor={Type:1,Values:[1,$[Q+1]/255,$[Q+2]/255,$[Q+3]/255]};
Q+=4;if($[Q+5])v+="-Bold";if($[Q+6])v+="-Italic";ho.jl(a,v);a.jv.Justification=hd;Q+=8;ho.WE(T,0,J.length,a)}l+=c}};
dN.f3={};dN.f3.FK=!0;dN.f3.YH=function(F,r){var $=UZIP.parse(F),C=JSON.parse(P.qV($["manifest.json"].buffer));
r.r=C.width;r.$=C.height;r.buffer=j.j(r.r*r.$*4);r.name=C.name+".psd";var M=C.stack;for(var l=0;l<M.length;
l++){var k=M[l],d=k.type,I=k.rect,c=k.format,Q=r.at();Q.Da(k.name);Q.Gj(k.visible);Q.gk=Math.round(255*k.opacity);
var x=Q.S=new cS(I.x,I.y,I.w,I.h),U=I.r;if(U==null)U=0;r.u.push(Q);if(d=="image"&&U!=0||d=="shape"&&c.variant=="svg"){var S=r.eM($[k.content],Q.getName(),0,0);
S.U4=Q.U4;S.gk=Q.gk;Q=S;r.u.pop();r.u.push(Q);var z=j.b.Vs(x).n;j.b.U(z,dN.f3.ki(x,U),z);Q.add.SoLd.Trnf=B.hL._V(z);
Q.add.SoLd.nonAffineTransform=B.hL._V(z);Q.d7(r,!1)}else if(d=="image"){if(x.C()!=0){var V=$[k.content].buffer,t=dN.GN(V),Y=dN.LD(t),i=Y.YH(V)[0];
x.r=i.$Y.r;x.$=i.$Y.$;Q.buffer=new Uint8Array(i.data)}}else if(d=="shape"){Q.U4|=16;var J=Q.add.vstk=cK.Ok.Mv(!0),H=Q.add.vmsk=new Z.kf,v;
Q.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:0,L:0,X:0})}};var n=c.variant,G=c.fill;if(n=="rectangle"||n=="rounded"){v=j.w.tQ.Rect(x.x,x.y,x.r,x.$,c.radii)}else if(n=="ellipse"){v=j.w.tQ.jI(x.x,x.y,x.r,x.$)}else if(n=="path"){var g=Typr.U.SVGToPath(k.content),W={C0:g.cmds,n:g.crds};
v=j.b.RJ(W);var L=j.w.t8(v);j.w.J_(v,new hS(x.r/L.r,0,0,x.$/L.$,x.x,x.y))}else if(n=="line"){var W={C0:["M","L"],n:[x.x,x.y,x.x+x.r,x.y]};
v=j.b.RJ(W)}else console.log(c);Q.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:0,L:0,X:0})}};
if(G==null){J.fillEnabled.v=!1}else if(G.type=="color"){Q.add.SoCo.Clr.v=j.qS.NG(CSS.Eq(G.value))}else if(G.type=="gradient"){delete Q.add.SoCo;
var b=Q.add.GdFl=JSON.parse(cK.sH[cK.order.indexOf("GrFl")]),T=b.Grad.v;T.Intr.v=0;var a=[],R=G.value.stops;
for(var O=0;O<R.length;O++){var D=R[O],h=CSS.Eq(D.color);a.push([D.position,[h.t/255,h.L/255,h.X/255]])}j.qS.p3(a,T);
b.Angl.v.val=-(G.value.direction+U)+90+180}else console.log(G);var K=dN.f3.ki(x,U);j.w.J_(v,K);var X=k.style;
if(X&&X.outline){var w=X.outline;J.strokeEnabled.v=!0;J.strokeStyleLineWidth.v.val=w.size;J.strokeStyleContent.v.Clr.v=j.qS.NG(CSS.Eq(w.color))}H.M=v;
Q.ud();Q.uH(r)}else if(d=="text"){Q.add.lnsr="rend";Q.add.TySh=ho.DB(0,0);Q.add.TySh.xa=new cS(0,0,100,100);
var s=Q.add.TySh.$E;ho.s2(s,1);ho.SB(s,[0,0,x.r,x.$]);var A=k.content;ho.uy(s,0,A);var p=ho.RT(s,0,Math.min(A.length,1));
ho.jl(p,c.font.name);var q=p.Uz.FontSize=Math.round(c.size);if(c.fill&&c.fill.value){var f=CSS.Eq(c.fill.value);
p.Uz.FillColor={Type:1,Values:[1,f.t/255,f.L/255,f.X/255]}}var e=c.linespace;if(e){p.Uz.AutoLeading=!1;
p.Uz.Leading=Math.round(q*(1.06+parseFloat(e)));console.log(e,p.Uz)}p.Uz.FauxBold=c.bold;p.jv.Justification=["left","right","center","justify"].indexOf(c.align);
ho.WE(s,0,A.length,p);Q.add.TySh.U=new hS(1,0,0,1,x.x+Math.round(q*.1),x.y+Math.round(q*.1));Q.S=new cS}else console.log(k)}r.Zp=!0};
dN.f3.ki=function(F,r){var $=F.x+F.r/2,C=F.y+F.$/2,M=new hS;M.translate(-$,-C);M.rotate(-r*Math.PI/180);
M.translate($,C);return M};dN.lC={};dN.lC.FK=!0;dN.lC.YH=function(F,r){eI.CO(F,r)};var eI=function(){function F(x,U){var S=Date.now(),z=UZIP.parse(x),V=z["maindoc.xml"],t=new DOMParser,Y=t.parseFromString(P.qV(V),"image/svg+xml").children[0].children[0],i=Y.getAttribute("name"),J=U.r=c(Y,"width"),H=U.$=c(Y,"height");
U.YV=Math.round(c(Y,"x-res"));var v=Y.children[0].children;r(v,U,{pe:i,li:z,x$:null});console.log(Date.now()-S);
S=Date.now()}function r(x,U,S){for(var z=0;z<x.length;z++){var V=x[x.length-1-z],t=V.getAttribute("nodetype");
if(t=="transparencymask"){S.x$.Lj=Q(V,S);continue}var Y=V.getAttribute("compositeop"),i=V.getAttribute("filename"),J=V.getAttribute("channelflags"),H=V.children;
H=H.length==0?null:H[0].children;var v=U.at();if(t=="paintlayer"){var n=c(V,"x"),G=c(V,"y"),g=S.li[S.pe+"/layers/"+i+".defaultpixel"],W=S.li[S.pe+"/layers/"+i],L=I(W);
v.S=L[0];v.S.offset(n,G);v.buffer=L[1];if(v.S.XS()&&g.join()!="0,0,0,0"){v.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:g[0],L:g[1],X:g[2]})}};
v.uH(U)}}else if(t=="grouplayer"){v.add.lsct=jR.ul;v.ww="pass";v.U4|=24;U.u.push(U.fm());var b=S.x$;
S.x$=v;r(H,U,S);S.x$=b}else if(t=="shapelayer"){var W=S.li[S.pe+"/layers/"+i+".shapelayer/content.svg"],T=P.qV(W),a=U.eM(W,v.getName(),0,0);
v=a;var R=new cS(0,0,U.r,U.$),D=j.b.Vs(R).n;v.add.SoLd.Trnf=B.hL._V(D);v.add.SoLd.nonAffineTransform=B.hL._V(D);
v.d7(U,!1)}else if(t=="clonelayer"){var O=-1;for(var h=0;h<x.length;h++)if(x[h].getAttribute("name")==V.getAttribute("clonefrom"))O=h;
if(O!=-1){r([x[O]],U,S);v=U.u.pop()}}else console.log(t,V);v.Da(V.getAttribute("name"));if(c(V,"locked")==1)v.add.lspf=1<<31;
v.Gj(c(V,"visible")==1);var K={normal:"norm",multiply:"mul ",diff:"diff",hard_light:"hLit"}[Y];if(K)v.ww=K;
else console.log(Y);v.gk=c(V,"opacity");if(J=="1110")v.p9=!0;var X=H?H[0]:null;if(X&&X.tagName=="mask")v.Lj=Q(X,S);
U.u.push(v)}}function $(x,U){var S=0,z=0,V=x.length,t,Y,i;while(S<V){t=x[S++];if(t>31){Y=t>>>5;if(Y==7)Y=7+x[S++];
i=(t&31)<<8|x[S++];var J=z-i-1,H=Y>>>1;U[z++]=U[J++];U[z++]=U[J++];for(var O=0;O<H;O++){U[z++]=U[J++];
U[z++]=U[J++]}if((Y&1)==1)U[z++]=U[J++]}else{for(var O=0;O<=t;O++){U[z++]=x[S++]}}}}function C(x,U){var S=0;
while(x[U+S]!=10)S++;return P.BW(x,U,S)}var M=new cS(0,0,64,64),l=new Uint8Array(64*64*4),k=new Uint8Array(64*64*4);
function d(){for(var O=0;O<4096;O++){var x=O<<2;l[x+0]=k[O+8192];l[x+1]=k[O+4096];l[x+2]=k[O];l[x+3]=k[O+12288]}}function I(x){var U=0,S={};
for(var O=0;O<5;O++){var z=C(x,U);U+=z.length+1;z=z.split(" ");S[z[0]]=parseInt(z[1])}var V=S.PIXELSIZE,t=[],Y=new cS;
while(U<x.length){var z=C(x,U),i=z.split(",");U+=z.length+1;if(i[2]!="LZF")throw i[2];M.x=parseInt(i[0]);
M.y=parseInt(i[1]);Y=Y.DM(M);var J=parseInt(i[3]);t.push([M.P(),new Uint8Array(x.buffer,U+1,J-1)]);U+=J}var H=j.j(Y.C()*V);
for(var O=0;O<t.length;O++){var v=t[O];$(v[1],k);if(V==4){d();j.mR(l,v[0],H,Y)}else j.wU(k,v[0],H,Y)}return[Y,H]}function c(x,U){return parseInt(x.getAttribute(U))}function Q(x,U){var S=x.getAttribute("filename"),z=U.li[U.pe+"/layers/"+S+".pixelselection"],V=I(z),t=new Z.tp;
t.OW=c(x,"visible")==1;t.S=V[0];t.G=V[1];return t}return{CO:F}}();dN.oy={};dN.oy.FK=!0;dN.oy.YH=function(F,r){aQ.CO(F,r)};
dN.WI={};dN.WI.YH=function(F){var r=new Uint8Array(F),$=dN.WI.Jb(r,0,0),C=$.sub[2],M=dN.WI.a9X(r,C),l=$.sub[3],k=dN.WI.a9X(r,l);
return[M,k]};dN.WI.a9X=function(F,r){var $=r.sub[r.sub.length-1],C=$.sub[0].p,M=$.sub[1].p,l=F.slice(C,C+16),k=F.slice(M,M+$.sub[1].size),d=P.cA,I=F[C],c=d(F,C+1),Q=d(F,C+5),x=F[C+13],U=new cS(0,0,c,Q),S=j.j(c*Q*4);
if(x){j.A9(S,4278190080)}else{UTEX.readBC1(F,M,S,c,Q)}return{$Y:U,data:S}};dN.WI.Jb=function(F,r,$){var C=P.BW,M=P.cA,l=C(F,r,4);
l=l.split("").reverse().join("");var k=M(F,r+4);if(k!=0){console.log(F.slice(r-8));throw k}var d=M(F,r+8);
while((d&3)!=0)d++;var I={ar:l,p:r+12,size:d};if(l=="CARF"||l=="CTEX"||l=="CREW"||l=="BMAP"){I.sub=[];
r+=12;if(l=="CTEX"||l=="CREW")r+=32;var c=I.p+I.size;while(r<c){var Q=dN.WI.Jb(F,r,$+1);I.sub.push(Q);
r+=12+Q.size+(Q.size&1)}}return I};dN.Oo={};dN.Oo.FK=!0;dN.Oo.YH=function(F,r){dM.CO(F,r)};dN.hQ={};
dN.hQ.FK=!0;dN.hQ.YH=function(F,r){gQ.CO(F,r)};dN.l5={};dN.l5.FK=!0;dN.l5.YH=function(F,r){i$.CO(F,r)};
dN.b0={};dN.b0.FK=!0;dN.b0.YH=function(F,r){kN.CO(F,r)};dN.uO={};dN.uO.FK=!0;dN.uO.YH=function(F,r){kh.CO(F,r)};
dN.wu={};dN.wu.FK=!0;dN.wu.x2=function(F,r,$,C,M,l){if(C==null)C=[!0,!1,!1,!1,!0];var k=cf.Ns(F,{lA:C[0],hidden:C[1],amM:C[2],aD5:C[3],sE:C[4],a8V:r,ao3:$},M.v7,l);
return k};dN.wu.YH=function(F,r,$){cf.CO(F,r,$)};dN.vW={};dN.vW.FK=!0;dN.vW.YH=function(F,r){var $=150,C=new hS(1,0,0,-1,0,0);
C.scale($/72,$/72);r.YV=$;var M=new gA(r,C,!0);FromPS.Parse(F,M)};dN.Wa={};dN.Wa.FK=!0;dN.Wa.x2=function(F,r,$,C,M){if(C==null)C=["",100,!1,!1,!1,0,!1];
C[7]=["jpg"];var l=new ToPDF;fv.Ns(F,C,l,M.v7,r,$);return l.buffer};dN.Wa.YH=function(F,r,$){var C=2;
while(!0){var M=C*72,l=new hS(1,0,0,-1,0,0);l.scale(M/72,M/72);r.YV=M;var k=new gA(r,l,!0);FromPDF.Parse(F,k);
var d=Math.max(r.r,r.$);if($&&d<Math.max($[0],$[1])){r.u=[];var I=C;while(d*(C/I)<Math.max($[0],$[1]))C++}else break}};
dN.tz={};dN.tz.FK=!0;dN.tz.YH=function(F,r){var $=72,C=new hS(1,0,0,1,0,0);C.scale($/72,$/72);r.YV=$;
var M=new gA(r,C,!1);FromWMF.Parse(F,M)};dN.YD={};dN.YD.RA=!0;dN.YD.FK=!0;dN.YD.x2=function(F,r,$,C,M){if(C==null)C=["",100,!1,!1,!1,0,!1];
C[7]=[];var l=new ToEMF;fv.Ns(F,C,l,M.v7);return l.buffer};dN.YD.YH=function(F,r){var $=72,C=new hS(1,0,0,1,0,0);
C.scale($/72,$/72);r.YV=$;var M=new gA(r,C,!1);FromEMF.Parse(F,M)};dN.dS={};dN.dS.FK=!0;dN.dS.YH=function(F,r){return du.CO(F,r)};
dN.ao7={};dN.ao7.YH=function(){var F,r,$,C,M,l,k=0,d=0,I=0,c=0,Q=0,i="eJzt0lGR6kAUBNBIQEIkICESWgISkICESLgSIgEJkbAS2sG+s7AO+HkfO1RXQZPcOanJsnx/L5/k489n2/+tv/W3PlwXWeUqm0RucpeH7DJyyFNO+ZL+NwOuv9fvv//3PW7Vr/pVv+rXvsdv+k2/6Tf91vftN/3Nl5v+pr/1PXLX7/rdj12/90059If+0B/6o2/aqT/1p/7Un31Tq6+++urb15OGPwCxWfjj4vCHP/zhD3/4wx/+8Ic//OGPseEPf/jDH/7YKvzhD3/4wx/+8Ic//OEPf/jDH/7whz/84Q9/+MMf/vDP62SucpNdnqLnH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7hH/7XsfCXv/zl/2nLX/7yl7/85S9/+ctf/vKX/3Ws/OUvf/nL/zpq/vKXv/zlL3/5y1/+8pe//OUvf/nLX/7+vEL8tVENLX+Vl8tlWdd1uV6vy7ZtS+JNYrjf78vj8fDKetaZ5TiO5fl8Lud5Ll9fX/8ACveX4A==",J=null;
function x(H){var v=k_.CO(H),n=v.zd,T=0,a,R;console.log(v);var G=new Uint8Array(H);if(n=="ILBM")return U(v,G);
if(n=="CIMG")return V(v,G);if(n=="ANIM"&&v.sub[0].ar=="ADAT")return Y(v,G);if(n!="ANIM")throw n;var g=P.G2,W=P.dj,L=v.sub,b=U(L[0],G);
for(var D=1;D<L.length-2;D++){var h=b[Math.max(0,D-2)].aEA.slice(0),K=L[D];for(var X=0;X<K.sub.length;
X++){var w=K.sub[X],s=w.p;if(w.ar=="ANHD"){var A=G[s++];if(A!=5)throw A;var C=G[s++],p=g(G,s),q=g(G,s+2);
if(p!=0&&p!=F)throw p;if(q!=0&&q!=r)throw q;var f=g(G,s+4),e=g(G,s+6);if(f!=0||e!=0)throw f;s+=8;var o=g(G,s);
s+=2;a=g(G,s);s+=2;if(G[s++]!=0)throw"e";if(G[s++]!=0)throw"e";R=g(G,s);s+=2}else if(w.ar=="DLTA"){var E=[],cj=s;
for(var O=0;O<16;O++)E.push(W(G,s+O*4));s+=64;var u=l;for(var m=0;m<M;m++){if(E[m]==0)continue;s=cj+E[m];
for(var aZ=0;aZ<u;aZ++){var hd=G[s++],kx=0;if(hd==0)continue;for(var O=0;O<hd;O++){var b0=G[s++];if(b0==0){var gX=G[s++],j$=G[s++];
for(var i0=0;i0<gX;i0++){h[(kx*M+m)*u+aZ]=j$;kx++}}else if(b0<128){kx+=b0}else{b0-=128;for(var i0=0;
i0<b0;i0++){h[(kx*M+m)*u+aZ]=G[s+i0];kx++}s+=b0}}}}}else console.log(w.ar)}if(D==1&&a>100)a=0;var f7=a==0?17:Math.round((a-T)*1e3/60);
b.push({data:z(G,h).buffer,$Y:new cS(0,0,F,r),aEA:h,VI:"_a_frm"+D+","+f7});T=a}if(I!=0&&F>r*2){var am=new Uint32Array(F*r*2);
am.fill(4294967295);for(var D=0;D<b.length;D++){var gf=b[D],cC=new Uint32Array(gf.data);for(var kx=0;
kx<r;kx++){var aD=kx*2;for(var aZ=0;aZ<F;aZ++)am[aD*F+aZ]=cC[kx*F+aZ];aD++;for(var aZ=0;aZ<F;aZ++)am[aD*F+aZ]=cC[kx*F+aZ]}gf.$Y.$*=2;
gf.data=am.slice(0).buffer}}return b}function U(H,v){var n,G,g;k=0;d=0;c=0;Q=0;I=0;for(var W=0;W<H.sub.length;
W++){var L=H.sub[W],b=L.p;if(L.ar=="BMHD"){var T=[];for(var O=0;O<4;O++)T[O]=P.G2(v,b+2*O);b+=8;var a=T[2],R=T[3];
F=T[0];r=T[1];$=v[b++];C=v[b++];g=v[b++];if(g!=0&&g!=1)throw g;l=F+15>>>4<<1;M=$+C}else if(L.ar=="CMAP")k=b;
else if(L.ar=="CAMG"){var D=P.dj(v,b);d=D&32768,I=D&4,c=D&2048;Q=D&128}else if(L.ar=="BODY"){G=j.j(l*r*M);
if(g==0)G=v.slice(b,b+G.length);if(g==1)dZ.o6(v,b,L.size,G,0,G.length)}else if(L.ar=="PLTP"){console.log(v.slice(b,b+L.size))}}n=z(v,G);
return[{$Y:new cS(0,0,F,r),data:n.buffer,aEA:G}]}function S(H,bU){return H[bU>>>3]>>>7-(bU&7)&1}function z(H,v){var n=$-2,G=(1<<n)-1,g=Math.round(255/G),W,L,b,T=l*8;
if(k!=0){var a=1<<$,R=!0;for(var O=1;O<a;O++){var D=k+O*3;if(H[D]!=H[D-3]||H[D+1]!=H[D-2]||H[D+2]!=H[D-1]&&H[D+2]!=H[D-1]+1)R=!1}if(R){for(var O=0;
O<a;O++){var D=k+O*3,h=Math.round(O*255/(a-1));H[D]=H[D+1]=H[D+2]=h}}}var K=j.j(F*r*4);for(var X=0;X<r;
X++)for(var w=0;w<F;w++){var N=0;for(var s=0;s<M;s++){var A=(X*M+s)*T+w,p=S(v,A);N|=p<<s}N=N&(1<<$)-1;
var O=X*F+w,q=O<<2;if(k!=0){if(c!=0&&N>>>n!=0){var f=N>>>n,e=(N&G)*g;if(f==1)b=e;else if(f==2)W=e;else if(f==3)L=e}else{var e=k+N*3;
W=H[e+0];L=H[e+1];b=H[e+2]}}else{if($==24){W=N>>>0&255;L=N>>>8&255;b=N>>>16&255}else if($==16){var o=0,E=1,u=4;
for(var s=0;s<16;s++)o+=(N>>>s&1)<<15-s;var cj=(1<<E)-1,cd=(1<<u)-1;W=(o>>>7&cj)*(255/cj);L=b=W}else throw $}K[q+0]=W;
K[q+1]=L;K[q+2]=b;K[q+3]=255}return K}function V(H,v){var n=1,G=2,g=4,W=P.dj,L=P.G2,F=200,r=200,b,T,a,R;
for(var D=0;D<H.sub.length;D++){var h=H.sub[D],K=h.p;if(h.ar=="TBHD"){F=W(v,K);K+=4;r=W(v,K);K+=4;R=j.j(F*r*4);
a=new cS(0,0,F,r);K+=4;var X=W(v,K);K+=4;var w=L(v,K);K+=2;if(w!=0)throw"e";T=L(v,K);K+=2;var N=W(v,K);
K+=4;if(N!=1)throw N;b=0;if(X&n)b+=3;if(X&G)b+=1}if(h.zd=="TBMP"){var s=h.sub;for(var A=0;A<s.length;
A++){var p=s[A].p,q=s[A].size,f=L(v,p),e=L(v,p+2),o=L(v,p+4)-f+1,E=L(v,p+6)-e+1;p+=8;var cj=j.j(o*E*4),u=j.j(o*E);
cj.fill(255);for(var O=0;O<4;O++){p=t(v,p,q-8,u,0);j.dr(u,cj,3-O)}if(p!=s[A].p+q)throw"e";j.mR(cj,new cS(f,e,o,E),R,a)}}}return[{$Y:a,data:R.buffer}]}function t(H,v,n,G,g){var W=v;
while(g<G.length){var L=H[v++],bn=(L&127)+1;if(L&128){L=H[v++];for(var O=0;O<bn;++O)G[g++]=L}else{for(var O=0;
O<bn;++O)G[g++]=H[v++]}}return v}function Y(H,v){if(J==null){var n=dN.mj(i);J=new Uint32Array(pako.inflate(new Uint8Array(n)).buffer)}var G=P.dj,g=P.G2,W=H.sub[0],L=H.sub[1],F=g(v,W.p),r=g(v,W.p+2),b=g(v,W.p+4),h,O,K,X,w,N;
if(b!=3)throw b;var T=new cS(0,0,F,r),a=j.j(F*r*4),R=j.j(F*r);a.fill(255);var D=new Uint32Array(a.buffer),s=L.p;
for(X=0;X<2;X++){N=X;w=0;h=Math.floor((F*r+2-X-1)/2);while(h>0){O=v[s++];if(O&128){O=257-O;h-=O;K=v[s++];
w=w&J[K]|J[K+256];do{D[N]=w;N+=2}while(--O)}else{O++;h-=O;do{K=v[s++];D[N]=w=w&J[K]|J[K+256];N+=2}while(--O)}}}for(var O=0;
O<a.length;O+=4){var A=a[O+3],p=a[O+2],q=a[O+1];a[O]=A;a[O+1]=p;a[O+2]=q;a[O+3]=255}for(var f=0;f<r>>>1;
f++){for(var e=0;e<F;e++){var O=f*F+e,K=(r-1-f)*F+e,o=D[O];D[O]=D[K];D[K]=o}}return[{$Y:T,data:a.buffer}]}return x}();
dN.kn={};dN.kn.FK=!1;dN.kn.x2=function(F,r,$,C){var M=F[0][4],l=new Uint8Array(F[0][0]),k=2;if(M==null&&j.Q3(l)){M=[new Uint8Array(l.length>>>2)];
j.Eg(l,M[0],3)}var d=M?!0:!1,I=d?4:3,c=new Uint8Array(r*$*I);for(var Q=0;Q<$;Q++)for(var x=0;x<r;x++){var U=Q*r+x<<2,S=(($-Q-1)*r+x)*I;
c[S]=l[U+2];c[S+1]=l[U+1];c[S+2]=l[U+0];if(d)c[S+3]=M[0][Q*r+x]}if(!0){var z=c.length,V=0,t=new Uint8Array(z*2),Y=0,i=0,J=r*I;
while(i<z){var H=i,v=0,n=J*(Math.floor(i/J)+1);while(H<n&&v<128){var G=!0;for(var O=0;O<I;O++)G=G&c[i+O]==c[H+O];
if(!G)break;H+=I;v++}if(v==1){var g=1;while(g<128&&i+(g+1)*I<n){var G=!0,W=i+g*I;for(var O=0;O<I;O++)G=G&c[W+O]==c[W+I+O];
if(G)break;g++}t[Y++]=g-1;for(var L=0;L<g;L++)for(var O=0;O<I;O++)t[Y++]=c[i++]}else{t[Y++]=127+v;for(var O=0;
O<I;O++)t[Y+O]=c[i+O];Y+=I;i+=I*v;V+=v}}c=t.slice(0,Y);k+=8}var b=new Uint8Array(18+c.length+26);b[2]=k;
P.Vz(b,12,r);P.Vz(b,14,$);b[16]=I*8;b[17]=I==4?8:0;b.set(c,18);P.o9(b,18+c.length+8,"TRUEVISION-XFILE.");
return b.buffer};dN.kn.YH=function(F){var r=new Uint8Array(F),$=0,C=r[0],M=r[1],l=r[2],k=r[4]*256+r[3],d=r[6]*256+r[5],I=r[7],c=r[9]*256+r[8],Q=r[11]*256+r[10],x=r[13]*256+r[12],U=r[15]*256+r[14],S=r[16],z=r[17],V=z>>>4,t=P.BW(r,18,C),Y=j.j(x*U*4),$=18+C+(d*I>>>3),i=new Uint8Array(r.buffer,$);
if(l>3){var J=0,H=r,v=new Uint8Array(x*U*S>>>3),n=$,G=0,g=r.length,W=S>>>3;while(G<v.length){var bU=H[n];
n++;if(bU<128)for(var O=0;O<bU+1;O++){for(var L=0;L<W;L++){v[G]=H[n];G++;n++}}else{for(var O=0;O<bU-127;
O++){for(var L=0;L<W;L++){v[G]=H[n+L];G++}}n+=W}}l-=8;i=v;$=n}else $+=x*U*S>>>3;var b=new Uint8Array(4),T=dN.kn.akQ;
for(var a=0;a<U;a++)for(var R=0;R<x;R++){var D=(V&2)==0?(U-a-1)*x+R:a*x+R,h=a*x+R,K,X,w,N=255,s=D*S>>>3;
if(l==1){var A=0;if(S==8)A=i[s];else throw"e";T(r,18+C+k+(A*I>>>3),I,b);K=b[0];X=b[1];w=b[2];N=b[3]}else if(l==2){T(i,s,S,b);
K=b[0];X=b[1];w=b[2];N=b[3]}else if(l==3){if(S==8)K=X=w=i[s];else throw"e"}var p=h*4;Y[p]=K;Y[p+1]=X;
Y[p+2]=w;Y[p+3]=N}var b={$Y:new cS(0,0,x,U),data:Y.buffer,VI:t};if(j.Q3(Y)){var q=j.j(x*U);j.Eg(Y,q,3);
j.SP(Y,1);b.Bs=[q]}return[b]};dN.kn.akQ=function(F,r,$,C){var M,l,k,d=255;if($==24||$==32){k=F[r];l=F[r+1];
M=F[r+2];if($==32)d=F[r+3]}else if($==16){var I=F[r+1]<<8|F[r+0];M=I>>>10&31;l=I>>>5&31;k=I>>>0&31;M=Math.round(M*(255/31));
l=Math.round(l*(255/31));k=Math.round(k*(255/31))}else throw"e";C[0]=M;C[1]=l;C[2]=k;C[3]=d};dN.aog=function(){var F,r=[],$=!1;
function C(k,d,I,c){F=I;r.push(k,c);M()}function M(){if($||r.length==0)return;$=!0;dN.a97(r.shift(),"image/avif",l)}function l(k){F(null,[k],r.shift());
$=!1;M()}return{FK:!1,mQ:!0,YH:C}}();dN.t$=function(){var F=[],r=!1,$,C=null,M=50,l=10,x;function k(z,V,t,Y){F.push([0,z,Y,t]);
Q()}async function d(z,V,t,Y){M=Y[0];l=Y[1]?5:10;return new Promise(function(i){F.push([1,z,V,t,i]);
Q()})}function I(z){var V=F.shift();V[3](null,[z],V[2]);r=!1;Q()}function c(){C=y.i("iframe");C.setAttribute("src","code/ext_formats/formatsLoader.html");
y.B(C,"display:none");window.addEventListener("message",S,!1);document.body.appendChild(C)}function Q(){if(r||F.length==0)return;
r=!0;var z=F[0];if(z[0]==0&&dN.GN(z[1])=="avif"){dN.a97(z[1],"image/avif",I)}else if(C==null)c();else U()}async function U(){var z=F[0],V;
if(z[0]==0){var t=z[1],Y=new Uint8Array(t),i=new Blob([t]);V={subject:"open",body:i};var J=P.Ah(Y,"Exif\0\0MM");
$=null;if(J!=-1){var H=UTIF.decode(t.slice(J+6));$=hf.LL(H[0])}}else{var v={fmt:"avif",speed:l,quality:M,nochroma:0,lossless:0},n=new ImageData(new Uint8ClampedArray(z[1][0][0]),z[2],z[3]);
V={subject:"save",body:n,prms:v}}x=Date.now();C.contentWindow.postMessage(V)}function S(z){var V=z.data,t=V.subject,Y=V.body;
console.log(V);if(t=="rdy"){r=!1;Q()}else if(t=="img"){I({$Y:new cS(0,0,Y.width,Y.height),data:Y.data.buffer,wM:$})}else if(t=="file"){console.log(Date.now()-x);
F[0][4](Y.buffer);r=!1;F.shift();Q()}else console.log(V)}return{FK:!1,mQ:!0,YH:k,x2:d}}();dN.ady=function(){var F,r=[],$=10,d,I,c,Q=0,x,U,S;
function C(J){var H=dN.GN(J);if(H=="mp4")return new ds(new Blob([J]));else return new fi(new Blob([J]))}async function M(J,H,v,n,G){F=v;
r.push(J,n);var g=C(J),W=(await g.KK()).rY;console.log(W);var x=W.width,U=W.height,L=W.w4,b=L/W.jH,T=L/b,a=x+" \xD7 "+U+" px, "+L+" frames, "+iv.$A(x*U*4*L)+" decoded<br/>";
a+=b.toFixed(2)+" seconds, "+T.toFixed(2)+" FPS";var R=new k6(_.E.c,!0);R.data={R:_.m.Oe,rS:"setFPS",Ir:$,Oa:l,a77:a};
G.a(R)}function l(J){$=Math.max(1,Math.min(60,J));var H=window.VideoDecoder;if(H)k();else z()}async function k(){var J=Date.now(),H=r.shift(),S=[],v=C(H),n=(await v.KK()).rY,x=n.width,U=n.height,G=n.w4,g=G/n.jH,W=G/g,L=Math.min(W,$),b=Math.max(1,Math.round(W/L));
for(var O=0;O<G;O++){if(O%b!=0)continue;var T=await v.fx(0,O);S.push({VI:"_a_"+S.length+","+Math.round(1e3/L),$Y:new cS(0,0,x,U),data:T.buffer})}F(null,S,r.shift());
if(r.length!=0)k()}function z(){if(r.length==0)return;d=document.createElement("canvas");I=d.getContext("2d");
c=document.createElement("video");var J="data:"+"video/mp4"+";base64,"+dN.Ml(r.shift());c.src=J;c.muted=!0;
c.currentTime=0;c.addEventListener("canplay",V,!1);c.addEventListener("timeupdate",t,!1)}function V(J){c.removeEventListener("canplay",V);
x=d.width=c.videoWidth;U=d.height=c.videoHeight;S=[];c.play()}function t(J){clearTimeout(Q);I.drawImage(c,0,0);
S.push({VI:"_a_"+S.length+","+Math.round(1e3/$),$Y:new cS(0,0,x,U),data:I.getImageData(0,0,x,U).data.buffer});
var H=c.currentTime+1/$;if(H<c.duration&&J){c.currentTime=H;Q=setTimeout(t,1e3)}else{F(null,S,r.shift());
c.removeEventListener("timeupdate",t);z();S=null}}function Y(){this.bM=new Uint8Array(1024);this.p=0}Y.prototype.write=function(J){var H=this.bM,v=this.p;
if(J instanceof ArrayBuffer)J=new Uint8Array(J);if(J instanceof Uint8Array){while(H.length<v+J.length){var n=new Uint8Array(H.length*2);
n.set(H);H=n}H.set(J,v);v+=J.length}else if(J.I=="write"){H.set(J.data,J.position)}else{console.log(J);
throw"e"}this.bM=H;this.p=v};Y.prototype.close=function(){this.bM=this.bM.slice(0,this.p)};async function i(J,x,U,H){var v=x,n=U;
if((x&1)!=0)x++;if((U&1)!=0)U++;var G=x!=v||U!=n,g=G?j.j(x*U*4):null,W={rY:{NW:1,w4:J.length,jH:1e3/J[0][1],width:x,height:U}},L=new Y,b=.02*(1+Math.pow(3.2*H[0]/100,2.3)),T=new cy(L,W,b);
for(var O=0;O<J.length;O++){var a=J[O],R=new Uint8Array(a[0]),D=R;if(G){j.mR(R,new cS(0,0,v,n),g,new cS(0,0,x,U));
D=g}await T.a3E(D,0,O)}await T.finish();return L.bM.buffer}return{FK:!1,mQ:!0,YH:M,x2:i}}();dN.nj={};
dN.nj.YH=function(F){var r=new Uint8Array(F),$=0,C=112,M=42,l=P.cA,Q;$+=8;var k=r[$];$++;if(k!=M)throw"e";
var d=l(r,$);$+=4;var I=P.Fz(r,$,d);$+=d*2;var c=[];while($<r.length){Q=l(r,$);$+=4;if(Q!=C)throw Q;
$+=4;Q=r[$];$++;if(Q!=M)throw Q;var x=l(r,$);$+=4;var U=r[$];$++;if(U!=M){$-=5;x=l(r,$);$+=8;Q=r[$];
$++;if(Q!=M)throw Q}var S=l(r,$)*2;$+=4;if(x>0)c.push($+S);$+=S+x}var z=new DOMParser,V=z.parseFromString(I,"image/svg+xml").firstChild.firstChild,t=[];
dN.nj.a7z(V,r,c,t);return t};dN.nj.a7z=function(F,r,$,C){var M=F.firstChild.firstChild;if(M.tagName=="Image"){var l=M.getElementsByTagName("ImageDescription")[0],k=l.children[0].children,d=l.children[1].children,I=$.shift(),c=[];
for(var O=0;O<d.length;O++)c.push(parseInt(d[O].getAttribute("NumberOfElements")));while(c.length>3)c[2]*=c.pop();
var Q=k.length,x=c[0],U=c[1],S=c[2],z=parseInt(d[0].getAttribute("BytesInc"));for(var V=0;V<S;V++){var t=j.j(x*U*4);
t.fill(255);for(var Y=0;Y<Q;Y++){var i=j.j(x*U);if(z==1)for(var J=0;J<i.length;J++)i[J]=r[I+J];else if(z==2)for(var J=0;
J<i.length;J++)i[J]=Math.min(255,(r[I+J*2+1]<<8|r[I+J*2])>>>2);else throw z;if(Y!=3)j.dr(i,t,Y);if(Q==1){j.dr(i,t,1);
j.dr(i,t,2)}I+=x*U*z}C.push({$Y:new cS(0,0,x,U),data:t.buffer})}}else{var H=F.children,v=0;while(v<H.length&&H[v].tagName!="Children")v++;
if(v==H.length)throw"e";H=H[v].children;for(var n=0;n<H.length;n++)dN.nj.a7z(H[n],r,$,C)}};dN.aAw=function(){function F(k,d,I,c,Q){var x=new Int8Array(k.buffer),U=new Int8Array(c.buffer),S=d+I;
while(d<S){var bU=x[d];d++;if(bU>=0&&bU<128)for(var O=0;O<bU+1;O++){U[Q]=x[d];Q++;d++}if(bU>=-127&&bU<0){for(var O=0;
O<-bU+1;O++){U[Q]=x[d];Q++}d++}}return Q}function r(k,d,I,c,Q,x){var U=d*I*c>>>3,S=j.j(U*Q),z=C(k,0,0,0)[0];
for(var V=0;V<Q;V++){var t=z[V+1];if(x){var Y=dN.LD("jpg").YH(t.buffer),i=j.j(U);j.R2(new Uint8Array(Y[0].data),i);
S.set(i,U*V)}else if(t[0]==255&&t[1]==216&&t[2]==255){var J=UTIF.LosslessJpegDecode(t);S.set(new Uint8Array(J.buffer),U*V)}else F(t,64,t.length,S,U*V)}return S}function $(k){var d=new Uint8Array(k),I=0,c=P.BW(d,0,128);
I+=128;var Q=P.BW(d,I,4);I+=4;var x=M(d,I,0)[0],U=x.g28;if(U==null){alert("No image.");return[]}var S=U.cols,z=U.rows,V=S*z,t=U.photoInterpret,Y=U.bitsAlloc,i=U.bitsStored,J=U.lossyCompr;
if(J==null)J=x.g8.lossyCompr;var H=x.g7fe0.pixelData,v=U.numOfFrames;v=v?parseInt(v):1;var n=new Uint8Array(H.buffer),G=V*Y>>>3;
if(n.length!=G*v){H=r(H,S,z,Y,v,J)}else{}if(Y==16)H=new Uint16Array(H.buffer);console.log(U);console.log(x);
var g=[];for(var W=0;W<v;W++){var L=W*G,k=j.j(S*z*4);k.fill(255);if(t=="MONOCHROME2"){var b=0,T=255,a=U.largestValue,R=U.smallestValue;
if(a!=null){T=a;b=R}else if(i!=8){T=0;b=1e9;for(var O=0;O<V;O++){var D=H[L+O];if(D>1<<i-8){if(D>T)T=D;
if(D<b)b=D}}}var h=255/(T-b);for(var O=0;O<V;O++){var D=Math.max(0,Math.min(255,(H[L+O]-b)*h)),K=O*4;
k[K]=k[K+1]=k[K+2]=D}}else if(t=="PALETTE COLOR"){var X=U.pltRed,w=U.pltGreen,N=U.pltBlue;for(var O=0;
O<V;O++){var s=H[L+O],K=O*4;k[K]=X[s]>>>8;k[K+1]=w[s]>>>8;k[K+2]=N[s]>>>8}}else throw t;g.push({$Y:new cS(0,0,S,z),data:k.buffer})}return g}function C(k,d,I,c){if(I==0)I=k.length;
var Q=P.IX,x=P.nv,U=P.cA,S=[],z=d;while(d<I){var V=Q(k,d);d+=2;var t=Q(k,d);d+=2;var Y=U(k,d);d+=4;if(V==65534&&t==57344){if(Y==4294967295){var i=M(k,d,c+1);
S.push(i[0]);d=i[1]}else{S.push(k.slice(d,d+Y));d+=Y}}else if(V==65534&&t==57357){}else if(V==65534&&t==57565)break;
else throw"e"}return[S,d]}function M(k,d,I){var c=P.IX,Q=P.nv,x=P.cA,U={},S="\t".repeat(I);while(d<k.length){var z=c(k,d),i="",J=0,v=null;
d+=2;var V=c(k,d);d+=2;var t=z.toString(16),Y=V.toString(16);if(z==65532)break;if(z==65534&&V==57357){d-=4;
break}if(z==65534&&V==57565)throw"e";if(V==0){d+=8;continue}if(65<=k[d+1]){i=P.BW(k,d,2);d+=2;if(i=="OB"||i=="SQ"||i=="OW"){J=x(k,d+2);
d+=6}else{J=c(k,d);d+=2}}else{i=l[t][Y].split(",")[1];J=x(k,d);d+=4}console.log(t,Y,i,J);var H=l[t][Y];
if(H)H=H.split(",")[0];if(H==null){H="t"+Y}if(i=="SQ"){var n=C(k,d,d+J,I);v=n[0];d=n[1];J=0}else if(i=="US")v=c(k,d);
else if(i=="SS")v=Q(k,d);else if(i=="UL")v=x(k,d);else if(i=="FL")v=P.JW(k,d);else if(i=="AT")v=[c(k,d),c(k,d+2)];
else if(i=="OB")v=k.slice(d,d+J);else if(i=="OW")v=new Uint16Array(k.slice(d,d+J).buffer);else if(i=="FD")v=new Float64Array(k.slice(d,d+J).buffer);
else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(i)!=-1){var G=d+J;while(k[G-1]==0)G--;
v=P.BW(k,d,G-d).trim()}else{console.log(S,JSON.stringify(P.BW(k,d,Math.min(J,32))));throw i}if(U["g"+t]==null)U["g"+t]={};
U["g"+t][H]=v;d+=J}return[U,d]}var l={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"40":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{YH:$}}();dN.atZ={};dN.atZ.YH=function(F){var r=new Uint8Array(F),$=0,C={};for(var O=0;O<306;O++){var M=P.BW(r,$,8).trim(),l=P.BW(r,$+9,71).split("/")[0].trim();
C[M]=l;$+=80;if(M=="END"){$=Math.ceil($/2880)*2880;break}}var k=parseInt(C.NAXIS1),d=parseInt(C.NAXIS2),I=k*d,c=parseInt(C.BITPIX),Q=C.BZERO?parseInt(C.BZERO):0,x=C.NAXIS3?parseInt(C.NAXIS3):1,U=new Float32Array(F,$,F.byteLength-$>>>2),S=new Float32Array(I),z=j.j(I*4,16);
z.fill(65535);var V=j.j(I,16);for(var t=0;t<x;t++){var Y=1e9,i=-1e9;for(var O=0;O<I;O++){if(c==-32){var J=r[$+0];
r[$+0]=r[$+3];r[$+3]=J;var J=r[$+1];r[$+1]=r[$+2];r[$+2]=J;S[O]=U[O];$+=4}else if(c==16){S[O]=Q+P.O4(r,$);
$+=2}else throw c;var H=S[O];if(H<Y)Y=H;if(H>i)i=H}var v=1/i;for(var n=0;n<d;n++)for(var G=0;G<k;G++){var O=n*k+G,g=(d-n-1)*k+G,H=S[O]*v;
V[O]=65535*H}if(x==1)j.Wn(V,z);else j.dr(V,z,t)}return[{$Y:new cS(0,0,k,d),data:z,VI:C.OBJECT,depth:16}]};
dN.za={};dN.za.YH=function(F){var r=new Uint8Array(F),$=16,C=P.BW(r,$,4),l=32,Y=0,i=0,J=!1,X;$+=4;var M=P.BW(r,$,8);
$+=8;while(r[$+l-1]==0)l--;var k=P.BW(r,$,l);$+=32;var d=P.BW(r,$,4);$+=4;$+=20;var I=P.dj(r,$);$+=4;
var c=P.dj(r,$);$+=4;var Q=P.dj(r,$);$+=4;var x=P.dj(r,$);$+=4;var U=P.dj(r,$);$+=4;var S=P.dj(r,$);
$+=4;var z=k,V=[0,1,1,2];if(z=="X10"){z="FinePix X10";V=[2,1,1,0]}var t={t271:["FujiFilm"],t272:[z],t277:[1],t33421:[2,2],t33422:V,lM:1};
$=Q;var H=[],v=P.G2,n=P.dj(r,$);$+=4;for(var O=0;O<n;O++){var G=v(r,$);$+=2;var g=v(r,$);$+=2;if(G==256){i=v(r,$);
Y=v(r,$+2)}else if(G==272){H=[v(r,$),v(r,$+2)]}else if(G==273){H.push(v(r,$),v(r,$+2))}else if(G==304){J=!(r[$]>>>7)}else if(G==305){var W=Math.round(Math.sqrt(g)),L=[];
for(var b=0;b<g;b++)L.push(r[$+b]);L.reverse();t.t33421=[W,W];t.t33422=L}else if(G==12272){var T=v(r,$),a=v(r,$+2),R=v(r,$+6);
t.t50728=[T/a,1,T/R]}$+=g}var D=Y<i,h=r.slice(U,U+S),K=Math.round(S*8/(Y*i));if(h[0]==73&&h[1]==73&&h[2]==42){X=UTIF.decode(h.buffer)[0].fujiIFD;
K=X.t61443[0];var w=X.t61454,N=X.t61450;if(N)t.t50714=N;if(w)t.t50728=[w[0]/w[1],1,w[0]/w[2]];var s=X.t61447[0];
h=h.slice(s,s+X.t61448[0])}var S=h.length,A=S*8<Y*i*K;if(A){console.log("compressed");var p=t.t33422,q=~~Math.sqrt(p.length),f=[];
for(var O=0;O<q;O++)f[O]=p.slice(O*q,O*q+q);h=new Uint8Array(UTIF._decompressRAF(h,f).buffer);S=h.length}function e(cd,m,aZ){aZ=aZ<<8-(m&7);
var jN=m>>>3;cd[jN]|=aZ>>>16;cd[jN+1]|=aZ>>>8;cd[jN+2]|=aZ}var o=S*8/(Y*i);if(o==16)for(var O=0;O<S;
O+=2){var E=h[O];h[O]=h[O+1];h[O+1]=E}else if(o==14){for(var O=0;O<S;O+=4){var E=h[O];h[O]=h[O+3];h[O+3]=E;
E=h[O+1];h[O+1]=h[O+2];h[O+2]=E}}else if(o==12)for(var O=0;O<S;O+=3){var cj=h[O+2]<<16|h[O+1]<<8|h[O+0];
cj=cj>>>12|(cj&4095)<<12;h[O]=cj>>>16&255;h[O+1]=cj>>>8&255;h[O+2]=cj&255}if(D)h=dN.za.ajS(h,Y,i);var u=D?2:1;
Y*=u;t.t256=[Y];t.t257=[i];t.t258=[K];t.t50719=[H[1],H[0]*u];t.t50720=[H[3],H[2]*u];t.width=Y;t.height=i;
t.data=new Uint8Array(h.buffer);return[t]};dN.za.ajS=function(F,r,$){F=new Uint16Array(F.buffer);var C=new Uint16Array(r*$*2);
for(var M=0;M<$;M+=2)for(var l=0;l<r;l++){var k=M*r+l,d=k*2,I=F[k],c=F[k+r];C[d+1]=C[d+2*r]=c;if(((M>>>1)+l&1)==0){C[d]=I;
C[d+2*r+1]=F[k+1]}else{C[d]=F[k-1];C[d+2*r+1]=I}}return C};dN.VO={};dN.VO.ahY=function(F,r,$){$=$<<8-(r&7);
var C=r>>>3;F[C]|=$>>>16;F[C+1]|=$>>>8;F[C+2]|=$};dN.VO.mQ=!0;dN.VO.YH=async function(F,r,$,C){var M=new Uint8Array(F),l=0,k=Date.now(),d=await db.CO(new Blob([F])),I=d.moov.uuid[0],c=new CR3Parser(F),Q=c.getTrack().meta,x=I.CMT1[0],U=x.t256[0]=Q.width,S=x.t257[0]=Q.height,z=U*S,V=x.exifIFD=I.CMT2[0],t=V.makerNote=I.CMT3[0],Y=d.moov.trak[3].mdia.minf.stbl,i=Y.co64[0],J=M.slice(i,i+Y.stsz[0]),H=0;
while(H<J.length){var v=P.cA(J,H);H+=4;var n=P.IX(J,H);H+=2;var G=J[H]==1;H+=2;H+=4;if(n==8||n==9){var g=UTIF.decode(J.slice(H+8,H+v-12).buffer)[0];
for(var W in g)t[W]=g[W]}H+=v-12}x.t277=[1];x.t33421=[2,2];x.t33422=[0,1,1,2];x.lM=1;if(x.t274)x.lM=x.t274[0];
var L=c.extractCFA(),b=Q.bitDepth;if(b!=14)throw"e";x.t258=[b];var T=new Uint8Array(Math.ceil(z*b/8)),a=16-b;
for(var O=0;O<z;O++)dN.VO.ahY(T,O*14,L[O]<<a);x.width=U;x.height=S;x.data=T;$(null,[x],C)};dN.h4={};
dN.h4.RA=!0;dN.h4.x2=function(F,r,$,C){var M=new Uint8Array(F[0][0]),l=r*$,k=[1,3,4][C[0]],d=8+8*C[1],I=C[2];
if(k==1){var c=new Uint8Array(r*$);j.Eg(M,c,0);M=c}if(k==3){var c=new Uint8Array(r*$*3);for(var O=0;
O<l;O++){var Q=O*4,x=O*3;c[x]=M[Q];c[x+1]=M[Q+1];c[x+2]=M[Q+2]}M=c}if(d==16){var U=M.length,c=new Uint8Array(U*2);
for(var O=0;O<U;O++){var S=Math.round(M[O]*(65535/255));c[O*2+I]=S>>>8;c[O*2+1-I]=S&255}M=c}return M.buffer};
dN.nU={};dN.nU.YH=function(F,r){function $(f){return~~(.5+j.Wg(Math.max(0,Math.min(1,f)))*255)}var C=new Uint8Array(F),M=4,l=P.cA(C,M);
M+=4;var k={};M=dN.nU.yT(C,M,k);var d=k.compression,I=k.channels,c=I.length,Q=Date.now();if(d==3&&c>4){var x=k.dataWindow,U=x[2]+1,S=x[3]+1,z=[];
while(!0){var V=P.cA(C,M+z.length*8);if(V==0)break;z.push(V)}M+=z.length*8;function t(u,f,q,cd,a,w){var m=u[q*(c*U)+cd*U+f];
return $(m)}function Y(u,h){for(var K=0,bU=Math.floor((u.length+1)/2),cd=0,O=u.length-1;!(cd>O||(h[cd++]=u[K++],cd>O));
)h[cd++]=u[bU++]}var i=[],J={},H=[];for(var O=0;O<I.length;O++){var v=I[O],n=v[0];if(n.indexOf(".")==-1)n="main."+n;
var G=n.split(".");while(G.length>2)G[0]=G.shift()+"_"+G[0];var g=G[0],W=G[1];if(J[g]==null){J[g]=i.length;
var L=j.j(U*S*4);i.push(L);L.fill(255)}H.push([J[g],{R:0,G:1,B:2,A:3}[W]])}for(var O=0;O<z.length;O++){var b=z[O],T=P.cA(C,b),D;
b+=4;var a=O==z.length-1?S-T:16,R=P.cA(C,b);b+=4;if(d==3){var D=new Uint8Array(a*U*c*4);UZIP.inflateRaw(C.slice(b+2,b+R),D);
for(var h=1;h<D.length;h++){var K=D[h-1]+D[h]-128;D[h]=K}var X=new Uint8Array(D.length);Y(D,X);D=new Float32Array(X.buffer)}var w=j.j(D.length);
for(var N=0;N<c;N++){var s=H[N],A=i[s[0]],p=s[1];for(var q=0;q<a;q++){for(var f=0;f<U;f++){var e=((q+T)*U+f)*4;
A[e+p]=t(D,f,q,N,a,w)}}}}var o=[];for(var n in J){o.push({$Y:new cS(0,0,U,S),data:i[J[n]].buffer,VI:n})}console.log(Date.now()-Q);
return o.reverse()}else{var E=EXRLoader.parse(F),U=E.width,S=E.height,A=j.j(U*S*4);for(var q=0;q<S;q++)for(var f=0;
f<U;f++){var O=(q*U+f)*4,cj=((S-q-1)*U+f)*4;A[O]=$(E.data[cj+0]);A[O+1]=$(E.data[cj+1]);A[O+2]=$(E.data[cj+2]);
A[O+3]=$(E.data[cj+3])}return[{$Y:new cS(0,0,U,S),data:A.buffer}]}};function jv(F){var r=(F&31744)>>10,$=F&1023;
return(F>>15?-1:1)*(r?r===31?$?NaN:Infinity:Math.pow(2,r-15)*(1+$/1024):6103515625e-14*($/1024))}dN.nU.yT=function(F,r,$){function C(z,V){var t=V;
while(z[t]!=0)t++;return t-V}while(F[r]!=0){var M=P.BW(F,r,C(F,r));r+=M.length+1;var l=P.BW(F,r,C(F,r));
r+=l.length+1;var k=P.cA(F,r);r+=4;var d=F.slice(r,r+k);if(k==1)d=F[r];else if(l=="box2i"){d=[];for(var O=0;
O<4;O++)d.push(P.jF(F,r+4*O))}else if(l=="float")d=P.JW(F,r);else if(l=="v2f"){d=[];for(var O=0;O<2;
O++)d.push(P.JW(F,r+4*O))}else if(l=="chlist"){var I=r;d=[];while(F[I]!=0){var c=P.BW(F,I,C(F,I));I+=c.length+1;
var Q=P.cA(F,I);I+=4;var x=F[I];I++;I+=3;var U=P.cA(F,I);I+=4;var S=P.cA(F,I);I+=4;d.push([c,Q,x,U,S])}}else console.log("-----",l);
$[M]=d;r+=k}return r+1};dN.yk={};dN.yk.RA=!0;dN.yk.FK=!0;dN.yk.x2=function(F,r,$,C,M){C=["",100,!1,!1,!1,0,!1];
C[7]=["jpg"];var l=new ToDXF;fv.Ns(F,C,l,M.v7);return l.buffer};dN.yk.YH=function(F,r){var $=72,C=new hS(1,0,0,1,0,0);
C.scale($/72,$/72);r.YV=$;var M=new gA(r,C,!1);FromDXF.Parse(F,M)};dN.aHB={};dN.aHB.YH=function(){var F=P.IX,r=P.cA,$=P.BW,C;
function M(k,d,I,c,Q){var x=r(k,I),U=r(k,I+4),S=r(k,I+8),z=F(k,I+12),V=F(k,I+14);I+=16;var t={};for(var O=0;
O<z+V;O++){var Y=r(k,I),i=r(k,I+4),J,H;if(Y>>>31==1){Y=Y&16777215}if(O<z)J=P.Fz(k,d+Y+2,F(k,d+Y));else J="id"+Y;
var v=c.slice(0);v.push(J);if(i>>>31==1){i=i&268435455;H=M(k,d,d+i,v,Q)}else{var n=r(k,d+i),G=r(k,d+i+4),g=r(k,d+i+8),W=r(k,d+i+12);
if(W!=0)throw"e";if(n<Q[0]||n>Q[0]+Q[1])throw"e";var L=Q[2]+n-Q[0];H=k.slice(L,L+G);var b=dN.GN(H.buffer);
if(b&&["bmp","png","ico"].indexOf(b)!=-1){var T=dN.LD(b);if(!T.FK){var a=null;try{a=T.YH(H.buffer)}catch(ac){}if(a){a[0].VI=v[1];
C.push(a[0])}}}else if(b)console.log(b)}t[J]=H;I+=8}return t}function l(k){C=[];var d=new Uint8Array(k),I=0,c=F(d,I);
I+=2;I+=58;var Q=r(d,I);I+=4;I=Q;var x=$(d,I,4);I+=4;var U=F(d,I);I+=2;var S=F(d,I);I+=2;var z=r(d,I);
I+=4;var V=r(d,I);I+=4;var t=r(d,I);I+=4;var Y=F(d,I);I+=2;var i=F(d,I);I+=2;I+=Y;var J={};for(var O=0;
O<S;O++){var H=I;while(d[H]!=0)H++;var v=$(d,I,H-I),n=r(d,I+8),G=r(d,I+12),g=r(d,I+16),W=r(d,I+20),L=r(d,I+24),b=r(d,I+28),T=F(d,I+32),a=F(d,I+34),i=r(d,I+36);
J[v]=[G,n,W,g,i];if(L+b!=0)throw"e";I+=40}for(var R in J){var D=J[R];I=D[2];if(R==".rsrc"){var h=M(d,I,I,[],D),K="id134"}}return C}return l}();
dN.rV={};dN.rV.FK=!0;dN.rV.YH=function(F,r,$){if($&&$.length!=2)$=null;hq.CO(F,r,$)};dN.rV.x2=function(F,r,$){return hq.Ns(F)};
(function(){var F=dN.Sd.get("wasm/zstd").buffer;WebAssembly.instantiate(F).then(function(r){var $=r.instance.exports;
dN.rV.a7b=$})}());dN.rV.nI=function(F,r){var $=dN.rV.a7b,C=F.length,M=$.memory,l=2*C+1e6,I=4;dN.h2($,l);
var k=new Uint8Array(M.buffer),d=$.malloc(C);k.set(F,d);while(!0){var c=r==null?C*I:r;dN.h2($,l+c);var Q=$.malloc(c),x=$.ZSTD_decompress(Q,c,d,C);
if(x==-70){$.free(Q);I+=I>>>1;if(r!=null)throw"error"}else{k=new Uint8Array(M.buffer);F=k.slice(Q,Q+x);
$.free(Q);break}}$.free(d);return F};dN.mr={};dN.mr.FK=!0;dN.mr.YH=function(){var F=0,r=1,$=2,C=3,M=4,l=5,k=6,d=7,I=1,c=2,Q=7,x=8,U=9,S,z,V,t,Y;
function i(){var bU=P.jF(S,z);z+=4;return bU}function J(){var X=0,w=0;for(var O=0;O<5;O++){var N=S[z++];
X+=(N&127)<<w;w+=7;if((N&128)==0)break}return X}function H(){var X=J(),w=P.qV(S,z,X);z+=X;return w}function v(){return{typeName:H(),aI6:i()}}function n(){var X=i(),w=H(),N=[],s=i();
for(var O=0;O<s;O++)N.push([H()]);return{id:X,du:w,a4r:N}}function G(X){var w=X.a4r,N=[];for(var O=0;
O<w.length;O++)w[O].push(S[z++]);for(var O=0;O<w.length;O++){var s=w[O][1],A;w[O].push(g(s))}}function g(X){var w;
if(X==F)w=S[z++];else if(X==C)w=H();else if(X==M)w=v();else if(X==r||X==$||X==k||X==l){}else throw X;
return w}function W(X,w,N){var s;if(X==F){if(w==I)s=S[z++]==1;else if(w==c){s=S[z++]}else if(w==x)s=i();
else if(w==U){s=i();i()}else throw w}else if(X==C){s=a(N+1)}else if(X==M){s=a(N+1)}else if(X==l){s=a(N+1)}else if(X==r){s=a(N+1)}else if(X==k){s=a(N+1)}else if(X==$){s=a(N+1)}else throw X;
return s}function L(X,w){var N=V["c"+X],s=N.a4r,A={_class:N.du};for(var O=0;O<s.length;O++){var p=s[O],q=p[1],f=p[2],e=W(q,f,w),o=p[0];
A[o]=e}return A}function b(X,w,N,s){var A=[];for(var O=0;O<X;O++){var p=W(w,N,s);if(p.q&&p.q=="null_count"){var q=p.rY;
for(var f=0;f<q;f++)A.push(null);O+=q-1}else A.push(p)}return A}function T(){return[i(),i()]}function a(X){if(X==null)throw"e";
var w=null,N=S[z],s=null;z++;if(N==0){var A=i(),p=i(),q=i(),f=i();w=[A,p,q,f]}else if(N==1){s=i();var e=i();
w=L(e,X)}else if(N==4){var o=n();s=o.id;G(o);V["c"+o.id]=o;w=L(o.id,X)}else if(N==5){var o=n();s=o.id;
G(o);var E=i();V["c"+o.id]=o;w=L(o.id,X)}else if(N==6){s=i();var cj=H();w=cj}else if(N==7){s=i();var u=S[z++];
if(u!=0)throw u;var cd=i();if(cd!=1)throw cd;var m=i(),aZ=S[z++],jN=g(aZ);w=b(m,aZ,jN,X)}else if(N==9){var eh=i();
w={q:"ref",rY:eh};Y["o"+eh]=!0}else if(N==10){w={q:"null_count",rY:1}}else if(N==11){w={q:"end"}}else if(N==12){var E=i(),iA=H()}else if(N==13){var hd=S[z++];
w={q:"null_count",rY:hd}}else if(N==16){var kx=T();s=kx[0];w=b(kx[1],M,null,X)}else if(N==17){var kx=T();
s=kx[0];w=b(kx[1],r,null,X)}else throw"e";if(s!=null&&s>0){if(t["o"+s]!=null)throw"e";t["o"+s]=w}return w}function R(X,t){if(X instanceof Array){for(var O=0;
O<X.length;O++)X[O]=D(X[O],t)}else if(X instanceof Object){for(var w in X)X[w]=D(X[w],t)}}function D(X,t){if(X&&X.q&&X.q=="ref")return t["o"+X.rY];
else return X}function h(X,w,N){var s=Date.now();S=new Uint8Array(X);z=0;V={};t={};Y={};var A=P.BW(S,0,4);
if(A!="PDN3")throw A;z+=4;var p=P.IX(S,z)+S[z+2]*256*256;z+=3;var q=P.BW(S,z,p);z+=p;z+=2;while(!0){var f=a(0);
if(f&&f.q&&f.q=="end")break}for(var e in Y)if(t[e]==null)throw e;for(var e in t)R(t[e],t);var o=t.o1;
console.log(o);w.r=o.width;w.$=o.height;w.buffer=j.j(w.r*w.$*4);var E=o.layers["ArrayList+_items"];for(var O=0;
O<E.length;O++){var cj=E[O];if(cj==null)continue;var u=cj["Layer+width"],cd=cj["Layer+height"],m=cj["Layer+properties"],aZ=cj.properties,jN=aZ.blendOp._class.split("+").pop();
jN=jN.slice(0,jN.length-7);var eh={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[jN],iA=w.at();
iA.Da(m.name);iA.gk=m.opacity;iA.Gj(m.visible);iA.ww=eh;if(S[z]!=0)throw"e";z++;var hd=P.dj(S,z);z+=4;
var kx=Math.ceil(u*cd*4/hd);iA.S=new cS(0,0,u,cd);var b0=iA.buffer=j.j(u*cd*4);for(var gX=0;gX<kx&&z<S.length;
gX++){var j$=K();b0.set(j$[1],j$[0]*hd)}for(var i0=0;i0<b0.length;i0+=4){var f7=b0[i0+0];b0[i0+0]=b0[i0+2];
b0[i0+2]=f7}w.u.push(iA)}}function K(){var X=P.dj(S,z);z+=4;var w=P.dj(S,z);z+=4;z+=10;w-=10;var N=pako.inflateRaw(S.slice(z,z+w));
z+=w;return[X,N]}return h}();dN.tw={};dN.tw.FK=!0;dN.tw.YH=function(F,r){ju.CO(F,r)};dN.uu={};dN.uu.FK=!0;
dN.uu.YH=function(){var F,r,t=null,G,g;function $(){var h=F[r];r+=1;return h}function C(){var h=P.G2(F,r);
r+=2;return h}function M(){var h=P.dj(F,r);r+=4;return h}function l(){var h=P.Dm(F,r);r+=4;return h}function k(){var h=P.Zq(F,r);
r+=8;return h}function d(){var h=M();if(h>200)throw h;var K=P.JH(F,r,h);r+=h*2;return K}function I(){var h=P.Dw(F,r);
r+=8;return h}function c(){var h=P.LC(F,r);r+=4;return h}function Q(){var h=M();if(M()!=4)throw"e";var K=[];
for(var O=0;O<h;O++)K.push(M());return K}function x(h,K,X){for(var O=0;O<h.length;O++)if(h[O][K]==X)return h[O]}function U(h,K){var X=Date.now();
F=new Uint8Array(h);r=P.Ah(F,"CH"+"NK"+"SQ"+"Li")+8;var w=k(),N=ae.parse(F.buffer.slice(r,r+w)),s=ae.aHG(N,!0);
console.log(s);var A=s.Canvas[0],p=A.Width,q=A.Height,f=A.Unit,e=K.YV=A.Resolution;if(f==0){}else if(f==1){p=Math.round(p*e/2.54);
q=Math.round(q*e/2.54)}else if(f==2){p=Math.round(p*e/25.4);q=Math.round(q*e/25.4)}else if(f==3){p=Math.round(p*e);
q=Math.round(q*e)}else if(f==5){p=Math.round(p*e/72);q=Math.round(q*e/72)}else{console.log(A);throw f}K.r=p;
K.$=q;K.buffer=j.j(p*q*4);console.log(Date.now()-X);var o=x(s.Layer,"MainId",A.RootFolder);T(s,F,K,o.FirstChildIndex,0);
console.log(Date.now()-X)}function S(){var h=P.IX(F,r);r+=2;return h}function z(){var h=P.cA(F,r);r+=4;
return h}function V(){var h=P.jF(F,r);r+=4;return h}function Y(h){var K={11:"runs",31:"font",32:"size",33:"unit",34:"colr",42:"bbox",57:"fnts",63:"bdim",64:"bplg"},w=0;
F=h;r=0;var X={};while(r<F.length){var N=z(),s=z(),A=r+s;if(s==0)continue;var p=[];if(N==11){var q=z();
for(var f=0;f<q;f++){var e=[z(),z()];p.push(e);w+=e[1];var o=r+z()-4;e.push(S(),S(),S(),S());e.push(P.aj(F,r));
r+=8;var E=S();e.push(P.Fz(F,r,E));r+=E*2;if(r!=o)throw"e"}}else if(N==31){p=P.qV(F,r,s);r+=s}else if(N==34)for(var O=0;
O<3;O++)p.push(z()>>>16);else if(N==42)for(var O=0;O<4;O++)p.push(V());else if([32,33,35,37,38,43,44,45,46,48,49,50,51,52,53,55,58,59,60,61,62].indexOf(N)!=-1){if(s!=4)throw"e";
p=z();if([37,45,46,51,53,55,61,62].indexOf(N)!=-1){r=A;continue}}else if(N==47){var cj=S();if(z()!=50)throw"e";
if(z()!=0)throw"e";var u=S();p=P.BW(F,r,u);r+=u}else if(N==57){var q=S();for(var O=0;O<q;O++){var cd=S(),m=P.BW(F,r,cd);
r+=cd;var aZ=S(),jN=P.BW(F,r,aZ);r+=aZ;p.push([m,jN])}if(r<A){var eh=z();for(var O=0;O<q;O++)p[O].push(eh)}}else if(N==39||N==63)p.push(z(),z());
else if(N==64){for(var O=0;O<8;O++)p.push(P.jF(F,r+O*4)/100);r+=32}else{p=F.slice(r,A);r+=s}var iA=K[N];
if(iA==null)iA="t"+N;if(X[iA])throw"e";X[iA]=p;if(r!=A)throw N}if(t){}t=X;return X}function i(h){F=h;
r=0;var K=M();if(K!=h.length)throw"e";var X=M(),w=d(),N=M(),s=I(),A=[M()/4294967295,M()/4294967295,M()/4294967295];
return[N,s,A]}function J(h,K){function X(){var kq=[];for(var O=0;O<4;O++)kq.push(P.Dm(F,r+O*4));r+=16;
return kq}function w(bU){var kq=[];for(var O=0;O<bU;O++)kq.push(c());return kq}function N(kq){var a7="";
for(var O=r;O<kq;O+=4)a7+=F.slice(O,O+4).join(", ")+"\n";return a7}F=h;r=K+8;var s=k(),A=r+s;r+=56;if(r==A)return;
var p=[],q=[],f=[],e=[],o=[];while(r<A){var E=M(),b0=1;if(E!=88&&E!=96)throw E;var cj=M();if(cj!=72)throw cj;
var u=M();if(u!=88&&u!=104&&u!=120)throw u;var cd=M();if(cd!=88)throw cd;var m=M(),aZ=M(),jN=X(),eh=[];
f.push(eh);for(var O=0;O<6;O++){eh.push(H(M()))}var iA=I(),hd=M();if((aZ&1)==0){console.log("8 extra bytes");
M();hd=M()}var kx=I();e.push(kx);var gX=M(),j$=(aZ&256)!=0,i0=[],f7=[],am={88:1,104:2,120:3}[u];for(var O=0;
O<m;O++){var gf=O==0?1:am;for(var cC=0;cC<gf;cC++)i0.push(I(),I());f7.push(gf==1?O==0?"M":"L":gf==2?"Q":"C");
var aD=X(),c_=M();b0=c();var a9=w(10),jz=M(),g3=M()}o.push(b0);if(u==104){var e3=I(),c1=I();if(j$){f7.push("Q");
i0.push(e3,c1,i0[0],i0[1])}}if(u==120){var e3=I(),c1=I(),dI=I(),kJ=I();if(j$){f7.push("C");i0.push(e3,c1,dI,kJ,i0[0],i0[1])}}if(aZ&128){var cA=["M"],c2=[i0[0],i0[1]],ee=i0.length>>>1,hF=j.b.aeE(i0);
for(var O=0;O<ee;O++){var ic=i0[2*O],eH=i0[2*O+1],kz=.7;for(var cC=0;cC<2;cC++){hF[O*4+cC*2]=kz*hF[O*4+cC*2]+(1-kz)*ic;
hF[O*4+cC*2+1]=kz*hF[O*4+cC*2+1]+(1-kz)*eH}}for(var O=1;O<ee;O++){cA.push("C");c2.push(hF[O*4-2],hF[O*4-1],hF[O*4],hF[O*4+1],i0[O*2],i0[O*2+1])}if(j$){cA.push("C");
c2.push(hF[ee*4-2],hF[ee*4-1],hF[0],hF[1],i0[0],i0[1])}i0=c2;f7=cA}if(j$)f7.push("Z");q=q.concat(i0);
p=p.concat(f7)}if(r!=A)throw"e";return[{n:q,C0:p},f,e,o]}function H(h){return Math.min(255,Math.round(h/16777216))}function v(h){F=h;
r=0;var K=M();if(K!=16)throw K;var X=M();if(X!=102)throw X;var w=M();if(w!=42&&w!=58)throw w;var N=M();
if(h.length-N!=118+w)throw h.length-N;var s=d();if(s!="Parameter")throw s;var A=M(),p=M(),q=M(),f=M(),e=[];
for(var O=0;O<16;O++)e.push(M());var s=d();if(s!="InitColor")throw s;if(M()!=20)throw"e";var o=M(),E=M(),cj=M();
if(M()!=4)throw"e";if(w==58){var u=[];e.push(u);for(var O=0;O<4;O++)u.push(H(M()))}var s=d();if(s!="BlockSize")throw s;
var cd=M();if(cd!=12)throw cd;var m=Q();if(r!=F.length)throw"e";return[A,p,q,f,o*255,e]}function n(h,K){var X=P.BW(K,0,40),w=x(h["ExternalC"+"hunk"],"Exte"+"rnalID",X);
if(w==null){console.log("chnk not found",X)}return w?w.Offset:-1}function W(h,K,X,w){if(G==null){G=j.j(256*256*4);
g=j.j(256*256)}var N=h.Mipmap,s=h.MipmapInfo,A=h.Offscreen,p=x(N,"MainId",X),q=x(s,"MainId",p.BaseMipmapInfo),f=x(A,"MainId",q.Offscreen),e=n(h,f.BlockData),U=null;
if(e==-1)return null;var o=dN.uu.aCm(K,e),E=v(f.Attribute),cj=E[0],u=E[1],cd=E[2],m=E[3],aZ=E[4],jN=E[5],eh=jN[16],iA=jN[1],hd=jN[2],kx=iA+hd;
if(hd!=jN[5])throw"e";if(iA!=jN[7])throw"e";var b0=j.j(256*(jN[6]+jN[8])),gX=new cS;if(eh)gX=new cS(0,0,cj,u);
else{for(var j$=0;j$<m;j$++)for(var i0=0;i0<cd;i0++){var f7=o[j$*cd+i0];if(f7.length==0)continue;gX=gX.DM(new cS(i0<<8,j$<<8,256,256))}}var am=gX.R7(new cS(0,0,cj,u)),gf=j.j(am.C()*(kx==1?1:4));
if(eh)j.A9(gf,255<<24|eh[0]<<16|eh[1]<<8|eh[2]);if(kx==1)gf.fill(aZ);var cC=new Uint32Array(G.buffer),aD={};
for(var j$=0;j$<m;j$++)for(var i0=0;i0<cd;i0++){var f7=o[j$*cd+i0];if(f7.length==0)continue;var c_=new Uint8Array(f7.buffer,f7.byteOffset+2,f7.length-6),a9=new cS(i0<<8,j$<<8,256,256),jz=b0;
if(c_.length<2e3){var X=c_.length+","+b0.length+","+c_.slice(0,16).join(":");if(aD[X]==null){UZIP.inflateRaw(c_,b0);
aD[X]=b0.slice(0)}jz=aD[X]}else UZIP.inflateRaw(c_,b0);if(kx==1){if(jN[8]==32){L(jz,0,g);j.wU(g,a9,gf,am)}else j.wU(jz,a9,gf,am)}else if(kx==2){if(jN[8]==32){j.A9(G,267387135);
L(jz,0,g);j.dr(g,G,3);L(jz,256*32,g);j.Wn(g,G)}else for(var O=0;O<262144;O+=4){var eh=jz[65536+(O>>>2)];
G[O]=eh;G[O+1]=eh;G[O+2]=eh;G[O+3]=jz[O>>>2]}j.mR(G,a9,gf,am)}else if(kx==5){for(var O=0;O<262144;O+=4){cC[O>>>2]=jz[O>>>2]<<24|jz[65536+O+0]<<16|jz[65536+O+1]<<8|jz[65536+O+2]}j.mR(G,a9,gf,am)}else throw kx}if(w&&kx==1){var g3=j.j(cj*u*4);
j.dr(gf,g3,3);gf=g3}return[am,gf,aZ]}function L(h,r,K){for(var O=0;O<K.length;O++){K[O]=(h[r+(O>>>3)]>>>7-(O&7)&1)*255}}var b=["norm","dark","mul ","idiv","lbrn",null,"dkCl","lite","scrn","div ","div ","lddg","lddg",null,"over","sLit","hLit","vLit","lLit","pLit",null,null,"smud",null,null,null,null,null,null,null,"pass",null,null,null,null,null,"fdiv"];
function T(h,K,X,w,N){var s=h.Layer,A=h.Canvas[0];while(w!=0){var p=x(s,"MainId",w),q=p.Type,cd=!1;console.log(p);
var f=X.at();f.Da(p.Name);f.gk=Math.min(255,p.Opacity);f.Gj((p.Visibility&1)!=0);f.ww=b[p.Composite];
if(f.ww==null){alert("Unknown blend mode "+p.Composite);f.ww="norm"}f.p9=p.Clip==1;X.u.push(f);var e=p.LayerMaskMipmap;
if(e!=0){var o=W(h,K,e,!1);if(o){f.Lj=new Z.tp;f.Lj.S=o[0];f.Lj.G=o[1];f.Lj.color=o[2];a(f.Lj.S,p,"Mask","Mask");
f.Lj.uF()}}var E=[];for(var O=0;O<3;O++)E.push(H(p["DrawColorMain"+["Red","Green","Blue"][O]]));var cj={t:"Objc",v:j.qS.NG({t:E[0],L:E[1],X:E[2]})},u=JSON.parse(cK.default);
for(var O=0;O<cK.order.length;O++)u[cK.Zb[O]]={t:"VlLs",v:[]};if(p.DrawColorEnable==1&&q!=1584){cd=!0;
var m=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);m.Clr=cj;u.solidFillMulti.v.push({t:"Objc",v:m})}if(p.EffectInfo){var aZ=i(p.EffectInfo),E=aZ[2];
if(aZ[0]==1){cd=!0;var m=JSON.parse(cK.sH[cK.order.indexOf("FrFX")]);m.Clr.v=j.qS.NG({t:E[0]*255,L:E[1]*255,X:E[2]*255});
m.Sz.v.val=Math.round(aZ[1]);u.frameFXMulti.v.push({t:"Objc",v:m})}}if(p.FilterLayerInfo){F=p.FilterLayerInfo;
r=0;var jN=M(),iA=M();if(iA!=F.length-r)throw"e";var hd={1:"brit",3:"curv",4:"hue2",5:"blnc",6:"nvrt",9:"grdm"}[jN];
if(hd!=null){var kx=e9.Mv(hd);f.add[hd]=kx?kx:{};if(hd=="brit")e9.cP["g"+hd](kx,[l(),l(),!0]);if(hd=="hue2")hA.qd(kx,0,[l(),l(),l()]);
if(hd=="curv"){var b0=[],gX=r;for(var O=0;O<32;O++){r=gX+O*130;var j$=C(),i0=[];b0.push(i0);for(var f7=0;
f7<j$;f7++)i0.push(C()/65535,C()/65535)}for(var O=0;O<4;O++){var i0=b0[O],am=bb.T9(kx,O),gf=am[0];for(var f7=0;
f7<i0.length;f7+=2){var cC=am[f7>>>1]=j.N(gf);cC.v.Hrzn.v=Math.round(i0[f7]*255);cC.v.Vrtc.v=Math.round(i0[f7+1]*255)}bb.qd(kx,O,am)}}if(hd=="grdm"){var aD=kx.Grad.v,c_=[],a9=M();
if(a9!=iA-4)throw a9;var jz=M();if(jz!=16&&jz!=24)throw jz;var g3=M();if(g3!=28)throw g3;var e3=M();
for(var O=0;O<e3;O++){var c1=0,dI=[];for(var f7=0;f7<7;f7++)dI.push(M());c_.push([dI[6]/32768,[dI[1]/4294967295,dI[2]/4294967295,dI[3]/4294967295],dI[4]/4294967295])}j.qS.p3(c_,aD)}if(hd=="blnc"){kx.PrsL.v=M()==1;
for(var O=0;O<3;O++){var kJ=kx[["ShdL","MdtL","HghL"][O]].v;for(var f7=0;f7<3;f7++)kJ[f7].v=l()}}}else console.log("Unknown adjustment",jN,iA,f.getName())}if(q==1584){f.U4|=16;
f.add.SoCo={classID:"null",Clr:cj};f.uH(X)}else if(q==800){X.u.pop()}else if(p.Folder!=0){f.add.lsct=(p.Folder&16)!=0?jR.Xz:jR.ul;
f.ww="pass";X.u.pop();X.u.push(X.fm());T(h,K,X,p.FirstChildIndex,N+1);X.u.push(f)}else if(q==0||q==1||q==2||q==3){var o=W(h,K,p.RenderMipmap,!0);
if(o){f.S=o[0];f.buffer=o[1];a(f.S,p,"Render","");if(f.S.C()<2e6)f.uF()}if(p.ResizableOriginalMipmap){var cA=W(h,K,p.ResizableOriginalMipmap,!0),c2=cA[0],ee;
if(c2.C()>4e6)ee=dN.N_.axE(cA[1].buffer,c2.r,c2.$);else ee=dN.LD("PNG").x2([[cA[1].buffer,0]],c2.r,c2.$);
var hF=X.eM(new Uint8Array(ee),f.getName(),0,0);f.add.SoLd=hF.add.SoLd;f.buffer=hF.buffer;f.S=hF.S;F=p.ResizableImageInfo;
r=0;var ic=[];for(var O=0;O<10;O++)ic.push(M());var eH=[];for(var O=0;O<7;O++)eH.push(I());for(var O=0;
O<6;O++)ic.push(M());var kz=[];for(var O=0;O<8;O++)kz.push(I());var kq=kz[4];kz[4]=kz[6];kz[6]=kq;kq=kz[5];
kz[5]=kz[7];kz[7]=kq;for(var O=0;O<8;O+=2){kz[O]+=p.OffsetX;kz[O+1]+=p.OffsetY}f.add.SoLd.Trnf=B.hL._V(kz);
f.add.SoLd.nonAffineTransform=B.hL._V(kz);if(f.rR()||j.b.sY(kz).C()<1e8)f.d7(X,!1)}if(p.TextLayerType!=null){var a7="TextLayerString",i6="TextLayerAttributes",hm=[p[a7]],bB=[p[i6]];
if(p[a7+"Array"]){F=p[a7+"Array"];r=0;while(r<F.length){var iA=z();hm.push(F.slice(r,r+iA));r+=iA}F=p[i6+"Array"];
r=0;while(r<F.length){var iA=z();bB.push(F.slice(r,r+iA));r+=iA}}var iV=f;X.u.pop();for(var eO=0;eO<hm.length;
eO++){var f=iV.P(),gn=0,a2=0;X.u.push(f);var aC=Y(bB[eO]),fq=aC.runs,bX=aC.fnts,gb=aC.bplg,dX=aC.bbox,cb=dX[2]-dX[0],e6=dX[3]-dX[1];
if(gb){gn=gb[2]-gb[0];a2=gb[3]-gb[1]}var kf=new hS;kf.translate(-cb/2,-e6/2);kf.rotate(Math.atan2(-a2,gn));
kf.translate(cb/2,e6/2);var dj=dX[0]+p.OffsetX,hr=dX[1]+p.OffsetY;kf.translate(dj,hr);f.add.lnsr="rend";
f.add.TySh=ho.DB(0,0);f.add.TySh.xa=new cS(0,0,500,500);f.add.TySh.U=kf;var iB=f.add.TySh.$E,dm=P.qV(hm[eO]);
f.Da(dm);ho.uy(iB,0,dm);ho.s2(iB,1);ho.SB(iB,[0,0,cb,e6]);if(fq)for(var O=0;O<fq.length;O++){var fr=fq[O],dv=fr[0],hw=dv+fr[1],gT=fr[2],cu=ho.RT(iB,dv,hw),ha=X.YV/72*aC.size/100;
if((gT&512)!=0)ha*=fr[6]/100;cu.Uz.FontSize=Math.round(ha);var cj=(gT&256)!=0?fr.slice(3):aC.colr;cu.Uz.FillColor={Type:1,Values:[1,cj[0]/65535,cj[1]/65535,cj[2]/65535]};
var g1=fr[7]==""?aC.font:fr[7];if(bX){if(bX[O])g1=bX[O][1];else for(var f7=0;f7<bX.length;f7++)if(bX[f7][0]==g1)g1=bX[f7][1]}ho.jl(cu,g1);
ho.WE(iB,dv,hw,cu)}if(f.S.C()==0)X.Zp=!0;else{f.S=new cS(dj,hr,cb,e6);f.buffer=j.j(f.S.C()*4);j.mR(iV.buffer,iV.S,f.buffer,f.S)}}}}var dd=h.VectorObjectList;
if(p.VectorNormalType!=null&&dd&&x(dd,"LayerId",w)){var gj=x(dd,"LayerId",w).VectorData,es=n(h,gj),hV=J(K,es);
if(hV){var fx=null;if(f.add.TySh){var fx=f.P();X.u.push(fx);delete f.add.TySh}R(f,p,hV[0]);if(f.EX()){f.U4|=24;
var hF=X.at();hF.Da(f.getName());hF.gk=f.gk;X.u.push(hF);R(hF,p,hV[0]);D(hF,hV);hF.uH(X)}else{D(f,hV,fx!=null)}f.uH(X);
if(fx){fx.add.TySh.U.concat(new hS(1,0,0,1,f.S.x+f.S.r/2,f.S.y+f.S.$/2))}}}if(cd)f.add.lmfx=u;if(w==A.CurrentLayer)X.K=[X.u.indexOf(f)];
w=p.NextIndex}}function a(h,K,X,w){h.x+=K[X+"OffscrOffsetX"]+K[w+"OffsetX"];h.y+=K[X+"OffscrOffsetY"]+K[w+"OffsetY"]}function R(h,K,X){h.add.vmsk=new Z.kf;
j.b.U(X.n,new hS(1,0,0,1,K.OffsetX,K.OffsetY),X.n);h.add.vmsk.M=j.b.RJ(X);h.ud()}function D(h,K,X){var w=K[1][0],N=K[2][0];
h.U4|=16;var s=h.add.vstk=cK.Ok.Mv(!0,!0);s.fillEnabled.v=X==!0;h.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:255,L:255,X:255})}};
s.strokeStyleContent.v.Clr.v=j.qS.NG({t:w[0],L:w[1],X:w[2]});s.strokeStyleLineWidth.v.val=N*2;s.strokeStyleLineCapType.v.strokeStyleLineCapType="strokeStyleRoundCap"}return U}();
dN.uu.aCm=function(F,r){var $={bM:F,XO:r+8},I=0;function C(W){var L=P.dj(W.bM,W.XO);W.XO+=4;return L}function M(W){var L=C(W);
if(L>200)throw L;var b=P.JH(W.bM,W.XO,L);W.XO+=L*2;return b}function l(W){var L=C(W);if(C(W)!=4)throw"e";
var c=[];for(var O=0;O<L;O++)c.push(C(W));return c}var k=P.Zq($.bM,$.XO);$.XO+=8;var d=$.XO+k;$.XO+=56;
var c=[];while($.XO<d){var Q=C($),x=$.XO+Q-4;if(x>d)throw"e";if(Q==11){$.XO-=4;var U=M($),S=C($);if(S!=12)throw"e";
var z=l($),V=M($),S=C($);if(S!=12)throw"e";var t=l($);if($.XO!=d)throw"e"}else{var Y=M($),i=C($);if(i!=I)throw i;
I++;var J=P.G2($.bM,$.XO);$.XO+=2;if(J!=0&&J!=1&&J!=2&&J!=5)throw J;var H=$.bM[$.XO++];if(H!=0&&H!=32&&H!=64)throw H;
var v=C($);if(v!=1)throw v;if(C($)!=1)throw"e";if($.bM[$.XO++]!=0)throw"e";if(C($)==1){var n=C($),G=P.cA($.bM,$.XO);
if(n!=G+4)throw"e";c.push(new Uint8Array($.bM.buffer,$.XO+4,G));$.XO+=n}else c.push(new Uint8Array(0));
var g=M($);if($.XO!=x)throw $.XO}}return c};dN.ae={};dN.ae.FK=!0;dN.ae.YH=function(F,r){var $=Date.now(),C=cq.parse(F),M=P.jF,l=P.nv,k=C.LtfHeader,d=0,I=M(k,d);
d+=4;if(I!=k.length)throw"e";var c=M(k,d);d+=4;if(c!=4609100)throw"e";var Q=M(k,d);d+=4;if(Q!=600)throw Q;
var x=l(k,d);d+=2;if(x!=2&&x!=4)throw x;var U=l(k,d);d+=2;var S=M(k,d),z=M(k,d+4);d+=8;var V=M(k,d)/1e4;
d+=8;var Q=M(k,d),x=M(k,d+4);d+=8;if(Q!=0&&Q!=1&&Q!=2)throw Q;for(var O=0;O<20;O++)if(k[d+O]!=0)throw O;
d+=20;var Q=M(k,d);d+=4;if(Q!=0&&Q!=1)throw Q;var t=M(k,d);d+=4;if(t!=0&&t!=1)throw t;for(var O=0;O<476;
O++)if(k[d+O]!=0)throw O;d+=476;var Y=d+104;r.r=S;r.$=z;r.buffer=j.j(S*z*4);var i=C.LtfMainPalette,J=C.LtfObjectList;
d=0;if(J){var bU=M(J,0);if(M(J,4)!=bU)throw"e";for(var H=0;H<bU;H++){d=8+H*192;var v=d+128;while(J[v]!=0)v+=2;
var n=P.Fz(J,d+128,v-(d+128)>>>1);dN.ae.iw(C[n],r,i)}}var G=r.at();r.u.push(G);G.Da("Background");if(C.LtfMainImage){var g=dN.ae.m$(C.LtfMainImage,null,i);
G.buffer=g[0];G.S=g[1]}else{G.S=new cS(0,0,S,z);var W=M(k,Y);dN.ae.aiU(G,i?M(i,2+W*4):W)}r.u.reverse()};
dN.ae.ahG=function(F){var r="";for(var O=0;O<F.length;O++){var $=""+F[O];while($.length<3)$=" "+$;r+=$+", "}return r};
dN.ae.iw=function(F,r,$){var C=P.jF,M=r.at(),k=0;r.u.push(M);var l=F.ObjectData;if(C(l,0)!=l.length)throw"e";
k+=4;var d=k;while(l[d]!=0)d++;M.Da(P.BW(l,k,d-k));k=d+1;if(d==5){if(l[k]!=0)throw"e";k++}var I=F.ObjectMask0,c=F.PathStream;
if(c&&I==null){var Q=M.add.vmsk=new Z.kf;Q.M=dN.ae.iC(c);M.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:l[232],L:l[233],X:l[234]})}};
M.add.vstk=cK.Ok.Mv(!0);M.uH(r)}if(I==null)return;M.S=new cS(C(I,0),C(I,4),C(I,8),C(I,12));if(F.ObjectImage){var x=dN.ae.m$(F.ObjectImage,null,$);
M.buffer=x[0]}else dN.ae.aiU(M,C(l,188));dN.ae.m$(new Uint8Array(I.buffer,16),M.buffer)};dN.ae.aiU=function(F,r){F.buffer=j.j(F.S.C()*4);
j.A9(F.buffer,255<<24|r)};dN.ae.iC=function(F){var r=P.nv,$=P.jF,C=P.JW,k=0;function M(t,Y){var i=r(t,Y),J=r(t,Y+2);
return J}var l=pako.inflate(F.slice(12));k=128;for(var O=0;O<260;O++)if(l[k+O]!=0)throw O;k+=260;if($(l,k)!=50)throw"e";
k+=4;if($(l,k)!=0)throw"e";k+=4;if($(l,k)!=0)throw"e";k+=4;var d=$(l,k);k+=4;var d=$(l,k);if(d!=106&&d!=186&&d!=196&&d!=236)throw $(l,k);
k+=4;if($(l,k)!=0)throw"e";k+=4;if($(l,k)!=24)throw"e";k+=4;if($(l,k)!=0)throw"e";k+=4;var d=$(l,k);
k+=4;var I=$(l,k);k+=4;if($(l,k)!=0)throw"e";k+=4;if($(l,k)!=0)throw"e";k+=4;if($(l,k)!=1280)throw"e";
k+=4;for(var O=0;O<24;O++)if(l[k+O]!=0)throw O;k+=24;var c=$(l,k);k+=4;if(42+c*10!=I)throw"e";var Q=$(l,k);
k+=4;var x=$(l,k);k+=4;var U=[{I:6},{I:8,all:0}];U.push({I:0,length:c,ea:0,VW:2,c5:0,QS:0});for(var O=0;
O<c;O++){var S=M(l,k+2),z=M(l,k+6),V=new hx(S,z);U.push({I:2,ni:V.P(),Z:V,Pj:V.P()});k+=10}return U};
dN.ae.m$=function(F,r,$){var C=P.jF,M=P.IX,l=dN.ae.ahG,k=0,d=C(F,k),S,z=0,R;k+=4;var I=C(F,k);k+=4;var c=C(F,k);
k+=4;var Q=C(F,k);k+=4;var x=C(F,k);k+=4;var U=d*I,V=F.length;if(U==V-20)S=new Uint8Array(F.buffer,20+F.byteOffset);
else if(c==64*64*3||r&&c==64*64){var t=dN.LD("jpg"),Y=0,i=0;S=j.j(d*I);while(k<F.length){var J=C(F,k);
k+=4;var H=t.YH(F.slice(k,k+J))[0],Q=H.$Y,v=new Uint8Array(H.data),n=r?d:d/3;for(var G=0;G<Q.$;G++)for(var g=0;
g<Q.r;g++){var W=G*Q.r+g,L=(G+i)*n+(g+Y);if(r)S[L]=v[W*4];else{S[L*3+0]=v[W*4+2];S[L*3+1]=v[W*4+1];S[L*3+2]=v[W*4+0]}}Y+=64;
if(Y>n){i+=64;Y=0}k+=J}}else{S=j.j(U);for(var W=0;W<U;W+=c){var b=W+c,T=C(F,k);k+=4;while(z<b&&k<V){var a=F[k];
k++;if(a<128)for(var O=0;O<a+1;O++){S[z++]=F[k++];if(r)continue;S[z++]=F[k++];S[z++]=F[k++]}else{a-=127;
for(var O=0;O<a;O++){S[z++]=F[k+0];if(r)continue;S[z++]=F[k+1];S[z++]=F[k+2]}k+=r?1:3}}}}if(r){for(var O=0;
O<U;O++)r[O*4+3]=S[O];return[S,new cS(0,0,d,I)]}if($){R=j.j(U*4);for(var O=0;O<U;O++){var D=O<<2,c=2+S[O]*4;
R[D]=$[c];R[D+1]=$[c+1];R[D+2]=$[c+2];R[D+3]=255}}else{d=Math.round(d/3);U=d*I;R=j.j(U*4);for(var O=0;
O<U;O++){var L=O*3,D=O<<2;R[D]=S[L];R[D+1]=S[L+1];R[D+2]=S[L+2];R[D+3]=255}}return[R,new cS(0,0,d,I)]};
dN.aqQ={};dN.aqQ.YH=function(F){var r=new Uint8Array(F),$=P.cA,k=16;if(P.BW(r,0,4)!="chlv")throw"e";
var C=$(r,4),M=$(r,8),l=$(r,12),d=[];while(k<r.length){var I=$(r,k),c=$(r,k+48),Q=$(r,k+52),x=c*Q,U=c*4,S=j.j(c*Q*4);
S.fill(255);for(var z=0;z<Q;z++)for(var V=0;V<c;V+=4){var O=z*c+V,t=O*4,Y=k+108+(O>>>2)*6;S[t]=r[Y+1];
S[t+4]=r[Y+3];S[t+8]=r[Y+4];S[t+12]=r[Y+5];for(var i=0;i<16;i+=4){S[t+i+1]=r[Y+0];S[t+i+2]=r[Y+2]}}var J=new Int8Array(S.buffer),H=new Uint8ClampedArray(S.buffer);
for(var z=0;z<Q;z++)for(var V=0;V<c;V++){var O=(z*c+V)*4,v=S[O],n=J[O+1],G=J[O+2],g=v+(45*G>>5),W=v-(11*n+23*G>>5),L=v+(113*n>>6);
H[O]=g;H[O+1]=W;H[O+2]=L}k+=I+4;d.push({$Y:new cS(0,0,c,Q),data:S.buffer,VI:"_a_"+d.length})}return d};
var jp={};jp.mE=!1;jp.a9t=!1;jp.Tu=!1;jp.Ee=document.createElement("canvas");jp.Tg=null;jp.iu=null;jp.Z7=0;
(function(){var F={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},r;if(!r)r=jp.Ee.getContext("webgl2",F);
if(r){jp.mE=!0;jp.a9t=!0;jp.Tg=r;jp.iu=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,jp.iu);
r.disable(r.BLEND);r.disable(r.DEPTH_TEST);var $=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,$);r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),r.STATIC_DRAW);
r.enableVertexAttribArray(0);r.vertexAttribPointer(0,2,r.FLOAT,!1,0,0)}}());jp.aIB=function(F){F=F.replace(/\s\s+/g," ");
F=F.replace(/; /g,";");F=F.replace(/} /g,"}");F=F.replace(/ }/g,"}");F=F.replace(/{ /g,"{");F=F.replace(/ {/g,"{");
F=F.replace(/= /g,"=");F=F.replace(/ =/g,"=");F=F.replace(/\| /g,"|");F=F.replace(/ \|/g,"|");return F};
jp.bW=function(F,r){var $=jp.Tg;if(F>$.getParameter($.MAX_TEXTURE_SIZE)){jp.mE=!1;alert("Too big texture ("+F+" px), Disabling WebGL")}if(r==16&&$.getExtension("EXT_texture_norm16")==null){jp.mE=!1;
alert("EXT_texture_norm16 missing, Disabling WebGL")}};jp.$s=function(F,r){return new Float32Array([(F.x-r.x)/r.r,(F.y-r.y)/r.$,F.r/r.r,F.$/r.$])};
jp.q6=function(){return this.Ee};jp.Tt=function(F,r){var $=jp.Tg;$.bindFramebuffer($.FRAMEBUFFER,jp.iu);
$.framebufferTexture2D($.FRAMEBUFFER,$.COLOR_ATTACHMENT0,$.TEXTURE_2D,F.VJ,0);$.viewport(0,0,F.r,F.$);
if(r){$.enable($.SCISSOR_TEST);$.scissor(r.x,r.y,r.r,r.$)}else $.disable($.SCISSOR_TEST)};jp.aIL=function(F,r,$){if($)throw"error";
var C=jp.Tg;C.disable(C.SCISSOR_TEST);C.bindFramebuffer(C.FRAMEBUFFER,null);C.viewport(0,0,F,r);if($){C.enable(C.SCISSOR_TEST);
C.scissor($.x,$.y,Math.round($.r),Math.round($.$))}else C.disable(C.SCISSOR_TEST)};jp.bg=function(){var F=jp.Tg;
F.colorMask(!1,!1,!1,!0);jp.E$(255<<24);F.colorMask(!0,!0,!0,!0)};jp.E$=function(F){var r=jp.Tg,$=(F>>>0&255)*(1/255),C=(F>>>8&255)*(1/255),M=(F>>>16&255)*(1/255),l=(F>>>24&255)*(1/255);
r.clearColor($,C,M,l);r.clear(r.COLOR_BUFFER_BIT)};jp.Pz=function(F,r,$,C,M){var l=r.R7(C);if(M)l=l.R7(M);
if(l.XS())return;var k=jp.Tg;jp.Tt(F);k.bindTexture(k.TEXTURE_2D,$.VJ);k.copyTexSubImage2D(k.TEXTURE_2D,0,l.x-C.x,l.y-C.y,l.x-r.x,l.y-r.y,l.r,l.$)};
jp.lt=function(O,F,r,$){if($==null)$=8;var C=jp.aes[O];if(C==null||C.r!=F||C.$!=r||C.depth!=$){if(C)C.delete();
C=new jp.fJ(F,r,$)}jp.aes[O]=C;return C};jp.aes=[];jp.HL=function(){this.OI=null;this.eX=null};jp.HL.s7=null;
jp.HL.prototype.De=function(F){if(this.eX)return;this.eX={};var r=jp.Tg,$=this.OI,C=this.eX;for(var O=0;
O<F.length;O++){var M=F[O];C[M]=r.getUniformLocation($,M)}};jp.HL.prototype.T6=function(){};jp.HL.prototype.Ho=function(F){var r=jp.Tg;
for(var O=0;O<F.length;O+=2){r.uniform1i(F[O],O>>>1);r.activeTexture(r["TEXTURE"+(O>>>1)]);r.bindTexture(r.TEXTURE_2D,F[O+1])}r.activeTexture(r.TEXTURE0)};
jp.HL.prototype.G7=function(F,r){var $=jp.Tg,C=$.createShader($.FRAGMENT_SHADER);$.shaderSource(C,F);
$.compileShader(C);if(!$.getShaderParameter(C,$.COMPILE_STATUS))console.log($.getShaderInfoLog(C));var M=$.createShader($.VERTEX_SHADER);
$.shaderSource(M,r);$.compileShader(M);if(!$.getShaderParameter(M,$.COMPILE_STATUS))console.log($.getShaderInfoLog(M));
var l=$.createProgram();$.attachShader(l,M);$.attachShader(l,C);$.linkProgram(l);if(!$.getProgramParameter(l,$.LINK_STATUS))console.log("Could not initialise shaders");
this.OI=l};jp.HL.prototype.BI=function(){if(jp.HL.s7!=this){jp.Tg.useProgram(this.OI);jp.HL.s7=this}};
jp.fh=function(F,r,$){jp.VY++;jp.Z7+=F*r;if(jp.Tu)console.log("GL.Channels instances: "+jp.VY+", memory: "+jp.Z7);
var C=jp.Tg;this.r=F;this.$=r;if($==null)$=8;if($==16){C.getExtension("EXT_texture_norm16")}this.depth=$;
this.C1=$==8?C.R8:$==16?33322:C.R32F;this.WH=$==8?C.RED:$==16?C.RED:C.RED;this.PY=$==8?C.UNSIGNED_BYTE:$==16?C.UNSIGNED_SHORT:C.FLOAT;
this.VJ=C.createTexture();this.ad=null;this.jm(this.VJ,F,r)};jp.fh.prototype.jm=function(F,r,$){var C=jp.Tg;
C.bindTexture(C.TEXTURE_2D,F);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.NEAREST);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST);
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE);
C.texImage2D(C.TEXTURE_2D,0,this.C1,r,$,0,this.WH,this.PY,null)};jp.fh.prototype.set=function(F,r){var $=jp.Tg;
$.bindTexture($.TEXTURE_2D,this.VJ);$.pixelStorei($.UNPACK_ALIGNMENT,1);var C=this.r*this.$;if(r==null||r.C()*10>C)$.texImage2D($.TEXTURE_2D,0,this.C1,this.r,this.$,0,this.WH,this.PY,F);
else{var M=new cS(0,0,this.r,this.$),l=j.j(r.C(),this.depth);j.wU(F,M,l,r);$.texSubImage2D($.TEXTURE_2D,0,r.x,r.y,r.r,r.$,this.WH,this.PY,l)}$.pixelStorei($.UNPACK_ALIGNMENT,4)};
jp.fh.prototype.delete=function(){var F=jp.Tg;if(this.VJ){F.deleteTexture(this.VJ);jp.VY--;jp.Z7-=this.r*this.$}if(jp.Tu)if(jp.Tu)console.log("GL.Channels instances: "+jp.VY+", memory: "+jp.Z7*4)};
jp.VY=0;jp.fJ=function(F,r,$,C){if($==null)$=8;if(C==null)C=!1;jp.VY++;jp.Z7+=F*r*4;if(jp.Tu)console.log("GL.Channels instances: "+jp.VY+", memory: "+jp.Z7);
var M=jp.Tg;if($==16){M.getExtension("EXT_texture_norm16")}if($==32){M.getExtension("EXT_color_buffer_float");
if(M.getExtension("OES_texture_float_linear")==null)C=!1}this.acR=C;this.r=F;this.$=r;this.depth=$;this.C1=$==8?M.RGBA:$==16?32859:$==32?M.RGBA32F:M.RGBA16F;
this.WH=$==8?M.RGBA:$==16?M.RGBA:M.RGBA;this.PY=$==8?M.UNSIGNED_BYTE:$==16?M.UNSIGNED_SHORT:M.FLOAT;
this.VJ=M.createTexture();this.ad=null;this.jm(this.VJ,F,r)};jp.jn=function(){var F=jp.Tg;return F.getExtension("OES_texture_float_linear")?32:33};
jp.fJ.prototype.set=function(F,r){var $=jp.Tg;$.disable($.SCISSOR_TEST);$.bindTexture($.TEXTURE_2D,this.VJ);
if(F==null||F instanceof Uint8Array||F instanceof Uint16Array||F instanceof Float32Array){var C=this.r,M=this.$,l=C*M;
if((r==null||r.C()*10>l)&&(F==null||F.length>=l*4))$.texImage2D($.TEXTURE_2D,0,this.C1,C,M,0,this.WH,this.PY,F);
else{var k=F;if(F.length==l*4){var k=j.j(r.C()*4,this.depth);j.mR(F,new cS(0,0,C,M),k,r)}$.texSubImage2D($.TEXTURE_2D,0,r.x,r.y,r.r,r.$,this.WH,this.PY,k)}}else $.texImage2D($.TEXTURE_2D,0,this.C1,this.WH,this.PY,F)};
jp.fJ.prototype.get=function(F){var r=jp.Tg;jp.Tt(this);r.readPixels(0,0,this.r,this.$,this.WH,this.PY,F)};
jp.fJ.prototype.eR=function(F){if(F.XS())return;var r=jp.Tg;if(this.ad==null){this.ad=r.createTexture();
this.jm(this.ad,this.r,this.$);jp.VY++;jp.Z7+=this.r*this.$*4}r.bindFramebuffer(r.FRAMEBUFFER,jp.iu);
r.bindTexture(r.TEXTURE_2D,this.ad);if(F){var $=Math.max(F.x,0),C=Math.max(F.y,0);r.copyTexSubImage2D(r.TEXTURE_2D,0,$,C,$,C,F.r,F.$)}else r.copyTexImage2D(r.TEXTURE_2D,0,this.WH,0,0,this.r,this.$,0)};
jp.fJ.prototype.jm=function(F,r,$){var C=jp.Tg;C.bindTexture(C.TEXTURE_2D,F);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,this.acR?C.LINEAR:C.NEAREST);
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,C.NEAREST);C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE);
C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE);C.texImage2D(C.TEXTURE_2D,0,this.C1,r,$,0,this.WH,this.PY,null)};
jp.fJ.prototype.delete=function(){var F=jp.Tg;if(this.VJ){F.deleteTexture(this.VJ);jp.VY--;jp.Z7-=this.r*this.$*4}if(this.ad){F.deleteTexture(this.ad);
jp.VY--;jp.Z7-=this.r*this.$*4}if(jp.Tu)if(jp.Tu)console.log("GL.Channels instances: "+jp.VY+", memory: "+jp.Z7)};
jp.fJ.prototype.P=function(){var F=jp.Tg,r=new jp.fJ(this.r,this.$);jp.Tt(this);F.bindTexture(F.TEXTURE_2D,r.VJ);
F.copyTexImage2D(F.TEXTURE_2D,0,this.WH,0,0,this.r,this.$,0);return r};jp.Aj={azZ:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",aJZ:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",fj:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",DN:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",aut:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",Xs:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",eN:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",m8:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",aHn:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",bS:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",anw:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",CA:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",arh:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",Cg:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",dn:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",EG:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",nc:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",To:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",fX:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",aaF:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",ayS:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",$u:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",aJe:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R);  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, (ir    + fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, (ir+1.0+ fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,clamp(R-ir,0.0,1.0));  \t\t\t\treturn rs;  \t\t\t}"};
jp.v={};jp.v.IH={};jp.v.azt=null;jp.v.lR=null;jp.v.kP=null;jp.v.aEv=function(F,r,$,C,M,l,k,d){if(d==null)d=en.bX();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(F)==-1){k=k*d.fill;d.fill=1;d.style=!1}var I=F+(d.Ch?"1":"");
if(jp.v.IH[I]==null)jp.v.IH[I]=new jp.v.xt(F,d.Ch!=null);var c=jp.v.IH[I],Q=$.R7(M).R7(l);Q.offset(-M.x,-M.y);
if(Q.XS())return;var x=jp.Tg;jp.Tt(C,Q);C.eR(Q);c.BI();c.T6(r.VJ,C.ad,jp.$s($,M),k,d.fill,d.style?1:0,d.l_?1:0,d.Ch?new Float32Array(d.Ch):null);
x.drawArrays(x.TRIANGLES,0,6)};jp.v.I1=function(F,r,$,C,M,l,k,d,I,c,Q){if(jp.v.ajb==null)jp.v.ajb=new jp.v.X4(!0,!0,1);
if(jp.v.ah0==null)jp.v.ah0=new jp.v.X4(!0,!0,4);if(jp.v.lR==null)jp.v.lR=new jp.v.X4(!0,!1,1);if(jp.v.kP==null)jp.v.kP=new jp.v.X4(!1,!0,1);
var x=c?1:0,U=F?M?M instanceof jp.fh?jp.v.ajb:jp.v.ah0:jp.v.lR:jp.v.kP,S=new Float32Array(Q?[Q[0],Q[1],Q[2],1]:[1,1,1,1]),z=r?r.R7(C).R7(d):C.R7(d);
if(z.XS())return;z.offset(-C.x,-C.y);var V=jp.Tg;jp.Tt($,z);$.eR(z);U.BI();if(F==null)U.T6(null,$.ad,M.VJ,jp.$s(C,C),jp.$s(l,C),k/255,I,x,S);
else if(M)U.T6(F.VJ,$.ad,M.VJ,jp.$s(r,C),jp.$s(l,C),k/255,I,x,S);else U.T6(F.VJ,$.ad,null,jp.$s(r,C),null,k/255,I,x,S);
V.drawArrays(V.TRIANGLES,0,6)};jp.v.a6i=function(F,r,$){if(jp.v.apR==null)jp.v.apR=new jp.v.Mb;var C=jp.v.apR,M=new cS(0,0,F.r,F.$),l=jp.Tg;
jp.Tt(r);r.eR(M);C.BI();C.T6(M,F.VJ,r.ad,$.VJ);l.drawArrays(l.TRIANGLES,0,6)};jp.v.EO={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
jp.v.xt=function(F,r){jp.HL.call(this);var $="\t\t\tprecision highp float;\t\t\t"+jp.Aj.fj+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(r?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+jp.Aj.Xs+"\t\t\t"+jp.Aj.eN+"\t\t\t"+jp.Aj.m8+"\t\t\t"+jp.Aj.azZ+"\t\t\t"+jp.Aj.aJZ+"\t\t\t"+jp.Aj.aHn+"\t\t\t"+jp.Aj.bS+"\t\t\t"+jp.Aj.anw+"\t\t\t"+jp.Aj.CA+"\t\t\t"+jp.Aj.hash+"\t\t\t"+(r?jp.Aj.$u:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+jp.v.EO[F]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",C="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(F=="diss")$+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else $+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(r?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.G7($,C)};jp.v.xt.prototype=new jp.HL;jp.v.xt.prototype.T6=function(F,r,$,C,M,l,k,d){this.De("srct alpha source target fill style keepBGA blIf".split(" "));
var I=jp.Tg,c=this.eX;I.uniform4fv(c.srct,$);I.uniform1f(c.alpha,C);I.uniform1f(c.fill,M);I.uniform1f(c.style,l);
I.uniform1f(c.keepBGA,k);if(d)I.uniform4fv(c.blIf,d);this.Ho([c.source,F,c.target,r])};jp.v.X4=function(F,r,$){jp.HL.call(this);
this.alQ=F;this.qq=r;var C="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+jp.Aj.arh+"\t\t\t"+jp.Aj.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(F?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(r?"* (in01(wCoord) ? texture2D(weight, wCoord)."+($==1?"r":"a")+" : wcolor)":"")+";\t\t\t\t"+(F?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( ao==0.0 ? vec3(0,0,0) : (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(r?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",M="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.G7(C,M)};jp.v.X4.prototype=new jp.HL;jp.v.X4.prototype.T6=function(F,r,$,C,M,l,k,d,I){if(this.qq)this.De("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.De("srct awg dissv source target cswitch".split(" "));var c=jp.Tg,Q=this.eX;c.uniform4fv(Q.srct,C);
if(this.qq){c.uniform4fv(Q.wrct,M);c.uniform1f(Q.wcolor,l)}else{c.uniform4fv(Q.cswitch,I)}c.uniform1f(Q.awg,k);
c.uniform1f(Q.dissv,d);var x=[Q.source,F,Q.target,r];if(this.qq)x.push(Q.weight,$);this.Ho(x)};jp.v.Mb=function(){jp.HL.call(this);
var F="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).r; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",r="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.G7(F,r)};jp.v.Mb.prototype=new jp.HL;jp.v.Mb.prototype.T6=function(F,r,$,C){this.De(["rct","prev","next","alpha"]);
var M=jp.Tg,l=this.eX;M.uniform4fv(l.rct,[0,0,1,1]);this.Ho([l.prev,r,l.next,$,l.alpha,C])};jp.yn={MA:{},b8:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
jp.yn.xl=function(F,r){var $=f0.HN,C=[$.go,$.tX,$.MP,$.R4,$.br,$.CD,$.Ms,$.e3].indexOf(F.I),M=jp.yn.MA[F.I];
if(M==null)M=jp.yn.MA[F.I]=new jp.MA[C];M.BI();M.T6(r,F);jp.Tg.drawArrays(jp.Tg.TRIANGLES,0,6)};jp.MA=[];
jp.MA[0]=function(){jp.HL.call(this);this.ak6={};var F="\t\t\tprecision highp float;\t\t\t"+jp.Aj.eN+"\t\t\t"+jp.Aj.fj+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2((0.5/256.0)+src.r*(255.0/256.0), 0)).r;\t\t\t\tfloat g = texture2D(map, vec2((0.5/256.0)+src.g*(255.0/256.0), 0)).g;\t\t\t\tfloat b = texture2D(map, vec2((0.5/256.0)+src.b*(255.0/256.0), 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.G7(F,jp.yn.b8)};jp.MA[0].prototype=new jp.HL;jp.MA[0].prototype.T6=function(F,r){var $={t:r.qs,L:r.Cx,X:r.uN,xz:new Float32Array(r.qs.length)};
$.xz.fill(1);var C=$.t.length,M=this.ak6["m"+C];if(M==null)M=this.ak6["m"+C]={ahb:new jp.fJ(C,1,jp.jn()),fU:j.j(C*4,32)};
j.TP($,M.fU);var l=M.ahb;l.set(M.fU);this.De(["source","map","toGray","presLum"]);var k=jp.Tg,d=this.eX;
k.uniform1f(d.toGray,r.Ia?1:0);k.uniform1f(d.presLum,r.YU?1:0);this.Ho([d.source,F,d.map,l.VJ]);k.activeTexture(k.TEXTURE1);
var I=k.LINEAR;k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,I);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,I);
k.activeTexture(k.TEXTURE0)};jp.MA[1]=function(){jp.HL.call(this);this.Il=new jp.fJ(256,1,32);this.a9n=j.j(256*4,32);
var F="\t\t\t\tprecision mediump float;\t\t\t\t"+jp.Aj.EG+"\t\t\t\t"+jp.Aj.Cg+"\t\t\t\t"+jp.Aj.dn+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g; \t\t\t\t\tfloat lc = mapv.b; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.G7(F,jp.yn.b8)};jp.MA[1].prototype=new jp.HL;jp.MA[1].prototype.T6=function(F,r){j.TP({t:r.a5W,L:r.Vi,X:r.azW,xz:j.j(256,j.cN(r.Vi))},this.a9n);
this.Il.set(this.a9n);this.De(["source","map","cfa","cfb","colorize"]);var $=jp.Tg,C=this.eX;$.uniform1f(C.cfa,r.ahU);
$.uniform1f(C.cfb,r.Hr);$.uniform1i(C.colorize,r.asZ);this.Ho([C.source,F,C.map,this.Il.VJ])};jp.MA[2]=function(){jp.HL.call(this);
var F="\t\t\tprecision mediump float;\t\t\t"+jp.Aj.EG+"\t\t\t"+jp.Aj.nc+"\t\t\t"+jp.Aj.To+"\t\t\t"+jp.Aj.Cg+"\t\t\t"+jp.Aj.dn+"\t\t\t"+jp.Aj.aaF+"\t\t\t"+jp.Aj.ayS+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.G7(F,jp.yn.b8)};jp.MA[2].prototype=new jp.HL;jp.MA[2].prototype.T6=function(F,r){this.De(["source","vib","sat","yF"]);
var $=jp.Tg,C=this.eX;$.uniform1f(C.vib,r.jg[0]);$.uniform1f(C.sat,r.jg[1]);$.uniform3fv(C.yF,new Float32Array([r.jg[2],r.jg[3],r.jg[3]]));
this.Ho([C.source,F])};jp.MA[3]=function(){jp.HL.call(this);var F="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.G7(F,jp.yn.b8)};jp.MA[3].prototype=new jp.HL;jp.MA[3].prototype.T6=function(F,r){this.De(["source","trf"]);
var $=jp.Tg,C=this.eX;$.uniformMatrix4fv(C.trf,!1,new Float32Array(j.t3.Mk(r.VF)));this.Ho([C.source,F])};
jp.MA[4]=function(){jp.HL.call(this);var F="\t\t\tprecision mediump float; \t\t\t"+jp.Aj.fX+"\t\t\t"+jp.Aj.EG+"\t\t\t"+jp.Aj.dn+"\t\t\t"+jp.Aj.Cg+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.G7(F,jp.yn.b8)};jp.MA[4].prototype=new jp.HL;jp.MA[4].prototype.T6=function(F,r){this.De(["source","mnm","mxm","shift","lim"]);
var $=jp.Tg,C=this.eX;$.uniform3fv(C.mnm,new Float32Array(r.SL));$.uniform3fv(C.mxm,new Float32Array(r.xH));
$.uniform3fv(C.shift,new Float32Array(r.shift));$.uniform1f(C.lim,r.xp);this.Ho([C.source,F])};jp.MA[5]=function(){jp.HL.call(this);
var F="\t\t\tprecision mediump float;\t\t\t"+jp.Aj.fj+"\t\t\t"+jp.Aj.DN+"\t\t\t"+jp.Aj.aut+"\t\t\t"+jp.Aj.Cg+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.G7(F,jp.yn.b8)};jp.MA[5].prototype=new jp.HL;jp.MA[5].prototype.T6=function(F,r){this.De(["source","cfs"]);
var $=jp.Tg,C=this.eX;$.uniform3fv(C.cfs,r.acH);this.Ho([C.source,F])};jp.MA[6]=function(){jp.HL.call(this);
var F="\t\t\tprecision mediump float;\t\t\t"+jp.Aj.EG+"\t\t\t"+jp.Aj.DN+"\t\t\t"+jp.Aj.aut+"\t\t\t"+jp.Aj.Cg+"\t\t\t"+jp.Aj.dn+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.G7(F,jp.yn.b8)};jp.MA[6].prototype=new jp.HL;jp.MA[6].prototype.T6=function(F,r){this.De(["source","wght","prms"]);
var $=jp.Tg,C=this.eX,M=[r.Iw,r.abI,r.eN,r.ak2,r.cc,r.a6P];$.uniform1fv(C.wght,new Float32Array(r.agE));
$.uniform1fv(C.prms,new Float32Array(M));this.Ho([C.source,F])};jp.MA[7]=function(){jp.HL.call(this);
this.fb={};var F="\t\t\tprecision mediump float;\t\t\t"+jp.Aj.aJe+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.G7(F,jp.yn.b8)};jp.MA[7].prototype=new jp.HL;jp.MA[7].prototype.T6=function(F,r){this.De(["source","lut","N"]);
var $=jp.Tg,C=this.eX,M=r.ls,l=r.PF;if(this.fb["m"+M]==null)this.fb["m"+M]=new jp.fJ(M,M*M,jp.jn());
var k=this.fb["m"+M];k.set(l);$.uniform1f(C.N,M);this.Ho([C.source,F,C.lut,k.VJ]);$.activeTexture($.TEXTURE1);
var d=$.LINEAR;$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,d);$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,d);
$.activeTexture($.TEXTURE0)};jp.filter={y$:{},b8:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",a7x:0,aJC:1,HT:2,ago:8,a0A:3,a8B:4,a4M:5,Q2:6,aaV:7};
jp.filter.xl=function(F,r){var $=jp.filter,C,M=F.I+":"+(F.U9?F.U9.join(","):""),C=jp.filter.y$[M];if(C==null)C=jp.filter.y$[M]=new jp.y$[F.I](F.U9);
C.BI();C.T6(r,F);jp.Tg.drawArrays(jp.Tg.TRIANGLES,0,6)};jp.y$=[0,0,0,0,0,0,0,0,0,0,0,0];jp.y$[7]=function(){jp.HL.call(this);
var F="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.G7(b3.kd(F),b3.kd(jp.filter.b8))};jp.y$[7].prototype=new jp.HL;jp.y$[7].prototype.T6=function(F,r){this.De(["source","iwh","kern"]);
var $=jp.Tg,C=this.eX;$.uniform2fv(C.iwh,r.Hb);$.uniform1fv(C.kern,r.aef);this.Ho([C.source,F])};jp.y$[6]=function(F){jp.HL.call(this);
var r=F[0],$=F[1],C=F[2],M="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",l=b3.kd(M);
l=l.replaceAll("PRC",C+".0");l=l.replaceAll("DIR",["x,0","0,x"][$]);this.G7(l,jp.yn.b8)};jp.y$[6].prototype=new jp.HL;
jp.y$[6].prototype.T6=function(F,r){this.De(["source","iwh","rad"]);var $=jp.Tg,C=this.eX;$.uniform2fv(C.iwh,r.Hb);
$.uniform1f(C.rad,r.aQ);this.Ho([C.source,F])};jp.y$[4]=function(F){jp.HL.call(this);var r=F[0],$=F[1],C="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+F[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][$]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][r]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][$]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+($==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.G7(C,jp.yn.b8)};jp.y$[4].prototype=new jp.HL;jp.y$[4].prototype.T6=function(F,r){this.De(["source","iwh","rrad","tr"]);
var $=jp.Tg,C=this.eX;$.uniform2fv(C.iwh,r.Hb);$.uniform1f(C.rrad,r.D6);$.uniform1f(C.tr,r.a8Q);this.Ho([C.source,F]);
var M=$.LINEAR;M=$.NEAREST;$.activeTexture($.TEXTURE0);$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,M);
$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,M);$.activeTexture($.TEXTURE0)};jp.y$[5]=function(){jp.HL.call(this);
var F="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.G7(b3.kd(F),b3.kd(jp.filter.b8))};jp.y$[5].prototype=new jp.HL;jp.y$[5].prototype.T6=function(F,r){this.De(["source","ssum","iwh","amnt","edgf"]);
var $=jp.Tg,C=this.eX;$.uniform2fv(C.iwh,r.Hb);$.uniform1f(C.amnt,r.a9L);$.uniform1f(C.edgf,r.aHh);this.Ho([C.source,F,C.ssum,r.aEC])};
jp.y$[3]=function(){jp.HL.call(this);var F="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.G7(b3.kd(F),b3.kd(jp.filter.b8))};jp.y$[3].prototype=new jp.HL;jp.y$[3].prototype.T6=function(F,r){this.De("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var $=jp.Tg,C=this.eX;$.uniform2fv(C.iwh,r.Hb);$.uniform1f(C.tdep,r.ahZ);$.uniform1f(C.rrad,r.D6);$.uniform2fv(C.spec,r.aGq);
$.uniform3fv(C.nois,r.ax$);$.uniformMatrix4fv(C.poly0,!1,r.aHu);$.uniformMatrix4fv(C.poly1,!1,r.acV);
this.Ho([C.source,F]);var M=$.LINEAR;$.activeTexture($.TEXTURE0);$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,M);
$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,M);$.activeTexture($.TEXTURE0)};jp.y$[0]=function(){jp.HL.call(this);
var F="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.G7(b3.kd(F),b3.kd(jp.filter.b8))};jp.y$[0].prototype=new jp.HL;jp.y$[0].prototype.T6=function(F,r){this.De(["source","iwh","ld","shine"]);
var $=jp.Tg,C=this.eX;$.uniform2fv(C.iwh,r.Hb);$.uniform3fv(C.ld,r.aHR);$.uniform1f(C.shine,r.ans);this.Ho([C.source,F,C.tang,r.Ts])};
jp.y$[1]=function(){jp.HL.call(this);var F="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.G7(b3.kd(F),b3.kd(jp.filter.b8))};jp.y$[1].prototype=new jp.HL;jp.y$[1].prototype.T6=function(F,r){this.De(["source","iwh","isc","bristle"]);
var $=jp.Tg,C=this.eX;$.uniform2fv(C.iwh,r.Hb);$.uniform1f(C.isc,r.amH);$.uniform1f(C.bristle,r.afV);
this.Ho([C.source,F])};jp.y$[2]=function(){jp.HL.call(this);var F="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.G7(b3.kd(F),b3.kd(jp.filter.b8))};jp.y$[2].prototype=new jp.HL;jp.y$[2].prototype.T6=function(F,r){this.De(["source","tang","iwh","sigma","expo"]);
var $=jp.Tg,C=this.eX;$.uniform2fv(C.iwh,r.Hb);$.uniform1f(C.sigma,r.z3);$.uniform1f(C.expo,r.mP);this.Ho([C.source,F,C.tang,r.Ts]);
var M=$.LINEAR;$.activeTexture($.TEXTURE0);$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,M);$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,M);
$.activeTexture($.TEXTURE0)};jp.y$[8]=function(){jp.HL.call(this);var F="n\\[KFIPCFBP;0,.7,,8{~~m}A#ukc]cc[j[FOOH>HdsL=693! R4'|tnttl{lW``YOYu%]O9C9iK>4,&,,$3'rm9$juc3tg]UOUUM\\@CC2BJ;.),|S5)p~#oqg|p\\W#m^+TQQ@sUI?6.F1\"')?+!wo1%}~beeTdlR^!TGBE6\\B503$Z< ##q\"*z{!;z)#\"*k_KFs\\MLAPjJ<*:31+zDS4|uxr`_#sd1ZWWFgvXL83`I;%@Z:,y*#!zj4C$mWaWxiZ'PMM<]lNB.)T?#*6P0?87.)r\\&mk{bNItglgk_`[_PM\\>2}xD/p)C#fm5vZ``rQSV^EuemO6eX^@'EB=1*+~je1{iu0o`-VSSBuW;AAS/22!19)P@;:B$s:-(%\"|{$eUjgbVOPD0+VA, 8R2A:90+tbrkicS|,lV@J@aR@UW?=M4 zF9>9=12-1\"~.oVPnHPRbE9]3TdUPOE923}qG4qe9zutVn)hSGz\\JV^mM8,N+6$S5&%y)1@ q_ohf`Py)iRKNH65XI7L[=./?<I+qk*q:6^jxlLYIBIuWRQ3hU,3Z<76z|lPyehAjdddn)hYXMfaga`\\>?M\\>9";
this.G7(b3.iE(F),b3.kd(jp.filter.b8))};jp.y$[8].prototype=new jp.HL;jp.y$[8].prototype.T6=function(F,r){this.De(["source","tang","iwh","sigma"]);
var $=jp.Tg,C=this.eX;$.uniform2fv(C.iwh,r.Hb);$.uniform1f(C.sigma,r.z3);this.Ho([C.source,F,C.tang,r.Ts]);
var M=$.LINEAR;$.activeTexture($.TEXTURE0);$.texParameteri($.TEXTURE_2D,$.TEXTURE_MIN_FILTER,M);$.texParameteri($.TEXTURE_2D,$.TEXTURE_MAG_FILTER,M);
$.activeTexture($.TEXTURE0)};function j(){}j.F={};j.a2d={};j.N=function(F){return JSON.parse(JSON.stringify(F))};
j.cN=function(F){if(F instanceof jp.fJ)return F.depth;return F instanceof Float32Array?32:F instanceof Uint16Array?16:8};
j.zV=function(F){return F==8?255:F==16?65535:1};j.Mz=function(F,r,$){var C=j.cN(F),M=F.length;if(C==r)return F;
if($==null)$=j.j(M,r);if(r==8){if(C==16)for(var O=0;O<M;O++)$[O]=F[O]>>>8;if(C==32)for(var O=0;O<M;O++)$[O]=~~(.5+255*F[O])}else if(r==16){if(C==8)for(var O=0;
O<M;O++)$[O]=F[O]<<8|F[O];if(C==32)for(var O=0;O<M;O++)$[O]=65535*F[O]}else if(r==32){if(C==8)for(var O=0;
O<M;O++)$[O]=F[O]*(1/255);if(C==16)for(var O=0;O<M;O++)$[O]=F[O]*(1/65535)}return $};j.aJ2=function(F,r){for(var O=0;
O<F.length;O+=2)F[O]=j.Mz(F[O],r)};j.aIq=function(){var F=[64,64,128,256,512,1024,2048],r=[];for(var O=0;
O<F.length;O++){var $=F[O],C=document.createElement("canvas");C.width=$;C.height=$;r.push(C.getContext("2d",{willReadFrequently:!0}))}return r}();
j.q6=function(F,r){var $,C=j.aIq,O=1,M=Math.max(F,r);while(O<C.length&&M>C[O].canvas.width)O++;if(O==C.length){$=C[0];
var l=$.canvas;l.width=F;l.height=r}else{$=C[O];$.clearRect(0,0,F,r)}return $};j.DE=function(F,r,$,C){if(C==null)C=new Uint32Array(r*$);
C[0]=F[0];for(var M=1;M<r;M++)C[M]=C[M-1]+F[M];for(var l=1;l<$;l++){var O=l*r;C[O]=C[O-r]+F[O];for(var M=1;
M<r;M++)C[O+M]=F[O+M]+C[O+M-1]+C[O+M-r]-C[O+M-r-1]}return C};j.in=function(F,r,$,C,M,l){var k=(M-1)*r,d=l*r;
return F[d+C]-F[d+$-1]-F[k+C]+F[k+$-1]};j.ak9=function(F,r,$,C){var M=r*4;if(C==null)C=new Uint32Array(r*$*4);
C[0]=F[0];C[1]=F[1];C[2]=F[2];C[3]=F[3];for(var l=1;l<r;l++)j.aAa(F,C,4,l<<2);for(var k=1;k<$;k++){var O=k*r<<2;
j.aAa(F,C,M,O);for(var l=4;l<M;l+=4){var d=O+l;C[d]=F[d]+C[d-4]+C[d-M]-C[d-M-4];C[d+1]=F[d+1]+C[d-3]+C[d-M+1]-C[d-M-3];
C[d+2]=F[d+2]+C[d-2]+C[d-M+2]-C[d-M-2];C[d+3]=F[d+3]+C[d-1]+C[d-M+3]-C[d-M-1]}}return C};j.aAa=function(F,r,$,O){r[O]=r[O-$]+F[O];
r[O+1]=r[O-$+1]+F[O+1];r[O+2]=r[O-$+2]+F[O+2];r[O+3]=r[O-$+3]+F[O+3]};j.aix=function(F,r,$,C,M,l){var k=M+$<<2,d=M+r<<2,I=C+$<<2,c=C+r<<2;
l[0]+=F[k]-F[d]-F[I]+F[c];l[1]+=F[k+1]-F[d+1]-F[I+1]+F[c+1];l[2]+=F[k+2]-F[d+2]-F[I+2]+F[c+2];l[3]+=F[k+3]-F[d+3]-F[I+3]+F[c+3]};
j.DG=function(F,r,$){var C={},M=0,l=0,k=new Uint32Array(F.buffer),d=k.length,I=Date.now();for(var c=1;
c<$-1;c++)for(var Q=1;Q<r-1;Q++){var x=c*r+Q,U=k[x];if(U>>>24<230)l++;if(C[U]==null){C[U]=!0;M++}}if(l!=0||M<20)return!1;
return!0};j.HG=function(F,r,$,C,M,l){if(M==null)M=l=0;var k=Math.round(Math.log(C)/Math.log(2)),d=new Uint32Array(F.buffer);
for(var O=0;O<$;O++)for(var I=0;I<r;I++){d[O*r+I]=j.a2a(O+l,I+M,k)}};j.adT=function(O,F,r){return 255-((O>>>r)+(F>>>r)&1)*51};
j.a2a=function(O,F,r){return 4294967295-((O>>>r)+(F>>>r)&1)*3355443};j.iW=function(F,r){var $=r==null?1:r/255;
return{t:(F>>>16&255)*$,L:(F>>>8&255)*$,X:(F&255)*$}};j.Vw=function(F,r){var $=r==null?1:255/r;return Math.round(F.t*$)<<16|Math.round(F.L*$)<<8|Math.round(F.X*$)};
j.lN=function(F){var r=F.toString(16);while(r.length<6)r="0"+r;return r};j.akE=function(F){return parseInt(F,16)};
j.eN=function(F){return.3*F.t+.59*F.L+.11*F.X};j.Xs=function(F){return Math.max(F.t,F.L,F.X)-Math.min(F.t,F.L,F.X)};
j.er=function(F,r,$){return.3*F+.59*r+.11*$};j.aEY=function(F,r,$){return Math.max(F,r,$)-Math.min(F,r,$)};
j.DN=function(F,r){var $=r-F,C=Math.abs($),M=$-1,l=$+1;if(Math.abs(M)<C)$=M;else if(Math.abs(l)<C)$=l;
return $};j.Wg=function(F){return F<.0031308?12.92*F:1.055*Math.pow(F,1/2.4)-.055};j.Fy=function(F){return F<.04045?F/12.92:Math.pow((F+.055)/1.055,2.4)};
j.afl=function(F,r){var $=Math.min(F.length,r.length);for(var O=0;O<$;O+=4){var C=F[O],M=F[O+1],l=F[O+2];
r[O]=16+Math.floor(65.481/255*C+128.553/255*M+24.966/255*l+.5);r[O+1]=128-Math.floor(37.797/255*C-74.203/255*M+112/255*l+.5);
r[O+2]=128+Math.floor(112/255*C-93.786/255*M-18.214/255*l+.5);r[O+3]=F[O+3]}};j.apa=function(F,r,$){var C,M,l,k=Math.max(F,r,$),d=Math.min(F,r,$);
l=k;if(k!=0)M=(k-d)/k;else M=0;if(M==0)C=0;else{var I=k-d,c=(k-F)/I,Q=(k-r)/I,x=(k-$)/I;if(F==k)C=x-Q;
else if(r==k)C=2+c-x;else C=4+Q-c;C*=1/6;if(C<0)C=C+1}return{Y9:C,cG:M,X:l}};j.aJV=function(F,r,$){var C=0,M=0,l=0;
if(r==0)C=M=l=$;else{var k=(F-Math.floor(F))*6,d=Math.floor(k),I=k-Math.floor(k),c=$*(1-r),Q=$*(1-r*I),x=$*(1-r*(1-I));
switch(d){case 0:C=$;M=x;l=c;break;case 1:C=Q;M=$;l=c;break;case 2:C=c;M=$;l=x;break;case 3:C=c;M=Q;
l=$;break;case 4:C=x;M=c;l=$;break;case 5:C=$;M=c;l=Q;break}}return{t:C,L:M,X:l}};j.Cg=function(F,r,$){var C=Math.max(F,r,$),M=Math.min(F,r,$),l=0,k=0,d=(C+M)*.5;
if(C!=M){var I=C-M;k=d>.5?I/(2-(C+M)):I/(C+M);switch(C){case F:l=(r-$)/I+(r<$?6:0);break;case r:l=($-F)/I+2;
break;case $:l=(F-r)/I+4;break}l*=1/6}return{Y9:l,cG:k,v_:d}};j.dn=function(F,r,$){var C,M,l;if(r==0)C=M=l=$;
else{var k=$<.5?$*(1+r):$+r-$*r,d=2*$-k;C=j.EG(d,k,F+1/3);M=j.EG(d,k,F);l=j.EG(d,k,F-1/3)}return{t:C,L:M,X:l}};
j.EG=function(F,r,$){if($<0)$+=1;if($>1)$-=1;if($<1/6)return F+(r-F)*6*$;if($<1/2)return r;if($<2/3)return F+(r-F)*(2/3-$)*6;
return F};j.nc=function(F,r,$){var C=Math.max(F,r,$),M=Math.min(F,r,$),l,k,d=C,I=C-M;k=C==0?0:I/C;if(C==M)l=0;
else{switch(C){case F:l=(r-$)/I+(r<$?6:0);break;case r:l=($-F)/I+2;break;case $:l=(F-r)/I+4;break}l*=1/6}return{Y9:l,cG:k,rY:d}};
j.To=function(F,r,$){var C,M,l,O,k,d,I,c;O=Math.floor(F*6);k=F*6-O;d=$*(1-r);I=$*(1-k*r);c=$*(1-(1-k)*r);
switch(O%6){case 0:C=$,M=c,l=d;break;case 1:C=I,M=$,l=d;break;case 2:C=d,M=$,l=c;break;case 3:C=d,M=I,l=$;
break;case 4:C=c,M=d,l=$;break;case 5:C=$,M=d,l=I;break}return{t:C,L:M,X:l}};j.l6=function(){var F=[],r=[];
for(var O=0;O<8e3;O++){var $=O*(1/4e3);F[O]=j.Fy($);r[O]=$>.008856?Math.pow($,1/3):(903.3*$+16)*(1/116)}return[F,r]}();
j.fX=function(F,r,$,C){if(C==null)C=[.9642,1,.8249];var M=j.l6[0],l=j.l6[1];F=M[~~(.5+F*(4e3/255))];
r=M[~~(.5+r*(4e3/255))];$=M[~~(.5+$*(4e3/255))];var k=j.t3.a7f,d=k[0]*F+k[1]*r+k[2]*$,I=k[4]*F+k[5]*r+k[6]*$,c=k[8]*F+k[9]*r+k[10]*$;
d=d*(1/C[0]);I=I*(1/C[1]);c=c*(1/C[2]);return j.asK(d,I,c)};j.asK=function(F,r,$){var C=j.l6[1],M=C[~~(.5+F*4e3)],l=C[~~(.5+r*4e3)],k=C[~~(.5+$*4e3)];
return{tr:116*l-16,xz:500*(M-l),X:200*(l-k)}};j.dW=function(F,r,$){var C=903.3,M=.008856,l=(F+16)/116,k=l*l*l,d=l-$/200,I=d*d*d,c=r/500+l,Q=c*c*c,x=I>M?I:(116*d-16)/C,U=k>M?k:(116*l-16)/C,S=Q>M?Q:(116*c-16)/C,z=S*96.42,V=U*100,t=x*82.49,Y=j.t3.Jh(j.t3.Ps,[z/100,V/100,t/100,0]);
for(var O=0;O<4;O++)Y[O]=Math.max(0,Math.min(255,j.Wg(Y[O])*255));return{t:Y[0],L:Y[1],X:Y[2]}};j.ac3=function(F,r,$,C,M){var l=F.tr,k=F.xz,d=F.X,I=(l<r.tr?r.tr-l:$.tr<l?$.tr-l:0)*(1/100),c=(k<r.xz?r.xz-k:$.xz<k?$.xz-k:0)*(1/116),Q=(d<r.X?r.X-d:$.X<d?$.X-d:0)*(1/116),x=Math.sqrt(I*I+c*c+Q*Q)*1.35;
return x<=C?Math.min(1,1.17*(1-x*M)):0};j.Ao=function(F){var r=j.$L("cmykToRgb"),$=r[2],C=r[3],M=[0,0,0,0];
ICC.U.applyLUT4(C,$,F,M);return M};j.aat=function(F){var r=j.$L("cmykToRgb"),$=r[2],C=r[3];ICC.U.applyLUT4(C,$,F,F)};
j.asM=function(){var F=function(bU){return Math.round(bU*255)},r="",$=3;for(var O=0;O<tab.length;O++){var C=F(tab[O]);
if($<=O)C=C-F(tab[O-$])+256&255;r+=C.toString(16).padStart(2,"0")}return r};j.$L=function(F){var r=LUTS["_"+F];
if(r==null){var $=LUTS[F],C=$[0],bU=$[1],M=$[2],l=$[3],k=[];for(var O=0;O<l.length;O+=2)k.push(parseInt(l.slice(O,O+2),16));
for(var O=bU;O<k.length;O++)k[O]=k[O]+k[O-bU]&255;for(var O=0;O<k.length;O++)k[O]*=1/255;r=LUTS["_"+F]=[C,bU,M,k]}return r};
j.dm=function(F){var r=j.$L("rgbToCmyk"),$=r[2],C=r[3],M=[0,0,0,0];ICC.U.applyLUT3to4(C,$,F,M);return M};
j.afx=function(F){var r=j.$L("rgbToCmyk"),$=r[2],C=r[3];ICC.U.applyLUT3to4(C,$,F,F);j.v4(F)};j.R2=function(F,r,$){var C=F.length,M=.3,l=.59,k=.11;
if($){M=$[0];l=$[1];k=$[2]}for(var O=0;O<C;O+=4)r[O>>2]=~~(F[O+0]*M+F[O+1]*l+F[O+2]*k+.5)};j.Wn=function(F,r){var $=r.length;
for(var O=0;O<$;O+=4){var C=F[O>>>2];r[O]=C;r[O+1]=C;r[O+2]=C}};j.TP=function(F,r){var $=j.cN(F.xz),C=j.cN(r);
if($!=C)throw"e";if($==8)j.atV(F,r);else{var M=F.t,l=F.L,k=F.X,d=F.xz;for(var O=0;O<r.length;O+=4){var I=O>>>2;
r[O]=M[I];r[O+1]=l[I];r[O+2]=k[I];r[O+3]=d[I]}}};j.atV=function(F,r){var $=F.xz,C=F.t,M=F.L,l=F.X,k=Math.min(F.xz.length,r.buffer.byteLength>>>2),d=4*Math.floor(k/4),I=new Uint32Array(r.buffer),c=new Uint32Array($.buffer),Q=new Uint32Array(C.buffer),x=new Uint32Array(M.buffer),U=new Uint32Array(l.buffer);
for(var O=0;O<d;O+=4){var S=c[O>>2],z=U[O>>2],V=x[O>>2],t=Q[O>>2];I[O]=S<<24|(z&255)<<16|(V&255)<<8|t&255;
I[O+1]=(S&65280)<<16|(z&65280)<<8|V&65280|(t&65280)>>>8;I[O+2]=(S&16711680)<<8|z&16711680|(V&16711680)>>>8|(t&16711680)>>>16;
I[O+3]=S&4278190080|(z&4278190080)>>>8|(V&4278190080)>>>16|(t&4278190080)>>>24}for(var O=d;O<k;O++)I[O]=$[O]<<24|l[O]<<16|M[O]<<8|C[O]};
j.t9=function(F,r){var $=j.cN(r.xz),C=j.cN(F);if($!=C)throw"e";if($==8)j.aD$(F,r);else{var M=r.t,l=r.L,k=r.X,d=r.xz;
for(var O=0;O<F.length;O+=4){var I=O>>>2;M[I]=F[O];l[I]=F[O+1];k[I]=F[O+2];d[I]=F[O+3]}}};j.aD$=function(F,r){var $=r.xz,C=r.t,M=r.L,l=r.X,k=Math.min(r.xz.length,F.buffer.byteLength>>>2),d=4*Math.floor(k/4),I=new Uint32Array(F.buffer),c=new Uint32Array($.buffer),Q=new Uint32Array(C.buffer),x=new Uint32Array(M.buffer),U=new Uint32Array(l.buffer);
for(var O=0;O<d;O+=4){var S=I[O],z=I[O+1],V=I[O+2],t=I[O+3];Q[O>>2]=S&255|(z&255)<<8|(V&255)<<16|t<<24;
x[O>>2]=(S&65280)>>8|z&65280|(V&65280)<<8|(t&65280)<<16;U[O>>2]=(S&16711680)>>16|(z&16711680)>>8|V&16711680|(t&16711680)<<8;
c[O>>2]=S>>>24|z>>>24<<8|V>>>24<<16|t&4278190080}for(var O=d;O<k;O++){var Y=I[O];C[O]=Y>>0&255;M[O]=Y>>8&255;
l[O]=Y>>16&255;$[O]=Y>>24&255}};j.Eg=function(F,r,$){var C=Math.min(F.length/4,r.length),M=j.cN(F);if(M!=j.cN(r))throw"e";
if(M==8){for(var O=0;O<C;O++){r[O]=F[(O<<2)+$]}}else for(var O=0;O<C;O++){r[O]=F[(O<<2)+$]}};j.dr=function(F,r,$){var C=j.cN(F);
if(C!=j.cN(r))throw"e";var M=Math.min(r.length/4,F.length);if(C==8){var l=new Uint8Array(r.buffer),k=new Uint32Array(F.buffer),O=0;
while(O+4<M){var d=k[O>>>2];l[(O<<2)+$]=d&255;l[(O<<2)+$+4]=d>>>8&255;l[(O<<2)+$+8]=d>>>16&255;l[(O<<2)+$+12]=d>>>24;
O+=4}while(O<M){l[(O<<2)+$]=F[O];O++}}else{for(var O=0;O<M;O++)r[(O<<2)+$]=F[O]}};j.A9=function(F,r){new Uint32Array(F.buffer).fill(r)};
j._8=function(F,r,$,C){var M=j.cN(F),l=j.zV(M),k=F.length;if(M==8)for(var O=0;O<k;O+=4){F[O]=r*l;F[O+1]=$*l;
F[O+2]=C*l}if(M==16)for(var O=0;O<k;O+=4){F[O]=r*l;F[O+1]=$*l;F[O+2]=C*l}if(M==32)for(var O=0;O<k;O+=4){F[O]=r*l;
F[O+1]=$*l;F[O+2]=C*l}};j.SP=function(F,r){var $=j.cN(F),C=j.zV($),M=F.length;if($==8)for(var O=0;O<M;
O+=4){F[O+3]=r*C}if($==16)for(var O=0;O<M;O+=4){F[O+3]=r*C}if($==32)for(var O=0;O<M;O+=4){F[O+3]=r*C}};
j.a92=function(F,r,$,C,M){if(M==null)M=0;var l=new Uint32Array(F.buffer);$=$.R7(r);var k=$.x-r.x,d=$.y-r.y,I=$.r,c=$.$,Q=r.r;
for(var x=0;x<c;x++){var O=(d+x)*Q+k;for(var U=0;U<I;U++){l[O]=l[O]&M|C;O++}}};j.Jx=function(F,r){var $=Math.min(F.buffer.byteLength,r.buffer.byteLength),C=$>>>2,M=new Uint32Array(F.buffer,0,C),l=new Uint32Array(r.buffer,0,C);
l.set(M)};j.Mp=function(F,r){var $=F.buffer.byteLength,C=r.buffer.byteLength,M=new Uint32Array(F.buffer,0,$>>2),l=new Uint32Array(r.buffer,0,C>>2);
if($!=C)return!1;var k=M.length;for(var O=0;O<k;O++)if(l[O]!=M[O])return!1;return!0};j.v4=function(F){var r=j.cN(F),$=F.length;
if(r==8)for(var O=0;O<$;O++)F[O]=~F[O];if(r==16)for(var O=0;O<$;O++)F[O]=~F[O];if(r==32)for(var O=0;
O<$;O++)F[O]=1-F[O]};j.ajU=function(F){var r=F.length;for(var O=0;O<r;O+=4){F[O]=~F[O];F[O+1]=~F[O+1];
F[O+2]=~F[O+2]}};j.arJ=function(F){var r=F.length;for(var O=3;O<r;O+=4)F[O]=~F[O]};j.axw=function(F){return F+(F%4==0?0:4-F%4)};
j.j=function(F,r){if(r==null)r=8;var $=r==8?Uint8Array:r==16?Uint16Array:Float32Array;if(r==8)F=j.axw(F);
if(r==16)F+=F&1;try{var C=new $(F)}catch(ac){alert("Not enough RAM! (need "+Math.round(F/(1<<20))+" MB)",7e3);
throw"low_ram"}return C};j.aAF=function(F){var r=F.$Y.r,$=F.$Y.$,C=r*4,M=r*$,l=new Uint8Array(F.data),k=0,d=0;
for(var I=1;I<$;I++)for(var c=1;c<r;c++){var O=(I*r+c)*4;if(l[O-1]==0&&l[O+3]==0&&l[O-C+3]==0){d++;var Q=l[O],x=l[O+1],U=l[O+2],S=Q-l[O-4],z=Q-l[O-C],V=x-l[O-3],t=x-l[O-C+1],Y=U-l[O-2],i=U-l[O-C+2];
if(S*S+V*V+Y*Y!=0&&z*z+t*t+i*i!=0)k++}}if(d/M>.01&&k/d>.05){var J=j.j(r*$);j.Eg(l,J,3);F.Bs=[J];for(var O=0;
O<l.length;O+=4)l[O+3]=255}};j.awN=function(F,r,$,C){if(C==null)C=0;var M=0;while(M+3<F.length&&F[M+3].C()>=C&&r.w5()*(1<<(M>>>1))<$)M+=2;
var l=F[1],k=F[M+1],d=new hS;d.translate(-k.x,-k.y);d.scale(l.r/k.r,l.$/k.$);d.translate(l.x,l.y);d.concat(r);
return[M,d]};j.zY=function(F){var r=F.length,$=F[r-2],C=F[r-1];while(C.r>=2&&C.$>=2){var M=j.JA($,C);
F.push(M.fU,M.S);$=M.fU;C=M.S}};j.SI=function(F){var r=F.length,$=F[r-2],C=F[r-1];while(C.r>=2&&C.$>=2){var M=j.D5($,C);
F.push(M.fU,M.S);$=M.fU;C=M.S}};j.JA=function(F,r,$){var C=r.r,M=r.$,l=C>>1,k=M>>1,d=new cS(r.x>>>1,r.y>>>1,l,k),I,c=j.cN(F);
if(c==8){I=$&&$.length==l*k*4?$:j.j(l*k*4);var Q=new Uint32Array(F.buffer),x=new Uint32Array(I.buffer);
for(var U=0;U<k;U++)for(var S=0;S<l;S++){var z=U*l+S,V=(U<<1)*C+(S<<1),t=Q[V],Y=Q[V+1],i=Q[V+C],J=Q[V+C+1],H=t>>>24,v=Y>>>24,n=i>>>24,G=J>>>24,g=H+v+n+G;
if(g==1020){var W=(t>>>0&255)+(Y>>>0&255)+(i>>>0&255)+(J>>>0&255)+2>>>2,L=(t>>>8&255)+(Y>>>8&255)+(i>>>8&255)+(J>>>8&255)+2>>>2,b=(t>>>16&255)+(Y>>>16&255)+(i>>>16&255)+(J>>>16&255)+2>>>2;
x[z]=255<<24|b<<16|L<<8|W}else if(g==0)x[z]=0;else{var W=(t>>>0&255)*H+(Y>>>0&255)*v+(i>>>0&255)*n+(J>>>0&255)*G,L=(t>>>8&255)*H+(Y>>>8&255)*v+(i>>>8&255)*n+(J>>>8&255)*G,b=(t>>>16&255)*H+(Y>>>16&255)*v+(i>>>16&255)*n+(J>>>16&255)*G,T=1/g;
W=~~(W*T+.5);L=~~(L*T+.5);b=~~(b*T+.5);x[z]=g+2>>>2<<24|b<<16|L<<8|W}}}else{I=j.j(l*k*4,c);for(var U=0;
U<k;U++)for(var S=0;S<l;S++){var z=U*l+S<<2,V=(U<<1)*C+(S<<1)<<2,a=V,R=V+4,D=V+C*4,h=V+C*4+4,H=F[a+3],v=F[R+3],n=F[D+3],G=F[h+3],g=H+v+n+G;
if(g==0){}else{var T=1/g;I[z]=(F[a]*H+F[R]*v+F[D]*n+F[h]*G)*T;I[z+1]=(F[a+1]*H+F[R+1]*v+F[D+1]*n+F[h+1]*G)*T;
I[z+2]=(F[a+2]*H+F[R+2]*v+F[D+2]*n+F[h+2]*G)*T;I[z+3]=g*.25}}}return{S:d,fU:I}};j.aub=function(F,r,$){var C=r.r,M=r.$,l=C>>1,k=M>>1,d=new cS(r.x,r.y,l,k),I=$&&$.length==l*k*4?$:j.j(l*k*4),c=new Uint32Array(F.buffer),Q=new Uint32Array(I.buffer);
for(var x=0;x<k;x++)for(var U=0;U<l;U++){var S=x*l+U,z=(x<<1)*C+(U<<1),V=c[z],t=c[z+1],Y=c[z+C],i=c[z+C+1],J=2+(V>>>0&255)+(t>>>0&255)+(Y>>>0&255)+(i>>>0&255)>>>2,H=2+(V>>>8&255)+(t>>>8&255)+(Y>>>8&255)+(i>>>8&255)>>>2,v=2+(V>>>16&255)+(t>>>16&255)+(Y>>>16&255)+(i>>>16&255)>>>2,n=2+(V>>>24&255)+(t>>>24&255)+(Y>>>24&255)+(i>>>24&255)>>>2;
Q[S]=n<<24|v<<16|H<<8|J}return{S:d,fU:I}};j.aeW=function(F,r,$){var C=r.r,M=r.$,l=2*Math.floor(C/3),k=2*Math.floor(M/3),d=new cS(r.x,r.y,l,k),I=$&&$.length==l*k*4?$:j.j(l*k*4),c=new Uint32Array(F.buffer),Q=new Uint32Array(I.buffer);
for(var x=0;x<k;x+=2)for(var U=0;U<l;U+=2){var S=x*l+U,z=(x*3>>>1)*C+(U*3>>>1),V=c[z],t=c[z+1],Y=c[z+2],i=c[z+C],J=c[z+1+C],H=c[z+2+C],v=c[z+C+C],n=c[z+1+C+C],G=c[z+2+C+C],g=V>>>24<<2,W=(V>>>16&255)*g,L=(V>>>8&255)*g,b=(V&255)*g,T=t>>>24<<1,a=(t>>>16&255)*T,R=(t>>>8&255)*T,D=(t&255)*T,h=Y>>>24<<2,K=(Y>>>16&255)*h,X=(Y>>>8&255)*h,w=(Y&255)*h,N=i>>>24<<1,s=(i>>>16&255)*N,A=(i>>>8&255)*N,p=(i&255)*N,q=J>>>24,f=(J>>>16&255)*q,e=(J>>>8&255)*q,o=(J&255)*q,E=H>>>24<<1,cj=(H>>>16&255)*E,u=(H>>>8&255)*E,cd=(H&255)*E,m=v>>>24<<2,aZ=(v>>>16&255)*m,jN=(v>>>8&255)*m,eh=(v&255)*m,iA=n>>>24<<1,hd=(n>>>16&255)*iA,kx=(n>>>8&255)*iA,b0=(n&255)*iA,gX=G>>>24<<2,j$=(G>>>16&255)*gX,i0=(G>>>8&255)*gX,f7=(G&255)*gX,am=g+T+N+q,gf=h+T+E+q,cC=m+iA+N+q,aD=gX+iA+E+q,c_=am==0?0:1/am,a9=gf==0?0:1/gf,jz=cC==0?0:1/cC,g3=aD==0?0:1/aD,e3=0,c1=0,dI=0,kJ=0;
e3=~~(.5+(b+D+p+o)*c_);c1=~~(.5+(L+R+A+e)*c_);dI=~~(.5+(W+a+s+f)*c_);kJ=~~(.5+am*(1/9));Q[S]=kJ<<24|dI<<16|c1<<8|e3;
e3=~~(.5+(w+D+cd+o)*a9);c1=~~(.5+(X+R+u+e)*a9);dI=~~(.5+(K+a+cj+f)*a9);kJ=~~(.5+gf*(1/9));Q[S+1]=kJ<<24|dI<<16|c1<<8|e3;
e3=~~(.5+(eh+b0+p+o)*jz);c1=~~(.5+(jN+kx+A+e)*jz);dI=~~(.5+(aZ+hd+s+f)*jz);kJ=~~(.5+cC*(1/9));Q[S+l]=kJ<<24|dI<<16|c1<<8|e3;
e3=~~(.5+(f7+b0+cd+o)*g3);c1=~~(.5+(i0+kx+u+e)*g3);dI=~~(.5+(j$+hd+cj+f)*g3);kJ=~~(.5+aD*(1/9));Q[S+l+1]=kJ<<24|dI<<16|c1<<8|e3}return{S:d,fU:I}};
j.ax9=function(F,r,$){var C=r.r,M=r.$,l=2*Math.floor(C/3),k=2*Math.floor(M/3),d=new cS(r.x,r.y,l,k),I=$&&$.length==l*k*4?$:j.j(l*k*4),c=new Uint32Array(F.buffer),Q=new Uint32Array(I.buffer);
for(var x=0;x<k;x+=2)for(var U=0;U<l;U+=2){var S=x*l+U,z=(x*3>>>1)*C+(U*3>>>1),V=c[z],t=c[z+1],Y=c[z+2],i=c[z+C],J=c[z+1+C],H=c[z+2+C],v=c[z+C+C],n=c[z+1+C+C],G=c[z+2+C+C],g=(V>>>16&255)<<2,W=(V>>>8&255)<<2,L=(V&255)<<2,b=(t>>>16&255)<<1,T=(t>>>8&255)<<1,a=(t&255)<<1,R=(Y>>>16&255)<<2,D=(Y>>>8&255)<<2,h=(Y&255)<<2,K=(i>>>16&255)<<1,X=(i>>>8&255)<<1,w=(i&255)<<1,N=J>>>16&255,s=J>>>8&255,A=J&255,p=(H>>>16&255)<<1,q=(H>>>8&255)<<1,f=(H&255)<<1,e=(v>>>16&255)<<2,o=(v>>>8&255)<<2,E=(v&255)<<2,cj=(n>>>16&255)<<1,u=(n>>>8&255)<<1,cd=(n&255)<<1,m=(G>>>16&255)<<2,aZ=(G>>>8&255)<<2,jN=(G&255)<<2,eh=0,iA=0,hd=0;
eh=~~(.5+(L+a+w+A)*(1/9));iA=~~(.5+(W+T+X+s)*(1/9));hd=~~(.5+(g+b+K+N)*(1/9));Q[S]=255<<24|hd<<16|iA<<8|eh;
eh=~~(.5+(h+a+f+A)*(1/9));iA=~~(.5+(D+T+q+s)*(1/9));hd=~~(.5+(R+b+p+N)*(1/9));Q[S+1]=255<<24|hd<<16|iA<<8|eh;
eh=~~(.5+(E+cd+w+A)*(1/9));iA=~~(.5+(o+u+X+s)*(1/9));hd=~~(.5+(e+cj+K+N)*(1/9));Q[S+l]=255<<24|hd<<16|iA<<8|eh;
eh=~~(.5+(jN+cd+f+A)*(1/9));iA=~~(.5+(aZ+u+q+s)*(1/9));hd=~~(.5+(m+cj+p+N)*(1/9));Q[S+l+1]=255<<24|hd<<16|iA<<8|eh}return{S:d,fU:I}};
j.Q3=function(F){var r=255,$=F.length;$-=$&31;for(var O=3;O<$;O+=32)r=r&F[O]&F[O+4]&F[O+8]&F[O+12]&F[O+16]&F[O+20]&F[O+24]&F[O+28];
return r!=255};j.apj=function(F,r,$,C){var M=j.JA,l=j.aeW,k={fU:F,S:r},d=j.aBF($);for(var O=0;O<d.length;
O++){if(d[O]==2)k=M(k.fU,k.S,C);else k=l(k.fU,k.S,C)}return k};j.app=function(F,r,$,C){var M=j.D5,l=j.aFw,k={fU:F,S:r},d=j.aBF($);
for(var O=0;O<d.length;O++){if(d[O]==2)k=M(k.fU,k.S,C);else k=l(k.fU,k.S,C)}return k};j.aBF=function(F){var r=[],$=F;
while($<.499){r.push(2);$*=2}r.push($<.5001?2:3);return r};j.D5=function(F,r,$){var C=r.r,M=r.$,l=C>>1,k=M>>1,d=new cS(r.x,r.y,l,k);
if(F==null)return{S:d};var I=$&&$.length>=l*k?$:j.j(l*k);for(var c=0;c<k;c++){var Q=c*l;for(var x=0;
x<l;x++){var U=(c<<1)*C+(x<<1);I[Q+x]=2+F[U]+F[U+1]+F[U+C]+F[U+C+1]>>>2}}return{S:d,fU:I}};j.aFw=function(F,r,$){var C=r.r,M=r.$,l=2*Math.floor(C/3),k=2*Math.floor(M/3),d=new cS(r.x,r.y,l,k);
if(F==null)return{S:d};var I=$&&$.length>=l*k?$:j.j(l*k);for(var c=0;c<k;c+=2)for(var Q=0;Q<l;Q+=2){var x=c*l+Q,U=(c*3>>>1)*C+(Q*3>>>1),S=F[U]<<2,z=F[U+1]<<1,V=F[U+2]<<2,t=F[U+C]<<1,Y=F[U+1+C],i=F[U+2+C]<<1,J=F[U+C+C]<<2,H=F[U+1+C+C]<<1,v=F[U+2+C+C]<<2;
I[x]=~~(.5+(S+z+t+Y)*(1/9));I[x+1]=~~(.5+(V+z+i+Y)*(1/9));I[x+l]=~~(.5+(J+H+t+Y)*(1/9));I[x+l+1]=~~(.5+(v+H+i+Y)*(1/9))}return{S:d,fU:I}};
j.apS=function(F,r,$,C,M){var l=r.R7(C);if(M)l=l.R7(M);var k=Math.max(0,l.x-r.x),d=Math.max(0,l.x-C.x),I=Math.max(0,l.y-r.y),c=Math.max(0,l.y-C.y),Q=l.r,x=l.$;
for(var O=0;O<x;O++){var U=(I+O)*r.r+k,S=(c+O)*C.r+d;for(var z=0;z<Q;z++){$[S+z]=Math.max($[S+z],F[U+z])}}};
j.wU=function(F,r,$,C,M){var l=r.R7(C);if(M)l=l.R7(M);var k=Math.max(0,l.x-r.x),d=Math.max(0,l.x-C.x),I=Math.max(0,l.y-r.y),c=Math.max(0,l.y-C.y),Q=l.r,x=l.$,U=j.cN(F),S=j.cN($);
if(U!=S)throw"e";var z=U>>>3,V=new Uint8Array($.buffer);for(var O=0;O<x;O++){var t=(I+O)*r.r+k,Y=(c+O)*C.r+d;
V.set(new Uint8Array(F.buffer,t*z,Q*z),Y*z)}};j.akJ=function(F,r,$,C){if(r.Mp(C)){j.dr(F,$,3);return}var M=r.R7(C),l=Math.max(0,M.x-r.x),k=Math.max(0,M.x-C.x),d=Math.max(0,M.y-r.y),I=Math.max(0,M.y-C.y),c=M.r,Q=M.$;
for(var O=0;O<Q;O++){var x=(d+O)*r.r+l,U=(I+O)*C.r+k;for(var S=0;S<c;S++)$[(U+S<<2)+3]=F[x+S]}};j.Gc=function(F,r,$,C){var M=r.R7(C),l=Math.max(0,M.x-r.x),k=Math.max(0,M.x-C.x),d=Math.max(0,M.y-r.y),I=Math.max(0,M.y-C.y),c=M.r,Q=M.$;
for(var O=0;O<Q;O++){var x=(d+O)*r.r+l,U=(I+O)*C.r+k;for(var S=0;S<c;S++)$[U+S]=F[(x+S<<2)+3]}};j.mR=function(F,r,$,C,M){if(r.Mp(C)&&(M==null||M.Mp(C))){$.set(F);
return}var l=r.R7(C);if(M)l=l.R7(M);var k=Math.max(0,l.x-r.x),d=Math.max(0,l.x-C.x),I=Math.max(0,l.y-r.y),c=Math.max(0,l.y-C.y),Q=l.r,x=l.$,U=4*(j.cN($)>>>3),S=new Uint8Array($.buffer);
for(var O=0;O<x;O++){var z=(I+O)*r.r+k,V=(c+O)*C.r+d;S.set(new Uint8Array(F.buffer,z*U,Q*U),V*U)}};j.Pz=function(F,r,$,C){var M=r.R7(C),l=Math.max(0,M.x-r.x),k=Math.max(0,M.x-C.x),d=Math.max(0,M.y-r.y),I=Math.max(0,M.y-C.y),c=M.r,Q=M.$,x=F.xz,U=F.t,S=F.L,z=F.X,V=$.xz,t=$.t,Y=$.L,i=$.X;
for(var O=0;O<Q;O++){var J=(d+O)*r.r+l,H=(I+O)*C.r+k;for(var v=0;v<c;v++){V[H+v]=x[J+v];t[H+v]=U[J+v];
Y[H+v]=S[J+v];i[H+v]=z[J+v]}}};j.nP=function(F){var r=F.length,$=j.cN(F),C=j.zV($),M=1/C;if($==8)for(var O=0;
O<r;O+=4){var l=F[O+3];if(l==255)continue;F[O]=~~(F[O]*l*(1/255)+.5);F[O+1]=~~(F[O+1]*l*(1/255)+.5);
F[O+2]=~~(F[O+2]*l*(1/255)+.5)}else for(var O=0;O<r;O+=4){var l=F[O+3];if(l==C)continue;F[O]=F[O]*(l*M);
F[O+1]=F[O+1]*(l*M);F[O+2]=F[O+2]*(l*M)}};j.AJ=function(F){var r=F.length,$=j.cN(F),C=j.zV($),M=1/C;
if($==8)for(var O=0;O<r;O+=4){var l=F[O+3];if(l==0||l==255)continue;var k=255/l;F[O]=~~(F[O]*k+.5);F[O+1]=~~(F[O+1]*k+.5);
F[O+2]=~~(F[O+2]*k+.5)}else{for(var O=0;O<r;O+=4){var l=F[O+3];if(l==0||l==C)continue;var k=C/l;F[O]=F[O]*k;
F[O+1]=F[O+1]*k;F[O+2]=F[O+2]*k}}};j.b3=function(F,r){for(var O=0;O<F.length;O++)if(F[O]!=r)return!1;
return!0};j.FU=function(F){return F+1+(F>>>8)>>>8};j.round=function(F,r){var $=j.cN(F),C=F.length;if(r==null)r=j.zV($)>>>1;
if($==8)for(var O=0;O<C;O++)F[O]=F[O]<r?0:255;if($==16)for(var O=0;O<C;O++)F[O]=F[O]<r?0:65535;if($==32)for(var O=0;
O<C;O++)F[O]=F[O]<r?0:1};j.vy=function(F,r){var $=F.length,C=j.cN(F);if(C==8)for(var O=0;O<$;O++)F[O]=Math.round(F[O]*r);
if(C==16)for(var O=0;O<$;O++)F[O]=Math.round(F[O]*r);if(C==32)for(var O=0;O<$;O++)F[O]=F[O]*r};j.SS=function(F,r){var $=j.cN(F);
if($==8){var C=new Uint32Array(F.buffer),M=new Uint32Array(r.buffer),l=C.length;for(var O=0;O<l;O++){var k=C[O],d=M[O];
M[O]=j.FU((k>>>24)*(d>>>24))<<24|j.FU((k>>>16&255)*(d>>>16&255))<<16|j.FU((k>>>8&255)*(d>>>8&255))<<8|j.FU((k&255)*(d&255))}}else{var I=1/($==16?65535:1);
for(var O=0;O<F.length;O++)r[O]=r[O]*F[O]*I}};j.Qk=function(F,r){var $=j.cN(F);if($!=j.cN(r))throw"e";
var C=F.length;if($==8)for(var O=0;O<C;O++)r[(O<<2)+3]=r[(O<<2)+3]*F[O]*(1/255);if($==16)for(var O=0;
O<C;O++)r[(O<<2)+3]=r[(O<<2)+3]*F[O]*(1/65535);if($==32)for(var O=0;O<C;O++)r[(O<<2)+3]=r[(O<<2)+3]*F[O]};
j.a5B=function(F,r,$,C){var M=Math.max(0,C.x-r.x),l=Math.max(0,r.x-C.x),k=Math.max(0,C.y-r.y),d=Math.max(0,r.y-C.y),I=Math.min(r.x+r.r,C.x+C.r)-Math.max(r.x,C.x),c=Math.min(r.y+r.$,C.y+C.$)-Math.max(r.y,C.y);
for(var O=0;O<c;O++){var Q=(k+O)*r.r+M,x=(d+O)*C.r+l;for(var U=0;U<I;U++){$[x]=j.FU($[x]*F[Q]);Q++;x++}}};
j.PO=function(F,r,$,C){var M=j.cN(F),l=Math.max(0,C.x-r.x),k=Math.max(0,r.x-C.x),d=Math.max(0,C.y-r.y),I=Math.max(0,r.y-C.y),c=Math.min(r.x+r.r,C.x+C.r)-Math.max(r.x,C.x),Q=Math.min(r.y+r.$,C.y+C.$)-Math.max(r.y,C.y);
for(var O=0;O<Q;O++){var x=(d+O)*r.r+l,U=((I+O)*C.r+k<<2)+3;for(var S=0;S<c;S++){if(M==8)$[U]=j.FU($[U]*F[x]);
else if(M==16)$[U]=$[U]*F[x]*(1/65535);else if(M==32)$[U]=$[U]*F[x];x++;U+=4}}};j.Av=function(F,r,$,C){var M=Math.max(0,C.x-r.x),l=Math.max(0,r.x-C.x),k=Math.max(0,C.y-r.y),d=Math.max(0,r.y-C.y),I=Math.min(r.x+r.r,C.x+C.r)-Math.max(r.x,C.x),c=Math.min(r.y+r.$,C.y+C.$)-Math.max(r.y,C.y);
for(var O=0;O<c;O++){var Q=((k+O)*r.r+M<<2)+3,x=((d+O)*C.r+l<<2)+3;for(var U=0;U<I;U++){$[x]=j.FU($[x]*F[Q]);
Q+=4;x+=4}}};j.DP=function(F,r){if(r==null)r=1;var $=4*r,C=F.length>>>2,M=new Float64Array(256),l=new Float64Array(256),k=new Float64Array(256),d=new Float64Array(256),I=4*Math.floor(C/r)*r,c=0;
for(var O=0;O<I;O+=$){var Q=F[O+0],x=F[O+1],U=F[O+2],S=F[O+3]*r,z=S*(1/255);l[Q]+=z;k[x]+=z;d[U]+=z;
c+=S}for(var O=0;O<256;O++)M[O]=l[O]+k[O]+d[O];return[M,l,k,d,C,c/255]};j.a9s=function(F,r){function $(n,G){var g=-1,W=0;
while(W<=G){g++;W+=n[g]}return g}function C(n,G){var g=256,W=0;while(W<=G){g--;W+=n[g]}return g}function M(n){var G=0,g=0;
for(var O=0;O<256;O++){g+=n[O];G+=n[O]*O*(1/255)}return G/g}var l=F[0],k=F[1]/100,d=F[2]/100,I=[],c=[];
for(var O=0;O<4;O++){var Q=O==0?3:1;I[O]=$(r[O],Q*k*r[5]);c[O]=C(r[O],Q*d*r[5])}var x=[M(r[1]),M(r[2]),M(r[3])],U=x.slice(0);
U.sort(function(n,G){return n-G});var S=x.indexOf(U[1]),z=(x[0]+x[1]+x[2])/3,V=[];for(var O=0;O<4;O++){var t=0,Y=255,i=I[O],J=c[O];
if(l==0&&O==0){t=i;Y=J}if(l==1&&O!=0){t=i;Y=J}if(l==2&&O!=0){var Q=x[O-1]/z;Y=Math.max(0,Math.min(255,c[S]*Q))}var H=[t,Y];
V.push(H);if(l==3&&O==0){var v=255*(1-z);H.push(v)}}return V};j.a5s=function(F,r){var $=new Uint32Array(F.buffer),C=$.length;
for(var O=0;O<C;O++){var M=$[O],l=M&255,k=M>>8&255,d=M>>16&255,I=M>>24&255;$[O]=r[l]|r[k]<<8|r[d]<<16|r[I]<<24}};
j.anr=function(F,r,$,C,M,l,k){var d=F.length,I=j.cN(F),c=I==8?255:I==16?65535:1,Q=1/c,x=($.length-1)*.999999,U=j.a1b;
if(!k&&!l){for(var O=0;O<d;O+=4){var S=F[O]*Q,z=F[O+1]*Q,V=F[O+2]*Q,t=U($,x*S),Y=U(C,x*z),i=U(M,x*V);
r[O]=t*c;r[O+1]=Y*c;r[O+2]=i*c;r[O+3]=F[O+3]}return}for(var O=0;O<d;O+=4){var S=F[O]*Q,z=F[O+1]*Q,V=F[O+2]*Q;
if(l)S=z=V=S*.3+z*.59+V*.11;var t=U($,x*S),Y=U(C,x*z),i=U(M,x*V);if(k){var J=j.er(S,z,V),H=j.er(t,Y,i);
if(J>H){var v=(J-H)/(1-H);t+=v*(1-t);Y+=v*(1-Y);i+=v*(1-i)}else if(H==0)t=Y=i=0;else{var v=J/H;t=v*t;
Y=v*Y;i=v*i}}r[O]=t*c;r[O+1]=Y*c;r[O+2]=i*c;r[O+3]=F[O+3]}};j.a1b=function(F,r){var $=~~r,C=r-$;return F[$]*(1-C)+F[$+1]*C};
j.BM=function(F,r){var $=j.Mz(F,8),C=r.r,M=r.$,top=0,l=0,k=0,d=0,I=0;I=0;for(var c=0;c<M;c++){var Q=c*C;
for(var O=0;O<C;O++)I|=$[Q+O];if(I!=0)break;top++}if(top==M)return new cS(0,0,0,0);I=0;for(var c=M-1;
c>=0;c--){var Q=c*C;for(var O=0;O<C;O++)I|=$[Q+O];if(I!=0)break;k++}var x=M-k;I=0;for(var O=0;O<C;O++){for(var c=top;
c<x;c++)I|=$[c*C+O];if(I!=0)break;l++}I=0;for(var O=C-1;O>=0;O--){for(var c=top;c<x;c++)I|=$[c*C+O];
if(I!=0)break;d++}var U=new cS(r.x+l,r.y+top,C-l-d,M-top-k);return U};j.CY=function(F,r,$,C,M){var l=j.Mz(F,8),top=0,c=0,Q=0,x=0,U=!1;
if(C==null)C=[!0,!0,!0,!0];if($==null)$=0;if(M==null)M=4294967295;var k=new Uint32Array(l.buffer),d=r.r,I=r.$,S=[k[0],k[k.length-1],0][$];
U=!1;if(C[0])for(var z=0;z<I;z++){var V=z*d;for(var O=0;O<d;O++)if(k[V+O]&M^S)U=!0;if(U)break;top++}U=!1;
if(C[2])for(var z=I-1;z>=0;z--){var V=z*d;for(var O=0;O<d;O++)if(k[V+O]&M^S)U=!0;if(U)break;Q++}U=!1;
if(C[1])for(var O=0;O<d;O++){for(var z=0;z<I;z++)if(k[z*d+O]&M^S)U=!0;if(U)break;c++}U=!1;if(C[3])for(var O=d-1;
O>=0;O--){for(var z=0;z<I;z++)if(k[z*d+O]&M^S)U=!0;if(U)break;x++}var t=new cS(r.x+c,r.y+top,d-c-x,I-top-Q);
return t.XS()?new cS(0,0,0,0):t};j.uF=function(F){var r=j.BM(F.G,F.S);if(r.Mp(F.S))return;var $=j.j(r.C(),j.cN(F.G));
j.wU(F.G,F.S,$,r);F.G=$;F.S=r};j.oA=function(F,r){var $=j.CY(F.buffer,F.S,2,null,r?null:4278190080);
if($.Mp(F.S))return;var C=new j.j($.C()*4,j.cN(F.buffer));j.mR(F.buffer,F.S,C,$);F.buffer=C;F.S=$};j.extend=function(F,r,$){if(F.S.qC(r))return;
var C=F.S.DM(r),M=j.cN(F.G),l=j.j(C.C(),M);if($!=null)l.fill(j.zV(M)*$);j.wU(F.G,F.S,l,C);F.S=C;F.G=l};
j.a0p=function(F,r){if(r.XS()||F.S.qC(r))return;var $=F.S.DM(r),C=j.j($.C()*4,j.cN(F.buffer));j.mR(F.buffer,F.S,C,$);
F.S=$;F.buffer=C};j.TJ=function(F,r,$){if(!$.m_(F))return!1;var C=Math.floor(F.x)-$.x,M=Math.floor(F.y)-$.y,O=M*$.r+C;
return r[O]>128};j.a5C=function(F,r,$){if(!$.m_(F))return!1;var C=Math.floor(F.x)-$.x,M=Math.floor(F.y)-$.y,O=M*$.r+C;
return r[4*O+3]>128};j.fJ=function(F){this.xz=j.j(F);this.t=j.j(F);this.L=j.j(F);this.X=j.j(F)};j.fJ.prototype.P=function(){var F=this.xz.length,r=new j.fJ(1);
r.xz=this.xz.slice(0);r.t=this.t.slice(0);r.L=this.L.slice(0);r.X=this.X.slice(0);return r};j.F.aIV=function(F,r,$,C,M){var l=M[0]+1,k=M[1],d=Math.abs(k-25)/4,I=M[2],c=I%2+I*I>>1,Q=j.F.W;
Q.G7(r,$);var x=Q.Fm(1),U=Q.Fm(1),S=Q.Fm(1);Q.If(F,C,I,I,c);Q.vY(C);Q.Yq(C,x);Q.n3(x,U,l,l,1);Q.n3(x,S,l,l,l*l);
Q.sub(S,U);Q.SS(U,d);(k<25?Q.sub:Q.add)(x,U);Q.xY(U,C);Q.Uq(C)};j.F.a5c=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);var k=M[0]*2.55,d=M[1],I=d>>1,c=M[2]*.25,Q=l.Fm(4),x=l.Fm(1),U=l.Fm(1);l.PH(F,Q,d,1,!0,I);
l.PH(F,C,d,1,!1,I);l.z8(F,x);l.lm(x,k);l.th(x,U,3);l.Ca(C,U,Q);l.tC(Q,C,c)};j.F.a2F=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);l.Ke(M[3]);var k=M[0]*-3+80,d=M[1]*-3+80,I=M[2]/2+.5,c=M[4],Q=M[5],x=l.Fm(1),U=l.Fm(1),S=l.Fm(1),z=l.Fm(1),V=l.Fm(4),t=l.Fm(4);
l.z8(F,x);l.Jx(x,U);l.nl(x,d,5);l.aau(x,.4,0);l.th(x,S,3);l.$v(S,x,9,3,!0,27);l.Jx(U,S);l.v4(S);var Y=l.XW(k,5,S);
for(var O=0;O<l.f_;O++){U[O]=Y[255-U[O]]}l.aau(U,.4,0);l.Jx(U,S);l.th(S,z,2);l.$v(z,S,5,3,!1,15);l.SS(x,I);
l.SS(S,I);l.n0(C,2155905279);l.n0(t,c);l.n0(V,Q);l.Ca(t,x,C);l.Ca(V,S,C)};j.F.a9l=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);var k=new Uint8Array(256),d=5+10*M[1];d+=M[1]>3?(M[1]-3)*10:0;var I=~~(M[2]*.73)+50,c=Math.min(I+d,128),Q=c-I,x=-255*I;
for(var O=0;O<256;O++){var U=O*65;k[O]=l.Pn(x/Q);x+=255}var S=l.Fm(1),z=l.Fm(1),V=l.Fm(1);l.z8(F,S);
l.Jx(S,V);l.th(S,z,2*M[0]+1);l.sub(z,S);l.SS(S,65);l.$v(S,z,9,3,!0,20);for(var O=0;O<l.f_;O++){var t=V[O],Y=z[O];
S[O]=Y>0?~~((Y*t+(255-Y)*128)/255):128}l.th(S,z,3);l.$v(z,S,15,2,!0,16);l.$v(z,V,15,2,!1,15);l.p_(S,V);
l.r2(V,z,2);l.M6(z,k);l.th(z,S,2);l.gR(S,C)};j.F.amm=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);var k=2*M[0]+1,d=l.auj[M[1]],I=M[2]*5.1,c=M[3],Q=l.Fm(1),x=l.Fm(1),U=l.Fm(4),S=l.Fm(4);
l.n0(U,c);l.vY(U,C);l.adE(Q,I);l.xY(Q,C);l.Uq(C,U);l.z8(F,x);l.th(x,Q,k);l.sub(Q,x);l.SS(x,d);l.$v(x,Q,9,3,!0,20);
l.Ca(F,Q,U);l.P2(U,C,3);l.PH(C,U,15,2,!0,16);l.PH(C,S,15,2,!1,16);l.p_(U,S);l.tC(S,C,2)};j.F.alY=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);var k=(15-M[0])/4+1,d=(15-M[1])/4+1,I=M[2],c=M[3],Q=l.BZ(M[4]),x=M[5]+1,U=M[6],S=M[7],z=M[8],V=l.Fm(1),t=l.Fm(1),Y=l.Fm(1),i=l.Fm(1),J=l.Fm(4),H=l.Fm(4);
l.xk(Y,I,c,U);l.z8(F,t);l.th(t,V,5);l.yL(Y,V,i,x,Q);l.SS(i,k);l.CZ(i,2);l.v4(V);l.yL(Y,V,t,x,Q);l.SS(t,d);
l.CZ(t,2);l.n0(J,2155905279);l.n0(H,S);l.n0(C,z);l.Ca(J,t,H);l.Ca(H,i,C)};j.F.aEb=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);l.Ke(M[3]);var k=M[0],d=M[1]/10,I=M[2]/10,c=l.Fm(1),Q=l.Fm(1),x=l.Fm(1),U=l.io(),S=l.io(),z=l.io();
l.ur(c);l.th(c,Q,11);l.th(Q,c,11);l.FC(c,U);l.NI(F,c);l.Jx(c,x);l.th(c,Q,9);l.th(Q,c,9);l.FC(c,S);l.Oj(S,z,5);
l.Oj(z,S,5);l.amE(U,.8);l.a1V(U,S,.8,.9);l.aGj(S,c,k);l.n3(c,Q,2,2,1);l.n3(Q,c,2,2,3);l.n3(c,Q,2,2,3);
l.n3(x,c,5,5,13);l.kE(Q,c,Q,d);l._U(c,Q,Q,I);l.yL(Q,Q,c,5,1);l.vY(F,C);l.xY(c,C);l.Uq(C)};j.F.av$=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);var k=M[0],d=M[1]/2,I=M[2],c=k/2,Q=l.Fm(4),x=l.Fm(4);l.Jx(F,C);for(var U=0;U<I;U++){l.PH(C,Q,k,1,!0,c);
l.PH(C,x,k,1,!1,c);l.p_(x,Q);l.P2(Q,x,2);l.tC(x,C,d)}};j.F.aoD=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);
var k=M[0]*10,d=M[1]*4.9,I=M[2]*4.9,c=l.Fm(1),Q=l.Fm(1),x=l.Fm(4),U=l.Fm(4);l.z8(F,c);l.lm(c,l.acr(c,k));
l.th(c,Q,3);l.PH(F,x,5,1,!1,1);l.PH(F,C,15,2,!0,16);l.Ca(C,Q,x);l.vY(x,C);l.Yq(C,c);l.nl(c,d,I);l.xY(c,C);
l.Uq(C)};j.F.ari=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);l.Ke(M[4]);var k=M[0]/20,d=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][M[1]],I=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][M[2]],c=M[3],Q=new Int16Array(256);
for(var O=0;O<256;O++){Q[O]=~~((O-128)*k)}var x=l.Fm(1),U=l.Fm(1),S=l.Fm(4);l.z8(F,x);l.th(x,U,25);l.SS(U,d);
l.CZ(U,I);l.th(U,x,25);l.ur(U);l.arw(x,U,Q);l.Jx(F,C);l.n0(S,c);l.Ca(S,x,C)};j.F.a7O=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);var k=M[0]+5,d=15-M[1],I=k*k/2,c=1-(3-M[2])/10,Q=~~(d*d*c-1),x=~~(d*d*(1-c));if(x==0)x=1;var U=l.Fm(1),S=l.Fm(1),z=l.Fm(1),V=l.Fm(4);
l.z8(F,z);l.n3(z,U,k,k,I);l.th(z,S,k);l.sub(U,S);l.lm(S,1);l.If(F,V,d,d,Q);l.If(F,C,d,d,x);l.Ca(V,S,C)};
j.F.aha=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);l.Ke(M[3]);var k=(20-M[0])*.05,d=M[1]*-2.75+60,I=65-d,c=M[2]/10,Q=l.Fm(1),x=l.Fm(1);
l.NI(F,x);var U=l.XW(d,I,x);l.vY(F,C);l.Yq(C,x);l.ur(Q);l.N7(x,Q,k);l.M6(x,U);l.SS(x,M[2]/10);l.add(Q,x);
l.xY(x,C);l.Uq(C)};j.F.awk=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);var k=5+M[0],d=15-M[1],I=M[2],c=k*k/2+k*k%2*1,Q=1-(3-M[2])/10,x=~~(d*d*Q-1),U=~~(d*d*(1-Q));
if(U==0)U=1;var S=l.Fm(1),z=l.Fm(1),V=l.Fm(1),t=l.Fm(1),Y=l.Fm(1);l.NI(F,z);l.r2(z,S,3);l.n3(S,z,2,2,1);
var i=l.XW(20,20,z);l.M6(z,i);l.th(z,Y,5);l.n3(Y,S,k,k,c);l.n3(Y,z,d,d,x);l.n3(Y,V,d,d,U);l.th(Y,t,k);
l.sub(S,t);l.lm(t,1);l.avm(z,t,V);l.vY(F,C);l.xY(V,C);l.Uq(C)};j.F.amf=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);l.Ke(M[5]);var k=l.f_,d=l.om,I=M[0],c=M[1],Q=M[2],x=M[3],U=M[4],S=.05*I+1,z=I/100,V=I>>1,t=2*I-100,Y=+(c==9),i=+(c==7),J=[4,1][Y],H=[3,2][Y],v=[1,2][i],n=[2,1][i],G=[50,75][Y],g=c<4?Q:(Q>>1)+50,W=l.aJD(G,g),L=l._b(x),b=l._b(U),T=l.Fm(4),a=l.Fm(4),R=l.Fm(1),D=l.Fm(1);
function h(C,W){if(g!=50){l.ala(C,W)}}function K(F,u){for(var O=0;O<k;O++){F[O]=l.Pn(F[O]+(u[O]-128)*z)}}function w(F,u){for(var O=0,cd=0;
O<k;O++){F[cd]=l.Pn(F[cd]+(u[cd]-128)*z);F[cd+1]=l.Pn(F[cd+1]+(u[cd+1]-128)*z);F[cd+2]=l.Pn(F[cd+2]+(u[cd+2]-128)*z);
cd+=4}}function N(F,C){l.ur(a);l.Jx(F,C);w(C,a);h(C,W)}function s(u){var cd=0;for(var m=0;m<12;m++)cd+=l.random();
return l.Pn(V*(cd-6)+u)}function A(F,C){l.Jx(F,C);for(var O=0;O<d;O+=4){C[O]=s(C[O]);C[O+1]=s(C[O+1]);
C[O+2]=s(C[O+2])}h(C,W)}function p(F,C){l.Jx(F,C);for(var O=0;O<d;O+=4){if(l.random()<z){C[O]=L[0];C[O+1]=L[1];
C[O+2]=L[2]}}h(C,W)}function q(F,C){l.ur(T);l.If(T,a,H,H,J);l.Jx(F,T);w(T,a);l.If(T,C,5,5,13);h(C,W)}function f(F,C){l.ur(a);
l.Jx(F,T);w(T,a);h(C,W);l.If(T,C,H,H,J)}function e(F,C){l.Jx(F,T);h(C,W);l.z8(T,R);for(var O=0,u=0;O<k;
O++){var cd=((t-R[O]+255)*128.5+.5)/32767;if(l.random()<=cd){C[u++]=b[0];C[u++]=b[1];C[u++]=b[2]}else{C[u++]=L[0];
C[u++]=L[1];C[u++]=L[2]}C[u]=F[u];u++}}function o(F,C){l.vY(F,C);l.Yq(C,R);l.r2(R,D,S);l.n3(D,R,H,H,J);
l.M6(R,W);l.xY(R,C);l.Uq(C)}function E(F){var u=0;if(c==8){for(var cd=0;cd<r;cd++){F[u++]=~~(l.random()*255)}for(var O=1;
O<$;O++){for(var cd=0;cd<r;cd++){F[u++]=F[cd]}}}else{for(var O=0;O<$;O++){var m=~~(l.random()*255);for(var cd=0;
cd<r;cd++){F[u++]=m}}}}function cj(F,C){l.z8(F,R);l.ur(D);K(R,D);E(D);K(R,D);l.P2(F,T,9);l.P2(T,a,9);
l.th(R,D,2);l.M6(D,W);l.th(D,R,2);l.vY(a,C);l.xY(R,C);l.Uq(C)}[N,A,p,q,q,f,e,cj,cj,o][c](F,C)};j.F.at9=function(F,r,$,C,M){var l=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],k=j.F.W,V=0,t,O,v,n,G,g=0,W=1,L=255;
k.G7(r,$);k.Ke(M[3]);var d=k.Fm(1),I=k.Fm(1);k.z8(F,d);var c=M[0],Q=M[1],x=Q<=50?l[Q]/255:1+(255-l[101-Q])/255,U=M[2],S=d.length,z=new Float32Array(S),Y=1+1/10*c,i=(1-1/Y)/2,J=16/256,H=r-1;
for(O=0;O<k.f_;O++){z[O]=d[O]/255;I[O]=c==1?k.random()<1/255?L:W:W}function b(T,a){var R=T*r+a;if(I[R]!=W||T>=$||a>=r){return}var n=z[R],D=x-n,h=k.random(),K=h/Y+i;
if(V==0||Math.abs(G-n)>J){t=K<=D?g:L;V=~~(k.random()*c)}else if(.1<h){V--}else{V=0}I[R]=t;G=n}if(U==0){for(O=0;
O<r;O++){for(v=0;v<r;v++){n=O+v;if(n>=r)break;b(v,H-n)}V=0}for(O=1;O<$;O++){for(v=0;v<$;v++){n=O+v;if(n>=$||v>=r)break;
b(n,H-v)}V=0}}else if(U==1){for(O=0;O<$;O++){for(v=0;v<r;v++){b(O,v)}V=0}}else if(U==2){for(O=0;O<r;
O++){for(v=0;v<r;v++){n=O+v;if(n>=r)break;b(v,n)}V=0}for(O=1;O<$;O++){for(v=0;v<$;v++){n=O+v;if(n>=$||v>=r)break;
b(n,v)}V=0}}else{for(O=0;O<r;O++){for(v=0;v<$;v++){b(v,O)}V=0}}k.gR(I,C)};j.F.az9=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);var k=M[0],d=M[1],I=M[2],c=l.Fm(1),Q=l.Fm(1),x=l.Fm(1),U=l.Fm(1),S=l.Fm(4),z=l.Fm(4);l.Yq(F,U,3,4);
l.z8(F,c);l.n3(c,Q,3,3,1);l.n3(c,x,3,3,9);l.sub(x,Q);l.th(Q,c,3);l.nl(c,40,10,U);l.PH(F,C,k,2,!1,k);
l.PH(F,S,k,2,!0,k);l.n0(z,255);l.Ca(C,c,z);l.Ca(z,c,S);l.tC(S,C,1);l.vY(C);l.Yq(C,c);l.nl(c,d,I,U);l.xY(c,C);
l.Uq(C)};j.F.azD=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);l.Ke(M[3]);var k=M[0],d=M[1],I=M[2]/10;k=k+d;
var c=l.Fm(1),Q=l.Fm(1),x=l.io(),U=l.io();l.ur(c);l.th(c,Q,11);l.th(Q,c,11);l.FC(c,x);l.Oj(x,U,5);l.Oj(U,x,5);
l.amE(U,.97);l.aGj(U,c,k);l.n3(c,Q,d,d,1);l.NI(F,c);l.kE(Q,c,Q,.6);l._U(c,Q,Q,I);l.yL(Q,Q,c,5,1);l.vY(F,C);
l.xY(c,C);l.Uq(C)};j.F.acx=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);var k=Math.abs(M[0]),d=k+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][k],I=2*k+1,c=M[1]/10,Q=c*13/15,x=l.Fm(1),U=l.Fm(1),S=l.Fm(1),z=l.Fm(1),V=l.Fm(4),t=l.Fm(4),Y=l.Fm(4),i=l.Fm(4),J=l.Fm(4);
l.z8(F,x);if(M[0]>=0){l.v4(x)}l.Jx(x,S);l.th(x,z,d);l.th(z,x,d);l.SS(x,c);l.Jx(x,U);l.th(x,z,I);l.th(z,x,I);
l.SS(x,Q);l.n0(Y,M[2]);l.n0(i,M[3]);l.n0(J,M[4]);l.Ca(Y,x,i,V);l.Ca(J,U,V,t);l.Ca(i,S,t,C);l.Yq(F,S,3);
l.xY(S,C,3)};j.F.agY=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);l.Ke(M[5]);var k=M[0]*5.1,d=M[1]/100,I=l.aDg[M[2]],c=l.Fm(1),Q=l.Fm(1),x=l.Fm(1);
l.z8(F,c);l.adE(Q,255);l.ur(x);l.lm(c,k);l.N7(Q,c,.7);l.N7(x,c,d);l.yL(c,c,Q,5,I);l.Jx(F,C);l.a6b(C,k,M[4],M[3]);
l.vY(C);l.xY(Q,C);l.Uq(C)};j.F.a3y=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);var k=M[0],d=4-M[1],I=11-M[2],c=l.Fm(1),Q=l.Fm(1),x=l.Fm(4);
l.NI(F,Q);for(var O=0;O<d;O++){l.Jx(Q,c);l.ae4(c,Q,k,k)}l.P2(F,x,k);l.vY(x,x);l.xY(Q,x);l.Uq(x,x);(I<11?l.aia:l.Jx)(x,C,I)};
j.F.aur=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);l.Ke(M[2]);var k=M[0]+5,d=~~(k/5+1),I=~~(k/2)+1,c=I*I,Q=~~(k/3),x=l.aDg[M[1]],U=new Array(256);
for(var O=0;O<256;O++){U[O]=~~(.2*(O-128))}var S=l.Fm(1),z=l.Fm(1);l.aoX(F,C,k);l.vY(C);l.Yq(C,S);l.ur(z);
l.arw(S,z,U);l.aEq(z,k,k,d,d);l.kE(S,z,S,1);l.th(S,z,Q);l.th(z,S,Q);l.n3(S,z,I,I,c);l.yL(z,z,S,5,x);
l.xY(S,C);l.Uq(C)};j.F.aHC=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);var k=l.Fm(1),d=l.Fm(1),I=l.Fm(1),c=l.io(),Q=l.io();
l.z8(F,k);l.th(k,d,M[2]);l.lm(d,M[0]*5.1);l.n3(d,k,2,2,4);l.th(k,d,3);l.th(d,k,3);l.Jx(k,I);l.th(k,d,5);
l.th(d,k,5);l.FC(k,c);l.Oj(c,Q,5);l.Oj(Q,c,5);l.ats(c,d,M[1]);l.v4(d);l.kE(I,d,I,1);l.gR(I,C)};j.F.aoP=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);var k=1<<7-M[2],d=l.Fm(1),I=l.Fm(1),c=l.Fm(1);l.NI(F,I);l.th(I,d,3);l.Jx(d,I);l.th(d,c,M[0]+5);
l.sub(c,I);l.nl(I,1,M[1]);l.SS(d,1/k);l.SS(d,k);l.sub(d,I);l.vY(F,C);l.xY(I,C);l.Uq(C)};j.F.a6e=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);l.Ke(M[3]);var k=l.Fm(1),d=l.Fm(1),I=l.Fm(1);l.z8(F,k);l.a8K(d,M[0]/50);l.th(d,I,3);l.n3(k,d,9,9,41);
l.nl(d,M[1],M[2]);l.kE(d,I,I,.75);l._U(d,I,d,.5);l.Jx(d,k);l.n3(k,I,3,3,8);l.kE(I,d,I,.75);l.SS(I,1.2);
l.r2(I,k,1);l.th(k,I,2);l.r2(I,k,2);l.SS(k,1.2);l.th(k,I,2);l.gR(I,C)};j.F.aqx=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);var k=M[0]+9,d=M[1]/2,I=M[2],c=M[3],Q=l.BZ(M[4]),x=M[5]+1,U=M[6],S=l.Fm(1),z=l.Fm(1),V=l.Fm(4),t=l.Fm(4);
l.xk(z,I,c,U);l.avT(F,C,k,1,1);l.avT(C,V,k,1,1);l.aBS(V,V,t,7,d);l.SS(t,1.2);l.CZ(t,1.2);l.yL(z,S,S,x,Q);
l.SS(S,3);l.Jx(F,C);l.Ca(t,S,C)};j.F.aCg=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);l.Ke(M[3]);var k=M[0]+4,d=k*2/5+(k%5|0);
k--;var I=M[1]*-2.75+60,c=65-I,Q=M[2]/10,x=l.Fm(1),U=l.Fm(1);l.ur(x);l.NI(F,U);var S=l.XW(I,c,U);l.vY(F,C);
l.Yq(C,U);l.N7(U,x,.8);l.M6(U,S);l.SS(U,Q);l.add(x,U);l.$v(U,x,k,3,!1,d);l.xY(x,C);l.Uq(C)};j.F.a7X=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);l.Ke(M[3]);var k=M[0]+5,d=(k*k>>1)+k%2,I=M[1]/10,c=M[2],Q=(c*c>>1)+c%2,x=l.Fm(1),U=l.Fm(1),S=l.Fm(1),z=l.Fm(4),V=l.Fm(4),t=l.Fm(4);
l.ur(S);l.vY(F,t);l.Yq(t,x);l.N7(x,S,.8);l.th(S,x,3);l.r2(x,S,I);l.xY(S,t);l.Uq(t,t);l.z8(t,S);l.n3(S,x,k,k,d);
l.th(S,U,k);l.sub(x,U);l.lm(U,1);l.If(t,z,7,7,40);l.If(t,V,7,7,10);l.Ca(z,U,V);l.If(V,C,c,c,Q)};j.F.ajF=function(F,r,$,C,M){var l=j.F.W,d=255,O,c;
l.G7(r,$);var k=M[0];if(k<2)d=k;else if(k<12)d=5*k-5;else if(k<47)d=2*k+28;else if(k<50){O=k-47;d=125+12.5*O+12.5*O*O}var I=new Uint8Array(256);
for(O=75,c=15;O<256;O++,c+=24)I[O]=Math.min(255,c);var Q=l.Fm(1),x=l.Fm(1),U=l.Fm(1);l.z8(F,Q);l.th(Q,x,11);
l.th(x,U,11);l.sub(U,Q);l.SS(Q,8);l.sub(U,Q);l.lm(Q,d);l.v4(Q);l.th(Q,x,5);l.lm(x,51);l.th(x,Q,M[1]);
l.th(Q,x,M[1]);l.v4(x);l.M6(x,I);l.gR(x,C)};j.F.a3H=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);var k=l.auj[M[1]],d=M[2],I=d*1.5,c=l.Fm(1),Q=l.Fm(1),x=l.Fm(1);
l.NI(F,c);l.$v(c,Q,15,2,!0,15);l.Jx(Q,x);l.nl(x,d,I);l.th(x,c,3);l.th(Q,x,M[0]);l.sub(x,Q);l.SS(Q,k);
l.sub(c,Q);l.th(Q,c,3);l.$v(c,Q,3,1,!1,1);l.P2(F,C,15);l.vY(C);l.xY(Q,C);l.Uq(C)};j.F.aIJ=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);l.Ke(M[3]);var k=M[0]*5.1,d=16-M[1],I=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][M[2]],c=l.Fm(1),Q=l.Fm(1),x=l.Fm(1);
l.z8(F,c);l.lm(c,k);l.th(c,Q,d);l.th(Q,c,d);l.ur(x);l._U(c,x,x,1);l.kE(c,x,c,.75);l.SS(c,I);l.CZ(c,I);
l.n3(c,Q,2,2,2);l.gR(Q,C)};j.F.apH=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);var k=M[0]+9,d=M[1]+9,I=M[2],c=M[3],Q=l.BZ(M[4]),x=M[5]+1,U=M[6],S=l.Fm(1),z=l.Fm(1),V=l.Fm(1),t=l.Fm(1),Y=l.Fm(1),i=l.Fm(4);
l.NI(F,S);l.ae4(S,V,k,k);l.th(V,S,d);l.Jx(V,Y);l.Jx(S,t);l.sub(Y,t);l.sub(S,Y);l.add(Y,t);l.SS(t,10);
l.xk(z,I,c,U);l.yL(z,S,Y,x,Q);l.avm(Y,t,V,.8);l.P2(F,i,9);l.P2(i,C,9);l.vY(C);l.xY(V,C);l.Uq(C)};j.F.a1w=function(F,r,$,C,M){var l=j.F.W;
l.G7(r,$);var k=16-M[0],d=M[1]*8,I=1-(3-M[2])/10,c=~~(k*k*I-1),Q=~~(k*k*(1-I));if(Q==0)Q=1;var x=l.Fm(1),U=l.Fm(1),S=l.Fm(1),z=l.Fm(4);
l.z8(F,S);l.n3(S,x,7,7,25);l.th(S,U,7);l.sub(x,U);l.lm(U,1);l.If(F,z,k,k,c);l.If(F,C,k,k,Q);l.Ca(z,U,C);
l.vY(C);l.Yq(C,x);l.n3(x,S,3,3,1);l.n3(x,U,3,3,9);l.sub(U,S);l.Jx(S,U);l.sub(x,S);l.sub(S,U);l.n3(U,x,3,3,8);
l.nl(x,d,1);l.xY(x,C);l.Uq(C)};j.F.aJX=function(F,r,$,C,M){var l=j.F.W;l.G7(r,$);l.Ke(M[3]);var k=M[0],d=M[1],I=M[2],c=k>>1,Q=Math.max(~~(k/5),1),x=Math.max(~~(k*2/3),1),U=l.aJD(d,I),S=l.Fm(1),z=l.Fm(1),V=l.Fm(1),t=l.Fm(1),Y=l.Fm(4);
l.NI(F,S);l.aHA(2147483647,4,2,2,0,255,z);l.aHA(4,2147483647,2,2,0,255,t);l.ur(V);l._U(z,V,z,1);l._U(t,V,t,1);
l._U(z,S,z,1);l._U(t,S,t,1);l.P2(F,Y,c);l.P2(Y,C,c);l.n3(z,S,1,k,Q);l.n3(S,z,3,k,x);l.n3(t,S,k,1,Q);
l.n3(S,t,k,3,x);l.p_(z,t);l.vY(C);l.xY(t,C);l.Uq(C);l.ala(C,U)};j.F.hZ=function(F,r,$){var C=$.a2Q,M=$.f_,l=$.Fm(1),top=$.Fm(1),k=$.Fm(1),d=$.Fm(1),I=$.Fm(1),c=$.Fm(1),Q=$.Fm(1),x=$.Fm(1),U=$.Fm(1),S=$.a0,z=$.Y9,V=j.wh.rW,t=j.wh.NB;
V(F,l,S,z,t([8,5,2,5,2,-1,2,-1,-4]));V(F,top,S,z,t([5,5,5,2,2,2,-1,-1,-1]));V(F,k,S,z,t([2,5,8,-1,2,5,-4,-1,2]));
V(F,d,S,z,t([5,2,-1,5,2,-1,5,2,-1]));V(F,I,S,z,t([2,2,2,2,2,2,2,2,2]));V(F,c,S,z,t([-1,2,5,-1,2,5,-1,2,5]));
V(F,Q,S,z,t([2,-1,-4,5,2,-1,8,5,2]));V(F,x,S,z,t([-1,-1,-1,2,2,2,5,5,5]));V(F,U,S,z,t([-4,-1,2,-1,2,5,2,5,8]));
var Y=[l,top,k,d,I,c,Q,x,U];for(var i=0;i<z;i++){for(var J=0;J<S;J++){var H=i*S+J,v=F[H],n=null,G=0;
for(var g=-1;g<2;g++){for(var W=-1;W<2;W++){var L=Y[(g+1)*3+W+1],b=Math.max(0,Math.min(i+g,z-1)),T=Math.max(0,Math.min(J+W,S-1)),a=L[b*S+T],R=Math.abs(a-v);
if(n==null||R<n){n=R;G=a}}}r[H]=G}}};j.F.a8G=function(F,r,$,C,M){var self=j.F.W;self.G7(r,$);var l=self.Fm(1),k=self.Fm(1);
for(var O=0;O<4;O++){self.Yq(F,l,O);if(O<3){j.F.hZ(l,k,self);j.F.hZ(k,l,self);j.F.hZ(l,k,self);j.F.hZ(k,l,self);
j.F.hZ(l,k,self);j.F.hZ(k,l,self);j.F.hZ(l,k,self);j.F.hZ(k,l,self);j.F.hZ(l,k,self)}else k=l;self.xY(k,C,O)}};
j.F.W={};j.F.W.a0=0;j.F.W.Y9=0;j.F.W.f_=0;j.F.W._1=0;j.F.W.om=0;j.F.W.G7=function(F,r){var $=F*r,self=j.F.W;
self.a0=F;self.Y9=r;self.f_=$;self._1=$<<1;self.om=$<<2};j.F.W.Ke=function(F){j.F.W.random=function(){var r=F+=1831565813;
r=Math.imul(r^r>>>15,r|1);r^=r+Math.imul(r^r>>>7,r|61);return((r^r>>>14)>>>0)/4294967296}};j.F.W.Fm=function(F){var r=j.F.W;
return new Uint8Array([-1,r.f_,r._1,-1,r.om][F])};j.F.W.io=function(){return new Int32Array(j.F.W._1)};
j.F.W.th=function(F,r,$,C){if(C==null)C=$;var self=j.F.W,M=self.a0,l=self.Y9,k=C,d=C>>1,I=$,c=$>>1,Q=$*C,x=0;
for(var O=0;O<l;O++){var U=0;for(var S=0;S<k;S++){for(var z=0;z<I;z++){var V=0-c+z,t=O-d+S;if(V<0)V=0;
else if(V>=M)V=M-1;if(t<0)t=0;else if(t>=l)t=l-1;U+=F[t*M+V]}}r[x++]=~~(U/Q);for(var Y=1;Y<M;Y++){for(var S=0;
S<k;S++){var i=Y-c-1,J=i+I,t=O-d+S;if(i<0)i=0;if(J>=M)J=M-1;if(t<0)t=0;else if(t>=l)t=l-1;U+=F[t*M+J]-F[t*M+i]}r[x++]=~~(U/Q)}}};
j.F.W.Oj=function(F,r,$,C){var self=j.F.W,M=new Int32Array(self.f_),l=new Int32Array(self.f_);for(var O=0;
O<2;O++){self.Yq(F,M,O,2);self.th(M,l,$,C);self.xY(l,r,O,2)}};j.F.W.P2=function(F,r,$,C){var self=j.F.W,M=self.Fm(1),l=self.Fm(1);
for(var O=0;O<4;O++){self.Yq(F,M,O);if(O<3)self.th(M,l,$,C);else l=M;self.xY(l,r,O)}};j.F.W.avT=function(F,r,$,C,M){var self=j.F.W,l=self.a0,k=self.Y9,d=$+C-1,I=$>>1,c=d>>1,Q=0,x=$*C,U=new Int32Array($);
for(var O=0;O<k;O++){var S=0,z=0,V=0;for(var t=0;t<$;t++){var Y=M?d-t-C:t;for(var i=Y,J=C+Y;i<J;i++){var H=0-c+i,v=O-I+t;
if(i==Y){U[t]=H}if(H<0)H=0;else if(H>=l)H=l-1;if(v<0)v=0;else if(v>=k)v=k-1;var n=l*v+H<<2;S+=F[n];z+=F[n+1];
V+=F[n+2]}}r[Q++]=~~(S/x);r[Q++]=~~(z/x);r[Q++]=~~(V/x);r[Q]=F[Q];Q++;for(var G=1;G<l;G++){for(var t=0;
t<$;t++){var v=O-I+t,Y=U[t]+1;U[t]=Y;var g=Y-1,W=Y+C-1;if(v<0)v=0;else if(v>=k)v=k-1;if(g<0)g=0;else if(g>=l)g=l-1;
if(W<0)W=0;else if(W>=l)W=l-1;var L=v*l+g<<2,b=v*l+W<<2;S=S+F[b]-F[L];z=z+F[b+1]-F[L+1];V=V+F[b+2]-F[L+2]}r[Q++]=~~(S/x);
r[Q++]=~~(z/x);r[Q++]=~~(V/x);r[Q]=F[Q];Q++}}};j.F.W.$v=function(F,r,$,C,M,l){var self=j.F.W,k=self.a0,d=self.Y9,I=$+C-1,c=$>>1,Q=I>>1,x=0,U=new Int32Array($),S=new Int32Array(256),z=new Int32Array(16);
for(var O=0;O<d;O++){for(var V=0;V<256;V++){S[V]=0}for(var V=0;V<16;V++){z[V]=0}for(var t=0;t<$;t++){var Y=M?I-t-C:t;
for(var i=Y,J=C+Y;i<J;i++){var H=0-Q+i,v=O-c+t;if(i==Y){U[t]=H}if(H<0)H=0;else if(H>=k)H=k-1;if(v<0)v=0;
else if(v>=d)v=d-1;S[F[v*k+H]]++;z[F[v*k+H]>>>4]++}}var n=0,G=0;while(n+z[G>>>4]<l){n+=z[G>>>4];G+=16}for(;
G<256;G++){n+=S[G];if(n>=l)break}r[x++]=G;for(var V=1;V<k;V++){for(var t=0;t<$;t++){var v=O-c+t,Y=U[t]+1;
U[t]=Y;var g=Y-1,W=Y+C-1;if(v<0)v=0;else if(v>=d)v=d-1;if(g<0)g=0;else if(g>=k)g=k-1;if(W<0)W=0;else if(W>=k)W=k-1;
S[F[v*k+g]]--;S[F[v*k+W]]++;z[F[v*k+g]>>>4]--;z[F[v*k+W]>>>4]++}n=0;G=0;while(n+z[G>>>4]<l){n+=z[G>>>4];
G+=16}for(;G<256;G++){n+=S[G];if(n>=l)break}r[x++]=G}}};j.F.W.PH=function(F,r,$,C,M,l){var self=j.F.W,k=self.Fm(1),d=self.Fm(1);
for(var O=0;O<4;O++){self.Yq(F,k,O);if(O<3)self.$v(k,d,$,C,M,l);else d=k;self.xY(d,r,O)}};j.F.W.n3=function(F,r,$,C,M){M=Math.min(C*$,M);
var self=j.F.W,l=self.a0,k=self.Y9,d=C>>1,I=$>>1,c=0,Q=new Int32Array(C),x=new Int32Array(256),U=new Int32Array(16);
for(var O=0;O<k;O++){for(var S=0;S<256;S++){x[S]=0}for(var S=0;S<16;S++){U[S]=0}for(var z=0;z<C;z++){for(var V=0,t=$;
V<t;V++){var Y=0-I+V,i=O-d+z;if(V==0){Q[z]=Y}if(Y<0)Y=0;else if(Y>=l)Y=l-1;if(i<0)i=0;else if(i>=k)i=k-1;
x[F[i*l+Y]]++;U[F[i*l+Y]>>>4]++}}var J=0,H=0;while(J+U[H>>>4]<M){J+=U[H>>>4];H+=16}for(;H<256;H++){J+=x[H];
if(J>=M)break}r[c++]=H;for(var S=1;S<l;S++){for(var z=0;z<C;z++){var i=O-d+z,v=Q[z]+1;Q[z]=v;var n=v-1,G=v+$-1;
if(i<0)i=0;else if(i>=k)i=k-1;if(n<0)n=0;else if(n>=l)n=l-1;if(G<0)G=0;else if(G>=l)G=l-1;x[F[i*l+n]]--;
x[F[i*l+G]]++;U[F[i*l+n]>>>4]--;U[F[i*l+G]>>>4]++}J=0;for(H=0;H<256;H++){J+=x[H];if(J>=M)break}r[c++]=H}}};
j.F.W.If=function(F,r,$,C,M){var self=j.F.W,l=self.Fm(1),k=self.Fm(1);for(var O=0;O<4;O++){self.Yq(F,l,O);
if(O<3)self.n3(l,k,$,C,M);else k=l;self.xY(k,r,O)}};j.F.W.r2=function(F,r,$){var self=j.F.W,C=self.a0,M=self.Y9,l=0;
for(var O=0;O<M;O++){var k=O*C,d=(O-1)*C,I=(O+1)*C;if(d<0)d=k;if(I>=M)I=k;for(var c=0;c<C;c++){var Q=c-1,x=c+1;
if(Q<0)Q=c;if(x>=C)x=c;var U=k+Q,S=k+x,z=d+c,V=I+c,t=k+c,Y=F[U],i=F[S],J=F[z],H=F[V],v=F[t],n=v+(v*4*$+.5);
n=n-((Y+i+H+J)*$+.5);r[l++]=self.Pn(n)}}};j.F.W.tC=function(F,r,$){var self=j.F.W,C=self.Fm(1),M=self.Fm(1);
for(var O=0;O<4;O++){self.Yq(F,C,O);if(O<3)self.r2(C,M,$);else M=C;self.xY(M,r,O)}};j.F.W.aia=function(F,r,$){var self=j.F.W,C=self.a0,M=self.Y9,l=0,k=$+4;
for(var O=0;O<M;O++){var d=O*C,I=(O-1)*C,c=(O+1)*C;if(I<0)I=d;if(c>=M)c=d;for(var Q=0;Q<C;Q++){var x=Q-1,U=Q+1;
if(x<0)x=Q;if(U>=C)U=Q;var S=d+x<<2,z=d+U<<2,V=I+Q<<2,t=c+Q<<2,Y=d+Q<<2;for(var i=0;i<3;i++){var J=F[S+i],H=F[z+i],v=F[V+i],n=F[t+i],G=F[Y+i];
r[l++]=(G*$+J+H+n+v)/k}r[l]=F[l];l++}}};j.F.W.ae4=function(F,r,$,C){var self=j.F.W,M=self.a0,l=self.Y9,k=$>>1,d=C>>1,I=0,c=new Int32Array($),Q=new Int32Array(256);
for(var O=0;O<l;O++){for(var x=0;x<256;x++){Q[x]=0}for(var U=0;U<$;U++){for(var S=0,z=C;S<z;S++){var V=0-d+S,t=O-k+U;
if(S==0){c[U]=V}if(V<0)V=0;else if(V>=M)V=M-1;if(t<0)t=0;else if(t>=l)t=l-1;Q[F[t*M+V]]++}}var Y=0,i=0;
for(var J=0;J<256;J++){if(Y<Q[J]){i=J;Y=Q[J]}}r[I++]=i;for(var x=1;x<M;x++){for(var U=0;U<$;U++){var t=O-k+U,H=c[U]+1;
c[U]=H;var v=H-1,n=H+C-1;if(t<0)t=0;else if(t>=l)t=l-1;if(v<0)v=0;else if(v>=M)v=M-1;if(n<0)n=0;else if(n>=M)n=M-1;
Q[F[t*M+v]]--;Q[F[t*M+n]]++}Y=0;i=0;for(var J=0;J<256;J++){if(Y<Q[J]){i=J;Y=Q[J]}}r[I++]=i}}};j.F.W.aIp=[function(F,r,$,C,M,l,k,d,I,c){return M+(F+r+$)*c-(I+d+k)*c},function(F,r,$,C,M,l,k,d,I,c){return M+(r+$+l)*c-(d+k+C)*c},function(F,r,$,C,M,l,k,d,I,c){return M+($+l+I)*c-(k+C+F)*c},function(F,r,$,C,M,l,k,d,I,c){return M+(l+I+d)*c-(C+F+r)*c},function(F,r,$,C,M,l,k,d,I,c){return M+(I+d+k)*c-(F+r+$)*c},function(F,r,$,C,M,l,k,d,I,c){return M+(d+k+C)*c-(r+$+l)*c},function(F,r,$,C,M,l,k,d,I,c){return M+(k+C+F)*c-($+l+I)*c},function(F,r,$,C,M,l,k,d,I,c){return M+(C+F+r)*c-(l+I+d)*c}];
j.F.W.yL=function(F,r,$,C,M){var self=j.F.W,l=self.a0,k=self.Y9,d=l,I=self.aIp[C-1];for(var O=0;O<k;
O++){var c=(O>0?O-1:0)*d,Q=O*d,x=(O<k?O+1:O)*d;for(var U=0;U<l;U++){var S=U>0?U-1:0,z=U<l?U+1:U,V=Q+U,t=F[c+S],Y=F[c+U],i=F[c+z],J=F[Q+S],H=r[V],v=F[Q+z],n=F[x+S],G=F[x+U],g=F[x+z];
$[V]=self.Pn(I(t,Y,i,J,H,v,n,G,g,M))}}};j.F.W.aBS=function(F,r,$,C,M){var self=j.F.W,l=self.Fm(1),k=self.Fm(1),d=self.Fm(1);
for(var O=0;O<3;O++){self.Yq(F,l,O);self.Yq(r,k,O);self.yL(l,k,d,C,M);self.xY(d,$,O)}self.Yq(r,l,3);
self.xY(l,$,3)};j.F.W.z8=function(F,r){var $=F.length,C=0;for(var O=0;O<$;O++){r[C++]=~~((F[O++]+F[O++]+F[O++]+2)/3)}};
j.F.W.gR=function(F,r){var $=r.length,C=0;for(var O=0;O<$;O++){var M=F[O];r[C++]=M;r[C++]=M;r[C++]=M;
r[C++]=255}if(r[0]==255)r[0]--;else r[0]++};j.F.W.NI=function(F,r){var $=r.length,C=0;for(var O=0;O<$;
O++){var M=F[C++],l=F[C++],k=F[C++];C++;if(l>M)M=l;if(k>M)M=k;r[O]=M}};j.F.W.vY=function(F,r){if(r==null)r=F;
var $=F.length;for(var C=0;C<$;C+=4){var M=F[C],l=F[C+1],k=F[C+2],d=M,I=0,c=M,x;if(l<=M){M=l}else{I=1;
c=l}if(k<=c){if(M>k){M=k}}else{I=2;c=k}var Q=c-M;if(Q!=0){if(I==0){x=~~(43*(l-k)/Q)}else if(I==1){x=~~(43*(k+2*Q-d)/Q)}else{x=43*(d+4*Q-l)/Q}if(x<0){x=255&x-1}r[C]=x;
r[C+1]=~~(255*Q/c)}else{r[C]=Q;r[C+1]=Q}r[C+2]=c;r[C+3]=F[C+3]}};j.F.W.Uq=function(F,r){if(r==null)r=F;
var $=F.length;for(var C=0;C<$;C+=4){var M=F[C],l=F[C+1],k=F[C+2];if(l){if(M==255)M=0;var d=~~(6*M/255),I=~~(-255*d+6*M);
if(d==0){r[C]=k;r[C+1]=~~(k*(255-l*(255-I)/255)/255);r[C+2]=~~(k*(255-l)/255)}else if(d==1){r[C]=~~(k*(255-l*I/255)/255);
r[C+1]=k;r[C+2]=~~(k*(255-l)/255)}else if(d==2){r[C]=~~(k*(255-l)/255);r[C+1]=k;r[C+2]=~~(k*(255-l*(255-I)/255)/255)}else if(d==3){r[C]=~~(k*(255-l)/255);
r[C+1]=~~(k*(255-l*I/255)/255);r[C+2]=k}else if(d==4){r[C]=~~(k*(255-l*(255-I)/255)/255);r[C+1]=~~(k*(255-l)/255);
r[C+2]=k}else{r[C]=k;r[C+1]=~~(k*(255-l)/255);r[C+2]=~~(k*(255-l*I/255)/255)}}else{r[C]=k;r[C+1]=k;r[C+2]=k}r[C+3]=F[C+3]}};
j.F.W.xY=function(F,r,$,C){if($==null)$=2;if(C==null)C=4;var M=F.length;for(var O=0;O<M;O++){r[$]=F[O];
$+=C}};j.F.W.Yq=function(F,r,$,C){if($==null)$=2;if(C==null)C=4;var M=r.length;for(var O=0;O<M;O++){r[O]=F[$];
$+=C}};j.F.W.avm=function(F,r,$,C){if(C==null)C=1;var M=r.length,l=0,k;for(var l=0;l<M;l++){k=r[l];if(k){k*=C;
$[l]=~~((k*F[l]+(255-k)*$[l])/255)}}};j.F.W.Ca=function(F,r,$,C){if(C==null)C=$;var M=r.length,l=0,k,d;
for(var O=0;O<M;O++){k=r[O];if(k){d=255-k;C[l]=~~((k*F[l]+d*$[l])/255);C[l+1]=~~((k*F[l+1]+d*$[l+1])/255);
C[l+2]=~~((k*F[l+2]+d*$[l+2])/255)}C[l+3]=F[l+3];l+=4}};j.F.W.kE=function(F,r,$,C){var M=~~(C*255),l=$.length;
for(var O=0;O<l;O++){$[O]=((255-M*(255-F[O])/255)*r[O]+F[O]*(M*(255-F[O])/255))/255}};j.F.W._U=function(F,r,$,C){var M=~~(C*255),l=$.length;
for(var O=0;O<l;O++){$[O]=((255-M*F[O]/255)*r[O]+F[O]*(M*F[O]/255))/255}};j.F.W.N7=function(F,r,$){var C=r.length;
for(var O=0;O<C;O++){r[O]=~~(F[O]*$+.5)+(r[O]-~~(r[O]*$+.5))}};j.F.W.sub=function(F,r){var $=F.length;
for(var O=0;O<$;O++){r[O]=Math.max(F[O]-r[O],0)}};j.F.W.add=function(F,r){var $=F.length;for(var O=0;
O<$;O++){r[O]=Math.min(F[O]+r[O],255)}};j.F.W.a2Q=function(F,r){var $=F.length;for(var O=0;O<$;O++){r[O]=F[O]+r[O]}};
j.F.W.p_=function(F,r){var $=F.length;for(var O=0;O<$;O++){r[O]=F[O]+r[O]>>1}};j.F.W.Jx=function(F,r){var $=F.length;
for(var O=0;O<$;O++){r[O]=F[O]}};j.F.W.M6=function(F,r){var $=F.length;for(var O=0;O<$;O++){F[O]=r[F[O]]}};
j.F.W.ala=function(F,r){var $=j.F.W.om;for(var O=0;O<$;O+=4){var C=F[O],M=F[O+1],l=F[O+2],k=C;if(M>C)k=M;
if(l>C)k=l;var d=r[k];if(d){F[O]=~~(d*C/k);F[O+1]=~~(d*M/k);F[O+2]=~~(d*l/k)}else{F[O]=d;F[O+1]=d;F[O+2]=d}}};
j.F.W.SS=function(F,r){for(var O=0,$=F.length;O<$;O++){F[O]=Math.min(255,~~(.5+F[O]*r))}};j.F.W.CZ=function(F,r){for(var O=0,$=F.length;
O<$;O++){F[O]=255-Math.min(255,~~(.5+(255-F[O])*r))}};j.F.W.v4=function(F){var r=F.length;for(var O=0;
O<r;O++){F[O]=255-F[O]}};j.F.W.lm=function(F,r,$,C){if($==null)$=0;if(C==null)C=255;for(var O=0,M=F.length;
O<M;O++){F[O]=F[O]>=r?C:$}};j.F.W._b=function(F){return[F>>24&255,F>>16&255,F>>8&255,F&255]};j.F.W.a6b=function(F,r,$,C){if($==null)$=255;
if(C==null)C=4278190335;var M=j.F.W,l=M.om,k=M._b($),d=M._b(C);for(var O=0;O<l;O+=4){var I=~~((F[O]+F[O+1]+F[O+2]+2)/3);
if(I>=r){F[O]=k[0];F[O+1]=k[1];F[O+2]=k[2]}else{F[O]=d[0];F[O+1]=d[1];F[O+2]=d[2]}}};j.F.W.n0=function(F,r){var $=j.F.W,C=$.om,M=$._b(r);
for(var O=0;O<C;){F[O++]=M[0];F[O++]=M[1];F[O++]=M[2];F[O++]=M[3]}};j.F.W.adE=function(F,r){var $=F.length;
for(var O=0;O<$;){F[O++]=r}};j.F.W.aJD=function(F,r){F=F>5?(100-Math.max(4,F))/100:.95;r=r!=100?Math.max(4,r)/100:.9995;
var $=new Uint8Array(256),C=r>.5?.5/(1-r):r*2,M=~~(C*256),l=~~((.5-F*C)*256)<<8;for(var O=0;O<256;O++){$[O]=j.F.W.Pn(l>>8);
l+=M}return $};j.F.W.ur=function(F){for(var O=0,r=j.F.W,$=F.length;O<$;O++){F[O]=~~(r.random()*256)}};
j.F.W.a8K=function(F,r){for(var O=0,$=j.F.W,C=F.length;O<C;O++){F[O]=$.random()<r?255:0}};j.F.W.aau=function(F,r,$){for(var O=0,C=j.F.W,M=F.length;
O<M;O++){if(C.random()<r)F[O]=$}};j.F.W.arw=function(F,r,$){var C=F.length;for(var O=0;O<C;O++){F[O]=j.F.W.Pn(F[O]+$[r[O]])}};
j.F.W.In=function(F){var r=new Uint32Array(256);for(var O=0,$=F.length;O<$;O++)r[F[O]]++;return r};j.F.W.awz=function(F,r){var $=0,C=0,M=new Uint32Array(256),l=new Float32Array(256);
for(var O=0,k=F.length;O<k;O++){var d=F[O],I=r[O];if(I==255){M[d]++;$++}else if(I>0){I/=255;C+=I;l[d]+=I;
if(C>=1){C--;$++}if(l[d]>=1){l[d]--;M[d]++}}}return[$,M]};j.F.W.XW=function(F,r,$,C){var self=j.F.W,M,l,Q=0,U=256;
if(C){var k=self.awz($,C);M=k[1];l=k[0]/100}else{M=self.In($);l=self.f_/100}var d=new Uint8Array(256),I=l*F,c=l*r,x=-1;
do{Q+=M[++x]}while(Q<=I);Q=0;do{Q+=M[--U]}while(Q<=c);if(U-x<=0)U=x+1;if(U>255){U=255;x=254}var S=255/(U-x),z=-x;
for(var O=0;O<256;O++){d[O]=self.Pn(S*z+.5);z++}return d};j.F.W.nl=function(F,r,$,C){var M=j.F.W;M.M6(F,M.XW(r,$,F,C))};
j.F.W.acr=function(F,r){var self=j.F.W,$=self.In(F),C=self.f_*r/100,M=0,l=-1;do{M+=$[++l]}while(M<=C);
return l};j.F.W.FC=function(F,r){var $=0,self=j.F.W,C=self.a0,M=self.Y9,l=1/Math.PI,k=l*255;for(var O=0;
O<M;O++){var d=O+1;if(d==M)d--;var I=O*C,c=~~((1-(O+1)/M)*255);for(var Q=0;Q<C;Q++){var x=Q+1;if(x==C)x--;
var U=F[I+Q],S=F[I+x],z=F[d*C+Q];if(U-z==0){r[$++]=c}else{var V=U-z+255;if(V==255){V=0}else{V=~~(Math.atan2(1/(255-V),1)*k+.5);
if(V<0)V+=255}r[$++]=V}if(U-S==0){r[$++]=~~((1-(Q+1)/C)*255)}else{var V=U-S+255;if(V==255){V=0}else{V=~~(Math.atan2(1/(255-V),1)*k+.5);
if(V<0)V+=255}r[$++]=V}}}};j.F.W.amE=function(F,r){var self=j.F.W,$=self.a0,C=self.Y9,M=0;for(var O=0;
O<C;O++){for(var l=0;l<$;l++){F[M]=~~(O*r+.5)+~~(F[M]*(1-r)+.5);M++;F[M]=~~(l*r+.5)+~~(F[M]*(1-r)+.5);
M++}}};j.F.W.a1V=function(F,r,$,C){var self=j.F.W,M=self.a0,l=self.Y9,k=0;for(var O=0;O<l;O++){for(var d=0;
d<M;d++){r[k]=~~(r[k]*(1-$)+.5)+~~(F[k]*C+.5);k++;r[k]=~~(r[k]*(1-$)+.5)+~~(F[k]*C+.5);k++}}};j.F.W.aGj=function(F,r,$){var self=j.F.W,C=self.a0,M=self.Y9,l=0,k=0;
for(var O=0;O<M;O++){for(var d=0;d<C;d++){var I=F[l++],c=F[l++];r[k++]=c%$>=2&&I%$>=2?255:0}}};j.F.W.aHA=function(F,r,$,C,M,l,k){var self=j.F.W,d=self.a0,I=self.Y9,c=0,Q=0,x=0;
for(var O=0;O<I;O++){var U=O%F<$||I-$<=O;for(var S=0;S<d;S++){k[c++]=U||S%r<C||d-C<=S?M:l}}};j.F.W.xk=function(F,r,$,C){var self=j.F.W,M=self.a0,l=self.Y9,k=dD.xk(r),d=k[1],I=k[0].r,c=k[0].$,Q=100/$;
for(var x=0;x<l;x++)for(var U=0;U<M;U++){var S=j.H.OS(U*Q,x*Q,d,I,c);F[x*M+U]=C?255-S:S}};j.F.W.Pn=function(F){return~~Math.min(255,Math.max(0,F))};
j.F.W.auj=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];j.F.W.aDg=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];
j.F.W.BZ=function(F){return F>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][F-41]:F/40};j.F.W.aoX=function(F,r,$){var self=j.F.W,C=self.a0,M=self.Y9,l=$,k=$>>1,d=k-1,I=l*l,c=0;
for(var O=0;O<M;O++){var Q=0,x=0,U=0,S=~~(O/$)*$,z=0;for(var V=0;V<l;V++){for(var t=0;t<l;t++){var Y=z+t,i=S+V;
if(Y>=C)Y=C-1;if(i>=M)i=M-1;Q+=F[i*C+Y<<2];x+=F[(i*C+Y<<2)+1];U+=F[(i*C+Y<<2)+2]}}var J=~~(Q/I),H=~~(x/I),v=~~(U/I);
r[c]=J;r[c+1]=H;r[c+2]=v;r[c+3]=F[c+3];c+=4;for(var n=1;n<C;n++){for(var V=0;V<l;V++){var G=n-1,g=G+l,i=S+V;
if(g>=C)g=C-1;if(i>=M)i=M-1;var W=i*C,L=W+g<<2,b=W+G<<2;Q+=F[L]-F[b];x+=F[L+1]-F[b+1];U+=F[L+2]-F[b+2]}if(n%$==0){J=~~(Q/I);
H=~~(x/I);v=~~(U/I)}r[c]=J;r[c+1]=H;r[c+2]=v;r[c+3]=F[c+3];c+=4}}};j.F.W.aEq=function(F,r,$,C,M){var self=j.F.W,l=self.a0,k=self.Y9,d=0,I=0,c=0,Q=0;
for(var O=Q;O<k+Q;O++){var x=O%r>=C||O<C||k+Q-C<=O;for(var U=0;U<l;U++){F[d++]=x&&(U%$>=M||U<M||l-M<=U)?255:0}}};
j.F.W.ats=function(F,r,$){var C=function(c,Q){return Q<=c?c/Q&1?Q-c%Q:c%Q:c},M=[function(d,I){return C(d,255)/255},function(d,I){return(255+C(d,255)-C(I,255))/510},function(d,I){return(255-C(I,255))/255},function(d,I){return(510-C(d,255)-C(I,255))/510},function(d,I){return(255-C(d,255))/255},function(d,I){return(255-C(d,255)+C(I,255))/510},function(d,I){return C(I,255)/255},function(d,I){return(C(d,255)+C(I,255))/510}][$],l=0,k=0;
for(var O=0;O<j.F.W.f_;O++){var d=F[l++],I=F[l++];r[k++]=~~(255*M(d,I))}};j.F.a8o=function(){var F=[],r=new Uint8Array(512),$=new Float32Array(512),C=new Float32Array(512),M=[1,-1,1,-1,1,-1,0,0],l=[1,1,-1,-1,0,0,1,-1],k=0,d,z=0;
for(;k<256;k++)F[k]=k;while(k!=0){k--;d=Math.floor(Math.random()*k);F[d]^=F[k]^(F[k]=F[d])}function I(I){I=Math.floor(I*65536);
if(I<256){I|=I<<8}for(var O=0;O<256;O++){var Y=O+256,i=F[O]^(O&1?I:I>>8)&255;r[O]=r[Y]=i;i=i%8;$[O]=$[Y]=M[i];
C[O]=C[Y]=l[i]}}function c(Y){return Y*Y*Y*(Y*(Y*6-15)+10)}function Q(Y,i,J){return(1-J)*Y+J*i}function x(Y,i){return Y&i}function U(Y,i){return Y%i}function S(Y,i,J,H,v){var n=Math.floor(Y),G=Math.floor(i),k,g,W,L,b,T;
Y=Y-n;i=i-G;n=n&255;G=G&255;k=n+r[G];L=$[k]*Y+C[k]*i;k=n+r[v(G+1,H)];W=$[k]*Y+C[k]*(i-1);k=v(n+1,J)+r[G];
b=$[k]*(Y-1)+C[k]*i;k=v(n+1,J)+r[v(G+1,H)];T=$[k]*(Y-1)+C[k]*(i-1);g=c(Y);return Q(Q(L,b,g),Q(W,T,g),c(i))}function V(Y,k,i){Y[k]=i}function t(Y,i,J,H,v){var n=Math.min(Math.min(i,256),Math.min(256,J)),G=n==256||n<8,g=8,W=new Uint32Array(g),L=new Uint32Array(g),b=new Float32Array(g),T=new Float32Array(g),a=1,R=1,D=G?x:U,h=V,K;
for(var O=0;O<g;O++){K=R*1/n;if(G){L[O]=(1<<Math.ceil(Math.log2(J*K)))-1;W[O]=(1<<Math.ceil(Math.log2(i*K)))-1}else{L[O]=K*J;
W[O]=K*i}b[O]=a;T[O]=K;a*=.5;R=R<<1}I(Math.random());for(var X=0,k=0;X<J;X++){for(var w=0;w<i;w++){var N=0;
for(var s=0;s<g;s++){K=T[s];N+=S(w*K,X*K,W[s],L[s],D)*b[s]}h(H,k++,Math.round(Math.max(0,255*Math.min(1,.5+N*.5))))}}}return t}();
j.F.az2=function(){function F(r,$,C,M){var l=new Uint8Array(r.length>>>2),k=new Uint8Array(r.length>>>2),d=new Uint8Array(r.length);
for(var O=0;O<r.length;O+=4){var I=r[O+0]*.3+r[O+1]*.59+r[O+2]*.11;k[O>>>2]=I;d[O]=r[O];d[O+1]=r[O+1];
d[O+2]=r[O+2]}j.wh.aaN(k,l,$,C);j.wh.Te(r,M,$,C,j.wh.hs[1],!1,!0);for(var O=0;O<r.length;O+=4){d[O+3]=255-l[O>>>2]}for(var O=0,c=r.length;
O<c;O+=4){var Q=d[O+3]/255;M[O]=d[O]*Q+M[O]*(1-Q);M[O+1]=d[O+1]*Q+M[O+1]*(1-Q);M[O+2]=d[O+2]*Q+M[O+2]*(1-Q)}}return F}();
j.F.ajd=function(){function F(l,k,d,I,c){var Q=new Uint32Array(l.buffer),x=0;for(var O=0;O<d;O++){for(var U=0;
U<k;U++,x+=4){var S=Q[O*k+U],z=S&255,V=S>>>8&255,t=S>>>16&255,Y=S>>>24&255,i=~~(Math.random()*8),J=i%3,H=0,v=0;
if(i<3){v--}else if(i>4){v++}if(J==0){H--}else if(J==2){H++}var n=U+H,G=O+v;if(n<0)n=0;else if(n>k-1)n=k-1;
if(G<0)G=0;else if(G>d-1)G=d-1;var S=Q[G*k+n],g=S&255,W=S>>>8&255,L=S>>>16&255,b=S>>>24&255;I[x]=c(z,g);
I[x+1]=c(V,W);I[x+2]=c(t,L);I[x+3]=c(Y,b)}}}function r(l,k){return k}function $(l,k){return l>k?k:l}function C(l,k){return l<k?k:l}function M(l,k,d,I,c){var Q=c[0];
if(Q==0)F(l,k,d,I,r);else if(Q==1)F(l,k,d,I,$);else if(Q==2)F(l,k,d,I,C);else if(Q==3){console.error("Not implemented")}else console.error("Mew mew")}return M}();
j.F.ay7=function(){function F(r,$,C,M,l){var k=l&&l[0]?l[0]:4,d,I,c,Q,x,U,S;for(var O=0;O<C;O++){var z=Math.max(O-k,0),V=Math.min(O+k,C-1);
for(var t=0;t<$;t++){var Y=Math.max(t-k,0),i=Math.min(t+k,$-1);d=z*$+Y<<2;Q=r[d];x=r[d+1];U=r[d+2];S=r[d+3];
d=z*$+i<<2;Q+=r[d];x+=r[d+1];U+=r[d+2];S+=r[d+3];d=V*$+Y<<2;Q+=r[d];x+=r[d+1];U+=r[d+2];S+=r[d+3];d=V*$+i<<2;
Q+=r[d];x+=r[d+1];U+=r[d+2];S+=r[d+3];d=O*$+t<<2;M[d]=Q+2>>>2;M[d+1]=x+2>>>2;M[d+2]=U+2>>>2;M[d+3]=S+2>>>2}}}return F}();
j.F.afZ=function(){function F(r,$,C,M){var l=new Uint8Array(r.length),k=new Uint8Array(r.length>>>2),d=new Uint8Array(r.length>>>2);
j.wh.Te(r,l,$,C,j.wh.hs[2],!1,!0);for(var O=0;O<r.length;O+=4){var I=l[O+0]*.3+l[O+1]*.59+l[O+2]*.11;
k[O>>>2]=I;M[O+0]=r[O+0];M[O+1]=r[O+1];M[O+2]=r[O+2];M[O+3]=r[O+3]}j.wh.aaN(k,d,$,C);for(var O=0;O<r.length;
O+=4){l[O+3]=~~(Math.max(0,255-d[O>>>2]-50)*(255/205))}for(var O=0,c=r.length;O<c;O+=4){var Q=l[O+3]/255;
M[O]=l[O]*Q+M[O]*(1-Q);M[O+1]=l[O+1]*Q+M[O+1]*(1-Q);M[O+2]=l[O+2]*Q+M[O+2]*(1-Q)}}return F}();j.F.rS=function(){function F(i,J){return i[J]+i[J+1]+i[J+2]+i[J+3]}function r(i,J){return i[J]+i[J+1]+i[J+2]+2*i[J+3]}function $(i,J,H,v){i[J]=H[v];
i[J+1]=H[v+1];i[J+2]=H[v+2];i[J+3]=H[v+3]}function C(i,J,H){i[J]=i[H];i[J+1]=i[H+1];i[J+2]=i[H+2];i[J+3]=i[H+3]}function M(i,J,H){i[H]=J[H];
i[H+1]=J[H+1];i[H+2]=J[H+2];i[H+3]=255-J[H+3]}function l(i){for(var O=0,J=i.length;O<J;O+=4){i[O+3]=255-i[O+3]}}function k(){var i=Math.random();
if(i>.5)return 0;if(i>.25)return 1;if(i>.1)return 2;if(i>.02143)return 3;if(i>.00445)return 4;if(i>65e-5)return 5;
if(i>415e-6)return 6;if(i>55e-6)return 7;return 8}function d(i,J,H,v,n,G){i[J]=H[v]+(n[G]-H[v]>>1);i[J+1]=H[v+1]+(n[G+1]-H[v+1]>>1);
i[J+2]=H[v+2]+(n[G+2]-H[v+2]>>1);i[J+3]=H[v+3]+(n[G+3]-H[v+3]>>1)}function I(i,J,H,v,n,G){i[J]=n[G]+H[v]>>1;
i[J+1]=n[G+1]+H[v+1]>>1;i[J+2]=n[G+2]+H[v+2]>>1;i[J+3]=n[G+3]+H[v+3]>>1}function c(i,J,H,v,n,G,g,W,L){var b=0,T=0,a=0,O,R=n[G],D;
d(W,0,i,J,i,H);for(O=0;O<R;O++){d(W,(O+1)*4,W,O*4,i,H)}T=(R+1)*4;a+=R;G--;$(i,J,W,T-4);v[G]=F(i,J);J-=L;
while(G>0&&v[G-1]<v[G]){D=W;W=g;g=D;b=T;I(W,0,i,J-L,g,0);for(O=4;O<b;O+=4){I(W,O,W,O-4,g,O)}R=n[G];for(O=a;
O<R;O++){d(W,T,W,T-4,g,b-4);T+=4;a++}G--;$(i,J,W,T-4);v[G]=F(i,J);J-=L}}function Q(i,J,H,v,n){var G=J*4,g=0,W,L,b=new Uint8Array(J+1),T=new Uint8Array(10*4),a=new Uint8Array(10*4);
for(var O=0;O<H;O++){M(v,i,g);n[0]=F(v,g);b[0]=k();W=g;g+=4;for(var R=1;R<J;R++){M(v,i,g);n[R]=F(v,g);
L=k();b[R]=L;if(n[R-1]<n[R]&&L>0){c(v,g-4,g,n,b,R,T,a,4)}g+=4}n[J]=n[0];b[J]=b[0];if(n[J-1]<n[J]&&L>0){c(v,g,W,n,b,J,T,a,4)}}l(v)}function x(){var i=Math.random();
if(i>.659755)return 0;if(i>.1625)return 10;if(i>.06)return 20;if(i>.01)return 30;if(i>.0035)return 40;
if(i>65e-5)return 50;if(i>415e-6)return 60;if(i>55e-6)return 70;return 80}function U(i,J,H,v,n,G){var g=x()+1,W=v[n];
for(var O=1;O<g;O++){if(0>n)break;if(v[n-O]<W){C(i,J,H)}else{break}J+=G}}function S(i,J,H,v,n){var G=J*4,g=0;
for(var O=0;O<H;O++){M(v,i,g);n[0]=F(v,g);g+=4;for(var W=1;W<J;W++){M(v,i,g);n[W]=F(i,g);if(n[W-1]<n[W]){U(v,g-4,g,n,W,-4)}g+=4}n[J]=n[0];
if(n[W-1]<n[W]){U(v,g-4,g-G,n,W,-4)}}l(v)}function z(i,J,H,v,n,G){var g=1,W,L,b=new Uint8Array(4),T,a=J;
while(Math.random()<1/g){a=J;if(v<=1)break;W=H[v];L=H[v-1];if(W<=L)break;$(b,0,i,a-G);T=!0;for(var O=v;
O<n;O++){if(L>H[O]){$(i,a-G,b,0);H[O-1]=L;T=!1;break}$(i,a-G,i,a);H[O-1]=H[O];a+=G}if(T){$(i,a-G,b,0);
H[n-1]=L}g++;v--;J-=G}}function V(i,J,H,v,n){var G=0,g=0,W=J*4;for(var O=0;O<H;O++){g=G;for(var L=0;
L<J;L++){M(v,i,G);n[L]=r(v,G);G+=4}G=g;for(var L=1;L<J;L++){if(n[L-1]<n[L]&&Math.random()<.66){z(v,G+4,n,L,J,4)}G+=4}G+=4}l(v)}function t(i,J,H,v,n){var G=n[0],g=n[1],W=new Uint16Array(J+1),L=i,b=v,T;
if(g){T=v.slice(0);Y(i,v,J,H);L=v;b=T}if(G==0)Q(L,J,H,b,W);else if(G==1)S(L,J,H,b,W);else if(G==2)V(L,J,H,b,W);
if(g){Y(T,v,J,H)}}function Y(i,J,H,v){for(var n=0;n<v;n++)for(var G=0;G<H;G++){var g=n*H+G<<2,W=n*H+(H-1-G)<<2;
J[W]=i[g];J[W+1]=i[g+1];J[W+2]=i[g+2];J[W+3]=i[g+3]}}return t}();j.F.a4A=function(F,r,$,C,M){var l=j.F.W,k=1,t=0,J=0;
l.G7(r,$);l.Ke(M[2]);var d=3<<13,I=Math.PI/2.43,c=I/256,Q=Math.PI*2/256;function x(){var G=l.random()*256,g=l.random()*256;
return k*~~(Math.tan(I-G*c)*325*Math.cos(g*Q)*256)+d>>16}k=M[0];var U=M[1],S=(U+2)/2,z=l.random()*255,V=l.Fm(1);
for(var O=0;O<$;O++){var Y=l.Pn(x()+z);for(var i=0;i<r;i++){Y=l.Pn(x()+Y);V[t++]=Y}}t=r;for(var O=1;
O<$;O++){var H=l.Pn(x()+V[J++]);V[t++]=H;for(var i=1;i<r;i++){var v=J+1;if(i+1==r){v--}var n=(S+H+V[v]+V[J]*U)/(U+2);
H=l.Pn(x()+n);V[t++]=H;J++}}l.gR(V,C)};var fb=function(){function F(q){q=q^61^q>>>16;q=q+(q<<3);q=q^q>>>4;
q=q*668265261;q=q^q>>>15;return q}var r=function(){var r=function(q){if(q){this.xz=q}this.xz=F(this.xz);
return(this.xz&16777215)*(1/16777215)};return r};function $(q,f){if(f==null){f=[0,0]}return Math.sqrt((f[0]-q[0])*(f[0]-q[0])+(f[1]-q[1])*(f[1]-q[1]))}function C(q,f){if(f==null){f=[0,0]}return[-(f[1]-q[1])/$(q,f),(f[0]-q[0])/$(q,f)]}function M(q){return[Math.cos(q),Math.sin(q)]}function l(q){var f=$(q,[0,0]),e=[q[0]/f,q[1]/f],o=Math.atan(e[1]/e[0]);
if(e[0]>0&&e[1]<0){o+=2*Math.PI}else if(e[0]<0&&e[1]<0){o+=Math.PI}else if(e[0]<0&&e[1]>0){o+=Math.PI}return o}function k(q){var k=0;
for(var O=1;O<q.length/2;++O){k+=$([q[2*O],q[2*O+1]],[q[2*(O-1)],q[2*(O-1)+1]])}return k}function d(q,f,e){var o=new Float32Array(q.length),E=1/(q.length/2),cj=v(e);
for(var O=0;O<q.length/2;++O){var u=O*E,cd=u/2+.5,m=1,aZ=0;if(e.shape==2){m=1/(2*cd)}if(e.shape==3){cd=(1-u)/2+.5;
m=1/(2*cd)+.5}if(e.shape==4){cd=u;m=Math.sin(3/2*Math.PI*cd)/4+1}if(e.shape==5){cd=(u-.5)*6;m=(-Math.atan(cd)/1.25+1)/5+.6-.2*u}var jN=[null,null];
if(O==0){jN=C([q[2*O],q[2*O+1]],[q[2*(O+1)],q[2*(O+1)+1]])}else if(O==q.length/2-1){jN=C([q[2*(O-1)],q[2*(O-1)+1]],[q[2*O],q[2*O+1]])}else{jN=C([q[2*(O-1)],q[2*(O-1)+1]],[q[2*(O+1)],q[2*(O+1)+1]])}o[2*O]=q[2*O]+(m*f+aZ)*jN[0];
o[2*O+1]=q[2*O+1]+(m*f+aZ)*jN[1];if(e.style==2){o[2*O]+=n(2*O/o.length,cj,e)}}return o}function I(q,f,e){var o=new Float32Array(q.length),E=1/(q.length/2);
for(var O=0;O<q.length/2;++O){var cj=O*E,u=[null,null],cd=.6*e.lz*W(cj,f.ay_)*e.ge/100,m=.6*e.lz*W(cj,f.axv)*e.ge/100,aZ=f.aEO*cd+(1-f.aEO)*m;
if(O==0){u=C([q[2*O],q[2*O+1]],[q[2*(O+1)],q[2*(O+1)+1]])}else if(O==q.length/2-1){u=C([q[2*(O-1)],q[2*(O-1)+1]],[q[2*O],q[2*O+1]])}else{u=C([q[2*(O-1)],q[2*(O-1)+1]],[q[2*(O+1)],q[2*(O+1)+1]])}o[2*O]=q[2*O]+aZ*u[0];
o[2*O+1]=q[2*O+1]+aZ*u[1]}return o}function c(q){if(q.cL==1){return[.150684932,.205479452,.465753425,.178082192]}else if(q.cL==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var f=[],e=1/(a(q)-1);
for(var O=0;O<a(q)-1;++O){f.push(e)}return f}}function Q(q,f,e){var o=[],E=f-q,cj=q;for(var O=0;O<e.length-1;
++O){o.push(cj+e[O]*E);cj=o[O]}return o}function x(q,f,e,o){var E=new Float32Array(e.length),cj=0,u={shape:Math.floor(o.random()*2.99),akq:o.random()*.1+.15};
for(var O=0;O<e.length-1;++O){var cd=cj+e[O];E[O]=((1-cd)*q+cd*f)*Y(o,cd,u);cj=cd}return E}function U(q,f,e,o){var E=b(o),cj=o.random(),u=cj*20+(1-cj)*26,cd=new Float32Array(e.length),m=0;
for(var O=0;O<e.length-1;++O){var aZ=m+e[O];cd[O]=(1-aZ)*q+aZ*f+E/u*(2/3*Math.sin(Math.PI*aZ)+1/3*Math.sqrt(Math.sin(Math.PI*aZ)));
m=aZ}return cd}function S(q,f,e){var o=[];for(var O=0;O<f.length-1;++O){o.push(f[O].slice());var E=O*(a(e)-1),cj=(O+1)*(a(e)-1),u=q[cj]-q[E];
for(var cd=E+1;cd<cj;++cd){var m=v(e),aZ=new Float32Array(f[0].length),jN=(q[cd]-q[E])/u;for(var eh=0;
eh<f[0].length/2;++eh){aZ[2*eh]=(1-jN)*f[O][2*eh]+jN*f[O+1][2*eh];aZ[2*eh+1]=(1-jN)*f[O][2*eh+1]+jN*f[O+1][2*eh+1];
if(e.style==2){aZ[2*eh]+=n(2*eh/f[0].length,m,e)}}o.push(aZ)}}o.push(f[f.length-1]);return o}function z(q,f,e){var o=new Array(f.length),E=N(q),u=null;
for(var O=0;O<f.length;++O){o[O]=d(E,(f[O]-.5)*e.ge,e)}var cj=1+.05*e.auG*b(e)/b({cL:1});for(var O=0;
O<f.length;++O){if(f[O]==0){u=O}}for(var O=0;O<f.length;++O){var cd=(e.random()-.5)*2,m=Math.round(e.random()*9+1),aZ=new Float32Array(m*2+2);
for(var jN=0;jN<=m;++jN){aZ[2*jN]=o[O][0]-(o[O][2*jN]-o[O][0]);aZ[2*jN+1]=o[O][1]-(o[O][2*jN+1]-o[O][1])}if(O==u){cd*=.1}for(var jN=(o[O].length-1)/2;
jN>m;--jN){o[O][2*jN]=(1-cd)*o[O][2*jN]+cd*(o[O][2*(jN-m)]+cj*(o[O][2*jN]-o[O][2*(jN-m)]));o[O][2*jN+1]=(1-cd)*o[O][2*jN+1]+cd*(o[O][2*(jN-m)+1]+cj*(o[O][2*jN+1]-o[O][2*(jN-m)+1]))}for(var jN=m-1;
jN>=0;--jN){o[O][2*jN]=(1-cd)*o[O][2*jN]+cd*(aZ[2*(m-jN)]+cj*(o[O][2*jN]-aZ[2*(m-jN)]));o[O][2*jN+1]=(1-cd)*o[O][2*jN+1]+cd*(aZ[2*(m-jN)+1]+cj*(o[O][2*jN+1]-aZ[2*(m-jN)+1]))}}var eh=g(f,e);
if(e.lz>0){var iA=0;for(var O=0;O<f.length;++O){if(O==0){iA+=f[O]}else{iA+=Math.abs(f[O]-f[O-1])}var hd=iA-Math.floor(iA),kx=1;
if(hd==0){kx=0}o[O]=I(o[O],{ay_:eh[Math.floor(iA)],axv:eh[Math.floor(iA)+kx],aEO:hd},e)}}return o}function V(q,f){var e=h(f,q),o=K(f,q),E=[],cj=[],u=[],cd=c(q);
for(var O=0;O<f.length-1;++O){E.push(f[O]);cj.push(e[O]);u.push(o[O]);var m=Q(f[O],f[O+1],cd),aZ=x(e[O],e[O+1],cd,q),jN=U(o[O],o[O+1],cd,q);
for(var eh=0;eh<m.length;++eh){E.push(m[eh]);cj.push(aZ[eh]);u.push(jN[eh])}}E.push(f[f.length-1]);cj.push(e[e.length-1]);
u.push(o[o.length-1]);return{aj7:E,agt:cj,wN:u}}function t(q,f,e,o){var E=new Float32Array(2*o),cj=q.length/2,u=cj-f,cd=e*u,m=cd/o;
for(var O=0;O<o;++O){var aZ=Math.floor(f+O*m),jN=Math.ceil(f+O*m),e=f+O*m,eh=jN-aZ,iA=1,hd=0;if(eh!=0){iA=(jN-e)/eh;
hd=(e-aZ)/eh}E[2*O]=iA*q[2*aZ]+hd*q[2*jN];E[2*O+1]=iA*q[2*aZ+1]+hd*q[2*jN+1]}return E}function Y(q,f,e){var o=e.akq,E=f*2*Math.PI,cj=E,u=0;
if(e.shape==0){u=(Math.sin(2*cj+Math.PI/2)+1)/2}else if(e.shape==1){u=(Math.sin(cj+Math.PI/2)+1)/2}else{u=(4*Math.sin(3/4*cj+Math.PI)+Math.sin(Math.PI/2+2*cj)-2*cj/Math.PI+6)/7}return Math.min(1,1-o+o*u)}function i(q,f,e,o){var E=[];
for(var O=0;O<q.length;++O){E.push(t(q[O],f[O],e[O],o))}return E}function J(q,f,e){var o=[];for(var O=0;
O<q.length;++O){var E=M(2*Math.PI*e.random()),cj=M(2*Math.PI*e.random()),u=e.NR*.5*R({cL:1})/R(e),cd=u*e.ge/200,m=u*f/500,aZ=new Float32Array(q[0].length);
for(var jN=0;jN<q[0].length/2;++jN){var eh=M(2*Math.PI*e.random()),iA=2*jN/q[0].length;aZ[2*jN]=q[O][2*jN]+cd*(eh[0]+((1-iA)*E[0]+iA*cj[0]));
aZ[2*jN+1]=q[O][2*jN+1]+m*(eh[1]+((1-iA)*E[1]+iA*cj[1]))}o.push(aZ)}return o}function H(q,f,e){var o=e.rH,E=2/o,cj=[1/10,1/30,1/40,1/45,1/100],u=cj[e.cL-1],cd=4*(e.gk/25*E*u)*(1-e.NR/150),eh=0,hd=0;
if(e.style==3){return cd*.09}var m=2.2*(q-.5),aZ=m*m*m*m+.27+Math.max(0,(e.gk-50)/15),jN=2*(Math.sin(3*Math.PI*f)/(Math.PI*f+2)+1.1)-f/2;
f=2*f;if(f<.41){var iA=2*Math.PI*f/.41;eh=(Math.sin(iA-Math.PI/2)+1)/4+.5}else if(f<.77){var iA=2*Math.PI*(f-.41)/.36;
eh=(Math.sin(iA-Math.PI/2)+1)/4+.5-iA/2/Math.PI*.5}else{var iA=2*Math.PI*(f-.77)/.23;eh=(Math.sin(iA-Math.PI/2)+1)/2*.12}eh*=3;
eh+=Math.max(0,(e.gk-50)/15);if(e.I==6){hd=jN}else{hd=eh}return cd*aZ*hd}function v(q){return{m:q.random()*7/2+.5,Sn:q.random()*2*Math.PI}}function n(q,f,e){return e.ge/300*a({cL:1})/a(e)*10*(Math.sin(f.m*2*Math.PI*q+f.Sn)+10*(e.random()-.5))}function G(q){var f=Math.exp(-q.lz/25);
return{m:q.random()*3/2+.5,Sn:q.random()*2*Math.PI,gZ:(q.random()-.5)*10*f}}function g(q,f){var e=Math.ceil(X(q)),o=[];
for(var O=0;O<=e;++O){o.push(G(f))}return o}function W(q,f){var e=f.m*4*Math.PI*q+f.Sn;return Math.exp(-1/2*Math.PI*q)*Math.cos(e)*Math.cos(e)*Math.cos(e)*Math.cos(e)*Math.cos(e)+q*f.gZ-f.gZ/4}function L(q,f,e,o,E){var cj=0,u=R(f)-1;
for(var O=0;O<u;++O){for(var cd=0;cd<q.length-1;cd+=a(f)-1){for(var m=O;m<q[0].length/2-u;m+=u){for(var aZ=cd;
aZ<cd+(a(f)-1);++aZ){e[E+cj]=H(aZ*(f.rH-1)/(q.length-1)%1,m/q[0].length,f);var jN=0,eh=0;if(f.I==6&&aZ!=0&&aZ!=q.length-1){eh=(q[aZ][2*(m+1)+1]-q[aZ][2*m+1])/2;
jN=(q[aZ][2*(m+1)]-q[aZ][2*m])/2}o[8*E+8*cj]=q[aZ][2*m]+jN;o[8*E+8*cj+1]=q[aZ][2*m+1]+eh;o[8*E+8*cj+2]=q[aZ][2*(m+u)]+jN;
o[8*E+8*cj+3]=q[aZ][2*(m+u)+1]+eh;o[8*E+8*cj+4]=q[aZ+1][2*(m+u)];o[8*E+8*cj+5]=q[aZ+1][2*(m+u)+1];o[8*E+8*cj+6]=q[aZ+1][2*m];
o[8*E+8*cj+7]=q[aZ+1][2*m+1];++cj}}}}}function b(q){var f=[100,300,500,700,1e3];return f[q.cL-1]}function T(q){var f=[30,70,100,140,300];
return f[q.cL-1]}function a(q){var f=[5,7,26,40,100];return f[q.cL-1]}function R(q){if(q.cL==1){return 4}else if(q.cL==2){return 8}else{return Math.floor(T(q)/9)}}function D(q){var f=q.rH,e=new Float32Array(f),o=null;
for(var O=0;O<f;++O){e[O]=q.random()}if(q.rH<=3){e[0]=0;e[q.rH-1]=1}else{for(var O=0;O<2;++O){var E=Math.floor(q.random()*f);
if(o==null||o!=E){e[E]=O;o=E}else{e[E+1]=O}}}return e}function h(q,f){var e=[],o=.2,cj=0;for(var O=0;
O<q.length;++O){var E=f.random()*(1-o)+o;e.push(E)}var u=Math.min(3,f.rH);for(var O=0;O<q.length;++O){if(e[O]>.9){++cj}}while(cj<u){var cd=Math.floor(f.random()*q.length);
if(e[cd]<=.9){e[cd]=.9+.1*f.random();++cj}}return e}function K(q,f){var e=b(f),o=b({cL:1}),E=[];for(var O=0;
O<q.length;++O){E.push(Math.max(1,(f.random()*10+2)*e/o))}return E}function X(q){var f=0;for(var O=0;
O<q.length;++O){if(O==0){f+=q[O]}else{f+=Math.abs(q[O]-q[O-1])}}return f}function w(q,f){if(q.length/2-1==b(f)){return q}var e=new Float32Array(2*(b(f)+1)),o=(q.length-2)/(e.length-2);
for(var O=0;O<e.length/2;++O){var E=O*o,cj=Math.floor(E),u=Math.ceil(E),cd=u-cj,m=1,aZ=0;if(cd!=0){m=(u-E)/cd;
aZ=(E-cj)/cd}e[2*O]=m*q[2*cj]+aZ*q[2*u];e[2*O+1]=m*q[2*cj+1]+aZ*q[2*u+1]}return e}function N(q,f){var e=q.length/2,o=k(q),E=o/e,cj=!1,m=0,aZ=0,jN=1;
if(f){var u=Math.floor(o/f.aHj),cd=f.aHj;if(f.abV&&q[0]==q[q.length-2]&&q[1]==q[q.length-1]){cj=!0;cd=o/(u+1)}if(f.I==2&&!cj&&cd*u+f.length>o){e=u+1}else{e=u+2}E=cd}var eh=new Float32Array(e*2);
eh[0]=q[0];eh[1]=q[1];for(var O=1;O<e;++O){while(m<=O*E){aZ=m;m+=$([q[2*jN],q[2*jN+1]],[q[2*(jN-1)],q[2*(jN-1)+1]]);
++jN}var iA=1-(O*E-aZ)/(m-aZ);eh[2*O]=(1-iA)*q[2*jN]+iA*q[2*(jN-1)];eh[2*O+1]=(1-iA)*q[2*jN+1]+iA*q[2*(jN-1)+1]}eh[eh.length-2]=q[q.length-2];
eh[eh.length-1]=q[q.length-1];return eh}function s(q,f){var e=N(q,f),o=[];for(var O=0;O<(e.length-2)/2;
++O){var E=[];E.push(e[2*O]);E.push(e[2*O+1]);var cj=$([e[2*(O+1)],e[2*(O+1)+1]],[e[2*O],e[2*O+1]]),u=[(e[2*(O+1)]-e[2*O])/cj,(e[2*(O+1)+1]-e[2*O+1])/cj],cd=M((f.acB-90)/360*2*Math.PI),m=u;
if(f.I==3){m=cd}else if(f.I==4){m=M(l(u)+l(cd))}else if(f.I==5){m=M(((f.random()-.5)*f.acB-90)/360*2*Math.PI)}var aZ=f.length;
if(f.a4G){aZ=2*f.random()*f.length}E.push(e[2*O]+m[0]*aZ);E.push(e[2*O+1]+m[1]*aZ);o.push(E)}return o}function A(q){if(q.adh){q.LN=100*Math.random()}else{q.LN=q.aEF}q.random=new r;
q.random(q.LN);if(q.I==6){q.rH=2;q.shape=5;q.auG=0}}function p(q,f){q=w(q,f);var e=[q],aZ=0;if(f.I>=2&&f.I<6){e=s(q,f)}var o=R(f)-1,E=T(f)-o,cj=(f.rH-1)*(a(f)-1),u=e.length*E*cj,cd=new Float32Array(u),m=new Float32Array(8*u);
for(var O=0;O<e.length;++O){for(var jN=0;jN<1e4;++jN){f.LN=F(f.LN)}f.random(f.LN);var q=w(e[O],f),eh=D(f),iA=X(eh),hd=z(q,eh,f),kx=V(f,eh),b0=S(kx.aj7,hd,f);
b0=i(b0,kx.wN,kx.agt,T(f));if(f.NR>0){b0=J(b0,k(e[O]),f)}L(b0,f,cd,m,aZ);aZ+=E*cj}return[cd,m]}var fb=function(q){var f=performance.now(),e=q[0],o=q[1];
A(o);var E=[new Float32Array(0),new Float32Array(0)];for(var O=0;O<e.length;++O){o.LN=F(o.LN);var cj=p(e[O],o),u=new Float32Array(E[0].length+cj[0].length),cd=new Float32Array(E[1].length+cj[1].length);
u.set(E[0]);u.set(cj[0],E[0].length);E[0]=u;cd.set(E[1]);cd.set(cj[1],E[1].length);E[1]=cd}var m=performance.now();
if(o.aaL){console.KK("Geometry: "+String(m-f)+"ms")}return E};return fb}(),hb=function(){function F(M,l){var k=[],d=0,I=l.length,c=0,Q=0,x=new cS,U=0,S=1e9;
for(Q=0;Q<I;Q++){var z=Q*8,V=l[Q];if(V<S)S=V;var t=M[z+0],Y=M[z+1],i=M[z+2],J=M[z+3],H=M[z+4],v=M[z+5],n=M[z+6],G=M[z+7],g=Math.min(t,i,H,n),W=Math.max(t,i,H,n),L=Math.min(Y,J,v,G),b=Math.max(Y,J,v,G),T=new cS(g,L,W-g,b-L),a=T.DM(x),R=U+V;
if(Q-c<10&&(Q==c||a.C()*.8<T.C()+x.C())){x=a;U=R}else{k.push(Q-c);c=Q;x=T;U=V;S=V}}if(Q!=c)k.push(Q-c);
return k}function r(M,l,k,d,I,c){var Q=document.createElement("canvas"),Y=0,u=.8;Q.width=l;Q.height=k;
var x=Q.getContext("2d"),U=I[0],S=I[1],z=new Float64Array(l*k),V=Date.now(),t=F(S,U);for(var i=0;i<t.length;
i++){var J=Y,H=Y+t[i],G=1e9,W=1e9,h=0;Y=H;var v=J*8,n=H*8,g=-G,L=-W;for(var b=v;b<n;b+=2){var T=S[b],a=S[b+1];
if(T<G)G=T;if(T>g)g=T;if(a<W)W=a;if(a>L)L=a}G=Math.floor(G);g=Math.ceil(g);W=Math.floor(W);L=Math.ceil(L);
var R=g-G,D=L-W;for(var K=J;K<H;K++)h+=U[K];for(var b=v;b<n;b+=8){var X=U[b>>>3],w=S[b+0],N=S[b+1],s=S[b+2],A=S[b+3],p=S[b+4],q=S[b+5],f=S[b+6],e=S[b+7];
x.fillStyle="rgba(0,0,0,"+X/h+")";x.beginPath();x.moveTo(w,N);x.lineTo(s,A);x.lineTo(p,q);x.lineTo(f,e);
x.closePath();x.fill()}var o=x.getImageData(G,W,R,D).data;for(var a=0;a<D;a++)for(var T=0;T<R;T++){var O=a*R+T,E=o[O*4+3],cj=(W+a)*l+G+T;
if(E!=0)z[cj]+=E*h}x.clearRect(G,W,R,D)}var cd=c[1].color,m=Math.pow(cd.t/255,u),aZ=Math.pow(cd.L/255,u),jN=Math.pow(cd.X/255,u),eh=new cS(0,0,l,k),iA=j.j(l*k*4);
for(var a=0;a<k;a++)for(var T=0;T<l;T++){var O=a*l+T,K=O*4,U=z[O]*(1/255);iA[K]=C(m,U);iA[K+1]=C(aZ,U);
iA[K+2]=C(jN,U);iA[K+3]=Math.min(255,U*255)}j.v.O5("norm",iA,eh,d,eh,eh,1)}var $=new Uint8Array(2e3);
for(var O=0;O<2e3;O++)$[O]=255*Math.min(1,Math.log(O/700+1));function C(M,l){return $[Math.min(1500,~~(M*l*1e3))]}return r}(),gv=function(){var F=new Float32Array(3e3),r=new Float32Array(3e3),$=new Float32Array(256),C=new Float32Array(3e3);
function M(){var S=F.length;F[0]=Math.log10(157647e-9);for(var O=1;O<S;++O)F[O]=Math.log10(O/S)}function l(){var S=r.length;
for(var O=0;O<S;++O)r[O]=Math.pow(10,20*(O-S/2)/S)}function k(){var S=$.length;for(var O=0;O<S;++O)$[O]=j.Fy(O/255)}function d(){var S=C.length;
for(var O=0;O<S;++O)C[O]=255*j.Wg(O/(S-1))}function I(S,z){var V=S.length>>>2;for(var O=0;O<V;++O){var t=$[S[4*O]],Y=$[S[4*O+1]],i=$[S[4*O+2]],J=.3811*t+.5783*Y+.0402*i,H=.1967*t+.7244*Y+.0782*i,v=.0241*t+.1288*Y+.8444*i;
J=F[~~(J*F.length)];H=F[~~(H*F.length)];v=F[~~(v*F.length)];z[3*O]=(J+H+v)*.5773502692;z[3*O+1]=(J+H-2*v)*.4082482905;
z[3*O+2]=(J-H)*.7071067812}}function c(S,z){var V=z.length>>>2,t=C.length-1;for(var O=0;O<V;++O){var Y=.5773502692*S[3*O],i=.4082482905*S[3*O+1],J=.7071067812*S[3*O+2],H=r[~~((Y+i+J+10)*(3e3/20))],v=r[~~((Y+i-J+10)*(3e3/20))],n=r[~~((Y-2*i+10)*(3e3/20))],G=4.4679*H-3.5873*v+.1193*n,g=-1.2186*H+2.3809*v-.1624*n,W=.0497*H-.2439*v+1.2045*n;
z[4*O]=C[~~(t*Math.max(0,Math.min(1,G)))];z[4*O+1]=C[~~(t*Math.max(0,Math.min(1,g)))];z[4*O+2]=C[~~(t*Math.max(0,Math.min(1,W)))]}}function Q(S){var z=0,V=0,t=0;
for(var O=0;O<S.length;O+=3){z+=S[O];V+=S[O+1];t+=S[O+2]}return[z/(S.length/3),V/(S.length/3),t/(S.length/3)]}function x(S,Q){var z=0,V=0,t=0;
for(var O=0;O<S.length;O+=3){var Y=S[O]-Q[0],i=S[O+1]-Q[1],J=S[O+2]-Q[2];z+=Y*Y;V+=i*i;t+=J*J}return[Math.sqrt(z/(S.length/3)),Math.sqrt(V/(S.length/3)),Math.sqrt(t/(S.length/3))]}function U(S,z,V,t,Y,i){M();
l();k();d();var J=0,N,s;if(i[0]>100)J=-(i[0]-100)/100*.13;else if(i[0]>=75)J=(100-i[0])/25*.04;else if(i[0]>=50)J=.04+(75-i[0])/25*.04;
else if(i[0]>=25)J=.08+(50-i[0])/25*.08;else J=.16+(25-i[0])/25*.24;var H=(i[1]-100+100)/100,v=i[2]/100,n=i[3],G=new Float32Array(S.length*3/4),g=new Float32Array(t.length*3/4),W=Date.now();
I(S,G);I(t,g);var L=Date.now(),b=Q(G),T=Q(g),a=Date.now(),R=x(G,b),D=x(g,T),h=Date.now();T[0]*=Math.pow(10,J);
var K=[D[0]/R[0],D[1]/R[1],D[2]/R[2]],X=G.length,w=1/-1.1546978950500488;for(var O=0;O<X;O+=3){if(n){var A=Math.max(0,Math.min(1,G[O]*w));
A=1-Math.sqrt(A);N=A*T[1];s=A*T[2]}else{N=T[1];s=T[2]}G[O]=(G[O]-b[0])*K[0]+T[0];G[O+1]=(G[O+1]-b[1])*K[1]*H+N;
G[O+2]=(G[O+2]-b[2])*K[2]*H+s}var p=Date.now();c(G,Y);var q=Y.length>>>2;for(var O=0;O<q;++O){Y[4*O]=(1-v)*Y[4*O]+v*S[4*O];
Y[4*O+1]=(1-v)*Y[4*O+1]+v*S[4*O+1];Y[4*O+2]=(1-v)*Y[4*O+2]+v*S[4*O+2];Y[4*O+3]=255}}return U}(),bw=function(){function F(r,$,C,M,l){var k=[-1,-1,-1,-1],d=255,I=160,c,Q=!1,x=new Array(4);
x[0]=new Array($);x[1]=new Array(C);x[2]=new Array($);x[3]=new Array(C);var U=new Array(2);U[0]=new Array(C);
U[1]=new Array(C);function S(D,h,K,X,w){this.start=X;this.axis=w;this.dir=D;this.end=-1;this.source=h;
this.C=K}function z(D,h,K,X,w){if(K%2==0){if(!x[K][D])x[K][D]=new Array;x[K][D].push(new S(K,X,w,h,D))}else{if(!x[K][h])x[K][h]=new Array;
x[K][h].push(new S(K,X,w,D,h))}var N=Date.now()}function V(O){var D=!1,h=0;if(r[4*O+3]<d)return D;var K=O%$,X=Math.floor(O/$);
t(K,X);if(O+$<$*C&&r[4*(O+$)+3]<d&&r[4*(O-$)+3]>=d&&r[4*(O-2*$)+3]>=d){var w=2;if(r[4*(O+$)+3]<=I)h=-1;
if(r[4*(O+2*$-1)+3]<d&&r[4*(O+2*$+1)+3]<d)D=!0;else if(r[4*(O+2*$-1)+3]>=d&&r[4*(O+1)+3]>=d)D=!0;else if(r[4*(O+2*$+1)+3]>=d&&r[4*(O-1)+3]>=d)D=!0;
z(K,X,w,h,D)}else if(O-$>=0&&r[4*(O-$)+3]<d&&r[4*(O+$)+3]>=d&&r[4*(O+2*$)+3]>=d){var w=0;if(r[4*(O-$)+3]<=I)h=-1;
if(r[4*(O-2*$-1)+3]<d&&r[4*(O-2*$+1)+3]<d)D=!0;else if(r[4*(O-2*$-1)+3]>=d&&r[4*(O+1)+3]>=d)D=!0;else if(r[4*(O-2*$+1)+3]>=d&&r[4*(O-1)+3]>=d)D=!0;
z(K,X,w,h,D)}h=0;if(O+1<$*C&&r[4*(O+1)+3]<d&&r[4*(O-1)+3]>=d&&r[4*(O-2)+3]>=d){var w=3;if(r[4*(O+1)+3]<=I)h=-1;
if(!D&&r[4*(O+$+2)+3]<d&&r[4*(O-$+2)+3]<d){D=!0;z(K,X,w,h,!0)}else z(K,X,w,h,!1)}else if(O>=1&&r[4*(O-1)+3]<d&&r[4*(O+1)+3]>=d&&r[4*(O+2)+3]>=d){var w=1;
if(r[4*(O-1)+3]<=I)h=-1;if(!D&&r[4*(O+$-2)+3]<d&&r[4*(O-$-2)+3]<d){D=!0;z(K,X,w,h,!0)}else z(K,X,w,h,!1)}return D}function t(O,D){if(k[0]==-1){k[0]=O;
k[1]=D;k[2]=1;k[3]=1}if(O<k[0]){k[2]+=k[0]-O;k[0]=O}if(O>k[0]+k[2])k[2]=O-k[0];if(D<k[1]){k[3]+=k[1]-D;
k[1]=D}if(D>k[1]+k[3])k[3]=D-k[1]}function Y(D,O,h,K){if(!h.C)return;var X=(D+2)%4,w=h.start,N=k[1];
if(D==2)N+=k[3];else if(D==1)N=k[0];else if(D==3)N=k[0]+k[2];var s=h.source;if(x[X][O])for(var A=0;A<x[X][O].length;
++A){if(D>1){var p=w+Math.floor((x[X][O][A].start-w)/2);if(x[X][O][A].start>w&&p<N)N=p}else{var p=w-Math.floor((w-x[X][O][A].start)/2);
if(x[X][O][A].start<w&&p>N)N=p}}for(var q=1;q<Math.abs(N-w);++q){var A=w+q;if(D==1||D==0)A=w-q;for(var f=0;
f<2;++f){var e=2*f,o=!1;if(D%2==0)e+=1;if(x[e][A]){for(var E=0;E<x[e][A].length;++E){if(x[e][A][E].C){var cj=x[e][A][E].start,u=O-cj,cd=A-w;
if(e==0||e==1)u=-u;if(u<=0)continue;if(D==0||D==1)cd=-cd;if(cd>u){N=A;o=!0;break}}}if(o)break}}}h.end=N;
H(D,O,w,N,s)}function i(D){for(var O=0;O<x[D].length;++O){if(x[D][O])for(var h=0;h<x[D][O].length;++h){Y(D,O,x[D][O][h])}}}function J(){var D=[2,0,3,1];
for(var O=0;O<D.length;++O)i(D[O])}function H(D,O,h,K,X){if(D==2)for(var w=h;w<=K;++w){if(!v(w*$+O,(h+X)*$+O))return!1}else if(D==0)for(var w=h;
w>=K;--w){if(!v(w*$+O,(h-X)*$+O))return!1}else if(D==1)for(var w=h;w>=K;--w){if(!v(O*$+w,O*$+h-X))return!1}else if(D==3)for(var w=h;
w<=K;++w){if(!v(O*$+w,O*$+h+X))return!1}}function v(D,h){if(!c[D]){M[4*D]=M[4*h];M[4*D+1]=M[4*h+1];M[4*D+2]=M[4*h+2];
if(Q)M[4*D+3]=255;c[D]=!0;return!0}return!1}function n(){for(var O=0;O<4;O+=1){for(var D=0;D<x[O].length;
++D){if(x[O][D])for(var h=0;h<x[O][D].length;++h){var K=x[O][D][h];for(var X=1;X<3;X+=2){var w=(O+X)%4;
if(x[w][K.start])for(var N=0;N<x[w][K.start].length;++N){if(x[w][K.start][N].start==K.axis){var bU=$*K.start+K.axis;
if(O%2==1){bU=K.start+$*K.axis;G(x[w][K.start][N])}else G(K)}}}}}}}function G(D){if(D.dir%2==0){var bU=$*D.start+D.axis,h=D.start,K=1;
if(!c[bU+1])K=3;else if(c[bU-1])return;var X=M[4*bU],w=M[4*bU+1],N=M[4*bU+2];while(M[4*bU]==X&&M[4*bU+1]==w&&M[4*bU+2]==N){if(K==1){if(!U[0][h])U[0][h]=new Array;
U[0][h].push(new S(K,0,!1,D.axis,h))}else{if(!U[1][h])U[1][h]=new Array;U[1][h].push(new S(K,0,!1,D.axis,h))}if(D.dir==2){bU+=$;
h++}else{bU-=$;h--}}}}function g(){for(var D=0;D<2;++D){var h=(D+1)%2;for(var O=0;O<U[D].length;++O){if(U[D][O])for(var K=0;
K<U[D][O].length;++K){var X=k[0];if(D==1)X+=k[2];var w=U[D][O][K].start;if(U[h][O])for(var N=0;N<U[h][O].length;
++N){var s=U[h][O][N].cG;if(D==0){if(s>X&&s<w){X=w-Math.floor((w-s)/2)}}else{if(s<X&&s>w){X=w+Math.ceil((s-w)/2)}}}if(D==0)H(U[D][O][K].dir,O,w-1,X,-1);
else H(U[D][O][K].dir,O,w+1,X,-1)}}}for(var O=0;O<c.length;++O){if(!c[O]&&O%$>=k[0]&&O%$<=k[0]+k[2]&&Math.floor(O/$)>=k[1]&&Math.floor(O/$)<=k[1]+k[3]){var w=$;
if(O<w||!c[O-w])w=1;M[4*O]=M[4*(O-w)];M[4*O+1]=M[4*(O-w)+1];M[4*O+2]=M[4*(O-w)+2];c[O]=!0;if(Q)M[4*O+3]=255}}}function W(){c=new Array(r.length/4);
for(var O=0;O<M.length/4;++O){c[O]=!1;M[4*O]=r[4*O];M[4*O+1]=r[4*O+1];M[4*O+2]=r[4*O+2];M[4*O+3]=r[4*O+3];
if(M[4*O+3]==255)c[O]=!0;if(V(O))c[O]=!1}if(k[0]>0){k[0]--;k[2]++}if(k[1]>0){k[1]--;k[3]++}if(k[0]+k[2]<$){k[2]++}if(k[1]+k[3]<C){k[3]++}}var L=Date.now();
W();var b=Date.now();J();var T=Date.now();n();var a=Date.now();g();var R=Date.now();console.log("Init: "+String(b-L));
console.log("Filling: "+String(T-b));console.log("Check areas: "+String(a-T));console.log("Fill areas: "+String(R-a))}return F}();
function ja(){}ja.aws=function(F){var r=[j.Fy(F[0]),j.Fy(F[1]),j.Fy(F[2]),0];return j.t3.Jh(j.t3.a7f,r)};
ja.atn=function(F){var r=j.t3.Jh(j.t3.Ps,F);return[j.Wg(r[0]),j.Wg(r[1]),j.Wg(r[2])]};ja.e0=function(F,r){var $={},C=5003,M=1667,l=25e3,k=57.4,d=16.1,I=1.8,c=0,Q=1.54,x=.75,z=0;
if(r>0){F-=r/100*4}if(F<0){d=22.54;k=80.36;Q=.756}if(r>0){I=1.3;x=.2}var U=Math.min(C+k*F,l),S=Math.max(C-d*F,M);
if(F<0){U=Math.max(C+d*F,M);S=Math.min(C-k*F,l)}if(F>0){if(F<=14){z=(F-1)/13*.075+.025}else if(F<=29){z=.1}else if(F<=60){z=.1-.1*(F-29)/(60-29)}else{var V=F-60;
c=-20*(V/40);z=-.3*(V/40)}}else{if(F<-60){var V=F+60;c=-20*(V/40)}}var t=Math.abs(F)/100*Q+Math.abs(r)/100*x+z,Y=-(r*I+c),i=cN.Hp(U,-Y),J=cN.ME(i),H=cN.Hp(S,0),v=cN.ME(H),n=cN.ayu(J,v);
$.aB8=t;$.abR=n;if(F==0&&r==0)$.az$=!0;else $.az$=!1;return $};ja.a0S=function(F,r,$,C){if(C.az$){return[F,r,$]}var M=this.aws([F,r,$]),l=M[0],k=M[1],d=M[2],I=k+1e-12,c=[l/I,k/I,d/I,0],Q=j.t3.Jh(C.abR,c),x=0,U=.4;
Q[0]*=I;Q[1]*=I;Q[2]*=I;if(I>U)x=1/(1-U)*(I-U);M[0]=(1-x)*Q[0]+x*l;M[1]=(1-x)*Q[1]+x*k;M[2]=(1-x)*Q[2]+x*d;
return this.atn(M)};j.a1f={d4:function(F,r){var O=F.length;F.push(r);var $=O>>>1;while($!=0&&F[O][0]<F[$][0]){var C=F[O];
F[O]=F[$];F[$]=C;O=$;$=O>>>1}},N6:function(F){if(F.length==2)return F.pop();var top=F[1],O=1;F[1]=F.pop();
var r=F.length;while(!0){var $=O<<1,C=$+1,M=O;if($<r&&F[$][0]<F[M][0])M=$;if(C<r&&F[C][0]<F[M][0])M=C;
if(M==O)break;var l=F[O];F[O]=F[M];F[M]=l;O=M}return top},ajY:function(F){for(var O=1;O<F.length;O++){var r=O,$=1e9;
while(r!=0){var C=F[r][0];if(C>$){console.log(O);throw"e"}$=C;r=r>>>1}}}};j.v={};j.v.kK=new Float64Array(256);
j.v.i9=new Uint8Array(256*256);j.v.rJ=new Uint8Array(256*256);(function(){for(var O=0;O<256;O++)j.v.kK[O]=255/O;
for(var O=0;O<256;O++)for(var F=0;F<256;F++)j.v.i9[O*256+F]=O==0?0:Math.round(F*255/O);for(var O=0;O<256;
O++)for(var F=0;F<256;F++)j.v.rJ[O*256+F]=Math.round(O*(255-F)/255)}());j.v.O5=function(F,r,$,C,M,l,k,d){if(d==null)d=en.bX();
var I=j.cN(r);if(I!=j.cN(C))throw"e";if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(F)==-1){k=k*d.fill;
d.fill=1;d.style=!1}var c="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),Q="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),x=j.v[F+"F"];
if(I==8){if(d.Ch==null&&F=="norm")j.v.aho(r,$,C,M,l,k,x,d.l_?1:0);else if(F=="diss")j.v.afz(r,$,C,M,l,k,x,d.l_?1:0);
else if(c.indexOf(F)!=-1)j.v.atX(r,$,C,M,l,k,x,d);else if(Q.indexOf(F)!=-1)j.v.anp(r,$,C,M,l,k,x,d)}else{if(F=="diss")j.v.aka(r,$,C,M,l,k,x,d.l_?1:0);
else if(c.indexOf(F)!=-1)j.v.a6x(r,$,C,M,l,k,x,d);else if(Q.indexOf(F)!=-1)j.v.a0V(r,$,C,M,l,k,x,d)}};
j.v.aoA=function(F,r,$){var C=F*$+1-$;return C<.001?0:1-Math.min(1,(1-r)/C)};j.v.aJY=function(F,r,$){return F*$==1?1:Math.min(1,r/(1-F*$))};
j.v.m8=function(F){return F<=.25?((16*F-12)*F+4)*F:Math.sqrt(F)};j.v.normF=function(F,r,$){return F};
j.v.darkF=function(F,r,$){return Math.min(F,r)};j.v["mul F"]=function(F,r,$){return F*r};j.v.idivF=function(F,r,$){var C=F*$+1-$;
return r==1?1:1-r>=C?0:1-(1-r)/C};j.v.lbrnF=function(F,r,$){return Math.max(0,F*$+r-$)};j.v.dkClF=function(F,r,$){var C=j.eN(F)<j.eN(r)?F:r;
$.t=C.t;$.L=C.L;$.X=C.X;return $};j.v.liteF=function(F,r,$){return Math.max(F,r)};j.v.scrnF=function(F,r,$){return r+F-r*F};
j.v["div F"]=function(F,r,$){F*=$;return r==0?0:r>=1-F?1:r/(1-F)};j.v.lddgF=function(F,r,$){F*=$;return Math.min(1,F+r)};
j.v.lgClF=function(F,r,$){var C=j.eN(F)>j.eN(r)?F:r;$.t=C.t;$.L=C.L;$.X=C.X;return $};j.v.overF=function(F,r,$){return j.v.hLitF(r,F,$)};
j.v.sLitF=function(F,r,$){return F<=.5?r-(1-2*F)*r*(1-r):r+(2*F-1)*(j.v.m8(r)-r)};j.v.hLitF=function(F,r,$){return F<=.5?j.v["mul F"](2*F,r,$):j.v.scrnF(2*F-1,r,$)};
j.v.vLitF=function(F,r,$){return F<=.5?j.v.aoA(2*F,r,$):j.v.aJY(2*F-1,r,$)};j.v.lLitF=function(F,r,$){return F<=.5?j.v.lbrnF(2*F,r,$):j.v.lddgF(2*F-1,r,$)};
j.v.pLitF=function(F,r,$){return F<=.5?j.v.darkF(2*F,r,$):j.v.liteF(2*F-1,r,$)};j.v.hMixF=function(F,r,$){if($>.99)return F+r<1?0:1;
return Math.min(1,Math.max(0,(r+F*$-$)/(1-$+1e-6)))};j.v.diffF=function(F,r,$){F*=$;return Math.abs(F-r)};
j.v.smudF=function(F,r,$){return F+r-2*F*r};j.v.fsubF=function(F,r,$){return Math.max(r-F,0)};j.v.fdivF=function(F,r,$){return Math.min(r/F,1)};
j.v["hue F"]=function(F,r,$){j.v.bS(F,j.Xs(r),$);j.v.CA($,j.eN(r),$)};j.v["sat F"]=function(F,r,$){j.v.bS(r,j.Xs(F),$);
j.v.CA($,j.eN(r),$)};j.v.colrF=function(F,r,$){j.v.CA(F,j.eN(r),$)};j.v["lum F"]=function(F,r,$){j.v.CA(r,j.eN(F),$)};
j.v.CA=function(F,r,$){var C=r-j.eN(F);$.t=F.t+C;$.L=F.L+C;$.X=F.X+C;j.v.aGW($)};j.v.aGW=function(F){var r=F.t,$=F.L,C=F.X,M=j.er(r,$,C),bU=Math.min(r,$,C),l=Math.max(r,$,C);
if(bU<0){var k=M/(M-bU);r=M+(r-M)*k;$=M+($-M)*k;C=M+(C-M)*k}if(l>1){var k=(1-M)/(l-M);r=M+(r-M)*k;$=M+($-M)*k;
C=M+(C-M)*k}F.t=r;F.L=$;F.X=C};j.v.bS=function(F,r,$){var C=j.v.abg,M=F.t,l=F.L,k=F.X;if(M==l&&l==k){$.t=$.L=$.X=0}else if(M>l){if(M>k){if(l>k){$.t=r;
$.L=C(M,l,k,r);$.X=0}else{$.t=r;$.X=C(M,k,l,r);$.L=0}}else{$.X=r;$.t=C(k,M,l,r);$.L=0}}else{if(M<k){if(l>k){$.L=r;
$.X=C(l,k,M,r);$.t=0}else{$.X=r;$.L=C(k,l,M,r);$.t=0}}else{$.L=r;$.t=C(l,M,k,r);$.X=0}}};j.v.abg=function(F,r,$,C){return(r-$)*C/(F-$)};
j.v.aho=function(F,r,$,C,M,l,k,d){var I=r.R7(C).R7(M),c=Math.max(0,I.x-r.x),Q=Math.max(0,I.x-C.x),x=Math.max(0,I.y-r.y),U=Math.max(0,I.y-C.y),S=I.r,z=I.$,V=r.r,t=C.r,Y=j.v.i9,i=j.v.rJ,J=new Uint32Array(F.buffer),H=new Uint32Array($.buffer);
for(var O=0;O<z;O++){var v=(x+O)*V+c,n=(U+O)*t+Q;for(var G=0;G<S;G++){var g=J[v+G],K=1;if(g>>>24==0)continue;
if(g>>>24==255&&l==1&&d==0){H[n+G]=J[v+G];continue}var W=H[n+G],L=g&255,b=g>>>8&255,T=g>>>16&255,a=W&255,R=W>>>8&255,D=W>>>16&255,h=l,X=(W>>>24)*(1/255);
if(d==0){h=(g>>>24)*l*(1/255);K=X}var w=K*(1-h),N=h+w,s=1/N;H[n+G]=~~(.5+(d*X+(1-d)*N)*255)<<24|~~(.5+(T*h+D*w)*s)<<16|~~(.5+(b*h+R*w)*s)<<8|~~(.5+(L*h+a*w)*s)}}};
j.v.ad5=function(F,r,$,C,M,l){var k=r.R7(C).R7(M),d=Math.max(0,k.x-r.x),I=Math.max(0,k.x-C.x),c=Math.max(0,k.y-r.y),Q=Math.max(0,k.y-C.y),x=k.r,U=k.$,S=r.r,z=C.r,V=j.v.i9,t=j.v.rJ,Y=new Uint32Array(F.buffer),i=new Uint32Array($.buffer),J=Math.floor(Math.random()*16777215),H=0;
for(var O=0;O<U;O++){var v=(c+O)*S+d,n=(Q+O)*z+I;for(var G=0;G<x;G++){var g=Y[v+G];if(g>>>24==0)continue;
if(g>>24==255&&l==1){i[n+G]=g;continue}var W=i[n+G],L=(g>>>24)*l*(1/255),b=(W>>>24)*(1/255),T=b*(1-L),a=L+T,R=g&255,D=g>>>8&255,h=g>>>16&255,K=W&255,X=W>>>8&255,w=W>>>16&255;
H>>>=8;if((G&3)==0)H=j.v.dZ(n+G+J);var N=a==0?0:1/a,s=Math.floor(a*(256*255))+(H&255)>>>8,A=Math.floor((h*L+w*T)*N+.5),p=Math.floor((D*L+X*T)*N+.5),q=Math.floor((R*L+K*T)*N+.5);
i[n+G]=s<<24|A<<16|p<<8|q}}};j.v.$u=function(F,r,$,C,M,l,k,d){var I=j.er(F,r,$),c=j.er(C,M,l),Q=Math.min,x=j.v.a28,U=x(I,d,0);
U=Q(U,x(F,d,8));U=Q(U,x(r,d,16));U=Q(U,x($,d,24));var S=x(c,d,4);S=Q(S,x(C,d,12));S=Q(S,x(M,d,20));S=Q(S,x(l,d,28));
S=Math.max(S,1-k);var z=Math.min(U,S);return z<0?0:z>1?1:z};j.v.a28=function(F,r,O){return Math.min((F-r[O])*r[O+1],(F-r[O+3])*r[O+2])};
j.v.atX=function(F,r,$,C,M,l,k,d){var I=1/255,c=I*l,Q=d.l_?1:0,x=d.fill,U=d.style,S=r.R7(C).R7(M),z=Math.max(0,S.x-r.x),V=Math.max(0,S.x-C.x),t=Math.max(0,S.y-r.y),Y=Math.max(0,S.y-C.y),i=S.r,J=S.$,H=r.r,v=C.r,n=new Uint32Array(F.buffer),G=new Uint32Array($.buffer);
for(var O=0;O<J;O++){var g=(t+O)*H+z,W=(Y+O)*v+V;for(var L=0;L<i;L++,g++,W++){var b=n[g],N=1;if(b>>>24==0)continue;
var T=G[W],a=(b&255)*I,R=(b>>>8&255)*I,D=(b>>>16&255)*I,h=(T&255)*I,K=(T>>>8&255)*I,X=(T>>>16&255)*I,w=l;
if(Q==0){w=(b>>>24)*c;N=(T>>>24)*I}if(d.Ch)w*=j.v.$u(a,R,D,h,K,X,N,d.Ch);var s=N*(1-w),A=w+s,p=A==0?0:255/A,q=U?1:w,f=((1-N)*w*a+(1-q)*N*h+q*N*k(a,h,(1+w-q)*x))*p,e=((1-N)*w*R+(1-q)*N*K+q*N*k(R,K,(1+w-q)*x))*p,o=((1-N)*w*D+(1-q)*N*X+q*N*k(D,X,(1+w-q)*x))*p;
A=w*x+N*(1-w*x);var E=~~(A*255+.5);G[W]=Q*(T>>>24)+(1-Q)*E<<24|o<<16|e<<8|f}}};j.v.a6x=function(F,r,$,C,M,l,k,d){var I=j.cN(F),c=I==32?1:I==16?65535:255,Q=1/c,x=d.l_?1:0,U=d.fill,S=d.style,z=r.R7(C).R7(M),V=Math.max(0,z.x-r.x),t=Math.max(0,z.x-C.x),Y=Math.max(0,z.y-r.y),i=Math.max(0,z.y-C.y),J=z.r,H=z.$,v=r.r,n=C.r;
for(var O=0;O<H;O++){var G=(Y+O)*v+V,g=(i+O)*n+t;for(var W=0;W<J;W++,G++,g++){var L=G*4,b=g*4,T=F[L]*Q,a=F[L+1]*Q,R=F[L+2]*Q,D=F[L+3]*Q*l;
if(D==0)continue;var h=$[b]*Q,K=$[b+1]*Q,X=$[b+2]*Q,w=$[b+3]*Q;if(d.Ch)D*=j.v.$u(T,a,R,h,K,X,w,d.Ch);
var N=w*(1-D),s=D+N,A=s==0?0:c/s,p=S?1:D,q=((1-w)*D*T+(1-p)*w*h+p*w*k(T,h,(1+D-p)*U))*A,f=((1-w)*D*a+(1-p)*w*K+p*w*k(a,K,(1+D-p)*U))*A,e=((1-w)*D*R+(1-p)*w*X+p*w*k(R,X,(1+D-p)*U))*A;
s=D*U+w*(1-D*U);$[b]=q;$[b+1]=f;$[b+2]=e;$[b+3]=x*$[b+3]+(1-x)*(s*c)}}};j.v.anp=function(F,r,$,C,M,l,k,d){var I=1/255,c=I*l,Q=d.l_?1:0,x=r.R7(C).R7(M),U=Math.max(0,x.x-r.x),S=Math.max(0,x.x-C.x),z=Math.max(0,x.y-r.y),V=Math.max(0,x.y-C.y),t=x.r,Y=x.$,i=new Uint32Array(F.buffer),J=new Uint32Array($.buffer),H={t:0,L:0,X:0},v={t:0,L:0,X:0},n={t:0,L:0,X:0};
for(var O=0;O<Y;O++){var G=(z+O)*r.r+U,g=(V+O)*C.r+S;for(var W=0;W<t;W++,G++,g++){var L=i[G],b=J[g],T=(L&255)*I,a=(L>>>8&255)*I,R=(L>>>16&255)*I,D=(b&255)*I,h=(b>>>8&255)*I,K=(b>>>16&255)*I,X=l,w=1;
if(Q==0){X=(L>>>24)*c;w=(b>>>24)*I}if(d.Ch)X*=j.v.$u(T,a,R,D,h,K,w,d.Ch);var N=w*(1-X),s=X+N,A=255/s;
H.t=T;H.L=a;H.X=R;v.t=D;v.L=h;v.X=K;k(H,v,n);var p=(((1-w)*T+w*n.t)*X+D*N)*A,q=(((1-w)*a+w*n.L)*X+h*N)*A,f=(((1-w)*R+w*n.X)*X+K*N)*A,e=Q*(b>>>24)+(1-Q)*Math.round(s*255);
J[g]=e<<24|f<<16|q<<8|p}}};j.v.a0V=function(F,r,$,C,M,l,k,d){var I=j.cN(F),c=I==32?1:I==16?65535:255,Q=1/c,x=d.l_?1:0,U=r.R7(C).R7(M),S=Math.max(0,U.x-r.x),z=Math.max(0,U.x-C.x),V=Math.max(0,U.y-r.y),t=Math.max(0,U.y-C.y),Y=U.r,i=U.$,J={t:0,L:0,X:0},H={t:0,L:0,X:0},v={t:0,L:0,X:0};
for(var O=0;O<i;O++){var n=(V+O)*r.r+S,G=(t+O)*C.r+z;for(var g=0;g<Y;g++,n++,G++){var W=n*4,L=G*4,b=F[W]*Q,T=F[W+1]*Q,a=F[W+2]*Q,X=1;
if(F[W+3]==0)continue;var R=$[L]*Q,D=$[L+1]*Q,h=$[L+2]*Q,K=l;if(x==0){K=F[W+3]*Q*l;X=$[L+3]*Q}if(d.Ch)K*=j.v.$u(b,T,a,R,D,h,X,d.Ch);
var w=X*(1-K),N=K+w,s=c/N;J.t=b;J.L=T;J.X=a;H.t=R;H.L=D;H.X=h;k(J,H,v);$[L]=(((1-X)*b+X*v.t)*K+R*w)*s;
$[L+1]=(((1-X)*T+X*v.L)*K+D*w)*s;$[L+2]=(((1-X)*a+X*v.X)*K+h*w)*s;$[L+3]=x*$[L+3]+(1-x)*Math.round(N*c)}}};
j.v.oD=function(F){F=F^61^F>>>16;F=F+(F<<3);F=F^F>>>4;F=F*668265261;F=F^F>>15;return(F&16777215)*(1/16777215)};
j.v.dZ=function(F){F=F^61^F>>>16;F=F+(F<<3);F=F^F>>>4;F=F*668265261;F=F^F>>>15;return F};j.v.wQ=function(F){this.Ke=F};
j.v.wQ.prototype.get=function(){var F=this.Ke=j.v.dZ(this.Ke);return(F&16777215)*(1/16777215)};j.v.afz=function(F,r,$,C,M,l,k,d){var I=Math.round(l*(256*256*256/255)),c=r.R7(C).R7(M),Q=Math.max(0,c.x-r.x),x=Math.max(0,c.x-C.x),U=Math.max(0,c.y-r.y),S=Math.max(0,c.y-C.y),z=c.r,V=c.$,t=new Uint32Array(F.buffer),Y=new Uint32Array($.buffer);
for(var O=0;O<V;O++){var i=(U+O)*r.r+Q,J=(S+O)*C.r+x;for(var H=0;H<z;H++,i++,J++){var v=t[i],n=Y[J],G=d*255+(1-d)*(v>>>24);
if((j.v.dZ(i)&16777215)>=G*I)continue;Y[J]=v&16777215|d*(n>>>24)+(1-d)*255<<24}}};j.v.aka=function(F,r,$,C,M,l,k,d){var I=j.cN(F),c=I==32?1:I==16?65535:255,Q=1/c,x=r.R7(C).R7(M),U=Math.max(0,x.x-r.x),S=Math.max(0,x.x-C.x),z=Math.max(0,x.y-r.y),V=Math.max(0,x.y-C.y),t=x.r,Y=x.$;
for(var O=0;O<Y;O++){var i=(z+O)*r.r+U,J=(V+O)*C.r+S;for(var H=0;H<t;H++,i++,J++){var v=i*4,n=J*4,G=F[v+3]*Q,g=$[n+3]*Q;
G=d+(1-d)*G;if((j.v.dZ(i)&255)*(1/255)>=G*l)continue;$[n]=F[v];$[n+1]=F[v+1];$[n+2]=F[v+2];$[n+3]=(d*g+(1-d))*c}}};
j.v.avI=function(F,r,$){for(var O=0;O<F.length;O+=4){var C=$[O>>>2];if(C==0)continue;var M=C*(1/255),l=1/M,k=r[O],d=r[O+1],I=r[O+2],c=F[O],Q=F[O+1],x=F[O+2];
r[O]=Math.min(255,Math.max(0,Math.round((k-(1-M)*c)*l)));r[O+1]=Math.min(255,Math.max(0,Math.round((d-(1-M)*Q)*l)));
r[O+2]=Math.min(255,Math.max(0,Math.round((I-(1-M)*x)*l)));r[O+3]=255}};j.v.RS=function(F,r,$,C,M,l,k,d,I,c,Q){if(c==null)c=!1;
var x=j.cN(F),U=x==8?255:x==16?65535:1;if(M&&M.length==l.C()*4){var S=j.j(l.C(),x);j.Eg(M,S,3);M=S}if(M&&!r.Mp(l)){var z=j.j(r.C(),x);
z.fill(U*k/255);j.wU(M,l,z,r);M=z;l=r}if(x==8){if(Q==null)Q=[1,1,1];var V=255<<24|Q[2]*16711680|Q[1]*65280|Q[0]*255,t=~V;
if(c){if(M==null)j.v.aJP(F,r,$,C,M,d,I,V,t);else j.v.a0T(F,r,$,C,M,d,I)}else{if(M==null)j.v.a16(F,r,$,C,M,d,I,V,t);
else j.v.al5(F,r,$,C,M,d,I)}}else{if(Q&&Q.join(",")!="1,1,1")throw"e";if(c)j.v.aC8(F,r,$,C,M,d,I);else j.v.aJd(F,r,$,C,M,d,I)}};
j.v.a16=function(F,r,$,C,M,l,k,d,I){var c=1/255,Q=r.R7(C).R7(l),x=Math.max(0,Q.x-r.x),U=Math.max(0,Q.x-C.x),S=Math.max(0,Q.y-r.y),z=Math.max(0,Q.y-C.y),V=Q.r,t=Q.$,Y=new Uint32Array(F.buffer),i=new Uint32Array($.buffer),J=j.v.i9,H=k*255&255;
for(var O=0;O<t;O++){var v=(S+O)*r.r+x,n=(z+O)*C.r+U;for(var G=0;G<V;G++,v++,n++){var g=Y[v],W=i[n],L=g>>>24,b=W>>>24,T=j.FU(H*L+(255-H)*b),a=j.FU(L*H),R=j.FU(b*(255-H)),D=g&255,h=g>>>8&255,K=g>>>16&255,X=W&255,w=W>>>8&255,N=W>>>16&255,s=a*D+X*R,A=a*h+w*R,p=a*K+N*R;
s=J[T<<8|j.FU(s)];A=J[T<<8|j.FU(A)];p=J[T<<8|j.FU(p)];var q=T<<24|p<<16|A<<8|s;i[n]=I&W|d&q}}};j.v.aJP=function(F,r,$,C,M,l,k,d,I){var c=1/255,Q=r.R7(C).R7(l),x=Math.max(0,Q.x-r.x),U=Math.max(0,Q.x-C.x),S=Math.max(0,Q.y-r.y),z=Math.max(0,Q.y-C.y),V=Q.r,t=Q.$,Y=new Uint32Array(F.buffer),i=new Uint32Array($.buffer),J=j.v.i9,H=k*16777215&16777215;
for(var O=0;O<t;O++){var v=(S+O)*r.r+x,n=(z+O)*C.r+U;for(var G=0;G<V;G++,v++,n++){if((j.v.dZ(v)&16777215)<H){i[n]=I&i[n]|d&Y[v]}}}};
j.v.aJd=function(F,r,$,C,M,l,k){var d=j.cN(F),I=d==8?255:d==16?65535:1,c=1/I,Q=r.R7(C).R7(l),x=Math.max(0,Q.x-r.x),U=Math.max(0,Q.x-C.x),S=Math.max(0,Q.y-r.y),z=Math.max(0,Q.y-C.y),V=Q.r,t=Q.$;
for(var O=0;O<t;O++){var Y=(S+O)*r.r+x,i=(z+O)*C.r+U;for(var J=0;J<V;J++,Y++,i++){var H=(M?M[Y]*c:1)*k,v=Y*4,n=i*4,G=F[v+3]*c,g=$[n+3]*c,W=G*H,L=g*(1-H),b=W+L,T=b==0?0:I/b,a=F[v]*c,R=F[v+1]*c,D=F[v+2]*c,h=$[n]*c,K=$[n+1]*c,X=$[n+2]*c;
$[n]=(W*a+L*h)*T;$[n+1]=(W*R+L*K)*T;$[n+2]=(W*D+L*X)*T;$[n+3]=I*b}}};j.v.al5=function(F,r,$,C,M,l,k){var d=1/255,I=r.R7(C).R7(l),c=Math.max(0,I.x-r.x),Q=Math.max(0,I.x-C.x),x=Math.max(0,I.y-r.y),U=Math.max(0,I.y-C.y),S=I.r,z=I.$,V=new Uint32Array(F.buffer),t=new Uint32Array($.buffer),Y=j.v.i9;
for(var O=0;O<z;O++){var i=(x+O)*r.r+c,J=(U+O)*C.r+Q;for(var H=0;H<S;H++,i++,J++){var v=M[i]*k&255;if(v==0)continue;
if(v==255){t[J]=V[i];continue}var n=V[i],G=t[J],g=n>>>24,W=G>>>24,L=j.FU(v*g+(255-v)*W),b=j.FU(g*v),T=j.FU(W*(255-v)),a=n&255,R=n>>>8&255,D=n>>>16&255,h=G&255,K=G>>>8&255,X=G>>>16&255,w=Y[L<<8|j.FU(b*a+h*T)],N=Y[L<<8|j.FU(b*R+K*T)],s=Y[L<<8|j.FU(b*D+X*T)];
t[J]=L<<24|s<<16|N<<8|w}}};j.v.aC8=function(F,r,$,C,M,l,k){var d=j.cN(F),I=d==8?255:d==16?65535:1,c=1/I,Q=r.R7(C).R7(l),x=Math.max(0,Q.x-r.x),U=Math.max(0,Q.x-C.x),S=Math.max(0,Q.y-r.y),z=Math.max(0,Q.y-C.y),V=Q.r,t=Q.$,Y=k*c*65535;
for(var O=0;O<t;O++){var i=(S+O)*r.r+x,J=(z+O)*C.r+U;for(var H=0;H<V;H++,i++,J++){var v=M[i];if((j.v.dZ(i)&65535)<v*Y){var n=i*4,G=J*4;
$[G]=F[n];$[G+1]=F[n+1];$[G+2]=F[n+2];$[G+3]=F[n+3]}}}};j.v.a0T=function(F,r,$,C,M,l,k){var d=1/255,I=r.R7(C).R7(l),c=Math.max(0,I.x-r.x),Q=Math.max(0,I.x-C.x),x=Math.max(0,I.y-r.y),U=Math.max(0,I.y-C.y),S=I.r,z=I.$,V=new Uint32Array(F.buffer),t=new Uint32Array($.buffer),Y=j.v.i9,i=Math.round(k*257);
for(var O=0;O<z;O++){var J=(x+O)*r.r+c,H=(U+O)*C.r+Q;for(var v=0;v<S;v++,J++,H++){var n=M[J]*i;if((j.v.dZ(J)&65535)<n)t[H]=V[J]}}};
j.v.af5=function(F,r,$,C,M,l,k){var d=1/255,I=r.R7(C).R7(l),c=Math.max(0,I.x-r.x),Q=Math.max(0,I.x-C.x),x=Math.max(0,I.y-r.y),U=Math.max(0,I.y-C.y),S=I.r,z=I.$,V=new Uint32Array(F.buffer),t=new Uint32Array($.buffer),Y=Math.floor(Math.random()*C.C()),i=j.v.acv;
for(var O=0;O<z;O++){var J=(x+O)*r.r+c,H=(U+O)*C.r+Q;for(var v=0;v<S;v++){var n=M[J+v]*k;if(n==0)continue;
if(n==255){t[H+v]=V[J+v];continue}var G=V[J+v],g=t[H+v],W=G>>>24,L=g>>>24,b=W*n*(1/255),T=L*(255-n)*(1/255),a=G&255,R=G>>>8&255,D=G>>>16&255,h=g&255,K=g>>>8&255,X=g>>>16&255,w=j.v.dZ(H+v+Y),N=Math.floor((b+T)*256+.5)+(w>>>0&255)>>>8,s=N==0?0:256/(b+T),A=a*b+h*T,p=R*b+K*T,q=D*b+X*T,f=Math.floor(A*s+.5)+(w>>>8&255)>>>8,e=Math.floor(p*s+.5)+(w>>>16&255)>>>8,o=Math.floor(q*s+.5)+(w>>>24&255)>>>8;
t[H+v]=N<<24|o<<16|e<<8|f}}};j.v.acv=function(F){return Math.floor(F+Math.random())};j.v.es=function(F,r,$,C,M,l,k){var d=1/j.zV(j.cN(F)),I=r.R7(C).R7(l),c=Math.max(0,I.x-r.x),Q=Math.max(0,I.x-C.x),x=Math.max(0,I.y-r.y),U=Math.max(0,I.y-C.y),S=I.r,z=I.$;
for(var O=0;O<z;O++){var V=(x+O)*r.r+c,t=(U+O)*C.r+Q;for(var Y=0;Y<S;Y++,V++,t++){var i=k*M[V]*d;if(i==0)continue;
if(i==1){$[t]=F[V];continue}$[t]=F[V]*i+$[t]*(1-i)}}};j.aEm=function(){function F(l){var k=l*.85;return Math.exp(-(k*k)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function r(l,k){var d=l<k?1:F((l-k)/Math.pow(1.001-k,.86));
return d}var $=[];function C(l){if($[l])return $[l];var k=Math.pow(l,.55),d=new Float64Array(8e3),I=0,c=8e3;
for(var O=0;O<8e3;O++){var Q=r(O*(1.55/4e3),k);if(Q>=1)I=O;else if(Q<=0&&c==8e3)c=O;d[O]=Q}var x=[d,I,c];
$[l]=x;return x}function M(l,k,d){if(l<4)k=1;var I=1+.55*(1-k),c=Math.round(d*l*I)+2,Q=new cS(0,0,c,c),x=j.j(c*c),U=[x,Q],S=c/2,z=I/(S-1);
if(l==2)z*=2;if(l==3)z*=1.6;var V=Date.now(),t=C(k),Y=Math.round(8e3/S),i=t[0],J=t[1]-Y,H=t[2]+Y,v=Math.min(c,c+1>>>1),n=z*.4*(4e3/1.55),G=j.j(8e3);
for(var O=0;O<8e3;O++){var g=O,W=O,L=~~Math.max(0,g-n-n),b=~~Math.max(0,g-n),T=~~Math.min(7999,g+n),a=~~Math.min(7999,g+n+n),R=~~(.5+255*(1/5)*(i[W]+i[L]+i[b]+i[T]+i[a]));
G[O]=R;if(R==0)break}for(var O=0;O<v;O++){var D=z*(O-S+.5),h=D*D,K=O*c,X=(c-1-O)*c;for(var w=0;w<v;w++){var N=z*(w-S+.5),W=~~(Math.sqrt(N*N+h)*(4e3/1.55));
if(H<W)continue;else if(W<J){var R=255;while(w<v){var s=c-1-w;x[K+w]=R;x[K+s]=R;x[X+w]=R;x[X+s]=R;w++}break}else{var R=G[W],s=c-1-w;
x[K+w]=R;x[K+s]=R;x[X+w]=R;x[X+s]=R}}}return U}return{ag8:M}}();j.tW={};j.tW.aJi=function(F,r,$,C,M,l){j.tW.HB(F,r,$,C,M,l,null,0)};
j.tW.aHW=function(F,r,$,C,M){j.tW.HB(F,r,$,C,M,null,null,0)};j.tW.aAL=function(F,r,$,C,M,l,k,d){j.tW.HB(F,r,$,C,M,null,l,k*.5,d)};
j.tW.HB=function(F,r,$,C,M,l,k,d,I){var c=0,A=0,p=1e9,q=0,f=1e9,e=0,o=1e9,E=0,cj=0,L=0,u=0;if(l){c=M*.5;
M=3+Math.round((M-3)*.75)}if(k){M=Math.round(M*2.2)}if(I==null)I=Math.floor(Math.random()*16777215);
var Q=new j.v.wQ(I*r&16777215),x=1/M,U=Math.floor(r*x)+1,S=Math.floor($*x)+1,z=[],V=new Uint8Array(U*S*4),t=k?.5:1,Y=l?64:0,i=M>>>1;
for(var J=0;J<S;J++){var H=k?.5*(J&1):0;for(var v=0;v<U;v++){var n=(v+Q.get()*t+H)*M,G=(J+Q.get()*t)*M;
z.push(n,G);var g=Math.min(r-1,Math.floor(n)),W=Math.min($-1,Math.floor(G));for(var L=0;L<i;L+=2){var b=Math.max(0,g-L),T=Math.min(r-1,g+L),a=Math.max(0,W-L),R=Math.min($-1,W+L);
for(var D=a;D<=R;D++)for(var h=b;h<=T;h++){var O=(D*r+h)*4;if(F[O+3]>64){g=h;W=D;h=D=L=1e9}}}var K=(W*r+g)*4,X=(J*U+v)*4;
for(var O=0;O<4;O++)V[X+O]=Math.max(0,Math.min(255,Math.floor(F[K+O]+(Q.get()-.5)*Y)))}}var w=l?l:k?k:[0,0,0],N=U*S*2,s=[-U-1,-U,-U+1,-1,0,1,U-1,U,U+1];
for(var J=0;J<$;J++){L=0;for(var v=0;v<r;v++){var b=v+.5,a=J+.5,cd=Math.floor(a*x),m=Math.floor(b*x),aZ=cd*U+m,iA=0,hd=0;
if(L>1+d){p=j.tW.aug(z,A,b,a);E=Math.sqrt(p);L--;u++}else{p=f=o=1e9;for(var O=0;O<s.length;O++){var jN=(aZ+s[O])*2;
if(jN<0||jN>=N)continue;var eh=j.tW.aug(z,jN,b,a);if(eh<o){if(eh<f){if(eh<p){e=q;o=f;q=A;f=p;A=jN;p=eh}else{e=q;
o=f;q=jN;f=eh}}else{e=jN;o=eh}}}E=Math.sqrt(p);cj=Math.sqrt(f);L=cj-(E+cj)*.5}if(k==null){var kx=(E+cj)*.5,b0=l?Math.max(0,kx-c):0;
iA=Math.max(0,Math.min(1,.5+kx-E-b0));hd=Math.max(0,Math.min(1,1-(.5+kx-E)-b0))}else{var gX=Math.min(j.tW.aBo(z,A,q,b,a),j.tW.aBo(z,A,e,b,a));
iA=Math.max(0,Math.min(1,gX-d*.5));if(b<d||r-d<b||a<d||$-d<a)iA=0;hd=0}var j$=1-hd-iA,X=J*r+v<<2,i0=A<<1,f7=q<<1;
C[X+0]=Math.floor(.5+iA*V[i0+0]+hd*V[f7+0]+j$*w[0]);C[X+1]=Math.floor(.5+iA*V[i0+1]+hd*V[f7+1]+j$*w[1]);
C[X+2]=Math.floor(.5+iA*V[i0+2]+hd*V[f7+2]+j$*w[2]);C[X+3]=F[X+3]}}};j.tW.aug=function(F,r,$,C){var M=$-F[r],l=C-F[r+1];
return M*M+l*l};j.tW.aBo=function(F,r,$,C,M){var l=F[r],k=F[r+1],d=F[$],I=F[$+1],c=(l+d)*.5,Q=(k+I)*.5,x=c+(I-k),U=Q-(d-l),S=U-Q,z=x-c;
return Math.abs(S*C-z*M+x*Q-U*c)/Math.sqrt(z*z+S*S)};j.Zi=function(){var F=j.j(0);function r(z){if(F.length<z)F=j.j(z);
return F}function $(z,bU){var V=Math.sqrt(12*z*z/bU+1),t=Math.floor(V);if(t%2==0)t--;var Y=t+2,i=(12*z*z-bU*t*t-4*bU*t-3*bU)/(-4*t-4),J=Math.round(i),H=[];
for(var O=0;O<bU;O++)H.push(O<J?t:Y);return H}function C(z,V,t,Y){var i=j.j(V*t,j.cN(z));for(var O=0;
O<4;O++){j.Eg(z,i,O);M(i,V,t,Y);j.dr(i,z,O)}}function M(z,V,t,Y){var i=j.cN(z);for(var J=0;J<Y.length;
J++){if(i==8)l(z,V,t,Y[J]-1>>1);if(i==16)k(z,V,t,Y[J]-1>>1);if(i==32)d(z,V,t,Y[J]-1>>1)}}function l(z,V,t,Y){var i=r(V*t);
I(z,i,V,t,Y);x(i,z,V,t,Y)}function k(z,V,t,Y){var i=new Uint16Array(r(V*t*2).buffer);c(z,i,V,t,Y);U(i,z,V,t,Y)}function d(z,V,t,Y){var i=new Float32Array(r(V*t*4).buffer);
Q(z,i,V,t,Y);S(i,z,V,t,Y)}function I(z,V,t,Y,i){var J=1/(i+i+1),H=t-i-i-1;for(var O=0;O<Y;O++){var v=O*t,n=v,G=v+i,g=z[v],W=z[v+t-1],L=(i+1)*g;
for(var b=0;b<i;b++)L+=z[v+b];for(var b=0;b<=i;b++){L+=z[G+b]-g;V[v+b]=L*J}G+=i+1;v+=i+1;for(var b=0;
b<H;b++){L+=z[G+b]-z[n+b];V[v+b]=L*J}G+=H;n+=H;v+=H;for(var b=t-i;b<t;b++){L+=W-z[n++];V[v++]=L*J}}}function c(z,V,t,Y,i){var J=1/(i+i+1),H=t-i-i-1;
for(var O=0;O<Y;O++){var v=O*t,n=v,G=v+i,g=z[v],W=z[v+t-1],L=(i+1)*g;for(var b=0;b<i;b++)L+=z[v+b];for(var b=0;
b<=i;b++){L+=z[G+b]-g;V[v+b]=L*J}G+=i+1;v+=i+1;for(var b=0;b<H;b++){L+=z[G+b]-z[n+b];V[v+b]=L*J}G+=H;
n+=H;v+=H;for(var b=t-i;b<t;b++){L+=W-z[n++];V[v++]=L*J}}}function Q(z,V,t,Y,i){var J=1/(i+i+1),H=t-i-i-1;
for(var O=0;O<Y;O++){var v=O*t,n=v,G=v+i,g=z[v],W=z[v+t-1],L=(i+1)*g;for(var b=0;b<i;b++)L+=z[v+b];for(var b=0;
b<=i;b++){L+=z[G+b]-g;V[v+b]=L*J}G+=i+1;v+=i+1;for(var b=0;b<H;b++){L+=z[G+b]-z[n+b];V[v+b]=L*J}G+=H;
n+=H;v+=H;for(var b=t-i;b<t;b++){L+=W-z[n++];V[v++]=L*J}}}function x(z,V,t,Y,i){var J=1/(i+i+1),H=Y-i-i-1;
for(var O=0;O<t;O++){var v=O,n=v,G=v+i*t,g=z[v],W=z[v+t*(Y-1)],L=(i+1)*g;for(var b=0;b<i;b++)L+=z[v+b*t];
for(var b=0;b<=i;b++){L+=z[G]-g;V[v]=L*J;G+=t;v+=t}for(var b=0;b<H;b++){var T=b*t;L+=z[G+T]-z[n+T];V[v+T]=L*J}n+=H*t;
G+=H*t;v+=H*t;for(var b=Y-i;b<Y;b++){L+=W-z[n];V[v]=L*J;n+=t;v+=t}}}function U(z,V,t,Y,i){var J=1/(i+i+1),H=Y-i-i-1;
for(var O=0;O<t;O++){var v=O,n=v,G=v+i*t,g=z[v],W=z[v+t*(Y-1)],L=(i+1)*g;for(var b=0;b<i;b++)L+=z[v+b*t];
for(var b=0;b<=i;b++){L+=z[G]-g;V[v]=L*J;G+=t;v+=t}for(var b=0;b<H;b++){var T=b*t;L+=z[G+T]-z[n+T];V[v+T]=L*J}n+=H*t;
G+=H*t;v+=H*t;for(var b=Y-i;b<Y;b++){L+=W-z[n];V[v]=L*J;n+=t;v+=t}}}function S(z,V,t,Y,i){var J=1/(i+i+1),H=Y-i-i-1;
for(var O=0;O<t;O++){var v=O,n=v,G=v+i*t,g=z[v],W=z[v+t*(Y-1)],L=(i+1)*g;for(var b=0;b<i;b++)L+=z[v+b*t];
for(var b=0;b<=i;b++){L+=z[G]-g;V[v]=L*J;G+=t;v+=t}for(var b=0;b<H;b++){var T=b*t;L+=z[G+T]-z[n+T];V[v+T]=L*J}n+=H*t;
G+=H*t;v+=H*t;for(var b=Y-i;b<Y;b++){L+=W-z[n];V[v]=L*J;n+=t;v+=t}}}return{eO:function(z,V,t,Y){M(z,V.r,V.$,$(t,Y?Y:3))},apD:function(z,V,t){C(z,V.r,V.$,$(t,3))},e8:function(z,V,t){M(z,V.r,V.$,[Math.round(t)*2+1])},ab9:function(z,V,t){C(z,V.r,V.$,[Math.round(t)*2+1])},aic:function(z,V,t){var Y=V.r,i=V.$;
t=Math.round(t);var J=r(Y*i),H=j.j(Y*i);for(var O=0;O<4;O++){j.Eg(z,H,O);I(H,J,Y,i,t);j.dr(J,z,O)}},ar6:$}}();
j.FY=function(){var F=[];function r(w,N,s,A){var p=A.length,q=0,f=0,e=0;for(var O=0;O<p;O++){var o=A[O];
q=Math.max(q,o[2]);f=Math.max(f,o[0],N-o[0]);e=Math.max(e,o[1],s-o[1])}if(p==1){w.fill(255);return}if(p==2){var E=A[0],cj=A[1];
if(E[2]<cj[2]){var u=E;E=cj;cj=u}var cd=E[0],m=E[1],aZ=cj[0]-cd,jN=-(cj[1]-m),eh=Math.sqrt(jN*jN+aZ*aZ),iA=1/eh;
jN/=eh;aZ/=eh;var hd=Math.round(255*Math.min(E[2],cj[2])/q),kx=[];for(var O=0;O<1100;O++){var b0=Math.pow(O*.001,.82);
kx[O]=~~(.5+b0*hd+(1-b0)*255)}for(var gX=0;gX<s;gX++)for(var j$=0;j$<N;j$++){var u=(j$-cd)*jN+(gX-m)*aZ,i0=cd+u*jN-j$,f7=m+u*aZ-gX,am=Math.sqrt(i0*i0+f7*f7),gf=0;
if(i0*aZ-f7*jN>0)gf=255;else if(am>eh)gf=hd;else gf=kx[~~(.5+1e3*am*iA)];w[gX*N+j$]=gf}return}var cC=Math.round((f*f+e*e)*.021),aD=F.length;
if(aD<cC)for(var O=aD;O<cC;O++)F[O]=1/(1e-6+Math.pow(.02*O,1.57));var c_=260/q;for(var gX=0;gX<s;gX++)for(var j$=0;
j$<N;j$++){var a9=0,jz=0;for(var O=0;O<p;O++){var g3=A[O],jN=j$-g3[0],aZ=gX-g3[1],am=F[~~(.02*(jN*jN+aZ*aZ))];
jz+=am*g3[2];a9+=am}w[gX*N+j$]=Math.min(~~(c_*jz/a9),255)}}var $=[];for(var O=0;O<1100;O++)$[O]=Math.pow(.5-.5*Math.cos(O/1e3*Math.PI),2);
function C(w,N,s,A){var p=M(A),q=1-A[10];for(var f=0;f<s;f++)for(var e=0;e<N;e++){var o=p.xz*e+p.gb*f+p.P6,E=p.X*e+p.G0*f+p.jw,cj=Math.sqrt(o*o+E*E),u=cj<=q?0:cj>1?1:(cj-q)/(1-q);
w[f*N+e]=~~(.5+w[f*N+e]*$[~~(u*1e3)])}}function M(w){var N=w[0],s=w[1],A=w[2]-N,p=w[3]-s,q=w[6]-N,f=w[7]-s,e=Math.sqrt(A*A+p*p),o=Math.sqrt(q*q+f*f),E=new hS;
E.scale(e,o);E.rotate(Math.atan2(-p,A));E.translate(N,s);E.v4();E.translate(-.5,-.5);E.scale(2,2);return E}var l=[];
for(var O=0;O<1100;O++)l[O]=Math.pow(.5-.5*Math.cos(O/1e3*Math.PI),.8);function k(w,O,N){var s=w[O]-w[N],A=w[O+1]-w[N+1];
return Math.sqrt(s*s+A*A)}function d(w,N,s,A){var p=A[0],q=A[1],f=A[2]-p,e=-(A[3]-q),o=Math.sqrt(e*e+f*f);
e/=o;f/=o;var E=k(A,0,2),cj=k(A,0,4),u=k(A,0,6),cd=k(A,0,8);for(var m=0;m<s;m++)for(var aZ=0;aZ<N;aZ++){var jN=(aZ-p)*e+(m-q)*f,eh=p+jN*e-aZ,iA=q+jN*f-m,hd=Math.sqrt(eh*eh+iA*iA),kx=0;
if(eh*f-iA*e<0)kx=hd<u?0:hd>E?1:l[~~(1e3*(hd-u)/(E-u))];else kx=hd<cd?0:hd>cj?1:l[~~(1e3*(hd-cd)/(cj-cd))];
w[m*N+aZ]=~~(.5+w[m*N+aZ]*kx)}}function I(w,N,s){var A=w[0],p=w[1],q=p[0]+p[1]+p[2]+p[3],E=!1;if(q==0)return[j.j(N*s),q];
var f=A[0],e=A[1],o=A[3];if(E)console.log(f,e,o);var cj=Date.now(),u=j.j(N*s);u.fill(255);if(p[0]!=0)r(u,N,s,f);
if(E)console.log(Date.now()-cj,"field done");cj=Date.now();var cd=j.j(N*s);cd.fill(255);if(p[1]!=0)for(var O=0;
O<e.length;O++)C(cd,N,s,e[O]);if(E)console.log(Date.now()-cj,"iris done");cj=Date.now();var m=j.j(N*s);
m.fill(255);if(p[3]!=0)for(var O=0;O<o.length;O++)d(m,N,s,o[O]);if(E)console.log(Date.now()-cj,"tilt done");
cj=Date.now();var aZ=p[0]/q,jN=p[1]/q,eh=p[3]/q,iA=u,hd=N*s;for(var O=0;O<hd;O++){iA[O]=aZ*u[O]+jN*cd[O]+eh*m[O]}return[iA,q]}function c(w,N,s,A,p){var q=Date.now(),f=new Uint32Array(5),e=j.ak9(w,N,s),o=p/255;
for(var E=0;E<s;E++)for(var cj=0;cj<N;cj++){var O=E*N+cj,u=O<<2,cd=A[O]*o,m=~~(cd*.948);if(m==0){continue}f[0]=0;
f[1]=0;f[2]=0;f[3]=0;f[4]=0;var aZ=~~(cd*.612);if(1<=cj-m&&cj+m+1<=N&&1<=E-m&&E+m+1<=s){var jN=cj-m,eh=cj-aZ,iA=cj+aZ+1,hd=cj+m+1,kx=E-m,b0=E-aZ,gX=E+aZ+1,j$=E+m+1;
Q(e,N,eh,iA,kx,b0,f);Q(e,N,jN,hd,b0,gX,f);Q(e,N,eh,iA,gX,j$,f)}else{var jN=Math.max(1,cj-m),eh=Math.max(1,cj-aZ),iA=Math.min(N,cj+aZ+1),hd=Math.min(N,cj+m+1),kx=Math.max(1,E-m),b0=Math.max(1,E-aZ),gX=Math.min(s,E+aZ+1),j$=Math.min(s,E+m+1);
Q(e,N,eh,iA,kx,b0,f);Q(e,N,jN,hd,b0,gX,f);Q(e,N,eh,iA,gX,j$,f)}if(f[4]!=0){var i0=1/f[4];w[u]=Math.min(255,~~(f[0]*i0));
w[u+1]=Math.min(255,~~(f[1]*i0));w[u+2]=Math.min(255,~~(f[2]*i0));w[u+3]=Math.min(255,~~(f[3]*i0))}}}function Q(w,N,s,A,p,q,f){var e=(A-s)*(q-p);
if(0<e){j.aix(w,s-1,A-1,(p-1)*N,(q-1)*N,f);f[4]+=e}}var x="GeneralBlur IrisBlur  LensTilt PathBlur WheelSpinBlur".split(" ");
function U(w){var N=[!1,!1,!1,!1,!1,!1];for(var O=0;O<6;O++){var s="blurb"+x[O]+"EffectApplied";if(w[s]&&w[s].v)N[O]=!0}return N}function S(w,N){for(var O=0;
O<6;O++){var s="blurb"+x[O]+"EffectApplied";w[s]={t:"bool",v:N[O]}}}var z=[];for(var V=0;V<6;V++){var t,Y="blurbWidgetLocationX",i="blurbWidgetLocationY";
if(V==0)t=[Y,i,"blurbGeneralBlurAmount"];if(V==1||V==5){var J="blurb"+(V==1?"IrisBlur":"WheelSpin"),H=J+"Corner",v=J+"Feather";
t=[H+"0x",H+"0y",H+"1x",H+"1y",H+"2x",H+"2y",H+"3x",H+"3y",Y,i,v+"0",v+"1",v+"2",v+"3",V==1?J+"Amount":J+"BlurAmount"]}if(V==3){var J="blurbTiltShift",n=J+"InnerPoint",G=J+"OuterPoint";
t=[J+"CenterX",J+"CenterY",G+"1X",G+"1Y",G+"2X",G+"2Y",n+"1X",n+"1Y",n+"2X",n+"2Y",J+"BlurAmount"]}z.push(t)}function g(w,N){function s(iA,f){return{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:iA},Vrtc:{t:"doub",v:f}}}}var A=[];
for(var V=0;V<6;V++){var p=w[V],t=z[V];for(var O=0;O<p.length;O++){var q=p[O],f={classID:V==4?"blurbPathWidget":"blurbWidget",blurbWidgetEffectEnabled:{t:"bool",v:!1},blurbWidgetSelected:{t:"bool",v:!1},blurbWidgetType:{t:"long",v:V}};
A.push({t:"Objc",v:f});if(V==4){N.blurbPathBlurSpeed={t:"UntF",v:{type:"#Prc",val:p[0][4]*100}};var e=f.blurbPathPointList={t:"VlLs",v:[s(q[0],q[1]),s(q[5],q[6])]};
for(var o=0;o<2;o++){var E={classID:"blurbBezierKernel"};f["blurb"+(o==0?"Start":"End")+"BezierKernel"]={t:"Objc",v:E};
var cj=q[o*5],u=q[o*5+1],cd=q[o*5+2],m=q[o*5+3];E.blurbBezierKernelUIControlPoint=s((cj+cd)/2,(u+m)/2);
var aZ=cd-cj,jN=m-u,eh=Math.atan2(-(q[6]-q[1]),q[5]-q[0]);E.blurbBezierKernelTangentOffsetAngle={t:"doub",v:(Math.atan2(-jN,aZ)-eh+Math.PI)*180/Math.PI};
E.blurbBezierKernelLocation=s(cj,u);E.blurbBezierKernelOuterPoint=s(cd,m);if(aZ==0&&jN==0)E.blurbBezierKernelIsNull={t:"bool",v:!0}}}else for(var o=0;
o<t.length;o++)f[t[o]]={t:"doub",v:q[o]}}}delete N.blurbWidgetList;N.blurbWidgetList2={t:"VlLs",v:A}}function W(w){var N=w.blurbWidgetList;
if(N==null||N.v.length==0)N=w.blurbWidgetList2;N=N.v;var s=[[],[],[],[],[],[]],A=[0,0,0,0,0,0];for(var O=0;
O<N.length;O++){var p=N[O].v,V=p.blurbWidgetType.v,F=[];s[V].push(F);if(V<4||V==5){var t=z[V];for(var q=0;
q<t.length;q++){F[q]=p[t[q]].v}if(V==5){var f=F[0]-F[4],e=F[1]-F[5],o=Math.sqrt(f*f+e*e),E=F[F.length-1]*o*.005;
A[V]=Math.max(A[V],E)}else A[V]=Math.max(A[V],F[F.length-1])}if(V==4){var cj=w.blurbPathBlurSpeed.v.val/100;
for(var q=0;q<2;q++){var u=p["blurb"+(q==0?"Start":"End")+"BezierKernel"].v,cd=u.blurbBezierKernelIsNull;
for(var m=0;m<2;m++){var aZ=u["blurbBezierKernel"+(m==0?"Location":"OuterPoint")].v;F.push(aZ.Hrzn.v,aZ.Vrtc.v)}var jN=F.length-4,eh=F[jN],iA=F[jN+1],f=F[jN+2]-eh,e=F[jN+3]-iA,o=Math.sqrt(f*f+e*e);
if(cd&&cd.v)o=0;F.push(cj);A[V]=Math.max(A[V],o*cj)}}}return[s,A]}function L(w,N,s){for(var A=0;A<w.length;
A++)N[s+A]=w[A]}function b(w,N){for(var V=0;V<5;V++){var s=w[0][V];for(var O=0;O<s.length;O++){var A=V==0?s[O].slice(0,2):V==4?s[O].slice(0,4).concat(s[O].slice(5,9)):s[O].slice(0,10);
j.b.U(A,N,A);if(V==4){L(A.slice(0,4),s[O],0);L(A.slice(4,8),s[O],5)}else L(A,s[O],0)}}}function T(w,N,s){var A=N.S.r,p=N.S.$,q=A*p,f=W(w),e=U(w);
for(var O=0;O<6;O++)if(!e[O])f[1][O]=0;var o=new hS;o.translate(-N.S.x,-N.S.y);b(f,o);var E=Date.now(),cj=I(f,A,p),u=cj[0],cd=cj[1];
s.buffer.set(N.buffer);var m=j.Q3(s.buffer);if(m)j.nP(s.buffer);if(cd!=0)c(s.buffer,A,p,u,cd);var aZ=Math.max(f[1][4],f[1][5]);
if(aZ!=0&&jp.mE){var E=Date.now(),jN=j.j(A*p*4);for(var O=0;O<jN.length;O+=4){jN[O]=127;jN[O+1]=127}if(f[1][4]!=0)R(jN,f,A,p,aZ);
if(f[1][5]!=0)a(jN,f,A,p,aZ);var eh=aZ*.25,iA=new Float32Array([1/A,1/p]),hd=jp.lt(0,A,p);hd.set(s.buffer);
var kx=jp.lt(1,A,p);kx.set(jN);jp.Tt(hd,N.S);hd.eR(N.S);jp.filter.xl({I:jp.filter.ago,Ts:kx.VJ,Hb:iA,z3:eh,mP:2},hd.ad);
hd.get(s.buffer)}if(m)j.AJ(s.buffer)}function a(w,N,s,A,p){var q=N[0][5];if(q.length==0)return;var f=Date.now();
for(var O=0;O<q.length;O++){var e=q[O],o=M(e),E=o.P();E.v4();var cj=1-e[10],u=e[14]*2.15/p;for(var cd=0;
cd<A;cd++)for(var m=0;m<s;m++){var aZ=o.xz*m+o.gb*cd+o.P6,jN=o.X*m+o.G0*cd+o.jw,eh=aZ*aZ+jN*jN;if(eh<1){var iA=aZ-jN*u,hd=jN+aZ*u,kx=E.pI(new hx(iA,hd)),b0=4*(cd*s+m),gX=Math.sqrt(eh),j$=gX<cj?0:(gX-cj)/(1-cj);
w[b0]=Math.max(0,Math.min(255,j$*w[b0]+(1-j$)*(127+kx.x-m)));w[b0+1]=Math.max(0,Math.min(255,j$*w[b0+1]+(1-j$)*(127+kx.y-cd)))}}}console.log(Date.now()-f)}function R(w,N,s,A,p){var q=N[0][4];
if(q.length==0)return;var f=q[0];for(var O=1;O<q.length;O++)f=f.concat(q[O]);var e=[];for(var O=0;O<f.length;
O+=5){var o=f[O],E=f[O+1],cj=f[O+2]-o,u=f[O+3]-f[O+1],cd=Math.sqrt(cj*cj+u*u);if(cd!=0){cj/=cd;u/=cd}e.push(o,E,cj,u,cd,f[O+4])}f=e;
var m=Math.floor(f.length/6),aZ=127/p;for(var E=0;E<A;E++)for(var o=0;o<s;o++){var jN=0,eh=0,iA=0,hd=0;
for(var O=0;O<m;O++){var kx=O*6,b0=f[kx],gX=f[kx+1],cj=o-b0,u=E-gX,cd=1/Math.pow(cj*cj+u*u,.5);eh+=cd*f[kx+2];
iA+=cd*f[kx+3];hd+=cd*f[kx+4]*f[kx+5];jN+=cd}var j$=Math.sqrt(eh*eh+iA*iA),i0=aZ*hd/(j$*jN);w[4*(E*s+o)]=Math.min(eh*i0+127,255);
w[4*(E*s+o)+1]=Math.min(iA*i0+127,255)}}function D(w){var N=w.blurbOpenPanel;if(N)return N.v;else{var s=w.blurbWidgetList2.v;
for(var O=0;O<s.length;O++){var A=s[O].v.blurbWidgetSelected;if(A&&A.v)return s[O].v.blurbWidgetType.v}}return 0}function K(w,N){if(N<4)w.blurbOpenPanel={t:"long",v:N};
else{delete w.blurbOpenPanel;var s=w.blurbWidgetList2.v;for(var O=0;O<s.length;O++){s[O].v.blurbWidgetSelected.v=s[O].v.blurbWidgetType.v==N}}}function X(w,V,N,s){var A=W(w)[0],p=A[V],q;
if(V==0){q=p.length;p.push([N,s,20])}if(V==1||V==5){q=p.length*6+1;var f=100;p.push([N-f,s-f,N+f,s-f,N+f,s+f,N-f,s+f,N,s,.8,.8,.8,.8,20])}if(V==3){q=p.length*5;
p.push([N,s,N,s-50,N,s+50,N,s-20,N,s+20,20])}if(V==4){q=p.length*4+2;p.push([N-100,s,N-50,s,1,N,s,N+50,s,1])}g(A,w);
K(w,V);return q}return{apply:T,SU:W,AQ:g,aot:X,aB7:U,aqt:S,aBt:M,U:b,a7P:D,vb:K}}();j.$$={};j.$$.j=function(F,r,$,C){var M=[];
for(var l=0;l<4;l++)for(var k=0;k<4;k++)M.push(F+$*k/3,r+C*l/3);return M};j.$$.aI5=function(F,r){var $=F.slice(0);
for(var O=0;O<4;O++)for(var C=0;C<4;C++){var M=2*(O*4+C),l=2*(C*4+(3-O));if(r){var k=M;M=l;l=k}$[l]=F[M];
$[l+1]=F[M+1]}return $};j.$$.drawImage=function(F,r,$,C,M,l,k){var d=!1,I=Date.now(),c=2;if(!C.qC($)){C.x=$.x;
C.y=$.y}$.x-=C.x;$.y-=C.y;C.x=C.y=0;var Q=C.P();Q.offset(c,c);var x=Q.P();x.lW(c,c);var U=j.cN(r),S=j.j(x.C()*4,U),z=$.P();
$.offset(c,c);j.mR(r,$,S,x);if(d)console.log(Date.now()-I,"copy rect");I=Date.now();j.nP(S);if(d)console.log(Date.now()-I,"multiply alpha");
I=Date.now();var V=x.r-2*c,t=x.$-2*c,Y=Math.max(V,t),i=Math.round(50*V/Y),J=Math.round(Math.sqrt(3)*.5*50*t/Y),H=i-.5,v=V+2*c,n=t+2*c,G=[],g=[],W=[];
for(var L=0;L<J+1;L++){var b=(L&1)==0;for(var T=0;T<i+1;T++){var a=(T-(b?.5:0))/H,R=L/J;if(T==0)a=0;
if(T==i)a=1;G.push(v*a,n*R);if(T<i&&L<J){var D=L*(i+1)+T,h=D+1,K=D+i+1,X=K+1;if(b)g.push(D,h,K,K,h,X);
else g.push(D,h,X,D,X,K)}var w=j.$$.a49(F,a,R);W.push(-w)}}var N=G.slice(0);j.$$.U(F,N,Q);j.b.U(N,new hS(1,0,0,1,-l.x,-l.y),N);
if(d)console.log(Date.now()-I,"mesh built");I=Date.now();var s=l.r,A=l.$;j.zQ.Xm(S,v,n,M,s,A,G,N,W,g,k);
if(d)console.log(Date.now()-I,"rendered");I=Date.now();j.AJ(M);if(d)console.log(Date.now()-I,"divided");
I=Date.now()};j.$$.T$=new Array(10);j.$$.mA=function(F,r){var $=200,C=0,M=0,l=1e9,k=j.$$.T$;for(var d=0;
d<$+1;d++)for(var I=0;I<$+1;I++){var c=I/$,Q=d/$;j.$$.alh(F,c,Q,k);var x=k[8]-r.x,U=k[9]-r.y,S=x*x+U*U;
if(S<l){l=S;C=c;M=Q}}return[C,M]};j.$$.U=function(F,r,$){var C=$.x,M=$.y,l=1/$.r,k=1/$.$,d=j.$$.T$;for(var I=0;
I<r.length;I+=2){var c=(r[I]-C)*l,Q=(r[I+1]-M)*k;j.$$.alh(F,c,Q,d);r[I]=d[8];r[I+1]=d[9]}};j.$$.a49=function(F,r,$){var C,M,l,k,d=j.$$.T$;
j.$$.aAS(F,r,$,d);C=d[8];M=d[9];j.$$.a8D(F,r,$,d);l=d[8];k=d[9];return C*k-M*l};j.$$.En=function(F,r,$){var C=0,M=0,l=F[2][0],k=F[2][1];
while(C+2<l.length&&l[C+1]<r)C++;r=(r-l[C])/(l[C+1]-l[C]);while(M+2<k.length&&k[M+1]<$)M++;$=($-k[M])/(k[M+1]-k[M]);
return[C*3,M*3,r,$]};j.$$.alh=function(F,r,$,C){var M=j.$$.En(F,r,$);j.$$.Yu(C,0,M[3]);j.$$.Yu(C,4,M[2]);
j.$$.Sy(F[3],M[0],M[1],F[0],C)};j.$$.aAS=function(F,r,$,C){var M=j.$$.En(F,r,$);j.$$.Yu(C,0,M[3]);j.$$.aeI(C,4,M[2]);
j.$$.Sy(F[3],M[0],M[1],F[0],C)};j.$$.a8D=function(F,r,$,C){var M=j.$$.En(F,r,$);j.$$.aeI(C,0,M[3]);j.$$.Yu(C,4,M[2]);
j.$$.Sy(F[3],M[0],M[1],F[0],C)};j.$$.aeI=function(F,O,r){var $=1-r;F[O]=-3*($*$);F[O+1]=3*($*$)-6*(r*$);
F[O+2]=6*(r*$)-3*(r*r);F[O+3]=3*(r*r)};j.$$.Yu=function(F,O,r){var $=1-r;F[O]=$*($*$);F[O+1]=3*r*($*$);
F[O+2]=3*(r*r)*$;F[O+3]=r*r*r};j.$$.aIN=function(F,r,$,C,M){var l=j.$$.En(F,r,$),k=l[0],d=l[1],I=l[2],c=l[3],Q=F[0],x=Math.floor(I*3),U=Math.floor(c*3),S=j.$$.T$,z=16,G=0;
j.$$.Yu(S,0,c);j.$$.Yu(S,4,I);var V=[],t=[],Y=[];for(var i=0;i<4;i++){for(var J=0;J<4;J++){var O=i*4+J,H=S[i]*S[4+J];
V.push(H);t.push((d+i)*Q+k+J);if((i==U||i==U+1)&&(J==x||J==x+1)){var v=I*3-x;if(J==x)v=1-v;var n=c*3-U;
if(i==U)n=1-n;Y[O]=v*n/H}else Y[O]=0}}for(var O=0;O<z;O++)G+=V[O]*Y[O];for(var O=0;O<z;O++)Y[O]/=G;for(var O=0;
O<z;O++){var H=V[O],g=t[O];F[3][g*2]+=Y[O]*C;F[3][g*2+1]+=Y[O]*M}};j.$$.Mk=function(F){var r=F[0],$=F[1],C=F[2],M=F[3],l=M.slice(0);
for(var k=0;k<$;k++)for(var d=0;d<r;d++){M[(d*$+k)*2]=l[(k*r+d)*2];M[(d*$+k)*2+1]=l[(k*r+d)*2+1]}F[0]=$;
F[1]=r;F[2]=[C[1],C[0]]};j.$$.split=function(F,r,$){if(r==1)j.$$.Mk(F);var C=F[0],M=F[1],l=F[2][0],k=F[3],d=0;
while(l[d+1]&&l[d+1]<$)d++;var I=($-l[d])/(l[d+1]-l[d]),c=1-I;for(var Q=0;Q<M;Q++){var O=(Q*(C+3)+d*3)*2,x=c*k[O]+I*k[O+2],U=c*k[O+1]+I*k[O+3],S=c*k[O+2]+I*k[O+4],z=c*k[O+3]+I*k[O+5],V=c*k[O+4]+I*k[O+6],t=c*k[O+5]+I*k[O+7],Y=c*x+I*S,i=c*U+I*z,J=c*S+I*V,H=c*z+I*t,v=c*Y+I*J,n=c*i+I*H;
k.splice(O+2,4,x,U,Y,i,v,n,J,H,V,t)}l.push($);l.sort();F[0]+=3;if(r==1)j.$$.Mk(F)};j.$$.Sy=function(F,r,$,C,M){var l=0,k=0,d=0,I=M[0],c=M[1],Q=M[2],x=M[3],U=M[4],S=M[5],z=M[6],V=M[7],O=($*C+r)*2;
d=I*U;l+=F[O+0]*d;k+=F[O+1]*d;d=I*S;l+=F[O+2]*d;k+=F[O+3]*d;d=I*z;l+=F[O+4]*d;k+=F[O+5]*d;d=I*V;l+=F[O+6]*d;
k+=F[O+7]*d;O+=C+C;d=c*U;l+=F[O+0]*d;k+=F[O+1]*d;d=c*S;l+=F[O+2]*d;k+=F[O+3]*d;d=c*z;l+=F[O+4]*d;k+=F[O+5]*d;
d=c*V;l+=F[O+6]*d;k+=F[O+7]*d;O+=C+C;d=Q*U;l+=F[O+0]*d;k+=F[O+1]*d;d=Q*S;l+=F[O+2]*d;k+=F[O+3]*d;d=Q*z;
l+=F[O+4]*d;k+=F[O+5]*d;d=Q*V;l+=F[O+6]*d;k+=F[O+7]*d;O+=C+C;d=x*U;l+=F[O+0]*d;k+=F[O+1]*d;d=x*S;l+=F[O+2]*d;
k+=F[O+3]*d;d=x*z;l+=F[O+4]*d;k+=F[O+5]*d;d=x*V;l+=F[O+6]*d;k+=F[O+7]*d;O+=C+C;M[8]=l;M[9]=k};j.rm={};
j.rm.aw8=function(F,r,$){var C=Date.now();return j.rm.ahN(F,r,$)};j.rm.asu=function(F,r,$,C){var M=$*C,l=new Uint32Array(M),k=new Uint8Array(M),d=new Int16Array(M);
l.fill(4294967295);l[r]=0;var I=new kg(M);I.push(r,l[r]);var c={v_:F,tA:l,xT:k,SX:d,tr:I,arX:r,QE:[-$-1,-$,-$+1,1,$+1,$,$-1,-1]};
return c};j.rm.m2=function(F,r){var $=F.v_,C=F.tA,M=F.xT,l=F.SX,k=F.tr,d=F.QE;while(k.Ya!=0&&(r==null||M[r]==0)){var I=k.pop();
if(M[I]==1)continue;M[I]=1;for(var O=0;O<8;O++){var c=$[8*I+O],Q=I+d[O];if(c==255||M[Q]==1)continue;
var x=C[I]+c;if(x<C[Q]){C[Q]=x;l[Q]=I-Q;k.push(Q,x)}}}};function kg(F){this.list=[];this.Ya=0;this.Qs=4294967295}kg.prototype.push=function(F,r){var $=this.list;
if($[r]==null)$[r]=[];$[r].push(F);this.Ya++;this.Qs=Math.min(this.Qs,r)};kg.prototype.pop=function(){this.Ya--;
var F=this.list,r=this.Qs,$=F[r].pop();if(F[r].length==0){F[r]=null;if(this.Ya==0)this.Qs=4294967295;
else{while(F[r]==null)r++;this.Qs=r}}return $};j.rm.a4S=function(F,r,$,C){var M=new Int16Array(C);for(var l=0;
l<$;l++)for(var k=0;k<r;k++){var O=l*r+k,d=0;if(1<k&&k<r-2&&1<l&&l<$-2){d+=F[O-r-r];d+=F[O-r-1]+2*F[O-r]+F[O-r+1];
d+=F[O-2]+2*F[O-1]-16*F[O]+2*F[O+1]+F[O+2];d+=F[O+r-1]+2*F[O+r]+F[O+r+1];d+=F[O+r+r]}else d=-16*F[O];
M[O]=d}return M};j.rm.aw7=function(F,r,$,C){if(C==null)C=128;var M=new Uint8Array(r*$);for(var l=1;l<$;
l++)for(var k=1;k<r;k++){var O=l*r+k;j.rm.axO(F,O,O-1,M,C);j.rm.axO(F,O,O-r,M,C)}return M};j.rm.axO=function(F,O,r,$,C){var M=F[O],l=F[r];
if(Math.abs(M-l)>C&&M*l<0){if(Math.abs(M)<Math.abs(l))$[O]=1;else $[r]=1}};j.rm.azA=function(F,r,$,C){var M=new Float32Array(C),l=0;
M.fill(0);for(var k=0;k<$;k++)for(var d=0;d<r;d++){var I=0,c=0,O=k*r+d,Q=O*3;if(0<d&&d<r-1)I=F[O+1]-F[O-1];
if(0<k&&k<$-1)c=F[O+r]-F[O-r];var x=I*I+c*c;if(x!=0){var U=M[Q+2]=Math.sqrt(x),S=1/U;M[Q]=I*S;M[Q+1]=c*S;
if(U>l)l=U}}var z=3*r*$,V=l==0?0:1/l;for(var O=0;O<z;O+=3)M[O+2]=1-M[O+2]*V;return M};j.rm.ahN=function(){function F(d,I,c){var Q=new ArrayBuffer(I*c*12),x=Date.now(),U=j.rm.a4S(d,I,c,Q),S=j.rm.aw7(U,I,c),z=j.rm.azA(d,I,c,Q),V=new Uint8Array(I*c*8);
V.fill(255);var t=[-I-1,-I,-I+1,1];for(var Y=1;Y<c-1;Y++)for(var i=1;i<I-1;i++){var J=Y*I+i;for(var H=0;
H<4;H++)k(J,J+t[H],H,V,S,z)}return V}var r=new Float64Array(256);for(var O=0;O<256;O++)r[O]=Math.acos(-1+2*O/255)*(.95/Math.PI);
var $=[-1,0,1,1,1,0,-1,-1],C=[-1,-1,-1,0,1,1,1,0];for(var O=0;O<8;O++){var M=1/Math.sqrt($[O]*$[O]+C[O]*C[O]);
$[O]*=M;C[O]*=M}var l=[$[0],C[0],$[1],C[1],$[2],C[2],$[3],C[3]];function k(d,I,c,Q,x,U){var S=3*d,z=3*I,V=1-x[I],t=1-x[d],Y=(c&1)==0?1:Math.SQRT1_2,i=U[z+2]*Y,J=U[S+2]*Y,H=U[z+1],v=-U[z],n=U[S+1],G=-U[S],g=l[c+c],W=l[c+c+1],L=n*g+G*W,b=H*g+v*W;
if(L+b<0){L=-L;b=-b}var T=r[~~((.5+.5*L)*255)]+r[~~((.5+.5*b)*255)];Q[(d<<3)+c]=1+~~(.5+20*(.43*V+.43*T+.14*i));
Q[(I<<3)+c+4]=1+~~(.5+20*(.43*t+.43*T+.14*J))}return F}();j.wh={};j.wh.NB=function(F){var r=F.slice(0),$=0;
for(var O=0;O<F.length;O++)$+=F[O];for(var O=0;O<F.length;O++)r[O]/=$;return r};j.wh.hs=[j.wh.NB([1,2,1,2,16,2,1,2,1]),j.wh.NB([1,2,1,2,4,2,1,2,1]),j.wh.NB([0,-1,0,-1,8,-1,0,-1,0]),j.wh.NB([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
j.wh.Te=function(F,r,$,C,M,l,k){if(k==null)k=!1;var d=Math.floor(Math.sqrt(M.length)),I=d-1>>>1,c=j.cN(F),Q=j.zV(c),x=new Uint32Array(F.buffer),U=new Uint8ClampedArray(r.buffer);
for(var O=0;O<C;O++)for(var S=0;S<$;S++){var z=0,V=0,t=0,Y=0;for(var i=0;i<d;i++)for(var J=0;J<d;J++){var H=M[i*d+J];
if(H==0)continue;var v=S-I+J,n=O-I+i;if(v<0)v=0;else if(v>$-1)v=$-1;if(n<0)n=0;else if(n>C-1)n=C-1;if(c==8){var G=x[n*$+v];
z+=(G&255)*H;V+=(G>>>8&255)*H;t+=(G>>>16&255)*H;Y+=(G>>>24&255)*H}else{var g=n*$+v<<2;z+=F[g]*H;V+=F[g+1]*H;
t+=F[g+2]*H;Y+=F[g+3]*H}}if(k){if(z<0)z=-z;if(V<0)V=-V;if(t<0)t=-t;if(Y<0)Y=-Y}var W=O*$+S<<2;if(c==8){U[W]=~~(.5+z);
U[W+1]=~~(.5+V);U[W+2]=~~(.5+t);if(l)U[W+3]=~~(.5+Y)}else{r[W]=Math.max(0,Math.min(Q,z));r[W+1]=Math.max(0,Math.min(Q,V));
r[W+2]=Math.max(0,Math.min(Q,t));if(l)r[W+3]=Math.max(0,Math.min(Q,Y))}}};j.wh.anX=function(F,r,$,C){var M=F.length,l=new Uint8Array(M);
j.wh.Te(F,r,$,C,j.wh.hs[4],!1,!0);j.wh.Te(F,l,$,C,j.wh.hs[5],!1,!0);for(var O=0;O<M;O+=4){var k=r[O],d=r[O+1],I=r[O+2],c=r[O+3],Q=l[O],x=l[O+1],U=l[O+2],S=l[O+3];
r[O]=255-Math.max(0,Math.min(255,Math.sqrt(k*k+Q*Q)));r[O+1]=255-Math.max(0,Math.min(255,Math.sqrt(d*d+x*x)));
r[O+2]=255-Math.max(0,Math.min(255,Math.sqrt(I*I+U*U)))}};j.wh.aaN=function(F,r,$,C){var M=F.length,l=new Uint8Array(M);
j.wh.rW(F,r,$,C,j.wh.hs[4],!0);j.wh.rW(F,l,$,C,j.wh.hs[5],!0);for(var O=0;O<M;O++){var k=r[O],d=l[O];
r[O]=255-Math.max(0,Math.min(255,Math.sqrt(k*k+d*d)))}};j.wh.rW=function(F,r,$,C,M,l){r=new Uint8ClampedArray(r.buffer);
var k=[-$-1,-$,-$+1,-1,0,1,$-1,$,$+1],d=C-1,I=$-1;for(var O=1;O<d;O++)for(var c=1;c<I;c++){var Q=O*$+c,x=j.wh.H8(F,Q,$,M);
if(l){if(x<0)x=-x}r[Q]=~~(x+.5)}};j.wh.H8=function(F,r,$,C){return F[r-$-1]*C[0]+F[r-$]*C[1]+F[r-$+1]*C[2]+F[r-1]*C[3]+F[r]*C[4]+F[r+1]*C[5]+F[r+$-1]*C[6]+F[r+$]*C[7]+F[r+$+1]*C[8]};
j.wh.a8_=function(F,r,$,C,M){var l=[-$-1,-$,-$+1,-1,0,1,$-1,$,$+1],k=C-1,d=$-1;for(var O=1;O<k;O++)for(var I=1;
I<d;I++){var c=O*$+I;r[c]=j.wh.ank(F,c,$,M)}};j.wh.ank=function(F,r,$,C){return F[r-$-1]*C[0]+F[r-$]*C[1]+F[r-$+1]*C[2]+F[r-1]*C[3]+F[r]*C[4]+F[r+1]*C[5]+F[r+$-1]*C[6]+F[r+$]*C[7]+F[r+$+1]*C[8]};
j._L={};j._L.Ix=function(){function F(k,d,I,c,Q,x){if(Q==0){d.set(k);return}var U=j.j(I*c),S=j.j(I*c);
if(j.Q3(k)){r(k,d,I,c,Q,x);j.Eg(k,U,3);j._L.a4s(U,S,I,c,Q,x);j.dr(S,d,3)}else{for(var O=0;O<3;O++){j.Eg(k,U,O);
j._L.a4s(U,S,I,c,Q,x);j.dr(S,d,O)}}}function r(k,d,I,c,Q,x){var U=0,S=new ArrayBuffer(512*4*3),z=[new Int32Array(S,0),new Int32Array(S,2048),new Int32Array(S,2*2048)],V=1+2*Math.round(Math.sqrt(Q)),t=V>>>1,Y=new Array(V),i=new Array(V);
for(var O=0;O<V;O++){var S=new ArrayBuffer(512*4*3);Y[O]=[new Int32Array(S,0),new Int32Array(S,2048),new Int32Array(S,2*2048)];
i[O]=Y[O][0]}var J=[j._L.hy,j._L.uZ][x],H=J[0],v=J[1],n=z[0];for(var G=0;G<I;G++)if(G<Q||G>I-Q-V-1){n.fill(0);
var g=Math.max(G-Q,0),W=Math.min(I,G+Q+1),L=W-g;for(var b=0;b<Q;b++)C(n,k,b*I+g,b*I+W,1);for(var b=0;
b<c;b++){var T=b-Q-1,a=b+Q;if(a<c)C(n,k,a*I+g,a*I+W,1);if(T>=0)C(n,k,T*I+g,T*I+W,-1);var R=b*I+G<<2;
U=n[300];if(U!=0)for(var O=0;O<3;O++)d[R+O]=H(z[O],k[R+O],U)}}else{for(var O=0;O<V;O++)i[O].fill(0);
var g=G-Q+t,W=G+Q+1+t;for(var b=0;b<Q;b++)$(i,k,b*I+g,b*I+W,1,t);for(var b=0;b<c;b++){var T=b-Q-1,a=b+Q;
if(T>=0)$(i,k,T*I+g,T*I+W,-1,t);if(a<c)$(i,k,a*I+g,a*I+W,1,t);var D=Y[t];U=D[0][300];for(var O=0;O<t;
O++){var h=t-1-O,K=t+1+O,X=Y[h],w=Y[K],s=U+X[0][300],A=U+w[0][300],p=b*I+G+h<<2,q=b*I+G+K<<2;if(s!=0)for(var f=0;
f<3;f++)d[p+f]=v(D[f],X[f],k[p+f],s);if(A!=0)for(var f=0;f<3;f++)d[q+f]=v(D[f],w[f],k[q+f],A)}var R=b*I+G+t<<2;
if(U!=0)for(var f=0;f<3;f++)d[R+f]=H(D[f],k[R+f],U)}G+=V-1}}function $(k,d,I,c,Q,x){var U=M,S=I<<2,z=c<<2;
U(k[x-1],d,I-1<<2,Q);U(k[x-1],d,c-1<<2,-Q);U(k[x+1],d,c<<2,Q);U(k[x+1],d,I<<2,-Q);for(var O=1;O<x;O++){var V=k[x-O-1],t=k[x+O+1];
for(var Y=0;Y<=O;Y++){var i=Y<<2;U(V,d,I-1-Y<<2,Q);U(V,d,c-1-Y<<2,-Q);U(t,d,c+Y<<2,Q);U(t,d,I+Y<<2,-Q)}}C(k[x],d,I,c,Q)}function C(k,d,O,I,c){var Q=O<<2,x=I<<2;
while(Q<x){M(k,d,Q,c);Q+=4}}function M(k,d,I,c){var Q=c*d[I+3];k[300]+=Q;l(k,d[I],0,Q);l(k,d[I+1],512,Q);
l(k,d[I+2],1024,Q)}function l(k,d,I,c){k[I|d]+=c;k[I|256|d>>>4]+=c}return F}();j._L.a4s=function(){function F(x,U,S,z,V,t){if(V==0){U.set(x);
return}if(V<=200)r(x,U,S,z,V,t);else l(x,U,S,z,V,t)}function r(x,U,S,z,V,t){var Y=0,i=new Int32Array(512),J=1+2*Math.round(Math.sqrt(V)),H=J>>>1,v=new Array(J);
for(var O=0;O<J;O++)v[O]=new Int32Array(512);var n=[j._L.hy,j._L.uZ][t],G=n[0],g=n[1];for(var W=0;W<S;
W++)if(W<V||W>S-V-J-1){i.fill(0);Y=0;var L=Math.max(W-V,0),b=Math.min(S,W+V+1),T=b-L;for(var a=0;a<V;
a++){Y+=T;C(i,x,a*S+L,a*S+b,1)}for(var a=0;a<z;a++){var R=a-V-1,D=a+V;if(R>=0){Y-=T;C(i,x,R*S+L,R*S+b,-1)}if(D<z){Y+=T;
C(i,x,D*S+L,D*S+b,1)}var h=G(i,x[a*S+W],Y);U[a*S+W]=h}}else{for(var O=0;O<J;O++)v[O].fill(0);Y=0;var L=W-V+H,b=W+V+1+H,T=b-L;
for(var a=0;a<V;a++){Y+=T;$(v,x,a*S+L,a*S+b,1,H)}for(var a=0;a<z;a++){var R=a-V-1,D=a+V;if(R>=0){Y-=T;
$(v,x,R*S+L,R*S+b,-1,H)}if(D<z){Y+=T;$(v,x,D*S+L,D*S+b,1,H)}for(var O=0;O<H;O++){var K=H-1-O,X=H+1+O;
U[a*S+W+K]=g(v[H],v[K],x[a*S+W+K],Y);U[a*S+W+X]=g(v[H],v[X],x[a*S+W+X],Y)}U[a*S+W+H]=G(v[H],x[a*S+W+H],Y)}W+=J-1}}function $(x,U,S,z,V,t){var Y=M;
Y(x[t-1],U[S-1],0,V);Y(x[t-1],U[z-1],0,-V);Y(x[t+1],U[z],0,V);Y(x[t+1],U[S],0,-V);for(var O=1;O<t;O++){var i=x[t-O-1],J=x[t+O+1];
for(var H=0;H<=O;H++){Y(i,U[S-1-H],0,V);Y(i,U[z-1-H],0,-V);Y(J,U[z+H],0,V);Y(J,U[S+H],0,-V)}}C(x[t],U,S,z,V)}function C(x,U,O,S,z){while(O<S)M(x,U[O++],0,z)}function M(x,U,S,z){x[S|U]+=z;
x[S|256|U>>>4]+=z}function l(x,U,S,z,V,t){var Y=0,i=new Int32Array(512),J=new Int32Array(1*S),H=new Int32Array(512*S),v=Math.min(V,S),n=Math.min(V,z),G=[j._L.hy,j._L.uZ][t],g=G[0];
for(var W=0;W<n;W++)k(H,J,x,S,W,1);for(var W=0;W<z;W++){if(W+V<z)k(H,J,x,S,W+V,1);if(W-V-1>=0)k(H,J,x,S,W-V-1,-1);
i.fill(0);Y=0;for(var L=0;L<v;L++){Y+=J[L];d(i,H,L)}for(var L=0;L<S;L++){var b=L-V-1,T=L+V;if(b>=0&&J[b]!=0){Y-=J[b];
I(i,H,b)}if(T<S&&J[T]!=0){Y+=J[T];d(i,H,T)}var a=Y==0?0:g(i,x[W*S+L],Y);U[W*S+L]=a}}}function k(x,U,S,z,V,t){var O=V*z;
for(var Y=0;Y<z;Y++){M(x,S[O+Y],Y<<9,t);U[Y]+=t}}function d(x,U,S){for(var O=0;O<16;O++){var z=U[S<<9|256|O];
if(z==0)continue;x[256|O]+=z;var V=O<<4,t=S<<9|V;c(x,U,V,t);c(x,U,V+4,t+4);c(x,U,V+8,t+8);c(x,U,V+12,t+12)}}function I(x,U,S){for(var O=0;
O<16;O++){var z=U[S<<9|256|O];if(z==0)continue;x[256|O]-=z;var V=O<<4,t=S<<9|V;Q(x,U,V,t);Q(x,U,V+4,t+4);
Q(x,U,V+8,t+8);Q(x,U,V+12,t+12)}}function c(x,U,S,z){x[S]+=U[z];x[S+1]+=U[z+1];x[S+2]+=U[z+2];x[S+3]+=U[z+3]}function Q(x,U,S,z){x[S]-=U[z];
x[S+1]-=U[z+1];x[S+2]-=U[z+2];x[S+3]-=U[z+3]}return F}();j._L.az=.5;j._L.hy=[function(F,r,$){var C=~~(.5+j._L.az*$),M=0,O=256;
while(M+F[O]<C)M+=F[O++];O=O-256<<4;while(M<C)M+=F[O++];return O-1},function(F,r,$,C){var M=~~(.5+j._L.az*C),l=0,O=256;
while(l+F[O]+r[O]<M){l+=F[O]+r[O];O++}O=O-256<<4;while(l<M){l+=F[O]+r[O];O++}return O-1}];j._L.wD=100;
j._L.uZ=[function(F,r,$){var C=j._L.wD,M=0,l=0,O=Math.max(0,r-C),k=Math.min(256,r+C+1);while(O<k){var d=F[O];
M+=O*d;l+=d;O++}return l==0?0:M/l},function(F,r,$,C){var M=j._L.wD,l=0,k=0,O=Math.max(0,$-M),d=Math.min(256,$+M+1);
while(O<d){var I=F[O]+r[O];l+=O*I;k+=I;O++}return k==0?0:l/k}];j.H={};j.H.b6=function(F){var r=B.hL.$M(F.Trnf),$=new cS(0,0,1e3,1e3);
if(F.Sz){var C=F.Sz.v;$=new cS(0,0,C.Wdth.v,C.Hght.v)}var M=j.H.e0(r,$);return j.H.fR(M)};j.H.e0=function(F,r){var $=F[0],C=F[1],M=F[2],l=F[3],k=F[6],d=F[7],I=F[4],c=F[5],Q=0,x=0,U=1,S=0,z=0,V=1,t=1,Y=1;
if(r){Q=r.x;x=r.y;U=r.x+r.r;S=r.y;z=r.x;V=r.y+r.$;t=r.x+r.r;Y=r.y+r.$}return j.H.azx(F,[Q,x,U,S,t,Y,z,V])};
j.H.alv=function(F){function r(M,l){for(var O=0;O<l.length;O+=2)if(!$(M,l[O],l[O+1]))return!1;return!0}function $(M,l,k){return M[2*l]==M[2*k]&&M[2*l+1]==M[2*k+1]}var C=0;
if(r(F,[0,1,2,3]))C+=1;if(r(F,[0,3,1,2]))C+=2;return C};j.H.azx=function(F,r){function $(h,O,K){var a=h[O*2]-h[K*2],R=h[O*2+1]-h[K*2+1];
return Math.sqrt(a*a+R*R)}var C=F[0],M=F[1],l=F[2],k=F[3],d=F[6],I=F[7],c=F[4],Q=F[5],x=r[0],U=r[1],S=r[2],z=r[3],V=r[6],t=r[7],Y=r[4],i=r[5],J=[[x,U,1,0,0,0,-x*C,-U*C,C],[0,0,0,x,U,1,-x*M,-U*M,M],[S,z,1,0,0,0,-S*l,-z*l,l],[0,0,0,S,z,1,-S*k,-z*k,k],[V,t,1,0,0,0,-V*d,-t*d,d],[0,0,0,V,t,1,-V*I,-t*I,I],[Y,i,1,0,0,0,-Y*c,-i*c,c],[0,0,0,Y,i,1,-Y*Q,-i*Q,Q]],H=[0,0,0,0,0,0,0,0],v=j.VF.cr(J,H);
if(v!=0){H=[0,0,0,0,0,0,0,0];var n=j.H.alv(F),G=j.H.alv(r);if(n==G&&n!=0){var g=n==1,W=g?3:1,L=$(F,0,W),b=$(r,0,W),T=b/L,a=F[2*W]-F[0],R=F[2*W+1]-F[1],D=new hS;
D.translate(-C,-M);D.rotate(Math.atan2(R,a)-(g?Math.PI/2:0));if(g)D.scale(1,T);else D.scale(T,1);D.translate(x,U);
D.v4();H=j.H.TG(D)}}return H};j.H.j=function(F,r){if(F==null)F=r=0;return[1,0,F,0,1,r,0,0]};j.H.TI=function(F){return Math.abs(F[6])<1e-10&&Math.abs(F[7])<1e-10};
j.H.fR=function(F){return new hS(F[0],F[3],F[1],F[4],F[2],F[5])};j.H.TG=function(F){return[F.xz,F.gb,F.P6,F.X,F.G0,F.jw,0,0]};
j.H.U=function(F,r){var $=new Float64Array(2);for(var C=0;C<r.length;C+=2){var M=r[C],l=r[C+1];j.H.H5(M,l,F,$);
r[C]=$[0];r[C+1]=$[1]}};j.H.H5=function(F,r,$,C){var M=1/($[6]*F+$[7]*r+1);C[0]=($[0]*F+$[1]*r+$[2])*M;
C[1]=($[3]*F+$[4]*r+$[5])*M};j.H.ao$=function(F,r){var $=new Float64Array(2);j.H.H5(r.x,r.y,F,$);return new hx($[0],$[1])};
j.H.Mk=function(F,r,$,C){F=new Uint32Array(F.buffer);r=new Uint32Array(r.buffer);for(var M=0;M<C;M++){for(var l=0;
l<$;l++){r[l*C+M]=F[M*$+l]}}};j.H.rQ=function(F,r,$,C){F=new Uint32Array(F.buffer);r=new Uint32Array(r.buffer);
for(var M=0;M<C;M++){for(var l=0;l<$;l++){r[M*$+l]=F[M*$+$-1-l]}}};j.H.a1L=function(F,r,$,C){F=new Uint32Array(F.buffer);
r=new Uint32Array(r.buffer);for(var M=0;M<C;M++){for(var l=0;l<$;l++){r[M*$+l]=F[(C-1-M)*$+l]}}};j.H.aGG=function(F){return Math.abs(F[6])<1e-9&&Math.abs(F[7])<1e-9};
j.H.atG=function(F){return Math.abs(F[0])<1e-9&&Math.abs(F[4])<1e-9||Math.abs(F[1])<1e-9&&Math.abs(F[3])<1e-9};
j.H.drawImage=function(F,r,$,C,M,l,k,d){if(k==null)k=!1;var I=j.H.v4(F),c=!0,Q=0;for(var O=0;O<8;O++){var x=Math.round(F[O]);
if(O!=2&&O!=5)Q+=Math.abs(x);if(Math.abs(x-F[O])>1e-9)c=!1}var U=j.H.aGG(F),S=j.H.atG(F)&&U,z=S?1:0;
if(j.cN(r)!=8){j.H.aIW(I,r,$,C,M,l,U,k||d);return}if(k||c&&Q==$+C&&U){j.H.aDr(I,r,$,C,M,l,U,d);return}var V=l.r,t=l.$,Y=new Float64Array(2);
M=new Uint32Array(M.buffer);r=new Uint32Array(r.buffer);for(var i=0;i<t;i++)for(var J=0;J<V;J++){var H=i*V+J,v,n,G,g,w=0,N=0,s=0,A=0;
M[H]=0;var W=J+l.x+.5,L=i+l.y+.5;v=W;n=L;G=I;var b=G[0]*v+G[1]*n+G[2],T=G[3]*v+G[4]*n+G[5];if(!U){g=1/(G[6]*v+G[7]*n+1);
b*=g;T*=g}var a=b*$,R=T*C,D=a<-1||a>$+1||R<-1||R>C+1;if(D)continue;var h=j.H.awW(F,$,C,W,L,b,T),K=Math.round(h*2.3);
if(h<1.1){j.H.J$(a,R,r,$,C,M,H,z);continue}if(a<.6||a>$-.6||R<.6||R>C-.6){K=Math.max(K,5)}var X=1/K,p=l.x+J,q=l.y+i;
G=I;for(var O=0;O<K;O++)for(var f=0;f<K;f++){v=p+(O+.5)*X;n=q+(f+.5)*X;var a=G[0]*v+G[1]*n+G[2],R=G[3]*v+G[4]*n+G[5];
if(!U){g=1/(G[6]*v+G[7]*n+1);a*=g;R*=g}if(a<0||a>=1||R<0||R>=1)continue;a=Math.floor(a*$);R=Math.floor(R*C);
var e=R*$+a,o=r[e],E=o>>>24;w+=(o&255)*E;N+=(o>>>8&255)*E;s+=(o>>>16&255)*E;A+=E}if(A!=0){var cj=1/A;
w=~~(w*cj+.5);N=~~(N*cj+.5);s=~~(s*cj+.5);A=~~(A*X*X+.5);M[H]=A<<24|s<<16|N<<8|w}}};j.H.aIW=function(F,r,$,C,M,l,k,d){var I=l.r,c=l.$,Q=new hS;
Q.scale($,C);Q.translate(1,1);var x=j.H.MV(j.H.TG(Q),F),U=new cS(0,0,$,C),S=U.P();S.lW(1,1);var z=j.j(S.C()*4,j.cN(r));
j.mR(r,U,z,S);$=S.r;C=S.$;var V=l.x+.5,t=l.y+.5;j.nP(z);for(var Y=0;Y<c;Y++)for(var i=0;i<I;i++){var J=Y*I+i<<2,H=i+V,v=Y+t,n=x[0]*H+x[1]*v+x[2],G=x[3]*H+x[4]*v+x[5];
if(!k){var g=1/(x[6]*H+x[7]*v+1);n*=g;G*=g}if(n<.5||n>$-.5||G<.5||G>C-.5){M[J]=0;M[J+1]=0;M[J+2]=0;M[J+3]=0}else if(d){var W=~~G*$+~~n<<2;
M[J]=z[W];M[J+1]=z[W+1];M[J+2]=z[W+2];M[J+3]=z[W+3]}else j.H.ajq(n,G,z,$,M,J)}j.AJ(M)};j.H.awW=function(F,r,$,C,M,l,k){var d=j.H.aw5(F,C,M,l+1/r,k),I=j.H.aw5(F,C,M,l,k+1/$);
return 1/Math.sqrt(Math.max(d,I))};j.H.aw5=function(F,r,$,C,M){var l=1/(F[6]*C+F[7]*M+1),k=(F[0]*C+F[1]*M+F[2])*l-r,d=(F[3]*C+F[4]*M+F[5])*l-$;
return k*k+d*d};j.H.aDr=function(F,r,$,C,M,l,k,d){if(k&&l.C()>4e6&&d){j.H.ame(F,r,$,C,M,l,k,d);return}var I=l.x+l.r,c=l.y+l.$,Q=0,x=new Uint32Array(M.buffer),U=new Uint32Array(r.buffer),S=F[0]*$,z=F[1]*$,V=F[2]*$,t=F[3]*C,Y=F[4]*C,i=F[5]*C,J=F[6],H=F[7];
if(k)for(var v=l.y+.5;v<c;v++)for(var n=l.x+.5;n<I;n++){var G=S*n+z*v+V,g=t*n+Y*v+i;if(0<G&&G<$&&0<g&&g<C){var W=~~g*$+~~G;
x[Q]=U[W]}else x[Q]=0;Q++}else for(var v=l.y+.5;v<c;v++)for(var n=l.x+.5;n<I;n++){var L=1/(J*n+H*v+1),G=(S*n+z*v+V)*L,g=(t*n+Y*v+i)*L;
if(0<G&&G<$&&0<g&&g<C){var W=Math.floor(g)*$+Math.floor(G);x[Q]=U[W]}else x[Q]=0;Q++}};j.H.ame=function(F,r,$,C,M,l,k,d){var I=new Uint32Array(M.buffer),c=new Uint32Array(r.buffer),H=0;
if(d&&(l.r&3)!=0)throw"e";var Q=F[0]*$,x=F[1]*$,U=F[2]*$,S=F[3]*C,z=F[4]*C,V=F[5]*C,t=F[6],Y=F[7],i=l.r,J=l.$,v=l.x+.5,n=l.y+.5,G=(i>>>2<<2)-1e-9,g=-.1+(J>>>1<<1)-1e-9,W=~~$,L=Q==0?0:1/Q,b=S==0?0:1/S;
for(var T=0;T<J;T++){var a=v*Q+x*(T+n)+U,R=v*S+z*(T+n)+V,D=0,h=i;if(Q==0){}else if(L>0){D=Math.max(D,-a*L);
h=Math.min(h,($-a)*L)}else{h=Math.min(h,-a*L);D=Math.max(D,($-a)*L)}if(S==0){}else if(b>0){D=Math.max(D,-R*b);
h=Math.min(h,(C-R)*b)}else{h=Math.min(h,-R*b);D=Math.max(D,(C-R)*b)}if(h<0)h=0;if(D>h)D=h;D=~~Math.ceil(D);
h=~~h;H=~~(T*i);I.fill(0,H,H+D);H+=D;for(var K=D;K<h;K+=4){var X=Q*K+a,w=S*K+R,N=~~w*W+~~X,s=c[N];I[H]=s;
I[H+1]=s;I[H+2]=s;I[H+3]=s;H+=4}I.fill(0,H,H+i-h)}};j.H.v4=function(F){var r=F[4]-F[5]*F[7],$=F[2]*F[7]-F[1],C=F[1]*F[5]-F[2]*F[4],M=F[5]*F[6]-F[3],l=F[0]-F[2]*F[6],k=F[3]*F[2]-F[0]*F[5],d=F[3]*F[7]-F[4]*F[6],I=F[1]*F[6]-F[0]*F[7],c=1/(F[0]*F[4]-F[1]*F[3]);
return[r*c,$*c,C*c,M*c,l*c,k*c,d*c,I*c]};j.H.MV=function(F,r){var $=F[0],C=F[1],M=F[2],l=F[3],k=F[4],d=F[5],I=F[6],c=F[7],Q=r[0],x=r[1],U=r[2],S=r[3],z=r[4],V=r[5],t=r[6],Y=r[7],i=[$*Q+C*S+M*t,$*x+C*z+M*Y,$*U+C*V+M,l*Q+k*S+d*t,l*x+k*z+d*Y,l*U+k*V+d,I*Q+c*S+t,I*x+c*z+Y],v=1/(I*U+c*V+1);
for(var O=0;O<8;O++)i[O]*=v;return i};j.H.J$=function(F,r,$,C,M,l,k,d){var I=F,c=r,U=0,S=0,z=0,V=0;F-=.499999;
r-=.499999;var Q=Math.floor(F),x=Math.floor(r);if(d==0){var O=x*C+Q,t=Q>=0&&Q<C,Y=Q+1>=0&&Q+1<C,i=x>=0&&x<M,J=x+1>=0&&x+1<M;
if(t&&i)U=$[O];if(Y&&i)S=$[O+1];if(t&&J)z=$[O+C];if(Y&&J)V=$[O+C+1]}else if(d==1){var H=Q<0?0:Q>C-1?C-1:Q,v=Q<-1?0:Q>C-2?C-1:Q+1,n=x<0?0:x>M-1?M-1:x,G=x<-1?0:x>M-2?M-1:x+1;
U=$[n*C+H];S=$[n*C+v];z=$[G*C+H];V=$[G*C+v]}else{var H=(Q+50*C)%C,v=(Q+50*C+1)%C,n=(x+50*M)%M,G=(x+50*M+1)%M;
U=$[n*C+H];S=$[n*C+v];z=$[G*C+H];V=$[G*C+v]}var g=F-Q,W=r-x,L=(1-W)*(1-g)*(U>>>24),b=(1-W)*g*(S>>>24),T=W*(1-g)*(z>>>24),a=W*g*(V>>>24),R=L+b+T+a,D=L*(U&255)+b*(S&255)+T*(z&255)+a*(V&255),h=L*(U>>>8&255)+b*(S>>>8&255)+T*(z>>>8&255)+a*(V>>>8&255),K=L*(U>>>16&255)+b*(S>>>16&255)+T*(z>>>16&255)+a*(V>>>16&255);
if(R==0)l[k]=0;else{var X=1/R;D=~~(D*X+.5);h=~~(h*X+.5);K=~~(K*X+.5);R=~~(R+.5);l[k]=R<<24|K<<16|h<<8|D}};
j.H.ajq=function(F,r,$,C,M,l){var k=F-.499999,d=r-.499999,I=~~k,c=~~d,Q=k-I,x=d-c,U=(1-x)*(1-Q),S=(1-x)*Q,z=x*(1-Q),V=x*Q,t=c*C+I<<2,Y=(c+1)*C+I<<2;
M[l]=U*$[t]+S*$[t+4]+z*$[Y]+V*$[Y+4];M[l+1]=U*$[t+1]+S*$[t+5]+z*$[Y+1]+V*$[Y+5];M[l+2]=U*$[t+2]+S*$[t+6]+z*$[Y+2]+V*$[Y+6];
M[l+3]=U*$[t+3]+S*$[t+7]+z*$[Y+3]+V*$[Y+7]};j.H.ayP=function(F,r,$,C,M,l){var k=F-.499999,d=r-.499999,I=~~k,c=~~d,Q=k-I,x=d-c,U=(1-x)*(1-Q),S=(1-x)*Q,z=x*(1-Q),V=x*Q,t=c*C+I<<2,Y=(c+1)*C+I<<2,i=U*$[t]+S*$[t+4]+z*$[Y]+V*$[Y+4],J=U*$[t+1]+S*$[t+5]+z*$[Y+1]+V*$[Y+5],H=U*$[t+2]+S*$[t+6]+z*$[Y+2]+V*$[Y+6],v=U*$[t+3]+S*$[t+7]+z*$[Y+3]+V*$[Y+7];
l[0]=i;l[1]=J;l[2]=H;l[3]=v};j.H.OS=function(F,r,$,C,M){F-=.499999;r-=.499999;var l=Math.floor(F),k=Math.floor(r),d=F-l,I=r-k,c=(1-I)*(1-d),Q=(1-I)*d,x=I*(1-d),U=I*d,S=(l+50*C)%C,z=(l+1+50*C)%C,V=(k+50*M)%M,t=(k+1+50*M)%M,Y=$[V*C+S],i=$[V*C+z],J=$[t*C+S],H=$[t*C+z];
if(Y==null||H==null)throw"e";return c*Y+Q*i+x*J+U*H};j.H.aoh=function(F,r,$,C,M){F-=.499999;r-=.499999;
var l=Math.floor(F),k=Math.floor(r),d=F-l,I=r-k,c=(1-I)*(1-d),Q=(1-I)*d,x=I*(1-d),U=I*d,S=k*C+l,z=S+C;
return c*$[S]+Q*$[S+1]+x*$[z]+U*$[z+1]};j.H.acq=function(F,r,$,C,M){F-=.499999;r-=.499999;var l=Math.floor(F),k=Math.floor(r),d=F-l,I=r-k,c=(1-I)*(1-d),Q=(1-I)*d,x=I*(1-d),U=I*d,S=k*C+l,z=S+C;
return c*$[S]+Q*$[S+1]+x*$[z]+U*$[z+1]};j.H.auY=function(F,r,$,C,M){F-=.499999;r-=.499999;var l=Math.floor(F),k=Math.floor(r),d=F-l,I=r-k,c=(1-I)*(1-d),Q=(1-I)*d,x=I*(1-d),U=I*d,S=k*C+l,z=S+C;
return c*$[S]+Q*$[S+1]+x*$[z]+U*$[z+1]};j.H.aaE=function(F,r,$,C,M,l,k,d,I,c,Q,x){var U=new Uint32Array(F.buffer),S=new Uint32Array(C.buffer),z=(1+2*c)/M,V=[],t=[];
for(var Y=0;Y<M;Y++){var i=-.25+c-Y*z;V.push(Math.cos(2*Math.PI*i)*x/Q);V.push(Math.sin(2*Math.PI*i)/Q)}k*=r;
d*=$;for(var J=0;J<l;J++){var H=Math.pow(J/l,I)*l;for(var Y=0;Y<M;Y++){var v=k+V[Y<<1]*H,n=d+V[(Y<<1)+1]*H,G=~~(.5+(v<0?0:v>r-1?r-1:v)),g=~~(.5+(n<0?0:n>$-1?$-1:n));
S[J*M+Y]=U[g*r+G]}}};j.H.afR=function(F,r,$,C,M,l,k,d,I,c,Q,x){var U=new Uint32Array(F.buffer),S=new Uint32Array(C.buffer),z=1/x,V=[],t=$*4,Y=1/t;
for(var i=0;i<t+10;i++)V.push(Math.pow(i*Y,1/I)*$*Q);k*=M;d*=l;for(var i=0;i<l;i++)for(var J=0;J<M;J++){var H=z*(J-k),v=i-d,n=1.75-Math.atan2(v,H)*(1/(2*Math.PI));
n=n-~~n;n=(n+c)*(1/(1+2*c));var G=Math.sqrt(H*H+v*v);G=V[~~(G*4)];j.H.J$(n*r+.5,G+.5,U,r,$,S,i*M+J,1)}};
j.H.zt=function(F,r,$,C,M){var l=M[0],k=M[1];for(var d=0;d<k;d++)for(var I=0;I<l;I++){var c=M[2]*I+M[3]*d+M[4],Q=M[5]*I+M[6]*d+M[7],x=d*l+I<<2,U=Q*r+c<<2;
C[x]=F[U+0];C[x+1]=F[U+1];C[x+2]=F[U+2];C[x+3]=F[U+3]}};j.qS=function(){function F(H,v){var n=~~(.499+H*v);
return n<0?0:(n>v?v:n)<<2}function r(H,v,n,G,g,W,L,b){var T=n[0],a=n[1],R=n[2],D=n[3],h=G.r,K=G.$,X=new Uint32Array(1),w=new Uint8Array(X.buffer),N=Math.round(Math.random()*G.C()*100);
for(var s=0,O=0;s<K;s++){for(var A=0;A<h;A++,O++){var p=A+g,q=s+W,f=T*p+a*q,e=R*p+D*q,o=0;if(b==0)o=f+.5;
else if(b==1)o=2*Math.sqrt(f*f+e*e);else if(b==2)o=(Math.PI+Math.atan2(-e,-f))/(2*Math.PI);else if(b==3)o=Math.abs(f*2);
else if(b==4)o=2*(Math.abs(f)+Math.abs(e));var E=F(o,L),cj=A*4;X[0]=j.v.dZ(O+N);for(var u=0;u<4;u++){var cd=v[E+u]*255,m=Math.floor(cd);
if(w[u]<(cd-m)*255)m++;H[(O<<2)+u]=m}}}}function $(H,O,v,n,G){var g=O<<2;H[g]=v[n]*G;H[g+1]=v[n+1]*G;
H[g+2]=v[n+2]*G;H[g+3]=v[n+3]*G}var C=[function(H,v,n,G,g,W,L,b){var T=n[0],a=n[1],R=n[2],D=n[3],h=G.r,K=G.$;
for(var X=0,O=0;X<K;X++)for(var w=0;w<h;w++,O++){var N=w+g,s=X+W,A=T*N+a*s,p=R*N+D*s,q=A+.5;$(H,O,v,F(q,L),b)}},function(H,v,n,G,g,W,L,b){var T=n[0],a=n[1],R=n[2],D=n[3],h=G.r,K=G.$;
for(var X=0,O=0;X<K;X++)for(var w=0;w<h;w++,O++){var N=w+g,s=X+W,A=T*N+a*s,p=R*N+D*s,q=2*Math.sqrt(A*A+p*p);
$(H,O,v,F(q,L),b)}},function(H,v,n,G,g,W,L,b){var T=n[0],a=n[1],R=n[2],D=n[3],h=G.r,K=G.$;for(var X=0,O=0;
X<K;X++)for(var w=0;w<h;w++,O++){var N=w+g,s=X+W,A=T*N+a*s,p=R*N+D*s,q=(Math.PI+Math.atan2(-p,-A))/(2*Math.PI);
$(H,O,v,F(q,L),b)}},function(H,v,n,G,g,W,L,b){var T=n[0],a=n[1],R=n[2],D=n[3],h=G.r,K=G.$;for(var X=0,O=0;
X<K;X++)for(var w=0;w<h;w++,O++){var N=w+g,s=X+W,A=T*N+a*s,p=R*N+D*s,q=Math.abs(A*2);$(H,O,v,F(q,L),b)}},function(H,v,n,G,g,W,L,b){var T=n[0],a=n[1],R=n[2],D=n[3],h=G.r,K=G.$;
for(var X=0,O=0;X<K;X++)for(var w=0;w<h;w++,O++){var N=w+g,s=X+W,A=T*N+a*s,p=R*N+D*s,q=2*(Math.abs(A)+Math.abs(p));
$(H,O,v,F(q,L),b)}}];function M(H,v,n,G,g,W,L,b,T,a,D,h){var K=H.Clrs,X=1023,w=K?l(H,T,a):null,N=K?c(H,w,X+1,L):d(H,X+1,L),s=j.cN(v),A=j.zV(s);
if(s==8&&h&&K){r(v,N,G,n,n.x-g,n.y-W,X,b)}else if(b<5){C[b](v,N,G,n,n.x-g,n.y-W,X,A)}else{var p=j.Mz(N,8),q=n.r,f=n.$,e=D.Y2-D.lH,o=1/e,E=D.JR.r-n.r>>1,cj=D.JR.$-n.$>>1,u=D.JR.r,cd=-.6*o,m=(-.6+.4)*o,aZ=(-.6+2*.4)*o,jN=(-.6+3*.4)*o;
for(var eh=0,O=0;eh<f;eh++)for(var iA=0;iA<q;iA++,O+=4){var hd=0,kx=0,b0=0,gX=0,j$=(eh+cj)*u+iA+E,i0=(D.l3[j$]-D.lH)*o,f7=0;
if(i0<=0||i0>=1){f7=(i0<=0?0:X)<<2;v[O]=p[f7];v[O+1]=p[f7+1];v[O+2]=p[f7+2];v[O+3]=p[f7+3];continue}f7=Math.max(0,Math.min(X-1,Math.round((i0+cd)*X)))<<2;
kx+=p[f7];b0+=p[f7+1];gX+=p[f7+2];hd+=p[f7+3];f7=Math.max(0,Math.min(X-1,Math.round((i0+m)*X)))<<2;kx+=p[f7];
b0+=p[f7+1];gX+=p[f7+2];hd+=p[f7+3];f7=Math.max(0,Math.min(X-1,Math.round((i0+aZ)*X)))<<2;kx+=p[f7];
b0+=p[f7+1];gX+=p[f7+2];hd+=p[f7+3];f7=Math.max(0,Math.min(X-1,Math.round((i0+jN)*X)))<<2;kx+=p[f7];
b0+=p[f7+1];gX+=p[f7+2];hd+=p[f7+3];v[O]=kx>>>2;v[O+1]=b0>>>2;v[O+2]=gX>>>2;v[O+3]=hd>>>2}}}function l(H,v,n){var G=[H.Clrs.v,H.Trns.v],g=[[],[]],W=255;
for(var L=0;L<2;L++)for(var O=0;O<G[L].length;O++){var b,T=G[L][O].v;if(L==0){var a=T.Type.v.Clry;if(a=="FrgC")b={t:v>>16&255,L:v>>8&255,X:v&255};
else if(a=="BckC")b={t:n>>16&255,L:n>>8&255,X:n&255};else b=k(T.Clr.v)}else{b=T.Opct.v.val*(255/100);
if(b<W)W=b}g[L].push([b,T.Lctn.v/4096,T.Mdpn.v/100])}g.push(W>254);return g}function k(H){var v,n=H.classID;
if(n=="RGBC"){if(H.Rd)v={t:H.Rd.v,L:H.Grn.v,X:H.Bl.v};else v={t:H.redFloat.v*255,L:H.greenFloat.v*255,X:H.blueFloat.v*255}}else if(n=="HSBC"){v=j.To(H.H.v.val/360,H.Strt.v/100,H.Brgh.v/100);
v.t*=255;v.L*=255;v.X*=255}else if(n=="CMYC"){var G=H.Cyn.v,g=H.Mgnt.v,W=H.Ylw.v,L=H.Blck.v,b=[G/100,g/100,W/100,L/100],T=j.Ao(b);
v={t:T[0]*255,L:T[1]*255,X:T[2]*255}}else if(n=="Grsc")v={t:255-H.Gry.v,L:255-H.Gry.v,X:255-H.Gry.v};
else if(n=="LbCl"){v=j.dW(H.Lmnc.v,H.A.v,H.B.v)}else if(n=="BkCl")v={t:0,L:0,X:0};else console.log(H);
if(isNaN(v.t))v.t=v.L=v.X=0;return v}function d(H,v,n){var G=new Uint32Array(v),g=new Uint8Array(G.buffer);
G.fill(4278190080);var W=[],L=[],b=H.RndS.v,T=H.Smth.v/4096;for(var O=0;O<4;O++){W[O]=~~(H.Mnm.v[O].v*255/100);
L[O]=~~(H.Mxm.v[O].v*255/100)}var a=j.j(v*4),R=j.j(v);for(var D=0;D<3;D++){j.F.a4A(null,v,1,a,[1+Math.round(T*T*T*60),22,b*(2+D)]);
j.Eg(a,R,0);j.dr(R,g,D);var h=W[D],K=L[D];for(var O=0;O<v;O++)g[4*O+D]=Math.max(h,Math.min(K,g[4*O+D]))}if(n)for(var O=0;
O<v/2;O++){var X=G[O];G[O]=G[v-1-O];G[v-1-O]=X}return j.Mz(g,32)}function I(H){return{classID:"RGBC",Rd:{t:"doub",v:H.t},Grn:{t:"doub",v:H.L},Bl:{t:"doub",v:H.X}}}function c(H,v,n,G){var g=new Float32Array(n*4),W=1/(n-0);
for(var O=0;O<n;O++){var L=O*4,b=x(H,v,(G?n-1-O:O)*W);g[L]=b[0];g[L+1]=b[1];g[L+2]=b[2];g[L+3]=b[3]}return g}function Q(H,v,n,G){var g=new Uint32Array(n),W=1/(n-0);
for(var O=0;O<n;O++)g[O]=U(H,v,(G?n-1-O:O)*W);return new Uint8Array(g.buffer)}function x(H,v,n){var G=H.Intr.v*(1/4096),g=v[0],W=v[1],L=g.length-1,b=W.length-1,O=-1,T=0,a=0,R=0,D=0;
if(v[2])T=255;else{while(O<b&&W[O+1][1]<=n)O++;if(O==-1){T=W[0][0]}else if(O==b){T=W[O][0]}else{var h=S(W,O,n,G);
T=h*W[O][0]+(1-h)*W[O+1][0]}}O=-1;while(O<L&&g[O+1][1]<=n)O++;if(O==-1){var K=g[0][0];a=K.t;R=K.L;D=K.X}else if(O==L){var K=g[O][0];
a=K.t;R=K.L;D=K.X}else{var X=g[O][0],w=g[O+1][0],N=S(g,O,n,G);a=Math.min(255,N*X.t+(1-N)*w.t);R=Math.min(255,N*X.L+(1-N)*w.L);
D=Math.min(255,N*X.X+(1-N)*w.X)}return[a*(1/255),R*(1/255),D*(1/255),T*(1/255)]}function U(H,v,n){var G=x(H,v,n),g=~~(.5+G[0]*255),W=~~(.5+G[1]*255),L=~~(.5+G[2]*255),b=~~(.5+G[3]*255);
return b<<24|L<<16|W<<8|g}function S(H,O,v,n){if(H.length==2)n*=.5;var G=H[O][1],g=H[O+1][1],W=G+H[O+1][2]*(g-G),L;
if(v<W)L=.5*(v-G)/(W-G);else L=.5+.5*(v-W)/(g-W);L=.5+.5*(n*Math.cos(Math.PI*L)+(1-n)*(1-2*L));return L}function z(H,v,n){var G=.5*n.$,g=G*(H/v),W=Math.sqrt(G*G+g*g),L=.5*n.r,b=L*(v/H),T=Math.sqrt(L*L+b*b);
return Math.min(W,T)}function V(H,v){var n=Math.PI*H.Angl.v.val/180,G=H.Scl.v.val/100,g=H.Ofst.v,W=g.Hrzn.v.val/100,L=g.Vrtc.v.val/100,b=Math.cos(n),T=-Math.sin(n),a=z(b,T,v),R=a*G,D=v.x+v.r/2+W*v.r,h=v.y+v.$/2+L*v.$;
return[new hx(D,h),new hx(D+b*R,h+T*R)]}function t(H,v,n,G){var g=v.x-H.x,W=-(v.y-H.y),L=Math.sqrt(g*g+W*W),b=Math.atan2(W,g),T=Math.cos(b),a=-Math.sin(b),R=z(T,a,n),D=L/R,h=(H.x-n.x-n.r/2)/n.r,K=(H.y-n.y-n.$/2)/n.$;
G.Angl.v.val=180*b/Math.PI;G.Scl.v.val=D*100;var X=G.Ofst.v;X.Hrzn.v.val=h*100;X.Vrtc.v.val=K*100}function Y(H,v){for(var O=0;
O<H.length;O++){var n=H[O],G=Math.round(n[0]*4096),g=n[1],W=n[2],L=H[Math.max(0,O-1)][3];if(W==null)W=1;
if(L==null)L=.5;var b=I({t:g[0]*255,L:g[1]*255,X:g[2]*255});v.Clrs.v[O]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:G},Mdpn:{t:"long",v:Math.round(L*100)},Clr:{t:"Objc",v:b},Type:{t:"enum",v:{Clry:"UsrS"}}}};
v.Trns.v[O]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:G},Mdpn:{t:"long",v:Math.round(L*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(W*100)}}}}}}function i(H,v,n){if(v){H=j.N(H);
for(var O=0;O<2;O++){var G=H[O==0?"Clrs":"Trns"].v;for(var g=0;g<G.length;g++)G[g].v.Lctn.v=4096-G[g].v.Lctn.v;
G.reverse()}}var W=[],L=1/255,b=H.Clrs.v,T=H.Trns.v,G=b;if(gw==0||b.length!=T.length){if(gw!=0)console.log("strange gradient");
if(n!=!0)G=b.concat(T);var a=l(H,0,0);for(var O=0;O<G.length;O++){var R=G[O].v,D=R.Lctn.v/4096,h=x(H,a,D);
W.push([D,[h[0],h[1],h[2]],h[3],R.Mdpn.v/100])}W.sort(function(X,w){return X[0]-w[0]});for(var O=1;O<W.length;
O++)if(W[O][0]-W[O-1][0]<.001){W.splice(O,1);O--}}else{for(var O=0;O<G.length;O++){var R=b[O].v,K=R.Clr.v,D=R.Lctn.v/4096;
W.push([D,[K.Rd.v*L,K.Grn.v*L,K.Bl.v*L],T[O].v.Opct.v.val/100,b[Math.min(O+1,b.length-1)].v.Mdpn.v/100])}}return W}function J(H,v){function n(H,L){H.addColorStop(L[0],CSS.aba(L[1],L[2]))}function G(L,b,T,a){var R=Math.log(.5)/Math.log(a),D=Math.log(.5)/Math.log(1-a),h=a>.5?Math.pow(T,R):1-Math.pow(1-T,D),K=1-h,X=L[0],w=L[1],N=b[1],s=[X+(b[0]-X)*T,[w[0]*K+N[0]*h,w[1]*K+N[1]*h,w[2]*K+N[2]*h],L[2]*K+b[2]*h];
return s}n(H,v[0]);for(var O=1;O<v.length;O++){var g=v[O-1][3];if(g!=.5)for(var W=1;W<20;W++)n(H,G(v[O-1],v[O],W/20,g));
n(H,v[O])}}return{T0:M,NG:I,MB:k,aaI:c,ayf:d,aF:t,a4t:V,CT:J,p3:Y,apI:i,ac:l,XZ:U}}();j.ayE={};j.ayE.lF=function(F,r,$,C,M,l,k,d,I,c,Q,x){var U,S,z,V=Date.now(),t=!1,Y=k,i=c,J,H,v,n,G=l*255,g=255-I*255,W=1+M*6,L=1+d*6,b=1+x*4,T=(b-1)/7,a=0,R=255-0,D,h,K,X,w,N,s,A,p,q,f,e,o,E=0,cj=1,u,cd,m,aZ,jN,eh,iA,hd,kx,b0,gX=1+Q,j$,i0=j.j($*C),f7=j.j($*C),am=j.j($*C),gf=j.j($*C),cC=255/G,aD=255/(255-g);
for(S=0;S<C;S++){for(U=0;U<$;U++){var O=S*$+U,c_=O<<2;u=j.er(F[c_],F[c_+1],F[c_+2]);gf[O]=u;if(u<G)i0[O]=255-u*cC;
if(u>g)f7[O]=255-(255-u)*aD}}if(t)console.log("init",Date.now()-V);V=Date.now();if(M*Y>0){j.Zi.eO(i0,new cS(0,0,$,C),Y,2)}if(d*i>0){j.Zi.eO(f7,new cS(0,0,$,C),i,2)}if(t)console.log("blur",Date.now()-V);
V=Date.now();var a9=j.j(256),jz=j.j(256);for(var O=0;O<256;O++){var g3=O*(1/255),e3=0;e3=(1-Math.pow(1-g3,W))*255;
a9[O]=Math.max(0,Math.min(255,~~(e3+.5)));e3=Math.pow(g3,L)*255;jz[O]=Math.max(0,Math.min(255,~~(e3+.5)))}var c1=new Uint8ClampedArray(r.buffer),dI=new Float32Array(32768);
for(var O=0;O<32768;O++){j$=Math.sqrt(O)*(1/128);if(gX>1)j$=(1-j$)*(gX-1)+1;else j$=j$*(gX-1)+1;dI[O]=j$}for(S=0;
S<C;S++){for(U=0;U<$;U++){var O=S*$+U,c_=O<<2,e3=gf[O],kJ=i0[O]*(1/255),cA=f7[O]*(1/255);e3=(1-kJ)*e3+kJ*a9[~~e3];
e3=(1-cA)*e3+cA*jz[~~e3];u=e3;var c2=F[c_],ee=F[c_+1],hF=F[c_+2];cd=-c2*.168736-ee*.331264+hF*.5;m=c2*.5-ee*.418688-hF*.081312;
j$=dI[~~(.5+cd*cd+m*m)];aZ=cd*j$;eh=m*j$;cj=1-Math.min(2-(kJ+cA),1);cd=cj*cd+(1-cj)*aZ;m=cj*m+(1-cj)*eh;
hd=u+1.402*m;kx=u-.34414*cd-.71414*m;b0=u+1.772*cd;c1[c_]=~~(.5+hd);c1[c_+1]=~~(.5+kx);c1[c_+2]=~~(.5+b0)}}if(t)console.log("apply masks",Date.now()-V);
V=Date.now()};j.lK={};j.lK.AY=function(F,r,$,C,M){var l=Date.now(),k=!1,V=1,R=0,p=0;if(!r.qC(M)){var d=r.DM(M),I=j.j(d.C()*4);
j.mR(F,r,I,d);F=I;r=d}var c=j.j(r.C());j.wU($,M,c,r);j.round(c);M=M.R7(r);var Q=M.r,x=M.$,U=Q*3<x?2:1,S=x*3<Q?2:1;
if(M.C()*(U*2+1)*(S*2+1)<r.C()){var d=new cS(M.x-Q*U,M.y-x*U,Q*(U*2+1),x*(S*2+1)).R7(r),I=j.j(d.C()*4);
j.mR(F,r,I,d);var z=j.j(d.C());j.wU(c,r,z,d);r=d;F=I;c=z}while((r.r+r.$)/2/V>400)V++;var t=F,Y=r,i=c,J=Math.floor(Y.r/V),H=Math.floor(Y.$/V);
F=j.j(J*H*4);j.scale.f1(t,Y.r,Y.$,F,J,H,1/V);c=j.j(J*H);j.scale.zt(i,Y.r,Y.$,c,J,H,1/V);j.round(c,1);
if(k)console.log("scale down:",V,J,H);var v=j.BM(c,new cS(0,0,J,H));if(v.XS())return 1;var n=Math.round((v.r+v.$)/2/15);
if(k)console.log(Date.now()-l,"preprocess");l=Date.now();var G=j.j(J*H*4);j.afl(F,G);var g=Int16Array,W=new g(J*H*24),L=new g(64),b=new g(64),T=new g(64),a=new g(64);
for(var D=3;D<H-4;D++)for(var h=3;h<J-4;h++){var K=D*J+h;if(c[K]==255)continue;if(j.lK.a6c(G,c,h,D,J,H,L,b,T)!=0)continue;
j.lK.oP(L,a);var X=R*24;W[X]=h;W[X+1]=D;j.lK.Jx(L,W,X+4,12);j.lK.oP(b,a);j.lK.Jx(b,W,X+16,4);j.lK.oP(T,a);
j.lK.Jx(T,W,X+20,4);var w=W[X+5],N=W[X+6];W[X+5]=W[X+16];W[X+6]=W[X+20];W[X+16]=w;W[X+20]=N;R++}if(R==0)return 2;
if(k)console.log(Date.now()-l,"FWHT computed");l=Date.now();var s=[];j.lK.f9(0,R-1,s,W,new g(2*24));
if(k)console.log(Date.now()-l,"KD tree computed");l=Date.now();var A=new Uint32Array(J*H*4);for(var O=0;
O<R;O++){var q=O,f=j.lK.aff(q,W,s,n);if(f==-1)continue;var e=q*24,o=f*24,E=W[e],cj=W[e+1],u=W[o],cd=W[o+1];
p+=j.lK.getError(o,e,W,1e99);var m=u-E,aZ=cd-cj;A[(H+aZ)*2*J+(J+m)]+=1}if(k)console.log(Date.now()-l,"NN found");
l=Date.now();var jN=[],eh=1/(2*J);for(var O=0;O<A.length;O++){if(A[O]>0){var D=Math.floor(O*eh),h=O-D*2*J;
jN.push({x:h-J,y:D-H,Y:A[O],a9:-1})}}jN.sort(function(c1,dI){return dI.Y-c1.Y});var iA=new Int32Array(J*H),hd=[];
for(var O=0;O<J*H;O++){if(c[O]==255){iA[O]=hd.length>>>1;hd.push(O%J,Math.floor(O/J))}else if(F[(O<<2)+3]<200){iA[O]=-2}else{iA[O]=-1}}var kx=j.lK.awn(J,H,jN,iA,hd);
if(kx==null){if(k)console.log("no appropriate labeling");return 3}var b0=kx.DT,top=kx.top;b0=j.lK.a6W(b0,F,J,H,top,iA,hd);
if(k)console.log(Date.now()-l,"optimal labeling found");l=Date.now();var d=M.P();d.lW(1,1);d=d.R7(Y);
var gX=j.j(d.C()*4),j$=j.j(d.C());j.mR(t,Y,gX,d);var i0=Y.r,f7=Y.$;for(var D=0;D<f7;D++)for(var h=0;
h<i0;h++){if(i[D*i0+h]==0)continue;var am=Math.min(Math.floor(h/V),J-1),gf=Math.min(Math.floor(D/V),H-1),cC=iA[gf*J+am];
if(cC==-1)continue;var aD=b0[cC],c_=top[aD],a9=h+c_.x*V,jz=D+c_.y*V,g3=jz*i0+a9<<2,e3=(D-d.y+Y.y)*d.r+(h-d.x+Y.x)<<2;
gX[e3]=t[g3];gX[e3+1]=t[g3+1];gX[e3+2]=t[g3+2];gX[e3+3]=t[g3+3];gX[e3+3]=t[g3+3];j$[e3>>2]=aD+1}if(k)console.log(Date.now()-l,"copied back");
l=Date.now();j.i7.AY(gX,j$,d,null,1e3);if(k)console.log(Date.now()-l,"poisson smooth");l=Date.now();
j.mR(gX,d,C,M);return 0};j.lK.a9H=function(F,r,$,C,M,l){return j.lK.BR(F+M.x,r+M.y,$,C,l)?0:1e9};j.lK.a6W=function(F,r,$,C,top,M,l){var k=Date.now(),d=l.length>>>1,I=[-1,0,0,-1,1,0,0,1],c=1e99,Q=[],x=[],U=2*(d*2*3+d*2),S=null,z=0,V=0,t=0,Y=1e99;
while(!0&&Date.now()<k+12e3){t++;var i=null,J=c;for(var H=0;H<top.length;H++){var v=top[H],n=0,G=d+2,g=0;
for(var O=0;O<d;O++){var W=l[O*2],L=l[O*2+1],b=top[F[O]],T=j.lK.a9H(W,L,$,C,v,M),a=F[O]==H?1e9:j.lK.a9H(W,L,$,C,b,M);
for(var bU=0;bU<4;bU++){if(bU==0&&W==0||bU==1&&L==0||bU==2&&W==$-1||bU==3&&L==C-1)continue;var R=I[2*bU],D=I[2*bU+1],h=W+R,K=L+D,X=M[K*$+h];
if(X==-2){}else if(X==-1){T+=3*j.lK.Tm(h+v.x,K+v.y,h,K,$,C,r,M);T+=2*j.lK.Tm(h+v.x+R,K+v.y+D,h+R,K+D,$,C,r,M);
a+=3*j.lK.Tm(h+b.x,K+b.y,h,K,$,C,r,M);a+=2*j.lK.Tm(h+b.x+R,K+b.y+D,h+R,K+D,$,C,r,M)}else if(bU>1){if(F[O]==F[X]){var w=0;
w+=j.lK.Tm(W+b.x,L+b.y,W+v.x,L+v.y,$,C,r,M);w+=j.lK.Tm(h+b.x,K+b.y,h+v.x,K+v.y,$,C,r,M);Q[n]=O;Q[n+1]=X;
x[n]=w;x[n+1]=w;n+=2}else{var N=top[F[X]],s=G,A=0,p=0,q=0;G++;A+=j.lK.Tm(W+b.x,L+b.y,W+v.x,L+v.y,$,C,r,M);
A+=j.lK.Tm(h+b.x,K+b.y,h+v.x,K+v.y,$,C,r,M);p+=j.lK.Tm(W+N.x,L+N.y,W+v.x,L+v.y,$,C,r,M);p+=j.lK.Tm(h+N.x,K+N.y,h+v.x,K+v.y,$,C,r,M);
q+=j.lK.Tm(W+N.x,L+N.y,W+b.x,L+b.y,$,C,r,M);q+=j.lK.Tm(h+N.x,K+N.y,h+b.x,K+b.y,$,C,r,M);Q[n]=O;Q[n+1]=s;
x[n]=A;x[n+1]=A;n+=2;Q[n]=X;Q[n+1]=s;x[n]=p;x[n+1]=p;n+=2;Q[n]=s;Q[n+1]=d+1;x[n]=q;x[n+1]=0;n+=2}}}Q[n]=d;
Q[n+1]=O;x[n]=T;x[n+1]=0;n+=2;Q[n]=O;Q[n+1]=d+1;x[n]=a;x[n+1]=0;n+=2;g+=Math.min(T,a)}if(g>J)continue;
var f=j.m7.cr(G,n,d,d+1,Q,x,J);if(f.tA<J){J=f.tA;var e=F.slice(0);j.lK.abp(e,n,Q,f.KA,H,d);i=e}}if(J*1>=c){break}c=J;
F=i;if((t&3)==0){if(J*1.03>=Y)break;Y=J}if((t&3)==0){var o=0*top.length;for(var O=0;O<top.length&&top.length>o;
O++){if(F.indexOf(O)!=-1)continue;top.splice(O,1);for(var X=0;X<F.length;X++)if(F[X]>O)F[X]--;O--}}}return F};
j.lK.abp=function(F,r,$,C,M,l){for(var O=0;O<C.length;O++){var k=C[O]<<1,d=0,I=0;if(k<r){d=$[k];I=$[k+1]}else{I=$[k];
d=$[k+1]}if(d==l&&F[I]!=M)F[I]=M}};j.lK.aCf=function(top,F,r,$,C,M,l,k,d){for(var O=0;O<r.length;O++){var I=r[O],c=!0;
if(k!=null&&!j.lK.BR(k+I.x,d+I.y,M,l,$))continue;if(I.a9==-1)I.a9=j.lK.aBW(I,$,C,M,l);if(I.a9<=0)continue;
for(var Q=0;Q<top.length;Q++){var x=top[Q],U=I.x-x.x,S=I.y-x.y;if(U*U+S*S<F){c=!1;break}}if(c)return I}return null};
j.lK.aBW=function(F,r,$,C,M){var l=0;for(var O=0;O<$.length;O+=2){var k=$[O]+F.x,d=$[O+1]+F.y;if(j.lK.BR(k,d,C,M,r))l++}return l/($.length>>1)};
j.lK.awn=function(F,r,$,C,M){var l=M.length>>>1,top=[];for(var O=0;O<60;O++){var k=j.lK.aCf(top,25,$,C,M,F,r);
if(k==null)break;else top.push(k)}if(top.length==0)return null;var d=[];for(var O=0;O<l;O++){var I=M[O*2],c=M[O*2+1],Q=-1,x=0;
while(!0){x++;var U=Math.random();Q=Math.floor(U*.99999*top.length);var S=top[Q],z=I+S.x,V=c+S.y;if(j.lK.BR(z,V,F,r,C))break;
if(x>1e3){var k;k=j.lK.aCf(top,0,$,C,M,F,r,I,c);if(k==null)for(var t=0;t<4;t++){var Y,i,J=0;while(!0){Y=~~(Math.random()*F);
i=~~(Math.random()*r);if(j.lK.BR(Y,i,F,r,C))break;J++;if(J>500)throw"e"}k={x:Y-I,y:i-c,Y:1,a9:-1};$.push(k);
top.push(k)}else top.push(k);x=0}}d.push(Q)}return{top:top,DT:d}};j.lK.Tm=function(F,r,$,C,M,l,k,d){if(F==$&&r==C)return 0;
if(F<0||r<0||F>=M||r>=l||$<0||C<0||$>=M||C>=l||d[r*M+F]!=-1||d[C*M+$]!=-1)return 1e7;var I=r*M+F<<2,c=C*M+$<<2,Q=k[I]-k[c],x=k[I+1]-k[c+1],U=k[I+2]-k[c+2];
return 1+(Q*Q+x*x+U*U)};j.lK.BR=function(F,r,$,C,M){return F>=0&&F<$&&r>=0&&r<C&&M[r*$+F]==-1};j.lK.aff=function(F,r,$,C){var M=24*F,l=r[M],k=r[M+1],d=C*C,I=0,U=1e9;
while($[I]!=99)if(r[M+$[I]]<$[I+1])I=$[I+2];else I=$[I+3];var c=$[I+1],Q=$[I+2],x=-1;for(var O=c;O<=Q;
O++){var I=O,S=I*24,z=r[S],V=r[S+1];if((z-l)*(z-l)+(V-k)*(V-k)<d)continue;var t=j.lK.getError(S,M,r,U);
if(t<U){U=t;x=I}}return x};j.lK.getError=function(F,r,$,C){var M=0;for(var l=4;l<24;l+=4){var k=$[r+l]-$[F+l],d=$[r+l+1]-$[F+l+1],I=$[r+l+2]-$[F+l+2],c=$[r+l+3]-$[F+l+3];
M+=k*k+d*d+I*I+c*c;if(M>=C)return M+1}return M};j.lK.f9=function(F,r,$,C,M){var l=16,U=0;if(r-F<=l){$.push(99,F,r);
return}j.lK.sY(F,r,C,M);var k=-1,d=-1;for(var O=4;O<24;O++){var I=M[2*O+1]-M[2*O];if(I>d){d=I;k=O}}var c=F+r>>1,Q=j.lK.ax2(c,F,r,C,k),x=-1;
for(var O=F;O<=r;O++)if(C[24*O+k]==Q){if(x==-1)x=O;U=O}if(F+8<x&&x-F>r-U)c=x;else if(U+1<r-8)c=U+1;else if(r-F<64){$.push(99,F,r);
return}else c=c;var S=$.length;$.push(k,Q,0,0);$[S+2]=S+4;j.lK.f9(F,c-1,$,C,M);$[S+3]=$.length;j.lK.f9(c,r,$,C,M)};
j.lK.sY=function(F,r,$,C){for(var O=0;O<48;O+=4){C[O]=3e4;C[O+1]=-3e4;C[O+2]=3e4;C[O+3]=-3e4}for(var O=F;
O<=r;O++){var M=O*24;for(var l=0;l<24;l++){var k=$[M+l],d=C[l<<1],I=C[(l<<1)+1];if(k<d)C[l<<1]=k;if(k>I)C[(l<<1)+1]=k}}};
j.lK.nL=function(F,r,$){var C=0,O=0;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;
O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;
O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;
O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;
O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;
O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;
O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;
O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;
O++;C=$[F+O];$[F+O]=$[r+O];$[r+O]=C;O++};j.lK.bT=function(F,r,$,C){var M=$+C>>>1,l=F[24*M+r];while($<=C){while(F[24*$+r]<l)$++;
while(F[24*C+r]>l)C--;if($<=C){if(F[24*$+r]!=F[24*C+r])j.lK.nL($*24,C*24,F);$++;C--}}return $};j.lK.ax2=function(F,r,$,C,M){var l=0;
while(r!=$){l=j.lK.bT(C,M,r,$);if(F<l)$=l-1;else r=l}return C[F*24+M]};j.lK.Jx=function(F,r,$,C){for(var O=0;
O<C;O++)r[$+O]=F[O]};j.lK.a6c=function(F,r,$,C,M,l,k,d,I){var c=(C-3)*M+($-3),Q=c<<2;for(var x=0;x<8;
x++){if(r[c]+r[c+1]+r[c+2]+r[c+3]+r[c+4]+r[c+5]+r[c+6]+r[c+7]!=0||F[Q+3]<200||F[Q+7]<200||F[Q+11]<200||F[Q+15]<200||F[Q+19]<200||F[Q+23]<200||F[Q+27]<200||F[Q+31]<200)return 1;
var O=x<<3;k[O+0]=F[Q+0];d[O+0]=F[Q+1];I[O+0]=F[Q+2];k[O+1]=F[Q+4];d[O+1]=F[Q+5];I[O+1]=F[Q+6];k[O+2]=F[Q+8];
d[O+2]=F[Q+9];I[O+2]=F[Q+10];k[O+3]=F[Q+12];d[O+3]=F[Q+13];I[O+3]=F[Q+14];k[O+4]=F[Q+16];d[O+4]=F[Q+17];
I[O+4]=F[Q+18];k[O+5]=F[Q+20];d[O+5]=F[Q+21];I[O+5]=F[Q+22];k[O+6]=F[Q+24];d[O+6]=F[Q+25];I[O+6]=F[Q+26];
k[O+7]=F[Q+28];d[O+7]=F[Q+29];I[O+7]=F[Q+30];Q+=M<<2;c+=M}return 0};j.lK.oP=function(F,r){r[0]=F[32]+F[0];
r[1]=F[33]+F[1];r[2]=F[34]+F[2];r[3]=F[35]+F[3];r[4]=F[36]+F[4];r[5]=F[37]+F[5];r[6]=F[38]+F[6];r[7]=F[39]+F[7];
r[8]=F[40]+F[8];r[9]=F[41]+F[9];r[10]=F[42]+F[10];r[11]=F[43]+F[11];r[12]=F[44]+F[12];r[13]=F[45]+F[13];
r[14]=F[46]+F[14];r[15]=F[47]+F[15];r[16]=F[48]+F[16];r[17]=F[49]+F[17];r[18]=F[50]+F[18];r[19]=F[51]+F[19];
r[20]=F[52]+F[20];r[21]=F[53]+F[21];r[22]=F[54]+F[22];r[23]=F[55]+F[23];r[24]=F[56]+F[24];r[25]=F[57]+F[25];
r[26]=F[58]+F[26];r[27]=F[59]+F[27];r[28]=F[60]+F[28];r[29]=F[61]+F[29];r[30]=F[62]+F[30];r[31]=F[63]+F[31];
r[32]=F[0]-F[32];r[33]=F[1]-F[33];r[34]=F[2]-F[34];r[35]=F[3]-F[35];r[36]=F[4]-F[36];r[37]=F[5]-F[37];
r[38]=F[6]-F[38];r[39]=F[7]-F[39];r[40]=F[8]-F[40];r[41]=F[9]-F[41];r[42]=F[10]-F[42];r[43]=F[11]-F[43];
r[44]=F[12]-F[44];r[45]=F[13]-F[45];r[46]=F[14]-F[46];r[47]=F[15]-F[47];r[48]=F[16]-F[48];r[49]=F[17]-F[49];
r[50]=F[18]-F[50];r[51]=F[19]-F[51];r[52]=F[20]-F[52];r[53]=F[21]-F[53];r[54]=F[22]-F[54];r[55]=F[23]-F[55];
r[56]=F[24]-F[56];r[57]=F[25]-F[57];r[58]=F[26]-F[58];r[59]=F[27]-F[59];r[60]=F[28]-F[60];r[61]=F[29]-F[61];
r[62]=F[30]-F[62];r[63]=F[31]-F[63];F[0]=r[16]+r[0];F[1]=r[17]+r[1];F[2]=r[18]+r[2];F[3]=r[19]+r[3];
F[4]=r[20]+r[4];F[5]=r[21]+r[5];F[6]=r[22]+r[6];F[7]=r[23]+r[7];F[8]=r[24]+r[8];F[9]=r[25]+r[9];F[10]=r[26]+r[10];
F[11]=r[27]+r[11];F[12]=r[28]+r[12];F[13]=r[29]+r[13];F[14]=r[30]+r[14];F[15]=r[31]+r[15];F[16]=r[0]-r[16];
F[17]=r[1]-r[17];F[18]=r[2]-r[18];F[19]=r[3]-r[19];F[20]=r[4]-r[20];F[21]=r[5]-r[21];F[22]=r[6]-r[22];
F[23]=r[7]-r[23];F[24]=r[8]-r[24];F[25]=r[9]-r[25];F[26]=r[10]-r[26];F[27]=r[11]-r[27];F[28]=r[12]-r[28];
F[29]=r[13]-r[29];F[30]=r[14]-r[30];F[31]=r[15]-r[31];r[0]=F[8]+F[0];r[1]=F[9]+F[1];r[2]=F[10]+F[2];
r[3]=F[11]+F[3];r[4]=F[12]+F[4];r[5]=F[13]+F[5];r[6]=F[14]+F[6];r[7]=F[15]+F[7];r[8]=F[0]-F[8];r[9]=F[1]-F[9];
r[10]=F[2]-F[10];r[11]=F[3]-F[11];r[12]=F[4]-F[12];r[13]=F[5]-F[13];r[14]=F[6]-F[14];r[15]=F[7]-F[15];
F[0]=r[4]+r[0];F[1]=r[5]+r[1];F[2]=r[6]+r[2];F[3]=r[7]+r[3];F[4]=r[0]-r[4];F[5]=r[1]-r[5];F[6]=r[2]-r[6];
F[7]=r[3]-r[7];F[8]=r[12]+r[8];F[9]=r[13]+r[9];F[10]=r[14]+r[10];F[11]=r[15]+r[11];F[12]=r[8]-r[12];
F[13]=r[9]-r[13];F[14]=r[10]-r[14];F[15]=r[11]-r[15];r[0]=F[2]+F[0];r[1]=F[3]+F[1];r[2]=F[0]-F[2];r[3]=F[1]-F[3];
r[4]=F[6]+F[4];r[5]=F[7]+F[5];r[6]=F[4]-F[6];r[7]=F[5]-F[7];r[8]=F[10]+F[8];r[9]=F[11]+F[9];r[10]=F[8]-F[10];
r[11]=F[9]-F[11];r[12]=F[14]+F[12];r[13]=F[15]+F[13];r[14]=F[12]-F[14];r[15]=F[13]-F[15];F[0]=r[1]+r[0];
F[1]=r[0]-r[1];F[2]=r[3]+r[2];F[3]=r[2]-r[3];F[4]=r[5]+r[4];F[5]=r[4]-r[5];F[6]=r[7]+r[6];F[7]=r[6]-r[7];
F[8]=r[9]+r[8];F[9]=r[8]-r[9];F[10]=r[11]+r[10];F[11]=r[10]-r[11];F[12]=r[13]+r[12];F[13]=r[12]-r[13];
F[14]=r[15]+r[14];F[15]=r[14]-r[15]};j.lK.anv=function(){var F="",bU=64,r="v",$="t",C="a",M=5,O,l,k;
for(O=bU>>1;O>0;O>>=1,M--){for(l=0;l<bU;l++){k=(l>>M&1)!=0;if(k){F+=$+"["+l+"] = "+r+"["+(-O+l)+"] - "+r+"["+l+"];  "}else{F+=$+"["+l+"] = "+r+"["+(O+l)+"] + "+r+"["+l+"];  "}}C=r;
r=$;$=C;F+="\n"}console.log(F)};j.lK.aKb=function(bU,F,r){var $=F,C=r,M=$,l=0,O,d,I;while(bU>>l!=2)l++;
var k=l;for(O=bU>>1;O>0;O>>=1,l--){for(d=0;d<bU;d++){I=(d>>l&1)!=0;if(I)C[d]=$[-O+d]-$[d];else C[d]=$[O+d]+$[d]}M=$;
$=C;C=M}if((k&1)==1)for(O=0;O<bU;O++)r[O]=$[O]};j.Tp={};j.Tp.PC=function(F,r,$,C,M,l,k,d,I){var c=Date.now(),Q=new Uint32Array(F.buffer),x=new Uint32Array(r.buffer),U=k/$,S=d/C,z=1/U,V=1/S,t=new Float64Array(2),Y=3,i=1/Y,J=1/(Y*Y),H=0,v=0,n=$,G=C;
if(M){H=M.x;v=M.y;n=M.r;G=M.$}for(var g=0;g<G;g++)for(var W=0;W<n;W++){var L=H+W,b=v+g,O=b*$+L,T=O<<1,a=O<<2;
j.Tp.ayp(l,k,d,(L+.5)*U,(b+.5)*S,t);var R=t[0]*z,D=t[1]*V;if(R==0&&D==0)x[O]=Q[O];else{j.H.J$(L+R+.5,b+D+.5,Q,$,C,x,O,I)}}};
j.Tp.ayp=function(F,r,$,C,M,l){C-=.499999;M-=.499999;var k=~~C,d=~~M,I=C-k,c=M-d,Q=(1-c)*(1-I),x=(1-c)*I,U=c*(1-I),S=c*I,z=k<r-1?k+1:k,V=d<$-1?d+1:d,t=d*r+k<<1,Y=d*r+z<<1,i=V*r+k<<1,J=V*r+z<<1;
l[0]=Q*F[t]+x*F[Y]+U*F[i]+S*F[J];l[1]=Q*F[t+1]+x*F[Y+1]+U*F[i+1]+S*F[J+1]};j.Tp.awD=function(F,r,$,C,M){var l=1/F,k=[-1,1,-F,F],d=C.length;
for(var I=0;I<d;I++){var O=C[I],c=O<<1,Q=I<<1,x=~~(O*l),U=O-F*x,S=$[c],z=$[c+1],V=0,t=0;if(U!=0&&U!=F-1){var Y=O-1<<1,i=O+1<<1,J=$[Y],H=$[i],v=$[Y+1],n=$[i+1],G=S-(J+H)*.5,g=z-(v+n)*.5;
V-=G*M;t-=g*M}if(x!=0&&x!=r-1){var Y=O-F<<1,i=O+F<<1,J=$[Y],H=$[i],v=$[Y+1],n=$[i+1],G=S-(J+H)*.5,g=z-(v+n)*.5;
V-=G*M;t-=g*M}$[c]=S+V;$[c+1]=z+t}};j.Tp.afB=function(F,r){var $=F+","+r;if(j.Tp.akl==$)return j.Tp.a88;
var C=j.Tp.a88=[];j.Tp.akl=$;for(var O=0;O<=1e3;O++){var M=O*.001,l=Math.sqrt(M),k=Math.exp(-4*l),d=.96*(1-l*l),I=r*((1-F)*k+F*d);
C[O]=I}return C};j.Tp.akl="";j.Tp.a88=[];j.Tp.ag1=function(F,r,$,C,M,l,k,d,I,c,Q,x,U){var S=Math.max(0,Math.floor(M-k-1)),z=Math.min(r,Math.ceil(M+k+1)),V=Math.max(0,Math.floor(l-k-1)),t=Math.min($,Math.ceil(l+k+1)),Y=2*r,i=k*k,J=1/k,H=0;
if(U&&(C==3||C==6))I=-I;var v=j.Tp.afB(d,I);for(var n=V;n<t;n++)for(var G=S;G<z;G++){var O=n*r+G,g=O<<1,W=(M-G)*J,L=(l-n)*J,b=W*W+L*L;
if(b<1){x[H]=O;var T=v[~~(b*1e3)];if(C==1){F[g]=F[g]*(1-T*.05);F[g+1]=F[g+1]*(1-T*.05)}else{var a=0,R=0,K,X,w,N;
if(C==0){a=c*T;R=Q*T}else if(C==2){}else if(C==3){a=T*L;R=-T*W}else if(C==4){a=T*W;R=T*L}else if(C==5){a=-T*W;
R=-T*L}else if(C==6){a=Q*T;R=-c*T}var D=F[g],h=F[g+1];if(G==0||G!=r-1&&a<0){K=1+F[g+2]-D;w=F[g+3]-h}else{K=D-F[g-2]+1;
w=h-F[g-1]}if(n==0||n!=$-1&&R<0){X=F[g+Y]-D;N=1+F[g+Y+1]-h}else{X=D-F[g-Y];N=h-F[g-Y+1]+1}F[g]=-(K*a+X*R-D);
F[g+1]=-(w*a+N*R-h)}H++}}};j.Tp.aBa=function(F){var r=F[0],$=F[0],C=F[1],M=F[1];for(var O=0;O<F.length;
O+=2){var l=F[O],k=F[O+1];if(l<r)r=l;else if(l>$)$=l;if(k<C)C=k;else if(k>M)M=k}return[r,C,$,M]};j.aik=function(F,r,$,C,M){function l(u,cd,m,aZ){return Math.sqrt((u-m)*(u-m)+(cd-aZ)*(cd-aZ))}function k(u,cd){return u>=0&&u<r&&cd>=0&&cd<$}function d(u){if(u<0)return 0;
if(u>=r)return r-1;return u}function I(u){if(u<0)return 0;if(u>=$)return $-1;return u}function c(O,u){var cd=u[3]*(1/255),m=C[O]+u[0]*cd;
if(m>255)m=255;C[O]=m;m=C[O+1]+u[1]*cd;if(m>255)m=255;C[O+1]=m;m=C[O+2]+u[2]*cd;if(m>255)m=255;C[O+2]=m}function Q(u,cd,m){if(!s(u,cd))return;
if(m[3]<0)m[3]=0;c((cd*r+u)*4,m)}function x(u){var cd=u.slice(0,3);cd[3]=0;return cd}var U=r/800;function S(u){return Math.round(u*U)}function z(){for(var O=0;
O<=300;O++){p[O]=V(O)}}function V($){var u=.8,cd=.2,m=u*cd,aZ=$/60%2-1,jN=m*(1-aZ*aZ),eh=cd-m,iA;if($<60){iA=[m+eh,jN,0]}else if($<120){iA=[jN,m,0]}else if($<180){iA=[0,m,jN]}else if($<240){iA=[0,jN,m]}else if($<300){iA=[jN,0,m]}else{iA=[m,0,jN]}return[(iA[0]+eh)*255,(iA[1]+eh)*255,(iA[2]+eh)*255]}function t($){return p[~~$]}function Y(u){return 1-i(u)}function i(u){return u-~~u}function J(u,cd,m,aZ){w(u,cd,m,0,cd+1,1,aZ)}function H(u,cd,m,aZ,jN,eh){w(u,cd,m,0,aZ,1,jN,eh)}function v(u){for(var O=0;
O<C.length;O+=4){c(O,u)}}function n(u,cd,m,aZ,jN,eh,iA,hd){G(u,cd,m,aZ,jN,1,eh,iA,hd)}function G(u,cd,m,aZ,jN,eh,iA,hd,kx){if(eh==null)eh=.5;
if(iA==null)iA=0;if(hd==null)hd=0;if(kx==null)kx=!1;var b0=u.x,gX=u.y,j$=m.slice(0),i0=~~(m[3]*f);aZ=aZ*f;
if(!kx){cd=N(cd);jN=N(jN);iA=N(iA);hd=N(hd)}var f7=d(b0-cd),am=d(b0+cd);for(var gf=f7;gf<=am;gf++){var cC=gf-b0,aD=Math.floor(Math.sqrt(cd*cd-cC*cC)),c_=I(gX-aD),a9=I(gX);
for(var jz=c_;jz<=a9;jz++){var g3=l(gf,jz,b0,gX);if(g3>cd||g3<=cd-jN)break;var e3=(g3-cd+jN)/jN;j$[3]=i0-aZ*(eh==1?e3:Math.pow(e3,eh));
c((jz*r+gf)*4,j$)}c_=I(gX+aD);for(var jz=c_;jz>a9;jz--){var g3=l(gf,jz,b0,gX);if(g3>cd||g3<=cd-jN)break;
var e3=(g3-cd+jN)/jN;j$[3]=i0-aZ*(eh==1?e3:Math.pow(e3,eh));c((jz*r+gf)*4,j$)}}if(iA>0){w(u,cd+iA,j$,j$[3],iA,1,0,0,!0)}if(hd>0){w(u,cd-jN,A(m),-m[3],hd,1,0,0,!0)}}function g(u,cd,m,aZ,jN,eh){w(u,cd,m,m[3],cd+1,1,aZ,jN,eh)}function W(u,cd,m,aZ,jN){if(jN==null)jN=!1;
var eh=u.x,iA=u.y;aZ*=f;if(!jN){cd=N(cd);m=N(m)}var hd=d(eh-cd),kx=d(eh+cd);for(var b0=hd;b0<kx;b0++){var gX=b0-eh,j$=~~Math.sqrt(cd*cd-gX*gX),i0=I(iA-j$),f7=I(iA);
for(var am=i0;am<=f7;am++){var gf=l(b0,am,eh,iA);if(gf>cd||gf<=cd-m)break;var cC=(cd-gf)/m,aD=t(300*cC);
aD[3]=aZ;c((am*r+b0)*4,aD)}i0=I(iA+j$);for(var am=i0;am>f7;am--){var gf=l(b0,am,eh,iA);if(gf>cd||gf<=cd-m)break;
var cC=(cd-gf)/m,aD=t(300*cC);aD[3]=aZ;c((am*r+b0)*4,aD)}}}function L(q,u){var cd=q.D_,m=q.f7,aZ=u.slice(0),jN=u[3]*f,eh=Math.abs(m.y-cd.y)>Math.abs(m.x-cd.x);
if(eh){var iA=cd.x;cd.x=cd.y;cd.y=iA;iA=m.x;m.x=m.y;m.y=iA}if(cd.x>m.x){var iA=cd;cd=m;m=iA}var hd=m.x-cd.x,kx=m.y-cd.y,b0=hd==0?1:kx/hd,gX=Math.round(cd.x),j$=cd.y+b0*(gX-cd.x),i0=Y(cd.x+.5),f7=gX,am=~~j$;
if(eh){aZ[3]=jN*Y(j$)*i0;Q(am,f7,aZ);aZ[3]=jN*i(j$)*i0;Q(am+1,f7,aZ)}else{aZ[3]=jN*Y(j$)*i0;Q(f7,am,aZ);
aZ[3]=jN*i(j$)*i0;Q(f7,am+1,aZ)}var gf=j$-b0;gX=Math.round(m.x);j$=m.y+b0*(gX-m.x);i0=i(m.x+.5);var cC=gX,aD=~~j$;
if(eh){aZ[3]=jN*Y(j$)*i0;Q(aD,cC,aZ);aZ[3]=jN*i(j$)*i0;Q(aD+1,cC,aZ)}else{aZ[3]=jN*Y(j$)*i0;Q(cC,aD,aZ);
aZ[3]=jN*i(j$)*i0;Q(cC,aD+1,aZ)}if(eh){for(var c_=f7+1;c_<=cC-1;c_++){aZ[3]=jN*Y(gf);Q(~~gf,c_,aZ);aZ[3]=jN*i(gf);
Q(~~gf+1,c_,aZ);gf+=b0}}else{for(var c_=f7+1;c_<=cC-1;c_++){aZ[3]=jN*Y(gf);Q(c_,~~gf,aZ);aZ[3]=jN*i(gf);
Q(c_,~~gf+1,aZ);gf+=b0}}}function b(u,cd,m,aZ){for(var O=0;O<4;O++){var jN=u.by(cd+1.3*O,m);L(jN,aZ,1)}}function hx(u,cd){this.x=Math.round(u);
this.y=Math.round(cd)}var T=Math.PI/180;hx.prototype.by=function(u,cd){u=u*T;var m=this.x+cd*Math.cos(u),aZ=this.y+cd*Math.sin(u);
return new a(this.x,this.y,m,aZ)};hx.prototype.a51=function(u,cd){u=u*T;var m=this.sa+cd*Math.cos(u),aZ=this.Qw+cd*Math.sin(u);
return new hx(m,aZ)};function a(u,cd,m,aZ){this.D_=new hx(u,cd);this.f7=new hx(m,aZ)}a.prototype.jR=function(u){var cd=u*this.D_.x+(1-u)*this.f7.x,m=u*this.D_.y+(1-u)*this.f7.y;
return new hx(cd,m)};var R=n,D=g,h=J,K=H,X=W,w=G,N=S,s=k,A=x,p=[];z();for(var O=0;O<F.length;O++){C[O]=F[O]}var q=new a(r*M[2],$*M[3],r/2,$/2),f=M[1],e=[];
e[0]=function o(){var u=[80,40,15,60],m=0,aZ=0;h(q.jR(1.4),260,u,10);h(q.jR(1),100,[240,50,50,30],30);
D(q.jR(1),60,[255,40,0,40]);var cd=[255,255,255,255];w(q.jR(1),70,cd,cd[3],58,.5);h(q.jR(1),12,cd);cd[3]=40;
R(q.jR(1),150,cd,cd[3],150);for(var O=0;O<40;O++){m+=Math.random()*25;aZ=Math.random()*N(300)+N(100);
var jN=q.jR(1).by(m,aZ);L(q.jR(1).by(m,aZ),[110,110,110,30])}D(q.jR(1),130,[255,255,255,8]);var eh=[170,30,23,70];
K(q.jR(1),70,eh,1,3,3);var iA=[60,60,130,40];h(q.jR(.47),44,iA,5);h(q.jR(.43),22,iA,3);iA[3]=16;h(q.jR(.53),15,iA,2);
var hd=[138,94,42,100];h(q.jR(.2),16,hd,2);var kx=[130,255,170,180];D(q.jR(0),4,kx);D(q.jR(-.25),5,kx);
hd=[150,90,0,50];R(q.jR(-.45),55,A(hd),-hd[3],40,2);h(q.jR(-.42),35,hd,2);h(q.jR(-.5),15,hd,2);X(q.jR(-1.28),145,11,70);
var b0=t(0);b0[3]=50;R(q.jR(-1.28),149,b0,b0[3],4);b0=t(300);b0[3]=50;R(q.jR(-1.28),155-1,A(b0),-b0[3],3);
var gX=[130,130,10,50];K(q.jR(-1),73,gX,3,2);var j$=[40,130,70,40];R(q.jR(-1),70,A(j$),-j$[3],35);j$=[40,170,60,50];
h(q.jR(-.7),25,j$,4);var j$=[70,110,50,60];R(q.jR(1.3),30,A(j$),-j$[3],11,3);iA=[0,50,210,80];D(q.jR(-.72),20,iA)};
e[1]=function E(){D(q.jR(1),150,[240,70,70,60]);h(q.jR(1),100,[200,60,60,40],30);var u=[255,255,255,255],cd=0,m=0;
w(q.jR(1),75,u,u[3],63);h(q.jR(1),12,u);D(q.jR(1),270,[200,200,200,20],10);for(var O=0;O<10;O++){cd+=10+Math.random()*40;
m=Math.random()*N(250)+N(80);var aZ=q.jR(1).by(cd,m);L(aZ,[110,110,110,35])}cd=5;m=100;for(var O=0;O<12;
O++){cd+=30;b(q.jR(1),cd,m,[90,90,90,40])}var jN=[150,40,23,100];K(q.jR(1),70,jN,1,3,3);var eh=[30,100,60,40];
D(q.jR(-.9),180,[255,255,255,20]);h(q.jR(-.9),140,eh,15);var iA=[170,80,25,15];K(q.jR(-.9),120,iA,1,4,4);
var hd=[110,240,190,200];D(q.jR(-.6),3,hd);hd[3]=100;D(q.jR(-.6),7,hd);var kx=[230,120,40,85];D(q.jR(-.73),9,kx);
var b0=[60,60,190,50];h(q.jR(.3),28,b0,6);b0[3]=25;h(q.jR(.34),20,b0,3)};e[2]=function cj(){var u=[255,255,255,255],m=0,aZ=0;
h(q.jR(1),13,u);w(q.jR(1),150,u,u[3],137);var cd=[120,80,35,20];h(q.jR(1.4),260,cd,10);for(var O=0;O<40;
O++){m+=5+Math.random()*30;aZ=Math.random()*N(300);L(q.jR(1).by(m,aZ),[110,110,110,20])}var jN=[10,30,255,30];
h(q.jR(1),70,jN,50);var eh=[15,90,170,15];h(q.jR(1.5),60,eh);var iA=[220,220,20,50];h(q.jR(-1.15),8,iA,2);
var u=[255,255,255,40];D(q.jR(-1.18),6,u);D(q.jR(-1.18),4,u);iA=[110,110,10,8];R(q.jR(-1.2),32,A(iA),-iA[3],20,3);
var hd=[5,0,16,255];for(var O=0;O<4;O++){h(q.jR(-1.36),10,hd,3)}var kx=[90,200,150,20],b0=kx.slice(0);
b0[3]*=2;h(q.jR(-1.32),7,b0,3);h(q.jR(-1.36),7,b0,3);h(q.jR(-1.4),7,b0,3);var u=[230,230,230,100];D(q.jR(-1.36),2,u);
u[3]=3;h(q.jR(-.55),10,u);iA=[120,100,10,18];h(q.jR(-.55),160,iA,8);h(q.jR(-.55),80,iA,4);kx[3]=3;b0[3]=6;
R(q.jR(-.49),13,A(b0),-b0[3],13,2);R(q.jR(-.55),13,A(b0),-b0[3],13,2);kx[3]=20;h(q.jR(.15),25,kx,3);
iA[3]=100;D(q.jR(-.52),3,iA);iA=[200,200,50,40];h(q.jR(.27),1,iA,4);var gX=[150,40,23,30];R(q.jR(1),80,A(gX),-gX[3],2,1)};
return e[M[0]]()};j.VF={};j.VF.Mk=function(F){var r=F.length,bU=F[0].length,$=new Array(bU);for(var O=0;
O<bU;O++)$[O]=new Array(r);for(var O=0;O<bU;O++)for(var C=0;C<r;C++)$[O][C]=F[C][O];return $};j.VF.Q1=function(F,r){var $=F.length,bU=F[0].length,C=new Array($);
for(var O=0;O<$;O++)C[O]=new Array(bU);for(var O=0;O<$;O++)for(var M=0;M<bU;M++)C[O][M]=F[O][M]-r[O][M];
return C};j.VF.add=function(F,r){var $=F.length,bU=F[0].length,C=new Array($);for(var O=0;O<$;O++)C[O]=new Array(bU);
for(var O=0;O<$;O++)for(var M=0;M<bU;M++)C[O][M]=F[O][M]+r[O][M];return C};j.VF.multiply=function(F,r){var $=F.length,C=F[0].length,bU=r[0].length;
if(C!=r.length)throw"e";var M=new Array($);for(var O=0;O<$;O++)M[O]=new Array(bU);if((C&1)!=0)for(var O=0;
O<$;O++){var l=F[O],k=M[O];for(var d=0;d<bU;d++){var I=0;for(var c=0;c<C;c++)I+=l[c]*r[c][d];k[d]=I}}else for(var O=0;
O<$;O++){var l=F[O],k=M[O];for(var d=0;d<bU;d++){var I=0;for(var c=0;c<C;c+=2)I+=l[c]*r[c][d]+l[c+1]*r[c+1][d];
k[d]=I}}return M};j.VF.fk=function(F,r){var $=F.length,bU=F[0].length,C=new Array($);for(var O=0;O<$;
O++){var M=0;for(var l=0;l<bU;l++)M+=F[O][l]*r[l];C[O]=M}return C};j.VF.wN=function(F,r){var $=[];for(var O=0;
O<F;O++){$.push([]);for(var C=0;C<r;C++)$[O].push(0)}return $};j.VF.azn=function(F){for(var O=0;O<F.length;
O++)console.log(JSON.stringify(F[O]))};j.VF.apP=function(F){var r=[];for(var O=0;O<F.length;O++)r.push(F[O].join(","));
return"["+r.join(";")+"]"};j.VF.cr=function(F,r){var $=F.length;for(var C=0;C<$;C++){var M=0,l=Number.NEGATIVE_INFINITY;
for(var O=C;O<$;O++)if(Math.abs(F[O][C])>l){M=O;l=Math.abs(F[O][C])}j.VF.a1j(F,C,M);for(var O=C+1;O<$;
O++){if(F[C][C]==0)return 1;var k=F[O][C]/F[C][C];for(var d=C;d<$+1;d++)F[O][d]-=F[C][d]*k}}for(var O=$-1;
O>=0;O--){if(F[O][O]==0)return 1;var I=F[O][$]/F[O][O];r[O]=I;for(var d=O-1;d>=0;d--){F[d][$]-=F[d][O]*I;
F[d][O]=0}}return 0};j.VF.a1j=function(F,r,$){var C=F[r];F[r]=F[$];F[$]=C};j.VF.an$=function(F){var r=F.length,$=j.VF.wN(r,r);
for(var O=0;O<r;O++)$[O][O]=F[O];return $};j.VF.aH9=function(F){var r=F.length,$=F[0].length,C=new Array(r);
for(var O=0;O<r;O++){C[O]=0;for(var M=0;M<$;M++)C[O]+=F[O][M];C[O]/=$}return C};j.VF.B9=function(F){var r=0;
for(var O=0;O<F.length;O++)r+=F[O]*F[O];return Math.sqrt(r)};j.t3={};j.t3.I2=function(F){var r=~~(F+.5);
return r<0?0:r>255?255:r};j.t3.cH=function(F,r,$){function C(I){return Math.max(0,Math.min(1,I))}var M=F.t.length;
for(var O=0;O<M;O++){var l=F.t[O],k=F.L[O],d=F.X[O];r.t[O]=C($[0]*l+$[1]*k+$[2]*d+$[3]);r.L[O]=C($[4]*l+$[5]*k+$[6]*d+$[7]);
r.X[O]=C($[8]*l+$[9]*k+$[10]*d+$[11])}};j.t3.a1i=function(F,r,$){var C=j.cN(F),M=C==8?255:C==16?65535:1,l=1/M,k=F.length;
function d(x){return Math.max(0,Math.min(1,x))}for(var O=0;O<k;O+=4){var I=F[O]*l,c=F[O+1]*l,Q=F[O+2]*l;
r[O]=M*d($[0]*I+$[1]*c+$[2]*Q+$[3]);r[O+1]=M*d($[4]*I+$[5]*c+$[6]*Q+$[7]);r[O+2]=M*d($[8]*I+$[9]*c+$[10]*Q+$[11])}};
j.t3.aoj=function(F){var r=F[0]+F[1]+F[2],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];if(r==1){var C=F.indexOf(1);
$[C]=$[C+4]=$[C+8]=1}else{$[0]=F[0];$[5]=F[1];$[10]=F[2]}return $};j.t3.Qr=function(F,r,$){return[1,0,0,F,0,1,0,r,0,0,1,$,0,0,0,1]};
j.t3.Kp=function(F,r,$){return[F,0,0,0,0,r,0,0,0,0,$,0,0,0,0,1]};j.t3.atI=function(F){return[F[0],F[1],F[2],F[4],F[5],F[6],F[8],F[9],F[10]]};
j.t3.st=function(F){return[F[0],F[1],F[2],0,F[3],F[4],F[5],0,F[6],F[7],F[8],0,0,0,0,1]};j.t3.Jh=function(F,r){return[F[0]*r[0]+F[1]*r[1]+F[2]*r[2]+F[3]*r[3],F[4]*r[0]+F[5]*r[1]+F[6]*r[2]+F[7]*r[3],F[8]*r[0]+F[9]*r[1]+F[10]*r[2]+F[11]*r[3],F[12]*r[0]+F[13]*r[1]+F[14]*r[2]+F[15]*r[3]]};
j.t3.Mk=function(F){var r=[];r[0]=F[0];r[1]=F[4];r[2]=F[8];r[3]=F[12];r[4]=F[1];r[5]=F[5];r[6]=F[9];
r[7]=F[13];r[8]=F[2];r[9]=F[6];r[10]=F[10];r[11]=F[14];r[12]=F[3];r[13]=F[7];r[14]=F[11];r[15]=F[15];
return r};j.t3.add=function(F,r){var $=F.slice(0);for(var O=0;O<16;O++)$[O]+=r[O];return $};j.t3.multiply=function(F,r){var $=[];
$[0]=F[0]*r[0]+F[1]*r[4]+F[2]*r[8]+F[3]*r[12];$[1]=F[0]*r[1]+F[1]*r[5]+F[2]*r[9]+F[3]*r[13];$[2]=F[0]*r[2]+F[1]*r[6]+F[2]*r[10]+F[3]*r[14];
$[3]=F[0]*r[3]+F[1]*r[7]+F[2]*r[11]+F[3]*r[15];$[4]=F[4]*r[0]+F[5]*r[4]+F[6]*r[8]+F[7]*r[12];$[5]=F[4]*r[1]+F[5]*r[5]+F[6]*r[9]+F[7]*r[13];
$[6]=F[4]*r[2]+F[5]*r[6]+F[6]*r[10]+F[7]*r[14];$[7]=F[4]*r[3]+F[5]*r[7]+F[6]*r[11]+F[7]*r[15];$[8]=F[8]*r[0]+F[9]*r[4]+F[10]*r[8]+F[11]*r[12];
$[9]=F[8]*r[1]+F[9]*r[5]+F[10]*r[9]+F[11]*r[13];$[10]=F[8]*r[2]+F[9]*r[6]+F[10]*r[10]+F[11]*r[14];$[11]=F[8]*r[3]+F[9]*r[7]+F[10]*r[11]+F[11]*r[15];
$[12]=F[12]*r[0]+F[13]*r[4]+F[14]*r[8]+F[15]*r[12];$[13]=F[12]*r[1]+F[13]*r[5]+F[14]*r[9]+F[15]*r[13];
$[14]=F[12]*r[2]+F[13]*r[6]+F[14]*r[10]+F[15]*r[14];$[15]=F[12]*r[3]+F[13]*r[7]+F[14]*r[11]+F[15]*r[15];
return $};j.t3.v4=function(F){var r=[];r[0]=F[5]*F[10]*F[15]-F[5]*F[14]*F[11]-F[6]*F[9]*F[15]+F[6]*F[13]*F[11]+F[7]*F[9]*F[14]-F[7]*F[13]*F[10];
r[1]=-F[1]*F[10]*F[15]+F[1]*F[14]*F[11]+F[2]*F[9]*F[15]-F[2]*F[13]*F[11]-F[3]*F[9]*F[14]+F[3]*F[13]*F[10];
r[2]=F[1]*F[6]*F[15]-F[1]*F[14]*F[7]-F[2]*F[5]*F[15]+F[2]*F[13]*F[7]+F[3]*F[5]*F[14]-F[3]*F[13]*F[6];
r[3]=-F[1]*F[6]*F[11]+F[1]*F[10]*F[7]+F[2]*F[5]*F[11]-F[2]*F[9]*F[7]-F[3]*F[5]*F[10]+F[3]*F[9]*F[6];
r[4]=-F[4]*F[10]*F[15]+F[4]*F[14]*F[11]+F[6]*F[8]*F[15]-F[6]*F[12]*F[11]-F[7]*F[8]*F[14]+F[7]*F[12]*F[10];
r[5]=F[0]*F[10]*F[15]-F[0]*F[14]*F[11]-F[2]*F[8]*F[15]+F[2]*F[12]*F[11]+F[3]*F[8]*F[14]-F[3]*F[12]*F[10];
r[6]=-F[0]*F[6]*F[15]+F[0]*F[14]*F[7]+F[2]*F[4]*F[15]-F[2]*F[12]*F[7]-F[3]*F[4]*F[14]+F[3]*F[12]*F[6];
r[7]=F[0]*F[6]*F[11]-F[0]*F[10]*F[7]-F[2]*F[4]*F[11]+F[2]*F[8]*F[7]+F[3]*F[4]*F[10]-F[3]*F[8]*F[6];r[8]=F[4]*F[9]*F[15]-F[4]*F[13]*F[11]-F[5]*F[8]*F[15]+F[5]*F[12]*F[11]+F[7]*F[8]*F[13]-F[7]*F[12]*F[9];
r[9]=-F[0]*F[9]*F[15]+F[0]*F[13]*F[11]+F[1]*F[8]*F[15]-F[1]*F[12]*F[11]-F[3]*F[8]*F[13]+F[3]*F[12]*F[9];
r[10]=F[0]*F[5]*F[15]-F[0]*F[13]*F[7]-F[1]*F[4]*F[15]+F[1]*F[12]*F[7]+F[3]*F[4]*F[13]-F[3]*F[12]*F[5];
r[11]=-F[0]*F[5]*F[11]+F[0]*F[9]*F[7]+F[1]*F[4]*F[11]-F[1]*F[8]*F[7]-F[3]*F[4]*F[9]+F[3]*F[8]*F[5];r[12]=-F[4]*F[9]*F[14]+F[4]*F[13]*F[10]+F[5]*F[8]*F[14]-F[5]*F[12]*F[10]-F[6]*F[8]*F[13]+F[6]*F[12]*F[9];
r[13]=F[0]*F[9]*F[14]-F[0]*F[13]*F[10]-F[1]*F[8]*F[14]+F[1]*F[12]*F[10]+F[2]*F[8]*F[13]-F[2]*F[12]*F[9];
r[14]=-F[0]*F[5]*F[14]+F[0]*F[13]*F[6]+F[1]*F[4]*F[14]-F[1]*F[12]*F[6]-F[2]*F[4]*F[13]+F[2]*F[12]*F[5];
r[15]=F[0]*F[5]*F[10]-F[0]*F[9]*F[6]-F[1]*F[4]*F[10]+F[1]*F[8]*F[6]+F[2]*F[4]*F[9]-F[2]*F[8]*F[5];var $=F[0]*r[0]+F[1]*r[4]+F[2]*r[8]+F[3]*r[12];
for(var O=0;O<16;O++)r[O]/=$;return r};j.t3.aFD=function(F){var r=[],$=F[5]*F[10]*F[15]-F[5]*F[14]*F[11]-F[6]*F[9]*F[15]+F[6]*F[13]*F[11]+F[7]*F[9]*F[14]-F[7]*F[13]*F[10],C=-F[4]*F[10]*F[15]+F[4]*F[14]*F[11]+F[6]*F[8]*F[15]-F[6]*F[12]*F[11]-F[7]*F[8]*F[14]+F[7]*F[12]*F[10],M=F[4]*F[9]*F[15]-F[4]*F[13]*F[11]-F[5]*F[8]*F[15]+F[5]*F[12]*F[11]+F[7]*F[8]*F[13]-F[7]*F[12]*F[9],l=-F[4]*F[9]*F[14]+F[4]*F[13]*F[10]+F[5]*F[8]*F[14]-F[5]*F[12]*F[10]-F[6]*F[8]*F[13]+F[6]*F[12]*F[9];
return F[0]*$+F[1]*C+F[2]*M+F[3]*l};j.t3.ki=function(F,r,$,C){var M=Math.sin(C),l=Math.cos(C),k=1/Math.sqrt(F*F+r*r+$*$);
F*=k;r*=k;$*=k;return j.t3.st([F*F*(1-l)+l,F*r*(1-l)-$*M,F*$*(1-l)+r*M,F*r*(1-l)+$*M,r*r*(1-l)+l,r*$*(1-l)-F*M,F*$*(1-l)-r*M,r*$*(1-l)+F*M,$*$*(1-l)+l])};
j.t3.Ps=j.t3.st([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
j.t3.a3o=j.t3.st([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
j.t3.ahM=j.t3.st([1.3459433,-.2556075,-.0511118,-.5445989,1.5081673,.0205351,0,0,1.2118128]);j.t3.aoY=j.t3.st([2.1861968,-.8165993,-.3530805,-.8443876,1.7943237,.024049,.0479222,-.1018347,1.2792565]);
j.t3.a7f=j.t3.v4(j.t3.Ps);j.m7={};j.m7.v1=new Uint32Array(1);j.m7.aE8=function(F,r,$,C,M,l){var k=new Uint32Array(F),d=0,I=j.m7.v1;
if(I.length<r*4)j.m7.v1=I=new Uint32Array(r*4);var c=new Float64Array(I.buffer);for(var O=0;O<r;O+=2){var Q=M[O],x=M[O+1],U=l[O],S=l[O+1];
I[d]=x;c[d+2>>1]=U;I[d+1]=k[Q];k[Q]=d+1;d+=4;I[d]=Q;c[d+2>>1]=S;I[d+1]=k[x];k[x]=d+1;d+=4}return{xT:I,adw:c,aa6:k}};
j.m7.cr=function(F,r,$,C,M,l,k){var d=1,I=j.m7.aE8(F,r,$,C,M,l),c=I.xT,Q=I.adw,x=I.aa6,U=new Uint32Array(F),S=new j.m7.cZ(F),V=1,H=0;
S.push($);S.push(C);var z=new j.m7.cZ(F),t=new Uint8Array(F),Y=new Uint32Array(F);t[$]=1;t[C]=2;var i=new Uint32Array(F),J=new Uint32Array(F);
J[$]=J[C]=0;i[$]=i[C]=1;while(!0){var v=-1,T=0,h=1e30;while(!S.Ie()&&v==-1){var n=S.top(),G=t[n],g=x[n]-1;
while(g!=-1){var W=c[g],L=t[W],b=g^G-1<<2;if(Q[b+2>>1]!=0){if(L==0){j.m7.Vg(n,g,W,t,Y,J,i);S.push(W)}else if(L==G&&i[W]<=i[n]&&J[W]>J[n])j.m7.Vg(n,g,W,t,Y,J,i);
else if(L!=G){v=b}}g=c[g+1]-1}if(v!=-1)break;S.pop()}if(v==-1){break}V++;var a=v;while(a!=-1){U[T]=a;
T++;a=Y[c[a^4]]-1}var R=T>>1;for(var O=0;O<R;O++){var D=U[O];U[O]=U[T-O-1];U[T-O-1]=D}a=Y[c[v]]-1;while(a!=-1){U[T]=a^4;
T++;a=Y[c[a^4]]-1}for(var O=0;O<T;O++)h=Math.min(h,Q[U[O]+2>>1]);H+=h;if(H>=k)return{KA:null,tA:H};for(var O=0;
O<T;O++){var K=U[O],X=K^4,n=c[X],W=c[K];Q[K+2>>1]-=h;Q[X+2>>1]+=h;if(Q[K+2>>1]==0&&t[n]==t[W]){if(t[n]==1){Y[W]=0;
z.push(W)}if(t[n]==2){Y[n]=0;z.push(n)}}}while(!z.Ie()){var n=z.pop(),G=t[n],g=x[n]-1,w=G==1?4:0,N=0,s=0,A=1e9;
while(g!=-1){var W=c[g],p=g^4,b=g^w;if(t[W]==G&&Q[b+2>>1]>0&&j.m7.axu(W,$,C,Y,c,V,i,J)+1<A){N=W;s=p;
A=J[W]+1}g=c[g+1]-1}if(s!=0){j.m7.Vg(N,s,n,t,Y,J,i);continue}g=x[n]-1;while(g!=-1){var W=c[g],b=g^w;
if(t[W]==G){if(Q[b+2>>1]>0){S.push(W)}if(Y[W]==g+1){Y[W]=0;z.push(W)}}g=c[g+1]-1}t[n]=0;S.remove(n)}}var q=[];
for(var O=0;O<r;O+=2){var n=M[O],W=M[O+1];if(t[n]==1&&t[W]!=1){q.push(O>>1)}if(t[W]==1&&t[n]!=1){q.push(r+O>>1)}}return{KA:q,tA:H}};
j.m7.Vg=function(F,r,$,C,M,l,k){C[$]=C[F];M[$]=r+1;l[$]=l[F]+1;k[$]=k[F]};j.m7.axu=function(F,r,$,C,M,l,k,d){var I=F,c=C[F]-1,Q=0;
while(c!=-1&&k[F]!=l){F=M[c^4];c=C[F]-1;Q++}if(c==-1&&F!=r&&F!=$)return 1e9;var x=d[F]+Q;Q=0;c=C[I]-1;
while(I!=F){d[I]=x-Q;Q++;k[I]=l;I=M[c^4];c=C[I]-1}return x};j.m7.aBH=function(F,r,$,C,M,l){var k=j.m7.aE8(F,r,$,C,M,l),d=k.xT,I=k.adw,c=k.aa6,Q=0,x=0,U=new Uint32Array(F*2),S=new j.m7.ach(F),z=0;
while(!0){S.reset();S.push($);for(var O=0;O<F;O++)U[O<<1]=0;while(!S.Ie()){var V=S.pop(),t=c[V]-1;while(t!=-1){z=d[t];
if(U[z<<1]==0&&I[t+2>>1]>0&&z!=$){U[z<<1]=V+1;U[(z<<1)+1]=t;S.push(z)}t=d[t+1]-1}if(U[C<<1]!=0){break}}if(U[C<<1]==0){break}var Y=1e30;
z=C;while(!0){var i=U[z<<1]-1;if(i==-1)break;var J=U[(z<<1)+1];Y=Math.min(Y,I[J+2>>1]);z=i}z=C;while(!0){var i=U[z<<1]-1;
if(i==-1)break;var J=U[(z<<1)+1],H=J^4;I[J+2>>1]-=Y;I[H+2>>1]+=Y;z=i}Q+=Y}var v=[];for(var O=0;O<r;O+=2){var i=M[O],z=M[O+1];
if((U[i<<1]!=0||i==$)&&U[z<<1]==0&&z!=$){v.push(O>>1)}if((U[z<<1]!=0||z==$)&&U[i<<1]==0&&i!=$){v.push(r+O>>1)}}return{KA:v,tA:Q}};
j.m7.ach=function(F){F|=F>>1;F|=F>>2;F|=F>>4;F|=F>>8;F|=F>>16;this.RZ=new Uint32Array(F+1);this.zl=F;
this.GE=0;this.u3=0};j.m7.ach.prototype={push:function(F){var r=this.u3;this.RZ[r]=F;this.u3=r+1&this.zl},pop:function(){var F=this.GE,r=this.RZ[F];
this.GE=F+1&this.zl;return r},Ie:function(){return this.GE==this.u3},reset:function(){this.GE=0;this.u3=0}};
j.m7.cZ=function(F){F|=F>>1;F|=F>>2;F|=F>>4;F|=F>>8;F|=F>>16;this.RZ=new Uint32Array(F+1);this.fZ=new Uint32Array(F+1);
this.zl=F;this.GE=0;this.u3=0};j.m7.cZ.prototype={top:function(){return this.RZ[this.GE]},aCd:function(){return this.RZ[this.u3]},push:function(F){if(this.fZ[F]!=0)return;
this.fZ[F]=this.u3+1;var r=this.u3;this.RZ[r]=F;this.u3=r+1&this.zl},pop:function(){var F=this.GE,r=this.RZ[F];
this.fZ[r]=0;this.GE=F+1&this.zl;return r},Ie:function(){return this.GE==this.u3},remove:function(F){var r=this.fZ[F]-1;
if(r==-1)return;this.fZ[F]=0;if(r==this.GE){this.pop();return}var $=this.pop();this.RZ[r]=$;this.fZ[$]=r+1},ru:function(O){return O+this.zl+1&this.zl}};
j.m7.ayt=function(F,r,$){var C=j.m7.bT(F,r,$);if(r<C-1)j.m7.ayt(F,r,C-1);if(C<$)j.m7.ayt(F,C,$)};j.m7.bT=function(F,r,$){var C=F[r+$>>>1];
while(r<=$){while(F[r]<C)r++;while(F[$]>C)$--;if(r<=$){j.m7.nL(F,r,$);r++;$--}}return r};j.m7.nL=function(F,r,$){var C=F[r];
F[r]=F[$];F[$]=C};j.j1=function(){var F,r;function $(k,d,bU){var I=bU-1,c=d+bU;F[bU-2]=k[c-2];r[0]=k[c-1];
var Q=Math.max;for(var O=1;O<I;O++){F[bU-2-O]=Q(F[bU-1-O],k[c-2-O]);r[O]=Q(r[O-1],k[c-1+O])}for(var O=0;
O<I;O++)k[d+O]=Q(F[O],r[O])}function C(k,d,bU){var I=bU-1,c=Math.ceil(d/I)*I;for(var Q=0;Q<c;Q+=I)$(k,Q,bU)}function M(k,d,I,c,bU,Q){d.set(k);
if(bU==1)return;F=j.j(bU-1);r=j.j(bU-1);var x=bU>>>1,U=j.j(Math.ceil(Math.max(I,c)/(bU-1))*(bU-1)+(bU-2)),S=new Uint8Array(U.buffer,0,I);
if(!Q)j.v4(d);for(var z=0;z<c;z++){U.fill(0);U.set(new Uint8Array(d.buffer,z*I,I),x);C(U,I,bU);d.set(S,z*I)}for(var V=0;
V<I;V++){U.fill(0);for(var z=0;z<c;z++)U[z+x]=d[z*I+V];C(U,c,bU);for(var z=0;z<c;z++)d[z*I+V]=U[z]}if(!Q)j.v4(d)}function l(k,d,I,c,bU,Q){var x=j.j(I*c);
for(var U=0;U<4;U++){j.Eg(k,x,U);if(U==3)j.v4(x);M(x,x,I,c,bU,Q);if(U==3)j.v4(x);j.dr(x,d,U)}}return{lF:M,agF:l}}();
j.EL={};j.EL.acP=function(F){for(var O=0;O<F.length;O++)j.EL.bv(F,O)};j.EL.bv=function(F,O){F[O].v.keyShapeInvalidated={t:"bool",v:!0}};
j.EL.ati=function(F){for(var O=0;O<F.length;O++)F[O].v.keyOriginIndex.v=O};j.EL.E4=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
j.EL.CV=function(F,r,$){F=F.v;var C={Rctn:2,Ln:4,Elps:5},M=C[F.classID],l=F.topLeft?j.EL.ahh(F):null,k=null,d=0,I=[!1,!1,0,0,0];
if(M==4){var c=F.Strt.v,Q=F.End.v;k=[c.Hrzn.v.val,c.Vrtc.v.val,Q.Hrzn.v.val,Q.Vrtc.v.val];d=F.Wdth.v.val;
for(var O=0;O<2;O++){var x=F[O==0?"StrA":"EndA"];if(x==null)continue;x=x.v;I[O]=x.On.v;I[2]=x.Wdth.v;
I[3]=x.Lngt.v;I[4]=x.Cncv.v.val}}if(M==null)return null;return j.EL.Vy(M,M==4?null:j.EL.WM(F,r,$),l,k,d,I)};
j.EL.QL=function(F,r,$,C,M,l,k){var d={classID:F,unitValueQuadVersion:{t:"long",v:1}};if(r)j.EL.pq(d,["Left","Top","Rght","Btom"],r);
if($)j.EL.pq(d,["topLeft","topRight","bottomRight","bottomLeft"],$);if(F=="Ln"){d.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:C[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:C[1]}}}},d.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:C[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:C[3]}}}},d.Wdth={t:"UntF",v:{type:"#Pxl",val:M}};
for(var O=0;O<2;O++){var I=O==0?"StrA":"EndA";d[I]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:k[O]},Wdth:{t:"doub",v:k[2]},Lngt:{t:"doub",v:k[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:k[4]}}}}}}if(l)d.Nm={t:"TEXT",v:l};
return{t:"Objc",v:d}};j.EL.avt=function(F,r){var $=j.EL.ou(F),C=F[2]-F[0],M=F[3]-F[1],l=Math.sqrt(C*C+M*M),k=[0,0,l,0,l,r,0,r],d=new hS;
d.rotate(-$);d.translate(F[0],F[1]);j.b.U(k,d,k);return k};j.EL.Vy=function(F,r,$,C,M,l){var k=j.EL.E4(),d=k.v,I;
delete d.keyShapeInvalidated;d.keyOriginType={t:"long",v:F};d.keyOriginResolution={t:"doub",v:75};if(F==4){d.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:C[0]},Vrtc:{t:"doub",v:C[1]}}};
d.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:C[2]},Vrtc:{t:"doub",v:C[3]}}};I=j.EL.avt(C,M);
var c=j.b.sY(I);r=[c.x,c.y,c.x+c.r,c.y+c.$];d.keyOriginLineWeight={t:"doub",v:M};if(l)j.EL.alT(d,l)}else I=[r[0],r[1],r[2],r[1],r[2],r[3],r[0],r[3]];
d.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};j.EL.YG(d,"keyOriginBoxCorners",I);var Q={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
d.keyOriginShapeBBox={t:"Objc",v:Q};j.EL.aDZ(d,r);if($!=null){var x={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
d.keyOriginRRectRadii={t:"Objc",v:x};j.EL.Yc(d,$)}return k};j.EL.U=function(F,r,$,C){var M=j.H.atG(r),l=j.H.aGG(r),k=j.H.fR(r),d=k.xz*k.G0-k.X*k.gb;
for(var O=0;O<F.length;O++){var I=F[O].v;if(!j.EL.qJ(I))continue;if($.length!=0&&$.indexOf(O)==-1)continue;
var c=I.keyOriginType.v,Q=r;if(d<0&&c==2){var x=j.EL.vt(I),U=0;U=x[0];x[0]=x[1];x[1]=U;U=x[2];x[2]=x[3];
x[3]=U;j.EL.Yc(I,x);var S=j.EL.vd(I,"keyOriginBoxCorners"),z=j.b.sY(S),V=z.x+z.r/2,t=new hS;t.translate(-V,0);
t.scale(-1,1);t.translate(V,0);Q=j.H.MV(Q,j.H.TG(t))}var Y=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];
for(var i=0;i<Y.length;i++){var S=j.EL.vd(I,Y[i]);if(S==null)continue;j.H.U(Q,S);j.EL.YG(I,Y[i],S);var z=j.b.sY(S);
j.EL.aDZ(I,[z.x,z.y,z.x+z.r,z.y+z.$]);var J=new hS;J.rotate(-j.EL.ou(S));var H={classID:"Trnf"};I.Trnf={t:"Objc",v:H};
var v="xx xy yx yy tx ty".split(" "),n=[J.xz,J.X,J.gb,J.G0,J.P6,J.jw];for(var G=0;G<6;G++)H[v[G]]={t:"doub",v:n[G]}}if(c==2&&C){var x=j.EL.vt(I);
for(var i=0;i<4;i++)x[i]=Math.round(x[i]*r[0]);j.EL.Yc(I,x)}var S=j.EL.vd(I,"keyOriginBoxCorners"),g=S[2]-S[0],W=S[3]-S[1],L=Math.sqrt(g*g+W*W);
g/=L;W/=L;var b=S[6]-S[0],T=S[7]-S[1],a=Math.sqrt(b*b+T*T);b/=a;T/=a;if(c==4){var R=k.w5();I.keyOriginLineWeight.v*=R;
var D=j.EL.ji(I);j.H.U(r,D);j.EL.amN(I,D);var h=j.EL.aAA(I);h[2]*=R;h[3]*=R;j.EL.alT(I,h)}var K=g*b+W*T;
if(Math.abs(K)>.001){j.EL.bv(F,O)}}};j.EL.qJ=function(F){var r=F.keyShapeInvalidated,$=F.keyOriginType;
return(r==null||!r.v)&&$!=null&&$.v!=9};j.EL.aA9=function(F){var r=F.keyOriginType.v,$=j.EL.TK(F),C=$[0],M=$[1],l=$[2],k=$[3],d=new hS,I=F.keyOriginPolyCornerRadius,S;
I=I?I.v:0;var c=j.EL.vd(F,r==7||r==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),Q=j.EL.OB(c),x=Q[2],U=Q[3];
C=-x/2;l=x/2;M=-U/2;k=U/2;d.rotate(-j.EL.ou(c));d.P6=Q[0];d.jw=Q[1];if(r==1||r==2){var z=r==1?0:j.EL.vt(F);
S=j.w.tQ.Rect(C,M,l-C,k-M,z)}else if(r==4){var V=j.EL.ji(F),t=j.EL.aAA(F);d=new hS;if(t==null)S=j.w.tQ.YN(V[0],V[1],V[2],V[3],F.keyOriginLineWeight.v);
else S=j.w.tQ.ns(V[0],V[1],V[2],V[3],F.keyOriginLineWeight.v,t)}else if(r==5){S=j.w.tQ.jI(C,M,l-C,k-M)}else if(r==7||r==8){var Y=r==7?3:F.keyOriginPolySides.v;
S=j.w.tQ.Kx(0,0,100,Math.PI/Y-Math.PI/2,Y,I,l,k)}j.w.J_(S,d);return S};j.EL.M9=function(F,r){var $=r.M;
for(var O=0;O<F.length;O++){var C=F[O].v;if(!j.EL.qJ(C))continue;var M=j.EL.aA9(C),l=j.w.ZZ($,O),k=j.w.qe($,O);
M[2].ea=$[l].ea;var d=$;$=$.slice(0,l);for(var I=2;I<M.length;I++)$.push(M[I]);for(var I=l+k;I<d.length;
I++)$.push(d[I])}r.M=$;r.qX=!0};j.EL.e0=function(F){var r=1e9,$=-r,C=1e9,M=-C,l=[],k=F.Ug(),d=k[0],I=k[1];
for(var c=0;c<I.length;c++){var Q=d[I[c]],x=Q.add.vogk;if(x==null)continue;var U=Q.add.vmsk.K;for(var S=0;
S<x.length;S++){if(I.length==1&&U.length!=0&&U.indexOf(S)==-1)continue;var z=x[S].v,V=j.EL.aow(z);if(V){l.push(V);
var t=V[1];r=Math.min(r,t[0]);C=Math.min(C,t[1]);$=Math.max($,t[2]);M=Math.max(M,t[3])}}}return l.length==1?l[0]:[0,r<$?[r,C,$,M]:null,0]};
j.EL.aow=function(F){if(!j.EL.qJ(F))return;var r=F.keyOriginType.v,C=0;if(r==9)return;var $=j.EL.TK(F),M=j.EL.vd(F,"keyOriginBoxCorners");
if(M){var l=j.EL.OB(M),k=l[2],d=l[3];$[2]=$[0]+k;$[3]=$[1]+d;C=j.EL.ou(M)}var I=[r,$,C],c=F.keyOriginPolyCornerRadius;
if(r==2)I.push(j.EL.vt(F));if(r==7||r==8)I.push(c?c.v:0);if(r==8)I.push(F.keyOriginPolySides.v);return I};
j.EL.a6q=function(F,r,$){for(var O=0;O<F.length;O++){if(r.indexOf(O)==-1)continue;var C=F[O].v,M=j.EL.aow(C);
if(M){var l=M[0],k=j.EL.vd(C,l==7||l==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),d=j.EL.OB(k);
console.log(l);if(l==2){var I=[],c=[];for(var Q=0;Q<4;Q++){var x=M[2]+(Q+.5)*Math.PI/2,U=Math.max(M[3][Q]*Math.sqrt(2),20/$.bU),S=k[2*Q]+Math.cos(x)*U,z=k[2*Q+1]+Math.sin(x)*U;
c.push(S,z);I.push(k[2*Q],k[2*Q+1])}return[O,c,I,k,d.slice(0,2)]}if(l==5){return[O,null,null,k,d.slice(0,2)]}if(l==8){var x=M[2]-Math.PI/2,V=d[3]*.5,U=V-Math.max(M[3],20/$.bU),t=Math.sin(x),Y=Math.cos(x);
return[O,[d[0]+Y*U,d[1]+t*U],[d[0]+Y*V,d[1]+t*V],k,d.slice(0,2)]}}}return null};j.EL.ou=function(F){var r=F[2]-F[0],$=F[3]-F[1];
return-Math.atan2(-$,r)};j.EL.a9I=function(F){var r=j.EL.TK(F);return j.EL.ou(r)};j.EL.azs=function(F,r,$){var C=j.EL.e0(F),M=-1;
for(var O=0;O<r.length;O++)if(JSON.stringify(r[O])!=JSON.stringify(C[O]))M=O;if(M==1||M==2){}var l=F.Ug(),k=l[0],d=l[1];
for(var I=0;I<d.length;I++){var c=k[d[I]],Q=c.add.vogk;if(Q==null)continue;var x=c.add.vmsk.K;for(var U=0;
U<Q.length;U++){var S=Q[U].v;if(!j.EL.qJ(S))continue;if(d.length==1&&x.length!=0&&x.indexOf(U)==-1)continue;
var z=S.keyOriginType.v;if(M==1||M==2){j.EL.U(Q,j.EL.a2h(M,S,C,r),x,!1);break}if(M==3)if(z==2)j.EL.Yc(S,r[3]);
else S.keyOriginPolyCornerRadius={t:"doub",v:r[3]};if(M==4)S.keyOriginPolySides.v=r[4];if($)j.EL.bv(Q,U)}}};
j.EL.a2h=function(F,r,$,C){var M=C[1],l=$[1],k=(M[2]-M[0])/(l[2]-l[0]),d=(M[3]-M[1])/(l[3]-l[1]),I=new hS;
if(F==1){if(Math.max(Math.abs(k-1),Math.abs(d-1))>1e-8){var c=M[0],Q=M[1];if(C[0]!=0){var x=j.EL.vd(r,"keyOriginBoxCorners");
c=x[0];Q=x[1]}I.translate(-c,-Q);I.rotate(C[2]);I.scale(k,d);I.rotate(-C[2]);I.translate(c,Q)}else{I.translate(-l[0],-l[1]);
I.translate(M[0],M[1])}}else{if(C[0]!=0)M=j.EL.TK(r);var c=(M[0]+M[2])/2,Q=(M[1]+M[3])/2;I.translate(-c,-Q);
if($[0]!=0)I.rotate($[2]);I.rotate(-C[2]);I.translate(c,Q)}return j.H.TG(I)};j.EL.OB=function(F){var r=F[0],$=F[1],C=F[2],M=F[3],l=F[4],k=F[5],d=F[6],I=F[7],c=C-r,Q=M-$,x=Math.sqrt(c*c+Q*Q),c=l-C,Q=k-M,U=Math.sqrt(c*c+Q*Q);
return[(r+l)/2,($+k)/2,x,U]};j.EL.vd=function(F,r){var $=F[r];if($==null)return null;var C=[];$=$.v;
for(var M=0;M<4;M++){var l=$["rectangleCorner"+["A","B","C","D"][M]].v;C.push(l.Hrzn.v,l.Vrtc.v)}return C};
j.EL.YG=function(F,r,$){var C=F[r];if(C==null)return null;C=C.v;for(var M=0;M<4;M++){var l="rectangleCorner"+["A","B","C","D"][M];
C[l]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:$[2*M]},Vrtc:{t:"doub",v:$[2*M+1]}}}}};j.EL.TK=function(F){return j.EL.WM(F.keyOriginShapeBBox.v)};
j.EL.WM=function(F,r,$){var C=F.classID,M=F.Left.v,l=F.Rght.v,k=F.Top.v,d=F.Btom.v,I=M.type;if(M.val!=null){M=M.val;
l=l.val;k=k.val;d=d.val}if(I=="#Prc"&&r){M*=r/100;l*=r/100;k*=$/100;d*=$/100}return[M,k,l,d]};j.EL.y2=function(F,r,$){var C=j.EL.WM(F,r,$);
return new cS(C[0],C[1],C[2]-C[0],C[3]-C[1])};j.EL.aDZ=function(F,r){j.EL.pq(F.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],r)};
j.EL.vt=function(F){var r=F.keyOriginRRectRadii;if(r==null)return[0,0,0,0];return j.EL.ahh(r.v)};j.EL.ahh=function(F){var r=[],$=["topLeft","topRight","bottomRight","bottomLeft"];
for(var C=0;C<4;C++)r.push(F[$[C]].v.val);return r};j.EL.Yc=function(F,r){j.EL.pq(F.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],r)};
j.EL.pq=function(F,r,$){var C=F.classID;if(C=="unitRect"||C=="radii"||C=="Rctn"){for(var O=0;O<4;O++)if($[O]!=null)F[r[O]]={t:"UntF",v:{type:"#Pxl",val:$[O]}}}else{for(var O=0;
O<4;O++)if($[O]!=null)F[r[O]]={t:"doub",v:$[O]}}};j.EL.ji=function(F){var r=F.keyOriginLineStart.v,$=F.keyOriginLineEnd.v;
return[r.Hrzn.v,r.Vrtc.v,$.Hrzn.v,$.Vrtc.v]};j.EL.amN=function(F,r){var $=F.keyOriginLineStart.v,C=F.keyOriginLineEnd.v;
$.Hrzn.v=r[0];$.Vrtc.v=r[1];C.Hrzn.v=r[2];C.Vrtc.v=r[3]};j.EL.aAA=function(F){var r=[],$=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var O=0;O<5;O++){var C=F["keyOriginLineArr"+$[O]];if(C==null)return null;r[O]=C.v}return r};j.EL.alT=function(F,r){F.keyOriginLineArrowSt={t:"bool",v:r[0]};
F.keyOriginLineArrowEnd={t:"bool",v:r[1]};F.keyOriginLineArrWdth={t:"doub",v:r[2]};F.keyOriginLineArrLngth={t:"doub",v:r[3]};
F.keyOriginLineArrConc={t:"long",v:r[4]}};j.EL.aER=function(F){function r(H,v){return Math.abs(H-v)<.5}function $(H,v){return r(H.x,v.x)&&r(H.y,v.y)}function C(H,v,n,G,g,W,L){for(var O=0;
O<L;O++){var b=H[v+(n+O)%L],T=G[g+(W+O)%L];if(!($(b.Z,T.Z)&&$(b.ni,T.ni)&&$(b.Pj,T.Pj)))return!1}return!0}var M=[];
for(var l=0;l<F.length;l++){var k=F[l],I=null;if(k.I!=0&&k.I!=3||k.ea==-1)continue;var d=l;if(k.length==4||k.length==8){var c=j.w.adX(F.slice(0,2).concat(F.slice(d,d+k.length+1)));
d=2;if(k.length==4){var Q=j.w.wX(c,d+1,4),x=Q.x,U=Q.y,S=x+Q.r,z=U+Q.$;if(Q.C()>4){if(j.w.Vv(c.slice(d-2,d+5)))I=j.EL.Vy(2,[x,U,S,z],[0,0,0,0]);
else{var V=-1;for(var O=0;O<4;O++)if(r(c[d+1+O].Z.y,z))V=O;if(V!=-1){var t=j.w.tQ.jI(x,U,S-x,z-U),Y=C(c,d+1,V,t,3,0,4);
if(Y)I=j.EL.Vy(5,[x,U,S,z])}}}}if(k.length==8){var Q=j.w.wX(c,d+1,8),x=Q.x,U=Q.y,S=x+Q.r,z=U+Q.$;if(Q.C()>4){var V=-1;
for(var O=0;O<8;O++)if(r(c[d+1+(O+1&7)].Z.y,U)&&r(c[d+1+(O+2&7)].Z.y,U))V=O;if(V!=-1){var i=Math.abs(c[d+1+V].Z.y-U),J=[i,i,i,i];
if(i>.5){var t=j.w.tQ.Rect(x,U,S-x,z-U,J),Y=C(c,d+1,V,t,3,0,8);if(Y)I=j.EL.Vy(2,[x,U,S,z],J)}}}}}M.push(I?I:j.EL.E4())}return M};
j.b={};j.b.P=function(F){return{C0:F.C0.slice(0),n:F.n.slice(0)}};j.b.aJk=function(F){if(F.length<6)return!0;
var r=F.length-4;for(var O=0;O<r;O+=2)if(!j.b.ED(F[O],F[O+1],F[O+2],F[O+3],F[O+4],F[O+5]))return!1;if(!j.b.ED(F[r],F[r+1],F[r+2],F[r+3],F[0],F[1]))return!1;
if(!j.b.ED(F[r+2],F[r+3],F[0],F[1],F[2],F[3]))return!1;return!0};j.b.ED=function(F,r,$,C,M,l){return(r-C)*(M-$)+($-F)*(l-C)>=0};
j.b.axT=function(F,r){function $(A,p,g){var n=p[0]-A[0],G=p[1]-A[1],q=j.b.lb(g[0],g[1],-G,n,A[0],A[1],n,G);
return[g[0]-G*q,g[1]+n*q]}function C(A,p){var n=A[0]-p[0],G=A[1]-p[1];return Math.sqrt(n*n+G*G)}F=j.b.avP(F);
var M=[0,0,0,0],l=F.length,k=[0,0,0,0],d=Math.PI/2,I=Math.atan2(-1,0),S=1e9,z,V=0;function c(){for(var O=0;
O<4;O++){var Y=M[O],i=(Y+2)%l,A=F[i]-F[Y],p=F[i+1]-F[Y+1],q=Math.atan2(p,A),f=I+O*d;if(q<f)f-=2*Math.PI;
k[O]=q-f}}for(var O=0;O<l;O+=2){var Q=F[O],x=F[O+1];if(Q<F[M[0]])M[0]=O;if(x<F[M[1]+1])M[1]=O;if(Q>F[M[2]])M[2]=O;
if(x>F[M[3]+1])M[3]=O}c();var U=j.b.sY(F).C();while(V<l/2){var t=0;for(var O=0;O<4;O++)if(k[O]<k[t])t=O;
var Y=M[t],i=(Y+2)%l,J=M[t+2&3],H=M[t+3&3],v=M[t+1&3],Q=F[Y],n=F[i]-Q,x=F[Y+1],G=F[i+1]-x,g=F.slice(Y,Y+2),W=F.slice(i,i+2),L=F.slice(J,J+2),b=F.slice(H,H+2),T=F.slice(v,v+2),a=$(g,W,L),R=$(b,[b[0]-G,b[1]+n],T),D=C(a,L),h=C(R,T);
if(h*D<S){S=h*D;var K=$(g,W,b);z=[K[0],K[1],n,G,h,D]}I+=k[t];M[t]=i;c();V++}var Q=z[0],x=z[1],n=z[2],G=z[3],h=z[4],D=z[5],X=Math.sqrt(n*n+G*G);
n/=X;G/=X;var w=Q+n*h,N=x+G*h,s=[Q,x,w,N,w-G*D,N+n*D,Q-G*D,x+n*D];while(s[0]>s[2]||Math.abs((s[3]-s[1])/(s[2]-s[0]))>1){s.push(s.shift(),s.shift())}return s};
j.b.avP=function(F){var r=0;for(var O=0;O<F.length;O+=2)if(F[O]<F[r])r=O;var $=[r];while(!0){var C=$[$.length-1],M=F[C],l=F[C+1],k=$.length==1?$[0]:$[$.length-2],d=F[k],I=F[k+1],U=0,S=1e9,z=0;
if($.length==1)I+=20;var c=d-M,Q=I-l,x=Math.sqrt(c*c+Q*Q);c/=x;Q/=x;for(var O=0;O<F.length;O+=2){if(O==k||O==C)continue;
var V=F[O],t=F[O+1],Y=V-M,i=t-l,J=Math.sqrt(Y*Y+i*i);Y/=J;i/=J;var H=c*Y+Q*i;if(H<S||H==S&&J>z){S=H;
U=O;z=J}}if(U==$[0])break;$.push(U)}var v=[];for(var O=0;O<$.length;O++)v.push(F[$[O]],F[$[O]+1]);return v};
j.b.el=function(F){var r={},$=0,C={M:2,L:2,Q:4,C:6},M="",l="",k={n:[],C0:[]};for(var O=0;O<F.C0.length;
O++){var d=F.C0[O];if(d[0]=="#")M=d;else if(d[0]=="X"){var I=M+l;if(r[I]==null)r[I]={n:[],C0:[]};j.b.concat(r[I],k);
M="";l="";k={n:[],C0:[]}}else if(d[0]=="O"&&d[1]=="-")l=d;else if(d=="OX"){if(l!="")l+="-1"}else{k.C0.push(d);
var c=C[d];if(c==null)c=0;for(var Q=0;Q<c;Q++)k.n.push(F.n[$+Q]);$+=c}}return r};j.b.au_=function(F,r,$){var C=F[r]-F[$-2],M=F[r+1]-F[$-1];
return C*C+M*M<1e-4};j.b.nT=function(F){var r=[],$=F.n,C=F.C0.length-1;for(var M=0;M<C;M++){var O=M*6,l=$[O+6]-$[O+0],k=$[O+7]-$[O+1],d=Math.ceil(Math.sqrt(l*l+k*k));
for(var I=0;I<d;I++){var c=I/d,Q=1-c,x=Q*Q*Q*$[O+0]+3*Q*Q*c*$[O+2]+3*Q*c*c*$[O+4]+c*c*c*$[O+6],U=Q*Q*Q*$[O+1]+3*Q*Q*c*$[O+3]+3*Q*c*c*$[O+5]+c*c*c*$[O+7];
r.push(x,U)}}return r};j.b.RJ=function(F,r,$){F=j.b.np(F);var C=F.n,M=F.C0,l=0,k="",d=0,I=0,l=0,x=null;
for(var O=0;O<M.length;O++){var c=M[O];if(c=="M"){d=C[l];I=C[l+1];l+=2;k=c}if(c=="C"){if(k=="Z"){M.splice(O,0,"M");
C.splice(l,0,d,I);O--;continue}l+=6;k=c}if(c=="Z"){k=c}}var Q=[];l=0;for(var O=0;O<M.length;O++){var c=M[O];
if(c=="M"){x={xK:l,f_:0,od:!1};Q.push(x);l+=2}if(c=="C"){x.f_++;l+=6}if(c=="Z"&&x!=null){x.od=!0}}var U=[];
for(var O=0;O<Q.length;O++)if(Q[O].f_!=0)U.push(Q[O]);Q=U;for(var O=0;O<Q.length;O++){var S=Q[O],z=S.xK,V=z+2+S.f_*6,Y=0;
S.sc=j.b.sY(C,z,V);var t=j.b.au_(C,z,V);for(var i=0;i<S.f_;i++){var J=z+i*6,H=J+6;Y+=(C[H]-C[J])*(C[H+1]+C[J+1])}if(S.f_==2){var v=function(E,cj,u){var cd=1-u;
return cd*cd*cd*E[cj]+3*cd*cd*u*E[cj+2]+3*cd*u*u*E[cj+4]+u*u*u*E[cj+6]},n=C[z],G=C[z+1],g=C[z+6],W=C[z+7],L=C[z+6],b=C[z+7],T=v(C,z,.5),a=v(C,z+1,.5),R=v(C,z+6,.5),D=v(C,z+7,.5);
Y=(T-n)*(a-G)+(g-T)*(W-a)+(R-g)*(D-W)+(L-R)*(b-D)}if(!t)Y+=(C[z]-C[V-2])*(C[z+1]+C[V-1]);S.Z_=Y<=0}for(var O=0;
O<Q.length-1;O++)for(var J=O+1;J<Q.length;J++){var h=Q[O],K=Q[J];if(K.sc.qC(h.sc)){Q[O]=K;Q[J]=h}}var X=Q.length==0?!0:Q[0].Z_,w=[{I:6},{I:8,all:0}];
for(var O=0;O<Q.length;O++){var S=Q[O],z=S.xK,V=z+2+S.f_*6,t=j.b.au_(C,z,V);if(S.f_==1)t=!1;var N=S.od||t?0:3,s=S.Z_==X&&!r?1:0;
if(!r&&O!=0){if(Q[O-1].sc.qC(S.sc)&&Q[O-1].Z_!=S.Z_)s=0;for(var J=0;J<Q.length;J++)if(J!=O&&Q[J].sc.qC(S.sc))s=0}w.push({I:N,length:S.f_+(t?0:1),ea:$?0:s,VW:2});
for(var J=0;J<S.f_;J++){var l=z+J*6,A=new hx(C[l],C[l+1]),p=new hx(C[l+2],C[l+3]),q;if(J==0){if(t){q=new hx(C[V-4],C[V-3]);
if(hx.BV(q,A)<1e-5)q=A.P()}else q=A.P()}else q=new hx(C[l-2],C[l-1]);w.push({I:N+2,ni:q,Z:A,Pj:p})}if(!t){var f=new hx(C[V-2],C[V-1]);
w.push({I:N+2,ni:new hx(C[V-4],C[V-3]),Z:f,Pj:f.P()})}}for(var J=0;J<w.length;J++){var e=w[J];if(e.I>5||e.I==0||e.I==3)continue;
var o=e.ni.Mp(e.Z)||e.Pj.Mp(e.Pj);if(!o){var h=e.ni.x*(e.Z.y-e.Pj.y)+e.Z.x*(e.Pj.y-e.ni.y)+e.Pj.x*(e.ni.y-e.Z.y);
if(Math.abs(h)<1e-6)o=!0}if(o)e.I--}return w};j.b.M5=function(F,r){var $=j.w.Us(F),C=[];for(var O=2;
O<F.length;O++){var M=F[O].ea;if(M!=null){if(M==2||M==0||M==3||M==-1)C.push(M)}}var l=C.length!=0;if((l||r)&&F.length<5e3&&1<$&&$<200)F=j.w.SG(F);
var k=j.b.oJ(F);return{Yk:k,wp:l?1:0}};j.b.oJ=function(){function F(C,M,l,k){if(k!=2&&C.Pj.Mp(C.Z)&&M.ni.Mp(M.Z)){l.n.push(M.Z.x,M.Z.y);
l.C0.push("L")}else{var d=C.Z,I=C.Pj,c=M.ni,Q=M.Z,x=3/2*I.x-1/2*d.x,U=3/2*I.y-1/2*d.y,S=3/2*c.x-1/2*Q.x,z=3/2*c.y-1/2*Q.y,V=S-x,t=z-U;
if(k==0&&V*V+t*t<.001){l.n.push((x+S)*.5,(U+z)*.5,Q.x,Q.y);l.C0.push("Q")}else{l.n.push(I.x,I.y,c.x,c.y,Q.x,Q.y);
l.C0.push("C")}}}function r(C,M,O,l,k,d){var I=M[O];C.n.push(I.Z.x,I.Z.y);C.C0.push("M");for(var c=O;
c<O+l-1;c++)F(M[c],M[c+1],C,d);if(!k)F(M[c],M[O],C,d)}function $(C,M){if(M==null)M=0;var l={n:[],C0:[]};
for(var O=0;O<C.length;O++){if(C[O].I>5)continue;var k=C[O].length;if(k==0)continue;if(O==C.length-1)break;
var d=C[O].I==3;r(l,C,O+1,k,d,M);if(!d)l.C0.push("Z");O+=k}return l}return $}();j.b.aer=function(F){var r=F.n,$=[],C,M=0;
for(var O=0;O<F.C0.length;O++){var l=F.C0[O];if(l=="C"){C.push(r[M++],r[M++],r[M++],r[M++],r[M++],r[M++])}else if(l=="Z"){}else{C=[];
if(l!="M"){C.push(l);O++}C.push(r[M++],r[M++]);$.push(C)}}return $};j.b.V7=function(F,r,$,C){if(C==null)C=1e9;
var M=1e9,l=0;for(var O=0;O<F.length;O+=2){var k=r-F[O],d=$-F[O+1],I=k*k+d*d;if(I<M){M=I;l=O>>>1}}return M<C*C?l:-1};
j.b.a5F=function(F,r,$,C){for(var O=0;O<F.length;O+=2){var M=F[O],l=F[O+1],k=r[O],d=r[O+1];$[O]=M+(k-M)*C;
$[O+1]=l+(d-l)*C}};j.b.U=function(F,r,$){for(var O=0;O<F.length;O+=2){var C=F[O],M=F[O+1];$[O]=C*r.xz+M*r.gb+r.P6;
$[O+1]=C*r.X+M*r.G0+r.jw}};j.b.sY=function(F,r,$){if(r==null)r=0;if($==null)$=F.length;var C=99999999999,M=-C,l=99999999999,k=-l;
for(var O=r;O<$;O+=2){var d=F[O],I=F[O+1];C=Math.min(C,d);l=Math.min(l,I);M=Math.max(M,d);k=Math.max(k,I)}return new cS(C,l,M-C,k-l)};
j.b.aAn=function(F,r){var $=Math.max(r.x,Math.min(r.x+r.r,F.x)),C=Math.max(r.y,Math.min(r.y+r.$,F.y)),M=F.x-$,l=F.y-C;
return Math.sqrt(M*M+l*l)};j.b.LY=function(F,r){var $=Math.floor,C=Math.ceil;if(r){$=Math.ceil;C=Math.floor}var M=$(F.x),l=C(F.x+F.r),k=$(F.y),d=C(F.y+F.$);
return new cS(M,k,l-M,d-k)};j.b.qy=function(F,r){return j.b.LY(j.b.sY(F),r)};j.b.Vs=function(F,r){var $=F.x,C=F.y,M=F.x+F.r,l=F.y+F.$,k=[$,C,M,C,M,l,$,l];
if(r){var d=r.P();d.v4();j.b.U(k,d,k)}return{C0:["M","L","L","L","Z"],n:k}};j.b.concat=function(F,r,$){if($==null)$=new hS;
for(var O=0;O<r.n.length;O+=2){var C=r.n[O],M=r.n[O+1];F.n.push(C*$.xz+M*$.gb+$.P6);F.n.push(C*$.X+M*$.G0+$.jw)}for(var O=0;
O<r.C0.length;O++)F.C0.push(r.C0[O])};j.b.reverse=function(F){var r=F.C0.slice(1),$=r.pop();if($!="Z")r.push($);
r.reverse();r=["M"].concat(r);if($=="Z")r.push("Z");var C=[],M=F.n.length;for(var l=0;l<M;l+=2){C[l]=F.n[M-2-l];
C[l+1]=F.n[M-2-l+1]}return{n:C,C0:r}};j.b.a3s=function(F,r,$,C,M){function l(U,S,z){return new hx(U.x*(1-z)+S.x*z,U.y*(1-z)+S.y*z)}var k=l(F,r,M),d=l($,C,M),I=l(r,$,M),c=l(k,I,M),Q=l(I,d,M),x=l(c,Q,M);
return[k,c,x,Q,d]};j.b.np=function(F){var r=F.n,$=[],C=[],M=0,l=0,k=0,d=0,I=0,c=0,Q=0,x=0,U=0,S=0,z=0;
for(var O=0;O<F.C0.length;O++){var V=F.C0[O];if(V=="M"){l=r[M];k=r[M+1];M+=2;C.push(V);$.push(l,k);S=l;
z=k}else if(V=="C"){d=r[M];I=r[M+1];c=r[M+2];Q=r[M+3];x=r[M+4];U=r[M+5];M+=6;C.push(V);$.push(d,I,c,Q,x,U);
l=x;k=U}else if(V=="Q"){d=r[M];I=r[M+1];c=r[M+2];Q=r[M+3];M+=4;var t=d-l,Y=I-k,i=c-d,J=Q-I;C.push("C");
$.push(l+2/3*t,k+2/3*Y,d+1/3*i,I+1/3*J,c,Q);l=c;k=Q}else if(V=="L"){d=r[M];I=r[M+1];M+=2;if(d!=l||I!=k){C.push("C");
$.push(l,k,d,I,d,I);l=d;k=I}}else{if(V=="Z"){l=S;k=z}C.push(V)}}return{C0:C,n:$}};j.b.aG8=function(F){var r=F.n,$=[],C=[],M=0;
for(var O=0;O<F.C0.length;O++){var l=F.C0[O];if(l=="Q"){var k=r[M-2],d=r[M-1],I=r[M],c=r[M+1],Q=r[M+2],x=r[M+3];
M+=4;var U=I-k,S=c-d,z=Q-I,V=x-c;C.push("C");$.push(k+2/3*U,d+2/3*S,I+1/3*z,c+1/3*V,Q,x)}else{var t=0;
if(l=="M"||l=="L")t=2;else if(l=="C")t=6;for(var Y=0;Y<t;Y++)$.push(r[M+Y]);M+=t;C.push(l)}}return{C0:C,n:$}};
j.b.V0=function(F,r){var $=F.n,C=[],M=[],l=0,k=0,d=0,I=0,c=0,Q=0,x=0,U=0,S=0;for(var O=0;O<F.C0.length;
O++){var z=F.C0[O];if(z=="M"){k=$[l];d=$[l+1];l+=2;M.push(z);C.push(k,d)}else if(z=="C"){I=$[l];c=$[l+1];
Q=$[l+2];x=$[l+3];U=$[l+4];S=$[l+5];l+=6;j.b.hR(k,d,I,c,Q,x,U,S,r,M,C,0);k=U;d=S}else M.push(z)}return{C0:M,n:C}};
j.b.hR=function(F,r,$,C,M,l,k,d,I,c,Q,x){var U=Math.sqrt((k-F)*(k-F)+(d-r)*(d-r)),S=Math.sqrt((k-M)*(k-M)+(d-l)*(d-l))+Math.sqrt((M-$)*(M-$)+(l-C)*(l-C))+Math.sqrt(($-F)*($-F)+(C-r)*(C-r)),z=(U+S)/2;
if(z<=I){c.push("C");Q.push($,C,M,l,k,d)}else{var V=0,t=0,Y=0,i=0,J=0,H=0,v=0,n=0,G=0,g=0,W=0,L=0,b=0;
t=(F+$)/2;Y=(r+C)/2;i=($+M)/2;J=(C+l)/2;H=(M+k)/2;v=(l+d)/2;n=(t+i)/2;G=(Y+J)/2;g=(i+H)/2;W=(J+v)/2;
L=(n+g)/2;b=(G+W)/2;j.b.hR(F,r,t,Y,n,G,L,b,I,c,Q,x+1);j.b.hR(L,b,g,W,H,v,k,d,I,c,Q,x+1)}};j.b.r1=function(F,r,$,C,M){var l=Date.now(),k=j.b.aFW(F,r,$);
if(M){console.log("trace polygons",Date.now()-l);l=Date.now()}var d=[];for(var O=0;O<k.length;O++){var I=k[O],c=I[0],Q=["M"],x=F[c[1]*r+c[0]];
if(c.length>8)c=j.b.abm(c,C,I[1]);if(c.length<=4)continue;for(var U=2;U<c.length;U+=2)Q.push("L");Q.push("Z");
d.push({path:{n:c,C0:Q},color:x,parent:-1,sc:j.b.sY(c)})}if(M){console.log("simplify polygons",Date.now()-l);
l=Date.now()}for(var O=1;O<d.length;O++){var S=d[O],z=S.path.n,V=z[0],t=z[1],Y=z[2],i=z[3],J=Y-V,H=i-t,v=V+.5*J-.001*H,n=t+.5*H+.001*J;
for(var U=O-1;U>=0;U--){var G=d[U];if(!G.sc.qC(S.sc))continue;if(!eA.h_(G.path.n,v,n))continue;S.parent=U;
break}}if(M){console.log("checking parents",Date.now()-l);l=Date.now()}return d};j.b.aFW=function(F,r,$){var C=r*$,M=new Uint16Array(r*$),k=0;
for(var O=0;O<C;O++)M[O]=F[O];var l=new Uint8Array(r*$);l[1*r+1]=l[($-1)*r+1]=l[1*r+r-1]=l[($-1)*r+r-1]=1;
for(var d=1;d<$;d++)for(var I=1;I<r;I++){var O=d*r+I,c=M[O-r-1],Q=M[O-r],x=M[O-1],U=M[O],S=c==U&&Q==x&&c!=Q,z=0;
if(U<x){k=U;U=x;x=k}if(x<Q){k=x;x=Q;Q=k}if(Q<c){k=Q;Q=c;c=k}if(U<x){k=U;U=x;x=k}if(x<Q){k=x;x=Q;Q=k}if(U<x){k=U;
U=x;x=k}if(c!=Q)z++;if(Q!=x)z++;if(x!=U)z++;if(U!=c)z++;if(z>=3||S)l[O]=1}var V=[];for(var d=1;d<$;d++)for(var I=1;
I<r;I++){var O=d*r+I;if(M[O]!=M[O-1]){var t=j.b.azM(M,r,$,I,d),Y=[];for(var i=0;i<t.length;i+=2)if(l[t[i+1]*r+t[i]]==1)Y.push(i>>>1);
V.push([t,Y]);j.b.Oq(M,r,$,I,d)}}return V};j.b.Oq=function(F,r,$,C,M){var l=[M*r+C],k=F[M*r+C];F[M*r+C]=65535;
while(l.length!=0){var O=l.pop();F[O]=0;if(F[O+r]==k){l.push(O+r);F[O+r]=65535}if(F[O-r]==k){l.push(O-r);
F[O-r]=65535}if(F[O-1]==k){l.push(O-1);F[O-1]=65535}if(F[O+1]==k){l.push(O+1);F[O+1]=65535}}};j.b.azM=function(F,r,$,C,M){var l=[0,-1,1,0,0,1,-1,0],Q=1;
function k(U,S,Q){var O=c*r+I,z=0;if(Q==0)z=O-r;else if(Q==1)z=O;else if(Q==2)z=O-1;else if(Q==3)z=O-r-1;
return F[z]}var d=[],I=C,c=M,x=k(I,c,Q);do{d.push(I,c);I+=l[Q*2];c+=l[Q*2+1];if(k(I,c,Q)!=x)Q=Q+1&3;
else if(k(I,c,Q+3&3)!=x)Q=Q;else if(k(I,c,Q+2&3)!=x)Q=Q+3&3}while(I!=C||c!=M);return d};j.b.abm=function(F,r,$){if(r==null||r==0)return F;
var C=F.length-2;if($&&$.length!=0){var M=$[0]*2,l=$[$.length-1]*2,k=M==0?C:M-2,d=F.slice(l);for(var O=0;
O<M;O++)d.push(F[O]);if(M==l)d.push(.9*F[M]+.1*F[k],.9*F[M+1]+.1*F[k+1]);else d.push(F[M],F[M+1]);d=j.b.EM(d,r);
d.pop();d.pop();for(var O=0;O<$.length-1;O++){var I=F.slice($[O]*2,$[O+1]*2+2);I=j.b.EM(I,r);for(var c=0;
c<I.length-2;c++)d.push(I[c])}return d}var Q=F.slice(0);Q.push(.9*F[0]+.1*F[C],.9*F[1]+.1*F[C+1]);Q=j.b.EM(Q,r);
Q.pop();Q.pop();return Q};j.b.EM=function(F,r){var $=F.length-2,C=F[0],M=F[1],l=F[$],k=F[$+1],d=l-C,I=k-M,c=1/Math.sqrt(d*d+I*I),Q=l*M-k*C,x=-1,U=-1,S=0;
for(var O=2;O<$;O+=2){var z=F[O],V=F[O+1],t=V*V*1e6+z*z,Y=Math.abs(I*z-d*V+Q)*c;if(Y>U||Y==U&&t>S){U=Y;
x=O;S=t}}if(U<r)return[C,M,l,k];var i=j.b.EM(F.slice(0,x+2),r),J=j.b.EM(F.slice(x),r);for(var O=2;O<J.length;
O++)i.push(J[O]);return i};j.b.aad=function(){var F=function(C,M,l,k,d,I){return(M-k)*(d-l)+(l-C)*(I-k)>=0},r=function(C,M,l,k,d,I,c,Q){var x=c-l,U=Q-k,S=d-l,z=I-k,V=C-l,t=M-k,Y=x*x+U*U,i=x*S+U*z,J=x*V+U*t,H=S*S+z*z,v=S*V+z*t,n=1/(Y*H-i*i),G=(H*J-i*v)*n,g=(Y*v-i*J)*n;
return G>=0&&g>=0&&G+g<1},$=function(C){var bU=C.length>>>1,O=0;if(bU<3)return[];var M=[],l=[];for(var O=0;
O<bU;O++)l.push(O);var k=bU;while(k>3){var d=l[(O+0)%k],I=l[(O+1)%k],c=l[(O+2)%k],Q=C[2*d],x=C[2*d+1],U=C[2*I],S=C[2*I+1],z=C[2*c],V=C[2*c+1],t=!1;
if(F(Q,x,U,S,z,V)){t=!0;for(var Y=0;Y<k;Y++){var i=l[Y];if(i==d||i==I||i==c)continue;if(r(C[2*i],C[2*i+1],Q,x,U,S,z,V)){t=!1;
break}}}if(t){M.push(d,I,c);l.splice((O+1)%k,1);k--;O=0}else if(O++>3*k)break}M.push(l[0],l[1],l[2]);
return M};return $}();j.b.aqk=function(F,r){var $={},C={C0:[],n:[]};for(var O=0;O<r.length;O+=3){var M=r[O]*2,l=r[O+1]*2,k=r[O+2]*2;
j.b.Y8(F,M,l,C,$);j.b.Y8(F,M,k,C,$);j.b.Y8(F,l,k,C,$)}return C};j.b.Y8=function(F,r,$,C,M){if(r>$){var l=$;
$=r;r=l}if(M[r+","+$])return;M[r+","+$]=!0;C.C0.push("M","L");C.n.push(F[r],F[r+1],F[$],F[$+1])};j.b.aq8=function(F,r){var $=[],C=F.length;
for(var O=0;O<C;O+=2){var M=F[O],l=F[O+1],k=F[(O+2)%C],d=F[(O+3)%C];if(d<l){var I=l;l=d;d=I}if(l<r&&r<d){var c=(r-l)/(d-l);
$.push(M+c*(k-M))}}$.sort(function(Q,x){return Q-x});return $};j.b.aJm=function(F,r,$,C,M,l,k){var d=F-$,I=r-C,c=M-$,Q=l-C,x=1/Math.sqrt(d*d+I*I),U=1/Math.sqrt(c*c+Q*Q),S=d*x,z=I*x,V=c*U,t=Q*U,Y=z*k,i=-S*k,J=-t*k,H=V*k,v=j.b.lb(Y,i,S,z,J,H,V,t),n=Y+S*v,G=i+z*v,v=j.b.lb(0,0,S,z,n,G,-z,S),g=S*v,W=z*v;
return[Math.sqrt(g*g+W*W),S,z,V,t]};j.b.adj=function(F,r,$,C,M,l,k){var d=j.b.aJm(F,r,$,C,M,l,k),I=d[0],c=d[1],Q=d[2],x=d[3],U=d[4],S=Math.atan2(c*U-Q*x,c*x+Q*U);
if(S<0){S=S*-1}var z=Math.PI-S,V=4/3*Math.tan(z/4),t=$+I*c,Y=C+I*Q,i=$+I*x,J=C+I*U,H=t+V*k*-c,v=Y+V*k*-Q,n=i+V*k*-x,G=J+V*k*-U;
return[0,0,t,Y,H,v,n,G,i,J]};j.b.lb=function(F,r,$,C,M,l,k,d){var I=k*(r-l)-d*(F-M),c=d*$-k*C;if(c==0)return 0;
return I/c};j.b.FT=function(F,r,$,C,M,l){return F*(C-l)+$*(l-r)+M*(r-C)};j.b.aeE=function(F){function r(R,D,h,K,X,w,N,s,A){var p=j.b.lb(R,D,h,K,X,w,N,s);
A.push(R+h*p,D+K*p)}var $=[],C=F.length,M=[];for(var O=0;O<C;O+=2){var l=O==0?C-2:O-2,k=O==C-2?0:O+2,d=F[O],I=F[O+1],c=d-F[l],Q=I-F[l+1],x=F[k]-d,U=F[k+1]-I,S=Math.sqrt(c*c+Q*Q),z=Math.sqrt(x*x+U*U);
M.push(z);var V=S/(S+z),t=d-c*.5,Y=I-Q*.5,i=d+x*.5,J=I+U*.5,H=(F[k]+F[l])*.5,v=(F[k+1]+F[l+1])*.5,n=t+V*(i-t),G=Y+V*(J-Y),g=d-n,W=I-G,L=(x*-c+U*-Q)/(S*z),b=(V-.5)*7,T=1+b*V,a=1-b*(1-V);
$.push(t+g*T,Y+W*T,i+g*a,J+W*a)}return $};j.i7=function(){};j.i7.AY=function(F,r,$,C,M){var l=$.r,k=$.$,d=l*k,I=new Int32Array(d),bU=0;
for(var O=0;O<d;O++)if(r[O]!=0){I[O]=bU;bU++}else if(F[(O<<2)+3]<200){I[O]=-2}else I[O]=-1;if(bU==0)return;
var c=new j.aO(bU,bU),Q=new Array(3*bU),x=new Array(3*bU);for(var O=0;O<x.length;O++)x[O]=Q[O]=0;var U=1/255,S=[-l,-1,1,l],z=[],V=[];
for(var t=0;t<k;t++)for(var Y=0;Y<l;Y++){var i=t*l+Y,J=i<<2,O=I[i],H=O*3,v=0,n=0,G=0;if(O==-1||O==-2)continue;
for(var g=0;g<4;g++){if(g==2){n=G;z[G]=0;V[G]=O;G++}var W=i+S[g],L=W<<2,b=I[W];if(g==0&&t==0||g==1&&Y==0||g==2&&Y==l-1||g==3&&t==k-1||b==-2)continue;
v++;if(b==-1){Q[H+0]+=F[L+0];Q[H+1]+=F[L+1];Q[H+2]+=F[L+2]}else{z[G]=-1;V[G]=b;G++;if(r[i]==r[W]){Q[H+0]+=F[J+0]-F[L+0];
Q[H+1]+=F[J+1]-F[L+1];Q[H+2]+=F[J+2]-F[L+2]}}}z[n]=v;c.Mj(z,V,G)}for(var O=0;O<d;O++)if(I[O]!=-1){var T=O<<2,a=I[O],R=a*3;
x[R]=F[T+0];x[R+1]=F[T+1];x[R+2]=F[T+2]}var D=Date.now();c.aEr(x,Q,C,M);console.log(Date.now()-D);for(var O=0;
O<d;O++){var a=I[O],h=a*3,T=O<<2;if(a==-1||F[T+3]!=255)continue;F[T+0]=~~(.5+Math.max(0,Math.min(255,x[h+0])));
F[T+1]=~~(.5+Math.max(0,Math.min(255,x[h+1])));F[T+2]=~~(.5+Math.max(0,Math.min(255,x[h+2])))}};j.S={};
j.S.aGc=function(F,r){var $=[F],C=[];for(var O=0;O<r.length;O++){var M=r[O],l=!1;for(var k=O+1;k<r.length;
k++){var d=r[k];if(d[0]<=M[0]&&d[1]<=M[1]&&M[2]<=d[2]&&M[3]<=d[3]){l=!0;break}}if(!l)C.push(M)}r=C;for(var O=0;
O<r.length;O++){var M=r[O];for(var k=0;k<$.length;k++){var d=$[k],I=Math.max(M[0],d[0]),c=Math.min(M[2],d[2]),Q=Math.max(M[1],d[1]),x=Math.min(M[3],d[3]);
if(I<c&&Q<x){var U=[];if(d[1]<M[1]){var S=d.slice(0);S[3]=M[1];U.push(S)}if(d[0]<M[0]){var z=d.slice(0);
z[1]=Q;z[2]=M[0];U.push(z)}if(M[2]<d[2]){var V=d.slice(0);V[1]=Q;V[0]=M[2];U.push(V)}if(M[3]<d[3]){var t=[I,x,c,d[3]];
U.push(t)}if(U.length!=0){$[k]=U[0];for(var Y=1;Y<U.length;Y++)$.push(U[Y])}}}$.push(M);$=j.S.atj($)}$.sort(function(M,d){return M[1]!=d[1]?M[1]-d[1]:M[0]-d[0]});
for(var O=1;O<$.length;O++){var M=$[O-1],d=$[O];if(M[0]==d[0]&&M[1]==d[1]&&M[2]==d[2]&&M[3]==d[3]){$.splice(M[4]==null?O-1:O,1);
O--}}return $};j.S.atj=function(F){F=F.slice(0);for(var O=0;O<F.length;O++){var r=F[O],$=null;if(r[4]!=null)continue;
for(var C=0;C<F.length;C++){var M=F[C];if(O==C||M[4]!=null)continue;var l=r[0]==M[0],k=r[1]==M[1],d=r[2]==M[2],I=r[3]==M[3];
if(k&&I&&(r[2]==M[0]||r[0]==M[2])){$=[Math.min(r[0],M[0]),r[1],Math.max(r[2],M[2]),r[3]]}if(l&&d&&(r[3]==M[1]||r[1]==M[3])){$=[r[0],Math.min(r[1],M[1]),r[2],Math.max(r[3],M[3])]}if($){F[O]=$;
F.splice(C,1);break}}if($){O--}}return F};j.S.ZV=function(F){var r=new cS;for(var O=0;O<F.length;O++)r=r.DM(F[O]);
return r};j.S.ave=function(F,r){var $=j.S.ZV,C=new UnionFind(F.length),n=1e3,G=1e3;for(var O=0;O<F.length;
O++)for(var M=O+1;M<F.length;M++){if(!r)continue;var l=F[O],k=F[M],x=1e9,U=1e9;if(l.HV(k)){C.link(O,M);
continue}var d=l.x+l.r,I=l.y+l.$,c=k.x+k.r,Q=k.y+k.$;if((d<k.x||c<l.x)&&(I<k.y||Q<l.y))continue;if(!(I<k.y||Q<l.y))x=Math.min(Math.abs(d-k.x),Math.abs(l.x-c));
if(!(d<k.x||c<l.x))U=Math.min(Math.abs(I-k.y),Math.abs(l.y-Q));var S=Math.min(x,U),z=Math.min(l.r,l.$,k.r,k.$);
if(S<.3*z)C.link(O,M)}var V=[],t={};for(var O=0;O<F.length;O++){var Y=C.find(O),i=F[O];if(t[Y]==null){t[Y]=V.length;
V.push([])}V[t[Y]].push(i)}var J=[],H=[];for(var O=0;O<V.length;O++){J.push($(V[O]));var v=$(V[O]);v.ru=O;
H.push(v)}H.sort(function(K,X){return Math.max(X.$,X.r)-Math.max(K.$,K.r)});var g=new NETXUS.RectanglePacker(n,G);
while(!0){var W=!1;g.reset(n,G);for(var O=0;O<H.length;O++){var L=g.findCoords(H[O].r,H[O].$);if(L){H[O].x=L.x;
H[O].y=L.y}else{n=Math.floor(n*1.1);G=Math.floor(G*1.1);W=!0;break}}if(W)continue;break}for(var O=0;
O<V.length;O++){var b=H[O],T=b.ru,a=J[T],R=V[T],D=b.x-a.x,h=b.y-a.y;for(var M=0;M<R.length;M++)R[M].offset(D,h)}};
j.S.avM=function(F){var r=[],$=[],C=function(v,n){return v-n};for(var O=0;O<F.length;O++){var M=F[O];
if(r.indexOf(M[0])==-1)r.push(M[0]);if(r.indexOf(M[2])==-1)r.push(M[2]);if($.indexOf(M[1])==-1)$.push(M[1]);
if($.indexOf(M[3])==-1)$.push(M[3])}r.sort(C);$.sort(C);r.push(r[r.length-1]+1);$.push($[$.length-1]+1);
var l=[],k=r.length-1,d=$.length-1;for(var I=0;I<d;I++){var c=[];l.push(c);for(var Q=0;Q<k;Q++){var x=r[Q],U=r[Q+1],S=$[I],z=$[I+1],V=(x+U)/2,t=(S+z)/2,Y=-1,i=-1;
for(var O=0;O<F.length;O++){var M=F[O];if(M[0]==x&&M[1]==S)Y=O;if(M[0]<V&&V<M[2]&&M[1]<t&&t<M[3])i=O}if(Y!=-1){var M=F[Y],J=1,H=1;
while(r[Q+J]<M[2])J++;while($[I+H]<M[3])H++;c.push([Y,M[2]-M[0],M[3]-M[1],J,H])}else if(i!=-1)continue;
else c.push([-1,U-x,z-S,1,1])}}return[r.pop(),$.pop(),l]};j.S.a6G=function(F,r,$,C){var M=j.S.avM(F),l=["<table id=\"Table_01\" width=\""+M[0]+"\" height=\""+M[1]+"\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">"],k=M[2];
for(var O=0;O<k.length;O++){var d=k[O];l.push("\t<tr>");for(var I=0;I<d.length;I++){var c=d[I],Q=null,x="",U="",S=c[3],z=c[4],Y="";
if(c[0]!=-1){var V=c[0],t=F[V];if(t.length==5){Q=$[t[4]].v;x=Q.url.v}U="src=\""+r[V]+"\"";if(t[4]==null&&C==2)U=""}if(S!=1)Y+=" colspan=\""+S+"\"";
if(z!=1)Y+=" rowspan=\""+z+"\"";l.push("\t\t<td"+Y+">");if(x!="")l.push("\t\t\t<a href=\""+x+"\" target=\""+Q.null.v+"\">");
l.push((x==""?"":"\t")+"\t\t\t<img "+U+" width=\""+c[1]+"\" height=\""+c[2]+"\" alt=\""+(Q?Q.altTag.v:"")+"\"></td>"+(x==""?"":"</a>"))}if(O==k.length-1){l.pop();
l.pop();l.push("\t\t<td></td>")}l.push("\t</tr>")}l.push("</table>");return l.join("\n")};j.Om=function(){};
j.Om.sR=Math.floor(16*window.devicePixelRatio);j.Om.S$={};j.Om.ub=0;j.Om.si=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
j.Om.wn=["px","in","cm","mm","%"];j.Om.Xv=function(F,r,$,C){var M=[1,r,r/2.54,r/25.4,$/100][C];return F*M};
j.Om.QX=function(F,r,$,C){var M=[1,r,r/2.54,r/25.4,$/100][C];return F/M};j.Om.Py=function(F,r,$,C,M){var l=$.AK.qU,k=[1,r,r/2.54,r/25.4,C/100][l],d=[2,3,2,1,2][l];
F=F/k;var I=Math.round(F),c=l==0&&Math.abs(F-I)<1e-6?I+"":F.toFixed(d);if(M)c+=" "+j.Om.wn[l];return c};
j.Om.auT=function(F,r,$,C){var M=$.AK.qU,l=[1,r,r/2.54,r/25.4,C/100][M];F=parseFloat(F)*l;return F};
j.Om.a3u=function(F,r){var $=F+","+r;if(j.Om.S$.clr==$)return;var C=Math.round(j.Om.sR*.5);j.Om.ub=C;
var M=j.q6(C,C);M.save();M.font=C*1.5+"px monospace";var l="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var O=0;
O<l.length;O++){M.fillStyle="#"+j.lN(r);M.fillRect(0,0,C,C);M.fillStyle="#"+j.lN(F);M.fillText(l[O],0,C);
j.Om.S$[l[O]]=new Uint8Array(M.getImageData(0,0,C,C).data.buffer)}j.Om.S$.clr=$;M.restore()};j.Om.a76=function(F,r,$,C){var M=0,l=0,k=4*j.Om.sR;
for(var O=9;O>=0;O--){var d=Math.pow(10,O);if(5*d*F<=k){M=5*d;l=10;break}if(2*d*F<=k){M=2*d;l=4;break}if(1*d*F<=k){M=1*d;
l=C;break}}if(M==0){M=1;l=C}var I=Math.ceil(M*F),c=j.j(I*j.Om.sR*4);j.A9(c,4278190080|$);for(var O=0;
O<j.Om.sR;O++)j.Om.AE(c,4*O*I,r);for(var O=0;O<I;O++)j.Om.AE(c,4*((j.Om.sR-1)*I+O),r);if(M==2)l=2;if(M==5)l=5;
if(M>1||M==1&&I>20)for(var O=1;O<l;O++)j.Om.aDe(c,O*(I/l),I,(O&1)==1?.8:.7,r);return{gf:c,step:M}};j.Om.aDe=function(F,r,$,C,M){var r=Math.round(r);
for(var l=Math.round(j.Om.sR*C);l<j.Om.sR-1;l++)j.Om.AE(F,4*(l*$+r),M)};j.Om.AE=function(F,r,$){F[r+0]=$>>16&255;
F[r+1]=$>>8&255;F[r+2]=$&255};j.Om.a4T=function(F,r,$,C,M,l,k,d){var I=F.FL.r,c=F.FL.$,Q=j.Om.sR,x=r&255,U=r>>8&255,S=r>>16&255;
r=Math.round(x*.6)<<16|Math.round(U*.6)<<8|Math.round(S*.6);j.Om.a3u(Math.round(x*.8)<<16|Math.round(U*.8)<<8|Math.round(S*.8),$);
var z=F.bU,V=F.p,t=F.K$;for(var Y=0;Y<2;Y++){var i=Y==0?l:k;F.bU=i[0];F.p=i[1];F.K$=0;var J=this.a76(F.bU,r,$,d),H=F.Ti(0,0),v=F.Ti(I,c),n=Math.floor(H.x/J.step)*J.step,G=Math.ceil(v.x/J.step)*J.step,g=Math.floor(H.y/J.step)*J.step,W=Math.ceil(v.y/J.step)*J.step,L=F.uc(n,g),b=F.uc(G,g),T=J.step*F.bU,a=Math.ceil(T);
if(Y==1){var R=J.gf;J.gf=j.j(R.length*4);j.H.Mk(R,J.gf,a,Q)}var D=Y==0?F.s6.data:F.TR.data,h=new cS(0,0,[I,Q][Y],[Q,c][Y]),K=new cS(0,0,[a,Q][Y],[Q,a][Y]),w=new cS([0,Math.round(Q*.2)][Y],[Math.round(Q*.08),0][Y],j.Om.ub,j.Om.ub),N=(Y==0?G-n:W-g)/J.step;
for(var O=0;O<N;O++){if(Y==0)K.x=Math.round(L.x+O*T);else K.y=Math.round(L.y+O*T);j.mR(J.gf,K,D,h,K);
var s=(Y==0?n+O*J.step:Math.abs(g+O*J.step)).toString(10);for(var A=0;A<s.length;A++){if(Y==0)w.x=K.x+3+A*Math.round(j.Om.ub*.8);
else w.y=K.y+3+A*Math.round(j.Om.ub*1.15);var p=j.Om.S$[s[A]];j.mR(p,w,D,h,w)}}}F.bU=z;F.p=V;F.K$=t;
var q=Math.floor(Q*.6),f=new Uint32Array(F.s6.data.buffer),e=new Uint32Array(F.TR.data.buffer),o=x<128?4278190080:4294967295;
if(0<C&&C<I)for(var O=0;O<q;O++)f[O*I+C]=o;if(0<M&&M<c)for(var O=0;O<q;O++)e[M*Q+O]=o};j.scale={};j.scale.Ee=document.createElement("canvas");
j.scale.Tg=j.scale.Ee.getContext("2d");j.scale.Ui=function(F,r,$){var C=j.scale.Ee,M=j.scale.Tg;C.width=r;
C.height=$;var l=new ImageData(new Uint8ClampedArray(F.buffer),r,$);M.putImageData(l,0,0);return M.createPattern(M.canvas,"repeat")};
j.scale.a1r=function(F,r,$,C,M,l,k,d,I){var c=j.scale.aoT(F,$,C,M,l,k,d,I);if(r)r.set(c);return new Uint8Array(c.buffer)};
j.scale.aoT=function(F,r,$,C,M,l,k,d){var I=j.q6(r,$);I.save();I.rect(0,0,r,$);I.translate(l,k);I.scale(C,M);
if(d!=null)I.rotate(-d);I.fillStyle=F;I.fill();I.restore();return new Uint8Array(I.getImageData(0,0,r,$).data.buffer)};
j.scale.U=function(F,r,$,C,M){var l=j.cN(F),k=$.X==0&&$.gb==0,d=M.r,I=M.$,c=j.b.Vs(r,$).n,Q=j.b.qy(c,k).R7(M),x=Q.x,U=Q.y,S=x+Q.r,z=U+Q.$,V=~~r.x,t=~~r.y,Y=~~r.r,i=~~r.$;
if(k)for(var J=U;J<z;J++){var H=$.G0*(J+.5)+$.jw-t,v=~~H*Y;for(var n=x;n<S;n++){var G=$.xz*(n+.5)+$.P6-V,O=v+~~G;
if(l==8)C[J*d+n]=F[O];else if(l==16)C[J*d+n]=F[O]>>>8;else C[J*d+n]=F[O]*255}}else for(var J=U;J<z;J++)for(var n=x;
n<S;n++){var g=n+.5,W=J+.5,G=$.xz*g+$.gb*W+$.P6-V,H=$.X*g+$.G0*W+$.jw-t;if(0<=G&&0<=H&&G<Y&&H<i){var O=~~H*Y+~~G;
if(l==8)C[J*d+n]=F[O];else if(l==16)C[J*d+n]=F[O]>>>8;else C[J*d+n]=F[O]*255}}};j.scale.dq=function(F,r,$,C,M,l){var k=j.cN(F),d=new Uint32Array(F.buffer),I=new Uint32Array(C.buffer),c=M.r,Q=M.$,x=j.b.Vs(r,$).n,U=l?M:j.b.qy(x).R7(M),S=U.x,z=U.y,V=S+U.r,t=z+U.$,Y=~~r.x,i=~~r.y,J=~~r.r,H=~~r.$;
$=$.P();$.translate(-Y,-i);var v=$.pI(new hx(1,0)).Q1($.pI(new hx(0,0))),n=v.x,G=v.y;for(var g=z;g<t;
g++){var W=$.pI(new hx(S+.5,g+.5)),L=W.x,b=W.y,T=(g-M.y)*c+S-M.x;for(var a=S;a<V;a++){if(l){L=((J<<10)+L)%J;
b=((H<<10)+b)%H}if(0<=L&&0<=b&&L<J&&b<H){if(k==8)I[T]=d[~~b*J+~~L];else{var R=(~~b*J+~~L)*4,D,h,K,X;
if(k==16){D=F[R]>>>8;h=F[R+1]>>>8;K=F[R+2]>>>8;X=F[R+3]>>>8}else{D=F[R]*255;h=F[R+1]*255;K=F[R+2]*255;
X=F[R+3]*255}I[T]=X<<24|K<<16|h<<8|D}}L+=n;b+=G;T++}}};j.scale.zt=function(F,r,$,C,M,l,k){if(k<1)j.scale.awh(F,r,$,C,M,l,Math.round(1/k));
else j.scale.abZ(F,r,$,C,M,l,k)};j.scale.f1=function(F,r,$,C,M,l,k,d){if(d)d=d.R7(new cS(0,0,r,$));F=new Uint32Array(F.buffer);
C=new Uint32Array(C.buffer);if(k<1)j.scale.az4(F,r,$,C,M,l,Math.round(1/k),d);else j.scale.air(F,r,$,C,M,l,k)};
j.scale.abZ=function(F,r,$,C,M,l,k){for(var d=0;d<$;d++)for(var I=0;I<r;I++){var c=F[d*r+I],Q=Math.min(k,M-I*k),x=Math.min(k,l-d*k);
for(var O=0;O<x;O++)for(var U=0;U<Q;U++)C[(k*d+O)*M+k*I+U]=c}};j.scale.awh=function(F,r,$,C,M,l,k){for(var d=0;
d<l;d++)for(var I=0;I<M;I++){var c=0,Q=Math.min(k,r-I*k),x=Math.min(k,$-d*k);for(var O=0;O<x;O++)for(var U=0;
U<Q;U++)c+=F[(k*d+O)*r+(k*I+U)];C[d*M+I]=Math.round(c/(Q*x))}};j.scale.air=function(F,r,$,C,M,l,k){for(var d=0;
d<$;d++)for(var I=0;I<r;I++){var c=F[d*r+I],Q=Math.min(k,M-I*k),x=Math.min(k,l-d*k);for(var O=0;O<x;
O++)for(var U=0;U<Q;U++)C[(k*d+O)*M+k*I+U]=c}};j.scale.aem=function(F,r,$){return(F>>>$&255)+(r>>>$&255)>>>1};
j.scale.eI=function(F,r){var $=j.scale.aem;return $(F,r,24)<<24|$(F,r,16)<<16|$(F,r,8)<<8|$(F,r,0)};
j.scale.aCU=function(F,r,$,C,M,l){var k=j.cN(F);if(k==8){var d=new Uint32Array(F.buffer),I=new Uint32Array(C.buffer);
for(var c=0;c<$;c++){for(var Q=0;Q<r;Q++){var x=c*r+Q,U=d[x],S=U,z=U,V=U;if(Q<r-1)S=j.scale.eI(U,d[x+1]);
if(c<$-1)z=j.scale.eI(U,d[x+r]);if(Q<r-1&&c<$-1)V=j.scale.eI(U,d[x+r+1]);var t=(c*M+Q)*2;I[t]=U;I[t+1]=S;
I[t+M]=z;I[t+M+1]=V}}if((M&1)==1)for(var c=0;c<l;c++)I[c*M+M-1]=I[c*M+M-2];var Y=M*(l-1);if((l&1)==1)for(var Q=0;
Q<M;Q++)I[Y+Q]=I[Y-M+Q]}else{var i=j.scale.aJT,J=j.scale.aB5;for(var c=0;c<$;c++){for(var Q=0;Q<r;Q++){var x=c*r+Q,t=(c*M+Q)*2;
i(F,x,C,t);if(Q<r-1)J(F,x,x+1,C,t+1);else i(F,x,C,t+1);if(c<$-1)J(F,x,x+r,C,t+M);else i(F,x,C,t+M);if(Q<r-1&&c<$-1)J(F,x,x+r+1,C,t+M+1);
else i(F,x,C,t+M+1)}}if((M&1)==1)for(var c=0;c<l;c++)i(C,c*M+M-2,C,c*M+M-1);var Y=M*(l-1);if((l&1)==1)for(var Q=0;
Q<M;Q++)i(C,Y-M+Q,C,Y+Q)}};j.scale.aJT=function(F,r,$,C){var M=r<<2,l=C<<2;$[l]=F[M];$[l+1]=F[M+1];$[l+2]=F[M+2];
$[l+3]=F[M+3]};j.scale.aB5=function(F,r,$,C,M){var l=r<<2,k=$<<2,d=M<<2;C[d]=(F[l]+F[k])*.5;C[d+1]=(F[l+1]+F[k+1])*.5;
C[d+2]=(F[l+2]+F[k+2])*.5;C[d+3]=(F[l+3]+F[k+3])*.5};j.scale.az4=function(F,r,$,C,M,l,k,d){var I=0,c=M,Q=0,x=l;
if(d){I=Math.floor(d.x/k);c=Math.ceil((d.x+d.r)/k);Q=Math.floor(d.y/k);x=Math.ceil((d.y+d.$)/k)}for(var U=Q;
U<x;U++)for(var S=I;S<c;S++){var z=0,V=0,t=0,Y=0,i=Math.min(k,r-S*k),J=Math.min(k,$-U*k);for(var O=0;
O<J;O++)for(var H=0;H<i;H++){var v=F[(k*U+O)*r+k*S+H],n=v>>>24;z+=n;V+=n*(v>>>16&255);t+=n*(v>>>8&255);
Y+=n*(v&255)}if(z!=0){var G=1/z;C[U*M+S]=z/(i*J)<<24|V*G<<16|t*G<<8|Y*G}else C[U*M+S]=0}};j.d=function(){function F(d,I,O){return(128&d[O-I-1]&d[O-I]&d[O-2]&d[O-1]&d[O+1]&d[O+I-1]&d[O+I])==0}function r(d,I,O){return(128&d[O-I-I]&d[O-I+1]&d[O+2]&d[O+I+1]&d[O+I+I])==0}function $(d,I,O){return(d[O-I]&d[O-1]&d[O+1]&d[O+I]&128)==0}function C(d,O){return(d[O]&128)!=0}function M(d,I,c,Q){var O=0,x=c.r,U=c.$;
if(Q)for(var S=0;S<U;S++)for(var z=0;z<x;z++){if(C(d,O)&&(z<2||S<2||z>x-3||S>U-3||((d[O-1]&128)==0||I[O-1]!=0)&&F(d,x,O)||r(d,x,O)))I[O]=255;
O++}else for(var S=0;S<U;S++)for(var z=0;z<x;z++){if(C(d,O)&&(z==0||S==0||z==x-1||S==U-1||$(d,x,O)))I[O]=255;
O++}}function l(d,I,c,Q,x){var U=c.r,S=c.$,z=new Uint8Array(I.buffer),V=new Uint32Array(I.buffer);if(x)for(var t=2;
t<S-2;t++)for(var Y=2;Y<U-2;Y++){var O=t*U+Y;if(C(d,O)&&(((d[O-1]&128)==0||V[O-1]!=0)&&F(d,U,O)||r(d,U,O)))V[O]=Q[(Y+t&4)>>>2]}else for(var t=1;
t<S-1;t++)for(var Y=1;Y<U-1;Y++){var O=t*U+Y;if(C(d,O)&&$(d,U,O)){V[O]=Q[(Y+t&4)>>>2]}}}function k(d,I,c,Q,x){var U=c.r,S=c.$,z=new Uint8Array(I.buffer),V=new Uint32Array(I.buffer),O=0;
if(Q==1)for(var t=0;t<S;t++)for(var Y=0;Y<U;Y++,O++){var i=d[O];V[O]=255-i>>>1<<24|255}else for(var t=0;
t<S;t++)for(var Y=0;Y<U;Y++,O++){var i=d[O];V[O]=255<<24|(i<<16|i<<8|i)}}return{agj:M,a9g:l,aIf:k}}();
j.nu={};j.nu.zv=function(F,r,$){var C,M;if($==0){C=F.S.P();M=j.nu.aCe}if($==1){C=F.S.DM(r.S);M=j.nu.DM}if($==2){C=r.S.P();
M=j.nu.aFo}if($==3){C=F.S.R7(r.S);M=j.nu.R7}if($==4){C=F.S.DM(r.S);M=j.nu.ajD}if(C.XS())return null;
var l=j.cN(F.G),k=j.j(C.C(),l);j.wU(r.G,r.S,k,C);var d=j.j(C.C(),l);j.wU(F.G,F.S,d,C);M(d,k,k);var I=j.BM(k,C);
if(I.XS())return null;if(!I.Mp(C)){var c=j.j(I.C(),l);j.wU(k,C,c,I);k=c;C=I}return{G:k,S:C}};j.nu.aCe=function(F,r,$){for(var O=0;
O<F.length;O++)$[O]=F[O]};j.nu.DM=function(F,r,$){var C=j.zV(j.cN(F));for(var O=0;O<F.length;O++)$[O]=Math.min(F[O]+r[O],C)};
j.nu.aFo=function(F,r,$){for(var O=0;O<F.length;O++)$[O]=Math.max(r[O]-F[O],0)};j.nu.R7=function(F,r,$){var C=j.zV(j.cN(F)),M=1/C;
for(var O=0;O<F.length;O++)$[O]=F[O]*r[O]*M};j.nu.ajD=function(F,r,$){var C=j.zV(j.cN(F)),M=1/C;for(var O=0;
O<F.length;O++)$[O]=Math.min(F[O]+r[O],C)-F[O]*r[O]*M};j.aO=function(F,r){this.m=[];this.jt=[0];this.Dv=[];
this.tS=[];this.q9=[0];this.iv=[];this.Q4=[];this.rows=F;this.cols=r};j.aO.prototype.P=function(){var F=this,r=F.rows,$=F.cols,C=new j.aO(r,$);
C.m=F.m.slice(0);C.jt=F.jt.slice(0);C.Dv=F.Dv.slice(0);C.tS=F.tS.slice(0);C.q9=F.q9.slice(0);C.iv=F.iv.slice(0);
C.Q4=F.Q4.slice(0);return C};j.aO.prototype.Mj=function(F,r,$){var C=this.jt.length-1;for(var O=0;O<$;
O++){var M=F[O],l=r[O];this.m.push(M);this.Dv.push(l);if(l==C){this.Q4.push(M==0?0:1/M)}else{this.tS.push(M);
this.iv.push(l)}}this.jt.push(this.m.length);this.q9.push(this.tS.length)};j.aO.prototype.fk=function(F,r){var $=this,C=$.rows,M=$.m,l=$.Dv;
if(r==null)r=new Array(C);for(var O=0;O<C;O++){var k=$.jt[O],d=$.jt[O+1],I=0;while((d-k&3)!=0){I+=M[k]*F[l[k]];
k++}for(var c=k;c<d;c+=4)I+=M[c]*F[l[c]]+M[c+1]*F[l[c+1]]+M[c+2]*F[l[c+2]]+M[c+3]*F[l[c+3]];r[O]=I}return r};
j.aO.prototype.multiply=function(F){return this.MK(F.Mk())};j.aO.prototype.MK=function(F){var r=this,$=r.rows,C=r.cols,M=F.rows,l=new j.aO($,M),k=r.Dv,d=F.Dv;
for(var O=0;O<$;O++){var I=[],c=[],Q=r.jt[O],x=r.jt[O+1];for(var U=0;U<M;U++){var S=F.jt[U],z=F.jt[U+1],V=0,t=Q,Y=S;
while(t<x&&Y<z){var i=Math.max(k[t],d[Y]);while(t<x&&k[t]<i)t++;while(Y<z&&d[Y]<i)Y++;if(t<x&&Y<z&&k[t]==d[Y])V+=r.m[t++]*F.m[Y++]}if(V!=0){I.push(V);
c.push(U)}}l.Mj(I,c,I.length)}return l};j.aO.prototype.Mk=function(){var F=this.rows,r=this.cols,$=[];
for(var O=0;O<r;O++)$.push([[],[]]);var C=this.m,M=this.jt,l=this.Dv;for(var O=0;O<F;O++){var k=M[O],d=M[O+1];
for(var I=k;I<d;I++){var c=$[l[I]];c[0].push(C[I]);c[1].push(O)}}var Q=new j.aO(r,F);for(var O=0;O<r;
O++)Q.Mj($[O][0],$[O][1],$[O][1].length);return Q};j.aO.prototype.a2p=function(){var F=this.rows,r=this.cols,$=new Array(F),C=this.m,M=this.jt,l=this.Dv;
for(var O=0;O<F;O++){var k=$[O]=new Array(r);for(var d=0;d<r;d++)k[d]=0;var I=M[O],c=M[O+1];for(var Q=I;
Q<c;Q++)k[l[Q]]=C[Q]}return $};j.aO.prototype.LJ=function(F,r,$,C,M){function l(G,r,g,W){var L=G.length;
for(var O=0;O<L;O++)W[O]=G[O]-r[O]*g}function k(G,r,g,W){var L=G.length,b=0;while((L-b&3)!=0){W[b]=G[b]+r[b]*g;
b++}for(var O=b;O<L;O+=4){W[O]=G[O]+r[O]*g;W[O+1]=G[O+1]+r[O+1]*g;W[O+2]=G[O+2]+r[O+2]*g;W[O+3]=G[O+3]+r[O+3]*g}}function d(G,r,g){var W=G.length;
for(var O=0;O<W;O++)g[O]=G[O]*r[O]}function I(G,r){var g=G.length,W=0,L=0;while((g-W&3)!=0){L+=G[W]*r[W];
W++}for(var O=W;O<g;O+=4)L+=G[O]*r[O]+G[O+1]*r[O+1]+G[O+2]*r[O+2]+G[O+3]*r[O+3];return L}var c=C!=null?2:1,Q=Date.now(),x=0,U=this,S=F.slice(0),z=F.slice(0);
U.fk(F,z);l(r,z,1,S);var V=this.Q4;if(c==0){V=S.slice(0);V.fill(1)}var t=S.slice(0);d(V,S,t);var Y=t.slice(0),i=I(S,t);
while(!0){U.fk(Y,z);var J=i/I(Y,z);k(F,Y,J,F);l(S,z,J,S);if((x&7)==0&&Math.sqrt(I(S,S))<$)break;if(c<=1)d(V,S,t);
else{var H=S.slice(0);C.ac9(H,S);M.aun(t,H)}var v=I(S,t),n=v/i;k(t,Y,n,Y);i=v;x++}};j.aO.prototype.ajE=function(F,r,$,C){var M=Date.now(),l=1.96,d=0;
if($==null)$=5e-6;if(C==null)C=1e9;var k=1-l,bU=this.rows,I=this.tS,c=this.q9,Q=this.iv,x=this.Q4;while(!0){var U=0;
for(var O=0;O<bU;O++){var S=r[O],z=c[O],V=c[O+1];if(V-z==4)S-=I[z]*F[Q[z]]+I[z+1]*F[Q[z+1]]+I[z+2]*F[Q[z+2]]+I[z+3]*F[Q[z+3]];
else for(var t=z;t<V;t++)S-=I[t]*F[Q[t]];var Y=F[O]*k+x[O]*S*l,i=Y-F[O];U+=i*i;F[O]=Y}if(U/bU<$||Date.now()>M+C)break}};
j.aO.prototype.aEr=function(F,r,$,C){var M=Date.now(),l=1.96,d=0;if($==null)$=5e-5;if(C==null)C=1e9;
var k=1-l,bU=this.rows,I=this.tS,c=this.q9,Q=this.iv,x=this.Q4;while(!0){var U=0;for(var O=0;O<bU;O++){var S=O*3,z=r[S],V=r[S+1],t=r[S+2],Y=c[O],i=c[O+1];
for(var J=Y;J<i;J++){var H=I[J],v=Q[J]*3;z-=H*F[v+0];V-=H*F[v+1];t-=H*F[v+2]}var n=x[O]*l,G=F[S+0]*k+z*n,g=F[S+1]*k+V*n,W=F[S+2]*k+t*n,L=G-F[S+0],b=g-F[S+1],T=W-F[S+2];
U+=.4*L*L+.5*b*b+.1*T*T;F[S+0]=G;F[S+1]=g;F[S+2]=W}if(U/bU<$||Date.now()>M+C)break}};j.Jw={};j.Jw.ie=function(F,r,$){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:F},Vrtc:{t:"doub",v:r},Cnty:{t:"bool",v:$}}}};
j.Jw.U=function(F,r){for(var O=0;O<F.length;O++){var $=F[O].v,C=r.pI(new hx($.Hrzn.v,$.Vrtc.v));$.Hrzn.v=Math.round(C.x);
$.Vrtc.v=Math.round(C.y)}};j.Jw.arl=function(F,r,$){var bU=F.length-1,C=j.VF.wN(bU+1,bU+2);for(var O=1;
O<bU;O++){C[O][O-1]=1/(F[O]-F[O-1]);C[O][O]=2*(1/(F[O]-F[O-1])+1/(F[O+1]-F[O]));C[O][O+1]=1/(F[O+1]-F[O]);
C[O][bU+1]=3*((r[O]-r[O-1])/((F[O]-F[O-1])*(F[O]-F[O-1]))+(r[O+1]-r[O])/((F[O+1]-F[O])*(F[O+1]-F[O])))}C[0][0]=2/(F[1]-F[0]);
C[0][1]=1/(F[1]-F[0]);C[0][bU+1]=3*(r[1]-r[0])/((F[1]-F[0])*(F[1]-F[0]));C[bU][bU-1]=1/(F[bU]-F[bU-1]);
C[bU][bU]=2/(F[bU]-F[bU-1]);C[bU][bU+1]=3*(r[bU]-r[bU-1])/((F[bU]-F[bU-1])*(F[bU]-F[bU-1]));j.VF.cr(C,$)};
j.Jw.aDf=function(F,r,$,C){if(F<=r[0])return $[0];if(F>=r[r.length-1])return $[r.length-1];var O=1;while(r[O]<F)O++;
var M=r[O],l=r[O-1],k=$[O],d=$[O-1],I=(F-l)/(M-l),c=C[O-1]*(M-l)-(k-d),Q=-C[O]*(M-l)+(k-d),x=(1-I)*d+I*k+I*(1-I)*(c*(1-I)+Q*I);
return x};j.Jw.afY=function(F,r,$,C){var M={jL:[F[0]],Ql:[r[0]],T1:[]};C[0]=M;for(var O=1;O<F.length-1;
O++){M.jL.push(F[O]);M.Ql.push(r[O]);if($[O]==!1){j.Jw.arl(M.jL,M.Ql,M.T1);M={jL:[F[O]],Ql:[r[O]],T1:[]}}C[O]=M}M.jL.push(F[O]);
M.Ql.push(r[O]);j.Jw.arl(M.jL,M.Ql,M.T1);C[O]=M};j.Jw.aA4=function(F,r,$,C){if(F<=r[0])return $[0];if(F>=r[r.length-1])return $[r.length-1];
var O=1;while(r[O]<F)O++;var M=C[O-1];return j.Jw.aDf(F,M.jL,M.Ql,M.T1)};j.Jw.aHy=function(F){var r={jL:[],Ql:[],Vi:[]};
for(var O=0;O<F.length;O++){r.jL[O]=F[O].v.Hrzn.v;r.Ql[O]=F[O].v.Vrtc.v;r.Vi[O]=F[O].v.Cnty?F[O].v.Cnty.v:!0}return r};
j.Jw.kT=function(F,bU,r){var $=0,C=255;if(r){$=-1e9;C=1e9}var M=j.Jw.aHy(F),l=[];j.Jw.afY(M.jL,M.Ql,M.Vi,l);
var k=new Float32Array(bU);for(var O=0;O<bU;O++)k[O]=1/255*Math.max($,Math.min(C,j.Jw.aA4(O*(255/(bU-1)),M.jL,M.Ql,l)));
return k};j.Jw.ayr=function(F,bU,r){var $=Math.round(F.length/20),C=bU-F.length,M=r?(F[$]-F[0])/$:0,l=r?F[0]-C*M:F[F.length-1],k=new Float32Array(bU);
k.set(F,r?C:0);for(var O=0;O<C;O++)k[O+(r?0:C)]=l+O*M;return k};j.Jw.v9=function(F,bU,r){var $=j.Jw.aHy(F),C=[];
j.Jw.afY($.jL,$.Ql,$.Vi,C);var M=new Uint8Array(bU),l=bU/256;for(var O=0;O<bU;O++)M[O]=Math.max(0,Math.min(bU-1,j.Jw.aA4(O*l,$.jL,$.Ql,C)));
if(r){M[0]=0;if(M[1]>100)M[1]=.4*M[1];if(M[2]>150)M[1]=.7*M[2]}return M};j.Jw.akt=function(F,r){var $=new Uint8Array(F.length);
for(var O=0;O<F.length;O++)$[O]=r[F[O]];return $};j.Jw.a4L=function(F,r){var $=r.length,C=new Float32Array($);
for(var O=0;O<$;O++)C[O]=r[~~(F[O]*($-1))];return C};j.Jw.SM=function(F,r,$){var C=document.createElement("canvas");
C.width=r;C.height=$;var M=C.getContext("2d"),l=j.Jw.v9(F,256);M.scale(r/255,$/255);M.fillStyle="#fff";
M.fillRect(0,0,255,255);M.fillStyle="#333";M.beginPath();M.moveTo(0,255);for(var O=0;O<l.length;O++)M.lineTo(O,255-l[O]);
M.lineTo(255,255);M.closePath();M.fill();return C.toDataURL()};j.style={};j.style.stroke=function(F,r,$,C){var M=$.r,l=$.$,k=j.style.jh(F,M,l);
j.style.u9(r,$,k,$,C)};j.style.u9=function(F,r,$,C,M){var l=r.R7(C),k=l.r,d=l.$;M+=.5;var I=l.x-r.x,c=l.y-r.y,Q=r.r,x=l.x-C.x,U=l.y-C.y,S=C.r;
for(var z=0;z<d;z++){var V=(z+U)*S+x,t=(z+c)*Q+I;for(var Y=0;Y<k;Y++){var i=Math.max(0,Math.min(1,M-$[V+Y]));
F[t+Y]=Math.round(i*255)}}};j.style.amy=function(F,r,$,C){for(var M=0;M<$;M++)for(var l=0;l<r;l++){var k=M*r+l,d=0,I=0,c=F[k];
if(l==0||M==0){d=F[k+1]-c;I=F[k+r]-c}else if(l==$-1||M==r-1){d=c-F[k-1];I=c-F[k-r]}else{d=F[k+1]-F[k-1];
I=F[k+r]-F[k-r]}if(d!=0||I!=0){var Q=1/Math.sqrt(d*d+I*I);d*=Q;I*=Q}C[k+k]=d;C[k+k+1]=I}};j.style.jh=function(F,r,$){var C=r*$,M=new ArrayBuffer((C+r*4)*4),l=new Float32Array(M,0,C),k=new Uint16Array(M,0,C<<1),d=new Int32Array(M,C*4,r),I=new Int32Array(M,(C+r)*4,r),c=new Int32Array(M,(C+r*2)*4,r),Q=new Int32Array(M,(C+r*3)*4,r),x=1/255;
for(let O=0;O<r;++O){let U=-$-r,S=0,z=O,V=0;for(;V<$;++V,z+=r){if(F[z]>128)U=V,S=F[z];k[z<<1]=V-U;k[(z<<1)+1]=S}U=k[z+=z-r-r],S=k[z+1];
for(;V>1;--V){if(k[z-=r+r]>U)k[z]=++U,k[z+1]=S;else U=k[z],S=k[z+1]}}for(let t=0;t<C;t+=r){var Y=t+r,i=k[t<<1]*k[t<<1],J=0;
let H=d[0]=t,v=I[0]=t,n=i,G=n;for(let z=t+1;z<Y;++z){var g=k[z<<1]*k[z<<1];while(J&&G>(v-z)*(v-z)+g){v=I[--J],H=d[J],n=k[H<<1]*k[H<<1],G=(v-H)*(v-H)+n}if(J||G<=(v-z)*(v-z)+g){var W=z-H,L=t+Math.floor((W*(z+H-t-t)+g-n)/(W<<1))+1;
if(L<Y){v=I[++J]=L,H=d[J]=z,n=g,G=(v-H)*(v-H)+n}}else v=t,H=d[0]=z,n=g,G=(v-H)*(v-H)+n}for(let O=0;O<J;
++O){var b=d[O]<<1;c[O]=k[b]*k[b];Q[O]=k[b+1]}let T=.5-k[(d[J]<<1)+1]*x;for(let z=Y-1;z>=t;--z){l[z]=Math.max(0,Math.sqrt((z-H)*(z-H)+n)+T);
if(J&&z==v){v=I[--J],H=d[J],n=c[J],T=.5-Q[J]*x}}}return l};j.style.aEP=function(F,r,$){var C=new Float64Array(r*$),M=0,l=r*$;
for(var O=0;O<l;O++)M|=F[O];if(M==0){C.fill(1e9);return}var k=j.style.ZE(F,r,$);for(var d=0;d<$;d++)for(var I=0;
I<r;I++){var O=d*r+I,c=k[O*2],Q=k[O*2+1];if(c==0&&Q==0){C[O]=0;continue}var x=Math.sqrt(c*c+Q*Q),U=F[(d+Q)*r+I+c]*(1/255);
C[O]=x+.5-U}return C};j.style.aJu=function(F,r,$){return(.5-$)*F};j.style.ZE=function(F,r,$,C){var M=new Int16Array(r*$*2);
j.style.ara(F,M,r,$,128);return M};j.style.ara=function(F,r,$,C,M){var l=new Int32Array($*C);j.style.ajv(F,l,$,C,M);
j.style.ahI(l,r,$,C)};j.style.ajv=function(F,r,$,C,M){var l=new Int32Array(C);for(var k=0;k<$;k++){var d=$+C;
for(var I=C-1;I>=0;I--){if(F[I*$+k]>M)d=0;else d++;l[I]=d}d=$+C;for(var I=0;I<C;I++){if(F[I*$+k]>M)d=0;
else d++;r[I*$+k]=d<l[I]?-d:l[I]}}};j.style.ahI=function(F,r,$,C){var M=($+C)*($+C),l=new Float64Array($),k=new Uint16Array($);
for(var d=0;d<C;d++){var I=d*$,c=0;k[0]=0;l[0]=-M;l[1]=+M;for(var Q=1;Q<$;Q++){var x=F[Q+I]*F[Q+I]+Q*Q,U=(x-(F[k[c]+I]*F[k[c]+I]+k[c]*k[c]))/(2*Q-2*k[c]);
while(U<=l[c]){c--;U=(x-(F[k[c]+I]*F[k[c]+I]+k[c]*k[c]))/(2*Q-2*k[c])}c++;k[c]=Q;l[c]=U;l[c+1]=M}c=0;
for(var Q=0;Q<$;Q++){while(l[c+1]<Q)c++;var S=k[c]-Q,z=F[k[c]+I],O=d*$+Q<<1;r[O]=S;r[O+1]=z}}};j.style.o8=function(F,r,$){if($)for(var O=0;
O<F.length;O++){var C=F[O];if(C>0)F[O]=Math.max(0,Math.min(255,C+r*2*(j.style.oD(O)-128)))}else for(var O=0;
O<F.length;O++){var C=F[O];if(C>0)F[O]=Math.max(0,Math.min(255,C+Math.min(C*3,r*2*(j.style.oD(O)-128))))}};
j.style.oD=function(F){F=F^61^F>>16;F=F+(F<<3);F=F^F>>4;F=F*668265261;F=F^F>>15;return F&255};j.DA={};
j.DA.kN=function(F,r,$){var C=F.canvas;if(C.width!=r||C.height!=$){C.width=r;C.height=$}};j.DA.hC=function(F,r,$,C,M,l){var k=j.cN(M.G),d=k==8?255:k==16?65535:1,I=1/d;
j.DA.kN(F,r,$);if(l==null)l=!1;var c=M.G,Q=M.S,x=!M.isEnabled;if(r*$==0)return;var U=new ImageData(r,$),S=U.data,z=1/r,V=1/$,t=M.color/255;
for(var O=0;O<$;O++)for(var Y=0;Y<r;Y++){var i=(O*r+Y)*4,J=Math.round(C.x+Y*z*C.r),H=Math.round(C.y+O*V*C.$),v=0;
if(J<Q.x||J>=Q.x+Q.r||H<Q.y||H>=Q.y+Q.$)v=t;else v=c[(H-Q.y)*Q.r+(J-Q.x)]*I;v=255-M.nn+v*M.nn;if(l)v=170+Math.round(.4*(v-170));
S[i]=v;S[i+1]=v;S[i+2]=v;S[i+3]=255}F.putImageData(U,0,0);if(x)j.DA.a1G(F,r,$)};j.DA.axk={};j.DA.avB=function(F,r,$,C){var M,l,k;
M=Math.ceil(Math.max(r,$)*.35);l=r-M;k=$-M;var d=C.generativeDocInfo,I=M+"-"+(d?1:0),c=j.DA.axk[I];if(c==null){var Q=j.q6(M,M),x=Math.round(M*.27),U=Q.lineWidth=Math.max(1,Math.round(M*.12)),S=U/2;
if(d){Q.fillStyle="black";Q.fillRect(0,0,M,M);Q.beginPath();for(var z=0;z<1;z++)for(var O=0;O<10;O++){var V=-Math.PI/2+O*2*Math.PI/10,t=((O&1)==0?1:.4)*M*.52,Y=.5,i=.52;
Y=M*Y+Math.cos(V)*t;i=M*i+Math.sin(V)*t;if(O==0)Q.moveTo(Y,i);else Q.lineTo(Y,i)}Q.closePath();Q.fillStyle="white";
Q.fill()}else{Q.fillStyle="#eeeeee";Q.fillRect(0,0,M,M);Q.strokeRect(1+S,1+S,M-U-2,M-U-2);Q.strokeRect(x+S,x+S,M-x-x-U,M-x-x-U)}c=j.DA.axk[I]=Q.getImageData(0,0,M,M)}F.putImageData(c,l,k)};
j.DA.atR=[];j.DA.aGK=function(F,r,$){var C,M,l;C=Math.ceil(Math.max(r,$)*.35);M=r-C;l=$-C;var k=j.DA.atR[C];
if(k==null){var d=j.q6(C,C);d.fillStyle="#eeeeee";d.fillRect(0,0,C,C);d.lineWidth=1;d.strokeRect(2.5,2.5,C-5,C-5);
var I=new ImageData(3,3),c=I.data;j.A9(c,4278190080);c[4*4]=c[4*4+1]=c[4*4+2]=238;d.putImageData(I,1,1);
d.putImageData(I,C-4,1);d.putImageData(I,1,C-4);d.putImageData(I,C-4,C-4);k=j.DA.atR[C]=d.getImageData(0,0,C,C)}F.putImageData(k,M,l)};
j.DA.a3i=function(F,r,$,C,M,l){j.DA.kN(F,r,$);var k=r/C.r;if(r*$==0)return;F.fillStyle="#999999";F.setTransform(1,0,0,1,0,0);
F.clearRect(0,0,r,$);F.save();var d=j.DA.as3;if(d==null)d=j.DA.as3=cK.Ok.Mv(!0,!0);d.strokeStyleLineWidth.v.val=1/k;
F.fillStyle="#ffffff";F.scale(k,k);j.w.gW(M.M,F,0,0);j.w.gW(M.M,F,0,0,d);F.restore();if(l){F.save();
var I=r*.4,c=$*.4;F.fillRect(r-I,$-c,I,c);F.beginPath();F.moveTo(r-I/2,$-c);F.lineTo(r-I/2,$);F.setLineDash([3,3]);
F.stroke();F.restore()}};j.DA.ayC=function(F,r,$,C,M){j.DA.kN(F,r,$);if(r*$==0)return;F.setTransform(1,0,0,1,0,0);
F.fillStyle="white";F.fillRect(0,0,r,$);var l=M.z,k;if(l.add.SoLd)k=B.hL.$M(l.add.SoLd.nonAffineTransform);
else if(l.add.vmsk)k=l.add.vmsk.g3();else if(l.add.TySh){if(l.FM.gt==null)return;k=j.b.Vs(l.FM.gt).n;
j.b.U(k,l.add.TySh.U,k)}var d=j.b.sY(k),I=Math.min(r/d.r,$/d.$),c=d.r*I,Q=d.$*I;F.translate(-d.x*I+(r-c)*.5,-d.y*I+($-Q)*.5);
F.scale(I,I);M.Pu(C,F,null,null)};j.DA.arb=null;j.DA.lx=function(F,r,$,C,M,l,k,d,I){j.DA.kN(F,r,$);if(r*$==0)return;
var c=Math.max(r,$),Q=j.DA.arb;if(Q==null||Q.width<c||Q.height<c){j.DA.arb=Q=new ImageData(c,c)}c=Q.width;
var x=Q.data,U=C.r/r,S=C.$/$,z=l.x,V=l.x+l.r,t=l.y,Y=l.y+l.$,i=j.cN(M)-8;for(var O=0;O<$;O++)for(var J=0;
J<r;J++){var H=O*c+J,v=H*4,n=~~(C.x+J*U),G=~~(C.y+O*S),g=j.adT(O,J,2);if(n<z||n>=V||G<t||G>=Y||I){x[v]=g;
x[v+1]=g;x[v+2]=g;x[v+3]=255}else{var W=(G-l.y)*l.r+(n-l.x)<<2;if(i!=24){var L=(M[W+3]>>>i)*(1/255);
x[v]=(M[W+0]>>>i)*L+g*(1-L);x[v+1]=(M[W+1]>>>i)*L+g*(1-L);x[v+2]=(M[W+2]>>>i)*L+g*(1-L)}else{var L=M[W+3];
x[v]=M[W+0]*L*255+g*(1-L);x[v+1]=M[W+1]*L*255+g*(1-L);x[v+2]=M[W+2]*L*255+g*(1-L)}x[v+3]=255}}if(d!=null)for(var O=0;
O<x.length;O+=4)x[O]=x[O+1]=x[O+2]=x[O+d];F.putImageData(Q,0,0);if(k)j.DA.a1G(F,r,$)};j.DA.a99=function(F,r,$,C){j.DA.kN(F,r,$);
F.fillStyle=j.DA.MB(C.Clr.v);F.fillRect(0,0,r,$);j.DA.Os(F,r,$)};j.DA.hA=null;j.DA.amK=function(F,r,$,C){j.DA.kN(F,r,$);
var M=F.canvas.width,l=F.canvas.height,k=j.DA.hA;if(k==null||k.width!=M||k.height!=l){F.fillStyle="#ffffff";
F.fillRect(0,0,r,$);F.fillStyle="#000000";F.font=""+$*.7+"px serif";F.fillText("T",(r-$*.43)/2,$*.75);
F.fillText("T",(r-$*.43)/2,$*.75);j.DA.hA=F.getImageData(0,0,M,l)}else F.putImageData(k,0,0)};j.DA.a7T=function(F,r,$){j.DA.kN(F,r,$);
F.clearRect(0,0,r,$);F.font=$*.7+"px serif";F.fillText(":(",(r-$*.43)/2,$*.7)};j.DA.aro=function(F,r,$,C){j.DA.kN(F,r,$);
var M=f0.get(C),l=F.canvas.width,k=j.DA.ar9[l+M];if(k==null){var d=PIMG["adj/"+M],I=dN.Pf(d),c=UPNG.decode(I.buffer),Q=new Uint8Array(UPNG.toRGBA8(c)[0]),x=new cS(0,0,160,160),U=0,S=l-U*2,z=B.hL.yF([Q,x],new hS(S/160,0,0,S/160,0,0)),V=new cS(0,0,l,l),t=j.j(V.C()*4);
j.v.O5("norm",z.buffer,z.S,t,V,z.S,1);k=j.DA.ar9[l+M]=new ImageData(new Uint8ClampedArray(t.buffer),l,l)}F.putImageData(k,0,0)};
j.DA.ar9={};j.DA.a7J=function(F,r,$,C){j.DA.kN(F,r,$);var M=F.canvas.width,l=F.canvas.height,k=F.getImageData(0,0,M,l);
j.qS.T0(C.Grad.v,new Uint8Array(k.data.buffer),new cS(0,0,M,l),[1/M,0,0,1/l],M/2,l/2,!1,0,16711680,65280);
F.putImageData(k,0,0);j.DA.Os(F,r,$)};j.DA.aEk=function(F,r,$,C,M){j.DA.kN(F,r,$);var l=F,k=en.Qv(C.Ptrn.v,M.add.Patt);
if(k==null)return;var d=k.t6[1];j.DA.lx(F,r,$,d,k.t6[0],d,!1);j.DA.Os(l,r,$)};j.DA.a1G=function(F,r,$){F.strokeStyle="#bb0000";
F.lineWidth=3;F.beginPath();F.moveTo(r*.15,$*.15);F.lineTo(r*.85,$*.85);F.moveTo(r*.85,$*.15);F.lineTo(r*.15,$*.85);
F.closePath();F.stroke()};j.DA.Os=function(F,r,$){F.fillStyle="#eeeeee";F.fillRect(0,$*.75,r,$*.25);
F.beginPath();F.moveTo(0,$*.75);F.lineTo(r,$*.75);F.moveTo(r*.1,$*.875);F.lineTo(r*.9,$*.875);F.moveTo(r*.65,$*.825);
F.lineTo(r*.65,$*.95);F.closePath();F.stroke()};j.DA.MB=function(F){var r=j.qS.MB(F),$=Math.round(r.t)<<16|Math.round(r.L)<<8|Math.round(r.X);
return"#"+j.lN($)};j.w={};j.w._f=function(F,r,$){var C=[],M=-1;for(var O=0;O<F.length;O++){var l=F[O];
if((l.I==0||l.I==3)&&l.ea!=-1)M++;if(l.I>5||l.I==0||l.I==3)continue;if(r!=null&&r.indexOf(M)==-1)continue;
if($!=null&&$.indexOf(O)==-1)continue;C.push(l.ni.x);C.push(l.ni.y);C.push(l.Z.x);C.push(l.Z.y);C.push(l.Pj.x);
C.push(l.Pj.y)}return C};j.w.pp=function(F,r,$,C){var M=0,l=-1;for(var O=0;O<r.length;O++){var k=r[O];
if((k.I==0||k.I==3)&&k.ea!=-1)l++;if(k.I>5||k.I==0||k.I==3)continue;if($!=null&&$.indexOf(l)==-1)continue;
if(C!=null&&C.indexOf(O)==-1)continue;k.ni.I_(F[M],F[M+1]);k.Z.I_(F[M+2],F[M+3]);k.Pj.I_(F[M+4],F[M+5]);
M+=6}};j.w.J_=function(F,r,$,C){var M=j.w._f(F,$,C);j.b.U(M,r,M);j.w.pp(M,F,$,C)};j.w.ax5=function(F,r,$,C){var M=j.w._f(F,$,C);
j.H.U(r,M);j.w.pp(M,F,$,C)};j.w.ao8=function(F,r,$,C){if(C==null){var M=j.w.ail(F,40,$);for(var O=0;
O<M.length;O++)F[O]=M[O]}var l=j.w._f(F,$,C);j.$$.U(r,l,j.b.sY(l));j.w.pp(l,F,$,C)};j.w.ail=function(F,r,$){var C=[],M=-1;
for(var O=0;O<F.length;O++){var l=F[O],k=l.length;if(l.I>5){C.push(j.N(l));continue}l=j.N(l);C.push(l);
if(l.ea!=-1)M++;if($&&$.indexOf(M)==-1){C=C.concat(F.slice(O+1,O+1+k))}else{var d=j.w.aE5(F,O+1,k);d=j.b.V0(d,r);
var I=j.w.aIC(d);l.length=I.length;for(var c=0;c<I.length;c++)C.push(I[c])}O+=k}return C};j.w.aE5=function(F,r,$){var C={C0:["M"],n:[]},M=F[r],l=F[r+$-1];
C.n.push(M.Z.x,M.Z.y);for(var O=1;O<$;O++){var k=F[r+O-1],d=F[r+O];C.C0.push("C");C.n.push(k.Pj.x,k.Pj.y,d.ni.x,d.ni.y,d.Z.x,d.Z.y)}C.C0.push("C");
C.n.push(l.Pj.x,l.Pj.y,M.ni.x,M.ni.y,M.Z.x,M.Z.y);return C};j.w.aIC=function(F){var r=[],$=F.C0,C=F.n,M=0,bU=C.length;
r.push({I:2,ni:new hx(C[bU-4],C[bU-3]),Z:new hx(C[0],C[1]),Pj:new hx(C[2],C[3])});for(var O=0;O<$.length-2;
O++){var l=O*6+4;r.push({I:2,ni:new hx(C[l],C[l+1]),Z:new hx(C[l+2],C[l+3]),Pj:new hx(C[l+4],C[l+5])})}return r};
j.w.apN=function(F){for(var O=0;O<F.length;O++){if(F[O].I>5)continue;var r=F[O].length;if(!(r==4||r==6||r==8)){O+=r;
continue}for(var $=0;$<r;$++){var C=F[O+1+$],M=F[O+1+($+1)%r],l=Math.min(C.Z.x,M.Z.x),k=Math.min(C.Z.y,M.Z.y),d=0,I=0;
if(C.Z.x<M.Z.x){d=C.Z.y-k;I=d-(M.Z.x-l)}else{d=M.Z.y-k;I=d-(C.Z.x-l)}if(Math.abs(I)<.2*d)return d}}return-1};
j.w.t8=function(F,r,$){function C(U,S){var z=Math.min(U.x,S.x),V=Math.min(U.y,S.y),t=Math.max(U.x+U.r,S.x+S.r),Y=Math.max(U.y+U.$,S.y+S.$);
return new cS(z,V,t-z,Y-V)}var M=null,l=-1,k=!j.w.aR(F);for(var O=0;O<F.length;O++){var d=F[O];if(d.I>5)continue;
if((d.I==0||d.I==3)&&d.ea!=-1)l++;if(r!=null&&r.indexOf(l)==-1)continue;if(O==F.length-1)break;var I=d.I==3,c=d.length,Q=d.ea,x=j.w.wX(F,O+1,c,I);
if(M==null)M=x;else if($)M=C(M,x);else if(k){if(r!=null||Q==0||Q==-1||Q==2)M=C(M,x);else if(Q==1)M=M;
else if(Q==3){M=x;k=!1}}else{if(r!=null||Q==0||Q==-1||Q==1)M=C(M,x);else if(Q==2)M=M;else if(Q==3)M=M.R7(x)}O+=c}if(M==null||M.r<0||M.$<0)M=new cS(0,0,0,0);
return M};j.w.aa3=new Float64Array(4);j.w.wX=function(F,O,r,$){var C=j.w.aa3;C[0]=1e30;C[1]=1e30;C[2]=-1e30;
C[3]=-1e30;var M=F[O+r-1];if(!$)j.w.amq(M.Z.x,M.Z.y,M.Pj.x,M.Pj.y,F[O].ni.x,F[O].ni.y,F[O].Z.x,F[O].Z.y,C);
for(var l=O;l<O+r-1;l++){var k=F[l],d=F[l+1];j.w.amq(k.Z.x,k.Z.y,k.Pj.x,k.Pj.y,d.ni.x,d.ni.y,d.Z.x,d.Z.y,C)}return new cS(C[0],C[1],C[2]-C[0],C[3]-C[1])};
j.w.amq=function(F,r,$,C,M,l,k,d,I){if(F==$&&r==C&&M==k&&l==d){I[0]=Math.min(I[0],Math.min(F,k));I[1]=Math.min(I[1],Math.min(r,d));
I[2]=Math.max(I[2],Math.max(F,k));I[3]=Math.max(I[3],Math.max(r,d));return}var c=F,Q=r,x=F,U=r,S=40,z=1/(S-1);
for(var V=0;V<S;V++){var t=V*z,Y=1-t,i=Y*Y*Y,J=3*Y*Y*t,H=3*Y*t*t,v=t*t*t,n=i*F+J*$+H*M+v*k,G=i*r+J*C+H*l+v*d;
if(n<c)c=n;else if(n>x)x=n;if(G<Q)Q=G;else if(G>U)U=G}if(c<I[0])I[0]=c;if(Q<I[1])I[1]=Q;if(x>I[2])I[2]=x;
if(U>I[3])I[3]=U};j.w.aop=function(F,r){var $=F.length-3,C=r%$,M=Math.floor(C);if(r<0||M>=$)return null;
var l=F[3+M],k=F[3+(M+1)%$],d=l.Z,I=l.Pj,c=k.ni,Q=k.Z,x=C-M,U=1-x,S=U*U*U*d.x+3*U*U*x*I.x+3*U*x*x*c.x+x*x*x*Q.x,z=U*U*U*d.y+3*U*U*x*I.y+3*U*x*x*c.y+x*x*x*Q.y;
return new hx(S,z)};j.w.CS=function(F,r){var $=j.b.M5(F),C=$.Yk;$.Yk=Typr.U.pathToSVG({crds:C.n,cmds:C.C0},r==null?2:r);
return $};j.w.asm=function(F){var r=[],$=F.n,C=0,M=0,l=0,k=0,d=0,I=!0;for(var O=0;O<F.C0.length;O++){var c=F.C0[O];
if(c=="M"){if(!I&&(M!=k||l!=d))r.push(["L",[M,l],[k,d]]);k=M=$[C];d=l=$[C+1];C+=2;I=!1}else if(c=="L"){r.push(["L",[M,l],[$[C],$[C+1]]]);
M=$[C];l=$[C+1];C+=2}else if(c=="Q"){r.push(["Q",[M,l],[$[C],$[C+1]],[$[C+2],$[C+3]]]);M=$[C+2];l=$[C+3];
C+=4}else if(c=="C"){r.push(["C",[M,l],[$[C],$[C+1]],[$[C+2],$[C+3]],[$[C+4],$[C+5]]]);M=$[C+4];l=$[C+5];
C+=6}else if(c=="Z"){}else throw c}if(!I&&(M!=k||l!=d))r.push(["L",[M,l],[k,d]]);return r};j.w.SG=function(F){var r=Date.now(),$;
j.w.CL();var C=j.w.ez(F),M=[];for(var O=0;O<C.length;O++){var l=C[O][0],k=C[O][1];if(Math.abs(l.area)<1e-5)M.push(l);
else if($==null)$=l;else{if(!l.closed)l.closed=!0;$=$[k](l);$.remove()}}if($==null)$=new paper.CompoundPath(M);
else{if($.segments)$=new paper.CompoundPath($);for(var O=0;O<M.length;O++){$.addChild(M[O])}}var d=F.slice(0,2);
d=d.concat(j.w.Tj($));j.w.XY(C);j.w.XY([[$]]);if(d[2])d[2].ea=1;for(var O=3;O<d.length;O++)if(d[O].ea!=null)d[O].ea=-1;
return d};j.w.CL=function(){if(j.w.au1==null){var F=document.createElement("canvas");paper.setup(F);
j.w.au1=!0}};j.w.agk=function(F,r){j.w.CL();var $=[],C=j.w.ez(F),M=new paper.Path.Rectangle(new paper.Rectangle(r.x,r.y,r.r,r.$));
M.remove();M.fillColor=new paper.Color(1,0,0);for(var O=0;O<C.length;O++){if(M.intersects(C[O][0])||M.contains(C[O][0].children[0].segments[0].point))$.push(O)}j.w.XY(C);
return $};j.w.TJ=function(F,r,$,C){j.w.CL();var M=$?{curves:!0,tolerance:C}:null,l=new paper.Point(r.x,r.y),k=j.w.ez(F);
j.w.XY(k);for(var O=k.length-1;O>=0;O--){var d=k[O][0],I=d.hitTest(l,M);if(I!=null)return{Sc:O,uP:$?I.location.index:null,Vl:$?I.location.time:0}}return{Sc:-1}};
j.w.Po=function(F,r,$,C){var M=[[],[],[]];for(var O=0;O<F.length;O++){var l=F[O];if(l.I>5||l.I==0||l.I==3)continue;
var k=r.m_(l.Z),d=r.m_(l.ni),I=r.m_(l.Pj);if($&&$.indexOf(O)==-1){if(C){if($.indexOf(O-1)==-1)d=!1;if($.indexOf(O+1)==-1)I=!1}else d=I=!1}if(k)M[0].push(O);
if(d)M[1].push(O);if(I)M[2].push(O)}M[3]=M[0].length+M[1].length+M[2].length;return M};j.w.a54=function(F,r,$){var C=F[r];
for(var M=r+1;M<$;M++)F[M-1]=F[M];F[$-1]=C};j.w.aHM=function(F,r,$,C){var O,M,l,k=0;F=F.slice(0);r.sort(function(z,V){return z-V});
l=-1;for(O=2;O<F.length;){var d=F[O],I=d.length;if(d.ea!=-1)l++;var c=k;while(c<r.length&&r[c]<O+1+I)c++;
if(k!=c){var Q=r.slice(k,c);k=c;for(M=0;M<I;M++)if(Q.indexOf(O+1+M)!=-1)F[O+1+M]=null;if(d.I==0){var x=Q[0]-(O+1);
while(x!=0){j.w.a54(F,O+1,O+1+I);x--}}var U=d;U.length=0;M=0;while(M<I&&F[O+1+M]==null)M++;while(M<I){var S=F[O+1+M];
if(S!=null)U.length++;else if(M<I+1&&F[O+1+M+1]&&C){U=F[O+1+M]={I:0,ea:-1,length:0,c5:0,QS:0,VW:1}}M++}if(C)for(M=-1;
M<I;M++)if(F[O+1+M]&&F[O+1+M].I<3)F[O+1+M].I+=3;j.EL.bv($,l)}O+=1+I}for(O=0;O<F.length;O++)if(F[O]==null){F.splice(O,1);
O--}l=0;for(O=2;O<F.length;O++){var d=F[O];if(d.length==0){if(F[O+1]&&F[O+1].ea==-1)F[O+1].ea=d.ea;else if(d.ea!=-1)$.splice(l,1);
F.splice(O,1);O--}else if(d.length!=null&&d.ea!=-1)l++}return F};j.w.a86=function(F,r){var $=F.slice(0,2),C=-1;
for(var O=2;O<F.length;O++){if((F[O].I==0||F[O].I==3)&&F[O].ea!=-1)C++;if(r.indexOf(C)==-1)$.push(F[O])}return $};
j.w.aaG=function(F,r){var $=F.slice(0,2),C=-1;for(var O=2;O<F.length;O++){if((F[O].I==0||F[O].I==3)&&F[O].ea!=-1)C++;
if(r.indexOf(C)!=-1)$.push(F[O])}return $};j.w.ai3=function(F){var r=0;for(var O=0;O<F.length;O++)if(F[O].I==0||F[O].I==3)r=O;
return F[r]};j.w.Us=function(F,r){var $=-1;for(var O=0;O<F.length;O++)if((F[O].I==0||F[O].I==3)&&(r||F[O].ea!=-1))$++;
return $+1};j.w.ZZ=function(F,r,$){var C=-1;for(var O=0;O<F.length;O++)if((F[O].I==0||F[O].I==3)&&($||F[O].ea!=-1)){C++;
if(C==r)return O}return-1};j.w.Zt=function(F,r,$){var C=-1;for(var O=0;O<F.length;O++)if((F[O].I==0||F[O].I==3)&&($||F[O].ea!=-1)){if(O>=r)return C;
C++}return C};j.w.qe=function(F,r){var $=-1,C=0;for(var O=0;O<F.length;O++){if((F[O].I==0||F[O].I==3)&&F[O].ea!=-1)$++;
if($==r)C++}return C};j.w.aq0=function(F){var r=180;for(var O=0;O<F.length;O++){if(F[O].I!=0&&F[O].I!=3)continue;
var $=F[O].length;if($<3)continue;for(var C=0;C<$;C++){var M=F[O+1+(C-1+$)%$],l=F[O+1+C],k=F[O+1+(C+1)%$],d=l.Z,I=l.ni.Mp(d)?M.Pj:l.ni,c=l.Pj.Mp(d)?k.ni:l.Pj;
if(d.Mp(I)||d.Mp(c))continue;var Q=I.x-d.x,x=I.y-d.y,U=c.x-d.x,S=c.y-d.y,I=Math.atan2(I.y-d.y,I.x-d.x)*180/Math.PI,c=Math.atan2(c.y-d.y,c.x-d.x)*180/Math.PI,z=Math.abs(c-I)%360,V=z>180?360-z:z;
if(V<r)r=V}}return r*Math.PI/180};j.w.Tj=function(F){var r=F.segments?[F]:F.children,$=[];for(var O=0;
O<r.length;O++){var C=r[O],M=C.segments,l=C.closed?0:3,k=$.length,d=null;if(M.length<=1)continue;$.push({I:l,length:M.length,ea:0,VW:2});
for(var I=0;I<M.length;I++){var c=M[I],Q=new hx(c.handleIn.x,c.handleIn.y),x=new hx(c.handleOut.x,c.handleOut.y),U=new hx(c.point.x,c.point.y),S={I:l+1,ni:U.add(Q),Z:U,Pj:U.add(x)};
if(d==null)d=S;$.push(S);if(I+1==M.length&&hx.BV(d.Z,S.Z)<1e-5){$.pop();$[k].length--;d.ni=S.ni;if(l==3)for(var z=k;
z<$.length;z++)$[z].I-=3}}}return $};j.w.ez=function(F){j.w.CL();var r=[],$,C=new paper.Color(1,0,0);
function M(S,d){S.remove();S.closed=!d;S.fillRule="evenodd"}for(var O=0;O<F.length;O++){if(F[O].I>5)continue;
var l=F[O].length,k;if(O==F.length-1)break;var d=F[O].I==3;if(O==2){if(!j.w.Vn(F))k="subtract";else k="unite"}else{if(F[O].ea==0)k="exclude";
if(F[O].ea==1)k="unite";if(F[O].ea==2)k="subtract";if(F[O].ea==3)k="intersect"}if(F[O].ea!=-1){$=new paper.CompoundPath;
r.push([$,k]);$.fillRule="evenodd";$.fillColor=C}var I=[];for(var c=0;c<l;c++){var Q=F[O+1+c],x=Q.ni.Q1(Q.Z),U=Q.Pj.Q1(Q.Z);
I.push([[Q.Z.x,Q.Z.y],[x.x,x.y],[U.x,U.y]])}var S=new paper.Path(I);M(S,d);$.addChild(S);O+=l}return r};
j.w.XY=function(F){for(var O=0;O<F.length;O++)F[O][0].remove()};j.w.XP=function(F){for(var O=0;O<F.length;
O++){var r=F[O];if(r.Z==null)continue;if(!r.Z.Mp(r.ni)||!r.Z.Mp(r.Pj))return!1}return!0};j.w.apx=function(F){if(F.length<=5)return 0;
var r=0,$=F.length-3-1;for(var O=0;O<$;O++){var C=F[3+O],M=F[3+O+1];if(C.I==0||M.I==0)return 0;r+=(M.Z.x-C.Z.x)*(C.Z.y+M.Z.y)}r+=(F[3].Z.x-F[3+$].Z.x)*(F[3+$].Z.y+F[3+1].Z.y);
return-r*.5};j.w.aR=function(F){var r=F[2],$=!1;if(F.length==2)$=F[1].all==0;else if(F[1].all==1){if(r.ea==1||r.ea==3)$=!0;
else $=!1}else{if(r.ea==1||r.ea==3||r.ea==0)$=!0;else $=!1}return $};j.w.Vn=function(F){var r=j.w.aR(F);
for(var O=3;O<F.length;O++)if(F[O].ea==3)r=!0;return r};j.w.abO=0;j.w.aan=0;j.w.acE=0;j.w.asd=function(F,r,$,C){if($.XS())return;
var M=$.C(),Y=16384;j.w.abO+=M;if(M>j.w.aan){j.w.aan=M}var l=$.r,k=$.$;if(C==null&&j.w.XP(F)&&F[2]&&F[2].ea!=2){var d=!0;
for(var O=2;O<F.length;)if(F[O].length==2)O+=3;else{d=!1;break}if(d){return}if(j.w.Vv(F)){r.fill(255);
var I=j.w.t8(F);if(I.C()!=M){var c=1-(I.x-$.x),Q=1-(I.y-$.y),x=1-($.x+$.r-(I.x+I.r)),U=1-($.y+$.$-(I.y+I.$)),S=~~(c*255),z=~~(x*255),V=~~(Q*255),t=~~(U*255);
r.fill(V,0,l);r[0]=~~(c*Q*255);r[l-1]=~~(x*Q*255);for(var O=l;O<M;O+=l){r[O]=S;r[O+l-1]=z}r.fill(t,(k-1)*l,k*l);
r[M-l]=~~(c*U*255);r[M-1]=~~(x*U*255)}return}}var i=Math.ceil(l/Y),J=Math.ceil(k/Y),H=Math.ceil(l/i),v=Math.ceil(k/J),n=Date.now();
for(var G=0;G<J;G++)for(var g=0;g<i;g++){var W=g*H,L=G*v,b=H,T=v,a=j.q6(b,T);if(!j.w.aR(F))a.fillRect(0,0,b,T);
j.w.gW(F,a,-$.x-W,-$.y-L,C);var R=new Uint8Array(a.getImageData(0,0,b,T).data.buffer);if(b==l&&T==k)j.Eg(R,r,3);
else j.Gc(R,new cS(W,L,b,T),r,new cS(0,0,l,k))}};j.w.a6g=function(F){var r=!1,$=!1,C=0,M=!1;for(var O=0;
O<F.length;O++){var l=F[O].ea;if(l!=null){C++;if(l==-1)r=!0;if(l==1||l==2||l==3)$=!0;if(F[O].I==0)M=!0}}if(!r&&C<20&&M&&$)F=j.w.SG(F);
return F};j.w.gW=function(F,r,$,C,M,l){if(M!=null){F=j.w.a6g(F)}for(var O=0;O<F.length;O++){if(F[O].I>5)continue;
var k=F[O].length;if(k==0)continue;if(O==F.length-1)break;var d=F[O].I==3,I=F[O].ea;if(I!=-1&&M==null){var c=["xor","source-over","destination-out","source-in"][I];
r.globalCompositeOperation=c}if(F[O].ea!=-1){r.beginPath();if(M)j.w.iA(cK.Ok.vS(M),r)}j.w.ajK(r,F,O+1,k,$,C,d);
if(d){}else r.closePath();if(F[O+1+k]==null||F[O+1+k].ea!=-1){if(M){if(l)r.clip();r.stroke()}else r.fill(I==-1?"nonzero":"evenodd")}O+=k}r.globalCompositeOperation="source-over";
r.setLineDash([])};j.w.iA=function(F,r){var $=F.WV;r.setLineDash(F.x_);r.lineCap=["butt","round","square"][F.gE];
r.lineJoin=["miter","round","bevel"][F.Qn];r.lineWidth=F.QK==1?$:$*2;r.miterLimit=F.cR};j.w.ajK=function(F,r,O,$,C,M,l){var k=r[O],d=null;
F.moveTo(k.Z.x+C,k.Z.y+M);for(var I=O;I<O+$-1;I++){k=r[I];d=r[I+1];if(k.Z.Mp(k.Pj)&&d.ni.Mp(d.Z))F.lineTo(d.Z.x+C,d.Z.y+M);
else F.bezierCurveTo(k.Pj.x+C,k.Pj.y+M,d.ni.x+C,d.ni.y+M,d.Z.x+C,d.Z.y+M)}if(!l){k=r[I];d=r[O];if(k.Z.Mp(k.Pj)&&d.ni.Mp(d.Z))F.lineTo(d.Z.x+C,d.Z.y+M);
else F.bezierCurveTo(k.Pj.x+C,k.Pj.y+M,d.ni.x+C,d.ni.y+M,d.Z.x+C,d.Z.y+M)}};j.w.aiG=function(F,r){var $=[],C=r?4:1;
for(var O=0;O<F.length;O+=2){var M=new hx(F[O],F[O+1]);$.push({I:C,ni:M.P(),Z:M.P(),Pj:M.P()})}return $};
j.w.afo=function(F,r,$){var C=(1-($!=null?$:25)*.01)*10;if(C>0){for(var O=0;O<r.length;O++){var M=r[O],l=j.w.ZZ(F,M),k=j.w.qe(F,M),d=F.slice(l,l+k);
j.w.CL();var I=new paper.Path;I.remove();I.closed=!0;for(var c=1;c<d.length;c++)I.add(new paper.Point(d[c].Z.x,d[c].Z.y));
var Q=I.simplify(C);if(Q)F.splice(l,k,...j.w.Tj(I))}}return F};j.w.i3=function(F,r,$){var C=j.b.sY(F),M=Math.sqrt(Math.sqrt(C.C()))*.2,l=.2;
F=F.slice(0);var k=F.length,d=r?0:2;for(var I=0;I<5;I++)for(var O=d;O<F.length-d;O+=2){var c=(O-2+k)%k,Q=(O+2)%k,x=F[O],U=F[O+1],S=(F[c]+F[Q])*.5,z=(F[c+1]+F[Q+1])*.5;
F[O]=x+(S-x)*l;F[O+1]=U+(z-U)*l}if($)return j.w.tQ.KN(F,null,!r);j.w.CL();var V=new paper.Path;V.remove();
V.closed=r;for(var O=0;O<F.length;O+=2)V.add(new paper.Point(F[O],F[O+1]));V.simplify(M);var t=[{I:6},{I:8,all:0}];
t=t.concat(j.w.Tj(V));return t};j.w.sU=function(F,r,$){var C=F[r].length,M=F[r].I,l=0,k=F.slice(r+1,r+1+C);
for(var O=0;O<C;O++){var d=$[(O-1+C)%C],I=$[(O+1+C)%C],c=$[O];if(c!=0){var Q=k[(O-1+C)%C].Z,x=k[(O+0+C)%C].Z,U=k[(O+1+C)%C].Z,S=hx.BV(x,Q),z=hx.BV(x,U),V=j.b.aJm(Q.x,Q.y,x.x,x.y,U.x,U.y,c)[0],t=Math.min(V,d==0?S:S/2,I==0?z:z/2);
c*=t/V;var Y=j.b.adj(Q.x,Q.y,x.x,x.y,U.x,U.y,c),i={I:M+1,ni:new hx(Y[2],Y[3]),Z:new hx(Y[2],Y[3]),Pj:new hx(Y[4],Y[5])},J={I:M+1,ni:new hx(Y[6],Y[7]),Z:new hx(Y[8],Y[9]),Pj:new hx(Y[8],Y[9])};
F.splice(r+l+1,1,i,J);l++;F[r].length++}l++}};j.w.XP=function(F){for(var O=0;O<F.length;O++){var r=F[O],$=r.I;
if($==1||$==2||$==4||$==5)if(!r.Z.Mp(r.ni)||!r.Z.Mp(r.Pj))return!1}return!0};j.w.Vv=function(F){if(F.length!=7||F[2].length!=4||!j.w.XP(F))return!1;
for(var O=0;O<4;O++){var r=!0;for(var $=0;$<4;$++){var C=F[3+(O+$&3)],M=F[3+(O+$+1&3)];if(C.Z.x!=M.Z.x&&C.Z.y!=M.Z.y)r=!1}if(r)return!0}return!1};
j.w.alc=function(F){if(F.length<6)return 0;var r=F.length-2,$=0;for(var O=0;O<r;O+=2)$+=(F[O+2]-F[O])*(F[O+1]+F[O+3]);
$+=(F[0]-F[r])*(F[r+1]+F[1]);return-$*.5};j.w.adX=function(F){F=Z.kf.I4(F);var r=j.w.Us(F);for(var $=0;
$<r;$++){var C=j.w.ZZ(F,$)+1,M=F[C-1].length,l=[];for(var O=0;O<M;O++){var k=F[C+O].Z;l.push(k.x,k.y)}var d=j.w.alc(l);
if(d<0)j.w.aoR(F,C-1)}return F};j.w.aoR=function(F,r){var $=r+1,C=F[r].length,M=[];for(var O=0;O<C;O++){var l=F[$+O],k=l.ni;
l.ni=l.Pj;l.Pj=k;M.push(l)}for(var O=0;O<C;O++)F[$+O]=M[C-1-O]};j.w.tQ={};j.w.tQ.KN=function(F,r,$){var C=[{I:6},{I:8,all:0}],M=null;
C.push({I:$?3:0,ea:1,length:0,c5:0,QS:0,VW:1});if(r==0||r==null)M=null;else if(r instanceof Array)M=r;
else{M=[];for(var O=0;O<F.length;O+=2)M.push(r)}C=C.concat(j.w.aiG(F,$));C[2].length=C.length-3;if(M){j.w.sU(C,2,M);
C.push(C[3]);C.splice(3,1)}return C};j.w.tQ.akW=function(F,r,$,C,M){var l=[],k=[],d=.553,I=1,c=-1;l.push({I:1,ni:new hx(0,d),Z:new hx(0,0),Pj:new hx(0,-d)});
M+=2;for(var O=0;O<M;O++){var Q={I:1};if(O==0){Q.Z=new hx(1,-1);Q.ni=new hx(1-d,-1);Q.Pj=new hx(1+d,-1)}else{var x=-(O+2)*Math.PI/2,U=1+((O&1)==1?O-1:O),S=Math.sin(x),z=Math.cos(x);
I+=U*(S-z);c+=U*(z+S);Q.Z=new hx(I,c);Q.ni=new hx(I+U*z*d,c-U*S*d);if((O&1)==1)U+=2;Q.Pj=new hx(I-U*z*d,c+U*S*d)}var V={I:1,ni:new hx(-Q.Pj.x,-Q.Pj.y),Z:new hx(-Q.Z.x,-Q.Z.y),Pj:new hx(-Q.ni.x,-Q.ni.y)};
l.push(Q);if(O<M-2)k.push(V)}k.reverse();l=l.concat(k);var t=[{I:6},{I:8,all:0}];t.push({I:0,ea:1,length:l.length,c5:0,QS:0,VW:1});
t=t.concat(l);var Y=new hS($/M,0,0,$/M,0,0);Y.rotate(C);Y.translate(F,r);j.w.J_(t,Y);return t};j.w.tQ.Rect=function(F,r,$,C,M){var l=[F,r,F+$,r,F+$,r+C,F,r+C];
return j.w.tQ.KN(l,M)};j.w.tQ.Kx=function(F,r,$,C,M,l,k,d){var I=[],c=2*Math.PI/M;for(var O=0;O<M;O++)I.push(Math.cos(O*c-C),Math.sin(O*c-C));
if(k!=null){var Q=j.b.sY(I),x=Q.r,U=Q.$,S=k/(x/2),z=d/(U/2);for(var O=0;O<I.length;O+=2){I[O]=(I[O]-(Q.x+x/2))*S;
I[O+1]=(I[O+1]-(Q.y+U/2))*z}$=1}var V=new hS($,0,0,$,0,0);V.translate(F,r);j.b.U(I,V,I);return j.w.tQ.KN(I,l)};
j.w.tQ.alK=function(F,r,$,C,M,l,k){var d=$-F,I=C-r,c=(d-k*(l+1))/l,Q=(I-k*(M+1))/M,x={C0:[],n:[]};function U(z,S,V,t){x.C0.push("M","L","L","L","Z");
x.n.push(z,S,z+V,S,z+V,S+t,z,S+t)}U(F,r,d,I);for(var S=0;S<M;S++)for(var z=0;z<l;z++)U(F+k+z*(c+k),r+k+S*(Q+k),c,Q);
return j.b.RJ(x)};j.w.tQ.aqC=function(F,r,$,C,M,l,k){var d=[],I=Math.PI/M;for(var O=0;O<M*2;O++){var c=(O&1)==0?1:k;
d.push(c*Math.cos(O*I),c*Math.sin(O*I))}var Q=new hS($,0,0,$,0,0);Q.rotate(C);Q.translate(F,r);j.b.U(d,Q,d);
return j.w.tQ.KN(d,l)};j.w.tQ.YN=function(F,r,$,C,M){return j.w.tQ.be(0,F,r,$,C,M)};j.w.tQ.arj=function(F,r,$,C,M,l){return j.w.tQ.be(1,F,r,$,C,M,l)};
j.w.tQ.ns=function(F,r,$,C,M,l){return j.w.tQ.be(2,F,r,$,C,M,l)};j.w.tQ.be=function(F,r,$,C,M,l,k){var d=Math.sqrt((C-r)*(C-r)+(M-$)*(M-$)),I;
l/=2;if(F==0)I=[-l,0,l,0,l,d,-l,d];if(F==1){var c=l*2*k*1.3/1.5,Q=l*k;I=[-l,0,l,0,l,d-c,Q,d-c,0,d,-Q,d-c,-l,d-c]}if(F==2){var c=k[3],Q=k[2]/2,x=c*(2/3)*k[4]/100,U=c-x,S=c;
I=[];if(k[0])I.push(-l,U,-Q,S,0,0,Q,S,l,U);else if(l==0)I.push(0,0);else I.push(-l,0,l,0);if(k[1])I.push(l,d-U,Q,d-S,0,d,-Q,d-S,-l,d-U);
else if(l==0)I.push(0,d);else I.push(l,d,-l,d)}var z=new hS(1,0,0,1,0,0);z.rotate(Math.atan2(-M+$,C-r)+Math.PI/2);
z.translate(r,$);j.b.U(I,z,I);return j.w.tQ.KN(I,0)};j.w.tQ.jI=function(F,r,$,C){var M=[{I:6},{I:8,all:0}],x=.553;
M.push({I:0,ea:1,length:4,c5:0,QS:0,VW:1});var l=F,k=r,d=F+$,I=r+C,F=(l+d)/2,r=(k+I)/2,c=(l-d)/2,Q=(k-I)/2;
M.push({I:1,ni:new hx(F-x*c,r-Q),Z:new hx(F,r-Q),Pj:new hx(F+x*c,r-Q)});M.push({I:1,ni:new hx(F+c,r-x*Q),Z:new hx(F+c,r),Pj:new hx(F+c,r+x*Q)});
M.push({I:1,ni:new hx(F+x*c,r+Q),Z:new hx(F,r+Q),Pj:new hx(F-x*c,r+Q)});M.push({I:1,ni:new hx(F-c,r+x*Q),Z:new hx(F-c,r),Pj:new hx(F-c,r-x*Q)});
return M};j.w.tQ.aeR=function(F,r,$,C,M){var l=[{I:6},{I:8,all:0}];l.push({I:3,ea:1,length:5,c5:0,QS:0,VW:1});
var k=(M-C)/4;for(var O=0;O<5;O++){var d=O*k,I=Math.cos(d),c=Math.sin(d),Q=.553*(k/(Math.PI/2)),x=c*Q,U=-I*Q,S=new hx(I,c);
l.push({I:4,ni:O==0?S.P():new hx(I+x,c+U),Z:S,Pj:O==4?S.P():new hx(I-x,c-U)})}var z=new hS;z.rotate(-C);
z.scale($,$);z.translate(F,r);j.w.J_(l,z);return l};j.gd={};j.gd.I={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15],warpCylinder:"Cylinder"};
j.gd.ap6={warpNone:[],warpCustom:[],warpArc:[.5,0,.5,1],warpArcLower:[.5,1,.5,1],warpArcUpper:[.5,0,.5,1],warpArch:[.5,0,.5,1],warpBulge:[.5,0,.5,1],warpShellLower:[.5,1,.5,1],warpShellUpper:[.5,0,.5,1],warpFlag:[.25,0,.5],warpWave:[.25,.501,.25],warpFish:[.25,0,.5],warpRise:[0,1,2],warpFisheye:[.5,.66,.1],warpInflate:[.5,0,.25],warpSqueeze:[.5,0,.25],warpTwist:[.33,.5,.16]};
j.gd.sp=function(F){var r=F.warpStyle.v.warpStyle;if(r=="warpNone")return!0;else if(r=="warpCylinder")return!1;
else if(r=="warpCustom"){var $=!1,C=j.gd.aFe(F);for(var O=0;O<4;O++)for(var M=0;M<4;M++){var l=C[O*2]-C[(M*4+O)*2],k=C[O*4*2+1]-C[(O*4+M)*2+1];
if(l*l>1||k*k>1)$=!0}return!$}else return F.warpValue.v==0&&F.warpPerspective.v==0&&F.warpPerspectiveOther.v==0};
j.gd.a64=function(F){var r=j.N(F);r.v.classID="quiltWarp";r.v.deformNumRows={t:"long",v:4};r.v.deformNumCols={t:"long",v:4};
if(r.v.customEnvelopeWarp)j.gd.adi(r.v,[[0,1],[0,1]]);return r};j.gd.aBN=function(F){var r;if(j.gd.oS(F.v)==16)r=j.N(F);
else r={t:"Objc",v:j.gd.j(j.gd.y2(F.v))};r.v.classID="warp";delete r.v.deformNumRows;delete r.v.deformNumCols;
var $=r.v.customEnvelopeWarp;if($){delete $.v.quiltSliceX;delete $.v.quiltSliceY}return r};j.gd.oS=function(F){return F.deformNumRows.v*F.deformNumCols.v};
j.gd.j=function(F){var r={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(F){r.classID="quiltWarp";r.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:F.y}},Left:{t:"UntF",v:{type:"#Pxl",val:F.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:F.y+F.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:F.x+F.r}}}};
r.uOrder={t:"long",v:4};r.vOrder={t:"long",v:4};r.deformNumRows={t:"long",v:4};r.deformNumCols={t:"long",v:4}}return r};
j.gd.aGy=function(F,r,$){for(var O=0;O<F.length;O+=2){var C=F[O],M=F[O+1],l=(1-r)/2,k=1-l,d=l+C*(k-l);
M=.5+(M-.5)*d*2;var I=(1-$)/2,c=1-I,Q=I+M*(c-I);C=.5+(C-.5)*Q*2;F[O]=C;F[O+1]=M}};j.gd.L6=function(F,r){return{id:F,type:"UnFl",uID:"#Pxl",arr:r}};
j.gd.adi=function(F,r){var $=j.gd.y2(F);function C(l,k){l=l.slice(0);var d=l.length,O;for(O=0;O<d;O++)l[O]*=k;
l[0]-=.6;l[d-1]+=.6;return l}var M=F.customEnvelopeWarp.v;M.quiltSliceX={t:"ObAr",v:{classID:"UntF",arr:[j.gd.L6("quiltSliceX",C(r[0],$.r))]}};
M.quiltSliceY={t:"ObAr",v:{classID:"UntF",arr:[j.gd.L6("quiltSliceY",C(r[1],$.$))]}}};j.gd.a9v=function(F){var r=j.gd.y2(F);
function $(k,d){k=k.slice(0);var l=k.length,O,I=1e9,c=-I;for(O=0;O<l;O++){if(k[O]<I)I=k[O];if(k[O]>c)c=k[O]}for(O=0;
O<l;O++)k[O]=(k[O]-I)/(c-I);k[0]=0;k[l-1]=1;return k}var C=F.customEnvelopeWarp.v,M=[],l=["X","Y"];for(var O=0;
O<2;O++)M.push($(C["quiltSlice"+(O==0?"X":"Y")].v.arr[0].arr.slice(0),O==0?r.r:r.$));return M};j.gd.ayw=function(F,r){var $=[],C=[];
for(var O=0;O<r.length;O+=2){$.push(r[O]);C.push(r[O+1])}F.customEnvelopeWarp.v.meshPoints.v.arr=[j.gd.L6("Hrzn",$),j.gd.L6("Vrtc",C)]};
j.gd.aFe=function(F){var r=[],$=F.customEnvelopeWarp.v.meshPoints.v.arr,C=$[0].arr,M=$[1].arr;for(var O=0;
O<C.length;O++)r.push(C[O],M[O]);return r};j.gd.YR=function(F,r){var $,C=F.warpStyle.v.warpStyle;if(C=="warpCustom")$=[F.deformNumCols.v,F.deformNumRows.v,j.gd.a9v(F),j.gd.aFe(F)];
else{if(r==null)r=j.gd.y2(F);if(r.XS())r.r=r.$=1;if(C=="warpCylinder"){var M=B.hL.$M(F.warpValues);$=j.gd.gd(C,M)}else{var l="warpPerspective";
$=j.gd.gd(C,F.warpValue.v/100,F.warpRotate.v.Ornt=="Hrzn",F[l].v/100,F[l+"Other"].v/100,r.r/r.$)}j.gd.aEE($[3],r)}return $};
j.gd.aEE=function(F,r){for(var O=0;O<F.length;O+=2){F[O]=r.x+F[O]*r.r;F[O+1]=r.y+F[O+1]*r.$}};j.gd.ar_=function(F){var r=Math.sin(F*Math.PI/2),$=Math.pow(F,1/3.5),C=(1-F)*r+F*$;
C=Math.pow(C,1.045);var M=.1725+.0573*C,l=1-(.96*r+.04*$);l=Math.pow(l,1.27);var k=1/129+(.167684-1/129)*l;
return[M,k]};j.gd.ua=function(F,r){F.warpStyle.v.warpStyle="warpCustom";F.deformNumCols.v=r[0];F.deformNumRows.v=r[1];
var $="customEnvelopeWarp";if(F[$]==null)F[$]={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:[]}}}};
j.gd.adi(F,r[2]);j.gd.ayw(F,r[3])};j.gd.y2=function(F){var r=F.bounds.v,$=r.Left.v.val,C=r.Rght.v.val,M=r.Top.v.val,l=r.Btom.v.val;
if($==null){$=r.Left.v,C=r.Rght.v;M=r.Top.v,l=r.Btom.v}return new cS($,M,C-$,l-M)};j.gd.gd=function(F,r,$,C,M,l){if(F=="warpCylinder"){var k=r,d=k[0],I=k[1],c=k[2],Q=k[3],x=k[4],U=k[5],S=k[6],z=[];
for(var V=0;V<4;V++)for(var t=0;t<13;t++)z.push(t/12,V/3);var Y=c-d,i=I-Q,J=x*.5*(Y/i),H=U*.5*(Y/i),v=j.gd.ar_(S),n=[0,0,0,0,0,v[0],.5],G=[0,0,0,0,J*.42,J,J],g=[0,0,0,0,H*.42,H,H];
for(var V=0;V<4;V++)for(var t=0;t<7;t++){var O=V*13+t;z[O*2]=n[t];var W=G[t],L=1+g[t],b=V/3;z[O*2+1]=W*(1-b)+L*b}for(var V=0;
V<4;V++)for(var t=0;t<6;t++){var O=V*13+t,T=V*13+12-t;z[T*2]=1-z[O*2];z[T*2+1]=z[O*2+1]}var b=v[1];return[13,4,[[0,b,.5,1-b,1],[0,1]],z]}var a=j.$$.j(0,0,1,1);
if(F!="warpNone"){if(!$)l=1/l;j.gd.akg(a,F,r,C,M,l);var R=a.slice(0);if(!$)for(var V=0;V<4;V++)for(var t=0;
t<4;t++){a[(V*4+t)*2]=R[(t*4+V)*2+1];a[(V*4+t)*2+1]=R[(t*4+V)*2]}if(r==0)j.gd.aGy(a,C,M);else{var D=new hS;
D.translate(-.5,-.5);j.b.U(a,D,a);j.gd.aiM(a,M,C);D.v4();j.b.U(a,D,a)}}return[4,4,[[0,1],[0,1]],a]};
j.gd.akg=function(F,r,$,C,M,l){var k=new cS(0,0,l,1);for(var O=0;O<F.length;O+=2)F[O]*=l;for(var O=0;
O<4;O++){for(var d=0;d<4;d++){var I=2*(4*O+d),c=F[I]-k.x,Q=F[I+1]-k.y,x=c,U=Q;if($!=0){var S=k.r/2,z=k.$/2;
x-=S;U-=z;var V=x,t=x,Y=-z,i=z,J=Math.abs($),H=Math.tan((1-J)*Math.PI/2),v=Math.sqrt(H*H+1),n=Math.atan2(1,H),G=x/S*n,g=S*v,W=S*v+k.$,L=Math.cos(n),b=Math.sin(n),T=j.gd.a9W(L,b),a=j.gd.ar1(L,b),R=-H*S+T*g;
if(r=="warpArc"){V=Math.sin(G)*W;Y=H*S-Math.cos(n)*W+z;t=Math.sin(G)*g;i=H*S-Math.cos(n)*g+z;if(d==1||d==2){V=d==1?-a*W:a*W;
t=d==1?-a*g:a*g;Y=H*S+z-T*W;i=H*S+z-T*g}if($<0){var D=V;V=t;t=D;D=Y;Y=-i;i=-D}}if(r=="warpArcLower"){if(d==1||d==2){t=d==1?-a*g:a*g;
i=$<0?z-R:z+R}}if(r=="warpArcUpper"||r=="warpArch"||r=="warpBulge"){if(d==1||d==2){V=d==1?-a*g:a*g;Y=$<0?-z+R:-z-R}if(r=="warpArch"){t=V;
i=Y+2*z}if(r=="warpBulge"){t=V;i=-Y}}if(r=="warpFish"||r=="warpFlag"||r=="warpWave"){var h=d;if(r=="warpFlag")h=3-d;
if(h==1){Y-=$*4*z;i+=$*4*z}if(h==2){Y+=$*4*z;i-=$*4*z}if(r=="warpFlag"||r=="warpWave")Y=i-2*z}if(r=="warpRise"){if(d<2)Y=-z+$*z*4;
i=Y+2*z}var K=(U+z)/k.$;x=V+K*(t-V);U=Y+K*(i-Y);if(r=="warpWave"){if(O==0)U=-z;if(O==3)U=z;if(O==1||O==2)U=2*z*(O/3-.5)*(1/3)+U*(2/3)}if(r=="warpFisheye"){if((O==1||O==2)&&(d==1||d==2)){x=x+4*x*$;
U=U+4*U*$}}if(r=="warpInflate"){var X=2/3;if((O==1||O==2)&&(d==1||d==2)){x=x+.5*x*$;U=U+.5*U*$}else if(O==1||O==2)x=x+X*x*$;
else if(d==1||d==2)U=U+X*U*$}if(r=="warpSqueeze"){var X=2/3;if((O==1||O==2)&&(d==1||d==2)){if($>0)x=x-X*x*$;
else U=U+X*U*$}else if(O==1||O==2)x=x-X*x*$;else if(d==1||d==2)U=U+X*U*$}if(r=="warpTwist"){if((O==1||O==2)&&(d==1||d==2)){var w=$*Math.PI/2,v=1+Math.abs($)*2,N=x*Math.cos(w)-U*Math.sin(w),s=x*Math.sin(w)+U*Math.cos(w);
x=N*v;U=s*v}}if(r=="warpShellLower"||r=="warpShellUpper"){if(r=="warpShellUpper"){O=3-O;U=-U}if(O>2||O==2&&(d==0||d==3)){if($>0){var A=g+O/3*2*z;
x=Math.sin(G)*A;U=-H*S-z+Math.cos(G)*A;if(d==1||d==2){x=d==1?-a*A:a*A;U=-H*S-z+T*A}}else{if((d==1||d==2)&&O==3){x=d==1?-a*g:a*g;
U=H*S-T*g+z}else if(O==2){U=z-z*(2/3)*Math.cos(G);x=x+z*(2/3)*Math.sin(G)}}}if(r=="warpShellUpper"){O=3-O;
U=-U}}x+=S;U+=z}c=x,Q=U;F[I]=c+k.x;F[I+1]=Q+k.y}}for(var O=0;O<F.length;O+=2)F[O]/=l};j.gd.aiM=function(F,r,$){var C=[];
for(var M=0;M<4;M++)C.push(1-$+M/3*2*$);var l=[];for(var M=0;M<4;M++)l.push(1-r+M/3*2*r);var k=[0,0,0,0],d=[0,0,0,0];
for(var O=0;O<4;O++)for(var M=0;M<4;M++){var I=2*(4*O+M),c=F[I],Q=F[I+1];k[M]+=c/4;d[M]+=Q/4}for(var O=0;
O<4;O++)for(var M=0;M<4;M++){var x=C[M],I=2*(4*O+M),c=F[I],Q=F[I+1],U=k[M],S=d[M];F[I]=U+x*(c-U);F[I+1]=S+x*(Q-S)}var z=F.slice(0);
for(var O=0;O<4;O++)for(var M=1;M<3;M++){var I=2*(4*O+M),c=F[I],Q=F[I+1],V=I+(M==1?-2:2),t=F[V],Y=F[V+1];
F[I]=c-t;F[I+1]=Q-Y}var i=F[0],J=F[1],H=F[8],v=F[9],n=F[16],G=F[17],g=F[24],W=F[25],L=F[6],b=F[7],T=F[14],a=F[15],R=F[22],D=F[23],h=F[30],K=F[31],X=L-i,w=b-J,N=T-H,s=a-v,A=R-n,p=D-G,q=h-g,f=K-W;
for(var O=0;O<4;O++){var e=2*O*4,o=0,E=0,cj=O==1?.33:.66,u=1-cj;if(O==0){o=X;E=w}if(O==1){o=u*X+cj*-q;
E=u*w+cj*-f}if(O==2){o=u*X+cj*-q;E=u*w+cj*-f}if(O==3){o=-q;E=-f}F[e]=F[e]+o/2;F[e+1]=F[e+1]+E/2;F[e+6]=F[e+6]-o/2;
F[e+7]=F[e+7]-E/2}for(var O=0;O<4;O++)for(var M=1;M<3;M++){var I=2*(4*O+M),c=F[I],Q=F[I+1],V=I+(M==1?-2:2),t=F[V],Y=F[V+1],x=2*O/3;
F[I]=t+x*c;F[I+1]=Y+x*Q}for(var O=1;O<3;O++)for(var M=1;M<3;M++){var I=2*(4*O+M),c=F[I],Q=F[I+1],cd=O==1?-8:-16,m=O==1?16:8,aZ=F[I+cd],jN=F[I+cd+1],eh=F[I+m],iA=F[I+m+1],x=O/3;
c=(1-x)*aZ+x*eh;Q=(1-x)*jN+x*iA;F[I]=c;F[I+1]=Q}j.b.a5F(z,F,F,r)};j.gd.a9W=function(F,r){return(4-F)*(1/3)};
j.gd.ar1=function(F,r){return(1-F)*(3-F)/(3*r)};var cN={};cN.aaT={x:.34567,y:.3585};cN.abQ=[{t:0,Z1:.18006,rY:.26352,q:-.24341},{t:10,Z1:.18066,rY:.26589,q:-.25479},{t:20,Z1:.18133,rY:.26846,q:-.26876},{t:30,Z1:.18208,rY:.27119,q:-.28539},{t:40,Z1:.18293,rY:.27407,q:-.3047},{t:50,Z1:.18388,rY:.27709,q:-.32675},{t:60,Z1:.18494,rY:.28021,q:-.35156},{t:70,Z1:.18611,rY:.28342,q:-.37915},{t:80,Z1:.1874,rY:.28668,q:-.40955},{t:90,Z1:.1888,rY:.28997,q:-.44278},{t:100,Z1:.19032,rY:.29326,q:-.47888},{t:125,Z1:.19462,rY:.30141,q:-.58204},{t:150,Z1:.19962,rY:.30921,q:-.70471},{t:175,Z1:.20525,rY:.31647,q:-.84901},{t:200,Z1:.21142,rY:.32312,q:-1.0182},{t:225,Z1:.21807,rY:.32909,q:-1.2168},{t:250,Z1:.22511,rY:.33439,q:-1.4512},{t:275,Z1:.23247,rY:.33904,q:-1.7298},{t:300,Z1:.2401,rY:.34308,q:-2.0637},{t:325,Z1:.24792,rY:.34655,q:-2.4681},{t:350,Z1:.25591,rY:.34951,q:-2.9641},{t:375,Z1:.264,rY:.352,q:-3.5814},{t:400,Z1:.27218,rY:.35407,q:-4.3633},{t:425,Z1:.28039,rY:.35577,q:-5.3762},{t:450,Z1:.28863,rY:.35714,q:-6.7262},{t:475,Z1:.29685,rY:.35823,q:-8.5955},{t:500,Z1:.30505,rY:.35907,q:-11.324},{t:525,Z1:.3132,rY:.35968,q:-15.628},{t:550,Z1:.32129,rY:.36011,q:-23.325},{t:575,Z1:.32931,rY:.36038,q:-40.77},{t:600,Z1:.33724,rY:.36051,q:-116.45}];
cN.aak=function(F){var r=cN.abQ,$=2*F.x/(1.5-F.x+6*F.y),C=3*F.y/(1.5-F.x+6*F.y),M=0,l=0,k=0;for(;k<31;
k++){M=C-r[k].rY-r[k].q*($-r[k].Z1);if(k>0&&M<0){break}l=M}while(k>=r.length)k--;M/=Math.sqrt(1+r[k].q*r[k].q);
l/=Math.sqrt(1+r[k-1].q*r[k-1].q);var d=l/(l-M),I=1e6/((r[k].t-r[k-1].t)*d+r[k-1].t),c=$-((r[k].Z1-r[k-1].Z1)*d+r[k-1].Z1),Q=C-((r[k].rY-r[k-1].rY)*d+r[k-1].rY),x=Math.sqrt(1+r[k].q*r[k].q),U=1/x,S=r[k].q/x,z=Math.sqrt(1+r[k-1].q*r[k-1].q),V=1/z,t=r[k-1].q/z,Y=(U-V)*d+V,i=(S-t)*d+t,J=Math.sqrt(Y*Y+i*i);
Y/=J;i/=J;var H=(c*Y+Q*i)*-3e3;return{Ap:I,Iw:H}};cN.Hp=function(F,r){var $=cN.abQ,C=1e6/F,M=1;for(;
M<31;M++){if(C<$[M].t){break}}var l=($[M].t-C)/($[M].t-$[M-1].t),k=($[M-1].Z1-$[M].Z1)*l+$[M].Z1,d=($[M-1].rY-$[M].rY)*l+$[M].rY,I=Math.sqrt(1+$[M].q*$[M].q),c=1/I,Q=$[M].q/I,x=Math.sqrt(1+$[M-1].q*$[M-1].q),U=1/x,S=$[M-1].q/x,z=(U-c)*l+c,V=(S-Q)*l+Q,t=Math.sqrt(z*z+V*V);
z/=t;V/=t;k+=z*r/-3e3;d+=V*r/-3e3;return{x:1.5*k/(k-4*d+2),y:d/(k-4*d+2)}};cN.azk=function(F){var r=F[0]+F[1]+F[2];
return{x:F[0]/r,y:F[1]/r}};cN.ME=function(F){return{x:F.x/F.y,y:1,Ar:(1-F.x-F.y)/F.y}};cN.ayu=function(F,r){var $=j.t3.st([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),C=[F.x,F.y,F.Ar,0],M=[r.x,r.y,r.Ar,0];
C=j.t3.Jh($,C);M=j.t3.Jh($,M);var l=M[0]/C[0],k=M[1]/C[1],d=M[2]/C[2],I=j.t3.st([l,0,0,0,k,0,0,0,d]),c=j.t3.v4($);
return j.t3.multiply(j.t3.multiply(c,I),$)};j.pG={};j.pG.a5V=function(F,r,$,C,M,l,k,d,I,c){for(var Q=0;
Q<d;Q++)for(var x=0;x<k;x++){var U=3*(Q*k+x),S=Q+l,z=x+M,V=F[S*r+z];C[U]=V;C[U+1]=V;C[U+2]=V}};j.pG.zt=function(F,r,$,C,M,l,k,d,I,c){var Q=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],x=1/I,U=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],S=new Uint32Array(6);
for(var z=0;z<d;z++){for(var V=0;V<k;V++){var t=3*(z*k+V),Y=z+l,i=V+M;S[0]=0;S[1]=0;S[2]=0;S[3]=0;S[4]=0;
S[5]=0;for(var O=0;O<16;O+=2){var J=i+U[O],H=Y+U[O+1],v=J-I*~~(J*x),n=H-I*~~(H*x),G=c[n*I+v];S[G]+=F[H*r+J];
S[G+3]++}var J=i,H=Y,v=J-I*~~(J*x),n=H-I*~~(H*x),G=c[n*I+v];S[G]=F[Y*r+i];S[G+3]=1;C[t]=S[0]*Q[S[3]];
C[t+1]=S[1]*Q[S[4]];C[t+2]=S[2]*Q[S[5]]}}};j.pG.ahk=function(F,r,$){for(var O=0;O<$;O+=2)F[r+O]=F[r+O+1];
r=r+$;for(var O=0;O<$;O+=2)F[r+O+1]=F[r+O]};j.pG.a6v=function(F,r,$,C){for(var O=0;O<C;O+=2){var M=r+O*$;
F[M]=F[M+$];F[M+$+1]=F[M+1]}};j.pG.a63=function(F,r,$,C,M,l){var k=C[M],d=C[M+1],I=C[l],c=C[l+1],Q=d+I>>>1;
F[r]=F[r+3]=F[$]=F[$+3]=k;F[r+1]=Q;F[r+4]=d;F[$+1]=I;F[$+4]=Q;F[r+2]=F[r+5]=F[$+2]=F[$+5]=c};j.pG.awf=function(F,r,$,C,M,l){var k=l*3;
for(var O=0;O<l;O+=2){var d=r+O,I=M+O*3;j.pG.a63(C,I,I+k,F,d,d+$)}};j.pG.aw0=function(F,r,$,C,M,l,k){var d=l*3;
for(var O=0;O<k;O+=2){var I=r+O*$,c=M+O*l*3;j.pG.a63(C,c,c+d,F,I,I+$)}};j.pG.ayj=function(F,O,r){var $=F[O-r-r],C=F[O-r],M=F[O-2],l=F[O-1],k=F[O],d=F[O+1],I=F[O+2],c=F[O+r],Q=F[O+r+r],x=Math.abs(C-c),U=Math.abs(l-d),S=Math.abs(k-$)*2+x,z=Math.abs(k-I)*2+U,V=Math.abs(k-M)*2+U,t=Math.abs(k-Q)*2+x,Y=Math.min(S,Math.min(z,Math.min(V,t)));
if(Y==S)return C*3+c+k-$>>2;if(Y==z)return d*3+l+k-I>>2;if(Y==V)return l*3+d+k-M>>2;return c*3+C+k-Q>>2};
j.pG.CE=function(F,r,$,C,M){if(F<r&&r<$||F>r&&r>$)return~~(.5+C+(M-C)*(r-F)/($-F));else return(C+M>>1)+(r+r-F-$>>2)};
j.pG.aAE=function(F,r,O,$){var C=r[O-$-1],M=r[O-$+1],l=r[O],k=r[O+$-1],d=r[O+$+1],I=F[O-$-1],c=F[O-$+1],Q=F[O],x=F[O+$-1],U=F[O+$+1],S=Math.abs(c-x)+Math.abs(F[O-$-$+2]-Q)+Math.abs(Q-F[O+$+$-2])+Math.abs(M-l)+Math.abs(l-k),z=Math.abs(I-U)+Math.abs(F[O-$-$-2]-Q)+Math.abs(Q-F[O+$+$+2])+Math.abs(C-l)+Math.abs(l-d);
if(S<z)return j.pG.CE(M,l,k,c,x);else return j.pG.CE(C,l,d,I,U)};j.pG.WU=function(F,r,$,C,M,l){F[r+0]=$[M];
F[r+1]=C[M];F[r+2]=j.pG.aAE($,C,M,l)};j.pG.$l=function(F,r,$,C,M,l){var k=C[M];F[r+0]=j.pG.CE(C[M-1],k,C[M+1],$[M-1],$[M+1]);
F[r+1]=k;F[r+2]=j.pG.CE(C[M-l],k,C[M+l],$[M-l],$[M+l])};j.pG.b5=function(F,r,$,C,M,l){var k=C[M];F[r+0]=j.pG.CE(C[M-l],k,C[M+l],$[M-l],$[M+l]);
F[r+1]=k;F[r+2]=j.pG.CE(C[M-1],k,C[M+1],$[M-1],$[M+1])};j.pG.U3=function(F,r,$,C,M,l){F[r+0]=j.pG.aAE($,C,M,l);
F[r+1]=C[M];F[r+2]=$[M]};j.pG.a8W=function(F,r,$,C,M,l,k,d,I){var c=Date.now(),Q=2,x=r-2,U=2;if((M&1)==1){Q++;
x--}var S=$-2;if((l&1)==1){U++;S--}if(I==1||I==3){Q++;x--}var z=F.slice(0);j.pG.ahk(z,0,r);j.pG.a6v(z,0,r,$);
j.pG.a6v(z,r-2,r,$);j.pG.ahk(z,($-2)*r,r);for(var V=U;V<S;V+=2)for(var t=Q;t<x;t+=2){var O=V*r+t,Y=j.pG.ayj(z,O,r),i=j.pG.ayj(z,O+r+1,r);
z[O]=Math.max(0,Y);z[O+r+1]=Math.max(0,i)}var J=k,H=d;if(l+d==$){H-=2;j.pG.awf(F,($-2)*r+M,r,C,(d-2)*k*3,k)}if(M+k==r){J-=2;
j.pG.aw0(F,l*r+M+k-2,r,C,(k-2)*3,k,d)}if(I==0)for(var V=0;V<H;V+=2)for(var t=0;t<J;t+=2){var v=(V+l)*r+t+M,n=(V*k+t)*3;
j.pG.WU(C,n,F,z,v,r);j.pG.$l(C,n+3,F,z,v+1,r);v+=r;n+=3*k;j.pG.b5(C,n,F,z,v,r);j.pG.U3(C,n+3,F,z,v+1,r)}else if(I==1)for(var V=0;
V<H;V+=2)for(var t=0;t<J;t+=2){var v=(V+l)*r+t+M,n=(V*k+t)*3;j.pG.$l(C,n,F,z,v,r);j.pG.WU(C,n+3,F,z,v+1,r);
v+=r;n+=3*k;j.pG.U3(C,n,F,z,v,r);j.pG.b5(C,n+3,F,z,v+1,r)}else if(I==2)for(var V=0;V<H;V+=2)for(var t=0;
t<J;t+=2){var v=(V+l)*r+t+M,n=(V*k+t)*3;j.pG.U3(C,n,F,z,v,r);j.pG.b5(C,n+3,F,z,v+1,r);v+=r;n+=3*k;j.pG.$l(C,n,F,z,v,r);
j.pG.WU(C,n+3,F,z,v+1,r)}else if(I==3)for(var V=0;V<H;V+=2)for(var t=0;t<J;t+=2){var v=(V+l)*r+t+M,n=(V*k+t)*3;
j.pG.b5(C,n,F,z,v,r);j.pG.U3(C,n+3,F,z,v+1,r);v+=r;n+=3*k;j.pG.WU(C,n,F,z,v,r);j.pG.$l(C,n+3,F,z,v+1,r)}};
j.raw={};j.raw.a6Q=function(F){var r=Date.now(),$=F.width,C=F.height,M=0,l=0,k=$,d=C;if(F.t50829){var I=F.t50829;
M=I[1];l=I[0];k=I[3];d=I[2]}if(F.t50720&&F.t50720[0]*1.8>$){if(F.t50719){var c=F.t50719;M+=c[0]>>1<<1;
l+=c[1]>>1<<1}if(F.t50720){var Q=F.t50720;k=M+Q[0];d=l+Q[1]}}var x=k-M,U=d-l,S=j.raw.aBB(F),z=F.t33422,V=F.t33421;
if(V){var Q=V[0],t=z.slice(0);for(var Y=0;Y<Q;Y++)for(var i=0;i<Q;i++){var J=(i+(M&1))%Q,H=(Y+(l&1))%Q;
t[Y*Q+i]=z[H*Q+J]}z=t}if(F.t277[0]==1&&z)j.raw.atq(S,$,C,F,z);j.raw.vk(2,F,S,$,C);var v=new Float32Array(x*U*3);
if(F.t277[0]==1){if(V==null){j.pG.a5V(S,$,C,v,M,l,x,U)}else if(V.length!=2||V[0]!=2||V[1]!=2){console.log("Unknown CFA pattern size",V);
j.pG.zt(S,$,C,v,M,l,x,U,V[0],z)}else{var n=F.t33422.join(","),G=0;if(n=="0,1,1,2")G=0;else if(n=="1,0,2,1")G=1;
else if(n=="2,1,1,0")G=2;else if(n=="1,2,0,1")G=3;else throw"Unknown CFA pattern "+n;if((x&1)!=0||(U&1)!=0)throw"e";
j.pG.a8W(S,$,C,v,M,l,x,U,G)}}else{for(var Y=0;Y<U;Y++)for(var i=0;i<x;i++){var g=((Y+l)*$+i+M)*3,W=(Y*x+i)*3;
v[W+0]=S[g+0];v[W+1]=S[g+1];v[W+2]=S[g+2]}}var L=v,b=v.length,T=j.raw.RI(F),a=1/T;for(var O=0;O<b;O+=3){v[O]=L[O]*a;
v[O+1]=L[O+1]*a;v[O+2]=L[O+2]*a}j.raw.vk(3,F,v,x,U);var R=F.lM,D=x,h=U;if(R==1||R==9){}else{var K=j.raw.a23(R,x,U),W=0;
D=K[0];h=K[1];var X=v.slice(0);for(var Y=0;Y<h;Y++)for(var i=0;i<D;i++){var w=K[2]*i+K[3]*Y+K[4],N=K[5]*i+K[6]*Y+K[7],g=(N*x+w)*3;
v[W]=X[g];v[W+1]=X[g+1];v[W+2]=X[g+2];W+=3}}return{fU:v,a2g:D,aab:h}};j.raw.a23=function(F,r,$){var C=r,M=$;
if(!1){}else if(F==0)return[$,r,0,-1,r-1,1,0,0];else if(F==2)return[r,$,-1,0,r-1,0,1,0];else if(F==3)return[r,$,-1,0,r-1,0,-1,$-1];
else if(F==4)return[r,$,1,0,0,0,-1,$-1];else if(F==5)return[$,r,0,1,0,1,0,0];else if(F==6)return[$,r,0,1,0,-1,0,$-1];
else if(F==7)return[$,r,0,-1,r-1,-1,0,$-1];else if(F==8)return[$,r,0,-1,r-1,1,0,0];else throw"unknown orientation "+F};
j.raw.atq=function(F,r,$,C,M){var l=Date.now(),a=0,h=0;if(j.raw.RI(C)>4e4){for(var O=0;O<F.length;O++)F[O]>>=1;
var k=["t50714","t50715","t50712","t50717"];for(var O=0;O<k.length;O++){var d=C[k[O]];if(d)for(var I=0;
I<d.length;I++)d[I]>>>=1}console.log("remapping to lower bit depth")}var c=~~Math.sqrt(M.length),Q=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],x=[];
for(var U=0;U<c;U++)for(var S=0;S<c;S++){var O=U*c+S,z=M[O],V=4,t=4,Y=8,i=0,J=0;for(var I=0;I<18;I+=2){var H=(c+S+Q[I])%c,v=(c+U+Q[I+1])%c,n=M[v*c+H];
if(n==z){}else if(V==4){V=n;i=I}else if(t==4&&n!=V){t=n;J=I;break}}if(t<V){var G=t;t=V;V=G;G=J;J=i;i=G}if(V<z){var G=V;
V=z;z=G;G=i;i=Y;Y=G}if(t<V){var G=t;t=V;V=G;G=J;J=i;i=G}x[O*3]=Q[Y+1]*r+Q[Y];x[O*3+1]=Q[i+1]*r+Q[i];
x[O*3+2]=Q[J+1]*r+Q[J]}var g=~~(.996*j.raw.RI(C)),W=~~(.992*j.raw.RI(C)),L=C.t50728;if(L==null||L[0]==0)L=[1,1,1];
var b=[],T=[0,0,0];for(var U=1;U<$-1;U++)for(var S=1;S<r-1;S++){var O=U*r+S,R=U%c*c+S%c,z=F[O+x[R*3+0]],V=F[O+x[R*3+1]],t=F[O+x[R*3+2]],D=Math.max(z,V,t);
if(D>g)b.push(O);else if(D>W){T[0]+=z;T[1]+=V;T[2]+=t;a++}}if(b.length==0)return;if(a/(r*$)<1e-5){console.log("not enough semi-saturated pixels",a);
T=L}if(T[1]<T[h])h=1;if(T[2]<T[h])h=2;var K=[T[0]/T[h],T[1]/T[h],T[2]/T[h]],X=F.slice(0);for(var w=0;
w<b.length;w++){var O=b[w],U=~~(O/r),S=O-U*r,R=U%c*c+S%c,N=Math.min(65535,~~(F[O+x[R*3+h]]*K[M[R]]));
if(N>X[O])X[O]=N}F.set(X)};j.raw.tu=function(F,r,$,C,M){console.log(M);var l=cN.Hp(C[0],C[1]),k=j.raw.a3V($,l),d=[j.t3.Ps,j.t3.a3o,j.t3.ahM,j.t3.aoY][M],I=j.t3.multiply(d,k),c=Math.pow(2,C[2]+($.t50730?$.t50730[0]:0));
I=j.t3.multiply(I,j.t3.Kp(c,c,c));var Q=j.raw.tu.aIE[M];if(Q==null){Q=j.raw.tu.aIE[M]=new Float32Array(5e3);
var x=1/[2.4,2.1992,1.8,2.4][M];if(M==0||M==3)for(var O=0;O<5e3;O++)Q[O]=j.Wg(O*(1/4e3));else for(var O=0;
O<5e3;O++)Q[O]=Math.pow(O*(1/4e3),x)}var U=F.length;for(var O=0;O<U;O+=4){var S=F[O],z=F[O+1],V=F[O+2],t=I[0]*S+I[1]*z+I[2]*V,Y=I[4]*S+I[5]*z+I[6]*V,i=I[8]*S+I[9]*z+I[10]*V;
if(t<0)t=0;else if(t>1)t=1;if(Y<0)Y=0;else if(Y>1)Y=1;if(i<0)i=0;else if(i>1)i=1;r[O]=Q[~~(t*4e3)];r[O+1]=Q[~~(Y*4e3)];
r[O+2]=Q[~~(i*4e3)]}};j.raw.tu.aIE=[];j.raw.aBB=function(F){var r=F.width,$=F.height,C=r*$*F.t277,M=new Uint16Array(C),l=null,k=0;
j.raw.agp(F,M);j.raw.vk(1,F,M,r,$);if(F.t50712){l=F.t50712;k=l.length-1;if(l[k]>65535)throw"too big values"}var d=j.raw.apC(F),I=j.raw.a6s(F);
if(l==null)for(var O=0;O<C;O++)M[O]=Math.max(0,M[O]-d);else for(var O=0;O<C;O++){var c=M[O];if(c>k)c=k;
c=l[c];M[O]=Math.max(0,c-d)}return M};j.raw.apC=function(F){var r=F.t50714,$=r?r[0]:0,C=F.t50715,M=F.t50716;
if(C)$+=C[0][0]/C[0][1];if(M)$+=M[0][0]/M[0][1];return Math.round($)};j.raw.a6s=function(F){var r=null,$=0;
if(F.t50712){r=F.t50712;$=r.length-1}var C=F.t50717?F.t50717[0]:(1<<F.t258[0])-1;if(r)C=Math.min(C,r[$]);
return C};j.raw.RI=function(F){var r=j.raw.apC(F),$=j.raw.a6s(F);return $-r};j.raw.agp=function(F,r){var $=r.length,C=F.data,M=F.t258[0];
if(M!=16&&M!=14&&M!=12&&M!=10&&M!=8)throw"Unsupported Bits Per Sample:"+M;M=Math.round(C.length*8/$);
if(F.t272[0]=="COOLPIX B700")for(var O=0;O<C.length;O+=4){var l=C[O];C[O]=C[O+3];C[O+3]=l;var l=C[O+1];
C[O+1]=C[O+2];C[O+2]=l}if(M==16&&F.isLE){j.Jx(C,r);return}for(var O=0;O<$;O+=2){var k=0,d=0,I=0;if(M==16){k=O<<1;
d=C[k]<<8|C[k+1];I=C[k+2]<<8|C[k+3]}else if(M==14){var c=O*14,Q=c>>>3,x=C[Q]<<24|C[Q+1]<<16|C[Q+2]<<8|C[Q+3];
if((c&7)==0){d=x>>>18;I=x>>>4&16383}else{d=x>>>14&16383;I=x&16383}}else if(M==12){k=O+(O>>>1);d=C[k]<<4|C[k+1]>>4;
I=(C[k+1]&15)<<8|C[k+2]}else if(M==10){var c=O*10,Q=c>>>3;if((c&7)==0){d=(C[Q]<<2|C[Q+1]>>6)&1023;I=(C[Q+1]<<4|C[Q+2]>>4)&1023}else{d=(C[Q]<<6|C[Q+1]>>2)&1023;
I=(C[Q+1]<<8|C[Q+2]>>0)&1023}}else if(M==8){k=O;d=C[k];I=C[k+1]}r[O]=d;r[O+1]=I}};j.raw.aC6=function(F,r,$,C,M,l,k){var d=F-.499999,I=r-.499999,c=~~d,Q=~~I,x=d-c,U=I-Q,S=(1-U)*(1-x),z=(1-U)*x,V=U*(1-x),t=U*x,Y=(Q*C+c)*3,i=((Q+1)*C+c)*3,J=S*$[Y]+z*$[Y+3]+V*$[i]+t*$[i+3],H=S*$[Y+1]+z*$[Y+4]+V*$[i+1]+t*$[i+4],v=S*$[Y+2]+z*$[Y+5]+V*$[i+2]+t*$[i+5];
l[k]=J;l[k+1]=H;l[k+2]=v};j.raw.vk=function(F,r,$,C,M){var l=r["t"+[51008,51009,51022][F-1]],Q=0;if(l==null)return;
var k=C*M,d=P.dj,I=P.Dw,c=new Uint8Array(l),eP=P.dj(c,Q);Q+=4;for(var x=0;x<eP;x++){var U=d(c,Q);Q+=4;
var S=d(c,Q);Q+=4;var z=d(c,Q);Q+=4;var V=d(c,Q);Q+=4;if(!1){}else if(U==1&&F==3){var t=Q,Y=d(c,t);t+=4;
var i=I(c,t);t+=8;var J=I(c,t);t+=8;var H=I(c,t);t+=8;var v=I(c,t);t+=8;var n=I(c,t);t+=8;var G=I(c,t);
t+=8;t+=(Y-1)*8*6;var g=I(c,t);t+=8;var W=I(c,t);t+=8;var L=g*C,b=W*M,T=Math.max(L,C-L),a=Math.max(b,M-b),R=Math.sqrt(T*T+a*a),D=1/R,h=$.slice(0);
for(var K=0;K<M;K++)for(var X=0;X<C;X++){var w=(X+.5-L)*D,N=(K+.5-b)*D,s=w*w+N*N,A=i+J*s+H*(s*s)+v*(s*s)*s,p=n*(2*w*N)+G*(s+2*w*w),q=G*(2*w*N)+n*(s+2*N*N),f=Math.min(L+R*(A*w+p),C-1),e=Math.min(b+R*(A*N+q),M-1),o=(K*C+X)*3;
j.raw.aC6(f,e,h,C,M,$,o)}}else if(U==3&&F==3){var t=Q,E=I(c,t);t+=8;var cj=I(c,t);t+=8;var u=I(c,t);
t+=8;var cd=I(c,t);t+=8;var m=I(c,t);t+=8;var g=I(c,t);t+=8;var W=I(c,t);t+=8;var L=g*C,b=W*M,T=Math.max(L,C-L),a=Math.max(b,M-b),R=Math.sqrt(T*T+a*a),D=1/R;
for(var K=0;K<M;K++)for(var X=0;X<C;X++){var w=(X+.5-L)*D,N=(K+.5-b)*D,s=w*w+N*N,aZ=1+(E+(cj+(u+(cd+m*s)*s)*s)*s)*s,o=(K*C+X)*3;
$[o]=aZ*$[o];$[o+1]=aZ*$[o+1];$[o+2]=aZ*$[o+2]}}else if(U==4&&F==1){var t=Q,jN=d(c,t);t+=4;var eh=d(c,t);
t+=4;for(var O=0;O<k;O++)if($[O]==jN)$[O]=$[O-2]+$[O+2]>>1}else if(U==5&&F==1){var t=Q,iA=d(c,t);t+=4;
var hd=d(c,t);t+=4;var kx=d(c,t);t+=4;for(var O=0;O<hd;O++){var b0=d(c,t);t+=4;var gX=d(c,t);t+=4;var O=b0*C+gX;
$[O]=$[O-2]+$[O+2]>>1}}else if(U==7&&F==1){var t=Q,j$=P.$K(c,t);t+=16;var i0=d(c,t);t+=4;var f7=d(c,t);
t+=4;var am=d(c,t),gf=d(c,t+4);t+=8;var cC=d(c,t);t+=4;var aD=new Uint16Array(cC);for(var O=0;O<cC;O++)aD[O]=P.G2(c,t+2*O);
var c_=j$.r,a9=j$.$;for(var K=0;K<a9;K+=am)for(var X=0;X<c_;X+=gf){var O=(j$.y+K)*C+(j$.x+X);$[O]=aD[$[O]]}}else if(U==8&&F==2){var t=Q,j$=P.$K(c,t);
t+=16;var i0=d(c,t);t+=4;var f7=d(c,t);t+=4;var am=d(c,t),gf=d(c,t+4);t+=8;var jz=d(c,t);t+=4;var g3=[];
for(var O=0;O<=jz;O++)g3[O]=P.Dw(c,t+O*8);var e3=j$.x,c1=j$.x+j$.r,dI=j$.y,kJ=j$.y+j$.$,cA=r.t50717[0],c2=1/cA;
for(var ee=0;ee<f7;ee++)for(var K=dI;K<kJ;K+=am){var o=3*K*C+i0+ee;for(var X=e3;X<c1;X+=gf){var O=o+3*X,hF=$[O]*c2,ic=g3[jz];
for(var eH=jz;eH>0;eH--)ic=ic*hF+g3[eH-1];$[O]=Math.max(0,Math.min(65535,~~(ic*cA)))}}}else if(U==9&&F==2){var t=Q,j$=P.$K(c,t),fq=!0;
t+=16;var i0=d(c,t);t+=4;var f7=d(c,t);t+=4;var am=d(c,t),gf=d(c,t+4);t+=8;var kz=d(c,t),kq=d(c,t+4);
t+=8;var a7=I(c,t),i6=I(c,t+8);t+=16;var hm=I(c,t),bB=I(c,t+8);t+=16;var iV=d(c,t);t+=4;if(iV!=1)throw"more than one map plane";
var eO=kz*kq,aC=new Float32Array(eO);for(var eH=0;eH<eO;eH++)aC[eH]=P.LC(c,t+eH*4);for(var eH=0;eH<eO;
eH++)if(aC[eH]!=1)fq=!1;if(!fq){var c_=j$.r,a9=j$.$,bX=.9999*(kq-1)/c_,gb=.9999*(kz-1)/a9;for(var K=0;
K<a9;K+=am)for(var X=0;X<c_;X+=gf){var O=(j$.y+K)*C+(j$.x+X),dX=X*bX,cb=K*gb,e6=Math.floor(dX),gn=Math.floor(cb),a2=dX-e6,kf=cb-gn,o=gn*kq+e6,dj=aC[o]*(1-a2)+aC[o+1]*a2,hr=aC[o+kq]*(1-a2)+aC[o+1+kq]*a2,iB=dj*(1-kf)+hr*kf;
$[O]=Math.max(0,Math.min(65535,~~($[O]*iB+.5)))}}}else console.log("Unknown opcode "+U+" in OpcodeList"+F+". Length: "+V);
Q+=V}};j.raw.a3V=function(F,r){var $=cN.ME(r),C=j.raw.a5f(F,r),M=j.t3.v4(C),l=cN.ayu($,cN.ME(cN.aaT)),k=j.t3.multiply(l,M);
return k};j.raw.an0=function(F){var r=F.t50728,M=1;if(r==null||r[0]==0)r=[1,1,1];var $=r.slice(0);$.push(0);
var C={x:.34567,y:.3585};do{var l=j.t3.v4(j.raw.a5f(F,C)),k=j.t3.Jh(l,$),d=cN.azk(k);M=Math.abs(C.x-d.x)+Math.abs(C.y-d.y);
C=d}while(M>1e-7);return C};j.raw.a5f=function(F,r){var $=cN.aak(r),C=j.raw.aJw,M=F.t50778?F.t50778[0]:0,l=F.t50779?F.t50779[0]:0,k=F.t50723,d=F.t50724;
if(k&&k.length==3)k=null;if(d&&d.length==3)d=null;var I=C(F.t50721,F.t50722,M,l,$.Ap),c=C(k,d,M,l,$.Ap);
I=I||[1,0,0,0,1,0,0,0,1];c=c||[1,0,0,0,1,0,0,0,1];var Q=F.t50727?[F.t50727[0],0,0,0,F.t50727[1],0,0,0,F.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return j.t3.multiply(j.t3.st(Q),j.t3.multiply(j.t3.st(c),j.t3.st(I)))};j.raw.aJw=function(F,r,$,C,M){if(!F&&!r){return null}else if(F&&!r){return F}else if(M<$){return F}else if(M>C){return r}else{var l=(1/M-1/C)/(1/$-1/C),k=1-l,d=[];
for(var O=0;O<9;O++)d[O]=F[O]*l+r[O]*k;return d}};j.raw.B9={};j.raw.On=function(F){F*=8;var r=[8,10,12,14,16];
for(var $ in CAMS){var C=CAMS[$];if(C.length==4)continue;var M=C[4],l=C[5];for(var O=0;O<r.length;O++)if(M*l*r[O]==F)return[$,r[O]]}var k=[[4e3,3e3]];
for(var O=0;O<k.length;O++){var C=k[O],M=C[0],l=C[1];for(var O=0;O<r.length;O++)if(M*l*r[O]==F)return[C,r[O]]}return null};
j.raw.al6=function(F){var F=new Uint8Array(F);for(var O=0;O<F.length;O+=2){var r=F[O];F[O]=F[O+1];F[O+1]=r}var $=j.raw.On(F.length),C=CAMS[$[0]];
if(C==null)C=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,$[0][0],$[0][1]];var M=C[4],l=C[5],k=Math.max(C[2],116),d={data:F,lM:1,width:M,height:l,t256:[M],t257:[l],t258:[$[1]],t277:[1],t33421:[2,2],t33422:j.raw.fW[C[1]],t50706:[1,2,0,0],t50714:[k,k,k,k],t50717:[C[3]],t50721:C[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var O=0;O<9;O++)d.t50721[O]/=1e4;return d};j.raw.auo=function(F){if(F==null||F.length==0||typeof F[0]=="number")return F;
var r=[];for(var O=0;O<F.length;O++)r[O]=F[O][1]==0?0:F[O][0]/F[O][1];return r};j.raw.fW=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
j.raw.normalize=function(F,r){if(F.t50706!=null||F.t271[0].startsWith("Hasselblad")){var $=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var O=0;O<$.length;O++)if(F["t"+$[O]]!=null)F["t"+$[O]]=j.raw.auo(F["t"+$[O]]);if(F.t271&&F.t271[0].startsWith("Hasselblad")){F.t50706=[1,2,0,0];
F.t33422=j.raw.fW[1];F.t50723=[1,0,0,0,1,0,0,0,1];F.t50778=[17];if(!F.isLE)for(var O=0;O<F.data.length;
O+=2){var C=F.data[O];F.data[O]=F.data[O+1];F.data[O+1]=C}}if(F.t272&&F.t272[0]=="HERO10 Black"){F.t50728=[.469725,1,.739884];
if(!F.t305[0].startsWith("Adobe")){var M=new Uint16Array(F.data.buffer);for(var O=0;O<M.length;O++)M[O]>>>=2}}return}var l=F.t258[0],k=F.exifIFD,r=new Uint8Array(r);
F.t50706=[1,2,0,0];var d=F.t271[0].trim(),I=F.t272[0].trim();if(F.t50708==null)F.t50708=[d+" "+I];var c=(d+":"+I).toLowerCase().trim(),Q=CAMS[c];
if(c=="panasonic:dmc-lx2")Q[3]=1<<16;if(Q==null){alert("Unknown camera:"+c);if(c.startsWith("canon"))Q=[[8532,-701,-1167,-4095,11879,2508,-797,2424,7010],1,512,16e3]}if(Q!=null){var x=Q[2],U=Q[3];
if(x!=0)F.t50714=[x,x,x,x];if(F.t272=="Canon EOS REBEL T3")Q[3]=13584;if(U!=0)F.t50717=[U];F.t50721=Q[0].slice(0);
for(var O=0;O<9;O++)F.t50721[O]=F.t50721[O]*(1/1e4)}F.t50723=[1,0,0,0,1,0,0,0,1];if(F.t50728==null)F.t50728=[.35,1,.6];
F.t50778=[17];if(d.startsWith("OLYMPUS")||d.startsWith("OM Digital Solutions")){F.t33422=[2,1,1,0];var S=k.t41730,Y;
if(S)F.t33422=[S[4],S[5],S[6],S[7]];var z=F.t50341;if(z==null)z=k.t36864;var V=j.raw.aFB(z.buffer,F);
F.data=new Uint8Array(V.buffer);if((F.height&1)==1)F.t50829=[0,0,F.height-1,F.width];var t=k.makerNote,i=t.t8256;
if(i)Y=i.t256;else Y=t.t12288.t256;if(Y)F.t50728=[256/Y[0],1,256/Y[1]]}else if(F.t271[0].startsWith("SONY")){var J=UTIF["_bin"+(F.isLE?"LE":"BE")],H=F.t28688,b;
if(JSON.stringify(H)!="[8000,10400,12900,14100]")console.log(H);if(H&&H.join("")!="0000"){var v=[0,0,0,0,0,4095],n=new Uint16Array(16385);
for(var O=0;O<4;O++){var G=H[O]>>>2;v[O+1]=G;if(G>4095)throw"e"}for(var O=0;O<16385;O++)n[O]=O;for(var O=0;
O<5;O++)for(var g=v[O]+1;g<=v[O+1];g++)n[g]=n[g-1]+(1<<O);var W=r.length*8<F.width*F.height*l;if(W)F.t50712=n}else console.log("no curve");
var L=F.dngPrvt;if(L){var T=L.t29184[0],a=L.t29185[0],R=(F.isLE?P.cA:P.dj)(L.t29217,0),D=new Uint32Array(r.slice(T,T+(a&4294967292)).buffer),h=new Uint32Array(a>>>2);
j.raw.alF(D,h,a>>>2,R);var K=new Uint8Array(T+a);K.set(new Uint8Array(h.buffer),T);var X=[];UTIF._readIFD(J,K,T,X,0,!1);
var w=X.pop(),N=w.t29458;F.t50728=[N[1]/N[0],1,N[1]/N[3]];F.t50730=[.5];var s=w.t29891;F.t50829=[s[1],s[0],s[3],s[2]]}else if(k.makerNote&&k.makerNote.t8208){var b=k.makerNote,A=b.t8208,p=A.length,q=0,f=new Uint8Array(256);
for(var O=249;O<256;O++)f[O]=O;for(var O=0;O<249;O++)f[O*O*O%249]=O;for(var O=0;O<p;O++)A[O]=f[A[O]];
if(p==6604)q=612;else throw"e";var N=[];for(var O=0;O<3;O++)N.push(P.nv(A,q+O*2));console.log(N);F.t50728=[N[1]/N[0],1,N[1]/N[2]]}else console.log("no white balance");
if(F.width*F.height*1.5==F.t279[0]){x=x>>>2;F.t50714=[x,x,x,x];F.t50717=[Q[3]>>>2]}}else if(F.t271[0].startsWith("Canon")){var r=F.data,e=r.slice(0),o=F.t50752,E=[],u=0;
if(o==null||o[0]==0&&o[1]==0)E.push(F.width);else{for(var O=0;O<o[0];O++)E.push(o[1]);E.push(o[2])}var cj=F.width*2,cd=F.t50885&&F.t50885[0]==4;
if(!cd)for(var m=0;m<E.length;m++){var aZ=E[m],jN=2*u,eh=2*aZ;for(var iA=0;iA<F.height;iA+=2){var hd=iA*cj+jN,kx=F.height*jN+iA*eh;
for(var O=0;O<eh;O++){r[hd+O]=e[kx+O];r[hd+O+cj]=e[kx+O+eh]}}u+=aZ}else{var b0=new Uint16Array(e.buffer),gX=new Uint16Array(r.buffer);
function j$(f7,am){gX[am*3+0]=b0[f7*3+0];gX[am*3+1]=b0[f7*3+1];gX[am*3+2]=b0[f7*3+2]}var i0=(o[0]*o[1]+o[2])/F.width;
for(var m=0;m<E.length;m++){var aZ=Math.round(E[m]/i0);for(var iA=0;iA<F.height;iA++){var f7=F.height*u+(i0==3?(iA>>>3)*8+[0,4,1,5,2,6,3,7][iA&7]:iA)*aZ,am=iA*F.width+u;
for(var gf=0;gf<aZ;gf++)j$(f7+gf,am+gf)}u+=aZ}var cC=new Uint16Array(r.buffer),aD=new Uint16Array(1),c_=new Int16Array(aD.buffer);
for(var O=0;O<cC.length;O+=3){var a9=cC[O],jz=cC[O+1],g3=cC[O+2];aD[0]=jz<<2;jz=c_[0]>>2;aD[0]=g3<<2;
g3=c_[0]>>2;cC[O+0]=Math.max(0,g3+a9);cC[O+1]=Math.max(0,(a9<<12)-jz*778-(g3<<11)>>12);cC[O+2]=Math.max(0,jz+a9)}}var b=k.makerNote,f7=b.t224;
if(f7){var T=F.t50719=[f7[5],f7[6]],e3=F.t50720=[f7[7]+1-f7[5],f7[8]+1-f7[6]],c1=b.t154;if(c1){T[0]+=c1[3];
T[1]+=c1[4];e3[0]=c1[1];e3[1]=c1[2]}}if(b.t16385){var dI=b.t16385,kJ=dI.length;if(dI instanceof Array)dI=new Uint16Array(dI);
if(dI instanceof Uint8Array)dI=new Int16Array(dI.slice(0).buffer);var cA=dI[0];if(kJ==1273||kJ==1275)cA=66;
var c2=[[null,null,null],[63,196,null],[63,231,null],[63,231,null],[63,231,696],[63,231,696],[63,231,719],[63,231,719],[null,null,null],[63,231,723],[63,504,508],[63,728,732],[63,326,782],[63,326,782],[63,326,560],[63,326,782],[71,329,796],[71,329,796],[71,329,796],[71,329,796]];
c2[-3]=[71,264,662];c2[-4]=[71,333,1385];c2[66]=[63,251,483];c2[32]=[85,343,810];c2[33]=[85,343,810];
c2[34]=[105,363,640];c2[48]=[105,363,640];var ee=c2[cA];if(ee==null){if(kJ==582)ee=[25,166,null];if(kJ==653)ee=[34,286,null]}var q=ee[0],hF=ee[1],ic=ee[2];
if(q)F.t50728=[dI[q+1]/dI[q],1,dI[q+1]/dI[q+3]];if(hF)F.t50714=[dI[hF],dI[hF],dI[hF],dI[hF]];if(ic)F.t50717=[dI[ic]]}else{F.t50728=[.4,1,.6]}if(cd){F.t277=[3];
F.t50728=[1,1,1];F.t50714=[0,0,0,0]}}else if(F.t271[0].startsWith("NIKON")){var b=k.makerNote,eH=F.isLE?P.nv:P.O4,bB=0,iV=0,gb,dj=0;
if(b.t61){var kz=b.t61,kq=[];for(var O=0;O<4;O++)kq[O]=kz[O]/Math.pow(2,14-l);F.t50714=kq}if(b.t3585){var a7=b.t3585,O=0,T=22;
while(T<a7.length&&O!=-4){var i6=P.cA(a7,T);T+=4;T+=14;O=P.cA(a7,T)-4;T+=4;if(i6==1990472198){if(a7[T]!=0)throw"Flip"}if(i6==1990472199){var hm=P.nv(a7,T);
if(hm==0)F.lM=1;else if(hm==270)F.lM=8;else throw"e "+hm}T+=O}}if(b.t183){var eO=b.t183,e3=[];for(var O=0;
O<6;O++)e3.push(eH(eO,16+O*2));bB=e3[0];iV=e3[1]}if(b.t3614){var aC=b.t3614;bB=P.cA(aC,8);iV=P.cA(aC,12)}if(bB!=0&&Math.max(bB,iV)<Math.max(F.width,F.height)){if(bB<iV){var C=bB;
bB=iV;iV=C}var gf=F.width-bB>>>1,iA=F.height-iV>>>1;F.t50829=[iA,gf,iA+iV,gf+bB]}else F.t50829=[8,8,F.height-8,F.width-56];
var fq=b.t69;if(fq){var bX=fq[1];if((bX&1)==1)bX++;F.t50829=[bX,fq[0],bX+fq[3],fq[0]+fq[2]]}if(b.t12){var dX=j.raw.auo(b.t12);
gb=[1/dX[0],1,1/dX[1]]}else if(b.t151){var cb=j.raw.aA0(b,151),e6=cb[0],bn=cb[1],gn=cb[2];if(e6=="0100"&&bn>=80){var a2=[];
for(var O=0;O<4;O++)a2.push(eH(gn,68+O*2));gb=[a2[3]/a2[0],1,a2[3]/a2[1]]}else if(e6=="0102"){var a2=[];
for(var O=0;O<4;O++)a2.push(eH(gn,6+O*2));gb=[a2[1]/a2[0],1,a2[1]/a2[3]]}else if(e6=="0103"&&bn>=26){var a2=[];
for(var O=0;O<4;O++)a2.push(eH(gn,16+O*2));gb=[a2[1]/a2[0],1,a2[3]/a2[2]]}else if(e6=="0204"&&bn>=564||e6=="0205"&&bn>=284){var T=e6=="0204"?6:14,a2=[];
for(var O=0;O<4;O++)a2.push(eH(gn,T+O*2));gb=[a2[1]/a2[0],1,a2[1]/a2[3]]}else throw"e"}else console.log("no white balance info");
if(I=="NIKON D1")gb=[1,1,1];if(gb)F.t50728=gb;var kf=b.t150?b.t150:b.t140;if(kf){var hr=kf[dj++],iB=kf[dj++],dv;
if(hr==73||iB==88)dj+=2110;dj+=8;var dm=1<<l&32767,fr=eH(kf,dj);dj+=2;var n=[];if(fr>1)dv=Math.floor(dm/(fr-1));
if(hr==68&&iB==32&&dv>0){for(O=0;O<fr;O++){n[O*dv]=eH(kf,dj);dj+=2}for(O=0;O<dm;O++)n[O]=Math.floor((n[O-O%dv]*(dv-O%dv)+n[O-O%dv+dv]*(O%dv))/dv)}else if(hr!=70&&fr<=16385){dm=fr;
for(var O=0;O<fr;O++)n[O]=eH(kf,dj+2*O);dj+=2*fr}var I=F.t272[0];if(n.length!=0)F.t50712=new Uint16Array(n);
if(F.t258[0]==14&&F.t50717&&F.t50717[0]<1e4){console.log("fixing white");F.t50717[0]*=4}}}else if(d.startsWith("FujiFilm")){}else if(d.startsWith("Panasonic")){if(F.t277==null)F.t277=[1]}else alert("Unknown camera "+d)};
j.raw.alF=function(F,r,$,C){if(0==$)return;var M=new Uint32Array(128),l=new Uint8Array(M.buffer),k=127,d=0,I=0;
for(var k=0;k<4;k++)M[k]=C=(C*15625>>>0)*3125+1>>>0;M[3]=M[3]<<1|(M[0]^M[2])>>>31;for(var k=4;k<127;
k++)M[k]=(M[k-4]^M[k-2])<<1|(M[k-3]^M[k-1])>>>31;for(var k=0;k<127;k++)M[k]=P.dj(l,k*4);for(;$>0;$--){M[k&127]=M[k+1&127]^M[k+1+64&127];
var c=M[k&127],Q=F[d];Q^=c;r[I]=Q;d++;I++;k++}};j.raw.a1J=function(F,r){var $=P.BW(r,0,4),C=j.raw.a73;
for(var O=0;O<C.length;O++)if(C[O][0]==F&&$.startsWith(C[O][1])&&(C[O][2]==0||C[O][2]==r.length))return C[O];
throw"e"};j.raw.a9R=function(F){if(F.t29==null)return[];var r=j.raw.aIc,$=j.raw.ayX,C=F.t29[0],M=0,k=0;
for(var O=0;O<C.length;O++){var l=C.charCodeAt(O);M=M*10+(48<=l&&l<=57?l-48:l%10)}var bn=F.t167[0];for(var O=0;
O<4;O++)k^=bn>>>(O<<3)&255;var d=r[M&255],I=$[k&255];return[d,I,96]};j.raw.aA0=function(F,r){var $=F["t"+r],bn=$.length,C=j.raw.a1J(r,$),M=P.BW($,0,4),l,k=C[4];
if(k==null)l=$.slice(4);else{l=new Uint8Array(bn-k);var d=j.raw.a9R(F),I=d[0],c=d[1],Q=d[2];for(var O=0;
O<l.length;O++){c=c+I*Q++&255;l[O]=$[k++]^c}}return[M,bn,l]};j.raw.aFB=function(F,r){var $=r.t271[0],C=r.t272[0],M=r.t256[0],l=r.t257[0],k=r.t258[0],d=r.t273[0],I=d,c=new Uint8Array(F),Q,x=M-4,U=l,S=c.length-d,t=0,Y=0;
function z(){var n=new Uint16Array(4096),bU=0;n[bU]=3084;for(var O=12;O--;)for(var G=0;G<2048>>O;G++)n[++bU]=O+1<<8|O;
return n}function V(){return c[I++]}function i(n,G){var g;if(n>25)return 0;if(n==0||Y<0)return 0;if(n<0){t=0;
Y=0;return 0}while(Y<n){g=V();if(g==null)break;t=(t<<8)+(255&g);Y+=8}g=Y==0?0:t<<32-Y>>>32-n;if(G){Y-=G[g]>>8;
g=255&G[g]}else Y-=n;return g}function J(){var n=z();I+=7;i(-1);for(var G=0;G<U;G++){var g=[new Int32Array(3),new Int32Array(3)];
for(var W=0;W<M;W++){var L=g[W&1],O=2*(L[2]<3),b;for(b=2+O;(65535&L[0])>>b+O;b++);var T=i(3),a=T&3;T=T<<29>>31;
var R=i(12,n);if(R==12)R=i(16-b)>>>1;var D=i(b);L[0]=R<<b|D;var h=(L[0]^T)+L[1];L[1]=h*3+L[1]>>5;L[2]=L[0]>16?0:L[2]+1;
if(W>=x)continue;var K=Q[G*M+W-2],bU=Q[(G-2)*M+W],X=Q[(G-2)*M+W-2];Q[G*M+W]=(G<2&&W<2?0:G<2?K:W<2?bU:K<X&&X<bU||bU<X&&X<K?Math.abs(K-X)>32||Math.abs(bU-X)>32?K+bU-X:K+bU>>1:Math.abs(K-X)>Math.abs(bU-X)?K:bU)+(h<<2|a)}}}function H(){var n=M*k/8,G=l+1>>1,W=0,L=0;
n+=n&6>>7;var g=n*8-M*k;for(var b=0;b<l;b++){var T=b%G*2+~~(b/G);if(T==1){W=0;I=d-(-G*n&-2048)}for(var a=0;
a<M;a++){for(W-=k;W<0;W+=8){L<<=8;for(var O=0;O<8;O+=8)L|=V()<<O}var R=L<<64-k-W>>>64-k;Q[T*M+a]=R}W-=g}}function v(){var n=!$.startsWith("OLYMPUS")||!$.startsWith("OM Digi")||!$.toLowerCase().startsWith("clauss")&&!C.toLowerCase().startsWith("pix 5oo");
return n&&S<M*l*(k/8)}if(v()){Q=new Uint16Array(x*U);J()}else if(M*l*2==r.data.length){Q=new Uint16Array(r.data.buffer)}else{Q=new Uint16Array(M*l);
H()}return Q};j.raw.a73=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
j.raw.aIc=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
j.raw.ayX=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
j.ZU={};j.ZU.ZU=function(F,r,$,C,M){if(C==null)C=3;if(M==null)M=!0;var l=F.r,k=F.$,d=1/l,I=l*k,c=Date.now(),Q=!1,x=j.ZU.amr($,l,k,255,128),U=j.ZU.amr($,l,k,0,128),cj=0;
if(Q)console.log("extract contours",Date.now()-c);c=Date.now();var S=function(kz,kq){var a7=kz<<2,i6=kq<<2;
return r[a7]+r[a7+1]+r[a7+2]-(r[i6]+r[i6+1]+r[i6+2])};x.sort(S);U.sort(S);var z=j.j(I),V=j.j(I),t=[],Y=new Uint32Array(l*k);
Y.fill(4294967295);for(var O=0;O<I;O++)if($[O]==0)V[O]=255;else if($[O]==255)z[O]=255;else{Y[O]=t.length;
t.push(O)}var i=x.length,J=U.length,H=t.length;function v(kz,kq,a7,i6){var hm=kz.length,bB=new Array(hm*2);
for(var O=0;O<hm;O++){var K=kz[O],X=~~(K*i6),w=K-X*a7,hF=K<<2;bB[O*2]=w<<16|X;bB[O*2+1]=kq[hF]<<16|kq[hF+1]<<8|kq[hF+2]}return bB}var n=v(x,r,l,d),G=v(U,r,l,d),g=v(t,r,l,d);
if(Q)console.log("Itemize",Date.now()-c,"Unknown:",H,i,J);c=Date.now();var W=j.style.ZE(z,l,k,!0),L=j.style.ZE(V,l,k,!0),b=new Array(H),T=new Array(H),a=new Array(H),R=new Array(H),D=new Array(H);
if(Q)console.log("Dist transform",Date.now()-c);c=Date.now();var h=j.ZU.tA;for(var O=0;O<H;O++){var K=t[O],X=~~(K*d),w=K-X*l,N=W[K<<1],s=W[(K<<1)+1],A=Math.sqrt(N*N+s*s),p=L[K<<1],q=L[(K<<1)+1],f=Math.sqrt(p*p+q*q);
b[O]=1/A;T[O]=1/f;var e=Math.floor(j.v.oD(K*17)*i),o=Math.floor(j.v.oD(K*19)*J);a[O]=e;R[O]=o;D[O]=h(g[O*2],g[O*2+1],n[e*2],n[e*2+1],G[o*2],G[o*2+1],b[O],T[O],1e9)}var E=[-l-1,-l,-l+1,-1,1,l-1,l,l+1];
while(Math.floor(Math.max(i,J)*Math.pow(.5,cj))>1)cj++;for(var u=0;u<C;u++){var cd=0;for(var O=0;O<H;
O++){var K=t[O],X=~~(K*d),w=K-X*l,m=b[O],aZ=T[O],jN=g[O*2],hd=g[O*2+1],kx=D[O],e=a[O],o=R[O],am=1;if(X!=0&&w!=0&&w!=l-1&&X!=k-1)for(var b0=0;
b0<8;b0++){var gX=Y[K+E[b0]];if(gX==4294967295)continue;var j$=a[gX],i0=R[gX];if(j$==e&&i0==o)continue;
var f7=h(jN,hd,n[j$*2],n[j$*2+1],G[i0*2],G[i0*2+1],m,aZ,kx);if(f7<kx){kx=f7;e=j$;o=i0}}for(var gf=0;
gf<cj;gf++){var cC=~~(i*am),aD=~~(J*am);am*=.5;var c_=j.v.oD(K+u*17+gf*31),a9=j.v.oD(K+u*29+gf*63),jz=Math.max(0,e-cC),e3=Math.min(e+cC,i-1),c1=Math.max(0,o-aD),dI=Math.min(o+aD,J-1),j$=jz+~~(c_*(e3-jz)),i0=c1+~~(a9*(dI-c1)),f7=h(jN,hd,n[j$*2],n[j$*2+1],G[i0*2],G[i0*2+1],m,aZ,kx);
if(f7<kx){kx=f7;e=j$;o=i0}}D[O]=kx;a[O]=e;R[O]=o;cd+=kx}}if(Q)console.log(cd);if(Q)console.log("iterations",Date.now()-c);
c=Date.now();var kJ=$.slice(0);for(var O=0;O<H;O++){var cA=j.ZU.alpha(g[O*2+1],n[a[O]*2+1],G[R[O]*2+1]);
kJ[t[O]]=~~(.5+255*cA)}kJ=j.XQ.atL(kJ,r,new cS(0,0,l,k),16,.01*.01);if(Q)console.log("guided filter",Date.now()-c);
c=Date.now();if(M)for(var O=0;O<I;O++)if($[O]==255||$[O]==0)kJ[O]=$[O];var c2=r.slice(0);for(var O=0;
O<H;O++){var ee=t[O],e=x[a[O]],kx=D[O],hF=ee<<2,ic=kJ[ee],eH=(ic>=250?ee:e)<<2;c2[hF]=r[eH];c2[hF+1]=r[eH+1];
c2[hF+2]=r[eH+2]}j.dr(kJ,c2,3);if(Q)console.log(Date.now()-c);c=Date.now();return c2};j.ZU.tA=function(F,r,$,C,M,l,k,d,I){var c=F>>>16,Q=F&65535,x=c-($>>>16),U=Q-($&65535),S=c-(M>>>16),z=Q-(M&65535),V=Math.sqrt(x*x+U*U)*k,t=Math.sqrt(S*S+z*z)*d;
if(V+t>=I)return 1e9;var Y=j.ZU.aCr(r,C,l);return Y+V+t};j.ZU.aCr=function(F,r,$){var C=F>>>16,M=F>>>8&255,l=F&255,k=r>>>16,d=r>>>8&255,I=r&255,c=$>>>16,Q=$>>>8&255,x=$&255,U=j.ZU.alpha(F,r,$),S=C-(U*k+(1-U)*c),z=M-(U*d+(1-U)*Q),V=l-(U*I+(1-U)*x);
return Math.sqrt(S*S+z*z+V*V)};j.ZU.alpha=function(F,r,$){var C=F>>>16,M=F>>>8&255,l=F&255,k=r>>>16,d=r>>>8&255,I=r&255,c=$>>>16,Q=$>>>8&255,x=$&255,U=k-c,S=d-Q,z=I-x,V=C-c,t=M-Q,Y=l-x,i=U*U+S*S+z*z,J=i==0?.5:(V*U+t*S+Y*z)/i;
return Math.max(0,Math.min(1,J))};j.ZU.aev=function(F){};j.ZU.amr=function(F,r,$,C,M){var l=[],k=r-1,d=$-1;
for(var I=1;I<d;I++)for(var c=1;c<k;c++){var O=I*r+c;if(F[O]==C&&(F[O-r-1]==M||F[O-r]==M||F[O-r+1]==M||(F[O-1]==M||F[O+1]==M)||(F[O+r-1]==M||F[O+r]==M||F[O+r+1]==M)))l.push(O)}return l};
j.XQ={};j.XQ.am4=function(F,r,$,C,M){var l=$.r,k=$.$,d=l*k,I=j.XQ.a1e,c=j.j(d*4),Q;c.fill(255);var x=$,U=F,S=r,z=C;
j.dr(F,c,0);Q=j.JA(c,$);Q=j.JA(Q.fU,Q.S);x=Q.S;z=C>>>2;console.log(x,z);U=j.j(x.C());j.Eg(Q.fU,U,0);
j.dr(r,c,0);Q=j.JA(c,$);Q=j.JA(Q.fU,Q.S);S=j.j(x.C());j.Eg(Q.fU,S,0);var V=j.XQ.a8T(U,S,x,z,M),t=V[0],Y=V[1],i=new cS(0,0,x.r*2,x.$*2);
t=I(t,x,i,!0);t=I(t,i,$,!0);Y=I(Y,x,i,!0);Y=I(Y,i,$,!0);var J=j.j(d);for(var O=0;O<d;O++)J[O]=Math.max(0,Math.min(255,Math.floor(.5+(t[O]*r[O]+255*Y[O]))));
return J};j.XQ.Zi=function(F,r,$,C){r.set(F);j.Zi.e8(r,$,C)};j.XQ.a1e=function(F,r,$,C){var M=$.r,l=$.$,k=r.r,d=r.$,I=j.XQ.J$,c=new Float32Array(M*l);
for(var Q=0;Q<d;Q++){var x=(Q+Q)*M;for(var U=0;U<k;U++){if(!0||U==0||Q==0||U==k-1||Q==d-1)c[x]=c[x+1]=c[x+M]=c[x+M+1]=F[Q*k+U];
else{c[x]=I(U+.25,Q+.25,F,k,d);c[x+1]=I(U+.75,Q+.25,F,k,d);c[x+M]=I(U+.25,Q+.75,F,k,d);c[x+M+1]=I(U+.75,Q+.75,F,k,d)}x+=2}}return c};
j.XQ.J$=function(F,r,$,C,M){F-=.499999;r-=.499999;var l=Math.floor(F),k=Math.floor(r),d=k*C+l,I=F-l,c=r-k,Q=(1-c)*(1-I),x=(1-c)*I,U=c*(1-I),S=c*I;
if($[d]==null||$[d+C+1]==null){console.log(F,r,C,M);throw"e"}return Q*$[d+0]+x*$[d+1]+U*$[d+C+0]+S*$[d+C+1]};
j.XQ.a8T=function(F,r,$,C,M){var l=$.r,k=$.$,d=l*k,I=j.XQ.ain,c=j.XQ.j,Q=j.XQ.Zi,x=j.XQ.YE,r=I(r,d),F=I(F,d),U=c(d);
Q(r,U,$,C);var S=c(d);Q(F,S,$,C);var z=c(d);x(r,r,z);Q(z,z,$,C);var V=c(d);x(r,F,V);Q(V,V,$,C);var t=c(d),Y=c(d);
for(var O=0;O<d;O++){var i=U[O],J=S[O],H=z[O]-i*i,v=V[O]-i*J,n=v/(H+M),G=J-n*i;t[O]=n;Y[O]=G}var g=c(d);
Q(t,g,$,C);var W=c(d);Q(Y,W,$,C);return[g,W]};j.XQ.atL=function(F,r,$,C,M){var l=$.r,k=$.$,d=l*k,I=j.XQ.a1e,c=Date.now(),Q=!1,x=$,U=F,S=r,z=C;
x=new cS(0,0,l>>>2,k>>>2);z=C>>>2;U=j.XQ.auO(F,l,k);S=j.XQ.aIK(r,l,k);if(Q)console.log(Date.now()-c);
c=Date.now();var V=j.XQ.aEc(U,S,x,z,M),t=V[0],Y=V[1],i=V[2],J=V[3];if(Q)console.log(Date.now()-c);c=Date.now();
var H=j.j(d);for(var v=0;v<k;v++)for(var n=0;n<l;n++){var O=v*l+n,G=(v>>>2)*(l>>>2)+(n>>>2),g=O<<2,W=t[G]*r[g]+Y[G]*r[g+1]+i[G]*r[g+2]+J[G]*255;
H[O]=Math.max(0,Math.min(255,~~(.5+W)))}if(Q)console.log(Date.now()-c);c=Date.now();return H};j.XQ.auO=function(F,r,$){var C=r>>>2,M=$>>>2,l=j.j(C*M);
for(var k=0;k<M;k++)for(var d=0;d<C;d++)l[k*C+d]=F[k*r+d<<2];return l};j.XQ.aIK=function(F,r,$){var C=r>>>2,M=$>>>2,l=j.j(C*M*4);
for(var k=0;k<M;k++)for(var d=0;d<C;d++){var I=k*C+d<<2,c=k*r+d<<4;l[I]=F[c];l[I+1]=F[c+1];l[I+2]=F[c+2];
l[I+3]=F[c+3]}return l};j.XQ.aEc=function(F,r,$,C,M){var l=$.r,k=$.$,d=l*k,I=j.XQ.ain,c=j.XQ.j,Q=j.XQ.Zi,x=j.XQ.YE,F=I(F,d),U=new j.fJ(l*k);
j.t9(r,U);var r=[I(U.t,d),I(U.L,d),I(U.X,d)],S=j.XQ.a19(F,r,$,C,M),z=c(d);Q(F,z,$,C);var V=c(d);x(r[0],F,V);
Q(V,V,$,C);var t=c(d);x(r[1],F,t);Q(t,t,$,C);var Y=c(d);x(r[2],F,Y);Q(Y,Y,$,C);var i=c(d),J=c(d),H=c(d),v=c(d);
for(var O=0;O<d;O++){var n=z[O],G=S.RO[O],g=S.AM[O],W=S.H7[O],L=V[O]-G*n,b=t[O]-g*n,T=Y[O]-W*n;i[O]=S.aAu[O]*L+S.nZ[O]*b+S.Fl[O]*T;
J[O]=S.nZ[O]*L+S.aCE[O]*b+S.gD[O]*T;H[O]=S.Fl[O]*L+S.gD[O]*b+S.aF4[O]*T;v[O]=n-i[O]*G-J[O]*g-H[O]*W}Q(i,i,$,C);
Q(J,J,$,C);Q(H,H,$,C);Q(v,v,$,C);return[i,J,H,v]};j.XQ.a19=function(F,r,$,C,M){var l=$.r,k=$.$,d=l*k,I=j.XQ.j,c=j.XQ.Zi,Q=j.XQ.YE,x={};
x.RO=I(d);c(r[0],x.RO,$,C);x.AM=I(d);c(r[1],x.AM,$,C);x.H7=I(d);c(r[2],x.H7,$,C);var U=I(d);Q(r[0],r[0],U);
c(U,U,$,C);var S=I(d);Q(r[0],r[1],S);c(S,S,$,C);var z=I(d);Q(r[0],r[2],z);c(z,z,$,C);var V=I(d);Q(r[1],r[1],V);
c(V,V,$,C);var t=I(d);Q(r[1],r[2],t);c(t,t,$,C);var Y=I(d);Q(r[2],r[2],Y);c(Y,Y,$,C);x.aAu=U;x.nZ=S;
x.Fl=z;x.aCE=V;x.gD=t;x.aF4=Y;for(var O=0;O<d;O++){var i=x.RO[O],J=x.AM[O],H=x.H7[O],v=U[O]-i*i+M,n=S[O]-i*J,G=z[O]-i*H,g=V[O]-J*J+M,W=t[O]-J*H,L=Y[O]-H*H+M,b=g*L-W*W,T=W*G-n*L,a=n*W-g*G,R=v*L-G*G,D=G*n-v*W,h=v*g-n*n,K=b*v+T*n+a*G,X=1/K;
x.aAu[O]=b*X;x.nZ[O]=T*X;x.Fl[O]=a*X;x.aCE[O]=R*X;x.gD[O]=D*X;x.aF4[O]=h*X}return x};j.XQ.j=function(F){return new Float32Array(F)};
j.XQ.ain=function(F,r){var $=new Float32Array(r);for(var O=0;O<r;O++)$[O]=F[O]*(1/255);return $};j.XQ.YE=function(F,r,$){for(var O=0;
O<F.length;O++)$[O]=F[O]*r[O]};j.ng={};j.ng.XK=function(F,r,$,C){var M=F[r]-$[C],l=F[r+1]-$[C+1],k=F[r+2]-$[C+2];
return Math.sqrt(M*M+l*l+k*k)*(1/441.7)};j.ng.getSelection=function(F,r,$){var C=r*$,M=j.j(C),l=!1,k=Math.round($*.7),d=1,I=new Uint32Array(12),c=j.j(12);
for(var Q=0;Q<k;Q++)for(var x=0;x<r;x++){if(x<d||Q<d||x>r-d-1||Q>$-d-1){var O=Q*r+x,U=O<<2,S=0;if(Q<d)S=4;
else if(x>r-d-1)S=8;I[S]+=F[U];I[S+1]+=F[U+1];I[S+2]+=F[U+2];I[S+3]++;M[O]=255}}for(var O=0;O<12;O+=4)for(var z=0;
z<3;z++)c[O+z]=I[O+z]/I[O+3];var V=new Float32Array(C);for(var O=0;O<C;O++){var U=O*4,t=j.ng.XK(F,U,c,0),Y=j.ng.XK(F,U,c,4),i=j.ng.XK(F,U,c,8),J=Math.max(t,Math.max(Y,i));
V[O]=t+Y+i-J}j.ng.M7(V);var H=Date.now(),v=new Float32Array(C),n=[],G=j.j(C);for(var O=0;O<3;O++){j.Eg(F,G,O);
var g=new Uint16Array(C);n.push(g);j.ng.afc(G,M,r,$,g)}if(l)console.log("MBD",Date.now()-H);H=Date.now();
for(var O=0;O<C;O++)v[O]=n[0][O]+n[1][O]+n[2][O];j.ng.M7(v);for(var O=0;O<C;O++)v[O]+=.4*V[O];var W=r>>>1,k=$>>>1,L=1/Math.sqrt(W*W+k*k);
for(var Q=0;Q<$;Q++)for(var x=0;x<r;x++){var b=x-W,T=Q-k,a=1-Math.sqrt(b*b+T*T)*L;v[Q*r+x]*=a}if(l)console.log("Centeredness",Date.now()-H);
H=Date.now();for(var O=0;O<C;O++)M[O]=v[O]*255;var R=Math.round(r/120),D=Math.round(R*.8);if(l)console.log(R,D);
j.j1.lF(M,M,r,$,R+R+1,!1);if(l)console.log("erosion",Date.now()-H);H=Date.now();for(var O=0;O<C;O++)v[O]=M[O];
j.ng.M7(v);var h=j.j(256);for(var O=0;O<256;O++)h[O]=256/(1+Math.exp(-20*(O/255-.5)));for(var O=0;O<C;
O++){var K=~~(v[O]*255+.5);M[O]=h[K]}if(l)console.log("Simoid",Date.now()-H);H=Date.now();return M};
j.ng.M7=function(F){var r=F.length,$=0;for(var O=0;O<r;O++)$=Math.max($,F[O]);var C=1/$;for(var O=0;
O<r;O++)F[O]=F[O]*C};j.ng.afc=function(F,r,$,C,M){var l=$*C,k=F.slice(0),d=F.slice(0);for(var O=0;O<l;
O++)M[O]=r[O]==255?0:65535;j.ng.a5S(F,d,k,M,$,C);j.ng.aJ$(F,d,k,M,$,C);j.ng.a5S(F,d,k,M,$,C);j.ng.aJ$(F,d,k,M,$,C);
return M};j.ng.a5S=function(F,r,$,C,M,l){for(var k=1;k<M;k++)j.ng.SQ(k,-1,F,r,$,C);for(var d=1;d<l;d++){j.ng.SQ(d*M,-M,F,r,$,C);
for(var k=1;k<M;k++){var O=d*M+k;j.ng.SQ(O,-1,F,r,$,C);j.ng.SQ(O,-M,F,r,$,C)}}};j.ng.aJ$=function(F,r,$,C,M,l){for(var k=M-2;
k>=0;k--)j.ng.SQ(M*l-M+k,1,F,r,$,C);for(var d=l-2;d>=0;d--){j.ng.SQ(d*M+M-1,M,F,r,$,C);for(var k=M-2;
k>=0;k--){var O=d*M+k;j.ng.SQ(O,1,F,r,$,C);j.ng.SQ(O,M,F,r,$,C)}}};j.ng.SQ=function(O,F,r,$,C,M){var l=O+F,k=r[O],d=$[l],I=C[l];
if(d<k)d=k;else if(k<I)I=k;var c=d-I;if(M[l]!=65535&&c<M[O]){M[O]=c;$[O]=d;C[O]=I}};j.IG={};j.IG.filter=function(F,r,$,C){var M=r.r,l=r.$,k=M*l,d=C[0],I=C[1],c=C[2],Q=C[3],x=C[4],U=C[5],S=C[6],z=Date.now(),V=new Float32Array(M*l*4);
j.IG.a6$(F,M,l,V);var t=Math.ceil(d*Math.sqrt(-2*Math.log(.1))),Y=new ArrayBuffer(k*4),i=new Float32Array(Y),J=new Float32Array(k),H=new Float32Array(k);
for(var O=0;O<k;O++){var v=O*4;i[O]=V[v];J[O]=V[v+1];H[O]=V[v+2]}j.Zi.eO(i,r,t*1/2.4,2);j.Zi.eO(J,r,t*1/2.4,2);
j.Zi.eO(H,r,t*1/2.4,2);for(var O=0;O<k;O++){var v=O*4;V[v]=i[O];V[v+1]=J[O];V[v+2]=H[O]}var n=new Uint8Array(Y);
for(var O=0;O<k;O++){var v=O*4,G=O*4,i=V[v],J=V[v+1],H=V[v+2],g=Math.sqrt((i-H)*(i-H)+4*J*J),W=(i+H+g)*.5,L=(i+H-g)*.5,b=L-H,T=J,a=b*b+T*T;
if(a!=0){var R=Math.sqrt(a),D=1/R;b*=D;T*=D}n[G]=128+127*b;n[G+1]=128+127*T}var h=1.3*I+2,K=Q*(2/10),X=F.slice();
if(jp.mE){var w=new Float32Array([1/M,1/l]),N=jp.lt(0,M,l);N.set(X);var s=jp.lt(1,M,l);s.set(n);jp.Tt(N,r);
if(x){N.eR(r);jp.filter.xl({I:jp.filter.aJC,Hb:w,amH:1/c,afV:K},N.ad)}N.eR(r);jp.filter.xl({I:jp.filter.HT,Ts:s.VJ,Hb:w,z3:h,mP:2},N.ad);
if(x){N.eR(r);jp.filter.xl({I:jp.filter.a7x,Hb:w,aHR:new Float32Array(S),ans:U},N.ad)}N.get($)}else{if(x)j.IG.o8(1/c,K,X,M,l);
j.IG.HT(X,$,n,M,l,h);if(x)j.IG.a4V(M,l,$,S,U)}var A=k*4;for(var O=3;O<A;O+=4)$[O]=F[O]};j.IG.HT=function(F,r,$,C,M,l){var k=Math.ceil(2*l),d=-1/(2*l*l),I=[],c=1;
for(var O=0;O<k+20;O++)I[O]=Math.exp(O*O*d);var Q=[0,0,0,0];for(var x=0;x<M;x++){for(var U=0;U<C;U++){var S=x*C+U,z=S*4,V=1,t=F[z],Y=F[z+1],i=F[z+2],J=F[z+3],H=($[z]-128)*(1/127),v=($[z+1]-128)*(1/127),n=H,G=v,g=U==0?.51:.49,W=x==0?.51:.49;
for(var O=0;O<2;O++){var L=U+g,b=x+W,T=0;while(T<k){if(L<.5||C-.5<L||b<.5||M-.5<b)break;var a=~~L,R=~~b,D=R*C+a,h=D*4,K=($[h]-128)*(1/127),X=($[h+1]-128)*(1/127);
if(K*n+X*G<0){K=-K;X=-X}n=K;G=X;L+=c*K;b+=c*X;if(L<.5||C-.5<L||b<.5||M-.5<b)break;var w=~~L,N=~~b,s=N*C+w<<2;
T+=c;var A=I[~~T];j.H.ayP(L,b,F,C,M,Q);t+=Q[0]*A;Y+=Q[1]*A;i+=Q[2]*A;J+=Q[3]*A;V+=A}n=-H;G=-v}var p=1/V;
r[z]=~~(.5+t*p);r[z+1]=~~(.5+Y*p);r[z+2]=~~(.5+i*p);r[z+3]=~~(.5+J*p)}}};j.IG.a4V=function(F,r,$,C,M){for(var l=0;
l<r;l++)for(var k=0;k<F;k++){var d=l*F+k<<2,I=1+j.IG.apK(k,l,$,F,r,C)*M;$[d]=Math.max(0,Math.min(255,$[d]*I));
$[d+1]=Math.max(0,Math.min(255,$[d+1]*I));$[d+2]=Math.max(0,Math.min(255,$[d+2]*I))}};j.IG.apK=function(F,r,$,C,M,l){var k=$[(r*C+Math.max(0,F-1))*4+3],d=$[(r*C+Math.min(C-1,F+1))*4+3],I=$[(Math.max(0,r-1)*C+F)*4+3],c=$[(Math.min(M-1,r+1)*C+F)*4+3],Q=.7,x=(d-k)*(1/255),U=.7,S=(c-I)*(1/255),z=-x*U,V=-Q*S,t=Q*U,Y=Math.sqrt(z*z+V*V+t*t),i=1/Y,J=z*i,H=V*i,v=t*i,n=l[0]*J+l[1]*H+l[2]*v;
return n};j.IG.o8=function(F,r,$,C,M){function l(d,c,Q){return Math.max(c,Math.min(Q,d))}for(var k=0;
k<M;k++)for(var d=0;d<C;d++){var I=j.IG.aAM(d+.5,k+.5,F,r);$[(k*C+d)*4+3]=Math.max(0,Math.min(255,I*255))}};
j.IG.aAM=function(F,r,$,C){function M(G,g,W){return(1-W)*G+W*g}var l=(F+613)*$,k=(r+117)*$,d=~~l,I=~~k,c=l-d,Q=k-I,x=Math.sin(11),U=Math.cos(d)*x,S=Math.cos(d+1)*x,z=Math.cos(I)*x,V=Math.cos(I+1)*x,bU=j.IG.hash(U,z),t=j.IG.hash(S,z),Y=j.IG.hash(U,V),i=j.IG.hash(S,V),J=M(bU,t,c),H=M(Y,i,c),v=M(J,H,Q);
v=v<.5?0:1;var n=v+C*j.IG.hash(Math.cos(l)*x,Math.cos(k)*x);return n*(1/3)};j.IG.hash=function(F,r){var $=Math.sin(F*11.697096+r*73.32456)*12157.47691;
return $-Math.floor($)};j.IG.a6$=function(F,r,$,C){var M=[-1,0,1,-2,0,2,-1,0,1],l=[-1,-2,-1,0,0,0,1,2,1],k=r-1,d=$-1,I=r*4;
for(var c=1;c<d;c++)for(var Q=1;Q<k;Q++){var O=c*r+Q,x=O*4,U=j.IG.H8(F,x,I,M),S=j.IG.H8(F,x,I,l),z=j.IG.H8(F,x+1,I,M),V=j.IG.H8(F,x+1,I,l),t=j.IG.H8(F,x+2,I,M),Y=j.IG.H8(F,x+2,I,l);
C[x]=U*U+z*z+t*t;C[x+1]=U*S+z*V+t*Y;C[x+2]=S*S+V*V+Y*Y}j.IG.aIs(C,r,$)};j.IG.H8=function(F,r,$,C){return F[r-$-4]*C[0]+F[r-$]*C[1]+F[r-$+4]*C[2]+F[r-4]*C[3]+F[r]*C[4]+F[r+4]*C[5]+F[r+$-4]*C[6]+F[r+$]*C[7]+F[r+$+4]*C[8]};
j.IG.aIs=function(F,r,$){function C(I,O,c){var Q=O*4,x=c*4;I[x]=I[Q];I[x+1]=I[Q+1];I[x+2]=I[Q+2]}var M=r-1,l=$-1;
C(F,r+1,0);C(F,2*r-2,r-1);for(var k=1;k<M;k++)C(F,r+k,k);for(var d=1;d<l;d++){C(F,d*r+1,d*r);C(F,d*r+r-2,d*r+r-1)}for(var k=1;
k<M;k++)C(F,($-2)*r+k,($-1)*r+k);C(F,(d-2)*r+1,(d-1)*r);C(F,(d-1)*r-2,d*r-1)};j.DF=function(){function F(c,Q,x,U){var S=new Float32Array(c*c),z=c/2;
for(var V=0;V<c;V++)for(var t=0;t<c;t++){var Y=t+x-z,i=V+U-z;S[V*c+t]=Math.max(0,Math.min(1,Q+.5-Math.sqrt(Y*Y+i*i)))}return S}var r=[],C=null;
function $(c,Q,x,U){var S=Math.floor(Q*10),z=r[S],V=c*8,t=V>>>1;if(z==null){z=r[S]=[];var Y=new cS(0,0,V,V),i=c/2/(1+.2*Q),J=Math.floor(c*S*.1);
for(var H=0;H<2;H++)for(var v=0;v<2;v++){var n=F(V,i,.25+v*.5,.25+H*.5),G=0;j.Zi.eO(n,Y,J);while(n[V*t+G]<.005)G++;
if(G!=0)G--;var g=2*(t-G),W=new cS(G,G,g,g),L=new Float32Array(g*g);for(var b=0;b<g;b++)for(var T=0;
T<g;T++)L[b*g+T]=n[(G+b)*V+G+T];z.push([L,W])}}var a=Math.floor(x),R=Math.floor(U),D=x-a,h=U-R,K=D<.5?1:0,X=h<.5?1:0;
z=z[X*2+K];var W=z[1].P();W.x+=a-t;W.y+=R-t;return[z[0],W]}function M(c,Q,x){if(C==null){C=new Uint8Array(4e4);
for(var O=0;O<4e4;O++)C[O]=Math.min(255,~~(.5+255*j.Fy(O*(1/255))))}var U=c.length;for(var O=0;O<U;O++){var S=c[O],z=~~(255*S);
Q[O]=C[z]<<24|x}}function l(c,Q,x,U,S){var z=Q.R7(U),V=Math.max(0,z.x-Q.x),t=Math.max(0,z.x-U.x),Y=Math.max(0,z.y-Q.y),i=Math.max(0,z.y-U.y),J=z.r,H=z.$;
for(var O=0;O<H;O++){var v=(Y+O)*Q.r+V,n=(i+O)*U.r+t;for(var G=0;G<J;G++){x[n+G]+=S*c[v+G]}}}var k=-1;
function d(c,Q,x,U,S){var z=Math.round(U[1]*Q*x*.01),V=U[2],t=U[3],Y=U[4],i=U[5],J=U[6],H=U[7],v=U[8],n=U[9],G=U[10]?U[10]:1,A=!1;
if(V!=k){r=[];k=V}var g=Date.now(),W=new cS(0,0,Q,x),L=new I(U[0]);if(S)c.fill(0);var b=new Float32Array(S?c.buffer:Q*x);
for(var O=0;O<z;O++){var T=L.get()*Q,a=L.get()*x,R=L.get()*t,D=L.get()*V*4,h=(L.get()+J)*Math.PI*2,K=L.get()*V*4,X=(L.get()+2*J)*Math.PI*2;
T+=n*(D*Math.cos(h)+K*Math.cos(X));a+=n*(D*Math.sin(h)+K*Math.sin(X));if(v)a=a+J*x*G;var w=$(V,R,T,a%x),N=Y,s=L.get();
if(H)N=.5+.5*Y*(.5+.5*Math.sin((2*J+s)*2*Math.PI));l(w[0],w[1],b,W,N)}if(A)console.log(Date.now()-g,"add floats");
g=Date.now();var p=new Uint8Array(b.buffer);M(b,new Uint32Array(p.buffer),i.X<<16|i.L<<8|i.t);if(A)console.log(Date.now()-g,"toInt");
g=Date.now();if(!S){j.v.O5("scrn",p,W,c,W,W,1);if(A)console.log(Date.now()-g,"blendOver")}}function I(c){this.r_=123456789;
this._F=987654321;this.Lj=4294967295;this.Ke(c)}I.prototype.Ke=function(O){this.r_=123456789+O&this.Lj;
this._F=987654321-O&this.Lj};I.prototype.get=function(){this._F=36969*(this._F&65535)+(this._F>>16)&this.Lj;
this.r_=18e3*(this.r_&65535)+(this.r_>>16)&this.Lj;var c=(this._F<<16)+(this.r_&65535)>>>0;c/=4294967296;
return c};return{ya:d}}();j.sw={};j.sw.jV=function(F,r,$,C){var M=F[r*2],l=F[r*2+1],k=F[$*2],d=F[$*2+1],I=F[C*2],c=F[C*2+1];
return M*d+k*c+I*l-I*d-k*l-M*c};j.sw.agq=function(F,r){var $=[],C=[],M=[],l={};for(var O=0;O<r.length;
O+=3){var k=~~(O*(1/3)),d=r[O+0],I=r[O+1],c=r[O+2],Q=j.sw.jV(F,d,I,c);if(Q>0){var x=I;I=c;c=x}var U=l[c+"-"+I],S=l[I+"-"+d],z=l[d+"-"+c],V=[c,U,k,null],t=[I,S,k,V],Y=[d,z,k,t];
V[3]=Y;if(U)U[1]=V;if(S)S[1]=t;if(z)z[1]=Y;l[c+"-"+d]=Y;l[d+"-"+I]=t;l[I+"-"+c]=V;$[d]=t;M[O]=t;$[I]=V;
M[O+1]=V;$[c]=Y;M[O+2]=Y;C[k]=t}return{X9:$,Ws:C,x3:M}};j.sw.apw=function(F){var r=[],$=F.Ws;for(var O=0;
O<$.length;O++){var C=$[O];r.push(C[0]);C=C[3];r.push(C[0]);C=C[3];r.push(C[0])}return r};j.sw.amU=function(F,r,$,C){var M=F[r*2],l=F[r*2+1],k=F[$*2],d=F[$*2+1],I=F[C*2],c=F[C*2+1],Q=k-M,x=d-l,U=I-M,S=c-l,z=Q*(M+k)+x*(l+d),V=U*(M+I)+S*(l+c),t=2*(Q*(c-d)-x*(I-k));
if(Math.abs(t)<1e-5){var Y=Math.min(M,k,I),i=Math.min(l,d,c),J=(Math.max(M,k,I)-Y)*.5,H=(Math.max(l,d,c)-i)*.5;
return[Y+J,i+H,J*J+H*H,1]}var v=(S*z-x*V)/t,n=(Q*V-U*z)/t,J=v-M,H=n-l;return[v,n,J*J+H*H,0]};j.sw.a5q=function(F,r,$){var C=$[1],M=$[3],l=M[3],k=C[3],d=k[3],I=$[2],c=C[2],Q=$[0],x=C[0],U=M[0],S=k[0],z=j.sw.amU(F,x,S,U),V=F[Q*2]-z[0],t=F[Q*2+1]-z[1],Y=V*V+t*t>z[2]&&z[3]==0&&j.sw.jV(F,S,Q,U)<0&&j.sw.jV(F,U,x,S)<0;
if(Y){$[0]=U;C[0]=S;$[3]=l;l[3]=k;k[3]=$;C[3]=d;d[3]=M;M[3]=C;M[2]=c;k[2]=I;r.Ws[c]=d;r.Ws[I]=l;r.X9[x]=k;
r.X9[Q]=M}return Y};j.sw.aD0=function(F,r,$){var C=F[r*2]-F[$*2],M=F[r*2+1]-F[$*2+1];return Math.sqrt(C*C+M*M)};
j.sw.awu=function(F,r,$){var C=$[1],M=$[3],l=M[3],k,d,I=$[2],c,Q=$[0],x=l[0],U=M[0],S;if(C){k=C[3];d=k[3];
c=C[2];S=k[0]}var z=F.length>>>1;F[2*z]=(F[2*x]+F[2*Q])*.5;F[2*z+1]=(F[2*x+1]+F[2*Q+1])*.5;if(!0){var V=I,t=$,Y=r.Ws.length,i=[z,null,V,t],J=[U,i,Y,l];
i[1]=J;var H=[z,null,Y,J];M[3]=i;l[3]=H;l[2]=Y;r.Ws[V]=M;r.Ws[Y]=H;r.X9[Q]=M;r.X9[U]=l;r.x3.push(i,J,H)}if(C){var v=c,n=C,G=Y+1;
H[1]=n,n[1]=H;var g=[z,null,v,n],W=[S,g,G,d];g[1]=W;var L=[z,t,G,W];t[1]=L;k[3]=g;d[3]=L;d[2]=G;r.Ws[v]=k;
r.Ws[G]=d;r.X9[x]=k;r.X9[S]=d;r.x3.push(g,W,L)}r.X9[z]=t};j.sw.aIR=function(F,r){var $=0;while(!0){var C=$;
for(var O=0;O<r.x3.length;O++){var M=r.x3[O];if(M[1]==null)continue;var l=j.sw.a5q(F,r,M);if(l){$++;
break}}if(C==$)break}return $!=0};j.sw.aGT=function(F,r,$,C){var M=0;for(var O=0;O<C;O++){var l=null,k=0;
for(var d=0;d<r.x3.length;d++){var I=r.x3[d],c=j.sw.aD0(F,I[0],I[3][3][0])*(I[1]?1:2);if(c>k){l=I;k=c}}if(k>$){j.sw.awu(F,r,l);
M++}}return M!=0};j.sw.a8b=function(F,r){var $=[],U=0;for(var O=0;O<F.length;O++)$.push(0);for(var O=0;
O<r.x3.length;O++){var C=r.x3[O],M=C[0],l=C[3][3][0],k=F[M*2],d=F[M*2+1],I=F[l*2],c=F[l*2+1],Q=k-I,x=d-c;
$[M*2]+=-Q;$[M*2+1]+=-x;$[l*2]+=Q;$[l*2+1]+=x}for(var O=0;O<F.length;O+=2){var S=O>>>1,z=r.X9[S],C=z,V=!0;
do{if(C[1]==null){V=!1;break}C=C[1][3]}while(C!=z);if(V){var t=.02;F[O]+=t*$[O];F[O+1]+=t*$[O+1];U+=t*($[O]*$[O]+$[O+1]*$[O+1])}}return U};
j.sw.aDX=function(F,r,$){var C=j.b.sY(F),M=j.sw.agq(F,r);j.sw.aIR(F,M);for(var l=0;l<300;l++){var k=!1,d=!1;
k=j.sw.aGT(F,M,$,5);if(k)d=j.sw.aIR(F,M);var I=j.sw.a8b(F,M);if(!k&&!d&&I<1e-4){break}}return j.sw.apw(M)};
j.zQ={};j.zQ.a8$=function(F){var r=F.ZY,$=F.D9,C=F.qG,M=F.Zm,l=F.fl,k=F.sk,d=F.aG,I=j.VF.fk,i,J,H=0;
function c(bU){var cd=new Array(bU);for(var O=0;O<bU;O++)cd[O]=0;return cd}var Q=$.length>>>1,x=c(r.Wu*2),U=c(r.Wu),S=c(r.Wu),z=Date.now();
for(var O=0;O<F.LT.length;O++){var V=r.alE+O,t=r.a0*(k[O*2]+d[O*2]),Y=r.a0*(k[O*2+1]+d[O*2+1]);x[V*2]=t;
x[V*2+1]=Y;U[V]=t;S[V]=Y}r.a15.LJ(M,r.aCN.fk(x),.01,i,J);for(var O=0;O<r.aGN.x3.length;O++){var v=r.aGN.x3[O],n=v[3][3][0],G=v[0],g=v[3][0],W=v[1]?v[1][3][0]:g;
if(v[1]&&n>G)continue;var L=$[n*2],b=$[n*2+1],T=$[G*2],a=$[G*2+1],R=M[n*2],D=M[n*2+1],h=M[G*2],K=M[G*2+1],X=M[g*2],w=M[g*2+1],N=M[W*2],s=M[W*2+1],A=[R,D,h,K,X,w];
if(v[1])A.push(N,s);var p=I(r.ay2[H],A),q=p[0],f=p[1],e=1/Math.sqrt(q*q+f*f);q*=e;f*=e;var o=T-L,E=a-b;
U[H]=q*o+f*E;S[H]=-f*o+q*E;H++}var cj=new Array(Q),u=new Array(Q);for(var O=0;O<Q;O++){cj[O]=l[O*2];
u[O]=l[O*2+1]}r.aGw.LJ(cj,r.a6M.fk(U),.5);r.aGw.LJ(u,r.a6M.fk(S),.5);for(var O=0;O<Q;O++){l[O*2]=cj[O];
l[O*2+1]=u[O]}};j.zQ.apT=function(F){var r=F.D9,$=F.qG,C=F.LT,M=j.VF.multiply,l=Date.now(),k=j.sw.agq(r,$),d=r.length>>>1,I=0,z=0,f=1e3;
for(var O=0;O<k.x3.length;O++)I+=k.x3[O][1]?.5:1;var c=I+C.length,Q=[],x=new j.aO(c*2,d*2),U=new j.aO(c,d),S=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],V=[],t=[];
for(var O=0;O<k.x3.length;O++){var Y=k.x3[O],i=Y[3][3][0],J=Y[0],H=Y[3][0],v=Y[1]?Y[1][3][0]:H;if(Y[1]&&i>J)continue;
var n=r[i*2],G=r[i*2+1],g=r[J*2],W=r[J*2+1],L=r[H*2],b=r[H*2+1],T=r[v*2],a=r[v*2+1],R=[[n,G,1,0],[G,-n,0,1],[g,W,1,0],[W,-g,0,1],[L,b,1,0],[b,-L,0,1]];
if(Y[1])R.push([T,a,1,0],[a,-T,0,1]);var D=j.VF.Mk(R),h=M(linear.invert(M(D,R)),D);h.pop();h.pop();Q.push(h);
var K=g-n,X=W-G,w=S[Y[1]?1:0];w=j.VF.Q1(w,M([[K,X],[X,-K]],h));var N=[i*2,i*2+1,J*2,J*2+1,H*2,H*2+1,v*2,v*2+1],s=Y[1]?8:6,A=[];
for(var p=0;p<s;p++)A.push([N[p],w[0][p],w[1][p]]);A.sort(function(cd,m){return cd[0]-m[0]});for(var q=0;
q<2;q++){for(var p=0;p<s;p++){V[p]=A[p][0];t[p]=A[p][1+q]}x.Mj(t,V,s)}if(i<J)U.Mj([-1,1],[i,J],2);else U.Mj([1,-1],[J,i],2);
z++}for(var O=0;O<C.length;O++){var e=C[O];x.Mj([f],[e*2],1);x.Mj([f],[e*2+1],1);U.Mj([f],[e],1)}var o=x.Mk(),E=o.MK(o),cj=U.Mk(),u=cj.MK(cj);
return{alE:I,Wu:c,aCN:o,a15:E,a6M:cj,aGw:u,aGN:k,ay2:Q,a0:f}};j.zQ.a4u=function(F,r,$,C,M){var l=new cS(0,0,r,$),k=j.j(l.C());
j.Eg(F,k,3);j.round(k,70);var d=j.BM(k,l),I=[.1,.065,.035][C]*Math.max(d.r,d.$),c=M+1,Q=r+c*2,x=$+c*2,U=new cS(-c,-c,Q,x),S=j.j(U.C());
j.wU(k,l,S,U);var z=S.slice(0);for(var V=0;V<M;V++){for(var t=1;t<x-1;t++){for(var Y=1;Y<Q-1;Y++){var O=t*Q+Y;
z[O]=S[O-Q]|S[O-1]|S[O]|S[O+1]|S[O+Q]}}var i=z;z=S;S=i}var J=eA.yJ(S,Q,x,Math.round(d.C()*5e-4)),H=eA.Ug(J),v=new hS(1,0,0,1,-c,-c);
for(var O=0;O<H.length;O++){var n=H[O];j.b.U(n.path.n,v,n.path.n);n.D9=j.zQ.aID(n.path);n.qG=j.b.aad(n.D9);
n.qG=j.sw.aDX(n.D9,n.qG,I)}return H};j.zQ.aID=function(F){var r=j.b.nT(F);r=j.b.abm(r,1);var $=[],C=r.length;
for(var O=0;O<C;O+=2){var M=r.pop(),l=r.pop();$.push(l,M)}return $};j.zQ.aoE=function(F,r,$,C){function M(g,W,L,b,T){var a=T[g*2]-T[W*2],R=T[g*2+1]-T[W*2+1],D=Math.sqrt(a*a+R*R);
if(L[g].indexOf(W)==-1){L[g].push(W);b[g].push(D)}if(L[W].indexOf(g)==-1){L[W].push(g);b[W].push(D)}}var l=F.length>>>1,k=new Array(l);
if($.length==0){k.fill(0);return k}var d=new Array(l),I=new Array(l);for(var O=0;O<l;O++){d[O]=[];I[O]=[]}for(var O=0;
O<r.length;O+=3){M(r[O],r[O+1],d,I,F);M(r[O],r[O+2],d,I,F);M(r[O+1],r[O+2],d,I,F)}var c=new Float64Array(l*2),Q=new Uint32Array(l*2);
c.fill(1e9);var x=new Uint8Array(l);for(var U=0;U<$.length;U++){x.fill(0);var S=["---",[0,$[U]]];while(S.length!=1){var z=j.a1f.N6(S),V=z[0],t=z[1];
if(x[t]==1)continue;var Y=t<<1;if(V<c[Y]){c[Y+1]=c[Y];Q[Y+1]=Q[Y];c[Y]=V;Q[Y]=U}else if(V<c[Y+1]){c[Y+1]=V;
Q[Y+1]=U}x[t]=1;var i=d[t],J=I[t];for(var O=0;O<i.length;O++){var H=i[O];if(x[H]!=1){j.a1f.d4(S,[V+J[O],H])}}}}for(var O=0;
O<l;O++){var Y=O<<1,v=c[Y],n=c[Y+1],G=1/(v+n);k[O]=(1-v*G)*C[Q[Y]]+(1-n*G)*C[Q[Y+1]]}return k};j.zQ.aJa=function(F){var r={C0:[],n:[]},$=[F];
while($.length!=0){var C=$.pop(),M=C.sc;if(C.acD instanceof Array||C.age instanceof Array){r.C0.push("M","L","L","L","Z");
r.n.push(M[0],M[1],M[2],M[1],M[2],M[3],M[0],M[3])}else $.push(C.acD,C.age)}return r};j.zQ.Xm=function(F,r,$,C,M,l,k,d,I,c,Q){var x=Math.round(c.length/3),U=new Array(x);
for(var O=0;O<x;O++)U[O]=O;U.sort(function(z,V){return I[c[z*3]]-I[c[V*3]]});for(var O=0;O<x;O++){var S=U[O]*3;
j.zQ.aEW(c[S]*2,c[S+1]*2,c[S+2]*2,k,d,F,r,$,C,M,l,Q)}};j.zQ.aEW=function(F,r,$,C,M,l,k,d,I,c,Q,x){var U=[F,r,$,1.2,1.2,1.2,0],S=[0,0,0,0],z=M[F],V=M[F+1],t=M[r],Y=M[r+1],i=M[$],J=M[$+1],H=t-z,v=Y-V,n=i-z,G=J-V,g=H*G-n*v+1e-9,W=1/g,L=Math.max(0,Math.min(k-1,C[F])),b=Math.max(0,Math.min(k-1,C[r])),T=Math.max(0,Math.min(k-1,C[$])),a=Math.max(0,Math.min(d-1,C[F+1])),R=Math.max(0,Math.min(d-1,C[r+1])),D=Math.max(0,Math.min(d-1,C[$+1])),h=z<t?z<i?F:$:t<i?r:$,K=M[h+1]+.5,X=Math.max(0,Math.floor(Math.min(z,t,i))),w=Math.min(c,Math.ceil(Math.max(z,t,i))),N=Math.max(0,Math.floor(Math.min(V,Y,J))),s=Math.min(Q,Math.ceil(Math.max(V,Y,J))),A=1e9;
for(var p=N;p<s;p++){var q=p>K&&A!=1e9?A:X;A=1e9;for(var f=q;f<w;f++){var e=f+.5-z,o=p+.5-V,E=(e*G-n*o)*W,cj=(H*o-e*v)*W;
if(E>=0&&cj>=0&&E+cj<=1){if(A==1e9)A=f;var u=1-E-cj,cd=L*u+b*E+T*cj,m=a*u+R*E+D*cj;if(x){var aZ=Math.floor(.5+m)*k+Math.floor(.5+cd),jN=aZ<<2,iA=p*c+f<<2;
I[iA]=l[jN];I[iA+1]=l[jN+1];I[iA+2]=l[jN+2];I[iA+3]=l[jN+3]}else{j.H.ayP(cd,m,l,k,d,S);j.zQ.atf(S,I,p*c+f<<2)}}else if(A!=1e9)break}}};
j.zQ.atf=function(F,r,$){if(F[3]>250){r[$]=~~(.5+F[0]);r[$+1]=~~(.5+F[1]);r[$+2]=~~(.5+F[2]);r[$+3]=~~(.5+F[3])}else{var C=r[$],M=r[$+1],l=r[$+2],k=r[$+3],d=1-F[3]*(1/255);
r[$]=~~(.5+F[0]+C*d);r[$+1]=~~(.5+F[1]+M*d);r[$+2]=~~(.5+F[2]+l*d);r[$+3]=~~(.5+F[3]+k*d)}};j.zQ.aH3=function(){var F=function($,C,M,l){var k=l[0],d=l[1],I=l[2],c=$[k+0],Q=$[k+1],x=$[d+0],U=$[d+1],S=$[I+0],z=$[I+1],V=x-c,t=U-Q,Y=S-c,i=z-Q,J=C-c,H=M-Q,v=V*i-Y*t,n=1/(v+1e-9),G=(J*i-Y*H)*n,g=(V*H-J*t)*n;
if(G>=0&&g>=0&&G+g<=1){l[3]=1-G-g;l[4]=G;l[5]=g;return 1}return 0},r=function($,C,M,l){var k=[0,0,0,0,0,0];
for(var O=0;O<C.length;O+=3){k[0]=C[O]*2;k[1]=C[O+1]*2;k[2]=C[O+2]*2;if(F($,M,l,k)==1)return!0}return!1};
return{aFh:F,aAd:r}}();j.D1={};j.D1.akX=function(F,r,$,C){F=F.slice(0);if(C)for(var O=0;O<F.length;O+=4)F[O+3]=(F[O+3]&254)+(C[O>>>2]<128?0:1);
else for(var O=0;O<F.length;O+=4)F[O+3]=F[O+3]&254;var M=j.j(r*$*4),l=!1;j.H.zt(F,r,$,M,[$,r,0,1,0,1,0,0]);
return[j.D1.Gi(F,r,$,l),j.D1.Gi(M,$,r,l)]};j.D1.U=function(F,r){var $=!1,C=F[0],M=F[1],l=C[1],k=C[2],d=C[3],I=r.r,c=r.$;
if(k==I&&d==c)l=l.slice(0);else if(d!=c){var Q=j.j(k*c*4);j.D1.eP(M,c,Q,$);l=j.j(k*c*4);j.H.zt(Q,c,k,l,[k,c,0,1,0,1,0,0]);
if(k!=I){C=j.D1.Gi(l,k,c,$);l=j.j(I*c*4);j.D1.eP(C,I,l,$)}}else if(k!=I){l=j.j(I*d*4);j.D1.eP(C,I,l,$)}for(var O=0;
O<l.length;O+=4)if(l[O+3]==254)l[O+3]=255;return l};j.D1.Gi=function(F,r,$,C){var M=Date.now(),l=new Uint16Array(r*$),I=1;
j.D1.ahC(F,r,$,l);for(var k=0;k<$;k++)for(var d=0;d<r;d++){var O=k*r+d;l[O]+=Math.floor((65535-l[O])*(F[O*4+3]&1))}var c=Math.ceil(r/I),Q=new Uint32Array(I),x=new Uint32Array(I),c=Math.floor(r/I);
for(var U=0;U<I;U++)x[U]=U<I-1?c:r-(I-1)*c;for(var k=0;k<$;k++){var O=k*r;for(var U=0;U<I;U++){var c=x[U];
for(var d=0;d<c;d++)Q[U]+=l[O+d];O+=c}}if(C){console.log(Date.now()-M,"cost");M=Date.now()}var S=new Uint32Array(r),z=new Uint32Array(r),V=new Uint32Array(r*$);
for(var d=0;d<r;d++){V[($-1)*r+d]=l[($-1)*r+d]}for(var k=$-2;k>=0;k--){var t=k*r;for(var U=0;U<I;U++){var c=x[U];
V[t]=l[t]+Math.min(V[t+r],V[t+r+1]);for(var d=1;d<c-1;d++){var O=t+d;V[O]=l[O]+Math.min(V[O+r-1],Math.min(V[O+r],V[O+r+1]))}t+=c-1;
V[t]=l[t]+Math.min(V[t+r-1],V[t+r]);t++}}if(C){console.log(Date.now()-M,"Building M");M=Date.now()}function Y(b,T){return b<T?b:T}function i(O,b){var T=z[O],a=V[b],R=~~(T*a*1e-4);
return R}var J=new Uint8Array(r*$),H=new Uint32Array(r);for(var O=0;O<r;O++){S[O]=O;z[O]=l[O]}for(var k=1;
k<$;k++){var v=0,t=k*r;for(var U=0;U<I;U++){var c=x[U],O=t;H[v]=i(v,O);var n=H[v]+i(v+1,O+1),G=i(v,O+1)+i(v+1,O);
H[v+1]=Y(n,G);for(var d=2;d<c;d++){var O=t+d,g=H[v+d-1]+i(v+d-1,O-1),W=H[v+d-2]+i(v+d-1,O-2)+i(v+d-2,O-1);
H[v+d]=Y(g,W)}var d=c-1;while(d>=2){var O=t+d,g=H[v+d-1]+i(v+d-1,O-1),W=H[v+d-2]+i(v+d-1,O-2)+i(v+d-2,O-1);
if(H[v+d]==g){J[O-r]=1;d-=1}else{J[O-r]=0;J[O-r-1]=2;d-=2}}var O=t;if(d==0){J[O-r]=1}else{if(H[v+1]==n){J[O+1-r]=1;
J[O-r]=1}else{J[O+1-r]=0;J[O-r]=2}}t+=c;v+=c}j.D1.a3A(k,r,J,l,S,z,!0,M)}if(C){console.log(Date.now()-M,"Matching");
M=Date.now()}var L=l;return[UZIP.adler(F,0,F.length),F,r,$,I,x,Q,S,z,J,L]};j.D1.eP=function(F,r,$,C){var M=F.slice(0),l=M.shift(),k=M.shift(),d=M.shift(),I=M.shift(),c=M.shift(),Q=M.shift(),x=M.shift(),U=M.shift(),S=M.shift().slice(0),z=M.shift(),V=M.shift(),t=Date.now(),Y=Math.abs(d-r),i=Math.floor(Y/c),J=new Uint32Array(c),v=0,n=1e9,g=0,W=0,L=0;
for(var H=0;H<c;H++)J[H]=H<c-1?i:Y-(c-1)*i;V.fill(0);for(var G=0;G<d;G++){v=Math.max(v,S[G]);n=Math.min(n,S[G])}for(var H=0;
H<c;H++){var b=Q[H],i=J[H];for(var T=0;T<i;T++){var a=0,R=1e9;for(var G=0;G<b;G++)if(S[W+G]<R){R=S[W+G];
a=W+G}if(r<d)S[a]=1e9;else S[a]*=1.2;if(L<d/3)g+=R;var D=U[a],h=V[D],K=h<65280?65280:h+1;if(K<65280)throw"e";
for(var X=0;X<I;X++){var O=X*d+D;V[O]=K;D+=z[O]-1}L++}W+=b}if(C){console.log(Date.now()-t,"Removing best seams");
t=Date.now()}function w(O,s){var A=O<<2,p=s<<2;$[A]=k[p];$[A+1]=k[p+1];$[A+2]=k[p+2];$[A+3]=k[p+3]}for(var X=0;
X<I;X++){var N=0,O=X*d;for(var G=0;G<r;G++,N++){if(r<d){while(V[O+N]==65280)N++;w(X*r+G,X*d+N)}else{w(X*r+G,X*d+N);
while(V[O+N]>=65280){V[O+N]--;G++;w(X*r+G,X*d+N)}}}}if(C){console.log(Date.now()-t,"Shifting image pixels");
t=Date.now()}};j.D1.a3A=function(F,r,$,C,M,l){var k=0,O=F*r;while(k<r){if($[O-r]==1){l[k]=l[k]+C[O];
k++;O++}else{var d=M[k];M[k]=M[k+1];M[k+1]=d;var I=l[k];l[k]=l[k+1]+C[O];l[k+1]=I+C[O+1];k+=2;O+=2}}};
j.D1.ahC=function(F,r,$,C){function M(F,O,I){var x=O<<2,U=I<<2,S=F[x]-F[U],z=F[x+1]-F[U+1],V=F[x+2]-F[U+2];
return Math.abs(S)+Math.abs(z)+Math.abs(V)}for(var l=1;l<r;l++){var k=M(F,l,l-1);C[l-1]+=k;C[l]+=k}for(var d=1;
d<$;d++){var I=d*r,k=M(F,I,I-r);C[I]+=k;C[I-r]+=k;for(var l=1;l<r;l++){var O=d*r+l,c=M(F,O,O-1),Q=M(F,O,O-r);
C[O-r]+=Q;C[O-1]+=c;C[O]+=Q+c}}for(var d=0;d<$;d++){C[d*r]*=2;C[d*r+r-1]*=2}for(var O=0;O<C.length;O++)if(C[O]==0)C[O]=1};
j.k2=function(){function F(){return 1953e6+Math.floor(Math.random()*999999)}function r(R,D){var h=D[0]-R[0],K=D[1]-R[1];
return h*h+K*K}function $(R,D,h,K,X,w,N,s){var A=h-R,p=K-D,q=j.b.lb(R,D,A,p,X,w,N-X,s-w),f=[R+q*A,D+q*p],e=q>0?[[[R,D],f,!1,0,1],[[X,w],f,!1,0,5]]:[[[h,K],f,!1,0,1],[[N,s],f,!1,0,5]];
return e}function C(R,D){var h=$(R[0],R[1],R[2],R[3],R[6],R[7],R[4],R[5]),K=$(R[0],R[1],R[6],R[7],R[2],R[3],R[4],R[5]),X=[h,K],w=[h[0][1],K[0][1]];
for(var O=0;O<2;O++){var N=w[1-O],s=X[O];if(r(s[0][0],N)<r(s[1][0],N)){var A=s[0];s[0]=s[1];s[1]=A}}var p=[F(),0,-1,0,[0,0],h[0],h[1],K[0],K[1]],q=v(p,D),f=q[1][0];
p[3]=f;p[4]=q[0][f];p[5][3]=p[6][3]=q[0].indexOf(p[5][1]);p[7][3]=p[8][3]=q[0].indexOf(p[7][1]);if((p[6][3]+1)%3!=p[7][3]){var A=p[5];
p[5]=p[7];p[7]=A;var A=p[6];p[6]=p[8];p[8]=A}for(var O=0;O<4;O++)p[5+O][4]=[1,5,7,3][O];return p}function M(R){var D=R[5],h=R[8],K=R[6],X=D[0],w=h[0],N=K[0],s=D[1],A=h[1],p=w[0],q=w[1],f=A[0]-p,e=A[1]-q,o=j.b.lb(p,q,f,e,N[0],N[1],s[0]-N[0],s[1]-N[1]);
return[X[0],X[1],p,q,p+o*f,q+o*e,N[0],N[1]]}function l(R,D){return R[0]==D[0]&&R[1]==D[1]}function k(R){return{1:0,5:1,7:2,3:3}[R]}function d(R,D,h){var K=D[5+k(R)],X=K[1],w=K[0][0]-X[0],N=K[0][1]-X[1],s=Math.sqrt(w*w+N*N);
w/=s;N/=s;for(var A=0;A<h.length;A++){var p=h[A];if(p[0]!=D[1]&&p[1]!=D[0])continue;for(var O=0;O<4;
O++){var q=p[5+O],f=q[0];if(!l(X,q[1]))continue;var e=f[0]-X[0],o=f[1]-X[1];s=Math.sqrt(e*e+o*o);e/=s;
o/=s;var E=e*w+o*N;if(Math.abs(E-1)<1e-7)return!0}}return!1}function I(R,D){j.H.U(R,D);return D}function c(R,D){var h=[];
for(var K=0;K<R.length;K++){var X=R[K],w=X[1];for(var N=0;N<w.length;N++){if(D&&D[K].indexOf(N)==-1)continue;
var s=w[N],A=[],p=j.H.e0(M(s),new cS(0,0,1,1));for(var O=1;O<=7;O+=2){A[O]=d(O,s,w)}if(!A[1]){if(!A[7])h.push([I(p,[0,0]),K,N,0]);
h.push([I(p,[.5,0]),K,N,1])}if(!A[3]){if(!A[1])h.push([I(p,[1,0]),K,N,2]);h.push([I(p,[1,.5]),K,N,3])}if(!A[5]){if(!A[3])h.push([I(p,[1,1]),K,N,4]);
h.push([I(p,[.5,1]),K,N,5])}if(!A[7]){if(!A[5])h.push([I(p,[0,1]),K,N,6]);h.push([I(p,[0,.5]),K,N,7])}}}return h}function Q(R){var D=R.length-2,h=0;
for(var O=0;O<D;O+=2)h+=(R[O+2]-R[O])*(R[O+1]+R[O+3]);h+=(R[0]-R[D])*(R[D+1]+R[1]);return-h*.5}function x(R,D,h,K){}function U(R,O){var D=R[O+2&7]-R[O&7],h=R[O+3&7]-R[O+1&7],K=1/Math.sqrt(D*D+h*h);
return[D*K,h*K]}function S(R){var D=R[2];R[2]=R[6];R[6]=D;var D=R[3];R[3]=R[7];R[7]=D}function z(R,D,h,K){if(K==null)K=0;
var X=D[1],w=M(D),o=null,E,m,aZ,jz,g3,e,e3;if(X==0){if(Q(w)<0)S(w);var N=6,s=w[7]+w[1];for(var O=0;O<6;
O+=2){var A=w[O+1]+w[O+3];if(A<s){s=A;N=O}}w=w.slice(N).concat(w.slice(0,N));var p=B.i0.Nf(w,h[0],h[1]),q=Math.sqrt(r(w,w.slice(2))),f=Math.sqrt(r(w.slice(4),w.slice(6))),e=(q+f)*.5;
return[w,new cS(0,0,e,e/p)]}for(var O=0;O<R.length&&o==null;O++){E=R[O][1];for(var cj=0;cj<E.length&&o==null;
cj++)if(E[cj][0]==X)o=E[cj]}var u=z(R,o,h,K+1),cd=u[0];u=u[1];for(var O=0;O<8;O+=2){var jN=cd[O&7],eh=cd[O+1&7],iA=cd[O+2&7],hd=cd[O+3&7];
for(var cj=0;cj<8;cj+=2){var kx=w[cj],b0=w[cj+1],gX=w[cj+2&7],j$=w[cj+3&7],i0=Math.abs(j.b.FT(jN,eh,iA,hd,kx,b0))+Math.abs(j.b.FT(jN,eh,iA,hd,gX,j$));
if(i0<=30){m=cj;aZ=O}}}var f7=U(cd,aZ),am=U(w,m),gf=f7[0]-am[0],cC=f7[1]-am[1],aD=gf*gf+cC*cC;if(aD<.001){S(w);
m={0:6,2:4,4:2,6:0}[m]}while(m!=(aZ+4&7)){w.unshift(w.pop());m=m+1&7}var p=B.i0.Nf(w,h[0],h[1]),c_=j.H.e0(cd,u);
c_=j.H.v4(c_);var a9=[w[m],w[m+1],w[m+2&7],w[m+3&7]];j.H.U(c_,a9);var c1=j.b.sY(a9);if(aZ==0||aZ==4){e=c1.r;
e3=e/p;jz=c1.x;g3=c1.y+(aZ==0?-e3:0)}else{e3=c1.$;e=e3*p;g3=c1.y;jz=c1.x+(aZ==6?-e:0)}return[w,new cS(jz,g3,e,e3)]}function V(R,D){function h(f,e,o,E){var cj=I(f,[e,o]);
cj.push(E);return cj}var K=[];for(var X=0;X<R.length;X++){var w=R[X],N=w[1];for(var s=0;s<N.length;s++){var A=N[s],p=z(R,A,D),q=p[0],f=j.H.e0(q,new cS(0,0,1,1));
K.push(h(f,.5,0,1));K.push(h(f,1,.5,3));K.push(h(f,.5,1,5));K.push(h(f,0,.5,7));K.push(h(f,.5,.5,[p?(p[1].r/p[1].$).toFixed(2):""].join(", ")))}}return K}function t(R,D,h,K){var X=[D],w=[D];
while(!0){var N=[];for(var O=0;O<R.length;O++){var s=R[O],A=!1;for(var p=0;p<X.length;p++){if(s[1]==R[X[p]][0]||s[0]==R[X[p]][1])N.push(O)}}var q=X.length;
for(var O=0;O<N.length;O++){var f=N[O],s=R[f];if(w.indexOf(f)!=-1)continue;w.push(f);var e=z([[10,R]],s,K);
if(e[1].HV(h))X.push(f)}if(q==X.length)break}return X}function Y(R,D,h){var K=h[0],X=h[1],w=D.x-R[0],N=D.y-R[1],s=j.b.lb(R[0],R[1],w,N,X[0],X[1],K[0]-X[0],K[1]-X[1]);
return[R[0]+s*w,R[1]+s*N]}function i(R,D,h){R=j.N(R);var K=R[D[1]][1][D[2]],X=D[3]>=8,w=D[3]&7;if((w&1)==0)return R;
var N=k(w);if(w==1||w==7){var s=K[5+N],A=K[5+2-N],p=K[5+(w==1?3:1)],q=K[5+(w==1?1:3)],f=s[1],e=Y(f,h,A);
if(!X&&r(e,A[1])<r(q[0],A[1]))return R;s[0]=A[0]=e;p[0]=Y(f,h,p)}else{var p=K[5+N],f=p[1],s=K[5+(w==3?0:2)],e=Y(f,h,s);
if(!X&&r(e,s[1])>r(s[0],s[1]))return R;if(Math.sign(s[1][0]-s[0][0])!=Math.sign(s[1][0]-e[0]))return R;
p[0]=e}return R}function J(R,D,h){var K=D[0]-R[0],X=D[1]-R[1],w=j.b.lb(h[0],h[1],-X,K,R[0],R[1],K,X);
return[h[0]-X*w,h[1]+K*w]}function H(R,D,h){var K=h[0],X=h[1],I=J(R,D,h),w=I[0],N=I[1],s=J(R,h,D),A=j.b.lb(w,N,K-w,X-N,D[0],D[1],s[0]-D[0],s[1]-D[1]);
return[w+(K-w)*A,N+(X-N)*A]}function v(R,D){var h=R[5][1],K=R[7][1],X=H(h,K,D),w=[h,K,X];w.sort(function(A,p){return A[0]-p[0]});
if(Q([w[0][0],w[0][1],w[1][0],w[1][1],w[2][0],w[2][1]])<0){var N=w[1];w[1]=w[2];w[2]=N}var s=[w.indexOf(h),w.indexOf(K),w.indexOf(X)];
return[w,s]}function n(R,D,h){R=j.N(R);var K=D[1],X=R[K][1][D[2]],w=D[3];if((w&1)!=1)return R;var N=v(X,h),s=N[1][2],A=N[0][s],p=j.N(X);
R[K][1].push(p);p[0]=F();p[1]=X[0];p[2]=-10+w;p[3]=s;p[4]=A;if(w==1||w==5){p[7][3]=p[8][3]=s;p[7][1]=p[8][1]=A;
if(w==5){p[5][0]=p[7][0]=X[6][0];p[8][0]=M(X).slice(4,6)}}else{p[5][3]=p[6][3]=s;p[5][1]=p[6][1]=A;if(w==3){p[5][0]=p[7][0]=X[8][0];
p[6][0]=M(X).slice(4,6)}}return R}function G(R,D,h){R=j.N(R);var K=D[1],X=R[K][1][D[2]],w=X[2]+10,N=w+4&7,s=w==1||w==5,A=X[5+k(s?7:1)][1],p=X[5+k(N)][0],q=X[5+k(w)][0];
X[2]=(s?90:0)+(r(p,A)<r(q,A)?180:0);var f=C(M(X),h);for(var O=5;O<9;O++)X[O]=f[O];return R}function g(R,D,h){var bU=R.length>>1,K,X=R[2*bU-3]-h,w=R[2*bU-2]-D,N=R[2*bU-1]-h,s=!1,A=0;
for(var O=0;O<bU;O++){K=w;X=N;w=R[2*O]-D;N=R[2*O+1]-h;if(X==N)continue;s=N>X}for(var O=0;O<bU;O++){K=w;
X=N;w=R[2*O]-D;N=R[2*O+1]-h;if(X<0&&N<0)continue;if(X>0&&N>0)continue;if(K<0&&w<0)continue;if(X==N&&Math.min(K,w)<=0)return!0;
if(X==N)continue;var p=K+(w-K)*-X/(N-X);if(p==0)return!0;if(p>0)A++;if(X==0&&s&&N>X)A--;if(X==0&&!s&&N<X)A--;
s=N>X}return(A&1)==1}function W(R,D,h,K,X){var w=null;for(var N=0;N<R.length;N++){var s=R[N][1];for(var A=0;
A<s.length;A++){var p=M(s[A]);if(g(p,D,h)||X&&X[0]==N&&X[1]==A&&w==null){w=[N,A];if(K){var q=z(R,s[A],K),f=j.H.e0(q[0],q[1]),e=[D,h];
f=j.H.v4(f);j.H.U(f,e);w.push(e)}}}}return w}function L(R,D){for(var h=0;h<R.length;h++){var K=R[h][1],X=D[h];
if(X.length==0)continue;var w=b(K,X);for(var N=0;N<K.length;N++){if(w.indexOf(K[N][0])!=-1){K.splice(N,1);
N--}}}for(var h=0;h<R.length;h++)if(R[h][1].length==0){R.splice(h,1);h--}return R}function b(R,D){var h=[];
for(var O=0;O<10;O++)for(var K=0;K<R.length;K++){var X=R[K];if(D.indexOf(K)!=-1||h.indexOf(X[1])!=-1)if(h.indexOf(X[0])==-1)h.push(X[0])}return h}function T(R){var D=P.BW(R,0,R.length),h=D.split("\n").slice(1);
function K(){return parseFloat(h.shift())}function X(){var kx=[K(),K()];w(1);return kx}function w(bU){for(var O=0;
O<bU;O++)h.shift()}var N=[],s=K();for(var A=0;A<s;A++){var p=K(),q=K(),f=[];N.push([p,f]);for(var e=0;
e<q;e++){var o=K(),E=K(),cj=K(),u=K(),cd=X(),m=[o,E,cj,u,cd];f.push(m);for(var O=0;O<4;O++){var aZ=X(),jN=X(),eh=K()==1,iA=K(),hd=K();
m.push([aZ,jN,eh,iA,hd])}}}return N}function a(R){function D(q){h.push(q[0],q[1],"")}var h=["tNaF203"];
h.push(R.length);for(var K=0;K<R.length;K++){h.push(R[K][0]);var X=R[K][1];h.push(X.length);for(var w=0;
w<X.length;w++){var N=X[w];h.push(N[0],N[1],N[2],N[3]);D(N[4]);for(var O=0;O<4;O++){var s=N[5+O];D(s[0]);
D(s[1]);h.push(s[2]?1:0,s[3],s[4])}}}var A=h.join("\n"),p=new Uint8Array(A.length);P.o9(p,0,A);return p}return{CO:T,Gk:a,azE:M,aaR:C,Ju:c,akT:i,wz:V,aK1:function(R,D){return D&&(D[3]&1)==0&&R[D[1]][1].length==1},o$:function(R,D){return D&&(D[3]&1)==1},K8:z,adW:n,a31:G,a6l:L,W9:b,bG:W,TW:t}}();
j.a79=function(){var F=0,r=0,C=15,l=256;function $(Q,x,U,S,z,V){var t=(z-1)*x,Y=V*x;return Q[Y+S]-Q[Y+U-1]-Q[t+S]+Q[t+U-1]}var M=Math.round(C/8),k=[];
function d(Q,x){for(var U=0;U<x.length;U++){var S=x[U],z=0,V=0,t=Q[S.m4],Y=t.iN,i=t.a0,J=t.Y9;for(var H=-C;
H<=C;H++)for(var v=-C;v<=C;v++){var n=v+S.aE3,G=H+S.akw;if(v*v+H*H>C*C||n<0||G<0||n>=i||G>=i)continue;
var g=Y[G*i+n];z+=v*g;V+=H*g}S.M$=Math.atan2(V,z)}}function I(Q,x,U,S,z){var V=~~(Q+.5),t=~~(x+.5);return $(U,S,V-M,V+M,t-M,t+M)}function c(Q,x,U,S,z){F=S;
r=z;if(k.length==0){var V=new j.v.wQ(16200817),J=8,H=0;function t(cd){var L=cd[0]-cd[2],b=cd[1]-cd[3];
return L*L+b*b}function Y(){var cd=0,m=0;while(cd===0)cd=V.get();while(m===0)m=V.get();return Math.sqrt(-2*Math.log(cd))*Math.cos(2*Math.PI*m)}var i=Y,v=[];
while(H!=l){var n=Math.max(-C,Math.min(C,i()*J)),G=Math.max(-C,Math.min(C,i()*J)),g=Math.max(-C,Math.min(C,i()*J)),W=Math.max(-C,Math.min(C,i()*J)),L=n-g,b=G-W,T=Math.sqrt(L*L+b*b);
if(T<3||T>12)continue;k.push(n,G,g,W);H++}}var a=20;for(var R=0;R<x.length;R++){var D=x[R],h=Q[D.m4],K=h.kR,U=h.iN,S=h.a0,z=h.Y9,X=D.aE3,w=D.akw,N=D.M$,s=Math.cos(N),A=Math.sin(N),p=new Uint8Array(l>>>3);
D.iH=p;for(var O=0;O<l;O++){var q=O*4,n=k[q+0],G=k[q+1],g=k[q+2],W=k[q+3],f=s*n-A*G,e=A*n+s*G,o=s*g-A*W,E=A*g+s*W,cj=I(X+f,w+e,K,S,z),u=I(X+o,w+E,K,S,z);
p[O>>>3]|=(cj<u?0:1)<<(O&7)}}}return{aHL:d,azT:c}}();j.as4=function(){function F(r,$){var C=[[9]],M=Date.now(),l=[];
for(var k=0;k<r.length;k++){var d=r[k],I=d.kR,c=d.a0,Q=d.Y9,S=9,J=1,D=24;if(I==null)continue;var x=new Float32Array(c*Q),U=new Uint8Array(c*Q),z=S>>>1,V=z>>>1,t=Math.round(S/3);
if(t!=S/3)throw"e";var Y=1/(S*S),i=1.2*(S/9);for(var H=z+1;H<Q-z;H+=J)for(var v=z+1;v<c-z;v+=J){var n=j.in(I,c,v-V,v+V,H-z,H+z)-3*j.in(I,c,v-V,v+V,H-z+t,H+z-t),G=j.in(I,c,v-z,v+z,H-V,H+V)-3*j.in(I,c,v-z+t,v+z-t,H-V,H+V),g=v-z+1,W=v+z-1,L=H-z+1,b=H+z-1,T=j.in(I,c,g,v-1,L,H-1)+j.in(I,c,v+1,W,H+1,b)-j.in(I,c,v+1,W,L,H-1)-j.in(I,c,g,v-1,H+1,b),a=(G*n-.9*T*(.9*T))*(Y*Y);
x[H*c+v]=Math.abs(a);U[H*c+v]=a<0?0:1}var R=c*J;for(var H=D;H<Q-D;H+=J)for(var v=D;v<c-D;v+=J){var O=H*c+v,h=x[O];
if(h<16)continue;if(x[O-J]>=h||x[O+J]>=h)continue;if(x[O-R-J]>=h||x[O-R]>=h||x[O-R+J]>=h)continue;if(x[O+R-J]>=h||x[O+R]>=h||x[O+R+J]>=h)continue;
l.push({x:~~(v*d.Yw+.5),y:~~(H*d.Yw+.5),aE3:v,akw:H,m4:k,Y:h,aFF:U[O],cG:i})}}if($!=null){l.sort(function(q,f){return f.Y-q.Y});
l=l.slice(0,$)}return l;var K=[];for(var O=0;O<l.length;O++){var X=!0,w=l[O];for(var N=0;N<l.length;
N++){var s=l[N];if(N!=O&&s.Y>w.Y&&(s.m4==w.m4+1||s.m4==w.m4-1)){var A=w.x-s.x,p=w.y-s.y;if(A*A+p*p<5){X=!1;
break}}}if(X)K.push(w)}console.log(l.length,K.length);return K}return{adU:F}}();j.AW={};j.AW.a4_=function(F){var r=F.length,$=j.AW.a4a(F,!1),M=0,l=1;
throw"e";var C=[];for(var O=0;O<r;O++)C[O]=j.AW.al7($[O]);var k=F[0][1],d=j.AW.match($[M],$[l],C[l]);
console.log(d.length);var I=Math.max(Math.min(d.length,40),d.length*.54);I=Math.min(I,200);var c=d.slice(0,I),Q=j.tj.alH($[M],$[l],c,k.r,k.$),x=j.tj.azB(Q,[0,0,0],1),U=k.r/2,S=k.$/2,z=1/Math.max(U,S);
for(var O=0;O<1;O++){var V=c[O],t=$[M][V[0]],Y=$[l][V[1]],i=j.tj.a7C(x,z*(t.x-U),z*(t.y-S),z*(Y.x-U),z*(Y.y-S))}var J=j.tj.auv(Q,k),H=[];
for(var O=0;O<2;O++){var v=J[O],n=[v[0][0],v[0][1],v[0][2],v[1][0],v[1][1],v[1][2],v[2][0],v[2][1]],G=B.hL.pF(F[O],null,n);
H.push([G.buffer,G.S])}return[j.AW.aEJ(H[0],H[1],$[M],$[l],c,Q,J,k)]};j.AW.Cl=function(F,r){var $=F.length,C=!1,M=Date.now(),l=j.AW.a4a(F,!1,1e4);
if(C)console.log("Descriptors ready",Date.now()-M);M=Date.now();for(var O=0;O<$;O++){var k=F[O][1];for(var d=0;
d<l[O].length;d++){l[O][d].x+=k.x;l[O][d].y+=k.y}}if(C)console.log("shifted",Date.now()-M);M=Date.now();
var I=[];for(var O=0;O<$;O++)I[O]=j.AW.al7(l[O]);if(C)console.log("trees built",Date.now()-M);M=Date.now();
var c=[];for(var O=0;O<$-1;O++)for(var d=O+1;d<$;d++){var Q=j.AW.match(l[O],l[d],I[d]);if(C)console.log("Matches found",O,d,Q.length);
Q=Q.slice(0,Q.length>>>1);if(Q.length<10)continue;var x=j.AW.anM(l[O],l[d],Q,2);c.push([O,d,Q,x])}c.sort(function(W,L){return L[2].length-W[2].length});
if(C)console.log("Matches found",Date.now()-M);M=Date.now();var U=[],S=new UnionFind($);for(var O=0;
O<c.length;O++){var z=c[O],V=S.find(z[0]),t=S.find(z[1]);if(V!=t){U.push(z);S.link(V,t)}}var Y=[];for(var O=0;
O<$;O++)Y[O]=[1,0,0,0,1,0,0,0];var i=[0],J=new Uint8Array($);J[i[0]]=1;while(i.length!=0){var t=i.pop(),x=Y[t],H=[];
for(var O=0;O<U.length;O++){var z=U[O],v=z[0],n=z[1];if(v==t&&J[n]==0){Y[n]=j.H.MV(x,z[3]);i.push(n);
J[n]=1}if(n==t&&J[v]==0){Y[v]=j.H.MV(x,j.H.v4(z[3]));i.push(v);J[v]=1}}}if(r==null){var G=[];for(var O=0;
O<$;O++)G.push([Y[O][2],O]);G.sort(function(W,L){return W[0]-L[0]});r=G[G.length>>>1][1]}var g=j.H.v4(Y[r]);
for(var O=0;O<$;O++)Y[O]=j.H.MV(Y[O],g);if(C)console.log("Transforms reordered",Date.now()-M);M=Date.now();
return Y};j.AW.a4a=function(F,r,$){var C=[],M=!1;for(var O=0;O<F.length;O++){var l=F[O][0],k=F[O][1],d=k.r,I=k.$,c=j.j(k.C());
j.R2(l,c);var Q=Date.now(),x=j.AW.anD(c,k,!0);if(M)console.log("Pyramid built ---------------",Date.now()-Q);
Q=Date.now();var U=j.as4.adU(x,$);if(M)console.log("SURF Generation",Date.now()-Q);Q=Date.now();if(!r){j.a79.aHL(x,U);
if(M)console.log("ORB Orientations",Date.now()-Q);Q=Date.now();j.a79.azT(x,U,c,d,I);if(M)console.log("ORB Descriptors",Date.now()-Q);
Q=Date.now()}C.push(U)}return C};j.AW.anD=function(F,r,$){var C=[],M=[F,r];j.SI(M);if($){var l=j.aFw(F,r),k=l.S,d=[l.fU,k];
j.SI(d)}for(var O=0;O<M.length;O++){var I=M[2*O],c=M[2*O+1],Q=c.r,x=c.$,U=Math.min(Q,x);if(U<30)break;
if(U<1600)C.push({iN:I,a0:Q,Y9:x,Yw:1<<O,kR:j.DE(I,Q,x)});if(!$)continue;var I=d[2*O],c=d[2*O+1],Q=c.r,x=c.$,U=Math.min(Q,x);
if(U<30)break;if(U<1600)C.push({iN:I,a0:Q,Y9:x,Yw:(1<<O)*3/2,kR:j.DE(I,Q,x)})}return C};j.AW.anM=function(F,r,$,C){var M=Date.now(),l,k=0,d=0,I=$.length,c=new Float64Array(2);
for(var Q=0;Q<3e3;Q++){var x=~~(Math.random()*I),U=~~(Math.random()*I),S=~~(Math.random()*I),z=~~(Math.random()*I),R=0,D=0;
if(x==U||x==S||x==z||U==S||U==z||S==z)continue;var V=$[x],t=$[U],Y=$[S],i=$[z],J=F[V[0]],H=r[V[1]],v=F[t[0]],n=r[t[1]],G=F[Y[0]],g=r[Y[1]],W=F[i[0]],L=r[i[1]],b=[J.x,J.y,v.x,v.y,G.x,G.y,W.x,W.y],T=[H.x,H.y,n.x,n.y,g.x,g.y,L.x,L.y],a=j.H.azx(b,T);
if(a[0]==0&&a[1]==0&&a[3]==0&&a[4]==0)continue;var h=I-k+2;for(var O=0;O<I&&O-R<h;O++){var K=F[$[O][0]],X=r[$[O][1]];
j.H.H5(X.x,X.y,a,c);var w=c[0]-K.x,N=c[1]-K.y,s=w*w+N*N;if(s<C){R++;D+=s}}if(R>k||R==k&&D<d){l=a;k=R;
d=D}}return l};var eP=new Uint8Array(256);for(var O=0;O<256;O++){var bn=0,bU=O;while(bU!=0){bU=bU&bU-1;
bn++}eP[O]=bn}j.AW.aIg=function(F,r,$){var C=0,M=F.length;for(var O=0;O<M&&C<$;O++)C+=eP[F[O]^r[O]];
return C};j.AW.a6R=function(F,r,$,top,C){if(C[$]==1)return;var M=j.AW.aIg(F.iH,r.iH,top[0]);if(M<top[0]){if(M<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=M;top[3]=$}else{top[0]=M;top[1]=$}}C[$]=1};j.AW.al7=function(F){var r=[],$=[],C=[[],[]],M=4;
for(var O=0;O<F.length;O++)(F[O].aFF==0?r:$).push(O);for(var l=0;l<2;l++){var k=new Array(M),d=[],I=l==0?r:$,c=I.length/256,Q=[];
for(var x=0;x<32;x++){var U=new Array(256),V=0;for(var S=0;S<256;S++)U[S]=[];for(var S=0;S<I.length;
S++){var z=I[S];U[F[z].iH[x]].push(z)}for(var S=0;S<256;S++)V+=Math.abs(U[S].length-c);Q.push([V,x,U])}Q.sort(function(t,Y){return t[0]-Y[0]});
var d=[],k=[];C[l]=[d,k];for(var O=0;O<M;O++){d.push(Q[O][1]);k.push(Q[O][2])}}return C};j.AW.match=function(F,r,$){var C=[],M=new Uint16Array(r.length);
M.fill(65535);var l=new Uint8Array(r.length),top=new Uint32Array(4),k=[];for(var d=0;d<F.length;d++){var I=F[d],c=I.iH;
top.fill(1e6);l.fill(0);var Q=$[I.aFF];for(var x=0;x<Q[1].length;x++){var U=Q[1][x][c[Q[0][x]]];for(var S=0;
S<U.length;S++){var z=U[S];j.AW.a6R(I,r[z],z,top,l)}}if(top[2]<50&&top[2]<top[0]*.5){var V=M[top[3]];
if(V==65535){M[top[3]]=C.length;C.push([d,top[3],top[2]])}else if(top[2]<C[V][2]){C[V]=[d,top[3],top[2]]}}}C.sort(function(t,Y){return t[2]-Y[2]});
return C};j.AW.avi=function(F){var r=new cS;for(var O=0;O<F.length;O++)r=r.DM(F[O][1]);var $=j.j(r.C()*4);
for(var O=0;O<F.length;O++)j.v.O5("norm",F[O][0],F[O][1],$,r,r,1);return[$,r]};j.AW.aEJ=function(F,r,$,C,M,l,k,d){var I=F[1].P(),c=I.P();
I.x=I.y=0;var Q=r[1].P(),x=Q.P();Q.x=Q.y=0;Q.x=I.r;var U=I.DM(Q),S=x.y-c.y,z=j.j(U.C()*4);j.mR(F[0],I,z,U);
j.mR(r[0],new cS(Q.x,Q.y+S,Q.r,Q.$),z,U);var V=document.createElement("canvas");V.width=U.r;V.height=U.$;
var t=V.getContext("2d");t.lineWidth=.5;t.putImageData(new ImageData(new Uint8ClampedArray(z.buffer),U.r,U.$),0,0);
if(l){var Y=l[0],i=j.VF.Mk(Y),J=I.r,H=d.r;for(var O=0;O<M.length;O++){var v=M[O],F=$[v[0]],r=C[v[1]];
t.strokeStyle="#"+"ff0000";t.beginPath();var n=j.tj.ahw(i,k[0],r,0,H),G=j.tj.ahw(Y,k[1],F,0,H);t.moveTo(-c.x+n[0],-c.y+n[1]);
t.lineTo(-c.x+n[2],-c.y+n[3]);t.moveTo(J-x.x+G[0],-x.y+S+G[1]);t.lineTo(J-x.x+G[2],-x.y+S+G[3]);t.stroke()}}if(M){var g=M.length;
for(var O=0;O<g;O++){var v=M[O],F=$[v[0]],r=C[v[1]];t.strokeStyle="#"+"ffff00"}}var W=new Uint8Array(t.getImageData(0,0,U.r,U.$).data.buffer);
if(!1){for(var L=0;L<2;L++){var b=L==0?$:C,T=L*I.r;for(var O=0;O<b.length;O++){var a=b[O],R=~~a.x,D=~~a.y,h=(D*U.r+R+T)*4;
W[h+1]=W[h+2]=a.a3t*60;W[h+0]=0;W[h+3]=255}}}return[W,U]};j.q1={};j.q1.list=[[[22,4,1],0],[[22,4,0],0],["Dual Axis",0],["Diagonal",0],[[22,5,9],0],[[12,93,5],0],[[12,93,2],0],["Parallel",0],[[19,0,1],1],["Mandala",2]];
j.q1.aqd=["BasicPath","Radial","Mandala","RectangularTile"];j.q1.mX=function(F,r){var $=.28*.5,C=[{C0:["M","L"],n:[.5,.1,.5,.9]},{C0:["M","L"],n:[.1,.5,.9,.5]},{C0:["M","L","M","L"],n:[.5,.1,.5,.9,.1,.5,.9,.5]},{C0:["M","L"],n:[.1,.1,.9,.9]},{C0:["M","C","C"],n:[.5,.1,.4,.2,.4,.4,.5,.5,.6,.6,.6,.8,.5,.9]},{C0:["M","C","C","C","C"],n:[.5,.25,.5+$,.25,.75,.5-$,.75,.5,.75,.5+$,.5+$,.75,.5,.75,.5-$,.75,.25,.5+$,.25,.5,.25,.5-$,.5-$,.25,.5,.25]},null,{C0:["M","L","M","L"],n:[.35,.1,.35,.9,.65,.1,.65,.9]}],d=.4;
if(C[F])return C[F];if(F==6){var M="m418 377c30 0 16-55-28-48-78 12-76 160 54 166 135 6 204-212 34-302-135-71-303 53-296 214 8 177 170 240 236 243",l=Typr.U.SVGToPath(M);
l={n:l.crds,C0:l.cmds};j.b.U(l.n,new hS(1/840,0,0,1/840,0,0),l.n);return l}var k={C0:[],n:[]},I=2*Math.PI/r;
for(var O=0;O<r;O++){k.C0.push("M","L");k.n.push(.5,.5,.5+Math.sin(O*I)*d,.5-Math.cos(O*I)*d)}return k};
j.q1.q8=function(F,r){var $=Math.PI*.5+Math.atan2(F.y-r.y,r.x-F.x),C=new hS;C.translate(-F.x,-F.y);C.rotate(-$);
C.scale(-1,1);C.rotate($);C.translate(F.x,F.y);return C};j.q1.aJ5=function(F,r,$){var C=[new hS];if($==null)return C;
var M=$[0],l=$[1],k=$[2];if(M==0){var d=j.w.Us(k,!0),I=j.w.ZZ(k,0,!0),c=k[I].length;if(d==1){if(c==2){C.push(j.q1.q8(k[I+1].Z,k[I+2].Z))}else{var Q=j.b.oJ(k);
Q=j.b.np(Q);var x=j.b.nT(Q),U=j.b.V7(x,F.x,F.y),bU=new hx(x[U*2],x[U*2+1]),S=F.x-bU.x,z=F.y-bU.y,V=new hx(bU.x-z,bU.y+S);
C.push(j.q1.q8(bU,V))}}if(d==2){var t=j.w.ZZ(k,1,!0),Y=k[t].length;if(c==2&&Y==2){var i=k[I+1].Z,J=k[I+2].Z,H=k[t+1].Z,v=k[t+2].Z,n=j.b.lb(i.x,i.y,J.x-i.x,J.y-i.y,H.x,H.y,v.x-H.x,v.y-H.y),G=j.q1.q8(i,J);
C.push(G);var g=j.q1.q8(H,v);C.push(g);if(0<n&&n<1){G=G.P();G.concat(g);C.push(G)}}else alert("two curves")}}if(M==1||M==2){C=[];
var W=k[3].Z,L=k[4].Z;for(var O=0;O<l;O++){var b=new hS;b.translate(-W.x,-W.y);b.rotate(O*Math.PI*2/l);
b.translate(W.x,W.y);C.push(b);if(M==2){b=b.P();b.concat(j.q1.q8(W,L));C.push(b)}}}if(M==3){C=[];for(var T=-1;
T<2;T++)for(var a=-1;a<2;a++){var b=new hS;b.translate(a*r.r,T*r.$);C.push(b)}}return C};j.stack={};
j.stack.stack=function(F,r,$){var C=F.length,M=r.length;if(C==1){r.set(F[0]);return}if($=="avrg"||$=="stdv"||$=="summ"||$=="vari"){var l=1/C;
for(var O=0;O<M;O++){var k=0;for(var d=0;d<C;d++)k+=F[d][O];var I=~~(k*l+.5);if($=="avrg"||(O&3)==3)r[O]=I;
else if($=="summ")r[O]=255*Math.pow(Math.min(255,k)*(1/255),1/2.4);else{var c=0;for(var d=0;d<C;d++){var Q=F[d][O]-I;
c+=Q*Q}var x=Math.sqrt(c*l)*(1/255);if($=="stdv")r[O]=255*Math.pow(x,1/2.4);else r[O]=255*Math.pow(x*x,1/2.4)}}}else if($=="maxx"){for(var O=0;
O<M;O++){var U=0;for(var d=0;d<C;d++)U=Math.max(U,F[d][O]);r[O]=U}}else if($=="minn"){for(var O=0;O<M;
O++){var U=255;for(var d=0;d<C;d++)U=Math.min(U,F[d][O]);r[O]=U}}else if($=="medn"||$=="rang"){var S=function(Y,i){return Y-i},z=new Array(C),V=0,t=0;
if((C&1)==0){t=C>>>1;V=t-1}else{V=t=C>>>1}for(var O=0;O<M;O++){for(var d=0;d<C;d++)z[d]=F[d][O];z.sort(S);
if($=="medn")r[O]=z[V]+z[t]>>>1;else r[O]=(O&3)==3?z[C-1]:z[C-1]-z[0]}}else console.log($)};j.mG={};
j.mG.aCH=function(F,r,$,C){var M=Date.now(),l=new Uint32Array(r*$),k=new Uint8Array(r*$);while(!0){k.fill(0);
l.fill(0);var d=[],I=0;for(var c=0;c<$;c++){for(var Q=0;Q<r;Q++){var O=c*r+Q;if(k[O]==0){var x=d.length,U=j.mG.Oq(F,r,$,Q,c,k,l,x);
d.push([x,Q,c,U[0],U[1],F[O]]);if(U[0]<C)I++}}}if(I==0)break;var S=d.length,z=new UnionFind(S),V=[];
for(var O=0;O<S;O++)V.push([]);for(var O=0;O<S;O++){var U=d[O],t=U[4],Y=0,i=0;if(U[3]>=C)continue;var x=U[0];
for(var J=0;J<t.length;J+=2){var H=l[t[J+1]*r+t[J]],v=d[H];if(v[3]>i){i=v[3];Y=H}}if(z.find(x)!=z.find(Y)){z.link(x,Y);
V[x].push(Y);V[Y].push(x)}}var n=new Uint32Array(S);n.fill(4294967295);var G=new Uint32Array(S);for(var O=0;
O<S;O++){if(n[O]!=4294967295||V[O].length==0)continue;var g=[O],W=[O],L=O,b=d[O][3];while(W.length!=0){var T=W.pop(),a=V[T];
for(var J=0;J<a.length;J++){var R=a[J];if(g.indexOf(R)==-1){g.push(R);W.push(R);var D=d[R];if(D[3]>b){b=D[3];
L=R}}}}for(var J=0;J<g.length;J++){n[g[J]]=L;var h=d[L];G[g[J]]=F[h[2]*r+h[1]]}}for(var c=0;c<$;c++)for(var Q=0;
Q<r;Q++){var O=c*r+Q,K=n[l[O]];if(K!=4294967295)F[O]=G[K]}}};j.mG.Oq=function(F,r,$,C,M,l,k,d){var I=[C,M],c=F[M*r+C],Q=0,x=[];
l[M*r+C]=1;while(I.length!=0){var U=I.pop(),S=I.pop(),O=U*r+S;k[O]=d;Q++;if(U!=$-1)if(F[O+r]==c){if(l[O+r]==0){I.push(S,U+1);
l[O+r]=1}}else x.push(S,U+1);if(U!=0)if(F[O-r]==c){if(l[O-r]==0){I.push(S,U-1);l[O-r]=1}}else x.push(S,U-1);
if(S!=r-1)if(F[O+1]==c){if(l[O+1]==0){I.push(S+1,U);l[O+1]=1}}else x.push(S+1,U);if(S!=0)if(F[O-1]==c){if(l[O-1]==0){I.push(S-1,U);
l[O-1]=1}}else x.push(S-1,U)}return[Q,x]};j.mG.aHb=function(F,r,$){var C=new Uint32Array(r*$);for(var O=0;
O<C.length;O++)C[O]=F[O];var M=[];for(var l=0;l<$;l++){for(var k=0;k<r;k++){var O=l*r+k,d=C[O];if(d<1e3){var I=j.mG.apQ(C,r,$,k,l,1e3+M.length);
M.push([k,l,d,I,0])}}}for(var O=0;O<C.length;O++)C[O]-=1e3;var c=new Float32Array(r*$);c.fill(r+$);for(var l=0;
l<$;l++)for(var k=0;k<r;k++){var O=l*r+k,d=C[O];if(k==0||l==0||C[O-1]!=d||C[O-r]!=d)c[O]=0;else{var Q=Math.min(c[O],c[O-1]+1,c[O-r]+1);
if(C[O-r-1]==d)Q=Math.min(Q,c[O-r-1]+1.414);c[O]=Q}}for(var l=$-1;l>=0;l--)for(var k=r-1;k>=0;k--){var O=l*r+k,d=C[O];
if(k==r-1||l==$-1||C[O+1]!=d||C[O+r]!=d)c[O]=0;else{var Q=Math.min(c[O],c[O+1]+1,c[O+r]+1);if(C[O+r+1]==d)Q=Math.min(Q,c[O+r+1]+1.414);
c[O]=Q}}for(var l=0;l<$;l++)for(var k=0;k<r;k++){var O=l*r+k,x=M[C[O]];if(c[O]>x[4]){x[4]=c[O];x[0]=k;
x[1]=l}}return M};j.mG.apQ=function(F,r,$,C,M,l){var k=[C,M],d=F[M*r+C],I=0;F[M*r+C]=4294967295;while(k.length!=0){var M=k.pop(),C=k.pop(),O=M*r+C;
I++;F[O]=l;if(M<$-1&&F[O+r]==d){k.push(C,M+1);F[O+r]=4294967295}if(M>0&&F[O-r]==d){k.push(C,M-1);F[O-r]=4294967295}if(C>0&&F[O-1]==d){k.push(C-1,M);
F[O-1]=4294967295}if(C<r-1&&F[O+1]==d){k.push(C+1,M);F[O+1]=4294967295}}return I};j.mG.a0u=function(F,r,$,C,M){var l=j.mG.a2N(F.buffer,r,$).va,k=Date.now(),d=[];
for(var O=0;O<l.length;O++){var I=l[O],c=1;for(var Q=0;Q<c;Q++)d.push(I.gb)}var x=new Uint32Array(d),U=UPNG.quantize.getKDtree(new Uint8Array(x.buffer),C),S=[r,1,-r,-1,r+1,-r+1,-r-1,r-1,r+r,2,-r-r,-2,r+r-1,r+r+1,r+2,-r+2,-r-r+1,-r-r-1,-r-2,r-2,r+r+2,-r-r+2-r-r-2,r+r-2],z=new Uint8Array(r*$),V=F;
for(var t=0;t<$;t++)for(var Y=0;Y<r;Y++){var O=t*r+Y<<2,i=V[O]*(1/255),J=V[O+1]*(1/255),H=V[O+2]*(1/255),v=V[O+3]*(1/255),n=j.mG.eG(U,i,J,H,v,M);
if(n==null){var G=[],g=0;while(g<20){var W=t*r+Y+S[g]<<2,L=V[W]*(1/255),b=V[W+1]*(1/255),T=V[W+2]*(1/255),a=V[W+3]*(1/255),R=j.mG.eG(U,L,b,T,a,.005);
if(R!=null){if(G.indexOf(R)==-1){G.push(R);R.V6=1}else R.V6++}g++}G.sort(function(v,H){return H.V6-v.V6});
while(G.length!=0&&G[G.length-1].V6<3)G.pop();if(G.length==0)n=j.mG.eG(U,i,J,H,v,100);else if(G.length==1)n=G[0];
else if(G.length==2){var D=G[0],h=G[1],K=D.est.q,X=h.est.q,w=X[0]-K[0],N=X[1]-K[1],s=X[2]-K[2],A=X[3]-K[3],p=i-K[0],q=J-K[1],f=H-K[2],e=v-K[3],o=w*w+N*N+s*s+A*A,E=p*p+q*q+f*f+e*e,cj=(p*w+q*N+f*s+e*A)/o,u=E-cj*cj*o;
if(u<.5)n=cj<.5?D:h;else{n=j.mG.eG(U,i,J,H,v,100)}}else{var D=G[0],h=G[1],cd=G[2],K=D.est.q,X=h.est.q,m=cd.est.q,aZ=K[0]-m[0],jN=K[1]-m[1],eh=K[2]-m[2],iA=K[3]-m[3],hd=X[0]-m[0],kx=X[1]-m[1],b0=X[2]-m[2],gX=X[3]-m[3],j$=m[0]-i,i0=m[1]-J,f7=m[2]-H,am=m[3]-v,gf=aZ*aZ+jN*jN+eh*eh+iA*iA,cC=aZ*hd+jN*kx+eh*b0+iA*gX,aD=j$*aZ+i0*jN+f7*eh+am*iA,c_=aZ*hd+jN*kx+eh*b0+iA*gX,a9=hd*hd+kx*kx+b0*b0+gX*gX,jz=j$*hd+i0*kx+f7*b0+am*gX,g3=1/(cC*c_-gf*a9),cj=(a9*aD-jz*cC)*g3,e3=(jz*gf-aD*c_)*g3,c1=1-cj-e3,dI=Math.max(cj,e3,c1);
if(dI==cj)n=D;else if(dI==e3)n=h;else n=cd}}z[O>>2]=n.ind}return{qG:z,va:U[1]}};j.mG.a2N=function(F,r,$){var C=[],M={},l=r-1,k=$-1,d=0,I=new Uint32Array(F),c=[-r-1,-r,-r+1,-1,1,r-1,r,r+1,r+r,2,-r-r,-2,r+r-1,r+r+1,r+2,-r+2,-r-r+1,-r-r-1,-r-2,r-2,r+r+2,-r-r+2-r-r-2,r+r-2];
for(var Q=1;Q<k;Q++)for(var x=1;x<l;x++){var U=Q*r+x,S=I[U],z=!0;for(var O=0;O<8;O++)z=z&&I[U+c[O]]==S;
if(z){d++;var V=M[S];if(V==null){M[S]=C.length;C.push({gb:S,ls:1})}else C[V].ls++}}return{va:C,a8g:d}};
j.mG.eG=function(F,r,$,C,M,l){var k=UPNG.quantize.getNearest(F[0],r,$,C,M);return j.mG.a0P(k,r,$,C,M)<l?k:null};
j.mG.a0P=function(F,r,$,C,M){var l=F.est.q,k=r-l[0],d=$-l[1],I=C-l[2],c=M-l[3];return k*k+d*d+I*I+c*c};
(function(){j.mG.i3=function(d,I,c,Q,x){var U=d.pT,S=I*c,z=d.UB,V=d.qG,t=C(Q,V,U,S),Y=new UnionFind(U),G=0;
for(var i=1;i<c;i++)for(var J=1;J<I;J++){var O=i*I+J,H=V[O],v=0;if((v=V[O-1])!=H&&t[v]==t[H]&&F(z,0,H*6,v*6)<x)Y.link(H,v);
if((v=V[O-I])!=H&&t[v]==t[H]&&F(z,0,H*6,v*6)<x)Y.link(H,v)}var n=new Uint16Array(U);n.fill(65535);var g=new Uint16Array(U);
for(var O=0;O<U;O++){var W=Y.find(O);if(n[W]==65535)n[W]=G++;g[O]=n[W]}var L=new Uint16Array(S);for(var O=0;
O<S;O++)L[O]=g[V[O]];return{qG:L,pT:G}};j.mG.pk=function(d,I,c){var Q=j.j(I),x=d.length;for(var O=0;
O<x;O++){var U=c[O];if(U==0||U==255){var S=d[O],z=2-(U>>>7),V=Q[S]=Q[S]|z;if(V==3)return S}}return-1};
function F(d,I,c,Q){var x=1/d[c+5],U=1/d[Q+5],S=d[c]*x-d[Q]*U,z=d[c+1]*x-d[Q+1]*U,V=d[c+2]*x-d[Q+2]*U,t=d[c+3]*x-d[Q+3]*U,Y=d[c+4]*x-d[Q+4]*U,i=Math.sqrt(S*S+z*z+V*V),J=Math.sqrt(t*t+Y*Y);
return~~(i+I*J+.5)}function r(d,I){var O=0,c=d.length;while(O!=c&&d[O]!=I)O+=2;return O==c?-1:O}function $(d,O){if(O==d.length-2){d.pop();
d.pop()}else{d[O+1]=d.pop();d[O]=d.pop()}}j.mG.aJF=function(d,I,c,Q,x){var U=new Uint32Array(x*4400),S=[];
for(var O=0;O<x;O++)S.push([]);for(var z=0;z<c;z++)for(var V=0;V<I;V++){var O=z*I+V,t=O<<2,Y=Q[O],i=0,J=d[t]>>>4,H=d[t+1]>>>4,v=d[t+2]>>>4;
U[Y*4400+(J<<8|H<<4|v)]++;U[Y*4400+4096]++;U[Y*4400+4100+(J<<4|H)]++;U[Y*4400+4360+J]++;if(V!=0&&(i=Q[O-1])!=Y&&r(S[Y],i)==-1){S[Y].push(i,0);
S[i].push(Y,0)}if(z!=0&&(i=Q[O-I])!=Y&&r(S[Y],i)==-1){S[Y].push(i,0);S[i].push(Y,0)}}for(var O=0;O<x;
O++){var v=S[O];for(var n=0;n<v.length;n+=2)v[n+1]=k(U,O,v[n])}return[U,S]};function C(d,I,c,Q){var x=j.j(c);
for(var O=0;O<Q;O++){var U=d[O];if(U==0||U==255)x[I[O]]=2-(U>>>7)}return x}j.mG.afd=function(d,I,c,Q,x,U,S){var z=I*c,V=S[0],t=S[1],Y=new UnionFind(Q),i=C(x,d,Q,z),J=-1,H=!0,v=0;
for(var O=0;O<Q;O++)if(i[O]==1){if(J==-1)J=O;else Y.link(O,J)}if(J==-1){for(var O=0;O<z;O++)U[O]=x[O]==255?255:0;
return}while(H){while(H){H=!1;for(var O=0;O<Q;O++){if(i[O]==0){var n=M(t[O]);if(i[n]==1){i[O]=i[n];H=!0;
Y.link(O,n)}}}}H=!0;v=0;while(H){H=!1;for(var O=0;O<Q;O++){if(i[O]==0){var n=M(t[O]);if(i[n]==0){var G=O*4400,g=n*4400;
for(var W=0;W<4400;W+=2){V[G+W]+=V[g+W];V[G+W+1]+=V[g+W+1]}l(t,V,O,n);v++;i[n]=3;H=!0;Y.link(O,n)}}}}H=v!=0}var L=Y.find(J);
for(var O=0;O<Q;O++)i[O]=Y.find(O)==L?255:0;for(var O=0;O<z;O++){U[O]=i[d[O]]}for(var O=0;O<z;O++){var n=x[O];
if(n==0||n==255)U[O]=n}};function M(d){var I=0,c=0,Q=d.length;for(var x=0;x<Q;x+=2){var U=d[x+1];if(U>c){c=U;
I=x}}return d[I]}function l(d,I,c,Q){var x=d[c],U=d[Q];$(x,r(x,Q));$(U,r(U,c));for(var O=0;O<U.length;
O+=2){var S=U[O],z=d[S];$(z,r(z,Q));if(r(z,c)==-1){z.push(c,0);x.push(S,0)}}for(var O=0;O<x.length;O+=2){var S=x[O],z=d[S],V=k(I,c,S);
x[O+1]=V;z[r(z,c)+1]=V}}function k(d,I,c){var Q=0,x=4096,U=I*4400,S=c*4400;for(var z=0;z<16;z++){if(d[U+4360+z]==0||d[S+4360+z]==0)continue;
for(var V=0;V<16;V++){var t=z<<4|V;if(d[U+4100+t]==0||d[S+4100+t]==0)continue;var Y=U+(t<<4),i=S+(t<<4);
for(var O=0;O<16;O++)Q+=Math.sqrt(d[Y+O]*d[i+O])}}var J=Q/Math.sqrt(d[U+x]*d[S+x]);return~~(999.99999*J)}}());
j.mG.kU=function(){var F,r,$,k=0,d=0;function C(S,z,V){var t=[],Y=V,i=V,J=V>>>2;for(var H=0;H<z;H++)for(var v=0;
v<S;v++){var n=~~((v+.5)*Y),G=~~((H+.5)*i),g=1e9,W=Math.max(0,n-J),L=Math.min(r,n+J+1),b=Math.max(0,G-J),T=Math.min($,G+J+1);
for(var a=b;a<T;a++)for(var R=W;R<L;R++){var D=M(R,a);if(D<g){n=R;G=a;g=D}}t.push(n,G)}return t}function M(S,z){var V=(z*r+S)*4,t=r*4,Y=l(V-4,V)+l(V,V+4),i=l(V-t,V)+l(V,V+t);
return Y+i}function l(S,z){var V=F[S]-F[z],t=F[S+1]-F[z+1],Y=F[S+2]-F[z+2];return V*V+t*t+Y*Y}function I(S,z,V,t){d++;
if(t<k)k=t;S[t].push(z,V)}function c(S){d--;while(S[k].length==0)k++}function Q(S,z,V,t,Y){var i=(V*r+z)*4,J=t[Y+5],H=1/J,v=F[i]*J-t[Y],n=F[i+1]*J-t[Y+1],G=F[i+2]*J-t[Y+2],g=z*J-t[Y+3],W=V*J-t[Y+4],L=Math.sqrt(v*v+n*n+G*G),b=Math.sqrt(g*g+W*W);
return~~((L+S*b)*H+.5)}function x(S,z,V,t,Y){F=S;r=z;$=V;k=0;d=0;var i=r*$,J=Math.round(Math.min(r,$)/(t?t:30));
if(J==0)J=1;var H=(Y?Y:30)/J,v=Math.floor(r/J),n=Math.floor($/J),G=new Uint16Array(i);for(var O=0;O<i;
O++)G[O]=65535;var g=C(v,n,J),W=g.length>>>1;if(W>65535)throw W;var L=new Uint32Array(W*6),b=[];for(var O=0;
O<1e3+$;O++)b.push([]);var T=1e3*700/(r*$),a=Math.floor(n*T);a=Math.min(n,Math.max(4,a));a=n;var L=new Uint32Array(W*6);
for(var R=0;R<n;R+=a){var D=Math.min(R+a,n);for(var h=R;h<D;h++)for(var K=0;K<v;K++){var O=h*v+K;I(b,g[O*2+1]<<16|g[O*2],O,0)}var X=Math.min($,D*J);
if(R+a>=n)X=$;U(L,b,G,H,X)}F=null;return{qG:G,pT:W,UB:L,aCc:H}}function U(S,z,V,t,Y){while(d!=0){c(z);
var i=z[k].pop(),J=z[k].pop(),H=J>>>16,v=J&65535,O=H*r+v;if(V[O]==null)throw"e";if(V[O]==65535){var n=i*6,G=O<<2;
V[O]=i;S[n]+=F[G];S[n+1]+=F[G+1];S[n+2]+=F[G+2];S[n+3]+=v;S[n+4]+=H;S[n+5]++;if(H!=Y-1&&V[O+r]==65535)I(z,H+1<<16|v,i,Q(t,v,H+1,S,n));
if(H!=0&&V[O-r]==65535)I(z,H-1<<16|v,i,Q(t,v,H-1,S,n));if(v!=0&&V[O-1]==65535)I(z,H<<16|v-1,i,Q(t,v-1,H,S,n));
if(v!=r-1&&V[O+1]==65535)I(z,H<<16|v+1,i,Q(t,v+1,H,S,n))}}}x.V0=function(S,z,V,t,Y,i){F=S;r=z;$=V;var J=t.pT=t.pT+1,H=t.qG,v=t.UB,n=t.UB=new Uint32Array(J*6);
n.set(v,0);var G=H[Y[1]*r+Y[0]];for(var O=0;O<H.length;O++)if(H[O]==G)H[O]=65535;for(var O=0;O<6;O++)n[G*6+O]=0;
var g=[];for(var O=0;O<1e3+$;O++)g.push([]);for(var O=0;O<Y.length;O+=2)I(g,Y[O+1]<<16|Y[O],G,0);for(var O=0;
O<i.length;O+=2)I(g,i[O+1]<<16|i[O],J-1,0);U(n,g,H,t.aCc,$);F=null};return x}();j.aJM={};j.aJM.aDi=function(){var F=11,r=7,$=F>>>1,bU=r>>>1,C=2,M=2e3/C,l=[],d=null,I="";
function k(Q,x,U){var S=(Q[x+0]-Q[U+0])*(1/255),z=(Q[x+1]-Q[U+1])*(1/255),V=(Q[x+2]-Q[U+2])*(1/255),t=(Q[x+3]-Q[U+3])*(1/255),Y=S*S*.125+z*z*.25+V*V*.5+t*t;
return l[~~(Y*M)]}function c(Q,x,U,S,z,V){var t=Date.now(),Y=j.j(x*U);j.R2(Q,Y);var i=UZIP.adler(Y,0,x*U);
if(i!=I){var J=j.DE(Y,x,U);d=j.j(x*U*4);I=i;var H=[1,1/9,1/25,1/49,1/81];for(var v=0;v<U;v++)for(var n=0;
n<x;n++)for(var O=0;O<4;O++){var G=Math.max(1,n-O),g=Math.min(x-1,n+O),W=Math.max(1,v-O),L=Math.min(U-1,v+O),b=j.in(J,x,G,g,W,L);
if(isNaN(b))throw n+","+v+","+O+","+b;d[(v*x+n)*4+O]=b*H[O]}}if(jp.mE){var T=jp.lt(0,x,U);T.set(Q);var a=jp.lt(1,x,U);
a.set(d);var R=jp.lt(2,x,U);jp.Tt(R);jp.filter.xl({I:jp.filter.a4M,Hb:new Float32Array([1/x,1/U]),aEC:a.VJ,a9L:z,aHh:V},T.VJ);
R.get(S)}else{for(var O=0;O<2e3;O++)l[O]=Math.exp(-(O/2e3)*C*(100+(1-z)*(1-z)*1e4));var D=bU+2;for(var v=D;
v<U-D;v++)for(var n=D;n<x-D;n++){var h=0,K=0,X=0,w=0;for(var N=0;N<F;N++)for(var s=0;s<F;s++){var A=n+s-$,p=v+N-$;
if(A==n&&p==v||A<D||p<D||A>=x-D||p>=U-D)continue;var q=k(d,(v*x+n)*4,(p*x+A)*4),f=p*x+A<<2;h+=q*Q[f+0];
K+=q*Q[f+1];X+=q*Q[f+2];w+=q}if(w==0){continue}var e=1/w,o=(v*x+n)*4;S[o+0]=~~((1-V)*e*h+V*S[o+0]);S[o+1]=~~((1-V)*e*K+V*S[o+1]);
S[o+2]=~~((1-V)*e*X+V*S[o+2])}}}return c}();j.aEM=function(){var F=6,r=F>>>1,$=[[-.0662912607,-.0855816496],[.1104854346,-.0855816496],[.6629126074,.1711632992],[.6629126074,.1711632992],[.1104854346,-.0855816496],[-.0662912607,-.0855816496],[0,0],[0,0]],C=[[-.0662912607,.0855816496],[-.1104854346,-.0855816496],[.6629126074,-.1711632992],[-.6629126074,.1711632992],[.1104854346,.0855816496],[.0662912607,-.0855816496],[0,0],[0,0]];
function M(V,t){var Y=!1,i=V.length,J=t[0],G=5,W=0,L=0;for(var O=1;O<i;O++)J=J.DM(t[O]);if((J.r&1)!=0)J.r++;
if((J.$&1)!=0)J.$++;var H=J.r,v=J.$,n=Math.max(H,v);while(n>>>G>8&&G<10)G++;var g=1<<G;if(H%g!=0)W=g-H%g;
if(v%g!=0)L=g-v%g;J.lW(W>>>1,L>>>1);H=J.r;v=J.$;if(H%g!=0||v%g!=0)throw"e";var b=Date.now(),T=[],a=j.j(J.C()),R=[],D=H*v,h=new Float32Array(H*v*2);
for(var O=0;O<i;O++){var K=t[O],X=j.j(K.C());j.R2(V[O],X);a.fill(0);j.wU(X,K,a,J);T.push(a.slice(0));
var w=K.x-J.x,N=K.y-J.y,s=w+K.r-2,A=N+K.$;for(var p=0;p<K.$;p++){var q=(p+N)*H;for(var f=0;f<w;f++)a[q+f]=a[q+w];
for(var f=s;f<H;f++)a[q+f]=a[q+s-1]}for(var f=0;f<H;f++){for(var p=0;p<N;p++)a[p*H+f]=a[N*H+f];for(var p=A;
p<v;p++)a[p*H+f]=a[(A-1)*H+f]}var e=new Float32Array(H*v*2);R.push(e);for(var o=0;o<D;o++)e[o*2]=a[o]*(1/255);
I(e,h,H,v,G);l(e,H,v,G)}if(Y)console.log("to gray, decompose",Date.now()-b);b=Date.now();var E=j.j(H*v);
for(var p=0;p<v;p++)for(var f=0;f<H;f++){var cj=0,u=0,cd=p*H+f<<1;for(var O=0;O<i;O++){var m=R[O],aZ=m[cd],jN=m[cd+1],eh=aZ*aZ+jN*jN;
if(eh>u){u=eh;cj=O}}E[cd>>>1]=cj}if(Y)console.log("max abs value",Date.now()-b);b=Date.now();k(E,H,v,G);
d(E,H,v);if(Y)console.log("denoise",Date.now()-b);b=Date.now();var iA=h.slice(0);for(var p=0;p<v;p++)for(var f=0;
f<H;f++){var O=p*H+f,cd=O<<1,hd=R[E[O]];iA[cd]=hd[cd];iA[cd+1]=hd[cd+1]}c(iA,h,H,v,G);if(Y)console.log("compose",Date.now()-b);
b=Date.now();for(var o=0;o<D;o++){var eh=iA[o*2]*255,cj=0,u=1e9;for(var O=0;O<i;O++){var kx=Math.abs(T[O][o]-eh);
if(kx<u){u=kx;cj=O}T[O][o]=0}T[cj][o]=255}if(Y)console.log("toRGB",Date.now()-b);b=Date.now();return[T,J]}function l(V,t,Y,i){var J=t>>>i,H=Y>>>i,v=1e-4;
for(var n=0;n<Y;n++)for(var G=0;G<t;G++){if(G<J&&n<H)continue;var g=(n*t+G)*2,W=V[g],L=V[g+1],b=W*W+L*L;
if(b<v)W=L=0;else{var T=(b-v)/b;W*=T;L*=T}V[g]=W;V[g+1]=L}}function k(V,t,Y,i){for(var J=0;J<i;J++){var H=t>>>J,v=Y>>>J,n=H>>>1,G=v>>>1;
for(var g=0;g<G;g++)for(var W=0;W<n;W++){var L=g*t+n+W,b=(g+G)*t+n+W,T=(g+G)*t+W,a=V[L],R=V[b],D=V[T];
if(a==R==D){}else if(a==R)V[T]=a;else if(R==D)V[L]=R;else if(a==D)V[b]=a}}}function d(V,t,Y){for(var i=1;
i<Y-1;i++)for(var J=1;J<t-1;J++){var O=i*t+J,H=V[O-t],v=V[O-1],n=V[O],G=V[O+1],g=V[O+t],W=H==v&&H==G||H==G&&G==g||G==g&&v==g||H==v&&g==v;
if(W)V[O]=H==v?H:v==G?v:H;else if(n>H&&n>v&&n>G&&n>g)V[O]=H+v+G+g>>>2;else if(n<H&&n<v&&n<G&&n<g)V[O]=H+v+G+g>>>2}}function I(V,t,Y,i,J){for(var O=0;
O<J;O++){var H=Y>>>O,v=i>>>O;Q(V,t,Y,i,H,v)}}function c(V,t,Y,i,J){for(var O=J-1;O>=0;O--){var H=Y>>O,v=i>>O;
x(V,t,Y,i,H,v)}}function Q(V,t,Y,i,J,H){S(V,t,Y,i,J,H,!0);S(t,V,Y,i,J,H,!1)}function x(V,t,Y,i,J,H){z(V,t,Y,i,J,H,!0);
z(t,V,Y,i,J,H,!1)}function U(V,t,Y,i,J,H){var v=Y*i+t<<1;V[v]=J;V[v+1]=H}function S(V,t,Y,i,J,H,v){var bn=v?J:H,n=v?H:J,G=n>>>1;
for(var g=0;g<bn;g++){for(var W=0;W<n;W+=2){var L=0,b=0,T=0,a=0,R=W>>>1;for(var D=0;D<6;D++){var h=W+D-3;
if(h<0)h=n+h;if(h>=n)h=h-n;var K=(v?h*Y+g:g*Y+h)<<1,X=V[K],w=V[K+1],N=$[D],s=C[D];L+=X*N[0]-w*N[1];b+=w*N[0]+X*N[1];
T+=X*s[0]-w*s[1];a+=w*s[0]+X*s[1]}if(v){U(t,g,R,Y,L,b);U(t,g,R+G,Y,T,a)}else{U(t,R,g,Y,L,b);U(t,R+G,g,Y,T,a)}}}}function z(V,t,Y,i,J,H,v){var bn=v?J:H,n=v?H:J,G=n>>>1,g,W,L,b;
for(var T=0;T<bn;T++){for(var a=0;a<n;a++){var R=0,D=0;for(var h=a+3&1;h<6;h+=2){var K=a-h+3>>1;if(K<0)K=G+K;
if(K>=G)K=K-G;if(v){g=T;W=K;L=T;b=K+G}else{W=T;g=K;b=T;L=K+G}var X=W*Y+g<<1,w=b*Y+L<<1,N=V[X],s=V[X+1],A=V[w],p=V[w+1],q=$[h],f=C[h];
R+=N*q[0]+A*f[0];R+=s*q[1]+p*f[1];D+=s*q[0]+p*f[0];D-=N*q[1]+A*f[1]}if(v)U(t,T,a,Y,R,D);else U(t,a,T,Y,R,D)}}}return{lF:M}}();
j.a7E=function(){var F=Math.floor(12e3/8),r,$,C,M;function l(x,U,S,z){var V=UPNG.quantize.findNearest,t=[x,new cS(0,0,U,S)],i;
j.zY(t);var Y=Date.now(),J=U+S>>>1;for(var O=J<1e3?2:4;O>=0;O-=2){var H=t[O+1],$=H.r,C=H.$;if(i==null){i=new Uint8Array($*C);
V(t[O],i,z)}k(t[O],$,C,z,i);if(O!=0){var v=t[O-1],n=v.r,G=v.$,g=new Uint8Array(n*G);for(var W=0;W<G;
W++)for(var L=0;L<n;L++)g[W*n+L]=i[(W>>>1)*$+(L>>>1)];i=g}}return i}function k(x,U,S,z,V){r=x;$=U;C=S;
M=z;var t=M.length>>>2,Y=[-1,-$,1,$],i=[-1,-$,-$+1,2,$+1,$],J=[-1,-$,1,$+1,$+$,$-1],H=8,v=$+C>>>1,n=1e9;
while(v>512){H>>=1;v>>=1}H=Math.max(1,Math.min(4,H));for(var G=0;G<H;G++){var g=0;for(var W=0;W<C;W++)for(var L=0;
L<$;L++){if(c(V,L,W)<2)continue;var b=W*$+L,T=V[b],a=1e9,R=0,D=L==0||W==0||L>$-3||W>C-3;if(D){a=1e9;
for(var O=0;O<t;O++){V[b]=O;var h=Q(V,L,W,2);if(h<a){a=h;R=O}}V[b]=R;if(R==T&&L+1<$&&V[b+1]==T){a=1e9;
for(var O=0;O<t;O++){V[b]=V[b+1]=O;var h=Q(V,L,W,2)+Q(V,L+1,W,2);if(h<a){a=h;R=O}}V[b]=V[b+1]=R}if(R==T&&W+1<C&&V[b+$]==T){a=1e9;
for(var O=0;O<t;O++){V[b]=V[b+$]=O;var h=Q(V,L,W,2)+Q(V,L,W+1,2);if(h<a){a=h;R=O}}V[b]=V[b+$]=R}}else{a=1e9;
R=-1;for(var O=0;O<4;O++){var K=V[b+Y[O]];if(K==R)continue;V[b]=K;var h=Q(V,L,W,2);if(h<a){a=h;R=K}}V[b]=R;
if(R==T&&L+1<$&&V[b+1]==T){a=1e9;R=-1;for(var O=0;O<6;O++){var K=V[b+i[O]];if(K==R)continue;V[b]=V[b+1]=K;
var h=Q(V,L,W,2)+Q(V,L+1,W,2);if(h<a){a=h;R=K}}V[b]=V[b+1]=R}if(R==T&&W+1<C&&V[b+$]==T){a=1e9;R=-1;for(var O=0;
O<6;O++){var K=V[b+J[O]];if(K==R)continue;V[b]=V[b+$]=K;var h=Q(V,L,W,2)+Q(V,L,W+1,2);if(h<a){a=h;R=K}}V[b]=V[b+$]=R}}g+=a}}}function d(x){var U=0;
for(var S=0;S<C;S++)for(var z=0;z<$;z++)U+=Q(x,z,S,1);return U/($*C)}function I(x,U,S){var O=S*$+U,z=O*4,V=x[O]*4,t=r[z]-M[V],Y=r[z+1]-M[V+1],i=r[z+2]-M[V+2],J=r[z+3]-M[V+3];
return t*t+Y*Y+i*i+J*J}function c(x,U,S){if(U<0||U>=$||S<0||S>=C)throw"e";var O=S*$+U,z=x[O],V=0;if(S>0&&z!=x[O-$])V+=2;
if(U>0&&z!=x[O-1])V+=2;if(U<$-1&&z!=x[O+1])V+=2;if(S<C-1&&z!=x[O+$])V+=2;if(S>0&&U>0&&z!=x[O-$-1])V++;
if(S<C-1&&U>0&&z!=x[O+$-1])V++;if(S>0&&U<$-1&&z!=x[O-$+1])V++;if(S<C-1&&U<$-1&&z!=x[O+$+1])V++;return V}function Q(x,U,S,z){return I(x,U,S)+c(x,U,S)*z*F}return l}();
var eA=function(){function F(){this.C=0;this.f_=0;this.EA={};this.QH=[];this._Z=1e5;this.ZG=1e5;this.WY=-1;
this.pv=-1;this.color=0}function r(bU){this.g=bU;this.kh=new Array(bU);this.gb=new Array(bU*6);this.aek=0;
this.vZ=new Array(bU*2);this.alpha=new Array(bU);this.K4=new Array(bU);this.dJ=new Array(bU)}function $(M,l,k,d){function I(t,Y,M,l){return M[l*Y+t]}function c(O){var G=M.length;
while(O<G&&M[O]==0)O++;return O<G?O:-1}function Q(t,Y,G){for(var O=2;O<5;O++){var g=0;for(var W=-O+1;
W<=O-1;W++){g+=I(t+W,Y+O-1,M,l)==G?1:-1;g+=I(t+O-1,Y+W-1,M,l)==G?1:-1;g+=I(t+W-1,Y-O,M,l)==G?1:-1;g+=I(t-O,Y+W,M,l)==G?1:-1}if(g>0)return 1;
else if(g<0)return 0}return 0}function x(G,z){var V=new F,t=G,Y=z,g=0,W=1,L;V.color=M[z*l+G];V.sign=I(G,z,M,l)==V.color?"+":"-";
while(1){V.QH.push(t,Y);if(t>V.WY)V.WY=t;if(t<V._Z)V._Z=t;if(Y>V.pv)V.pv=Y;if(Y<V.ZG)V.ZG=Y;V.f_++;t+=g;
Y+=W;V.C-=t*W;if(t==G&&Y==z)break;var b=I(t+(g+W-1>>1),Y+(W-g-1>>1),M,l)==V.color,T=I(t+(g-W-1>>1),Y+(W+g-1>>1),M,l)==V.color;
if(T&&!b){if(d.$O=="right"||d.$O=="black"&&V.sign=="+"||d.$O=="white"&&V.sign=="-"||d.$O=="majority"&&Q(t,Y,V.color)||d.$O=="minority"&&!Q(t,Y,V.color)){L=g;
g=-W;W=L}else{L=g;g=W;W=-L}}else if(T){L=g;g=-W;W=L}else if(!b){L=g;g=W;W=-L}}return V}var U=0,S=[];
while(!0){var U=c(U);if(U==-1)break;var z=Math.floor(U/l),V=x(U-z*l,z);for(var O=0;O<V.QH.length-2;O+=2){var t=V.QH[O],Y=V.QH[O+1],i=Y*l+t;
if(t==V.QH[O+2]&&Y+1==V.QH[O+3]&&M[i]!=0)eA.fill(i,M,l,0)}if(V.C>d.aFm)S.push(V)}for(var O=0;O<S.length;
O++)S[O].parent=-1;var J=Date.now();for(var O=1;O<S.length;O++){var H=S[O];for(var v=O-1;v>=0;v--){var n=S[v];
if(H._Z<n._Z||H.WY>n.WY||H.ZG<n.ZG||H.pv>n.pv)continue;if(!eA.h_(n.QH,H.QH[0]+.5,H.QH[1]+.5))continue;
H.parent=v;break}}return S}function C(M,l){function k(g,W,L,b,T){this.x=g;this.y=W;this.ZN=L;this.GM=b;
this.vB=T}function d(g,bU){return(bU+g)%bU}function I(g,W,L,b){return g*b-L*W}function c(g,W,L,b){return g*L+W*b}function Q(g,W,L){if(g<=L)return g<=W&&W<L;
else return g<=W||W<L}function x(g,W,L){var b=0;b+=W*g[0]*W;b+=W*g[1]*L;b+=W*g[2];b+=L*g[3]*W;b+=L*g[4]*L;
b+=L*g[5];b+=g[6]*W;b+=g[7]*L;b+=g[8];return b}function U(g,W,L){return W+g*(L-W)}function S(g,W,L,b){var T=Math.sign(L-g),a=-Math.sign(b-W);
return T*(L-g)-a*(b-W)}function z(g,W){return Math.sqrt(g*g+W*W)}function V(g,W,L,b,T){var a=1-g;return a*a*a*W+3*(a*a*g)*L+3*(g*g*a)*b+g*g*g*T}function t(g,W,L,b,T,a,R,D){var h=I(g,W,R,D),K=I(L,b,R,D),X=I(T,a,R,D),w=h-2*K+X,N=-2*h+2*K,s=h,A=N*N-4*w*s;
if(w==0||A<0)return-1;var p=Math.sqrt(A),q=(-N+p)/(2*w),f=(-N-p)/(2*w);if(q>=0&&q<=1)return q;else if(f>=0&&f<=1)return f;
else return-1}function Y(G){var O,g,W;G.cc=G.QH[0];G.adr=G.QH[1];G.Kz=[];var L=G.Kz;L.push(new k(0,0,0,0,0));
for(O=0;O<G.f_;O++){g=G.QH[O<<1]-G.cc;W=G.QH[(O<<1)+1]-G.adr;L.push(new k(L[O].x+g,L[O].y+W,L[O].ZN+g*W,L[O].GM+g*g,L[O].vB+W*W))}}function i(G){var bU=G.f_,g=G.QH,W,L=new Array(bU),b=new Array(bU),T=new Array(4),a,R,D,h,K,X,w,N,s,A,p,O,q,f,e,o,E,cj,u=0;
G.hx=new Array(bU);for(O=bU-1;O>=0;O--){if(g[O<<1]!=g[u<<1]&&g[(O<<1)+1]!=g[(u<<1)+1])u=O+1;b[O]=u}for(O=bU-1;
O>=0;O--){var cd=d(O+1,bU)<<1;T[0]=T[1]=T[2]=T[3]=0;W=(3+3*(g[cd]-g[O<<1])+(g[cd+1]-g[(O<<1)+1]))/2;
T[W]++;a=0;R=0;D=0;h=0;u=b[O];f=O;while(1){p=0;W=(3+3*Math.sign(g[u*2]-g[f*2])+Math.sign(g[u*2+1]-g[f*2+1]))/2;
T[W]++;if(T[0]&&T[1]&&T[2]&&T[3]){L[O]=f;p=1;break}s=g[u*2]-g[O*2];A=g[u*2+1]-g[O*2+1];if(I(a,R,s,A)<0||I(D,h,s,A)>0){break}if(Math.abs(s)<=1&&Math.abs(A)<=1){}else{K=s+(A>=0&&(A>0||s<0)?1:-1);
X=A+(s<=0&&(s<0||A<0)?1:-1);if(I(a,R,K,X)>=0){a=K;R=X}K=s+(A<=0&&(A<0||s<0)?1:-1);X=A+(s>=0&&(s>0||A<0)?1:-1);
if(I(D,h,K,X)<=0){D=K;h=X}}f=u;u=b[f];if(!Q(u,O,f)){break}}if(p==0){w=Math.sign(g[u*2]-g[f*2]);N=Math.sign(g[u*2+1]-g[f*2+1]);
s=g[f*2]-g[O*2];A=g[f*2+1]-g[O*2+1];e=I(a,R,s,A);o=I(a,R,w,N);E=I(D,h,s,A);cj=I(D,h,w,N);q=1e7;if(o<0){q=Math.floor(e/-o)}if(cj>0){q=Math.min(q,Math.floor(-E/cj))}L[O]=d(f+q,bU)}}q=L[bU-1];
G.hx[bU-1]=q;for(O=bU-2;O>=0;O--){if(Q(O+1,L[O],q)){q=L[O]}G.hx[O]=q}for(O=bU-1;Q(d(O+1,bU),q,G.hx[O]);
O--){G.hx[O]=q}}function J(G){function g(G,O,W){var bU=G.f_,s=G.QH,A=G.Kz,p,q,f,e,o,b,E,cj,N,u,cd,m,aZ,jN,eh=0;
if(W>=bU){W-=bU;eh=1}if(eh==0){p=A[W+1].x-A[O].x;q=A[W+1].y-A[O].y;e=A[W+1].GM-A[O].GM;f=A[W+1].ZN-A[O].ZN;
o=A[W+1].vB-A[O].vB;b=W+1-O}else{p=A[W+1].x-A[O].x+A[bU].x;q=A[W+1].y-A[O].y+A[bU].y;e=A[W+1].GM-A[O].GM+A[bU].GM;
f=A[W+1].ZN-A[O].ZN+A[bU].ZN;o=A[W+1].vB-A[O].vB+A[bU].vB;b=W+1-O+bU}cd=(s[O<<1]+s[W<<1])/2-s[0];m=(s[(O<<1)+1]+s[(W<<1)+1])/2-s[1];
jN=s[W<<1]-s[O<<1];aZ=-(s[(W<<1)+1]-s[(O<<1)+1]);E=(e-2*p*cd)/b+cd*cd;cj=(f-p*m-q*cd)/b+cd*m;N=(o-2*q*m)/b+m*m;
u=aZ*aZ*E+2*aZ*jN*cj+jN*jN*N;return Math.sqrt(u)}var O,W,L,b,bU=G.f_,T=new Array(bU+1),a=new Array(bU+1),R=new Array(bU),D=new Array(bU+1),h=new Array(bU+1),K=new Array(bU+1),X,w,N;
for(O=0;O<bU;O++){N=d(G.hx[d(O-1,bU)]-1,bU);if(N==O){N=d(O+1,bU)}if(N<O){R[O]=bU}else{R[O]=N}}W=1;for(O=0;
O<bU;O++){while(W<=R[O]){D[W]=O;W++}}O=0;for(W=0;O<bU;W++){h[W]=O;O=R[O]}h[W]=bU;L=W;O=bU;for(W=L;W>0;
W--){K[W]=O;O=D[O]}K[0]=0;T[0]=0;for(W=1;W<=L;W++){for(O=K[W];O<=h[W];O++){w=-1;for(b=h[W-1];b>=D[O];
b--){X=g(G,b,O)+T[b];if(w<0||X<w){a[O]=b;w=X}}T[O]=w}}G.A=L;G.aoW=new Array(L);for(O=bU,W=L-1;O>0;W--){O=a[O];
G.aoW[W]=O}}function H(G){function g(G,O,X,R,D,iA){var bU=G.f_,hd=G.Kz,kx=0,N;while(X>=bU){X-=bU;kx+=1}while(O>=bU){O-=bU;
kx-=1}while(X<0){X+=bU;kx-=1}while(O<0){O+=bU;kx+=1}var b0=hd[X+1].x-hd[O].x+kx*hd[bU].x,gX=hd[X+1].y-hd[O].y+kx*hd[bU].y,j$=hd[X+1].GM-hd[O].GM+kx*hd[bU].GM,i0=hd[X+1].ZN-hd[O].ZN+kx*hd[bU].ZN,f7=hd[X+1].vB-hd[O].vB+kx*hd[bU].vB,w=X+1-O+kx*bU;
R[iA]=b0/w;R[iA+1]=gX/w;var am=(j$-b0*b0/w)/w,gf=(i0-b0*gX/w)/w,cC=(f7-gX*gX/w)/w,aD=(am+cC+Math.sqrt((am-cC)*(am-cC)+4*gf*gf))/2;
am-=aD;cC-=aD;if(Math.abs(am)>=Math.abs(cC)){N=Math.sqrt(am*am+gf*gf);if(N!=0){D[iA]=-gf/N;D[iA+1]=am/N}}else{N=Math.sqrt(cC*cC+gf*gf);
if(N!=0){D[iA]=-cC/N;D[iA+1]=gf/N}}if(N==0){D[iA]=D[iA+1]=0}}var W=G.A,L=G.aoW,bU=G.f_,b=G.QH,T=G.cc,a=G.adr,R=new Array(W*2),D=new Array(W*2),h=new Array(W),K=new Array(3),O,X,w,N,q,f,e,o,E,cj,u;
G.EA=new r(W);for(O=0;O<W;O++){X=L[d(O+1,W)];X=d(X-L[O],bU)+L[O];R[O<<1]=0;R[(O<<1)+1]=0;D[O<<1]=0;D[(O<<1)+1]=0;
g(G,L[O],X,R,D,O<<1)}for(O=0;O<W;O++){h[O]=[0,0,0,0,0,0,0,0,0];var s=D[O<<1]*D[O<<1]+D[(O<<1)+1]*D[(O<<1)+1],A=1/s;
if(s!=0){K[0]=D[(O<<1)+1];K[1]=-D[O<<1];K[2]=-K[1]*R[(O<<1)+1]-K[0]*R[O<<1];for(N=0;N<3;N++){h[O][N*3+0]=K[N]*K[0]*A;
h[O][N*3+1]=K[N]*K[1]*A;h[O][N*3+2]=K[N]*K[2]*A}}}var p=[0,0,0,0,0,0,0,0,0];for(O=0;O<W;O++){p[0]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=0;
var cd=b[L[O]<<1]-T,m=b[(L[O]<<1)+1]-a,aZ=0,jN=0;X=d(O-1,W);for(N=0;N<9;N+=3){p[N+0]=h[X][N+0]+h[O][N+0];
p[N+1]=h[X][N+1]+h[O][N+1];p[N+2]=h[X][N+2]+h[O][N+2]}while(1){var eh=p[0]*p[4]-p[1]*p[3];if(eh!=0){aZ=(-p[2]*p[4]+p[5]*p[0])/eh;
jN=(p[2]*p[3]-p[5]*p[0])/eh;break}if(p[0]>p[4]){K[0]=-p[1];K[1]=p[0]}else if(p[4]){K[0]=-p[4];K[1]=p[3]}else{K[0]=1;
K[1]=0}var s=K[0]*K[0]+K[1]*K[1],A=1/s;K[2]=-K[1]*m-K[0]*cd;for(N=0;N<3;N++){p[N*3+0]+=K[N]*K[0]*A;p[N*3+1]+=K[N]*K[1]*A;
p[N*3+2]+=K[N]*K[2]*A}}q=Math.abs(aZ-cd);f=Math.abs(jN-m);if(q<=.5&&f<=.5){G.EA.vZ[O<<1]=aZ+T;G.EA.vZ[(O<<1)+1]=jN+a;
continue}e=x(p,cd,m);E=cd;cj=m;if(p[0]!=0){for(u=0;u<2;u++){jN=m-.5+u;aZ=-(p[1]*jN+p[2])/p[0];q=Math.abs(aZ-cd);
o=x(p,aZ,jN);if(q<=.5&&o<e){e=o;E=aZ;cj=jN}}}if(p[4]!=0){for(u=0;u<2;u++){aZ=cd-.5+u;jN=-(p[3]*aZ+p[5])/p[4];
f=Math.abs(jN-m);o=x(p,aZ,jN);if(f<=.5&&o<e){e=o;E=aZ;cj=jN}}}for(N=0;N<2;N++){for(w=0;w<2;w++){aZ=cd-.5+N;
jN=m-.5+w;o=x(p,aZ,jN);if(o<e){e=o;E=aZ;cj=jN}}}G.EA.vZ[O<<1]=E+T;G.EA.vZ[(O<<1)+1]=cj+a}}function v(G){var g=G.EA.g,W=G.EA,O,L,b,T,a,R,D,h,K;
for(O=0;O<g;O++){L=d(O+1,g);b=d(O+2,g);var X=W.vZ[O<<1],w=W.vZ[(O<<1)+1],N=W.vZ[b<<1],s=W.vZ[(b<<1)+1],A=W.vZ[L<<1],p=W.vZ[(L<<1)+1],q=U(.5,N,A),f=U(.5,s,p);
a=S(X,w,N,s);if(a!=0){T=I(A-X,p-w,N-X,s-w)/a;T=Math.abs(T);R=T>1?1-1/T:0;R=R*(1/.75)}else{R=4/3}W.K4[L]=R;
var e=3*L<<1;if(R>=l.acI){W.kh[L]=0;W.gb[e+0]=W.gb[e+1]=0;W.gb[e+2]=A;W.gb[e+3]=p;W.gb[e+4]=q;W.gb[e+5]=f}else{if(R<.55){R=.55}else if(R>1){R=1}var o=.5+.5*R;
W.kh[L]=1;W.gb[e]=U(o,X,A);W.gb[e+1]=U(o,w,p);W.gb[e+2]=U(o,N,A);W.gb[e+3]=U(o,s,p);W.gb[e+4]=q;W.gb[e+5]=f}W.alpha[L]=R;
W.dJ[L]=.5}W.avN=1}function n(G){function g(){this.TU=0;this.Oc=0;this.oL=0;this.aY=0;this.LU=0;this.q=0;
this.cG=0;this.alpha=0}function W(G,O,X,a9,jz,E,cj){var b=G.EA.g,g3=G.EA.gb,e3=G.EA.vZ;if(O==X)return 1;
var c1=O,A=d(O+1,b),dI=d(c1+1,b),i0=e3[O<<1],f7=e3[(O<<1)+1],kJ=e3[A<<1],cA=e3[(A<<1)+1],c2=E[dI];if(c2==0)return 1;
var ee=z(i0-kJ,f7-cA);for(c1=dI;c1!=X;c1=dI){var dI=d(c1+1,b),hF=d(c1+2,b),ic=e3[dI<<1],eH=e3[(dI<<1)+1],kz=e3[hF<<1],kq=e3[(hF<<1)+1];
if(E[dI]!=c2)return 1;if(Math.sign(I(kJ-i0,cA-f7,kz-ic,kq-eH))!=c2)return 1;if(c(kJ-i0,cA-f7,kz-ic,kq-eH)<ee*z(ic-kz,eH-kq)*-.999847695156)return 1}var a7=d(O,b)*3+2<<1,i6=d(O+1,b)<<1,hm=d(X,b)<<1,bB=d(X,b)*3+2<<1,iA=g3[a7],hd=g3[a7+1],iV=e3[i6],eO=e3[i6+1],aC=e3[hm],fq=e3[hm+1],bX=g3[bB],gb=g3[bB+1],u=e3[0],cd=e3[1];
a7=X*3+2<<1;var dX=g3[a7],cb=g3[a7+1],p=cj[X]-cj[O];p-=I(dX-u,cb-cd,dX-u,cb-cd)/2;if(O>=X){p+=cj[b]}var e6=iV-iA,gn=eO-hd,a2=aC-iA,kf=fq-hd,dj=bX-iA,hr=gb-hd,iB=I(e6,gn,a2,kf),dm=I(e6,gn,dj,hr),fr=I(a2,kf,dj,hr),dv=iB+fr-dm;
if(dm==iB)return 1;var o=fr/(fr-dv),e=dm/(dm-iB),hw=dm*o/2;if(hw==0)return 1;var gT=p/hw,q=2-Math.sqrt(4-gT/.3);
a9.Oc=U(o*q,iA,iV);a9.oL=U(o*q,hd,eO);a9.aY=U(e*q,bX,aC);a9.LU=U(e*q,gb,fq);a9.alpha=q;a9.q=o;a9.cG=e;
iV=a9.Oc;eO=a9.oL;aC=a9.aY;fq=a9.LU;a9.TU=0;for(c1=d(O+1,b);c1!=X;c1=dI){dI=d(c1+1,b);var cu=e3[c1<<1],ha=e3[(c1<<1)+1],ic=e3[dI<<1],eH=e3[(dI<<1)+1];
o=t(iV-iA,eO-hd,aC-iV,fq-eO,bX-aC,gb-fq,ic-cu,eH-ha);if(o<-.5)return 1;var g1=V(o,iA,iV,aC,bX),dd=V(o,hd,eO,fq,gb),ee=z(ic-cu,eH-ha);
if(ee==0)return 1;var gj=I(ic-cu,eH-ha,g1-cu,dd-ha)/ee;if(Math.abs(gj)>jz)return 1;if(c(ic-cu,eH-ha,g1-cu,dd-ha)<0||c(cu-ic,ha-eH,g1-ic,dd-eH)<0){return 1}a9.TU+=gj*gj}for(c1=O;
c1!=X;c1=dI){dI=d(c1+1,b);var a7=c1*3+2<<1,i6=dI*3+2<<1,es=g3[a7],hV=g3[a7+1],fx=g3[i6],iK=g3[i6+1];
o=t(iV-iA,eO-hd,aC-iV,fq-eO,bX-aC,gb-fq,fx-es,iK-hV);if(o<-.5)return 1;var g1=V(o,iA,iV,aC,bX),dd=V(o,hd,eO,fq,gb),ee=z(fx-es,iK-hV);
if(ee==0)return 1;var gj=I(fx-es,iK-hV,g1-es,dd-hV)/ee,eX=I(fx-es,iK-hV,e3[dI<<1]-es,e3[(dI<<1)+1]-hV)/ee;
eX*=.75*G.EA.alpha[dI];if(eX<0){gj=-gj;eX=-eX}if(gj<eX-jz)return 1;if(gj<eX){a9.TU+=(gj-eX)*(gj-eX)}}return 0}var L=G.EA,b=L.g,T=L.vZ,a=new Array(b+1),R=new Array(b+1),D=new Array(b+1),h=new Array(b+1),K,O,X,w,N=new g,s,A,p,q,f,e,o,E=new Array(b),cj=new Array(b+1);
for(O=0;O<b;O++){if(L.kh[O]=="CURVE"){var u=T[d(O-1,b)<<1],cd=T[(d(O-1,b)<<1)+1],m=T[O<<1],aZ=T[(O<<1)+1],jN=T[d(O+1,b)<<1],eh=T[(d(O+1,b)<<1)+1];
E[O]=Math.sign(I(m-u,aZ-cd,jN-m,eh-aZ))}else{E[O]=0}}p=0;cj[0]=0;var iA=L.vZ[0],hd=L.vZ[1];for(O=0;O<b;
O++){A=d(O+1,b);if(L.kh[A]=="CURVE"){q=L.alpha[A];var kx=O*3+2<<1,b0=A*3+2<<1,gX=L.gb[kx],j$=L.gb[kx+1],i0=T[A<<1],f7=T[(A<<1)+1],am=L.gb[b0],gf=L.gb[b0+1];
p+=.3*q*(4-q)*I(i0-gX,f7-j$,am-gX,gf-j$)/2;p+=I(gX-iA,j$-hd,am-iA,gf-hd)/2}cj[O+1]=p}a[0]=-1;R[0]=0;
D[0]=0;for(X=1;X<=b;X++){a[X]=X-1;R[X]=R[X-1];D[X]=D[X-1]+1;for(O=X-2;O>=0;O--){w=W(G,O,d(X,b),N,l.aI_,E,cj);
if(w){break}if(D[X]>D[O]+1||D[X]==D[O]+1&&R[X]>R[O]+N.TU){a[X]=O;R[X]=R[O]+N.TU;D[X]=D[O]+1;h[X]=N;N=new g}}}K=D[b];
f=new r(K);e=new Array(K);o=new Array(K);X=b;for(O=K-1;O>=0;O--){var cC=d(X,b),aD=O*3+0<<1,c_=cC*3+0<<1;
if(a[X]==X-1){f.kh[O]=L.kh[cC];f.gb[aD]=L.gb[c_];f.gb[aD+1]=L.gb[c_+1];f.gb[aD+2]=L.gb[c_+2];f.gb[aD+3]=L.gb[c_+3];
f.gb[aD+4]=L.gb[c_+4];f.gb[aD+5]=L.gb[c_+5];f.vZ[O<<1]=L.vZ[cC<<1];f.vZ[(O<<1)+1]=L.vZ[(cC<<1)+1];f.alpha[O]=L.alpha[cC];
f.K4[O]=L.K4[cC];f.dJ[O]=L.dJ[cC];e[O]=o[O]=1}else{f.kh[O]="CURVE";f.gb[aD]=h[X].Oc;f.gb[aD+1]=h[X].oL;
f.gb[aD+2]=h[X].aY;f.gb[aD+3]=h[X].LU;f.gb[aD+4]=L.gb[c_+4];f.gb[aD+5]=L.gb[c_+5];f.vZ[O<<1]=U(h[X].cG,L.gb[c_+4],T[cC<<1]);
f.vZ[(O<<1)+1]=U(h[X].cG,L.gb[c_+5],T[(cC<<1)+1]);f.alpha[O]=h[X].alpha;f.K4[O]=h[X].alpha;e[O]=h[X].cG;
o[O]=h[X].q}X=a[X]}for(O=0;O<K;O++){A=d(O+1,K);f.dJ[O]=e[O]/(e[O]+o[A])}f.avN=1;G.EA=f}for(var O=0;O<M.length;
O++){var G=M[O];Y(G);i(G);J(G);H(G);v(G);if(l.aFI)n(G)}}return{ak8:$,a5b:C}}();eA.yJ=function(F,r,$,C){var M={$O:"minority",aFm:C,aFI:!0,acI:1,aI_:.2},l=eA.ak8(F,r,$,M);
eA.a5b(l,M);return l};eA.Ug=function(F){var r=[];for(var O=0;O<F.length;O++){var $=F[O],C=$.EA,M=["M"],l=[C.gb[(C.g-1)*6+4],C.gb[(C.g-1)*6+5]];
for(var k=0;k<C.g;k++){var d=k*6;if(C.kh[k]==1){M.push("C");for(var I=0;I<6;I++)l.push(C.gb[d+I])}else if(C.kh[k]==0){M.push("L");
for(var I=2;I<4;I++)l.push(C.gb[d+I])}}M.push("Z");r.push({parent:$.parent,color:$.color,path:{n:l,C0:M}})}return r};
eA.h_=function(F,r,$){var bU=F.length>>1,C,M=F[2*bU-3]-$,l=F[2*bU-2]-r,k=F[2*bU-1]-$,d=k>M,I=0;for(var O=0;
O<bU;O++){C=l;M=k;l=F[2*O]-r;k=F[2*O+1]-$;if(M==k)continue;d=k>M}for(var O=0;O<bU;O++){C=l;M=k;l=F[2*O]-r;
k=F[2*O+1]-$;if(M<0&&k<0)continue;if(M>0&&k>0)continue;if(C<0&&l<0)continue;if(M==k&&Math.min(C,l)<=0)return!0;
if(M==k)continue;var c=C+(l-C)*-M/(k-M);if(c==0)return!0;if(c>0)I++;if(M==0&&d&&k>M)I--;if(M==0&&!d&&k<M)I--;
d=k>M}return(I&1)==1};eA.fill=function(F,r,$,C){var M=r[F],l=[F],k=0;while(k<l.length){var d=l[k];k++;
r[d]=C;if(r[d-$]==M){l.push(d-$);r[d-$]=254}if(r[d-1]==M){l.push(d-1);r[d-1]=254}if(r[d+1]==M){l.push(d+1);
r[d+1]=254}if(r[d+$]==M){l.push(d+$);r[d+$]=254}}};var gH=function(){function F(c){return Math.max(0,Math.min(1,c))}function r(c,Q){var x=Q<0?-Q:Q;
if(c>1)c=.99;c=c*.99;var U=Math.pow(x/5,.16),S=Math.pow(2,x<1?x:1+(x-1)*.8);if(Q<0)S=1/S;c=U*(1-Math.pow(1-c,S))+(1-U)*c;
return c}function $(c,Q){var x=Q/100;c=c*.99;c=x*(.5-.5*Math.cos(c*Math.PI))+(1-x)*c;return c}function C(c,Q){var x=Q*.01,U=Math.abs(x);
if(Q<0)c=Math.max(0,-U*.33+c*(1+U*.33));else{var S=.25+.15*U;if(c<.25)c*=S/.25;else c=S+(1-S)*((c-.25)/(1-.25))}return c}function M(c,Q){if(Q<0)c=c*(1+862e-6*Q);
else c=c*(1+.012*Q);return c}var l=j.t3.ki(1,1,1,-.3),k=j.t3.v4(l);function d(c,Q,x,U,S,z,V,t,Y){var i=c[x],J=c[x+1],H=c[x+2],v=j.t3.Jh(l,[i,J,H,1]);
i=v[0];J=v[1];H=v[2];i=r(i,U);J=r(J,U);H=r(H,U);var v=j.t3.Jh(k,[i,J,H,1]);i=v[0];J=v[1];H=v[2];i=F(i);
J=F(J);H=F(H);i=$(i,S);J=$(J,S);H=$(H,S);i=C(i,V);J=C(J,V);H=C(H,V);i=M(i,z);J=M(J,z);H=M(H,z);var n=ja.a0S(i,J,H,t);
i=n[0];J=n[1];H=n[2];i=F(i);J=F(J);H=F(H);if(Y){var G=new Uint8Array(4);G[0]=~~(.5+i*255);G[1]=~~(.5+J*255);
G[2]=~~(.5+H*255);f0.Fx(Y,G,G,new cS(0,0,1,1));i=G[0]/255;J=G[1]/255;H=G[2]/255}Q[x]=i;Q[x+1]=J;Q[x+2]=H}function I(c,Q,x,U,S){var z=S.Ex12?S.Ex12.v:0,V=S.Cr12?S.Cr12.v:0,t=S.Wh12?S.Wh12.v:0,Y=S.Bk12?S.Bk12.v:0,i=S.Temp?S.Temp.v:0,J=S.Tint?S.Tint.v:0,H=S.Vibr?S.Vibr.v:0,v=S.Strt?S.Strt.v:0,n=ja.e0(i,J),G=null;
z+=n.aB8;if(H!=0||v!=0)G=f0.ak("vibA",{Strt:S.Strt,vibrance:S.Vibr});console.log(S);var g=Date.now();
if(U!=c)U.set(c);if(z!=0||V!=0||t!=0||Y!=0||i!=0||J!=0||G){console.log(z,V,t,Y,i,J,G);var W=17,L=1/(W-1),b=W*W*W,T=new Array(b*3);
for(var a=0;a<W;a++)for(var R=0;R<W;R++)for(var D=0;D<W;D++){var O=a*W*W+R*W+D,h=O*3;T[h]=a*L;T[h+1]=R*L;
T[h+2]=D*L}for(var O=0;O<b;O++)d(T,T,O*3,z,V,t,Y,n,G);console.log(Date.now()-g,"making LUT");g=Date.now();
ICC.U.applyLUT(T,W,U,U);console.log(Date.now()-g,"applying LUT");g=Date.now()}var K=(S.Hi12?S.Hi12.v:0)*.01,X=(S.Sh12?S.Sh12.v:0)*.01;
if(K!=0||X!=0){var g=Date.now(),w=!1,N=j.j(Q*x,32),s=U.length,A=.3,p=.59,q=.11;for(var O=0;O<s;O+=4){var f=U[O+0]*A+U[O+1]*p+U[O+2]*q;
N[O>>2]=f<.3?X*3*(.3-f):K*.7*(f-.3)}if(w)console.log(0,Date.now()-g);g=Date.now();j.Zi.eO(N,new cS(0,0,Q,x),8);
if(w)console.log(1,Date.now()-g);g=Date.now();for(var e=0;e<x;e++)for(var o=0;o<Q;o++){var O=e*Q+o,E=O*4,cj=1+N[O];
U[E]=F(U[E]*cj);U[E+1]=F(U[E+1]*cj);U[E+2]=F(U[E+2]*cj)}if(w)console.log(2,Date.now()-g,Q,x);g=Date.now()}var u=(S.CrTx?S.CrTx.v:0)*.01,cd=(S.Cl12?S.Cl12.v:0)*.01,m=(S.Dhze?S.Dhze.v:0)*.01;
if(u!=0||cd!=0){var N=j.j(Q*x,32);for(var O=0;O<U.length;O+=4)N[O>>2]=(U[O+0]+U[O+1]+U[O+2])*.333333;
var aZ=N.slice(0);j.Zi.eO(aZ,new cS(0,0,Q,x),16);if(w)console.log(1,Date.now()-g);g=Date.now();for(var e=0;
e<x;e++)for(var o=0;o<Q;o++){var O=e*Q+o,E=O*4,f=N[O],jN=aZ[O],a=U[E],R=U[E+1],D=U[E+2],eh=jN+(f-jN)*(1+u*.3)-f;
a=a+eh;R=R+eh;D=D+eh;a=a*(1+cd*(f-jN));R=R*(1+cd*(f-jN));D=D*(1+cd*(f-jN));U[E]=F(a);U[E+1]=F(R);U[E+2]=F(D)}}var iA=Q*x;
if(m!=0){var g=Date.now(),hd=j.j(iA),gX=0;for(var O=0;O<iA;O++){var E=O<<2;hd[O]=~~(255*Math.min(U[E],U[E+1],U[E+2]))}var kx=Math.round(Math.min(Q,x)/80),b0=hd.slice(0);
j.j1.lF(b0,hd,Q,x,kx);j.Zi.eO(hd,new cS(0,0,Q,x),kx);var j$=-1;for(var O=0;O<iA;O++)if(hd[O]>j$){j$=hd[O];
gX=O}var i0=U[gX*4],f7=U[gX*4+1],am=U[gX*4+2],gf=(i0+f7+am)/3;for(var O=0;O<iA;O++){var E=O*4,cC=hd[O]/255,aD=1-m*cC,c_=1/Math.max(aD,.1);
U[E]=F((U[E]-i0)*c_+i0);U[E+1]=F((U[E+1]-f7)*c_+f7);U[E+2]=F((U[E+2]-am)*c_+am)}}}return I}();function gh(){}gh.CO=function(F,r){var $=new Uint8Array(F),C=0,M=r.split("/").pop().split(".")[0];
function l(t){for(var O=0;O<t.length;O++)t[O].v.Nm.v=M+"/"+t[O].v.Nm.v.split("/").pop()}var k={QY:[],fQ:[],list:[]},d=P.G2($,C);
C+=2;if(d<=2){k=gh.abk($);l(k.list);return k}var I=P.G2($,C);C+=2;var c=P.BW($,C,8);C+=8;var Q=P.dj($,C);
C+=4;if(Q>0)k.QY=gh.a2M($,C,Q,I,d);C+=Q;var x=P.BW($,C,8);C+=8;var U=P.dj($,C);C+=4;if(U>0)k.fQ=fU.xm($,C,U);
C+=U;var S=P.BW($,C,8);C+=8;var z=P.dj($,C);C+=4;if(z>0){var V={};j4.EN($,V,C+4);k.list=V.Brsh.v}C+=z;
var t=k.list;for(var O=0;O<t.length;O++){g9.B9.check(t[O].v)}l(t);return k};gh.sz=function(F,r){F.v.Nm.v=r};
gh.abk=function(F){var r={QY:[],fQ:[],list:[]},$=0,C=P.G2(F,$);$+=2;var M=P.G2(F,$);$+=2;for(var O=0;
O<M;O++){var l=P.G2(F,$);$+=2;var k=P.dj(F,$);$+=4;var d=$;if(l==2){var I={};r.QY.push(I);var c=P.dj(F,d);
d+=4;var Q=P.G2(F,d);d+=2;if(C==2){var x=P.OH(F,d);d+=4+x.length*2+2}I.id=kQ.Vm()+"-d71c-11e5-b1ae-a548a96e5f9f";
d++;d+=8;I.OV=P.$K(F,d);d+=16;var U=P.G2(F,d);d+=2;var S=F[d];d++;var z=dZ.Ru(!1,U,F,I.OV.r,I.OV.$,d,S);
z=j.Mz(z,8);gh.abA(I,z);var V=g9._r(I.id),t=V.Brsh.v;t.Dmtr.v.val=I.OV.r;t.Spcn.v.val=Q;r.list.push({t:"Objc",v:V})}$+=k}return r};
gh.Ns=function(F){var r=new eo,$=0,C=0;P.ys(r,$,6);$+=2;P.ys(r,$,2);$+=2;var M={},l=[],k={},d=[];for(var O=0;
O<F.list.length;O++){var I=F.list[O].v,c=I.Brsh.v;if(c.classID=="sampledBrush")M[c.sampledData.v]=!0;
if(I.Txtr)k[I.Txtr.v.Idnt.v]=!0}for(var O=0;O<F.QY.length;O++)if(M[F.QY[O].id])l.push(F.QY[O]);for(var O=0;
O<F.fQ.length;O++)if(M[F.fQ[O].id])d.push(F.fQ[O]);P.k6(r,$,"8BIMsamp");$+=8;$+=4;C=$;$=gh.ahp(r,$,l);
P.j5(r,C-4,$-C);P.k6(r,$,"8BIMpatt");$+=8;$+=4;C=$;$=fU.gY(r,$,d);P.j5(r,C-4,$-C);var Q=j.N(F.list);
for(var O=0;O<Q.length;O++)Q[O].v.Nm.v=Q[O].v.Nm.v.split("/").pop();var x={classID:"null",Brsh:{t:"VlLs",v:Q}};
P.k6(r,$,"8BIMdesc");$+=8;$+=4;C=$;P.j5(r,$,16);$+=4;$+=j4.kv(r,x,$);P.j5(r,C-4,$-C);return r.data.slice(0,$).buffer};
gh.a2M=function(F,r,$,C,M){var l=P.dj,k=P.$K,d=r+$,I=[];while(r<d){var c={};I.push(c);var Q=l(F,r);r+=4;
var x=r,U=P.TQ(F,r);r+=U.length;c.id=U.C3;if(C==1){r+=9;c.OV=k(F,r);r+=16}else{r+=7;var S=l(F,r);r+=4;
c.OV=k(F,r);r+=16;var z=l(F,r);r+=4;r+=z*4;var V=l(F,r);r+=4;var t=l(F,r);r+=4;var Y=k(F,r);r+=16}var i=P.G2(F,r);
r+=2;var J=F[r];r+=1;var H=dZ.Ru(!1,i,F,c.OV.r,c.OV.$,r,J);H=j.Mz(H,8);gh.abA(c,H);if(Q%4!=0)Q+=4-Q%4;
r=x+Q}return I};gh.abA=function(F,r){var $=F.OV.P();$.x=$.y=0;F.t6=[r,$]};gh.ahp=function(F,r,$){var C=P.j5,M=P.lX;
for(var O=0;O<$.length;O++){var l=$[O],k=r+4,I=56,Q=1;r+=4;P.A1(F,r,l.id);r+=l.id.length+2;F.cq(r,1);
F.data[r]=1;r+=3;C(F,r,3);r+=4;var d=r;r+=4;M(F,r,l.OV);r+=16;C(F,r,I);r+=4;r+=I*4;C(F,r-4,1);var c=r;
r+=4;C(F,r,8);r+=4;M(F,r,l.OV);r+=16;P.ys(F,r,8);r+=2;F.cq(r,1);F.data[r]=Q;r++;var x=l.t6[0];F.cq(r,l.OV.C()*2);
r=dZ.Ob(!1,x,F.data,l.OV.r,l.OV.$,r,Q);F.cq(r,8);r+=8;var U=r-k;C(F,k-4,U);C(F,d,U-49);C(F,c,U-305);
if(U%4!=0)r+=4-U%4}return r};function bb(){}bb.CO=function(F,r){var $=new Uint8Array(F),C=[],M=0,l=P.G2($,M);
M+=2;if(l!=4){throw"Unknown version of curves: "+l}var k=P.G2($,M);M+=2;for(var O=0;O<k;O++){var d=bb.azF($,M);
M+=2+2*d.length;C.push(d)}if(M!=$.length){var I=P.BW($,M,4);M+=4;var c=P.G2($,M);M+=2;var Q=P.G2($,M);
M+=2;if(Q!=0)throw"extra curves for channels"}var x=bb.aaP(C,0);x.presetKind={t:"long",v:3};x.presetFileName={t:"TEXT",v:r.split("/").pop().split(".")[0]};
return[x]};bb.Yx=function(F,r,$,C){var M=C?P.cA:P.dj,l=r,k=[],d=F[r];r+=3;var I=M(F,r);r+=4;for(var O=0;
O<4;O++){var c=I>>>O&1;if(c){if(d==0){var Q=bb.azF(F,r,C);r+=2+2*Q.length}else{var Q=bb.aDq(F,r);r+=256}k.push(Q)}else k.push(d==0?[0,0,255,255]:bb.atJ())}var x=bb.aaP(k,d);
return x};bb.aaP=function(F,r){var $=e9.Mv("curv");for(var O=0;O<4;O++){if(r==0){var C=F[O],M=[];for(var l=0;
l<C.length;l+=2)M.push(j.Jw.ie(C[l],C[l+1],!0));bb.qd($,O,M)}else bb.qd($,O,F[O])}return $};bb.mW=function(F,r,$){var C=[];
for(var O=0;O<4;O++){var M=bb.T9($,O);if(M.length==256)C.push(M);else{var l=[];for(var k=0;k<M.length;
k++)l.push(M[k].v.Hrzn.v,M[k].v.Vrtc.v);C.push(l)}}var d=r,I=C[0].length==256?1:0;F.cq(r,3);F.data[r]=I;
F.data[r+1]=0;F.data[r+2]=1;r+=3;P.j5(F,r,15);r+=4;for(var O=0;O<4;O++){var c=C[O];if(I==0){bb.aj$(F,r,c);
r+=2+2*c.length}else{bb.arq(F,r,c);r+=256}}return r-d};bb.atJ=function(){var F=[];for(var O=0;O<256;
O++)F.push(O);return F};bb.qd=function(F,r,$){var C=fc.XJ("CrvA",r);if($.length<256)C.Crv={t:"VlLs",v:$};
else{C.Mpng={t:"VlLs",v:[]};for(var O=0;O<256;O++)C.Mpng.v[O]={t:"long",v:$[O]}}C={t:"Objc",v:C};if(F.Adjs==null)F.Adjs={t:"VlLs",v:[]};
var M=F.Adjs.v,l=fc.Vx(M,r);if(l==-1)M.push(C);else M[l]=C};bb.T9=function(F,r){var $=F.Adjs?F.Adjs.v:[],C=fc.Vx($,r);
if(C==-1){if($.length==0||$[0].v.Crv)return[j.Jw.ie(0,0,!0),j.Jw.ie(255,255,!0)];if($[0].v.autoMachineLearning||$[0].v.AuCo)return[j.Jw.ie(0,0,!0),j.Jw.ie(128,160,!0),j.Jw.ie(255,255,!0)];
var M=[];for(var O=0;O<256;O++)M.push(O);return M}var l=$[C].v;if(l.Crv)return l.Crv.v;if(l.Mpng){var M=[];
for(var O=0;O<256;O++)M.push(l.Mpng.v[O].v);return M}return[j.Jw.ie(0,0,!0),j.Jw.ie(255,255,!0)]};bb.azF=function(F,r,$){var C=$?P.IX:P.G2,M=[],l=C(F,r);
r+=2;for(var k=0;k<l;k++){var d=C(F,r);r+=2;var I=C(F,r);r+=2;M.push(I,d)}return M};bb.aj$=function(F,r,$){var C=$.length/2;
P.ys(F,r,C);r+=2;for(var M=0;M<C;M++){P.ys(F,r,$[M*2+1]);r+=2;P.ys(F,r,$[M*2+0]);r+=2}};bb.aDq=function(F,r){var $=[];
for(var O=0;O<256;O++)$.push(F[r+O]);return $};bb.arq=function(F,r,$){F.cq(r,256);for(var O=0;O<256;
O++)F.data[r+O]=$[O]};function hA(){}hA.Yx=function(F,r,$,C){var M={},l=C?P.IX:P.G2,k=C?P.nv:P.O4,d=l(F,r);
r+=2;M.An=F[r]==1;r++;r++;M.Pa=[k(F,r),k(F,r+2),k(F,r+4)];r+=6;M.t1=[k(F,r),k(F,r+2),k(F,r+4)];r+=6;
M.DL=[];for(var O=0;O<6;O++){var I={};I.Hf=[k(F,r),k(F,r+2),k(F,r+4),k(F,r+6)];r+=8;I.Ry=[k(F,r),k(F,r+2),k(F,r+4)];
r+=6;M.DL.push(I)}var c=e9.Mv("hue2"),Q=M;if(c.Clrz==null)c.Clrz={t:"bool",v:!1};c.Clrz.v=Q.An;for(var O=0;
O<7;O++){var x=O==0?Q.An?Q.Pa:Q.t1:Q.DL[O-1];hA.qd(c,O,x)}return c};hA.a7I=function(F){return{classID:"Hst2",H:{t:"long",v:F[0]},Strt:{t:"long",v:F[1]},Lght:{t:"long",v:F[2]}}};
hA.Vx=function(F,r){for(var O=0;O<F.length;O++){var $=F[O].v.LclR;if(r==0&&$==null||$!=null&&$.v==r)return O}return-1};
hA.qd=function(F,r,$){var C=r==0?$:$.Ry,M=hA.a7I(C);if(r!=0){var l=$.Hf;M.LclR={t:"long",v:r},M.BgnR={t:"long",v:l[0]};
M.BgnS={t:"long",v:l[1]};M.EndS={t:"long",v:l[2]};M.EndR={t:"long",v:l[3]}}M={t:"Objc",v:M};var k=F.Adjs.v,d=hA.Vx(k,r);
if(d==-1)k.push(M);else k[d]=M};hA.T9=function(F,r){var $=F.Adjs.v,C=hA.Vx($,r);if(C==-1){if(r==0)return[0,0,0];
else return[{Hf:[315,345,15,45],Ry:[0,0,0]},{Hf:[15,45,75,105],Ry:[0,0,0]},{Hf:[75,105,135,165],Ry:[0,0,0]},{Hf:[135,165,195,225],Ry:[0,0,0]},{Hf:[195,225,255,285],Ry:[0,0,0]},{Hf:[255,285,315,345],Ry:[0,0,0]}][r-1]}var M=$[C].v,l=[M.H.v,M.Strt.v,M.Lght.v];
if(r==0)return l;return{Ry:l,Hf:[M.BgnR.v,M.BgnS.v,M.EndS.v,M.EndR.v]}};hA.mW=function(F,r,$){var C={An:$.Clrz?$.Clrz.v:!1,DL:[]};
C.Pa=C.t1=hA.T9($,0);for(var O=1;O<7;O++)C.DL.push(hA.T9($,O));var M=2+2+12+6*14,l=F.data;F.cq(r,M);
P.N2(l,r,2);r+=2;l[r]=C.An?1:0;r++;r++;P.HE(l,r+0,C.Pa[0]);P.HE(l,r+2,C.Pa[1]);P.HE(l,r+4,C.Pa[2]);r+=6;
P.HE(l,r+0,C.t1[0]);P.HE(l,r+2,C.t1[1]);P.HE(l,r+4,C.t1[2]);r+=6;for(var O=0;O<6;O++){var k=C.DL[O].Hf,d=C.DL[O].Ry;
P.HE(l,r+0,k[0]);P.HE(l,r+2,k[1]);P.HE(l,r+4,k[2]);P.HE(l,r+6,k[3]);r+=8;P.HE(l,r+0,d[0]);P.HE(l,r+2,d[1]);
P.HE(l,r+4,d[2]);r+=6}return M};function fc(){}fc.CO=function(F,r){var $=new Uint8Array(F),C=2,M=r?P.IX:P.G2,l=[];
for(var O=0;O<29;O++){var k=[];l.push(k);for(var d=0;d<5;d++)k.push(M($,C+O*10+d*2))}C+=29*10;if(C<$.length){var I=P.Ew($,C,r);
C+=4;var c=M($,C);C+=2;var Q=M($,C);C+=2;var x=Q-29;for(var O=0;O<x;O++){var k=[];l.push(k);for(var d=0;
d<5;d++)k.push(M($,C+O*10+d*2))}}var U=e9.Mv("levl");for(var O=0;O<4;O++)fc.qd(U,O,l[O]);return U};fc.XJ=function(F,O){var r=["Cmps","Rd","Grn","Bl"],$={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:r[O]}}]};
return{classID:F,Chnl:$}};fc.Vx=function(F,r){var $={Cmps:0,Rd:1,Grn:2,Bl:3};for(var O=0;O<F.length;
O++){var C=F[O].v,M=$[C.Chnl.v[0].v.enum];if(M==r)return O}return-1};fc.qd=function(F,r,$){var C=fc.XJ("LvlA",r);
C.Inpt={t:"VlLs",v:[{t:"long",v:$[0]},{t:"long",v:$[1]}]};C.Otpt={t:"VlLs",v:[{t:"long",v:$[2]},{t:"long",v:$[3]}]};
C.Gmm={t:"doub",v:$[4]/100};C={t:"Objc",v:C};var M=F.Adjs.v,l=fc.Vx(M,r);if(l==-1)M.push(C);else M[l]=C};
fc.T9=function(F,r){var $=[0,255,0,255,100],C=F.Adjs.v,M=fc.Vx(C,r);if(M==-1)return $;var l=C[M].v;if(l.Inpt){$[0]=l.Inpt.v[0].v;
$[1]=l.Inpt.v[1].v}if(l.Otpt){$[2]=l.Otpt.v[0].v;$[3]=l.Otpt.v[1].v}if(l.Gmm){$[4]=Math.round(l.Gmm.v*100)}return $};
fc.Ns=function(F,r){var $=[],C=0;for(var O=0;O<4;O++)$.push(fc.T9(r,O));while($.length<29)$.push([0,255,0,255,100]);
F.cq(0,2+10*29);P.N2(F.data,C,2);C+=2;for(var O=0;O<29;O++){var M=$[O];for(var l=0;l<5;l++)P.N2(F.data,C+O*10+l*2,M[l])}C+=29*10;
if($.length==29)return C;F.cq(C,8+10*($.length-29));P.o9(F.data,C,"Lvls");C+=4;P.N2(F.data,C,3);C+=2;
P.N2(F.data,C,$.length);C+=2;var k=$.length-29;for(var O=0;O<k;O++){var M=$[29+O];for(var l=0;l<5;l++)P.N2(F.data,C+O*10+l*2,M[l])}C+=10*k;
return C};function eW(){}eW.CO=function(F,r){var $=new Uint8Array(F),C=2,M=r.split("/").pop().split(".")[0],l={nG:[],nt:[]},k=P.BW($,C,4);
C+=4;var d=P.G2($,C);C+=2;var I=P.dj($,C);C+=4;l.nG=fU.xm($,C,I);C+=I;var c=P.dj($,C);C+=4;for(var O=0;
O<c;O++){var Q=P.dj($,C);C+=4;var x=C,U={Lz:{},Fu:{}};l.nt.push(U);C+=4;C+=j4.EN($,U.Lz,C);U.Lz.Nm.v=M+"/"+U.Lz.Nm.v.split("=").pop();
C+=4;C+=j4.EN($,U.Fu,C);C=x+Q;var S=U.Fu.blendOptions,z=U.Fu.Lefx;if(S&&Object.keys(S.v).length>1){}if(z){if(z.v.masterFXSwitch==null)z.v.masterFXSwitch={t:"bool",v:!0};
iE.Dg(z.v)}}return l};eW.sz=function(F,r){F.Lz.Nm.v=r};eW.Ns=function(F){var r=new eo,$=0;P.ys(r,$,2);
$+=2;P.k6(r,$,"8BSL");$+=4;P.ys(r,$,3);$+=2;var C=$;$+=4;$=fU.gY(r,$,F.nG);P.j5(r,C,$-C-4);var M=F.nt.length;
P.j5(r,$,M);$+=4;for(var O=0;O<M;O++){$+=4;var l=$,k=F.nt[O];P.j5(r,$,16);$+=4;var d=k.Lz.Nm.v;k.Lz.Nm.v=k.Lz.Nm.v.split("/").pop();
$+=j4.kv(r,k.Lz,$);k.Lz.Nm.v=d;var I=k.Fu.Lefx;if(I){k.Fu.Lefx=j.N(I);iE.Hs(k.Fu.Lefx.v)}P.j5(r,$,16);
$+=4;$+=j4.kv(r,k.Fu,$);if(I)k.Fu.Lefx=I;P.j5(r,l-4,$-l)}return r.data.slice(0,$).buffer};function ao(){}ao.Yx=function(F,r,$,C){var M=C?P.IX:P.G2,l=C?P.nv:P.O4,k=M(F,r);
r+=2;var d={};d.PX=M(F,r)==1;r+=2;d.wx=[];for(var O=0;O<10;O++){var I=[];d.wx.push(I);for(var c=0;c<4;
c++)I.push(l(F,r+c*2));r+=8}var Q=e9.Mv("selc");Q.Mthd.v.CrcM=d.PX?"Absl":"Rltv";for(var O=1;O<10;O++)ao.qd(Q,O-1,d.wx[O]);
return Q};ao.bb="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");ao.XJ=function(F,O){var r=["Cmps","Rd","Grn","Bl"],$={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:r[O]}}]};
return{classID:F,Chnl:$}};ao.Vx=function(F,r){var $=ao.bb;for(var O=0;O<F.length;O++){var C=F[O].v,M=$.indexOf(C.Clrs.v.Clrs);
if(M==r)return O}return-1};ao.qd=function(F,r,$){var C=["Cyn","Mgnt","Ylw","Blck"],M={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:ao.bb[r]}}};
for(var l=0;l<4;l++)M[C[l]]={t:"UntF",v:{type:"#Prc",val:$[l]}};M={t:"Objc",v:M};var k=F.ClrC.v,d=ao.Vx(k,r);
if(d==-1)k.push(M);else k[d]=M};ao.T9=function(F,r){var $=[0,0,0,0],C=F.ClrC.v,M=ao.Vx(C,r);if(M==-1)return $;
var l=["Cyn","Mgnt","Ylw","Blck"];for(var O=0;O<4;O++)if(C[M].v[l[O]])$[O]=C[M].v[l[O]].v.val;return $};
ao.mW=function(F,r,$){var C={PX:$.Mthd.v.CrcM=="Absl",wx:[[0,0,0,0]]};for(var O=0;O<9;O++)C.wx.push(ao.T9($,O));
F.cq(r,84);P.N2(F.data,r,1);r+=2;P.N2(F.data,r,C.PX?1:0);r+=2;for(var O=0;O<10;O++){var M=C.wx[O];for(var l=0;
l<4;l++)P.HE(F.data,r+l*2,M[l]);r+=8}return 84};function fW(){}fW.Mv=function(){return{sc:new cS(0,0,50,50),Lz:"",tV:"play",M:j.w.tQ.KN([.1,.1,.9,.5,.1,.9],0)}};
fW.CO=function(F,r){F=new Uint8Array(F);var $=0,C=[],M=r.split("/").pop().split(".")[0],l=Date.now(),k=P.BW(F,0,4);
$+=4;var d=P.dj(F,$);$+=4;var I=P.dj(F,$);$+=4;for(var O=0;O<I;O++){var c=P.OH(F,$);$+=c.length*2+4+2;
if((c.length&1)==0)$+=2;$=fW.anI(F,$,c,C);C[O].tV=M+"/"+C[O].tV}return C};fW.anI=function(F,r,$,C){var M=P.dj(F,r);
r+=4;var l=P.dj(F,r);r+=4;var k=r,d=P.TQ(F,k).C3;k+=d.length+1;var I=P.$K(F,k);k+=16;var c=fW.Hv(F,k,l-(k-r)),Q=j.w._f(c),x=j.b.sY(Q),U=1/x.r,S=1/x.$;
j.w.J_(c,new hS(U,0,0,S,-x.x*U,-x.y*S));C.push({tV:$,Lz:d,M:c,sc:I});r+=l;return r};fW.sz=function(F,r){F.tV=r};
fW.Ns=function(F){var r=new eo,$=0;P.k6(r,$,"cush");$+=4;P.j5(r,$,2);$+=4;P.j5(r,$,F.length);$+=4;for(var O=0;
O<F.length;O++){var C=F[O],M=C.tV.split("/").pop()+"\0";P.xx(r,$,M);$+=4+M.length*2;if((M.length&1)==1)$+=2;
P.j5(r,$,1);$+=4;$+=4;var l=$;P.A1(r,$,C.Lz);$+=C.Lz.length+1;P.lX(r,$,C.sc);$+=16;r.cq($,C.M.length*26);
fW.ai(r.data,$,C.M,1,1);$+=C.M.length*26;var k=$-l;if((k&3)!=0)k+=4-(k&3);P.j5(r,l-4,k);$=l+k}return r.data.slice(0,$).buffer};
fW.aAj=function(F){var r=[];for(var O=0;O<F.length;O++){var $=F[O],C=$.I,M={type:C};r.push(M);if(C==6){}else if(C==8)M.all=$.all;
else if(C==0||C==3){M.length=$.length;M.frule=$.ea;M.third=$.VW;M.prmA=$.c5;M.prmB=$.QS}else{M.c=[$.ni.x,$.ni.y,$.Z.x,$.Z.y,$.Pj.x,$.Pj.y]}}return r};
fW.akK=function(F){var r=[];for(var O=0;O<F.length;O++){var $=F[O],C=$.type,M={I:C};r.push(M);if(C==6){}else if(C==8)M.all=$.all;
else if(C==0||C==3){M.length=$.length;M.ea=$.frule;M.VW=$.third;M.c5=$.prmA;M.QS=$.prmB}else{var l=$.c;
M.ni=new hx(l[0],l[1]);M.Z=new hx(l[2],l[3]);M.Pj=new hx(l[4],l[5])}}return r};fW.Hv=function(F,r,$,C,M,l){if(C==null)C=1;
if(M==null)M=1;var k=l?P.aus:P.a7e;function d(i,J,H){var v=k(i,J)*H,n=Math.round(v);return Math.abs(v-n)<1e-6?n:v}var I=l?P.nv:P.O4,c=l?P.cA:P.dj,Q=[],x=Math.floor($/26);
for(var O=0;O<x;O++){var U=r+O*26,S={},z=0;Q.push(S);S.I=I(F,U);U+=2;if(S.I==6){z=24}if(S.I==8){S.all=I(F,U);
U+=2;z=22}if(S.I==0||S.I==3){S.length=I(F,U);U+=2;S.ea=I(F,U);U+=2;S.VW=I(F,U);U+=2;S.c5=c(F,U);U+=4;
S.QS=c(F,U);U+=4;z=10}if(S.I==1||S.I==2||S.I==4||S.I==5){var V,t;t=d(F,U,M);U+=4;V=d(F,U,C);U+=4;S.ni=new hx(V,t);
t=d(F,U,M);U+=4;V=d(F,U,C);U+=4;S.Z=new hx(V,t);t=d(F,U,M);U+=4;V=d(F,U,C);U+=4;S.Pj=new hx(V,t);z=0}for(var Y=0;
Y<z;Y++)if(F[U+Y]!=0){console.log("Unexpected non-zero byte!",S,Y,F[U+Y])}}return Q};fW.ai=function(F,r,$,C,M){var l=P.HE,k=P.anc,d=$.length;
for(var O=0;O<d;O++){var I=r+O*26,c=$[O];l(F,I,c.I);I+=2;if(c.I==6){}if(c.I==8)l(F,I,c.all);if(c.I==0||c.I==3){l(F,I,c.length);
I+=2;l(F,I,c.ea);I+=2;l(F,I,c.VW);I+=2}if(c.I==1||c.I==2||c.I==4||c.I==5){k(F,I,c.ni.y/M);I+=4;k(F,I,c.ni.x/C);
I+=4;k(F,I,c.Z.y/M);I+=4;k(F,I,c.Z.x/C);I+=4;k(F,I,c.Pj.y/M);I+=4;k(F,I,c.Pj.x/C);I+=4}}};function jE(){}jE.apW=function(F,r,$,C){var M=C.split(".")[0];
if(r+3<F.length){var l={},I=0;iE.DW(F,r,F.length,l);var k=l.phry.hierarchy.v,d=[[]];for(var O=0;O<k.length;
O++){var top=d[d.length-1],c=k[O].v,Q=c.classID;if(Q=="Grup"){var x=[];d.push(x);top.push([c.Nm.v,null,x,!0])}else if(Q=="preset"){top.push($[I]);
I++}else if(Q=="groupEnd"){d.pop()}}var U=jE.jB(d[0],jE);return[[M,null,d[0],!0]]}else{for(var O=0;O<$.length;
O++){var S=$[O][0].split("/");if(S.length>1){M=S[S.length-2];$[O][0]=S.pop().split("=").pop()}}return[[M,null,$,!0]]}};
jE.jB=function(F,r){var $=[],C=[];jE.US(F,$,C);var M=new Uint8Array(r.Ns($)),l=new eo;l.cq(0,M.length);
l.data.set(M,0);var k={phry:{classID:"null",hierarchy:{t:"VlLs",v:C}}},d=iE.eB(l,M.length,k);return l.data.slice(0,d)};
jE.US=function(F,r,$){for(var O=0;O<F.length;O++){var C=F[O];if(C[1]==null){$.push({t:"Objc",v:{classID:"Grup",Nm:{t:"TEXT",v:C[0]},zuid:{t:"TEXT",v:"0e93da90-b25e-9745-a55e-af1d4451561b"}}});
jE.US(C[2],r,$);$.push({t:"Objc",v:{classID:"groupEnd"}})}else{$.push({t:"Objc",v:{classID:"preset"}});
r.push(C)}}};jE.CO=function(F,r){var $=new Uint8Array(F),C=[],M=0;if(P.BW($,0,4)=="ASEF")M=jE.ayl($,C);
else{M=jE.a9e($,M,C);if(M+3<$.length){C=[];M=jE.a9e($,M,C)}}return jE.apW($,M,C,r)};jE.ayl=function(F,r){var $=8,C=P.dj(F,$),M,l=null,k,d,I,c;
$+=4;for(var Q=0;Q<C;Q++){var x=P.G2(F,$);$+=2;var U=P.dj(F,$);$+=4;var S=$+U;if(x==49153||x==1){var z=P.G2(F,$);
$+=2;var V=P.JH(F,$,z-1);$+=z*2;if(x==1)M=V;else l=V}if(x==1){var t=P.BW(F,$,4);$+=4;k=P.LC(F,$);$+=4;
d=P.LC(F,$);$+=4;I=P.LC(F,$);$+=4;if(t=="RGB "){}else if(t=="CMYK"){c=P.LC(F,$);$+=4;var Y=UDOC.C.cmykToRgb([k,d,I,c]);
k=Y[0];d=Y[1];I=Y[2]}else alert("Unknown color space: "+t);r.push([(l?l+" : ":"")+M,{t:k*255,L:d*255,X:I*255}])}$=S}return $};
jE.a9e=function(F,r,$){var C=P.G2,M=P.O4,l=C(F,r);r+=2;var k=C(F,r);r+=2;for(var O=0;O<k;O++){var d=jE.Eq(F,r),I="clr"+O;
r+=10;if(l==2){I=P.OH(F,r);r+=4+I.length*2+2}$.push([I,d])}return r};jE.Eq=function(F,r,$){var C=$?P.IX:P.G2,M=$?P.nv:P.O4,l=C(F,r),z=null;
r+=2;var k=C(F,r);r+=2;var d=C(F,r);r+=2;var I=C(F,r);r+=2;var c=C(F,r);r+=2;var Q=1/65535,x=255/65535,U=100/65535,S=255/1e4;
if(l==0)z={t:k*x,L:d*x,X:I*x};else if(l==1){z=j.To(k*Q,d*Q,I*Q);z.t*=255;z.L*=255;z.X*=255}else if(l==2)z=j.qS.MB({classID:"CMYC",Cyn:{t:"doub",v:100-k*U},Mgnt:{t:"doub",v:100-d*U},Ylw:{t:"doub",v:100-I*U},Blck:{t:"doub",v:100-c*U}});
else if(l==7){var V=j.dW(k/100,M(F,r-6)/100,M(F,r-4)/100);z=V}else if(l==8){z={t:255-k*S,L:255-d*S,X:255-I*S}}else if(l==18){var t=255*k/16384;
z={t:t,L:t,X:t}}else{throw l}return z};jE.Ns=function(F){var r=new eo,$=0,C=P.ys;for(var M=1;M<3;M++){C(r,$,M);
$+=2;C(r,$,F.length);$+=2;for(var O=0;O<F.length;O++){var l=F[O];r.cq($,10);jE.ix(r.data,$,l[1]);$+=10;
if(M==2){var k=l[0]+"\0";P.xx(r,$,k);$+=4+k.length*2}}}return r.data.slice(0,$).buffer};jE.ix=function(F,r,$){var C=65535/255,M=P.N2;
M(F,r,0);M(F,r+2,Math.round($.t*C));M(F,r+4,Math.round($.L*C));M(F,r+6,Math.round($.X*C));M(F,r+8,0)};
jE.SM=function(F,r,$){var C=F[1],M=255<<24|C.X<<16|C.L<<8|C.t,l=new Uint32Array(r*$);l.fill(M);var k=UPNG.encode([l.buffer],r,$);
return"data:image/png;base64,"+dN.Ml(k)};function hz(){}hz.CO=function(F){var r=new Uint8Array(F),$=4,C={};
C.qc=P.OH(r,$);$+=4+C.qc.length*2+2;C.exp=r[$++]==1;C.FL=[];var M=P.dj(r,$);$+=4;for(var O=0;O<M;O++){var l={};
C.FL.push(l);l.Sc=P.G2(r,$);$+=2;l.shift=r[$++]==1;l.ahD=r[$++]==1;l.color=P.G2(r,$);$+=2;l.qc=P.OH(r,$);
$+=4+l.qc.length*2+2;l.exp=r[$++]==1;l.FL=[];var k=P.dj(r,$);$+=4;for(var d=0;d<k;d++){var I={};l.FL.push(I);
I.exp=r[$++]==1;I.T=r[$++]==1;I.aq5=r[$++]==1;I.at_=r[$++];var c=P.BW(r,$,4);$+=4;if(c=="TEXT"){I.hE=hz.a3C(r,$);
$+=4+I.hE.length}else if(c=="long"){I.hE=P.BW(r,$,4);$+=4}else throw"e";I.HU=hz.a3C(r,$);$+=4+I.HU.length;
var Q=P.Dm(r,$);$+=4;if(Q==-1){I.iH={};var x=j4.EN(r,I.iH,$);$+=x}}}console.log(C);var U=new Uint8Array(hz.Ns([C]));
for(var O=0;O<U.length;O++)if(U[O]!=r[O]&&P.BW(r,O+1,4)!="None"){console.log(r.length,U.length);var S=4*(O>>>2)-16;
console.log(P._3(r,S,64));console.log(P._3(U,S,64));console.log(r.slice(S,S+64));console.log(U.slice(S,S+64));
throw"i"}return[C]};hz.a3C=function(F,r){var $=P.dj(F,r);return P.BW(F,r+4,$)};hz.akf=function(F,r,$){P.j5(F,r,$.length);
P.k6(F,r+4,$)};hz.Ns=function(F){var r=F[0],$=new eo,C=0;P.j5($,C,16);C+=4;P.xx($,C,r.qc+"\0");C+=4+r.qc.length*2+2;
$.cq(C,1);$.data[C++]=r.exp?1:0;var M=r.FL.length;P.j5($,C,M);C+=4;for(var O=0;O<M;O++){var l=r.FL[O];
P.ys($,C,l.Sc);C+=2;$.cq(C,2);$.data[C++]=l.shift?1:0;$.data[C++]=l.ahD?1:0;P.ys($,C,l.color);C+=2;P.xx($,C,l.qc+"\0");
C+=4+l.qc.length*2+2;$.cq(C,1);$.data[C++]=l.exp?1:0;var k=l.FL.length;P.j5($,C,k);C+=4;for(var d=0;
d<k;d++){var I=l.FL[d];$.cq(C,4);$.data[C++]=I.exp?1:0;$.data[C++]=I.T?1:0;$.data[C++]=I.aq5?1:0;$.data[C++]=I.at_;
var c="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr HsbP".split(" ").indexOf(I.hE)!=-1;P.k6($,C,c?"long":"TEXT");
C+=4;if(!c){hz.akf($,C,I.hE);C+=4+I.hE.length}else{P.k6($,C,I.hE);C+=4}hz.akf($,C,I.HU);C+=4+I.HU.length;
P.eT($,C,I.iH?-1:0);C+=4;if(I.iH){var Q=j4.kv($,I.iH,C);C+=Q}}}return $.data.slice(0,C).buffer};function gG(){}gG.CO=function(F){var r=new Uint8Array(F),$=0,C=P.dj(r,$),I;
$+=4;var M=P.BW(r,$,8);$+=8;var l=P.cA(r,$);$+=4;var k=P.cA(r,$);$+=4;var d=P.cA(r,$);$+=4;console.log(l,k,d);
if(C==2){I=new Float32Array(F,32,F.byteLength-32>>>2)}else if(C==3||C==4){I=new Float32Array(k*d*2);
var c=0,Q=0,x=!0;$=C==3?32:16+8+40;while($<r.length){var U=P.cA(r,$);$+=4;if(x)Q+=U;else{for(var O=0;
O<U;O++){I[c+Q+O<<1]=P.JW(r,$);I[(c+Q+O<<1)+1]=P.JW(r,$+4);$+=8}Q+=U}x=!x;if(U!=0&&Q==k){c+=k;Q=0;x=!0;
if(c==k*d)break}}}else throw"unknown Mesh version: "+C;return{a0:k,Y9:d,map:I}};gG.Gk=function(F){var r=F.a0,$=F.Y9,C=F.map,M=new Uint8Array(32+$*r*8+$*8),l=0,k=0;
P.us(M,l,3);l+=4;P.o9(M,l,"yfqLhseM");l+=8;P.mu(M,l,2);l+=4;P.mu(M,l,r);l+=4;P.mu(M,l,$);l+=4;P.mu(M,l,0);
l+=4;P.mu(M,l,1);l+=4;for(var d=0;d<$;d++){P.mu(M,l,0);l+=4;P.mu(M,l,r);l+=4;for(var I=0;I<r;I++){P.ZR(M,l,C[k]);
P.ZR(M,l+4,C[k+1]);k+=2;l+=8}}return M.buffer};function bG(){}bG.CO=function(F){var r=new Uint8Array(F),$=0,C=P.BW(r,$,4);
$+=4;var M=P.G2(r,$);$+=2;var l=P.dj(r,$);$+=4;var k=[];for(var O=0;O<l;O++){var d=P.dj(r,$);$+=4;var I={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
k.push(I);var c=P.OH(r,$);I.Nm.v=c;$+=4+c.length*2+2;var Q=P.G2(r,$);$+=2;var x=P.G2(r,$);$+=2;for(var U=0;
U<x;U++){var S=j.Jw.ie(0,0,!0);S.v.Vrtc.v=P.G2(r,$);$+=2;S.v.Hrzn.v=P.G2(r,$);$+=2;I.Crv.v.push(S)}if(d==1){}else if(d==2){for(var U=0;
U<x;U++){I.Crv.v[U].v.Cnty.v=r[$]==1;$+=1}}else throw"error";var z=P.dj(r,$);$+=4;var V=P.dj(r,$);$+=4}return k};
bG.sz=function(F,r){F.Nm.v=r};bG.Ns=function(F){var r=new eo,$=0;P.k6(r,$,"8BFS");$+=4;P.ys(r,$,1);$+=2;
P.j5(r,$,F.length);$+=4;for(var O=0;O<F.length;O++){P.j5(r,$,2);$+=4;var C=F[O];P.xx(r,$,C.Nm.v+"\0");
$+=4+C.Nm.v.length*2+2;P.ys(r,$,2);$+=2;var M=C.Crv.v.length;P.ys(r,$,M);$+=2;for(var l=0;l<M;l++){var k=C.Crv.v[l];
P.ys(r,$,k.v.Vrtc.v);$+=2;P.ys(r,$,k.v.Hrzn.v);$+=2}r.cq($,M);for(var l=0;l<M;l++){r.data[$]=C.Crv.v[l].v.Cnty.v;
$++}P.j5(r,$,0);$+=4;P.j5(r,$,0);$+=4}return r.data.slice(0,$).buffer};function fU(){}fU.CO=function(F,r){var $=new Uint8Array(F),C=4,M=r.split("/").pop().split(".")[0],l=P.G2($,C);
C+=2;var k=P.dj($,C);C+=4;var d=[];for(var O=0;O<k;O++){var I={};d.push(I);C=fU.adn($,C,I);I.name=M+"/"+I.name.split("=").pop()}return d};
fU.sz=function(F,r){F.name=r};fU.Ns=function(F){var r=new eo,$=0;P.k6(r,$,"8BPT");$+=4;P.ys(r,$,1);$+=2;
P.j5(r,$,F.length);$+=4;for(var O=0;O<F.length;O++){var C=F[O],M=C.name;C.name=C.name.split("/").pop();
$=fU.aGL(r,$,C);C.name=M}return r.data.slice(0,$).buffer};fU.xm=function(F,r,$,C){var M=C?P.cA:P.dj,l=r+$,k=[];
while(r<l){var d={},I=M(F,r);r+=4;var c=r;r=fU.adn(F,r,d,C);if(!d.t6[1].XS())k.push(d);if(I%4!=0)I+=4-I%4;
r=c+I}return k};fU.gY=function(F,r,$){for(var O=0;O<$.length;O++){var C=$[O];r+=4;var M=r;r=fU.aGL(F,r,C);
var l=r-M;P.j5(F,M-4,l);if(l%4!=0)M+=4-l%4;r=M+l}return r};fU.adn=function(F,r,$,C){var M=C?P.cA:P.dj,l=C?P.IX:P.G2,k=C?P.dM:P.OH,d=M(F,r);
r+=4;if(d!=1)alert("Unknown version of pattern");var I=M(F,r);r+=4;if(I!=1&&I!=2&&I!=3)console.log("Unsupported mode of pattern: "+I);
var c=l(F,r);r+=2;var Q=l(F,r);r+=2;var x=new cS(0,0,Q,c);$.name=k(F,r);r+=4+2*$.name.length+2;var U=F[r];
r++;$.id=P.BW(F,r,U);r+=$.id.length;var S=-1;if(I==2){S=r;r+=3*256+4}var z=new j.fJ(Q*c);r=fU.a2J(F,r,z,C);
if(I==2){for(var O=0;O<z.t.length;O++){var V=3*z.t[O];z.t[O]=F[S+V+0];z.L[O]=F[S+V+1];z.X[O]=F[S+V+2]}}var t=j.j(x.C()*4);
j.TP(z,t);$.t6=[t,x];return r};fU.aGL=function(F,r,$){var C=$.t6[0],M=$.t6[1];P.j5(F,r,1);r+=4;P.j5(F,r,3);
r+=4;P.ys(F,r,M.$);r+=2;P.ys(F,r,M.r);r+=2;P.xx(F,r,$.name+"\0");r+=4+2*$.name.length+2;P.y0(F,r,$.id.length);
r++;P.k6(F,r,$.id);r+=$.id.length;var l=new j.fJ(M.C());j.t9(C,l);r=fU.axa(F,r,l,M);return r};fU.a2J=function(F,r,$,C){var M=C?P.cA:P.dj,l=C?P.IX:P.G2,k=r,d={OV:null,BS:[],au0:null,Wi:null},I=M(F,r);
r+=4;var c=M(F,r);r+=4;d.OV=P.$K(F,r,C);r+=16;var Q=M(F,r);r+=4;for(var O=0;O<Q+2;O++){var x=M(F,r);
r+=4;if(x==0)continue;var U=M(F,r);r+=4;if(U==0)continue;var S=M(F,r);r+=4;var z=P.$K(F,r,C);r+=16;var V=l(F,r);
r+=2;var t=F[r];r++;var Y=dZ.Ru(!1,S,F,z.r,z.$,r,t,U,C);Y=j.Mz(Y,8);if(O<Q)d.BS.push(Y);if(O==Q)d.au0=Y;
if(O==Q+1)d.Wi=Y;r+=U-23}if(!d.OV.XS()){if(d.BS[0])$.t=d.BS[0];if(d.BS[1])$.L=d.BS[1];else $.L=d.BS[0].slice(0);
if(d.BS[2])$.X=d.BS[2];else $.X=d.BS[0].slice(0);if(d.Wi)$.xz=d.Wi;else $.xz.fill(255)}return r};fU.axa=function(F,r,$,C){var M=r,l={OV:C,BS:[$.t,$.L,$.X],au0:null,Wi:$.xz};
P.j5(F,r,3);r+=4;P.j5(F,r,0);r+=4;P.lX(F,r,C);r+=16;P.j5(F,r,24);r+=4;for(var O=0;O<24+2;O++){var k=r,d=O<3||O==25?1:0;
P.j5(F,r,d);r+=4;if(d==0)continue;P.j5(F,r,0);r+=4;P.j5(F,r,8);r+=4;P.lX(F,r,C);r+=16;P.ys(F,r,8);r+=2;
P.y0(F,r,1,1);r++;var I=O<3?l.BS[O]:l.Wi;F.cq(r,C.C()+2);r=dZ.Ob(!1,I,F.data,C.r,C.$,r,1);P.j5(F,k+4,r-k-8)}P.j5(F,M+4,r-M-8);
return r};function c6(){}c6.CO=function(F,r){var $=new Uint8Array(F),M=0;if($[0]==71)return c6.an5($);
var C=r.split("/").pop().split(".")[0],l=P.BW($,M,4);M+=4;var k=P.G2($,M);M+=2;var d=[];if(k<=3){var I=P.G2($,M);
M+=2;for(var O=0;O<I;O++){var c=$[M++],Q=P.BW($,M,c);M+=c;var x=c6.aqW($,M,Q),U=x[0];M=x[1];d.push(U)}}else{var x={},S=j4.EN($,x,M+4),z=x.GrdL.v;
for(var O=0;O<z.length;O++)d[O]=z[O].v.Grad.v;M+=4+S}for(var O=0;O<d.length;O++)d[O]=[d[O].Nm.v,d[O]];
return jE.apW($,M,d,r)};c6.sz=function(F,r){F.Nm.v=r};c6.Ns=function(F){var r=new eo,$=0;P.k6(r,$,"8BGR");
$+=4;P.ys(r,$,5);$+=2;P.j5(r,$,16);$+=4;var C={classID:"null",GrdL:{t:"VlLs",v:[]}},M=C.GrdL.v;for(var O=0;
O<F.length;O++){var l=j.N(F[O]);l[1].Nm.v=l[0];M[O]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:l[1]}}}}$+=j4.kv(r,C,$);
return r.data.slice(0,$).buffer};c6.aqW=function(F,r,$,C){var M={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:$},Trns:{t:"VlLs",v:[]}},l=C?P.IX:P.G2,k=C?P.cA:P.dj,d=l(F,r);
r+=2;if(d==0)throw"e";for(var O=0;O<d;O++){var I=k(F,r),c=k(F,r+4),Q=jE.Eq(F,r+8,C),x={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:Q.t},Grn:{t:"doub",v:Q.L},Bl:{t:"doub",v:Q.X}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:I},Mdpn:{t:"long",v:c}}};
M.Clrs.v.push(x);r+=20}var U=l(F,r);r+=2;for(var O=0;O<U;O++){var I=k(F,r),c=k(F,r+4),S=l(F,r+8),x={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*S/255)}},Lctn:{t:"long",v:I},Mdpn:{t:"long",v:c}}};
M.Trns.v.push(x);r+=10}var z=l(F,r);r+=2;M.Intr.v=z==2?l(F,r):4096;r+=2;var V=l(F,r);r+=2;return[M,r]};
c6.aFl=function(F,r,$){var C=$.Clrs.v.length;P.ys(F,r,C);r+=2;for(var O=0;O<C;O++){var M=$.Clrs.v[O];
P.j5(F,r,M.v.Lctn.v);P.j5(F,r+4,M.v.Mdpn.v);P.ys(F,r+8,0);var l=j.qS.NG(j.qS.MB(M.v.Clr.v)),k=[l.Rd.v,l.Grn.v,l.Bl.v,0];
for(var d=0;d<4;d++)P.ys(F,r+10+d*2,Math.round(65535*(k[d]/255)));r+=20}var I=$.Trns.v.length;P.ys(F,r,I);
r+=2;for(var O=0;O<I;O++){var M=$.Trns.v[O];P.j5(F,r,M.v.Lctn.v);P.j5(F,r+4,M.v.Mdpn.v);P.ys(F,r+8,Math.round(255*M.v.Opct.v.val/100));
r+=10}P.ys(F,r,2);r+=2;P.ys(F,r,$.Intr.v);r+=2;P.ys(F,r,32);r+=2;return r};c6.an5=function(F){var r=P.qV(F,0,F.length).split("\n"),$=parseFloat(r[2]),C=[],M=JSON.parse(cK.sH[cK.order.indexOf("GrFl")]).Grad.v;
M.Intr.v=0;M.Nm.v=r[1];for(var O=0;O<$;O++){var l=r[3+O].split(" ").map(parseFloat),k=l[11],d=l[12];
C.push([l[0],l.slice(3,6),l[6]]);if(d!=0){var I=j.nc(l[3],l[4],l[5]),c=j.nc(l[7],l[8],l[9]),Q=I.Y9,x=c.Y9;
if(d==1&&Q>x)x++;if(d==2&&Q<x)Q++;var U=Math.round(Math.abs(x-Q)*7);if(U>1)for(var S=0;S<U;S++){var z=1-(S+1)/(U+1),V=1-z,t=j.To(z*Q+V*x,z*I.cG+V*c.cG,z*I.rY+V*c.rY);
C.push([z*l[0]+V*l[2],[t.t,t.L,t.X],z*l[6]+V*l[10]])}}C.push([l[2],l.slice(7,10),l[10]])}C.sort(function(Y,i){return Y[0]-i[0]});
j.qS.p3(C,M);return[M]};c6.SM=function(F,r,$){var C=B.dC.SM(F[1],r,$,Math.PI/4,16777215,0);return C};
function bq(){}bq.CO=function(F){var r=new Uint8Array(F),$=[],C=[],M=[],l=[],k=[],d=0,I=P.BW(r,d,4);
d+=4;var c=P.dj(r,d);d+=4;var Q=P.dj(r,d);d+=4;while(d<r.length){var x=P.BW(r,d,4);d+=4;var U=P.BW(r,d,4);
d+=4;var S=P.dj(r,d);d+=4;if(U=="tppa"){C=fU.xm(r,d,S);d+=S}else if(U=="tpbd"){M=gh.a2M(r,d,S,1,1);d+=S}else if(U=="tptp"){var z=P.dj(r,d);
d+=4;for(var O=0;O<z;O++){var V=P.OH(r,d);d+=6+V.length*2;d+=4;var t={};d+=j4.EN(r,t,d);$.push([V,t])}while((d&3)!=0)d++}else if(U=="tpsh"){var Y=d,i=r.slice(d,d+S);
while(d<Y+S){var J=P.dj(r,d);d+=4;d=fW.anI(r,d,"Shape",l)}d=Y+S}else if(U=="tpst"){var Y=d;d+=4;while(d<Y+S){var H=P.dj(r,d);
d+=4;var v=d,n=P.dj(r,d);d+=4;var t={Lz:{},Fu:{}};k.push(t);d+=4;d+=j4.EN(r,t.Lz,d);d+=4;d+=j4.EN(r,t.Fu,d);
d=v+H;var G=t.Fu.Lefx;if(G){if(G.v.masterFXSwitch==null)G.v.masterFXSwitch={t:"bool",v:!0};iE.Dg(G.v)}}d=Y+S}else{console.log(r.slice(d-8,d+64));
console.log(P.BW(r,d-8,64));throw U}}return{QY:M,fQ:C,list:$,aai:l,nt:k}};bq.sz=function(F,r){F[0]=r};
bq.Ns=function(F){var r=new eo,$=0;P.k6(r,$,"8BTP");$+=4;P.j5(r,$,3);$+=4;P.j5(r,$,1);$+=4;var C=[F.fQ,F.QY,F.list];
for(var O=0;O<3;O++){if(C[O].length==0)continue;P.k6(r,$,"8BIM");$+=4;var M=["tppa","tpbd","tptp"][O];
P.k6(r,$,M);$+=4;var l=$;$+=4;if(M=="tppa"){$=fU.gY(r,$,F.fQ)}else if(M=="tpbd"){$=gh.ahp(r,$,F.QY)}else if(M=="tptp"){P.j5(r,$,F.list.length);
$+=4;for(var k=0;k<F.list.length;k++){var d=F.list[k];P.xx(r,$,d[0]+"\0");$+=6+d[0].length*2;P.j5(r,$,16);
$+=4;$+=j4.kv(r,d[1],$)}}P.j5(r,l,$-l-4);while(($&3)!=0)$++;r.cq($,0)}return r.data.slice(0,$).buffer};
function jF(){}jF.CO=function(F,r){var $=new Uint8Array(F),C;if(P.dj($,0)==$.length)C="icc";else if($[0]=="<".charCodeAt(0))C="look";
else if(P.Ah($,"LUT_3D_SIZE")!=-1)C="cube";else C="3DL";if(C!="icc"){var M=jF.aJE($,C),l=jF.ap4(M[0],M[1]);
$=l}var k=[];for(var O=0;O<$.length;O++)k.push($[O]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:r?r:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:k}}]};
jF.Ns=function(F){var r=F[0],$=new Uint8Array(r.profile.v);return $.buffer};jF.sz=function(F,r){F.Nm.v=r};
jF.ap4=function(F,r){var $=new eo,C=128;$.cq(0,128);var M=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var O=0;O<M.length;O++)$.data[O]=M[O];var l=["desc","A2B0"],k=l.length,d=128+4+k*12;P.j5($,C,k);
C+=4;for(var I=0;I<k;I++){var c=l[I];P.k6($,C,c);C+=4;P.j5($,C,d);C+=4;var Q=d;if(c=="desc"){P.k6($,Q,"mluc");
Q+=4;Q+=4;P.j5($,Q,1);Q+=4;P.j5($,Q,12);Q+=4;P.k6($,Q,"enUS");Q+=4;var x="ICC by Photopea\0",U=x.length*2+2;
P.j5($,Q,U);Q+=4;P.j5($,Q,28);Q+=4;$.cq(Q,U);for(var O=0;O<x.length;O++)$.data[Q+O*2+1]=x.charCodeAt(O);
Q+=U}if(c=="A2B0"){P.k6($,Q,"mAB ");Q+=4;Q+=4;$.cq(Q,4);$.data[Q]=3;$.data[Q+1]=3;Q+=4;$.cq(Q,4*5);Q+=4*3;
P.j5($,Q,Q+8-d);Q+=4;Q+=4;$.cq(Q,20);$.data[Q]=F;$.data[Q+1]=F;$.data[Q+2]=F;Q+=16;$.data[Q]=2;Q+=4;
var S=F*F*F*3;$.cq(Q,S*2);for(var O=0;O<S;O++)P.N2($.data,Q+O*2,Math.max(0,Math.min(65535,Math.round(r[O]*65535))));
Q+=S*2}var z=Q-d;while((z&3)!=0)z++;P.j5($,C,z);C+=4;d+=z}P.j5($,0,d);return $.data.slice(0,d)};jF.aJE=function(F,r){r="LUTFormat"+r.toUpperCase();
var $=[],C=0,M=P.qV(F,0,F.length),l="";for(var O=0;O<F.length&&l=="";O++){if(F[O]==10)l="\n";else if(F[O]==13){l="\r";
if(F[O+1]==10)l+="\n"}}if(r=="LUTFormatCUBE"){var k=M.split(l);for(var O=0;O<k.length;O++){if(k[O]==""||k[O][0]=="#")continue;
var d=k[O].split(" "),I=d[0];if(I=="LUT_3D_SIZE"){C=parseInt(d[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(I)!=-1)continue;
$.push(parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2]))}$=jF.aph(C,$)}else if(r=="LUTFormat3DL"){var k=M.split(l),c=1/4095;
for(var O=0;O<k.length;O++){var Q=k[O];if(Q==""||Q=="3DMESH"||Q.startsWith("Mesh")||Q[0]=="#")continue;
var d=Q.split(" "),I=d[0];if(C==0){C=d.length;continue}$.push(parseFloat(d[0])*c,parseFloat(d[1])*c,parseFloat(d[2])*c)}}else if(r=="LUTFormatLOOK"){var x=new DOMParser,U=x.parseFromString(M,"text/xml"),S=U.getElementsByTagName("LUT")[0],z=S.children[0].textContent;
C=parseInt(JSON.parse(z));var V=S.children[1].textContent;V=V.replace(/"/g,"").replace(/\s/g,"");var t=3*C*C*C,Y=t*4,i=new Uint8Array(Y);for(var O=0;O<Y;O++){var J=V.charCodeAt(O*2),H=V.charCodeAt(O*2+1),v=J<58?J-48:J-55,n=H<58?H-48:H-55;i[O]=(v<<4)+n}for(var O=0;O<t;O++)$.push(P.JW(i,O<<2));$=jF.aph(C,$)}else throw r;return[C,$]};jF.ado=function(F,r,$){var C=["#Created by www.Photopea.com","TITLE \""+$+"\"","","#LUT size","LUT_3D_SIZE "+r,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],M=6;
for(var O=0;O<F.length;O+=3){C.push(F[O].toFixed(M)+" "+F[O+1].toFixed(M)+" "+F[O+2].toFixed(M))}C.push("");
return P.V4(C.join("\n")).buffer};jF.aph=function(F,r){var $=[],C=F*F*F;for(var O=0;O<C;O++)$.push(0,0,0);
for(var M=0;M<F;M++)for(var l=0;l<F;l++)for(var k=0;k<F;k++){var O=3*(k+l*F+M*F*F),d=3*(M+l*F+k*F*F);
$[d]=r[O];$[d+1]=r[O+1];$[d+2]=r[O+2]}return $};function j4(){}j4.EN=function(F,r,$,C,M,l){var k=$,Q;
if(M==null)M=0;var d=l?P.cA:P.dj,I=l?P.jF:P.Dm,c=l?P.dM:P.OH,x=d(F,$);if(x==0){Q="";$+=4}else{Q=c(F,$);
$+=4+2*Q.length+2}if(Q!="")r.__name=Q;r.classID=j4.do(F,$,l);if(C)console.log("\t".repeat(M),"- reading descriptor",r.classID,$);
$+=j4.Hc(F,$,l);var U=I(F,$);$+=4;for(var O=0;O<U;O++){var S=j4.do(F,$,l);$+=j4.Hc(F,$,l);var z=j4.aEZ(F,$,C,M,l);
r[S]=z;$+=z.size;delete z.size}return $-k};j4.kv=function(F,r,$,C){var M=$,l=r.__name;if(l==null)l="";
l+="\0";P.xx(F,$,l);$+=4+2*l.length;j4.yq(F,$,r.classID);$+=j4.Hc(F.data,$);P.eT(F,$,Object.keys(r).length-1-(r.__name==null?0:1));
$+=4;for(var k in r){if(k=="classID")continue;if(k=="__name")continue;j4.yq(F,$,k);$+=j4.Hc(F.data,$);
$+=j4.avu(F,$,r[k])}return $-M};j4.aEZ=function(F,r,$,C,M){var l=r,k=P.Ew(F,r,M);r+=4;var d=M?P.aj:P.Dw,I=M?P.cA:P.dj,c=M?P.jF:P.Dm,Q=M?P.dM:P.OH,x={size:0,t:k,v:null};
if($)console.log("\t".repeat(C),"reading key",k,l);switch(k){case"obj ":case"VlLs":x.v=[];var U=I(F,r);
r+=4;for(var O=0;O<U;O++){var S=j4.aEZ(F,r,$,C+1,M);r+=S.size;delete S.size;x.v.push(S)}break;case"UntF":x.v={type:P.Ew(F,r,M),val:d(F,r+4)};
r+=12;break;case"doub":{x.v=d(F,r);r+=8;break}case"bool":x.v=F[r]==1;r+=1;break;case"long":x.v=c(F,r);
r+=4;break;case"comp":x.v=c(F,r+4);r+=8;break;case"Objc":x.v={};var z=j4.EN(F,x.v,r,$,C+1,M);r+=z;break;
case"TEXT":var V=I(F,r);if(V==0){x.v="";r+=4}else{x.v=Q(F,r);r+=4+x.v.length*2+2}break;case"enum":var t=j4.do(F,r,M);
r+=j4.Hc(F,r,M);var Y=j4.do(F,r,M);r+=j4.Hc(F,r,M);x.v={};x.v[t]=Y;break;case"tdta":var i=c(F,r);r+=4;
x.v=Array.from(F.slice(r,r+i));r+=i;break;case"ObAr":var J=I(F,r);r+=4;var H=Q(F,r);r+=4+2*H.length+2;
if(H!="")throw H;var v=j4.do(F,r,M);r+=4+Math.max(4,v.length);x.v={classID:v,arr:[]};var n=I(F,r);r+=4;
for(var O=0;O<n;O++){var v=j4.do(F,r,M);r+=4+Math.max(4,v.length);var t=P.Ew(F,r,M);r+=4;var G=P.Ew(F,r,M);
r+=4;var g={id:v,type:t,uID:G,arr:[]};x.v.arr.push(g);var W=I(F,r,4);r+=4;for(var L=0;L<W;L++){var b=d(F,r);
r+=8;g.arr.push(b)}}break;case"Pth ":if(M)throw"e";var T=r,i=P.dj(F,r);r+=4;var a=P.BW(F,r,4);r+=4;var R=P.cA(F,r);
r+=4;var D=P.adY(F,r);r+=4+D.length*2;x.v={sig:a,pth:D};break;case"Clss":case"type":case"rele":var D=Q(F,r);
r+=4+D.length*2+2;var h=j4.do(F,r,M);r+=4+Math.max(4,h.length);x.v={classID:h};if(D!="")x.v.__name=D;
if(k=="rele"){x.v.val=c(F,r);r+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var K=j4.vH[k],D=Q(F,r);
r+=4+D.length*2+2;if(D.length!=0){console.log("String found",k,D)}x.v={};for(var O=0;O<K.length;O++){var h=j4.do(F,r,M);
r+=4+Math.max(4,h.length);x.v[K[O]]=h}if(k=="name"){var D=Q(F,r);r+=4+D.length*2+2;x.v.val=D}if(k=="indx"||k=="Idnt"){x.v.val=I(F,r);
r+=4}break;case"alis":var i=I(F,r);r+=4;x.v=P.BW(F,r,i);r+=i;break;default:{console.log("unknown oskey: "+k+", "+l);
throw"e";return x}}if($){console.log("\t".repeat(C),x.v);console.log("\t".repeat(C),"======",r)}x.size=r-l;
return x};j4.vH={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"],Idnt:["classID"]};
j4.avu=function(F,r,$){var C=r,M=$.t;$=$.v;P.k6(F,r,M);r+=4;switch(M){case"obj ":case"VlLs":P.eT(F,r,$.length);
r+=4;for(var l=0;l<$.length;l++){var k=j4.avu(F,r,$[l]);r+=k}break;case"UntF":P.k6(F,r,$.type);P.tF(F,r+4,$.val);
r+=12;break;case"doub":P.tF(F,r,$);r+=8;break;case"bool":P.y0(F,r,$?1:0,1);r+=1;break;case"long":P.eT(F,r,$);
r+=4;break;case"comp":P.eT(F,r+4,$);r+=8;break;case"Objc":var k=j4.kv(F,$,r);r+=k;break;case"TEXT":P.xx(F,r,$+"\0");
r+=4+$.length*2+2;break;case"enum":var d=Object.keys($)[0],I=$[d];j4.yq(F,r,d);r+=j4.Hc(F.data,r);j4.yq(F,r,I);
r+=j4.Hc(F.data,r);break;case"tdta":P.j5(F,r,$.length);r+=4;P.Uo(F,r,$);r+=$.length;break;case"ObAr":P.j5(F,r,$.arr[0].arr.length);
r+=4;P.xx(F,r,"\0");r+=6;j4.yq(F,r,$.classID);r+=4+Math.max(4,$.classID.length);P.j5(F,r,$.arr.length);
r+=4;for(var O=0;O<$.arr.length;O++){var c=$.arr[O];j4.yq(F,r,c.id);r+=4+Math.max(4,c.id.length);P.k6(F,r,c.type);
r+=4;P.k6(F,r,c.uID);r+=4;P.j5(F,r,c.arr.length);r+=4;for(var l=0;l<c.arr.length;l++){P.tF(F,r,c.arr[l]);
r+=8}}break;case"Pth ":var Q=$.pth.length*2+4+8;P.j5(F,r,Q);r+=4;P.k6(F,r,$.sig);r+=4;P.Lh(F,r,Q);r+=4;
P.acl(F,r,$.pth);r+=$.pth.length*2+4;break;case"Clss":case"type":case"rele":var x=$.__name;if(x==null)x="";
P.xx(F,r,x+"\0");r+=4+x.length*2+2;var U=$.classID;j4.yq(F,r,U);r+=4+Math.max(4,U.length);if(M=="rele"){P.eT(F,r,$.val);
r+=4}break;case"prop":case"Enmr":case"indx":case"name":case"Idnt":var S=j4.vH[M],z="";if(M=="name"&&$.classID=="Grdn")z="Gradient";
P.xx(F,r,z+"\0");r+=4+z.length*2+2;for(var O=0;O<S.length;O++){var U=$[S[O]];j4.yq(F,r,U);r+=4+Math.max(4,U.length)}if(M=="name"){P.xx(F,r,$.val+"\0");
r+=4+$.val.length*2+2}if(M=="indx"||M=="Idnt"){P.j5(F,r,$.val);r+=4}break;case"alis":var Q=$.length;
P.j5(F,r,Q);r+=4;P.k6(F,r,$);r+=Q;break;default:console.log("unknown oskey: "+M);r=C;break}return r-C};
j4.do=function(F,r,$){var C=$?P.jF:P.Dm,M=C(F,r);if(M>1e3)throw"e";if(M==0)return P.Ew(F,r+4,$).trim();
return P.BW(F,r+4,M).trim()};j4.Hc=function(F,r,$){var C=$?P.jF:P.Dm,M=C(F,r);return M==0?8:4+M};j4.yq=function(F,r,$){var C="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time hold trim then else".split(" "),M=4<$.length||C.indexOf($)!=-1;
P.eT(F,r,M?$.length:0);P.k6(F,r+4,$);if($.length<4&&!M){var l="";for(var O=$.length;O<4;O++)l+=" ";P.k6(F,r+4+$.length,l)}};
j4.a9o=function(F){var r={};for(var $ in F){if($=="classID")r[$]=F[$];else if($=="__name")r[$]=F[$];
else r[$]=j4.aGX(F[$])}return r};j4.aGX=function(F){if(F.q=="Objc")return j4.a9o(F.v);else if(F.q=="VlLs"){var r=[];
for(var O=0;O<F.v.length;O++)r.push(j4.aGX(F.v[O]));return r}else if(F.q=="UntF")return F.v.val;else return F.v};
function iE(){}iE.DW=function(F,r,$,C,M,l,k){var d=k?P.cA:P.dj,I=k?P.jF:P.Dm,c=k?P.IX:P.G2,Q=k?P.nv:P.O4,x=k?P.a0f:P.Zq,U=k?P.aj:P.Dw,S=k?P.JW:P.LC,z=k?P.adY:P.bF;
while(r<$){var V=P.Ew(F,r,k);r+=4;if(V!="8BIM"&&V!="8B64"){console.log("layer information signature error! "+V,"PSB = "+M);
alert("Error in PSD file: wrong signature.");return $}var t=P.Ew(F,r,k);r+=4;var Y=d(F,r);r+=4;var i=M&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(t)!=-1;
if(i){Y=Y<<32|I(F,r);r+=4}var J=["lrFX","PlLd"];if(J.indexOf(t)!=-1){if(Y%4!=0)Y+=4-Y%4;r+=Y;continue}switch(t){case"iOpa":C[t]=F[r];
break;case"brst":C[t]=[1,1,1];for(var O=0;O<Y;O+=4)C[t][d(F,r+O)]=0;break;case"knko":C[t]=F[r];break;
case"infx":C[t]=F[r];break;case"clbl":C[t]=F[r];break;case"lmgm":C[t]=F[r];break;case"vmgm":C[t]=F[r];
break;case"fcmy":C[t]=F[r];break;case"lyid":C[t]=d(F,r);break;case"lsct":C[t]={I:d(F,r)};if(Y>=12)C[t].ww=P.Ew(F,r+8,k);
break;case"lsdk":C.lsct={I:d(F,r)};break;case"lyvr":C[t]=d(F,r);break;case"lnsr":var H={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
C[t]=P.Ew(F,r,k);break;case"lspf":C[t]=d(F,r);break;case"lclr":C[t]=c(F,r);break;case"luni":C[t]=z(F,r);
break;case"fxrp":C[t]=new hx(U(F,r),U(F,r+8));break;case"phry":case"artb":case"artd":C[t]={};j4.EN(F,C[t],r+4,!1,null,k);
break;case"SoCo":C[t]={};j4.EN(F,C[t],r+4,!1,null,k);break;case"GdFl":C[t]={};j4.EN(F,C[t],r+4,!1,null,k);
iE.I3(C[t],t);break;case"PtFl":C[t]={};j4.EN(F,C[t],r+4,!1,null,k);iE.I3(C[t],t);break;case"CgEd":C[t]={};
j4.EN(F,C[t],r+4,!1,null,k);break;case"brit":var v=C.brit=e9.Mv("brit"),n={};v.Brgh.v=Q(F,r);v.Cntr.v=Q(F,r+2);
v.useLegacy.v=!0;break;case"levl":var G=F.buffer.slice(r,r+Y);C[t]=fc.CO(G,k);break;case"curv":C[t]=bb.Yx(F,r,Y,k);
break;case"expA":var g=Q(F,r),W=C[t]=e9.Mv("expA");W.Exps.v=S(F,r+2);W.Ofst.v=S(F,r+6);W.gammaCorrection.v=S(F,r+10);
break;case"vibA":C[t]={};j4.EN(F,C[t],r+4,!1,null,k);break;case"hue2":C[t]=hA.Yx(F,r,Y,k);break;case"blnc":var W=C[t]=e9.Mv(t);
W.PrsL.v=F[r+18]==1;var L=["ShdL","MdtL","HghL"];for(var O=0;O<3;O++)for(var b=0;b<3;b++)W[L[O]].v[b].v=Q(F,r+O*6+b*2);
break;case"blwh":var T={};j4.EN(F,T,r+4,!1,null,k);var W=e9.Mv(t),a="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var O=0;O<a.length;O++){W[a[O]]=T[a[O]];delete T[a[O]]}C[t]=W;break;case"phfl":var W=C[t]=e9.Mv(t),R=W.Clr.v,g=c(F,r);
if(g==3){var D=[d(F,r+2),d(F,r+6),d(F,r+10)],h=32768,K=j.asK(D[0]/h,D[1]/h,D[2]/h);R.Lmnc.v=K.tr;R.A.v=K.xz;
R.B.v=K.X}if(g==2){var X=c(F,r+2);if(X!=7)throw"e";R.Lmnc.v=Q(F,r+4)/100;R.A.v=Q(F,r+6)/100;R.B.v=Q(F,r+8)/100}var w=r+2+(g==3?12:10);
W.Dnst.v=d(F,w);w+=4;W.PrsL.v=F[w]==1;break;case"mixr":var N={Sq:c(F,r+2)==1,Y:[]};for(var O=0;O<20;
O++)N.Y.push(Q(F,r+4+O*2));C[t]=f0.c4(N);break;case"clrL":case"rplc":C[t]={};j4.EN(F,C[t],r+6,!1,null,k);
break;case"nvrt":C[t]={};break;case"post":C[t]=e9.Mv("post");C[t].Lvls.v=c(F,r);break;case"thrs":C[t]=e9.Mv("thrs");
C[t].Lvl.v=c(F,r);break;case"grdm":var s=r,A=c(F,s);s+=2;var p=F[s]==1,q=F[s+1]==1;s+=2;var f=P.Ew(F,s,k);
if(f=="Perc"||f=="Gcls"||f=="Lnr "||f=="Smoo"||f=="\0\0\x0B\x1D")s+=4;var e=z(F,s);s+=4+e.length*2;var o=c6.aqW(F,s,e,k),E=o[0];
s=o[1];var cj=c(F,s);s+=2;var u=d(F,s);s+=4;var cd=c(F,s)==1;s+=2;var m=c(F,s)==1;s+=2;var aZ=d(F,s);
s+=4;var jN=c(F,s);s+=2;var eh=[],iA=[];for(var O=0;O<4;O++){eh.push({t:"long",v:~~(c(F,s+O*2)*100/32768)});
iA.push({t:"long",v:~~(c(F,s+O*2+8)*100/32768)})}s+=16;var hd=c(F,s);s+=2;if(cj==1)E={classID:"Grdn",Nm:{t:"TEXT",v:e},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:cd},VctC:{t:"bool",v:m},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:u},Smth:{t:"long",v:aZ},Mnm:{t:"VlLs",v:eh},Mxm:{t:"VlLs",v:iA}};
var kx=e9.Mv("grdm");kx.Rvrs.v=p;kx.Grad.v=E;C[t]=kx;break;case"selc":C[t]=ao.Yx(F,r,Y,k);break;case"vmsk":case"vsms":var b0=C.vmsk=new Z.kf,gX=I(F,r+4),j$=(gX>>0&1)==1;
b0.N9=(gX>>1&1)==0;b0.isEnabled=(gX>>2&1)==0;b0.M=fW.Hv(F,r+8,Y-8,l.r,l.$,k);break;case"shmd":C[t]={};
var i0=d(F,r),w=r+4;for(var O=0;O<i0;O++){var V=P.Ew(F,w,k);w+=4;var f7=P.Ew(F,w,k);w+=4;var am=F[w];
w++;if(Math.max(F[w],F[w+1])!=0)throw"e";w+=3;var gf=d(F,w);w+=4;if(f7=="cust"||f7=="cmls"||f7=="extn"||f7=="mlst"){var cC=d(F,w);
if(cC!=16)w+=4;if(d(F,w)==16){var T={};j4.EN(F,T,w+4,!1,null,k);C[t][f7]=T;if(f7=="cmls")B.Or.aky(C[t][f7])}}else{console.log("unknown shmd key: "+f7+", size: "+gf)}w+=gf}break;
case"shpa":var g=d(F,r),aD=d(F,r+4);if(aD!=0)console.log("some patterns present!");break;case"TySh":var c_=C[t]={},g=c(F,r);
c_.U=P.$D(F,r+2,k);var a9=c(F,r+2+48);c_.Yb={};try{var jz=j4.EN(F,c_.Yb,r+56)}catch(ac){C[t]=null;break}var g3=ho.a5A();
for(var e3 in g3)if(c_.Yb[e3]==null)c_.Yb[e3]=g3[e3];c_.xD={};var c1=j4.EN(F,c_.xD,r+56+jz+6,!1,null,k);
c_.xa=P.aj1(F,r+56+jz+6+c1);c_.$E=kK.CO(c_.Yb.EngineData.v);ho.aox(c_.$E.EngineDict.StyleRun.RunArray);
if(c_.$E.ResourceDict==null)c_.$E.ResourceDict=j.N(c_.$E.DocumentResources);delete c_.Yb.EngineData;
break;case"lfx2":case"lmfx":case"lfxs":var dI=d(F,r),kJ=d(F,r+4);C.lmfx={};var jz=j4.EN(F,C.lmfx,r+8,!1,null,k);
iE.Dg(C.lmfx);break;case"FMsk":C[t]=F.slice(r,r+Y);break;case"Txt2":C[t]={};C[t].raw=F.slice(r,r+Y);
C[t].GB=bs.CO(C[t].raw);break;case"Patt":C[t]=fU.xm(F,r,Y,k);break;case"SoLd":var cA=P.Ew(F,r,k),c2=d(F,r+4),ee=d(F,r+8),hF=C[t]={},ic=j4.EN(F,hF,r+12,null,null,k),eH=hF.warp,kz=hF.quiltWarp;
if(kz==null)kz=hF.quiltWarp=j.gd.a64(eH);delete hF.warp;var kq=kz.v.warpStyle.v.warpStyle,a7=kz.v.warpValues;
if(kq!="warpCylinder"&&a7){kz.v.warpValue={t:"doub",v:a7.v[0].v};delete kz.v.warpValues}if(hF.nonAffineTransform==null)hF.nonAffineTransform=j.N(hF.Trnf);
if(hF.Impr==null)hF.Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var c2=d(F,r);
C[t]={};var ic=j4.EN(F,C[t],r+4,!1,null,k);break;case"vscg":var f7=P.Ew(F,r,k),c2=d(F,r+4);C[f7]={};
var ic=j4.EN(F,C[f7],r+8,!1,null,k);iE.I3(C[f7],f7);break;case"vogk":var i6=d(F,r),c2=d(F,r+4);C[t]={};
var ic=j4.EN(F,C[t],r+8,!1,null,k);C[t]=C[t].keyDescriptorList.v;for(var O=0;O<C[t].length;O++){var hm=C[t][O].v;
if(!j.EL.qJ(hm))continue;if(hm.keyOriginBoxCorners==null){var bB=j.EL.TK(hm);hm.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};
var iV=[bB[0],bB[1],bB[2],bB[1],bB[2],bB[3],bB[0],bB[3]];if(hm.keyOriginType.v==4)iV=j.EL.avt(j.EL.ji(hm),hm.keyOriginLineWeight.v);
j.EL.YG(hm,"keyOriginBoxCorners",iV)}}break;case"lnk2":case"lnkD__":case"lnk3__":C[t]=[];var s=r;while(s<r+Y){var eO=new Z.qF;
C[t].push(eO);var aC=x(F,s);s+=8;var fq=s;eO.I=P.Ew(F,s,k);s+=4;if(eO.I!="liFD"){alert("Unknown Linked Layer type: "+eO.I);
break;throw eO.I}eO.TZ=d(F,s);s+=4;var bX=P.TQ(F,s);s+=1+bX.C3.length;eO.ar=bX.C3;var gb=k?P.dM:P.OH;
eO.fO=gb(F,s);s+=4+eO.fO.length*2+2;eO.Ef=P.Ew(F,s,k);s+=4;eO.d8=P.Ew(F,s,k);s+=4;var dX=x(F,s);s+=8;
eO.open=F[s];s+=1;if(eO.open!=0){var cb={},jz=j4.EN(F,cb,s+4,null,null,k);if(jz%4!=0)jz+=4-jz%4;console.log(cb);
s+=jz+4}eO.open=0;eO.raw=F.slice(s,s+dX);s=fq+aC;if(aC%4!=0)s+=4-aC%4}break;case"FEid":var s=r;C[t]=[];
var e6=s+Y,g=d(F,s);s+=4;while(s<e6){var aC=x(F,s);s+=8;var o={};C[t].push(o);o.id=P.TQ(F,s).C3;s+=o.id.length+1;
var g=d(F,s);s+=4;s+=4;var gn=d(F,s);s+=4;o.S=P.$K(F,s,k);s+=16;var a2=d(F,s);s+=4;var kf=d(F,s);s+=4;
var dj=new j.fJ(0);for(var O=0;O<kf+2;O++){var hr=d(F,s);s+=4;if(hr!=0){var iB=x(F,s),dm=null;s+=8;if(O<3||O==25){dm=dZ.hd(!0,a2,F,o.S.r,o.S.$,s,iB,k)}if(O==0)dj.t=dm;
if(O==1)dj.L=dm;if(O==2)dj.X=dm;if(O==25)dj.xz=dm;s+=iB}}o.buffer=j.j(o.S.C()*4,a2);j.TP(dj,o.buffer);
var fr=F[s];s++;if(fr!=0){o.Lj=new Z.tp;o.Lj.S=P.$K(F,s,k);s+=16;var dv=x(F,s);s+=8;var dm=dZ.hd(!0,a2,F,o.Lj.S.r,o.Lj.S.$,s,dv,k);
o.Lj.G=dm;o.Lj.color=255;o.Lj.uF();s+=dv}if(aC%4!=0)s+=4-aC%4}break;case"Lr16":go.Jv(l,F,r,k);break;
case"Lr32":go.Jv(l,F,r,k);break;case"Anno":C[t]=[];var hw=r,gT=r+4,aD=d(F,gT);gT+=4;for(var O=0;O<aD;
O++){var aC=d(F,gT);gT+=4;var cu=P.Ew(F,gT,k);gT+=4;if(cu!="txtA")throw cu;var ha=F[gT++],g1=F[gT++],dd=c(F,gT);
gT+=2;var gj=P.$K(F,gT,k);gT+=16;var es=P.$K(F,gT,k);gT+=16;var R=jE.Eq(F,gT,k);gT+=10;var hV=P.TQ(F,gT);
gT+=hV.length;var fx=P.TQ(F,gT);gT+=fx.length;var iK=P.TQ(F,gT);gT+=iK.length;var eX=d(F,gT);gT+=4;var bo=P.Ew(F,gT,k);
gT+=4;var f8=d(F,gT);gT+=4;var dT=k?P.Fz:P.JH,it=dT(F,gT+2,f8-2>>1);gT+=f8;C[t].push([gj.x,gj.y,R,hV.C3,it])}break;
default:break}var b_="Layr,Lr16,Lr32,LMsk,Txt2,artd,extd,luni,pths,extn,tySh,lfx2,cinf,Anno,CAI ,GenI,phry".split(",");
if(b_.indexOf(t)==-1)if(Y%4!=0)console.log("size not multiple of 4!!!",t);if(t!="luni"&&t!="TySh"&&t!="tySh"&&t!="lfx2"&&t!="iOpa"&&t!="SoCo")if(Y%4!=0)Y+=4-Y%4;
r+=Y}var n=C.CgEd;if(n){var v=C.brit;if(v){v.Brgh.v=n.Brgh?n.Brgh.v:0;v.Cntr.v=n.Cntr?n.Cntr.v:0;v.useLegacy.v=n.useLegacy?n.useLegacy.v:0}delete C.CgEd}var cU=[];
for(var O=0;O<cU.length;O++)delete C[cU[O]];return r};iE.eB=function(F,r,$,C,M){if($.SoLd){var l={};
for(var k in $){if(k=="SoLd")l.PlLd={};l[k]=$[k]}$=l}for(var d in $)if($[d]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+d+"\" tag was present with a null value.");delete $[d]}for(var d in $){var I=C&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(d)!=-1,Q=0;
P.k6(F,r,I?"8B64":"8BIM");r+=4;var c=r;P.k6(F,r,d);r+=4;P.eT(F,r,0);r+=I?8:4;switch(d){case"iOpa":P.y0(F,r,$[d],1);
Q=4;break;case"brst":Q=0;for(var O=0;O<3;O++)if($[d][O]==0){P.j5(F,r+Q,O);Q+=4}break;case"knko":P.y0(F,r,$[d],1);
Q=4;break;case"infx":P.y0(F,r,$[d],1);Q=4;break;case"clbl":P.y0(F,r,$[d],1);Q=4;break;case"lmgm":P.y0(F,r,$[d],1);
Q=4;break;case"vmgm":P.y0(F,r,$[d],1);Q=4;break;case"fcmy":P.y0(F,r,$[d],1);Q=4;break;case"lyid":P.j5(F,r,$[d]);
Q=4;break;case"lsct":P.j5(F,r,$[d].I);Q=4;if($[d].ww){P.k6(F,r+4,"8BIM");P.k6(F,r+8,$[d].ww);Q=12}break;
case"lyvr":P.j5(F,r,$[d]);Q=4;break;case"lnsr":P.k6(F,r,$[d]);Q=4;break;case"lspf":P.j5(F,r,$[d]);Q=4;
break;case"lclr":P.ys(F,r,$[d]);Q=8;break;case"luni":P.xx(F,r,$[d]);Q=4+2*$[d].length;break;case"fxrp":P.tF(F,r,$[d].x);
P.tF(F,r+8,$[d].y);Q=16;break;case"phry":case"artb":case"artd":P.j5(F,r,16);Q=j4.kv(F,$[d],r+4)+4;break;
case"SoCo":P.j5(F,r,16);Q=j4.kv(F,$[d],r+4)+4;break;case"GdFl":P.j5(F,r,16);Q=j4.kv(F,$[d],r+4)+4;break;
case"PtFl":P.j5(F,r,16);Q=j4.kv(F,$[d],r+4)+4;break;case"CgEd":var x={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},U=x,S=$[d];
U.Brgh.v=S.Brgh.v;U.Cntr.v=S.Cntr.v;U.useLegacy.v=S.useLegacy.v;P.j5(F,r,16);Q=j4.kv(F,x,r+4)+4;break;
case"brit":F.cq(r,8);Q=8;break;case"levl":var z=new eo;Q=fc.Ns(z,$[d]);P.Uo(F,r,z.data);break;case"curv":Q=bb.mW(F,r,$[d]);
break;case"expA":Q=14;F.cq(r,14);P.N2(F.data,r,1);P.c7(F.data,r+2,$[d].Exps?$[d].Exps.v:0);P.c7(F.data,r+6,$[d].Ofst?$[d].Ofst.v:0);
P.c7(F.data,r+10,$[d].gammaCorrection?$[d].gammaCorrection.v:1);break;case"vibA":P.j5(F,r,16);Q=j4.kv(F,$[d],r+4)+4;
break;case"hue2":Q=hA.mW(F,r,$[d]);break;case"blnc":Q=19;F.cq(r,Q);var V=["ShdL","MdtL","HghL"];for(var O=0;
O<3;O++){var t=$[d][V[O]].v;for(var Y=0;Y<3;Y++)t.push(P.HE(F.data,r+O*6+Y*2,t[Y].v))}F.data[r+18]=$[d].PrsL.v?1:0;
break;case"blwh":var x={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},i="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var O=0;O<i.length;O++){x[i[O]]=$[d][i[O]]}P.j5(F,r,16);Q=j4.kv(F,x,r+4)+4;break;case"phfl":P.ys(F,r,2);
var J=$[d].Clr.v;P.ys(F,r+2,7);P.ys(F,r+4,Math.round(J.Lmnc.v*100));P.ys(F,r+6,Math.round(J.A.v*100));
P.ys(F,r+8,Math.round(J.B.v*100));P.ys(F,r+10,0);var H=r+2+10;F.cq(H,5);P.us(F.data,H,$[d].Dnst.v);H+=4;
F.data[H]=$[d].PrsL.v?1:0;H++;Q=H-r;break;case"mixr":Q=44;F.cq(r,Q);var v=f0.bm($[d]);P.N2(F.data,r,1);
P.N2(F.data,r+2,v.Sq?1:0);for(var O=0;O<20;O++)P.HE(F.data,r+4+O*2,v.Y[O]);break;case"clrL":case"rplc":P.ys(F,r,1);
P.j5(F,r+2,16);Q=j4.kv(F,$[d],r+6)+6;break;case"nvrt":Q=0;break;case"post":P.ys(F,r,$[d].Lvls.v);Q=2;
break;case"thrs":P.ys(F,r,$[d].Lvl.v);Q=2;break;case"grdm":var n=$[d].Rvrs?$[d].Rvrs.v:!1,G=!1,g=867527939,W=!1,L=!1,b=2048,T=[0,0,0,0],a=[32768,32768,32768,32768],R=$[d].Grad.v,D,h,K=R.Clrs==null?1:0;
if(K==0){D=R;h=JSON.parse(cK.Hn.a07).v}else{D=e9.Mv("grdm").Grad.v;h=R}F.cq(r,4);P.N2(F.data,r,1);F.data[r+2]=n?1:0;
F.data[r+3]=G?1:0;var X=r+4;P.xx(F,X,R.Nm.v);X+=4+R.Nm.v.length*2;X=c6.aFl(F,X,D);P.ys(F,X,K);X+=2;P.j5(F,X,h.RndS.v);
X+=4;P.ys(F,X,h.ShTr.v?1:0);X+=2;P.ys(F,X,h.VctC.v?1:0);X+=2;P.j5(F,X,h.Smth.v);X+=4;P.ys(F,X,3);X+=2;
for(var O=0;O<4;O++)P.ys(F,X+O*2,T[O]);X+=8;for(var O=0;O<4;O++)P.ys(F,X+O*2,a[O]);X+=8;X+=2;Q=X-r;break;
case"selc":Q=ao.mW(F,r,$[d]);break;case"FMsk":P.Uo(F,r,$[d]);Q=$[d].length;break;case"Txt2":var w=new eo,N=bs.Gk($[d].GB,w),s=w.data.slice(0,N);
P.Uo(F,r,s);Q=s.length;break;case"vmsk":var A=$[d],p=0;P.j5(F,r,3);if(!A.N9)p+=1<<1;if(!A.isEnabled)p+=1<<2;
P.j5(F,r+4,p);Q=8;var q=A.M.length;F.cq(r+8,q*26);fW.ai(F.data,r+8,A.M,M.r,M.$);Q+=q*26;break;case"shmd":P.j5(F,r,Object.keys($[d]).length);
var H=r+4;for(var f in $[d]){P.k6(F,H,"8BIM");H+=4;P.k6(F,H,f);H+=4;P.j5(F,H,0);H+=4;P.j5(F,H,0);H+=4;
P.j5(F,H,16);H+=4;var e=j4.kv(F,$[d][f],H);if(e%4!=0)e+=4-e%4;P.j5(F,H-8,e+4);H+=e}Q=H-r;break;case"TySh":var H=r;
P.Yo(F,H,1);H+=2;var o=$[d],w=new eo;o.$E.DocumentResources=j.N(o.$E.ResourceDict);var N=kK.Gk(o.$E,w),s=w.data.slice(0,N);
o.Yb.EngineData={t:"tdta",v:s};var E=o.$E.EngineDict.Editor.Text;o.Yb.Txt.v=E.substring(0,E.length-1);
P.anx(F,H,o.U);H+=48;P.Yo(F,H,50);H+=2;P.j5(F,H,16);H+=4;H+=j4.kv(F,o.Yb,H);P.Yo(F,H,1);H+=2;P.j5(F,H,16);
H+=4;H+=j4.kv(F,o.xD,H);P.a7i(F,H,o.xa);H+=16;Q=H-r;break;case"lmfx":P.j5(F,r,0);P.j5(F,r+4,16);var x=j.N($[d]),cj=!1;
iE.Hs(x);for(var O=0;O<cK.Zb.length;O++)if(x[cK.Zb[O]]!=null)cj=!0;P.k6(F,c,cj?"lmfx":"lfx2");Q=j4.kv(F,x,r+8)+8;
break;case"Patt":var H=fU.gY(F,r,$[d]);Q=H-r;break;case"PlLd":var u=r;F.cq(r,60);var t=$.SoLd;P.k6(F,r,"plcL");
P.j5(F,r+4,3);var cd=F.data[r+8]=t.Idnt.v.length;P.k6(F,r+9,t.Idnt.v);var H=r+9+cd,m=[1,1,16,2];for(var O=0;
O<4;O++)P.j5(F,H+O*4,m[O]);H+=16;m=B.hL.$M(t.nonAffineTransform);for(var O=0;O<8;O++)P.tF(F,H+O*8,m[O]);
H+=64;P.j5(F,H,0);P.j5(F,H+4,16);var aZ=j.gd.aBN(t.quiltWarp).v;H+=8+j4.kv(F,aZ,H+8);Q=H-r;break;case"SoLd":var t=$[d],jN=t.quiltWarp;
t.warp=j.gd.aBN(jN);if(j.gd.oS(jN.v)==16)delete t.quiltWarp;P.k6(F,r,"soLD");P.j5(F,r+4,4);P.j5(F,r+8,16);
Q=j4.kv(F,t,r+12)+12;t.quiltWarp=jN;delete t.warp;break;case"vstk":case"pths":P.j5(F,r,16);Q=j4.kv(F,$[d],r+4)+4;
break;case"vscg__":P.k6(F,r,$[d].key);P.j5(F,r+4,16);Q=j4.kv(F,$[d].Y,r+8)+8;break;case"vogk":P.j5(F,r,1);
P.j5(F,r+4,16);j.EL.ati($[d]);for(var O=0;O<$[d].length;O++){var eh=$[d][O].v.keyOriginResolution;if(eh)eh.v=M.YV}var iA={classID:"null",keyDescriptorList:{t:"VlLs",v:$[d]}};
Q=j4.kv(F,iA,r+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var X=r;for(var O=0;O<$[d].length;O++){var hd=$[d][O],kx=X;
P.Lq(F,X,0);X+=8;P.k6(F,X,hd.I);X+=4;P.j5(F,X,hd.TZ);X+=4;F.cq(X,1);F.data[X]=hd.ar.length;X++;P.k6(F,X,hd.ar);
X+=hd.ar.length;P.xx(F,X,hd.fO+"\0");X+=4+hd.fO.length*2+2;P.k6(F,X,hd.Ef);X+=4;P.k6(F,X,hd.d8);X+=4;
P.Lq(F,X,hd.raw.length);X+=8;F.cq(X,1);F.data[X]=hd.open;X++;P.Uo(F,X,hd.raw);X+=hd.raw.length;P.j5(F,X,1);
X+=4;X+=11;var b0=X-kx-8;P.Lq(F,kx,b0);if(b0%4!=0){F.cq(X,4-b0%4);X+=4-b0%4}}Q=X-r;break;case"FEid":var X=r;
P.j5(F,X,3);X+=4;for(var gX=0;gX<$[d].length;gX++){var j$=$[d][gX];X+=4;var i0=X;X+=4;P.A1(F,X,j$.id);
X+=j$.id.length+1;P.j5(F,X,1);X+=4;var f7=j.j(j$.S.C(),M.depth),am=j$.S,gf=j.j(am.C(),M.depth);X+=4;
var cC=X;X+=4;P.lX(F,X,am);X+=16;P.j5(F,X,M.depth);X+=4;P.j5(F,X,24);X+=4;for(var O=0;O<24+2;O++){var aD=-1;
if(O==0)aD=0;if(O==1)aD=1;if(O==2)aD=2;if(O==25)aD=3;P.j5(F,X,aD!=-1?1:0);X+=4;if(aD!=-1){j.Eg(j$.buffer,f7,aD);
j.wU(f7,j$.S,gf,am);X+=4;var c_=X;X+=4;F.cq(X,am.C()+2);X=dZ.kj(!0,gf,F.data,am.r,am.$,X,3);P.j5(F,c_,X-(c_+4))}}P.j5(F,cC,X-(cC+4));
F.cq(X,1);F.data[X]=j$.Lj?1:0;X++;if(j$.Lj!=null){var a9=am,jz=j.j(a9.C(),M.depth);jz.fill(j.zV(M.depth)*j$.Lj.color/255);
j.wU(j$.Lj.G,j$.Lj.S,jz,a9);P.lX(F,X,a9);X+=16;X+=4;var g3=X;X+=4;F.cq(X,a9.C()+2);X=dZ.kj(!0,jz,F.data,a9.r,a9.$,X,3);
P.j5(F,g3,X-(g3+4))}var b0=X-(i0+4);P.j5(F,i0,b0);if(b0%4!=0)X+=4-b0%4}Q=X-r;break;case"Lr16":case"Lr32":var e3=go.azo(M,F,r,[],!1);
Q=e3-r;break;case"Anno":var e3=r,c1=$[d].length;P.ys(F,e3,2);P.ys(F,e3+2,1);e3+=4;P.j5(F,e3,c1);e3+=4;
for(var O=0;O<c1;O++){var dI=$[d][O],kJ=dI[0],cA=dI[1],c2=e3;e3+=4;P.k6(F,e3,"txtA");e3+=4;F.cq(e3,2);
F.data[e3]=1;F.data[e3+1]=28;e3+=2;P.ys(F,e3,1);e3+=2;P.lX(F,e3,new cS(kJ,cA,17,21));e3+=16;P.lX(F,e3,new cS(kJ+8,cA+10,241,141));
e3+=16;F.cq(e3,10);jE.ix(F.data,e3,dI[2]);e3+=10;e3+=P.A1(F,e3,dI[3]);e3+=P.A1(F,e3,"");e3+=P.A1(F,e3,"D:20211012120233+01'00'");
var ee=dI[4].length*2;P.j5(F,e3,12+2+ee);e3+=4;P.k6(F,e3,"txtC");e3+=4;P.j5(F,e3,2+ee);e3+=4;F.cq(e3,2);
F.data[e3]=254;F.data[e3+1]=255;e3+=2;P.aDz(F,e3,dI[4]);e3+=ee;P.j5(F,c2,e3-c2)}Q=e3-r;break;default:console.log("unknown layer tag: "+d+", size: "+Q);
r-=12;continue}var hF=["Txt2","artd","extd","pths"];if(hF.indexOf(d)==-1)if(Q%4!=0)Q+=4-Q%4;if(I)P.Lq(F,r-8,Q);
else P.j5(F,r-4,Q);if(d!="luni"&&d!="TySh")if(Q%4!=0)Q+=4-Q%4;r+=Q}return r};iE.Dg=function(F){for(var O=0;
O<cK.order.length;O++){var r=cK.order[O],$=cK.Zb[O];if(F[$]==null)F[$]={t:"VlLs",v:[]};if(F[r]!=null){F[$].v.push(F[r]);
delete F[r]}var C=[];for(var M=0;M<F[$].v.length;M++){var l=F[$].v[M];if(l.v.present==null||l.v.present.v==!0)C.push(l)}F[$].v=C}};
iE.Hs=function(F){for(var O=0;O<cK.order.length;O++){var r=cK.order[O],$=cK.Zb[O],C=F[$].v.length;if(C==0){delete F[$];
continue}if(C==1){F[r]=F[$].v[0];delete F[$];continue}}};iE.I3=function(F,r){if(r=="GdFl"){if(F.Angl==null)F.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(F.Algn==null)F.Algn={v:!0,t:"bool"};if(F.Scl==null)F.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(F.Ofst==null)F.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(F.Rvrs==null)F.Rvrs={v:!1,t:"bool"};if(F.Dthr==null)F.Dthr={v:!1,t:"bool"}}if(r=="PtFl"){if(F.Algn==null)F.Algn={v:!0,t:"bool"};
if(F.Angl==null)F.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(F.Scl==null)F.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(F.phase==null)F.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};iE.P=function(F,r){var $={};
if(F=="TySh"){$.U=r.U.P();$.Yb=j.N(r.Yb);$.xD=j.N(r.xD);$.xa=r.xa.P();$.$E=j.N(r.$E);if(r.add)$.add={vmsk:r.add.vmsk.P(),vogk:j.N(r.add.vogk)};
return $}else if(F=="fxrp")return r.P();else if(F=="vmsk")return r.P();else return j.N(r)};function hN(F,r){}hN.CO=function(F,r,$,C,M){C=hN.aiQ(F,r,$,C,M);
return C};hN.Gk=function(F,r,$,C,M){C=hN.acf(F,r,$,C,M);return C};hN.aiQ=function(F,r,$,C,M){var l=C;
F.S=P.$K($,C,M);C+=16;var k=M?P.IX:P.G2,d=M?P.nv:P.O4,I=k($,C);C+=2;F.Id=[];var c=r.Fd,Q=M?P.a0f:P.Zq,x=M?P.cA:P.dj,U=c?Q:x;
for(var O=0;O<I;O++){F.Id[O]={id:d($,C),length:U($,C+2)};C+=c?10:6}var S=P.Ew($,C,M);C+=4;if(S!="8BIM"){console.log("Invalid Blend mode signature: "+JSON.stringify(S));
alert("Error in Photoshop file: wrong signature.");throw"e"}F.ww=P.Ew($,C,M);C+=4;F.gk=$[C];C+=1;F.p9=$[C]==1;
C+=1;F.U4=$[C];C+=1;if($[C]!=0)console.log("error in filler!");C+=1;var z=x($,C);C+=4;var V=C;C=hN.aAs(F,$,C,M);
C=hN.abC(F,$,C,M);var t=P.TQ($,C);F.name=t.C3;C+=t.length;if(t.length%4!=0)C+=4-t.length%4;C=iE.DW($,C,V+z,F.add,c,r,M);
if(F.add.lsct){if(F.add.lsct.ww)F.ww=F.add.lsct.ww;F.add.lsct=F.add.lsct.I}return C};hN.acf=function(F,r,$,C,M){var l=C;
P.lX($,C,F.S);C+=16;var k=r.add.fcmy==1,d=F.aGh(k);P.ys($,C,d.length);C+=2;var I=r.Fd;M.push(C);for(var O=0;
O<d.length;O++){P.Yo($,C,d[O]);if(I)P.Lq($,C+2,0);else P.j5($,C+2,0);C+=I?10:6}P.k6($,C,"8BIM");C+=4;
P.k6($,C,F.ww);C+=4;P.y0($,C,F.gk,1);C+=1;P.y0($,C,F.p9?1:0,1);C+=1;P.y0($,C,F.U4,1);C+=1;P.y0($,C,0,1);
C+=1;var c=C;P.j5($,C,0);C+=4;var Q=C;C=hN.aHd(F,$,C);C=hN.a7G(F,$,C);var x=P.A1($,C,F.name.slice(0,255));
C+=x;if(x%4!=0)C+=4-x%4;if(F.add.lsct){F.add.lsct={I:F.add.lsct};if(F.ww=="pass"){F.add.lsct.ww="pass";
F.ww="norm"}}if(F.ww=="pass")F.add.lsct={I:F.add.lsct,ww:"pass"};if(F.add.brit)F.add.CgEd=F.add.brit;
C=iE.eB($,C,F.add,I,r);delete F.add.CgEd;if(F.add.lsct){if(F.add.lsct.ww)F.ww=F.add.lsct.ww;F.add.lsct=F.add.lsct.I}var U=C-Q;
P.j5($,c,U);return C};hN.aAs=function(F,r,$,C){var M=C?P.cA:P.dj,l=M(r,$);$+=4;if(l==0)return $;var k=$;
F.Lj=new Z.tp;F.Lj.S=P.$K(r,$,C);$+=16;F.Lj.color=r[$];$+=1;var d=hN.a5y(F.Lj,r,$);$+=1;if(d){var I=!1,c=255,Q=0,x=255,U=0;
for(var O=0;O<F.Id.length;O++)if(F.Id[O].id==-3)I=!0;if(I){F.Ci=hN.afT(r,$,C);$+=18}var S=$,z=r[$];$++;
var V=C?P.aj:P.Dw;if(z>>0&1){c=r[$];$++}if(z>>1&1){Q=V(r,$);$+=8}if(z>>2&1){x=r[$];$++}if(z>>3&1){U=V(r,$);
$+=8}if(($-S&1)==1)$++;F.yf=[c,Q,x,U]}else{if(l==20)$+=2;else{F.Ci=hN.afT(r,$,C);$+=18}}return k+l};
hN.aHd=function(F,r,$){P.j5(r,$,0);$+=4;if(F.Lj==null)return $;var C=F.rc(),M=F.add.vmsk,l=$,k=!0;P.j5(r,$,0);
P.lX(r,$,F.Lj.S);$+=16;P.y0(r,$,F.Lj.color);$+=1;hN.aJG(F.Lj,r,$,k);$+=1;if(k){if(F.Ci){hN.aBp(r,$,F.Ci);
$+=18}var d=$;P.y0(r,$,M?15:3);$+=1;P.y0(r,$,C?C.nn:255);$+=1;P.tF(r,$,C?C.nN:0);$+=8;if(M){P.y0(r,$,M?M.nn:255);
$+=1;P.tF(r,$,M?M.nN:0);$+=8}if(($-d&1)==1)$++}P.j5(r,l-4,$-l);return $};hN.afT=function(F,r,$){var C=new Z.tp;
hN.a5y(C,F,r);r+=1;C.color=F[r];r+=1;C.S=P.$K(F,r,$);r+=16;return C};hN.aBp=function(F,r,$){hN.aJG($,F,r,!1);
r+=1;P.y0(F,r,$.color);r+=1;P.lX(F,r,$.S);r+=16};hN.a5y=function(F,r,$){var C=r[$];F.N9=(C>>0&1)==0;
F.isEnabled=(C>>1&1)==0;F.J6=(C>>3&1)==1;return C>>4&1};hN.aJG=function(F,r,$,C){var M=0;if(!F.N9)M+=1<<0;
if(!F.isEnabled)M+=1<<1;if(F.J6)M+=1<<3;if(C)M+=1<<4;P.y0(r,$,M)};hN.abC=function(F,r,$,C){var M=C?P.cA:P.dj,l=M(r,$);
$+=4;for(var O=0;O<l;O++)F.nb[O]=r[$+O];return $+l};hN.a7G=function(F,r,$){P.j5(r,$,F.nb.length);$+=4;
r.cq($,40);for(var O=0;O<40;O++){r.data[$+O]=F.nb[O]}return $+40};function dZ(){}dZ.CO=function(F,r,$,C,M){C=dZ.anZ(F,r,$,C,M);
return C};dZ.Ns=function(F,r,$,C,M,l,k){C=dZ.aAY(F,r,$,C,M,l,k);return C};dZ.anZ=function(F,r,$,C,M){var l=r.zX,k=F.Id,d={},I=C;
for(var O=0;O<k.length;O++){var c=k[O],Q=c.id,x=c.length,U;if(Q==-2&&F.Lj==null)Q=-1;if(Q==-3)U=F.Ci.S;
else if(Q==-2)U=F.Lj.S;else U=F.S;var S=dZ.hd(r.Fd,r.z_,$,U.r,U.$,C,x,M);S=j.Mz(S,r.depth);C+=x;if(Q==-3)F.Ci.G=S;
else if(Q==-2)F.Lj.G=S;else d["c"+Q]=S}var z=new j.fJ(0);z.xz=null;if(l==3){z.t=d.c0;z.L=d.c1;z.X=d.c2;
z.xz=d["c-1"]}else if(l==1){z.t=d.c0;z.L=d.c0;z.X=d.c0;z.xz=d["c-1"]}else if(l==4){var V=r.Wh.r1039,t=null,Y=d.c0,i=d.c1,J=d.c2,H=d.c3;
if(V){var t=V.aiB,v=17;if(t==null){var n=ICC.R(V.buffer);if(n.header.spaceIn=="RGB "){}else t=V.aiB=ICC.U.sampleLUT(n,v)}}if(t){var G={t:Y,L:i,X:J,xz:H},g=j.j(Y.length*4,r.depth);
j.TP(G,g);j.v4(g);ICC.U.applyLUT4(t,v,g,g);j.t9(g,G)}else{for(var O=0;O<Y.length;O++){var W=1-Y[O]*(1/255),L=1-i[O]*(1/255),b=1-J[O]*(1/255),T=1-H[O]*(1/255),a=j.Ao([W,L,b,T]);
Y[O]=Math.floor(.5+a[0]*255);i[O]=Math.floor(.5+a[1]*255);J[O]=Math.floor(.5+a[2]*255)}}z.t=Y;z.L=i;
z.X=J;z.xz=d["c-1"]}if(z.t==null)z.t=j.j(0);if(z.xz==null&&z.t!=null){z.xz=z.t.slice(0);z.xz.fill(j.zV(j.cN(z.xz)))}if(z.L==null)z.L=z.t.slice(0);
if(z.X==null)z.X=z.t.slice(0);F.buffer=j.j(Math.max(0,F.S.C()*4),r.depth);j.TP(z,F.buffer);return C};
dZ.aAY=function(F,r,$,C,M,l,k){var d=r.aGh(k),I=r.buffer,c=null,Q=j.cN(I),x=j.j(r.S.C(),Q);if(k){c=j.j(r.S.C(),Q);
j.Eg(I,c,3);I=I.slice(0);j.afx(I)}for(var O=0;O<d.length;O++){var U=d[O],S;if(U==-3)S=r.Ci.S;else if(U==-2)S=r.Lj.S;
else S=r.S;var z=x;if(U==-3)z=r.Ci.G;if(U==-2)z=r.Lj.G;if(U==-1){if(c)z=c;else j.Eg(I,x,3)}if(U==0)j.Eg(I,x,0);
if(U==1)j.Eg(I,x,1);if(U==2)j.Eg(I,x,2);if(U==3)j.Eg(I,x,3);$.cq(C,S.C()*3+4);var V=C;C=dZ.kj(F,z,$.data,S.r,S.$,C,Q!=8||l[1]?3:1);
var t=C-V;if(F)P.adN($.data,M+O*10+2,t);else P.us($.data,M+O*6+2,t)}return C};dZ.hd=function(F,r,$,C,M,l,k,d){var I=d?P.IX:P.G2,c=I($,l);
l+=2;var Q=dZ.Ru(F,r,$,C,M,l,c,k-2,d);return Q};dZ.kj=function(F,r,$,C,M,l,k){P.HE($,l,k);l+=2;l=dZ.Ob(F,r,$,C,M,l,k);
return l};dZ.Ru=function(F,r,$,C,M,l,k,d,I){var c,Q=C*M*(r>>>3),x=Q&3,U=Q+(x==0?0:4-x);if(d<=0){return j.j(U,r)}if(k==0){c=j.j(Q);
c.set(new Uint8Array($.buffer,l,Q));if(r==16)for(var O=0;O<Q;O+=2){var S=c[O];c[O]=c[O+1];c[O+1]=S}if(r==32)for(var O=0;
O<Q;O+=4){var S=c[O];c[O]=c[O+3];c[O+3]=S;S=c[O+1];c[O+1]=c[O+2];c[O+2]=S}l+=Q}else if(k==1){c=j.j(Q);
var z=F?4:2,V=dZ.abn($,c,C,M,l,l+z*M,z,I);l+=z*M+V}else if(k==2||k==3){var t=new Uint8Array($.buffer,l+2,d-6),Y=j.j(U);
UZIP.inflateRaw(t,Y);if(k==3){if(r==8)for(var i=0;i<M;i++){var J=i*C+1,H=J+C-1,v=Y[J-1];for(var n=J;
n<H;n++){v+=Y[n];Y[n]=v&255}}else if(r==16)for(var i=0;i<M;i++){var J=i*C,H=J+C,v=0;for(var n=J;n<H;
n++){var G=n<<1;v+=Y[G]<<8|Y[G+1];Y[G]=v&255;Y[G+1]=v>>>8}}else{var g=C,W=Y.slice(0,g*4);for(var i=0;
i<M;i++){var J=i*g*4+1,H=J+g*4-1,v=Y[J-1];for(var n=J;n<H;n++){v+=Y[n];Y[n]=v&255}var L=i*g*4;for(var n=0;
n<g;n++){W[4*n+3]=Y[L+n];W[4*n+2]=Y[L+g+n];W[4*n+1]=Y[L+g+g+n];W[4*n]=Y[L+g+g+g+n]}Y.set(W,L)}}}if(Y.length==U)c=Y;
else{c=j.j(U);for(var O=0;O<Y.length;O++)c[O]=Y[O]}}else c=j.j(U);if(r==16)c=new Uint16Array(c.buffer);
if(r==32)c=new Float32Array(c.buffer);return c};dZ.Ob=function(F,r,$,C,M,l,k){var d=C*M,I=j.cN(r);if(I!=8)r=new Uint8Array(r.buffer);
var c=r;if(k==0)for(var O=0;O<d;O++)$[l++]=c[O];else if(k==1){var Q=F?4:2,x=dZ.aeg(c,$,C,M,l,l+Q*M,Q);
l+=Q*M+x}else if(k==2||k==3){function U(W,O){return W[O+1]<<8|W[O]}if(k==3){c=c.slice(0);if(I==8)for(var S=0;
S<M;S++){var z=S*C,V=z+C;for(var t=V-1;t>z;t--)c[t]=c[t]-c[t-1]+256&255}else if(I==16)for(var S=0;S<M;
S++){var z=S*C,V=z+C;for(var t=V-1;t>z;t--){var Y=t<<1,i=U(c,Y)-U(c,Y-2)+65536&65535;c[Y]=i>>>8;c[Y+1]=i&255}var J=c[z*2];
c[z*2]=c[z*2+1];c[z*2+1]=J}else if(I==32){var H=C,v=c.slice(0,H*4);for(var S=0;S<M;S++){var n=S*H*4;
for(var t=0;t<H;t++){var G=n+4*t;v[t]=c[G+3];v[H+t]=c[G+2];v[H+H+t]=c[G+1];v[H+H+H+t]=c[G]}for(var t=H*4-1;
t>0;t--)v[t]=v[t]-v[t-1]+256&255;c.set(v,n)}}}$[l]=120;$[l+1]=156;l+=2;var g=pako.deflateRaw(c,{azR:4});
$.set(g,l);l+=g.length+4}else console.log("Unknown compression: "+k);return l};dZ.abn=function(F,r,$,C,M,l,k,d){if(!(F instanceof Uint8Array)||!(r instanceof Uint8Array))throw"e";
var I=l,c=C|0;if(d){if(k==2)for(var O=0;O<c;O++){var Q=P.IX(F,M+(O<<1));dZ.o6(F,l,Q,r,O*$,$);l+=Q}else for(var O=0;
O<c;O++){var Q=P.cA(F,M+(O<<2));dZ.o6(F,l,Q,r,O*$,$);l+=Q}}else{if(k==2)for(var O=0;O<c;O++){var Q=P.G2(F,M+(O<<1));
dZ.o6(F,l,Q,r,O*$,$);l+=Q}else for(var O=0;O<c;O++){var Q=P.dj(F,M+(O<<2));dZ.o6(F,l,Q,r,O*$,$);l+=Q}}return l-I};
dZ.aeg=function(F,r,$,C,M,l,k){var d=l;if(k==2)for(var O=0;O<C;O++){var I=dZ.a9T(F,O*$,$,r,l);P.N2(r,M+O*2,I);
l+=I}else for(var O=0;O<C;O++){var I=dZ.a9T(F,O*$,$,r,l);P.us(r,M+O*4,I);l+=I}return l-d};dZ.a9T=function(F,r,bU,$,C){var M,l,k,d,I,bn,c;
d=r+bU;for(k=r,l=C;bU>0;k=M,bU-=bn){c=bU<128?bU:128;if(k<=d-3&&F[k+1]==F[k+0]&&F[k+2]==F[k+0]){for(M=k+3;
M<k+c&&F[M]==F[k+0];)++M;bn=M-k;$[l++]=1+256-bn;$[l++]=F[k+0]}else{for(M=k;M<k+c;)if(M<=d-3&&F[M+1]==F[M+0]&&F[M+2]==F[M+0])break;
else++M;bn=M-k;$[l++]=bn-1;for(var O=0;O<bn;O++)$[l+O]=F[k+O];l+=bn}}return l-C};dZ.o6=function(F,r,$,C,M,l){for(var k=0;
k<$;){var bU=F[r++];if(bU>=128){var d=F[r++],I=M+(257-bU);C.fill(d,M,I);M=I;k+=2}else{for(var O=0;O<=bU;
O++)C[M+O]=F[r+O];r+=bU+1;M+=bU+1;k+=1+1+bU}}};function c8(){}c8.aEw=function(F){if(F.Wh.r1005){F.YV=P.ye(F.Wh.r1005,0)}if(F.Wh.r1025){var r=F.Wh.r1025;
delete F.Wh.r1025;var $=fW.Hv(r,0,r.length,F.r,F.$),C=new Z.kf;C.M=$;F.S8[0]=kQ.dK("Work Path",{vmsk:C})}if(F.Wh.r1026){var M=F.Wh.r1026;
for(var O=0;O<M.length;O+=2){var l=F.u[O>>>1];if(l)l.Q8=P.G2(M,O)}}if(F.Wh.r1032){F.oT=go.aeL(F.Wh.r1032,0)}delete F.Wh.r1036;
F.u4(F.Wh.r1039);if(F.Wh.r1045){F.fg=[];var k=F.Wh.r1045,d=0;while(d<k.length){var I=P.OH(k,d);F.fg.push(I);
d+=4+2+I.length*2}}if(F.Wh.r1050){var c=P.dj,Q=F.Wh.r1050,x=P.dj(Q,0);if(x==6){var d=4,U=P.$K(Q,d);d+=16;
var S=P.bF(Q,d);d+=4+S.length*2;var z=c(Q,d);d+=4;var V=F.a3;for(var O=0;O<z;O++){var t=B.ft.j9(),i;
V.push(t);t=t.v;t.sliceID.v=c(Q,d);d+=4;t.groupID.v=c(Q,d);d+=4;var Y=c(Q,d);d+=4;if(Y==1){i=c(Q,d);
d+=4}var S=P.bF(Q,d);d+=4+S.length*2;var J=c(Q,d);d+=4;var H=[c(Q,d),c(Q,d+4),c(Q,d+8),c(Q,d+12)];d+=16;
B.ft.ow(V,V.length-1,H);var v=t.url.v=P.bF(Q,d);d+=4+v.length*2;var n=t.null.v=P.bF(Q,d);d+=4+n.length*2;
var G=t.Msge.v=P.bF(Q,d);d+=4+G.length*2;var g=t.altTag.v=P.bF(Q,d);d+=4+g.length*2;t.cellTextIsHTML.v=Q[d]==1;
d++;var W=t.cellText.v=P.bF(Q,d);d+=4+W.length*2;var L=c(Q,d);d+=4;var b=c(Q,d);d+=4;var T=Q.slice(d,d+4);
d+=4;if(Y!=2)V.pop()}}else if(x==8){var a={},R=new cS(0,0,F.r,F.$);j4.EN(Q,a,8,!1);var Q=F.a3=a.slices.v;
for(var O=0;O<Q.length;O++){var D=B.ft.ck(Q,O),h=new cS(D[0],D[1],D[2]-D[0],D[3]-D[1]);if(Q[O].v.origin.v.ESliceOrigin!="userGenerated"||h.R7(R).XS()){Q.splice(O,1);
O--}}}}if(F.Wh.r1058){var K=F.Wh.r1058,X=UTIF.decode(K.buffer,{parseMN:!1,debug:!1});hf.LL(X[0],F.wM);
delete F.Wh.r1058}if(F.Wh.r1060){var w=P.qV(F.Wh.r1060);hf.VH(w,F.wM);delete F.Wh.r1060}if(F.Wh.r1065){var M=F.Wh.r1065;
F.on={};j4.EN(M,F.on,4,!1)}if(F.Wh.r1069){var M=F.Wh.r1069,N=[];for(var O=2;O<M.length;O+=4){var i=P.dj(M,O);
for(var s=0;s<F.u.length;s++){var l=F.u[s];if(l.add.lyid==i&&l.add.lsct!=3&&N.indexOf(s)==-1)N.push(s)}}F.K=N}if(F.Wh.r1072){var M=F.Wh.r1072;
for(var O=0;O<M.length;O++){var l=F.u[O];if(l)l.VU=M[O]==1}}if(F.Wh.r1073){var M=F.Wh.r1073,d=0,A=P.Dm(M,d);
d+=4;var p=P.Dm(M,d);d+=4;for(var O=0;O<p;O++){F.wa.push({y:A>=2?P.LC(M,d+2):P.ye(M,d+2),x:A>=2?P.LC(M,d+6):P.ye(M,d+6)});
d+=14}delete F.Wh.r1073}if(F.Wh.r1074){F.ok={};j4.EN(F.Wh.r1074,F.ok,4,!1);delete F.Wh.r1074}var q,f,jN=null;
if(F.Wh.r3000){q={};j4.EN(F.Wh.r3000,q,4,!1);delete F.Wh.r3000}if(F.add.pths){f=F.add.pths;delete F.add.pths}for(var e=0;
e<=997;e++){var o="r"+(2e3+e),r=F.Wh[o];if(r==null)break;var $=fW.Hv(r,0,r.length,F.r,F.$),E="Path "+e,cj=[0,0];
if(f){var u=f.pathList.v[e].v,cd=u.pathSymmetryClass;if(cd){cd=cd.v;var m=cd.pathSymmetryMode.v.pathSymmetryModeEnum.slice(16),z=cd.pathSymmetryCount;
cj=[j.q1.aqd.indexOf(m),z?z.v:0]}E=u.pathUnicodeName.v}var aZ=q?q.keyRootDescriptorList.v[e].v.keyDescriptorList.v:Z.ud($),C=new Z.kf;
C.M=$;F.S8.push(kQ.dK(E,{vmsk:C,vogk:aZ},cj));delete F.Wh[o]}if(f){var eh=f.pathSymmetrySelectedPath;
if(eh)jN=F.S8[eh.v+1]}for(var O=0;O<F.S8.length;O++)if(F.S8[O].h7[0]==3){F.S8.splice(O,1);O--}if(jN){if(jN.h7[0]==3)F.pc=!0;
else F.D3=F.S8.indexOf(jN)}delete F.Fd;if(F.Wh.r4000){F.k2=j.k2.CO(F.Wh.r4000)}var iA=F.Wh.r7000,hd=F.Wh.r7001;
if(iA){var I=P.qV(iA);F.aS=go.aFO(I)}if(hd){var I=P.qV(hd);F.Xo=go.aES(I)}delete F.Wh.r7000;delete F.Wh.r7001};
c8.aCA=function(F,r,$){F.Wh.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);P.a5Y(F.Wh.r1005,0,F.YV);
P.a5Y(F.Wh.r1005,8,F.YV);if(F.wa.length>0){var C=F.wa;F.Wh.r1073=new Uint8Array(8+C.length*14);P.ri(F.Wh.r1073,0,3);
P.ri(F.Wh.r1073,4,C.length);for(var O=0;O<C.length;O++){var M=8+14*O;P.HE(F.Wh.r1073,M,14);P.c7(F.Wh.r1073,M+2,C[O].y);
P.c7(F.Wh.r1073,M+6,C[O].x);P.HE(F.Wh.r1073,M+10,-1);P.HE(F.Wh.r1073,M+12,8)}}if(F.c1()){F.Wh.r1022=new Uint8Array([0,3+F.Bs.length-1,0])}else delete F.Wh.r1022;
var l=new Uint8Array(F.u.length*2),k=0,d=new Uint8Array(F.u.length),I=1,M=16;for(var O=0;O<F.u.length;
O++){var c=F.u[O],Q=c.Q8,x=c.VU?1:0;P.N2(l,O*2,Q);d[O]=x;if(Q>k)k=Q;if(x==0)I=0}if(k>0)F.Wh.r1026=l;
if(I<1)F.Wh.r1072=d;var U=F.oT,S=U.length,z=F.Wh.r1032=new Uint8Array(16+5*S);P.us(z,0,1);P.us(z,4,576);
P.us(z,8,576);P.us(z,12,S);for(var O=0;O<S;O++){P.ri(z,M,Math.round(U[O][1]*32));z[M+4]=U[O][0];M+=5}if(r[4]!=!0){var V=[F.Ez(),new cS(0,0,F.r,F.$)],t=0;
j.zY(V);while(V[t+1].C()>200*200)t+=2;var Y=dN.LD("jpg"),i=V[t+1],J=new Uint8Array(Y.x2([[V[t].buffer,null,F.YV]],i.r,i.$)),z=F.Wh.r1036=new Uint8Array(28+J.length);
P.us(z,0,1);P.us(z,4,i.r);P.us(z,8,i.$);P.us(z,12,i.r*3);P.us(z,16,i.C()*3);P.us(z,20,J.length);P.N2(z,24,24);
P.N2(z,26,1);z.set(J,28)}delete F.Wh.r1045;delete F.Wh.r1006;delete F.Wh.r1077;var H=new eo;M=0;var v=new Uint8Array(4+$.length*13);
v[3]=1;for(var O=0;O<$.length;O++){var n=$[O],G=n.name+"\0";P.xx(H,M,G);M+=4+G.length*2;var g=4+O*13;
jE.ix(v,g,n.$d);v[g+11]=n.Dj;v[g+12]=n.wV}if(M!=0)F.Wh.r1045=H.data.slice(0,M);F.Wh.r1077=v;for(var O=0;
O<F.a3.length;O++)F.a3[F.a3.length-O-1].v.sliceID.v=2+O*3;var W={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:F.a3}},H=new eo;
P.j5(H,0,8);P.j5(H,4,16);var L=j4.kv(H,W,8);F.Wh.r1050=H.data.slice(0,L+8);var H=new eo;P.j5(H,0,16);
var L=j4.kv(H,F.on,4);F.Wh.r1065=H.data.slice(0,L+4);if(F.ok){var H=new eo;P.j5(H,0,16);var L=j4.kv(H,F.ok,4);
F.Wh.r1074=H.data.slice(0,L+4)}var b=F.K;z=F.Wh.r1069=new Uint8Array(2+b.length*4);P.N2(z,0,b.length);
for(var O=0;O<b.length;O++)P.us(z,2+4*O,F.u[b[O]].add.lyid);delete F.Wh.r1058;delete F.Wh.r1060;if(Object.keys(F.wM).length!=0){var T=[[Math.round(F.YV*1e4),1e4]],a=[{t274:[1],t282:T,t283:T,t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
hf.Yp(F.wM,a[0],r[0]&&r[1]);F.Wh.r1058=new Uint8Array(UTIF.encode(a));var R=hf.qu(F.wM);F.Wh.r1060=P.V4(R)}var D=[],h=[],K=F.S8.slice(0);
if(F.pc){var X=fW.akK([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),w=new Z.kf;
w.M=X;K.push(kQ.dK("Tile Symmetry 1",{vmsk:w,vogk:Z.ud(X)},[3,1]))}var N=F.pc?F.S8.length-1:F.D3-1;for(var O=0;
O<K.length;O++){var s=K[O],X=s.add.vmsk.M;if(O==0&&X.length==2)continue;var A=j.j(X.length*26);fW.ai(A,0,X,F.r,F.$);
var p=O==0?1025:2e3+O-1;F.Wh["r"+p]=A;if(O!=0){var q={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:s.name}},f=q.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryMode"+j.q1.aqd[s.h7[0]]}}}};
if(s.h7[1]!=0)f.v.pathSymmetryCount={t:"long",v:s.h7[1]};D.push({t:"Objc",v:q});h.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:s.add.vogk}}})}}if(D.length!=0){F.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:D}};
if(N!=-1)F.add.pths.pathSymmetrySelectedPath={t:"long",v:N};h={classID:"null",keyRootDescriptorList:{t:"VlLs",v:h}};
var H=new eo;P.j5(H,0,16);var L=j4.kv(H,h,4);F.Wh.r3000=H.data.slice(0,L+4)}else{delete F.add.pths;delete F.Wh.r3000}if(F.k2&&F.k2.length!=0){F.Wh.r4000=j.k2.Gk(F.k2)}if(F.aS.length!=0){var e="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var O=0;O<F.aS.length;O++){var o=F.aS[O],E=[];for(var p in o)E.push(p+"=\""+o[p]+"\"");e+="<variable "+E.join(" ")+">\n</variable>\n"}e+="</variables>\n</variableSet>\n</variableSets>";
F.Wh.r7000=P.V4(e)}if(F.Xo.length!=0){var e="<sampleDataSets psdPath=\""+F.name+"\">\n";for(var O=1;
O<F.Xo.length;O++){var cj=F.Xo[O];e+="<sampleDataSet dataSetName=\"Data Set "+O+"\">\n";for(var u=0;
u<cj.length;u++)e+="<"+F.Xo[0][u]+">"+cj[u].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+F.Xo[0][u]+">\n";
e+="</sampleDataSet>\n"}e+="</sampleDataSets>";F.Wh.r7001=P.V4(e)}};c8.aAD=function(F,r,$){var C=P.dj(r,$),M=0;
$+=4;var l=[];while(M<C){var k=P.BW(r,$+M,4);M+=4;var d=P.G2(r,$+M);M+=2;var I=P.TQ(r,$+M);M+=I.length;
if(k=="MeSa"&&(d==7e3||d==7001)){}else if(k!="8BIM"){l.push(d);console.log("Unknown Image Resources signature: "+k+", ID: "+d)}var c=P.dj(r,$+M);
M+=4;if(F.Wh["r"+d]!=null)console.log("--- two resources with same ID");F.Wh["r"+d]=P.Lr(r,$+M,c);M+=c+(c&1)}for(var O=0;
O<l.length;O++)delete F.Wh["r"+l[O]];delete F.Wh.r1092;return $+C};c8.aCR=function(F,r,$){var C=$,k=0;
$+=4;var M=[];for(var l in F.Wh){M.push(parseInt(l.slice(1)))}M.sort(function(x,U){return x-U});for(var O=0;
O<M.length;O++){var d=M[O];P.k6(r,$+k,d==7e3||d==7001?"MeSa":"8BIM");k+=4;P.ys(r,$+k,d);k+=2;var I=P.A1(r,$+k,"");
k+=I;var c=F.Wh["r"+d],Q=c.length;P.j5(r,$+k,Q);k+=4;P.Uo(r,$+k,c);k+=Q;if(Q%2==1)k++}P.j5(r,C,k);return $+k};
function go(){}go.Tw=function(F,r,$){return;var C="",M=r;while(M!=0){var l=M%1e3+"";while(l.length<3)l="0"+l;
C=(C==""?l:l+" ")+C;M=Math.floor(M/1e3)}while(C.startsWith("0")&&C!="0")C=C.slice(1);while(C.length<11)C=" "+C;
console.log("===",C,"\t".repeat(F),": "+$)};go.aeM=function(F){var r={Wh:{},add:{},depth:8},C=0,M=0,d;
r.Fd=!1;r.z_=8;var $=new Uint8Array(F);M=go.yT(r,$,C);C=M;M=go.akm(r,$,C);C=M;var l=P.dj($,C);C+=4+l;
var k=r.Fd?8:4;if(r.Fd)d=P.Zq($,C);else d=P.dj($,C);C+=k+d;M=go.aaw(r,$,C);return[{$Y:new cS(0,0,r.r,r.$),data:r.buffer.buffer}]};
go.CO=function(F,r){r.Fd=!1;var $=new Uint8Array(F),C=0,M=0,d=0,U=!1,S=!0,z=!1,V=0,jz=0;M=go.yT(r,$,C);
go.Tw(0,M-C,"PSD Header");C=M;M=go.akm(r,$,C);go.Tw(0,M-C,"Color Mode Data");C=M;M=c8.aAD(r,$,C);go.Tw(0,M-C,"Image Resources");
C=M;var l=C;M=go.a5u(r,$,C);go.Tw(0,M-C,"Layer And Mask Info");C=M;c8.aEw(r);var l=C;M=go.aaw(r,$,C);
go.Tw(0,M-C,"Merged Image");C=M;if(r.u.length==0){var k=r.at();k.Da("Background");r.u.push(k);k.buffer=r.buffer.slice(0);
k.S=new cS(0,0,r.r,r.$)}for(var O=0;O<r.u.length;O++){var M=r.u[O],I=M.add.lsct;if(I==jR.k9)d++;else if(I==jR.ul||I==jR.Xz)d--}while(d<0){r.u.unshift(r.fm());
d++}var c=new cS(0,0,r.r,r.$),Q=r.add.Txt2,x=Q;if(x){x=x.GB;if(x._DocumentResources==null)x=ak.a8A(x)}var t=-1;
for(var O=0;O<r.u.length;O++){var M=r.u[O],Y=M.add.lsct,i=M.add.vmsk,J=M.rc();if(Y==jR.k9){V++;M.add.lspf=0}else if(Y==jR.ul||Y==jR.Xz)V--;
if(M.name==""){M.name="Layer "+(O+1);z=!0}if(z&&M.EX()&&M.ww=="norm")M.ww="pass";if(M.XE()&&M.WZ(r)==null)delete M.add.SoLd;
if(M.XE()&&M.WZ(r).Lj){var H=M.WZ(r);H.Lj.isEnabled=M.add.SoLd.filterFX.v.filterMaskEnable.v}if(i&&M.Og()){var v=cK.Ok.Mv(!0);
if(M.add.vstk==null)M.add.vstk=j.N(v);else{var n="strokeStyleLineDashSet";if(M.add.vstk[n]==null)M.add.vstk[n]=j.N(v[n])}M.add.vstk.strokeStyleLineWidth.v.type="#Pxl";
M.add.vstk.strokeStyleResolution.v=r.YV}if(i&&(M.add.vogk==null||j.w.Us(i.M)!=M.add.vogk.length))M.ud();
if(!1){var G=M.add.vogk,g=!0;for(var W=0;W<G.length;W++){var L=G[W].v.keyShapeInvalidated;if(L==null||L.v==!1)g=!1}if(g)M.ud()}if(M.add.SoLd&&M.S.XS()){console.log("redrawing smart instance");
M.d7(r,null,null,!0,!0)}if(J==null&&M.Lj!=null){if(M.Lj.J6==!1){M.Lj.J6=!0;M.Ci=M.Lj.P()}}J=M.rc();if(M.yf){var v=M.yf,b=i;
if(J){J.nn=v[0];J.nN=v[1]}if(b){b.nn=v[2];b.nN=v[3]}M.yf=null}if(J!=null&&i!=null&&(J.nN+i.nN!=0||J.nn+i.nn!=2*255))M.uH(r);
else if(i!=null&&!M.Og())M.uH(r);else if(J&&J.nn!=255&&M.Og())M.uH(r);var T=M.add.artb;if(T&&T.artboardBackgroundType==null)T.artboardBackgroundType={t:"long",v:1};
if(T&&V!=0)delete M.add.artb;var a=M.add.vstk;if(M.Og()&&(M.S.XS()||i&&i.nN!=0||a&&!a.fillEnabled.v&&(!a.strokeEnabled.v||a.strokeStyleLineWidth.v.val==0)))M.Nx(r);
if(M.add.TySh){U=!0;if(!M.S.XS())S=!1}if(M.add.TySh&&x){t++;var R=M.add.TySh.$E,D=ho.AA(R),h=x._DocumentObjects._TextObjects;
if(h.length<=t){console.log("Txt2 incomplete");continue}var K=h[t]._Model,X=K._StyleRun?K._StyleRun._RunArray:[],w=R.EngineDict.StyleRun.RunArray;
for(var N=0;N<w.length;N++){var s=w[N].StyleSheet.StyleSheetData;if(X[N]==null)continue;var A=X[N]._RunData._StyleSheet._Features;
if(A){if(A._BaselineDirection)s.BaselineDirection=parseInt(A._BaselineDirection.slice(1));if(A._FillBackgroundFlag)s._FillBackgroundFlag=A._FillBackgroundFlag;
if(A._FillBackgroundColor)s._FillBackgroundColor={Type:1,Values:l1.ko(A._FillBackgroundColor._Color._Values)};
var I=ho.gO;for(var p=0;p<I.length;p++)if(A[I[p]]!=null)s[I[p]]=A[I[p]];var q=["_LineCap","_LineJoin","_MiterLimit","_LineDashOffset"];
for(var p=0;p<q.length;p++)if(A[q[p]]!=null)s[q[p]]=parseFloat(A[q[p]].slice(1));if(A._MiterLimit!=null)s._MiterLimit=Math.max(s._MiterLimit,1);
if(A._LineDashArray!=null)s._LineDashArray=l1.ko(A._LineDashArray)}}var f=R.EngineDict.ParagraphRun.RunArray,e=K._ParagraphRun._RunArray;
if(e==null)e=[];var o=Math.min(e.length,f.length);for(var p=0;p<o;p++){var E=f[p].ParagraphSheet.Properties,cj=x._DocumentResources._ParagraphSheetSet._Resources,u=e[p]._RunData._ParagraphSheet;
if(typeof u=="string")u=cj[parseInt(u.slice(1))]._Resource;var cd=u._Parent==null?u:cj[parseInt(u._Parent.slice(1))]._Resource;
u=u._Features;cd=cd._Features;var m=u._ParagraphDirection;if(m==null)m=cd._ParagraphDirection;if(m)E._Direction=parseInt(m.slice(1));
if(u._ComposerEngine)E._ComposerEngine=parseInt(u._ComposerEngine.slice(1))}if(K._AlternateGlyphRun){var e=K._AlternateGlyphRun._RunArray,o=e.length,aZ=R.EngineDict.AlternateGlyphRun=ho.a3a();
for(var p=0;p<o;p++){var u=e[p],jN={},eh=u._RunData._AlternateGlyphSheet;if(eh)jN.Glyph=parseInt(eh._Glyph.slice(1));
aZ.RunArray.push(jN);aZ.RunLengthArray.push(parseInt(u._Length.slice(1)))}}var iA=x._DocumentResources,hd=iA._TextFrameSet._Resources,kx=hd[t]._Resource,b0=kx._Data,gX=new hS(1,0,0,1,0,0);
if(kx._0){var j$=parseFloat(kx._0[0].slice(1)),i0=parseFloat(kx._0[1].slice(1));gX.translate(j$,i0)}if(D){gX.translate(D[0],D[1]);
ho.SB(R,[0,0,D[2]-D[0],D[3]-D[1]])}else{if(kx._Bezier&&kx._Bezier._Points){var f7=kx._Bezier._Points,j$=parseFloat(f7[0].slice(1)),i0=parseFloat(f7[1].slice(1));
if(j$!=0||i0!=0){gX.translate(j$,i0)}}}if(kx._Data&&kx._Data._FrameMatrix){var am=kx._Data._FrameMatrix;
am=am.map(function(c1){return parseFloat(c1.slice(1))});gX.concat(new hS(am[0],am[1],am[2],am[3],am[4],am[5]))}gX.concat(M.add.TySh.U);
M.add.TySh.U=gX;var gf=b0._Type?parseInt(b0._Type.slice(1)):0;if(gf==2||gf==1&&b0._PathData&&b0._PathData._Spacing=="i-3")if(kx._Bezier){var cC=function(c1){return parseFloat(c1.slice(1))},f7=kx._Bezier._Points.map(cC);
if(D)j.b.U(f7,new hS(1,0,0,1,-D[0],-D[1]),f7);var aD=b0._PathData?b0._PathData._Reversed:!1,c_=b0._TextOnPathTRange;
if(c_==null)c_=["f-3","f-3"];R.Curve={Points:f7,TextOnPathTRange:c_.map(cC),Reversed:aD==null?!1:aD};
M.add.TySh.add={vmsk:new Z.kf,vogk:null};ho.iC(M.add.TySh)}if(b0._LineOrientation=="i2")R._LineOrientation=2}}B.Or.d$(r,!0);
var a9={},g3=[];for(var O=0;O<r.u.length;O++){var e3=r.u[O].add.lyid;if(e3==null)continue;var jz=Math.max(jz,e3);
if(a9[e3]!=null)g3.push(O);else a9[e3]=!0}for(var O=0;O<g3.length;O++)r.u[g3[O]].add.lyid=jz+1+O};go.aeL=function(F,r){r+=12;
var $=P.dj(F,r),C=[];r+=4;$=Math.min($,Math.floor((F.length-r)/5));for(var O=0;O<$;O++){var M=Math.min(F[r+O*5+4],1),l=P.Dm(F,r+O*5)/32;
C.push([M,l])}return C};go.aFO=function(F){var r=new DOMParser,$=r.parseFromString(F,"text/xml").firstChild.children[0],C=$.getElementsByTagName("variables");
if(C.length==0)return[];C=C[0].children;var M=[],l="varName trait docRef placementMethod align valign clip".split(" ");
for(var k=0;k<C.length;k++){var d=C[k],I={};M.push(I);for(var c=0;c<l.length;c++){var Q=l[c],x=d.getAttribute(Q);
if(x==null)continue;I[Q]=x}}return M};go.aES=function(F){var r=new DOMParser,$=r.parseFromString(F,"text/xml").firstChild.children,C=[[]];
if($==null)return C;for(var O=0;O<$.length;O++){var M=$[O],l=[];C.push(l);for(var k=0;k<M.children.length;
k++){var d=M.children[k];if(O==0)C[0].push(d.tagName);l.push(d.textContent)}}return C};go.Gk=function(F,r,$){B.Or.PA(F);
B.Or.d$(F,!1);F.Fd=$[3]==!0;var C=[],M=[],V=0;for(var O=0;O<F.u.length;O++){var l=F.u[O];if(l.XE()&&l.WZ(F).Lj){l.add.SoLd.filterFX.v.filterMaskEnable.v=l.WZ(F).Lj.isEnabled}if(l.add.TySh){var k=l.add.TySh.$E,d=ho.C9(k);
l.add.TySh.Yb.TextIndex={t:"long",v:C.length};C.push(k);if(d==2)ho.tq(l.add.TySh)}var I=l.add.vstk;if(I)I.strokeStyleResolution.v=F.YV;
if(l.Og()||$[2]&&l.add.SoLd){M[O]=[l.S,l.buffer];l.S=new cS;l.buffer=j.j(0);if(l.add.SoLd){var c=l.WZ(F);
if(c!=null){M[O].push(c.buffer);c.buffer=j.j(c.buffer.length)}}}}if(C.length>0){var Q=F.add.Txt2?F.add.Txt2.GB:null;
if(F.add.Txt2==null)F.add.Txt2={};F.add.Txt2.GB=l1.ag3(C,null,Q)}var x=[F.add.lnk2,F.add.FEid,F.add.Patt],U=F.arE(F.u);
F.aJh(U);var S=j.Q3(F.buffer);if(F.add.fcmy)S=!1;var z=[];if(S)z.push({name:"Transparency",$d:{t:255,L:0,X:0},Dj:100,wV:1});
z=z.concat(F.Bs);c8.aCA(F,$,z);V=go.aDu(F,r,V,3+z.length);V=go.a7Q(F,r,V);V=c8.aCR(F,r,V);V=go.aHs(F,r,V,$,S);
V=go.awo(F,r,V,$[0],S);var t=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var O=0;O<t.length;O++)delete F.Wh["r"+t[O]];for(var O=0;O<F.u.length;O++){var l=F.u[O];if(l.Og()||$[2]&&l.add.SoLd){l.S=M[O][0];
l.buffer=M[O][1];if(M[O][2]){var c=l.WZ(F);M[O].push(c.buffer);c.buffer=M[O][2]}}}F.aJh(x);B.Or.d$(F,!0);
delete F.Fd;return V};go.yT=function(F,r,$){var C=P.BW(r,$,4);$+=4;if(C!="8BPS")alert("invalid header signature: "+C);
var M=P.G2(r,$);$+=2;F.Fd=M==2;if(M!=1&&M!=2)alert("invalid version: "+M);$+=6;F.yH=P.G2(r,$);$+=2;F.$=P.Dm(r,$);
$+=4;F.r=P.Dm(r,$);$+=4;F.z_=P.G2(r,$);if(jV)F.depth=F.z_;$+=2;F.zX=P.G2(r,$);$+=2;return $};go.aDu=function(F,r,$,C){var M=F.add.fcmy==1;
r.cq(0,64);P.o9(r.data,$,"8BPS");$+=4;P.N2(r.data,$,F.Fd?2:1);$+=2;P.us(r.data,$,0);$+=4;P.N2(r.data,$,0);
$+=2;P.N2(r.data,$,C+(M?1:0));$+=2;P.ri(r.data,$,F.$);$+=4;P.ri(r.data,$,F.r);$+=4;P.N2(r.data,$,F.depth);
$+=2;P.N2(r.data,$,M?4:3);$+=2;return $};go.akm=function(F,r,$){var C=P.Dm(r,$);$+=4;if(C!=0)F.YM=r.slice($,$+C);
$+=C;return $};go.a7Q=function(F,r,$){if(F.depth==32){var C=new Uint8Array([104,100,114,116,0,0,0,3,62,107,133,31,0,0,0,2,0,0,0,7,0,76,0,105,0,110,0,101,0,97,0,114,0,0,0,2,0,2,0,0,0,0,0,255,0,255,1,1,0,0,0,0,0,0,0,0,65,128,0,0,0,0,0,1,0,0,0,0,63,128,0,0,104,100,114,97,0,0,0,6,0,0,0,0,65,160,0,0,65,240,0,0,0,0,0,0,0,0,0,0,63,128,0,0,0,0,0,0,0,0]);
P.eT(r,$,C.length);$+=4;r.cq($,C.length);r.data.set(C,$);$+=C.length}else{P.eT(r,$,0);$+=4}return $};
go.a5u=function(F,r,$){var C=$,M,l,k=F.Fd?8:4;if(F.Fd)M=P.Zq(r,$);else M=P.dj(r,$);$+=k;if(M==0)return C+k;
l=go.acY(F,r,$);go.Tw(1,l-$,"Layer Info");$=l;l=go.aeo(F,r,$);go.Tw(1,l-$,"Global Layer Mask Info");
$=l;l=iE.DW(r,$,C+k+M,F.add,F.Fd,F);go.Tw(1,l-$,"Project Add Info");$=l;return C+k+M};go.aHs=function(F,r,$,C,M){var l=$;
P.j5(r,$,0);$+=4;if(F.Fd){P.j5(r,$,0);$+=4}$=go.a9c(F,r,$,C,M);$=go.aps(F,r,$);var k=F.add;if(F.depth!=8){k={};
k["Lr"+F.depth]={};for(var d in F.add)k[d]=F.add[d]}$=iE.eB(r,$,k,F.Fd,F);if(F.Fd)P.Lq(r,l,$-l-8);else P.j5(r,l,$-l-4);
return $};go.acY=function(F,r,$){var C,M=F.Fd?8:4;if(F.Fd)C=P.Zq(r,$);else C=P.dj(r,$);$+=M;if(C!=0)go.Jv(F,r,$);
return $+C};go.Jv=function(F,r,$,C){var M=$,l=C?P.nv:P.O4,k=l(r,$);$+=2;var d=Math.abs(k);for(var O=0;
O<d;O++){var I=new Z;$=hN.CO(I,F,r,$,C);F.u[O]=I}var c=new cS(0,0,F.r,F.$);for(var O=0;O<d;O++){var Q=F.u[O],x=Q.rc(),U=dZ.CO(Q,F,r,$,C);
if(U-$>8)go.Tw(2,U-$,"Lay: "+Q.getName());$=U;go.afN(Q,c);if(x)go.afN(x,c)}};go.afN=function(F,r){};
go.a9c=function(F,r,$,C,M){var l=$,k=F.Fd;$+=k?8:4;if(F.depth==8)$=go.azo(F,r,$,C,M);var d=$-l-(k?8:4);
if(d%2!=0)d++;if(k)P.Lq(r,l,d);else P.j5(r,l,d);return l+d+(k?8:4)};go.azo=function(F,r,$,C,M){var l=F.u.length;
P.Yo(r,$,M?-l:l);$+=2;var k=[];for(var O=0;O<l;O++)$=hN.Gk(F.u[O],F,r,$,k);for(var O=0;O<l;O++)$=dZ.Ns(F.Fd,F.u[O],r,$,k[O],C,F.add.fcmy==1);
return $};go.aeo=function(F,r,$){var C=P.dj(r,$);$+=4;$+=C;return $};go.aps=function(F,r,$){var C=P.j5(r,$,0);
$+=4;return $};go.aaw=function(F,r,$){var C=F.zX,M="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),l=[1,1,1,3,4,1,1,3],x;
delete F.add.fcmy;if(C!=3){if(C==1||C==2||C==4)console.log("Project will be converted from "+M[C]+" to "+M[3]+" mode.");
else{alert("Color mode "+M[C]+" is not supported yet :(")}if(C==4)F.add.fcmy=1}var k=l[C]+(F.fg==null||F.fg[0]=="Transparency"?1:0),d=F.r,I=F.$,c=d*I,Q=P.G2(r,$);
$+=2;F.buffer=j.j(c*4,F.depth);j.SP(F.buffer,1);var U=$;for(var S=0;S<F.yH;S++){if(Q==0){x=dZ.Ru(F.Fd,F.z_,r,d,I,$,Q);
x=j.Mz(x,F.depth);$+=c*(F.z_>>>3)}else if(Q==1){var z=F.z_==8?1:F.z_==16?2:4;x=j.j(c*z);var V=F.Fd?4:2;
if(S==0)$+=F.yH*I*V;$+=dZ.abn(r,x,d*z,I,U+S*I*V,$,V);if(F.z_==16){for(var O=0;O<x.length;O+=2){var t=x[O];
x[O]=x[O+1];x[O+1]=t}x=new Uint16Array(x.buffer)}if(F.z_==32){for(var O=0;O<x.length;O+=4){var t=x[O];
x[O]=x[O+3];x[O+3]=t;t=x[O+1];x[O+1]=x[O+2];x[O+2]=t}x=new Float32Array(x.buffer)}x=j.Mz(x,F.depth)}else{console.log("unknown compression of image data: ",Q);
return}if(S<k){j.dr(x,F.buffer,S);if(F.yH==1&&S==0){j.dr(x,F.buffer,1);j.dr(x,F.buffer,2)}}else{var Y=new Z.tp,i=S-k,J=S-l[F.zX];
Y.name=F.fg?F.fg[J]:"Alpha";if(Y.name=="Quick Mask"){Y.Nn=!0;F.GY.push(i)}Y.S=new cS(0,0,d,I);Y.G=x;
Y.color=0;Y.uF();F.Bs[i]=Y;if(F.Wh.r1077){var H=F.Wh.r1077.slice(4+J*13);Y.$d=jE.Eq(H,0);Y.Dj=H[11];
Y.wV=H[12];if(Y.wV==2)Y.Nn=!0}}}F.yH=4;if(F.zX==2)for(var O=0;O<c;O++){var v=O*4,n=F.buffer[v];F.buffer[v]=F.YM[0+n];
F.buffer[v+1]=F.YM[256+n];F.buffer[v+2]=F.YM[512+n]}return $};go.awo=function(F,r,$,C,M){var l=1,k=16,d=F.r,I=F.$,Q,x,U;
P.ys(r,$,l);$+=2;if(F.depth!=8)C=!0;var c=d*I;if(!C){x=new j.fJ(d*I);j.t9(F.buffer,x);var S=x.t,z=x.L,V=x.X,t=x.xz;
for(var O=0;O<c;O++){var Y=t[O]*(1/255);S[O]=~~(S[O]*Y+255*(1-Y));z[O]=~~(z[O]*Y+255*(1-Y));V[O]=~~(V[O]*Y+255*(1-Y))}U=[x.t,x.L,x.X];
if(F.add.fcmy==1){U.push(j.j(c));var i=F.buffer.slice(0);j.afx(i);j.t9(i,{t:U[0],L:U[1],X:U[2],xz:U[3]})}if(M)U.push(x.xz)}else{Q=j.j(c,F.depth);
if(F.depth==16)Q.fill(65535);U=[Q,Q,Q];if(F.add.fcmy==1)U.push(Q);if(M)U.push(Q)}for(var O=0;O<F.Bs.length;
O++){U.push(F.Bs[O].JL(new cS(0,0,F.r,F.$)))}var J=$;for(var H=0;H<U.length;H++){r.cq($,d*I+4);Q=U[H];
if(l==0||l==2||l==3)$=dZ.Ob(F.Fd,Q,r.data,d,I,$,l);else{var v=new Uint8Array(Q.buffer),n=d*(F.depth>>>3),G=F.Fd?4:2;
if(H==0)$+=U.length*I*G;var g=$;$+=dZ.aeg(v,r.data,n,I,J+H*I*G,$,G)}}return $};function kK(){}kK.CO=function(F){var r={};
kK.Bj(F,r,0,0);return r};kK.Gk=function(F,r){var $=0;$=kK.Rk(F,r,$,0);return $};kK.Bj=function(F,r,$,C){while(F[$]!="<".charCodeAt(0))$++;
$+=2;while(!0){if(F[$]=="/".charCodeAt(0)){$++;var M=P.indexOf(F," ".charCodeAt(0),$,$+50),l=P.indexOf(F,"\n".charCodeAt(0),$,$+50);
if(l==-1)l=Infinity;if(M==-1)M=Infinity;var k=Math.min(l,M),d=P.BW(F,$,k-$),I=kK.wf(F,k+1,C+1,d);r[d]=I.Y;
$=k+1;$+=I.size}else if(F[$]==">".charCodeAt(0)){$+=2;break}else{var c=F[$];if(c==10||c==9||c==32)$++;
else{console.log("unknown byte: "+c+", char: "+String.fromCharCode(c),$);$++}}}return $};kK.Rk=function(F,r,$,C){P.k6(r,$,"<<\n");
$+=3;var M=kK.aBb;for(var l in F){P.y0(r,$,"\t".charCodeAt(0),C+1);$+=C+1;P.k6(r,$,"/"+l);$+=1+l.length;
if(M(F[l])||F[l]instanceof Array){P.k6(r,$," ");$++}else{P.k6(r,$,"\n");$++;P.y0(r,$,"\t".charCodeAt(0),C+1);
$+=C+1}$=kK.nk(F[l],r,$,C+1);P.k6(r,$,"\n");$++}P.y0(r,$,"\t".charCodeAt(0),C);$+=C;P.k6(r,$,">>");$+=2;
return $};kK.wf=function(F,r,$,C){var M=r,l={size:0,Y:0};while(!0){while(F[r]==" ".charCodeAt(0)||F[r]=="\t".charCodeAt(0)||F[r]=="\n".charCodeAt(0))r++;
if(F[r]=="<".charCodeAt(0)){l.Y={};r=kK.Bj(F,l.Y,r,$+1);break}else if(F[r]=="(".charCodeAt(0)){r+=3;
var k=r;while(!0){if(F[k-1]!="\\".charCodeAt(0)&&F[k]==")".charCodeAt(0)&&(F[k+1]=="\n".charCodeAt(0)||F[k+1]==" ".charCodeAt(0)))break;
else k++}l.Y=P.aIM(F,r,k);r=k+2;break}else if(F[r]=="[".charCodeAt(0)){r++;l.Y=[];while(F[r]==" ".charCodeAt(0)||F[r]=="\t".charCodeAt(0)||F[r]=="\n".charCodeAt(0))r++;
while(F[r]!="]".charCodeAt(0)){var d=kK.wf(F,r,$+1,C);l.Y.push(d.Y);r+=d.size;while(F[r]==" ".charCodeAt(0)||F[r]=="\t".charCodeAt(0)||F[r]=="\n".charCodeAt(0))r++}r++;
break}else{var I=P.indexOf(F," ".charCodeAt(0),r,r+50),c=P.indexOf(F,"\n".charCodeAt(0),r,r+50);if(c==-1)c=Infinity;
if(I==-1)I=Infinity;var Q=P.BW(F,r,Math.min(I,c)-r).trim(),x=parseFloat(Q);if(!isNaN(x)){l.Y=parseFloat(Q);
r=Math.min(I,c)+1;break}else if(Q=="true"||Q=="false"){l.Y=Q=="true";r=Math.min(I,c)+1;break}else if(Q=="null"||Q=="NaN"||Q=="undefined"){l.Y=0;
r=Math.min(I,c)+1;break}else{console.log("unknown identifier: "+Q);throw"e"}r=Math.min(I,c)+1}}l.size=r-M;
return l};kK.nk=function(F,r,$,C){if(F instanceof Array){var M=F.length==0||typeof F[0]=="number";if(M){P.k6(r,$,"[ ");
$+=2;for(var O=0;O<F.length;O++){var l=F[O]+" ";P.k6(r,$,l);$+=l.length}P.k6(r,$,"]");$+=1}else{P.k6(r,$,"[\n");
$+=2;for(var O=0;O<F.length;O++){P.y0(r,$,"\t".charCodeAt(0),C);$+=C;$=kK.nk(F[O],r,$,C);P.k6(r,$,"\n");
$++}P.y0(r,$,"\t".charCodeAt(0),C);$+=C;P.k6(r,$,"]");$+=1}}else if(F instanceof Object){$=kK.Rk(F,r,$,C)}else if(typeof F=="string"){P.k6(r,$,"(");
$++;P.y0(r,$,254);$++;P.y0(r,$,255);$++;$=P.az3(r,$,F);P.k6(r,$,")");$+=1}else{var l=F+"";P.k6(r,$,l);
$+=l.length}return $};kK.aBb=function(F){var r=typeof F;return r=="string"||r=="number"||r=="boolean"};
function bs(){}bs.CO=function(F){var r={};bs.aFu(F,r,0,0);return r};bs.Gk=function(F,r){var $=0;P.k6(r,$," ");
$++;$=bs.a7p(F,r,$,0);$--;r.cq($,2);r.data[$]=r.data[$+1]=0;$+=2;return $};bs.Bj=function(F,r,$,C){while(F[$]!="<".charCodeAt(0)){$++;
console.log("šipka")}$+=2;$=bs.aFu(F,r,$,C);return $};bs.Rk=function(F,r,$,C){P.k6(r,$,"<< ");$+=3;$=bs.a7p(F,r,$,C);
P.k6(r,$,">>");$+=2;return $};bs.Tk=function(F){return F==9||F==10||F==32};bs.aFu=function(F,r,$,C){while(!0){while(bs.Tk(F[$])||F[$]==0)$++;
if($>=F.length)break;if(F[$]=="/".charCodeAt(0)){$++;var M=$;while(!bs.Tk(F[M]))M++;var l=P.BW(F,$,M-$);
$=M+1;var k=bs.wf(F,$,C,l);r["_"+l]=k.Y;$+=k.size}else if(F[$]==">".charCodeAt(0)){$+=2;break}else{var d=F[$];
console.log(P.BW(F,$,$+100));console.log("unknown byte: "+d+", char: "+String.fromCharCode(d)+", offset: "+$);
$++;throw"e";return-1}}return $};bs.a7p=function(F,r,$,C){for(var M in F){var l=M.substring(1,M.length);
P.k6(r,$,"/"+l);$+=1+l.length;P.k6(r,$," ");$++;$=bs.nk(F[M],r,$,C+1,l);P.k6(r,$," ");$++}return $};
bs.wf=function(F,r,$,C){var M=r,l={I:"",size:0,Y:0};while(bs.Tk(F[r]))r++;if(F[r]=="<".charCodeAt(0)){l.I="Object";
l.Y={};r=bs.Bj(F,l.Y,r,$+1)}else if(F[r]=="(".charCodeAt(0)){l.I="String";r++;if(F[r]==")".charCodeAt(0)){l.Y="e";
r++}else if(F[r]==254&&F[r+1]==255){r+=2;var k=r,d=0;while(!0){if(F[k]==")".charCodeAt(0)&&F[k-1]!="\\".charCodeAt(0))break;
else k+=1}l.Y="s"+P.aIM(F,r,k);r=k+2}else{var k=r;while(F[k]!=")".charCodeAt(0))k++;l.Y="s"+P.BW(F,r,k-r);
r=k+1}}else if(F[r]=="[".charCodeAt(0)){r++;l.Y=[];l.I="Array";while(bs.Tk(F[r]))r++;while(F[r]!="]".charCodeAt(0)){var I=bs.wf(F,r,$+1,C);
if(I==-1)return-1;l.Y.push(I.Y);r+=I.size;delete I.size;while(bs.Tk(F[r]))r++}r++}else{var c=r;while(!bs.Tk(F[c]))c++;
var Q=P.BW(F,r,c-r),x=parseFloat(Q);if(!isNaN(x)&&Q.indexOf(".")!=-1){l.I="Float";var U=parseFloat(Q);
l.Y="f"+U}else if(!isNaN(x)&&Q.indexOf(".")==-1){l.I="Integer";l.Y="i"+parseInt(Q)}else if(Q=="true"||Q=="false"){l.I="Boolean";
l.Y=Q=="true"}else if(Q.charAt(0)=="/"){l.I="BString";l.Y=Q}else if(Q=="NaN"||Q=="undefined"){l.I="Float";
l.Y="f0"}else{console.log("unknown value",JSON.stringify(Q));throw"e"}r=c+1}l.size=r-M;return l};bs.ayz=function(F){if(F==Math.round(F))return F+".0";
var r=F.toFixed(5);while(r.endsWith("0")&&r[r.length-2]!=".")r=r.slice(0,r.length-1);if(0<F&&F<1)r=r.slice(1);
if(-1<F&&F<0)r="-"+r.slice(2);return r};bs.nk=function(F,r,$,C,M){var l=typeof F=="string"?F.charAt(0):"";
if(F instanceof Array){P.k6(r,$,"[ ");$+=2;for(var O=0;O<F.length;O++){$=bs.nk(F[O],r,$,C,"");P.k6(r,$," ");
$++}P.k6(r,$,"]");$+=1}else if(F instanceof Object){$=bs.Rk(F,r,$,C)}else if(l=="e"){P.k6(r,$,"()");
$+=2}else if(l=="s"){P.k6(r,$,"(");$++;if(M=="97"){P.k6(r,$,F.slice(1));$+=F.length-1}else{P.y0(r,$,254);
$++;P.y0(r,$,255);$++;$=P.az3(r,$,F.slice(1))}P.k6(r,$,")");$++}else if(l=="/"){P.k6(r,$,F);$+=F.length}else if(l=="f"){var k=parseFloat(F.substring(1)),d=bs.ayz(k);
P.k6(r,$,d);$+=d.length}else if(l=="i"){P.k6(r,$,F.substring(1));$+=F.length-1}else{var d=F+"";P.k6(r,$,d);
$+=d.length}return $};function P(){}P.az8=function(bU){var F="";for(var O=3;O>=0;O--)F+=String.fromCharCode(bU>>O*8&255);
return F};P.awE=function(F){var bU=0;for(var O=F.length-1;O>=0;O--)bU|=F.charCodeAt(O)<<(3-O)*8;return bU};
P.indexOf=function(F,r,$,C){if($==null)$=0;if(C==null)C=F.length;C=Math.min(C,F.length);for(var O=$;
O<C;O++)if(F[O]==r)return O;return-1};P.Ah=function(F,r,$){if($==null)$=0;var C=r.length,M=F.length-C;
if(typeof r=="string"){var l=[];for(var O=0;O<C;O++)l.push(r.charCodeAt(O));r=l}if(r.length>0){var k=r[0];
for(var O=$;O<M;O++)if(F[O]==k){var d=!0;for(var I=1;I<C;I++)if(r[I]!=F[O+I]){d=!1;break}if(d)return O}}return-1};
P.aIM=function(F,r,$){var C=[],l="";while(r<$){var M=F[r++];if(M=="\\".charCodeAt(0))C.push(F[r++]);
else C.push(M)}for(var O=0;O<C.length;O+=2)l+=String.fromCharCode(C[O]<<8|C[O+1]);return l};P.aGf=function(F,r,$){var C=new Uint8Array(2);
for(var O=0;O<$.length;O++){P.N2(C,0,$.charCodeAt(O));if(C[0]==")".charCodeAt(0)||C[0]=="(".charCodeAt(0)||C[0]=="\\".charCodeAt(0)){F[r]="\\".charCodeAt(0);
r++}F[r]=C[0];r++;if(C[1]==")".charCodeAt(0)||C[1]=="(".charCodeAt(0)||C[1]=="\\".charCodeAt(0)){F[r]="\\".charCodeAt(0);
r++}F[r]=C[1];r++}return r};P.az3=function(F,r,$){F.cq(r,4*$.length);return P.aGf(F.data,r,$)};P.Fz=function(F,r,$){var C="";
for(var O=0;O<$;O++){var M=F[r++]|F[r++]<<8;C+=String.fromCharCode(M)}return C};P.JH=function(F,r,$){var C="";
for(var O=0;O<$;O++){var M=F[r++]<<8|F[r++];C+=String.fromCharCode(M)}return C};P.axg=function(F,r,$){for(var O=0;
O<$.length;O++){var C=$.charCodeAt(O);P.Vz(F,r+2*O,C)}};P.ast=function(F,r,$){for(var O=0;O<$.length;
O++){var C=$.charCodeAt(O);P.N2(F,r+2*O,C)}};P.aDz=function(F,r,$){F.cq(r,2*$.length);P.ast(F.data,r,$)};
P.a6d=function(F,O,r){var $=[],C=0,M=0;r+=O;while(O<r){C=F[O++];if((C&128)==0)M=C;else if((C&224)==192){M=(C&31)<<6;
C=F[O++];M|=C&63}else if((C&240)==224){M=(C&15)<<12;C=F[O++];M|=(C&63)<<6;C=F[O++];M|=C&63}else if((C&248)==240){M=(C&7)<<18;
C=F[O++];M|=(C&63)<<12;C=F[O++];M|=(C&63)<<6;C=F[O++];M|=C&63}else throw"e";$.push(M)}return $};P.a90=window.TextDecoder?new window.TextDecoder("utf8"):null;
P.qV=function(F,r,$){if(r==null)r=0;if($==null)$=F.length;if(P.a90&&r==0&&$==F.length)return P.a90.decode(F);
var C=P.a6d(F,r,$),M=C.length;for(var O=0;O<M;O++)C[O]=String.fromCharCode(C[O]);return C.join("")};
P.aiY=window.TextEncoder?new window.TextEncoder("utf8"):null;P.V4=function(F){if(P.aiY)return P.aiY.encode(F);
var r=new Uint8Array(F.length*4),$=P.hm(F,r,0);return r.slice(0,$)};P.hm=function(F,r,$){var C=F.length,O=0;
for(var M=0;M<C;M++){var l=F.charCodeAt(M);if((l&4294967295-(1<<7)+1)==0){r[$+O]=l;O++}else if((l&4294967295-(1<<11)+1)==0){r[$+O]=192|l>>6;
r[$+O+1]=128|l>>0&63;O+=2}else if((l&4294967295-(1<<16)+1)==0){r[$+O]=224|l>>12;r[$+O+1]=128|l>>6&63;
r[$+O+2]=128|l>>0&63;O+=3}else if((l&4294967295-(1<<21)+1)==0){r[$+O]=240|l>>18;r[$+O+1]=128|l>>12&63;
r[$+O+2]=128|l>>6&63;r[$+O+3]=128|l>>0&63;O+=4}else throw"e"}return O};P.bB=function(F,r){var $=P.dj(F,r),C=P.qV(F,r+4,$-1);
return{cG:C,v_:4+$}};P.adY=function(F,r){var $=P.cA(F,r),C=P.Fz(F,r+4,$);return C};P.bF=function(F,r){var $=P.dj(F,r),C=P.JH(F,r+4,$);
return C};P.OH=function(F,r){var $=P.dj(F,r),C=P.JH(F,r+4,$-1);return C};P.dM=function(F,r){var $=P.cA(F,r),C=P.Fz(F,r+4,$-1);
return C};P.akI=function(F,r,$){P.mu(F,r,$.length);r+=4;P.axg(F,r,$)};P.alm=function(F,r,$){P.us(F,r,$.length);
r+=4;P.ast(F,r,$)};P.xx=function(F,r,$){F.cq(r,4+2*$.length);P.alm(F.data,r,$)};P.acl=function(F,r,$){F.cq(r,4+2*$.length);
P.akI(F.data,r,$)};P._3=function(F,r,$){var C=[];for(var O=0;O<$;O++)C.push(String.fromCharCode(F[r+O]));
return C};P.aBZ=function(F,r,$){var C=!1,M=F.length-$.length;for(var O=r;O<M;O++){for(var l=0;l<$.length;
l++){if(F[O+l]!=$.charCodeAt(l))break;if(l==$.length-1)return O}}};P.Ew=function(F,r,$){var C=P.BW(F,r,4);
if($)C=C.split("").reverse().join("");return C};P.BW=function(F,r,$){var C="";for(var O=0;O<$;O++)C+=String.fromCharCode(F[r+O]);
return C};P.o9=function(F,r,$){for(var O=0;O<$.length;O++)F[r+O]=$.charCodeAt(O)};P.k6=function(F,r,$){F.cq(r,$.length);
P.o9(F.data,r,$)};P.aDU=function(F,r,$){var C="";for(var O=0;O<$;O++){var M=F[r+O];if(M<10)C+="  ";else if(M<100)C+=" ";
C+=M+", "}return C};P.G2=function(F,r){return F[r]<<8|F[r+1]};P.N2=function(F,r,bU){F[r]=bU>>8&255;F[r+1]=bU&255};
P.ys=function(F,r,bU){F.cq(r,4);P.N2(F.data,r,bU)};P.ye=function(F,r){var $=P.G2(F,r),C=P.G2(F,r+2);
return $+C*(1/65536)};P.a5Y=function(F,r,bU){var $=Math.floor(bU),C=Math.floor((bU-$)*65536);P.N2(F,r,$);
P.N2(F,r+2,C)};P.IX=function(F,r){return F[r+1]<<8|F[r]};P.Vz=function(F,r,bU){F[r+1]=bU>>8&255;F[r]=bU&255};
P.JQ=function(F,r,bU){F.cq(r,4);P.Vz(F.data,r,bU)};P.O4=function(F,r){P.R_[0]=F[r+1];P.R_[1]=F[r];return P.Zk[0]};
P.nv=function(F,r){P.R_[0]=F[r];P.R_[1]=F[r+1];return P.Zk[0]};P.HE=P.N2;P.Yo=P.ys;P.Dm=function(F,r){P.Lo[0]=F[r+3];
P.Lo[1]=F[r+2];P.Lo[2]=F[r+1];P.Lo[3]=F[r];return P.Im[0]};P.ri=function(F,r,bU){P.Im[0]=bU;F[r+3]=P.Lo[0];
F[r+2]=P.Lo[1];F[r+1]=P.Lo[2];F[r+0]=P.Lo[3]};P.eT=function(F,r,bU){F.cq(r,4);P.ri(F.data,r,bU)};P.LB=function(F,r,$,C){$[C+0]=F[r+0];
$[C+1]=F[r+1];$[C+2]=F[r+2];$[C+3]=F[r+3]};P.cA=function(F,r){P.LB(F,r,P.Lo,0);return P.aqj[0]};P.mu=function(F,r,bU){P.aqj[0]=bU;
P.LB(P.Lo,0,F,r)};P.Lh=function(F,r,bU){F.cq(r,4);P.mu(F.data,r,bU)};P.jF=function(F,r){P.LB(F,r,P.Lo,0);
return P.Im[0]};P.aJH=function(F,r,bU){P.Im[0]=bU;P.LB(P.Lo,0,F,r)};P.a2m=function(F,r,bU){F.cq(r,4);
P.aJH(F.data,r,bU)};P.dj=function(F,r){var $=F[r]*(256*256*256)+(F[r+1]<<16|F[r+2]<<8|F[r+3]);return $};
P.us=function(F,r,bU){F[r]=bU>>24&255;F[r+1]=bU>>16&255;F[r+2]=bU>>8&255;F[r+3]=bU>>0&255};P.j5=function(F,r,bU){F.cq(r,4);
P.us(F.data,r,bU)};P.Zq=function(F,r){return P.dj(F,r)<<32|P.dj(F,r+4)};P.adN=function(F,r,bU){P.us(F,r,bU>>16>>16);
P.us(F,r+4,bU&4294967295)};P.Lq=function(F,r,bU){F.cq(r,8);P.adN(F.data,r,bU)};P.a0f=function(F,r){return P.cA(F,r+4)|P.cA(F,r)<<32};
P.Dw=function(F,r){var $=new Uint8Array(8);for(var O=0;O<8;O++)$[O]=F[r+7-O];var C=new Float64Array($.buffer);
return C[0]};P.aj=function(F,r){var $=new Uint8Array(8);for(var O=0;O<8;O++)$[O]=F[r+O];var C=new Float64Array($.buffer);
return C[0]};P.FF=function(F,r,bU){var $=new Float64Array(1);$[0]=bU;var C=new Uint8Array($.buffer);
for(var O=0;O<4;O++){var M=C[O];C[O]=C[7-O];C[7-O]=M}for(var O=0;O<8;O++)F[r+O]=C[O]};P.tF=function(F,r,bU){F.cq(r,8);
P.FF(F.data,r,bU)};P.LC=function(F,r){P.Lo[0]=F[r+3];P.Lo[1]=F[r+2];P.Lo[2]=F[r+1];P.Lo[3]=F[r+0];return P.RB[0]};
P.JW=function(F,r){P.Lo[0]=F[r+0];P.Lo[1]=F[r+1];P.Lo[2]=F[r+2];P.Lo[3]=F[r+3];return P.RB[0]};P.c7=function(F,r,bU){P.RB[0]=bU;
F[r+0]=P.Lo[3];F[r+1]=P.Lo[2];F[r+2]=P.Lo[1];F[r+3]=P.Lo[0]};P.axY=function(F,r,bU){F.cq(r,4);P.c7(F.data,r,bU)};
P.ZR=function(F,r,bU){P.RB[0]=bU;F[r+0]=P.Lo[0];F[r+1]=P.Lo[1];F[r+2]=P.Lo[2];F[r+3]=P.Lo[3]};P.ahr=function(F,r,bU){F.cq(r,4);
P.ZR(F.data,r,bU)};P.a7e=function(F,r){var $=P.Dm(F,r),C=$*(1/(1<<24));return C};P.aus=function(F,r){var $=P.jF(F,r),C=$*(1/(1<<24));
return C};P.anc=function(F,r,$){var C=Math.floor($*(1<<24));P.ri(F,r,C)};P.ai1=function(F,r,$){F.cq(r,4);
P.anc(F.data,r,$)};P.TQ=function(F,r){var $=F[r],C=P.BW(F,r+1,$);$+=1-$%2;return{C3:C,length:$+1}};P.axF=function(F,r,$){var C=$.length;
F[r]=C;P.o9(F,r+1,$);if(C%2==0){F[r+1+C]=0;++C}return C+1};P.A1=function(F,r,$){F.cq(r,$.length+2);return P.axF(F.data,r,$)};
P.$D=function(F,r,$){var C=$?P.aj:P.Dw,M=new hS;M.xz=C(F,r+0*8);M.X=C(F,r+1*8);M.gb=C(F,r+2*8);M.G0=C(F,r+3*8);
M.P6=C(F,r+4*8);M.jw=C(F,r+5*8);return M};P.h0=function(F,r,$){P.FF(F,r+0*8,$.xz);P.FF(F,r+1*8,$.X);
P.FF(F,r+2*8,$.gb);P.FF(F,r+3*8,$.G0);P.FF(F,r+4*8,$.P6);P.FF(F,r+5*8,$.jw)};P.anx=function(F,r,$){F.cq(r,48);
P.h0(F.data,r,$)};P.aj1=function(F,r){var $=P.LC(F,r),C=P.LC(F,r+4),M=P.LC(F,r+8),l=P.LC(F,r+12);return new cS($,C,M-$,l-C)};
P.aJv=function(F,r,$){P.c7(F,r,$.x);P.c7(F,r+4,$.y);P.c7(F,r+8,$.x+$.r);P.c7(F,r+12,$.y+$.$)};P.a7i=function(F,r,$){F.cq(r,16);
P.aJv(F.data,r,$)};P.$K=function(F,r,$){var C=$?P.jF:P.Dm,M=C(F,r),l=C(F,r+4),k=C(F,r+8),d=C(F,r+12);
return new cS(l,M,d-l,k-M)};P.aqq=function(F,r,$){P.ri(F,r,$.y);P.ri(F,r+4,$.x);P.ri(F,r+8,$.y+$.$);
P.ri(F,r+12,$.x+$.r)};P.lX=function(F,r,$){F.cq(r,16);P.aqq(F.data,r,$)};P.Lr=function(F,r,$){var C=new Uint8Array($);
for(var O=0;O<$;O++)C[O]=F[r+O];return C};P.aI0=function(F,r,$){F.set($,r)};P.Uo=function(F,r,$){F.cq(r,$.length);
P.aI0(F.data,r,$)};P.aJA=function(F,r,$,bU){if(!bU)bU=1;for(var O=0;O<bU;O++)F[r+O]=$};P.y0=function(F,r,$,bU){if(!bU)bU=1;
F.cq(r,bU);P.aJA(F.data,r,$,bU)};P.Zk=new Int16Array(1);P.R_=new Uint8Array(P.Zk.buffer);P.Im=new Int32Array(1);
P.aqj=new Uint32Array(P.Im.buffer);P.Lo=new Uint8Array(P.Im.buffer);P.RB=new Float32Array(P.Im.buffer);
function i$(){}i$.CO=function(F,r){var $=new Uint8Array(F),C=0,M=P.BW($,C,9),d=4,I=100;C+=9;var l=P.BW($,C,4);
C+=4;C++;r.r=P.dj($,C);C+=4;r.$=P.dj($,C);C+=4;var k=P.dj($,C);C+=4;if(k!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(l)==-1){I=P.dj($,C);C+=4;if(parseInt(l.slice(1))>=7){I=I}else alert("Unknown XCF version: "+l);
d=8}var c={};C=i$.kG($,C,c);var Q=[];C=i$.Vf($,C,Q,d);var x=[];C=i$.Vf($,C,x,d);r.rr=0;for(var O=0;O<Q.length;
O++)i$.ajk($,Q[O],r,c,d,I);while(r.rr>0){r.u.push(r.fm());r.rr--}r.u.reverse();delete r.rr;r.buffer=j.j(r.r*r.$*4);
if(r.u.length==0)console.log("No layers!!!");for(var O=0;O<x.length;O++){var U=i$.apO($,x[O],c,d,I);
if(U.Ic[gM.aoV])r.d={G:U.iN,S:new cS(0,0,r.r,r.$)}}};i$.ajk=function(F,r,$,C,M,l){var k=$.at(),d=P.dj(F,r),x=0;
r+=4;var I=P.dj(F,r);r+=4;k.S=new cS(0,0,d,I);var c=P.dj(F,r);r+=4;var Q=P.bB(F,r);r+=Q.v_;k.Da(Q.cG);
var U={};r=i$.kG(F,r,U);if(U[gM.arR]){var S=U[gM.arR];x=S.length/4-1}if(U[gM.fN]){k.S.x=P.Dm(U[gM.fN],0);
k.S.y=P.Dm(U[gM.fN],4)}if(U[gM.aJL]){k.gk=P.dj(U[gM.aJL],0)}if(U[gM.avG]){k.add.lsct=jR.ul;k.U4=24}if(U[gM.azc]){var z=P.dj(U[gM.azc],0);
k.ww=gM.ab0[z];if(k.EX()&&k.ww=="norm")k.ww="pass"}if(U[gM.ae$]){if(P.dj(U[gM.ae$],0)==0)k.U4+=2}if(U[gM.aB1]){var V=P.dj(U[gM.aB1],0);
k.add.lsct=V&1==1?jR.ul:jR.Xz}if(U[gM.Ud]){var t=U[gM.Ud];for(var Y in t){var i=t[Y];if(Y=="gimp-text-layer"){var J=i$.aEH(i),H=J.text,v=J.font,n=J.color,G=J["font-size"];
if(H==null&&J.markup){var g=new DOMParser,W=g.parseFromString(J.markup,"image/svg+xml");while(W.firstChild!=null&&W.firstChild.tagName!=null){W=W.firstChild;
var L=W.getAttribute("font"),b=W.getAttribute("foreground"),T=W.getAttribute("size");if(L!=null)v=L;
if(b!=null){b=CSS.Eq(b);n=[1,b.t/255,b.L/255,b.X/255]}if(T!=null){G=""+parseFloat(T)/245}}H=W.textContent}k.add.lnsr="rend";
k.add.TySh=ho.DB(0,0);k.add.TySh.xa=new cS(0,0,100,100);k.add.TySh.U=new hS(1,0,0,1,k.S.x,k.S.y);var a=k.add.TySh.$E;
ho.uy(a,0,H);var R=ho.RT(a,0,0),D=J.justify,h=J["line-spacing"];if(n)R.Uz.FillColor={Type:1,Values:[1,parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])]};
if(G){G=Math.round(parseFloat(G));R.Uz.FontSize=G;k.add.TySh.U.jw+=Math.min(17,G*.17)}if(h){h=Math.round(parseFloat(h)+R.Uz.FontSize*1.2);
R.Uz.Leading=h;R.Uz.AutoLeading=!1}if(D)R.jv.Justification=["left","right","center","fill"].indexOf(D);
if(v&&v!="Sans-serif"){var K=v.toLowerCase(),X="bold italic semi extra regular condensed light".split(" "),w=K.length;
for(var O=0;O<X.length;O++){var N=K.indexOf(X[O]);if(N!=-1&&N<w&&K[N-1]==" ")w=N}if(w!=K.length)v=v.slice(0,w-1).split(" ").join("")+"-"+v.slice(w).split(" ").join("");
ho.jl(R,v)}ho.WE(a,0,H.length,R);var s=J["box-width"],A=J["box-height"],p=s?parseFloat(s):k.S.r,q=A?parseFloat(A):k.S.$;
ho.s2(a,1);ho.SB(a,[0,0,Math.ceil(p),Math.ceil(q)])}else console.log("Unknown property "+Y)}}while($.rr>x){$.u.push($.fm());
$.rr--}$.rr=x;if(k.add.lsct==jR.ul||k.add.lsct==jR.Xz)$.rr++;var e=M==4?P.dj:P.Zq,o=e(F,r);r+=M;var E=e(F,r);
r+=M;if(k.he()){k.buffer=j.j(k.S.C()*4);var cj=new j.fJ(k.S.C());i$.a9r(F,o,cj,C,M,l);j.TP(cj,k.buffer)}if(E!=0){k.Lj=new Z.tp;
var cd=i$.apO(F,E,C,M,l);k.Lj.G=cd.iN;k.Lj.S=k.S.P();if(U[gM.a40])k.Lj.isEnabled=P.dj(U[gM.a40],0)==1;
k.Lj.color=k.Lj.G[0];k.Lj.uF()}if(k.EX())k.S=new cS;$.u.push(k)};i$.aEH=function(F){var r="("+P.qV(F,0,F.length-1)+")",$=[],C={};
i$.aGg(r,1,$);i$.anS($,C);return C};i$.anS=function(F,r){for(var O=0;O<F.length;O++){var $=F[O],C=$[0];
if($.length==2)r[C]=$[1];else r[C]=$.slice(1)}};i$.aGg=function(F,r,$){while(!0){if(r>=F.length)throw"e";
var C=F.charAt(r);r++;if(C=="("){var M=[];r=i$.aGg(F,r,M);$.push(M)}else if(C==" "||C=="\n"||C=="\r"){}else if(C==")")return r;
else if(C=="\""){var l=r;while(!0){var k=F[r];r++;if(k=="\"")break;if(k=="\\")r++}$.push(JSON.parse(F.slice(l-1,r)))}else{var l=r-1;
while(F[r]!=" "&&F[r]!=")")r++;$.push(F.slice(l,r))}}};i$.apO=function(F,r,$,C,M){var l=P.dj(F,r);r+=4;
var k=P.dj(F,r);r+=4;var d=P.bB(F,r);r+=d.v_;var I={};r=i$.kG(F,r,I);var c=new j.fJ(l*k),Q=C==4?P.dj:P.Zq,x=Q(F,r);
r+=C;i$.a9r(F,x,c,$,C,M);return{iN:c.t,Ic:I}};i$.a9r=function(F,r,$,C,M,l){var k=P.dj(F,r);r+=4;var d=P.dj(F,r);
r+=4;var I=P.dj(F,r);r+=4;var c=M==4?P.dj:P.Zq,Q=c(F,r);r+=M;i$.a0D(F,Q,$,C,I,M,l)};i$.a0D=function(F,r,$,C,M,l,k){var d=P.dj(F,r),Q=0,O=0;
r+=4;var I=P.dj(F,r);r+=4;var c=new cS(0,0,d,I);if(k==100||k==150)Q=1;else if(k==200||k==250)Q=2;else if(k==300||k==350)Q=4;
else if(k==500||k==550)Q=2;else if(k==600||k==650)Q=4;else if(k==700||k==750)Q=8;else{alert("unsupported bit depth "+k);
throw"e"}var x=M/Q,Q=Math.round(M/x),U=[];r=i$.Vf(F,r,U,l);var S=new j.fJ(64*64*Q),z=new cS,V=C[gM.aA7][0],t=[S.t,S.L,S.X,S.xz];
if(x==3)S.xz.fill(255);var Y=Date.now();if(U.length!=0)for(var i=0;i<I;i+=64)for(var J=0;J<d;J+=64){var H=Math.min(d-J,64),v=Math.min(I-i,64),n=H*v;
z.I_(J,i,H,v);i$.afO(F,U[O++],n*Q,V,x,t);if(k==100||k==150){}else if(k==250){for(var G=0;G<x;G++){var g=t[G];
for(var W=0;W<n;W++){var L=g[W]<<8|g[n+W];g[W]=Math.min(L>>>8,255)}}}else if(k==600){var b=i$.awY(),T=new Uint32Array(1),a=new Float32Array(T.buffer);
for(var G=0;G<x;G++){var g=t[G];for(var W=0;W<n;W++){T[0]=g[W]<<24|g[n+W]<<16|g[(n<<1)+W]<<8|g[(n<<1)+n+W]<<0;
var R=a[0];if(R<0)R=0;else if(R>1)R=1;g[W]=b[~~(.5+R*1e3)]}}}else console.log("unknown data format",k);
j.Pz(S,z,$,c)}};i$.awY=function(){var F=i$.aFQ;if(F!=null)return F;F=i$.aFQ=new Uint8Array(1001);for(var O=0;
O<1001;O++)F[O]=~~(.49+255*j.Wg(O*.001));return F};i$.afO=function(F,r,$,C,M,l){if(C==1){for(var k=0;
k<M;k++){var d=l[k],I=0;while(I<$){var bU=F[r];r++;if(bU<127){var c=F[r];r++;bU++;for(var O=0;O<bU;O++)d[I+O]=c}else if(bU==127){var Q=F[r];
r++;var x=F[r];r++;var c=F[r];r++;bU=Q<<8|x;for(var O=0;O<bU;O++)d[I+O]=c}else if(bU==128){var Q=F[r];
r++;var x=F[r];r++;bU=Q<<8|x;for(var O=0;O<bU;O++)d[I+O]=F[r+O];r+=bU}else{bU=256-bU;for(var O=0;O<bU;
O++)d[I+O]=F[r+O];r+=bU}I+=bU}}}else if(C==2){var U=pako.inflate(F.slice(r)),S=Math.round(U.length/$);
for(var O=0;O<$;O++){var z=O*S;l[0][O]=U[z];l[1][O]=U[z+1];l[2][O]=U[z+2];l[3][O]=S==3?255:U[z+3]}}else alert("Unknown compression "+C)};
i$.Vf=function(F,r,$,C){var M=C==4?P.dj:P.Zq;while(!0){var l=M(F,r);r+=C;if(l==0)break;else $.push(l)}return r};
i$.kG=function(F,r,$){while(!0){var C=P.dj(F,r);r+=4;var M=P.dj(F,r);r+=4;if(C==gM.a1R)break;else if(C==gM.Ud)$[C]=i$.ahm(F,r,r+M);
else $[C]=P.Lr(F,r,M);r+=M}return r};i$.ahm=function(F,r,$){var C={};while(r<$){var M=P.bB(F,r);r+=M.v_;
var l=P.dj(F,r);r+=4;if(l!=1)console.log("unknown flags",l);var k=P.dj(F,r);r+=4;C[M.cG]=P.Lr(F,r,k);
r+=k}return C};var gM={a1R:0,a72:1,aqe:2,azQ:3,aoV:4,abt:5,aJL:6,azc:7,ae$:8,aDP:9,aDy:10,a40:11,ant:12,aIy:13,aFK:14,fN:15,a6u:16,aA7:17,aFU:18,a0E:19,ahR:20,Ud:21,aqz:22,am8:23,a1N:24,a71:25,aH1:26,alj:27,a0O:28,avG:29,arR:30,aB1:31,a55:32,aB2:33,alu:34,aGQ:35,agK:36,afa:37,azp:38,a2v:0,an3:1,aGS:2,aAi:3,atb:1,aFb:2,asU:0,awR:1,arY:1};
gM.ab0="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var bp=function(){var F=!1,r,$,Y=0,H;function C(){var G=P.BW(r,$,4);$+=4;return G[3]+G[2]+G[1]+G[0]}function M(){var G=P.BW(r,$,4);
$+=4;return G}function l(){var G=r[$];$+=1;return G}function k(){var G=P.IX(r,$);$+=2;return G}function d(){var G=P.cA(r,$);
$+=4;return G}function I(){var G=P.jF(r,$);$+=4;return G}function c(){var G=P.cA(r,$);$+=8;return G}function Q(){var G=P.JW(r,$);
$+=4;return G}function x(){var G=P.aj(r,$);$+=8;return G}function U(){var G=P.IX(r,$),g=P.qV(r,$+2,G);
$+=2+G;return g}function S(){var G=P.cA(r,$),g=P.qV(r,$+4,G);$+=4+G;return g}function z(G){$=G;var g=[];
while($!=0){var W=M();if(W!="#FT4"&&W!="#FT3"&&W!="#FT2")throw W;var L=c(),b=c(),T=c(),a=c(),R=c(),D=d(),h=d(),K=d(),X=k(),w=l(),N={};
g.push(N);for(var O=0;O<D;O++){var s=d(),A=l();if(A!=0&&A!=1&&A!=2)throw A;var p=[];if(A==0||A==1){var q=c(),f=c(),e=c(),o=d(),E=l(),cj=d(),u=W!="#FT4"?0:d(),cd=null;
if(W=="#FAT"||W=="#FT2"){switch(E){case 1:E=1;break;case 2:E=65;break;case 3:E=129;break;case 4:E=193;
break;default:E=0;break}}if(A==0)cd=U();p=[q,f,e,E,cd]}N["i"+s]=[A,p]}for(var O=0;O<X;O++){var m=k(),aZ=k(),jN=c(),eh=P.BW(r,$,m);
$+=m}$=L}g.reverse();for(var iA=1;iA<g.length;iA++){var N=g[iA],hd=g[iA]=j.N(g[iA-1]);for(var kx in N){var b0=N[kx];
if(b0[0]==0)hd[kx]=b0;else if(b0[0]==1){b0[1][4]=hd[kx][1][4];hd[kx]=b0}else if(b0[0]==2)delete hd[kx]}}var gX=g.pop(),j$=[];
for(var kx in gX)j$.push(gX[kx][1]);j$.sort(function(i0,f7){return i0[0]-f7[0]});return j$}function V(G,g,W,L){while($<r.length){var b=l(),D=null;
if(b==0){if(L){var T=l();if(T!=2){var a=C()}if(T==0)$+=4;L=!1;continue}else{break}}var R=C();if(R.indexOf("\0")!=-1)throw R;
if(F)console.log("  ".repeat(g),b,b&127,R,G._type);if(b>127)D=t(b,g,W);else D=i(b,g,W);if(F)console.log("  ".repeat(g),D);
G[R]=D}}function t(G,g,W){var L=[];G=G&127;if(G==43)$+=4;var b=d();if(G==50){var T=C(),a=k();if(a!=1)throw"e";
for(var O=0;O<b;O++){var R={_status:"NotShared",_type:T};L.push(R);var D=l();if(D!=0&&D!=1)throw D;V(R,g+1,W)}}else if(G==41){if(b>8)throw b;
for(var O=0;O<b;O++)L.push((r[$]>>>O&1)==1);$++}else for(var O=0;O<b;O++){L.push(i(G,g,W,O!=0));if(G==42)G=2}return L}function i(G,g,W,L){var b=null;
if(G==49){b={};var T=l();if(T!=0){var a=d();if(W==null){b._id=a;b._status=["Shared","Link"][T-1]}if(W&&T==2)b=W[a];
if(T==1){if(W)W[a]=b;var R=l(),D=!1;if(R>1)throw R;b._type=C();if(b._type.indexOf("\0")!=-1)throw b._type;
if(F)console.log("  ".repeat(g),"new",b._type,R,$);if(R==0){while(!0){var h=k();if(h!=0&&h!=1&&h!=2&&h!=3&&h!=4)throw h;
if(r[$]!=0){D=!0;break}var K=k();if(K==512)break;var X=C();if(K==256)break}}V(b,g+1,W,D)}}}else if(G==50){b={_status:"NotShared"};
if(l()==1){b._type=C();$+=2;V(b,g+1,W)}}else if(G==1)b={type:"byte",value:l()};else if(G==2)b={type:"uint16",value:k()};
else if(G==3)b={type:"uint32",value:d()};else if(G==4)b={type:"uint64",value:c()};else if(G==7)b={type:"int32",value:I()};
else if(G==8)b={type:"int64",value:c()};else if(G==9)b={type:"float32",value:Q()};else if(G==10)b={type:"float64",value:x()};
else if(G==11)b={type:"float64",value:x()};else if(G==21)b={type:"Vec2i",value:[d(),d()]};else if(G==23)b={type:"Vec4i",value:[d(),d(),d(),d()]};
else if(G==33)b={type:"Vec4f",value:[Q(),Q(),Q(),Q()]};else if(G==36)b={type:"Vec2",value:[x(),x()]};
else if(G==38)b={type:"Vec4",value:[x(),x(),x(),x()]};else if(G==40)b={type:"Vec6",value:[x(),x(),x(),x(),x(),x()]};
else if(G==41)b={type:"bool",value:l()!=0};else if(G==42)b={type:"Enum",value:d()};else if(G==43)b={type:"string",value:S()};
else if(G==44){if(L!=!0)Y=k();var w,N=x();if(Y==12)w=[l(),l(),l(),l()];else if(Y==16)w=[d(),d()];else if(Y==32)w=[x(),x(),x()];
else throw Y;b={type:"curv16",value:[N,w]}}else if(G==45){var s=d();b={type:"buff",value:r.slice($,$+s)};
$+=s}else if(G==47){b={type:"uint32",value:d()}}else if(G==48){var A=[],p=k();if(p!=1)throw p;while(!0){if(r[$]==135){var q=t(l(),g+1,W),f=t(l(),g+1,W),e=t(l(),g+1,W);
A.push([q,f,e])}else{var o=1;if(r[$]==3){l();o=d()}for(var O=0;O<o;O++){if(l()!=41)throw"e";var a=l();
if(a!=0&&a!=1)throw a;if(l()!=172)throw"e";var E=d(),cj=k(),w=[];A.push(w);if(cj!=18)throw cj;if(E>4e3)throw E;
for(var u=0;u<E;u++)w.push([x(),x(),l(),l()])}}if(r[$]==0){$++;break}}b={type:"curve",value:A}}else if(G==51){b={type:"EmbeddedData"};
b[C()]=S()}else if(G==52)b={type:"uint32",value:d()};else if(G==56)b={type:"Color32",value:[l(),l(),l(),l()]};
else if(G==60)b={type:"ColorGRAY",value:[Q(),Q()]};else if(G==68)b={type:"ColorRGBA",value:[Q(),Q(),Q(),Q()]};
else if(G==72)b={type:"ColorCMYK",value:[Q(),Q(),Q(),Q(),Q()]};else{throw G}return G==49||G==50||G==51?b:b.value}function J(G){var g=0,W=G.length;
for(var O=0;O<W;O+=4){G[O]=g=g+G[O];G[O+1]=g=g+G[O+1];G[O+2]=g=g+G[O+2];G[O+3]=g=g+G[O+3]}}function v(G){r=G;
$=4;var g=d(),W=M();if(W!="nsrP")throw W;var W=M();if(W!="#Inf")throw W;var L=c();H=c();var b=c(),T=c(),a=c(),R=d(),D=d(),W=M();
if(W!="Prot")throw W;var R=d(),h=z(L),K={},X=Date.now();for(var w=0;w<h.length;w++){var s=h[w],A=s[3],o=null;
$=s[0];var W=M();if(W!="#Fil")throw W;var p=A>>>5&1,q=A&3,f=A&192;switch(f){case 64:f=1;p=0;break;case 128:f=2;
break;case 192:f=3;break;default:f=0;p=0}var e=new Uint8Array(r.buffer,$,s[2]);if(q==0)o=e;else if(q==1)o=pako.inflate(e);
else if(q==2)o=dN.rV.nI(e,s[1]);else throw q;if(p==0){if(f==1)J(o);if(f==2)throw"e"}else if(p==1){if(f==2)J(o);
else throw f}else throw p;K[s[4]]=o}return K}function n(G){var g=v(new Uint8Array(G));r=g["doc.dat"];
$=16;var W={};V(W,0,[]);return[g,W,H]}return{aDV:n}}();function kh(){}kh.CO=function(){function F(V,t){var Y=Date.now(),i=bp.aDV(V),J=i[0],H=i[1],v=i[2],n=H.DocR,G=n.DfSz,g=n.Chld;
if(g.length!=1)console.log(g);var W=g[0],L=W.SprB,b=W.bbxs;g=W.Chld;if(L){t.r=~~L[2];t.$=~~L[3]}else if(b){var T=b.rcts,a=new cS;
for(var O=0;O<4;O++){var R=T[O];a=a.DM(new cS(R[0],R[1],R[2]-R[0],R[3]-R[1]))}t.r=a.r;t.$=a.$}else{t.r=1920;
t.$=1080}t.buffer=j.j(t.r*t.$*4);var D=[0,{}];for(var O=0;O<g.length;O++)l(g[O],t,J,new hS,D,[],0);t._R(D[0]);
console.log(Date.now()-Y,"Document created");Y=Date.now()}function r(V){return new hS(V[0],V[3],V[1],V[4],V[2],V[5])}function $(V,t){var Y=t.Xfrm;
Y=Y?r(Y):new hS;Y.concat(V);return Y}function C(V){var t={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[V];
return t?t:"norm"}function M(V,t){var Y=V[t],i=V.DsMa;if(Y==null&&i)Y=i[t];return Y}function l(V,t,Y,i,J,H,v){var n=V._type,G=V.Chld,g=t.at();
g.Da(V.Desc==null||V.Desc==""?n=="Grup"?"Folder":"Layer":V.Desc);var W=M(V,"Visi");if(W!=null)g.Gj(W);
var L=M(V,"Opac");if(L!=null)g.gk=Math.round(255*L);var b=M(V,"FOpc");if(b!=null)g.add.iOpa=Math.round(255*b);
var T=M(V,"Blnd");if(T!=null)g.ww=C(T);if(V.BFFl&&V.BFFl[0])H.push(V.BFFl[0]);var a=$(i,V),R=n=="ShpN"||n=="PCrv";
if(G){t.u.push(t.fm());g.add.lsct=jR.ul;if(g.ww=="norm")g.ww="pass";g.U4=24;if(W!=null)g.Gj(W);if(n=="ShpN"&&v==0){var D=V.ShpB;
g.HD(new cS(D[0]+a.P6,D[1]+a.jw,Math.round(a.xz*(D[2]-D[0])),Math.round(a.G0*(D[3]-D[1]))));J[0]++;g.add.artb.Clr={t:"Objc",v:j.qS.NG({t:255,L:255,X:255})};
var h=H[0];for(var O=0;O<H.length;O++)if(H[O].FDeF._type!="FilN")h=H[O];if(h.FDeF._type=="FilS"){g.add.artb.Clr=c(h.FDeF.Colr);
g.add.artb.artboardBackgroundType.v=4}}var K=V.Shpe?V:null;if(K==null)K=V.DsMa&&V.DsMa.Shpe?V.DsMa:null;
if(K){var X=d(K);if(X.M.length!=7){g.add.vmsk=X;j.w.J_(X.M,a);g.ud();g.uH(t)}}for(var O=0;O<G.length;
O++)l(G[O],t,Y,a,J,H,v+1)}else if(n=="Rstr"||n=="ImgN"||n=="MRst"){var w=M(V,"Bitm"),N=w.Bckg,s=Date.now(),A;
if(N==null){A=x(w,Y,J[1]);g.S=A[2].P();g.buffer=A[1].slice(0);g.S.x+=a.P6;g.S.y+=a.jw}if(N||a.w5()!=1){var p,q=0,f=0;
if(N){var e=Y[N.Data],o=P.Ah(e,"ataD")+4,E=P.cA(e,o);o+=4;p=e.slice(o,o+E)}else{q=g.S.x-a.P6;f=g.S.y-a.jw;
if(A[3]==null)A[3]=new Uint8Array(dN.LD("PNG").x2([[g.buffer.buffer]],g.S.r,g.S.$));p=A[3].slice(0)}var cj=t.eM(p,g.getName(),0,0);
cj.U4=g.U4;cj.gk=g.gk;g=cj;var u=new hS;u.translate(q,f);u.concat(a);var cd=g.S.P();cd.x=cd.y=0;var m=j.b.Vs(cd).n;
j.b.U(m,u,m);g.add.SoLd.Trnf=B.hL._V(m);g.add.SoLd.nonAffineTransform=B.hL._V(m);g.d7(t,!1)}}else if(n=="TxtA"||n=="TxtF"){g.add.lnsr="rend";
g.add.TySh=ho.DB(0,0);g.add.TySh.xa=new cS(0,0,100,100);var aZ=V.TxtH?V:V.DsMa,jN=aZ.TxtH.FrmB,eh=1,iA=1,hd=g.add.TySh.U=new hS,i0=0;
hd.translate(jN[0],jN[1]);hd.concat(a);if(n=="TxtF"){var kx=Math.atan2(-hd.X,hd.xz);hd.rotate(-kx);eh=hd.xz;
iA=hd.G0;hd.G0=hd.xz=1;hd.rotate(kx)}var b0=g.add.TySh.$E,gX=aZ.StSt;if(gX==null)gX=aZ.StMa.StSt;var j$=gX.Blok;
if(j$.length!=1)throw"e";for(var f7=0;f7<j$.length;f7++){var am=j$[f7],gf=i0,cC=0,aD=am.Glyp.Utf8;if(aD==null)continue;
aD=aD.replace(/\u2028/g,"\n");aD=aD.replace(/\u2029/g,"\n");aD=aD.slice(0,aD.length-1);if(aD=="")continue;
g.Da(aD.slice(0,255));ho.uy(b0,i0,aD);i0+=aD.length;var c_=am.GAtt.Runs,a9=am.PAtt.Runs[0],jz=a9.Item.Ints[0];
for(var g3=0;g3<c_.length;g3++){var e3=c_[g3],c1=e3.Indx,dI=e3.Item,kJ=dI.Objs,cA=ho.RT(b0,gf,1);cA.jv.Justification=jz==0?0:jz==1?2:1;
ho.jl(cA,dI.DFnt.Post);cA.Uz.FontSize=dI.Doub[0];for(var O=0;O<kJ.length;O++){var c2=kJ[O];if(c2._type=="FDsc"){var ee=c2.FDeF;
if(ee._type=="FilS"){var hF=Q(ee.Colr);cA.Uz.FillColor={Type:1,Values:[1,hF[0],hF[1],hF[2]]}}}}ho.WE(b0,gf+cC,gf+Math.min(c1,aD.length),cA);
cC=c1}}ho.s2(b0,1);ho.SB(b0,[0,0,Math.round((jN[2]-jN[0])*eh*1.02),Math.round((jN[3]-jN[1])*iA*1.2)]);
t.Zp=!0}else if(R){g.U4|=16;var ic=g.add.vstk=cK.Ok.Mv(!0),X=g.add.vmsk=d(V);j.w.J_(X.M,a);var h=H[0];
for(var O=0;O<H.length;O++)if(H[O].FDeF._type!="FilN")h=H[O];if(h){var eH=h.FDeF,kz=eH._type;if(kz=="FilS")g.add.SoCo={classID:"null",Clr:c(eH.Colr)};
else if(kz=="FilG"){var kq=g.add.GdFl=JSON.parse(cK.sH[cK.order.indexOf("GrFl")]);I(h,kq,j.w.t8(X.M))}else if(kz=="FilN"){g.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:0,L:0,X:0})}};
ic.fillEnabled.v=!1}else console.log(kz)}if(V.LILn){var a7=V.LILn[0].LDeL,i6=a7.Wght;if(i6!=0){ic.strokeEnabled.v=!0;
ic.strokeStyleLineWidth.v.val=i6;var eH=V.LIFl[0].FDeF,kz=eH._type;if(kz=="FilS")ic.strokeStyleContent.v.Clr=c(eH.Colr);
else if(kz=="FilN")ic.strokeEnabled.v=!1}}g.ud();g.uH(t)}else if(n=="RcRA"){var hm=V.AdjP,bB="hue2",iV=g.add[bB]=e9.Mv(bB);
k(iV,hm)}else console.log(n);var eO=V.AdCh,aC=[];if(eO)for(var O=0;O<eO.length;O++){var fq=eO[O],bX=fq._type;
if(bX=="ShpN"||bX=="PCrv"){var X=g.add.vmsk=d(fq),gb=$(a,fq);j.w.J_(X.M,gb);g.ud();g.uH(t)}else if(fq.AdjP){var hm=fq.AdjP,dX=hm._type;
console.log(dX);var cb={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[dX];
if(cb==null){console.log(hm);continue}var e6=e9.zs(cb,{});aC.push(e6);var iV=e6.v.Fltr.v;if(dX=="LevP"){var gn=fc.T9(iV,0);
gn[0]=hm.OutB*255;gn[1]=hm.OutW*255;fc.qd(iV,0,gn)}else if(dX=="WhBP"){var gn=fc.T9(iV,2);gn[4]=100+hm.WBTi*20;
fc.qd(iV,2,gn);var gn=fc.T9(iV,3);gn[4]=100+hm.WBTi*200;fc.qd(iV,3,gn)}else if(dX=="HSSP"){var gn=hA.T9(iV,0);
gn[0]=Math.round(hm.HueA*256);gn[1]=Math.round(hm.SatA*256);gn[2]=Math.round(hm.LumA*256);hA.qd(iV,0,gn)}else if(dX=="RecP"){k(iV,hm)}else if(dX=="B&CP"){iV.Brgh.v=Math.round(hm.Brig*100);
iV.Cntr.v=Math.round(hm.Ctrs*100-100)}else if(dX=="PosP"){iV.Lvls.v=hm.Post}else if(dX=="VibP"){iV.vibrance.v=hm.Vibr-100;
iV.Strt.v=Math.round(hm.Satu*100)}else if(dX=="ExpP"){iV.Exps.v=hm.Expo;iV.gammaCorrection.v=hm.Gamm/2.2}else if(dX=="ThrP"){iV.Lvl.v=Math.round(hm.Thre*255)}else if(dX=="CrvP"){var a2=hm.Mast["Cnt "],kf=hm.Mast.Vals,gn=bb.T9(iV,0),dj=gn[0];
for(var hr=0;hr<a2;hr++){var iB=gn[hr]=j.N(dj);iB.v.Hrzn.v=Math.round(kf[hr]*255);iB.v.Vrtc.v=Math.round(kf[4+hr]*255)}bb.qd(iV,0,gn)}}else console.log(fq)}if(aC.length!=0&&g.add.SoLd){g.add.SoLd.filterFX=e9.No();
t.gm({id:g.add.SoLd.placed.v,S:new cS,buffer:j.j(1),Lj:new Z.tp});g.add.SoLd.filterFX.v.filterFXList.v=aC;
g.d7(t,!1)}var dm=V.FiEf;if(dm&&dm.length!=0){var fr=g.add.lmfx=JSON.parse(cK.default);for(var O=0;O<cK.order.length;
O++)fr[cK.Zb[O]]={t:"VlLs",v:[]};for(var dv=0;dv<dm.length;dv++){var hw=dm[dv],gT=hw._type,cu={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[gT],kq=cu?JSON.parse(cK.sH[cK.order.indexOf(cu)]):null,ha=1;
if(gT=="ColO"){kq.Clr=c(hw.Colr)}else if(gT=="GrdO"){I(hw.GrFl,kq)}else if(gT=="Shad"||gT=="InnS"||gT=="OutG"||gT=="InnG"){kq.Clr=c(hw.Colr);
kq.blur.v.val=Math.round(hw.Radi);var g1=hw.Comp;if(g1!=null){if(g1>.5)ha=1-.5*(g1-.5);else kq.Ckmt.v.val=Math.round(100*(.5-g1))}if(hw.Offs!=null){kq.Dstn.v.val=hw.Offs;
kq.lagl.v.val=Math.round(180-hw.Angl*180/Math.PI);kq.uglg.v=!1}}else if(gT=="Strk"){if(hw.Ftyp==0)kq.Clr=c(hw.Colr);
else{I(hw.GrFl,kq);kq.PntT.v.FrFl="GrFl"}kq.Sz.v.val=Math.round(hw.Radi)}else if(gT=="PhgB"||gT=="BevE"){kq.blur.v.val=Math.round(hw.Radi);
if(gT=="BevE")kq.bvlS.v.BESl="PlEb"}else if(gT=="Gaus"){if(R&&hw.Enab){g.add.vmsk.nN=hw.Radi/2.4;g.add.vmsk.qX=!0;
g.ud();g.uH(t)}}if(cu){kq.enab.v=hw.Enab;if(kq.Md&&hw.BlnM!=null)kq.Md.v.BlnM=dL.Yy(C(hw.BlnM));if(kq.Opct&&hw.Opac!=null)kq.Opct.v.val=Math.round(ha*hw.Opac*100);
var dd=cK.Zb[cK.order.indexOf(cu)];fr[dd].v.unshift({t:"Objc",v:kq})}}}if(V.BFFl&&V.BFFl[0])H.pop();
t.u.push(g)}function k(V,t){V.Clrz.v=!0;var Y=hA.T9(V,0);Y[0]=Math.round(t.RecH*360);Y[1]=Math.round(t.RecS*100);
Y[2]=Math.round(t.RecL*100);hA.qd(V,0,Y)}function d(V){var t=new Z.kf,Y=V._type;if(V.ShpB==null&&V.Crvs==null)V=V.DsMa;
if(Y=="PCrv"){var i=V.Crvs.Data,J=[],H=[];for(var O=0;O<i.length;O++){var v=i[O],n=v.length%3;if(n!=1){v=n==2?v[0][2]!=0?v.slice(0,v.length-1):v.slice(1):v.slice(1,v.length-1)}for(var G=0;
G<v.length;G++){var g=v[G],W=g[2];if(W!=0)J.push(G==0?"M":"C");H.push(g[0],g[1])}}t.M=j.b.RJ({n:H,C0:J},!0)}else{var L=V.ShpB,b=V.Shpe,T=b._type,a=L[2]-L[0];
if(T=="ShpE"){t.M=j.w.tQ.jI(L[0],L[1],L[2]-L[0],L[3]-L[1])}else if(T=="ShNR"){var R=[0,0,0,0];if(b.CTyp){R=b.ShCR.slice(0);
for(var O=0;O<4;O++)R[O]*=L[2]-L[0];for(var O=1;O<4;O++)R[O]=R[0]}t.M=j.w.tQ.Rect(L[0],L[1],L[2]-L[0],L[3]-L[1],R)}else if(T=="ShpT"){t.M=j.b.RJ({C0:["M","L","L","Z"],n:[L[0],L[3],L[2],L[3],L[0]+a*.5,L[1]]},!0)}else if(T=="ShTz"){t.M=j.b.RJ({C0:["M","L","L","L","Z"],n:[L[0]+a*b.PosL,L[1],L[0]+a*b.PosR,L[1],L[2],L[3],L[0],L[3]]},!0)}else{console.log("--",T);
t.M=j.w.tQ.Rect(L[0],L[1],L[2]-L[0],L[3]-L[1],[0,0,0,0])}}return t}function I(V,t,Y){var i=V.FDeF,J=V.FDeX;
if(J)J=r(J);var H=i.Grad,v=H.Cols;t.Type.v.GrdT=i.Type==0?"Lnr":"Rdl";var n=[];for(var O=0;O<v.length;
O++){var G=Q(v[O]);n.push([H.Posn[O][0],G])}t.Grad.v.Intr.v=0;j.qS.p3(n,t.Grad.v);var g=H.Posn,W=new hx(g[0][0],g[0][1]),L=new hx(g[1][0],g[1][1]);
if(J){var b=new hS;if(Y==null)b.translate(-.5,-.5);b.concat(J);if(Y==null)b.translate(.5,.5);W=b.pI(W);
L=b.pI(L)}if(i.Type==0)W=new hx((W.x+L.x)/2,(W.y+L.y)/2);j.qS.aF(W,L,Y?Y:new cS(0,0,1,1),t)}function c(V){var t=Q(V);
return{t:"Objc",v:j.qS.NG({t:t[0]*255,L:t[1]*255,X:t[2]*255})}}function Q(V){var t=V._col,Y=V._type;
if(Y=="HSLA"){var i=j.dn(t[0],t[1],t[2]);return[i.t,i.L,i.X,t[3]]}else if(Y=="RGBA")return t;else if(Y=="CMYK")return j.Ao(t);
else if(Y=="GRAY")return[t[0],t[1],t[2]];else if(Y=="Pant")return V.srgb._col;else{console.log(t);throw Y}}function x(V,t,Y){var i=V.Frmt,D="";
if(i!=0&&i!=1&&i!=4&&i!=6)throw i;var J=V.BmpW,H=V.BmpH,v=i==1?128:256,n=i==4?5:i==0||i==1?4:1,G=V.TWi1;
if(G==null)G=Math.ceil(J/v);var g=V.THi1;if(g==null)g=Math.ceil(H/256);var W=new cS(0,0,G,g),L=new cS;
for(var O=0;O<n;O++){var b=new Uint8Array(V["Sta"+(O+1)]);if(b.length!=W.C())throw"e";for(var T=0;T<b.length;
T++)if(b[T]==1)b[T]=0;var a=j.BM(b,W);L=L.DM(a)}var R=[];for(var O=0;O<n;O++){var b=new Uint8Array(V["Sta"+(O+1)]),h=j.j(L.C());
j.wU(b,W,h,L);R[O]=[];for(var T=0;T<h.length;T++)R[O][T]=h[T];D+=JSON.stringify(R[O])+","+JSON.stringify(V["Idx"+(O+1)])+","}if(Y[D]==null){var K=L.r*v,X=L.$*256,w=new Array(n);
for(var O=0;O<n;O++){var b=w[O]=new Uint8Array(K*X);U(b,V["Idx"+(O+1)],R[O],t,K,X,v)}var N=j.j(K*X*4);
if(i==0||i==1)j.TP({t:w[0],L:w[1],X:w[2],xz:w[3]},N);else if(i==4){for(var O=0;O<w[0].length;O++){var s=O*4,A=w[0][O]*(1/255),p=w[1][O]*(1/255),q=w[2][O]*(1/255),f=w[3][O]*(1/255),e=UDOC.C.cmykToRgb([A,p,q,f]);
N[s]=e[0]*255;N[s+1]=e[1]*255;N[s+2]=e[2]*255;N[s+3]=w[4][O]}}else{N.fill(255);j.Wn(w[0],N)}var o=new cS(0,0,K,X),E={buffer:N,S:o};
j.oA(E);Y[D]=[E.S,E.buffer]}var a=Y[D][2]=Y[D][0].P();a.x+=L.x*v;a.y+=L.y*256;return Y[D]}function U(V,t,Y,i,J,H,v){var n=0,G=J>>>(v==256?8:7),g=H>>>8;
for(var W=0;W<g;W++)for(var L=0;L<G;L++){var b=L*v,T=W*256,a=W*G+L,R=T*J+b,D=Y[a];if(D<=1){}else if(D==2)S(V,R,255,J,v,256);
else if(D==4){var h=t[n];n++;var K=i[h.Data.DatI],X=h.Rect;if(X==null)X=[0,0,v,256];z(V,(T+X[1])*J+b+X[0],K,X[1]*v+X[0],J,v,X[2]-X[0],X[3]-X[1])}else console.log(D)}}function S(V,t,Y,i,J,H){var v=t+i*H;
for(;t<v;t+=i){var n=t+J;for(var G=t;G<n;G++){V[G]=Y}}}function z(V,t,Y,i,J,H,v,n){var G=t+J*n,g=i+H*n;
for(;t<G&&i<g;t+=J,i+=H){for(var O=0;O<v;O++)V[t+O]=Y[i+O]}}return F}();function aQ(){}aQ.CO=function(F,r){var $=aQ,C=be.parse(F),l=0;
if(C.pages.length>1)console.log(C.pages.length,"pages");var M=[],k=new cS;for(var d=0;d<C.pages.length;
d++){var I=C.pages[d],c=I.layers,Q=$.sY(c,d),U=!1;if(Q.C()>8e3*8e3||Q.r>3e4||Q.$>3e4){$.a1Y(c,!0);var x=$.sY(c,d);
if(x.C()>=Q.C())$.a1Y(c,!1)}Q=$.sY(c,d);for(var S=0;S<c.length;S++){var z=c[S];if($.ih(z)=="artboard")U=!0}if(!U){console.log("no artboard");
var V={};for(var t in I)V[t]=I[t];V._class="group";I.layers=[V]}M.push(Q.P());if(Q.XS())continue;Q.x=0;
Q.y=l;l+=Q.$+200;k=k.DM(Q)}var Y={};if(C.foreignSymbols)for(var O=0;O<C.foreignSymbols.length;O++){var i=C.foreignSymbols[O].symbolMaster;
Y[i.symbolID]={aN:i}}$.aHE(C.pages,Y,r);for(var J in Y){var z=Y[J].aN,H=$.a56(z.layers)}var v=aQ.l2(k,8192*8192);
r.Zp=!0;r.r=Math.round(k.r/v);r.$=Math.round(k.$/v);r.buffer=j.j(r.r*r.$*4);r._R(C.pages[0].layers.length);
r._i={};r.Tq=[];l=0;for(var d=0;d<C.pages.length;d++){var n=C.pages[d],Q=M[d],G=new hS(v,0,0,v,Q.x,Q.y-l);
$.Ij(n.layers,r,G,C,Y,{},[]);l+=Q.$+200}delete r._i;delete r.Tq;if(v!=1)alert("File scaled down "+v+"x");
r.acu()};aQ.amD=0;aQ.ih=function(F){return F._class?F._class:F.$class};aQ.l2=function(F,r){var $=1;while(Math.round(F.r/$)*Math.round(F.$/$)>r||Math.max(Math.round(F.r/$),Math.round(F.$/$))>3e4)$++;
if(window.aBr)return $;if($!=1&&!window.confirm("Your image is quite large ("+F.r+" x "+F.$+" px).\n"+"Press OK to scale it down "+$+"x, or Cancel to keep the size."))$=1;
return $};aQ.sY=function(F,r){var $=[],C=aQ;for(var M=0;M<F.length;M++){var l=F[M],k=C.$K(l.frame);if(r==0||C.ih(l)=="artboard")$.push(k)}return j.S.ZV($)};
aQ.a1Y=function(F,r){var $=[],C=aQ;for(var M=0;M<F.length;M++){var l=F[M],k=C.$K(l.frame);k.r+=150;k.$+=150;
$.push(k)}var d=j.S.ZV($);j.S.ave($,r);var I=j.S.ZV($);if(I.C()*1.5<d.C()||d.r>3e4&&I.r<=3e4||d.$>3e4&&I.$<=3e4){alert("Re-arranging artboards");
for(var M=0;M<F.length;M++){var c=$[M],l=F[M],Q=l.frame;Q.x=c.x;Q.y=c.y}}};aQ.aHE=function(F,r,$){if(F==null)return;
var C=aQ;for(var M=0;M<F.length;M++){var l=F[M],k=C.ih(l);if(["page","artboard","group"].indexOf(k)!=-1)C.aHE(l.layers,r,$);
else if(k=="symbolMaster")r[l.symbolID]={aN:l}}};aQ.a56=function(F){var r=aQ;for(var $=0;$<F.length;
$++){var C=F[$],M=r.ih(C),l=null;if(["page","artboard","group"].indexOf(M)!=-1)l=r.a56(C.layers);if(M=="symbolMaster"||M=="symbolInstance")l=C;
if(l!=null)return l}return null};aQ.Ij=function(F,r,$,C,M,l,k){if(F==null)return;var d=aQ,I=[];for(var c=0;
c<F.length;c++){var Q=F[c],x=Q.frame?d.$K(Q.frame):null,U=Q.style,Y="",G=null,g=!1;if(U==null){console.log("no styles")}var S=d.a9F(Q,$),z=d.ih(Q),V=z=="shapeGroup"||z=="shapePath"||z=="rectangle"||z=="oval"||z=="triangle"||z=="polygon",t=["page","artboard","group"].indexOf(z)!=-1;
if(z=="shapeGroup"){for(var O=0;O<Q.layers.length;O++)if(d.ih(Q.layers[O])=="shapeGroup")t=!0}var i=Q.exportOptions;
if(i){var J=i.exportFormats;if(J==null)J=i.sizes;if(z!="artboard"&&(J&&J.length!=0)){var H=J[0].scale}}var v=r.at();
v.Gj(Q.isVisible);var n=Q.name;if(!(typeof n=="string"))n=z;v.Da(Y+n.slice(0,250));if(U!=null)G=d.aqN(C,r,U,x,S,v.getName(),V||z=="artboard"||t);
if(z=="rectangle"&&U&&U.fills&&U.fills[0]){var W=U.fills[0];if(W.fillType==4&&W.patternFillType>1&&W.image!=null)g=!0}if(Q.shouldBreakMaskChain){while(I.length!=0)d.a2O(I.pop(),r)}if(t){v.add.lsct=Q.layerListExpandedType==2?jR.ul:jR.Xz;
v.ww="pass";v.U4=24;v.Gj(Q.isVisible);r.u.push(r.fm());if(z=="artboard"){var L=x.P(),b=S.w5();L.x=-Math.floor(S.P6/b);
L.y=-Math.floor(S.jw/b);L.r=Math.floor(L.r/b);L.$=Math.floor(L.$/b);v.HD(L);var T=Q.backgroundColor,a=T?{t:255*T.red,L:255*T.green,X:255*T.blue}:{t:255,L:255,X:255};
v.add.artb.Clr={t:"Objc",v:j.qS.NG(a)};v.add.artb.artboardBackgroundType={t:"long",v:4}}d.Ij(Q.layers,r,S,C,M,l,k)}else if(V&&!g){var R=G!=null&&G.frameFXMulti.v.length==1;
v.add.vmsk=new Z.kf;v.add.vstk=cK.Ok.Mv(!0,R);var D=U?U.fills:null,h=U?d.apy(C,D,x,S,v.getName(),r,d.jP(k,Q.do_objectID+"_image")):[];
if(h.length==0){if(R)v.add.vstk.fillEnabled.v=!1;else v.add.iOpa=0;v.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:0,L:0,X:0})}}}else{var K=h[0],X=null,w=null;
if(K.I=="SoFi"){X="SoCo";w=cK.oz}if(K.I=="GrFl"){X="GdFl";w=cK.ap}if(K.I=="patternFill"){X="PtFl";w=cK.Vq}if(X!=null){v.add[X]={classID:"null"};
for(var O=0;O<w.length;O++){var N=w[O];v.add[X][N]=K.Y.v[N]}var s=K.Y.v.Opct.v.val;if(R&&s==0)v.add.vstk.fillEnabled.v=!1;
else v.add.iOpa=Math.round(255*s/100)}}v.U4|=16;v.add.vmsk.M=d.cj(Q.layers?Q.layers:[Q],Q.layers?S:$);
var A=U?U.blur:null;if(A&&A.isEnabled&&A.type<=1)v.add.vmsk.nN=A.radius;if(v.add.vmsk.M.length==2){console.log("shape with no content:",v.getName())}if(R){var p=G.frameFXMulti.v[0].v,q=v.add.vstk,f=U.borders[0];
G.frameFXMulti.v=[];en.aq3(p,q);var e=U.borderOptions,o=U.miterLimit;if(e)cK.Ok.write(q,{gE:e.lineCapStyle,Qn:e.lineJoinStyle,x_:e.dashPattern,cR:o})}v.ud();
v.uH(r)}else if(z=="bitmap"||g){if(!g&&Q.image==null)continue;var E=g?U.fills[0]:null,u=g?E.image.bdata:Q.image.bdata,cd=r.eM(u,v.getName(),0,0);
cd.U4=v.U4;v=cd;var A=U?U.blur:null,m=U?U.colorControls:null;if(A||m){v.add.SoLd.filterFX=e9.No();r.gm({id:v.add.SoLd.placed.v,S:new cS,buffer:j.j(1),Lj:new Z.tp});
var D=v.add.SoLd.filterFX.v.filterFXList.v;if(A){var aZ=e9.zs("GsnB",{});aZ.v.enab.v=A.isEnabled;aZ.v.Fltr.v.Rds.v.val=A.radius;
D.push(aZ)}if(m){var jN=m.brightness,iA=m.contrast,hd=m.hue,kx=m.saturation;if(hd!=0||kx!=1){var aZ=e9.zs("hue2",{});
aZ.v.enab.v=m.isEnabled;hA.qd(aZ.v.Fltr.v,0,[Math.round(hd*180/Math.PI),Math.round((kx-1)*100),0]);D.push(aZ)}if(jN!=0||iA!=1){var aZ=e9.zs("brit",{});
aZ.v.enab.v=m.isEnabled;iA=iA-1;if(iA>0)iA/=2;var b0=aZ.v.Fltr.v;b0.Brgh.v=Math.round(jN*255);b0.Cntr.v=Math.round(iA*255);
b0.useLegacy.v=!0;D.push(aZ)}}}if(g){var gX=E.patternFillType;if(gX==3){var j$=v.S.r/v.S.$,i0=x.r/x.$;
if(j$<i0){S.translate(-(x.r*(1-j$/i0))/2,0);S.scale(i0/j$,1)}else{S.translate(0,-(x.$*(1-i0/j$))/2);
S.scale(1,j$/i0)}}}x.x=x.y=0;var f7=j.b.Vs(x).n;S.v4();j.b.U(f7,S,f7);v.add.SoLd.Trnf=B.hL._V(f7);v.add.SoLd.nonAffineTransform=B.hL._V(f7);
v.d7(r,!1)}else if(z=="text"){if(Q.attributedString==null)continue;var am=S.P(),gf,cC,g3=0;am.v4();am.xz=am.G0=Math.min(am.xz,am.G0);
v.add.lnsr="rend";v.add.TySh=ho.DB(0,0);v.add.TySh.xa=new cS(0,0,x.r,x.$);v.add.TySh.U=am;var aD=Q.attributedString;
if(aD.archivedAttributedString)aD=aD.archivedAttributedString;var c_=aD.NSString;if(c_==null)c_=aD.string;
if(c_==null)c_="";if(c_["NS.string"])c_=c_["NS.string"];if(l[Q.do_objectID]!=null)c_=l[Q.do_objectID];
var a9=d.jP(k,Q.do_objectID+"_stringValue");if(a9)c_=a9.value;if(aD.attributes!=null){gf=[];cC=[];var jz=aD.attributes;
for(var O=0;O<jz.length;O++){gf.push(jz[O].length,O);cC.push(jz[O].attributes)}}else if(aD.NSAttributeInfo==null){gf=[c_.length,0];
cC=[aD.NSAttributes]}else{gf=aD.NSAttributeInfo["NS.data"];cC=aD.NSAttributes;gf=aQ.alg(gf,cC)}for(var O=0;
O<gf.length;O+=2)g3+=gf[O];if(g3!=c_.length){while(g3>c_.length){gf[gf.length-2]--;g3--;if(gf[gf.length-2]==0){gf.pop();
gf.pop()}}gf[gf.length-2]+=c_.length-g3}c_=c_.replace(/\u2028/g,"\n");c_=c_.replace(/\u2029/g,"\n");
c_=c_.replace(/\r/g,"\n");var e3=v.add.TySh.$E;ho.uy(e3,0,c_);if(c_!=""){var c1=Q.textBehaviour,dI=U.textStyle,kJ=dI?dI.verticalAlignment:0,cA=d.auu(e3,gf,cC,c_),b=am.w5(),c2=ho.RT(e3,0,1),ic=0;
if(c2.Uz.Font){var ee=c2.WX[c2.Uz.Font].Name;if(ee=="FontAwesome"||ee=="Ionicons")cA*=.87}var hF=c2.Uz.AutoLeading?0:c2.Uz.Leading*.6,eH=Math.max(cA,hF)*b,kz=x.r,kq=x.$;
if(c1==0){ho.s2(e3,0);var a7=ho.Nq(c2.jv);if(a7==1)ic=kz*b;if(a7==2)ic=kz*b*.5;if(kJ==0)eH*=1;else eH*=.9}else{ho.s2(e3,1);
ho.SB(e3,[0,0,Math.round(kz),Math.round(kq)]);if(c1==2&&kJ==0)eH=eH*.2;else if(c1==2&&kJ==1){eH=b*.5*(kq-c2.Uz.FontSize)}else if(c1==1&&kJ==0)eH=eH*.2;
else eH=eH*.35}v.add.TySh.U.translate(ic,eH)}}else if(z=="symbolInstance"||z=="symbolMaster"){var i6=Q.symbolID;
if(l[Q.do_objectID])i6=l[Q.do_objectID].symbolID;var hm=d.jP(k,Q.do_objectID+"_symbolID");if(hm)i6=hm.value;
if(i6=="")continue;var bB={};for(var N in l)bB[N]=l[N];if(Q.overrides)for(var N in Q.overrides)bB[N]=Q.overrides[N];
var iV=k.slice(0);if(Q.overrideValues)iV=iV.concat(Q.overrideValues);var eO=M[i6];if(eO==null){console.log("Unknown master master",Q.symbolID);
continue}var aC=aQ.$K(eO.aN.frame),fq=aC.r/x.r,bX=aC.$/x.$,gb=S.P();gb.scale(fq,bX);v.add.lsct=jR.Xz;
v.ww="pass";v.U4=24;v.Gj(Q.isVisible);r.u.push(r.fm());var dX=eO.aN;if(r.Tq.indexOf(dX)==-1){r.Tq.push(dX);
d.Ij(dX.layers,r,gb,C,M,bB,iV);r.Tq.pop()}}else if(z=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+z,Q);continue}if(U&&U.contextSettings){var cb=U.contextSettings,e6=cb.blendMode;
if(e6<d.ER.length){v.ww=dL.NH[dL.UI.indexOf(d.ER[e6])];if(t&&v.ww=="norm")v.ww="pass"}v.gk=Math.round(v.gk*cb.opacity)}if(G!=null){v.add.lmfx=G}r.u.push(v);
if(Q.hasClippingMask&&F.length>1){I.push(v);r.u.push(r.fm())}}while(I.length!=0)d.a2O(I.pop(),r)};aQ.jP=function(F,r){for(var O=0;
O<F.length;O++)if(F[O].overrideName.startsWith(r))return F[O]};aQ.alg=function(F,r){var $=0,C=[];while($+1<F.length){var M=F[$];
$++;if(M>127){M+=128*(F[$]-1);$++;if(F[$-1]>127){M+=128*(F[$]-1);$++}}var l=F[$];$++;C.push(M,l)}return C};
aQ.auu=function(F,r,$,C){var M=aQ,l=0,Q=0,x=0;for(var O=0;O<C.length;O++){var k=C.charCodeAt(O),d=1473<=k&&k<=1479||1488<=k&&k<=1514||1520<=k&&k<=1524,I=1569<=k&&k<=1594||1600<=k&&k<=1749;
if(d||I)l++}var c=l>C.length/2;for(var O=0;O<r.length;O+=2){var U=r[O],v=14,n="DejaVuSans";if(U==0)continue;
var S=r[O+1],z=$[S],V=ho.RT(F,Q,Q+U-1),t=z.NSColor;if(t==null){var t=z.MSAttributedStringColorDictionaryAttribute;
if(t==null)t=z.MSAttributedStringColorAttribute;if(t==null)t="0 0 0";else t=[t.red,t.green,t.blue].join(" ")}else if(M.ih(t)=="MSArchivedColor")t=t.dr+" "+t.dg+" "+t.db;
else if(t.NSRGB){t=t.NSRGB;t=P.BW(t,0,t.length-1)}else if(t.NSCMYK){t=t.NSCMYK;t=P.BW(t,0,t.length-1);
t=t.split(" ").map(parseFloat);var Y=1-t[0],i=1-t[1],J=1-t[2],H=1-t[3];t=Y*H+" "+i*H+" "+J*H}else if(t.NSWhite){t="1 1 1"}t=t.split(" ");
V.Uz.FillColor={Type:1,Values:[1,parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2])]};var G=z.MSAttributedStringFontAttribute;
if(z.NSFont){v=z.NSFont.NSSize;n=z.NSFont.NSName}else if(G){if(G.attributes){G=G.attributes;v=G.size;
n=G.name}else{var g=G.NSFontDescriptorAttributes;if(g==null)g=G.UIFontDescriptorAttributes;G=g;v=G.NSFontSizeAttribute;
n=G.NSFontNameAttribute}if(n==null)n="DejaVuSans"}var x=Math.max(x,v);V.Uz.FontSize=Math.round(v);ho.jl(V,n);
var W=z.NSKern;if(W==null)W=z.kerning;if(W!=null)V.Uz.Tracking=Math.round(1e3*W/v);if(z.NSUnderline!=null)V.Uz.Underline=z.NSUnderline>0;
var L=z.NSStrikethrough;if(L==null)L=z.strikethroughStyle;if(L!=null)V.Uz.Strikethrough=L>0;if(z.MSAttributedStringTextTransformAttribute==1)V.Uz.FontCaps=2;
var b=z.NSParagraphStyle;if(b==null)b=z.paragraphStyle;if(b){var T=b.paragraphSpacing;if(T!=null){V.jv.SpaceAfter=T}var a=b.NSAlignment;
if(a==null)a=b.alignment;if(a!=null){var R=0;if(!1){}else if(a==1)R=1;else if(a==2)R=2;else if(a==4)R=0;
else{R=a;console.log("unknown align",a)}if(c&&R<2)R=1-R;V.jv.Justification=R}var D=b.NSMinLineHeight;
if(D==null)D=b.minimumLineHeight;if(D!=null){V.Uz.AutoLeading=!1;V.Uz.Leading=D}}V.jv._Direction=c?1:0;
ho.WE(F,Q,Q+U,V);Q+=U}return x};aQ.aqN=function(F,r,$,C,M,l,k){var d=aQ,I=JSON.parse(cK.default),c=!1;
for(var O=0;O<cK.order.length;O++)I[cK.Zb[O]]={t:"VlLs",v:[]};var Q=$.fills,x=d.apy(F,Q,C,M,l,r);for(var U=0;
U<2;U++){var S=$[["shadows","innerShadows"][U]];if(S==null)continue;var z=["DrSh","IrSh"][U],V=cK.Zb[cK.order.indexOf(z)];
for(var O=0;O<S.length;O++){var t=S[O];if(!t.isEnabled)continue;var Y=t.contextSettings;if(Y&&Y.opacity==0||t.color.alpha==0)continue;
var i=JSON.parse(cK.sH[cK.order.indexOf(z)]);I[V].v.unshift({t:"Objc",v:i});c=!0;i.Clr.v=d.Eq(t.color);
i.blur.v.val=Math.round(t.blurRadius/M.w5());var J=M.P();J.P6=J.jw=0;J.v4();var H=J.pI(new hx(t.offsetX,t.offsetY)),v=Math.sqrt(H.x*H.x+H.y*H.y);
i.Dstn.v.val=Math.round(v);i.lagl.v.val=Math.round(Math.atan2(H.y,-H.x)*(180/Math.PI));if(i.layerConceals)i.layerConceals.v=x.length!=0;
d.Wz(t,i)}}var n=$.borders;if(n!=null&&(x.length==0||$.blur==null||!$.blur.isEnabled))for(var O=0;O<n.length;
O++){var G=n[O];if(!G.isEnabled)continue;var i=JSON.parse(cK.sH[cK.order.indexOf("FrFX")]),V=cK.Zb[cK.order.indexOf("FrFX")];
I[V].v.unshift({t:"Objc",v:i});c=!0;i.Clr.v=d.Eq(G.color);if(G.fillType!=0&&G.gradient){var g=d.apc(G.gradient,C,M,l),W=["Type","Angl","Ofst","Scl"];
for(var O=0;O<W.length;O++)i[W[O]]=g[W[O]];i.Grad.v=g.Grad.v;i.PntT.v.FrFl="GrFl"}i.Sz.v.val=Math.round(G.thickness/M.w5());
i.Styl.v.FStl=["CtrF","InsF","OutF"][G.position];d.Wz(G,i)}for(var O=k?1:0;O<x.length;O++){var L=x[O],V=cK.Zb[cK.order.indexOf(L.I)];
I[V].v.unshift(L.Y);c=!0}return c?I:null};aQ.apy=function(F,r,$,C,M,l,k){if(r==null)return[];var d=aQ,I=[];
for(var O=0;O<r.length;O++)if(r[O].isEnabled)I.push(r[O]);r=I;var c=[];for(var O=0;O<r.length;O++){var Q=r[O],x=null,U=null;
if(Q.fillType==0){x="SoFi";var S=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);U={t:"Objc",v:S};U.v.Clr.v=d.Eq(Q.color)}else if(Q.fillType==1){x="GrFl";
U={t:"Objc",v:d.apc(Q.gradient,$,C,M)}}else if(Q.fillType==4&&Q.image!=null){var z=Q.image;if(k)z=k.value;
var V=dN.GN(z.bdata.buffer);if(V=="fpng")V="png";if(V!=null&&V!="pdf"&&V!="eps"){var t,v=0,n=0,G=0;if(l._i[z.key])t=l._i[z.key];
else{var Y={data:new ArrayBuffer(4),$Y:new cS(0,0,1,1)};try{Y=dN.LD(V).YH(z.bdata)[0]}catch(ac){}t={};
t.id=kQ.Vm()+"-d71c-11e5-b1ae-a548a96e5f9f";t.name="someImage";t.t6=[new Uint8Array(Y.data),Y.$Y];l.o0(t);
l._i[z.key]=t}var i=t.t6[1],S=JSON.parse(cK.sH[cK.order.indexOf("patternFill")]);x="patternFill";U={t:"Objc",v:S};
var J=Q.patternFillType,H=Q.patternTileScale;S.Algn.v=!0;S.Ptrn.v.Idnt.v=t.id;if(J==0){v=H*i.r/Math.min(i.r,i.$);
n=-C.P6;G=-C.jw}else{v=Math.max($.r/i.r,$.$/i.$);n=-C.P6-(i.r*v-$.r)/2;G=-C.jw-(i.$*v-$.$)/2}S.Scl.v.val=100*v*(1/C.w5());
S.phase.v.Hrzn.v=Math.round(n/C.w5());S.phase.v.Vrtc.v=Math.round(G/C.w5())}}else if(Q.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",Q.fillType);
if(x!=null){d.Wz(Q,U.v);c.push({I:x,Y:U})}}return c};aQ.aBy=function(F){var r=aQ,$=new cS(0,0,1,1);F=F.slice(0);
while(!0){var C=!1;for(var O=0;O<F.length-1;O++){var M=F[O],l=F[O+1],k=null,d=M.contextSettings;if(M.fillType==0&&(d==null||d.opacity==1&&d.blendMode==0)&&M.color.alpha==1){var I="norm",c=1,d=l.contextSettings;
if(d){c=d.opacity;I=dL.Gg(r.ER[d.blendMode])}if(l.fillType==0){k=j.N(l);r.a0w(k.color,M.color,k.color,$,I,c)}if(l.fillType==1){k=j.N(l);
var Q=k.gradient.stops;for(var x=0;x<Q.length;x++)r.a0w(Q[x].color,M.color,Q[x].color,$,I,c)}if(k!=null&&k.contextSettings){var d=k.contextSettings;
d.opacity=1;d.blendMode=0}}if(k!=null){F.splice(O,0,k);C=!0;break}}if(!C||F.length<2)break}return F};
aQ.a0w=function(F,r,$,C,M,l){var k=aQ,d=j.j(4);k.a9x(F,d);var I=j.j(4);k.a9x(r,I);j.v.O5(M,d,C,I,C,C,l);
k.as8(I,$)};aQ.a9x=function(F,r){r[0]=255*F.red;r[1]=255*F.green;r[2]=255*F.blue;r[3]=255*F.alpha};aQ.as8=function(F,r){r.red=F[0]/255;
r.green=F[1]/255;r.blue=F[2]/255;r.alpha=F[3]/255};aQ.a2O=function(F,r){F=F.P();F.U4=24;F.Da("Mask by "+F.getName());
r.u.push(F);F.add.lsct=jR.ul;F.add.lyid=r.xV();delete F.add.lmfx;delete F.add.SoCo;delete F.add.GdFl;
delete F.add.PtFl;delete F.add.iOpa;if(F.add.vmsk)F.add.vmsk.qX=!0;F.ud();F.uH(r);if((F.U4&16)==16)F.U4-=16;
if((F.U4&2)==2)F.U4-=2;F.ww="pass";F.gk=255};aQ.ER="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
aQ.apc=function(F,r,$,C){$=$.P();$.v4();$.P6=$.jw=0;var M=$.w5(),U=0,S=0;$.scale(1/M,1/M);var l=aQ,k=JSON.parse(cK.sH[cK.order.indexOf("GrFl")]),d=k.Grad.v;
d.Intr.v=0;if(F==null)return k;var I=F.gradientType,c=l.eh(F.from),Q=l.eh(F.to);c.offset(-.5,-.5);Q.offset(-.5,-.5);
c=$.pI(c);Q=$.pI(Q);var x=Math.atan2(-(Q.y-c.y),Q.x-c.x);k.Type.v.GrdT=["Lnr","Rdl","Angl"][I];k.Scl.v.val=100*hx.BV(c,Q);
if(I==0){k.Angl.v.val=180/Math.PI*x;k.Scl.v.val=100*hx.BV(c,Q);U=(c.x+Q.x)/2;S=(c.y+Q.y)/2}if(I==1){k.Scl.v.val=200*hx.BV(c,Q);
U=c.x;S=c.y}if(I==2){k.Angl.v.val=180/Math.PI*(x-Math.PI/2)}var z=k.Ofst.v;z.Hrzn.v.val=U*100;z.Vrtc.v.val=S*100;
var V=[];for(var O=0;O<F.stops.length;O++){var t=F.stops[O],Y=t.color;V.push([t.position,Y?[Y.red,Y.green,Y.blue]:[0,0,0],Y.alpha])}j.qS.p3(V,d);
return k};aQ.Wz=function(F,r){var $=aQ,C=1,M=F.contextSettings;if(M!=null){r.Md.v.BlnM=$.ER[M.blendMode];
C*=M.opacity}else r.Md.v.BlnM=$.ER[0];r.enab.v=F.isEnabled;if(r.uglg!=null)r.uglg.v=!1;if(F.color!=null)C*=F.color.alpha;
r.Opct.v.val=Math.round(C*100)};aQ.Eq=function(F){return j.qS.NG(F?{t:F.red*255,L:F.green*255,X:F.blue*255}:{t:0,L:0,X:0})};
aQ.cj=function(F,r){var $=aQ,C=[{I:6},{I:8,all:0}];for(var M=0;M<F.length;M++){var l=F[M],k=l.booleanOperation,d=0,I=l._class,z=!1;
if(I=="group"||I=="text"||I=="symbolInstance"||I=="slice"){console.log(I+" inside ShapeGroup");continue}if(k==-1)d=0;
else if(k==0)d=1;else if(k==1)d=2;else if(k==2)d=3;else if(k==3)d=0;if(M==0)d=1;var c=aQ.$K(l.frame),Q=$.a9F(l,r),x=l.path?l.path:l,U=[{I:0,length:0,ea:d,VW:2,c5:0,QS:0}],S=x.points;
for(var O=0;O<S.length;O++){var V=S[O],t=$.eh(V.curveTo),Y=$.eh(V.point),i=$.eh(V.curveFrom);z=z||V.hasCurveFrom&&!i.Mp(Y)||V.hasCurveTo&&!t.Mp(Y)}var J=[];
if(!z){var H=[],bU=S.length;if(bU==0)continue;for(var O=0;O<bU;O++){J[O]=S[O].cornerRadius;var V=$.eh(S[O].point);
H.push(V.x,V.y)}Q.scale(1/c.r,1/c.$);Q.v4();j.b.U(H,Q,H);U=j.w.tQ.KN(H,J).slice(2);U[0].ea=d}else{var v=S.length;
U[0].length=v;for(var O=0;O<v;O++){var V=S[O],n=V.curveMode,G=$.eh(V.point);U[1+O]={I:n==2||n==4?1:2,ni:V.hasCurveTo?$.eh(V.curveTo):G.P(),Z:G,Pj:V.hasCurveFrom?$.eh(V.curveFrom):G.P()}}Q.scale(1/c.r,1/c.$);
Q.v4();j.w.J_(U,Q);var J=[];for(var O=0;O<v;O++){var V=S[O],n=V.curveMode,g=V.cornerRadius;if(n==1&&g!=0)J.push(g);
else J.push(0)}}if(!x.isClosed)for(var O=0;O<U.length;O++)U[O].I+=3;C=C.concat(U);var W=$.ih(l);if(Q.X==0&&Q.gb==0){var L=Q.P6,b=Q.jw,T=L+Q.xz,a=b+Q.G0,R=[L,b,T,a]}}return C};
aQ.a9F=function(F,r){var $=r.P(),C=F.frame?aQ.$K(F.frame):null;if(C)$.translate(-C.x-C.r/2,-C.y-C.$/2);
if(F.isFlippedHorizontal)$.scale(-1,1);if(F.isFlippedVertical)$.scale(1,-1);$.rotate(-F.rotation*(Math.PI/180));
if(C)$.translate(C.r/2,C.$/2);return $};aQ.eh=function(F){F=F.slice(1,F.length-1).split(",");return new hx(parseFloat(F[0]),parseFloat(F[1]))};
aQ.$K=function(F){return new cS(F.x,F.y,F.width,F.height)};aQ.aqq=function(F){return{_class:"rect",constrainProportions:!1,x:F.x,y:F.y,width:F.r,height:F.$}};
function dM(){}dM.CO=function(F,r){var $=Date.now(),C=dM,M=UZIP.parse(F),l=JSON.parse(P.qV(M.manifest)),k=JSON.parse(P.qV(M["resources/graphics/graphicContent.agc"])).resources,d=[],I=[],c=l.children;
for(var O=0;O<c.length;O++){var Q=c[O];if(Q.name=="artwork"){var x=Q.children;for(var U=0;U<x.length;
U++){var S=x[U],z=JSON.parse(P.qV(M["artwork/"+S.path+"/graphics/graphicContent.agc"])),V=z.children;
if(V.length==0){}else if(V.length==1){if(S["uxdesign#bounds"]){S._node=V[0];d.push(S)}}else{var t=V[0],Y=t.transform,i=t.shape;
if(i==null)i={x:0,y:0,width:1e3,height:1e3};if(i.type=="path"){var J=j.b.qy(Typr.U.SVGToPath(i.path).crds);
i={x:J.x,y:J.y,width:J.r,height:J.$}}i=j.N(i);if(Y){i.x+=Y.tx;i.y+=Y.ty}S["uxdesign#bounds"]=i;S._node={type:"artboard",artboard:{children:V}};
I.push(S)}}}}if(d.length==0)d=I;var H=[],v=new cS;for(var O=0;O<d.length;O++){var S=d[O],n=aQ.$K(S["uxdesign#bounds"]);
H.push(n);v=v.DM(n)}var G=aQ.l2(v,8192*8192);r.Zp=!0;r.r=Math.round(v.r/G);r.$=Math.round(v.$/G);r.buffer=j.j(r.r*r.$*4);
r._R(d.length);var g=new hS(G,0,0,G,v.x,v.y);r._i={};for(var O=0;O<d.length;O++){var S=d[O],n=aQ.$K(S["uxdesign#bounds"]),W=S._node,L=g.P(),b=n.P(),T=L.w5();
L.translate(-n.x,-n.y);b.x=-Math.floor(L.P6/T);b.y=-Math.floor(L.jw/T);b.r=Math.floor(b.r/T);b.$=Math.floor(b.$/T);
L.translate(n.x,n.y);dM.iw(W,r,L,k,M,b);var a=r.u[r.u.length-1];a.Da(S.name);a.HD(b);if(O!=d.length-1)a.add.lsct=jR.Xz}delete r._i};
dM.$D=function(F){if(F==null)return new hS;return new hS(F.a,F.b,F.c,F.d,F.tx,F.ty)};dM.iw=function(F,r,$,C,M,l){var k=dM,d=F.type,I=F[d],c=F.style,Q=k.$D(F.transform),z,V="none",t,Y="none",i,J;
Q.v4();var x=$.P();x.concat(Q);var U=r.at(),S=F.name;U.Da(S?S.slice(0,250):"Layer");if(F.visible!=null)U.Gj(F.visible);
if(c){z=c.stroke;V=z?z.type:"none";t=c.fill;Y=t?t.type:"none";if(t&&Object.keys(t).length==1)Y="none";
i=c.filters;J=c.clipPath;if(J&&C.clipPaths[J.ref])J=C.clipPaths[J.ref].children;else J=null;if(c.opacity!=null)U.gk=Math.round(255*c.opacity);
if(Y=="solid"&&t.color.alpha)U.gk=Math.round(U.gk*t.color.alpha);if(i){U.add.lmfx=k.asW(i);for(var O=0;
O<i.length;O++)if(i[O].type=="uxdesign#blur"){var H=i[O],v=H.params,n=v.brightnessAmount;if(n==null)n=0;
n=Math.abs(n/100);if((H.visible==null||H.visible==!0)&&v.backgroundEffect)U.gk=Math.round(U.gk*(n+(1-n)*v.fillOpacity))}}if(Y=="pattern"&&t.pattern.meta.ux.uid=="")Y="none"}if(J==null&&F.meta&&F.meta.ux&&F.meta.ux.clipPathResources)J=F.meta.ux.clipPathResources.children;
if(d=="artboard"||d=="group"){if(J){var G=J[0],g=G.shape,W=g!=null&&g.type=="rect"&&g.width*g.height>4e6;
if(G.type!="text"&&!W){if(g){var Q=k.$D(G.transform);Q.v4();var L=x.P();L.concat(Q);U.add.vmsk=new Z.kf;
U.add.vmsk.M=k.cj(g);L=L.P();L.v4();j.w.J_(U.add.vmsk.M,L);U.ud();U.uH(r)}}else if(!W)alert("Clipping by text has been ignored")}U.add.lsct=jR.ul;
U.ww="pass";U.U4=24;if(F.visible!=null)U.Gj(F.visible);r.u.push(r.fm());var b=I.children,T=t;if(T)T=T.color;
if(T)T=T.value;if(t){if(d=="artboard"&&Y=="solid"){U.HD(new cS(0,0,10,10));U.add.artb.Clr={t:"Objc",v:j.qS.NG({t:T.r,L:T.g,X:T.b})};
U.add.artb.artboardBackgroundType={t:"long",v:4}}else{var a=r.at();a.Da("BACKGROUND");a.U4|=16;a.add.vstk=cK.Ok.Mv();
a.add.vmsk=new Z.kf;a.add.vmsk.M=k.cj({type:"rect",x:l.x,y:l.y,width:l.r,height:l.$});k.eY(t,Y,x,l,l,a,r,C,M);
a.ud();a.uH(r);r.u.push(a)}}for(var O=0;O<b.length;O++){dM.iw(b[O],r,x,C,M,l)}}else if(d=="shape"&&(I.type=="rect"&&(I.r==null||I.r==0)||I.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(I.path)))&&Y=="pattern"&&(Math.abs(I.width/I.height-t.pattern.width/t.pattern.height)<.01||c.fill.pattern.meta.ux.scaleBehavior=="fill")){var R=t.pattern,D=R.meta.ux,h=D.uid,K=M["resources/"+h];
if(K==null){console.log(R);return}var X=r.eM(K,U.getName(),0,0);X.U4=U.U4;X.gk=U.gk;U=X;var w=j.w.t8(k.cj(I),null),s=j.b.Vs(new cS(0,0,R.width,R.height)).n,A=new hS;
A.scale(R.width/w.r,R.height/w.$);if(D.offsetX)A.translate(-D.offsetX*R.width,0);if(D.offsetY)A.translate(0,-D.offsetY*R.height);
x.concat(A);x.v4();j.b.U(s,x,s);U.add.SoLd.Trnf=B.hL._V(s);U.add.SoLd.nonAffineTransform=B.hL._V(s);
U.d7(r,!1)}else if(d=="shape"){U.U4|=16;U.add.vstk=cK.Ok.Mv();U.add.vmsk=new Z.kf;U.add.vmsk.M=k.cj(I);
var w=j.w.t8(U.add.vmsk.M,null),L=x.P();L.v4();j.w.J_(U.add.vmsk.M,L);var p=j.w.t8(U.add.vmsk.M,null);
if(V=="none"){}else{var q=z.color.value,f,e;f="SoFi";var o=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);
e={t:"Objc",v:o};e.v.Clr.v=j.qS.NG({t:q.r,L:q.g,X:q.b});var E=z.align,u=z.cap;if(E==null)E="center";
var cd=U.add.vstk;cd.strokeEnabled.v=!0;cd.strokeStyleLineWidth.v.val=z.width;if(E)cd.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cK.Ok.Fk[["inside","center","outside"].indexOf(E)];
if(u)cd.strokeStyleLineCapType.v.strokeStyleLineCapType=cK.Ok.ao[["butt","round","square"].indexOf(u)];
var m=["SoFi","GrFl","patternFill"].indexOf(f),aZ=[cK.oz,cK.ap,cK.Vq][m];cd.strokeStyleContent.v={classID:cK.Ok.zd[0]};
var jN=cd.strokeStyleContent.v={classID:cK.Ok.zd[m]};for(var O=0;O<aZ.length;O++)jN[aZ[O]]=e.v[aZ[O]]}if(i)for(var O=0;
O<i.length;O++)if(i[O].type=="uxdesign#blur"&&i[O].visible){var eh=i[O];U.add.vmsk.nN=eh.params.blurAmount}k.eY(t,Y,x,w,p,U,r,C,M);
U.ud();U.uH(r)}else if(d=="text"&&F.text){var iA=F.text,hd=iA.frame,kx=c.font,b0=c.textAttributes,Q=x.P(),gf=0;
Q.v4();U.add.lnsr="rend";U.add.TySh=ho.DB(0,0);U.add.TySh.xa=new cS(0,0,100,100);U.add.TySh.U=Q;var gX=U.add.TySh.$E,j$=iA.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
ho.uy(gX,0,j$);if(j$!=""){var i0=ho.RT(gX,0,1),f7=kx.postscriptName;if(f7==null)f7=kx.family;ho.jl(i0,f7);
i0.Uz.FontSize=Math.round(kx.size);if(Y=="solid"){var q=t.color.value;i0.Uz.FillColor={Type:1,Values:[1,q.r/255,q.g/255,q.b/255]}}if(b0){if(b0.paragraphAlign)i0.jv.Justification=["left","right","center"].indexOf(b0.paragraphAlign);
if(b0.letterSpacing)i0.Uz.Tracking=Math.round(b0.letterSpacing);if(b0.lineHeight){i0.Uz.AutoLeading=!1;
i0.Uz.Leading=Math.round(b0.lineHeight)}}ho.WE(gX,0,j$.length,i0)}var am=F.meta.ux.rangedStyles;if(am)for(var O=0;
O<am.length;O++){var I=am[O],cC=Math.min(I.length,j$.length-gf);if(O==am.length-1)cC=j$.length-gf;var i0=ho.RT(gX,gf,gf+cC),f7=I.postscriptName;
if(f7==null)f7=I.family;if(f7!=null)ho.jl(i0,f7);var aD=I.textScript,c_=I.underline,a9=I.fontSize,H=I.fill,jz=I.textTransform;
if(aD&&aD!="none")i0.Uz.FontBaseline=aD=="superscript"?1:2;if(c_!=null)i0.Uz.Underline=c_;if(a9!=null)i0.Uz.FontSize=Math.round(a9);
if(jz!=null)i0.Uz.FontCaps=jz=="uppercase"?2:0;if(jz=="lowercase"){ho._h(gX,gf,gf+cC);ho.uy(gX,gf,j$.slice(gf,gf+cC).toLowerCase())}if(H!=null){var g3=H.value;
i0.Uz.FillColor={Type:1,Values:[1,(g3>>>16&255)/255,(g3>>>8&255)/255,(g3>>>0&255)/255]}}ho.WE(gX,gf,gf+cC,i0);
gf+=cC}if(hd.type=="area"||hd.type=="autoHeight"){var e3=hd.width,c1=hd.height;ho.s2(gX,1);ho.SB(gX,[0,0,e3,c1!=null?c1:e3*2])}}else if(d=="syncRef"){var dI=F.syncSourceGuid,kJ=C.meta.ux.symbols,cA=k.Ev(kJ,dI);
if(cA){var c2=x.P();c2.concat(k.$D(cA.transform));dM.iw(cA,r,c2,C,M,l)}return}else console.log(d,F);
r.u.push(U)};dM.Ev=function(F,r){for(var O=0;O<F.length;O++){var $=F[O],C=$.group;if($.id==r)return $;
if(C){var M=dM.Ev(C.children,r);if(M)return M}}return null};dM.cj=function(F){var r=F.type,$=[{I:6},{I:8,all:0}];
if(r=="rect"){var C=F.r,M=F.x,l=F.y,k=F.width,d=F.height;$=j.w.tQ.Rect(M,l,k,d,C?C:0)}else if(r=="circle"){var C=F.r;
$=j.w.tQ.jI(F.cx-C,F.cy-C,2*C,2*C)}else if(r=="ellipse"){var I=F.rx,c=F.ry;$=j.w.tQ.jI(F.cx-I,F.cy-c,2*I,2*c)}else if(r=="path"||r=="compound"){var Q=Typr.U.SVGToPath(F.path);
$=j.b.RJ({C0:Q.cmds,n:Q.crds},!1)}else if(r=="line"){var x=F.x1,U=F.x2,S=F.y1,z=F.y2;$=j.w.tQ.KN([x,S,U,z],0,!0)}else if(r=="polygon"){var V=F.points,t=[];
for(var O=0;O<V.length;O++)t.push(V[O].x,V[O].y);$=$.concat(j.w.tQ.KN(t,0,!1).slice(2))}else console.log(r,F);
return $};dM.asW=function(F){var r=JSON.parse(cK.default);for(var O=0;O<cK.order.length;O++)r[cK.Zb[O]]={t:"VlLs",v:[]};
for(var O=0;O<F.length;O++){var $=F[O],C=$.type,M=$.params,l=$.visible;if(C=="dropShadow"){var k=cK.Zb[cK.order.indexOf("DrSh")],d=JSON.parse(cK.sH[cK.order.indexOf("DrSh")]);
r[k].v.unshift({t:"Objc",v:d});var I=M.dropShadows;if(I.length!=1)throw"e";var c=I[0],Q=c.color,x=Q.value,U=c.dx,S=c.dy;
d.Clr.v=j.qS.NG({t:x.r,L:x.g,X:x.b});d.Opct.v.val=Math.round((Q.alpha!=null?Q.alpha:1)*100);d.uglg.v=!1;
d.enab.v=l!=null?l:!0;d.lagl.v.val=Math.round(180/Math.PI*Math.atan2(S,-U));d.Dstn.v.val=Math.round(Math.sqrt(U*U+S*S));
d.blur.v.val=Math.round(c.r*2.3)}}return r};dM.eY=function(F,r,$,C,M,l,k,d,I){var c=dM;l.add.vstk.fillEnabled.v=r!="none";
if(r=="none"){l.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:0,L:0,X:0})}}}else{var Q,x,U;if(r=="solid"){var S=F.color.value;
Q="SoCo";x=cK.oz;var z=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);U={t:"Objc",v:z};U.v.Clr.v=j.qS.NG({t:S.r,L:S.g,X:S.b})}else if(r=="gradient"){Q="GdFl";
x=cK.ap;var z=JSON.parse(cK.sH[cK.order.indexOf("GrFl")]),V=z.Grad.v,H,v,n;V.Intr.v=0;var t=F[r],Y=t.ref?d.gradients[t.ref]:t.meta.ux.gradientResources,i=["linear","radial","angular"].indexOf(Y.type),J=Y.stops;
z.Type.v.GrdT=["Lnr","Rdl","Angl"][i];if(i==0){var H=new hx(t.x1,t.y1),v=new hx(t.x2,t.y2);H.x=v.x+.5*(H.x-v.x);
H.y=v.y+.5*(H.y-v.y)}else{var H=new hx(t.cx,t.cy),v=new hx(t.cx+t.r,t.cy)}n=M;if(t.units=="objectBoundingBox"){var G=new hS(C.r,0,0,C.$,C.x,C.y);
H=G.pI(H);v=G.pI(v)}var G=c.$D(t.transform);H=G.pI(H);v=G.pI(v);G=$.P();G.v4();H=G.pI(H);v=G.pI(v);j.qS.aF(H,v,n,z);
var g=[];for(var O=0;O<J.length;O++){var W=J[O],L=W.color,S=L.value,b=L.alpha;if(b==null)b=1;g.push([W.offset,[S.r/255,S.g/255,S.b/255],b])}j.qS.p3(g,V);
U={t:"Objc",v:z}}else if(r=="pattern"){Q="PtFl";x=cK.Vq;var z=JSON.parse(cK.sH[cK.order.indexOf("patternFill")]),N;
U={t:"Objc",v:z};var T=F[r],a=T.meta.ux,R=a.uid,D=I["resources/"+R].buffer,h=a.flipX,K=a.flipY,X=R+h+K,w=dN.GN(D);
if(k._i[X])N=k._i[X];else{var s=new cS(0,0,T.width,T.height),A;if(s.XS()||w==null){s=new cS(0,0,1,1);
A=new ArrayBuffer(4)}else{var p=dN.LD(w);if(p.FK){var q=new kQ;p.YH(D,q);A=q.Ez().buffer}else{try{var f=p.YH(D)[0];
A=f.data;s=f.$Y}catch(ac){A=new ArrayBuffer(s.C()*4)}}}N={};N.id=kQ.Vm()+"-d71c-11e5-b1ae-a548a96e5f9f";
N.name="someImage";N.t6=[new Uint8Array(A),s];if(h)j.H.rQ(N.t6[0].slice(0),N.t6[0],s.r,s.$);if(K)j.H.a1L(N.t6[0].slice(0),N.t6[0],s.r,s.$);
k.o0(N);k._i[X]=N}var e=$.P();e.v4();e.translate(C.x,C.y);var o=C.r,E=C.$,u=N.t6[1].r,cd=N.t6[1].$,m=Math.max(o/u,E/cd);
if(a.scale)m*=a.scale;var aZ=new hS;aZ.translate(-u/2,-cd/2);aZ.scale(1/u,1/cd);if(a.offsetX!=null)aZ.translate(a.offsetX,a.offsetY);
aZ.scale(u,cd);aZ.scale(m,m);aZ.translate(o/2,E/2);aZ.concat(e);en.atC(N,z,0,0,1e3,aZ)}else console.log(r);
if(Q!=null){l.add[Q]={classID:"null"};for(var O=0;O<x.length;O++){var jN=x[O];l.add[Q][jN]=U.v[jN]}}}};
var cf=function(){function F(Y){return Y.tagName?Y.tagName.split(":").pop():null}function r(Y,i,J){if(J&&J[0]==null)J=null;
Y=new Uint8Array(Y);var H,N=1;if(Y[0]==255&&Y[1]==254)H=P.Fz(Y,2,(Y.length>>>1)-1);else H=P.qV(Y,0,Y.length);
var v=new DOMParser,n=v.parseFromString(H,"image/svg+xml"),G=n.getElementsByTagName("style")[0];if(G)G=Typr.U.SVG.cssMap(G.textContent);
else G={};var g=n.firstChild;while(F(g)!="svg")g=g.nextSibling;var W=new cS(0,0,100,100),L=g.getAttribute("viewBox"),b=g.getAttribute("width"),T=g.getAttribute("height"),a=b!=null?parseFloat(b):parseFloat(T),R=T!=null?parseFloat(T):parseFloat(b);
if(L){var D=$(L);W.x=D[0];W.y=D[1];W.r=D[2];W.$=D[3];if(b!=null){var h=D[2]/D[3],K=a/R;if(K>h){var X=D[3]*K-W.r;
W.x-=X/2;W.r+=X}if(K<h){var w=D[2]/K-W.$;W.y-=w/2;W.$+=w}}}else if(b!=null||T!=null){W.r=a;W.$=R}W=j.b.LY(W);
while(J&&Math.max(W.r*N,W.$*N)<Math.max(J[0],J[1]))N++;while(J==null&&Math.max(W.r,W.$)*N>8192)N*=.5;
i.Zp=!0;i.r=~~(W.r*N);i.$=~~(W.$*N);var s=new hS(N,0,0,N,-W.x*N,-W.y*N),A={Fu:U(g),a06:G,xI:0};C(n,g.children,i,s,A,new hS,0);
if(i.u.length==0){var p=i.at();p.Da("Layer");i.u.push(p)}}function $(Y){var i=" ";if(Y.indexOf(",")!=-1)i=",";
return Y.split(i).map(parseFloat)}function C(Y,i,J,H,v,n,G,g){var W=["display","opacity","fill-opacity","filter","clip-path"],L=0;
for(var b=0;b<i.length;b++){var T=i[b],a=F(T),R=T.getAttribute("id"),K=13,A=1,f="clip-path",e=null,i0=0;
if(R==null)R=T.getAttribute("data-name");var D=U(T,v.a06);for(var h in v.Fu)if((W.indexOf(h)==-1||g)&&D[h]==null)D[h]=v.Fu[h];
if(D["font-size"])K=d(D["font-size"],K);var X=c(T);if(T.getAttribute("dx"))X.P6+=d(T.getAttribute("dx"),K);
if(T.getAttribute("dy"))X.jw+=d(T.getAttribute("dy"),K);X.concat(H);var w=T.getAttribute("visibility"),N=D.display,s=J.at();
if(w=="hidden"||N=="none")s.Gj(!1);s.Da(R!=null?R.split(":::")[0]:"Layer");if(D.opacity)A*=parseFloat(D.opacity);
if(D["fill-opacity"]){var p=parseFloat(D["fill-opacity"]);if(p!=0)A*=p}s.gk=Math.round(255*A);if(D["mix-blend-mode"]){var q=dL.WS.indexOf(D["mix-blend-mode"]);
if(q!=-1)s.ww=dL.NH[q]}if(T.getAttribute(f)==null)f="mask";if(T.getAttribute(f)!=null||D["clip-path"]){var o=T.getAttribute(f);
if(o==null)o=D["clip-path"];o=o.slice(4,o.length-1);var E=Y.getElementById(o.slice(1)),cj=E?E.children:null,u=E&&E.tagName=="mask"&&cj[0]&&cj[0].tagName=="g";
if(u){var cd=cj[0].children[0];u=cd&&cd.tagName=="g"&&cd.children[0]&&cd.children[0].tagName=="image"}if(u){var m=cj[0].children[0],aZ=c(m);
aZ.concat(X);var jN=m.children[0];console.log(jN);var eh=M(J,jN,aZ),iA=v.DC=new Z.tp;iA.S=eh.S;iA.G=j.j(iA.S.C());
j.Eg(eh.buffer,iA.G,0)}else if(E){e=J.at();e.Da("Clip-Path"+(R?": "+R:""));e.add.lsct=G<2?jR.ul:jR.Xz;
e.ww="pass";e.U4=24;var hd=e.add.vmsk=new Z.kf;J.u.push(J.fm());var kx=[];if(E.getAttribute(f)){var o=E.getAttribute(f);
o=o.slice(4,o.length-1);kx=Y.getElementById(o.slice(1)).children}for(var O=0;O<cj.length;O++){var b0=c(cj[O]);
b0.concat(X);var gX=k(J,Y,cj[O],!1).slice(2);j.w.J_(gX,b0);hd.M=hd.M.concat(gX)}for(var O=0;O<kx.length;
O++){var b0=c(cj[O]);b0.concat(X);var gX=k(J,Y,kx[O],!1).slice(2);for(var j$=0;j$<gX.length;j$++)if(gX[O].ea!=null)gX[O].ea=3;
j.w.J_(gX,b0);hd.M=hd.M.concat(gX)}for(var O=0;O<hd.M.length;O++)if(hd.M[O].ea!=null)hd.M[O].ea=0;e.ud();
e.uH(J);G++}}if(D.filter&&D.filter!="none"){var f7=D.filter,gf,cC,aD,a9=!1,jz=!1,g3=!1;f7=f7.slice(5,f7.length-1);
var am=Y.getElementById(f7),c_=[0,0,0,.5],e3=X.w5();if(am)for(var O=0;O<am.children.length;O++){var c1=am.children[O],dI=F(c1);
if(dI=="feGaussianBlur"){a9=!0;gf=parseFloat(c1.getAttribute("stdDeviation"))*e3}if(dI=="feColorMatrix"){var kJ=c1.getAttribute("values");
if(kJ){kJ=kJ.split(" ").map(parseFloat);c_=[kJ[4],kJ[9],kJ[14],kJ[18]]}}if(dI=="feComposite"){g3=!0}if(dI=="feOffset"){jz=!0;
var cA=c1.getAttribute("dx"),c2=c1.getAttribute("dy");cC=parseFloat(cA?cA:0)*e3;aD=parseFloat(c2?c2:0)*e3}}if(a9&&(g3||jz)){var ee=g3?"IrSh":"DrSh";
if(ee=="IrSh"){s.add.iOpa=0}var hF=JSON.parse(cK.sH[cK.order.indexOf(ee)]);hF.blur.v.val=Math.round(gf*2.4);
var ic=Math.sqrt(cC*cC+aD*aD);hF.uglg.v=!1;hF.Dstn.v.val=Math.round(ic);hF.lagl.v.val=Math.round(Math.atan2(aD,-cC)*(180/Math.PI));
hF.Clr.v=j.qS.NG({t:c_[0]*255,L:c_[1]*255,X:c_[2]*255});hF.Opct.v.val=Math.round(c_[3]*100);l(s,cK.Zb[cK.order.indexOf(ee)],hF)}else if(a9)i0=gf}if(a=="g"||a=="a"||a=="svg"||a=="switch"||(a=="text"||a=="textPath")&&T.children.length>0||a=="symbol"&&g){if(a=="text")n=Q(T,n);
var eH=T.getAttribute("viewBox"),kz=T.getAttribute("width"),kq=T.getAttribute("height");if(a=="svg"&&kz&&kq&&eH==null)eH="0 0 "+kz+" "+kq;
if(eH&&kz&&kq){var a7=$(eH),i6=Q(T),hm=new hS;hm.translate(-a7[0],-a7[1]);hm.scale(parseFloat(kz)/a7[2],parseFloat(kq)/a7[3]);
hm.translate(i6.P6,i6.jw);hm.concat(X);X=hm}var bB=T.children.length,iV=v.Fu;v.Fu=D;var eO=v.xI;v.xI=Math.max(v.xI,i0);
var aC=a!="text"&&a!="textPath"||bB>1;if(aC){var fq=s.rR();s.add.lsct=G<2&&fq&&(R==null||!R.endsWith(":::"))?jR.ul:jR.Xz;
s.ww="pass";s.U4=24;s.Gj(fq);J.u.push(J.fm())}C(Y,T.children,J,X,v,n,G+1);if(aC)J.u.push(s);else{var bX=J.u[J.u.length-1];
bX.gk=s.gk;bX.ww=s.ww}v.xI=eO;v.Fu=iV}else if(a=="use"){var hm=Q(T);hm.concat(X);var gb=z(T),dX=Y.getElementById(gb.slice(1));
if(dX){var iV=v.Fu;v.Fu=D;if(D.filter)dX.setAttribute("filter",D.filter);C(Y,[dX],J,hm,v,n,G+1,!0);v.Fu=iV}}else if(a=="path"||a=="rect"||a=="circle"||a=="ellipse"||a=="polygon"||a=="polyline"||a=="line"){s.U4|=16;
var hd=s.add.vmsk=new Z.kf,cb=D.fill,e6=cb=="none"||D["fill-opacity"]&&parseFloat(D["fill-opacity"])==0,gn=D["fill-rule"]=="evenodd"?1:0;
hd.M=k(J,Y,T,gn==1,e6);hd.ea=gn;j.w.J_(hd.M,X);var a2=D.stroke,kf=D["stroke-width"],dj=D["stroke-dasharray"],hr=D["stroke-linejoin"];
if(hr==null)hr="miter";var iB=D["stroke-linecap"];if(iB==null)iB="butt";var dm=D["stroke-miterlimit"];
if(dm==null)dm=4;else dm=parseFloat(dm);var fr=D["paint-order"],dv=!(a2==null||a2=="none"||a2=="null"),hw=s.add.vstk=cK.Ok.Mv(null,dv),gT=D["stroke-opacity"]?parseFloat(D["stroke-opacity"]):1;
if(dv){var cu=I(Y,a2,X,hd.M,J),ha=["SoFi","GrFl","patternFill"].indexOf(cu.I),g1=cu.Y.v.Opct.v,es=1;
if(g1.val!=100||gT!=1&&e6){s.gk=Math.round(gT*s.gk*g1.val/100);g1.val=100;gT=1}var dd=[cK.oz,cK.ap,cK.Vq][ha],gj=hw.strokeStyleContent.v={classID:cK.Ok.zd[ha]};
for(var O=0;O<dd.length;O++)gj[dd[O]]=cu.Y.v[dd[O]];kf=kf?parseFloat(kf):1;if(fr&&fr.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){es=2;
kf/=2}var hV={Qn:["miter","round","bevel"].indexOf(hr),gE:["butt","round","square"].indexOf(iB),WV:kf,cR:dm};
if(dj!=null&&dj!="none")hV.x_=dj.split(",").map(parseFloat);cK.Ok.write(hw,hV,X.w5());hw.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cK.Ok.Fk[es];
hw.strokeStyleOpacity.v.val=100*gT;if(cu.rK)s.add._sstl=cu.rK}s.add.vstk.fillEnabled.v=!e6;if(e6){s.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:0,L:0,X:0})}}}else{var cu=I(Y,cb,X,hd.M,J),fx=null,iK=null;
if(cu.I=="SoFi"){fx="SoCo";iK=cK.oz}if(cu.I=="GrFl"){fx="GdFl";iK=cK.ap}if(cu.I=="patternFill"){fx="PtFl";
iK=cK.Vq}if(fx!=null){var g1=cu.Y.v.Opct.v;if(g1.val!=100){s.gk=Math.round(s.gk*g1.val/100);g1.val=100}s.add[fx]={classID:"null"};
for(var O=0;O<iK.length;O++){var h=iK[O];s.add[fx][h]=cu.Y.v[h]}}if(cu.rK)s.add._fstl=cu.rK}var eX=Math.max(i0,v.xI);
if(eX!=0)s.add.vmsk.nN=eX;s.ud();s.uH(J);J.u.push(s)}else if((a=="text"||a=="tspan")&&T.textContent!=""){n=Q(T,n);
var hm=n.P(),aD=0;hm.concat(X);if(a=="tspan"&&n.x!=0){}else hm.translate(L,0);if(T.children.length>0){var bo=U(T.children[0],v.a06);
for(var h in bo)if(W.indexOf(h)==-1)D[h]=bo[h]}var f8=D["xml:space"],dT=T.textContent;if(f8=="preserve")dT=dT.replace(/\t/g," ").replace(/\n/g," ");
if(R==null)s.Da(dT);s.add.lnsr="rend";s.add.TySh=ho.DB(0,0);s.add.TySh.xa=new cS(0,0,100,100);s.add.TySh.U=hm.P();
var it=s.add.TySh.$E;ho.uy(it,0,dT);if(a=="tspan")L+=K*dT.length*.5*hm.w5();var cb=D.fill,b_=D["font-weight"],cU=D["font-family"],iO=D["text-decoration"],a2=D.stroke,kf=D["stroke-width"],aV=D["dominant-baseline"];
if(aV=="text-before-edge")aD=K;else if(aV=="middle")aD=K/2;else if(aV=="hanging")aD=K;if(aD!=0)s.add.TySh.U.translate(0,aD);
var jD=ho.RT(it,0,1);if(cb&&cb!="none"){var c_=CSS.Eq(cb);jD.Uz.FillColor={Type:1,Values:[1,c_.t/255,c_.L/255,c_.X/255]}}if(iO=="underline")jD.Uz.Underline=!0;
jD.Uz.FontSize=Math.round(K);ho.jl(jD,"LiberationSans");if(b_=="bold")ho.jl(jD,"LiberationSans-Bold");
if(cU){cU=cU.split(",")[0].trim();if(cU[0]=="\"")cU=cU.slice(1);if(cU[cU.length-1]=="\"")cU=cU.slice(0,cU.length-1);
var bJ=cU+":"+(b_?b_:"normal"),gZ={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold","Source Sans Pro:normal":"SourceSansPro-Regular","Source Sans Pro:bold":"SourceSansPro-Bold"};
if(gZ[bJ])ho.jl(jD,gZ[bJ]);else ho.jl(jD,cU)}if(D["text-anchor"])jD.jv.Justification=["start","end","middle"].indexOf(D["text-anchor"]);
ho.WE(it,0,dT.length,jD);if(a2==null||a2=="none"){}else{var hF=JSON.parse(cK.sH[cK.order.indexOf("FrFX")]);
hF.Clr.v=j.qS.NG(CSS.Eq(a2));hF.Sz.v.val=Math.round(parseFloat(kf)*hm.w5());l(s,"frameFXMulti",hF)}J.u.push(s)}else if(a=="image"){var eh=M(J,T,X);
if(eh){eh.Da(s.getName());eh.U4=s.U4;s=eh;J.u.push(s);if(v.DC)s.Lj=v.DC;v.DC=null}}else console.log("unknown tag: "+a,T.children.length,T.textContent.length);
if(e!=null){J.u.push(e);G--}}}function M(Y,i,J){var H=z(i);if(H&&H.slice(0,4)=="data"){var v=dN.Pf(H),n=v,G=Y.eM(n,"hey",0,0),g=G.S.P();
g.x=g.y=0;var W=i.getAttribute("width"),L=i.getAttribute("height");if(W)g.r=parseFloat(W);if(L)g.$=parseFloat(L);
var b=Q(i);b.concat(J);var T=j.b.Vs(g).n;j.b.U(T,b,T);G.add.SoLd.Trnf=B.hL._V(T);G.add.SoLd.nonAffineTransform=B.hL._V(T);
G.d7(Y,!1);return G}}function l(Y,i,J){var H=Y.add.lmfx;if(H==null){var H=Y.add.lmfx=JSON.parse(cK.default);
for(var O=0;O<cK.order.length;O++)H[cK.Zb[O]]={t:"VlLs",v:[]}}H[i].v.push({t:"Objc",v:J})}function k(Y,i,J,H,v){var n=[{I:6},{I:8,all:0}],G=F(J);
if(G=="use"){var g=z(J),W=i.getElementById(g.slice(1)),L=new hS;if(F(W)!="rect")L=Q(W);L.concat(c(W));
n=k(Y,i,W,H,v);j.w.J_(n,L)}else if(G=="path"){var b=J.getAttribute("d");if(b==null)return n;var T=Typr.U.SVGToPath(b);
n=j.b.RJ({n:T.crds,C0:T.cmds},H,v)}else if(G=="rect"){var a=J.getAttribute("rx"),R=new hx(0,0);V("x",J,Y,R,!0);
V("y",J,Y,R,!1);var D=new hx(0,0);V("width",J,Y,D,!0);V("height",J,Y,D,!1);n=j.w.tQ.Rect(R.x,R.y,D.x,D.y,a?parseFloat(a):0)}else if(G=="circle"||G=="ellipse"){var h=[0,0,0,0],K=["cx","cy","rx","ry","r"];
for(var O=0;O<5;O++){var X=J.getAttribute(K[O]);if(X){X=parseFloat(X);if(O<4)h[O]=X;else h[2]=h[3]=X}}n=j.w.tQ.jI(h[0]-h[2],h[1]-h[3],2*h[2],2*h[3])}else if(G=="polygon"||G=="polyline"||G=="line"){var w;
if(G=="line")w=[J.getAttribute("x1"),J.getAttribute("y1"),J.getAttribute("x2"),J.getAttribute("y2")].map(parseFloat);
else w=J.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
n=j.w.tQ.KN(w,0,G!="polygon")}return n}function d(Y,i){if(Y.endsWith("em"))return i*parseFloat(Y.slice(0,Y.length-2));
else return parseFloat(Y)}function I(Y,i,J,H,v){var n,G,g,W=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]),L=j.w.t8(H),b=i!=null?i.indexOf("("):-1;
if(b!=-1){var T=i.indexOf(")"),a=i.slice(0,b).trim(),R=i.slice(b+1,T).trim();if(R.charAt(0)=="'"||R.charAt(0)=="\"")R=R.slice(1,R.length-1);
if(a=="url"){if(R.charAt(0)=="#"){var D=Y.getElementById(R.slice(1));if(D&&F(D).toLowerCase().endsWith("gradient")){g=t(Y,D,J,L,H);
var h=hq.ym(g,H);n="GrFl";G={t:"Objc",v:h}}else if(D&&F(D).toLowerCase()=="pattern"&&D.children[0]&&F(D.children[0])=="use"){n="SoFi";
G={t:"Objc",v:W};var K=D.children[0],X=c(K),w=z(K),N=Y.getElementById(w.slice(1)),s;if(z(N)){var A=dN.Pf(z(N)).buffer,f=dN.LD(dN.GN(A));
s=f.YH(A)[0]}else{var e=new Uint32Array(4*4);e.fill(4278220799);s={data:e.buffer,$Y:new cS(0,0,4,4)}}var o={};
o.id=kQ.Vm()+"-d71c-11e5-b1ae-a548a96e5f9f";o.name="someImage";o.t6=[new Uint8Array(s.data),s.$Y];v.o0(o);
var W=JSON.parse(cK.sH[cK.order.indexOf("patternFill")]);W.Scl.v.val=Math.round(100*L.r*X.xz);var E=W.phase.v;
E.Hrzn.v=Math.round(L.x+X.P6*L.r);E.Vrtc.v=Math.round(L.y+X.jw*L.$);W.Ptrn.v.Idnt.v=o.id;n="patternFill";
G={t:"Objc",v:W}}else{n="SoFi";G={t:"Objc",v:W}}}else console.log("unknown url",R)}else if(a=="rgb"||a=="rgba"||a=="hsla"){n="SoFi";
G={t:"Objc",v:W};G.v.Clr.v=j.qS.NG(CSS.Eq(i));if(a=="rgba"||a=="hsla")G.v.Opct.v.val=Math.round(100*parseFloat(i.split(",").pop()))}else console.log("unknown fill",i)}else{n="SoFi";
G={t:"Objc",v:W};var cj=CSS.Eq(i);G.v.Clr.v=j.qS.NG(cj);if(cj.xz!=null)G.v.Opct.v.val=Math.round(100*cj.xz/255)}return{I:n,Y:G,rK:g}}function c(Y){var i=new hS,J=Y.getAttribute("transform");
if(J)i=x(J);var H=Y.getAttribute("style");if(H!=null){var v={};S(v,H,["transform"]);H=v.transform;if(H)i.concat(x(H))}return i}function Q(Y,i){var J=new hS,H=Y.getAttribute("x"),v=Y.getAttribute("y");
if(H)J.P6=parseFloat(H);else if(i)J.P6=i.P6;if(v)J.jw=parseFloat(v);else if(i)J.jw=i.jw;return J}function x(Y){var i=Typr.U.SVG.readTrnf(Y);
return new hS(i[0],i[1],i[2],i[3],i[4],i[5])}function U(Y,i){var J={},H="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap stroke-miterlimit font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order clip-path mix-blend-mode xml:space".split(" ");
for(var O=0;O<H.length;O++){var v=Y.getAttribute(H[O]);if(v!=null&&v!="inherit")J[H[O]]=v}var n=Y.getAttribute("class");
if(i!=null&&n!=null&&i["."+n]!=null)S(J,i["."+n],H);var G=Y.getAttribute("id");if(i!=null&&G!=null&&i["#"+G]!=null)S(J,i["#"+G],H);
var g=Y.getAttribute("style");if(g!=null)S(J,g,H);return J}function S(Y,i,J){i=i.trim().split(";");for(var O=0;
O<i.length;O++){var H=i[O].split(":"),v=H[0]?H[0].trim():"",n=H[1]?H[1].trim():"";for(var G=0;G<J.length;
G++)if(v==J[G]&&n!="inherit")Y[J[G]]=n}}function z(Y){var i=Y.getAttribute("xlink:href");if(i==null)i=Y.getAttribute("href");
if(i==null)i=Y.getAttribute("xl:href");return i}function V(Y,i,J,H,v){var n=i.getAttribute(Y);if(n==null)return;
var G=parseFloat(n);if(n.endsWith("%"))G*=(v?J.r:J.$)/100;if(v)H.x=G;else H.y=G}function t(Y,i,J,H,v){var n=V,G=new hS,g=i.getAttribute("gradientTransform"),R=!1;
if(g)G=x(g);G.concat(J);var W=F(i)=="linearGradient"?0:1,L=new hx(0,0),b=new hx(1,0),T=L.P();if(W==0){var a=new cS(0,0,1,1);
n("x1",i,a,L,!0);n("y1",i,a,L,!1);n("x2",i,a,b,!0);n("y2",i,a,b,!1);T.I_(L.x,L.y)}if(W==1){if(i.getAttribute("cx"))L.x=parseFloat(i.getAttribute("cx"));
if(i.getAttribute("cy"))L.y=parseFloat(i.getAttribute("cy"));b.I_(L.x,L.y);T.I_(L.x,L.y);if(i.getAttribute("r"))b.x+=parseFloat(i.getAttribute("r"));
if(i.getAttribute("fx"))T.x=parseFloat(i.getAttribute("fx"));if(i.getAttribute("fy"))T.y=parseFloat(i.getAttribute("fy"))}var D=i;
while(!0){if(D.getAttribute("gradientUnits")=="userSpaceOnUse")R=!0;var h=z(D);if(h==null||h=="none")break;
D=Y.getElementById(h.slice(1))}if(!R)G=new hS(H.r,0,0,H.$,H.x,H.y);G=hq.qf(L,b,G);var K=hq.oC(W,G,v);
hq.bE(K,L,b,T);var X=i.children,w=K[1]=[];if(X.length==0){var N=z(i);if(N==null)throw"gradient has no stops";
var s=Y.getElementById(N.slice(1));if(s==null){console.log(N.slice(1))}else w=K[1]=t(Y,s,G,H,v)[1]}else for(var O=0;
O<X.length;O++){var A=X[O],p=U(A),q=p["stop-color"],f=p["stop-opacity"],e=A.getAttribute("offset");if(q==null)q="#000000";
f=f==null?1:parseFloat(f);var o=e?parseFloat(e):0;if(e&&e.endsWith("%"))o/=100;q=CSS.Eq(q);if(q.xz!=null)f*=q.xz/255;
w.push([o,[q.t/255,q.L/255,q.X/255],parseFloat(f),.5])}return K}return{CO:r}}();cf.Ns=function(){var F=null,r="",$="",C;
function M(W,L,b,T){var a=[],K=" { ",X=" } ",w=!1;F=L;$=L.sE?"":"\t";r=L.sE?"":" ";var R=L.a8V,D=L.ao3;
C=gw==0?new cS(0,0,W.r,W.$):W.qx();if(T!=null){C=W.root.children[T].z.dh();R=C.r;D=C.$}a.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\""+[C.x,C.y,C.r,C.$].join(" ")+"\" width=\""+R+"\" height=\""+D+"\">");
if(!L.sE)a.push(l(1)+"<title>"+i(W.name.split(".")[0])+"</title>");var h={r8:[],FL:[],d3:0,LO:0,Ed:0,$U:{},ll:{},HR:0,nt:{},axi:{},ot:0,v7:[]};
z(W,h,W.root.children,1,L,b,T);if(h.r8.length!=0){a.push(l(1)+"<defs>");a=a.concat(h.r8);a.push(l(1)+"</defs>")}a.push(l(1)+"<style>");
if(L.sE){K="{";X="}"}for(var O=0;O<W.u.length;O++)if(W.u[O].add.TySh)w=!0;if(w&&!L.amM&&!L.aD5)a.push(l(2)+"tspan"+K+"white-space:pre"+X);
for(var N in h.nt)a.push(l(2)+"."+N+K+h.nt[N]+X);a.push(l(1)+"</style>");a=a.concat(h.FL);a.push("</svg>");
a=a.join(L.sE?"":"\n");return P.V4(a)}function l(bU){var W="";for(var O=0;O<bU;O++)W+=$;return W}function k(bU,W){if(W==null)W=1;
var L=""+parseFloat(bU.toFixed(W));if(L.startsWith("0."))L=L.slice(1);return L}function d(W,L){var b=W.add.lmfx;
if(b)b=b[L].v[0];if(b)b=b.v;if(b&&!b.enab.v)b=null;return b}function I(W,L){var b=d(W,"frameFXMulti");
if(b){var T=b.Sz.v.val;if(b.Styl.v.FStl=="OutF"){L.push("paint-order:stroke fill markers");T*=2}S(L,CSS.e9(b.Clr.v),1);
if(T!=1)L.push("stroke-width: "+T);L.push("stroke-linejoin: round;")}}var c="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
function Q(W){var L=c.length,b="";for(var T=1;T<10;T++){var a=(L-10)*~~Math.pow(L,T-1);if(W<a){for(var O=0;
O<T;O++){var R=O==T-1?10:0,D=L-R,h=W%D;b=c[h+R]+b;W=Math.floor((W-h)/D)}break}W-=a}return b}function x(W,L,b,T){if(W.length!=0){if(T==null)T="s";
var a=W.join(";"),R=L.axi[a];if(R==null){R=F.sE?Q(L.ot):T+L.ot;L.ot++;L.axi[a]=R;L.nt[R]=a}if(b)b.push(R);
return R}}function U(W){if(F.sE&&W.length==7&&W[0]=="#"){if(W[1]==W[2]&&W[3]==W[4]&&W[5]==W[6])W="#"+W[1]+W[3]+W[5]}return W}function S(W,L,b){L=U(L);
if(L!="#000"||b==1)W.push((b==0?"fill:":"stroke:")+r+L)}function z(W,L,b,T,a,R,D){var h=!1;for(var K=0;
K<b.length;K++){var X=b[K].z,w=X.add.lsct;if(X.Ge)continue;if(X.add.artb&&D!=null&&K!=D)continue;if(!X.p9&&b[K+1]&&b[K+1].z.p9&&X.Og()&&X.add.vmsk){var N=[];
H(X,X.add.vmsk,L,N);L.FL.push(l(T)+"<g "+N[0]+">");T++;h=!0}else if(!X.p9&&b[K-1]&&b[K-1].z.p9&&h){T--;
L.FL.push(l(T)+"</g>");h=!1}var s=X.add.vmsk,A=X.add.vogk,p=X.add.vstk,q=X.add.TySh;if(s&&!s.isEnabled)s=p=null;
var f=[];if(!a.hidden&&!X.rR())continue;var e=X.gk/255,o=X.add.iOpa?X.add.iOpa/255:1;if(X.EX()){e*=o;
o=1}if(e!=1)f.push("opacity:"+r+k(e));if(o!=1)f.push("fill-opacity:"+r+k(o));if(X.ww!="norm"){var E=dL.WS[dL.NH.indexOf(X.ww)];
if(E!=null)f.push("mix-blend-mode:"+r+E)}if(!X.rR())f.push("display:"+r+"none");var N=[],cj=[],u=X.getName(),cd=u.indexOf(" .");
if(!a.sE&&u!="Layer")N.push("id=\""+i(u)+"\"");var m=en.aww(X.add.lmfx,X.add),aZ=m[0],jN=m[1],eh=X.add.SoLd;
if(eh&&eh.filterFX){var iA=eh.filterFX.v;if(iA.enab.v&&iA.filterFXList.v.length!=0)eh=null}var hd=[];
if(s&&!X.Og()&&!X.EX())H(X,s,L,hd);if(hd.length!=0)L.FL.push(l(T)+"<g "+Y(hd,cj)+">");if(X.EX()){var kx=b[K].children;
if(kx.length==1&&kx[0].z.add.SoLd&&!a.lA){}else{var b0=s,gX=kx.length==0?null:kx[kx.length-1].z;if(gw==1&&gX&&gX.Ge&&gX.rR())b0=gX.add.vmsk;
H(X,b0,L,N);if(f.length!=0)N.push("style=\""+f.join(";")+"\"");if(aZ){var j$=CSS.e9(aZ.Clr.v),i0="f"+L.LO;
L.LO++;L.FL.push(l(T)+"<filter id=\""+i0+"\">");L.FL.push(l(T+1)+"<feFlood flood-color=\""+j$+"\" flood-opacity=\""+k(aZ.Opct.v.val/100,2)+"\" />");
L.FL.push(l(T+1)+"<feBlend mode=\""+dL.WS[dL.NH.indexOf(dL.Gg(aZ.Md.v.BlnM))]+"\" in2=\"SourceGraphic\"/>");
L.FL.push(l(T+1)+"<feComposite in2=\"SourceAlpha\" operator=\"in\" />");L.FL.push(l(T)+"</filter>");
N.push("filter=\"url(#"+i0+")\"")}var f7=Y(N,cj),am=a.sE&&f7=="";if(!am)L.FL.push(l(T)+"<g"+(f7==""?"":" "+f7)+">");
z(W,L,kx,T+1,a,R);if(!am)L.FL.push(l(T)+"</g>")}}else if(X.Og()&&s==null){v(W,f,X.add,L,C,a);if(f.length!=0)N.push("style=\""+f.join(";")+"\"");
L.FL.push(l(T)+"<rect width=\""+C.r+"\" height=\""+C.$+"\" "+Y(N,cj)+"/>")}else if(s&&X.Og()&&X.add.PtFl==null){v(W,f,X.add,L,gm,a,s.M);
x(f,L,cj);var gf,cC=null,aD=0,c_;if(A.length!=0){gf=A[0].v;cC=gf.keyOriginType;if(cC)cC=cC.v;if(cC==2){var a9=j.EL.vt(gf);
aD=a9[0];for(var O=0;O<3;O++)if(aD!=a9[O+1])cC=null}}if(A.length==1&&cC==5&&Math.abs(j.EL.a9I(gf))<1e-4){var jz=j.EL.TK(gf),g3=(jz[0]+jz[2])/2,e3=(jz[1]+jz[3])/2,c1=g3-jz[0],dI=e3-jz[1],kJ=Math.abs(c1-dI)<.01,cA=kJ?"r=\""+k(c1)+"\"":"rx=\""+k(c1)+"\" ry=\""+k(dI)+"\"";
c_="<"+(kJ?"circle":"ellipse")+" "+Y(N,cj)+" cx=\""+k(g3)+"\" cy=\""+k(e3)+"\" "+cA+"/>"}else if(A.length==1&&cC==2&&aD!=0&&Math.abs(j.EL.a9I(gf))<1e-4){var jz=j.EL.TK(gf),c2=jz[0],ee=jz[1],hF=jz[2]-jz[0],ic=jz[3]-jz[1],eH="";
if(c2!=0)eH+=" x=\""+k(c2)+"\"";if(ee!=0)eH+=" y=\""+k(ee)+"\"";eH+=" width=\""+k(hF)+"\"";eH+=" height=\""+k(ic)+"\"";
eH+=" rx=\""+k(aD)+"\"";c_="<rect "+Y(N,cj)+eH+"></rect>"}else{var kz,kq;if(gw==0){var a7=j.w.CS(s.M,1);
kz=a7.Yk;kq=a7.wp}else{var i6=j.b.oJ(s.M);kz=Typr.U.pathToSVG({crds:i6.n,cmds:i6.C0},1);kq=s.ea}if(kq!=0){N.push("fill-rule=\"evenodd\"")}c_="<path "+Y(N,cj)+" d=\""+kz+"\"/>"}L.FL.push(l(T)+c_)}else if(q&&a.amM){r=a.sE?"":" ";
var hm=q.$E,bB=new j5(hm,R,q.Yb),iV=null;if(aZ)iV=CSS.e9(aZ.Clr.v);if(jN){var jz=X.S.P();g(jN,L,jz,a);
iV="url(#g"+L.d3+")"}if(iV)f.push("fill:"+r+iV);I(X,f);var i6=dJ.Pe(bB,q,!0),eO=j.b.el(i6);for(var aC in eO){var fq=f.slice(0),bX=cj.slice(0),gb=N.slice(0);
if(iV==null){S(fq,aC.slice(0,7),0);if(aC.length>7){var dX=dJ.a2t(aC.slice(7));S(fq,G(dX.XX),1);n(dX,fq)}}x(fq,L,bX);
var cb=eO[aC],e6=Typr.U.pathToSVG({crds:cb.n,cmds:cb.C0},1);L.FL.push(l(T)+"<path "+Y(gb,bX)+(a.sE?"":" "+t(q))+" d=\""+e6+"\"/>")}}else if(q&&!a.aD5){var hm=q.$E,gn=q.U.P(),iV=null;
f.push("transform:"+r+J(gn));var a2=ho.OD(hm),bB=new j5(hm,R,q.Yb);I(X,f);if(f.length!=0)N.push("style=\""+f.join(";")+"\"");
L.FL.push(l(T)+"<text "+Y(N,cj)+" >");if(aZ)iV=CSS.e9(aZ.Clr.v);if(jN){var jz=X.S.P();jz.x-=gn.P6;jz.y-=gn.jw;
g(jN,L,jz,a);iV=" url(#g"+L.d3+")"}for(var O=0;O<bB.jv.length;O++){var kf=bB.jv[O];if(kf.zG.length==1&&kf.zG[0].pw)continue;
for(var dj=0;dj<kf.M0.length;dj++){var hr=kf.M0[dj],e3=kf.wT.y+hr.wT.y,iB=kf.zG[hr.start].start,dm=kf.zG[hr.end-1].end,fr=ho.afq(hm,iB,dm),dv="";
for(var hw=0;hw<fr.length;hw++){var gT=bB.Ni(iB),cu=fr[hw],ha=ho.RT(hm,iB,iB),g1=ha.WX[ha.Uz.Font].Name,aC=ho.MB(ha.Uz.FillColor),dd=Math.round(ha.Uz.FontSize),gj=a2.slice(iB,iB+cu);
if(ha.Uz.FontCaps==2)gj=gj.toUpperCase();var es=new hS;es.translate(gT.OV.x,-e3);var hV=[];CSS.axC(hV,ha,null,!0,!0,iV);
var fx=x(hV,L,null,"t");fx=fx?" class=\""+fx+"\"":"";var g3=gT.OV.x,iK=V(ha,gj);dv+="<tspan "+(hw==0?"x=\""+k(gT.OV.x)+"\"":"")+" y=\""+k(e3)+"\""+fx+iK+">"+i(gj)+"</tspan>";
iB+=cu}L.FL.push(l(T+1)+dv)}}L.FL.push(l(T)+"</text>")}else if(eh&&a.lA&&aZ==null){var i0=eh.Idnt.v,eX=0,bo=eh.Crop?eh.Crop.v:null;
console.log(bo);if(L.ll[i0]!=null)eX=L.ll[i0];else{L.HR++;eX=L.HR;L.ll[i0]=L.HR;var f8=W.M3(i0,bo),b_="";
if(f8==null)return;var dT=f8.gn,it=dN.GN(f8.raw.buffer);console.log(it);if(it=="pdf"){var cU=new kQ("h");
dN.LD("PDF").YH(f8.raw.buffer,cU);cU.CJ();cU.mC();cU.vM();cU.ol();if(eh.Crop&&eh.Crop.v==1){B.i0.hH(cU,cU.root.y2(cU,!0))}var iO=dN.LD("SVG").x2(cU,cU.r,cU.$,null,{v7:R});
b_="data:image/svg+xml;base64,"+dN.Ml(iO)}else if(it=="jpg"||it=="png"||it=="gif"||it=="svg"){var aV={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
b_="data:"+aV[it]+";base64,"+dN.Ml(f8.raw.buffer)}else{b_=dN.yd(dT[0].buffer,dT[1].r,dT[1].$)}var jD=eh.Sz.v;
L.r8.push(l(2)+"<image width=\""+jD.Wdth.v+"\" height=\""+jD.Hght.v+"\" id=\"img"+eX+"\" href=\""+b_+"\"/>")}var bJ=j.H.b6(eh);
if(f.length!=0)N.push("style=\""+f.join(";")+"\"");var gZ=Y(N,cj);L.FL.push(l(T)+"<use "+gZ+" href=\"#img"+eX+"\" transform=\""+J(bJ)+"\"/>")}else if(!X.S.XS()&&(a.lA||q)){if(f.length!=0)N.push("style=\""+f.join(";")+"\"");
var gZ=Y(N,cj),aK=X.buffer;if(aZ)aK=en.agB(aK,aZ,X.S);var kq=X.S;L.HR++;var b_=dN.yd(aK.buffer,kq.r,kq.$,"png",null,!0);
L.r8.push(l(2)+"<image "+t(q)+" width=\""+X.S.r+"\" height=\""+X.S.$+"\" id=\"img"+L.HR+"\" href=\""+b_+"\"/>");
L.FL.push(l(T)+"<use "+gZ+" href=\"#img"+L.HR+"\" x=\""+kq.x+"\" y=\""+kq.y+"\"/>")}if(hd.length!=0)L.FL.push(l(T)+"</g>")}if(h){T--;
L.FL.push(l(T)+"</g>");h=!1}}function V(W,L){var b=W.Uz.Tracking,T="";if(b!=null&&b!=0){b=Math.round(b*W.Uz.FontSize/1e3);
T=" dx=\"0";for(var a=1;a<L.length;a++)T+=" "+b;T+="\" "}return T}function t(W){if(W==null)return"";
var L=W.$E,b=ho.OD(L);b=i(b.slice(0,b.length-1));return"aria-label=\""+b+"\" "}function Y(W,L){if(L.length!=0)W.push("class=\""+L.join(" ")+"\"");
return W.join(" ")}function i(W){return String(W).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")}function J(W){var L=[W.xz,W.X,W.gb,W.G0,W.P6,W.jw];
for(var O=0;O<6;O++)L[O]=k(L[O],3);return"matrix("+L.join(",")+")"}function H(W,L,b,T){if(L||W.add.artb){var a;
if(L)a=j.w.CS(L.M).Yk;else{var R=W.dh(),D=j.b.Vs(R);a=Typr.U.pathToSVG({crds:D.n,cmds:D.C0},1)}b.Ed++;
T.push("clip-path=\"url(#cp"+b.Ed+")\"");b.r8.push(l(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+b.Ed+"\">");
b.r8.push(l(3)+"<path d=\""+a+"\"/>");b.r8.push(l(2)+"</clipPath>")}}function v(W,L,b,T,a,R,D){var h=b.vmsk,K=b.lmfx,X=[];
if(h&&h.nN!=0){var w=k(h.nN);if(T.$U[w]==null){T.LO++;T.$U[w]=T.LO;T.r8.push(l(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+T.LO+"\"> <feGaussianBlur stdDeviation=\""+w+"\"/> </filter>")}X.push("url(#f"+T.$U[w]+")")}if(K)for(var O=0;
O<cK.order.length;O++){var N=cK.order[O],s=cK.Zb[O],A=K[s].v;console.log(K);for(var p=0;p<A.length;p++){var q=A[p].v,f=q.classID;
if(!q.enab.v||!K.masterFXSwitch.v)continue;if(f=="OrGl"||f=="DrSh"){T.LO++;X.push("url(#f"+T.LO+")");
var e=0,o=0,E=q.blur.v.val/2.4,cj=q.Opct.v.val/100;if(f=="DrSh"){var u=q.uglg&&q.uglg.v?W.e4():q.lagl.v.val;
u=u*(Math.PI/180);var cd=q.Dstn.v.val;e=-Math.cos(u)*cd;o=Math.sin(u)*cd}if(f=="OrGl")cj/=q.Inpr.v.val/100;
var m="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+T.LO+"\" >";m+="<feDropShadow dx=\""+e+"\" dy=\""+o+"\" stdDeviation=\""+E+"\" flood-color=\""+CSS.e9(q.Clr.v)+"\" flood-opacity=\""+k(cj)+"\"/>";
m+="</filter>";T.r8.push(l(2)+m)}}}if(X.length!=0)L.push("filter:"+r+X.join(" "));var aZ=b.vstl;if(aZ==null)aZ=kQ.mN(b,W);
for(var O=0;O<2;O++){var jN=O==0?aZ.rK:aZ.XX;if(jN.length==0){if(O==0)L.push("fill:"+r+"none")}else if(jN.length==3)S(L,G(jN),O);
else{g(jN,T,a,R,D);S(L,"url(#g"+T.d3+")",O)}}if(aZ.XX.length!=0){n(aZ,L)}}function n(W,L){var b=W.gE,T=W.Qn,a=W.WV,R=W.QK,D=W.x_;
if(R==2){a*=2;L.push("paint-order:stroke fill markers")}if(b!=0)L.push("stroke-linecap:"+r+["butt","round","square"][b]);
if(T!=0)L.push("stroke-linejoin:"+r+["miter","round","bevel"][T]);else if(W.cR!=4)L.push("stroke-miterlimit:"+W.cR);
if(a!=1)L.push("stroke-width:"+r+k(a));if(D.length!=0)L.push("stroke-dasharray:"+r+D.join(","))}function G(W){return CSS.ix({t:W[0]*255,L:W[1]*255,X:W[2]*255})}function g(W,L,b,T,a){if(a==null)a=j.w.tQ.Rect(b.x,b.y,b.r,b.$);
if(!(W instanceof Array))W=hq.ee(W,a);L.d3++;var R=W[0],D=(R==1?"radial":"linear")+"Gradient",h=l(2)+"<"+D+" id=\"g"+L.d3+"\"",K="";
if(T.sE){if(L.d3==1)L.r8.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");K=" href=\"#P\""}else K=" gradientUnits=\"userSpaceOnUse\"";
var X=hq.dg(W,a),w=[new hx(0,0),new hx(1,0)];K+=" gradientTransform=\""+J(X)+"\"";var N=T.sE?2:3;if(R==0)L.r8.push(h+" x2=\"1\""+K+">");
if(R==1){if(W[2][6]!=0){var s=W[2][5]*Math.PI/180,A=W[2][6];L.r8.push(h+" cx=\"0\" cy=\"0\" r=\"1\" fx=\""+k(Math.cos(s)*A,N)+"\" fy=\""+k(-Math.sin(s)*A,N)+"\""+K+">")}else L.r8.push(h+" cx=\"0\" cy=\"0\" r=\"1\""+K+">")}var p=W[1];
for(var O=0;O<p.length;O++){var q=p[O],f=q[0],e=q[1],o=q[2];o=o==1?"":" stop-opacity=\""+k(o,N)+"\"";
var E=f==0&&T.sE?"":" offset=\""+k(f,N)+"\"",cj=G(e);cj=T.sE&&cj=="#000000"?"":" stop-color=\""+U(cj)+"\"";
L.r8.push(l(3)+"<stop"+E+cj+o+"/>")}L.r8.push(l(2)+"</"+D+">")}cf.h0=J;return M}();cf.tQ=function(F,r,$,C,M){var l=[],k=cf.tQ,d=!1,I={a0:F,Y9:r,VX:[!0,!0,!0],QP:!1,Ke:$,abK:0};
I.b7=Math.round(Math.max(F,r)*(.02+k.vo(I)*.03));I.$W=k.ahv(I);I.c0=k.agw(I.$W,(k.vo(I)<.5?-1:1)*(.2+k.vo(I)*.3));
if(k.vo(I)<.5){var c=I.$W;I.$W=I.c0;I.c0=c}I.aE0=k.vo(I)<.4&&k.at1(I.c0,{t:1,L:1,X:1})>.3;I.aH2=k.vo(I)<.5?0:1;
l.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+F+" "+r+"\" width=\""+F+"\" height=\""+r+"\">");
I.Mn=C[Math.floor(k.BG(I)*C.length)];I.me=C[Math.floor(k.BG(I)*C.length)];l.push("<style>");l.push("@font-face {  font-family: "+I.Mn[2]+";  src: url("+ht.Kq("rsrc/fonts/"+I.Mn[5])+");  }");
l.push("@font-face {  font-family: "+I.me[2]+";  src: url("+ht.Kq("rsrc/fonts/"+I.me[5])+");  }");l.push("</style>");
var Q=[0,0,F,r],x=Q;if(M==null)l.push("<path style=\"fill: "+k.Bu(I.$W)+"\" d=\""+k.Rect(Q[0],Q[1],Q[2]-Q[0],Q[3]-Q[1])+"\" id=\"Background\" />");
else{I.QP=!0;k.a5t(I,Q,l,M)}if(k.vo(I)<.25&&!I.QP){I.VX[0]=I.VX[2]=!1;k.aBd(Q,I,l);x=Q}else if(k.vo(I)<.25||I.QP)x=Q;
else{var U=.52+k.vo(I)*.2;if(k.vo(I)<.5)U=1-U;var S=Q.slice(0),z=Q.slice(0);if(k.vo(I)<.5)S[2]=z[0]=Math.round(U*F);
else S[3]=z[1]=Math.round(U*r);if(k.vo(I)<.5){var c=S;S=z;z=c}x=S;k.a5$(I,z,l,M)}k.aC$(I,x,l);l.push("</svg>");
l=l.join("\n");var V=j.j(Math.round(l.length*1.5)),t=P.hm(l,V,0);return[V.buffer.slice(0,t),I.gf]};cf.tQ.aBd=function(F,r,$){var C=cf.tQ,M=F[2]-F[0],l=F[3]-F[1];
if(C.vo(r)<.5){$.push("<path id=\"Border\" style=\"fill: "+C.Bu(r.c0)+"\" d=\""+C.aBx(F[0],F[1],F[2]-F[0],F[3]-F[1],r.b7)+"\" />")}else{var k=C.vo(r)<.5?0:1,d=(k==0?l:M)/4,I=C.Ze(r,k,F,$,d,!0),I=C.Ze(r,k+2,F,$,d,!0,I)}};
cf.tQ.aC$=function(F,r,$){var C=cf.tQ,M="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),l=2*Math.floor(C.vo(F)*M.length/2),k=r[2]-r[0],d=r[3]-r[1],c=0,x=0;
F.EO=(F.a0+k)*.5*(.04+C.vo(F)*.05);F.EO=Math.min(F.EO,d*.4,k*.12);F.EO=Math.round(F.EO);var I=Math.min(F.EO*M[l].length*(.35+.3*C.vo(F)),k*.9),Q=(r[1]+r[3])/2,U=j.eN(F.$W)<.85?{t:1,L:1,X:1}:{t:.1,L:.1,X:.1};
if(C.vo(F)<.25&&F.VX[0]){x=0;c=r[0]+F.b7}else if(C.vo(F)<.33&&F.VX[2]){x=2;c=r[2]-F.b7}else{x=1;c=(r[0]+r[2])/2}var S=U.t==1?"0,0,0":"255,255,255",z=F.QP&&C.vo(F)<1;
if(z){var V=r[0],t=k,Y=Q-F.EO*1.1,i=F.EO*2.2,J=.7;if(x==1&&C.vo(F)<.5){V=Y=.2*Math.min(k,d);t=k-2*Y;
i=d-Y-Y}else if(C.vo(F)<.7){V=Y=0;t=k;i=d;J=.25}$.push("<path id=\"Strip\" style=\"fill: rgb("+S+"); opacity: "+J+"\" d=\""+C.Rect(V,Y,t,i)+"\" />")}if(C.vo(F)<.4){var H=F.EO*.07;
H*=1.5+C.vo(F)*1;if(x==-1&&k/d<3&&!z){$.push("<path id=\"Bar-bottom\" style=\"fill: "+C.Bu(U)+"\" d=\""+C.Rect(c-I/2,Q+F.EO*1.1-H/2,I,H)+"\" />");
$.push("<path id=\"Bar-top\"    style=\"fill: "+C.Bu(U)+"\" d=\""+C.Rect(c-I/2,Q-F.EO*1.1-H/2,I,H)+"\" />")}if(x!=1){$.push("<path id=\"Bar\" style=\"fill: "+C.Bu(U)+"\" d=\""+C.Rect(c-H/2,Q-F.EO*.8,H,F.EO*.8*2)+"\" />");
c+=(x==0?1:-1)*F.EO/3}}var v=F.EO*.4;$.push(C.apV(M[l+1],c,Q+v*1.6,v,U,x,F.me));$.push(C.apV(M[l],c,Q+F.EO*.04,F.EO,U,x,F.Mn))};
cf.tQ.a5$=function(F,r,$,C){var M=r[2]-r[0],l=r[3]-r[1],k=Math.max(M,l),d=Math.min(M,l),I=cf.tQ;if(k/d<5&&!F.QP&&!1){I.a5t(F,r,$,C)}else if(I.vo(F)<0)$.push("<path style=\"fill: "+I.Bu(F.c0)+"\" d=\""+I.Rect(r[0],r[1],M,l)+"\" />");
else{var c=0;if(r[3]!=F.Y9)c=0;if(r[2]!=F.a0)c=3;if(r[0]!=0)c=1;if(r[1]!=0)c=2;var Q=c+2&3;if(k/d<3){var x=I.asv(Q),U=x[Math.round(I.vo(F)*(x.length-1))],S=U.du.slice(0,4),z=S.indexOf(1);
U=j.N(U);var V=-1;if(S!="0000"){var t=new hS;if(U.du[5]=="0"){if(z==3&&c==1){V=1;t.scale(-1,1)}else V=z}else{var Y=Q;
while(Y==Q)Y=Math.floor(I.vo(F)*4)&3;t.rotate((-z+Y)*Math.PI/2)}I.U(U,t)}var i=I.sY(U),J=M-2*F.b7,H=l-2*F.b7;
if(V!=-1){if((V&1)==0)H-=F.b7;else J-=F.b7}var v=Math.min(J/i.r,H/i.$),n=new hS;n.translate(-i.x,-i.y);
n.scale(v,v);var G=(M-i.r*v)/2,g=(l-i.$*v)/2;if(V!=-1){if(V==3)G=0;if(V==0)g=0;if(V==1)G=M-i.r*v;if(V==2)g=l-i.$*v}n.translate(r[0]+G,r[1]+g);
I.QZ(F,U,n,F.c0,$)}else{I.Ze(F,c,r,$,1e9)}}};cf.tQ.a5t=function(F,r,$,C){var M=r[2]-r[0],l=r[3]-r[1],k=Math.max(M,l),d=Math.min(M,l),I=cf.tQ,c=I.BG(F),Q,x,U,S=C[0]instanceof ArrayBuffer;
if(S){Q="data:image/jpg;base64,"+bF._w(C[0]);x=C[1];U=C[2]}else{var z=Math.floor(c*C.length),V=C[z];
F.gf=V;Q=V.webformatURL;x=V.webformatWidth;U=V.webformatHeight}var t=r[0],Y=r[1],i=M,J=l;if(M/l>x/U){J=i*U/x;
Y=Y-(J-l)/2}else{i=J*x/U;t=t-(i-M)/2}if(S){$.push("<defs>");$.push("<image width=\""+x+"\" height=\""+U+"\" id=\"Background\" href=\""+Q+"\" />");
$.push("</defs>");var H=i/x;$.push("<use href=\"#Background\" transform=\""+cf.h0(new hS(H,0,0,H,t,Y))+"\" />")}else{var v="cp"+Math.random();
$.push("<clipPath id=\""+v+"\">");$.push("<path style=\"fill: "+I.Bu(F.c0)+"\" d=\""+I.Rect(r[0],r[1],M,l)+"\" />");
$.push("</clipPath>");$.push("<image  clip-path=\"url(#"+v+")\" xlink:href=\""+Q+"\" x=\""+t+"\" y=\""+Y+"\" width=\""+i+"\" height=\""+J+"\" />")}};
cf.tQ.apV=function(F,r,$,C,M,l,k){var d=cf.tQ;return"<text x=\""+r+"\" y=\""+$+"\" style=\"fill:"+d.Bu(M)+"; font-size:"+C+"px; text-anchor:"+["start","middle","end"][l]+"; font-family:"+k[2]+";\"><tspan>"+F+"</tspan></text>"};
cf.tQ.QZ=function(F,r,$,C,M){var l=cf.tQ,k=[];for(var O=0;O<r.tn.length;O++){k.push(C);if(F.aE0){C=(O&1)==F.aH2?{t:1,L:1,X:1}:k[0]}}M.push("<g id=\""+r.du.split("-")[2]+":::\" style=\"transform: "+cf.h0($)+";\" >");
for(var O=0;O<r.tn.length;O++){var d=r.tn[O];C=k.pop();M.push("<path style=\"fill: "+(C?l.Bu(C):"#"+d[0])+"\" d=\""+Typr.U.pathToSVG({crds:d[1].n,cmds:d[1].C0})+"\" />")}M.push("</g>")};
cf.tQ.awH=function(){if(SHPS[0].du)return;for(var O=0;O<SHPS.length;O++){var F=SHPS[O],r=F[1],$=[];for(var C=0;
C<r.length;C++){var M=r[C],l=Typr.U.SVGToPath(M[1]);$.push([M[0],{C0:l.cmds,n:l.crds}])}SHPS[O]={du:F[0],tn:$}}};
cf.tQ.asv=function(F){var r=SHPS;cf.tQ.awH();var $=[];for(var O=0;O<r.length;O++){var C=r[O],M=C.du.slice(0,4);
if(M=="0000"){$.push(C);continue}if(["1000","0100","0010","0001"].indexOf(M)==-1)continue;var l=M.indexOf("1");
if(C.du[5]=="0"&&F==l&&l!=3)continue;$.push(C)}return $};cf.tQ.Ze=function(F,r,$,C,M,l,k){var d=SHPS,i,J;
cf.tQ.awH();var I=cf.tQ,c=[];for(var O=0;O<d.length;O++){var Q=d[O],x=Q.du.slice(0,4);if(["1110","1101","1011","0111"].indexOf(x)==-1)continue;
var U=x.indexOf("0")+2&3;if(Q.du[5]=="0")if(l==!0||r!=U&&!(r==1&&U==3))continue;c.push(Q)}var S=k!=null?k:Math.floor(I.vo(F)*c.length),Q=c[S],Q=j.N(Q),x=Q.du.slice(0,4),U=x.indexOf("0")+2&3;
if(U==3&&r==1)j.U(Q,new hS(1,0,0,-1,0,1e3));var z=new hS;z.translate(-500,-500);z.rotate(-U*Math.PI/2);
z.translate(500,500);I.U(Q,z);var V=$[3]-$[1],t=$[2]-$[0],Y=I.sY(Q);if(Y.y<0){Y.$+=Y.y;Y.y=0}if(Y.y>0){Y.$+=Y.y;
Y.y=0}if((r&1)==0){J=V;i=t}else{i=V;J=t}var H=Math.min(Math.min(.5+.5*I.vo(F))*Math.min(t,V),M)/Y.$,v=Math.ceil(i/(1e3*H)),n=new hS,G=new hS;
G.scale(H,H);if(r==0||r==2){G.translate(-(t/2),-(V/2));G.rotate(-r*Math.PI/2);G.translate(t/2+$[0],V/2+$[1])}else{G.rotate(Math.PI/2);
G.scale(1,-1);G.translate($[0],$[1]);if(r==1){G.scale(-1,1);G.translate(t,0)}}C.push("<g id=\"Border-"+["top","right","bottom","left"][r]+":::\">");
for(var O=0;O<v;O++){var g=n.P();g.concat(G);I.QZ(F,Q,g,F.c0,C);n.translate(1e3-2,0)}C.push("</g>");
return S};cf.tQ.Rect=function(F,r,$,C){return Typr.U.pathToSVG({crds:[F,r,F+$,r,F+$,r+C,F,r+C],cmds:["M","L","L","L","Z"]})};
cf.tQ.aBx=function(F,r,$,C,M){var l=[F,r,F+$,r,F+$,r+C,F,r+C];F+=M;r+=M;$-=2*M;C-=2*M;l.push(F,r,F,r+C,F+$,r+C,F+$,r);
return Typr.U.pathToSVG({crds:l,cmds:"M L L L Z M L L L Z".split(" ")})};cf.tQ.agw=function(F,r){var $=j.Cg(F.t,F.L,F.X);
$.v_=Math.max(.1,Math.min(.9,$.v_+r));return j.dn($.Y9,$.cG,$.v_)};cf.tQ.anQ=function(F,r){var $=j.Cg(F.t,F.L,F.X);
$.Y9+=r;return j.dn($.Y9,$.cG,$.v_)};cf.tQ.aCP=function(F){var r=j.Cg(F.t,F.L,F.X);r.v_=1-r.v_;return j.dn(r.Y9,r.cG,r.v_)};
cf.tQ.at1=function(F,r){var $=F.t-r.t,C=F.L-r.L,M=F.X-r.X;return Math.sqrt($*$+C*C+M*M)};cf.tQ.ahv=function(F){var r=cf.tQ;
return{t:r.vo(F),L:r.vo(F),X:r.vo(F)}};cf.tQ.Bu=function(F){return CSS.ix({t:F.t*255,L:F.L*255,X:F.X*255})};
cf.tQ.sY=function(F){var r=F.tn,$=new cS;for(var O=0;O<r.length;O++)$=$.DM(j.b.sY(r[O][1].n));return $};
cf.tQ.U=function(F,r){var $=F.tn;for(var O=0;O<$.length;O++)j.b.U($[O][1].n,r,$[O][1].n)};cf.tQ.vo=function(F){F.abK++;
var r=F.abK&3;if(r==0)F.Ke=cf.tQ.dZ(F.Ke);var $=F.Ke>>>8*r&255;return $*(.99999999/255)};cf.tQ.BG=function(F){var r=cf.tQ.dZ(F.Ke);
F.Ke=cf.tQ.dZ(r);return r*(1/4294967295)};cf.tQ.dZ=function(F){F=(F^61^F>>>16)>>>0;F=F+(F<<3)>>>0;F=(F^F>>>4)>>>0;
F=F*668265261>>>0;F=(F^F>>>15)>>>0;return F};var be={};be.parse=function(F){var r=new Uint8Array(F),$=null;
if(r[0]==80&&r[1]==75){var C=Date.now(),M=UZIP.parse(r.buffer),$=M["document.json"];$=JSON.parse(P.qV($,0,$.length));
be.IP($,M)}else{var l=ae.parse(F);$=be.a22(l[2][0][1])}return $};be.IP=function(F,r){var $=typeof F;
if($=="string"||$=="number"||$=="boolean"||F==null)return F;if(F instanceof Array){for(var O=0;O<F.length;
O++)F[O]=be.IP(F[O],r);return F}var C=F._class;if(C==null)return F;if(C=="MSJSONFileReference"){var M=F._ref;
if(!1){}else if(r[M+".json"]!=null){var l=r[M+".json"],k=l.length;for(var O=0;O<k;O++)if(l[O]==11||l[O]==3)l[O]=32;
var d=P.qV(l,0,k);F=JSON.parse(d)}else if(r[M+".png"]!=null)return{key:M.split("/").pop(),bdata:r[M+".png"]};
else if(r[M+".jpg"]!=null)return{key:M.split("/").pop(),bdata:r[M+".jpg"]};else if(r[M+".pdf"]!=null)return{key:M.split("/").pop(),bdata:r[M+".pdf"]};
else if(r[M]!=null)return{key:M.split("/").pop(),bdata:r[M]};else{console.log(F,r);return}}else if(C=="MSAttributedString"){var d=atob(F.archivedAttributedString._archive),I=d.length,c=new Uint8Array(I);
for(var O=0;O<I;O++)c[O]=d.charCodeAt(O);F.archivedAttributedString=be.a22(c)}for(var Q in F)F[Q]=be.IP(F[Q],r);
return F};be.aeA=function(F,r,$,C,M){if(F instanceof Uint8Array)return null;if(C.indexOf(F)!=-1)return null;
C.push(F);if(F==r)return $;for(var l in F){$.push(l);var k=be.aeA(F[l],r,$,C,M);if(k){console.log(F,k);
throw"e"}$.pop()}};be.a22=function(F){var r=eB.parse(F,0),$=r.$objects,C=new Uint8Array($.length),M=be.p4($,C,r.$top.root);
for(var O=0;O<$.length;O++)if(C[O]==0&&O!=0){console.log(O,$[O]);be.aeA(M,O,[],[],typeof $[O])}for(var O=0;
O<$.length;O++){var l=$[O];if(l._class&&(l._class=="bitmap"||l._class=="fill"&&l.fillType==4&&(l.image||l.imageSHA))){var k=l.image,d=l.imageSHA,I=null,c=null;
if(k=="$null")k=null;if(d=="$null")d=null;if(k&&k.data){c=k.sha1["NS.bytes"];c=btoa(P.BW(c,0,c.length));
I=k.data instanceof Uint8Array?k.data:k.data["NS.bytes"]}else if(k==null&&d==null){var Q=dN.LD("PNG").x2([[j.j(4).buffer]],1,1);
I=new Uint8Array(Q)}else{var x=(M.assets?M.assets.imageCollection:M.images).images;if(d)c=d instanceof Uint8Array?d:d["NS.bytes"];
else c=k.sha1["NS.bytes"];c=btoa(P.BW(c,0,c.length));var I=x[c].data;if(I["NS.bytes"])I=I["NS.bytes"]}I=new Uint8Array(I.buffer.slice(I.byteOffset,I.byteOffset+I.length));
delete l.imageSHA;l.image={key:c,bdata:I}}}return M};be.a7v=function(F){return F.slice(0,11)=="MSImmutable"?"MS"+F.slice(11):F};
be.p4=function(F,r,$){var C=F[$];if(r[$]==1){return C}r[$]=1;if(typeof C=="string")return C;if(typeof C=="number")return C;
if(typeof C=="boolean")return C;if(C instanceof Array)return C;if(C instanceof Uint8Array){return C}if(F[C.$class]==null){if(C.$class==null&&C["NS.data"]!=null)return C;
console.log($,C);throw"e"}var M=F[C.$class],l=be.a7v(M.$classname);r[C.$class]=1;C.$class=l;if(be.aFi[l]){delete C.$class;
C._class=be.aFi[l]}var k=be.p4;if(l=="NSMutableArray"||l=="NSArray"){var d=[];if(C["NS.objects"]!=null)for(var O=0;
O<C["NS.objects"].length;O++)d.push(k(F,r,C["NS.objects"][O]));else for(var O=0;C["NS.object."+O]!=null;
O++)d.push(k(F,r,C["NS.object."+O]));F[$]=d;return d}if(l=="NSDictionary"||l=="NSMutableDictionary"){var I={$class:l};
if(C["NS.keys"]!=null)for(var O=0;O<C["NS.keys"].length;O++){var c=k(F,r,C["NS.keys"][O]);if(c instanceof Uint8Array)c=btoa(be.YP.BW(c,0,c.length));
else if(typeof c!="string"&&typeof c!="number")c=btoa(be.YP.BW(c["NS.bytes"],0,c["NS.bytes"].length));
I[c]=k(F,r,C["NS.objects"][O])}else for(var O=0;C["NS.key."+O]!=null;O++){var c=k(F,r,C["NS.key."+O]);
if(c instanceof Uint8Array)c=btoa(be.YP.BW(c,0,c.length));else if(typeof c!="string"&&typeof c!="number")c=btoa(be.YP.BW(c["NS.bytes"],0,c["NS.bytes"].length));
I[c]=k(F,r,C["NS.object."+O])}for(var Q in C)delete C[Q];for(var Q in I)C[Q]=I[Q];return C}if(l=="NSURL")return{$class:l,base:k(F,r,C["NS.base"]),relative:k(F,r,C["NS.relative"])};
if(be.a1p.indexOf(l)!=-1){F[$]=k(F,r,C.array_do);return F[$]}if(C.do_objectID!=null)C.do_objectID=k(F,r,C.do_objectID);
if(be.aDn.indexOf(l)!=-1)return C;var x=be.aGY[l];if(x==null){console.log(F,C);throw"unknown class "+l}for(var O=0;
O<x.length;O++)if(C[x[O]]!=null)C[x[O]]=k(F,r,C[x[O]]);if(l=="MSTextLayer"){var U=C,S,z,V,t;if(U.attributedString)S=U.attributedString.archivedAttributedString;
else S=U.storage;t=S.NSString;if(typeof t!="string")t=P.qV(t["NS.bytes"],0,t["NS.bytes"].length);if(S.NSAttributeInfo)z=S.NSAttributeInfo["NS.bytes"];
else{var Y=t.length,i=[];while(Y>0){var J=Math.min(100,Y);i.push(J,0);Y-=J}z=new Uint8Array(i)}V=S.NSAttributes instanceof Array?S.NSAttributes:[S.NSAttributes];
var H={$class:"NSAttributedString",NSString:t,NSAttributes:V};U.attributedString={_class:"MSAttributedString",archivedAttributedString:H};
H.NSAttributeInfo={$class:"NSMutableData","NS.data":z};delete U.storage}return C};be.YP={G2:function(F,r){return F[r+1]<<8|F[r]},dj:function(F,r){return F[r+3]<<24|F[r+2]<<16|F[r+1]<<8|F[r]},BW:function(F,r,$){var C="";
for(var O=0;O<$;O++)C+=String.fromCharCode(F[r+O]);return C}};be.aFi={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
be.a1p=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
be.aDn="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
be.aGY={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo cloudShareID cloudShareURL cloudUserID".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var eB={};eB.parse=function(F,r){var $=P.BW(F,r,8);r+=8;var C=F.length-32,M=eB.parse.abj(F,C),l=[];if(M.$N==1){var r=C-M.$N*M.H_;
for(var O=0;O<M.H_;O++)l.push(F[r+O])}else if(M.$N==2){var r=C-M.$N*M.H_;for(var O=0;O<M.H_;O++)l.push(P.G2(F,r+O*2))}else if(M.$N==4){var r=C-M.$N*M.H_;
for(var O=0;O<M.H_;O++)l.push(P.dj(F,r+O*4))}else{throw"e"}var k=eB.parse.p4(F,l,M.root,M);return k};
eB.parse.p4=function(F,r,$,C){var M=eB.YP,l=C.asQ,k=l==4?M.dj:l==2?M.G2:M.a34,d=eB.parse,I=r[$],c=F[I],Q=c>>4,x=c&15,S=null;
I+=1;if([4,5,6,10,12,13].indexOf(Q)!=-1&&x==15){var U=d.Dm(F,I);I+=U.f_;x=U.Y}if(!1){}else if(Q==0)S=x==8?!1:x==9?!0:null;
else if(Q==1)S=d.Dm(F,I-1).Y;else if(Q==2)S=1<<x==4?P.LC(F,I):P.Dw(F,I);else if(Q==3)S=P.Dw(F,I);else if(Q==4)S=new Uint8Array(F.buffer,I,x);
else if(Q==5)S=P.BW(F,I,x);else if(Q==6)S=P.JH(F,I,x);else if(Q==8){S=0;for(var O=0;O<x+1;O++)S=S<<8|F[I+O]}else if(Q==10){S=[];
for(var O=0;O<x;O++)S.push(d.p4(F,r,k(F,I+l*O),C))}else if(Q==12){S=[];for(var O=0;O<x;O++)S.push(d.p4(F,r,k(F,I+l*O),C))}else if(Q==13){S={};
for(var O=0;O<x;O++){var z=d.p4(F,r,k(F,I+l*O),C),V=d.p4(F,r,k(F,I+l*(x+O)),C);S[z]=V}}else throw"unknown mask "+Q;
return S};eB.parse.Dm=function(F,r){var $=1<<(F[r]&15),C=0;for(var O=0;O<$;O++)C=C<<8|F[r+1+O];return{Y:C,f_:$+1}};
eB.parse.abj=function(F,r){var $={};r+=6;$.$N=F[r];r++;$.asQ=F[r];r++;r+=4;$.H_=P.dj(F,r);r+=4;r+=4;
$.root=P.dj(F,r);r+=4;r+=4;$.api=P.dj(F,r);r+=4;return $};eB.YP={a34:function(F,r){return F[r]},G2:function(F,r){return F[r]<<8|F[r+1]},dj:function(F,r){return F[r]<<24|F[r+1]<<16|F[r+2]<<8|F[r+3]},BW:function(F,r,$){var C="";
for(var O=0;O<$;O++)C+=String.fromCharCode(F[r+O]);return C}};var ae={parse:function(F){var r=new Uint8Array(F),$=ae.yT(r),C=[],M=new Uint8Array(r.length),l=[];
C.push(l);ae.fv(r,$,1,M,l);for(var O=0;O<l.length;O++){var k=[];C.push(k);ae.fv(r,$,l[O][3],M,k,O==11);
l[O][3]=O+1}return C},fv:function(F,r,$,C,M,l){$--;var k=$*r.$i+($==0?100:0),d=F[k],I=ae.G2(F,k+1),c=ae.G2(F,k+3),Q=ae.G2(F,k+5),U=0;
if(Q==0)Q=65536;var x=F[k+7];k+=8;if(d==2||d==5){U=ae.dj(F,k);k+=4}for(var S=0;S<c;S++){var z=$*r.$i+ae.G2(F,k+2*S),V=-1,t=0,Y=0,i=0;
if(d==2||d==5){V=ae.dj(F,z);z+=4}if(d==2||d==10||d==13){t=ae.lP(F,z);z+=t.f_}if(d==5||d==13){Y=ae.lP(F,z);
z+=Y.f_}if(d==2||d==5){ae.fv(F,r,V,C,M,l);continue}var J=r.$i-($==0?100:0),H=t.rY,v=d==13?J-35:Math.floor((J-12)*64/255)-23,n=Math.floor((J-12)*32/255)-23,G=n+(H-n)%(J-4);
if(H<=v){ae.Jx(F,z,C,0,H)}else{var g=G<=v?G:n,W=0;ae.Jx(F,z,C,0,g);W+=g;i=ae.dj(F,z+g);while(i!=0){var L=(i-1)*r.$i;
i=ae.dj(F,L);var b=Math.min(r.$i-4,H-W);ae.Jx(F,L+4,C,W,b);W+=b}}M.push(ae.avx(C,H))}if(U!=0)ae.fv(F,r,U,C,M,l)},avx:function(F,r){var $=0,C=ae.lP(F,$);
$+=C.f_;var M=[],l=[];while($<C.rY){var k=ae.lP(F,$);$+=k.f_;M.push(k.rY)}if($!=C.rY)throw"e";for(var O=0;
O<M.length;O++){var k=M[O];if(!1){}else if(k==0)l.push(null);else if(k==1){l.push(ae.a5g(F,$));$+=1}else if(k==2){l.push(ae.O4(F,$));
$+=2}else if(k==3){l.push(ae.aa2(F,$));$+=3}else if(k==4){l.push(ae.Dm(F,$));$+=4}else if(k==5){l.push(ae.dj(F,$+2));
$+=6}else if(k==6){l.push(ae.dj(F,$)+":"+ae.dj(F,$+4));$+=8}else if(k==7){l.push(ae.awP(F,$));$+=8}else if(k==8)l.push(0);
else if(k==9)l.push(1);else if(k>=12&&(k&1)==0){var d=k-12>>1,I=new Uint8Array(d);ae.Jx(F,$,I,0,d);l.push(I);
$+=d}else if(k>=13&&(k&1)==1){var d=k-13>>1;l.push(ae.qV(F,$,d));$+=d}else throw"unknonw type "+k}return l},yT:function(F){if(!(F[18]==1&&F[19]==1&&F[20]==0&&F[21]==64&&F[22]==32&&F[23]==32))throw"unexpected SQL3 header";
var r={KK:ae.BW(F,0,15),$i:ae.G2(F,16),aaC:ae.dj(F,24),size:ae.dj(F,28),aBE:ae.dj(F,32),as0:ae.dj(F,36),akH:ae.dj(F,40),att:ae.dj(F,44),awO:ae.dj(F,48),acJ:ae.dj(F,52),aqs:ae.dj(F,56),aa7:ae.dj(F,60),akG:ae.dj(F,64)!=0,aoc:ae.dj(F,68),aH5:ae.dj(F,92),a2D:ae.dj(F,96)};
if(r.$i==1)r.$i=65536;if(r.aqs!=1)throw"unsupported text encoding "+r.aqs;return r},akN:function(F,r){return F[r]<<16|F[r+1]<<8|F[r+2]},aa2:function(F,r){var $=ae.akN(F,r),C=$&8388608;
return C?-(16777215-$+1):$},a5g:function(F,r){ae.wc[0]=F[r];return ae.ayO[0]},Dm:function(F,r){var $=ae.wc;
for(var O=0;O<4;O++)$[O]=F[r+3-O];return ae.a3r[0]},O4:function(F,r){var $=ae.wc;$[0]=F[r+1];$[1]=F[r];
return ae.a12[0]},G2:function(F,r){return F[r]<<8|F[r+1]},dj:function(F,r){var $=ae.wc;for(var O=0;O<4;
O++)$[O]=F[r+3-O];return ae.aof[0]},awP:function(F,r){var $=ae.wc;for(var O=0;O<8;O++)$[O]=F[r+7-O];
return ae.awS[0]},lP:function(F,r){var $=r,bU=0;while(!0){var C=F[r];r++;bU=bU*128+(C&127);if(C<128)break}return{rY:bU,f_:r-$}},BW:function(F,r,$){var C="";
for(var O=0;O<$;O++)C+=String.fromCharCode(F[r+O]);return C},qV:function(F,r,$){var C="";for(var O=0;
O<$;O++)C+="%"+ae.as$(F[r+O].toString(16));try{C=decodeURIComponent(C);return C}catch(ac){return C}},Jx:function(F,r,$,C,M){if(M!=0&&(F[r+M-1]==null||$[C+M-1]==null)){console.log(r,C,M);
throw"e"}for(var O=0;O<M;O++)$[C+O]=F[r+O]},as$:function(bU){return bU.length<2?"0"+bU:bU}};ae.wc=new Uint8Array(8);
ae.ayO=new Int8Array(ae.wc.buffer);ae.a12=new Int16Array(ae.wc.buffer);ae.a3r=new Int32Array(ae.wc.buffer);
ae.aof=new Uint32Array(ae.wc.buffer);ae.awS=new Float64Array(ae.wc.buffer);ae.aHG=function(F,r){var $=F[0],C={};
for(var O=0;O<$.length;O++){var M=$[O],l=M[1];if(M[0]!="table")continue;var k=M[4];k=k.slice(k.indexOf("(")+1,k.indexOf(")"));
k=k.split(",");for(var d=0;d<k.length;d++){var I=k[d].trim().split(" ")[0];if(r&&I.startsWith(l))I=I.slice(l.length);
k[d]=I}var c=C[l]=[],Q=F[M[3]];for(var d=0;d<Q.length;d++){var x=Q[d],U={};c.push(U);for(var S=0;S<k.length;
S++){if(U[k[S]]!=null)throw"e";U[k[S]]=x[S]}}}return C};function gA(F,r,$){this.hg=F;this.BA=r;this.a9B=$;
this.Wf=new hx(0,0);this.dD=-1;this.JF=0;this.cp=0;this.Lm=new cS;this.e$=[];this.fy=null;this.aBh=null;
this.hD=null;this.Iu=null;this.zM=null;this.a7W=null}gA.prototype.StartPage=function(F,r,$,C,M){var l=this.BA,k=l.w5(),d=1,I=($-F)*(C-r);
if(M!=null)I=M;while(I*k*k/(d*d)>2*8192*8192)d++;l.scale(1/d,1/d);this.aBh=[F,r,$,C];var d=l.w5();F=Math.round(F*d);
r=Math.round(r*d);$=Math.round($*d);C=Math.round(C*d);var c=this.hg,Q=this.hD;if(Q==null){l.P6=-F}else{var x=Q[2]-Q[0]+30,U=Math.round($-F)+30;
if(this.Wf.x+x+U>8192){l.P6=-F;this.Wf.x=0;this.Wf.y+=this.cp+120;this.cp=0}else{l.P6+=x;this.Wf.x+=x}}l.jw=this.Wf.y+(this.a9B?C:-r);
this.cp=Math.max(this.cp,Math.round(C-r));this.hD=[F,r,$,C];this.akn=[];c.u.push(c.fm())};gA.prototype.StartTGroup=function(F){this.k3();
var r=this.hg;r.u.push(r.fm());var $=gA.IY[F.bmode];if($==null)$="norm";var C=r.at();C.Da("<Group>");
C.add.lsct=jR.ul;C.ww=$=="norm"?"pass":$;C.U4=24;C.gk=Math.round(255*F.ca);this.akn.push(C)};gA.prototype.EndTGroup=function(){this.hg.u.push(this.akn.pop())};
gA.prototype.arG=function(){var F=this.hg,r=F.u[F.u.length-1];return r};gA.prototype.aGr=function(){var F=this.hg,r=F.at();
r.Da("Path "+F.u.length);this.hg.u.push(r);r.U4|=16;r.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:0,L:0,X:0})}};
r.add.vmsk=new Z.kf;r.add.vstk=cK.Ok.Mv();return r};gA.prototype.Bd=function(F){var r={n:F.crds,C0:F.cmds},$=j.b.RJ(r,!1);
j.w.J_($,this.BA);return $};gA.aoZ=function(F,r){for(var O=0;O<F.length;O++)if(F[O].ea!=null)F[O].ea=r};
gA.cX=function(F){return j.qS.NG({t:F[0]*255,L:F[1]*255,X:F[2]*255})};gA.dU=function(F){return new hS(F[0],F[1],F[2],F[3],F[4],F[5])};
gA.prototype.Stroke=function(F){if(this.dD!=-1&&this.dD!=this.JF)return;if(F.pth.cmds.length<=1)return;
var r=this.Bd(F.pth),k=null;if(r.length<=2)return;this.AC(F);gA.aoZ(r,-1);r[2].ea=1;var $=this.arG(),C=cK.Ok.Mv(null,!0),M=F.ctm,l={};
gA.ad4(l,F);cK.Ok.write(C,l,Math.sqrt(Math.abs(M[0]*M[3]-M[1]*M[2]))*this.BA.w5());if(!(F.COLR instanceof Array)){k=j.b.sY(F.pth.crds);
var d=j.b.Vs(k);j.b.U(d.n,this.BA,d.n);k=j.b.sY(d.n)}var I=gA.r7(F.COLR,this.BA,r),c=["SoFi","GrFl","patternFill"].indexOf(I.I),Q=[cK.oz,cK.ap,cK.Vq][c],x=C.strokeStyleContent.v={classID:cK.Ok.zd[c]};
for(var O=0;O<Q.length;O++)x[Q[O]]=I.Y.v[Q[O]];var U=$!=null&&$.add.vmsk!=null&&!$.EX(),S=U&&!$.add.vstk.fillEnabled.v&&JSON.stringify(C)==$.add.vsjs;
if(S){var z=$.add.vmsk.M;for(var O=2;O<r.length;O++)z.push(r[O])}else{var V=U&&!$.add.vstk.strokeEnabled.v&&Z.kf.aaM($.add.vmsk.M,r,!0);
if(V){$.add.vstk=C;C.fillEnabled.v=!0}else{$=this.aGr();$.add.vmsk.M=r;$.add.vstk=C;$.add.vsjs=JSON.stringify(C)}}};
gA.ad4=function(F,r){F.WV=r.lwidth;F.cR=r.mlimit;F.x_=r.dash.slice(0);F.hY=r.doff;F.Qn=r.ljoin;F.gE=r.lcap;
F.QK=1};gA.oH=function(F,r){r.lwidth=F.WV*(F.QK==2?2:1);r.mlimit=F.cR;r.doff=F.hY;r.ljoin=F.Qn;r.lcap=F.gE;
r.sal=F.QK;r.dash=F.x_.slice(0);if(r.dash.length==1&&r.dash[0]==0)r.dash=[]};gA.prototype.Fill=function(F,r){if(this.dD!=-1&&this.dD!=this.JF)return;
if(F.ca==0)return;var $=F.pth.cmds;if($.length==0)return;if($.length==2&&JSON.stringify($)=="[\"M\",\"L\"]")return;
var C=j.b.sY(F.pth.crds),M=j.b.sY(F.cpth.crds);if(C.R7(M).XS())return;var l=F.pth,k=UDOC.G.isBox(l,[C.x,C.y,C.x+C.r,C.y+C.$]),d=F.cpth,I=UDOC.G.isBox(d,[M.x,M.y,M.x+M.r,M.y+M.$]);
if(k&&I&&C.C()>M.C()*2){var c=C.R7(M),Q=c.x,x=c.y,U=Q+c.r,S=x+c.$;l={cmds:["M","L","L","L","Z"],crds:[Q,x,U,x,U,S,Q,S]};
C=c}else if(this.Iu==null&&UDOC.G.isBox(l,[C.x,C.y,C.x+C.r,C.y+C.$])&&C.qC(M)){l=d;C=M}else this.AC(F);
var z=this.Bd(l),V=gA.r7(F.colr,this.BA,z),t=this.arG(),Y=t!=null&&t.gk==Math.round(255*F.ca)&&t.add.vstk!=null&&!t.add.vstk.strokeEnabled.v&&t.add.SoCo&&V.I=="SoFi"&&JSON.stringify(t.add.SoCo.Clr.v)==JSON.stringify(V.Y.v.Clr.v);
if(Y){var i=!1;for(var O=0;O<z.length;O++){if(z[O].ea==0||z[O].ea==2)i=!0}if(i){var J=j.b.sY(j.w._f(t.add.vmsk.M)),H=j.b.sY(j.w._f(z));
Y=J.R7(H).XS()}}if(Y){var v=t.add.vmsk.M;for(var O=2;O<z.length;O++)v.push(z[O])}else{t=this.aGr();delete t.add.SoCo;
t.add.vmsk.M=Z.kf.I4(z);gA.eY(F.colr,t,this.BA,z);gA.ag5(F,t)}};gA.eY=function(F,r,$,C){var M=gA.r7(F,$,C),l=null,k=null;
r.add.vstk.fillEnabled.v=!0;if(M.I=="SoFi"){l="SoCo";k=cK.oz}if(M.I=="GrFl"){l="GdFl";k=cK.ap}if(M.I=="patternFill"){l="PtFl";
k=cK.Vq}if(l!=null){r.add[l]={classID:"null"};for(var O=0;O<k.length;O++){var d=k[O];r.add[l][d]=M.Y.v[d]}if(l=="GdFl")r.add._fstl=M.rK}};
gA.prototype.AC=function(F){var r=this.hg,$=F.cpth,C=$.cmds.join(""),M=$.crds,l=C+" "+M.join(","),k=UDOC.G.isBox($,this.aBh);
if(k&&this.Iu==null)return;if(l==this.Iu)return;this.k3();if(!k){this.Iu=l;r.u.push(r.fm());var d=r.at();
d.Da("Mask");d.add.lsct=jR.Xz;d.ww="pass";d.U4=24;var I=d.add.vmsk=new Z.kf;I.M=this.Bd(F.cpth);if(UDOC.G.isBox($)){this.zM=j.w.t8(I.M);
this.zM.lW(3,3)}else this.zM=null;this.a7W=d}};gA.prototype.k3=function(){var F=this.hg;if(this.Iu!=null){var r=F.u.length-1,O=r,$=!1;
while(O>=0&&F.u[O].add.lsct!=jR.k9)O--;var C=this.zM;if(C){var M=new cS,l=r;while(l>O){M=F.u[l].Xl(this.hg,!1,!0);
l--}$=C.qC(M)}if($){this.e$.splice(O,1);F.u.splice(O,1)}else{F.u.push(this.a7W)}this.Iu=null}};gA.r7=function(F,r,$){var C,M,l;
if(F.length!=null){C="SoFi";var k=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);M={t:"Objc",v:k};M.v.Clr.v=gA.cX(F)}else{var d=gA.aAl(F,r,$);
C="GrFl";M={t:"Objc",v:hq.ym(d,$)};l=d}return{I:C,Y:M,rK:l}};gA.aAl=function(F,r,$){var C=gA.dU(F.mat);
C.concat(r);var M=new hx(0,0),l=new hx(0,0),k=new hx,d=F.crds,I=F.typ=="rad"?1:0;if(I==1){var c=.7;k.x=d[0];
k.y=d[1];M.x=d[3];M.y=d[4];l.x=M.x;l.y=M.y;l.x+=d[5]}else{M.x=d[0];M.y=d[1];l.x=d[2];l.y=d[3];k.I_(M.x,M.y)}C=hq.qf(M,l,C);
var Q=hq.oC(I,C,$);hq.bE(Q,M,l,k);Q[1]=j.N(F.grad);return Q};gA.prototype.PutText=function(F,r,$,C){var M=r.charCodeAt(0),S=null;
if(this.dD!=-1&&this.dD!=this.JF)return;if(r.length==0||r.length==1&&(M==0||M==8203))return;this.AC(F);
var l=this.hg,k=F.font,d=Math.round(255*F.ca);if(F.font.Tmode==3)d=0;var I=gA.dU(F.ctm);I.concat(this.BA);
var c=gA.dU(k.Tm);c.concat(I);var Q=c.w5(),x=new hS(1/Q,0,0,-1/Q,0,0);x.concat(c);var U=k.Tfs*Q,z=l.u.length-1;
while(z>=0&&l.u[z].add.TySh==null)z--;if(x.X*x.X+x.gb*x.gb<.001&&C==null&&z>=0&&l.u[z].add.TySh&&l.u[z].gk==d){var V=l.u[z],t=this.e$[z],Y=V.add.TySh.U,i=(x.P6-t.aeJ)/U,J=Math.abs(i),H=Y.xz==x.xz&&Y.X==x.X&&Y.gb==x.gb&&Y.G0==x.G0,v=x.jw-t.te,n=H&&Math.abs(v)<1e-5&&J<1;
if(n){S=V;if(i>.2&&[".",",","?",":","!"].indexOf(r)==-1){r=" "+r;$+=.5}}else if(H&&0<v&&v<U*1.7&&t.adv==U){S=V;
this.aIa(t);t.te=x.jw;t.awZ=x.P6;r="\n"+r}}if(S==null){z=l.u.length;this.e$[z]={iz:[],Tr:0,aeJ:x.P6,te:x.jw,awZ:x.P6,ik:"",adv:U};
S=l.at();l.u.push(S);S.add.lnsr="rend";S.add.TySh=ho.DB(0,0);S.add.TySh.U=x}var t=this.e$[z];t.Tr+=$*U;
t.ik+=r;t.aeJ=x.P6+$*U;var G=S.add.TySh.$E,g=ho.OD(G);if(C){ho.s2(G,1);var W=[0,0,Math.ceil(C[0]*Q),Math.ceil(C[1]*Q)];
ho.SB(G,W)}var L=g.length-1,b=L+r.length;ho.uy(G,L,r);if(this.fy==null)this.fy=ho.RT(G,L,L);var T=this.fy;
T.Uz.FontSize=Math.round(U);T.Uz.Tracking=Math.round(k.Tc*100);T.Uz.Underline=k.Tun==1;T.Uz.FillColor={Type:1,Values:[1,F.colr[0],F.colr[1],F.colr[2]]};
if(k.Tal!=null)T.jv.Justification=k.Tal;if(t.iz.length!=0){T.Uz.AutoLeading=!1;T.Uz.Leading=t.te-t.iz[t.iz.length-1].y}var a=k.Tf;
a=a.replace(/#2B/g,"+");a=a.replace(/#2C/g,"-");a=a.split("+").pop();var R={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(R[a])a=R[a];ho.jl(T,a);ho.WE(G,L,b-1,T);S.mf();S.gk=d};gA.prototype.aIa=function(F){F.iz.push({a0:F.Tr,q:F.ik.slice(F.iz.length==0?0:1)+"\n",x:F.awZ,y:F.te,cG:F.adv});
F.Tr=0;F.ik=""};gA.prototype.Eo=function(F,r,$){return new Uint8Array(dN.LD("PNG").x2([[F.buffer,0]],r,$))};
gA.prototype.PutImage=function(F,r,$,C,M,l,k){if(this.dD!=-1&&this.dD!=this.JF)return;var d=this.hg,I=F.font.Tmode;
if(I==7&&d.u[d.u.length-1].add.TySh){return}this.AC(F);var c=gA.dU(F.ctm);c.concat(this.BA);var Q=new hS(1/$,0,0,-1/C,0,1);
Q.concat(c);c=Q;r=gA.ann(r,$,C,l,!1);if(M)M=gA.ann(M,$,C,k,!0);if(M==null){if(r.length==$*C*4)r=this.Eo(r,$,C)}else{r=this.aEt(r,$,C,l,!1);
M=this.aEt(M,$,C,k,!0);var x=j.j($*C);j.Eg(M,x,0);j.dr(x,r,3);r=this.Eo(r,$,C)}var U=d.eM(r,"Bitmap",0,0),S=new cS(0,0,$,C),z=j.b.Vs(S).n;
j.b.U(z,c,z);U.add.SoLd.Trnf=B.hL._V(z);U.add.SoLd.nonAffineTransform=B.hL._V(z);U.d7(d,!1);gA.ag5(F,U);
d.u.push(U)};gA.ag5=function(F,r){r.gk=Math.round(255*F.ca);var $=gA.IY[F.bmode];if($==null)console.log("Unknown blend mode",$);
else r.ww=$};gA.IY={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
gA.a8q=function(F){if(F=="pass")F="norm";for(var r in gA.IY)if(gA.IY[r]==F)return r;return"/Normal"};
gA.ann=function(F,r,$,C,M){var l=dN.GN(F.buffer);if(l=="jpg"){try{F=new Uint8Array(dN.LD("JPG").akc(F.buffer))}catch(ac){F=new Uint8Array(r*$*4)}}else if(l=="jb2"){F=new Uint8Array(dN.LD("JPG").YH(F.buffer,C,M)[0].data)}else if(F.length!=r*$*4){var k=new Uint8Array(r*$*4),d=Math.ceil(r/8),I=new Uint8Array($*d);
UTIF.decode._decodeG4(F,0,F.length,I,0,r,1);var c=I[0]==(M?255:0);for(var Q=0;Q<$;Q++){var x=d*Q;for(var U=0;
U<r;U++){var O=Q*r+U,S=O*4,z=(I[x+(U>>3)]>>7-(U&7)&1)*255;if(c)z=255-z;k[S]=z;k[S+1]=z;k[S+2]=z;k[S+3]=255}}F=k}return F};
gA.prototype.aEt=function(F,r,$,C,M){if(F.length!=r*$*4){var l=dN.GN(F.buffer);if(l=="jb2")throw"e";
var k=dN.LD(l);if(k==null||l=="tga")k=dN.LD("jpg");F=new Uint8Array(k.YH(F,C,M)[0].data)}return F};gA.prototype.ShowPage=function(){var F=this.hg;
this.JF++;var r=this.hD;this.k3();var $=F.at();F.u.push($);var C=new cS(Math.round(this.Wf.x),Math.round(this.Wf.y),Math.round(r[2]-r[0]),Math.round(r[3]-r[1]));
if(C.XS())C.r=C.$=2e3;this.Lm=this.Lm.DM(C);$.HD(C);$.add.artb.artboardBackgroundType.v=1;$.Da("Page "+this.JF);
$.add.lsct=jR.Xz;$.ww="pass";$.U4=24};gA.prototype.Print=function(F){console.log("Print:",F)};gA.prototype.Done=function(){var F=this.hg;
if(this.JF==1)F.u[F.u.length-1].add.lsct=jR.ul;F._R(this.JF);for(var O=0;O<F.u.length;O++){var r=F.u[O],$=r.add.vmsk,C=r.add.TySh,M=this.e$[O];
r.ud();delete r.add.vsjs;if($){var l=!1;for(var k=0;k<$.M.length;k++){var d=$.M[k];if((d.I==0||d.I==3)&&d.length>32767)l=!0}if(l){F.u.splice(O,1);
O--;continue}}r.uH(F);if(C&&M&&M.iz.length!=0){this.aIa(M);var I=C.$E,c=M.iz.length,Q=M.iz[0],x=1e9,U=-1e9,n="";
for(var k=0;k<c;k++){var S=M.iz[k];x=Math.min(x,S.x);U=Math.max(U,S.x+S.a0)}var z=[];for(var k=0;k<c;
k++){var S=M.iz[k],V=-1,t=Q.cG*.1,Y=Math.abs(S.x-x),i=Math.abs(S.x+S.a0-U),J=Math.abs(Y-i);if(J<t)V=2;
if(i<t){V=1;if(S.x!=x)if(k!=0&&M.iz[k-1].x==S.x||k!=c-1&&M.iz[k+1].x==S.x)V=-1}if(Y<t)V=0;if(S.a0==U-x)V=3;
z.push(V)}var H=[!1,!1,!1];for(var k=0;k<c;k++){var V=z[k];if(V==3)V=k==0?z[k+1]:z[k-1];if(V==3)V=0;
z[k]=V;H[V]=!0}var v=(U-x)*.05;if(H[0]&&!H[1])U+=v;if(!H[0]&&H[1])x-=v;if(!H[0]&&!H[1]){x-=v;U+=2*v}ho.s2(I,1);
C.U.jw-=Q.cG*.7;C.U.P6=Math.round(x);ho.SB(I,[0,0,Math.ceil(U-x),Math.ceil(M.iz[c-1].y-Q.y+Q.cG*2)]);
for(var k=0;k<c;k++){var S=M.iz[k],V=z[k],G=0;if(V==-1){V=0;G=Math.round(S.x-x)}var g=n.length,W=g+S.q.length;
n+=S.q;var L={WX:[],Uz:{},jv:{Justification:V,StartIndent:G}};ho.WE(C.$E,g,W-1,L)}}if(C){var I=C.$E;
ho.ads(I);var b=ho.OD(I).split("\n");for(var k=0;k<b.length-1;k++){var S=b[k],T=0;for(var a=0;a<S.length;
a++){var R=S.charCodeAt(a);if(1473<=R&&R<=1524)T++}if(T>S.length/2){b[k]=S.split("").reverse().join("");
var D=I.EngineDict.ParagraphRun.RunArray[k].ParagraphSheet.Properties;D._Direction=1;D.Justification=ho.Nq(D)}}ho.Y6(I,b.join("\n"))}}F.Zp=!0;
F.r=this.Lm.r;F.$=this.Lm.$;F.buffer=j.j(this.Lm.C()*4)};var fv={};fv.oo=null;fv.Ns=function(F,r,$,C,M,l){var k=gw==0?new cS(0,0,F.r,F.$):F.qx();
if(M==null)M=k.r;if(l==null)l=k.$;fv.oo=F;var d=[[F.root,k,null]];if(gw==0&&F.add.artd){var I=F.root.children,c=[],Q=!0;
for(var O=0;O<I.length;O++){var x=I[O].z,U=x.add.artb,S=null;if(U==null){Q=!1;break}var z=U.artboardBackgroundType.v;
if(z!=1&&z!=3)S=x.tx();c.push([I[O],x.dh(),S])}if(Q)d=c}if(gw==1){var V=F.add.arts;d=[];for(var O=0;
O<V.length;O++)d.push([F.root,j.b.qy(V[O].sc),null])}var t=r[0];t=t.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
t=t.split(" ");var Y=[];for(var O=0;O<t.length;O++){var i=t[O];if(i=="-"){var J=Y.pop(),H=parseInt(t[O+1]);
while(J<H){Y.push(J);J++}}else Y.push(parseInt(i))}t=Y;for(var O=0;O<t.length;O++)if(isNaN(t[O])||t[O]<1||t[O]>d.length){t.splice(O,1);
O--}var v=M/k.r,n=l/k.$,G=v*72/F.YV,g=n*72/F.YV,W=r[5];if(W==null)W=0;var L=72*W,b=72*W;for(var T=0;
T<d.length;T++){var O=T;if(r[2])O=d.length-1-T;if(t.length!=0&&t.indexOf(O+1)==-1)continue;var a=d[O][0],R=d[O][1];
if(!a.z.rR())continue;var D=Math.round(R.r*G+2*L),h=Math.round(R.$*g+2*b);$.StartPage(0,0,D,h);var K=UDOC.getState(),X=new hS;
X.translate(-R.x,-R.y-R.$);X.scale(G,-g);X.translate(L,b);if(d[O][2]){var w=d[O][2],N=L*G,s=b*g,A=N+R.r*G,p=s+R.$*g;
K.colr=[(w>>>0&255)/255,(w>>>8&255)/255,(w>>>16&255)/255];K.pth={cmds:["M","L","L","L","Z"],crds:[N,s,A,s,A,p,N,p]};
$.Fill(K)}if(gw==0&&r[3]){var q=j.j(R.C()*4);j.mR(F.Ez(),k,q,R);var f=F.o7();if(f)ICC.U.applyLUT(f[F.add.fcmy==1?5:3],f[2],q,q);
var e=dN.LD("JPG").x2([[q.buffer]],R.r,R.$,[r[1]]);q=new Uint8Array(e);var o=new hS;o.translate(R.x,R.y);
fv.wy(K,$,q,R,o,X)}else{fv.US(F,a,K,$,X,R,r,C);if(L!=0){var N=L,s=b,A=N+R.r*72/F.YV,p=s+R.$*72/F.YV,E=A+L,cj=p+L;
K.ca=1;K.colr=[1,1,1];K.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,cj,E,cj,E,0,N,s,A,s,A,p,N,p]};
$.Fill(K)}}if(r[6]){var u=[[0,0],[1,0],[1,1],[0,1]],cd=50,m=5,aZ=cd*.5,jN=m*.5,eh=R.r*72/F.YV,iA=R.$*72/F.YV;
K.colr=[.1,.1,.1];for(var hd in u){var kx=u[hd],b0=[hd==0||hd==3?-1:1,hd==0||hd==1?-1:1],gX=[L-aZ+jN*b0[0]+kx[0]*eh,b-(b0[1]!=1?m:0)+kx[1]*iA],j$=[L-(b0[0]!=1?m:0)+kx[0]*eh,b-aZ+jN*b0[1]+kx[1]*iA];
K.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[gX[0],gX[1],gX[0]+cd,gX[1],gX[0]+cd,gX[1]+m,gX[0],gX[1]+m,j$[0],j$[1],j$[0]+m,j$[1],j$[0]+m,j$[1]+cd,j$[0],j$[1]+cd]};
$.Fill(K)}}var i0=F.a3;for(var f7=0;f7<i0.length;f7++){var am=i0[f7].v,R=j.gd.y2(am),gf=j.b.Vs(R).n;
j.b.U(gf,X,gf);var cC=j.b.sY(gf);if(!new cS(0,0,D,h).qC(cC))continue;if($.AddAnnot)$.AddAnnot([cC.x,cC.y,cC.x+cC.r,cC.y+cC.$],am.url.v)}$.ShowPage()}$.Done();
fv.oo=null};fv.L5=function(F){F=j.qS.MB(F);return[F.t/255,F.L/255,F.X/255]};fv.US=function(F,r,$,C,M,l,k,d){var I=r.z,c=I.add.lsct,Q=I.add.lmfx,H,v,R,h=!1;
if(I.Ge)return;var x=I.add.vmsk,U=I.add.vstk,S=I.add.TySh;if(gw==1&&!I.EX()&&!l.HV(j.b.sY(I.qp())))return;
var z=r.children,V=z&&z.length!=0?z[z.length-1].z:null;if(gw==1&&V&&V.Ge&&V.rR())x=V.add.vmsk;if(!I.rR())return;
var t=I.gk/255,Y=I.add.iOpa!=null?I.add.iOpa/255:1;$.bmode=gA.a8q(I.ww);var i=$.ca;$.ca=$.CA=t*Y;var J=Q;
if(J)J=J.solidFillMulti.v[0];if(J)J=J.v;if(J&&!J.enab.v)J=null;var n=I.S;if(I.HP()&&(!I.EX()||I.FM&&I.FM.Z3)){if(I.EX()){H=I.FM.Z3;
n=I.FM.aeP}else{H=j.j(I.S.C());j.Eg(j.Mz(I.buffer,8),H,3)}v=en.Ln(Q,I.add.fxrp,H,n,F,n).I;var G=["DrSh","OrGl"];
if(Y!=1||U&&!U.fillEnabled.v){var g=H.slice(0);j.v4(g);for(var O=0;O<G.length;O++){var W=v[G[O]];for(var L=0;
L<W.length;L++){var b=W[L],T=b.W5.P();T.x+=n.x;T.y+=n.y;j.PO(g,n,b.fU,T)}}}}if(v)fv.aC3(I,H,n,v,$,C,M,k,!0);
var a=en.aqm(I,!1);if(a){C.StartTGroup($);R=$;$=UDOC.getState()}var D=x&&!I.Og(),K=I.add.GdFl;if(K&&K.Type.v.GrdT!="Lnr"&&K.Type.v.GrdT!="Rdl"){h=!0}if(D){var X=j.b.M5(x.M,!1),w=X.Yk;
j.b.U(w.n,M,w.n);$.cpth={cmds:w.C0,crds:w.n}}if(I.EX()){for(var O=0;O<r.children.length;O++)fv.US(F,r.children[O],$,C,M,l,k,d)}else if(I.Og()&&I.add.PtFl==null&&!h){var N=x?x.M:j.w.tQ.Rect(0,0,F.r,F.$),s=I.add.vstl,w,p;
if(s==null)s=kQ.mN(I.add,F);for(var O=0;O<2;O++){var A=O==0?s.rK:s.XX;if(A&&A.length==4)for(var L=0;
L<A[1].length;L++)A[1][L][1]=fv.Ys(A[1][L][1])}gA.oH(s,$);$.lwidth*=M.w5();for(var O=0;O<$.dash.length;
O++)$.dash[O]*=M.w5();if(gw==0){var X=j.b.M5(N,s.XX==null);w=X.Yk;p=X.wp}if(gw==1){w=j.b.oJ(N);p=x.ea}j.b.U(w.n,M,w.n);
$.pth={cmds:w.C0,crds:w.n};for(var L=0;L<2;L++){var O=s.QK==2?1-L:L,q=O==0?s.rK:s.XX,f=null;if(q.length==0)continue;
else if(q.length==3)f=q;else{var e=hq.dg(q,N);e.concat(M);var o=[0,0,1,0];if(q[0]==1){var E=q[2][5]*Math.PI/180,cd=q[2][6];
o=[Math.cos(E)*cd,-Math.sin(E)*cd,0,0,0,1]}f={typ:["lin","rad"][q[0]],mat:[e.xz,e.X,e.gb,e.G0,e.P6,e.jw],grad:j.N(q[1]),crds:o}}$[O==0?"colr":"COLR"]=f;
C[O==0?"Fill":"Stroke"]($,p!=0)}}else if(S&&k[4]){var m=S.$E,aZ=new j5(m,d,S.Yb),w=dJ.Pe(aZ,S,!0),jN=j.b.el(w),iA=null,U=en.a8x(Q);
if(U){iA=cK.Ok.vS(U);iA.XX=fv.L5(U.strokeStyleContent.v.Clr.v)}for(var hd in jN){var kx=parseInt(hd.slice(1,7),16),b0=0;
$.colr=J?fv.L5(J.Clr.v):fv.acA(kx);var gX=jN[hd];j.b.U(gX.n,M,gX.n);gX=j.b.aG8(gX);$.pth={cmds:gX.C0,crds:gX.n};
var s=iA?j.N(iA):null;if(hd.length>7)s=dJ.a2t(hd.slice(7));if(s)s.WV*=M.w5();if(s&&s.QK==2){$.COLR=s.XX;
gA.oH(s,$);C.Stroke($)}C.Fill($);if(s&&s.QK!=2){$.COLR=s.XX;gA.oH(s,$);C.Stroke($)}}}else if(S){var m=j.N(S.$E);
ho.ads(m);var j$=S.U.P(),i0=new hS(1,0,0,-1,0,0);i0.concat(j$);i0.concat(M);var f7=ho.OD(m),aZ=new j5(m,d,S.Yb);
for(var O=0;O<aZ.jv.length;O++){var am=aZ.jv[O];if(am.zG.length==1&&am.zG[0].pw)continue;for(var L=0;
L<am.M0.length;L++){var gf=am.M0[L],cC=am.wT.y+gf.wT.y,aD=am.zG[gf.start].start,c_=am.zG[gf.end-1].end,a9=ho.afq(m,aD,c_);
for(var jz=0;jz<a9.length;jz++){var g3=aZ.Ni(aD),e3=a9[jz],c1=ho.RT(m,aD,aD),dI=c1.WX[c1.Uz.Font].Name;
$.font.Tf=dI;var hd=ho.MB(c1.Uz.FillColor);$.colr=J?fv.L5(J.Clr.v):[hd.t/255,hd.L/255,hd.X/255];var kJ=$.font.Tfs=Math.round(c1.Uz.FontSize),cA=f7.slice(aD,aD+e3);
if(c1.Uz.FontCaps==2)cA=cA.toUpperCase();var e=new hS;e.translate(g3.OV.x,-cC);e.concat(i0);$.ctm=[e.xz,e.X,e.gb,e.G0,e.P6,e.jw];
C.PutText($,cA,0);for(var c2=0;c2<2;c2++){var ee=c1.Uz[c2==0?"Strikethrough":"Underline"];if(!ee)continue;
var hF=aZ.Ni(aD+e3-1),ic=c2==0?.27:-.2,eH=kJ*ic,kz=kJ*(ic+.07),b0=hF.OV.x+hF.OV.r-g3.OV.x,kq=[0,eH,b0,eH,b0,kz,0,kz];
j.b.U(kq,e,kq);$.pth={cmds:["M","L","L","L","Z"],crds:kq};C.Fill($)}$.ctm=[1,0,0,1,0,0];aD+=e3}}}}else if(!I.S.XS()||gw==1){var a7,i6,hm=!1,bB=new hS,iV=I.add.SoLd,eO=!0;
if(iV)eO=j.H.TI(j.H.e0(B.hL.$M(iV.Trnf)));var aC=F.o7();if(iV&&eO&&aC==null){var fq=iV.Idnt.v,bX=F.M3(fq,iV.Crop?iV.Crop.v:null),cb="";
if(bX==null)return;var gb=bX.gn,dX=dN.GN(bX.raw.buffer);if(k[7].indexOf(dX)!=-1){a7=bX.raw;hm=!0}else a7=gb[0];
i6=gb[1];bB=j.H.b6(iV)}else{a7=I.buffer;i6=I.S;bB.translate(i6.x,i6.y);if(aC){a7=a7.slice(0);ICC.U.applyLUT(aC[F.add.fcmy==1?5:3],aC[2],a7,a7)}if(j.DG(a7,i6.r,i6.$)&&k[7]&&k[7].indexOf("jpg")!=-1){var e6=dN.LD("JPG").x2([[a7.buffer]],i6.r,i6.$,[k[1]]);
a7=new Uint8Array(e6);hm=!0}}if(J&&!hm)a7=en.agB(a7,J,i6);fv.wy($,C,a7,i6,bB,M);if(J&&hm){var kq=[0,0,i6.r,0,i6.r,i6.$,0,i6.$];
j.b.U(kq,bB,kq);j.b.U(kq,M,kq);var gn=j.N($);gn.ca=J.Opct.v.val/100;gn.pth={cmds:["M","L","L","L","Z"],crds:kq};
gn.colr=fv.L5(J.Clr.v);C.Fill(gn)}}if(D)$.cpth=null;if(a){C.EndTGroup();$=R}$.ca=$.CA=i;if(v)fv.aC3(I,H,n,v,$,C,M,k,!1)};
fv.Ys=function(F){var r=fv.oo;if(r==null)return F;var $=r.o7();if($&&r.add.fcmy){return j.Ao(j.dm(F)).slice(0,3)}return F};
fv.L5=function(F){F=j.qS.MB(F);return fv.Ys([F.t/255,F.L/255,F.X/255])};fv.acA=function(F){return fv.Ys([(F>>>16&255)/255,(F>>>8&255)/255,(F&255)/255])};
fv.aC3=function(F,r,$,C,M,l,k,d,I){var c=$.P(),Q=r;if(F.add.TySh&&!d[3]&&!d[4])return;var x=M.ca,U=M.bmode;
for(var O=cK.order.length-1;O>=0;O--){var S=cK.order[O];if(S=="GrFl"||S=="SoFi")continue;if((F.add.vmsk||F.add.TySh)&&S=="FrFX")continue;
var z=C[S],V=O>7||S=="FrFX";if(V!=I)continue;for(var t=0;t<z.length;t++){var Y=z[t];if(Y.W5==null)Y=Y.uX?Y.uX:Y.Sr;
if(Y==null)continue;var i=Y.W5.P();i.offset(c.x,c.y);if(!V){if(!c.qC(i)){var J=c.DM(i),H=j.j(J.C());
j.wU(Q,c,H,J);Q=H;c=J}j.PO(Q,c,Y.fU,i)}if(V&&S=="FrFX"&&Y.UZ)j.PO(Y.UZ,i,Y.fU,i);var v=new hS;v.translate(i.x,i.y);
M.ca=Y.Lk;M.bmode=gA.a8q(Y.uN);fv.wy(M,l,Y.fU,i,v,k)}}M.ca=x;M.bmode=U};fv.wy=function(F,r,$,C,M,l){var k=new hS;
k.scale(C.r,-C.$);k.translate(0,C.$);k.concat(M);k.concat(l);F.ctm=[k.xz,k.X,k.gb,k.G0,k.P6,k.jw];r.PutImage(F,$,C.r,C.$);
F.ctm=[1,0,0,1,0,0]};var k_={};k_.CO=function(F){var r=new Uint8Array(F);return k_.Jb(r,0)};k_.Jb=function(F,r){var $=P.dj,C=P.BW,M={ar:C(F,r,4),p:r+8,size:$(F,r+4)},l=M.ar=="FORM"||M.ar=="FOR4"||M.ar=="LIST"||M.ar=="CAT ";
if(l)M.zd=C(F,r+8,4);if(M.size<0||M.p+M.size>F.length)throw"e";if(l){M.sub=[];r+=12;var k=M.p+M.size;
while(r<k){var d=k_.Jb(F,r);M.sub.push(d);var I=d.size&1,c=d.size&3;if(M.ar=="FOR4")I=c==0?0:4-c;r+=8+d.size+I}}return M};
var bN={};bN.CO=function(F,r){var $=new Uint8Array(F);return bN.Jb($,0,r)};bN.Jb=function(F,r,$){var C=P.cA,M=P.BW,l={ar:M(F,r,4),p:r+8,size:C(F,r+4)};
if($&&$[l.size]!=null)l.size=$[l.size];if(l.ar=="RIFF"||l.ar=="LIST"){l.zd=M(F,r+8,4)}if(l.size<0||l.p+l.size>F.length)throw"e";
if(l.ar=="RIFF"||l.ar=="LIST"&&(l.zd!="cmpr"&&l.zd!="stlt")){l.sub=[];r+=12;var k=l.p+l.size;while(r<k){var d=bN.Jb(F,r,$);
l.sub.push(d);r+=8+d.size+(d.size&1)}}return l};var du=function(){function F(o,E){var cj=null;if(o.sub==null)return cj;
for(var O=0;O<o.sub.length;O++){var u=o.sub[O];if(u.ar==E||u.zd==E)cj=u}return cj}function r(o){if(o==32)return 300;
else if(o<49)return 0;else if(o<58)return 100*(o-48);else if(o<65)return 0;return 100*(o-55)}var $;function C(o,E){var cj=new Uint8Array(o);
E.Zp=!0;$={};var u=P.BW(cj,0,2);if(u=="WL"){alert("Unsupported CDR version")}else{var cd,m,aZ,iA,gf=300,c_=0;
if(u=="PK"){m=UZIP.parse(cj);if(m["content/root.dat"]){cj=m["content/root.dat"];aZ=P.qV(m["content/dataFileList.dat"]).split("\n")}else{cj=m["content/riffData.cdr"];
m=null}}cd=bN.CO(cj.buffer);console.log(cd);var jN=r(cj[11]),eh={data:cj,p:0,n1:jN};eh.dG=eh.n1<600?16:32;
g(cj,eh,aZ,m,cd.sub,0);var hd=[];if(m){iA=F(cd,"doc ");M(iA);var kx=cd.sub;for(var O=0;O<kx.length;O++)if(kx[O].zd=="page")hd.push(kx[O]);
hd=hd.slice(1)}else if(cd.sub[3]&&cd.sub[3].ar=="pack"){alert("We dont support this version of CDR files");
return}else if(F(cd,"cmpr")==null){iA=F(cd,"page");hd.push(iA);if(F(iA,"mcfg")==null){iA=F(cd,"doc ");
M(iA);hd=[];var kx=cd.sub;for(var O=0;O<kx.length;O++)if(kx[O].zd=="page")hd.push(kx[O]);hd=hd.slice(1)}}else{var b0=F(cd,"cmpr").sub;
iA=b0[0];hd=[b0.slice(1)[1]];if(F(iA,"filt"))M(iA)}var gX=F(iA,"mcfg").Y,j$=gX.aeh,i0=j$.x*.1,f7=j$.x*hd.length+i0*(hd.length-1),am=j$.y;
gf/=aQ.l2(new cS(0,0,Math.round(f7*gf),Math.round(am*gf)),8192*8192);var cC=Math.round(f7*gf),aD=Math.round(am*gf);
E.r=cC;E.$=aD;E.buffer=j.j(E.r*E.$*4);for(var O=0;O<hd.length;O++){var a9=new hS(gf,0,0,-gf,j$.x*gf/2+c_,j$.y*gf/2);
l(hd[O],iA,E,a9);var jz=E.u[E.u.length-1];jz.HD(new cS(Math.round(c_),0,Math.round(j$.x*gf),Math.round(j$.y*gf)));
jz.Da("Page "+(O+1));c_+=j$.x*gf+i0*gf}E._R(hd.length)}}function M(o){var E=F(o,"filt").sub,cj=F(o,"otlt").sub,u=F(o,"fntt");
if(u)u=u.sub;o.Cs={};for(var O=0;O<E.length;O++)o.Cs[E[O].sub[0].Y.id]=E[O].sub[0].Y;o.Bw={};for(var O=0;
O<cj.length;O++)o.Bw[cj[O].Y.id]=cj[O].Y;if(u){o.fonts={};for(var O=0;O<u.length;O++)o.fonts[u[O].Y.id]=u[O].Y}}function l(o,E,cj,u){var cd=o.zd?o.zd:o.ar,m=F(o,"lgob"),aZ=F(o,"txsm"),jN=null,eh=null;
if(m){jN=F(m,"trfl");eh=F(m,"loda")}else if(F(o,"lobj"))eh=F(o,"lobj");var iA=jN&&jN.sub[0].VF?jN.sub[0].VF.P():new hS;
iA.concat(u);var hd=cj.at();if(cd=="page"||cd=="layr"||cd=="grp "){hd.Da((cd=="page"?"Page":"Group")+" "+cj.u.length);
hd.add.lsct=jR.ul;hd.ww="pass";hd.U4=24;var kx=[];if(cd=="page")kx=F(o,"gobj").sub;if(cd=="layr")kx=o.sub.slice(2);
if(cd=="grp ")kx=o.sub.slice(4);if(kx.length==0)return;cj.u.push(cj.fm());for(var O=kx.length-1;O>=0;
O--)l(kx[O],E,cj,u)}else if(cd=="obj "&&eh.Y&&eh.Y.path){var b0,gX;if(E.Cs){b0=E.Cs[eh.Y.a1h];gX=E.Bw[eh.Y.aIx]}if(b0==null)b0=eh.Y.awd;
if(gX==null)gX=eh.Y.ani;hd=k(cj,eh.Y.path,u,iA,b0,gX)}else if(cd=="obj "&&aZ){var j$=eh.Y.avp,i0=eh.Y.a8M,gf="";
hd.add.TySh=ho.DB(0,0);var f7=iA.w5();hd.add.TySh.U.translate(iA.P6,iA.jw);var am=hd.add.TySh.$E,cC=aZ.Y.DF;
if(cC==null)return;for(var O=0;O<cC.length;O++){var aD=cC[O],c_=gf.length;gf+=aD.text+"\n";ho.uy(am,c_,aD.text+"\n");
if(aD.text=="")continue;var a9=d(aD.afg,E),jz=a9.a5r,g3=E.fonts[jz.auF],e3=ho.RT(am,c_,gf.length);if(a9.align==3)e3.jv.Justification=1;
else if(a9.align==2)e3.jv.Justification=2;else e3.jv.Justification=0;var c1=a9.fill.Y;if(c1==null)c1=[0,0,0];
if(g3.mc)ho.jl(e3,g3.mc);e3.Uz.FillColor={Type:1,Values:[1,c1[0],c1[1],c1[2]]};e3.Uz.FontSize=Math.round(jz.fontSize*u.w5());
ho.WE(am,c_,gf.length-1,e3)}if(i0){ho.s2(am,0)}else{ho.s2(am,1);ho.SB(am,[0,0,Math.round(j$.x*iA.xz),Math.round(-j$.y*iA.G0)])}hd.Da(gf.slice(0,10))}else{hd=null}if(hd)cj.u.push(hd)}function k(o,E,cj,u,cd,m){var aZ=o.at();
aZ.Da("Object "+o.u.length);aZ.U4|=16;var jN=aZ.add.vstk=cK.Ok.Mv();aZ.add.vmsk=new Z.kf;aZ.add.vmsk.M=j.b.RJ(E,!1);
j.w.J_(aZ.add.vmsk.M,u);var eh=cd&&cd.I!=0,iA=eh&&cd.Y!=null?cd.Y:[0,0,0];gA.eY(iA,aZ,u,aZ.add.vmsk.M);
jN.fillEnabled.v=eh;if(m&&m.aa1!=1){jN.strokeEnabled.v=!0;jN.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
var hd=jN.strokeStyleLineWidth.v.val=m.lineWidth*cj.w5(),kx=m.color;jN.strokeStyleContent.v.Clr.v=j.qS.NG({t:kx[0]*255,L:kx[1]*255,X:kx[2]*255});
if(m.x_.length!=0)jN.strokeStyleLineDashSet.v=en.TY(m.x_,4/hd);var b0=m.acs,gX=m.ajQ;if(gX!=0){var j$=E.n,O=j$.length-4,i0=j$[O],f7=j$[O+1],am=j$[O+2],gf=j$[O+3],cC=new hS;
cC.scale(.15,.15);cC.rotate(-Math.PI/2+Math.atan2(gf-f7,-(am-i0)));cC.translate(am,gf);cC.concat(u);
if($[gX]){var aD=k(o,$[gX],cj,cC,kx,null);o.u.push(aD)}}}aZ.ud();aZ.uH(o);return aZ}function d(o,E){var cj=F(E,"stlt").Y,u=j.N(cj.md[o]);
if(u.rF!=0){var cd=cj.md[u.rF];for(var m in cd)if(u[m]==null||u[m]==0)u[m]=cd[m];delete u.rF}u.align=cj.aza[u.ao0];
u.fill=E.Cs[cj.af_[u.asF]];u.a3O=E.Bw[cj.aId[u.azm]];u.a5r=cj.a8s[u.anR];return u}function I(O){var bU=O.data[O.p];
O.p+=1;return bU}function c(O){var bU=P.IX(O.data,O.p);O.p+=2;return bU}function Q(O){var bU=P.cA(O.data,O.p);
O.p+=4;return bU}function x(O){var bU=P.cA(O.data,O.p);O.p+=8;return bU}function U(O){var bU=P.nv(O.data,O.p);
O.p+=2;return bU}function S(O){var bU=P.jF(O.data,O.p);O.p+=4;return bU}function z(O){var bU=P.aj(O.data,O.p);
O.p+=8;return bU}function V(O){if(O.p>=O.data.length)throw"e";var o=0;while(O.data[O.p+o]!=0)o++;var E=P.BW(O.data,O.p,o);
O.p+=o+1;return E}function t(O){var o="";while(!0){var E=c(O);if(E==0)break;o+=String.fromCharCode(E)}return o}function Y(o){var E=Q(o),cj=(E&4294901760)>>>16,u=(E&65535)/65535;
return cj+u}function i(o){if(o.n1<600)return Math.PI*U(o)/1800;return Math.PI*S(o)/18e7}function J(o){if(o.n1<1500)return H(o);
else return z(o)/254e3}function H(o){if(o.n1<600)return U(o)/1e3;else return S(o)/254e3}function v(o){if(o.n1<600)return c(o);
else return Q(o)}function n(o){if(o.n1<600)return U(o);else return S(o)}function G(o,E,cj){var u="";
for(var O=0;O<cj;O++){for(var cd=0;cd<E;cd+=4){var bU=P.cA(o.data,o.p+O*E+cd);u+=(bU<500?bU:bU)+","}u+="\n"}return u}function g(o,E,cj,u,cd,m){var aZ,jN,eh;
for(var iA=0;iA<cd.length;iA++){var hd=E.n1,kx=cd[iA];E.data=o;E.p=kx.p+(kx.ar=="LIST"?4:0);if(u&&kx.sub==null){aZ=Q(E);
jN=Q(E);eh=Q(E);var b0=c(E);if(b0!=0&&b0!=768)throw"e";var gX=c(E);if(gX>32)throw"e";E.p-=16;if(aZ!=4294967295){E.data=u["content/data/"+cj[aZ]];
E.p=eh}}if(kx.ar=="vrsn"){if(kx.size==16)E.p+=8;var j$=c(E);E.n1=j$;console.log("Version",j$);E.dG=j$<600?16:32}else if(kx.ar=="DISP"){}else if(kx.ar=="pack"){var i0=Q(E),f7=P.BW(E.data,E.p,4),cC=0;
if(f7!="CPng")throw f7;var am=new Uint8Array(E.data.buffer,E.p+8+2,kx.size-10-4),gf=pako.inflateRaw(am);
kx.sub=[];while(cC<gf.length){var aD=bN.Jb(gf,cC);cC=aD.p+aD.size;kx.sub.push(aD)}var c_={data:gf,p:0,n1:hd,dG:E.dG};
g(gf,c_,cj,u,kx.sub,m+1)}else if(kx.ar=="LIST"&&kx.zd=="cmpr"){var a9=Q(E),jz=Q(E),g3=Q(E),i0=Q(E),f7=P.BW(E.data,E.p,4),cC=0;
if(f7!="CPng")throw f7;var am=new Uint8Array(E.data.buffer,E.p+8+2,a9-6-8),gf=pako.inflateRaw(am);E.p+=a9;
am=new Uint8Array(E.data.buffer,E.p+8+2);var e3=pako.inflateRaw(am),c1=[];for(var dI=0;dI<e3.length;
dI+=4)c1.push(P.cA(e3,dI));kx.sub=[];while(cC<gf.length){var aD=bN.Jb(gf,cC,c1);cC=aD.p+aD.size;kx.sub.push(aD)}var c_={data:gf,p:0,n1:hd,dG:E.dG};
g(gf,c_,cj,u,kx.sub,m+1)}else if(kx.ar=="LIST"&&kx.zd=="stlt"||kx.ar=="stlt"){if(aZ==4294967295)return;
var kJ=E.p,kz="",e6=32;kx.Y={};var cA=Q(E);if(cA==0)return;kx.Y.af_=K(E,hd>=1300);kx.Y.aId=K(E);kx.Y.a8s={};
var c2=Q(E);for(var O=0;O<c2;O++){var ee=Q(E);E.p+=hd<1e3?12:20;var hF=c(E),ic=c(E);E.p+=8;var eH=H(E);
E.p+=hd<1e3?12:20;kx.Y.a8s[ee]={auF:hF,atY:ic,fontSize:eH}}kx.Y.aza=K(E);var kq=Q(E);kz+="Intervals\n"+G(E,52,kq)+"\n";
E.p+=52*kq;var a7=Q(E);kz+="Set5s\n"+G(E,152,a7)+"\n";E.p+=152*a7;var i6=Q(E);kz+="Tabs\n"+G(E,784,i6)+"\n";
E.p+=784*i6;var hm=Q(E);kz+="Bullets\n";for(var O=0;O<hm;O++){var bB=E.p,iV=Q(E);E.p+=4*3;if(hd>1300)E.p+=4;
var eO=Q(E);E.p+=4*5;if(hd>=1300){var aC=Q(E);if(aC){if(Q(E))E.p+=64;else E.p+=60}else E.p+=12}else{E.p+=20;
if(hd>=1e3)E.p+=8;if(Q(E))E.p+=8;E.p+=8}var fq=E.p;E.p=bB;kz+=G(E,fq-bB,1);E.p=fq}kz+="\n";var bX=Q(E);
kz+="Indents\n";kx.Y.afn={};for(var O=0;O<bX;O++){var bB=E.p,gb=Q(E),dX={};E.p+=12;dX.right=H(E);dX.afJ=H(E);
dX.left=H(E);kx.Y.afn[gb]=dX;var fq=E.p;E.p=bB;kz+=G(E,fq-bB,1);E.p=fq}kz+="\n";var cb=Q(E);if(hd>=1300)e6+=4;
kz+="Hypens\n"+G(E,e6,cb)+"\n";E.p+=e6*cb;var gn=Q(E);kz+="Dropcaps\n"+G(E,28,gn)+"\n";E.p+=28*gn;if(hd>800){var a2=Q(E);
kz+="Set11s\n"+G(E,28,a2)+"\n";E.p+=12*a2}kx.Y.md={};for(var O=0;O<cA;O++){var kf=Q(E);if(kf>3)throw kf;
var dj=Q(E),hr={};hr.rF=Q(E);E.p+=8;var iB=Q(E);if(hd>=1200)iB*=2;E.p+=iB;hr.asF=Q(E);hr.azm=Q(E);if(kf>1){hr.anR=Q(E);
hr.ao0=Q(E);hr.agS=Q(E);hr.av6=Q(E);if(hd>800)hr.abN=Q(E)}if(kf>2){hr.aAP=Q(E);hr.a4Z=Q(E);hr.a3x=Q(E);
hr.ah7=Q(E);hr.azU=Q(E)}kx.Y.md[dj]=hr}}else if(kx.ar=="LIST")g(o,E,cj,u,kx.sub,m+1);else if(kx.ar=="txsm"){kx.Y={};
if(hd<600)throw"e";if(hd<700)throw"e";if(hd>=1600){kx.Y=h(E);return}if(hd>=1500)E.p+=37;else E.p+=36;
if(Q(E)){if(hd<800)E.p+=32}if(hd<800)E.p+=4;kx.Y.ae1=Q(E);kx.Y.DF=[];E.p+=48;if(hd>=800){if(Q(E)){E.p+=32;
if(hd>=1300)E.p+=8}}if(hd>=1500)E.p+=12;var kf=Q(E),dm=1,fr=!1;if(!kf){if(hd>=800)E.p+=4;if(hd>800)E.p+=2;
if(hd>=1400)E.p+=2;E.p+=24;if(hd<800)E.p+=8;dm=Q(E)}for(var dI=0;dI<dm;dI++){var dv=Q(E),O=0;if(hd>=1300&&kf)E.p++;
E.p++;var cA=Q(E),hw=[];for(O=0;O<cA;O++){var gT=I(E),ha=0;I(E);var cu=I(E);if(hd>=800)ha=I(E);var hr={};
if(cu&1){hr.auF=c(E);var g1=c(E);if(g1)hr.avw=g1}if(cu&2)E.p+=4;if(cu&4)hr.aei=H(E);if(cu&8)E.p+=4;if(cu&16)E.p+=4;
if(cu&32)E.p+=4;if(cu&64){hr.asF=Q(E);if(hd>=1500)E.p+=48}if(cu&128){hr.azm=Q(E)}if(ha&8){if(hd>=1300){var dd=Q(E);
if(E.p+dd*2>=E.data.length){fr=!0;break}E.p+=dd*2}else E.p+=4}if(ha&32){var gj=I(E);if(gj)E.p+=52}if(gT==2)if(hd>=1300)E.p+=48;
hw.push(hr)}if(fr){break}var es=Q(E);if(E.p+es*4>E.data.length)break;var hV=[];for(O=0;O<es;O++){var fx=0;
if(hd>=1200)fx=x(E)&4294967295;else fx=Q(E);hV[O]=fx>>16|fx&1}var iK=es;if(hd>=1200)iK=Q(E);var eX=V(E);
kx.Y.DF.push({afg:dv,text:eX,md:hw})}}else if(kx.ar=="arrw")kx.Y=W(E);else if(kx.ar=="font"){var bB=E.p,bo=c(E),f8=c(E),dT="";
E.p+=14;if(E.n1>=1200)dT=t(E);else dT=V(E);kx.Y={id:bo,a3f:f8,name:dT};if(u){var it=bB+jN;while(E.data[E.p]==0)E.p++;
E.p+=2;var b_=t(E);while(E.data[E.p]==0)E.p++;while(E.data[E.p]<=2)E.p+=4;kx.Y.mc=t(E)}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(kx.ar)!=-1){}else if(kx.ar=="flgs")kx.Y=Q(E);
else if(kx.ar=="bbox"){var cU=H(E),iO=H(E),aV=H(E),jD=H(E);kx.Y=new cS(cU,iO,aV-cU,jD-iO)}else if(kx.ar=="fild"){var bJ=Q(E),aK;
if(hd>=1300)E.p+=8;var gZ=c(E);if(gZ==0){}else if(gZ==1){E.p+=hd>=1300?13:2;aK=f(E)}else if(gZ==2){E.p+=hd>=1300?8:2;
var g5=I(E),j9=0;if(hd>=1300){E.p+=17;j9=U(E)}else if(hd>=600){E.p+=19;j9=S(E)}else{E.p+=11;j9=U(E)}var ir=i(E),ig=.5+n(E),aT=.5+n(E)-.5;
if(hd>=600)E.p+=2;var de=v(E)&255,fJ=I(E)/100;E.p++;var kA=v(E)&65535;if(hd>=1300)E.p+=3;var c5=[];for(var O=0;
O<kA;O++){var iD=f(E);if(hd>=1400)E.p+=26;else if(hd>=1300)E.p+=5;var fA=(v(E)&65535)/100;if(hd>=1300)E.p+=3;
c5.push([fA,iD])}aK={typ:g5==1?"lin":"rad",crds:[ig-Math.cos(ir)/2,aT-Math.sin(ir)/2,ig,aT],grad:c5,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",gZ);
kx.Y={id:bJ,I:gZ,Y:aK}}else if(kx.ar=="outl"){var eV=Q(E);if(hd>=1300){var gY=0,k2=0;while(gY!=1){E.p+=k2;
gY=Q(E);k2=Q(E)}}var fm=c(E),j_=c(E),fD=c(E);if(hd<1300&&hd>=600)E.p+=2;var kP=H(E),iC=c(E)/100;if(hd>=600)E.p+=2;
var eQ=i(E);if(hd>=1300)E.p+=46;else if(hd>=600)E.p+=52;var aK=f(E);if(hd<600)E.p+=10;else E.p+=16;var ip=c(E),dU=E.p,jt=[];
for(var O=0;O<ip;++O)jt.push(c(E));if(hd<600)E.p=dU+20;else E.p=dU+22;var hy=Q(E),jh=Q(E);kx.Y={id:eV,aa1:fm,aBX:j_,a5_:fD,lineWidth:kP,color:aK,x_:jt,acs:hy,ajQ:jh}}else if(kx.ar=="mcfg"){if(1300<=hd)E.p+=12;
else if(900<=hd)E.p+=4;else if(600<=hd&&hd<700)E.p+=28;var fs=0,eL=0;if(hd<400){E.p+=2;var cU=H(E),iO=H(E),aV=H(E),jD=H(E);
fs=Math.abs(aV-cU);eL=Math.abs(jD-iO)}else{fs=H(E);eL=H(E)}kx.Y={aeh:new hx(fs,eL)}}else if(kx.ar=="loda"||kx.ar=="lobj"){var kJ=E.p,h_=v(E),fS=v(E),jH=v(E),iW=v(E),hl=v(E),gJ=[],gS=[],O=0,e5=null;
E.p=kJ+jH;while(O<fS)gJ[O++]=v(E);E.p=kJ+iW;while(O>0)gS[--O]=v(E);kx.Y={};for(O=0;O<fS;O++){E.p=kJ+gJ[O];
var h5=gS[O];if(h5==30){if(hd>=400&&hl==1||hd<400&&hl==0){kx.Y.path=R(E)}else if(hd>=400&&hl==2||hd<400&&hl==1){kx.Y.path=a(E)}else if(hd>=400&&hl==3||hd<400&&hl==2){kx.Y.path=s(E)}else if(hl==37){kx.Y.path=N(E)}else if(hd>=400&&hl==4||hd<400&&hl==3){kx.Y.a8M=X(E)}else if(hd>=400&&hl==6||hd<400&&hl==5){kx.Y.avp=w(E)}else console.log(hl)}else if(h5==20){if(hd<400)kx.Y.awd=b(E);
else kx.Y.a1h=Q(E)}else if(h5==10){if(hd<400)kx.Y.ani=T(E);else kx.Y.aIx=Q(E)}else if(h5==200)kx.Y.aGd=v(E);
else if(h5==100){if(hd<400)e5=L(E)}}if(e5&&kx.Y.path)j.b.U(kx.Y.path.n,e5,kx.Y.path.n)}else if(kx.ar=="trfd"){var kJ=E.p,h_=v(E),fS=v(E),jH=v(E);
E.p=kJ+jH;var gJ=[];for(var O=0;O<fS;O++)gJ[O]=v(E);for(var O=0;O<fS;O++){E.p=kJ+gJ[O];if(hd>=1300)E.p+=8;
var jG=c(E);if(jG==8){var eE,bz,cU,hQ,cO,iO;if(hd>=600)E.p+=6;if(hd>=500){eE=z(E);bz=z(E);cU=z(E)/(hd<600?1e3:254e3);
hQ=z(E);cO=z(E);iO=z(E)/(hd<600?1e3:254e3)}else throw"e";kx.VF=new hS(eE,hQ,bz,cO,cU,iO)}else console.log(jG)}}else if(!1){console.log(kx);
var dk=Math.min(kx.size,32);console.log(P._3(o,kx.p,dk));console.log(P.aDU(o,kx.p,dk))}}}function W(o){var E=Q(o);
o.p+=4;var cj=c(o);o.p+=4;var u=[];for(var cd=0;cd<cj;cd++)u.push(I(o));o.p+=1;var m=[];for(var aZ=0;
aZ<cj;aZ++){var jN=[];jN[1]=H(o);jN[0]=H(o);m.push(jN)}var eh=p(m,u);$[E]=eh}function L(o){var E=0,cj=0,u=0,cd=0,m=0,aZ=0;
if(o.n1>=300){var jN=o.p;o.p+=10;var eh=v(o);o.p=jN+eh;E=Y(o);cj=Y(o);u=S(o)/1e3;cd=Y(o);m=Y(o);aZ=S(o)/1e3}else{u=H(o);
aZ=H(o);E=Y(o);cj=Y(o);u+=Y(o)/1e3;cd=Y(o);m=Y(o);aZ+=Y(o)/1e3}return new hS(E,cj,cd,m,u,aZ)}function b(o){var E=I(o);
if(E==0)return null;else if(E==1)return f(o);else console.log(E)}function T(o){var E=I(o);E<<=1;var cj=H(o),u=c(o)/100,cd=i(o),m=f(o);
return{aa1:E,lineWidth:cj,color:m,x_:[],acs:0,ajQ:0}}function a(o){var E=H(o),cj=H(o),u=i(o),cd=i(o),m=j.b.oJ(j.w.tQ.jI(0,0,E,cj));
return m}function R(o){var E=o.n1,cj=J(o),u=J(o),cd=0,m=0,aZ=0,jN=0,eh=0,iA=1,hd=1;if(E<1500){jN=J(o);
aZ=E<900?jN:J(o);m=E<900?jN:J(o);cd=E<900?jN:J(o)}else{var kx=z(o);if(kx!=0)iA=kx;kx=z(o);if(kx!=0)hd=kx;
var b0=I(o);o.p+=7;if(b0==0){jN=z(o);eh=I(o);o.p+=15;aZ=z(o);o.p+=16;m=z(o);o.p+=16;cd=z(o);var gX=Math.abs(cj*iA/2),j$=Math.abs(u*hd/2);
jN*=gX<j$?gX:j$;aZ*=gX<j$?gX:j$;m*=gX<j$?gX:j$;cd*=gX<j$?gX:j$}else{jN=J(o);eh=I(o);o.p+=15;aZ=J(o);
o.p+=16;m=J(o);o.p+=16;cd=J(o)}}return j.b.oJ(j.w.tQ.Rect(0,0,cj,u,[cd,m,aZ,jN]))}function D(o){var E=Q(o);
if(o.n1<1700)E*=2;o.p+=E;return""}function h(o){var E=Q(o),u=0;o.p+=37;var cj=Q(o);for(var O=0;O<cj;
O++){var cd=Q(o);u=cd;o.p+=48;var m=Q(o);if(m==1)o.p+=12*4;else o.p+=8;if(!E){o.p+=16;D(o)}}var aZ={ae1:u,DF:[]},jN=Q(o);
for(var eh=0;eh<jN;eh++){if(o.p>o.data.length)throw"e";var iA=Q(o),hd=I(o),kx=-1,a9="";if(E){kx=I(o);
if(kx==1)o.p+=64}var b0=D(o),gX=Q(o);for(var O=0;O<gX;O++){o.p+=2;var j$=c(o),i0=c(o);if(i0&4){var f7=Q(o);
f7*=2;o.p+=f7}if(j$||i0&4){var am=D(o)}}var gf=Q(o),cC=[];for(var O=0;O<gf;O++){var aD=x(o)&4294967295;
cC[O]=aD>>16|aD&1}var c_=Q(o);for(var O=0;O<gf;O++){var jz=cC[O]&7,g3=0;if(jz==0||jz==2||jz==4||jz==6)g3=o.data[o.p++];
else if(jz==1||jz==3||jz==5||jz==7)g3=o.data[o.p++]+o.data[o.p++]*256;else throw jz;a9+=String.fromCharCode(g3)}if(eh+1<jN)o.p++;
var e3=a9.split("\r");for(var O=0;O<e3.length;O++)aZ.DF.push({text:e3[O],afg:iA,md:[]})}return aZ}function K(o,E){var cj={},u=Q(o);
for(var O=0;O<u;O++){var cd=Q(o);o.p+=4;var m=Q(o);cj[cd]=m;if(E)o.p+=48}return cj}function X(o){var E=H(o),cj=H(o);
return new hx(E,cj)}function w(o){o.p+=4;var E=H(o),cj=H(o);return new hx(E,cj)}function N(o){o.p+=4;
var E=c(o)+c(o);o.p+=16;var cj=A(o,E);return cj}function s(o){var E=c(o);o.p+=2;return A(o,E)}function A(o,E){var cj=[],u=[];
for(var O=0;O<E;O++)cj.push([H(o),H(o)]);for(var O=0;O<E;O++)u.push(I(o));return p(cj,u)}function p(o,E){var cj={n:[],C0:[]},u=0,cd=0,m=0;
for(var O=0;O<o.length;O++){var u=o[O][0],cd=o[O][1],aZ=E[O];if(!(aZ&64)&&!(aZ&128)||O==0){cj.n.push(u,cd);
cj.C0.push("M");m+=2}else if(aZ&64&&!(aZ&128)){cj.n.push(u,cd);cj.C0.push("L");m+=2}else if(!(aZ&64)&&aZ&128){cj.n.push(u,cd);
cj.C0.push("C");m+=6}else if(aZ&64&&aZ&128){cj.n.push(u,cd)}}if(m!=cj.n.length)throw"e";return cj}function q(o,E){var cj=P.cA;
E+=8;var u=cj(o,E);E+=4;var cd=cj(o,E);E+=4;E+=4*7;var m=E,aZ=j.j(u*cd*4);E+=1024;for(var jN=0;jN<cd;
jN++)for(var eh=0;eh<u;eh++){var O=jN*u+eh,iA=(cd-jN-1)*u+eh,hd=o[E+O]<<2,kx=iA<<2;aZ[kx+0]=o[m+hd+2];
aZ[kx+1]=o[m+hd+1];aZ[kx+2]=o[m+hd+0];aZ[kx+3]=255}return{fU:aZ,S:new cS(0,0,u,cd)}}function f(o){var E=o.n1,cj=0,u=0,cd=0;
if(E>=500){cj=c(o);if(cj==1&&E>=1300)cj=25;if(cj==30){cj=25;u=30}else{u=c(o);o.p+=4}cd=Q(o)}else if(E>=400)throw"e";
else{cj=I(o);cd=Q(o)}return e(cj,u,cd)}function e(o,E,cj){var u=[0,0,0];if(o==2||o==3||o==9||o==17){var cd=[cj>>>0&255,cj>>>8&255,cj>>>16&255,cj>>>24&255];
if(o==2)for(var O=0;O<4;O++)cd[O]=Math.round(255*cd[O]/100);for(var O=0;O<4;O++)cd[O]/=255;u=UDOC.C.cmykToRgb(cd)}else if(o==1||o==5){u=[cj>>>0&255,cj>>>8&255,cj>>>16&255];
for(var O=0;O<3;O++)u[O]=u[O]/255;if(o==5)u.reverse()}else console.log("Unknown color model "+o,cj,cj.toString(16));
return u}return{CO:C}}(),a1=function(){var F,r,$=new ArrayBuffer(4),C=new Uint8Array($),M=new Uint32Array($),l=new Float32Array($);
function k(U,S){for(var z=0;z<U.length;z++)if(U[z][0]==S)return U[z]}function d(){var U=0,S=0,z=0;do{z=F[r++];
U|=(z&127)<<S;S+=7}while(z&128&&S<35);return U>>>0}function I(U,S,z,V,t){F=U;r=S;var Y=V[0]=="mesg",i=V[2],J={},H=1,v=Y?1e9:i.length;
while(H<=v){var n=H;if(Y){n=d();if(n==0)break}var G=k(i,n),g=G[2],W=G[1]==1,L=W?d():1,b=new Array(L);
if(g==3){if(!W)throw"e";b=F.slice(r,r+L);r+=L}else for(var O=0;O<L;O++){var T;if((g&1)==1){if(g==1)T=F[r++]==1;
else if(g==3)T=F[r++];else if(g==5){var a=d();T=a&1?~(a>>>1):a>>>1}else if(g==7)T=d();else if(g==9){if(F[r]==0){T=0;
r++}else{C[0]=F[r];C[1]=F[r+1];C[2]=F[r+2];C[3]=F[r+3];var R=M[0];M[0]=R<<23|R>>>9;T=l[0];r+=4}}else if(g==11){var D=c(F,r);
T=D[0];r+=D[1]+1}else throw g}else{var h=z[g>>>1];if(h[0]=="enum"){var K=d();T=h[2][K]}else{var X=I(F,r,z,h,t+1);
T=X[0];r=X[1]}}b[O]=T}J[G[3]]=W?b:b[0];H++}return[J,r]}function c(U,S){var z=S;while(U[z]!=0)z++;return[P.qV(new Uint8Array(U.buffer,S,z-S)),z-S]}function Q(U,S){var z=S;
while(U[z]!=0)z++;for(var O=S;O<z;O++)if(U[O]>127)throw"e";return P.BW(U,S,z-S)}function x(U){F=U;r=1;
var S=[];while(r<U.length){var z=r,V=S.length,t=Q(U,r);r+=t.length+1;var Y=d();if(Y>2)throw"e";var i=d(),J=[];
for(var O=0;O<i;O++){var H=Q(U,r);r+=H.length+1;var v=d(),n=d(),G=d();J.push(Y==0?H:[G,n,v,H])}S.push([["enum","strc","mesg"][Y],t,J])}return S}return{asR:x,aHa:I}}();
function gQ(){}gQ.CO=function(F,r){var $=Date.now(),C=new Uint8Array(F),M=8,l,U=0,w=0;if(C[0]==80&&C[1]==75){l=UZIP.parse(F);
C=l["canvas.fig"]}var k=P.cA(C,M);M+=4;var d=[];while(M<C.length){var I=P.cA(C,M);M+=4;var c=C.slice(M,M+I);
if(C[M]==137&&C[M+1]==80){}else if(k>=70&&d.length!=0){var Q=dN.rV.nI(c);c=Q.length==0?UZIP.inflateRaw(c):Q}else c=UZIP.inflateRaw(c);
d.push(c);M+=I}var x=a1.asR(d[0]);for(var O=0;O<x.length;O++)if(x[O][1]=="Message")U=O;var S=a1.aHa(d[1],0,x,x[U],0)[0],z={uP:{},MU:{},a3U:{},li:l},V=S.nodeChanges;
for(var t=0;t<V.length;t++){var Y=V[t],i=Y.guid;z.MU[i.sessionID+","+i.localID]=Y}for(var t=0;t<V.length;
t++){var Y=V[t],i=Y.parentIndex;if(i){var J=gQ.Ev(z.MU,i.guid);if(J.children==null)J.children=[];J.children.push(Y)}}var H=V[0],v=H.children,n=new cS,G=[],g=[];
for(var i=0;i<v.length;i++){var W=v[i],L=W.children;if(W.name=="Internal Only Canvas"||L==null)continue;
var b=new cS;for(var O=0;O<L.length;O++){var T=L[O],a=T.transform,R=T.size;if(a.m00==1&&a.m10==0&&a.m01==0&&a.m11==1){var D=new cS(a.m02,a.m12,R.x,R.y);
b=b.DM(D)}}var h=n.$==0?0:n.$+100,K=b.P();K.x=0;K.y=h;n=n.DM(K);G[i]=b;g[i]=h}var X=aQ.l2(new cS(0,0,n.r,n.$),8192*8192);
r.r=Math.round(n.r/X);r.$=Math.round(n.$/X);r.buffer=j.j(r.r*r.$*4);for(var i=0;i<v.length;i++){var W=v[i],L=W.children;
if(W.name=="Internal Only Canvas"||L==null)continue;L.sort(gQ.a1x);var N=new hS(1,0,0,1,-G[i].x,g[i]-G[i].y);
N.scale(1/X,1/X);for(var O=0;O<L.length;O++){var T=L[O];gQ.iw(T,[],N,S.blobs,r,0,z);w++}}r._R(w);r.Zp=!0;
if(X!=1)alert("File scaled down "+X+"x")};gQ.iw=function(F,r,$,C,M,l,k){var d=gQ,L=!1,b,R=!1,D,h;r=j.N(r);
var I=F.overrideKey?F.overrideKey:F.guid;for(var O=0;O<r.length;O++){var c=r[O],Q=c.guidPath.guids;if(d.auq(Q[0],I)){if(Q.length==1){var x={};
for(var U in F)x[U]=c[U]!=null?c[U]:F[U];F=x}else c.guidPath.guids=Q.slice(1)}}var S=F.type,z=F.children,V=F.size,t=F.effects,Y=M.at();
Y.Da(F.name);Y.Gj(F.visible);Y.gk=Math.round(F.opacity*255);var i=d.$D(F.transform),J=i.P();J.concat($);
if(V==null)V={x:0,y:0};var H=new cS(Math.round(J.P6),Math.round(J.jw),Math.round(V.x*J.w5()),Math.round(V.y*J.w5()));
if(H.r==0||isNaN(H.r))H.r=100;if(H.$==0||isNaN(H.$))H.$=100;var v=F.fillPaints,n=F.inheritFillStyleID;
if(n){var x=d.Ev(k.MU,n);if(x)v=x.fillPaints}if(v==null)v=[];var v=d.aq$(v),G=v[0];if(G&&G.type=="IMAGE"&&d.Ez(C,gQ.BH(G),k,!0)==null)G=null;
var g=F.strokePaints,n=F.inheritFillStyleIDForStroke;if(n){var x=d.Ev(k.MU,n);if(x)g=x.fillPaints}if(g==null)g=[];
var g=d.aq$(g),W="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(S)!=-1;
if(W||S=="FRAME"){b=new Z.kf;d.acn(F,C,b);L=j.w.Vv(b.M);j.w.J_(b.M,J);var T=j.b.LY(j.w.t8(b.M));if(!T.XS())H=T;
if(k.uP.ey&&G){var a=Z.kf.I4(k.uP.ey.M);for(var O=2;O<a.length;O++)if(a[O].ea!=null)a[O].ea=3;b.M=b.M.concat(a.slice(2))}}if(G&&G.type=="IMAGE"){h=G.imageScaleMode;
R=!0;var K=G.originalImageWidth,X=G.originalImageHeight;if(K*X==0){var w=d.Ez(C,gQ.BH(G),k);K=w.$Y.r;
X=w.$Y.$}var N=K/X,s=V.x/V.y;D=Math.abs(N-s)}if(S=="FRAME"){}else if(W&&L&&R&&(h=="FIT"||h=="FILL"&&D<=.05||h=="STRETCH"&&D<=.05)){var A=d.Ez(C,gQ.BH(G),k,!0),p=M.eM(A,Y.getName(),0,0);
p.U4=Y.U4;p.gk=Y.gk;Y=p;var q=new cS(0,0,V.x,V.y);if(h=="FIT"){var f=G.originalImageWidth,e=G.originalImageHeight,o=Math.min(V.x/f,V.y/e),E=f*o,cj=e*o;
q=new cS(q.x+(q.r-E)/2,q.y+(q.$-cj)/2,E,cj)}var u=j.b.Vs(q).n;j.b.U(u,J,u);Y.add.SoLd.Trnf=B.hL._V(u);
Y.add.SoLd.nonAffineTransform=B.hL._V(u);var cd=[],t=F.effects,m=G.paintFilter;if(t)for(var O=0;O<t.length;
O++)if(t[O].type=="FOREGROUND_BLUR"){var aZ=t[O],jN=e9.zs("GsnB",{});cd.push(jN);jN.v.enab.v=aZ.visible;
jN.v.Fltr.v.Rds.v.val=aZ.radius/2.4}if(m&&m.exposure!=0){var jN=e9.zs("brit",{});cd.push(jN);jN.v.Fltr.v.Brgh.v=Math.round(m.exposure*160);
jN.v.Fltr.v.useLegacy.v=!0}if(m&&m.vibrance!=0){var jN=e9.zs("vibA",{});cd.push(jN);jN.v.Fltr.v.Strt.v=Math.round(Math.round(m.vibrance*100))}if(cd.length!=0){Y.add.SoLd.filterFX=e9.No();
M.gm({id:Y.add.SoLd.placed.v,S:new cS,buffer:j.j(1),Lj:new Z.tp});Y.add.SoLd.filterFX.v.filterFXList.v=cd}Y.d7(M,!1);
d.aG7(k,Y,M)}else if(W){d.ay6(Y,b,F,G,g,J,H,C,M,k);if(t)for(var O=0;O<t.length;O++){var aZ=t[O];if(aZ.type!="FOREGROUND_BLUR")continue;
b.nN=aZ.radius/2.4}Y.ud();Y.uH(M)}else if(S=="TEXT"){var eh=F.textData,iA=eh.layoutSize;if(iA==null)iA=F.size;
var hd=["LEFT","RIGHT","CENTER"].indexOf(F.textAlignHorizontal);Y.add.lnsr="rend";Y.add.TySh=ho.DB(0,0);
Y.add.TySh.xa=new cS(0,0,100,100);var kx=J.P();Y.add.TySh.U=kx;var b0=Y.add.TySh.$E,gX=eh.characters;
if(F.textCase=="TITLE"){for(var O=0;O<gX.length;O++)if(O==0||gX[O-1]==" "){var j$=gX.slice(0,O),i0=gX.slice(O+1);
gX=j$+gX[O].toUpperCase()+i0}}gX=gX.replace(/\u2028/g,"\n");gX=gX.replace(/\u2029/g,"\n");gX=gX.replace(/\r\n/g," \n");
ho.uy(b0,0,gX);var f7=F.textAutoResize,am=eh.baselines;if(f7=="WIDTH_AND_HEIGHT"){var gf=hd==0?0:hd==1?iA.x:iA.x/2,cC=am?am[0].position.y:F.fontSize;
kx.translate(gf*J.w5(),cC*J.w5());ho.s2(b0,0)}else if(f7=="HEIGHT"||f7=="NONE"||f7==null){var cC=am?am[0].position.y-F.fontSize*.7:0;
kx.translate(0,cC*J.w5());ho.s2(b0,1);ho.SB(b0,[0,0,Math.round(iA.x),Math.round((f7=="NONE"?1.8:1)*iA.y)])}else throw f7;
if(gX!=""){var aD=ho.RT(b0,0,1);d.ajI(F,J,V,aD,Y,C,M,k);ho.WE(b0,0,gX.length,aD);var c_=eh.characterStyleIDs,a9=eh.styleOverrideTable;
if(c_){c_=c_.slice(0);for(var O=0;O<c_.length;O++)if(gX[O]=="\n")c_[O]=-O-1;var jz=[0],g3=0,e3=0;for(var O=0;
O<c_.length;O++){e3++;var c1=c_[O];if(O==0||c1==c_[O-1]){}else{jz.push(e3-1,O);e3=1}}jz.push(e3);for(var O=0;
O<jz.length;O+=2){var dI=jz[O],kJ=jz[O+1];if(gX[dI]=="\n")continue;var c1=c_[dI];if(c1!=0){var cA;for(var c2=0;
c2<a9.length;c2++)if(a9[c2].styleID==c1)cA=a9[c2];var aD=ho.RT(b0,dI,dI+1);d.ajI(cA,J,V,aD,Y,C,M,k);
ho.WE(b0,dI,dI+kJ-1,aD)}}}}}else if(S=="SYMBOL"){}else if(S=="INSTANCE"&&F.symbolData){var ee=F.symbolData,hF=ee.symbolOverrides,x=d.Ev(k.MU,ee.symbolID);
if(x)z=x.children;else console.log(F.name,"symbol not found",ee.symbolID);r=r.slice(0);for(var O=0;O<hF.length;
O++)r.push(hF[O])}else console.log(S);if(!1){}else if(z&&!W){M.u.push(M.fm());var ic=!1,eH=l==0&&S!="SYMBOL"&&S!="INSTANCE";
if(eH){if(H.XS())console.log(H);Y.HD(H)}G=v[v.length-1];if(G&&G.type=="IMAGE"&&d.Ez(C,gQ.BH(G),k,!0)==null)G=null;
if(eH&&G&&G.type=="SOLID"){var kz=G.color;Y.add.artb.artboardBackgroundType.v=4;Y.add.artb.Clr=d.Eq(kz)}else if((G||g[0])&&b){var kq=M.at();
kq.Da("Background");d.ay6(kq,b,F,G,g,J,H,C,M,k);kq.ud();kq.uH(M);M.u.push(kq);ic=!0}z.sort(d.a1x);var a7=k.uP;
k.uP={};for(var i6=0;i6<z.length;i6++)d.iw(z[i6],r,J,C,M,l+1,k);k.uP=a7;Y.add.lsct=!1?jR.ul:jR.Xz;Y.ww="pass";
var hm=Y.rR();Y.U4=24;Y.Gj(hm);var bB=l!=0&&v.length!=0&&!F.frameMaskDisabled&&F.containerSupportsFillStrokeAndCorners;
if(!ic&&bB&&b){Y.add.vmsk=b;Y.ud();Y.uH(M)}else d.aG7(k,Y,M);M.u.push(Y)}else if(F.mask){if(b){k.uP.ey=b}}else{var iV=[],cb=1;
if(t)for(var eO=0;eO<t.length;eO++){var aZ=t[eO],aC=aZ.color,fq=aZ.type,bX=["DROP_SHADOW","INNER_SHADOW"].indexOf(fq);
if(bX!=-1){var gb=["DrSh","IrSh"][bX],dX=JSON.parse(cK.sH[cK.order.indexOf(gb)]);iV.push([gb,dX]);dX.enab.v=aZ.visible;
dX.Md.v.BlnM=dL.Yy(d.arA(aZ.blendMode));dX.Opct.v.val=Math.round(100*aC.a);dX.blur.v.val=Math.round(aZ.radius*J.w5());
dX.Clr=d.Eq(aC);var gf=aZ.offset.x,cC=aZ.offset.y;dX.uglg.v=!1;dX.lagl.v.val=Math.round(180/Math.PI*Math.atan2(cC,-gf));
dX.Dstn.v.val=Math.round(Math.sqrt(gf*gf+cC*cC)*J.w5())}}if(S=="TEXT"&&v[0]&&v[0].type!="SOLID")cb=0;
for(var O=cb;O<v.length;O++){var e6=v[O],gn=d.vq(F,e6,J,H,C,M,k);if(gn[0]=="GdFl")iV.push(["GrFl",gn[1]]);
else if(gn[0]=="SoCo")iV.push(["SoFi",gn[1]]);else if(gn[0]=="PtFl")iV.push(["patternFill",gn[1]]);else if(gn[0]=="None"){}else throw gn}if(!W)for(var O=0;
O<g.length;O++){var e6=g[O],gn=d.vq(F,e6,J,H,C,M,k);if(gn[0]=="SoCo"){var dX=JSON.parse(cK.sH[cK.order.indexOf("FrFX")]);
iV.push(["FrFX",dX]);dX.enab=gn[1].enab;dX.Opct=gn[1].Opct;dX.Md=gn[1].Md;dX.Clr=gn[1].Clr;dX.Sz.v.val=Math.round(F.strokeWeight);
var a2=F.strokeAlign;if(a2)dX.Styl.v.FStl=cK.stroke.types[["INSIDE","CENTER","OUTSIDE"].indexOf(a2)]}}if(iV.length!=0){var kf=JSON.parse(cK.default);
for(var O=0;O<cK.order.length;O++)kf[cK.Zb[O]]={t:"VlLs",v:[]};for(var O=0;O<iV.length;O++){var dj=iV[O],gb=cK.Zb[cK.order.indexOf(dj[0])];
kf[gb].v.unshift({t:"Objc",v:dj[1]})}if(z==null)Y.add.lmfx=kf}M.u.push(Y)}};gQ.ay6=function(F,r,$,C,M,l,k,d,I,c){var Q=gQ;
F.U4|=16;F.add.vmsk=r;var x=F.add.vstk=cK.Ok.Mv(),U=Q.vq($,C,l,k,d,I,c);x.fillEnabled.v=U[0]!="None";
if(U[0]=="None"){F.add.SoCo=U[1]}else{Q.rt(U,F);F.add[U[0]]=U[1]}var U=Q.vq($,M[0],l,k,d,I,c);if(U[0]!="None"){var x=F.add.vstk;
x.strokeEnabled.v=!0;x.strokeStyleLineWidth.v.val=$.strokeWeight*l.w5();x.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cK.Ok.Fk[["INSIDE","CENTER","OUTSIDE"].indexOf($.strokeAlign)];
var S={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[U[0]],z=["SoFi","GrFl","patternFill"].indexOf(S),V=[cK.oz,cK.ap,cK.Vq][z];
x.strokeStyleContent.v={classID:cK.Ok.zd[0]};var t=$.dashPattern;if(t)x.strokeStyleLineDashSet.v=en.TY(t,1/$.strokeWeight);
var Y=x.strokeStyleContent.v={classID:cK.Ok.zd[z]};for(var O=0;O<V.length;O++)Y[V[O]]=U[1][V[O]];if(!x.fillEnabled.v)Q.rt(U,F)}};
gQ.rt=function(F,r){var $=F[1].Opct.v.val;if($!=100)r.gk=Math.round(r.gk/255*($/100)*255)};gQ.a1x=function(F,r){var $=F.parentIndex.position,C=r.parentIndex.position;
return $>C?1:-1};gQ.aq$=function(F){for(var O=1;O<F.length;O++){var r=F[O];if(r.type=="IMAGE"&&r.opacity==1){F=F.slice(O);
break}}for(var O=0;O<F.length;O++){var r=F[O],$=r.imageThumbnail,C=r.type=="IMAGE";if(C&&(r.image==null||r.image.dataBlob==null)&&$&&$.dataBlob)r.image=$;
if(!r.visible||C&&r.image==null){F.splice(O,1);O--}}return F};gQ.aG7=function(F,r,$){if(F.uP.ey){r.add.vmsk=F.uP.ey.P();
r.ud();r.uH($)}};gQ.ajI=function(F,r,$,C,M,l,k,d){var I=F.fontSize,c=F.lineHeight,Q=F.fontName,x=F.textAlignHorizontal,U=F.textTracking,S=F.textCase,z=F.textDecoration;
if(I==null)I=C.Uz.FontSize;if(Q){var V=Q.postscript;if(V==""){var t=Q.family,Y=Q.style;V=t.split(" ").join("")+"-"+Y}ho.jl(C,V)}if(I!=null)C.Uz.FontSize=Math.round(I);
if(z=="UNDERLINE")C.Uz.Underline=!0;if(U)C.Uz.Tracking=Math.round(U*1e3);if(S)C.Uz.FontCaps=S=="UPPER"?2:0;
if(c&&(c.units!="PERCENT"||c.value!=100)){if(I==null)I=15;var i=c.value;if(c.units=="PERCENT")i=1*I*i/100;
if(c.units=="RAW")i=1*I*i;C.Uz.AutoLeading=!1;C.Uz.Leading=Math.round(i)}if(x)C.jv.Justification=["LEFT","RIGHT","CENTER"].indexOf(x);
var J=F.fillPaints,H=F.inheritFillStyleID;if(H){var v=gQ.Ev(d.MU,H);if(v)J=v.fillPaints}if(J&&J[0]){var n=gQ.vq(F,J[0],r,$,l,k,d);
if(n[0]=="SoCo"){var G=j.qS.MB(n[1].Clr.v);C.Uz.FillColor={Type:1,Values:[1,G.t/255,G.L/255,G.X/255]};
gQ.rt(n,M)}}};gQ.vq=function(F,r,$,C,M,l,k){var d=gQ,I,c,Q=F.size;if(Q==null)Q={x:0,y:0};if(r){var x=r.type,U=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf(x);
if(x=="SOLID"){I="SoCo";var S=r.color;c=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);c.Clr=d.Eq(S)}else if(U!=-1){var z=JSON.parse(cK.sH[cK.order.indexOf("GrFl")]),V=z.Grad.v;
V.Intr.v=0;z.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][U];var t=[],Y=r.stops;for(var O=0;O<Y.length;O++){var i=Y[O],J=i.color;
t.push([i.position,[J.r,J.g,J.b],J.a])}j.qS.p3(t,V);var H=d.$D(r.transform);H.v4();var v=H.P();if(Q)v.scale(Q.x,Q.y);
v.concat($);var n=new hx(0,.5),G=new hx(1,.5);n=v.pI(n);G=v.pI(G);if(!0){n.x=G.x+.5*(n.x-G.x);n.y=G.y+.5*(n.y-G.y)}j.qS.aF(n,G,C,z);
if(U==3){if(v.xz*v.G0-v.X*v.gb<0)z.Rvrs.v=!z.Rvrs.v}I="GdFl";c=z}else if(x=="IMAGE"){var z=JSON.parse(cK.sH[cK.order.indexOf("patternFill")]),H=d.$D(r.transform);
H.v4();var g=gQ.BH(r),W=k.a3U[g];if(W==null){var L=d.Ez(M,g,k);W=k.a3U[g]={};W.id=kQ.Vm()+"-d71c-11e5-b1ae-a548a96e5f9f";
W.t6=[new Uint8Array(L.data),L.$Y];if(H.xz<0){var b=W.t6[0].slice(0);j.H.rQ(b,W.t6[0],L.$Y.r,L.$Y.$)}W.name="someImage";
l.o0(W)}if(H.xz<0)H.xz=-H.xz;var T=["FILL","FIT","STRETCH","TILE"].indexOf(r.imageScaleMode),a=T==3?r.scale:1;
en.atC(W,z,Q.x,Q.y,T,$,H,a);I="PtFl";c=z}else if(x=="VIDEO"){I="SoCo";c=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);
c.Clr=d.Eq({r:255,g:0,b:255})}else throw x;if(c)c.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(r.opacity*100)}}}if(I==null||r.opacity<.001){I="None";
c={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:0,L:0,X:0})}}}return[I,c]};gQ.BH=function(F){var r=F.image,$=r.dataBlob;
if($==null){$="";for(var O=0;O<20;O++)$+=r.hash[O].toString(16).padStart(2,"0")}return $};gQ.Ez=function(F,r,$,C){if(F[r]){var M=F[r];
if(C)return M.bytes;if(M.rslt)return M.rslt;var l=M.bytes.buffer;M.rslt=gQ.aF9(l);return M.rslt}else{if($.li==null)return null;
if(C)return $.li["images/"+r];var l=$.li["images/"+r].buffer;if($.li["images/-"+r])return $.li["images/-"+r];
$.li["images/-"+r]=gQ.aF9(l);return $.li["images/-"+r]}};gQ.aF9=function(F){var r=dN.GN(F);if(r=="fpng")r="png";
var $=dN.LD(r);try{var C=$.YH(F)[0];if(C.depth==16){C.depth=8;C.data=j.Mz(new Uint16Array(C.data),8).buffer}return C}catch(ac){return{data:j.j(4),$Y:new cS(0,0,1,1)}}};
gQ.acn=function(F,r,$){var C=F.type,M=F.size,l=F.cornerRadius,c;if(l==null)l=0;var k=M.x,d=M.y,I=[l,l,l,l],Q=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var O=0;O<4;O++)if(F[Q[O]]!=null)I[O]=F[Q[O]];if(C=="RECTANGLE"||C=="ROUNDED_RECTANGLE"||C=="FRAME"){c=j.w.tQ.Rect(0,0,k,d,I)}else if(C=="ELLIPSE"){var x=F.arcData,U=x?x.startingAngle:0,S=x?x.endingAngle:2*Math.PI,z=x?x.innerRadius:0;
if(U==0&&S>1.999*Math.PI)c=j.w.tQ.jI(0,0,k,d,0);else c=j.w.tQ.aeR(k/2,d/2,d/2,U,S);if(z!=0&&z!=1){var V=Z.kf.I4(c).slice(3);
V.reverse();for(var O=0;O<V.length;O++){var t=V[O],Y=t.ni;t.ni=t.Pj;t.Pj=Y}var i=new hS;i.translate(-k/2,-d/2);
i.scale(z,z);i.translate(k/2,d/2);j.w.J_(V,i);c=c.concat(V);c[2].length*=2}}else if(C=="LINE"){c=j.w.tQ.Rect(0,0,k,d,0);
c.pop();c.pop();c[2].length=2}else if(C=="STAR"){c=j.w.tQ.aqC(k/2,d/2,k/2,2*Math.PI*(1/4),5,0,F.starInnerScale)}else if(C=="REGULAR_POLYGON"){c=j.w.tQ.Kx(.5,.5,.5,Math.PI/2,F.count,0);
var J=new hS;J.scale(k,d);j.w.J_(c,J)}else if(C=="BOOLEAN_OPERATION"){c=[{I:6},{I:8,all:0}];var H=F.children,v=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(F.booleanOperation);
if(v==-1)throw F;if(H==null)H=[];for(var O=0;O<H.length;O++){var n=H[O],G=new Z.kf,g=gQ.acn(n,r,G);if(G.M==null)continue;
j.w.J_(G.M,gQ.$D(n.transform));c=c.concat(G.M.slice(2))}for(var O=3;O<c.length;O++)if(c[O].ea!=null)c[O].ea=v}else if(C=="VECTOR"){var W,L,s=3;
if(!0){var b=F.vectorData;if(b==null)return;W=b.normalizedSize;L=b.vectorNetworkBlob}var T=r[L].bytes,a=new Uint32Array(T.buffer),R=new Float32Array(T.buffer),D=a[0],h=a[1],K=a[2],X=[],w=[],N=[],A=s+D*3,p=A+h*7;
for(var O=0;O<D;O++){var q=s+O*3,f=new hx(R[q+1],R[q+2]);X.push(f)}for(var O=0;O<h;O++){var e=A+O*7;
w.push([a[e+0],a[e+1],R[e+2],R[e+3],a[e+4],R[e+5],R[e+6]])}for(var O=0;O<K;O++){var o=a[p+1],E=N[O]=[];
p+=2;for(var cj=0;cj<o;cj++){var u=a[p++],cd=E[cj]=[];for(var m=0;m<u;m++)cd[m]=a[p+m];p+=u}}if(p!=a.length&&p!=a.length-1)throw"e";
if(K==0){var aZ=-1;for(var O=0;O<h;O++){if(aZ==-1){}else{var jN=-1;for(var cj=O;cj<h;cj++)if(w[cj][4]==aZ)jN=cj;
for(var cj=O;cj<h;cj++)if(w[cj][1]==aZ)jN=cj;if(jN!=-1){var eh=0,Y=w[jN];w[jN]=w[O];w[O]=Y;if(Y[1]!=aZ){eh=Y[1];
Y[1]=Y[4];Y[4]=eh;eh=Y[2];Y[2]=Y[5];Y[5]=eh;eh=Y[3];Y[3]=Y[6];Y[6]=eh}}}aZ=w[O][4]}N.push([[]]);for(var O=0;
O<h;O++)N[0][0].push(O)}var iA=[],hd=[];for(var kx=0;kx<N.length;kx++){for(var b0=0;b0<N[kx].length;
b0++){var gX=N[kx][b0],j$=0;if(gX.length>1){var i0=w[gX[0]],f7=w[gX[1]];j$=i0[4]==f7[1]?1:0}for(var O=0;
O<gX.length;O++){var am=w[gX[O]],gf=1,cC=4;if(j$==0){gf=4;cC=1}var aD=X[am[gf]],c_=X[am[cC]];if(O==0){hd.push("M");
iA.push(aD.x,aD.y)}hd.push("C");iA.push(aD.x+am[gf+1],aD.y+am[gf+2],c_.x+am[cC+1],c_.y+am[cC+2],c_.x,c_.y)}}}c=j.b.RJ({n:iA,C0:hd},!1);
if(l!=0){var I=[],a9=c[2].length;for(var O=0;O<a9;O++)I.push(l);if(j.w.XP(c))j.w.sU(c,2,I)}var jz=new hS;
jz.scale(W.x==0?1:M.x/W.x,W.y==0?1:M.y/W.y);j.w.J_(c,jz)}$.M=c};gQ.Ev=function(F,r){return F[r.sessionID+","+r.localID]};
gQ.auq=function(F,r){return F.sessionID==r.sessionID&&F.localID==r.localID};gQ.arA=function(F){var r={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",LINEAR_DODGE:"lddg",COLOR_BURN:"idiv",LINEAR_BURN:"lbrn",SOFT_LIGHT:"sLit",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over",COLOR:"colr"}[F];
if(r==null)throw F;return r};gQ.Eq=function(F){return{t:"Objc",v:j.qS.NG({t:F.r*255,L:F.g*255,X:F.b*255})}};
gQ.$D=function(F){if(F==null)return new hS;var r=[F.m00,F.m10,F.m01,F.m11,F.m02,F.m12];for(var O=0;O<6;
O++)if(Math.abs(r[O])<1e-20)r[O]=0;return new hS(r[0],r[1],r[2],r[3],r[4],r[5])};function kN(){}kN.CO=function(){var F=P.BW;
function r(S,z,V,t){var Y=t?[]:{};while(z<S.length-1&&S[z]!=125){var i=F(S,z,3),J=F(S,z+3,1),H;z+=4;
z++;if(J=="v"){var v=r(S,z,V+1,i=="ELM"||i=="TIL"||i=="TFS");H=v.Y;z=v.p}else if(J=="i"||J=="f"){var n=z;
while(S[n]!=125)n++;var G=F(S,z,n-z);H=J=="i"?parseInt(G,16):parseFloat(G);z=n+1}else if(J=="s"){var g=P.G2(S,z),G="";
z+=2;for(var O=0;O<g;O++)G+=String.fromCharCode(S[z+2*O+1]);H=G;z=z+2*g+1}else if(J=="b"){H=S[z]==49;
z=z+2}else throw"e";if(t)Y.push([i,H]);else if(Y[i]==null)Y[i]=H;else{if(!(Y[i]instanceof Array))Y[i]=[Y[i]];
Y[i].push(H)}}z++;return{Y:Y,p:z}}function $(S,z){var V=C(S).slice(1),S=z.Clr.v;S.Rd.v=V[0]*255;S.Grn.v=V[1]*255;
S.Bl.v=V[2]*255}function C(S){return[(S>>>24&255)/255,(S>>>16&255)/255,(S>>>8&255)/255,(S>>>0&255)/255]}function M(S,z){var V=z&4278190080|(z&255)<<16|(z>>>8&255)<<8|z>>>16&255;
j.A9(S,V)}function l(S,z){var V=S.TSZ,t=S.WPX,Y=S.HPX,i=S.TIL,J=new cS(0,0,t,Y),H=j.j(t*Y*4),v=0;for(var n=0;
n<Y;n+=V)for(var G=0;G<t;G+=V){var g=new cS(G,n,V,V),W,L=i[v];if(L[0]=="TMC"){W=j.j(g.C()*4);M(W,L[1])}else if(L[0]=="TID"){W=z[L[1]]}j.mR(W,g,H,J);
v++}return[H,J]}function k(S,z){S=new Uint8Array(S);var V=8,t,Y={},h=0;while(V<S.length){var i=P.dj(S,V);
V+=4;var J=F(S,V,4);V+=4;if(J=="mkTS"){var H=pako.inflate(S.slice(V,V+i)),v=r(H,0,0);t=v.Y}else if(J=="mkBT"){var n=P.dj(S,V+4),G=P.dj(S,V+8),H=pako.inflate(S.slice(V+76,V+i));
if(G==0)for(var O=0;O<H.length;O+=4){var g=H[O],W=H[O+1],L=H[O+2],b=H[O+3];H[O+3]=g;H[O+2]=b;H[O+1]=L;
H[O]=W}else{var T=j.j(H.length*4);T.fill(255);j.Wn(H,T);H=T}Y[n]=H}V+=i+4}var a=t.PDC,R=a?a instanceof Array?a:[a]:[t.MKB],D=new cS;
for(var O=0;O<R.length;O++){var K=R[O];D=D.DM(new cS(0,h,K.WID,K.HIT));h+=K.HIT+100}z.r=D.r;z.$=D.$;
z.buffer=j.j(D.C()*4);z._R(R.length);h=0;for(var X=0;X<R.length;X++){z.u.push(z.fm());var K=R[X],w=K.WID,N=K.HIT,s=K.BGC,A=(K.LYL?K:t).LYL.LAY,f=3;
for(var O=0;O<A.length;O++)I(A[O],z,null,Y,new hS(1,0,0,1,-K.XLC,-K.YLC+h));var p=z.at();z.u.push(p);
var q=new cS(0,h,w,N);h+=N+100;p.HD(q);if(s>>>24!=0){var e=j.qS.NG({t:s>>>16&255,L:s>>>8&255,X:s>>>0&255});
p.add.artb.Clr={t:"Objc",v:e};f=4}p.add.artb.artboardBackgroundType.v=f;p.Da(K.PGN?K.PGN:"Page "+(X+1));
p.add.lsct=jR.Xz;p.ww="pass";p.U4=24}}function d(S,z,V){var t=S[z];return t instanceof Array?t[V]:t}function I(S,z,V,t,Y){var i=z.at();
if(S.VIS!=null)i.Gj(S.VIS);if(S.VIF!=null)i.Gj(S.VIF.VIS);if(S.OPA!=null)i.gk=Math.round(255*S.OPA/1e3);
i.ww=S.CLL||V=="GRP"?"pass":"norm";if(S.BLD!=null){var J=S.BLD,H={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[J+""];
if(H==null)console.log(S.OBN,J);else i.ww=H;if(J==30)i.gk>>>=1}if(S.CLL){i.Da(S.LNM);z.u.push(z.fm());
var v=S.CLL.CEL;if(v.length==null)v=[v];for(var n=v.length-1;n>=0;n--){var G=v[n].ELM;for(var O=G.length-1;
O>=0;O--)I(G[O][1],z,G[O][0],t,Y)}i.add.lsct=S.DIS?jR.ul:jR.Xz;i.U4|=24}else if(V=="GRP"){var g=i.add.lmfx=Q(S.EFL),W;
z.u.push(z.fm());var G=S.ELM,L=S.MRM;if(S.MNA){W=G[0][1];G=G.slice(1)}i.Da("Group: "+G.length+" objects");
for(var O=G.length-1;O>=0;O--)I(G[O][1],z,G[O][0],t,Y);if(W){if(S.MRX){var b=l(W,t),T=i.Lj=new Z.tp;
T.S=b[1].P();T.S.x=W.XLC;T.S.y=W.YLC+Y.jw;T.G=j.j(T.S.C());j.Eg(b[0],T.G,0);j.v4(T.G)}else{c(i,W,Y);
i.ud();i.uH(z)}}if(L){c(i,L.PTH,Y);i.ud();i.uH(z)}i.add.lsct=jR.Xz;i.U4|=24}else if(V=="IMG"){i.Da(S.OBN?S.OBN:"Bitmap");
var b=l(S,t);i.S=b[1].P();i.S.x=S.XLC;i.S.y=S.YLC+Y.jw;i.buffer=b[0]}else if(V=="TXT"){var a=S.TFS,X="";
i.add.lnsr="rend";i.add.TySh=ho.DB(0,0);i.add.TySh.xa=new cS(0,0,100,100);var R=new hS(1,0,0,1,S.LFT,S.TOP);
if(S.MTX){var D=S.MTX,T=new hS(D.M00,D.M01,D.M10,D.M11,D.M20,D.M21);R.concat(T)}R.concat(Y);i.add.TySh.U=R;
var h=i.add.TySh.$E,K=ho.RT(h,0,0),w=d(S,"FON");if(w)ho.jl(K,w);var N=d(S,"PTS");if(N)K.Uz.FontSize=Math.round(N);
var s=d(S,"ITL");if(s)K.Uz.FauxItalic=s;if(S.PAT)K.Uz.FillColor={Type:1,Values:C(d(S.PAT,"FCL"))};for(var O=0;
O<a.length;O++){var A=a[O][0],p=a[O][1];if(A=="TRN"){p=p.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
p=p.replaceAll("\x03","\n").replaceAll("\r","\n");ho.uy(h,X.length,p);ho.WE(h,X.length,X.length+p.length,K);
X+=p}else if(A=="FON")ho.jl(K,p);else if(A=="PTS")K.Uz.FontSize=Math.round(p);else if(A=="ITL")K.Uz.FauxItalic=p;
else if(A=="UND")K.Uz.Underline=p;else if(A=="FCL")K.Uz.FillColor={Type:1,Values:C(p)};else if(A=="LED"){K.Uz.Leading=p*K.Uz.FontSize;
K.Uz.AutoLeading=!1}else if(A=="JST")K.jv.Justification=[0,2,1,3,5,4,6,7,8][p]}i.Da(X.slice(0,255));
var q=S.RIT-S.LFT,f=S.BOT-S.TOP;if(S.IMG){I(S.IMG,z,"IMG",t,Y);var e=z.u.pop();i.buffer=e.buffer;i.S=e.S.P()}ho.s2(h,1);
ho.SB(h,[0,0,q,f])}else if(V=="PTH"){i.Da(S.OBN?S.OBN:"Path");i.U4|=16;var o=!1;c(i,S,Y);var E=i.add.vmsk,cj=i.add.vstk,u=j.w.t8(E.M),cd=S.PAT,m=cd.BPL,aZ=cd.FPL,jN=cd.TXF;
if(aZ&&aZ.FEF)E.nN+=aZ.FEF/2.4;if(m){var iA=m.CAT;cj.strokeEnabled.v=!0;cj.strokeStyleLineWidth.v.val=m.BDI;
cj.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cK.Ok.Fk[S.BRP];$(cd.BCL,cj.strokeStyleContent.v);
if(iA!="bc_Basic"&&iA!="bc_Pencil")o=!0}cj.fillEnabled.v=aZ!=null;if(aZ==null){i.add.SoCo=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);
$(0,i.add.SoCo)}else if(aZ.CAT=="fc_Solid"){i.add.SoCo=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);$(S.PAT.FCL,i.add.SoCo)}else if(aZ.CAT=="fc_Linear"||aZ.CAT=="fc_Circular"||aZ.CAT=="fc_Elliptical"){var hd=aZ.CAT=="fc_Linear",kx=i.add.GdFl=JSON.parse(cK.sH[cK.order.indexOf("GrFl")]),b0=kx.Grad.v,gX=[],j$=aZ.FGL,i0,f7=[];
if(j$.FGY){var am=j$.FGY,i0=am.FG0.FGI,f7=am.FG1.FGI}else i0=j$.FGV.FGI;for(var O=0;O<i0.length;O++){var gf=i0[O],cC=C(gf.FGC),aD=1;
if(f7.length==i0.length)aD=C(f7[O].FGC)[0];gX.push([gf.FGP,cC.slice(1),aD])}kx.Type.v.GrdT=hd?"Lnr":"Rdl";
j.qS.p3(gX,b0);b0.Intr.v=0;var c_=S.PRI?S.PRI:S,a9=new hx(c_.PSX,c_.PSY),jz=new hx(c_.PEX,c_.PEY);if(aZ.CAT=="fc_Elliptical"&&c_.PFX!=null){var g3=new hx(c_.PFX,c_.PFY),e3=hx.BV(a9,jz),c1=hx.BV(a9,g3);
if(c1<e3){var dI=e3;e3=c1;c1=dI}jz=new hx(a9.x+(e3+c1)/2,a9.y);if(e3/c1<.5)o=!0}if(hd){a9.x=(a9.x+jz.x)/2;
a9.y=(a9.y+jz.y)/2}j.qS.aF(a9,jz,u,kx)}else console.log(aZ.CAT);var g=i.add.lmfx=Q(S.EFL,E);if(aZ&&aZ.FTB!=0&&jN){var b=l(jN.MSK,t),kJ={};
kJ.id=kQ.Vm()+"-d71c-11e5-b1ae-a548a96e5f9f";kJ.name="someImage";kJ.t6=b;z.o0(kJ);var cA=b[0];for(var O=0;
O<cA.length;O+=4){cA[O+3]=255-cA[O];cA[O]=cA[O+1]=cA[O+2]=255}var kx=JSON.parse(cK.sH[cK.order.indexOf("patternFill")]);
kx.Opct.v.val=Math.round(aZ.FTB/10);kx.Algn.v=!0;kx.Ptrn.v.Idnt.v=kJ.id;g.patternFillMulti.v.unshift({t:"Objc",v:kx})}if(o&&S.IMG){I(S.IMG,z,"IMG",t,Y);
var c2=z.u[z.u.length-1];c2.gk=i.gk;return}i.ud();i.uH(z)}else if(V=="URL")return;else{console.log("unknown layer type",V,S);
i.Da("Layer")}z.u.push(i)}function c(S,z,V){if(z.PBL==null)return;var t=S.add.vmsk=new Z.kf,Y=S.add.vstk=cK.Ok.Mv(!0),i=z.PBL.PBP;
if(!(i instanceof Array))i=[i];for(var J=0;J<i.length;J++){var H=i[J].PBT;if(H==null)continue;if(!(H instanceof Array))H=[H];
var v=i[J].ISC?0:3;t.M.push({I:v,length:H.length,ea:0,VW:2,c5:0,QS:0});for(var O=0;O<H.length;O++){var n=H[O],G=n.XLC,g=n.YLC,W=[G,g,G,g,G,g],L="XPC YPC XLC YLC XSC YSC".split(" ");
for(var b=0;b<6;b++){var T=L[b],a=n[T];if(a!=null)W[b]=a}t.M.push({I:v+2,Z:new hx(G,g),ni:new hx(W[0],W[1]),Pj:new hx(W[4],W[5])})}}j.w.J_(t.M,V)}function Q(S,z){var V=JSON.parse(cK.default);
for(var O=0;O<cK.order.length;O++)V[cK.Zb[O]]={t:"VlLs",v:[]};if(S==null||S.EPS==null)return V;var t=S.EPS;
if(!(t instanceof Array))t=[t];for(var O=0;O<t.length;O++){var Y=t[O].DCE,i={};for(var J=0;J<Y.length;
J++)i[Y[J].DCK]=Y[J].DCV;if(i.EffectIsVisible=="false")continue;var H=i.mkbFile_WriteOnly_TemporaryEffectUiName;
if(H=="Gaussian Blur..."&&z){z.nN+=parseFloat(i.gaussian_blur_radius);continue}var v=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(H);
if(v==-1){continue}var n=["DrSh","ebbl","IrGl","OrGl"][v],G=cK.Zb[cK.order.indexOf(n)],g=JSON.parse(cK.sH[cK.order.indexOf(n)]);
V[G].v.unshift({t:"Objc",v:g});if(n=="DrSh"){g.uglg.v=!1;x(i,"ShadowDistance",g,"Dstn");x(i,"ShadowBlur",g,"blur");
x(i,"ShadowAngle",g,"lagl",180);g.Opct.v.val=100;U(i,"ShadowColor",g,"Clr")}if(n=="IrGl"){g.Md.v.BlnM="Nrml";
var W=i.MaskSoftness,L=i.GlowWidth;if(W&&L){W=parseInt(W);L=parseInt(L);g.blur.v.val=L+W;g.Ckmt.v.val=Math.round(100*L/(L+W))}x(i,"BevelContrast",g,"Opct");
U(i,"OuterBevelColor",g,"Clr")}if(n=="OrGl"){g.Md.v.BlnM="Nrml";var W=i.MaskSoftness,L=i.GlowWidth;if(W&&L){W=parseInt(W);
L=parseInt(L);g.blur.v.val=L+W}x(i,"BevelContrast",g,"Opct");U(i,"OuterBevelColor",g,"Clr")}if(n=="ebbl"){g.uglg.v=!1;
x(i,"BevelWidth",g,"blur");x(i,"AngleSoftness",g,"Sftn");x(i,"BevelContrast",g,"srgR");x(i,"LightAngle",g,"lagl")}}return V}function x(S,z,V,t,Y){var i=S[z];
if(Y==null)Y=0;if(i)V[t].v.val=parseInt(i)+Y}function U(S,z,V,t){var Y=S[z];if(Y){Y=Y.slice(1);if(Y.length==6)Y=Y+"ff";
if(Y.length!=8)throw"e";var i=C(parseInt(Y,16)),J=V[t].v;J.Rd.v=i[0]*255;J.Grn.v=i[1]*255;J.Bl.v=i[2]*255;
V.Opct.v.val=Math.round(V.Opct.v.val/100*i[3]*100)}}return k}();var c7=function(){function F(k){var d=new Uint8Array(k.length);
P.o9(d,0,k);return d}function r(k){var d=["<< /Type /Catalog  /Pages 2 0 R  >>","<< /Type /Pages  /Kids [ 3 0 R ] /Count 1 >>","<< /Type /Page   /Parent 2 0 R    /MediaBox [ 0 0 283 283 ] /Contents 4 0 R  /PieceInfo << /Illustrator << /Private 5 0 R>> >>   >>",F("")],I=d.length,Q=0;
d.push("<< /AIMetaData  "+(I+2)+" 0 R /AIPrivateData1 "+(I+3)+" 0 R  /AIPrivateData2 "+(I+4)+" 0 R  /CreatorVersion 15  /ContainerVersion  9  /RoundtripVersion  15  /NumBlock 2  >>");
d.push(F(""));d.push(F(""));d.push(k);var c=new eo,x=[];function U(t){P.k6(c,Q,t);Q+=t.length}U("%PDF-1.5\n");
for(var O=0;O<d.length;O++){x.push(Q);U(O+1+" 0 obj\n");var S=d[O];if(typeof S=="string")U(d[O]+"\n");
else{var z=pako.deflate(S);U("<< /Length "+z.length+" /Filter [ /FlateDecode ] >>\nstream\n");c.cq(Q,z.length);
c.data.set(z,Q);Q+=z.length;U("\nendstream\n")}U("endobj\n")}var V=Q;U("xref\n0 "+(x.length+1)+"\n0000000000 65535 f\r\n");
for(var O=0;O<x.length;O++)U((x[O]+"").padStart(10,"0")+" 00000 n\r\n");U("trailer\n<< /Root 1 0 R /Size "+(x.length+1)+" >>\nstartxref\n"+V+"\n%%EOF\n");
return c.data.slice(0,Q)}function $(k,d){var I=Date.now(),c=new Uint8Array(k),Q,x=c[2]==68;if(d)console.log(!x?"EPS":"PDF");
if(x){var U=P.Ah(c,"/AIMetaData "),n,G,g;while(c[U]!=60)U--;U--;var S=P.Ah(c,">>",U),z=P.BW(c,U+2,S-U-2).split("/"),V=[];
for(var O=0;O<z.length;O++){var t=z[O],Y=t.startsWith("AIPrivateData"),i=t.startsWith("AIPDFPrivateData");
if(!Y&&!i)continue;var J=t.trim().split(/\s+/),H=parseInt(J[1]),v=parseInt(J[0].slice(Y?13:16));V.push([v,H])}if(d)console.log("--- map made",Date.now()-I);
I=Date.now();while(!0){var W=FromPDF.indexOfXref(c),L=[],b=FromPDF.readXrefTrail(c,W,L),T={buff:c,off:0},a=!1;
n=new Array(V.length);G=!1;g=!1;for(var O=0;O<V.length;O++){var v=V[O][0],H=V[O][1],K=0;if(L[H]==null){a=!0;
break}var R=FromPDF.getIndirect(H,0,T,L),D=R.buff,h=R["/Filter"];if(h!=null&&typeof h=="string")h=[h];
var X=P.BW(D,K,K+20);if(X=="%AI12_CompressedData"){K+=20;G=!0}else if(X=="%AI24_ZStandard_Data"){K+=20;
g=!0}D=new Uint8Array(D.buffer,D.byteOffset+K,D.length-K);if(h)for(var w=0;w<h.length;w++){var s=h[w];
if(s=="/FlateDecode")D=pako.inflate(D);else if(s=="/ASCIIHexDecode")D=FromPS.F.HexDecode({buff:D,off:0});
else if(s=="/ASCII85Decode")D=FromPS.F.ASCII85Decode({buff:D,off:0});else throw s}n[v-1]=D}if(a){console.log("extra xref after AI");
c=c.slice(0,W);continue}break}if(d)console.log("--- arrays found",Date.now()-I);I=Date.now();var A=P.BW(n[0],0,13);
if(A=="%%BoundingBox"||A=="%AI7_Thumbnai")n=n.slice(1);if(A=="%AI24_ZStanda"){n[0]=n[0].slice(20);g=!0}if(P.BW(n[0],0,13)=="%AI12_Compres"){n[0]=n[0].slice(20);
G=!0}Q=C(n);if(d)console.log("--- concatenated",Date.now()-I);I=Date.now();if(G)Q=UZIP.inflate(Q);if(g)Q=dN.rV.nI(Q);
if(d)console.log("--- inflated",Date.now()-I);I=Date.now()}else{var p=P.qV(c);if(p.indexOf("%AI5_BeginLayer")!=-1){Q=c}else{var q=p.split(/[\n\r]+/),f=[],e=!1;
for(var o=0;o<q.length;o++){var E=q[o].trim();if(E=="%AI9_PrivateDataEnd"){e=!1;break}else if(E=="%AI9_DataStream"||E=="%AI24_DataStream"){e=!0}else if(e)f.push(E.slice(1))}var cj=P.V4(f.join("")),u=FromPS.F.ASCII85Decode({buff:cj,off:0});
if(u[0]==120&&u[1]==156)Q=UZIP.inflate(u);else Q=dN.rV.nI(u)}}return Q}function C(k){var d=0,c=0;for(var O=0;
O<k.length;O++)d+=k[O].length;var I=new Uint8Array(d);for(var O=0;O<k.length;O++){var Q=k[O];I.set(Q,c);
c+=Q.length}return I}function M(k){var d=0,I=[];while(d<k.length){var c=k[d],Q=c.charCodeAt(0);if(c==" ")d++;
else if(c==","||c==";"||c==":"){I.push(c);d++;var x=I[I.length-2];if(x=="/ASCII85Decode"){var U=d+1;
while(k[U]!="~"||k[U+1]!=">")U++;U+=2;var S=k.slice(d,U),z=FromPS.F.ASCII85Decode({off:0,buff:P.V4(S)});
I.push(z);d=U}if(x=="/StrokeStyle"||x=="/FillStyle"||x=="/BlendStyle"||x=="/SimpleStyle"||x=="/SmoothShadingStyle"){var U=d+1;
while(k[U]!=";")U++;I.pop();I.pop();I.push(k.slice(d,U));I.push("/String");d=U+1}}else if(c=="("){var U=d+1;
while(!(k[U]==")"&&(k[U-1]!="\\"||k[U-2]=="\\")))U++;var V=k.slice(d+1,U);I.push(V);d=U+1}else if(c=="/"||c=="-"||48<=Q&&Q<=57){var U=d;
while(k[U]!=" ")U++;I.push(k.slice(d,U));d=U}else if(c=="X"&&k[d+1]=="="){var U=d,t=0;while(!0){if(k[U]=="X"&&k[U+1]=="="){t++}if(k[U]=="X"&&k[U+1]=="+"&&k[U+2]==" "){t--;
if(t==0)break}U++}I.push(k.slice(d+3,U));I.push("/String");d=U+2}else{console.log(I);console.log(k.slice(d-600,d+10));
throw c}}return I}function l(k){var d={"/Filter":3,"/Visible":1,"/FillOrStroke":1,"/PluginFileName":1,"/Title":1},I={},c=M(k.join(" ")),Q=[],x=parseFloat;
while(c.length!=0){var U=c.shift();if(U=="/Recorded"||U=="/NotRecorded"){continue}else if(U=="/Dict"){Q.pop();
var S=Q.pop();Q[Q.length-1][U]=S}else if(U=="/Execution"){Q.pop();var S=Q.pop();Q[Q.length-1][U]=S}else if(U=="/Part"){Q.pop();
var S=Q.pop(),z=Q[Q.length-1];if(z[U]==null)z[U]=[];z[U].push(S);c.shift()}else if(U=="/Def"){Q.pop();
var V=Q.pop(),t=Q[0];if(I[t]==null)I[t]=[];if(t=="/KnownStyle"){V={val:V};V[Q.pop()]=Q.pop()}Q.pop();
I[t].push(V);c.shift()}else if(U==":"){var t=Q.pop();if(t=="/Dictionary"||t=="/ArtDictionary"||t=="/XMLNode"||t=="/Mask"||t=="/ActiveStyle")Q.push({});
else if(t=="/CompoundFilter"||t=="/BasicFilter"){Q.push({typ:"Filter"})}else if(t=="/SVGFilter"||t=="/KnownStyle"){Q.push(t)}else if(t=="/Array"||t=="/Document")Q.push([]);
else if(t=="/Binary"){var Y=c.shift();if(Y!="/ASCII85Decode")throw"e";c.shift();Q.push(c.shift())}else if(t=="/XMLUID"||t=="/XMLUIDREF"){c[1]=t}else if(t=="/GObjRef"){Q.push(c.shift());
Q.push("/String");c.shift();c.shift()}else{console.log(Q);console.log(c);throw t}if(c[0]=="/NotRecorded"){c.shift();
c.shift()}}else if(U==","){var i=Q.pop(),t,J;if(i[0]=="/"&&i[1]==i[1].toUpperCase()||i==";"){t=i;i=null}else t=Q.pop();
if(t=="/Name"){Q.push(t);continue}if(d[t]){J=Q.slice(Q.length-d[t]);for(var O=0;O<d[t];O++)Q.pop();var H=Q.pop();
H[t]=J;Q.push(H);continue}if(t=="/RealPoint"||t=="/RealPointRelToROrigin"){var v=Q.pop();J=[x(Q.pop()),x(v)]}else if(t=="/RealMatrix"){J=[];
for(var O=0;O<6;O++)J.push(x(Q.pop()));J.reverse()}else if(t=="/String"&&typeof Q[Q.length-1]!="string")J="";
else{var top=Q.pop();if(t==";")J=top;else if(t=="/String"||t=="/UnicodeString"||t=="/XMLUID"||t=="/XMLUIDREF"){J=top;
while(typeof Q[Q.length-1]=="string")J=Q.pop()+J}else if(t=="/Int"||t=="/Real")J=x(top);else if(t=="/Bool")J=top=="1";
else throw JSON.stringify(t)}if(Q.length==0)throw"e";var H=Q.pop();if(i==null&&!(H instanceof Array)){alert("key is null in a Dict");
continue}if(i)H[i]=J;else H.push(J);Q.push(H)}else Q.push(U)}return Q.length==0?I:Q[0]}return{aDD:$,aql:r,aDW:l}}();
function hq(){}hq.CO=function(){function F(b,T,a){var R=!1,D=Date.now(),h=c7.aDD(b,R);if(R)console.log("part found",Date.now()-D);
D=Date.now();var K=g(h),X=K.Layer,w=K.Header;if(R)console.log(K);var N=K.Setup.TextDocument,s=X[0];s=K.Layer[0];
if(R)console.log("document parsed",Date.now()-D);D=Date.now();K.Setup.Gradient=G(K.Setup.Gradient,h);
if(R)console.log("grads loaded",Date.now()-D);D=Date.now();K.Setup.Pattern=v(K.Setup.Pattern,h);if(R)console.log("patts loaded",Date.now()-D);
D=Date.now();K.Setup.Palette=n(K.Setup.Palette,h);if(R)console.log("palet loaded",Date.now()-D);D=Date.now();
K.Setup.DocumentData=H(K.Setup.DocumentData,h);if(R)console.log("docdata loaded",Date.now()-D);D=Date.now();
K.Setup.SVGFilter=H(K.Setup.SVGFilter,h);if(R)console.log("svgfilter loaded",Date.now()-D);D=Date.now();
var A=K.Setup.ArtStyles;if(A){K.Setup.ArtStyles=H(A,h)}var p=K.Setup.Palette;for(var O=0;O<p.length;
O++){var q=p[O],f=q[0],e=q[1][0];if(f==null)f=q[1][1];var o=K.Setup.Gradient[f];if(e==0)T.va.push([f,q[1][1]]);
if(e==1)T.va.push([f,[o.wV,o.agD,0,0]]);if(e==2)T.va.push([f,[f,0]])}var E=w.Cropmarks,cj=w.BoundingBox.split(" ").map(parseFloat),u=w.ArtSize?w.ArtSize.split(" ").map(parseFloat):[cj[2]-cj[0],cj[3]-cj[1]];
T.r=Math.round(Math.abs(u[0]));T.$=Math.round(Math.abs(u[1]));var cd=[1,0,0,1,-cj[0]+(T.r-(cj[2]-cj[0]))/2,-cj[1]+(T.$-(cj[3]-cj[1]))/2];
cd[3]=-1;cd[5]=T.$-cd[5];if(E){E=E.split(" ").map(parseFloat);T.r=Math.round(E[2]-E[0]);T.$=Math.round(E[3]-E[1]);
cd=[1,0,0,-1,-E[0],T.$+E[1]]}console.log(K);var m=K.Setup.DocumentData,aZ=[],jN=[];if(m&&m[0]&&m[0].ArtboardArray){var aZ=m[0].ArtboardArray;
if(aZ.length!=1)console.log(aZ.length,"artboards");var eh=new cS;for(var O=0;O<aZ.length;O++){var iA=aZ[O],hd=iA.PositionPoint1,kx=iA.PositionPoint2,b0=hd[0],gX=Math.min(hd[1],kx[1]),j$=kx[0],i0=Math.max(hd[1],kx[1]),f7=new cS(b0,gX,j$-b0,i0-gX);
jN.push(f7);eh=eh.DM(f7)}T.r=Math.round(eh.r);T.$=Math.round(eh.$);cd[4]=-eh.x;cd[5]=eh.y+T.$}if(m&&m[0]&&m[0]["#document"]){var am=m[0]["#document"],gf=am["xmlnode-children"][0];
if(gf&&gf["xmlnode-children"])gf=gf["xmlnode-children"][0];if(gf&&gf["xmlnode-nodename"]=="variableSets"){var cC=gf["xmlnode-children"][0]["xmlnode-children"],aD=cC[0],c_=cC[1],a9=L(aD);
T.aS=go.aFO("<variableSets><variableSet>"+a9+"</variableSet></variableSets>");if(c_){var jz=L(c_),g3=T.Xo=go.aES(jz);
for(var O=0;O<g3.length;O++)for(var e3=0;e3<g3[O].length;e3++)g3[O][e3]=g3[O][e3].trim()}}}var c1=1/aQ.l2(new cS(0,0,T.r,T.$),8192*8192);
if(Math.max(T.r*c1,T.$*c1)<800)c1*=2;while(a&&Math.max(T.r*c1,T.$*c1)<Math.max(a[0],a[1]))c1++;if(gw==1)c1=1;
T.r=Math.round(T.r*c1);T.$=Math.round(T.$*c1);T.YV=Math.round(72*c1);for(var O=0;O<6;O++)cd[O]*=c1;var dI=[];
if(aZ.length!=[1,0][gw]){var kJ=gw==0?T.u:[];kJ.push(T.fm());for(var O=0;O<jN.length;O++){var iA=aZ[O],f7=jN[O],cA=T.at();
cA.Da(iA.Name);kJ.push(cA);cA.add.SoCo=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);var c2=cA.add.SoCo.Clr.v;
x(c2,[1,1,1]);var b0=f7.x,gX=f7.y,j$=b0+f7.r,i0=gX+f7.$,ee=[b0,gX,j$,gX,j$,i0,b0,i0];j.b.U(ee,S(cd),ee);
t(cA,{cmds:["M","L","L","L","Z"],crds:ee},T,0);cA.add.vstk=cK.Ok.Mv(!0);var hF=j.b.sY(ee);dI.push({du:iA.Name,sc:[hF.x,hF.y,hF.x+hF.r,hF.y+hF.$],K:iA.IsArtboardSelected})}var cA=T.at();
cA.Da("_Artboards_");cA.add.lsct=jR.Xz;cA.ww="pass";cA.U4=24;kJ.push(cA)}else dI=[{du:"Artboard",sc:[0,0,T.r,T.$],K:!0}];
if(gw==1)T.add.arts=dI;$=[0,0,0];C=[0,0,0];M="SoCo";l="SoCo";for(var ic=0;ic<X.length;ic++){var eH=X[ic];
eH.Raster=r(eH,"Raster");eH.Place=r(eH,"Place");var kz=i(h,eH);k(T,kz,cd,K,eH,h)}if(gw==0)for(var O=0;
O<T.u.length;O++){var cA=T.u[O];if(cA.Ge){T.u.splice(O,1);var kq,a7=0;for(var e3=O;e3<T.u.length;e3++){kq=T.u[e3];
if(kq.add.lsct==jR.k9)a7++;else if(kq.EX())a7--;if(a7==-1)break}kq.add.vmsk=cA.add.vmsk;kq.add.vogk=cA.add.vogk;
kq.uH(T)}}else{}if(a){T.CJ();var i6=T.root.y2();B.i0.hH(T,i6)}if(R)console.log("layers created",Date.now()-D);
D=Date.now()}function r(b,T){var a=b.Layer,R=b[T];if(R==null)R=[];if(a){for(var O=0;O<a.length;O++){var D=a[O],h=D[T]=r(D,T);
R=R.concat(h)}R.sort(function(K,X){return K._begin-X._begin})}return R}var $,C,M,l;function k(b,T,a,R,D,h){var K=[],X=0,w="",N=!1,s={},A=UDOC.G,p=UDOC.getState(),f="norm",e=1,o=0,E=!1,cj=0,u=!1,cd=!0,m=null,aZ=null,jN=!1,eh=!1,iA=0,hd=null,kx,b0,gX=0,j$=0,i0=0,cC=0,aD=!1;
p.ctm=a;var q=cK.Jn.Mv(),f7=[0,0],am=[],gf=[];for(var c_=0;c_<T.length;c_++){var a9=T[c_],kJ=1e9;if(a9[0]=="%"){if(a9=="%_/ArtDictionary :"&&iA==0){m=[a9.slice(2)]}else if(m!=null){if(a9=="%_"&&iA==0){var jz=c7.aDW(m),g3=b.u[b.u.length-1],e3=jz.AI10_ArtUID,c1=jz.BBAccumRotation;
if(e3&&!e3.startsWith("XMLID"))g3.Da(W(e3));if(c1&&g3.add.vmsk==null&&b.u[b.u.length-2])g3=b.u[b.u.length-2];
if(c1&&g3.add.vmsk)g3.add.vmsk.Ji=parseFloat(c1);m=null}else{m.push(a9.slice(jN?1:2));if(a9=="%_X=")iA++;
if(a9=="%_X+")iA--;if(a9=="%_/Binary : /ASCII85Decode ,")jN=!0;if(jN&&a9.endsWith("~>"))jN=!1}}else if(hd){kx+=(kx==""?"":" ")+a9.slice(2);
if(kx.endsWith("X#")){hd.push(kx.slice(0,kx.length-3));kx=""}}else if(a9.startsWith("%BeginData:"))eh=!0;
continue}else if(a9.endsWith("%EndData"))eh=!1;else if(a9=="/Mesh X!"){hd=[];kx="";continue}else if(a9=="/End X!"){c(hd,p,b);
hd=null;continue}if(a9!="XI"&&eh)continue;var dI="Xa XR m l c f Q q U u *U w W h n J j M d".split(" "),cA=-1,c2=a9.indexOf("(")!=-1;
for(var O=0;O<dI.length;O++){var ee=a9.indexOf(" "+dI[O]+" ");if(ee!=-1&&ee<kJ&&!c2){kJ=ee;cA=O}}if(cA!=-1){N=!0;
var hF=kJ+1+dI[cA].length;T[c_]=a9.slice(0,hF);var ic=T[c_+1];if(ic==null||ic[0]=="%"||cA>9)T.splice(c_+1,0,a9.slice(hF));
else T[c_+1]=(a9.slice(hF)+" "+ic).replace(/\s\s+/g," ");c_--;continue}a9=a9.trim();var eH=a9.split(" "),kz=eH[eH.length-1],kq=kz.toLowerCase(),a7=eH.map(parseFloat);
if(kz=="m")A.moveTo(p,a7[0],a7[1]);else if(kz=="L"||kz=="l")A.lineTo(p,a7[0],a7[1]);else if(kz=="V"||kz=="v"){var i6=p.pth.crds,hm=p.cpos[0],bB=p.cpos[1];
A.curveTo(p,hm,bB,a7[0],a7[1],a7[2],a7[3]);var iV=i6.length;i6[iV-6]=hm;i6[iV-5]=bB}else if(kz=="Y"||kz=="y")A.curveTo(p,a7[0],a7[1],a7[2],a7[3],a7[2],a7[3]);
else if(kz=="C"||kz=="c")A.curveTo(p,a7[0],a7[1],a7[2],a7[3],a7[4],a7[5]);else if(kz=="H"||kz=="h"){if(kz==kq)A.closePath(p);
if(!E){var eO=b.at();b.u.push(eO);eO.Da("<Clipping Path>");eO.Ge=!0;eO.add.vstk=cK.Ok.Mv();eO.add.SoCo=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);
t(eO,p.pth,b,o)}else u=!0}else if(kz=="XR"){o=a7[0]}else if(kz=="Xy"){f=hq.a0z[a7[0]];e=a7[1];if(f==null){f="norm";
console.log("unknown blend mode",a7[0])}}else if(kz=="Xd"){var g3=b.u[b.u.length-1];g3.gk=Math.round(255*e);
g3.ww=g3.EX()&&f=="norm"?"pass":f}else if(kz=="AE")gX=a7[0];else if(kz=="Ae")j$=a7[0];else if(kz=="Xw")i0=a7[0];
else if(kz=="*"){var aC=p.pth.crds,fq=p.ctm,ee=aC[0]==aC[2]?0:1;b.oT.push([ee,aC[ee]]);A.newPath(p)}else if(kz=="XN")b0=a9.split(" ")[0];
else if(kz=="XI"){var bX=D.Raster,gb,dX,dd;if(bX==null||bX.length==0){console.log("no Raster");continue}if(a9!="XI"){continue}else{var cb=bX[X++];
if(cb.Data)cb=cb.Data;var e6=cb._begin,gn=cb._end;while(h[e6]!=88)e6++;e6+=3;gb=h.slice(e6,gn);dX=T[c_-2].split(" ").map(parseFloat)}var a2=dX.slice(8),kf=a2[2],dj=a2[3],hr=kf*dj,iB=j.j(hr*4);
iB.fill(255);var dm=a2[7],fr=a2[8],dv=a2[6],hw=Math.ceil(kf*dm*dv/8);if(dm==1){if(dv==8)for(var O=0;
O<hr;O++)for(var gT=0;gT<3;gT++)iB[4*O+gT]=gb[O];else if(dv==1)for(var cu=0;cu<dj;cu++)for(var ha=0;
ha<kf;ha++)for(var gT=0;gT<3;gT++)iB[4*(cu*kf+ha)+gT]=255*(gb[cu*hw+(ha>>>3)]>>>7-(ha&7)&1);else throw dv}else if(dm==3)for(var O=0;
O<hr;O++)for(var gT=0;gT<3;gT++)iB[4*O+gT]=gb[3*O+gT];else if(dm==4||dm==5){for(var O=0;O<hr;O++){iB[4*O+0]=gb[dm*O+0];
iB[4*O+1]=gb[dm*O+1];iB[4*O+2]=gb[dm*O+2];iB[4*O+3]=gb[dm*O+3]}j.aat(iB);for(var O=0;O<hr;O++)iB[O*4+3]=255}else if(dm==7)for(var O=0;
O<hr;O++){iB[4*O+0]=gb[dm*O+0];iB[4*O+1]=gb[dm*O+1];iB[4*O+2]=gb[dm*O+2]}else console.log("unknown number of channels",dm);
if(fr==1){var g1=dj*hw;for(var O=0;O<hr;O++)iB[4*O+3]=gb[g1+O]}if(kf*dj<700*700)dd="PNG";else if(Math.max(kf,dj)>32768)dd="PNG";
else dd=j.DG(iB,kf,dj)?"JPG":"PNG";var gj=dN.LD(dd).x2([[iB.buffer]],kf,dj),es=b.eM(new Uint8Array(gj),"<Image>",0,0);
b.u.push(es);es.ww=f;es.gk=Math.round(255*e);es.Gj(i0==0);var hV=new hS;hV.scale(1,-1);hV.concat(S(dX.slice(1)));
hV.concat(S(p.ctm));var fx=es.add.SoLd,iK=fx.Sz.v,eX=new cS(0,0,iK.Wdth.v,iK.Hght.v),eH=j.b.Vs(eX).n;
j.b.U(eH,hV,eH);es.add.SoLd.Trnf=B.hL._V(eH);es.add.SoLd.nonAffineTransform=B.hL._V(eH);es.d7(b,!1)}else if(kz=="Ln"){K.push(Q(a9))}else if(kz=="u"||kz=="q"||kz=="Lb"){if(kz=="Lb")b.add.prvw=a7[1];
am.push(j$==1);gf.push((kz=="Lb"?1-a7[0]:i0)==0);if(E)continue;b.u.push(b.fm())}else if(kz=="U"||kz=="Q"||kz=="LB"){if(am.length==0||gf.length==0)throw c_;
var bo=am.pop(),f8=gf.pop();if(kz=="LB")bo=gX==1;if(E)continue;var es=b.at();es.Da((kz=="U"?"<Group>":"<Clip Group>")+w);
if(kz=="LB")es.Da(K.pop());es.add.lsct=bo?jR.ul:jR.Xz;es.ww="pass";es.U4=24;es.Gj(f8);b.u.push(es);if(aD){if(b.u[b.u.length-3].getName()=="</Layer group>"){b.u.pop();
b.u.splice(b.u.length-2,1)}aD=!1}}else if(kz=="Bb")cd=a7[0]!=1;else if(kz=="BB"){}else if(kz=="Bm"||kz=="Bc"||kz=="Xm"){}else if(kz=="Bh")f7=a7.slice(2,4);
else if(kz=="Bg"){var dT=R.Setup.Gradient,it=dT[Q(a9)],eH=a9.slice(a9.indexOf(")")+2).split(" ").map(parseFloat);
if(it==null){console.log("gradient not found");for(var b_ in dT){it=dT[b_];break}}var cU=eH[10];if(isNaN(cU))cU=1;
var iO=eH.slice(0,4);iO.push(cU,f7[0],f7[1]);if(Math.max(Math.abs(iO[0]),Math.abs(iO[1]))>20){iO[0]=0;
iO[1]=0;iO[3]=1;console.log("strange gradient")}var aV=[it.wV,it.agD,iO,eH.slice(4,10)];I(aV,"GdFl",cd)}else if(kq=="p"&&1<a9.length&&a9.length<70){var jD=Q(a9);
if(b._i[jD]==null){var bJ=R.Setup.Pattern[jD],gZ=bJ.sc,kf=Math.round(gZ[2]-gZ[0]),dj=Math.round(gZ[3]-gZ[1]),jz=new kQ,aK=Math.sqrt(Math.abs(a[0]*a[3]-a[1]*a[2])),hV=new hS(1,0,0,-1,-bJ.sc[0],dj+bJ.sc[1]);
hV.concat(new hS(aK,0,0,aK,0,0));var g5=[$,C,M,l];$=[0,0,0];C=[0,0,0];M="SoCo";l="SoCo";k(jz,bJ.iz,[hV.xz,hV.X,hV.gb,hV.G0,hV.P6,hV.jw],R,D,h);
jz.r=Math.round(kf*aK);jz.$=Math.round(dj*aK);jz.CJ();jz.vM();if(gw==0){jz.buffer=j.j(jz.r*jz.$*4);jz.ol()}$=g5[0];
C=g5[1];M=g5[2];l=g5[3];window.a5L=bJ.iz;b._i[jD]=jz}var j9=a9.slice(a9.indexOf(")")+2),ir=j9.slice(0,j9.indexOf("[")-1).split(" ").map(parseFloat),ig=j9.slice(j9.indexOf("[")+1,j9.indexOf("]")).split(" ").map(parseFloat);
I([jD,[ir,ig]],"patt",kz=="p")}else if(kz=="J"||kz=="j"||kz=="w"||kz=="M"||kz=="d"){var hV=p.ctm,aK=Math.sqrt(Math.abs(hV[0]*hV[3]-hV[1]*hV[2]));
for(var O=1;O<eH.length;O++){var aT=eH[O],de=a7[O-1];if(aT=="w")q.WV=de*aK;if(aT=="j")q.Qn=de;if(aT=="J")q.gE=de;
if(aT=="M")q.cR=de;if(aT=="d"){var fJ=a9.slice(a9.indexOf("[")+1,a9.indexOf("]")).trim();if(fJ.length!=0){var kA=fJ.split(" ").map(parseFloat);
q.x_=kA;for(var gT=0;gT<kA.length;gT++)kA[gT]*=aK}else if(fJ=="")q.x_=[]}}}else if(kq=="xa"||kq=="xx"){var c5=V(a9);
I(c5,"SoCo",kz=="Xa"||kz=="Xx")}else if(kq=="xk"){c5=V(a9);I(c5,"SoCo",kz=="Xk")}else if(kq=="k"||kq=="x"){c5=V(a9);
I(c5,"SoCo",kz==kq)}else if(kq=="g"){var c5=[a7[0],a7[0],a7[0]];I(c5,"SoCo",kz==kq)}else if(kq=="n"){if(!E)A.newPath(p)}else if(kz=="*u"){E=!0;
cj=0;gf.push(i0==0)}else if(kz=="*U"||kq=="s"||kq=="f"||kq=="b"){if(kz!="*U"&&E){if(kq=="f"||kq=="b")cj|=1;
if(kq=="s"||kq=="b")cj|=2;continue}if(kz==kq)A.closePath(p);if(kz=="*U"){E=!1}var es;{es=b.at();es.U4|=16;
t(es,p.pth,b,o);var iD=kq=="f"||kq=="b"||kz=="*U"&&cj&1,fA=kq=="s"||kq=="b"||kz=="*U"&&cj&2,eV=es.add.vstk=cK.Ok.Mv(iD,fA),gY=j.N(q);
gY.rK=[];gY.XX=[];if(iD)gY.rK=$;if(fA)gY.XX=C;if(gw==0){cK.Ok.write(eV,gY);if(M=="SoCo"){es.add.SoCo=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);
var k2=es.add.SoCo.Clr.v;x(k2,$)}if(M=="GdFl"){es.add.GdFl=hq.ym($,es.add.vmsk.M)}if(M=="patt"){es.add.PtFl=d($,b)}if(fA){var fm=["SoCo","GdFl","patt"].indexOf(l),j_=fm==0?{Clr:{t:"Objc",v:gA.cX(C)}}:fm==1?hq.ym(C,es.add.vmsk.M):d(C,b),fD=[cK.oz,cK.ap,cK.Vq][fm],kP=eV.strokeStyleContent.v={classID:cK.Ok.zd[fm]};
for(var O=0;O<fD.length;O++)kP[fD[O]]=j_[fD[O]]}}else es.add.vstl=gY}if(kz=="*U"&&u){es.Ge=!0;u=!1}es.Da("<"+(kz=="*U"?"Compound ":"")+"Path>"+w);
es.ww=f;es.gk=Math.round(255*e);es.Gj(kz=="*U"?gf.pop():i0==0);es.uH(b);b.u.push(es);A.newPath(p)}else if(kz==","&&eH[0]=="/XMLUID"){var g3=b.u[b.u.length-1];
for(var O=0;O<b.aS.length;O++)if("("+b.aS[O].docRef+")"==eH[2])b.aS[O].docRef="id('"+g3.add.lyid+"')"}else if(kz==","&&eH[1]=="/FreeUndo"){cC=a7[0]}else if(kz==","&&eH[1]=="/StoryIndex"){var iC=R.Setup.TextDocument,h_=null;
if(!(iC instanceof Array))window.atr=iC=R.Setup.TextDocument=J(iC,h);var eQ=iC[0],ip=iC[2];if(eQ._DocumentResources)eQ=iC[0]=ak.a58(eQ);
else ak.a8A(eQ);var es=b.at();es.add.lnsr="rend";es.add.TySh=ho.DB(0,0);var dU=a7[0];if(cC==1){for(var O=1;
O<60;O++){var ic=T[c_+O];if(ic&&ic.endsWith("/StoryIndex ,")){dU=parseFloat(ic.slice(2,ic.indexOf(" ")));
aD=!0;break}}cC=0}var jt=l1.aGZ(eQ),hy=es.add.TySh.$E=jt[dU];if(hy==null){console.log("text not found");
aD=!1;continue}es.Da(ho.OD(hy).slice(0,50));es.ww=f;es.gk=Math.round(255*e);es.Gj(i0==0);var jh=eQ._1._1[dU]._1._0[0]._0;
jh=parseInt(jh.slice(1));var fs=eQ._0._8._0,eL=fs[jh]._0;if(eL._0)h_=U(eL._0);else if(eL._1)h_=U(eL._1._0);
else h_=U(eL._2._2).slice(3);if(h_.length!=2){var gZ=j.b.sY(h_);h_=[gZ.x,gZ.y];if(gZ.C()!=0){ho.s2(hy,1);
ho.SB(hy,[0,0,Math.round(gZ.r),Math.round(gZ.$)])}}var fS=new hS,jH=new hS(1,0,0,1,h_[0],h_[1]),iW=new hS(1,0,0,1,-ip[0],-ip[1]),hl=S(p.ctm),gJ=new hS;
if(eL._2&&eL._2._2){var a=U(eL._2._2);gJ=new hS(a[0],a[1],a[2],a[3],a[4],a[5])}fS.concat(jH);fS.concat(gJ);
fS.concat(iW);fS.scale(1,-1);fS.concat(hl);es.add.TySh.U=fS;b.u.push(es);b.Zp=!0}else if(kz=="Tp"){s.VF=S(a7)}else if(kz=="Tf"){s.font=eH[0].slice(2)}else if(kz=="Tk"){var es=b.at();
es.add.lnsr="rend";var gS=es.add.TySh=ho.DB(0,0),hy=gS.$E,hV=s.VF.P(),iK=hV.w5();hV.concat(S(p.ctm));
var e5=new hS(1/iK,0,0,-1/iK,0,0);e5.concat(hV);gS.U=e5;var h5=Q(a9);es.Da(h5);ho.uy(hy,0,h5);var jG=ho.RT(hy,0,h5.length);
jG.Uz.FontSize=iK;jG.Uz.FillColor={Type:1,Values:[1,$[0],$[1],$[2]]};ho.jl(jG,s.font);ho.WE(hy,0,h5.length,jG);
b.u.push(es);b.Zp=!0}else if(N&&a7.length>3){var eE=!1;for(var O=0;O<a7.length;O++)if(isNaN(a7[O]))eE=!0;
if(!eE)T[c_+1]=(a9+" "+T[c_+1]).replace(/\s\s+/g," ")}}}function d($,b){if(b.Pp==null)b.Pp={};var T=b.Pp[$[0]];
if(T==null){var a=b._i[$[0]],T=b.Pp[$[0]]={};T.id=kQ.Vm()+"-d71c-11e5-b1ae-a548a96e5f9f";T.name="someImage";
T.t6=[a.Ez(),new cS(0,0,a.r,a.$)];b.o0(T)}var R=JSON.parse(cK.sH[cK.order.indexOf("patternFill")]);R.Ptrn.v.Idnt.v=T.id;
var D=S($[1][1]),h=-Math.atan2(-D.X,D.xz);R.Angl.v.val=Math.round(h*180/Math.PI);R.Scl.v.val=Math.round(100*D.w5());
return R}hq.ym=function(b,T){var a=hq.dg(b,T),R=[0,0,1,0];if(b[0]==0)R[0]=.5;j.b.U(R,a,R);var D=JSON.parse(cK.sH[cK.order.indexOf("GrFl")]),h=D.Grad.v;
h.Intr.v=0;D.Type.v.GrdT=["Lnr","Rdl"][b[0]];j.qS.p3(b[1],h);j.qS.aF(new hx(R[0],R[1]),new hx(R[2],R[3]),j.w.t8(T),D);
return D};hq.ee=function(b,T,a){var R={Lnr:0,Rflc:0,Rdl:1,Angl:1,Dmnd:1}[b.Type.v.GrdT],D=j.w.t8(T);
if(a&&!b.Algn.v)D=new cS(0,0,a.r,a.$);var h=j.qS.a4t(b,D),K=h[0],X=h[1];if(R==0){K.x-=X.x-K.x;K.y-=X.y-K.y}var w=X.x-K.x,N=X.y-K.y,s=Math.sqrt(w*w+N*N),A=new hS;
A.rotate(Math.atan2(-N,w));A.scale(s,s);A.translate(K.x,K.y);var p=hq.oC(R,A,T),q=b.Grad.v;p[1]=j.qS.apI(q,null,null);
return p};hq.qf=function(b,T,a){var R=hx.BV(b,T),D=new hS;D.scale(R,R);D.rotate(-Math.atan2(T.y-b.y,T.x-b.x));
D.translate(b.x,b.y);if(a)D.concat(a);return D};hq.bE=function(b,T,a,R,D){if(T&&!R.Mp(T)){var h=Math.atan2(-(a.y-T.y),a.x-T.x);
if(D!=null||h!=0){var K=new hS;K.translate(-T.x,-T.y);K.scale(1,D);K.rotate(h);K.translate(T.x,T.y);
K.v4();R=K.pI(R)}var X=Math.atan2(-(R.y-T.y),R.x-T.x);b[2][5]=X*180/Math.PI;b[2][6]=hx.BV(R,T)/hx.BV(a,T)}};
hq.oC=function(b,T,a){var R=T.P(),w,N,s=1;R.v4();var D=Z.kf.I4(a);j.w.J_(D,R);var h=j.w.t8(D),K=h.r,X=h.$;
if(b==0){var A=new hS;A.translate(-h.x,-h.y);A.translate(-K/2,-X/2);var p=hq.aeS(K,X,0);A.scale(1/p,1/p);
A.scale(1/K,1/X);w=A.P6+.5;N=A.jw+.5;s=A.xz}else{w=-h.x/K-.5;N=-h.y/X-.5;var q=(w-.5)*K/2,f=(N-.5)*X/2;
s=1/Math.sqrt(2*(q*q+f*f))}var e=[b,null,[w,N,0,s,1,0,0],[T.xz,T.X,T.gb,T.G0,T.P6,T.jw]];return e};hq.dg=function(b,T){var a=b[0],R=b[2],D=b[3],h=new hS(D[0],D[1],D[2],D[3],D[4],D[5]);
h.v4();var K=Z.kf.I4(T);j.w.J_(K,h);var X=j.w.t8(K),w=X.r,N=X.$,s=R[0],A=R[1],p=R[2]*Math.PI/180,q=R[3],f=new hS;
if(a==0){f.scale(q,q);f.translate(s-.5,A-.5);f.scale(w,N);f.rotate(p);var e=hq.aeS(w,N,p);f.scale(e,e);
f.translate(w/2,N/2)}else{var o=(s-.5)*w/2,E=(A-.5)*N/2,e=q*Math.sqrt(2*(o*o+E*E));f.scale(e,e*R[4]);
f.rotate(p);f.translate((s+.5)*w,(A+.5)*N)}f.translate(X.x,X.y);f.concat(new hS(D[0],D[1],D[2],D[3],D[4],D[5]));
return f};function I(b,T,a){if(a){M=T;$=b}else{l=T;C=b}}function c(b,T,a){var R=UDOC.G,D=[],h=[],K="/DeviceGray",X=1,w=[],N=1;
for(var s=0;s<b.length;s++){var A=b[s];if(A.endsWith(" /CS")){var p=A.indexOf("/NChannel"),q=A.indexOf("/Process");
if(A.startsWith("/DeviceRGB")){K="/DeviceRGB";X=3}else if(A.startsWith("/DeviceGray")){K="/DeviceGray";
X=1}else if(A.startsWith("/DeviceCMYK")){K="/DeviceCMYK";X=4;w=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(p!=-1){K="/DeviceCMYK";
X=parseInt(A.slice(p-2,p-1));var f=1;for(var O=0;O<X;O++){f=A.indexOf("[",f);w[X-1-O]=A.slice(f+1,f+8).split(" ").map(parseFloat);
f++}}else if(q){K="/DeviceGray";X=1}else throw A}else if(A[0]=="["){var e=A.indexOf("]"),o=A.slice(1,e).split(" ").map(parseFloat),E=A.slice(e+2),cj,u,cd,m,aZ,jN;
if(E=="/Size"||E=="/P"||E=="/R")continue;if(E=="/S"||E=="/A"){cj=o[0];u=o[1];cd=o[2];m=o[3];aZ=o[4];
jN=o[5]}else if(E=="/N"){var eh=X+(N==1?0:1),iA;cj=o[eh+0];u=o[eh+1];cd=o[eh+2];m=o[eh+3];aZ=o[eh+5];
jN=o[eh+6];if(K=="/DeviceRGB")iA=o.slice(0,3);else if(K=="/DeviceGray")iA=[o[0],o[0],o[0]];else if(K=="/DeviceCMYK"){var hd=[0,0,0,0];
for(var O=0;O<X;O++){var kx=o[O],b0=w[O];hd[0]+=kx*b0[0];hd[1]+=kx*b0[1];hd[2]+=kx*b0[2];hd[3]+=kx*b0[3]}iA=z(hd)}else throw iA;
iA.push(o[X]);h.push([iA,cj,u])}else throw E;D.push([E,aZ,jN,cj,u,cd,m])}else if(A=="/E"){var gX=D.slice(0),j$=0;
for(var O=0;O<D.length;O++){var i0=D[O][0];if(i0=="/N"){j$++;continue}var f7=O,am=O+1;while(D[am][0]!="/N"&&am<D.length)am++;
if(j$==0||j$==3){for(var gf=0;gf<am-f7;gf++)gX[f7+gf]=D[am-1-gf]}else for(var gf=f7;gf<am;gf++){var cC=gX[gf],aD=cC[1];
cC[1]=cC[5];cC[5]=aD;aD=cC[2];cC[2]=cC[6];cC[6]=aD}O=am-1}D=[];for(var O=0;O<gX.length;O++){var cC=gX[O];
D.push(cC[1],cC[2],cC[3],cC[4],cC[5],cC[6])}var c_=D.length;R.moveTo(T,D[2],D[3]);for(var O=0;O<c_;O+=6){var cd=D[(O+4)%c_],m=D[(O+5)%c_],aZ=D[(O+6)%c_],jN=D[(O+7)%c_],cj=D[(O+8)%c_],u=D[(O+9)%c_];
R.curveTo(T,cd,m,aZ,jN,cj,u)}R.closePath(T);D=[]}else if(A.endsWith("/Version"))N=parseFloat(A[0])}var a9=a.at();
a9.U4|=16;a9.Da("<Mesh>");var jz=a9.add.vstk=cK.Ok.Mv(!0);t(a9,T.pth,a,0);if(h.length>=2){var g3=0,e3=0,c1=0;
for(var O=0;O<h.length;O++)for(var gf=O+1;gf<h.length;gf++){var dI=h[O][0],kJ=h[gf][0],cA=dI[0]-kJ[0],c2=dI[1]-kJ[1],ee=dI[2]-kJ[2],hF=Math.sqrt(cA*cA+c2*c2+ee*ee);
if(hF>c1){c1=hF;g3=O;e3=gf}}var ic=h[g3],eH=h[e3],kz=[[0,ic[0],1,.5],[1,eH[0],1,.5]],kq=S(T.ctm),a7=kq.pI(new hx(ic[1],ic[2])),i6=kq.pI(new hx(eH[1],eH[2]));
if(a7.Mp(i6))i6.x+=1;if(gw==0){var hm=a9.add.GdFl=JSON.parse(cK.sH[cK.order.indexOf("GrFl")]),bB=hm.Grad.v;
bB.Intr.v=0;hm.Type.v.GrdT="Lnr";j.qS.p3(kz,bB);var iV=j.b.sY(T.pth.crds);a7.x=(a7.x+i6.x)/2;a7.y=(a7.y+i6.y)/2;
j.qS.aF(a7,i6,iV,hm)}else{var eO=a9.add.vstl=cK.Jn.Mv();eO.XX=[];var aC=hq.qf(a7,i6,new hS);eO.rK=hq.oC(0,aC,a9.add.vmsk.M);
eO.rK[1]=kz}}a.u.push(a9);R.newPath(T)}function Q(b){var T=b.indexOf(")");while(b[T-1]=="\\")T=b.indexOf(")",T+1);
return b.slice(b.indexOf("(")+1,T).replaceAll("\\","")}function x(b,$){b.Rd.v=$[0]*255;b.Grn.v=$[1]*255;
b.Bl.v=$[2]*255}function U(b){var T=[];for(var O=0;O<b.length;O++)T[O]=parseFloat(b[O].slice(1));return T}function S(b){return new hS(b[0],b[1],b[2],b[3],b[4],b[5])}function z(b){return j.Ao(b.slice(0,4)).slice(0,3)}function V(b){var T=b.split(" "),a=T[T.length-1],R=a.toLowerCase(),D=T.map(parseFloat),h=null;
if(R=="xa"||R=="xx"||R=="xz"){var h=D[4]==null?D.slice(0,3):[D[4],D[5],D[6]];if(R=="xx"&&D[D.length-2]==2)h=z(D)}else if(R=="g")h=z([0,0,0,1-D[0]]);
else if(R=="x"||R=="k"){if(R=="x"){D.pop();var K=1-D.pop();for(var O=0;O<4;O++)D[O]*=K}h=z(D)}else if(R=="xk"){var X=D[D.length-2],w=D[D.length-3];
if(X==0)h=z(D);else if(X==1){h=[D[4],D[5],D[6]];for(var O=0;O<3;O++)h[O]=w*1+(1-w)*h[O]}else throw b}else throw R;
return h}function t(b,T,a,R){b.add.vmsk=new Z.kf;if(T.crds.length!=0)b.add.vmsk.M=Y(T);b.add.vmsk.ea=R;
b.ud();b.uH(a)}function Y(b){var T={n:b.crds,C0:b.cmds},a=j.b.RJ(T,!1);return a}function i(b,T){var a=[],s=0,f=0;
for(var R=0;R<2;R++){var D=T[["Raster","Place"][R]];if(D==null)continue;for(var O=0;O<D.length;O++){for(var h=0;
h<3;h++){var K=D[O][["Data","Document","PlacedObjectPreview"][h]];if(K==null)continue;var X=K._begin,w=K._end;
if(X>w)X=w;a.push([X,w])}}}a.sort(function(o,E){return o[0]-E[0]});var N=[T._begin];for(var O=0;O<a.length;
O++){var A=a[O],X=A[0]+32;N.push(X,A[1]);s+=A[1]-X}N.push(T._end);var p=T._end-T._begin,q=new Uint8Array(p-s);
for(var O=0;O<N.length;O+=2){var X=N[O],e=N[O+1]-X;q.set(new Uint8Array(b.buffer,X,e),f);f+=e}return P.qV(q).split(/\r\n|\r|\n/)}function J(b,T){if(b==null)return[];
var a=i(T,b),R="",D="",h=0,K;for(var O=2;O<a.length;O++){var X=a[O];if(X[0]=="%"){if(h==0)R+=X.slice(1);
else D+=X.slice(1)}else if(X==";")h++;else if(X.endsWith("/RulerOrigin ,"))K=X.split(" ").slice(0,2).map(parseFloat)}var w=[R,D],N=[];
for(var O=0;O<2;O++){var s=w[O],A=new Uint8Array(s.length);P.o9(A,0,s);var p=FromPS.F.ASCII85Decode({buff:A,off:0}),q=bs.CO(p);
N.push(q)}N.push(K);return N}function H(b,T){if(b==null)return[];var a=i(T,b);a=a.slice(1);for(var O=0;
O<a.length;O++){var R=a[O];if(R.startsWith("%AI17_Begin_Content_if_version_gt")||R=="%AI17_Alternate_Content"||R=="%AI17_End_Versioned_Content")a[O]="";
else if(R[0]=="%")a[O]=R.slice(R[1]=="_"?2:1)}var D=c7.aDW(a);return D}function v(b,T){var a={};if(b==null)return a;
for(var O=0;O<b.length;O++){var R=i(T,b[O]),D=R[1],h=Q(D),K=D.slice(D.lastIndexOf(")")+2).split(" ").map(parseFloat),X=[];
for(var w=2;w<R.length;w++)X.push(R[w].slice(2));a[h]={sc:K,iz:X}}return a}function n(b,T){var a=[],D,h;
if(b==null)return a;var R=i(T,b);for(var O=1;O<R.length;O++){var K=R[O];if(K=="0 0 Pb"||K=="PB"||K==""){}else if(K.endsWith("Xa")||K.endsWith("Xz")||K.endsWith("Xx")||K.endsWith("Xk")||K.endsWith(" g")||K.endsWith(" x")||K.endsWith(" k"))D=[0,V(K)];
else if(K.endsWith("Xs"))D=[0,[0,0,0]];else if(K.endsWith("Bg"))D=[1,Q(K)];else if(K.endsWith("Pg")||K.endsWith("p"))D=[2,Q(K)];
else if(K[0]=="(")h=Q(K);else if(K=="Pc")a.push([h,D]);else if(K=="0 BB"||K=="Bb"||K.endsWith("Bh")){}else throw K}return a}function G(b,T){var a={},R,D;
if(b==null)return a;var h=[];for(var O=0;O<b.length;O++){var K=i(T,b[O]);for(var X=0;X<K.length;X++){var w=K[X];
if(w.endsWith("%_Bs")){var N=w.slice(0,w.length-4);if(!N.endsWith(" "))N+=" ";w=N+"%_BS"}if(w[0]=="("){R=Q(w);
var s=w.slice(w.lastIndexOf(")")+2).split(" ");D=parseInt(s[0])}else if(w.endsWith("%_BS")){var A=w.split(" "),e,o=1;
A.pop();A=A.map(parseFloat);var p=A.pop(),q=A.pop(),f=A.pop();if(f==0)e=[A[0],A[0],A[0]];else if(f==2||f==4)e=[A[4],A[5],A[6]];
else if(f==1||f==3)e=z(A);else if(f==6){if(A.length==3)e=[A[0],A[0],A[0]];else if(A.length>=8)e=A.slice(4,7);
else e=z(A);o=A.pop()}else{throw f}h.push([p/100,e,o,q/100])}else if(w=="BD"){h.sort(function(E,cj){return E[0]-cj[0]});
a[R]={wV:D,agD:h};h=[]}}}return a}function g(b){var T="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place Rider".split(" "),a=Date.now(),R=0,D=[],h={Header:{}},K=[h],X=b.length;
while(R<X){var w=R;while(w!=X&&b[w]!=13&&b[w]!=10){w++}if(b[R]==37&&b[R+1]==95&&b[R+2]==37)R+=2;if(b[R]==37&&(b[R+1]==37||b[R+1]==65)){var N=P.BW(b,R,w-R);
if(N=="%%EOF")break;if(N=="%%EndComments"||N=="%EndComments"||N=="%AI5_Begin_NonPrinting"||N=="%AI5_End_NonPrinting--"||N.startsWith("%AI17_Begin_Content_if_version_gt")||N=="%AI17_End_Versioned_Content"){}else{var s=N.indexOf("Begin"),A=Math.max(N.indexOf("_End"),N.indexOf("%End"));
if(s!=-1&&N[s-1]!="%"&&N[s-1]!="_")s=-1;if(s!=-1){var p=N.slice(s+5).split(":")[0],q={_begin:R,_end:R},f=K[K.length-1];
if(T.indexOf(p)!=-1){if(f[p]==null)f[p]=[];f[p].push(q)}else{if(f[p]!=null){console.log(K);throw N}f[p]=q}K.push(q);
if(N.startsWith("%%BeginData")){w=P.Ah(b,"%%EndData",R)}else if(N.slice(0,15)=="%%BeginDocument")w=P.Ah(b,"%%EndDocument",w);
else if(N=="%AI9_BeginDocumentData")w=P.Ah(b,"%AI9_EndDocumentData",w);else if(N=="%AI11_BeginTextDocument")w=P.Ah(b,"%AI11_EndTextDocument",w)}else if(A!=-1){if(K.length>1)K.pop()._end=R}else if(K.length==1&&(N.startsWith("%AI")||N.startsWith("%%")&&N.indexOf(" ")!=-1)){var e=1;
if(N.startsWith("%AI"))while(N[e]!="_"&&e<N.length)e++;var o=N.indexOf(":");if(o==-1)o=N.indexOf(" ");
var E=N.slice(e+1,o),cj=N.slice(o+1).trim();h.Header[E]=cj}}}R=w;if(b[R]==13)R++;if(b[R]==10)R++}return h}function W(b){var T="";
for(var O=0;O<b.length;O++){if(b[O]=="_"&&b[O+1]=="x"){var bU=parseInt(b.slice(O+2,O+4),16);T+=String.fromCharCode(bU);
O+=4}else if(b[O]=="_")T+=" ";else T+=b[O]}return T}function L(b){var T="xmlnode-nodename",a="xmlnode-nodevalue",R="xmlnode-attributes",D="xmlnode-children",h=b[T].split(":").pop().replace("#",""),K=b[R],X=b[D],w="<"+h;
for(var N in K)if(N!="xmlns"&&N!="xmlns:v")w+=" "+N.split(":").pop()+"=\""+K[N][a]+"\"";w+=">"+(X.length==0?"":"\n");
for(var O=0;O<X.length;O++)w+=L(X[O]);if(b[a])w+=b[a];return w+"</"+h+">\n"}return F}();hq.aeS=function(F,r,$){var C=j.b.Vs(new cS(0,0,F,r)).n,M=new hS;
M.rotate($);j.b.U(C,M,C);var l=j.b.sY(C);return l.r/F};hq.a0z=["norm","mul ","scrn","over","sLit",null,"div ",null,null,null,null,null,null,null,"colr",null];
hq.Ns=function(){function F(z){var V=72/z.YV,t=new hS(V,0,0,-V,0,0),Y=z.root.children,i=[],J={jk:[],Il:{},a0j:0},v=16383,m=0,jN=0;
for(var O=0;O<z.va.length;O++){var H=z.va[O];if(H[1].length==4)U(H[1],J,H[0])}for(var O=0;O<Y.length;
O++)I(Y[O],z,t,J,i,0);var n=["%!PS-Adobe-3.0\r","%%Creator:Adobe Illustrator (TM) 15.000000 Exported from Photopea","%%Title:Sitecreator.io.ai\r","%%CreationDate:\r","%%Canvassize:"+v+"\r","%%BoundingBox:0 0 0 0\r","%%DocumentProcessColors: Cyan Magenta Yellow Black\r","%AI3_ColorUsage: Color\r","%AI3_Cropmarks:0 0 1 1\r","%AI3_TileBox:0 0 1 1\r","%AI3_TemplateBox:0 0 1 1\r","%AI3_DocumentPreview: None\r","%AI5_ArtSize: 0 0 \r","%AI5_NumLayers: 1\r","%AI5_FileFormat 2.0\r","%AI9_ColorModel: 1\r","%AI12_CMSettings: 00.MS\r","%%BeginProlog\r","%%EndProlog\r"];
n.push("%%BeginSetup\r");n=n.concat(J.jk);for(pn in z._i){var G=z._i[pn],g=z.YV/72;n.push("%AI3_BeginPattern: ("+pn+")");
n.push("("+pn+") 0 0 "+Math.round(G.r/g)+" "+Math.round(G.$/g));var Y=G.root.children,W=[];for(var O=0;
O<Y.length;O++)I(Y[O],G,t,J,W,1);W=window.a5L;for(var O=0;O<W.length;O++){var L=W[O];n.push(L.startsWith("%_")?L:"%_"+L)}n.push("E","%AI3_EndPattern")}if(z.va.length!=0){n.push("%AI5_BeginPalette","0 0 Pb");
for(var O=0;O<z.va.length;O++){var H=z.va[O],b="("+H[0]+")",T=H[1].length;if(H[0]=="[Registration]")n.push("0.749721 0.679194 0.670497 0.901457 0 0 0 ([Registration]) 0 1 Xz");
else if(T==3)n.push(d(j.dm(H[1]).concat(H[1]))+" "+b+" 0 1 Xk");else if(T==4)n.push("Bb","0 0 0 0 Bh",H[1][0]+1+" "+b+" 0 0 0 1 1 0 0 1 0 0 1 Bg","0 BB");
else if(T==2)n.push(b+" 0 0 1 1 0 0 0 0 0 [1 0 0 1 0 0] p");n.push(b,"Pc")}n.push("PB","%AI5_EndPalette")}n=n.concat(["%AI9_BeginDocumentData\r","/Document :","/Dictionary :","0 /Int (CropAreaActive) ,","/Array :"]);
var a=z.add.arts;for(var O=0;O<a.length;O++){var R=a[O];console.log(R);var D=R.sc[0]*V,h=-R.sc[1]*V,K=R.sc[2]*V,X=-R.sc[3]*V;
n.push("/Dictionary :","("+R.du+") /UnicodeString (Name) ,","1 /Real (PAR) ,","1 /Bool (IsArtboardDefaultName) ,",v/2+" "+v/2+" /RealPoint"," (RulerOrigin) ,","0 /Int (DisplayMark) ,",$(D)+" "+$(h)+" /RealPointRelToROrigin"," (PositionPoint1) ,",$(K)+" "+$(X)+" /RealPointRelToROrigin"," (PositionPoint2) ,","; ,")}n=n.concat("; (ArtboardArray) ,-/Dictionary :-/Array :-; (SelHatDocInterIDsArray) ,-; (SelHatDocTableDict) ,-; /Recorded ,-/Dictionary : /NotRecorded ,-/Dictionary : /NotRecorded ,-; (PDFPresetCollection) ,-; /NotRecorded ,-;-%AI9_EndDocumentData\r".split("-"));
var w=[],N=[];for(var O=0;O<z.u.length;O++){var s=z.u[O],A=s.add.TySh;if(A){w.push(A.$E);N.push(A)}}if(w.length!=0){var p=l1.ag3(w,null,null);
function q(R){return R.map(function(eh){return"f"+eh})}for(var f=0;f<w.length;f++){var A=N[f],e=p._1._1[f],o=e._1._0[0]._0;
o=parseInt(o.slice(1));var E=p._0._8._0[o]._0,cj=A.U.P();cj.concat(t);cj.scale(1,-1);E._2._2=q([cj.xz,cj.X,cj.gb,cj.G0,cj.P6,cj.jw])}var u=r(p),cd=r(p);
n.push("%AI11_BeginTextDocument");n.push("/AI11TextDocument : /ASCII85Decode ,");n=n.concat(u);n.push("0.0001 0.0001 /RulerOrigin ,");
n.push(";");n.push("/AI11UndoFreeTextDocument : /ASCII85Decode ,");n=n.concat(cd);n.push(";");n.push("%AI11_EndTextDocument")}n.push("%%EndSetup\r");
n=n.concat(i);console.log(n.join("\n"));n.push("%%PageTrailer\r","gsave annotatepage grestore showpage\r","%%Trailer\r","%%EOF\r","\r","");
for(var O=0;O<n.length;O++){var R=n[O];if(typeof R=="string")R=n[O]=P.V4(R);m+=R.length+1}var aZ=new Uint8Array(m);
for(var O=0;O<n.length;O++){var R=n[O];aZ.set(R,jN);jN+=R.length;aZ[jN]=13;jN++}return c7.aql(aZ).buffer}function r(z){var V=new eo,t=bs.Gk(z,V)-2,Y=S(V.data.slice(0,t)),i=[];
for(var J=0;J<Y.length;J+=100){if(Y.length-J<103){i.push("%"+Y.slice(J));break}i.push("%"+Y.slice(J,J+100))}return i}function $(bU){return bU.toFixed(3)}function C(z,V){var t=z.getName(),Y=null;
V.push("%_/ArtDictionary :");if(z.add.vmsk)Y=z.add.vmsk.Ji;if(z.add.SoLd){var i=j.H.b6(z.add.SoLd);Y=Math.atan2(-i.X,i.xz)}if(z.add.TySh){var i=z.add.TySh.U;
Y=Math.atan2(-i.X,i.xz)}if(Y!=null&&Y!=0)V.push("%_("+Y+") /String (BBAccumRotation) ,");if(z.add.TySh)V.push("%_(21b560b4-4fda-4f2d-b9c0-837007f17e72) /UnicodeString (AI24 TextStoryRawDataUUID) ,");
else if(!t.startsWith("<")&&!t.endsWith(">")){V.push("%_/XMLUID : "+M(t)+" ; (AI10_ArtUID) ,")}V.push("%_;","%_")}function M(z){var V="";
for(var O=0;O<z.length;O++){var t=z[O],Y=z.charCodeAt(O);if(t==" ")V+="_";else if(t=="."||t==":"||t=="-"||48<=Y&&Y<=57||65<=Y&&Y<=90||97<=Y&&Y<=122||127<Y)V+=t;
else V+="_x"+Y.toString(16).toUpperCase()+"_"}return"("+V+")"}function l(z,V,t){t.push(d(z)+" "+V)}function k(z){return"[ "+d(z)+" ]"}function d(z){return z.map($).join(" ")}function I(z,V,t,Y,i,J){var H=z.z;
if(J!=0)i.push("0 A",(H.rR()?0:1)+" Xw");if(H.EX()){var v=!1;for(var O=0;O<z.children.length;O++)if(z.children[O].z.Ge)v=!0;
var n=H.add.lsct==jR.ul?1:0;if(J==0){i.push("%AI5_BeginLayer");i.push((H.rR()?1:0)+" "+V.add.prvw+" 1 1 0 0 1 -1 51 44 43 0 100 0 Lb");
i.push("("+H.getName()+") Ln");i.push(n+" AE");C(H,i)}else{i.push(n+" Ae");i.push(v?"q":"u")}for(var O=0;
O<z.children.length;O++)I(z.children[O],V,t,Y,i,J+1);if(J==0)i.push("LB","%AI5_EndLayer--");else{i.push(v?"Q":"U");
C(H,i);c(H,i);i.push("0 0 Xd","6 () XW")}}else if(!0){c(H,i);var G=H.add.TySh,g=H.add.vmsk;if(G){i.push("/AI11Text :","0 /FreeUndo ,","0 /FrameIndex ,",Y.a0j+" /StoryIndex ,");
if(ho.C9(G.$E)==1){var W=ho.AA(G.$E),L=j.b.Vs(new cS(W[0],W[1],W[2],W[3])).n;j.b.U(L,G.U,L);j.b.U(L,t,L);
i.push("/Art :","X=","1 Ap",L[0]+" "+L[1]+" m",L[2]+" "+L[3]+" L",L[4]+" "+L[5]+" L",L[6]+" "+L[7]+" L",L[0]+" "+L[1]+" L","n","X+","; /ConfiningPath ,")}i.push("2 /TextAntialiasing ,",";");
Y.a0j++}else if(H.add.SoLd){var b,T,a,R=H.add.SoLd,D=R.Idnt.v,h=V.M3(D,R.Crop?R.Crop.v:null),K=h.gn,b=K[0],T=K[1];
a=j.H.b6(R);var X=new hS(1,0,0,-1,0,0);X.concat(a);X.concat(t);var w=T.C(),N=T.r,s=T.$,A=j.j(w*4+8);
for(var O=0;O<w;O++){var p=O*4,q=O*3;A[q]=b[p];A[q+1]=b[p+1];A[q+2]=b[p+2];A[3*w+O]=b[p+3]}P.o9(A,w*4,"%EndData");
i.push("%AI5_File:","%AI5_BeginRaster",k([X.xz,X.X,X.gb,X.G0,X.P6,X.jw])+" 0 0 "+[N,s,N,s].join(" ")+" 8 3 1 17 1 0 4 4 0 0","%BeginData: "+(w*4+4),"XI",A,"XH","%AI5_EndRaster","N")}else if(g){var f=H.add.vstl,e,o;
if(f){e=f.rK;o=f.XX;if(e.length==0)e=null;if(o.length==0)o=null}var E=j.w.Us(g.M)>1;if(E)i.push("*u","0 Xw");
if(e){if(e.length==3)l(e,"Xa",i);else if(e.length==4){var cj=x(e,Y);i.push("Bb",cj,"2 BB")}else{i.push("("+e[0]+") "+e[1][0].join(" ")+" ["+e[1][1].join(" ")+"] p")}}if(o){var u=t.w5(),cd=f.x_.slice(0);
for(var O=0;O<cd.length;O++)cd[O]*=u;i.push(f.gE+" J "+f.Qn+" j "+f.WV*u+" w "+$(f.cR)+" M ["+cd.join(" ")+"]0 d");
if(o.length==3)l(o,"XA",i);else if(o.length==4){var cj=x(o,Y);i.push("1 Bb",cj,"2 BB")}else{i.push("("+o[0]+") "+o[1][0].join(" ")+" ["+o[1][1].join(" ")+"] P")}}var m=j.b.oJ(g.M,1);
j.b.U(m.n,t,m.n);var aZ=H.Ge?"h\nW\nn":e&&o?"b":e?"f":"s";Q(m,aZ,g.ea,i);if(E)i.push("*U")}C(H,i)}else{var jN=["0 Ae","u","0 Ae","*u","4 As","0 O","0.749721467494965 0.679194271564484 0.670496642589569 0.901457190513611 0 0 0 Xa","0 1 0 0 0 Xy","0 J 0 j 1 w 10 M []0 d","0 XR","111.18822479248 -34.0734329223633 m","78.6218032836914 -68.3782501220703 L","50.4593849182129 -42.8814239501953 L","111.18822479248 -34.0734329223633 L","F","4 As","1 D","127.456848144531 -25.6510887145996 m","36.9820060729981 -38.7733764648438 L","78.938850402832 -76.7589797973633 L","127.456848144531 -25.6510887145996 L","127.456848144531 -25.6510887145996 L","f","*U","U","%_/ArtDictionary :","%_/XMLUID : (stroke_center_00000129180656820086388900000009385145657589981339_) ; (AI10_ArtUID) ,","%_;","%_","0 0 Xd","6 () XW","%_3 As","%_0 D","%_36.9820193421074 -38.7733812949637 m","%_127.456839485992 -25.65107913669 l","%_78.9388538744815 -76.758992805755 l","%_36.9820193421074 -38.7733812949637 l","%_n","%_/ArtDictionary :","%_/XMLUID : (stroke_center) ; (AI10_ArtUID) ,","%_;","%_","1 (Anon EuoqR7CI7zs=) XW"];
i=i.push(jN.join("\n"))}}function c(z,V){var t=hq.a0z.indexOf(z.ww);if(t==-1)t=0;V.push(t+" "+$(z.gk/255)+" 0 0 0 Xy")}function Q(z,V,t,Y){Y.push(t+" XR");
var i=0;for(var J=0;J<z.C0.length;J++){var H=z.C0[J],v,n=0,G="";if(H=="M"){n=2;v="m"}if(H=="L"){n=2;
v="l"}if(H=="C"){n=6;v="c"}for(var O=0;O<n;O++)G+=$(z.n[i+O])+" ";i+=n;if(n!=0)Y.push(G+v);if(J==z.C0.length-1||z.C0[J+1]=="M"){Y.push(H=="Z"?V:V.toUpperCase())}}}function x(z,V){var t=U(z,V),Y="";
if(z[0]==1)Y="0 0 "+z[2].slice(5).map($).join(" ")+" Bh\n";return Y+"1 ("+t+") "+z[2].slice(0,4).map($).join(" ")+" "+z[3].map($).join(" ")+" "+$(z[2][4])+" Bg"}function U(z,V,t){var Y=z[0],i=z[1].slice(0),J=Y+"-"+JSON.stringify(i);
if(V.Il[J])return V.Il[J];console.log(t);var H=V.Il[J]=t?t:"grd"+V.jk.length;V.jk.push("%AI5_BeginGradient: ("+H+")","("+H+") "+Y+" "+i.length+" Bd","[","4 %_Br","0","0","1","4 %_Br","[");
if(Y==0)i=i.reverse();for(var O=0;O<i.length;O++){var v=i[O];if(v[3]==null)throw"e";var n=j.dm(v[1]),G=100*v[3],g=n.concat(v[1]).map($).join(" ")+" 2 "+$(v[2])+" 6 "+G+" "+$(v[0]*100);
V.jk.push(g+" %_BS");V.jk.push("%_"+g+" Bs")}V.jk.push("BD","%AI5_EndGradient");return H}function S(z){var V=[85*85*85*85,85*85*85,85*85,85,1],t="",Y=z.length,i=new Uint8Array(4),J=new Uint32Array(i.buffer);
for(var O=0;O<Y;O+=4){var H=Y-O;i[3]=z[O];i[2]=H>1?z[O+1]:0;i[1]=H>2?z[O+2]:0;i[0]=H>3?z[O+3]:0;var v=J[0],n=1+Math.min(4,H);
for(var G=0;G<n;G++){var g=Math.floor(v/V[G]);t+=String.fromCharCode(33+g);v-=g*V[G]}}return t+"~>"}return F}();
function hj(){}hj.CO=function(){var F,r,$,C,M,l=!0,k=!0,v,n,G;function d(N){return l?P.cA(F,N):P.dj(F,N)}function I(N){return l?P.IX(F,N):P.G2(F,N)}function c(N){return l?P.aj(F,N):P.Dw(F,N)}function Q(N){return P.IX(F,N)}function x(N){return P.cA(F,N)}function U(N){return P.jF(F,N)}function S(N,s){if(N+s*4>F.length)throw s;
var A=[];for(var O=0;O<s;O++)A.push(d(N+O*4));return A}function z(N,s){var A=[];for(var O=0;O<s;O++)A.push(c(N+O*8));
return A}function V(N){return x((N+1)*4096-12)}function t(N){return x((N+1)*4096-8)}function Y(N,r,s,A){if(C[N]==null)C[N]=[];
C[N].push([A,new Uint8Array(F.buffer,r,s)])}function i(N,s,A,p){var q=$[N],r=q*4096;r=r+x(r+4096-24-12-s*4);
var f=Q(r),e=F[r+2],o=F[r+3];if(s!=e)throw e;if(o==0)Y(p,r+4,A,9);else{var E=Q(r+6),cj=x(r+8);Y(p,r+12,f-12,9);
i(cj,E,A-(f-12),p)}}function J(){var N=x(352),s=x(N*4096+128),A=x(936);$=[];C={};M={};for(var O=0;O<1e9;
O++){var p=x(A*4096+128+O*4);if(p==0)break;var q=S(p*4096+128,4096-128-12>>>2);$=$.concat(q)}for(var f=0;
f<$.length;f++){var e=$[f],o=V(e);if(o!=6)continue;var r=e*4096,E=x(r);r+=4;for(var O=0;O<E;O++){var cj=x(r);
r+=4;var u=x(r);r+=4;var cd=x(r);r+=4;var m=x(r);r+=4;if(cj==0)M[u]=cd;else{var aZ=cd&65535,jN=cd>>>16;
if(jN==0)Y(u,m*4096,aZ,8);else i(m,jN,aZ,u)}}}var v={};for(var eh in C){var iA=C[eh],hd=iA.length;if(hd==1)v[eh]=iA[0][1];
else{var kx=0,r=0;for(var O=0;O<hd;O++)kx+=iA[O][1].length;var b0=v[eh]=new Uint8Array(kx);for(var O=0;
O<hd;O++){b0.set(iA[O][1],r);r+=iA[O][1].length}}}return v}function H(r,N){var s=0,A="";if(N){s=d(r);
r+=4}else{r+=3;s=I(r);r+=2}while(A.length<s){var p=I(r),q=p&255,f=p>>>8,e=0,o="";q+=(f&15)*256;f=f&240;
r+=2;if(q==0)throw"e";for(var O=0;O<q;O++){if(f==64)e=F[r++];else if(f==128){e=I(r);r+=2}else throw f;
o+=String.fromCharCode(e)}A+=o}return[A,r]}function g(r,N,s){var A=S(r,N);for(var O=0;O<N;O++){s.push(O);
if(A[O]>n)throw"e";A[O]=L(A[O],s);s.pop()}return A}var W={};function L(N,s){if(G.indexOf(N)!=-1)return v[N];
if(N==0)return null;if(v[N]==null)return null;if(!(v[N]instanceof Uint8Array))return v[N];var A=F,r=0;
F=v[N];G.push(N);var p=M[N].toString(16),q=v[N]={_type:w[p]?w[p]+":"+p:"typ-"+p,_eid:N};while(r+8<F.length){var f=d(r);
r+=4;var e=d(r);r+=4;var o=f.toString(16),E=r+e;if(r+e>F.length){q._bin=F;break}b(o,D,q,r,e,s);r=E}F=A;
G.pop();return q}function b(N,s,A,r,p,q){var f=s[N+":"+A._type];if(f==null)f=s[N];q.push(f?f[0]==""?N:f[0]:N);
if(f){var e=f[0],o=null,E=f[1];if(e=="")e=E+"-"+N;if(K[E]&&p!=K[E]){console.log(E);console.log(N,f);
console.log(F.slice(r,r+p));throw"e"}if(E=="mat")o=z(r,6);else if(E=="mmat")o=[L(d(r),q),p==6?[1,0,0,1,0,0]:z(r+6,6)];
else if(E=="rect")o=z(r,4);else if(E=="mrct"){o=z(r,4);o.push(Q(r+32))}else if(E=="doub")o=c(r);else if(E=="pointArr"){var cj=Q(r);
o=S(r+2,cj*2)}else if(E=="usrt")o=Q(r);else if(E=="uint")o=d(r);else if(E=="pntr"||E=="ptr6"){o=L(d(r),q)}else if(E=="bool2"){if(I(r)!=0&&I(r)!=1)throw I(r);
o=I(r)==1}else if(E=="bool4"){if(d(r)!=0&&d(r)!=1&&d(r)!=2&&d(r)!=13)throw N+","+d(r);o=d(r)==1}else if(E=="color"){if(p!=38&&p!=30&&p!=22)throw p;
var u=d(r),cd=I(r+4);o=[u];for(var O=0;O<cd;O++)o.push(c(r+6+O*8))}else if(E=="path"){var m=r+p;o=[];
var aZ=d(r);r+=4;for(var O=0;O<aZ;O++){var jN=[[]];o.push(jN);var eh=d(r);r+=4;for(var iA=0;iA<eh;iA++){var u=d(r);
r+=4;if(u<2){jN[0].push([u,c(r),c(r+8),c(r+16),c(r+24),c(r+32),c(r+40)]);r+=48}else if(u==2){jN[0].push([u,c(r),c(r+8)]);
r+=16}else throw u}jN.push(Q(r));r+=2}}else if(E=="ptrAndList"){var hd=d(r),o=[];if(p>4){var kx=d(r+4);
if(kx>160)throw kx;o=g(r+8,kx,q)}o.unshift(L(hd,q))}else if(E=="ptrArray"||E=="ptrArrayX"){var b0=p>>2;
if(E=="ptrArray"){b0=d(r);r+=4;if(p!=4+b0*4)throw p}o=g(r,b0,q)}else if(E=="ptrArray2"){var b0=d(r);
r+=4;o=g(r,b0,q);r+=b0*4;b0=d(r);r+=4;o.push(g(r,b0,q))}else if(E=="cldrn"){var gX=d(r),j$=d(r+4),b0=d(r+8);
o={m:L(gX,q),Sn:L(j$,q),KO:g(r+12,b0,q)};if(p!=12+b0*4){console.log(N,sa);throw"e"}if(gX==0)throw gX}else if(E=="aprnc"){var b0=d(r);
r+=4;o={};for(var O=0;O<b0;O++){var i0=d(r),f7=I(r+4),am=I(r+6);r+=8;var gf=X[i0.toString(16)];if(gf==null)gf="prm-"+i0.toString(16);
else gf=R(gf);o[gf]=[];for(var iA=0;iA<am;iA++){var cC=d(r),aD=I(r+4),c_=null;r+=6;if(cC==28264)c_=c(r);
else if(cC==28263)c_=d(r);else if(cC==279||cC==6917)c_=L(d(r),q);else if(cC==28261)c_=Q(r)==1;else if(cC==28265)c_=[c(r),c(r+4)];
else if(cC==6914||cC==83231)c_=H(r)[0];else if(cC==28259||cC==28260||cC==23094||cC==67679){c_=F.slice(r,r+aD)}else throw cC.toString(16);
o[gf].push(c_);r+=aD}}}else if(E=="lopts"){var a9=8;if(l&&I(r+a9)<2)a9+=2;if(!l&&(d(r+a9)==0||d(r+a9)==65536))a9+=2;
o={a0X:I(r+0)==1,show:I(r+2)==1,afW:I(r+4)==1,$V:d(r+a9),name:H(r+a9+8)[0]}}else if(E=="origin"){var m=r+p;
if(F[r++]!=1)throw"e";var cj=d(r);r+=4;var jz=P.BW(F,r,cj);r+=cj;r++;var g3=F[r++],e3=I(r);r+=2;var c1=d(r);
r+=4;if(c1!=0&&c1!=1)throw c1;var dI=d(r);r+=4;if(dI!=0&&dI!=2&&dI!=3)throw dI;var kJ=x(r);r+=4;var cA=H(r,!0);
r=cA[1];cA=cA[0];var c2=x(r),ee=x(r+4);r+=8;var hF=x(r);r+=4;if(hF!=0)throw hF;var ic=x(r);r+=4;var eH=H(r)[0];
r+=2+2+eH.length+3;o={file:jz,id:cA,$I:eH}}else if(E=="string")o=H(r)[0];else if(E=="relEnt"){var kz=I(r);
r+=2;o=[];for(var O=0;O<kz;O++)o.push([d(r+O*8),L(d(r+O*8+4),q)])}else if(E=="textData"){var m=r+p,kq=d(r);
r+=4;var i0=d(r);r+=4;var cd=I(r);r+=2;var a7=[];for(var O=0;O<cd;O++){var i6=d(r);r+=4;if(kq==514)a7.push(H(r,!0)[0]);
else if(kq==515){var hm=d(r),N=d(r+4),bB=T(r+8,q);a7.push([hm,L(N,q),bB])}else if(kq==516){var hm=d(r),N=d(r+4),iV=I(r+8),bB=T(r+8,q);
a7.push([hm,L(N,q),bB])}else a7.push(F.slice(r,r+i6));r+=i6}if(m-r!=12)throw m-r;o=a7}else if(E=="storyProps"){var eO=r;
if(I(eO+4)>1)throw"e";var cd=d(eO+10);o={apf:d(eO),asi:L(d(eO+6),q),KO:g(eO+14,cd,q),aBK:L(d(eO+14+cd*4),q)}}else if(E=="styleProps")o=T(r,q);
else if(E=="bounds"){var eO=r,kz=d(r);r+=4;o=[];for(var O=0;O<kz;O++){var aC=[];o.push(aC);for(var iA=0;
iA<4;iA++)aC.push(c(r+iA*8));r+=32;aC.push(F[r]);r++}if(r!=eO+p)throw"e"}else if(E=="columnPos"){var kz=d(r);
r+=4;o=[z(r,kz),c(r+kz*8)];r+=kz*8+8}else if(E=="StyleName"){o=[d(r+4)]}else if(E=="fontName"){var m=r+p;
o=[I(r)];r+=2;if(o[0]==2){r=m}else if(o[0]==3){for(var O=0;O<2;O++){if(I(r+3)==0){r+=7;continue}var jz=H(r);
r=jz[1];o.push(jz[0])}var fq=d(r);r+=4;if(fq==0){r=m}else{var jz=H(r);r=jz[1];o.push(jz[0]);var jz=H(r);
r=jz[1];o.push(jz[0]);var jz=H(r);r=jz[1];o.push(jz[0]);r+=10}r=m}else{if(o[0]!=1&&o[0]!=4)throw o[0];
for(var O=0;O<2;O++){var jz=H(r);r=jz[1];o.push(jz[0])}var bX=I(r),gb=I(r+2);r+=4;o.push(bX);var fq=I(r);
r+=2;o.push(fq);var dX=I(r);r+=2;var cb=[];o.push(cb);for(var e6=0;e6<dX;e6++){var gn=[];cb.push(gn);
var jz=H(r);r=jz[1];gn.push(jz[0]);var a2=I(r);if(a2<256){r+=2;var jz=P.BW(F,r,a2);r+=a2;gn.push(jz)}else{var jz=H(r);
r=jz[1];gn.push(jz[0])}for(var O=0;O<3;O++){var jz=H(r);r=jz[1];gn.push(jz[0])}var kf=d(r);gn.push(kf);
r+=4;if(d(r)>65535)k=!1;if(!k)continue;var jz=H(r,!0);r=jz[1];gn.push(jz[0])}o.push(d(r));r+=4}if(r!=m)throw"e"}else throw E;
if(A[e]!=null){console.log(e,A[e],o);console.log(q.slice(0));console.log(eid,N,r,A[e],f,o);throw"e"}A[e]=o}else{var dj=F.slice(r,r+p);
A["prop-"+N]=dj}q.pop()}function T(r,N){var s=I(r);r+=2;var A={};for(var O=0;O<s;O++){var p=d(r);r+=4;
var q=p.toString(16),f=I(r);r+=2;var e=I(r);r+=2;for(var o=0;o<e;o++){var E=d(r);r+=4;var cj=I(r);r+=2;
b(q,h,A,r,cj,N);r+=cj}}return A}function a(N){l=!0;k=!0;F=new Uint8Array(N);v=J();var s=v[2147483649];
s=P.qV(s,4,s.length-4);delete v[2147483649];n=0;for(var A in v)n=Math.max(n,parseInt(A));G=[];var p={};
for(var A in v)p[A]=v[A];var q=v[1];if(q[0]==0)l=!1;for(var A in v)L(parseInt(A),[]);return v}function R(N){N=N.split(" ").join("");
return N[0].toLowerCase()+N.slice(1)}var D={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"118":["","uint"],"119":["bitmap","uint"],"117":["","uint"],"117:Page:50f":["color","pntr"],"117:Fill:1f05":["parentFill","pntr"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],a6b:["trapPreset","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"205":["columns","ptrAndList"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"154":["rect","rect"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"51a":["margins","mrct"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"140f":["mTransform","mmat"],"14527":["transform","mat"],"528":["columnPos","columnPos"],"261":["relEnt","relEnt"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"3e05":["name","fontName"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArray2"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"2c6b":["bounds","bounds"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["textFrames","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},h={"1b01":["fillColor","pntr"],"1b02":["fontStyle","string"],"1b03":["FontSize","doub"],"1b11":["FontCaps","usrt"],"1b16":["StartIndent","doub"],"1b17":["EndIndent","doub"],"1b18":["FirstLineIndent","doub"],"1b1b":["leading","doub"],"1b26":["SpaceBefore","doub"],"1b27":["SpaceAfter","doub"],"1b2a":["Underline","bool2"],"1b2b":["font","pntr"],"1b3c":["FontBaseline","usrt"],"1b3d":["Strikethrough","bool2"],"1b7e":["align","usrt"]},K={mat:48,mrct:34,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2,usrt:2},X={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Drop Shadow","1081b":"Drop Shadow DX","1081c":"Drop Shadow DY","1081e":"Drop Shadow Opacity","1081f":"Drop Shadow BMode","10820":"Drop Shadow Size","10837":"Drop Shadow Color","1084d":"Inner Shadow","1084e":"Inner Shadow Color","1084f":"Inner Shadow BMode","10850":"Inner Shadow Opacity","10851":"Inner Shadow Angle","10852":"Inner Shadow Dist","10855":"Inner Shadow Size","10857":"Oglow","10858":"Oglow BMode","10859":"Oglow Opacity","1085b":"Oglow Color","1086d":"Oglow Choke","1085e":"Oglow Size","1085f":"Iglow","10860":"Iglow BMode","10861":"Iglow Opacity","10863":"Iglow Color","10865":"Iglow Choke","10866":"Iglow Size","10868":"Bevel","1086b":"Bevel Depth","1086d":"Bevel Size","1086f":"Bevel Angle","10870":"Bevel Alt","10872":"Bevel ColorH","10873":"Bevel BModeH","10874":"Bevel OpacityH","10875":"Bevel ColorS","10875":"Bevel BModeS","10877":"Bevel OpacityS","10878":"Satin","10879":"Satin Color","1087a":"Satin BMode","1087b":"Satin Opacity","1087c":"Satin Angle","1087d":"Satin Dist","1087e":"Satin Size","1087f":"Satin Invert","10821":"Basic Feather","10822":"Basic Feather Width","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length","14534":"name"},w={e01:"Document","301":"RESpread","236":"REParStyle","302":"Layer","401":"Group","501":"Spread","50f":"Page","227":"Column","201":"Story","205":"Style","263":"TextFrame",a32:"Trapping","1f05":"Fill","3e03":"Font","6201":"Path",ca18:"StoryText"};
return a}();function ju(){}ju.CO=function(){var F=0;function r(x,U){var S=hj.CO(x),a=1;F=0;var z=S[1],V=z.spreads,t=[],Y=new cS;
for(var i=0;i<V.length;i++){var J=V[i],H=J.children;if(H==null)continue;var v=H.KO,n=C(J),G=v[0].children.KO,g=new cS;
for(var W=0;W<G.length;W++){var L=G[W],b=C(L);b.concat(n);var T=$(L);T.offset(b.P6,b.jw);T=j.b.LY(T);
g=g.DM(T)}t.push(g);Y=Y.DM(g)}while(Math.sqrt(Y.C())*a<1e3)a++;while(Y.C()*a*a*4>2e9)a/=2;U.r=Y.r*a;
U.$=Y.$*a;U.buffer=new Uint8Array(4*U.r*U.$);U.Zp=!0;U.YV=Math.round(72*a);U._R(V.length);for(var i=0;
i<V.length;i++){var J=V[i],H=J.children;if(H==null)continue;var v=H.KO,R=U.at();R.U4=24;R.add.lsct=jR.ul;
R.Da("Artboard "+(i+1));var D=t[i].P();D.offset(-Y.x,-Y.y);D.x*=a;D.y*=a;D.r*=a;D.$*=a;D=j.b.LY(D);R.HD(D);
R.ww="pass";U.u.push(U.fm());var n=C(J);n.translate(-Y.x,-Y.y);n.scale(a,a);var h={};for(var K=0;K<v.length-1;
K++){var X=v[K],w=X.children;if(w==null)continue;w=w.KO;var N=U.at(),s=X.layer;if(s==null)continue;var A=s.lopts;
if(A.name=="Internal_pages_layer_name"||h[A.name])continue;h[A.name]=!0;N.U4=24;N.add.lsct=jR.ul;N.Da(A.name);
N.Gj(A.show);if(A.a0X)N.add.lspf=1<<31;N.ww="pass";U.u.push(U.fm());for(var O=0;O<w.length;O++)I(w[O],U,n,S);
U.u.push(N)}U.u.push(R)}}function $(x){var U=x.rect;return new cS(U[0],U[1],U[2]-U[0],U[3]-U[1])}function C(x){var U=x.transform;
if(U==null)U=new hS;return new hS(U[0],U[1],U[2],U[3],U[4],U[5])}function M(x){var U=x.color,S=x.parentFill,V;
if(U==null&&S)U=S.color;if(U==null){console.log("strange color",x);return[0,0,0]}var z=U[0];if(z==5)V=U.slice(1);
else if(z==6)V=UDOC.C.cmykToRgb(U.slice(1));else if(z==7){var t=j.dW(U[1],U[2],U[3]);V=[t.t/255,t.L/255,t.X/255]}else if(z==9)V=[U[1],U[1],U[1]];
else if(z==14){V=U.slice(1);console.log("unsure about the color")}else{console.log(U);throw z}return V}function l(x){var U=M(x);
return j.qS.NG({t:U[0]*255,L:U[1]*255,X:U[2]*255})}function k(x){return"norm,mul ,scrn,over,sLit,hLit,div ,idiv,dark,lite,diff,smud,hue ,sat ,colr,lum ".split(",")[x]}function d(x,U){var O=0,S=0;
while(x[O+1]&&S+x[O][0]<=U){S+=x[O][0];O++}x=x[O][1].textData;O=0;while(x[O+1]&&S+x[O][0]<=U){S+=x[O][0];
O++}return x[O]}function I(x,U,S,z){var V=x.transform?C(x):new hS;V.concat(S);var t=x.path,Y=x.appearance,i=x.visible,J=x.children?x.children.KO:null,H=U.at();
if(i!=null)H.Gj(i);var v=J&&J.length==1&&J[0].bitmapFill,n=x["bool2-1623"]&&J&&J.length==1&&J[0].rect&&J[0]._type.startsWith("TextFrame");
if(v){H.Da("bitmap");var G=J[0],g=$(G),W=C(G),R=null;W.concat(V);var L=G.bitmapFill.bitmap;L=z[L]._bin;
if(L.length!=L.buffer.byteLength)L=L.slice(0);if(L[0]==123){console.log("unknown bitmap format");return}var b=U.eM(L,"img.jpg",0,0);
b.U4=H.U4;H=b;var T=[0,0,g.r,0,g.r,g.$,0,g.$];j.b.U(T,W,T);H.add.SoLd.Trnf=B.hL._V(T);H.add.SoLd.nonAffineTransform=B.hL._V(T);
H.d7(U,!1);var a=G.path;if(a&&a.length!=0)R=Q(a,W,Y);else if(t&&t.length!=0)R=Q(t,V,Y);if(R){var D=j.w.t8(R.M),h=j.b.sY(T);
if(D.C()/h.R7(D).C()>1.1){if(D.contains(h))R=null;var K=x.children;x.children=null;I(x,U,S,z);x.children=K}}if(R)H.add.vmsk=R;
H.ud();H.uH(U)}else if(n){if(Y&&Y.strokeSwatch){var X=U.at();c(X,U,Y,t,V);U.u.push(X)}var w=J[0],g=$(w),W=C(w),iA=0;
W.concat(V);var N=w.children.KO[0],s=N.obj228,A=s[0].story[1],p=A.stoProps.asi.relEnt,q=A.stoProps.KO[0].relEnt,f=A.stoProps.KO[1]["ptrArrayX-210"][0].textData,e=z[p[0][1].textData[0][1].name[0]],o=e?e.styProps:{};
f=f.join("").replace(/\r/g,"\n");var E=-1;while((E=f.indexOf("\uFFFC"))!=-1){f=f.slice(0,E)+(f[E-1]=="\n"?" ":" ")+f.slice(E+1)}H.Da(f.slice(0,255));
H.add.lnsr="rend";H.add.TySh=ho.DB(0,0);H.add.TySh.xa=g;H.add.TySh.U=W;var cj=H.add.TySh.$E;ho.uy(cj,0,f);
var u=ho.RT(cj,0,f.length);u.Uz.FontSize=10;ho.WE(cj,0,f.length,u);var cd=[];if(f.length!=0){var m=d(p,0),aZ=d(q,0),jN=1;
for(var O=1;O<f.length;O++){var t=d(p,O),eh=d(q,O);if(t!=m||eh!=aZ){cd.push(jN);jN=0}m=t;aZ=eh;jN++}if(jN!=0)cd.push(jN)}for(var O=0;
O<cd.length;O++){var hd=d(q,iA),kx=cd[O],b0=Math.min(iA+kx,f.length-1),gX=hd[2],j$=hd[1]?hd[1].styProps:null;
if(j$==null)j$={};var i0=d(p,iA),f7=i0[1].styProps,am=i0[2],gf={};for(var cC in o)gf[cC]=o[cC];for(var cC in f7)gf[cC]=f7[cC];
for(var cC in am)gf[cC]=am[cC];for(var cC in j$)gf[cC]=j$[cC];for(var cC in gX)gf[cC]=gX[cC];gf.FontCaps=gf.FontCaps&3;
var u=ho.RT(cj,iA,b0),aD=["FontSize","FontCaps","Underline","Strikethrough","FontBaseline"],c_=aD.concat(["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"]);
for(var a9=0;a9<c_.length;a9++){var cC=c_[a9],jz=a9<aD.length?u.Uz:u.jv;if(gf[cC]!=null)jz[cC]=gf[cC]}if(gf.fillColor){var g3=M(gf.fillColor);
u.Uz.FillColor={Type:1,Values:[1].concat(g3)}}if(gf.font){var e3=gf.font.name[5],c1=gf.fontStyle;if(c1==null)c1="Regular";
if(e3)for(var dI=0;dI<e3.length;dI++)if(e3[dI][0]==c1)ho.jl(u,e3[dI][1])}if(gf.leading!=null&&gf.leading>1){u.Uz.Leading=gf.leading;
u.Uz.AutoLeading=!1}if(gf.align!=null)u.jv.Justification=[0,2,1,6,3,5,4,0,0,0][gf.align];ho.WE(cj,iA,b0,u);
iA+=kx}ho.s2(cj,1);ho.SB(cj,[0,0,Math.round(g.r),Math.round(g.$)])}else if(x._type.startsWith("Path")&&(J==null||J.length==0)&&t){c(H,U,Y,t,V)}else{var kJ=x["prop-14526"];
if(J==null&&kJ){var cA=z[P.cA(kJ,20)];J=[cA]}if(J){if(t&&t.length!=0){H.add.vmsk=Q(t,V,Y);H.ud();H.uH(U)}H.Da("group");
H.U4=24;H.add.lsct=jR.ul;U.u.push(U.fm());for(var O=0;O<J.length;O++)if(J[O])I(J[O],U,V,z)}}if(Y){var c2=Y.objectBlendingMode,ee=Y.objectOpacity,hF=Y.fillTint,eH=!1;
if(c2)H.ww=k(c2[0]);if(ee)H.gk=Math.round(H.gk*ee[0]/100);if(!v&&hF)H.gk=Math.round(H.gk*hF[0]/100);
var ic=JSON.parse(cK.default);for(var O=0;O<cK.order.length;O++)ic[cK.Zb[O]]={t:"VlLs",v:[]};var kz="dropShadow innerShadow satin bevel iglow oglow".split(" "),kq="DrSh IrSh ChFX ebbl IrGl OrGl".split(" ");
for(var O=0;O<kz.length;O++){var a7=kz[O];if(Y[a7]&&Y[a7][0]){var i6=Y[a7],bB=135,iV=10;eH=!0;var hm=JSON.parse(cK.sH[cK.order.indexOf(kq[O])]);
ic[cK.Zb[cK.order.indexOf(kq[O])]].v.push({t:"Objc",v:hm});if(Y[a7+"Color"])hm.Clr.v=l(Y[a7+"Color"][0]);
else if(kz[O]=="iglow"||kz[O]=="oglow")hm.Clr.v=j.qS.NG({t:255,L:255,X:255});if(Y[a7+"ColorH"])hm.hglC.v=l(Y[a7+"ColorH"][0]);
if(Y[a7+"ColorS"])hm.sdwC.v=l(Y[a7+"ColorS"][0]);if(Y[a7+"BMode"])hm.Md.v.BlnM=dL.Yy(k(Y[a7+"BMode"][0]));
if(Y[a7+"BModeH"])hm.hglM.v.BlnM=dL.Yy(k(Y[a7+"BModeH"][0]));if(Y[a7+"BModeS"])hm.sdwM.v.BlnM=dL.Yy(k(Y[a7+"BModeS"][0]));
if(Y[a7+"Opacity"])hm.Opct.v.val=Y[a7+"Opacity"][0];if(Y[a7+"OpacityH"])hm.hglO.v.val=Y[a7+"OpacityH"][0];
if(Y[a7+"OpacityS"])hm.sdwO.v.val=Y[a7+"OpacityS"][0];if(Y[a7+"Size"])hm.blur.v.val=Y[a7+"Size"][0];
if(Y[a7+"Angle"])bB=Y[a7+"Angle"][0];if(Y[a7+"Dist"])iV=Y[a7+"Dist"][0];if(Y[a7+"DX"]){var eO=Y[a7+"DX"][0],aC=Y[a7+"DY"]?Y[a7+"DY"][0]:0;
iV=Math.round(Math.sqrt(eO*eO+aC*aC));bB=Math.round(Math.atan2(aC,-eO)*180/Math.PI)}if(hm.lagl)hm.lagl.v.val=bB;
if(hm.Dstn)hm.Dstn.v.val=iV;if(hm.uglg)hm.uglg.v=!1;if(Y[a7+"Invert"])hm.Invr.v=Y[a7+"Invert"][0];else if(kz[O]=="satin")hm.Invr.v=!1;
if(Y[a7+"Alt"])hm.Lald.v.val=Y[a7+"Alt"][0];if(Y[a7+"Depth"])hm.srgR.v.val=Y[a7+"Depth"][0];if(Y[a7+"Choke"])hm.Ckmt.v.val=Y[a7+"Choke"][0]}}if(eH)H.add.lmfx=ic}if(x.name)H.Da(x.name);
else if(Y&&Y.name)H.Da(Y.name[0]);U.u.push(H)}function c(x,U,S,z,V){x.Da("path");x.U4|=16;x.add.vmsk=Q(z,V,S);
var t=x.add.vstk=cK.Ok.Mv(),Y=j.qS.NG({t:0,L:0,X:0});if(S){var i=S.strokeSwatch,J=S.fillSwatch,H=S.basicFeather,v=S.basicFeatherWidth,n=S.strokeWeight;
t.strokeEnabled.v=i!=null;t.fillEnabled.v=J!=null;if(H)x.add.vmsk.nN=v?v[0]:9;if(i){t.strokeStyleLineWidth.v.val=n?n[0]:1;
Y=l(i[0]);t.strokeStyleContent.v.Clr.v=Y}if(J){Y=l(J[0])}}if(Y)x.add.SoCo={classID:"null",Clr:{t:"Objc",v:Y}};
x.ud();x.uH(U)}function Q(x,U,S){var z=new Z.kf,V=z.M;for(var t=0;t<x.length;t++){var Y=x[t],i=Y[0].length,J=Y[1]==0;
if(i==0)continue;var H=J?0:3;V.push({I:H,length:i,ea:0,VW:2,c5:0,QS:0});for(var O=0;O<i;O++){var v=Y[0][O],n=v[0],G=new hx(v[1],v[2]),g=new hx(v[3],v[4]),W=new hx(v[5],v[6]);
if(n==0||n==1)V.push({I:H+2,ni:G,Z:g,Pj:W});else if(n==2)V.push({I:H+2,ni:G,Z:G,Pj:G});else throw n}}j.w.J_(V,U);
return z}return r}();function iX(){}iX.Ik=async function(F,r,$){if($==null){$=8*1024*1024}var C=await F.slice(r,r+$),M=await C.arrayBuffer();
return new Uint8Array(M)};iX.ax3=function(F,r){var $=F[r],C=$,M=1;while(!($&128)){++M;$=$<<1&255}$&=127;
$>>>=M-1;for(var O=1;O<M;++O){var l=F[r+O];$*=256;$+=l;C*=256;C+=l}return[$,M,C]};iX.Dm=function(F,r,$){var C=F[r],M=C&128,l=C&127;
for(var O=1;O<$;++O){M*=256;l*=256;l+=F[r+O]}return l-M};iX.dj=function(F,r,$){var C=F[r];for(var O=1;
O<$;++O){C*=256;C+=F[r+O]}return C};iX.aew=function(F){var r=1,$=iX.dj(F,r,1),c="hvc1",x=0,U=!1,S="";
r+=1;var C=$>>6,M=($&32)>>5,l=$&31,k=iX.dj(F,r,4);r+=4;var d=F.slice(r,r+6);r+=6;var I=iX.dj(F,r,1);
c+=".";switch(C){case 0:c+="";break;case 1:c+="A";break;case 2:c+="B";break;case 3:c+="C";break}c+=l;
c+=".";var Q=k;for(var O=0;O<32;O++){x|=Q&1;if(O==31)break;x<<=1;Q>>=1}c+=x.toString(16);c+=".";if(M===0){c+="L"}else{c+="H"}c+=I;
for(O=5;O>=0;O--){if(d[O]||U){S="."+d[O].toString(16)+S;U=!0}}c+=S;return c};iX.NK=function(F,r){this.k1=!1;
this.U1=F;this.position=0;this.X3=[];this.OC=[];this.g5=[];this.Mt=[];this.u5=!0;this.adb=0;this.l0=10;
this.yN=6;this.Ma=[];this.nD=-2;this.xd=[];this.pB;this.A5;this.K6=r;this.NW;this.xZ;this.a0k=-1;this.frames;
this.l1=null;this.Ta=null;this.fq=null};iX.NK.KK=async function(){if(!this.k1){await this.AA()}return this.ib};
iX.NK.oN=function(F){var r=this.OC[this.position],$;if(this.u5&&r==this.adb)this.u5=!1;if(!this.K6){if(this.g5[r]){this.A5.drawImage(F,0,0);
$=this.A5.getImageData(0,0,this.ib.rY.width,this.ib.rY.height).data}if(this.Mt[this.position]==0)F.close()}try{if(this.X3[r]){if(this.K6){this.X3[r](F)}else if(this.g5[r]){this.X3[r]($)}}var C=this.position-this.l0;
if(C>=0){var M=this.OC[C];delete this.Js[M];delete this.X3[M];this.g5[M]=!1}this.position++}catch(ac){console.log(r);
console.log(this.X3[r]);console.log(ac)}};iX.NK.XL=async function(F){if(this.Mt[this.position]==0){if(this.K6){createImageBitmap(F).then(img=>{this.oN(img)});
F.close()}else{this.oN(F)}}else{var r=this.Mt[this.position];createImageBitmap(F,{resizeWidth:F.atz>>r,resizeHeight:F.aBe>>r}).then(img=>{this.oN(img)});
F.close()}};iX.NK.fx=async function(F,r,bq=0){if(!this.k1){await this.AA()}if(!this.Ta){await this.awg();
if(this.Ta.state!="configured"){console.log("Could not make decoder.");return}}if(this.NW.length<=F){console.log("Requested track does not exist");
return}var $=this.NW[F],l,k,d;if(r>=this.ib.rY.w4||r<0){console.log("Requested frame out of range");
return}var C=r;r=this.T4(r);this.g5[r]=!0;var M=r-this.nD;if(this.u5){M=1;this.adb=r}if(r!=this.nD+1){k=this.Ma[this.Ma.length-1];
for(var O=0;O<this.Ma.length;++O){if(r<this.Ma[O]){k=this.Ma[O-1];break}}if(k==this.a0k){if(r>this.OC[this.OC.length-1]){k=this.OC[this.OC.length-1]+1}else if(this.Js[r.toString()]){k=this.OC[this.OC.length-1]+1}else{for(var O=this.OC.length-this.yN;
O<this.OC.length;++O){if(this.OC[O]==r){k=this.OC[this.OC.length-1]+1;break}}}}else{this.a0k=k;for(var O=this.OC.length-this.yN;
O<this.OC.length;++O){if(this.OC[O]==r){k=this.OC[this.OC.length-1]+1;break}}}}else{k=0;if(this.OC.length>0){k=this.OC[this.OC.length-1]+1}}if(k<this.frames){d=Math.min(r+this.yN,this.frames);
for(var O=k;O<d;++O){this.Js[O]=new Promise(function(I,c){l=I});this.X3[O]=l;this.OC.push(O);this.Mt.push(bq);
if((O-r)%M==0)this.g5[O]=!0}this.apL($,k,d)}this.nD=r;if(this.u5)await new Promise(resolve=>setTimeout(resolve,200));
if(this.u5){this.l0+=10;this.yN+=6;this.fx(F,C+1,bq)}return this.Js[r.toString()]};var db=function(F){function r(k,d){var I=[];
for(var O=0;O<9;O++){var c=P.dj(k,d+O*4);if(O%3==2)I.push((c>>>30)+(c&1073741823)/1073741823);else I.push((c>>>16)+(c&65535)/65535)}return I}async function $(k,d,I,c,Q,x){var U={},S=P.dj,z=P.G2;
if(d==null){d=await iX.Ik(k,I)}var V=c-I;while(c<Q){var t=V,Y=P.dj(d,V);V+=4;var i=P.BW(d,V,4);V+=4;
if(Y==0)Y=Q-t-I;if(Y==1){Y=P.Zq(d,V);V+=8}var J=t+Y,H="".padStart(x,"\t");if(i!="mdat"&&J>d.byteLength){d=await iX.Ik(k,I,J)}var v={};
if(i=="mvhd"){var n=d[V];if(n>1)throw i+"-e";V+=4;if(n==0){v.zP=S(d,V);V+=4;v.FA=S(d,V);V+=4;v.Xu=S(d,V);
V+=4;v.duration=S(d,V);V+=4}else{v.zP=P.Zq(d,V);V+=8;v.FA=P.Zq(d,V);V+=8;v.Xu=S(d,V);V+=4;v.duration=P.Zq(d,V);
V+=8}v.jH=S(d,V);V+=4;v.volume=z(d,V);V+=2;V+=10;v.a0x=r(d,V);V+=4*9;v.aiD=[];for(var O=0;O<6;O++)v.aiD.push(S(d,V+O*4));
V+=4*6;v.ahe=S(d,V);V+=4}else if(i=="tkhd"){var n=d[V];if(n>1)throw i+"-e";V+=4;if(n==0){v.zP=S(d,V);
V+=4;v.FA=S(d,V);V+=4;v.aqI=S(d,V);V+=4;V+=4;v.duration=S(d,V);V+=4}else{v.zP=P.Zq(d,V);V+=8;v.FA=P.Zq(d,V);
V+=8;v.aqI=S(d,V);V+=4;V+=4;v.duration=P.Zq(d,V);V+=8}V+=8;v.z=z(d,V);V+=2;v.a6a=z(d,V);V+=2;v.volume=z(d,V);
V+=2;V+=2;v.a0x=r(d,V);V+=4*9;v.a0=S(d,V)>>>16;V+=4;v.Y9=S(d,V)>>>16;V+=4}else if(i=="mdhd"){var n=d[V];
if(n>1)throw i+"-e";V+=4;if(n==0){v.zP=S(d,V);V+=4;v.FA=S(d,V);V+=4;v.Xu=S(d,V);V+=4;v.duration=S(d,V);
V+=4}else{v.zP=P.Zq(d,V);V+=8;v.FA=P.Zq(d,V);V+=8;v.Xu=S(d,V);V+=4;v.duration=P.Zq(d,V);V+=8}v.lang=z(d,V);
V+=2;v.zC=z(d,V);V+=2}else if(i=="hdlr"){var G=S(d,V);V+=4;if(G!=0)throw G;v.wV=P.BW(d,V,4);V+=4;v.ayI=P.BW(d,V,4);
V+=4;v.avs=S(d,V);V+=4;v.U4=S(d,V);V+=4;v.adu=S(d,V);V+=4;var g=V;while(d[g]!=0)g++;v.name=P.BW(d,V,g-V);
V+=g-V+1}else if(i=="stsd"){var G=S(d,V);V+=4;if(G!=0)throw G;var W=S(d,V);V+=4;if(W!=1)throw W;var L=S(d,V);
V+=4;v.Jz=P.BW(d,V,4);V+=4;if(v.Jz=="mett"){v.azI=P.BW(d,V,J-V)}else{for(var O=0;O<6;O++)if(d[V+O]!=0)throw i+"-e";
V+=6;v.aJB=z(d,V);V+=2;v.adt=z(d,V);V+=2;v.aif=z(d,V);V+=2;v.acC=S(d,V);V+=4;if("mp4v,avc1,encv,s263,vp09,hvc1,hev1,apcn,raw ,rle ".split(",").indexOf(v.Jz)!=-1){v.aaz=S(d,V);
V+=4;v.ags=S(d,V);V+=4;v.ab5=[z(d,V),z(d,V+2)];V+=4;v.aFk=[S(d,V)/(1<<16),S(d,V+4)/(1<<16)];V+=8;var b=S(d,V);
V+=4;if(b!=0)throw i+"-e";var T=z(d,V);V+=2;if(T!=1)throw i+"-e";var a=d[V];V++;v.aqX=P.BW(d,V,a);V+=31;
v.aAX=z(d,V);V+=2;var R=z(d,V);V+=2;if(R!=65535)throw i+"-e";if(V!=J)v.Na=await $(k,d,I,I+V,I+J,x+1)}else if("mp4a enca samr sawb ec-3 ac-3 lpcm".split(" ").indexOf(v.Jz)!=-1){v.Bs=z(d,V);
V+=2;v.asx=z(d,V);V+=2;var D=z(d,V);V+=2;if(D!=0&&D!=65534)throw D;var h=z(d,V);V+=2;if(h!=0)throw h;
v.apt=S(d,V)/(1<<16);V+=4;if(V!=J)v.Na=await $(k,d,I,I+V,I+J,x+1)}else if(v.Jz=="CTMD"){v.Y=d.slice(V,J)}else if(v.Jz=="tx3g"||v.Jz=="text"||v.Jz=="mebx"){}else if(v.Jz=="tmcd"){}else if(v.Jz=="CRAW"){}else if(v.Jz=="sowt"){}else throw JSON.stringify(v.Jz)}}else if(i=="stts"||i=="stsz"||i=="stco"||i=="stsc"||i=="ctts"||i=="elst"){var G=S(d,V),K=0,N=0;
V+=4;if(i=="stsz"){K=S(d,V);V+=4}var X=S(d,V)*(i=="stsc"||i=="elst"?3:i=="stts"||i=="ctts"?2:1);V+=4;
v=[];for(var O=0;O<X;O++){if(K!=0)v.push(K);else{if(i=="elst"){if(O%3==2){var w=S(d,V);w*=1/(1<<16);
v.push(w)}else v.push(P.Dm(d,V))}else v.push(S(d,V));V+=4}}for(var O=0;O<X;O++)N+=v[O]}else if(i=="co64"){var G=S(d,V);
V+=4;if(G!=0)throw G;var X=S(d,V);V+=4;v=[];for(var O=0;O<X;O++){v.push(P.Zq(d,V));V+=8}}else if(i=="iinf"){v=[];
V+=2;var s=S(d,V);V+=4;for(var O=0;O<s;O++){var A=S(d,V),p=P.BW(d,V+4,4),q=z(d,V+12),f=P.BW(d,V+16,4),t=[p,q,f];
v.push(t);if(A>21)t.push(P.BW(d,V+21,A-22));V+=A}}else if("moov trak mdia minf dinf stbl uuid edts meta iprp".split(" ").indexOf(i)!=-1){if(i=="uuid")V+=16;
if(i=="meta")V+=4;v=await $(k,d,I,I+V,I+J,x+1)}else if(i=="CMT1"||i=="CMT2"||i=="CMT3"||i=="CMT4"){v=UTIF.decode(d.slice(V,J))}else if(i=="stss"){v.p=V+I;
v._9=Y;v.a0h=S(d,V+4)}else{v.p=V+I;v._9=Y}V=J;if(i=="trak"||i=="free"||i=="uuid"){if(U[i]==null)U[i]=[];
U[i].push(v)}else{if(U[i]!=null)throw i;U[i]=v}c=V+I;if(V>=d.byteLength){I+=V;V=0;d=await iX.Ik(k,I)}}return U}async function C(k){return await $(k,null,0,0,k.size,0)}function M(k,d){var I=k.mdia.minf.stbl,c=I.stsc,Q=0,x=0;
for(var O=0;O<c.length;O+=3){var U=(O+3<c.length?c[O+3]:1e4)-c[O],S=x+U*c[O+1];if(x<=d&&d<S){while(x+c[O+1]<=d){Q++;
x+=c[O+1]}break}Q+=U;x=S}var z=I.stco;if(z==null)z=I.co64;var V=z[Q];while(x<d){V+=I.stsz[x];x++}return[V,I.stsz[d]]}function l(k,d){var I=k.moov.trak,c=[];
for(var O=0;O<I.length;O++){if(I[O].mdia.hdlr.ayI==d){c.push(I[O])}}return c}return{CO:C,m6:M,getTracks:l}}();
function ds(F,r){iX.NK.call(this,F,r);this.KK=iX.NK.KK;this.oN=iX.NK.oN;this.XL=iX.NK.XL;this.fx=iX.NK.fx;
this.fU;this.aFM=0;this.rw=0;this.hX=0;this.mi=null}ds.prototype.T3=function(F){this.xd.push(F)};ds.prototype.aqU=function(F,O){var r=0,$=F.getUint8(O,!1);
O+=1;r=$&127;var C=$>>7;while(C==1){$=F.getUint8(O,!1);O+=1;C=$>>7;var M=$&127;r=r<<7|M}return[r,O]};
ds.prototype.aBm=function(F){this.pa={};var r=new DataView(F.buffer),O=4;O+=4;while(O<r.byteLength){var $=r.getUint8(O,!1);
O+=1;var C=this.aqU(r,O),M=C[0];O=C[1];if($==3){O+=2;O+=1}else if($==4){this.pa.objectType=r.getUint8(O,!1);
O+=1;this.pa.streamType=r.getUint8(O,!1)>>2;O+=1;O+=3;this.pa.maxBitrate=r.getUint32(O,!1);O+=4;this.pa.avgBitrate=r.getUint32(O,!1);
O+=4}else if($==5){this.pa.decoderSpecificInfo=F.slice(O,O+M);O+=M}else{O+=M}}};ds.prototype.aw1=function(F){var r=null,l=0;
if(F.avX){if(F.edts.aaS)r=F.edts.aaS}if(r==null){this.l1=this.frames;return}var $=this.j8.moov.mvhd.Xu,C=F.mdia.mdhd.Xu,M=F.mdia.mdhd.duration*1e3/C/this.py.stsz.length;
this.mi=[];for(var O=0;O<r.length;O+=3){var k;if(r[O+1]==-1)k=-1;else k=r[O+1]*1e3/M/C;var bn=r[O]*1e3/M/$;
this.mi.push(l);this.mi.push(Math.floor(k));this.mi.push(r[O+2]);l+=Math.floor(bn)}this.l1=l;if(this.T4(this.l1-1)>this.frames-1)this.l1--;
if((l+1)*M<F.tkhd.duration*1e3/$){this.mi.push(l);this.mi.push(0);this.mi.push(1);this.l1=Math.floor(F.tkhd.duration*1e3/$/M)}};
ds.prototype.T4=function(F){if(this.mi){for(var O=this.mi.length-3;O>=0;O-=3){if(F>=this.mi[O]){if(this.mi[O+1]==-1)F=this.nD;
else if(this.mi[O+2]==0)F=this.mi[O+1];else F=F-this.mi[O]+this.mi[O+1];break}}}return F};ds.prototype.awg=async function(){this.Ta=new VideoDecoder({output:cR=>this.XL(cR),error:function(C){console.log(C.message)}});
var F=this.py.stsd.Jz;if(F=="avc1"){this.Xd=this.py.stsd.Na.avcC;var r={codec:"avc1.640034"};r.description=new Uint8Array(await this.U1.slice(this.Xd.p,this.Xd.p+this.Xd._9).arrayBuffer());
this.Ta.configure(r)}else if(F=="hev1"||F=="hvc1"){var r={};this.tR=this.py.stsd.Na.hvcC;r.description=new Uint8Array(await this.U1.slice(this.tR.p,this.tR.p+this.tR._9).arrayBuffer());
var $=iX.aew(r.description);r.codec=$;r.codedWidth=this.ib.rY.width;r.codedHeight=this.ib.rY.height;
this.Ta.configure(r)}else{var r={codec:"vp09.00.10.08"};this.Ta.configure(r)}};ds.prototype.arU=async function(){this.fq=new AudioDecoder({output:cR=>this.T3(cR),error:function(F){console.log(F)}});
console.assert(await AudioDecoder.isConfigSupported(this.gq));this.fq.configure(this.gq)};ds.prototype.AA=async function(){this.j8=await db.CO(this.U1);
this.a8l={};this.Js={};this.NW=db.getTracks(this.j8,"vide");var F=!0,I=!0;if(this.NW.length>0){var r=this.NW[0],$=r.tkhd;
this.py=r.mdia.minf.stbl;var C=this.py.stsd.Jz;if(C=="avc1"||C=="vp09"||C=="hvc1"||C=="hev1"){if(C=="avc1"&&!this.py.stsd.Na.avcC||(C=="hvc1"||C=="hev1")&&!this.py.stsd.Na.hvcC){console.log(C+" video codec not supported (avcC missing).");
F=!1}else{await this.a13(this.py.stss.p+8,this.py.stss._9-8);for(var O=0;O<this.adg.byteLength;O+=4){var M=this.adg.getUint32(O,!1)-1;
this.Ma.push(M)}var l=r.mdia.mdhd.Xu,k=r.mdia.mdhd.duration/l;this.frames=this.py.stsz.length;var d=this.frames/k;
this.aw1(r)}}else{console.log(C+" video codec not supported.");F=!1}}this.xZ=db.getTracks(this.j8,"soun");
if(this.xZ.length>0){var c=this.xZ[0],Q=c.mdia.minf.stbl,x,U=Q.stsd.Bs;if(Q.stsd.Jz=="mp4a"){if(Q.stsd.Na.esds){this.a8C=Q.stsz.length;
var S=Q.stsd.Na.esds.p,z=Q.stsd.Na.esds._9,V=await this.U1.slice(S-4,S+z+4),t=await V.arrayBuffer(),Y=new Uint8Array(t),i=null;
this.aBm(Y);x="mp4a.";if(this.pa.objectType==64){x+=this.pa.objectType.toString(16);x+=".";x+=(this.pa.decoderSpecificInfo[0]>>3).toString();
i=this.pa.decoderSpecificInfo}else{x+=this.pa.objectType.toString(16).toUpperCase()}if(i){var J=i[0]>>3;
if(J==31){var H=(i[0]&7)<<3|i[1]>>5;J=32+H;var v=i[1]&31>>1;if(v==15){U=(i[4]&1)<<3|i[5]>>5}else{U=(i[1]&1)<<3|i[2]>>5}}else{var v=(i[0]&7)<<1|i[1]>>7;
if(v==15){U=(i[4]&127)>>3}else{U=(i[1]&127)>>3}}}this.gq={codec:x,numberOfChannels:U,sampleRate:Q.stsd.apt};
if(i){this.gq.description=i}}else{console.log("Audio codec not supported.");I=!1}}else{console.log("Audio codec not supported.");
I=!1}}this.ib={};if(F&&this.NW.length>0){this.ib.rY={NW:1,w4:this.l1,jH:d,width:$.a0,height:$.Y9}}if(I&&this.xZ.length>0){this.ib.xz={NW:U,jH:Q.stsd.apt,w4:c.mdia.mdhd.duration}}if(!this.K6){this.pB=new OffscreenCanvas(this.ib.rY.width,this.ib.rY.height);
this.A5=this.pB.getContext("2d",{aFJ:!0});this.l0=10;this.yN=6}this.k1=!0};ds.prototype.a13=async function(F,r){this.aEn=await this.U1.slice(F,F+r).arrayBuffer();
this.adg=new DataView(this.aEn)};ds.prototype.Vr=async function(F,r){var $=Math.min(r+250,this.frames-1),C=db.m6(F,r),M=db.m6(F,$),l=await this.U1.slice(C[0],M[0]+M[1]),k=await l.arrayBuffer();
this.fU=new Uint8Array(k);this.aFM=r;this.rw=$;this.hX=C[0];return};ds.prototype.apL=async function(F,r,$){if(r>=this.rw||$<this.aFM){await this.Vr(F,r)}for(var O=r;
O<$;++O){if(O>=this.rw){await this.Vr(F,O)}var C=this.Ma.indexOf(O),M=db.m6(F,O),l=this.fU.slice(M[0]-this.hX,M[0]+M[1]-this.hX),k=new EncodedVideoChunk({timestamp:O,duration:1e3,type:C!=-1?"key":"delta",data:l});
if(this.Ta.state=="configured"){try{this.Ta.decode(k)}catch($){console.log("CAUGHT unconfigured");console.log($);
console.log(k)}}else{console.log("unconfigured");delete l}delete l}if($==this.frames){await this.Ta.flush()}};
ds.prototype.a9Z=async function(F,r,$){if(!this.fq){await this.arU()}if(this.xZ.length<=F){console.log("Requested audio track does not exist");
return}var C=this.xZ[F],M=C.mdia.minf.stbl.stts,l=null,k=null,d=0,I=0;for(var O=0;O<M.length;O+=2){if(l==null&&d+M[O]*M[O+1]>=r){l=Math.ceil(I+(r-d)/M[O+1])}if(k==null&&d+M[O]*M[O+1]>=$){k=Math.ceil(I+($-d)/M[O+1])}if(l&&k){break}d+=M[O]*M[O+1];
I+=M[O]}var c=db.m6(C,l),Q=db.m6(C,k),x=await this.U1.slice(c[0],Q[0]+Q[1]),U=await x.arrayBuffer(),S=new Uint8Array(U);
for(var O=l;O<k;++O){var z=db.m6(C,O),V=S.slice(z[0]-c[0],z[0]+z[1]-c[0]),t=new EncodedAudioChunk({timestamp:O,duration:1e3,type:"key",data:V});
try{this.fq.decode(t)}catch(ac){console.log("Error decoding audioframe "+O.toString()+". "+ac.message)}}try{await this.fq.flush()}catch(ac){console.log("CAUGHT flush, but returning");
return this.xd}return this.xd};function cy(F,r,$){this.ib=r;this.y7=F;this.aq9=[0,0,0,24,102,116,121,112,109,112,52,50,0,0,0,0,109,112,52,50,105,115,111,109,0,0,0,8,102,114,101,101];
this.aBV=40;this.a0,this.Y9;this.hJ;this.e2;this.S5;this.anF;this.description;this.Dc;this.wE;this.BE;
this.OT;this.Mm;this.Zd;this.eW=$;this._t;this.Vl;this.GR;this.ahT;this.fe;if(this.ib.rY){this.aqn()}if(this.ib.xz){this.atW()}}cy.prototype.aI9=function(F){return new Uint8Array([F.charCodeAt(0),F.charCodeAt(1),F.charCodeAt(2),F.charCodeAt(3)]).buffer};
cy.prototype.anH=function(F){var r=new Uint32Array([F]),$=new Uint8Array(r.buffer);return new Uint8Array([$[3],$[2],$[1],$[0]])};
cy.prototype.Ag=function(F){this.GR[this.Vl]=F;++this.Vl};cy.prototype.hV=function(F){this.GR[this.Vl]=F>>8&255;
this.GR[this.Vl+1]=F&255;this.Vl+=2};cy.prototype.am7=function(F){this.GR[this.Vl]=F>>16&255;this.GR[this.Vl+1]=F>>8&255;
this.GR[this.Vl+2]=F&255;this.Vl+=3};cy.prototype.ts=function(F){this.GR[this.Vl]=F>>24&255;this.GR[this.Vl+1]=F>>16&255;
this.GR[this.Vl+2]=F>>8&255;this.GR[this.Vl+3]=F&255;this.Vl+=4};cy.prototype.N$=function(F){this._t.push(this.Vl);
this.Vl+=4;this.vO(F)};cy.prototype.vO=function(F){for(var O=0;O<F.length;++O){this.GR[this.Vl]=F.charCodeAt(O);
++this.Vl}};cy.prototype.aAB=function(F){this.GR.set(new Uint8Array(F),this.Vl);this.Vl+=F.byteLength};
cy.prototype.P7=function(){var F=this.Vl;this.Vl=this._t.pop();this.ts(F-this.Vl);this.Vl=F};cy.prototype.aH_=function(F,r){if(!this.description&&r){if(r.description){this.description=r.description}if(r.decoderConfig&&r.decoderConfig.description){this.description=r.decoderConfig.description}}var $=new ArrayBuffer(F.byteLength);
F.copyTo($);this.QU($);this.hJ.push({duration:F.duration,timestamp:F.timestamp,type:F.type,byteLength:F.byteLength});
if(F.type=="key"){this.S5.push(this.hJ.length)}};cy.prototype.T3=function(F,r){if(!this.Dc&&r){if(r.decoderConfig){this.Dc=r.decoderConfig}}var $=new ArrayBuffer(F.byteLength);
F.copyTo($);this.aBY($);this.e2.push({duration:F.duration,timestamp:F.timestamp,type:F.type,byteLength:F.byteLength});
if(F.type=="key"){this.anF.push(this.e2.length)}};cy.prototype.QU=function(F){var r=new Uint8Array(this.wE.byteLength+F.byteLength);
r.set(new Uint8Array(this.wE));r.set(new Uint8Array(F),this.wE.byteLength);this.wE=r.buffer;if(this.wE.byteLength>20*1024*1024){this.y7.write(this.wE);
this.wE=new Uint8Array}};cy.prototype.aBY=function(F){var r=new Uint8Array(this.BE.byteLength+F.byteLength);
r.set(new Uint8Array(this.BE));r.set(new Uint8Array(F),this.BE.byteLength);this.BE=r.buffer};cy.prototype.aiw=function(){this._t=[];
var F=this.aBV,r=[],$={},C=9e4,M=this.hJ.length,l=this.S5.length,k=-1,I=!1,z=1;for(var O=0;O<this.hJ.length;
++O){this.OT+=this.hJ[O].duration/1e3;this.Zd+=this.hJ[O].byteLength;if(this.hJ[O].duration!=k){if(O!=0){r.push($)}k=this.hJ[O].duration;
$={duration:9e4*this.hJ[O].duration/1e6,sampleCount:1}}else{$.sampleCount=$.sampleCount+1}}this.Zd+=8;
r.push($);var d=r.length;if(this.ib.xz){I=!0}if(I){var c=[],Q=this.e2.length;this.Mm=0;var x=this.Dc.sampleRate,k=-1;
for(var O=0;O<this.e2.length;++O){this.Mm+=this.e2[O].duration/1e3;this.Zd+=this.e2[O].byteLength;var U=Math.round(x*this.e2[O].duration/1e6);
if(U!=k){if(O!=0){c.push($)}k=U;$={duration:U,sampleCount:1}}else{$.sampleCount=$.sampleCount+1}}c.push($);
var S=c.length}var V=579+this.description.byteLength+4*M+4*M+4*l+8*d;if(I){V+=426+this.Dc.description.byteLength+4*Q+4*Q+8*d;
z=2}this.GR=new Uint8Array(V);this.Vl=0;this.N$("moov");this.N$("mvhd");this.ts(0);this.ts(0);this.ts(0);
this.ts(1e3);this.ts(this.OT);this.ts(65536);this.hV(256);this.hV(0);this.ts(0);this.ts(0);this.ts(65536);
this.ts(0);this.ts(0);this.ts(0);this.ts(65536);this.ts(0);this.ts(0);this.ts(0);this.ts(1073741824);
this.ts(0);this.ts(0);this.ts(0);this.ts(0);this.ts(0);this.ts(0);this.ts(2);this.P7();for(var t=0;t<z;
++t){this.N$("trak");this.N$("tkhd");this.ts(7);this.ts(0);this.ts(0);this.ts(1);this.ts(0);if(t==1)this.ts(this.Mm);
else this.ts(this.OT);this.ts(0);this.ts(0);this.hV(0);this.hV(0);this.hV(256);this.hV(0);if(t==1){this.ts(1);
this.ts(0);this.ts(0);this.ts(0);this.ts(1);this.ts(0);this.ts(0);this.ts(0);this.ts(1);this.ts(this.a0*0);
this.ts(this.Y9*0)}else{this.ts(65536);this.ts(0);this.ts(0);this.ts(0);this.ts(65536);this.ts(0);this.ts(0);
this.ts(0);this.ts(1073741824);this.ts(this.a0*65536);this.ts(this.Y9*65536)}this.P7();this.N$("mdia");
this.N$("mdhd");this.ts(0);this.ts(0);this.ts(0);if(t==1){this.ts(this.Dc.sampleRate);this.ts(this.Mm/1e3*this.Dc.sampleRate)}else{this.ts(C);
this.ts(this.OT/1e3*C)}this.Ag(85);this.Ag(196);this.hV(0);this.P7();this.N$("hdlr");this.ts(0);this.ts(0);
if(t==1){this.vO("soun");this.ts(0);this.ts(0);this.ts(0);this.vO("SoundHandler");this.Ag(0)}else{this.vO("vide");
this.ts(0);this.ts(0);this.ts(0);this.vO("VideoHandler");this.Ag(0)}this.P7();this.N$("minf");if(t==1){this.N$("smhd");
this.ts(0);this.hV(0);this.hV(0);this.P7()}else{this.N$("vmhd");this.ts(1);this.hV(0);this.hV(0);this.hV(0);
this.hV(0);this.P7()}this.N$("dinf");this.N$("dref");this.ts(0);this.ts(1);this.N$("url ");this.ts(1);
this.P7();this.P7();this.P7();if(t==1){this.N$("stbl");this.N$("stsd");this.ts(0);this.ts(1);this.N$("mp4a");
this.hV(0);this.hV(0);this.hV(0);this.hV(1);this.ts(0);this.ts(0);this.hV(this.Dc.numberOfChannels);
this.hV(16);this.hV(0);this.hV(0);this.hV(this.Dc.sampleRate);this.hV(0);this.N$("esds");this.ts(0);
this.Ag(3);this.Ag(25);this.hV(0);this.Ag(0);this.Ag(4);this.Ag(17);this.Ag(64);this.Ag(21);this.am7(0);
this.ts(16e4);this.ts(16e4);this.Ag(5);this.Ag(2);this.aAB(this.Dc.description);this.Ag(6);this.Ag(1);
this.Ag(2);this.P7();this.P7();this.P7();this.N$("stts");this.ts(0);this.ts(S);for(var O=0;O<S;++O){this.ts(c[O].sampleCount);
this.ts(c[O].duration)}this.P7();this.N$("stsc");this.ts(0);this.ts(1);this.ts(1);this.ts(1);this.ts(1);
this.P7();this.N$("stsz");this.ts(0);this.ts(0);this.ts(Q);for(var O=0;O<Q;++O){this.ts(this.e2[O].byteLength)}this.P7();
this.N$("stco");this.ts(0);this.ts(Q);for(var O=0;O<Q;++O){this.ts(F);F+=this.e2[O].byteLength}this.P7();
this.P7()}else{this.N$("stbl");this.N$("stsd");this.ts(0);this.ts(1);this.N$("avc1");this.hV(0);this.hV(0);
this.hV(0);this.hV(1);this.hV(0);this.hV(0);this.ts(0);this.ts(0);this.ts(0);this.hV(this.a0);this.hV(this.Y9);
this.ts(4718592);this.ts(4718592);this.ts(0);this.hV(1);for(var O=0;O<8;++O){this.ts(0)}this.hV(24);
this.hV(-1);this.N$("avcC");this.aAB(this.description);this.P7();this.P7();this.P7();this.N$("stts");
this.ts(0);this.ts(d);for(var O=0;O<d;++O){this.ts(r[O].sampleCount);this.ts(r[O].duration)}this.P7();
this.N$("stsc");this.ts(0);this.ts(1);this.ts(1);this.ts(1);this.ts(1);this.P7();this.N$("stsz");this.ts(0);
this.ts(0);this.ts(M);for(var O=0;O<M;++O){this.ts(this.hJ[O].byteLength)}this.P7();this.N$("stco");
this.ts(0);this.ts(M);for(var O=0;O<M;++O){this.ts(F);F+=this.hJ[O].byteLength}this.P7();this.N$("stss");
this.ts(0);this.ts(l);for(var O=0;O<l;++O){this.ts(this.S5[O])}this.P7();this.P7()}this.P7();this.P7();
this.P7()}this.P7();return};cy.prototype.a6I=async function(F){console.assert(await VideoEncoder.isConfigSupported(F))};
cy.prototype.aqn=function(){var F=Date.now(),r=this.ib.rY.width,$=this.ib.rY.height;this.a0=r;this.Y9=$;
this.description=null;this.S5=[];this.hJ=[];this.OT=0;this.Zd=0;this.wE=new Uint8Array;this.QU(new Uint8Array(this.aq9));
this.QU(this.anH(0).buffer);this.QU(this.aI9("mdat"));this.i$=new VideoEncoder({output:(chunk,opts)=>this.aH_(chunk,opts),error:ac=>{console.log(ac)}});
var C=this.eW*this.a0*this.Y9,M=C*this.ib.rY.w4,l=Math.round(C*24),k={width:this.a0,height:this.Y9,codec:"avc1.420034",bitrate:l,acceleration:"prefer-hardware"};
this.a6I(k);this.i$.configure(k);this.fe=0};cy.prototype.agm=async function(F){console.assert(await AudioDecoder.az5(F))};
cy.prototype.atW=function(){this.BE=new Uint8Array;this.Dc=null;this.anF=[];this.e2=[];var F={codec:"mp4a.40.2",numberOfChannels:this.ib.xz.NW,sampleRate:this.ib.xz.jH,bitrate:16e4};
this.rB=new AudioEncoder({output:(cR,ht)=>this.T3(cR,ht),error:function(r){console.log(r)}});this.agm(F);
this.rB.configure(F)};cy.prototype.KK=function(){return this.ib};cy.prototype.a3E=async function(F,r,$){var C=F,M=1e6/this.ib.rY.jH;
if($%50==0){console.log(Math.round($/this.ib.rY.w4*100).toString()+"%")}var l=new VideoFrame(C.buffer,{timestamp:this.fe,duration:M,format:"RGBA",codedWidth:this.a0,codedHeight:this.Y9});
this.i$.encode(l);l.close();this.fe+=M;delete C;delete F;delete l};cy.prototype.aIv=async function(F,r,$,C){for(var O=0;
O<F.length;++O){this.rB.encode(F[O])}};cy.prototype.finish=async function(){if(this.ib.rY){await this.i$.flush()}if(this.ib.xz){await this.rB.flush()}this.aiw();
this.y7.write(this.wE);if(this.ib.xz){this.y7.write(this.BE)}this.y7.write(this.GR);this.y7.write({I:"write",data:this.anH(this.Zd),position:this.aBV-8});
return this.y7.close()};var bE=function(F){var r=[[21,73,169,102],[22,84,174,107],[17,77,155,116],[28,83,187,107],[31,67,182,117],[18,84,195,103]],$="KaxInfo KaxTracks KaxSeekHead KaxCues KaxCluster KaxTags".split(" "),C=!1,M=iX.ax3,l=iX.dj,k=iX.Dm;
function d(V){for(var O=0;O<r.length;++O){var t=!0;for(var Y=0;Y<r[O].length;++Y){if(V[Y]!=r[O][Y]){t=!1;
break}}if(t==!0){return $[O]}}}async function I(V,t,Y,i){if(t==null||i<Y||i>=Y+t.byteLength){t=await iX.Ik(V,i);
Y=i;i=0}else{i-=Y;var J=i,H=M(t,i),v=H[2];i+=H[1];H=M(t,i);var n=H[0];i+=H[1];if(i+n>t.byteLength){t=await iX.Ik(V,Y+J,n+i-J);
Y+=J;i=0}else{i=J}}return[t,Y,i]}async function c(V,t,Y,i,J){var H=J.oh.CueClusterPosition,T=!1;H+=t.Segment.IU;
var v=await I(V,Y,i,H);Y=v[0];i=v[1];H=v[2];if(Y.length==0)return{bQ:0,data:Y,start:i,ei:null};var n=M(Y,H),G=n[2];
H+=n[1];n=M(Y,H);var g=n[0];H+=n[1];var W=H;n=M(Y,W);G=n[2];W+=n[1];n=M(Y,W);g=n[0];W+=n[1];var L=bE.DH[G];
if(L.g=="CRC-32"){W+=g;n=M(Y,W);G=n[2];W+=n[1];n=M(Y,W);g=n[0];W+=n[1]}var b=l(Y,W,g);if(J.oh.CueRelativePosition){H+=J.oh.CueRelativePosition;
n=M(Y,H);G=n[2];H+=n[1];n=M(Y,H);g=n[0];H+=n[1];if(L.g=="BlockGroup"){T=!0}return{bQ:i+H+g,data:Y,start:i,ei:S(Y.slice(H,H+g),T),timeStamp:b}}else{var a=0;
if(J.oh.CueBlockNumber){a=J.oh.CueBlockNumber-1;if(t.Segment.Info.MuxingApp.toLowerCase().includes("yamka")){a++}}g=0;
do{H+=g;n=M(Y,H);G=n[2];H+=n[1];n=M(Y,H);g=n[0];H+=n[1];L=bE.DH[G]}while(L.g!="SimpleBlock"&&L.g!="BlockGroup");
for(var O=0;O<a;++O){H+=g;n=M(Y,H);G=n[2];H+=n[1];n=M(Y,H);g=n[0];H+=n[1]}L=bE.DH[G];if(L.g=="BlockGroup"){T=!0}return{bQ:i+H+g,data:Y,start:i,ei:S(Y.slice(H,H+g),T),timeStamp:b}}}async function Q(V,t,Y,i){var J=null,H=await I(V,t,Y,i),L=!1;
t=H[0];Y=H[1];i=H[2];if(t.length==0)return{bQ:0,data:t,start:Y,ei:null};var v=M(t,i),n=v[2];i+=v[1];
v=M(t,i);var G=v[0];i+=v[1];var g=bE.DH[n];if(g.g!="SimpleBlock"&&g.g!="BlockGroup"){var W="SeekHead Tags Void Info Tracks Attachments Chapters Tags Cues".split(" ");
if(W.indexOf(g.g)==-1){do{if(g.g=="Cluster"){G=0}i+=G;H=await I(V,t,Y,Y+i);t=H[0];Y=H[1];i=H[2];if(t.length==0)return{bQ:0,data:t,start:Y,ei:null};
v=M(t,i);n=v[2];i+=v[1];v=M(t,i);G=v[0];i+=v[1];g=bE.DH[n];if(g.g=="Timestamp"){J=l(t,i,G)}}while(g.g!="SimpleBlock"&&g.g!="BlockGroup")}else return{bQ:0,data:t,start:Y,ei:null}}if(g.g=="BlockGroup"){L=!0}return{bQ:Y+i+G,data:t,start:Y,ei:S(t.slice(i,i+G),L),timeStamp:J}}async function x(V,t,Y,i,J){var H={},v=i-Y;
if(t==null){t=await iX.Ik(V,v);Y=v;v=0}while(v+Y<J&&!C){var n,G=v+Y,g=M(t,v),W=g[2];v+=g[1];g=M(t,v);
var L=g[0];v+=g[1];var b=bE.DH[W];if(!b){throw"Unknown EBML element "+W.toString(16)}var T=b.g,a=v+L,R=v+Y;
if(a>t.byteLength&&T!="Segment"){t=await iX.Ik(V,Y,a)}if(b.q=="m"&&T=="Cluster"){C=!0;return[v,H]}if(b.q=="m"){var D=await x(V,t,Y,Y+v,Y+a);
v=D[0];D[1].p=G;D[1].IU=R;if(b.A==1){if(H[T]==null){H[T]=[]}H[T].push(D[1])}else{H[T]=D[1]}if(C){break}}else{if(b.q=="8"){n=P.qV(t,v,L)}else if(b.q=="s"){n=P.BW(t,v,L)}else if(b.q=="b"){n=P.Lr(t,v,L)}else if(b.q=="u"){n=l(t,v,L)}else if(b.q=="i"){n=k(t,v,L)}else if(b.q=="f"){if(L==4){n=P.LC(t,v)}else if(L==8){n=P.Dw(t,v)}else throw"Cannot read float of size "+L.toString()}else if(b.q=="d"){var h=l(t,v,L);
h*=1e-6;h+=new Date(2001,1,1).valueOf()-new Date(1970,1,1).valueOf();n=new Date(h)}else{n=L}v+=L;if(b.g=="SeekID"){var K=d(n);
n=K}if(b.A==1){if(H[T]==null){H[T]=[]}H[T].push(n)}else{H[T]=n}}if(v+Y<J&&v>=t.byteLength){Y+=v;v=0;
t=await iX.Ik(V,Y)}}return[v,H]}function U(V,t){var Y=V.Segment.Tracks.TrackEntry,i=[];for(var O=0;O<Y.length;
++O){var J=Y[O];if(J.TrackType==t){i.push(J)}}return i}function S(V,t){var Y,i,J,H=0;if(t){Y=M(V,H);
var v=Y[2];H+=Y[1];Y=M(V,H);var n=Y[0];H+=Y[1];i=H+n}Y=M(V,H);H+=Y[1];var G=Y[0],g=k(V,H,2);H+=2;var W=V[H],L=W>>>7;
H+=1;if(t){J=V.slice(H,i)}else{J=V.slice(H)}return[G,g,L,J]}async function z(V){var t=await x(V,null,0,0,V.size);
C=!1;var Y=t[1];if(Y.Segment.SeekHead){var i=Y.Segment.SeekHead;for(var O=0;O<i.length;++O){if(i[O].Seek){for(var J=0;
J<i[O].Seek.length;++J){if(i[O].Seek[J].SeekID=="KaxSeekHead"){var H=i[O].Seek[J].SeekPosition+Y.Segment.IU;
t=await x(V,null,0,H,V.size);C=!1;Y.Segment.SeekHead.push(t[1])}else if(i[O].Seek[J].SeekID=="KaxCues"){if(!Y.Segment.Cues){H=i[O].Seek[J].SeekPosition+Y.Segment.IU;
t=await x(V,null,0,H,V.size);C=!1;Y.Segment.Cues=t[1].Cues}}}}}}else{console.log("No seek heads parsed, WIP, not implemented yet.")}return Y}return{CO:z,getTracks:U,f5:Q,S6:c}}();
bE.DH={440786851:{g:"EBML",q:"m",A:0},17030:{g:"EBMLVersion",q:"u",A:0},17143:{g:"EBMLReadVersion",q:"u",A:0},17026:{g:"DocType",q:"s",A:0},17031:{g:"DocTypeVersion",q:"u",A:0},17029:{g:"DocTypeReadVersion",q:"u",A:0},17028:{g:"DocTypeExtensionVersion",q:"u",A:0},191:{g:"CRC-32",q:"b",A:0},236:{g:"Void",q:"b",A:1},17138:{g:"EBMLMaxIDLength",q:"u",A:0},17139:{g:"EBMLMaxSizeLength",q:"u",A:0},408125543:{g:"Segment",q:"m",A:0},290298740:{g:"SeekHead",q:"m",A:1},19899:{g:"Seek",q:"m",A:1},21419:{g:"SeekID",q:"b",A:0},21420:{g:"SeekPosition",q:"u",A:0},357149030:{g:"Info",q:"m",A:0},29604:{g:"SegmentUUID",q:"b",A:0},29572:{g:"SegmentFilename",q:"8",A:0},3979555:{g:"PrevUUID",q:"b",A:0},3965867:{g:"PrevFilename",q:"8",A:0},4110627:{g:"NextUUID",q:"b",A:0},4096955:{g:"NextFilename",q:"8",A:0},17476:{g:"SegmentFamily",q:"b",A:1},26916:{g:"ChapterTranslate",q:"m",A:1},27045:{g:"ChapterTranslateID",q:"b",A:0},27071:{g:"ChapterTranslateCodec",q:"u",A:0},27132:{g:"ChapterTranslateEditionUID",q:"u",A:1},2807729:{g:"TimestampScale",q:"u",A:0},17545:{g:"Duration",q:"f",A:0},17505:{g:"DateUTC",q:"d",A:0},31657:{g:"Title",q:"8",A:0},19840:{g:"MuxingApp",q:"8",A:0},22337:{g:"WritingApp",q:"8",A:0},524531317:{g:"Cluster",q:"m",A:1},231:{g:"Timestamp",q:"u",A:0},22612:{g:"SilentTracks",q:"m",A:0},22743:{g:"SilentTrackNumber",q:"u",A:1},167:{g:"Position",q:"u",A:0},171:{g:"PrevSize",q:"u",A:0},163:{g:"SimpleBlock",q:"b",A:1},160:{g:"BlockGroup",q:"m",A:1},161:{g:"Block",q:"b",A:0},162:{g:"BlockVirtual",q:"b",A:0},30113:{g:"BlockAdditions",q:"m",A:0},166:{g:"BlockMore",q:"m",A:1},165:{g:"BlockAdditional",q:"b",A:0},238:{g:"BlockAddID",q:"u",A:0},155:{g:"BlockDuration",q:"u",A:0},250:{g:"ReferencePriority",q:"u",A:0},251:{g:"ReferenceBlock",q:"i",A:1},253:{g:"ReferenceVirtual",q:"i",A:0},164:{g:"CodecState",q:"b",A:0},30114:{g:"DiscardPadding",q:"i",A:0},142:{g:"Slices",q:"m",A:0},232:{g:"TimeSlice",q:"m",A:1},204:{g:"LaceNumber",q:"u",A:0},205:{g:"FrameNumber",q:"u",A:0},203:{g:"BlockAdditionID",q:"u",A:0},206:{g:"Delay",q:"u",A:0},207:{g:"SliceDuration",q:"u",A:0},200:{g:"ReferenceFrame",q:"m",A:0},201:{g:"ReferenceOffset",q:"u",A:0},202:{g:"ReferenceTimestamp",q:"u",A:0},175:{g:"EncryptedBlock",q:"b",A:1},374648427:{g:"Tracks",q:"m",A:0},174:{g:"TrackEntry",q:"m",A:1},215:{g:"TrackNumber",q:"u",A:0},29637:{g:"TrackUID",q:"u",A:0},131:{g:"TrackType",q:"u",A:0},185:{g:"FlagEnabled",q:"u",A:0},136:{g:"FlagDefault",q:"u",A:0},21930:{g:"FlagForced",q:"u",A:0},21931:{g:"FlagHearingImpaired",q:"u",A:0},21932:{g:"FlagVisualImpaired",q:"u",A:0},21933:{g:"FlagTextDescriptions",q:"u",A:0},21934:{g:"FlagOriginal",q:"u",A:0},21935:{g:"FlagCommentary",q:"u",A:0},156:{g:"FlagLacing",q:"u",A:0},28135:{g:"MinCache",q:"u",A:0},28152:{g:"MaxCache",q:"u",A:0},2352003:{g:"DefaultDuration",q:"u",A:0},2313850:{g:"DefaultDecodedFieldDuration",q:"u",A:0},2306383:{g:"TrackTimestampScale",q:"f",A:0},21375:{g:"TrackOffset",q:"i",A:0},21998:{g:"MaxBlockAdditionID",q:"u",A:0},16868:{g:"BlockAdditionMapping",q:"m",A:1},16880:{g:"BlockAddIDValue",q:"u",A:0},16804:{g:"BlockAddIDName",q:"s",A:0},16871:{g:"BlockAddIDType",q:"u",A:0},16877:{g:"BlockAddIDExtraData",q:"b",A:0},21358:{g:"Name",q:"8",A:0},2274716:{g:"Language",q:"s",A:0},2274717:{g:"LanguageBCP47",q:"s",A:0},134:{g:"CodecID",q:"s",A:0},25506:{g:"CodecPrivate",q:"b",A:0},2459272:{g:"CodecName",q:"8",A:0},29766:{g:"AttachmentLink",q:"u",A:0},3839639:{g:"CodecSettings",q:"8",A:0},3883072:{g:"CodecInfoURL",q:"s",A:1},2536e3:{g:"CodecDownloadURL",q:"s",A:1},170:{g:"CodecDecodeAll",q:"u",A:0},28587:{g:"TrackOverlay",q:"u",A:1},22186:{g:"CodecDelay",q:"u",A:0},22203:{g:"SeekPreRoll",q:"u",A:0},26148:{g:"TrackTranslate",q:"m",A:1},26277:{g:"TrackTranslateTrackID",q:"b",A:0},26303:{g:"TrackTranslateCodec",q:"u",A:0},26364:{g:"TrackTranslateEditionUID",q:"u",A:1},224:{g:"Video",q:"m",A:0},154:{g:"FlagInterlaced",q:"u",A:0},157:{g:"FieldOrder",q:"u",A:0},21432:{g:"StereoMode",q:"u",A:0},21440:{g:"AlphaMode",q:"u",A:0},21433:{g:"OldStereoMode",q:"u",A:0},176:{g:"PixelWidth",q:"u",A:0},186:{g:"PixelHeight",q:"u",A:0},21674:{g:"PixelCropBottom",q:"u",A:0},21691:{g:"PixelCropTop",q:"u",A:0},21708:{g:"PixelCropLeft",q:"u",A:0},21725:{g:"PixelCropRight",q:"u",A:0},21680:{g:"DisplayWidth",q:"u",A:0},21690:{g:"DisplayHeight",q:"u",A:0},21682:{g:"DisplayUnit",q:"u",A:0},21683:{g:"AspectRatioType",q:"u",A:0},3061028:{g:"UncompressedFourCC",q:"b",A:0},3126563:{g:"GammaValue",q:"f",A:0},2327523:{g:"FrameRate",q:"f",A:0},21936:{g:"Colour",q:"m",A:0},21937:{g:"MatrixCoefficients",q:"u",A:0},21938:{g:"BitsPerChannel",q:"u",A:0},21939:{g:"ChromaSubsamplingHorz",q:"u",A:0},21940:{g:"ChromaSubsamplingVert",q:"u",A:0},21941:{g:"CbSubsamplingHorz",q:"u",A:0},21942:{g:"CbSubsamplingVert",q:"u",A:0},21943:{g:"ChromaSitingHorz",q:"u",A:0},21944:{g:"ChromaSitingVert",q:"u",A:0},21945:{g:"Range",q:"u",A:0},21946:{g:"TransferCharacteristics",q:"u",A:0},21947:{g:"Primaries",q:"u",A:0},21948:{g:"MaxCLL",q:"u",A:0},21949:{g:"MaxFALL",q:"u",A:0},21968:{g:"mingMetadata",q:"m",A:0},21969:{g:"PrimaryRChromaticityX",q:"f",A:0},21970:{g:"PrimaryRChromaticityY",q:"f",A:0},21971:{g:"PrimaryGChromaticityX",q:"f",A:0},21972:{g:"PrimaryGChromaticityY",q:"f",A:0},21973:{g:"PrimaryBChromaticityX",q:"f",A:0},21974:{g:"PrimaryBChromaticityY",q:"f",A:0},21975:{g:"WhitePointChromaticityX",q:"f",A:0},21976:{g:"WhitePointChromaticityY",q:"f",A:0},21977:{g:"LuminanceMax",q:"f",A:0},21978:{g:"LuminanceMin",q:"f",A:0},30320:{g:"Projection",q:"m",A:0},30321:{g:"ProjectionType",q:"u",A:0},30322:{g:"ProjectionPrivate",q:"b",A:0},30323:{g:"ProjectionPoseYaw",q:"f",A:0},30324:{g:"ProjectionPosePitch",q:"f",A:0},30325:{g:"ProjectionPoseRoll",q:"f",A:0},225:{g:"Audio",q:"m",A:0},181:{g:"SamplingFrequency",q:"f",A:0},30901:{g:"OutputSamplingFrequency",q:"f",A:0},159:{g:"Channels",q:"u",A:0},32123:{g:"ChannelPositions",q:"b",A:0},25188:{g:"BitDepth",q:"u",A:0},21233:{g:"Emphasis",q:"u",A:0},226:{g:"TrackOperation",q:"m",A:0},227:{g:"TrackCombinePlanes",q:"m",A:0},228:{g:"TrackPlane",q:"m",A:1},229:{g:"TrackPlaneUID",q:"u",A:0},230:{g:"TrackPlaneType",q:"u",A:0},233:{g:"TrackJoinBlocks",q:"m",A:0},237:{g:"TrackJoinUID",q:"u",A:1},192:{g:"TrickTrackUID",q:"u",A:0},193:{g:"TrickTrackSegmentUID",q:"b",A:0},198:{g:"TrickTrackFlag",q:"u",A:0},199:{g:"TrickmTrackUID",q:"u",A:0},196:{g:"TrickmTrackSegmentUID",q:"b",A:0},28032:{g:"ContentEncodings",q:"m",A:0},25152:{g:"ContentEncoding",q:"m",A:1},20529:{g:"ContentEncodingOrder",q:"u",A:0},20530:{g:"ContentEncodingScope",q:"u",A:0},20531:{g:"ContentEncodingType",q:"u",A:0},20532:{g:"ContentCompression",q:"m",A:0},16980:{g:"ContentCompAlgo",q:"u",A:0},16981:{g:"ContentCompSettings",q:"b",A:0},20533:{g:"ContentEncryption",q:"m",A:0},18401:{g:"ContentEncAlgo",q:"u",A:0},18402:{g:"ContentEncKeyID",q:"b",A:0},18407:{g:"ContentEncAESSettings",q:"m",A:0},18408:{g:"AESSettingsCipherMode",q:"u",A:0},18403:{g:"ContentSignature",q:"b",A:0},18404:{g:"ContentSigKeyID",q:"b",A:0},18405:{g:"ContentSigAlgo",q:"u",A:0},18406:{g:"ContentSigHashAlgo",q:"u",A:0},475249515:{g:"Cues",q:"m",A:0},187:{g:"CuePoint",q:"m",A:1},179:{g:"CueTime",q:"u",A:0},183:{g:"CueTrackPositions",q:"m",A:1},247:{g:"CueTrack",q:"u",A:0},241:{g:"CueClusterPosition",q:"u",A:0},240:{g:"CueRelativePosition",q:"u",A:0},178:{g:"CueDuration",q:"u",A:0},21368:{g:"CueBlockNumber",q:"u",A:0},234:{g:"CueCodecState",q:"u",A:0},219:{g:"CueReference",q:"m",A:1},150:{g:"CueRefTime",q:"u",A:0},151:{g:"CueRefCluster",q:"u",A:0},21343:{g:"CueRefNumber",q:"u",A:0},235:{g:"CueRefCodecState",q:"u",A:0},423732329:{g:"Attachments",q:"m",A:0},24999:{g:"AttachedFile",q:"m",A:1},18046:{g:"FileDescription",q:"8",A:0},18030:{g:"FileName",q:"8",A:0},18016:{g:"FileMediaType",q:"s",A:0},18012:{g:"FileData",q:"b",A:0},18094:{g:"FileUID",q:"u",A:0},18037:{g:"FileReferral",q:"b",A:0},18017:{g:"FileUsedStartTime",q:"u",A:0},18018:{g:"FileUsedEndTime",q:"u",A:0},272869232:{g:"Chapters",q:"m",A:0},17849:{g:"EditionEntry",q:"m",A:1},17852:{g:"EditionUID",q:"u",A:0},17853:{g:"EditionFlagHidden",q:"u",A:0},17883:{g:"EditionFlagDefault",q:"u",A:0},17885:{g:"EditionFlagOrdered",q:"u",A:0},17696:{g:"EditionDisplay",q:"m",A:1},17697:{g:"Editions",q:"8",A:0},17892:{g:"EditionLanguageIETF",q:"s",A:1},182:{g:"ChapterAtom",q:"m",A:1},29636:{g:"ChapterUID",q:"u",A:0},22100:{g:"ChaptersUID",q:"8",A:0},145:{g:"ChapterTimeStart",q:"u",A:0},146:{g:"ChapterTimeEnd",q:"u",A:0},152:{g:"ChapterFlagHidden",q:"u",A:0},17816:{g:"ChapterFlagEnabled",q:"u",A:0},28263:{g:"ChapterSegmentUUID",q:"b",A:0},17800:{g:"ChapterSkipType",q:"u",A:0},28348:{g:"ChapterSegmentEditionUID",q:"u",A:0},25539:{g:"ChapterPhysicalEquiv",q:"u",A:0},143:{g:"ChapterTrack",q:"m",A:0},137:{g:"ChapterTrackUID",q:"u",A:1},128:{g:"ChapterDisplay",q:"m",A:1},133:{g:"Chaps",q:"8",A:0},17276:{g:"ChapLanguage",q:"s",A:1},17277:{g:"ChapLanguageBCP47",q:"s",A:1},17278:{g:"ChapCountry",q:"s",A:1},26948:{g:"ChapProcess",q:"m",A:1},26965:{g:"ChapProcessCodecID",q:"u",A:0},17677:{g:"ChapProcessPrivate",q:"b",A:0},26897:{g:"ChapProcessCommand",q:"m",A:1},26914:{g:"ChapProcessTime",q:"u",A:0},26931:{g:"ChapProcessData",q:"b",A:0},307544935:{g:"Tags",q:"m",A:1},29555:{g:"Tag",q:"m",A:1},25536:{g:"Targets",q:"m",A:0},26826:{g:"TargetTypeValue",q:"u",A:0},25546:{g:"TargetType",q:"s",A:0},25541:{g:"TagTrackUID",q:"u",A:1},25545:{g:"TagEditionUID",q:"u",A:1},25540:{g:"TagChapterUID",q:"u",A:1},25542:{g:"TagAttachmentUID",q:"u",A:1},26568:{g:"SimpleTag",q:"m",A:1},17827:{g:"TagName",q:"8",A:0},17530:{g:"TagLanguage",q:"s",A:0},17531:{g:"TagLanguageBCP47",q:"s",A:0},17540:{g:"TagDefault",q:"u",A:0},17588:{g:"TagDefaultBogus",q:"u",A:0},17543:{g:"Tags",q:"8",A:0},17541:{g:"Tagb",q:"b",A:0}};
function fi(F,r){iX.NK.call(this,F,r);this.KK=iX.NK.KK;this.oN=iX.NK.oN;this.XL=iX.NK.XL;this.fx=iX.NK.fx;
this.T4=function($){return $};this.bQ=0;this.data=null;this.start=0;this.YQ=null;this.km=null;this.T8=0;
this.bf=0}fi.prototype.awg=async function(){this.Ta=new VideoDecoder({output:cR=>this.XL(cR),error:function($){console.log($.message)}});
var F={codec:this.YQ};if(this.km){F.description=this.km}var r=await VideoDecoder.isConfigSupported(F);
if(r.supported==!0){this.Ta.configure(F)}else{console.log("Codec not supported.",F)}};fi.prototype.ah6=async function(){if(!this.cues)return null;
var F=this.cues[this.cues.length-1],r=await bE.S6(this.U1,this.j8,this.data,this.start,F),$=r.timeStamp,C,M=[];
this.bQ=r.bQ;this.data=r.data;this.start=r.start;do{if(r.ei&&r.ei[0]==1){C=r;M.push(r.ei[1])}r=await bE.f5(this.U1,this.data,this.start,this.bQ);
if(r.timeStamp){$=r.timeStamp}this.bQ=r.bQ;this.data=r.data;this.start=r.start}while(r.bQ>0);if(!this.d6){M.sort((gw,jV)=>gw-jV);
this.d6=Math.round((M[M.length-1]-M[0])/(M.length-1));this.jH=1e3/this.d6}this.frames=Math.floor(($+C.ei[1]+this.d6-this.T8)/this.d6)};
fi.prototype.AA=async function(){this.j8=await bE.CO(this.U1);this.a8l={};this.Js={};this.NW=bE.getTracks(this.j8,1);
var F=!0;if(this.NW.length>0){var r=this.NW[0],$=r.TrackNumber,C=r.CodecID;if(r.CodecPrivate)this.km=r.CodecPrivate;
var M=r.Video.PixelWidth,l=r.Video.PixelHeight,k=this.j8.Segment.Info.TimestampScale,d=r.DefaultDuration/k;
this.jH=1e3/d;this.d6=d;var I=["V_VP8","V_VP9","V_MPEG4/ISO/AVC","V_MPEGH/ISO/HEVC"],c=["vp8","vp09.00.10.08","avc1.640034","hvc1"],Q=I.indexOf(C);
if(Q>=0)this.YQ=c[Q];if(this.YQ=="hvc1"){if(this.km){this.YQ=iX.aew(this.km)}else{this.YQ=null}}console.assert(this.YQ!=null,"Codec "+C.toString()+" not supported.");
if(this.YQ==null){F=!1}var x=this.j8.Segment.Cues.CuePoint;this.cues=[];for(var O=0;O<x.length;++O){for(var U=0;
U<x[O].CueTrackPositions.length;++U){if(x[O].CueTrackPositions[U].CueTrack==$){this.cues.push({mx:x[O].CueTime,oh:x[O].CueTrackPositions[U]})}}}if(this.cues[0].mx>0){this.T8=this.cues[0].mx}await this.ah6();
this.Ma=[];for(var O=0;O<this.cues.length;++O){this.Ma.push(Math.round((this.cues[O].mx-this.T8)/this.d6))}}this.ib={};
if(F&&this.NW.length>0){this.ib.rY={NW:1,w4:this.frames,jH:this.jH,width:M,height:l}}if(!this.K6){this.pB=new OffscreenCanvas(this.ib.rY.width,this.ib.rY.height);
this.A5=this.pB.getContext("2d",{aFJ:!0});this.l0=10;this.yN=6}this.k1=!0};1,0,fi.prototype.S6=async function(F){var r=await bE.S6(this.U1,this.j8,this.data,this.start,this.cues[F]);
this.bQ=r.bQ;this.data=r.data;this.start=r.start;this.ayQ(r)};fi.prototype.f5=async function(){var F;
do{F=await bE.f5(this.U1,this.data,this.start,this.bQ);this.bQ=F.bQ;this.data=F.data;this.start=F.start}while(F.bQ>0&&F.ei[0]!=1);
if(this.bQ>0){this.ayQ(F)}};fi.prototype.ayQ=function(F){var r=new EncodedVideoChunk({timestamp:F.ei[1],duration:this.d6,type:F.ei[2]==1?"key":"delta",data:F.ei[3]});
if(this.Ta.state=="configured"){try{this.Ta.decode(r)}catch(ac){console.log("CAUGHT unconfigured");console.log(ac);
console.log(r)}}else{console.log("unconfigured",this.bQ,F);delete F}delete F};fi.prototype.apL=async function(F,r,$){var C=$*this.d6,M=this.Ma.indexOf(r),l=0,k;
for(var O=r;O<$;++O){while(this.bf>0){await new Promise(resolve=>setTimeout(resolve,50))}this.bf=1;if(O==r&&M>=0){await this.S6(M)}else{await this.f5()}this.bf=0}if($==this.frames){await new Promise(resolve=>setTimeout(resolve,100));
while(this.bQ!=0){while(this.bf>0){await new Promise(resolve=>setTimeout(resolve,50))}this.bf=1;await this.f5();
this.bf=0}await this.Ta.flush()}};var cq=function(){var F,r,$,C,M,l;function k(){C+=1;return $[C-1]}function d(){C+=2;
return P.nv($,C-2)}function I(){C+=4;return P.jF($,C-4)}function c(V){return 512+512*V}function Q(V){return 64*V}function x(V,t){var Y=[];
while(V!=-2){Y.push(V);V=t[V]}return Y}function U(V,t,Y){var i=x(V,Y==64?l:M);if(t==null)t=i.length*Y;
var J=new Uint8Array(t),H=Y==64?r:F;for(var O=0;O<i.length;O++){var v=i[O],n=Y==64?Q(v):c(v);J.set(new Uint8Array(H.buffer,n,Math.min(Y,t-O*Y)),O*Y)}return J}function S(V,t,Y,i){var J=$,H=C,R;
$=V;C=t*128;var v=P.Fz($,C,32);C+=64;var n=d();v=v.slice(0,n-2>>>1);var G=k(),g=k(),W=I(),L=I(),b=I();
for(var O=0;O<20;O++)if(k()!=0)throw O;C+=8;C+=8;var T=I(),a=I();if(I()!=0)throw"e";if(G==1||G==5){if(G==5){r=U(T,null,512)}R={};
S(V,b,R,i+1)}else if(G==2){if(a<=4096)R=U(T,a,64);else R=U(T,a,512)}else throw G;if(W!=-1)S(V,W,Y,i+1);
if(L!=-1)S(V,L,Y,i+1);Y[v]=R;$=J;C=H}function z(V){$=F=new Uint8Array(V);C=0;var t=[208,207,17,224,161,177,26,225];
for(var O=0;O<8;O++)if(k()!=t[O])throw"e";for(var O=0;O<16;O++)if(k()!=0)throw"e";var Y=d(),i=d(),J=d();
if(J!=-2)throw"big endian";var H=d();if(H!=9)throw"not 512";var v=d();if(v!=6)throw"not  64";for(var O=0;
O<10;O++)if(k()!=0)throw"e";var n=I(),G=I();if(I()!=0)throw"e";var g=I();if(g!=4096)throw"e";var W=I(),L=I(),b=I(),T=I(),a=[];
for(var O=0;O<109;O++){var R=I();if(R==-1)break;a.push(R)}while(b>=0){C=c(b);for(var O=0;O<127;O++){var R=I();
if(R==-1)break;a.push(R)}b=I()}if(a.length!=n)throw"e";M=[];for(var O=0;O<n;O++){C=c(a[O]);for(var D=0;
D<128;D++){var R=I();M.push(R)}}l=[];while(W!=-2){C=c(W);for(var D=0;D<128;D++){var R=I();l.push(R)}W=M[W]}var h=U(G,null,512),K={};
S(h,0,K,0);return K["Root Entry"]}return{parse:z}}(),B={};B.ha=function(F){return window.devicePixelRatio||1};
B.A7=function(F,r){return(r.arm=="touch"?12:8)*B.ha()/F.f.bU};B.Nl=function(){var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfAgMAAABiwP6qAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAlQTFRFAAAAAAAA////g93P0gAAAAN0Uk5TAP//RFDWIQAAACxJREFUeJxjYGBgYHVggAA2ujNCQ0PDgDiEIWvVqpWrVq1aghAZEPcwQEMDAMwiEgB+z9L1AAAAAElFTkSuQmCC",r=B.ha(),$=15.5/r;
return"image-set(url('"+F+"') "+r+"x) "+$+" "+$+",auto"};B.m9=function(F,r,$){this.name=F;this.id=r;
this._s=null;if($!=null)this.h6=$};B.m9.prototype.Y3=function(F,r,$,C,M){};B.m9.prototype.enable=function(F,r,$,C,M,l){var k=new k6(_.E.c,!0);
k.data={R:_.m.yz,P5:"default"};r.a(k)};B.m9.prototype.disable=function(F,r,$,C,M){};B.m9.prototype.afs=function(F,r,$,C,M){return!1};
B.m9.prototype.SY=function(F,r,$,C,M){};B.m9.prototype.tf=function(F,r,$,C,M){};B.m9.prototype.GQ=function(F,r,$,C,M){};
B.m9.prototype.pf=function(F,r,$,C,M,l){};B.m9.prototype.ql=function(F,r,$,C,M){};B.m9.prototype.JG=function(F,r,$,C){};
B.m9.prototype.zN=function(F,r,$,C){};B.m9.prototype.mY=function(F,r){};B.m9.prototype.Ea=function(F,r){};
B.m9.prototype.pX=function(F){return 0};B.m9.prototype.Rg=function(F,r,$,C,M){};B.m9.prototype.Db=function(F,r){};
B.m9.prototype.fI=function(F,r){return!1};B.m9.prototype.j0=function(F,r){return!1};B.m9.prototype.fV=function(){return!1};
B.m9.prototype.aa=function(F,r){return!0};B.m9.prototype.tY=function(){return null};B.m9.prototype.jN=function(F,r,$){};
B.m9.prototype.aBl=function(){return!1};B.m9.prototype.x1=function(F,r,$,C){};B.m9.prototype.track=function(F){var r=new k6(_.E.wG,!0);
r.data=F;F.t2=!0;this._s.a(r)};B.m9.qi=function(F,r,$,C){var M=10*B.ha()*(F.arm=="touch"?2:1),l=F.x+M,k=F.y-M,d=j.Om.Py(r.r,$.YV,C,$.r,!0),I=j.Om.Py(r.$,$.YV,C,$.$,!0);
while(d.length<I.length)d=" "+d;while(d.length>I.length)I=" "+I;B.m9.LA(l,k,[dG.get([12,41]).charAt(0)+": "+d,dG.get([12,42]).charAt(0)+": "+I],$)};
B.m9.LA=function(F,r,$,C){function M(c,V,t,Y,i,J){c.beginPath();c.moveTo(V,t+J);c.arcTo(V,t+i,V+J,t+i,J);
c.arcTo(V+Y,t+i,V+Y,t+i-J,J);c.arcTo(V+Y,t,V+Y-J,t,J);c.arcTo(V,t,V,t+J,J)}var l=B.ha(),k=Math.round,d=k(11*l),I=B.m9.an_,Q=0;
if(I==null)I=B.m9.an_=document.createElement("canvas");var c=I.getContext("2d");c.font=d+"px monospace";
for(var O=0;O<$.length;O++)Q=Math.max(Q,c.measureText($[O]).width);var x=k(Q+12*l),U=k(($.length*14+5)*l),S=new cS(F,r-U,x,U);
if(I.width!=x||I.height!=U){I.width=x;I.height=U;c.font=d+"px monospace"}c.clearRect(0,0,x,U);c.fillStyle="rgba(0,0,3,0.8)";
M(c,0,0,x,U,k(4*l));c.fill();c.fillStyle="rgba(255,255,255,1)";for(var O=0;O<$.length;O++)c.fillText($[O],k(6*l),k((O+1)*13*l));
var z=[c.getImageData(0,0,x,U).data,S.P()];if(C)C.pu.oY=[z];return z};B.m9.an_=null;B.m9.apB=function(F,r,$,C){if(r)this._s=r;
var M=this.ais;if(F)M=[F.r,F.$,F.YV];if($&&M)M[3]=$.AK.qU;this.ais=M;var l=new k6(_.E.c,!0);l.data={R:_.m.Rl,J:this.id,qa:M};
if(this._s)this._s.a(l)};B.m9.it=function(F){F.prototype.zN=B.m9.apB;F.prototype.Db=function(r,$){if($==d3.jG||$==d3.BN)this.zN(null,null,r,null)}};
B.uo="0";B.gI="1";B.adp="2";B.ajR="3";B.ov="5";B.azb="6";B.aD1="7";B.At="8";B.bO="9";B.mO="10";B.uI="11";
B.Rd="12";B.HX="13";B.CK="14";B.aqo="15";B.D8="16";B.NQ="18";B.oG="19";B.ae9="90";B.lE="20";B.yW="21";
B.xL="22";B.UG="23";B.pA="24";B.sB="25";B.rf="27";B.QV="31";B.XT="32";B.arI="33";B.co="34";B.aEx="35";
B.Q2="36";B.RY="37";B._a="38";B.KZ="39";B.$o="40";B.tH="41";B.Bh="42";B.Lc="43";B.ahj="44";B.al3="45";
B.afw="46";B.agI="72";B.Q_="47";B.LF="48";B.I6="51";B.rz="52";B.fA="54";B.uh="55";B.p5="56";B.EY="57";
B.Y7="58";B.H1="59";B.MI="60";B.Li="61";B.cn="70";B.op="71";B.asB="73";B.DJ="100";B.VB="101";B.Mw="102";
B.Uh="103";B.qh="120";B.qD="121";B.tZ="230";B.ajo="231";B.sT="232";B.pO="233";B.Ei="234";B.tl="235";
B.AF="236";B.JJ={};B.JJ[B.UG]="tools/brush";B.JJ[B.pA]="tools/pencil";B.JJ[B.QV]="tools/eraser";B.m5={PcTl:B.pA,PbTl:B.UG,moveTool:B.uo,cloneStampTool:B.rf,typeCreateOrEditTool:B.Q_,artboardTool:B.cn,marqueeRectTool:B.gI,typeVerticalCreateOrEditTool:B.LF,perspectiveCropTool:B.uI,marqueeEllipTool:B.adp,eyedropperTool:B.CK,eraserTool:B.QV,pathComponentSelectTool:B.I6,lassoTool:B.ov,backgroundEraserTool:B.XT,directSelectTool:B.rz,polySelTool:B.azb,rectangleTool:B.fA,magneticLassoTool:B.aD1,gradientTool:B.co,quickSelectTool:B.At,bucketTool:B.aEx,ellipseTool:B.uh,magicWandTool:B.bO,blurTool:B.Q2,polygonTool:B.p5,cropTool:B.mO,sharpenTool:B.RY,lineTool:B.EY,sliceTool:B.Rd,smudgeTool:B._a,customShapeTool:B.Y7,sliceSelectTool:B.HX,dodgeTool:B.KZ,spotHealingBrushTool:B.NQ,burnInTool:B.$o,saturationTool:B.tH,penTool:B.Bh,redEyeTool:B.xL,freeformPenTool:B.Lc,rulerTool:B.D8,paintbrushTool:B.UG,handTool:B.H1,pencilTool:B.pA,zoomTool:B.Li,objectSelectTool:B.ajR,healingBrushTool:B.oG,patchTool:B.lE,contentAwareMoveTool:B.yW,colorReplacementBrushTool:B.sB,curvaturePenTool:B.ahj,rotareViewTool:B.MI};
B.k7=function(F,r,$){B.m9.call(this,F,r,$);this.N8={brush:F?g9._r():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.e=null;this.O8=null;this.nS=null;this.xg=null;this.mp=null;this.Ot=null;this.SF=null;this.l$=null;
this.KV=null;this.h9=null;this.pR=null;this.ND=null;this.lS=null;this.uz=1;this.Cc=!1;this.WB=null;this.xN;
this.caller=null};B.k7.prototype=new B.m9;B.k7.prototype.j0=function(F,r){return F.HY&&r.D(ac.il)};B.k7.prototype.tf=function(F,r,$,C,M){if(C.D(ac.AH)){this.Ot=new hx(M.x,M.y);
var l=this.N8.brush.Brsh.v,k=l.Dmtr.v.val,d=l.Hrdn!=null?l.Hrdn.v.val:-1;this.SF=[k,d,!0,j.N(this.N8.brush),M];
this.Sx($)}};B.k7.prototype.BU=function(F,r,$){var C=this.SF,M=F.f.bU,l=$.x-C[4].x,k=$.y-C[4].y,d=C[0],I=C[1],c=Math.abs(l)>Math.abs(k);
if(c&&C[2]){var Q=Math.round(2*l/M);d+=Q;$.x-=l-.5*Q*M}if(!c&&!C[2]&&I!=-1){var Q=Math.round(.25*k);
I+=Q;$.y-=k-4*Q}d=Math.max(1,d);I=C[1]==-1?-1:Math.max(0,Math.min(100,I));var x=C[3];x.Brsh.v.Dmtr.v.val=d;
if(I!=-1)x.Brsh.v.Hrdn.v.val=I;this.SF=[d,I,c,x,$];var U=ap.Nv(x,r.sO.QY,M),S=U[1];S.x=Math.round(this.Ot.x-S.r/2);
S.y=Math.round(this.Ot.y-S.$/2);F.pu.Q0=[U];var z=F.f.Ti(this.Ot.x,this.Ot.y);F.pu.Fc={uW:[],db:[z.x-d/2,z.y,z.x+d/2,z.y]};
if(I!=-1)F.pu.Fc.db.push(z.x+50/M,z.y-I/2,z.x+50/M,z.y+I/2);F.eD=!0};B.k7.prototype.ql=function(F,r,$,C,M){if(this.id==B.lE||this.id==B.yW)return;
if(this.Ot){this.Ot=null;this.zZ(j.N(this.SF[3]));F.pu.Q0=[];F.pu.Fc=null;F.eD=!0;return}var l=new k6(_.E.c,!0);
l.data={R:_.m.Rl,J:this.id,aCs:"showBrushOpts",Vl:new hx(M.Rn+4,M.WQ)};r.a(l)};B.k7.prototype.zZ=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.WF,jg:d3.$B,lV:F};this.caller.a(r)};B.k7.w8=function(F,r,$,C,M,l){if(F==null)F="FrgC";
if(r==null)r="norm";if($==null)$=1;if(M==null)M=!1;var k={classID:"Fl",Usng:{t:"enum",v:{FlCn:F}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round($*100)}},PrsT:{t:"bool",v:M},Md:{t:"enum",v:{BlnM:dL.Yy(r)}}};
if(F=="Clr")k.Clr={t:"Objc",v:C};if(F=="contentAware")k.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(F=="Ptrn")k.Ptrn={t:"Objc",v:l};return{hE:"fill",iH:k}};B.k7.prototype.Y3=function(F,r,$,C,M){this._s=r;
var l=$.GY.length,k=l!=0?-1-$.GY[0]:$.K[0],d=$.u[k],I=d&&d.add.SoLd&&d.add.SoLd.generativeDocInfo,c=F.R=="fromAction"&&F.NT&&F.NT.iH&&JSON.stringify(F.NT.iH).indexOf("aiHeal")!=1;
if(l==0&&!c&&!$.DI(r))return;if(F.R=="fromAction"){var Q=F.NT,x=Q.iH;if(x&&x.null&&x.null.v[0]&&x.null.v[0].v.classID=="Path"){var U=$.Ug(),S=U[0],z=U[1],V=S[z.length==0?0:z[0]].add.vmsk;
if(Q.hE=="fill"){var t=V.rc(),Y=M.y1,i=this.N8,J=Y>>16&255,H=Y>>8&255,v=Y>>0&255;this.La($,d,t,J,H,v,Math.round(i.opacity*255),i.bmode,"Fill Path")}else{var n=x&&x.Prs&&x.Prs.v,G=JSON.stringify(this.N8.brush);
if(n)g9.a7d(this.N8.brush,[!1,!0]);var g=Date.now();for(var W=0;W<1e3;W++){var L=j.w.ZZ(V.M,W,!0);if(L==-1){this.pf($,r,M,C,null);
break}var b=V.M[L],T=V.M.slice(L,L+1+b.length),a=j.b.oJ(T,2).n,R=a.slice(0,8);for(var D=8;D<a.length;
D+=6)R.push(a[D-2],a[D-1],a[D],a[D+1],a[D+2],a[D+3],a[D+4],a[D+5]);var h={};h.Points=R;h.TextOnPathTRange=V.tn.slice(0);
var h=j5.M2(h,2,b.I==3),K=h[0],X=$.f.uc(K[0],K[1]);if(n)X.ho=0;if(W==0)this.SY($,r,M,C,X);else this.O8.moveTo(K[0],K[1],n?0:null);
var w=K.length,N=b.I==0?w+2:w;for(var O=2;O<N;O+=2){X=$.f.uc(K[O%w],K[(O+1)%w]);X.HY=!0;if(n){var s=O/N;
X.ho=2*Math.min(s,1-s)}this.GQ($,r,M,C,X,this.N8.flow)}this.O8.finish();this.kg($)}console.log(Date.now()-g);
if(n)this.N8.brush=JSON.parse(G)}}else if(Q.hE=="fill"){var A=x.PrsT?x.PrsT.v:!1,p=d?d.add.lspf:0;if(A&&d){d.add.lspf=p==null?1:p|1}var q=(x.Opct?x.Opct.v.val:100)/100,f=x.Md?dL.Gg(x.Md.v.BlnM):"norm";
q=Math.round(255*q);var e=x.Usng.v.FlCn;if(e=="contentAware"||e=="aiHeal"){if($.d==null&&!I){alert("Select an area to heal first.");
return}var o=$.d;if(e=="aiHeal"&&!k8.pV($))return;if(e=="contentAware"){this.QT($);this.wo($,0);var E=j.j(o.S.C()*4);
j.dr(o.G,E,3);this.E6($,"sheal",E,o.S,o.S);this.vM($,o.S);this.finish($,o.S)}else{this.oo=$;this.e=M;
var cj=k8.uE(M,3),u=function(){this.xN=x.prmt.v;k8.a93(this.xN,cj,$,this.aBz.bind(this),x.jg);var jz=new k6(_.E.c,!0);
jz.data={R:_.m.O7,Sm:"Processing ..."};r.a(jz);this.caller=r}.bind(this);if(cj||k8.UO(3))u();else k8.$k(u)}}else if(e=="Ptrn"){var cd=M.We,m=$.d?$.d.S.P():new cS(0,0,$.r,$.$),aZ=j.j(m.C()*4);
en.Ui(x,aZ,m,cd,new hx(0,0));for(var O=0;O<aZ.length;O+=4)aZ[O+3]=q;this.MZ($,d,$.d,aZ,f,[6,48,0,2])}else{var Y;
if(e=="FrgC")Y=M.y1;else if(e=="BckC")Y=M.J2;else if(e=="Blck")Y=0;else if(e=="Wht")Y=16777215;else if(e=="Gry")Y=8421504;
else if(e=="Clr"){var jN=j.qS.MB(x.Clr.v);Y=jN.t<<16|jN.L<<8|jN.X}var J=Y>>16&255,H=Y>>8&255,v=Y>>0&255;
this.La($,d,$.d,J,H,v,q,f,[2,3])}if(A&&d){d.add.lspf=p==null?0:p}}else if(Q.hE=="delete"){var eh=k<0?1:d.Go,o=$.d,b0;
if(o==null)return;var iA=k<0?$.Bs[-k-1]:eh<=0?null:eh==1?d.rc():d.WZ($).Lj,m=eh<=0?d.S:iA.S,hd=eh<=0?o.S.R7(m):o.S.P();
if(hd.XS())return;var kx=hd.C();if(eh<=0){b0=j.j(kx*4,$.depth);j.mR(d.buffer,d.S,b0,hd)}else{b0=j.j(kx,$.depth);
iA.extend(hd);j.wU(iA.G,iA.S,b0,hd)}if(0<=k&&d.Kr($,o)){if(eh<=0){b0.fill(0);j.mR(d.Z5.sc,d.Z5.Rh,b0,hd)}else{b0.fill(255);
j.wU(d.Z5.sc,d.Z5.Rh,b0,hd)}}else{if(eh<=0){var gX=j.j(b0.length>>2,$.depth);j.Eg(b0,gX,3);j.v.es(j.j(o.S.C(),$.depth),o.S,gX,hd,o.G,hd,1);
j.dr(gX,b0,3)}else{var j$=j.j(o.S.C(),$.depth),J=M.J2>>>16&255,H=M.J2>>8&255,v=M.J2>>0&255;j$.fill(Math.round(j.er(J,H,v)));
j.v.es(j$,o.S,b0,hd,o.G,hd,1)}}this.Aw($,!0,[2,2],k,eh,hd,b0)}}if(F.R=="stroke"){var i0=F.aBJ,o=$.d;
if(o==null){o={S:d.S.P(),G:j.j(d.S.C())};j.Eg(d.buffer,o.G,3)}var f7=en.jQ(i0),am=B.u_.abr(o,Math.ceil(f7[0]),Math.ceil(f7[1])),Y=j.qS.MB(i0.Clr.v),J=Math.round(Y.t),H=Math.round(Y.L),v=Math.round(Y.X);
this.La($,d,am,J,H,v,Math.round(255*i0.Opct.v.val/100),dL.Gg(i0.Md.v.BlnM),[14,9])}if(F.R=="fillBMP"){this.MZ($,d,$.d,F.uv,F.uN,F.qc)}if(F.R=="draw"){var gf=F.TT,cC=gf.S;
this.QT($);var aD=$.u[$.K[0]];if(F.aiJ&&aD&&aD.Go<=0&&$.GY.length==0){cC=B.tt.ab$(gf,$);aD.buffer=gf.buffer.slice(0);
aD.S=cC.P()}else{var c_=this.N8.bmode,a9=this.N8.opacity;this.N8.bmode="norm";this.N8.opacity=1;this.E6($,"draw",gf.buffer,cC,cC.R7(new cS(0,0,$.r,$.$)));
this.N8.bmode=c_;this.N8.opacity=a9}this.vM($,cC);$.Wk=!0;this.finish($,cC,F.qc,F.aiJ)}};B.k7.prototype.aBz=function(F){var r=F.target.response,$=new Uint8Array(r);
if(this.aED){this.aED=!1;r=dN.mj(P.qV($))}else if($[0]==123){var C=JSON.parse(P.qV($)),O=0;console.log(C);
if(C.status=="error"){alert(C.message.prompt[0]);return}var M=C.image_links;if(M==null)M=C.output;var l=M[0],k=new XMLHttpRequest;
k.responseType="arraybuffer";while(!0){var d=new XMLHttpRequest;d.open("HEAD",l,!1);d.send();if(d.status!=404)break;
console.log("not ready");O++}k.open("GET",l,!0);k.onload=this.aBz.bind(this);this.aED=!0;k.send();return}var I=dN.oM.YH(r)[0],c=new Uint8Array(I.data),Q=this.oo,x=k8.F$(Q)[0],U=k8.F$(Q)[1];
this.oo=null;var S=x.r/I.$Y.r;if(S>1.1){var z=B.hL.yF([c,I.$Y],new hS(S,0,0,S,0,0));c=z.buffer}var V=Q.u[Q.K[0]],t=V.add.SoLd&&Q.d==null,Y=t?V.rc():Q.d,i=j.j(x.C()*4);
j.mR(j.Mz(Q.Ez(),8),new cS(0,0,Q.r,Q.$),i,x);var J=j.j(x.C());j.wU(j.Mz(Y.G,8),Y.S,J,x);j.round(J);var H=new Uint32Array(i.buffer),v=new Uint32Array(c.buffer);
for(var O=0;O<H.length;O++)if(J[O]==0)v[O]=H[O];j.i7.AY(c,J,x,null,500*(1+U));var n=new k6(_.E.c,!0);
n.data={R:_.m.hF,Sm:"Processing ..."};this.caller.a(n);if(t){var n=new k6(_.E.O,!0);n.J=B.pO;n.data={R:Z._x,Y:[c,x],amh:this.xN};
this.caller.a(n)}else{var G=new kQ(this.xN),r=Y.S.R7(new cS(0,0,Q.r,Q.$));G.r=r.r;G.$=r.$;G.YV=Q.YV;
G.u.push(G.fm());var V=G.at();V.S=r.P();G.u.push(V);V.Da(this.xN);V.buffer=j.j(V.S.C()*4);j.mR(c,x,V.buffer,V.S);
V.S.x=V.S.y=0;V=G.at();V.Da("Variations");V.add.lsct=jR.ul;V.ww="pass";V.U4=24;G.u.push(V);G.vM();var n=new k6(_.E.O,!0);
n.data={R:Z.a1,xB:G};n.J=B.pO;this.caller.a(n);V=Q.u[Q.K[0]];var g=V.add.SoLd;g.generativeDocInfo={t:"Objc",v:{classID:"generativeDocInfo",Vrsn:{t:"long",v:1},workflow:{t:"long",v:0}}};
B.qW.cI(Q,Q.K,null,[r.x-V.S.x,r.y-V.S.y]);V.Lj=new Z.tp;V.Lj.color=0;V.Lj.S=Q.d.S.P();V.Lj.G=Q.d.G.slice(0);
Q.vM();n=new k6(_.E.wG,!0);n.data=B.u_._N();this.caller.a(n);n=new k6(_.E.c);n.data={R:_.m.KS,rS:df.sy.VK};
this.caller.a(n)}if(k8.uE(this.e,3)==null)k8.uS("Inpaint",3)};B.k7.prototype.La=function(F,r,$,C,M,l,k,d,I){var c=$==null?new cS(0,0,F.r,F.$):$.S,Q=j.j(c.C()*4,F.depth);
if(F.depth==8)j.A9(Q,k<<24|l<<16|M<<8|C<<0);else{var x=j.zV(F.depth)/255;for(var O=0;O<Q.length;O+=4){Q[O]=C*x;
Q[O+1]=M*x;Q[O+2]=l*x;Q[O+3]=k*x}}this.MZ(F,r,$,Q,d,I)};B.k7.prototype.MZ=function(F,r,$,C,M,l){var k=F.GY.length!=0?-1-F.GY[0]:F.K[0],d=k<0?1:r.Go,I=k<0?F.Bs[-1-k]:d<=0?null:d==1?r.rc():r.WZ(F).Lj,c=d<=0?r.S:I.S,Q=$==null?new cS(0,0,F.r,F.$):$.S,x;
if($)x=$.G;else{x=j.j(F.r*F.$,F.depth);x.fill(j.zV(F.depth))}if($!=null)j.Qk(x,C);var U=Q.C(),S=j.j(U*4,F.depth);
if(d<=0)j.mR(r.buffer,r.S,S,Q);else{I.extend(Q);S.fill(255);j.Wn(I.bR(Q),S)}if(0<=k&&$&&r.Kr(F,$)&&d<=0){var z=r.Z5.$z,V=r.Z5.$z.slice(0);
if(d<=0)j.Jx(C,V);else j.Jx(fullc,V);var t=new fH([2,3],this);t.data={R:"drawtemp",z:F.K[0],ku:d,a48:z,abe:V};
F.gg(t);this.mY(t.data,F)}else{if(d<=0){var Y;if(r.aV(0)){Y=j.j(Q.C());j.Eg(S,Y,3)}j.v.O5(M,C,Q,S,Q,Q,1);
if(r.aV(0))j.dr(Y,S,3)}else{j.v.O5(M,C,Q,S,Q,Q,1);var i=j.j(U);j.R2(S,i);S=i}this.Aw(F,!0,l,k,d,Q,S)}};
B.k7.prototype.fI=function(F){if(ac.wL.indexOf(F)!=-1)return!0;return!1};B.k7.prototype.JG=function(F,r,$,C){var M=this.N8.brush,l=C.D(ac.AH),k=l!=this.Cc,d=B.k7.YF(M,C);
if(d!=null)this.zZ(d);if(!C.D(ac.Xf)&&C.Iy()!=-1&&this.id!=B.sB){var I=ac.a8d(Math.round(this.N8.opacity*100),C.Iy())/100;
this.VE({opacity:I},r)}if(this.id==B.At&&k&&F!=null){var c=this.N8.qsmode;if(c==2)c=F.d==null?0:1;else c=2;
this.VE({qsmode:c},r)}this.Cc=l;if(k){if(F)this.uz=F.f.bU;this.Sx($,C)}};B.k7.YF=function(F,r){var $=F.Brsh.v.Dmtr.v.val,C=F.Brsh.v.Hrdn!=null?F.Brsh.v.Hrdn.v.val:-1,M=F.Brsh.v.Angl.v.val,l=$,k=C,d=M,I=r.D(ac.il);
if(r.D(ac.Sz)){if(I)C=25*Math.floor((C-1)/25);else{if($<=10)$--;else if($<=50)$=5*Math.floor(($-1)/5);
else if($<=100)$=10*Math.floor(($-1)/10);else if($<=200)$=25*Math.floor(($-1)/25);else if($<=400)$=50*Math.floor(($-1)/50);
else $=100*Math.floor(($-1)/100)}}if(r.D(ac.wv)){if(I)C=25*Math.ceil((C+1)/25);else{if($<10)$++;else if($<50)$=5*Math.ceil(($+1)/5);
else if($<100)$=10*Math.ceil(($+1)/10);else if($<200)$=25*Math.ceil(($+1)/25);else if($<400)$=50*Math.ceil(($+1)/50);
else $=100*Math.ceil(($+1)/100)}}var c=r.D(ac.ex),Q=r.D(ac.IZ);if(I&&(c||Q)){M=(M+360+15*(c?1:-1))%360}$=Math.max(1,$);
C=Math.max(0,Math.min(100,C));if(k==-1)C=-1;if($!=l||C!=k||M!=d){var x=j.N(F);x.Brsh.v.Dmtr.v.val=$;
x.Brsh.v.Angl.v.val=M;if(k!=-1)x.Brsh.v.Hrdn.v.val=C;return x}return null};B.k7.prototype.Sx=function(F,r,$,C){if(F.sO.list.length==0)return;
var M=this.id,l;if((M==B.rf||M==B.oG||M==B.UG||M==B.pA)&&(r!=null&&r.D(ac.AH)||this.N8.alt[0]))l="crosshair";
else{var k=this.uz,d=this.N8.brush;if((M==B.rf||M==B.oG)&&$&&this.ND&&this.ND.length==this.pR.C()*4){var I=$.f.Ti(C.x,C.y),c=this.a9y(I),Q=this.ND,x=this.pR,U=new cS(x.x+c.x,x.y+c.y,x.r,x.$),S=ap.Nv(d,F.sO.QY,k),z=S[0],V=S[1],t=Math.ceil(V.r/k),Y=new cS(Math.round(I.x-t/2),Math.round(I.y-t/2),t,t),i=j.j(Y.C()*4),J,H;
if($.depth==8)j.mR(Q,U,i,Y);else{var v=j.j(Y.C()*4,$.depth);j.mR(Q,U,v,Y);i=j.Mz(v,8)}if(k==1){J=i;H=Y}else{var n=new hS(k,0,0,k,0,0),G=B.hL.yF([i,Y],n,!0);
H=V.P();H.x=G.S.x;H.y=G.S.y;if(H.Mp(G.S))J=G.buffer;else{J=j.j(H.C()*4);j.mR(G.buffer,G.S,J,H)}}var g=this.N8.opacity/255;
for(var O=0;O<J.length;O+=4)J[O+3]=g*(z[O+3]*J[O+3]);ap.al8(new Uint32Array(J.buffer),H,4278190080,4294967295);
l={gf:J,OV:H,u2:new hx(H.r/2,H.$/2)}}else l=ap.bD(d,F.sO.QY,k,M==B.sB||M==B.XT)}var W=new k6(_.E.c,!0);
W.data={R:_.m.yz,P5:l};if(this.caller)this.caller.a(W)};B.k7.prototype.enable=function(F,r,$,C){this.e=$;
this.caller=r;this.zZ(j.N(this.N8.brush));if(F&&F.f.bU!=0)this.uz=F.f.bU;this.Sx($,C)};B.k7.prototype.Db=function(F,r){if(r==d3.$B){this.N8.brush=F.sO.zU;
this.Sx(F)}};B.k7.prototype.Rg=function(F,r,$,C,M){for(var l in F)this.N8[l]=F[l];if(this.N8.alt[0])this.Sx(M,C,$)};
B.k7.prototype.a8n=function(F){var r=F.GY.length!=0?-1-F.GY[0]:F.K[0],$=F.u[r],C=r<0?1:$.Go,M=r<0?F.Bs[-r-1]:C<=0?null:C==1?$.rc():$.WZ(F).Lj,l=M?M.G:$.buffer,k=(M?M.S:$.S).P();
return[$,C,M,l,k]};B.k7.prototype.QT=function(F,r){this.lS=F.d==null?null:{S:F.d.S.P(),G:F.d.G.slice(0)};
var $=this.h9,C=this.a8n(F),M=C[0],l=C[1],k=C[2];this.h9=C[3];this.KV=C[4];var d=new cS(0,0,F.r,F.$),I=d.DM(this.KV);
if((this.kS()&&l<=0||I.Mp(this.KV))&&r!=!0){if($&&$.length==this.h9.length){$.set(this.h9);this.h9=$}else this.h9=this.h9.slice(0)}else{if(k)k.extend(I);
else M.extend(I)}};B.k7.prototype.wo=function(F,r){var $=this.a8n(F),C=$[1],M=$[3],l=$[4],k=[M,l],d=r!=null?r:this.N8.sfrom;
if(C<=0&&d!=0){k[1]=new cS(0,0,F.r,F.$);k[0]=F.Ez(d==1&&F.K[0]!=F.u.length-1?F.K[0]:null).slice(0)}this.pR=k[1].P();
this.ND=k[0].slice(0)};B.k7.prototype.mJ=function(F,r,$,C,M,l){if(M.HY&&C.D(ac.AH)&&this.Ot==null){if(l)this.KX=$.y1;
var k=new k6(_.E.O,!0);k.J=B.CK;k.data={R:"pickhere",aJy:M};r.a(k);var d=B.$r.adZ(F,!1,!0,M,null,$.y1,this.KX,1),k=new k6(_.E.c,!0);
k.data={R:_.m.yz,P5:d};r.a(k);return!0}return!1};B.k7.prototype.j$=function(F,r,$,C,M,l){if(this.id!=B.At&&!F.DI(this.caller)){this.O8=null;
return}if(this.id!=B.At&&this.O8)return;this.QT(F);var k=new cS(0,0,F.r,F.$),d=null;if(l!=null){var I=F.GY.length!=0?-1-F.GY[0]:F.K[0],c=F.u[I],Q=I<0?F.Bs[-I-1]:c.Go<=0?null:c.Go==1?c.rc():c.WZ(F).Lj;
d=j.j(k.C()*4,F.depth);if(Q)B.k7.YC(this.h9,this.KV,Q.color,d,k);else j.mR(this.h9,this.KV,d,k)}var x=this.N8;
if(this.O8&&this.id==B.At&&x.qsmode!=0&&F.d!=null){}else{var U=r.y1,S=r.J2,t=null;if(this.WB=="erase"){var z=U;
U=S;S=z}var V=this.id==B.At?this.KV:k;if(F.pc)t=[3];else if(F.D3!=-1){var Y=F.S8[F.D3];t=[Y.h7[0],Y.h7[1],Y.add.vmsk.M]}this.O8=new ap(x.brush,r.sO.QY,r.sO.fQ,{gz:M,Le:l,atU:x.smth*50/F.f.bU,Fh:this.id==B.pA||x.emode==1,h7:t,depth:F.depth},U,S,V,d)}if(this.id==B.At){this.O8.a6S(x.brush,x.qsmode==2?0:16777215)}var i=F.f.Ti(C.x,C.y);
if($.D(ac.il)&&this.nS){var J=this.nS;this.O8.moveTo(J.x,J.y,C.ho);this.O8.lineTo(.001*J.x+.999*i.x,.001*J.y+.999*i.y,C.ho);
this.O8.lineTo(i.x,i.y,C.ho)}else this.O8.moveTo(i.x,i.y,C.ho);this.nS=i;this.xg=i.P();this.mp=new bC(i,F.f.K$)};
B.k7.prototype.QR=function(F,r,$){if(F&&F.f.bU!=0&&F.f.bU!=this.uz){this.uz=F.f.bU;this.Sx($)}};B.k7.prototype.BP=function(F,r,$,C){if(this.O8==null)return;
var M=F.u[F.K[0]],l=F.f.Ti(C.x,C.y),k=this.mp.VT(l,$);if(k.Mp(this.nS))return 1;this.O8.lineTo(k.x,k.y,C.ho);
this.nS=k;if(this.id==B.rf||this.id==B.oG){var d=this.IN(),I=11;d=F.f.uc(l.x-d.x,l.y-d.y);var c=I>>>1,Q=new cS(Math.round(d.x)-c,Math.round(d.y)-c,I,I),x=j.j(Q.C()*4);
for(var O=0;O<I;O++)x[(O*I+c)*4+3]=x[(I*c+O)*4+3]=255;F.pu.oY=[[x,Q]];F.eD=!0}};B.k7.prototype.zN=function(F,r,$,C){if($.fp!=this.id)return;
if(this.id!=B.At||F==null)return;if(F.d==null||F.K[0]!=this.aaJ){this.aaJ=F.K[0];this.VE({qsmode:0},r)}};
B.k7.prototype.vM=function(F,r){if(F.GY.length!=0){F.eD=!0;return}var $=F.u[F.K[0]];if(r==null){r=this.O8.Z8();
if(this.kS()&&$.Go<=0)r=r.R7(this.KV)}var C=$.Go;if(C==1||C==3){var M=Math.round((C==1?$.rc():$.WZ(F).Lj).nN*2.4);
r=r.P();r.lW(M,M)}if(r.XS())return;if(C<=0){$.vM(r)}if(C==1){$.rc().qX=!0;$.uH(F,r)}if(C==3){$.vM(r)}F.vM(F.root.aK(r,F,F.K[0],!0))};
B.k7.prototype.pf=function(F,r,$,C,M){if(this.O8==null)return;this.O8.finish();if(this.id!=B.NQ&&this.id!=B.oG&&this.id!=B.At)this.kg(F);
if(this.id==B.rf||this.id==B.oG){F.pu.oY=[];F.eD=!0}if(this.id==B.At){var l=F.d;F.d=this.lS;var k=new k6(_.E.O,!0);
k.data={R:"setsel",qc:this.name,d:l};k.J=B.gI;r.a(k);if(this.N8.qsmode==0)this.VE({qsmode:1},r)}else{this.finish(F,this.O8.Hq());
this.O8=null;this.l$=null}this.dir=0};B.k7.prototype.VE=function(F,r){for(var $ in F)this.N8[$]=F[$];
var C=new k6(_.E.c,!0);C.data={R:_.m.Rl,J:this.id,E2:F};r.a(C)};B.k7.prototype.kS=function(){var F=this.id;
return F==B.At||F==B.QV||F==B.KZ||F==B.$o||F==B.tH||F==B.xL};B.k7.prototype.finish=function(F,r,$,C,M){var l=F.GY.length!=0?-1-F.GY[0]:F.K[0],k=F.u[l],d=l<0?1:k.Go,I=l<0?F.Bs[-l-1]:d<=0?null:d==1?k.rc():k.WZ(F).Lj,c=I?I.S:k.S,U;
if(this.kS()||!c.Mp(this.KV)){if(I==null){if(this.kS())k.uF();else{var Q=r.DM(this.KV),x=j.j(Q.C()*4,F.depth);
j.mR(k.buffer,k.S,x,Q);k.buffer=x;k.S=Q}}else I.uF();this.vM(F,c)}if(d<=0){U=j.j(r.C()*4,F.depth);j.mR(this.h9,this.KV,U,r)}else{U=j.j(r.C(),F.depth);
U.fill(Math.round(j.zV(F.depth)*I.color/255));j.wU(this.h9,this.KV,U,r)}this.Aw(F,!1,$?$:this.name,l,d,r,U,C,M)};
B.k7.prototype.Aw=function(F,r,$,C,M,l,k,d,I){var c=k;if(M>0){c=j.j(l.C()*4,j.cN(k));B.k7.YC(k,l,0,c,l)}var Q=new fH($,this);
Q.data=[{z:C,ku:M,OV:l,PF:c}];if(d)Q.data.X5=[F.d,null];if(I)Q.data.X5=[this.lS,F.d];F.gg(Q);if(r)this.mY(Q.data,F);
else if(d)F.d=null;B.Xy.a5J(F,Q.data)};B.k7.prototype.Ea=function(F,r){this.aco(F,r,!1)};B.k7.prototype.mY=function(F,r){this.aco(F,r,!0)};
B.k7.prototype.pX=function(F){return B.Xy.pX(F)};B.k7.prototype.aco=function(F,r,$){if(F.R=="drawtemp"){var C=$?F.abe:F.a48,M=r.u[F.z];
M.Z5.$z=C;M.C6(r,0,0,r.d);M.vM();r.Wk=!0}else{B.Xy.Ro(r,F);if(F.X5){r.d=F.X5[$?1:0];r.Dn=!0}}r.vM()};
B.k7.prototype.kg=function(F){var r=this.O8.Vr(),$=this.O8.y2(),C=this.O8.Z8();this.E6(F,this.WB,r,$,C);
this.vM(F)};B.k7.prototype.E6=function(F,r,$,C,M){var l=this.N8,k=F.u[F.K[0]],d=F.GY.length!=0?F.Bs[F.GY[0]]:k.Go<=0?null:k.Go==1?k.rc():k.WZ(F).Lj,I=j.j(M.C()*4,F.depth),c,Q=k.aV(0);
if(d==null){if(this.id==B.yW&&r=="heal")j.mR(k.buffer,k.S,I,M);else j.mR(this.h9,this.KV,I,M);if(Q){c=j.j(M.C(),F.depth);
j.Eg(I,c,3)}}else{B.k7.YC(this.h9,this.KV,d.color,I,M)}if(F.d&&r!="qselect"){var x=M.R7(F.d.S),U=j.j(x.C()*4,F.depth);
if(r=="copy"){var S=j.j(x.C(),F.depth);j.wU(F.d.G,F.d.S,S,x);j.mR(I,M,U,x);j.v.RS($,C,U,x,S,x,0,x,1,!1)}else{j.mR($,C,U,x);
j.PO(F.d.G,F.d.S,U,x)}$=U;C=x}function z(Y,f7){var gf=Math.max(f7.x,Math.min(f7.x+f7.r-1,Y.x)),cC=Math.max(f7.y,Math.min(f7.y+f7.$-1,Y.y));
return new hx(gf,cC)}if(r=="idraw"||r=="ierase"){if(this.l$==null)this.l$=j.j(this.KV.C());var V=l.samp,t=this.e.J2,Y=z(this.nS,M),i=V==0?Y:this.xg,J=i.x,H=i.y,v=B.Ny._n(this.h9,this.KV,[i,new hx(J-2,H),new hx(J+2,H),new hx(J,H-2),new hx(J,H+2)]);
if(V==2)v=[[t>>>16&255,t>>>8&255,t>>>0&255,255]];var n=B.Ny.pC(I,M,Y,v,l.wconf),G=j.j(M.C());j.wU(this.l$,this.KV,G,M);
j.nu.DM(n,G,G);j.wU(G,M,this.l$,this.KV);j.PO(G,M,$,C);r=r.slice(1)}if(r=="erase"&&(B.Xy.anB(F)!=16777215||d))r="draw";
if(r=="draw")j.v.O5(l.bmode,$,C,I,M,M,l.opacity);else if(r=="erase"){var g=l.opacity;if(this.id==B.XT)g=1;
var W=j.j(M.C()*4,F.depth);j.mR($,C,W,M);if(d==null){var L=j.j(M.C(),F.depth);j.Eg(W,L,3);j.vy(L,g);
j.v4(L);j.PO(L,M,I,M)}else{j._8(W,0,0,0);j.v.O5("norm",W,M,I,M,M,g)}}else if(r=="clone"||r=="heal"){var b=this.IN(),T=this.pR.P();
T.offset(b.x,b.y);var a=M.P();a.lW(1,1);var R=j.j(a.C()*4,F.depth),D=j.j(a.C(),F.depth);j.mR($,C,R,a);
j.Eg(R,D,3);R.fill(0);if(d==null){j.mR(this.ND,T,R,a);var h=j.j(a.C(),F.depth);j.Eg(R,h,3);j.SS(h,D)}else B.k7.YC(this.ND,T,d.color,R,a);
if(r=="clone"){j.dr(D,R,3);j.v.O5(l.bmode,R,a,I,M,M,l.opacity)}if(r=="heal"){var K=D.slice(0);j.round(K,j.zV(F.depth)/10);
var X=j.j(a.C()*4,F.depth);if(d==null)j.mR(this.h9,this.KV,X,a);else B.k7.YC(this.h9,this.KV,d.color,X,a);
j.v.RS(R,a,X,a,K,a,0,a,1,!1);var w=j.Mz(X,8);j.i7.AY(w,K,a);j.Mz(w,F.depth,X);j.v.RS(X,a,I,M,D,a,0,M,1,!1)}}else if(r=="dodge"||r=="burn"){var N=M.C()*4,s=j.zV(F.depth),A=1/s,R=j.j(N,F.depth),q=1,f=0,e=0,o=0;
j.mR($,C,R,M);var p=B.k7.Wl;if(this.Cc){if(r=="dodge")r="burn";else r="dodge"}var E=l.rng;if(r=="dodge"){f=[1-q/2,1,1+q][E];
e=[1,1/(1+q),1][E];o=[q/2,0,0][E]}if(r=="burn"){f=[1/(1-q/2),1,1-q/2][E];e=[1,1+q,1][E];o=[-(q/2)/(1-q/2),0,0][E]}for(var O=0;
O<N;O+=4){var cj=R[O+3]*A;I[O+0]=s*p(I[O+0]*A,f,e,o,cj);I[O+1]=s*p(I[O+1]*A,f,e,o,cj);I[O+2]=s*p(I[O+2]*A,f,e,o,cj)}}else if(r=="sponge"||r=="redeye"){var R=j.j(M.C()*4,F.depth),D=j.j(M.C(),F.depth);
j.mR($,C,R,M);j.Eg(R,D,3);j.Jx(I,R);var u=l.smode;if(this.Cc)u=1-u;var cd=e9.Mv("hue2");if(r=="sponge")hA.qd(cd,0,[0,[-50,46][u],[6,5][u]]);
else hA.qd(cd,1,{Hf:[265,305,25,55],Ry:[0,-90,-70]});var m=f0.ak("hue2",cd);f0.Fx(m,R,R,M);j.v.RS(R,M,I,M,D,M,0,M,1,!1)}else if(r=="copy")j.mR($,C,I,M);
else if(r=="sheal"){var R=j.j(M.C()*4,F.depth),D=j.j(M.C(),F.depth);j.mR($,C,R,M);j.Eg(R,D,3);R.fill(0);
var aZ=this.ND,jN=this.pR;if(d){aZ=j.j(jN.C()*4,F.depth);B.k7.YC(this.ND,jN,0,aZ,jN)}var eh=j.Mz(R,8),iA=j.lK.AY(j.Mz(aZ,8),jN,j.Mz(D,8),eh,M);
j.Mz(eh,F.depth,R);if(iA!=0)j.mR(aZ,jN,R,M);if(l.sfrom==0)j.mR(R,M,I,M);else{j.mR(this.h9,this.KV,I,M);
j.dr(D,R,3);j.v.O5("norm",R,M,I,M,M,1)}}else if(r=="qselect"){var hd=this.KV,kx=hd.r,b0=hd.$,gX=kx*b0,j$=this.O8.Vr(),v=this.h9,i0=B.u_.iI,D=i0.GL;
D.fill(128);for(var O=0;O<gX;O++){var f7=j$[O<<2],am=j$[(O<<2)+3];if(am==255&&(f7==0||f7==255))D[O]=f7}D[0]=D[kx-1]=0;
D[(b0>>>1)*kx]=D[(b0>>>1)*kx+kx-1]=0;B.Ki.Vt(i0,!0,F);F.d={S:hd,G:i0.d.slice(0)};F.Dn=!0}if(d==null){if(Q)j.dr(c,I,3);
j.mR(I,M,k.buffer,k.S)}else B.k7.Vj(I,M,d)};B.k7.IN=function(){return null};B.k7.Wl=function(F,r,$,C,M){var l=C+r*Math.pow(F,$),k=l*M+F*(1-M);
return Math.max(0,Math.min(1,k))};B.k7.YC=function(F,r,$,C,M){var l=j.cN(F),k=j.zV(l),d=j.j(M.C(),l);
d.fill(k*$/255);j.wU(F,r,d,M);C.fill(k);j.Wn(d,C)};B.k7.Vj=function(F,r,$){var C=j.j(r.C(),j.cN(F));
j.R2(F,C);j.wU(C,r,$.G,$.S)};B.u_=function(F,r,$){B.m9.call(this,F,r,$);this.N8={binop:0,feat:0,cstr:{q:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.Nk=new hx(-1,-1);this.Nw=new hx(-1,-1);this.Cz="default";this._s=null;this.__=!1;this.hv=new eM;
this.s3=!1;this.$X=null;this.fH=null;this._j=!1;this.wA=!1};B.u_.prototype=new B.m9;B.u_.prototype.tY=function(){var F=this.N8,r=[F.binop,F.feat],$=F.wconf.slice(0);
$[1]=$[1]?1:0;$[2]=$[2]?1:0;var C=$.join(",")=="16,1,1";if(r[0]==0&&r[1]==0&&C)return null;if(!C)r.push($);
return r};B.u_.prototype.jN=function(F,r,$){var C=this.N8;if(F[0])C.binop=F[0];if(F[1])C.feat=F[1];if(F[2]){var M=C.wconf=F[2].slice(0);
if(typeof M[1]=="number"){M[1]=M[1]==1;M[2]=M[2]==1}}this.f6($)};B.u_.prototype.f6=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.Rl,J:this.id,N8:this.N8};F.a(r)};B.u_.iI={key:""};B.u_.oq=function(F,r,$){var C={hE:F,iH:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(r)C.iH.T=r;if($!=null)C.iH.AntA={t:"bool",v:$};return C};B.u_.Eu=function(F,r,$){return B.u_.oq("set",{t:"Objc",v:{classID:F,Top:{t:"UntF",v:{type:"#Pxl",val:r.y}},Left:{t:"UntF",v:{type:"#Pxl",val:r.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:r.y+r.$}},Rght:{t:"UntF",v:{type:"#Pxl",val:r.x+r.r}}}},$)};
B.u_.Sg=function(F,r,$){var C=[],M=[],k="set";for(var O=0;O<F.length;O+=2){C.push(F[O]);M.push(F[O+1])}var l={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:C},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:M}]}}}};
if(r)k=["set","addTo","subtractFrom","interfaceWhite"][r];return B.u_.oq(k,l,$)};B.u_.aAz=function(F,r,$){var C={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:F.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:F.y}}}},M=B.u_.oq("set",C);
M.iH.Tlrn={t:"long",v:r[0]};M.iH.AntA={t:"bool",v:r[1]};M.iH.Cntg={t:"bool",v:r[2]};if($==!0)M.iH.Mrgd={t:"bool",v:$};
return M};B.u_._N=function(F){return B.u_.oq("set",{t:"enum",v:{Ordn:F?"Al":"None"}})};B.u_.hr=function(F,r,$){var C={classID:"null"};
if(F!="border")C.selectionModifyEffectAtCanvasBounds={t:"bool",v:$};var M={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[F[0]];
C[M]={t:"UntF",v:{type:"#Pxl",val:r}};return{hE:F,iH:C}};B.u_.$b=function(F,r,$){var C={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},M={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:r}}]};
if($)M.v.push({t:"name",v:{classID:"Lyr",val:$}});var l=[{classID:"null",null:C,T:M},{classID:"null",null:M,T:C},{classID:"null",null:M,From:C},{classID:"null",null:M,With:C}],k=["set","add","subtract","interfaceIconFrameDimmed"];
return{hE:k[F],iH:l[F]}};B.u_.ab1=function(){return{hE:"make",iH:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}};
B.u_.arp=function(F,r){var $=new k6(_.E.c,!0);$.data={R:_.m.WF,jg:d3.yh};if(!r.V$)F.a($);$.data={R:_.m.WF,jg:d3.H4};
if(!r.AK.Xx)F.a($)};B.u_.prototype.Y3=function(F,r,$,C,M){B.u_.arp(r,M);this._s=r;var l=F.R,k,d,I=new cS(0,0,$.r,$.$),ic=!1,eH,kz,kq,a7;
if(l=="fromAction"){var c=F.NT,Q=c.hE,x=c.iH,U=x?x.selectionModifyEffectAtCanvasBounds:null,S=U&&U.v;
if(Q=="colorRange"){if(x.Clrs){var z=x.Clrs.v.Clrs,V=0,t=255,Y=["Shdw","Mdtn","Hghl"].indexOf(z),v=.4;
if(Y==0)t=60;else if(Y==1){V=100;t=150}else V=190;var i=["shadows","midtones","highlights"][Y],J=x[i+"LowerLimit"],H=x[i+"UpperLimit"];
if(J)V=J.v;if(H)t=H.v;var n=x[i+"Fuzziness"];if(n)v=n.v/100;k=B.u_.Hh($,V,t,v,!0)}else{var V=x.Mnm.v,t=x.Mxm.v,v;
V={tr:V.Lmnc.v,xz:V.A.v,X:V.B.v};t={tr:t.Lmnc.v,xz:t.A.v,X:t.B.v};v=x.Fzns.v/200;k=B.u_.Hh($,V,t,v)}d=[7,8]}else if(Q=="inverse"){if($.d==null){alert("No selection!");
return}k={G:j.j(I.C(),$.depth),S:I};j.wU($.d.G,$.d.S,k.G,k.S);j.v4(k.G);d=[7,2]}else if(Q=="expand"){var G=x.By.v.val,g=$.d.S.P();
g.lW(G,G);var W=j.j(g.C()),L=j.j(g.C(),$.depth);j.wU($.d.G,$.d.S,L,g);j.style.stroke(j.Mz(L,8),W,g,G);
k={G:j.Mz(W,$.depth),S:g};d=[7,4]}else if(Q=="contract"){var G=x.By.v.val,b=$.d.S.P();b.lW(1,1);if(!S)b=b.R7(I);
var L=j.j(b.C(),$.depth),T=j.j(L.length,8);j.wU($.d.G,$.d.S,L,b);j.v4(L);j.style.stroke(j.Mz(L,8),T,b,G);
j.v4(T);k={G:j.Mz(T,$.depth),S:b};j.uF(k);d=[7,5]}else if(Q=="border"){var G=x.Wdth.v.val;k=B.u_.abr($.d,G/2,G/2);
d=[7,9]}else if(Q=="feather"||Q=="smoothness"){var G=x.Rds.v.val;k=B.u_.abU($.d,G,Q=="smoothness",I,S);
d=Q=="feather"?[7,6]:[19,3,0]}else if(Q=="move"){var a=x.T.v,g=$.d.S.P();g.x+=a.Hrzn.v.val;g.y+=a.Vrtc.v.val;
k={G:$.d.G,S:g};d=[7,7]}else if(Q=="grow"||Q=="similar"){var R=this.N8.wconf.slice(0);if(x.Tlrn)R[0]=x.Tlrn.v;
R[2]=Q=="grow";var D=$.Ez(),h=new cS(0,0,$.r,$.$),K=$.d.S,X=Math.max(1,Math.round(Math.sqrt(K.C())/10)),w=j.j(h.C());
j.wU($.d.G,K,w,h);var N=[];for(var s=0;s<K.$;s+=X)for(var A=(K.C()+s)%X;A<K.r;A+=X)if($.d.G[s*K.r+A]==255){var p=new hx(K.x+A,K.y+s);
N.push(p);if(R[2])j.nu.DM(B.Ny.pC(D,h,p,null,R),w,w)}if(!R[2])j.nu.DM(B.Ny.pC(D,h,p,B.Ny._n(D,h,N),R),w,w);
k={G:w,S:h};d=Q=="grow"?"Grow Selection":"Similar Selection";console.log(x)}else{var q=x.null.v,f=x.AntA!=null&&x.AntA.v;
function e(cu){return j.b.LY(j.EL.y2(cu,$.r,$.$),!0)}function o(cu){var ha=cu[0].arr,g1=cu[1].arr,dd={n:[],C0:[]};
for(var O=0;O<ha.length;O++){dd.C0.push(O==0?"M":"L");dd.n.push(ha[O],g1[O])}dd.C0.push("Z");if(cu[0].uID=="#Prc")j.b.U(dd.n,new hS($.r/100,0,0,$.$/100,0,0),dd.n);
return dd}var E=["set","addTo","subtractFrom","interfaceWhite"].indexOf(Q),cj=x.T?x.T.v:null;if(cj&&cj.classID=="Elps"){k=this.aCa(B.Kk.aol(e(cj)),$.depth);
d=[10,4]}else if(cj&&cj.classID=="Rctn"){var u=e(cj);k={G:j.j(u.C(),$.depth),S:u.P()};k.G.fill(j.zV($.depth));
d=[10,15]}else if(cj&&cj.classID=="ObSl"){var u=e(cj),cd=B.u_.iI,m=cd.S,aZ=cd.GL,jN=m.r,eh=m.$,iA=u.x-m.x,hd=iA+u.r-1,kx=Math.max(iA,Math.min(hd,iA+hd>>>1)),b0=u.y-m.y,gX=b0+u.$-1,j$=Math.max(b0,Math.min(gX,b0+gX>>>1)),i0=Math.max(iA,0),f7=Math.min(hd,jN),am=Math.max(b0,0),gf=Math.min(gX,eh);
aZ.fill(128);if(0<=b0)for(var A=i0;A<f7;A++)aZ[b0*jN+A]=0;if(gX<eh)for(var A=i0;A<f7;A++)aZ[gX*jN+A]=0;
if(0<=iA)for(var s=am;s<gf;s++)aZ[s*jN+iA]=0;if(hd<jN)for(var s=am;s<gf;s++)aZ[s*jN+hd]=0;var cC=B.dQ.a4f,aD=Math.round(u.r*cC),c_=Math.round(u.$*cC);
for(var A=Math.max(0,kx-aD);A<Math.min(jN,kx+aD);A++)aZ[j$*jN+A]=255;for(var s=Math.max(0,j$-c_);s<Math.min(eh,j$+c_);
s++)aZ[s*jN+kx]=255;B.Ki.Vt(cd,!0);k={G:cd.d.slice(0),S:m.P()};d=[10,44]}else if(cj&&cj.classID=="Plgn"){k=this.aCa(o(cj.Pts.v.arr),$.depth);
d=[10,9]}else if(cj&&cj.classID=="Pnt"){k=B.Ny.aFa($,new hx(cj.Hrzn.v.val,cj.Vrtc.v.val),[x.Tlrn.v,f,x.Cntg==null||x.Cntg.v],x.Mrgd?x.Mrgd.v:!1);
d=[10,12]}else if(cj&&cj.Ordn=="None"){k=null;d=[7,1]}else if(cj&&cj.Ordn=="Al"){var a9=I;if($.K.length!=0){var jz=$.root.yw($.K[0]);
while(jz.parent&&jz.parent.parent)jz=jz.parent;if(jz.z.add.artb)a9=jz.z.dh()}k={G:j.j(a9.C(),$.depth),S:a9};
k.G.fill(j.zV($.depth));d=[7,0]}else if(cj&&cj[0]&&cj[0].v.keyID=="WrPt"){var g3={R:"frompath",Fo:[-1,0,0]};
this.Y3(g3,r,$,C,M);return}else{var e3=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(Q),c1=Q=="set"?cj:q,dI=c1[0].v.enum,g3;
if(dI=="Trsp"||dI=="Gray"||dI=="Msk"||dI=="vectorMask"||dI=="Trgt"){var kJ=$.K[0];if(c1.length==2)kJ=cQ.X6($,c1[1]);
var cA=["Trsp","Msk","vectorMask"].indexOf(dI);if(dI=="Trgt"&&$.u[kJ].Go==1)cA=1;if(dI=="Gray")cA=-1;
g3={R:"fromlayer",Fo:[kJ,cA,e3]}}else{if(c1[0].t=="name"){var kJ=0;for(var O=0;O<$.Bs.length;O++)if($.Bs[O].name==c1[0].v.val)kJ=O;
g3={R:"fromchannel",Fo:[-5-kJ,0,e3]}}else{var c2=["RGB","Rd","Grn","Bl"].indexOf(dI);g3={R:"fromchannel",Fo:[-1-c2,0,e3]}}}this.Y3(g3,r,$,C,M);
return}if(k){if(!f)j.round(k.G);if(x.Fthr)k=B.u_.abU(k,x.Fthr.v.val,!1);if(Q!="set"&&$.d!=null)k=j.nu.zv(k,$.d,E)}}if(Q=="expand"||Q=="contract")if(!S&&!I.contains(k.S)){var ee=k.S.R7(I),hF=j.j(ee.C(),$.depth);
j.wU(k.G,k.S,hF,ee);k.G=hF;k.S=ee}}if(l=="qmask"){ic=!0;var i6=$.c1(),h=new cS(0,0,$.r,$.$);if(i6){k=i6.S.Mp(h)&&j.b3(i6.G,255)?null:{S:i6.S.P(),G:i6.G.slice(0)};
eH=i6}else{k=null;kz=new Z.tp;kz.color=0;kz.name="Quick Mask";kz.Nn=!0;if($.d){kz.S=$.d.S.P();kz.G=$.d.G.slice(0)}else{kz.S=h;
kz.G=j.j(kz.S.C());kz.G.fill(255)}}d=[6,6,1];$.Wk=!0}if(l=="setsel"){k=F.d;d=F.qc}if(l=="crange"){var V=F.SL,t=F.xH;
k=B.u_.Hh($,V,t,F.xp);d=[7,8]}if(l=="fromlayer"||l=="fromchannel"||l=="frompath"){var hm=F.Fo[0],cA=F.Fo[1],E=F.Fo[2];
if(l=="fromlayer"){if(hm==null)hm=$.K[0];var bB=$.u[hm];if(cA<=0){if(bB.EX()){var jz=$.root.yw(hm);k={G:j.j(0),S:new cS};
for(var O=0;O<jz.children.length;O++){var iV=jz.children[O].z;if(iV.S.XS())continue;var eO=j.j(iV.S.C());
j.Eg(iV.buffer,eO,3);var aC={G:eO,S:iV.S.P()};if(O==0)k=aC;else k=j.nu.zv(k,aC,1)}if(k.S.XS())return}else{var fq=bB.S,bX=bB.buffer;
if(fq.XS())return;var gb=j.j(bX.length>>>2,$.depth);if(cA==0)j.Eg(bX,gb,3);if(cA==-1)j.R2(bX,gb);k={G:gb,S:fq.P()}}}else{if(bB.Lj==null)bB.uH($);
var dX=cA==1?bB.rc():bB.Lj;k=B.u_.a2u(dX,I)}this.track(B.u_.$b(E,["Trsp","Msk"][cA],bB.getName()))}else if(l=="frompath"){var cb=$.Ug(),e6=cb[1],cb=cb[0],kf=!0;
if(hm==null)if(cb.length==0||e6.length==0)return;var gn=cb[e6[0]];if(hm!=null)for(var O=0;O<cb.length;
O++)if(cb[O].Sc==hm)gn=cb[O];var dX=gn.add.vmsk.rc(),a2=dX.y2();if(a2.C()==0)return;var gb=dX.Qy();if(F.Fo[3]!=null)kf=F.Fo[3];
if(!kf){gb=gb.slice(0);j.round(gb)}kq=[JSON.stringify($.tk),JSON.stringify($.dy)];a7=["[]","[]"];$.tk=[];
$.dy=[];k={G:gb,S:a2}}else{if(hm==null)hm=B.u_.aoS($);k=B.u_.ad1($,hm)}if(E!=0&&$.d)k=j.nu.zv(k,$.d,E);
d=[14,11]}if(l=="bgrm"){if(B.u_.atK($,r,F,M))return;var dj=window.locStor.getItem("bgrmt");if(dj==null)dj=0;
var hr=24*60*60,iB=B.u_.aeq.bind([$,r,F,M]),dm=Math.floor((Date.now()-dj)/1e3);if(!k8.UO(1)&&dm<hr&&k8.uE(M,1)==null){var fr=ht._q(),dv=fr?"Out of AI credits :( Now, you":"Non-Premium users",hw=dv+" can use it once a day ("+((hr-dm)/60).toFixed(1)+" min remain). "+(fr?"":"Go Premium for $5 a month (press Account at the top).")+" \nWatch a short ad and skip waiting?";
aG.$k(iB,hw,"rmbg")}else iB();return}if(k!=null&&j.b3(k.G,0)){k=null;d=[7,1]}if(k)j.uF(k);var gT=new fH(d,this);
gT.data={R:"changesel",d:k,c1:ic,am3:eH,a42:kz,EF:kq,a5E:a7};$.gg(gT);this.mY(gT.data,$)};B.u_.atK=function(F,r,$,C){var M=F.u[F.K[0]],l=M.S,k=M.buffer,d=l.r,I=l.$,c=[0,0,d-1,0,0,I-1,d-1,I-1],Q=!0;
for(var O=0;O<4;O+=2){var x=(c[O+1]*d+c[O])*4,U=0;for(var S=0;S<3;S++){U+=(k[S]-k[x+S])*(k[S]-k[x+S])}if(U>25)Q=!1}if(Q&&M.rc()==null&&F.d==null){var z=j.j(d*I);
for(var O=0;O<4;O++){var V=c[O*2],t=c[O*2+1],Y=20,i=1,J=null;if(z[t*d+V]>200)continue;while(Y<120){var H=B.Ny.pC(k,l,new hx(V,t),null,[Y,!0,!0]),v=0;
for(var S=0;S<H.length;S++)v+=H[S];var n=Y<50?1.015:1.004;if(J&&v>i*n)break;J=H;i=v;Y+=10}for(var S=0;
S<J.length;S++)z[S]=Math.max(z[S],J[S])}j.v4(z);B.u_.a0N(M,r,z,l,$.Y,null);alert(b3.iE("5[[eD_??KH6@J:*54(-A2 ~nyv qb\\sSc_\\TP^=@7<>Z"),2500);
return!0}return!1};B.u_.aeq=function(){var F=this[0],r=this[1],$=this[2],C=this[3],M=2,l=F.u[F.K[0]],k=l.S,d=l.buffer,I=1,c=[4096,4096,2048][M];
while(Math.max(k.r,k.$)>c){var Q=j.JA(d,k);k=Q.S;d=Q.fU;I*=2}var x=dN.LD("png"),U=dN.LD("jpg"),S=U.x2([[d.buffer]],k.r,k.$),z=new FormData;
z.append("image",new Blob([S],{type:"ima"+"ge/j"+"pg"}));z.append("mode","mask");var V=new k6(_.E.c,!0);
V.data={R:_.m.O7,Sm:"Processing ..."};r.a(V);window.a3q=Date.now();var t=function(Y){console.log(Date.now()-window.a3q);
var i=Y.target.response,J=new Uint8Array(i);if(J.length!=0){var H=x.YH(i)[0],v=H.$Y,n=j.j(v.C());j.R2(new Uint8Array(H.data),n);
for(var O=0;O<n.length;O++){if(n[O]>250)n[O]=255}if(I!=1){var Q=B.hL.F_([n,v],new hS(I,0,0,I,0,0));v=Q.S;
n=Q.G}v.x=l.S.x;v.y=l.S.y;B.u_.a0N(l,r,n,v,$.Y,b3.iE("AQVUYE\\{}"));if(k8.uE(C,1)==null){k8.uS("Rem"+"ove B"+"G",1);
window.locStor.setItem("bgrmt",Date.now())}}else{alert("An error occured :( we are trying to fix it.")}var V=new k6(_.E.c,!0);
V.data={R:_.m.hF,Sm:"Processing ..."};r.a(V)};k8.akv(b3.iE("aQVUYEi<87<5=7:0#"),z,k8.uE(C,1),t)};B.u_.a0N=function(F,r,$,C,M,l){var k=new k6(_.E.O,!0);
if(M==1){k.J=B.pO;k.data={R:Z.jT,PE:l,aoU:!0,IL:"HdAl"};r.a(k);var d=F.rc();d.color=0;d.S=C;d.G=$;d.uF();
F.uH()}else if(M==2){k.J=B.gI;k.data={R:"setsel",d:{G:$,S:C},qc:"Select Subject"};r.a(k)}else throw"e"};
B.u_.aoS=function(F){var r=0;if(F.GY.length!=0)r=-5-F.GY[0];else if(JSON.stringify(F.f.BS)=="[1,1,1]")r=-1;
else r=-2-F.f.BS.indexOf(1);return r};B.u_.ad1=function(F,r){var $,C=new cS(0,0,F.r,F.$);if(-5<r&r<0){var M=-r-1,l=F.Ez(),k=j.j(C.C());
if(M==0)j.R2(l,k);else j.Eg(l,k,M-1);$={G:k,S:C.P()}}if(r<-4){$=B.u_.a2u(F.Bs[-r-5],C)}return $};B.u_.a2u=function(F,r){var $,C;
if(F.MB()==0){C=F.y2().P();if(C.C()==0)return;$=F.Qy()}else{C=r;$=j.j(C.C());F.JL(C,$)}return{G:$,S:C}};
B.u_.prototype.j0=function(F){return this.s3||F.HY&&this.id!=B.ov};B.u_.prototype.pl=function(F,r,$){var C=new k6(r,!0);
C.data=$;F.a(C)};B.u_.prototype.aA3=function(F,r){var $=new k6(_.E.c,!0);$.data={R:_.m.yz,P5:r};F.a($)};
B.u_.prototype.y2=function(F,r,$){r=F.d==null||this.hv.GO(1)||this.hv.Fj(1)?r:null;var C=this.Nk,M=this.Nw;
if($){C.x=Math.max(0,Math.min(F.r,C.x));C.y=Math.max(0,Math.min(F.$,C.y));M.x=Math.max(0,Math.min(F.r,M.x));
M.y=Math.max(0,Math.min(F.$,M.y))}var l=B.QZ.Un(C,M,r,!0,this.N8.cstr),k=l[0].x,d=l[0].y,I=new cS(k,d,l[1].x-k,l[1].y-d);
if($){I.x=Math.max(I.x,0);I.y=Math.max(I.y,0)}return I};B.u_.prototype.SY=function(F,r,$,C,M){this.wA=!0;
if(this._W())return;this._s=r;this.__=!1;this.hv.SY(C);this.Nk=F.f.Ti(M.x,M.y);this.Nk=B.qW.aU(F,this.Nk,$);
if(this.aAU(F,this.Nk,C)){this.s3=!0;this.$X=F.d.S.P();return}this.Pg(F,$,C,M);F.f.dF=new cS};B.u_.prototype.aAU=function(F,r,$){var C=$.D(ac.il),M=$.D(ac.AH);
if(F.d&&!C&&!M&&this.N8.binop==0)return j.TJ(r,F.d.G,F.d.S);return!1};B.u_.prototype.GQ=function(F,r,$,C,M){this._s=r;
if(this._j)return;var l=F.f.Ti(M.x,M.y);if(hx.BV(this.Nk,l)*F.f.bU>5){this.__=!0;this.hv.GQ()}if(C.D(ac.iL)){if(this.fH==null)this.fH=new hx(l.x-this.Nk.x,l.y-this.Nk.y);
this.Nk.x=l.x-this.fH.x;this.Nk.y=l.y-this.fH.y}else this.fH=null;this.Nw=l;if(!this.s3&&this.id!=B.ov)this.Nw=B.qW.aU(F,this.Nw,$);
if(this.aAU(F,this.Nw,C))this.aA3(r,"move");else this.aA3(r,this.Cz);if(this.s3){var k=this.$X.P();k.x+=this.Nw.x-this.Nk.x;
k.y+=this.Nw.y-this.Nk.y;var d=B.qW.gy(F,k,$);F.d.S.x=Math.round(this.Nw.x-this.Nk.x+this.$X.x+d[0]);
F.d.S.y=Math.round(this.Nw.y-this.Nk.y+this.$X.y+d[1]);F.Dn=!0;B.qW.YI(F,k,d);return}this.gB(F,$,C,M,r);
if(F.f.dF)F.f.dF=this.y2(F,C)};B.u_.prototype._W=function(){return!1};B.u_.prototype.pf=function(F,r,$,C,M,l){var k=this.wA;
this.wA=!1;if(l||!k)return;F.f.dF=null;this.Nw=F.f.Ti(M.x,M.y);this.Nw=B.qW.aU(F,this.Nw,$);if(this.s3){this.s3=!1;
if(F!=null&&F.pu.oj){F.pu.oj=null;F.eD=!0}if(this.Nw.Mp(this.Nk)&&this.pi()==0){this.pl(r,_.E.wG,B.u_._N());
return}this.amY(F,this.$X,F.d.S.P());return}this.$n(F,$,C,M,r);B.u_.arp(r,$);this.hv.pf();this.UT(r)};
B.u_.prototype.amY=function(F,r,$){var C=F.pg();if(C!=null&&C.J==this&&C.data.R=="movesel"){}else{C=new fH([7,7],this);
C.data={R:"movesel",yy:r};F.gg(C)}C.data.qA=$;this.mY(C.data,F)};B.u_.prototype.tf=function(F,r,$,C,M){this._j=!0};
B.u_.prototype.ql=function(F,r,$,C,M){var l=new k6(_.E.c,!0);l.data={R:_.m.Rl,J:this.id,z6:M,hg:F,e:$};
r.a(l);this._j=!1};B.u_.prototype.JG=function(F,r,$,C){this.hv.JG(C);if(F!=null&&F.d!=null){var M=C.ii();
if(M.x!=0||M.y!=0){var l=F.d.S.P();l.x+=M.x;l.y+=M.y;this.amY(F,F.d.S.P(),l)}}this.UT(r)};B.u_.prototype.UT=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.Rl,J:this.id,Lk:this.pi()};F.a(r)};B.u_.prototype.pi=function(){var F=this.hv.GO(0),r=this.hv.Fj(0);
return B.u_.kA(this.N8.binop,F,r)};B.u_.kA=function(F,r,$){if(r)F=1;if($)F=2;if(r&&$)F=3;return F};B.u_.prototype.finish=function(F,r,$,C){var M=F.d,l=this.getSelection(F,r,$,C);
if(l==null)l=B.u_._N();else{var k=this.N8.feat,d=this.pi();if(k!=0)l.iH.Fthr={t:"UntF",v:{type:"#Pxl",val:k}};
if(d!=0&&d!=4)l.hE=["","addTo","subtractFrom","interfaceWhite",""][d]}this.pl(this._s,_.E.wG,l);this.Nk.I_(-1,-1);
this.Nw.I_(-1,-1)};B.u_.prototype.getSelection=function(F,r,$,C){return null};B.u_.prototype.Pg=function(F,r,$,C){};
B.u_.prototype.gB=function(F,r,$,C){};B.u_.prototype.$n=function(F,r,$,C){};B.u_.prototype.Ea=function(F,r){var $=F.R;
if($=="changesel"){var C=r.d;r.d=F.d;F.d=C}if($=="movesel")r.d.S=F.yy;if(F.c1){if(F.am3){r.GY=[r.Bs.length];
r.Bs.push(F.am3)}else{r.Bs.pop();r.GY=[]}}if(F.EF){r.tk=JSON.parse(F.EF[0]);r.dy=JSON.parse(F.EF[1])}r.Dn=!0};
B.u_.prototype.mY=function(F,r){var $=F.R;if($=="changesel"){var C=r.d;r.d=F.d;F.d=C}if($=="movesel")r.d.S=F.qA;
if(F.c1){if(F.a42){r.GY=[r.Bs.length];r.Bs.push(F.a42)}else{r.Bs.pop();r.GY=[]}}if(F.EF){r.tk=JSON.parse(F.a5E[0]);
r.dy=JSON.parse(F.a5E[1])}r.Dn=!0};B.u_.prototype.pX=function(F){return F.R=="changesel"&&F.d?F.d.G.length:0};
B.u_.prototype.Rg=function(F){for(var r in F.N8)this.N8[r]=F.N8[r]};B.u_.prototype.aCa=function(F,r){var $=j.b.qy(F.n);
if($.XS())return null;var C=j.q6($.r,$.$);C.save();C.beginPath();C.translate(-$.x,-$.y);Typr.U.pathToContext({cmds:F.C0,crds:F.n},C);
C.closePath();C.fill();C.restore();var M=j.j($.C()),l=C.getImageData(0,0,$.r,$.$);j.Eg(new Uint8Array(l.data.buffer),M,3);
if(r!=8)M=j.Mz(M,r);return{S:$,G:M}};B.u_.abU=function(F,r,$,C,M){if($)r=Math.round(r*.7);var l=Math.ceil(2.6*r),k=F.S.P();
k.lW(l,l);if(C&&!M)k=k.R7(C);var d=j.j(k.C(),j.cN(F.G));j.wU(F.G,F.S,d,k);j.Zi.eO(d,k,r);if($){var I=d.length,c=j.zV(j.cN(d)),Q=c/2;
for(var O=0;O<I;O++){var x=(d[O]-Q)*r*2.5;d[O]=Math.max(0,Math.min(c,Q+x))}}return{G:d,S:k}};B.u_.abr=function(F,r,$){var C=j.cN(F.G),M=j.Mz(F.G,8),l=Math.max(1,Math.ceil($)),k=F.S.P();
k.lW(l,l);var d=k.C(),I={G:j.j(d),S:k},c=j.j(d);j.wU(M,F.S,c,I.S);if($!=0)j.style.stroke(c,I.G,I.S,$);
else j.Jx(c,I.G);var Q=j.j(d);j.v4(c);if(r!=0)j.style.stroke(c,Q,I.S,r);else j.Jx(c,Q);j.nu.R7(I.G,Q,I.G);
I.G=j.Mz(I.G,C);return I};B.u_.Hh=function(F,r,$,C,M){var l=new cS(0,0,F.r,F.$),k=F.Ez();if(F.d){var d=F.d.S.R7(l),I=j.j(d.C()*4);
j.mR(k,l,I,d);l=d;k=I}var c=l.C(),Q=j.j(c),x=1/C;if(M){if(r>=$)r=$-1;var U=r*(1-C),S=r,z=$,V=$+(255-$)*C,t=U==S?0:1/(S-U),Y=z==V?0:1/(V-z);
for(var O=0;O<c;O++){var i=O<<2,J=j.er(k[i],k[i+1],k[i+2]),H=0;if(J<U)H=0;else if(J<S)H=(J-U)*t;else if(J<=z)H=1;
else if(J<=V)H=1-(J-z)*Y;else H=0;Q[O]=k[i+3]*H*H}}else for(var O=0;O<c;O++){var i=O<<2,v=j.fX(k[i],k[i+1],k[i+2]),H=j.ac3(v,r,$,C,x);
Q[O]=k[i+3]*H}return{S:l,G:Q}};B.td=function(){B.k7.call(this,[10,18],B.Q2,"tools/blur");this.WB="copy"};
B.td.prototype=new B.k7;B.td.prototype.SY=function(F,r,$,C,M){var l=C.D(ac.AH)?ap.l7:ap.Q2;this.j$(F,$,C,M,this.N8.strn,l);
if(this.O8==null)return;this.kg(F)};B.td.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);
if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};B.By=function(){B.k7.call(this,[10,0],B.UG,"tools/brush");
this.WB="draw"};B.By.prototype=new B.k7;B.By.prototype.SY=function(F,r,$,C,M){if(this.mJ(F,r,$,C,M,!0))return;
this.j$(F,$,C,M,this.N8.flow);if(this.O8==null)return;this.kg(F)};B.By.prototype.GQ=function(F,r,$,C,M){if(this.mJ(F,r,$,C,M))return;
this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};
B.xv=function(){B.k7.call(this,[10,42],B.sB,"tools/crepl");this.WB="idraw";this.N8.bmode="hue "};B.xv.prototype=new B.k7;
B.xv.prototype.SY=function(F,r,$,C,M){if(this.mJ(F,r,$,C,M,!0))return;this.j$(F,$,C,M,this.N8.flow);
if(this.O8==null)return;this.kg(F)};B.xv.prototype.GQ=function(F,r,$,C,M){if(this.mJ(F,r,$,C,M))return;
this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};
B.$C=function(){B.k7.call(this,[10,43],B.xL,"tools/redeye");this.N8.smode=0;this.WB="redeye"};B.$C.prototype=new B.k7;
B.$C.prototype.SY=function(F,r,$,C,M){this.j$(F,$,C,M,this.N8.flow);if(this.O8==null)return;this.kg(F)};
B.$C.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);if(this.O8==null)return;
if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};B.gT=function(){B.k7.call(this,[10,38],B.pA,"tools/pencil");
this.WB="draw"};B.gT.prototype=new B.k7;B.gT.prototype.SY=function(F,r,$,C,M){if(this.mJ(F,r,$,C,M,!0))return;
this.j$(F,$,C,M,this.N8.flow);if(this.O8==null)return;this.kg(F)};B.gT.prototype.GQ=function(F,r,$,C,M){if(this.mJ(F,r,$,C,M))return;
this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};
B.QB=function(){B.k7.call(this,[10,22],B.$o,"tools/burn");this.WB="burn"};B.QB.prototype=new B.k7;B.QB.prototype.SY=function(F,r,$,C,M){this.j$(F,$,C,M,this.N8.expo/Math.E);
if(this.O8==null)return;this.kg(F)};B.QB.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);
if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};B.WG=function(F,r,$){B.k7.call(this,F==""?null:F?F:[10,1],r?r:B.rf,$?$:"tools/clone");
this.WB="clone";this.ay=null;this.p=null};B.WG.prototype=new B.k7;B.WG.prototype.SY=function(F,r,$,C,M){var l=this.N8,k=l.alt[0];
if(C.D(ac.AH)||C.D(ac.pT)||k){this.ay=F.f.Ti(M.x,M.y);this.p=null;if(k)this.VE({alt:[!1]},r);this.wo(F);
this.Sx($,C,F,M);return}if(this.ay==null){alert(dG.get([15,7,0]));return}this.Sx($,C);this.j$(F,$,C,M,this.N8.flow);
if(this.O8==null)return;this.p=this.a9y(F.f.Ti(M.x,M.y));this.kg(F)};B.WG.prototype.a9y=function(F){var r=this.p;
if(r==null||!this.N8.algnd)r=new hx(Math.round(F.x-this.ay.x),Math.round(F.y-this.ay.y));return r};B.WG.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);
if(this.Ot)this.BU(F,$,M);if(this.O8==null){if(this.ay!=null)this.Sx($,C,F,M);return}if(!M.HY||this.ay==null)return;
this.BP(F,$,C,M);this.kg(F)};B.WG.prototype.IN=function(){return this.p};B.zo=function(){B.m9.call(this,[10,53],B.aqo,"tools/csamp");
this.un=-1;this.AS=null};B.zo.prototype=new B.m9;B.zo.prototype.SY=function(F,r,$,C,M){this.AS=JSON.stringify(F.wa);
var l=F.f.Ti(M.x,M.y),k=F.wa,d=1e9,I=-1;for(var O=0;O<k.length;O++){var c=k[O],Q=l.x-c.x,x=l.y-c.y,U=Q*Q+x*x;
if(U<d){d=U;I=O}}var S=15/F.f.bU;I=d<S*S?I:-1;if(I==-1){I=k.length;k.push({x:l.x,y:l.y})}else if(C.D(ac.AH)){k.splice(I,1);
I=-1}this.un=I;F.eD=!0};B.zo.prototype.GQ=function(F,r,$,C,M){var l=this.un;if(l!=-1){var k=F.f.Ti(M.x,M.y);
F.wa[l].x=k.x;F.wa[l].y=k.y;F.eD=!0}};B.zo.prototype.pf=function(F,r,$,C,M,l){var k=new fH(this.name,this);
k.data={Ir:this.AS,FJ:JSON.stringify(F.wa)};F.gg(k);this.un=-1};B.zo.prototype.Ea=function(F,r){r.wa=JSON.parse(F.Ir)};
B.zo.prototype.mY=function(F,r){r.wa=JSON.parse(F.FJ)};B.i0=function(F,r,$){B.m9.call(this,F,r,$);this.N8={JO:{q:0,x:0,y:0},hH:!1,v3:!1};
this.zI=!1;this.Cz=B.Nl();this.qb=null;this.cursor=null;this.a1v=0;this.JE=null;this.Nk=null;this.TV=null;
this.q$=!1;this.yO=!1};B.i0.prototype=new B.m9;B.i0.prototype.fV=function(){return this.qb!=null};B.i0.prototype.j0=function(F){return this.Nk!=null||this.qb&&this.qb.asn()};
B.i0.prototype.SY=function(F,r,$,C,M){this.JE=M;var l=F.f.Ti(M.x,M.y),k=this.N8.JO,d=k.q!=0?k.x/k.y:null,I=this.q$;
this.q$=!1;if(this.qb){var c=this.qb.cb(l,F.f.bU);if(I&&c==null){this.qb.clear(F);this.qb=null}else{this.qb.SY(F,$,C,l,d,!1,M);
this.yO=!1;return}}this.Nk=B.qW.aU(F,l,$)};B.i0.prototype.tD=function(F,r,$){if($==null)$=[F.x,F.y,F.x+F.r,F.y,F.x+F.r,F.y+F.$,F.x,F.y+F.$];
return new aY($,!0,!1,this.id==B.uI,!0,r,this.id==B.uI?2:0,this.id==B.uI?4:3)};B.i0.prototype.Sx=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.yz,P5:this.cursor};F.a(r)};B.i0.prototype.enable=function(F,r,$,C){this._s=r;this.cursor=this.Cz;
this.Sx(r);if(F!=null&&this.qb==null){var M=F.d?{uT:"cropby",adC:3}:{uT:"config",N8:this.N8,azK:!0};
this.Rg(M,r,F,C,$);if(F.d==null&&this.N8.JO.q==0)this.q$=!0;this.yO=!0}};B.i0.prototype.GQ=function(F,r,$,C,M){this.JE=M;
var l=F.f.Ti(M.x,M.y);if(!M.HY){var k=this.Cz;if(this.qb){var d=this.qb.cb(l,F.f.bU,null,M);if(d)k=d;
else k="default"}if(k!=this.cursor){this.cursor=k;this.Sx(r)}}if(this.qb)this.qb.GQ(F,$,C,l);else if(this.Nk){if(this.zI){F.pu.nW={C0:["M","L"],n:[this.Nk.x,this.Nk.y,l.x,l.y]}}else{var I=B.QZ.Un(this.Nk,B.qW.aU(F,l,$),C,!0,this.N8.JO),c=I[0].x,Q=I[0].y,x=this.TV=new cS(c,Q,I[1].x-c,I[1].y-Q);
F.pu.nW=j.b.Vs(x);B.m9.qi(M,x,F,$)}F.eD=!0}};B.i0.aJq=function(F,r,$){var C,M,d,I;if(r<=$){C=r;M=$}else{C=$;
M=r}var l=F-Math.floor((F+Math.PI)/(2*Math.PI))*2*Math.PI;l=Math.abs(l);if(l>Math.PI/2)l=Math.PI-l;var k=C/(M*Math.sin(l)+C*Math.cos(l));
if(r<=$){d=C*k;I=M*k}else{d=M*k;I=C*k}return{a0:d,Y9:I}};B.i0.prototype.pf=function(F,r,$,C,M){this.JE=M;
var l=F.f.Ti(M.x,M.y);if(this.qb==null){var k=this.TV;if(this.Nk&&(k||this.zI)){if(this.zI){var d=this.Nk,I=l,c=I.x-d.x,Q=I.y-d.y;
if(Math.abs(c)<Math.abs(Q))I=new hx(d.x-Q,d.y+c);if(d.x>I.x){var x=d;d=I;I=x}var d=Math.atan2(-(I.y-d.y),I.x-d.x),U=B.i0.aJq(d,F.r,F.$);
if(this.N8.v3){var S=j.b.Vs(new cS(0,0,F.r,F.$)),z=new hS;z.rotate(d);j.b.U(S.n,z,S.n);U=j.b.qy(S.n);
U={a0:U.r,Y9:U.$}}var V=[0,0,U.a0,0,U.a0,U.Y9,0,U.Y9],t=new hS;t.translate(-U.a0/2,-U.Y9/2);t.rotate(d);
t.translate(F.r/2,F.$/2);j.b.U(V,t,V);this.qb=this.tD(k,!1,V);this.zI=!1}else{var Y=this.N8.JO;this.qb=this.tD(k,Y.q!=0)}this.yO=!1;
this.qb.TF(F,$);this.TV=null;this.pl(r,_.E.c,{R:_.m.Rl,J:this.id,w6:!0});this.Nk=null;F.pu.oY=[];F.pu.nW=null;
F.eD=!0}return}this.qb.pf(F,$,C,l);this.pl(r,_.E.c,{R:_.m.Rl,J:this.id,w6:!0});var V=this.qb.Ju();if(Math.abs(V[0]-V[4])<2&&Math.abs(V[1]-V[5])<2){this.i8(F,r,null,C);
return}if(Date.now()-this.a1v<200&&this.qb._k(l)){this.wC(F,$);this.i8(F,r,$,C);return}this.a1v=Date.now()};
B.i0.prototype.JG=function(F,r,$,C){var M=this.qb;if(M==null||this.JE&&this.JE.HY)return;if(C.D(ac.t7)){this.wC(F,$);
this.i8(F,r,$,C)}else if(C.D(ac.Pl)){this.i8(F,r,$,C)}else M.JG(F,$,C)};B.i0.akO=function(F,r,$){var C={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:F[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:F[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:F[1]+F[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:F[0]+F[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:r!=null?r:0}},Dlt:{t:"bool",v:$!=null?$:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{hE:"crop",iH:C}};B.i0.bY=function(F,r){if(r==null)r=[!0,!0,!0,!0];var $={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][F]}}},C=["Top","Left","Btom","Rght"];
for(var O=0;O<4;O++)$[C[O]]={t:"bool",v:r[O]};return{hE:"trim",iH:$}};B.i0.Di=function(F,r,$,C,M){var l={classID:"null"};
if(C!=null){l.Wdth={t:"UntF",v:M?{type:"#Prc",val:F*100}:{type:"#Pxl",val:F}};l.Hght={t:"UntF",v:M?{type:"#Prc",val:r*100}:{type:"#Pxl",val:r}};
l.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][C]}}}if($!=null)l.Rslt={t:"UntF",v:{type:"#Rsl",val:$}};
return{hE:"imageSize",iH:l}};B.i0.aas=function(F,r,$,C){if($==null)$=4;if(C==null)C=!1;var M=Math.floor($/3),l=$%3;
return{hE:"canvasSize",iH:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:F}},Hght:{t:"UntF",v:{type:"#Pxl",val:r}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][l]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][M]}},Rltv:{t:"bool",v:C}}}};
B.i0.prototype.Y3=function(F,r,$,C,M){var l=new cS(0,0,$.r,$.$),k=[11,3],d=$.YV,I=$.r/2,c=$.$/2,cd=1,kJ,cA,c2;
function Q(a7,O){return a7[O]+2*a7[O+1]+a7[O+2]>>>2}if(F.R=="cropAndStr"){var x=$.u[$.K[0]],U=x.buffer,S=x.S,z=S.r,V=S.$,t=z+2,Y=[0,0,z-1,0,z-1,V-1,0,V-1],i,J=1e9,w=0;
for(var O=0;O<4;O++)for(var H=O+1;H<4;H++){var v=Y[2*O],n=Y[2*O+1],G=(n*z+v)*4,g=(Y[2*H+1]*z+Y[2*H])*4,W=U[G]-U[g],L=U[G+1]-U[g+1],b=U[G+2]-U[g+2],T=W*W+L*L+b*b;
if(T<J){J=T;i=new hx(v+.5,n+.5)}}var a=Date.now(),R=B.Ny.pC(x.buffer,S,i,null,[16,!1,!0]);j.v4(R);var D=S.P();
D.lW(1,1);var h=j.j(D.C());j.wU(R,S,h,D);var K=h.slice(0);for(var n=0;n<V;n++)for(var v=0;v<z;v++){var H=n*z+v;
if(R[H]==255&&Q(U,H*4)>200){var O=(n+1)*t+v+1;h[O]=K[O-t]&K[O-1]&K[O+1]&K[O+t]}}var X=j.b.r1(h,D.r,D.$,0),N=new k6(_.E.c,!0);
N.data={R:_.m.K2};var a=Date.now();for(var s=0;s<X.length;s++){var A=X[s].path.n;if(X[s].sc.C()<2500)continue;
var p=j.b.axT(A,w==3);for(var O=0;O<p.length;O++)p[O]-=1;var q=new hx(p[0],p[1]),f=Math.ceil(hx.BV(q,new hx(p[2],p[3]))),e=Math.ceil(hx.BV(q,new hx(p[6],p[7]))),o=new cS(0,0,f,e),E=j.j(o.C()*4),A=j.H.e0(p,new cS(-1,-1,f+2,e+2));
A=j.H.v4(A);A=j.H.MV(A,j.H.TG(new hS(S.r,0,0,S.$,S.x,S.y)));j.H.drawImage(A,x.buffer,S.r,S.$,E,o);w++;
var cj=N.data.xB=new kQ("Image "+w+".psd");cj.r=f;cj.$=e;var u=cj.at();u.Da("Background");u.buffer=E;
u.S=o;cj.u.push(u);r.a(N)}return}if(F.R=="fromAction"){var m=F.NT,aZ=m.hE,jN=m.iH,eh=$.r/$.$,t=jN.Wdth?jN.Wdth.v.val:-1,iA=jN.Hght?jN.Hght.v.val:-1,d=jN.Rslt?jN.Rslt.v.val:null,hd=jN.Wdth?jN.Wdth.v.type:jN.Hght?jN.Hght.v.type:-1,kx=1,b0;
if(hd=="#Prc"){if(t!=-1)t=Math.round($.r*t/100);if(iA!=-1)iA=Math.round($.$*iA/100)}if(aZ=="imageSize"){if(jN.Intr){if(jN.Intr.v.Intp=="Nrst")kx=0;
if(jN.Intr.v.Intp=="bicubicSharper")kx=2;if(t==-1&&iA==-1){var gX=d/$.YV;t=Math.round($.r*gX);iA=Math.round($.$*gX)}if(jN.CnsP&&jN.CnsP.v){if(t==-1)t=Math.round(iA*eh);
if(iA==-1)iA=Math.round(t/eh)}}else{if(hd=="#Prc")d=Math.round($.YV*($.r/t));else if(hd==-1)d=Math.round(d);
else throw"e";t=$.r;iA=$.$}b0={R:"imgsize",Xw:t,Hj:iA,Vd:d,J4:kx}}else if(aZ=="canvasSize"){if(t==-1)t=$.r;
if(iA==-1)iA=$.$;if(jN.Rltv&&jN.Rltv.v==!0){if(jN.Wdth)t+=$.r;if(jN.Hght)iA+=$.$}var j$=jN.Vrtc?jN.Vrtc.v.VrtL:"Cntr",i0=jN.Hrzn?jN.Hrzn.v.HrzL:"Cntr";
b0={R:"canvsize",Xw:t,Hj:iA,lT:3*["Top","Cntr","Btom"].indexOf(j$)+["Left","Cntr","Rght"].indexOf(i0)}}else if(aZ=="revealAll"){b0={R:"revealAll"}}else if(aZ=="trim"){var f7={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[jN.trimBasedOn.v.trimBasedOn];
if(f7==null)throw"e";var am=["Top","Left","Btom","Rght"],gf=[!0,!0,!0,!0];for(var O=0;O<4;O++)if(jN[am[O]])gf[O]=jN[am[O]].v;
b0={R:"trim",aCp:f7,mL:gf}}else if(aZ=="crop"){var v,n,z,V;if(jN.T){var cC=jN.T.v,v=Math.round(cC.Left.v.val),n=Math.round(cC.Top.v.val),z=Math.round(cC.Rght.v.val)-v,V=Math.round(cC.Btom.v.val)-n}else{var S=$.d.S;
v=S.x;n=S.y;z=S.r;V=S.$}b0={R:"canvsize",Xw:z,Hj:V,p:new hx(v,n),a7A:jN.Dlt!=null&&jN.Dlt.v}}else console.log(m);
if(b0)this.Y3(b0,r,$,C,M);return}else if(F.R=="imgsize"){l=new cS(0,0,F.Xw,F.Hj);if(F.Vd)d=F.Vd;cd=F.J4}else if(F.R=="canvsize"){var aD=F.lT!=null?F.lT:0;
l=new cS(0,0,F.Xw,F.Hj);var c_=$.r-F.Xw,a9=$.$-F.Hj,jz=Math.round(c_/2),g3=Math.round(a9/2);if(aD==1||aD==4||aD==7)l.x=jz;
if(aD==2||aD==5||aD==8)l.x=c_;if(aD==3||aD==4||aD==5)l.y=g3;if(aD==6||aD==7||aD==8)l.y=a9;if(F.p){l.x=F.p.x;
l.y=F.p.y}}else if(F.R=="rot"&&(F.Y+2*Math.PI)%(Math.PI/2)!=0){var e3=j.b.Vs(l).n,c1=new hS;c1.translate(-I,-c);
c1.rotate(F.Y);c1.translate(I,c);j.b.U(e3,c1,e3);l=j.b.qy(e3)}else if(F.R=="rot"&&F.Y!=Math.PI&&F.Y!=-Math.PI){l=new cS(I-$.$/2,c-$.r/2,$.$,$.r);
if(($.r+$.$&1)==1){I=Math.floor(I);c=Math.floor(c);l=new cS(I-Math.floor($.$/2),c-Math.floor($.r/2),$.$,$.r);
if(($.r&1)==1&&F.Y!=-Math.PI/2)l.y--;if(($.$&1)==1&&F.Y==-Math.PI/2)l.x--}}else if(F.R=="trim"){k=[11,12,0];
var dI=$.Ez(),S=new cS(0,0,$.r,$.$);l=j.CY(dI,S,F.aCp,F.mL);if(l.XS())l=S}else if(F.R=="revealAll"){k=[11,12,2];
l=$.root.y2($,!0)}var ee=F.R=="canvsize"&&F.a7A;if(F.R=="imgsize"||F.R=="rot"||F.R=="scl"||ee){var hF=new hS;
if(F.R=="imgsize"){k=[11,10];hF.scale(F.Xw/$.r,F.Hj/$.$);c2=$.Pw();for(var O=0;O<c2[0].length;O++)c2[0][O][1]*=c2[0][O][0]==0?hF.xz:hF.G0}else if(ee){}else{hF.translate(-I,-c);
if(F.R=="rot")hF.rotate(F.Y);if(F.R=="scl")hF.scale(F.Y.x,F.Y.y);hF.translate(I,c);k=F.qc}cA=j.H.TG(hF);
kJ=this.W7($,M,!0,cA,cd,ee?l:null)}else if(F.R=="auto-align"){if($.K.length<2){alert("Select two or more layers.");
return}var ic=[];for(var O=0;O<$.K.length;O++){var x=$.u[$.K[O]];if(!x.he()&&x.add.SoLd==null){alert("Unsupported layer selected.");
return}if(x.S.XS()){alert("Empty layer selected.");return}ic.push([x.buffer,x.S])}var eH=j.AW.Cl(ic);
if(eH==null){alert("No similarity found.");return}cA=eH[1];kJ=this.W7($,M,!1,eH,cd);l=$.root.y2($,!0);
k=[2,10,1]}var kz=new cS(0,0,$.r,$.$);if(!l.XS()&&(!l.Mp(kz)||kJ!=null)){var kq=new fH(k,this);kq.data={Ht:$.YV,Vd:d,V3:kJ,I9:cA,JP:B.i0.aAH($,l,kz,kJ!=null)};
if(c2){kq.data.vu=$.Pw();kq.data.fL=c2}B.i0.a1s($,kq.data,l);$.gg(kq);this.mY(kq.data,$,!0)}};B.i0.aAH=function(F,r,$,C){if(F.a3.length==0)return null;
var M=JSON.stringify(F.a3),l=JSON.parse(M);B.ft.af4(l,r,$,C);l=JSON.stringify(l);return[M,l]};B.i0.prototype.W7=function(F,r,$,C,M,l,k){var d={u:[],ss:null,wO:!0};
if($)d.u=B.hL._E(F);else d.u=F.K.slice(0);d.ss=B.hL.eq(F,d.u,!0);var I=Math.abs(C[3]*C[1])>1e-9;B.hL.IT(F,r,d.u,d.ss,M,C,null,!0,I&&j.H.TI(C)?null:l);
if($&&k&&F.DI()){var c=F.u[F.K[0]],Q=c.buffer,x=c.S,U=I?x.P():l.P(),S=j.j(U.C()*4),z=j.j(x.C());j.Eg(Q,z,3);
var V=j.j(U.C());j.wU(z,x,V,U);j.round(V,255);j.v4(V);var t=j.lK.AY(Q,x,V,S,U);if(t==0){c.S=U;c.buffer=S}}return d};
B.i0.prototype.mY=function(F,r,$){if(F.Vd)r.YV=F.Vd;if(F.JP)r.a3=JSON.parse(F.JP[1]);if(F.V3){B.i0.aL(r,j.H.fR(F.I9));
if($==null)B.hL.rd(r,F.V3);if(F.fL)r.pj(F.fL)}B.i0.nO(r,F)};B.i0.prototype.Ea=function(F,r){if(F.Ht)r.YV=F.Ht;
if(F.JP)r.a3=JSON.parse(F.JP[0]);B.i0.RW(r,F);if(F.Op)r.f.p.qk(F.Op);r.amC();if(F.V3){var $=j.H.fR(F.I9).P();
$.v4();B.i0.aL(r,$);B.hL.rd(r,F.V3);if(F.vu)r.pj(F.vu)}};B.i0.aL=function(F,r){for(var O=0;O<F.u.length;
O++){var $=F.u[O];if($.add.artb==null)continue;var C=j.b.Vs($.dh()).n;j.b.U(C,r,C);var M=j.b.qy(C);$.HD(M)}};
B.i0.je=function(F){var r=new cS,$=0,C=F.root.children.length;for(var O=0;O<C;O++){var M=F.root.children[O].z;
if(M.add.artb==null)continue;r=r.DM(M.dh());$++}var l=new cS(0,0,F.r,F.$);if(!r.XS()&&!l.Mp(r))return r;
return null};B.i0.Kt=function(F){var r=B.i0.je(F);if(r)B.i0.hH(F,r,!0);return r};B.i0.hH=function(F,r,$){var C=F.r,M=F.$,l=r.r,k=r.$,d=r.x==0&&r.y==0;
if(d&&C==l&&M==k)return;F.r=l;F.$=k;var I=[];for(var O=0;O<F.u.length;O++)I.push(O);if(!d)B.qW.Rb(F,I,null,-r.x,-r.y);
for(var O=0;O<F.u.length;O++){F.u[O].uH(F)}F.amC();if($){var c=F.f.p,Q=F.f.bU;c.x+=Math.round((r.x+(l-C)/2)*Q);
c.y+=Math.round((r.y+(k-M)/2)*Q)}else F.f.p.I_(0,0);if(F.d)F.d.S.offset(-r.x,-r.y);var x=F.Pw();for(var U=0;
U<x[0].length;U++)if(x[1][U]==-1){var S=F.oT[U];S[1]-=S[0]==0?r.x:r.y}for(var O=0;O<F.Bs.length;O++)F.Bs[O].S.offset(-r.x,-r.y);
for(var O=0;O<F.S8.length;O++)j.w.J_(F.S8[O].add.vmsk.M,new hS(1,0,0,1,-r.x,-r.y))};B.i0.prototype.Rg=function(F,r,$,C,M){if(F.uT=="commit"){this.wC($,M);
this.i8($,r,null,C)}else if(F.uT=="cancel"){this.i8($,r,null,C)}var l=null,k=new cS(0,0,$.r,$.$),d=this.N8.JO;
if(F.uT=="config"){this.N8=F.N8;d=this.N8.JO;if($==null||!F.azK)return;l=k;if(d.q==1){var I=d.x/d.y;
if(l.r/I<l.$)l.$=Math.round(l.r/I);else l.r=Math.round(l.$*I)}if(d.q==2){l.r=d.x;l.$=d.y}l.x=Math.round(($.r-l.r)/2);
l.y=Math.round(($.$-l.$)/2);this.yO=!1}if(F.uT=="straighten"){alert("Draw a line in the image.");this.zI=!0}if(F.uT=="cropby"){if($==null)return;
var c=F.adC,l;if(c==0)l=$.root.y2($,!0);if(c==1){if($.K.length==0)alert("No layer is selected.");else{var Q=$.root.yw($.K[0]);
l=Q.y2($,!0)}}if(c==2){if($.K.length==0)alert("No layer is selected.");else{l=j.CY($.Ez(),k,0);if(l.XS())l=k.P()}}if(c==3){if($.d!=null)l=$.d.S;
else alert("There is no selection.")}if(c==4){l=new cS(0,0,$.r,$.$)}}if(l&&l.XS())l=null;if(l!=null){this.qb=this.tD(l,d.q!=0);
this.qb.TF($,M);this.pl(r,_.E.c,{R:_.m.Rl,J:this.id,w6:!0})}};B.m9.it(B.i0);B.i0.prototype.wC=function(F,r){var $=this.qb.Ju(),C=j.b.qy($),M=this.aaY(F,$),l=!1,k=this.N8,d=k.JO,I=k.hH,c=d.x,Q=d.y,S;
if(this.id==B.mO&&d.q==2&&M.C()!=c*Q){M=new cS(M.x,M.y,c,Q);l=!0}var x=j.H.e0($,M);x=j.H.v4(x);var U=!j.H.TI(x),z=Math.abs(Math.atan2(x[3],x[0]))>1e-9,V=new cS(0,0,F.r,F.$);
if(z||U||l||I||k.v3)S=this.W7(F,r,!0,x,1,C,k.v3);if(!z&&!U&&!l&&M.Mp(V))return;var t=new fH(this.name,this);
t.data={V3:S,I9:x,Op:F.f.p.P(),JP:B.i0.aAH(F,M,V,!1)};if(d.YV!=null){t.data.Ht=F.YV;t.data.Vd=d.YV}B.i0.a1s(F,t.data,M);
F.gg(t);this.mY(t.data,F,!0);this.track(B.i0.akO([C.x,C.y,C.r,C.$],null,I))};B.i0.a1s=function(F,r,$){if($==null)return;
r.yy=new cS(0,0,F.r,F.$);r.qA=$};B.i0.nO=function(F,r){if(r.qA==null)return;B.i0.hH(F,r.qA)};B.i0.RW=function(F,r){if(r.qA==null)return;
var $=r.yy.P();$.offset(-r.qA.x,-r.qA.y);B.i0.hH(F,$)};B.i0.prototype.aaY=function(F,r){var $=j.H.e0(r),C=j.H.TI($),M=j.H.fR($),l=M.P6,k=M.jw,d=Math.atan2(M.X,M.xz);
M.rotate(d);var I=new cS(l,k,M.xz,M.G0);if(!C){function c(J,O,H){var v=J[O]-J[H],n=J[O+1]-J[H+1];return Math.sqrt(v*v+n*n)}var Q=c(r,0,2),x=c(r,4,6),U=Math.max(Q,x),S=c(r,2,4),z=c(r,6,0),V=Math.max(S,z),t=B.i0.Nf(r,F.r/2,F.$/2),Y,i;
if(isNaN(t)||t==Infinity||t==-Infinity||Math.min(t,1/t)<.1)t=(Q+x)/(S+z);if(U/V>t){Y=U*1;i=Y/t}else{i=V*1;
Y=i*t}I.r=Y;I.$=i}I.x=Math.round(I.x);I.y=Math.round(I.y);I.r=Math.round(I.r);I.$=Math.round(I.$);return I};
B.i0.Nf=function(F,r,$){var C=F[0]-r,M=F[1]-$,l=F[2]-r,k=F[3]-$,d=F[6]-r,I=F[7]-$,c=F[4]-r,Q=F[5]-$,x=((M-Q)*d-(C-c)*I+C*Q-M*c)/((k-Q)*d-(l-c)*I+l*Q-k*c),U=((M-Q)*l-(C-c)*k+C*Q-M*c)/((I-Q)*l-(d-c)*k+d*Q-I*c),S=-((U*I-M)*(x*k-M)+(U*d-C)*(x*l-C))/((U-1)*(x-1));
function z(t){return t*t}var V=Math.sqrt((z(x-1)+z(x*k-M)/S+z(x*l-C)/S)/(z(U-1)+z(U*I-M)/S+z(U*d-C)/S));
if(x==1&&U==1)V=Math.sqrt((z(k-M)+z(l-C))/(z(I-M)+z(d-C)));return V};B.i0.prototype.i8=function(F,r,$,C){if(F==null)return;
if(this.qb)this.qb.clear(F);this.qb=null;this.pl(r,_.E.c,{R:_.m.Rl,J:this.id,w6:!1})};B.i0.prototype.disable=function(F,r,$,C){if(this.qb&&!this.yO)this.wC(F,$);
this.i8(F,r,$,C)};B.i0.prototype.pl=function(F,r,$,C){var M=new k6(r,!0);M.data=$;if(C)M.J=C;F.a(M)};
B.ace=function(){B.i0.call(this,[10,2],B.mO,"tools/rcrop")};B.ace.prototype=new B.i0;B.aiI=function(){B.i0.call(this,[10,39],B.uI,"tools/pcrop")};
B.aiI.prototype=new B.i0;B.EU=function(){B.k7.call(this,[10,21],B.KZ,"tools/dodge");this.WB="dodge"};
B.EU.prototype=new B.k7;B.EU.prototype.SY=function(F,r,$,C,M){this.j$(F,$,C,M,this.N8.expo/Math.PI);
if(this.O8==null)return;this.kg(F)};B.EU.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);
if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};B.Dy=function(){B.k7.call(this,[10,3],B.QV,"tools/eraser");
this.WB="erase"};B.Dy.prototype=new B.k7;B.Dy.prototype.SY=function(F,r,$,C,M){this.j$(F,$,C,M,this.N8.flow);
if(this.O8==null)return;this.kg(F)};B.Dy.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);
if(this.O8==null)return;if(!M.HY)return;var l=this.BP(F,$,C,M);this.kg(F)};B.bj=function(){B.k7.call(this,[10,45],B.XT,"tools/beraser");
this.WB="ierase"};B.bj.prototype=new B.k7;B.bj.prototype.SY=function(F,r,$,C,M){if(this.mJ(F,r,$,C,M,!0))return;
this.j$(F,$,C,M,this.N8.flow);if(this.O8==null)return;this.kg(F)};B.bj.prototype.GQ=function(F,r,$,C,M){if(this.mJ(F,r,$,C,M))return;
this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};
B.k0=function(){B.u_.call(this,[10,15],B.gI,"tools/rselect");this.Cz=B.Nl()};B.k0.prototype=new B.u_;
B.k0.prototype.gB=function(F,r,$,C){if(!C.HY||!this.__)return;var M=this.y2(F,$,!0);F.pu.nW=j.b.Vs(M);
F.eD=!0;B.m9.qi(C,M,F,r)};B.k0.prototype.$n=function(F,r,$,C){F.pu.nW=null;F.pu.oY=[];F.eD=!0;this.finish(F,r,$,C)};
B.k0.prototype.getSelection=function(F,r,$,C){if(this.Nk.Mp(this.Nw)||!this.__)return null;var M=this.y2(F,$,!0);
if(M.XS())return null;return B.u_.Eu("Rctn",M,this.N8.anta)};B.m9.it(B.k0);B.Kk=function(){B.u_.call(this,[10,4],B.adp,"tools/eselect");
this.Cz=B.Nl()};B.Kk.prototype=new B.u_;B.Kk.prototype.gB=function(F,r,$,C){if(!C.HY||!this.__)return;
var M=this.y2(F,$);F.pu.nW=B.Kk.aol(M);F.eD=!0;B.m9.qi(C,M,F,r)};B.Kk.prototype.$n=function(F,r,$,C){F.pu.nW=null;
F.pu.oY=[];F.eD=!0;this.finish(F,r,$,C)};B.Kk.prototype.getSelection=function(F,r,$,C){if(this.Nk.Mp(this.Nw)||!this.__)return null;
var M=this.y2(F,$);if(!M.HV(new cS(0,0,F.r,F.$)))return null;return B.u_.Eu("Elps",M,this.N8.anta)};
B.Kk.aol=function(F){var r=F.x,$=F.y,C=F.x+F.r,M=F.y+F.$,l=(r+C)/2,k=($+M)/2,d=(r-C)/2,I=($-M)/2,c=.5522848,Q={n:[l,k-I],C0:["M","C","C","C","C"]};
Q.n.push(l+c*d,k-I,l+d,k-c*I,l+d,k);Q.n.push(l+d,k+c*I,l+c*d,k+I,l,k+I);Q.n.push(l-c*d,k+I,l-d,k+c*I,l-d,k);
Q.n.push(l-d,k-c*I,l-c*d,k-I,l,k-I);return Q};B.m9.it(B.Kk);B.$r=function(F){B.m9.call(this,[10,5],F?B.Uh:B.CK,"tools/eyedropper");
this.ec=null;this.aCi=!1;this.KX=0;this.le=null;this.Iv=1;this.n$=2;this.a3w=!0;this.hG=!1};B.$r.prototype=new B.m9;
B.$r.prototype.j0=function(F){return F.HY};B.$r.prototype.enable=function(F,r,$,C,M){B.m9.prototype.enable.call(this,F,r,$,C,M);
this.aCi=M};B.$r.prototype.Y3=function(F,r,$,C,M){if(F.R=="pickhere")this.cS($,r,M,null,F.aJy);if(F.R=="supertool")this.ec=F.J};
B.$r.prototype.SY=function(F,r,$,C,M){var l=this.ec;if(l){l.SY(F,r,$,C,M);return}if(gw==0){this.le=M;
this.KX=$.y1;var k=this.cS(F,null,$,C,M);this.Sx(F,r,k,M)}};B.$r.prototype.GQ=function(F,r,$,C,M){if(gw!=0)return;
var l=this.ec;if(l){l.GQ(F,r,$,C,M);return}var k=this.le;if(k){var d=M.x-k.x,I=M.y-k.y,c=1,Q=new hx(k.x+d*c,k.y+I*c),x=this.cS(F,null,$,C,Q);
this.Sx(F,r,x,Q,new hx(d*(1-c),I*(1-c)))}};B.$r.prototype.Sx=function(F,r,$,C,M){var l=this.a3w,k=this.hG;
if(F.f.bU>4)k=!1;if(!k&&!l)return;var d=B.$r.adZ(F,k,l,C,M,$,this.KX,this.Iv),I=new k6(_.E.c,!0);I.data={R:_.m.yz,P5:d};
r.a(I)};B.$r.prototype.pf=function(F,r,$,C,M,l){var k=this.ec;if(k){k.pf(F,r,$,C,M);return}if(gw==0){this.cS(F,r,$,C,M);
if(this.le){this.le=null;if(l)this.cS(F,r,$,C,M,this.KX);var d=new k6(_.E.c,!0);d.data={R:_.m.yz,P5:"default"};
r.a(d)}}else{var I=F.f.Ti(M.x,M.y),c=F.root.TJ(new hx(Math.floor(I.x),Math.floor(I.y)));if(c==null)return;
var Q=c.z.add,x=Q.vstl,U=Q.TySh;console.log(Q);if(x==null&&U){var S=U.$E,z=ho.RT(S,0,1);x={rK:z.Uz.FillColor.Values.slice(1),XX:[]}}if(x==null)return;
var d=new k6(_.E.c);d.data={R:_.m.WF,jg:d3.Kv,Y:j.N(x)};r.a(d)}};B.$r.prototype.cS=function(F,r,$,C,M,l){if(l==null)l=B.$r.GA(F,M,this.Iv,this.n$);
var k=new k6(_.E.c);k.data={R:_.m.WF,jg:d3.VV,vz:!this.aCi&&C&&C.D(ac.AH)?1:0,Y:l};if(r)r.a(k);return l};
B.$r.adZ=function(F,r,$,C,M,l,k,d){if(M==null)M=new hx(0,0);var I=new cS(0,0,F.r,F.$),c=F.Ez(),Q=12,x=11,U=(Q*2+1)*x,S=new hx(U/2,U/2),z=new cS(0,0,U,U),V=j.j(z.C()*4),t=F.f.Ti(C.x,C.y),Y=Math.floor(t.x),i=Math.floor(t.y),J=new hS;
J.scale(1/x,1/x);J.translate(Y-Q,i-Q);if(r)j.scale.dq(c,I,J,V,z);var H=(Q-3.4)*x,v=(Q-1.7)*x,n=Q*x;for(var G=0;
G<U;G++)for(var g=0;g<U;g++){var W=hx.BV(new hx(g,G),S);if(W>H){if($){var L=Math.max(0,H-W+1),b=(G*U+g)*4,T=V[b+3]<<24|V[b]<<16|V[b+1]<<8|V[b+2],a=255<<24|(G<n+x*.5?l:k);
if(W>v){L=Math.max(0,v-W+1);T=a;a=4286611584}else if(!r){T=a&16777215}V[b+0]=(1-L)*(a>>>16&255)+L*(T>>>16&255);
V[b+1]=(1-L)*(a>>>8&255)+L*(T>>>8&255);V[b+2]=(1-L)*(a>>>0&255)+L*(T>>>0&255);V[b+3]=(1-L)*(a>>>24&255)+L*(T>>>24&255)}if(W>n){V[(G*U+g)*4+3]=Math.max(0,255*(n-W+1))}}}function R(O){var cd=O<<2;
V[cd]=0;V[cd+1]=0;V[cd+2]=0;V[cd+3]=255}function D(O){var cd=O<<2;V[cd]=255;V[cd+1]=255;V[cd+2]=255;
V[cd+3]=255}var h=d*x+2,K=U-h>>>1,X=K+h-1;if(r&&h<U)for(var O=0;O<h;O++){var w=K*U+K+O,N=X*U+K+O,s=(K+O)*U+K,A=(K+O)*U+X;
R(w);R(N);R(s);R(A);if(O!=0&&O!=h-1){D(w+U);D(N-U);D(s+1);D(A-1)}}if(!r)for(var O=-9;O<=9;O++){if(-3<O&&O<3)continue;
var p=U>>>1,g=p*U+p+O,G=(p+O)*U+p;D(g-U);R(g);D(g+U);D(G-1);R(G);D(G+1)}var q=l>>>16&255,f=l>>>8&255,e=l>>>0&255,o="RGB "+q+","+f+","+e,E=j.dm([q/255,f/255,e/255]);
if(F.add.fcmy)o="CMYK "+E.map(function(cd){return Math.round(cd*100)}).join(",");var u=B.m9.LA(0,0,["#"+j.lN(l),o]),I=u[1];
I.y=0;I.x=U-I.r>>>1;j.mR(u[0],I,V,z);return{gf:V,OV:z,u2:new hx(S.x+M.x,S.y+M.y)}};B.$r.GA=function(F,r,$,C,M){if(C==null)C=2;
var l=F.f.Ti(r.x,r.y),k,d,I=F.K.length==1&&F.u[F.K[0]].Go>0&&M!=!0,c=F.GY.length!=0,v=0,n=0,G=0;if(I||c){var Q;
if(c)Q=F.Bs[F.GY[0]];else{var x=F.u[F.K[0]];Q=x.Go==1?x.rc():x.ay9()}d=Q.y2();if(!d.m_(l))return Q.color==0?0:16777215;
k=j.j(d.C()*4);k.fill(255);var U=Q.Qy();j.Wn(U,k)}else if(C==0&&F.K.length!=0){var x=F.u[F.K[0]];k=x.buffer;
d=x.S}else{k=C==2?F.Ez():F.Ez(F.K[0]);d=new cS(0,0,F.r,F.$)}var S=Math.floor(l.x)-d.x,z=Math.floor(l.y)-d.y,V=($-1)/2,t=Math.max(0,S-V),Y=Math.max(0,z-V),i=Math.min(d.r,S+V+1),J=Math.min(d.$,z+V+1),H=(i-t)*(J-Y);
for(var S=t;S<i;S++)for(var z=Y;z<J;z++){var O=4*(z*d.r+S);v+=k[O];n+=k[O+1];G+=k[O+2]}var g=j.cN(k),W=g==8?255:g==16?65535:1,L=255/(W*H);
v=Math.round(v*L);n=Math.round(n*L);G=Math.round(G*L);return v<<16|n<<8|G};B.$r.prototype.Rg=function(F){var r=F.N8;
this.Iv=[1,3,5,11,31][r[0]];this.n$=r[1];this.a3w=r[2];this.hG=r[3]};B.dC=function(){B.m9.call(this,[10,6],B.co,"tools/gradient");
this.N8=JSON.parse(cK.sH[6]);this.N8.Grad=JSON.parse(cK.Hn.axA);this.eL=!1;this.oo=null;this.L$=null};
B.dC.prototype=new B.m9;B.dC.prototype.enable=function(F,r,$,C){B.m9.prototype.enable.call(this,F,r,$,C);
this.oo=F;if(this.eL)B.Fi.uD(F)};B.dC.prototype.zN=function(F,r,$,C){if($.fp!=this.id)return;this.oo=F;
this.aju(F,r)};B.dC.prototype.disable=function(F,r,$,C){this.oo=null;if(this.eL)B.Fi.af(F)};B.dC.prototype.aju=function(F,r){var $=B.Fi.Tz(F);
this.eL=$!=null;var C=new k6(_.E.c,!0);C.data={R:_.m.Rl,J:this.id,jg:$?F.u[F.K[0]].add.GdFl:this.N8,w:this.eL};
r.a(C);if(this.eL)B.Fi.uD(F);else B.Fi.af(F)};B.dC.prototype.Rg=function(F){var r=this.oo;if(this.eL){var $=r.u[r.K[0]],C=$.add.GdFl;
if(C==null)return;this.pK=JSON.stringify(C);$.add.GdFl=F.jg;$.uH(r);r.vM();B.Fi.at4(this,r);B.Fi.uD(r)}else this.N8=F.jg};
B.dC.prototype.SY=function(F,r,$,C,M){if(this.eL){B.Fi.prototype.SY.call(this,F,r,$,C,M);return}if(!F.DI())return;
this.L$=B.qW.aU(F,F.f.Ti(M.x,M.y),$)};B.dC.prototype.GQ=function(F,r,$,C,M){if(this.eL){B.Fi.prototype.GQ.call(this,F,r,$,C,M);
return}if(!this.L$)return;var l=F.f.Ti(M.x,M.y);l=B.qW.aU(F,l,$);if(C.D(ac.il))l=B.dC.wr(this.L$,l);
F.pu.nW={n:[this.L$.x,this.L$.y,l.x,l.y],C0:["M","L"]};F.pu.Qu=[this.L$.x,this.L$.y,l.x,l.y];F.eD=!0};
B.dC.prototype.pf=function(F,r,$,C,M){if(this.eL){B.Fi.prototype.pf.call(this,F,r,$,C,M);return}if(!this.L$)return;
var l=F.u[F.K[0]],k=F.f.Ti(M.x,M.y);k=B.qW.aU(F,k,$);if(C.D(ac.il))k=B.dC.wr(this.L$,k);if(hx.BV(this.L$,k)>2){var d;
if(F.d)d=F.d.S;else d=new cS(0,0,F.r,F.$);var I=j.j(d.C()*4,F.depth),c=this.N8,Q=c.Type.v.GrdT,x=c.Opct.v.val,U=this.L$;
if(Q=="Lnr")U=new hx((U.x+k.x)/2,(U.y+k.y)/2);j.qS.aF(U,k,d,c);en.VZ(c,I,d,F,null,null,$.y1,$.J2);var S=I.length,z=x/100;
if(x!=100)for(var O=0;O<S;O+=4)I[O+3]=Math.round(I[O+3]*z);var V=new k6(_.E.O);V.J=B.QV;V.data={R:"fillBMP",uv:I,uN:dL.Gg(c.Md.v.BlnM),qc:this.name};
r.a(V)}F.pu.nW=null;F.pu.Qu=[];F.eD=!0;this.L$=null};B.dC.prototype.Y3=function(F,r,$,C,M){function l(x){x=x.v;
var U=x.Hrzn.v.val,S=x.Vrtc.v.val;return $.f.uc(U,S)}if(F.R=="fromAction"){var k=this.N8;this.N8=j.N(k);
var d=F.NT.iH,I=["Grad","Type","Opct","Dthr"];for(var O=0;O<I.length;O++)if(d[I[O]])this.N8[I[O]]=d[I[O]];
var c=l(d.From),Q=l(d.T);this.SY($,r,M,C,c);this.pf($,r,M,C,Q);this.N8=k}};B.dC.wr=function(F,r){if(F.Mp(r))return F;
var $=r.x-F.x,C=r.y-F.y,M=Math.abs($),l=Math.abs(C);if(M>l)l=M/2>l?0:M;if(l>M)M=l/2>M?0:l;M=$>0?M:-M;
l=C>0?l:-l;var k=Math.sqrt($*$+C*C)/Math.sqrt(M*M+l*l);return new hx(F.x+M*k,F.y+l*k)};B.dC.SM=function(F,r,$,C,M,l,k){var d=new cS(0,0,r,$),I=j.j(r*$*4);
j.HG(I,r,$,4);var c=Math.sin(C),Q=Math.cos(C),x=j.j(r*$*4);j.qS.T0(F,x,d,[Q*1/r,c*1/r,-c*1/$,Q*1/$],r/2,$/2,!1,0,M,l);
j.v.O5("norm",x,d,I,d,d,1);if(k)return new ImageData(new Uint8ClampedArray(I.buffer),r,$);else return dN.yd(I.buffer,r,$,null,null,!0)};
B.dC.a67=function(F,r,$){var C=j.N(F);if(C.Clrs)for(var O=0;O<C.Clrs.v.length;O++){var M=C.Clrs.v[O].v,l=M.Type.v.Clry;
if(l=="UsrS")continue;var k=l=="FrgC"?r:$;M.Type.v.Clry="UsrS";M.Clr={t:"Objc",v:j.qS.NG({t:k>>16&255,L:k>>8&255,X:k&255})}}return C};
B.dC.prototype.mY=function(F,r){B.Fi.prototype.mY.call(this,F,r)};B.dC.prototype.Ea=function(F,r){B.Fi.prototype.Ea.call(this,F,r)};
B.Fi=function(){B.m9.call(this,"Vector Gradient",B.asB,"tools/gradient");this.u$=null;this.$T=null;this.un=null;
this.pK};B.Fi.prototype=new B.m9;B.Fi.prototype.enable=function(F,r,$,C){B.Fi.uD(F)};B.Fi.prototype.zN=function(F,r,$,C){if($.fp!=this.id)return;
B.Fi.uD(F)};B.Fi.prototype.disable=function(F,r,$,C){B.Fi.af(F)};B.Fi.af=function(F){if(F==null)return;
F.pu.gN=null;F.pu.Qu=[];F.eD=!0};B.Fi.prototype.SY=function(F,r,$,C,M){var l=B.Fi.Tz(F);if(l==null&&gw==0){var k=new k6(_.E.wG,!0);
k.data=B.QZ.w8(1);r.a(k);l=B.Fi.Tz(F)}if(l==null)return;var d=B.qW.aU(F,F.f.Ti(M.x,M.y),$),I=B.Fi.dL(l,d,F),c=F.u[F.K[0]],Q=c.add.GdFl,x=c.add.vstl;
this.pK=JSON.stringify(gw==0?Q:x);this.u$=d;if(I==-1){var U=l[1];this.$T=[d.x,d.y,d.x+2,d.y];if(U[0]==1){this.$T.push(d.x,d.y-2);
U[2][4]=1}this.un=1;B.Fi.aJc(F,this.$T)}else{this.$T=l[0];this.un=I}};B.Fi.prototype.GQ=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=B.Fi.Tz(F),d=this.un;
if(d!=null){var I=this.$T.slice(0);l=B.qW.aU(F,l,$);if(C.D(ac.il))l=B.dC.wr(new hx(I[0],I[1]),l);var c=l.x-I[d*2],Q=l.y-I[d*2+1];
if(d==0){for(var O=0;O<I.length;O+=2){I[O]+=c;I[O+1]+=Q}}else{I[d*2]+=c;I[d*2+1]+=Q}B.Fi.aJc(F,I,d)}else if(k){var x=B.Fi.dL(k,l,F),U=new k6(_.E.c,!0);
U.data={R:_.m.yz,P5:x==-1?"default":x==0?"move":"pointer"};r.a(U)}B.Fi.uD(F)};B.Fi.dL=function(F,r,$){var C=6*B.ha()/$.f.bU,M=F[0],l=j.b.V7(M,r.x,r.y,C);
if(l==0&&M.length==8&&M[0]==M[6]&&M[1]==M[7])l=3;if(l==-1&&F[1][0]==1)l=j.b.V7(M.slice(0,2),r.x,r.y,2*C);
return l};B.Fi.prototype.pf=function(F,r,$,C,M){if(this.$T==null)return;this.$T=null;this.un=null;B.Fi.at4(this,F)};
B.Fi.at4=function(F,r){var $=r.K[0],C=r.u[$],M=C.add.GdFl,l=C.add.vstl,k=JSON.stringify(M?M:l),d=r.history[r.Qc];
if(d&&d.J==F&&d.data.RX==$)d.data.fL=k;else{var I=new fH("Change Gradient",F);I.data={RX:$,vu:F.pK,fL:k};
r.gg(I)}};B.Fi.aJc=function(F,r,$){var C=F.u[F.K[0]],M=C.add.GdFl,l=C.add.vstl,k=C.add.vmsk,d=new hx(r[0],r[1]),I=new hx(r[2],r[3]),c=new hx(r[4],r[5]),Q=new hx(r[6],r[7]);
if(l){var x=l.rK[0],U=l.rK[2],S=hq.qf(d,I,new hS),z=hq.oC(x,S,k.M);if(x==1){var V=hx.BV(c,d)/hx.BV(I,d);
if(Math.abs(V-1)<.03)V=1;z[2][4]=$==2?V:U[4];if($==3){if(hx.BV(Q,d)/hx.BV(I,d)<.05)Q=d.P();hq.bE(z,d,I,Q,z[2][4]);
if(z[2][6]>.999)z[2][6]=.999}else{z[2][5]=U[5];z[2][6]=U[6]}}z[1]=l.rK[1];l.rK=z}else{var x=M.Type.v.GrdT,t=C.S;
if(x=="Lnr"||x=="Rflc"){d.x=(d.x+I.x)/2;d.y=(d.y+I.y)/2}j.qS.aF(d,I,t,M);C.uH(F)}F.vM()};B.Fi.Tz=function(F){if(F==null||F.K.length==0)return;
var r=F.u[F.K[0]],$=r.add.GdFl,C=r.add.vstl;if($==null&&C==null)return;if(C==null)C=kQ.mN(r.add,F);var M=C.rK;
if(M.length!=4)return;var l=r.add.vmsk?r.add.vmsk.M:j.w.tQ.Rect(0,0,F.r,F.$),k=hq.dg(M,l),l=[0,0,1,0];
if(gw==1&&M[0]==1){var d=M[2][5]*Math.PI/180,I=M[2][6];l.push(0,-1,Math.cos(d)*I,-Math.sin(d)*I)}j.b.U(l,k,l);
return[l,M,k]};B.Fi.uD=function(F){if(F)B.Fi.af(F);var r=B.Fi.Tz(F);if(r==null)return;var $=r[0],C=r[1],M=r[2],l={n:$.slice(0,4),C0:["M","L"]};
if(C[0]==1){var k=j.w.tQ.jI(-1,-1,2,2),d=j.b.oJ(k);j.b.U(d.n,M,d.n);j.b.concat(l,d)}F.pu.gN=l;F.pu.Qu=$;
F.eD=!0};B.Fi.prototype.mY=function(F,r){var $=r.u[F.RX],C=gw==0?"GdFl":"vstl";if(F.fL){$.add[C]=JSON.parse(F.fL);
$.uH(r);r.vM();B.Fi.af(r)}};B.Fi.prototype.Ea=function(F,r){var $=r.u[F.RX],C=gw==0?"GdFl":"vstl";if(F.fL){$.add[C]=JSON.parse(F.vu);
$.uH(r);r.vM();B.Fi.af(r)}};B.Uu=function(){B.m9.call(this,[10,7],B.H1,"tools/hand");this.Ai=!1;this.le=new hx(0,0);
this.Ab=null;this.MF=0};B.Uu.prototype=new B.m9;B.Uu.prototype.Rg=function(F,r,$,C){this.Ai=F.Ai};B.Uu.prototype.Y3=function(F,r,$,C,M){var l=F.R;
if(l=="setcls"){$.f.BS=F.BS;$.eD=!0;$.GF=!0}if(l=="scroll"){if(C.D(ac.Xf))B.Uu.Yf($,$.f.p.x-F.EB.y,$.f.p.y-F.EB.x);
else B.Uu.Yf($,$.f.p.x-F.EB.x,$.f.p.y-F.EB.y)}};B.Uu.prototype.enable=function(F,r,$,C){this.Ab=null;
var M=new k6(_.E.c,!0);M.data={R:_.m.yz,P5:"grab"};r.a(M);if(F&&Date.now()-this.MF<300){M.I=_.E.O;M.J=B.Li;
M.data={R:"adapt",Y:"fitscr"};r.a(M)}this.MF=Date.now()};B.Uu.prototype.SY=function(F,r,$,C,M){this.Ab=F.f.p.P();
this.le.I_(M.x,M.y)};B.Uu.prototype.GQ=function(F,r,$,C,M){if(!M.HY)return;if(this.Ab==null)this.SY(F,r,$,C,M);
var l=this.Ai?r.Mi:[F];for(var O=0;O<l.length;O++)B.Uu.Yf(l[O],this.Ab.x+(M.x-this.le.x),this.Ab.y+(M.y-this.le.y))};
B.Uu.prototype.pf=function(F,r,$,C,M){this.Ab=null};B.Uu.Yf=function(F,r,$){var C=F.f.bU,M=F.f.FL,l=M.r,k=M.$,d=j.b.Vs(new cS(0,0,F.r,F.$)).n,I=new hS;
I.rotate(F.f.K$);j.b.U(d,I,d);var c=j.b.sY(d),Q=c.r*C,x=c.$*C,U=Q<l&&x<k,S=l/2+Q/2-64,z=k/2+x/2-64;F.f.p.I_(Math.max(-S,Math.min(S,r)),Math.max(-z,Math.min(z,$)));
F.GF=!0};B.dv=function(){B.m9.call(this,[10,47],B.MI,"tools/rview");this.le=new hx(0,0);this.nS=null;
this.oO=null;this.MF=0};B.dv.prototype=new B.m9;B.dv.prototype.enable=function(F,r,$,C){this.Ab=null;
var M=new k6(_.E.c,!0);M.data={R:_.m.yz,P5:"grab"};r.a(M);if(F&&Date.now()-this.MF<300&&F.f.K$!=0){F.f.K$=0;
F.eD=!0}this.MF=Date.now();if(F)this.kI(F,r)};B.dv.prototype.disable=function(F,r,$,C,M){if(F)this.kI(F,r)};
B.dv.prototype.x1=function(F,r,$,C){if(F)this.kI(F,r)};B.dv.prototype.SY=function(F,r,$,C,M){this.le.I_(M.x,M.y);
var l=F.f;this.nS=l.Ti(l.FL.r/2,l.FL.$/2);this.oO=l._c();var k=l.Ti(l.FL.r/2,l.FL.$/2),d=Math.min(l.FL.r,l.FL.$)*.35/l.bU,I=d*.2,c=k.x,Q=k.y;
F.pu.nW={C0:"M L L L L L".split(" "),n:[c,Q,c,Q-d,c+I,Q,c,Q+d,c-I,Q,c,Q-d]};F.eD=!0};B.dv.prototype.ac0=function(F){var r=F.f,$=r.Ti(r.FL.r/2,r.FL.$/2);
F.pu.nW={C0:["M","L"],n:[$.x,$.y,$.x,$.y-200]}};B.dv.prototype.GQ=function(F,r,$,C,M){if(!M.HY)return;
var l=F.f,k=this.nS,d=this.le,I=new hx(l.FL.r/2,l.FL.$/2),c=Math.atan2(M.y-I.y,M.x-I.x),Q=Math.atan2(d.y-I.y,d.x-I.x),x=Math.atan2(this.oO.X,this.oO.xz),U=c-Q,S=Math.PI/4;
if(C.D(ac.il)){U=x+S*Math.round((U-x)/S)}this.adR(F,r,this.oO.P(),k,U)};B.dv.prototype.pf=function(F,r,$,C,M){F.pu.nW=null;
F.eD=!0};B.dv.prototype.Rg=function(F,r,$,C){this.adR($,r,null,null,F.M$-$.f.K$);$.f.K$=F.M$};B.dv.prototype.adR=function(F,r,$,C,M){var l=F.f;
if($==null)$=l._c();if(C==null)C=l.Ti(l.FL.r/2,l.FL.$/2);$.translate(-C.x,-C.y);$.rotate(M);$.translate(C.x,C.y);
l.aHc($);if(F.r*l.bU<l.FL.r&&F.$*l.bU<l.FL.$)l.p.I_(0,0);F.eD=!0;this.kI(F,r)};B.dv.prototype.kI=function(F,r){var $=new k6(_.E.c,!0);
$.data={R:_.m.Rl,J:this.id,M$:F.f.K$};r.a($)};B.s0=function(){B.WG.call(this,[10,25],B.oG,"tools/hbrush")};
B.s0.prototype=new B.WG("");B.s0.prototype.pf=function(F,r,$,C,M){if(this.O8==null)return;this.E6(F,"heal",this.O8.Vr(),this.O8.y2(),this.O8.Hq());
this.vM(F,this.O8.Hq());B.k7.prototype.pf.call(this,F,r,$,C,M);if(!this.N8.algnd)this.p=null};B.zS=function(F){B.m9.call(this,F?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],F?B.LF:B.Q_,F?"tools/vtype":"tools/htype");
this.Fn=[];this.e=null;this.caller=null;this.lo=1;this.Q6=0;this.Gl=null;this.arV=0;this.sL=0;this.a02=0;
this.aC5=null;this.vP=null;this.wH=null;this.XI=null;this.b1=null;this.eQ=null;this.aA6=null;this.o5=null;
this.qb=null;this.bA=null;this.anG=null;this.w0=!1;this.Fs=!1;this.jJ=!1;this.lg=null;this.MC=null;this.aiK=null;
this.bq=!1;this.Gq=!1;this.tN=-1;this.UA=-1;this.tv=document.createElement("textarea");this.tv.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.tv.addEventListener("input",this.jE.bind(this),!1);this.tv.addEventListener("keydown",this.afe.bind(this),!1);
this.tv.addEventListener("keyup",this.aI2.bind(this),!1)};B.zS.prototype=new B.m9;B.zS.prototype.j0=function(F){return F.HY};
B.zS.prototype.zN=function(F,r,$,C){if(this.wH!=null||this.id==B.LF)return;this.caller=r;var M=this.a18(F);
if(M.length!=0){var l=null,k=[],d=[];for(var O=0;O<M.length;O++){var I=F.u[M[O]],c=I.add.TySh,Q=0,x=ho.OD(c.$E).length-2,U=ho.RT(c.$E,Q,x);
ho.uM(U,c.U.w5());if(U.Uz.Font!=null)U.Uz.Font=U.WX[U.Uz.Font].Name;l=U.WX;k.push(U.Uz);d.push(U.jv)}var U={WX:l,Uz:ho.MV(k),jv:ho.MV(d)};
if(U.Uz.Font!=null)ho.jl(U,U.Uz.Font);this.aHF(r,U,c)}};B.zS.prototype.a18=function(F){var r=[];for(var O=0;
O<F.K.length;O++)if(F.u[F.K[O]]&&F.u[F.K[O]].add.TySh)r.push(F.K[O]);return r};B.zS.prototype.Y3=function(F,r,$,C,M){var l=F.R=="insertGlyph",k=F.R=="copyText",d=F.R=="selectAll";
if((l||k||F.R=="insertText"||d)&&this.wH){var I=l?String.fromCharCode(65533):F.Y,c=this.tv,Q=c.value,x=c.selectionStart,U=c.selectionEnd;
if(k){bF.w_(new Blob([Q.slice(x,U)],{type:"text/plain"}))}else if(d){this.tN=c.selectionStart=0;this.UA=c.selectionEnd=Q.length;
this.B_($);c.focus()}else{c.value=Q.slice(0,x)+I+Q.slice(U);c.selectionStart=c.selectionEnd=x+I.length;
this.jE(null,l?F.Y:null);c.focus()}}if(F.R=="updateStyles"){if(this.wH==null){var S=this.a18($),z=!1;
if(S.length!=0){this._X($,r,M,S);for(var O=0;O<S.length;O++){var V=$.u[S[O]],t=V.add.TySh;ho.Ue(t,this.lo);
t.Yb.VAlign.v=this.Q6;this.wH=V;var Y=ho.OD(t.$E);this.tN=0;this.UA=Y.length-1;ho.WE(t.$E,this.tN,this.UA,this.Qe(M,t));
var i=this.Bi($,M);if(i==!1)z=!0}if(z){this.bq=!0;return}this.NY($,r,!0)}return}this.zD(M)}if(F.R.startsWith("warp")){var J=this.Gq;
if(F.R=="warp"||F.R=="warpCancel"){if(this.wH==null)return;if(F.R=="warp")this.wH.add.TySh.xD=F.gd;else this.wH.add.TySh.xD=this.aA6;
this.Bi($,M);if(!J)this.B_($)}if(F.R!="warp")this.tv.focus();if((F.R=="warpConfirm"||F.R=="warpCancel")&&J){this.Gq=!1;
if(F.R=="warpConfirm")this.NY($,r);else this.Dk($,r)}}if(F.R=="editCurr"){if(M.fp!=B.Q_){this.Gl=M.fp;
var H=new k6(_.E.c,!0);H.data={R:_.m.Td,J:B.Q_};r.a(H)}if(this.wH!=null)this.disable($,r,M,C);this.e=M;
this.caller=r;this._X($,r,M,[F.PS]);var Y=ho.OD(this.wH.add.TySh.$E);this.tN=0;this.UA=Y.length-1;this.B_($);
this.Va();this.tv.focus()}if(F.R=="switchPntPrgr"){if(this.wH)return;var V=$.u[$.K[0]],t=V.add.TySh,v=t.U.w5(),n=V.Xl(),G=j.N(t.$E),g=ho.C9(G),W=g==1?ho.AA(G):[0,0,Math.round(n.r*1.05/v),Math.round(n.$*1.25/v)],L=ho.RT(G,0,0),b=L.WX[L.Uz.Font].Name,T=M.v7.yV(b),a=[0,W[2],W[2]/2][L.jv.Justification%3],R=(T?j5.$h(T):.8)*L.Uz.FontSize;
ho.s2(G,1-g);if(g==0){console.log(j5.$h(T,b,L.Uz));a=-a;R=-R;ho.SB(G,[0,0,W[2],W[3]])}var D=new hS(1,0,0,1,a,R);
D.concat(t.U);this.Y3({oi:$.K[0],R:"newED",CM:G,U:D,aom:[16,3,g==1?0:1]},r,$,C,M)}if(F.R=="newED"){var V=$.u[F.oi],t=V.add.TySh,h=this.K9($,[F.oi]);
t.$E=F.CM;if(F.U)t.U=F.U;if(dJ._H(t,M.v7,r)){dJ.Bi(V,M.v7,$);$.vM()}else $.Zp=!0;var K=new fH(F.aom?F.aom:this.name,this);
K.data={D7:h,ze:this.K9($,[F.oi])};$.gg(K)}if(F.R=="fromAction"){var X;if(F.NT.hE=="set"){X=F.NT.iH.T.v}else{X=F.NT.iH.Usng.v;
var w=X.TxtC.v,N=[];for(var O=0;O<2;O++){var s=w[O==0?"Hrzn":"Vrtc"].v,I=s.val;if(s.type=="#Prc")I=(O==0?$.r:$.$)*(I/100);
N[O]=I}this.Qg($,r,M,C,$.f.uc(N[0],N[1]),!0)}var V=$.u[$.K[0]],t=V.add.TySh,A=t.$E,Q=ho.OD(A);ho._h(A,0,Q.length-1);
ho.uy(A,0,X.Txt.v.replace(/\r/g,"\n"));Q=ho.OD(A);for(var g=0;g<2;g++){var p=X[g==0?"Txtt":"paragraphStyleRange"];
if(p==null)continue;p=p.v;for(var O=0;O<p.length;O++){var q=p[O].v,x=q.From.v,U=Math.min(q.T.v-1,Q.length-1);
q=q[g==0?"TxtS":"paragraphStyle"].v;var f=ho.RT(A,x,U),e=g==0?f.Uz:f.jv;for(var o in q){var E=q[o].v;
if(o=="Sz")e.FontSize=Math.round(E.val*(E.type=="#Pnt"?$.YV/72:1));else if(o=="fontPostScriptName")ho.jl(f,E);
else if(o=="Algn")e.Justification={Left:1,Cntr:2}[E.Alg];else if(o=="leading")e.Leading=q[o].v.val;else if(o=="baselineShift")e.BaselineShift=q[o].v.val;
else if(o=="autoLeading")e.AutoLeading=q[o].v;else if(o=="syntheticBold")e.FauxBold=q[o].v;else if(o=="syntheticItalic")e.FauxItalic=q[o].v;
else if(o=="Trck")e.Tracking=q[o].v;else if(o=="verticalScale")e.VerticalScale=q[o].v/100;else if(o=="horizontalScale")e.HorizontalScale=q[o].v/100;
else if(o=="Clr")e.FillColor={Type:1,Values:[1,E.Rd.v/255,E.Grn.v/255,E.Bl.v/255]}}ho.WE(A,x,U,f)}}if(dJ.H$($,M.v7,r))dJ.Bi(V,M.v7,$);
else $.Zp=!0;$.vM();this.NY($,r)}};B.zS.prototype.zD=function(F){var r=Math.min(this.tN,this.UA),$=Math.max(this.tN,this.UA),C=this.wH.add.TySh;
ho.Ue(C,this.lo);C.Yb.VAlign.v=this.Q6;var M=this.Qe(F,C);ho.WE(C.$E,r,$-1,M);var l=this.caller.yP(),k=this.Bi(l,F);
if(k)this.B_(l);if(document.activeElement.tagName.toLowerCase()!="input")this.tv.focus()};B.zS.prototype.fI=function(F){return this.Fn.indexOf(F)!=-1};
B.zS.prototype.enable=function(F,r,$,C){var M=this.tv;r._.appendChild(M);this.o5="default";this.Sx(r)};
B.zS.prototype.fV=function(){return this.wH!=null};B.zS.OA=function(F,r){var $=new hx(r.x,r.y);for(var O=F.u.length-1;
O>=0;O--){var C=F.u[O],M=C.add.TySh;if(M&&F.a8Y(O)){var l=$,k=C.S;if(gw==1){var d=M.U.P();d.v4();l=d.pI($);
k=C.FM.gt}if(!k.m_(l))continue;var I=C.aV(31);return I?-2:O}}return-1};B.zS.prototype.SY=function(F,r,$,C,M){this.e=$;
this.caller=r;var l=F.f.Ti(M.x,M.y),k=this.wH==null;if(k){var d=B.zS.OA(F,l);if(d==-2){alert(dG.get([6,57,0]));
return}if(d>=0&&!C.D(ac.il)){if(!dJ._H(F.u[d].add.TySh,$.v7,r)){alert("Fonts not loaded yet");return}this._X(F,r,$,[d])}else{this.jJ=!0;
this.lg=M;return}}var I=k?-1:ho.C9(this.wH.add.TySh.$E),c=this.bA?this.bA:this.qb,Q=c&&c.SY(F,$,C,l,null,null,M)&&j.gd.sp(this.wH.add.TySh.xD),x=!k&&j.b.aAn(l,this.wH.Xl())>20/F.f.bU&&(I==0||I==1);
if(Q||x){this.w0=!0;this.MC=l;this.aiK=this.wH.add.TySh.U.P();if(this.tN==-1&&this.UA==-1)this.tN=this.UA=this.zy(l)}else{if(this.b1==null){alert("Fonts not loaded yet");
return}this.Fs=!0;this.tN=this.UA=this.zy(l);var U=Date.now();if(U-this.arV>300)this.sL=0;this.sL++;
this.arV=U;if(this.sL==2)this.alX();if(this.sL==3)this.aGa();if(this.sL>1){this.Fs=!1}}this.Va();this.B_(F)};
B.zS.prototype._X=function(F,r,$,C){var M=F.u[C[0]];this.wH=M;this.pl(r,_.E.c,{R:_.m.Rl,J:this.id,uT:"showactive"});
this.XI=C;F.K=C.slice(0);F.Jq();F.eS=!0;this.eQ=this.K9(F,C);this.dz(M.add.TySh);this.Bi(F,$)};B.zS.prototype.dz=function(F){if(ho.C9(F.$E)!=1)return;
var r=ho.AA(F.$E);r=new cS(0,0,r[2]-r[0],r[3]-r[1]);var $=[r.x,r.y,r.x+r.r,r.y,r.x+r.r,r.y+r.$,r.x,r.y+r.$];
j.b.U($,F.U,$);this.qb=new aY($,!1,!1,!1,!0);this.qb.ZJ(0)};B.zS.prototype.alX=function(){var F=ho.OD(this.wH.add.TySh.$E);
this.tN=this.acW(F,this.tN);this.UA=this.akd(F,this.tN)};B.zS.prototype.acW=function(F,r){var $=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",C=[];
for(var O=0;O<$.length;O++)C.push($.charAt(O));var M=C.indexOf(F[r])==-1?!0:!1;for(var O=r-1;O>=0;O--)if(C.indexOf(F.charAt(O))!=-1==M)return O+1;
return 0};B.zS.prototype.akd=function(F,r){var $=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",C=[];for(var O=0;
O<$.length;O++)C.push($.charAt(O));var M=C.indexOf(F[r])==-1?!0:!1;for(var O=r+1;O<F.length;O++)if(C.indexOf(F.charAt(O))!=-1==M)return O;
return F.length-1};B.zS.prototype.aGa=function(){var F=this.b1.adO(this.tN);this.tN=F[0];this.UA=F[1]};
B.zS.prototype.Sx=function(F){var r=new k6(_.E.c,!0);r.data={R:_.m.yz,P5:this.o5};F.a(r)};B.zS.prototype.GQ=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=this.wH;
if(!M.HY){var d="default",I=this.qb,c=this.bA?this.bA:I;if(c&&j.gd.sp(k.add.TySh.xD)){var Q=c.cb(l,F.f.bU,null,M);
if(Q)d=Q;else if(c==I&&I._k(l))d="text"}else if(k&&j.b.aAn(l,k.Xl())>20/F.f.bU)d="move";else if(B.zS.OA(F,l)>=0)d="text";
if(d!=this.o5){this.o5=d;this.Sx(r)}}var x=this.lg;if(this.jJ&&Math.min(M.x-x.x,M.y-x.y)>4/F.f.bU){this.jJ=!1;
this.Qg(F,r,$,C,M);k=this.wH;this.w0=!0;this.qb=new aY(null,!1,!1,!1,!0);this.qb.ZJ(0);var U=F.f.Ti(this.lg.x,this.lg.y);
U.x=Math.round(U.x);U.y=Math.round(U.y);this.qb.SY(F,$,C,U,null,null,M,F.f.K$)}if(this.w0){var S=k.add.TySh;
if(this.bA){this.bA.GQ(F,$,C,l);var z=j.H.fR(j.H.e0(this.bA.Ju(),this.anG));S.U=z;this.Bi(F,$);ho.iC(S)}else if(this.qb){this.qb.GQ(F,$,C,l);
var V=S.U.P(),t=Math.atan2(V.X,V.xz);V.rotate(t);var z=j.H.fR(j.H.e0(this.qb.Ju())),Y=Math.atan2(z.X,z.xz);
z.rotate(Y);if(!isNaN(z.xz)&&z.xz*z.G0-z.X*z.gb!=0){var i=new cS(0,0,z.xz/V.xz,z.G0/V.G0),J=i.r,H=i.$,v=S.$E.Curve;
if(v){var n=ho.AA(S.$E),G=new hS(J/n[2],0,0,H/n[3],0,0);j.b.U(v.Points,G,v.Points);ho.iC(S)}ho.SB(S.$E,[0,0,J,H]);
S.U=j.H.fR(j.H.e0(this.qb.Ju(),i));this.Bi(F,$);ho.iC(S)}}else{var g=l.x-this.MC.x,W=l.y-this.MC.y;S.U=this.aiK.P();
var L=new hx(S.U.P6+g,S.U.jw+W);L=B.qW.aU(F,L,$);S.U.P6=L.x;S.U.jw=L.y;this.Bi(F,$)}}if(this.Fs)this.UA=this.zy(l);
if(this.w0||this.Fs)this.B_(F)};B.zS.prototype.Qg=function(F,r,$,C,M,l){var k=F.Ug(),d=k[0],I=k[1],c=F.at();
c.add.lnsr="rend";var Q=F.u.slice(0);c.Da("Text layer "+Q.length);this.wH=c;var x=F.K.length==0?F.u.length-1:F.K[F.K.length-1],U=x+1;
if(Q[x].add.lsct==jR.ul)U--;this.eQ={pJ:Q.slice(0),lS:F.K.slice(0)};Q.splice(U,0,c);F.K=[U];this.tN=this.UA=0;
F.C8(Q);this.eQ.D2=Q.slice(0);this.eQ.xP=F.K.slice(0);this.pl(r,_.E.c,{R:_.m.Rl,J:this.id,uT:"showactive"});
var S=F.f.Ti(M.x,M.y),z=$.yc;console.log(z);if(this.id==B.LF){z=j.N(z);z.Uz.BaselineDirection=1}c.add.TySh=ho.DB(S.x,S.y,z,F.f.K$);
var V=c.add.TySh,t=V.$E;if(this.id==B.LF)t._LineOrientation=2;ho.Ue(V,this.lo);V.Yb.VAlign.v=this.Q6;
if(M.HY)ho.s2(t,1);else{ho.s2(t,0);var Y=d[I.pop()],i=Y?Y.add.vmsk:null;if(l)i=null;if(i&&!C.D(ac.il)){i=i.P();
var J=i.M,v,n;for(var O=0;O<J.length;O++)if(J[O].ea!=null)J[O].ea=0;var H=5/F.f.bU;v=j.w.TJ(i.M,S,!0,H);
if(v.Sc==-1)v=j.w.TJ(i.M,S);if(v.Sc!=-1){ho.s2(t,1);var G=j.w.ZZ(J,v.Sc),g=j.w.qe(J,v.Sc)-1;J=i.M=J.slice(0,2).concat(J.slice(G,G+g+1));
i.K=[];V.add={vmsk:i,vogk:Z.ud(J)};t.Curve={};ho.tq(V);if(v.uP!=null){var W=j5.M2(t.Curve);j.b.U(W[0],V.U,W[0]);
var L=j.b.V7(W[0],S.x,S.y),b=$.yc.jv.Justification;if(b==2||b==5){var T=(W[2][L]+W[3]*.5)%W[3];L=j5.SC(T,W[2])}var a=W[1][L];
a=a%g;i.tn=[a,a];ho.tq(V)}else this.dz(V)}}}return c};B.zS.prototype.pf=function(F,r,$,C,M,l){if(l){this.jJ=!1;
return}if(this.wH==null&&!this.jJ)return;var k=F.f.Ti(M.x,M.y),d=this.jJ;if(this.jJ){this.jJ=!1;this.Qg(F,r,$,C,M);
this.Fs=!0}if(this.w0||this.Fs){this.B_(F);this.Va();if(d)this.zD($)}if(this.w0&&this.qb)this.qb.pf(F,$,C,k);
this.w0=this.Fs=!1;this.tv.focus()};B.zS.prototype.Va=function(){var F=this.wH.add.TySh,r=Math.min(this.tN,this.UA),$=Math.max(this.tN,this.UA),C,M;
if(r==$){var l=ho.OD(F.$E);if(r==0||l.charAt(r-1)=="\n")C=M=r;else C=M=r-1}else{C=r;M=$-1}var k=ho.RT(F.$E,C,M);
ho.uM(k,F.U.w5());this.aHF(this.caller,k,F)};B.zS.prototype.aHF=function(F,r,$){this.pl(F,_.E.c,{R:_.m.WF,jg:d3.yp,yc:r});
var C=this.lo=ho.dc($),M=this.Q6=$.Yb.VAlign.v;this.pl(this.caller,_.E.c,{R:_.m.Rl,J:this.id,uT:"changeOther",Ri:C,NP:M})};
B.zS.prototype.ql=function(F,r,$,C,M){if(F==null)return;var l=F.f.Ti(M.x,M.y),k=B.zS.OA(F,l);if(k==-1)return;
var d=new k6(_.E.c,!0);d.data={R:_.m.Rl,J:this.id,uT:"showpan",a3Z:this.wH!=null,PS:k,z6:M,hg:F,e:$};
r.a(d)};B.zS.prototype.a5l=function(){var F=this.wH;if(F&&!this.w0&&this.bA!=null){var r=this.caller.yP();
this.bA.pf(r,this.e,null,null);this.bA=null;this.dz(F.add.TySh);this.B_(r)}};B.zS.prototype.disable=function(F,r,$,C){var M=this.wH;
this.NY(F,r)};B.zS.prototype.Rg=function(F,r,$,C,M){if(this.Gq)return;if(F.uT=="commit")this.NY($,r);
if(F.uT=="cancel")this.Dk($,r);if(F.uT=="changeOther"){this.lo=F.Ri;this.Q6=F.NP;if($!=null)this.Y3({R:"updateStyles"},r,$,C,M)}if(F.uT=="showwarp"){if($==null)return;
if(this.wH==null){var l=$.u[$.K[0]],k=l.add.TySh;if(k==null)return;this._X($,r,M,[$.K[0]]);this.tv.focus();
this.Gq=!0}this.aA6=this.wH.add.TySh.xD;var d=new k6(_.E.c,!0);d.data={R:_.m.Oe,rS:"textwarp"};r.a(d)}};
B.zS.prototype.Db=function(F,r){if(r!=d3.r3)return;if(this.bq&&this.XI){this.bq=!1;var $=this.caller.yP(),C=this.XI;
for(var O=0;O<C.length;O++){this.wH=$.u[C[O]];this.Bi($,F)}this.NY($,this.caller);return}if(this.wH)this.zD(F)};
B.zS.prototype.Qe=function(F,r){var $=j.N(F.yc);ho.uM($,1/r.U.w5());return $};B.zS.prototype.mY=function(F,r){if(F.D7!=null)this.ml(r,F.ze);
else this.a5j(r,F.D2,F.xP)};B.zS.prototype.Ea=function(F,r){if(F.D7!=null)this.ml(r,F.D7);else this.a5j(r,F.pJ,F.lS)};
B.zS.prototype.ml=function(F,r){for(var O=0;O<r.length;O++){var $=r[O],C=$.oi,M=F.u[C];M.buffer=$.PF;
M.S=$.OV.P();M.vM();M.FM.t6=null;M.FM.path=null;var l=M.add.TySh;l.xD=$.gd;l.xa=$.xa.P();l.U=$.U.P();
l.$E=j.N($.$E);M.mf()}F.vM()};B.zS.prototype.K9=function(F,r){var $=[];for(var O=0;O<r.length;O++){var C=r[O],M=F.u[C],l=M.add.TySh;
$.push({oi:C,U:l.U.P(),gd:j.N(l.xD),xa:l.xa.P(),$E:j.N(l.$E),PF:M.buffer.slice(0),OV:M.S.P()})}return $};
B.zS.prototype.a5j=function(F,r,$){F.K=$;F.C8(r);F.vM();F.Wk=!0};B.zS.prototype.Bi=function(F,r,$){if($==null)$=!1;
var C=this.wH.add.TySh;if(!dJ._H(C,r.v7,this.caller))return!1;if(!$){var M=ho.OD(C.$E);this.tv.value=M.slice(0,M.length-1)}var l=this.wH.S,k=dJ.Bi(this.wH,r.v7,F);
this.b1=k[1];var d=this.b1.Zz();if(j.gd.sp(C.xD))C.xa=new cS;else{if(ho.C9(C.$E)==1){var I=ho.AA(C.$E),bU=d.y;
C.xa=new cS(0,bU,I[2]-I[0],I[3]-I[1]-bU)}else C.xa=d}F.CJ();if(k[2])F.vM(F.root.aK(k[2].OV.DM(l),F,F.u.indexOf(this.wH)));
return!0};B.zS.prototype.jE=function(F,r){if(this.wH==null||this.Gq)return;var $=this.tv.selectionStart,C=this.wH.add.TySh,M=ho.OD(C.$E),l=this.tv.value+"\n",k=Math.min(this.tN,this.UA),d=Math.max(this.tN,this.UA),U=!1;
this.tN=Math.min($,k);if(l.length-$<M.length-this.UA)this.UA=M.length-l.length+$;if(M!=l){while(this.tN>0&&M.charAt(this.tN-1)!=l.charAt(this.tN-1))this.tN--}var I=M.substring(0,this.tN),c=M.substring(this.UA,M.length),Q=l.substring(this.tN,l.length-c.length);
ho._h(C.$E,this.tN,this.UA);ho.uy(C.$E,this.tN,Q);if(r!=null)ho.am_(C.$E,this.tN,r);var x=this.Qe(this.e,C),S=-1,z=Array.from(Q);
for(var O=0;O<z.length;O++)S=Math.max(S,z[O].codePointAt(0));if(S!=-1&&S>32&&S!=65533&&x.Uz.Font!=null){var V=x.WX[x.Uz.Font].Name,t=this.e.v7.a6y(S,V,x.WX);
if(V!=t){ho.jl(x,t);U=!0}}if(this.vP!=null&&Q==this.vP){var Y=JSON.parse(this.aC5);ho.uM(Y,1/C.U.w5());
x.Uz=Y.Uz;x.WX=Y.WX;U=!0}ho.WE(C.$E,this.tN,this.tN+Q.length-1,x);this.tN=this.UA=I.length+Q.length;
var i=this.caller.yP(),J=this.Bi(i,this.e,!0);if(J)this.B_(i,!0);if(U)this.Va()};B.zS.prototype.aI2=function(F){var r=ac;
if(!F.ctrlKey)this.a5l();F.stopPropagation()};B.zS.prototype.afe=function(F){F.stopPropagation();var r=F.ctrlKey||F.metaKey,$=ac,I=0,c=0,J=0,R=!1;
if(this.wH==null||this.Gq)return;if(this.wH==null)return;if(this.caller.sX.gG())return;var C=this.caller.yP();
if(this.bA==null&&r){var M=this.wH.add.TySh,l=ho.C9(M.$E),k;if(l==1){k=ho.AA(M.$E);k=new cS(0,0,k[2]-k[0],k[3]-k[1])}else k=this.b1.Zz();
var d=[k.x,k.y,k.x+k.r,k.y,k.x+k.r,k.y+k.$,k.x,k.y+k.$];j.b.U(d,M.U,d);this.bA=new aY(d,!0,!0,!1,!1);
this.bA.ZJ(0);this.anG=k;this.B_(C)}if($.Dh(F.code,$.IZ))I=1;if($.Dh(F.code,$.ex))I=-1;if($.Dh(F.code,$.IS))c=-1;
if($.Dh(F.code,$.pU))c=1;var Q=$.Dh(F.code,ac.Jr),x=$.Dh(F.code,ac.aKa);if($.Dh(F.code,ac.t7)&&r){this.NY(C,this.caller);
return}if($.Dh(F.code,ac.Pl)){this.Dk(C,this.caller);return}if($.Dh(F.code,ac.FV)){F.preventDefault();
var U=this.tv,S=U.value,z=U.selectionStart,V=U.selectionEnd;U.value=S.substring(0,z)+"\t"+S.substring(V);
U.selectionStart=U.selectionEnd=z+1;this.jE(null);return}var t=$.Dh(F.code,$.Ur),Y=$.Dh(F.code,$.Qb);
if(r&&(t||Y)){F.preventDefault();var i=new k6(_.E.O,!0);i.J=B.Li;i.data={R:"zoom",DZ:t};this.caller.a(i)}if($.Dh(F.code,$.PV))J=1;
if($.Dh(F.code,$.gu))J=-1;var H=this.tN==this.UA,v=r&&F.shiftKey&&J!=0&&!H;if(v||F.altKey&&I!=0){var n=j.N(this.e.yc);
if(v){var G=n.Uz.FontSize;if(G==null)G=16;n.Uz.FontSize=Math.max(1,G+J*(F.altKey?5:1))}else{if(H){n.Uz.Kerning+=20*I;
n.Uz.AutoKerning=!1}else n.Uz.Tracking+=20*I}F.preventDefault();var g=new k6(_.E.c,!0);g.data={R:_.m.WF,jg:d3.yp,yc:n};
this.caller.a(g);var i=new k6(_.E.O,!0);i.J=B.Q_;i.data={R:"updateStyles"};this.caller.a(i);return}if(($.Dh(F.code,$.gZ)||$.Dh(F.code,$.sa))&&r){var W=this.tN,L=this.UA;
if(W>L){var b=W;W=L;L=b}var M=this.wH.add.TySh,T=ho.OD(M.$E);if(W!=L){this.vP=T.slice(W,L);this.aC5=JSON.stringify(this.e.yc)}}var a=ho.OD(this.wH.add.TySh.$E);
if(I!=0||c!=0||Q||x){F.preventDefault();var D=this.tN;if(I!=0){if(r&&I==-1)D=this.acW(a,this.tN-1);else if(r&&I==1)D=this.akd(a,this.tN);
else{var U=this.tv,S=U.value;D=this.tN+I;if(D!=0&&S.codePointAt(D-1)>65535)D+=I}}else if(c!=0){var h=this.b1.Ni(this.tN);
if(c==-1&&h.cl==0)D=0;else if(c==1&&h.cl==this.b1.ajN()-1)D=99999999999;else D=this.b1.agd(new hx(h.OV.x+h.OV.r/2,0),h.cl+c)}else if(Q){var K=this.tN-1;
while(K>0&&a.charCodeAt(K)!=10)K--;D=K==0?0:K+1}else if(x){var K=this.tN;while(K<a.length-1&&a.charCodeAt(K)!=10)K++;
D=K}D=Math.max(0,Math.min(a.length-1,D));if(F.shiftKey)this.tN=D;else this.tN=this.UA=D;R=!0}if(r&&$.aDC(F,ac.m)){this.tN=0;
this.UA=a.length-1;R=!0}if(R){this.Va();this.B_(C)}};B.zS.aDK=function(F,r){var $=F.length;if($!=r.length)return!1;
for(var O=0;O<$;O++)if(F[O].oi!=r[O].oi)return!1;return!0};B.zS.prototype.NY=function(F,r,$){if(this.wH==null)return;
if(Date.now()-this.a02<5e3)$=!0;this.a02=Date.now();this.wH.mf();var C=this.eQ;if(C instanceof Array){var M=this.K9(F,this.XI),l=F.pg();
if(l!=null&&l.J==this&&l.data.D7&&B.zS.aDK(l.data.D7,C)&&$)l.data.ze=M;else{var k=new fH(this.name,this);
k.data={D7:C,ze:M};F.gg(k)}}else{var k=new fH(this.name,this);k.data={pJ:C.pJ,D2:C.D2,lS:C.lS,xP:C.xP};
F.gg(k)}this.escape(F,r)};B.zS.prototype.Dk=function(F,r){if(this.wH==null)return;if(this.eQ instanceof Array){this.ml(F,this.eQ);
if(this.wH)ho.iC(this.wH.add.TySh)}else{F.K=this.eQ.lS;F.C8(this.eQ.pJ);F.Wk=!0}F.vM();this.escape(F,r)};
B.zS.prototype.escape=function(F,r){this.a5l();this.wH=null;this.XI=null;this.b1=null;this.qb=null;this.tv.blur();
F.pu.nW=null;F.pu.UW=null;F.pu.Ce=[];F.eD=!0;this.w0=!1;this.Fs=!1;this.tN=this.UA=-1;this.pl(r,_.E.c,{R:_.m.Rl,J:this.id,uT:"hideactive"});
if(this.Gl){var $=new k6(_.E.c,!0);$.data={R:_.m.Td,J:this.Gl};r.a($);this.Gl=null}};B.zS.prototype.pl=function(F,r,$,C){var M=new k6(r,!0);
M.data=$;if(C)M.J=C;F.a(M)};B.zS.prototype.zy=function(F){var r=this.wH.add.TySh,$=this.b1,C=r.U.P();
C.v4();var M=C.pI(F),l=ho.y2(r,$),k=j.gd.YR(r.xD,l),d=j.$$.mA(k,M);if(d==null)d=new Float64Array(2);
M=new hx(l.x+d[0]*l.r,l.y+d[1]*l.$);if($.qs){var I=$.qs.P();I.v4();M=I.pI(M)}var c=$.agd(M);return c};
B.zS.prototype.B_=function(F,r){if(r==null)r=!1;var $=this.wH.add.TySh,C=ho.C9($.$E),M=this.b1,l=M?ho.y2($,M):null;
F.pu.Ce=[];F.pu.nW=null;F.pu.UW=null;var k=this.bA?this.bA:this.qb;if(k){k.TF(F,this.e,!j.gd.sp($.xD));
var d=$.U.P();d.v4();if(M&&M.qs&&M.wV==1){var I=M.qs.P();I.v4();d.concat(I)}j.b.U(F.pu.Ce,d,F.pu.Ce);
j.b.U(F.pu.nW.n,d,F.pu.nW.n);if(M&&M.qs==null&&M.akp()){var c=l.r-20,Q=l.$+8;F.pu.nW.n.push(c,Q,c+10,Q,c+5,Q-5,c+5,Q+5);
F.pu.nW.C0.push("M","L","M","L")}}else if(C==0)this.aEf(F,$,M);else F.pu.nW={n:[],C0:[]};var x=Math.min(this.tN,this.UA),U=Math.max(this.tN,this.UA);
if(!r){this.tv.selectionStart=x;this.tv.selectionEnd=U}if(M!=null){var S=function(k,H){var v=k.x,n=k.y+k.$,G=new hS;
G.translate(-v,-n);G.rotate(-H);G.translate(v,n);k.y+=k.$*.27;var J=j.b.Vs(k);j.b.U(J.n,G,J.n);return J};
if(x==U){x=Math.max(x,0);var z=M.Ni(x);if(z){var V=z.OV,t=this.e.yc.Uz.FontSize;if(t!=null&&t!=0){t/=$.U.w5();
V.y+=V.$-t;V.$=t}var Y=M.asC(x);if(Y!=null&&Y.sF==1)V.x+=V.r;var i=S(V,z.K$).n;F.pu.nW.C0.push("M","L");
F.pu.nW.n.push(i[0],i[1]-1,i[6],i[7]-1)}}else{F.pu.UW={n:[],C0:[]};for(var O=x;O<U;O++){var z=M.Ni(O),J=S(z.OV,z.K$);
j.b.concat(F.pu.UW,J)}}}F.pu.nW=dJ.lh(F.pu.nW,$,M,!0);F.pu.UW=dJ.lh(F.pu.UW,$,M,!0);F.pu.Ce=dJ.lh({n:F.pu.Ce},$,M,!0).n;
F.eD=!0};B.zS.prototype.aEf=function(F,r,$){if($==null)return;F.pu.Ce.push(0,0);if(F.pu.nW==null)F.pu.nW={C0:[],n:[]};
for(var O=0;O<$.jv.length;O++){var C=$.jv[O];for(var M=0;M<C.M0.length;M++){var l=C.M0[M],k=C.wT.x+l.wT.x+l.OV.x,d=C.wT.y+l.wT.y+l.OV.y+l.OV.$;
F.pu.nW.C0.push("M","L");F.pu.nW.n.push(k,d,k+l.OV.r,d)}}F.eD=!0};B.Pi=function(){B.zS.call(this,!0)};
B.Pi.prototype=new B.zS;B.IV=function(F){B.u_.call(this,F?"Magic Replace":[10,9],F?B.ae9:B.ov,F?"tools/mremove":"tools/lasso");
this.Cz=B.Nl();this.a4=null;this.W6=null;this.MC=null};B.IV.prototype=new B.u_;B.IV.prototype.Pg=function(F,r,$,C){this.a4=this.Nk;
this.W6={n:[this.a4.x,this.a4.y],C0:["M"]}};B.IV.prototype.gB=function(F,r,$,C){this.MC=C;var M=this.W6;
if(M==null)return;if(!C.HY){if(this.W6!=null&&this.hv.Fj(1)&&$.D(ac.AH)){M.n.pop();M.n.pop();M.n.push(this.Nw.x,this.Nw.y);
F.pu.nW=M;F.eD=!0}return}M.C0.push("L");M.n.push(this.Nw.x,this.Nw.y);this.a4=this.Nw;if(this.__){F.pu.nW=M;
F.eD=!0}};B.IV.prototype.fV=function(){return this.W6!=null};B.IV.prototype._W=function(){return this.W6!=null};
B.IV.prototype.JG=function(F,r,$,C){B.u_.prototype.JG.call(this,F,r,$,C);if(this.W6&&this.hv.Fj(1)&&this.MC&&!this.MC.HY&&!C.D(ac.AH))this.ahV(F,$,C)};
B.IV.prototype.$n=function(F,r,$,C){this.MC=C;var M=this.W6;if(M==null)return;if(this.hv.Fj(1)&&$.D(ac.AH)){M.C0.push("L");
M.n.push(this.Nw.x,this.Nw.y);return}this.ahV(F,r,$)};B.IV.prototype.ahV=function(F,r,$){this.finish(F,r,$,this.MC);
this.W6=null;F.pu.nW=null;F.eD=!0};B.IV.prototype.getSelection=function(F,r,$,C){if(this.Nk.Mp(this.Nw)||!this.__)return null;
return B.u_.Sg(this.W6.n,null,this.N8.anta)};B.qW=function(){B.m9.call(this,[10,11],B.uo,"tools/move");
this.sQ=new hx(0,0);this.hh=new hx(0,0);this.W4=null;this.mp=null;this.EC=new hx(0,0);this.xB=null;this.e=null;
this._s=null;this.MF=0;this.bJ=null;this.bP=[];this.u8=null;this.c_=null;this.EZ=!1;this.R=0;this.jf=null;
this.AB=null;this.gr=null;this.V5=!1;this.N8={PU:!0,Is:gw==1,Fc:!1,afh:1};this.akM=!1;this.ap_=!1;this.qb=null;
this.fa=null;this.BT=null;var F=[];for(var O=0;O<j.Om.si.length;O++)F.push({name:j.Om.si[O],T:function(r,$,C){return{fT:$.AK.qU==C}}});
this.uY=new aj(F);this.uY.Q("select",this.HS,this)};B.qW.prototype=new B.m9;B.m9.prototype.j0=function(F){return this.EZ&&this.R!=2};
B.qW.prototype.aBl=function(){return this.EZ&&(this.R==0||this.R==1)};B.qW.prototype.x1=function(F,r,$,C){this.bp(F,-this.EC.x,-this.EC.y);
this.EC.I_(0,0);this.aZ(F,null,$);this.uD(F)};B.qW.prototype.tY=function(){var F=this.N8;if(F.PU&&!F.Is&&!F.Fc)return null;
return[F.PU?1:0,F.Is?1:0,F.Fc?1:0]};B.qW.prototype.jN=function(F,r,$){var C=this.N8;if(F&&F[0]!=null)C.PU=F[0]==1;
if(F&&F[1]!=null)C.Is=F[1]==1;if(F&&F[2]!=null)C.Fc=F[2]==1;if(gw==1)C.Is=!0;var M=new k6(_.E.c,!0);
M.data={R:_.m.Rl,J:this.id,U9:C,ac8:r};$.a(M)};B.qW.atB=function(F,r,$,C,M,l,k){if(k==null)k=[!1,!0];
var d=F.UY(null,M,!0),I,c=M==null?F.K[0]:M;if(F.add.artd&&(M!=null||F.K.length==1)&&F.u[c].add.artb){var Q=F.u[c].dh();
I=F.B7(d,Q,Q)[0]}else{var x=new cS(0,0,F.r,F.$),I=F.B7(d,k[0]?x:null,k[1]?null:x)[0];delete I.add.artd;
if(k[1]){var U=j.CY(I.Ez(),new cS(0,0,I.r,I.$),2);B.i0.hH(I,U)}}if($!=1){var S=new cS(0,0,Math.round(I.r*$),Math.round(I.$*$));
B.i0.hH(I,S);var z=[];for(var O=0;O<I.u.length;O++)z.push(O);var V=B.hL.eq(I,z,!0);B.i0.aL(I,new hS($,0,0,$,0,0));
B.hL.IT(I,C,z,V,1,j.H.TG(new hS($,0,0,$,0,0)),null,!0);I.ol()}var t=[];for(var O=0;O<r.length;O++)if(I.r*I.$!=0)t.push(dN.Ja(I,r[O].toUpperCase(),null,null,l?l[O]:null,C));
return t};B.qW.prototype.arv=function(F,r,$,C,M){if(F==null||F.K.length==0)return;var l=B.qW.atB(F,[r],$,C,null);
if(l.length==0){alert("Empty layer selected.");return}var k=l[0],d=new k6(_.E.c,!0);d.data={R:_.m.qM,data:k,name:F.u[F.K[0]].getName()+($==1?"":"@"+$+"x")+"."+r};
M.a(d)};B.qW.prototype.Rg=function(F,r,$,C,M){if(F.vz=="getPNG"){this.arv($,"png",F.Yw,M,r)}else if(F.vz=="getSVG"){this.arv($,"svg",F.Yw,M,r)}if(F.vz=="prms"){this.N8=F;
this.uD($)}};B.qW.ayg=function(F){var bU=F.length,$=0;F.sort(function(l,k){return l[0]+l[1]/2-(k[0]+k[1]/2)});
var r=F[bU-1][0]+F[bU-1][1]-F[0][0];for(var O=0;O<bU;O++)$+=F[O][1];var C=Math.round((r-$)/(bU-1)),M=F[0][0];
for(var O=0;O<bU;O++){F[O][0]=M;M+=F[O][1]+C}};B.qW.prototype.Y3=function(F,r,$,C,M){var l=F.R;if(l=="trsl"){var k=Math.round(F.hu),d=Math.round(F.PB);
this.EC.I_(k,d);this.Fb($,r,C,M,!1,F.z);this.bp($,k,d);this.aZ($,null,M)}else if(l=="fcmy"||l=="fvec"){var I=["RGB","CMYK"][F.Y]+" Color";
if(l=="fvec")I=["Raster","Vector"][F.Y]+" Mode";var c=new fH(I,this);c.data={R:F.R,Ir:$.add[l]==null?0:$.add[l],FJ:F.Y};
$.gg(c);this.mY(c.data,$)}else if(l=="pview"){var l=new fH([8,14],this);l.data={R:F.R};$.gg(l);this.mY(l.data,$)}else if(l=="lockguides"){if($)$.my=!$.my}else if(l=="gids"||l=="gidsFromLayer"){var Q=F.AB,x,U;
if(Q==null)Q=$.Pw();if(l=="gids"){x=F.jb;var S=Q[0].length,z=x[0].length;U=S==z?[23,2]:S>z?[23,3]:[23,4];
if(z==0)U=[11,15,0]}else if(l=="gidsFromLayer"){var V=[],t=[],Y=$.Fv();for(var O=0;O<$.K.length;O++){var i=$.u[$.K[O]].S;
if(i.XS())continue;V.push([0,i.x],[1,i.y],[0,i.x+i.r],[1,i.y+i.$]);t.push(Y,Y,Y,Y)}U=[11,15,1];x=$.Pw();
B.qW.Kn(x,[V,t])}if(JSON.stringify(Q)==JSON.stringify(x))return;var l=new fH(U,this);l.data={R:2,AB:Q,jb:x};
$.gg(l);this.mY(l.data,$)}else if(l=="algn"){var J=F.Y,X=0,w=0;if($==null)return;if($.K.length<2&&!($.d!=null&&J!=3&&J!=7)){alert(dG.get([15,7,5]));
return}var H=$.d;$.d=null;var i=H?H.S:B.hL.y2($);this.Fb($,r,C,M,!1);if(!this.EZ)return;var v=this.bJ,n={},G=[],g=[],W=[];
for(var O=0;O<v.length;O++){var L=v[O];while($.u[L].getName()=="</Layer group>")L++;var b=$.root.yw(L),T=b;
while(b.parent!=null){b=b.parent;if(v.indexOf(b.index)!=-1)T=b}var a=g.indexOf(T.index);if(a==-1){a=g.length;
g.push(T.index)}G[O]=a}var R=[],D=[],h=[],K=new cS;for(var O=0;O<g.length;O++){var N=B.hL.y2($,$.UY(!0,g[O]));
h.push(N);K=K.DM(N);X=Math.max(X,N.r);w=Math.max(w,N.$);var s=J==3?[N.y,N.$]:[N.x,N.r];R[O]=s;D.push(s)}B.qW.ayg(D);
if(J==8){var A=F.cols,p=j.Om.Xv(F.ajh,$.YV,$.r,M.AK.qU),q=j.Om.Xv(F.ag6,$.YV,$.r,M.AK.qU);for(var O=0;
O<g.length;O++){var f=Math.floor(O/A),a=O-f*A,N=h[O],e=K.x+a*(X+p),o=K.y+f*(w+q);W.push(Math.round(e-N.x),Math.round(o-N.y))}}else for(var O=0;
O<g.length;O++){var N=h[O],e=N.x,o=N.y;if(J==0)e=i.x;if(J==1)e=i.x+(i.r-N.r)/2;if(J==2)e=i.x+(i.r-N.r);
if(J==3)o=R[O][0];if(J==4)o=i.y;if(J==5)o=i.y+(i.$-N.$)/2;if(J==6)o=i.y+(i.$-N.$);if(J==7)e=R[O][0];
W.push(Math.round(e-N.x),Math.round(o-N.y))}var E=[];for(var O=0;O<v.length;O++){var cj=G[O];E[2*O]=W[2*cj];
E[2*O+1]=W[2*cj+1]}this.bp($,0,0,null,E);var u=J==3||J==7?[20,4,6]:[20,4,J<3?J:J-1];if(J==8)u=[2,10,1];
this.aZ($,null,M,E,u);$.d=H}else if(l=="disabAuto"){this.jN([!1],null,r)}};B.qW.Kn=function(F,r){for(var O=0;
O<r[0].length;O++){var $=r[0][O],C=r[1][O],M=!1;for(var l=0;l<F[0].length;l++){var k=F[0][l],d=F[1][l];
if($[0]==k[0]&&$[1]==k[1]&&C==d)M=!0}if(!M){F[0].push($.slice(0));F[1].push(C)}}};B.qW.prototype.enable=function(F,r,$,C,M){this.e=$;
this._s=r;this.V5=M?!0:!1;this.uD(F);this.Sx("default",r);this.JG(F,r,$,C)};B.qW.prototype.disable=function(F,r,$,C){this.af(F)};
B.qW.prototype.af=function(F){if(F==null)return;if(this.qb){this.qb.clear(F);this.qb=null}if(F.pu.Fc){F.pu.Fc=null;
F.eD=!0}if(F.pu.oj){F.pu.oj=null;F.eD=!0}if(F.pu.n7[this.id]){delete F.pu.n7[this.id];F.eD=!0}if(F.pu.oY.length!=0){F.pu.oY=[];
F.eD=!0}};B.qW.prototype.zN=function(F,r,$,C){if($.fp!=this.id)return;this.uD(F)};B.qW.prototype.uD=function(F,r){if(F==null)return;
var $=this.N8;this.af(F);if(!this.V5){var C;if($.Is||$.Fc)C=j.b.LY(B.hL.y2(F));if($.Is&&!C.XS()){var M=F.u[F.K[0]],l=j.b.Vs(C).n;
if(gw==1&&F.K.length==1){if(M.add.vmsk)l=M.add.vmsk.g3();if(M.add.SoLd)l=B.hL.$M(M.add.SoLd.nonAffineTransform);
if(M.add.TySh){l=j.b.Vs(M.FM.gt).n;j.b.U(l,M.add.TySh.U,l)}}this.qb=new aY(l,!0);this.qb.TF(F,this.e)}if($.Fc){var k=null,U=null,S=!1;
if(F.Fv()!=-1)k=F.u[F.Fv()].dh();else k=new cS(0,0,F.r,F.$);F.pu.Fc={uW:[C],db:[]};var d=F.pu.Fc.db,I=C.x+C.r,c=C.y+C.$,Q=C.x+Math.floor(C.r/2),x=C.y+Math.floor(C.$/2);
if(r){var z=F.root.TJ(new hx(Math.floor(r.x),Math.floor(r.y)));if(z){U=j.b.LY(z.z.Xl(F));if(U.HV(C)){S=(U.qC(C)||C.qC(U))&&!C.Mp(U);
if(!S)U=null}}}this.axp(C,d);if(U!=null){F.pu.Fc.uW.push(U);var V=U.x+U.r,t=U.y+U.$,Y=U.x+Math.floor(U.r/2),i=U.y+Math.floor(U.$/2);
if(S){var J=Q,H=x;if(C.qC(U)){J=Y;H=i}d.push(C.x,H,U.x,H);d.push(I,H,V,H);d.push(J,C.y,J,U.y);d.push(J,c,J,t)}else{this.axp(U,d);
var v=c<U.y||t<C.y,n=I<U.x||V<C.x;if(I<U.x)d.push(I,x,U.x,x);if(V<C.x)d.push(V,x,C.x,x);if(c<U.y)d.push(Q,c,Q,U.y);
if(t<C.y)d.push(Q,t,Q,C.y);if(v&&!n){if(C.x<U.x)d.push(C.x,i,U.x,i);if(U.x<C.x)d.push(U.x,x,C.x,x)}}}else{if(C.y>k.y)d.push(Q,k.y,Q,C.y);
if(c<k.y+k.$)d.push(Q,c,Q,k.y+k.$);if(C.x>k.x)d.push(k.x,x,C.x,x);if(I<k.x+k.r)d.push(I,x,k.x+k.r,x)}F.eD=!0}}if(this.R==2&&this.EZ){var G=new cS(0,0,F.r,F.$),g=F.Fv();
if(g!=-1){var W=F.Pw(),L=W[1][this.bJ];if(L==-1)L=g;G=F.u[L].dh()}var b=F.oT[this.bJ],T=b[0],a=(T==0?"X":"Y")+": "+j.Om.Py(b[1]-(T==0?G.x:G.y),F.YV,this.e,T==0?G.r:G.$,!0);
B.m9.LA(Math.round(this.W4.x)+10,Math.round(this.W4.y)-10,[a],F);F.eD=!0}if(this.R==3&&this.EZ){var R=j.b.Vs(this.jf);
F.pu.n7[this.id]={nW:R};F.eD=!0}};B.qW.prototype.axp=function(F,r){var $=F.r,C=F.$,M=F.x+Math.floor($*.2),l=F.y+Math.floor(C*.2);
r.push(M,F.y,M,F.y+C);r.push(F.x,l,F.x+$,l)};B.qW.prototype.Sx=function(F,r){var $={R:_.m.yz,P5:F},C=new k6(_.E.c,!0);
C.data=$;r.a(C)};B.qW.prototype.Dx=function(F){var r=this.fa.qw()[0],$=this.BT.length;if(r<$){var C=this.xB,M=this.BT[r];
this.nf(C,M)}else{var l=new k6(r==$?_.E.c:_.E.O,!0);if(r==$)l.data={R:_.m.EW,$I:"psd"};else{l.J=B.gI;
l.data={R:"bgrm",Y:1}}this._s.a(l)}};B.qW.prototype.HS=function(F){var r=j.N(this.e.AK);r.qU=this.uY.qw()[0];
var $=new k6(_.E.c,!0);$.data={R:_.m.WF,jg:d3.jG,FJ:r};this._s.a($)};B.qW.prototype.ql=function(F,r,$,C,M){if(this.EZ)this.pf(F,r,$,C,M);
this.xB=F;this.e=$;this._s=r;var l=F.f.Ti(M.x,M.y),k;if(B.qW.L2($,M,F.f)){k=this.uY}else{if(this.fa)this.fa.removeEventListener("select",this.Dx);
var d=[];F.root.TJ(l,d);if(d.length==0)return;if(C.D(ac.AH)){this.nf(F,d[0]);return}var I=[];this.BT=d;
for(var O=0;O<d.length;O++)I.push({name:F.u[d[O]].getName(),NA:O==d.length-1});I.push({name:[1,18],Q5:!0});
I.push({name:"Remove BG",T:jo.cW});k=this.fa=new aj(I);k.Q("select",this.Dx,this)}k.parent=r;k.l();k.update(F,$);
var c=new k6(_.E.c,!0);c.data={R:_.m.$a,g$:k,x:M.Rn+2,y:M.WQ+1};r.a(c)};B.qW.prototype.afs=function(F,r,$,C,M){var l=B.qW.s1(F,M);
return l!=-1||B.qW.L2($,M,F.f)};B.qW.s1=function(F,r){if(F==null||F.add.artd==null)return-1;var $=F.f.Ti(r.x,r.y),C=12*B.ha()/F.f.bU;
for(var O=0;O<F.u.length;O++){var M=F.u[O];if(!M.rR()||M.add.artb==null)continue;var l=M.dh(),k=new cS(l.x,l.y-1.7*C,C*M.getName().length*.5,C);
if(k.m_($))return O}return-1};B.qW.prototype.SY=function(F,r,$,C,M){var l=B.qW.s1(F,M),k=B.qW.aBf(F,F.f.Ti(M.x,M.y));
if(l!=-1){F.K=[l];if($.fp==B.uo){var d=new k6(_.E.c);d.data={R:_.m.Td,J:B.cn};r.a(d)}return}if(k!=-1){F.f.yo=k;
F.GF=!0;var d=new k6(_.E.c,!0);d.data={R:_.m.KS,rS:df.sy.a8r};r.a(d);return}this.W4=M;this.sQ.I_(M.x,M.y);
this.hh=F.f.Ti(M.x,M.y);this.mp=new bC(this.hh);this.Fb(F,r,C,$,!0)};B.qW.L2=function(F,r,$,C){var M=j.Om.sR,l=$.FL.$;
return F._2&&(0<r.x&&r.x<M||0<r.y&&r.y<M||C&&0<r.x&&r.x<4*M&&l-M<r.y&&r.y<l)};B.qW.prototype.Fb=function(F,r,$,C,M,l){var k,d=this.hh,I=!1;
if(M){var c=C.V$&&C.AK.oT;if(B.qW.L2(C,this.sQ,F.f)){k=F.Pw();var Q=F.Pw(),x=null;if(this.sQ.x<j.Om.sR){x=[0,d.x]}if(this.sQ.y<j.Om.sR){x=[1,d.y]}Q[0].push(x);
Q[1].push(F.Fv(!0));F.pj(Q);if(!c){var U=new k6(_.E.c);if(!C.AK.oT){U.data={R:_.m.WF,jg:d3.cB};r.a(U)}if(!C.V$){U.data={R:_.m.WF,jg:d3.yh};
r.a(U)}c=!0}}var S=this.aCC(F,d);if(c&&S!=null&&!F.my){this.R=2;this.AB=k?k:F.Pw();this.bJ=S;this.EZ=!0;
this.c_=B.hL.y2(F);return}if(F.GY.length!=0){this.R=4;this.c_=F.Bs[F.GY[0]].S.P();this.EZ=!0;return}if(this.qb&&this.qb.cb(d,F.f.bU,!0,this.W4)!=null){var U=new k6(_.E.c);
U.data={R:_.m.Td,J:B.DJ,aCu:!0};r.a(U);return}if(F.d&&F.d.S.m_(d)){var z=Math.round(d.x),V=Math.round(d.y),t=F.d.S;
I=F.d.G[(V-t.y)*t.r+z-t.x]>j.zV(F.depth)/2}var Y=this.N8.PU||gw==1;if(!I&&(!this.V5&&Y||this.V5&&Y&&($.D(ac.il)||F.K.length<2))){var i=this.alk(F,d,$);
if(!i){F.K=[];F.dy=null;F.Wk=F.Wr=!0;this.R=3;this.jf=new cS;this.EZ=!0;return}}if($.D(ac.AH)&&!I){var J=new k6(_.E.O);
J.J=B.pO;J.data={R:Z.K7,a2z:!0};r.a(J)}}if(F.GY.length!=0){this.R=4;this.c_=F.Bs[F.GY[0]].S.P();this.EZ=!0;
return}this.bJ=F.UY(l==null,l,null,!0);for(var O=0;O<this.bJ.length;O++){var H=this.bJ[O],v=F.u[H];if(v.aV(2)||v.aV(31)||F.lZ(H)){alert(dG.get([6,57,0]));
return}}if(F.add.artd&&M){var n=this.bJ,G=!1;for(var O=0;O<n.length;O++)if(F.u[n[O]].add.artb)G=!0;if(!G){this.u8=[F,F.u.slice(0),F.K.slice(0),-1];
this.bJ.sort(function(D,h){return D-h})}}this.bP=B.qW.anV(F,this.bJ);this.R=0;if(F.d&&(!M||I)&&F.K.length==1&&F.DI(!1)){if(!F.aHP()){this.EZ=!1;
return}var g=F.u[F.K[0]],W=$.D(ac.AH);this.R=1;var L=F.history[F.Qc];if(L.J==this&&L.data.R==1&&L.data.z==F.K[0]&&g.Go==g.Z5.Go&&!W){this.gr=L}else{var b=g.Z5,T=!1,a;
if(!g.Kr(F,F.d)||W){T=!0;g.hO(F,F.d,W)}if(g.Z5.Go<=0){a=j.j(g.Z5.$z.length>>2,F.depth);j.Eg(g.Z5.$z,a,3)}else a=F.d.G.slice(0);
var R={S:g.Z5.wp.P(),G:a};this.gr=new fH(W?[12,53]:[12,54],this);this.gr.data={R:1,z:F.K[0],Z5:g.Z5,A_:b,Cf:T,lS:F.d,xP:R,G0:new hx(0,0)};
F.gg(this.gr);F.d=R;F.Dn=!0}}this.EZ=!0;this.c_=B.hL.y2(F)};B.qW.prototype.alk=function(F,r,$){var C=F.root.TJ(new hx(Math.floor(r.x),Math.floor(r.y)));
if(C){if(C.z.add.vmsk)F.eD=!0;var M=F.u.indexOf(C.z);if(this.N8.afh==0){var l=F.root.yw(M);while(l.parent&&l.parent.depth!=0&&l.parent.z.add.artb==null)l=l.parent;
M=l.index}if($.D(ac.il)){var k=F.K.indexOf(M);if(k==-1)F.K.push(M);else if(F.K.length>1)F.K.splice(k,1)}else if(F.K.indexOf(M)==-1){this.nf(F,M)}}return C!=null};
B.qW.prototype.nf=function(F,r){F.u[r].Go=0;F.K=[r];F.dy=null;F.Jq();F.eS=!0;F.Wk=!0};B.qW.aBf=function(F,r){var $=F.add.Anno;
if($==null||$.length==0)return-1;var C=30/F.f.bU;for(var O=0;O<$.length;O++)if(new cS($[O][0],$[O][1],C,C).m_(r))return O;
return-1};B.qW.prototype.GQ=function(F,r,$,C,M){this.W4=M;var l=F.f.Ti(M.x,M.y),S,z;if(this.mp&&this.R<2)l=this.mp.VT(l,C);
if(!this.EZ){if($.V$&&$.AK.oT&&F&&!F.my){var k=this.aCC(F,l),d="default",I=B.qW.s1(F,M);if(k!=null)d=["col-resize","row-resize"][F.oT[k][0]];
else if(this.qb){var c=this.qb.cb(l,F.f.bU,null,M);if(c)d=c}else if(I!=-1||B.qW.aBf(F,l)!=-1){d="pointer"}this.Sx(d,r)}this.uD(F,l);
return}var Q=this.hh,x=Math.round(l.x-Q.x)-this.EC.x,U=Math.round(l.y-Q.y)-this.EC.y;if(this.c_){if(this.R==2){var V=[];
if(F.d)V.push(F.d.S);if(this.c_)V.push(this.c_);if(F.f.dF)V.push(F.f.dF);l=B.qW.aU(F,l,$,[!1,V,!0,!0])}else{z=this.c_.P();
z.offset(this.EC.x+x,this.EC.y+U);S=B.qW.gy(F,z,$);var t=this.mp.aB$(C);if(t==1){S[0]=0;S[2]=1e9}if(t==2){S[1]=0;
S[3]=1e9}x+=Math.round(S[0]);U+=Math.round(S[1])}}this.EC.x+=x;this.EC.y+=U;var Y=this.u8;if(Y&&F==Y[0]){F.C8(Y[1]);
F.K=Y[2].slice(0);Y[3]=-1}this.bp(F,x,U,l,null,C.D(ac.il));if(Y&&F==Y[0]){var i=this.c_.P();i.offset(this.EC.x,this.EC.y);
var J=l,I=F.Fv(),H=-1;for(var O=0;O<F.u.length;O++){var v=F.u[O];if(!v.rR()||v.add.artb==null)continue;
var n=v.dh();if(n.m_(J))H=O}if(H!=-1&&H!=I){var G=B.tt.bV(F,this.bJ,H,!0,null,!1);F.C8(G[0]);F.K=G[1];
Y[3]=H}}this.uD(F,l);if(S)B.qW.YI(F,z,S)};B.qW.prototype.aCC=function(F,r){var $=B.A7(F,this.W4);r=[r.x,r.y];
var C=F.Pw(),M=F.Fv();for(var O=0;O<C[0].length;O++){var l=C[0][O],k=C[1][O];if(k!=-1&&k!=M)continue;
if(Math.abs(l[1]-r[l[0]])<$)return O}return null};B.qW.prototype.bp=function(F,r,$,C,M,l){if(this.R==0){if(M)B.qW.cI(F,this.bJ,this.bP,M);
else B.qW.Rb(F,this.bJ,this.bP,r,$)}else if(this.R==1){var k=this.gr.data;k.G0.offset(r,$);B.qW.yt(F,k.z,r,$)}else if(this.R==2){var d=1e-4;
if(l)d=F.f.bU<=1?10:1;var I=d*Math.round(C.x/d),c=d*Math.round(C.y/d),Q=[I,c],x=F.oT[this.bJ];x[1]=Q[x[0]]}else if(this.R==3){var U=this.hh,S=j.b.qy([U.x,U.y,C.x,C.y]);
this.jf=S;var z=[];F.root.c8(S,z);if(JSON.stringify(F.K)!=JSON.stringify(z)){F.K=z;F.Wk=F.Wr=!0}}else if(this.R==4){for(var O=0;
O<F.GY.length;O++)F.Bs[F.GY[O]].S.offset(r,$);F.eD=!0}};B.qW.yt=function(F,r,$,C){var M=F.u[r];F.d.S.offset($,C);
M.C6(F,$,C,F.d);F.Dn=!0;F.vM()};B.qW.prototype.pf=function(F,r,$,C,M,l){this.aZ(F,M,$);this.uD(F);if(Date.now()-this.MF<300&&!l){var k=B.zS.OA(F,F.f.Ti(M.x,M.y));
if(B.qW.L2($,M,F.f,!0)){var d=new k6(_.E.c);if(M.y>F.f.FL.$-20){d.data={R:_.m.Oe,rS:"doczoom",Ir:F.f.bU*100,fE:{s:_.E.O,J:B.Li,h:{R:"pzoom"}}}}else{d.data={R:_.m.Oe,rS:"preferences"}}r.a(d)}else if(k>=0){var I=new k6(_.E.O,!0);
I.J=B.Q_;I.data={R:"editCurr",PS:k};r.a(I)}}this.MF=Date.now();B.i0.Kt(F)};B.qW.prototype.aZ=function(F,r,$,C,M){if(!this.EZ)return;
this.EZ=!1;if(this.R<=1){if(C){this.a0o(F,null,C,M)}else{if(this.EC.x==0&&this.EC.y==0)return;this.a0o(F,this.EC.P())}F.GF=!0}else if(this.R==2){var l=0;
r=[r.x,r.y];var k=this.bJ,d=F.oT[k],eP=this.AB[0].length,I=F.oT.length;if($._2&&r[d[0]]<j.Om.sR){var c=F.Pw();
c[0].splice(k,1);c[1].splice(k,1);F.pj(c);l=1;if(eP==I-1)return}if(eP<I)l=2;var Q=new fH([[23,2],[23,3],[23,4]][l],this);
Q.data={R:2,AB:this.AB,jb:F.Pw()};F.gg(Q)}else if(this.R==4){var Q=new fH([12,54],this);Q.data={R:4,K:F.GY.slice(0),p:this.EC.P()};
F.gg(Q)}this.EC.I_(0,0)};B.qW.prototype.JG=function(F,r,$,C){var M=C.ii(F?F.f.K$:0);if(F!=null&&(M.x!=0||M.y!=0)){if(C.D(ac.AH)&&F.d==null){var l=new k6(_.E.O);
l.J=B.pO;l.data={R:Z.K7,a2z:!0};r.a(l)}this.EC.I_(M.x,M.y);this.Fb(F,r,C,$,!1);if(!this.EZ)return;this.bp(F,M.x,M.y);
this.aZ(F,null,$);this.uD(F)}var k=C.D(ac.Xf);if(!this.V5&&this.ap_!=k){if(k){this.akM=this.N8.PU;this.N8.PU=!0}else{this.N8.PU=this.akM}this.ap_=k;
var d=new k6(_.E.c,!0);d.data={R:_.m.Rl,J:this.id,U9:this.N8};r.a(d)}};B.qW.prototype.Ea=function(F,r){if(F.R==0){var $=F.oR;
if($){r.C8($.pJ);r.K=$.HK.slice(0);r.vM();r.Wk=!0}B.qW.cI(r,F.K,F.eF,F.qR,!0);B.i0.Kt(r)}else if(F.R=="fcmy"||F.R=="fvec"){if(F.Ir==0)delete r.add[F.R];
else r.add[F.R]=F.Ir;r.eD=!0}else if(F.R=="pview"){r.pc=!r.pc;r.vM()}else if(F.R==2){r.pj(F.AB);r.eD=!0}else if(F.R==4){for(var O=0;
O<F.K.length;O++)r.Bs[F.K[O]].S.offset(-F.p.x,-F.p.y);r.eD=!0}else{var C=r.u[F.z];if(F.Cf){C.ip(r,F.A_);
r.d=F.lS;r.Dn=!0;r.vM();C.vM()}else{B.qW.yt(r,F.z,-F.G0.x,-F.G0.y)}}};B.qW.prototype.mY=function(F,r){if(F.R==0){B.qW.cI(r,F.K,F.eF,F.qR);
var $=F.oR;if($){r.C8($.D2);r.K=$.cJ.slice(0);r.vM();r.Wk=!0}B.i0.Kt(r)}else if(F.R=="fcmy"||F.R=="fvec"){if(F.FJ==0)delete r.add[F.R];
else r.add[F.R]=F.FJ;r.eD=!0}else if(F.R=="pview"){r.pc=!r.pc;r.vM()}else if(F.R==2){r.pj(F.jb);r.eD=!0}else if(F.R==4){for(var O=0;
O<F.K.length;O++)r.Bs[F.K[O]].S.offset(F.p.x,F.p.y);r.eD=!0}else{var C=r.u[F.z];if(F.Cf){C.Z5=F.Z5;r.d=F.xP;
B.qW.yt(r,F.z,0,0);C.vM()}else{B.qW.yt(r,F.z,F.G0.x,F.G0.y)}}};B.qW.prototype.a0o=function(F,r,$,C){if($){var M=!0;
for(var O=0;O<$.length;O++)if($[O]!=0)M=!1;if(M)return}var l=F.history[F.Qc],k=this.u8,d=k!=null&&k[3]!=-1&&k[0]==F;
if(!d&&$==null&&l.data&&l.J==this&&l.data.R==0&&JSON.stringify(l.data.K)==JSON.stringify(this.bJ)&&JSON.stringify(l.data.eF)==JSON.stringify(this.bP)){var I=l.data.qR,c=l.data.alG.iH.T.v;
c.Hrzn.v.val+=r.x;c.Vrtc.v.val+=r.y;for(var O=0;O<I.length;O+=2){I[O]+=r.x;I[O+1]+=r.y}}else{if(r==null)r=new hx($[0],$[1]);
var Q={hE:this.R==0?"move":"cut",iH:{classID:"null",null:this.R==0?cQ.sZ("Lyr",!0):{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:r.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:r.y}}}}}},x=null;
if(d)x={pJ:k[1],HK:k[2],D2:F.u.slice(0),cJ:F.K.slice(0)};this.u8=null;this.track(Q);if(this.R!=0)return;
var U=new fH(C?C:[12,54],this);if($)U.data={R:0,K:this.bJ,eF:this.bP,oR:x,qR:$};else U.data={R:0,K:this.bJ,eF:this.bP,oR:x,qR:B.qW.afv(this.bJ,r.x,r.y)};
U.data.alG=Q;F.gg(U)}};B.qW.afv=function(F,r,$){var C=[];for(var O=0;O<F.length;O++)C.push(r,$);return C};
B.qW.Rb=function(F,r,$,C,M){B.qW.cI(F,r,$,B.qW.afv(r,C,M))};B.qW.cI=function(F,r,$,C,M){if(r.length==0)return;
if($==null){$=[];for(var O=0;O<r.length;O++){$.push(F.u[r[O]].Wb(F,!0))}}var l=new cS,k=new cS(0,0,F.r,F.$);
for(var O=0;O<r.length;O++){var d=C[2*O],I=C[2*O+1];if(M){d=-d;I=-I}var c=F.u[r[O]],Q=$[O];if(c.add.fxrp&&(Q.indexOf(0)!=-1||c.Og()))c.add.fxrp.offset(d,I);
for(var x=0;x<Q.length;x++){var U=Q[x];if(U==0){c.S.offset(d,I);if(c.XE()&&c.WZ(F))c.WZ(F).S.offset(d,I);
if(c.add.artb){var S=c.dh();S.offset(d,I);c.HD(S);var z=c.add.artb.guideIndeces;z=z?z.v:[];for(var V=0;
V<z.length;V++){var t=F.oT[z[V].v];t[1]+=t[0]==0?d:I}}if(c.add.TySh){c.add.TySh.U.translate(d,I);if(c.add.TySh.add){c.add.TySh.add.vmsk.offset(d,I)}}if(c.add.SoLd){var Y=new hS(1,0,0,1,d,I),i=c.add.SoLd,J=B.hL.$M(i.Trnf),H=B.hL.$M(i.nonAffineTransform);
j.b.U(J,Y,J);j.b.U(H,Y,H);i.Trnf=B.hL._V(J);i.nonAffineTransform=B.hL._V(H);B.hL.aAW(i,Y)}}if(U==1)c.rc().S.offset(d,I);
if(U==2){c.add.vmsk.offset(d,I);if(c.add.vogk)j.EL.U(c.add.vogk,[1,0,d,0,1,I,0,0],[]);if(c.FM.W6){var v=c.FM.W6.Yk.n;
j.b.U(v,new hS(1,0,0,1,d,I),v)}}if(U==3){c.WZ(F).Lj.S.offset(d,I);if(Q.length==1)c.vM()}}if(Q.length>0){var n=c.add.GdFl;
if(n==null)n=c.add.PtFl;if(c.Og()&&!c.P3()&&c.add.vmsk!=null&&j.w.Vn(c.add.vmsk.M)&&c.add.vmsk.nn==255&&(n==null||n.Algn&&n.Algn.v)){c.S.offset(d,I)}else c.uH(F);
var G=F.root.aK(c.Xl(F),F,r[O]);if(c.add.artb)G=G.DM(c.dh());l=l.DM(G);G.offset(-d,-I);l=l.DM(G);if(c.HP()&&c.Lj&&c.Lj.color==255)l=l.DM(k);
c.aiR()}}F.vM(j.b.LY(l))};B.qW.anV=function(F,r){var $=[];for(var O=0;O<r.length;O++){var C=F.u[r[O]];
$.push(C.Wb(F))}return $};B.qW.YI=function(F,r,$){var C={n:[],C0:[]},M=r.x+$[0],l=r.y+$[1];if($[2]!=1e9){C.C0.push("M","L");
var k=l+r.$;if($[4])C.n.push($[2],Math.min(l,k,$[4][1]),$[2],Math.max(l,k,$[4][1]));else C.n.push($[2],l,$[2],l+r.$)}if($[3]!=1e9){C.C0.push("M","L");
var d=M+r.r;if($[5])C.n.push(Math.min(M,d,$[5][0]),$[3],Math.max(M,d,$[5][0]),$[3]);else C.n.push(M,$[3],d,$[3])}if(C.n.length!=0){F.pu.oj=C;
F.eD=!0}};B.qW.aU=function(F,r,$,C){var M=B.qW.acK(F,[[r.x],[r.y]],$,C);return new hx(r.x+M[0],r.y+M[1])};
B.qW.gy=function(F,r,$,C,M){var l=M==!0?1:.5,k=B.qW.acK(F,[[r.x,r.x+Math.round(r.r*l),r.x+r.r],[r.y,r.y+Math.round(r.$*l),r.y+r.$]],$,C);
return k};B.qW.acK=function(F,r,$,C){if(C==null)C=[!0,null,!0];var M=[0,0,1e9,1e9,null,null];if(!$.oE)return M;
var l=j.N(r);for(var k=0;k<2;k++){var d=1e9,I=r[k],c=0,Q=null;for(var x=0;x<I.length;x++){var U=B.qW.aea(F,I[x],l[1-k][x],k,$,C),S=U[0];
if(S!=1e9)l[k][x]=S;if(S!=1e9&&Math.abs(S-I[x])<Math.abs(d)){d=S-I[x];c=S;Q=U[1]}}if(d!=1e9){M[k]=d;
M[k+2]=c;M[k+4]=Q}}return M};B.qW.aea=function(F,r,$,C,M,l){var k=1e9,d=null,I=M.p$,c=M.AK,Q=[F.root];
while(Q.length!=0&&I[2]){var x=Q.pop(),U=x.z,S=U.S;if(!U.rR())continue;if(x.children)for(var O=0;O<x.children.length;
O++)Q.push(x.children[O]);if(F.K.indexOf(x.index)!=-1||S.XS())continue;var z=S.r,V=z>>>1,t=S.$,Y=t>>>1,i=k;
if(C==0){if(Math.abs(S.x-r)<Math.abs(k-r))k=S.x;if(Math.abs(S.x+V-r)<Math.abs(k-r))k=S.x+V;if(Math.abs(S.x+z-r)<Math.abs(k-r))k=S.x+z}else{if(Math.abs(S.y-r)<Math.abs(k-r))k=S.y;
if(Math.abs(S.y+Y-r)<Math.abs(k-r))k=S.y+Y;if(Math.abs(S.y+t-r)<Math.abs(k-r))k=S.y+t}if(i!=k){d=[S.x+V,S.y+Y]}}var J=k;
k=1e9;if(l[0]&&I[0]&&c.oT&&M.V$){var H=F.Pw(),v=H[0],n=H[1],G=F.Fv();for(var O=0;O<v.length;O++)if((n[O]==-1||n[O]==G)&&v[O][0]==C&&Math.abs(v[O][1]-r)<Math.abs(k-r))k=v[O][1]}if(I[1]&&c.sn&&M.V$){var g=Math.round(j.Om.Xv(c.oS,F.YV,F.r,c.aC));
if(C==1&&c.RL==1){var W=$*.5*Math.sqrt(4/3),L;g*=Math.sqrt(4/3);L=Math.round((r-W)/g)*g+W;if(Math.abs(L-r)<Math.abs(k-r))k=L;
L=Math.round((r+W)/g)*g-W;if(Math.abs(L-r)<Math.abs(k-r))k=L}else{var L=Math.round(r/g)*g;if(Math.abs(L-r)<Math.abs(k-r))k=L}}var b=F.a3;
if(I[3]&&c.a3&&M.V$&&b.length!=0){for(var O=0;O<b.length;O++){if(!l[2]&&F.hk.indexOf(O)!=-1)continue;
var T=B.ft.ck(b,O);for(var a=0;a<3;a+=2)if(T[a+C]!=r&&Math.abs(T[a+C]-r)<Math.abs(k-r))k=T[a+C]}}if(l[1])for(var R=0;
R<l[1].length;R++){var S=l[1][R],z=S.r,t=S.$,V=z>>>1,Y=t>>>1;if(l[3]){V=z/2;Y=t/2}var D=[S.x,S.y,S.x+V,S.y+Y,S.x+z,S.y+t];
for(var O=0;O<6;O+=2)if(Math.abs(D[O+C]-r)<Math.abs(k-r))k=D[O+C]}if(I[4]){var S=new cS(0,0,F.r,F.$),G=F.Fv();
if(G!=-1)S=F.u[G].dh();var z=S.r,t=S.$,V=z>>>1,Y=t>>>1;if(l[3]){V=z/2;Y=t/2}var D=[S.x,S.y,S.x+V,S.y+Y,S.x+z,S.y+t];
for(var O=0;O<6;O+=2)if(Math.abs(D[O+C]-r)<Math.abs(k-r))k=D[O+C]}if(Math.abs(k-r)<=Math.abs(J-r))d=null;
else k=J;var h=Math.abs(k-r)<=4*B.ha()/F.f.bU?k:1e9;return[h,d]};B.Ny=function(){B.u_.call(this,[10,12],B.bO,"tools/mwand");
this.u$=null};B.Ny.prototype=new B.u_;B.Ny.prototype.Pg=function(F,r,$,C){this.u$=C;this.aw4=this.N8.wconf[0];
this.finish(F,r,$,C)};B.Ny.prototype.gB=function(F,r,$,C,M){if(!C.HY)return;var l=new k6(_.E.O);l.J=B.sT;
l.data={R:"h_stepbck"};M.a(l);var k=C.x-this.u$.x,d=Math.max(0,Math.min(255,Math.round(this.aw4+k/4)));
this.N8.wconf[0]=d;this.f6(M);this.finish(F,r,$,this.u$)};B.Ny.prototype.$n=function(F,r,$,C,M){this.N8.wconf[0]=this.aw4;
this.f6(M)};B.Ny.prototype.getSelection=function(F,r,$,C){var M=this.Nw;M=F.f.Ti(C.x,C.y);var l=B.u_.aAz(new hx(Math.floor(M.x),Math.floor(M.y)),this.N8.wconf,this.N8.sall);
return l};B.Ny.aFa=function(F,r,$,C,M){if(r.x<0||r.x>F.r||r.y<0||r.y>F.$)return null;var l,k=new cS(0,0,F.r,F.$);
if(C)l=F.Ez();else{var d=F.K.length,c=null;if(d!=1){alert(d==0?"No layer selected.":"More than one layer selected.");
return null}var I=F.u[F.K[0]],Q=I.Go<=0?null:I.Go==1?I.rc():I.WZ(F).Lj;if(M||Q&&Q.Nn)c=Q;if(c==null&&I.add.lsct!=null&&I.add.lsct!=jR.Ak){alert("No layer selected.");
return null}if(c==null&&k.Mp(I.S))l=I.buffer;else{l=j.j(k.C()*4,F.depth);if(c==null)j.mR(I.buffer,I.S,l,k);
else B.k7.YC(c.G,c.S,c.color,l,k)}}var x=B.Ny.pC(l,k,r,null,$),U=j.BM(x,k),S=j.j(U.C(),F.depth);j.wU(x,k,S,U);
return{S:U,G:S}};B.Ny._n=function(F,r,$){var C=r.r,M=r.$,k=0,d=0,I=0,c=0;F=new Uint32Array(F.buffer);
var l=[],Q=$.length;for(var O=0;O<Q;O++){var x=$[O],U=Math.round(x.x-.5-r.x),S=Math.round(x.y-.5-r.y);
U=Math.max(0,Math.min(C-1,U));S=Math.max(0,Math.min(M-1,S));var z=S*C+U,V=F[z];l.push([V&255,V>>8&255,V>>16&255,V>>>24])}return l};
B.Ny.pC=function(F,r,$,C,M){var l=j.cN(F);F=j.Mz(F,8);F=new Uint32Array(F.buffer);var k=r.r,d=r.$,I=k*d;
if(C==null)C=B.Ny._n(F,r,[$]);var c=Math.round($.x-.5-r.x),Q=Math.round($.y-.5-r.y),x=Q*k+c,U=Date.now(),S=j.j(k*d),z=M[0],V=1/z,t=M[1]&&z>0?255:0;
if(M[2]){var Y=j.j(S.length),i=new Uint32Array(I),J=1;i[0]=c<<16|Q;Y[x]=1;while(J>0){var H=i[J-1];J--;
var v=H>>>16,n=H&65535,O=n*k+v,G=B.Ny.Du(F[O],C);if(G>z){var g=t*(1-Math.max(0,Math.min(1,(G-z)*V)));
S[O]=~~g}else{S[O]=255;if(n!=d-1&&Y[O+k]==0){i[J++]=v<<16|n+1;Y[O+k]=1}if(n!=0&&Y[O-k]==0){i[J++]=v<<16|n-1;
Y[O-k]=1}if(v!=k-1&&Y[O+1]==0){i[J++]=v+1<<16|n;Y[O+1]=1}if(v!=0&&Y[O-1]==0){i[J++]=v-1<<16|n;Y[O-1]=1}}}}else{for(var O=0;
O<I;O++){var G=B.Ny.Du(F[O],C);if(G<=z)S[O]=255}for(var n=0;n<d;n++)for(var v=0;v<k;v++){var O=n*k+v;
if(S[O]==0&&(v>0&&(S[O-1]==255||n>0&&S[O-k-1]==255||n<d-1&&S[O+k-1]==255)||v<k-1&&(S[O+1]==255||n>0&&S[O-k+1]==255||n<d-1&&S[O+k+1]==255)||n>0&&S[O-k]==255||n<d-1&&S[O+k]==255)){var G=B.Ny.Du(F[O],C),g=t*(1-Math.max(0,Math.min(1,(G-z)*V)));
S[O]=~~g}}}S=j.Mz(S,l);return S};B.Ny.Du=function(F,r){var $=r.length,C=B.Ny.aiq(F,r[0]),O=1;while(O!=$){C=Math.min(C,B.Ny.aiq(F,r[O]));
O++}return C};B.Ny.aiq=function(F,r){var $=F&255,C=F>>>8&255,M=F>>>16&255,l=F>>>24&255;if(r[3]==0)return l<5?0:255;
var k=Math.max(Math.abs($-r[0]),Math.max(Math.abs(C-r[1]),Math.abs(M-r[2])));return l==0?255:k};B._B=function(F,r){if(r)B.k7.call(this);
else if(F)B.k7.call(this,[10,49],B.yW,"tools/camove");else B.k7.call(this,[10,26],B.lE,"tools/patch");
this.a4=null;this.W6=null;this.p=null;this.wT=null;this.$G=new hx;this.bI=null;this.ut=null};B._B.prototype=new B.k7;
B._B.prototype.SY=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y);if(F.d&&j.TJ(l,F.d.G,F.d.S)){var k=new cS(0,0,F.r,F.$),d=k.R7(F.d.S);
if(!F.DI()||d.XS())return;if(!0){var I=j.j(d.C(),F.depth);j.wU(F.d.G,F.d.S,I,d);F.d={G:I,S:d}}this.QT(F);
this.wo(F);this.wT=l;this.$G=new hx(l.x-F.d.S.x,l.y-F.d.S.y);this.ut=j.j(F.d.S.C()*4,F.depth);this.ut.fill(j.zV(F.depth));
if(this.N8.patch==1){var c=F.u[F.K[0]];c.hO(F,F.d,!0);if(c.Z5==null)this.wT=null}this.bI=F.d.S.P()}else{this.W6={n:[l.x,l.y],C0:["M"]};
this.a4=l}};B._B.prototype.GQ=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y);if(this.wT){if(this.N8.patch==1){if(F.GY.length==0){var k=F.u[F.K[0]].Z5,d=l.x-this.$G.x,I=l.y-this.$G.y;
B.qW.yt(F,F.K[0],Math.round(d-k.wp.x),Math.round(I-k.wp.y))}}else this.ax6(F,l,"clone")}if(this.a4){this.W6.C0.push("L");
this.W6.n.push(l.x,l.y);this.a4=l;F.pu.nW=this.W6;F.eD=!0}};B._B.prototype.pf=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y);
if(this.wT){var k=F.d.S.P();if(this.id==B.yW){var d=F.u[F.K[0]];d.ip(F,d.Z5);F.d.S=this.bI.P();var I=j.j(F.d.S.C()*4,F.depth);
j.dr(F.d.G,I,3);this.E6(F,"sheal",I,F.d.S,F.d.S);F.d.S=k;k=k.DM(this.bI)}this.ax6(F,l,"heal");this.finish(F,k,null,null,!0);
F.vM(k);this.wT=null}if(this.a4){var c=B.u_.kA(this.N8.setop,C.D(ac.il),C.D(ac.AH)),Q=new k6(_.E.wG,!0);
if(this.W6.n.length<=4)Q.data=B.u_._N();else Q.data=B.u_.Sg(this.W6.n,c);r.a(Q);this.a4=null;F.pu.nW=null;
F.eD=!0}};B._B.prototype.IN=function(){return this.p};B._B.prototype.Rg=function(F,r,$,C,M){B.k7.prototype.Rg.call(this,F,r,$,C,M);
this.Sx(M,C)};B._B.prototype.Sx=function(F,r){var $="auto;";if(r!=null&&r.D(ac.il)&&!r.D(ac.AH)||this.N8.setop=="union")$="copy";
var C=new k6(_.E.c,!0);C.data={R:_.m.yz,P5:$};if(this.caller)this.caller.a(C)};B._B.prototype.ax6=function(F,r,$){var C=new hx(Math.round(this.wT.x-r.x),Math.round(this.wT.y-r.y));
if(this.N8.patch==1)C.I_(-C.x,-C.y);this.p=C;this.E6(F,$,this.ut,F.d.S,F.d.S);this.vM(F,F.d.S)};B.a4E=function(){B._B.call(this,!0);
this.N8.patch=1};B.a4E.prototype=new B._B(!0,!0);B.OM=function(F){if(F)B.k7.call(this,[10,52],B.arI,"tools/meraser");
else B.k7.call(this,[10,13],B.aEx,"tools/pbucket");this.e_=!1;this.alr=F};B.OM.prototype=new B.k7;B.OM.prototype.enable=function(F,r,$,C){var M=new k6(_.E.c,!0);
M.data={R:_.m.yz,P5:"default"};r.a(M)};B.OM.prototype.Db=function(F,r){};B.OM.prototype.SY=function(F,r,$,C,M){if(this.mJ(F,r,$,C,M,!0))return;
this.e_=!0};B.OM.prototype.GQ=function(F,r,$,C,M){if(this.mJ(F,r,$,C,M))return};B.OM.prototype.pf=function(F,r,$,C,M,l){this.enable(F,r,$,C);
var k=this.e_;this.e_=!1;if(!k||l)return;if(!F.DI())return;var d=F.f.Ti(M.x,M.y),I=B.Ny.aFa(F,d,this.N8.wconf,this.N8.sall,!0);
if(I==null)return;if(F.d){var c=F.d.S.R7(I.S);if(c.C()<I.S.C()){var Q=j.j(c.C(),F.depth);j.wU(I.G,I.S,Q,c);
I.S=c;I.G=Q}}var x=j.j(I.S.C()*4,F.depth),U=j.iW($.y1,1);j._8(x,U.t,U.L,U.X);j.dr(I.G,x,3);this.QT(F);
this.E6(F,this.alr?"erase":"draw",x,I.S,I.S);this.vM(F,I.S);this.finish(F,I.S)};B.bi=function(){B.u_.call(this,[10,14],B.azb,"tools/plasso");
this.Cz=B.Nl();this.Fn=[];this.U2=null;this.W6=null;this.abG=0};B.bi.prototype=new B.u_;B.bi.prototype.disable=function(F,r,$,C){this.WN(F)};
B.bi.prototype.Pg=function(F,r,$,C){this.Fn=[ac.g7,ac.Qh]};B.bi.prototype.fI=function(F){return this.Fn.indexOf(F)!=-1};
B.bi.prototype.j0=function(F){return this.W6!=null};B.bi.prototype._W=function(){return this.W6!=null};
B.bi.prototype.fV=function(){return this.W6!=null};B.bi.prototype.gB=function(F,r,$,C){if(this.W6==null)return;
var M=this.W6,l=M.n,k=l.length-2,d=this.Nw;if(this.hv.Fj(1)&&$.D(ac.AH)&&C.HY){l.push(0,0);M.C0.push("L");
k+=2}else if($.D(ac.il))d=B.dC.wr(new hx(l[k-2],l[k-1]),d);l[k]=d.x;l[k+1]=d.y;F.pu.nW=M;F.eD=!0};B.bi.prototype.$n=function(F,r,$,C){var M=Date.now();
if(this.W6==null)this.W6={n:[this.Nw.x,this.Nw.y,this.Nw.x,this.Nw.y],C0:["M","L"]};else{this.gB(F,r,$,C);
if(M-this.abG<250||hx.BV(this.Nw,new hx(this.W6.n[0],this.W6.n[1]))<B.A7(F,C)){this.U2=this.W6;this.finish(F,r,$,C);
this.WN(F);return}this.W6.C0.push("L");this.W6.n.push(this.Nw.x,this.Nw.y)}this.abG=M;F.pu.nW=this.W6};
B.bi.prototype.WN=function(F){this.W6=null;this.Fn=[];if(F!=null){F.pu.nW=null;F.eD=!0}};B.bi.prototype.JG=function(F,r,$,C){B.u_.prototype.JG.call(this,F,r,$,C);
if(C.D(ac.Pl)&&this.W6==null&&this.U2&&F.d!=null){var M=new k6(_.E.O);M.J=B.sT;M.data={R:"h_stepbck"};
r.a(M);this.Pg(F,$,C,null);this.W6=this.U2;return}if(this.W6==null)return;if(C.D(ac.g7)||C.D(ac.Qh)){this.W6.n.pop();
this.W6.n.pop();this.W6.C0.pop();this.gB(F,$,C)}if(C.D(ac.t7)){if(this.W6.n.length>4){this.U2=this.W6;
this.finish(F,$,C)}this.W6=null}if(C.D(ac.Pl)){this.W6=null}F.pu.nW=this.W6;F.eD=!0};B.bi.prototype.getSelection=function(F,r,$,C){return B.u_.Sg(this.W6.n,null,this.N8.anta)};
B.ry=function(){B.u_.call(this,[10,10],B.aD1,"tools/mlasso");this.Cz=B.Nl();this.Fn=[];this.M=[];this.FW=[];
this.M0=[];this.aEu=null;this.aue=0;this.Fq=null;this.Bt=null;this.MF=0;this.xC=0};B.ry.prototype=new B.u_;
B.ry.prototype.disable=function(F,r,$,C){this.clear(F)};B.ry.prototype.j0=function(F){return this.M.length!=0};
B.ry.prototype.fV=function(){return this.M.length!=0};B.ry.prototype.fI=function(F){return this.Fn.indexOf(F)!=-1};
B.ry.prototype.Pg=function(F,r,$,C){this.Fn=[ac.g7,ac.Qh];var M=this.CI(this.Nk,F);if(this.M.length!=0&&(hx.BV(M,this.M[0])<B.A7(F,C)||Date.now()-this.MF<300)){this.UX(F,this.M[0]);
this.finish(F,r,$);this.clear(F);return}this.MF=Date.now();if(this.M.length!=0)M=this.nw(M,F);else{var l=F.r,k=F.$,d=j.Mz(F.Ez(),8),I=UZIP.adler(d,0,d.length);
if(I==this.aue){}else{var c=j.j(l*k),Q=l*k*4;for(var O=0;O<Q;O+=4)c[O>>>2]=~~(.5+j.er(d[O],d[O+1],d[O+2])*(d[O+3]*(1/255)));
this.aEu=j.rm.aw8(c,l,k);this.aue=I}this.Bt=new Uint16Array(l*k)}this.UX(F,M);this.xC=$.D(ac.AH)?1:0;
this.nA(F)};B.ry.prototype.UX=function(F,r){var $=this.M;this.FW[$.length]=this.M0.length;if($.length!=0){j.rm.m2(this.Fq,r.y*F.r+r.x);
var C=this.mX(F,r);C.reverse();var M=B.ry.ahz(F,C);this.M0=this.M0.concat(M)}$.push(r);this.axL(F)};
B.ry.prototype.axL=function(F){var r=this.M[this.M.length-1],$=r.y*F.r+r.x;this.Fq=j.rm.asu(this.aEu,$,F.r,F.$);
this.Bt.fill(0)};B.ry.prototype.CI=function(F,r){return new hx(Math.floor(Math.max(0,Math.min(r.r-1,F.x))),Math.floor(Math.max(0,Math.min(r.$-1,F.y))))};
B.ry.prototype.clear=function(F){this.M0=[];this.M=[];this.FW=[];this.Fq=null;this.Bt=null;if(F!=null){F.pu.nW=null;
F.pu.Ce=[];F.eD=!0}this.Fn=[]};B.ry.prototype.gB=function(F,r,$,C){var M=this.M,l=M.length;if(l==0)return;
var k=this.nw(this.CI(this.Nw,F),F),d=this.mX(F,k);for(var O=0;O<d.length;O++){var I=d[O],c=new hx(I%F.r,Math.floor(I/F.r));
if(this.Bt[I]>30&&hx.BV(c,M[l-1])>20){this.UX(F,c);return}this.Bt[I]++}if(this.xC==1&&C.HY)this.UX(F,k);
this.nA(F)};B.ry.prototype.nA=function(F){var r=this.M;if(r.length!=0){var $=this.nw(this.CI(this.Nw,F),F),C=this.mX(F,$);
C.reverse();var M=B.ry.ahz(F,C),l=this.M0.concat(M),k=F.pu.nW={n:l,C0:["M"]};for(var O=2;O<l.length;
O+=2)k.C0.push("L")}F.pu.Ce=[];for(var O=0;O<r.length;O++)F.pu.Ce.push(r[O].x+.5,r[O].y+.5);F.eD=!0};
B.ry.prototype.$n=function(F,r,$,C){};B.ry.prototype.JG=function(F,r,$,C){if(this.M.length==0)return;
if(C.D(ac.g7)||C.D(ac.Qh)){this.M.pop();this.M0=this.M0.slice(0,this.FW[this.M.length]);this.FW.pop();
if(this.M.length==0)this.clear(F);else this.axL(F);this.nA(F)}if(C.D(ac.t7)){var M=this.CI(this.Nw,F);
this.UX(F,M);this.finish(F,$,C);this.clear(F)}if(C.D(ac.Pl)){this.clear(F)}};B.ry.prototype.getSelection=function(F,r,$,C){return B.u_.Sg(this.M0,null,this.N8.anta)};
B.ry.prototype.mX=function(F,r){var $=this.M[this.M.length-1],C=$.y*F.r+$.x,M=r.y*F.r+r.x;if(this.xC==1)return[M,C];
var l=[M];while(M!=C){M=M+this.Fq.SX[M];l.push(M);if(l.length>5e3){console.log(l);throw"e"}}return l};
B.ry.ahz=function(F,r){var $=[],C=F.r;for(var O=0;O<r.length;O++){var M=r[O];$.push(M%C+.5,Math.floor(M/C)+.5)}return $};
B.ry.prototype.nw=function(F,r){var $=r.r,C=r.$,M=F.P(),k=3;j.rm.m2(this.Fq,F.y*$+F.x);var l=this.Fq.tA[F.y*$+F.x];
for(var d=-k+1;d<k;d++)for(var I=-k+1;I<k;I++){var c=F.x+I,Q=F.y+d;if(c<0||c>=$||Q<0||Q>=C)continue;
j.rm.m2(this.Fq,Q*$+c);if(this.Fq.tA[Q*$+c]<l)M.I_(c,Q)}return M};B.pz=function(){B.m9.call(this,[10,36],B.D8,"tools/ruler");
this.tn=null;this.Ct=null;this.lw=null;this.au=null;this.fw=null};B.pz.prototype=new B.m9;B.pz.prototype.j0=function(F){return F.HY};
B.pz.prototype.enable=function(F,r,$,C){B.m9.prototype.enable.call(this,F,r,C,$);if(F){this.uD(F)}};
B.pz.prototype.disable=function(F,r,$,C){if(F)this.WN(F)};B.pz.prototype.Y3=function(F,r,$,C,M){if(F.R=="unit"){var l=this.tn,k=F.Y;
$.ok={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"measurementScale"}},{t:"Enmr",v:{classID:"Dcmn",typeID:"Ordn",enum:"Trgt"}}]},T:{t:"Objc",v:{classID:"measurementScale",pixelLength:{t:"long",v:k[0]},logicalLength:{t:"doub",v:k[1]},logicalUnits:{t:"TEXT",v:k[2]}}}};
this.pl(r,_.E.c,{R:_.m.Rl,J:this.id,Nc:l[0],D_:l[1],f7:l[2],YV:$.YV,a8i:$.r,ok:$.ok})}if(F.R=="reset"){this.tn=this.lw=null;
this.uD($)}};B.pz.prototype.SY=function(F,r,$,C,M){var l=B.A7(F,M),k=F.f.Ti(M.x,M.y);k.x=Math.round(k.x);
k.y=Math.round(k.y);var d=this.tn;this.Ct=d?d.slice(0):null;var I=d&&hx.BV(k,d[0])<l,c=d&&hx.BV(k,d[1])<l,Q=d&&d[2]&&hx.BV(k,d[2])<l;
if(I||c||Q){if(C.D(ac.AH)&&d.length==2){if(c){var x=d[0];d[0]=d[1];d[1]=x}d[2]=d[0].P();this.lw=[2]}else this.lw=[I?0:c?1:2]}else if(d&&B.pz.aAZ(d[0],d[1],k)<l&&Math.min(d[0].x,d[1].x)-5<=k.x&&k.x<=Math.max(d[0].x,d[1].x)+5&&Math.min(d[0].y,d[1].y)-5<=k.y&&k.y<=Math.max(d[0].y,d[1].y)+5){this.lw=[];
this.fw=[];for(var O=0;O<d.length;O++){this.lw.push(O);this.fw.push(d[O].P())}this.au=k}else{this.tn=[k.P(),k.P()];
this.lw=[1]}};B.pz.prototype.GQ=function(F,r,$,C,M){if(this.lw==null)return;var l=this.tn,k=this.lw,d=F.f.Ti(M.x,M.y);
d.x=Math.round(d.x);d.y=Math.round(d.y);if(k.length>1){var I=d.x-this.au.x,c=d.y-this.au.y;for(var O=0;
O<l.length;O++){l[O]=this.fw[O].P();l[O].offset(I,c)}}else{l[k[0]].I_(d.x,d.y);if(C.D(ac.il)){l[k[0]]=B.dC.wr(l[1-k[0]],l[k[0]])}}this.uD(F);
this.pl(r,_.E.c,{R:_.m.Rl,J:this.id,Nc:l[0],D_:l[1],f7:l[2],YV:F.YV,a8i:F.r,ok:F.ok});F.f.dF=j.b.qy([l[0].x,l[0].y,l[1].x,l[1].y])};
B.pz.prototype.pf=function(F,r,$,C,M,l){this.lw=null;if(l){this.tn=this.Ct.slice(0);this.uD(F)}};B.pz.prototype.pl=function(F,r,$){var C=new k6(r,!0);
C.data=$;F.a(C)};B.pz.prototype.uD=function(F){var r=this.tn;if(r==null)this.WN(F);else{var $=[r[1].x,r[1].y,r[0].x,r[0].y],C=["M","L"];
if(r.length>2){$.push(r[2].x,r[2].y);C.push("L")}F.pu.nW={C0:C,n:$};F.pu.Ce=$}F.eD=!0};B.pz.prototype.WN=function(F){F.pu.nW=null;
F.pu.Ce=[]};B.pz.aAZ=function(F,r,$){var C=r.x-F.x,M=r.y-F.y,l=Math.abs(M*$.x-C*$.y+r.x*F.y-r.y*F.x),k=Math.sqrt(C*C+M*M);
return k==0?0:l/k};B.VR=function(){B.k7.call(this,[10,19],B.RY,"tools/sharpen");this.WB="copy"};B.VR.prototype=new B.k7;
B.VR.prototype.SY=function(F,r,$,C,M){var l=this.N8.pdetail?ap.l7:ap.RY;if(C.D(ac.AH))l=ap.Q2;this.j$(F,$,C,M,this.N8.strn,l);
if(this.O8==null)return;this.kg(F)};B.VR.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);
if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};B.lp=function(){B.k7.call(this,[10,24],B.NQ,"tools/shbrush");
this.WB="draw";this.N8.opacity=.5};B.lp.prototype=new B.k7;B.lp.prototype.SY=function(F,r,$,C,M){this.j$(F,$,C,M,1);
if(this.O8==null)return;this.wo(F);this.kg(F)};B.lp.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);
if(this.Ot)this.BU(F,$,M);if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};B.lp.prototype.pf=function(F,r,$,C,M){if(this.O8==null)return;
this.E6(F,"sheal",this.O8.Vr(),this.O8.y2(),this.O8.Hq(),null);this.vM(F,this.O8.Hq());B.k7.prototype.pf.call(this,F,r,$,C,M)};
B.P0=function(){B.k7.call(this,[10,20],B._a,"tools/smudge");this.WB="copy"};B.P0.prototype=new B.k7;
B.P0.prototype.SY=function(F,r,$,C,M){var l=this.N8.brush.toolOptions;this.j$(F,$,C,M,this.N8.strn,ap._a);
if(this.O8==null)return;this.kg(F)};B.P0.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);
if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};B.Ej=function(){B.k7.call(this,[10,23],B.tH,"tools/sponge");
this.WB="sponge"};B.Ej.prototype=new B.k7;B.Ej.prototype.SY=function(F,r,$,C,M){this.j$(F,$,C,M,this.N8.flow);
if(this.O8==null)return;this.kg(F)};B.Ej.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);if(this.Ot)this.BU(F,$,M);
if(this.O8==null)return;if(!M.HY)return;this.BP(F,$,C,M);this.kg(F)};B.aB=function(){B.m9.call(this,[10,17],B.Li,"tools/zoom");
this.v4=!1;this.DZ=!0;this.Ai=!1;this.Mu=0;this.k4=null;this.L$=null;this.mw=0;this.Op=null;this.aAt=0;
this.uY=new aj([{name:[8,0],J9:"Ctrl + +"},{name:[8,1],J9:"Ctrl + -",NA:!0},{name:[20,3],J9:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],J9:"Ctrl + 1"}],[{s:_.E.O,J:B.Li,h:{R:"zoom",DZ:!0}},{s:_.E.O,J:B.Li,h:{R:"zoom",DZ:!1}},{s:_.E.O,J:B.Li,h:{R:"adapt",Y:"fitscr"}},{s:_.E.O,J:B.Li,h:{R:"adapt",Y:"pixel"}}])};
B.aB.prototype=new B.m9;B.aB.prototype.ql=function(F,r,$,C,M){var l=this.uY;l.l();l.parent=r;l.update(F,$);
var k=new k6(_.E.c,!0);k.data={R:_.m.$a,g$:l,x:M.Rn+2,y:M.WQ+1};r.a(k)};B.aB.prototype.enable=function(F,r,$,C){this.sb(r,C);
if(F&&Date.now()-this.Mu<300)this.Y3({R:"adapt",Y:"pixel"},r,F,C,$);this.Mu=Date.now()};B.aB.prototype.SY=function(F,r,$,C,M){this.L$=new hx(M.x,M.y);
this.mw=F.f.bU;this.Op=F.f.p.P()};B.aB.prototype.GQ=function(F,r,$,C,M){if(this.L$==null)return;var l=Math.exp(Math.log(this.mw)+(M.x-this.L$.x)/64);
l=Math.max(.02,Math.min(B.aB.R6[0],l));F.f.bU=this.mw;F.f.p=this.Op.P();this.Y3({R:"zoom",bU:l,W4:this.L$,Ai:this.Ai},r,F,C,$)};
B.aB.prototype.pf=function(F,r,$,C,M){if(hx.BV(this.L$,M)<4){var l=this.a3e(C);this.Y3({R:"zoom",DZ:l,W4:M,Ai:this.Ai},r,F,C,$)}this.L$=null};
B.aB.R6=[128,64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
B.aB._S=function(F,r,$,C){var M=1;while(F*M*1/2>$||r*M*1/2>C)M*=1/2;if(F*M*2/3>$||r*M*2/3>C)M*=1/2;else if(F*M>$||r*M>C)M*=2/3;
return M};B.aB.al9=function(F,r){var $=B.aB.agL(F);if(r&&$==0)return F;if(!r&&$==B.aB.R6.length-1)return F;
return B.aB.R6[r?$-1:$+1]};B.aB.agL=function(F){var r=0;while(B.aB.R6[r]>F)r++;return r};B.aB.wB=function(F,r,$,C){var M=F.xB;
if(C==0||C==null){C=B.aB.al9(F.bU,$);if(C==F.bU)return}var l=F.Ti(r.x,r.y);l.x=Math.max(0,Math.min(M.r,l.x));
l.y=Math.max(0,Math.min(M.$,l.y));if(!1){}else{var k=F._c(),d=F.bU/C;k.translate(-l.x,-l.y);k.scale(d,d);
k.translate(l.x,l.y);F.aHc(k)}};B.aB.prototype.Y3=function(F,r,$,C,M){if(F.R=="pzoom"){if(typeof F.Y=="string")return;
F={R:"zoom",bU:F.Y/100}}if(F.R=="prvw"){$.add.prvw=1-$.add.prvw;$.eD=!0}var l=0,k=!1,d=null;if(F.R=="adapt"){var I=0;
if(F.Y=="pixel")I=1;if(F.Y=="fitscr"){var I=0,c=$.f.FL.r,Q=$.f.FL.$,x=new cS(0,0,$.r,$.$),U=j.b.Vs(x).n,S=new hS;
S.rotate($.f.K$);j.b.U(U,S,U);var z=j.b.sY(U),V=M._2?j.Om.sR+4:8;I=Math.min((c-V*2)/z.r,(Q-V*2)/z.$);
$.f.p.I_(0,0)}d=new hx(Math.round($.f.FL.r/2),Math.round($.f.FL.$/2));l=I;B.aB.wB($.f,d,k,l);$.GF=!0}if(F.R.startsWith("multi")){function t(R){var w=R[0].x-R[1].x,N=R[0].y-R[1].y;
return Math.sqrt(w*w+N*N)}function Y(R){return new hx((R[0].x+R[1].x)/2,(R[0].y+R[1].y)/2)}function i(R){var w=R[0].x-R[1].x,N=R[0].y-R[1].y;
return Math.atan2(N,w)}var J=F.e6,H=Y(J);if(F.R=="multidown"){this.k4=[J,$.f.bU,$.f.Ti(H.x,H.y),$.f.K$]}else{var v=B.aB.R6;
l=this.k4[1]*t(J)/t(this.k4[0]);l=Math.max(v[v.length-1],Math.min(v[0],l));if(l!=$.f.bU)B.aB.wB($.f,H,k,l);
var n=this.k4[2],G=$.f.uc(n.x,n.y),g=$.f.p;g.x=Math.round(g.x+H.x-G.x);g.y=Math.round(g.y+H.y-G.y);var W=this.k4[3]+(i(J)-i(this.k4[0])),L=2*Math.PI,b=[0,L/4,L/2,L*3/4,L];
while(W<0)W+=L;W=W%L;for(var O=0;O<b.length;O++)if(Math.abs(W-b[O])<.05){W=b[O];break}$.f.K$=W;$.GF=!0}}if(F.R=="scroll"){d=F.W4;
var v=B.aB.R6,T=F.EB.y,a=1+Math.abs(T)*8e-4*(F.ar7?10:1);if(T>0)a=1/a;l=$.f.bU*a;B.aB.wB($.f,d,k,Math.min(v[0],Math.max(v[v.length-1],l)));
$.GF=!0}if(F.R=="zoom"){var R=F.Ai?r.Mi:[$];for(var O=0;O<R.length;O++){var D=R[O],h=D.f;d=F.W4?F.W4:new hx(Math.round(h.FL.r/2),Math.round(h.FL.$/2));
if(F.bU!=null)l=F.bU;else k=F.DZ;B.aB.wB(h,d,k,l);D.GF=!0}}if(F.R=="mskView"){var K=$.u[$.K[0]];if(K.Go<=0){K.Go=1;
$.Wk=!0}var X=K.Go==3?K.WZ($).Lj:K.rc();if(F.Y==0){$.f.BS=[1,1,1];X.Nn=!1}if(F.Y==1){$.f.BS=[1,1,1];
X.Nn=!0}if(F.Y==2){$.f.BS=[0,0,0];X.Nn=!0}for(var O=0;O<$.Bs.length;O++)$.Bs[O].Nn=!1;$.GY=[];$.eD=!0}};
B.aB.prototype.JG=function(F,r,$,C){if(this.v4!=C.D(ac.AH)){this.v4=C.D(ac.AH);var M={R:_.m.Rl,J:this.id,v4:this.v4},l=new k6(_.E.c,!0);
l.data=M;r.a(l);this.sb(r,C)}};B.aB.prototype.sb=function(F,r){var $=new k6(_.E.c,!0),C=this.a3e(r);
$.data={R:_.m.yz,P5:C?"zoom-in":"zoom-out"};F.a($)};B.aB.prototype.Rg=function(F,r,$,C){this.DZ=F.DZ;
this.Ai=F.Ai;this.sb(r,C)};B.aB.prototype.a3e=function(F){var r=this.DZ;if(F.D(ac.iL)&&F.D(ac.Xf))r=!0;
if(this.v4)r=!r;return r};B.aB.acL=function(F,r){if(F.D(ac.Ur)||F.D(ac.aK9)){r.J=B.Li;r.data={R:"zoom",DZ:!0}}if(F.D(ac.Qb)){r.J=B.Li;
r.data={R:"zoom",DZ:!1}}if(F.D(ac.iq)){r.J=B.Li;r.data={R:"adapt",Y:"fitscr"}}if(F.D(ac.xF)){r.J=B.Li;
r.data={R:"adapt",Y:"pixel"}}};B._J=function(F,r,$){B.m9.call(this,F,r,$);this.xB=null;this.e=null;this._s=null;
this.aEI=0;this.yl=null;this._m=-1;this.amP=null;this.ayV=null};B._J.prototype=new B.m9;B._J.uA=function(F,r){var $={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},C=F==null?{classID:"null",null:$,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:$,Usng:{t:"type",v:{classID:F}},__name:"Stroke"};
if(r)C.Prs={t:"bool",v:!0};return{hE:F==null?"fill":"stroke",iH:C}};B._J.bC=function(O){var F={t:"Enmr",v:{classID:"Path",typeID:"Path",enum:"vectorMask"}},C;
if(O==3){var r=cQ.sZ("Lyr",!0);r.v.unshift(F);return{hE:"delete",iH:{classID:"Dlt",null:r}}}var r=cQ.sZ("Path"),$={t:"obj ",v:[F]};
if(O<2)C={t:"enum",v:{vectorMaskEnabled:O==0?"RvlA":"HdAl"}};else C=cQ.sZ("Path",!0);return{hE:"make",iH:{classID:"Mk",null:r,At:$,Usng:C}}};
B._J.prototype.enable=function(F,r,$,C,M){this.e=$;var l=new k6(_.E.c,!0);l.data={R:_.m.yz,P5:"default"};
r.a(l)};B._J.prototype.ql=function(F,r,$,C,M){var l=F.Ug(),k=l[0],d=l[1];if(d.length==0)return;var I=k[d[0]],c=I.add.vmsk,Q=F.f.Ti(M.x,M.y),x=4*B.ha()/F.f.bU,U=new cS(Q.x-x,Q.y-x,x*2,x*2),S=j.w.Po(c.M,U)[0];
if(S.length!=0){c.dP=S;F.eD=!0}var z=j.w.TJ(c.M,Q).Sc;if(z!=-1){c.K=[z];F.eD=!0}var V=new k6(_.E.c,!0);
V.data={R:_.m.Rl,J:this.id,z6:M,hg:F,e:$};r.a(V)};B._J.prototype.axn=function(F,r){var $=new k6(_.E.c,!0);
$.data={R:_.m.WF,jg:d3.yh};if(!r.V$)F.a($);$.data={R:_.m.WF,jg:d3.jD};if(!r.AK.S8)F.a($)};B._J.prototype.zN=function(F,r,$,C,M){if(this.yl&&this._m==-1){console.log("updating over live");
this.Cn(F,$)}if([B.fA,B.uh,B.p5,B.EY,B.Y7].indexOf(this.id)!=-1)B.m9.apB.call(this,F,r,$,C);if(F==null)return;
if($.fp!=this.id&&M==null)return;if(F.K.length==0)return;var l=F.u[F.K[0]],k=l.add.vmsk,d=l.add.vstk;
if(gw==0){var I=cK.Cj(l.add);this.xB=F;this._s=r;if(l.Og()&&k!=null&&(JSON.stringify(d)!=JSON.stringify($.YB)||JSON.stringify(I)!=JSON.stringify($.fc))){this.aEI=Date.now();
var c=new k6(_.E.c,!0);c.data={R:_.m.WF,jg:d3.gv,Y:I};r.a(c);c.data={R:_.m.WF,jg:d3.NJ,Y:d};r.a(c)}}else{var Q=null;
for(var O=0;O<F.K.length;O++){var l=F.u[F.K[O]],x=l.add.vstl;if(x==null)continue;if(Q==null)Q=j.N(x);
else{for(var U in x){if(Q[U]==null)continue;if(x[U]==x.XX){if(JSON.stringify(x[U])!=JSON.stringify(Q[U]))delete Q[U]}else if(x[U]==x.rK){if(JSON.stringify(x[U])!=JSON.stringify(Q[U]))delete Q[U]}else if(x[U]!=Q[U])delete Q[U]}}}if(Q==null)return;
var S=JSON.stringify(Q);if(S!=JSON.stringify($.Jn)){var c=new k6(_.E.c,!0);c.data={R:_.m.WF,jg:d3.Kv,Y:Q};
r.a(c)}}};B._J.prototype.Db=function(F,r){if(r==d3.jG||r==d3.BN)this.zN(null,null,F,null);if(this.xB==null)return;
if(r==d3.BN||r==d3.gv||r==d3.NJ){if(Date.now()-this.aEI<50)return;var $=r==d3.gv,C=this.xB,M=$?F.fc:F.YB,l=[],k=C.K;
for(var O=0;O<k.length;O++){var d=k[O],I=C.u[d];if(!I.Og()||I.add.vmsk==null)continue;l.push(d)}var c=new k6(_.E.O,!0);
c.J=B.pO;c.data={R:Z.fn,RF:l,oQ:$,Y:M};if(l.length!=0)this._s.a(c)}};B._J.prototype.apz=function(F){if(typeof F=="number"){var r=new k6(_.E.wG,!0);
r.data=B.QZ.w8(0);r.data.iH.Usng.v.Type.v.Clr.v=j.qS.NG({t:F>>>16&255,L:F>>>8&255,X:F>>>0&255});this._s.a(r)}};
B._J.prototype.Y3=function(F,r,$,C,M){this._s=r;if(F.R=="newfill"){if(F.wV==0){var l=new k6(_.E.c,!0);
l.data={R:_.m.Oe,rS:"colorpicker",$d:M.y1,Xq:this.apz.bind(this)};r.a(l)}}else if(F.R=="smplp"){if($==null)return;
var k=$.Ug(),d=k[0],I=k[1];if(I.length==0){alert("No paths selected");return}var c=d[I[0]];if(c.add.vmsk.K.length<=0){alert("No paths selected");
return}if(this.zJ==null){this.zJ=c.add.vmsk.P();this.wP=JSON.stringify(c.add.vogk);this.W6=c;this.xB=$}var l=new k6(_.E.c,!0);
l.data={R:_.m.Oe,rS:"simplifypath",Ir:100,Oa:this.ao2.bind(this)};r.a(l)}else if(F.R=="pathedit"){var Q=F.vz,x="",U=$.S8.slice(0),S=$.tk.slice(0),z=$.S8.slice(0),V=$.tk.slice(0),t=$.D3,Y=$.D3;
if(Q=="rnm"){var i=-1-F.Sc,J=U[i],H=kQ.dK(F.name,J.add);if(i!=0)z[i]=H;else{V=[z.length];z.push(H);z[0]=kQ.dK("Work Path")}x="Rename"}else if(Q=="sspath"){if(F.Y==-1){Y=-1;
V=[]}else if(F.Y==1&&$.D3!=-1)V=[$.D3];else if($.tk.length!=0){if($.pc){alert("Symmetry can't be used in the Pattern Preview");
return}Y=$.tk[0]}else return;x="Symmetry"}else if(Q=="new"){var H=kQ.dK("Path "+U.length);if(F.Yk)H=F.Yk;
if(F.aHz){var k=$.Ug(),d=k[0],I=k[1],v=d[I[0]];H.add.vmsk=v.add.vmsk.P();H.add.vogk=j.N(v.add.vogk);
if(v.Sc==-1){var n=z[V[0]]=kQ.dK("Path "+U.length);n.name=v.name;n.Sc=v.Sc}}z.push(H);V=[z.length-1];
x="New";if(F.h7!=null){if($.pc){alert("Symmetry can't be used in the Pattern Preview");return}var G=F.h7[0],g=F.h7[1];
H.name=dG.get(j.q1.list[G][0]);var W=j.q1.mX(G,g),L=Math.min($.r,$.$),b=($.r-L)/2,T=($.$-L)/2;j.b.U(W.n,new hS(L,0,0,L,b,T),W.n);
H.add.vmsk.M=j.b.RJ(W);H.h7=[j.q1.list[G][1],g];Y=V[0];x="New Symmetry"}}else if(Q=="del"){if($.dy&&$.dy.length!=0){var l=new k6(_.E.wG,!0);
l.data=B._J.bC(3);r.a(l)}if(V.length==0)return;V.sort(function(s,aZ){return s-aZ});if(V[0]==0){z[0]=kQ.dK(U[0].name);
V=V.slice(1)}var a=0;while(V.length!=0){z.splice(V[0]-a,1);V=V.slice(1);a++}x="Delete"}else if(Q=="fromsel"){var c=z[0]=kQ.dK("Work Path");
V=[0];if($.d==null)return;var R=$.d.G.slice(0);for(var O=0;O<R.length;O++)R[O]=R[O]>128?2:1;var D=$.d.S.P();
D.lW(1,1);var h=j.j(D.C());j.wU(R,$.d.S,h,D);var K=eA.yJ(h,D.r,D.$,Math.round(D.C()*2e-5)),d=eA.Ug(K),X=new hS(1,0,0,1,-1+$.d.S.x,-1+$.d.S.y);
for(var O=0;O<d.length;O++)j.b.U(d[O].path.n,X,d[O].path.n);for(var O=0;O<d.length;O++){var w=d[O];if(w.color==1&&w.parent==-1)continue;
var N=j.b.RJ(d[O].path,!1);N[2].ea=0;c.add.vmsk.M=c.add.vmsk.M.concat(N.slice(2))}c.add.vogk=Z.ud(c.add.vmsk.M);
x="Selection to"}var s=new fH(x+" Path",this);s.data={Ct:U,k8:S,a7l:z,Re:V,aFV:t,avW:Y};if(Q=="fromsel"){s.data.lS=$.d;
s.data.xP=null}$.gg(s);this.mY(s.data,$);if(Q=="new"&&F.h7||Q=="sspath"&&F.Y!=-1){var l=new k6(_.E.c,!0);
l.data={R:_.m.Td,J:B.DJ};r.a(l)}}else{var A=F.qc,k=$.Ug(F.R=="append"||F.R=="fromAction"),d=k[0],I=k[1],c=d[I[0]],p=c.add.vmsk,q=c.add.vogk,f=p.P(),e=p.P(),o=JSON.stringify(q);
if(F.R=="fromAction"){var E=F.NT,cj=E.hE,u=E.iH,cd=u.T;if(cj=="set"){if(cd){q=[j.EL.CV(cd,$.r,$.$)];
e.M.push({I:0,ea:1,length:0});j.EL.M9(q,e);A=[12,76,0]}else throw u}else if(cj=="draw"){q=[j.EL.CV(u.Shp,$.r,$.$)];
e.M.push({I:0,ea:1,length:0});j.EL.M9(q,e);B._J.aH6(e.M,u.AntA.v,M.y1,r);return}else throw cj}else if(F.R=="remove"){if(F.yj&&e.dP.length!=0){e.M=j.w.aHM(e.M,e.dP,q,F.a4H);
var m=j.w.Us(e.M);for(var O=0;O<e.K.length;O++)if(e.K[O]>=m){e.K.splice(O,1);O--}e.dP=[];A="Delete Anchors"}else{if(e.K.length==0)return;
var a=0;for(var O=0;O<e.K.length;O++){q.splice(e.K[O]+a,1);a--}e.M=j.w.a86(e.M,e.K);e.K=[];e.dP=[];if(A==null)A="Delete Paths"}}if(F.R=="append"){B._J.Sk(F.aa$,e,q)}this.bu($,c.Sc,e,q);
this.EK($,A,c.Sc,f,e.P(),null,o,JSON.stringify(q))}};B._J.aH6=function(F,r,$,C){var M=new Z.kf;M.M=M.M.concat(F.slice(2));
var l=M.rc();if(!r)j.round(l.G);var k=j.j(l.S.C()*4);j.A9(k,($&255)<<16|($>>8&255)<<8|($>>16&255)<<0);
j.dr(l.G,k,3);var d=new k6(_.E.O,!0);d.J=B.UG;d.data={R:"draw",TT:{buffer:k,S:l.S.P()},qc:this.name};
C.a(d)};B._J.r$=function(F,r){var $=j.w.aaG(F.M,F.K),C=[];for(var O=0;O<F.K.length;O++)C.push(j.N(r[F.K[O]]));
return[$,C]};B._J.Sk=function(F,r,$){var C=j.w.Us(r.M),M=j.w.Us(F[0]);r.M=r.M.concat(F[0].slice(2));
r.K=[];for(var O=0;O<M;O++)r.K.push(C+O);for(var O=0;O<M;O++)$.push(j.N(F[1][O]))};B._J.prototype.fI=function(F,r){if(r==null)return!1;
var $=r.Ug(),C=$[0],M=$[1];if(M.length==0)return!1;var l=C[M[0]],k=l.add.vmsk;if(k&&k.K.length+k.dP.length!=0)return[ac.g7,ac.Qh].indexOf(F)!=-1};
B._J.prototype.JG=function(F,r,$,C){if(F==null)return;var M=F.Ug(),l=M[0],k=M[1];if(k.length==0)return;
var d=l[k[0]],I=d.add.vmsk;if(C.D(ac.Pl)||C.D(ac.t7)||this.id==B.Bh&&C.D(ac.nh)&&I.dP.length==1){I.dP=[];
F.eD=!0}if(I.K.length!=0){var c=C.ii(F?F.f.K$:0);if(c.x!=0||c.y!=0){var Q=I.P(),x=I.P(),U=new hS(1,0,0,1,c.x,c.y),S=d.add.vogk,z=JSON.stringify(S);
if(C.D(ac.AH)){var V=B._J.r$(x,S);B._J.Sk(V,x,S)}j.w.J_(x.M,U,x.K);j.EL.U(S,j.H.TG(U),x.K);this.bu(F,d.Sc,x,S);
this.EK(F,"Move Paths",d.Sc,Q,x.P(),!0,z,JSON.stringify(S))}if(C.D(ac.g7)||C.D(ac.Qh))this.Y3({R:"remove",yj:this.id==B.Bh},r,F,C,$)}};
B._J.prototype.EK=function(F,r,$,C,M,l,k,d){var I=new fH(r,this);I.data={Zu:$,h5:C,Nm:M,aGu:l,auE:k,Dl:d};
F.gg(I)};B._J.prototype.mY=function(F,r){if(F.Zu!=null)this.bu(r,F.Zu,F.Nm.P(),JSON.parse(F.Dl));else{r.S8=F.a7l.slice(0);
r.tk=F.Re.slice(0);r.eD=r.Wk=!0}if(F.lS||F.xP){r.d=F.xP;r.Dn=!0}if(F.avW!=null)r.D3=F.avW};B._J.prototype.Ea=function(F,r){if(F.Zu!=null)this.bu(r,F.Zu,F.h5.P(),JSON.parse(F.auE));
else{r.S8=F.Ct.slice(0);r.tk=F.k8.slice(0);r.eD=r.Wk=!0}if(F.lS||F.xP){r.d=F.lS;r.Dn=!0}if(F.aFV!=null)r.D3=F.aFV};
B._J.prototype.bu=function(F,r,$,C){var M=r<0?F.S8[-1-r]:r<1e6?F.u[r]:F.u[r-1e6].add.TySh,l=M.add.vmsk;
l.G=null;l.qX=!0;if(l.Ci){l.Ci.G=null;l.Ci.qX=!0}M.add.vmsk=$;M.add.vogk=C;if(1e6<=r){ho.tq(M);var k=F.u[r-1e6],d=M,I=this.e;
dJ.Bi(k,I.v7);F.vM()}else if(0<=r){$.qX=!0;M.uH(F);F.vM()}F.eD=F.Wk=!0};B._J.prototype.Cn=function(F,r,$){if(!$)this.apl(F,r);
var C=F.Ug(),M=C[0],l=C[1];for(var k=0;k<l.length;k++){var d=M[l[k]],I=j.EL.a6q(d.add.vogk,d.add.vmsk.K,F.f);
if(I==null)continue;F.eD=!0;if(I[1])F.pu.Qu=I[1];if($){this.yl[0]=I;return}var c=new aY(I[3],!1,!1);
c.TF(F,r);this.yl=[I,c,d]}};B._J.prototype.apl=function(F,r){var $=this.yl;if($==null)return;F.pu.Qu=[];
F.pu.oY=[];$[1].clear(F);this.yl=null};B._J.prototype.agR=function(F,r,$,C,M){var l=this.yl,k=this._m;
if(l==null)return!1;var d=F.f.Ti(M.x,M.y);if(k!=-1){var I=l[0],c=l[1],Q=l[2],x=this.zJ.P(),U=JSON.parse(this.wP);
if(k==10){l[1].GQ(F,$,C,d);var S=j.H.e0(l[1].Ju()),z=j.H.MV(S,j.H.v4(this.ayV));j.EL.U(U,z,x.K);j.EL.M9(U,x);
this.bu(F,Q.Sc,x,U)}else{var V=JSON.parse(this.amP),t=new hx(I[2][k*2],I[2][k*2+1]),Y=new hx(I[4][0],I[4][1]),i=Math.round(hx.BV(t,d)/Math.sqrt(2));
if(hx.BV(d,Y)>hx.BV(t,Y))i=0;B.m9.LA(M.x+20,M.y,[dG.get([12,56])+": "+i+" px"],F);if(V[0]==8)V[3]=i;
else{var J=i-V[3][k];if(C.D(ac.AH))V[3][k]=i;else for(var O=0;O<4;O++)V[3][O]=Math.max(V[3][O]+J,0)}var H=new k6(_.E.O,!0);
H.J=B.pO;H.data={R:Z.g6,Y:V};r.a(H)}this.Cn(F,$,!0);return!0}else{var v=l[1].cb(d,F.f.bU,!0);if(v==null&&l[0][1]){var n=j.b.V7(l[0][1],d.x,d.y,7/F.f.bU);
if(n!=-1)v="default"}var H=new k6(_.E.c,!0);H.data={R:_.m.yz,P5:v?v:B.Nl()};r.a(H)}};B._J.prototype.a1U=function(F,r,$,C,M){var l=this.yl;
if(l==null)return!1;var k=F.f.Ti(M.x,M.y),d=-1;if(l[1].cb(k,F.f.bU,!0)&&l[1].SY(F,$,C,k))d=10;else if(l[0][1]){var I=j.b.V7(l[0][1],k.x,k.y,7/F.f.bU);
if(I!=-1)d=I}if(d!=-1){var c=l[2];this.zJ=c.add.vmsk.P();this.wP=JSON.stringify(c.add.vogk);this._m=d;
this.amP=JSON.stringify(j.EL.e0(F));this.ayV=j.H.e0(l[1].Ju());return!0}};B._J.prototype.ajc=function(F,r,$,C,M){var l=this.yl,k=this._m;
if(k==-1)return!1;var d=F.f.Ti(M.x,M.y);if(k==10){l[1].pf(F,$,C,d);var I=l[2];this.EK(F,[10,16],I.Sc,this.zJ,I.add.vmsk,null,this.wP,JSON.stringify(I.add.vogk))}this._m=-1;
this.Cn(F,$)};B.QZ=function(F,r,$,C){B._J.call(this,F,r,$);this.N8={shape:fW.Mv(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{q:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.ass=C;this.X0=null;this.qz=null;this.As=null;this.hv=new eM};B.QZ.prototype=new B._J;B.QZ.prototype.j0=function(F){return F.HY&&this.id!=B.Lc};
B.QZ.prototype.enable=function(F,r,$,C,M){this.e=$;var l=new k6(_.E.c,!0);l.data={R:_.m.yz,P5:B.Nl()};
r.a(l);this.Cn(F,$)};B.QZ.prototype.disable=function(F,r,$,C){this.apl(F,$)};B.QZ.prototype.JG=function(F,r,$,C){B._J.prototype.JG.call(this,F,r,$,C);
this.hv.JG(C);this.UT(r,$)};B.QZ.prototype.UT=function(F,r){var $=new k6(_.E.c,!0);$.data={R:_.m.Rl,J:this.id,Lk:this.pi(r)};
F.a($)};B.QZ.prototype.pi=function(F){var r=this.hv.GO(0),$=this.hv.Fj(0),C=B.u_.kA(this.N8.binop,r,$),M=this.id==B.Lc?F.kx:F.K0;
if(M==1&&C==0)C=1;return C};B.QZ.prototype.Vy=function(F,r,$,C){};B.QZ.prototype.SY=function(F,r,$,C,M){if(this.a1U(F,r,$,C,M))return;
var l=this.id==B.Lc?$.kx:$.K0;if(l!=2)this.axn(r,$);if(l==2&&!F.DI())return;var k=F.f.Ti(M.x,M.y);k=B.qW.aU(F,k,$);
this.As=[k.x,k.y];this.X0=k;this.qz=new hx(0,0);this.hv.SY(C)};B.QZ.prototype.aGv=function(F,r,$,C){var M=[this.X0.P(),r.P()];
$=this.hv.GO(1)||$.D(ac.il)||this.hv.Fj(1)?$:null;if(this.ass)M=B.QZ.Un(M[0],M[1],$,!0,this.N8.cstr);
if(F)F.f.dF=new cS(M[0].x,M[0].y,M[1].x-M[0].x,M[1].y-M[0].y);return this.Vy(M[0],M[1],this.hv.GO(1)&&$.D(ac.il),this.As,F.f,C)};
B.QZ.prototype.a1d=function(F,r,$){var C=F.f.Ti(r.x,r.y);if(this.id==B.Lc)return C;var M=this.N8.cstr;
if(M.q==2){var l=new cS(C.x-M.x,C.y-M.y,M.x,M.y),k=B.qW.gy(F,l,$);C.x+=k[0];C.y+=k[1];B.qW.YI(F,l,k)}else C=B.qW.aU(F,C,$);
return C};B.QZ.prototype.GQ=function(F,r,$,C,M){if(this.agR(F,r,$,C,M))return;if(this.X0==null)return;
var l=this.As,k=l.length,d=M?this.a1d(F,M,$):new hx(l[k-2],l[k-1]);if(C.D(ac.iL))this.X0=d.Q1(this.qz);
else this.qz=d.Q1(this.X0);l.push(d.x,d.y);if(this.N8.shape==null)this.N8.shape=$.y_[0];var I=this.aGv(F,d,C,!0)[0],c=j.b.oJ(I);
F.pu.nW=c;if(this.id!=B.Lc&&this.id!=B.p5&&this.id!=B.EY)B.m9.qi(M,F.f.dF,F,$);F.eD=!0;this.hv.GQ()};
B.QZ.prototype.aeD=function(F,r,$,C){var M=F[4].P();if(C){M.x-=r/2;M.y-=$/2}if(this.id==B.p5){r/=2;$/=2;
M.x+=r;M.y+=$;$=-$;r=0}var l=this.Vy(M,new hx(M.x+r,M.y+$),!1,this.As);this.acb(F[0],F[1],F[2],l)};B.QZ.prototype.acb=function(F,r,$,C){var M=this.id==B.Lc?$.kx:$.K0,l=new k6(_.E.wG,!0);
if(M==0)l.data=B.QZ.aCI(C[1],$);else if(M==1){var k={__name:"Set",classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},T:C[1]};
l.data={hE:"set",iH:k}}else{var k={__name:"Draw",classID:"Draw",AntA:{t:"bool",v:!0},Shp:C[1]};l.data={hE:"draw",iH:k}}r.a(l);
if(C[1].v.classID=="customShape"&&C[1].v.Nm.v.startsWith("--")){var d=F.Ug(),I=d[0],c=d[1],Q=I[c.pop()],x=Q.add.vmsk,U=Q.add.vogk;
j.EL.acP(U);var S=x.P();S.M=C[0];this.bu(F,Q.Sc,S,U)}if(this.id==B.fA||this.id==B.uh){var d=F.Ug(),I=d[0],c=d[1],Q=I[c.pop()],x=Q.add.vmsk;
x.K=[0];this.Cn(F,$)}};B.QZ.prototype.pf=function(F,r,$,C,M,l){if(this.ajc(F,r,$,C,M))return;if(this.X0==null)return;
var k=this.a1d(F,M,$),d=this.pi($),I=this.id==B.Lc?$.kx:$.K0,c=this.As,Q=c.length;if(this.id==B.Lc&&Q<=4){}else if(Q<=4){k.x=Math.round(k.x);
k.y=Math.round(k.y);var x=new k6(_.E.c);x.data={R:_.m.Oe,rS:"createshape",av4:this.aeD.bind(this),a3S:this.name,ah_:[F,r,$,C,k]};
if(!l)r.a(x)}else if(Q!=2){var U=this.aGv(F,k,C),S=U[0],z=F.Ug(!0),V=z[0],t=z[1],Y=t.length-1;if(I==1&&S.length>2||I==0&&d!=0&&Y!=-1&&V[t[Y]].Sc>=0){S[2].ea=[1,2,3,0][d-1];
var i=V[t.pop()],J=i.add.vmsk,H=i.add.vogk,v=J.P(),n=J.P(),G=JSON.stringify(H);n.M=n.M.concat(S.slice(2));
n.K=[j.w.Us(n.M)-1];var g=j.EL.CV(U[1]);H.push(g?g:j.EL.E4());this.bu(F,i.Sc,n,H);this.EK(F,this.name,i.Sc,v,n,null,G,JSON.stringify(H))}else if(I==0){this.acb(F,r,$,U)}else if(I==2){B._J.aH6(S,this.N8.anta,$.y1,r)}}this.X0=null;
F.pu.nW=null;F.pu.oj=null;F.pu.oY=[];F.f.dF=null;F.eD=!0;this.hv.pf();this.UT(r,$)};B.QZ.prototype.Rg=function(F,r,$,C,M){for(var $ in F)this.N8[$]=F[$]};
B.QZ.Un=function(F,r,$,C,M){var l=F.x,k=F.y,d=r.x,I=r.y;if(M&&M.q==2){if(C){d=Math.round(d);I=Math.round(I)}l=d-M.x;
k=I-M.y}else{var c=0;if(M&&M.q==1)c=M.y/M.x;else if($&&$.D(ac.il))c=1;if(c!=0){if(C){if(l<d)l=Math.floor(l);
else l=Math.ceil(l);if(k<I)k=Math.floor(k);else k=Math.ceil(k)}var Q=Math.abs(d-l),x=Math.abs(I-k),U=Q;
if(x/Q<c)U*=x/Q/c;d=d>l?l+U:l-U;I=I>k?k+U*c:k-U*c}if($&&$.D(ac.AH)){l-=d-l;k-=I-k}}var F=new hx(l,k),r=new hx(d,I);
if(C)B.QZ.aAe(F,r);return[F,r]};B.QZ.aAe=function(F,r){if(F.x>r.x){var $=F.x;F.x=r.x;r.x=$}if(F.y>r.y){var $=F.y;
F.y=r.y;r.y=$}F.x=Math.floor(F.x);F.y=Math.floor(F.y);r.x=Math.ceil(r.x);r.y=Math.ceil(r.y)};B.QZ.aK3=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
B.QZ.w8=function(F,r){var $=B.QZ.aK3(),C=$.Usng.v.Type;if(r==null){C.v=j.N(cK.zH[F]);C.v.classID=["solidColorLayer","gradientLayer","patternLayer"][F]}else B.tt.NM(r,C.v,F);
return{hE:"make",iH:$}};B.QZ.aCI=function(F,r){var $=r.fc,C=j.N(r.YB);C.fillEnabled.v=$.Ef!=0;var M=B.QZ.w8(Math.max(0,$.Ef-1),$.v$);
M.iH.Usng.v.Shp=F;M.iH.Usng.v.strokeStyle={t:"Objc",v:C};return M};B.am=function(F){B._J.call(this,[[10,29],[10,51],"Add Anchor Point","Delete Anchor Point","Convert Point"][F],[B.Bh,B.ahj,B.al3,B.afw,B.agI][F],["tools/pen","tools/cpen","tools/aapoint","tools/dapoint","tools/capoint"][F]);
this.xC=F;this.ON=null;this.MC=null;this.zJ=null;this.wP=null;this._7=0;this.sx=null;this.Me=!1;this.Ku=!1;
this.rZ=!1;this.fF=!1;this.rh=!1;this.aA=!1;this.Mu=0};B.am.prototype=new B._J;B.am.prototype.j0=function(F){return this.zJ!=null};
B.am.prototype.JG=function(F,r,$,C){if(!C.D(ac.AH))this.rh=!1;if(this.xC==1&&(C.D(ac.g7)||C.D(ac.Qh))&&this.fI(ac.g7,F)){this.Y3({R:"remove",yj:!0},r,F,C,$);
return}if(this.MC)this.Sx(F,r,$,C,this.MC);B._J.prototype.JG.call(this,F,r,$,C)};B.am.prototype.Cv=function(F,r,$,C){var M=F.f.Ti(C.x,C.y,!0),l=B.qW.aU(F,M,r),k=this.xC,d=r.kx,I=this._7;
if(d==2)d=0;var c=F.Ug(),Q=c[0],x=c[1],U=x.length==0?null:Q[x.pop()],S=U?U.add.vmsk:null;if(d==0&&I!=0&&U&&U.Sc>=0)d=1;
var z=B.A7(F,C);if(k<=1&&d==0&&(S==null||S.dP.length==0&&j.w.TJ(S.M,M,!0,z).Sc==-1))return["new",!0];
if(k<=1&&d==1&&S==null)return["new"];if(S==null)return[null];var V=S.M,t=j.w.Po(V,new cS(M.x-z,M.y-z,z*2,z*2),S.dP,!0),Y=j.w.TJ(V,M,!0,z);
if(k<3&&Y.Sc!=-1&&t[0].length==0)return["add"];if((t[3]!=0||Y.Sc!=-1)&&($.D(ac.AH)||k==4))return["cnv"];
var i=t[0].length==1&&V[t[0][0]-1]&&(V[t[0][0]-1].Z!=null||V[t[0][0]-1].I==0||V[t[0][0]-1].length==1);
if(i)return[k==0||k==3?"del":k==2?"mva":"mov"];if(k<2){var J=j.w.ZZ(V,j.w.Zt(V,S.dP[0]));if(J!=-1&&hx.BV(M,V[J+1].Z)<z)return["fin"];
if(S.dP.length!=1)return["new"];return["nrm"]}return[null]};B.am.prototype.SY=function(F,r,$,C,M){var l=F.tk.indexOf(0)!=-1,k=F.f.Ti(M.x,M.y,!0),d=B.qW.aU(F,k,$),I=this.xC,c=$.kx,Q=this._7;
if(c==2)c=0;var x=F.Ug(c==1),U=x[0],S=x[1],z=U[S.pop()],V=z?z.add.vmsk:null;if(c==0&&Q!=0&&z&&z.Sc>=0)c=1;
var t=B.A7(F,M),Y=this.Cv(F,$,C,M);if(Y[0]==null)return;if(Y[1]){var i=new k6(_.E.wG,!0),J=j.EL.QL("customShape",[0,0,1,1],null,null,null,"--");
i.data=B.QZ.aCI(J,$);r.a(i);this.aA=!0;x=F.Ug(!0);U=x[0];S=x[1];z=U[S.pop()];V=z.add.vmsk;V.M=V.M.slice(0,2)}var H=z.add.vogk,v=V.M;
this.zJ=V.P();this.wP=JSON.stringify(H);if(z.name=="Work Path"&&!l){v=V.M=v.slice(0,2);H=[]}this.ON=M;
this.axn(r,$);var n=j.w.Po(v,new cS(k.x-t,k.y-t,t*2,t*2),V.dP,!0),G=j.w.TJ(v,k,!0,t);if(Y[0]=="add"){var g=j.w.ZZ(v,G.Sc),W=v[g].length;
while(W<=G.uP){G.uP-=W;g+=W+1}var L={I:4,ni:d.P(),Z:d.P(),Pj:d.P()},b=g+2+G.uP,T=g+1+(1+G.uP)%W,a=v[b-1],R=v[T];
if(!a.Z.Mp(a.Pj)||!R.ni.Mp(R.Z)){var D=j.b.a3s(a.Z,a.Pj,R.ni,R.Z,G.Vl);a.Pj=D[0];L.ni=D[1];L.Z=D[2];
L.Pj=D[3];R.ni=D[4]}this.fF=!0;v.splice(b,0,L);v[g].length++;V.dP=[b];if(I==1){L.ni.x+=2;this.ef(V)}}else if(Y[0]=="cnv"){var h=-1;
if(n[0].length!=0){h=n[0][0];var K=v[h],X=K.I>=3?3:0,w=h==v.length-1;K.I=X+1;if(!(I==4&&C.D(ac.AH))&&!(I==0&&w))K.ni=K.Z.P();
K.Pj=K.Z.P();this.fF=!0;if(I==0&&!w)this.rh=!0}else if(n[1].length+n[2].length!=0){var h=n[2][0];if(h==null){h=n[1][0];
this.Ku=!0}var K=v[h],X=K.I>=3?3:0;K.I=X+2}else h=j.w.ZZ(v,G.Sc)+G.uP+1;if(h!=-1)V.dP=[h]}else if(Y[0]=="mva"){this.rZ=!0;
V.dP=[n[0][0]]}else if(Y[0]=="mov"){var h=n[0][0],N=v[h],s=N.Z,A=Math.abs(j.b.FT(N.ni.x,N.ni.y,s.x,s.y,N.Pj.x,N.Pj.y));
if(A>.01){N.ni=s.P();N.Pj=s.P()}if(Date.now()-this.Mu<300){var p=N.ni.Mp(s)&&N.Pj.Mp(s);if(p)N.Pj.offset(2,2);
else{N.ni=s.P();N.Pj=s.P()}this.Mu=0}else this.Mu=Date.now();V.dP=[h];this.ef(V)}else if(Y[0]=="del"){var h=n[0][0],g=j.w.ZZ(v,j.w.Zt(v,h)),J=v[g],q=g+J.length;
if(h!=q||J.I==0){v[g].length--;v.splice(h,1);q--;if(J.length==0){v.splice(g,1);q=-1}}if(q!=-1)V.dP=[q];
else V.dP=[]}else if(Y[0]=="fin"){var g=j.w.ZZ(v,j.w.Zt(v,V.dP[0]));v[g].I=0;V.dP=[g+1];this.sx=d;this.Me=!0;
this.fF=!0}else{var f=0;if(Y[0]=="new"){V.K=[j.w.Us(v)];v.push({I:3,length:1,ea:[1,2,3,0][Math.max(0,Q-1)],VW:0,c5:0,QS:0});
f=v.length;H.push(j.EL.E4())}if(Y[0]=="nrm"){var g=j.w.ZZ(v,j.w.Zt(v,V.dP[0])),N=g+v[g].length;v[g].length++;
f=N+1;if(N==g+1&&v[g].length!=2)f=g+1}if(C.D(ac.il)&&v[f-1]&&v[f-1].Z)d=B.dC.wr(v[f-1].Z,d);var L={I:4,ni:d.P(),Z:d.P(),Pj:d.P()};
v.splice(f,0,L);V.dP=[f];this.sx=d;if(this.xC==1){L.ni.x+=2;this.ef(V)}this.fF=!0;this.Mu=Date.now()}this.bu(F,z.Sc,V,H);
F.eD=!0};B.am.prototype.ef=function(F){var r=F.M,$=F.dP[0],C=j.w.ZZ(r,j.w.Zt(r,$))+1,M=r[C-1].length;
if(M<3)return;var l=[],k=[];for(var O=0;O<5;O++){var d=C+($-C-2+O+5*M)%M;k.push(d);var I=r[d].Z;l.push(I.x,I.y)}var c=j.b.aeE(l);
for(var O=1;O<4;O++){var Q=O*4,x=r[k[O]],I=x.Z,U=x.ni.Mp(I)&&x.Pj.Mp(I);if(!U){x.ni.I_(c[Q],c[Q+1]);
x.Pj.I_(c[Q+2],c[Q+3])}else{x.ni=I.P();x.Pj=I.P()}}};B.am.prototype.Sx=function(F,r,$,C,M){var l=this.Cv(F,$,C,M)[0],k=null;
if(l==null)k="default";else k=B.am.bD(l);var d=new k6(_.E.c,!0);d.data={R:_.m.yz,P5:k};r.a(d)};B.am.prototype.GQ=function(F,r,$,C,M){this.MC=M;
if(this.zJ==null){this.Sx(F,r,$,C,M);return}var l=this.ON;if(l&&hx.BV(l,M)<B.A7({f:{bU:1}},M))return;
this.ON=null;var k=F.f.Ti(M.x,M.y),d=B.qW.aU(F,k,$),I=F.Ug($.kx==1),c=I[0],Q=I[1],x=c[Q.pop()],U=x.add.vmsk,S=U.M,z=S[U.dP[0]];
if(this.xC==1){var V=z.Z.Mp(z.ni)&&z.Z.Mp(z.Pj);z.Z=k.P();z.ni=k.P();z.Pj=k.P();if(!V)z.ni.x+=2;this.ef(U)}else if(C.D(ac.iL)){if(C.D(ac.il))d=B.dC.wr(this.sx,d);
var t=z.Z.Q1(z.Pj),Y=z.ni.Q1(z.Z);z.Pj=d;z.Z=d.add(t);z.ni=z.Z.add(Y)}else if(this.rZ){var i=z.ni.Q1(z.Z),J=z.Pj.Q1(z.Z);
z.Z=d;z.ni=z.Z.add(i);z.Pj=z.Z.add(J)}else{if(C.D(ac.il))d=B.dC.wr(z.Z,d);if(this.Ku){var H=z.ni;z.ni=z.Pj;
z.Pj=H}if(this.Me){var v=hx.BV(z.Z,d),n=v==0?0:hx.BV(z.Z,z.Pj)/v;z.Pj.x=z.Z.x+n*(d.x-z.Z.x);z.Pj.y=z.Z.y+n*(d.y-z.Z.y)}else z.Pj=d;
var G=z.I>=3?3:0;if(this.fF&&!this.rh)z.I=G+C.D(ac.AH)?2:1;if(z.I-G==1){z.ni=z.Z.add(z.Z.Q1(d))}this.sx=d;
if(this.Ku){var H=z.ni;z.ni=z.Pj;z.Pj=H}}this.bu(F,x.Sc,U,x.add.vogk);F.eD=!0};B.am.prototype.pf=function(F,r,$,C,M){if(this.zJ==null)return;
var l=F.Ug($.kx==1),k=l[0],d=l[1],I=k[d.pop()],c=I.add.vmsk,Q=I.add.vogk;if(this.Me){c.dP=[];this.bu(F,I.Sc,c,I.add.vogk)}var x=this.zJ.M.length,U=c.M.length;
if(!this.aA)this.EK(F,this.Me?"Close Path":(x==U?"Move":x<U?"Add":"Delete")+" Anchor Point",I.Sc,this.zJ,c.P(),null,this.wP,JSON.stringify(Q));
this.aA=!1;this.Me=!1;this.Ku=!1;this.rZ=!1;this.fF=!1;this.zJ=null};B.am.prototype.Rg=function(F,r,$,C,M){this._7=F.binop};
B.am.awL={};B.am.bD=function(F){var r=B.am.awL[F],$=64,d=2,I=10,c=25,Q=5,x=35;if(r)return r;var C=new cS(0,0,$,$),M=-.38,l=j.q6($,$);
l.clearRect(0,0,$,$);var k=B.ha();l.save();l.lineWidth=d;l.translate(4-d/2,4-d/2);l.rotate(M);if(k<1.5){var U=.66;
I*=U;c*=U;Q*=U;x*=U}l.lineJoin="miter";l.beginPath();if(F=="cnv"){l.moveTo(-I,c);l.lineTo(0,0);l.lineTo(I,c);
l.stroke()}else{l.moveTo(0,0);l.lineTo(I,c);l.lineTo(Q,x);l.lineTo(-Q,x);l.lineTo(-I,c);l.lineTo(0,0);
l.moveTo(0,0);l.lineTo(0,c);l.fillStyle="white";l.fill();l.stroke();l.fillStyle="black";l.fillRect(-Q-1,x,2*Q+2,6);
l.beginPath();l.arc(0,c-2,2.5,0,2*Math.PI,!1);l.fill();l.rotate(-M);l.translate(24,7);l.beginPath();
if(F=="add"||F=="del"||F=="new"){l.moveTo(-5,0);l.lineTo(5,0);if(F=="add"){l.moveTo(0,-5);l.lineTo(0,5)}if(F=="new"){l.moveTo(-2.5,-4.5);
l.lineTo(2.5,4.5);l.moveTo(2.5,-4.5);l.lineTo(-2.5,4.5)}}else if(F=="fin")l.arc(0,0,5,0,2*Math.PI,!1);
else if(F=="mov"||F=="mva"){for(var O=0;O<4;O++){l.moveTo(0,0);l.lineTo(-7,0);var S=1+d;l.moveTo(-7+S,-S);
l.lineTo(-7,0);l.lineTo(-7+S,S);l.rotate(Math.PI/2)}}l.stroke()}l.restore();var z=new Uint8Array(l.getImageData(0,0,$,$).data.buffer),V=j.j($*$);
j.Eg(z,V,3);var t=j.j($*$),Y=[3,5,3,4,8,4,3,5,3];Y=j.wh.NB(Y);j.wh.rW(V,t,$,$,Y);for(var O=0;O<t.length;
O++)t[O]=Math.min(255,t[O]*2);j.wh.rW(t,V,$,$,Y);for(var O=0;O<V.length;O++)V[O]=Math.min(255,V[O]*2);
var i=z.slice(0);z.fill(255);j.dr(V,z,3);j.v.O5("norm",i,C,z,C,C,1);B.am.awL[F]=r={gf:z,OV:C,u2:new hx(4,4)};
return r};B.mZ=function(){B.QZ.call(this,[10,30],B.Lc,"tools/fpen",!1)};B.mZ.prototype=new B.QZ;B.mZ.prototype.Vy=function(F,r,$,C,M,l){var k=C.length-1,d=Math.sqrt((C[k-1]-C[0])*(C[k-1]-C[0])+(C[k]-C[1])*(C[k]-C[1]))<6/M.bU;
return[j.w.i3(C,d,l),j.EL.QL("customShape",[0,0,1,1],null,null,null,"--")]};B.rE=function(){B._J.call(this,[10,27],B.I6,"tools/pselect");
this.Ne=null;this.K3=!1;this.W6=null;this.zJ=null;this.wk=null;this.wP=null;this.tO=null;this.c_=null;
this.hU=null;this.mp=null};B.rE.prototype=new B._J;B.rE.prototype.j0=function(F){return F.HY};B.rE.prototype.SY=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=F.Ug(),d=k[0],I=k[1],c,Q;
for(var O=0;O<I.length;O++){var x=d[I[O]],U=x.add.vmsk,S=j.w.TJ(U.M,l).Sc;if(S!=-1){this.W6=c=x;Q=S}for(var z=0;
z<U.tn.length;z++){var V=j.w.aop(U.M,U.tn[z]);if(V==null)continue;var t=hx.BV(V,l);if(t<4*B.ha()/F.f.bU){var Y=F.u[x.Sc-1e6].add.TySh,i=Y.$E.Curve,J=Y.U,H=i.Reversed;
i.Reversed=!1;var i=j5.M2(Y.$E.Curve);i.Reversed=H;j.b.U(i[0],J,i[0]);this.hU=[i,z,J.xz*J.G0-J.X*J.gb];
this.W6=c=x;Q=0}}if(this.hU)break}if(c!=null){var U=c.add.vmsk;U.dP=[];var v=U.K.indexOf(Q);if(C.D(ac.il)){if(v==-1){U.K.push(Q);
this.K3=!0}else U.K.splice(v,1)}else{if(v==-1)U.K=[Q];this.K3=!0}this.c_=j.w.t8(U.M,U.K)}this.Ne=l;this.mp=new bC(l);
F.Wk=!0;F.eD=!0};B.rE.prototype.GQ=function(F,r,$,C,M){if(this.Ne==null)return;var l=F.f.Ti(M.x,M.y);
if(this.K3){l=this.mp.VT(l,C);var k=this.W6;if(this.zJ==null){this.zJ=this.wk=k.add.vmsk.P();this.wP=this.tO=JSON.stringify(k.add.vogk);
if(C.D(ac.AH)){var d=this.zJ.P(),I=JSON.parse(this.wP),c=B._J.r$(d,I);B._J.Sk(c,d,I);this.wk=d;this.tO=JSON.stringify(I)}}var d=this.wk.P(),I=JSON.parse(this.tO);
if(this.hU){var Q=this.hU,x=Q[0][0],U=j.b.V7(x,l.x,l.y);d.tn[Q[1]]=Q[0][1][U];var S=x[U*2],z=x[U*2+1],V=(x[U*2+2]-S)*(l.y-z)-(x[U*2+3]-z)*(l.x-S);
if(Q[2]<0)V=-V;d.ag=V>0}else{var t=this.c_.P(),Y=t.x,i=t.y;t.offset(l.x-this.Ne.x,l.y-this.Ne.y);t.x=Math.round(t.x);
t.y=Math.round(t.y);var J=B.qW.gy(F,t,$),H=new hS(1,0,0,1,t.x-Y+J[0],t.y-i+J[1]);j.w.J_(d.M,H,d.K);j.EL.U(I,j.H.TG(H),d.K);
B.qW.YI(F,t,J)}this.bu(F,k.Sc,d,I)}else{var v=this.Ne;F.pu.nW=j.b.Vs(new cS(v.x,v.y,l.x-v.x,l.y-v.y));
F.eD=!0}};B.rE.prototype.pf=function(F,r,$,C,M){if(this.Ne==null)return;var l=F.f.Ti(M.x,M.y),k=this.W6,d=k?k.add.vmsk:null;
if(this.K3){var I=JSON.stringify(k.add.vogk);if(!this.Ne.Mp(l))this.EK(F,"Move Paths",k.Sc,this.zJ,d,null,this.wP,I);
if(F!=null&&F.pu.oj){F.pu.oj=null;F.eD=!0}}else{var c=F.Ug(),Q=c[0],x=c[1];if(x.length!=0){var U=Q[x[0]];
d=U.add.vmsk;var S=this.Ne,z=new cS(S.x,S.y,l.x-S.x,l.y-S.y),V=j.w.agk(d.M,z);if(C.D(ac.il)){for(var O=0;
O<V.length;O++)if(d.K.indexOf(V[O])==-1)d.K.push(V[O])}else d.K=V}F.pu.nW=null;F.eD=!0}this.Ne=null;
this.zJ=null;this.hU=null;this.K3=!1;this.mp=null};B.rE.prototype.ao2=function(F){var r=this.W6,$=this.xB,C=r.add.vmsk,M=r.add.vogk,l=M.length;
if(F=="confirm"){if(C!=this.zJ)this.EK($,[12,94,2],r.Sc,this.zJ,C,null,this.wP,JSON.stringify(M));this.WN();
return}if(F=="cancel"){this.bu(this.xB,this.W6.Sc,this.zJ.P(),JSON.parse(this.wP));this.WN()}else{var C=this.zJ.P(),M=JSON.parse(this.wP);
C.M=j.w.afo(C.M,C.K,F);this.bu(this.xB,this.W6.Sc,C,M)}};B.rE.prototype.WN=function(){this.W6=null;this.zJ=null;
this.Ne=null;this.UJ=this.Ve=-1;this.mp=null};B.rE.prototype.zN=function(F,r,$,C){B._J.prototype.zN.call(this,F,r,$,C);
if($.fp!=this.id)return;if(F.K.length==0)return;var M=F.Ug(),l=M[0],k=M[1];if(k.length==0)return;var d=l[k[0]],I=d.add.vmsk,c=d.add.vstk,Q=d.add.vogk,x=new k6(_.E.c,!0);
x.data={R:_.m.Rl,J:this.id,uT:"main",ey:I?I:null,EL:Q};r.a(x)};B.rE.prototype.Rg=function(F,r,$,C,M){var l=F.Fo;
if(l.ey){var k=$.Ug(),d=k[0],I=k[1];if(I.length==0)return;var c=d[I[0]],Q=c.add.vmsk.P(),x=JSON.stringify(c.add.vogk),U=l.ey;
this.bu($,c.Sc,U,l.EL);var S=[18,5];if(Q.M.length==U.M.length)S=Q.K[0]==U.K[0]?"Fill Rule":"Path Order";
this.EK($,S,c.Sc,Q,U,null,x,JSON.stringify(l.EL))}};B.So=function(){B._J.call(this,[10,28],B.rz,"tools/dselect");
this.UJ=-1;this.Ve=-1;this.IW=null;this.Ne=null;this.bo=null;this.W6=null;this.zJ=null;this.wP=null;
this.MF=0;this.Xe={psnap:!1};this.mp=null};B.So.prototype=new B._J;B.So.prototype.j0=function(F){return F.HY};
B.So.prototype.Rg=function(F){this.Xe=F};B.So.prototype.Y3=function(F,r,$,C,M){if(F.R=="crnr"){if($==null)return;
var l=$.Ug(),k=l[0],d=l[1];if(d.length==0){alert("No paths selected");return}var I=k[d[0]],c=I.add.vmsk;
if(c.dP.length==0){alert("No corners selected");return}for(var O=0;O<c.dP.length;O++){var Q=c.M[c.dP[O]];
if(!Q.Z.Mp(Q.Pj)||!Q.Z.Mp(Q.ni)){alert("Only sharp corners can be rounded");return}}if(this.zJ==null){this.zJ=I.add.vmsk.P();
this.wP=JSON.stringify(I.add.vogk);this.W6=I;this.xB=$}var x=new k6(_.E.c,!0);x.data={R:_.m.Oe,rS:"cornerradius",Ir:5,Oa:this.aEz.bind(this)};
r.a(x)}else B._J.prototype.Y3.call(this,F,r,$,C,M)};B.So.prototype.aEz=function(F){if(F=="confirm"){var r=this.xB,$=this.W6,C=$.add.vmsk,M=$.add.vogk;
this.EK(r,[12,94,0],$.Sc,this.zJ,C,null,this.wP,JSON.stringify(M));this.WN();return}var C=this.zJ.P(),M=JSON.parse(this.wP),l=C.dP;
if(F=="cancel"){}else{var k=[];for(var O=0;O<l.length;O++){var d=l[O],I=j.w.Zt(C.M,d,!0),x=0;if(k.indexOf(I)!=-1)continue;
k.push(I);var c=j.w.ZZ(C.M,I,!0),Q=C.M[c].length,U=[];for(var S=0;S<Q;S++){var z=C.dP.indexOf(c+S+1)==-1?0:F;
U.push(z);if(z!=0)x++}j.w.sU(C.M,c,U);for(var S=0;S<l.length;S++)if(l[S]>c+Q)l[S]+=x}this.p7(C,M);C.dP=[]}this.bu(this.xB,this.W6.Sc,C,M);
if(F=="cancel")this.WN()};B.So.prototype.disable=function(F,r,$,C){this.zW(F)};B.So.prototype.SY=function(F,r,$,C,M){this.zW(F);
var l=F.f.Ti(M.x,M.y),x,U,S;this.IW=l.P();var k=F.Ug(),d=k[0],I=k[1];if(I.length==0)return;var c=B.A7(F,M),Q=new cS(l.x-c,l.y-c,c*2,c*2);
for(var z=0;z<I.length;z++){x=this.W6=d[I[z]];U=x.add.vmsk;S=j.w.Po(U.M,Q);if(S[0].length+S[1].length+S[2].length!=0)break}var V=[!1,!1,!1];
for(var O=0;O<3;O++){for(var t=0;t<S[O].length;t++){var Y=S[O][t],i=U.M[Y];if(U.dP.indexOf(Y)!=-1||O==1&&U.dP.indexOf(Y-1)!=-1&&!i.Z.Mp(i.ni)||O==2&&U.dP.indexOf(Y+1)!=-1&&!i.Z.Mp(i.Pj)){S[O]=[Y];
V[O]=!0;break}}}if(S[0].length!=0&&(V[0]||!V[1]&&!V[2])){var J=S[0][0],H=U.dP.indexOf(J);if(C.D(ac.il)){if(H==-1)U.dP.push(J);
else{U.dP.splice(H,1);F.eD=!0;return}}else if(H==-1)U.dP=[J];this.UJ=J;this.Ve=0}else if(S[1].length!=0&&V[1]){this.UJ=S[1][0];
this.Ve=1}else if(S[2].length!=0&&V[2]){this.UJ=S[2][0];this.Ve=2}else{var v=j.w.TJ(U.M,l,!0,c);if(v.Sc==-1)this.Ne=l;
else{this.bo=v;var n=j.w.ZZ(U.M,v.Sc);U.K=[v.Sc];U.dP=[n+1+v.uP]}}if(this.zJ==null){this.zJ=x.add.vmsk.P();
this.wP=JSON.stringify(x.add.vogk)}this.mp=new bC(l);F.eD=!0};B.So.prototype.GQ=function(F,r,$,C,M){if(F==null)return;
var l=F.f.Ti(M.x,M.y),k=this.W6;if(this.UJ!=-1){var d=this.zJ.P(),I=k.add.vogk,c=d.M[this.UJ];c=[c.Z,c.ni,c.Pj][this.Ve];
if(C.D(ac.il)){if(this.Ve==0){l=this.mp.VT(l,C);l.x+=c.x-this.IW.x;l.y+=c.y-this.IW.y}else l=B.dC.wr(d.M[this.UJ].Z,l)}else{if(this.Xe.psnap){l.x=Math.round(l.x);
l.y=Math.round(l.y)}l=B.qW.aU(F,l,$)}if(this.Ve==0){var Q=new hS(1,0,0,1,l.x-c.x,l.y-c.y);j.w.J_(d.M,Q,null,d.dP)}else{var x=d.M[this.UJ];
if(C.D(ac.AH)&&(x.I==1||x.I==4))x.I++;B.So.UU(x,l,this.Ve==1)}this.p7(d,I);this.bu(F,k.Sc,d,I)}else if(this.Ne!=null){var U=this.Ne;
F.pu.nW=j.b.Vs(new cS(U.x,U.y,l.x-U.x,l.y-U.y));F.eD=!0}else if(this.bo!=null){var d=this.zJ.P(),I=k.add.vogk,S=this.bo,z=this.IW,V=j.w.ZZ(d.M,S.Sc),t=d.M[V].length,Y,i=S.Vl;
if(i<=1/6)Y=0;else if(i<=.5)Y=Math.pow((6*i-1)/2,3)/2;else if(i<=5/6)Y=(1-Math.pow((6*(1-i)-1)/2,3))/2+.5;
else Y=1;var J=l.x-z.x,H=l.y-z.y,v=(1-Y)/(3*i*(1-i)*(1-i)),n=Y/(3*i*i*(1-i)),G=d.M[V+1+S.uP];G.Pj.offset(v*J,v*H);
var g=d.M[V+1+(S.uP+1)%t];g.ni.offset(n*J,n*H);B.So.UU(G,G.Pj,!1);B.So.UU(g,g.ni,!0);this.p7(d,I);this.bu(F,k.Sc,d,I)}else{var W=F.Ug(),L=W[0],b=W[1],k,d,R;
if(b.length==0)return;var T=B.A7(F,M),a=new cS(l.x-T,l.y-T,T*2,T*2);for(var D=0;D<b.length;D++){k=L[b[D]];
d=k.add.vmsk;R=j.w.Po(d.M,a);if(R[0].length+R[1].length+R[2].length!=0)break}this.zW(F);for(var O=0;
O<3;O++){for(var h=0;h<R[O].length;h++){var K=R[O][h],X=d.M[K];X=O==0?X.Z:O==1?X.ni:X.Pj;F.pu.Qu.push(X.x,X.y);
F.eD=!0}}}};B.So.prototype.zW=function(F){if(F&&F.pu.Qu.length!=0){F.pu.Qu=[];F.eD=!0}};B.So.prototype.pf=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=this.W6,d=k?k.add.vmsk:null,I=k?k.add.vogk:null;
if(this.UJ!=-1||this.bo){if(Date.now()-this.MF<300){var c=d.M[this.UJ],Q=this.Ve,x=null;if(Q==0){var U=c.ni.Mp(c.Z),S=c.Pj.Mp(c.Z);
if(!U&&!S){x="Anchor Type";if(c.I==1||c.I==4)c.I++;else{c.I--;c.Pj=c.Z.add(c.Z.Q1(c.ni))}}else{x="Add Handles";
if(U&&S){c.ni.x-=30;c.Pj.x+=30}else if(U)c.ni=c.Z.add(c.Z.Q1(c.Pj));else if(S)c.Pj=c.Z.add(c.Z.Q1(c.ni))}}else{x="Remove Handle";
if(Q==1)c.ni.qk(c.Z);else c.Pj.qk(c.Z)}this.p7(d,I);this.bu(F,k.Sc,d,I);this.EK(F,x,k.Sc,this.zJ,d,null,this.wP,JSON.stringify(I))}else if(this.bo||!this.IW.Mp(l)){this.EK(F,"Drag Anchors",k.Sc,this.zJ,d,null,this.wP,JSON.stringify(I))}this.bo=null;
this.MF=Date.now()}else if(this.Ne!=null){var z=this.Ne,V=new cS(z.x,z.y,l.x-z.x,l.y-z.y);if(V.r<0)V.x+=V.r;
if(V.$<0)V.y+=V.$;V.r=Math.abs(V.r);V.$=Math.abs(V.$);var t=j.w.Po(d.M,V);d.dP=t[0].concat(C.D(ac.il)?d.dP:[]);
F.pu.nW=null}this.WN();F.eD=!0};B.So.prototype.WN=function(){this.W6=null;this.zJ=null;this.Ne=null;
this.UJ=this.Ve=-1;this.mp=null};B.So.prototype.p7=function(F,r){for(var O=0;O<F.dP.length;O++){var $=j.w.Zt(F.M,F.dP[O]);
j.EL.bv(r,$)}};B.So.prototype.JG=function(F,r,$,C){if(F==null)return;var M=F.Ug(),l=M[0],k=M[1];if(k.length==0)return;
var d=l[k[0]],I=d.add.vmsk;if(I==null||I.dP.length==0)return;var c=d.add.vogk,Q=JSON.stringify(c),x=C.ii(F?F.f.K$:0);
if(x.x!=0||x.y!=0){var U=I.P(),S=I.P(),z=new hS(1,0,0,1,x.x,x.y);j.w.J_(S.M,z,null,S.dP);this.p7(S,c);
this.bu(F,d.Sc,S,c);this.EK(F,"Move Anchors",F.K[0],U,S.P(),!0,Q,JSON.stringify(c))}if(C.D(ac.g7)||C.D(ac.Qh))this.Y3({R:"remove",yj:!0,a4H:!0},r,F,C,$)};
B.So.prototype.EK=function(F,r,$,C,M,l,k,d){var I=F.pg();if(l&&I!=null&&I.J==this&&I.data.aGu&&I.data.Zu==$&&JSON.stringify(I.data.h5.dP)==JSON.stringify(C.dP)){I.data.Nm=M;
I.data.Dl=d}else{var I=new fH(r,this);I.data={Zu:$,h5:C,Nm:M,aGu:l,auE:k,Dl:d};F.gg(I)}};B.So.UU=function(F,r,$){var C=F.ni,M=F.Pj;
if(!$){C=F.Pj;M=F.ni}C.I_(r.x,r.y);if(F.I==1||F.I==4){var l=hx.BV(C,F.Z),k=hx.BV(M,F.Z);if(k!=0){M.x=F.Z.x-(C.x-F.Z.x)*(k/l);
M.y=F.Z.y-(C.y-F.Z.y)*(k/l)}}};B.Rect=function(){B.QZ.call(this,[10,32],B.fA,"tools/rect",!0)};B.Rect.prototype=new B.QZ;
B.Rect.prototype.Vy=function(F,r,$){var C=this.N8.crad,M=r.x-F.x,l=r.y-F.y;return[j.w.tQ.Rect(F.x,F.y,M,l,C),j.EL.QL("Rctn",[F.x,F.y,r.x,r.y],[C,C,C,C])]};
B.jI=function(){B.QZ.call(this,[10,33],B.uh,"tools/ellipse",!0)};B.jI.prototype=new B.QZ;B.jI.prototype.Vy=function(F,r,$){var C=r.x-F.x,M=r.y-F.y;
return[j.w.tQ.jI(F.x,F.y,C,M),j.EL.QL("Elps",[F.x,F.y,r.x,r.y])]};B.t0=function(){B.QZ.call(this,[10,34],B.p5,"tools/pshape",!1);
this.N8.aopts=[!1,!0,50,100,0]};B.t0.prototype=new B.QZ;B.t0.prototype.Vy=function(F,r,$){var C=this.N8.pshape,M=this.N8.crad,l=this.N8.irad/100,k=this.N8.sides,d=this.N8.width,I=this.N8.aopts,c=this.N8.length,Q=this.N8.rows,x=this.N8.cols,U=this.N8.brdr,J;
r=r.P();var S=F.x,z=F.y,V=r.x,t=r.y,Y=Math.sqrt((V-S)*(V-S)+(t-z)*(t-z)),i=Math.atan2(-t+z,V-S);if($)i=Math.round(i*180/Math.PI/15)*15*Math.PI/180;
if(C==0)J=j.w.tQ.Kx(S,z,Y,i,k,M);if(C==1)J=j.w.tQ.aqC(S,z,Y,i,k,M,l);if(C==2)J=j.w.tQ.ns(F.x,F.y,r.x,r.y,d,I);
if(C==3){if(S>V){var H=S;S=V;V=H}if(z>t){var H=z;z=t;t=H}if($){if(x>Q)t=z+(V-S-U)*Q/x+U;else V=S+(t-z-U)*x/Q+U}J=j.w.tQ.alK(S,z,V,t,Q,x,U)}if(C==4)J=j.w.tQ.akW(S,z,Y,i,c);
return[J,j.EL.QL("customShape",[F.x,F.y,r.x,r.y],null,null,null,"--")]};B.t0.prototype.JG=function(F,r,$,C){B.QZ.prototype.JG.call(this,F,r,$,C);
var M=C.ii(),l=this.N8,k,d;if(M.y!=0){var I=-M.y,c=l.pshape;if(c<2){k="sides";d=Math.max(3,Math.min(100,l.sides+I))}else if(c==2){k="width";
d=Math.max(1,Math.min(100,l.width+I))}else if(c==3){k="length";d=Math.max(4,Math.min(40,l.length+I))}}if(M.x!=0){k="pshape";
d=Math.max(0,Math.min(3,l.pshape+M.x))}if(k){var Q=new k6(_.E.c,!0),x={};x[k]=d;l[k]=d;Q.data={R:_.m.Rl,J:this.id,vz:"vals",aqH:x};
r.a(Q);this.GQ(F,r,$,C)}};B.YN=function(){B.QZ.call(this,[10,35],B.EY,"tools/line",!1)};B.YN.prototype=new B.QZ;
B.YN.prototype.Vy=function(F,r,$){var C=this.N8.width,M=this.N8.aopts;r=r.P();if($){r=B.dC.wr(F,r)}if(gw==1)C=0;
return[j.w.tQ.ns(F.x,F.y,r.x,r.y,C,M),j.EL.QL("Ln",null,null,[F.x,F.y,r.x,r.y],C,null,M)]};B.ZS=function(){B.QZ.call(this,[10,31],B.Y7,"tools/cshape",!0)};
B.ZS.prototype=new B.QZ;B.ZS.prototype.Vy=function(F,r,$){var C=this.N8.shape,M=C.sc.r/C.sc.$,l=Z.kf.I4(C.M);
r=r.P();if($){r.y=F.y+(r.x-F.x)/M}var k=r.x-F.x,d=r.y-F.y;j.w.J_(l,new hS(k,0,0,d,F.x,F.y));return[l,j.EL.QL("customShape",[F.x,F.y,r.x,r.y],null,null,null,C.tV)]};
B.hL=function(F,r,$){B.m9.call(this,F,r,$);this.n5=0;this.u=null;this.ss=null;this.e=null;this.J4=1;
this.eu=0;this.G6=!0;this.vv=!1;this.cursor=null;this.A_=null;this.lS=null;this.Cf=!1;this.FB=null;this.asJ=0;
this.g1=null;this.xC=0;this.yy=null;this.qb=null;this.JN=null;this.DY=null;this.a9S=null;this.H9=null};
B.hL.prototype=new B.m9;B.hL.Gy=function(F,r,$){var C={classID:"null",null:cQ.sZ($?"Lyr":"Dcmn",!0)};
if(F)C.Angl={t:"UntF",v:{type:"#Ang",val:r}};else C.Axis={t:"enum",v:{Ornt:r}};return{hE:F?"rotateEventEnum":"flip",iH:C}};
B.hL.prototype.ql=function(F,r,$,C,M){var l=new k6(_.E.c,!0);l.data={R:_.m.Rl,J:this.id,z6:M,hg:F,e:$};
r.a(l);this._j=!1};B.hL.prototype.j0=function(F){return this.qb&&this.qb.asn()};B.hL.prototype.Y3=function(F,r,$,C,M){this.e=M;
if(F.R=="again"&&this.g1==null)return;if(F.R=="cmode"){if($.depth==F.Y)return;var l=B.hL._E($),k=B.hL.eq($,l,!0),d=new fH("Mode: "+$.depth+"-Bit to "+F.Y+"-Bit",this);
d.data={I:0,u:l,ss:k,wO:!0,depth:$.depth};$.gg(d);B.hL.akS($,l,F.Y);return}if(F.R=="cprof"){var I=$.XF(),l,k;
I=I?I[0]:null;var c=kQ.lG[kQ.Bk.indexOf(F.Y)];if(c)c=dN.Sd.get(c);if(F.aiP){l=B.hL._E($);k=B.hL.eq($,l,!0)}var d=new fH((l?"Convert To":"Assing")+" Profile: "+(c?F.Y:"sRGB"),this);
d.data={I:0,u:l,ss:k,wO:!0,k_:[I]};$.gg(d);if(F.aiP)B.hL.asA($,l,c);$.u4(c);return}if(!this.aa($,M))return;
if(this.qb){this.anC(F,this.qb.pE(),r,$,C,M);this.Gw($,M,0,!0);this.AP($);return}this.at$($,F.z==null,F.z);
this.aBC($);this.anC(F,F.ak_,r,$,C,M);this.NY($,r,F.qc,!1)};B.hL.prototype.anC=function(F,r,$,C,M,l){var k=F.lT!=null?F.lT:4;
this.qb.aon(k);if(r==null)r=this.qb.pE();var d=this.yy,I=r.x,c=r.y;if(F.R=="rot"&&F.Y!=Math.PI&&(d.r+d.$&1)==1){I=Math.floor(I);
c=Math.floor(c)}var Q=new hS;Q.translate(-I,-c);if(F.R=="rot")Q.rotate(F.Y);if(F.R=="scl")Q.scale(F.Y.x,F.Y.y);
if(F.R=="mat")Q.concat(F.Y);Q.translate(I,c);if(F.R=="again")Q=this.g1;var x=j.H.TG(Q);if(F.R=="dtr"){var U=j.H;
x=U.MV(F.Y,U.j(-I,-c));x=U.MV(U.j(I,c),x)}var S=this.qb.Ju();j.H.U(x,S);this.qb.c2(S);if(k==9)this.qb.azG(r);
if(F.gs){var z=F.gs.v;this.Rg({uT:"switchWarp"},$,C,M);this.Rg({uT:"wrp",gs:z},$,C,M)}};B.hL.prototype.fV=function(){return!0};
B.hL.prototype.aa=function(F,r,$){if(F==null)return!1;if(this.id==B.VB)return F.d!=null;var C=F.UY(!0,null,null,!0);
if(this.id==B.Mw&&F.u[C[0]].S.XS()){alert("Layer is empty.");return!1}if(F.tk.length!=0)return!0;for(var O=0;
O<C.length;O++){var M=F.u[C[O]];if(M.aV(2)||M.aV(31)){alert(dG.get([6,57,0]));return!1}if(M.add.artb){alert("You can not transform the whole artboard");
return!1}if(M.add.TySh)if(!dJ._H(M.add.TySh,r.v7))return!1;if(M.add.SoLd){if(C.length==1&&($&&$.IL==-1)&&(M.rc()&&M.rc().N9||M.add.vmsk&&M.add.vmsk.N9)){alert("Unlink masks before transforming Smart Object");
return!1}if(!F.ato(M.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+F.up(M.add.SoLd.Idnt.v).fO+")");
return!1}}}if(F.d==null)return!0;if(!F.DI())return!1;return F.aHP()};B.hL.prototype.SY=function(F,r,$,C,M){var l=this.w9(M,F),k=l[0],d=l[1],I=this.xC==0?this.qb:this.JN;
F.f.bU*=d;this.vv=I.SY(F,$,C,k,null,null,M);if(!this.vv&&gw==1){this.NY(F,r,null,!0);return}this.AP(F,k);
F.f.bU/=d;if(this.vv&&I._k(k)){if(Date.now()-this.asJ<250)this.NY(F,r,null,!0);this.asJ=Date.now()}};
B.hL.prototype.Sx=function(F){var r=new k6(_.E.c,!0);r.data={R:_.m.yz,P5:this.cursor};F.a(r)};B.hL.prototype.w9=function(F,r){var $=1;
F=r.f.Ti(F.x,F.y);if(this.xC==1){var C=j.H.e0(this.qb.Ju(),this.yy);$=j.H.fR(C).w5();var M=j.H.v4(C);
F=j.H.ao$(M,F)}return[F,$]};B.hL.prototype.GQ=function(F,r,$,C,M){var l=this.w9(M,F),k=l[0],d=l[1],I=this.xC==0?this.qb:this.JN;
if(!M.HY){var c="default";if(I){var Q=I.cb(k,F.f.bU*d,null,M);if(Q)c=Q}if(c!=this.cursor){this.cursor=c;
this.Sx(r)}if(this.JN){this.AP(F,k)}}if(!this.vv)return;F.f.bU*=d;var x=this.J1=I.GQ(F,$,C,k,this.G6);
F.f.bU/=d;this.Gw(F,$,0,!0);this.AP(F,k);this.Eh(r,null,F)};B.hL.prototype.pf=function(F,r,$,C,M){var l=this.w9(M,F),k=l[0],d=l[1];
this.qb.pf(F,$,C,k);if(this.JN){var I=this.JN.pf(F,$,C,k);if(I){this.Eh(r,!0,F);this.AP(F)}}if(this.J1){var c=this.XR(),Q=j.b.Vs(this.yy).n;
j.H.U(c,Q);this.qb.c2(Q);this.J1=null}this.vv=!1};B.hL.prototype.JG=function(F,r,$,C){if(C.D(ac.t7))this.NY(F,r,null,!0);
else if(C.D(ac.Pl))this.Dk(F,r);else{var M=this.qb.JG(F,$,C);if(M){this.Gw(F,$,0,!0);this.Eh(r,null,F)}}};
B.hL.prototype.Rg=function(F,r,$,C){if(F.uT=="commit")this.NY($,r,null,!0);else if(F.uT=="cancel")this.Dk($,r);
else if(F.uT=="switchWarp"){this.xC=1-this.xC;this.a5m();this.AP($);this.Eh(r,null,$)}else if(F.uT=="wrp"){this.JN.aqi(F.gs);
this.AP($);this.Gw($,this.e,0,!0)}else if(F.uT=="splt")this.JN.ajV(F.Y);else if(F.uT=="ctyp"){this.qb.aon(F.MT);
this.AP($);this.Eh(r,null,$)}else if(F.uT=="cen"){this.qb.azG(F.u2);this.AP($);this.Gw($,this.e,0,!0)}else if(F.uT=="trn"){var M=j.H.TG(F.cU),l=this.yy,k=j.H.e0(this.qb.Ju(),this.yy);
M[6]=k[6],M[7]=k[7];var d=[l.x,l.y,l.x+l.r,l.y,l.x+l.r,l.y+l.$,l.x,l.y+l.$];j.H.U(M,d);this.J4=F.J4;
if(F.eu!=this.eu){this.eu=F.eu;this.a1C($)}this.G6=F.G6;this.qb.c2(d);this.AP($);this.Gw($,this.e,0,!0)}};
B.hL.prototype.AP=function(F,r){if(this.xC==0)this.qb.TF(F,this.e);else{this.JN.TF(F,r);var $=this.XR();
j.H.U($,F.pu.O_.n);j.H.U($,F.pu.B0);j.H.U($,F.pu.P8)}};B.hL.prototype.NY=function(F,r,$,C){this.Gw(F,this.e,this.J4);
var M=new fH($?$:this.name,this);if(this.n5==0)M.data={I:this.n5,u:this.u,ss:this.ss};else if(this.n5==1){var l=F.u[this.u[0]],k;
if(l.Z5.Go<=0){k=j.j(l.Z5.wp.C(),F.depth);j.Eg(l.Z5.$z,k,3)}else k=F.d.G;var d={S:l.Z5.wp.P(),G:k};M.data={I:this.n5,z:this.u[0],lS:this.lS,xP:d,A_:this.A_,Cf:this.Cf,Z5:l.Z5,FB:this.FB,PL:{OV:l.Z5.wp,PF:l.Z5.$z}}}else if(this.n5==2){M.data={I:this.n5,lS:this.lS,xP:{S:F.d.S.P(),G:F.d.G.slice(0)}}}F.gg(M);
var I=j.H.e0(this.qb.Ju(),this.yy),c=this.ss,Q=c?c[0]:null;if(c&&c.length==1&&Q[4]){var x=B.hL.$M(Q[4].nonAffineTransform),U=j.b.sY(j.gd.YR(Q[4].quiltWarp.v)[3]),S=j.H.e0(x,U);
I=j.H.MV(I,j.H.v4(S))}var z=this.JN?this.JN.XH():null;if(z&&j.gd.sp(z))z=null;var V=this.qb.Ju();j.H.U(j.H.v4(I),V);
var t=this.qb.pE(V),Y=j.H;I=Y.MV(Y.MV(Y.j(-t.x,-t.y),I),Y.j(t.x,t.y));var i=B.hL.atF(I,this.qb.Ka,t,z);
if(this.id==B.VB)i.null.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};this._s=r;this.track({hE:"transform",iH:i});
this.escape(F,r,C)};B.hL.aD6={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3};B.hL.atF=function(F,r,$,C){var M=j.H.fR(F),l=M.P6,k=M.jw,d=-Math.atan2(-M.X,M.xz),c="Qcsi";
M.rotate(d);function I(S,z){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][z],val:S}}}var Q=B.hL.aD6;
for(var x in Q)if(Q[x]==r)c=x;var U={classID:"null",null:cQ.sZ("Lyr",!0),FTcs:{t:"enum",v:{QCSt:c}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:I(l,0),Vrtc:I(k,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:I(Math.atan(M.gb/M.G0)*180/Math.PI,2),Vrtc:I(0,2)}},Usng:{t:"Objc",v:{classID:"Pnt",Hrzn:I(100*F[6],1),Vrtc:I(100*F[7],1)}},Wdth:I(M.xz*100,1),Hght:I(M.G0*100,1),Angl:I(d*180/Math.PI,2)};
if(r==9)U.Pstn={t:"Objc",v:{Hrzn:I($.x,0),Vrtc:I($.y,0)}};if(C)U.quiltWarp={t:"Objc",v:C};return U};
B.hL.awv=function(F){var r=1,$=1,C=0,M=0,l=0,k=0,d=0,U=null,S=null;if(F.Wdth)r=F.Wdth.v.val/100;if(F.Hght)$=F.Hght.v.val/100;
if(F.Skew){var I=F.Skew.v;C=I.Hrzn.v.val;M=I.Vrtc.v.val}if(F.Ofst){var c=F.Ofst.v;k=c.Hrzn.v.val;d=c.Vrtc.v.val}if(F.Angl)l=F.Angl.v.val;
var Q=new hS;Q.concat(new hS(r,r*Math.tan(M*Math.PI/180),$*Math.tan(C*Math.PI/180),$,0,0));Q.rotate(-l*Math.PI/180);
Q.translate(k,d);var x=j.H.TG(Q);if(F.Usng){var c=F.Usng.v;x[6]=c.Hrzn.v.val/100;x[7]=c.Vrtc.v.val/100}var z=F.FTcs.v.QCSt;
if(z=="Qcsi"){var V=F.Pstn.v;U=new hx(V.Hrzn.v.val,V.Vrtc.v.val);S=9}else S=B.hL.aD6[z];return{R:"dtr",lT:S,Y:x,gs:F.warp,ak_:U}};
B.hL.prototype.Dk=function(F,r){if(this.n5==0)B.hL.ait(F,this.u,this.ss);else if(this.n5==1){var $=F.u[this.u[0]];
F.d=this.lS;if(!this.Cf){$.Z5.wp=this.FB.OV;$.Z5.$z=this.FB.PF;$.C6(F,0,0,F.d)}else{$.ip(F,this.A_)}F.vM();
F.Dn=!0}else if(this.n5==2){F.d=this.lS;F.Dn=!0}this.escape(F,r,!0)};B.hL.prototype.escape=function(F,r,$){this.qb.clear(F);
if(this.JN)this.JN.clear(F);this.qb=null;this.JN=null;this.H9=null;this.xC=0;if($)this.pl(r,_.E.c,{R:_.m.oa})};
B.hL.prototype.mY=function(F,r){if(F.I==0)B.hL.rd(r,F);else{if(F.I==1){var $=r.u[F.z];if(F.Cf){$.Z5=F.Z5}else{$.Z5.wp=F.PL.OV;
$.Z5.$z=F.PL.PF}$.C6(r,0,0,r.d);r.vM()}r.d={S:F.xP.S.P(),G:F.xP.G.slice(0)};r.Dn=!0}};B.hL.prototype.Ea=function(F,r){if(F.I==0)B.hL.rd(r,F);
else{if(F.I==1){var $=r.u[F.z];if(F.Cf){$.ip(r,F.A_)}else{$.Z5.wp=F.FB.OV;$.Z5.$z=F.FB.PF;$.C6(r,0,0,r.d)}r.vM()}r.d=F.lS;
r.Dn=!0}};B.hL.prototype.at$=function(F,r,$){F.Ug();var C=[];if($==null)for(var O=0;O<F.tk.length;O++)if(F.S8[F.tk[O]].add.vmsk.M.length>2)C.push(-1-F.tk[O]);
var M=[],l=F.f.BS;if(l[0]+l[1]+l[2]==3)if($!=null||C.length==0||F.dy!=null&&F.dy.length!=0){if(F.K.length==1){var k=F.u[F.K[0]];
if(k.EX()&&k.aq)M=[F.K[0]]}if(M.length==0)M=F.UY(r,$,null,!0)}M=M.concat(C);for(var O=0;O<F.GY.length;
O++)M.push(-1e3-F.GY[O]);this.u=M};B.hL.prototype.enable=function(F,r,$,C,M,l){if(this.cursor==null)this.cursor="default";
this.Sx(r);if(this.qb)return;this.e=$;this.at$(F,!0);this.aBC(F,l&&l.IL!=null&&l.IL!=-1?l.IL:null);this.Eh(r,null,F);
this.AP(F);if(l&&l.IL==-1)this.Rg({uT:"switchWarp"},r,F,C)};B.hL.prototype.tY=function(){return this.G6?null:[0]};
B.hL.prototype.jN=function(F,r,$){if(F&&F[0]!=null)this.G6=F[0]==1};B.hL.prototype.Eh=function(F,r,$){var C={R:_.m.Rl,J:this.id};
if(this.xC==0){var M=j.H.e0(this.qb.Ju(),this.yy),l=j.H.fR(M);C.cU={VF:l,MT:this.qb.aD4(),u2:this.qb.pE(),OV:this.yy.P(),G6:this.G6}}else{C.ayv=r;
C.gs=this.JN.XH()}if($){C.Bs=["---"];for(var O=0;O<$.Bs.length;O++)C.Bs.push($.Bs[O].name)}C.a5k=this.JN!=null;
C.afX=!1;if($)for(var O=0;O<$.K.length;O++){var k=$.u[$.K[O]];if(!(k.add.SoLd||k.add.TySh||k.Og()||k.EX()))C.afX=!0}this.pl(F,_.E.c,C)};
B.hL.prototype.aBC=function(F,r){var $=this.id==B.VB,C=!0,M=this.u[0],l=F.u[M],d=null,I=null,c=null,U=null;
if($){this.n5=2;this.lS=F.d}else if(F.d&&this.u.length==1&&M>=0&&!l.S.XS()){this.n5=1;this.lS=F.d;this.A_=l.Z5;
this.Cf=!1;if(!l.Kr(F,F.d)){this.Cf=!0;l.hO(F,F.d,!1)}this.FB={PF:l.Z5.$z,OV:l.Z5.wp}}else{this.n5=0;
this.ss=B.hL.eq(F,this.u,null);for(var O=0;O<this.ss.length;O++)if(this.ss[O][3]!=null)C=!1}var k=this.n5==1;
if(this.ss&&this.ss.length==1){var Q=this.ss[0];if(Q[2]!=null)I=Q[2].ey;if(Q[3]==null)k=!0;if(Q[3]!=null)c=Q[3];
if(Q[4]!=null){d=F.u[this.u[0]].add.SoLd;if(Q[1]||Q[2])k=!1}}var x=$?F.d.S.P():B.hL.y2(F,this.u);this.yy=x;
if(!$&&I&&gw==1){U=I.g3();this.DY=j.H.e0(U,this.yy)}else if(!$&&c&&gw==1){var S=F.u[this.u[0]],c=S.add.TySh;
U=j.b.Vs(S.FM.gt).n;j.b.U(U,c.U,U);this.DY=j.H.e0(U,this.yy)}else if(!$&&d){U=B.hL.$M(d.nonAffineTransform);
this.yy=j.b.sY(j.gd.YR(d.quiltWarp.v)[3]);if(k)this.JN=new ay(d.quiltWarp.v);this.DY=j.H.e0(U,this.yy)}else{if(k||$)this.JN=new ay(j.gd.j(this.yy));
this.DY=[1,0,0,0,1,0,0,0];if(this.id==B.Mw)r=3;U=[x.x,x.y,x.x+x.r,x.y,x.x+x.r,x.y+x.$,x.x,x.y+x.$]}this.qb=new aY(U,!0,!0,C,!1,!1,r);
this.a9S=[1,0,0,0,1,0,0,0];this.a1C(F)};B.hL.prototype.a1C=function(F){if(this.id==B.Mw){var r,$,l=null;
if(this.ss&&F.d==null){var C=this.ss[0][0],M=C.Ky;r=M[0];$=M[1]}else if(this.FB){r=this.FB.PF;$=this.FB.OV}if(this.eu!=0)l=F.Bs[this.eu-1].JL($);
this.H9=j.D1.akX(j.Mz(r,8),$.r,$.$,l)}};B.hL.y2=function(F,r){if(r==null)r=F.UY(!0,null,null,!0);var $=new cS,C=new cS;
if(F.d&&r.length==1&&r[0]>=0)$=F.d.S.P();else for(var O=0;O<r.length;O++){var M=r[O],l=0<=M?F.u[M]:-1e3<M?F.S8[-1-M]:F.Bs[-1e3-M],k=l.add?l.add.vmsk:null,d=0<=M?l.Xl(F,r.length==1,!1,!0):-1e3<M?j.w.t8(k.M,r.length==1&&k.K.length!=0?k.K:null):l.S.P();
$=$.DM(d);if(M>0&&l.add.artb)C=C.DM(l.dh())}if(!C.XS())return C;if($.r==0){if($.$==0)return $;$.x-=10;
$.r+=20}if($.$==0){$.y-=10;$.$+=20}return $};B.hL.prototype.pl=function(F,r,$,C){var M=new k6(r,!0);
M.data=$;if(C)M.J=C;F.a(M)};B.hL._E=function(F){var r=[];for(var O=0;O<F.u.length;O++)r.push(O);for(var O=0;
O<F.S8.length;O++)r.push(-1-O);for(var O=0;O<F.Bs.length;O++)r.push(-1e3-O);return r};B.hL.eq=function(F,r,$){var C=[];
for(var O=0;O<r.length;O++){var M=r[O],l,k;if(M>=0){l=F.u[M];k=l.Wb(F,$,!0)}else if(M>-1e3){l=F.S8[-1-M];
k=[2]}else{C.push([null,null,null,null,null,null,null,F.Bs[-1e3-M].P()]);continue}var d=[],I=k.indexOf(0)!=-1;
if(I){var c={Ky:l.add.SoLd?null:[l.buffer.slice(0),l.S.P()]};d.push(c);if(l.XE()){var Q=l.WZ(F);c.aAv=Q.buffer.slice(0);
c.ay4=Q.S.P()}}else d.push(null);if(k.indexOf(1)!=-1)d.push(l.rc().P());else d.push(null);if(k.indexOf(2)!=-1)d.push({ey:l.add.vmsk.P(),Ok:l.add.vstk?j.N(l.add.vstk):null,v$:l.add.vstk?cK.Cj(F.u[M].add):null,Jn:l.add.vstl?JSON.stringify(l.add.vstl):null,EL:l.add.vogk?j.N(l.add.vogk):null});
else d.push(null);if(l.add.TySh&&I){ho.tq(l.add.TySh);d.push(l.add.TySh.U.P())}else d.push(null);if(l.add.SoLd&&I)d.push(j.N(l.add.SoLd));
else d.push(null);if(k.indexOf(3)!=-1)d.push(l.WZ(F).Lj.P());else d.push(null);if(l.add.lmfx)d.push(JSON.stringify(l.add.lmfx));
else d.push(null);C.push(d)}return C};B.hL.ait=function(F,r,$){for(var O=0;O<r.length;O++){var C=r[O],M=0<=C?F.u[C]:-1e3<C?F.S8[-1-C]:F.Bs[-1e3-C],l=$[O];
if(l[0]){if(l[0].Ky){M.S=l[0].Ky[1].P();M.buffer=l[0].Ky[0].slice(0)}if(M.XE()){var k=M.WZ(F);k.buffer=l[0].aAv.slice(0);
k.S=l[0].ay4.P()}}if(l[1]){M.rc().G=l[1].G.slice(0);M.rc().S=l[1].S.P();M.rc().qX=!0}if(l[2]){M.add.vmsk=l[2].ey.P();
if(l[2].v$)cK.kt(M.add,l[2].v$);if(l[2].Ok)M.add.vstk=j.N(l[2].Ok);if(l[2].EL)M.add.vogk=j.N(l[2].EL);
if(l[2].Jn)M.add.vstl=JSON.parse(l[2].Jn)}if(l[3]){M.add.TySh.U=l[3].P();ho.iC(M.add.TySh)}if(l[4]){M.add.SoLd=j.N(l[4])}if(l[5]){var d=M.WZ(F).Lj;
d.G=l[5].G.slice(0);d.S=l[5].S.P()}if(l[6]){M.add.lmfx=JSON.parse(l[6])}if(l[7]){M.G=l[7].G.slice(0);
M.S=l[7].S.P();M.qX=!0}if(0<=C){M.uH(F);M.vM();if(l[4])M.d7(F,!1)}}F.vM()};B.hL.akS=function(F,r,$){F.depth=$;
F.buffer=j.j(F.r*F.$*4,$);for(var O=0;O<r.length;O++){var C=r[O];if(0<=C){var M=F.u[C],l=M.rc();if(l){l.G=j.Mz(l.G,$);
l.qX=!0}if(M.add.vmsk)M.add.vmsk.qX=!0;if(M.Og())M.uH(F);else if(M.add.SoLd){if(M.XE()){var k=M.WZ(F),l=k.Lj;
if(l){l.G=j.Mz(l.G,$);l.qX=!0}}M.d7(F)}else M.buffer=j.Mz(M.buffer,$);M.vM()}else if(-1e3<C){}else{var l=F.Bs[-1e3-C];
l.G=j.Mz(l.G,$)}}F.vM()};B.hL.asA=function(F,r,$){var C,M,l=17,k=F.XF();if(k){l=k[2];C=k[3].slice(0)}if($){var d=ICC.R($.buffer);
M=ICC.U.sampleLUT(d,l,!0)}for(var O=0;O<r.length;O++){var I=r[O];if(0<=I){var c=F.u[I];if(c.Og())c.uH(F);
else if(c.add.SoLd){}else{if(C)ICC.U.applyLUT(C,l,c.buffer,c.buffer);if(M)ICC.U.applyLUT(M,l,c.buffer,c.buffer)}c.vM()}}F.vM()};
B.hL.rd=function(F,r){if(r.k_){var $=F.XF();F.u4(r.k_[0]);r.k_=[$?$[0]:null]}if(r.u==null)return;var C=B.hL.eq(F,r.u,r.wO);
if(r.depth!=null){var M=r.depth;r.depth=F.depth;F.depth=M;F.buffer=j.j(F.r*F.$*4,F.depth);F.vM()}B.hL.ait(F,r.u,r.ss);
r.ss=C};B.hL.IT=function(F,r,$,C,M,l,k,d,I,c){if(typeof l[0]=="number"){var Q=[];for(var O=0;O<$.length;
O++)Q[O]=l;l=Q}for(var O=0;O<$.length;O++){var x=l[O],U=j.H.fR(x),S=U.w5(),z=$[O],V=0<=z?F.u[z]:-1e3<z?F.S8[-1-z]:F.Bs[-1e3-z],t=C[O];
if(V.add&&V.add.lmfx&&d)en.VQ(V.add.lmfx,S);if(t[0]&&!t[3]&&!t[4]&&!t[5]){var Y=t[0].Ky;if(I){var i=I.R7(Y[1]),J=j.j(i.C()*4);
j.mR(Y[0],Y[1],J,i);Y=[J,i]}var H=B.hL.pF(Y,M,x,k,M==0?V.buffer.buffer:null,null,c);if(H){V.S=H.S;V.buffer=H.buffer}}if(t[1]){var v=V.rc();
B.hL.aX(F,t[1],v,M,x,k,v.N9&&k&&!j.gd.sp(k)&&t[0]?t[0].Ky[1]:null);if(I){var i=v.S.R7(I),n=j.j(i.C());
j.wU(v.G,v.S,n,i);v.G=n;v.S=i}}if(t[2]){var G=k&&!j.gd.sp(k),g=t[2].ey.P(),W=$.length==1&&g.K.length!=0,L=$.length==1&&g.dP.length>1;
if(L)W=!1;var b=W?g.K:null,T=L?g.dP:null;if(G){var a=j.gd.YR(k);j.H.U(x,a[3]);j.w.ao8(g.M,a,b,T)}else j.w.ax5(g.M,x,b,T);
if(V.add.vstk&&d){V.add.vstk.strokeStyleLineWidth.v.val=t[2].Ok.strokeStyleLineWidth.v.val*S;var R=t[2].v$;
if(R&&R.Ef==3){R=j.N(R);var D=R.v$.phase.v;R.v$.Scl.v.val=Math.round(R.v$.Scl.v.val*S);D.Hrzn.v=Math.round(D.Hrzn.v*S);
D.Vrtc.v=Math.round(D.Vrtc.v*S);cK.kt(V.add,R)}}if(V.add.vogk){V.add.vogk=j.N(t[2].EL);if(G||L)j.EL.acP(V.add.vogk);
else j.EL.U(V.add.vogk,x,$.length>1?[]:g.K,d)}if(V.add.vstl){var h=V.add.vstl=JSON.parse(t[2].Jn);for(var K=0;
K<2;K++){var X=K==0?h.rK:h.XX;if(X==null||X[3]==null)continue;var w=X[3],N=new hS(w[0],w[1],w[2],w[3],w[4],w[5]);
N.concat(U);X[3]=[N.xz,N.X,N.gb,N.G0,N.P6,N.jw]}}g.nN*=S;var s=new hS;s.rotate(g.Ji);s.concat(U);g.Ji=Math.atan2(-s.X,s.xz);
V.add.vmsk=g;if(V.add.vogk)j.EL.M9(V.add.vogk,V.add.vmsk)}if(t[3]){var N=t[3].P();N.concat(U);V.add.TySh.U=N;
ho.iC(V.add.TySh);dJ.Bi(V,r.v7)}if(t[4]){var A=V.add.SoLd,p=B.hL.$M(t[4].nonAffineTransform);j.H.U(x,p);
var q=j.b.qy(p);if(aY.p6(p)){if(k){var f=j.b.sY(j.gd.YR(t[4].quiltWarp.v)[3]),n=j.H.e0(p,f),e=j.b.sY(j.gd.YR(k)[3]);
p=[e.x,e.y,e.x+e.r,e.y,e.x+e.r,e.y+e.$,e.x,e.y+e.$];j.H.U(n,p);A.quiltWarp.v=k}var o=j.H.e0(p),E=p;if(!j.H.TI(o)){o[6]=o[7]=0;
E=[0,0,1,0,1,1,0,1];j.H.U(o,E)}A.Trnf=B.hL._V(E);A.nonAffineTransform=B.hL._V(p);if(A.filterFX)A.filterFX=j.N(t[4].filterFX);
B.hL.aAW(A,U);V.d7(F,M==0,r.v7)}}if(t[5])B.hL.aX(F,t[5],V.WZ(F).Lj,M,x,k);if(t[7])B.hL.aX(F,t[7],V,M,x,k);
if(0<=z){if(!c)V.uF();V.uH(F);V.vM();if(V.FM)V.FM.av=!0}}F.vM()};B.hL.F_=function(F,r){var $=r.w5(),C=0;
j.SI(F);var M=j.awN(F,r,.3,4);C=M[0];r=M[1];var l=F[C],k=F[C+1],d=j.cN(l),I=k.r,c=k.$,Q=j.b.Vs(k).n;
j.b.U(Q,r,Q);var x=j.b.qy(Q),U=j.j(x.C(),d),S=x.x,z=x.y,V=x.r,t=x.$,Y=r.P();Y.v4();var i=Y.pI(new hx(0,0)),J=Y.pI(new hx(1,0)),H=J.x-i.x,v=J.y-i.y;
for(var n=0;n<t;n++){var G=Y.xz*(S+.5)+Y.gb*(n+z+.5)+Y.P6,g=Y.X*(S+.5)+Y.G0*(n+z+.5)+Y.jw;if(d==8)for(var W=0;
W<V;W++){if(.5<G&&G<I-.5&&.5<g&&g<c-.5)U[n*V+W]=Math.floor(.5+j.H.aoh(G,g,l,I,c));G+=H;g+=v}else if(d==16)for(var W=0;
W<V;W++){if(.5<G&&G<I-.5&&.5<g&&g<c-.5)U[n*V+W]=Math.floor(.5+j.H.acq(G,g,l,I,c));G+=H;g+=v}else if(d==32)for(var W=0;
W<V;W++){if(.5<G&&G<I-.5&&.5<g&&g<c-.5)U[n*V+W]=j.H.acq(G,g,l,I,c);G+=H;g+=v}}return{S:x,G:U}};B.hL.yF=function(F,r,$,C,M){if($==null)$=!1;
return B.hL.pF(F,$?0:1,j.H.TG(r),null,C,M,$)};B.hL.pF=function(F,r,$,C,M,l,k){if(k==null)k=!1;if(k&&l)throw"e";
var d=j.cN(F[0]),I={},Q=0;if(C&&!j.gd.sp(C)){var c=j.gd.YR(C);j.H.U($,c[3]);I.S=j.b.qy(c[3]);I.buffer=j.j(I.S.C()*4,d);
j.$$.drawImage(c,F[0],F[1].P(),j.gd.y2(C),I.buffer,I.S,r==0);return I}if(j.H.TI($)){j.zY(F);var x=.3,Q=0,U=j.H.fR($),S=F[1],z=S.C()*U.w5();
if(k&&z>4e6)x=z>8e6?2.2:1.2;var V=j.awN(F,U,x,16);Q=V[0];$=j.H.TG(V[1])}var t=F[Q],S=F[Q+1],Y=j.H.MV($,j.H.TG(new hS(S.r,0,0,S.$,S.x,S.y))),i=[0,0,1,0,1,1,0,1];
j.H.U(Y,i);I.S=j.b.qy(i);if(l)I.S=I.S.R7(l);if(k){while((I.S.r&3)!=0)I.S.r++;while((I.S.$&3)!=0)I.S.$++}if(!aY.p6(i)||I.S.r>1e5||I.S.$>1e5||I.S.C()>3e4*3e4)return null;
var J=I.S.C()*4;if(d==8&&M&&M.byteLength>=J&&J>=M.byteLength>>2){I.buffer=new Uint8Array(M)}else{I.buffer=j.j(J,d)}j.H.drawImage(Y,t,S.r,S.$,I.buffer,I.S,r==0,k);
if(r==2&&I.buffer){var H=I.S.r,v=I.S.$,n;n=[0,-1,0,-1,16,-1,0,-1,0];n=j.wh.NB(n);var G=I.buffer.slice(0);
j.wh.Te(G,I.buffer,H,v,n,!0,!1)}if(I.buffer)return I};B.hL.aX=function(F,r,$,C,M,l,k){var d=r.S,I=r.G;
if(k){d=k;I=r.JL(d)}if(r.color==255)j.v4(I);var c=j.j(d.C()*4,F.depth);j.dr(I,c,3);var Q=B.hL.pF([c,d],C,M,l);
if(Q){$.S=Q.S;$.G=j.j(Q.S.C(),F.depth);j.Eg(Q.buffer,$.G,3);$.qX=!0}if(r.color==255){j.v4(I);if(Q)j.v4($.G)}};
B.hL.aAW=function(F,r){var $=F.filterFX;if($)$=$.v.filterFXList;if($)$=$.v;if($)for(var C=0;C<$.length;
C++){var M=$[C].v.Fltr;if(M==null)continue;var l=M.v.classID;M=M.v;if(l!="rigidTransform"&&l!="blurbTransform")continue;
var k=[];for(var d=0;d<4;d++)k.push(M["PuX"+d].v,M["PuY"+d].v);var I=k.slice(0);j.b.U(k,r,k);for(var d=0;
d<4;d++){M["PuX"+d].v=k[d*2];M["PuY"+d].v=k[d*2+1]}if(l=="rigidTransform"){var c=["PinP","posFinalPins"],Q=["originalVertexArray","deformedVertexArray"],x=M.puppetShapeList.v;
for(var U=0;U<x.length;U++){var S=x[U].v;for(var z=0;z<c.length;z++){var V=B.hL.$M(S[c[z]]);j.b.U(V,r,V);
S[c[z]]=B.hL._V(V);var t=new Uint8Array(S[Q[z]].v),I=new Float32Array(t.buffer);j.b.U(I,r,I);var Y=[];
for(var i=0;i<t.length;i++)Y[i]=t[i];S[Q[z]].v=Y}}}if(l=="blurbTransform"){var J=j.FY.SU(M);j.FY.U(J,r);
j.FY.AQ(J[0],M)}}};B.hL.$M=function(F){var r=[],$=F.v.length;for(var O=0;O<$;O++)r.push(F.v[O].v);return r};
B.hL._V=function(F){var r={t:"VlLs",v:[]},$=F.length;for(var O=0;O<$;O++)r.v.push({t:"doub",v:F[O]});
return r};B.hL.prototype.a5m=function(){var F=j.b.sY(j.gd.YR(this.JN.XH())[3]),r=j.H.e0(this.qb.Ju(),this.yy),$=[F.x,F.y,F.x+F.r,F.y,F.x+F.r,F.y+F.$,F.x,F.y+F.$];
j.H.U(r,$);this.qb.c2($);this.yy=F};B.hL.prototype.XR=function(){var F=j.H.e0(this.qb.Ju(),this.yy);
if(this.J1)F=j.H.MV(F,j.H.TG(this.J1));return F};B.hL.prototype.Gw=function(F,r,$,C){var M=this.XR();
M=j.H.MV(M,j.H.v4(this.DY));var l=this.JN?this.JN.XH():null;if(this.n5==0){var k=this.g1=j.H.fR(M);if(this.id==B.Mw){var d=this.ss[0][0],I=d.Ky,c=I[1],Q=~~(c.r*Math.max(0,k.xz)),x=~~(c.$*Math.max(0,k.G0)),U=new cS(Math.round(k.xz*c.x+k.P6),Math.round(k.G0*c.y+k.jw),Q,x),S=j.D1.U(this.H9,U),z=F.u[this.u[0]];
z.buffer=j.Mz(S,F.depth);z.S=U;z.vM();F.vM()}else B.hL.IT(F,r,this.u,this.ss,$,M,l,null,null,C)}else if(this.n5==1){var V=F.u[this.u[0]],c=this.FB.OV;
if(V.Go<=0){var t=this.FB.PF,Y=this.lS,i=null;if(l&&!j.gd.sp(l)&&!Y.S.Mp(c)){var S=j.j(Y.S.C()*4);j.mR(t,c,S,Y.S);
t=S;c=Y.S}if(this.id==B.Mw){var k=this.g1=j.H.fR(M),Q=~~(c.r*Math.max(0,k.xz)),x=~~(c.$*Math.max(0,k.G0)),U=new cS(Math.round(k.xz*c.x+k.P6),Math.round(k.G0*c.y+k.jw),Q,x),S=j.D1.U(this.H9,U);
i={buffer:j.Mz(S,F.depth),S:U}}else i=B.hL.pF([t,c],$,M,l);if(i){V.Z5.$z=i.buffer;V.Z5.wp=i.S;var J=j.j(i.S.C(),F.depth);
j.Eg(V.Z5.$z,J,3);F.d={G:J,S:V.Z5.wp.P()}}}else{var H=j.j(c.C()*4);j.dr(this.FB.PF,H,3);var i=B.hL.pF([H,c],$,M,l);
if(i){V.Z5.$z=j.j(i.S.C());j.Eg(i.buffer,V.Z5.$z,3);V.Z5.wp=i.S}this.af3(F,$,M,l)}V.C6(F,0,0,F.d);if($!=0){V.uF();
j.uF(F.d)}F.Dn=!0;F.vM()}else if(this.n5==2)this.af3(F,$,M,l)};B.hL.prototype.af3=function(F,r,$,C){var M=this.lS.S,l=j.j(M.C()*4);
j.dr(this.lS.G,l,3);var k=B.hL.pF([l,M],r,$,C),d=j.j(k.S.C());j.Eg(k.buffer,d,3);F.d={G:d,S:k.S};F.Dn=!0};
B.hL.prototype.disable=function(F,r,$,C){if(this.qb)this.NY(F,r,null,!0)};B.ab4=function(){B.hL.call(this,[10,16],B.DJ,"tools/transform")};
B.ab4.prototype=new B.hL;B.a6U=function(){B.hL.call(this,[7,10],B.VB,"tools/transform")};B.a6U.prototype=new B.hL;
B.aFX=function(){B.hL.call(this,[10,48],B.Mw,"tools/transform")};B.aFX.prototype=new B.hL;B.ft=function(F,r,$){B.m9.call(this,F?F:[10,40],r?r:B.Rd,$?$:"tools/slice");
this.oo=null;this._s=null;this.JO={q:0,x:0,y:0};this.Od=null;this.a0q=null;this.CP=null;this.uY=null};
B.ft.prototype=new B.m9;B.ft.TJ=function(F,r){var $=-1;for(var O=0;O<F.length;O++){var C=B.ft.ck(F,O);
if(C[0]<=r.x&&r.x<=C[2]&&C[1]<=r.y&&r.y<=C[3]){$=O;break}}return $};B.ft.prototype.Y3=function(F,r,$,C,M){if($==null)return;
this.tG($);if(F.R=="fromAction"){var l=F.NT,k=l.hE,d=l.iH,I=$.Pw(),c=$.Fv(),Q=c==-1?new cS(0,0,$.r,$.$):$.u[c].dh();
if(k=="divide"){if($.hk.length!=0){var x=$.hk[0],U=B.ft.ck($.a3,x);Q=new cS(U[0],U[1],U[2]-U[0],U[3]-U[1]);
$.a3.splice(x,1);$.hk=[]}I=[[],[]];for(var S=0;S<2;S++){var z=["Across","Down"][S],V=d["pixels"+z]?0:1,t=d[["pixels","slices"][V]+z];
if(t==null)continue;t=t.v;var Y=S==0?Q.x:Q.y,i=S==0?Q.r:Q.$;if(V==0)for(var O=1;O*t<i;O++){I[0].push([S,Y+O*t]);
I[1].push(c)}else{var J=Math.floor(i/t);for(var O=1;O<t;O++){I[0].push([S,Y+O*J]);I[1].push(c)}}}}var H=[Q.x,Q.x+Q.r],v=[Q.y,Q.y+Q.$];
for(var O=0;O<I[0].length;O++){var n=I[0][O],G=Math.round(n[1]),g=I[1][O];if(g!=-1&&g!=c)continue;if(n[0]==0&&H.indexOf(G)==-1)H.push(G);
if(n[0]==1&&v.indexOf(G)==-1)v.push(G)}H.sort(function(X,w){return X-w});v.sort(function(X,w){return X-w});
for(var W=1;W<v.length;W++)for(var L=1;L<H.length;L++){$.a3.push(B.ft.j9());B.ft.ow($.a3,$.a3.length-1,[H[L-1],v[W-1],H[L],v[W]]);
$.eD=!0}}else if(F.R=="reorder"){if($.hk.length==0)return;var b=$.a3,T=$.hk;T.sort(function(X,w){return X-w});
console.log(T);var a=b.slice(0),R=[],D=[];for(var O=0;O<T.length;O++){var x=T[O],h=b[x];D.push(h);a.splice(a.indexOf(h),1)}var K=Math.max(0,Math.min(a.length,T[0]-F.dir));
for(var O=0;O<D.length;O++){a.splice(K+O,0,D[O]);R.push(K+O)}$.a3=a;$.hk=R}else if(F.R=="delete"){var b=$.a3.slice(0);
for(var O=0;O<$.hk.length;O++)$.a3.splice($.a3.indexOf(b[$.hk[O]]),1);$.hk=[]}else if(F.R=="deleteAll"){$.a3=[];
$.hk=[]}else{$.a3[$.hk[0]].v=F;$.eD=!0}this.N4($)};B.ft.prototype.enable=function(F,r,$,C,M,l){B.m9.prototype.enable.call(this,F,r,$,C,M,l);
if(!$.AK.a3){var k=new k6(_.E.c,!0);k.data={R:_.m.WF,jg:d3.cF};r.a(k)}};B.ft.prototype.disable=function(){this.oo=null;
this._s=null};B.ft.prototype.ql=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=B.ft.TJ(F.a3,l);if(k==-1)return;
this.oo=F;this._s=r;F.hk=[k];F.eD=!0;if(this.uY==null){this.uY=new aj([{name:[5,4]},{name:[8,11,1],Q5:!0}]);
this.uY.Q("select",this.HS,this)}var d=this.uY;d.parent=r;d.l();d.update(F,$);var I=new k6(_.E.c,!0);
I.data={R:_.m.$a,g$:d,x:M.Rn+2,y:M.WQ+1};r.a(I)};B.ft.prototype.HS=function(F){var r=this.uY.qw()[0],$=this.oo;
if(r==0){this.tG($);$.a3.splice($.hk[0],1);$.hk=[];$.eD=!0;this.N4($)}if(r==1){var C=new k6(_.E.c,!0);
C.data={R:_.m.Oe,rS:"soptions",Y:$.a3[$.hk[0]].v};this._s.a(C)}};B.ft.prototype.SY=function(F,r,$,C,M){if(F==null)return;
this.tG(F);var l=F.f.Ti(M.x,M.y);l=B.qW.aU(F,l,$,[!0,null,!1]);l.x=Math.round(l.x);l.y=Math.round(l.y);
this.CP=l;F.a3.unshift(B.ft.j9());F.hk=[0];B.ft.ow(F.a3,0,[l.x,l.y,l.x+20,l.y+20]);F.eD=!0};B.ft.prototype.GQ=function(F,r,$,C,M){if(this.Od==null)return;
var l=F.f.Ti(M.x,M.y),k=this.CP;l=B.qW.aU(F,l,$,[!0,null,!1]);var d=B.QZ.Un(k,l,C,!0,this.JO);k=d[0];
l=d[1];var I=[k.x,k.y,l.x,l.y];B.ft.an7(I);B.ft.ow(F.a3,0,I);F.eD=!0};B.ft.prototype.pf=function(F,r,$,C,M){this.N4(F);
this.CP=null};B.ft.prototype.tG=function(F){this.Od=JSON.stringify(F.a3);this.a0q=JSON.stringify(F.hk)};
B.ft.prototype.N4=function(F){var r=JSON.stringify(F.a3);if(r!=this.Od){var $=new fH(this.name,this);
$.data={FB:this.Od,PL:r,a2q:this.a0q,aD3:JSON.stringify(F.hk)};F.gg($)}this.Od=null};B.ft.prototype.Ea=function(F,r){r.a3=JSON.parse(F.FB);
r.hk=JSON.parse(F.a2q);r.eD=!0};B.ft.prototype.mY=function(F,r){r.a3=JSON.parse(F.PL);r.hk=JSON.parse(F.aD3);
r.eD=!0};B.ft.prototype.fI=function(F,r){return r!=null&&r.hk.length!=0&&(F==ac.g7||F==ac.Qh)};B.ft.prototype.JG=function(F,r,$,C){if(F==null)return;
if(C.D(ac.g7)||C.D(ac.Qh))this.Y3({R:"delete"},r,F,C,$);var M=C.ii();if(M.x!=0||M.y!=0){this.tG(F);B.ft.Fs(F,M);
this.N4(F)}};B.ft.prototype.Rg=function(F,r,$,C,M){this.JO=F.mL};B.ft.af4=function(F,r,$,C){var M=new hx(-r.x,-r.y),l=r.r/$.r,k=r.$/$.$,d=[0,0,r.r,r.$];
for(var O=0;O<F.length;O++){var I=B.ft.ck(F,O);if(C){I[0]=Math.round(I[0]*l);I[1]=Math.round(I[1]*k);
I[2]=Math.round(I[2]*l);I[3]=Math.round(I[3]*k)}else{B.ft.mm(I,M);B.ft.a1Q(I,d)}if(I[0]>=I[2]||I[1]>=I[3]){F.splice(O,1);
O--;continue}B.ft.ow(F,O,I)}};B.ft.Fs=function(F,r){var $=F.a3;for(var O=0;O<F.hk.length;O++){var C=B.ft.ck($,F.hk[O]);
B.ft.mm(C,r);B.ft.ow($,F.hk[O],C)}};B.ft.a1Q=function(F,r){if(F[0]<r[0])F[0]=r[0];if(F[1]<r[1])F[1]=r[1];
if(r[2]<F[2])F[2]=r[2];if(r[3]<F[3])F[3]=r[3]};B.ft.mm=function(F,r){F[0]=Math.round(F[0]+r.x);F[2]=Math.round(F[2]+r.x);
F[1]=Math.round(F[1]+r.y);F[3]=Math.round(F[3]+r.y)};B.ft.ow=function(F,O,r){var $=F[O].v.bounds.v;$.Left.v=r[0];
$.Top.v=r[1];$.Rght.v=r[2];$.Btom.v=r[3]};B.ft.ck=function(F,O){var r=F[O].v.bounds.v;return[r.Left.v,r.Top.v,r.Rght.v,r.Btom.v,O]};
B.ft.an7=function(F){if(F[2]<F[0]){var r=F[0];F[0]=F[2];F[2]=r}if(F[2]==F[0])F[2]++;if(F[3]<F[1]){var r=F[1];
F[1]=F[3];F[3]=r}if(F[3]==F[1])F[3]++};B.ft.sY=function(F,r){var $=1e9,C=-1e9,M=1e9,l=-1e9;for(var O=0;
O<r.length;O++){var k=B.ft.ck(F,r[O]);$=Math.min($,k[0]);M=Math.min(M,k[1]);C=Math.max(C,k[2]);l=Math.max(l,k[3])}return[$,M,C,l]};
B.ft.j9=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
B.dp=function(){B.ft.call(this,[10,41],B.HX,"tools/sselect");this.CP=null;this.vw=null;this.v1=null;
this.Bn=null;this.R9=!1};B.dp.prototype=new B.ft;B.dp.prototype.SY=function(F,r,$,C,M){if(F==null)return;
var l=F.f.Ti(M.x,M.y),k=B.dp.a50(l,4/F.f.bU,F.a3,F.hk);k.pop();if(k.length!=0){this.CP=l;this.v1=k;this.tG(F);
return}var d=F.a3,I=B.ft.TJ(d,l);if(I==-1)F.hk=[];else{var c=F.hk.indexOf(I);if(C.D(ac.il)){if(c==-1)F.hk.push(I);
else F.hk.splice(c,1)}else{F.hk.sort(function(V,t){return V-t});if(c==-1)F.hk=[I];this.CP=l;this.tG(F);
this.vw=B.ft.sY(d,F.hk);this.Bn=[];for(var O=0;O<F.hk.length;O++)this.Bn.push(B.ft.ck(d,F.hk[O]));if(C.D(ac.AH)){var Q=d.slice(0),x=F.hk,U=[];
for(var O=0;O<x.length;O++){var I=x[O],S=Q[I],z=d.indexOf(S);U.push(z);d.splice(z,0,j.N(S))}F.hk=U}}}F.eD=!0};
B.dp.prototype.GQ=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y);if(this.CP==null){var k=B.dp.a50(l,4/F.f.bU,F.a3,F.hk),d=k.pop(),I=k.length==0?"default":["ew","nwse","ns","nesw"][d]+"-resize",c=new k6(_.E.c,!0);
c.data={R:_.m.yz,P5:I};r.a(c);return}if(!this.R9&&l.Mp(this.CP))return;this.R9=!0;var Q=F.a3,k=this.v1;
if(k){l=B.qW.aU(F,l,$,[!0,null,!1]);var x=Math.round(l.x),U=Math.round(l.y);for(var O=0;O<k.length;O+=2){var S=B.ft.ck(Q,k[O]),z=k[O+1];
S[z]=(z&1)==0?x:U;B.ft.an7(S);B.ft.ow(Q,k[O],S)}}else{var V=l.Q1(this.CP),t=this.vw.slice(0);B.ft.mm(t,V);
var Y=new cS(t[0],t[1],t[2]-t[0],t[3]-t[1]),i=B.qW.gy(F,Y,$,[!0,null,!1],!0);B.qW.YI(F,Y,i);V.x+=i[0];
V.y+=i[1];for(var O=0;O<F.hk.length;O++)B.ft.ow(Q,F.hk[O],this.Bn[O]);B.ft.Fs(F,V)}F.eD=!0};B.dp.prototype.pf=function(F,r,$,C,M){if(this.CP==null)return;
this.N4(F);F.pu.oj=null;F.eD=!0;this.CP=null;this.v1=null;this.Bn=null;this.R9=!1};B.dp.a50=function(F,r,$,C){var M=F.x,l=F.y,k=[],d=-1,I=[];
for(var O=0;O<C.length;O++){var c=C[O],Q=B.ft.ck($,c),x=Q[0],U=Q[1],S=Q[2],z=Q[3];if(M<x-r||S+r<M||l<U-r||z+r<l)continue;
var V=[M<x+r,l<U+r,S-r<M,z-r<l],t=-1;for(var Y=0;Y<4;Y++){if(V[Y]&&V[Y+1&3])t=1+2*(Y&1);if(V[Y])k.push(c,Y)}if(t==-1){if(V[0]||V[2])t=0;
if(V[1]||V[3])t=2}if(t!=-1){d=t;I.push(c)}}var i=k.length;for(var O=0;O<i;O+=2){var c=k[O],J=k[O+1],H=B.ft.ck($,c)[J];
for(var Y=0;Y<C.length;Y++){var v=C[Y];if(I.indexOf(v)!=-1)continue;var Q=B.ft.ck($,v);if(Q[J&1]==H)k.push(v,J&1);
if(Q[2+(J&1)]==H)k.push(v,2+(J&1))}}k.push(d);return k};B.Rv=function(F,r,$){B.m9.call(this,F,r,$);this.kh=null;
this.aCq=null;this.Px=null;this.Pq=null;this.FE=null;this.Vh=null;this.MC=null;this.$e=[]};B.Rv.prototype=new B.m9;
B.Rv.prototype.fV=function(){return!0};B.Rv.pV=function(F){if(F==null)return!1;if(F.K.length!=1)return!1;
var r=F.u[F.K[0]];return r.add.SoLd||F.DI(!1)};B.Rv.prototype.aa=function(F,r){return B.Rv.pV(F)};B.Rv.prototype.fI=function(F,r){return F==ac.g7||F==ac.Qh};
B.Rv.prototype.enable=function(F,r,$,C,M,l,k){this.aCq=l.vm;var d=l.vm,I,z=null;if(d){var c=F.u[d.z];
if(c.add.SoLd.filterFX!=null){var Q=c.add.SoLd.filterFX.v.filterFXList.v;if(Q[d.index])I=j.N(Q[d.index].v.Fltr.v)}}var c=F.u[F.K[0]],x=c.buffer,U=c.S,S=c.add.SoLd;
if(S){var V=S.nonAffineTransform.v;z=[];for(var O=0;O<4;O++)z.push(V[O*2].v,V[O*2+1].v);if(I==null)this.z7("edit",r);
var t=c.WZ(F);x=t.buffer;U=t.S}this.Pq={buffer:x.slice(0),S:U.P(),a1E:z};this.aHT(I,F,r,l.Oy);this.a4C(r);
var Y=new k6(_.E.c,!0);Y.data={R:_.m.yz,P5:"default"};r.a(Y)};B.Rv.prototype.a4C=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.Rl,J:this.id,jg:this.FE};F.a(r)};B.Rv.prototype.disable=function(F,r,$,C){if(this.Vh)this.NY(F,r,!0)};
B.Rv.prototype.z7=function(F,r){var $=new k6(_.E.O,!0);$.J=B.tl;$.data={R:F,vm:this.aCq,kh:this.kh,rY:this.Px};
r.a($)};B.Rv.prototype.NY=function(F,r,$){this.z7("confirm",r);this.escape(F,r,$)};B.Rv.prototype.Dk=function(F,r,$){this.z7("cancel",r);
this.escape(F,r,$)};B.Wq=function(F,r,$){B.Rv.call(this,[10,46],B.qh,"tools/transform");this.kh="rigidTransform";
this.FE=[1,1,2,!0]};B.Wq.prototype=new B.Rv;B.Wq.prototype.aHT=function(F,r,$){this.Px=F?F:B.Wq.Mx(this.Pq,this.FE);
this.Vh=B.Wq.Ay(this.Px,this.FE);this.gw();this.uD(r);if(F==null)this.vr($)};B.Wq.prototype.gw=function(F){var r=this.Vh;
this.$e=[];for(var O=0;O<r.length;O++){var $=r[O];for(var C=0;C<$.K.length;C++)this.$e.push([O,$.K[O]]);
$.ZY=j.zQ.apT($);if(F)j.zQ.a8$($)}};B.Wq.prototype.Rg=function(F,r,$,C){if(F.uT=="commit")this.NY($,r,!0);
else if(F.uT=="cancel")this.Dk($,r,!0);else if(F.uT=="prm"){var M=!1;for(var O=0;O<3;O++)if(this.FE[O]!=F.jg[O])M=!0;
this.FE=F.jg;if(M){this.Px=B.Wq.Mx(this.Pq,this.FE,this.Px);this.Vh=B.Wq.Ay(this.Px,this.FE);this.gw(!0);
this.vr(r)}this.uD($)}else if(F.uT=="moveDepth"){var l=this.Vh;for(var k=0;k<l.length;k++){var d=l[k];
for(var O=0;O<d.K.length;O++){var I=d.K[O];d.vT[I]+=F.aDT?1:-1}}this.vr(r)}};B.Wq.prototype.JG=function(F,r,$,C){var M=C.ii();
if(C.D(ac.t7))this.NY(F,r,!0);else if(C.D(ac.Pl))this.Dk(F,r,!0);else if(C.D(ac.g7)||C.D(ac.Qh)){var l=this.Vh;
for(var k=0;k<l.length;k++){var d=l[k];d.K.sort(function(Q,x){return x-Q});for(var O=0;O<d.K.length;
O++){var I=d.K[O],c=I*2;d.vT.splice(I,1);d.xw.splice(I,1);d.e1.splice(I,1);d.LT.splice(I,1);d.aG.splice(c,2);
d.sk.splice(c,2)}d.K=[];if(d.LT.length==0){d.Zm=d.D9.slice(0);d.fl=d.D9.slice(0)}}this.gw(!0);this.vr(r);
this.uD(F)}else if(M.x!=0||M.y!=0){this.atO(F,M.x,M.y,r);this.jU=null}};B.Wq.prototype.escape=function(F,r,$){F.pu.nW=null;
F.pu.Qu=[];F.pu.Lu=[];F.eD=!0;this.Vh=null;var C=new k6(_.E.c,!0);C.data={R:_.m.oa};if($)r.a(C)};B.Wq.prototype.SY=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=l.x,d=l.y,I=this.Vh,c=null,Q=[0,2,4,1.2,1.2,1.2],x=-1,U=B.A7(F,M);
for(var O=0;O<I.length;O++){var S=I[O],z=j.b.V7(S.sk,k,d,U);if(z!=-1)c=[O,z];if(x==-1&&j.zQ.aH3.aAd(S.fl,S.qG,k,d))x=O}if(c==null&&x!=-1){var S=I[x];
B.Wq.a38(S,k,d,k,d,0);c=[x,S.LT.length-1];S.ZY=j.zQ.apT(S)}this.MC=l;if(c){var V=I[c[0]].K.indexOf(c[1])!=-1;
if(C.D(ac.il)&&!V){I[c[0]].K.push(c[1]);this.$e.push(c)}else if(!V){I[c[0]].K=[c[1]];this.$e=[c]}}this.uD(F)};
B.Wq.a38=function(F,r,$,C,M,l){var k=j.b.V7(F.fl,r,$);F.LT.push(k);F.sk.push(C,M);F.aG.push(F.fl[k*2]-r,F.fl[k*2+1]-$);
F.e1.push(0);F.xw.push(!1);F.vT.push(l)};B.Wq.prototype.GQ=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=this.MC;
if(k)this.atO(F,l.x-k.x,l.y-k.y,r)};B.Wq.prototype.atO=function(F,r,$,C){var M={},l=this.$e,k=this.Vh;
if(this.jU==null){this.jU=[];for(var O=0;O<k.length;O++)this.jU.push(k[O].sk.slice(0))}for(var O=0;O<l.length;
O++){var d=this.$e[O],I=d[0],c=k[d[0]],Q=d[1]*2;c.sk[Q+0]=this.jU[I][Q+0]+r;c.sk[Q+1]=this.jU[I][Q+1]+$;
M[I]=I}for(var I in M)j.zQ.a8$(this.Vh[M[I]]);this.uD(F);this.vr(C)};B.Wq.prototype.pf=function(F,r,$,C,M){this.MC=null;
this.jU=null};B.Wq.prototype.vr=function(F){B.Wq.apF(this.Vh,this.FE,this.Px);this.z7("edit",F)};B.Wq.prototype.uD=function(F){var r=this.Vh,$=this.Px;
F.pu.nW={n:[],C0:[]};F.pu.Qu=[];F.pu.Lu=[];for(var O=0;O<r.length;O++){var C=r[O];for(var M=0;M<C.sk.length;
M+=2){var l=F.pu.Lu;if(C.K.indexOf(M>>>1)!=-1)l=F.pu.Qu;l.push(C.sk[M],C.sk[M+1])}if(this.FE[3])j.b.concat(F.pu.nW,j.b.aqk(C.fl,C.qG))}F.eD=!0};
B.Wq.Mx=function(F,r,$){var C=F.buffer,M=F.S,l=F.a1E,k=e9.Mv("rigidTransform");if(l)for(var O=0;O<4;
O++){k["PuX"+O].v=l[O*2];k["PuY"+O].v=l[O*2+1]}var d=k.puppetShapeList.v,I=j.zQ.a4u(C,M.r,M.$,r[1],r[2]),c=[];
for(var Q=0;Q<I.length;Q++){var x={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
x.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var U=I[Q];d.push({t:"Objc",v:x});var S=U.D9.slice(0);j.b.U(S,new hS(1,0,0,1,M.x,M.y),S);var z=U.qG;
for(var O=0;O<z.length;O+=3){var V=z[O+1];z[O+1]=z[O+2];z[O+2]=V}c.push({qG:z,D9:S,Zm:S,fl:S,LT:[],aG:[],sk:[],ZY:null,K:[],e1:[],xw:[],vT:[]})}if($){var t=B.Wq.Ay($,[]),Y=c[0];
for(var O=0;O<t.length;O++){var i=t[O];for(var J=0;J<i.K.length;J++)Y.K.push((Y.sk.length>>>1)+i.K[J]);
for(var J=0;J<i.LT.length;J++){var H=i.LT[J]*2,v=i.D9[H]-i.aG[J*2],n=i.D9[H+1]-i.aG[J*2+1];B.Wq.a38(Y,v,n,i.sk[J*2],i.sk[J*2+1],i.vT[J])}}}B.Wq.apF(c,r,k);
return k};B.Wq.Ay=function(F,r){var $=B.hL.$M,C=F.puppetShapeList.v,M=[];for(var l=0;l<C.length;l++){var k=C[l].v;
r[0]=k.meshRigidity.v-1;r[1]=k.meshQuality.v-1;r[2]=k.meshExpansion.v;var d=k.pinVertexIndices.v.length,I=k.meshBoundaryPath.v.pathComponents.v;
if(I.length!=0){var c=I[0].v.SbpL.v[0].v.Pts;c.v=[]}var Q=new Uint32Array(new Uint8Array(k.indexArray.v).buffer),x=new Float32Array(new Uint8Array(k.originalVertexArray.v).buffer),U=new Float32Array(new Uint8Array(k.deformedVertexArray.v).buffer),S=[],z=[],V=[];
for(var O=0;O<Q.length;O++)S.push(Q[O]);for(var O=0;O<x.length;O++){z.push(x[O]);V.push(U[O])}var t=$(k.pinVertexIndices),Y=$(k.pinOffsets),i=$(k.posFinalPins),J=$(k.PnRt),H=$(k.PnOv),v=$(k.PnDp),n=$(k.selectedPin);
M.push({qG:S,D9:z,Zm:V.slice(0),fl:V,LT:t,aG:Y,sk:i,ZY:null,e1:J,xw:H,vT:v,K:n})}return M};B.Wq.apF=function(F,r,$){function C(U,S){var z=[];
for(var O=0;O<U.length;O++)z.push({t:S,v:U[O]});return z}function M(U,S,z){var V=new(z?Uint32Array:Float32Array)(U),t=new Uint8Array(V.buffer);
for(var O=0;O<t.length;O++)S[O]=t[O]}var l=$.puppetShapeList.v;for(var k=0;k<l.length;k++){var d=F[k],I=l[k].v;
I.meshRigidity.v=r[0]+1;I.meshQuality.v=r[1]+1;I.meshExpansion.v=r[2];M(d.qG,I.indexArray.v,!0);M(d.D9,I.originalVertexArray.v);
M(d.fl,I.deformedVertexArray.v);var c=[];for(var O=0;O<d.LT.length;O++){var Q=d.LT[O]*2,x=O*2;c[x]=d.D9[Q]-d.aG[x];
c[x+1]=d.D9[Q+1]-d.aG[x+1]}I.PinP.v=C(c,"doub");I.pinVertexIndices.v=C(d.LT,"long");I.pinOffsets.v=C(d.aG,"doub");
I.posFinalPins.v=C(d.sk,"doub");I.PnRt.v=C(d.e1,"long");I.PnOv.v=C(d.xw,"bool");I.PnDp.v=C(d.vT,"doub");
I.selectedPin.v=C(d.K,"long")}};B.mz=function(){B.Rv.call(this,"Blur Gallery",B.qD,"tools/ruler");this.kh="blurbTransform";
this.FE=[0,[],null];this.un=-1};B.mz.prototype=new B.Rv;B.mz.prototype.aHT=function(F,r,$,C){this.Vh={};
var M=F==null;if(F==null){F=e9.Mv(this.kh);j.FY.aot(F,C,r.r/2,r.$/2);var l=[!1,!1,!1,!1,!1,!1];l[C]=!0;
j.FY.aqt(F,l)}this.Px=F;this.FE[0]=j.FY.a7P(F);this.FE[1]=j.FY.aB7(F);this.uD(r);if(M)this.z7("edit",$)};
B.mz.prototype.JG=function(F,r,$,C){if(C.D(ac.t7))this.NY(F,r,!0);else if(C.D(ac.Pl))this.Dk(F,r,!0);
else if(C.D(ac.g7)||C.D(ac.Qh)){var M=this.un;if(M==-1)return;var l=this.FE[0],k=j.FY.SU(this.Px)[0],d=k[l];
if(l==0)d.splice(M,1);if(l==1||l==5)d.splice(Math.floor(M/6),1);if(l==3)d.splice(Math.floor(M/5),1);
if(l==4)d.splice(Math.floor(M/4),1);j.FY.AQ(k,this.Px);j.FY.vb(this.Px,l);this.un=-1;this.uD(F);this.z7("edit",r)}};
B.mz.prototype.Rg=function(F,r,$,C){if(F.uT=="commit")this.NY($,r,!0);else if(F.uT=="cancel")this.Dk($,r,!0);
else{this.FE=F.jg;var M=this.FE[0],l=this.un;j.FY.aqt(this.Px,this.FE[1]);if(this.FE[2]){var k=j.FY.SU(this.Px)[0],d=k[M];
if(M==0)d[l][2]=this.FE[2][0];if(M==1||M==5)d[Math.floor(l/6)][14]=this.FE[2][0];if(M==3)d[Math.floor(l/5)][10]=this.FE[2][0];
if(M==4){d[0][4]=this.FE[2][0]/100;var I=(l&3)<2?0:5,c=d[Math.floor(l/4)],Q=c[I],x=c[I+1],U=c[I+2]-Q,S=c[I+3]-x,z=Math.sqrt(U*U+S*S),V=this.FE[2][1];
if(z==0){c[I+2]=Q+V;c[I+3]=x}else{c[I+2]=Q+V*U/z;c[I+3]=x+V*S/z}}j.FY.AQ(k,this.Px)}j.FY.vb(this.Px,M);
this.uD($);this.z7("edit",r)}};B.mz.prototype.escape=function(F,r,$){F.pu.O_=null;F.pu.gN=null;F.pu.NO=null;
F.pu.Qu=[];F.pu.Lu=[];F.eD=!0;this.Vh=null;var C=new k6(_.E.c,!0);C.data={R:_.m.oa};if($)r.a(C)};B.mz.prototype.uD=function(F){var r=j.FY.SU(this.Px)[0];
F.pu.Qu=[];F.pu.Lu=[];var $=F.pu.O_={n:[],C0:[]},C=F.pu.gN={n:[],C0:[]},M=F.pu.NO={n:[],C0:[]};this.$e=[];
this.apM=[];var l=this.FE[0],k=this.un,d=r[l];for(var O=0;O<d.length;O++){var I=d[O];if(l==0){if(O==k){F.pu.Qu.push(I[0],I[1]);
this.FE[2]=[I[2]]}else F.pu.Lu.push(I[0],I[1]);this.apM.push([]);this.$e.push(I[0],I[1])}else if(l==1||l==5){var c=j.FY.aBt(I);
c.v4();var Q=[0,-1,1,0,0,1,-1,0,0,0,1-I[10],0];j.b.U(Q,c,Q);for(var x=0;x<Q.length;x+=2){if(k==O*6+(x>>>1)){F.pu.Qu.push(Q[x],Q[x+1]);
this.FE[2]=[I[14]]}else F.pu.Lu.push(Q[x],Q[x+1]);this.$e.push(Q[x],Q[x+1])}var U=j.b.oJ(j.w.tQ.jI(-1,-1,2,2));
j.b.concat($,U,c)}else if(l==3){var S=I[0],z=I[1],V=I[2]-I[0],t=I[3]-I[1],Y=Math.sqrt(V*V+t*t),i=t*1e4/Y,J=-V*1e4/Y;
for(var x=0;x<10;x+=2){if(k==O*5+(x>>>1)){F.pu.Qu.push(I[x],I[x+1]);this.FE[2]=[I[10]]}else F.pu.Lu.push(I[x],I[x+1]);
this.$e.push(I[x],I[x+1]);if(x==0)continue;if(Math.floor(k/5)!=O)continue;$.n.push(I[x]-i,I[x+1]-J,I[x]+i,I[x+1]+J);
$.C0.push("M","L")}}else if(l==4){M.n.push(I[0],I[1],I[5],I[6]);M.C0.push("M","L");for(var x=0;x<2;x++){var H=x*5,S=I[H],z=I[H+1],v=I[H+2],n=I[H+3],V=v-S,t=n-z,G=Math.sqrt(V*V+t*t),g=25;
if(G!=0){V/=G;t/=G}if((k&14)==O*4+x*2){F.pu.Qu.push(S,z,v,n);this.FE[2]=[I[4]*100,G]}else F.pu.Lu.push(S,z,v,n);
C.n.push(S,z,v,n);C.C0.push("M","L");this.$e.push(S,z,v,n);if(G==0)continue;var W=-V*g*2,L=-t*g*2;C.n.push(v,n,v+(-t*g+W),n+(V*g+L));
C.n.push(v,n,v+(t*g+W),n+(-V*g+L));C.C0.push("M","L","M","L","M","L")}}}F.eD=!0};B.mz.prototype.GQ=function(F,r,$,C,M){function l(f,O,e){var n=f[O]-f[e],G=f[O+1]-f[e+1];
return Math.sqrt(n*n+G*G)}var k=F.f.Ti(M.x,M.y),d=j.b.V7(this.$e,k.x,k.y,6/F.f.bU);if(this.MC){var I=this.un,c=this.FE,Q=c[0],x=j.FY.SU(this.Px)[0],U=x[Q];
if(Q==0){U[I][0]=k.x;U[I][1]=k.y}if(Q==1||Q==5){var S=Math.floor(I/6),z=I-S*6,V=U[S],t=l(V,0,2)/2,Y=l(V,2,4)/2,i=V[8],J=V[9],H=Math.atan2(-V[3]+V[1],V[2]-V[0]),v=V[10],n=k.x-i,G=k.y-J,g=Math.sqrt(n*n+G*G);
if(z<4){H=Math.atan2(-G,n)+(-1+z)*Math.PI/2;if(z==0||z==2)Y=g;else t=g}if(z==4){i=k.x;J=k.y}if(z==5)v=Math.max(0,Math.min(1,1-g/t));
var W=new hS;W.scale(t,Y);W.rotate(H);W.translate(i,J);var L=U[S]=[-1,-1,1,-1,1,1,-1,1,0,0];j.b.U(L,W,L);
L.push(v,v,v,v,V[14])}if(Q==3){var S=Math.floor(I/5),z=I-S*5,V=U[S],b=V[0],T=V[1],a=l(V,0,2),R=l(V,0,4),D=l(V,0,6),K=l(V,0,8),H=Math.atan2(-V[3]+V[1],V[2]-V[0]),n=k.x-b,G=k.y-T,g=Math.sqrt(n*n+G*G);
if(z==0){b=k.x;T=k.y}if(z==1)a=Math.max(D*1.1,g);if(z==2)R=Math.max(K*1.1,g);if(z==3)D=Math.min(a,g);
if(z==4)K=Math.min(R,g);if(z==1)H=Math.atan2(-G,n);if(z==2)H=Math.atan2(G,-n);var L=U[S]=[0,0,-a,0,R,0,-D,0,K,0],W=new hS;
W.rotate(H+Math.PI);W.translate(b,T);j.b.U(L,W,L);L.push(V[10])}if(Q==4){var S=Math.floor(I/4),z=I-S*4,V=U[S],X=z<2?0:5;
if((z&1)==0){var w=[V[2]-V[0],V[3]-V[1],V[7]-V[5],V[8]-V[6]],N=Math.atan2(-(V[6]-V[1]),V[5]-V[0]);V[X]=k.x;
V[X+1]=k.y;var s=Math.atan2(-(V[6]-V[1]),V[5]-V[0]),W=new hS;W.rotate(s-N);for(var O=0;O<2;O++){var A=new hx(w[O*2],w[O*2+1]);
A=W.pI(A);V[O*5+2]=V[O*5]+A.x;V[O*5+3]=V[O*5+1]+A.y}}else{V[X+2]=k.x;V[X+3]=k.y}}j.FY.AQ(x,this.Px);
j.FY.vb(this.Px,Q);this.uD(F)}else{var p="default";if(d!=-1)p="pointer";var q=new k6(_.E.c,!0);q.data={R:_.m.yz,P5:p};
r.a(q)}};B.mz.prototype.SY=function(F,r,$,C,M){var l=this.FE[0],k=F.f.Ti(M.x,M.y),d=k.x,I=k.y,c=j.b.V7(this.$e,d,I,10/F.f.bU);
if(c==-1){c=j.FY.aot(this.Px,l,d,I)}this.MC=k;this.un=c;this.uD(F)};B.mz.prototype.pf=function(F,r,$,C,M){if(this.MC){this.z7("edit",r);
this.a4C(r)}this.MC=null};B.dQ=function(){B.u_.call(this,[10,44],B.ajR,"tools/oselect");this.Cz="crosshair";
this.aoH=0};B.dQ.prototype=new B.u_;B.dQ.prototype.Pg=function(F,r,$,C){if(Math.random()<1/(1+this.aoH)){alert("The cross should be fully inside the object.",3500);
this.aoH++}};B.dQ.prototype.gB=function(F,r,$,C){B.Ki.xb(F,B.u_.iI,this._s);if(!C.HY||!this.__)return;
var M=this.y2(F,$,!1),l=M.r,k=M.$,d=M.x,I=M.y,c=M.x+l,Q=M.y+k,x=d+l/2,U=I+k/2,S=B.dQ.a4f;F.pu.nW={n:[d,I,c,I,c,Q,d,Q,x-l*S,U,x+l*S,U,x,U-k*S,x,U+k*S],C0:"M L L L Z M L M L".split(" ")};
F.eD=!0};B.dQ.a4f=.12;B.dQ.prototype.$n=function(F,r,$,C){F.pu.nW=null;F.eD=!0;this.finish(F,r,$,C)};
B.dQ.prototype.getSelection=function(F,r,$,C){if(this.Nk.Mp(this.Nw)||!this.__)return null;var M=this.y2(F,$,!1),l=F.u[F.K[0]];
if(M.XS()||!M.HV(l.S))return null;return B.u_.Eu("ObSl",M)};B.Ki=function(){B.k7.call(this,[10,37],B.At,"tools/qselect");
this.WB="qselect"};B.Ki.prototype=new B.k7;B.Ki.prototype.SY=function(F,r,$,C,M){if(F.K.length==0){alert("Select a layer first.");
return}B.Ki.xb(F,B.u_.iI,r,!0);this.j$(F,$,C,M,1);if(this.O8==null)return;this.kg(F)};B.Ki.prototype.GQ=function(F,r,$,C,M){this.QR(F,r,$);
B.Ki.xb(F,B.u_.iI,r);if(this.Ot)this.BU(F,$,M);if(this.O8==null)return;if(!M.HY)return;var l=this.BP(F,$,C,M);
if(l!=1)this.kg(F)};B.Ki.xb=function(F,r,$,C){if(F.K.length==0)return;if(F&&r.key!=B.Ki.KR(F)){r.key=B.Ki.KR(F);
var M=F.u[F.K[0]].S.C(),k="Image Analysis ...";if(M==0)return;var l=M>1e6&&C!=!0,d=new k6(_.E.c,!0);
d.data={R:_.m.O7,Sm:k};if(l)$.a(d);var I=function(){var c=B.Ki.aiz(F);for(var Q in c)r[Q]=c[Q];var d=new k6(_.E.c,!0);
d.data={R:_.m.hF,Sm:k};if(l)$.a(d)};if(C)I();else setTimeout(I,30)}};B.Ki.KR=function(F){var r=F.K[0],$=F.u[r],C=$.S,M=C.r,l=C.$,k=M*l,d=$.buffer;
return[r,C.x,C.y,M,l,d[0],d[1],d[2],d[3]].join(",")};B.Ki.aiz=function(F){var r=F.K[0],$=F.u[r],C=$.S,M=C.r,l=C.$,k=M*l,d=j.Mz($.buffer,8),I=Date.now(),c=j.j(k);
c.fill(128);var Q=j.mG.kU(d,M,l);console.log(Date.now()-I);var x={key:B.Ki.KR(F),Lf:d,S:C.P(),a0:M,Y9:l,xp:12,GL:c,wi:Q,d:j.j(k),va:null,ln:null,dR:null};
B.Ki.Vt(x,null,F);return x};B.Ki.Vt=function(F,r,$){var C=F.a0,M=F.Y9,l=0,k=0,d=Date.now(),I=F.va!=null&&j.mG.pk(F.va.qG,F.va.pT,F.GL)==-1;
l=Date.now()-d;d=Date.now();if(!I){var c=j.mG.pk(F.wi.qG,F.wi.pT,F.GL),Q=0;while(c!=-1){var x=[],U=[],S=F.wi.qG;
for(var z=0;z<M;z++)for(var V=0;V<C;V++){var O=z*C+V;if(S[O]==c){var t=F.GL[O];if(t==0)x.push(V,z);if(t==255)U.push(V,z)}}var Y=$.u[$.K[0]],i=Y.buffer;
j.mG.kU.V0(i,C,M,F.wi,x,U);c=j.mG.pk(F.wi.qG,F.wi.pT,F.GL);Q++;if(Q>=10){console.log("too many subdivisions");
break}}F.va=j.mG.i3(F.wi,C,M,F.GL,F.xp);F.ln=j.mG.aJF(F.Lf,C,M,F.va.qG,F.va.pT);F.dR=[F.ln[0].slice(0),[]];
k=Date.now()-d;d=Date.now()}var d=Date.now();if(r){F.dR[0].set(F.ln[0]);var J=F.ln[1],H=F.dR[1];for(var v=0;
v<J.length;v++)H[v]=J[v].slice(0);j.mG.afd(F.va.qG,C,M,F.va.pT,F.GL,F.d,F.dR)}};B.et=function(){B.m9.call(this,[10,50],B.cn,"tools/artb");
this.qY=null;this.JT=!1;this.qb=null;this.sm=!1;this.a9C=null;this.l3=100;this.OQ=null;this.MF=0};B.et.prototype=new B.m9;
B.et.prototype.Y3=function(F,r,$,C,M){this.oe($,F.a7U,r,F.IL)};B.et.atH=function(F,r){var $=F[0],C=0,M=0;
if($==0)M=-1;else if($==1)C=1;else if($==2)M=1;else C=-1;return[20/r.j3,F[1]+C*60/r.j3,F[2]+M*60/r.j3]};
B.et.prototype.Rg=function(F,r,$,C,M){this.qY=F.jg;this.MF=Date.now()};B.et.prototype.zN=function(F,r,$,C){if($.fp!=this.id)return;
if(F==null||F.K.length!=1){this.WN(F);return}var M=F.K[0],l=F.u[M],k=l.add.artb;if(k==null){this.WN(F);
return}if(this.sm)return;if(Date.now()-this.MF>50){this.qY={};var d=["artboardBackgroundType","Clr"];
for(var O=0;O<d.length;O++)if(k[d[O]])this.qY[d[O]]=j.N(k[d[O]]);var I=new k6(_.E.c,!0);I.data={R:_.m.Rl,J:this.id,U9:this.qY};
r.a(I)}var c=l.dh(),Q=j.b.Vs(c).n,x=this.qb=new aY(Q,!0,!1,!1,!0,!1,3,!1);x.TF(F,$,!1);var U={n:[1,0],C0:["M"]};
for(var O=1;O<30;O++){var S=Math.PI*2*O/30;U.n.push(Math.cos(S),Math.sin(S));U.C0.push("L")}U.C0.push("Z","M","L","M","L");
U.n.push(-.5,0,.5,0,0,-.5,0,.5);var z=c.x+c.r/2,V=c.y+c.$/2,t=this.l3*1.1,Y=this.a9C=[z,c.y,c.x+c.r,V,z,c.y+c.$,c.x,V],i=[0,-t,t,0,0,t,-t,0],J=F.root.children;
F.pu.em=[];for(var O=0;O<4;O++){var H=new hx(Y[O*2]+i[O*2],Y[O*2+1]+i[O*2+1]),v=!1;for(var n=0;n<J.length;
n++){var l=J[n].z;if(l.add.artb==null)continue;var c=l.dh();if(c.m_(H))v=!0}if(v){Y[O*2]=1e9;continue}F.pu.em.push([O,Y[O*2],Y[O*2+1]])}};
B.et.prototype.disable=function(F,r,$,C,M){this.WN(F)};B.et.prototype.WN=function(F){if(this.qb){this.qb.clear(F);
this.qb=null;F.pu.em=null}};B.et.prototype.SY=function(F,r,$,C,M){this.MF=Date.now();var l=F.f.Ti(M.x,M.y),k=this.qb;
if(k){var d=new k6(_.E.O),I=k.Cv(null,l,F,M);if(I<9){this.sm=k.SY(F,$,C,l,null,!0,M);return}else if(k._k(l)){d.J=B.uo;
d.data={R:"disabAuto"};r.a(d);var c=new k6(_.E.c);c.data={R:_.m.Td,J:B.uo,aCu:!0};r.a(c);return}else{var Q=-1,x=F.pu.em;
for(var O=0;O<x.length;O++){var U=B.et.atH(x[O],F.f);if(hx.BV(l,new hx(U[1],U[2]))<U[0])Q=x[O][0]}if(Q!=-1){var S=F.u[F.K[0]].dh(),z=S.P(),V=(Q==0||Q==2?S.$:S.r)+this.l3;
if(Q==0||Q==3)V=-V;if(Q==0||Q==2)S.y+=V;else S.x+=V;if(C.D(ac.AH)){var t=new cS(0,0,F.r,F.$);d.J=B.pO;
d.data={R:Z.K7};r.a(d);B.qW.Rb(F,F.UY(null,F.K[0],null,!0),null,S.x-z.x,S.y-z.y);F.K=F.K.slice(F.K.length-1);
var Y=B.i0.Kt(F);if(Y){var i=F.pg();i.data.yy=t;i.data.qA=Y;i.data.cJ=F.K}}else this.oe(F,S,r);return}}}this.OQ=B.qW.aU(F,l,$)};
B.et.prototype.oe=function(F,r,$,C){if(C==null)C=0;var M=F.u.slice(0),l=[F.u.length+1],k=F.at();k.Da(dG.get([1,16,0])+" "+(F.add.artd==null?1:F.root.children.length+1));
k.add.lsct=jR.ul;k.HD(r);if(this.qY){var d=k.add.artb,I=this.qY;for(var c in I)d[c]=I[c]}k.ww="pass";
k.U4=24;if(C==0){if(F.add.artd||r.R7(new cS(0,0,F.r,F.$)).XS())M.push(F.fm());else M.unshift(F.fm())}else{var Q=F.UY();
Q.sort(function(V,t){return V-t});var x=B.tt.bV(F,Q,M.length-1,!1,null,!1),U=x.pop(),S=x.pop();M=x.pop();
M.splice(F.u.length-Q.length,0,F.fm())}M.push(k);var z=new k6(_.E.O);z.J=B.pO;z.data={R:Z.IJ,D2:M,xP:l,qc:[1,16,2]};
$.a(z)};B.et.prototype.GQ=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=this.qb,d=this.OQ;if(k){if(this.sm){k.GQ(F,$,C,l)}else{var I=k.cb(l,F.f.bU,null,M);
if(I==null)I="default";var c=new k6(_.E.c,!0);c.data={R:_.m.yz,P5:I};r.a(c)}}if(d){var Q=this.ck(F,l,C,$);
F.pu.nW=j.b.Vs(Q);F.eD=!0;B.m9.qi(M,Q,F,$)}};B.et.prototype.pf=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=this.OQ;
if(this.sm){this.qb.pf(F,$,C,l);this.sm=!1;var d=j.b.qy(this.qb.Ju()),I=Z.Xj(d),c=F.u[F.K[0]],Q=j.N(c.add.artb);
Q.artboardRect.v=I;var x=new k6(_.E.O,!0);x.J=B.pO;x.data={R:Z.iM,uU:Q};r.a(x)}if(k){var U=this.ck(F,l,C,$);
if(U.C()>20)this.oe(F,U,r);F.pu.nW=null;F.eD=!0;this.OQ=null;F.pu.oY=[]}};B.et.prototype.ck=function(F,r,$,C){var M=this.OQ,l=B.qW.aU(F,r,C),k=B.QZ.Un(M,l,$,!0);
M=k[0];l=k[1];return j.b.qy([M.x,M.y,l.x,l.y])};B.Yz=function(){B.m9.call(this,[10,50],B.op,"tools/artb");
this.qb=null;this.iB=!1;this.e=null;this.q3=null;this.tg=null;this.pP=null;this.aEg=null;this.SJ=null;
this.u$=null};B.Yz.prototype=new B.m9;B.Yz.prototype.fI=function(F,r){return F==ac.g7||F==ac.Qh};B.Yz.prototype.JG=function(F,r,$,C){if(C.D(ac.g7)||C.D(ac.Qh))this.Y3({R:"del"},r,F,C,$)};
B.Yz.prototype.Y3=function(F,r,$,C,M){var l=$.add.arts;this.q3=JSON.stringify(l);if(F.R=="del"){for(var O=0;
O<l.length;O++)if(l[O].K){l.splice(O,1);O--}}if(F.R=="new"){for(var O=0;O<l.length;O++)l[O].K=!1;var k=$.qx(),d=k.x+k.r+20;
l.push({du:"Artboard "+(l.length+1),sc:[d,k.y,d+100,k.y+100],K:!0})}if(F.R=="rpl"){var I=0;for(var O=0;
O<l.length;O++)if(l[O].K)I=O;l[I]=F.Y}this.ahW($);this.gM($)};B.Yz.prototype.disable=function(F,r,$,C,M){this.iB=!1};
B.Yz.prototype.enable=function(F,r,$,C,M){this.iB=!0;this.e=$;this.gM(F)};B.Yz.prototype.WN=function(F){};
B.Yz.prototype.SY=function(F,r,$,C,M){var l=this.u$=F.f.Ti(M.x,M.y),k=F.add.arts;this.q3=JSON.stringify(k);
var d=this.qb,I=d?d.cb(l,F.f.bU,null,M):null,c=C.D(ac.Xf)||C.D(ac.il);if(d&&!c&&(j.b.sY(d.Ju()).m_(l)||I)){}else{var Q=-1;
for(var O=0;O<k.length;O++)if(j.b.sY(k[O].sc).m_(l))Q=O;if(Q==-1)this.Bo(F,-1);else if(c)k[Q].K=!k[Q].K;
else this.Bo(F,Q);this.gM(F)}if(this.qb){this.qb.SY(F,$,C,l,null,!0,M)}F.eD=!0};B.Yz.prototype.GQ=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=F.add.arts,d=JSON.parse(this.tg);
if(this.qb){this.qb.GQ(F,$,C,l);if(M.HY){var I=j.b.sY(this.qb.Ju()),c=this.aEg,Q=new hS;Q.translate(-c.x,-c.y);
Q.scale(I.r/c.r,I.$/c.$);Q.translate(I.x,I.y);var x=this.qb.Cv(C,l,F,M);for(var O=0;O<k.length;O++){var U=k[O];
if(!U.K)continue;if(j.b.sY(d[O].sc).XS())U.sc=[I.x,I.y,I.x+I.r,I.y+I.$];else{U.sc=d[O].sc.slice(0);j.b.U(U.sc,Q,U.sc)}}if(x==10){B.qW.Rb(F,this.pP,null,I.x-this.SJ.x,I.y-this.SJ.y);
this.SJ=I}F.vM()}var S="default",z=this.qb.cb(l,F.f.bU,null,M);if(z)S=z;var V=new k6(_.E.c,!0);V.data={R:_.m.yz,P5:S};
r.a(V)}else if(M.HY&&hx.BV(l,this.u$)>=6/F.f.bU){k.push({du:"Artboard "+(k.length+1),sc:[0,0,0,0],K:!0});
this.gM(F);this.qb.SY(F,$,C,this.u$,null,!0,M)}};B.Yz.prototype.pf=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y),k=F.add.arts,d=JSON.parse(this.tg),I=C.D(ac.Xf)||C.D(ac.il);
if(!I&&hx.BV(this.u$,l)<6/F.f.bU){var c=-1;for(var O=0;O<k.length;O++)if(j.b.sY(k[O].sc).m_(l))c=O;if(c!=-1){this.Bo(F,c);
this.gM(F)}if(j.b.sY(d[d.length-1].sc).XS()){this.qb.clear(F);k.pop()}}if(this.qb){var Q=this.qb.Cv(C,l,F,M);
this.qb.pf(F,$,C,l);if(!l.Mp(this.u$))this.ahW(F,Q==10?l.Q1(this.u$):null)}};B.Yz.prototype.ahW=function(F,r){var $=new fH([10,50],this);
$.data={Ir:this.q3,FJ:JSON.stringify(F.add.arts)};if(r){$.data.K=this.pP;$.data.QE=r}F.gg($)};B.Yz.prototype.gM=function(F){var r=F.add.arts,$=new cS,C=0,M=[];
for(var O=0;O<r.length;O++)if(r[O].K){var l=j.b.sY(r[O].sc);$=$.DM(l);F.root.c8(l,M);C++}if(C==0){if(this.qb)this.qb.clear(F);
F.eD=!0;this.qb=null;return}this.tg=JSON.stringify(r);this.pP=M;this.aEg=this.SJ=$;var k=j.b.Vs($).n;
this.qb=new aY($.XS()?null:k,!0,!1,!1,!1,!1,3);if(!$.XS())this.qb.TF(F,this.e)};B.Yz.prototype.Bo=function(F,r){var $=F.add.arts;
for(var O=0;O<$.length;O++)$[O].K=r==O};B.Yz.prototype.mY=function(F,r){r.add.arts=JSON.parse(F.FJ);
if(F.K)B.qW.Rb(r,F.K,null,F.QE.x,F.QE.y);if(this.iB)this.gM(r);r.eD};B.Yz.prototype.Ea=function(F,r){r.add.arts=JSON.parse(F.Ir);
if(F.K)B.qW.Rb(r,F.K,null,-F.QE.x,-F.QE.y);if(this.iB)this.gM(r);r.eD};function aY(F,r,$,C,M,l,k,d){this.Ct=null;
this.tn=F?F.slice(0):null;this.jW=1;this.Ka=4;this.Nw=null;this.uC=null;this.ON=null;this.un=-1;this.MC=null;
this.aFE=!1;this.aHf=[];for(var O=0;O<8;O++)this.aHf.push(dN.aod(0,PIMG.rotate,-.5,-.5,-45-O*45));this.auz=r;
this.aGo=$;this.arD=C;this.aeH=M;this.apn=l;this.IL=k;this.amA=d==null?1:d}aY.prototype.asn=function(){return this.un!=-1};
aY.prototype.Ju=function(){return this.tn.slice(0)};aY.prototype.c2=function(F){this.tn=F};aY.prototype.aEa=function(){return this.ny(this.tn)};
aY.prototype.aD4=function(){return this.Ka};aY.prototype.aon=function(F){this.Ka=F};aY.prototype.pE=function(F){if(F==null)F=this.tn;
if(this.Ka==9)return this.Nw;else return this.ny(F)[this.Ka]};aY.prototype.azG=function(F){if(this.Ka==9)this.Nw=F.P();
else{var r=this.pE(),$=new hS(1,0,0,1,F.x-r.x,F.y-r.y);j.b.U(this.tn,$,this.tn)}};aY.prototype.ZJ=function(F){this.jW=F};
aY.prototype.cb=function(F,r,$,C,M){var l=this.dL(null,F,r,C),k;if(l==9)return"default";if(l==10){if($)return null;
return!this.auz?"move":null}if(l==-1||l==4)return null;if(l==11){var d=this.pE().Q1(F);if(M==null)M=Math.atan2(d.y,d.x);
k=90-M*180/Math.PI;var I=Math.round(8*(k/360));I=(I+8)%8;return this.aHf[I]}else{var c=this.dH(F,this.tn);
k=[135,90,45,180,0,0,225,270,315][l]*Math.PI/180;var Q=j.H.e0(this.tn);return aY.aqb(Q[0],Q[3],k)}};
aY.aqb=function(F,r,$){var C=Math.atan2(-r,F);if($)C+=$;var M="ew nesw ns nwse ew nesw ns nwse".split(" "),l=Math.round(8*(C/(2*Math.PI)));
l=(l+8)%8;return M[l]+"-resize"};aY.prototype.dH=function(F,r){var $=j.H.v4(j.H.e0(r)),C=new Float64Array(2);
j.H.H5(F.x,F.y,$,C);return new hx(C[0],C[1])};aY.prototype._k=function(F){var r=this.dH(F,this.tn);return 0<=r.x&&r.x<=1&&0<=r.y&&r.y<=1};
aY.prototype.SY=function(F,r,$,C,M,l,k,d){this.aFE=l;this.MC=C;var I=F.f.bU,c;if(this.tn==null)C=B.qW.aU(F,C,r);
this.ON=C.P();if(this.tn==null){if(d==null)d=0;var Q=new hS;Q.rotate(d);var x=Q.pI(new hx(1,1));this.ON.offset(x.x,x.y);
var U=M==null?1:1/M,S=this.tn=[0,0,1,0,1,U,0,U];Q.translate(C.x,C.y);j.b.U(this.tn,Q,this.tn);c=8}else{c=this.dL($,C,I,k);
if(0<=c&&c<=8)this.ON=this.ny(this.tn)[c];if(c==9){this.Ka=9;this.Nw=C.P()}}this.Ct=this.tn.slice(0);
this.un=c;this.TF(F,r);this.uC=this.pE();return c!=-1};aY.prototype.Cv=function(F,r,$,C){return this.dL(F,r,$.f.bU,C)};
aY.prototype.dL=function(F,r,$,C){var M=-1,l=this.ny(),k=[0,2,6,8,1,3,5,7],d=C?B.A7({f:{bU:$}},C):8*B.ha()/$,I=hx.BV(l[0],l[2]),c=hx.BV(l[0],l[6]),Q=this.dH(r,this.tn);
Q.x*=I;Q.y*=c;var x=new cS(0,0,I,c);x.lW(d,d);if(M==-1)if(hx.BV(this.pE(),r)<d)M=9;if(M==-1)for(var O=0;
O<k.length;O++)if(hx.BV(l[k[O]],r)<d)M=k[O];if(M==-1&&x.m_(Q)){if(Math.abs(Q.y-0)<d)M=1;if(Math.abs(Q.x-0)<d)M=3;
if(Math.abs(Q.y-c)<d)M=7;if(Math.abs(Q.x-I)<d)M=5}if(M==-1&&F&&F.D(ac.AH))M=9;if(M==-1||this.IL==4){if(this._k(r)){if(this.auz)M=10}else{var U=[3,.85][gw];
x.lW(U*d,U*d);M=x.m_(Q)&&this.IL!=3?11:10;if(M==10&&gw==1)M=-1}}return M};aY.prototype.GQ=function(F,r,$,C,M){if(this.un==-1)return;
this.MC=C;var l=$&&$.D(ac.il),k=$&&$.D(ac.AH),d=$&&$.D(ac.Xf),I=F.f.bU,c=this.ON,Q=this.un,x=this.ny(),U=B.qW.aU(F,c,r),S=B.qW.aU(F,C,r),z,V;
if(Q==9){var x=this.ny(),t=-1;for(var O=0;O<x.length;O++)if(hx.BV(x[O],S)*I<10)t=O;this.Ka=t==-1?9:t;
this.Nw=l?B.dC.wr(U,S):S.P()}else if(Q==10){V=j.b.sY(this.Ct);var Y=V.x,i=V.y;V.offset(C.x-c.x,C.y-c.y);
if(this.a9U()){V.x=Math.round(V.x);V.y=Math.round(V.y)}z=B.qW.gy(F,V,r);var J=new hS(1,0,0,1,V.x-Y+z[0],V.y-i+z[1]);
j.b.U(this.Ct,J,this.tn)}else if(Q==11){var H=this.pE(this.Ct),v=H.Q1(C),n=H.Q1(c),G=Math.atan2(v.y,v.x),g=Math.atan2(n.y,n.x),J=new hS(1,0,0,1,-H.x,-H.y),W=Math.PI/12;
if(l)J.rotate(Math.round((g-G)/W)*W);else J.rotate(g-G);J.translate(H.x,H.y);j.b.U(this.Ct,J,this.tn)}else{var L=l,b;
if(M&&!d)L=!L;if(this.apn)L=!0;var T=this.Ct,a=Q==0||Q==2||Q==6||Q==8;if(this.IL==1){if(a)l=k=d=!0}else if(this.IL==2&&a&&this.aFE!=!0)d=!0;
if(this.IL==3)d=!1;else if(this.IL==5){l=d=!0}if(this.arD&&a&&d){var O=[0,0,2,0,0,0,6,0,4,0][Q],R=-1,D=S.x,h=S.y;
if(l){var K=O+6&7,X=O+10&7,w=aY.aw2(T[O],T[O+1],T[K],T[K+1],S.x,S.y),N=aY.aw2(T[O],T[O+1],T[X],T[X+1],S.x,S.y),s=w[2]<N[2]?w:N;
D=s[0];h=s[1];if(k)R=w[2]<N[2]?K:X}else if(k)R=O+4&7;b=T.slice(0);if(R!=-1){var A=T[R],p=T[R+1],q=(T[O]+A)/2,f=(T[O+1]+p)/2;
b[R]=q-(D-q);b[R+1]=f-(h-f)}b[O]=D;b[O+1]=h}else if(a&&k){var H=this.uC,e=H.x,o=H.y,E=U.x-e,cj=U.y-o,u=1,cd=1;
if(Math.abs(E)>=1)u=(S.x-e)/E;if(Math.abs(cj)>=1)cd=(S.y-o)/cj;if(L)u=cd=(u+cd)/2;var J=new hS;J.translate(-e,-o);
J.scale(u,cd);J.translate(e,o);b=T.slice(0);j.b.U(b,J,b)}else{if(this.a9U()){S.x=Math.round(S.x);S.y=Math.round(S.y)}var m=[0,1,2,5,8,7,6,3],aZ=m[(m.indexOf(Q)+4)%8],jN=[];
for(var O=0;O<3;O++)for(var R=0;R<3;R++)jN.push(new hx(R/2,O/2));var H=this.uC,eh=k&&(this.Ka==4||this.Ka==9)?this.dH(H,T):jN[aZ],iA=k&&(this.Ka==4||this.Ka==9)?H:x[aZ];
if(a&&L){function hd(gf,cC,aD){var c_=cC[0]-gf[0],a9=cC[1]-gf[1],jz=j.b.lb(aD[0],aD[1],-a9,c_,gf[0],gf[1],c_,a9);
return[aD[0]-a9*jz,aD[1]+c_*jz]}while(!0){var kx=hd([iA.x,iA.y],[c.x,c.y],[S.x,S.y]);kx=new hx(kx[0],kx[1]);
kx=B.qW.aU(F,kx,r);if(hx.BV(kx,S)<1e-6)break;S=kx}}var b0=this.dH(S,T),gX=this.dH(c,T),j$=new hS,i0=new hS,u=(b0.x-eh.x)/(gX.x-eh.x);
if(u==0)u=1e-4;var cd=(b0.y-eh.y)/(gX.y-eh.y);if(cd==0)cd=1e-4;if(this.aeH){u=Math.max(u,0);cd=Math.max(cd,0)}if(a){if(L)j$.scale(u,u);
else j$.scale(u,cd)}else if(Q!=4){var f7=L,am=d&&l;if(am)f7=!1;if(Q==1||Q==7)j$.scale(f7?cd:1,am?1:cd);
else j$.scale(am?1:u,f7?u:1);if(this.aGo&&d){if(Q==1||Q==7)i0.gb=(b0.x-eh.x)/(b0.y-eh.y);else i0.X=(b0.y-eh.y)/(b0.x-eh.x)}}var J=new hS;
J.translate(-eh.x,-eh.y);J.concat(j$);J.concat(i0);J.translate(eh.x,eh.y);b=[0,0,1,0,1,1,0,1];j.b.U(b,J,b);
var s=j.H.e0(T);j.H.U(s,b)}if(aY.p6(b))this.tn=b}this.TF(F,r);if(z)B.qW.YI(F,V,z)};aY.aw2=function(F,r,$,C,M,l){var k=$-F,d=C-r,I=M-F,c=l-r,Q=k*k+d*d,x=I*k+c*d,U=x/Q,S=F+U*k,z=r+U*d,V=M-S,t=l-z;
return[S,z,Math.sqrt(V*V+t*t)]};aY.prototype.a9U=function(){var F=this.tn;return Math.abs(F[1]-F[3])<1e-6&&Math.abs(F[2]-F[4])<1e-6||Math.abs(F[0]-F[2])<1e-6&&Math.abs(F[3]-F[5])<1e-6};
aY.p6=function(F){return j.b.aJk(F)||j.b.aJk([F[6],F[7],F[4],F[5],F[2],F[3],F[0],F[1]])};aY.prototype.pf=function(F,r,$,C){this.un=-1;
this.MC=null;F.pu.oj=null;F.pu.oY=[];F.eD=!0};aY.prototype.JG=function(F,r,$){var C=$.ii(F?F.f.K$:0);
if(C.x||C.y){var M=new hS(1,0,0,1,C.x,C.y);j.b.U(this.tn,M,this.tn);this.TF(F,r);return!0}return!1};
aY.prototype.ny=function(F){if(F==null)F=this.tn;var r=F[6]-F[0],$=F[7]-F[1],C=F[4]-F[2],M=F[5]-F[3],l=[F[0],F[1],F[2],F[3],F[0]+r/2,F[1]+$/2,F[2]+C/2,F[3]+M/2,F[6],F[7],F[4],F[5]],k=[];
for(var O=0;O<3;O++){var d=O*4,I=l[d+0],c=l[d+1],Q=l[d+2],x=l[d+3];k.push(new hx(I,c));k.push(new hx(I+(Q-I)/2,c+(x-c)/2));
k.push(new hx(Q,x))}return k};aY.prototype.TF=function(F,r,$){if(F.pu==null)return;if($==null)$=!1;var C=this.jW,M=this.ny(),l=M[0],k=M[2],d=M[6],I=M[8],c={C0:[],n:[]};
if(C==0)F.pu.nW=c;else F.pu.O_=c;var Q=j.H.e0([l.x,l.y,k.x,k.y,I.x,I.y,d.x,d.y]);c.C0.push("M","L","L","L","Z");
c.n.push(0,0,1,0,1,1,0,1);var x=this.amA;if(x>1){F.pu.HM=j.N(c);j.H.U(Q,F.pu.HM.n);for(var O=1;O<x;O++){var U=O/x;
c.C0.push("M","L","M","L");c.n.push(0,U,1,U,U,0,U,1)}}j.H.U(Q,c.n);F.f.dF=new cS(0,0,hx.BV(M[0],M[2]),hx.BV(M[0],M[6]));
if(this.un!=-1&&this.un<9&&this.MC){var S=F.f.uc(this.MC.x,this.MC.y);B.m9.qi(S,F.f.dF,F,r)}if(!$){var z=[];
if(C==0)F.pu.Ce=z;else F.pu.B0=z;for(var O=0;O<M.length;O++)if(O!=4)z.push(M[O].x,M[O].y);var V=this.pE();
z.push(V.x,V.y)}F.eD=!0};aY.prototype.clear=function(F){F.f.dF=null;F.pu.oj=null;F.pu.nW=null;F.pu.O_=null;
F.pu.HM=null;F.pu.Ce=[];F.pu.B0=[];F.eD=!0};function ay(F){this.gd=null;this.un=-1;this.Ld=null;this.akB=null;
this.QG=null;this.$R=-1;this.aI1=null;this.aqi(F)}ay.prototype.XH=function(){return j.N(this.gd)};ay.prototype.aqi=function(F){this.gd=j.N(F)};
ay.prototype.ajV=function(F){this.$R=F};ay.prototype._k=function(F){return!0};ay.prototype.cb=function(F,r,$,C){var M=this.dL(F,r,C);
if(M==-1)return"default";return"pointer"};ay.prototype.SY=function(F,r,$,C,M,l,k){if(this.$R!=-1)return!0;
this.un=this.dL(C,F.f.bU,k);var d=j.gd.YR(this.gd),I=j.$$.mA(d,C),c=0<I[0]&&I[0]<1&&0<I[1]&&I[1]<1;this.Ld=c?I:null;
this.akB=JSON.stringify(d);this.aI1=JSON.stringify(this.gd);this.QG=C;return this.un!=-1||c};ay.prototype.dL=function(F,r,$){var C=$?B.A7({f:{bU:r}},$)*2:20*B.ha()/r,M=this.gd,l=ay.a25(M),k=-1;
if(l){k=j.b.V7(l,F.x,F.y,C);if(k!=-1)k+=1e6}else{var d=j.gd.YR(M);k=j.b.V7(d[3],F.x,F.y,C);if(k!=-1&&this.dX(d,k)==null)k=-1}return k};
ay.prototype.GQ=function(F,r,$,C){if(this.$R!=-1)return;var M=this.gd,l=this.un,k=this.Ld,d=JSON.parse(this.akB),I=d[0],c=d[1],Q=d[3];
if(l>=1e6){var x=M.warpStyle.v.warpStyle,U=j.gd.y2(M);if(x=="warpCylinder"){this.gd=M=JSON.parse(this.aI1);
var S=B.hL.$M(M.warpValues),z=(S[2]-S[0])/(S[1]-S[3]),V=S[4]*z*U.$,t=S[5]*z*U.$,Y=C.x-this.QG.x,i=C.y-this.QG.y;
S[0]=U.x;S[1]=U.y+U.$;S[2]=U.x+U.r;S[3]=U.y;l-=1e6;if(l==0){S[0]+=Y;S[1]+=i}if(l==1){S[2]+=Y;S[3]+=i}if(l==2){V+=2*i;
t+=2*i}if(l==3){t+=2*i}if(l==4){S[6]=Math.max(0,Math.min(1,S[6]-2*Y/U.r))}var J=j.b.sY(S.slice(0,4)),H=J.r/U.r,v=J.$/U.$;
S[4]=V/J.r;S[5]=t/J.r;M.warpValues=B.hL._V(S);var n=new hS;n.translate(-U.x,-U.y);n.scale(H,v);n.translate(J.x,J.y);
if(l<4)return n}else{var G=M.warpRotate.v.Ornt,g=G=="Vrtc",W=j.gd.ap6[x],L=g?-C.x/U.r:-C.y/U.$;L+=W[1];
if(W[1]>.5)L=-L;L/=W[2];var H=U.r/U.$;if(g)H=1/H;if(W[3])L/=H;M.warpValue.v=100*Math.max(-1,Math.min(1,L))}}else if(l!=-1){var b=[l],Y=C.x-Q[l*2],i=C.y-Q[l*2+1];
if(I*c>16){var T=this.dX(d,l);if(T[0]==0){var a=Math.floor(l/I),R=l-a*I;if(R>0)b.push(l-1);if(R<I-1)b.push(l+1);
if(a>0)b.push(l-I);if(a<c-1)b.push(l+I)}}for(var O=0;O<b.length;O++){Q[b[O]*2]+=Y;Q[b[O]*2+1]+=i}j.gd.ua(M,d)}else if(k){j.$$.aIN(d,k[0],k[1],C.x-this.QG.x,C.y-this.QG.y);
j.gd.ua(M,d)}};ay.prototype.pf=function(F,r,$,C){var M=this.$R;this.Ld=null;this.$R=-1;if(M!=-1){var l=j.gd.YR(this.gd),k=j.$$.mA(l,C);
if(M==0||M==1)j.$$.split(l,0,k[0]);if(M==0||M==2)j.$$.split(l,1,k[1]);j.gd.ua(this.gd,l)}F.eD=!0;return M!=-1};
ay.prototype.JG=function(F,r,$){var C=$.ii();if(C.x||C.y){var M=new hS(1,0,0,1,C.x,C.y);j.b.U(this.tn,M,this.tn);
this.TF(F)}};ay.prototype.dX=function(F,O){var r=F[0],$=F[1],C=this.un,M=Math.floor(C/r),l=C-M*r,k=C%3,d=C%3,I=k==0&&d==0,M=Math.floor(O/r),l=O-M*r,k=l%3,d=M%3;
if(k!=0&&d!=0)return null;if(k==0&&d==0)return[0];else{var c=0;if(d==0)c=k==1?O-1:O+1;if(k==0)c=d==1?O-r:O+r;
if(r*$>16){var Q=C==O||C==O+1||C==O-1||C==O+r||C==O-r;if(I&&(Q||C==O+2||C==O-2||C==O+2*r||C==O-2*r)){}else if(!I&&Q){}else return null}return[1,c]}};
ay.a25=function(F,r){var r=F.warpStyle.v.warpStyle,C;if(r=="warpCustom"||r=="warpNone")return null;var $=j.gd.YR(F);
if(r=="warpCylinder"){var M=F.warpValues.v;C=[0,1,1,0,.5,0,.5,1,.75-.25*M[6].v,.5]}else{var l=F.warpRotate.v.Ornt,k=j.gd.ap6[r];
C=l=="Hrzn"?[k[0],k[1]]:[k[1],k[0]]}j.$$.U($,C,new cS(0,0,1,1));return C};ay.prototype.TF=function(F,r){var $=this.gd,C=$.warpStyle.v.warpStyle,M=j.gd.YR($),l=M[0],k=M[1],d=M[3],I=F.pu.O_={C0:[],n:[]},c=F.pu.B0=[],Q=F.pu.P8=[],x=this.un;
if(C=="warpCustom"||C=="warpNone")for(var U=0;U<k;U++)for(var S=0;S<l;S++){var O=U*l+S,z=this.dX(M,O);
if(z==null)continue;var V=d[2*O],t=d[2*O+1],Y=Q;if(z[0]==0)Y=O==x&&l*k>16?Q:c;else{var i=z[1];I.C0.push("M","L");
I.n.push(V,t,d[2*i],d[2*i+1])}Y.push(V,t)}else{var J=ay.a25($);if(J)for(var O=0;O<J.length;O++)c.push(J[O])}for(var U=0;
U+1<k;U+=3)for(var S=0;S+1<l;S+=3){I.C0.push("M","C","C","C","C");var O=U*l+S,H=O+l+l,v=[O,O+1,O+2,O+3,O+l+3,H+3,H+l+3,H+l+2,H+l+1,H+l,H,O+l,O];
for(var O=0;O<v.length;O++){var V=d[v[O]*2],t=d[v[O]*2+1];I.n.push(V,t)}}var n=[],G=[];function g(W,S,T){for(var v=0;
v<=T;v++){G.push(v==0?"M":"L");if(W==0)n.push(S,v/T);else n.push(v/T,S)}}if(r)r=j.$$.mA(M,r);for(var W=0;
W<2;W++){var L=M[2][W],b=W==0?l:k,T=b*5;for(var a=1;a<b;a++){var R=Math.floor((a-1)/3),D=a-(1+R*3);if(D==0)continue;
var S=L[R]+D/3*(L[R+1]-L[R]);g(W,S,T)}var h=this.$R;if(r&&h!=-1&&(h==0||h-1==W))g(W,r[W],T)}j.$$.U(M,n,new cS(0,0,1,1));
j.b.concat(I,{n:n,C0:G});F.eD=!0};ay.prototype.clear=function(F){F.pu.O_=null;F.pu.B0=[];F.pu.P8=[];
F.eD=!0};function eM(){this.eA=!1;this.BL=!1;this.aA_=!1;this.aBP=!1;this.HJ=!1;this.Cc=!1;this.gJ=0;
this.Ua=0}eM.prototype.SY=function(F){this.eA=!0;this.BL=!1;this.HJ=F.D(ac.il);this.Cc=F.D(ac.AH);this.gJ=this.HJ?0:1;
this.Ua=this.Cc?0:1};eM.prototype.JG=function(F){var r=this.aBP=F.D(ac.il),$=this.aA_=F.D(ac.AH);if(this.BL){if(this.gJ==0&&!r)this.gJ++;
if(this.gJ==1&&r)this.gJ++;if(this.Ua==0&&!$)this.Ua++;if(this.Ua==1&&$)this.Ua++}};eM.prototype.GQ=function(){this.BL=!0};
eM.prototype.pf=function(){this.eA=!1};eM.prototype.Fj=function(O){if(O==0)return this.eA?this.Cc:this.aA_;
if(O==1)return this.BL?this.Ua==2:!1};eM.prototype.GO=function(O){if(O==0)return this.eA?this.HJ:this.aBP;
if(O==1)return this.BL?this.gJ==2:!1};B.History=function(){B.m9.call(this,"History",B.sT);this.z9=!0;
this.aGe=0};B.History.prototype=new B.m9;B.History.prototype.Y3=function(F,r,$,C){$.GF=!0;if(F.R=="h_itemchange"){if(F.index<$.Qc)for(var O=$.Qc;
O>F.index;O--)this.oW($);if(F.index>$.Qc)for(var O=$.Qc;O<F.index;O++)this.Am($)}if(F.R=="h_stepfwd")this.Am($);
if(F.R=="h_stepbck")this.oW($);if(F.R=="h_undoredo"){var M=this.z9||this.aGe!=$.Qc;if(M){this.oW($);
M=!1}else{this.Am($);M=!0}this.z9=M;this.aGe=$.Qc}if(F.R=="h_clear"){if(F.force==null)if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
$.history=[new fH([1,0],null)];$.Qc=0}else this.z9=!0};B.History.prototype.oW=function(F){if(F.Qc==0)return;
var r=F.history[F.Qc];r.J.Ea(r.data,F);F.Qc--};B.History.prototype.Am=function(F){if(F.Qc==F.history.length-1)return;
var r=F.history[F.Qc+1];r.J.mY(r.data,F);F.Qc++};B.tt=function(){B.m9.call(this,"Layers",B.pO);this._s=null};
B.tt.prototype=new B.m9;B.tt.prototype.Y3=function(F,r,$,C,M){this._s=r;var l=F.R,k=F.z!=null?F.z:$.K.length!=0?$.K[0]:$.u.length-1,d=$.u[k];
$.Wk=!0;var I=C.D(ac.AH),c=C.D(ac.il),Q=C.D(ac.Xf);if(l==Z.G5&&$.d==null&&($.K.length>1||!$.DI(!1)||$.u[$.K[0]].EX()))l=Z.K7;
if(l==Z.CC){var x=new fH([6,33],this),U=d.EX()?["pass"].concat(dL.NH):dL.NH,S=U[F.FJ],z=F.z!=null?[F.z]:$.K,V=JSON.stringify(z),t=[];
for(var O=0;O<z.length;O++)t.push($.u[z[O]].ww);x.data={R:l,RF:V,DO:t,FJ:S};$.gg(x);this.mY(x.data,$);
this.track(cQ.Yr("Md",{t:"enum",v:{BlnM:dL.Yy(S)}}))}if(l==Z.fs){var x,Y=$.pg(),z=F.z!=null?[F.z]:$.K,V=JSON.stringify(z);
if(Y&&Y.data&&Y.data.R==l&&Y.data.RF==V)x=Y;else{var i=cQ.Yr("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(i);var t=[];for(var O=0;O<z.length;O++)t.push($.u[z[O]].gk);x=new fH([6,32],this);x.data={R:l,RF:V,DO:t,FJ:F.FJ,pm:i.iH};
$.gg(x)}x.data.FJ=F.FJ;x.data.pm.T.v.Opct.v.val=Math.round(F.FJ*100/255);this.mY(x.data,$)}if(l==Z.RK){if(d.add.iOpa==null)d.add.iOpa=255;
var x,Y=$.pg();if(Y&&Y.data&&Y.data.R==l&&Y.data.z==k)x=Y;else{x=new fH("Fill Opacity Change",this);
x.data={R:l,z:k,DO:d.add.iOpa,FJ:F.FJ};$.gg(x)}x.data.FJ=F.FJ;this.mY(x.data,$)}if(l==Z.fu){var J=F.FJ,H=F.z!=null?[F.z]:$.K.slice(0),v=[],n=[],x;
for(var G=0;G<H.length;G++){var g=$.u[H[G]];if(g.add.lspf==null)g.add.lspf=0;var t=g.add.lspf,S=t;for(var O=0;
O<J[0].length;O++){var W=J[1][O],L=1<<W;if((S&L)==0&&J[0][O])S^=L;else if((S&L)!=0&&!J[0][O])S^=L}v.push(t);
n.push(S)}var Y=$.pg(),z=JSON.stringify(H);if(Y&&Y.data&&Y.data.R==l&&JSON.stringify(Y.data.RF)==z){x=Y;
x.data.FJ=n}else{var x=new fH([6,57,1],this);x.data={R:l,RF:z,DO:v,FJ:n};$.gg(x)}this.mY(x.data,$)}if(l==Z.fi){var b="----",T=F.AD,S=null;
for(var O=0;O<kv.Br.aw.length;O++)if(d.add[kv.Br.aw[O]])b=kv.Br.aw[O];var a=d.add[b];if(T=="TySh")S=ho.DB(50,50,M.yc);
var x=new fH("Layer Type",this);x.data={R:l,z:k,acT:[b,a],AD:[T,S]};$.gg(x);this.mY(x.data,$)}if(l==Z.iy){var H=[];
if(I){var R=$.pg(),D=R?R.data:null;if(R!=null&&R.J==this&&D.R==Z.iy&&D.RF.length!=1){var h=new k6(_.E.O);
h.J=B.sT;h.data={R:"h_stepbck"};r.a(h);if(D.z==k)return}var K=$.root.yw(k),X=K,w=[F.z];while(X.parent!=$.root){w.push(X.parent.index);
X=X.parent}for(var O=0;O<$.u.length;O++){var N=$.u[O],X=$.root.yw(O),s=w.indexOf(O)!=-1?!0:N.rR()&&K.depth<X.depth;
if(s!=N.rR())H.push(O)}}else if(F.RF)H=F.RF;else{H.push(k);var A=$.u[k].rR(),i={hE:A?"hide":"show",iH:{classID:A?"Hd":"Shw",null:{t:"VlLs",v:[cQ.sZ("Lyr",!0)]}}};
this.track(i)}var x=new fH("Layer visibility",this,!0);x.data={R:l,RF:H,z:k};$.gg(x);this.mY(x.data,$)}if(l==Z.sJ){if(M.fp==B.cn){var p=new k6(_.E.c);
p.data={R:_.m.Td,J:B.uo};r.a(p)}var q=F.a7w,f=F.A0,E,escape=!1,cj=!1;if(F.IM){if(Q&&(f==0||f==1||f==2)){var e=0;
if(c)e++;if(I)e+=2;var o=new k6(_.E.O,!0);o.J=B.gI;o.data={R:"fromlayer",Fo:[F.z,f,e]};r.a(o);return}}var i={hE:"select",iH:{classID:"null",MkVs:{t:"bool",v:!1}}};
$.aEl();if(C.D(ac.Xf)||F.kc==0){var u=$.K.indexOf(k);if(u==-1)$.K.push(k);else if($.K.length>1){if(F.kc!=0)$.K.splice(u,1)}$.K.sort(function(x,fF){return x-fF});
i.iH.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};E=k}else if(c&&!I&&f>0){l=f==1?Z.nE:f==2?Z.dx:Z.ba;
escape=!0}else if((c||F.kc==1)&&$.K.length>0){var cd=Math.min(k,$.K[0]),m=Math.max(k,$.K[$.K.length-1]);
$.K=[];for(var O=cd;O<=m;O++)if($.u[O].add.lsct!=jR.k9)$.K.push(O);i.iH.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
E=k}else{E=k;if(k>=$.u.length)return;var N=$.u[k];if(N&&N.EX()&&F.auZ)N.add.lsct=jR.ul;else if($.K.length==1&&$.K[0]==k&&Math.max(0,f)==N.Go){cj=!0;
$.Wk=!1}if(!cj){$.K=[k];$.Jq()}}if(!cj){if(E!=null&&E<$.u.length){i.iH.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:$.u[E].getName()}}]},this.track(i)}if(!escape){console.log("no escape");
if($.K.length==1){var aZ=$.K[0];for(var O=0;O<$.u.length;O++){if(O==aZ)continue;var g=$.u[O];g.Go=0;
g.aq=!1}var d=$.u[aZ];if(f==2){d.aq=!d.aq;$.tk=[]}else if(d){d.Go=f<=0?0:f}}else for(var O=0;O<$.u.length;
O++){var g=$.u[O];g.Go=0;g.aq=!1}$.dy=null;$.GF=!0}}if(F.IM&&I){if((f==1||f==3)&&q!=null){var o=new k6(_.E.O,!0);
o.J=B.Li;o.data={R:"mskView",Y:q!=0?0:c?1:2};r.a(o)}else{this.Y3({R:Z.Uw,z:F.z},r,$,C,M)}}}if(l==Z.nE||l==Z.ba){var jN=l==Z.nE,eh=jN?d.rc():d.WZ($).Lj;
if(eh==null)return;var x=new fH(eh.isEnabled?jN?[6,15]:[6,42]:jN?[6,14]:[6,41],this);x.data={R:l,z:k};
$.gg(x);this.mY(x.data,$)}if(l==Z.dx){var eh=d.add.vmsk;if(eh==null)return;var x=new fH(eh.isEnabled?[6,17]:[6,16],this);
x.data={R:l,z:k};$.gg(x);this.mY(x.data,$)}if(l==Z.adH){var iA=d.add.lsct==jR.ul?jR.Xz:jR.ul,X=$.root.yw($.u.indexOf(d)),b0=!1;
if(C.D(ac.Xf)){var hd=X.parent;for(var O=0;O<hd.children.length;O++){var kx=hd.children[O].z;if(kx.EX())kx.add.lsct=iA}}else d.add.lsct=iA;
for(var O=0;O<$.K.length;O++){var gX=$.K[O];if(X.cM<gX&&gX<X.index)b0=!0}if(b0)$.K=[X.index];$.GF=!0}if(l==Z.Uw){if(!$.HC(k))return;
var x=new fH(d.p9?[6,19]:[6,18],this);x.data={R:l,z:k};$.gg(x);if(F.FJ==null||F.FJ!=d.p9)this.mY(x.data,$)}if(l==Z.awi){if(d.yX())d.U4-=32;
else d.U4+=32;$.GF=!0}if(l==Z.o_||l==Z.QO){var x;if(l==Z.o_)x=new fH(d.add.lmfx.masterFXSwitch.v?[6,30,0]:[6,29],this);
if(l==Z.QO)x=new fH(d.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);x.data={R:l,z:k};$.gg(x);this.mY(x.data,$)}if(l==Z.lc||l==Z.j2){var aZ=F.index,x;
if(l==Z.lc)x=new fH(d.add.lmfx[cK.Zb[aZ[0]]].v[aZ[1]].v.enab.v?[6,30,0]:[6,29],this);if(l==Z.j2)x=new fH(d.add.SoLd.filterFX.v.filterFXList.v[aZ].v.enab.v?[6,44]:[6,43],this);
x.data={R:l,z:k,index:F.index};$.gg(x);this.mY(x.data,$)}if(l==Z.tm){if(F.src==F.ZQ)return;var j$=$.u[F.src],i0=$.u[F.ZQ],f7=j$.add.lmfx?JSON.stringify(j$.add.lmfx):"",am=i0.add.lmfx?JSON.stringify(i0.add.lmfx):"";
if(i0.add.lmfx==null){i0.add.lmfx=JSON.parse(cK.default);for(var O=0;O<cK.order.length;O++)i0.add.lmfx[cK.Zb[O]]={t:"VlLs",v:[]}}if(F.gx==null){i0.add.lmfx=JSON.parse(f7);
if(!I)delete j$.add.lmfx}else{var gf=F.gx[0],cC=cK.Zb[gf];if(cK.ams.indexOf(cK.order[gf])==-1)i0.add.lmfx[cC].v=[];
i0.add.lmfx[cC].v.push(j$.add.lmfx[cC].v[F.gx[1]]);if(!I)j$.add.lmfx[cC].v.splice(F.gx[1],1)}var aD=j$.add.lmfx?JSON.stringify(j$.add.lmfx):"",c_=i0.add.lmfx?JSON.stringify(i0.add.lmfx):"";
if(!i0.yX())i0.U4+=32;var x=new fH("Move Layer Styles",this);x.data={R:l,AZ:F.src,Vu:F.ZQ,amB:f7,arK:am,atT:aD,a8E:c_};
$.gg(x);this.mY(x.data,$)}if(l==Z.P1){if(F.src!=null)k=F.src;var g=$.u[k],a9=JSON.stringify(g.add.SoLd),jz=JSON.parse(a9),g3=jz.filterFX.v.filterFXList.v;
g3.splice(F.gx,1);var x=new fH([6,53],this);x.data={R:Z.JM,eF:[{Zu:k,YL:[a9,JSON.stringify(jz)]}]};$.gg(x);
this.mY(x.data,$)}if(l==Z.a85){var e3=I,j$=$.u[F.src],i0=$.u[F.ZQ],c1=[];if(j$!=i0&&i0.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(j$==i0&&!e3&&F.gx==F.Ad)return;if(j$==i0&&F.gx==-1)return;var dI=j$.WZ($),a9=JSON.stringify(j$.add.SoLd),jz=JSON.parse(a9),g3=jz.filterFX.v.filterFXList.v;
if(j$==i0){g3.splice(F.Ad,0,g3[F.gx]);if(!e3)g3.splice(F.gx+(F.gx<F.Ad?0:1),1);c1.push({Zu:F.src,YL:[a9,JSON.stringify(jz)]})}else if(F.gx==-1){var kJ=jz.filterFX;
if(!e3){delete jz.filterFX;c1.push({Zu:F.src,YL:[a9,JSON.stringify(jz)],LI:[dI,null]})}var cA=i0.XE()?i0.WZ($):null,c2=kQ.alR(dI),ee=JSON.stringify(i0.add.SoLd),hF=JSON.parse(ee);
hF.placed.v=c2.id;hF.filterFX=kJ;c1.push({Zu:F.ZQ,YL:[ee,JSON.stringify(hF)],LI:[cA,c2]})}else{var ic=g3[F.gx];
if(!e3){g3.splice(F.gx,1);c1.push({Zu:F.src,YL:[a9,JSON.stringify(jz)]})}var ee=JSON.stringify(i0.add.SoLd),hF=JSON.parse(ee);
if(hF.filterFX==null)hF.filterFX=e9.No();var eH=hF.filterFX.v.filterFXList.v;eH.splice(F.Ad,0,ic);var kz={Zu:F.ZQ,YL:[ee,JSON.stringify(hF)]};
if(!i0.XE()){var c2=kQ.a0e(i0.add.SoLd.placed.v);kz.LI=[null,c2]}c1.push(kz)}var x=new fH([6,52],this);
x.data={R:Z.JM,eF:c1};$.gg(x);this.mY(x.data,$)}if(l==Z.G9){var eh=d.rc(),x=new fH(eh.N9?[6,26]:[6,25],this);
x.data={R:l,z:k};$.gg(x);this.mY(x.data,$);this.track({hE:"set",iH:{classID:"setd",null:{t:"obj ",v:[cQ.sZ("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:eh.N9}}}}})}if(l==Z.uw){var eh=d.add.vmsk,x=new fH(eh.N9?[6,28]:[6,27],this);
x.data={R:l,z:k};$.gg(x);this.mY(x.data,$)}if(l==Z.Cw){var x=new fH("Variables / Datasets",this),kq=JSON.stringify([$.aS,$.Xo]);
if(kq==F.Y)return;x.data={R:l,auH:kq,aah:F.Y};$.gg(x);this.mY(x.data,$)}if(l==Z.g6){var a7=[],x;for(var O=0;
O<$.K.length;O++){var G=$.K[O],N=$.u[G];if(N.add.vogk)a7.push(G,JSON.stringify(N.add.vogk))}for(var O=0;
O<$.tk.length;O++){var G=$.tk[O],N=$.S8[G];if(N.add.vogk)a7.push(-1-G,JSON.stringify(N.add.vogk))}j.EL.azs($,F.Y,F.aq6);
var i6=[];for(var O=0;O<$.K.length;O++){var G=$.K[O],N=$.u[G];if(N.add.vogk)i6.push(G,JSON.stringify(N.add.vogk))}for(var O=0;
O<$.tk.length;O++){var G=$.tk[O],N=$.S8[G];if(N.add.vogk)i6.push(-1-G,JSON.stringify(N.add.vogk))}var Y=$.pg();
if(Y&&Y.data&&Y.data.R==l){var hm=!0;for(var O=0;O<a7.length;O+=2)if(a7[O]!=Y.data.Yi[O])hm=!1;if(hm){x=Y;
x.data.E2=i6}}if(x==null){var x=new fH([12,91,1],this);x.data={R:l,Yi:a7,E2:i6};$.gg(x)}this.mY(x.data,$)}if(l==Z.iM){var bB=JSON.stringify(d.add.artb),iV=JSON.stringify(F.uU),x;
$.u[k].add.artb=JSON.parse(iV);var eO=new cS(0,0,$.r,$.$),aC=B.i0.je($),Y=$.pg();if(Y&&Y.data&&Y.data.R==l&&Y.data.z==k){x=Y;
x.data.uU=iV}if(x==null){var x=new fH("Editing Artboard",this);x.data={R:l,z:k,aAJ:bB,uU:iV,yy:eO};$.gg(x)}x.data.qA=aC;
this.mY(x.data,$)}if(l==Z.mV){var i6=$.Bs.slice(0),fq=$.GY.slice(0),bX=$.d,gb=$.d,s=$.f.BS.slice(0);
if(F.vz=="seltochannel"){var dX=F.Fo[0],cb=i6[dX]=i6[dX].P(),X=j.nu.zv($.d,cb,F.Fo[1]);cb.G=X.G;cb.S=X.S}if(F.vz=="fromAction"){var e6=F.Y.hE,gn=F.Y.iH;
if(e6=="make"||e6=="duplicate"){var a2=i6.length,dj=!1,hr=!1;if($.c1())a2--;var kf=new Z.tp;kf.name="Alpha "+(a2+1);
if(e6=="make"){var iB=gn.Nw.v;kf.color=0;fq=[a2];kf.Nn=!0;kf.Dj=iB.Opct.v;if(iB.Nm)kf.name=iB.Nm.v;if(iB.classID=="SCch"){dj=!0;
gb=null;kf.wV=1}for(var O=0;O<$.Bs.length;O++)$.Bs[O].Nn=!1;s=[0,0,0]}else{var N=$.u[$.K[0]],dm=N.Go==1?N.rc():N.Go==3?N.WZ($).Lj:null,fr=gn.null.v[0].v;
if(gn.Nm)kf.name=gn.Nm.v;if(fr.keyID=="fsel")dj=!0;else if(dm){kf.G=dm.G.slice(0);kf.S=dm.S.P();kf.color=dm.color}else{var dv=B.u_.aoS($);
gb=B.u_.ad1($,dv);kf.color=0;kf.S=gb.S;kf.G=gb.G}}if(dj){kf.color=0;if($.d){kf.S=$.d.S.P();kf.G=$.d.G.slice(0)}if(hr){kf.color=255-kf.color;
j.v4(kf.G)}}i6.splice(a2,0,kf)}else if(e6=="delete"){if(d&&d.rc()&&d.Go==1){this.Y3({R:Z._C},r,$,C,M);
return}var hw=$.GY;hw.sort(function(x,fF){return fF-x});if(hw.length==0)return;for(var O=0;O<hw.length;
O++)i6.splice(hw[O],1);fq=[];s=[1,1,1]}else if(e6=="show"||e6=="hide"){var gT=gn.null.v,cu=null,ha=!1;
for(var O=0;O<gT.length;O++){var g1=gT[O].v[0].v,dd=g1.enum;if(dd=="Trgt"){if(i6[fq[0]]==null)continue;
i6[fq[0]]=i6[fq[0]].P();i6[fq[0]].Nn=e6=="show";ha=!0}else{var dX=["Rd","Grn","Bl"].indexOf(dd);if(cu==null)cu=$.f.BS.slice(0);
cu[dX]=e6=="show"?1:0}}if(cu){var h=new k6(_.E.O,!0);h.J=B.H1;h.data={R:"setcls",BS:cu};r.a(h);if(!ha)return}}}if(F.vz=="rnm"){i6[F.Sc]=i6[F.Sc].P();
i6[F.Sc].name=F.name}var x=new fH("Channel Edit",this);x.data={R:l,Yi:$.Bs.slice(0),k8:$.GY.slice(0),E2:i6,Re:fq,lS:bX,xP:gb,a2l:$.f.BS.slice(0),a80:s};
this.mY(x.data,$);$.gg(x)}if(l==Z.IJ){var gj=new cS(0,0,$.r,$.$),x=new fH(F.qc,this);x.data={R:Z.IJ,pJ:$.u.slice(0),D2:F.D2,HK:$.K.slice(0),cJ:F.xP};
$.gg(x);this.mY(x.data,$);var es=B.i0.Kt($);if(es){x.data.yy=gj;x.data.qA=es}}if(l==Z.O9){var hV=$.UY(null,F.z),iK=1e10;
if(hV.length==0)return;if($.u.length==hV.length){alert("Project must have at least 1 layer");return}var fx=[];
for(var O=0;O<$.u.length;O++)if(hV.indexOf(O)==-1)fx.push($.u[O]);for(var O=0;O<hV.length;O++)iK=Math.min(iK,hV[O]);
while(iK>fx.length-1)iK--;iK=Math.max(iK,0);while(fx[iK].name=="</Layer group>")iK++;this.track({hE:"delete",iH:{classID:"Dlt",null:cQ.sZ("Lyr",!0)}});
var eO=new cS(0,0,$.r,$.$),x=new fH([6,31],this);x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:[iK]};
$.gg(x);this.mY(x.data,$);var aC=B.i0.je($);if(aC){x.data.qA=aC;x.data.yy=eO;B.i0.Kt($)}}if(l==Z.qT){if(!C.D(ac.il))return;
var x=new fH("Switch Layer Link",this);x.data={R:l,z:F.z};$.gg(x);this.mY(x.data,$)}if(l==Z.HW){var hw=F.aDm?F.aDm:$.K,eX=0,dT=!1;
if(hw.length==0)return;if(hw.length==1&&$.u[hw[0]].Q8==0){alert(dG.get([15,7,5]));return}var bo=[];for(var O=0;
O<$.u.length;O++){var f8=$.u[O].Q8;bo.push(f8);eX=Math.max(eX,f8)}var it=-1,b_=-1;for(var O=0;O<hw.length;
O++){var f8=$.u[hw[O]].Q8;if(f8==0)dT=!0;else if(it==-1||it==f8)it=f8;else b_=f8}if(!dT)for(var O=0;
O<hw.length;O++)$.u[hw[O]].Q8=0;else if(it!=-1&&b_==-1)for(var O=0;O<hw.length;O++)$.u[hw[O]].Q8=it;
else for(var O=0;O<hw.length;O++)$.u[hw[O]].Q8=eX+1;var cU=[];for(var O=0;O<$.u.length;O++){var f8=$.u[O].Q8;
if(cU[f8]==null)cU[f8]=0;cU[f8]++}for(var O=0;O<$.u.length;O++){var f8=$.u[O].Q8;if(cU[f8]==1)$.u[O].Q8=0}var iO=bo;
bo=[];for(var O=0;O<$.u.length;O++){var f8=$.u[O].Q8;bo.push(f8);eX=Math.max(eX,f8)}var x=new fH(dT?[6,54,0]:[6,54,1],this);
x.data={R:Z.HW,agZ:iO,ahc:bo};$.gg(x);this.mY(x.data,$)}if(l==Z.K7&&(F.z!=null||$.K.length!=0)||l==Z.KP){var aV=$.ZO(l==Z.K7?F.z:k,null,F.a2z),jD;
if(l==Z.KP){var g=aV[0],e6=g.add.SoLd.Idnt.v,bJ=$.up(e6).P();g.add.SoLd.Idnt.v=bJ.ar=kQ.Vm()+e6.slice(8);
$.add.lnk2.push(bJ)}if(l==Z.K7){var gZ={hE:"duplicate",iH:{classID:"null",null:cQ.sZ("Lyr",!0)}};if(F.PE){aV[aV.length-1].Da(F.PE);
gZ.Nm={t:"TEXT",v:F.PE}}this.track(gZ);F.axs=F.z}l=Z._P;F.u=aV;F.wd=$;F.eK=$}if(l==Z._P){var aK,g5,j9=F.wd,ir=F.eK,ig=0,aT=0,de=j9.Fv(),fm=!1,j_,ip=0,dU=0;
if(j9!=ir){console.log("ADDLAYERS different projs");var aK=new cS(0,0,j9.r,j9.$),g5=new cS(0,0,ir.r,ir.$),fJ=[],kA=[],c5=new cS;
for(var O=0;O<F.u.length;O++){var g=F.u[O];c5=c5.DM(g.S);if(g.add.SoLd==null)continue;var e6=g.add.SoLd.Idnt.v;
if(fJ.indexOf(e6)==-1){fJ.push(e6);kA.push(kQ.Vm()+e6.slice(8))}g.add.SoLd.Idnt.v=kA[fJ.indexOf(e6)];
var dI=g.WZ(j9);if(dI){j9.xO(dI);ir.gm(dI)}}if(de==-1&&!F.x4&&F.asj&&!g5.HV(c5)){ig=-c5.x;aT=-c5.y}if(fJ.length>0){if(ir.add.lnk2==null)ir.add.lnk2=[];
for(var O=0;O<fJ.length;O++){var iD=j9.up(fJ[O]),bJ=iD.P();bJ.ar=kA[O];ir.add.lnk2.push(bJ)}}}var bX=ir.K.slice(0);
bX.sort(function(x,fF){return x-fF});var fx=ir.u.slice(0),gb=[],fA=-1;for(var O=0;O<bX.length;O++)fA=Math.max(fA,bX[O]);
if(F.axs!=null)fA=F.axs;if(F.x4){fA=F.x4-1;var eV=ir.u[F.x4].dh();ig+=eV.x;aT+=eV.y}if(de!=-1&&(j9!=ir||F.x4)){var gY=j9.u[de].dh();
ig-=gY.x;aT-=gY.y}var k2=ir.Pw();for(var O=0;O<k2[0].length;O++){var fD=k2[1][O];if(fD!=-1)k2[1][O]=fx[fD]}fA++;
for(var O=0;O<F.u.length;O++){var N=F.u[O],kP=N.add.artb;fx.splice(fA,0,N);gb.push(fA);fA++;if(kP){j_=!0;
var iC=kP.guideIndeces;if(iC){iC=iC.v;for(var eQ=0;eQ<iC.length;eQ++){k2[0].push(j9.oT[iC[eQ].v].slice(0));
k2[1].push(N);fm=!0}}}}for(var O=0;O<k2[0].length;O++){var fD=k2[1][O];if(fD!=-1)k2[1][O]=fx.indexOf(fD)}for(var O=0;
O<F.u.length;O++){var N=F.u[O];if(N.add.lsct==jR.k9){if(ip==0)dU++;ip++}else if(N.EX())ip--}if(dU==1)gb=[fA-1];
var jt=F.agN;if(jt){var z=[];for(var O=0;O<gb.length;O++)z.push(fx[gb[O]]);for(var O=0;O<jt.length;O++)fx.splice(fx.indexOf(jt[O]),1);
gb=[];for(var O=0;O<z.length;O++)gb.push(fx.indexOf(z[O]))}var x=new fH([6,0],this);x.data={R:Z.IJ,pJ:ir.u.slice(0),D2:fx,HK:bX,cJ:gb};
if(fm){x.data.vA=[ir.Pw(),k2]}ir.gg(x);this.mY(x.data,ir);if(ig!=0||aT!=0)B.qW.Rb(ir,ir.UY(),null,ig,aT);
if(j_){x.data.yy=new cS(0,0,ir.r,ir.$);x.data.qA=B.i0.je(ir);B.i0.Kt(ir)}}if(l==Z.Gb){var hy=F.z!=null?[F.z]:$.UY(),fx=$.u.slice(0);
for(var O=0;O<hy.length;O++){var N=$.u[hy[O]].P();N.MQ($);fx.splice(hy[O],1,N)}var x=new fH([6,8],this);
x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:$.K.slice(0)};$.gg(x);this.mY(x.data,$)}if(l==Z.a2s){var fx=$.u.slice(0),N=fx[$.K[0]]=fx[$.K[0]].P(),jh=N.add.lmfx,fs,eV;
delete N.add.lmfx;var eL=$.K[0],h_=eL+1;if(N.EX()){var fS=$.u[$.K[0]].FM;eV=fS.aeP;fs=fS.Z3;var X=$.root.yw(eL);
eL=X.cM}else{eV=N.S;fs=j.j(eV.C());j.Eg(N.buffer,fs,3)}var jH=en.Ln(jh,N.add.fxrp,fs,eV,$,eV).I;for(var O=0;
O<cK.order.length;O++){var iW=cK.order[O],hl=jH[iW];hl.reverse();for(var eQ=0;eQ<hl.length;eQ++){var gJ=hl[eQ],z=$.at(),gS=O>7;
if(iW=="ebbl"){if(gJ.Sr||gJ.uX){var e5=gJ.Sr?gJ.Sr:gJ.uX;if(gJ.Sr)delete gJ.Sr;else delete gJ.uX;if(gJ.uX||gJ.X2)eQ--}else if(gJ.X2||gJ.iR){var e5=gJ.iR?gJ.iR:gJ.X2;
if(gJ.iR){delete gJ.iR;if(gJ.X2)eQ--}gS=!0}gJ=e5}z.ww=gJ.uN;z.gk=Math.round(255*gJ.Lk);z.buffer=gJ.fU;
z.S=gJ.W5.P();z.S.offset(eV.x,eV.y);if(iW=="FrFX"){z.buffer=z.buffer.slice(0);j.dr(gJ.UZ?gJ.UZ:gJ.W1,z.buffer,3);
if(gJ.UZ){gS=!0;delete gJ.UZ;if(gJ.W1)eQ--}}z.p9=!gS;z.Da(N.getName()+"'s "+dG.get(cK.names[O]));fx.splice(gS?eL:h_,0,z);
if(gS)h_++}}var x=new fH("Styles to Layers",this);x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:[h_-1]};
$.gg(x);this.mY(x.data,$)}if(l==Z.a8F){var hy=$.UY(),fx=$.u.slice(0),h5=new cS(0,0,$.r,$.$);for(var O=0;
O<hy.length;O++){var jG=$.u[hy[O]],eE=jG.rR();jG.Gj(!0);var bz=$.root.yw(hy[O]);if(jG.EX())continue;
if(bz==null)continue;var N=jG.P();N.MQ($);var hQ=bz.y2($,!0),cO=$.u;$.C8([jG]);$.vM();$.ol();N.buffer=j.j(hQ.C()*4);
j.mR($.Ez(),h5,N.buffer,hQ);N.S=hQ;N.gk=255;N.add.iOpa=255;N.ww="norm";N.vM();N.FM.av=!0;$.C8(cO);if(N.add.lmfx)delete N.add.lmfx;
N.Lj=N.Ci=null;fx.splice(hy[O],1,N);N.Gj(eE);jG.Gj(eE)}var x=new fH([6,34],this);x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:$.K.slice(0)};
$.gg(x);this.mY(x.data,$)}if(l==Z.Hy){var hy=$.UY(),fx=$.u.slice(0);for(var O=0;O<hy.length;O++){var N=$.u[hy[O]],dk=N.add.TySh;
if(dk==null)continue;var g=new j5(dk.$E,M.v7,dk.Yb),dC=j.b.el(dJ.Pe(g,dk,!0));for(var bY in dC){var ch=dC[bY],kx=N.P();
delete kx.add.TySh;kx.U4=kx.U4|1<<4;kx.add.SoCo=j.N(cK.zH[0]);var e$=kx.add.SoCo.Clr.v;e$.Rd.v=parseInt(bY.slice(1,3),16);
e$.Grn.v=parseInt(bY.slice(3,5),16);e$.Bl.v=parseInt(bY.slice(5,7),16);var iM=new Z.kf;iM.M=j.b.RJ(ch,!1);
if(kx.add.vmsk!=null){kx.add.vmsk.an6();iM.concat(kx.add.vmsk)}kx.add.vmsk=iM;kx.add.vstk=cK.Ok.Mv(!0);
kx.ud();kx.uH($);fx.splice(fx.indexOf(N),0,kx)}fx.splice(fx.indexOf(N),1)}var gb=$.K.slice(0);for(var O=gb.length-1;
O>=0;O--)if(gb[O]>=fx.length)gb.splice(O,1);var x=new fH([6,40],this);x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:gb};
$.gg(x);this.mY(x.data,$)}if(l==Z.axS){var b6=$.K.length,jY,aJ;if(b6<2){alert("Select two or more layers.");
return}for(var O=0;O<b6;O++){var gY=$.u[$.K[O]].S;jY=O==0?gY:jY.R7(gY);aJ=O==0?gY:aJ.DM(gY)}if(jY.C()*1.2>aJ.C()){alert("stacking images");
var j1=[],kU=[];for(var O=0;O<b6;O++){var N=$.u[$.K[O]];j1.push(N.buffer);kU.push(N.S)}var da=j.aEM.lF(j1,kU),kk=da[0],jb=da[1],hC=[];
for(var O=0;O<b6;O++){var eh=new Z.tp;eh.color=255;eh.S=jb;eh.G=kk[O];hC.push($.K[O],null,eh)}var x=new fH("Focus-Stack",this);
x.data={R:Z.Gs,nM:hC};$.gg(x);this.mY(x.data,$);return}if(!$.Za())return;var kx=$.u[$.K[0]].P(),fx=[];
for(var O=0;O<$.u.length;O++)if($.K.indexOf(O)==-1)fx.push($.u[O]);fx.splice($.K[0],0,kx);for(var O=1;
O<b6;O++)if($.u[$.K[O]].S.C()>2e6){alert("Blended areas are too large.");return}for(var O=1;O<b6;O++){var N=$.u[$.K[O]],jb=N.S.P();
jb.lW(1,1);var fF=j.j(jb.C()*4);j.mR(N.buffer,N.S,fF,jb);kx.extend(jb);var hX=j.j(jb.C()*4);j.mR(kx.buffer,kx.S,hX,jb);
var x=j.j(jb.C());j.Eg(fF,x,3);j.round(x,200);j.dr(x,fF,3);j.v.O5("norm",fF,jb,hX,jb,jb,1);j.i7.AY(hX,x,jb);
j.mR(hX,jb,kx.buffer,kx.S)}var x=new fH([2,10,0],this);x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:[$.K[0]]};
$.gg(x);this.mY(x.data,$)}if(l==Z.Xk){var fx=$.u.slice(0),fq=$.K.slice(0);for(var O=0;O<fx.length;O++){var N=fx[O],ji=N.add.vmsk;
if(N.Og()&&ji&&N.add.vstk.strokeEnabled.v&&!N.add.vstk.fillEnabled.v){var gD=ji.M,kX=0,iN=-1;for(var eQ=0;
eQ<gD.length;eQ++){if((gD[eQ].I==0||gD[eQ].I==3)&&gD[eQ].ea!=-1){kX++;if(gD[eQ].I==3&&iN==-1){gD[eQ].VW=gD[eQ].ea=1;
iN=eQ}}}if(kX>1&&iN!=-1&&kX<10){console.log("separating an open path into a new layer");N=N.P();ji=N.add.vmsk;
gD=ji.M;var z=gD[iN].length,jt=N.P();jt.add.lyid=$.xV();ji.M=gD.slice(0,2).concat(gD.slice(iN,iN+z+1));
ji.K=[];N.uH($);N.vM();var aA=jt.add.vmsk.M;jt.add.vmsk.M=aA.slice(0,iN).concat(aA.slice(iN+z+1,aA.length));
jt.add.vmsk.K=[];jt.uH($);fx[O]=N;fx.splice(O+1,0,jt);for(var eQ=0;eQ<fq.length;eQ++)if(fq[eQ]>O)fq[eQ]++;
var fX=fq.indexOf(O);if(fX!=-1){fq.splice(fX+1,0,O+1)}}}}if(fx.length!=$.u.length){var x=new fH("Splitting open paths",this);
x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:fq};$.gg(x);this.mY(x.data,$)}}if(l==Z.Ko){this.Y3({R:Z.Xk},r,$,C,M);
var bX=$.K.slice(0),cO=$.u.slice(0),hy=$.UY();if(hy.length==0)return;$.ayW(hy,!1,F.$I);var x=new fH([6,36,0],this);
x.data={R:Z.IJ,pJ:cO,D2:$.u.slice(),HK:bX,cJ:$.K.slice(0)};$.gg(x);this.mY(x.data,$)}if(l==Z.ai0){var a9=d.add.SoLd;
if(a9==null)return;var e6=a9.Idnt.v,kG=$.up(e6);kG.Ez(!1);var cr=j.Mz(kG.gn[0],8),jb=kG.gn[1];if(j.Q3(cr)){alert("The smart object contains transparency.");
return}var bf=dN.LD("jpg").x2([[cr.buffer]],jb.r,jb.$,[90]);this.Y3({R:Z.Ss,data:new Uint8Array(bf),fO:"image.jpg"},r,$,C,M);
console.log($.add);return}if(l==Z._x){var a9=d.add.SoLd,gy=!1;if(a9==null)return;var e6=a9.Idnt.v,cB=new kQ;
go.CO($.M3(e6).raw.buffer,cB);if(F.vz!="del")for(var O=1;O<cB.u.length-1;O++)cB.u[O].Gj(!1);if(F.vz=="switch"){cB.u[F.Y].Gj(!0);
gy=!0}else if(F.vz=="del"){cB.u.splice(F.Y,1);cB.K=[cB.u.length-1]}else{var N=cB.at();N.S=d.S.P();N.Da(F.amh);
var bP=N.buffer=j.j(N.S.C()*4);j.mR(F.Y[0],F.Y[1],bP,N.S);N.S.x=N.S.y=0;cB.u.splice(cB.u.length-1,0,N)}var iz=dN.AV.x2(cB);
this.Y3({R:Z.Ss,data:new Uint8Array(iz),fO:"image.psd",id:e6,aJU:gy},r,$,C,M);return}if(l==Z.Ss){var h5=F.xB,e6=F.id;
if(h5==null)h5=$;if(e6==null)e6=d.add.SoLd.Idnt.v;var iD=h5.up(e6),bJ=iD.P();bJ.raw=F.data;bJ.fO=F.fO;
var d6=dN.GN(F.data.buffer);if(d6=="psd"){bJ.d8="8BIM";bJ.Ef="8BPB"}else{bJ.d8="    ";bJ.Ef="    "}bJ.Ez(!1);
iD.Ez(!1);var R=$.pg();if(F.aJU&&R&&R.J==this&&R.data.R==l&&R.data.id==e6){x=R;x.data.IK=bJ}else{var x=new fH(F.aJU?"Select Variation":[6,36,1],this);
x.data={R:Z.Ss,id:e6,ui:iD,IK:bJ};h5.gg(x)}this.mY(x.data,h5)}if(l==Z.SH){var x=new fH([6,36,4],this);
x.data={R:l,z:k,Ir:d.add.SoLd.Impr.v.classID,FJ:F.FJ};$.gg(x);this.mY(x.data,$)}if(l==Z.a1){var dc,gE;
if(F.Ow){dc=F.xB;gE=F.Ow}else{F.xB.CJ();F.xB.mC();F.xB.vM();F.xB.ol();F.xB.Ez();dc=dN.LD("PSD").x2(F.xB,0,0,[!0,!0]);
gE=F.xB.name}if(!(dc instanceof ArrayBuffer))throw"e";dc=new Uint8Array(dc);var u=F.PS;if(u==null){if($.K.length==0)u=$.K.length;
else{var gX=$.K[$.K.length-1],z=$.u[gX];u=z.EX()?gX:gX+1}}var dQ=new cS(0,0,$.r,$.$),el=$.Fv();if(el!=-1)dQ=$.u[el].dh();
var aO=$.eM(dc,gE,null,null,dQ,M.v7,r),fx=$.u.slice(0);fx.splice(u,0,aO);var x=new fH([6,36,2],this);
x.data={R:Z.IJ,pJ:$.u.slice(),D2:fx,HK:$.K.slice(0),cJ:[fx.indexOf(aO)]};$.gg(x);this.mY(x.data,$)}if(l==Z.yg&&F.vz=="merge"){var br=[],bR=$.root.children,dg=0;
for(var O=0;O<bR.length;O++){var X=bR[O],N=X.z,jX=X.children,hM=!0;if(!N.EX()||jX.length==0)continue;
for(var eQ=0;eQ<jX.length;eQ++)if(!jX[eQ].z.getName().startsWith("_a_")){hM=!1;break}if(hM)br.push($.u.indexOf(N))}var gl=[];
for(var O=0;O<br.length;O++)if($.K.indexOf(br[O])!=-1)gl.push(br[O]);if(gl.length>=2)br=gl;if(br.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var fN=[];for(var O=0;O<br.length;O++)fN.push($.u[br[O]].getName());var hl=[];for(var cp=0;cp<br.length;
cp++){var X=$.root.yw(br[cp]),kz=[[],[],0,cp];hl.push(kz);for(var O=0;O<X.children.length;O++){var G=X.children[O].index,N=X.children[O].z,kf=N.getName(),ky=20,gg=kf.split(",");
if(gg.length>1){var cg=parseInt(gg.pop());if(!isNaN(cg)&&cg!=0)ky=cg}if(ky<17)ky=17;kz[0].push(N);kz[1].push(ky);
kz[2]+=ky}}hl.sort(function(x,fF){return fF[2]-x[2]});if(hl[0][2]>2e3){var ai=0,jw=0;for(var O=0;O<hl.length;
O++){var bV=hl[O][1].length/hl[O][2];if(bV>jw){jw=bV;ai=O}}var aN=(hl[0][2]/1e3).toFixed(1),gR=window.confirm("- \""+fN[hl[0][3]]+"\" is "+aN+" seconds long\n"+"- \""+fN[hl[ai][3]]+"\" is playing at "+Math.round(jw*1e3)+" frames per second\n"+"A merged animation must be "+aN+" sec, up to "+Math.round(hl[0][2]*jw)+" frames. Proceed?");
if(!gR)return}var ih=hl[0],kM=ih[2];for(var fD=1;fD<hl.length;fD++){var kz=hl[fD],iZ=1,eJ=kz[1].slice(0),io=0;
while((iZ+1)*kz[2]<=ih[2]){iZ++;eJ=eJ.concat(kz[1])}kz[1]=eJ;kz[2]*=iZ;var b$=ih[2]/kz[2];for(var O=0;
O<kz[1].length;O++){var jd=Math.floor(kz[1][O]*b$);kz[1][O]=jd;io+=jd}while(io<kM){io++;kz[1][kz[1].length-1]++}kz[2]=io}var cZ=[],gq=[],jd=[];
for(var O=0;O<hl.length;O++){cZ.push(0);gq.push(0)}while(dg<kM){var bh=1e9,a2=-1;for(var O=0;O<hl.length;
O++){var fp=hl[O][1],eL=cZ[O];if(eL!=fp.length&&gq[O]+fp[eL]<dg+bh){a2=O;bh=gq[O]+fp[eL]-dg}}gq[a2]+=hl[a2][1][cZ[a2]];
cZ[a2]++;if(bh!=0){jd.push(bh);dg+=bh}}for(var O=1;O<jd.length;O++){var h4=jd[O];if(h4<16&&(jd[O-1]<16||O<jd.length-1&&16<=jd[O+1])){jd[O-1]+=h4;
jd.splice(O,1);O--}}var eE=[],h5=new cS(0,0,$.r,$.$);for(var O=0;O<$.u.length;O++){eE[O]=$.u[O].rR();
$.u[O].Gj(!1)}var av=$.K.slice(0);$.K=br;var hV=$.UY();hV.sort(function(x,fF){return x-fF});var fx=[];
for(var O=0;O<$.u.length;O++){if(hV.indexOf(O)==-1)fx.push($.u[O])}hl.sort(function(x,fF){return x[3]-fF[3]});
function ka(fp,iS){var O=0,b1=0;while(b1+fp[O]<=iS){b1+=fp[O];O++}return O}dg=0;fx.splice(hV[0],0,$.fm());
for(var bx=0;bx<jd.length;bx++){var H=[];for(var O=0;O<hl.length;O++){var eL=ka(hl[O][1],dg)%hl[O][0].length,N=hl[O][0][eL];
H.push(N)}var N=$.at();for(var O=0;O<hl.length;O++){var cY=H[O],hd=$.u[br[O]];cY.Gj(!0);hd.Gj(!0)}$.vM();
$.ol();var cr=$.Ez();N.S=j.CY(cr,h5,2);N.buffer=j.j(N.S.C()*4);j.mR(cr,h5,N.buffer,N.S);for(var O=0;
O<hl.length;O++){var cY=H[O],hd=$.u[br[O]];cY.Gj(!1);hd.Gj(!1)}N.Gj(bx==0);N.Da("_a_frm"+bx+","+jd[bx]);
fx.splice(hV[0]+1+bx,0,N);dg+=jd[bx]}var N=$.at();N.Da(fN.join(" + "));N.ww="pass";N.add.lsct=jR.Xz;
N.U4=24;fx.splice(hV[0]+1+jd.length,0,N);for(var O=0;O<$.u.length;O++)$.u[O].Gj(eE[O]);var x=new fH([6,12,0],this);
x.data={R:Z.IJ,pJ:$.u,D2:fx,HK:av,cJ:[hV[0]+1+jd.length]};$.gg(x);this.mY(x.data,$)}if(l==Z.GC||l==Z.JY){var hL=$.K.length==1&&!$.u[$.K[0]].EX(),aR=!0,aO=null,gb;
if(hL&&$.K[0]==0)return;var k7=l==Z.GC&&F.z!=null&&$.K.indexOf(F.z)==-1,cO=$.u.slice(0),bX=$.K.slice(0);
if(hL||k7)$.K=[k,k-1];if(l==Z.JY){$.K=[];for(var O=0;O<$.u.length;O++)if($.u[O].rR())$.K.push(O)}var hy=$.UY();
hy.sort(function(x,fF){return x-fF});var gC=new cS,h5=new cS(0,0,$.r,$.$);for(var O=0;O<hy.length;O++){var G=hy[O],N=$.u[G];
if(N.EX()||N.getName()=="</Layer group>")continue;aR=aR&&N.Og()&&N.add.vmsk!=null;gC=gC.DM($.root.yw(G).y2($,!0))}if(F.nu!=null&&!aR){alert("Select shape layers only.");
return}if(aR){var ji=null,gW=F.nu;for(var O=0;O<hy.length;O++){var z=$.u[hy[O]];if(z.S.C()==0)continue;
if(aO==null){aO=z.P();ji=aO.add.vmsk}else{var z=$.u[hy[O]],aA=Z.kf.I4(z.add.vmsk.M);if(gW!=null)for(var eQ=0;
eQ<aA.length;eQ++)if(aA[eQ].ea!=null&&aA[eQ].ea!=-1)aA[eQ].ea=[1,2,3,0][gW];ji.M=ji.M.concat(aA.slice(2));
aO.add.vogk=aO.add.vogk.concat(j.N(z.add.vogk))}}aO.add.vmsk.qX=!0;aO.uH($)}else if(h5.qC(gC)){aO=$.at();
aO.Da($.u[hy[hy.length-1]].getName());aO.S=gC;aO.buffer=j.j(gC.C()*4);var iF=$.add.artd;delete $.add.artd;
var iY=$.Ez(hy);if(iF)$.add.artd=iF;j.mR(iY,h5,aO.buffer,gC);aO.uF();aO.vM()}else{$.ayW(hy,!0);aO=$.u[$.K[0]];
$.u.splice($.K[0],1);var f_=$.up(aO.add.SoLd.Idnt.v);$.add.lnk2.splice($.add.lnk2.indexOf(f_),1);delete aO.add.SoLd}var ba=I,hU=-1;
if(F.iH&&F.iH.Dplc&&F.iH.Dplc.v)ba=!0;if(ba&&l==Z.JY&&bX.length!=0&&$.u[bX[0]].he()&&$.u[bX[0]].S.XS()){hU=bX[0]}if(hU!=-1||hL){var im=$.u[hU!=-1?hU:k-1];
aO.Da(im.getName());aO.add.lclr=im.add.lclr}var fx=[];for(var O=0;O<$.u.length;O++)if(ba||hy.indexOf(O)==-1)if(O!=hU)fx.push($.u[O]);
var je=hy[hy.length-1],ft=je==$.u.length-1?null:$.u[je+1],jf=ft?fx.indexOf(ft):fx.length;fx.splice(jf,0,aO);
gb=[jf];if(k7)gb=bX.slice(0);var x=new fH([6,12,0],this);x.data={R:Z.IJ,pJ:cO,D2:fx,HK:bX,cJ:gb};$.gg(x);
this.mY(x.data,$)}if(l==Z.abX){var kx=$.at();kx.S=new cS(0,0,$.r,$.$);kx.buffer=j.j(kx.S.C()*4);kx.buffer.fill(255);
j.v.O5("norm",$.Ez(),kx.S,kx.buffer,kx.S,kx.S,1);kx.Da("Background");kx.add.lspf=1<<2;var x=new fH([6,12,1],this);
x.data={R:Z.IJ,pJ:$.u.slice(),D2:[kx],HK:$.K.slice(0),cJ:[0]};$.gg(x);this.mY(x.data,$)}var fa=l==Z.G5||l==Z.RP;
if(l==Z.M1||l==Z.AR||l==Z.mv||l==Z.Y0||fa){var N=fa?$.ZO()[0]:$.at(),d5=dG.get([0,3]),a6=F.PE,b7=!1,cs,aB;
if(l==Z.mv)d5=dG.get([12,76,1]);if(fa){if($.d){var jG=$.u[$.K[0]],a_=jG.d5($,$.d);if(a_==null){alert("Copied area is empty");
return}N.S=a_.S;N.buffer=a_.PF;N.MQ($);N.Gj(!0)}else a6=N.getName();N.add.lspf=0;N.p9=!1;if((N.U4&1)!=0)N.U4--}if(l==Z.Y0){N.S=B.tt.ab$(F.TT,$);
N.buffer=j.Mz(F.TT.buffer.slice(0),j.cN(N.buffer));if(F.abB&&$.d){N.Lj=new Z.tp;N.Lj.S=$.d.S;N.Lj.color=0;
N.Lj.G=$.d.G.slice(0)}}if(l==Z.M1){this.track({hE:"make",iH:{classID:"Mk",null:cQ.sZ("Lyr")}})}if(l==Z.AR){N.U4|=16;
var h1=F.iH.Usng.v,ff=h1.Type.v,cX=f0.PW[ff.classID];d5=dG.get(f0.names[cX]);if(h1.Nm)a6=h1.Nm.v;N.add[cX]=e9.Mv(cX);
if(N.add[cX]==null)N.add[cX]={};for(var d$ in ff)N.add[cX][d$]=j.N(ff[d$]);N.Lj=B.tt.anK($);N.Go=1}if(l==Z.mv){N.U4|=16;
var gn=F.iH,h1=gn.Usng.v,hh=h1.Type.v,hs=h1.Shp;if(h1.Nm)a6=h1.Nm.v;if(hs==null){var fo=$.Ug(),dC=fo[0],al=fo[1];
if(al.length!=0&&dC[al[0]].Sc<0){var hE=dC[al[0]].add;N.add.vmsk=hE.vmsk.P();N.add.vstk=cK.Ok.Mv(!0);
N.add.vogk=j.N(hE.vogk);$.tk=[]}else N.Lj=B.tt.anK($)}else{N.add.vmsk=new Z.kf;N.add.vstk=j.N(h1.strokeStyle?h1.strokeStyle.v:cK.Ok.Mv(!0));
N.add.vogk=[];if(hs){var fO=j.EL.CV(hs,$.r,$.$);if(fO){N.add.vogk=[fO];N.add.vmsk.M.push({I:0,ea:1,length:0});
j.EL.M9(N.add.vogk,N.add.vmsk)}else{hs=hs.v;var js=hs.classID;if(js=="Plgn"){var g1=hs.Cntr.v,gY=hs.corner.v;
g1=new hx(g1.Hrzn.v.val,g1.Vrtc.v.val);gY=new hx(gY.Hrzn.v.val,gY.Vrtc.v.val);N.add.vmsk.M=j.w.tQ.Kx(g1.x,g1.y,Math.sqrt(gY.x*gY.x+gY.y*gY.y),Math.atan2(gY.y,gY.x),hs.sides.v,0)}else if(js=="customShape"){var eN=j.EL.WM(hs),hc=eN[2]-eN[0],cE=eN[3]-eN[1],h3=M.y_,gk,f5;
for(var O=0;O<h3.length;O++)if(h3[O].tV==hs.Nm.v)gk=h3[O];if(gk){f5=Z.kf.I4(gk.M);j.w.J_(f5,new hS(hc,0,0,cE,eN[0],eN[1]))}else f5=j.w.tQ.Rect(eN[0],eN[1],hc,cE,0);
N.add.vmsk.M=f5}N.ud()}}}if(gw==0){var ef={solidColorLayer:0,gradientLayer:1,patternLayer:2}[hh.classID],a4=["SoCo","GdFl","PtFl"][ef];
N.add[a4]=j.N(cK.zH[ef]);if(ef==0)N.add[a4].Clr.v=j.qS.NG(j.iW(M.y1));B.tt.NM(hh,N.add[a4],ef);if(hs==null)d5=dG.get([6,48,0,ef]);
if(a4=="PtFl"){var eS=N.add[a4].Ptrn.v,gg=en.Qv(eS,M.We);if(gg==null)gg=en.Qv(eS,$.add.Patt);if(gg==null)gg=M.We[0];
eS.Idnt.v=gg.id;$.o0(gg)}N.uH($)}else{N.add.vstl=j.N(M.a7n)}}var b6=B.tt.CU($,d5+" ");N.Da(d5+" "+(b6+1));
if(a6)N.Da(a6);var ey=$.K.length==0?$.u.length-1:$.K[$.K.length-1],kw=$.u[ey];if(gw==0&&l==Z.mv&&kw.he()&&kw.S.XS()){b7=!0;
N.Da(kw.getName());cs=ey}else{cs=ey+(l==Z.M1&&Q&&!c?0:1);if(kw&&kw.add.lsct==jR.ul)cs--}if(F.afr)cs=Math.max(0,cs-1);
var fx=$.u.slice(0);if(l==Z.RP){var g2=fx[$.K[0]]=fx[$.K[0]].P(),ej=$.d.G.slice(0);j.v4(ej);j.PO(ej,$.d.S,g2.buffer,g2.S)}fx.splice(cs,b7?1:0,N);
var kH=[5,2];if(l==Z.M1)kH=[6,13];if(l==Z.AR)kH=[6,1];if(l==Z.mv){kH=[6,48,1];var hs=F.iH.Usng.v.Shp;
if(hs){var ci={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[hs.v.classID];
if(ci)kH=ci}}if(fa){kH=[6,49,l==Z.G5?0:1]}if(fa||l==Z.mv||l==Z.Y0||l==Z.AR)if($.d)aB=[$.d,null];var x=new fH(kH,this);
x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:[cs],bz:aB};$.gg(x);this.mY(x.data,$);if(l==Z.mv&&hs==null&&ef!=0||l==Z.AR){var p=new k6(_.E.c);
p.data={R:_.m.KS,rS:df.sy.VK};r.a(p)}}if(l==Z.amT){var fx=$.u.slice(0),N=$.u[$.K[0]],b4=N.S.C(),ag=b4*4,aZ=fx.indexOf(N),im=$.at();
im.Da("Decomposition");im.add.lsct=jR.ul;im.ww="pass";im.U4=24;fx.splice(aZ+1,0,im);fx.splice(aZ+1,0,$.fm());
var iI=N.P();iI.Da("Residual");fx.splice(aZ+2,0,iI);function bh(x,fF,O){fF[O]+=128-x[O];fF[O+1]+=128-x[O+1];
fF[O+2]+=128-x[O+2];fF[O+4]+=128-x[O+4];fF[O+5]+=128-x[O+5];fF[O+6]+=128-x[O+6]}fx.splice(aZ,0);var k$=Date.now();
for(var az=0;az<5;az++){var jt=iI.P();fx.splice(aZ+3,0,jt);jt.gk=128;jt.ww="lLit";jt.Da("Scale "+(az+1));
e9.lY(1<<az,1,iI.buffer,N.S);var eN=iI.buffer,fP=new Uint8ClampedArray(jt.buffer.buffer);for(var O=0;
O<ag;O+=8)bh(eN,fP,O)}var x=new fH("Wavelet Decompose",this);x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:[aZ+2]};
$.gg(x);this.mY(x.data,$)}if(l==Z.HI){var N=$.at(),d5=dG.get([0,4]),b6=B.tt.CU($,d5+" ");N.Da(d5+" "+(b6+1));
N.ww="pass";N.add.lsct=jR.ul;N.U4=24;if(F.PE)N.Da(F.PE);if(F.sK!=null)N.add.lclr=F.sK;var ge=$.fm(),ey=k,cs=ey+(Q?0:1),fx=$.u.slice(0);
fx.splice(cs,0,ge,N);var x=new fH([6,20],this);x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:[cs+1]};
$.gg(x);this.mY(x.data,$)}if(l==Z.Um||l==Z.ga){var cn=l==Z.Um?F.source:$.K[0],g$,hY,fw=$.K.indexOf(cn)!=-1,dp=I|F.aeQ,g_,bh=null;
if(fw)g_=$.UY();else g_=$.Mg(cn);g_.sort(function(x,fF){return x-fF});if(l==Z.Um){g$=F.target;hY=F.oc>.5}else if(F.target!=null){g$=Math.min(F.target,$.u.length-1);
hY=F.target<$.u.length;$.eS=!0}else{var ar=F.vz;hY=ar>1;if(ar==0){g$=$.u.length-1}if(ar==1){g$=g_[g_.length-1]+1;
var z=$.Mg(g$);if(z.indexOf(cn)==-1)g$+=z.length-1}if(ar==2){g$=g_[0]-1;var z=$.Mg(g$);if(z.indexOf(cn)==-1)g$-=z.length-1}if(ar==3){g$=0;
if($.u[0].add.lnsr=="bgnd")g$++}if(g$<0||g$>$.u.length-1)return;$.eS=!0}if(g_.indexOf(g$)!=-1&&!dp)return;
var g8=B.tt.bV($,g_,g$,hY,dp?$.ZO(fw?null:cn):null,l==Z.Um&&F.oc>.8),kC=g8.pop(),fq=g8.pop(),fx=g8.pop(),hn=$.K;
$.K=[cn];var de=$.Fv();$.K=[g$];var gi=$.Fv();if(gi==g$&&!hY)gi=-1;$.K=hn;if(cn==de){}else if(de!=gi){var bh=new hx(0,0);
if(de!=-1){var jb=$.u[de].dh();bh.x-=jb.x;bh.y-=jb.y}if(gi!=-1){var jb=$.u[gi].dh();bh.x+=jb.x;bh.y+=jb.y}}var x=new fH(dp?[6,0]:[6,35],this);
x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:fq,WP:bh};$.gg(x);this.mY(x.data,$);var gn={classID:"move",null:cQ.sZ("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:kC+(hY?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:dp}};
this.track({hE:"move",iH:gn})}if(l==Z.dY){var kw=F.Ge;if(F.kK){if(d==null||!d.EX())return;var X=$.root.yw(k),eY=$.u.indexOf(X.n9),fx=$.u.slice(0);
fx.splice(k,1);fx.splice(eY,1);var fq=[];for(var O=eY;O<k-1;O++)fq.push(O);if(kw){var cd=k-2;fx[cd]=fx[cd].P();
fx[cd].Ge=!1}var x=new fH(kw?[6,6,0]:"Ungroup Layers",this);x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:fq};
$.gg(x);this.mY(x.data,$)}else{var N=$.at(),bS=dG.get([0,4])+" ";N.Da(bS+(B.tt.CU($,bS)+1));N.ww="pass";
if(kw){if($.K.length==1){alert("Select more than one layer for a clipping group.");return}N.Da("<Clip Group>")}if(F.PE)N.Da(F.PE);
if(F.sK!=null)N.add.lclr=F.sK;N.add.lsct=$.K.length==1?jR.ul:jR.Xz;N.U4=24;var ge=$.fm(),g_=$.UY();if(g_.length==0)return;
g_.sort(function(x,fF){return x-fF});var fx=[];for(var O=0;O<$.u.length;O++)if(g_.indexOf(O)==-1)fx.push($.u[O]);
var ey=$.K[$.K.length-1]-g_.length;fx.splice(ey+1,0,ge);for(var O=0;O<g_.length;O++)fx.splice(ey+2+O,0,$.u[g_[O]]);
fx.splice(ey+2+g_.length,0,N);if(kw){var cd=ey+g_.length+1;fx[cd]=fx[cd].P();fx[cd].Ge=!0}var x=new fH(kw?[6,6,0]:[6,9],this);
x.data={R:Z.IJ,pJ:$.u.slice(0),D2:fx,HK:$.K.slice(0),cJ:[fx.indexOf(N)]};$.gg(x);this.mY(x.data,$);var i={hE:"make",t2:!0};
i.iH={classID:"Mk",null:cQ.sZ("layerSection"),From:cQ.sZ("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:N.getName()}}}};
this.track(i)}}if(l==Z.a9a){if($.K.length!=1)return;var u=$.K[0],kY=I;if($.u[u].rc()==null&&!C.D(ac.Xf)){l=Z.jT;
F.IL=$.d?!kY?"RvlS":"HdSl":!kY?"RvlA":"HdAl"}else{l=Z.R$;F.ajp=!0}}if(l==Z.jT){if($.K.length!=1)return;
var u=$.K[0],N=$.u[u];if(N.add.vmsk&&N.Lj==null)N.uH($);var jg=N.rc();if(jg==null||F.aoU){var x=new fH(F.PE?F.PE:[6,21],this),bD=new Z.tp($.depth),ei=F.IL,jr=ei=="RvlS"||ei=="HdSl";
if(ei=="RvlS"||ei=="HdAl"||ei=="Trns")bD.color=0;if(jr){bD.G=$.d.G.slice(0);bD.S=$.d.S.P();if(ei=="HdSl")j.v4(bD.G)}if(ei=="Trns"){bD.S=N.S.P();
bD.G=j.j(N.S.C());j.Eg(N.buffer,bD.G,3)}x.data={R:Z.Gs,nM:[u,jg,bD],bz:jr?[$.d,null]:null,aja:ei=="Trns"};
$.gg(x);this.mY(x.data,$);$.u[u].Go=1;this.track({hE:"make",iH:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:ei}}}})}}else if(l==Z.ahO){var j$=$.u[F.src],i0=$.u[F.ZQ],x=new fH([6,21],this),ab=j$.rc(),i8=i0.rc(),eh=[F.src,ab,null,F.ZQ,i8,ab];
if(I||c){var kf=ab.P();if(I)eh=[F.ZQ,i8,kf];else eh[5]=kf;if(c){j.v4(kf.G);kf.color=255-kf.color}}x.data={R:Z.Gs,nM:eh};
$.gg(x);this.mY(x.data,$)}if(l==Z._C){if($.K.length!=1)return;var u=k,eK=$.u[u].rc();if(eK!=null){var x=new fH([6,22],this);
x.data={R:Z.Gs,nM:[k,eK,null]};$.gg(x);this.mY(x.data,$)}}if(l==Z.g8){var cO=$.u.slice(0),kx=d.P(),dm=kx.rc();
j.PO(dm.JL(kx.S),kx.S,kx.buffer,kx.S);B.tt.Kg($,kx);kx.uF();$.u[$.K[0]]=kx;var x=new fH([5,8],this);
x.data={R:Z.IJ,pJ:cO,D2:$.u.slice(),HK:$.K.slice(0),cJ:$.K.slice(0)};$.gg(x);this.mY(x.data,$)}if(l==Z.Kb){if($.K.length!=1)return;
var u=$.K[0];if($.u[u].WZ($).Lj==null){var x=new fH([6,45],this);x.data={R:l,z:u,Lj:new Z.tp};$.gg(x);
this.mY(x.data,$)}}if(l==Z.MY){if($.K.length!=1)return;var u=$.K[0];if($.u[u].WZ($).Lj!=null){var x=new fH([6,46],this);
x.data={R:l,z:u,Lj:$.u[u].WZ($).Lj};$.gg(x);this.mY(x.data,$)}}if(l==Z.B6){if(F.src==null&&$.K.length!=1)return;
if(F.src!=null)k=F.src;if($.u[k].XE()){var x=new fH([6,47],this),a9=JSON.stringify($.u[k].add.SoLd),jz=JSON.parse(a9);
delete jz.filterFX;x.data={R:Z.JM,eF:[{Zu:k,YL:[a9,JSON.stringify(jz)],LI:[$.u[k].WZ($),null]}]};$.gg(x);
this.mY(x.data,$)}}if(l==Z.R$){if($.K.length!=1)return;if(d.add.vmsk==null){var x=new fH([6,23],this),gD=$.Ug(),hw=gD[1],gD=gD[0],bD,fO;
if(F.ajp&&hw.length!=0){var hE=gD[hw[0]].add;bD=hE.vmsk.P();fO=hE.vogk}else{bD=new Z.kf;fO=[];bD.M[1].all=F.aFG?0:1}x.data={R:l,z:k,Ib:!0,Lj:bD,EL:JSON.stringify(fO),Ok:null};
if(d.Og()){x.data.Ok=Stroke.Ok.Mv(!0)}$.gg(x);this.mY(x.data,$)}}if(l==Z.zh){var j$=$.u[F.src],i0=$.u[F.ZQ];
if(i0.add.vmsk)return;var x=new fH([6,23],this),ji=j$.add.vmsk;x.data={z:F.ZQ,Ib:j$.aq,Lj:ji.P(),EL:JSON.stringify(j$.add.vogk),Ok:j$.add.vstk?JSON.stringify(j$.add.vstk):null};
if(I){x.data.R=Z.R$}else{x.data.R=l;x.data.src=F.src;x.data.ZQ=F.ZQ}$.gg(x);this.mY(x.data,$)}if(l==Z.mn||l==Z.JD){if($.K.length!=1)return;
var N=$.u[k],ji=N.add.vmsk;if(ji!=null){var c$=l==Z.JD,x=new fH(c$?[6,8]:[6,24],this);x.data={R:Z.mn,z:k,Ib:N.aq,Lj:ji,EL:JSON.stringify(N.add.vogk),Ok:N.add.vstk?JSON.stringify(N.add.vstk):null};
if(c$){x.data.Ci=ji.rc(N.add.vstk);x.data.Ci.J6=!1}$.gg(x);this.mY(x.data,$)}}if(l==Z.vG){var x=new fH("Metadata",this);
x.data={R:l,FB:JSON.stringify($.wM),PL:JSON.stringify(F.PL)};$.gg(x);this.mY(x.data,$)}if(l==Z.qt){var hD=F.ZQ?F.ZQ:$,j3=hD.name,a6=F.Y+".psd";
if(j3==a6)return;var x=new fH([6,37],this);x.data={R:l,ap9:j3,PE:a6};if(F.aii!=!0)hD.gg(x);this.mY(x.data,hD)}if(l==Z.yg&&F.vz.endsWith("makeframes")){var iy=[],g6=F.vz.startsWith("make");
for(var O=0;O<$.K.length;O++){var G=$.K[O],N=$.u[G],c4=N.getName(),gV=c4.startsWith("_a_");if(g6==gV||N.add.lsct==jR.k9)continue;
var fl=g6?"_a_"+c4:c4.slice(3);iy.push([G,c4,fl,N.add.lnsr,null])}var x=new fH([6,37],this);x.data={R:Z.El,jg:iy};
$.gg(x);this.mY(x.data,$)}if(l==Z.El){var j3=d.getName(),a6=F.name.substring(0,255);if(j3==a6)return;
var x=new fH([6,37],this);x.data={R:l,jg:[[k,j3,a6,d.add.lnsr,null]]};$.gg(x);this.mY(x.data,$);this.track(cQ.Yr("Nm",{t:"TEXT",v:a6}))}if(l==Z.Ym){var d4=$.UY(),dz=[],hT=[];
for(var O=0;O<d4.length;O++){dz.push($.u[d4[O]].add.lclr);hT.push(F.aIk)}var x=new fH([6,38],this);x.data={R:l,u:d4,a0$:dz,sK:hT};
$.gg(x);this.mY(x.data,$)}if(l==Z.Lv){var x=$.history[$.Qc];if(x!=null&&x.J==this&&x.data.R==l&&x.data.z==F.Kw&&x.data.FJ.vQ==F.W2.vQ)x.data.FJ=F.W2;
else{x=new fH("Mask Density / Feather",this);x.data={R:l,z:F.Kw,Ir:$.u[F.Kw].MG(F.W2.vQ),FJ:F.W2};$.gg(x)}this.mY(x.data,$)}if(l==Z.fn){var eD=JSON.stringify(F.Y),ke=JSON.parse(eD),x=$.history[$.Qc];
if(x!=null&&x.J==this&&x.data.R==l&&x.data.oQ==F.oQ&&x.data.RF.join(",")==F.RF.join(",")){for(var O=0;
O<F.RF.length;O++)x.data.nJ[O]=ke;if(x.data.iH&&ke.Ef!=0)B.tt.NM(ke.v$,x.data.iH.T.v,ke.Ef-1)}else{x=new fH([11,6],this);
x.data={R:l,RF:F.RF,oQ:F.oQ,a1O:[],nJ:[]};var bt=!1;for(var O=0;O<F.RF.length;O++){var G=F.RF[O],N=$.u[G],eb=F.oQ?cK.Cj(N.add):j.N(N.add.vstk);
x.data.a1O.push(eb);x.data.nJ.push(ke);if(JSON.stringify(eb)!=eD)bt=!0}if(!bt)return;$.gg(x);if(F.oQ&&ke.Ef>0){var gn=x.data.iH={classID:"setd",null:cQ.sZ("contentLayer",!0),T:{t:"Objc",v:{}}};
B.tt.NM(ke.v$,gn.T.v,ke.Ef-1);this.track({hE:"set",iH:gn})}}if(F.oQ&&ke.Ef==3)$.o0(en.Qv(ke.v$.Ptrn.v,M.We));
if(!F.oQ){var kD=ke.strokeStyleContent.v;if(kD.classID==cK.Ok.zd[2])$.o0(en.Qv(kD.Ptrn.v,M.We))}this.mY(x.data,$)}if(l==Z.G4){var jQ=M.Jn,hW=[];
for(var O=0;O<$.K.length;O++){var G=$.K[O],N=$.u[G],k0=N.add.vstl;if(k0==null)continue;var eb=JSON.stringify(k0);
for(var h5 in jQ)k0[h5]=jQ[h5];var ke=JSON.stringify(k0);if(eb==ke)continue;hW.push([G,eb,ke])}if(hW.length!=0){var R=$.pg();
if(R&&R.J==this&&R.data.R==l&&R.data.Gv.length==hW.length){var hm=!0;for(var O=0;O<hW.length;O++)if(hW[O][0]!=R.data.Gv[O][0])hm=!1;
if(hm){for(var O=0;O<hW.length;O++)R.data.Gv[O][2]=hW[O][2];$.vM();return}}var x=new fH("Style Change",this);
x.data={R:l,Gv:hW};$.gg(x);$.vM()}}};B.tt.bV=function(F,r,$,C,M,l){var k=F.u[$],d=[];if(M)d=F.u.slice(0);
else for(var O=0;O<F.u.length;O++)if(r.indexOf(O)==-1)d.push(F.u[O]);var I=d.indexOf(k);if(l&&k.EX()&&k.add.lsct==jR.Xz)I-=F.Mg($).length-1;
var c=[];for(var O=0;O<r.length;O++){var Q=I+(C?0:1)+O,x=M?M[O]:F.u[r[O]];d.splice(Q,0,x);c.push(Q)}return[d,c,I]};
B.tt.NM=function(F,r,$){var C=[cK.oz,cK.ap,cK.Vq][$];if(r.classID==null)r.classID=["solidColorLayer","gradientLayer","patternLayer"][$];
for(var O=0;O<C.length;O++)if(F[C[O]])r[C[O]]=j.N(F[C[O]])};B.tt.anK=function(F){var r=new Z.tp;if(F.d!=null){r.color=0;
r.G=F.d.G.slice(0);r.S=F.d.S.P()}return r};B.tt.$f=function(F,r,$,C,M){var l=C.pR,k=$.pR,d=C.YV/$.YV,I=l.r/k.r,c=l.$/k.$,Q=l.r/2,x=l.$/2;
I/=d;c/=d;var U=j.b.Vs(l).n;for(var O=0;O<F.u.length;O++){var S=F.u[O],z=S.add.SoLd;if(z==null||z.Idnt.v!=r)continue;
var V=I!=1||c!=1;if(V){var t=B.hL.$M(z.nonAffineTransform),Y=j.H.e0(t,l),i=new hS;i.translate(-Q,-x);
i.scale(I,c);i.translate(Q,x);var J=j.H.MV(Y,j.H.TG(i)),H=U.slice(0);j.H.U(J,H);z.Trnf=B.hL._V(H);z.nonAffineTransform=B.hL._V(H);
if(j.gd.sp(z.quiltWarp.v)){var v=z.quiltWarp.v.bounds.v;v.Rght.v.val=l.r;v.Btom.v.val=l.$}}S.d7(F,null,M,!V)}F.vM()};
B.tt.a4p=function(F,r,$){r.color=255-r.color;j.v4(r.G);r.qX=!0;F.uH($);$.vM()};B.tt.prototype.Ea=function(F,r){var $=F.R,C=r.u[F.z];
r.Wk=!0;if($==Z.Ss){var O=r.add.lnk2.indexOf(r.up(F.id));if(O==-1)throw"e";r.add.lnk2[O]=F.ui;B.tt.$f(r,F.id,F.IK,F.ui)}if($==Z.SH){C.add.SoLd.Impr.v.classID=F.Ir;
C.d7(r)}if($==Z.CC){var M=JSON.parse(F.RF);for(var O=0;O<M.length;O++)r.u[M[O]].ww=F.DO[O];r.vM()}if($==Z.fs){var M=JSON.parse(F.RF);
for(var O=0;O<M.length;O++)r.u[M[O]].gk=F.DO[O];r.vM()}if($==Z.fu){var M=JSON.parse(F.RF);for(var O=0;
O<M.length;O++)if(r.u[M[O]].add.lsct!=jR.k9)r.u[M[O]].add.lspf=F.DO[O]}if($==Z.fi){var l=F.AD,k=F.acT;
delete C.add[l[0]];if(k[0]!="----")C.add[k[0]]=k[1]}if($==Z.RK){C.add.iOpa=F.DO;r.vM()}if($==Z.iy){for(var O=0;
O<F.RF.length;O++){var d=r.u[F.RF[O]];d.Gj(!d.rR())}r.vM()}if($==Z.nE){var I=C.rc();I.isEnabled=!I.isEnabled;
C.uH(r);r.vM()}if($==Z.ba){var I=C.WZ(r).Lj;I.isEnabled=!I.isEnabled;C.vM();r.vM()}if($==Z.dx){var I=C.add.vmsk;
I.isEnabled=!I.isEnabled;if(!I.isEnabled){if(C.Ci){C.Lj=C.Ci;C.Ci=null}else C.Lj=null}else if(C.Lj){C.Ci=C.Lj;
C.Lj=null}C.uH(r);r.vM()}if($==Z.Uw){C.p9=!C.p9;r.vM()}if($==Z.o_){C.add.lmfx.masterFXSwitch.v=!C.add.lmfx.masterFXSwitch.v;
C.FM.av=!0;r.vM()}if($==Z.QO){C.add.SoLd.filterFX.v.enab.v=!C.add.SoLd.filterFX.v.enab.v;C.JZ(r);r.vM()}if($==Z.lc){var c=F.index,Q=C.add.lmfx[cK.Zb[c[0]]].v[c[1]].v;
Q.enab.v=!Q.enab.v;C.FM.av=!0;r.vM()}if($==Z.tm){var x=r.u[F.AZ],U=r.u[F.Vu],S=F.amB,z=F.arK;if(S=="")delete x.add.lmfx;
else x.add.lmfx=JSON.parse(S);if(z=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(z);x.FM.av=!0;U.FM.av=!0;
r.vM()}if($==Z.j2){var V=C.add.SoLd.filterFX.v.filterFXList.v[F.index].v;V.enab.v=!V.enab.v;C.JZ(r);
r.vM()}if($==Z.a6B){C.add.SoLd.filterFX.v=j.N(F.ask);C.JZ(r);r.vM()}if($==Z.G9){var I=C.rc();I.N9=!I.N9}if($==Z.uw){var I=C.add.vmsk;
I.N9=!I.N9}if($==Z.Cw){var t=JSON.parse(F.auH);r.aS=t[0];r.Xo=t[1]}if($==Z.g6){var t=F.Yi;for(var O=0;
O<t.length;O+=2){var Y=t[O],d=Y>=0?r.u[Y]:r.S8[-1-Y];d.add.vogk=JSON.parse(t[O+1]);j.EL.M9(d.add.vogk,d.add.vmsk);
if(Y>=0)d.uH(r)}r.vM()}if($==Z.iM){C.add.artb=JSON.parse(F.aAJ);r.vM();B.i0.RW(r,F)}if($==Z.mV){r.d=F.lS;
if(F.a2l)r.f.BS=F.a2l.slice(0);r.Bs=F.Yi.slice(0);r.GY=F.k8.slice(0);r.eD=r.GF=!0}if($==Z.qT){C.VU=!C.VU}if($==Z.HW){var i=F.agZ;
for(var O=0;O<i.length;O++)r.u[O].Q8=i[O]}if($==Z.IJ){if(F.WP)B.qW.Rb(r,r.K,null,-F.WP.x,-F.WP.y);if(F.HK)r.K=F.HK;
if(F.bz)r.d=F.bz[0];r.dy=null;r.vM();B.i0.RW(r,F);r.C8(F.pJ);if(F.vA)r.pj(F.vA[0])}if($==Z.Gs){for(var O=0;
O<F.nM.length;O+=3)B.tt.Kg(r,r.u[F.nM[O]],F.nM[O+1]);if(F.bz){var J=F.bz[0];if(J==null)delete r.d;else r.d=J}if(F.aja){var d=r.u[F.nM[0]];
j.dr(F.nM[2].G,d.buffer,3)}}if($==Z.Kb){C.WZ(r).Lj=null;C.vM();r.vM()}if($==Z.MY){C.WZ(r).Lj=F.Lj;C.vM();
r.vM()}if($==Z.JM){B.tt.ai$(r,F.eF,0)}if($==Z.R$){B.tt.NN(r,C,!0)}if($==Z.zh){B.tt.NN(r,r.u[F.ZQ],F.Lj.isEnabled);
B.tt.L9(r,r.u[F.src],F)}if($==Z.mn){if(F.Ci)B.tt.Kg(r,C,null);B.tt.L9(r,C,F)}if($==Z.vG){r.wM=JSON.parse(F.FB)}if($==Z.qt){r.name=F.ap9}if($==Z.El){for(var O=0;
O<F.jg.length;O++){var H=F.jg[O],d=r.u[H[0]];d.Da(H[1]);if(H[3])d.add.lnsr=H[3];else delete d.add.lnsr}}if($==Z.Ym){for(var O=0;
O<F.u.length;O++)r.u[F.u[O]].add.lclr=F.a0$[O]}if($==Z.fn){var v=F.a1O;for(var O=0;O<F.RF.length;O++){var d=r.u[F.RF[O]],n=v[O];
if(!F.oQ)d.add.vstk=j.N(n);else cK.kt(d.add,j.N(n));d.Nx(r)}r.vM()}if($==Z.G4){for(var O=0;O<F.Gv.length;
O++){var G=F.Gv[O];r.u[G[0]].add.vstl=JSON.parse(G[1])}r.vM()}if($==Z.Lv){C.a27(F.Ir);C.uH(r);r.vM()}r.GF=!0};
B.tt.prototype.mY=function(F,r){var $=F.R,C=r.u[F.z];r.Wk=!0;if($==Z.Ss){var O=r.add.lnk2.indexOf(r.up(F.id));
if(O==-1)throw"e";r.add.lnk2[O]=F.IK;B.tt.$f(r,F.id,F.ui,F.IK)}if($==Z.SH){C.add.SoLd.Impr.v.classID=F.FJ;
C.d7(r)}if($==Z.CC){var M=JSON.parse(F.RF);for(var O=0;O<M.length;O++)r.u[M[O]].ww=F.FJ;r.vM()}if($==Z.fs){var M=JSON.parse(F.RF);
for(var O=0;O<M.length;O++)r.u[M[O]].gk=F.FJ;r.vM()}if($==Z.fu){var M=JSON.parse(F.RF);for(var O=0;O<M.length;
O++)if(r.u[M[O]].add.lsct!=jR.k9)r.u[M[O]].add.lspf=F.FJ[O]}if($==Z.fi){var l=F.acT,k=F.AD;delete C.add[l[0]];
if(k[0]!="----")C.add[k[0]]=k[1]}if($==Z.RK){C.add.iOpa=F.FJ;r.vM()}if($==Z.iy){for(var O=0;O<F.RF.length;
O++){var d=r.u[F.RF[O]];d.Gj(!d.rR())}r.vM()}if($==Z.nE){var I=C.rc();I.isEnabled=!I.isEnabled;C.uH(r);
r.vM()}if($==Z.ba){var I=C.WZ(r).Lj;I.isEnabled=!I.isEnabled;C.vM();r.vM()}if($==Z.dx){var I=C.add.vmsk;
I.isEnabled=!I.isEnabled;if(!I.isEnabled){if(C.Ci){C.Lj=C.Ci;C.Ci=null}else C.Lj=null}else if(C.Lj){C.Ci=C.Lj;
C.Lj=null}C.uH(r);r.vM()}if($==Z.Uw){C.p9=!C.p9;r.vM()}if($==Z.o_){C.add.lmfx.masterFXSwitch.v=!C.add.lmfx.masterFXSwitch.v;
C.FM.av=!0;r.vM()}if($==Z.QO){C.add.SoLd.filterFX.v.enab.v=!C.add.SoLd.filterFX.v.enab.v;C.JZ(r);r.vM()}if($==Z.lc){var c=F.index,Q=C.add.lmfx[cK.Zb[c[0]]].v[c[1]].v;
Q.enab.v=!Q.enab.v;C.FM.av=!0;r.vM()}if($==Z.tm){var x=r.u[F.AZ],U=r.u[F.Vu],S=F.atT,z=F.a8E;if(S=="")delete x.add.lmfx;
else x.add.lmfx=JSON.parse(S);if(z=="")delete U.add.lmfx;else U.add.lmfx=JSON.parse(z);x.FM.av=!0;U.FM.av=!0;
r.vM()}if($==Z.j2){var V=C.add.SoLd.filterFX.v.filterFXList.v[F.index].v;V.enab.v=!V.enab.v;C.JZ(r);
r.vM()}if($==Z.a6B){C.add.SoLd.filterFX.v=j.N(F.abf);C.JZ(r);r.vM()}if($==Z.G9){var I=C.rc();I.N9=!I.N9}if($==Z.uw){var I=C.add.vmsk;
I.N9=!I.N9}if($==Z.Cw){var t=JSON.parse(F.aah);r.aS=t[0];r.Xo=t[1]}if($==Z.g6){var t=F.E2;for(var O=0;
O<t.length;O+=2){var Y=t[O],d=Y>=0?r.u[Y]:r.S8[-1-Y];d.add.vogk=JSON.parse(t[O+1]);j.EL.M9(d.add.vogk,d.add.vmsk);
if(Y>=0)d.uH(r)}r.vM()}if($==Z.iM){C.add.artb=JSON.parse(F.uU);r.vM();B.i0.nO(r,F)}if($==Z.mV){r.d=F.xP;
if(F.a80)r.f.BS=F.a80.slice(0);r.Bs=F.E2.slice(0);r.GY=F.Re.slice(0);r.eD=r.GF=!0}if($==Z.qT){C.VU=!C.VU}if($==Z.HW){var i=F.ahc;
for(var O=0;O<i.length;O++)r.u[O].Q8=i[O]}if($==Z.IJ){r.aEl();var J=F.D2,H=0,v;for(var O=0;O<J.length;
O++){var d=J[O],n=d.add.lsct;if(n==jR.k9)H++;else if(n==jR.ul||n==jR.Xz)H--;if(d.add.artb&&H!=0)v="Artboards can not be inside folders."}if(v){r.history.pop();
r.Qc--;alert(v);return}if(F.cJ)r.K=F.cJ;if(F.bz)r.d=F.bz[1];r.dy=null;r.vM();r.C8(F.D2);B.i0.nO(r,F);
if(F.WP)B.qW.Rb(r,r.K,null,F.WP.x,F.WP.y);if(F.vA)r.pj(F.vA[1])}if($==Z.Gs){for(var O=0;O<F.nM.length;
O+=3)B.tt.Kg(r,r.u[F.nM[O]],F.nM[O+2]);if(F.bz){var G=F.bz[1];if(G==null)delete r.d;else r.d=G}if(F.aja){var d=r.u[F.nM[0]],g=d.buffer;
for(var O=0;O<g.length;O+=4)g[O+3]=255}}if($==Z.Kb){C.WZ(r).Lj=F.Lj;C.Go=0;C.vM();r.vM()}if($==Z.MY){C.WZ(r).Lj=null;
C.Go=0;C.vM();r.vM()}if($==Z.JM){B.tt.ai$(r,F.eF,1)}if($==Z.R$){B.tt.L9(r,C,F)}if($==Z.zh){B.tt.NN(r,r.u[F.src],F.Lj.isEnabled);
B.tt.L9(r,r.u[F.ZQ],F)}if($==Z.mn){B.tt.NN(r,C,F.Lj.isEnabled);if(F.Ci)B.tt.Kg(r,C,F.Ci)}if($==Z.vG){r.wM=JSON.parse(F.PL)}if($==Z.qt){r.name=F.PE}if($==Z.El){for(var O=0;
O<F.jg.length;O++){var W=F.jg[O],d=r.u[W[0]];d.Da(W[2]);if(W[4])d.add.lnsr=W[4];else delete d.add.lnsr}}if($==Z.Ym){for(var O=0;
O<F.u.length;O++)r.u[F.u[O]].add.lclr=F.sK[O]}if($==Z.fn){var L=F.nJ;for(var O=0;O<F.RF.length;O++){var d=r.u[F.RF[O]],b=L[O];
if(!F.oQ)d.add.vstk=j.N(b);else cK.kt(d.add,j.N(b));d.Nx(r)}r.vM()}if($==Z.G4){for(var O=0;O<F.Gv.length;
O++){var T=F.Gv[O];r.u[T[0]].add.vstl=JSON.parse(T[2])}r.vM()}if($==Z.Lv){C.a27(F.FJ);C.uH(r);r.vM()}r.GF=!0};
B.tt.CU=function(F,r){var $=0;for(var O=0;O<F.u.length;O++){var C=F.u[O].getName();if(C.startsWith(r)){var M=C.slice(r.length).trim(),l=parseInt(M);
if(!isNaN(l)&&l+""==M&&l>$)$=l}}return $};B.tt.ai$=function(F,r,$){for(var O=0;O<r.length;O++){var C=r[O],M=F.u[C.Zu];
if(C.YL){M.add.SoLd=JSON.parse(C.YL[$])}if(C.LI){if(C.LI[1-$]!=null)F.xO(C.LI[1-$]);if(C.LI[$]!=null)F.gm(C.LI[$]);
else M.Go=0}M.d7(F)}};B.tt.ab$=function(F,r){var $=F.KV,C=F.S.P();if($!=null&&($.x!=r.r||$.y!=r.$)){C.x=Math.floor((r.r-C.r)/2);
C.y=Math.floor((r.$-C.$)/2)}else if($==null){var M=new cS(0,0,r.r,r.$),l=r.Fv();if(l!=-1)M=r.u[l].dh();
C.x+=M.x;C.y+=M.y}return C};B.tt.afu=function(F,r){if(r.Ci)r.Ci=null;else r.Lj=null;r.uH(F);F.vM();r.Go=0};
B.tt.Kg=function(F,r,$){var C=r.rc();if(C==null&&$==null)return;if(C)B.tt.afu(F,r);if($==null)return;
if(r.Lj)r.Ci=$;else r.Lj=$;r.uH(F);F.vM()};B.tt.NN=function(F,r,$){if(r.Ci&&$){r.Lj=r.Ci;r.Ci=null}else if(r.Lj&&$){r.Lj=null}delete r.add.vogk;
delete r.add.vstk;delete r.add.vmsk;r.uH(F);r.aq=!1;F.dy=[];F.vM()};B.tt.L9=function(F,r,$){r.add.vogk=JSON.parse($.EL);
if($.Ok)r.add.vstk=JSON.parse($.Ok);else delete r.add.vstk;r.add.vmsk=$.Lj.P();if(r.Lj&&r.add.vmsk.isEnabled)r.Ci=r.Lj;
r.uH(F);r.aq=$.Ib;F.dy=[F.u.indexOf(r)];F.tk=[];F.vM()};B.dw=function(){B.m9.call(this,"Layer Styles",B.Ei);
this.jO=null;this.Lx=null;this.rN=null;this.sH=[];this.g9=null};B.dw.prototype=new B.m9;B.dw.prototype.Y3=function(F,r,$,C,M){var l=F.z;
if(l==null)l=$.K[0];var k=$.u[l],d=F.Sc;if(this.jO==null){this.rN=B.dw.gL($,k);this.jO=JSON.stringify(this.rN);
if(k.add.lmfx)this.Lx=JSON.stringify(k.add.lmfx)}if(k.add.lmfx==null){k.add.lmfx=JSON.parse(cK.default);
for(var O=0;O<cK.order.length;O++)k.add.lmfx[cK.Zb[O]]={t:"VlLs",v:[]}}if(F.R=="scaleeffects"){if(F.Y=="confirm"||F.Y=="cancel"){this.Y3({R:F.Y},r,$,C,M);
return}k.add.lmfx=JSON.parse(this.Lx);en.VQ(k.add.lmfx,F.Y/100)}else if(F.R=="changeprop"){var I=null;
if(d!=0){var c=this.sH[d[0]];if(c==null)c=cK.sH[d[0]];c=JSON.parse(c);var Q=k.add.lmfx[cK.Zb[d[0]]].v;
if(Q[d[1]]==null)Q[d[1]]={t:"Objc",v:c};I=Q[d[1]].v;for(var x in c)if(I[x]==null)I[x]=c[x]}if(F.R=="changeprop"){if(d==0){this.rN[F.Ic].v=F.Y;
B.dw.zx($,k,this.rN)}else if(F.Ic=="lagl"){if(I.uglg&&I.uglg.v){$.Rf(F.Y.val);this.rN.gagl.v.val=$.e4()}else I[F.Ic].v=F.Y}else if(F.Ic=="Lald"){if(I.uglg.v){$.jj(F.Y.val);
this.rN.globalAlt=$.bh()}else I[F.Ic].v=F.Y}else if((d[0]==3||d[0]==8)&&(F.Ic=="Clr"||F.Ic=="Grad")){if(F.Ic=="Clr"){I.Clr={t:"Objc",v:F.Y};
delete I.Grad}if(F.Ic=="Grad"){I.Grad={t:"Objc",v:F.Y};delete I.Clr}}else{I[F.Ic].v=F.Y}if(d!=0)this.sH[d[0]]=JSON.stringify(I)}if(d!=0)if(I.Ptrn)$.o0(en.Qv(I.Ptrn.v,M.We))}else if(F.R=="setstl"){var U=F.Y.Lefx;
if(U)en.azy(U,$,M.We);en.a8c(F.Y,k,null,$);this.rN=B.dw.gL($,k)}else if(F.R=="st_dupsingle"){var S=k.add.lmfx[cK.Zb[F.ru[0]]].v;
if(S[F.ru[1]]==null)return;var z=j.N(S[F.ru[1]]);S.splice(F.ru[1],0,z)}else if(F.R=="st_movsingle"){var V=F.ru[1],S=k.add.lmfx[cK.Zb[F.ru[0]]].v;
if(S[F.ru[1]]==null)return;var t=Math.max(0,Math.min(S.length-1,V+F.aBO)),Y=S[t];S[t]=S[V];S[V]=Y}else if(F.R=="cancel"){if(this.Lx==null)delete k.add.lmfx;
else k.add.lmfx=JSON.parse(this.Lx);B.dw.zx($,k,JSON.parse(this.jO));this.jO=null;this.Lx=null}else if(F.R=="confirm"){var i=JSON.stringify(k.add.lmfx),J=new fH([11,6],this);
J.data={u:[l],Qf:[this.Lx],C2:[i],J7:[this.jO],Qa:[JSON.stringify(this.rN)]};$.gg(J);this.jO=null;this.Lx=null;
if(i!=null){var H=JSON.parse(i);iE.Hs(H);H.classID="Lefx";delete H.masterFXSwitch;var v=new k6(_.E.wG);
v.vs=!0;v.data={hE:"set",t2:!0};var n=cQ.sZ("Lyr",!0);n.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
v.data.iH={__name:"Set",classID:"setd",null:n,T:{t:"Objc",v:H}};r.a(v)}}else if(F.R=="st_copy"){this.g9=[this.jO,this.Lx];
this.jO=null;this.Lx=null}else if(F.R=="st_paste"||F.R=="st_clear"){if(F.R=="st_paste"&&this.g9==null)return;
var G=F.z!=null?[F.z]:$.K.slice(0),g=[],W=[],L=[],b=[];for(var O=0;O<G.length;O++){var k=$.u[G[O]],T=B.dw.gL($,k);
g.push(k.add.lmfx?JSON.stringify(k.add.lmfx):null);L.push(JSON.stringify(T));if(F.R=="st_paste"){W.push(this.g9[1]);
b.push(this.g9[0])}else{W.push(null);T.lrMd.v=0;T.Opct.v.val=100;T.iOpa.v.val=100;T.blIf={v:[]};for(var a=0;
a<10;a++)T.blIf.v.push(0,0,255,255);b.push(JSON.stringify(T))}}var J=new fH([11,6],this);J.data={u:G,Qf:g,C2:W,J7:L,Qa:b};
this.mY(J.data,$);$.gg(J);this.jO=null;this.Lx=null}else{var R=this.rN,H=null;if(F.R=="st_delsingle"){H=JSON.parse(this.Lx);
H[cK.Zb[F.ru[0]]].v.splice(F.ru[1],1);H=JSON.stringify(H)}if(H==null)delete k.add.lmfx;else k.add.lmfx=JSON.parse(H);
if(R!=null)B.dw.zx($,k,R);var J=new fH([11,6],this);J.data={u:[F.z],Qf:[this.Lx],C2:[H],J7:[this.jO],Qa:[JSON.stringify(R)]};
$.gg(J);this.jO=null;this.Lx=null}k.FM.av=!0;$.Wk=!0;$.vM()};B.dw.gL=function(F,r){if(r.add.iOpa==null)r.add.iOpa=255;
if(r.add.brst==null)r.add.brst=[1,1,1];var $=r.EX()?["pass"].concat(dL.NH):dL.NH;return{lrMd:{v:$.indexOf(r.ww)},Opct:{v:{type:"#Prc",val:Math.round(r.gk*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(r.add.iOpa*100/255)},t:"UntF"},blIf:{v:r.nb.slice(0)},brst:{v:r.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:F.e4()}},globalAlt:F.bh(),isFolder:r.EX()}};
B.dw.zx=function(F,r,$){var C=r.EX()?["pass"].concat(dL.NH):dL.NH;r.ww=C[$.lrMd.v];r.gk=Math.round($.Opct.v.val*255/100);
r.add.iOpa=Math.round($.iOpa.v.val*255/100);r.nb=$.blIf.v.slice(0);r.add.brst=$.brst.v.slice(0);F.Rf($.gagl.v.val);
F.jj($.globalAlt)};B.dw.prototype.Ea=function(F,r){for(var O=0;O<F.u.length;O++){var $=r.u[F.u[O]],C=F.Qf[O];
if(C==null)delete $.add.lmfx;else $.add.lmfx=JSON.parse(C);B.dw.zx(r,$,JSON.parse(F.J7[O]));$.FM.av=!0}r.Wk=!0;
r.vM()};B.dw.prototype.mY=function(F,r){for(var O=0;O<F.u.length;O++){var $=r.u[F.u[O]],C=F.C2[O];if(C==null)delete $.add.lmfx;
else $.add.lmfx=JSON.parse(C);B.dw.zx(r,$,JSON.parse(F.Qa[O]));$.FM.av=!0}r.Wk=!0;r.vM()};B.Or=function(){B.m9.call(this,"Layer Comps",B.AF)};
B.Or.prototype=new B.m9;B.Or.prototype.Y3=function(F,r,$,C){var M=j.N($.on),l=j.N($.on),k=null,d=null,I=null,c=-1,Q=!1;
if(F.R=="delLC"){var x=B.Or.It($.on,F.Sc),U=$.on.lastAppliedComp?$.on.lastAppliedComp.v:0;l.list.v.splice(x,1);
if(U==F.Sc)delete l.lastAppliedComp;k="Delete Layer Comp"}if(F.R=="editLC"){var x=B.Or.It($.on,F.Sc),S=l.list.v[x].v;
if(F.PE!=null)S.Nm.v=F.PE;if(F.acG!=null){var z=F.acG,V=S.capturedInfo.v,t=V&(1<<z)-1;V=V>>z;if((V&1)==1)V--;
else V++;S.capturedInfo.v=(V<<z)+t}k="Layer Comp properties"}if(F.R=="setLC"){B.Or.PA($);if(F.Sc==0)delete l.lastAppliedComp;
else l.lastAppliedComp={t:"long",v:F.Sc};k="Switch Layer Comp";Q=!0}if(F.R=="updLC"){B.Or.PA($);d=B.Or.a1K($,F.Sc);
I=B.Or.YA($,F.Sc);l.lastAppliedComp={t:"long",v:F.Sc};k="Update Layer Comp";c=F.Sc;Q=!0}if(F.R=="addLC"){B.Or.PA($);
var Y=1;for(var O=0;O<l.list.v.length;O++)Y=Math.max(Y,l.list.v[O].v.compID.v)+1;Y+=Math.floor(Math.random()*1e4);
var i={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(l.list.v.length+1)},compID:{t:"long",v:Y},capturedInfo:{t:"long",v:7}}};
l.list.v.push(i);l.lastAppliedComp={t:"long",v:Y};k="New Layer Comp";var J=B.Or.YA($,Y);B.Or.TC($,J,Y)}var H=new fH(k,this);
H.data={a4h:M,af0:l,aEV:d,adk:I,Sc:c,nA:Q};this.mY(H.data,$);$.gg(H)};B.Or.prototype.mY=function(F,r){r.on=F.af0;
r.Wk=!0;if(F.adk)B.Or.TC(r,F.adk,F.Sc);if(F.nA){var $=r.on.lastAppliedComp?r.on.lastAppliedComp.v:0,C=B.Or.It(r.on,$),M=C==-1?null:r.on.list.v[C].v,l=M?M.capturedInfo.v:7;
B.Or.po(r,$,l);r.vM()}};B.Or.prototype.Ea=function(F,r){r.on=F.a4h;r.Wk=!0;if(F.aEV)B.Or.TC(r,F.aEV,F.Sc);
if(F.nA){var $=r.on.lastAppliedComp?r.on.lastAppliedComp.v:0,C=B.Or.It(r.on,$),M=C==-1?null:r.on.list.v[C].v,l=M?M.capturedInfo.v:7;
B.Or.po(r,$,l);r.vM()}};B.Or.PA=function(F){if(F.on.lastAppliedComp!=null||!F.wY)return;var r=B.Or.YA(F,0);
B.Or.TC(F,r,0);F.wY=!1};B.Or.yM=function(F,r,$){F.v.Hrzn.v+=r;F.v.Vrtc.v+=$};B.Or.It=function(F,r){var $=F.list.v;
for(var O=0;O<$.length;O++)if($[O].v.compID.v==r)return O;return-1};B.Or.aky=function(F){var r=F.layerSettings.v,M=null;
if(r.length==0)return;var $="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),C=r[0].v;
if(C.enab==null)C.enab={t:"bool",v:!0};if(C.Ofst==null)C.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var O=0;O<r.length;O++){var l=r[O].v;if(M==null)M=j.N(l);else for(var k=0;k<$.length;k++){var d=$[k];
if(l[d])M[d]=j.N(l[d])}r[O].v=j.N(M)}};B.Or.a4z=function(F,r){var $=F.add.shmd.cmls,C=$.layerSettings.v;
for(var M=0;M<C.length;M++){var l=C[M].v,k=l.compList.v[0].v;if(k==r)return M}return-1};B.Or.aJt=function(F,r){var $=B.Or.a4z(F,r);
return $==-1?null:F.add.shmd.cmls.layerSettings.v[$].v};B.Or.po=function(F,r,$){for(var O=0;O<F.u.length;
O++){var C=F.u[O],M=C.add.shmd.cmls;if(M==null)continue;var l=M.layerSettings.v,k=B.Or.aJt(C,r);if(k==null){C.Gj(!1);
continue}if(($&1)!=0){if(k.enab)C.Gj(k.enab.v);else C.Gj(!0)}if(($&2)!=0){if(k.Ofst){var d=k.Ofst.v,I=C.Xl(F),c=Math.round(d.Hrzn.v-I.x),Q=Math.round(d.Vrtc.v-I.y);
if(c!=0||Q!=0)B.qW.Rb(F,[O],null,c,Q)}}if(($&4)!=0){if(k.Lefx){var x=j.N(k.Lefx.v);iE.Dg(x);if(JSON.stringify(x)!=JSON.stringify(C.add.lmfx)){C.add.lmfx=x;
C.FM.av=!0}}else delete C.add.lmfx;if(k.blendOptions){var U=k.blendOptions.v;if(U.Opct)C.gk=Math.round(255*U.Opct.v.val/100);
if(U.fillOpacity)C.add.iOpa=Math.round(255*U.fillOpacity.v.val/100);if(U.Md)C.ww=C.add.lsct==jR.k9?"norm":dL.Gg(U.Md.v.BlnM)}else{C.gk=255;
C.ww=C.EX()?"pass":"norm";C.add.iOpa=255}}}};B.Or.a1K=function(F,r){var $={};for(var O=0;O<F.u.length;
O++){var C=F.u[O];if(C.add.shmd==null||C.add.shmd.cmls==null)continue;$["l"+C.add.lyid]=j.N(B.Or.aJt(C,r))}return $};
B.Or.YA=function(F,r){var $={};for(var O=0;O<F.u.length;O++){var C=F.u[O],M=C.add.lyid;$["l"+M]=B.Or.arM(F,C,r)}return $};
B.Or.arM=function(F,r,$){var C=r.add.shmd?r.add.shmd.cmls:null,M={classID:"null"},l=r.Xl(F),k={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:l.x},Vrtc:{t:"long",v:l.y}}};
M.compList={t:"VlLs",v:[{t:"long",v:$}]};M.enab={t:"bool",v:r.rR()};M.Ofst=j.N(k);M.FXRefPoint=j.N(C&&C.origFXRefPoint?C.origFXRefPoint:k);
M.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:dL.Yy(r.ww)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*r.gk/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:r.add.iOpa!=null?100*r.add.iOpa/255:100}}}};
if(r.add.vmsk){M.vectorMask={t:"Objc",v:{classID:"null"}};M.vectorMask.v.Ofst=j.N(k)}if(r.add.lmfx){M.Lefx={t:"Objc",v:j.N(r.add.lmfx)};
iE.Hs(M.Lefx.v)}return M};B.Or.a6H=function(F,r){var $=r.add.lyid;if(r.add.shmd==null)r.add.shmd={};
if(r.add.shmd.cmls==null){r.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:$},layerSettings:{t:"VlLs",v:[{t:"Objc",v:B.Or.arM(F,r,0)}]}}}};
B.Or.TC=function(F,r,$){for(var O=0;O<F.u.length;O++){var C=F.u[O],M=C.add.lyid;B.Or.a6H(F,C);var l=C.add.shmd.cmls,k=l.layerSettings.v,d=r["l"+M];
if(d!=null)d={t:"Objc",v:j.N(d)};var I=B.Or.a4z(C,$);if(I==-1){if(d==null)continue;else k.push(d)}else{if(d==null)k.splice(I,1);
else k[I]=d}}};B.Or.d$=function(F,r){for(var O=0;O<F.u.length;O++){var $=F.u[O],C=$.add.lyid;if($.add.shmd==null||$.add.shmd.cmls==null)continue;
var M=$.Xl(F),l=Math.round(M.x),k=Math.round(M.y);if(!r){l=-l;k=-k}var d=$.add.shmd.cmls,I=d.layerSettings.v;
if(d.origFXRefPoint)B.Or.yM(d.origFXRefPoint,-l,-k);for(var c=0;c<I.length;c++){var Q=I[c].v;B.Or.yM(Q.Ofst,l,k);
var x=Q.imageMask,U=Q.vectorMask;if(x&&x.v.Ofst)B.Or.yM(x.v.Ofst,l,k);if(U&&U.v.Ofst)B.Or.yM(U.v.Ofst,l,k)}}};
B.Xy=function(){B.m9.call(this,"Adjust Edit",B.tZ);this.PL=null;this.s7=null};B.Xy.prototype=new B.m9;
B.Xy.n4=function(F,r,$,C){if(C)r/=4;var M=0,l=0,k=255,d=0,I=0,c=255;while(l+F[M]<r){l+=F[M];M++}while(d+F[k]<r){d+=F[k];
k--}if(C){M-=Math.round(F[M]/($/32));k+=Math.round(F[k]/($/32));if(M<0)I=Math.round(-M*255/(k-M));if(k>255)c=255-Math.round((k-255)*255/(k-M))}return[Math.max(M,0),Math.min(k,255),I,c,100]};
B.Xy.prototype.Y3=function(F,r,$,C,M){var l=F.R;if(l=="auto"){var k=F.N0,d=B.Xy.getData($);for(var O=0;
O<d.length;O++){var I=d[O],c;if(k<3){}else{var Q=e9.Mv("hue2");hA.qd(Q,0,[0,-100,0]);c=f0.ak("hue2",Q)}f0.Fx(c,I.PF,I.v2,I.OV)}B.Xy.zb($,d);
B.Xy.S7($,d,k<3?[4,16,k]:[19,7,0],this);$.vM()}if(l=="edit_layer")this.aI8(F,r,$,C);if(l=="edit"||l=="confirm"||l=="cancel")this.m3(F,r,$,M,!0);
if(l=="start"){if($.K.length==0)return;var x=$.u[$.K[0]];if(x.add.SoLd&&x.Go<=0&&$.GY.length==0){var U=new k6(_.E.O,!0);
U.J=B.tl;U.data={R:"start",kh:F.yn,rY:F.rY};r.a(U);return}if(!$.Za(r,null,!0))return;if(cW[F.yn]&&F.rY==null){if($.K.length!=1)alert("Will be applied to "+$.K.length+" layers.");
var U=new k6(_.E.c,!0);U.data={R:_.m.Oe,rS:"afw_"+F.yn};r.a(U)}else{this.m3({R:"edit",rY:F.rY,kh:F.yn},r,$,M);
this.m3({R:"confirm",kh:F.yn},r,$,M)}}};B.Xy.prototype.aI8=function(F,r,$,C){var M=F.R,l=$.K[0],k=$.u[l],d=f0.get(k.add),U;
if(k.add[d]==null)return;var I=j.N(k.add[d]);for(var c in F.Y)I[c]=F.Y[c];var Q=j.N(I);for(var c in f0.PW)if(f0.PW[c]==d)Q.classID=c;
var x=$.history[$.Qc];if(x&&x.J==this&&x.data.Ir!=null&&x.data.z==l)U=x;else{var S=new k6(_.E.wG,!0),z={classID:"setd",null:cQ.sZ("AdjL",!0),T:{t:"Objc",v:Q}};
S.data={t2:!0,hE:"set",iH:z};r.a(S);var U=new fH([6,39],this);U.data={z:l,Ir:k.add[d],FJ:I,pm:z};$.gg(U)}U.data.FJ=I;
U.data.pm.T.v=Q;this.mY(U.data,$)};B.Xy.getData=function(F,r,$){var C=[],M=new cS(0,0,F.r,F.$),l=F.GY.length!=0?[-1-F.GY[0]]:F.K;
for(var O=0;O<l.length;O++){var k=l[O],d=k<0?null:F.u[k],I={z:k,ku:k<0?1:d.Go};C.push(I);var c=F.Bs[-1-k];
if(0<=k)c=d.Go<=0?null:d.Go==1?d.rc():d.WZ(F).Lj;var Q=c?c.S:d.S;if(F.d){I.OV=F.d.S.R7(r||c!=null?M:Q)}else I.OV=r||c!=null?Q.DM(M):Q.P();
if($)I.OV=$[O].OV.P();var x=I.OV.C();I.PF=j.j(x*4,F.depth);if(c)B.k7.YC(c.G,c.S,c.color,I.PF,I.OV);else j.mR(d.buffer,Q,I.PF,I.OV);
I.v2=I.PF.slice(0);if(F.d){I.nM=j.j(x,F.depth);j.wU(F.d.G,F.d.S,I.nM,I.OV)}}return C};B.Xy.a7B=function(F,r,$){if(r==null)return r;
var C=f0.Cq(F,r),l;if(C==-1)return r;var M=$.length>>>2,k=j.DP($),d=.001*M;if(C==0||C==2)l=[[0,255,0,255,100],B.Xy.n4(k[1],d,M,C==2),B.Xy.n4(k[2],d,M,C==2),B.Xy.n4(k[3],d,M,C==2)];
if(C==1)l=[B.Xy.n4(k[0],d*.33,M,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var I=e9.Mv("levl");
for(var O=0;O<4;O++)fc.qd(I,O,l[O]);return I};B.Xy.aEs=function(F,r,$,C){var M,l;if($.t=="name"){var k=0;
for(var d=0;d<F.u.length;d++)if(F.u[d].getName()==$.v.val)k=d;if(F==r&&k==C.z){M=C.PF;l=C.OV}else{var I=F.u[k];
M=I.buffer;l=I.S}}else{l=new cS(0,0,F.r,F.$);M=F==r?C.gf:F.Ez()}return[M,l]};B.Xy.prototype.m3=function(F,r,$,C){if(this.PL==null){if(F.kh=="aply")$.u[$.K[0]].extend(new cS(0,0,$.r,$.$));
this.PL=B.Xy.getData($,null,F.kh=="fade"?$.pg().data:null);if(F.kh=="aply"||F.kh=="matc")this.PL[0].gf=$.Ez()}if(F.R=="edit"){this.s7=[F.kh,F.rY];
var M=this.PL[0],l=B.Xy.a7B(F.kh,F.rY,M.PF),k=f0.ak(F.kh,l);if(F.kh=="fade"||F.kh=="matc"||F.kh=="aply")k=F.rY;
if(k!=null){for(var d=0;d<this.PL.length;d++){var I=this.PL[d];if(F.RA)j.Jx(I.PF,I.v2);else if(F.kh=="fade"){var c=dL.Gg(F.rY.Md.v.BlnM),Q=F.rY.Opct.v.val/100,x=$.pg().data[d];
j.Jx(x.PF,I.v2);if(c=="norm")j.v.RS(I.PF,I.OV,I.v2,I.OV,null,null,null,I.OV,Q);else{var U=en.bX();U.l_=!0;
for(var O=0;O<x.PF.length;O+=4)if(x.PF[O+3]!=I.PF[O+3]){U=null;break}j.v.O5(c,I.PF,I.OV,I.v2,I.OV,I.OV,Q,U)}}else if(F.kh=="matc"){var S;
if(k.noReference&&k.noReference.v)S=I.PF;else{var z=k.Srce.v,V=z[1].v.val,t=r.Mi,Y=$;for(var O=0;O<t.length;
O++)if(t[O].name==V)Y=t[O];var i=B.Xy.aEs(Y,$,z[0],I);S=i[0]}gv(I.PF,I.OV.r,I.OV.$,S,I.v2,[k.Lght.v,k.ClrR.v,k.Fade.v,k.neutralizeColor?k.neutralizeColor.v:!1])}else if(F.kh=="aply"){k=k.With.v;
var J=k.T.v,i=B.Xy.aEs($,$,J[1],I),S=i[0],H=i[1],v=k.Clcl?k.Clcl.v.Clcn:null,c=v?dL.Gg(v):"norm",Q=k.Opct?k.Opct.v.val/100:1,n=["RGB","Rd","Grn","Bl","Trsp"].indexOf(J[0].v.enum),l=k.Invr&&k.Invr.v;
if(l||n!=0){S=S.slice(0);if(l)j.ajU(S);if(n!=0){var G=j.j(H.C());j.Eg(S,G,n-1);if(n==4)j.v4(G);for(var g=0;
g<3;g++)j.dr(G,S,g)}}if(v=="Add"||v=="Sbtr"){var W=1/k.Scl.v,L=k.Ofst.v,b=v=="Add"?1:-1,T=new Uint8ClampedArray(I.v2.buffer);
for(var O=0;O<S.length;O+=4){T[O]=(I.PF[O]+b*S[O])*W+L;T[O+1]=(I.PF[O+1]+b*S[O+1])*W+L;T[O+2]=(I.PF[O+2]+b*S[O+2])*W+L}}else{var U=en.bX();
U.l_=k.PrsT&&k.PrsT.v;I.v2.fill(0);I.v2.set(I.PF);j.v.O5(c,S,H,I.v2,I.OV,I.OV,Q,U)}}else f0.Fx(k,I.PF,I.v2,I.OV)}B.Xy.zb($,this.PL)}}if(F.R=="cancel"){B.Xy.axy($,this.PL);
this.PL=null}if(F.R=="confirm"){var a={fade:[2,11],aply:[2,12],matc:[4,18]},R=a[F.kh];if(R==null)R=f0.names[F.kh];
var D=f0.Cq(F.kh,this.s7[1]);if(D!=-1)R=[4,16,D];B.Xy.S7($,this.PL,R,this);this.PL=null;if(D==-1)B.Xy.uS(r,this.s7)}$.vM()};
B.Xy.uS=function(F,r){var $=r[0],C=r[1],M,l;if(f0.m5[$]){M=f0.m5[$];if(cW[$])l=C}if(e9.m5[$]){M=e9.m5[$];
if(cW[$])l=C}if($=="fade"){M="fade";l=C}if($=="matc"){M="matchColor";l=C}if($=="aply"){M="applyImageEvent";
l=C}if($=="GEfc"){if(l.GEfs)l=l.GEfs.v[0].v}if(M==null)return;var k=new k6(_.E.wG,!0);k.data={t2:!0,hE:M};
if(l){l=j.N(l);k.data.iH=l}F.a(k)};B.Xy.axy=function(F,r){B.Xy.Ro(F,r)};B.Xy.S7=function(F,r,$,C){for(var O=0;
O<r.length;O++){var M=r[O],l=F.u[M.z],k=M.z<0?F.Bs[-1-M.z]:M.ku<=0?null:M.ku==1?l.rc():l.WZ(F).Lj;if(k){k.uF();
k.qX=!0;if(l)l.uH(F)}else{l.uF();l.vM()}delete M.v2;delete M.nM}var d=new fH($,C);d.data=r;F.gg(d);F.Wk=!0};
B.Xy.zb=function(F,r,$){for(var O=0;O<r.length;O++){var C=r[O],M=F.u[C.z],l=$?C.PF:C.v2,k=C.OV;if(C.ku==0){M.extend(k);
if(C.nM){j.mR(C.PF,k,M.buffer,M.S);j.v.RS(l,k,M.buffer,M.S,C.nM,k,0,k,1)}else j.mR(l,k,M.buffer,M.S)}else{var d=C.z<0?F.Bs[-1-C.z]:C.ku==1?M.rc():M.WZ(F).Lj;
d.extend(k);if(C.nM){var I=j.j(k.C()*4);j.Jx(C.PF,I);j.v.RS(l,k,I,k,C.nM,k,0,k,1);B.k7.Vj(I,k,d)}else B.k7.Vj(l,k,d);
d.qX=!0;if(M)M.uH(F)}if(M)M.vM()}if(!$)B.Xy.a5J(F,r)};B.Xy.Ro=function(F,r){for(var O=0;O<r.length;O++){var $=r[O],C=F.u[$.z],M=$.OV,l=j.j(M.C()*4,F.depth);
if($.ku==0){j.mR(C.buffer,C.S,l,M);C.extend(M);j.mR($.PF,M,C.buffer,C.S);C.uF()}else{var k=$.z<0?F.Bs[-1-$.z]:$.ku==1?C.rc():C.WZ(F).Lj;
B.k7.YC(k.G,k.S,k.color,l,M);k.extend(M);B.k7.Vj($.PF,M,k);k.uF();k.qX=!0;if(C)C.uH(F)}$.PF=l;if(C)C.vM()}F.Wk=!0};
B.Xy.pX=function(F){var r=0;for(var O=0;O<F.length;O++)r+=F[O].PF.length;return r};B.Xy.a5J=function(F,r){var $=B.Xy.anB(F),C=~$;
if($==16777215)return;for(var O=0;O<r.length;O++){var M=r[O],l=F.u[M.z],k=M.OV;if(M.ku!=0)continue;l.extend(k);
var d=k.x-l.S.x,I=k.y-l.S.y,c=l.S.r,Q=new Uint32Array(M.PF.buffer),x=new Uint32Array(l.buffer.buffer);
for(var U=0;U<k.$;U++)for(var S=0;S<k.r;S++){var z=U*k.r+S,V=(U+I)*c+(S+d);x[V]=x[V]&$|Q[z]&C}l.uF();
l.vM()}F.vM()};B.Xy.anB=function(F){var r=F.f.BS;return r[2]*16711680|r[1]*65280|r[0]*255};B.Xy.prototype.Ea=function(F,r){var $=r.u[F.z];
if(F.Ir!=null)$.add[f0.get($.add)]=F.Ir;else B.Xy.Ro(r,F);r.vM()};B.Xy.prototype.mY=function(F,r){var $=r.u[F.z];
if(F.Ir!=null)$.add[f0.get($.add)]=F.FJ;else B.Xy.Ro(r,F);r.vM()};B.Xy.prototype.pX=function(F){return F.Ir==null?B.Xy.pX(F):0};
B.TM=function(){B.m9.call(this,"Filter Edit",B.tl);this.PL=null;this.gH=null;this.R=null;this.s7=null};
B.TM.prototype=new B.m9;B.TM.prototype.Y3=function(F,r,$,C,M){if(F.R=="start"){if($.K.length==0)return;
var l=$.u[$.K[0]];if(l.add.SoLd&&l.Go<=0&&$.GY.length==0){}else if(!$.Za(r,null,!0))return;var k=F.kh;
if((cW[k]||e9.W[k])&&F.rY==null){if($.K.length!=1)alert("Will be applied to "+$.K.length+" layers.");
var d=new k6(_.E.c,!0);d.data=B.TM.QC(k,this.ep($,k),F.Oy);r.a(d)}else{var I={R:"edit",kh:k,rY:F.rY,vm:this.ep($)};
this.Y3(I,r,$,C,M);I.R="confirm";delete I.rY;this.Y3(I,r,$,C,M)}}if(F.R=="edit"||F.R=="cancel"||F.R=="confirm"){if(F.R=="edit")this.s7=[F.kh,F.rY];
if(F.vm)this.a6L(F,r,$,M);else this.a04(F,r,$,M)}if(F.R=="applylast"&&this.s7!=null){var k=this.s7[0],c=this.s7[1];
if(C.D(ac.AH)&&(cW[k]||e9.W[k])){var d=new k6(_.E.c,!0);d.data=B.TM.QC(k,this.ep($,k),null,c);r.a(d)}else{var I={R:"edit",kh:k,rY:c,vm:this.ep($)};
this.Y3(I,r,$,C,M);I.R="confirm";delete I.rY;this.Y3(I,r,$,C,M)}}};B.TM.QC=function(F,r,$,C){var M=e9.W[F];
if(M)return{R:_.m.Td,J:M,U9:{vm:r,Oy:$}};else return{R:_.m.Oe,rS:"afw_"+F,vm:r,j9:C}};B.TM.prototype.ep=function(F,r){var $=F.u[F.K[0]],C;
if($.add.SoLd&&$.Go<=0&&F.GY.length==0){C={z:F.K[0],index:0};if($.add.SoLd.filterFX!=null){var M=$.add.SoLd.filterFX.v.filterFXList.v;
C.index=M.length;for(var O=0;O<M.length;O++)if(e9.hq(M[O].v)=="rigidTransform")C.index=O}}return C};
B.TM.prototype.a6L=function(F,r,$,C){var M=$.u[F.vm.z],l=F.kh;if(F.R=="edit"){if(this.R==null){var k=e9.names[l];
if(k==null)k=f0.names[l];if(l=="blendOptions")k=[14,10];this.R=new fH(k,this);this.R.data={vm:F.vm,aFL:j.N(M.add.SoLd)}}if(!M.XE()){M.add.SoLd.filterFX=e9.No();
var d=this.R.data.LI=kQ.a0e(M.add.SoLd.placed.v);$.gm(d);if($.d){d.Lj.G=$.d.G.slice(0);d.Lj.S=$.d.S.P();
d.Lj.color=0;this.R.data.lS=$.d;$.d=null}M.d7($)}var I=M.add.SoLd.filterFX.v.filterFXList.v;if(I[F.vm.index]==null){I.push(e9.zs(l,C))}if(F.rY){I[F.vm.index].v.enab.v=F.RA!=!0;
if(l=="blendOptions")I[F.vm.index].v.blendOptions.v=F.rY;else I[F.vm.index].v.Fltr.v=F.rY}this.R.data.aib=j.N(M.add.SoLd);
this.mY(this.R.data,$)}if(F.R=="cancel"){if(this.R)this.Ea(this.R.data,$);this.R=null}if(F.R=="confirm"){if(this.R)$.gg(this.R);
B.Xy.uS(r,this.s7);this.R=null}};B.TM.prototype.a04=function(F,r,$,C){if(this.PL==null){var M=e9.o4(F.kh,F.rY);
this.PL=B.Xy.getData($,M.x!=0||M.y!=0,F.kh=="VaPo"?[{OV:F.gf[1]}]:null)}if(F.R=="edit"){var l=JSON.stringify(F.rY);
if((F.rY==null||l!=this.gH)&&F.RA!=!0)for(var O=0;O<this.PL.length;O++){var k=this.PL[O],d={S:k.OV,buffer:k.PF},I={S:k.OV,buffer:k.v2};
if(F.kh=="Avrg"&&k.nM){d.buffer=k.PF.slice(0);j.Qk(k.nM,d.buffer)}e9.Fx(F.kh,d,F.rY,j.iW(C.y1),j.iW(C.J2),I,[$.add.lnk2?$.add.lnk2:[],$.u[$.K[0]].rc(),$.Bs,$.Ug()]);
if(F.kh=="VaPo"){j.mR(F.gf[0],F.gf[1],I.buffer,I.S)}if(F.kh=="Avrg"&&k.nM){var c=k.PF.length;for(var O=0;
O<c;O+=4)k.v2[O+3]=k.PF[O+3]}this.gH=l}B.Xy.zb($,this.PL,F.RA)}if(F.R=="cancel"){B.Xy.axy($,this.PL);
this.PL=null;this.gH=null}if(F.R=="confirm"){if(F.kh=="VaPo"){this.PL.aoM=JSON.stringify($.k2);this.PL.mo=JSON.stringify(F.Y);
$.k2=F.Y}B.Xy.S7($,this.PL,e9.names[F.kh],this);this.PL=null;this.gH=null;B.Xy.uS(r,this.s7)}$.vM();
$.Wk=!0};B.TM.prototype.Ea=function(F,r){if(F.mo)r.k2=JSON.parse(F.aoM);if(F.vm){var $=r.u[F.vm.z];if(F.LI)r.xO(F.LI);
if(F.lS)r.d=F.lS;$.add.SoLd=j.N(F.aFL);if($.XE())$.JZ(r);else{$.d7(r);$.Go=0}}else B.Xy.Ro(r,F);r.vM();
r.Wk=!0};B.TM.prototype.mY=function(F,r){if(F.mo)r.k2=JSON.parse(F.mo);if(F.vm){var $=r.u[F.vm.z];if(F.LI)r.gm(F.LI);
if(F.lS)r.d=null;$.add.SoLd=j.N(F.aib);if($.XE())$.JZ(r);else $.d7(r);if(!$.yX())$.U4+=32}else B.Xy.Ro(r,F);
r.vM();r.Wk=!0};B.TM.prototype.pX=function(F){return F.vm==null?B.Xy.pX(F):0};var d3={BN:"0",UG:"1",PP:"2",YW:"3",Dd:"3.5",aD:"4",ve:"5",Xh:"6",oF:"7",O:"8",Nb:"8.5",SK:"8.8",GI:"9",r3:"10",yp:"11",gv:"12",NJ:"13",$B:"14",Wt:"15",q0:"16",mU:"17",nq:"18",Kv:"19",VV:"21",JI:"22",yh:"23",jG:"23.0",cB:"23.1",sh:"23.2",jD:"23.3",y5:"23.4",cF:"23.5",H4:"23.6",aq4:"30",pS:"31",r5:"40",tB:"41",ht:"42"};
d3.pH={};d3.pH[d3.UG]=["abr","brushes",gh,[9,3],3];d3.pH[d3.PP]=["grd","gradients",c6,[12,37],4,36,36];
d3.pH[d3.YW]=["shc","contours",bG,[12,21],0];d3.pH[d3.Dd]=["acv","curves",bb,[4,2],0];d3.pH[d3.aD]=["asl","styles",eW,[12,22],5];
d3.pH[d3.ve]=["pat","patterns",fU,[12,62],6];d3.pH[d3.Xh]=["csh","shapes",fW,[12,77],7];d3.pH[d3.oF]=["aco","swatches",jE,[9,8],0,22,22];
d3.pH[d3.O]=["atn","actions",hz,[9,9],2];d3.pH[d3.Nb]=["tpl","tpresets",bq,[9,12],0];d3.pH[d3.SK]=["icc","profiles",jF,"LUTs",8];
d3.bn={};d3.bn[d3.oF]=!0;function fH(F,r,$){if($==null)$=!1;this.name=F;this.J=r;this.VN=$;this.data=null;
this.atl=Date.now()}fH.prototype.pX=function(){return this.J?this.J.pX(this.data):0};var cQ={};cQ.sZ=function(F,r){var $={t:"Clss",v:{classID:F}};
if(r)$={t:"Enmr",v:{classID:F,typeID:"Ordn",enum:"Trgt"}};return{t:"obj ",v:[$]}};cQ.Yr=function(F,r){var $={classID:"Lyr"};
$[F]=r;return{hE:"set",iH:{classID:"null",null:cQ.sZ("Lyr",!0),T:{t:"Objc",v:$}}}};cQ.a2x=function(F,r,$,C,M){var l=new k6(_.E.wG,!0),k=[],O=0,d=cQ.GX(r,$,C,k);
while(k.length!=0){var I=k.pop();O++;if(!I.T)continue;console.log(O-1);if(I.hE=="conditional"){var c=F.u[F.K[0]],Q=I.iH.null.v.Cndt,x=!1;
if(Q=="Bckg")x=!1;else if(Q=="Pxel"&&F.DI(!1))x=!0;else if(Q=="Adjs"&&f0.get(c.add))x=!0;else if(Q=="Shp"&&c.add.vogk)x=!0;
else if(Q=="Grup"&&c.EX())x=!0;else if(Q=="Opn"&&F!=null)x=!0;else if(Q=="32Bt")x=!1;else if(Q=="RGB")x=!0;
var U=I.iH.then,S=I.iH.else;if(x&&U)cQ.GX(r,U.v[0].v.val,U.v[1].v.val,k);if(!x&&S)cQ.GX(r,S.v[0].v.val,S.v[1].v.val,k)}else if(I.hE=="stop"){if(I.iH.Cntn&&I.iH.Cntn.v==!0)window.confirm(I.iH.Msge.v);
else{alert(I.iH.Msge.v);break}}else if(I.hE=="play"){var z=I.iH.null.v,V=new k6(_.E.c,!0);V.data={R:_.m.Gu,Fo:[z[0].v.val,z[1].v.val]};
M.a(V)}else{l.data={hE:I.hE,iH:I.iH};M.a(l)}}};cQ.de=function(F,r,$){var C;for(var O=0;O<F.length;O++){if(F[O].qc!=$)continue;
var M=F[O].FL;for(var l=0;l<M.length;l++){if(M[l].qc!=r)continue;C=M[l]}}return C};cQ.GX=function(F,r,$,C){var M=cQ.de(F,r,$).FL,l=M.length;
for(var O=0;O<l;O++)C.push(M[l-1-O])};cQ.a3h=function(F){var r=F.hE,$=F.iH,C,k,d,I,c;if($&&$.null)C=$.null.v[0];
if($&&C==null&&$.At)C=$.At.v[0];if(C&&C.t=="obj ")C=C.v[0];var M=C&&C.v?C.v.classID:null,l=["purge"];
if(l.indexOf(r)!=-1)return r[0].toUpperCase()+r.slice(1);if(r=="GEfc"||r=="paintDaubs")return dD.names[$.GEfk.v.GEft][1];
c=f0.m5;for(k in c)if(c[k]==r)d=k;c=e9.m5;for(k in c)if(c[k]==r)I=k;c=e9.m5;for(k in c)if(k==r)I=k;if(d){var Q=f0.Cq(d,$);
if(Q!=-1)return[4,16,Q];return f0.names[d]}if(I)return e9.names[I];var x=cQ.aks;if(r=="make"){if(C){if(M=="AdjL")return[6,1];
else if(M=="layerSection")return $.From?[6,9]:[6,20];else if(M=="Lyr")return[6,13];else if(M=="Chnl"&&C.v.enum=="Msk")return[6,2];
else if(M=="contentLayer")return[6,48,1];else if(M=="BckL")return"Make Background Layer";else if(M=="Path")return"Make Path";
else if(M=="TxLr")return"Make Text Layer";else if(M=="slice")return"Make Slices";else if(M=="Dcmn")return[11,7];
else if(M=="Gd")return[23,4];else if(M=="Brsh")return["VAR0: VAR1",[12,87],[9,3]]}if($.Nw){M=$.Nw.v.classID;
if(M=="Dcmn")return[11,7];else if(M=="Chnl"||M=="SCch")return"New Channel"}}else if(r=="deselect"){if(M=="Path")return"Deselect current path";
else throw M}else if(r=="draw"){return"Draw"}else if(r=="select"){if(M=="Chnl"){var U={Msk:"Mask",Grn:"Green",Rd:"Red",Bl:"Blue",RGB:"RGB"}[C.v.enum];
if(U==null)U="";return"Select "+U+" Channel"}else if(M=="Mn")return"Select Panel \""+C.v.enum+"\"";else if(M=="Lyr"){if(C.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[C.v.enum]+" Layer";
return"Select Layer \""+C.v.val+"\""}else if(M=="Path")return"Select Path";else if(M=="Brsh")return"Select Brush";
else if(M=="Dcmn")return"Select Document"}else if(x[r]&&M=="Chnl"){var S=C.v.keyID=="fsel";return x[r]+" "+(S?"Selection":"Channel")}else if(r=="set"){if(M=="Lyr")return"Set Current Layer";
else if(M=="AdjL")return[6,39];else if(M=="contentLayer")return[6,48,2];else if(M=="Prpr"){var z=C.v.keyID;
if(z=="TxtS")return"Set Text Style";else if(z=="paragraphStyle")return"Set Paragraph Style";else if(z=="Lefx")return[11,6];
else if(z=="FlIn")return"Set "+dG.get([1,14]);else if(z=="GnrP")return"Set General Preferences";else console.log(z)}else if(M=="Clr")return"Set "+(C.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(M=="Brsh")return"Set Brush";else if(M=="Path")return"Set Work Path";else console.log(M)}else if(r=="move"){if(M=="Lyr")return"Move Layer";
else if(M=="Chnl"&&C.v.keyID=="fsel")return[7,7];else console.log(M)}else if(r=="show"||r=="hide"){var V="";
if(M=="Lyr")V="Layer";if(M=="Chnl")V="Channel";if(M=="filterFX")V="Filter Effect";return(r=="show"?"Show":"Hide")+" "+V}else if(r=="reset"){if(M=="Clr")return"Reset Colors"}else if(r=="exchange"){if(M=="Clr")return[22,7,0]}else if(r=="rotateEventEnum")return[2,5];
else if(r=="flip"){var t=$.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,t?2:3]]}if(r=="duplicate"&&M=="Dcmn")return"Duplicate first document";
if(M=="Chnl"){if(r=="duplicate"){if(C.v.keyID=="fsel")return"Selection to Channel";else return"Duplicate Channel"}if(r=="delete")return"Delete Channel"}if(r=="transform")return C&&C.v.keyID=="fsel"?[7,10]:[10,16];
if(r=="convertMode"){var Y="Convert Mode",i=$.Dpth;if(i)Y+=" To "+i.v+"-Bit";return Y}var J={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],stroke:[14,9],colorRange:[7,8],desaturate:[19,7,0],Dstt:[19,7,0],delete:$?M=="Lyr"?[6,31]:M=="ASet"?"Delete Action Set":"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",placedLayerExportContents:"Export Contents",placedLayerReplaceContents:"Replace Contents",placedLayerConvertToLayers:"Convert To Layers",grow:"Grow Selection",similar:"Similar Selection",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",selectAllLayers:"Select All Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],divide:"Divide Current Slice",collapseAllGroupsEvent:"Collapse All Groups",assignProfile:"Assign Profile",convertToProfile:"Convert To Profile",conditional:"If"},H=J[r];
if(H==null)H=cQ.ap8[r];if(H)return H;return r};cQ.ap8={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
cQ.aks={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
cQ.as7=function(F,r,$,C){var M=F.hE,l=F.iH,k=!1,d=new k6(_.E.O,!0),x,U,S,z;d.J=B.pO;var I=new k6(_.E.c,!0),c=["purge","updatePlacedLayer"];
if(c.indexOf(M)!=-1)return;var Q=M;while(Q.length<4)Q+=" ";z=f0.m5;for(x in z)if(z[x]==Q)U=x;z=e9.m5;
for(x in z)if(z[x]==Q)S=x;z=e9.m5;for(x in z)if(x==Q)S=x;if(M=="fade")U=M;if(M=="matchColor")U="matc";
if(M=="applyImageEvent")U="aply";if(U){d.J=B.tZ;d.data={R:"start",yn:U,rY:l}}else if(S){d.J=B.tl;d.data={R:"start",kh:S,rY:l}}else if(M=="GEfc"||M=="paintDaubs"){d.J=B.tl;
d.data={R:"start",kh:"GEfc",rY:l}}else if(M=="convertMode"){var V=l.Dpth;if(V==null)return;d.J=B.DJ;
d.data={R:"cmode",Y:V.v}}else if(M=="assignProfile"||M=="convertToProfile"){var t=l.profile;if(t==null)t=l.T;
d.J=B.DJ;d.data={R:"cprof",Y:t?t.v:null,aiP:M[0]=="c"}}else if(M=="imageSize"||M=="canvasSize"||M=="revealAll"||M=="trim"||M=="crop"){d.J=B.mO;
d.data={R:"fromAction",NT:F}}else if(M=="fill"||M=="stroke"||M=="delete"&&l==null){var Y=null;if(C.K.length!=0)Y=C.u[C.K[0]];
if(l&&JSON.stringify(l).indexOf("aiHeal")!=1)Y=null;var i=j.iW($.y1);if(Y!=null&&M=="fill"&&Y.add.TySh){var J="var c = new SolidColor();  c.rgb.red="+i.t+";  c.rgb.green="+i.L+";  c.rgb.blue="+i.X+";  app.activeDocument.activeLayer.textItem.color = c;";
I.data={R:_.m.y9,ky:J}}else if(Y!=null&&M=="delete"&&Y.add.TySh){d.J=B.Q_;d.data={R:"insertText",Y:""}}else if(Y!=null&&M=="fill"&&Y.Og()){var d=new k6(_.E.wG,!0),l={classID:"setd",null:cQ.sZ("contentLayer",!0),T:{t:"Objc",v:{}}};
B.tt.NM({Clr:{t:"Objc",v:j.qS.NG(j.iW($.y1))}},l.T.v,0);d.data={hE:"set",iH:l};r.a(d);return}else if(M=="stroke"&&l&&l.null==null){d.J=B.QV;
d.data={R:"stroke",aBJ:l}}else{if(M=="stroke"&&l&&l.Usng)d.J=B.m5[l.Usng.v.classID];else d.J=$.fp==B.pA?B.pA:B.UG;
d.data={R:"fromAction",NT:F}}}else if(M=="colorRange"||M=="grow"||M=="similar"){d.J=B.bO;d.data={R:"fromAction",NT:F}}else if(M=="set"&&l&&l.T&&l.T.v.Ordn=="Al"&&$.fp==B.Q_&&r.re().fV()){d.J=B.Q_;
d.data={R:"selectAll"}}else if(cQ.ap8[M]||cQ.aks[M]&&(!1||l.With&&l.With.v[0].v.keyID=="fsel"||l.From&&l.From.v[0].v.keyID=="fsel"||l.null&&l.null.v[0].v.keyID=="fsel"||l.T.v[0]&&l.T.v[0].v.keyID=="fsel")){d.J=B.gI;
d.data={R:"fromAction",NT:F}}else if(M=="rasterizeLayer"){d.data={R:l.What?l.What.v.rasterizeItem=="vectorMask"?Z.JD:Z.a8F:Z.Gb}}var H={copyToLayer:Z.G5,cutToLayer:Z.RP,mergeLayersNew:Z.GC,mergeVisible:Z.JY,flattenImage:Z.abX,newPlacedLayer:Z.Ko};
if(H[M])d.data={R:H[M],iH:l};if(d.data){r.a(d);return}if(M=="collapseAllGroupsEvent"){for(var O=0;O<C.u.length;
O++){var Y=C.u[O];if(Y.EX())Y.add.lsct=jR.Xz}C.GF=!0;return}if(M=="desaturate"||M=="Dstt"){d.J=B.tZ;
d.data={R:"auto",N0:3};if(C&&C.u[C.K[0]].add.SoLd==null)r.a(d);return}if(M=="close"){if(l&&l.Svng.v.YsN=="Ys"){I.data={R:_.m.YO};
r.a(I)}I.data={R:_.m.TD,$J:C};r.a(I);return}if(M=="save"){I.data={R:_.m.YO};r.a(I);return}if(M=="copyMerged"){I.data={R:_.m.FR,WK:!0,M_:!0};
r.a(I);return}if(M=="placedLayerReplaceContents")I.data={R:_.m.u7,kQ:!0};if(M=="placedLayerConvertToLayers"){I.data={R:_.m.tK};
r.a(I);var v=r.Mi[r.Mi.length-1];v.K=[];for(var O=0;O<v.u.length;O++)v.K.push(O);d.J=B.pO;d.data={R:Z.dY};
r.a(d);var n=C.u[C.K[0]];d.J=B.pO;d.data={R:Z._P,u:v.ZO(),wd:v,eK:C,agN:[n]};r.a(d);I.data={R:_.m.TD};
r.a(I);var G=C.history[C.history.length-1];G.name="Convert to Layers";var g=C.u[C.K[0]];g.Da(n.getName());
B.qW.Rb(C,C.UY(),null,n.S.x,n.S.y);return}var H={placedLayerEditContents:_.m.tK,placedLayerExportContents:_.m.atv,copyEvent:_.m.FR,paste:_.m.qo};
if(H[M])I.data={R:H[M],M_:!0};if(I.data){r.a(I);return}var W=l.null?l.null.v:null,L=W?W[0].v.classID:"";
if(M=="make"){if(l.null==null&&l.Nw)L=l.Nw.v.classID;if(L=="AdjL"){d.data={R:Z.AR,iH:l}}else if(L=="layerSection"){d.data=l.From?{R:Z.dY}:{R:Z.HI};
if(l.Usng){var b=l.Usng.v;if(b.Nm)d.data.PE=b.Nm.v;if(b.Clr)d.data.sK=cQ.vp(b)}}else if(L=="Lyr"){if(l.Usng&&l.Usng.v.length==2)d.data={R:Z.a2s};
else{d.data={R:Z.M1};if(l.Usng)d.data.PE=l.Usng.v.Nm.v;if(l.below&&l.below.v)d.data.afr=!0}}else if(L=="Chnl"&&l.At&&l.At.v[0].v.enum=="Msk"){d.data={R:Z.jT,IL:l.Usng.v.UsrM}}else if(L=="Chnl"||L=="SCch"){d.data={R:Z.mV,vz:"fromAction",Y:F}}else if(L=="contentLayer"){d.data={R:Z.mv,iH:l}}else if(L=="BckL"){C.u[C.K[0]].aso();
return}else if(L=="Dcmn"){if(l.Nw==null)return;var T=l.Nw.v;I.data={R:_.m.K2,xB:kQ.ar2(T,$)}}else if(L=="Ptrn")I.data={R:_.m.eE,jg:0};
else if(L=="Brsh")I.data={R:_.m.eE,jg:1};else if(L=="Path"){var a=l.At;if(a&&a.v&&a.v[0]&&a.v[0].v&&a.v[0].v.enum=="vectorMask"){d.J=B.pO;
var R=!1,D=!1;if(l&&l.Usng){var b=l.Usng.v;R=b.vectorMaskEnabled=="RvlA";D=b[0]&&b[0].v.classID=="Path"}d.data={R:Z.R$,aFG:!R,ajp:D}}else{d.J=B.I6;
d.data={R:"pathedit",vz:"fromsel"}}}else if(L=="TxLr"){d.J=B.Q_;d.data={R:"fromAction",NT:F}}else if(L=="slice"){d.J=B.Rd;
d.data={R:"fromAction",NT:F}}else if(L=="Gd"){var h=[[],[]],T=l.Nw.v;h[T.Ornt.v.Ornt=="Vrtc"?0:1].push(T.Pstn.v.val);
var K=cw.Z9(h);B.qW.Kn(K,C.Pw());d.J=B.uo;d.data={R:"gids",jb:K}}else{console.log(M,L,l);throw"e"}}else if(M=="divide"){d.J=B.Rd;
d.data={R:"fromAction",NT:F}}else if(M=="deselect"){if(L=="Path"){C.tk=[];C.dy=[];C.GF=C.eD=!0;return}else throw L}else if(M=="selectNoLayers"){C.K=[];
C.Wk=!0}else if(M=="selectAllLayers"){C.K=[];for(var O=0;O<C.u.length;O++)C.K.push(O);C.Wk=!0;return}else if(M=="select"){var X=B.m5;
if(L=="Lyr"){var w=l.selectionModifier,N=w?w.v.selectionModifierType:null,s=cQ.X6(C,W[0]),A=0;if(s==-1){alert("Layer "+W[0].v.val+" does not exist.");
return}var Y=C.u[s];if(Y.EX()&&Y.rc()&&w==null)A=1;d.data={R:Z.sJ,z:s,kc:N?["addToSelection","addToSelectionContinuous"].indexOf(N):null,A0:A}}else if(L=="Path"){if(W[0].v.keyID=="WrPt"){C.tk=[0];
C.GF=C.eD=!0;return}else if(W[0].t=="name"){for(var O=0;O<C.S8.length;O++)if(C.S8[O].name==W[0].v.val){C.tk=[O];
C.GF=C.eD=!0;return}}else throw W[0]}else if(L=="Chnl"){var q=W?W[0].v.enum:"",f=["Rd","Grn","Bl"].indexOf(q);
if(f!=-1){var e=l.Extd&&l.Extd.v?C.f.BS.slice(0):[0,0,0];e[f]=1;d.J=B.H1;d.data={R:"setcls",BS:e}}else d.data={R:Z.sJ,z:s,A0:q=="RGB"?0:1}}else if(L=="Dcmn"){if(r.Mi.length<2)return;
I.data={R:_.m.aH4,dir:l.null.v[0].v.val}}else if(L=="Brsh"){var E=$.sO.list,cj;for(var O=0;O<E.length;
O++){if(E[O].v.Nm.v.split("/").pop()==W[0].v.val)cj=E[O].v}if($.fp==B.uo){I.data={R:_.m.Td,J:B.UG};r.a(I)}I.data={R:_.m.WF,jg:d3.$B,lV:cj}}else if(L=="Mn"){if(W[0].v.enum=="FrTr")I.data={R:_.m.Td,J:B.DJ};
if(W[0].v.enum=="Scl")I.data={R:_.m.Td,J:B.DJ,U9:{IL:3}};if(W[0].v.enum=="Plce")I.data={R:_.m.u7,aiO:!0};
if(W[0].v.enum=="ZmIn"){d.J=B.Li;d.data={R:"zoom",DZ:!0}}if(W[0].v.enum=="ZmOt"){d.J=B.Li;d.data={R:"zoom",DZ:!1}}if(W[0].v.enum=="FtOn"){d.J=B.Li;
d.data={R:"adapt",Y:"fitscr"}}}else if(X[L]){I.data={R:_.m.Td,J:X[L]}}else throw L}else if(M=="draw"){d.J=B.I6;
d.data={R:"fromAction",NT:F}}else if(M=="gradientClassEvent"){d.J=B.co;d.data={R:"fromAction",NT:F}}else if((M=="set"||M=="reset"||M=="exchange")&&L=="Clr"){I.data={R:_.m.WF,jg:d3.VV,vz:M=="reset"?3:2};
if(M=="set"){I.data.vz=W[0].v.keyID=="FrgC"?0:1;var u=j.qS.MB(l.T.v);I.data.Y=u.t<<16|u.L<<8|u.X}}else if(M=="set"){if(L=="AdjL"){var cd=l.T.v.classID;
cd=f0.PW[cd];d.J=B.tZ;if(cd)d.data={R:"edit_layer",Y:l.T.v}}else if(L=="Lyr"){var m=l.T.v,s=cQ.X6(C,W[0]);
for(var aZ in m){if(aZ=="classID")continue;d.J=B.pO;if(aZ=="Nm")d.data={R:Z.El,name:m.Nm.v};else if(aZ=="Opct")d.data={R:Z.fs,FJ:Math.round(m.Opct.v.val*255/100)};
else if(aZ=="fillOpacity")d.data={R:Z.RK,FJ:Math.round(m.fillOpacity.v.val*255/100)};else if(aZ=="Md")d.data={R:Z.CC,FJ:dL.UI.indexOf(m.Md.v.BlnM)+(C.u[s].EX()?1:0)};
else if(aZ=="Usrs")d.data={R:Z.G9,z:s};else if(aZ=="Blnd"){d.J=B.Ei;d.data={R:"setstl",z:s,Y:{blendOptions:{t:"objc",v:m}}};
r.a(d);d.data={R:"confirm",z:s}}else if(aZ=="userMaskFeather"||aZ=="userMaskDensity"){var jN=m.userMaskFeather,V=m.userMaskDensity,s=C.K[0],eh=C.u[s].MG(0);
if(jN)eh.AU=jN.v.val;if(V)eh.LG=V.v.val;d.data={R:Z.Lv,Kw:s,W2:eh}}else if(aZ=="Clr"){var i=cQ.vp(m);
d.data={R:Z.Ym,aIk:i}}else if(aZ=="Lefx")cQ.arO(r,s,m.Lefx.v,$);else{console.log(l);throw aZ}if(d.data){r.a(d);
delete d.data}}d.data={};var Y=C.u[s];Y.abq()}else if(L=="Prpr"){var m=j.N(l.T.v),s=cQ.X6(C,l.null.v[1]),Y=C.u[s],iA=W[0].v.keyID;
if(iA=="TxtS"||iA=="paragraphStyle"){var hd=Y.add.TySh,kx=j.N(hd.$E),b0=ho.OD(kx),gX=ho.RT(kx,0,b0.length-2);
if(iA=="TxtS")ho.aCS(m,gX);else ho.aFg(m,gX);ho.WE(kx,0,b0.length-1,gX);d.J=B.Q_;d.data={R:"newED",oi:s,CM:kx}}else if(iA=="Lefx"){for(var j$ in m)if(m[j$].v){if(j$=="Scl")m[j$].v.val=100}cQ.arO(r,s,m,$);
d.data={}}else if(iA=="FlIn"||iA=="GnrP")return;else throw iA}else if(L=="contentLayer"){var s=cQ.X6(C,W[0]),m=l.T.v,i0=!0;
if(m.classID=="shapeStyle"){if(m.strokeStyle){m=m.strokeStyle.v;i0=!1}else m=m.FlCn.v}if(i0){var f7={solidColorLayer:0,gradientLayer:1,patternLayer:2}[m.classID],am=cK.Cj(C.u[s].add),S=am.Ef==f7+1?am.v$:cK.zH[f7];
S=j.N(S);B.tt.NM(m,S,f7);d.data={R:Z.fn,RF:[s],oQ:!0,Y:{Ef:f7+1,v$:S}}}else{var gf=j.N(C.u[s].add.vstk);
for(var j$ in m)gf[j$]=m[j$];d.data={R:Z.fn,RF:[s],oQ:!1,Y:gf}}}else if(L=="Brsh"){var cj=j.N($.sO.zU),cC=l.T.v;
if(cC.masterDiameter)cj.Brsh.v.Dmtr.v.val=cC.masterDiameter.v.val;else console.log("unknown brush parameters");
I.data={R:_.m.WF,jg:d3.$B,lV:cj}}else if(L=="Path"){d.J=B.I6;d.data={R:"fromAction",NT:F}}else if(L=="TxLr"){d.J=B.Q_;
d.data={R:"fromAction",NT:F}}else{console.log(W[0],l);throw L}}else if(M=="move"){if(L=="Lyr"){var m=l.T.v;
if(m.classID=="Ofst"){d.data={R:"trsl",hu:m.Hrzn.v.val,PB:m.Vrtc.v.val};d.J=B.uo}else{var aD,c_;if(m[0].t=="Enmr"){if(m[0].v.enum=="Frnt")c_=0;
else if(m[0].v.enum=="Nxt")c_=1;else if(m[0].v.enum=="Prvs")c_=2;else if(m[0].v.enum=="Back")c_=3;else throw"e"}else aD=m[0].v.val;
d.data={R:Z.ga,target:aD,vz:c_,aeQ:l.Dplc?l.Dplc.v:!1}}}else if(L=="Chnl"&&W[0].v.keyID=="fsel"){d.J=B.gI;
d.data={R:"fromAction",NT:F}}}else if(M=="cut"){var m=l.T.v,a9=m.Hrzn.v.val,jz=m.Vrtc.v.val;d.data={R:"trsl",hu:a9,PB:jz};
d.J=B.uo}else if(M=="groupEvent"||M=="ungroup")d.data={R:Z.Uw};else if(M=="show"||M=="hide"){var g3=l.null.t;
if(g3=="obj "){if(W[0].v.val!=null)d.data={R:Z.j2,index:W[0].v.val-1};else d.data={R:Z.QO}}else if(g3=="VlLs"){var L=W[0].v[0].v.classID;
if(L=="Chnl")d.data={R:Z.mV,vz:"fromAction",Y:F};else{var e3=L=="filterFX"?W:W[0].v;for(var O=0;O<e3.length;
O++){if(L=="filterFX")d.data={R:Z.j2,index:e3[O].v[0].v.val-1};else if(e3[O].v.enum=="Trgt"){var c1=[];
for(var dI=0;dI<C.K.length;dI++){var s=C.K[dI],kJ=C.u[s].rR();if(M=="show"&&kJ||M=="hide"&&!kJ)continue;
c1.push(s)}d.data={R:Z.iy,RF:c1}}else{var s=cQ.X6(C,e3[O]),kJ=C.u[s].rR();if(M=="show"&&kJ||M=="hide"&&!kJ)continue;
d.data={R:Z.iy,RF:[s]}}r.a(d)}return}}else throw g3}else if(M=="rotateEventEnum"){d.J=L=="Lyr"?B.DJ:B.mO;
var cA=l.Angl.v.val;d.data={R:"rot",qc:[2,5],Y:-cA*Math.PI/180}}else if(M=="flip"){d.J=L=="Lyr"?B.DJ:B.mO;
var c2=l.Axis.v.Ornt=="Hrzn",ee=c2?new hx(-1,1):new hx(1,-1);d.data={R:"scl",qc:[[2,6],[22,4,c2?2:3]],Y:ee}}else if(M=="transform"){var W=l.null;
if(W&&W.v instanceof Array)W=W.v[0];d.J=W&&W.v.keyID=="fsel"?B.VB:B.DJ;d.data=B.hL.awv(l)}else if(M=="duplicate"){if(L=="Chnl")d.data={R:Z.mV,vz:"fromAction",Y:F};
else if(L=="Dcmn"){var hF=dN.LD("PSD").x2(C);bF.fP({url:C.name},hF,r);return}else if(L=="Actn"){var ic=$.HF,eH=W[1].v.val,kz=null;
for(var O=0;O<ic.length;O++)if(ic[O].qc==eH)kz=ic[O];var kq=cQ.de(ic,W[0].v.val,eH);kq=j.N(kq);kq.qc+=" copy";
kz.FL.push(kq);return}else d.data={R:Z.K7,PE:l.Nm?l.Nm.v:null}}else if(M=="delete"){if(L=="filterFX"){if(W[0].v.val!=null)d.data={R:Z.P1,gx:W[0].v.val-1};
else d.data={R:Z.B6}}else if(L=="Path"){if(W&&W.length==2&&W[0].v.enum=="vectorMask"&&W[1].v.classID=="Lyr"){d.J=B.pO;
d.data={R:Z.mn}}else{d.J=B.I6;d.data={R:"pathedit",vz:"del"}}}else if(L=="Lyr")d.data={R:Z.O9};else if(L=="Chnl"&&W[0].v.enum=="Msk")d.data={R:Z._C};
else if(L=="Chnl")d.data={R:Z.mV,vz:"fromAction",Y:F};else if(L=="Cmnd"){var ic=$.HF,eH=W[2].v.val,kq=cQ.de(ic,W[1].v.val,eH);
kq.FL.splice(W[0].v.val-1,1);return}else if(L=="Actn"){var ic=$.HF,eH=W[1].v.val,kz=null;for(var O=0;
O<ic.length;O++)if(ic[O].qc==eH)kz=ic[O];var kq=cQ.de(ic,W[0].v.val,eH);kz.FL.splice(kz.FL.indexOf(kq),1);
return}else if(L=="ASet"){var ic=$.HF,eH=W[0].v.val,kz=null;for(var O=0;O<ic.length;O++)if(ic[O].qc==eH)kz=ic[O];
if(kz==null)return;ic.splice(ic.indexOf(kz),1);C.Wk=!0;return}else throw L}else if(M=="align"){if(l.Aply&&l.Aply.v.projection=="Auto"){d.J=B.mO;
d.data={R:"auto-align"}}else{d.J=B.uo;var a7=l.Usng.v.ADSt,U={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[a7];
if(U==null)throw a7;d.data={R:"algn",Y:U}}}else if(M=="applyLocking"){var i6=l.layerLocking.v,hm;if(i6.protectTransparency)hm=[[i6.protectTransparency.v],[0]];
else if(i6.protectNone)hm=[[!1,!1,!1,!1],[0,1,2,31]];else{console.log(i6);throw"e"}d.data={R:Z.fu,FJ:hm}}else if(M=="play"){var W=l.target.v;
I.data={R:_.m.Gu,Fo:[W[0].v.val,W[1].v.val]}}if(d.data)r.a(d);else if(I.data)r.a(I);else{console.log(F);
alert("Unknown action \""+M+"\"");throw"e"}};cQ.arO=function(F,r,$,C){$=j.N($);iE.Dg($);if($.masterFXSwitch==null)$.masterFXSwitch={t:"bool",v:!0};
console.log($);var M=cK.Zb;for(var l=0;l<M.length;l++)if($[M[l]]){for(var O=0;O<$[M[l]].v.length;O++){var k=$[M[l]].v[O].v;
for(var d=0;d<2;d++){var I=k[d==0?"TrnS":"MpgS"];if(I&&I.v.Crv==null){var c=I.v,Q=c.Nm.v.split("=").pop(),x=C.Ra,U=0;
for(var S=0;S<x.length;S++){var z=x[S].Nm.v.split("=").pop();if(z==Q)U=S}c.Crv=j.N(x[U].Crv)}}}}var V=new k6(_.E.O,!0);
V.J=B.Ei;V.data={R:"setstl",z:r,Y:{Lefx:{t:"objc",v:$}}};F.a(V);V.data={R:"confirm",z:r};F.a(V)};cQ.vp=function(F){var r={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[F.Clr.v.Clr];
if(r==null)throw F.Clr.v.Clr;return r};cQ.X6=function(F,r){var $=1e6,C=0,M=F.u.length;for(var O=0;O<F.K.length;
O++){$=Math.min($,F.K[O]);C=Math.max(C,F.K[O])}var l=r.t,k=-1;if(l=="name"){var d=r.v.val,k=-1;for(var O=0;
O<M;O++)if(F.u[O].getName()==d){k=O;break}}else if(l=="Enmr"){if(F.K.length!=0)k=F.K[0];if(r.v.enum=="Frwr")k=C+1;
if(r.v.enum=="Bckw")k=$-1;if(r.v.enum=="Back")k=0;if(r.v.enum=="Frnt")k=M-1;k=(k+M)%M}else if(l=="prop"){if(r.v.keyID=="Bckg")k=0}else if(l=="indx")k=r.v.val-1;
return k};var f0={};f0.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
f0.auw=["expA","clrL","selc"];f0.fo=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];f0.afF=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
f0._5=[[13,1,1],[13,1,4],[13,1,5]];f0.ZH={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
f0.PW=function(){var F=j.N(f0.ZH);delete F.GrMp;F.GdMp="grdm";return F}();f0.m5={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
f0.keys={levl:[ac.Xf,ac.tr],curv:[ac.Xf,ac.b7],hue2:[ac.Xf,ac.eX],nvrt:[ac.Xf,ac.Ey],blnc:[ac.Xf,ac.Sn]};
f0.c4=function(F){var r=e9.Mv("mixr");r.Mnch={t:"bool",v:F.Sq};function $(C,O){var M={classID:"ChMx"},l={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var k in l)M[k]={t:"UntF",v:{type:"#Prc",val:C[O+l[k]]}};return{t:"Objc",v:M}}if(F.Sq)r.Gry=$(F.Y,0);
else{r.Rd=$(F.Y,0);r.Grn=$(F.Y,5);r.Bl=$(F.Y,10)}return r};f0.bm=function(F){function r(C,M,O){var l={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var k in l)if(C[k])M[O+l[k]]=C[k].v.val}var $={Sq:!1,Y:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(F.Mnch&&F.Mnch.v)$.Sq=!0;if($.Sq)r(F.Gry.v,$.Y,0);else{r(F.Rd.v,$.Y,0);r(F.Grn.v,$.Y,5);r(F.Bl.v,$.Y,10)}return $};
f0.get=function(F){for(var r in f0.names)if(F[r]!=null)return r;return null};f0.ak=function(F,r){var $=f0.HN,C;
if(F=="brit"){var M=r.Brgh?r.Brgh.v:0,l=r.Cntr?r.Cntr.v:0,k=r.useLegacy?r.useLegacy.v:!1;if(k){var d=M/255,I=1+l/100;
if(I>1)I=1+Math.tan(Math.PI/2*l/101);var c=(1-I)/2,Q=j.t3.Qr(d,d,d),x=[I,0,0,c,0,I,0,c,0,0,I,c,0,0,0,1],U=j.t3.multiply(x,Q),S={t:new Float32Array(256),L:new Float32Array(256),X:new Float32Array(256)};
for(var O=0;O<256;O++)S.t[O]=O/255;j.t3.cH(S,S,U);C={I:$.go,qs:S.t,Cx:S.t,uN:S.t,Ia:!1,YU:!1}}else{var z=1024,V=-30+60*(l+100)/200,t=[];
for(var O=0;O<4;O++)t.push(j.Jw.ie(O/3*255,O/3*255,!0));t[1].v.Hrzn.v=64;t[1].v.Vrtc.v=64-V;t[2].v.Hrzn.v=128+64;
t[2].v.Vrtc.v=128+64+V;t.sort(function(aT,de){return aT.v.Hrzn.v-de.v.Hrzn.v});var Y=j.Jw.kT(t,z);function i(aT,z){var t=[],bU=3;
for(var O=0;O<bU+1;O++)t.push(j.Jw.ie(O/bU*255,O/bU*255,!0));t[1].v.Hrzn.v=130-aT*26;t[1].v.Vrtc.v=130+aT*51;
t[2].v.Hrzn.v=233-aT*48;t[2].v.Vrtc.v=233+aT*10;return j.Jw.kT(t,z)}var J=i(Math.abs(M)/100,z);if(M<0){var H=[],v=1/z;
for(var O=0;O<z;O++){var n=O*v,G=O;while(J[G]>n&&G>1)G--;H[O]=G*v}J=H}var g=new Float32Array(z);for(var O=0;
O<z;O++){var W=Math.round((z-1)*J[O]);g[O]=Y[W]}C={I:$.go,qs:g,Cx:g,uN:g,Ia:!1,YU:!1}}}if(F=="levl"){var L=[],b,T,Q,a,R,D;
for(var O=0;O<4;O++)L.push(fc.T9(r,O));b=-L[0][0]/255;T=1/(L[0][1]/255-L[0][0]/255);Q=j.t3.multiply(j.t3.Kp(T,T,T),j.t3.Qr(b,b,b));
a=j.t3.Kp(1/(L[1][1]/255-L[1][0]/255),1/(L[2][1]/255-L[2][0]/255),1/(L[3][1]/255-L[3][0]/255));R=j.t3.Qr(-L[1][0]/255,-L[2][0]/255,-L[3][0]/255);
D=j.t3.multiply(a,R);var g={t:new Float32Array(256),L:new Float32Array(256),X:new Float32Array(256)};
for(var O=0;O<256;O++)g.t[O]=g.L[O]=g.X[O]=O/255;var h=1/(L[0][4]/100),K=1/(L[1][4]/100),X=1/(L[2][4]/100),w=1/(L[3][4]/100);
j.t3.cH(g,g,D);for(var O=0;O<256;O++){g.t[O]=Math.max(0,Math.min(1,Math.pow(g.t[O],K)));g.L[O]=Math.max(0,Math.min(1,Math.pow(g.L[O],X)));
g.X[O]=Math.max(0,Math.min(1,Math.pow(g.X[O],w)))}j.t3.cH(g,g,Q);for(var O=0;O<256;O++){g.t[O]=Math.max(0,Math.min(1,Math.pow(g.t[O],h)));
g.L[O]=Math.max(0,Math.min(1,Math.pow(g.L[O],h)));g.X[O]=Math.max(0,Math.min(1,Math.pow(g.X[O],h)))}b=L[0][2]/255;
T=L[0][3]/255-L[0][2]/255;Q=j.t3.multiply(j.t3.Qr(b,b,b),j.t3.Kp(T,T,T));a=j.t3.Kp(L[1][3]/255-L[1][2]/255,L[2][3]/255-L[2][2]/255,L[3][3]/255-L[3][2]/255);
R=j.t3.Qr(L[1][2]/255,L[2][2]/255,L[3][2]/255);D=j.t3.multiply(R,a);j.t3.cH(g,g,j.t3.multiply(Q,D));
C={I:$.go,qs:g.t,Cx:g.L,uN:g.X,Ia:!1,YU:!1}}if(F=="curv"){var N=bb.T9(r,0).length==256?1:0,s=[];if(N==0){var A=j.Jw.kT(bb.T9(r,0),256);
for(var O=1;O<4;O++){var p=j.Jw.kT(bb.T9(r,O),256);s.push(j.Jw.a4L(p,A))}}else{var q=[];for(var O=0;
O<4;O++){var f=new Float32Array(256);q.push(f);var e=bb.T9(r,O);for(var G=0;G<256;G++)f[G]=e[G]/255}for(var O=1;
O<4;O++)s.push(j.Jw.a4L(q[O],q[0]))}C={I:$.go,qs:s[0],Cx:s[1],uN:s[2],Ia:!1,YU:!1}}if(F=="expA"){var o=r.Exps,E=r.Ofst,cj=r.gammaCorrection,u=o?o.v:0,cd=E?E.v:0,m=cj?cj.v:1,g=new Float32Array(256);
for(var O=0;O<256;O++){var r=O/255,aZ=Math.pow(Math.abs(cd),1/(Math.PI/2));if(cd>0){r=Math.max(cd/Math.E,r);
r=r*Math.exp(cd/1.75+u/Math.PI);r=(1-aZ)*r+aZ*1}else{r=r*Math.exp(-cd*1.75+u/Math.PI);r=r+-aZ*1.14}r=Math.pow(r,1/m);
g[O]=Math.max(0,Math.min(1,r))}C={I:$.go,qs:g,Cx:g,uN:g,Ia:!1,YU:!1}}if(F=="vibA"){var jN=(r.vibrance?r.vibrance.v:0)/100,eh=(r.Strt?r.Strt.v:0)/100,aZ=1+jN*(jN>0?.25:.5),iA=.8+.2/aZ;
C={I:$.MP,jg:[jN,eh,iA,aZ]}}if(F=="hue2"){var hd=[],kx=[],b0=[],gX=r.Clrz?r.Clrz.v:!1;for(var O=0;O<256;
O++){hd[O]=O/255;kx[O]=0;b0[O]=0}var j$=hA.T9(r,0),i0=f0.ZL(j$[1]/100);if(gX){var f7=j$[0]/360;for(var O=0;
O<256;O++){hd[O]=f7;kx[O]=i0}}else{for(var O=0;O<256;O++){var am=hd[O],gf=kx[O];hd[O]+=j$[0]/360;for(var G=0;
G<6;G++){var cC=hA.T9(r,G+1),aD=cC.Ry,c_=cC.Hf,aZ=0;for(var a9=1;a9<4;a9++)if(c_[a9]<c_[0])c_[a9]+=360;
var jz=c_[0],g3=c_[1],e3=c_[2],c1=c_[3],dI=am*360;if(dI<c_[0])dI+=360;var kJ=(dI-jz)/(g3-jz),cA=(dI-e3)/(c1-e3);
if(kJ<0)aZ=0;else if(kJ<1)aZ=kJ;else if(cA<0)aZ=1;else if(cA<1)aZ=1-cA;else aZ=0;var I=f0.ZL(aD[1]/100);
hd[O]+=aZ*aD[0]/360;kx[O]+=aZ*I;b0[O]+=aZ*aD[2]/100}}for(var O=0;O<256;O++){kx[O]=(1+kx[O])*(1+i0)-1;
b0[O]=Math.max(-1,Math.min(1,b0[O]))}}var c2=new Float32Array(256),ee=new Float32Array(256),hF=new Float32Array(256);
for(var O=0;O<256;O++){var ic=hd[O],eh=kx[O],eH=b0[O];if(ic>1)ic--;if(ic<0)ic++;eh=f0.a8U(eh);c2[O]=ic;
ee[O]=eh;hF[O]=eH}var kz=j$[2]/100,kq=kz<0?-kz:kz,a7=kz<0?0:1;C={I:$.tX,a5W:c2,Vi:ee,azW:hF,ahU:kq*a7,Hr:1-kq,abW:j$[2]/100,asZ:gX?1:0}}if(F=="nvrt"){var g=new Float32Array(256);
for(var O=0;O<256;O++)g[O]=1-O/255;C={I:$.go,qs:g,Cx:g,uN:g,Ia:!1,YU:!1}}if(F=="post"){var i6=r.Lvls.v,g=new Float32Array(256),aZ=i6/255.001,hm=1/(i6-1);
for(var O=0;O<256;O++)g[O]=Math.floor(O*aZ)*hm;C={I:$.go,qs:g,Cx:g,uN:g,Ia:!1,YU:!1}}if(F=="grdm"){var bB=r.Grad.v,iV=r.Rvrs,z=1024,eO;
if(bB.Clrs){var aC=j.qS.ac(bB,0,0);eO=j.qS.aaI(bB,aC,z,iV?iV.v:!1)}else{eO=j.qS.ayf(bB,z,iV?iV.v:!1)}var fq=new Float32Array(z),bX=new Float32Array(z),gb=new Float32Array(z);
j.Eg(eO,fq,0);j.Eg(eO,bX,1);j.Eg(eO,gb,2);C={I:$.go,qs:fq,Cx:bX,uN:gb,Ia:!0,YU:!1}}if(F=="selc"){var dX=new Float32Array(9*3*2),cb=r.wx,e6=r.Mthd?r.Mthd.v.CrcM=="Absl":!1;
for(var G=0;G<9;G++){var gn=G*6,kf=ao.T9(r,G),dj=kf[0]/100,hr=kf[1]/100,iB=kf[2]/100,dm=kf[3]/100;if(e6){dX[gn]=dX[gn+1]=dX[gn+2]=1;
dX[gn+3]=dj*(1+dm)+dm;dX[gn+4]=hr*(1+dm)+dm;dX[gn+5]=iB*(1+dm)+dm}else{dX[gn+0]=(1+dj)*(1+dm);dX[gn+1]=(1+hr)*(1+dm);
dX[gn+2]=(1+iB)*(1+dm)}}C={I:$.CD,acH:dX}}if(F=="blwh"){var fr="Rd Yllw Grn Cyn Bl Mgnt".split(" "),C=[],g1=0,dd=0;
for(var O=0;O<6;O++)C.push(r[fr[O]].v);C.push(r.useTint.v,r.tintColor.v);var dv=[];for(var O=0;O<6;O++)dv.push((C[O]-50)/50);
var hw=j.qS.MB(C[7]);hw.t/=255;hw.L/=255;hw.X/=255;var gT=j.nc(hw.t,hw.L,hw.X),eH=j.eN(j.dn(gT.Y9,1,.5)),ha=gT.cG*gT.rY;
if(eH==.5)g1=dd=.5;else{g1=ha*(.5-eH)/(.5/eH-1);dd=1-ha*(.5-eH)-1/(2*(1-eH));dd/=1-1/(2*(1-eH))}C={I:$.Ms,agE:dv,Iw:C[6]?1:0,abI:gT.Y9,eN:eH,ak2:ha,cc:g1,a6P:dd}}if(F=="blnc"){var L=[],gj=["ShdL","MdtL","HghL"];
for(var O=0;O<3;O++){if(r[gj[O]]==null){L[O]=[0,0,0];continue}var i6=r[gj[O]].v,hV=i6[0].v/100,fx=i6[1].v/100,iK=i6[2].v/100,eX=r.PrsL==null||r.PrsL.v?(Math.min(hV,fx,iK)+Math.max(hV,fx,iK))/2:0;
L[O]=[hV-eX,fx-eX,iK-eX]}var s=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];for(var G=0;
G<3;G++)for(var O=0;O<256;O++){var n=O*(1/255),bo=0,V=0,f8=0;V=L[2][G];f8=Math.abs(V);if(V<0)bo=Math.pow(n,Math.SQRT2);
else bo=1.63*(Math.pow(n+.04,.5)-.2);n=f8*bo+(1-f8)*n;V=L[1][G];f8=Math.abs(V);if(V<0)bo=Math.pow(n,2);
else bo=Math.min(2.35*(Math.pow(n+.09,.5)-.3),Math.pow(n,1/2));n=f8*bo+(1-f8)*n;V=L[0][G];f8=Math.abs(V);
if(V<0)bo=n<.4?0:Math.pow((n-.4)/.6,Math.SQRT2);else bo=Math.pow(n,Math.SQRT2/2);n=f8*bo+(1-f8)*n;n=Math.max(0,Math.min(1,n));
s[G][O]=n}C={I:$.go,qs:s[0],Cx:s[1],uN:s[2],Ia:!1,YU:!1}}if(F=="phfl"){var dT=j.qS.MB(r.Clr.v),it=[dT.t/255,dT.L/255,dT.X/255],b_=r.Dnst.v/100,s=[new Float32Array(256),new Float32Array(256),new Float32Array(256)];
for(var G=0;G<3;G++)for(var O=0;O<256;O++){var n=O*(1/255),cU=n*it[G];cU=Math.max(0,Math.min(1,cU));
n=b_*cU+(1-b_)*n;s[G][O]=n}C={I:$.go,qs:s[0],Cx:s[1],uN:s[2],Ia:!1,YU:r.PrsL.v}}if(F=="thrs"){var g=new Float32Array(256);
for(var O=r.Lvl.v;O<256;O++)g[O]=1;C={I:$.go,qs:g,Cx:g,uN:g,Ia:!0,YU:!1}}if(F=="mixr"){var iO=f0.bm(r),U=[];
for(var O=0;O<iO.Y.length;O++)if(O%5!=3)U.push(iO.Y[O]/100);if(iO.Sq){for(var aV=1;aV<3;aV++)for(var n=0;
n<4;n++)U[aV*4+n]=U[n]}C={I:$.R4,VF:U}}if(F=="rplc"){var jD=r.Mnm.v,bJ=r.Mxm.v;C={I:$.br,SL:[jD.Lmnc.v,jD.A.v,jD.B.v],xH:[bJ.Lmnc.v,bJ.A.v,bJ.B.v],shift:[r.H.v/360,r.Strt.v/100,r.Lght.v/100],xp:r.Fzns.v/150}}if(F=="clrL"&&r.profile){var gZ=new Uint8Array(r.profile.v),aK=ICC.R(gZ.buffer),g5=[],j9=17,g5=ICC.U.sampleLUT(aK,j9);
C={I:$.e3,PF:ICC.U.lutToRGBA32(g5,j9),an2:g5,ls:j9}}var I=r?r.showClipping:null;if(I){var ir=[C.qs,C.Cx,C.uN],ig=I.v==1?1/255:253/255;
for(var f=0;f<3;f++)for(var O=0;O<ir[f].length;O++)ir[f][O]=ir[f][O]<ig?0:1}return C};f0.Cq=function(F,r){var $=-1;
if(F!="levl"||r==null)$=-1;else if(r.Auto)$=0;else if(r.AuCo)$=1;else if(r.autoBlackWhite)$=2;return $};
f0.HN={go:0,tX:1,MP:2,CD:3,Ms:4,R4:5,br:6,e3:7};f0.ZL=function(F){if(F<0)return F;return Math.pow(Math.tan(Math.PI/2*F),1.3)};
f0.a8U=function(F){if(F<0)return F;F=Math.pow(F,1/1.3);return Math.atan2(F,1)/(Math.PI/2)};f0.Fx=function(F,r,$,C){var M=f0.HN,l=Date.now();
if(jp.mE&&C.C()>300*300&&F.I!=M.go&&F.I!=M.e3){C=C.P();C.x=C.y=0;var k=jp.lt(0,C.r,C.$,j.cN(r));k.set(r);
jp.Tt(k,C);k.eR(C);f0.xl(F,k.ad,C);k.get($);return}var d=r.length,I=j.cN(r),c=I==8?255:I==16?65535:1,Q=1/c;
for(var O=0;O<d;O+=4)$[O+3]=r[O+3];if(F.I==M.e3){var x=F.an2,U=F.ls;ICC.U.applyLUT(x,U,r,$);var d=r.length}if(F.I==M.R4)j.t3.a1i(r,$,F.VF);
if(F.I==M.Ms){var S=F.ak2,z=F.eN,V=F.cc,t=F.a6P,d=r.length;for(var O=0;O<d;O+=4){var C=r[O]*Q,Y=r[O+1]*Q,i=r[O+2]*Q,J=j.Cg(C,Y,i),H=0;
for(var v=0;v<6;v++)H+=Math.min(1,1.7*(1-J.v_))*J.cG*F.agE[v]*f0.aIl(J.Y9,v*(1/6));var n=Math.max(0,Math.min(1,J.v_*(1+H)));
if(F.Iw==1){var G=0;if(n<V)G=n*(.5/z);else if(n<t)G=n+S*(.5-z);else G=1-(1-n)*.5/(1-z);J.Y9=F.abI;J.cG=Math.min(1,S+3*S*Math.abs(n-.5*(V+t)));
J.v_=G}else{J.Y9=0;J.cG=0;J.v_=n}var g=j.dn(J.Y9,J.cG,J.v_);$[O]=g.t*c;$[O+1]=g.L*c;$[O+2]=g.X*c}}if(F.I==M.CD){var W=F.acH,d=r.length,L=1/255;
for(var O=0;O<d;O+=4){var C=r[O]*L,Y=r[O+1]*L,i=r[O+2]*L,J=j.Cg(C,Y,i),b=Math.max(C,Math.max(Y,i)),T=Math.min(C,Math.min(Y,i)),a=1-C,R=1-Y,D=1-i,h=0,K=0,X=0;
for(var v=0;v<9;v++){var w=v*6,p=0;if(W[w]==1&&W[w+1]==1&&W[w+2]==1&&W[w+3]==0&&W[w+4]==0&&W[w+5]==0)continue;
var N=a*W[w]+W[w+3],s=R*W[w+1]+W[w+4],A=D*W[w+2]+W[w+5];if(v<6)p=f0.aIl(J.Y9,v*(1/6))*J.cG*2*Math.min(J.v_,1-J.v_);
else if(v==6)p=Math.max(0,T-.5)*2;else if(v==7)p=1-(Math.abs(b-.5)+Math.abs(T-.5));else p=Math.max(0,.5-b)*2;
h+=(Math.max(0,Math.min(1,N))-a)*p;K+=(Math.max(0,Math.min(1,s))-R)*p;X+=(Math.max(0,Math.min(1,A))-D)*p}a=Math.max(0,Math.min(1,a+h));
R=Math.max(0,Math.min(1,R+K));D=Math.max(0,Math.min(1,D+X));C=1-a;Y=1-R;i=1-D;$[O]=Math.round(C*255);
$[O+1]=Math.round(Y*255);$[O+2]=Math.round(i*255)}}if(F.I==M.go){j.anr(r,$,F.qs,F.Cx,F.uN,F.Ia,F.YU)}if(F.I==M.tX){if(f0.Qq==null){f0.Qq=new Float64Array(256);
for(var O=0;O<256;O++)f0.Qq[O]=f0.ZL(-1+2*O/255)}var q=f0.Qq;for(var O=0;O<d;O+=4){var C=r[O]*Q,Y=r[O+1]*Q,i=r[O+2]*Q,f=Math.min(C,Y,i),e=Math.max(C,Y,i),o=0,E=0,cj=0;
o=j.Cg(C,Y,i).Y9;var u=~~(o*255+.5),cd=F.a5W[u],m=F.Vi[u],aZ=F.azW[u],H=-aZ,jN=f;if(0<aZ){H=aZ;jN=e}var eh=F.ahU+F.Hr*H*jN,iA=F.Hr*(1-H);
C=eh+iA*C;Y=eh+iA*Y;i=eh+iA*i;e=Math.max(C,Y,i);f=Math.min(C,Y,i);cj=(e+f)*.5;if(e!=f){var hd=e-f;E=cj>.5?hd/(2-(e+f)):hd/(e+f)}var kx=m;
if(F.asZ==0){m=q[Math.floor((1+m)*127.5)];kx=Math.min(E*(1+m),1)}var g=j.dn(cd,kx,cj);C=g.t;Y=g.L;i=g.X;
$[O]=C*c;$[O+1]=Y*c;$[O+2]=i*c}}if(F.I==M.br){j.Jx(r,$);var b0=new Uint32Array(r.buffer),gX=new Uint32Array($.buffer),d=b0.length,j$=F.xp,i0=1/j$,f7={tr:F.SL[0],xz:F.SL[1],X:F.SL[2]},am={tr:F.xH[0],xz:F.xH[1],X:F.xH[2]};
for(var O=0;O<d;O++){var gf=b0[O],cC=gf&255,aD=gf>>>8&255,c_=gf>>>16&255,C=cC*(1/255),Y=aD*(1/255),i=c_*(1/255),a9=gf>>>24,jz=j.fX(cC,aD,c_),g3=j.ac3(jz,f7,am,j$,i0);
if(g3==0)continue;var J=j.Cg(C,Y,i),cd=2+J.Y9+F.shift[0];J.Y9=cd-~~cd;J.cG=Math.max(0,Math.min(1,J.cG+F.shift[1]));
J.v_=Math.max(0,Math.min(1,J.v_+F.shift[2]));var g=j.dn(J.Y9,J.cG,J.v_);C=(1-g3)*C+g3*g.t;Y=(1-g3)*Y+g3*g.L;
i=(1-g3)*i+g3*g.X;gX[O]=a9<<24|i*255<<16|Y*255<<8|C*255}}if(F.I==M.MP){var e3=F.jg[0],c1=F.jg[1],dI=F.jg[2],H=F.jg[3],kJ=j.t3.st([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),cA=j.t3.v4(kJ),c2=2.4;
function U(kz){return Math.max(0,Math.min(1,kz))}function ee(kz){return Math.pow(kz,c2)}function hF(kz){return Math.pow(kz,1/c2)}function ic(C,Y,i,kz){C=ee(C);
Y=ee(Y);i=ee(i);var kq=j.t3.Jh(kJ,[C,Y,i,1]);kq[0]*=dI;kq[1]*=H;kq[2]*=H;var g=j.t3.Jh(cA,kq);g[0]=hF(U(g[0]));
g[1]=hF(U(g[1]));g[2]=hF(U(g[2]));return g}for(var O=0;O<d;O+=4){var C=r[O]*Q,Y=r[O+1]*Q,i=r[O+2]*Q,g=ic(C,Y,i,e3);
C=g[0];Y=g[1];i=g[2];var eH=j.Cg(C,Y,i);eH.cG=Math.max(0,Math.min(1,eH.cG*(1+c1)));g=j.dn(eH.Y9,eH.cG,eH.v_);
C=g.t;Y=g.L;i=g.X;$[O]=C*c;$[O+1]=Y*c;$[O+2]=i*c}}};f0.xl=function(F,r,$){jp.yn.xl(F,r)};f0.aIl=function(F,r){var $=j.DN(r,F)*6;
return Math.max(0,Math.min(1,$<0?1+$:1-$))};var e9={};e9.hq=function(F){var r=F.filterID.v;return r>16777215?P.az8(r):F.Fltr.v.classID};
e9.w2=[{v$:"GEfc"},{v$:"LnCr"},{v$:"Adobe Camera Raw Filter"},{v$:"LqFy"},{v$:"VaPo",NA:!0},{Rm:"3D",Nh:["lightFilterGradient","Dila"]},{Rm:[24,2],Nh:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{Rm:[24,3,11],Nh:["blurbTransform","blurbTransform","blurbTransform","blurbTransform","blurbTransform"]},{Rm:[24,4],Nh:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{Rm:[24,6],Nh:["AdNs","Dspc","DstS","Mdn ","denoise"]},{Rm:[24,8],Nh:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{Rm:[24,10],Nh:["Flam","Clds","DfrC","Fbrs","LnsF"]},{Rm:[24,12],Nh:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{Rm:[24,14],Nh:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{Rm:[24,16],Nh:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{Rm:"Fourier",Nh:["dDFT","iDFT"]}];
e9.m5={LqFy:"LqFy",LnCr:"LnCr",GEfc:"GEfc","Adobe Camera Raw Filter":"Adobe Camera Raw Filter",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",Bokh:"Bokh",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Dspl:"displace",Kale:"Kale",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",ZgZg:"zigZag",AdNs:"addNoise",Dspc:"despeckle",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"crystallize",Frgm:"fragment",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"pointillize",Flam:"",Clds:"clouds",DfrC:"differenceClouds",Fbrs:"Fbrs",LnsF:"LnsF",Shrp:"sharpen",ShrE:"sharpenEdges",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",Embs:"emboss",FndE:"findEdges",oilPaint:"oilPaint",Slrz:"solarize",TrcC:"traceContour","Wnd ":"wind",HghP:"highPass",HsbP:"HsbP","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset",Rept:"Rept",Ctoa:"Ctoa",Dthr:"Dthr",Part:"Part",dDFT:"dDFT",iDFT:"iDFT"};
e9.rM={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM",Wave:"Wave",Displace:"Dspl",BrightnessContrast:"brit"};
e9.W={rigidTransform:B.qh,blurbTransform:B.qD};e9.names={lightFilterGradient:[24,17,8],rigidTransform:[10,46],blurbTransform:[24,3,11],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:[24,5,7],Kale:[24,5,8],AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:[24,7,4],ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Clds:[24,11,0],DfrC:[24,11,1],LnsF:[24,11,2],Flam:[24,11,3],Fbrs:[24,11,4],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:[24,15,5],TrcC:[24,15,6],"Wnd ":[24,15,7],HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Ctoa:[24,17,6],Dthr:[12,23,3],Part:[24,17,7],dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:[2,13],Dila:"Texture Dilation",VaPo:"Vanishing Point",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]],"Adobe Camera Raw Filter":"Camera Raw"};
e9.Mv=function(F){var r=null;if(F=="GEfc")r={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:dD.Mv("GlwE")}]}};
if(F=="LqFy"){var $={a0:5,Y9:5,map:new Float32Array(5*5*2)},C=new Uint8Array(gG.Gk($)),M=[];for(var O=0;
O<C.length;O++)M.push(C[O]);r={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:M}}}if(F=="rigidTransform"){r={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(F=="blurbTransform"){r={__name:"Blur Gallery",classID:"blurbTransform",blurbType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},referenceRect:{t:"Objc",v:{classID:"Rctn",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:1e3},Rght:{t:"long",v:1e3}}},blurbOpenPanel:{t:"long",v:3},blurbSaveMaskChannel:{t:"bool",v:!1},blurbHighQuality:{t:"bool",v:!1},blurbPathBlurSpeed:{t:"UntF",v:{type:"#Prc",val:50}},blurbPathBlurTaper:{t:"UntF",v:{type:"#Prc",val:0}},blurbCenteredPathBlur:{t:"bool",v:!0},blurbWidgetList2:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(F=="LnCr")r={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(F=="adaptCorrect")r={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(F=="Dfs ")r={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(F=="Fbrs")r={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(F=="Embs")r={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(F=="oilPaint")r={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(F=="TrcC")r={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(F=="Wnd ")r={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(F=="lightFilterGradient")r={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(F=="boxblur")r={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(F=="GsnB")r={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(F=="Bokh")r={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(F=="MtnB")r={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(F=="RdlB")r={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(F=="surfaceBlur")r={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(F=="denoise")r={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(F=="Dspl")r={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(F=="Pnch")r={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(F=="Plr ")r={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(F=="Rple")r={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(F=="Shr ")r={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(F=="Sphr")r={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(F=="Twrl")r={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(F=="Wave")r={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(F=="ZgZg")r={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(F=="AdNs")r={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(F=="DstS")r={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(F=="Mdn ")r={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(F=="ClrH")r={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(F=="Crst")r={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(F=="Mztn")r={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(F=="Msc ")r={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(F=="Pntl")r={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(F=="LnsF")r={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(F=="Dthr")r={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0},Mthd:{t:"long",v:1}};if(F=="Part")r={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(F=="Adobe Camera Raw Filter")r={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(F=="smartSharpen")r={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(F=="UnsM")r={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(F=="HghP")r={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(F=="HsbP")r={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(F=="Mxm ")r={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(F=="Mnm ")r={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(F=="Ofst")r={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(F=="Kale")r={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(F=="Rept")r={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(F=="Flam")r={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(F=="Ctoa")r={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(F=="brit")r={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(F=="levl")r={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(F=="curv")r={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(F=="expA")r={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(F=="vibA")r={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(F=="hue2")r={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(F=="blnc")r={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(F=="blwh")r={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(F=="phfl")r={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(F=="grdm")r={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(cK.sH[6]).Grad};
if(F=="selc")r={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(F=="thrs")r={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(F=="mixr")r={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(F=="clrL")r={__name:"Color Lookup",classID:"colorLookup"};if(F=="post")r={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(F=="rplc")r={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(F=="fade")r={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(F=="aply")r={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(F=="matc"){r={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(F=="Dila")r={__name:"Texture Dilation",classID:"Dila",Crop:{t:"UntF",v:{type:"#Pxl",val:0}},Rds:{t:"UntF",v:{type:"#Pxl",val:10}}};
if(F=="blendOptions")r={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return r};e9.cP={sFlam:function(F,r){r[0]=F.Type.v;r[1]=F.Leng.v;r[2]=F.RndL.v;r[3]=F.Widt.v;r[4]=F.Angl.v;
r[5]=F.Intr.v;r[6]=F.Adpt.v;r[7]=F.Clr.v;r[8]=F.Qual.v;r[9]=F.Turb.v;r[10]=F.Jag.v;r[11]=F.Opct.v.val;
r[12]=F.Lins.v;r[13]=F.Botm.v;r[14]=F.Styl.v;r[15]=F.Shap.v;r[16]=F.RnSh.v;r[17]=F.Arng.v},gFlam:function(F,r){F.Type.v=r[0];
F.Leng.v=r[1];F.RndL.v=r[2];F.Widt.v=r[3];F.Angl.v=r[4];F.Intr.v=r[5];F.Adpt.v=r[6];F.Clr.v=r[7];F.Qual.v=r[8];
F.Turb.v=r[9];F.Jag.v=r[10];F.Opct.v.val=r[11];F.Lins.v=r[12];F.Botm.v=r[13];F.Styl.v=r[14];F.Shap.v=r[15];
F.RnSh.v=r[16];F.Arng.v=r[17]},sAdNs:function(F,r){r[0]=F.Nose.v.val;r[1]=["Gsn","Unfr"].indexOf(F.Dstr.v.Dstr);
r[2]=F.Mnch.v},gAdNs:function(F,r){F.Nose.v.val=r[0];F.Dstr.v.Dstr=["Gsn","Unfr"][r[1]];F.Mnch.v=r[2]},sDstS:function(F,r){r[0]=F.Rds.v;
r[1]=F.Thsh.v},gDstS:function(F,r){F.Rds.v=r[0];F.Thsh.v=r[1]},sGsnB:function(F,r){r[0]=F.Rds.v.val},gGsnB:function(F,r){F.Rds.v.val=r[0]},sDila:function(F,r){r[0]=F.Crop.v.val;
r[1]=F.Rds.v.val},gDila:function(F,r){F.Crop.v.val=r[0];F.Rds.v.val=r[1]},sHghP:function(F,r){r[0]=F.Rds.v.val},gHghP:function(F,r){F.Rds.v.val=r[0]},sHsbP:function(F,r){var $=["RGBC","HSBl","HSLC"];
r[0]=$.indexOf(F.Inpt.v.ClrS);r[1]=$.indexOf(F.Otpt.v.ClrS)},gHsbP:function(F,r){var $=["RGBC","HSBl","HSLC"];
F.Inpt.v.ClrS=$[r[0]];F.Otpt.v.ClrS=$[r[1]]},"sMxm ":function(F,r){var $="preserveShape";r[0]=F.Rds.v.val;
r[1]=F[$]?["squareness","Rndn"].indexOf(F[$].v[$]):0},"gMxm ":function(F,r){var $="preserveShape";F.Rds.v.val=r[0];
F[$]={t:"enum",v:{preserveShape:["squareness","Rndn"][r[1]]}}},"sMnm ":function(F,r){var $="preserveShape";
r[0]=F.Rds.v.val;r[1]=F[$]?["squareness","Rndn"].indexOf(F[$].v[$]):0},"gMnm ":function(F,r){var $="preserveShape";
F.Rds.v.val=r[0];F[$]={t:"enum",v:{preserveShape:["squareness","Rndn"][r[1]]}}},sMtnB:function(F,r){r[0]=[F.Angl.v];
r[1]=F.Dstn.v.val;console.log(r)},gMtnB:function(F,r){F.Angl.v=typeof r[0]=="number"?r[0]:r[0][0];F.Dstn.v.val=r[1]},sOfst:function(F,r){r[0]=F.Hrzn.v;
r[1]=F.Vrtc.v;r[2]=["Rpt","Bckg","Wrp"].indexOf(F.Fl.v.FlMd)},gOfst:function(F,r){F.Hrzn.v=r[0];F.Vrtc.v=r[1];
F.Fl.v.FlMd=["Rpt","Bckg","Wrp"][r[2]]},sPnch:function(F,r){r[0]=F.Amnt.v},gPnch:function(F,r){F.Amnt.v=r[0]},"sPlr ":function(F,r){r[0]=["RctP","PlrR"].indexOf(F.Cnvr.v.Cnvr)},"gPlr ":function(F,r){F.Cnvr.v.Cnvr=["RctP","PlrR"][r[0]]},sRple:function(F,r){r[0]=F.Amnt.v;
r[1]=["Sml","Mdm","Lrg"].indexOf(F.RplS.v.RplS)},gRple:function(F,r){F.Amnt.v=r[0];F.RplS.v.RplS=["Sml","Mdm","Lrg"][r[1]]},sTwrl:function(F,r){r[0]=F.Angl.v},gTwrl:function(F,r){F.Angl.v=r[0]},sZgZg:function(F,r){r[0]=F.Amnt.v;
r[1]=F.NmbR.v;r[2]=["ArnC","OtFr","PndR"].indexOf(F.ZZTy.v.ZZTy)},gZgZg:function(F,r){F.Amnt.v=r[0];
F.NmbR.v=r[1];F.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][r[2]]},sUnsM:function(F,r){r[0]=F.Amnt.v.val;r[1]=F.Rds.v.val;
r[2]=F.Thsh.v},gUnsM:function(F,r){F.Amnt.v.val=r[0];F.Rds.v.val=r[1];F.Thsh.v=r[2]},sWave:function(F,r){r[0]=F.NmbG.v;
r[1]=F.WLMn.v;r[2]=F.WLMx.v;r[3]=F.AmMn.v;r[4]=F.AmMx.v;r[5]=F.SclH.v;r[6]=F.SclV.v;r[7]=["WvSn","WvTr","WvSq"].indexOf(F.Wvtp.v.Wvtp);
r[8]=["WrpA","RptE"].indexOf(F.UndA.v.UndA);r[9]=F.RndS.v},gWave:function(F,r){F.NmbG.v=r[0];F.WLMn.v=r[1];
F.WLMx.v=r[2];F.AmMn.v=r[3];F.AmMx.v=r[4];F.SclH.v=r[5];F.SclV.v=r[6];F.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][r[7]];
F.UndA.v.UndA=["WrpA","RptE"][r[8]];if(r[9]!=null){var $=parseInt(r[9]);if(isNaN($))$=248325464;$=Math.max(0,Math.min(268435455,$));
F.RndS.v=$}},sDspl:function(F,r){r[0]=F.HrzS.v;r[1]=F.VrtS.v;r[2]=0;r[3]=["WrpA","RptE"].indexOf(F.UndA.v.UndA)},gDspl:function(F,r){F.HrzS.v=r[0];
F.VrtS.v=r[1];F.UndA.v.UndA=["WrpA","RptE"][r[3]];F.DspF.v.pth=r[4]},sbrit:function(F,r){r[0]=F.Brgh?F.Brgh.v:0;
r[1]=F.Cntr?F.Cntr.v:0;r[2]=F.useLegacy?F.useLegacy.v:!1},gbrit:function(F,r){F.Brgh.v=r[0];F.Cntr.v=r[1];
if(r[2]!=null)F.useLegacy.v=r[2]}};e9.aFt=function(F){var r=new hx(0,0);if(F.enab.v==!1)return r;var $=F.filterFXList.v;
for(var O=0;O<$.length;O++){var C=$[O].v;if(C.enab.v==!1)continue;var M=e9.hq(C),l=e9.o4(M,C.Fltr?C.Fltr.v:null);
if(l.x>r.x)r.x=l.x;if(l.y>r.y)r.y=l.y}return r};e9.o4=function(F,r){var $=0,C=0;if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(F)!=-1){var M=r.Rds?r.Rds.v.val:1;
$=C=M*2.57}if(F=="MtnB")$=C=r.Dstn.v.val;if("Dila,Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,blurbTransform,Frgm,Flam".split(",").indexOf(F)!=-1){$=C=1e4}if(F=="GEfc")return dD.o4(r);
return new hx(Math.ceil($),Math.ceil(C))};e9.No=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
e9.zs=function(F,r){var $={t:r.y1>>16,L:r.y1>>8&255,X:r.y1&255},C={t:r.J2>>16,L:r.J2>>8&255,X:r.J2&255},M=e9.names[F];
if(M==null)M=f0.names[F];var l=F;for(var k in f0.ZH)if(f0.ZH[k]==F)l=k;var d={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:dG.get(M)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:j.qS.NG($)},BckC:{t:"Objc",v:j.qS.NG(C)},filterID:{t:"long",v:l.length==4?P.awE(l):777}}},I=e9.Mv(F);
if(I)d.v.Fltr={t:"Objc",v:I};return d};e9.lY=function(F,r,$,C){var M=Date.now(),l=jp.mE&&Math.max(C.r,C.$)<=jp.Tg.getParameter(jp.Tg.MAX_TEXTURE_SIZE),k=j.cN($);
if(F<1){var d=Math.round(F*5),I=[1,2,1,2,[40,26,13,6,4,2][d],2,1,2,1];I=j.wh.NB(I);if(!l){j.nP($);var c=$.slice(0);
j.wh.Te(c,$,C.r,C.$,I,!0);j.AJ($)}else{var Q=C.r,x=C.$,U=jp.lt(0,Q,x,k);U.set($);var S=jp.lt(1,Q,x,k),z=new Float32Array([1/Q,1/x]);
jp.Tt(S);jp.filter.xl({I:jp.filter.aaV,Hb:z,aef:new Float32Array(I)},U.VJ);S.get($)}}else{var V=[];while(r!=2&&F*[1,2.4][r]>20&&V.length<4){var t=j.JA($,C);
V.push($,C);$=t.fU;C=t.S;F/=2}var Q=C.r,x=C.$;if(!l||r==2&&F>15){j.nP($);if(r==0)j.Zi.ab9($,C,F);if(r==1)j.Zi.apD($,C,F);
if(r==2)j.Zi.aic($,C,F);j.AJ($)}else{var U=jp.lt(0,Q,x,k);U.set($);var S=jp.lt(1,Q,x,k),z=new Float32Array([1/Q,1/x]);
if(r==0){var Y=1;while(Y<F)Y<<=1;jp.Tt(S);jp.filter.xl({I:jp.filter.Q2,Hb:z,aQ:F,U9:[0,0,Y]},U.VJ);jp.Tt(U);
jp.filter.xl({I:jp.filter.Q2,Hb:z,aQ:F,U9:[0,1,Y]},S.VJ);U.get($)}else if(r==1){var i=3,J=j.Zi.ar6(F,i);
for(var O=0;O<i;O++){var H=J[O]>>>1,v=1;while(v<H)v<<=1;if(H==0)continue;jp.Tt(S);jp.filter.xl({I:jp.filter.Q2,Hb:z,aQ:H,U9:[0,0,v]},U.VJ);
jp.Tt(U);jp.filter.xl({I:jp.filter.Q2,Hb:z,aQ:H,U9:[0,1,v]},S.VJ)}U.get($)}else{var Y=1;while(Y<F)Y<<=1;
jp.Tt(S);jp.filter.xl({I:jp.filter.Q2,Hb:z,aQ:F,U9:[0,0,Y]},U.VJ);S.get($)}}var n=Date.now();while(V.length!=0){var G=V.pop(),g=V.pop();
j.scale.aCU($,C.r,C.$,g,G.r,G.$);$=g;C=G}}};e9.aCl=function(F,r,$,C){for(var O=0;O<F.length;O++){$[O]=F[O]*(1/255);
C[O]=0}FFT.fft2d($,C);var M=r>>>1,l=16384,k=128,I=100;while(k<r){k<<=1;l<<=2}var d=255/Math.log(l),c=-100;
for(var Q=0;Q<r;Q++)for(var x=0;x<M;x++){var U=r+M+Q&r-1,S=$[U*r+x],z=C[U*r+x],V=Math.sqrt(S*S+z*z),t=Math.atan2(z,S);
F[Q*r+x]=Math.round(d*Math.log(V+1));F[Q*r+M+x]=Math.round((Math.PI+t)*(255*.5/Math.PI))}};e9.auS=function(F,r,$,C){$.fill(0);
C.fill(0);var M=r>>>1,l=16384,k=128;while(k<r){k<<=1;l<<=2}var d=255/Math.log(l),I=[],c=[],Q=[];for(var O=0;
O<256;O++){I[O]=Math.exp(O/d)-1;var x=O*(2*Math.PI/255)-Math.PI;c[O]=Math.sin(x);Q[O]=Math.cos(x)}for(var U=0;
U<r;U++)for(var S=0;S<M;S++){var z=r+M+U&r-1,V=I[F[U*r+S]],x=F[U*r+M+S],t=V*Q[x],Y=V*c[x];$[z*r+S]=t;
C[z*r+S]=Y;if(S!=0){var i=z==0?z*r+r-S:(r-z)*r+(r-S);$[i]=t;C[i]=-Y}}FFT.ifft2d($,C);for(var O=0;O<F.length;
O++){F[O]=Math.max(0,Math.min(255,~~(.5+255*$[O])))}};e9.ahA=new ArrayBuffer(512);e9.acj=function(F){var r=e9.ahA,$=F.length;
if(r.byteLength<$)e9.ahA=r=new ArrayBuffer($);var C=new Uint8Array(r);for(var O=0;O<$;O+=4){C[O]=F[O];
C[O+1]=F[O+1];C[O+2]=F[O+2];C[O+3]=F[O+3]}return r};e9.Fx=function(F,r,$,C,M,l,k){var d,I,c=j.cN(r.buffer);
if(l==null)l={buffer:j.j(r.buffer.length,c),S:r.S.P()};l.buffer.set(r.buffer);var Q="Blr ,BlrM,Shrp,ShrM,GsnB,boxblur,smartSharpen,UnsM,HghP".split(","),x=c!=8&&Q.indexOf(F)==-1;
if(x){d=r.buffer;I=l.buffer;r.buffer=j.Mz(d,8);l.buffer=j.Mz(I,8)}l=e9.ajt(F,r,$,C,M,l,k);if(x){r.buffer=d;
j.Mz(l.buffer,c,I);l.buffer=I}return l};e9.ajt=function(F,r,$,C,M,l,k){var d=$&&$.RndS?$.RndS.v>>>1:0,I=j.cN(r.buffer),c=j.zV(I);
if(F=="GEfc"){var Q=[];if($.GEfs){var x=$.GEfs.v;for(var O=0;O<x.length;O++){var U=x[O].v;if(U.GELv&&U.GELv.v==!1)continue;
Q.push(U)}}else Q=[$];for(var O=0;O<Q.length;O++){var S;if(O==0)dD.Fx(F,r,Q[O],C,M,l,k);else{if(S==null)S={buffer:j.j(r.buffer.length),S:r.S.P()};
j.Jx(l.buffer,S.buffer);dD.Fx(F,S,Q[O],C,M,l,k)}}}if(F=="Dila"){var z=$.Crop.v.val,V=$.Rds.v.val+z;V=V*V;
if(V==0)return;var t=r.S,Y=t.r,i=t.$,J=Y*i,H=r.buffer,S=l.buffer,v=j.j(J);j.Eg(H,v,3);if(z!=0){var n=t.P();
n.lW(1,1);var G=j.j(n.C());j.wU(v,t,G,n);j.v4(G);j.style.stroke(G,G,n,z);j.v4(G);j.wU(G,n,v,t)}var g=j.style.ZE(v,Y,i);
S.fill(0);for(var W=0;W<i;W++)for(var L=0;L<Y;L++){var O=W*Y+L,b=O<<1,T=O<<2,a=g[b],D=g[b+1];if(a*a+D*D<V){var h=(W+D)*Y+(L+a)<<2;
S[T]=H[h];S[T+1]=H[h+1];S[T+2]=H[h+2];S[T+3]=255}}}if(F=="Adobe Camera Raw Filter"){var t=r.S,Y=t.r,i=t.$,K=j.Mz(r.buffer,32),X=j.N($);
delete X.Upri;delete X.GuUr;gH(K,Y,i,K,X);j.Mz(K,8,l.buffer)}if(F=="Fct "){var t=r.S,Y=t.r,i=t.$,J=Y*i,w=J*4;
function N(hE){var e3=hE.slice(0);for(var W=0;W<3;W++)for(var L=0;L<3;L++)e3[W*3+L]=hE[(2-L)*3+W];return e3}function s(k7,he,cs,g2){var kU=0;
for(var W=0;W<3;W++)for(var L=0;L<3;L++)kU+=he[W*3+L]*k7[(g2-1+W)*Y+cs-1+L];return kU}var A=[8,5,2,5,2,-1,2,-1,-4],p=[5,5,5,2,2,2,-1,-1,-1],q=[2,2,2,2,2,2,2,2,2],f=[];
f.push(A);for(var O=0;O<3;O++)f.push(N(f[f.length-1]));f.push(p);for(var O=0;O<3;O++)f.push(N(f[f.length-1]));
f.push(q);for(var O=0;O<9;O++)f[O]=j.wh.NB(f[O]);var e=[-Y-1,-Y,-Y+1,-1,0,1,Y-1,Y,Y+1],o=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],E=j.j(J),cj=new Float32Array(J),u=j.j(J);
for(var cd=0;cd<3;cd++){j.Eg(r.buffer,E,cd);for(var m=0;m<1;m++){for(var W=1;W<i-1;W++)for(var L=1;L<Y-1;
L++){var aZ=W*Y+L,jN=E[aZ];cj[aZ]=1e9;for(var O=0;O<9;O++){var eh=s(E,f[O],L,W),iA=(eh-jN)*(eh-jN);if(iA<cj[aZ])cj[aZ]=iA}}for(var W=1;
W<i-1;W++)for(var L=1;L<Y-1;L++){var hd=0,kx=1e9;for(var O=0;O<9;O++){var b0=W*Y+L+e[O],iA=cj[b0];if(iA<kx){kx=iA;
hd=E[b0]}}u[W*Y+L]=hd}E.set(u)}j.dr(u,l.buffer,cd)}}if(F=="adaptCorrect"){var t=r.S,Y=t.r,i=t.$,J=Y*i,w=J*4,gX=$.sdwM.v,j$=gX.Amnt.v.val/100,i0=gX.Wdth.v.val/100,f7=gX.Rds.v,am=$.hglM.v,gf=am.Amnt.v.val/100,cC=am.Wdth.v.val/100,aD=am.Rds.v;
j.ayE.lF(r.buffer,l.buffer,Y,i,j$,i0,f7,gf,cC,aD,$.ClrC.v/100,$.Cntr.v/100)}if(F=="denoise"){var t=r.S,Y=t.r,i=t.$,c_=$.channelDenoise.v[0].v;
j.aJM.aDi(r.buffer,Y,i,l.buffer,c_.Amnt.v/10,c_.EdgF.v/100)}if(F=="HsbP"){var a9=$.Inpt.v.ClrS,jz=$.Otpt.v.ClrS,t=r.S,Y=t.r,i=t.$,J=Y*i;
for(var O=0;O<J;O++){var T=O*4,m=r.buffer[T]*(1/255),g3=r.buffer[T+1]*(1/255),e3=r.buffer[T+2]*(1/255);
if(a9=="RGBC"){}else if(a9=="HSLC"){var u=j.dn(m,g3,e3);m=u.t;g3=u.L;e3=u.X}else if(a9=="HSBl"){var u=j.aJV(m,g3,e3);
m=u.t;g3=u.L;e3=u.X}var c1=m,dI=g3,kJ=e3;if(jz=="RGBC"){}else if(jz=="HSLC"){var u=j.Cg(m,g3,e3);c1=u.Y9;
dI=u.cG;kJ=u.v_}else if(jz=="HSBl"){var u=j.apa(m,g3,e3);c1=u.Y9;dI=u.cG;kJ=u.X}l.buffer[T]=~~(255*c1);
l.buffer[T+1]=~~(255*dI);l.buffer[T+2]=~~(255*kJ)}}if(F=="Fbrs"){var t=r.S,Y=t.r,i=t.$;j.F.a4A(r.buffer,Y,i,l.buffer,[$.Vrnc.v,$.Strg.v,d]);
var cA=j.j(Y*i);j.Eg(l.buffer,cA,0);j.v4(cA);dD.Zf(cA,l.buffer,C,M)}if(F=="Frgm"){var t=r.S,Y=t.r,i=t.$,c2=r.buffer.slice(0);
j.nP(c2);j.F.ay7(c2,Y,i,l.buffer);j.AJ(l.buffer)}if(F=="Flam"){var t=r.S,Y=t.r,i=t.$,ee=$.Clr.v,hF={I:$.Type.v+1,length:$.Leng.v,a4G:$.RndL.v,ge:$.Widt.v,acB:$.Angl.v,aHj:$.Intr.v,abV:$.Adpt.v,color:{t:ee.Rd.v,L:ee.Grn.v,X:ee.Bl.v},cL:$.Qual.v+1,lz:$.Turb.v,NR:$.Jag.v,gk:$.Opct.v.val,rH:$.Lins.v,auG:$.Botm.v,style:$.Styl.v+1,shape:$.Shap.v+1,adh:$.RnSh.v,aEF:$.Arng.v,aaL:!1};
if(k[3]==null)return;var ic=k[3],eH=ic[0],kz=ic[1],kq=eH[kz.length!=0?kz[0]:0];if(kq==null){alert("Make a path first");
return}var a7=kq.add.vmsk.M,i6=j.w.Us(a7),hm=[];for(var h=0;h<i6;h++){var bB=j.w.ZZ(a7,h),iV=a7[bB];
if(iV.length<2)continue;var eO=[];hm.push(eO);var aC=iV.length-(iV.I==3?1:0);for(var aZ=0;aZ<aC;aZ++){var fq=a7[bB+1+aZ],bX=aZ==iV.length-1?a7[bB+1]:a7[bB+1+aZ+1],gb=fq.Z,dX=fq.Pj,A=bX.ni,cb=bX.Z,e6=Math.round(hx.BV(gb,cb)/5);
for(var gn=0;gn<e6;gn++){var a2=gn/e6,kf=1-a2,L=kf*kf*kf*gb.x+3*kf*kf*a2*dX.x+3*kf*a2*a2*A.x+a2*a2*a2*cb.x,W=kf*kf*kf*gb.y+3*kf*kf*a2*dX.y+3*kf*a2*a2*A.y+a2*a2*a2*cb.y;
eO.push(L,W)}}}var dj=[hm,hF],hr=Date.now(),iB=fb(dj);hb(r.buffer,Y,i,l.buffer,iB,dj)}if(F=="Dfs "){var t=r.S,Y=t.r,i=t.$,dm=["Nrml","DrkO","LghO","anisotropic"].indexOf($.Md.v.DfsM);
if(dm<3)j.F.ajd(r.buffer,Y,i,l.buffer,[dm]);else{var dj=[1.4,1.6,1,4,!1,2,[0,0,.001]],t=r.S.P();t.x=t.y=0;
j.IG.filter(r.buffer,t,l.buffer,dj)}}if(F=="TrcC"){var t=r.S,Y=t.r,fr=Y<<2,i=t.$,dv=$.Lvl.v,hw=$.Edg.v.CntE=="Lwr",gT=r.buffer,cu=l.buffer;
j._8(cu,1,1,1);function ha(fa,d5){dd(fa,d5);dd(fa+1,d5+1);dd(fa+2,d5+2)}function g1(fa,d5){gj(fa,d5);
gj(fa+1,d5+1);gj(fa+2,d5+2)}function dd(fa,d5){var c1=gT[fa],dI=gT[d5];if(c1>=dv&&dI<dv)cu[fa]=0;if(c1<dv&&dI>=dv)cu[d5]=0}function gj(fa,d5){var c1=gT[fa],dI=gT[d5];
if(c1>dv&&dI<=dv)cu[d5]=0;if(c1<=dv&&dI>dv)cu[fa]=0}if(hw)for(var W=1;W<i;W++)for(var L=1;L<Y;L++){var T=W*Y+L<<2;
ha(T,T-4);ha(T,T-fr)}else for(var W=1;W<i;W++)for(var L=1;L<Y;L++){var T=W*Y+L<<2;g1(T,T-4);g1(T,T-fr)}}if(F=="Embs"){var t=r.S,Y=t.r,i=t.$,es=-$.Angl.v*Math.PI/180,hV=$.Hght.v,fx=$.Amnt.v/100;
hV/=2;var a=Math.cos(es)*hV,D=Math.sin(es)*hV,gT=r.buffer,cu=l.buffer;cu.fill(0);var iK=new Uint32Array(gT.buffer),u=new Uint8Array(4),eX=new Uint32Array(u.buffer);
for(var W=0;W<i;W++)for(var L=0;L<Y;L++){var bo=0,f8=0,dT=0;if(0<=L+a&&L+a<Y&&0<=W+D&&W+D<i){j.H.J$(L+a+.5,W+D+.5,iK,Y,i,eX,0,0);
bo+=u[0]-128;f8+=u[1]-128;dT+=u[2]-128}if(0<=L-a&&L-a<Y&&0<=W-D&&W-D<i){j.H.J$(L-a+.5,W-D+.5,iK,Y,i,eX,0,0);
bo-=u[0]-128;f8-=u[1]-128;dT-=u[2]-128}var T=W*Y+L<<2;cu[T]=Math.max(0,Math.min(255,bo*fx+128));cu[T+1]=Math.max(0,Math.min(255,f8*fx+128));
cu[T+2]=Math.max(0,Math.min(255,dT*fx+128));cu[T+3]=gT[T+3]}}if(F=="ShrE"){var t=r.S,Y=t.r,i=t.$;j.F.afZ(r.buffer,Y,i,l.buffer)}if(F=="Dspc"){var t=r.S,Y=t.r,i=t.$;
j.F.az2(r.buffer,Y,i,l.buffer)}if(F=="Slrz"){var it=l.buffer,b_=128;for(var O=0;O<it.length;O+=4){if(it[O]>b_)it[O]=255-it[O];
if(it[O+1]>b_)it[O+1]=255-it[O+1];if(it[O+2]>b_)it[O+2]=255-it[O+2]}}if(F=="Wnd "){var t=r.S,Y=t.r,i=t.$,cU=["Wnd","Blst","Stgr"],iO=$.WndM.v.WndM;
j.F.rS(r.buffer,Y,i,l.buffer,[cU.indexOf(iO),$.Drct.v.Drct!="Left"])}if(F=="Bokh"){var t=r.S,Y=t.r,i=t.$,J=Y*i,w=J*4,aV=r.buffer.slice(0),jD=$.BkDi.v.BtDi,bJ=$.BkDc,gZ=$.BkDs.v,aK=$.BkDp.v/255;
if(jD=="BeIn")aK=0;var g5=57*(.3+.7*((Y+i)/2)/1750)*($.BkIb.v/100)*(1+.2*Math.pow(aK,.1)),bU=parseInt($.BkIs.v.BtIs.slice(3)),j9=-$.BkIr.v*Math.PI/180,ir=[];
for(var O=0;O<8;O++){var ig=j9+O*(Math.PI*2/bU),aT=j9+(O+1)*(Math.PI*2/bU),de=Math.cos(ig),fJ=Math.sin(ig),kA=Math.cos(aT),c5=Math.sin(aT),iD=[0,0,0];
j.VF.cr([[de,fJ,1,0],[kA,c5,1,0],[1,1,1,1]],iD);if(iD[2]>0){iD[0]*=-1;iD[1]*=-1;iD[2]*=-1}ir.push(iD[0],iD[1],iD[2],0)}if(jD=="BeIn"){j.SP(aV,0);
aK=1}else if(jD=="BeIt"&&bJ.v.BtDc=="BeCt"){}else{var fA;if(jD=="BeIt"&&bJ.v.BtDc=="BeCm")fA=k[1];else if(jD=="BeIa")fA=k[2][bJ.v];
if(fA==null){j.SP(aV,0)}else{var E;if(fA.S.Mp(t))E=fA.G;else E=fA.JL(t);j.dr(E,aV,3)}}if(gZ)for(var O=0;
O<w;O+=4)aV[O+3]=255-aV[O+3];if(jp.mE){var eV=aV,gY=Y,k2=i,fm=1,j_=($.BkSb.v==0||$.BkSt.v==255)&&jD=="BeIn";
if(!j_){var fD=0;for(var O=0;O<w;O+=4)fD+=Math.abs(aK-aV[O+3]*(1/255));fD=fD/J*g5;var kP=3.14*fD*fD*Y*i/3e6;
if(kP>2e3){alert("too large radius");return}}while(j_&&3*(g5/fm)*(g5/fm)*Y*i>500*2e3*2e3){var iC=j.aub(aV,new cS(0,0,gY,k2));
aV=iC.fU;gY=iC.S.r;k2=iC.S.$;fm*=2}var hr=Date.now(),H=jp.lt(0,gY,k2);H.set(aV);var eQ=jp.lt(1,Y,i);
jp.Tt(eQ);jp.filter.xl({I:jp.filter.a0A,Hb:new Float32Array([1/gY,1/k2]),ahZ:aK,D6:g5/fm,aGq:new Float32Array([$.BkSb.v/100,$.BkSt.v/255]),ax$:new Float32Array([$.BkNa.v/100,$.BkNt.v.BtNt=="BeNu"?0:1,$.BkNm.v?1:0]),aHu:new Float32Array(ir.slice(0,16)),acV:new Float32Array(ir.slice(16))},H.VJ);
eQ.get(l.buffer);var ip=l.buffer;for(var O=0;O<w;O+=4)ip[O+3]=r.buffer[O+3]}}if(F=="blurbTransform"){j.FY.apply($,r,l)}if(F=="rigidTransform"){var hr=Date.now(),dU=e9.acj,H=r.buffer.slice(0),h_=0,fS=0;
j.nP(H);var Y=r.S.r,i=r.S.$,jt=$.puppetShapeList.v,hy=[],jh=[],fs=[],eL=[];for(var aZ=0;aZ<jt.length;
aZ++){var jH=jt[aZ].v,b=h_*2,iW=fS*3,hl=jH.originalVertexArray.v.length>>>2,gJ=jH.indexArray.v.length>>>2,gS=new Float32Array(dU(jH.originalVertexArray.v));
for(var O=0;O<hl;O++)hy[b+O]=gS[O];var e5=new Float32Array(dU(jH.deformedVertexArray.v));for(var O=0;
O<hl;O++)jh[b+O]=e5[O];var h5=new Uint32Array(dU(jH.indexArray.v));for(var O=0;O<gJ;O++)fs[iW+O]=h_+h5[O];
var jG=[],eE=[],bz=jH.PnDp.v;for(var O=0;O<bz.length;O++){jG.push(jH.pinVertexIndices.v[O].v);eE.push(bz[O].v)}var hQ=j.zQ.aoE(gS,h5,jG,eE);
for(var O=0;O<hQ.length;O++)eL[h_+O]=hQ[O];h_+=hl>>>1;fS+=~~(gJ/3)}var cO=new hS(1,0,0,1,-r.S.x,-r.S.y);
j.b.U(hy,cO,hy);j.b.U(jh,cO,jh);l.buffer.fill(0);j.zQ.Xm(H,Y,i,l.buffer,Y,i,hy,jh,eL,fs);j.AJ(l.buffer)}if(F=="lightFilterGradient"){function dk(gb){var he=1/Math.sqrt(gb[0]*gb[0]+gb[1]*gb[1]+gb[2]*gb[2]);
gb[0]*=he;gb[1]*=he;gb[2]*=he}var Y=r.S.r,i=r.S.$,J=Y*i,hr=Date.now(),dC=j.j(J),dI=.3,kJ=.7;j.R2(l.buffer,dC);
var bY=dC.slice(0);j.Zi.eO(bY,l.S,16);var ch=dC.slice(0);j.Zi.eO(ch,l.S,8);var e$=dC,iM=new Float32Array(J),b6=$.Dtl.v,jY=b6[2].v,aJ=b6[1].v,j1=b6[0].v,kU=$.Scl.v*40*$.textureScale.v/(jY+aJ+j1);
jY*=kU;aJ*=kU;j1*=kU;for(var O=0;O<J;O++){var da=bY[O]*(1/255),kk=ch[O]*(1/255),jb=e$[O]*(1/255);jb=jb*jb;
iM[O]=jY*da+aJ*kk+j1*jb}var hC=$.blur.v;if(hC!=0){j.Zi.eO(iM,l.S,hC)}var fF=Y-1,hX=i-1;for(var W=0;W<i;
W++)for(var L=0;L<Y;L++){var O=W*Y+L,T=O*4,ji=iM[O],a=dI*(iM[O+(L==fF?0:1)]-ji)+kJ*(ji-iM[O-(L==0?0:1)]),D=dI*(iM[O+(W==hX?0:Y)]-ji)+kJ*(ji-iM[O-(W==0?0:Y)]),gb=[1,0,a],dX=[0,1,D];
dk(gb);dk(dX);var aT=gb[0],gD=gb[2],kX=dX[1],iN=dX[2],aA=-gD*kX,fX=-aT*iN,kG=aT*kX;l.buffer[T]=~~(127.5+aA*127.5);
l.buffer[T+1]=~~(127.5+fX*127.5);l.buffer[T+2]=~~(127.5+kG*127.5)}}if(F=="defr"){var Y=r.S.r,i=r.S.$;
bw(r.buffer,Y,i,l.buffer)}if(F=="dDFT"||F=="iDFT"){function cr(bU){if(bU==0)return 1;bU--;bU|=bU>>1;
bU|=bU>>2;bU|=bU>>4;bU|=bU>>8;bU|=bU>>16;return bU+1}var Y=r.S.r,i=r.S.$,bf=cr(Math.max(Y,i)),cB=bf>>>1,gy=new cS(0,0,bf,bf),bP=new cS(0,0,Y,i);
bP.y=bf-i>>>1;var iz=Y>>>1,d6=new cS(0,bP.y,iz,i),dc=new j.fJ(Y*i);j.t9(r.buffer,dc);var dQ=new Float64Array(bf*bf),aO=new Float64Array(bf*bf),E=j.j(bf*bf);
FFT.init(bf);var br=[dc.t,dc.L,dc.X];for(var O=0;O<3;O++){var bR=br[O];E.fill(0);if(F=="dDFT"){j.wU(bR,bP,E,gy);
e9.aCl(E,bf,dQ,aO);j.wU(E,gy,bR,bP,d6);d6.x+=iz;gy.x-=cB-iz;j.wU(E,gy,bR,bP,d6);d6.x-=iz;gy.x+=cB-iz}else{j.wU(bR,bP,E,gy,d6);
d6.x+=cB;bP.x+=cB-iz;j.wU(bR,bP,E,gy,d6);d6.x-=cB;bP.x-=cB-iz;e9.auS(E,bf,dQ,aO);j.wU(E,gy,bR,bP)}}j.TP(dc,l.buffer)}if(F=="Avrg"){var jX=0,hM=0,gl=0,fN=0,cp=1;
for(var O=0;O<r.buffer.length;O+=4){var v=r.buffer[O+3];jX+=r.buffer[O]*v;hM+=r.buffer[O+1]*v;gl+=r.buffer[O+2]*v;
fN+=v}var dW=1/fN;jX=Math.round(cp*(jX*dW)+(1-cp)*255);hM=Math.round(cp*(hM*dW)+(1-cp)*255);gl=Math.round(cp*(gl*dW)+(1-cp)*255);
j._8(l.buffer,jX/255,hM/255,gl/255)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(F)!=-1){var ea=$.Rds?$.Rds.v.val:1;
e9.lY(ea,F=="boxblur"?0:1,l.buffer,l.S);if(F=="UnsM"||F=="smartSharpen"){var fx=($.Amnt?$.Amnt.v.val:200)/100,ky=0;
if(F=="UnsM")ky=$.Thsh.v*c/255;else fx*=.75;for(var O=0;O<r.buffer.length;O++){if((O&3)==3){l.buffer[O]=r.buffer[O];
continue}var jN=r.buffer[O],eh=l.buffer[O],gg=fx*(jN-eh);if(gg>0)gg=Math.max(0,gg-ky);else gg=Math.min(0,gg+ky);
l.buffer[O]=Math.max(0,Math.min(c,jN+gg))}}if(F=="HghP")for(var O=0;O<r.buffer.length;O++){if((O&3)==3){l.buffer[O]=r.buffer[O];
continue}var jN=r.buffer[O],eh=l.buffer[O];l.buffer[O]=Math.max(0,Math.min(c,.5*c+jN-eh))}}if(F=="AdNs"){var cg=new Uint8ClampedArray(l.buffer.buffer),ai=255*$.Nose.v.val/100,jw;
if($.Dstr.v.Dstr=="Gsn")jw=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else jw=function(){return Math.random()*2-1};for(var O=0;O<cg.length;O+=4){var m=cg[O],g3=cg[O+1],e3=cg[O+2],bV,aN,gR;
if($.Mnch.v){bV=aN=gR=jw()}else{bV=jw();aN=jw();gR=jw()}m+=ai*bV;g3+=ai*aN;e3+=ai*gR;cg[O]=m;cg[O+1]=g3;
cg[O+2]=e3}}var hr=Date.now();if(F=="Mdn "||F=="DstS"||F=="Mxm "||F=="Mnm "||F=="surfaceBlur"){var m=0,iZ=$.Thsh,jH=0;
if(iZ)iZ=iZ.v;else iZ=0;if(F=="Mdn "||F=="Mxm "||F=="Mnm "||F=="surfaceBlur")m=$.Rds.v.val;else m=$.Rds.v;
var f$=10*Math.ceil(m/10),Y=r.S.r,i=r.S.$,eJ=["Mnm ","Mxm ","surfaceBlur"].indexOf(F),b$=(jH==0?1:.75)*[.73,.73,1.2][eJ]*(Y*i*Math.pow(f$*f$,1.05))/6022387,io=.6*(Y*i*Math.pow(m,1/2.6))/6500;
if(F=="Mxm "||F=="Mnm ")io=Y*i/13e3;var jd=$.preserveShape;if(jd&&jd.v.preserveShape=="Rndn")jH=1;if(jp.mE&&eJ!=-1&&(b$<io||jH==1)&&b$<500){var H=jp.lt(0,Y,i);
H.set(r.buffer);var S=jp.lt(1,Y,i);jp.Tt(S);jp.filter.xl({I:jp.filter.a8B,Hb:new Float32Array([1/Y,1/i]),D6:m,a8Q:iZ/255,U9:[jH,eJ,f$]},H.VJ);
S.get(l.buffer)}else if(F=="Mxm "||F=="Mnm "){var Y=r.S.r,i=r.S.$;j.j1.agF(r.buffer,l.buffer,Y,i,1+Math.floor($.Rds.v.val)*2,F=="Mxm ")}else{m=Math.round(m);
j._L.az=.5;j._L.wD=iZ;var dg=F=="surfaceBlur"?1:0;j._L.Ix(r.buffer,l.buffer,Y,i,m,dg);if(F=="DstS")for(var O=0;
O<Y*i*4;O++){var cZ=Math.abs(r.buffer[O]-l.buffer[O]);if(cZ<=iZ)l.buffer[O]=r.buffer[O]}}}if(F=="ClrH"){var d6=r.S.P(),cY=0;
d6.x=d6.y=0;var m=$.Rds.v;m=m*Math.sqrt(2);var Y=d6.r,i=d6.$,gq=j.q6(Y,i),fp=new Float32Array(256);for(var O=0;
O<256;O++){var ee=O/255,ea=Math.sqrt(ee*(1/Math.PI));if(ea>.5)ea=.5+Math.pow((ea-.5)/(.564-.5),1.35)*.2;
fp[O]=m*ea}var h4=Math.floor(2*Y/m),av=Math.floor(2*i/m),jB=10-(m-54*Math.sqrt(2))*1.5,ka=[r.buffer,d6];
j.zY(ka);while(ka[cY*2+1].r>1.5*Y/m)cY++;var bo=ka[cY*2+1],dT=ka[cY*2],hL=j.j(bo.C()),fm=1/(1<<cY),gY=bo.r,k2=bo.$,E=j.j(Y*i);
for(var k7=0;k7<3;k7++){j.Eg(dT,hL,k7);j.v4(hL);var es=Math.PI*$["Ang"+(k7+1)].v/180,aR=new hS;aR.translate(-Y/2,-i/2);
aR.rotate(-es);aR.translate(Y/2,i/2);gq.clearRect(0,0,Y,i);for(var W=-(av>>>2);W<av;W++)for(var L=-(h4>>>2);
L<h4;L++){var gC=aR.pI(new hx((L+.5)*m-jB,(W+.5)*m-jB)),gW=Math.max(0,Math.min(gC.x*fm,gY-.51)),iF=Math.max(0,Math.min(gC.y*fm,k2-.51)),J=~~j.H.OS(gW,iF,hL,gY,k2);
gq.beginPath();gq.arc(gC.x,gC.y,fp[J],0,2*Math.PI);gq.fill()}var iY=gq.getImageData(0,0,Y,i);j.Eg(iY.data,E,3);
j.v4(E);j.dr(E,l.buffer,k7)}}if(F=="Crst"||F=="Pntl"){var Y=r.S.r,i=r.S.$,dg=F=="Crst"?j.tW.aHW:j.tW.aJi;
dg(r.buffer,Y,i,l.buffer,$.ClSz.v,[Math.round(M.t),Math.round(M.L),Math.round(M.X)])}if(F=="Mztn"){var Y=r.S.r,i=r.S.$,J=Y*i,dc=new j.fJ(J),f_=[dc.t,dc.L,dc.X];
j.t9(r.buffer,dc);var iO=$.MztT.v.MztT,ba={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[iO],hr=Date.now(),hU=[];
for(var O=0;O<J;O++){hU[O]=Math.random()}var J=Y*i,im=Math.round(J*ba[0]),je=J-Y-1;for(var O=0;O<im;
O++){var ft=Math.random(),jf=1;if(ft<.5){jf=Y;ft*=2}else ft=2*(ft-.5);var fa=Math.floor(ft*je),d5=fa+jf;
hU[fa]=hU[d5]}var a6=Math.round(Y*ba[1]);for(var W=0;W<i;W++)for(var O=0;O<a6;O++){var ft=j.v.oD(W*J+O),fa=W*Y+Math.floor(ft*(Y-1));
hU[fa]=hU[fa+1]}var a_=new Float64Array(256);for(var O=0;O<256;O++){var h1=O/255,ff=2*(h1<.5?h1:1-h1);
ff=ba[2]+Math.pow(ff,ba[3])*(1-ba[2]);h1=h1<.5?ff*.5:1-ff*.5;a_[O]=h1}for(var cd=0;cd<3;cd++){var E=f_[cd];
for(var W=0;W<i;W++){for(var L=0;L<Y;L++){var O=W*Y+L,cX=E[O],h1=a_[cX],ft=hU[O];E[O]=ft>h1?0:255}}}j.TP(dc,l.buffer)}if(F=="Msc "){var i6=$.ClSz.v.val,Y=r.S.r,i=r.S.$,d$=Math.ceil(Y/i6),hh=Math.ceil(i/i6),hs=j.j(d$*hh*4);
j.scale.f1(r.buffer,Y,i,hs,d$,hh,1/i6);j.scale.f1(hs,d$,hh,l.buffer,Y,i,i6)}if(F=="Clds"||F=="DfrC"){var Y=l.S.r,i=l.S.$,J=Y*i,fo=j.j(J);
if(F=="Clds")j.A9(l.buffer,4278190080);var al=j.j(256*4);for(var O=0;O<256;O++){var T=O<<2,hE=O/255,h5=1-hE;
al[T]=Math.round(hE*C.t+h5*M.t);al[T+1]=Math.round(hE*C.L+h5*M.L);al[T+2]=Math.round(hE*C.X+h5*M.X)}j.F.a8o(r.buffer,Y,i,fo);
var fO=l.buffer;for(var O=0;O<J;O++){var T=O<<2,cd=fo[O]<<2,m=al[cd],g3=al[cd+1],e3=al[cd+2];if(F=="Clds"){fO[T]=m;
fO[T+1]=g3;fO[T+2]=e3}else{fO[T]=Math.abs(fO[4*O]-m);fO[T+1]=Math.abs(fO[4*O+1]-g3);fO[T+2]=Math.abs(fO[4*O+2]-e3)}}}if(F=="LnsF"){var Y=r.S.r,i=r.S.$,iO=["Zm","Nkn","Nkn1","PnVs"].indexOf($.Lns.v.Lns),js=$.FlrC.v,eN=[Math.min(iO,2),$.Brgh.v/100,js.Hrzn.v,js.Vrtc.v],hr=Date.now();
j.aik(r.buffer,Y,i,l.buffer,eN)}var hc=["Blr ","BlrM","Shrp","ShrM"].indexOf(F);if(hc!=-1){var cE=hc>1,Y=r.S.r,i=r.S.$,h3=j.wh.hs[hc],gk=r.buffer.slice(0);
if(!cE)j.nP(gk);j.wh.Te(gk,l.buffer,Y,i,h3,!0,!1);if(!cE)j.AJ(l.buffer)}if(F=="MtnB"){var f5=-$.Angl.v*Math.PI/180,ef=$.Dstn.v.val/2,hr=Date.now(),Y=r.S.r,i=r.S.$,t=r.S.P();
t.x=t.y=0;if(jp.mE){var hr=Date.now(),a4=l.buffer;a4.set(r.buffer);j.nP(a4);var eS=jp.lt(0,Y,i);eS.set(a4);
var gT=j.j(4);gT[0]=Math.round(128+127*Math.cos(f5));gT[1]=Math.round(128+127*Math.sin(f5));j.A9(a4,new Uint32Array(gT.buffer)[0]);
var ey=jp.lt(1,Y,i);ey.set(a4);jp.Tt(eS,t);eS.eR(t);jp.filter.xl({I:jp.filter.HT,Ts:ey.VJ,Hb:new Float32Array([1/Y,1/i]),z3:ef/2,mP:1},eS.ad);
eS.get(a4);j.AJ(a4)}else{var kw=l.buffer,cO=new hS;cO.rotate(f5);var u=B.hL.yF([r.buffer,r.S],cO);e9.lY(ef,2,u.buffer,u.S);
cO.v4();u=B.hL.yF([u.buffer,u.S],cO,!1,kw.buffer,l.S);if(!j.Q3(r.buffer))for(var O=0;O<kw.length;O+=4)kw[O+3]=255}console.log(Date.now()-hr)}if(F=="RdlB"){var Y=r.S.r,i=r.S.$,fx=$.Amnt.v,b7=$.BlrM.v.BlrM=="Zm",k7=$.Cntr.v,cs=k7.Hrzn.v,g2=k7.Vrtc.v,a=Math.max(cs,1-cs)*Y,D=Math.max(g2,1-g2)*i,ea=Math.sqrt(a*a+D*D),ej=2*Math.PI*ea*1.5,kH=Math.round(ej),aB=Math.round(ea),d6=new cS(0,0,kH,aB),ci=j.j(kH*aB*4),b4=b7?4:1,ag=b7?.6:8*((Y+i)/2)/1400,iI=.1,fm=1,h4=1;
j.H.aaE(r.buffer,Y,i,ci,kH,aB,cs,g2,b4,iI,fm,h4);var k$=b7?j.j(kH*aB*4):null;if(b7){j.H.Mk(ci,k$,kH,aB);
var a2=k$;k$=ci;ci=a2;d6.r=aB;d6.$=kH}e9.lY(ag*fx,2,ci,d6);if(b7){j.H.Mk(ci,k$,aB,kH);var a2=k$;k$=ci;
ci=a2;d6.r=kH;d6.$=aB}j.H.afR(ci,kH,aB,l.buffer,Y,i,cs,g2,b4,iI,fm,h4)}if(F=="Plr "){var Y=r.S.r,i=r.S.$;
if($.Cnvr.v.Cnvr=="RctP")j.H.afR(r.buffer,Y,i,l.buffer,Y,i,.5,.5,1,0,2,Y/i);else j.H.aaE(r.buffer,Y,i,l.buffer,Y,i,.5,.5,1,0,2,Y/i)}if(F=="FndE"){var Y=r.S.r,i=r.S.$;
j.wh.anX(r.buffer,l.buffer,Y,i)}if(F=="oilPaint"){var es=$.LghD.v*Math.PI/180,az=[Math.cos(es),Math.sin(es),.001],dj=[$.stylization.v,$.cleanliness.v,$.brushScale.v,$.microBrush.v,$.lightingOn.v,$.specularity.v,az],t=r.S.P();
t.x=t.y=0;j.IG.filter(r.buffer,t,l.buffer,dj)}if(F=="Ofst"){var Y=r.S.r,i=r.S.$,fP=new Uint32Array(r.buffer.buffer),ge=new Uint32Array(l.buffer.buffer);
ge.fill(0);var cn=$.Hrzn.v,g$=$.Vrtc.v,hY=$.Fl.v.FlMd;if(hY=="Bckg"||hY=="Rpt"){var d6=r.S.P();d6.offset(cn,g$);
j.mR(fP,d6,ge,l.S)}if(hY=="Rpt"){var de,fJ,kA,c5,fw;cn=Math.max(-Y,Math.min(Y,cn));g$=Math.max(-i,Math.min(i,g$));
de=cn>0?cn:0;kA=cn>0?Y:Y+cn;fJ=g$>0?0:g$+i;c5=g$>0?g$:i;fw=g$>0?0:Y*(i-1);for(var W=fJ;W<c5;W++)for(var L=de;
L<kA;L++)ge[W*Y+L]=fP[fw+L-cn];de=cn>0?0:Y+cn;kA=cn>0?cn:Y;fJ=g$>0?g$:0;c5=g$>0?i:i+g$;fw=cn>0?0:Y-1;
for(var W=fJ;W<c5;W++)for(var L=de;L<kA;L++)ge[W*Y+L]=fP[fw+Y*(W-g$)];if(cn>=0&&g$>=0){de=0;kA=cn;fJ=0;
c5=g$;fw=0}if(cn>=0&&g$<0){de=0;kA=cn;fJ=i+g$;c5=i;fw=Y*(i-1)}if(cn<0&&g$>=0){de=Y+cn;kA=Y;fJ=0;c5=g$;
fw=Y-1}if(cn<0&&g$<0){de=Y+cn;kA=Y;fJ=i+g$;c5=i;fw=Y*i-1}for(var W=fJ;W<c5;W++)for(var L=de;L<kA;L++)ge[W*Y+L]=fP[fw]}if(hY=="Wrp"){cn=(cn+100*Y)%Y;
g$=(g$+100*i)%i;var d6=new cS(cn-Y,g$-i,Y,i);j.mR(fP,d6,ge,l.S);d6.offset(Y,0);j.mR(fP,d6,ge,l.S);d6.offset(0,i);
j.mR(fP,d6,ge,l.S);d6.offset(-Y,0);j.mR(fP,d6,ge,l.S)}}if(F=="Rept"){var dp=$.Rsft.v.val/100,g_=$.SpcX.v.val/100;
g_=Math.max(g_,-.99);var ar=$.SpcY.v.val/100;ar=Math.max(ar,-.99);var fm=$.Scl.v.val/100,cO=new hS;cO.rotate($.Angl.v*Math.PI/180);
cO.scale(fm,fm);var g8={buffer:r.buffer,S:r.S};j.oA(g8);if(g8.S.XS()){g8.buffer=r.buffer;g8.S=r.S}var fO=g8.buffer,d6=g8.S,kC=j.CY(fO,d6,0),hn=new Uint32Array(fO.buffer)[0];
if(!kC.XS()&&!kC.Mp(d6)){var gi=j.j(kC.C()*4);j.mR(fO,d6,gi,kC);fO=gi;d6=kC}d6.x=d6.y=0;hn=g_==0&&ar==0&&!j.Q3(r.buffer)||$.SpcC.v?hn:0;
function eY(L){return L<0?Math.ceil(L):Math.floor(L)}var bS=cO.pI(new hx(d6.r,0));bS.x=eY(bS.x);bS.y=eY(bS.y);
var kY=cO.pI(new hx(0,d6.$));kY.x=eY(kY.x);kY.y=eY(kY.y);var u=B.hL.yF([fO,d6],cO,!1),bP=u.S,cu=u.buffer,jg=Math.round(bP.x),bD=Math.round(bP.y),ei=Math.max(l.S.r,l.S.$)/Math.min(d6.r*fm*(1+g_),d6.$*fm*(1+ar));
ei=Math.ceil(ei*1.7);j.A9(l.buffer,hn);for(var W=-ei;W<ei;W++){for(var L=-ei;L<ei;L++){var jr=(L+W*dp)*(1+g_),ab=W*(1+ar);
bP.x=jg+Math.round(jr*bS.x+ab*kY.x);bP.y=bD+Math.round(jr*bS.y+ab*kY.y);if(bP.HV(l.S))j.v.O5("norm",cu,bP,l.buffer,l.S,bP,1)}}}if(F=="Ctoa"){var M=j.qS.MB($.Clr.v),iZ=$.Trsp.v.val/100,i8=$.Opct.v.val/100;
iZ=i8==0?0:iZ/i8;var Y=r.S.r,i=r.S.$,eK=~~M.t,c$=~~M.L,hD=~~M.X,fw=r.buffer,b0=l.buffer;for(var W=0;
W<i;W++)for(var L=0;L<Y;L++){var O=W*Y+L,T=O<<2,d6=fw[T],j3=fw[T+1],fO=fw[T+2],iy=Math.abs(eK-d6),g6=Math.abs(c$-j3),c4=Math.abs(hD-fO),gV=Math.max(iy,g6,c4)*(1/255);
gV=Math.max(0,Math.min(1,gV/i8));var fl=gV==0?0:1/gV,d4=iZ==1?1:Math.max(0,Math.min(1,(gV-iZ)/(1-iZ)));
b0[T]=Math.max(0,Math.min(255,(d6-eK*(1-gV))*fl));b0[T+1]=Math.max(0,Math.min(255,(j3-c$*(1-gV))*fl));
b0[T+2]=Math.max(0,Math.min(255,(fO-hD*(1-gV))*fl));b0[T+3]=Math.min(b0[T+3],~~(.5+d4*255))}}if(F=="Dthr"){function dz(L){return~~(.5+255*j.Fy(L/255))}var aZ=$.Plte.v,hT;
if(aZ==0)hT=[4278190080,4294967295];else{var eD=[[1,1,1],[2,2,2],[3,3,2]][aZ-1],ke=[1<<eD[0],1<<eD[1],1<<eD[2]],bt=[~~(255/(ke[0]-1)),~~(255/(ke[1]-1)),~~(255/(ke[2]-1))];
hT=[];for(var m=0;m<ke[0];m++)for(var g3=0;g3<ke[1];g3++)for(var e3=0;e3<ke[2];e3++)hT.push(255<<24|dz(e3*bt[2])<<16|dz(g3*bt[1])<<8|dz(m*bt[0]))}var Y=r.S.r,i=r.S.$,J=Y*i,eb=J*4,dT=r.buffer.slice(0),kD=l.buffer;
for(var O=0;O<eb;O++)dT[O]=~~(.5+255*j.Fy(dT[O]/255));var jQ=j.j(Y*i);UPNG.encode.dither(dT,Y,i,hT,kD,jQ,$.Mthd?$.Mthd.v:1);
for(var O=0;O<eb;O++)kD[O]=~~(.5+255*j.Wg(kD[O]/255))}if(F=="Part"){var hW=[$.RndS.v,$.Cont.v/100,$.Size.v,$.Dpth.v/100,$.Brgh.v/100,j.qS.MB($.Clr.v),$.Time.v,$.Blnk.v,$.Fall.v,$.Turb.v/100];
j.DF.ya(l.buffer,r.S.r,r.S.$,hW)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(F)!=-1){var k0=k[0],Y=r.S.r,i=r.S.$,a_,iS=0;
if(F=="LqFy")a_=gG.CO(new Uint8Array($.LqMe.v).buffer);else{var b1=3;if(F=="Wave")b1=Math.min(3,$.WLMn.v);
a_={a0:Math.floor(Y/b1),Y9:Math.floor(i/b1)};a_.map=new Float32Array(a_.a0*a_.Y9*2);if(F=="LnCr"){var cs=.5*(a_.a0-1),g2=.5*(a_.Y9-1),gU=Math.max(Math.abs(0-cs),Math.abs(1-cs)),gI=Math.max(Math.abs(0-g2),Math.abs(1-g2)),aR=Math.sqrt(gU*gU+gI*gI),bi=0,ep=0,em=-1,kt=2,fm=$.LnSi.v/100,b7=1/fm,dV=$.LnIa.v/100,kc=dV==0?1e-6:dV*4.6,i2=b7/aR;
for(var W=0;W<a_.Y9;W++){for(var L=0;L<a_.a0;L++){var a=(L-cs)*i2,D=(W-g2)*i2,m=Math.sqrt(a*a+D*D)*kc,is=Math.atan(m),hJ=dV>0?is/m:m/is,h4=cs+aR*hJ*a,av=g2+aR*hJ*D,O=W*a_.a0+L<<1;
a_.map[O]=h4-L;a_.map[O+1]=av-W}}}else if(F=="Kale"){var d$=a_.a0,hh=a_.Y9,gx=(d$-1)*.5,hX=(hh-1)*.5,g0=$.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,dP=$.Mirr.v,cP=Math.PI*2/dP,i5=.5*cP;
for(var W=0;W<hh;W++)for(var L=0;L<d$;L++){var a=L-gx,D=W-hX,dF=Math.sqrt(a*a+D*D),es=Math.atan2(D,a)+g0;
es=es%cP;if(es>i5)es=cP-es;var h4=gx+Math.cos(es-g0)*dF,av=hX+Math.sin(es-g0)*dF,O=(W*d$+L)*2;a_.map[O]=h4-L;
a_.map[O+1]=av-W}}else if(F=="Dspl"&&k0.length!=0){iS=$.UndA.v.UndA=="WrpA"?2:1;var kT=$.DspF.v.pth,eq,j6=$.DspD,d0,cJ,i7;
if(j6){var jX=j6.v;cJ=jX[1]*256+jX[0];d0=jX[5]*256+jX[4];i7=new Uint8Array(jX.slice(10,10+d0*cJ))}else{for(var O=0;
O<k0.length;O++)if(k0[O].ar==kT)eq=k0[O];if(eq==null)eq=k0[0];eq.Ez();var iy=eq.gn[1],i7=j.j(iy.C());
j.R2(eq.gn[0],i7);d0=iy.r;cJ=iy.$}a_={a0:d0,Y9:cJ};a_.map=new Float32Array(a_.a0*a_.Y9*2);var dA=2.54*$.HrzS.v*d0/Y,f2=2.54*$.VrtS.v*cJ/i;
for(var W=0;W<a_.Y9;W++){for(var L=0;L<a_.a0;L++){var cZ=-.5+i7[W*d0+L]*(1/255),O=W*a_.a0+L<<1;a_.map[O]=cZ*dA;
a_.map[O+1]=cZ*f2}}}else if(F=="Pnch"||F=="Twrl"||F=="Sphr"||F=="ZgZg"){var fx=1,f5=Math.PI,fu=0,dx=1,gL=0,k7=3,i6=1.53,hJ=1;
if(F=="Pnch"||F=="Sphr"||F=="ZgZg")fx=$.Amnt.v/100;if(F=="ZgZg"){dx=$.NmbR.v;gL=["ArnC","OtFr","PndR"].indexOf($.ZZTy.v.ZZTy)}if(F=="Twrl")f5=$.Angl.v*Math.PI/180;
if(F=="Sphr")fu=["Nrml","HrzO","VrtO"].indexOf($.SphM.v.SphM);function dg(L){L=Math.pow(L,1-L*.3-L*L*(L*L)*.5);
return-.225*Math.sin(L*Math.PI)}function ix(i,he,m,de,fJ,kA,c5,hJ){var a=kA-de,D=c5-fJ,aw=de-i,h8=fJ-he,hE=a*a+D*D,e3=2*(a*aw+D*h8),k7=aw*aw+h8*h8-m*m,eF=Math.sqrt(e3*e3-4*hE*k7),cl=hJ/(2*hE),kI=(-e3+eF)*cl,dq=(-e3-eF)*cl;
return hJ*Math.min(kI,dq)}var d$=a_.a0,hh=a_.Y9,gx=a_.a0/2,hX=a_.Y9/2,hk=1/gx,m=Math.sqrt(k7*k7+1)/k7,bR=k7+Math.sqrt(1/(k7*k7));
if(fx<0){k7=1.72;m=1;bR=k7;i6=-1;hJ=-1}for(var W=0;W<hh;W++){var D=(W-hX)/hX;for(var L=0;L<d$;L++){var a=(L-gx)*hk;
if(fu==1)D=0;else if(fu==2)a=0;var aE=Math.sqrt(a*a+D*D);if(aE<1&&aE!=0){var O=W*a_.a0+L<<1;if(F=="Pnch"){var k3=-fx*dg(aE)/aE;
a_.map[O]=a*k3*gx;a_.map[O+1]=D*k3*hX}else if(F=="Sphr"){var a2=ix(0,bR,m,0,0,aE,k7,hJ),jB=i6*fx*(a2-1);
a_.map[O]=a*jB*gx;a_.map[O+1]=D*jB*hX}else if(F=="Twrl"){var es=Math.atan2(D,a)-f5*(1-aE)*(1-aE),fR=Math.cos(es),a3=Math.sin(es);
a_.map[O]=(aE*fR-a)*gx;a_.map[O+1]=(aE*a3-D)*hX}else if(F=="ZgZg"){var fR=0,a3=0,ck=fx*(.5-.5*Math.cos(aE*dx*2*Math.PI))*(1-aE);
if(gL==0){var es=Math.atan2(D,a)-3.5*ck;fR=aE*Math.cos(es);a3=aE*Math.sin(es)}if(gL==1){ck=100/Y*ck/aE;
fR=(1-ck)*a;a3=(1-ck)*D}if(gL==2){var q=512/Y*ck*Math.PI/4;fR=q+a;a3=q+D}a_.map[O]=(fR-a)*gx;a_.map[O+1]=(a3-D)*hX}}}}}else if(F=="Shr "){var a7=j.N($.ShrP.v);
j.Jw.U(a7,new hS(0,255/127,255/127,0,-2,0));var fI=j.Jw.kT(a7,a_.Y9,!0);iS=$.UndA.v.UndA=="WrpA"?2:1;
for(var W=0;W<a_.Y9;W++){var a=-fI[W]*a_.a0;for(var L=0;L<a_.a0;L++){var O=W*a_.a0+L<<1;a_.map[O]=a}}}else if(F=="Wave"){var jl=$.NmbG.v,kp=$.WLMn.v,kO=$.WLMx.v,jK=$.AmMn.v*(Math.PI/4),fy=$.AmMx.v*(Math.PI/4),d_=$.SclH.v/100,cM=$.SclV.v/100,iO=$.Wvtp.v.Wvtp,ck=Math.sin;
if(iO=="WvTr")ck=function(L){L*=2/Math.PI;return-.5+Math.abs(L%2-1)};if(iO=="WvSq")ck=function(L){L*=2/Math.PI;
return 1+2*Math.floor(L%2-1)};var h6=[],hK=new j.v.wQ($.RndS.v);for(var O=0;O<jl;O++){h6.push(hK.get()*10);
h6.push(Math.PI*b1/(kp+hK.get()*(kO-kp)));h6.push(d_*(jK+hK.get()*(fy-jK))/b1);h6.push(hK.get()*10);
h6.push(Math.PI*b1/(kp+hK.get()*(kO-kp)));h6.push(cM*(jK+hK.get()*(fy-jK))/b1)}var ga=[],eg=[],cL=Math.max(a_.a0,a_.Y9);
for(var O=0;O<cL;O++){var a=0,D=0;for(var gn=0;gn<jl;gn++){var iU=gn*6;a+=h6[iU+2]*ck(h6[iU]+O*h6[iU+1]);
D+=h6[iU+5]*ck(h6[iU+3]+O*h6[iU+4])}ga[O]=D;eg[O]=a}for(var W=0;W<a_.Y9;W++){for(var L=0;L<a_.a0;L++){var O=W*a_.a0+L<<1;
a_.map[O]=eg[W];a_.map[O+1]=ga[L]}}iS=$.UndA.v.UndA=="WrpA"?2:1}else if(F=="Rple"){iS=1;var fx=$.Amnt.v/100,jn=4,aU=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],dw=1,jZ=1,aw=0,hG=["Sml","Mdm","Lrg"].indexOf($.RplS.v.RplS);
if(hG==0){dw=1;jZ=.2;aw=3}if(hG==2){dw=1;jZ=2;aw=-1;aU=aU.reverse()}var g7=function(L,W){var k7=Math.cos,kU=0;
for(var O=0;O<jn;O++)for(var gn=0;gn<jn;gn++)kU+=aU[O*jn+gn]*k7(L*(O+aw)-W*(gn+aw));return kU},eU=Math.floor(50/b1),hI=new Float32Array(eU*eU*2),ko=jZ*fx*.5/b1;
for(var W=0;W<eU;W++)for(var L=0;L<eU;L++){var cs=dw*L*2*Math.PI/eU,g2=dw*W*2*Math.PI/eU,e2=g7(cs,g2),a=(g7(cs+.01,g2)-e2)*100,D=(g7(cs,g2+.01)-e2)*100,O=(W*eU+L)*2;
hI[O]=a*ko;hI[O+1]=D*ko}for(var W=0;W<a_.Y9;W++)for(var L=0;L<a_.a0;L++){var a3=W%eU,fR=L%eU,O=W*a_.a0+L<<1,gu=a3*eU+fR<<1;
a_.map[O]=hI[gu];a_.map[O+1]=hI[gu+1]}}}j.Tp.PC(r.buffer,l.buffer,Y,i,null,a_.map,a_.a0,a_.Y9,iS)}return l};
var dD={};dD.anu="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");dD.B$="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
dD.VD=["ScrC","ScrD","ScrL"];dD.Qm=["SDRD","SDHz","SDLD","SDVt"];dD.$q="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
dD.Aa="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");dD.TL="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
dD.w2=[[24,19,0],[24,19,1],[24,4],[24,19,2],[24,14],[12,67]];dD.names={ClrP:[0,[24,20,0]],Ct:[0,[24,20,1]],DryB:[0,[24,20,2]],FlmG:[0,[24,20,3]],Frsc:[0,[24,20,4]],NGlw:[0,[24,20,5]],PntD:[0,[24,20,6]],PltK:[0,[24,20,7]],PlsW:[0,[24,20,8]],PstE:[0,[24,20,9]],RghP:[0,[24,20,10]],SmdS:[0,[24,20,11]],Spng:[0,[24,20,12]],Undr:[0,[24,20,13]],Wtrc:[0,[24,20,14]],AccE:[1,[24,20,15]],AngS:[1,[24,20,16]],Crsh:[1,[24,20,17]],DrkS:[1,[24,20,18]],InkO:[1,[24,20,19]],Spt:[1,[24,20,20]],SprS:[1,[24,20,21]],Smie:[1,[24,20,22]],DfsG:[2,[24,20,23]],Gls:[2,[24,20,24]],OcnR:[2,[24,20,25]],BsRl:[3,[24,20,26]],ChlC:[3,[24,20,27]],Chrc:[3,[24,20,28]],Chrm:[3,[24,20,29]],CntC:[3,[24,20,30]],GraP:[3,[24,20,31]],HlfS:[3,[24,20,32]],NtPr:[3,[24,20,33]],Phtc:[3,[24,20,34]],Plst:[3,[24,20,35]],Rtcl:[3,[24,20,36]],Stmp:[3,[24,20,37]],TrnE:[3,[24,20,38]],WtrP:[3,[24,20,39]],GlwE:[4,[24,20,40]],Crql:[5,[24,20,41]],Grn:[5,[24,20,42]],MscT:[5,[24,20,43]],Ptch:[5,[24,20,44]],StnG:[5,[24,20,45]],Txtz:[5,[24,20,46]]};
dD.Mv=function(F){var r;if(F=="ClrP")r={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(F=="Ct")r={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(F=="DryB")r={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(F=="FlmG")r={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(F=="Frsc")r={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(F=="NGlw")r={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(F=="PntD")r={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(F=="PltK")r={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(F=="PlsW")r={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(F=="PstE")r={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(F=="RghP")r={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(F=="SmdS")r={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(F=="Spng")r={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(F=="Undr")r={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(F=="Wtrc")r={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(F=="AccE")r={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(F=="AngS")r={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(F=="Crsh")r={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(F=="DrkS")r={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(F=="InkO")r={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(F=="Smie")r={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(F=="Spt")r={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(F=="SprS")r={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(F=="DfsG")r={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(F=="Gls")r={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(F=="OcnR")r={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(F=="BsRl")r={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(F=="ChlC")r={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(F=="Chrc")r={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(F=="Chrm")r={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(F=="CntC")r={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(F=="GraP")r={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(F=="HlfS")r={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(F=="NtPr")r={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(F=="Phtc")r={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(F=="Plst")r={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(F=="Rtcl")r={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(F=="Stmp")r={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(F=="TrnE")r={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(F=="WtrP")r={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(F=="GlwE")r={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(F=="Crql")r={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(F=="Grn")r={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(F=="MscT")r={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(F=="Ptch")r={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(F=="StnG")r={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(F=="Txtz")r={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
r.__name="Filter Gallery";r.classID="GEfc";r.GEfk={t:"enum",v:{GEft:F}};r.GELv={t:"bool",v:!0};return r};
dD.Ia=function(F,r){for(var O=0;O<r.length;O++)~~(r[O]=(F[4*O]+F[4*O+1]+F[4*O+2])*(1/3))};dD.ajL=function(F,r,$,C,M,l){var k=UPNG.quantize(F,r);
k={qG:k.inds,va:k.plte};if(l){var d=new Uint32Array(k.va.length);for(var O=0;O<d.length;O++)d[O]=k.va[O].est.rgba;
k.qG=j.a7E(new Uint8Array(F),$,C,new Uint8Array(d.buffer))}var I=Math.floor(($+C)*.015);if(I!=0&&M)j.mG.aCH(k.qG,$,C,I);
return k};dD.Fx=function(F,r,$,C,M,l,k){F=$.GEfk.v.GEft;var d=r.S,I=d.r,c=d.$,Q=I*c,x=$.FlRs?$.FlRs.v>>>1:0;
function U(v){return v.t<<24|v.L<<16|v.X<<8|255}if(F=="ClrP")j.F.amm(r.buffer,I,c,l.buffer,[$.Pncl.v,$.StrP.v,$.PprB.v]);
if(F=="Ct"){var S=$.NmbL.v,z=$.EdgS.v,V=dD.ajL(r.buffer.buffer,S*2,I,c,!0);for(var O=0;O<V.qG.length;
O++)V.qG[O]++;var t=new Uint8Array((I+2)*(c+2));j.wU(V.qG,new cS(1,1,I,c),t,new cS(0,0,I+2,c+2));var Y=j.b.r1(t,I+2,c+2,z,!1),i=new hS(1,0,0,1,-1,-1);
for(var O=0;O<Y.length;O++)j.b.U(Y[O].path.n,i,Y[O].path.n);var J=[],H=V.va;for(var O=0;O<H.length;O++){var v=H[O].est.q;
J.push({t:Math.round(255*v[0]),L:Math.round(255*v[1]),X:Math.round(255*v[2]),xz:Math.round(255*v[3])})}var n=j.q6(I,c);
for(var O=0;O<Y.length;O++){var G=Y[O],v=J[G.color-1];if(v.xz==0)continue;n.fillStyle="rgba("+v.t+","+v.L+","+v.X+","+v.xz/255+")";
n.beginPath();Typr.U.pathToContext({crds:G.path.n,cmds:G.path.C0},n);n.fill()}if(!d.XS()){var g=n.getImageData(0,0,I,c);
j.Jx(g.data,l.buffer)}}if(F=="DryB")j.F.a7O(r.buffer,I,c,l.buffer,[$.BrsS.v,$.BrsD.v,$.Txtr.v]);if(F=="FlmG")j.F.aha(r.buffer,I,c,l.buffer,[$.Grn.v,$.HghA.v,$.Intn.v,x]);
if(F=="Frsc")j.F.awk(r.buffer,I,c,l.buffer,[$.BrsS.v,$.BrsD.v,$.Txtr.v]);if(F=="NGlw")j.F.acx(r.buffer,I,c,l.buffer,[$.Sz.v,$.Brgh.v,U(j.qS.MB($.Clr.v)),U(C),U(M)]);
if(F=="PltK")j.F.a3y(r.buffer,I,c,l.buffer,[$.StrS.v,$.StDt.v,$.Sftn.v]);if(F=="PstE")j.F.aoP(r.buffer,I,c,l.buffer,[$.EdgT.v,$.EdgI.v,$.Pstr.v]);
if(F=="RghP")j.F.aqx(r.buffer,I,c,l.buffer,[$.StrL.v,$.StDt.v,dD.$q.indexOf($.TxtT.v.TxtT),$.Scln.v,$.Rlf.v,dD.B$.indexOf($.LghD.v.LghD),$.InvT.v]);
if(F=="SmdS")j.F.aCg(r.buffer,I,c,l.buffer,[$.StrL.v,$.HghA.v,$.Intn.v,$.FlRs?$.FlRs.v:0,x]);if(F=="Spng")j.F.a7X(r.buffer,I,c,l.buffer,[$.BrsS.v,$.Dfnt.v,$.Smth.v,$.FlRs?$.FlRs.v:0,x]);
if(F=="Undr")j.F.apH(r.buffer,I,c,l.buffer,[$.BrsS.v,$.TxtC.v,dD.$q.indexOf($.TxtT.v.TxtT),$.Scln.v,$.Rlf.v,dD.B$.indexOf($.LghD.v.LghD),$.InvT.v]);
if(F=="Wtrc")j.F.a1w(r.buffer,I,c,l.buffer,[$.BrsD.v,$.ShdI.v,$.Txtr.v]);if(F=="AccE")j.F.aIV(r.buffer,I,c,l.buffer,[$.EdgW.v,$.EdgB.v,$.Smth.v]);
if(F=="AngS")j.F.a5c(r.buffer,I,c,l.buffer,[$.DrcB.v,$.StrL.v,$.Shrp.v]);if(F=="Crsh")j.F.av$(r.buffer,I,c,l.buffer,[$.StrL.v,$.Shrp.v,$.Strg.v]);
if(F=="DrkS")j.F.aoD(r.buffer,I,c,l.buffer,[$.Blnc.v,$.BlcI.v,$.WhtI.v]);if(F=="InkO")j.F.az9(r.buffer,I,c,l.buffer,[$.StrL.v,$.DrkI.v,$.LghI.v]);
if(F=="Smie")j.F.a3H(r.buffer,I,c,l.buffer,[$.StrW.v,$.StrP.v,$.Cntr.v]);if(F=="DfsG")j.F.ari(r.buffer,I,c,l.buffer,[$.Grns.v,$.GlwA.v,$.ClrA.v,U(M),x]);
if(F=="CntC")j.F.alY(r.buffer,I,c,l.buffer,[$.FrgL.v,$.BckL.v,dD.$q.indexOf($.TxtT.v.TxtT),$.Scln.v,$.Rlf.v,dD.B$.indexOf($.LghD.v.LghD),$.InvT.v,U(M),U(C)]);
if(F=="ChlC")j.F.a2F(r.buffer,I,c,l.buffer,[$.ChrA.v,$.ChlA.v,$.StrP.v,x,U(M),U(C)]);var W=F=="GraP"||F=="Chrc"||F=="Plst"||F=="Rtcl"||F=="Stmp"||F=="TrnE";
if(W){var L=j.j(I*c);if(F=="GraP")j.F.at9(r.buffer,I,c,l.buffer,[$.StrL.v,$.LgDr.v,dD.Qm.indexOf($.SDir.v.StrD),x]);
if(F=="Chrc")j.F.a9l(r.buffer,I,c,l.buffer,[$.ChAm.v,$.Dtl.v,$.LgDr.v]);if(F=="Plst")j.F.aHC(r.buffer,I,c,l.buffer,[$.ImgB.v,dD.Aa.indexOf($.LghP.v.LghP),$.Smth.v]);
if(F=="Rtcl")j.F.a6e(r.buffer,I,c,l.buffer,[$.Dnst.v,$.BlcL.v,$.WhtL.v,x]);if(F=="Stmp")j.F.ajF(r.buffer,I,c,l.buffer,[$.LgDr.v,$.Smth.v]);
if(F=="TrnE")j.F.aIJ(r.buffer,I,c,l.buffer,[$.ImgB.v,$.Smth.v,$.Cntr.v,x]);j.Eg(l.buffer,L,0);dD.Zf(L,l.buffer,C,M)}if(F=="NtPr")j.F.agY(r.buffer,I,c,l.buffer,[$.ImgB.v,$.Grns.v,$.Rlf.v,U(C),U(M),x]);
if(F=="WtrP")j.F.aJX(r.buffer,I,c,l.buffer,[$.FbrL.v,$.Brgh.v,$.Cntr.v,x>>>1]);if(F=="Crql")j.F.aEb(r.buffer,I,c,l.buffer,[$.CrcS.v,$.CrcD.v,$.CrcB.v,x]);
if(F=="Grn")j.F.amf(r.buffer,I,c,l.buffer,[$.Intn.v,dD.TL.indexOf($.Grnt.v.Grnt),$.Cntr.v,U(C),U(M),x]);
if(F=="MscT")j.F.azD(r.buffer,I,c,l.buffer,[$.TlSz.v,$.GrtW.v,$.LghG.v,x]);if(F=="Ptch")j.F.aur(r.buffer,I,c,l.buffer,[$.SqrS.v,$.Rlf.v,x]);
if(F=="Phtc"){function b(i6,hm,d,hV){j.Zi.eO(hm,d,hV,2);for(var O=0;O<Q;O++)hm[O]=Math.max(0,Math.min(255,128+i6[O]-hm[O]))}var T=$.Dtl.v,a=$.Drkn.v,D=j.j(Q);
j.R2(r.buffer,D);var h=D.slice(0);b(D,h,d,1);if(T==1){T=2;a=Math.round(a/4)}var K=D.slice(0);b(D,K,d,T);
for(var O=0;O<Q;O++)D[O]=Math.max(0,Math.min(255,255-(h[O]-K[O])*a));dD.Zf(D,l.buffer,C,M)}if(F=="Spt"||F=="SprS"){var X,w=1,N=1;
X={a0:Math.floor(I/N),Y9:Math.floor(c/N)};X.map=new Float32Array(X.a0*X.Y9*2);var s=new j.v.wQ(x),A=new Float32Array(8192),p=$.SprR.v,q=p<20?.018*p:.36+(p-20)*.128;
if(F=="SprS"){q=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][p]}for(var O=0;
O<8192;O++)A[O]=(-1+2*s.get())*q*70;for(var f=0;f<c;f++)for(var e=0;e<I;e++){var o=f*I+e<<1;X.map[o]=A[o%7919];
X.map[o+1]=A[(o+1)%7919]}var E=X.map.slice(0),cj=F=="Spt"?$.Smth.v-1:1;if(F=="Spt"&&cj!=0){dD.am6(X.map,E,I,c,cj);
dD.azN(E,X.map,I,c,cj)}if(F=="SprS"){var u=$.StrL.v>>>1,cd=u==0?2:1;dD.am6(X.map,E,I,c,cd);dD.azN(E,X.map,I,c,cd);
if(u!=0){var m=dD.Qm.indexOf($.SDir.v.StrD),aZ=[1,1,1,0][m],jN=[-1,0,1,1][m],eh=2*u+1,iA=1/eh;for(var f=0;
f<c;f++)for(var e=0;e<I;e++){var o=f*I+e<<1,hd=0,kx=0;for(var O=0;O<eh;O++){var b0=Math.max(0,Math.min(I-1,e-(u+O)*aZ)),gX=Math.max(0,Math.min(c-1,f-(u+O)*jN)),j$=gX*I+b0<<1;
hd+=X.map[j$];kx+=X.map[j$+1]}E[o]=hd*iA;E[o+1]=kx*iA}X.map=E}}j.Tp.PC(r.buffer,l.buffer,I,c,null,X.map,X.a0,X.Y9,w)}if(F=="BsRl"||F=="PlsW"||F=="Chrm"){var i0=Date.now(),f7=j.j(Q);
j.R2(r.buffer,f7);var T=$.Dtl.v,am=$.Smth.v;if(T!=15){j.Zi.eO(f7,d,Math.round((15-T)*.5))}var gf=1.4/I,cC=1.4/c,aD=new Float32Array(Q),c_=new Float32Array(Q),a9=new Float32Array(l.buffer.buffer);
for(var f=0;f<c;f++)for(var e=0;e<I;e++){var O=f*I+e,aZ=e==I-1?f7[O]-f7[O-1]:f7[O+1]-f7[O],jN=f==c-1?f7[O]-f7[O-I]:f7[O+I]-f7[O],jz=e*gf-.7,g3=f*cC-.7;
aD[O]=aZ==0?jz:aZ*.4;c_[O]=jN==0?g3:jN*.4}if(F=="BsRl"){var e3=(2+dD.B$.indexOf($.LghD.v.LghD))*Math.PI*.25,hd=Math.cos(e3);
if(Math.abs(hd)<.1)hd=0;hd=Math.sign(hd);var kx=Math.sin(e3);if(Math.abs(kx)<.1)kx=0;kx=Math.sign(kx);
var c1=1/(hd*hd+kx*kx),dI=f7.slice(0);for(var f=0;f<c;f++)for(var e=0;e<I;e++){var O=f*I+e,kJ=Math.max(-1,Math.min(1,hd*aD[O])),cA=Math.max(-1,Math.min(1,kx*c_[O]));
dI[O]=128+127*(kJ+cA)*c1}if(am!=1){j.Zi.eO(dI,d,Math.round((am-1)*.5))}dD.Zf(dI,l.buffer,C,M)}else{if(F=="Chrm")am=5+am;
if(am>1)dD.lY(aD,c_,a9,d,am-1);if(F=="PlsW"){var c2=new Uint8Array(aD.buffer);for(var O=0;O<Q;O++){var ee=O<<2,aZ=aD[O],jN=c_[O],hF=1/(Math.sqrt(1+aZ*aZ)*Math.sqrt(1+jN*jN)),ic=hF*hF,eH=ic*ic,v=~~(255*(eH*eH*ic));
c2[ee+0]=v;c2[ee+1]=v;c2[ee+2]=v;c2[ee+3]=v}l.buffer.set(r.buffer);j.v.O5("norm",c2,d,l.buffer,d,d,$.HghS.v/20)}else if(F=="Chrm"){var kz=l.buffer,kq=I>>>1,a7=c>>>1;
for(var O=0;O<Q;O++){var ee=O<<2,aZ=aD[O],jN=c_[O],i6={x:1,y:0,Ar:aZ};en.B9(i6);var hm={x:0,y:1,Ar:jN};
en.B9(hm);var bB=en.a47(i6,hm),iV=1/bB.Ar,eO=~~Math.max(0,Math.min(I-1,kq-bB.x*iV*kq)),aC=~~Math.max(0,Math.min(c-1,a7-bB.y*iV*a7)),v=f7[aC*I+eO];
kz[ee+0]=v;kz[ee+1]=v;kz[ee+2]=v}}}}if(F=="Gls"||F=="OcnR"||F=="Txtz"){var fq=F=="OcnR"?2:dD.$q.indexOf($.TxtT.v.TxtT),bX=dD.xk(fq),gb=bX[0],f7=bX[1],dX=gb.r,cb=gb.$,eh=24,fr=0,dv,hw;
function e6(iD,fA,eV){return~~(gn*(iD+fA)+8192)&127}var aD=new Float32Array(Q),c_=new Float32Array(Q),a9=new Float32Array(l.buffer.buffer),gn=F=="OcnR"?1/(1+($.RplS.v-1)*.1):100/$.Scln.v;
if(fq==3)gn*=32/22.2;var i0=Date.now(),a2=gn,gf=1.4/I,cC=1.4/c;if(F=="Txtz"){a2*=1/255;eh=256}for(var f=0;
f<c;f++){var kf=e6(f,d.y,cb),gX=kf+1&127;for(var e=0;e<I;e++){var O=f*I+e,dj=e6(e,d.x,dX),b0=dj+1&127,hr=0,iB=0,dm=0;
if(F=="Txtz"){hr=j.H.OS(gn*e,gn*f,f7,128,128);iB=j.H.OS(gn*e,gn*f+1,f7,128,128);dm=j.H.OS(gn*e+1,gn*f,f7,128,128)}else{hr=f7[kf*dX+dj];
iB=f7[gX*dX+dj];dm=f7[kf*dX+b0]}aD[O]=Math.max(-eh,Math.min((dm-hr)*a2,eh));c_[O]=Math.max(-eh,Math.min((iB-hr)*a2,eh))}}if(F=="Txtz")dD.a1k(aD,c_,a9,d,6);
else dD.lY(aD,c_,a9,d,F=="Txtz"?1:F=="OcnR"?3.5/gn:$.Smth.v);if(F=="Txtz")fr=$.InvT.v?-1:1;else if(F=="Gls"){fr=[1,.4,.5,.5,.5,.5,.5][fq]*(Math.exp($.Dstr.v*.155)-1);
if($.InvT.v)fr=-fr}else{fr=.5*(Math.exp($.RplM.v*.155)-1)}var kz=l.buffer;if(F=="Txtz"){var e3=(2+dD.B$.indexOf($.LghD.v.LghD))*Math.PI*.25,hd=Math.cos(e3),kx=Math.sin(e3);
dv={x:hd,y:kx,Ar:0};en.B9(dv);hw=$.Rlf.v;hw=hw/4+Math.max(0,(hw-35)*2)}function gT(i6,hm,ha){var dT=j.v.overF(hm,i6,1),iD=(1-ha)*i6+ha*(ha*hm+(1-ha)*dT);
return iD*255}for(var f=0;f<c;f++)for(var e=0;e<I;e++){var O=f*I+e,ee=O<<2,aZ=aD[O],jN=c_[O],i6={x:1,y:0,Ar:aZ};
en.B9(i6);var hm={x:0,y:1,Ar:jN};en.B9(hm);var bB=en.a47(i6,hm);if(F=="Txtz"){var cu=en.akj(bB,dv)*fr,ha=1,v=1;
if(cu<0){v=0;cu=-cu}ha=Math.min(1,cu*hw);kz[ee+0]=~~gT(r.buffer[ee]*(1/255),v,ha);kz[ee+1]=~~gT(r.buffer[ee+1]*(1/255),v,ha);
kz[ee+2]=~~gT(r.buffer[ee+2]*(1/255),v,ha)}else{var iV=fr/bB.Ar,eO=~~Math.max(0,Math.min(I-1,e-bB.x*iV)),aC=~~Math.max(0,Math.min(c-1,f-bB.y*iV)),g1=aC*I+eO<<2;
kz[ee+0]=r.buffer[g1];kz[ee+1]=r.buffer[g1+1];kz[ee+2]=r.buffer[g1+2]}}}if(F=="PntD"){var dd=$.Shrp.v*.4,gj=$.BrsT.v.BrsT,es={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[gj],hV=Math.round($.Sz.v*.5);
j._L.az=es[0];j._L.Ix(r.buffer,l.buffer,I,c,hV,0,[]);var fx=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];fx=j.wh.NB(fx);
var iK=l.buffer.slice(0);j.wh.Te(iK,l.buffer,I,c,fx);for(var O=0;O<r.buffer.length;O++){var eX=l.buffer[O]-iK[O];
l.buffer[O]=Math.max(0,Math.min(255,iK[O]+dd*eX))}}if(F=="GlwE"){var bo=l.buffer.slice(0);j._L.az=.5;
j._L.Ix(r.buffer,bo,I,c,$.Smth.v>>>1,0,[]);j.wh.anX(bo,l.buffer,I,c);j.Jx(l.buffer,bo);j.v4(bo);j.SP(bo,1);
j.j1.agF(bo,l.buffer,I,c,($.EdgW.v>>>1)*2+1,!0);var f8=$.EdgB.v/10;for(var O=0;O<bo.length;O++){if((O&3)==3)continue;
var dT=l.buffer[O];l.buffer[O]=Math.max(0,Math.min(255,dT*f8))}}if(F=="StnG"){j.tW.aAL(r.buffer,I,c,l.buffer,$.ClSz.v,[Math.round(C.t),Math.round(C.L),Math.round(C.X)],$.BrdT.v,x)}if(F=="HlfS"){var it=$.HlSz.v,b_=it*2+1,cU=$.Cntr.v,iO=dD.VD.indexOf($.ScrT.v.ScrT),Q=I*c,aV=Q*4,jD=j.j(Q),bJ=r.buffer,j9=0,ir=0;
dD.Ia(bJ,jD);j.Zi.e8(jD,d,it);var gZ=Math.PI/b_,aK=new Float64Array(I),hd=new Float64Array(I),g5=new Float64Array(2*I);
for(var e=0;e<I;e++){var dj=(e-(I>>>1))*gZ;aK[e]=dj*dj;hd[e]=Math.cos(dj);var aZ=e<<1;g5[aZ]=Math.sin(aZ*(1/4.5));
g5[aZ+1]=Math.sin((aZ+1)*(1/4.5))}for(var f=0;f<c;f++){var kf=(f-(c>>>1))*gZ,kx=Math.cos(kf),ig=kf*kf;
for(var e=0;e<I;e++){var v=kx;if(iO==0){var aT=.5+Math.sqrt(aK[e]+ig)*4.5;v=g5[~~aT]}else if(iO==1){v=hd[e]*kx}var O=f*I+e,de=jD[O]*(.75+.25*v),ha=bJ[(O<<2)+3]*(1/255),fJ=Math.max(0,Math.min(255,~~de));
j9+=fJ*ha,ir+=ha;jD[O]=fJ}}j9/=ir;var kA=128+1.26*(j9-128),f8=.08+.25*Math.abs((128-j9)/128),c5=1+f8*cU;
for(var O=0;O<Q;O++){var de=kA+(jD[O]-kA)*c5;jD[O]=Math.max(0,Math.min(255,~~de))}if(cU>46)j.round(jD);
dD.Zf(jD,l.buffer,C,M)}for(var O=0;O<r.buffer.length;O+=4)l.buffer[O+3]=r.buffer[O+3]};dD.Zf=function(F,r,$,C){var M=F.length,l=$.t,k=$.L,d=$.X,I=C.t,c=C.L,Q=C.X;
for(var O=0;O<M;O++){var x=F[O]*(1/255),U=1-x,S=O<<2;r[S]=~~(l*U+I*x);r[S+1]=~~(k*U+c*x);r[S+2]=~~(d*U+Q*x)}};
dD.xk=function(F){if(F==6)F=2;var r="blocks canvas frosted tinylens brick burlap".split(" ")[F];if(dD.zg==null)dD.zg=[];
if(dD.zg[F]==null){var $,C;if(F==2){C=new cS(0,0,128,128);var M=e9.Mv("AdNs");M.Mnch.v=!0;M.Dstr.v.Dstr="Gsn";
M.Nose.v.val=50;var $=j.j(C.C()*4),l=$.slice(0);j.A9(l.buffer,4286611584);e9.Fx("AdNs",{buffer:l,S:C},M,0,0,{buffer:$,S:C})}else{var k=dN.Sd.get("tex/"+r,!0)[0];
C=k.$Y;$=new Uint8Array(k.data)}var d=j.j(C.C());j.Eg($,d,0);dD.zg[F]=[C,d]}return dD.zg[F]};dD.lY=function(F,r,$,C,M){if(M<=1){M=Math.round(M);
dD.a1k(F,r,$,C,[1,16,4][M]);return}var l=M*.42;if(F){j.Zi.eO(F,C,l,3)}if(r){j.Zi.eO(r,C,l,3)}};dD.a1k=function(F,r,$,C,M){var l=j.wh.NB([1,2,1,2,M,2,1,2,1]);
if(F){$.set(F);j.wh.a8_(F,$,C.r,C.$,l);F.set($)}if(r){$.set(r);j.wh.a8_(r,$,C.r,C.$,l);r.set($)}};dD.o4=function(F){if(F==null)return new hx(0,0);
var r=0,$=F.GEfs?F.GEfs.v:[{v:F}];for(var O=0;O<$.length;O++){var C=$[O].v,l=1e4;if(C.GELv&&!C.GELv.v)continue;
var M=C.GEfk.v.GEft;if(M=="GlwE"||M=="Phtc"||M=="BsRl"||M=="PlsW"||M=="Chrm"||M=="Gls"||M=="OcnR"||M=="InkO")l=0;
r=Math.max(r,l)}return new hx(r,r)};dD.awV=function(F){var r=[0,0,0,0,0,0,0,0,0,0,0,0,0],$=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][F];
for(var O=0;O<13;O++){var C=O-6;r[O]=1/($*Math.sqrt(2*Math.PI))*Math.exp(-.5*(C/$)*(C/$))}return r};
dD.am6=function(F,r,$,C,M){var l=dD.awV(M),k=6,d=13;for(var I=0;I<C;I++)for(var c=0;c<$;c++){var Q=I*$+c<<1,x=0,U=0;
for(var O=0;O<d;O++){var S=c+O-k,z=S<0?0:S>=$?$-1:S,V=(I*$+z)*2,t=l[O];x+=t*F[V];U+=t*F[V+1]}r[Q]=x;
r[Q+1]=U}};dD.azN=function(F,r,$,C,M){var l=dD.awV(M),k=6,d=13;for(var I=0;I<C;I++)for(var c=0;c<$;c++){var Q=I*$+c<<1,x=0,U=0;
for(var O=0;O<d;O++){var S=I+O-k,z=S<0?0:S>=C?C-1:S,V=(z*$+c)*2,t=l[O];x+=t*F[V];U+=t*F[V+1]}r[Q]=x;
r[Q+1]=U}};function dL(){}dL.rn=[2,5,5,7,4,4];dL.NH="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
dL.UI="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
dL.X_=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
dL.WS=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
dL.Gg=function(F){if(F=="passThrough")return"pass";return dL.NH[dL.UI.indexOf(F)]};dL.Yy=function(F){if(F=="pass")return"passThrough";
return dL.UI[dL.NH.indexOf(F)]};dL.getName=function(F){return dL.X_[dL.NH.indexOf(F)]};function Z(){this.S=null;
this.buffer=null;this.ww="norm";this.gk=255;this.p9=!1;this.Ge=!1;this.U4=0;this.Q8=0;this.VU=!0;this.nb=[];
for(var O=0;O<10;O++)this.nb.push(0,0,255,255);this.name=null;this.add={};this.Id=null;this.yf=null;
this.Lj=null;this.Ci=null;this.azr=30;this.i4=null;this.E9=null;this.x8=null;this.fB=null;this.Go=0;
this.aq=!1;this.Z5=null;this.FM=new Z.Ae}Z.Ae=function(){this.c9=!0;this.av=!0;this.Z3=j.j(0);this.aeV=j.j(0);
this.OX=null;this.md={};this.a1a=null;this.i_=null;this.o2=null;this.xe=null;this.ZB=null;this.iX=null;
this.kY=null;this.OY=null;this.bZ=null;this.Rr=null;this.JB=null;this.B1=null;this.SN=!1};Z.Ae.prototype.aDY=function(){this.c9=null;
this.av=!1;this.OX=null;this.SN=jp.mE};Z.Ae.prototype.aw9=function(){en.ahx(this.md);this.Z3=j.j(0);
this.aeV=j.j(0);if(this.xe)this.xe.delete();if(this.ZB)this.ZB.delete();this.xe=null;this.ZB=null;var F=[this.iX,this.kY,this.OY,this.bZ,this.Rr,this.JB];
for(var O=0;O<6;O++)if(F[O]!=null&&F[O]instanceof jp.fJ)F[O].delete();this.iX=null;this.kY=null;this.OY=null;
this.bZ=null;this.Rr=null;this.JB=null};Z.prototype.vM=function(F){if(F==null)F=this.S.P();if(this.FM.OX==null)this.FM.OX=F;
else this.FM.OX=this.FM.OX.DM(F)};Z.prototype.EX=function(){return this.add.lsct==jR.ul||this.add.lsct==jR.Xz};
Z.prototype.Og=function(){var F=this.add;return F.SoCo!=null||F.GdFl!=null||F.PtFl!=null||F.vstl!=null};
Z.prototype.aiR=function(){var F=this.add.lmfx;if(F==null)return;var r=["GrFl","patternFill"];for(var O=0;
O<r.length;O++){var $=cK.Zb[cK.order.indexOf(r[O])],C=F[$].v;if(C.length==0)continue;for(var M=0;M<C.length;
M++){var l=C[M].v;if(l.enab.v&&(l.Algn==null||!l.Algn.v))this.FM.av=!0}}};Z.prototype.a7M=function(){var F=this.Lj,r=this.FM.c9;
if(this.Og())F=this.rc();if(!jp.mE)return F.Qy();if(this.FM.ZB==null||r||jp.mE!=this.FM.SN){var $=F.y2(),C=F.Qy(),M=this.FM.ZB,l=j.cN(C),k=null;
if(r!=!0&&r!=null){k=r.P();k.offset(-$.x,-$.y)}if(M==null||M.r!=$.r||M.$!=$.$||M.depth!=l){M=this.FM.ZB=new jp.fh($.r,$.$,l);
k=null}M.set(C,k)}return this.FM.ZB};Z.prototype.a1c=function(F){var r=this.S,$=this.buffer;if(!jp.mE){var C=this.R5(F,$,r);
if(C){$=C.fU;r=C.S}return $}if(this.FM.OX!=null||jp.mE!=this.FM.SN){var C=this.R5(F,$,r);if(C){$=C.fU;
r=C.S}var M=r;if(jp.mE!=this.FM.SN||this.FM.xe==null||this.FM.xe.r!=M.r||this.FM.xe.$!=M.$||this.FM.xe.depth!=F.depth){if(this.FM.xe)this.FM.xe.delete();
this.FM.xe=new jp.fJ(M.r,M.$,F.depth);this.FM.xe.set($)}else{var l=this.FM.OX.P();l.offset(-r.x,-r.y);
this.FM.xe.set($,l)}}return this.FM.xe};Z.prototype.P3=function(){var F=this.Lj;if(this.Og())F=this.rc();
return F!=null&&F.isEnabled&&(!F.S.XS()||F.MB()!=255)};Z.prototype.R5=function(F,r,$){if(this.XE()){var C=this.WZ(F);
if(C.Lj&&C.Lj.isEnabled&&(!C.Lj.S.XS()||C.Lj.color==0)){var M=this.add.SoLd.filterFX.v;C.Lj.nn=M.filterMaskDensity?M.filterMaskDensity.v:255;
C.Lj.nN=M.filterMaskFeather?M.filterMaskFeather.v:0;var l=C.buffer,k=C.S;if(k.C()<$.C()){k=$;l=j.j(k.C()*4,F.depth);
j.mR(C.buffer,C.S,l,k)}var d=C.Lj.JL($);j.v4(d);r=r.slice(0);j.v.RS(l,k,r,$,d,$,0,$,1);return{fU:r,S:$}}}};
Z.prototype.aA1=function(){var F={UK:!1,Wj:!1,VC:0,c$:0};if(this.add.vmsk&&this.add.vmsk.isEnabled)F.Wj=!0;
if(this.rc()&&this.rc().isEnabled)F.UK=!0;if(F.UK&&F.Wj){F.VC=this.rc().S.x-this.add.vmsk.rc().S.x;F.c$=this.rc().S.y-this.add.vmsk.rc().S.y}return F};
Z.prototype.uH=function(F,r){if(gw!=0)return;if(r&&this.rc().nN!=0){r=r.P();var $=Math.round(this.rc().nN*2.4);
r.lW($,$)}var C=!1;if(this.add.lsct==jR.k9)return;var M=this,l=this.rc()!=null&&this.rc().qX,k=this.add.vmsk!=null&&this.add.vmsk.qX,d=this.aA1(),I=JSON.stringify(d)!=this.FM.a1a||d.UK&&l||d.Wj&&k;
if(I){if(d.Wj){var c=this.add.vmsk.rc(null,F.depth);if(d.UK){this.Lj=this.rc().MV(c);this.FM.i_=new hx(this.Lj.S.x-this.rc().S.x,this.Lj.S.y-this.rc().S.y)}else this.Lj=c}if(this.Lj)C=!0;
if(this.Lj)this.FM.o2=new hx(this.S.x-this.Lj.S.x,this.S.y-this.Lj.S.y);if(d.UK)this.rc().qX=!1;if(d.Wj)this.add.vmsk.qX=!1;
this.vM(r)}else{if(d.UK&&d.Wj){this.Lj.S.x=this.rc().S.x+this.FM.i_.x;this.Lj.S.y=this.rc().S.y+this.FM.i_.y}}if(M.Og()){this.Nx(F)}if(M.he()){var Q;
if(this.Lj)Q=new hx(this.S.x-this.Lj.S.x,this.S.y-this.Lj.S.y);if(this.Lj&&this.Lj.isEnabled&&(this.FM.o2==null||!Q.Mp(this.FM.o2))){this.FM.o2=Q;
this.vM(r);C=!0}}if(f0.get(M.add)!=null)C=!0;if(C){var x=this.FM.c9;if(r&&x&&x!=!0)x=x.DM(r);else x=r?r:!0;
this.FM.c9=x}this.FM.a1a=JSON.stringify(d)};Z.prototype.Nx=function(F){if(gw!=0)return;var r=this,$=r.add.vstk,C=new cS(0,0,F.r,F.$),M,l=r.add.vmsk?this.add.vmsk.rc(null,F.depth):null,I=!0,x;
if(l&&l.isEnabled&&l.MB()==0)M=l.y2().P();else M=C;var k=r.rc();if(k&&k.isEnabled&&k.MB()==0)M=M.R7(r.Lj.y2());
var d=l&&$;if($&&(!$.strokeEnabled.v||$.strokeStyleLineWidth.v.val==0))d=!1;if($&&!$.fillEnabled.v&&d)I=!1;
var c=j.j(M.C()*4,F.depth);if(I){if(r.add.SoCo)en.Tx(c,r.add.SoCo.Clr.v);if(r.add.GdFl){var Q=l&&l.color==0?j.w.t8(r.add.vmsk.M,null,!0):null;
en.VZ(r.add.GdFl,c,M,F,null,Q)}if(r.add.PtFl)en.Ui(r.add.PtFl,c,M,F.add.Patt,r.add.fxrp)}if(d)x=cK.Ok.Fk.indexOf($.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(l){var U=l.nn;if(d)l.nn=255;var S=j.j(M.C(),F.depth);if(l.MB()!=0)S.fill(j.zV(F.depth)*l.MB()/255);
if(l&&l.isEnabled){var z=l.y2(),V=l.Qy();if(z.Mp(M))j.Jx(V,S);else j.wU(V,z,S,M)}if(d&&x==2){}else{if(r.add.SoCo&&I){j.dr(S,c,3)}else j.PO(S,M,c,M)}if(d)l.nn=U}r.buffer=c;
r.S=M;if(d){var t=$.strokeStyleContent.v,Y=cK.Ok.zd.indexOf(t.classID),i=this.add.vmsk.rc($,F.depth);
if(x!=0&&!r.S.Mp(C))r.extend(r.S.DM(i.y2()));var U=i.nn;i.nn=255;var J=i.JL(r.S);i.nn=U;if(i.color==255)j.v4(J);
var H=j.j(r.S.C()*4,F.depth);if(Y==0)en.Tx(H,t.Clr.v);if(Y==1)en.VZ(t,H,r.S,F,null,l.color==0?l.S:null);
if(Y==2)en.Ui(t,H,r.S,F.add.Patt,r.add.fxrp);var v=$.strokeStyleOpacity.v.val/100;if(v!=1)j.vy(J,v);
if(i.color==255)x=2-x;if(x<2){j.v.RS(H,r.S,r.buffer,r.S,J,r.S,255,r.S,1,!1);if(x==0)j.Qk(S,r.buffer)}if(x==2){j.Qk(J,H);
j.v4(S);j.v.RS(H,r.S,r.buffer,r.S,S,M,255,r.S,1,!1);j.v4(S)}if(i.nn!=255){var n=H.slice(0);j.SP(n,1);
j.v.O5("norm",n,r.S,r.buffer,r.S,r.S,1-i.nn/255)}U=l.nn;l.nn=255;this.aeV=l.JL(r.S);l.nn=U}this.vM()};
Z.prototype.d7=function(F,r,$,C,M){var l=this,k=l.add.SoLd.Idnt.v,d=l.add.SoLd,I=B.hL.$M(d.nonAffineTransform),c=j.b.sY(I),Q=F.M3(k,d.Crop?d.Crop.v:null,[c.r,c.$],d.Impr.v.classID,$),J=null;
if(Q==null)return;var x=Q.gn;j.aJ2(x,F.depth);if(M&&j.b3(x[0],0))return;if(d.Sz){d.Sz.v.Wdth.v=Q.pR.r;
d.Sz.v.Hght.v=Q.pR.$}if(gw!=0)return;var U=Q.YV==null?d.Rslt.v.val:Q.YV,S=d.quiltWarp.v;if(j.gd.sp(S))S=null;
var z=j.H.e0(I,Q.pR);if(S){var c=j.b.sY(j.gd.YR(S)[3]),V=c.x,t=c.y,Y=1/c.r,i=1/c.$;z=j.H.e0(I);z=j.H.MV(z,[Y,0,-V*Y,0,i,-t*i,0,0])}if(!r&&!l.XE()&&S==null){var H=F.u.indexOf(l),v=Z.qK(l);
for(var O=0;O<H;O++){var n=F.u[O];if(n.add.SoLd&&!n.XE()&&Z.qK(n)[0]==v[0]){var G=Z.qK(n);J={buffer:n.buffer.slice(0),S:n.S.P()};
J.S.offset(Math.round(v[1]-G[1]),Math.round(v[2]-G[2]));break}}}if(J==null)J=B.hL.pF(x,r?0:1,z,S,null,null,r);
if(J==null){l.buffer=j.j(0,F.depth);l.S=new cS}else if(l.XE()){var g=l.WZ(F);if(C){g.buffer=j.Mz(g.buffer,F.depth);
g.buffer.fill(0);j.mR(J.buffer,J.S,g.buffer,g.S)}else{g.buffer=J.buffer;g.S=J.S.P()}this.JZ(F,r)}else{l.buffer=J.buffer;
l.S=J.S}l.uH(F);l.vM();F.vM()};Z.qK=function(F){var r=F.add.SoLd,$=r.Idnt.v,C=B.hL.$M(r.nonAffineTransform),M=j.H.e0(C,new cS(0,0,1e3,1e3)),l=r.quiltWarp.v;
if(j.gd.sp(l))l=null;return[[$,M[0],M[1],M[3],M[4],M[6],M[7],l==null].join(":"),M[2],M[5]]};Z.prototype.JZ=function(F,r){if(r==null)r=!1;
var $=this.WZ(F),C=this.add.SoLd.filterFX.v,M=e9.aFt(C),l=new cS(0,0,F.r,F.$),k=$.S.DM(l),d=$.S.P();
d.lW(M.x,M.y);var I={buffer:null,S:k.R7(d)};I.buffer=j.j(I.S.C()*4,F.depth);j.mR($.buffer,$.S,I.buffer,I.S);
if(C.enab.v&&r==!1){var c=C.filterFXList.v;for(var O=0;O<c.length;O++){var Q=c[O].v;if(Q.enab.v==!1)continue;
var x=Q.blendOptions.v,U=dL.Gg(x.Md.v.BlnM),S=x.Opct.v.val/100,z=j.qS.MB(Q.FrgC.v),V=j.qS.MB(Q.BckC.v),t=e9.hq(Q),Y={buffer:j.j(I.buffer.length,F.depth),S:I.S.P()},i=Q.Fltr?Q.Fltr.v:null;
if(f0.ZH[t]!=null){var J=f0.ZH[t],H=f0.ak(J,i);if(H)f0.Fx(H,I.buffer,Y.buffer,I.S)}else e9.Fx(t,I,i,z,V,Y,[F.add.lnk2?F.add.lnk2:[],this.rc(),F.Bs]);
if(U=="norm"&&S==1)I=Y;else if(U=="norm"){j.v.RS(Y.buffer,Y.S,I.buffer,I.S,null,null,null,I.S,S)}else{j.v.O5(U,Y.buffer,Y.S,I.buffer,I.S,I.S,S)}}}this.S=I.S;
this.buffer=I.buffer;this.uF();this.vM();F.vM()};Z.prototype.hO=function(F,r,$){this.Z5=this.a6K(F,r,$)};
Z.prototype.d5=function(F,r){var $=this.a6K(F,r,!0);if($==null)return null;var C={A0:$.Go,PF:$.$z,S:$.wp};
if(C.A0==1||C.A0==3){var M=C.S,l=j.j(M.r*M.$*4,j.cN(F.d.G));j.dr(C.PF,l,0);j.dr(C.PF,l,1);j.dr(C.PF,l,2);
j.akJ(F.d.G,F.d.S,l,M);C.PF=l}return C};Z.prototype.a6K=function(F,r,$){var C,M,l,k,d,I,c;if(this.Go<=0){var Q=j.j(this.S.C(),F.depth);
j.Eg(this.buffer,Q,3);C=j.nu.zv(r,{G:Q,S:this.S},3);if(C==null)return null;var x=j.BM(C.G,C.S);k=C.S.P();
d=this.S.P();M=j.j(k.C()*4,F.depth);j.mR(this.buffer,d,M,k);j.dr(C.G,M,3);l=this.buffer.slice(0);if(!$){var U=r.G.slice(0);
j.v4(U);j.PO(U,r.S,l,d)}I=this.buffer.slice(0);c=this.S.P()}if(this.Go==1||this.Go==3){var S=this.Go==1?this.rc():this.WZ(F).Lj;
k=r.S.P();d=S.S.P();M=S.bR(k);var l=S.G.slice(0);if(!$){var z=j.j(k.C(),F.depth);if(S.color==255)z.fill(j.zV(F.depth));
j.v.es(z,k,l,d,r.G,k,1)}I=S.G.slice(0);c=S.S.P()}return{Go:this.Go,$z:M,wp:k,sc:l,Rh:d,wE:I,BB:c}};Z.prototype.ip=function(F,r){var $=this.Z5;
if($.Go==0){this.S=$.BB;this.buffer=$.wE;this.vM()}if($.Go==1||$.Go==3){var C=$.Go==1?this.rc():this.WZ(F).Lj;
C.G=$.wE;C.S=$.BB;if(this.Go==1){C.qX=!0;this.uH(F)}if(this.Go==3)this.vM()}this.Z5=r};Z.prototype.Kr=function(F,r){var $=F.depth;
if(this.Go<=0&&r.S.Mp(this.S)){var C=j.j(this.S.C(),$);j.Eg(this.buffer,C,3);if(j.Mp(F.d.G,C)){var M=this.S,l=this.buffer;
this.Z5={Go:this.Go,$z:l.slice(0),wp:M.P(),sc:j.j(0),Rh:new cS,wE:j.j(0),BB:new cS};return!0}}var k=this.Z5;
if(k==null)return!1;if(k.Go!=this.Go)return!1;if(!r.S.Mp(k.wp))return!1;var d=k.Rh.DM(k.wp);if(k.Go<=0){if(!d.Mp(this.S))return!1;
var I=j.j(k.$z.length>>2,$);j.Eg(k.$z,I,3);if(!j.Mp(r.G,I))return!1;var c=j.j(d.C()*4,$);j.mR(k.sc,k.Rh,c,d);
j.v.O5("norm",k.$z,k.wp,c,d,d,1);return j.Mp(c,this.buffer)}if(k.Go==1||k.Go==3){var Q=k.Go==1?this.rc():this.WZ(F).Lj;
if(!d.Mp(Q.S))return!1;var x=j.j(d.C(),$);x.fill(Q.color*j.zV($)/255);j.wU(k.sc,k.Rh,x,d);j.v.es(k.$z,k.wp,x,d,r.G,d,1);
return j.Mp(x,Q.G)}};Z.prototype.C6=function(F,r,$,C){var M=this.Z5;M.wp.offset(r,$);var l=M.Rh.DM(M.wp);
if(M.Go<=0){var k=j.j(l.C()*4,F.depth);j.mR(M.sc,M.Rh,k,l);j.v.O5("norm",M.$z,M.wp,k,l,l,1);this.buffer=k;
this.S=l;this.vM()}else{var d=this.Go==1?this.rc():this.WZ(F).Lj,I=j.j(l.C());I.fill(d.color);j.wU(M.sc,M.Rh,I,l);
j.v.es(M.$z,M.wp,I,l,C.G,l,1);d.G=I;d.S=l.P();if(this.Go==1){d.qX=!0;this.uH(F)}if(this.Go==3)this.vM()}};
Z.prototype.aGh=function(F){var r=[-1,0,1,2];if(F)r.push(3);if(this.Lj)r.push(-2);if(this.Ci)r.push(-3);
return r};Z.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};Z.prototype.Da=function(bU){this.add.luni=this.name=bU};
Z.prototype.mf=function(F){var r=this.add.lnsr,$=this.add.TySh;if(r=="rend"&&$){var C=ho.OD($.$E);this.Da(C.slice(0,C.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
Z.prototype.rR=function(){return(this.U4&1<<1)==0};Z.prototype.he=function(){return(this.U4&1<<4)==0};
Z.prototype.yX=function(){return(this.U4&1<<5)!=0};Z.prototype.aso=function(){var F=this;if(F.add.lnsr!="bgnd"){F.add.lnsr="bgnd";
F.Da("Background");F.add.lspf=1<<2}};Z.prototype.abq=function(){var F=this;if(F.add.lnsr=="bgnd"){delete F.add.lnsr;
F.Da("Layer 0");F.add.lspf=0}};Z.prototype.aV=function(F){var r=this.add.lspf;return r==null?!1:(r>>F&1)!=0};
Z.prototype.Gj=function(F){if(F&&!this.rR())this.U4-=2;if(!F&&this.rR())this.U4+=2};Z.prototype.uL=function(){var F=this.add.lmfx;
if(F==null)return!1;for(var r in F){if(r=="masterFXSwitch")continue;if(r=="Scl")continue;if(r=="classID")continue;
if(F[r].v.length>0)return!0}return!1};Z.prototype.XE=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
Z.prototype.HP=function(){var F=this.add.lmfx;if(F==null)return!1;if(!F.masterFXSwitch.v)return!1;for(var r in F){if(r=="masterFXSwitch")continue;
if(r=="Scl")continue;if(r=="classID")continue;var $=F[r].v;for(var O=0;O<$.length;O++)if($[O].v.enab.v)return!0}return!1};
Z.prototype.qp=function(){var F=this,r=F.add.SoLd,$=F.add.TySh,C=F.add.vmsk,M=[];if(r)M=B.hL.$M(r.nonAffineTransform);
if($&&this.FM.gt){M=j.b.Vs(F.FM.gt).n;j.b.U(M,$.U,M)}if(C)M=j.b.Vs(C.a05()).n;return M};Z.prototype.Xl=function(F,r,$,C){if(gw==1)return j.b.sY(this.qp());
var M=new cS,l=this.Wb(F,$,C);if(l.indexOf(0)!=-1)M=M.DM(this.S);if(l.indexOf(1)!=-1){var k=this.rc(),d=k.y2();
M=$&&k.MB()==0?M.XS()?d:M.R7(d):M.DM(d)}if(l.indexOf(2)!=-1){var I=this.add.vmsk,c=this.add.vstk,Q;if(r){if(I.dP.length>1){var x=j.w._f(I.M,null,I.dP);
Q=j.b.sY(x);if(Q.XS())Q=null}if(Q==null)Q=j.w.t8(I.M,I.K.length!=0?I.K:null)}else Q=j.w.t8(I.M);if(!C&&c&&c.strokeEnabled.v){var U=c.strokeStyleLineAlignment.v.strokeStyleLineAlignment,S=c.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if(U!="strokeStyleAlignInside"){var z=c.strokeStyleLineWidth.v.val;if(S=="strokeStyleMiterJoin")Q=new cS(0,0,F.r,F.$);
else Q.lW(z,z)}}M=M.DM(Q)}if(l.indexOf(3)!=-1)M=M.DM(this.WZ(F).Lj.y2());if(l.length==0&&this.Og())M=C?new cS(0,0,0,0):new cS(0,0,F.r,F.$);
return M};Z.prototype.tx=function(){var F=this.add.artb,r=F.artboardBackgroundType.v,$=0;if(r==1)$=4294967295;
else if(r==2)$=4278190080;else if(r==3)$=0;else if(r==4){$=F.Clr.v;$=255<<24|$.Bl.v<<16|$.Grn.v<<8|$.Rd.v}else throw r;
return $};Z.prototype.dh=function(){var F=this.add.artb.artboardRect.v,r=F.Btom.v,$=F.Left.v,C=F.Rght.v,top=F.Top.v;
return new cS($,top,C-$,r-top)};Z.prototype.HD=function(F){var r=Z.Xj(F);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=r};Z.Xj=function(F){var r={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
r.Btom.v=F.y+F.$;r.Left.v=F.x;r.Rght.v=F.x+F.r;r.Top.v=F.y;return r};Z.prototype.Wb=function(F,r,$){var C=[],M=this;
if(!r&&M.aq&&$){C.push(2)}else if(M.Go<=0||r){if(M.he()){if(gw==1&&M.add.TySh)C.push(0);else if(gw==1&&M.add.SoLd)C.push(0);
else if(!this.S.XS()||M.add.SoLd||M.add.TySh)C.push(0)}if(M.rc()&&!M.rc().S.XS())if(M.rc().N9||r)C.push(1);
if(M.add.vmsk)if(M.add.vmsk.N9||r)C.push(2);if(M.XE()&&M.WZ(F).Lj&&!M.WZ(F).Lj.S.XS())C.push(3)}else if(M.Go==1){C.push(1);
if(M.rc().N9&&!M.rc().S.XS()){if(M.he())if(!this.S.XS())C.push(0);if(M.add.vmsk)if(M.add.vmsk.N9)C.push(2)}}else if(M.Go==3&&!M.WZ(F).Lj.S.XS())C.push(3);
if(M.add.artb&&C.indexOf(0)==-1)C.push(0);C.sort();return C};Z.prototype.rc=function(){var F=this;return F.Ci?F.Ci:F.add.vmsk&&F.add.vmsk.isEnabled?null:F.Lj};
Z.prototype.WZ=function(F){var r=this.add.SoLd.placed.v,$=F.add.FEid;if($==null)return null;for(var O=0;
O<$.length;O++)if($[O].id==r)return $[O];return null};Z.prototype.extend=function(F){j.a0p(this,F)};
Z.prototype.aFp=function(F,r,$){var C=F.P();if(this.HP()){var M=this.add.lmfx,l=r.root.yw(r.u.indexOf(this)),k=M.gradientFillMulti.v,d=!1;
for(var O=0;O<k.length;O++)if(k[O].v.enab.v&&k[O].v.Algn.v)d=!0;if(d)C=C.DM(l.y2(r,!1));var I=en.akk(this.add.lmfx,r,$);
C.offset(I.x,I.y);C.r+=I.r;C.$+=I.$}return C};Z.prototype.uF=function(){if(this.he())j.oA(this);var F=this.rc();
if(F)F.uF()};Z.prototype.P=function(){var F=new Z;F.S=this.S.P();F.buffer=this.buffer.slice(0);F.ww=this.ww;
F.gk=this.gk;F.p9=this.p9;F.U4=this.U4;F.name=this.name;F.nb=this.nb.slice(0);if(this.Lj)F.Lj=this.Lj.P();
if(this.Ci)F.Ci=this.Ci.P();for(var r in this.add)F.add[r]=iE.P(r,this.add[r]);return F};Z.prototype.MQ=function(F){var r=this;
if(r.add.TySh)delete r.add.TySh;if(r.add.SoLd){var $=this.R5(F,this.buffer,this.S);if($){this.buffer=$.fU;
this.S=$.S;this.vM()}delete r.add.SoLd}if(r.add.SoCo||r.add.GdFl||r.add.PtFl){if(r.add.vogk)delete r.add.vogk;
if(r.add.SoCo)delete r.add.SoCo;if(r.add.GdFl)delete r.add.GdFl;if(r.add.PtFl)delete r.add.PtFl;if(r.add.vmsk){console.log(r.Ci,r.Lj);
delete r.add.vmsk;if(r.Ci==null&&r.Lj)delete r.Lj;else if(r.Ci!=null&&r.Lj!=null){r.Lj=r.Ci;delete r.Ci}}}if(!r.EX()&&f0.get(r.add)==null&&!this.he())this.U4-=16};
Z.prototype.MG=function(F){var r=255,$=0;if(F==2){var C=this.add.SoLd.filterFX.v;if(C.filterMaskDensity)r=C.filterMaskDensity.v;
if(C.filterMaskFeather)$=C.filterMaskFeather.v}else{var M=F==0?this.rc():this.add.vmsk;r=M.nn;$=M.nN}return{vQ:F,LG:r,AU:$}};
Z.prototype.a27=function(F){if(F.vQ==2){var r=this.add.SoLd.filterFX.v;if(F.LG==255)delete r.filterMaskDensity;
else r.filterMaskDensity={t:"long",v:F.LG};if(F.AU==0)delete r.filterMaskFeather;else r.filterMaskFeather={t:"doub",v:F.AU};
this.vM()}else{var $=F.vQ==0?this.rc():this.add.vmsk;$.nn=F.LG;$.nN=F.AU;$.qX=!0}};Z.prototype.ud=function(){var F=this,r=F.add.vmsk;
if(r==null)return;F.add.vogk=j.EL.aER(r.M)};Z.ud=function(F){var r=[],$=j.w.Us(F);for(var C=0;C<$;C++)r.push(j.EL.E4());
return r};var jR={Ak:0,ul:1,Xz:2,k9:3};Z.tp=function(F){this.name="Mask";this.Nn=!1;this.$d={t:255,L:0,X:0};
this.Dj=50;this.wV=0;this.color=255;this.N9=!0;this.isEnabled=!0;this.J6=!1;this.nn=255;this.nN=0;this.S=new cS;
this.G=j.j(0,F);this.bA=null;this.au9=null;this.qX=!0};Z.tp.prototype.MV=function(F){if(!this.isEnabled)return F;
var r=new Z.tp;r.color=Math.round(this.MB()*F.MB()/255);if(this.MB()==0&&F.MB()==0)r.S=this.y2().R7(F.y2());
else if(F.MB()==0)r.S=F.y2().P();else if(this.MB()==0)r.S=this.y2().P();else r.S=this.y2().DM(F.y2());
r.G=this.JL(r.S);r.nn=255;r.nN=0;var $=F.JL(r.S);j.a5B($,r.S,r.G,r.S);return r};Z.tp.prototype.y2=function(){if(this.nN==0)return this.S;
var F=Math.ceil(this.nN*2.2),r=this.S.P();if(r.y==0){if(r.x==0)r.r+=F;else r.lW(F,0);r.$+=F}else r.lW(F,F);
return r};Z.tp.prototype.Qy=function(){if(this.nN==0&&this.nn==255)return this.G;if(this.nN==0){var F=this.G.slice(0);
j.v4(F);j.vy(F,this.nn/255);j.v4(F);return F}var r=this.y2(),F=this.bR(r);j.Zi.eO(F,r,this.nN);if(this.nn!=255){j.v4(F);
j.vy(F,this.nn/255);j.v4(F)}return F};Z.tp.prototype.MB=function(){return Math.round(255-(255-this.color)*(this.nn/255))};
Z.tp.prototype.extend=function(F){j.extend(this,F,this.color/255)};Z.tp.prototype.uF=function(){if(this.color==255)j.v4(this.G);
j.uF(this);if(this.color==255)j.v4(this.G)};Z.tp.prototype.P=function(){var F=new Z.tp;F.name=this.name;
F.Nn=this.Nn;F.$d=this.$d;F.Dj=this.Dj;F.wV=this.wV;F.color=this.color;F.N9=this.N9;F.isEnabled=this.isEnabled;
F.J6=this.J6;F.nn=this.nn;F.nN=this.nN;F.S=this.S.P();F.G=this.G.slice(0);return F};Z.tp.prototype.bR=function(F,r){var $=j.cN(this.G);
if(r==null)r=j.j(F.C(),$);r.fill(this.color*j.zV($)/255);j.wU(this.G,this.S,r,F);return r};Z.tp.prototype.JL=function(F,r){var $=this.y2(),C=this.Qy(),M=j.cN(C);
if(r==null)r=j.j(F.C(),M);r.fill(this.MB()*j.zV(M)/255);j.wU(C,$,r,F);return r};Z.kf=function(){this.N9=!0;
this.isEnabled=!0;this.nn=255;this.nN=0;this.Ji=0;this.ea=1;this.M=[{I:6},{I:8,all:0}];this.tn=[-3,-3];
this.ag=!1;this.Ci=null;this.qX=!0;this.K=[];this.dP=[]};Z.kf.prototype.a05=function(F){var r=Z.kf.I4(this.M),$=new hS;
if(F)$.rotate(-this.Ji);j.w.J_(r,$);return j.w.t8(r)};Z.kf.prototype.g3=function(){var F=this.a05(!0),r=j.b.Vs(F).n,$=new hS;
$.rotate(this.Ji);j.b.U(r,$,r);return r};Z.kf.prototype.offset=function(F,r){this.Ci=this.rc();j.w.J_(this.M,new hS(1,0,0,1,F,r));
this.Ci.S.offset(F,r)};Z.kf.prototype.rc=function(F,r){if(!this.qX&&this.Ci&&F==null){this.Ci.isEnabled=this.isEnabled;
return this.Ci}var $=this.M,C=j.w.t8($),M="strokeStyleLineAlignment",l="strokeStyleLineJoinType";if(C.C()>2e4*2e4)C=new cS(0,0,100,100);
if(F&&F[M].v[M]!="strokeStyleAlignInside"){var k=1;if(F[l].v[l]=="strokeStyleMiterJoin"){var d=j.w.aq0($),I=d/2,c=Math.sin(I),Q=Math.cos(I);
Q/=c;c=1;var k=Math.sqrt(Q*Q+c*c);if(isNaN(k)||k<1)k=1}k*=F[M].v[M]=="strokeStyleAlignOutside"?1:.5;
var x=Math.ceil(F.strokeStyleLineWidth.v.val*k);x=Math.min(x,600);C.lW(x,x)}C=j.b.LY(C);var U=new Z.tp;
U.color=j.w.Vn($)?0:255;U.N9=this.N9;U.isEnabled=this.isEnabled;U.J6=!0;U.S=C;U.nn=this.nn;U.nN=this.nN;
U.G=j.j(U.S.C());if(!C.XS())j.w.asd($,U.G,U.S,F);if(r!=null&&r!=8)U.G=j.Mz(U.G,r);if(F==null){this.Ci=U;
this.qX=!1}return U};Z.kf.prototype.P=function(){var F=new Z.kf;F.N9=this.N9;F.isEnabled=this.isEnabled;
F.nn=this.nn;F.nN=this.nN;F.Ji=this.Ji;F.M=Z.kf.I4(this.M);F.tn=this.tn.slice(0);F.ag=this.ag;F.K=this.K.slice(0);
F.dP=this.dP.slice(0);return F};Z.kf.prototype.concat=function(F){var r=F.M.slice(2);if(r.length==0)return;
r[0].ea=3;this.M=this.M.concat(r)};Z.kf.I4=function(F){var r=[];for(var O=0;O<F.length;O++){var $=F[O];
if($.I>5||$.I==0||$.I==3)r.push(j.N($));else r.push({I:$.I,ni:$.ni.P(),Z:$.Z.P(),Pj:$.Pj.P()})}return r};
Z.kf.aaM=function(F,r,$){if(F.length!=r.length)return!1;for(var O=2;O<F.length;O++){var C=F[O],M=r[O];
if(C.I!=M.I)return!1;if(C.I==0||C.I==3){if(C.length!=M.length||!$&&C.ea!=M.ea)return!1}else if(!C.ni.Mp(M.ni)||!C.Z.Mp(M.Z)||!C.Pj.Mp(M.Pj))return!1}return!0};
Z.kf.prototype.an6=function(){var F=this.M;for(var O=3;O<F.length;O++)if(F[O].I==0||F[O].I==3)F[O].ea=-1};
Z.qF=function(){this.I=null;this.TZ=2;this.ar=null;this.fO="";this.Ef="";this.d8="";this.open=0;this.raw=null;
this.gn=null;this.aE1="none";this.Zp=!1;this.YV=null;this.pR=null};Z.qF.prototype.P=function(){var F=new Z.qF;
F.I=this.I;F.TZ=this.TZ;F.ar=this.ar;F.fO=this.fO;F.Ef=this.Ef;F.d8=this.d8;F.open=this.open;F.raw=new Uint8Array(this.raw.buffer.slice(0));
return F};Z.qF.prototype.Ez=function(F,r,$,C,M){if($==null)$="none";var l=this,k=dN.GN(l.raw.buffer),d=k=="svg"||k=="pdf"||k=="ai";
if(l.gn){var I=r&&d&&Math.max(l.gn[1].r,l.gn[1].$)<Math.max(r[0],r[1]);if(!I&&$==this.aE1&&!l.Zp)return}this.aE1=$;
if(!d)F=0;if(k==null){alert("Unsupported format: "+P.BW(l.raw,0,4));return null}var c=dN.LD(k);if(k=="psd"&&gw==1){var Q=go.aeM(l.raw)[0],x=new Uint8Array(Q.data);
l.gn=[x,Q.$Y]}else if(c.FK){var U=new kQ(name+(k=="psd"?"":"-"+k)+".psd"),x;c.YH(l.raw.buffer,U,r);var S=new cS(0,0,U.r,U.$);
if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf($)!=-1){var z=[];for(var O=0;O<U.u.length;
O++){var V=U.u[O],t=V.buffer;if(!V.S.Mp(S)){t=j.j(S.C()*4);j.mR(V.buffer,V.S,t,S);console.log("resizing")}z.push(t)}x=j.j(S.C()*4);
j.stack.stack(z,x,$)}else{for(var O=0;O<U.u.length;O++)if(U.u[O].Og())U.u[O].uH(U);if(C&&U.Zp){var Y=dJ.H$(U,C,M);
l.Zp=!Y;if(Y)dJ.Gf(U,C,M)}U.CJ();U.vM();U.ol();x=U.Ez()}l.gn=[x,S];l.YV=U.YV!=null&&U.YV!=0?U.YV:72}else if(c){var i=c.YH(l.raw.buffer)[0],J=i.depth;
l.gn=[J==16?new Uint16Array(i.data):new Uint8Array(i.data),i.$Y];l.YV=i.YV!=null&&i.YV!=0?i.YV:72}if(l.gn){l.pR=l.gn[1].P();
if(F==1){var t=l.gn[0],H=l.gn[1],v=j.j(H.C());j.Eg(t,v,3);var n=j.BM(v,H),G=j.j(n.C()*4);j.mR(t,H,G,n);
n.x=n.y=0;l.gn=[G,n]}else{var t=l.gn[0],H=l.gn[1],n=j.CY(t,H,2,null,4278190080);if(n.XS())n=new cS(0,0,1,1);
while((n.x&15)!=0){n.x--;n.r++}while((n.y&15)!=0){n.y--;n.$++}if(!n.Mp(H)&&n.C()/H.C()<.7){var G=j.j(n.C()*4,j.cN(t));
j.mR(t,H,G,n);l.gn=[G,n]}}j.zY(l.gn)}};Z.K7="0";Z.O9="2";Z.HW="2.5";Z.qT="2.6";Z.Ko="3";Z.Ss="4";Z._x="4.4";
Z.SH="4.5";Z.ai0="4.6";Z.a1="5";Z.KP="5.5";Z.Gb="6";Z.a8F="7";Z.a2s="8";Z.GC="9";Z.JY="9.3";Z.abX="9.5";
Z.yg="9.6";Z.nE="10";Z.dx="11";Z.ba="12";Z.jT="13";Z._C="13.1";Z.ahO="13.2";Z.g8="13.3";Z.Gs="13.4";
Z.R$="14";Z.mn="14.1";Z.zh="14.2";Z.JD="14.3";Z.G9="17";Z.uw="18";Z.a9a="19";Z.g6="19.5";Z.mV="19.6";
Z.iM="19.7";Z.Cw="19.8";Z.CC="20";Z.fs="21";Z.fu="21.5";Z.RK="22";Z.fi="22.5";Z.iy="23";Z.aiy="24";Z.sJ="25";
Z.adH="26";Z.awi="27";Z.o_="28";Z.lc="29";Z._P="30";Z.Uw="31";Z.M1="32";Z.amT="32.5";Z.HI="33";Z.AR="34";
Z.Y0="35";Z.Um="36";Z.tm="36.5";Z.dY="37";Z.ga="37.5";Z.apq="37.6";Z.El="38";Z.qt="38.5";Z.vG="38.6";
Z.IJ="39";Z.Ym="40";Z.Hy="41";Z.axS="42";Z.QO="50";Z.j2="51";Z.Kb="52";Z.MY="53";Z.B6="54";Z.a85="54.5";
Z.P1="54.6";Z.a6B="54.7";Z.JM="54.8";Z.fn="55";Z.G4="55.5";Z.mv="56";Z.G5="57";Z.RP="58";Z.Lv="59";Z.Xk="60";
function dt(){this.depth=0;this.index=-1;this.z=null;this.n9=null;this.cM=-1;this.children=null;this.parent=null;
this.zk=null}dt.prototype.a9K=function(F,r){if(this.depth!=0)F.push(this.z.getName());if(this.children)for(var O=0;
O<this.children.length;O++)this.children[O].a9K(F,r);if(F.length>r.rY.length)r.rY=F.slice(0);if(this.depth!=0)F.pop()};
dt.prototype.a4F=function(){var F=0;if(this.z.EX()){for(var O=0;O<this.children.length;O++)F+=this.children[O].a4F()}else if(this.z.buffer)F+=this.z.buffer.length;
return F};dt.prototype.yw=function(F){var r=this.zk[F];return this.zk[F]};dt.prototype.c8=function(F,r){var $=this.z;
if(!$.rR()||$.aV(2)||$.aV(31))return null;if($.P3()){var C=$.Lj.S.HV(F);if(!C&&$.Lj.color==0)return}if($.EX()){for(var O=0;
O<this.children.length;O++){var bU=this.children[O];bU.c8(F,r)}}else if(gw==1){var M=$.qp();if(F.HV(j.b.sY(M))&&r.indexOf(this.index)==-1)r.push(this.index)}else if($.S.HV(F))r.push(this.index)};
dt.prototype.TJ=function(F,r){var $=this.z;if(!$.rR()||$.aV(2)||$.aV(31))return null;if($.P3()){if($.Lj.S.m_(F)){if(!j.TJ(F,$.Lj.G,$.Lj.S))return null}else if($.Lj.color==0)return null}if($.EX()){if($.add.artb&&!$.dh().m_(F))return null;
for(var O=this.children.length-1;O>=0;O--){var bU=this.children[O],C=bU.TJ(F,r);if(C&&r==null)return C}return null}else if(gw==1){if($.add.vmsk){var M=$.add.vstk,l=!M.fillEnabled.v&&!$.Ge,k=M.strokeStyleLineWidth.v.val*.5,d=j.w.TJ($.add.vmsk.M,F,l,k);
return d.Sc==-1?null:this}var I=$.qp();if(eA.h_(I,F.x,F.y))return this}else if($.add.TySh&&$.S.m_(F)||j.a5C(F,$.buffer,$.S)){if(r==null)return this;
else r.push(this.index)}return null};dt.prototype.aw$=function(F){var r=this.z;if(!r.rR()||r.aV(2)||r.aV(31))return null;
var $=r.add.vmsk;if($&&$.isEnabled){var C=j.w.TJ($.M,F).Sc;if(C!=-1)return{a2E:this,aCK:C}}if(r.EX()){if(r.add.artb&&!r.dh().m_(F))return null;
for(var O=this.children.length-1;O>=0;O--){var bU=this.children[O],M=bU.aw$(F);if(M)return M}return null}return null};
dt.prototype.W9=function(F,r){F.push(this.index);if(this.z.EX()){F.push(this.cM);if(r)if(this.z.Go==1&&this.z.rc().N9==!1)return;
for(var O=0;O<this.children.length;O++)this.children[O].W9(F)}};dt.L_=function(){var F=document.createElement("canvas");
return F.getContext("2d")};dt.aoQ=function(F,r){var $,C;if(F.r>F.$){$=Math.floor(r);C=Math.floor(r*(F.$/F.r))}else{$=Math.floor(r*(F.r/F.$));
C=Math.floor(r)}return new hx($,C)};dt.JV=32;dt.OJ=1;dt.prototype.SM=function(F,r,$){var C=dt.OJ,M=this.z;
if(M.EX()&&M.add.artb!=null)r=M.dh();var l=C==0?M.S:r;if(l.XS()||M.add.TySh)l=r;var k=dt.JV*B.ha(),d=dt.aoQ(l,k),I=d.x,c=d.y,Q=dt.aoQ(r,k),x=f0.get(M.add)!=null;
if(M.Og()&&M.add.vmsk==null||M.add.TySh||x)I=c=Math.max(c,16);else if(M.EX()){I=c=Math.round(18*B.ha())}else{I=Math.max(I,6);
c=Math.max(c,6)}if($&&M.i4==null){M.i4=dt.L_();if(gw==0){M.E9=dt.L_();M.x8=dt.L_();M.fB=dt.L_()}}var U=M.Og()&&M.add.vmsk;
if(gw==1&&!M.EX()){if($)j.DA.ayC(M.i4,I,c,F,this)}else if(U){if($&&M.add.vstk)j.DA.lx(M.i4,I,c,l,M.buffer,M.S,!1,null,!M.add.vstk.fillEnabled.v&&!M.add.vstk.strokeEnabled.v);
if($)j.DA.aGK(M.i4,I,c)}else if(M.add.TySh){if($)j.DA.amK(M.i4,c,c,M.add.TySh)}else if(M.add.SoCo){if($)j.DA.a99(M.i4,c,c,M.add.SoCo)}else if(M.add.GdFl){if($)j.DA.a7J(M.i4,c,c,M.add.GdFl)}else if(M.add.PtFl){if($)j.DA.aEk(M.i4,c,c,M.add.PtFl,F)}else if(x){if($)j.DA.aro(M.i4,c,c,M.add)}else if(M.add.SoLd){if($)j.DA.lx(M.i4,I,c,l,M.buffer,M.S,!1);
if($)j.DA.avB(M.i4,I,c,M.add.SoLd)}else if(M.EX()){}else{if($){if(M.he())j.DA.lx(M.i4,I,c,l,M.buffer,M.S,!1);
else{j.DA.a7T(M.i4,c,c)}}}var S=M.rc();if($){if(S)j.DA.hC(M.E9,Q.x,Q.y,r,S);if(M.XE()&&M.WZ(F)&&M.WZ(F).Lj){var z=M.WZ(F).Lj;
j.DA.hC(M.fB,Q.x,Q.y,r,z)}if(!U&&M.add.vmsk){j.DA.hC(M.x8,Q.x,Q.y,r,M.add.vmsk.rc(),!0)}}if(S||M.add.vmsk)c=Math.max(c,Q.y);
M.azr=Math.max(c,16);if($!=!0&&M.EX()&&(M.add.lsct==jR.ul||F.u.length<4e3))for(var O=0;O<this.children.length;
O++)this.children[O].SM(F,r)};dt.prototype.aa5=function(F,r,$,C){this.depth=$;var M=F[r];if(C==null)C=[];
this.zk=C;if(M.add.lsct==jR.k9){this.n9=M;this.cM=r-1;this.children=[];var O=r+1;while(!0){var l=F[O];
if(l==null)console.log(O,F.length);if(l.add.lsct==jR.ul||l.add.lsct==jR.Xz){if(M.add.lyid==l.add.lyid)M.add.lyid+=16777215;
this.z=l;this.index=O-1;C[this.index]=this;C[r-1]=this;break}var k=new dt;k.parent=this;O=k.aa5(F,O,$+1,C);
this.children.push(k)}return O+1}else{this.z=M;this.index=r-1;C[this.index]=this;return r+1}};dt.prototype.aK=function(F,r,$,C){var M=this.yw($),l=F;
while(M.parent!=null){l=M.z.aFp(l,r,C);M=M.parent}return l};dt.prototype.y2=function(F,r){var $=this.z,C=new cS;
if(!$.rR())return C;var M=$.rc();if($.EX())for(var O=0;O<this.children.length;O++){var l=this.children[O].y2(F,!0);
C=C.DM(l)}else if(f0.get($.add)!=null)C=$.P3()&&$.Lj.color==0?$.Lj.y2().P():new cS(0,0,F.r,F.$);else if($.Og()&&$.add.vmsk&&$.add.vmsk.isEnabled&&$.add.vstk){C=$.S.P()}else if($.Og()&&M&&M.isEnabled&&M.MB()!=0)C=new cS(0,0,F.r,F.$);
else{C=$.Xl(F,!1,!0);if($.add.vmsk)C=j.b.LY(C)}return r?$.aFp(C,F):C};dt.eX={delete:function(F){if(F&&F.r)F.delete()},j:function(F,r){return jp.mE?new jp.fJ(F,r):j.j(F*r*4)},Dr:function(F,r,$){var C=r.r,M=r.$;
if(F==null||jp.mE&&(F.r!=C||F.$!=M||F.depth!=$)||!jp.mE&&(F.length!=C*M*4||j.cN(F)!=$)){dt.eX.delete(F);
return jp.mE?new jp.fJ(C,M,$):j.j(C*M*4,$)}else return F},wU:function(F,r,$,C,M){(jp.mE?jp.Pz:j.mR)(F,r,$,C,M)},RS:function(F,r,$,C,M,l,k,d,O,I,c){(jp.mE?jp.v.I1:j.v.RS)(F,r,$,C,M,l,k,d,O,I,c)},a4n:function(F,r,$,C,M,l,k,d){var I=$.P(),c=M.r,Q=M.$,x=I.x,U=I.y,S=I.x+I.r>c?-1:0,z=I.x<0?2:1,V=I.y+I.$>Q?-1:0,t=I.y<0?2:1;
for(var Y=V;Y<t;Y++)for(var i=S;i<z;i++){I.x=x+i*c;I.y=U+Y*Q;dt.eX.O5(F,r,I,C,M,l,k,d)}},O5:function(F,r,$,C,M,l,k,d){if(jp.mE)jp.v.aEv(F,r,$,C,M,l,k,d);
else j.v.O5(F,r,$,C,M,l,k,d)},mD:function(F,r){if(jp.mE){jp.Tt(F);jp.E$(r)}else j.A9(F,r)},bg:function(F){if(jp.mE){jp.Tt(F);
jp.bg()}else{var r=j.cN(F),$=r==8?255:r==16?65535:1;if(r==8)j.SP(F,1);else for(var O=0;O<F.length;O+=4)F[O+3]=$}},aIY:function(F,r,$,C,M){if(jp.mE){jp.v.I1(null,null,C,M,F,r,$,M,1,!1)}else{if($==255)j.PO(F,r,C,M);
else{var l=j.j(r.C(),j.cN(F));j.Gc(C,M,l,r);j.SS(F,l);j.SP(C,0);j.akJ(l,r,C,M)}}},Av:function(F,r,$,C){if(jp.mE)jp.v.I1(null,null,$,C,F,r,0,C,1,!1);
else j.Av(F,r,$,C)}};dt.prototype.SW=function(F,r,$,C,M,l){var k=typeof l=="number";if(!this.z.EX()&&(k&&this.index>l||!k&&l.indexOf(this.index)==-1)){return}var d=this.z,I=en.gL(d),c=dt.eX,Q=F.depth;
if(Q==null)Q=j.cN(F);var x=d.Og()?d.rc():d.Lj;if(!d.rR())return;if(d.P3()&&x.S.XS()&&x.MB()==0){return}if(d.add.vstk==null&&this.y2(C,!1).XS()){return}if(d.Og()&&d.S.XS())return;
var U=this.y2(C,!0).R7($);if(!r.Mp($)&&!$.HV(U))return;if(d.EX()&&d.add.artb){var S=d.dh();$=$.R7(S)}var z=dt.aBT(d,M,I);
if(!z){this.a1X(F,r,$,C,M,l);return}d.FM.iX=c.Dr(d.FM.iX,U,Q);c.wU(F,r,d.FM.iX,U,$);this.a1X(d.FM.iX,U,$,C,M,l);
c.RS(d.FM.iX,U,F,r,null,null,0,$,d.gk/255,d.ww=="diss",I.q5)};dt.aBT=function(F,r,$){if($.q5[0]*$.q5[1]*$.q5[2]==0)return!0;
return F.gk!=255&&(r.length!=0||F.EX()||F.HP())};dt.alP={FM:{}};dt.prototype.a1X=function(F,r,$,C,M,l){var k=this.z,d=en.gL(k),I=f0.get(k.add)!=null,c=dt.eX,Q=F.depth,n=null,G=null,g=null,a;
if(Q==null)Q=j.cN(F);var x=dt.aBT(k,M,d),U=x?1:k.gk/255,S=k.Og()?k.rc():k.Lj,z=k.EX()&&d.Ch==null&&(k.ww=="pass"||k.add.artb)&&!(M.length>0||d.fill!=1||k.HP()),V=!k.EX()&&!I&&!k.HP()&&M.length==0,t=I&&!k.HP()&&M.length==0;
if(z||V||t){var Y=F,i=r;if(k.P3()){i=this.y2(C,!1);Y=k.FM.bZ=c.Dr(k.FM.bZ,i,Q);c.wU(F,r,k.FM.bZ,i)}if(z)this.T7(Y,i,$,C,l);
if(V)c.O5(k.ww,k.a1c(C),k.S,Y,i,$,U,d);if(t){var J=k.P3()&&S.MB()==0?S.y2().P():i.P(),H=k.FM;if(J.Mp(new cS(0,0,C.r,C.$)))H=dt.alP;
H.OY=this.agX(Y,i,H.OY,J,k.add);d.l_=!0;c.O5(k.ww,H.OY,J,Y,i,$,U,d)}if(k.P3())c.RS(Y,i,F,r,k.a7M(),S.y2(),S.MB(),$,1,k.ww=="diss");
k.FM.aDY();return}var v=k.EX()&&k.ww=="pass"&&(M.length>0||d.fill!=1||k.HP()),J=k.S;if(k.EX()){J=this.y2(C,!1);
g=k.FM.OY=c.Dr(k.FM.OY,J,Q);c.mD(g,0);this.T7(g,J,J,C,l);G=c.Dr(k.FM.kY,J,Q);c.wU(g,J,G,J)}else if(I){J=k.P3()&&S.MB()==0?S.y2().P():r.P();
G=c.Dr(k.FM.kY,J,Q);c.mD(G,4294967295)}else{J=k.S;n=k.a1c(C);G=c.Dr(k.FM.kY,J,Q);c.wU(n,J,G,J)}k.FM.kY=G;
if(k.P3())c.aIY(k.a7M(),S.y2(),S.MB(),G,J);if(k.HP())if(k.FM.OX||k.FM.av||k.FM.SN!=jp.mE||k.FM.c9||k.EX()){var W=k.add.vmsk,L=j.j(J.C(),Q);
if(en.agn(k.add.lmfx)){if(jp.mE){if(!k.EX()&&k.rc()==null&&k.S.Mp(J)&&W==null)j.Eg(k.buffer,L,3);else{var b=j.j(J.C()*4,Q);
G.get(b);j.Eg(b,L,3)}}else j.Eg(G,L,3)}if(k.FM.av||k.FM.SN!=jp.mE||!j.Mp(L,k.FM.Z3)){var T=null;if(k.Og()&&W&&W.isEnabled&&W.rc().color==0)T=W.rc().S;
en.ahx(k.FM.md);k.FM.md=en.a7o(L,J,k.add.lmfx,k.add.fxrp,C,T);k.FM.Z3=L;k.FM.aeP=J}}if(k.HP())en.aHm(k.add.lmfx,k.FM.md,J,F,r,$);
if(k.EX()){n=c.Dr(k.FM.bZ,J,Q);c.mD(n,0);if(k.ww=="pass")c.wU(F,r,n,J);if(v)c.Av(g,J,n,J);this.T7(n,J,$,C,l);
k.FM.bZ=n}if(I){n=k.FM.bZ=this.agX(F,r,k.FM.bZ,J,k.add)}if(k.EX()||I)a=n;else{a=c.Dr(k.FM.bZ,J,Q);c.wU(n,J,a,J,$);
k.FM.bZ=a}c.bg(a);for(var O=0;O<M.length;O++)M[O].SW(a,J,$,C,[],l);var R=k.FM.Rr=c.Dr(k.FM.Rr,J,Q);c.wU(F,r,R,J,$);
if(I)d.l_=!0;c.O5(k.ww=="pass"?"norm":k.ww,a,J,R,J,$,1,d);if(k.HP()){var D=k.FM.md.I.FrFX,h=null;if(D.length!=0){h=D[0];
for(var O=0;O<D.length;O++)if(D[O].U0.r>h.U0.r)h=D[O];k.FM.JB=c.Dr(k.FM.JB,h.U0,Q);c.wU(F,r,k.FM.JB,h.U0,$);
k.FM.B1=c.Dr(k.FM.B1,h.U0,Q)}en.agu(k.add.lmfx,k.FM.md,J,F,r,$,R,k.FM.JB,k.FM.B1,h?h.U0:null)}c.RS(R,J,F,r,G,J,0,$,1,k.ww=="diss");
k.FM.aDY()};dt.prototype.agX=function(F,r,$,C,M){var l=f0.get(M),k;if(l)k=f0.ak(l,M[l]);var d=j.cN(F),I=dt.eX;
$=I.Dr($,C,d);if(!(jp.mE&&r.Mp(C)))I.wU(F,r,$,C);if(k){if(jp.mE){var c=C.P();c.x=c.y=0;if(r.Mp(C)){jp.Tt($,c);
f0.xl(k,F.VJ,c)}else{jp.Tt($,C);$.eR(C);f0.xl(k,$.ad,c)}}else f0.Fx(k,$,$,C)}return $};dt.prototype.T7=function(F,r,$,C,M){var l=r.r,k=r.$,d=r.x,I=r.y,bU=$,c=bU.x,Q=bU.y,x=-1,U=-1,S=2,z=2,t=!1;
if(!C.pc){x=U=0;S=z=1}var V=this.children;for(var O=0;O<V.length;O++){if(!V[O].z.p9)t=!0;if(!t)continue;
var Y=f0.get(V[O].z.add)!=null,i=[];for(var J=O+1;J<V.length;J++)if(V[J].z.p9)i.push(V[J]);else break;
for(var H=U;H<z;H++)for(var v=x;v<S;v++){r.x=d+v*l;r.y=I+H*k;bU.x=c+v*l;bU.y=Q+H*k;if((v!=0||H!=0)&&Y)continue;
V[O].SW(F,r,bU,C,i,M)}O+=i.length}r.x=d;r.y=I;bU.x=c;bU.y=Q};(function(){dt.prototype.Pu=function(M,l,k,d){var I=this.z,c=I.add.lmfx,Q=I.add.TySh,x=I.add.SoLd,S=null;
if(!I.rR())return;l.save();var U=I.gk/255*(I.add.iOpa?I.add.iOpa/255:1);l.globalAlpha*=U;l.globalCompositeOperation=dL.WS[dL.NH.indexOf(I.ww)];
var z=M.add.prvw==0;if(z){l.lineWidth=1/M.f.bU;l.fillStyle="black"}var V=en.aqm(I,!1);if(V){S=l;var t=document.createElement("canvas");
t.width=l.canvas.width;t.height=l.canvas.height;var Y=l.getTransform();l=t.getContext("2d");l.setTransform(Y.a,Y.b,Y.c,Y.d,Y.e,Y.f)}if(I.EX()){var i=this.children,J=null;
for(var O=0;O<i.length;O++)if(i[O].z.Ge&&i[O].z.rR())J=i[O].z;if(J&&!z){l.beginPath();r(J,l);l.clip()}for(var O=0;
O<i.length;O++)i[O].Pu(M,l,k,d)}else if(Q){var H=!0;if(I.FM.path==null){H=dJ._H(Q,k.v7);if(H)dJ.Bi(I,k.v7,!1)}if(H){{var v=Q.U;
l.save();F(l,v);var n=I.FM.path;if(z){var G=n.C0.slice(0);for(var O=0;O<G.length;O++)if(G[O][0]=="#")G[O]="#000000";
n={C0:G,n:n.n}}dJ.asG(n,l);l.restore()}}}else if(I.Og()&&I.add.vmsk&&(!I.Ge||z)){var g=I.add.vmsk;l.beginPath();
r(I,l);if(z){l.stroke()}else{var W=I.add.vstl;if(W.rK.length!=0){var L=$(W.rK,g.M,M,l);if(L[1]){l.save();
F(l,L[1])}l.fillStyle=L[0];l.fill(["nonzero","evenodd"][g.ea]);if(L[1]){l.restore()}}if(W.XX.length!=0){j.w.iA(W,l);
l.strokeStyle=$(W.XX,g.M,M,l,!0)[0];l.stroke()}}}else if(x){var b=x.filterFX;if(b){var L=b.v.filterFXList.v;
for(var O=0;O<L.length;O++){var T=L[O].v;if(!T.enab.v)continue;var a=e9.hq(T);if(a=="GsnB"){l.filter="blur("+T.Fltr.v.Rds.v.val*M.f.bU+"px)"}}}var R=x.Idnt.v,D=M.M3(R,x.Crop?x.Crop.v:null),v=j.H.b6(x),h=D.gn;
if(z){var K=B.hL.$M(x.Trnf);l.moveTo(K[0],K[1]);for(var O=2;O<8;O+=2)l.lineTo(K[O],K[O+1]);l.closePath();
l.stroke()}else C(M,I,l,v,h)}if(V){S.save();S.setTransform(1,0,0,1,0,0);S.drawImage(l.canvas,0,0);S.restore();
l=S}l.globalAlpha/=U;l.globalCompositeOperation="source-over";l.restore()};function F(M,l){M.transform(l.xz,l.X,l.gb,l.G0,l.P6,l.jw)}function r(M,l){var k=M.add.vmsk.M;
for(var O=0;O<k.length;O++){if(k[O].I>5)continue;var d=k[O].length;if(d==0)continue;var I=k[O].I==3;
j.w.ajK(l,k,O+1,d,0,0,I);if(!I)l.closePath();O+=d}}function $(M,l,k,d,I){if(M.length==3)return[CSS.aba(M),null];
else if(M.length==2){var c=k._i[M[0]],Q=1,x=c.pb;if(x==null){var U=document.createElement("canvas"),S=U.getContext("2d");
U.width=Math.round(c.r*Q);U.height=Math.round(c.$*Q);S.scale(Q,Q);c.root.Pu(c,S,{},null);x=c.pb=d.createPattern(U,"repeat")}var z=new hS(1/Q,0,0,1/Q,0,0),V=k.YV/72,t=new hS;
t.concat(z);var Y=M[1][1];t.concat(new hS(Y[0],Y[1],Y[2],Y[3],V*Y[4],V*Y[5]));t.scale(1,-1);return[x,t]}else{var i=M[0],J=M[1],H=M[2],v=-H[5]*Math.PI/180,n=hq.dg(M,l),G,z;
if(i==0){var g=[0,0,1,0];j.b.U(g,n,g);G=d.createLinearGradient(g[0],g[1],g[2],g[3])}else{var g=[Math.cos(v)*H[6],Math.sin(v)*H[6],0,0,1,0],W=Math.abs(n.xz*n.X+n.gb*n.G0)<1e-9,L=Math.abs(n.xz*n.xz+n.X*n.X-n.gb*n.gb-n.G0*n.G0)<1e-9,b=W&&L;
if(b||I){j.b.U(g,n,g);var T=g[4]-g[2],a=g[5]-g[3];G=d.createRadialGradient(g[0],g[1],0,g[2],g[3],Math.sqrt(T*T+a*a))}else{G=d.createRadialGradient(g[0],g[1],0,0,0,1);
z=n}}j.qS.CT(G,J);return[G,z]}}function C(M,l,k,d,I){if(d==null)d=new hS;var c=l.buffer,Q=l.S;if(I){var x=d.w5()*M.f.bU,U=0;
while(1<<U/2<.5/x&&U+2<I.length)U+=2;c=I[U];Q=I[U+1];Q=Q.P();Q.x=Q.y=0;var x=1<<U/2,S=new hS;S.scale(x,x);
S.concat(d);d=S}if(Q.XS())return;var z=document.createElement("canvas");z.width=Q.r;z.height=Q.$;var V=z.getContext("2d");
V.putImageData(new ImageData(new Uint8ClampedArray(c.buffer),Q.r,Q.$),0,0);k.transform(d.xz,d.X,d.gb,d.G0,d.P6,d.jw);
k.drawImage(z,Q.x,Q.y);d.v4();k.transform(d.xz,d.X,d.gb,d.G0,d.P6,d.jw)}}());function kQ(F){this.SO="psd";
this.zm=!1;this.name=F;this.z_=8;this.depth=8;this.zX=-1;this.pc=!1;this.TB=null;this.Xc=null;this.nR=null;
this.$H=null;this.r=0;this.$=0;this.buffer=null;this.u=[];this.Wh={};this.add={};this.wa=[];this._i={};
this.va=[];this.pb=null;this.yH=4;this.YM=null;this.YV=72;this.wM={};this.K=[];this.oT=[];this.my=!1;
this.a3=[];this.hk=[];this.S8=[kQ.dK("Work Path")];this.D3=-1;this.tk=[];this.dy=null;this.on={classID:"CompList",list:{t:"VlLs",v:[]}};
this.ok=null;this.k2=[];this.aS=[];this.Xo=[];this.root=null;this.QQ=null;this.Zp=!1;this.a0l=!1;this.a9_=!1;
this.wY=!1;this.Dn=!1;this.eD=!1;this.GF=!1;this.Wk=!1;this.Wr=!1;this.eS=!1;this.OX=null;this.Tf=null;
this.d=null;this.Bs=[];this.GY=[];this.pu={n7:{},Ce:[],B0:[],P8:[],Qu:[],Lu:[],nW:null,O_:null,gN:null,NO:null,UW:null,oj:null,HM:null,Fc:null,Q0:[],oY:[],em:null};
this.history=[new fH([1,0],null)];this.Qc=0;this.ja=0;this.adS=0;this.au6=0;this.se=null;this.NF=!1;
this.f=new ew(this);this.FD=null;this.ab2=null}kQ.prototype.Pv=function(){var F=this;F.ja=F.Qc;F.adS=Date.now();
F.eD=!0};kQ.prototype.aAV=function(){var F=this,r=F.add.artd;return r!=null&&r.Cnt.v>1||F.add.arts&&F.add.arts.length>1};
kQ.prototype.u4=function(F){if(F){if(F.length==30240){this.u4(null);return}this.Wh.r1039=F;var r=ICC.R(F.buffer),M=null,l=17,x,U;
if(r==null){this.u4(null);return}var $=r.header.spaceIn.toLowerCase(),C=JSON.stringify(r.tags.desc).toLowerCase();
try{M=ICC.U.profileName(r)}catch(ac){}if($!="rgb "||M==null||C.indexOf("srgb")!=-1&&this.depth!=32||C.indexOf("apple wide color sharing profile")!=-1||$=="rgb "&&this.add.fcmy==1){this.u4(null);
return}console.log("We got an ICC profile!",r,M);try{var k=ICC.U.sampleLUT(r,l)}catch(ac){this.u4(null);
return}var d=j.$L("rgbToRgbC"),I=d[2],c=d[3],Q=kQ.aIj(k,c,I);if(jp.mE){x=new jp.fJ(l,l*l,jp.jn());x.set(ICC.U.lutToRGBA32(k,l));
U=new jp.fJ(l,l*l,jp.jn());U.set(ICC.U.lutToRGBA32(Q,l))}this.FD=[F,r,l,k,x,Q,U]}else{delete this.Wh.r1039;
this.FD=null}};kQ.aIj=function(F,r,$){var C=F.slice(0),M=j.j(4,32);for(var O=0;O<F.length;O+=3){M[0]=F[O];
M[1]=F[O+1];M[2]=F[O+2];ICC.U.applyLUT(r,$,M,M);C[O]=M[0];C[O+1]=M[1];C[O+2]=M[2]}return C};kQ.prototype.XF=function(){return this.FD};
kQ.prototype.o7=function(){if(this.FD)return this.FD;if(this.add.fcmy==1){if(this.ab2==null){var F=j.$L("rgbToRgbC"),r=F[2],$=F[3],C;
if(jp.mE){C=new jp.fJ(r,r*r,jp.jn());C.set(ICC.U.lutToRGBA32($,r))}this.ab2=[null,null,r,null,null,$,C]}return this.ab2}};
kQ.prototype.ax1=function(){var F=this.XF();if(F==null)return 0;var r=ICC.U.profileName(F[1]);if(r=="Adobe RGB (1998)")return 1;
if(r=="ProPhoto RGB")return 2;if(r=="Display P3")return 3;return-1};kQ.prototype.aEl=function(){var F=this;
if(F.f.BS.join("")!="111"){F.f.BS=[1,1,1];F.eD=!0}for(var O=0;O<F.u.length;O++){var r=F.u[O],$=r.add.vmsk;
if(r.XE()){var C=r.WZ(F);if(C&&C.Lj&&C.Lj.Nn){C.Lj.Nn=!1;F.eD=!0}}var M=r.rc();if(M&&M.Nn){M.Nn=!1;F.eD=!0}if($){if($.K.length!=0)$.K=[];
if($.dP.length!=0)$.dP=[]}}};kQ.prototype.azP=function(){var F=this;return F.d!=null||F.Ug()[1].length!=0||F.K.length>1};
kQ.prototype.Pw=function(){var F=this.oT,r=[];for(var O=0;O<F.length;O++)r[O]=-1;var $=this.root.children;
for(var O=0;O<$.length;O++){var C=$[O],M=C.z.add.artb;if(M==null)continue;var l=M.guideIndeces;l=l?l.v:[];
for(var k=0;k<l.length;k++)r[l[k].v]=C.index}return[j.N(F),r]};kQ.prototype.pj=function(F){this.oT=j.N(F[0]);
var r=F[1],$=this.root.children;for(var O=0;O<$.length;O++){var C=$[O],M=C.z.add.artb;if(M==null)continue;
M.guideIndeces={t:"VlLs",v:[]}}for(var O=0;O<r.length;O++)if(r[O]!=-1)this.u[r[O]].add.artb.guideIndeces.v.push({t:"long",v:O})};
kQ.prototype.aJh=function(F){var r=this;if(F[0])r.add.lnk2=F[0];else delete r.add.lnk2;if(F[1])r.add.FEid=F[1];
else delete r.add.FEid;if(F[2])r.add.Patt=F[2];else delete r.add.Patt};kQ.prototype.arE=function(F){var r=this,$=[],C=[],M=[],z=null,V=null,t=null;
for(var O=0;O<F.length;O++){var l=F[O];if(l.add.SoLd){$.push(l.add.SoLd.Idnt.v);C.push(l.add.SoLd.placed.v)}if(l.add.PtFl)M.push(l.add.PtFl.Ptrn.v.Idnt.v);
if(l.add.lmfx){for(var k=0;k<cK.Zb.length;k++){var d=l.add.lmfx[cK.Zb[k]].v;for(var I=0;I<d.length;I++)if(d[I].v.Ptrn){var c=d[I].v;
if(c.classID=="FrFX"&&c.PntT.v.FrFl!="Ptrn")continue;M.push(c.Ptrn.v.Idnt.v)}}}var Q=l.add.vstk;if(Q&&Q.strokeStyleContent.v.classID=="patternLayer"){M.push(Q.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var x=r.add.lnk2,U=r.add.FEid,S=r.add.Patt;
if(x){z=[];for(var O=0;O<x.length;O++)if($.indexOf(x[O].ar)!=-1)z.push(x[O]);if(z.length==0)z=null}if(U){V=[];
for(var O=0;O<U.length;O++)if(C.indexOf(U[O].id)!=-1)V.push(U[O]);if(V.length==0)V=null}if(S){t=[];for(var O=0;
O<S.length;O++)if(M.indexOf(S[O].id)!=-1)t.push(S[O]);if(t.length==0)t=null}return[z,V,t]};kQ.prototype.lZ=function(F){var r=this,$=r.root.yw(F==null?r.K[0]:F),C=!1;
while($.parent!=null){C=C||$.z.aV(31);$=$.parent}return C};kQ.prototype.c1=function(){var F=this.Bs,r=this.Bs.length;
if(r!=0&&F[r-1].name=="Quick Mask")return F[r-1]};kQ.prototype.no=function(){return this.SO==b3.kd("% |/!)")||this.SO==b3.iE("gP")};
kQ.prototype._R=function(F){var r=this.add.artd;if(F!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:F},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};kQ.prototype.gm=function(F){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(F)==-1)this.add.FEid.push(F)};
kQ.prototype.xO=function(F){var r=this.add.FEid.indexOf(F);this.add.FEid.splice(r,1);if(this.add.FEid.length==0)delete this.add.FEid};
kQ.prototype.vM=function(F){if(F==null)F=new cS(0,0,this.r,this.$);if(this.OX==null)this.OX=F;else this.OX=this.OX.DM(F)};
kQ.prototype.adz=function(F){return this.OX!=null};kQ.prototype.HC=function(F){var r=this.u[F],$=this.root.yw(F);
if($==null)return!1;if(r.EX()||$.parent.children.indexOf($)==0)return!1;return!0};kQ.a0s=function(F){if(F.add.lnk2)for(var O=0;
O<F.add.lnk2.length;O++){var r=F.add.lnk2[O].ar;F.add.lnk2[O].ar=kQ.Vm()+r.slice(8);for(var $=0;$<F.u.length;
$++){var C=F.u[$].add.SoLd;if(C&&C.Idnt.v==r)C.Idnt.v=F.add.lnk2[O].ar}}};kQ.prototype.B7=function(F,r,$){F.sort(function(x,U){return x-U});
var top=F[F.length-1],C=this.u.slice(0),M=this.K.slice(0),l=[],k=[];for(var O=0;O<this.u.length;O++){if(F.indexOf(O)!=-1)k.push(this.u[O]);
else l.push(this.u[O])}this.C8(k);this.K=[];var d=this.root.y2(this,!0);if(r)d=d.R7(r);if($)d=d.DM($);
if(d.XS())d=new cS(0,0,100,100);var I=new cS(-d.x,-d.y,this.r,this.$),c=new Uint8Array(dN.LD("PSD").x2(this,0,0,[!0,!1]));
this.C8(C);this.K=M;var Q=new kQ(this.u[top].getName());dN.LD("PSD").YH(c.buffer,Q);delete Q.add.artd;
Q.a3=[];Q.C8(Q.u);Q.pj([[],[]]);kQ.a0s(Q);B.i0.hH(Q,d);Q.vM();Q.ol();Q.Ez();return[Q,d,l,top]};kQ.prototype.ayW=function(F,r,$){var C=this.B7(F),M=C[0],l=C[1],k=C[2],top=C[3],d;
if($=="jpg")d=new Uint8Array(dN.LD("JPG").x2([[M.Ez().buffer]],M.r,M.$,[80]));else d=new Uint8Array(dN.LD("PSD").x2(M,null,null,[!0,!1]));
if(r)k=this.u.slice(0);var I=this.eM(d,M.name,l.x,l.y);if(top==this.u.length-1)k.push(I);else k.splice(r?top+1:top-F.length+1,0,I);
this.C8(k);this.K=[k.indexOf(I)]};kQ.Vm=function(F){if(F==null)F="";var r="";while(r==""||r==F){r="";
for(var O=0;O<8;O++)r+=Math.floor(Math.random()*16).toString(16)}return r};kQ.prototype.o0=function(F){if(F==null)return;
if(this.add.Patt==null)this.add.Patt=[];var r=this.add.Patt;for(var O=0;O<r.length;O++)if(r[O].id==F.id)return;
r.push(F)};kQ.prototype.a1I=function(F){for(var O=0;O<this.u.length;O++){var r=this.u[O],$=r.add.SoLd;
if($&&$.Idnt.v==F)r.d7(this)}};kQ.prototype.eM=function(F,r,$,C,M,l,k){if(this.add.lnk2==null)this.add.lnk2=[];
var d=null;for(var O=0;O<this.add.lnk2.length;O++)if(j.Mp(F,this.add.lnk2[O].raw)){d=this.add.lnk2[O].ar;
break}if(d==null){var I=dN.GN(F.buffer);d=kQ.Vm()+"-d71c-11e5-b1ae-a548a96e5f9f";var c=new Z.qF;c.ar=d;
c.d8=I=="psd"?"8BIM":"    ";c.fO=r+"."+I;c.Ef=I=="psd"?"8BPB":"    ";c.open=0;c.raw=F;c.I="liFD";c.TZ=2;
this.add.lnk2.push(c)}var Q=this.M3(d,null,null,null,l,k),x=kQ.Vm()+"-d71c-11e5-b1ae-a548a96e5f9f",U=this.at(),S=Q?Q.pR:new cS;
U.Da(r);U.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:d},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:x},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,quiltWarp:{t:"Objc",v:j.gd.j(S)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:S.r},Hght:{t:"doub",v:S.$}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:Q?Q.YV:72}}};
var z=S.P();if($!=null)z.offset($,C);if(Q!=null&&M){var I=dN.GN(F.buffer),V=M.x,t=M.y,Y=M.r,i=M.$;z=Q.pR.P();
z.offset(V+$,t+C);var J=J=this.YV/(Q.YV?Q.YV:I=="pdf"?144:this.YV);z.r=z.r*J;z.$=z.$*J;var H=Math.max(z.r/Y,z.$/i);
if(H>1.0001){z.r=z.r/H;z.$=z.$/H}z.x=Math.round(V+(Y-z.r)/2);z.y=Math.round(t+(i-z.$)/2)}var v=j.b.Vs(z).n;
U.add.SoLd.Trnf=B.hL._V(v);U.add.SoLd.nonAffineTransform=B.hL._V(v);if(Q){if(M)U.d7(this,!1);else if(gw==0){U.S=Q.gn[1].P();
U.S.offset(z.x,z.y);U.buffer=Q.gn[0].slice(0)}}return U};kQ.prototype.qx=function(){var F=this.add.arts,r=new cS;
for(var O=0;O<F.length;O++)r=r.DM(j.b.qy(F[O].sc));return r};kQ.prototype.ag2=function(F,r,$){var C=this.qx();
if(r==null){r=C.r;$=C.$}var M=j.q6(r,$);M.save();M.translate(-C.x,-C.y);M.scale(r/C.r,$/C.$);this.root.Pu(this,M,F,new cS(0,0,r,$));
M.restore();return M.getImageData(0,0,r,$).data.buffer};kQ.prototype.Ez=function(F){if(F!=null){this.vM();
this.ol(F);var r=this.buffer;if(jp.mE)this.QQ.get(r);else r=r.slice(0);this.vM();this.ol();return r}if(this.OX){this.ol();
this.OX=null}if(jp.mE&&this.Tf){this.QQ.get(this.buffer);this.Tf=null;this.GF=!0}return this.buffer};
kQ.prototype.amC=function(){for(var O=0;O<this.u.length;O++)this.u[O].aiR();this.vM()};kQ.prototype.adm=function(){for(var O=0;
O<this.u.length;O++)if(this.u[O].add.lmfx)this.u[O].FM.av=!0};kQ.prototype.xV=function(){var F=this.Wh.r1044;
if(F==null){F=this.Wh.r1044=new Uint8Array(4);var r=0;for(var O=0;O<this.u.length;O++)r=Math.max(r,this.u[O].add.lyid);
P.us(F,0,r)}var $=P.dj(F,0);P.us(F,0,$+1);return $+1};kQ.prototype.DI=function(F,r,$){if(F==null)F=!0;
var C=this;if(C.GY.length!=0)return!0;if(C.K.length!=1){if(F)alert(C.K.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.Za(F,r,$)};kQ.prototype.Za=function(F,r,$){if(F==null)F=!0;if(r==null)r=!1;var C=this;
if(C.GY.length!=0)return!0;for(var O=0;O<C.K.length;O++){var M=C.u[C.K[O]],l=r||M.Go<=0;if(M.add.lsct!=null&&M.add.lsct!=jR.Ak&&M.Go!=1){if(F)alert(dG.get([15,7,2]));
return!1}if(l&&!M.he()){if(F)alert(dG.get([15,7,2]));return!1}if(l&&M.add.TySh){return this.a8m(F,[15,7,3],$)}if(l&&M.add.SoLd){return this.a8m(F,[15,7,4],$)}if(M.aV(1)||C.lZ(C.K[O])){if(F)alert(dG.get([6,57,0]));
return!1}}return!0};kQ.prototype.a8m=function(F,r,$){if(F&&typeof F=="object"){var C=new k6(_.E.c);C.data={R:_.m.Oe,rS:"confirm"};
C.data.Y=dG.get(r)+". "+dG.get([6,8])+"?";var M=F;C.data.Oa=function(){var l=new k6(_.E.wG,!0);l.data={hE:"rasterizeLayer",iH:{classID:"rasterizeLayer",null:cQ.sZ("Lyr",!0)}};
M.a(l)};F.a(C);return!1}if(F)alert(dG.get(r));return!1};kQ.prototype.a8Y=function(F){var r=this.root.yw(F);
if(r.parent)return r.z.rR()&&this.a8Y(r.parent.index);else return r.z.rR()};kQ.prototype.Fv=function(F){var r=this;
if(F){var $=0;for(var O=0;O<r.K.length;O++)if(r.u[r.K[O]].add.artb)$++;if($>1)return-1}if(r.add.artd&&r.K.length!=0){var C=r.root.yw(r.K[0]);
while(C.parent.parent)C=C.parent;if(C.z.add.artb)return C.index}return-1};kQ.prototype.Ph=function(){var F=this.Fv();
if(F!=-1){var r=this.u[F].dh();return new hx(r.x,r.y)}return new hx(0,0)};kQ.prototype.aHP=function(){var F=this.u[this.K[0]];
if(F.Go<=0&&!F.S.HV(this.d.S)){alert("Selected area is empty.");return!1}if(this.K.length==1&&this.d){var r=j.j(this.d.G.length);
j.Gc(F.buffer,F.S,r,this.d.S);j.SS(this.d.G,r);if(j.b3(r,0)){alert("Selected area is empty.");return!1}}return!0};
kQ.prototype.e4=function(){if(this.Wh["r"+1037]==null)this.Rf(30);return P.Dm(this.Wh["r"+1037],0)};
kQ.prototype.Rf=function(F){if(this.Wh["r"+1037]==null)this.Wh["r"+1037]=new Uint8Array(4);if(P.Dm(this.Wh["r"+1037],0)==F)return;
P.ri(this.Wh["r"+1037],0,F);this.adm()};kQ.prototype.bh=function(){if(this.Wh["r"+1049]==null)this.jj(30);
return P.Dm(this.Wh["r"+1049],0)};kQ.prototype.jj=function(F){if(this.Wh["r"+1049]==null)this.Wh["r"+1049]=new Uint8Array(4);
if(P.Dm(this.Wh["r"+1049],0)==F)return;P.ri(this.Wh["r"+1049],0,F);this.adm()};kQ.prototype.up=function(F){if(this.add.lnk2==null)return null;
for(var O=0;O<this.add.lnk2.length;O++)if(this.add.lnk2[O].ar==F)return this.add.lnk2[O];return null};
kQ.prototype.ato=function(F){var r=this.up(F);if(r==null)return!1;var $=dN.GN(r.raw.buffer);if($==null)return!1;
if(dN.LD($)!=null||$=="psd")return!0;return!1};kQ.prototype.M3=function(F,r,$,C,M,l){var k=this.up(F);
if(k==null)return null;k.Ez(r,$,C,M,l);if(k.gn)return k};kQ.prototype.axc=function(){var F=this.r,r=this.$,$=this.QQ,C=this.depth;
if(jp.mE&&$==null)$=this.QQ=new jp.fJ(F,r,C,!0);if(this.buffer==null||this.buffer.length!=F*r*4||jp.mE&&($.r!=F||$.$!=r||$.depth!=C)){this.buffer=j.j(F*r*4,C);
if($)$.delete();if(jp.mE)$=this.QQ=new jp.fJ(F,r,C,!0)}};kQ.prototype.aE2=function(){this.axc();if(jp.mE){this.QQ.set(this.buffer)}};
kQ.prototype.ol=function(F){if(gw!=0)throw"redrawing in vector mode";var r=this.r,$=this.$,C=new cS(0,0,r,$),M=this.pc?C:C.R7(this.OX);
this.axc();if(M.XS())return;if(!M.Mp(C)){if(!jp.mE){var l=j.j(M.C()*4,this.depth);j.mR(l,M,this.buffer,C)}if(jp.mE){jp.Tt(this.QQ,M);
jp.E$(0)}}else{if(jp.mE){this.QQ.set(null)}else{this.buffer.fill(0)}}var k=Date.now(),d=jp.mE?this.QQ:this.buffer;
if(F==null)F=1e9;var I=this.root.children;for(var O=0;O<I.length;O++){var c=I[O].z;if(c.rR()&&c.add.artb&&this.add.artd){var Q=c.dh(),x=M.R7(Q),U=c.tx();
if(U!=0){if(jp.mE){jp.Tt(d,x);jp.E$(U);jp.E$(U)}else j.a92(d,C,x,U)}}}this.root.SW(d,C,M,this,[],F);
this.Tf=this.OX.P()};kQ.prototype.at=function(F){var r=new Z;r.S=new cS(0,0,0,0);r.buffer=j.j(0,this.depth);
r.Da("Layer");if(F!=!0)r.add.lyid=this.xV();r.add.lsct=jR.Ak;r.add.lclr=0;r.add.fxrp=new hx(0,0);return r};
kQ.prototype.fm=function(F){var r=this.at(F);r.Da("</Layer group>");r.add.lsct=jR.k9;r.U4=24;return r};
kQ.prototype.MO=function(){return this.Qc!=this.ja};kQ.prototype.gg=function(F){while(this.history.length>this.Qc+1)this.history.pop();
if(this.ja>this.Qc)this.ja=-1;if(F.J.id!=B.AF){this.wY=!0;if(this.on.lastAppliedComp){delete this.on.lastAppliedComp;
this.GF=!0}}this.history.push(F);this.Qc++;this.GF=!0;var r=ht._q()?60:30,$=0;for(var O=this.history.length-1;
O>=0;O--){var C=this.history[O];if(C.VN)continue;$++;if($==r){this.Qc-=O;this.history=this.history.slice(O);
break}}};kQ.prototype.pg=function(){if(this.Qc!=this.history.length-1)return null;return this.history[this.history.length-1]};
kQ.prototype.UY=function(F,r,$,C){if(F==null)F=!1;var M=r!=null?[r]:this.K.slice(0);if(C){var l=[];for(var O=0;
O<M.length;O++){var k=this.u[M[O]],d=k.Q8;if(k.VU&&d!=0&&l.indexOf(d)==-1)l.push(d)}if(l.length!=0)for(var O=0;
O<this.u.length;O++){var k=this.u[O],d=k.Q8;if(k.VU&&d!=0&&l.indexOf(d)!=-1&&M.indexOf(O)==-1)M.push(O)}}var I=[];
for(var O=0;O<M.length;O++){var c=this.Mg(M[O],F);for(var Q=0;Q<c.length;Q++)if(I.indexOf(c[Q])==-1)I.push(c[Q]);
if($){var bU=this.root.yw(M[O]);while(bU.parent!=null&&bU.parent.parent!=null){bU=bU.parent;if(I.indexOf(bU.index)==-1){I.push(bU.index,bU.cM)}}}}return I};
kQ.prototype.ZO=function(F,r,$){var C=this,M=C.UY(!1,F,null,$);M.sort(function(J,H){return J-H});var l={};
for(var k=0;k<C.u.length;k++){var d=C.u[k].getName();l[d]=!0}var I=[];for(var O=0;O<M.length;O++){var c=C.u[M[O]].P(),t,Y;
c.add.lyid=C.xV();c.add.lspf=0;if(c.XE()){var Q=c.WZ(C),x=kQ.alR(Q);C.gm(x);c.add.SoLd.placed.v=x.id}else if(c.add.SoLd){var U=c.add.SoLd.placed.v;
c.add.SoLd.placed.v=kQ.Vm(U.slice(0,8))+U.slice(8)}c.uH(C);var S=c.getName(),z=S.length;while(48<=S.charCodeAt(z-1)&&S.charCodeAt(z-1)<=57)z--;
var V=parseInt(S.slice(z));if(isNaN(V)){if(S.endsWith(" copy")){V=1;t=S.slice(0,S.length-5)}else{V=0;
t=S}}else if(S.slice(0,z).endsWith(" copy ")){V=V;t=S.slice(0,z-6)}else{V=0;t=S}V++;while(!0){Y=t+" copy"+(V==1?"":" "+V);
if(l[Y]==null)break;V++}var i=M.indexOf(this.root.yw(M[O]).parent.index)!=-1;if(S=="Background"&&C.u.length==1)Y="Layer 1";
if(r!=!0&&!i)c.Da(Y);l[Y]=!0;I.push(c)}return I};kQ.alR=function(F){return{id:kQ.Vm(F.id.slice(0,8))+F.id.slice(8),buffer:F.buffer.slice(0),S:F.S.P(),Lj:F.Lj?F.Lj.P():null}};
kQ.a0e=function(F){return{id:F,S:new cS,buffer:j.j(1),Lj:new Z.tp}};kQ.dK=function(F,r,$){if($==null)$=[0,0];
if(r==null)r={vmsk:new Z.kf};if(r.vogk==null){r.vogk=[];var C=j.w.Us(r.vmsk.M);for(var M=0;M<C;M++)r.vogk.push(j.EL.E4())}return{name:F,Sc:0,h7:$,add:r}};
kQ.prototype.Ug=function(F){var r=[],$=[],C=this;for(var O=1;O<C.S8.length;O++){var M=C.S8[O];M.Sc=-1-O;
r.push(M);if(C.tk.indexOf(O)!=-1)$.push(r.length-1)}if(C.S8[0].add.vmsk.M.length>2){var M=C.S8[0];M.Sc=-1;
r.push(M);if(C.tk.indexOf(0)!=-1)$.push(r.length-1)}var l=C.dy==null;if(l)C.dy=[];for(var O=C.K.length-1;
O>=0;O--){var k=C.K[O],d=C.u[k],I=d.add.TySh;if(d.add.vmsk!=null){var M=kQ.dK("\""+d.getName()+"\" Shape Path",d.add);
M.Sc=k;r.push(M);if(l&&(d.aq||d.Og()))C.dy.push(k);if(C.dy.indexOf(k)!=-1)$.push(r.length-1)}if(F!=!0&&I&&I.add&&j.gd.sp(I.xD)){var M=kQ.dK("\""+d.getName().slice(0,10)+"..\" Text Path",I.add);
M.Sc=1e6+C.K[O];r.push(M);$.push(r.length-1)}}if($.length==0&&F){C.S8[0].Sc=-1;C.tk=[0];$.push(r.length);
r.push(C.S8[0])}return[r,$]};kQ.prototype.Mg=function(O,F){var r=[],bU=this.root.yw(O);if(bU)bU.W9(r,F);
return r};kQ.prototype.mC=function(){this.root.SM(this,new cS(0,0,this.r,this.$))};kQ.prototype.C8=function(F){for(var O=0;
O<this.u.length;O++){var r=this.u[O];if(F.indexOf(r)==-1){r.FM.aw9();r.vM()}}var $=0;for(var O=0;O<F.length;
O++)if(F[O].add.artb)$++;this._R($);this.u=F.slice(0);this.CJ()};kQ.prototype.CJ=function(){var F=this.u,r=F.length;
this.root=new dt;var $=this.at(!0);$.ww="pass";$.add.lsct=jR.ul;$.Da("");var C=this.fm(!0),M=[C];for(var O=0;
O<r;O++)M.push(F[O]);M.push($);this.root.aa5(M,0,0);if(this.K.length==0)this.K=[r-1]};kQ.prototype.Jq=function(){if(this.K.length!=1)return;
var F=this.root.yw(this.K[0]);while(F.parent!=null){var r=F.parent.z;r.add.lsct=jR.ul;F=F.parent}this.eD=this.axf=!0};
kQ.prototype.acu=function(){this.CJ();var F=[this.root],eP=0;while(F.length!=0){var top=F.pop();eP++;
if(top.z.add.lsct==jR.ul)for(var O=0;O<top.children.length;O++)F.push(top.children[O])}if(eP>1e3){var r=this.root.children;
for(var O=0;O<r.length;O++)if(r[O].z.add.lsct==jR.ul)r[O].z.add.lsct=jR.Xz}};kQ.q_=function(F,r,$,C,M,l,k,d,I){if(d==null)d="sRGB IEC61966-2.1";
if(I==null)I=8;var c={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:C},artboard:{t:"bool",v:l},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:F*72/$}},Hght:{t:"UntF",v:{type:"#Rlt",val:r*72/$}},Rslt:{t:"UntF",v:{type:"#Rsl",val:$}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:M}},Dpth:{t:"long",v:I},profile:{t:"TEXT",v:d}}}};
if(M=="Clr")c.Nw.v.FlCl={t:"Objc",v:k};return{hE:"make",iH:c}};kQ.Co=["sRGB","Adobe RGB","ProPhoto RGB","Display P3"];
kQ.Bk=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"];kQ.lG=[null,"icc/adobe","icc/prophoto","icc/displayp3"];
kQ.ar2=function(F,r){var $=0,C=0,M=72,l=r.a5d,k=F.preset&&F.preset.v=="Clipboard",d=F.Dpth?F.Dpth.v:8;
if(k){$=l.r;C=l.$}else{$=F.Wdth.v.val;C=F.Hght.v.val;M=F.Rslt.v.val;$=Math.round($*M/72);C=Math.round(C*M/72)}var I=new kQ((F.Nm?F.Nm.v:dG.get([11,7]))+".psd");
I.r=$;I.$=C;I.YV=M;I.depth=d;var c=F.Fl?F.Fl.v.Fl:"Wht";if(F.artboard&&F.artboard.v){var Q=I.at();Q.Da(dG.get([1,16,0])+" 1");
Q.add.lsct=jR.ul;Q.HD(new cS(0,0,$,C));Q.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[c]};
if(c=="Clr")Q.add.artb.Clr={t:"Objc",v:j.qS.NG(j.qS.MB(F.FlCl.v))};Q.ww="pass";Q.U4=24;var x=I.at();
x.Da("Layer 1");I.C8([I.fm(),x,Q]);I._R(1);I.K=[1]}else if(gw==0){var U=I.at(),S=0;U.Da("Background");
I.C8([U]);U.add.lspf=1<<2;if(c=="Clr")S=j.qS.MB(F.FlCl.v);else if(c!="Trns"){var z=r.J2;S={Wht:{t:255,L:255,X:255},Blck:{t:0,L:0,X:0},BckC:{t:z>>>16,L:z>>>8&255,X:z&255}}[c]}if(S){U.S=new cS(0,0,$,C);
U.buffer=j.j($*C*4,d);en.Tx(U.buffer,j.qS.NG(S))}}if(gw==0)I.buffer=j.j($*C*4,d);var V=F.profile;if(V){var t=kQ.lG[kQ.Bk.indexOf(V.v)];
if(t)I.u4(dN.Sd.get(t))}if(gw==1)I.YV=72;return I};kQ.prototype.a9Q=function(){var F=this,r=F.add.arts=[],$=!0;
F.add.prvw=1;F.CJ();var C=F.root.children;for(var O=0;O<C.length;O++)if(!C[O].z.EX())$=!1;if(!$||F.u.length==0){F.u.unshift(F.fm());
var M=F.at();M.Da("Layer 1");M.add.lsct=jR.ul;M.ww="pass";M.U4=24;F.u.push(M);for(var O=0;O<F.K.length;
O++)F.K[O]++;F.Wk=!0}if(F.add.artd){delete F.add.artd;var l=[];for(var O=0;O<F.u.length;O++){var M=F.u[O],k=M.add.artb;
if(k==null)continue;var d=M.dh();delete M.add.artb;r.push({du:M.getName(),sc:[d.x,d.y,d.x+d.r,d.y+d.$],K:!1});
var I=k.artboardBackgroundType.v;if(I!=1&&I!=3){var c=F.root.yw(O).n9;l.push([c,I,d,j.qS.MB(k.Clr.v)])}}for(var O=0;
O<l.length;O++){var c=l[O][0],I=l[O][1],d=l[O][2],Q=l[O][3],M=F.at();M.Da("Background");M.add.vmsk=new Z.kf;
M.add.vmsk.M=j.w.tQ.Rect(d.x,d.y,d.r,d.$);M.add.vstk=cK.Ok.Mv(!0);M.add.vstl=cK.Jn.Mv();M.add.vstl.rK=[null,[1,1,1],[0,0,0],[],[Q.t/255,Q.L/255,Q.X/255],[1,1,1]][I];
M.ud();F.u.splice(F.u.indexOf(c)+1,0,M);F.CJ()}console.log(l)}else r.push({du:"Artboard",sc:[0,0,F.r,F.$],K:!1});
if(F.name.endsWith(".psd"))F.name=F.name.slice(0,-4)+".ai";if(F.buffer)F.buffer=null;for(var O=0;O<F.u.length;
O++){var M=F.u[O],d=M.S;if(M.EX()&&M.add.vmsk){var x=F.at();F.u.splice(O,0,x);x.Da("<Clipping Path>");
x.Ge=!0;x.add.vogk=M.add.vogk;delete M.add.vogk;x.add.vmsk=M.add.vmsk;delete M.add.vmsk;x.add.vstk=cK.Ok.Mv();
x.add.SoCo=JSON.parse(cK.sH[cK.order.indexOf("SoFi")]);x.add.vstl={};console.log("mask here!")}else if(M.add.SoLd&&M.add.vmsk){delete M.add.vmsk}else if(M.Og()&&M.add.vstl==null){if(M.add.vmsk==null){M.add.vmsk=new Z.kf;
M.add.vmsk.M=j.w.tQ.Rect(0,0,F.r,F.$);M.add.vstk=cK.Ok.Mv(!0);M.ud()}var U=M.add.vstl=kQ.mN(M.add)}delete M.add.lmfx;
if(M.add.SoLd||M.add.TySh||M.add.vmsk||d.XS())continue;var S=d.r,z=d.$,V=j.DG(M.buffer,S,z)?"JPG":"PNG";
if(S*z<700*700)V="PNG";var t=dN.LD(V).x2([[M.buffer.buffer]],S,z),Y=F.u[O]=F.eM(new Uint8Array(t),M.getName(),d.x,d.y);
Y.Gj(M.rR())}};kQ.mN=function(F,r){var $=F.vstk,I=null,c=null;if($==null)$=cK.Ok.Mv(!0);var C=cK.Ok.vS($),M=cK.Cj(F),l=cK.XC($);
function k(I){var V=j.qS.MB(I.Clr.v);return[V.t/255,V.L/255,V.X/255]}var d=F.lmfx;if(d)I=d.solidFillMulti.v[0];
if(I)I=I.v;if(I&&(!I.enab.v||I.Opct.v.val<50))I=null;if(d)c=d.frameFXMulti.v[0];if(c)c=c.v;if(c&&(!c.enab.v||c.Opct.v.val<50))c=null;
var Q=F.vmsk,x=Q?Q.M:j.w.tQ.Rect(0,0,r.r,r.$);for(var U=0;U<2;U++){var S=U==0?M:l,z=[];if(S.Ef==1)z=fv.L5(S.v$.Clr.v);
if(S.Ef==2){z=F[U==0?"_fstl":"_sstl"];if(z==null||gw==0)z=hq.ee(S.v$,x,r)}if(U==0&&I)z=k(I);if(U==1&&c){z=k(c);
C.WV=c.Sz.v.val;C.QK=cK.stroke.types.indexOf(c.Styl.v.FStl);C.Qn=1}if(U==0)C.rK=z;else C.XX=z}return C};
function ew(F){this.xB=F;this.bU=0;this.j3=1;this.p=new hx(0,0);this.b_=new hx(0,0);this.K$=0;this.BS=[1,1,1];
this.yo=0;this.FL=new cS(0,0,1,1);this.a24=new cS(0,0,F.r,F.$);this.dF=null;this.s6=null;this.TR=null;
this.tP=null;this.qn=null;this.Ye=null}ew.prototype.Md=function(){var F=this,r=F.FL.C();if(F.qn==null||F.qn.length!=r*4){F.tP=j.j(r);
F.qn=j.j(r*4)}};ew.prototype._c=function(F){var r=new hS,$=this.FL,C=this.xB,M=F?this.j3:this.bU,l=F?this.b_:this.p,k=Math.round(($.r-C.r*M)/2+l.x),d=Math.round(($.$-C.$*M)/2+l.y);
r.translate(-k,-d);r.scale(1/M,1/M);var I=C.r/2,c=C.$/2;r.translate(-I,-c);r.rotate(this.K$);r.translate(I,c);
return r};ew.prototype.aHc=function(F){var r=this.FL,$=this.xB,C=Math.atan2(-F.X,F.xz),M=$.r/2,l=$.$/2;
F.translate(-M,-l);F.rotate(-C);F.translate(M,l);var k=1/F.w5();F.scale(k,k);var d=-F.P6,I=-F.jw,c=Math.round(d-(r.r-$.r*k)/2),Q=Math.round(I-(r.$-$.$*k)/2);
if(Math.abs(k-Math.round(k))<1e-6)k=Math.round(k);this.K$=C;this.bU=k;this.p=new hx(c,Q)};ew.prototype.Ti=function(F,r,$){var C=this._c(),M=C.pI(new hx(F,r));
if($){M.x=Math.round(M.x);M.y=Math.round(M.y)}return M};ew.prototype.uc=function(F,r){var $=this._c();
$.v4();return $.pI(new hx(F,r))};function cK(){}cK.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh St3D".split(" ");
cK.Zb="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti St3DMulti".split(" ");
cK.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0],"3D"];cK.ams=["DrSh","IrSh","SoFi","GrFl","FrFX"];
cK.oz=["Clr"];cK.ap="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");cK.Vq=["Ptrn","Angl","Scl","Algn","phase"];
cK.Hn={$V:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",ad7:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",axA:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",a07:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",My:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"Default/orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\",\"t\":\"TEXT\"}}}"};
cK.Hn.$V="\"Clr\": "+cK.Hn.$V;cK.Hn.qS="\"Grad\":"+cK.Hn.ad7+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
cK.Hn.My="\"Ptrn\":"+cK.Hn.My+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
cK.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
cK.sH=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Default/orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"b4d43394-d71c-11e5-b1ae-a548a96e5f9f\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"overprint\":{\"t\":\"bool\",\"v\":false},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+cK.Hn.$V+","+cK.Hn.qS+","+cK.Hn.My+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+cK.Hn.$V+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+cK.Hn.qS+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+cK.Hn.My+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":  0,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true ,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Lineární\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"},\"Cntn\":{\"v\":false,\"t\":\"bool\"}}","{\"classID\":\"St3D\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":  0,\"t\":\"doub\"},\"Bl\":{\"v\":  0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":false,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 90},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Srnk\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},  \"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":90}},\"Drkn\":{\"v\":{\"type\":\"#Prc\",\"val\":25},\"t\":\"UntF\"} }"];
cK.qS={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
cK.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],s5:["SClr","GrFl","Ptrn"],a4D:[[13,0],[12,37],[12,62]]};
cK._g={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],aEi:["SrcC","SrcE"],awr:[[19,5,1],[12,69]]};cK.U7={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],aCj:["SfBL","PrBL","Slmt"],av3:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
cK.Ok={ao:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],Fk:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],zd:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!1},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pxl",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+cK.Hn.$V+"}")},strokeStyleResolution:{t:"doub",v:72}},Mv:function(F,r){var $=JSON.parse(cK.Ok.auB);
if(F)$.fillEnabled.v=!0;if(r)$.strokeEnabled.v=!0;return $},vS:function(F,r,$){if(r==null)r={};if($==null)$=1;
var C=F.strokeStyleLineDashSet.v,M=r.WV=F.strokeStyleLineWidth.v.val*$;r.cR=F.strokeStyleMiterLimit.v;
r.hY=F.strokeStyleLineDashOffset.v.val;r.Qn=cK.Ok.join.indexOf(F.strokeStyleLineJoinType.v.strokeStyleLineJoinType);
r.gE=cK.Ok.ao.indexOf(F.strokeStyleLineCapType.v.strokeStyleLineCapType);r.QK=cK.Ok.Fk.indexOf(F.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
r.x_=[];for(var O=0;O<C.length;O++)r.x_.push(C[O].v.val*M);if(r.x_.length==1&&r.x_[0]==0)r.x_=[];return r},write:function(F,r,$){if($==null)$=1;
var C=r.WV,M=r.cR,l=r.x_,k=r.hY,d=r.Qn,I=r.gE,c=r.QK;if(C!=null)C=F.strokeStyleLineWidth.v.val=Math.max(.4,C*$);
else C=F.strokeStyleLineWidth.v.val;if(c!=null)F.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cK.Ok.Fk[c];
if(M!=null)F.strokeStyleMiterLimit.v=M;if(l!=null)F.strokeStyleLineDashSet.v=en.TY(l,$/C);if(k!=null)F.strokeStyleLineDashOffset.v.val=k;
if(d!=null)F.strokeStyleLineJoinType.v.strokeStyleLineJoinType=cK.Ok.join[d];if(I!=null)F.strokeStyleLineCapType.v.strokeStyleLineCapType=cK.Ok.ao[I]}};
cK.Ok.auB=JSON.stringify(cK.Ok.default);cK.Jn={Mv:function(){return{rK:[1,1,1],XX:[0,0,0],WV:1,cR:10,x_:[],hY:0,Qn:0,gE:0,QK:1}},a0c:function(F){var r=ho.MB(F.StrokeColor),$=cK.Jn.Mv();
$.QK=F.FillFirst?1:2;var C=F._LineCap,M=F._LineJoin,l=F._MiterLimit,k=F._LineDashOffset,d=F._LineDashArray,I=F.OutlineWidth;
if(C)$.gE=C;if(M)$.Qn=M;if(l)$.cR=l;if(d)$.x_=d;if(I!=null)$.WV=I;$.XX=[r.t/255,r.L/255,r.X/255];return $},agV:function(F,r){r.FillFirst=F.QK==1;
r._LineCap=F.gE;r._LineJoin=F.Qn;r._MiterLimit=F.cR;r._LineDashArray=F.x_}};cK.XC=function(F){var r=F.strokeEnabled.v,$=F.strokeStyleContent.v;
return r?{Ef:1+cK.Ok.zd.indexOf($.classID),v$:$}:{Ef:0}};cK.iA=function(F,r){var $=r.Ef;F.strokeEnabled.v=$!=0;
if($!=0){F.strokeStyleContent.v=r.v$;r.v$.classID=cK.Ok.zd[$-1]}};cK.Cj=function(F){var r=F.vstk,$=null;
if(r&&!r.fillEnabled.v)$={Ef:0};else if(F.SoCo)$={Ef:1,v$:F.SoCo};else if(F.GdFl)$={Ef:2,v$:F.GdFl};
else if(F.PtFl)$={Ef:3,v$:F.PtFl};return $};cK.kt=function(F,r){var $=F.vmsk,C=F.vstk,M=r.Ef;if(C)C.fillEnabled.v=M!=0;
if(M>0){var l=["SoCo","GdFl","PtFl"][M-1];for(var O=0;O<3;O++)delete F[["SoCo","GdFl","PtFl"][O]];F[l]=r.v$}};
cK.zH=[{classID:"null",Clr:JSON.parse(cK.sH[5]).Clr},{classID:"null",Grad:JSON.parse(cK.sH[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(cK.sH[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var en={};en.aww=function(F,r){function $(F,U){if(F==null||!F.masterFXSwitch.v)return null;var S=F[U].v,z;
if(S.length!=0){z=S[0].v;if(!z.enab.v)z=null}return z}var C=r.SoCo,M=r.GdFl,l=$(F,"solidFillMulti"),k=$(F,"gradientFillMulti");
if(l==null&&k==null)return[C,M];var d=en.a9z;if(C&&l&&k==null){var I=j.N(C);I.Clr.v=d(l.Clr.v,C.Clr.v,l);
return[I,null]}if(M&&l&&k==null){var c=j.N(M),Q=c.Grad.v.Clrs.v;for(var O=0;O<Q.length;O++){var x=Q[O].v.Clr;
x.v=d(l.Clr.v,x.v,l)}return[null,c]}if(C&&k){var c=j.N(k),Q=c.Grad.v.Clrs.v;for(var O=0;O<Q.length;O++){var x=Q[O].v.Clr;
x.v=d(x.v,C.Clr.v,k)}return[null,c]}return[l,k]};en.X$={gQ:j.j(4),CG:j.j(4),t:new cS(0,0,1,1)};en.a9z=function(F,r,$){var C=dL.Gg($.Md.v.BlnM),M=$.Opct.v.val/100,l=en.X$;
F=j.qS.MB(F);r=j.qS.MB(r);l.gQ[0]=F.t;l.gQ[1]=F.L;l.gQ[2]=F.X;l.gQ[3]=255;l.CG[0]=r.t;l.CG[1]=r.L;l.CG[2]=r.X;
l.CG[3]=255;j.v.O5(C,l.gQ,l.t,l.CG,l.t,l.t,M);return{classID:"RGBC",Rd:{t:"doub",v:l.CG[0]},Grn:{t:"doub",v:l.CG[1]},Bl:{t:"doub",v:l.CG[2]}}};
en.agB=function(F,r,$){var C=F;F=F.slice(0);var M=dL.NH[dL.UI.indexOf(r.Md.v.BlnM)],l=j.qS.MB(r.Clr.v),k=4278190080|Math.round(l.X)<<16|Math.round(l.L)<<8|Math.round(l.t),d=j.j($.C()*4);
j.A9(d,k);j.v.O5(M,d,$,F,$,$,r.Opct.v.val/100);for(var O=0;O<F.length;O+=4)F[O+3]=C[O+3];return F};en.VQ=function(F,r){var $=["Sz","blur","Sftn","Dstn"];
for(var O=0;O<cK.order.length;O++){var C=cK.order[O],M=F[cK.Zb[O]].v;for(var l=0;l<M.length;l++){var k=M[l].v;
for(var d=0;d<$.length;d++){var I=k[$[d]];if(I){var c=I.v.val,Q=c;Q=Math.max(c==0?0:1,Q*r);if(C=="ChFX")Q=Math.min(Q,250);
if(C=="ebbl"){if($[d]=="blur")Q=Math.min(Q,250);if($[d]=="Sftn")Q=Math.min(Q,16)}I.v.val=Math.round(Q)}}if(C=="ebbl"||C=="patternFill"||C=="FrFX")if(k.Ptrn&&k.Scl)k.Scl.v.val=Math.max(1,Math.min(1e3,k.Scl.v.val*r))}}};
en.akk=function(F,r,$){var C=new cS(-.5,-.5,1,1);for(var O=0;O<cK.order.length;O++){var M=cK.order[O],l=F[cK.Zb[O]].v;
for(var k=0;k<l.length;k++){var d=l[k].v,x;if(!d.enab.v)continue;var I=d.blur?d.blur.v.val+1:0,c=d.Ckmt?d.Ckmt.v.val/100:0,Q=Math.round(I*c);
if(M=="DrSh"||M=="IrSh"&&$){x=new cS(-.5,-.5,1,1);x.lW(I,I);en.K_(x,d,r,0)}if(M=="St3D"){x=new cS(-.5,-.5,1,1);
en.K_(x,d,r,Math.PI,"Angl")}if(M=="OrGl"||M=="IrGl"&&$){x=new cS(-.5,-.5,1,1);x.lW(I,I)}if(M=="FrFX"){var U=en.jQ(d),S=U[1];
if($)S=Math.max(U[0],S);x=new cS(-.5,-.5,1,1);x.lW(Math.ceil(S),Math.ceil(S))}if(M=="ebbl"){var I=d.blur.v.val,z=d.bvlS.v.BESl;
if(z=="Embs"||z=="PlEb")I/=2;var V=["OtrB","InrB","Embs","PlEb","strokeEmboss"],t=["SfBL","PrBL","Slmt"],Y=["In","Out"],i=d.bvlT.v.bvlT!="SfBL"?I:I*.43,J=Math.round(I);
x=new cS(-J-1,-J-1,2*J+2,2*J+2)}if($&&M=="ChFX"){x=new cS(-.5,-.5,1,1);x.lW(I,I);var H=x.P();en.K_(x,d,r,0);
en.K_(H,d,r,Math.PI);x=x.DM(H)}if(x)C=C.DM(x)}}if(C.x!=Math.ceil(C.x)){C.x=Math.ceil(C.x);C.r-=1}if(C.y!=Math.ceil(C.y)){C.y=Math.ceil(C.y);
C.$-=1}C.r=Math.floor(C.r);C.$=Math.floor(C.$);return C};en.jQ=function(F){var r,$,C=0,M=0;if(F.Sz){r=F.Sz.v.val;
$=cK.stroke.types.indexOf(F.Styl.v.FStl)}else{r=F.Wdth.v;$=["Insd","Cntr","Otsd"].indexOf(F.Lctn.v.StrL)}if($==0)C=r;
if($==1)C=M=r/2;if($==2)M=r;return[C,M]};en.aGV=function(F,r){if(jp.mE&&F.xj==null){F.xj=new jp.fJ(F.W5.r,F.W5.$,r);
F.xj.set(F.fU);delete F.fU;if(F.W1){F.cy=new jp.fh(F.W5.r,F.W5.$,r);F.cy.set(F.W1);delete F.W1}if(F.UZ){F.CX=new jp.fh(F.W5.r,F.W5.$,r);
F.CX.set(F.UZ);delete F.UZ}}};en.a2b=function(F){if(F.xj)F.xj.delete();if(F.cy)F.cy.delete();if(F.CX)F.CX.delete()};
en.ahx=function(F){if(F.all==null)return;for(var O=0;O<F.all.length;O++){en.a2b(F.all[O])}};en.a7o=function(F,r,$,C,M,l){F=j.Mz(F,8);
var k=en.Ln($,C,F,r,M,l),d=M.depth;for(var O=0;O<k.all.length;O++){var I=k.all[O];I.fU=j.Mz(I.fU,d);
if(I.W1)I.W1=j.Mz(I.W1,d);if(I.UZ)I.UZ=j.Mz(I.UZ,d);en.aGV(I,d)}return k};en.agn=function(F){for(var O=0;
O<cK.order.length;O++){var r=cK.order[O],$=cK.Zb[O],C=F[$].v;for(var M=0;M<C.length;M++){var l=C[M].v;
if(l.enab.v&&["patternFill","GrFl","SoFi"].indexOf(r)==-1)return!0}}return!1};en.Ln=function(F,r,$,C,M,l){if(l==null)l=C;
var k=0,d=0;for(var O=0;O<cK.order.length;O++){var I=cK.order[O],c=cK.Zb[O],Q=F[c].v;for(var x=0;x<Q.length;
x++){var U=Q[x].v;if(I=="DrSh"&&U.enab.v&&U.Ckmt.v.val>0&&U.blur.v.val>0)k=Math.max(k,Math.ceil(U.Ckmt.v.val*U.blur.v.val/100));
if(I=="OrGl"&&U.enab.v&&U.Ckmt.v.val>0&&U.blur.v.val>0&&U.GlwT.v.BETE=="SfBL")k=Math.max(k,Math.ceil(U.Ckmt.v.val*U.blur.v.val/100));
if(I=="OrGl"&&U.enab.v&&U.blur.v.val>0&&U.GlwT.v.BETE=="PrBL")k=Math.max(k,U.blur.v.val);if(I=="FrFX"&&U.enab.v&&U.Sz.v.val>0){if(U.Styl.v.FStl=="OutF")k=Math.max(k,U.Sz.v.val);
if(U.Styl.v.FStl=="CtrF")k=Math.max(k,Math.ceil(U.Sz.v.val/2));d=Math.max(d,en.jQ(U)[1])}}}var S=new en.zE($,C,k,en.agn(F)),z=-C.x,V=-C.y,t={I:{},all:[]};
for(var Y=0;Y<cK.order.length;Y++){var I=cK.order[Y],c=cK.Zb[Y];t.I[I]=[];for(var i=F[c].v.length-1;
i>=0;i--){var J=F[c].v[i].v,G;if(!J.enab.v)continue;var H=J.blur?J.blur.v.val:0,v=J.Ckmt?J.Ckmt.v.val/100:0,n=H*v;
if(I=="St3D"){var g=Math.max(1e-4,1-J.Srnk.v.val/100),R=2,hd=0;function W(L,i0,J){var gJ=J.Angl.v.val;
gJ*=Math.PI/180;var A=J.Dstn.v.val,gS=Math.cos(gJ)*A,e5=-Math.sin(gJ)*A,h5=g+i0*(1-g),am=new hS;am.translate(-L.r/2,-L.$/2);
am.scale(h5,h5);am.translate(L.r/2,L.$/2);am.translate((1-i0)*gS,(1-i0)*e5);return am}var L=C.P(),b=$;
L.x=L.y=0;var T=Date.now(),a=L.P();a.lW(R,R);var D=j.j(a.C());j.wU(b,L,D,a);a.x=a.y=0;j.Zi.eO(D,a,2);
var h=j.j(a.C()*4);h.fill(255);j.Wn(D,h);var K=j.j(L.C()),X=L.r,w=L.$,N=a.r,s=en.ac5(J,M),A=Math.cos(s[1]),p=-Math.cos(s[0])*A,q=Math.sin(s[0])*A;
if(Math.abs(p)<.001&&Math.abs(q)<.001)p=q=0;for(var f=0;f<w;f++)for(var e=0;e<X;e++){var O=(f+R)*N+e+R,o=D[O+1]-D[O-1],E=D[O+N]-D[O-N],cj=o*o+E*E;
if(cj>10){var u=1/Math.sqrt(cj);K[f*X+e]=Math.max(0,Math.min(255,128+127*(p*u*o+q*u*E)))}}var cd=[b,L],m=W(L,0,J),aZ=j.b.Vs(L).n,jN=aZ.slice(0);
j.b.U(aZ,m,jN);var eh=L.DM(j.b.qy(jN)),iA=j.j(eh.C()*4);for(var O=0;O<8;O+=2){var o=aZ[O]-jN[O],E=aZ[O+1]-jN[O+1];
hd=Math.max(hd,Math.sqrt(o*o+E*E))}var kx=Math.round(hd/2),b0=j.qS.MB(J.Clr.v);b0.t/=255;b0.L/=255;b0.X/=255;
var gX=J.Drkn.v.val/100;for(var j$=0;j$<kx;j$++){var i0=j$/kx,f7=1-gX+i0*gX,am=W(L,i0,J),gf=L.P(),cC=b;
if(g!=1){var aD=B.hL.F_(cd,am);gf=aD.S;cC=aD.G}else{var c_=am.pI(new hx(0,0));gf.x+=Math.round(c_.x);
gf.y+=Math.round(c_.y)}var a9=j.j(gf.C()*4);if(p!=0||q!=0){var jz=gf.r,g3=gf.$,e3=b0.t,c1=b0.L,dI=b0.X,kJ=am.P();
kJ.v4();var cA=kJ.pI(new hx(.5,.5)),c2=kJ.pI(new hx(1.5,1.5)),o=c2.x-cA.x,E=c2.y-cA.y;for(var f=0;f<g3;
f++){for(var e=0;e<jz;e++){var O=f*jz+e,ee=O*4,hF=Math.max(0,Math.min(X-1,~~(.5+o*e))),ic=Math.max(0,Math.min(w-1,~~(.5+E*f))),eH=K[ic*X+hF],kz=-1+2*eH*(1/255),kq=-kz,a7=0;
if(kz>0){kq=0;a7=kz}a9[ee]=255*(1-kq)*(a7+(1-a7)*e3)*f7;a9[ee+1]=255*(1-kq)*(a7+(1-a7)*c1)*f7;a9[ee+2]=255*(1-kq)*(a7+(1-a7)*dI)*f7}}}else en.Tx(a9,J.Clr.v,f7);
j.dr(cC,a9,3);j.v.O5("norm",a9,gf,iA,eh,gf,1)}G={fU:iA,W5:eh}}else if(I=="DrSh"){var i6=S.xs(n,H-n,!0),hm=i6.iN,bB=i6.OV.P();
en.Nj(hm,J,!1);if(J.Cntn&&J.Cntn.v){var iV=new cS;en.K_(iV,J,M,0);var eO=bB.P();eO.offset(-iV.x,-iV.y);
eO=eO.DM(bB);var aC=j.j(eO.C());j.wU(hm,bB,aC,eO);var fq=Math.sqrt(iV.x*iV.x+iV.y*iV.y),bX=hm.slice(0);
for(var O=0;O<fq-1;O++){var o=Math.round(-iV.x*O/fq),E=Math.round(-iV.y*O/fq),gb=i6.OV.P();gb.offset(o,E);
j.apS(bX,gb,aC,eO)}hm=aC;bB=eO}bB.offset(z,V);en.K_(bB,J,M,0);var iA=j.j(bB.C()*4);en.Tx(iA,J.Clr.v);
j.dr(hm,iA,3);G={fU:iA,W5:bB,apv:J.layerConceals.v}}else if(I=="IrSh"){var i6=S.xs(n,H-n,!1);en.K_(i6.OV,J,M,0);
var bB=S.S().P(),hm=j.j(bB.C());hm.fill(255);j.wU(i6.iN,i6.OV,hm,bB);en.Nj(hm,J,!0,!0);var iA=j.j(bB.C()*4);
en.Tx(iA,J.Clr.v);j.dr(hm,iA,3);bB.offset(z,V);G={fU:iA,W5:bB}}else if(I=="GrFl"){var iA=j.j(S.S().C()*4);
en.VZ(J,iA,S.S(),M,null,l);var bB=S.S().P();bB.offset(z,V);G={fU:iA,W5:bB}}else if(I=="SoFi"){var iA=j.j(S.iN().length*4);
en.Tx(iA,J.Clr.v);var bB=S.S().P();bB.offset(z,V);G={fU:iA,W5:bB}}else if(I=="ebbl"){var dX=!1;if(dX)console.log(J);
var T=Date.now(),cb=T,e6=J.bvlS.v.BESl,gn=J.bvlT.v.bvlT;if(e6=="strokeEmboss"){var a2=F.frameFXMulti.v;
if(a2.length==0)continue;a2=a2[0].v;if(!a2.enab.v)continue;var kf=a2.Styl.v.FStl;if(kf=="OutF")e6="OtrB";
if(kf=="CtrF")e6="Embs";if(kf=="InsF")e6="InrB"}var H=J.blur.v.val;if(H==0)H=.7;if(e6=="Embs"||e6=="PlEb")H/=2;
var dj=["OtrB","InrB","Embs","PlEb","strokeEmboss"],hr=["SfBL","PrBL","Slmt"],iB=["In","Out"],dm=gn!="SfBL"?H:H*.45,fr=Math.round(H),dv=S.S().P(),hw=dv.P();
hw.lW(fr,fr);var X=hw.r,w=hw.$,gT=X*w,cu=j.j(gT);j.wU(S.iN(),dv,cu,hw);var ha=j.style.jh(cu,X,w);j.v4(cu);
var g1=j.style.jh(cu,X,w);if(dX)console.log("distTransform computed",Date.now()-T);T=Date.now();en.a0I(dm,ha,g1);
if(dX)console.log("summing + cropping",Date.now()-T);T=Date.now();if(gn=="SfBL"){var dd=Math.pow(H*.21,1.22);
if(!0)dd=Math.max(dd,2);j.Zi.eO(g1,hw,dd,2)}if(dX)console.log("blurring",Date.now()-T);T=Date.now();
var gj=g1,es=ha;es.set(gj);if(J.useShape.v){var hV=Math.min(100,J.Inpr.v.val+1)/100;if(e6!="OtrB"&&e6!="InrB")hV=1;
var fx=j.Jw.kT(J.MpgS.v.Crv.v,2e3),iK=Math.round(2e3/hV);fx=j.Jw.ayr(fx,iK,e6=="InrB");var eX=.5/dm;
for(var O=0;O<gT;O++){var bo=gj[O],f8=.99999*(bo+dm)*eX;gj[O]=-dm+2*dm*fx[~~(f8*(iK-1))]}if(dX)console.log("applying shape",Date.now()-T);
T=Date.now()}if(J.useTexture.v){var a9=j.j(X*w*4);en.Ui(J,a9,hw,M.add.Patt,r);var dT=j.j(X*w);j.R2(a9,dT);
j.Zi.e8(dT,hw,1);var it=H*J.textureDepth.v.val*(1/100)*(1/255);if(J.InvT.v)it=-it;for(var O=0;O<gT;O++)gj[O]+=-it*dT[O];
if(dX)console.log("applying texture",Date.now()-T);T=Date.now()}var b_=e6=="PlEb",cU=new Float32Array(gT),iO=cU;
if(b_){iO=new Float32Array(gT)}var aV=en.aA8(X,w,J,M,gj,cU,iO,b_);if(dX)console.log("raycasting",Date.now()-T);
T=Date.now();if(J.Sftn.v.val!=0){j.Zi.eO(cU,hw,J.Sftn.v.val*.43,2);if(b_)j.Zi.eO(iO,hw,J.Sftn.v.val*.43,2)}if(dX)console.log("softening",Date.now()-T);
T=Date.now();var jD=new Uint8Array(cU.buffer),bJ=new Uint32Array(jD.buffer),gZ=new Uint8Array(gj.buffer),aK=new Uint32Array(gZ.buffer),g5=jD,j9=gZ,ir=bJ,ig=aK;
if(b_){g5=new Uint8Array(iO.buffer);ir=new Uint32Array(g5.buffer);j9=new Uint8Array(es.buffer);ig=new Uint32Array(j9.buffer)}en.amn(J,X,w,aV,dm,b_,es,bJ,aK,ir,ig,cU,iO);
if(dX)console.log("baking textures",Date.now()-T);T=Date.now();hw=S.S().P();hw.lW(fr,fr);hw.offset(z,V);
G={azH:J.bvlS.v.BESl=="strokeEmboss"};var aT=dL.Gg(J.hglM.v.BlnM),de=J.hglO.v.val/100,fJ=dL.Gg(J.sdwM.v.BlnM),kA=J.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(e6)!=-1){G.uX={fU:jD,W5:hw,uN:aT,Lk:de};G.Sr={fU:gZ,W5:hw,uN:fJ,Lk:kA}}if(["OtrB","Embs","PlEb"].indexOf(e6)!=-1){G.X2={fU:g5,W5:hw,uN:aT,Lk:de};
G.iR={fU:j9,W5:hw,uN:fJ,Lk:kA}}if(dX)console.log(Date.now()-cb)}else if(I=="patternFill"){var c5=S.S(),iA=j.j(c5.C()*4);
en.Ui(J,iA,c5,M.add.Patt,r);var bB=c5.P();bB.offset(z,V);G={fU:iA,W5:bB}}else if(I=="ChFX"){var iA=j.j(S.iN().length*4);
en.Tx(iA,J.Clr.v);var H=J.blur.v.val,iD=S.S().P();iD.lW(H,H);var fA=j.j(iD.C());j.wU(S.iN(),S.S(),fA,iD);
j.Zi.eO(fA,iD,H*.43);var eV=j.Jw.v9(J.MpgS.v.Crv.v,256,!0);j.a5s(fA,eV);var gY=j.j(S.iN().length),k2=j.j(S.iN().length),fm=S.S().P();
en.K_(fm,J,M,0);j.wU(fA,iD,gY,fm);fm=S.S().P();en.K_(fm,J,M,Math.PI);j.wU(fA,iD,k2,fm);var j_=gY.length;
for(var O=0;O<j_;O++)iA[4*O+3]=Math.abs(gY[O]-k2[O]);if(J.Invr.v)for(var O=0;O<j_;O++)iA[4*O+3]=255-iA[4*O+3];
var bB=S.S().P();bB.offset(z,V);G={fU:iA,W5:bB}}else if(I=="OrGl"){var i6;if(J.GlwT.v.BETE=="SfBL")i6=S.xs(n,H-n,!0);
else i6=S.ag0(H,v,!0);var hm=i6.iN,bB=i6.OV,fD=hm.slice(0);en.avU(hm,J);var iA=j.j(bB.C()*4);if(J.Grad==null){en.Tx(iA,J.Clr.v);
en.Nj(hm,J,!1)}else{en.Nj(hm,J,null);var kP={l3:hm,lH:255,Y2:0,JR:bB};en.VZ(J,iA,bB,M,kP);var iC=J.Nose.v.val/100,eQ=bB.r;
for(var O=0;O<fD.length;O++){var ip=255,dU=fD[O];if(dU<32){var jt=(dU+fD[O-1]+fD[O+1]+fD[O-eQ]+fD[O+eQ])*.2-1;
ip=Math.min(255,Math.round(Math.max(0,jt)*8))}hm[O]=ip}en.a0W(hm,J)}j.dr(hm,iA,3);bB.offset(z,V);G={fU:iA,W5:bB}}else if(I=="IrGl"){var i6;
if(J.GlwT.v.BETE=="SfBL")i6=S.xs(n,H-n,!1);else i6=S.ag0(H,v,!1);var hm=i6.iN,bB=i6.OV;en.avU(hm,J);
if(J.glwS.v.IGSr=="SrcC")j.v4(hm);var iA=j.j(bB.C()*4);if(J.Grad==null){en.Tx(iA,J.Clr.v);en.Nj(hm,J,!0)}else{en.Nj(hm,J,null);
var kP={l3:hm,lH:255,Y2:0,JR:bB};en.VZ(J,iA,bB,M,kP);hm.fill(255);en.a0W(hm,J)}j.dr(hm,iA,3);bB.offset(z,V);
G={fU:iA,W5:bB}}else if(I=="FrFX"){var hy=en.jQ(J),jh=hy[0],fs=hy[1],bB=S.S().P(),eL=null,h_=null;bB.lW(Math.ceil(d),Math.ceil(d));
if(fs>0){var i6=S.xs(fs,0,!0);h_=i6.iN;if(h_.length<bB.C()){h_=j.j(bB.C());j.wU(i6.iN,i6.OV,h_,bB)}}if(jh>0){var i6=S.xs(jh,0,!1);
eL=j.j(bB.C());eL.fill(255);j.wU(i6.iN,i6.OV,eL,bB)}bB.offset(z,V);var iA=j.j(bB.C()*4),fS=J.PntT.v.FrFl;
if(fS=="SClr")en.Tx(iA,J.Clr.v);if(fS=="GrFl")en.VZ(J,iA,bB,M,S.aAm(jh,fs));if(fS=="Ptrn")en.Ui(J,iA,bB,M.add.Patt,r);
var jH=J.overprint,iW=jH?jH.v:!1;if(iW){var hl=eL?eL:h_;if(eL&&h_)j.nu.R7(eL,h_,hl);j.dr(hl,iA,3)}G={fU:iA,W5:bB,UZ:h_,W1:eL,ad6:iW}}t.I[I].push(G);
if(I=="ebbl"){if(G.uX)t.all.push(G.uX,G.Sr);if(G.X2)t.all.push(G.X2,G.iR)}else{G.uN=dL.Gg(J.Md.v.BlnM);
G.Lk=J.Opct.v.val/100,t.all.push(G)}}}return t};en.B9=function(F){var r=1/Math.sqrt(F.x*F.x+F.y*F.y+F.Ar*F.Ar);
F.x*=r;F.y*=r;F.Ar*=r};en.a47=function(F,r){return{x:F.y*r.Ar-F.Ar*r.y,y:F.Ar*r.x-F.x*r.Ar,Ar:F.x*r.y-F.y*r.x}};
en.akj=function(F,r){return F.x*r.x+F.y*r.y+F.Ar*r.Ar};en.a0W=function(F,r){var $=r.Nose.v.val/100;if($>0)for(var O=0;
O<F.length;O++){var C=F[O];C=Math.min(510-(1+$)*j.style.oD(O),C);F[O]=C}};en.a0I=function(F,r,$){var C=r.length;
for(var O=0;O<C;O++){var M=$[O]-r[O];$[O]=M}for(var O=0;O<C;O++){var M=$[O];if(M<-F)$[O]=-F;else if(M>F)$[O]=F}};
en.aA8=function(F,r,$,C,M,l,k,d){var I=en.ac5($,C),c=I[0],Q=I[1],x=Math.cos(c)*Math.cos(Q),U=-Math.sin(c)*Math.cos(Q),S=Math.sin(Q);
l.fill(S);if(d)k.fill(S);var z=($.bvlT.v.bvlT=="SfBL"?1:.5)*($.bvlD.v.BESs=="In"?1:-1)*$.srgR.v.val/100,V=-.125*z;
for(var t=0;t<r;t++){var Y=t==0?0:-F,i=t==r-1?0:F,O=t*F;for(var J=0;J<F;J++,O++){var H=J==0?O:O-1,v=J==F-1?O:O+1,n=M[v]-M[H],G=M[O+i]-M[O+Y];
if(n*n+G*G<.005)continue;var g=M[H+Y],W=M[v+Y],L=M[H+i],b=M[v+i],T=V*(W+2*n+b-g-L),a=V*(L+2*G+b-g-W),R=1/Math.sqrt(T*T+a*a+1);
T*=R;a*=R;l[O]=Math.max(0,T*x+a*U+R*S);if(d)k[O]=Math.max(0,-T*x-a*U+R*S)}}return S};en.amn=function(F,r,$,C,M,l,k,d,I,c,Q,x,U){var S=1/C,z=1/(1-C),V=1/M,t=j.Jw.kT(F.TrnS.v.Crv.v,1024),Y=en.Cu(F.hglC.v,0),i=en.Cu(F.sdwC.v,0),J=new Float32Array(2500);
for(var O=0;O<2500;O++){var H=Math.max(0,Math.min(1,(O-500)*.001));J[O]=Math.pow(H,.2)}var v=new Float32Array(1024),n=new Float32Array(1024);
for(var O=0;O<1024;O++){var G=t[O];v[O]=255*(1-Math.min(1,G*S));n[O]=255*(1-Math.min(1,(1-G)*z))}for(var g=0;
g<$;g++)for(var H=0;H<r;H++){var O=g*r+H,W=(k[O]+M*.993)*V,L=J[~~(500+W*1e3)],b=~~(x[O]*1023),T=L*v[b],a=L*n[b];
I[O]=~~(.5+T)<<24|i;d[O]=~~(.5+a)<<24|Y;if(l){b=~~(U[O]*1023);T=L*v[b];a=L*n[b];Q[O]=~~(.5+T)<<24|i;
c[O]=~~(.5+a)<<24|Y}}};en.gL=function(F){var r=en.bX(),$=F.nb,C=!1;for(var O=0;O<32;O+=8)if($[O]+$[O+1]+$[O+4]+$[O+5]!=0||$[O+2]+$[O+3]+$[O+6]+$[O+7]!=1020)C=!0;
if(C){$=$.slice(0);for(var O=0;O<40;O+=4){var M=$[O]/255,l=$[O+1]/255,k=$[O+2]/255,d=$[O+3]/255;$[O]=M-.001;
$[O+1]=M==l?1e6:1/(l-M);$[O+2]=k==d?-1e6:1/(k-d);$[O+3]=d+.001}}var I=F.add.iOpa!=null?F.add.iOpa/255:r.fill,c=F.add.vstk;
if(c&&!c.fillEnabled.v&&(!c.strokeEnabled.v||c.strokeStyleLineWidth.v.val==0))I=0;return{fill:I,Ch:C?$:null,q5:F.add.brst!=null?F.add.brst:r.q5,ash:F.add.knko!=null?F.add.knko:r.ash,style:!1,l_:!1}};
en.bX=function(){return{fill:1,Ch:null,q5:[1,1,1],ash:0,style:!1,l_:!1}};en.atC=function(F,r,$,C,M,l,k,d){if(d==null)d=1;
if(k==null)k=new hS;var I=F.t6[1].r,c=F.t6[1].$,Q=new hS,x=M<2;if(x)Q.translate(-I/2,-c/2);if(M==0){d*=Math.max($/I,C/c)}else if(M==1){d*=Math.min($/I,C/c)}else if(M==2){Q.scale(1/I,1/c);
Q.concat(k);Q.scale($,C)}else if(M==3){d=d}Q.scale(d,d);if(x)Q.translate($/2,C/2);Q.concat(l);r.Ptrn.v.Idnt.v=F.id;
r.Scl.v.val=Math.round(100*Q.w5());r.Angl.v.val=Math.round(180*Math.atan2(-Q.X,Q.xz)/Math.PI);r.Algn.v=!0;
var U=r.phase.v;U.Hrzn.v=Math.round(Q.P6);U.Vrtc.v=Math.round(Q.jw)};en.Qv=function(F,r){if(r==null)return null;
var $=F.Idnt.v,C=F.Nm.v;for(var O=0;O<r.length;O++)if(r[O].id==$)return r[O];for(var O=0;O<r.length;
O++)if(r[O].name==C)return r[O];return null};en.azy=function(F,r,$){var C=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var O=0;O<C.length;O++){var M=F.v[C[O]].v;for(var l=0;l<M.length;l++)if(M[l].v.Ptrn)r.o0(en.Qv(M[l].v.Ptrn.v,$))}};
en.auV=function(F,r,$){var C=["patternFillMulti","ebblMulti","frameFXMulti"];for(var O=0;O<C.length;
O++){var M=F.v[C[O]].v;for(var l=0;l<M.length;l++)if(M[l].v.Ptrn){var k=M[l].v.Ptrn.v,d=en.Qv(k,$),I=en.Qv(k,r.add.Patt);
if(d==null&&I)$.push(I)}}};en.Ui=function(F,r,$,C,M){if(F.Ptrn==null)return;var l=en.Qv(F.Ptrn.v,C);
if(l!=null&&!$.XS()){var k=l.t6,d=k[0],I=k[1],c=0;j.zY(k);var Q=(F.Scl?F.Scl.v.val:100)/100;while((Q<.3||Q==.5)&&k[c+2]){Q*=I.r/k[c+3].r;
c+=2;d=k[c];I=k[c+1]}var x=j.scale.Ui(d,I.r,I.$),U=F.phase?F.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},S=F.Angl?F.Angl.v.val:0,z=-$.x+U.Hrzn.v-1,V=-$.y+U.Vrtc.v-1;
if(F.Algn!=null&&!F.Algn.v){}else if(M){z+=M.x;V+=M.y}if(r)j.scale.a1r(x,r,$.r,$.$,Q,Q,z+1,V+1,S*Math.PI/180);
else return[x,Q,z+1,V+1,S*Math.PI/180]}};en.VZ=function(F,r,$,C,M,l,k,d){if(l==null)l=$;var I=F.Type?F.Type.v.GrdT:"shapeburst",c=F.Algn&&F.Algn.v?l:new cS(0,0,C.r,C.$),Q=F.Angl?j.qS.a4t(F,c):[new hx(0,0),new hx(100,0)],x=Q[0].x,U=Q[0].y,S=Q[1].x-x,z=Q[1].y-U,V=Math.sqrt(S*S+z*z);
V=1/(2*V*V);var t=[S*V,z*V,-z*V,S*V],Y=F.Rvrs?F.Rvrs.v:!1,i=F.Dthr?F.Dthr.v:!1;j.qS.T0(F.Grad.v,r,$,t,x,U,Y,cK.qS.types.indexOf(I),k==null?0:k,d==null?0:d,M,i)};
en.aJb=function(F,r,$){for(var O=0;O<F.all.length;O++){var C=F.all[O];C.U0=C.W5.P();C.U0.offset(r,$)}};
en.aHm=function(F,r,$,C,M,l){var k=jp.mE?en.anU:en.aFf;en.aJb(r,$.x,$.y);var d=r.I.DrSh;for(var O=0;
O<d.length;O++)if(!d[O].apv)k(d[O],C,M,l)};en.agu=function(F,r,$,C,M,l,k,d,I,c){var Q=$,x=jp.mE?en.anU:en.aFf,U=jp.mE?jp.v.I1:j.v.RS,S;
S=r.I.DrSh;for(var O=0;O<S.length;O++)if(S[O].apv)x(S[O],C,M,l);S=r.I.St3D;for(var O=0;O<S.length;O++)x(S[O],C,M,l);
S=r.I.OrGl;for(var O=0;O<S.length;O++)x(S[O],C,M,l);var z="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");
for(var V=0;V<z.length;V++){var S=r.I[z[V]];for(var O=0;O<S.length;O++)x(S[O],k,Q,l)}var t=r.I.ebbl[0],Y=t!=null&&t.azH;
S=r.I.FrFX;for(var O=0;O<S.length;O++){var i=S[O];dt.eX.wU(d,c,I,c,l);x(i,I,c,l);if(Y&&O==S.length-1){if(t.iR)x(t.iR,I,c,l);
if(t.X2)x(t.X2,I,c,l);if(t.Sr)x(t.Sr,I,c,l);if(t.uX)x(t.uX,I,c,l)}if(i.ad6){if(i.W1||i.cy){x(i,k,Q,l)}if(i.UZ||i.CX){x(i,C,M,l)}}else{if(i.W1||i.cy)U(I,c,k,Q,jp.mE?i.cy:i.W1,i.U0,0,l,1);
if(i.UZ||i.CX)U(I,c,C,M,jp.mE?i.CX:i.UZ,i.U0,0,l,1)}}if(!Y&&t!=null){if(t.iR)x(t.iR,C,M,l);if(t.X2)x(t.X2,C,M,l);
if(t.Sr)x(t.Sr,k,Q,l);if(t.uX)x(t.uX,k,Q,l)}};en.aFf=function(F,r,$,C){var M=en.bX();M.fill=F.Lk;M.style=!0;
j.v.O5(F.uN,F.fU,F.U0,r,$,C,1,M)};en.anU=function(F,r,$,C){var M=en.bX();M.fill=F.Lk;M.style=!0;jp.v.aEv(F.uN,F.xj,F.U0,r,$,C,1,M)};
en.avU=function(F,r){var $=1-r.Inpr.v.val/100,C=1+Math.tan($*(Math.PI/2)),M=F.length;for(var O=0;O<M;
O++)F[O]=Math.min(255,Math.round(F[O]*C))};en.Nj=function(F,r,$,C){var M=r.blur.v.val,l=Math.round(M*(r.Ckmt.v.val/100));
if(M>l){var k=j.Jw.v9(r.TrnS.v.Crv.v,256,C!=!0);j.a5s(F,k)}if($!=null&&r.Nose.v.val>0)j.style.o8(F,r.Nose.v.val/100,$)};
en.Cu=function(F,r,$){var C=j.qS.MB(F);if($!=null){C.t=Math.round(C.t*$);C.L=Math.round(C.L*$);C.X=Math.round(C.X*$)}return r<<24|C.X<<16|C.L<<8|C.t};
en.Tx=function(F,r,$){var C=j.cN(F);if(C==8)new Uint32Array(F.buffer).fill(en.Cu(r,255,$));else{var M=j.qS.MB(r),l=($==null?1:$)/255;
j._8(F,M.t*l,M.L*l,M.X*l);j.SP(F,1)}};en.K_=function(F,r,$,C,M){var l=r.uglg&&r.uglg.v?$.e4():r[M?M:"lagl"].v.val;
l=l*Math.PI/180+C;var k=Math.cos(l)*r.Dstn.v.val,d=Math.sin(l)*r.Dstn.v.val;F.x-=Math.round(k);F.y+=Math.round(d)};
en.ac5=function(F,r){var $=F.uglg&&F.uglg.v?r.e4():F.lagl.v.val;$=$*(Math.PI/180);var C=F.uglg&&F.uglg.v?r.bh():F.Lald.v.val;
C=C*(Math.PI/180);return[$,C]};en.a8x=function(F){if(F==null||!F.masterFXSwitch.v)return null;var r=F.frameFXMulti.v,$=null;
for(var O=0;O<r.length;O++)if(r[O].v.enab.v)$=r[O].v;if($==null)return null;var C=cK.Ok.Mv();en.aq3($,C);
return C};en.aq3=function(F,r){var $=cK.stroke.s5.indexOf(F.PntT.v.FrFl),C=[cK.oz,cK.ap,cK.Vq][$],M=r.strokeStyleContent.v={classID:cK.Ok.zd[$]};
for(var O=0;O<C.length;O++)M[C[O]]=F[C[O]];r.strokeEnabled=F.enab;r.strokeStyleLineWidth=F.Sz;r.strokeStyleLineAlignment.v.strokeStyleLineAlignment=cK.Ok.Fk[cK.stroke.types.indexOf(F.Styl.v.FStl)];
r.strokeStyleOpacity=F.Opct;r.strokeStyleBlendMode=F.Md;r.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
en.TY=function(F,r){var $=[];for(var O=0;O<F.length;O++)$.push({t:"UntF",v:{type:"#Nne",val:F[O]*r}});
return $};en.aqm=function(F,r){var $=F.gk/255*(F.add.iOpa?F.add.iOpa/255:1),C=F.add.TySh,M=F.EX()||F.Og()&&F.add.vmsk&&F.add.vstk.fillEnabled.v&&F.add.vstk.strokeEnabled.v;
if(C){var l=C.$E.EngineDict.StyleRun.RunArray,k=l[0].StyleSheet.StyleSheetData,d=0;if(k.FillFlag)d++;
if(k.StrokeFlag)d++;if(k._FillBackgroundFlag)d++;if(d>1)M=!0}return M&&(r||$!=1||F.ww!="pass"&&F.ww!="norm")};
en.zE=function(F,r,$,C){this.B3=r.P();this.a8L=r.P();this.a8L.lW($,$);if(C){this.B3.lW(1,1);this.aCn=j.j(this.B3.C());
j.wU(F,r,this.aCn,this.B3)}else this.aCn=F;this.L7=null;this.iJ=null;this.r9=null};en.zE.prototype.iN=function(){return this.aCn};
en.zE.prototype.S=function(){return this.B3};en.zE.prototype.LE=function(){return this.a8L};en.zE.prototype.kK=function(){if(this.L7)return this.L7;
this.L7=this.iN().slice(0);j.v4(this.L7);return this.L7};en.zE.prototype.l8=function(){if(this.iJ)return this.iJ;
this.iJ=j.style.jh(this.kK(),this.S().r,this.S().$);return this.iJ};en.zE.prototype.LW=function(){if(this.r9)return this.r9;
var F=this.LE(),r=j.j(F.C());j.wU(this.iN(),this.S(),r,F);var $=Date.now();this.r9=j.style.jh(r,F.r,F.$);
return this.r9};en.zE.prototype.aAm=function(F,r){var $={lH:-r,Y2:F,JR:null,l3:null};if(r==0){$.JR=this.S();
$.l3=this.l8();return $}var C=this.LW().slice(0),M=this.LE();$.JR=M;$.l3=C;for(var O=0;O<C.length;O++)C[O]=-C[O];
if(F==0)return $;var l=this.l8(),k=this.S();for(var d=0;d<k.$;d++)for(var I=0;I<k.r;I++){var c=d*k.r+I,Q=(d+k.y-M.y)*M.r+I+k.x-M.x;
C[Q]+=l[c]}return $};en.zE.prototype.xs=function(F,r,$){var C=Math.ceil(F+r),M={OV:this.S().P(),iN:null};
M.OV.lW(C,C);M.iN=j.j(M.OV.C());if(F==0&&r==0)j.Jx($?this.iN():this.kK(),M.iN);else{var l=M.iN;j.wU(this.iN(),this.S(),l,M.OV);
if(!$)j.v4(l);if(F!=0){if($)j.style.u9(l,M.OV,this.LW(),this.LE(),F);else j.style.u9(l,M.OV,this.l8(),this.S(),F)}if(r!=0)j.Zi.eO(l,M.OV,Math.max(1,r*.43))}return M};
en.zE.prototype.ag0=function(F,r,$){var C=F*(r-.5),M={OV:this.S().P(),iN:null};if($)M.OV.lW(F,F);M.iN=j.j(M.OV.C());
var l=M.OV.r,k=M.OV.$,d=$?this.LW():this.l8(),I=$?this.LE():this.S(),c=M.OV,Q=c.R7(I),l=Q.r,k=Q.$,x=Q.x-c.x,U=Q.y-c.y,S=Q.x-I.x,z=Q.y-I.y,V=1-r*2;
for(var t=0;t<k;t++)for(var Y=0;Y<l;Y++){var i=d[(t+z)*I.r+Y+S],J=i/F;M.iN[(t+U)*c.r+Y+x]=Math.max(0,Math.min(255,255-255*((J+V)/(1+V))))}return M};
en.a8c=function(F,r,$,C){var M=F.Lefx,l=F.blendOptions;if(M){var k=r.add.lmfx;if($==null)$=k?k.Scl.v.val:100;
r.add.lmfx=j.N(M.v);if(r.add.lmfx.Scl==null)r.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};en.VQ(r.add.lmfx,$/r.add.lmfx.Scl.v.val);
if(k)r.add.lmfx.Scl.v.val=k.Scl.v.val;var d=M.v.gagl;if(d&&C)C.Rf(d.v.val)}else delete r.add.lmfx;if(l){l=l.v;
if(l.Md)r.ww=dL.Gg(l.Md.v.BlnM);if(l.Opct)r.gk=Math.round(l.Opct.v.val*255/100);if(l.fillOpacity)r.add.iOpa=Math.round(l.fillOpacity.v.val*255/100);
if(l.Blnd){var I=[];for(var O=0;O<10;O++)I.push(0,0,255,255);var c=l.Blnd.v,Q="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var O=0;O<c.length;O++){var x=c[O].v,U=8*["Gry","Rd","Grn","Bl"].indexOf(x.Chnl.v[0].v.enum);for(var S=0;
S<8;S++){I[U+S]=x[Q[S]].v}}r.nb=I}}};en.aJO=function(F){var r="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),$=[],C=F.nb;
for(var O=0;O<4;O++){var M=O*8;if(C[M]+C[M+1]+C[M+4]+C[M+5]==0&&C[M+2]+C[M+3]+C[M+6]+C[M+7]==4*255)continue;
var l={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][O]}}]}}};
$.push(l);for(var k=0;k<8;k++)l.v[r[k]]={t:"long",v:C[O*8+k]}}var d={classID:"blendOptions"};if(F.ww!="norm")d.Md={t:"enum",v:{BlnM:dL.Yy(F.ww)}};
if(F.gk!=255)d.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(F.gk*100/255)}};if(F.add.iOpa!=null)d.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(F.add.iOpa*100/255)}};
if($.length!=0)d.Blnd={t:"VlLs",v:$};var I={Lz:{classID:"null",Idnt:{t:"TEXT",v:kQ.Vm()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Default/Custom Style"}},Fu:{classID:"Styl",blendOptions:{t:"Objc",v:d}}},c=F.add.lmfx;
if(c)I.Fu.Lefx={t:"Objc",v:c};return I};function g9(){}g9._r=function(F){var r=j.N(g9.auk),$=r.Brsh.v;
if(F!=null){delete $.Hrdn;$.classID="sampledBrush";$.sampledData={t:"TEXT",v:F}}return r};g9.auk={classID:"brushPreset",Nm:{t:"TEXT",v:"Default/My Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
g9.a7d=function(F,r){var $=["opVr","szVr"],C=["usePaintDynamics","useTipDynamics"];for(var O=0;O<2;O++){var M=$[O];
if(F[M]==null)F[M]=JSON.parse(g9.B9.Zv[M]);F[M].v.bVTy.v=r[O]?2:0;if(r[O])F[C[O]].v=!0}g9.B9.a9N(F)};
g9.B9={};g9.B9.check=function(F){var r=g9.B9.Sh;for(var O=0;O<r.length;O++)if(F[r[O]]==null)F[r[O]]=JSON.parse(g9.B9.Zv[r[O]]);
var $=[];for(var O=0;O<r.length;O++)$.push(r[O]);var C=g9.B9.aly;for(var O=0;O<C.length;O++){var M=C[O][0],l=C[O][1],k=!0;
for(var d=0;d<M.length;d++)k=k&&F[M[d]].v==!0;if(k)for(var d=0;d<l.length;d++){if(F[l[d]]==null)console.log("Missing conditional parameter "+l[d]);
else $.push(l[d])}}for(var I in F)if($.indexOf(I)==-1&&I!="toolOptions")console.log("Extra parameter "+I);
F=F.Brsh.v;r=g9.B9.lV.Sh;for(var O=0;O<r.length;O++)if(F[r[O]]==null)F[r[O]]=JSON.parse(g9.B9.lV.Zv[r[O]]);
$=[];for(var O=0;O<r.length;O++)if(F[r[O]])$.push(r[O]);else console.log("Missing default parameter "+r[O]);
C=g9.B9.lV.abP[F.classID];for(var O=0;O<C.length;O++)if(F[C[O]]==null&&C[O]!="dtipsGridSize"&&C[O]!="dtipsErodibleTipHeightMap"&&F.aoO!=1)console.log("Missing conditional parameter "+C[O]);
else $.push(C[O]);for(var I in F)if($.indexOf(I)==-1)console.log("Extra parameter "+I)};g9.B9.a9N=function(F){var r=g9.B9.aly;
for(var O=0;O<r.length;O++){var $=r[O][0],C=r[O][1],M=!0;for(var l=0;l<$.length;l++)M=M&&F[$[l]]&&F[$[l]].v==!0;
if(M){for(var l=0;l<C.length;l++)if(F[C[l]]==null){F[C[l]]=JSON.parse(g9.B9.Zv[C[l]])}}else for(var l=0;
l<C.length;l++)if(F[C[l]]!=null){delete F[C[l]]}}};g9.B9.lV={};g9.B9.lV.Sh="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
g9.B9.lV.Zv={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};g9.B9.lV.abP={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
g9.B9.aly=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
g9.B9.Sh="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
g9.B9.Zv={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":100},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function bC(F,r){this.a4y=F;this.K$=r==null?0:r;this.dir=0}bC.prototype.VT=function(F,r){var $=this.a4y,C=new hx(F.x-$.x,F.y-$.y),M=new hS;
M.rotate(-this.K$);C=M.pI(C);if(this.dir==0&&!$.Mp(F))this.dir=Math.abs(C.x)<Math.abs(C.y)?1:2;if(r.D(ac.il)){if(this.dir==1)C.x=0;
if(this.dir==2)C.y=0}M.v4();C=M.pI(C);var l=new hx($.x+C.x,$.y+C.y);return l};bC.prototype.aB$=function(F){if(F.D(ac.il))return this.dir;
return 0};var iL=function(){function F(){this.aGM={}}F.ai8=function(r,$){var C=r.P();C.P6-=Math.floor(C.P6);
C.jw-=Math.floor(C.jw);var M=new hx($,0),l=new hx(0,$),k=C.pI(M),d=C.pI(l),I=new hx(C.P6,C.jw);return[k,d,I]};
F.aor=function(r,$){var C=hx.BV;return C(r[0],$[0])+C(r[1],$[1])+C(r[2],$[2]);return dsum};F.prototype.avS=function(r){var $=this.aGM,C=$[r];
if(C==null)C=$[r]={XW:[],Zy:0,C:0,ah1:0,ajx:0};C.Zy=Date.now();while(Object.keys($).length>3){var M="",l=Date.now();
for(var k in $){var d=$[k].Zy;if(d<l){l=d;M=k}}delete $[M]}return C};F.prototype.aIT=function(r,$){var C=r.XW,M,l=1e6;
for(var O=0;O<C.length;O++){var k=C[O],d=F.aor(k.nN,$);if(d<l){M=k;l=d}}return M};F.prototype.alS=function(r,$){var C=r.XW;
C.push($);r.C+=$.S.C();if(C.length>1e3||r.C>100*100*1600){C.sort(function(l,k){return k.Zy-l.Zy});while(C.length>500||r.C>100*100*800){var M=C.pop();
r.C-=M.S.C()}}};return F}();function ap(F,r,$,C,M,l,k,d,I){this.QY=r;this.fQ=$;this.J2=l;this.Fo=C;this.xg=null;
this.nS=null;this.AO=0;this.arf=0;this.ajj=0;this.ti=0;this.nB=0;this.Ke=I==null?Math.floor(Math.random()*16777215):I;
this.Xr=I==null?Math.floor(Math.random()*16777215):I;this.$Y=new cS;this.ks=new cS;this.eW=C.depth?C.depth:8;
if(d!=null){this.fU=d}else{var c=ap.aap;if(c.length!=k.C()*4)c=j.j(k.C()*4,this.eW);else c.fill(0);this.fU=ap.aap=c}this.S=k.P();
this.hK=[];this.Uj=[];this.Nw=null;this.y1=0;this.X=null;this.a8Z="";this.s8=null;this.aG_=null;this.a6S(F,M)}ap.aap=j.j(0);
ap.prototype.a6S=function(F,r){this.y1=r;this.X=F;this.a8Z=JSON.stringify(F)+JSON.stringify(this.Fo.Fh);
this.s8=ap.aiE(this.X,this.QY,this.fQ);this.s8.t6[0]=j.Mz(this.s8.t6[0],this.eW);this.aG_=j.j(this.s8.t6[1].C()*4,this.eW);
j.dr(this.s8.t6[0],this.aG_,3)};ap.prototype.moveTo=function(F,r,$){$=this.aDb($);this.AO=$;var C=new hx(F,r),M=this.X.Brsh.v.Dmtr.v.val;
this.xg=C.P();this.nS=C.P();this.Nw=C.P();this.hK=[F,r];this.Uj=[$];if(this.Fo.Le!=ap._a){var l=this.X.angleDynamics,k=l?l.v.bVTy.v==6:!1;
this.yR(k?new cS:this.abw(C,this.arS($),$,new hx(0,0)))}this.ti=C.P()};ap.prototype.lineTo=function(F,r,$){$=this.aDb($);
var C=this.hK,M=C.length,l=C[M-2],k=C[M-1];if(F==l&&r==k)return;var d=this.X.Brsh.v.Dmtr.v.val,I=Math.ceil(d)+1,c=new cS(Math.round(l),Math.round(k),0,0);
c.lW(I,I);var Q=new cS(Math.round(F),Math.round(r),0,0);Q.lW(I,I);this.hK.push(F,r);this.Uj.push($);
M+=2;if(M>=6)this.yR(this.aEX(M))};ap.prototype.aDb=function(F){if(F==null)F=1;F=Math.max(.05,Math.min(5,F));
if(isNaN(F)){alert("Pressure is not a number");throw"e"}return F};ap.prototype.yR=function(F){this.$Y=F;
this.ks=this.ks.DM(F)};ap.prototype.finish=function(){var F=this.hK,r=F.length,$;if(r==4)$=this.N5(F[r-2],F[r-1],this.Uj[(r>>1)-1],!0);
if(r>4)$=this.aEX(r+2);if($)this.yR($)};ap.prototype.y2=function(){return this.S.P()};ap.prototype.Z8=function(){return this.$Y.R7(this.S)};
ap.prototype.Hq=function(){return this.ks.R7(this.S)};ap.prototype.Vr=function(){return this.fU};ap.prototype.aEX=function(F){var r=this.hK,$=this.Uj,C=r[F-6],M=r[F-5],l=r[F-4],k=r[F-3],d=$[(F>>1)-3],I=$[(F>>1)-2],c=new hx(0,0),Q=new hx(0,0);
if(8<=F)c=ap.axM(r[F-8],r[F-7],C,M,l,k);if(F<=r.length)Q=ap.axM(r[F-2],r[F-1],l,k,C,M);var x=C+c.x,U=M+c.y,S=l+Q.x,z=k+Q.y,V=new cS,t=this.aum()?1:10;
for(var O=0;O<t;O++){var Y=(O+1)/t,i=1-Y,J=i*i*i*C+3*Y*i*i*x+3*Y*Y*i*S+Y*Y*Y*l,H=i*i*i*M+3*Y*i*i*U+3*Y*Y*i*z+Y*Y*Y*k,v=this.N5(J,H,d+Y*(I-d));
V=V.DM(v)}return V};ap.axM=function(F,r,$,C,M,l){var k=F-$,d=r-C,I=M-$,c=l-C,Q=Math.sqrt(k*k+d*d),x=Math.sqrt(I*I+c*c),U=Math.acos((k*I+d*c)/(Q*x))/Math.PI,S=.35,z=.1;
U=z+U*(S-z);var V=M-F,t=l-r,Y=Math.sqrt(V*V+t*t),i=U*x/Y;return new hx(V*i,t*i)};ap.prototype.N5=function(F,r,$,C){var M=new cS,l=this.Fo.atU;
if(l==null)l=0;if(l==0||C){M=this.ai_(F,r,$);return M}var k=this.Nw,d=F-k.x,I=r-k.y,c=Math.sqrt(d*d+I*I);
d/=c;I/=c;if(c>l){var Q=k.x+d*(c-l),x=k.y+I*(c-l);M=this.ai_(Q,x,$);this.Nw.I_(Q,x)}return M};ap.prototype.aum=function(){var F=this.X,r=F.Brsh.v.Dmtr.v.val;
return this.Fo.Fh&&r==1};ap.prototype.ai_=function(F,r,$){var C=new cS,M=new hx(F,r),l=this.Fo.Le,k=M.Q1(this.nS);
k.normalize(1);var d=hx.BV(this.nS,M),I=-this.arf,c=this.nS.P();if(this.aum()){if(d>.99){var Q=this.nS,x=j.q1.aJ5(M,this.S,this.Fo.h7);
for(var O=0;O<x.length;O++){var U=x[O],S=U.pI(Q),z=U.pI(M);ap.axq(S,z,this.fU,this.S,this.vp(this.X));
C=C.DM(j.b.qy([S.x,S.y,z.x,z.y]))}I=d}else M=this.nS}else while(!0){var V=this.AO+($-this.AO)*(Math.max(0,I)/d),t=this.arS(V),Y=this.arn()*(t+this.ajj)/2*this.s8.ajn;
if(l==ap._a)Y=1;Y=Math.max(Y,.5);if(I+Y<d){I+=Y;this.nB+=Y;var i=new hx(this.nS.x+k.x*I,this.nS.y+k.y*I),H=1;
if(l==ap._a){var z=c.P();z.x+=k.x>0?1:-1;var J=c.P();J.y+=k.y>0?1:-1;if(hx.BV(z,i)<hx.BV(J,i))i=z;else i=J;
I=hx.BV(i,this.nS)}if(this.X.useScatter.v==!0){H=this.X.Cnt.v;var v=this.X.countDynamics.v.jitter.v.val/100,n=v*(-1+2*this.vo());
H+=Math.round(H*n)}for(var O=0;O<H;O++){var G=this.abw(i,t,$,k);C=C.DM(G)}c=i}else break}this.arf=d-I;
this.nS=M;this.AO=$;return C};ap.prototype.arn=function(){var F=this.X.Brsh.v,r=F.Spcn.v.val,$=Math.max(5,F.Rndn.v.val);
return $/100*(r/100)};ap.prototype.arS=function(F){var r=this.X,$=r.Brsh.v.Dmtr.v.val;if(r.useTipDynamics.v){var C=$*(r.minimumDiameter.v.val/100);
$=C+($-C)*(1-this.vo(this.Xr)*(r.szVr.v.jitter.v.val/100));$*=ap.E0(r,"szVr",F,this.nB)}return $};ap.E0=function(F,r,$,C){var M=1,l=F[r].v,k=l.bVTy.v,d=l.fStp.v;
if(k==1)M*=Math.max(0,(d-C)/d);if(k==2)M*=$;return M};ap.prototype.abw=function(F,r,$,C){var M=this.Fo.gz,V=0;
M=Math.min(1,M);var l=this.X,k=this.X.Brsh.v,d=k.Dmtr.v.val,I=this.Fo,c=I.Le,Q=I.aIo,x=this.s8.t6[1],U=new hS;
U.translate(-x.r/2,-x.$/2);U.scale(1/this.s8.acN,1/this.s8.acN);U.scale(r/d,r/d);U.scale(1,Math.max(5,k.Rndn.v.val)/100);
if(l.usePaintDynamics&&l.usePaintDynamics.v){var S=l.opVr.v.jitter.v.val/100,z=l.prVr.v.jitter.v.val/100;
M*=1-this.vo()*S;M*=1-this.vo()*z;M*=ap.E0(l,"opVr",$,this.nB)*ap.E0(l,"prVr",$,this.nB)}if(l.useTipDynamics.v){var t=l.angleDynamics.v,Y=l.minimumRoundness.v.val/100;
U.scale(1,Y+(1-Y)*Math.round(100-this.vo()*l.roundnessDynamics.v.jitter.v.val)/100);V+=(-.5+this.vo())*4*Math.PI*(t.jitter.v.val/100);
V+=ap.E0(l,"angleDynamics",$,this.nB)*2*Math.PI;if(t.bVTy.v==6)V+=Math.atan2(-C.y,C.x)}V+=k.Angl.v.val*(Math.PI/180);
U.rotate(V);if(l.useScatter.v){var i=(-1+2*this.vo())*l.scatterDynamics.v.jitter.v.val/100;U.translate(-i*r*C.y,i*r*C.x)}U.translate(F.x,F.y);
var J=this.aCW(U,F,r),H=J.S.P();if(c==null){var v=this.vp(l);j._8(J.kW,v.t,v.L,v.X);if(this.ks.XS()&&this.S.Mp(J.S)&&M==1)this.fU=J.kW.slice(0);
else{var n=j.q1.aJ5(F,this.S,I.h7);for(var O=0;O<n.length;O++){var G=n[O],g,W;if(G.xz==1&&G.X==0&&G.gb==0&G.G0==1){g=J.kW;
W=J.S.P();W.x+=G.P6;W.y+=G.jw}else{var L=U.P();L.concat(G);var b=this.aCW(L,G.pI(F),r);g=b.kW;W=b.S;
j._8(g,v.t,v.L,v.X)}if(W.HV(this.S)){H=H.DM(W);if(this.eW==8)j.v.ad5(g,W,this.fU,this.S,W,M);else j.v.O5("norm",g,W,this.fU,this.S,W,M)}}}}if(c==ap._a){var T=new hx(J.S.x+J.S.r/2,J.S.y+J.S.$/2),a=Math.round(T.x-this.ti.x),R=Math.round(T.y-this.ti.y),D=J.S.P();
D.offset(-a,-R);var h=D.R7(this.S);h.offset(a,R);j.mR(this.fU,this.S,J.kW,D);if(this.eW==8)j.v.af5(J.kW,J.S,this.fU,this.S,J.GL,J.S,M);
else j.v.RS(J.kW,J.S,this.fU,this.S,J.GL,J.S,0,h,M,!1)}if(c==ap.Q2||c==ap.RY||c==ap.l7){var K=J.S.R7(this.S),X;
if(K.Mp(J.S))X=J.GL;else{X=j.j(K.C(),this.eW);j.wU(J.GL,J.S,X,K)}var w=j.j(K.C()*4,this.eW);j.mR(this.fU,this.S,w,K);
if(c==ap.RY){var N=w.slice(0),A=j.wh.NB([-1,-1,-1,-1,25,-1,-1,-1,-1]);j.wh.Te(w,N,K.r,K.$,A);j.Jx(N,w)}else if(c==ap.l7){var p=e9.Mv("UnsM");
p.Amnt.v.val=15;p.Thsh.v=0;p.Rds.v.val=5;var N=j.j(w.length,this.eW);e9.Fx("UnsM",{buffer:w,S:K},p,0,0,{buffer:N,S:K});
j.Jx(N,w)}else{e9.lY(1,0,w,K)}if(this.eW==8)j.v.af5(w,K,this.fU,this.S,X,K,M);else j.v.RS(w,K,this.fU,this.S,X,K,0,K,M,!1)}this.ajj=r;
this.ti=T;this.Xr++;return H};ap.prototype.vp=function(F){var r=ap.ake(this.y1);if(F.useColorDynamics&&F.useColorDynamics.v){var $=1-this.vo()*F.clVr.v.jitter.v.val/100,C=ap.ake(this.J2);
r.t=$*r.t+(1-$)*C.t;r.L=$*r.L+(1-$)*C.L;r.X=$*r.X+(1-$)*C.X;var M=(-.5+this.vo())*F.H.v.val/100,l=(-1+2*this.vo())*F.Strt.v.val/100,k=(-1+2*this.vo())*F.Brgh.v.val/100,d=j.nc(r.t,r.L,r.X);
d.Y9=(d.Y9+M+1)%1;d.cG=d.cG+l;if(d.cG<0)d.cG=-d.cG;if(d.cG>1)d.cG=1-(d.cG-1);d.rY=d.rY+k;if(d.rY<0)d.rY=-d.rY;
if(d.rY>1)d.rY=1-(d.rY-1);r=j.To(d.Y9,d.cG,d.rY)}return r};ap.prototype.B9=function(F){return Math.max(0,Math.min(1,F))};
ap.prototype.vo=function(F){if(F==null){F=this.Ke++}return ap.hash(F)};ap.ake=function(F){return{t:(F>>16&255)/255,L:(F>>8&255)/255,X:(F>>0&255)/255}};
ap.hash=function(F){F=F^61^F>>16;F=F+(F<<3);F=F^F>>4;F=F*668265261;F=F^F>>15;return(F&16777215)/16777215};
ap.av_=new iL;ap.prototype.aCW=function(F,r,$){var C=this.Fo.Fh,M=Math.round(this.X.Brsh.v.Dmtr.v.val),l;
if(C&&M<=3){l={G:j.j(M*M,this.eW),S:new cS(Math.round(r.x-M/2),Math.round(r.y-M/2),M,M)};l.G.fill(255)}else if(F.xz==1&&F.X==0&&F.gb==0&&F.G0==1){l={G:this.s8.t6[0],S:this.s8.t6[1].P(),kW:this.aG_};
l.S.x=Math.round(F.P6);l.S.y=Math.round(F.jw)}else{if(F.w5()>1e-4)l=B.hL.F_(this.s8.t6,F)}if(l==null)l={G:j.j(0,this.eW),S:new cS};
var k={GL:l.G,S:l.S,kW:l.kW};if(k.kW==null||C){if(C)j.round(l.G);k.kW=j.j(l.S.C()*4,this.eW);j.dr(k.GL,k.kW,3)}return k};
ap.aiE=function(F,r,$){var C,M,l,k=F.Brsh.v.Dmtr.v.val,d=F.Brsh.v.classID;if(d=="computedBrush"){var I=F.Brsh.v.Hrdn.v.val/100;
M=k<100?1.4:1;l=1;C=j.aEm.ag8(k,I,M)}if(d=="sampledBrush"){var c;for(var O=0;O<r.length;O++)if(r[O].id==F.Brsh.v.sampledData.v)c=r[O];
C=c.t6;var Q=C[1];M=Math.max(Q.r,Q.$)/k;l=Math.min(Q.r,Q.$)/Math.max(Q.r,Q.$)}return{acN:M,ajn:l,t6:C}};
ap.Ee=null;ap.Tg=null;ap.SM=function(F,r,$,C,M,l){var k=ap.Ee,d=ap.Tg;if(k==null){ap.Ee=k=document.createElement("canvas");
ap.Tg=d=k.getContext("2d")}if(l==null)l=C;if(k.width!=l||k.height!=M){k.width=l;k.height=M}else d.clearRect(0,0,l,M);
d.fillStyle="#000000";d.font=Math.floor(10*B.ha())+"px sans-serif";var I=F.Brsh.v.Dmtr.v.val,c=""+I,Q=F.useBrushSize;
if(Q&&Q.v)c="---";var x=d.measureText(c);d.fillText(c,(C-x.width)/2,M-2);var U=C,S=M-10*B.ha(),z=Math.min(U,S),V=F.Brsh.v.classID;
if(V=="computedBrush"){d.translate(U/2,S/2);d.rotate(-F.Brsh.v.Angl.v.val*Math.PI/180);d.scale(1,.1+.9*F.Brsh.v.Rndn.v.val/100);
var t=Math.min(.95*z/2,I/2)+.5,Y=.9*F.Brsh.v.Hrdn.v.val/100,i=d.createRadialGradient(0,0,0,0,0,t);i.addColorStop(Y,"rgba(0,0,0,1)");
i.addColorStop((.5+Y)/1.5,"rgba(0,0,0,.5)");i.addColorStop(1,"rgba(0,0,0,0)");d.fillStyle=i;d.fillRect(-t,-t,2*t,2*t);
d.setTransform(1,0,0,1,0,0)}else if(V=="sampledBrush"){var J,g=0;for(var O=0;O<r.length;O++)if(r[O].id==F.Brsh.v.sampledData.v)J=r[O];
var H=J.t6;j.SI(H);var v=H[0],n=H[1].r,G=H[1].$;while((n>U||G>S)&&H[g+2]){g+=2;v=H[g];n=H[g+1].r;G=H[g+1].$}if(n*G!=0){var W=j.j(n*G*4);
j.dr(v,W,3);var L=new ImageData(new Uint8ClampedArray(W.buffer),n,G);d.putImageData(L,Math.round((U-n)/2),Math.round((S-G)/2))}}else{}return k.toDataURL()};
ap.Nv=function(F,r,$,C){if($==0)$=1;var M=F.Brsh.v,l=M.Dmtr.v.val,k=M.Angl.v.val,d=M.Dmtr.v.val=Math.min(C!=null?Math.round(C*2.6):3e3,l*$),I=M.Hrdn?M.Hrdn.v.val/100:1,c=C!=null?C:Math.round((k==0?1:1.42)*d*(1+.55*(1-I)))+4,U;
c=Math.max(25,Math.min(c,3e3));var Q=new cS(0,0,c,c),x=new ap(F,r,null,{gz:1},16711712,0,Q);M.Dmtr.v.val=l;
x.moveTo(Q.r/2,Q.$/2);var S=j.Mz(x.Vr(),8),z=x.y2();if(Q.Mp(z))U=S;else{U=j.j(Q.C()*4);j.mR(S,z,U,Q)}return[U,Q,d]};
ap.al8=function(F,r,$,C){var M=r.r,l=M>>>1;for(var O=2;O<7;O++){F[M*(l-O)+l-1]=C;F[M*(l-O)+l]=$;F[M*(l-O)+l+1]=C;
F[M*(l+O)+l-1]=C;F[M*(l+O)+l]=$;F[M*(l+O)+l+1]=C;F[M*(l-1)+l-O]=C;F[M*l+l-O]=$;F[M*(l+1)+l-O]=C;F[M*(l-1)+l+O]=C;
F[M*l+l+O]=$;F[M*(l+1)+l+O]=C}C=$;if(B.ha()>=1.5)for(var O=5;O<11;O++){F[M*(l-O)+l-1]=C;F[M*(l-O)+l]=$;
F[M*(l-O)+l+1]=C;F[M*(l+O)+l-1]=C;F[M*(l+O)+l]=$;F[M*(l+O)+l+1]=C;F[M*(l-1)+l-O]=C;F[M*l+l-O]=$;F[M*(l+1)+l-O]=C;
F[M*(l-1)+l+O]=C;F[M*l+l+O]=$;F[M*(l+1)+l+O]=C}};ap.bD=function(F,r,$,C){var M=ap.Nv(F,r,$),l=M[0].slice(0),k=M[1],d=M[2],I=k.C(),c=j.j(I);
j.Eg(l,c,3);var Q=j.j(I);j.d.agj(c,Q,k,B.ha()>1.9);if(d<3||j.b3(Q,0)||C&&d>12){ap.al8(Q,k,255,0)}var x=[3,5,3,4,8,4,3,5,3];
x=j.wh.NB(x);j.wh.rW(Q,c,k.r,k.$,x);l.fill(255);j.dr(c,l,3);for(var O=0;O<I;O++)if(Q[O]==255){l[O<<2]=l[(O<<2)+1]=l[(O<<2)+2]=0;
l[(O<<2)+3]=255}return{gf:l,OV:k,u2:new hx(k.r/2,k.$/2)}};ap.axq=function(F,r,$,C,M){var l=4278190080|Math.round(M.X*255)<<16|Math.round(M.L*255)<<8|Math.round(M.t*255)<<0;
$=new Uint32Array($.buffer);var k=Math.floor(F.x),d=Math.floor(F.y),I=Math.floor(r.x),c=Math.floor(r.y),Q=Math.abs(I-k),x=Math.abs(c-d),U=k<I?1:-1,S=d<c?1:-1,z=Q-x;
while(!0){$[d*C.r+k]=l;if(k==I&&d==c)break;var V=2*z;if(V>-x){z-=x;k+=U}if(V<Q){z+=Q;d+=S}}};ap._a="0";
ap.Q2="1";ap.RY="2";ap.l7="3";var dJ={};dJ.Bi=function(F,r,$){if($==null)$=!0;var C=F.add.TySh,M=C.$E,l=new j5(M,r,C.Yb);
F.FM.gt=l.Zz();var k=F.FM.path=dJ.Pe(l,C);if(gw!=0)return[k,l,null];var d=dJ.Xm(k,C.U,ho.dc(C));if($){F.S=d.OV;
var I=j.cN(F.buffer);F.buffer=j.Mz(d.fU,I);F.vM()}return[k,l,d]};dJ.Xm=function(F,r,$){F={C0:F.C0,n:F.n.slice(0)};
j.b.U(F.n,r,F.n);var C=j.b.qy(F.n),M=0;if(C.XS())return{fU:j.j(0),OV:new cS};for(var O=0;O<F.C0.length;
O++){var l=F.C0[O];if(l[0]=="O"&&l[1]=="-")M=Math.max(M,parseFloat(l.split("-")[2]))}M=Math.ceil(M*r.w5()/2);
C.lW(M,M);var k=j.q6(C.r,C.$);k.translate(-C.x,-C.y);dJ.asG(F,k);var d=k.getImageData(0,0,C.r,C.$),I=new Uint8Array(d.data.buffer);
if($==0)for(var O=0;O<I.length;O+=4)I[O+3]=I[O+3]>80?255:0;if($==3)for(var O=0;O<I.length;O+=4)I[O+3]=Math.min(255,I[O+3]*1.5);
k.resetTransform();k.beginPath();return{fU:I,OV:C}};dJ.Pe=function(F,r,$){var C=r.U,M=r.$E;dJ.rq=C.w5();
var l=ho.dc(r),k=Math.max(C.X*C.X,C.gb*C.gb)<1e-9?C:null;if(l==3||l==4)k=null;var d={C0:[],n:[]};dJ.a0t(F,d,k,!0);
dJ.a0t(F,d,k,!1);d=dJ.lh(d,r,F,$);return d};dJ.rq=1;dJ.lh=function(F,r,$,C){if(F==null)return F;if($&&$.qs)j.b.U(F.n,$.qs,F.n);
if($&&!j.gd.sp(r.xD)){var M=ho.y2(r,$);if(!M.XS()){if(F.C0){F=j.b.np(F);var l=Math.min(M.r,M.$)/8;if(l<1)l=1;
F=j.b.V0(F,l)}var k=j.gd.YR(r.xD,M);j.$$.U(k,F.n,M)}}var d=r.U;if(C)j.b.U(F.n,d,F.n);return F};dJ.asG=function(F,r){r.save();
r.miterLimit=2;Typr.U.pathToContext({crds:F.n,cmds:F.C0},r);r.restore()};dJ._H=function(F,r,$){var C=j5.a0v($),M=F.$E,l=M.ResourceDict.FontSet,k=M.ResourceDict.StyleSheetSet[0].StyleSheetData,d=M.EngineDict.StyleRun.RunLengthArray,I=M.EngineDict.StyleRun.RunArray,c=ho.OD(M),Q=!0,x={},U=0;
for(var O=0;O<I.length;O++){var S=I[O].StyleSheet.StyleSheetData.Font;if(S==null)S=k.Font;for(var z=0;
z<d[O];z++){var V=c.charCodeAt(U+z),t=S+","+(V>128?V:-1);if(x[t]==null){x[t]=1;if(r.yV(l[S].Name,V)==null)Q=!1}}U+=d[O]}return Q&&C};
dJ.H$=function(F,r,$){var C=!0;for(var M=0;M<F.u.length;M++){var l=F.u[M],k=l.add.TySh;if(k!=null&&!dJ._H(k,r,$))C=!1}return C};
dJ.Gf=function(F,r,$){for(var C=0;C<F.u.length;C++){var M=F.u[C],l=M.add.TySh;if(l!=null&&dJ._H(l,r,$)){dJ.Bi(M,r);
F.vM()}}};dJ.a0t=function(F,r,$,C){var M=new hS;for(var O=0;O<F.jv.length;O++)dJ.ag9(F.Uz,F.jv[O],r,M,$,C)};
dJ.ag9=function(F,r,$,C,M,l){C.translate(r.wT.x,r.wT.y);for(var O=0;O<r.M0.length;O++){var k={},d=r.M0[O];
if(!d.OW)break;var I=C.P();I.translate(d.wT.x,d.wT.y);if(M){var c=M.jw+I.jw*M.G0;I.jw=(Math.round(c)-M.jw)/M.G0}for(var Q=d.start;
Q<d.end;Q++)dJ.a3T(F,r.zG[Q],r,k,$,I,l)}C.translate(-r.wT.x,-r.wT.y)};dJ.a3T=function(F,r,$,C,M,l,k){l.translate(r.wT.x,r.wT.y);
for(var d=r.A$;d<=r.og;d++){var I=$.Dq[d],c=I.OV.r,Q=F[$.a46+I.Yl],x=Q.Pk._FillBackgroundFlag;if(Q.xn=="\n"||k&&!x)continue;
var U=Q.Pk.FontSize/Q.lJ.head.unitsPerEm,S=l.P();S.translate(I.wT.x+I.VC*U,I.wT.y-I.c$*U);var z=new hS;
z.scale(U,-U);if(Q.Pk.FauxItalic)z.concat(new hS(1,0,-Math.tan(.18),1,0,0));z.translate(0,Q.arH);z.scale(Q.scale.x,Q.scale.y);
if(Q.Pk.BaselineShift!=null)z.translate(0,-Q.Pk.BaselineShift);if(I.K$!=0){z.rotate(-I.K$)}z.concat(S);
var V=(Q.Pk.OutlineWidth?Q.Pk.OutlineWidth:1)*dJ.rq;if(k){M.C0.push(dJ.vp(Q.Pk._FillBackgroundColor));
var t=1.005*I.OV.$/U,Y=new cS(-I.VC,-t*.27,1.03*I.OV.r/(U*Q.scale.x),t);if(Q.Pk.StrokeFlag)Y.lW(V/U,V/U);
j.b.concat(M,j.b.Vs(Y),z);M.C0.push("X");continue}if(Q.Pk.FillFlag)M.C0.push(dJ.vp(Q.Pk.FillColor));
if(Q.Pk.StrokeFlag){var i=cK.Jn.a0c(Q.Pk);M.C0.push(dJ.awj(i))}if(I.path.C0.length!=0&&Q.xn!="\t"){if(Q.Pk.FauxBold){var J=Q.Pk.FontSize/2048*27*Q.scale.x,H=Math.cos(I.K$)*J,v=Math.sin(I.K$)*J;
z.P6+=H;z.jw+=v;j.b.concat(M,I.path,z);z.P6-=H+H;z.jw-=v+v;j.b.concat(M,I.path,z)}else j.b.concat(M,I.path,z)}if(Q.xn!="\n"){var n=I.OV.r/U;
if(Q.Pk.Underline){if(C.atm==null)C.atm=Q.lJ.post.underlineThickness;if(C.aEd==null)C.aEd=Q.lJ.post.underlinePosition;
var G=0,g=C.aEd-C.atm/2,W=-C.atm;j.b.concat(M,{C0:["M","L","L","L","Z"],n:[G,g,G+n,g,G+n,g+W,G,g+W]},z)}if(Q.Pk.Strikethrough){var L=Q.lJ["OS/2"].yStrikeoutSize,b=Q.lJ["OS/2"].yStrikeoutPosition,G=0,g=b+L/2,W=-L;
j.b.concat(M,{C0:["M","L","L","L","Z"],n:[G,g,G+n,g,G+n,g+W,G,g+W]},z)}}var T=Q.Pk.FillFlag,a=Q.Pk.FillFirst;
if(a==null)a=!0;if(T&&a)M.C0.push("X");if(Q.Pk.StrokeFlag)M.C0.push("OX");if(T&&!a)M.C0.push("X")}l.translate(-r.wT.x,-r.wT.y)};
dJ.awj=function(F){var r=F.XX,$=["O","#"+j.lN(j.Vw({t:r[0],L:r[1],X:r[2]},1)),F.WV];$.push(F.gE,F.Qn,F.cR,F.hY,F.x_.join(","));
return $.join("-")};dJ.a2t=function(F){var r=parseFloat,$=F.split("-"),C=j.iW(parseInt($[1].slice(1),16)),M=$[8]=="1"?2:0;
return{XX:[C.t/255,C.L/255,C.X/255],WV:r($[2]*(M==2?.5:1)),gE:r($[3]),Qn:r($[4]),cR:r($[5]),hY:r($[6]),x_:$[7]==""?[]:$[7].split(",").map(r),QK:M}};
dJ.vp=function(F){return"#"+j.lN(j.Vw(ho.MB(F)))};function j5(F,r,$){var C=ho.C9(F),M,l,k=ho.AA(F),d=F._LineOrientation==2?new hS:null,x,S;
if(F.Curve)l=j5.M2(F.Curve);if(C!=0){M=new cS(k[0],k[1],k[2],k[3]);if(d){var I=M.r;M.r=M.$;M.$=I;d.translate(0,-k[2])}if(C==2){M.r=l[5]-l[4];
M.$=9999}}this.jv=[];this.Uz=[];this.wV=C;this.qs=d;var c=this.asX=ho.OD(F),Q=-1,U=-1;for(var O=0;O<c.length;
O++){var z=x,V=ho.a5H(F,O);if(V!=Q){Q=V;z=x=ho.a09(F,V)}var t=S,V=ho.amF(F,O);if(V!=U){U=V;t=S=ho.aj4(F,V)}var Y={xn:c.charAt(O),Pk:z,lJ:null,aDa:!1,ta:-1,g_:ho.ar0(F,O),arH:0,scale:new hx(0,0),$h:0,lineHeight:0,sF:0},i=F.ResourceDict.FontSet[z.Font].Name,J=Y.lJ=r.yV(i,c.charCodeAt(O));
if(z.FontCaps==1)Y.aDa=J&&J.GSUB&&J.GSUB.smcp?!1:!0;Y.scale.x=z.HorizontalScale==null?1:z.HorizontalScale;
Y.scale.y=z.VerticalScale==null?1:z.VerticalScale;var H=J["OS/2"],v=J.hhea;if(Y.aDa&&Y.xn!=Y.xn.toUpperCase()){var n=H.sxHeight?H.sxHeight/H.sTypoAscender:.76;
Y.scale.x*=n;Y.scale.y*=n}var G=1/J.head.unitsPerEm*z.FontSize;if(z.FontBaseline==1){var n=F.ResourceDict.SuperscriptSize;
Y.scale.x*=n;Y.scale.y*=n;Y.arH-=F.ResourceDict.SuperscriptPosition*z.FontSize}if(z.FontBaseline==2){var n=F.ResourceDict.SubscriptSize;
Y.scale.x*=n;Y.scale.y*=n;Y.arH+=F.ResourceDict.SubscriptPosition*z.FontSize}Y.$h=j5.$h(J)*z.FontSize;
var g=t.AutoLeading;Y.lineHeight=z.FontSize*(g==null?1.2:g);if(z.AutoLeading==!1)Y.lineHeight=z.Leading;
if(Y.xn=="\n"&&c[O-1]!="\n")Y.lineHeight=0;if(Y.lineHeight==0)Y.lineHeight=.01;this.Uz.push(Y)}var W=this.jv,L=[0];
for(var O=0;O<F.EngineDict.ParagraphRun.RunLengthArray.length;O++){var b=new j5.Ha(F,r,this.Uz,O,M,L,C==1?l:null);
W.push(b)}if(d){if(C==0)d.translate(0,W[0].zG[0].$h/2);d.rotate(-Math.PI/2)}if(C==2){var T=F.Curve.Points,a=l[0],R=l[1],D=l[2],h=l[3],K=l[4],X=l[5];
for(var O=0;O<W.length;O++)for(var w=0;w<W[O].M0.length;w++)if(!(O==0&&w==0))W[O].M0[w].OW=!1;var b=W[0],N=b.M0[0];
b.wT.I_(0,0);N.wT.I_(0,0);for(var w=N.start;w<N.end;w++){var s=b.zG[w],A=s.wT.x;s.wT.x=0;for(var p=s.A$;
p<=s.og;p++){var q=b.Dq[p],f=q.OV.r/2;q.wT.x+=A;var e=j5.ay$(a,(K+q.wT.x+f)%h);q.wT.x=e[0]-f*e[2];q.wT.y=e[1]-f*e[3];
q.K$=Math.atan2(e[3],e[2])}}}if($){var o=$.VAlign.v;if(o!=0&&ho.C9(F)==1){var E=ho.AA(F)[3],cj=this.Zz().$,u=0;
if(o==1)u=E-cj;if(o==2)u=(E-cj)/2;for(var O=0;O<this.jv.length;O++)this.jv[O].wT.y+=u}}}j5.$h=function(F){var r=F._hhhh;
if(r==null){var $=Typr.U,C=$.codeToGlyph(F,104),M=j.b.sY(Typr.U.glyphToPath(F,C).crds).$;r=F._hhhh=M*(1/F.head.unitsPerEm)}return r};
j5.prototype.akp=function(){return!this.aCy(0)};j5.prototype.ajN=function(){return this.aCy(1)};j5.prototype.aCy=function(F){var r=this.jv,$=!0,C=0;
for(var O=0;O<r.length;O++){var M=r[O].M0,l=M.length;C+=l;for(var k=0;k<l;k++)$&=M[k].OW}return[$,C][F]};
j5.M2=function(F,r,$){if(r==null)r=.25;var C=F.Points,M=C.length,l=M>>>3,k=F.TextOnPathTRange,d=F.Reversed,U=0,S=0;
if(d){var I=C.slice(0);for(var O=0;O<M;O+=2){I[O]=C[M-2-O];I[O+1]=C[M-1-O]}C=I;k=[l-k[1]%l,l-k[0]%l]}var c=[],Q=[0],x=[0];
for(var O=0;O<M;O+=8){var z=C[O+6]-C[O+0],V=C[O+7]-C[O+1],t=Math.round(Math.sqrt(z*z+V*V)/r),Y=$&&O==M-8?t+1:t;
for(var i=0;i<Y;i++){var J=i/t,H=1-J,v=H*H*H*C[O+0]+3*H*H*J*C[O+2]+3*H*J*J*C[O+4]+J*J*J*C[O+6],n=H*H*H*C[O+1]+3*H*H*J*C[O+3]+3*H*J*J*C[O+5]+J*J*J*C[O+7];
c.push(v,n);if(O+i!=0){var z=v-U,V=n-S;x.push(x[x.length-1]+Math.sqrt(z*z+V*V));Q.push((O>>>3)+J)}U=v;
S=n}}var r=x.length,G=x[r-1],g=j5.SC(k[0]%l,Q),W=j5.SC(k[1]%l,Q),L=x[g%r],b=x[W%r];if(L>=b)b+=G;return[c,Q,x,G,L,b]};
j5.SC=function(F,r){var O=0;while(r[O]<F)O++;return O};j5.ay$=function(F,r){var $=0,O=0,C,M,l;while($<r){C=F[O+2]-F[O];
M=F[O+3]-F[O+1];l=Math.sqrt(C*C+M*M);$+=l;O+=2}return[F[O],F[O+1],C/l,M/l]};j5.prototype.asC=function(F){return this.Uz[F]};
j5.prototype.adO=function(F){for(var r=0;r<this.jv.length;r++){var $=this.jv[r];for(var C=0;C<$.M0.length;
C++){var M=$.M0[C],l=$.zG[M.start].start,k=$.zG[M.end-1].end;if(l<F&&F<k)return[l,k-1]}}return[0,1]};
j5.prototype.agd=function(F,r){var $=-1,C=this.jv;if(this.wV==2){var M=1e9,l=0,k=C[0],d=k.M0[0];for(var I=d.start;
I<d.end;I++){var c=k.zG[I];for(var Q=c.A$;Q<=c.og;Q++){var x=k.Dq[Q],U=x.OV.r,S=F.x-x.wT.x,z=F.y-x.wT.y,V=S*S+z*z;
if(V<M){M=V;l=x.Yl}}}if(l!=0&&this.asX.codePointAt(l-1)>65535)l--;return l}for(var t=0;t<C.length;t++){var k=C[t];
for(var Y=0;Y<k.M0.length;Y++){$++;var d=k.M0[Y],i=k.M0[Y+1];if(i==null&&t<C.length-1)i=C[t+1].M0[0];
if(r!=null){if($!=r)continue}else{if(i!=null&&k.wT.y+d.wT.y<F.y)continue}for(var I=d.start;I<d.end;I++){var c=k.zG[I];
for(var Q=c.A$;Q<=c.og;Q++){var x=k.Dq[Q],U=x.OV.r,J=k.wT.x+d.wT.x+c.wT.x,H=J+x.wT.x,v=J+(Q<c.og?k.Dq[Q+1].wT.x:x.wT.x+U);
if(F.x<=v||I+1==d.end&&Q==c.og){var n=k.a46+x.Yl,G=this.Uz[n],g=G.sF&1;if(G.xn!="\n"&&(g==0&&F.x>H+U/2||g==1&&F.x<H+U/2))n+=this.asX.codePointAt(n)>65535?2:1;
return n}}}}}};j5.prototype.Ni=function(F){var r={OV:new cS,cl:0},$=0;for(var C=0;C<this.jv.length;C++){var M=this.jv[C];
for(var l=0;l<M.M0.length;l++){var k=M.M0[l];r.cl=$;$++;for(var d=k.start;d<k.end;d++){var I=M.zG[d];
for(var c=I.start;c<I.end;c++){if(c==F){var Q=this.Uz[c],x=Q.ta,U=M.Dq[x].Yl,S=1;while(M.Dq[x]!=null&&M.Dq[x].Yl==U){var z=M.Dq[x],V=M.wT.x+k.wT.x+I.wT.x+z.wT.x,t=M.wT.y+k.wT.y+I.wT.y+z.wT.y;
r.OV=r.OV.DM(new cS(V,t-Q.lineHeight,z.OV.r,Q.lineHeight));r.K$=z.K$;x+=S}return r}}}}}};j5.prototype.Zz=function(){var F=Infinity,r=Infinity,$=-Infinity,C=-Infinity;
for(var O=0;O<this.jv.length;O++){var M=this.jv[O];for(var l=0;l<M.M0.length;l++){var k=M.M0[l];if(!k.OW)break;
for(var d=k.start;d<k.end;d++){var I=M.zG[d];for(var c=I.A$;c<=I.og;c++){var Q=M.Dq[c],x=Q.OV,U=M.wT.x+k.wT.x+I.wT.x+Q.wT.x,S=M.wT.y+k.wT.y+I.wT.y+Q.wT.y;
F=Math.min(F,U+x.x);r=Math.min(r,S+x.y);$=Math.max($,U+x.x+x.r);C=Math.max(C,S+x.y+x.$)}}}}return new cS(F,r,$-F,C-r)};
j5.to=function(F){return 19968<=F&&F<=40959||12288<=F&&F<=12543};j5.$R=function(F,r,$,C,M,l,k){var d=[l],I=0;
for(var O=l;O<k;O++){if($[O]==null)console.log(O,l,k,$);var c=$[O].xn,Q=c.charCodeAt(0);if(Q==32||Q==9){d.push(I,O,1,O+1);
I=0}else if(Q==3851){d.push(I+1,O+1);I=0}else if(j5.to(Q)){d.push(I,O);I=1}else if(O!=l&&$[O].sF!=$[O-1].sF){d.push(I,O);
I=1}else I++}d.push(I);var x=[];for(var O=0;O<d.length;O+=2){var U=d[O],S=d[O+1];if(S==0)continue;x.push(new j5.a44(F,r,$,C,M,U,S))}return x};
j5.aBM=function(F,r,$,C,M,l,k){var d=[0,r?r.r:1e9],I=[];if(C){var c=F[l].$h,Q=M+(M==0?c:F[l].lineHeight),x=Q-c*.9,U=j.b.aq8(C[0],x),S=U.length,z=j.b.aq8(C[0],Q),V=z.length;
if(S!=0&&V!=0){var t=0,Y=0,i=[];while(t<S&&Y<V){var J=Math.max(U[t],z[Y]),H=U[t+1],v=z[Y+1],n=Math.min(H,v);
if(J<n)i.push(J,n);if(H<v)t+=2;else Y+=2}if(i.length!=0)d=i}}for(var G=0;G<d.length;G+=2){var g=0,W=l,L=r?d[G+1]-d[G]-$.StartIndent-$.EndIndent-(l==0?$.FirstLineIndent:0):Infinity;
while(l!=F.length){var b=F[l],T=g==0||(b.ZD||b.pw)||g+b.OV.r<L;if(!T)break;g+=b.OV.r;l++}I.push(l-W)}k[0]=I;
k[1]=d;k[2]=l};j5.awM=function(F,r){var $=F.length,C=new Uint32Array($),M=new Uint8Array($),l=0;for(var O=0;
O<$;O++){M[O]=0;var k=F.charCodeAt(O);C[O]=k;if(k>l)l=k}if(l>1424)M=j5.ae0(C,r);return M};j5.ac7=function(F){return F=="ß"?F:F.toUpperCase()};
j5.Ha=function(F,r,$,C,M,l,k){this.zG=[];this.M0=[];this.wT=new hx(0,0);this.Dq=null;this.zG=null;this.Pk=ho.aj4(F,C);
var d=this.Pk,x=0,z="",v=0,n=1,cd=0;if(C!=0){var I=d.SpaceBefore;if(I!=null)l[0]+=I}var c=F.EngineDict.ParagraphRun.RunLengthArray,Q=c[C];
for(var O=0;O<C;O++)x+=c[O];var U=d._Direction?d._Direction:0;this.a46=x;var S=ho.OD(F).slice(x,x+Q);
for(var V=0;V<S.length;V++){var t=$[x+V],Y=t.Pk.FontCaps,i=S.charAt(V);if(Y==0)z+=i;if(Y==1)z+=t.aDa?j5.ac7(i):i;
if(Y==2)z+=j5.ac7(i)}S=z;var J=j5.awM(S,U),H=[],G=J[0]&1,g=$[x].lJ;$[x].sF=J[0];for(var O=1;O<S.length;
O++){var i=$[x+O],W=J[O];i.sF=W;if(W!=G||i.lJ!=g){H.push(v,n);v=O;n=1;G=W;g=i.lJ}else n++}H.push(v,n);
var L=this.Dq=[];for(var O=0;O<H.length;O+=2){var b=H[O],T=H[O+1],a=($[x+b].sF&1)==0,D=S.slice(b,b+T),h=[];
for(var V=0;V<T;V++){var K=$[x+b+V].Pk,X=[];h.push(X);for(var w=0;w<8;w++)X.push(K[ho.gO[w]]?1:0);X.push(K.FontCaps==1?1:0)}h=j5.axj(h);
var N=Typr.U.shapeHB($[x+b].lJ,D,a,h),s=[];for(var V=0;V<N.length;V++){var A=N[V];s.push({L:A.g,Yl:A.cl,Rn:A.ax,WQ:A.ay,VC:A.dx,c$:A.dy})}N=s;
for(var V=0;V<D.length;V++){var p=0,q=-1;for(var f=0;f<N.length;f++){var n=N[f].Yl;if(n<=V&&n>q){q=n;
p=f}}$[x+b+V].ta=L.length+p}for(var V=0;V<N.length;V++){L.push(N[V]);N[V].Yl+=b;var i=$[x+N[V].Yl];if(i.g_!=-1&&i.g_<i.lJ.maxp.numGlyphs){N[V].L=i.g_;
var e=i.lJ.hmtx;if(e){var o=Object.keys(e)[0];N[V].Rn=e[o][i.g_]}}if(i.xn=="\n")N[V].Rn=0;if(i.xn=="\t")N[V].Rn=i.lJ.head.unitsPerEm*36/i.Pk.FontSize}}var E=ho.Nq(d),cj=this.zG=j5.$R(F,r,$,x,L,x,x+Q),u=this.M0,m=-1,z=[null,null,0];
while(cd<cj.length){j5.aBM(cj,M,d,k,l[0],cd,z);m++;var jN={start:cd,end:0,OV:new cS,wT:new hx(0,0),OW:!0},jz=0,g3=0;
u.push(jN);jN.end=z[2];if(jN.start==jN.end)throw"e";var eh=jN.end==cj.length;function iA(dI,b,kJ){var cA=kJ-b>>>1;
for(var O=0;O<cA;O++){var c2=dI[b+O];dI[b+O]=dI[kJ-1-O];dI[kJ-1-O]=c2}}for(var hd=1;hd<5;hd++){var kx=-1;
for(var O=jN.start;O<jN.end;O++){var W=$[cj[O].start].sF;if(kx==-1&&W>=hd)kx=O;else if(kx!=-1&&W<hd){iA(cj,kx,O);
kx=-1}}var b0=jN.end;if(U==0&&cj[b0-1].ZD)b0--;if(kx!=-1)iA(cj,kx,b0)}var gX=z[0],j$=z[1],kx=cd,i0=cd;
for(var f7=0;f7<j$.length;f7+=2){var am=M?j$[f7+1]-j$[f7]-d.StartIndent-d.EndIndent-(cd==0?d.FirstLineIndent:0):Infinity,gf=0;
kx=i0;i0+=gX[f7>>>1];var cC=this.aGz(kx,i0,cj,U,M!=null);if(M){if(E==1||eh&&E==4)gf=cC[1]+(am-cC[0]);
if(E==2||eh&&E==5)gf=cC[1]+(am-cC[0])/2;if(i0-kx==1&&cj[kx].OV.r>am)gf=0;if(m==0)gf+=d.FirstLineIndent;
gf+=d.StartIndent}else{if(E==0)gf=d.StartIndent+d.FirstLineIndent;if(E==1)gf=-cC[0]-d.EndIndent;if(E==2)gf=-cC[0]/2}gf+=j$[f7];
if(M&&E>2&&(E==6||!eh))this.aHS(kx,i0,cj,am,U,gf);else{var aD=gf;for(var O=kx;O<i0;O++){var c_=cj[O],a9=c_.OV.r;
c_.wT.x=aD;if(c_.C3=="\t")a9=Math.ceil((aD+4)/36)*36-aD;aD+=a9}}}cd=jN.end;for(var O=jN.start;O<jN.end;
O++){var e3=cj[O].OV.P();e3.aBg(cj[O].wT);jN.OV=jN.OV.DM(e3);jz=Math.max(jz,cj[O].$h);g3=Math.max(g3,cj[O].lineHeight)}jN.wT.y=m==0?0:u[m-1].wT.y+g3;
if(m==0){if(C==0&&M)l[0]+=jz;if(C!=0)l[0]+=g3;this.wT.y=l[0]}else l[0]+=g3;if(M)jN.OW=this.wT.y+jN.wT.y<M.y+M.$||C==0&&m==0}var c1=d.SpaceAfter;
if(c1!=null)l[0]+=c1};j5.Ha.prototype.aGz=function(F,r,$,C,M){var l=0,k=0;for(var O=F;O<r;O++)l+=$[O].OV.r;
if(M){if(C==0)for(var O=r-1;O>=F;O--)if($[O].ZD||$[O].pw)l-=$[O].OV.r;else break;if(C==1)for(var O=F;
O<r;O++)if($[O].ZD||$[O].pw){var d=$[O].OV.r;l-=d;k-=d}else break}return[l,k]};j5.Ha.prototype.aHS=function(F,r,$,C,M,l){var k=0,d=0,I=0,c=0;
for(var O=F;O<r;O++)if($[O].ZD)I++;else{k+=$[O].OV.r;d++}if(M==0)for(var O=r-1;O>=F;O--)if($[O].ZD||$[O].pw){if($[O].ZD){I--}}else break;
if(M==1)for(var O=F;O<r;O++)if($[O].ZD||$[O].pw){if($[O].ZD){I--;c++}}else break;if(d<=1||I==0){if(d==1)$[F].wT.x=l;
return}var Q=(C-k)/I,x=-c*Q;for(var O=F;O<r;O++){if($[O].ZD)this.Dq[$[O].A$].OV.r=$[O].OV.r=Q;$[O].wT.x=l+x;
x+=$[O].OV.r}};j5.a44=function(F,r,$,C,M,l,k){this.C3="";for(var O=0;O<k;O++)this.C3+=$[l+O].xn;this.ZD=k==1&&($[l].xn==" "||$[l].xn=="\t");
this.pw=k==1&&$[l].xn=="\n";this.start=l;this.end=l+k;this.OV=new cS;this.wT=new hx(0,0);this.$h=0;this.lineHeight=0;
var d=0,I=0;if(k==0){this.lineHeight=$[l].lineHeight;this.$h=$[l].$h;this.OV=new cS(0,-$[l].lineHeight,0,$[l].lineHeight)}var c=$[l].ta,Q=$[l+k-1].ta;
if(c==-1)return;if(Q<c){var x=c;c=Q;Q=x}while(Q+1<M.length&&M[Q].Yl==M[Q+1].Yl){Q++}this.A$=c;this.og=Q;
for(var U=c;U<=Q;U++){var S=M[U],z=$[C+S.Yl],V=F._LineOrientation==2&&(z.Pk.BaselineDirection!=2||j5.to(z.xn.charCodeAt(0))),t=Typr.U.glyphToPath(z.lJ,S.L),v=0;
S.path={C0:t.cmds,n:t.crds};var Y=z.Pk.FontSize,i=1/z.lJ.head.unitsPerEm*Y;if(!z.Pk.AutoKerning)d+=z.Pk.Kerning*2*i*z.scale.x;
S.wT=new hx(d,0);S.K$=0;if(V&&S.path.n.length>0){S.K$=-Math.PI/2;S.wT.x+=Y*.83;S.wT.y=-Y*.3+S.Rn*i/2;
S.Rn=Y/i}var J=S.Rn*i*z.scale.x;S.OV=new cS(0,-z.lineHeight,J,z.lineHeight);var H=S.OV.P();H.aBg(S.wT);
if(z.Pk.Tracking!=null)v=z.Pk.Tracking*.001*Y;if(z.Pk.FauxBold==!0)v+=.027*Y;d+=J+v;if(U<M.length-2)S.OV.r+=v;
if(k==1&&z.xn==" "){H.r+=2*v;S.wT.x+=v}else if(k==1&&z.xn!=null&&j5.to(z.xn.charCodeAt(0)))H.r+=v;this.OV=this.OV.DM(H);
this.$h=Math.max(this.$h,z.$h);this.lineHeight=Math.max(this.lineHeight,z.lineHeight)}};j5.nx=0;j5.a0v=function(F){if(j5.nx==2)return!0;
if(j5.nx==1)return!1;j5.nx=1;function r(){fetch(ht.lQ("code/ext/fribidi.wasm")).then(function($){return $.arrayBuffer()}).then(function($){return WebAssembly.instantiate($)}).then(function($){var C=$.instance.exports,M=C.memory,l=16,k=256,d=1,I=l|k,c=l|k|d;
j5.ae0=function(x,U){var S=x.length,z=S*4+4+S*4+S*4+S;dN.h2(C,z+S+1e7);var V=new Uint8Array(M.buffer),t=new Uint32Array(M.buffer),Y=C.calloc(z,1),i=Y+S*4,J=i+4,H=J+S*4,v=H+S*4;
t.set(x,Y>>>2);t[i>>>2]=U==0?I:c;C.fribidi_get_bidi_types(Y,S,J);C.fribidi_get_bracket_types(Y,S,J,H);
C.fribidi_get_par_embedding_levels_ex(J,H,S,i,v);var n=V.slice(v,v+S);C.free(Y);return n};j5.nx=2;var Q=new k6(_.E.c,!0);
Q.data={R:_.m.WF,TB:"add",jg:d3.r3,bw:null};if(F)F.a(Q)})}Typr.U.initHB(ht.lQ("code/ext/hb.wasm"),r);
return!1};j5.axj=function(F){var r=[],$=F.length,C=ho.aez;for(var M=0;M<9;M++){var l=C[M],d=null;if(l==null)continue;
var k=-1;for(var O=0;O<$;O++){var I=F[O][M];if(I!=k){if(d)d[3]=O;d=[l,I,O,O+1];r.push(d);k=I}}d[3]=$}return r};
function ho(){}ho.ia=function(F,r){for(var $ in r)F[$]=r[$]};ho.gO="_Ligatures _ContextualLigatures _DiscretionaryLigatures _Swash _StylisticAlternates _Titling _Ordinals _Fractions".split(" ");
ho.KH=[18,20,19,25,28,26,24,23];ho.abh="Standard Ligatures,Contextual Ligatures,Discretionary Ligatures,Swash,Stylistic Alternates,Titling Alternates,Ordinals,Fractions".split(",");
ho.aez="liga calt dlig swsh salt titl ordn frac smcp".split(" ");ho.DB=function(F,r,$,C){var M=ho.a7V();
if($)ho.WE(M,0,0,$);var l=new hS;if(C!=null)l.rotate(C);l.translate(Math.round(F),Math.round(r));var k={U:l,$E:M};
k.Yb=ho.a5A();k.xD=j.gd.j();k.xa=new cS;return k};ho.aI4=function(F){var r=["CharacterDirection",0];
for(var O=0;O<r.length;O+=2){if(F[r[O]]!=null&&F[r[O]]!=r[O+1]){throw"e";console.log(r[O],F[r[O]])}}if(F instanceof Array)for(var O=0;
O<F.length;O++)ho.aI4(F[O]);else if(F instanceof Object)for(var $ in F)ho.aI4(F[$])};ho.Nq=function(F,r){if(r==null)r=F.Justification;
var $=F._Direction?F._Direction:0;if($==1){if(r==0||r==3)r++;else if(r==1||r==4)r--}return r};ho.tq=function(F){if(F.add==null)return;
var r=F.$E,$=r.Curve,C=F.add.vmsk,M=C.M,l=j.b.oJ(M,2).n,k=F.U.P();k.v4();j.b.U(l,k,l);var d=l.slice(0,8);
for(var I=8;I<l.length;I+=6)d.push(l[I-2],l[I-1],l[I],l[I+1],l[I+2],l[I+3],l[I+4],l[I+5]);$.Points=d;
$.TextOnPathTRange=C.tn.slice(0);$.Reversed=C.ag;if(ho.C9(r)==1){var $=j5.M2(r.Curve),c=j.b.sY($[0]);
ho.SB(r,[0,0,c.r,c.$].map(Math.round));for(var O=0;O<d.length;O+=2){d[O]-=c.x;d[O+1]-=c.y}var Q=new hS(1,0,0,1,c.x,c.y);
Q.concat(F.U);F.U=Q}};ho.iC=function(F){if(F.add==null)return;var r=F.add.vmsk,$=F.$E.Curve,C=$.Points,M={C0:["M"],n:[C[0],C[1]]};
for(var O=0;O<C.length;O+=8){M.C0.push("C");M.n.push(C[O+2],C[O+3],C[O+4],C[O+5],C[O+6],C[O+7])}j.b.U(M.n,F.U,M.n);
var l=j.b.RJ(M,!0);r.M=l;r.ag=$.Reversed;r.tn=$.TextOnPathTRange.slice(0);F.add.vogk=Z.ud(l)};ho.MB=function(F){var r={t:0,L:0,X:0};
if(F){var $=F.Values;if(F.Type==1)r={t:$[1]*255,L:$[2]*255,X:$[3]*255};else if(F.Type==2){var C={classID:"CMYC",Cyn:{t:"doub",v:$[1]*100},Mgnt:{t:"doub",v:$[2]*100},Ylw:{t:"doub",v:$[3]*100},Blck:{t:"doub",v:$[4]*100}};
r=j.qS.MB(C)}else console.log("Unknown color type")}return r};ho.aox=function(F){for(var O=0;O<F.length;
O++){var r=F[O].StyleSheet.StyleSheetData,$=r.FillColor;if($&&$.Type==2){var C=ho.MB($);$.Type=1;$.Values=[1,C.t/255,C.L/255,C.X/255]}}};
ho.y2=function(F,r){var $;if(ho.C9(F.$E)==1){var C=ho.AA(F.$E);$=new cS(0,0,C[2]-C[0],C[3]-C[1])}else{$=r.Zz();
if(r.qs){var M=r.qs.P(),l=j.b.Vs($);j.b.U(l.n,M,l.n);$=j.b.sY(l.n)}}return $};ho.MV=function(F){var r=F[0];
for(var O=0;O<F.length;O++)r=ho.a1t(r,F[O]);return r};ho.a1t=function(F,r){var $={};for(var C in F)if(JSON.stringify(F[C])==JSON.stringify(r[C]))$[C]=F[C];
return $};ho.jl=function(F,r){var $=F.WX,C=-1;for(var O=0;O<$.length;O++)if($[O].Name==r)C=O;if(C==-1){C=$.length;
$.push({FontType:1,Name:r,Script:0,Synthetic:0})}F.Uz.Font=C};ho.OD=function(F){return F.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
ho.Y6=function(F,r){F.EngineDict.Editor.Text=r.replace(/\n/g,"\r")};ho.C9=function(F){return F.Curve&&F.Curve.TextOnPathTRange[0]>=0?2:F.EngineDict.Rendered.Shapes.Children[0].ShapeType};
ho.s2=function(F,r){var $=F.EngineDict.Rendered.Shapes.Children[0];$.ShapeType=r;var C=$.Cookie.Photoshop;
C.ShapeType=r;C.Base.ShapeType=r;if(r==0){delete C.BoxBounds;C.PointBase=[0,0]}if(r==1){delete C.PointBase;
C.BoxBounds=[0,0,1,1]}};ho.AA=function(F){return F.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
ho.SB=function(F,r){F.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=r};ho.ar0=function(F,r){var $=F.EngineDict.AlternateGlyphRun;
if($==null)return-1;var C=ho.nV($.RunLengthArray,r).tU;if($.RunArray[C]==null)return-1;var M=$.RunArray[C].Glyph;
return M==null?-1:M};ho.am_=function(F,r,$){var C=F.EngineDict.AlternateGlyphRun;if(C==null){C=F.EngineDict.AlternateGlyphRun=ho.a3a();
C.RunArray.push({});C.RunLengthArray.push(ho.OD(F).length)}var M=ho.nV(C.RunLengthArray,r),l=M.tU,k=r-M.bL,d=C.RunArray[l],I=JSON.stringify(d),c=C.RunLengthArray[l];
if(k!=0){C.RunArray.splice(l,0,JSON.parse(I));C.RunLengthArray.splice(l,0,k);C.RunLengthArray[l+1]-=k;
l++;c-=k;k=0}if(c!=1){C.RunArray.splice(l+1,0,JSON.parse(I));C.RunLengthArray.splice(l+1,0,c-1);C.RunLengthArray[l]=1;
c=1}d.Glyph=$};ho.a5H=function(F,r){var $=F.EngineDict.StyleRun.RunLengthArray;return ho.nV($,r).tU};
ho.a09=function(F,r){var $=F.ResourceDict.StyleSheetSet[0].StyleSheetData,C={};for(var M in $)C[M]=$[M];
var l=F.EngineDict.StyleRun.RunArray[r].StyleSheet.StyleSheetData;ho.ia(C,l);return C};ho.amF=function(F,r){var $=F.EngineDict.ParagraphRun.RunLengthArray;
return ho.nV($,r).tU};ho.aj4=function(F,r){var $=F.ResourceDict.ParagraphSheetSet[0].Properties,C={};
for(var M in $)C[M]=$[M];var l=F.EngineDict.ParagraphRun.RunArray[r].ParagraphSheet.Properties;ho.ia(C,l);
var k=["StartIndent","EndIndent","FirstLineIndent"];for(var O=0;O<3;O++)if(C[k[O]]==null)C[k[O]]=0;return C};
ho.uy=function(F,r,$){if($=="")return;var C=ho.OD(F);ho.Y6(F,C.substring(0,r)+$+C.substring(r,C.length));
var M=F.EngineDict.StyleRun,l=M.RunLengthArray,k=ho.nV(l,r-1);l[k.tU]+=$.length;var d=F.EngineDict.AlternateGlyphRun;
if(d){var l=d.RunLengthArray,k=ho.nV(l,r-1);l[k.tU]+=$.length}var I=F.EngineDict.ParagraphRun,l=I.RunLengthArray,c=ho.nV(l,r),Q=$.split("\n");
if(Q.length==1){l[c.tU]+=$.length;return}l.splice(c.tU+1,0,l[c.tU]-(r-c.bL));I.RunArray.splice(c.tU+1,0,j.N(I.RunArray[c.tU]));
l[c.tU]-=l[c.tU+1];l[c.tU]+=Q[0].length+1;for(var O=1;O<Q.length-1;O++){I.RunArray.splice(c.tU+O,0,j.N(I.RunArray[c.tU+O-1]));
I.RunLengthArray.splice(c.tU+O,0,Q[O].length+1)}l[c.tU+Q.length-1]+=Q[Q.length-1].length};ho._h=function(F,r,$){var C=ho.OD(F);
ho.Y6(F,C.substring(0,r)+C.substring($,C.length));ho.S3(F.EngineDict.ParagraphRun,r,$,!0);ho.S3(F.EngineDict.StyleRun,r,$,!1);
var M=F.EngineDict.AlternateGlyphRun;if(M)ho.S3(M,r,$,!1)};ho.S3=function(F,r,$,C){var M=F.RunLengthArray,l=ho.nV(M,r),k=ho.nV(M,$),d=[];
for(var O=0;O<M.length;O++)for(var I=0;I<M[O];I++)d.push(O);d.splice(r,$-r);var c=[];for(var O=0;O<M.length;
O++)c.push(0);for(var O=0;O<d.length;O++)c[d[O]]++;for(var O=0;O<M.length;O++){if(c[O]==0){c.splice(O,1);
M.splice(O,1);F.RunArray.splice(O,1);O--}else if(c[O]<M[O])M[O]=c[O]}if(C&&l.tU!=k.tU&&l.bL!=r){M[l.tU]+=M[l.tU+1];
M.splice(l.tU+1,1);F.RunArray.splice(l.tU+1,1)}};ho.WE=function(F,r,$,C){var M=F.EngineDict.Editor.Text.length;
if($==M-2)$++;if(C.Uz.Font!=null)F.ResourceDict.FontSet=C.WX.slice(0);if(r<=$)ho.aj9(F.EngineDict.StyleRun,C.Uz,r,$,!0);
ho.aj9(F.EngineDict.ParagraphRun,C.jv,r,$,!1)};ho.RT=function(F,r,$){var C={WX:F.ResourceDict.FontSet.slice(0),Uz:[],jv:[]},M=F.EngineDict.StyleRun.RunLengthArray,l=ho.nV(M,r).tU,k=ho.nV(M,$).tU;
for(var O=l;O<=k;O++){var d=j.N(F.ResourceDict.StyleSheetSet[0].StyleSheetData),I=F.EngineDict.StyleRun.RunArray;
if(I.length==0)continue;var c=I[O].StyleSheet.StyleSheetData;ho.ia(d,c);C.Uz.push(d)}var Q=F.EngineDict.ParagraphRun.RunLengthArray,x=ho.nV(Q,r).tU,U=ho.nV(Q,$).tU;
for(var O=x;O<=U;O++){var S=F.EngineDict.ParagraphRun.RunArray;if(S.length==0)continue;C.jv.push(j.N(S[O].ParagraphSheet.Properties))}C.Uz=C.Uz.length==0?{}:ho.MV(C.Uz);
C.jv=C.jv.length==0?{}:ho.MV(C.jv);return C};ho.aj9=function(F,r,$,C,M){var l=F.RunLengthArray;if(M){var k=ho.nV(l,$);
if(k.bL!=$){var d=l[k.tU];l.splice(k.tU,0,$-k.bL);l[k.tU+1]=d-l[k.tU];F.RunArray.splice(k.tU+1,0,j.N(F.RunArray[k.tU]))}var I=ho.nV(l,C);
if(I.bL+l[I.tU]-1!=C){var d=l[I.tU];l.splice(I.tU,0,C-I.bL+1);l[I.tU+1]=d-l[I.tU];F.RunArray.splice(I.tU+1,0,j.N(F.RunArray[I.tU]))}}var k=ho.nV(l,$),I=ho.nV(l,C);
if(M)for(var O=k.tU;O<=I.tU;O++)ho.ia(F.RunArray[O].StyleSheet.StyleSheetData,r);else for(var O=k.tU;
O<=I.tU;O++)ho.ia(F.RunArray[O].ParagraphSheet.Properties,r)};ho.afq=function(F,r,$){var C=F.EngineDict.StyleRun.RunLengthArray,M=[],l=0;
for(var O=0;O<C.length;O++){var k=C[O];for(var d=0;d<k;d++)if(r<=l+d&&l+d<$)M.push(O);l+=k}var I=M[0],c=[];
for(var O=0;O<M.length;O++){var Q=M[O]-I;if(Q==c.length)c.push(0);c[Q]++}return c};ho.ads=function(F){var r=F.EngineDict.StyleRun,$=r.RunArray,C=r.RunLengthArray;
for(var O=0;O<C.length-1;O++){var M=$[O].StyleSheet.StyleSheetData,l=$[O+1].StyleSheet.StyleSheetData;
if(JSON.stringify(M)==JSON.stringify(l)){$.splice(O+1,1);C[O]+=C[O+1];C.splice(O+1,1);O--}}};ho.dc=function(F){var r=F.Yb.AntA.v.Annt;
r=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(r);if(r==-1)r=1;return r};ho.Ue=function(F,r){F.Yb.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][r]};
ho.uM=function(F,r){var $,C;$=["FontSize","Leading","BaselineShift","OutlineWidth"];C=F.Uz;for(var O=0;
O<$.length;O++)if(C[$[O]]!=null)C[$[O]]*=r;$=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];
C=F.jv;for(var O=0;O<$.length;O++)if(C[$[O]]!=null)C[$[O]]*=r};ho.a3L=function(){return ho.RT(j.N(ho.ac_),0,0)};
ho.a5A=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0},VAlign:{t:"long",v:0}}};
ho.nV=function(F,r){var $=0,O=0;while($+F[O]<=r){$+=F[O];O++}return{tU:O,bL:$}};ho.a7V=function(){var F=j.N(this.ac_);
return F};ho.aFg=function(F,r){var $=r.jv};ho.aCS=function(F,r){var $=r.Uz,C;C=F.Undl;if(C&&C.v.Undl=="underlineOnLeftInVertical")$.Underline=!0;
C=F.syntheticItalic;if(C)$.FauxItalic=C.v};ho.asI={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
ho.ano={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundFlag:!1,_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
ho.a3a=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};ho.ac_={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:j.N(ho.asI)},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01ー\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々ぁぃぅぇぉっゃゅょゎァィゥェォッャュョヮヵヶ\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011ヽヾゝゞ々",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:j.N(ho.asI)}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:j.N(ho.ano)}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var l1={};l1.aGZ=function(F){var r=l1.aHN(F._0,F._1);l1.aIw(r,F._0);return r};l1.ag3=function(F,r,$){var C={};
C._98={_0:"i7"};C._0=l1.aCV(F,r,$?$._0:null);C._1=l1.afE(F,r,C._0,$?$._1:null);return C};l1.aCV=function(F,r,$){var C={};
C._1=l1.avK(F,$?$._1:null);C._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};C._3=j.N(l1.awX);C._4=j.N(l1.aHU);
C._5=l1.a3F(F,C._1._0,$?$._5:null);C._6=l1.axJ(F,$?$._6:null);C._8=l1.agc(F,r,$?$._8:null);C._9=l1.a5i;
return C};l1.aIw=function(F,r){l1.aoz(F,r._5,r._1._0)};l1.avK=function(F,r){var $=[],C=[];for(var O=0;
O<F.length;O++){var M=F[O].ResourceDict.FontSet;for(var l=0;l<M.length;l++){var k=M[l];if(C.indexOf(k.Name)!=-1)continue;
$.push(k);C.push(k.Name)}}var d={_0:[]};for(var O=0;O<$.length;O++){var I=$[O],c={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+I.Name,_1:"i"+I.Script,_2:"i"+I.FontType}}};
if(I.Script==0)delete c._0._0._1;d._0.push(c)}return d};l1.a3F=function(F,r,$){var C={_0:[],_1:[]},M={_0:j.N(l1.axZ)};
l1.avR(M._0,F[0].ResourceDict.StyleSheetSet[0],r,F[0].ResourceDict.FontSet);C._0.push(M);C._1.push({_0:"i0"});
C._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});C._1.push({_0:"i1"});return C};l1.aoz=function(F,r,$){var C=r._0[0];
for(var O=0;O<F.length;O++)l1.aoy(C._0,F[O].ResourceDict.StyleSheetSet[0],$,F[O].ResourceDict.FontSet)};
l1.axJ=function(F,r){var $={_0:[],_1:[]},C={_0:j.N(l1.J8)};l1.sV(C._0,F[0].ResourceDict.ParagraphSheetSet[0]);
$._0.push(C);$._1.push({_0:"i0"});C={_0:j.N(l1.J8)};l1.sV(C._0,F[0].ResourceDict.ParagraphSheetSet[0]);
C._0._0="sBasic Paragraph";C._0._6="i0";$._0.push(C);$._1.push({_0:"i1"});return $};l1.agc=function(F,r,$){var C={_0:[]};
for(var O=0;O<F.length;O++){var M=F[O].Curve,l={};C._0.push({_0:l});var k=ho.C9(F[O]);l._1={};l._2={};
l._2._0="i"+k;if(F[O]._LineOrientation==2)l._2._1="i2";if(k==0){delete l._1;l._2._6=["f-1","f-1"];l._2._11={_4:"i-1",_7:!1}}else if(k==1&&M==null){var d=ho.AA(F[O]),I=d[2],c=d[3];
l._1._0=l1.eo("f",[0,0,0,0,I,0,I,0,I,0,I,0,I,c,I,c,I,c,I,c,0,c,0,c,0,c,0,c,0,0,0,0]);l._2._6=["f-2","f-2"];
l._2._11={_4:"i-2",_7:!1}}else if(k==1){var d=ho.AA(F[O]),I=d[2],c=d[3];l._1._0=l1.eo("f",M.Points);
l._2._6=["f-3","f-3"];l._2._11={_4:"i-3",_7:!1}}else if(k==2){l._1._0=l1.eo("f",M.Points);l._2._6=l1.eo("f",M.TextOnPathTRange);
l._2._11={_0:M.Reversed,_3:"i0",_5:"f0",_7:!1}}}return C};l1.afE=function(F,r,$,C){var M={};M._0=j.N(l1.aF5);
M._1=l1.a6t(F,r,$,C?C._1:null);M._2=j.N(l1.axZ._6);M._3=j.N(l1.J8._5);return M};l1.aHN=function(F,r){return l1.alV(F,r._1)};
l1.a6t=function(F,r,$,C){var M=[],l=$._1._0;for(var O=0;O<F.length;O++){var k=F[O],d={_0:{}};M.push(d);
d._0._0="s"+k.EngineDict.Editor.Text;d._0._0=d._0._0;var I=d._0._5={_0:[]},c=k.EngineDict.ParagraphRun;
for(var Q=0;Q<c.RunArray.length;Q++){var x={_0:{}};I._0.push(x);x._0._0={_0:"s",_5:{},_6:"i1"};l1.sV(x._0._0,c.RunArray[Q].ParagraphSheet);
x._1="i"+c.RunLengthArray[Q]}var U=d._0._6={_0:[]};c=k.EngineDict.StyleRun;for(var Q=0;Q<c.RunArray.length;
Q++){var S={_0:{}};U._0.push(S);S._0._0={_0:"s",_5:"i1",_6:{}};l1.avR(S._0._0,c.RunArray[Q].StyleSheet,l,k.ResourceDict.FontSet);
S._1="i"+c.RunLengthArray[Q]}c=k.EngineDict.AlternateGlyphRun;if(c){var z=d._0._9={_0:[]};for(var Q=0;
Q<c.RunArray.length;Q++){var V={_0:{}};z._0.push(V);var t=c.RunArray[Q];if(t.Glyph!=null){V._0._0={_0:"i"+t.Glyph,_1:"e"}}V._1="i"+c.RunLengthArray[Q]}}d._0._10={_0:"i4",_2:!0};
d._1=l1.view.awJ(k,null,O,null)}return M};l1.alV=function(F,r){var $=[],C=F._1._0;if(r)for(var O=0;O<r.length;
O++){var M=ho.a7V();$.push(M);var l=r[O];M.EngineDict.Editor.Text=l._0._0.slice(1);var k=M.EngineDict.ParagraphRun.RunArray[0],d=M.EngineDict.ParagraphRun,I=l._0._5;
if(I)for(var c=0;c<I._0.length;c++){var Q=I._0[c];d.RunLengthArray[c]=parseInt(Q._1.slice(1));d.RunArray[c]=j.N(k);
l1.awe(Q._0._0,d.RunArray[c].ParagraphSheet)}else{d.RunLengthArray[0]=ho.OD(M).length}var x=l._0._6;
d=M.EngineDict.StyleRun;if(x)for(var c=0;c<x._0.length;c++){var U=x._0[c];d.RunLengthArray[c]=parseInt(U._1.slice(1));
d.RunArray[c]={StyleSheet:{StyleSheetData:{}}};l1.aoy(U._0._0,d.RunArray[c].StyleSheet,C,M.ResourceDict.FontSet)}else{d.RunLengthArray[0]=ho.OD(M).length;
d.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return $};l1.avR=function(F,r,$,C,M){F._0="s"+(r.Name?r.Name:"");
var l=F._6,k=M?M._6:null,d=r.StyleSheetData;if(d.Font!=null){var I=C[d.Font].Name,c=-1;for(var O=0;O<$.length;
O++)if("s"+I==$[O]._0._0._0){c=O;break}l._0="i"+c}if(d.FontSize!=null)l._1="f"+d.FontSize;if(d.FauxBold!=null)l._2=d.FauxBold;
if(d.FauxItalic!=null)l._3=d.FauxItalic;if(d.AutoLeading!=null)l._4=d.AutoLeading;if(d.Leading!=null)l._5="f"+d.Leading;
if(d.HorizontalScale!=null)l._6="f"+d.HorizontalScale;if(d.VerticalScale!=null)l._7="f"+d.VerticalScale;
if(d.Tracking!=null)l._8="i"+d.Tracking;if(d.BaselineShift!=null)l._9="f"+d.BaselineShift;if(d.AutoKerning!=null)l._11="i"+(d.AutoKerning?1:0);
if(d.FontCaps!=null)l._12="i"+d.FontCaps;if(d.FontBaseline!=null)l._13="i"+d.FontBaseline;if(d.Strikethrough!=null)l._15="i"+(d.Strikethrough?1:0);
if(d.Underline!=null)l._16="i"+(d.Underline?2:0);if(d.Ligatures!=null)l._18=d.Ligatures;if(d.DLigatures!=null)l._19=d.DLigatures;
if(d.BaselineDirection!=null)l._35="i"+d.BaselineDirection;if(d.Language!=null)l._38="i"+d.Language;
if(d.FillColor!=null)l._53=l1.vp(d.FillColor);if(d.StrokeColor!=null)l._54=l1.vp(d.StrokeColor);if(d.FillFlag!=null)l._56=d.FillFlag;
if(d.StrokeFlag!=null)l._57=d.StrokeFlag;if(d.FillFirst!=null)l._58=d.FillFirst;if(d.OutlineWidth!=null)l._63="f"+d.OutlineWidth;
if(d._FillBackgroundColor!=null)l._79=l1.vp(d._FillBackgroundColor);if(d._FillBackgroundFlag!=null)l._80=d._FillBackgroundFlag;
if(d._LineCap!=null)l._61="i"+d._LineCap;if(d._LineJoin!=null)l._62="i"+d._LineJoin;if(d._MiterLimit!=null)l._64="f"+d._MiterLimit;
if(d._LineDashOffset!=null)l._65="f"+d._LineDashOffset;if(d._LineDashArray!=null)l._66=l1.eo("f",d._LineDashArray);
for(var O=0;O<8;O++)if(d[ho.gO[O]]!=null)l["_"+ho.KH[O]]=d[ho.gO[O]]};l1.vp=function(F){return{_99:"/SimplePaint",_0:{_0:"i1",_1:l1.eo("f",F.Values)}}};
l1.aoy=function(F,r,$,C){var M=F._6;if(M==null)return;var l=r.StyleSheetData;if(M._0){var k=parseInt(M._0.slice(1)),d=$[k]._0._0._0.slice(1);
ho.jl({Uz:l,WX:C},d)}if(M._1!=null)l.FontSize=parseFloat(M._1.slice(1));if(M._2!=null)l.FauxBold=M._2;
if(M._3!=null)l.FauxItalic=M._3;if(M._4!=null)l.AutoLeading=M._4;if(M._5!=null)l.Leading=parseFloat(M._5.slice(1));
if(M._6!=null)l.HorizontalScale=parseFloat(M._6.slice(1));if(M._7!=null)l.VerticalScale=parseFloat(M._7.slice(1));
if(M._8!=null)l.Tracking=parseFloat(M._8.slice(1));if(M._9!=null)l.BaselineShift=parseFloat(M._9.slice(1));
if(M._11!=null)l.AutoKerning=parseFloat(M._11.slice(1))==1;if(M._12!=null)l.FontCaps=parseFloat(M._12.slice(1));
if(M._13!=null)l.FontBaseline=parseFloat(M._13.slice(1));if(M._15!=null)l.Strikethrough=parseFloat(M._15.slice(1))==1;
if(M._16!=null)l.Underline=parseFloat(M._16.slice(1))==1;if(M._18!=null)l.Ligatures=M._18;if(M._19!=null)l.DLigatures=M._19;
if(M._35!=null)l.BaselineDirection=parseFloat(M._35.slice(1));if(M._38!=null)l.Language=parseFloat(M._38.slice(1));
if(M._53!=null)l.FillColor=l1.iG(M._53);if(M._54!=null)l.StrokeColor=l1.iG(M._54);if(M._56!=null)l.FillFlag=M._56;
if(M._57!=null)l.StrokeFlag=M._57;if(M._63!=null)l.OutlineWidth=parseFloat(M._63.slice(1));if(M._79!=null)l._FillBackgroundColor=l1.iG(M._79);
if(M._80!=null)l._FillBackgroundFlag=M._80;if(M._61!=null)l._LineCap=parseFloat(M._61.slice(1));if(M._62!=null)l._LineJoin=parseFloat(M._62.slice(1));
if(M._64!=null)l._MiterLimit=parseFloat(M._64.slice(1));if(M._65!=null)l._LineDashOffset=parseFloat(M._65.slice(1));
if(M._66!=null)l._LineDashArray=l1.ko(M._66);for(var O=0;O<8;O++)if(M["_"+ho.KH[O]]!=null)l[ho.gO[O]]=M["_"+ho.KH[O]]};
l1.iG=function(F){var r=F._0._0,$=[1,0,0,0],C=l1.ko(F._0._1);if(r=="i0")$[1]=$[2]=$[3]=C[1];else if(r=="i1")$=C;
else if(r=="i2")$=[1].concat(UDOC.C.cmykToRgb(C.slice(1)));else console.log("unknown color type",r,C);
return{Type:1,Values:$}};l1.sV=function(F,r){F._0="s"+(r.Name?r.Name:"");var $=F._5,C=r.Properties;if(C.Justification!=null)$._0="i"+C.Justification;
if(C.FirstLineIndent!=null)$._1="f"+C.FirstLineIndent;if(C.StartIndent!=null)$._2="f"+C.StartIndent;
if(C.EndIndent!=null)$._3="f"+C.EndIndent;if(C.SpaceBefore!=null)$._4="f"+C.SpaceBefore;if(C.SpaceAfter!=null)$._5="f"+C.SpaceAfter;
if(C.AutoLeading!=null)$._7="f"+C.AutoLeading;if(C.AutoHyphenate!=null)$._9=C.AutoHyphenate;if(C._Direction!=null)$._33="i"+C._Direction;
if(C._ComposerEngine!=null)$._35="i"+C._ComposerEngine};l1.awe=function(F,r){var $=F._5;if($==null)return;
var C=r.Properties;if($._0)C.Justification=parseInt($._0.slice(1))};l1.eo=function(F,r){var $=[];for(var O=0;
O<r.length;O++)$.push(F+r[O]);return $};l1.ko=function(F){var r=[];for(var O=0;O<F.length;O++)r.push(parseFloat(F[O].slice(1)));
return r};l1.awX={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
l1.aHU={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ぁぃぅぇぉっゃゅょゎ\u309B\u309Cゝゞァィゥェォッャュョヮヵヶ\u30FBーヽヾ\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002々\u3009\u300B\u300A\u300F\u3011\u3015ゝゞ\u30FBヽヾ\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
l1.axZ={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
l1.J8={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
l1.a5i={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
l1.aF5={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var ak={};ak.a8A=function(F){return ak.rk(F,ak.rp,0)};ak.a58=function(F){return ak.lv(F,ak.rp)};ak.rk=function(F,r,$){var C;
if(typeof F=="string")return F;if(F instanceof Array){C=[];for(var O=0;O<F.length;O++)C[O]=ak.rk(F[O],r,$+1)}else{C={};
var M={};for(var l in r){var k=r[l],d="_"+k[0];if(F[d]!=null){C[l]=k[1]?ak.rk(F[d],k[1],$+1):F[d];M[d]=!0}}for(var l in F){if(M[l]==null){if(l.length>3)continue;
console.log(r,M);console.log(l,F);throw"e"}}}return C};ak.lv=function(F,r){var $;if(typeof F=="string")return F;
else if(F instanceof Array){$=[];for(var O=0;O<F.length;O++)$[O]=ak.lv(F[O],r)}else{$={};var C={};for(var M in r){var l=r[M],k="_"+l[0];
if(F[M]!=null){$[k]=l[1]?ak.lv(F[M],l[1]):F[M];C[M]=!0}}for(var M in F){if(C[M]==null){console.log(r,C);
console.log(M,F);throw"e"}}}return $};ak.jW={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
ak.UI={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,ak.jW],_StrokeColor:[54,ak.jW],_Blend:[55,{_0:[0],_1:[1],_2:[2],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,ak.jW],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90],_92:[92],_93:[93]};
ak.ayJ={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,ak.UI],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40],_41:[41]};
ak.a74={_Name:[0],_Features:[5,ak.ayJ],_Parent:[6],_UUID:[97]};ak.azz={_Name:[0],_Parent:[5],_Features:[6,ak.UI],_UUID:[97]};
ak.rp={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1],_2:[2]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,ak.azz]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,ak.a74]}],_DisplayList:[1,{_Resource:[0]}]}],_7:[7,{_Resources:[0,{_Resource:[0,{_0:[0,{_0:[0],_1:[1,{_0:[0]}]}],_1:[1],_UUID:[97]}]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_3:[3],_4:[4],_5:[5],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18],_22:[22]}],_12:[12],_13:[13]}],_3:[3,{_0:[0]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_MinDigits:[2],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6],_UseOriginalFont:[7]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_12:[12],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,ak.a74]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,ak.azz]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}],_AlternateGlyph:[1]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2],_4:[4],_5:[5]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,ak.UI],_OriginalNormalParagraphFeatures:[3,ak.ayJ],_4:[4],_5:[5]}]};
l1.view={};l1.view.awJ=function(F,r,$,C){var M={},l=ho.C9(F);M._0=[{_0:"i"+$}];return M};function CSS(){}CSS.aIu=function(F,r){var $=F.add,C=$.vmsk,M=$.vstk,l=$.lmfx,k=$.TySh,d=[],I=CSS.Cj(l,$),c=F.gk/255*(F.add.iOpa!=null?F.add.iOpa/255:1);
if(c!=1)d.push("opacity: "+c.toFixed(3));if(F.Og()&&C){var Q=j.w.t8(C.M);if(!Q.XS()){d.push("width: "+Math.round(Q.r)+"px");
d.push("height: "+Math.round(Q.$)+"px")}var x=j.w.apN(C.M);if(x>0)d.push("border-radius: "+Math.round(x)+"px")}else if(k){var U=k.$E;
if(ho.C9(U)==1){var Q=ho.AA(U);d.push("width: "+Math.round(Q[2])+"px");d.push("height: "+Math.round(Q[3])+"px")}CSS.axC(d,ho.RT(U,0,0),k.U,!1,!1,I[0])}CSS.aaZ(r,l,d);
if(k==null)CSS.au$(I,d);if(M==null||!M.strokeEnabled.v)M=en.a8x(l);if(M&&M.strokeEnabled.v){var S=M.strokeStyleContent.v,z=S.classID,V=M.strokeStyleOpacity.v.val/100,t=M.strokeStyleLineWidth.v.val,Y="";
if(z=="solidColorLayer")Y=CSS.e9(S.Clr.v,V);d.push("border: "+t+"px solid "+Y)}return d};CSS.aaZ=function(F,r,$){if(r==null||!r.masterFXSwitch.v)return;
var C=r.dropShadowMulti.v.concat(r.innerShadowMulti.v);for(var O=0;O<C.length;O++){var M=C[O].v;if(M.enab.v){var l=M.classID=="IrSh",k=M.Dstn.v.val,d=M.lagl.v.val*Math.PI/180;
if(M.uglg&&M.uglg.v)d=F.e4()*Math.PI/180;var I=k*Math.cos(d),c=k*Math.sin(d),Q=(I==0?"0 ":CSS.a4l(-I)+"px ")+(c==0?"0 ":CSS.a4l(c)+"px ")+M.blur.v.val/2+"px "+CSS.e9(M.Clr.v,M.Opct.v.val/100);
if(l)$.push("box-shadow: inset "+Q);else $.push("filter: drop-shadow("+Q+")")}}};CSS.Cj=function(F,r){var $=en.aww(F,r),C=$[0],M=$[1],l,k;
if(C){l=CSS.e9(C.Clr.v,r.iOpa!=null?r.iOpa/255:1)}else if(M){k=CSS.ee(M)}return[l,k]};CSS.au$=function(F,r){if(F[0])r.push("background-color: "+F[0]);
if(F[1])r.push("background-image: "+F[1])};CSS.bb={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.a4l=function(bU){return""+parseFloat(bU.toFixed(3))};CSS.Eq=function(F){if(F==null)return{t:0,L:0,X:0};
var r=F.indexOf("(");if(r!=-1){var $=F.slice(r+1,F.length-1).split(",");for(var O=0;O<$.length;O++){var C=$[O].trim();
$[O]=parseFloat(C)*(C.endsWith("%")?255/100:1)}if(F.startsWith("hsl")){var M=j.dn($[0]/360,$[1]/255,$[2]/255);
M.t*=255;M.L*=255;M.X*=255;return M}return{t:$[0],L:$[1],X:$[2]}}if(F.charAt(0)!="#"){var l=CSS.bb;if(l[F])F=l[F];
else console.log("unknown color "+F)}F=F.slice(1);if(F.length==4)F=F[0]+F[0]+F[1]+F[1]+F[2]+F[2]+F[3]+F[3];
if(F.length==3)F=F[0]+F[0]+F[1]+F[1]+F[2]+F[2];var k=-1;if(F.length==8){k=parseInt(F.slice(6),16);F=F.slice(0,6)}F=parseInt(F,16);
var d={t:F>>16&255,L:F>>8&255,X:F&255};if(k!=-1)d.xz=k;return d};CSS.e9=function(F,r){return CSS.ix(j.qS.MB(F),r)};
CSS.ix=function(F,r){if(r==null)r=1;var $=Math.round(F.t),C=Math.round(F.L),M=Math.round(F.X),l=$<<16|C<<8|M;
return r==1?"#"+j.lN(l):"rgba("+$+","+C+","+M+","+r+")"};CSS.aba=function(F,r){return CSS.ix({t:F[0]*255,L:F[1]*255,X:F[2]*255},r)};
CSS.ee=function(F){var r=F.Grad.v;if(r.Clrs==null)return"";var $=r.Clrs.v.slice(0),C=r.Trns.v.slice(0),M=F.Ofst.v,l=F.Type.v.GrdT=="Rdl"?1:0,k=(l==1?"radial":"linear")+"-gradient",d=l==0?Math.round(-F.Angl.v.val+90)+"deg":"circle at center",I=F.Rvrs.v,c=j.qS.apI(r,I);
for(var O=0;O<c.length;O++){var Q=c[O],x=Q[1];d+=", "+CSS.ix({t:x[0]*255,L:x[1]*255,X:x[2]*255},Q[2])+" "+Math.round(Q[0]*100)+"%"}return k+"("+d+")"};
CSS.axC=function(F,r,$,C,M,l){var k=r.Uz,d=C?1:$.w5(),I=Math.round(k.FontSize*d);F.push("font-size: "+I+"px");
var c=k.Tracking;if(!C&&c!=null&&c!=0)F.push("letter-spacing: "+Math.round(c*I/1e3)+"px");if(!k.AutoLeading)F.push("line-height: "+Math.round(k.Leading*d)+"px");
if(k.Strikethrough)F.push("text-decoration: line-through");if(k.Underline)F.push("text-decoration: underline");
if(k.FontCaps==2)F.push("text-transform: uppercase");var Q=ho.MB(k.FillColor);Q=[Q.t,Q.L,Q.X].map(Math.round);
F.push((C?"fill: ":"color: ")+(l?l:"#"+j.lN(Q[0]<<16|Q[1]<<8|Q[2])));var x=r.WX[k.Font].Name;if(x){var U=cR.cO.yV(x),S="",z=null,V=null;
if(U!=null&&x!=cR.mc(U))U=null;if(M&&U)S+="\""+x+"\", ";var t=x.toLowerCase();if(U){z=cR.am$(U)[0];if(U["OS/2"])V=U["OS/2"].usWeightClass}else{z=CSS.awC(x);
if(t.indexOf("light")!=-1)V=300;else if(t.indexOf("medium")!=-1)V=500;else if(t.indexOf("black")!=-1||t.indexOf("extrabold")!=-1)V=800;
else if(t.indexOf("bold")!=-1)V="bold"}if(z!=null)S+="\""+z+"\"";if(V!=null)F.push("font-weight: "+V);
if(t.indexOf("italic")!=-1||t.indexOf("oblique")!=-1)F.push("font-style: italic");if(S)F.push("font-family: "+S)}var Y=r.jv.Justification;
if(Y!=null&&Y!=0)if(C){}else F.push("text-align: "+["left","right","center"][Y%3])};CSS.awC=function(F){F=F.split("-")[0];
while(F.endsWith("MT")||F.endsWith("PS"))F=F.slice(0,F.length-2);var r=!0;for(var O=0;O<F.length;O++){var $=F.charAt(O);
if(!r&&$.toLowerCase()!=$){F=F.slice(0,O)+" "+F.slice(O);O++;r=!0}else r=!1}return F};function kv(){}kv.mq={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
kv.DS=function(F,r){var $=Date.now(),C=F.split("\n"),M;if(C.length==1)C=F.split("\r");for(var O=0;O<C.length;
O++)if(C[O].trim()[0]=="#"){C[O]=""}F=C.join("\n");try{M=acorn.parse(F)}catch(ac){console.log(ac);return}var l=j.N(kv.Br.t4);
l.__return=!1;l.__continue=!1;l.__break=!1;l.__throw=!1;l.__fs={};l.__window={};kv.eval(M,r,l);var k=l.__fs;
if(Object.keys(k).length!=0){var d=UZIP.encode(k);bF.save(d,"output.zip")}};kv.eval=function(F,r,$){var C=F.type;
if(!1){}else if(C=="Program"||C=="BlockStatement"){var M=F.body;for(var O=0;O<M.length;O++){var l=M[O].type;
if(l=="FunctionDeclaration")$[M[O].id.name]=M[O]}for(var O=0;O<M.length;O++){var l=M[O].type,k=kv.eval(M[O],r,$);
if($.__continue&&$.__pif==null){$.__continue=!1;return k}if($.__return||$.__break||$.__throw)return k}}else if(C=="ReturnStatement"){$.__return=!0;
return F.argument?kv.XZ(F.argument,r,$):null}else if(C=="BreakStatement"){$.__break=!0}else if(C=="ContinueStatement"){$.__continue=!0}else if(C=="VariableDeclaration"){var d=F.declarations;
for(var O=0;O<d.length;O++)kv.eval(d[O],r,$)}else if(C=="VariableDeclarator"){$[F.id.name]=F.init?kv.XZ(F.init,r,$):null}else if(C=="FunctionDeclaration"){$[F.id.name]=F}else if(C=="MemberExpression"){var I=kv.XZ(F.object,r,$),k;
if($.__throw)return;var c=F.computed?kv.XZ(F.property,r,$):kv.eval(F.property,r,$);if(I.BS!=null)k=kv.Br.Ic(I,c,r,$);
else if(I==window&&kv.mq[c]){}else k=I[c];return k}else if(C=="ArrayExpression"){var Q=[],x=F.elements;
for(var O=0;O<x.length;O++)Q.push(kv.XZ(x[O],r,$));return Q}else if(C=="ObjectExpression"){var Q={},x=F.properties;
for(var O=0;O<x.length;O++){var U=x[O],S=x[O].key.name?x[O].key.name:x[O].key.value;Q[S]=kv.XZ(x[O].value,r,$)}return Q}else if(C=="ExpressionStatement"){return kv.eval(F.expression,r,$)}else if(C=="NewExpression"){var z=F.arguments,V=F.callee,t=V.type,Y=V.name,i=[],Q=null;
for(var O=0;O<z.length;O++)i.push(kv.XZ(z[O],r,$));if(Y=="Array")Q=new window[Y];else if(t=="Identifier")Q=kv.Br.ai7(Y,i,r,$);
else throw"e";if(Q==null)throw"new "+Y;return Q}else if(C=="CallExpression"){var z=F.arguments,V=F.callee,t=V.type,J={};
for(var H in $)J[H]=$[H];var i=[];for(var O=0;O<z.length;O++)i.push(kv.XZ(z[O],r,$));if(t=="Identifier"){var v=V.name,n=$[v];
if(n&&n.BS=="AppFunc"){v=n.du;n=null}if(n){if(n.params){var G=n.params;for(var O=0;O<G.length;O++)J[G[O].name]=i[O];
return kv.eval(n.body,r,J)}else{return n.apply(null,i)}}else if(kv.Br.aoi.indexOf(v)!=-1)return kv.Br.Wl({BS:"Application"},v,i,r,$);
else if(window[v]==null)console.log("Unknown function "+v);else if(kv.mq[v])alert(v+"() not available");
else{var g=window[v].apply(window,i);return g}}else if(t=="MemberExpression"){var I=kv.XZ(V.object,r,$),c=V.computed?kv.XZ(V.property,r,$):kv.eval(V.property,r,$);
if(I==window&&kv.mq[c])return;if(I.BS!=null)return kv.Br.Wl(I,c,i,r,$);else if(c=="sort"&&I[0]&&I[0].BS=="Layer"){return I.sort(function(o,E){return o.Y.getName()>E.Y.getName()?1:-1})}else if(c=="toSource")return JSON.stringify(I);
else return I[c].apply(I,i)}else if(t=="FunctionExpression"){var W=kv.eval(V.body,r,$);$.__return=!1;
return W}else console.log(F)}else if(C=="AssignmentExpression"){var L=F.operator,b=F.left,T=b.type,a=kv.XZ(b,r,$),R=kv.XZ(F.right,r,$),k=null;
if(!1){}else if(L=="=")k=R;else if(L=="+=")k=a+R;else if(L=="-=")k=a-R;else if(L=="*=")k=a*R;else if(L=="/=")k=a/R;
else if(L=="%=")k=a%R;else if(L=="&=")k=a&R;else if(L=="|=")k=a|R;else if(L=="&&=")k=a&&R;else if(L=="||=")k=a||R;
else console.log(F);if(T=="Identifier"){var D=b.name;if($.hasOwnProperty(D))$[D]=k;else $.__window[D]=k}else if(T=="MemberExpression"){var h=kv.eval(b.property,r,$),K=kv.XZ(b.object,r,$);
if(K.BS!=null)kv.Br.afH(K,h,k,r,$);else K[h]=k}else console.log(F);return k}else if(C=="Identifier")return F.name;
else if(C=="Literal")return F.value;else if(C=="UpdateExpression"){var L=F.operator,X=F.argument.name,Q=kv.XZ(F.argument,r,$),w=$;
if(w[X]==null)w=$.__window;if(!1){}else if(L=="++"){w[X]++;return F.prefix?w[X]:w[X]-1}else if(L=="--"){w[X]--;
return F.prefix?w[X]:w[X]+1}else console.log(F)}else if(C=="UnaryExpression"){var L=F.operator,N=kv.XZ(F.argument,r,$);
if(N&&N.BS=="UnitValue"){if(L=="-")return-N.Y;else return kv.aqh(N.Y,L)}else return kv.aqh(N,L)}else if(C=="BinaryExpression"||C=="LogicalExpression"){var L=F.operator,b=kv.XZ(F.left,r,$);
if(C=="LogicalExpression"&&L=="&&"&&!b)return b;var N=kv.XZ(F.right,r,$);if(b==null||N==null)return kv.I5(b,N,L);
else if(b.BS=="UnitValue"&&N.BS=="UnitValue")return kv.I5(b.Y,N.Y,L);else if(b.BS=="UnitValue")return kv.I5(b.Y,N,L);
else if(N.BS=="UnitValue"){if(L=="-")return-(b-N.Y);else return kv.I5(b,N.Y,L)}else return kv.I5(b,N,L)}else if(C=="IfStatement"){var s=kv.XZ(F.test,r,$),A=$.__pif,k=null;
$.__pif=!0;if(s)k=kv.eval(F.consequent,r,$);else if(F.alternate)k=kv.eval(F.alternate,r,$);$.__pif=A;
return k}else if(C=="ConditionalExpression"){var s=kv.XZ(F.test,r,$);if(s)return kv.XZ(F.consequent,r,$);
else if(F.alternate)return kv.XZ(F.alternate,r,$)}else if(C=="ForInStatement"){kv.eval(F.left,r,$);var p=F.left.declarations[0].id.name,q=kv.XZ(F.right,r,$);
for(var H in q){$[p]=H;var f=kv.eval(F.body,r,$);if($.__break)break;if($.__return)return f}$.__break=!1}else if(C=="ForStatement"){kv.eval(F.init,r,$);
while(kv.eval(F.test,r,$)){var f=kv.eval(F.body,r,$);if($.__break)break;if($.__return)return f;kv.eval(F.update,r,$)}$.__break=!1}else if(C=="WhileStatement"){while(kv.eval(F.test,r,$)){var f=kv.eval(F.body,r,$);
if($.__break)break;if($.__return)return f}$.__break=!1}else if(C=="DoWhileStatement"){do{var f=kv.eval(F.body,r,$);
if($.__break)break;if($.__return)return f}while(kv.eval(F.test,r,$));$.__break=!1}else if(C=="TryStatement"){kv.eval(F.block,r,$);
if($.__throw){var e=F.handler;$[e.param.name]=$.__throw;$.__throw=!1;kv.eval(e.body,r,$);delete $[e.param.name]}}else if(C=="FunctionExpression"){return F}else if(C=="EmptyStatement"){}else console.log(F)};
kv.I5=function(F,r,$){if($=="+")return F+r;else if($=="-")return F-r;else if($=="*")return F*r;else if($=="/")return F/r;
else if($=="%")return F%r;else if($=="^")return F^r;else if($=="&")return F&r;else if($=="&&")return F&&r;
else if($=="|")return F|r;else if($=="||")return F||r;else if($=="<")return F<r;else if($==">")return F>r;
else if($=="=="){if(F!=null&&r!=null&&F.BS&&r.BS)return F.Y==r.Y;return F==r}else if($=="===")return F===r;
else if($=="<=")return F<=r;else if($==">=")return F>=r;else if($=="!=")return F!=r;else if($=="!==")return F!==r;
else if($=="<<")return F<<r;else if($==">>")return F>>r;else console.log($)};kv.aqh=function(F,r){if(r=="-")return-F;
else if(r=="!")return!F;else if(r=="~")return~F;else if(r=="+")return F;else if(r=="typeof")return typeof F;
else console.log(r,F)};kv.XZ=function(F,r,$){var C=F.type;if(C=="Identifier")return kv.alw(F.name,r,$);
else return kv.eval(F,r,$)};kv.alw=function(F,r,$){if(F=="undefined")return undefined;else if($.hasOwnProperty(F))return $[F];
else if(F=="app")return{BS:"Application"};else if(F=="Folder")return{BS:"Folder"};else if(F=="File")return{BS:"File"};
else if(F=="$")return{BS:"$"};else if(kv.Br.a4d.indexOf(F)!=-1)return kv.Br.Ic({BS:"Application"},F,r,$);
else if(kv.Br.aoi.indexOf(F)!=-1)return{BS:"AppFunc",du:F};else if($.__window.hasOwnProperty(F))return $.__window[F];
else if(window[F]&&!kv.mq[F])return window[F];else{$[F]=null;return null}};kv.Br={};kv.Br.ai7=function(F,r,$,C){var M;
if(F=="PathPointInfo")M={BS:F,kind:0,Z:[],ni:[],Pj:[]};if(F=="SubPathInfo")M={BS:F,ZC:0,od:!1,Y:[]};
if(F=="SolidColor")M={BS:F,Y:[1,0,0,0]};if(F=="RGBColor")M={BS:F,Y:[1,0,0,0]};if(F=="Window")M={BS:F,Y:new kW(r[0],r[1],r[2])};
if(F=="ExportOptionsSaveForWeb")M={BS:F,Y:{$I:"png",zC:100}};if(F=="PhotoshopSaveOptions")M={BS:F,Y:{$I:"psd"}};
if(F=="PNGSaveOptions")M={BS:F,Y:{$I:"png",zC:100}};if(F=="JPEGSaveOptions")M={BS:F,Y:{$I:"jpg",zC:100}};
if(F=="PDFSaveOptions")M={BS:F,Y:{$I:"pdf",a6O:""}};if(F=="File")M={BS:F,Y:r[0]};if(F=="ActionReference")M={BS:F,Y:{t:"obj ",v:[]}};
if(F=="ActionDescriptor")M={BS:F,Y:{t:"Objc",v:{classID:"null"}}};if(F=="ActionList")M={BS:F,Y:{t:"VlLs",v:[]}};
if(F=="UnitValue"){var l=0,k="px",d=r[0],I=r[1];if(d){l=parseFloat(d);if(typeof d=="string"&&d.indexOf(" ")!=-1)k=d.split(" ").pop()}M={BS:F,Y:l,a8P:I?I:k}}return M};
kv.Br.a4d="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
kv.Br.aoi="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction showWindow UnitValue".split(" ");
kv.Br.Ic=function(F,r,$,C){var M=$.e,l=$.yP();if(!1){}else if(r=="typename"){if(F.BS=="Layer")return F.Y.EX()?"LayerSet":"ArtLayer";
else return F.BS}else if(["Document","Layer"].indexOf(F.BS)!=-1&&["layers","artLayers","layerSets"].indexOf(r)!=-1){var k=l;
if(F.BS=="Document")k=F.Y;else k=F.oU;var d=k.root,I={BS:"Layers",alf:r,Y:[],oU:k};if(F.BS=="Layer")d=k.root.yw(k.u.indexOf(F.Y));
if(d.children==null)return null;for(var O=0;O<d.children.length;O++){var c=d.children[O].z,Q=c.EX();
if(Q&&r=="artLayers"||!Q&&r=="layerSets")continue;I.Y.push({BS:"Layer",Y:c,oU:k})}I.Y.reverse();return I}else if(F.BS=="Documents"||F.BS=="Layers"||F.BS=="HistoryStates"||F.BS=="LayerComps"||F.BS=="PathItems"||F.BS=="SubPathItems"||F.BS=="PathPoints"){if(!1){}else if(r=="length")return F.Y.length;
else if(Number.isInteger(r))return F.Y[r];else console.log(F.BS+": unknown property ",r)}else if(F.BS=="Application"){if(!1){}else if(r=="activeDocument")return{BS:"Document",Y:$.yP()};
else if(r=="documents"){var I={BS:"Documents",Y:[]};for(var O=0;O<$.Mi.length;O++)I.Y.push({BS:"Document",Y:$.Mi[O]});
return I}else if(r=="fonts")return{BS:"TextFonts"};else if(r=="preferences")return{BS:"Preferences"};
else if(r=="displayDialogs")return{BS:"DialogModes"};else if(r=="foregroundColor"||r=="backgroundColor"){var x=r[0]=="f"?M.y1:M.J2;
return{BS:"SolidColor",Y:[1,(x>>>16&255)/255,(x>>>8&255)/255,(x>>>0&255)/255]}}else if(r=="UI")return{BS:"UI"};
else if(r=="version")return 30;else console.log(F,r)}else if(F.BS=="Document"){var l=F.Y;if(!1){}else if(r=="activeLayer"){var c=l.u[l.K[0]];
return{BS:"Layer",Y:c,oU:l}}else if(r=="pixelAspectRatio")return 1;else if(r=="resolution")return l.YV;
else if(r=="width")return l.r;else if(r=="height")return l.$;else if(r=="name")return l.name;else if(r=="saved")return!l.MO();
else if(r=="selection")return{BS:"Selection"};else if(r=="activeHistoryState")return{BS:"HistoryState",Sc:l.Qc};
else if(r=="source")return l.Xc;else if(r=="layerComps"){var U=l.on.list.v,S=[];for(var O=0;O<U.length;
O++)S.push({BS:"LayerComp",Y:O});return{BS:"LayerComps",Y:S}}else if(r=="historyStates"){var z=[];for(var O=0;
O<l.history.length;O++)z.push({BS:"HistoryState",Sc:O});return{BS:"HistoryStates",Y:z}}else if(r=="mode")return l.add.fcmy?1:7;
else if(r=="colorSamplers"){var I={BS:"ColorSamplers",alf:r,Y:l.wa.slice(0),oU:l};return I}else if(r=="pathItems"){var V=[],l=F.Y,t=l.Ug(),Y=t[0],i=t[1];
for(var O=0;O<Y.length;O++)V.push({BS:"PathItem",Y:Y[O]});return{BS:"PathItems",Y:V}}else console.log(F,r)}else if(F.BS=="PathItem"){if(r=="subPathItems"){var J=F.Y,H=J.add.vmsk.M,V=[];
for(var O=0;O<j.w.Us(H);O++){var v=j.w.ZZ(H,O),n=H[v],G=H.slice(v+1,v+1+n.length);V.push({BS:"SubPathItem",ZC:n.ea,od:n.I==0,Y:Z.kf.I4(G)})}return{BS:"SubPathItems",Y:V}}else alert(r)}else if(F.BS=="SubPathItem"||F.BS=="SubPathInfo"){if(r=="pathPoints"||r=="entireSubPath"){var V=[];
for(var O=0;O<F.Y.length;O++){var g=F.Y[O];V.push({BS:"PathPointInfo",kind:g.I==1||g.I==4?1:0,Z:[g.Z.x,g.Z.y],ni:[g.ni.x,g.ni.y],Pj:[g.Pj.x,g.Pj.y]})}return{BS:"PathPoints",Y:V}}else if(r=="operation")return F.ZC;
else if(r=="closed")return F.od;else throw r}else if(F.BS=="PathPointInfo"){if(r=="kind")return F.kind;
else if(r=="anchor")return F.Z;else if(r=="leftDirection")return F.ni;else if(r=="rightDirection")return F.Pj;
else throw r}else if(F.BS=="LayerComp"){if(r=="name")return l.on.list.v[F.Y].v.Nm.v;else throw r}else if(F.BS=="ColorSamplers"){if(Number.isInteger(r))return{BS:"ColorSampler",Y:F.Y[r]};
else if(r=="length")return l.wa.length}else if(F.BS=="ColorSampler"){if(r=="color"){var x=B.$r.GA(l,l.f.uc(F.Y.x,F.Y.y),1,2);
return{BS:"SolidColor",Y:[1,(x>>>16&255)/255,(x>>>8&255)/255,(x>>>0&255)/255]}}else if(r=="position")return[F.Y.x,F.Y.y]}else if(F.BS=="Layer"){var W={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},c=F.Y;
if(!1){}else if(r=="visible")return c.rR();else if(r=="selected")return l.K.indexOf(l.u.indexOf(c))!=-1;
else if(r=="grouped")return c.p9;else if(W[r]!=null)return c.aV(W[r]);else if(r=="opacity")return c.gk*100/255;
else if(r=="fillOpacity")return(c.add.iOpa==null?255:c.add.iOpa)*100/255;else if(r=="blendMode")return c.ww;
else if(r=="name")return c.getName();else if(r=="id")return c.add.lyid;else if(r=="textItem")return{BS:"TextItem",Y:c};
else if(r=="bounds"){var L=B.hL.y2(l,[l.u.indexOf(c)]);return kv.Br.aeX(L,l)}else if(r=="parent"){var b=$.Mi,k;
for(var O=0;O<b.length;O++)if(b[O].u.indexOf(c)!=-1)k=b[O];var T=k.root.yw(k.u.indexOf(c)).parent;return T.depth==0?{BS:"Document",Y:k}:{BS:"Layer",Y:T.z,oU:k}}else if(r=="kind"){var a=kv.Br.aw;
for(var O=0;O<a.length;O++)if(c.add[a[O]]!=null)return O;return 0}else if(r=="isBackgroundLayer")return c.add.lnsr=="bgnd";
else if(r=="itemIndex")return l.u.indexOf(c)+1;else console.log(F,r)}else if(F.BS=="Selection"){if(!1){}else if(r=="bounds"){if(l.d==null)C.__throw={message:"no selection"};
else return kv.Br.aeX(l.d.S,l)}else console.log(F,r)}else if(F.BS=="TextItem"){var R=F.Y.add.TySh,D=R.$E,h=ho.OD(D),K=R.U.w5(),X=ho.RT(D,0,0);
if(r=="contents")return h.slice(0,h.length-1).replace(/\n/g,"\r");else if(r=="font")return X.Uz.Font!=null?X.WX[X.Uz.Font].Name:null;
else if(r=="size")return kv.Br.BJ(X.Uz.FontSize*K,l);else if(r=="leading")return kv.Br.BJ(X.Uz.Leading*K,l);
else if(r=="tracking")return kv.Br.BJ(X.Uz.Tracking);else if(r=="baselineShift")return kv.Br.BJ(X.Uz.BaselineShift);
else if(r=="fauxBold")return X.Uz.FauxBold;else if(r=="fauxItalic")return X.Uz.FauxItalic;else if(r=="kind")return 1-ho.C9(D);
else if(r=="useAutoLeading")return X.jv.AutoLeading;else if(r=="hyphenation")return X.jv.AutoHyphenate;
else if(r=="justification")return kv.Br.BJ(X.jv.Justification);else if(r=="color")return{BS:"SolidColor",Y:X.Uz.FillColor.Values.slice(0)};
else if(r=="width"||r=="height"){var w=ho.AA(D),N=(w[2]-w[0])*K,s=(w[3]-w[1])*K;return kv.Br.BJ(r=="width"?N:s,l)}else if(r=="position"){var A=R.U;
return kv.Br.a7g([A.P6,A.jw],l)}else if(r=="horizontalScale"||r=="verticalScale"){var p=r[0].toUpperCase()+r.slice(1);
return Math.round(X.Uz[p]*100)}else if(r=="antiAliasMethod")ho.dc(R);else if(r=="totalTextStyle"){var I={};
for(var q=0;q<2;q++){var f=["Style","Paragraph"][q],e=D.EngineDict[f+"Run"].RunLengthArray,o=[],E=0;
for(var O=0;O<e.length;O++){var cj=ho.RT(D,E,Math.min(E+e[O],h.length-2));E+=e[O];o.push(q==0?cj.Uz:cj.jv);
I.fontSet=cj.WX}I[f]={runs:e,styles:o}}return JSON.stringify(I)}else if(r=="transform"){var A=R.U;return JSON.stringify([A.xz,A.X,A.gb,A.G0,A.P6,A.jw])}else console.log(F,r)}else if(F.BS=="Preferences"){if(r=="rulerUnits")return M.AK.qU;
else console.log(F,r)}else if(F.BS=="SolidColor"){if(r=="rgb")return{BS:"RGBColor",Y:F.Y};if(r=="cmyk")return{BS:"CMYKColor",Y:j.dm(F.Y.slice(1))};
else console.log(F,r)}else if(F.BS=="RGBColor"){var L=Math.round(255*F.Y[1]),u=Math.round(255*F.Y[2]),cd=Math.round(255*F.Y[3]);
if(!1){}else if(r=="red")return L;else if(r=="green")return u;else if(r=="blue")return cd;else if(r=="hexValue")return j.lN(L<<16|u<<8|cd).toUpperCase();
else console.log(F,r)}else if(F.BS=="CMYKColor"){var m=[];for(var O=0;O<4;O++)m.push(Math.round(F.Y[O]*100));
var aZ=["cyan","magenta","yellow","black"].indexOf(r);if(aZ!=-1)return m[aZ];else console.log(F,r)}else if(F.BS=="UnitValue"){if(r=="value")return F.Y;
else throw"e"}else if(F.BS=="ExportOptionsSaveForWeb"){if(r=="format")return F.Y.$I;else if(r=="PNG8"||r=="interlaced")return!1;
else if(r=="quality")return F.Y.zC;else if(r=="transparency")return!0;else throw r}else if(F.BS=="PNGSaveOptions"||F.BS=="JPEGSaveOptions"||F.BS=="PDFSaveOptions"){return 0}else if(F.BS=="$"){if(r=="localize")return!1;
else if(r=="os")return"Windows";else throw r}else if(F.BS=="ActionList"){if(r=="count")return F.Y.v.length;
else throw r}else console.log(F,r)};kv.Br.aeX=function(F,r){return kv.Br.a7g([F.x,F.y,F.x+F.r,F.y+F.$],r)};
kv.Br.a7g=function(F,r){var $=[];for(var O=0;O<F.length;O++)$.push(kv.Br.BJ(F[O],r));return $};kv.Br.RD=function(F){var r=[];
for(var O=0;O<F.length;O++)r.push(F[O].BS?F[O].Y:F[O]);return r};kv.Br.BJ=function(F,r){return{BS:"UnitValue",Y:F,a8P:"px"}};
kv.Br.iT=function(F,r){if(F.BS=="UnitValue")return j.Om.Xv(F.Y,r.YV,r.r,j.Om.wn.indexOf(F.a8P));return F};
kv.Br.afH=function(F,r,$,C,M){var l=new k6(_.E.O,!0),k=new k6(_.E.c,!0),d=C.yP(),I=C.e;if(!1){}else if(F.BS=="Application"){if(!1){}else if(r=="activeDocument"){k.data={R:_.m.K2,xB:$.Y};
C.a(k)}else if(r=="displayDialogs"){}else if(r=="foregroundColor"||r=="backgroundColor"){var c=$.Y,Q=c[1]*255<<16|c[2]*255<<8|c[3]*255<<0;
k.data={R:_.m.WF,jg:d3.VV,vz:r=="foregroundColor"?0:1,Y:Q};C.a(k)}else console.log(F,r,$)}else if(F.BS=="Document"){var x=F.Y;
if(!1){}else if(r=="name"){l.J=B.pO;l.data={R:Z.qt,Y:$,aii:!0,ZQ:x};d.GF=!0}else if(r=="source")x.Xc=$;
else if(r=="activeLayer"){x.K=[x.u.indexOf($.Y)]}else if(r=="activeHistoryState"){l.J=B.sT;l.data={R:"h_itemchange",index:$.Sc}}else console.log(F,r)}else if(F.BS=="Layer"){l.J=B.pO;
var U={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},S=F.Y,z=d.u.indexOf(S);
if(!1){}else if(r=="visible"){if(S.rR()!=$)l.data={R:Z.iy,z:z}}else if(r=="opacity"){l.data={R:Z.fs,z:z,FJ:Math.round(255*$/100)}}else if(r=="fillOpacity"){l.data={R:Z.RK,z:z,FJ:Math.round(255*$/100)}}else if(r=="blendMode"){l.data={R:Z.CC,z:z,FJ:dL.NH.indexOf($)}}else if(r=="name"){l.data={R:Z.El,z:z,name:$}}else if(U[r]!=null){l.data={R:Z.fu,z:z,FJ:[[$],[U[r]]]}}else if(r=="kind"){l.data={R:Z.fi,z:z,AD:kv.Br.aw[$]}}else if(r=="grouped"){l.data={R:Z.Uw,z:z,FJ:$}}else console.log(F,r,$)}else if(F.BS=="TextItem"){l.J=B.Q_;
var S=F.Y,V=S.add.TySh,t=j.N(V.$E),Y=V.U.P(),i=V.U.w5(),J=ho.OD(t),H=ho.RT(t,0,J.length-2),v=!1;if(!1){}else if(r=="contents"){ho._h(t,0,J.length-1);
ho.uy(t,0,($+"").replace(/\r/g,"\n"))}else if(r=="size"){H.Uz.FontSize=($.Y!=null?$.Y:$)/i;v=!0}else if(r=="leading"){H.Uz.Leading=($.Y!=null?$.Y:$)/i;
v=!0}else if(r=="tracking"){H.Uz.Tracking=$.Y!=null?$.Y:$;v=!0}else if(r=="baselineShift"){H.Uz.BaselineShift=$.Y!=null?$.Y:$;
v=!0}else if(r=="fauxBold"){H.Uz.FauxBold=$;v=!0}else if(r=="fauxItalic"){H.Uz.FauxItalic=$;v=!0}else if(r=="kind"){var n=ho.C9(t);
if(n==1&&$==1){var G=new j5(t,C.e.v7,V.Yb).jv[0],g=G.M0[0].end,W=G.zG[g-1].end;ho._h(t,0,J.length-1);
ho.uy(t,0,J.slice(0,W-1))}if(n==$)ho.s2(t,1-$)}else if(r=="useAutoLeading"){H.jv.AutoLeading=$;v=!0}else if(r=="hyphenation"){H.jv.AutoHyphenate=$;
v=!0}else if(r=="justification"){H.jv.Justification=$;v=!0}else if(r=="font"){ho.jl(H,$);v=!0}else if(r=="color"){H.Uz.FillColor.Values=$.Y.slice(0);
v=!0}else if(r=="width"||r=="height"){var L=ho.AA(t).slice(0),b=kv.Br.iT($,d);if(r=="width")L[2]=Math.round(L[0]+b/i);
else L[3]=Math.round(L[1]+b/i);ho.SB(t,L)}else if(r=="position"){Y.P6=$[0];Y.jw=$[1]}else if(r=="horizontalScale"||r=="verticalScale"){var T=r[0].toUpperCase()+r.slice(1);
H.Uz[T]=$/100;v=!0}else if(r=="antiAliasMethod")ho.Ue(V,$);else console.log(F,r,$);if(v)ho.WE(t,0,J.length-1,H);
l.data={R:"newED",oi:d.u.indexOf(S),CM:t,U:Y}}else if(F.BS=="Preferences"){if(!1){}else if(r=="rulerUnits"){var a=j.N(I.AK);
a.qU=$;k.data={R:_.m.WF,jg:d3.jG,FJ:a};C.a(k)}else console.log(F,r,$)}else if(F.BS=="SolidColor"){if(r=="rgb")F.Y=$.Y;
else throw r}else if(F.BS=="RGBColor"){if(!1){}else if(r=="red")F.Y[1]=$/255;else if(r=="green")F.Y[2]=$/255;
else if(r=="blue")F.Y[3]=$/255;else if(r=="hexValue"){var R=j.akE($.slice($.charAt(0)=="#"?1:0));F.Y[1]=(R>>>16&255)/255;
F.Y[2]=(R>>>8&255)/255;F.Y[3]=(R>>>0&255)/255}else console.log(F,r)}else if(F.BS=="ExportOptionsSaveForWeb"){if(r=="format")F.Y.$I=$;
else if(r=="PNG8"||r=="transparency"||r=="interlaced"){}else if(r=="quality")F.Y.zC=$;else throw r}else if(F.BS=="PNGSaveOptions"||F.BS=="JPEGSaveOptions"){if(r=="quality")F.Y.zC=Math.round(100*$/12)}else if(F.BS=="PDFSaveOptions"){if(r=="preset")F.Y.a6O=$}else if(F.BS=="PathPointInfo"){if(r=="kind")F.kind=$;
else if(r=="anchor")F.Z=$;else if(r=="leftDirection")F.ni=$;else if(r=="rightDirection")F.Pj=$;else throw r}else if(F.BS=="SubPathInfo"){if(r=="operation")F.ZC=$;
else if(r=="closed")F.od=$;else if(r=="entireSubPath"){F.Y=[];for(var O=0;O<$.length;O++){var D=$[O];
F.Y.push({I:D.kind==1?1:2,ni:new hx(D.ni[0],D.ni[1]),Z:new hx(D.Z[0],D.Z[1]),Pj:new hx(D.Pj[0],D.Pj[1])})}}else throw r}else if(F.BS=="$"){if(r=="localize"){}}else console.log(F,r,$);
if(l.data!=null)C.a(l)};kv.Br.a3Q=function(F,r,$){if(r==null)return;var C=r.$E.EngineDict.StyleRun.RunArray,M=r.$E.ResourceDict.FontSet,l=[];
for(var O=0;O<C.length;O++){var k=C[O].StyleSheet.StyleSheetData,d=M[k.Font].Name,I=$.e.v7.yV(d);if(I&&I.name.postScriptName!=d)I=null;
l.push({t:"null",v:{TxtS:{t:"null",v:{fontAvailable:{t:"bool",v:I!=null},fontPostScriptName:{t:"TEXT",v:d}}}}})}F.textKey={t:"textKey",v:{textStyleRange:{t:"obj ",v:l},textKey:{t:"TEXT",v:ho.OD(r.$E)}}}};
kv.Br.Wl=function(F,r,$,C,M){var l=F.BS,k=null,d=new k6(_.E.O,!0),I=new k6(_.E.wG,!0),c=new k6(_.E.c,!0),Q=C.yP(),x=C.Mi;
if(!1){}else if(l=="Application"){if(!1){}else if(r=="charIDToTypeID"){var U=$[0].trim(),S={slct:"select",Dlt:"delete",Mk:"make",Hd:"hide",Shw:"show",Dplc:"duplicate"};
return S[U]?S[U]:U}else if(r=="stringIDToTypeID"){var z=$[0].trim(),S={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",document:"Dcmn",layer:"Lyr",actionSet:"ASet",type:"Type",using:"Usng",targetEnum:"Trgt",ordinal:"Ordn",property:"Prpr",numberOfChildren:"NmbC",textStyle:"TxtS"},V=S[z];
return V==null?z:V}else if(r=="typeIDToStringID"){return $[0].trim()}else if(r=="executeAction"){var t;
if($[1]){t=$[1].Y.v;t.classID=$[0]}var Y={setd:"set"},i=Y[$[0]];if(i==null)i=$[0];var J=f0.ZH[$[0]];
if(J&&f0.m5[J])i=f0.m5[J];I.data={hE:i,iH:t}}else if(r=="executeActionGet"){var H=$[0].Y.v,k={};if(H.length==1){var v=k.classID=H[0].v.classID;
if(v=="Lyr"){var n=cQ.X6(Q,H[0]),G=Q.u[n],g=G.add.SoLd,W=G.add.SoCo,L=G.add.TySh;if(g)k.smartObjectMore={t:"Objc",v:{transform:g.nonAffineTransform}};
if(W)k.adjustment={t:"VlLs",v:[{t:"Objc",v:j.N(W)}]};if(L)kv.Br.a3Q(k,L,C)}else if(v=="ASet"){var b=C.e.HF;
k.NmbC={t:"long",v:b[0].FL.length}}return{BS:"ActionDescriptor",Y:{t:"null",v:k}}}if(H.length==2){var v=k.classID=H[1].v.classID,z=H[0].v.keyID;
if(v=="Dcmn"){var T=Q;if(z=="numberOfLayers")k[z]={t:"long",v:T.u.length};else throw z}else if(v=="Lyr"){var n=cQ.X6(Q,H[1]),G=Q.u[n],L=G.add.TySh;
if(z=="textKey")kv.Br.a3Q(k,L,C);else throw z}else if(v=="ASet"){var b=C.e.HF,a=k.classID=H[0].v.classID;
if(a=="Actn"){k.NmbC={t:"long",v:cQ.de(b,H[0].v.val,H[1].v.val).FL.length}}else throw a}else throw v;
return{BS:"ActionDescriptor",Y:{t:"null",v:k}}}}else if(r=="doAction"){c.data={R:_.m.Gu,Fo:[$[0],$[1]]}}else if(r=="bringToFront"){}else if(r=="open"){c.data={R:_.m.f0,jg:{url:$[0]}};
if($[2]&&x.length!=0)c.data.jg.lB=x.indexOf(Q)}else if(r=="echoToOE"){c.data={R:_.m.LS,jg:$[0]}}else if(r=="showWindow"){c.data={R:_.m.Oe,rS:$[0]}}else if(r=="UnitValue"){return $[0]+" "+$[1]}else console.log(r)}else if(l=="LayerComp"){if(r=="apply"){d.J=B.AF;
d.data={R:"setLC",Sc:Q.on.list.v[F.Y].v.compID.v}}else throw r}else if(l=="Document"){var Q=F.Y;if(!1){}else if(r=="changeMode"){d.J=B.uo;
d.data={R:"fcmy",Y:$[0]==1?1:0}}else if(r=="crop"){var R=$[0];I.data=B.i0.akO([R[0],R[1],R[2]-R[0],R[3]-R[1]])}else if(r=="trim"){var D=[];
for(var O=0;O<4;O++)D.push($[O+1]!=null?$[O+1]:!0);I.data=B.i0.bY($[0]!=null?$[0]:0,D)}else if(r=="suspendHistory"){var h=acorn.parse($[1]);
kv.eval(h,C,M)}else if(r=="save"){c.data={R:_.m.YO}}else if(r=="saveToOE"){c.data={R:_.m.YO,avH:$}}else if(r=="rotateCanvas"){I.data=B.hL.Gy(!0,$[0])}else if(r=="resizeImage"||r=="resizeCanvas"){var K=$[0],X=$[1];
if(K!=null){var w={r:Q.r,YV:Q.YV};if($[2])w.YV=$[2];K=kv.Br.iT(K,w),X=kv.Br.iT(X,w);K=Math.round(K);
X=Math.round(X)}if(r=="resizeCanvas")I.data=B.i0.aas(K,X,$[2]);else I.data=B.i0.Di(K,X,$[2],K!=null?1:null)}else if(r=="paste"){c.data={R:_.m.qo,aGR:$.length!=0&&$[0],M_:!0};
C.a(c);c.data=null;return{BS:"Layer",Y:Q.u[Q.K[0]],oU:Q}}else if(r=="close"){c.data={R:_.m.TD,$J:Q}}else if(r=="exportDocument"||r=="saveAs"){var N=M.__fs,s=r=="exportDocument"?$[2].Y:$[1].Y,A=$[0].Y.replace(":","").replace("~/","");
if(!A.toLowerCase().endsWith("."+s.$I))A+="."+s.$I;var p=dN.Ja(Q,s.$I,null,null,s.$I=="pdf"?null:[s.zC],C.e);
N[A]=new Uint8Array(p)}else if(r=="flatten"){I.data={hE:"flattenImage"}}else if(r=="clearHistory"){d.J=B.sT;
d.data={R:"h_clear",force:!0}}else console.log(F,r,$)}else if(l=="Layer"){var q=F.Y,n=Q.u.indexOf(q);
if(!1){}else if(r=="copy"){kv.Br.VP(Q,C,0);c.data={R:_.m.FR,WK:$[0],Zu:n,M_:!0};C.a(c);delete c.data;
kv.Br.VP(Q,C,1)}else if(r=="clear"){kv.Br.VP(Q,C,0);I.data={hE:"delete"};C.a(I);delete I.data;kv.Br.VP(Q,C,1)}else if(r=="autoLevels"||r=="autoContrast"){if(r=="autoContrast")I.data={hE:"levels",iH:{classID:"Lvls",Auto:{t:"bool",v:!0}}};
else I.data={hE:"levels",iH:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}}else if(r=="duplicate"){if($.length==0){var e=Q.K.slice(0);
d.data={R:Z.K7,z:n};d.J=B.pO;C.a(d);d.data=null;k={BS:"Layer",Y:Q.u[Q.K[0]],oU:F.oU};Q.K=e}else if($[0].BS=="Document"){d.data={R:Z._P,u:Q.ZO(n),wd:Q,eK:$[0].Y};
d.J=B.pO}if(d.data){C.a(d);d.data=null;return{BS:"Layer",Y:Q.u[Q.K[0]],oU:Q}}}else if(r=="merge"||r=="remove"){d.data={R:r=="merge"?Z.GC:Z.O9,z:n};
d.J=B.pO;var o=Q.u.length-n;C.a(d);d.data=null;if(r!="remove")k={BS:"Layer",Y:Q.u[Q.u.length-o],oU:F.oU}}else if(r=="move"){var E=Q.u.indexOf($[0].Y);
if(E==n+1&&$[1]==4)return;if(E==n-1&&$[1]==3)return;d.data={R:Z.Um,source:n,target:E,oc:$[1]!=3?.6:.3};
d.J=B.pO}else if(r=="rasterize"){d.J=B.pO;d.data={R:Z.Gb,z:n};C.a(d);d.data=null;F.Y=Q.u[n]}else if(r=="rotate"){d.data={R:"rot",qc:[2,5],Y:-$[0]*Math.PI/180,lT:$[1],z:n};
d.J=B.DJ}else if(r=="resize"){d.data={R:"scl",qc:[2,4],Y:new hx($[0]/100,$[1]/100),lT:$[2],z:n};d.J=B.DJ}else if(r=="translate"){var cj=kv.Br.RD($);
d.data={R:"trsl",z:n,hu:cj[0],PB:cj[1]};d.J=B.uo}else if(r=="link"){d.data={R:Z.HW,aDm:[n,Q.u.indexOf($[0].Y)]};
d.J=B.pO}else if(r=="invert"){d.J=B.tZ;d.data={R:"start",yn:"nvrt"}}else if(r=="desaturate"){I.data={hE:"desaturate"}}else if(r.startsWith("apply")&&e9.rM[r.slice(5)]||r.startsWith("adjust")&&e9.rM[r.slice(6)]||r=="mixChannels"){var cd=r.startsWith("apply"),cj=kv.Br.RD($),m=r=="mixChannels"?"mixr":e9.rM[r.slice(cd?5:6)];
if(m=="Dspl"){for(var O=0;O<Q.u.length;O++)if(Q.u[O].getName()==cj[4]){cj[4]=Q.u[O].add.SoLd.Idnt.v;
break}}I.data={hE:cd?e9.m5[m]:f0.m5[m]};var t=e9.Mv(m),e=Q.K;Q.K=[n];if(t){if(m=="mixr"){var aZ=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
for(var O=0;O<3;O++){var jN=cj[0][O],eh=O*5;aZ[eh+0]=jN[0];aZ[eh+1]=jN[1];aZ[eh+2]=jN[2];aZ[eh+4]=jN[3]}t=f0.c4({Y:aZ,Sq:cj[1]})}else e9.cP["g"+m](t,cj);
I.data.iH=t}C.a(I);I.data=null;Q.K=e}else if(r=="applyStyle"){var iA=C.e.md,hd=null;for(var O=0;O<iA.length;
O++)if(iA[O].Lz.Nm.v.split("/").pop()==$[0])hd=iA[O];if(hd==null){alert("Style not found!");return}d.J=B.Ei;
d.data={R:"setstl",Y:hd.Fu,z:n};C.a(d);d.data={R:"confirm",z:n}}else console.log(F,r,$)}else if(l=="Documents"){if(r=="getByName"){for(var O=0;
O<x.length;O++)if(x[O].name==$[0])return{BS:"Document",Y:x[O]};return null}else if(r=="add"){if($.length==0)$=[100,100,72,"New Project"];
var kx=$[5];if(kx==null)kx=1;I.data=kQ.q_($[0],$[1],$[2],$[3],["Wht","Trns","BckC"][kx],!1);C.a(I);I.data=null;
return{BS:"Document",Y:C.yP()}}else throw"e"}else if(l=="Layers"){if(r=="getByName"){for(var O=0;O<F.Y.length;
O++)if(F.Y[O].Y.getName()==$[0]){k=F.Y[O];break}if(k==null)M.__throw={message:"No layer with a name "+$[0]}}else if(r=="add"){d.data={R:F.alf=="layerSets"?Z.HI:Z.M1};
d.J=B.pO;C.a(d);d.data=null;k={BS:"Layer",Y:Q.u[Q.K[0]],oU:F.oU}}else console.log(F,r,$)}else if(F.BS=="Selection"){if(r=="select"){var b0=$[0],gX=[];
for(var O=0;O<b0.length;O++)gX.push(b0[O][0],b0[O][1]);I.data=B.u_.Sg(kv.Br.RD(gX),$[1])}else if(r=="clear"){I.data={hE:"delete"}}else if(r=="selectAll"){I.data=B.u_._N(!0)}else if(r=="invert"){I.data={hE:"inverse"}}else if(r=="copy"){c.data={R:_.m.FR,WK:$[0],M_:!0}}else if(r=="deselect"){I.data=B.u_._N()}else if(r=="fill"){var j$=$[0].Y;
j$=j.qS.NG({t:j$[1]*255,L:j$[2]*255,X:j$[3]*255});I.data=B.k7.w8("Clr",$[1],$[2]==null?1:$[2]/100,j$)}else if(r=="grow"||r=="similar"){var t={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}};
if($[0]!=null)t.Tlrn={t:"long",v:$[0]};I.data={hE:r,iH:t}}else if(r=="expand"||r=="contract"||r=="feather"){I.data=B.u_.hr(r,$[0],!0)}else if(r=="translate"){var t={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:$[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:$[1]}}}}};
I.data={hE:"move",iH:t}}else if(r=="smooth"){I.data=B.u_.hr("smoothness",$[0],!1)}else if(r=="stroke"){var hd=JSON.parse(cK.sH[1]),i0=hd.Clr.v,j$=$[0].Y;
i0.Rd.v=j$[1]*255;i0.Grn.v=j$[2]*255;i0.Bl.v=j$[3]*255;hd.Sz.v.val=$[1];hd.Styl.v.FStl=cK.stroke.types[$[2]];
console.log(hd,$);d.J=B.QV;d.data={R:"stroke",aBJ:hd}}else console.log(F,r,$)}else if(F.BS=="Window"){if(r=="show"){c.data={R:_.m.Oe,rS:F.Y}}else throw"e"}else if(F.BS=="ActionReference"){if(r=="putProperty"){F.Y.v.push({t:"prop",v:{classID:$[0],keyID:$[1]}})}else if(r=="putClass"){F.Y.v.push({t:"Clss",v:{classID:$[0]}})}else if(r=="putEnumerated"){F.Y.v.push({t:"Enmr",v:{classID:$[0],typeID:$[1],enum:$[2]}})}else if(r=="putName"){F.Y.v.push({t:"name",v:{classID:$[0],val:$[1]}})}else if(r=="putIndex"){F.Y.v.push({t:"indx",v:{classID:$[0],val:$[1]}})}else console.log(r,$)}else if(F.BS=="ActionDescriptor"||F.BS=="ActionList"){var f7=F.BS=="ActionList";
if(r.startsWith("put")){var am=f7?$:$.slice(1),V=null;if(r=="putReference"){V=am[0].Y}else if(r=="putObject"){V=am[1].Y;
V.v.classID=am[0]}else if(r=="putList"){V=am[0].Y}else if(r=="putDouble"){V={t:"doub",v:am[0]}}else if(r=="putUnitDouble"){V={t:"UntF",v:{type:am[0],val:am[1]}}}else if(r=="putBoolean"){V={t:"bool",v:am[0]}}else if(r=="putInteger"){V={t:"long",v:am[0]}}else if(r=="putString"){V={t:"TEXT",v:am[0]}}else if(r=="putClass"){V={t:"type",v:{classID:am[0]}}}else if(r=="putEnumerated"){var gf=$[0].split("+");
if(gf.length==2&&$[1]==null){$[0]=gf[0];$[1]=am[0]=gf[1]}var eh={};eh[am[0]]=am[1];V={t:"enum",v:eh}}else throw r;
if(f7)F.Y.v.push(V);else F.Y.v[$[0]]=V}else if(r=="hasKey"){return F.Y.v[$[0]]!=null}else if(r=="getEnumerationValue"){if($[0]=="layerSection")k="layerSectionContent";
else console.log($)}else if(r=="getBoolean"){k=F.Y.v[$[0]].v}else if(r=="getString"){k=F.Y.v[$[0]].v}else if(r=="getObjectValue"){var k=F.Y.v[$[0]];
return{BS:"ActionDescriptor",Y:j.N(k)}}else if(r=="getList"){var k=F.Y.v[$[0]];return{BS:"ActionList",Y:k}}else if(r=="getInteger"||r=="getDouble"){return F.Y.v[$[0]].v}else console.log(r,$)}else if(F.BS=="$"){if(r=="writeln"){console.log($[0])}else throw r}else if(F.BS=="UI"){if(r=="scroll"||r=="scrollTo"){var cC=$[0],aD=$[1],c_=Q.f.bU;
if(r=="scrollTo"){cC=(-Q.r/2+cC)*c_+Q.f.p.x;aD=(-Q.$/2+aD)*c_+Q.f.p.y}d.J=B.H1;d.data={R:"scroll",EB:new hx(Math.round(cC),Math.round(aD))}}else{var a9;
if(r=="zoomIn"||r=="zoomOut"){a9={R:"zoom",DZ:r=="zoomIn"}}else if(r=="fitTheArea"){a9={R:"adapt",Y:"fitscr"}}else if(r=="pixelToPixel"){a9={R:"adapt",Y:"pixel"}}d.J=B.Li;
d.data=a9;if(r=="switchFullscreen"){var jz=C.e.v8,g3=document.fullscreenElement!=null==(jz==2);c.data={R:_.m.Xa,Y:jz==0?2:0,Mh:g3}}}}else if(F.BS=="ColorSamplers"){if(r=="removeAll")Q.wa=[];
else if(r=="add"){var e3={x:$[0][0],y:$[0][1]};Q.wa.push(e3);var k={BS:"ColorSampler",Y:e3}}}else if(F.BS=="ColorSampler"){if(r=="move"){var c1=Q.wa.indexOf(F.Y);
e3=Q.wa[c1];e3.x=$[0][0];e3.y=$[0][1]}else if(r=="remove"){var c1=Q.wa.indexOf(F.Y);Q.wa.splice(c1,1)}}else if(F.BS=="PathItem"){if(r=="select"){Q.tk=[Q.S8.indexOf(F.Y)];
Q.GF=!0}else if(r=="remove"){d.J=B.I6;d.data={R:"pathedit",vz:"del"}}else console.log(r)}else if(F.BS=="PathItems"){if(r=="add"){var dI=$[1],kJ=kQ.dK($[0]),R=kJ.add.vmsk.M;
for(var O=0;O<dI.length;O++){var cA=dI[O],c2=cA.Y.length;R.push({I:cA.od?0:3,length:c2,ea:cA.ZC});for(var ee=0;
ee<c2;ee++){if(!cA.od)cA.Y[ee].I+=3;R.push(cA.Y[ee])}}d.J=B.I6;d.data={R:"pathedit",vz:"new",Yk:kJ};
C.a(d);return{BS:"PathItem",Y:kJ}}else throw r}else if(F.BS=="Folder"){if(r=="selectDialog")k="img";
else throw r}else if(F.BS=="File"){if(r=="openDialog")alert("A website can not show the Open dialog from a script");
else throw r}else console.log(F,r,$);if(d.data)C.a(d);if(I.data)C.a(I);if(c.data)C.a(c);return k};kv.Br.VP=function(F,r,$){var C=new k6(_.E.O,!0);
C.J=B.gI;var M=new k6(_.E.wG,!0);if($==0){kv.Br.amb=F.d;M.data=B.u_._N(!0)}else{var l=kv.Br.amb;if(l)C.data={R:"setsel",qc:"Restore Selection",d:{S:l.S.P(),G:l.G.slice(0)}};
else M.data=B.u_._N()}r.a(C.data?C:M)};kv.Br.amb=null;kv.Br.t4={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5,BRIGHTNESSCONTRAST:6,LEVELS:7,CURVES:8,EXPOSURE:9,VIBRANCE:10,HUESATURATION:11,COLORBALANCE:12,BLACKANDWHITE:13,PHOTOFILTER:14,CHANNELMIXER:15,LAYER3D:16,INVERSION:17,POSTERIZE:18,THRESHOLD:19,GRADIENTMAP:20,SELECTIVECOLOR:21},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},ChangeMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},BitsPerChannelType:{ONE:0,EIGHT:1,SIXTEEN:2,THIRTYTWO:3},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},WaveType:{SINE:0,TRIANGULAR:1,SQUARE:2},UndefinedAreas:{WRAPAROUND:0,REPEATEDGEPIXELS:1},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4},Extension:{LOWERCASE:0,NONE:1,UPPERCASE:2},RasterizeType:{ENTIRELAYER:0,FILLCONTENT:1,LAYERCLIPPINGPATH:2,LINKEDLAYERS:3,SHAPE:4,TEXTCONTENTS:5},DisplacementMapType:{STRETCHTOFIT:0,TILE:1},StrokeLocation:{INSIDE:0,CENTER:1,OUTSIDE:2},SelectionType:{REPLACE:0,EXTEND:1,DIMINISH:2,INTERSECT:3},ResampleMethod:{AUTOMATIC:0,BICUBIC:1,BICUBICAUTOMATIC:2,BICUBICSHARPER:3,BICUBICSMOOTHER:4,BILINEAR:5,NEARESTNEIGHBOR:6,NONE:7,PRESERVEDETAILS:8},PointKind:{CORNERPOINT:0,SMOOTHPOINT:1},ShapeOperation:{SHAPEXOR:0,SHAPEADD:1,SHAPESUBTRACT:2,SHAPEINTERSECT:3}};
kv.Br.t4.ColorBlendMode=kv.Br.t4.BlendMode;kv.Br.aw="---- SoLd TySh SoCo GdFl PtFl brit levl curv expA vibA hue2 blnc blwh phfl mixr clrL nvrt post thrs grdm selc".split(" ");
function hf(){}hf.wb={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"xmp:Rating":[0,null,"xmp:Rating"],"xmp:Label":["",null,"xmp:Label"],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
hf.Ut={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
hf.axI=function(F,r){if(r==null)r={};var $=hf.Ut,C=[],M=[],l="";for(var O=0;O<F.length;O++){var k=F[O],d=$[k[0]+""];
if(d&&r[d]==null)r[d]=k[1];else if(k[0]==12)M.push(k[1]);else if(k[0]==25)C.push(k[1]);else if(k[0]==55)l=k[1];
else if(k[0]==60)l+=";"+k[1]}if(l!=""&&r["exif:DateTimeOriginal"]==null)r["exif:DateTimeOriginal"]=l;
if(M.length!=0&&r["Iptc4xmpCore:SubjectCode"]==null)r["Iptc4xmpCore:SubjectCode"]=M.join(";");if(C.length!=0&&r["dc:Keywords"]==null)r["dc:Keywords"]=C.join(";");
return r};hf.atN=function(F){var r=hf.Ut,$=[];for(var C in r)if(F[r[C]])$.push([parseInt(C),F[r[C]]]);
if(F["Iptc4xmpCore:SubjectCode"]){var M=F["Iptc4xmpCore:SubjectCode"].split(";");for(var O=0;O<M.length;
O++)$.push([12,M[O].trim()])}if(F["dc:Keywords"]){var M=F["dc:Keywords"].split(";");for(var O=0;O<M.length;
O++)$.push([25,M[O].trim()])}$.sort(function(l,k){return l[0]-k[0]});return $};hf.VH=function(F,r){if(r==null)r={};
var $=new DOMParser,C=$.parseFromString(F,"image/svg+xml"),M=C.getElementsByTagName("rdf:Description")[0];
if(M==null)return r;var l=hf.wb;for(var k in l){var d=l[k][2];if(d==null)continue;var I=[];if(d.startsWith("xmp:")){var c=M.getAttribute(d);
if(c==null)continue;I.push(c)}else{var Q=M.getElementsByTagName(d)[0];if(Q==null)continue;var x=Q.getElementsByTagName("rdf:li");
for(var O=0;O<x.length;O++)I.push(x[O].textContent)}r[k]=I.join("; ")}return r};hf.qu=function(F){var r=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\""],$=hf.wb,C="";
for(var M in $){var l=F[M],k=$[M][2];if(l==null||k==null)continue;if(k.startsWith("xmp:")){C+=" "+k+"=\""+l+"\""}else{var d="Seq",I="";
if(k=="dc:title"||k=="dc:description"){d="Alt";I=" xml:lang=\"x-default\""}if(k=="dc:subject")d="Bag";
r.push("\t<"+k+"><rdf:"+d+">");var c=k=="dc:subject"?l.split(";").join(",").split(","):[l];for(var O=0;
O<c.length;O++)r.push("\t\t<rdf:li"+I+">"+c[O].trim()+"</rdf:li>");r.push("\t</rdf:"+d+"></"+k+">")}}r[3]+=C+">";
r.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");return r.join("\n")};
hf.a0G=function(F){var r=[];for(var O=0;O<F.length;O++)r[O]=F[O][1]==0?0:F[O][0]/F[O][1];return r};hf.aCL=function(F){var r=[];
for(var O=0;O<F.length;O++){var $=F[O],C=1;if($!=Math.round($)){C=1e3;$=Math.round($*C)}r[O]=[$,C]}return r};
hf.LL=function(F,r){var $=hf.wb;if(r==null)r={};for(var C in $){var M=$[C][1],l="t"+M;if(M!=null&&F[l]!=null){var k=F[l];
if(M==0)k=k.join(".");else if(M==2||M==4){var d=F["t"+(M-1)];if(d==null)d=[M==2?"N":"E"];k=hf.a0G(k).join(",")+d[0]}else if(M==42034)k=hf.a0G(k).join(" ");
else if(M==270||M==315){if(k instanceof Uint8Array)k=P.qV(k);else{var I=k[0],c=new Uint8Array(I.length);
P.o9(c,0,I);k=P.qV(c)}}else k=k[0];r[C]=k}}if(F.exifIFD)hf.LL(F.exifIFD,r);if(F.gpsiIFD)hf.LL(F.gpsiIFD,r);
return r};hf.Yp=function(F,r,$){var C=hf.wb,l=0,d=0;if(r==null)r={};var M={},k={};for(var I in C){if(F[I]==null||C[I][1]==null)continue;
var c=C[I][1],Q="t"+c,x=r;if(I.startsWith("exif:")){x=M;l++;if(I.startsWith("exif:GPS")){x=k;d++}}var U=F[I];
if(c==0)U=new Uint8Array(U.split(".").map(parseFloat));else if(c==2||c==4){var S=U.length;x["t"+(c-1)]=[U.slice(U.length-1)];
U=hf.aCL(U.split(",").map(parseFloat))}else if(c==42034)U=hf.aCL(U.split(" ").map(parseFloat));else if(c==270||c==315){var z=P.V4(U);
U=[P.BW(z,0,z.length)]}else U=[U];x[Q]=U}if(l!=0){r.exifIFD=M;r.t34665=[0]}if(d!=0){r.gpsiIFD=k;r.t34853=[0]}var V=new Date,t=[V.getFullYear(),V.getMonth()+1,V.getDate(),V.getHours(),V.getMinutes(),V.getSeconds()];
for(var O=0;O<6;O++)t[O]=(t[O]+"").padStart(2,"0");r.t305=["Photopea Editor (www.photopea.com)"];if($!=!0)r.t306=[t[0]+":"+t[1]+":"+t[2]+" "+t[3]+":"+t[4]+":"+t[5]];
return r};function k9(){}k9.CO=function(F){var r={a8S:",",zp:"\r\n",a0F:"\""},$=[[""]],C,M,l,k,d;for(C=M=l=k=0;
l<F.length;l++){switch(d=F.charAt(l)){case r.a0F:if(k&&F.charAt(l+1)==r.a0F){$[C][M]+=r.a0F;++l}else{k^=1}break;
case r.a8S:if(!k){$[C][++M]=""}else{$[C][M]+=d}break;case r.zp.charAt(0):if(!k&&(!r.zp.charAt(1)||r.zp.charAt(1)&&r.zp.charAt(1)==F.charAt(l+1))){$[++C]=[""];
$[C][M=0]="";if(r.zp.charAt(1)){++l}}else{$[C][M]+=d}break;default:$[C][M]+=d}}if($[$.length-1].length<$[0].length)$.pop();
return $};var y={};y.axV=0;y.hq=function(){y.axV++;return y.axV};y.atu="uint8";y.mb=function(F){F._.style.transition="opacity 0.1s ease-out, transform 0.1s ease-out";
F._.style.opacity="1";F._.style.transform="scale(1)"};y.E1=function(F,r){F._.style.opacity="0";F._.style.transform="scale(0.95)";
if(r)setTimeout(function(){r.removeChild(F._)},100)};y.a7m=function(){var F=y.SV();if(F=="")return 0;
if(F!=y.iE("_TXZRPB;d7@;")&&F!=b3.iE("eQLZRRM?8a4=8")){var r=y.uJ[b3.yu][b3.O3],$=r.indexOf(String.fromCharCode(35)),C;
if($==-1)return 0;try{C=JSON.parse(y.uJ[b3.aFn](r.slice($+1)))}catch(ac){return 0}var M=C[y.iE("bQ[ODL<E<M")];
if(M==null||M.length<<2!=64)return 0;var l=b3.Zy(),k=parseInt(M.slice(3*4).split("").reverse().join(""),16)<<16;
if(k<l||M!=b3.aE6(k,F))return 0;return 2}return 1};y.SV=function(){var F=y.uJ[y.kd("}$z{2*35")][y.iE("W[\\ZQAJ?")],r=String.fromCharCode(46),$=F.split(r);
if($.length<2)return"";var C=$.pop();C=$.pop()+r+C;return C};y.GD=function(F){var r=y.SV();if(ht._q())return!0;
if((r==b3.iE("_TXZRPB;d7@;")||r==b3.iE("~yy")||true)&&y.uJ==y.uJ[b3.aDE])return!0;var $=y.uJ[b3.yu][b3.O3],C=$.indexOf("#");
if(C!=-1&&C!=$.length-1&&($[C+1]=="%"||$[C+1]=="{")){var M=$.substring(C+1,$.length);M=JSON.parse(y.uJ[b3.aFn](M));
var l=M[b3.iE("P\\RY")];if(l)if(F==0&&l[b3.iE("aYKM")]||F==1&&l[b3.iE("SQcMR")])return!0}return!1};y.afk=function(){if(y.uJ[b3.aj0][b3.acX]){var F=new y.uJ[b3.zz];
F[b3.U5](b3.au4,y.iE("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+y.SV());F[b3.Iz]()}};y.qI=function(){if(window.top!=window.self)return!1;
var F=navigator.userAgent.toLowerCase();if(F.indexOf("firefox")!=-1)return!1;if(F.indexOf("safari")!=-1&&F.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};y.PZ=function(F){this.Np=F;this.iZ=y.i("img");this.YJ=y.i("canvas");
this.Wd=null;this.Ft="";this.D0=null;this.JE=new hx(0,0);this.JT=!0;y.dO(this.Np,this.TN.bind(this))};
y.PZ.prototype.wK=function(F,r){this.Wd=F;if(r)this.Ft=r;this.TN()};y.PZ.prototype.fC=function(F){this.JT=F;
this.TN()};y.PZ.prototype.TN=function(F){if(F)this.JE=y.Bz(F,this.Np);var r=this.JT?this.Wd:"auto",$=typeof r=="string";
if(!$){var C=y.ha(),M=this.JE,l=r.OV.r,k=r.OV.$,d=typeof r.gf=="string",I=d?this.iZ:this.YJ;if(d)I.setAttribute("src",r.gf);
else{I.width=l;I.height=k;var c=I.getContext("2d"),Q=new ImageData(new Uint8ClampedArray(r.gf.buffer),l,k);
c.putImageData(Q,0,0)}y.B(I," position:absolute; pointer-events:none;user-select:none;"+"top:"+(M.y-r.u2.y/C)+"px; left:"+(M.x-r.u2.x/C)+"px; width:"+l/C+"px; height:"+k/C+"px");
var x=this.D0;if(x==null||x!=I){if(x)this.Np.removeChild(x);this.Np.appendChild(I);this.D0=I}}else if(this.D0){this.Np.removeChild(this.D0);
this.D0=null}y.B(this.Np,"cursor:"+($?r:"none")+"; "+this.Ft)};y.im=function(F){return F.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
y.px=function(F,r){F.Ck(dG.get([12,41]).charAt(0)+":");r.Ck(dG.get([12,42]).charAt(0)+":")};y.i=function(F,r){var $=document.createElement(F);
if(r!=null)$.className=r;return $};y.RR=function(F){while(F.firstChild)F.removeChild(F.firstChild)};
y.yY=function(F,r){var $=F.className;$=$.split(" ");if($.indexOf(r)==-1)$.push(r);F.className=$.join(" ")};
y.cD=function(F,r){var $=F.className;if($=="")return;$=$.split(" ");if($.indexOf(r)!=-1)$.splice($.indexOf(r),1);
F.className=$.join(" ")};y.D4=function(F){while(!0){if(F==document)return!0;if(F==null)return!1;F=F.parentNode}};
y.Hd=function(F){F.appendChild(y.i("br"))};y.ox=function(F){F.appendChild(y.i("hr"))};y.B=function(bU,F){bU.setAttribute("style",F)};
y.AX=function(F,r,$){var C=new jC([1,12,1],$==null?!0:$,null,!0);if(F)C.Q("click",F.N1,F);if(r)r.appendChild(C._);
return C};y.uJ=document;y.oK=function(F){var r=0;for(var O=0;O<F;O++)r+=Math.random();return r/F<Math.PI/4};
y.iE=function(F){var r="";if(!y.oK(28))F+="-3";for(var O=0;O<F.length;O++){var $=F.charCodeAt(O);if($<32||126<$)throw"e";
r+=String.fromCharCode(32+($-32+17+3*O)%95)}return r};y.kd=function(F){var r="";if(!y.oK(28))F+="-1";
for(var O=0;O<F.length;O++){var $=F.charCodeAt(O);$-=32;$+=95e4;$-=17+3*O;$=$%95;r+=String.fromCharCode(32+$)}return r};
y.jJ=function(F){var r=Math.random();y.atu="uint"+(3+r);return new F};(function(){var F=window.PointerEvent,r=F?"pointer":"mouse",$=r+"down",C=r+"move",M=r+"up",l=!1;
y.TX=function(k,d){k.addEventListener($,d,l);if(!F)k.addEventListener("touchstart",d,l)};y.dO=function(k,d){k.addEventListener(C,d,l);
if(!F)k.addEventListener("touchmove",d,l)};y.an=function(k,d){k.addEventListener(M,d,l);if(!F)k.addEventListener("touchend",d,l)};
y.aBi=function(k,d){k.removeEventListener($,d,l);if(!F)k.removeEventListener("touchstart",d,l)};y.Fp=function(k,d){k.removeEventListener(C,d,l);
if(!F)k.removeEventListener("touchmove",d,l)};y.gj=function(k,d){k.removeEventListener(M,d,l);if(!F)k.removeEventListener("touchend",d,l)}}());
y.C7=function(F){F.addEventListener("touchstart",y.I0,!1);F.addEventListener("touchmove",y.I0,!1);F.addEventListener("touchend",y.I0,!1);
F.addEventListener("gesturestart",y.I0,!1);F.addEventListener("gesturechange",y.I0,!1);F.addEventListener("gestureend",y.I0,!1)};
y.anh=function(F){var r=F.sourceCapabilities;if(r)return r.firesTouchEvents;return!1};y.jd=function(F,r,$,C){var M=y.ha();
F.width=Math.floor(r*M);F.height=Math.floor($*M);if(C)C.scale(M,M);y._6(F)};y._6=function(F){var r=y.ha();
F.style.width=F.width/r+"px";F.style.height=F.height/r+"px"};y.nC=function(F,r,$){y.B(F,"width:"+r/y.ha()+"px; height:"+$/y.ha()+"px")};
y.Bz=function(F,r){if(r==null)r=F.currentTarget;var $=r.getBoundingClientRect();if(F.touches)F=F.touches.item(0);
return{x:F.clientX-$.left,y:F.clientY-$.top}};y.ha=function(){return window.devicePixelRatio||1};y.mM=function(F){F.addEventListener("keydown",y.afG,!1)};
y.afG=function(F){if(!ac.Dh(F.code,ac.AH))F.stopPropagation()};y.aG3=function(F){F.stopPropagation()};
y.I0=function(F){F.preventDefault()};y.Dk=function(F){F.stopPropagation();F.preventDefault()};y.UE=function(F,r,$){$=$?$:"";
if(PIMG["__"+F]==null)$+=" gsicon";var C=PIMG[F]?PIMG[F]:F;return"<img src=\""+C+"\" alt=\""+(r?r:"")+"\" class=\""+$+"\" />"};
y.Er=function(F,r,$,C){var M=F.dataTransfer.getData("text/uri-list");if(M!=null&&M.startsWith("http")){var l=new k6(_.E.c,!0);
l.data={R:_.m.f0,jg:{url:M,aud:!0,lB:$,Q7:C}};r.a(l)}if(F.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var k=[],d=F.dataTransfer.items.length,I=F.dataTransfer.files;
for(var c of F.dataTransfer.items)c.getAsFileSystemHandle().then(function(Q){k.push(Q);if(k.length==d){var l=new k6(_.E.c,!0);
l.data={R:_.m.js,data:I,lB:$,Q7:C,aE_:k};r.a(l)}})}else{var l=new k6(_.E.c,!0);l.data={R:_.m.js,data:F.dataTransfer.files,lB:$,Q7:C};
r.a(l)}};if(y.oK(27))y.uJ=window;else y.uJ=y.a4o;y.uJ._cwY=y.uJ[y.kd("t$&!'31")];var at={};at.awB=function(O){var F=at.G1[O],r=document.documentElement.style,C=1;
r.setProperty("--base","#"+j.lN(F["--base"]));r.setProperty("--bg-panel","#"+j.lN(F["--bg-panel"]));
r.setProperty("--bg-canvas","#"+j.lN(F["--bg-canvas"]));r.setProperty("--bg-input","#"+j.lN(F["--bg-input"]));
r.setProperty("--bg-bbtn","#"+j.lN(F["--bg-bbtn"]));r.setProperty("--bg-bbtnOver","#"+j.lN(F["--bg-bbtnOver"]));
r.setProperty("--brdr","#"+j.lN(F["--brdr"]));r.setProperty("--text-color","#"+j.lN(F["--text-color"]));
r.setProperty("--brdrLgt","rgba(255,255,255,"+F["--brdrLgt"]+")");r.setProperty("--brdrDrk","rgba(  0,  0,  0,"+F["--brdrDrk"]+")");
r.setProperty("--alphaDark",""+F["--alphaDark"]);r.setProperty("--gs-invert",""+F["--gs-invert"]);r.setProperty("--accent","#"+j.lN(F["--accent"]));
var $=F["--sh-clr"];r.setProperty("--sh-clr","rgba("+($>>16)+","+($>>8&255)+","+($&255)+", 0.45)");r.setProperty("--absc",""+F["--absc"]);
r.setProperty("--abs255",""+F["--abs255"]);if(1<y.ha()&&y.ha()<1.5)C=1/y.ha();r.setProperty("--img20",20*C+"px");
r.setProperty("--img18",18*C+"px");r.setProperty("--img15",15*C+"px");if(PIMG!=null){var M="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var O=0;O<M.length;O++){var l=M[O],k=l.split("/").pop(),d=PIMG["__"+l]==null?F["--gs-invert"]:"0";
r.setProperty("--icon_"+k,"url("+PIMG[l]+")");r.setProperty("--icon_"+k+"_invrt",d)}}var I=document.querySelector("meta[name=theme-color]");
if(I)I.setAttribute("content","#"+j.lN(F["--base"]))};(function(){var F=3441398,r=3441398;at.G1=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":r},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6118749,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":F},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2435637,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":F},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":12303291,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":F},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":F},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.7,"--brdr":1710618,"--sh-clr":0,"--absc":0,"--abs255":0,"--accent":F},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--absc":1,"--abs255":255,"--accent":r}]}());
function ed(){this.w3={};this.k5={}}ed.prototype.amQ=function(F){var r=this.w3[F];if(r==null)return!1;
return r.length>0};ed.prototype.addEventListener=function(F,r){this.Q(F,r,null)};ed.prototype.Q=function(F,r,$){if(this.w3[F]==null){this.w3[F]=[];
this.k5[F]=[]}this.w3[F].push(r);this.k5[F].push($)};ed.prototype.removeEventListener=function(F,r){var $=this.w3[F];
if($==null)return;var C=$.indexOf(r);if(C<0)return;var M=this.k5[F];$.splice(C,1);M.splice(C,1)};ed.prototype.a=function(F){F.currentTarget=this;
if(F.target==null)F.target=this;var r=this.w3[F.I];if(r==null)return;var $=this.k5[F.I];for(var O=0;
O<r.length;O++){if($[O]==null)r[O](F);else r[O].call($[O],F)}};var k6=function(F,r){if(!r)r=!1;this.I=F;
this.target=null;this.currentTarget=null;this.bubbles=r;this.J=null;this.vs=!1},_={E:{O:"0",c:"1",wG:"1.5",V:"2",FQ:"3",amG:"4"},m:{X7:"10",$a:"11",GW:"12",P$:"13",yz:"14",a7Y:"14.1",f0:"15",u7:"16",rC:"17",EW:"18",YO:"19",aiL:"19.5",tK:"20",atv:"20.1",au2:"20.5",ami:"20.6",V8:"21",FR:"22",qo:"23",KS:"24",Oe:"25",qM:"26",K2:"27",ej:"28",arW:"28.5",am2:"29",js:"30",Td:"31",oa:"32",sd:"33",Rl:"34",WF:"35",arN:"35.5",MN:"37",aFd:"38",O7:"39",hF:"40",y9:"41",LS:"41.5",Eb:"42",eE:"43",aH4:"43.5",TD:"44",ap7:"45",zn:"46",Zj:"47",sr:"48",Gu:"49",aD8:"50",Xa:"51"}};
function au(){ed.call(this);this.parent=null;this._=null;this.a0=0;this.Y9=0;this.aB_=!1}au.prototype=new ed;
au.prototype.aih=function(F){var bU=this;while(bU!=null){if(bU==F)return!0;bU=bU.parent}return!1};au.prototype.eJ=function(){var F=this._;
return F.offsetWidth+F.clientLeft};au.prototype.adL=function(){var F=this._;return F.offsetHeight+F.clientTop};
au.prototype.update=function(F){};au.prototype.a=function(F){ed.prototype.a.call(this,F);if(F.bubbles&&this.parent!=null)this.parent.a(F)};
au.prototype.l=function(){};au.prototype.Xt=function(F,r){};au.prototype.Xg=function(F){y.yY(this._,"disabled")};
au.prototype.VS=function(F){y.cD(this._,"disabled")};au.prototype.fC=function(F){if(F)this.VS();else this.Xg()};
au.prototype.Jd=function(){this.aB_=!0};au.prototype.Bv=function(){var F=this.Se,r=this.aB_,$=this.G3;
if(F){F=dG.get(this.Se);if(!r)F+=":";$.textContent=F;if(r){$.style.display="block";$.style.lineHeight="1.6em";
$.style.marginLeft="3px";y.cD($,"flabel")}}if(r){this.qE.style.fontSize="1.15em"}};function d7(F){au.call(this);
this.vn=[];this.aBI=!1;this.axB=0;this.MC={x:0,y:0,HY:!1};this.hM=F;this.a0y=this.Pg.bind(this);this.Oz=this.gB.bind(this);
this.EH=this.$n.bind(this);y.TX(F,this.a0y);y.dO(F,this.Oz);F.addEventListener("wheel",this.sq.bind(this),!1);
F.addEventListener("contextmenu",this.a2f.bind(this),!1);var r=this.al$.bind(this);F.addEventListener("gesturestart",r,!1);
F.addEventListener("gesturechange",r,!1);F.addEventListener("gestureend",r,!1);y.C7(F)}d7.prototype=new au;
d7.prototype.al$=function(F){if(F.type=="gesturestart")this.rq=F.scale;if(F.type=="gesturechange"){var r=new k6("mouse",!0);
r.action="scroll";r.u6=!0;this.B4(F,r);var $=(this.rq-F.scale)/this.rq;r.EB=new hx(0,100*$);this.rq=F.scale;
this.a(r)}};d7.prototype.AL=function(F){var r=-1,$=this.vn;for(var O=0;O<$.length;O++)if($[O].pointerId==F.pointerId)r=O;
return r};d7.E_=function(F){var r=F.pointerType,$=window.__kb;return r=="touch"&&$.D(ac.asT)};d7.asS=function(F){var r=F.button!=null&&F.button!=0?F.which==2?"i":"r":"";
if(ac.v5()&&F.ctrlKey)r="r";return r};d7.prototype.Pg=function(F){if(d7.E_(F))return;var r=this.AL(F);
if(r!=-1)this.vn[r]=F;else this.vn.push(F);if(this.vn.length==1){this.axB=Date.now();var $=d7.asS(F)+"down",C=new k6("mouse",!0);
C.action=$;this.B4(F,C);this.a(C);y.Fp(this.hM,this.Oz);y.dO(window,this.Oz);y.an(window,this.EH)}if(this.vn.length==2){if(Date.now()-this.axB<100){var C=new k6("mouse",!0);
C.action="cancellast";this.B4(F,C);this.a(C)}this.aBI=!0}if(this.vn.length==2)this.a4g("multidown")};
d7.prototype.gB=function(F){if(d7.E_(F))return;var r=this.AL(F);if(r!=-1)this.vn[r]=F;if(this.vn.length>1){this.a4g("multimove")}if(this.aBI)return;
if(this.vn.length==1&&r==-1)return;var $=new k6("mouse",!0);$.action="move";this.B4(F,$);this.a($)};
d7.prototype.$n=function(F){if(d7.E_(F))return;var r=this.vn;r=this.vn=[];if(r.length==0){var $=d7.asS(F)+"up",C=new k6("mouse",!0);
C.action=$;this.B4(F,C);this.a(C);y.Fp(window,this.Oz);y.gj(window,this.EH);y.dO(this.hM,this.Oz);this.aBI=!1}};
d7.prototype.sq=function(F){F.preventDefault();if(F.deltaX==0&&F.deltaY==0)return;var r=new k6("mouse",!0);
r.action="scroll";r.u6=F.ctrlKey;this.B4(F,r);this.a(r)};d7.prototype.a2f=function(F){y.Dk(F);if(y.anh(F)){var r=new k6("mouse",!0);
this.B4(F,r);r.action="rdown";this.a(r);r.action="rup";this.a(r)}};d7.prototype.a4g=function(F){var r=this.vn,$=y.ha(),C=[];
for(var O=0;O<r.length;O++){var M=C[O]=y.Bz(r[O],this.hM);M.x*=$;M.y*=$}var l=new k6("mouse",!0);l.action=F;
l.e6=C;if(r.length==2)this.a(l)};d7.prototype.B4=function(F,r,$){var C=this.vn.length!=0;if(r.action!="up"){var M=y.ha();
if($==null)$=y.Bz(F,this.hM);this.MC=r.W4={x:M*$.x,y:M*$.y,HY:C};var l=y.Bz(F,document.body);r.W4.Rn=l.x;
r.W4.WQ=l.y}else this.MC=r.W4={x:this.MC.x,y:this.MC.y,HY:C};r.W4.ho=.5;if(F.pressure!=null)r.W4.ho=F.pressure;
if(F.pointerType=="mouse")r.W4.ho*=2;r.W4.arm=F.pointerType;if(F.deltaX!=null){var k=F.deltaMode==0?1:40;
r.EB=new hx(F.deltaX*k,F.deltaY*k)}};function aj(F,r,$){au.call(this);this.wW=null;this.aGm=this.$n.bind(this);
this.acw=this.Lg.bind(this);this.af1=this.a2$.bind(this);this.alB=this.an1.bind(this);this.HM=[];this.Gm=[];
this.vR=[];this.aoB=[];this.aep=$;this._=y.i("div","contextpanel "+($?"cp_dark":"cp_light"));this._.addEventListener("contextmenu",y.I0,!1);
this.NC=null;this.acU=0;this.KO=F;this.aGn=r;this._$=[];for(var O=0;O<F.length;O++){var C=y.i("div","enab");
this.Gm.push(C);this._.appendChild(C);var M=F[O].DA;if(M){if(M.startsWith("#")){var l=y.i("span");y.B(l,"display:inline-block; width:16px; height:16px; vertical-align:middle; margin:0 5px 0 -3px; border-radius:4px; background-color:"+M);
C.appendChild(l)}else C.innerHTML=y.UE(F[O].DA,null,"thumb")}else{var k=y.i("span","check");this.aoB.push(k);
C.appendChild(k)}var d=y.i("span","label");d.textContent=dG.get(F[O].name);C.appendChild(d);this.vR.push(d);
if(F[O].NA)this._.appendChild(y.i("hr"));if(F[O].J9||F[O].sub){var I=C.rb=y.i("span","right");C.appendChild(I);
if(F[O].J9)I.textContent=ac.Jc(F[O].J9);else if(F[O].sub)I.innerHTML="<svg height='10px' width='6px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 1 L 5 5 L 1 9'/></svg>"}C.addEventListener($?"mouseup":"click",this.aGm,!1);
C.addEventListener("mouseover",this.acw,!0);C.addEventListener("mouseout",this.af1,!0);if(F[O].sub){var c=new aj(F[O].sub,r?r[O].sub:null);
c.parent=this;this._$.push(c);c.Q("select",this.aGk,this)}else this._$.push(null)}}aj.prototype=new au;
aj.prototype.avO=function(F){y.RR(this._);for(var O=0;O<F.length;O++)if(F[O]!=0&&F[O]!=null){this._.appendChild(this.Gm[O]);
if(F[O]!=1&&this._$[O])this._$[O].avO(F[O])}};aj.prototype.l=function(){var F=this.KO;for(var O=0;O<F.length;
O++){if(F[O].title)this.Gm[O].title=dG.get(F[O].title);this.vR[O].textContent=dG.get(F[O].name)+(F[O].Q5?"...":"")}for(var O=0;
O<this._$.length;O++)if(this._$[O])this._$[O].l()};aj.prototype.update=function(F,r){if(!this.aep){this._.setAttribute("class","contextpanel cp_"+(window.locStor.getItem("__glm")=="1"?"trsp":"light"))}var $=this.KO,C=window.innerWidth<450?"none":"inline";
for(var O=0;O<$.length;O++){var M=this.Gm[O];if(M.rb&&!this._$[O])M.rb.style.display=C;if($[O].T){var l=$[O].T(F,r,O);
if(l.T!=null)this.Gm[O].className=l.T?"enab":"disab";if(l.lf!=null)this.vR[O].textContent=l.lf;if(l.fT!=null)this.aoB[O].innerHTML=l.fT?"<svg height='10px' width='10px'  fill='none' stroke-width='1.35' stroke='currentColor'><path d='M 1 5 L 4 8 L 9 2'/></svg>":"";
if(l.h!=null)this.aGn[O]=l.h}}for(var O=0;O<this._$.length;O++)if(this._$[O])this._$[O].update(F,r)};
aj.prototype.qw=function(){return this.HM};aj.prototype.$n=function(F){if(F.button!=0)return;var O=this.Gm.indexOf(F.currentTarget);
if(this._$[O]){this.acU=O;this.an1()}else{if(this.aGn){var r=this.aGn[O],$=new k6(r.s,!0);$.J=r.J;$.data=r.h;
this.a($)}this.wW=null;this.HM=[O];this.a(new k6("select",!1));var $=new k6(_.E.c,!0);$.data={R:_.m.P$};
this.a($)}};aj.prototype.Lg=function(F){var O=this.Gm.indexOf(F.currentTarget);this.pN();this.acU=O;
this.NC=setTimeout(this.alB,300)};aj.prototype.a2$=function(F){this.pN()};aj.prototype.pN=function(){if(this.NC){clearTimeout(this.NC);
this.NC=null}};aj.prototype.an1=function(){this.pN();var O=this.acU;if(this.wW)this.wW.a6N();if(this._$[O]==null)return;
this.wW=this._$[O];var F=this.Gm[O].getBoundingClientRect(),r=new k6(_.E.c,!0);r.data={R:_.m.$a,g$:this._$[O],x:F.left+F.width+2,y:F.top};
this.a(r)};aj.prototype.a6N=function(){for(var O=0;O<this._$.length;O++)if(this._$[O])this._$[O].a6N();
var F=new k6(_.E.c,!0);F.data={R:_.m.GW,g$:this};this.a(F)};aj.prototype.aGk=function(F){var O=this._$.indexOf(F.target);
this.HM=[O].concat(F.target.qw());this.a(new k6("select",!1))};function jm(F,r,$){au.call(this);this._=y.i("span","fitem cbox");
if(r==null)r=!0;if($==null)$="flabel";var C="cb"+y.hq();this.qE=y.i("input","");this.qE.setAttribute("type","checkbox");
this.qE.setAttribute("id",C);this._.appendChild(this.qE);this.Se=F;this.DT=y.i("label",$);if(r)this.DT.setAttribute("for",C);
this._.appendChild(this.DT);this.l();this.qE.addEventListener("change",this.dl.bind(this),!1)}jm.prototype=new au;
jm.prototype.a0J=function(){return this.Se};jm.prototype.Ck=function(F){this.DT.textContent=F};jm.prototype.l=function(){var F=this.Se;
if(typeof F=="string"&&F.startsWith("<"))this.DT.innerHTML=F;else this.DT.textContent=dG.get(F)};jm.prototype.z1=function(){this.qE.checked=!0};
jm.prototype.Ly=function(){this.qE.checked=!1};jm.prototype.s$=function(){return this.qE.checked};jm.prototype.o=function(F){this.qE.checked=F};
jm.prototype.k=jm.prototype.s$;jm.prototype.dl=function(F){this.a(new k6(_.E.V,!1))};function eu(F,r){au.call(this);
this.Se=F;this._=y.i("span","labelitem fitem"+(r?" spread":""));this.l()}eu.prototype=new au;eu.prototype.o=function(F){this._.textContent=F};
eu.prototype.k=function(){return this._.textContent};eu.prototype.VS=function(){this._.removeAttribute("disabled")};
eu.prototype.Xg=function(){this._.setAttribute("disabled","")};eu.prototype.Ck=function(F){this._.textContent=F};
eu.prototype.l=function(){this._.textContent=dG.get(this.Se)};eu.prototype.a0J=function(){return this.Se};
function jC(F,r,$,C,M){au.call(this);this.hw=!1;this._=y.i("button","fitem"+(r?" spread":"")+(C?" bbtn":""));
this.Se=F;this.sW=$;this.l();var l=M&&window.PointerEvent?"pointerup":"click";this._.addEventListener(l,this.y4.bind(this),!1)}jC.prototype=new au;
jC.prototype.l=function(){var F=this._,r=this.Se,$=this.sW;if(typeof r=="string"&&(r.startsWith("<img")||r.startsWith("<svg")||r.startsWith("<span"))){if(!this.hw){F.innerHTML=r;
y.B(F,"padding:2px");this.hw=!0}}else F.textContent=dG.get(r);if($){F.setAttribute("title",dG.get($))}};
jC.prototype.aaQ=function(F){this._.setAttribute("title",F)};jC.prototype.y4=function(F){this.a(new k6("click",!1))};
jC.prototype.z1=function(){y.yY(this._,"bactive")};jC.prototype.Ly=function(){y.cD(this._,"bactive")};
jC.prototype.Ck=function(F,r){if(F&&F!=this.Se){this.Se=F;this.hw=!1}if(r)this.sW=r;this.l()};jC.prototype.o=function(F){if(F)this.z1();
else this.Ly()};jC.prototype.s$=function(){return this._.getAttribute("class").indexOf("bactive")!=-1};
jC.prototype.k=function(){return this.s$()};function gs(F,r,$,C,M){au.call(this);var l=y.hq();this._=y.i("span","fitem tinput");
if($==-1)this._.style.width="100%";if(F){this.Se=F;this.G3=y.i("label","flabel");this._.appendChild(this.G3);
this.G3.setAttribute("for",l);this.l()}if(M){this.qE=y.i("span")}else if(C==null){this.qE=y.i("input");
this.qE.setAttribute("type","text")}else this.qE=y.i("textarea","scrollable");this.qE.setAttribute("id",l);
if($)y.B(this.qE,"width:"+($==-1?"100%;":$+"em;")+(M?" display:inline-block; margin-left:6px;":""));
if(C)this.qE.setAttribute("rows",C);this._.appendChild(this.qE);if(r){this.IO=y.i("span");this.IO.textContent=r;
this.IO.style.marginLeft="2px";this._.appendChild(this.IO)}y.mM(this.qE);ac.hj(this.qE);this.qE.addEventListener("change",this.dl.bind(this),!1);
this.qE.addEventListener("input",this.ald.bind(this),!1);if(C==null)this.qE.addEventListener("keyup",this.f8.bind(this),!1)}gs.prototype=new au;
gs.prototype.l=function(){this.Bv()};gs.prototype.f8=function(F){var r=ac.Dh(F.code,ac.Pl),$=ac.Dh(F.code,ac.t7);
if($||r)this.qE.blur()};gs.prototype.Ck=function(F){this.G3.textContent=F};gs.prototype.o=function(F){var r=this.qE,$=F==null?"":F,C=r.tagName=="SPAN";
if(C){r.textContent=" "+$;if(this.IO)r.appendChild(this.IO)}else r.value=$};gs.prototype.auc=function(F){this.IO.textContent=F};
gs.prototype.k=function(){return this.qE.value};gs.prototype.Sf=function(){this.qE.select();this.qE.focus()};
gs.prototype.dl=function(F){this.a(new k6(_.E.V,!1))};gs.prototype.ald=function(F){this.a(new k6("input",!1))};
function hv(F,r,$,C,M,l,k,d,I){au.call(this);if(M==null)M=0;this._=y.i("span","fitem");var c=y.hq();
this.Se=F;this.sW=d;this.Wd=0;this.ak3=I;this.lH=r;this.Y2=$;this.aGO=null;if(C instanceof Array){this.aGO=C;
C=C[0]}this.Az=C;this.FI=M;this.axx=l;this.kO=k;this.Hl=0;this.G3=y.i("label","flabel");this.G3.setAttribute("for",c);
y.B(this.G3,"cursor:col-resize;");this.vI=y.i("input","slider");this.vI.setAttribute("type","range");
if(k){this.vI.min=0;this.vI.max=400}else{this.vI.min=r;this.vI.max=$;if(M!=0)this.vI.step=($-r)/200}this.qE=y.i("input");
this.qE.setAttribute("type","text");this.qE.setAttribute("id",c);this.qE.setAttribute("inputmode","numeric");
this.IO=y.i("span");this.IO.textContent=C;y.mM(this.qE);ac.hj(this.qE);this.qE.addEventListener("click",function(Q){this.qE.select()}.bind(this),!1);
this.qE.addEventListener("change",this.dl.bind(this),!1);this.qE.addEventListener("keydown",this.c3.bind(this),!1);
this.qE.addEventListener("keyup",this.f8.bind(this),!1);this.qE.addEventListener("wheel",this.sq.bind(this),!1);
this.vI.addEventListener("input",this.dl.bind(this),!1);if(I)this.vI.addEventListener("change",this.dl.bind(this),!1);
this.vI.addEventListener("click",this.aos.bind(this),!1);this.a9w=this.abv.bind(this);this.aA$=this.ahq.bind(this);
this.a35=this.al1.bind(this);this.uq=0;this.Yd=0;this.aq2=!1;y.TX(this.G3,this.a9w);y.C7(this.G3)}hv.prototype=new au;
hv.prototype.oX=function(F){this.FI=F};hv.prototype.Ck=function(F){this.G3.style.display=F?"inherit":"none";
if(F)this.G3.textContent=dG.get(F)};hv.prototype.l=function(){var bU=this.Se,F=this.sW;if(bU){if(typeof bU=="string"&&bU.startsWith("<"))this.G3.innerHTML=bU;
else this.Bv()}if(F){F=dG.get(F);if(bU)this.G3.setAttribute("title",F);this.qE.setAttribute("title",F)}};
hv.prototype.o=function(F,r){var $=this.lH==this.Y2,M;if(!$&&this.lH>=0)F=Math.max(this.lH,F);if(this.FI==0)F=Math.round(F);
var C=this.Az;this.Wd=F;this.qE.value=parseFloat(this.FI!=0?F.toFixed(this.FI):F)+(this.axx&&C?(C.toLowerCase()==C.toUpperCase()?"":" ")+C:"");
if(-this.lH==this.Y2)M=200+Math.sign(F)*200*Math.pow(Math.abs(F)/this.Y2,1/2.7);else M=400*Math.pow((F-this.lH)/(this.Y2-this.lH),1/2.7);
this.vI.value=this.kO?M:F;if(r)this.ms()};hv.prototype.k=function(){var F=this.Wd;if(isNaN(F))F=0;return F};
hv.prototype.b9=function(){return this.Az};hv.prototype.dl=function(F){var r=0;if(F.currentTarget==this.qE){var $=F.target.value,C=0;
if($=="")r=0;else if(this.Az){r=parseFloat($)}else{try{r=eval($)}catch(F){r=1}}if(isNaN(r))r=0;while(C<$.length&&($.charAt(C)=="."||48<=$.charCodeAt(C)&&$.charCodeAt(C)<=57))C++;
var M=$.slice(C).trim();if(this.aGO&&this.aGO.indexOf(M)!=-1)this.Az=M}else{if(Date.now()-this.Hl<10)return;
r=parseFloat(F.target.value);if(this.kO){if(-this.lH==this.Y2)r=Math.sign(r-200)*Math.pow(Math.abs(r-200)/200,2.7)*this.Y2;
else r=this.lH+Math.pow(r/400,2.7)*(this.Y2-this.lH);r=this.aFv(r)}}this.o(r);if(F.type=="input"&&this.ak3)return;
this.ms()};hv.prototype.ms=function(){this.a(new k6(_.E.V))};hv.prototype.aFv=function(F){if(this.Y2-this.lH>50&&F>10)F=Math.round(F);
return F};hv.prototype.c3=function(F){var r=0;if(ac.Dh(F.code,ac.IS))r=1;if(ac.Dh(F.code,ac.pU))r=-1;
if(r!=0)this.ahn(r,F.shiftKey)};hv.prototype.f8=function(F){var r=ac.Dh(F.code,ac.Pl),$=ac.Dh(F.code,ac.t7);
if(r)this.o(this.k());if($||r)this.qE.blur()};hv.prototype.sq=function(F){this.ahn(F.deltaY>0?-1:1,F.shiftKey)};
hv.prototype.ahn=function(F,r){var $=this.k(),C=this.FI,M=F*(C==null||C==0||$>5?1:.1);if(r)M*=10;var l=$+M;
if(!this.kO&&this.Y2!=this.lH)l=Math.min(this.Y2,l);this.o(l);this.ms()};hv.prototype.aos=function(F){var r=Date.now()-this.Hl;
this.Hl=Date.now();if(r>200)return;var $=this.lH,C=this.Y2,M=($+C)/2;if($<1&&C>1&&C<10)M=1;else if($<90&&C>110)M=100;
else if($<0&&C>0)M=0;this.o(M);this.ms()};hv.prototype.abv=function(F){y.dO(document,this.aA$);y.an(document,this.a35);
this.uq=y.Bz(F,document.body).x;this.Yd=this.k()};hv.prototype.ahq=function(F){y.Dk(F);var r=this.lH==this.Y2,$=y.Bz(F,document.body).x,C=($-this.uq)*(r?1:1/120*(this.Y2-this.lH)),M=this.Yd+C;
if(r)M=Math.round(M);if(!r){if(!0){M=Math.max(this.lH,M);if(M==this.lH){this.uq=$;this.Yd=this.lH}}if(!this.kO){M=Math.min(this.Y2,M);
if(M==this.Y2){this.uq=$;this.Yd=this.Y2}}M=this.aFv(M)}this.aq2=!0;this.o(M);if(!this.ak3)this.ms()};
hv.prototype.al1=function(F){if(!this.aq2)this.qE.focus();this.aq2=!1;if(this.ak3)this.ms();y.Fp(document,this.aA$);
y.gj(document,this.a35)};hv.prototype.Sf=function(){this.qE.select();this.qE.focus()};function eT(F,r,$,C,M,l,k,d,I,c){hv.call(this,F,r,$,C,M,!0,l,I,c);
y.yY(this._,"rangedropinput");this._.appendChild(this.G3);y.B(this.qE,"width:"+(d?d:3.3)+"em");this._.appendChild(this.qE);
this.a4K=y.i("span","rangecontFloat");this.a4K.appendChild(this.vI);this.aje=y.i("button");this.aje.textContent="\u25BC";
y.TX(this.aje,this.aCt.bind(this));if(k!=!0)this._.appendChild(this.aje);this.q7=new au;this.q7._=this.a4K}eT.prototype=new hv;
eT.prototype.aCt=function(F){if(y.D4(this.q7._))return;F.stopPropagation();var r=this._.getBoundingClientRect();
y.B(this.vI,"width:"+r.width+"px;");var $=new k6(_.E.c,!0);$.data={R:_.m.$a,g$:this.q7,x:r.left-10,y:r.top+r.height};
this.a($)};function aS(F,r,$,C,M,l){hv.call(this,F,r,$,C,M,!1,l);this._.appendChild(this.G3);var k=y.i("span");
this._.appendChild(k);k.appendChild(this.vI);this._.appendChild(this.qE);y.B(this.qE,"width:3.3em");
if(this.Az)this._.appendChild(this.IO)}aS.prototype=new hv;function gm(F,r,$,C,M,l,k,d){hv.call(this,F,r,$,C,M,!0,l,null,k);
y.yY(this._,"trangeinput");this._.appendChild(this.G3);this._.appendChild(this.qE);var I=y.i("span");
if(d!=!0)this._.appendChild(I);I.appendChild(this.vI)}gm.prototype=new hv;function bc(F,r,$,C){au.call(this);
if(!r)return;this.jo=0;this.Se=F;this.alb=C;this.Ut=null;this.Z6=$;this.aEL=[];var M="dd"+y.hq();this._=y.i("span","fitem ddmenu");
if(F){this.G3=y.i("label","flabel");this._.appendChild(this.G3);this.G3.setAttribute("for",M)}this.qE=y.i("select");
ac.hj(this.qE);this.qE.setAttribute("id",M);this._.appendChild(this.qE);this.qE.addEventListener("change",this.dl.bind(this),!1);
function l(k){var d=0;if(ac.Dh(k.code,ac.IS))d=1;if(ac.Dh(k.code,ac.pU))d=-1;if(d!=0)k.stopPropagation()}this.qE.addEventListener("keydown",l,!1);
this.qE.addEventListener("keyup",l,!1);this.Ct=[];this.LR=null;this.Ek(r,$);this.l()}bc.prototype=new au;
bc.prototype.Ck=function(F){this.Se=F;this.l()};bc.prototype.l=function(){this.Bv();if(this.LR)this.Ek(this.LR,this.Z6);
if(this.alb)this.qE.setAttribute("title",dG.get(this.alb));this.o(this.jo)};bc.prototype.k=function(){return this.jo};
bc.prototype.Ek=function(F,r){y.RR(this.qE);var $=[],C=0;if(r){$.push(r[0]);for(var O=1;O<r.length;O++)$.push($[O-1]+r[O])}this.LR=F;
this.Ut=[];this.Z6=r;for(var O=0;O<F.length;O++){var M=y.i("option");if(this.aEL.indexOf(O)!=-1)M.setAttribute("disabled","");
M.textContent=dG.get(F[O]);M.setAttribute("value",O);this.qE.appendChild(M);this.Ct.push(M);this.Ut.push(O+C);
if($.indexOf(O+1)!=-1&&O!=F.length-1){var l=y.i("option");l.setAttribute("disabled","");l.textContent="";
this.qE.appendChild(l);C++}}};bc.prototype.aHk=function(O){var F=this.aEL,r=F.indexOf(O);if(r==-1)F.push(O);
this.l()};bc.prototype.ar5=function(O){var F=this.aEL,r=F.indexOf(O);if(r!=-1)F.splice(r,1);this.l()};
bc.prototype.o=function(F){this.jo=F;this.qE.selectedIndex=this.Ut[F]};bc.prototype.dl=function(F){this.jo=this.Ut.indexOf(this.qE.selectedIndex);
this.a(new k6(_.E.V,!1))};bc.prototype.Sf=function(){this.qE.focus()};function a8(F,r,$,C,M){au.call(this);
if(!r)return;this.jo=0;this.asP=C;this.aya=M;this._=y.i("span","fitem bbmenu");this.DT=y.i("label","flabel");
if(F){this.Se=F;this.DT.textContent=F+":";this._.appendChild(this.DT)}this.Ct=[];this.W0=y.i("span");
this._.appendChild(this.W0);this.LR=null;this.Ek(r,$);this.o(0)}a8.prototype=new au;a8.prototype.Ck=function(F){this.Se=F;
this.l()};a8.prototype.l=function(){var F=this.DT.parentNode!=null,r=this._;if(this.Se!=null){if(!F){r.appendChild(this.DT);
r.appendChild(this.W0)}this.DT.textContent=dG.get(this.Se)+": "}else if(F)r.removeChild(this.DT);for(var O=0;
O<this.Ct.length;O++)this.Ct[O].l()};a8.prototype.k=function(){return this.jo};a8.prototype.Ek=function(F,r){y.RR(this.W0);
this.Ct=[];var $=this.k();this.LR=F;for(var O=0;O<F.length;O++){var C=new jC(F[O],!1,r?r[O]:null,this.asP);
C.Q("click",this.dl,this);this.W0.appendChild(C._);this.Ct.push(C)}this.l();this.o($)};a8.prototype.o=function(F){this.jo=F;
for(var O=0;O<this.Ct.length;O++)this.Ct[O].Ly();if(F!=-1)this.Ct[F].z1()};a8.prototype.dl=function(F){var O=this.Ct.indexOf(F.target);
this.o(this.aya&&O==this.jo?-1:O);this.a(new k6(_.E.V,!1))};a8.Jl=function(F,r,$){if(r==null)r=16;var C=a8.YJ,M=C.getContext("2d"),l=r>>>1;
C.width=C.height=r;var k=[];for(var O=0;O<F.length;O++){if(F[O][0]=="-")k.push(F[O].slice(1));else if(F[O]=="checker"||F[O].startsWith("#")){if(F[O]=="checker"){M.fillStyle="white";
M.fillRect(0,0,r,r);M.fillStyle="#bbbbbb";M.fillRect(l,0,l,l);M.fillRect(0,l,l,l)}else if(F[O].startsWith("#")){M.fillStyle=F[O];
M.fillRect(0,0,r,r)}k.push("<img src=\""+C.toDataURL()+"\" />")}else k.push(y.UE(F[O],null,$?$:"autoscale"))}return k};
a8.YJ=y.i("canvas");function i9(F,r,$,C,M,l){au.call(this);this._=y.i("span","fitem mbox");this.aqA=$;
this.a5I=M;var k=y.hq();if(F){this.Se=F;this.G3=y.i("label","flabel");this.G3.setAttribute("for",k);
this._.appendChild(this.G3)}this.rj=r;this.bN=[];for(var O=0;O<r.length;O++){var d=$?new jC(r[O],!1,C?C[O]:null,!1,l):new jm(r[O],!0,"");
if(O==0)d._.setAttribute("id",k);d.Q($?"click":_.E.V,this.dl,this);this.bN.push(d);this._.appendChild(d._)}this.l()}i9.prototype=new au;
i9.prototype.o=function(F){for(var r=0;r<this.rj.length;r++)this.bN[r].o(F[r])};i9.prototype.k=function(){var F=[];
for(var r=0;r<this.rj.length;r++)F[r]=this.bN[r].k();return F};i9.prototype.l=function(){if(this.Se)this.G3.innerHTML=dG.get(this.Se)+": ";
var F=this.bN;for(var r=0;r<F.length;r++){F[r].l();if(r==F.length-1)F[r]._.style.marginRight="0px"}};
i9.prototype.dl=function(F){var O=this.bN.indexOf(F.currentTarget),r=this.bN[O];if(this.aqA)r.o(!r.k());
if(this.a5I){var $=r.k();for(var O=0;O<this.bN.length;O++)this.bN[O].o(!1);r.o($)}this.a(new k6(_.E.V,!1))};
i9.prototype.Ek=function(F){for(var O=0;O<F.length;O++)this.bN[O].Ck(F[O])};function cx(F,r){au.call(this);
this.bP=[];this.K=[];this.ar3=F;this.i2=r;this.Gx=0;this.Vh=null;this.JE=new hx(0,0);if(r!=null){this.K1=new aj([{name:[6,37]},{name:[5,4]}]);
this.K1.parent=this;this.K1.Q("select",this.Dx,this)}this._=y.i("div","imageset scrollable");this._.addEventListener("contextmenu",y.I0,!1)}cx.prototype=new au;
cx.prototype.l=function(){if(this.K1)this.K1.l()};cx.prototype.Dx=function(F){var O=this.K1.qw()[0],r=new k6(_.E.c,!0),$={R:_.m.WF,jg:this.i2,qG:this.K.slice(0)};
if(O==0){var C=this.Vh[1][this.K[0]],M=C.split("/");if(M.length==2){$.aCG=M[0]+"/";C=M[1]}$.TB="rnm";
r.data={R:_.m.Oe,rS:"namewindow",Ir:C,fE:{s:_.E.c,h:$}}}else{r.data=$;$.TB="del"}this.a(r)};cx.prototype.aHe=function(){return this.Gx};
cx.prototype.Bm=function(F){this.Gx=F;if(this.Vh)this.vr()};cx.prototype.pD=function(F,r,$,C){this.Vh=[F,r,$,C];
this.vr()};cx.prototype.vr=function(){var F=this.Vh,r=this._,$=F[0],C=F[1],M=F[2],l=F[3];this.bP=[];
y.RR(r);var k=this.y4.bind(this),d=this.Gx;if(d==0)y.yY(r,"imageset");else y.cD(r,"imageset");var I={};
for(var O=0;O<$.length;O++){var c=$[O],Q=null,x=null;if(c==null){this.bP.push(null);continue}if(typeof c=="string"){Q=y.i("img","image");
Q.setAttribute("src",c)}else Q=c;if(M)y.nC(Q,M,l);if(this.ar3)y.yY(Q,"gsicon");if(C){var x=C[O],U=x.split("/");
if(U.length==2){var S=I[U[0]];x=U[1];if(S==null)S=I[U[0]]=[];S.push(O)}}if(d==0){}else{var z=y.i("div","listitem");
z.appendChild(Q);var V=y.i("span");V.textContent=x?x:"Item "+(O+1);y.B(V,"margin-left:4px;");z.appendChild(V);
Q=z}if(x)Q.setAttribute("title",x);Q.addEventListener("mousedown",k,!1);this.bP.push(Q);r.appendChild(Q)}if(Object.keys(I).length!=0){y.RR(r);
for(var t in I){var S=I[t],Y=y.i("div","listitem head");y.B(Y,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);");
var i=y.i("div","headL");Y.appendChild(i);i.appendChild(y.i("div","folder"));var V=y.i("span");V.textContent=t;
i.appendChild(V);r.appendChild(Y);for(var O=0;O<S.length;O++)r.appendChild(this.bP[S[O]])}}};cx.prototype.y4=function(F){if(this.i2==null)F.preventDefault();
var r=this.bP.indexOf(F.currentTarget),$=window.__kb,C=this.K,M=C.length;if($.D(ac.il)){var l=Math.min(C[0],C[C.length-1],r),k=Math.max(C[0],C[C.length-1],r);
C=[];for(var O=l;O<=k;O++)C.push(O)}else if($.D(ac.Xf)){var d=C.indexOf(r);if(d==-1)C.push(r);else C.splice(d,1)}else C=[r];
C.sort(function(x,U){return x-U});if(F.button==0||M==1)this.o(C);this.JE=y.Bz(F,F.currentTarget);if(F.button==0)this.a(new k6(_.E.V));
if(F.button==2&&this.K1){var I=this.K1;I.update(null);var c=y.Bz(F,document.body),Q=new k6(_.E.c,!0);
Q.data={R:_.m.$a,g$:I,x:c.x,y:c.y+2};this.a(Q)}};cx.prototype.k=function(){return this.K.slice(0)};cx.prototype.amz=function(){var F=this.JE;
return new hx(F.x,F.y)};cx.prototype.o=function(F){this.K=F.slice(0);for(var O=0;O<this.bP.length;O++){var r=this.bP[O];
if(r==null)continue;if(F.indexOf(O)!=-1)y.yY(r,"selected");else y.cD(r,"selected")}};function kl(F,r){au.call(this);
this.ar3=F;this.i2=r;this.Gx=0;this.n$=null;this.WT=[];this.KL=[];this.K=[];var $=d3.pH[r],C=$[0].toUpperCase();
this.K1=new aj([{name:["VAR0 ."+C,[1,0]]},{name:["VAR0 ."+C,[1,8]]},{name:[6,37]},{name:[5,4],NA:!0},{name:"Tiles/List"},{name:[12,87]},{name:[6,20]}]);
this.K1.parent=this;this.K1.Q("select",this.Dx,this);this._=y.i("div","imageset scrollable");this._.addEventListener("contextmenu",y.I0,!1);
this.atM=this.y4.bind(this);this.a7_=function(M){M.dataTransfer.setData("text",this.WT.indexOf(M.currentTarget))}.bind(this);
this.aH7=this.aI7.bind(this)}kl.prototype=new au;kl.prototype.asO=function(){return this.K1};kl.prototype.l=function(){this.K1.l()};
kl.prototype.aI7=function(F){var r=parseInt(F.dataTransfer.getData("text")),$=this.WT.indexOf(F.currentTarget),C=this.K,c=!1;
if(C.indexOf(r)==-1)C=[r];var M=this.KL[$],l=M.join(",")+",",k=kl.S1(C,this.KL),d=k[1];for(var I in d)if(l.startsWith(I))return;
var Q=kl.uR(this.n$,M)[2],x=kl.getItem(this.n$,M);if(x[1]==null){Q=x[2];x=Q[0];c=!0}var U=kl.Bx(this.n$,k[0]),S=Q.indexOf(x);
for(var O=0;O<U.length;O++)Q.splice(S+(c?0:1)+O,0,U[O]);this.K=[];var z=kl.aDA(this.n$);for(var O=0;
O<U.length;O++)this.K.push(z.indexOf(U[O]));this.vr();this.ms()};kl.prototype.Dx=function(F,r){if(r==null)r=this.K1.qw()[0];
var $=this.K,C=new k6(_.E.c,!0);if(r==0){C.data={R:_.m.u7};this.a(C)}if(r==1){var M=kl.S1($,this.KL)[0],l=kl.Bx(this.n$,M,!0),k=d3.pH[this.i2],d=jE.jB(l,k[2]);
bF.save(d,k[1]+"."+k[0])}if(r==2){C.data={R:_.m.Oe,rS:"namewindow",Ir:kl.getItem(this.n$,this.KL[$[0]])[0],Oa:this.a0B.bind(this)};
this.a(C)}if(r==3){var M=kl.S1($,this.KL)[0],l=kl.Bx(this.n$,M);this.K=[];this.vr();this.ms()}if(r==4){this.Gx=1-this.Gx;
this.vr()}if(r==5){this.a(new k6("define_new"))}if(r==6){this.anL(["New folder",null,[],!0])}};kl.prototype.anL=function(F){var r=this.n$,$=this.K,C=r.length-1;
if($.length!=0){var M=$[0],l=this.KL[M],r=kl.uR(this.n$,l)[2],k=kl.getItem(this.n$,l);C=r.indexOf(k);
if(k[1]==null){r=k[2];C=r.length-1}}r.splice(C+1,0,F);this.K=[kl.aDA(this.n$).indexOf(F)];this.vr();
this.Dx(null,2);this.ms()};kl.prototype.a0B=function(F){var r=kl.getItem(this.n$,this.KL[this.K[0]]);
r[0]=F;this.vr();this.ms()};kl.prototype.Ek=function(F){this.n$=F;this.vr()};kl.prototype.ms=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.WF,jg:this.i2,TB:"mdf"};this.a(r)};kl.prototype.aH0=function(F,r,$){for(var O=0;O<F.length;
O++){var C=F[O],M=C[0],l,k=C[1]==null;$.push(O);if(k){l=y.i("div","listitem head");y.B(l,"clear:both; padding:4px 4px; height:16px; background-color:rgba(0,0,0,0.1);  margin:1.5px;");
var d=y.i("div","headL");l.appendChild(d);d.appendChild(y.i("div",C[3]?"open":"closed"));d.appendChild(y.i("div","folder"));
var I=y.i("span");I.textContent=M;d.appendChild(I)}else{var c=C[2],Q=d3.pH[this.i2],x=Math.floor(Q[5]*y.ha()),U=Math.floor(y.ha()*Q[6]);
if(c==null)c=C[2]=Q[2].SM(C,x,U);l=y.i("img","image");l.setAttribute("src",c);y.nC(l,x,U);if(this.Gx==1){var S=y.i("div","listitem");
S.appendChild(l);S.style.height=Q[6]+"px";var I=y.i("span");I.textContent=M;y.B(I,"margin-left:4px;");
S.appendChild(I);l=S}l.setAttribute("title",M)}r.appendChild(l);if(this.K.indexOf(this.WT.length)!=-1)y.yY(l,"selected");
this.WT.push(l);this.KL.push($.slice(0));l.addEventListener("mouseup",this.atM,!1);l.setAttribute("draggable","true");
l.addEventListener("dragover",y.Dk,!1);l.addEventListener("dragstart",this.a7_,!1);l.addEventListener("drop",this.aH7,!1);
if(k){var z=y.i("div");z.style.marginLeft="14px";if(C[3])r.appendChild(z);this.aH0(C[2],z,$)}$.pop()}};
kl.prototype.vr=function(){var F=this.n$,r=this._;y.RR(r);this.WT=[];this.KL=[];this.aH0(F,r,[])};kl.prototype.y4=function(F){var r=this.WT.indexOf(F.currentTarget),$=kl.getItem(this.n$,this.KL[r]),C=$[1]==null,M=F.target.getAttribute("class"),l=this.K,k=l.length,d=l.indexOf(r);
if(M=="open"||M=="closed")$[3]=!$[3];else if(F.button==0||d==-1){var I=window.__kb;if(I.D(ac.il)){var c=Math.min(l[0],l[l.length-1],r),Q=Math.max(l[0],l[l.length-1],r);
l=[];for(var O=c;O<=Q;O++)l.push(O)}else if(I.D(ac.Xf)){if(d==-1)l.push(r);else l.splice(d,1)}else l=[r];
l.sort(function(z,V){return z-V});this.K=l}this.vr();if(F.button==0&&!C&&l.length==1)this.a(new k6(_.E.V));
if(F.button==2){var x=this.K1;x.update(null);var U=y.Bz(F,document.body),S=new k6(_.E.c,!0);S.data={R:_.m.$a,g$:x,x:U.x,y:U.y+2};
this.a(S)}};kl.prototype.k=function(){return kl.getItem(this.n$,this.KL[this.K[0]])[1]};kl.prototype.o=function(F){this.anL(["New item",F])};
kl.getItem=function(F,r){var $=["",null,F];for(var O=0;O<r.length;O++)$=$[2][r[O]];return $};kl.uR=function(F,r){var $=["",null,F];
for(var O=0;O<r.length-1;O++)$=$[2][r[O]];return $};kl.aDA=function(F){function r(C,M){for(var O=0;O<C.length;
O++){var l=C[O];M.push(l);if(l[1]==null)r(l[2],M)}}var $=[];r(F,$);return $};kl.Bx=function(F,r,$){var C=[];
for(var M=r.length-1;M>=0;M--){var l=r[M],k=l[l.length-1],d=kl.uR(F,l);C.unshift(d[2][k]);if(!$)d[2].splice(k,1)}return C};
kl.S1=function(F,r){var $=[],C={};for(var O=0;O<F.length;O++){var M=r[F[O]],l=M.join(",")+",",k=!1;for(var d in C)if(l.startsWith(d))k=!0;
if(!k){C[l]=!0;$.push(M)}}return[$,C]};function i_(F,r,$,C,M,l,k){au.call(this);this._=y.i("span","fitem "+$);
this.i2=l;this.pQ=null;this.GU=!0;this.Y5=null;this.uf=new au;this.uf._=y.i("div","floatcont");this.GS=C;
this.uf.parent=this;this.a6f=y.i("div");this.uf._.appendChild(this.a6f);this.yC=y.i("div");this.uf._.appendChild(this.yC);
if(F){this.Se=F;this.DT=y.i("label","flabel");this._.appendChild(this.DT)}this.R=y.i("button",k?"nopadding":"");
y.B(this.R,"position:relative;");var d=this.Pt.bind(this),I=this._e.bind(this);y.TX(this.R,r?I:d);this._.appendChild(this.R);
this.rO=y.i("img",k?"gsicon":"");this.R.appendChild(this.rO);if(r){var c=y.i("button");c.textContent="\u25BC";
y.TX(c,d);this._.appendChild(c)}else{var Q=y.i("span");Q.textContent="\u25BC";y.B(Q,"position:absolute;  bottom:2px;  right:4px;");
this.R.appendChild(Q)}var x=this.af6=y.i("span");this.yC.appendChild(x);y.B(x,"display:inline-block;  vertical-align:top;");
this.kL=this.apg()?new kl(k,l):new cx(k,l);x.appendChild(this.kL._);this.kL.parent=this.uf;this.kL.Q(_.E.V,this.yZ,this);
this.kL.Q("define_new",this.aDj,this);this.kL._.style.height=M+"px";this.lO=y.i("button");this.lO.textContent="\u25BC";
y.B(this.lO,"padding:3px");y.TX(this.lO,this.aJn.bind(this));this.yC.appendChild(this.lO);var U=this.mF(),S=this.aGl=l!=d3.aD&&l!=d3.Xh?l:null,z=this.ac4=l==null?!1:d3.pH[l][4]!=0,V=l==null?"":d3.pH[l][0].toUpperCase(),t=[];
if(S)t.push({name:[12,87]});t.push({name:["VAR0 / VAR1",[25,3,0],[25,3,1]],NA:!0});t.push({name:[[23,6],"."+(V=="ICC"?"icc .cube .look .3dl":V)]},{name:["VAR0 ."+V,[1,8]]},{name:[6,37]},{name:[5,4],NA:U.length!=0});
for(var O=0;O<U.length;O++)t.push({name:U[O].split("/").pop()});this.a70=t}i_.prototype=new au;i_.prototype.apg=function(){var F=this.i2;
return F==d3.oF||F==d3.PP};i_.prototype.aDj=function(){this.kL.o(this.Y5)};i_.prototype.yZ=function(F){this.o(F.target.k());
this.a(new k6(_.E.V))};i_.prototype.ps=function(){if(!this.GU)return;this.kL.Ek(this.pQ,this);this.GU=!1};
i_.prototype.o=function(F){this.Y5=j.N(F);this.KB()};i_.prototype.k=function(){return j.N(this.Y5)};
i_.prototype.KB=function(){};i_.prototype.mF=function(){return[]};i_.prototype._e=function(){};i_.prototype.l=function(){this.kL.l();
var F=this.Se;if(F)this.DT.textContent=dG.get(F)+":"};i_.prototype.Ck=function(F){this.DT.textContent=F};
i_.prototype.ZK=function(F){var r=this.i2,$=0;if(r==d3.SK){$=this.pQ?this.pQ.length:0;F=F.slice(0)}this.pQ=F;
this.GU=!0;if(y.D4(this.kL._)||r==d3.oF)this.ps();if(r==d3.SK&&F.length-$==1&&y.D4(this._)){this.o(F[$]);
this.GU=!0;this.ps();this.kL.o([$]);this.a(new k6(_.E.V))}};i_.prototype.Dx=function(F){var r=F.target.qw()[0];
if(this.aGl==null)r++;var $=new k6(_.E.c,!0);if(r==0){var C=this.sP();if(this.i2==d3.SK&&C[0].profile==null)return;
$.data={R:_.m.WF,TB:"add",jg:this.aGl,bw:C}}else if(r==1)this.kL.Bm(1-this.kL.aHe());else if(r<=5)this.Y3(r-2);
else{var M=this.mF();$.data={R:_.m.f0,jg:{url:"rsrc/"+M[r-6]}}}if($.data)this.a($)};i_.prototype.Y3=function(F){var r=new k6(_.E.c,!0),$=this.kL.k(),C={R:_.m.WF,jg:this.i2,qG:$};
if(F>1&&$.length==0){alert("No items selected");return}if(F==0)r.data={R:_.m.u7};else if(F==1)r.data={R:_.m.zn,aou:this.i2,qG:$.length==0?null:$};
else if(F==2){var M=this.kL.Vh[1][$[0]],l=M.split("/");if(l.length==2){C.aCG=l[0]+"/";M=l[1]}C.TB="rnm";
r.data={R:_.m.Oe,rS:"namewindow",Ir:M,fE:{s:_.E.c,h:C}}}else if(F==3){r.data=C;C.TB="del"}this.a(r)};
i_.prototype.sP=function(){return[this.k()]};i_.prototype.aJn=function(F){var r;F.stopPropagation();
if(this.apg())r=this.kL.asO();else{if(this.K1==null){this.K1=new aj(this.a70);this.K1.parent=this.uf;
this.K1.Q("select",this.Dx,this)}r=this.K1}if(y.D4(r._))return;r.l();r.update(null);var $=F.currentTarget.getBoundingClientRect(),C=new k6(_.E.c,!0);
C.data={R:_.m.$a,g$:r,x:$.left,y:$.top+$.height};this.a(C)};i_.prototype.Pt=function(F,r,$){if(y.D4(this.uf._))return;
if(F)F.stopPropagation();this.ps();if(r==null){var C=this.R.getBoundingClientRect(),r=C.left,$=C.top+C.height}this.Xt();
var M=new k6(_.E.c,!0);M.data={R:_.m.$a,g$:this.uf,x:r,y:$,Cl:!0};this.a(M)};i_.prototype.Xt=function(F,r){var F=Math.min(this.GS,window.innerWidth-40);
this.af6.style.width=F+"px";this.uf._.style.width=F+20+"px"};i_.prototype.arB=function(F,r){this.Pt(null,F,r)};
function j7(){au.call(this);this._=y.i("div");this.Wd=!1;this.WT=[new bc([12,19,1],[[13,1,7]].concat(f0._5)),new jP([17,1]),new jP([12,46])];
for(var O=0;O<3;O++){var F=this.WT[O];this._.appendChild(F._);F.Q(_.E.V,this.jz,this)}this.l()}j7.prototype=new au;
j7.prototype.l=function(){for(var O=0;O<3;O++)this.WT[O].l()};j7.prototype.k=function(){return this.Wd.slice(0)};
j7.prototype.o=function(F){this.Wd=F.slice(0);var r=this.WT,$=r[0].k();r[1].o(F.slice($*8,$*8+4),$);
r[2].o(F.slice($*8+4,$*8+8),$)};j7.prototype.jz=function(F){var r=this.WT,$=r.indexOf(F.currentTarget);
if($==0)this.o(this.Wd);else{var C=r[0].k()*8+($==1?0:4),M=r[$].k();for(var O=0;O<4;O++)this.Wd[C+O]=M[O];
this.a(new k6(_.E.V,!1))}};function jP(F){au.call(this);this._=y.i("div");this.Ee=y.i("canvas");this.vL=F;
this.Wd=[0,20,200,255];this.L5=0;this.sI=-1;this.ac6=[];for(var O=0;O<5;O++){var r=y.i("span");y.B(r,"display:inline-block;width:"+(O==0?8:O==2?7:2)+"em");
this.ac6.push(r);this._.appendChild(r)}this.Oh=this.Pg.bind(this);this._l=this.gB.bind(this);this.HA=this.$n.bind(this);
y.C7(this.Ee);y.TX(this.Ee,this.Oh);this._.appendChild(this.Ee);this.vr()}jP.prototype=new au;jP.prototype.l=function(){this.vr()};
jP.prototype.o=function(F,r){this.Wd=F;this.L5=r;this.vr()};jP.prototype.k=function(){return this.Wd.slice(0)};
jP.prototype.Pg=function(F){var r=this.Wd,$=y.Bz(F,this.Ee),C=$.x-8,M=-1,l=1e9;for(var O=0;O<4;O++){var k=C-r[O],d=Math.abs(k);
if(d<8&&d<l&&((O&1)==0&&k<0||(O&1)==1&&k>0)){l=k;M=O}}if(M==-1)return;this.sI=M;this.a0L=window.__kb.D(ac.AH)||r[(M>>>1)*2]!=r[(M>>>1)*2+1];
y.dO(window,this._l);y.an(window,this.HA)};jP.prototype.gB=function(F){var r=this.Wd,$=this.sI,C=($>>>1)*2,M=C+1,l=y.Bz(F,this.Ee),k=Math.round(Math.max(0,Math.min(255,l.x-8)));
r[$]=k;if(this.a0L&&r[C]>=r[M])this.a0L=!1;if(!this.a0L)r[C]=r[M]=k;this.vr();this.a(new k6(_.E.V,!1))};
jP.prototype.$n=function(F){y.Fp(window,this._l);y.gj(window,this.HA)};jP.prototype.vr=function(){var F=this.Ee;
y.jd(F,255+16,16);var r=F.getContext("2d"),$=F.width,C=F.height,M=Math.round(255*y.ha()),l=Math.round(8*y.ha());
r.translate(l,0);var k=r.createLinearGradient(0,0,M,0);k.addColorStop(0,"black");k.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.L5]);
r.fillStyle=k;r.fillRect(0,0,M,l);var d=this.ac6,I=dG.get(this.vL)+":";d[0].textContent=I;for(var O=0;
O<4;O++){var c=this.Wd[O];d[1+O].textContent=c;var Q=Math.round(c*y.ha());r.beginPath();r.moveTo(Q,l);
r.lineTo(Q,l+l);r.lineTo(Q+((O&1)==0?-1:1)*l,l+l);r.closePath();r.fillStyle=O<2?"#666666":"#cccccc";
r.fill();r.strokeStyle="black";r.stroke()}};function f3(F,r,$){au.call(this);if($==null)$=!1;this.Y=[0,0,1];
this.auW=r;this.aig=$;this.un=0;var C="ai"+y.hq();this._=y.i("span","fitem angleinput");if(F){this.DT=y.i("label","flabel");
this.Se=F;this._.appendChild(this.DT);this.DT.setAttribute("for",C)}this.aQ=$?44:20;this.Ee=y.i("canvas","gsicon");
this.Tg=this.Ee.getContext("2d");y.C7(this.Ee);y.jd(this.Ee,this.aQ*2+1,this.aQ*2+1);this.Tg.scale(y.ha(),y.ha());
this._.appendChild(this.Ee);y.TX(this.Ee,this.lk.bind(this));this.tb=this.PJ.bind(this);this.XU=this.I$.bind(this);
var M=this.dl.bind(this),l=y.i("div");y.B(l,"display:inline-block;  vertical-align:middle;");if(!$)this._.appendChild(l);
this.RC=[];for(var O=0;O<2;O++){var k=y.i("input");this.RC.push(k);k.setAttribute("type","text");y.mM(k);
if(O==0)k.setAttribute("id",C);k.addEventListener("change",M,!1);var d=y.i("span");d.textContent="\xB0";
if(O==0||r){l.appendChild(k);l.appendChild(d);y.Hd(l)}}this.o(this.Y)}f3.prototype=new au;f3.prototype.l=function(){if(this.Se)this.DT.textContent=dG.get(this.Se)+":"};
f3.prototype.Ck=function(F){this.DT.textContent=F};f3.prototype.k=function(){return this.Y.slice(0)};
f3.prototype.o=function(F,r){var $=this.Y;F=F.slice(0);if(F[0]==null)F[0]=$[0];if(F[1]==null)F[1]=$[1];
if(F[2]==null)F[2]=$[2];this.Y=F;var C=F[0],M=F[1],l=F[2],k=this.auW,d=this.aig,I=this.aQ*.85;if(!k)M=0;
this.RC[0].value=C;this.RC[1].value=M;var c=this.Tg;c.clearRect(0,0,100,100);C=Math.PI*C/180;M=I*(90-M)/90;
var Q=this.aQ+.5;c.save();c.translate(Q,Q);c.rotate(-C);c.strokeStyle="rgba(0,0,0,0.5)";c.beginPath();
c.ellipse(0,0,I,I*l,0,0,2*Math.PI);if(d){c.moveTo(0,-I*l);c.lineTo(0,I*l);c.moveTo(-M,0)}else c.moveTo(0,0);
c.lineTo(M,0);c.stroke();var x=this.aQ*.15;c.fillStyle="black";c.beginPath();if(d){c.arc(0,-I*l,x*.66,0,2*Math.PI);
c.arc(0,I*l,x*.66,0,2*Math.PI)}if(k){c.arc(M,0,x*.4,0,2*Math.PI)}else{c.moveTo(Q-x,-x*.66);c.lineTo(Q,0);
c.lineTo(Q-x,x*.66)}c.fill();c.restore();if(r)this.dl()};f3.prototype.dl=function(F){var r=parseInt(this.RC[0].value);
if(isNaN(r))r=0;var $=parseInt(this.RC[1].value);if(isNaN($))$=0;r=r%360;$=$%360;this.o([r,$]);this.a(new k6(_.E.V,!1))};
f3.prototype.lk=function(F){y.dO(window,this.tb);y.an(window,this.XU);var r=y.Bz(F,this.Ee),Q=0,x=1e9;
r.x-=this.aQ;r.y-=this.aQ;var $=this.Y,C=$[0]*Math.PI/180,M=(90-$[1])/90,l=$[2],k=this.aQ*.85,d=Math.sin(-C),I=Math.cos(-C),c=[new hx(I*k,d*k)];
if(this.aig)c.push(new hx(-d*k*l,I*k*l),new hx(d*k*l,-I*k*l));for(var O=0;O<c.length;O++){var U=hx.BV(r,c[O]);
if(U<x){x=U;Q=O}}this.un=Q;if(Q==0)this.PJ(F)};f3.prototype.PJ=function(F){var r=y.Bz(F,this.Ee),$=this.un,C=[],M=r.x-this.aQ,l=r.y-this.aQ,k=this.aQ*.85;
if($==0){var d=180*Math.atan2(-l,M)/Math.PI,I=90-90*Math.min(1,Math.sqrt(M*M+l*l)/k);if(F.shiftKey)d=Math.round(d/15)*15;
C=[Math.round(d),Math.round(I)]}else C=[null,null,Math.max(.01,Math.min(1,Math.sqrt(M*M+l*l)/k))];this.o(C);
this.a(new k6(_.E.V,!1))};f3.prototype.I$=function(F){this.a(new k6(_.E.V,!1));y.Fp(window,this.tb);
y.gj(window,this.XU)};function jA(F,r){au.call(this);this.Wd=0;this.pM=r;this._=y.i("span","fitem angleinput");
if(F){this.DT=y.i("label","flabel");this.Se=F;this._.appendChild(this.DT)}this.Ee=y.i("canvas","gsicon");
this.Tg=this.Ee.getContext("2d");y.jd(this.Ee,r,r);this._.appendChild(this.Ee);y.C7(this.Ee);y.TX(this.Ee,this.lk.bind(this));
this.tb=this.PJ.bind(this);this.XU=this.I$.bind(this);this.o(0)}jA.prototype=new au;jA.prototype.l=function(){if(this.Se)this.DT.textContent=dG.get(this.Se)+":"};
jA.prototype.Ck=function(F){this.DT.textContent=F};jA.prototype.k=function(){return this.Wd};jA.prototype.an4=function(F){var r=this.Wd,$=Math.floor(r/3),C=r-$*3;
C=Math.max(0,Math.min(2,C+F.x));$=Math.max(0,Math.min(2,$+F.y));this.o($*3+C)};jA.prototype.o=function(F){this.Wd=F;
var r=this.Ee.width,$=Math.floor(F/3),C=F-3*$,M=(C+.5)*r/3,l=($+.5)*r/3,k=this.Tg,d=[.5,Math.round(r/3)+.5,Math.round(2*r/3)+.5,r-.5];
k.clearRect(0,0,r,r);var I=this.pM<30;k.setLineDash([]);k.strokeStyle=I?"rgba(0,0,0,0.5)":"#000000";
k.beginPath();for(var O=0;O<4;O++){var c=d[O];k.moveTo(c,0);k.lineTo(c,r);k.moveTo(0,c);k.lineTo(r,c)}k.stroke();
if(F==9)return;if(!I){k.setLineDash([1,2]);var Q=r*.53,x=Math.max(0,Math.min(r-Q,M-Q/2)),U=Math.max(0,Math.min(r-Q,l-Q/2));
k.strokeRect(Math.round(x)+.5,Math.round(U)+.5,Math.round(Q),Math.round(Q))}k.fillStyle="#000000";k.beginPath();
k.arc(M,l,r/8,0,Math.PI*2);k.fill()};jA.prototype.lk=function(F){y.dO(document.body,this.tb);y.an(document.body,this.XU);
this.PJ(F)};jA.prototype.PJ=function(F){var r=y.Bz(F,this.Ee),$=Math.max(0,Math.min(2,Math.floor(r.x/(this.pM/3)))),C=Math.max(0,Math.min(2,Math.floor(r.y/(this.pM/3))));
this.o(C*3+$)};jA.prototype.I$=function(F){this.a(new k6(_.E.V,!1));y.Fp(document.body,this.tb);y.gj(document.body,this.XU)};
function ce(bU){au.call(this);this._=y.i("span","fitem cswatch");this.apY=0;this.PT=[];this.PG=[];var F=this.abi.bind(this);
for(var O=0;O<bU;O++){this.PT.push(0);var r=y.i("span","colorsample");r.addEventListener("click",F,!1);
this.PG.push(r);this._.appendChild(r)}var $=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],C=Math.min(bU,$.length);
for(var O=0;O<C;O++)this.PT[O]=$[O];this.R0()}ce.prototype=new au;ce.prototype.abi=function(F){this.apY=this.PG.indexOf(F.currentTarget);
this.a(new k6(_.E.V))};ce.prototype.k=function(){return this.PT[this.apY]};ce.prototype.o=function(F){var r=this.PT,$=r.indexOf(F);
if($!=-1)r.splice($,1);else r.pop();r.unshift(F);this.R0()};ce.prototype.R0=function(){for(var O=0;O<this.PT.length;
O++){y.B(this.PG[O],"background-color:#"+j.lN(this.PT[O]))}};function a$(F){au.call(this);this.jW={t:0,L:0,X:0};
this.Ax=F;this._=y.i("span","fitem colorsample bbtn");this._.addEventListener("click",this.nd.bind(this),!1)}a$.prototype=new au;
a$.prototype.l=function(){};a$.prototype.nd=function(F){var r=this.jW;this.a(new k6("click"));var $=new k6(_.E.c,!0);
$.data={R:_.m.Oe,rS:"colorpicker",$d:j.Vw(r),Xq:this.a_.bind(this),Yg:this.Ax};this.a($)};a$.prototype.a_=function(F){this.ZJ(F);
this.a(new k6(_.E.V))};a$.prototype.aE=function(){this.nd(null)};a$.prototype.Yt=function(){var F=this.jW;
return F.t<<16|F.L<<8|F.X};a$.prototype.k=function(){return j.qS.NG(this.jW)};a$.prototype.ZJ=function(F){this.jW=j.iW(F);
this.a0b()};a$.prototype.o=function(F){this.jW=j.qS.MB(F);this.a0b()};a$.prototype.a0b=function(){var F=this.jW,r=F.t,$=F.L,C=F.X,M=r<<16|$<<8|C;
y.B(this._,"background-color:#"+j.lN(M))};function kn(){au.call(this);this.lq=!1;this.a$=20;this.adA=10;
this.iu=0;this.lq=!1;this.aG5={t:255,L:0,X:0};this.aAq={t:0,L:0,X:0};this.e=null;this.oo=null;this.IQ=[[0,0,0],[0,[[0,[1,1,1],1,.5],[1,[0,0,0],1,.5]],[0,0,0,1,1,0,0],[1,0,0,1,0,0]],[]];
this._=y.i("canvas");this.vr();y.C7(this._);y.TX(this._,this.Oh.bind(this))}kn.prototype=new au;kn.prototype.aHt=function(F){if(this.lq==F)return;
this.lq=F;this.vr()};kn.prototype.l=function(){};kn.prototype.ahE=function(F,r){function $(C){return{t:C>>16&255,L:C>>8&255,X:C&255}}if(F!=null)this.aG5=$(F);
if(r!=null)this.aAq=$(r);this.vr()};kn.prototype.azS=function(F,r){this.e=F;this.oo=r;this.vr()};kn.prototype.Oh=function(F){var r=y.Bz(F,this._),$=r.x*y.ha(),C=r.y*y.ha(),M=this.a$,l=this.adA,k=0;
if(C>M){k=4+Math.floor(3*$/M)}else if($<l&&C<l){k=0}else if($>M-l&&C>M-l){k=1}else if($<l){k=2}else{k=3}this.aE(k)};
kn.prototype.aE=function(F){var r=this.e,$=new k6(_.E.c,!0);if(F>1){if(gw==0)$.data={R:_.m.WF,jg:d3.VV,vz:F};
else{var C=j.N(r.Jn);if(F==2){var M=C.XX;C.XX=C.rK;C.rK=M}if(F==3){C.rK=[1,1,1];C.XX=[0,0,0]}if(F>=4){var l=this.IQ[F-4];
if(this.iu==0)C.rK=l;else C.XX=l}$.data={R:_.m.WF,jg:d3.Kv,Y:C}}}else{var k=this.a_.bind(this),d=this.iu;
this.iu=F;if(gw==0){var I=F==0?this.aG5:this.aAq;$.data={R:_.m.Oe,rS:"colorpicker",$d:j.Vw(I),Xq:k}}else{if(d!=F){this.vr();
return}var c=F==0?r.Jn.rK:r.Jn.XX;if(c.length==0)c=[0,0,0];kn.abS(c,this,k);return}}this.a($)};kn.prototype.a_=function(F){var r=new k6(_.E.c,!0),$=this.iu,C=this.e;
if(gw==0)r.data={R:_.m.WF,jg:d3.VV,vz:$,Y:F};else{var M=F;if(typeof F=="number"){M=j.iW(F,1);M=[M.t,M.L,M.X]}var l=j.N(C.Jn);
if($==0)l.rK=M;else l.XX=M;r.data={R:_.m.WF,jg:d3.Kv,Y:l}}this.a(r)};kn.prototype.vr=function(){var F=this._,r=F.getContext("2d"),$=y.ha(),$=y.ha(),C=this.a$=Math.floor(34*$),M=Math.floor((C-2)/3),l="#aaaaaa",k=.62;
F.width=C;F.height=C+gw*(M+9);y._6(F);F.style.cursor="pointer";var C=this.a$=F.width,d=this.adA=Math.round(C*k);
function I(J,H){var v=J.t,n=J.L,G=J.X;if(H)v=n=G=Math.round(j.er(v,n,G));var g=v<<16|n<<8|G;return"#"+j.lN(g)}function c(r,U,J,H,v,n){r.beginPath();
if(H>=n*2&&v>=n*2){r.moveTo(U+n,J);r.lineTo(U+H-n,J);r.quadraticCurveTo(U+H,J,U+H,J+n);r.lineTo(U+H,J+v-n);
r.quadraticCurveTo(U+H,J+v,U+H-n,J+v);r.lineTo(U+n,J+v);r.quadraticCurveTo(U,J+v,U,J+v-n);r.lineTo(U,J+n);
r.quadraticCurveTo(U,J,U+n,J)}r.closePath()}function Q(U,J,d,H,v){r.strokeStyle=v?v:"black";r.fillStyle=H;
c(r,U+.5,J+.5,d-1,d-1,d*.2);r.fill();r.stroke()}var x=this.e;if(x){r.beginPath();var U=C-d,S=Math.floor(d*.28),z=d-2*S;
r.lineWidth=1;r.strokeStyle="white";if(this.iu==0)kn.i5(r,x.Jn.XX,this.oo,d,d,U,U,!0);kn.i5(r,x.Jn.rK,this.oo,d,d,0,0);
if(this.iu==1)kn.i5(r,x.Jn.XX,this.oo,d,d,U,U,!0);for(var O=0;O<3;O++){r.beginPath();kn.i5(r,this.IQ[O],this.oo,M,M,O*(M+1),C+9,!1)}}else{Q(C-d,C-d,d,I(this.aAq,this.lq));
Q(0,0,d,I(this.aG5,this.lq))}var V=C-d,t=Math.round(V*k);Q(C-t,V-t,t,gw==0?"white":"black",l);Q(C-V,0,t,gw==0?"black":"white",l);
r.save();r.fillStyle=l;r.translate(0,C);r.rotate(-Math.PI/2);V=C-d;var Y=Math.round(V*.28),i=Math.round(V*.25);
for(var O=0;O<2;O++){r.fillRect(Y,Y,V-Y,1);r.beginPath();r.moveTo(V-i,Y+.5-i);r.lineTo(V,Y+.5);r.lineTo(V-i,Y+.5+i);
r.closePath();r.fill();r.transform(0,1,1,0,0,0)}r.restore()};kn.abS=function(F,r,$){var C=new k6(_.E.c,!0);
if(F.length==3)C.data={R:_.m.Oe,rS:"colorpicker",$d:j.Vw({t:F[0]*255,L:F[1]*255,X:F[2]*255}),Xq:$};else C.data={R:_.m.Oe,rS:"vgradienteditor",Y:F,Xq:$};
r.a(C)};kn.i5=function(F,r,$,C,M,l,k,d){function I(V,t){return CSS.ix({t:V[0]*255,L:V[1]*255,X:V[2]*255},t)}if(r==null){F.fillStyle="#888888";
F.clearRect(l,k,C,M);F.font=Math.round(M*.6*(d?.5:1))+"px sans-serif";F.fillStyle="white";if(d){F.fillText("?",l+C*.05,k+M*.3);
F.fillText("?",l+C*.8,k+M*.3);F.fillText("?",l+C*.05,k+M*.9);F.fillText("?",l+C*.8,k+M*.9)}else F.fillText("?",C*.36,M*.7)}else if(r.length==0){F.fillStyle="#ffffff";
F.fillRect(l,k,C,M);F.strokeStyle="#ff0000";F.lineWidth=2;F.moveTo(l,k);F.lineTo(l+C,k+M);F.moveTo(l,k+M);
F.lineTo(l+C,k);F.stroke()}else if(r.length==3){F.fillStyle=I(r);F.fillRect(l,k,C,M)}else if(r.length==4){var c=l+C/2,Q=k+M/2,x=r[0]==0?F.createLinearGradient(l,k,l+C,k):F.createRadialGradient(c,Q,0,c,Q,C/2);
j.qS.CT(x,r[1]);F.fillStyle=x;F.fillRect(l,k,C,M)}else if(r.length==2){var U=$._i[r[0]];F.save();F.fillStyle="white";
F.fillRect(l,k,C,M);F.rect(l,k,C,M);F.scale(C/U.r,M/U.$);F.fillStyle=U.pb;F.fill();F.restore()}F.lineWidth=1;
F.strokeStyle="white";F.strokeRect(l+.5,k+.5,C-1,M-1);if(d){var S=Math.floor(C*.28),z=C-2*S;F.clearRect(l+S,l+S,z,z);
F.strokeRect(l+S+.5,l+S+.5,z-1,z-1)}};function gt(F){i_.call(this,F,!1,"brushbutton nopadding",19*13,10*13,d3.UG,!0);
var r=this.a6f;y.yY(r,"flexrow");var $=y.i("div");r.appendChild($);var C=y.i("div");r.appendChild(C);
y.B(C,"margin-left:8px");this.z5=new f3(null,null,!0);this.z5.Q(_.E.V,this.T_,this);$.appendChild(this.z5._);
this.Gp=new gm([12,14,0],1,1e3," px",0,!0);this.Gp.Q(_.E.V,this.T_,this);C.appendChild(this.Gp._);this.S_=new gm([12,17],0,100,"%");
this.S_.Q(_.E.V,this.T_,this);C.appendChild(this.S_._);this.Wo=new i9(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
this.Wo.Q(_.E.V,this.T_,this);C.appendChild(this.Wo._)}gt.prototype=new i_;gt.prototype.mF=function(){var F=["pencil","trees"];
for(var O=0;O<F.length;O++)F[O]="brushes/"+F[O]+".abr";return F};gt.prototype.o=function(F,r,$){this.Y5=j.N(F);
var C=Math.floor(20*y.ha()),M=Math.floor(36*y.ha()),l=Math.floor(24*y.ha()),k=ap.SM(F,r,$,C,l,M);this.rO.setAttribute("src",k);
y.nC(this.rO,M,l);var d=F.Brsh.v;this.Gp.o(d.Dmtr.v.val);if(d.Hrdn!=null){this.S_.VS();this.S_.o(d.Hrdn.v.val)}else this.S_.Xg();
if(d.Angl!=null)this.z5.o([d.Angl.v.val]);if(d.Rndn!=null)this.z5.o([null,null,d.Rndn.v.val/100]);var I=[!1,!1];
if(F.opVr)I[0]=F.opVr.v.bVTy.v==2;if(F.szVr)I[1]=F.szVr.v.bVTy.v==2;this.Wo.o(I)};gt.prototype.sP=function(){return{list:[{t:"Objc",v:this.k()}],QY:[],fQ:[]}};
gt.prototype.k=function(){return this.Y5};gt.prototype.ps=function(){if(!this.GU)return;var F=[],r=[],$=this.pQ,C=Math.floor(33*y.ha()),M=Math.floor(40*y.ha());
for(var O=0;O<$.list.length;O++){var l=$.list[O].v,k=ap.SM(l,$.QY,$.fQ,C,M);F.push(k);r.push(l.Nm.v)}this.kL.pD(F,r,C,M);
this.GU=!1};gt.prototype.yZ=function(F){var r=this.pQ;this.o(r.list[this.kL.k()[0]].v,r.QY,r.fQ);this.a(new k6(_.E.V))};
gt.prototype.l=function(){i_.prototype.l.call(this);this.z5.l();this.Gp.l();this.S_.l()};gt.prototype.T_=function(F){var r=this.pQ,$=this.Y5,C=$.Brsh.v;
C.Dmtr.v.val=this.Gp.k();if(C.Hrdn!=null)C.Hrdn.v.val=this.S_.k();if(C.Angl!=null)C.Angl.v.val=this.z5.k()[0];
if(C.Rndn!=null)C.Rndn.v.val=Math.round(this.z5.k()[2]*100);if(F.target==this.Wo)g9.a7d($,this.Wo.k());
this.o($,r.QY,r.fQ);this.a(new k6(_.E.V))};function e8(F){i_.call(this,F,!0,"contourbutton",17*13,10.5*13,d3.YW)}e8.prototype=new i_;
e8.prototype.yZ=function(F){this.o(this.pQ[F.target.k()]);this.a(new k6(_.E.V))};e8.prototype._e=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.Oe,rS:"contoureditor",FL:this.Y5,response:this.aFY.bind(this)};this.a(r)};e8.prototype.aFY=function(F){this.o(F);
this.a(new k6(_.E.V))};e8.prototype.ps=function(){if(!this.GU)return;var F=Math.floor(38*y.ha()),r=Math.floor(38*y.ha()),$=[],C=[],M=this.pQ;
for(var O=0;O<M.length;O++){C.push(M[O].Nm?M[O].Nm.v:"");$.push(j.Jw.SM(M[O].Crv.v,F,r))}this.kL.pD($,C,F,r);
this.GU=!1};e8.prototype.o=function(F){this.Y5=j.N(F);var r=this.Y5.Crv.v;for(var O=0;O<r.length;O++)if(r[O].v.Cnty==null)r[O].v.Cnty={t:"bool",v:!0};
this.KB()};e8.prototype.KB=function(){var F=Math.floor(30*y.ha()),r=Math.floor(30*y.ha()),$=j.Jw.SM(this.Y5.Crv.v,F,r);
this.rO.setAttribute("src",$);y.nC(this.rO,F,r)};function aF(F){au.call(this);this.f$=null;this.e=null;
this.xB=null;this.cg=null;this.awA=[];this.ayK=[];this._=y.i("span","fitem fillbutton");this.uf=new au;
this.uf._=y.i("div","floatcont form");y.B(this.uf._,"width: 21em;");this.uf.parent=this;this.GP=F;this.DT=this.DT=y.i("label","flabel");
this._.appendChild(this.DT);this.Ee=y.i("canvas");this.Tg=this.Ee.getContext("2d");this.ah2=null;this._.appendChild(this.Ee);
y.TX(this.Ee,this.Pt.bind(this));this.ra=new a8([12,66],["","Color","Grad","Patt"]);this.uf._.appendChild(this.ra._);
this.ra.Q(_.E.V,this.jz,this);this.uf._.appendChild(y.i("hr"));this.a2j=y.i("span");this.Tv=new a$(!1);
this.Tv.parent=this.uf;this.Tv.Q(_.E.V,this.jz,this);this.vN=new ce(10);this.vN.Q(_.E.V,this.jz,this);
this.VG=y.i("div","marged hiline");this.VG.appendChild(this.Tv._);y.Hd(this.VG);this.VG.appendChild(this.vN._);
this.Uc=new gO("GrFl",!0);this.Uc.parent=this.uf;this.Uc.Q(_.E.V,this.jz,this);this.oV=y.i("div","marged hiline");
var r="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var O=0;O<r.length;O++){var $=this.Uc.$c[r[O]]._;
this.oV.appendChild($)}this.j_=new gO("patternFill",!0);this.j_.parent=this.uf;this.j_.Q(_.E.V,this.jz,this);
this.mS=y.i("div","marged hiline");var r=["Ptrn","Angl","Scl","Algn","phase"];for(var O=0;O<r.length;
O++){var $=this.j_.$c[r[O]]._;this.mS.appendChild($)}}aF.prototype=new au;aF.prototype.Db=function(F,r){var $=kV.z2(F,r);
if($!=null)this.vN.o($);if(r==d3.ve){this.awA=[];this.ayK=[];if(this.f$)this.o(this.xB,this.k(),this.f$)}this.e=F;
this.Uc.Db(F,r);this.j_.Db(F,r)};aF.prototype.l=function(){this.DT.textContent=dG.get(this.GP)+": ";
this.ra.l();this.Tv.l();this.Uc.l();this.j_.l()};aF.prototype.jz=function(F){var r=F.currentTarget;if(r==this.ra){var $=this.ra.k(),C={Ef:$,v$:this.f$[$]};
if($>0&&C.v$==null)C.v$=j.N(cK.zH[$-1]);if(this.f$)this.o(this.xB,C,this.f$)}if(r==this.vN)this.Tv.ZJ(r.k());
this.a(new k6(_.E.V,!1))};aF.prototype.Pt=function(F){if(y.D4(this.uf._))return;F.stopPropagation();
var r=[[13,1,0],[13,0],[12,37],[12,62]],$=this.f$,C=this.awA,M=this.ayK,l=!1;for(var O=0;O<4;O++){var k={Ef:O,v$:$[O]},d=aF.aCD(k);
if(M[O]==d)continue;l=!0;var I=aF.a5h(null,k,this.e,this.xB,22,22,!1);C[O]="<img width=\"22\" height=\"22\" src=\""+I+"\" />";
M[O]=d}if(l)this.ra.Ek(C,r);var c=this.Ee.getBoundingClientRect(),Q=new k6(_.E.c,!0);Q.data={R:_.m.$a,g$:this.uf,x:c.left,y:c.top+c.height+4};
this.a(Q)};aF.prototype.o=function(F,r,$){this.f$=$;this.xB=F;this.ra.o(r.Ef);var C=aF.aCD(r),M;if(C!=this.ah2)aF.a5h(this.Tg,r,this.e,this.xB,30,23,!0);
this.ah2=C;var l=r.Ef;if(l==0){M=this.a2j}if(l==1){this.Tv.o(r.v$.Clr.v);M=this.VG}if(l==2){this.Uc.update(F,r.v$);
M=this.oV}if(l==3){this.j_.update(F,r.v$);M=this.mS}if(M!=this.cg){if(this.cg!=null){this.uf._.removeChild(this.cg)}this.uf._.appendChild(M);
this.cg=M}};aF.prototype.k=function(){var F={Ef:this.ra.k()};if(F.Ef==1){F.v$=j.N(cK.zH[0]);F.v$.Clr.v=this.Tv.k()}if(F.Ef==2){F.v$=this.Uc.k()}if(F.Ef==3){F.v$=this.j_.k()}return F};
aF.aCD=function(F){var r=F.Ef,$=F.v$,C="empty";if(r==1){C=j.qS.MB($.Clr.v);C=C.t+","+C.L+","+C.X}if(r==2)C=JSON.stringify($.Grad.v);
if(r==3)C=$.Ptrn.v.Idnt.v;return C};aF.a5h=function(F,r,$,C,M,l,k){if(F==null)F=aF.Tg;var d=Math.floor(M*y.ha()),I=Math.floor(l*y.ha()),c=F.canvas;
c.width=d;c.height=I;y.nC(c,d,I);aF.aqp(F,r,$,C,d,I);if(k){F.beginPath();F.strokeStyle="#000000";F.fillStyle="#ffffff";
F.lineWidth=2;var Q=d*.7,x=Math.floor(I*.7),U=7*y.ha();F.moveTo(Q,x);F.lineTo(Q+U,x);F.lineTo(Q+U/2,x+U/2);
F.closePath();F.stroke();F.fill()}if(F==aF.Tg)return c.toDataURL()};aF.Tg=y.i("canvas").getContext("2d");
aF.aqp=function(F,r,$,C,M,l,k,d){if(k==null)k=0;if(d==null)d=0;var I=r.Ef;if(I==0){F.fillStyle="#ffffff";
F.fillRect(k,d,M,l);F.strokeStyle="#ff0000";F.lineWidth=2;F.moveTo(k,d);F.lineTo(k+M,d+l);F.moveTo(k,d+l);
F.lineTo(k+M,d);F.stroke()}if(I==1){var c=r.v$.Clr.v;c=j.qS.MB(c);F.fillStyle="#"+j.lN(c.t<<16|c.L<<8|c.X);
F.fillRect(k,d,M,l)}if(I==2){var Q=B.dC.SM(r.v$.Grad.v,M,l,0,$.y1,$.J2,!0);F.putImageData(Q,k,d)}if(I==3){var x=r.v$.Ptrn.v,U;
if(C!=null)U=en.Qv(x,C.add.Patt);if(U==null)U=en.Qv(x,$.We);a0.SM(U,M,l,F.canvas)}};function a0(F){i_.call(this,F,!1,"patternbutton",18*13,10*13,d3.ve);
this.a5n=null}a0.prototype=new i_;a0.prototype.yZ=function(F){var r=this.pQ[this.kL.k()];this.Y5={classID:"Ptrn",Nm:{t:"TEXT",v:r.name},Idnt:{t:"TEXT",v:r.id}};
this.a(new k6(_.E.V));this.KB()};a0.prototype.ps=function(){if(!this.GU)return;var F=this.pQ,r=Math.floor(34*y.ha()),$=Math.floor(34*y.ha()),C=[],M=[];
for(var O=0;O<F.length;O++){C.push(a0.SM(F[O],r,$));M.push(F[O].name)}this.kL.pD(C,M,r,$);this.GU=!1};
a0.prototype.o=function(F,r){if(this.Y5&&F.Idnt.v==this.Y5.Idnt.v)return;this.Y5=j.N(F);this.KB(r)};
a0.prototype.k=function(){return j.N(this.Y5)};a0.prototype.sP=function(){return this.a5n?[this.a5n]:[]};
a0.prototype.KB=function(F){var r=Math.floor(50*y.ha()),$=Math.floor(50*y.ha()),C;if(F!=null)C=en.Qv(this.Y5,F.add.Patt);
if(C==null)C=en.Qv(this.Y5,this.pQ);this.a5n=C;var M=a0.SM(C,r,$);this.rO.setAttribute("src",M);y.nC(this.rO,r,$)};
a0.Ee=y.i("canvas","");a0.SM=function(F,r,$,C){if(C==null)C=a0.Ee;var M=C.getContext("2d");C.width=r;
C.height=$;if(F){var l=F.t6[1],k=l.r,d=l.$,I=F.t6[0],c=Math.min(r/k,$/d),Q=c;if(Q*k<2)Q=2/k;var x=c;
if(x*d<2)x=2/d;var U=B.hL.yF([I,l],new hS(Q,0,0,x,0,0),Q>2),S=U.S.r,z=U.S.$,V=new ImageData(S,z);j.Jx(U.buffer,V.data);
M.putImageData(V,Math.floor((r-S)/2),Math.floor(($-z)/2))}return C.toDataURL()};function cG(F,r,$){if(r==null)r=24.2;
if($==null)$=17;i_.call(this,F,!1,"patternbutton",r*13,$*13,d3.aD);this.JO=""}cG.prototype=new i_;cG.prototype.yZ=function(F){this.Y5=j.N(this.pQ[0][this.kL.k()[0]]);
this.a(new k6(_.E.V))};cG.prototype.ps=function(){var F=this.pQ;if(F==null||!this.GU)return;var r=Math.floor(50*y.ha()),$=Math.floor(50*y.ha()),C=[],M=[];
for(var O=0;O<F[0].length;O++){C.push(cG.SM(this.pQ[0][O].Fu,r,$,this.pQ[1]));M.push(F[0][O].Lz.Nm.v.split("=").pop())}this.kL.pD(C,M,r,$);
this.GU=!1};cG.prototype.o=function(F,r,$,C){var M=JSON.stringify(F.Fu)+","+$+","+C;if(this.JO!=M){this.JO=M;
this.Y5=j.N(F);this.KB(r,$,C)}};cG.prototype.KB=function(F,r,$){var C=Math.floor(68*y.ha()),M=Math.floor(68*y.ha()),l=cG.SM(this.Y5.Fu,C,M,F?F:this.pQ[1],r,$);
this.rO.setAttribute("src",l);y.nC(this.rO,C,M)};cG.SM=function(F,r,$,C,M,l){var k=new kQ;k.r=r;k.$=$;
k.buffer=j.j(r*$*4);k.add.Patt=C;k.Rf(M==null?90:M);k.jj(l==null?30:l);var d=new cS(0,0,Math.round(r*.5),Math.round($*.5));
d.x=Math.round((r-d.r)/2);d.y=Math.round(($-d.$)/2);var I=k.at();I.S=d;I.buffer=j.j(d.C()*4);j.A9(I.buffer,4284045657);
en.a8c(F,I,.5*100);k.u.push(I);k.CJ();k.vM();var c=jp.mE;jp.mE=!1;k.ol();var Q=k.Ez();jp.mE=c;var x=dN.yd(Q.buffer,k.r,k.$);
return x};function fM(F){i_.call(this,null,!1,"tpresetbutton",18*13,24*13,d3.Nb,!0);y.cD(this._,"fitem");
this.kL.Bm(1);this.id=F;this.KB();this.R.style.overflow="hidden";this.lu=new jm([15,7,9]);this.lu.o(!0);
this.lu.Q(_.E.V,this.aBc,this);this.yC.appendChild(this.lu._)}fM.prototype=new i_;fM.prototype.a8I=function(F){if(this.id==F)return;
this.id=F;this.ZK(this.pQ)};fM.prototype.yZ=function(F){var r=this.pQ[this.kL.k()],$=new k6(_.E.c,!0);
$.data={R:_.m.WF,TB:"set",jg:d3.Nb,bw:r};this.a($)};fM.prototype.l=function(){i_.prototype.l.call(this);
this.lu.l()};fM.prototype.aBc=function(){this.GU=!0;this.ps()};fM.prototype.ps=function(){if(!this.GU)return;
var F=Math.floor(16*y.ha()),r=Math.floor(16*y.ha()),$=[],C=[],M=this.pQ,l=this.lu.k();for(var O=0;O<M.length;
O++){var k=B.m5[M[O][1].classID];if(!l||k==this.id){C.push(M[O][0]?M[O][0].split("=").pop():"");$.push(k==-1?"":PIMG[B.JJ[k]])}else{$.push(null);
C.push(null)}}this.kL.pD($,C,F,r);this.GU=!1};fM.prototype.KB=function(){var F=this.rO;F.setAttribute("src",PIMG[B.JJ[this.id]]);
y.yY(F,"toolicon")};fM.prototype.sP=function(){return null};fM.rp={};fM.SM=function(F,r,$){var C=fM.Tg,M=fM.rp,l=j.lN(F.t<<16|F.L<<8|F.X);
if(M[l])return M[l];if(C==null){var k=y.i("canvas");C=fM.Tg=k.getContext("2d")}var k=C.canvas;k.width=r;
k.height=$;C.fillStyle="#"+l;C.fillRect(0,0,r,$);var d=M[l]=k.toDataURL();return d};function co(F,r,$){au.call(this);
this._=y.i("span","fitem curveeditor");this.In=null;this.agT=0;this.L5="";this.mode=0;this.aG2=null;
this.ayk=null;this.lU=F;this.aaW=r;this.aar=$;this.EA=null;this.Hu=null;this.arg=0;this.aC2=0;this.nS=new hx;
this.QA=this.PJ.bind(this);this.Zh=this.I$.bind(this);this.pM=256;this.Ee=y.i("canvas");this.Tg=this.Ee.getContext("2d");
y.C7(this.Ee);this._.appendChild(this.Ee);this.Xt(256,256);y.TX(this.Ee,this.lk.bind(this));this.coords=y.i("div");
y.B(this.coords,"width:250px");this._.appendChild(this.coords);var C=this.Y2=$?100:255,M=null;this.ca=new eT("X (in)",0,C,M,0,!1,!0);
this.Pb=new eT("Y (out)",0,C,M,0,!1,!0);this.KT=new jm([19,3,0]);this.ca.Q(_.E.V,this.Ba,this);this.Pb.Q(_.E.V,this.Ba,this);
this.KT.Q(_.E.V,this.Ba,this);this.coords.appendChild(this.ca._);if($)this.coords.appendChild(this.KT._);
this.coords.appendChild(this.Pb._)}co.prototype=new au;co.prototype.l=function(){this.KT.l();this.ca.l();
this.Pb.l()};co.prototype.Xt=function(F,r){this.pM=Math.round(F);this.Tg.resetTransform();y.jd(this.Ee,this.pM,this.pM,this.Tg);
this.Tg.scale(this.pM/256,this.pM/256);if(this.EA)this.nA()};co.prototype.Ba=function(F){var O=this.aAN(),r=this.EA[O],$=255/this.Y2;
r.v.Hrzn.v=this.ca.k()*$;r.v.Vrtc.v=this.Pb.k()*$;if(this.aar)r.v.Cnty.v=this.KT.k();this.EA.sort(function(C,M){return C.v.Hrzn.v-M.v.Hrzn.v});
this.nA();this.a(new k6(_.E.V))};co.prototype.o=function(F,O,r){var $=JSON.stringify(F),C=r?JSON.stringify(r):null;
if($==JSON.stringify(this.EA)&&C==this.ayk)return;this.mode=F.length==256?1:0;this.EA=JSON.parse($);
this.aG2=r;this.ayk=C;if(O!=null)this.Hu=this.EA[O];this.nA()};co.prototype.ZA=function(F,r,$){this.In=F;
this.agT=r;this.L5=$;this.nA()};co.prototype.k=function(){return j.N(this.EA)};co.prototype.aAN=function(){return this.EA.indexOf(this.Hu)};
co.prototype.lk=function(F){var r=256/this.pM,$=y.Bz(F,this.Ee);$.x*=r;$.y*=r;var C=$.x,M=256-$.y;if(this.lU){var l=C;
C=256-M;M=l}this.nS.I_(C,M);if(this.mode==0){var k=0,d=1e9,U;for(var O=0;O<this.EA.length;O++){var I=this.EA[O].v,c=I.Hrzn.v-C,Q=I.Vrtc.v-M,x=Math.sqrt(c*c+Q*Q);
if(x<d){d=x;k=O}}if(d<15)U=this.EA[k];else{U=j.Jw.ie(C,M,!0);this.EA.push(U);this.EA.sort(function(S,z){return S.v.Hrzn.v-z.v.Hrzn.v})}this.Hu=U;
this.aC2=this.EA.slice(0)}y.dO(document.body,this.QA);y.an(document.body,this.Zh);this.PJ(F)};co.prototype.av9=function(){var F=this.Hu;
return F?F.v.Vrtc.v:0};co.prototype.PJ=function(F){var r=256/this.pM,$=y.Bz(F,this.Ee);$.x*=r;$.y*=r;
var C=$.x,M=256-$.y;if(this.lU){var l=C;C=256-M;M=l}if(this.mode==0){var k=this.EA,d=this.Hu,I=this.aC2,c=I.indexOf(d),Q=k.indexOf(d)!=-1,x=I.length-1,U=C;
if(c==0){U=Math.max(0,Math.min(I[1].v.Hrzn.v-1,C))}else if(c==x){U=Math.min(255,Math.max(I[x-1].v.Hrzn.v+1,C))}else{var S=C<0||C>255||M<0||M>255;
if(C<=I[c-1].v.Hrzn.v||C>=I[c+1].v.Hrzn.v)S=!0;if(!S&&!Q)k.splice(c,0,d);if(S&&Q)k.splice(c,1)}if(this.aaW&&(c==0||c==I.length-1)){}else d.v.Hrzn.v=Math.round(U);
d.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(M)))}else{C=Math.round(C);M=Math.round(M);C=Math.max(0,Math.min(255,C));
M=Math.max(0,Math.min(255,M));var z=this.nS.x,V=C,t=this.nS.y,Y=M;if(C<this.nS.x){V=z;z=C;Y=t;t=M}this.EA[C]=M;
if(z!=V)for(var i=z;i<=V;i++)this.EA[i]=Math.round(t+(i-z)*(Y-t)/(V-z))}this.nS.I_(C,M);this.nA();this.a(new k6(_.E.V))};
co.prototype.I$=function(F){y.Fp(document.body,this.QA);y.gj(document.body,this.Zh);this.a(new k6(_.E.V))};
co.prototype.nA=function(){var F=this.Tg,r=this.Ee;F.fillStyle="#ffffff";F.fillRect(0,0,256,256);var $=256/r.width;
if(this.In){F.save();F.translate(0,256);F.scale(1,-1);jT.a2B(F,this.In,5700/this.agT,this.L5);F.restore()}F.strokeStyle="#aaaaaa";
F.lineWidth=1*$;F.beginPath();for(var O=1;O<4;O++){var C=(Math.floor(64*O/$)+.5)*$;F.moveTo(0,C);F.lineTo(255,C);
F.moveTo(C,0);F.lineTo(C,255)}F.stroke();if(this.lU){F.save();F.transform(0,1,-1,0,256,0)}var M=j.Jw.v9,l=co.ayq,k=this.aG2,d=["#ff0000","#00ff00","#0000ff"];
if(this.mode==0){var I=this.EA;if(k)for(var O=0;O<k.length;O++)l(F,M(k[O],256),d[O]);l(F,M(I,256),"#000000");
F.lineWidth=2*$;for(var O=0;O<I.length;O++){var c=I[O].v;F.fillStyle=this.Hu==I[O]?"#333":"#fff";F.beginPath();
F.moveTo(c.Hrzn.v,255.5-c.Vrtc.v);F.arc(c.Hrzn.v,255.5-c.Vrtc.v,4,0,2*Math.PI);F.stroke();F.fill()}}else{if(k)for(var O=0;
O<k.length;O++)l(F,k[O],d[O]);l(F,this.EA,"#000000")}if(this.lU)F.restore();var O=this.aAN();this.coords.className=O==-1?"disabled":"";
if(O==-1)return;var c=this.EA[O].v,Q=255/this.Y2;this.ca.o(Math.round(c.Hrzn.v/Q));this.Pb.o(Math.round(c.Vrtc.v/Q));
if(c.Cnty)this.KT.o(c.Cnty.v)};co.ayq=function(F,r,$){F.strokeStyle=$;F.beginPath();F.moveTo(0,255.5-r[0]);
for(var O=0;O<256;O++)F.lineTo(O,255.5-r[O]);F.stroke()};function jT(F,r,$){au.call(this);this._=y.i("span");
this.J0=new bc([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);this.J0.Q(_.E.V,this.vr,this);if($==null){this._.appendChild(this.J0._);
y.Hd(this._)}var C=y.i("div");this._.appendChild(C);y.B(C,"background-color: var(--bg-canvas);");this.Ee=y.i("canvas");
var M=this.Ee;C.appendChild(M);M.width=Math.round(F*y.ha());M.height=Math.round(100*y.ha());y.nC(M,M.width,M.height);
M.style.display="block";this.Tg=M.getContext("2d");this.In=null;this.cX=0;this.aj5=null;this.a5M=[];
this.$w=[];var l=["Mean:","Pixels:"],k=this._;if(r)for(var O=0;O<l.length;O++){var d=new eu(l[O]);this.a5M.push(d);
k.appendChild(d._);var I=new eu("hi");this.$w.push(I);k.appendChild(I._);y.Hd(k)}if($!=null)this.Bm($)}jT.prototype=new au;
jT.prototype.l=function(){this.J0.l()};jT.prototype.Bm=function(F){this.J0.o(F);this.vr()};jT.prototype.o=function(F,r){this.In=F;
this.aj5=r;this.vr()};jT.prototype.ZJ=function(F){if(F==this.cX)return;this.cX=F;this.vr()};jT.prototype.vr=function(){if(this.In==null)return;
var F=this.Ee,r=this.Tg,$=this.In,C=this.aj5,M=this.J0.k(),l=6e3/$[4],k="#"+j.lN(this.cX),d=jT.a2B;F.width=F.width;
r.setTransform(F.width/256,0,0,-F.height/100,0,F.height);r.globalCompositeOperation="lighter";if(M==0)d(r,$[0],l/3,k);
else if(M<4)d(r,$[M],l,k);else{d(r,$[1],l,"#ff4545",!0);d(r,$[2],l,"#40bb60",!0);d(r,$[3],l,"#2266bb",!0)}r.setTransform(1,0,0,1,0,0);
if(C!=null){if(M==4)M=0;var I=0;for(var O=0;O<256;O++)I+=O*$[M][O];if(M==0)I/=3;this.$w[0].o((I/C).toFixed(1)+"");
this.$w[1].o(C+"")}};jT.a2B=function(F,r,$,C,M){F.beginPath();F.moveTo(0,0);for(var l=0;l<256;l++)F.lineTo(l,r[l]*$);
F.lineTo(256,0);F.fillStyle=C;F.strokeStyle=C;if(M){F.globalAlpha=.2;F.fill();F.globalAlpha=1;F.stroke()}else F.fill()};
function ec(F,r){au.call(this);this.MM={t:0,L:0,X:0};if(Math.abs(F-256/y.ha())<10)F=256/y.ha();var $=this._=y.i("div","flexrow");
$.style.position="relative";var C=this.at3=y.i("div");$.appendChild(C);this.Ds=new hx;this.xA=new hx;
this.tb=this.tM.bind(this);this.XU=this.aiX.bind(this);this.Ee=y.i("canvas","");this.Tg=this.Ee.getContext("2d");
this.Ee.width=this.Ee.height=256;this.acz=this.Tg.getImageData(0,0,256,256);this.a1Z=-1;this.a29="";
this.vQ=null;y.C7(this.Ee);y.TX(this.Ee,this.avh.bind(this));C.appendChild(this.Ee);this.aDt=this.a8N.bind(this);
this.avj=this.avJ.bind(this);this.WA=y.i("canvas","");this.p2=this.WA.getContext("2d");this.WA.width=20;
this.WA.height=256;this.adI=this.p2.getImageData(0,0,20,256);ec.ah9(this.adI.data,20,256);y.C7(this.WA);
y.TX(this.WA,this.axK.bind(this));$.appendChild(this.WA);y.B(this.Ee,"width:"+F+"px; height:"+F+"px");
y.B(this.WA,"width:16px; height:"+F+"px");this.BO=new jm("Web Colors\u2001");this.BO.Q(_.E.V,this.update,this);
this.ws=new jm("CMYK gamut");this.ws.Q(_.E.V,this.update,this);if(r){y.Hd(C);C.appendChild(this.BO._);
C.appendChild(this.ws._)}var M=this.WR=document.createElementNS("http://www.w3.org/2000/svg","svg");
$.appendChild(M)}ec.prototype=new au;ec.prototype.Xt=function(F,r){this.Ee.style.width=this.at3.style.width=F-16+"px"};
ec.prototype.o=function(F){if(this.BO.k()){var r=j.N(F);ec.Al(r);var $=this.k();if(r.t==$.t&&r.L==$.L&&r.X==$.X)F=this.MM}this.MM=F;
this.update()};ec.prototype.k=function(){var F=j.N(this.MM);if(this.BO.k())ec.Al(F);return F};ec.prototype.update=function(){var F=this.MM,r=j.nc(F.t,F.L,F.X),d=18;
if(r.rY==0)r.cG=this.Ds.x/255;if(r.cG==0||r.rY==0)r.Y9=(255-this.B9(this.xA.y))/255;if(r.rY!=0)this.Ds.x=r.cG*255;
this.Ds.y=(1-r.rY)*255;this.xA.y=(1-r.Y9)*255;var $=this.acz,C=this.BO.k(),M=this.ws.k(),l=C+","+M;if(Math.abs(r.Y9-this.a1Z)>.002||this.a29!=l){this.a7s(new Uint8Array($.data.buffer),256,256,r.Y9,C,M);
this.aGt();this.a1Z=r.Y9;this.a29=l}var k=this.Tg;k.putImageData($,0,0);$=this.adI;k=this.p2;k.putImageData($,0,0);
k.strokeStyle="#ffffff";k.beginPath();k.moveTo(0,this.xA.y);k.lineTo(20,this.xA.y);k.lineWidth=2;k.stroke();
var I=this.Ds.y/255,c=parseFloat(this.Ee.style.width),Q=parseFloat(this.Ee.style.height),x=this.WR;x.setAttribute("width",d);
x.setAttribute("height",d);var U=Math.round(F.t*255)<<16|Math.round(F.L*255)<<8|Math.round(F.X*255),S="<circle cx=\""+d/2+"\" cy=\""+d/2+"\" r=\""+d/2+"\" fill=\"#"+j.lN(U)+"\"></circle>";
S+="<circle cx=\""+d/2+"\" cy=\""+d/2+"\" r=\""+(-.5+d/2)+"\" fill=\"none\" stroke=\"rgba(255,255,255,"+(.5-.2*I)+")\" stroke-width=\"1\"></circle>";
S+="<circle cx=\""+d/2+"\" cy=\""+d/2+"\" r=\""+(-1.2+d/2)+"\" fill=\"none\" stroke=\"rgba(0,0,0,0.07)\" stroke-width=\"0.4\"></circle>";
x.innerHTML=S;x.style.pointerEvents="none";x.style.filter="drop-shadow(0px 3px 2px rgba(0,0,0,0.4)";
x.style.position="absolute";x.style.left=c*(this.Ds.x/255)-d/2+"px";x.style.top=Q*(this.Ds.y/255)-d/2+"px"};
ec.Al=function(F){F.t=~~(.5+F.t*5)*.2;F.L=~~(.5+F.L*5)*.2;F.X=~~(.5+F.X*5)*.2};ec.prototype.a7s=function(F,r,$,C,M,l){var k=1/r,d=1/$;
for(var I=0;I<$;I++)for(var c=0;c<r;c++){var Q=j.To(C,c*k,($-I-1)*d);if(M)ec.Al(Q);var O=I*r+c<<2;F[O+0]=~~(Q.t*255);
F[O+1]=~~(Q.L*255);F[O+2]=~~(Q.X*255);F[O+3]=255}if(l){var x=F.slice(0),U=j.$L("rgbToRgbC"),S=U[2],z=U[3];
ICC.U.applyLUT(z,S,x,x);this.vQ=j.j(r*$);for(var O=0;O<F.length;O+=4){var V=F[O]-x[O],t=F[O+1]-x[O+1],Y=F[O+2]-x[O+2],i=V*V+t*t+Y*Y;
if(i>300){F[O]=F[O+1]=F[O+2]=200;this.vQ[O>>>2]=255}}}};ec.ah9=function(F,r,$,C,M){if(C==null)C=1;if(M==null)M=0;
var l=new Uint32Array(F.buffer);for(var k=0;k<$;k++){var d=j.To((1+C*(1-k/$)+M)%1,1,1),I=255<<24|d.X*255<<16|d.L*255<<8|d.t*255;
for(var c=0;c<r;c++)l[k*r+c]=I}};ec.prototype.avh=function(F){y.dO(window,this.tb);y.an(window,this.XU);
this.tM(F);this.WR.style.transition="transform 150ms cubic-bezier(.4,2.2,.6,.5)";this.WR.style.transform="scale(2.4)"};
ec.prototype.aiX=function(F){y.Fp(window,this.tb);y.gj(window,this.XU);this.WR.style.transition="transform 200ms cubic-bezier(.4,2.2,.6,.5)";
this.WR.style.transform="scale(1)"};ec.prototype.tM=function(F){var r=y.Bz(F,this.Ee);r.x=r.x*(256/parseFloat(this.Ee.style.width));
r.y=r.y*(256/parseFloat(this.Ee.style.height));this.Ds.I_(this.B9(r.x),this.B9(r.y));this.aGt();this.ms()};
ec.prototype.aGt=function(){if(!this.ws.k())return;var F=this.Ds,r=0,$=0,C=1e9;for(var M=0;M<256;M++){for(var l=0;
l<256;l++){if(this.vQ[M*256+l]==255)continue;var k=l-F.x,d=M-F.y,I=k*k+d*d;if(I<C){r=l;$=M;C=I}}}F.x=r;
F.y=$};ec.prototype.ms=function(){this.MM=this.anT();this.a(new k6(_.E.V))};ec.prototype.anT=function(){var F=j.To((255-this.B9(this.xA.y))/255,this.UF(this.Ds.x/255),this.UF(1-this.Ds.y/255));
return{t:F.t,L:F.L,X:F.X}};ec.prototype.axK=function(F){y.dO(window,this.aDt);y.an(window,this.avj);
this.a8N(F)};ec.prototype.avJ=function(F){y.Fp(window,this.aDt);y.gj(window,this.avj)};ec.prototype.a8N=function(F){var r=y.Bz(F,this.WA);
r.y=r.y*(256/parseFloat(this.WA.style.height));this.xA.I_(this.B9(r.x),this.B9(r.y));this.ms()};ec.prototype.B9=function(F){return Math.max(0,Math.min(255,F))};
ec.prototype.UF=function(F){return Math.max(0,Math.min(1,F))};function iu(F,r,$,C){var M=a8.Jl(r,C);
a8.call(this,F,M,$)}iu.prototype=new a8;function di(){au.call(this);this.Su=new j8;this.Su.Q(_.E.V,this.axN,this);
this.Su.parent=this;this.pY=new eT([12,14,0],1,150,"px",2,!0);this.pY.Q(_.E.V,this.r0,this);this.pY.parent=this;
this.zr=new eT([16,0],.01,100,"px",2,!0,null,5);this.zr.Q(_.E.V,this.r0,this);this.zr.parent=this;this.pn=new jm("Auto");
this.pn.Q(_.E.V,this.r0,this);this.dE=new eT([16,1],-500,5e3,"%",0,!0);this.dE.Q(_.E.V,this.r0,this);
this.dE.parent=this;this.M8=new eT("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.M8.Q(_.E.V,this.r0,this);
this.M8.parent=this;this.rT=new eT("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.rT.Q(_.E.V,this.r0,this);
this.rT.parent=this;this.d2=new eT([16,2],-10,10,"px");this.d2.Q(_.E.V,this.r0,this);this.d2.parent=this;
this.lI=new a$(!0);this.lI.Q(_.E.V,this.PD,this);this.lI.parent=this;this.n2=new a$(!0);this.n2.Q(_.E.V,this.PD,this);
this.n2.parent=this;this.YX=new a$(!0);this.YX.Q(_.E.V,this.PD,this);this.YX.parent=this;this.O$=new a$(!0);
this.O$.Q(_.E.V,this.PD,this);this.O$.parent=this;this.OG=new jm([2,3]);this.OG.Q(_.E.V,this.r0,this);
this.KI=new jm([14,9]);this.KI.Q(_.E.V,this.r0,this);this.Cy=new jm([12,46]);this.Cy.Q(_.E.V,this.r0,this);
this.yi=new ik(!0,!0);this.yi.Q(_.E.V,this.r0,this);this.BD=new jC("...",null,null,!0);y.TX(this.BD._,this.a78.bind(this));
this.uf=new au;var F=this.uf._=y.i("div","floatcont form"),k=100;this.uf.parent=this;this.yi.parent=this.uf;
this.Sv=new eT([12,41],1,20,"px",0,!0,!0);this.Sv._.style.marginLeft="16px";this.Sv.Q(_.E.V,this.r0,this);
this.Sv.parent=this.uf;F.appendChild(this.n2._);F.appendChild(this.OG._);y.Hd(F);F.appendChild(this.YX._);
F.appendChild(this.KI._);y.Hd(F);F.appendChild(this.Sv._);F.appendChild(this.yi._);y.Hd(F);F.appendChild(this.O$._);
F.appendChild(this.Cy._);this.Je=new jC("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />",!1,"Faux bold");
this.a8=new jC("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />",!1,"Faux italic");
this.eU=new jC("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />",!1,"All caps");this.VA=new jC("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />",!1,"Small caps");
this.sS=new jC("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />",!1,"Superscript");this.Lp=new jC("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />",!1,"Subscript");
this.fD=new jC("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />",!1,"Underline");this.DV=new jC("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />",!1,"Strikethrough");
var r=[this.Je,this.a8,this.eU,this.VA,this.sS,this.Lp,this.fD,this.DV];for(var O=0;O<r.length;O++)r[O].Q("click",this.ag4,this);
var $="standard context discr swash styl_alt titling ordinals fractions".split(" ");this.gO=[];for(var O=0;
O<8;O++){var C=new jC("<img src=\""+PIMG["lig/"+$[O]]+"\" class=\"autoscale gsicon\" />",!1,ho.abh[O]);
C.Q("click",this.ag4,this);this.gO.push(C)}this.aB3=new jC("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.a7k=new jC("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.avz=new jC("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.aku=new jC("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.adD=new jC("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.a6p=new jC("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.ana=new jC("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.Zx=[this.aB3,this.a7k,this.avz,this.aku,this.adD,this.a6p,this.ana];for(var O=0;O<this.Zx.length;
O++)this.Zx[O].Q("click",this.r0,this);var M=["lind","rind","flind","bind","aind"],l=[];for(var O=0;
O<5;O++)l.push("<img src=\""+PIMG["par/"+M[O]]+"\" class=\"autoscale gsicon\" /> ");this.a5=new eT(l[0],-k,k,"px");
this.xE=new eT(l[1],-k,k,"px");this.kM=new eT(l[2],-k,k,"px");this.kw=new eT(l[3],-k,k,"px");this.NV=new eT(l[4],-k,k,"px");
this.Rc=new a8([12,33],["Abc ...","... أي بي"]);this.Rs=new eT(["Auto VAR0",[16,0]],0,500,"%");this.UC=[this.a5,this.xE,this.kM,this.kw,this.NV,this.Rc,this.Rs];
for(var O=0;O<this.UC.length;O++){var d=this.UC[O];d.Q(_.E.V,this.r0,this);d.parent=this}}di.prototype=new au;
di.prototype.a78=function(F){if(y.D4(this.uf._))return;F.stopPropagation();var r=this.BD._.getBoundingClientRect(),$=new k6(_.E.c,!0);
$.data={R:_.m.$a,g$:this.uf,x:r.left,y:r.top+r.height+4};this.a($)};di.prototype.l=function(){this.Su.l();
this.pY.l();this.zr.l();this.dE.l();this.d2.l();this.M8.l();this.rT.l();this.OG.l();this.KI.l();this.Cy.l();
this.Sv.l();this.yi.l();for(var O=0;O<this.UC.length;O++)this.UC[O].l()};di.prototype.o=function(F,r,$){this.yc=j.N(F);
var C=this.yc,M=C.Uz,l=C.jv;this.Je.o(M.FauxBold!=null?M.FauxBold:!1);this.a8.o(M.FauxItalic!=null?M.FauxItalic:!1);
this.eU.o(M.FontCaps==2);this.VA.o(M.FontCaps==1);this.sS.o(M.FontBaseline==1);this.Lp.o(M.FontBaseline==2);
this.fD.o(M.Underline);this.DV.o(M.Strikethrough);var k={};if(M.Font!=null){var d=r.yV(C.WX[M.Font].Name);
if(d)k=d.GSUB;if(k==null)k={}}for(var O=0;O<8;O++){this.gO[O].fC(k[ho.aez[O]]);this.gO[O].o(M[ho.gO[O]])}this.Su.o(M.Font==null?null:C.WX[M.Font].Name,r,$);
var I=M.FontSize==null?20:M.FontSize;this.pY.o(I);var c=M.Tracking;this.dE.o(c==null?0:c);this.Sv.o(M.OutlineWidth!=null?M.OutlineWidth:1);
this.yi.o(cK.Jn.a0c(M));this.zr.o(M.Leading!=null&&M.Leading!=0?M.Leading:I);this.pn.o(M.AutoLeading);
this.M8.o((M.VerticalScale!=null?M.VerticalScale:0)*100);this.rT.o((M.HorizontalScale!=null?M.HorizontalScale:0)*100);
this.d2.o(M.BaselineShift!=null?M.BaselineShift:0);this.OG.o(M.FillFlag!=null?M.FillFlag:!1);this.KI.o(M.StrokeFlag!=null?M.StrokeFlag:!1);
this.Cy.o(M._FillBackgroundFlag!=null?M._FillBackgroundFlag:!1);this.X8(M.FillColor,this.lI);this.X8(M.FillColor,this.n2);
this.X8(M.StrokeColor,this.YX);this.X8(M._FillBackgroundColor,this.O$);var Q=l._Direction!=null?l._Direction:0,x=ho.Nq(l);
for(var O=0;O<this.Zx.length;O++)this.Zx[O].o(x==O);this.Rc.o(Q);this.Rs.o((l.AutoLeading!=null?l.AutoLeading:1.2)*100);
this.a5.o(l.StartIndent!=null?l.StartIndent:0);this.xE.o(l.EndIndent!=null?l.EndIndent:0);this.kM.o(l.FirstLineIndent!=null?l.FirstLineIndent:0);
this.kw.o(l.SpaceBefore!=null?l.SpaceBefore:0);this.NV.o(l.SpaceAfter!=null?l.SpaceAfter:0)};di.prototype.X8=function(F,r){if(F){var $=ho.MB(F);
r.ZJ(Math.round($.t)<<16|Math.round($.L)<<8|Math.round($.X))}else r.ZJ(0)};di.prototype.yE=function(){var F=new k6(_.E.c,!0);
F.data={R:_.m.WF,jg:d3.yp,yc:this.yc};this.a(F);var F=new k6(_.E.O,!0);F.J=B.Q_;F.data={R:"updateStyles"};
this.a(F)};di.prototype.ag4=function(F){var r=this.yc.Uz,$=F.target,C=!$.s$(),M=this.gO.indexOf($);if(M!=-1){r[ho.gO[M]]=C}else{if($==this.Je)r.FauxBold=C;
if($==this.a8)r.FauxItalic=C;if($==this.eU)r.FontCaps=C?2:0;if($==this.VA)r.FontCaps=C?1:0;if($==this.sS)r.FontBaseline=C?1:0;
if($==this.Lp)r.FontBaseline=C?2:0;if($==this.fD)r.Underline=C;if($==this.DV)r.Strikethrough=C}this.yE()};
di.prototype.r0=function(F){var r=this.yc.Uz,$=this.yc.jv,C=F.target;if(C==this.yi){cK.Jn.agV(C.k(),r)}if(C==this.dE){var M=this.dE.k();
r.Tracking=M}if(C==this.zr){r.AutoLeading=!1;r.Leading=this.zr.k()}if(C==this.pn){r.AutoLeading=this.pn.k()}if(C==this.Sv)r.OutlineWidth=C.k();
if(C==this.pY)r.FontSize=C.k();if(C==this.M8)r.VerticalScale=C.k()/100;if(C==this.rT)r.HorizontalScale=C.k()/100;
if(C==this.d2)r.BaselineShift=C.k();if(C==this.OG)r.FillFlag=C.k();if(C==this.KI)r.StrokeFlag=C.k();
if(C==this.Cy)r._FillBackgroundFlag=C.k();if(this.Zx.indexOf(C)!=-1){$.Justification=ho.Nq($,this.Zx.indexOf(C))}if(C==this.a5)$.StartIndent=C.k();
if(C==this.xE)$.EndIndent=C.k();if(C==this.kM)$.FirstLineIndent=C.k();if(C==this.kw)$.SpaceBefore=C.k();
if(C==this.NV)$.SpaceAfter=C.k();if(C==this.Rc)$._Direction=C.k();if(C==this.Rs)$.AutoLeading=C.k()/100;
this.yE()};di.prototype.axN=function(F){var r=this.yc,$=this.Su.k(),C=-1;for(var O=0;O<r.WX.length;O++)if(r.WX[O].Name==$)C=O;
if(C==-1){C=r.WX.length;var M=j.N(r.WX[0]);M.Name=$;r.WX.splice(C,0,M)}r.Uz.Font=C;this.yE()};di.prototype.PD=function(F){var r=F.target,$=r.Yt(),C={Type:1,Values:[1,($>>16&255)/255,($>>8&255)/255,($>>0&255)/255]};
for(var O=0;O<4;O++)C.Values[O]=Math.round(C.Values[O]*1e3)/1e3;var M=r==this.lI||r==this.n2?0:r==this.YX?1:2;
this.yc.Uz[["FillColor","StrokeColor","_FillBackgroundColor"][M]]=C;this.yE()};function j8(){au.call(this);
this._=y.i("span","fontinput");this.mg=null;this.Nt=null;this.gC=null;this.Ac="";this.bP={};this.a3l=[];
this.aG0={};this.aaB={};this.s7=[];this.a4U=!1;this.Ov=y.i("button","fitem");y.B(this.Ov,"width:9em;");
this.Ov.textContent="Family Name \u25BC";this._.appendChild(this.Ov);y.TX(this.Ov,this.aK2.bind(this));
this.H3=new au;this.H3.parent=this;var F=this.H3._=y.i("div","floatcont");F.style.padding="7px 7px 3px 7px";
var r=new eu("Recent");F.appendChild(r._);var $=this.ahX=new jC([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);
$.Q("click",this.aAG,this);$._.style.float="right";F.appendChild($._);var C=this.aGB=new jm("Local Fonts");
C.Q(_.E.V,this.aiN,this);C._.style.float="right";C._.style.marginRight="10px";C._.style.marginTop="3px";
F.appendChild(C._);y.Hd(F);this.JU=y.i("span","fitem imageset scrollable");this.JU.style.height="5.5em";
this.JU.style.width="100%";F.appendChild(this.JU);var M=y.i("div","form");this.H3._.appendChild(M);this.s9=new jC(y.UE("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");
this.s9.Q("click",this.a2Z,this);M.appendChild(this.s9._);this.Rw=new gs([12,86],null,7.5);this.Rw.Q("input",this.yA,this);
M.appendChild(this.Rw._);this.ke=new f1(10,"\u2630");M.appendChild(this.ke._);this.ke.parent=this.H3;
this.ke.Q(_.E.V,this.ET,this);this.ke._.style.float="right";this.ke._.style.marginRight="0";this.oB=y.i("span","fitem imageset scrollable");
this.oB.style.height="30em";this.H3._.appendChild(this.oB);this.oB.addEventListener("scroll",this.akb.bind(this),!1);
this.aT=y.i("button","fitem");y.B(this.aT,"width:7em;");this.aT.textContent="SubFamily Name \u25BC";
this._.appendChild(this.aT);y.TX(this.aT,this.aK2.bind(this));this.Kc=new au;this.Kc.parent=this;this.Kc._=y.i("div","floatcont");
this.a21=y.i("span","fitem imageset scrollable");this.Kc._.appendChild(this.a21);this.aJK=this.a6n.bind(this);
this.aiA=this.a4I.bind(this);this.lL=this.aqB.bind(this);this.aHY=this.aj3.bind(this);this.a8h=this.aHJ.bind(this);
this.a4$=this.L4.bind(this)}j8.prototype=new au;j8.prototype.aiN=function(F){cR.uP.fC(F.target.k(),function(){this.o();
this.ET()}.bind(this),function(){this.aGB.o(!1)}.bind(this));this.ET()};j8.prototype.akb=function(F){var r=this.oB.scrollTop,$=this.a3l,C=Math.floor(r/27),M=Math.min(C+20,$.length);
for(var O=C;O<M;O++)this.ayN($[O])};j8.prototype.aAG=function(){var F=new k6(_.E.c,!0);F.data={R:_.m.u7};
this.a(F)};j8.prototype.l=function(){this.ke.l();this.ahX.l();this.aGB.o(cR.uP.s$());this.s9.Ck(y.UE("tools/cshape",null,"autoscale"))};
j8.prototype.a2Z=function(F){this.s9.o(!this.s9.s$());this.ET(null,null,!0)};j8.prototype.yA=function(F){this.Ac=this.Rw.k().toLowerCase();
this.ET()};j8.prototype.aK2=function(F){y.Dk(F);this.yv=null;var r=F.currentTarget,$=r.getBoundingClientRect(),C=r==this.Ov,M=C?this.H3:this.Kc;
if(y.D4(M._)){this.aaA(M);return}if(!C&&this.mg.o3()[this.gC]==null)return;var l=new k6(_.E.c,!0);l.data={R:_.m.$a,g$:M,x:$.left,y:$.top+$.height};
this.a(l);if(C){this.ET(null,!0,!0)}};j8.prototype.aqB=function(F){this.T2(this.Th,this.ac$,!0);this.a4U=!0};
j8.prototype.aj3=function(F){this.ac$=null;this.Th=F.currentTarget.firstChild.nextSibling.textContent;
if(this.yv==null)this.yv=this.k();this.aIP=setTimeout(this.lL,250)};j8.prototype.aHJ=function(F){this.ac$=F.currentTarget.firstChild.textContent;
this.Th=null;if(this.yv==null)this.yv=this.k();this.aIP=setTimeout(this.lL,250)};j8.prototype.L4=function(F){this.ai9=null;
this.ayn=null;clearTimeout(this.aIP);if(this.a4U){this.a4U=!1;this.o(this.yv,this.mg);this.a(new k6(_.E.V,!1))}};
j8.prototype.a6n=function(F){var r=F.currentTarget.firstChild.nextSibling.textContent;if(F.target.tagName.toLowerCase()=="button"){var $=this.Nt.slice(0),C=$.indexOf(r);
if(C==-1){$=$.slice(Math.max(0,$.length-99));$.push(r)}else $.splice(C,1);var M=new k6(_.E.c,!0);M.data={R:_.m.WF,jg:d3.Wt,FJ:$};
this.a(M);this.ET()}else{this.L4(F);this.T2(r,null)}};j8.prototype.a4I=function(F){this.L4(F);this.T2(null,F.currentTarget.firstChild.textContent)};
j8.prototype.T2=function(F,r,$){var C=F==null?this.Kc:this.H3,M=this.mg;if(F==null)F=M.o3()[this.gC][0];
else{var l=M.Q$(F),k=M.o3()[this.gC];r=cR.bd(l,k?k[1]:"regular")}var d=M.ID(F,r)[2];if(d==this.gC)return;
this.o(d,M);this.a(new k6(_.E.V,!1));if($==null)this.aaA(C);this.ET()};j8.prototype.aaA=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.GW,g$:F};this.a(r)};j8.prototype.k=function(){return this.gC};j8.prototype.o=function(F,r,$){var C=this.mg;
if(F!=null)this.gC=F;else F=this.gC;if(r)this.mg=r;else r=this.mg;if($)this.Nt=$;else $=this.Nt;if(F!=null){var M=r.o3()[F],l,k;
if(M==null){l="- "+F;k="-------"}else{l=M[0];k=M[1];var d=this.s7;for(var O=0;O<d.length;O++)if(d[O][0][0]==l)d.splice(O,1);
d.push([M,Date.now()]);d.sort(function(x,U){return U[1]-x[1]});d=d.slice(0,10);y.RR(this.JU);for(var O=1;
O<d.length;O++){var I=d[O][0],c=this.jp(I,!0);this.AG(c,I,!0);this.JU.appendChild(c)}var Q=r.Q$(l);Q.sort(cR.a8k);
this.a21.textContent="";for(var O=0;O<Q.length;O++){var M=r.ID(l,Q[O]);if(!this.ke.vX(M))continue;var c=this.jp(M,!1);
this.a21.appendChild(c)}}this.Ov.textContent=l.substring(0,15)+" \u25BC";this.Ov.setAttribute("title",l+", \""+F+"\"");
this.aT.textContent=k.substring(0,10)+" \u25BC";this.aT.setAttribute("title",k)}};j8.prototype.ET=function(F,r,$){var C=this.mg.o3()[this.gC],M=this.Nt,l=this.mg.agr();
this.a3l=[];var k=this.aGB.k();for(var d in l){var I=M.indexOf(d)!=-1,c=this.mg.Q$(d),Q=!1;for(var O=0;
O<c.length;O++){var x=this.mg.ID(d,c[O]),U=!0;if(this.Ac.length>0&&x[0].toLowerCase().indexOf(this.Ac)==-1)U=!1;
else if(!this.ke.vX(x))U=!1;else if(this.s9.s$()&&!I)U=!1;else if(x[5]=="--loc"&&!k)U=!1;if(U)Q=!0}var S=this.bP[d];
if(S==null){var z=cR.bd(l[d],"regular"),V=this.mg.ID(d,z),S=this.jp(V,!0);this.bP[d]=S;this.oB.appendChild(S);
this.aG0[d]="[true,false,false]"}if(Q)this.a3l.push(d);var t=C!=null&&C[0]==d;this.aaB[d]="["+Q+","+t+","+I+"]";
if(!r)this.ayN(d)}if(C&&$){var Y=this.bP[C[0]];this.oB.scrollTop=Y.offsetTop-210}this.akb()};j8.prototype.ayN=function(F){var r=this.bP[F];
if(r.firstChild==null){var $=this.mg.agr(),C=cR.bd($[F],"regular"),M=this.mg.ID(F,C);this.AG(r,M,!0)}var l=this.aG0[F],k=this.aaB[F];
if(l==k)return;var d=JSON.parse(l),I=JSON.parse(k);if(d[0]!=I[0]||d[1]!=I[1]){var c=I[0]?"":"display:none; ";
if(I[1])c+="background-color:rgba(0,0,0,0.13);";y.B(r,c)}if(d[2]!=I[2])y.B(r.firstChild,"opacity: "+(I[2]?"1":"0.2"));
this.aG0[F]=k};j8.prototype.jp=function(F,r){var $=y.i("div","fontitem");if(!r)this.AG($,F,r);return $};
j8.prototype.AG=function(F,r,$){var C=r[$?0:1],M=$?this.aJK:this.aiA,l=$?this.aHY:this.a8h,c="";F.addEventListener("click",M,!1);
F.addEventListener("mouseover",l);F.addEventListener("mouseout",this.a4$);if($)F.appendChild(y.i("button","star"));
var k=y.i("span","label");k.setAttribute("title",C);k.textContent=C;F.appendChild(k);var d=y.ha(),I=1/d,Q=cR.hp*I,x=cR.EQ*I;
if(1<d&&d<1.5)c="width:"+Q+"px; height:"+x+"px;";var U=y.i("span","thumb gsicon");if(r.LH){c+="background: url("+r.LH+");";
if(1<d&&d<1.5)c+="background-size: "+Q+"px "+x+"px;"}else{var S=Math.ceil(FNTS.list.length/cR.cols),z=Math.floor(r.Sc/cR.cols),V=r.Sc-z*cR.cols,t=V*cR.hp,Y=z*cR.EQ;
if(1<d&&d<1.5){c+="background-size: "+cR.cols*Q+"px "+S*x+"px;";t*=I;Y*=I}c+="background-position:-"+t+"px -"+Y+"px;"}y.B(U,c);
F.appendChild(U)};function f1(F,r){au.call(this);this._=y.i("button","fitem bbtn");this._.addEventListener("click",this.QF.bind(this),!1);
this.uf=new au;this.uf._=y.i("div","floatcont");this.uf.parent=this;this.a0d=y.i("div","flexrow");this.uf._.appendChild(this.a0d);
this.vL=r;this.OO=[];this.Jt=[];var $=this.a0d,C=y.i("div",""),M=y.i("div","");$.appendChild(C);$.appendChild(M);
this.w2=[];for(var O=0;O<FNTS.cats.length;O++)this.w2.push({name:FNTS.cats[O],index:O,V6:0});this.y8=new jm([7,0]);
this.y8.o(!0);this.y8.Q(_.E.V,this.amt,this);C.appendChild(this.y8._);this.akC=y.i("div","vlist marged scrollable");
y.B(this.akC,"width:10.3em; height:"+F+"em; ");C.appendChild(this.akC);this.R1=[];for(var O=0;O<this.w2.length;
O++){var l=this.w2[O],k=new jm(l.name);this.R1.push(k);k.Q(_.E.V,this.asV,this);k.o(!0);this.akC.appendChild(k._);
this.OO.push(1)}this.aam=new jm([7,0]);this.aam.Q(_.E.V,this.a3K,this);this.ad0=y.i("div","vlist marged scrollable");
y.B(this.ad0,"width:8.6em; height:"+(F+1.5)+"em; ");M.appendChild(this.ad0);this.iD=[];for(var O=0;O<FNTS.subsetNames.length;
O++){var k=new jm(FNTS.subsetNames[O]);this.iD.push(k);k.Q(_.E.V,this.ak5,this);k.o(!1);this.ad0.appendChild(k._);
this.Jt.push(k.k()?1:0)}}f1.prototype=new au;f1.prototype.apm=function(F){var r=this.iD;for(var O=0;
O<r.length;O++){var $=(F>>>O&1)==1;this.Jt[O]=$;r[O].o($)}};f1.prototype.asO=function(){return this.a0d};
f1.prototype.l=function(){this._.textContent=this.vL?this.vL:dG.get([25,1,0])+" \u25BC";this.y8.l();
this.aam.l()};f1.prototype.QF=function(F){var r=this._.getBoundingClientRect(),$=new k6(_.E.c,!0);$.data={R:_.m.$a,g$:this.uf,x:r.left,y:r.top+r.height,Cl:!0};
this.a($)};f1.prototype.vX=function(F){if(this.OO[F[4]]==0)return!1;else for(var r=0;r<this.Jt.length;
r++)if(this.Jt[r]==1&&(F[3]>>>r&1)==0)return!1;return!0};f1.prototype.amt=function(F){var r=F.target.k(),$=this.R1,C=this.OO;
for(var O=0;O<$.length;O++){$[O].o(r);C[O]=r?1:0}this.a(new k6(_.E.V,!1))};f1.prototype.a3K=function(F){var r=F.target.k(),$=this.iD,C=this.Jt;
for(var O=0;O<$.length;O++){$[O].o(r);C[O]=r?1:0}this.a(new k6(_.E.V,!1))};f1.prototype.asV=function(F){var O=this.R1.indexOf(F.target),r=this.w2[O].index;
this.OO[r]=1-this.OO[r];this.a(new k6(_.E.V,!1));this.a4O(this.R1,this.y8)};f1.prototype.ak5=function(F){var O=this.iD.indexOf(F.target);
this.Jt[O]=1-this.Jt[O];this.a(new k6(_.E.V,!1))};f1.prototype.a4O=function(F,r){var $=!0;for(var O=0;
O<F.length;O++)$=$&&F[O].k();r.o($)};function bl(F,r,$){i_.call(this,r,!0,"gradientbutton",18*13,10*13,d3.PP);
this.y1=-1;this.J2=-1;this.agz=null;this.ao1=F;this.Ax=$}bl.prototype=new i_;bl.prototype._e=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.Oe,rS:"gradienteditor",qS:this.Y5,Xq:this.aex.bind(this),Yg:this.Ax};this.a(r)};bl.prototype.aex=function(F){this.o(F);
this.a(new k6(_.E.V))};bl.prototype.xr=function(F,r){this.y1=F;this.J2=r;this.KB()};bl.prototype.KB=function(){if(this.Y5==null)return;
var F=JSON.stringify(this.Y5)+","+this.y1+","+this.J2;if(F==this.agz)return;this.agz=F;var r=Math.floor(80*y.ha()),$=Math.floor(16*y.ha()),C=B.dC.SM(this.Y5,r,$,0,this.y1,this.J2);
this.rO.setAttribute("src",C);y.nC(this.rO,r,$)};bl.prototype.k=function(){var F;if(this.ao1)F=B.dC.a67(this.Y5,this.y1,this.J2);
else F=j.N(this.Y5);return F};function bW(F){i_.call(this,F,!1,"swatchbutton",16*13,9.75*13,d3.oF)}bW.prototype=new i_;
function gp(F){i_.call(this,null,!0,"swatchbutton",16*13,8.75*13,d3.UG);this.$g=F}gp.prototype=new i_;
gp.prototype.yZ=function(F){var r=this.pQ,$=F.target.k();this.o($==0?[]:r.va[$-1][1],r);this.a(new k6(_.E.V))};
gp.prototype._e=function(F){if(this.Y5.length!=0)kn.abS(this.Y5,this,this.ms.bind(this))};gp.prototype.ms=function(F){var r=F;
if(typeof F=="number"){r=j.iW(F,1);r=[r.t,r.L,r.X]}this.o(r);this.a(new k6(_.E.V))};gp.prototype.o=function(F,r){this.Y5=F;
this.KB(r)};gp.prototype.KB=function(F){var r=Math.floor(20*y.ha()),$=Math.floor(20*y.ha()),C=y.i("canvas"),M=C.getContext("2d");
C.width=r;C.height=$;kn.i5(M,this.Y5,F,r,$,0,0,this.$g==1);var l=M.canvas.toDataURL("png");this.rO.setAttribute("src",l);
y.nC(this.rO,r,$)};gp.prototype.ps=function(){if(!this.GU)return;var F=Math.floor(20*y.ha()),r=Math.floor(20*y.ha()),$=[],C=[],M=this.pQ,l=M.va,k=y.i("canvas"),d=k.getContext("2d");
k.width=F;k.height=r;l=[["None",[]]].concat(l);for(var O=0;O<l.length;O++){C.push(l[O][0]);kn.i5(d,l[O][1],M,F,r,0,0);
var I=d.canvas.toDataURL("png");$.push(I)}this.kL.pD($,C,F,r);this.GU=!1};gp.prototype.k=function(){return j.N(this.Y5)};
function bH(F,r,$){au.call(this);this._=y.i($?"div":"span");var C=this.R8=y.i("input");this.R8.setAttribute("type","file");
if(r)C.setAttribute("multiple","");this.R8.addEventListener("change",this.anb.bind(this),!1);this.and=this.as.bind(this);
this.Jf={};this.jZ=0;this.G3=F;var M=this.zL=new jC(dG.get(F)+" (0)",null,null,!0);this._.appendChild(M._);
M.addEventListener("click",function(l){C.click()});if($){this.Mc=y.i("div","scrollable");y.B(this.Mc,"height:120px; width:100%; line-height:1.5em;");
this._.appendChild(this.Mc);this.vr()}}bH.prototype=new au;bH.prototype.o=function(F){this.Jf=F;this.vr()};
bH.prototype.k=function(F){return this.Jf};bH.prototype.anb=function(F){var r=F.target.files;this.jZ=r.length;
this.Jf={};for(var O=0;O<r.length;O++){var $=r[O],C=new FileReader;C.onload=this.and;C.Se=$.name;C.readAsArrayBuffer($)}};
bH.prototype.as=function(F){var r=this.Jf[F.target.Se]=new Uint8Array(F.target.result);this.jZ--;if(this.jZ==0){this.vr();
this.a(new k6(_.E.V));this.R8.value=null}};bH.prototype.vr=function(){var F=this.Jf;this.zL.Ck(dG.get(this.G3)+" ("+Object.keys(F).length+")");
var r=this.Mc;if(r==null)return;y.RR(r);var $=[];for(var C in F)$.push(C);$.sort();for(var O=0;O<$.length;
O++){var M=y.i("div");M.textContent=$[O];r.appendChild(M)}};function gd(F,r,$,C,M){if(F==null)F=!1;if(r==null)r=!1;
if($==null)$=!1;au.call(this);this.IC=new hx;this.W2=new hx;this.aGs=72;this.wR=72;this.ag_=C;this.m1=!0;
this.w1=!1;this._=y.i("span");this.Bp=new eT([12,41],0,0,null,0,!1,!0,4);this._.appendChild(this.Bp._);
this.Bp.Q(_.E.V,this.jz,this);var l=["px","%"];if(F)l=l.concat(["cm","mm","in"]);if(M){l=[[12,76,2],[12,76,6]];
if(F)l=l.concat([[12,76,4],[12,76,5],[12,76,3]])}this.vU=new bc(null,l);this._.appendChild(this.vU._);
y.Hd(this._);this.vU.Q(_.E.V,this.jz,this);this.Kh=new eT([12,42],0,0,null,0,!1,!0,4);this._.appendChild(this.Kh._);
this.Kh.Q(_.E.V,this.jz,this);this.we=new jC("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.we.Q("click",this.jz,this);this.Gd=new eu("");this.Gd._.style.margin="0";this.Gd._.style.padding="0";
if(r){this._.appendChild(this.we._);this._.appendChild(this.Gd._);this.we.z1()}else{var k=this.azq=new jC("\u21C6",!1,null,!0);
k.Q("click",this.Zw,this);this._.appendChild(k._)}this.ZW=new eT("DPI",0,0,null,3,!1,!0,4);this.r4=new bc(null,[["VAR0 / Inch",[12,76,2]],["VAR0 / Cm",[12,76,2]]]);
if(F&&!C){y.Hd(this._);this._.appendChild(this.ZW._);this._.appendChild(this.r4._)}this.r4.Q(_.E.V,this.jz,this);
this.ZW.Q(_.E.V,this.jz,this);this.xf=new jm([12,23,1]);this.xf.Q(_.E.V,this.jz,this);if($){y.Hd(this._);
this._.appendChild(this.xf._)}y.Hd(this._)}gd.prototype=new au;gd.prototype.Xt=function(F,r){this.Bp.qE.style.width=this.Kh.qE.style.width=(F-78-this.we.eJ())/2+"px"};
gd.prototype.Jd=function(){var F=this.ag_;this.Bp.Jd();this.Kh.Jd();this.vU.Jd();var r=this._;y.RR(r);
this.vU._.style.marginRight="0";r.appendChild(this.Bp._);if(this.azq)r.appendChild(this.azq._);else r.appendChild(this.we._);
r.appendChild(this.Kh._);r.appendChild(this.vU._);this.ZW.Jd();this.r4.Jd();if(!F){y.Hd(r);r.appendChild(this.ZW._);
r.appendChild(this.r4._)}};gd.prototype.Sf=function(){this.Bp.Sf()};gd.prototype.a82=function(F,r){this.m1=F;
if(r!=null)this.w1=r;if(!this.m1&&!this.w1&&this.vU.k()==0){this.vU.o(4);this.$j()}};gd.prototype.agU=function(F){this.we.o(F)};
gd.prototype.l=function(){this.Bp.l();this.Kh.l();this.ZW.l();this.r4.l();this.we.l();this.xf.l();this.vU.l()};
gd.prototype.Zw=function(F){var r=this.W2.x;this.W2.x=this.W2.y;this.W2.y=r;this.$j();this.a(new k6(_.E.V,!1))};
gd.prototype.jz=function(F){if(F.target==this.vU&&!this.m1&&!this.w1&&this.vU.k()==0)this.vU.o(4);if(F.target==this.vU||F.target==this.xf){this.$j();
return}if(F.target==this.we)F.target.o(!F.target.k());if(F.target==this.r4)window.locStor.setItem("dpiUnit",this.r4.k());
var r=this.IC,$=parseFloat(this.Bp.k());if(isNaN($))$=1;var C=parseFloat(this.Kh.k());if(isNaN(C))C=1;
var M=this.ZW.k()*[1,2.54][this.r4.k()],l=this.vU.k();if(this.m1){var k=this.wR;if(l==1){$=this.IC.x*($/100);
C=this.IC.y*(C/100)}var d=[1,1,2.54/k,25.4/k,1/k][l];$/=d;C/=d;if(this.xf.k()){$+=this.IC.x;C+=this.IC.y}if(F.target==this.ZW){var I=M;
if(!this.w1){var c=I/k;$*=c;C*=c}k=I}if(this.we.k()){if(F.target==this.Bp)C=$*(r.y/r.x);else $=C*(r.x/r.y)}$=Math.max(Math.abs($),1);
C=Math.max(Math.abs(C),1)}else{var k=this.aGs;if(F.target==this.ZW)k=M;else{if(this.we.k()){if(F.target==this.Bp)C=$*(r.y/r.x);
else $=C*(r.x/r.y)}var d=[1,1,2.54/k,25.4/k,1/k][l],Q=$/(l==1?100:r.x*d);k=k/Q}$=r.x;C=r.y}this.W2=new hx(Math.round($),Math.round(C));
this.wR=k;this.$j();this.a(new k6(_.E.V,!1))};gd.prototype.cm=function(O){this.vU.o(O);this.$j()};gd.prototype.aG6=function(){return this.vU.k()};
gd.prototype.o=function(F,r,$){var C=window.locStor.getItem("dpiUnit");if(C!=null)this.r4.o(C);if($!=!0)this.IC=F.P();
this.W2=F.P();if(r!=null){this.aGs=r;this.wR=r}this.$j()};gd.prototype.$j=function(){var F=this.W2.x,r=this.W2.y,$=this.wR,C=(F/r).toFixed(3);
while(C.charAt(C.length-1)=="0")C=C.substring(0,C.length-1);if(C.charAt(C.length-1)==".")C=C.substring(0,C.length-1);
var M="  "+C+" : 1",l=function(Q,x){while(x!=0){var U=x;x=Q%x;Q=U}return Q},k=l(F,r);if(Math.min(F,r)/k<10)M="  "+Math.round(F/k)+" : "+Math.round(r/k);
this.Gd.o(M);if(this.xf.k()){F-=this.IC.x;r-=this.IC.y}var d=this.vU.k();if(d==1){if(this.m1){F=100*F/this.IC.x;
r=100*r/this.IC.y}else{F=r=100*this.aGs/this.wR}}else{F=Math.round(F);r=Math.round(r)}var I=[1,1,2.54/$,25.4/$,1/$][d];
F*=I;r*=I;var c=d==1||d==2||d==4?2:0;this.Bp.oX(c);this.Kh.oX(c);this.Bp.o(F);this.Kh.o(r);this.ZW.o($*[1,1/2.54][this.r4.k()])};
gd.prototype.k=function(){return this.W2.P()};gd.prototype.x7=function(){return this.wR};function gN(F,r,$){au.call(this);
var C=F==0?["W","H","X","Y"]:["\u250F","\u2517","\u2513","\u251B"];this.xC=F;this.anP=r;this.a7a=1;this.amc=[1,1,0];
var M=this._=y.i("div","numlist"),l=y.i("div","flexrow");M.appendChild(l);var k=y.i("div"),d=y.i("div");
l.appendChild(k);l.appendChild(d);y.B(k,"width:100px");y.B(d,"width:100px");var I=this.rA=[];for(var O=0;
O<4;O++){var c=new eT(C[O],0,0,null,2,!1,!0,4,null,$&&O<2);c.Q(_.E.V,this.jz,this);(O<2?k:d).appendChild(c._);
I[O]=c}I[4]=new jm(F==0?[12,51]:[12,91,2]);I[4].o(!0);M.appendChild(I[4]._)}gN.prototype=new au;gN.prototype.l=function(){var F=this.rA;
for(var O=0;O<5;O++)F[O].l();if(this.xC==0)y.px(F[0],F[1])};gN.prototype.o=function(F,r){if(r)this.amc=r;
r=this.amc;var $=this.xC==0?[F[2],F[3],F[0],F[1]]:[F[0],F[3],F[1],F[2]];this.a7a=F[2]/F[3];for(var O=0;
O<4;O++){var C=this.rA[O];C.oX(r[2]==0&&this.anP?0:2);C.o(j.Om.QX($[O],r[0],r[1],r[2]))}};gN.prototype.k=function(){var F=[],r=this.amc;
for(var O=0;O<4;O++){var $=j.Om.Xv(this.rA[O].k(),r[0],r[1],r[2]);F[O]=this.anP?Math.round($):$}var C=this.xC==0?[F[2],F[3],F[0],F[1]]:[F[0],F[2],F[3],F[1]];
return C};gN.prototype.jz=function(F){var r=this.xC,$=this.rA.indexOf(F.currentTarget),C=this.k(),M=this.rA[4].k();
if(r==0){C[2]=Math.max(1,C[2]);C[3]=Math.max(1,C[3]);if(M&&$==0)C[3]=C[2]/this.a7a;if(M&&$==1)C[2]=C[3]*this.a7a}if(r==1){C[$]=Math.max(0,C[$]);
if(M)for(var O=0;O<4;O++)C[O]=C[$]}this.o(C,null);this.a(new k6(_.E.V,!1))};function bA(F){au.call(this);
this.a7N=0;this.$w=[0,0,1,1,100,100];this.al=[10,5,1,1,4,3,3,2,16,9];this.aiH=0;this.as_=72;this.afP=F;
this._=y.i("span","fitem");this.vg=new bc(null,[[12,89,0],[12,89,1],[12,89,2],"Original Ratio","1 : 1","4 : 3","3 : 2","16 : 9"],[3,5]);
this._.appendChild(this.vg._);this.vg.Q(_.E.V,this.jz,this);this.Bp=new eT("W",0,0,null,2,!1,!0);this._.appendChild(this.Bp._);
this.Bp.Q(_.E.V,this.jz,this);var r=this.yi=new jC("\u21C4",!1,null,!0);r.Q("click",this.Zw,this);this._.appendChild(r._);
this.Kh=new eT("H",0,0,null,2,!1,!0);this._.appendChild(this.Kh._);this.Kh.Q(_.E.V,this.jz,this);this.ZW=new eT("New DPI",0,0,null,3,!1,!0,4);
this.ZW.Q(_.E.V,this.jz,this);this.o({q:0,x:0,y:0})}bA.prototype=new au;bA.prototype.UH=function(F){this.al[0]=F[0];
this.al[1]=F[1];var r=this.k();this.as_=F[2];this.aiH=F[3];this.o(r)};bA.prototype.l=function(){y.px(this.Bp,this.Kh);
this.ZW.l();this.vg.l()};bA.prototype.Zw=function(F){var r=this.Kh.k();this.Kh.o(this.Bp.k());this.Bp.o(r);
this.jz(F)};bA.prototype.jz=function(F){if(F.target==this.vg){var O=this.vg.k(),r=this.$w,$=this.ZW._;
if(O==2&&$.parentNode==null&&this.afP)this._.appendChild($);if(O!=2&&$.parentNode!=null)this._.removeChild($);
if(O>2){O-=3;var C=this.al[2*O],M=this.al[2*O+1];r[2]=C;r[3]=M;this.Bp.o(C);this.Kh.o(M);this.vg.o(1)}var l=this.k();
r[this.a7N*2]=l.x;r[this.a7N*2+1]=l.y;this.a7N=l.q;this.o({q:l.q,x:r[l.q*2],y:r[l.q*2+1]})}if(this.Bp.k()<1)this.Bp.o(1);
if(this.Kh.k()<1)this.Kh.o(1);this.a(new k6(_.E.V,!1))};bA.prototype.o=function(F){this.vg.o(F.q);var r=F.x,$=F.y;
if(F.q==2){var C=this.aiH,M=this.as_,l=this.al;r=j.Om.QX(F.x,M,l[0],C);$=j.Om.QX(F.y,M,l[1],C)}this.Bp.o(r);
this.Kh.o($);if(F.q==0){this.Bp.Xg();this.Kh.Xg();this.yi.Xg()}else{this.Bp.VS();this.Kh.VS();this.yi.VS()}};
bA.prototype.k=function(){var F=this.Bp.k(),r=this.Kh.k(),$=this.vg.k();if($==2){var C=this.aiH,M=this.as_,l=this.al;
F=j.Om.Xv(F,M,l[0],C);r=j.Om.Xv(r,M,l[1],C);F=Math.round(F);r=Math.round(r)}var k={q:$,x:F,y:r},d=this.ZW.k();
if(this.afP&&d!=0)k.YV=d;return k};function c3(F){au.call(this);this._=y.i("span","");this.aDL=F;var r=F?100:300;
this.Z0=new aS("Off X",-r,r,F?"%":"px",0,!F);this.Ww=new aS("Off Y",-r,r,F?"%":"px",0,!F);this.Z0.Q(_.E.V,this.jz,this);
this.Ww.Q(_.E.V,this.jz,this);this._.appendChild(this.Z0._);this._.appendChild(this.Ww._)}c3.prototype=new au;
c3.prototype.l=function(){this.Z0.l();this.Ww.l()};c3.prototype.jz=function(F){this.a(new k6(_.E.V,!1))};
c3.prototype.aji=function(F){this.Z0.o(F.x);this.Ww.o(F.y)};c3.prototype.azO=function(){return new hx(this.Z0.k(),this.Ww.k())};
c3.prototype.o=function(F,r){var $=F.Hrzn.v,C=F.Vrtc.v;if(this.aDL){$=$.val;C=C.val}this.Z0.o($);this.Ww.o(C);
if(r==!0)this.jz()};c3.prototype.k=function(){var F=this.Z0.k(),r=this.Ww.k();if(this.aDL)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:F}},Vrtc:{t:"UntF",v:{type:"#Prc",val:r}}};
else return{classID:"Pnt",Hrzn:{v:F,t:"doub"},Vrtc:{v:r,t:"doub"}}};function ik(F,r){au.call(this);this._=y.i("button");
this.NU=[{WV:3,x_:[]},{WV:3,x_:[12,6],gE:0},{WV:3,x_:[0,6],gE:1,Qn:1}];this.v0=cK.Jn.Mv();this.aEp=F;
this.ke=r;this._.addEventListener("click",this.QF.bind(this),!1);var $=y.i("canvas","gsicon");this.Tg=$.getContext("2d");
this._.appendChild($);var C=y.i("span");C.textContent=" \u25BC";this._.appendChild(C);this.uf=new au;
this.uf.parent=this;this.uf._=y.i("div","floatcont form label6");var M=this.uf._;y.B(M,"width: 15em;");
this.bP=[r?new jm("Fill First"):new bc([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new a8([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new a8([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new eT("Limit",1,50,null,null,null,!0,2.5),new gs([19,9,2])];
for(var O=0;O<this.bP.length;O++){var l=this.bP[O];if(gw==0||O!=0||!r)M.appendChild(l._);l.Q(_.E.V,this.jz,this)}y.Hd(M);
this.PG=[];var k=this.O2.bind(this);for(var O=0;O<this.NU.length;O++){var d=y.i("button","fitem");this.PG.push(d);
M.appendChild(d);d.addEventListener("click",k,!1);var $=y.i("canvas","gsicon"),I=$.getContext("2d");
d.appendChild($);this.adF(I,40,20,this.NU[O])}}ik.prototype=new au;ik.prototype.QF=function(F){var r=this._.getBoundingClientRect(),$=new k6(_.E.c,!0);
$.data={R:_.m.$a,g$:this.uf,x:r.left,y:r.top+r.height+4,Cl:!0};this.a($)};ik.prototype.jz=function(F){var r=this.bP,$=r.indexOf(F.target),C=r[$].k(),M=this.v0;
if($==0)M.QK=this.ke?C?1:0:C;if($==1)M.gE=C;if($==2)M.Qn=C;if($==3)M.cR=C;if($==4){var l=M.x_=C==""?[]:C.split(" ").map(parseFloat);
if(!this.aEp)for(var O=0;O<l.length;O++)l[O]*=M.WV}this.a(new k6(_.E.V,!1))};ik.prototype.O2=function(F){var r=this.PG.indexOf(F.currentTarget),$=this.NU[r],C=this.v0;
if($.gE!=null)C.gE=$.gE;if($.Qn!=null)C.Qn=$.Qn;C.x_=$.x_.slice(0);if(C.WV==null)C.WV=3;for(var O=0;
O<C.x_.length;O++)C.x_[O]*=C.WV/$.WV;this.a(new k6(_.E.V,!1))};ik.prototype.l=function(){for(var O=0;
O<this.bP.length;O++)this.bP[O].l()};ik.prototype.o=function(F){this.v0=j.N(F);var r=this.bP;if(F.QK!=null)r[0].o(this.ke?F.QK==1:F.QK);
if(F.gE!=null)r[1].o(F.gE);if(F.Qn!=null)r[2].o(F.Qn);if(F.cR!=null)r[3].o(F.cR);r[3].fC(F.Qn==0);if(F.x_!=null){var $=F.x_.slice(0);
if(!this.aEp)for(var O=0;O<$.length;O++)$[O]/=F.WV;r[4].o($.join(" "))}this.adF(this.Tg,40,16,F)};ik.prototype.k=function(){return j.N(this.v0)};
ik.prototype.adF=function(F,r,$,C){y.jd(F.canvas,r,$);var M=C.x_?C.x_:[],l=C.WV;if(l==null)l=3;else{l=Math.min(5,l);
M=M.slice(0);for(var O=0;O<M.length;O++)M[O]*=l/C.WV}F.clearRect(0,0,r,$);F.setLineDash(M);F.lineCap=["butt","round","square"][C.gE];
F.lineJoin=["miter","round","bevel"][C.Qn];F.lineWidth=l;F.beginPath();F.moveTo(0,$/2);F.lineTo(r*2,$/2);
F.stroke()};function dR(F){i_.call(this,F,!1,"contourbutton",34*13,16*13,d3.Xh,!0);this.Rw=new gs([12,86],null,16);
this.Rw.Q("input",this.yA,this);this.uf._.appendChild(this.Rw._);this.aiC=null;this.Ac="";this.uk=null;
this.o(fW.Mv())}dR.prototype=new i_;dR.prototype.l=function(){i_.prototype.l.call(this);this.Rw.l()};
dR.prototype.yZ=function(F){this.o(this.aiC[F.target.k()[0]]);this.a(new k6(_.E.V))};dR.prototype.yA=function(F){this.Ac=this.Rw.k().toLowerCase();
this.a3R()};dR.aDJ=!1;dR.prototype.ps=function(){if(!this.GU)return;var F=this.pQ;if(F==null||!dR.aDJ){var r=new k6(_.E.c,!0);
r.data={R:_.m.f0,jg:{url:"rsrc/basic/fa.zip"}};this.a(r);dR.aDJ=!0}else{var $=Date.now(),C=Math.floor(38*y.ha()),M=Math.floor(38*y.ha());
this.uk=[];for(var O=0;O<F.length;O++){if(F[O].a4m==null)F[O].a4m=dR.ae3(F[O],C,M);this.uk.push(F[O].a4m)}this.a3R();
this.GU=!1}};dR.prototype.a3R=function(){var F=Math.floor(38*y.ha()),r=Math.floor(38*y.ha());this.aiC=[];
var $=[],C=[],M=this.pQ;for(var O=0;O<M.length;O++){if(M[O].tV.toLowerCase().indexOf(this.Ac)==-1)continue;
this.aiC.push(M[O]);$.push(this.uk[O]);C.push(M[O].tV)}this.kL.pD($,C,F,r)};dR.prototype.o=function(F){this.Y5=dR.P(F);
this.KB()};dR.prototype.KB=function(){var F=Math.floor(23*y.ha()),r=Math.floor(23*y.ha()),$=dR.ae3(this.Y5,F,r);
this.rO.setAttribute("src",$);y.nC(this.rO,F,r)};dR.prototype.k=function(){return dR.P(this.Y5)};dR.P=function(F){return{tV:F.tV,Lz:F.Lz,M:Z.kf.I4(F.M),sc:F.sc.P()}};
dR.Ee=null;dR.Tg=null;dR.ae3=function(F,r,$){var C=F.sc,M=Math.min(r/C.r,$/C.$)*.9,l=new hS;l.translate(-.5,-.5);
l.scale(.95,.95);l.translate(.5,.5);l.scale(M*C.r,M*C.$);l.translate((r-M*C.r)/2,($-M*C.$)/2);var k=j.q6(r,$);
k.save();k.fillStyle="black";k.clearRect(0,0,r,$);k.setTransform(l.xz,l.X,l.gb,l.G0,l.P6,l.jw);j.w.gW(F.M,k,0,0);
k.restore();var d=UPNG.encode([k.getImageData(0,0,r,$).data.buffer],r,$,0);return"data:image/png;base64,"+dN.Ml(d)};
function kj(F){i_.call(this,F,!1,"ICCButton",16*13,12*13,d3.SK,!0);this.kL.Bm(1)}kj.prototype=new i_;
kj.prototype.mF=function(){var F="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var O=0;O<F.length;O++)F[O]="luts/"+F[O]+".CUBE";return F};kj.prototype.yZ=function(F){this.o(this.pQ[F.target.k()]);
this.a(new k6(_.E.V))};kj.prototype.ps=function(){if(!this.GU)return;var F=Math.floor(1*y.ha()),r=Math.floor(1*y.ha()),$=[],C=[],M=this.pQ;
for(var O=0;O<M.length;O++){var l=M[O].Nm.v.split("\\").pop().split("/").pop();C.push(l);$.push(kj.SM(M[O],F,r))}this.kL.pD($,C,F,r);
this.GU=!1};kj.SM=function(F,r,$){var C=y.i("canvas"),k="ICC / 3DL / look / cube";C.width=r;C.height=$;
var M=C.getContext("2d"),l=Math.floor(14*y.ha());M.font=l+"px sans-serif";if(F.Nm)k=F.Nm.v.split("\\").pop().split("/").pop();
M.fillText(k,10,l);return C.toDataURL()};kj.prototype.KB=function(){var F=Math.floor(120*y.ha()),r=Math.floor(20*y.ha());
this.rO.setAttribute("src",kj.SM(this.Y5,F,r));y.nC(this.rO,F,r)};function ca(){au.call(this);this.MM=null;
this._=y.i("span","fitem");this.Nu=new aF([14,9]);this.aHX=new eT(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.hB=new ik;this.vj=[this.Nu,this.aHX,this.hB];for(var O=0;O<this.vj.length;O++){var F=this.vj[O];
this._.appendChild(F._);F.parent=this;F.Q(_.E.V,this.jz,this)}}ca.prototype=new au;ca.prototype.l=function(){for(var O=0;
O<this.vj.length;O++)this.vj[O].l()};ca.prototype.Db=function(F,r){this.Nu.Db(F,r)};ca.prototype.jz=function(F){var r=this.MM,$=this.Nu.k();
cK.iA(r,$);r.strokeStyleLineWidth.v.val=this.aHX.k();if(F.target==this.hB)cK.Ok.write(r,this.hB.k());
this.MM=r;this.a(new k6(_.E.V,!1))};ca.prototype.o=function(F,r,$){this.MM=j.N(r);var C=cK.XC(r);this.Nu.o(F,C,$);
this.aHX.o(r.strokeStyleLineWidth.v.val);this.hB.o(cK.Ok.vS(r))};ca.prototype.k=function(){return j.N(this.MM)};
function dO(F){var r=[[18,0],[18,1],[18,2],[18,3]],$=a8.Jl(["set/front","set/union","set/difference","set/intersection"]);
a8.call(this,F?[12,36]:null,$,r)}dO.prototype=new a8;function id(){au.call(this);this._=y.i("button","fitem bbtn");
y.TX(this._,this.Pt.bind(this));this.uf=new au;this.uf._=y.i("div","floatcont form");y.B(this.uf._,"max-width: 200px;");
this.uf.parent=this;var F=gm;this.FE=[new jm("Start"),new jm("End"),new F([12,41],0,100,"px",null,!0,null,!0),new F([12,80,0],0,100,"px",null,!0,null,!0),new F("Concavity",-50,50,"%",null,null,null,!0)];
for(var O=0;O<this.FE.length;O++){var r=this.FE[O];r.parent=this;r.Q(_.E.V,this.ms,this);this.uf._.appendChild(r._)}this.alI=y.i("div");
this.uf._.appendChild(this.alI)}id.prototype=new au;id.prototype.o=function(F){for(var O=0;O<5;O++)this.FE[O].o(F[O]);
this.vr()};id.prototype.k=function(F){var r=[];for(var O=0;O<5;O++)r[O]=this.FE[O].k();return r};id.prototype.l=function(){this._.textContent=dG.get([12,93,4]);
for(var O=0;O<this.FE.length;O++)this.FE[O].l()};id.prototype.ms=function(F){this.a(new k6(_.E.V,!1));
this.vr()};id.prototype.vr=function(F){var r=this.k(),$=200,C=60;r[2]/=y.ha();r[3]/=y.ha();var M=j.w.tQ.ns(0,C/2,$,C/2,5,r),l=j.w.CS(M);
this.alI.innerHTML="<svg width=\""+$+"\" height=\""+C+"\" class=\"gsicon\">\t\t\t<path d=\""+l.Yk+"\" />\t\t\t</svg>"};
id.prototype.Pt=function(F){if(y.D4(this.uf._))return;F.stopPropagation();var r=this._.getBoundingClientRect(),$=new k6(_.E.c,!0);
$.data={R:_.m.$a,g$:this.uf,x:r.left,y:r.top+r.height,Cl:!0};this.a($)};function aX(){au.call(this);
this._=y.i("div");this.rA=[];this.aAy=[];var F=this.cO=y.i("div"),r=y.i("h2");r.textContent="Create Teams";
F.appendChild(r);r.style.margin="26px 0 16px 0";var $=new jC("More about Teams",!1,null,!0);r.appendChild($._);
$._.style.float="right";$.Q("click",this.aFC,this);this.x0=y.i("div");F.appendChild(this.x0);this.a62=new gs("Team Name",null,10);
F.appendChild(this.a62._);var C=this.avD=new jC("Create Team",null,null,!0);F.appendChild(C._);C.Q("click",this.ad$,this);
var r=y.i("h2");r.textContent="Join Teams";F.appendChild(r);r.style.margin="26px 0 16px 0";this.Of=y.i("div");
F.appendChild(this.Of);this.a5o=new gs("Team ID",null,10);F.appendChild(this.a5o._);var C=new jC("Join Team",null,null,!0);
F.appendChild(C._);C.Q("click",this.ad$,this);this.auf;this.a2L=this.wK.bind(this);this.ad8=this.amj.bind(this);
this.aru=!1;this.Aq();this.Zr=null;this.a2c=""}aX.prototype=new au;aX.prototype.aFC=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.MN,link:"https://www.photopea.com/api/accounts#teams"};this.a(r)};aX.prototype.Aq=function(){clearTimeout(this.azX);
this.azX=setTimeout(this.ad8,this.Zr?10:3e3)};aX.prototype.amj=function(){var F=ht.WL();if(document.hidden||!y.D4(this._)||F==null){this.Aq();
return}var r=ht.fM();if(this.Zr==null&&r==null)return;ht.bx(this.Zr?this.Zr:r,this.a2L);this.aru=!0;
this.Zr=null};aX.prototype.aJz=function(F){F.acc.update=!0;this._.style.pointerEvents="none";this._.style.opacity="0.5";
if(this.aru)this.Zr=F;else{clearTimeout(this.azX);ht.bx(F,this.a2L)}};aX.prototype.O1=function(F){var r=typeof F=="string"?this.auf:this.rA.indexOf(F.target),$=this.aAy[r],C=$[0],M=ht.fM();
if(M==null)M={};var l=M.acc,k=l.tjoin,d=l.tstart;if(C=="leave"){k.splice(k.indexOf($[1]),1)}if(C=="add"||C=="remove"||C=="delTeam"||C=="showRename"||C=="rename"){var I=-1,c=0;
for(var O=0;O<d.length;O++){c+=d[O][1].length;if(d[O][2]==$[1])I=O}var Q=d[I];if(C=="add"){var x=ht._q();
if(x&&x[0]==0&&x[1][2]<=c){alert("You can have at most "+x[1][2]+" members in your Premium.");return}Q[1].push($[2])}if(C=="remove")Q[1].splice(Q[1].indexOf($[2]),1);
if(C=="delTeam"){if(Q[1].length!=0){alert("Remove members first.");return}d.splice(I,1)}if(C=="showRename"){var U=new k6(_.E.c,!0);
U.data={R:_.m.Oe,rS:"namewindow",Ir:Q[0],Oa:this.O1.bind(this)};this.a(U);this.auf=r;$[0]="rename";return}if(C=="rename")Q[0]=F}this.aJz(M)};
aX.prototype.ad$=function(F){var r=this.avD==F.target,$=(r?this.a62:this.a5o).k().trim();if($==""){alert("The Team "+(r?"Name":"ID")+" is empty.");
return}if(!r){$=parseInt($);if(isNaN($)){alert("The ID must be a number");return}}var C=ht.fM();if(C==null)C={};
var M=C.acc;if(M==null)M=C.acc={};var l=M.tstart,k=M.tjoin;if(r){if(l==null)l=M.tstart=[];if(l.length>5){alert("You can have at most 5 teams");
return}l.push([$,[]])}else{if(l)for(var O=0;O<l.length;O++)if(l[O][2]==$){alert("You are the owner of this team");
return}if(k==null)k=M.tjoin=[];if(k.indexOf($)!=-1){alert("You already asked to join this team.");return}M.tjoin.push($)}M.update=!0;
this.aJz(C)};aX.prototype.wK=function(){this.aru=!1;var F=ht.WL(),r=F!=null,$=this.cO.parentNode!=null;
if(r!=$){y.RR(this._);if(r)this._.appendChild(this.cO);else this._.textContent="Log In to access Team Settings."}if(!r)return;
var C=ht.fM();if(C==null)C={};var M=C.acc;if(M==null)M={};var l=JSON.stringify(M)+"===="+JSON.stringify(F);
if(l!=this.a2c){this.a2c=l;var k=this.x0,d=this.Of;y.RR(k);y.RR(d);var I=this.rA=[],c=this.aAy=[],Q=this.O1.bind(this);
function x(R,D){R.addEventListener("click",Q);I.push(R);c.push(D)}function U(H,R){var G=y.i("div"),D="rgba(255,255,255,0.15)";
G.appendChild(z("ID: "+H[2],54,D));G.appendChild(z(H[0],160,null,!0));if(R){G.appendChild(z(H[1].length+" members",80,null,!0))}else{G.appendChild(z(H[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<H[1]*1e3)G.appendChild(z("Premium",80,"rgba(0,140,0,1)"))}var h=z("",120);G.appendChild(h);
y.B(h,"float:right;text-align:right");if(R){var K=new jC("Rename",null,null,!0);x(K,["showRename",H[2]]);
h.appendChild(K._)}var K=new jC(R?"Delete":"Leave",null,null,!0);x(K,[R?"delTeam":"leave",H[2]]);h.appendChild(K._);
return G}function S(R,D,a){var G=y.i("div");G.style.paddingLeft="46px";G.appendChild(z(D?"\u2713":"...",8,D?"#229922":"#aa7700"));
G.appendChild(z(R[1],200));G.appendChild(z(R[2],240));var h=z("",120);G.appendChild(h);y.B(h,"float:right;text-align:right");
var K=new jC(D?"Remove":"Add",null,null,!0);x(K,[D?"remove":"add",a,R[0]]);h.appendChild(K._);return G}function z(R,D,h,K){var X=y.i("span");
X.textContent=R;y.B(X,"display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+D+"px;  "+(h!=null?"background-color:"+h+";":"")+(K?"font-weight:bold;":""));
return X}var V=M.tstart,t=M.tjoin,Y=F.wantToJoin,i=F.inTeams;if(V)for(var J=0;J<V.length;J++){var H=V[J],v=Y["t"+H[2]];
if(v==null)v=[];var n={};for(var O=0;O<v.length;O++)n["u"+v[O][0]]=v[O];var G=U(H,!0);k.appendChild(G);
G.style.marginTop="10px";for(var O=0;O<H[1].length;O++){var g=H[1][O],W=n["u"+g];if(W==null)W=[g,"========","... user has left your team"];
delete n["u"+g];var L=S(W,!0,H[2]);k.appendChild(L)}for(var b in n){var W=n[b],L=S(W,!1,H[2]);k.appendChild(L)}}if(t){var T={};
for(var O=0;O<i.length;O++)T["t"+i[O][2]]=i[O];for(var J=0;J<t.length;J++){var a=t[J],H=T["t"+a],G=U(H?H:["==========",-1,a],!1);
d.appendChild(G)}}this.a(new k6(_.E.V))}if(this.Zr==null){this._.style.pointerEvents="auto";this._.style.opacity="1"}this.Aq()};
function j0(){au.call(this);this._=y.i("span","fitem SymButton");var F=this.zL=new jC("<img src=\""+PIMG.sym+"\" class=\"autoscale gsicon\" />");
this._.appendChild(F._);y.an(F._,this.ux.bind(this));this.fa=null;this.l()}j0.prototype=new au;j0.prototype.l=function(){if(this.fa)this.fa.l()};
j0.prototype.ux=function(F){var r=this.fa;if(r==null){var $=40,C=40,M=y.i("canvas"),l=M.getContext("2d");
M.width=$;M.height=C;var k=new hS($,0,0,C,0,0);l.lineWidth=2;var d=[{name:"No Symmetry",NA:!0}],I=j.q1.list,c=[{s:_.E.O,J:B.I6,h:{R:"pathedit",vz:"sspath",Y:-1}}];
for(var O=0;O<I.length;O++){l.clearRect(0,0,$,C);var Q=j.q1.mX(O,5);j.b.U(Q.n,k,Q.n);for(var x=0;x<Q.n.length;
x++)Q.n[x]=Math.round(Q.n[x]);l.beginPath();Typr.U.pathToContext({cmds:Q.C0,crds:Q.n},l);l.rect(0,0,$,C);
l.stroke();var U={name:I[O][0],DA:l.canvas.toDataURL()};d.push(U);if(O<8)c.push({s:_.E.O,J:B.I6,h:{R:"pathedit",vz:"new",h7:[O,0]}});
else{U.sub=[];var S={sub:[]};c.push(S);for(var x=0;x<12;x++){U.sub.push({name:"Rays: "+(2+x)});S.sub.push({s:_.E.O,J:B.I6,h:{R:"pathedit",vz:"new",h7:[O,2+x]}})}}}d[d.length-1].NA=!0;
d.push({name:"Selected Path"},{name:"Transform Symmetry"});c.push({s:_.E.O,J:B.I6,h:{R:"pathedit",vz:"sspath",Y:0}},{s:_.E.O,J:B.I6,h:{R:"pathedit",vz:"sspath",Y:1}});
r=this.fa=new aj(d,c)}var z=this.zL._.getBoundingClientRect();r.l();r.parent=this;var S=new k6(_.E.c,!0);
S.data={R:_.m.$a,g$:r,x:z.x,y:z.y+z.height};this.a(S)};function il(){au.call(this);this.Vh=[16,!0,!0];
this._=y.i("span","");this.WT=[new eT([12,24],0,255),new jm([12,25,1]),new jm([12,25,0])];for(var O=0;
O<3;O++){var F=this.WT[O];F.parent=this;F.o(this.Vh[O]);this._.appendChild(F._);F.Q(_.E.V,this.jz,this)}}il.prototype=new au;
il.prototype.jz=function(){for(var O=0;O<3;O++)this.Vh[O]=this.WT[O].k();this.a(new k6(_.E.V,!1))};il.prototype.o=function(F){this.Vh=F.slice(0);
for(var O=0;O<3;O++)this.WT[O].o(F[O])};il.prototype.k=function(){return this.Vh.slice(0)};il.prototype.l=function(){for(var O=0;
O<3;O++)this.WT[O].l()};function bk(F,r){au.call(this);if(r==null)r=!1;this.uk=[];this.a68=Math.floor(120*y.ha());
this.aIt=Math.floor(23*y.ha());this.QJ=0;this.Zo=[];this.X_=[];for(var $ in j.gd.I){if(($=="warpCustom"||$=="warpCylinder")&&!r)continue;
this.Zo.push($);this.X_.push(j.gd.I[$])}this._=y.i("span","fitem warpbutton");this.uf=new au;this.uf._=y.i("div","floatcont");
if(F){this.G3=F;this.DT=y.i("label","flabel");this._.appendChild(this.DT)}this.R=y.i("button");this._.appendChild(this.R);
y.TX(this.R,this.Pt.bind(this));this.ty=new cx(!0);this.uf._.appendChild(this.ty._);this.ty.Q(_.E.V,this.a7$,this);
y.B(this.uf._,"width:"+Math.floor(8+this.a68/y.ha())+"px;");this.l()}bk.prototype=new au;bk.prototype.Ck=function(F){this.DT.textContent=F};
bk.prototype.l=function(){if(this.G3)this.DT.innerHTML=dG.get(this.G3)+":";this.KB()};bk.amR={};bk.auy=function(F,r,$){var C=dG.get(j.gd.I[F]),M=C+"-"+F+"-"+r+"-"+$,l=bk.amR[M];
if(l)return l;var k=bk.Tg;if(d==null){var d=y.i("canvas");k=bk.Tg=d.getContext("2d")}var d=k.canvas;
if(d.width!=r||d.height!=$){d.width=r;d.height=$}k.font=Math.floor(13*y.ha())+"px sans-serif";k.lineWidth=1;
k.strokeStyle="#000000";var I=Math.floor(16*y.ha()),c=new cS(0,0,I,I);k.clearRect(0,0,d.width,d.height);
var Q=j.gd.gd(F,F=="warpCylinder"?[0,0,1,1,-.2,-.3,1]:.3,!0,0,0,1);j.gd.aEE(Q[3],c);var x=j.b.Vs(c);
x.C0.push("M","L","M","L");x.n.push(0,I/2,I,I/2);x.n.push(I/2,0,I/2,I);x=j.b.np(x);x=j.b.V0(x,I/5);j.$$.U(Q,x.n,c);
j.b.U(x.n,new hS(1,0,0,1,Math.floor(8*y.ha())+.5,Math.floor(3*y.ha())+.5),x.n);k.beginPath();Typr.U.pathToContext({cmds:x.C0,crds:x.n},k);
k.stroke();k.fillText(C,Math.floor(40*y.ha()),Math.floor(16*y.ha()));l=bk.amR[M]=d.toDataURL();return l};
bk.prototype.Pt=function(F){if(y.D4(this.uf._))return;F.stopPropagation();var r=this.a68,$=this.aIt;
for(var O=0;O<this.Zo.length;O++)this.uk[O]=bk.auy(this.Zo[O],r,$);this.ty.pD(this.uk,null,r,$);var C=this.R.getBoundingClientRect(),M=new k6(_.E.c,!0);
M.data={R:_.m.$a,g$:this.uf,x:C.left,y:C.top+C.height+4};this.a(M)};bk.prototype.a7$=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.GW,g$:this.uf};this.a(r);this.QJ=F.target.k()[0];this.KB();this.a(new k6(_.E.V))};bk.prototype.KB=function(){var F=this.a68,r=this.aIt;
this.ty.o([this.QJ]);this.R.innerHTML="<img src=\""+bk.auy(this.Zo[this.QJ],F,r)+"\" class=\"gsicon\" />";
y.nC(this.R.firstChild,F,r)};bk.prototype.k=function(){return this.Zo[this.QJ]};bk.prototype.o=function(F){this.QJ=this.Zo.indexOf(F);
this.KB()};function jj(F,r,$){au.call(this);if(F==null)F=!1;if(r==null)r=!1;if($==null)$=!1;this.ajO=r;
this.gd=null;this.UQ=new bk([12,22],$);this.UQ.parent=this;this.UQ.Q(_.E.V,this.yE,this);this.Ls=new bc([22,0],[[22,4,0],[22,4,1]]);
this.Ls.Q(_.E.V,this.yE,this);var C=F?eT:gm;this.hf=new C([22,1],-100,100,"%");this.G8=new C("Horizontal Distortion:",-100,100,"%");
this.RG=new C("Vertical Distortion:",-100,100,"%");this.hf.parent=this.G8.parent=this.RG.parent=this;
this.hf.Q(_.E.V,this.yE,this);this.G8.Q(_.E.V,this.yE,this);this.RG.Q(_.E.V,this.yE,this)}jj.prototype=new au;
jj.prototype.l=function(){this.UQ.l();this.Ls.l();this.hf.l();var F=this.ajO?1:100;this.G8.Ck(dG.get([22,2]).substring(0,F)+":");
this.RG.Ck(dG.get([22,3]).substring(0,F)+":")};jj.prototype.yE=function(){var F=this.gd,r=this.UQ.k(),$=F.warpStyle.v.warpStyle;
if(r=="warpCustom")j.gd.ua(F,j.gd.YR(F));else delete F.customEnvelopeWarp;F.warpStyle.v.warpStyle=this.UQ.k();
F.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.Ls.k()];var C=this.hf.k();F.warpPerspective.v=this.G8.k();F.warpPerspectiveOther.v=this.RG.k();
if(r=="warpNone"||r=="warpCustom"){C=0;F.warpPerspective.v=0;F.warpPerspectiveOther.v=0}else if($=="warpNone"||$=="warpCustom"||$=="warpCylinder")C=50;
if(r!="warpCylinder"){F.warpValue={t:"doub",v:C};delete F.warpValues}else{F.warpValues=B.hL._V([0,100,100,0,.15,.2,1]);
delete F.warpValue}this.a(new k6(_.E.V,!1));this.o(F)};jj.prototype.k=function(F){return j.N(this.gd)};
jj.prototype.o=function(F){this.gd=j.N(F);var r=F.warpStyle.v.warpStyle,$=r=="warpNone"||r=="warpCustom"||r=="warpCylinder";
this.UQ.o(r);if(!$){this.Ls.o(F.warpRotate.v.Ornt=="Hrzn"?0:1);this.hf.o(F.warpValue.v);this.G8.o(F.warpPerspective.v);
this.RG.o(F.warpPerspectiveOther.v)}var C=[this.Ls,this.hf,this.G8,this.RG];for(var O=0;O<C.length;O++)if($)C[O].Xg();
else C[O].VS()};function aM(F,r,$){au.call(this);this.aK4={};this._=y.i("div");this.aCb=F;this.U6=null;
this.JE=new hx(0,0);this.Ft="position:relative;overflow:hidden;background-color:var(--bg-canvas);";this.aHq=r;
this.aDI=$;this.o5=null;this.mk=new y.PZ(this._);this.GZ("grab");this.Ee=y.i("canvas","canv");this._.appendChild(this.Ee);
this.Tg=this.Ee.getContext("2d",{willReadFrequently:!0});this.ajT=null;this.BY=null;this.ZP=0;this.any=0;
this.azu=0;this.avc=0;this.a8X=this.a57.bind(this);this.aec=null;this.f=new ew({r:1,$:1});this.ON=null;
this.Op=null;this.vn=[];this.at0=0;this.qZ=0;this.ayh=this.Pg.bind(this);this.awF=this.gB.bind(this);
this.av5=this.$n.bind(this);this.al2=this.sq.bind(this);this.aHl=0;this.xi=null;this.aIA(this.Ee);this.NL(this)}aM.prototype=new au;
aM.prototype.acg=function(F){this.aK4=F;this.nA()};aM.yb=function(F){var r=new ac(!0);if(F>=0)r.DQ("Space");
if(F>=1){r.DQ("ControlLeft");if(F==2)r.DQ("AltLeft")}return r};aM.prototype.JG=function(F){var r=this.o5,$=null;
if(F.D(ac.iL)){$="grab";if(F.D(ac.Xf)){$="zoom-in";if(F.D(ac.AH))$="zoom-out"}}this.U6=$;if($)r=$;this.mk.wK(r,this.Ft);
if(F.D(ac.Xf)){var C=0;if(F.D(ac.Ur))C=1;if(F.D(ac.Qb))C=-1;if(C!=0){this.w7(new hx(this.Ee.width/2,this.Ee.height/2),C==1)}}};
aM.prototype.GZ=function(F){this.o5=F;if(this.U6)return;this.mk.wK(F,this.Ft)};aM.prototype.aIA=function(F){y.TX(F,this.ayh);
y.C7(F);F.addEventListener("wheel",this.al2,!1)};aM.prototype.NL=function(F){F.Q("viewchange",this.ayF,this)};
aM.prototype.ayF=function(F){var r=this.f.bU,$=F.currentTarget.CF();this.f.bU=$.bU;this.f.p=$.p.P();
if(r!=$.bU)this.YK();this.nA()};aM.prototype.CF=function(){return{bU:this.f.bU,p:this.f.p}};aM.prototype.o=function(F,r,$,C){var M=F[0].$Y;
if(this.BY!=null&&this.BY[0].$Y.Mp(M)){}else{this.f.xB={r:M.r,$:M.$};this.f.bU=1;this.f.p=new hx(0,0)}this.BY=F;
this.YK(C);this.jS();this.ZP=0;this.any=Date.now();this.azu=0;this.avc=r==null?0:r;if($)this.aK4=$;this.a57(C)};
aM.prototype.sq=function(F){F.preventDefault();if(F.deltaY==0||Date.now()-this.aHl<100)return;var r=y.Bz(F);
r.x=y.ha()*r.x;r.y=y.ha()*r.y;this.aHl=Date.now();this.w7(r,F.deltaY<0)};aM.prototype.w7=function(F,r){B.aB.wB(this.f,F,r);
this.aAK()};aM.prototype.eH=function(F){var r=this.f,$=this.BY[0].$Y;this.f.bU=B.aB._S($.r,$.$,r.FL.r,r.FL.$);
if(F)this.f.p=new hx(0,0);this.aAK()};aM.prototype.aAK=function(){this.YK();this.a(new k6("viewchange"));
this.a(new k6("zoom"))};aM.prototype.YK=function(F){};aM.prototype.jS=function(){clearTimeout(this.aec)};
aM.prototype.nA=function(F){if(this.BY==null||!y.D4(this.Ee)||F&&F.XS())return;var r=this.f,$=this.BY[0].$Y,C=r.FL,M=C.r,l=C.$,k=this.ajT,H,v=null;
if(k==null||k.length!=C.C()*4){k=this.ajT=j.j(C.C()*4);console.log("creating image data")}else k.fill(0);
var d=this.BY[this.ZP],I=this.Tg,c=r._c(!1),Q=c.P();Q.v4();var x=Date.now(),U=F?F:$,S=j.b.Vs(U).n;j.b.U(S,Q,S);
var z=j.b.qy(S),V=C.R7(z),t=new Uint8Array(k.buffer,0,V.C()*4);r.Md();var Y=new Uint8Array(r.qn.buffer,0,V.C()*4),i=new Uint8Array(d.data);
if(r.bU==1){var J=$.P();J.offset(z.x-U.x,z.y-U.y);j.mR(i,J,Y,V)}else j.scale.dq(i,$,c,Y,V,!1);if(this.aHq)H=Y;
else{H=t;j.HG(t,V.r,V.$,8,U.x,U.y);j.v.O5("norm",Y,V,t,V,V,1)}if(F==null)I.clearRect(0,0,M,l);if(V.C()!=0)I.putImageData(new ImageData(new Uint8ClampedArray(H.buffer,0,V.C()*4),V.r,V.$),V.x,V.y);
if(this.aDI){M=$.r,l=$.$;v=M+" \xD7 "+l+" ("+(M*l/1e6).toFixed(1)+"MP)"}var n=aM.aKc(r.bU,"#ffffff",v);
I.putImageData(n,0,r.FL.$-n.height);var G=this.aK4;if(G){var g=bZ.Lf([.1,.5,1,1]),W=bZ.Lf([1,0,0,1]),L=bZ.Lf([1,1,1,1]),b=bZ.Lf([0,0,0,1]),Q=r._c(!1);
Q.v4();I.save();I.setTransform(Q.xz,Q.X,Q.gb,Q.G0,Q.P6,Q.jw);I.strokeStyle=W;if(G.aJl){bZ.wI(G.aJl,null,I);
I.lineWidth=1/r.bU;I.stroke()}I.strokeStyle=L;if(G.afy){bZ.wI(G.afy,null,I);I.lineWidth=1/r.bU;I.stroke();
I.strokeStyle=b;I.setLineDash([4/r.bU,4/r.bU]);I.stroke();I.setLineDash([])}I.strokeStyle=g;I.fillStyle=bZ.Lf([1,1,1,1]);
if(G.nW){bZ.wI(G.nW,null,I);I.lineWidth=1/r.bU;I.stroke()}if(G.Ce){bZ.UD(G.Ce,I,r,.5);I.lineWidth=2/r.bU;
I.stroke();I.fill()}if(G.vR){I.font=16/r.bU+"px sans-serif";var T=1/r.bU;for(var O=0;O<G.vR.length;O++){var a=G.vR[O],R=a[0],D=a[1]+6/r.bU,h=a[2];
I.fillStyle="black";I.fillText(h,R-T,D);I.fillText(h,R+T,D);I.fillStyle="white";I.fillText(h,R,D)}}I.restore()}I.getImageData(0,0,1,1)};
aM.at2="";aM.aGp=null;aM.aKc=function(F,r,$){if($==null)$="";var C="z"+F+","+r+","+$;if(C==aM.at2)return aM.aGp;
var M=Math.round(50*y.ha()),l=Math.round(18*y.ha()),k=$==""?0:Math.round(($.length+2)*l*.35),d=y.i("canvas"),I=d.getContext("2d");
d.width=M+k;d.height=l;I.fillStyle="rgba(1,1,1,1)";I.fillRect(0,0,M,l);if($!="")I.fillRect(M+2,0,k,l);
I.font=Math.round(11*y.ha())+"px monospace";I.fillStyle=r;var c=F*100;if(c<100)c=c.toFixed(2);else c=Math.round(c);
c=c+"%";var Q=I.measureText(c).width;I.fillText(c,(M-Q)/2,Math.round(l*.7));if($!=""){var x=I.measureText($).width;
I.fillText($,M+(k-x)/2+1,Math.round(l*.7))}var U=I.getImageData(0,0,M+k,l);aM.at2=C;aM.aGp=U;return U};
aM.prototype.a57=function(F){var r=this.BY,$=r.length,C=this.ZP,M=this.BY[C],l=(C+1)%$;this.nA(F);var k=Date.now();
if($!=1&&r[l].$Y.Mp(M.$Y)){var d=M.VI?parseInt(M.VI.split(",").pop()):30;if(d==0)d=16;if(l==0)this.azu++;
if(this.avc==0||this.azu<this.avc)this.aec=setTimeout(this.a8X,d)}this.ZP=l;this.any=k};aM.prototype.Xt=function(F,r){if(F<=0||r<=0)return;
var $=Math.floor(F*y.ha()),C=Math.floor(r*y.ha());this.f.FL=new cS(0,0,$,C);this.Ee.width=$;this.Ee.height=C;
y.B(this.Ee,"width:"+$/y.ha()+"px; height:"+C/y.ha()+"px; display:block;");this.nA()};aM.prototype.AL=function(F){var r=-1,$=this.vn;
for(var O=0;O<$.length;O++)if($[O].pointerId==F.pointerId)r=O;return r};aM.prototype.Pg=function(F){var r=this.AL(F),$=this.vn;
if(r!=-1)$[r]=F;else $.push(F);if($.length==1){this.xi=F.target;y.dO(window,this.awF);y.an(window,this.av5);
this.ON=y.Bz(F,this.Ee);this.ON.x*=y.ha();this.ON.y*=y.ha();this.JE=this.ON;this.Op=this.f.p.P();if(this.aCb&&this.xi==this.Ee&&!this.U6)this.a(new k6("mousedown"))}else this.at0=this.qZ=hx.BV(y.Bz($[0],this.Ee),y.Bz($[1],this.Ee))};
aM.prototype.gB=function(F){var r=this.AL(F),$=this.vn;if(r!=-1)$[r]=F;var C=this.f,M=this.U6,l=this.BY[this.ZP].$Y.P();
l.r*=C.bU;l.$*=C.bU;var k=y.Bz(F,this.Ee);k.x*=y.ha();k.y*=y.ha();this.JE=k;if(this.aCb&&this.xi==this.Ee&&!M)this.a(new k6("mousemove"));
else if(M=="grab"||M==null){if($.length>1){var d=y.Bz($[0],this.Ee),I=y.Bz($[1],this.Ee),c=new hx(y.ha()*(d.x+I.x)/2,y.ha()*(d.y+I.y)/2),Q=hx.BV(d,I),x=null;
if(Q>this.qZ+50){this.qZ+=50;x=!0}if(Q<this.qZ-50){this.qZ-=50;x=!1}if(x!=null)this.w7(c,x);return}else{var U=k.x-this.ON.x,S=k.y-this.ON.y;
C.p.x=this.Op.x+Math.round(U);C.p.y=this.Op.y+Math.round(S)}this.a(new k6("viewchange"))}};aM.prototype.$n=function(F){var r=this.AL(F),$=this.vn;
$.splice(r,1);if($.length==0){y.Fp(window,this.awF);y.gj(window,this.av5);var C=this.U6;if(F.detail>1){this.f.bU=1;
this.f.p.I_(0,0);this.nA()}if(this.aCb&&this.xi==this.Ee&&!this.U6)this.a(new k6("mouseup"));else{if(C=="zoom-in"||C=="zoom-out")this.w7(this.JE,C=="zoom-in")}}else{var M=this.ON=y.Bz($[0],this.Ee);
M.x*=y.ha();M.y*=y.ha()}};aM.prototype.L3=function(F){var r=this.JE;if(F){r=y.Bz(F,this.Ee);r.x*=y.ha();
r.y*=y.ha()}return this.f.Ti(r.x,r.y)};function iJ(){au.call(this);this.LP=null;this.a$=null;this.Rj=null;
this.CQ=null;this.az7="";this.t_=[];this.lj=0;this.gK=[];this.e=null;this.Mu=0;var F=this._=y.i("div",""),r=this.ali=y.i("div","form");
F.appendChild(r);var $=this.G3=y.i("span");y.B($,"font-size:1.3em; font-weight:bold; margin-right:2em;");
var C=this.a36=new jm([25,2,0]);C.o(!0);r.appendChild(C._);C.Q(_.E.V,this.R0,this);var M=this.abL=new jm([25,2,1]);
M.o(!0);r.appendChild(M._);M.Q(_.E.V,this.R0,this);var l=new jC("?",null,null,!0);r.appendChild(l._);
l.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
var k=new eu(" ");r.appendChild(k._);var d=this.aHV=new gs([25,1,1]);r.appendChild(d._);d.Q(_.E.V,this.R0,this);
this.ke=new f1(14);this.ke.apm(3);this.ke.Q(_.E.V,this.a7t,this);var I=this.abc=new jC(y.UE("reload",null,"autoscale"),null,[25,1,2]);
r.appendChild(I._);I.Q("click",this.cE,this);this.aBQ=this.ahF.bind(this);this.II=y.i("div","svggallery scrollable");
F.appendChild(this.II);this.II.addEventListener("scroll",this.a7q.bind(this))}iJ.prototype=new au;iJ.prototype.Db=function(F){this.e=F};
iJ.prototype.l=function(){this.G3.textContent=dG.get([25,0]);this.ke.l();this.a36.l();this.abL.l();this.aHV.l()};
iJ.prototype.Xt=function(F,r){if(this.LP&&this.LP.x==F&&this.LP.y==r)return;this.LP=new hx(F,r);y.B(this.ali,"width:"+F+"px; margin-bottom:12px;");
var $=this.ali.getBoundingClientRect();r-=(450<F?30:60)+12;y.B(this.II,"width:"+F+"px; height:"+r+"px;  line-height:0;");
if(y.D4(this._))this.R0()};iJ.prototype.o=function(F){this.a$=F;this.R0()};iJ.prototype.a7q=function(F){var r=this.II;
if(r.scrollTop+r.clientHeight+10>=r.scrollHeight){this.R0(!0)}};iJ.prototype.a7t=function(F){this.Rj=null;
this.R0()};iJ.prototype.ahF=function(F){if(Date.now()-this.Mu<2e3)return;this.Mu=Date.now();this.lj=this.gK.indexOf(F.currentTarget);
var r=this.qN(this.a$.x,this.a$.y);if(r[1]){var $=r[1].largeImageURL,C=new XMLHttpRequest;C.responseType="arraybuffer";
C.open("GET",$,!0);C.onload=this.abb.bind(this);C.send();return}this.aIS(r)};iJ.prototype.abb=function(F){var r=F.target.response,$=dN.GN(r),C=dN.LD($),M=C.YH(r),l=this.qN(this.a$.x,this.a$.y,[r,M[0].$Y.r,M[0].$Y.$]);
this.aIS(l)};iJ.prototype.aIS=function(F){var r=F[0],$=dN.GN(r),C=dN.LD($),M=new kQ("template.psd");
C.YH(r,M);var l=new k6("tempready",!0);l.data={xB:M};this.a(l)};iJ.prototype.cE=function(F){var r=F.target;
this.t_=[];this.Rj=null;this.R0()};iJ.prototype.a2I=function(F){var r=JSON.parse(F.target.response),$=this.CQ=r.hits;
for(var O=0;O<$.length;O++)if($[O].user_id==6314823)$.splice(O,1);this.R0()};iJ.prototype.R0=function(F){if(this.a$==null||this.LP==null||this.e==null)return;
if(this.LP.x<=0)return;var r=this.a$.x,$=this.a$.y;if(Math.min(r,$)<50)return;if(F!=!0){this.gK=[];y.RR(this.II);
this.II.scrollTop=0}if(this.gK.length>300)return;var C=Math.min(1,320/Math.max(r,$)),M=this.LP.P();M.x-=20;
var l=Math.max(1,Math.floor(M.x/(r*C))),k=Math.max(1,Math.ceil(M.y/($*C)));C=M.x/l/r;var d=l*k;if(this.Rj==null){var I=this.e.v7.o3(),c=[];
for(var Q in I){var x=I[Q],U=x[3];if(!this.ke.vX(x))continue;if(x[5]==null||x[5].slice(0,2)=="gf")continue;
c.push(x)}if(c.length==0)c.push(I.DejaVuSans);var S=c.length;for(var O=0;O<S*10;O++){var z=Math.floor(Math.random()*S),V=Math.floor(Math.random()*S),t=c[z];
c[z]=c[V];c[V]=t}c=c.slice(0,10);this.Rj=c}var Y=this.abL.k(),i=this.aHV.k().trim();this.aHV.fC(Y);if(Y&&(this.CQ==null||i!=this.az7)){var J=new XMLHttpRequest,H="https://pixabay.com/api/?image_type=photo"+(i==""?"":"&q="+encodeURIComponent(i))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(i=="")H="//www.photopea.com/plugins/gallery.json";J.open("GET",H,!0);J.onload=this.a2I.bind(this);
J.onerror=function(L){console.log(L.target.response)};J.send();this.az7=i;return}C*=(r*C-24)/(r*C);var v=this.gK.length;
for(var O=0;O<d;O++){var n=this.lj=v+O;if(this.t_[n]==null)this.t_[n]=Math.floor(Math.random()*4294967295);
var G=this.qN(Math.round(r*C),Math.round($*C)),g=G[0];g=P.qV(new Uint8Array(g));var W=y.i("span");W.innerHTML=g;
this.gK.push(W);y.B(W.firstChild,"margin: 0 24px 24px 0; cursor:pointer; border-radius:5px;");this.II.appendChild(W);
W.addEventListener("click",this.aBQ,!1)}};iJ.prototype.qN=function(F,r,$){var C=this.abL.k(),M=this.a36.k(),l=C&&this.CQ.length!=0?this.CQ:null;
if(M&&!C)l=null;if(M&&C&&(this.lj&1)==0)l=null;return cf.tQ(F,r,this.t_[this.lj],this.Rj,$?$:l)};function ij(){au.call(this);
this._=y.i("div");this.cO=null;this.anA=null;this.akF=-1;this.vc={JPG:[{L1:new gm([12,52,0],0,100,"%",null,null,!0),UL:70},{L1:new jm("attach metadata"),UL:!1}],TIFF:[{L1:new jm("attach metadata"),UL:!1}],WEBP:[{L1:new gm([12,52,0],0,100,"%",null,null,!0),UL:70},{L1:new jm("attach metadata"),UL:!1}],GIF:[{L1:new gm([12,52,0],0,100,"%",null,null,!0),UL:100},{L1:new jm([12,23,3]),UL:!1}],PNG:[{L1:new gm([12,52,0],0,100,"%",null,null,!0),UL:100},{L1:new jm("don't use palettes"),UL:!1},{L1:new jm("attach metadata"),UL:!1}],BMP:[{L1:new jm("don't use palettes"),UL:!1}],PDF:[{L1:new gs([12,52,1]),UL:""},{L1:new gm([12,52,0],0,100,"%",null,null,!0),UL:100},{L1:new jm("reverse pages"),UL:!1},{L1:new jm("rasterize all"),UL:!1},{L1:new jm("vectorize text"),UL:!1},{L1:new gm("Add Margin",0,5,"in",2),UL:0},{L1:new jm("add crop marks"),UL:!1}],EMF:[{L1:new gs([12,52,1]),UL:""},{L1:new gm([12,52,0],0,100,"%",null,null,!0),UL:100},{L1:new jm("reverse pages"),UL:!1},{L1:new jm("rasterize all"),UL:!1},{L1:new jm("vectorize text"),UL:!1},{L1:new gm("Add Margin",0,5,"in",2),UL:0}],SVG:[{L1:new jm("add raster graphics"),UL:!0},{L1:new jm("add hidden layers"),UL:!1},{L1:new jm("vectorize text"),UL:!1},{L1:new jm("rasterize text"),UL:!1},{L1:new jm("minify"),UL:!1}],RAW:[{L1:new a8([12,72],["1","3","4"]),UL:2},{L1:new a8([12,34],["8 Bits","16 Bits"]),UL:0},{L1:new a8("Byte Order",["12-34","34-12"]),UL:0}],DDS:[{L1:new bc("Compression",["8x | BC1","4x | BC3","4x | BC7","None"]),UL:0},{L1:new jm("Add Mipmaps"),UL:!0}],AVIF:[{L1:new gm([12,52,0],0,100,"%",null,null,!0),UL:70},{L1:new jm("Smaller files (5x slower)"),UL:!1}],MP4:[{L1:new gm([12,52,0],0,100,"%",null,null,!0),UL:50}],anim:[{L1:new gm("Speed",10,1e3,"%",null,!0,!0),UL:100},{L1:new eT("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),UL:0},{L1:new jm("reverse frames"),UL:!1},{L1:new jm("boomerang"),UL:!1}],slcs:[{L1:new bc([8,11,0],["No Slices","All Slices","User Slices"]),UL:1}],artb:[{L1:new jm([1,16,1]),UL:!0}],hicc:[{L1:new jm("convert to sRGB"),UL:!0}]};
for(var F in this.vc){var r=this.vc[F];for(var O=0;O<r.length;O++){r[O].L1.o(r[O].UL);r[O].L1.Q(_.E.V,this.Sb,this)}}}ij.prototype=new au;
ij.prototype.am5=function(){this.akF=-1};ij.prototype.l=function(){for(var F in this.vc)for(var O=0;
O<this.vc[F].length;O++)this.vc[F][O].L1.l()};ij.prototype.Sb=function(){this.R0();this.a(new k6(_.E.V,!1))};
ij.prototype.R0=function(){var F=this.cO,r=F[0],$=F[1],C=F[2],M=F[3],l=F[4],k=this.vc[r];if(k==null)k=[];
else k=k.slice(0);if($)k=k.concat(this.vc.anim);if(["GIF","PNG","JPG","WEBP"].indexOf(r)!=-1&&C)k=k.concat(this.vc.slcs);
else if(["GIF","PNG","JPG","WEBP","SVG"].indexOf(r)!=-1&&M)k=k.concat(this.vc.artb);if(l)k=k.concat(this.vc.hicc);
var d=F.join(",");if(d!=this.akF){this.akF=d;y.RR(this._);for(var O=0;O<k.length;O++){if(r=="PDF"&&!M&&(O==0||O==2))continue;
this._.appendChild(k[O].L1._);y.Hd(this._)}}var I=this.anA=[];for(var O=0;O<k.length;O++)I.push(k[O].L1.k())};
ij.prototype.IF=function(F,r,$,C,M){this.cO=[F,r,$,C,M];this.R0()};ij.prototype.k=function(){return this.anA.slice(0)};
ij.prototype.o=function(F,r){var $=this.cO,C=$[0],M=this.vc[C],l=Math.min(M.length,F.length);for(var O=0;
O<l;O++)M[O].L1.o(F[O]);this.R0();if(r!=!0)this.Sb()};function fG(){au.call(this);this._=y.i("span","fitem yesno");
this._.style.marginRight="0";this.Wd=!1;this.aDp=new jC("No",!1,"Cancel");this.UP=new jC("Yes",!1,"Confirm");
this._.appendChild(this.aDp._);this._.appendChild(this.UP._);this.aDp.Q("click",this.L0,this);this.UP.Q("click",this.L0,this);
this.l()}fG.prototype=new au;fG.prototype.l=function(){this.aDp.Ck(y.UE("cross",null,"autoscale"));this.UP.Ck(y.UE("checkmark",null,"autoscale"))};
fG.prototype.L0=function(F){this.Wd=F.target==this.UP;this.a(new k6("click",!1))};fG.prototype.k=function(){return this.Wd};
function ev(F){au.call(this);this._=y.i("span","fitem");this.a2H=new jC("\u25BC",null,"Auto Options",!0);
y.TX(this.a2H._,this.akU.bind(this));this._.appendChild(this.a2H._);this.o1=new jC("Auto",null,null,!0);
this.o1.Q("click",this.ms,this);this._.appendChild(this.o1._);this.J3=new i9("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this.J3.Q(_.E.V,this.ms,this);this.J3.o([!1,!1,!1,!0]);this.uf=new au;var r=this.uf._=y.i("div","floatcont form");
y.B(r,"width: 250px;");this.uf.parent=this;r.appendChild(this.J3._);this.aAI=[];for(var O=0;O<2;O++){var $=new eT((O==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);
$.o(.1);$.Q(_.E.V,this.ms,this);this.aAI.push($);r.appendChild($._)}}ev.prototype=new au;ev.prototype.ms=function(F){this.a(new k6(_.E.V,!1))};
ev.prototype.l=function(){};ev.prototype.k=function(){return[this.J3.k().indexOf(!0),this.aAI[0].k(),this.aAI[1].k()]};
ev.prototype.akU=function(F){if(y.D4(this.uf._))return;F.stopPropagation();var r=this.a2H._.getBoundingClientRect(),$=new k6(_.E.c,!0);
$.data={R:_.m.$a,g$:this.uf,x:r.left,y:r.top+r.height+4};this.a($)};function j2(){au.call(this);var F=this._=y.i("div","fitem");
this.Iq=new bc([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.Iq.Q(_.E.V,this.jz,this);F.appendChild(this.Iq._);
this.Xi=new a$(!1);this.Xi.parent=this;this.Xi.ZJ(16777215);this.Xi.Q(_.E.V,this.jz,this);F.appendChild(this.Xi._)}j2.prototype=new au;
j2.prototype.l=function(){this.Iq.l();this.Xi.l()};j2.prototype.anj=function(F){var r=[F.artboardBackgroundType.v-1];
if(F.Clr)r.push(F.Clr.v);this.o(r)};j2.prototype.apo=function(){var F=this.k();return{classID:"artboard",Clr:{t:"Objc",v:F[1]},artboardBackgroundType:{t:"long",v:F[0]+1}}};
j2.prototype.o=function(F){this.Iq.o(F[0]);if(F[1])this.Xi.o(F[1])};j2.prototype.k=function(){return[this.Iq.k(),this.Xi.k()]};
j2.prototype.jz=function(F){if(F.target==this.Xi)this.Iq.o(3);this.a(new k6(_.E.V,!1))};j2.prototype.Jd=function(){this.Iq.Jd()};
function fK(){au.call(this);var F=this._=y.i("div");y.ox(F);var r=y.i("span");r.textContent="Prompt";
F.appendChild(r);y.Hd(F);this.RV=new gs(null,null,-1,4);this.Bg=new d8;this.Bg.parent=this;this.if=new jC("Generate",!1,null,!0);
this.if.Q("click",this.Gz,this);this.eZ=null;this.aHr=0;F.appendChild(this.RV._);y.Hd(F);F.appendChild(this.Bg._);
F.appendChild(this.if._);this.asl=this.auP.bind(this);this.afp=this.aFj.bind(this);this.In=y.i("div","scrollable");
F.appendChild(this.In)}fK.prototype=new au;fK.prototype.o=function(F){var r=new Uint8Array(F),$=Date.now(),C=UZIP.adler(r,0,r.length);
if(C==this.amW)return;this.amW=C;var M=new kQ;go.CO(F,M);y.RR(this.In);this.aHr=M.u.length-2;if(this.eZ==this.aHr)this.eZ=null;
var $=Date.now();for(var O=M.u.length-2;O>0;O--){var l=M.u[O],r=l.buffer,k=l.S;while(k.C()>500*500){var d=j.JA(r,k);
r=d.fU;k=d.S}var I=dN.yd(r.buffer,k.r,k.$,"png"),c=y.i("div");y.B(c,"width:75px; margin:4px; cursor:pointer; display:inline-block; text-align:center;"+(l.rR()?" box-shadow:0 0 0px 3px #00aaff;":""));
var Q=y.i("img");y.B(Q,"width:100%; margin-bottom:-18px;");if(l.rR()&&this.eZ==null)this.RV.o(l.getName());
Q.aie=O;Q.setAttribute("src",I);var x=new jC("x",!1,"Delete",!0);y.B(x._,"height:15px; line-height:1em; padding: 0px 4px;");
x._.aie=O;c.appendChild(Q);c.appendChild(x._);y.an(Q,this.asl);y.an(x._,this.afp);this.In.appendChild(c)}console.log(Date.now()-$)};
fK.prototype.l=function(){this.Bg.l()};fK.prototype.auP=function(F){var r=new k6(_.E.O,!0);r.J=B.pO;
r.data={R:Z._x,Y:F.currentTarget.aie,vz:"switch"};this.a(r)};fK.prototype.aFj=function(F){var r=new k6(_.E.O,!0);
r.J=B.pO;r.data={R:Z._x,Y:F.currentTarget.aie,vz:"del"};this.a(r)};fK.prototype.Gz=function(F){var r=this.Bg.auJ(this.RV.k());
if(r)this.eZ=this.aHr+1};function d8(){this.sv=new jC("\u2026",!1,null,!0);this.sv.Q("click",this.Pt,this);
this._=this.sv._;this.uf=new au;this.uf.parent=this;var F=this.uf._=y.i("div","floatcont form label6");
F.style.width="270px";var r=this.Ng="dpmpp_2m_karras euler euler_a ddim dpm k_lms pndm".split(" ");this.agg=["stablediffusion_inpaint_2","realistic_vision_5_1_inpaint","absolute_reality_1_8_1_inpaint","dreamshaper_8_inpaint"];
var $=this.rA=[new jm("Use default settings"),new bc("Model",["Stable Diffusion 2.0","Realistic Vision 5.1","Absolute Reality 1.8.1","Dreamshaper 8"]),new gs("Neg. prompt",null,13.25),new aS("Guidance",-20,20),new aS("Steps",10,50),new bc("Sampler",r)];
$[0].Q(_.E.V,this.l,this);$[0].o(!0);$[1].o(1);$[3].o(6);$[4].o(20);for(var O=0;O<$.length;O++){F.appendChild($[O]._);
y.Hd(F)}}d8.prototype=new au;d8.prototype.k=function(){var F=this.rA,r={},$=["model","negative_prompt","guidance","steps","sampler"],C=!F[0].k();
if(C){for(var O=1;O<F.length;O++)r[$[O-1]]=F[O].k();r.model=this.agg[r.model];r.sampler=this.Ng[r.sampler];
r.steps=Math.min(r.steps,50)}return C?null:r};d8.prototype.l=function(){var F=this.rA;for(var O=0;O<F.length;
O++){F[O].l();if(O>0)F[O].fC(!F[0].k())}};d8.prototype.Pt=function(F){if(y.D4(this.uf._))return;var r=this.sv._.getBoundingClientRect(),$=new k6(_.E.c,!0);
$.data={R:_.m.$a,g$:this.uf,x:r.left,y:r.top+r.height+4,Cl:!0};this.a($)};d8.prototype.auJ=function(F){if(F.length>1e3){alert("Your prompt is too long");
return!1}var r=new k6(_.E.wG,!0);r.data=B.k7.w8("aiHeal");r.data.iH.prmt={t:"TEXT",v:F};r.data.iH.jg=this.k();
this.a(r);return!0};function d9(F){au.call(this);this.Xp=F;this.a5U=0;this.aGF=!1;this.aI$=F?new d9.Jr:null;
this._=y.i("div","flexrow storageset");this._.style.background="var(--bg-panel)";this.g0=y.i("div");
this._.appendChild(this.g0);this.rb=y.i("div");this._.appendChild(this.rb);this.PG=[];var r=Storage.list.length;
if(F)r=r+1+d9.pt.length;var $=this.yI.bind(this);for(var O=0;O<r;O++){var C=y.i("div");this.PG.push(C);
this.g0.appendChild(C);C.addEventListener("click",$,!1)}this.yI(null,0)}d9.prototype=new au;d9.Mc=[];
d9.d4=function(F){d9.Mc.push(F);F.vr()};d9.N6=function(){var F=d9.Mc;F.pop();F[F.length-1].vr()};d9.prototype.vr=function(){this.yI(null,this.a5U)};
d9.prototype.Db=function(F,r){if(!F.Tb&&!this.aGF){var $=this.Xp?2:1;for(var O=$;O<this.PG.length;O++)this.g0.removeChild(this.PG[O]);
this.aGF=!0;if(this.Xp)this.aI$.Db(F,r)}if(this.V2)this.V2.Db(F,r)};d9.prototype.l=function(){if(this.Xp)this.aI$.l();
if(this.V2)this.V2.l()};d9.prototype.yI=function(F,r){var $=this.PG,C;if(r==null)r=$.indexOf(F.currentTarget);
this.a5U=r;for(var O=0;O<$.length;O++)y.cD($[O],"active");y.yY($[r],"active");if(this.Xp)r--;y.RR(this.rb);
var M=Storage.list.length;if(r==-1)C=this.aI$;else if(r<M)C=Storage.n6(r);else{var l=d9.pt[r-M];C=new d9.HZ(l[1]);
ht.event("strg_"+l[0])}this.V2=C;C.parent=this;this.rb.appendChild(C._);this.Xt(this.a0,this.Y9);this.l()};
d9.prototype.Xt=function(F,r){this.a0=F;this.Y9=r;var $=F<850,C=$?50:210,M=Storage.list;if(this.Xp)M=[["Home",null,"strg/home"]].concat(M.concat(d9.pt));
for(var O=0;O<M.length;O++){var l=this.PG[O],k="padding: 8px "+($?13:36)+"px; cursor:pointer;";y.B(l,k);
var d=M[O][2],I=M[O].length==6;d=I?d:PIMG[d];l.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+d+"\" /> "+($?"":M[O][0])}this._.style.width=F+"px";
this._.style.height=r+"px";this.g0.style.width=C+"px";this.g0.style.paddingTop="32px";if(this.V2)this.V2.Xt(F-C,r)};
d9.pt=[["PeaGames","plugins/games.html","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEAAgMAAAAhHED1AAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAxQTFRFAAAAAAAAAAAAAAAANek3lgAAAAR0Uk5TAP+TQ7iym4QAAAQ/SURBVHic7Vo7khMxEDVsERCwG+0ROIIDsjmCA2s8tTtVTA7BHEGXmCNQRZmAPQBVzCV8BAIyYorCWLblkfojd2syVi/a1aifpe7XrU9psSgoKCgoKCgoKCgoKHg+uNsOhkW9/XXN/idvfcKXmfbGfEjZv7tub8xH3v5WYm/ME2d/M8gI6pEhWMrs2UncSO2NoYcgHoAx7cwB0EMQhdCD8sKgIaix/RuNvTE9InirI2hmudABuvG1lgDOQTkDNAf1DIyZFQOHeA5LPUEs552eYBPav9Tbx4FUB9EhdII6iA6hE3Y5BIETMlTgMDkhQwUO1RwVOKwuBPd5BFM6DHkEl7KUJSMH78VMH05efJVL4L2YpUMH78VdLoHXYq69r0rZQTDGzguCD0N2EIzp5mSCQzsnExyajEyot5+mfzYZUXwK92K1vhw9xk5z6fQCdRpQy4Q+/klLyaBP7RfHWPs9IYM6tUw0IPAdIYM2Je4WaHdFJHOfimwPsqchdGRT2rIgf9dENUiWmBFUkA0ebp3KL1+H78MG0GeTIvAlaBoh9vixDxfH9ZlgeWkZkRCTBL6KTiO0cwkqpGQRwfS9Qn2TBC0i6JHDlSPo5hKsUC4pndgi1Sp1oCTASmxQ4iUJUC5oCVA2Hia1A13SBLAeqAmqo/1N2H0IPtff9/s/rsfdfr//QRGcNjWB/GOCbhGAXHAaIIODW0OCMSQg61oNgnBoCL5GZxDGERUYW0QADvV4zTvPIWSOCFYxAb3q2vimJCKAh1GS4CHcHxwQ9qoAwWAESBHsniEBjMKgJejSYfx298lghD8DhARWTXrnEiUTuJQAa5ZdUPkVEYDLoWXUc0NwQgJfsMggHB2E0yMmiOYAfq2iI1vHTdvt9rPrd3v4Y4h7jkcC5ISNtKieiw36sJGuC2tyXq5dSNCS2nAEwrXxLDIUhkZK4GWOCZYyAp9oA2hvpTuUiiFYaQl2iEC4S+MIOuk+kSPopTtVjqDSEgyg3Up361wYLdKWUkgjamJOLJyU8aCOBEtEwCRTTfh1pOqGL1Yw6Guic0WQsgWlIQg6wlXGX9gsQWtLOKyhr2Uskwp4VPVI7s86MgiuFe2l3v8l7Bl9VERkOFgqOpYSFwNycSXlzYFY3tHGVYvTapF9nUjsvbVAu38tTlWC3FTLYOkcl2Oky5QY+BSoBD7IKoFvA5TwlTY7DHbB1GopvH3u1fZ0ysvMhumUl+nF7kKQeTl+8WGmFsO9+X0OQbizzioJ4fkkS0pVQJAjpfh4kqGE+ICUoYQuIshQgo0I9EoA1x36ogIOmfo5gBmo5wBnoJ4DfoWhnMOICHRaQu8XFsolknxNM8jtsQuVQ2Ce8+yk9o+0vfQ1UeI9kTAQ/Ism2YOkB9b+MAkBA/ucSeiGmnXACeRdUTj+qw/TFvvfWxZf91fNCwoKCgoKCgoKCgoK/iP8A4Y8W8cr97IuAAAAAElFTkSuQmCC",!0,"Join the contenst!",9986144664]];
for(var O=0;O<d9.pt.length;O++)if(d9.pt[O][5]*1e3<Date.now()){d9.pt.splice(O,1);O--}d9.Jr=function(){this.nr=null;
var F=this._=y.i("div");F.style.background="var(--bg-canvas)";var r=this.Qx=y.i("div");F.appendChild(r);
var $=y.i("style");F.appendChild($);$.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var O=0;O<2;O++){var C=y.i("div"),$="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";r.appendChild(C);
if(O==0)$+="padding: 12px 0px";if(O==1)$+="position:absolute;  bottom:0;";y.B(C,$);var M=y.i("img");
C.appendChild(M);M.setAttribute("src",PIMG[O==0?"l"+"o"+"g"+"o":"b"+"o"+"t"+"t"+"o"+"m"]);if(O==0)this.a7H=M;
else this.aeY=M;if(O==0)this.aw3=C;else this.a5Z=C}this.PG=[];$="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var l=this.ux.bind(this),k=y.i("div");r.appendChild(k);y.B(k,"width:min(80%,556px);  margin:0px 0 0 10px;  text-align:center");
for(var O=0;O<4;O++){var d=y.i("span","bhover");this.PG.push(d);y.B(d,$+"cursor:pointer; padding:12px;");
d.addEventListener("click",l,!1);k.appendChild(d)}y.Hd(r);var C=y.i("div");y.B(C,$+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
C.textContent="Drop any files here";r.appendChild(C);var I=new Date().getDate(),c=new Date().getMonth();
if(c==11&&I>20||c==0&&I<10){this.Ee=y.i("canvas");y.B(this.Ee,"position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.Tg=this.Ee.getContext("2d");this.a0K=j.j(4);F.appendChild(this.Ee);var Q=Math.random()<.5,x={t:255,L:255,X:255};
if(!Q){x=j.To(Math.random(),Math.random()*.7,1);x.t*=255;x.L*=255;x.X*=255}this.Xe=[Math.round(1048575*Math.random()),Q?.05:.02,Math.round(4+Math.random()*8),1,Q?3:15,x,0,!0,Q,Q?1:.2,3];
this.a5N=Q?.1:.2;this.Gn=this.Qt.bind(this);window.requestAnimationFrame(this.Gn)}};d9.Jr.prototype=new au;
d9.Jr.prototype.Qt=function(){window.requestAnimationFrame(this.Gn);if(!y.D4(this._))return;var F=this.a0K,r=this.Ee,$=this.Tg,C=r.width,M=r.height;
this.Xe[6]=Date.now()*.001*this.a5N;j.DF.ya(F,C,M,this.Xe,!0);$.putImageData(new ImageData(new Uint8ClampedArray(F.buffer),C,M),0,0)};
d9.Jr.prototype.ux=function(F){var O=this.PG.indexOf(F.currentTarget),r=new k6(_.E.c,!0);if(O==0)r.data={R:_.m.Oe,rS:"newproject"};
if(O==1)r.data={R:_.m.u7};if(O==2)r.data={R:_.m.Oe,rS:"res0"};if(O==3)r.data={R:_.m.Eb};this.a(r)};d9.Jr.prototype.l=function(){var F=this.PG,r=[[11,7],[1,6],[25,0],[0,17,6]],$=["\u2605","\uD83E\uDC7F","\u25A3"],$=["lrs/newlayer","strg/tdevice","pix_layer","lrs/clipping"];
for(var O=0;O<F.length;O++)F[O].innerHTML="<span style=\"vertical-align:middle\">"+y.UE($[O],null,"autoscale")+"</span>\u2000"+dG.get(r[O]);
var C="l"+"o"+"g"+"o",M=C+"_"+["pp","vp"][gw],l=new Date;if(l.getMonth()==3&&l.getDate()==1)M="lo"+"go_cuc"+"umber";
if(PIMG[C])M=C;this.a7H.setAttribute("src",PIMG[M]);this.aeY.setAttribute("src",PIMG["b"+"o"+"t"+"t"+"o"+"m"])};
d9.Jr.prototype.Xt=function(F,r){var $=Math.min(r*1.5,Math.min(F,600)),C=this.Ee;if(C){y.jd(C,F,$*.26);
this.a0K=j.j(C.width*C.height*4)}this._.style.width=F+"px";this._.style.height=r+"px";this.a5Z.style.width=F+"px";
this.Qx.style.marginLeft=Math.max(0,Math.round((F+200-600)/2)-200)+"px";this.a7H.style.width=$+"px";
this.aeY.style.width=$+"px"};d9.Jr.prototype.Db=function(F,r){var $=F;if(F==null)F=this.e;this.e=F;if(!F.Tb&&this.PG[2].parent){this.Qx.removeChild(this.PG[2]);
this.Qx.removeChild(this.PG[3])}this.PG[3].style.display=F.D$?"inline-block":"none";if($)this.nr=setTimeout(this.Db.bind(this),100)};
d9.HZ=function(F){var r=this._=y.i("iframe");r.style.background="var(--bg-canvas)";r.setAttribute("src",F)};
d9.HZ.prototype=new au;d9.HZ.prototype.Xt=function(F,r){var $=this._;$.style.width=F+"px";$.style.height=r+"px"};
d9.HZ.prototype.Db=function(){};function Storage(F){au.call(this);var r=this._=y.i("div","storage");
y.mM(r);r.addEventListener("drop",this.ael.bind(this),!1);var $=this.ayM=y.i("style");r.appendChild($);
r.setAttribute("tabindex","0");r.style.outline="none";r.addEventListener("keydown",this.aKd.bind(this),!1);
this.jc=this.avd.bind(this);this.ab=0;this.eZ=0;var C=y.i("div");r.appendChild(C);var M=this.aoC.bind(this);
this.wZ=y.i("div","bar");C.appendChild(this.wZ);this.IQ=y.i("div","fls scrollable");C.appendChild(this.IQ);
this.W$=y.i("div");C.appendChild(this.W$);y.B(this.W$,"position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.a7=y.i("div","bar");this.a7.textContent="Name: ";var l=this.Th=y.i("input");l.setAttribute("type","text");
this.a7.appendChild(l);var k=this.xo=y.i("div","btn");k.textContent="Save";this.a7.appendChild(k);y.an(k,M);
y.TX(this.IQ,this.jc);this.aeF=0;this.wF=F;var d=this.ata.bind(this),I=this.aeN=y.i("div");y.B(I,"text-align:center; font-size:1.6em");
var c=y.i("img");I.appendChild(c);y.Hd(I);c.setAttribute("src",PIMG[Storage.list[this.wF][2]]);y.B(c,"opacity:0.5;  width:25%; cursor:pointer;");
y.an(c,d);this.a6J=y.i("div","btn");I.appendChild(this.a6J);y.an(this.a6J,d);this.KW=new aj([{name:[6,20]},{name:[5,2],J9:[ac.Xf,ac.JC],T:function(){return{T:Storage.lD!=null}}}]);
this.KW.parent=this;this.KW.Q("select",this.v6,this);this.IQ.addEventListener("contextmenu",this.jc);
this.a3D=y.i("span");this.Vc=y.i("span");y.B(this.Vc,"position:absolute; right:0; top:5px;");this.z0=[];
this.b2=[];for(var O=0;O<3;O++){var Q=y.i("div","btn");this.z0.push(Q);this.a3D.appendChild(Q);y.an(Q,M);
Q.innerHTML=Storage.adf[[3,1,0][O]]}for(var O=0;O<5;O++){if(O==0){var x=y.i("span");x.textContent="Sort by:";
this.Vc.appendChild(x)}var Q=y.i("div","btn");this.b2.push(Q);this.Vc.appendChild(Q);y.an(Q,M)}window.addEventListener("message",this.a2o.bind(this),!1);
this.a4b=!1;this.EP=0;setInterval(this.amo.bind(this),300);this.hw();var U=this.aiv=document.createElement("input");
U.setAttribute("type","file");U.addEventListener("change",this.ael.bind(this),!1);document.body.appendChild(U);
y.B(U,"display:none");U.setAttribute("multiple","")}Storage.prototype=new au;Storage.Tu=!1;(function(){Storage.adf=[];
var F="<svg viewBox=\"0 0 14 14\" width=\"10\" height=\"10\" fill=\"black\"><path transform=\"translate(7 7) rotate(",r=") translate(-7 -7)\" d=\"m4 4m-4 2h11l-5-5 2-1 7 7-7 7-2-1 5-5h-11\" /></svg>";
for(var O=0;O<4;O++)Storage.adf.push(F+[-90,0,90,180][O]+r)}());Storage.prototype.ael=function(F){F.stopPropagation();
F.preventDefault();var r=F.dataTransfer?F.dataTransfer.files:F.target.files;this.aiZ=r.length;Storage.lD={};
for(var O=0;O<r.length;O++){var $=r[O],C=new FileReader;C.kH=$;C.onload=this.aAo.bind(this);C.readAsArrayBuffer($)}};
Storage.prototype.aAo=function(F){var r=Storage.lD;r[F.target.kH.name]=F.target.result;this.aiZ--;if(this.aiZ==0)this.w$()};
Storage.prototype.Db=function(F,r){var $=Storage.list[this.wF][3],C=ht.WL();if($){if(this.EP==1&&y.D4(this._)&&C!=null){this.hw()}if(this.EP==2&&C==null){this.Iz("forget","")}}};
Storage.prototype.amo=function(){var F=y.D4(this._),r=this.a4b;if(F&&!r){history.pushState(null,null,location.href);
window.onpopstate=function(){history.go(1)}}if(!F&&r){window.onpopstate=function(){};history.go(-1)}this.a4b=F};
Storage.prototype.hw=function(){if(this.en)document.body.removeChild(this.en);this.a2=[[]];this.Rp=0;
this.ayx={"/":[]};this.aeZ="";this.h8=null;this.WT=[];this.af$=[];this.a9q=[];this.adV=null;var F=Storage.list[this.wF][1],r=ht.lQ("code/storages/"+Storage.list[this.wF][1]);
if(gw==1&&this.wF==0)r=F;var $=this.en=y.i("iframe");$.setAttribute("src",r);y.B($,"display:none");document.body.appendChild($)};
Storage.prototype.TH=function(){return this.ayx[this.hl()]};Storage.prototype.U8=function(F){this.ayx[this.hl()]=F};
Storage.n6=function(O){var F=Storage.Dt[O];if(F==null)F=Storage.Dt[O]=new Storage(O);return F};Storage.Dt=[];
Storage.xC=0;Storage.ade="";Storage.Bm=function(F,r){Storage.xC=F;Storage.ade=r;var $=Storage.Dt;for(var O=0;
O<$.length;O++)if($[O])$[O].vr()};Storage.a45=[500*(1<<20),5e3*(1<<20)];Storage.Fe=0;Storage.RH=2;Storage.qm=0;
Storage.list=[["This Device","deviceStorage.html","strg/tdevice",!1,"Give Photopea a direct access to a specific folder in your device."],["PeaDrive","peadriveStorage.html","strg/peadrive",!0,"A cloud storage system from Photopea."],["Dropbox","dropboxStorage.html","strg/dropbox",!1,"Give Photopea a direct access to your DropBox."],["OneDrive","onedriveStorage.html","strg/onedrive",!1,"Give Photopea a direct access to your OneDrive."],["Google Drive","googledriveStorage.html?mode=0","strg/gdrive",!1,"Give Photopea a direct access to your Google Drive."],["Shared Drives","googledriveStorage.html?mode=1","strg/gdrive",!1,"Give Photopea a direct access to Shared Drives in your Google Drive."],["Shared with me","googledriveStorage.html?mode=4","strg/gdrive",!1,"Give Photopea a direct access to \"Shared with me\" in your Google Drive."],["Private Folder","googledriveStorage.html?mode=3","strg/gdrive",!1,"Let's make a folder \"Photopea\" in your Google Drive (we will have access only to that folder)."]];
Storage.azL=function(F){for(var O=0;O<Storage.Dt.length;O++){if(Storage.Dt[O]&&Storage.Dt[O].en.contentWindow==F)return!0}return!1};
Storage.prototype.aKd=function(F){if(F.target.tagName=="INPUT")return;var r=ac;if(r.Dh(F.code,r.g7)&&this.hl().length!=0)this.ax7();
else if(F.ctrlKey){if(r.Dh(F.code,r.m)){var $=[];this.U8($);for(var O=0;O<this.h8.length;O++)$.push(O);
this.d_()}if(r.Dh(F.code,r.gZ))this.kZ(2);if(r.Dh(F.code,r.JC))this.w$()}else if(r.Dh(F.code,r.t7)){var C=this.TH();
if(C.length!=0)this.afM(C)}else if(r.Dh(F.code,r.Qh)){this.Rp=Math.max(this.Rp-1,0);this.vh()}else{var M=0;
for(var O=65;O<=90;O++)if(F.code=="Key"+String.fromCharCode(O))M=O;if(M!=0){var l=String.fromCharCode(M).toLowerCase(),k=[],d=this.h8,I;
for(var O=0;O<d.length;O++)if(d[O][0][0].toLowerCase()==l)k.push(O);if(k.length==0)return;var C=this.TH();
if(C.length==0)I=k[0];else{var c=k.indexOf(C[0]);if(c==-1){I=k[0];for(var O=0;O<k.length;O++)if(k[O]>C[0]){I=k[O];
break}}else I=k[(c+1)%k.length]}this.U8([I]);this.d_(!0)}}};Storage.prototype.Xt=function(F,r){this.a0=F;
this.Y9=r;this._.style.width=F+"px";this._.style.height=r+"px";var $=F-30,C=Math.floor($/230),$=Math.floor($/C)-70;
this.ayM.textContent=".storage .tile .name {  width:"+$+"px;  }";this.Th.style.width=F-140+"px";this.IQ.style.width=this.wZ.style.width=F-20+"px";
this.IQ.style.height=r-70-(Storage.xC==0?0:45)+"px"};Storage.prototype.ata=function(){this.vh()};Storage.prototype.vh=function(){var F=this.wF,r="____strg"+F;
if(window[r]==null){ht.event("strg_"+Storage.list[F][0]);window[r]=!0}this.eZ=1;this.Iz("show",this.hl())};
Storage.prototype.hl=function(F){var r=this.a2[this.Rp],$="/"+r.join("/");if(F&&r.length!=0)$+="/";return $};
Storage.prototype.aoC=function(F){var r=F.currentTarget,$=this.Rp,C=this.z0.indexOf(r),M=this.b2.indexOf(r);
if(C>=0&&!this.azv(C))return;if(C==0){this.Rp=Math.max($-1,0);this.vh()}if(C==1){this.Rp=Math.min($+1,this.a2.length-1);
this.vh()}if(C==2){var l=this.a2[$+1]=this.a2[$].slice(0);l.pop();this.Rp++;this.a2=this.a2.slice(0,this.Rp+1);
this.vh()}if(M==0){Storage.RH=(Storage.RH+1)%3;this.vr()}if(M==1){Storage.qm=(Storage.qm+1)%2;this.vr()}if(M==2){Storage.Fe=(Storage.Fe+1)%3;
this.vr()}if(M==3){var k=document.createEvent("MouseEvents");k.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
this.aiv.dispatchEvent(k)}if(M==4){this.Iz("forget","")}if(r==this.xo){var d=this.Th.value.trim(),I=this.h8,c=-1,Q=["psd","ai"][gw];
if(!d.toLowerCase().endsWith(Q)){alert("File Name has to end with \"."+Q+"\".");return}for(var O=0;O<I.length;
O++)if(I[O][0]==d)c=O;if(c!=-1){this.Hk("Do you really want to replace \""+d+"\"?",this.aF8.bind(this))}else this.aF8()}};
Storage.prototype.aF8=function(){var F=this.Th.value.trim(),r=[this.wF,this.hl(!0)+F];this.Yj({R:_.m.ami,BK:r});
this.a(new k6("canclose",!0))};Storage.prototype.w$=function(){if(Storage.lD==null)return;this.Yj({R:_.m.O7,Sm:dG.get("Uploading ...")});
this.ab=4;dy.n6(2,this.en,[this.hl(),Storage.lD,this.h8],null,this.a2X.bind(this))};Storage.prototype.a2X=function(F){this.ab=0;
this.Yj({R:_.m.hF,Sm:dG.get("Uploading ...")});this.vh()};Storage.prototype.v6=function(F){var r=F.target.qw();
if(F.target==this.KW){if(r[0]==0){var $=[dG.get([6,20]),-1,0];this.h8.push($);this.vr();var O=this.h8.indexOf($),C=this.WT[O].querySelector(".name");
console.log(C);var M=new df.Y_(C,function(x){this.Yj({R:_.m.O7,Sm:dG.get([1,2])+" ..."});var U=this.hl(!0)+x+"/";
console.log(U);this.Iz("save",U)}.bind(this),!0)}else this.w$()}else{if(r[0]==0){this.kZ(2)}else if(r[0]==1){var O=this.TH()[0],l=this.h8[O],C=this.WT[O].querySelector(".name");
console.log(C);C.innerHTML=l[0];var M=new df.Y_(C,function(x){x=x.trim();if(x.indexOf("/")!=-1){alert("You can not use slashes in a file name.");
this.vr();return}var U=this.h8;for(var O=0;O<U.length;O++)if(U[O][0]==x){alert("Item with such name already exists.");
this.vr();return}var S=this.hl(!0)+l[0]+":"+x;console.log(S);this.Iz("rename",S)}.bind(this))}else if(r[0]==2){this.kZ(3)}else if(r[0]==3)this.ax7();
else if(r[0]==4){this.kZ(1)}else{var k=this.h8[this.TH()[0]],d=Storage.or(k),I=d[r[1]],c=I[0],Q=this.q2().pop()[1];
if(Storage.aDG(k,c)!=-1){this.Iz("share",Q+":"+c+":-1");alert("Unshared.")}else{this.Iz("share",Q+":"+c+":"+r[2]);
alert("Shared.")}}}};Storage.aDG=function(F,r){var $=F[4];if($==null)return-1;if($.indexOf(r+":0")!=-1)return 0;
if($.indexOf(r+":1")!=-1)return 1;return-1};Storage.prototype.ax7=function(){var F=this.TH();this.Hk("Do you really want to delete "+(F.length==1?"\""+this.h8[F[0]][0]+"\"":"these files")+"?",this.qB.bind(this))};
Storage.prototype.Hk=function(F,r){var $={R:_.m.Oe,rS:"confirm",Y:F,Oa:r};this.Yj($)};Storage.prototype.kZ=function(F){this.ab=F;
if(1<F)this.Yj({R:_.m.O7,Sm:dG.get("Downloading ...")});else this.Yj({R:_.m.O7,Sm:dG.get("Getting info ...")});
dy.n6(0,this.en,this.hl(),this.q2(!0),this.aK0.bind(this))};Storage.prototype.aK0=function(F){if(this.ab==1){var r=0,$=0;
for(var C in F){var M=F[C];r+=M[1];$++}this.Hk($+" files, "+iv.$A(r)+" in total.",function(){});this.Yj({R:_.m.hF,Sm:dG.get("Getting info ...")});
this.ab=0}if(1<this.ab)dy.n6(1,this.en,F,null,this.avA.bind(this))};Storage.prototype.avA=function(F){if(1<this.ab){if(1<this.ab)this.Yj({R:_.m.hF,Sm:dG.get("Downloading ...")});
var r={},$=this.hl(!0);for(var C in F)r[C.slice($.length)]=F[C];if(this.ab==2){Storage.lD=r;alert("Copied to a clipboard")}if(this.ab==3){var M=Object.keys(F);
if(M.length==1)bF.save(F[M[0]].buffer,M[0].split("/").pop());else bF.save(UZIP.encode(r),$=="/"?"files.zip":this.hl().split("/").pop()+".zip")}}this.ab=0};
Storage.lD=null;Storage.prototype.qB=function(){this.Yj({R:_.m.O7,Sm:dG.get([5,4])+" ..."});this.af$=this.q2();
this.DU()};Storage.prototype.DU=function(){if(this.af$.length==0){this.Yj({R:_.m.hF,Sm:dG.get([5,4])+" ..."});
this.U8([]);this.vh()}else this.Iz("delete",this.af$.pop()[1])};Storage.prototype.q2=function(F){var r=[],$=this.hl(!0),C=this.TH();
for(var O=0;O<C.length;O++){var M=this.h8[C[O]];if(F)r.push(M[0]);else r.push([this.wF,$+M[0]])}return r};
Storage.prototype.Iz=function(F,r){y.yY(this._,"disabled");this.aeZ=F;if(Storage.Tu)console.log(Math.floor(Date.now()/1e3),"{\"code\": \""+F+"\", \"prm\": "+JSON.stringify(r)+"  }");
this.en.contentWindow.postMessage("{\"code\": \""+F+"\", \"prm\": "+JSON.stringify(r)+"  }","*")};Storage.prototype.a2o=function(F){if(F.source!=this.en.contentWindow||this.ab!=0)return;
y.cD(this._,"disabled");if(typeof F.data=="string"){if(Storage.Tu)console.log("==",Math.floor(Date.now()/1e3),F.data);
var r=JSON.parse(F.data),$=r.code,C=r.prm,M=this.aeZ,l=Storage.list[this.wF][3];if($=="ready"){if(l&&!C){var k=ht.WL();
console.log(k);var d=ht.fM(),I=d.acc;if(k==null){this.EP=1;alert("Log in to use this storage (press Account at the top).");
this.dN();return}var c=[],Q=k.wantToJoin;for(var x in Q)c.push(parseInt(x.slice(1)));var U=[],S=k.inTeams;
for(var O=0;O<S.length;O++)U.push(S[O][2]);var z={uid:k.id,limit:Storage.a45[ht._q()?1:0],inTeams:U,myTeams:c};
z.secret=I&&I.pds?I.pds:"";this.Iz("login",z);return}if(l)this.EP=2;if(l&&r.secret){var d=ht.fM(),I=d.acc;
if(I==null)I=d.acc={};I.pds=r.secret;ht.bx(d)}if(C)this.vh();else this.dN()}else if($!="0"){if(M=="save")this.Yj({R:_.m.hF,Sm:dG.get([1,2])+" ..."});
if(M=="delete")this.DU();alert(C);this.vr()}else if(M=="show"){this.eZ=0;this.h8=C;this.vr()}else if(M=="save"){this.eZ=0;
this.Yj({R:_.m.hF,Sm:dG.get([1,2])+" ..."});this.vh()}else if(M=="delete"){this.DU()}else if(M=="forget"){if(l)this.dN();
else this.hw()}else if(M=="rename"||M=="share"){this.vh()}else throw $}else{if(Storage.Tu)console.log(Math.floor(Date.now()/1e3,"==","ArrayBuffer[]"));
this.Yj({R:_.m.au2,BK:this.q2()[this.M4],PF:F.data});this.ah4()}};Storage.prototype.dN=function(){y.RR(this.wZ);
y.RR(this.IQ);y.RR(this.W$);this.IQ.appendChild(this.aeN)};Storage.prototype.azv=function(O){if(O==0)return this.Rp>0;
if(O==1)return this.Rp<this.a2.length-1;if(O==2)return this.hl()!="/"};Storage.amL=function(F){F=F+"";
return F.length==1?"0"+F:F};Storage.asq=function(F){var r=new Date(F),$=Storage.amL,C=$(r.getDate())+"."+$(r.getMonth()+1)+"."+r.getFullYear();
if(r.toLocaleDateString().indexOf("/")!=-1)C=$(r.getMonth()+1)+"/"+$(r.getDate())+"/"+r.getFullYear();
var M=$(r.getHours())+":"+$(r.getMinutes());return C+" "+M};Storage.colSpan=function(F){var r=y.i("span");
r.style.opacity="0.8";r.style.display="inline-block";r.style.width="120px";r.textContent=F;return r};
Storage.prototype.vr=function(){var F=Storage.list[this.wF][3],r=this.h8,$=Storage.RH,C=Storage.qm,M=Storage.Fe;
if(r==null)return;r.sort(function(R,D){var h=R[1]==-1?1:5,K=D[1]==-1?1:5,X=0;if(Math.min(h,K)==1&&h!=K)return h-K;
else if(h==1||$==0)X=R[0].toLowerCase()<D[0].toLowerCase()?-1:1;else if($==1)X=R[1]-D[1];else if($==2)X=R[2]-D[2];
if(C==1)X=-X;if(R[0]=="Shared")X=-1;if(D[0]=="Shared")X=1;return X});var l=this.IQ,k=this.wZ,d=this.a2[this.Rp];
y.RR(l);y.RR(k);this.WT=[];for(var O=0;O<3;O++)if(this.azv(O))y.cD(this.z0[O],"disabled");else y.yY(this.z0[O],"disabled");
k.appendChild(this.a3D);k.appendChild(this.Vc);var I=y.i("span");I.textContent="/";k.appendChild(I);
for(var O=0;O<d.length;O++){var I=y.i("span");I.textContent=d[O];k.appendChild(I);var I=y.i("span");
I.textContent="/";k.appendChild(I)}var c=["tile","icon","litm"][M];for(var O=0;O<r.length;O++){var Q=r[O],x=Q[1]==-1,U=x?"":iv.$A(Q[1]),S=y.i("div","cont "+c),g=!1;
l.appendChild(S);this.WT.push(S);var z=x?"":Storage.asq(Q[2]*1e3);S.setAttribute("title",Q[0]+(x?"":"\nSize: "+U+"\nDate Modified: "+z));
var V=y.i("img");V.setAttribute("src",x?Storage.ayA:Q[3]?Q[3]:Storage.kH);if(!x&&Q[3])y.B(V,"box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var t=y.i("span","name"),Y=Q[0];if(c=="icon"&&Y.length>30)Y=Y.slice(0,24)+".."+Y.slice(Y.length-5);if(F&&d.length==1&&d[0]=="Shared"){var i=Storage.or(),J=parseInt(Y.slice(5));
for(var H=0;H<i.length;H++)if(i[H][0]==J)Y=i[H][1]}t.textContent=Y;S.appendChild(V);S.appendChild(t);
if(c!="icon"&&!x){if(c=="litm")S.appendChild(Storage.colSpan(z));if(c=="tile")y.Hd(t);var v=Storage.colSpan(U);
if(c=="litm")v.style["text-align"]="right";(c=="tile"?t:S).appendChild(v)}var n=Q[0].split("."),G=(n.length==1?"":n.pop()).toUpperCase();
if(F&&Q[0]=="Shared"&&d.length==0){g=!0;G="\u21E7"}if(c!="litm"&&(!x&&Q[3]==null||g)){var W=y.i("span","ext");
W.textContent=G;var L=Storage.bb[G];W.style.backgroundColor=L?L:Storage.aB6(G);S.appendChild(W)}y.TX(S,this.jc);
S.addEventListener("contextmenu",this.jc)}this.d_();var b=this.a7.parentNode!=null,T=Storage.xC,a=this._;
if(b&&T==0)a.removeChild(this.a7);if(!b&&T==1)a.appendChild(this.a7);this.Xt(this.a0,this.Y9);this.l()};
Storage.prototype.d_=function(F){var r=this.WT,$=this.h8,C=this.TH(),M=!1,l=0;for(var O=0;O<r.length;
O++){var k=$[O],d=k[1]==-1,I=r[O];if(Storage.xC==1&&!d&&!k[0].toLowerCase().endsWith(".psd"))I.style.display="none";
else I.style.display="auto";if(C.indexOf(O)==-1)y.cD(I,"active");else{if(d)M=!0;else l+=k[1];y.yY(I,"active");
if(F)I.scrollIntoView({block:"center",behavior:"smooth"})}}var c=M?"":iv.$A(l);this.W$.textContent=C.length==0?"":C.length+" item"+(C.length==1?"":"s")+" selected\u2001"+c;
this.Th.value=C.length==1&&!M?$[C[0]][0]:Storage.ade};Storage.prototype.afM=function(F){var r=F[0],$=this.h8[r];
if($[1]==-1){var C=this.a2[this.Rp].slice(0);C.push($[0]);this.Rp++;this.a2[this.Rp]=C;this.a2=this.a2.slice(0,this.Rp+1);
this.U8([]);this.vh()}else if(Storage.xC==0){this.ah4(F)}};Storage.prototype.ah4=function(F){if(F){this.Yj({R:_.m.O7,Sm:"Opening ..."});
this.a(new k6("canclose",!0));this.avk=F.slice(0);this.M4=0}else this.M4++;if(this.avk.length==this.M4){this.Yj({R:_.m.hF,Sm:"Opening ..."})}else{var r=this.avk[this.M4],$=this.h8[r],C=this.hl(!0)+$[0];
this.Iz("load",C)}};Storage.prototype.l=function(){var F=Storage.RH,r=Storage.qm,$=Storage.Fe;this.b2[0].textContent=dG.get([[12,48],[12,14,0],"Date"][F]);
this.b2[1].innerHTML=Storage.adf[[2,0][r]];this.b2[2].textContent=dG.get(["Tiles","Icons",[25,3,1]][$]);
this.b2[3].textContent="Upload";this.b2[4].textContent="\u2716";this.a6J.innerHTML=dG.get([[23,6],Storage.list[this.wF][0]])+"<br/><small><small>"+Storage.list[this.wF][4]+"</small></small>";
this.Db()};Storage.prototype.avd=function(F){this.Yj({R:_.m.P$});if(y.D4(this.aeN))return;if(F.button==3||F.button==4){if(Date.now()-this.awQ>50){var r=this.Rp;
if(F.button==3)this.Rp=Math.max(r-1,0);else this.Rp=Math.min(r+1,this.a2.length-1);this.vh()}this.awQ=Date.now();
return}F.stopPropagation();var O=this.WT.indexOf(F.currentTarget);if(F.type=="contextmenu"){if(this.h8==null)return;
F.preventDefault();var $=this.KW;if(O!=-1){var C=[{name:[5,1],J9:[ac.Xf,ac.gZ]},{name:[6,37]},{name:"Download",NA:!0},{name:[5,4],J9:[ac.g7]},{name:[9,2]}];
if(Storage.list[this.wF][3]){var M=this.h8[O],l=Storage.or(M);if(l.length!=0){var k=[];for(var d=0;d<l.length;
d++){var I=[],c=l[d],Q=Storage.aDG(M,c[0]);if(Q!=-1)I.push({name:"Unshare"});else I.push({name:"Allow Read"},{name:"Allow Read & Write"});
k.push({name:c[1]+[""," (R)"," (R,W)"][Q+1],sub:I})}C.push({name:"Share With",sub:k})}}$=new aj(C);$.parent=this;
$.Q("select",this.v6,this)}$.parent=this;$.l();$.update();this.Yj({R:_.m.$a,g$:$,x:F.clientX+4,y:F.clientY});
return}var x=this.TH(),U=x.indexOf(O);if(F.button!=0&&U!=-1)return;if(F.target==this.IQ)this.U8([]);
else{if(F.ctrlKey){if(U==-1)x.push(O);else x.splice(U,1)}else if(F.shiftKey&&x.length!=0){var d=x[0];
if(d<O){var S=O;O=d;d=S}x=[];this.U8(x);for(var z=O;z<=d;z++)x.push(z)}else{this.U8([O]);if(Date.now()-this.aeF<300&&x.length!=0&&x[0]==O){this.afM([O]);
this.aeF=0}}}this.aeF=Date.now();this.d_()};Storage.prototype.Yj=function(F){var r=new k6(_.E.c,!0);
r.data=F;this.a(r)};Storage.or=function(F){var r=[],$=[],C=ht.fM(),M=C.acc.tstart;if(M)for(var O=0;O<M.length;
O++){r.push([M[O][2],M[O][0]]);$.push(M[O][2])}var l=ht.WL();M=l.inTeams;if(M)for(var O=0;O<M.length;
O++){r.push([M[O][2],M[O][0]]);$.push(M[O][2])}if(F&&F[4]){for(var O=0;O<F[4].length;O++){var k=parseInt(F[4][O].split(":")[0]);
if($.indexOf(k)==-1)r.push([k,"Team "+k])}}return r};Storage.prototype.aaK=function(F,r){if(this.eZ!=0)return 1;
this.eZ=2;this.Yj({R:_.m.O7,Sm:dG.get([1,2])+" ..."});this.Iz("save",F);if(Storage.Tu)console.log(Math.floor(Date.now()/1e3),"ArrayBuffer[]");
this.en.contentWindow.postMessage(r,"*")};Storage.bb={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.aB6=function(F){F=F.toLowerCase();
var r=0;for(var O=0;O<F.length;O++)r+=F.charCodeAt(O)*613<<8*O;return"#"+j.lN(r&16777215)};Storage.ayA="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.kH="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
var dy=function(){var F,r,$,C,M,l,k,d;function I(S,z,V,t,Y){r=z;C=t;k=Y;F=S;l={};if(F==0){$=[V]}if(F==1){$=[];
for(var i in V)$.push(i)}if(F==2){var J=V[0],H=V[1],v=V[2],n={};for(var O=0;O<v.length;O++)n[v[O][0]]=!0;
var G={};for(var i in H){var g=i.split("/"),W=g[0],L=W.split("."),b="";if(L.length!=1){b="."+L.pop();
W=L.join(".")}while(n[W+b])W+=" - Copy";g[0]=W+b;G[g.join("/")]=H[i]}var T={};$=[];for(var i in G){var g=i.split("/");
for(var O=0;O<g.length-1;O++){var a=J+g.slice(0,O+1).join("/")+"/";if(T[a]==null){T[a]=!0;$.push([a])}}var R=J.endsWith("/")||i.startsWith("/")?"":"/";
$.push([J+R+i,G[i]])}}window.addEventListener("message",Q,!1);d=Date.now();c()}function c(){if($.length==0){U();
return}M=$.shift();if(F==0)x("show",M);if(F==1)x("load",M);if(F==2){x("save",M[0]);if(M.length==2)r.contentWindow.postMessage(M[1],"*")}}function Q(S){if(S.source!=r.contentWindow)return;
if(F==0){var z=JSON.parse(S.data),V=z.code,t=z.prm;for(var O=0;O<t.length;O++){var Y=t[O];if(C&&C.indexOf(Y[0])==-1)continue;
var i=M+(M=="/"?"":"/"),J=i+Y[0];if(Y[1]==-1)$.push(J);else l[J]=Y}C=null}else if(F==1){l[M]=new Uint8Array(S.data)}c()}function x(S,z){var V=S=="show"?", \"nothumbs\": true":"",t="{\"code\": \""+S+"\", \"prm\": "+JSON.stringify(z)+V+"  }";
r.contentWindow.postMessage(t,"*")}function U(){console.log(Date.now()-d);window.removeEventListener("message",Q,!1);
k(l)}return{n6:I}}();function jL(F){au.call(this);var r=this._=y.i("div","form scrollable padded label12");
this.$g=F;this.W2=null;var $=[],C=jL.w2[F];this.azh=[];for(var M in C){var l=parseInt(M.slice(1)),k=l%10==0?"":"\u2800\u2800- ";
$.push(k+C[M]);this.azh.push(l)}this.ci=[new gs("Name",null,30),new gs("Description",null,30,4),F==0?new gs("File"," www.Photopea.com#i...",17):new bH("File",!1,!1),new gs("Thumbnail URL","* Use Imgur.com etc.",17),new bc("Category",$),new jm("Make Public"),new jC("<< Back",null,null,!0),new jC("Save",null,null,!0)];
if(F==0)this.ci.push(new eu("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new eu("Get a Thumbnail URL: File - Publish Online - JPG."),new eu("Write a proper description, so that your work can be found using text search."));
if(F==1)this.ci.push(new eu("\"File\" - select a .JSON file of a plugin from your computer. The content must be: {\"name\": ..., \"url\":..., \"icon\":... }"));
if(F!=0)this.ci.push(new eu("Do not load any file to preserve the old version."));for(var O=0;O<this.ci.length;
O++){var d=this.ci[O];r.appendChild(d._);d.parent=this;if(O!=4&&O!=6)y.Hd(r);if(d instanceof jC)d.Q("click",this.a3b,this);
if(F!=0&&O==2)d.Q(_.E.V,this.afj,this)}}jL.prototype=new au;jL.prototype.afj=function(F){var r=this.ci[2],$=r.k(),C=Object.keys($),M=$[C[0]].buffer,l=dN.GN(M),k=" json atn abr grd asl pat csh icc".split(" ")[this.$g];
if(l!=k){alert("This is a wrong file"+(l?" ("+l.toUpperCase()+")":"")+". You need to upload the "+k.toUpperCase()+" file.");
r.o({})}};jL.prototype.a3b=function(F){if(F.target==this.ci[6]){this.a(new k6("back"));return}function r(k,d){return k.indexOf(d)!=-1}var $=this.ci[3].k().trim(),C=$.startsWith("http")&&(r($,".jpeg")||r($,".jpg")||r($,".png")||r($,".gif"));
if(!C){alert("Thumbnail URL is incorrect.");return}var M=new XMLHttpRequest,l=($);
M.open("GET",l);M.responseType="arraybuffer";M.onload=this.a3Y.bind(this);M.send()};jL.prototype.a3Y=function(F){var r=F.target.response,$=r.byteLength;
if($>2e5&&dN.GN(r)!="gif"){alert("Thumbnail is too large ("+iv.$A($)+"). Make it under 200 kB.");return}var C=this.ci[2].k(),M=Object.keys(C);
if(this.$g!=0&&M.length==0&&(this.W2==null||this.W2.file==null||this.W2.file=="")){alert("You need to select a file.");
return}if(this.$g!=0&&M.length!=0){console.log(C);bF.cO.a7S(C[M[0]].buffer,M[0],this.am9.bind(this),"pp-resources");
return}this.am9()};jL.prototype.am9=function(F){var r=this.$g,$="name desc file thmb catg publ".split(" "),C=this.W2;
for(var O=0;O<6;O++){if(r!=0&&O==2)continue;var M=this.ci[O].k();if(O<=3){M=M.trim();if(M.length==0){alert("One of values is empty.");
return}}if(O==2){if(M.endsWith(".psd"))M=M.slice(0,M.length-4);var l=M.split("#i");if(l.length!=2||l[1].length!=8){alert("File ID is incorrect.");
return}M=l.pop()}if(O==4)M=this.azh[M];C[$[O]]=M}if(r!=0){if(F)C.file=F;else if(C.file==null){alert("Select a file from your computer.");
return}}if(C.utme.length==0)C.utme=""+Math.round(Date.now()/1e3);C.type=r;this.a(new k6("save"))};jL.prototype.l=function(){};
jL.prototype.o=function(F){var r=this.W2=j.N(F),$=this.$g,C="name desc file thmb catg publ".split(" ");
for(var O=0;O<6;O++){if($!=0&&O==2)continue;var M=r[C[O]];if(M!=""&&O==2)M="https://photopea.com#i"+M;
if(O==4)M=this.azh.indexOf(M);if(O==5&&M==null)M=!0;this.ci[O].o(M)}};jL.prototype.k=function(){return j.N(this.W2)};
jL.w2=[{c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"},{c0:"Resources",c1:"Image Elements",c2:"Fonts",c10:"Effects",c11:"Filters",c12:"Combine Elements",c13:"Text Effects",c20:"Generate Content",c30:"Other Plugins"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"},{c0:"Default"}];
function jc(){au.call(this);var F=this._=y.i("div","form");this.W2=null;this.AS=null;this.As=null;this.JR=null;
var r=y.i("canvas");this.Tg=r.getContext("2d");y.C7(r);y.TX(r,this.Oh.bind(this));this.rA=[new a8([12,44],[[19,0,0],[19,0,1]]),{_:r},new eT([12,0],0,100,"%",null,null,null,4),new a$,new eT([12,40],0,100,"%",2,null,null,4),new jC([5,4],null,null,!0)];
for(var O=0;O<this.rA.length;O++){var $=this.rA[O];$.parent=this;F.appendChild($._);if(O!=2&&O!=4)y.Hd(F);
if(O!=1)$.Q(O==5?"click":_.E.V,this.ms,this)}this.Oz=this._l.bind(this);this.EH=this.HA.bind(this)}jc.prototype=new au;
jc.prototype.k=function(){return j.N(this.W2)};jc.prototype.o=function(F){this.W2=j.N(F);this.R0()};
jc.prototype.l=function(){var F=this.rA;for(var O=0;O<F.length;O++)if(F[O].l)F[O].l()};jc.prototype.Oh=function(F){var r=y.ha(),$=y.Bz(F,this.Tg.canvas);
$.x*=r;$.y*=r;var C=this.As,M=this.JR,l=this.W2,k=l[1],d=7*y.ha(),I=-1;for(var O=0;O<C.length;O++){if(hx.BV($,C[O][0])<d)I=O}if(I==-1){if(Math.abs($.y-(M.y+M.$))>10*r)return;
var c=[.5,[0,0,0],1,.5];k.push(c);k.sort(function(Q,x){return Q[0]-x[0]});this.un=[new hx,k.indexOf(c),0]}else this.un=C[I];
this.AS=JSON.stringify(this.W2);y.dO(window,this.Oz);y.an(window,this.EH);if(I==-1)this._l(F);this.R0()};
jc.prototype._l=function(F){this.W2=JSON.parse(this.AS);var r=y.ha(),$=y.Bz(F,this.Tg.canvas);$.x*=r;
$.y*=r;var C=this.un,M=C[1],l=this.JR,k=this.W2[1],d=k[M],I=($.x-l.x)/l.r;if(C[2]==0){d[0]=Math.max(0,Math.min(1,I));
if(Math.abs($.y-(l.y+l.$))>30*r)k.splice(M,1)}else{var c=d[0],Q=k[M+1][0],x=d[3];d[3]=Math.max(.13,Math.min(.87,(I-c)/(Q-c)))}k.sort(function(U,S){return U[0]-S[0]});
this.R0()};jc.prototype.HA=function(F){y.Fp(window,this.Oz);y.gj(window,this.EH)};jc.prototype.ms=function(F){var r=this.rA,O=r.indexOf(F.target),$=this.W2,C=F.target.k(),M=this.un;
if(O==0)$[0]=C;if(M){var l=$[1][M[1]];if(O==2)l[2]=C/100;if(O==3){C=j.iW(F.target.Yt());l[1]=[C.t/255,C.L/255,C.X/255]}if(O==4)if(M[2]==0)l[0]=C/100;
else l[3]=Math.max(.13,Math.min(.87,C/100));if(O==5){$[1].splice(M[1],1);this.un=null}}this.R0()};jc.prototype.R0=function(){var F=this.rA,r=this.W2,$=r[1],C=this.Tg,M=C.canvas;
F[0].o(r[0]);var l=M.width=Math.floor(300*y.ha()),k=M.height=Math.floor(60*y.ha()),d=Math.floor(20*y.ha()),I=l-d-d;
this.JR=new cS(d,d,I,k-d-d);y._6(M);var c=C.fillStyle=C.createLinearGradient(d,d,l-d,d);j.qS.CT(c,$);
C.fillRect(d,d,I,k-d-d);C.lineWidth=1;C.strokeRect(d-.5,d-.5,I+1,k-d-d+1);var Q=this.As=[],x=this.un;
C.fillStyle="white";for(var O=0;O<$.length;O++){var U=$[O],S=U[0],z=k-d*.6;if(x&&x[1]==O&&x[2]==0){C.fillStyle="#00aaff";
C.beginPath();C.arc(d+S*I,z,k*.125,0,2*Math.PI);C.fill()}C.fillStyle="white";C.beginPath();C.arc(d+S*I,z,k*.1,0,2*Math.PI);
C.fill();C.beginPath();C.arc(d+S*I,z,k*.07,0,2*Math.PI);C.stroke();Q.push([new hx(d+S*I,z),O,0]);if(O!=$.length-1){var V=U[3],t=$[O+1][0];
S=S+V*(t-S);z=d*.7;if(x&&x[1]==O&&x[2]==1){C.fillStyle="#00aaff";C.beginPath();C.arc(d+S*I,z,k*.075,0,2*Math.PI);
C.fill()}C.fillStyle="white";C.beginPath();C.arc(d+S*I,z,k*.05,0,2*Math.PI);C.fill();Q.push([new hx(d+S*I,z),O,1])}}F[2].fC(x&&x[2]==0);
F[3].fC(x&&x[2]==0);F[4].fC(x!=null);F[5].fC(x&&x[2]==0&&$.length>2);if(x){var U=$[x[1]],Y=U[1];if(x[2]==0)F[2].o(U[2]*100);
F[3].ZJ(j.Vw({t:Y[0]*255,L:Y[1]*255,X:Y[2]*255}));F[4].o(U[x[2]==0?0:3]*100)}};function cW(F){au.call(this);
this.iF=F;this._=y.i("div","");this.wj=[];this.ars=null;this.auM=[]}cW.prototype=new au;cW.prototype.l4=function(F){};
cW.prototype.vC=function(){return!1};cW.prototype.Ga=function(){return 0};cW.prototype.Xt=function(F,r){};
cW.prototype.Db=function(F,r){};cW.prototype.ZA=function(F){};cW.prototype.o=function(F,r,$,C,M,l){var k=[],d=this.wj,I=0,c=e9.cP["s"+this.iF];
if(this.iF=="Dspl")this.Mq(F,k,l);else c?c(F,k,l):this.Mq(F,k,l);for(var O=0;O<d.length;O++)if(!(d[O]instanceof eu))d[O].o(k[I++]);
if(F.RndS)this.ars=F.RndS.v};cW.prototype.k=function(){var F=e9.Mv(this.iF),r=[],$=this.wj,C=0;for(var O=0;
O<$.length;O++)if(!($[O]instanceof eu))r[C++]=$[O].k();var M=e9.cP["g"+this.iF];if(this.iF=="Dspl")this.$y(F,r);
else M?M(F,r):this.$y(F,r);if(F.RndS)F.RndS.v=this.ars;return F};cW.prototype.JG=function(F){};cW.prototype.yE=function(F){if(F&&F.target instanceof jC){this.ars=Math.floor(Math.random()*4294967295)}var r=this.auM;
for(var O=0;O<r.length;O+=2){var $=this.wj[r[O]],C=this.wj[r[O+1]],M=$.k(),l=C.k();if(F.target==$)C.o(Math.max(M,l));
else $.o(Math.min(M,l))}this.a(new k6(_.E.V))};cW.prototype.l=function(){for(var O=0;O<this.wj.length;
O++)this.wj[O].l();var F=this.ab6;if(F)F.l()};cW.prototype.G7=function(F){y.yY(this._,"form");var r=this.wj;
for(var O=0;O<r.length;O++){var $=r[O];$.parent=this;$.Q(_.E.V,this.yE,this);this._.appendChild($._);
if($ instanceof jm&&r[O+1]instanceof a$)continue;if(F&&F.indexOf(O)!=-1)y.ox(this._);else y.Hd(this._)}var C=e9.Mv(this.iF);
if(C.RndS){var M=this.ab6=new jC([25,1,2],null,null,!0);this._.appendChild(M._);M.Q("click",this.yE,this)}};
cW.prototype.fI=function(F){return!1};cW.prototype.g4=function(){return!1};cW.prototype.SY=function(F,r,$,C,M){};
cW.prototype.GQ=function(F,r,$,C,M){};cW.prototype.pf=function(F,r,$,C,M){};cW.prototype.$y=function(F,r){};
cW.prototype.Mq=function(F,r){};cW.prototype.bt=function(F){var r=F.target.k().indexOf(!0),$=r!=-1;if(r!=-1){this.p8=r}if(this.hA==null)this.hA=0;
var C=Date.now(),M=new k6(_.E.c,!0);M.vs=!0;if(C-this.hA<300&&this.p8<3&&this.OF&&this.dI==null){if(this.XI==null)this.XI=[0,8421504,16777215];
M.data={R:_.m.Oe,rS:"colorpicker",$d:this.XI[this.p8],Xq:this.anf.bind(this)};this.a(M)}else{this.aCh(r!=-1)}this.hA=C};
cW.prototype.aCh=function(F){var r=new k6(_.E.c,!0);r.vs=!0;r.data={R:F?_.m.Td:_.m.oa,J:B.Uh};this.a(r);
r=new k6(_.E.O,!0);r.J=B.Uh;r.vs=!0;r.data={R:"supertool",J:F?this:null};this.a(r)};cW.prototype.anf=function(F){this.XI[this.p8]=F;
var r=[];for(var O=0;O<3;O++)r[O]="#"+j.lN(this.XI[O]);this.OF.Ek(a8.Jl(r));var $=[!1,!1,!1];$[this.p8]=!0;
this.OF.o($);this.aCh(!0)};cW.aqg=function(F){F.g4=function(){return!0};F.SY=function(r,$,C,M,l){this.eA=!0;
this.akz(r,l)};F.GQ=function(r,$,C,M,l){if(!this.eA)return;this.akz(r,l)};F.pf=function(r,$,C,M,l){this.eA=!1};
F.akz=function(r,$){var C=new cS(0,0,r.r,r.$);if(r.d)C=r.d.S;var M=r.f.Ti($.x,$.y);M.x-=C.x;M.y-=C.y;
function l(k,d){return Math.round(Math.max(0,Math.min(100,100*k/d)))}this.wj[2].o(l(M.x,C.r));this.wj[3].o(l(M.y,C.$));
this.yE()}};cW.aeu=function(F,r,$,C){var M=F.OF.k().indexOf(!0);if(M==-1||M>2)return;var l=C=="levl"?fc:bb,k=F.value;
F.value=e9.Mv(C);F.yE();var d=B.$r.GA(r,$,1,null,!0),I=[d>>>16&255,d>>>8&255,d&255],c=F.XI;if(c==null)c=[0,8421504,16777215];
d=c[M];var Q=[d>>>16&255,d>>>8&255,d&255];for(var O=0;O<3;O++){var x=l.T9(k,1+O);if(M==0){var U=I[O]-Q[O];
if(C=="levl")x[0]=U;else x[0].v.Hrzn.v=U}if(M==1){var S=Math.log(I[O]/255)/Math.log((I[0]+I[1]+I[2])*.333/255),z=Math.log(Q[O]/255)/Math.log((Q[0]+Q[1]+Q[2])*.333/255),V=S/z;
if(C=="levl")x[4]=Math.min(999,Math.max(10,Math.round(100*V)));else{if(x.length==2)x.splice(1,0,j.N(x[0]));
x[1].v.Hrzn.v=127-Math.log(V)*80;x[1].v.Vrtc.v=127}}if(M==2){var U=255*I[O]/Q[O];if(C=="levl")x[1]=U;
else x[x.length-1].v.Hrzn.v=U}l.qd(k,1+O,x)}F.o(k);F.yE()};cW.Bokh=function(){cW.call(this,"Bokh");this.wj=[new bc("Depth Map",["A","b"]),new gm("Focal Distance",0,255),new jm([4,11]),new bc([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new gm([12,56],0,100),new gm([12,15],0,360),new gm([12,2],0,100),new gm([4,13],0,255),new gm([24,6],0,100),new a8([12,58],[[12,59,0],[12,59,1]]),new jm([12,60])];
this.G7([5,7])};cW.Bokh.prototype=new cW;cW.Bokh.prototype.Mq=function(F,r,$){var C=[[22,5,0],[6,5,3],[6,2]],M=F.BkDi.v.BtDi,l=F.BkDc,k=0;
if(M=="BeIn")k=0;else if(M=="BeIt"&&l.v.BtDc=="BeCt")k=1;else if(M=="BeIt"&&l.v.BtDc=="BeCm")k=2;else k=3+l.v;
for(var O=0;O<$[1].length;O++)C.push($[1][O].name);this.wj[0].Ek(C,[3]);r[0]=k;r[1]=F.BkDp.v;r[2]=F.BkDs.v;
r[3]=parseInt(F.BkIs.v.BtIs.slice(3))-3;r[4]=F.BkIb.v;r[5]=F.BkIr.v;r[6]=F.BkSb.v;r[7]=F.BkSt.v;r[8]=F.BkNa.v;
r[9]=F.BkNt.v.BtNt=="BeNu"?0:1;r[10]=F.BkNm.v};cW.Bokh.prototype.$y=function(F,r){var $;if(r[0]==0){$="BeIn";
delete F.BkDc}else if(r[0]<3){$="BeIt";F.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][r[0]-1]}}}else{$="BeIa";
F.BkDc={t:"long",v:r[0]-3}}F.BkDi.v.BtDi=$;F.BkDp.v=r[1];F.BkDs.v=r[2];F.BkIs.v.BtIs="BeS"+(3+r[3]);
F.BkIb.v=r[4];F.BkIr.v=r[5];F.BkSb.v=r[6];F.BkSt.v=r[7];F.BkNa.v=r[8];F.BkNt.v.BtNt=["BeNu","BeNg"][r[9]];
F.BkNm.v=r[10]};cW.oilPaint=function(){cW.call(this,"oilPaint");this.wj=[new gm([12,56],.1,10,"px",!0),new gm("Cleanliness",0,10,"px",!0),new gm([12,38],.1,10,null,!0),new gm("Bristle Detail",0,10,null,!0),new jm("Lighting"),new gm("Shine",0,10,null,!0),new f3([12,15])];
this.G7()};cW.oilPaint.prototype=new cW;cW.oilPaint.prototype.Mq=function(F,r){var $="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var O=0;O<$.length;O++)r[O]=F[$[O]].v;r[6]=[F.LghD.v]};cW.oilPaint.prototype.$y=function(F,r){var $="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var O=0;O<$.length;O++)F[$[O]].v=r[O];F.LghD.v=r[6][0]};cW.TrcC=function(){cW.call(this,"TrcC");
this.wj=[new gm("Level",0,255),new a8([12,69],[[19,4,1],[19,4,0]])];this.G7()};cW.TrcC.prototype=new cW;
cW.TrcC.prototype.Mq=function(F,r){r[0]=F.Lvl.v;r[1]=["Lwr","Upr"].indexOf(F.Edg.v.CntE)};cW.TrcC.prototype.$y=function(F,r){F.Lvl.v=r[0];
F.Edg.v.CntE=["Lwr","Upr"][r[1]]};cW["Dfs "]=function(){cW.call(this,"Dfs ");this.wj=[new a8([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];
this.G7()};cW["Dfs "].prototype=new cW;cW["Dfs "].prototype.Mq=function(F,r){r[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(F.Md.v.DfsM)};
cW["Dfs "].prototype.$y=function(F,r){F.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][r[0]]};cW.Embs=function(){cW.call(this,"Embs");
this.wj=[new f3([12,15]),new gm([12,42],1,100,"px"),new gm([12,57],1,500,"%")];this.G7()};cW.Embs.prototype=new cW;
cW.Embs.prototype.Mq=function(F,r){r[0]=[F.Angl.v];r[1]=F.Hght.v;r[2]=F.Amnt.v};cW.Embs.prototype.$y=function(F,r){F.Angl.v=r[0][0];
F.Hght.v=r[1];F.Amnt.v=r[2]};cW["Wnd "]=function(){cW.call(this,"Wnd ");this.wj=[new a8([12,32],["Wind","Blast","Stagger"]),new a8([12,33],["From the Right","From the Left"])];
this.G7()};cW["Wnd "].prototype=new cW;cW["Wnd "].prototype.Mq=function(F,r){r[0]=["Wnd","Blst","Stgr"].indexOf(F.WndM.v.WndM);
r[1]=["Left","Rght"].indexOf(F.Drct.v.Drct)};cW["Wnd "].prototype.$y=function(F,r){F.WndM.v.WndM=["Wnd","Blst","Stgr"][r[0]];
F.Drct.v.Drct=["Left","Rght"][r[1]]};cW.denoise=function(){cW.call(this,"denoise");this.wj=[new gm([12,64],0,10),new gm([12,65],0,100,"%")];
this.G7()};cW.denoise.prototype=new cW;cW.denoise.prototype.Mq=function(F,r){var $=F.channelDenoise.v[0].v;
r[0]=$.Amnt.v;r[1]=$.EdgF.v};cW.denoise.prototype.$y=function(F,r){var $=F.channelDenoise.v[0].v;$.Amnt.v=r[0];
$.EdgF.v=r[1]};cW.lightFilterGradient=function(){cW.call(this,"lightFilterGradient");this.wj=[new gm([24,3,1],0,100,"px",1,!0),new gm([12,38],0,200,"%"),new jm([4,11]),new gm("High",0,100,"%"),new gm("Medium",0,100,"%"),new gm("Low",0,100,"%")];
this.G7()};cW.lightFilterGradient.prototype=new cW;cW.lightFilterGradient.prototype.Mq=function(F,r){r[0]=F.blur.v;
r[1]=F.textureScale.v*100;r[2]=F.Scl.v==-1;var $=F.Dtl.v;r[3]=$[0].v*100;r[4]=$[1].v*100;r[5]=$[2].v*100};
cW.lightFilterGradient.prototype.$y=function(F,r){F.blur.v=r[0];F.textureScale.v=r[1]/100;F.Scl.v=r[2]?-1:1;
var $=F.Dtl.v;$[0].v=r[3]/100;$[1].v=r[4]/100;$[2].v=r[5]/100};cW.Fbrs=function(){cW.call(this,"Fbrs");
this.wj=[new gm("Variance",1,64),new gm([12,64],1,64)];this.G7()};cW.Fbrs.prototype=new cW;cW.Fbrs.prototype.Mq=function(F,r){r[0]=F.Vrnc.v;
r[1]=F.Strg.v};cW.Fbrs.prototype.$y=function(F,r){F.Vrnc.v=r[0];F.Strg.v=r[1]};cW.LnsF=function(){cW.call(this,"LnsF");
this.wj=[new gm([12,2],10,300,"%"),new a8([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new gm("Position X",0,100,"%"),new gm("Position Y",0,100,"%")];
this.G7()};cW.LnsF.prototype=new cW;cW.LnsF.prototype.Mq=function(F,r){r[0]=F.Brgh.v;r[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(F.Lns.v.Lns);
var $=F.FlrC.v;r[2]=Math.round($.Hrzn.v*100);r[3]=Math.round($.Vrtc.v*100)};cW.LnsF.prototype.$y=function(F,r){F.Brgh.v=r[0];
F.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][r[1]];var $=F.FlrC.v;$.Hrzn.v=r[2]/100;$.Vrtc.v=r[3]/100};cW.aqg(cW.LnsF.prototype);
cW.blendOptions=function(){cW.call(this,"blendOptions");this.wj.push(new bc([12,19,0],dL.X_,dL.rn));
this.wj.push(new gm([12,0],0,100,"%"));this.G7()};cW.blendOptions.prototype=new cW;cW.blendOptions.prototype.Mq=function(F,r){r[0]=dL.UI.indexOf(F.Md.v.BlnM);
r[1]=F.Opct.v.val};cW.blendOptions.prototype.$y=function(F,r){F.Md.v.BlnM=dL.UI[r[0]];F.Opct.v.val=r[1]};
cW.LnCr=function(){cW.call(this,"LnCr");this.wj=[new gm([12,57],-100,100),new gm([12,38],10,150,"%")];
this.G7()};cW.LnCr.prototype=new cW;cW.LnCr.prototype.Mq=function(F,r){r[0]=F.LnIa.v;r[1]=F.LnSi.v};
cW.LnCr.prototype.$y=function(F,r){F.LnIa.v=r[0];F.LnSi.v=r[1]};cW.adaptCorrect=function(){cW.call(this,"adaptCorrect");
var F=aS;this.wj=[new eu([19,6,0]),new F([12,57],0,100,"%"),new F("Tone",0,100,"%"),new F([12,56],0,200,"px"),new eu([19,6,2]),new F([12,57],0,100,"%"),new F("Tone",0,100,"%"),new F([12,56],0,200,"px"),new eu([3]),new F([13,0],-100,100)];
this.G7([3,7])};cW.adaptCorrect.prototype=new cW;cW.adaptCorrect.prototype.Mq=function(F,r){var $=F.sdwM.v;
r[0]=$.Amnt.v.val;r[1]=$.Wdth.v.val;r[2]=$.Rds.v;var $=F.hglM.v;r[3]=$.Amnt.v.val;r[4]=$.Wdth.v.val;
r[5]=$.Rds.v;r[6]=F.ClrC.v};cW.adaptCorrect.prototype.$y=function(F,r){var $=F.sdwM.v;$.Amnt.v.val=r[0];
$.Wdth.v.val=r[1];$.Rds.v=r[2];var $=F.hglM.v;$.Amnt.v.val=r[3];$.Wdth.v.val=r[4];$.Rds.v=r[5];F.ClrC.v=r[6]};
cW.Flam=function(){cW.call(this,"Flam");var F=this.wj=[new bc([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new gm([12,80,0],20,1e3,"px"),new jm("Randomize Length"),new gm([12,41],5,600,"px"),new gm([12,15],0,360,"\xB0"),new gm("Interval",10,200,"px"),new jm("Adapt Interval for Loops"),new a$(!1),new bc([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new gm("Turbulent",0,100),new gm("Jag",0,100),new gm([12,0],0,100),new gm("Lines",2,30),new gm("Bottom",0,100),new bc([12,22],["Normal","Violent","Flat"]),new bc([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new jm("Randomize Shape"),new gm("Random Seed",0,100)];
this.G7();var r=this._;y.RR(r);var $=new a8(null,["Basic","Advanced"]);$.Q(_.E.V,this.aF2,this);r.appendChild($._);
y.ox(r);var C=y.i("div"),M=y.i("div");this.auX=[C,M];r.appendChild(C);for(var O=0;O<F.length;O++){(O<9?C:M).appendChild(F[O]._);
if(O==6)y.Hd(C)}F[0].Q(_.E.V,this.aGE,this);this.aGE()};cW.Flam.prototype=new cW;cW.Flam.prototype.aGE=function(F){var r=this.wj,O=r[0].k();
r[1].fC(O!=0&&O!=5);r[2].fC(O!=0&&O!=5);r[4].fC(O!=0&&O!=5&&O!=1);r[5].fC(O!=0&&O!=5);r[6].fC(O!=0&&O!=5)};
cW.Flam.prototype.aF2=function(F){var O=F.target.k(),r=this.auX,$=this._;$.removeChild(r[1-O]);$.appendChild(r[O])};
cW.boxblur=function(){cW.call(this,"boxblur");this.wj=[new gm([12,56],1,200," px")];this.G7()};cW.boxblur.prototype=new cW;
cW.boxblur.prototype.Mq=function(F,r){r[0]=F.Rds.v.val};cW.boxblur.prototype.$y=function(F,r){F.Rds.v.val=r[0]};
cW.GsnB=function(){cW.call(this,"GsnB");this.wj=[new gm([12,56],.1,400,"px",1,!0)];this.G7()};cW.GsnB.prototype=new cW;
cW.Dila=function(){cW.call(this,"Dila");this.wj=[new gm([11,12,1],0,20,"px",0),new gm([12,56],0,400,"px",0,!0)];
this.G7()};cW.Dila.prototype=new cW;cW.MtnB=function(){cW.call(this,"MtnB");this.wj=[new f3([12,15]),new gm([12,28],1,100," px")];
this.G7()};cW.MtnB.prototype=new cW;cW.RdlB=function(){cW.call(this,"RdlB");this.wj=[new gm([12,57],1,100),new a8([12,36],["Spin","Zoom"]),new gm("Position X",0,100,"%"),new gm("Position Y",0,100,"%")];
this.G7()};cW.RdlB.prototype=new cW;cW.RdlB.prototype.Mq=function(F,r){r[0]=F.Amnt.v;r[1]=["Spn","Zm"].indexOf(F.BlrM.v.BlrM);
r[2]=F.Cntr.v.Hrzn.v*100;r[3]=F.Cntr.v.Vrtc.v*100};cW.RdlB.prototype.$y=function(F,r){F.Amnt.v=r[0];
F.BlrM.v.BlrM=["Spn","Zm"][r[1]];F.Cntr.v.Hrzn.v=r[2]/100;F.Cntr.v.Vrtc.v=r[3]/100};cW.aqg(cW.RdlB.prototype);
cW.Dspl=function(){cW.call(this,"Dspl");this.wj=[new bc([6,36,3],["a","b"]),new gm([22,4,0],-100,100,"px"),new gm([22,4,1],-100,100,"px"),new bc([24,18,0],[[24,18,3],[24,18,2]])];
this.G7()};cW.Dspl.prototype=new cW;cW.Dspl.prototype.Mq=function(F,r,$){this.aCF=[];this.Dz=[];var C=-1,M=$?$[0]:null;
if(M==null)M=this.aDO;else this.aDO=M;if(M)for(var O=0;O<M.length;O++){var l=M[O];this.aCF.push(l.fO.trim());
this.Dz.push(l.ar);if(l.ar==F.DspF.v.pth)C=O}this.wj[0].Ek(this.aCF);r[0]=C==-1?0:C;r[1]=F.HrzS.v;r[2]=F.VrtS.v;
r[3]=["WrpA","RptE"].indexOf(F.UndA.v.UndA)};cW.Dspl.prototype.$y=function(F,r){var $=this.aDO;if(this.Dz.length==0)return;
F.DspF.v.pth=this.Dz[r[0]];F.HrzS.v=r[1];F.VrtS.v=r[2];F.UndA.v.UndA=["WrpA","RptE"][r[3]];var C=$[r[0]];
C.Ez();var M=C.gn[1],l=M.r,k=M.$,d=j.j(M.C());j.R2(C.gn[0],d);var I=[k&255,k>>>8,0,0,l&255,l>>>8,0,0,3,0];
for(var c=0;c<2;c++)for(var O=0;O<d.length;O++)I.push(d[O]);for(var O=0;O<1e3;O++)I.push(0);F.DspD={t:"tdta",v:I};
F.EmbF={t:"bool",v:!0}};cW.Pnch=function(){cW.call(this,"Pnch");this.wj=[new gm([12,57],-100,100,"%")];
this.G7()};cW.Pnch.prototype=new cW;cW["Plr "]=function(){cW.call(this,"Plr ");this.wj=[new a8(null,["Rect to Polar","Polar to Rect"])];
this.G7()};cW["Plr "].prototype=new cW;cW.Rple=function(){cW.call(this,"Rple");this.wj=[new gm([12,57],-999,999),new bc([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];
this.G7()};cW.Rple.prototype=new cW;cW["Shr "]=function(){cW.call(this,"Shr ");this.wj=[new co(!0,!0),new bc([24,18,0],[[24,18,3],[24,18,2]])];
this.G7()};cW["Shr "].prototype=new cW;cW["Shr "].prototype.Mq=function(F,r){var $=new hS(0,255/127,255/127,0,-2,128),C=j.N(F.ShrP.v);
j.Jw.U(C,$);r[0]=C;r[1]=["WrpA","RptE"].indexOf(F.UndA.v.UndA)};cW["Shr "].prototype.$y=function(F,r){var $=new hS(0,255/127,255/127,0,-2,128);
$.v4();j.Jw.U(r[0],$);F.ShrP.v=r[0];F.ShrE.v=r[0].length-1;F.UndA.v.UndA=["WrpA","RptE"][r[1]]};cW.Sphr=function(){cW.call(this,"Sphr");
this.wj=[new gm([12,57],-100,100),new bc([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.G7()};cW.Sphr.prototype=new cW;
cW.Sphr.prototype.Mq=function(F,r){r[0]=F.Amnt.v;r[1]=["Nrml","HrzO","VrtO"].indexOf(F.SphM.v.SphM)};
cW.Sphr.prototype.$y=function(F,r){F.Amnt.v=r[0];F.SphM.v.SphM=["Nrml","HrzO","VrtO"][r[1]]};cW.Dthr=function(){cW.call(this,"Dthr");
this.wj=[new bc("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"]),new a8("Method",["None","Floyd-Steinberg","Bayer 4x4"])];
this.G7()};cW.Dthr.prototype=new cW;cW.Dthr.prototype.Mq=function(F,r){r[0]=F.Plte.v;r[1]=F.Mthd?F.Mthd.v:1};
cW.Dthr.prototype.$y=function(F,r){F.Plte.v=r[0];F.Mthd.v=r[1]};cW.Part=function(){cW.call(this,"Part");
this.wj=[new gm([15,5,1],0,100,"%"),new gm([12,14,0],1,50,"px"),new gm([12,34],0,100,"%"),new gm([12,2],10,1e3,"%"),new a$(!0),new gm("Time",0,1,null,3),new gm("Turbulence",0,100,"%"),new jm("Blink"),new jm("Fall")];
this.G7([4])};cW.Part.prototype=new cW;cW.Part.prototype.Mq=function(F,r){r[0]=F.Cont.v;r[1]=F.Size.v;
r[2]=F.Dpth.v;r[3]=F.Brgh.v;r[4]=F.Clr.v;r[5]=F.Time.v;r[6]=F.Turb.v;r[7]=F.Blnk.v;r[8]=F.Fall.v};cW.Part.prototype.$y=function(F,r){F.Cont.v=r[0];
F.Size.v=r[1];F.Dpth.v=r[2];F.Brgh.v=r[3];F.Clr.v=r[4];F.Time.v=r[5];F.Turb.v=r[6];F.Blnk.v=r[7];F.Fall.v=r[8]};
cW.Twrl=function(){cW.call(this,"Twrl");this.wj=[new gm([12,15],-999,999)];this.G7()};cW.Twrl.prototype=new cW;
cW.Wave=function(){cW.call(this,"Wave");this.auM=[1,2,3,4];this.wj=[new gm("Number of Generators",1,100),new aS("Min Length",1,999),new aS("Max Length",1,999),new aS("Min Ampl.",1,999),new aS("Max Ampl.",1,999),new aS("Scale X",1,100,"%"),new aS("Scale Y",1,100,"%"),new a8([12,44],["Sine","Triangle",[12,93,3]]),new bc([24,18,0],[[24,18,3],[24,18,2]])];
this.G7()};cW.Wave.prototype=new cW;cW.ZgZg=function(){cW.call(this,"ZgZg");this.wj=[new gm([12,57],-100,100),new gm("Ridges",0,20),new bc([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.G7()};cW.ZgZg.prototype=new cW;cW.surfaceBlur=function(){cW.call(this,"surfaceBlur");this.wj=[new gm([12,56],1,200," px"),new gm([4,13],1,255," px")];
this.G7()};cW.surfaceBlur.prototype=new cW;cW.surfaceBlur.prototype.Mq=function(F,r){r[0]=F.Rds.v.val;
r[1]=F.Thsh.v};cW.surfaceBlur.prototype.$y=function(F,r){F.Rds.v.val=r[0];F.Thsh.v=r[1]};cW.AdNs=function(){cW.call(this,"AdNs");
this.wj=[new gm([12,57],0,200," %"),new bc([12,58],[[12,59,1],[12,59,0]]),new jm([12,60])];this.G7()};
cW.AdNs.prototype=new cW;cW.DstS=function(){cW.call(this,"DstS");this.wj=[new gm([12,56],1,200," px"),new gm([4,13],1,255," px")];
this.G7()};cW.DstS.prototype=new cW;cW["Mdn "]=function(){cW.call(this,"Mdn ");this.wj=[new gm([12,56],1,200," px")];
this.G7()};cW["Mdn "].prototype=new cW;cW["Mdn "].prototype.Mq=function(F,r){r[0]=F.Rds.v.val};cW["Mdn "].prototype.$y=function(F,r){F.Rds.v.val=r[0]};
cW.ClrH=function(){cW.call(this,"ClrH");this.wj=[new gm([12,56],4,100," px")];for(var O=1;O<4;O++)this.wj.push(new gm("Angle "+O,0,90," \xB0"));
this.G7()};cW.ClrH.prototype=new cW;cW.ClrH.prototype.Mq=function(F,r){r[0]=F.Rds.v;for(var O=1;O<4;
O++)r[O]=F["Ang"+O].v};cW.ClrH.prototype.$y=function(F,r){F.Rds.v=r[0];for(var O=1;O<4;O++)F["Ang"+O].v=r[O]};
cW.ClrH.prototype.l=function(){var F=this.wj;F[0].l();for(var O=1;O<4;O++)F[O].Ck(dG.get([12,15])+" "+O)};
cW.Crst=function(){cW.call(this,"Crst");this.wj=[new gm([12,61],3,100," px")];this.G7()};cW.Crst.prototype=new cW;
cW.Crst.prototype.Mq=function(F,r){r[0]=F.ClSz.v};cW.Crst.prototype.$y=function(F,r){F.ClSz.v=r[0]};
cW.Mztn=function(){cW.call(this,"Mztn");this.wj.push(new bc([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),[4,3,3]));
this.Dz="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.G7()};cW.Mztn.prototype=new cW;
cW.Mztn.prototype.Mq=function(F,r){r[0]=this.Dz.indexOf(F.MztT.v.MztT)};cW.Mztn.prototype.$y=function(F,r){F.MztT.v.MztT=this.Dz[r[0]]};
cW["Msc "]=function(){cW.call(this,"Msc ");this.wj=[new gm([12,61],2,200," px")];this.G7()};cW["Msc "].prototype=new cW;
cW["Msc "].prototype.Mq=function(F,r){r[0]=F.ClSz.v.val};cW["Msc "].prototype.$y=function(F,r){F.ClSz.v.val=r[0]};
cW.Pntl=function(){cW.call(this,"Pntl");this.wj=[new gm([12,61],3,100," px")];this.G7()};cW.Pntl.prototype=new cW;
cW.Pntl.prototype.Mq=function(F,r){r[0]=F.ClSz.v};cW.Pntl.prototype.$y=function(F,r){F.ClSz.v=r[0]};
cW.smartSharpen=function(){cW.call(this,"smartSharpen");this.wj=[new gm([12,57],1,200,"%"),new gm([12,56],0,200,"px",1,!0)];
this.G7()};cW.smartSharpen.prototype=new cW;cW.smartSharpen.prototype.Mq=function(F,r){r[0]=F.Amnt?F.Amnt.v.val:200;
r[1]=F.Rds?F.Rds.v.val:1};cW.smartSharpen.prototype.$y=function(F,r){F.Amnt.v.val=r[0];F.Rds.v.val=r[1]};
cW.UnsM=function(){cW.call(this,"UnsM");this.wj=[new gm([12,57],1,200," %"),new gm([12,56],.1,400,"px",1,!0),new gm([4,13],0,255," ")];
this.G7()};cW.UnsM.prototype=new cW;cW.HghP=function(){cW.call(this,"HghP");this.wj=[new gm([12,56],.1,400,"px",1,!0)];
this.G7()};cW.HghP.prototype=new cW;cW.HsbP=function(){cW.call(this,"HsbP");this.wj=[new a8("Input",["RGB","HSB","HSL"]),new a8("Output",["RGB","HSB","HSL"])];
this.G7()};cW.HsbP.prototype=new cW;cW["Mxm "]=function(){cW.call(this,"Mxm ");this.wj=[new gm([12,56],.1,200," px",1,!0),new bc([12,76,1],[[12,93,3],"Circle"])];
this.G7()};cW["Mxm "].prototype=new cW;cW["Mnm "]=function(){cW.call(this,"Mnm ");this.wj=[new gm([12,56],.1,200," px",1,!0),new bc([12,76,1],[[12,93,3],"Circle"])];
this.G7()};cW["Mnm "].prototype=new cW;cW.Ofst=function(){cW.call(this,"Ofst");this.wj=[new gm([22,4,0],-1024,1024," px"),new gm([22,4,1],-1024,1024," px"),new bc([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.G7()};cW.Ofst.prototype=new cW;cW.Kale=function(){cW.call(this,"Kale");this.wj=[new aS("Mirrors",2,20),new aS([12,15],0,360,"\xB0")];
this.G7()};cW.Kale.prototype=new cW;cW.Kale.prototype.Mq=function(F,r){r[0]=F.Mirr.v;r[1]=F.MRot.v};
cW.Kale.prototype.$y=function(F,r){F.Mirr.v=r[0];F.MRot.v=r[1]};cW.Rept=function(){cW.call(this,"Rept");
this.wj=[new aS([12,38],1,300," %"),new aS("Row Shift",-50,50," %"),new aS("Space X",-99,200," %"),new aS("Space Y",-99,200," %"),new jm([4,16,2]),new f3([12,15])];
this.G7()};cW.Rept.prototype=new cW;cW.Rept.prototype.Mq=function(F,r){r[0]=F.Scl.v.val;r[1]=F.Rsft.v.val;
r[2]=F.SpcX.v.val;r[3]=F.SpcY.v.val;r[4]=F.SpcC.v;r[5]=[F.Angl.v]};cW.Rept.prototype.$y=function(F,r){F.Scl.v.val=r[0];
F.Rsft.v.val=r[1];F.SpcX.v.val=r[2];F.SpcY.v.val=r[3];F.SpcC.v=r[4];F.Angl.v=r[5][0];return F};cW.Ctoa=function(){cW.call(this,"Ctoa");
this.wj=[new eu([13,0]),new a$(!0),new gm(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new gm(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.G7()};cW.Ctoa.prototype=new cW;cW.Ctoa.prototype.Mq=function(F,r){r[0]=F.Clr.v;r[1]=F.Trsp.v.val;
r[2]=F.Opct.v.val};cW.Ctoa.prototype.$y=function(F,r){F.Clr.v=r[0];F.Trsp.v.val=r[1];F.Opct.v.val=r[2]};
cW.LqFy=function(){cW.call(this,"LqFy");this.Cc=!1;this.e_=!1;this.MC=null;this.axW=null;this.J=0;this.sj=-1;
this.W={TO:[[{J:{id:0,name:[24,1,0,1,0],h6:"liq/smudge"}}],[{J:{id:1,name:[24,1,0,1,1],h6:"liq/reconstruct"}}],[{J:{id:2,name:[24,1,0,1,2],h6:"liq/smooth"}}],[{J:{id:3,name:[24,1,0,1,3],h6:"liq/twirl"}}],[{J:{id:4,name:[24,1,0,1,4],h6:"liq/shrink"}}],[{J:{id:5,name:[24,1,0,1,5],h6:"liq/blow"}}],[{J:{id:6,name:[24,1,0,1,6],h6:"liq/pleft"}}],[{J:{id:7,name:"Hand",h6:"tools/hand"}}],[{J:{id:8,name:"Zoom In",h6:"zoomIn"}}],[{J:{id:9,name:"Zoom Out",h6:"zoomOut"}}]],keys:[]};
this.DK=new iw(this.W,!1);this.DK.la(0);this.DK.Q(_.E.c,this.OZ,this);this.KC=g9._r();this.rp=null;this.yS=[];
this.Qz=-1;this.JR=null;this.a8z=null;this._T=null;this.PN=null;this.pd=null;var F=y.i("div","flexrow");
this.Np=F;this._.appendChild(F);F.appendChild(this.DK._);this.view=new aM(!0);this.view.Xt(100,100);
this.view.Q("mousedown",this.Pg,this);this.view.Q("mousemove",this.gB,this);this.view.Q("mouseup",this.$n,this);
this.view.Q("zoom",this.Sx,this);F.appendChild(this.view._);var r=y.i("div","form");F.appendChild(r);
this.aHp=r;r.style.width="230px";this.bN=[new gm([12,14,0],0,1e3,null,!1,!0),new gm([12,74],0,100,null,!1,!1),new gm([12,84],0,100,null,!1,!1),new jm([12,46]),new gm([12,0],0,100,null,!1,!1),new jm([24,18,5])];
var $=this.KC.Brsh.v;$.Dmtr.v.val=100;var C=[100,50,100,!1,100,!0];for(var O=0;O<this.bN.length;O++){var M=this.bN[O];
M.o(C[O]);if(O==4)M.Xg();M.Q(_.E.V,this.aqJ,this);r.appendChild(M._)}var l=this.axl=new jC([1,12,2],!0,null,!0);
l.Q("click",this.cE,this);r.appendChild(l._);this.a1M=this.$_.bind(this);this.j7=new au;this.j7._=y.i("div","floatcont");
this._G=new jC("Menu",!1,null,!0);var k=this._G._;y.B(k,"position:absolute; right:13px; top:47px");y.TX(k,this.a7j.bind(this))};
cW.LqFy.prototype=new cW;cW.LqFy.prototype.vC=function(){return!0};cW.LqFy.prototype.l4=function(F){this.aHp.appendChild(F)};
cW.LqFy.prototype.a7j=function(F){if(y.D4(this.j7._))return;F.stopPropagation();var r=this._G._.getBoundingClientRect();
this.j7._.appendChild(this.aHp);var $=new k6(_.E.c,!0);$.data={R:_.m.$a,g$:this.j7,x:r.right+r.width-290,y:r.top+r.height};
this.a($)};cW.LqFy.prototype.JG=function(F){this.Cc=F.D(ac.AH);var r=B.k7.YF(this.KC,F);if(r!=null){this.KC=r;
this.Sx();this.bN[0].o(r.Brsh.v.Dmtr.v.val)}else if(F.D(ac.Xf)&&F.D(ac.zq)){var $=this.yS;if(F.D(ac.il)){if(this.Qz+1<$.length)this.Qz++}else if(this.Qz>0)this.Qz--;
this.rp.map=$[this.Qz].slice(0);this.vr(null)}else if(this.J<=6)this.view.JG(F);var C=this.J,M=-1,l=F.D(ac.AH);
if(l&&this.sj==-1){if(C==0)M=1;if(C==4)M=5;if(C==5)M=4;if(M!=-1)this.sj=C}if(!l&&this.sj!=-1){M=this.sj;
this.sj=-1}if(M!=-1){this.J=M;this.DK.la(this.J)}};cW.LqFy.prototype.OZ=function(F){if(F.data.R==_.m.Td){var r=this.J=F.data.J;
this.DK.la(this.J);this.view.JG(r>6?aM.yb(r-7):new ac)}};cW.LqFy.prototype.aqJ=function(F){var r=F.currentTarget,O=this.bN.indexOf(r),$=this.KC.Brsh.v;
if(O==0){$.Dmtr.v.val=r.k();this.Sx()}this.bN[4].fC(this.bN[3].k());if(O>2)this.vr(null)};cW.LqFy.prototype.Cd=function(){var F=this.yS;
this.Qz++;F[this.Qz]=this.rp.map.slice(0);while(F.length>this.Qz+1)F.pop();while(F.length>50){F=F.slice(1);
this.Qz--}};cW.LqFy.prototype.Pg=function(F){this.MC=this.view.L3();this.axW=new hx(0,0);this.e_=!0;
window.requestAnimationFrame(this.a1M)};cW.LqFy.prototype.gB=function(F){var r=this.view.L3(),$=new hx(r.x-this.MC.x,r.y-this.MC.y);
if(this.J==0||this.J==6)this.a1A($);this.MC=r};cW.LqFy.prototype.$n=function(F){this.Cd();this.e_=!1};
cW.LqFy.prototype.$_=function(F){if(this.J!=0&&this.J!=6)this.a1A(new hx(0,0));if(this.e_)window.requestAnimationFrame(this.a1M)};
cW.LqFy.prototype.a1A=function(F){var r=this.rp,$=r.a0/this.JR.r,C=this.MC,M=this.KC.Brsh.v,l=M.Dmtr.v.val,k=Date.now(),d=r.a0,I=r.Y9,c=Math.sqrt(F.x*F.x+F.y*F.y),Q=Math.max(1,Math.ceil(c/2)),x=F.x/Q,U=F.y/Q,S=C.P(),z=this.J,V=this.bN[1].k()/100,t=this.bN[2].k()/100,Y=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],i=Y[z*2],J=Y[z*2+1],H=(1-V)*i+V*J,v=l*$/2;
for(var O=0;O<Q;O++){var n=[];S.x+=x;S.y+=U;j.Tp.ag1(r.map,d,I,z,S.x*$,S.y*$,v,V,t,x*$,U*$,n,this.Cc);
j.Tp.awD(d,I,r.map,n,2*H*t)}var G=new cS(0,0,d,I),g=new cS(C.x*$,C.y*$,0,0);g.lW(l*$*.5,l*$*.5);var W=g.P();
W.offset(F.x*$,F.y*$);g=g.DM(W);var L=new cS(g.x/$,g.y/$,g.r/$,g.$/$);L=j.b.LY(L).R7(this.JR);this.bN[5].o(!0);
this.vr(L)};cW.LqFy.prototype.Sx=function(){var F=ap.bD(this.KC,null,this.view.CF().bU);this.view.GZ(F)};
cW.LqFy.prototype.o=function(F,r,$,C,M){$=$.P();if(r==null)return;if(!C.Mp($)){var l=$.DM(C),k=j.j(l.C()*4);
j.mR(r,$,k,l);r=k;$=l;var d=j.j(l.C()*4);j.mR(M,C,d,l);M=d}$.x=$.y=0;this._T=r;this.a8z=M;this.pd=r.slice(0);
this.PN=r.slice(0);this.JR=$;this.rp=gG.CO(new Uint8Array(F.LqMe.v).buffer);var I=$.r,c=$.$;if(this.rp.a0/I<.22){this.rp={a0:Math.floor(I/4),Y9:Math.floor(c/4)};
this.rp.map=new Float32Array(this.rp.a0*this.rp.Y9*2)}this.yS=[];this.Qz=-1;this.Cd();this.vr(null);
this.view.eH(!0);this.Sx()};cW.LqFy.prototype.k=function(){var F=e9.Mv("LqFy"),r=new Uint8Array(gG.Gk(this.rp)),$=[];
for(var O=0;O<r.length;O++)$.push(r[O]);F.LqMe.v=$;return F};cW.LqFy.prototype.Xt=function(F,r){this.DK.Xt(F,r);
var $=this._G._,C=this.aHp;this.Np.appendChild(C);this.Np.appendChild($);if(F>450&&F-r>200){C.style.marginLeft="1em";
this.Np.removeChild($);this.view.Xt(F-238-45,r)}else{C.style.marginLeft="";this.Np.removeChild(C);this.view.Xt(F-40,r)}};
cW.LqFy.prototype.l=function(){this.DK.l();this.axl.l();for(var O=0;O<this.bN.length;O++)this.bN[O].l()};
cW.LqFy.prototype.cE=function(){this.rp.map.fill(0);this.Cd();this.vr(null)};cW.LqFy.prototype.vr=function(F){var r=this.JR,$=this._T,C=this.pd,M=this.rp;
if(this.bN[5].k())j.Tp.PC($,this.PN,r.r,r.$,F,M.map,M.a0,M.Y9,0);else this.PN.set($);if(this.bN[3].s$()){j.mR(this.a8z,r,C,r,F?F:r);
j.v.O5("norm",this.PN,r,C,r,F?F:r,this.bN[4].k()/100)}else j.Jx(this.PN,C);this.view.o([{$Y:r,data:C.buffer}],null,null,F)};
cW.GEfc=function(){cW.call(this,"GEfc");this.GS=0;this.gi=0;this._T=null;this.pd=null;this.JR=null;this.e=null;
this.W2=null;this.xc=0;this.Df=null;this.aJ=null;var F=y.i("div","flexrow");this.Np=F;this._.appendChild(F);
this.view=new aM(null);this.view.Xt(100,100);F.appendChild(this.view._);this.aH="";this.ay1=270;var r=this.QM=y.i("div","form scrollable");
F.appendChild(r);y.B(r,"width:"+this.ay1+"px;");var $=this.Vc=y.i("div","form");F.appendChild($);y.B($,"width:230px;  margin:0 10px");
this.tE={};for(var C in dD.names){var M=new cW.GEfc.Yh(C);M.parent=this;this.tE[C]=M;M.Q(_.E.V,this.agb,this)}this.BC=!0;
this._G=new jC("Menu",null,null,!0);this._G.Q("click",this.ap5,this);F.appendChild(this._G._);this.ayc=new jC(">>",null,null,!0);
this.ayc.Q("click",this.ajz,this);$.appendChild(this.ayc._);this.aJ9=y.i("div");y.B(this.aJ9,"margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
$.appendChild(this.aJ9);this.vE=y.i("div");this.vE.style.minHeight="14em";this.vE.style.marginBottom="1em";
$.appendChild(this.vE);this.cQ=y.i("div","lpbody scrollable");this.nF=y.i("div","lpfoot");$.appendChild(this.cQ);
$.appendChild(this.nF);this.Q("click",this.awK,this);this.xu=[];hi.zc([[5,3],[5,4]],this.xu,this.nF,this.St.bind(this))};
cW.GEfc.prototype=new cW;cW.GEfc.prototype.vC=function(){return!0};cW.GEfc.prototype.l4=function(F){this.aJ9.appendChild(F)};
cW.GEfc.prototype.JG=function(F){this.view.JG(F)};cW.GEfc.prototype.Db=function(F,r){this.e=F;if(F.y1==F.J2)alert("Your foreground and a background color are identical.",4e3)};
cW.GEfc.prototype.ajz=function(F){var r=this.QM.style.display!="none";this.QM.style.display=r?"none":"";
this.ayc.Ck(r?"<<":">>");this.Xt()};cW.GEfc.prototype.ap5=function(F){this.BC=!this.BC;this.Xt()};cW.GEfc.prototype.Xt=function(F,r){var $=this.QM.style.display!="none";
if(F!=null){this.GS=F;this.gi=r;if(F<1e3&&$||F>=1e3&&!$){this.ajz();$=!$}this.BC=F>600}else{F=this.GS;
r=this.gi}var C=this.BC?250+($?this.ay1:0):0;if(y.D4(this.Vc)&&!this.BC){this.Np.removeChild(this.QM);
this.Np.removeChild(this.Vc)}if(!y.D4(this.Vc)&&this.BC){this.Np.appendChild(this.QM);this.Np.appendChild(this.Vc)}this.QM.style.height=r+"px";
this.view.Xt(F-C,r);this.cQ.style.height=r-Math.max(this.vE.getBoundingClientRect().height,186)-96+"px";
y.B(this._G._,"position:absolute; top:46px;  right:"+(C+16)+"px")};cW.GEfc.prototype.a0i=function(){var F=dN.Sd.get("img/beach",!0)[0],r=F.$Y,$=this.QM,C=Math.floor(y.ha()*(this.ay1-44)/3),M=~~(C*.7),l=new cS(0,0,C,M),k=j.j(C*M*4),d=k.slice(0),I=Math.round(10*y.ha()),c=new ImageData(new Uint8ClampedArray(d.buffer),C,M);
j.mR(new Uint8Array(F.data),r,k,new cS(Math.round((r.r-C)/2),Math.round((r.$-M)/2),C,M));var Q=y.i("canvas"),x=Q.getContext("2d");
Q.width=C;Q.height=M+Math.round(I*1.5);x.font=I+"px sans-serif";this.Df={};y.RR($);var U=this.a7R.bind(this);
for(var O=0;O<dD.w2.length;O++){var S=dD.w2[O],z=y.i("div");$.appendChild(z);y.B(z,"background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
z.textContent=dG.get(S);for(var V in dD.names){var t=dD.names[V];if(t[0]!=O)continue;dD.Fx(V,{S:l,buffer:k},dD.Mv(V),{t:0,L:0,X:0},{t:255,L:255,X:255},{S:l,buffer:d},{});
x.fillStyle="black";x.fillRect(0,0,500,500);x.putImageData(c,0,0);var Y=dG.get(t[1]);x.fillStyle="white";
x.fillText(Y,(C-x.measureText(Y).width)/2,M+Math.round(I*1.1));var i=y.i("div");$.appendChild(i);y.B(i,"display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
i.addEventListener("click",U,!1);var z=y.i("img");i.appendChild(z);z.setAttribute("src",Q.toDataURL());
y.B(z,"width:"+C/y.ha()+"px; margin-bottom:0px;");this.Df[V]=i}}};cW.GEfc.prototype.a7R=function(F){var r;
for(var $ in this.Df)if(this.Df[$]==F.currentTarget)this.aH=$;this.agb()};cW.GEfc.prototype.St=function(F){var r=hi.nY(this.xu,F),$=this.W2.GEfs.v,C=$[this.xc].v;
if(r==0){$.push(j.N($[this.xc]));this.xc=$.length-1}else if($.length>1){$.splice(this.xc,1);if(this.xc==$.length)this.xc--}this.xR();
this.vr()};cW.GEfc.prototype.agb=function(F){var r=this.aH,$;if(F==null)$=dD.Mv(r);else $=this.tE[r].k();
this.W2.GEfs.v[this.xc].v=$;this.xR();this.vr()};cW.GEfc.prototype.o=function(F,r,$,C,M){var l=dG.get([24,0]);
if(this.Df==null||l!=this.aJ)this.a0i();this.aJ=l;F=this.W2=j.N(F);if(F.GEfs==null)F=this.W2={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:F}]}};
var k=F.GEfs.v;for(var O=0;O<k.length;O++)if(k[O].v.GELv==null)k[O].v.GELv={t:"bool",v:!0};this.xc=k.length-1;
this.xR();$=$.P();if(r==null)return;if(!C.Mp($)&&dD.o4(F).x!=0){var d=$.DM(C),I=j.j(d.C()*4);j.mR(r,$,I,d);
r=I;$=d}$.x=$.y=0;this._T=r;this.pd=r.slice(0);this.JR=$;this.vr();this.view.eH()};cW.GEfc.prototype.awK=function(F){var r=F.data,O=r.Sc,$=this.W2.GEfs.v;
if(r.TA){$[O].v.GELv.v=!$[O].v.GELv.v;this.vr()}else this.xc=O;this.xR()};cW.GEfc.prototype.xR=function(){var F=this.W2.GEfs.v,r=F[this.xc].v,$=r.GEfk.v.GEft,C=this.vE;
if(dD.names[$]==null){alert("Unsupported gallery filter");y.RR(C)}else{this.aH=$;for(var M in this.Df)y.cD(this.Df[M],"selected");
y.yY(this.Df[$],"selected");var l=this.tE[$];l.o(r);if(C.firstChild!=l._){y.RR(C);C.appendChild(l._)}}var k=[];
for(var O=0;O<F.length;O++){var d=F[O].v,I=dD.names[d.GEfk.v.GEft],c=new kd(O,!0,!0,null,I?I[1]:"Filter",O==this.xc,d.GELv.v);
c.parent=this;k.push(c._)}y.RR(this.cQ);k.reverse();for(var O=0;O<k.length;O++)this.cQ.appendChild(k[O]);
this.Xt()};cW.GEfc.prototype.k=function(){return j.N(this.W2)};cW.GEfc.prototype.vr=function(F){var r=this.JR,$=this._T,C=this.pd,M=this.aH,l=this.W2,k=this.e;
e9.Fx("GEfc",{S:this.JR,buffer:this._T},l,j.iW(k.y1),j.iW(k.J2),{S:this.JR,buffer:this.pd},null);this.view.o([{$Y:r,data:C.buffer}])};
cW.GEfc.prototype.l=function(){for(var F in this.tE)this.tE[F].l();hi.ff(this.xu,["lrs/newlayer","lrs/bin"])};
cW.GEfc.Yh=function(F){au.call(this);this.zd=F;this._=y.i("div");this.i1={};var r=dD.Mv(F);for(var $ in r){var C=null;
if($=="__name"||$=="classID"||$=="GEfk"||$=="GELv"||["FlRs"].indexOf($)!=-1)continue;else if($=="EdgW")C=new gm([24,21,0],1,14);
else if($=="EdgB")C=new gm([24,21,1],0,F=="AccE"?50:20);else if($=="Smth")C=new gm([19,3,3],1,F=="Stmp"?50:15);
else if($=="ClSz")C=new gm([12,61],3,100);else if($=="BrdT")C=new gm([7,9],1,20);else if($=="HghS")C=new gm([12,64],0,20);
else if($=="HlSz")C=new gm([12,14,0],1,15);else if($=="Cntr")C=new gm([12,3,0],0,F=="WtrP"?100:50);else if($=="Shrp")C=new gm([24,21,2],0,40);
else if($=="SprR")C=new gm([24,21,3],0,25);else if($=="LgDr")C=new gm([24,21,4],0,F=="Stmp"?50:100);
else if($=="Drkn")C=new gm([24,21,5],1,50);else if($=="Dstr")C=new gm([24,21,6],0,20);else if($=="Scln")C=new gm([12,38],50,200);
else if($=="Rlf")C=new gm([24,21,7],0,F=="Ptch"||F=="NtPr"?25:50);else if($=="ChAm")C=new gm([24,21,8],1,7);
else if($=="Pncl")C=new gm([19,2,5],1,30);else if($=="StrP")C=new gm([24,21,9],0,15);else if($=="PprB")C=new gm([24,21,10],0,50);
else if($=="BrsS")C=new gm([24,21,11],0,10);else if($=="BrsD")C=new gm([24,21,12],0,10);else if($=="Txtr")C=new gm([12,67],1,3);
else if($=="Grn")C=new gm([24,20,42],0,20);else if($=="HghA")C=new gm([24,21,13],0,20);else if($=="Intn")C=new gm([24,21,14],0,10);
else if($=="Brgh")C=new gm([24,21,15],0,F=="WtrP"?100:50);else if($=="StrS")C=new gm([24,21,16],1,50);
else if($=="StDt")C=new gm([24,21,17],1,3);else if($=="Sftn")C=new gm([24,21,18],0,10);else if($=="EdgT")C=new gm([24,21,19],0,10);
else if($=="EdgI")C=new gm([24,21,20],0,10);else if($=="Pstr")C=new gm([24,21,23],0,6);else if($=="Dfnt")C=new gm([24,21,24],0,25);
else if($=="TxtC")C=new gm([24,21,25],0,50);else if($=="ShdI")C=new gm([24,21,26],0,10);else if($=="DrcB")C=new gm([24,21,28],0,100);
else if($=="Strg")C=new gm([12,64],1,3);else if($=="Blnc")C=new gm([24,21,27],0,10);else if($=="BlcI")C=new gm([24,21,30],0,10);
else if($=="WhtI")C=new gm([24,21,31],0,10);else if($=="DrkI")C=new gm([24,21,32],0,50);else if($=="LghI")C=new gm([24,21,33],0,50);
else if($=="StrW")C=new gm([24,21,34],3,15);else if($=="Grns")C=new gm([24,21,36],0,F=="NtPr"?20:10);
else if($=="GlwA")C=new gm([24,21,37],0,20);else if($=="ClrA")C=new gm([24,21,38],0,20);else if($=="ChrA")C=new gm([24,21,39],0,20);
else if($=="ChlA")C=new gm([24,21,40],0,20);else if($=="FrgL")C=new gm([24,21,41],1,15);else if($=="BckL")C=new gm([24,21,42],1,15);
else if($=="WhtL")C=new gm([24,21,42],0,50);else if($=="BlcL")C=new gm([24,21,41],0,50);else if($=="ImgB")C=new gm([24,21,29],0,50);
else if($=="Dnst")C=new gm([12,74],0,50);else if($=="FbrL")C=new gm([24,21,43],3,50);else if($=="CrcS")C=new gm([24,21,44],2,100);
else if($=="CrcD")C=new gm([24,21,45],0,10);else if($=="CrcB")C=new gm([24,21,46],0,10);else if($=="TlSz")C=new gm([24,21,47],2,100);
else if($=="GrtW")C=new gm([24,21,48],1,15);else if($=="LghG")C=new gm([24,21,49],0,10);else if($=="SqrS")C=new gm([24,21,50],0,10);
else if($=="RplS")C=new gm([24,21,51],1,15);else if($=="RplM")C=new gm([24,21,52],0,20);else if($=="NmbL")C=new gm([24,21,53],2,8);
else if($=="EdgS")C=new gm([24,21,21],0,10);else if($=="EdgF")C=new gm([24,21,22],1,3);else if($=="Sz")C=F=="NGlw"?new gm([24,21,54],-24,24):new gm([24,21,11],1,50);
else if($=="Dtl")C=F=="Chrc"?new gm([24,21,56],0,5):new gm([24,21,56],1,15);else if($=="StrL")C=F=="InkO"?new gm([24,21,35],1,50):new gm([24,21,35],0,20);
else if($=="TxtT")C=new bc([12,67],[[24,22,0],[24,22,1],[24,22,2],[24,22,3],[24,22,4],[24,22,5],[24,22,6]]);
else if($=="BrsT")C=new bc([24,21,57],[[24,23,0],[24,23,1],[24,23,2],[24,23,3],[24,23,4],[24,23,5]]);
else if($=="Grnt")C=new bc([24,21,58],[[24,24,0],[24,24,1],[24,24,2],[24,24,3],[24,24,4],[24,24,5],[24,24,6],[22,4,0],[22,4,1],[24,24,7]]);
else if($=="SDir")C=new bc([12,33],[[24,25,0],[22,4,0],[24,25,1],[22,4,1]]);else if($=="ScrT")C=new bc([12,62],[[12,93,5],[12,93,6],[10,35]]);
else if($=="LghD"||$=="LghP")C=new bc([24,21,59],[[24,26,0],[24,26,1],[24,26,2],[24,26,3],[24,26,4],[24,26,5],[24,26,6],[24,26,7]]);
else if($=="Clr")C=new a$([24,21,55]);else if($=="InvT")C=new jm([4,11]);else console.log($);C.Q(_.E.V,this.ms,this);
C.parent=this;this.i1[$]=C;this._.appendChild(C._)}};cW.GEfc.Yh.prototype=new au;cW.GEfc.Yh.prototype.ms=function(F){this.a(new k6(_.E.V,!1))};
cW.GEfc.adP="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
cW.GEfc.Yh.prototype.o=function(F){for(var r in this.i1){var $;if(cW.GEfc.adP.indexOf(r)!=-1)$=F[r].v;
else if(r=="TxtT")$=dD.$q.indexOf(F[r].v[r]);else if(r=="BrsT")$=dD.anu.indexOf(F[r].v[r]);else if(r=="LghD")$=dD.B$.indexOf(F[r].v[r]);
else if(r=="LghP")$=dD.Aa.indexOf(F[r].v[r]);else if(r=="Grnt")$=dD.TL.indexOf(F[r].v[r]);else if(r=="ScrT")$=dD.VD.indexOf(F[r].v[r]);
else if(r=="SDir")$=dD.Qm.indexOf(F[r].v.StrD);this.i1[r].o($)}};cW.GEfc.Yh.prototype.k=function(){var F=dD.Mv(this.zd);
for(var r in this.i1){var $=this.i1[r].k();if(cW.GEfc.adP.indexOf(r)!=-1)F[r].v=$;else if(r=="TxtT")F[r].v[r]=dD.$q[$];
else if(r=="BrsT")F[r].v[r]=dD.anu[$];else if(r=="LghD")F[r].v[r]=dD.B$[$];else if(r=="LghP")F[r].v[r]=dD.Aa[$];
else if(r=="Grnt")F[r].v[r]=dD.TL[$];else if(r=="ScrT")F[r].v[r]=dD.VD[$];else if(r=="SDir")F[r].v.StrD=dD.Qm[$]}return F};
cW.GEfc.Yh.prototype.l=function(){for(var F in this.i1)this.i1[F].l()};cW["Adobe Camera Raw Filter"]=function(){var F=function(r){cW.call(this,"Adobe Camera Raw Filter");
var $=this._;this.arL=r;this.y3=null;this.rO=null;this.aeK="";this.so=null;this.Ng=1e3;this.ds=null;
this.b4=null;y.yY($,"flexrow");this.view=new aM(!1,r,!0);this.view.Q("zoom",this.vr,this);$.appendChild(this.view._);
var C=y.i("div");y.B(C,"width:18.8em; border-left:2px solid var(--brdr);");$.appendChild(C);this.In=new jT(245,null,4);
C.appendChild(this.In._);this.In._.style.opacity=.8;this.apX=y.i("div","scrollable");C.appendChild(this.apX);
this.asy=y.i("div","padded");C.appendChild(this.asy);this.i1={Ex12:new gm([4,3],-4,4,null,!0),Cr12:new gm([12,3,0],-100,100),Hi12:new gm("Highlights",-100,100),Sh12:new gm("Shadows",-100,100),Wh12:new gm("Whites",-100,100),Bk12:new gm("Blacks",-100,100),Temp:new gm("Temperature",-100,100),Tint:new gm("Tint",-100,100),Vibr:new gm([4,4],-100,100),Strt:new gm([12,9],-100,100),CrTx:new gm("Texture",-100,100),Cl12:new gm("Clarity",-100,100),Dhze:new gm("Dehaze",-100,100)};
this.Ks={Temp:new gm("Temperature",2e3,3e4),Tint:new gm("Tint",-100,100),Ex12:new gm([4,3],-4,4,null,!0)};
var M=[["Light","Ex12 Cr12 Hi12 Sh12 Wh12 Bk12".split(" ")],["Color",["Temp","Tint","Vibr","Strt"]],["Effects",["CrTx","Cl12","Dhze"]]];
for(var O=0;O<M.length;O++){var l=M[O][1],k=y.i("div","padded");this.apX.appendChild(k);y.B(k,"border-top:2px solid var(--brdr);");
var d=y.i("div");d.innerHTML="\u2B9F <span style=\"font-size:1.1em; margin-left:6px;\">"+dG.get(M[O][0])+"</span>";
y.B(d,"font-weight:bold; margin:2px 0 4px 0;");k.appendChild(d);for(var I=0;I<l.length;I++){var c=l[I],Q=r&&this.Ks[c]?this.Ks[c]:this.i1[c];
Q.o(0);Q.Q(_.E.V,this.vr,this);k.appendChild(Q._)}}};F.prototype=new cW;F.prototype.vC=function(){return!0};
F.prototype.l4=function(r){r.style.marginTop="4px";this.asy.appendChild(r)};F.prototype.JG=function(r){this.view.JG(r)};
F.prototype.Db=function(r,$){this.In.ZJ(at.G1[r.di]["--text-color"])};F.prototype.ayZ=function(r){var $=j.raw.a6Q(r),C=$.a2g,M=$.aab,l=C*M,k=new cS(0,0,C,M),d=$.fU,I=new Float32Array(C*M*4);
for(var O=0;O<l;O++){var c=O*4,Q=O*3;I[c]=d[Q];I[c+1]=d[Q+1];I[c+2]=d[Q+2];I[c+3]=1}this.y3=[I,k];j.zY(this.y3);
this.rO=r;var x=j.raw.an0(r),U=cN.aak(x);this.Ks.Temp.o(U.Ap);this.Ks.Tint.o(U.Iw);this.Ks.Ex12.o(0);
var S=new Float32Array(l*4);S.fill(1);var z=e9.Mv("Adobe Camera Raw Filter");this.aui(z,S,k)};F.prototype.aIO=function(r,$){var C=this.Ks,M=C.Temp.k(),l=C.Tint.k(),k=C.Ex12.k(),d=[M,l,k,$,r].join(":");
if(this.aeK==d)return;this.aeK=d;var I=Date.now();j.raw.tu(this.y3[$*2],this.so[$*2],this.rO,[M,l,k],r);
console.log(Date.now()-I,"remapping XYZ")};F.prototype.o=function(r,$,C,M,l){var k=new Float32Array(C.C()*4);
j.Mz($,32,k);this.aui(r,k,C)};F.prototype.aui=function(r,$,C){this.W2=r;this.JR=C;var M=C.r,l=C.$,k=M*l;
this.Ng=1e3;this.aeK="";this.so=[$,C];this.ds=[new Float32Array(M*l*4),C];this.ds[0].fill(1);this.b4=[new Uint8Array(M*l*4),C];
this.b4[0].fill(255);j.zY(this.so);j.zY(this.ds);j.zY(this.b4);for(var d in this.i1){this.i1[d].o(r[d]?r[d].v:0)}this.view.o([{$Y:C,data:this.b4[0].buffer}]);
this.view.eH();this.vr(null)};F.prototype.a4W=function(r,$){var C=this.JR,M=this.ds[0];if(this.arL)this.aIO(r,0);
gH(this.so[0],C.r,C.$,M,this.W2);return[j.Mz(M,$),C]};F.prototype.k=function(){return j.N(this.W2)};
F.prototype.a4J=function(){this.y3=null;this.ds=null;this.so=null;this.b4=null};F.prototype.vr=function(r){if(r&&r.target!=this.view){this.Ng=1e3;
for(var $ in this.i1){this.W2[$]={t:$=="Ex12"?"doub":"long",v:this.i1[$].k()}}}var C=this.view.CF().bU,M=0;
while(C*2<=1){C*=2;M++}if(this.Ng<=M)return;this.Ng=M;var l=this.az0(M);this.In.o(l);this.view.o([{$Y:this.JR,data:this.b4[0].buffer}])};
F.prototype.az0=function(r){console.log("---");var $=this.so[r*2],C=this.ds[r*2],M=this.b4[r*2],l=this.so[r*2+1],k=l.r,d=l.$;
if(this.arL)this.aIO(0,r);gH($,k,d,C,this.W2);var I=Date.now();j.Mz(C,8,M);console.log(Date.now()-I,"integer conversion");
I=Date.now();var c=j.DP(M,Math.max(1,Math.floor(k*d/2e5)));console.log(Date.now()-I,"histogram done");
I=Date.now();if(r!=0){var Q=new Uint32Array(M.buffer),x=new Uint32Array(this.b4[0].buffer),U=this.JR.r,S=this.JR.$;
for(var z=0;z<S;z+=2)for(var V=0;V<U;V+=2){var t=z*U+V,Y=Q[(z>>>r)*k+(V>>>r)];x[t]=Y;x[t+1]=Y;x[t+U]=Y;
x[t+U+1]=Y}console.log(Date.now()-I,"upscale");I=Date.now()}for(var l=0;l<2;l++)for(var Y=0;Y<4;Y++){var d=c[Y],S=d.slice(0);
for(var O=1;O<d.length-1;O++)d[O]=(S[O-1]+S[O]+S[O+1])*.33333}return c};F.prototype.Xt=function(r,$){this.aao=r-248;
this.an9=$;this.view.Xt(this.aao,this.an9);this.apX.style.height=$-200+"px"};F.prototype.l=function(){for(var r in this.i1)this.i1[r].l();
for(var r in this.Ks)this.Ks[r].l()};return F}();cW.VaPo=function(){cW.call(this,"VaPo");this.J=-1;this.un=null;
this.eA=!1;this.Oi=null;this.Ep=null;this.jx=null;this.oI=null;this.ES=null;this.aDH=null;this.XN=null;
this.a2W=null;this.Hg=null;this.Yn=null;this.xS=null;this.yS=[];this.Qz=-1;this.K=null;this.W={TO:[[{J:{id:0,name:"Move",h6:"tools/move"}}],[{J:{id:1,name:"Create Plane",h6:"tools/pcrop"}}],[{J:{id:2,name:"Marquee",h6:"tools/rselect"}}],[{J:{id:3,name:"Stamp",h6:"tools/clone"}}],[{J:{id:4,name:"Brush",h6:"tools/brush"}}],[{J:{id:5,name:"Transform",h6:"tools/transform"}}],[{J:{id:6,name:"Hand",h6:"tools/hand"}}],[{J:{id:7,name:"Zoom In",h6:"zoomIn"}}],[{J:{id:8,name:"Zoom Out",h6:"zoomOut"}}]],keys:[ac.JC,ac.gZ,ac.b7,ac.vi,ac.Sn,ac.FM,ac.Et,ac.zq]};
this.DK=new iw(this.W,!1);this.DK.Q(_.E.c,this.OZ,this);this.Bf=null;this.JR=null;this._T=null;this.aBv=null;
this.pd=null;this.hb=null;var F=y.i("div","flexrow"),C=0;this.Np=F;this._.appendChild(F);F.appendChild(this.DK._);
var r=y.i("div");F.appendChild(r);var top=y.i("div","form");r.appendChild(top);y.B(top,"padding-left:8px; height:30px;");
this.FG=y.i("span");top.appendChild(this.FG);this.GK=[[new eT([12,80,5],1,1e3)],[new eT([7,6],0,30)],[new eT([12,14],1,200),new eT([12,17],0,100),new eT([12,0],0,100),new jm([12,75])],[new eT([12,14],1,200),new eT([12,17],0,100),new eT([12,0],0,100),new a$],[new jm("Flip"),new jm("Flop")],[]];
var $=[100,0,100,100,100,!1,100,100,100,JSON.parse(cK.Hn.$V.slice(6)).v];this.os=[];for(var O=0;O<6;
O++){var M=y.i("span"),l=this.GK[O];this.os.push(M);for(var k=0;k<l.length;k++){var d=l[k];d.parent=this;
d.o($[C++]);d.Q(_.E.V,this.a37,this);M.appendChild(d._)}}this.apU=y.i("div");y.B(this.apU,"display:inline-block;float:right; width:100px;");
top.appendChild(this.apU);this.view=new aM(!0);this.view.Xt(100,100);this.view.GZ("auto");this.view.Q("mousedown",this.Pg,this);
this.view.Q("mousemove",this.gB,this);this.view.Q("mouseup",this.$n,this);y.dO(this.view.Ee,this.tM.bind(this));
r.appendChild(this.view._)};cW.VaPo.prototype=new cW;cW.VaPo.prototype.vC=function(){return!0};cW.VaPo.prototype.l4=function(F){this.apU.appendChild(F)};
cW.VaPo.prototype.a37=function(F){if(F.target==this.GK[0][0]){var r=this.EV(),$=F.target.k();for(var O=0;
O<this.K.length;O++)if(this.K[O].length!=0&&r[O])r[O][0]=$;this.fY(r)}if(this.J==5){this.Bf=this.wl();
this.vr(!0)}this.vr()};cW.VaPo.prototype.JG=function(F){var r=this.J,$=this.Ep;if(r==3||r==4){var C=this.GK[r-1],M=g9._r(),l=M.Brsh.v;
l.Dmtr.v.val=C[0].k();l.Hrdn.v.val=C[1].k();M=B.k7.YF(M,F);if(M){l=M.Brsh.v;C[0].o(l.Dmtr.v.val);C[1].o(l.Hrdn.v.val)}this.Sx()}if(r==1&&$&&(F.D(ac.g7)||F.D(ac.Qh))){$.pop();
$.pop();if($.length==0)$=this.Ep=null;this.vr()}function k(Q,O,z){j.mR(Q[O],Q[0],z._T,z.JR);z.tL(Q[0])}this.Oi=F;
if(r<6)this.view.JG(F);var d=F.D(ac.Xf);if(d){var I=this.Qz,c=0;if(F.D(ac.zq)){if(F.D(ac.il))c=1;else c=-1}else if(F.D(ac.Qw))c=1;
if(c!=0&&r!=5){console.log(this.Qz,c,this.yS);var Q=this.yS[this.Qz],x=!1;if(Q.length==3&&c==-1){k(Q,1,this);
x=!0}I+=c;this.Qz=Math.max(0,Math.min(this.yS.length-1,I));Q=this.yS[this.Qz];if(Q.length==3&&c==1){k(Q,2,this);
x=!0}this.vr(x)}if(F.D(ac.JC)){if(y.qI())bF.aF$(this.cu.bind(this))}if(F.D(ac.m8)){this.ES=null;this.vr()}}else{var U=this.W.keys;
for(var O=0;O<U.length;O++)if(F.D(U[O]))this.la(O)}if(F.D(ac.Qh)||F.D(ac.g7)){var S=this.EV();S=j.k2.a6l(S,this.K);
this.K=[];for(var O=0;O<S.length;O++)this.K[O]=[];this.fY(S);this.vr()}};cW.VaPo.prototype.cu=function(F){if(F=="granted")bF.GV(this,this.Ol.bind(this))};
cW.VaPo.prototype.Ol=function(F,r){var $=this.EV();if($.length==0){alert("Make a plane before pasting an image");
return}if(this.oI==null)this.oI=[0,0];if(this.J==5)this.la(0);this.la(5,{PF:F,OV:r})};cW.VaPo.prototype.OZ=function(F){if(F.data.R==_.m.Td){this.la(F.data.J)}};
cW.VaPo.prototype.agx=function(F){var r=this.view.L3(F),$=j.k2.Ju(this.EV(),this.K),C=1e9,M=0;for(var O=0;
O<$.length;O++){var l=$[O][0],k=r.x-l[0],d=r.y-l[1],I=Math.sqrt(k*k+d*d);if(I<C){C=I;M=O}}if(C>4*y.ha()/this.view.CF().bU)return null;
return $[M]};cW.VaPo.prototype.tM=function(F){var r=this.J,$=this.Ep;if(r<2&&!this.eA){var C=this.un=this.agx(F),M=this.EV(),l="auto";
if(r==0&&j.k2.o$(M,C)){var k=M[C[1]][1][C[2]],d=k[5+{1:0,5:1,7:2,3:3}[C[3]]],I=d[0],c=d[1];l=aY.aqb(I[1]-c[1],-I[0]+c[0])}if(j.k2.aK1(M,C))l="crosshair";
this.view.GZ(l)}if($){var Q=this.view.L3(F),x=$.slice(0);$[$.length-2]=Q.x;$[$.length-1]=Q.y;this.vr()}this.Sx(F);
if(r==5&&!this.eA&&this.qb){var Q=this.view.L3(F),M=this.EV(),U=j.k2.bG(M,Q.x,Q.y,this.Rt());if(U){var S=new hx(U[2][0],U[2][1]),z=j.k2.K8(M,M[U[0]][1][U[1]],this.Rt()),V=z[1],t=j.H.e0(z[0],V),Y=[V.x+V.r/2,V.y+V.$/2];
j.H.U(t,Y);var i=Q.x-Y[0],J=Q.y-Y[1],H=this.qb.cb(S,this.view.CF().bU,null,null,Math.atan2(-J,-i));this.view.GZ(H?H:"default")}}};
cW.VaPo.prototype.Sx=function(F){var r=this.J,$=this.Oi;if((r==3||r==4)&&!this.eA){var C=F?this.view.L3(F):this.QG,M=this.EV();
this.QG=C;if(C==null)return;var l=j.k2.bG(M,C.x,C.y,this.Rt());if(l){if(r==3&&this.xS&&this.GK[2][3].k()){var k=new hx(l[2][0],l[2][1]);
this.Yn=k.Q1(this.xS);this.vr()}if(r==3&&(this.Yn==null||$&&($.D(ac.AH)||$.D(ac.pT)))){if(this.Bf){this.hb=null;
this.tL(this.Bf);this.vr(!0,this.Bf)}return}this.a2A(l,this.Bf)}}};cW.VaPo.prototype.Rt=function(){return[this.JR.r/2,this.JR.$/2]};
cW.VaPo.prototype.Pg=function(F){this.eA=!0;var r=this.J,$=this.Ep,C=this.EV(),M=this.Oi,l=this.un=this.agx(null),k=this.view.L3(),d=j.k2.bG(C,k.x,k.y,this.Rt()),I=d?new hx(d[2][0],d[2][1]):null;
if(j.k2.aK1(C,l)){var c=C[l[1]][1][l[2]];C.splice(l[1],1);this.K.splice(l[1],1);$=j.k2.azE(c);var Q=-1,k=l[0];
for(var O=0;O<8;O+=2){var x=$[O]-k[0],U=$[O+1]-k[1];if(x*x+U*U<1e-5)Q=O}Q=Q+2&7;$=this.Ep=$.slice(Q).concat($.slice(0,Q));
this.fY(C)}else if(j.k2.o$(C,l)){if(r==1||M&&M.D(ac.Xf)){C=j.k2.adW(C,l,this.Rt());this.fY(C);l[2]=C[l[1]][1].length-1;
l[3]=8+(l[3]+4&7);this.K[l[1]].push(l[2]);this.fY(C,!0);this.la(0)}else this.fY(this.EV(C))}else if(r==0){var S=[];
for(var O=0;O<C.length;O++)S.push([]);if(d){if(M&&M.D(ac.il))S=this.K;var z=S[d[0]].indexOf(d[1]);if(z==-1)S[d[0]].push(d[1]);
else S[d[0]].splice(z,1)}this.K=S;this.fY(C,!0);this.vr()}else if(r==2){if(d){var V=this.ES;if(V&&V.m_(I)){if(M)if(M.D(ac.AH)||M.D(ac.Xf)){this.la(5);
this.Pg(F);return}this.aDH=new hx(I.x-V.x,I.y-V.y)}else{this.jx=d[2].concat(d[2]);this.oI=d}}}else if(r==3||r==4){if(r==3){if(M&&(M.D(ac.AH)||M.D(ac.pT))){if(d){this.Yn=I;
this.a2W=I.P();this.xS=null;this.Hg=d;this.vr()}else alert("You must click into a plane");this.eA=!1;
return}else if(this.Yn==null){alert(dG.get([15,7,0]));this.eA=!1;return}else if(d){var t=this.xS=I.Q1(this.Yn)}}if(d){this.a2A(d)}}else if(r==5){if(d){var Y=new hx(d[2][0],d[2][1]),i=this.qb.SY({f:this.view.CF()},{},M,Y)}}};
cW.VaPo.prototype.a2A=function(F,r){var $=this.hb;if($==null)this.hb=$=j.j(this.JR.C()*4);else $.fill(0);
var C=this.J;this.oI=F;var M=this.GK[C-1],l=j.aEm.ag8(M[0].k(),M[1].k()/100,1),k=j.j(l[1].C()*4);j.dr(l[0],k,3);
if(C==4){var d=j.qS.MB(M[3].k());j._8(k,d.t/255,d.L/255,d.X/255)}this.XN={aCo:l[0],PF:k,OV:l[1]};var I=this.Bf=this.N5(F[2],F[2]),c=r?r.DM(I):I;
this.tL(c);this.vr(!0,c)};cW.VaPo.prototype.gB=function(F){var r=this.un,$=this.J,C=this.EV();if($==0&&j.k2.o$(C,r)){C=j.k2.akT(C,r,this.view.L3());
this.fY(C,!0);this.vr()}var M=this.aDH;if($==2&&this.eA&&(this.jx||M)){var l=this.view.L3(),k=j.k2.bG(C,l.x,l.y,this.Rt());
if(k){this.oI=k;if(M){this.ES.x=k[2][0]-M.x;this.ES.y=k[2][1]-M.y}else{this.jx=this.jx.slice(0,2).concat(k[2]);
this.ES=j.b.qy(this.jx)}this.vr()}}if(($==3||$==4)&&this.eA){var l=this.view.L3(),k=j.k2.bG(C,l.x,l.y,this.Rt());
if(k){if($==3){var d=this.xS;this.Yn=new hx(k[2][0]-d.x,k[2][1]-d.y)}var I=this.N5(this.oI[2],k[2]);
this.Bf=this.Bf.DM(I);this.oI=k;this.tL(I);this.vr(!0,I)}}if($==5&&this.eA){var l=this.view.L3(),k=j.k2.bG(C,l.x,l.y,this.Rt(),this.oI);
if(k){var c=new hx(k[2][0],k[2][1]);this.qb.GQ({f:this.view.CF()},{},this.Oi,c);this.oI=k;var I=this.Bf;
if(I)this.tL(I);else I=new cS;this.Bf=this.wl(null,null,!0);this.vr(!0,I.DM(this.Bf))}}};cW.VaPo.prototype.N5=function(F,r){F=new hx(F[0],F[1]);
r=new hx(r[0],r[1]);var $=Math.max(1e-5,hx.BV(F,r)),C=this.XN.OV.r*.2,M=new cS;for(var l=0;l<$;l+=C){var k=1-l/$,d=k*F.x+(1-k)*r.x,I=k*F.y+(1-k)*r.y,c=this.XN.OV.P();
c.x=Math.round(d-c.r/2);c.y=Math.round(I-c.$/2);if(this.J==3){var Q=this.xS;if(Q==null)Q=new hx(d,I).Q1(this.Yn);
var x=this.ES=c.P();x.x=Math.round(x.x-Q.x);x.y=Math.round(x.y-Q.y);var U=this.XN.aCo;this.XN=this.ayT(this.Hg);
this.ES=null;j.Qk(U,this.XN.PF);this.XN.aCo=U}var S=this.wl(this.hb,c);M=M.DM(S)}return M};cW.VaPo.prototype.$n=function(F){var r=this.un;
if(r&&r[3]>=8){var $=j.k2.a31(this.EV(),r,this.Rt());this.fY($,!0);this.vr();alert("new plane added")}var C=this.J,M=this.Ep;
if(M||C==1){var l=this.view.L3();if(M==null)M=this.Ep=[l.x,l.y];if(M.length==8&&aY.p6(M)){var $=this.EV();
$.push([100,[j.k2.aaR(M,this.Rt())]]);this.K.push([0]);this.fY($,!0);M=this.Ep=null;this.la(0);this.vr()}else if(M.length<8){M.push(l.x,l.y);
if(M.length==8&&!aY.p6(M)){var k=M[0],d=M[1];M[0]=M[4];M[1]=M[5];M[4]=k;M[5]=d}}}var I=this.jx;if(C==2&&I&&I[0]==I[2]&&I[1]==I[3]){this.ES=null;
this.vr()}if((C==3||C==4)&&this.eA){if(C==3&&!this.GK[2][3].k()&&this.a2W){this.Yn=this.a2W.P();this.vr()}this.fY();
this.hb=null}if(!this.GK[2][3].k())this.xS=null;this.eA=!1;this.aDH=null;this.jx=null};cW.VaPo.prototype.la=function(F,r){if(F==this.J)return;
var $=this.Bf,M=6;if(this.J==5){this.fY();this.tL($);this.qb=null;this.vr()}if(this.J==3||this.J==4){this.hb=null;
if($)this.tL($);this.vr(!0,$)}if(F==5){if(r==null&&this.ES==null){alert("Select the area to be transformed");
return}this.a26(r)}if(F>1){var C=this.EV();this.v6();this.fY(C,!0);this.vr()}this.view.JG(F>=M?aM.yb(F-M):new ac(!0));
if(F<M)this.view.GZ("auto");this.J=F;this.DK.la(F);y.RR(this.FG);var l={0:0,1:0,2:1,3:2,4:3,5:4,6:5,7:5,8:5}[F];
this.FG.appendChild(this.os[l])};cW.VaPo.prototype.EV=function(){var O=this.Qz,F=this.yS;while(F[O].length==3)O--;
var r=F[O];this.K=JSON.parse(r[1]);return JSON.parse(r[0])};cW.VaPo.prototype.fY=function(F,r){if(F==null&&this.Bf==null)return;
var $=this.yS,C=this.Qz,O=C;while(O>=0&&$[O].length==3)O--;if(r==null)this.Qz=C=C+1;if(F!=null)$[r?O:C]=[JSON.stringify(F),JSON.stringify(this.K)];
else{var M=this.JR,l=this.Bf,k=j.j(l.C()*4),d=j.j(l.C()*4);$[C]=[l,k,d];j.mR(this._T,M,k,l);if(this.hb)j.v.O5("norm",this.hb,M,this._T,M,M,this.a6w());
else this.wl(this._T);j.mR(this._T,M,d,l);this.Bf=null}while($.length!=C+1)$.pop()};cW.VaPo.prototype.a6w=function(){return this.GK[this.J-1][2].k()/100};
cW.VaPo.prototype.v6=function(F,r){if(F==null)F=this.EV();this.K=[];for(var O=0;O<F.length;O++){var $=[];
this.K.push($);if(r)for(var C=0;C<F[O][1].length;C++)$.push(C)}};cW.VaPo.prototype.o=function(F,r,$,C,M,l){var k=j.N(l[2].k2);
this.Qz=-1;this.v6(k);this.fY(k);var d=j.j(C.C()*4);j.mR(r,$,d,C);this.adB=new cS;this.JR=C;this.aBv=M;
this._T=d;this.pd=M.slice(0);this.tL(C);this.vr(!0);this.view.eH();this.la(0)};cW.VaPo.prototype.a26=function(F){this.XN=F?F:this.ayT();
var r=j.b.Vs(this.XN.OV).n;if(F){var $=this.EV(),C=j.k2.K8($,$[0][1][0],this.Rt()),M=C[1],l=Math.min(M.r/F.OV.r,M.$/F.OV.$)*.9;
if(l<1)j.b.U(r,new hS(l,0,0,l,0,0),r)}this.qb=new aY(r,!0,!0);this.ES=null;this.Bf=this.wl();this.vr(!0)};
cW.VaPo.prototype.ayT=function(F){var r=this.JR,$=j.b.LY(this.ES),C=this.EV(),M=j.j($.C()*4);if(F==null)F=this.oI;
var l=C[F[0]][1],k=j.k2.TW(C[F[0]][1],F[1],$,this.Rt());for(var d=0;d<k.length;d++){var I=l[k[d]],c=j.k2.K8(C,I,this.Rt()),Q=c[0],x=c[1],U=x.R7($);
if(U.XS())continue;U=j.b.LY(U);var S=j.j(U.C()*4),z=j.H.e0(Q,x);z=j.H.MV([1/r.r,0,0,0,1/r.$,0,0,0],z);
z=j.H.v4(z);j.H.drawImage(z,this.pd,r.r,r.$,S,U);j.mR(S,U,M,$)}var V=this.GK[1][0].k(),t=Math.round(V*1.4),Y=$.P();
Y.lW(-t,-t);var i=j.j(Y.C());i.fill(255);var J=j.j($.C());j.wU(i,Y,J,$);var H=J.slice(0);j.Zi.eO(H,$,V);
j.Eg(M,J,3);j.nu.R7(J,H,H);j.dr(H,M,3);return{PF:M,OV:$}};cW.VaPo.prototype.tL=function(F,r){var $=this.JR;
j.mR(this.aBv,$,this.pd,$,F);j.v.O5("norm",this._T,$,this.pd,$,F,1);if(this.hb)j.v.O5("norm",this.hb,$,this.pd,$,F,this.a6w())};
cW.VaPo.prototype.wl=function(F,r,$){var C=this.XN,M=C.OV,l=this.JR,k,d=r?j.b.Vs(r).n:this.qb.Ju(),I=j.b.sY(d),k=j.H.e0(d,M),c=this.GK[4],Q=new hS;
if(c[0].k()){Q.xz=-1;Q.P6=2*M.x+M.r}if(c[1].k()){Q.G0=-1;Q.jw=2*M.y+M.$}k=j.H.MV(k,j.H.TG(Q));function x(D,h){D.beginPath();
D.moveTo(h[0],h[1]);for(var O=1;O<4;O++)D.lineTo(h[O*2],h[O*2+1]);D.closePath()}var U=this.EV(),S=j.k2.TW(U[this.oI[0]][1],this.oI[1],I,this.Rt()),z=U[this.oI[0]][1],V=new cS;
for(var t=0;t<S.length;t++){var Y=z[S[t]],i=j.k2.K8(U,Y,this.Rt()),J=i[0],H=i[1],v=H.R7(I);if(this.ES)v=v.R7(this.ES);
if(v.XS())continue;var n=j.H.e0(J,H),G=j.b.Vs(v).n;j.H.U(n,G);var g=d.slice(0);j.H.U(n,g);var W=j.b.qy(g).R7(j.b.qy(G)),L=W.r,b=W.$;
if(W.XS())continue;n=j.H.MV(j.H.MV(n,k),[M.r,0,M.x,0,M.$,M.y,0,0]);var T=j.j(W.C()*4);j.H.drawImage(n,C.PF,M.r,M.$,T,W,$);
if(v.C()!=I.C()){var a=j.q6(L,b);a.save();a.clearRect(0,0,L,b);a.translate(-W.x,-W.y);x(a,G);a.clip();
x(a,g);a.fill();a.restore();var R=new Uint8Array(a.getImageData(0,0,L,b).data.buffer);for(var O=3;O<T.length;
O+=4)if(R[O]<T[O])T[O]=R[O]}j.v.O5("norm",T,W,F?F:this.pd,l,W,1);V=V.DM(W)}return V};cW.VaPo.prototype.k=function(){return j.N(this.EV())};
cW.VaPo.prototype.aqu=function(){if(this.J==5)this.la(0);var F=new cS,r=this.yS;for(var O=0;O<=this.Qz;
O++)if(r[O].length==3)F=F.DM(r[O][0]);var $=j.j(F.C()*4);j.mR(this._T,this.JR,$,F);return[$,F]};cW.VaPo.prototype.Xt=function(F,r){this.DK.Xt(F,r);
this.view.Xt(F-40,r-30)};cW.VaPo.prototype.l=function(){this.DK.l();for(var O=0;O<this.GK.length;O++)for(var F=0;
F<this.GK[O].length;F++)this.GK[O][F].l()};cW.VaPo.prototype.vr=function(F,r){var $=this.JR,C=[],M=[],l=[],k=this.EV(),d=j.k2.Ju(k,this.K),I=0,c=null,t=null,Y=null,i=null;
for(var O=0;O<d.length;O++)l.push(d[O][0][0],d[O][0][1]);for(var O=0;O<k.length;O++){var Q=this.K[O].length;
I+=Q;if(Q!=0)c=[O,this.K[O][0]]}var x=this.GK[0][0];x.fC(I!=0);if(I!=0)x.o(Math.round(k[c[0]][0]));if(I==1){var U=k[c[0]][1]}var S=[];
if(this.ES&&k[this.oI[0]])S=j.k2.TW(k[this.oI[0]][1],this.oI[1],this.ES,this.Rt());var z=[];if(this.qb){z=this.qb.aEa();
z[4]=this.qb.pE()}var V=[];if(this.qb&&k[this.oI[0]])V=j.k2.TW(k[this.oI[0]][1],this.oI[1],j.b.qy(this.qb.Ju()),this.Rt());
for(var J=0;J<k.length;J++){var H=k[J][0],U=k[J][1],v=this.K[J];for(var n=0;n<U.length;n++){var c=U[n],G=j.k2.K8(k,c,this.Rt()),g=G[0],$=G[1],W=j.H.e0(g,$);
if($.XS()){if(Y==null)Y={C0:[],n:[]};j.b.concat(Y,{C0:["M","L","L","L","Z"],n:g});continue}var L=j.b.Vs($),b=L.n,T=L.C0,a=this.Yn;
if(a&&$.m_(a)&&this.Hg&&this.Hg[0]==J){t=[a.x,a.y];j.H.U(W,t)}if(S.indexOf(n)!=-1){var R=this.ES.R7($);
if(J==this.oI[0]&&!R.XS()){if(i==null)i={n:[],C0:[]};var D=j.b.Vs(R);j.H.U(W,D.n);j.b.concat(i,D)}}if(V.indexOf(n)!=-1&&J==this.oI[0]){var h=[];
for(var O=0;O<z.length;O++)if($.m_(z[O]))h.push(z[O].x,z[O].y);if(h.length!=0){j.H.U(W,h);l=l.concat(h)}}if(v&&v.indexOf(n)!=-1){var K=Math.ceil($.x/H)*H,X=$.x+$.r,w=Math.ceil($.y/H)*H,N=$.y+$.$;
for(var s=K;s<X;s+=H){b.push(s,$.y,s,N);T.push("M","L")}for(var A=w;A<N;A+=H){b.push($.x,A,X,A);T.push("M","L")}}j.H.U(W,b);
C=C.concat(T);M=M.concat(b)}if(t&&this.J==3){var s=t[0],A=t[1],p=10/this.view.CF().bU;M.push(s-p,A,s+p,A);
M.push(s,A-p,s,A+p);C.push("M","L","M","L")}}var g=this.Ep,$=this.JR;if(g){var q=["M"];for(var O=0;O<g.length-2;
O+=2)q.push("L");q.push("Z");var f=B.i0.Nf(g,$.r/2,$.$/2);if(isNaN(f)||f==Infinity||f==-Infinity||!aY.p6(g)){if(Y==null)Y={C0:[],n:[]};
j.b.concat(Y,{C0:q,n:g})}else{M=M.concat(g);C=C.concat(q)}}var e={nW:{C0:C,n:M},aJl:Y,afy:i,Ce:l,vR:null};
if(F){this.view.o([{$Y:$,data:this.pd.buffer}],null,e,r)}else this.view.acg(e)};cW.blnc=function(){cW.call(this);
var F=this._;this.Wd=null;this.cY=new bc([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.cY.Q(_.E.V,this.vr,this);
F.appendChild(this.cY._);this.Ry=[];for(var O=0;O<3;O++){var r=new gm(["VAR0 - VAR1",f0.afF[O],f0._5[O]],-100,100);
r.Q(_.E.V,this.yE,this);this.Ry.push(r);F.appendChild(r._)}this.rP=new jm([13,4]);this.rP.Q(_.E.V,this.yE,this);
F.appendChild(this.rP._)};cW.blnc.prototype=new cW;cW.blnc.prototype.l=function(){this.cY.l();for(var O=0;
O<3;O++)this.Ry[O].l();this.rP.l()};cW.blnc.prototype.o=function(F){this.Wd=j.N(F);this.vr()};cW.blnc.prototype.k=function(F){var r=["ShdL","MdtL","HghL"],$=this.Wd[r[this.cY.k()]].v;
for(var O=0;O<3;O++)$[O].v=this.Ry[O].k();this.Wd.PrsL.v=this.rP.k();return j.N(this.Wd)};cW.blnc.prototype.vr=function(F){var r=["ShdL","MdtL","HghL"],$=this.Wd[r[this.cY.k()]].v;
for(var O=0;O<3;O++)this.Ry[O].o($[O].v);this.rP.o(this.Wd.PrsL.v)};cW.brit=function(){cW.call(this,"brit");
this.wj.push(new gm([12,2],-150,150,""));this.wj.push(new gm([12,3,0],-100,100,""));this.wj.push(new jm([12,3,1]));
this.G7()};cW.brit.prototype=new cW;cW.curv=function(){cW.call(this);this.value=null;this.XW=null;this.e=null;
var F=this._;this.YY=new bc("Preset",["basic","advanced"]);this.YY.Q(_.E.V,this.avq,this);F.appendChild(this.YY._);
y.Hd(F);this.rg=new bc([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);this.rg.Q(_.E.V,this.nA,this);F.appendChild(this.rg._);
this.vg=new bc(null,["Spline","Sketch"]);this.vg.Q(_.E.V,this.avq,this);F.appendChild(this.vg._);this.o1=new ev;
this.o1.parent=this;this.o1.Q(_.E.V,this.gV,this);F.appendChild(this.o1._);y.Hd(F);this.Gt=new co;this.Gt.Q(_.E.V,this.zf,this);
F.appendChild(this.Gt._);this.lL=null;this.aeb=0;this.avL=0;y.Hd(F);this.OF=new i9("Sample from image",a8.Jl(["#000000","#888888","#ffffff","-\u2195"]),!0,null,!0);
this.OF.Q(_.E.V,this.bt,this);this.OF._.style.marginRight="0";F.appendChild(this.OF._)};cW.curv.prototype=new cW;
cW.curv.prototype.Ga=function(){return this.Gt.av9()<128?1:2};cW.curv.prototype.Db=function(F,r){if(r==d3.BN||r==d3.Dd){var $=F.Uy,C=["Default"];
for(var O=0;O<$.length;O++)C.push($[O].presetFileName.v);C.push("Custom");this.YY.Ek(C,[1,$.length,1]);
this.e=F}};cW.curv.prototype.Xt=function(F,r){this.Gt.Xt(F,r)};cW.curv.prototype.l=function(){this.rg.l();
this.Gt.l()};cW.curv.prototype.vJ=function(){this.YY.o(this.e.Uy.length+1)};cW.curv.prototype.avq=function(F){if(F.target==this.YY){var r=this.YY.k(),$=this.e.Uy,C;
if(r==0)C=e9.Mv("curv");else if(r-1<$.length)C=j.N($[r-1]);else return;this.o(C);this.yE();return}this.vJ();
var M=bb.T9(this.value,0),l=M.length==256?1:0,k=this.vg.k();if(l==k)return;var C=e9.Mv("curv");if(k==1){var d=[];
for(var O=0;O<256;O++)d.push(O);bb.qd(C,0,d)}this.o(C);this.yE()};cW.curv.prototype.zf=function(){this.vJ();
bb.qd(this.value,this.rg.k(),this.Gt.k());this.yE()};cW.curv.prototype.nA=function(){var F=this.rg.k(),r=bb.T9,$=r(this.value,F),C;
if(F==0)C=[r(this.value,1),r(this.value,2),r(this.value,3)];var M=$.length==256?1:0;this.vg.o(M);if(this.XW)this.Gt.ZA(this.XW[F],this.XW[4]*[1,.33,.33,.33][F],["#ccc","#fcc","#cfc","#ccf"][F]);
this.Gt.o($,null,C)};cW.curv.prototype.g4=function(){return!0};cW.curv.prototype.SY=function(F,r,$,C,M){var l=this.value;
this.value=e9.Mv("curv");this.yE();var k=B.$r.GA(F,M,1,null,!0),d=this.lL=[k>>>16&255,k>>>8&255,k&255];
this.aeb=M.y;this.o(l);this.yE()};cW.curv.prototype.GQ=function(F,r,$,C,M){if(this.lL==null)return;if(this.OF.k().indexOf(!0)==3){var l=this.lL,k=this.value,d=this.rg.k(),I=bb.T9(k,d),c,Q=d==0?Math.round((l[0]+l[1]+l[2])/3):l[d-1],x=-1;
for(var O=0;O<I.length;O++)if(I[O].v.Hrzn.v==Q)x=O;if(x==-1){c=j.N(I[0]);c.v.Hrzn.v=Q;c.v.Vrtc.v=Q;I.push(c);
I.sort(function(U,S){return U.v.Hrzn.v-S.v.Hrzn.v});bb.qd(k,d,I);x=I.indexOf(c)}c=I[x];c.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(c.v.Hrzn.v+(this.aeb-M.y))));
bb.qd(k,d,I);this.o(k);this.yE()}};cW.curv.prototype.pf=function(F,r,$,C,M){cW.aeu(this,F,M,"curv");
this.vJ();this.lL=null};cW.curv.prototype.o=function(F){this.value=F;this.nA()};cW.curv.prototype.ZA=function(F){this.XW=F;
this.nA()};cW.curv.prototype.k=function(F){return j.N(this.value)};cW.curv.prototype.gV=function(){var F=this.o1.k(),r=this.XW,$=this.value,C=j.a9s(F,r);
for(var O=0;O<4;O++){var M=C[O][0],l=C[O][1],k=C[O][2],d=[j.Jw.ie(M,0,!0),j.Jw.ie(l,255,!0)];if(k!=null)d.splice(1,0,j.Jw.ie(128,k,!0));
bb.qd($,O,d)}this.nA();this.yE()};cW.expA=function(){cW.call(this,"expA");this.wj.push(new gm([12,5],-20,20,null,2,!0));
this.wj.push(new gm([12,6],-.5,.5,null,2));this.wj.push(new gm([12,7],.01,9.99,null,2,!0));this.G7()};
cW.expA.prototype=new cW;cW.expA.prototype.Mq=function(F,r){r[0]=F.Exps.v;r[1]=F.Ofst?F.Ofst.v:0;r[2]=F.gammaCorrection?F.gammaCorrection.v:1};
cW.expA.prototype.$y=function(F,r){F.Exps={t:"doub",v:r[0]};F.Ofst={t:"doub",v:r[1]};F.gammaCorrection={t:"doub",v:r[2]}};
cW.grdm=function(){cW.call(this,"grdm");this.wj.push(new bl(!0,null,!0));this.wj.push(new jm([12,23,0]));
this.G7()};cW.grdm.prototype=new cW;cW.grdm.prototype.Mq=function(F,r){r[0]=F.Grad.v;r[1]=F.Rvrs?F.Rvrs.v:!1};
cW.grdm.prototype.$y=function(F,r){F.Grad.v=r[0];F.Rvrs={t:"bool",v:r[1]}};cW.grdm.prototype.Db=function(F,r){this.wj[0].xr(F.y1,F.J2);
if(r==d3.BN||r==d3.VV||r==d3.PP)this.wj[0].ZK(F.Bl)};cW.selc=function(){cW.call(this);var F=this._;this.bk=[];
this.gX=null;this.cY=new bc([12,82],f0.fo.concat([[13,1,8],[13,1,13],[13,1,10]]));this.cY.Q(_.E.V,this.ms,this);
F.appendChild(this.cY._);y.Hd(F);for(var O=0;O<4;O++){var r=new gm(f0.afF[O],-100,100,"%");r.Q(_.E.V,this.ms,this);
this.bk.push(r);F.appendChild(r._)}this.IA=new jm([13,3]);F.appendChild(this.IA._);this.IA.Q(_.E.V,this.ms,this)};
cW.selc.prototype=new cW;cW.selc.prototype.l=function(){this.cY.l();this.IA.l();for(var O=0;O<4;O++)this.bk[O].l()};
cW.selc.prototype.o=function(F){this.gX=j.N(F);this.vr()};cW.selc.prototype.k=function(F){return j.N(this.gX)};
cW.selc.prototype.ms=function(F){if(F.target!=this.cY){var r=this.gX,$=[];for(var O=0;O<4;O++)$[O]=this.bk[O].k();
ao.qd(r,this.cY.k(),$);r.Mthd={t:"enum",v:{CrcM:this.IA.k()?"Absl":"Rltv"}}}this.vr();this.yE()};cW.selc.prototype.vr=function(){var F=this.gX,r=ao.T9(F,this.cY.k());
for(var O=0;O<4;O++)this.bk[O].o(r[O]);this.IA.o(F.Mthd?F.Mthd.v.CrcM=="Absl":!1)};cW.blwh=function(){cW.call(this,"blwh");
this.wj.push(new jm([12,11]));this.wj.push(new a$(!0));for(var O=0;O<6;O++)this.wj.push(new gm(f0.fo[O],-200,300));
this.G7()};cW.blwh.prototype=new cW;cW.blwh.prototype.Mq=function(F,r){r[0]=F.useTint.v;r[1]=F.tintColor.v;
var $="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var O=0;O<6;O++)r[2+O]=F[$[O]].v};cW.blwh.prototype.$y=function(F,r){F.useTint.v=r[0];
F.tintColor.v=r[1];var $="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var O=0;O<6;O++)F[$[O]].v=r[2+O]};
cW.hue2=function(){cW.call(this);this.value=null;this.Z0=null;this.Em=null;this.ao6=[[0,0,0],[0,50,0]];
var F=this._;this.OF=new i9(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.OF.Q(_.E.V,this.auL,this);this.OF.Q(_.E.V,this.bt,this);F.appendChild(this.OF._);var r=this.wj=[new bc([12,12],["Master"].concat(f0.fo)),new gm([12,8],-180,180),new gm([12,9],-100,100),new gm([12,10],-100,100),new jm([12,11])];
for(var O=0;O<r.length;O++){var $=r[O];$.Q(_.E.V,O==0?this.nA:this.aDB,this);F.appendChild($._)}this.cY=r[0];
this.afm=r[1];this.zR=r[2];this.aJQ=r[3];this.jK=r[4];this.dI=new i9("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.dI.Q(_.E.V,this.auL,this);this.dI.Q(_.E.V,this.bt,this);this.dI._.style.marginLeft="20px";F.appendChild(this.dI._);
this.apu=y.i("div");F.appendChild(this.apu);this.QA=this.PJ.bind(this);this.Zh=this.I$.bind(this);this.Ee=y.i("canvas");
this.Tg=this.Ee.getContext("2d");this.sI=null;y.C7(this.Ee);y.jd(this.Ee,282,18);F.appendChild(this.Ee);
y.TX(this.Ee,this.lk.bind(this))};cW.hue2.prototype=new cW;cW.hue2.prototype.Xt=function(F,r){y.jd(this.Ee,Math.round(F),18);
if(this.value)this.nA()};cW.hue2.prototype.auL=function(F){var r=F.target.k().indexOf(!0);if(r==-1)return;
if(F.target==this.OF)this.dI.o([!1,!1,!1]);else this.OF.o([!1,!1,!1])};cW.hue2.prototype.lk=function(F){if(this.cY.k()==0||this.jK.k())return;
var r=y.Bz(F,this.Ee).x/(this.Ee.width/y.ha()),l=1e6;function $(x,U,S){return x<U&&U<S||S<x&&(x<U||U<S)}var C=this.sC(),M=-1;
for(var O=0;O<4;O++){var k=Math.abs(r-(C[O]+O*1e-5));if(k<l){l=k;M=O}}if(l>.025){M=-1;var d=C[0],I=C[1],c=C[2],Q=C[3];
if($(d,r,I))M=4;if($(I,r,c))M=5;if($(c,r,Q))M=6}if(M==-1)return;this.sI=M;y.dO(document.body,this.QA);
y.an(document.body,this.Zh)};cW.hue2.prototype.PJ=function(F){var r=y.Bz(F,this.Ee).x/(this.Ee.width/y.ha()),$=this.sC(),C=this.sI;
for(var O=1;O<4;O++)if($[O]<$[O-1]){$[O]+=1}if(C<4){var M=1e6,l=0;for(var O=-20;O<20;O++){var k=Math.abs($[C]-(r+O));
if(k<M){M=k;l=O}}r+=l;$[C]=r;for(var O=C+1;O<4;O++)if($[O]<$[O-1]){$[O]=$[O-1]}for(var O=C-1;O>=0;O--)if($[O]>$[O+1]){$[O]=$[O+1]}}else{var d=r-($[C-4]+$[C-3])/2;
if(d<-.5)d+=1;if(C==4){$[0]+=d;$[1]+=d;$[2]=Math.max($[1],$[2]);$[3]=Math.max($[1],$[3])}if(C==5)for(var O=0;
O<4;O++)$[O]+=d;if(C==6){$[2]+=d;$[3]+=d;$[0]=Math.min($[0],$[2]);$[1]=Math.min($[1],$[2])}}for(var O=1;
O<4;O++)if($[O]<$[O-1])throw"e";this.aET($);this.nA();this.yE()};cW.hue2.prototype.I$=function(F){y.Fp(document.body,this.QA);
y.gj(document.body,this.Zh)};cW.hue2.prototype.l=function(){for(var O=0;O<this.wj.length;O++)this.wj[O].l()};
cW.hue2.prototype.aDB=function(F){var r=this.value.Clrz.v=this.jK.k();if(r)this.cY.o(0);if(F&&F.target==this.jK){var $=r?1:0;
this.ao6[1-$]=hA.T9(this.value,0);var C=this.ao6[$];hA.qd(this.value,0,C);if(this.cY.k()==0){this.afm.o(C[0]);
this.zR.o(C[1]);this.aJQ.o(C[2])}}var M=this.cY.k(),l=hA.T9(this.value,M),C=M==0?l:l.Ry;C[0]=this.afm.k();
var k=this.zR.k();C[1]=r?Math.max(0,k):k;C[2]=this.aJQ.k();hA.qd(this.value,M,l);this.nA();this.yE()};
cW.hue2.prototype.nA=function(){var F=this.cY.k(),r=this.value.Clrz?this.value.Clrz.v:!1;this.jK.o(r);
this.cY.fC(!r);this.dI.fC(!r&&F!=0);var $=hA.T9(this.value,F),C=F==0?$:$.Ry;this.afm.o(C[0]);this.zR.o(C[1]);
this.aJQ.o(C[2]);var M=this.Ee.width,l=this.Ee.height,k=this.Tg;k.clearRect(0,0,M,l);if(r||F==0){this.apu.innerHTML="";
return}var d=$.Hf;this.apu.innerHTML=d[0]+"\xB0 / "+d[1]+"\xB0<span style=\"float:right\">"+d[2]+"\xB0 \\ "+d[3]+"\xB0</span>";
var I=j.j(M*4);ec.ah9(I,1,M,-1,.5);var c=new ImageData(new Uint8ClampedArray(I.buffer),M,1),Q=Math.round(l/4);
for(var O=0;O<Q;O++)k.putImageData(c,0,O);function x(Y,i,J){k.fillStyle=J;var H=Q*2;if(Y<=i)k.fillRect(Y*M,H,(i-Y)*M,Q);
else{k.fillRect(0,H,i*M,Q);k.fillRect(Y*M,H,(1-Y)*M,Q)}}var U=this.sC();x(U[0],U[1],"#888888");x(U[1],U[2],"#cccccc");
x(U[2],U[3],"#888888");k.fillStyle="#ffffff";k.lineWidth=1;k.beginPath();var S=Q+.5,z=4*Q+.5;for(var O=0;
O<4;O++){var V=Math.floor(M*U[O])+.5,t=(O<2?-1:1)*Q*(O==1||O==2?1:2);k.moveTo(V,S);k.lineTo(V,z);k.lineTo(V+t,z);
k.lineTo(V+t,Q+Q+.5);k.closePath()}k.fill();k.stroke()};cW.hue2.prototype.sC=function(){var F=this.cY.k(),r=hA.T9(this.value,F).Hf;
for(var O=0;O<4;O++)r[O]=(1000.5+r[O]/360)%1;return r};cW.hue2.prototype.aET=function(F){var r=this.cY.k(),$=hA.T9(this.value,r);
for(var O=0;O<4;O++)$.Hf[O]=Math.round(36e3+(F[O]-.5)*360)%360;hA.qd(this.value,r,$)};cW.hue2.prototype.g4=function(){return!0};
cW.hue2.prototype.a7r=function(){var F=this.OF.k().indexOf(!0),r=this.dI.k().indexOf(!0);return F!=-1?F:r!=-1?r+1:-1};
cW.hue2.prototype.SY=function(F,r,$,C,M){var l=this.a7r();if(l==-1)return;var k=this.value;this.value=e9.Mv("hue2");
this.yE();var d=B.$r.GA(F,M,1,null,!0);this.o(k);var I=[d>>>16&255,d>>>8&255,d&255],c=j.nc(I[0]/255,I[1]/255,I[2]/255);
if(l==0){this.cY.o(1+Math.round(c.Y9*6)%6)}else{var Q=this.sC(),x=.5+c.Y9,U=1/12,S=Q[1],z=Q[2];if(z<S){z++;
if(x<S&&x+1-z<S-x)x++}var V=S<=x&&x<=z;if(l==1){S=x-U/2;z=x+U/2}else if(l==2&&!V){S=Math.min(x,S);z=Math.max(x,z)}else if(l==3&&V){if(x-S<z-x)S=x;
else z=x}Q=[S-U,S,z,z+U];this.aET(Q)}this.yE();this.Z0=M.x;this.Em=this.zR.k()};cW.hue2.prototype.GQ=function(F,r,$,C,M){var l=this.a7r();
if(l==-1)return;if(l==0){if(this.Z0!=null){var k=M.x-this.Z0;k=Math.max(-100,Math.min(100,this.Em+.5*k));
this.zR.o(k);this.aDB()}}};cW.hue2.prototype.pf=function(F,r,$,C,M){this.Z0=null};cW.hue2.prototype.o=function(F){this.value=j.N(F);
var r=this.value.Clrz?this.value.Clrz.v:!1;this.ao6[r?1:0]=hA.T9(this.value,0);this.nA()};cW.hue2.prototype.k=function(F){return j.N(this.value)};
cW.levl=function(){function F(){cW.call(this);this.value=null;this.XW=null;this.a4=[new hx(0,0),new hx(0,0),new hx(0,0),new hx(0,0),new hx(0,0)];
this.dB=-1;this.aqf=0;this.QA=this.PJ.bind(this);this.Zh=this.I$.bind(this);var r=this._;this.rg=new bc([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.rg.Q(_.E.V,this.nA,this);r.appendChild(this.rg._);this.o1=new ev;this.o1.parent=this;this.o1.Q(_.E.V,this.gV,this);
r.appendChild(this.o1._);var $=y.i("div","");r.appendChild($);var C=y.i("div","");r.appendChild(C);this.Ee=y.i("canvas");
$.appendChild(this.Ee);this.Tg=this.Ee.getContext("2d");this.ah=new hx(256,120);y.B(this.Ee,"display:block");
y.C7(this.Ee);y.TX(this.Ee,this.lk.bind(this));this.WA=y.i("canvas","");C.appendChild(this.WA);this.p2=this.WA.getContext("2d");
this.x6=new hx(this.ah.x,40);y.B(this.WA,"display:block");y.C7(this.WA);y.TX(this.WA,this.aG$.bind(this));
var M=this.a5p=[];for(var O=0;O<5;O++){var l=new gs(null,null,3);M.push(l);l.Q(_.E.V,this.afI,this);
(O<2||O==4?$:C).appendChild(l._)}$.appendChild(M[1]._);this.OF=new i9("Sample from image",a8.Jl(["#000000","#888888","#ffffff"]),!0,null,!0);
this.OF.Q(_.E.V,this.bt,this);r.appendChild(this.OF._);this.Xt(250,100)}F.prototype=new cW;F.prototype.Ga=function(){return this.aqf==0?1:2};
F.prototype.gV=function(){var r=this.o1.k(),$=this.XW,C=this.value,M=j.a9s(r,$);for(var O=0;O<4;O++){var l=M[O][0],k=M[O][1],d=M[O][2],I=[j.Jw.ie(l,0,!0),j.Jw.ie(k,255,!0)];
if(d!=null)I.splice(1,0,j.Jw.ie(128,d,!0));var c=[~~l,~~k,0,255,d==null?100:~~(100+.75*100*(d-128)/128)];
fc.qd(C,O,c)}this.nA();this.yE()};F.prototype.Xt=function(r,$){r+=6;this.ah.x=this.x6.x=r;y.jd(this.Ee,r,this.ah.y,this.Tg);
y.jd(this.WA,r,this.x6.y,this.p2);var C=this.a5p;y.B(C[3]._,"margin-left: "+(r-104)+"px");y.B(C[4]._,"margin: 0 "+(r/2-74)+"px");
if(this.value)this.nA()};F.prototype.l=function(){this.rg.l()};F.prototype.afI=function(r){var $=[];
for(var O=0;O<5;O++){var C=255,M=1;if(O==4){C=999;M=100}var l=parseFloat(this.a5p[O].k());$[O]=Math.max(0,Math.min(C,l*M))}fc.qd(this.value,this.rg.k(),$);
this.nA();this.yE()};F.prototype.nA=function(r){var $=this.ah.x,C=this.ah.y,M=this.rg.k(),l=this.Tg;
l.clearRect(0,0,$,C);l.fillStyle="#cccccc";l.fillRect(8,8,$-16,C-16-8);if(this.XW){var k=this.XW[0].slice(0),z=0;
if(M==0){k.fill(0);var d=j.N(this.value);fc.qd(d,0,[0,255,0,255,100]);var I=f0.ak("levl",d),c=[I.qs,I.Cx,I.uN];
for(var Q=0;Q<3;Q++){var x=this.XW[1+Q],U=c[Q];for(var O=0;O<256;O++)k[~~(U[O]*255)]+=x[O]}}var S=M==0?k:this.XW[M];
for(var O=0;O<S.length;O++)z+=S[O];l.fillStyle="#333333";l.beginPath();l.moveTo(8,C-16);for(var O=0;
O<256;O++){var V=55*S[O]/z;l.lineTo(8+O/256*($-16),Math.max(8,C-16-C*V))}l.lineTo($-8,C-16);l.closePath();
l.fill()}var t=fc.T9(this.value,M);for(var O=0;O<5;O++)this.a5p[O].o(t[O]/(O==4?100:1));this.a4[0].I_(8+t[0]/255*($-16),C-14);
this.a4[1].I_(8+t[1]/255*($-16),C-14);var Y=Math.log(t[4]/100)/Math.log(9.99);Y=.5-Y/2;this.a4[4].I_(this.a4[0].x+Y*(this.a4[1].x-this.a4[0].x),C-14);
this.G$(l,this.a4[0],"#000000");this.G$(l,this.a4[1],"#ffffff");this.G$(l,this.a4[4],"#777777");var $=this.x6.x,C=this.x6.y;
l=this.p2;l.clearRect(0,0,$,C);var i=l.createLinearGradient(0,0,$-16,0);i.addColorStop(0,"black");i.addColorStop(1,"white");
l.fillStyle=i;l.fillRect(8,8,$-16,16);this.a4[2].I_(8+t[2]/255*($-16),C-14);this.a4[3].I_(8+t[3]/255*($-16),C-14);
this.G$(l,this.a4[2],"#000000");this.G$(l,this.a4[3],"#ffffff")};F.prototype.G$=function(r,$,C){r.fillStyle=C;
r.fillRect($.x-5,$.y,10,10)};F.prototype.lk=function(r){var $=y.Bz(r,this.Ee),C=this.au7([0,1,4],$);
if(C!=-1)this.dB=this.aqf=C;this.a4x()};F.prototype.aG$=function(r){var $=y.Bz(r,this.WA),C=this.au7([2,3],$);
if(C!=-1)this.dB=C;this.a4x()};F.prototype.au7=function(r,$){var C=-1,M=1e9;for(var O=0;O<r.length;O++){var l=Math.abs(this.a4[r[O]].x-$.x);
if(l<M){M=l;C=r[O]}}return M<16?C:-1};F.prototype.a4x=function(r){if(this.dB==-1)return;y.dO(document.body,this.QA);
y.an(document.body,this.Zh)};F.prototype.PJ=function(r){var $=fc.T9(this.value,this.rg.k()),C=y.Bz(r,this.dB==2&&this.dB==3?this.WA:this.Ee),M=255*(C.x-8)/(this.ah.x-16);
M=Math.max(0,Math.min(255,M));if(this.dB==0)M=Math.min(M,$[1]-2);if(this.dB==1)M=Math.max(M,$[0]+2);
if(this.dB!=4)$[this.dB]=Math.round(M);else{var l=(M-$[0])/($[1]-$[0]);l=1-2*l;l=Math.pow(9.99,l);$[4]=Math.min(999,Math.max(10,Math.round(l*100)))}fc.qd(this.value,this.rg.k(),$);
this.nA();this.yE()};F.prototype.I$=function(r){y.Fp(document.body,this.QA);y.gj(document.body,this.Zh);
this.dB=-1};F.prototype.g4=function(){return!0};F.prototype.pf=function(r,$,C,M,l){cW.aeu(this,r,l,"levl")};
F.prototype.o=function(r){this.value=r;this.nA()};F.prototype.ZA=function(r){this.XW=r;this.nA()};F.prototype.k=function(r){return j.N(this.value)};
return F}();cW.phfl=function(){cW.call(this,"phfl");this.wj.push(new a$);this.wj.push(new gm([12,74],0,100,"%"));
this.wj.push(new jm([13,4]));this.G7()};cW.phfl.prototype=new cW;cW.phfl.prototype.Mq=function(F,r){r[0]=F.Clr.v;
r[1]=F.Dnst.v;r[2]=F.PrsL.v};cW.phfl.prototype.$y=function(F,r){var $=j.qS.MB(r[0]),C=F.Clr.v,M=j.fX($.t,$.L,$.X);
C.Lmnc.v=M.tr;C.A.v=M.xz;C.B.v=M.X;F.Dnst.v=r[1];F.PrsL.v=r[2]};cW.vibA=function(){cW.call(this,"vibA");
this.wj.push(new gm([12,13],-100,100,null));this.wj.push(new gm([12,9],-100,100,null));this.G7()};cW.vibA.prototype=new cW;
cW.vibA.prototype.Mq=function(F,r){r[0]=F.vibrance?F.vibrance.v:0;r[1]=F.Strt?F.Strt.v:0};cW.vibA.prototype.$y=function(F,r){F.vibrance.v=r[0];
F.Strt.v=r[1]};cW.thrs=function(){cW.call(this,"thrs");this.wj.push(new gm([4,13],1,255,null));this.G7()};
cW.thrs.prototype=new cW;cW.thrs.prototype.Mq=function(F,r){r[0]=F.Lvl.v};cW.thrs.prototype.$y=function(F,r){F.Lvl.v=r[0]};
cW.mixr=function(){cW.call(this);var F=this._;this.bk=[];this.gX=null;this.cY=new bc([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.aay=!1;this.cY.Q(_.E.V,this.ms,this);F.appendChild(this.cY._);y.Hd(F);this.Sq=new jm([12,60]);F.appendChild(this.Sq._);
this.Sq.Q(_.E.V,this.ms,this);for(var O=0;O<4;O++){var r=new gm([[13,1,1],[13,1,4],[13,1,5],[13,2]][O],-200,200,"%");
r.Q(_.E.V,this.ms,this);this.bk.push(r);F.appendChild(r._)}};cW.mixr.prototype=new cW;cW.mixr.prototype.l=function(){this.cY.l();
this.Sq.l();for(var O=0;O<4;O++)this.bk[O].l()};cW.mixr.prototype.o=function(F){this.gX=j.N(F);this.vr()};
cW.mixr.prototype.k=function(F){return j.N(this.gX)};cW.mixr.prototype.ms=function(F){if(F.target!=this.cY){var r=f0.bm(this.gX);
if(F.target==this.Sq){r.Sq=this.Sq.k();if(r.Sq)r.Y=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else r.Y=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var $=(r.Sq?0:this.cY.k())*5,O=this.bk.indexOf(F.target);
r.Y[$+(O<3?O:4)]=F.target.k()}this.gX=f0.c4(r)}this.vr();this.yE()};cW.mixr.prototype.vr=function(){var F=f0.bm(this.gX);
if(F.Sq!=this.aay)this.cY.Ek(F.Sq?[[13,1,7]]:f0._5);this.aay=F.Sq;this.Sq.o(F.Sq);var r=(F.Sq?0:this.cY.k())*5;
for(var O=0;O<4;O++)this.bk[O].o(F.Y[r+(O<3?O:4)])};cW.post=function(){cW.call(this,"post");this.wj.push(new gm([4,1],2,255,null));
this.G7()};cW.post.prototype=new cW;cW.post.prototype.Mq=function(F,r){r[0]=F.Lvls.v};cW.post.prototype.$y=function(F,r){F.Lvls.v=r[0]};
cW.clrL=function(){cW.call(this,"clrL");this.wj.push(new kj("LUTs"));this.G7()};cW.clrL.prototype=new cW;
cW.clrL.prototype.Mq=function(F,r){r[0]=F};cW.clrL.prototype.$y=function(F,r){var $=r[0];for(var C in $)F[C]=$[C]};
cW.clrL.prototype.Db=function(F,r){if(r==d3.BN||r==d3.SK)this.wj[0].ZK(F.aJr)};cW.rplc=function(){cW.call(this,"rplc");
this.wj.push(new gm([12,92],0,200));this.wj.push(new a$);this.wj.push(new gm([12,8],-180,180));this.wj.push(new gm([12,9],-100,100));
this.wj.push(new gm([12,10],-100,100));this.G7()};cW.rplc.prototype=new cW;cW.rplc.prototype.Mq=function(F,r){r[0]=F.Fzns.v;
r[1]=F.Mxm.v;r[2]=F.H.v;r[3]=F.Strt.v;r[4]=F.Lght.v};cW.rplc.prototype.$y=function(F,r){function $(M,l){l.Lmnc.v=M.tr;
l.A.v=M.xz;l.B.v=M.X}F.Fzns.v=r[0];F.H.v=r[2];F.Strt.v=r[3];F.Lght.v=r[4];var C=j.qS.MB(r[1]),M=j.fX(C.t,C.L,C.X);
$(M,F.Mnm.v);$(M,F.Mxm.v)};cW.fade=function(){cW.call(this,"fade");this.wj.push(new gm([12,0],0,100,"%"));
this.wj.push(new bc([12,19,0],dL.X_,dL.rn));this.G7()};cW.fade.prototype=new cW;cW.fade.prototype.Mq=function(F,r){r[0]=F.Opct.v.val;
r[1]=dL.UI.indexOf(F.Md.v.BlnM)};cW.fade.prototype.$y=function(F,r){F.Opct.v.val=r[0];F.Md.v.BlnM=dL.UI[r[1]]};
cW.aply=function(){var F=dL.UI.concat(["Add","Sbtr"]);F.splice(21,1);var r=dL.X_.concat([[15,10,28],[15,10,21]]);
r.splice(21,1);var $=dL.rn.slice(0);$[4]--;function C(){cW.call(this,"aply");this.wj.push(new bc([0,3],[]));
this.wj.push(new bc([12,4],["RGB"].concat(f0._5).concat(["Transparency"])));this.wj.push(new jm([4,11]));
this.wj.push(new bc([12,19,0],r,$));this.wj.push(new gm([12,0],0,100,"%"));this.wj.push(new eT([12,38],1,2,null,2));
this.wj.push(new eT([12,6],-255,255));this.wj.push(new jm([13,5]));this.G7([2]);this.aC1=null}C.prototype=new cW;
C.prototype.Mq=function(M,l,k){if(k){var d=k[2].u,I=this.aC1=[];for(var O=0;O<d.length;O++){var c=d[O].getName();
I.push(c.length<30?c:c.slice(0,27)+"...")}I.reverse();this.wj[0].Ek([[5,7]].concat(I),[1,I.length])}else var I=this.aC1;
M=M.With.v;var Q=M.T.v;l[0]=Q[1].t=="name"?1+I.indexOf(Q[1].v.val):0;l[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(Q[0].v.enum);
l[2]=M.Invr.v;var x=M.Clcl.v.Clcn;l[3]=F.indexOf(x);l[4]=M.Opct.v.val;l[5]=M.Scl.v;l[6]=M.Ofst.v;l[7]=M.PrsT.v};
C.prototype.$y=function(M,l){M=M.With.v;var k=M.T.v;if(l[0]==0)k[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else k[1]={t:"name",v:{classID:"Lyr",val:this.aC1[l[0]-1]}};k[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][l[1]];
M.Invr.v=l[2];var d=M.Clcl.v.Clcn=F[l[3]];M.Opct.v.val=l[4];M.Scl.v=l[5];M.Ofst.v=l[6];M.PrsT.v=l[7];
var I=d=="Add"||d=="Sbtr";this.wj[5].fC(I);this.wj[6].fC(I)};return C}();cW.matc=function(){var F,r,$=0;
function C(){cW.call(this,"matc");this.wj.push(new gm("Luminance",1,200));this.wj.push(new gm("Color Intensity",1,200));
this.wj.push(new gm([2,11],0,100,"%"));this.wj.push(new jm("Neutralize"));this.wj.push(new bc([12,70],[]));
this.wj.push(new bc([0,3],[]));this.G7([2])}function M(l,k){l.wj[5].Ek([[5,7]].concat(k),[1,k.length])}C.prototype=new cW;
C.prototype.Mq=function(l,k,d){$=0;k[0]=l.Lght.v;k[1]=l.ClrR.v;k[2]=l.Fade.v;k[3]=l.neutralizeColor?l.neutralizeColor.v:!1;
k[4]=k[5]=0;var I=l.Srce;if(I)I=I.v;if(d){F=[];r=[];var c=d[2],Q=d[3];for(var O=0;O<Q.length;O++){var x=Q[O];
F.push(x.name);var U=x.u,S=[];r.push(S);for(var z=0;z<U.length;z++)S.push(U[z].getName());S.reverse()}this.wj[4].Ek([[13,1,0]].concat(F),[1,F.length]);
var V=Q.indexOf(c);if(I)V=F.indexOf(I[1].v.val);M(this,r[V])}if(I){var t=F.indexOf(I[1].v.val);k[3]=$=1+t;
if(I[0].t=="name")k[4]=1+r[t].indexOf(I[0].v.val)}};C.prototype.$y=function(l,k){l.Lght.v=k[0];l.ClrR.v=k[1];
l.Fade.v=k[2];l.neutralizeColor.v=k[3];if(k[4]==0){l.noReference={t:"bool",v:!0};delete l.Srce}else{if(k[4]!=$){$=k[4];
M(this,r[k[4]-1])}delete l.noReference;var d={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},I=r[k[4]-1];
if(k[5]!=0)d={t:"name",v:{classID:"Lyr",val:I[k[5]-1]}};l.Srce={t:"obj ",v:[d,{t:"name",v:{classID:"Dcmn",val:F[k[4]-1]}}]}}};
return C}();function fe(F,r){au.call(this);if(F==null)return;this.id=r;this.WO=F;this.a4w=null;this._=y.i("div","window "+r);
this.aHv=null;this.MJ=y.i("div","whead");this.aiF=y.i("span","wname");this.MJ.appendChild(this.aiF);
this.aJ_=!1;this._.appendChild(this.MJ);this.Oh=this.aEB.bind(this);this._l=this.awt.bind(this);this.HA=this.agG.bind(this);
y.C7(this.MJ);y.TX(this.MJ,this.Oh);this.a5D=y.i("span","cross gsicon");this.MJ.appendChild(this.a5D);
fe.prototype.l.call(this);y.an(this.a5D,this.aCz.bind(this));this.body=y.i("div","body");this._.appendChild(this.body)}fe.prototype=new au;
fe.prototype.fV=function(){return!1};fe.prototype.g4=function(){return!1};fe.prototype.l=function(){if(this.WO==null)return;
this.aiF.textContent=dG.get(this.WO)};fe.prototype.SY=function(F,r,$,C,M){};fe.prototype.tf=function(F,r,$,C,M){};
fe.prototype.GQ=function(F,r,$,C,M){};fe.prototype.pf=function(F,r,$,C,M){};fe.prototype.ql=function(F,r,$,C,M){};
fe.prototype.JG=function(F,r,$,C){if(C.D(ac.t7)&&this.N1)this.N1();if(C.D(ac.Xf)){var M=new k6(_.E.O);
M.vs=!0;B.aB.acL(C,M);if(M.data)r.a(M)}};fe.prototype.fI=function(F){return!1};fe.prototype.R3=function(F,r){return!0};
fe.prototype.wK=function(F,r,$,C){};fe.prototype.Db=function(F,r){};fe.prototype.kX=function(F,r){return null};
fe.prototype.aJ3=function(F){return this.aHv};fe.prototype.Xt=function(){};fe.prototype.close=function(){this.a(new k6(_.E.FQ))};
fe.prototype.aEB=function(F){this.a4w=y.Bz(F,this._);y.dO(window,this._l);y.an(window,this.HA)};fe.prototype.awt=function(F){var r=this._.parentNode,$=y.Bz(F,r),C=Math.round($.x-this.a4w.x),M=r.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round($.y-this.a4w.y)));
this.aHv=new hx(C,M);this._.style.left=C+"px";this._.style.top=M+"px"};fe.prototype.agG=function(F){y.Fp(window,this._l);
y.gj(window,this.HA)};fe.prototype.aCz=function(F){if(this.aJ_){this.N1();return}this.a(new k6("closebtn"));
this.close()};function fd(){fe.call(this,"About Photopea","aboutpp");var F=this.body,r=this.abd=y.i("img");
F.appendChild(r);y.B(this.body,"margin:0; padding:0");var $=this.os=y.i("div");$.innerHTML=fd.Qx;F.appendChild($);
var C=this.vL=y.i("span");C.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(C)}fd.prototype=new fe;fd.prototype.kX=function(F,r){return new hx(0,0)};fd.prototype.Xt=function(F,r){var $=(F+r-42-42)/110,C,M,l;
$=Math.sqrt((F-42)*(r-42))/50;if(F>r){y.yY(this.body,"flexrow");C="width:"+F/2+"px; height:"+r+"px; display:block; object-fit:cover;";
M="width:"+(F/2-42)+"px; height:"+(r-42)+"px; padding:20px; font-size:"+$+"px;";l="position:absolute;  bottom:10px; right:"+(F/2+10)+"px"}else{if(F*1.5>r)$*=.9;
y.cD(this.body,"flexrow");C="width:"+F+"px; height:"+r/2+"px; display:block; object-fit:cover;";M="width:"+(F-42)+"px; height:"+(r/2-42)+"px; padding:20px; font-size:"+$+"px;";
l="position:absolute;  bottom:"+(r/2+10)+"px; right:10px"}y.B(this.abd,C);y.B(this.os,M);y.B(this.vL,l)};
fd.prototype.l=function(){};fd.prototype.wK=function(F,r,$,C){this.abd.setAttribute("src","promo/ivan_pp.webp")};
fd.Qx="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 33-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i><br/>\t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://twitter.com/ivankutskir\">Twitter</a> | \t<a style=\"color:inherit;\" target=\"_blank\" href=\"https://instagram.com/ivankutskir\">Instagram</a></p>\t";
function jy(){fe.call(this,"Are you blocking ads?","bnotify");var F=this.body,r="style=\"color:inherit\" target=\"_blank\"",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAAA6CAMAAAA9UgEZAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAI1QTFRF4eHhR0dHk5OTUlJSoqKio6OjpKSkqqqq2dnZVFRUVlZWdHR029vbxcXFWFhYYmJizs7OaGhogoKCsbGxTExMpaWlXl5ecXFxSUlJfn5+uLi4iYmJmJiYd3d3v7+/Tk5OjY2N0tLSZWVleXl5oaGhaWlpWlpaT09Pf39/nZ2dra2tXFxcnJycYGBga2trbtjItQAAAQtJREFUeJzt1scWgkAMBVAj0pEm2HvF+v+fJwF0lUyElZzD2z7vGRjCYK/XpUV5+ADOsgGcQZFVbWhClX5dqX3kxqoH1/DN6IefW5kDivixx0AvUDlMwNCtBAG2tNzLMqIlbqfbZ+Pmtc1Lnd+/QV5rnTwPm0rFmOqSvISMNLDckZV5KOiJkWnRjlOyHI6xXPNrYiZkGyZ5FaslHMl6kTdPQdK3g8dPQsvBR9I9yqkg6R6v9i5cLfmShti4tNRVO1Q+FWaKFE+lmgSHhtUkwIw4xarDec5IXDO5keNXSvZrYKgn3udW/MszoT3Sbvx1iEDMi5ZLWV6ZOxG/vHtuD6zYVzknq/lno0sXIW9imwujYrBo1QAAAABJRU5ErkJggg==";
F.style.width="540px";var C="<h2>It seems like you are blocking our ads</h2>"+"<p>Please, let us show you ads. Photopea would not exist if everyone blocked ads :(</p>"+"<p>Or get <a "+r+" href=\"//www.photopea.com/promo/no_ads.png\">90 days ad-free</a> for <b>$15</b> (one-time payment) - press <b>Account</b> at the top!</p>"+"<p>Are you not aware of blocking ads? Read <a "+r+" href=\"//www.photopea.com/tuts/photopea-says-i-am-blocking-ads-but-i-am-not/\">this article</a>! :)"+" This button: <img style=\"width:20px; vertical-align:middle;\" src=\""+$+"\" /> will show you your extensions, which can modify Photopea (potential ad-blockers).</p>"+"<a "+r+" href=\"img/exts.png\"><img style=\"width:100%\" src=\"img/exts.png\" /></a>";
F.innerHTML=C}jy.prototype=new fe;jy.prototype.Xt=function(F,r){this.body.style.width=Math.min(540,F-24)+"px"};
function fC(){fe.call(this,[0,13,0],"account");this.wS=y.i("div","form scrollable");this.body.appendChild(this.wS);
this.body.style.padding="0";this.LM=[new fC.ob,new fC.ax("::"+ht.lQ("privacy.html")),new fC.ax(fC.aH$)];
for(var O=0;O<this.LM.length;O++)this.LM[O].parent=this;this.Q("showpage",this.af7,this)}fC.prototype=new fe;
fC.prototype.R3=function(F,r){var $=navigator.onLine;if(!$)alert("Go online first");return $};fC.prototype.Xt=function(F,r){y.B(this.wS,"width:"+Math.min(F-40,740)+"px;  height:"+(r-38)+"px;  padding:1.5em;");
this.LM[0].Xt(F,r)};fC.prototype.kX=function(F,r){return new hx(Math.max(0,Math.min(150,(F-740)/2)),Math.max(0,Math.min(100,(r-500)/2)))};
fC.prototype.af7=function(F){y.RR(this.wS);this.wS.scrollTop=0;this.wS.appendChild(this.LM[F.data.Sc]._)};
fC.prototype.l=function(){fe.prototype.l.call(this);for(var O=0;O<this.LM.length;O++)this.LM[O].l()};
fC.prototype.wK=function(F,r,$){if(!navigator.onLine)return;y.RR(this.wS);var C=this.LM[0];this.wS.appendChild(C._);
C.wK();this.l()};fC.prototype.Db=function(F,r){this.wK(null,null,null)};fC.ob=function(){au.call(this);
this._=y.i("div");var F=this._,d,I,Q="font-size:1.25em;",x="text-align:center;",S="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",z="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",V="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",i=12;
this.u1=y.i("div");F.appendChild(this.u1);this.iY=new jC([0,11],!1,null,!0);y.B(this.iY._,"background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.iY.Q("click",this.gP,this);F.appendChild(this.iY._);this.aki=new jC([0,13,1],!1,null,!0);this.aki.Q("click",this.ap1,this);
F.appendChild(this.aki._);this.adQ=new jC("Business Terms",!1,null,!0);this.adQ.Q("click",this.agP,this);
F.appendChild(this.adQ._);var r=y.i("div");r.style.margin="20px 0";F.appendChild(r);var $=["Account Types","Go Premium","Team Settings","Distributors","AI credits"],C=this.Gm=[],M=this.ard=[],l=this.FL=y.i("div");
F.appendChild(l);for(var O=0;O<$.length;O++){var k=y.i("span");k.textContent=$[O];r.appendChild(k);C.push(k);
y.B(k,"font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
k.addEventListener("click",this.lr.bind(this));M.push(y.i("div"))}this.lr(0);var c=this.aoa="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
F=M[0];var I=y.i("table"),U="style=\" "+x+Q+" padding-bottom:20px;\"";I.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+V+">\t\t\t\t\t<div "+U+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> PeaDrive 0.5 GB</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+V+">\t\t\t\t\t<div "+U+" title=\"Order 90 days for $15, to get a cost of $5 per month.\">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>5</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> PeaDrive 5 GB</li>\t\t\t\t\t\t\t<li><span "+z+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li title=\"Remove BG costs 1 credit. Magic Replace costs 3 credits.\"><span "+z+">\u2713</span> 3000 AI credits per month</li> \t\t\t\t\t\t\t<li><span "+z+">\u2713</span> 2\xD7 more steps in history</a></li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
F.appendChild(I);var k=new jC("Go Premium");y.B(k._,c+"padding:10px 0;");k.Q("click",function(v){this.lr(1)},this);
I.children[0].children[1].children[1].appendChild(k._);this.OK=y.i("div");F.appendChild(this.OK);F=M[1];
var t=this.axX=[[8,30,1],[15,90,1],[50,365,1],[20,30,5],[45,90,5],[150,365,5],[70,30,20],[150,90,20],[500,365,20],[150,30,50],[300,90,50],[999,365,50],[60,30,1e3],[120,90,1e3],[450,365,1e3],[150,30,5e3],[300,90,5e3],[1e3,365,5e3],[300,30,2e4],[600,90,2e4],[2e3,365,2e4]];
this.mh=[];for(var O=0;O<t.length;O++)this.mh.push(new jC("Buy: $"+t[O][0],!1,null,!0));for(var O=0;
O<this.mh.length;O++){this.mh[O].Q("click",this.a0Z,this)}this.X1=new jC("...",!0);y.B(this.X1._,c);
F.appendChild(this.X1._);I=this.ab_(4,["Single user",this.mh[0],this.mh[1],this.mh[2],"Team of 5",this.mh[3],this.mh[4],this.mh[5],"Team of 20",this.mh[6],this.mh[7],this.mh[8],"Team of 50",this.mh[9],this.mh[10],this.mh[11]]);
F.appendChild(I);var Y=y.i("div");F.appendChild(Y);Y.textContent="Premium lasts for X days: after X days, you are switched back to a free version (with ads).";
this.aB4=new jm("I accept",!0,"");F.appendChild(this.aB4._);this.af9=new jC([0,13,1],!1,null,!0);this.af9.Q("click",this.ap1,this);
F.appendChild(this.af9._);this.ayG=new jC("I have a key",!1,null,!0);y.B(this.ayG._,c+" float:right; width:inherit;");
this.ayG.Q("click",this.a0Z,this);F.appendChild(this.ayG._);F=M[2];this.nr=new aX;this.nr.parent=this;
this.nr.Q(_.E.V,this.A3,this);F.appendChild(this.nr._);this.nr._.textContent="Log in to create or join teams.";
F=M[3];this.MX=new jC("...",!0);y.B(this.MX._,c);F.appendChild(this.MX._);I=this.ab_(3,["1000 views/mo",this.mh[i++],this.mh[i++],this.mh[i++],"5000 views/mo",this.mh[i++],this.mh[i++],this.mh[i++],"20000 views/mo",this.mh[i++],this.mh[i++],this.mh[i++]]);
F.appendChild(I);var J=y.i("p");J.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
F.appendChild(J);this.H6=new gs("Domain name (e.g. domain.com)",null,14);F.appendChild(this.H6._);var H=new jC("Save Domain Settings",!1,null,!0);
H.z1();F.appendChild(H._);H.Q("click",this.a8p,this)};fC.ob.prototype=new au;fC.ob.prototype.lr=function(F){var r=typeof F=="number"?F:this.Gm.indexOf(F.target);
for(var O=0;O<this.Gm.length;O++)this.Gm[O].style.opacity=.6;this.Gm[r].style.opacity=1;y.RR(this.FL);
this.FL.appendChild(this.ard[r])};fC.ob.prototype.Xt=function(F,r){var $=F<600?"d":" days",C=["30 days","90 days","365 days"];
if(F<600)C=["30d","90d","365d"];var M=this.axX;for(var O=0;O<M.length;O++){this.mh[O].Ck("<span>"+C[O%3]+": <sup>$</sup><big><b>"+M[O][0]+"</b></big>"+"</span>");
y.B(this.mh[O]._,this.aoa)}};fC.ob.prototype.ap1=function(F){var r=new k6("showpage",!0);r.data={Sc:1};
this.a(r)};fC.ob.prototype.agP=function(F){var r=new k6("showpage",!0);r.data={Sc:2};this.a(r)};fC.ob.prototype.l=function(){this.iY.Ck(ht.ij()?dG.get([0,11]):dG.get([0,10]));
this.af9.l();this.aki.l();this.adQ.l()};fC.ob.prototype.aFC=function(F){var r=new k6(_.E.c,!0);r.data={R:_.m.MN,link:"https://www.photopea.com/api/accounts#"+(F.target==this.auh?"teams":"distributors")};
this.a(r)};fC.ob.prototype.ax4=function(F){var r=F.currentTarget==this.aC_;this.aC_.o(r);this.a7K.o(!r)};
fC.ob.prototype.a1y=function(F){var r=this.aC_.k(),$=this.aa4.k().trim().toLowerCase(),C=this.a30.value.trim().toLowerCase();
if($.length>60){alert("Too long email address");return}if(C.length>600){alert("Too many team members");
return}C=C.split(",").join(" ").trim();C=C.replace(/\s+/g," ");if(C=="")C=[];else C=C.split(" ");var M=ht.fM();
if(M==null)M={};if(M.acc==null)M.acc={};M.acc.team={jin:r,ldr:$,mmb:C};ht.bx(M,this.A3.bind(this));alert("Saved!");
this.wK()};fC.ob.prototype.a8p=function(F){var r=this.H6.k().trim();if(!ht.ij()){alert("You have to log in first.");
return}if(ht.xM()==0){alert("Order a distributor account first.");return}var $=ht.fM();if($==null)$={};
if($.acc==null)$.acc={};if(r=="")delete $.acc.dname;else $.acc.dname=r;ht.bx($,this.A3.bind(this));alert("Saved!");
this.wK()};fC.ob.prototype.anl=function(F){var r=ht.WL(),O=this.lB,$=ht.fM();if($==null)$={};if($.acc==null)$.acc={};
$.acc.bto=F;ht.bx($,function(){});var C=fC.auN(F.split("\n"),r.pmnts[O]);bF.save(C,"photopea_invoice.pdf")};
fC.ob.prototype.a4Q=function(F){var r=ht.WL(),$=ht.fM(),C=$&&$.acc?$.acc.bto:null;if(C==null)C=r.name+"\n"+r.email;
var O=-1,M=F.target._.parentNode;while((M=M.previousSibling)!=null)O++;this.lB=O;var l=new k6(_.E.c,!0);
l.data={R:_.m.Oe,rS:"billto",Ir:C,Oa:this.anl.bind(this)};this.a(l)};fC.ob.prototype.wK=function(){this.u1.innerHTML="";
y.RR(this.OK);this.ard[4].innerHTML="AI credits are available only to Premium users.";if(ht.ij()){var F=ht.WL(),r=F.pmnts;
if(F==null)return;this.u1.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+F.name+"</span> "+F.email+" <br/>";
if(r){var $="<h2>Payments</h2>";for(var O=0;O<r.length;O++){var C=r[O],M=new Date(C[0]*1e3);$+="<div style=\"font-size:1.2em\">"+M.getDate()+"th of "+M.toDateString().split(" ")[1]+" "+M.getFullYear()+" - "+fC.a5X(C)+"</div>"}this.OK.innerHTML=$;
for(var O=0;O<r.length;O++){var l=new jC("Get Invoice",!1,null,!0);y.B(l._,"float:right");l.Q("click",this.a4Q,this);
this.OK.children[O+1].appendChild(l._)}}}else{}var k=ht.ij()&&ht._q();this.X1._.style.display=k?"block":"none";
if(k){var d,I,c=k,$="<table><tr><th>Month</th><th>AI credits spent</th></tr>";if(c[0]==0){d=ht.yB(c[1])-Date.now()*(1/1e3);
I=c[1][2]==1?"Single User":"Team Of "+c[1][2]}else{d=c[1][1]-Date.now()*(1/1e3);I="Member of \""+c[1][0]+"\""}this.X1.Ck("Premium active for "+Math.round(d/(60*60*24))+" more days! ("+I+")");
var Q=this.ard[4];y.RR(Q);for(var x=k8.Jg();x>=648;x--){var U=1970+Math.floor(x/12),S=x%12,M=new Date(U,S,2);
$+="<tr><td>"+U+" "+M.toDateString().split(" ")[1]+"</td><td>"+k8.ajm(x)+"</td></tr>"}var z=k8.asp(k8.Jg()+1)-Date.now(),V=Math.floor(z/(24*60*6e4));
z-=V*24*60*6e4;var t=Math.floor(z/(60*6e4));z-=t*60*6e4;var S=Math.floor(z/6e4);z-=S*6e4;$="New period starts in "+V+" days, "+t+" hours, "+S+" mins"+$;
Q.innerHTML=$+"</table>"}var Y=ht.ij()&&ht.xM()*1e3>Date.now();this.MX._.style.display=Y?"block":"none";
if(Y){var d=ht.xM()-Date.now()/1e3;this.MX.Ck("Distributor active for "+Math.round(d/(60*60*24))+" more days!")}var i=ht.fM();
this.nr.wK();if(i&&i.acc&&i.acc.dname)this.H6.o(i.acc.dname);else this.H6.o("")};fC.ob.prototype.ab_=function(F,r){var $=y.i("table");
if(!0){var C="<table><tr>";for(var O=0;O<F;O++)C+="<th>"+r[O*4]+"</th>";C+="</tr></table>";$.innerHTML=C;
for(var O=0;O<3;O++){var M=y.i("tr"),l;$.appendChild(M);for(var k=0;k<F;k++){l=y.i("td");l.style.width=Math.round(100/F)+"%";
M.appendChild(l);l.appendChild(r[k*4+1+O]._)}}}return $};fC.ob.prototype.a0Z=function(F){var r=this.mh.indexOf(F.currentTarget),C=30,M=1;
if(!ht.ij()){this.gP();return}if(this.aB4.k()==!1&&r<12){alert("You must accept Terms of Service");return}var $=ht.ij()&&ht._q();
if(r!=-1){var l=this.axX[r];C=l[1];M=l[2]}if($&&M<1e3){alert("You already have premium.");return}console.log(l,C,M);
if(r==-1){var k=prompt("Please enter your key");if(k!=null){ht.a1_(k,this.A3.bind(this));this.Jp()}return}if(C==30&&M==1){var d=confirm("You can have 90 days for $15. Do you still want a 30 days version for $8?");
if(!d)return}ht.order(C,M,this.A3.bind(this));this.Jp()};fC.ob.prototype.A3=function(F){this.wK();this.Jp()};
fC.ob.prototype.gP=function(F){if(ht.ij()){ht.ai2();this.Jp();this.wK(null,null,null)}else ht.gP(this.alJ.bind(this))};
fC.ob.prototype.alJ=function(){var F=new k6(_.E.c,!0);F.data={R:_.m.ad9};this.a(F)};fC.ob.prototype.Jp=function(){var F=new k6(_.E.c,!0);
F.data={R:_.m.aFd};this.a(F)};fC.ax=function(F){au.call(this);this._=y.i("div");var r=this._,$=this.a2k=new jC([0,13,2],!1,null,!0),C;
$.Q("click",this.aIe,this);r.appendChild($._);if(F.startsWith("::")){C=y.i("iframe");y.B(C,"width:100%;height:1700px; background-color:white;");
C.setAttribute("src",F.slice(2))}else{C=y.i("div");C.innerHTML=F}r.appendChild(C)};fC.ax.prototype=new au;
fC.ax.prototype.aIe=function(F){var r=new k6("showpage",!0);r.data={Sc:0};this.a(r)};fC.ax.prototype.l=function(){this.a2k.l()};
fC.aH$="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (IČ 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: Hálkova 483, 517 41 Kostelec nad Orlicí, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Gočárova třída 1754 / 48b, Hradec Králové</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" loading=\"lazy\" />\t";
fC.a5X=function(F){var r=F[1]+" days, ";if(F[2]<1e3)return"Photopea Premium ("+r+F[2]+" user"+(F[2]==1?"":"s")+")";
else return"Photopea Distributor ("+r+F[2]+" views/month)"};fC.auN=function(F,r){F=["Bill To:"].concat(F);
var $=new ToPDF,C=595,M=842,l=40,k=18,d=12,I=500,c=100,Q=400,V=0;function x(L,b,T,a,R){S.font.Tf=R?"Helvetica-Bold":"Helvetica";
S.ctm=[1,0,0,1,b,T];S.font.Tfs=a?a:d;$.PutText(S,L,0)}function U(L,b,T,a){for(var O=0;O<L.length;O++){x(L[O],b,T-O*a,null,O==0)}}var S=UDOC.getState();
$.StartPage(0,0,C,M);x("INVOICE",C-l-140,M-l-30,30,!0);U(["Bill From:","Ivan Kuckir","Hálkova 483, 517 41 Kostelec nad Orlicí","Tax ID: CZ9011014309"],l,M-l-40,k);
var z=new Date(r[0]*1e3);U(["Date: "+z.getDate()+"th of "+z.toDateString().split(" ")[1]+" "+z.getFullYear(),"Transaction ID: "+r[4]],C-l-140,M-l-40-k*2,k);
var t=F.join("");for(var O=0;O<t.length;O++)V=Math.max(V,t.charCodeAt(O));if(V>256){var Y=4,i=y.i("canvas"),J=i.getContext("2d"),H=0;
J.font=d*Y+"px sans-serif";for(var O=0;O<F.length;O++)H=Math.max(H,J.measureText(F[O]).width);var v=Math.round(H)+20,n=F.length*Y*k+20;
i.width=v;i.height=n;J.font=d*Y+"px sans-serif";for(var O=0;O<F.length;O++){J.font=(O==0?"bold ":"")+d*Y+"px sans-serif";
J.fillText(F[O],10,(O+1)*Y*k)}document.body.appendChild(i);var G=new Uint8Array(J.getImageData(0,0,v,n).data.buffer);
S.ctm=[v/Y,0,0,n/Y,l-10/Y,M-l-40-100-n/Y];$.PutImage(S,G,v,n);S.ctm=[1,0,0,1,0,0]}else U(F,l,M-l-40-100,k);
S.colr=[.8,.8,.8];S.pth={cmds:["M","L","L","L","Z"],crds:[l,I,C-l,I,C-l,I-k,l,I-k]};$.Fill(S);S.colr=[0,0,0];
var g=[l,I,C-l,I,l,I-k,C-l,I-k,l,I-c,C-l,I-c,l,I,l,I-c,C-l,I,C-l,I-c,Q,I,Q,I-c],W=[];for(var O=0;O<g.length;
O+=4)W.push("M","L");S.pth={cmds:W,crds:g};$.Stroke(S);x("Order details",l+4,I-14);x(fC.a5X(r),l+4,I-k-14);
x("TOTAL:",l+4,I-c-14,null,!0);x("Price",C-l-50,I-14);x(r[3]+" USD",C-l-60,I-k-14);x(r[3]+" USD",C-l-60,I-c-14,null,!0);
x("www.Photopea.com",l,l);x("support@photopea.com",C-l-130,l);$.ShowPage();$.Done();return $.buffer};
function eG(){fe.call(this,[11,14],"addguides");this.oo;this.e={AK:{qU:0}};this.aEG=null;var F=y.i("div","form");
this.body.appendChild(F);this.wt=[];this.vw=new a8(null,["Hi"]);F.appendChild(this.vw._);y.Hd(F);this.vw.Q(_.E.V,this.R0,this);
this.Kh=new gs([22,4,0],null,16);this.Kh.Q(_.E.V,this.Ex,this);this.tc=new gs([22,4,1],null,16);this.tc.Q(_.E.V,this.Ex,this);
this.z4=new bc(null,j.Om.si);this.z4.Q(_.E.V,this.Ex,this);F.appendChild(this.Kh._);F.appendChild(this.z4._);
y.Hd(F);F.appendChild(this.tc._);this.UP=y.AX(this,F);this.Q("closebtn",this.ST,this)}eG.prototype=new fe;
eG.prototype.R3=function(F,r){return F!=null};eG.prototype.fV=function(){return!0};eG.prototype.l=function(){fe.prototype.l.call(this);
this.Kh.l();this.tc.l();this.z4.l();this.UP.l()};eG.prototype.Db=function(F,r){var $=F.AK.qU;this.e.AK.qU=$;
this.z4.o($)};eG.prototype.wK=function(F,r){this.oo=F;this.aEG=JSON.stringify(F.Pw());this.wt=[-1];var $=["Global"],C=F.root.children,M=F.Fv();
for(var O=0;O<C.length;O++){var l=C[O].z;if(l.add.artb){$.push(l.getName());this.wt.push(C[O].index)}}this.vw.Ek($);
this.vw.o(this.wt.indexOf(M));this.R0()};eG.prototype.R0=function(){var F=this.oo,r=F.Pw(),$=this.wt[this.vw.k()],C=[0,0];
if($!=-1){var M=F.u[$].dh();C=[M.x,M.y]}var l=function(k,d,F,I,c){var Q=k[0],x=[];for(var O=0;O<Q.length;
O++)if(k[1][O]==$&&Q[O][0]==d)x.push(j.Om.Py(Q[O][1]-C[d],F.YV,I,c));x.sort(function(U,S){return U-S});
return x.join(", ")};this.Kh.o(l(r,1,F,this.e,F.$));this.tc.o(l(r,0,F,this.e,F.r))};eG.prototype.Ex=function(F){if(F&&F.currentTarget==this.z4)this.e.AK.qU=this.z4.k();
else{var r=this.amV(),$=this.oo;$.pj(r);$.eD=!0}this.R0()};eG.prototype.amV=function(){var F=this.oo,r=F.Pw(),$=this.wt[this.vw.k()],C=[0,0];
if($!=-1){var M=F.u[$].dh();C=[M.x,M.y]}var l=[];for(var k=0;k<2;k++){var d=k==0?this.tc:this.Kh,I=k==0?F.r:F.$,c=d.k().replace(/,/g," ").replace(/  +/g," ").trim(),Q=c==""?[]:c.split(" ");
for(var O=0;O<Q.length;O++)l.push([k,j.Om.auT(Q[O],F.YV,this.e,I)+C[k]])}for(var O=0;O<r[0].length;O++)if(r[1][O]==$){r[0].splice(O,1);
r[1].splice(O,1);O--}for(var O=0;O<l.length;O++){r[0].push(l[O]);r[1].push($)}return r};eG.prototype.ST=function(F){var r=this.oo;
r.pj(JSON.parse(this.aEG));r.eD=!0;this.oo=null};eG.prototype.N1=function(F){this.Ex(F);var r=new k6(_.E.O,!0);
r.J=B.uo;r.data={R:"gids",AB:JSON.parse(this.aEG),jb:this.oo.Pw()};this.oo=null;this.close();this.a(r)};
function eC(F){fe.call(this,{pdfpres:"PDF Presentation",cformat:"Convert Formats",batch:"Batch",mockups:"Generate Mockups",resize:"Resize"}[F],F);
this.e=null;this.oo=null;this.Mi=null;var r=y.i("div","form");this.body.appendChild(r);y.B(r,"width:300px");
this.R8=new bH("Source Images",!0,!0);r.appendChild(this.R8._);this.acZ=new bc([12,14,0],["A4 Portrait","A4 Landscape",[12,93,3],"Adapt to images"]);
this.sg=new jm("Order images by name");this.sg.o(!0);var $=this.a5P=dN.$m();for(var O=0;O<$.length;O++)if(dN.LD($[O]).FK){$.splice(O,1);
O--}$.push("SVG","PDF");this.cv=new bc([12,50],$);this.cv.o(1);this.$F=new ij;this.cv.Q(_.E.V,this.Cp,this);
this.hP=new bc("Action Set",[]);this.hP.Q(_.E.V,this.Db,this);this.a2K=new bc("Action",[]);this.az6=new jm("Apply to all opened documents");
this.awG=new jm("Stretch inserted images");this.awG.o(!0);this.x5=new jm("Resize");this.x5.Q(_.E.V,this.aca,this);
var C=this.a9$=y.i("div","label6");this.K5=new eT([12,41],1,5e3,"px",0,null,null,5);this.K5.parent=this;
this.K5.o(1e3);this.ZF=new eT([12,42],1,5e3,"px",0,null,null,5);this.ZF.parent=this;this.ZF.o(1e3);C.appendChild(this.K5._);
y.Hd(C);C.appendChild(this.ZF._);if(F=="pdfpres"){r.appendChild(this.acZ._);r.appendChild(this.sg._)}else{if(F=="batch"){r.appendChild(this.hP._);
y.Hd(r);r.appendChild(this.a2K._);y.ox(r)}if(F=="mockups"){r.appendChild(this.az6._);r.appendChild(this.awG._);
y.Hd(r)}if(F=="resize"){this.x5.o(!0)}else{r.appendChild(this.x5._);y.Hd(r)}r.appendChild(C);this.aca();
y.ox(r);r.appendChild(this.cv._);r.appendChild(this.$F._)}var M=["VAR0 PDF",[1,8]];if(F=="cformat")M="Convert Images";
if(F=="batch")M="Process Images";if(F=="mockups")M="Generate";if(F=="resize")M="Resize Images";var l=this.zL=new jC(M,!0,null,!0);
l.Q("click",this._0,this);r.appendChild(l._);this.Cp();this.Tn=-1;this.iO=null}eC.prototype=new fe;eC.prototype.aca=function(F){this.a9$.style.display=this.x5.k()?"":"none"};
eC.prototype.Cp=function(F){var r=this.a5P[this.cv.k()];this.$F.IF(r)};eC.prototype._0=function(F){this.iO=null;
if(this.id=="mockups"&&this.Mi.length>1&&this.az6.k()){this.iO={};this.Tn=0}this.KU()};eC.prototype.KU=async function(){this.zL.Xg();
var F=Date.now(),r=this.R8.k(),$=[],l=595,k=842,z,V,t,Y;for(var C in r)$.push(C);if($.length==0){alert("No images selected");
return}if(this.sg.k())$.sort();var M=this.acZ.k(),d=new ToPDF,I=UDOC.getState(),c=this.a5P[this.cv.k()],Q=dN.LD(c),x=this.$F.k(),U={},S=this.oo;
if(this.iO)S=this.Mi[this.Tn];if(this.id=="mockups"){if(S==null){alert("Open a document with smart objects");
return}var i=S.u[S.K[0]];if(i.add.SoLd==null){i=null;for(var O=0;O<S.u.length;O++)if(S.u[O].add.SoLd)i=S.u[O];
if(i==null){alert("There are no smart objects in a current document.");return}}S.K=[S.u.indexOf(i)];
var J=i.add.SoLd;V=S.up(J.Idnt.v);t=V.gn;Y=V.pR;z=J.Sz.v}for(var H=0;H<$.length;H++){var C=$[H],v=r[C],n=v[0]==255,G=dN.GN(v.buffer),g=dN.LD(G),W=[{$Y:new cS,data:new ArrayBuffer(0)}],L=null;
if(G=="psd"&&!Q.FK)W=go.aeM(v.buffer);else if(g.FK){L=new kQ("file.psd");g.YH(v.buffer,L);L.CJ();if(!Q.FK){if(L.Zp)dJ.Gf(L,this.e.v7,this);
L.vM();L.ol();W=[{$Y:new cS(0,0,L.r,L.$),data:L.Ez().buffer}]}}else if(g.mQ){W=await dN.a2i(g,v.buffer);
console.log(W)}else W=g.YH(v.buffer);if(this.id=="batch"){var b=new k6(_.E.c,!0),T=this.e,a=T.HF,R=a[this.hP.k()];
for(var O=0;O<W.length;O++){if(g.FK&&Q.FK){}else L=dN.FS(C,[W[O]]);b.data={R:_.m.K2,xB:L};this.a(b);
if(L.u.length==3)L.K=[1];cQ.a2x(L,a,R.FL[this.a2K.k()].qc,R.qc,this);L.vM();L.ol();W[O].$Y=new cS(0,0,L.r,L.$);
W[O].data=L.Ez().buffer;W[O].YV=L.YV;W[O].z$=L.z$;b.data={R:_.m.TD,$J:L};this.a(b)}}if(this.id=="mockups"){var D=new Uint8Array(W[0].data),h=W[0].$Y,K=z.Wdth.v,X=z.Hght.v;
if(!this.awG.k()){var w=h.r,N=h.$,s=w/N,A=K/X;if(A>s)w=Math.ceil(N*A);else N=Math.ceil(w/A);h.x=w-h.r>>>1;
h.y=N-h.$>>>1;var p=new cS(0,0,w,N),q=j.j(w*N*4);j.mR(D,h,q,p);D=q;h=p}var e=B.hL.yF([D,h],new hS(K/h.r,0,0,X/h.$,0,0));
V.gn=[e.buffer,e.S];j.zY(V.gn);V.pR=e.S;S.a1I(V.ar);W=[{data:j.Mz(S.Ez(),8).buffer,$Y:new cS(0,0,S.r,S.$),YV:S.YV,z$:S.z$,wM:S.wM}]}if(this.x5.k()){var o=W[0].$Y,E=Math.min(this.K5.k()/o.r,this.ZF.k()/o.$);
if(E<1)for(var O=0;O<W.length;O++){var D=new Uint8Array(W[O].data),h=W[O].$Y,e=B.hL.yF([D,h],new hS(E*.999999,0,0,E*.999999,0,0));
W[O].data=e.buffer.buffer;W[O].$Y=e.S}}var o=W[0].$Y,cj=new Uint8Array(W[0].data),u=o.r,cd=o.$;if(this.id=="pdfpres"){var m=[[595,842],[842,595],[595,595],[595,0]][M];
if(M==3)m[1]=Math.round(m[0]*cd/u);var l=m[0],k=m[1],aZ=Math.min(l/u,k/cd);d.StartPage(0,0,l,k);I.ctm=[u*aZ,0,0,cd*aZ,(l-u*aZ)/2,(k-cd*aZ)/2];
d.PutImage(I,n?v:cj,u,cd);d.ShowPage()}else{var jN=C.split("."),eh;jN.pop();jN.push(c.toLowerCase());
if(Q.FK){if(L==null){L=dN.FS(C,W);L.CJ()}eh=Q.x2(L,L.r,L.$,x,this.e)}else{var iA=[];for(var O=0;O<W.length;
O++){var hd=W[O],kx=hd.VI,b0=0;if(kx){kx=kx.split(",");if(kx[1])b0=parseInt(kx[1])}iA.push([hd.data,b0,hd.YV,hd.wM,null,hd.z$])}eh=Q.x2(iA,u,cd,x)}U[jN.join(".")]=new Uint8Array(eh)}}if(this.id=="mockups"){V.gn=t;
V.pR=Y;S.a1I(V.ar)}console.log(Date.now()-F);if(this.id=="pdfpres"){d.Done();this.$t(d.buffer,"file.pdf")}else{var gX="images";
if(this.id=="mockups")gX=S.name.slice(0,S.name.length-4);if(this.iO){for(var C in U)this.iO[gX+"/"+C]=U[C];
this.Tn++;if(this.Tn==this.Mi.length){this.$t(UZIP.encode(this.iO),"images.zip");this.iO=null}else this.KU()}else this.$t(UZIP.encode(U),gX+".zip")}};
eC.prototype.$t=function(F,r){this.zL.VS();ht.event("auto_"+this.id);bF.save(F,r)};eC.prototype.wK=function(F,r,$,C){this.oo=F;
this.Mi=$};eC.prototype.Db=function(F,r){if(r!=null){this.e=F;var $=F.HF,C=[];for(var O=0;O<$.length;
O++)C.push($[O].qc);this.hP.Ek(C)}else F=this.e;var $=F.HF.length==0?[]:F.HF[this.hP.k()].FL,C=[];for(var O=0;
O<$.length;O++)C.push($[O].qc);this.a2K.Ek(C)};eC.prototype.l=function(){fe.prototype.l.call(this);this.$F.l();
this.K5.Ck("Max. "+dG.get([12,41])+":");this.ZF.Ck("Max. "+dG.get([12,42])+":");this.R8.l();this.acZ.l();
this.sg.l()};function f6(F){var r=e9.names[F];if(r==null)r=f0.names[F];if(F=="aply")r=[2,12];if(F=="fade")r=[2,11];
if(F=="matc")r=[4,18];if(F=="blendOptions")r=[14,10];fe.call(this,r,"afw_"+F);this.kh=F;this.vm=null;
this.aBn=null;this.aD2=!1;this.Gt=new cW[F];this.Gt.Q(_.E.V,this.yE,this);this.Gt.parent=this;this.body.appendChild(this.Gt._);
this.SX=new jm([24,18,5]);this.SX.o(!0);this.SX.Q(_.E.V,this.yE,this);this.aEK=new jC([1,12,2],!0,null,!0);
this.aEK.Q("click",this.cE,this);this.UP=y.AX(this);if(this.Z2())this.Gt.l4(this.UP._);else{y.yY(this.Gt._,"form");
var $=this.rb=y.i("div","form");this.body.appendChild($);$.appendChild(this.UP._);$.appendChild(this.aEK._);
$.appendChild(this.SX._)}this.Q("closebtn",this.pN,this)}f6.prototype=new fe;f6.prototype.fV=function(){return!0};
f6.prototype.Z2=function(){return this.Gt!=null&&this.Gt.vC()};f6.prototype.kX=function(){return this.Z2()?new hx(0,0):fe.prototype.kX()};
f6.prototype.fI=function(F){return this.Gt.fI(F)};f6.prototype.g4=function(){return this.Gt.g4()};f6.prototype.SY=function(F,r,$,C,M){this.Gt.SY(F,r,$,C,M)};
f6.prototype.GQ=function(F,r,$,C,M){this.Gt.GQ(F,r,$,C,M)};f6.prototype.pf=function(F,r,$,C,M){this.Gt.pf(F,r,$,C,M)};
f6.prototype.R3=function(F,r){if(this.kh=="fade")return f6.aux(F);return!0};f6.prototype.cE=function(F){this.Gt.o(e9.Mv(this.kh));
this.yE()};f6.prototype.yE=function(F){var r=this.Gt,$=r.k(),C=this.aD2?r.Ga():0;if(C!=0)$.showClipping={t:"long",v:C};
this._Y({R:"edit",rY:$,RA:!this.SX.k()})};f6.prototype.pN=function(F){this._Y({R:"cancel"})};f6.prototype.N1=function(F){if(!this.SX.k()){this.SX.o(!0);
this.yE()}this.aBn=this.Gt.k();if(this.Z2())this.yE();this._Y({R:"confirm"});this.close()};f6.prototype.l=function(){fe.prototype.l.call(this);
this.SX.l();if(this.Gt)this.Gt.l();this.UP.l()};f6.prototype.Db=function(F,r){if(this.Gt)this.Gt.Db(F,r)};
f6.prototype.JG=function(F,r,$,C){this.aD2=C.D(ac.AH);if(this.kh=="levl"||this.kh=="curv")this.yE();
if(this.Z2())this.Gt.JG(C);else fe.prototype.JG.call(this,F,r,$,C)};f6.prototype.wK=function(F,r,$,C){this.vm=r.vm;
var M=F.add.lnk2?F.add.lnk2:[],l,k,d=new cS(0,0,F.r,F.$),I=F.u[F.K[0]],Q=null;l=I.buffer;k=I.S;var c=F.d&&this.kh=="LqFy"&&r.vm==null;
if(c){k=F.d.S.P();l=j.j(k.C()*4);j.mR(I.buffer,I.S,l,k)}if(this.Z2()){Q=F.Ez(F.K[0]-1);if(c){var x=j.j(k.C()*4);
j.mR(Q,d,x,k);d=k.P();Q=x}}var U=e9.Mv(this.kh);if(r.j9)U=r.j9;var S=[M,F.Bs,F,$];if(r.vm==null){this.Gt.o(U,l,k,d,Q,S);
if(f0.names[this.kh]){if(C.D(ac.AH)&&this.aBn)this.Gt.o(this.aBn);var z=B.Xy.getData(F),V=j.DP(z[0].PF);
this.Gt.ZA(V)}}else{var t=!1,I=F.u[this.vm.z];if(I.XE()){var Y=I.WZ(F);l=Y.buffer;k=Y.S;var i=I.add.SoLd.filterFX.v.filterFXList.v;
if(i[this.vm.index]){var J=i[this.vm.index].v;this.Gt.o(this.kh=="blendOptions"?J.blendOptions.v:J.Fltr.v,l,k,d,Q,S);
this.Gt.ZA(j.DP(l));t=!0}}if(!t){this.Gt.o(U,l,k,d,Q,S);this.Gt.ZA(j.DP(l))}}if(!this.Z2()){this.yE();
var H=this.Gt;if(H&&H.wj&&H.wj[0]&&H.wj[0].Sf&&Math.min(window.innerWidth,window.innerHeight)>500)H.wj[0].Sf()}};
f6.prototype._Y=function(F){var r=new k6(_.E.O,!0);F.kh=this.kh;F.vm=this.vm;if(this.kh=="VaPo"){F.Y=this.Gt.k();
F.gf=this.Gt.aqu()}r.data=F;r.J=e9.names[this.kh]||this.vm?B.tl:B.tZ;r.vs=!0;this.a(r)};f6.prototype.Xt=function(F,r){if(!this.Gt.vC()){var $="",C="width:312px",M="100%";
if(500<F){$+="width:8em; margin-left:1em;";y.yY(this.body,"flexrow")}else{$+="margin-top:1em";y.cD(this.body,"flexrow");
M="100px"}this.UP._.style.width=M;this.aEK._.style.width=M;y.B(this.rb,$);y.B(this.Gt._,C)}else{this.body.style.padding="0";
this.Gt.Xt(F,r)}};f6.aux=function(F){if(F==null)return!1;var r=F.pg();if(r==null||!(r.data instanceof Array)||r.data.length!=F.K.length)return!1;
for(var O=0;O<r.data.length;O++){var $=r.data[O];if($.z<0&&F.Bs[-1-$.z])return!0;if($.z==null||F.u[$.z]==null||F.u[$.z].Go!=$.ku)return!1;
if(F.K.indexOf($.z)==-1)return!1}return!0};function fh(){fe.call(this,[11,0],"camera");this.data=null;
this.asc=new hx(1,1);this.ajy=[];var F=y.i("div","form hbar");this.body.appendChild(F);this.agf=new bc(null,[]);
this.a6A=new bc([21,0],[[21,2],[21,1]]);F.appendChild(this.a6A._);this.hN=new bc(null,[]);this.hN.Q(_.E.V,this.ayY,this);
F.appendChild(this.hN._);this.aDd=new jC([11,0],!1,null,!0);this.aDd.Q("click",this.aFA,this);F.appendChild(this.aDd._);
this.agM=new eu("");F.appendChild(this.agM._);this.stream=null;this.kl=y.i("video");this.kl.setAttribute("autoplay","true");
this.body.appendChild(this.kl);this.arP=this.ahi.bind(this);this.aEU=this.aF3.bind(this);this.azg=this.arT.bind(this);
this.Q("closebtn",this.arz,this)}fh.prototype=new fe;fh.prototype.l=function(){fe.prototype.l.call(this);
this.a6A.l();this.aDd.l();this.Xt(this.a0,this.Y9)};fh.prototype.Ez=function(){var F=this.kl.videoWidth,r=this.kl.videoHeight,$=y.i("canvas","");
$.width=F;$.height=r;var C=$.getContext("2d");C.drawImage(this.kl,0,0,F,r);var M=C.getImageData(0,0,F,r);
return{$Y:new cS(0,0,F,r),data:M.data.buffer}};fh.prototype.aFA=function(F){if(this.a6A.k()==0)this.asb();
else this.a9Y()};fh.prototype.a9Y=function(){var F=this.Ez(),r={buffer:new Uint8Array(F.data),S:F.$Y},$=new k6(_.E.O,!0);
$.vs=!0;$.J=B.pO;$.data={R:Z.Y0,TT:r};this.a($);alert(dG.get([21,4]))};fh.prototype.asb=function(){var F=this.Ez(),r=dN.FS("camera",[F]),$=new k6(_.E.c,!0);
$.data={R:_.m.K2,xB:r};this.a($);alert(dG.get([21,5]))};fh.prototype.wK=function(F,r,$){navigator.mediaDevices.enumerateDevices().then(this.a3M.bind(this))};
fh.prototype.a3M=function(F){var r=this.ajy=[],$=[];for(var O=0;O<F.length;O++)if(F[O].kind=="videoinput"){r.push(F[O]);
$.push("Camera "+r.length)}this.hN.Ek($);this.hN.o(0);this.ayY()};fh.prototype.ayY=function(F){this.arz();
var r={video:{deviceId:this.ajy[this.hN.k()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(r).then(this.arP).catch(this.aEU);
else navigator.webkitGetUserMedia(r,this.arP,this.aEU)};fh.prototype.ahi=function(F){this.stream=F;this.kl.srcObject=F;
this.kl.addEventListener("loadedmetadata",this.azg,!1)};fh.prototype.arT=function(F){this.kl.play();
this.Xt(this.a0,this.Y9)};fh.prototype.kX=function(F,r){return new hx(0,0)};fh.prototype.Xt=function(F,r){var $=this.kl.videoWidth,C=this.kl.videoHeight;
this.agM.o($+" x "+C+" px");y.B(this.agM._,"position:absolute;  left:14px; bottom:10px; z-index:1;");
this.asc.I_($,C);this.a0=F;this.Y9=r;var M=F-28,l=r-28-30,k=this.asc.x/this.asc.y;if(M/l>k)M=l*k;else l=M/k;
y.B(this.kl,"display: block; width: "+Math.round(M)+"px; height:"+Math.round(l)+"px;")};fh.prototype.aF3=function(F){console.log("error",F);
alert(dG.get([21,6]));this.close()};fh.prototype.arz=function(F){if(this.stream!=null){var r=this.stream.getTracks();
for(var O=0;O<r.length;O++)r[O].stop();this.stream=null}};function hO(){fe.call(this,[7,8],"crange");
this.oo=null;this.QW={tr:73,xz:4.45,X:4};this.ju={tr:73,xz:4.45,X:4};this.body.style.width="20em";this.xC=new bc([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.xC.Q(_.E.V,this.a69,this);this.body.appendChild(this.xC._);this.Qx=y.i("div","form");this.body.appendChild(this.Qx);
var F=this.aiT=2,r=this.WT=[new gm([12,92],0,200),new a8([12,36],[[18,0],"\uFF0B","-"]),new gm([12,92],0,100,"%"),new eT("Min",0,255),new eT("Max",0,255)];
r[0].o(40);r[F].o(40);for(var O=0;O<r.length;O++){r[O].Q(_.E.V,this.vr,this);r[O].parent=this}this.Ee=y.i("canvas");
this.body.appendChild(this.Ee);this.UP=y.AX(this,this.body)}hO.prototype=new fe;hO.prototype.R3=function(F,r){return F!=null};
hO.prototype.g4=function(){return!0};hO.prototype.fV=function(){return!0};hO.prototype.a69=function(F){var r=this.xC.k(),$=this.WT,C=this.Qx,M=0,l=$.length,k=this.aiT;
if(r==0)l=k;else{M=k;$[M+1].o([0,100,190][r-1]);$[M+1].fC(r!=1);$[M+2].o([60,150,255][r-1]);$[M+2].fC(r!=3)}y.RR(C);
for(var O=M;O<l;O++){C.appendChild($[O]._)}this.vr()};hO.prototype.l=function(){fe.prototype.l.call(this);
this.UP.l();this.xC.l();for(var O=0;O<this.WT.length;O++)this.WT[O].l()};hO.prototype.SY=function(F,r,$,C,M){var l=F.f.Ti(M.x,M.y);
this.a5a(l.x,l.y)};hO.prototype.a5a=function(F,r){var $=Math.min,C=Math.max,M=this.oo,l=C(0,$(M.r-1,Math.floor(F))),k=C(0,$(M.$-1,Math.floor(r))),d=M.Ez(),I=(k*M.r+l)*4,c=d[I],Q=d[I+1],x=d[I+2],U=j.fX(c,Q,x),S=this.WT[1].k(),z=this.QW,V=this.ju;
if(S==0){this.QW=j.N(U);this.ju=U}else if(S==1){z.tr=$(z.tr,U.tr);z.xz=$(z.xz,U.xz);z.X=$(z.X,U.X);V.tr=C(V.tr,U.tr);
V.xz=C(V.xz,U.xz);V.X=C(V.X,U.X)}else if(S==2){var t=(z.tr+V.tr)/2,Y=(z.xz+V.xz)/2,i=(z.X+V.X)/2;if(U.tr<t)z.tr=C(z.tr,U.tr+10);
else V.tr=$(V.tr,U.tr-10);if(U.xz<Y)z.xz=C(z.xz,U.xz+1);else V.xz=$(V.xz,U.xz-1);if(U.X<i)z.X=C(z.X,U.X+1);
else V.X=$(V.X,U.X-1)}this.vr()};hO.prototype.N1=function(F){var r=this.xC.k(),$=this.WT,C={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(r==0){var M=this.QW,l=this.ju;C.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:M.tr},A:{t:"doub",v:M.xz},B:{t:"doub",v:M.X}}};
C.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:l.tr},A:{t:"doub",v:l.xz},B:{t:"doub",v:l.X}}};C.Fzns={t:"long",v:$[0].k()}}else{r--;
var k=["shadows","midtones","highlights"][r];C.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][r]}};if(0<r)C[k+"LowerLimit"]={t:"long",v:$[3].k()};
if(r<2)C[k+"UpperLimit"]={t:"long",v:$[4].k()};C[k+"Fuzziness"]={t:"long",v:$[2].k()}}this.close();var d=new k6(_.E.wG,!0);
d.data={hE:"colorRange",iH:C};this.a(d)};hO.prototype.wK=function(F,r){this.oo=F;this.a5a(0,0);this.a69()};
hO.prototype.vr=function(){var F=this.oo,r=this.xC.k(),$=this.QW,C=this.ju,M=this.WT,l=M[0].k()/200,k=!1;
if(r>0){$=M[3].k();C=M[4].k();if($>=C)$=C-1;k=!0;l=M[2].k()/100}var d=B.u_.Hh(F,$,C,l,k),I=d.S,c=d.G,Q=this.Ee,x=Q.getContext("2d"),U=Math.floor(230*y.ha()),S=Math.floor(U*(I.$/I.r));
Q.width=U;Q.height=S;y.nC(Q,U,S);var z=j.j(c.length*4);z.fill(255);for(var O=0;O<3;O++)j.dr(c,z,O);var V=B.hL.yF([z,I],new hS(U/I.r,0,0,S/I.$,0,0)),t=V.S,Y=new ImageData(new Uint8ClampedArray(V.buffer.buffer),t.r,t.$);
x.putImageData(Y,0,0)};function e7(){fe.call(this,[12,76,1],"createshape");this.Vh=null;var F=y.i("div","form");
y.B(F,"width:20em");this.body.appendChild(F);this.WD=new gd(!0,!0,null,!0,!0);this.WD.o(new hx(100,100));
F.appendChild(this.WD._);this.aAf=new jm([19,5,3]);F.appendChild(this.aAf._);this.UP=y.AX(this,F)}e7.prototype=new fe;
e7.prototype.N1=function(F){var r=this.WD.k();this.Vh.av4(this.Vh.ah_,r.x,r.y,this.aAf.k());this.close()};
e7.prototype.l=function(){if(this.Vh)this.WO=dG.get([5,3])+": "+dG.get(this.Vh.a3S);fe.prototype.l.call(this);
this.UP.l();this.WD.l();this.aAf.l()};e7.prototype.wK=function(F,r){this.Vh=r;this.l();this.WD.o(this.WD.k(),F.YV)};
function jU(){fe.call(this,[11,1],"colorpicker");this.tg=null;this.MM=null;this.dT=null;this.E8=!1;this.Ax=!1;
this.as9=[.9642,1,.8249];var F=y.i("div","flexrow"),k,d;this.body.appendChild(F);this.jy=new ec(256,!0);
this.jy.Q(_.E.V,this.na,this);F.appendChild(this.jy._);var r=y.i("div","form");y.B(r,"width:14.5em; margin-left:1em;");
F.appendChild(r);var $=y.i("div","flexrow");r.appendChild($);var C=y.i("div");$.appendChild(C);C.style="width:95px; margin-right:14px";
this.ae2=y.i("div","full");C.appendChild(this.ae2);this.a00=y.i("div","full");C.appendChild(this.a00);
var C=y.i("col");$.appendChild(C);C.style.width="80px";this.UP=y.AX(this,C);var $=y.i("div","flexrow");
r.appendChild($);var M=y.i("div"),l=y.i("div");$.appendChild(M);$.appendChild(l);M.style=l.style="margin-left:14px; max-width:80px;";
k=["H","S","B"];d=M;this.fS=[];for(var O=0;O<3;O++){var I=0,c=360,Q="\xB0";if(O!=0){c=100;Q="%"}var x=new eT(k[O],I,c,Q,0,!1,!0);
this.fS.push(x);x.Q(_.E.V,this.akh,this);d.appendChild(x._);if(O==2)x._.style.marginBottom="8px"}k=["R","G","B"];
d=M;this.x9=[];for(var O=0;O<3;O++){var x=new eT(k[O],0,255,null,0,!1,!0);this.x9.push(x);x.Q(_.E.V,this.al_,this);
d.appendChild(x._)}k=["L","a","b"];d=l;this.AN=[];for(var O=0;O<3;O++){var I=[0,-128,-128][O],c=[100,127,127][O],x=new eT(k[O],I,c,null,0,!1,!0);
x.o(0);this.AN.push(x);x.Q(_.E.V,this.aBu,this);d.appendChild(x._);if(O==2)x._.style.marginBottom="8px"}k=["C","M","Y","K"];
d=l;this.GJ=[];for(var O=0;O<4;O++){var x=new eT(k[O],0,100,"%",0,!1,!0);x.o(0);this.GJ.push(x);x.Q(_.E.V,this.a7Z,this);
d.appendChild(x._);if(O==3)x._.style.marginBottom="8px"}this.Kh=new gs("#",null,4.5);this.Kh.Q(_.E.V,this.JK,this);
M.appendChild(this.Kh._);this.Kh._.style.marginRight="0";this.dA=y.i("input","fitem");this.dA.setAttribute("type","color");
y.B(this.dA,"width:59px;  margin-left:19px;");this.dA.addEventListener("change",this.JK.bind(this),!1);
this.Ub=new ce(9);this.Ub.Q(_.E.V,this.JK,this);r.appendChild(this.Ub._);this.Q("closebtn",this.pN,this);
this.cw=!1}jU.prototype=new fe;jU.prototype.g4=function(){return!0};jU.prototype.kX=function(F,r){if(Math.min(F,r)>500)return null;
return new hx(Math.max(0,Math.min(150,(F-484)/2)),Math.max(0,Math.min(150,(r-316)/2)))};jU.prototype.Xt=function(F,r){this.jy.Xt(Math.min(256,F-226),r)};
jU.prototype.l=function(F,r){fe.prototype.l.call(this);for(var O=0;O<3;O++){this.x9[O].l();this.fS[O].l();
this.AN[O].l()}for(var O=0;O<4;O++)this.GJ[O].l();this.UP.l()};jU.prototype.na=function(F){this.MM=this.jy.k();
this.update()};jU.prototype.SY=function(F,r,$,C,M){this.cw=!0;this.afb(F,M)};jU.prototype.GQ=function(F,r,$,C,M){if(!this.cw)return;
this.afb(F,M)};jU.prototype.pf=function(F,r,$,C,M){this.cw=!1};jU.prototype.afb=function(F,r){this.MM=j.iW(B.$r.GA(F,r,1),1);
this.update()};jU.prototype.al_=function(F){var r=this.x9,$=this.B9(parseInt(r[0].k())),C=this.B9(parseInt(r[1].k())),M=this.B9(parseInt(r[2].k()));
this.MM={t:$/255,L:C/255,X:M/255};this.update()};jU.prototype.akh=function(F){var r=this.fS,$=this.UF(parseInt(r[0].k())/360),C=this.UF(parseInt(r[1].k())/100),M=this.UF(parseInt(r[2].k())/100);
this.MM=j.To($,C,M);this.update()};jU.prototype.a7Z=function(F){var r=this.GJ,$=[];for(var O=0;O<4;O++){var C=this.av0(parseInt(r[O].k()));
r[O].o(C);$.push(C/100)}var M=j.Ao($);this.MM={t:M[0],L:M[1],X:M[2]};this.update(!0)};jU.prototype.aBu=function(F){var r=this.AN,$=parseInt(r[0].k()),C=parseInt(r[1].k()),M=parseInt(r[2].k()),l=j.dW($,C,M);
this.MM={t:l.t/255,L:l.L/255,X:l.X/255};this.update()};jU.prototype.JK=function(F){var r;if(F.currentTarget==this.Ub)r=this.Ub.k();
else{r=F.currentTarget==this.Kh?this.Kh.k():this.dA.value;if(r.charAt(0)=="#")r=r.slice(1);if(r.length==3)r=r[0]+r[0]+r[1]+r[1]+r[2]+r[2];
r=j.akE(r)}this.MM=j.iW(r,1);this.update()};jU.prototype.N1=function(F){this.aoI();var r=j.Vw(this.MM,1);
this.dT(r);this.close();this.Ax=!1;this.MM=null};jU.prototype.pN=function(F){this.aoI();if(this.E8)this.dT(j.Vw(this.tg,1));
this.Ax=!1;this.MM=null};jU.prototype.aoI=function(F){var r=new k6(_.E.c,!0);r.data={R:_.m.a7Y};this.a(r)};
jU.prototype.Db=function(F,r){var $=kV.z2(F,r);if($!=null)this.Ub.o($);if(r!=d3.VV)return;if(this.MM!=null){this.MM=j.iW($,1);
this.update()}};jU.prototype.wK=function(F,r){var $=j.iW(r.$d,1);if(this.MM==null){var C=new k6(_.E.c,!0);
C.data={R:_.m.yz,P5:"crosshair",push:!0};this.a(C);this.cw=!1;this.dT=r.Xq;this.E8=!1;this.Ax=r.Yg;this.tg=j.N($);
y.B(this.a00,"height:2.3em;background-color:#"+j.lN(r.$d)+";")}this.MM=$;this.update()};jU.prototype.update=function(F){var r=this.MM,$=j.Vw(r,1);
this.Kh.o(j.lN($));this.dA.value="#"+j.lN($);y.B(this.ae2,"height:2.3em;background-color:#"+j.lN($)+";");
var C=this.x9;C[0].o(Math.round(r.t*255));C[1].o(Math.round(r.L*255));C[2].o(Math.round(r.X*255));var M=j.nc(r.t,r.L,r.X);
C=this.fS;C[0].o(Math.round(M.Y9*360));C[1].o(Math.round(M.cG*100));C[2].o(Math.round(M.rY*100));var l=j.fX(r.t*255,r.L*255,r.X*255,this.as9);
C=this.AN;C[0].o(Math.round(l.tr));C[1].o(Math.round(l.xz));C[2].o(Math.round(l.X));if(F==null){var k=j.dm([r.t,r.L,r.X]);
C=this.GJ;C[0].o(Math.round(k[0]*100));C[1].o(Math.round(k[1]*100));C[2].o(Math.round(k[2]*100));C[3].o(Math.round(k[3]*100))}this.jy.o(r);
if(this.Ax){this.dT(j.Vw(this.MM,1));this.E8=!0}};jU.prototype.av0=function(F){return Math.max(0,Math.min(100,F))};
jU.prototype.B9=function(F){return Math.max(0,Math.min(255,F))};jU.prototype.UF=function(F){return Math.max(0,Math.min(1,F))};
function by(){fe.call(this,[11,2],"contoureditor");this.aok=null;this.rm=null;this.response=null;this.bK=y.i("div","cell");
this.body.appendChild(this.bK);this.uY=y.i("div","cell padded");this.body.appendChild(this.uY);var F=y.i("div","bordered padded vmargin");
this.bK.appendChild(F);this.Gt=new co(null,null,!0);this.Gt.Q(_.E.V,this.zf,this);F.appendChild(this.Gt._);
this.UP=y.AX(this,this.uY);this.Q("closebtn",this.Dk,this)}by.prototype=new fe;by.prototype.N1=function(){this.close()};
by.prototype.l=function(){fe.prototype.l.call(this);this.UP.l();this.Gt.l()};by.prototype.zf=function(F){this.rm.Crv.v=this.Gt.k();
this.response(this.rm)};by.prototype.Dk=function(F){this.response(this.aok)};by.prototype.wK=function(F,r){this.aok=j.N(r.FL);
this.rm=r.FL;this.response=r.response;this.Gt.o(this.rm.Crv.v)};function b2(){fe.call(this,[11,4],"duplinto");
this.xB=null;this.Mi=null;this.iK=null;var F=y.i("div","form");y.B(F,"max-width:26em");this.body.appendChild(F);
this.j6=new bc([12,43],["abc","def"]);this.j6.Q(_.E.V,this.ms,this);F.appendChild(this.j6._);y.Hd(F);
this.Es=new bc([1,16,0],["abc","def"]);this.Es.Q(_.E.V,this.ms,this);F.appendChild(this.Es._);y.Hd(F);
this.N3=new gs([12,48],null,14);F.appendChild(this.N3._);this.UP=y.AX(this,F)}b2.prototype=new fe;b2.prototype.fV=function(){return!0};
b2.prototype.l=function(){fe.prototype.l.call(this);this.UP.l();this.j6.l();this.N3.l()};b2.prototype.ms=function(F){if(F&&F.target==this.Es)return;
var r=this.j6.k(),$=this.Mi[r],C=this.xB,M=$!=null&&$.add.artd!=null;for(var O=0;O<C.K.length;O++)if(C.u[C.K[O]].add.artb)M=!1;
this.N3.fC(r==this.Mi.length);this.Es.fC(M);if(M){var l=$.root.children,k=[],d=this.iK=[];for(var O=0;
O<l.length;O++){var I=l[O].z;if(I.add.artb)k.push(I.getName());d.push(l[O].index)}this.Es.Ek(k);this.Es.o(0)}else this.iK=null};
b2.prototype.wK=function(F,r,$){this.xB=F;this.Mi=$;this.N3.o(F.K.length==0?"Layer":F.u[F.K[0]].getName());
var C=[];for(var O=0;O<$.length;O++){var M=$[O].name;C.push(M.length<30?M:M.slice(0,27)+"...")}C.push([11,7]);
this.j6.Ek(C);this.j6.o($.indexOf(F));this.ms(null)};b2.prototype.N1=function(F){var r=this.j6.k();if(r==this.Mi.length){var $=new kQ(this.N3.k()+".psd"),C=this.xB.r,M=this.xB.$,l=this.xB.Fv();
if(l!=-1){var k=this.xB.u[l].dh();C=k.r;M=k.$}$.r=C;$.$=M;$.buffer=j.j($.r*$.$*4);var d=$.at();d.Da("Background");
$.C8([d]);var I=new k6(_.E.c,!0);I.vs=!0;I.data={R:_.m.K2,xB:$};this.a(I)}var c=this.xB.ZO(null,this.xB!=this.Mi[r]),I=new k6(_.E.O,!0);
I.data={R:Z._P,u:c,wd:this.xB,eK:this.Mi[r]};if(this.iK)I.data.x4=this.iK[this.Es.k()];I.J=B.pO;I.vs=!0;
this.a(I);this.close()};function iH(){fe.call(this,[1,9],"eassets");this.e=null;this.xB=null;var F=this.body;
y.yY(F,"form");F.style.width="32em";this.xC=new a8(null,["Layers","Combinations"]);this.xC.Q(_.E.V,this.R0,this);
F.appendChild(this.xC._);y.ox(F);this.Sm=y.i("span");F.appendChild(this.Sm);this.ML=y.i("div");F.appendChild(this.ML);
var r=y.i("div"),$=y.i("div","flexrow");this.a8O=[r,$];this.jU=[new jm("Only layers / folders, whose name starts with \"-e-\""),new jm("Remove parts outside the canvas"),new jm("Trim transparent parts")];
for(var O=0;O<3;O++){var C=this.jU[O];C.o(!0);C.Q(_.E.V,this.R0,this);r.appendChild(C._);y.Hd(r)}this.f4=new i9([12,14,0],["1x","2x","3x","4x"]);
this.f4.o([!0,!1,!1,!1]);r.appendChild(this.f4._);var M=y.i("div");$.appendChild(M);var l=y.i("img");
l.setAttribute("src",ht.lQ("img/nft.png"));l.style.width="150px";$.appendChild(l);var k=y.i("span");
k.textContent="File Names:";M.appendChild(k);this.Se=new i9(null,["1-0-1.XYZ","head1-eyes0-mouth1.XYZ","red-green-brown.XYZ"],!1,null,!0);
M.appendChild(this.Se._);this.Se.o([!0,!1,!1]);y.ox(F);this.avZ=["PNG","JPG","SVG","TIFF","TGA"];this.xX=new bc([12,50],this.avZ);
this.xX.Q(_.E.V,this.Cp,this);F.appendChild(this.xX._);this.$F=new ij;F.appendChild(this.$F._);this.UP=new jC([1,9],!0,null,!0);
this.UP.Q("click",this.N1,this);F.appendChild(this.UP._);this.Q("closebtn",this._v,this)}iH.prototype=new fe;
iH.prototype.Cp=function(F){this.$F.IF(this.avZ[this.xX.k()],!1,!1,!1,this.xB.XF()!=null)};iH.prototype._v=function(F){this.xB=null};
iH.prototype.l=function(){fe.prototype.l.call(this);this.xX.l();this.f4.l();this.UP.l();this.$F.l()};
iH.prototype.wK=function(F,r,$){this.xB=F;this.R0()};iH.prototype.R0=function(F){var r=this.xC.k(),$;
y.RR(this.ML);this.ML.appendChild(this.a8O[r]);if(r==0){var C=this.a1B();$=C.length+" exportable layers"}else{var C=this.ai6();
$=C[1]+" combinations ("+C[0].join(" \xD7 ")+")"}this.Sm.textContent="- - - "+$;this.Cp(null)};iH.prototype.a1B=function(){var F=this.jU[0].k(),r=[],$=this.xB;
for(var O=0;O<$.u.length;O++){var C=$.u[O],M=C.getName();if(!F&&!C.EX()&&!C.S.XS()||M.startsWith("-e"))r.push(O)}return r};
iH.prototype.ai6=function(){var F=this.xB,r=F.root.children,$=[],C=1,M=[];for(var O=0;O<r.length;O++){var l=r[O],k=l.z;
if(k.EX()){var d=l.children.length;$.push(d);C*=d;M.push(l.index)}k}return[$,C,M]};iH.prototype.Db=function(F,r){this.e=F};
iH.prototype.N1=function(F){var r=this.xB,$=this.xC.k(),C=[this.avZ[this.xX.k()]],M=[this.$F.k()],l={};
if($==0){var k=this.f4.k(),d={},I=this.a1B();if(I.length==0){alert("No layers to export.");return}var c=[this.jU[1].k(),this.jU[2].k()];
for(var O=0;O<I.length;O++){var Q=I[O],x=r.u[Q],U=x.getName();if(d[U]!=null){d[U]++;U+=" "+d[U]}else d[U]=1;
var S=x.rR();x.Gj(!0);for(var z=0;z<k.length;z++){if(!k[z])continue;var V=z+1,t=B.qW.atB(r,C,V,this.e,Q,M,c);
for(var Y=0;Y<C.length;Y++){var i=C[Y],J=U.slice(U.startsWith("-e-")?3:0)+(V==1?"":"@"+V+"x")+"."+i.toLowerCase();
if(t[Y])l[J]=new Uint8Array(t[Y])}}x.Gj(S)}}else{var S=[];for(var O=0;O<r.u.length;O++)S.push(r.u[O].rR());
var H=this.ai6(),v=H[0],I=H[2],n=[];function G(W,Q,L,b){if(Q==W.length){b.push(L.slice(0));return}var T=W[Q];
for(var O=0;O<T;O++){L.push(O);G(W,Q+1,L,b);L.pop(O)}}G(v,0,[],n);var g=this.Se.k().indexOf(!0);this.FE=[n,l,I,C,M,S,g,this.ajs.bind(this),0,0];
this.ajs();return}this.$t(l,r.name)};iH.prototype.ajs=function(){var F=this.FE,r=F[0],$=F[1],C=this.xB,M=F[2],l=F[3],k=F[4],d=F[5],I=F[6],c=F[7],Q=0;
while(r.length!=0&&Q<1e3){var x=Date.now(),U=r.shift(),S=[];for(var O=0;O<U.length;O++){var z=C.root.yw(M[O]);
for(var V=0;V<z.children.length;V++)z.children[V].z.Gj(!1);var t=z.children[U[O]].z;S.push(I==2?t.getName():z.z.getName()+U[O]);
t.Gj(!0)}C.vM();C.ol();var Y=(I==0?U:S).join("-")+"."+l[0].toLowerCase();$[Y]=new Uint8Array(dN.Ja(C,l[0],C.r,C.$,k[0],this.e));
F[8]++;F[9]+=$[Y].length;Q+=Date.now()-x}if(r.length!=0){alert(F[8]+" done, "+iv.$A(F[9])+".",800);setTimeout(c,35);
return}for(var O=0;O<C.u.length;O++)C.u[O].Gj(d[O]);C.vM();this.$t($,C.name)};iH.prototype.$t=function(F,r){var $=UZIP.encode(F),C=new k6(_.E.c,!0);
C.data={R:_.m.qM,data:$,name:r.split(".")[0]+".zip"};this.a(C)};function h9(){fe.call(this,"Export Color Lookup Tables","exlut");
this.e=null;this.xB=null;var F=y.i("div","form");y.B(F,"width:20em");this.body.appendChild(F);this.jU=[new eT("Grid Points",1,256),new a8([12,50],[".CUBE"])];
var r=[16,0];for(var O=0;O<this.jU.length;O++){var $=this.jU[O];$.o(r[O]);$.parent=this;$.Q(_.E.V,this.R0,this);
F.appendChild($._);y.Hd(F)}this.UP=y.AX(this,F);this.Q("closebtn",this._v,this)}h9.prototype=new fe;
h9.prototype.R3=function(F,r){if(Math.min(F.r,F.$)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(F.u.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};h9.prototype._v=function(F){this.xB=null};h9.prototype.Db=function(F,r){this.e=F};
h9.prototype.wK=function(F,r,$){this.xB=F};h9.prototype.N1=function(){var F=this.xB,r=this.jU[0].k(),$=[],C=new cS(0,0,F.r,F.$),M=j.j(r*r*4),l=M.slice(0),k=new cS(F.r-r>>>1,F.$-r>>>1,r,r),d=F.u[0],I=d.buffer,c=d.S;
d.S=k;d.buffer=M;for(var Q=0;Q<r;Q++){this.aj_(r,Q,M);d.vM(k);F.vM(k);var x=F.Ez();j.mR(x,C,l,k);for(var U=0;
U<r;U++)for(var S=0;S<r;S++){var z=U*r+S<<2;$.push(l[z]/255,l[z+1]/255,l[z+2]/255)}}var V=jF.ado($,r,F.name);
bF.save(V,F.name.split(".")[0]+".CUBE");d.buffer=I;d.S=c;d.vM();F.vM()};h9.prototype.aj_=function(F,r,$){var C=255/(F-1),M=Math.round(r*C);
for(var l=0;l<F;l++)for(var k=0;k<F;k++){var d=l*F+k<<2;$[d]=Math.round(k*C);$[d+1]=Math.round(l*C);
$[d+2]=M;$[d+3]=255}};h9.prototype.l=function(){fe.prototype.l.call(this);for(var O=0;O<this.jU.length;
O++)this.jU[O].l();this.UP.l()};function kb(){fe.call(this,[1,14],"finfo");this.at8=null;this.rp=null;
this.agA=null;this.wS=y.i("div","form scrollable label12");y.B(this.wS,"width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.wS);var F=y.i("div","form");this.body.appendChild(F);this.zi=new bc(null,["Hello"]);
F.appendChild(this.zi._);this.apd=new jC("Add Parameter",!1,null,!0);F.appendChild(this.apd._);this.apd.Q("click",this.Iq,this);
this.xo=new jC("=== S A V E ===",!1,null,!0);F.appendChild(this.xo._);this.xo.Q("click",this.$t,this);
this.aF1=""}kb.prototype=new fe;kb.prototype.kX=function(F,r){return F<450||r<450?new hx(0,0):new hx(150,100)};
kb.prototype.Iq=function(F){if(this.agA.length==0)return;var r=this.agA[this.zi.k()],$=this.Fr();$[r]=hf.wb[r][0];
this.UN($);this.rp[r]._.scrollIntoView();this.rp[r].Sf()};kb.prototype.uj=function(F){var r=this.Fr();
delete r[F.currentTarget.aFN];this.UN(r)};kb.prototype.$t=function(F){var r=this.Fr(),$=this.at8,C=!0;
for(var M in $)if(JSON.stringify($[M])!=JSON.stringify(r[M]))C=!1;for(var M in r)if(JSON.stringify($[M])!=JSON.stringify(r[M]))C=!1;
if(C)return;var l=new k6(_.E.O,!0);l.J=B.pO;l.data={R:Z.vG,PL:r};this.a(l);this.at8=r;this.UN(r)};kb.avb=function(F){function r(M){var l=M.toLowerCase();
return M==l}var $=F.split(":").pop();for(var C=1;C<$.length-1;C++){if($[C]==$[C].toUpperCase()&&(r($[C+1])||r($[C-1]))){$=$.slice(0,C)+" "+$.slice(C);
C++}}return $};kb.prototype.wK=function(F,r){this.at8=F.wM;this.UN(F.wM)};kb.prototype.UN=function(F){var r=this.wS,M=0;
y.RR(r);var $=this.rp={},C=["tiff","exif","exif:GPS"],l=this.agA=[],k=[];for(var d in hf.wb){var I=kb.avb(d),c=0,Q=15,x=null;
if(F[d]==null){if(hf.wb[d].length!=1||d=="photoshop:Credit"||d=="photoshop:Source"){l.push(d);k.push(I)}continue}for(var O=0;
O<C.length;O++)if(d.startsWith(C[O]))c=O;if(c!=M){y.ox(r);M=c}if(d=="tiff:ImageDescription"||d=="dc:Keywords"){Q=18.5;
x=3}var U=new gs(I,null,Q,x);$[d]=U;var S=F[d];if(S instanceof Array)S=S[1]==0?"---":S[0]+"/"+S[1];var z=new jC("\u2716",null,dG.get([5,4]));
r.appendChild(z._);z.Q("click",this.uj,this);z.aFN=d;U.o(S);r.appendChild(U._);y.Hd(r);if(d=="exif:GPSLongitude"&&F["exif:GPSLatitude"]){this.aF1=kb.agC(F["exif:GPSLatitude"])+","+kb.agC(F["exif:GPSLongitude"]);
var V=new jC("Show on map",!1,null,!0);r.appendChild(V._);y.Hd(r);V.Q("click",this.aCx,this)}}this.zi.Ek(k);
this.zi.o(0)};kb.prototype.Fr=function(){var F=this.rp,r=hf.wb,$={};for(var C in r){var M=r[C][0],l=typeof M;
if(M==null||F[C]==null)continue;var k=F[C].k(),d="The value of \""+kb.avb(C)+"\" must ";if(l=="number"){k=parseFloat(k);
if(isNaN(k)){alert(d+"be a number.");k=M}}else if(M instanceof Array&&M.length==2){if(k.indexOf("/")==-1){alert(d+"be a fraction.");
k=M.slice(0)}else{k=k.split("/").map(parseFloat);if(isNaN(k[0])||isNaN(k[1])){k=M.slice(0)}}}$[C]=k}return $};
kb.agC=function(F){var r=F.length,$=F.slice(0,r-1).split(",").map(parseFloat),C=F.slice(r-1),M=$[0]+$[1]/60+$[2]/3600;
if(C!="N"&&C!="E")M=-M;return M};kb.prototype.aCx=function(F){window.open("https://maps.google.com?q="+this.aF1,"Map")};
function dl(){fe.call(this,[11,5],"gradienteditor");this.tg=null;this.MM=null;this.e=null;this.dT=null;
this.E8=!1;this.Ax=!1;this.Pd=null;this.G_=null;this.kb=-1;this.Tl=-1;this.Hl=0;this.QA=this.PJ.bind(this);
this.Zh=this.I$.bind(this);this.Ee=y.i("canvas");this.Tg=this.Ee.getContext("2d");y.B(this.Ee,"display:block");
this.XB=null;y.C7(this.Ee);y.TX(this.Ee,this.lk.bind(this));this.V9=y.i("div","form");this.x0=y.i("div");
this.yD=y.i("div","form");this.Of=y.i("div");this.$g=new bc([12,44],[[15,10,0],[24,6]]);this.$g.Q(_.E.V,this.kD,this);
this.body.appendChild(this.$g._);y.ox(this.body);var F=this.V9;this.B8=new eT([19,3,3],0,100,"%");this.B8.Q(_.E.V,this.kD,this);
this.B8.parent=this;F.appendChild(this.B8._);y.Hd(F);this.aj8=new eu([12,0]);F.appendChild(this.aj8._);
this.aP=y.i("div","bordered padded noalign");F.appendChild(this.aP);this.gz=new eT([12,0],0,100,"%");
this.gz.parent=this;this.gz.Q(_.E.V,this.kD,this);this.aP.appendChild(this.gz._);this.EI=new eT([12,40],0,100,"%");
this.EI.parent=this;this.EI.Q(_.E.V,this.kD,this);this.aP.appendChild(this.EI._);this.qj=new jC([5,4],!1,null,!0);
this.qj.Q("click",this.atd,this);this.aP.appendChild(this.qj._);F.appendChild(this.x0);this.aDF=new eu([13,0]);
F.appendChild(this.aDF._);this.V1=y.i("div","bordered padded noalign");F.appendChild(this.V1);this.Ka=new bc([12,44],[[12,45],[12,46],[12,47]]);
this.Ka.Q(_.E.V,this.kD,this);this.V1.appendChild(this.Ka._);this.yx=new a$(!0);this.yx.parent=this;
this.yx.Q(_.E.V,this.kD,this);this.V1.appendChild(this.yx._);this.FP=new eT([12,40],0,100,"%");this.FP.parent=this;
this.FP.Q(_.E.V,this.kD,this);this.V1.appendChild(this.FP._);this.GT=new jC([5,4],!1,null,!0);this.GT.Q("click",this.aqM,this);
this.V1.appendChild(this.GT._);var F=this.yD;this.E7=new eT("Roughness",0,100,"%");this.E7.Q(_.E.V,this.kD,this);
this.E7.parent=this;F.appendChild(this.E7._);F.appendChild(this.Of);this.vo=new jC([25,1,2],!1,null,!0);
this.vo.Q("click",this.kD,this);F.appendChild(this.vo._);this.UP=y.AX(this);this.Q("closebtn",this.pN,this)}dl.prototype=new fe;
dl.prototype.pN=function(F){if(this.E8)this.dT(this.tg);this.dT=null;this.Ax=!1};dl.prototype.l=function(){fe.prototype.l.call(this);
this.UP.l();this.B8.l();this.aj8.l();this.aDF.l();this.qj.l();this.GT.l();this.gz.l();this.EI.l();this.Ka.l();
this.FP.l();this.vo.l()};dl.prototype.Db=function(F,r){this.e=F;if(r==d3.VV)this.nA()};dl.prototype.wK=function(F,r){this.MM=j.N(r.qS);
this.tg=j.N(r.qS);this.Pd=this.G_=null;this.dT=r.Xq;this.E8=!1;this.Ax=r.Yg;this.nA();this.Kd()};dl.prototype.N1=function(F){var r=this.MM;
this.dT(r);this.close();this.dT=null;this.Ax=!1};dl.prototype.fI=function(F){return F==ac.g7||F==ac.Qh};
dl.prototype.JG=function(F,r,$,C){if(C.D(ac.g7)||C.D(ac.Qh)){if(this.G_)this.atd();if(this.Pd)this.aqM()}};
dl.prototype.atd=function(F){var r=this.MM.Trns.v;if(this.G_==null||r.length==1)return;r.splice(r.indexOf(this.G_),1);
this.G_=null;this.nA();this.Kd()};dl.prototype.aqM=function(F){var r=this.MM.Clrs.v;if(this.Pd==null||r.length==1)return;
r.splice(r.indexOf(this.Pd),1);this.Pd=null;this.nA();this.Kd()};dl.prototype.nA=function(){var F=this.Ee,r=this.Tg;
if(this.MM==null)return;var $=y.ha();F.width=Math.floor(410*$);F.height=Math.floor(70*$);y.nC(F,F.width,F.height);
F.style.marginTop="8px";this.XB=new cS(0,0,Math.floor(380*$),Math.floor(32*$));this.XB.x=Math.floor((F.width-this.XB.r)/2);
this.XB.y=Math.floor((F.height-this.XB.$)/2);var C=this.XB,M=C.r,l=C.$,k=C.x,d=C.y,I=new cS(0,0,M,l),c=r.getImageData(0,0,M,l),Q=new Uint8Array(c.data.buffer);
j.HG(Q,M,l,8);var x=j.j(M*l*4);j.qS.T0(this.MM,x,I,[1/M,0,0,1/l],M/2,l/2,!1,0,this.e.y1,this.e.J2);j.v.O5("norm",x,C,Q,C,C,1);
r.clearRect(0,0,F.width,F.height);r.putImageData(c,k,d);var U=this.MM;if(U.Clrs){var S=U.Trns.v,z=U.Clrs.v,V=j.qS.ac(U,this.e.y1,this.e.J2),t=Math.round(6*y.ha()),Y=Math.round(14*y.ha()),i=this.G_?this.G_.v:null,J=this.Pd?this.Pd.v:null;
for(var O=0;O<S.length;O++){var H=S[O].v,v=Math.round(255-255*H.Opct.v.val/100);if((H==i||S[O-1]&&S[O-1].v==i||O==this.Tl)&&O!=0){r.fillStyle="#000000";
r.fillRect(k-3+M*(S[O-1].v.Lctn.v+(H.Lctn.v-S[O-1].v.Lctn.v)*H.Mdpn.v/100)/4096,d-6-2,6,6)}if(H==i){r.fillStyle="#ffffff";
r.fillRect(k-t+M*(H.Lctn.v/4096)-2,d-2-Y-2,2*t+4,Y+4)}r.fillStyle="rgb("+v+","+v+","+v+")";r.fillRect(k-t+M*(H.Lctn.v/4096),d-2-Y,2*t,Y)}for(var O=0;
O<z.length;O++){var n=z[O].v,G=V[0][O][0];if((n==J||z[O-1]&&z[O-1].v==J||O==this.kb)&&O!=0){r.fillStyle="#000000";
r.fillRect(k-3+M*(z[O-1].v.Lctn.v+(n.Lctn.v-z[O-1].v.Lctn.v)*n.Mdpn.v/100)/4096,d+l+2,6,6)}if(n==J){r.fillStyle="#ffffff";
r.fillRect(k-t+M*(n.Lctn.v/4096)-2,d+l+2-2,2*t+4,Y+4)}r.fillStyle="rgb("+Math.round(G.t)+", "+Math.round(G.L)+","+Math.round(G.X)+")";
r.fillRect(k-t+M*(n.Lctn.v/4096),d+l+2,2*t,Y)}}if(this.Ax){this.dT(this.MM);this.E8=!0}};dl.prototype.Kd=function(){var F=this.MM,r=F.Clrs?0:1;
this.$g.o(r);if(y.D4(this.V9))this.body.removeChild(this.V9);if(y.D4(this.yD))this.body.removeChild(this.yD);
(r==0?this.x0:this.Of).appendChild(this.Ee);if(r==0){this.body.appendChild(this.V9);this.B8.o(Math.round(100*F.Intr.v/4096));
var $=F.Trns.v,C=F.Clrs.v,M=this.G_!=null,l=this.Tl!=-1;this.gz.fC(M);this.EI.fC(M||l);this.qj.fC(M);
if(M){y.B(this.aP,"");var k=this.G_.v;this.EI.o(Math.round(100*k.Lctn.v/4096));this.gz.o(k.Opct.v.val)}if(l)this.EI.o($[this.Tl].v.Mdpn.v);
var M=this.Pd!=null,l=this.kb!=-1;this.Ka.fC(M);this.yx.fC(M);this.FP.fC(M||l);this.GT.fC(M);if(M){y.B(this.V1,"");
var d=this.Pd.v;this.FP.o(Math.round(100*d.Lctn.v/4096));var I=d.Type.v.Clry;this.Ka.o(["FrgC","BckC","UsrS"].indexOf(I));
if(I=="FrgC")this.yx.ZJ(this.e.y1);if(I=="BckC")this.yx.ZJ(this.e.J2);if(I=="UsrS")this.yx.o(d.Clr.v)}if(l)this.FP.o(C[this.kb].v.Mdpn.v)}else{this.body.appendChild(this.yD);
this.E7.o(Math.round(100*F.Smth.v/4096))}this.body.appendChild(this.UP._)};dl.prototype.kD=function(F){var r=this.MM,$=r.Clrs?0:1;
if(F.target==this.$g){var C=$==0?JSON.parse(cK.Hn.a07).v:e9.Mv("grdm").Grad.v;this.MM=C;this.Kd();this.nA();
return}if($==0){r.Intr.v=Math.round(4096*this.B8.k()/100);var M=r.Trns.v,l=r.Clrs.v;if(this.G_!=null){var k=this.G_.v;
k.Lctn.v=Math.round(4096*(this.EI.k()/100));k.Opct.v.val=this.gz.k()}if(this.Pd!=null){var d=this.Pd.v;
d.Lctn.v=Math.round(4096*(this.FP.k()/100));if(F.target==this.yx)this.Ka.o(2);var I=this.Ka.k();d.Type.v.Clry=["FrgC","BckC","UsrS"][I];
if(I==2)d.Clr={t:"Objc",v:this.yx.k()};else if(d.Clr)delete d.Clr}if(this.Tl!=-1)M[this.Tl].v.Mdpn.v=this.EI.k();
if(this.kb!=-1)l[this.kb].v.Mdpn.v=this.FP.k()}else{r.Smth.v=Math.round(4096*this.E7.k()/100);if(F.target==this.vo)r.RndS.v=Math.floor(Math.random()*4294967295)}this.nA()};
dl.prototype.lk=function(F){var r=y.Bz(F,this.Ee),$=this.XB,C=(r.x*y.ha()-$.x)/$.r,M=(r.y*y.ha()-$.y)/$.$,l=this.MM.Trns.v,k=this.MM.Clrs.v,d=null,I=null,c=-1,Q=-1;
if(M<1)for(var O=0;O<l.length;O++){var x=l[O].v;if(Math.abs(x.Lctn.v/4096-C)<.02)d=l[O];if(O>0)if(Math.abs((l[O-1].v.Lctn.v+(x.Lctn.v-l[O-1].v.Lctn.v)*x.Mdpn.v/100)/4096-C)<.01)c=O}if(M>0)for(var O=0;
O<k.length;O++){var U=k[O].v;if(Math.abs(U.Lctn.v/4096-C)<.02)I=k[O];if(O>0)if(Math.abs((k[O-1].v.Lctn.v+(U.Lctn.v-k[O-1].v.Lctn.v)*U.Mdpn.v/100)/4096-C)<.01)Q=O}if(I==null&&d==null&&c==-1&&Q==-1){if(M<0){var x={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
x.v.Lctn.v=Math.round(C*4096);l.push(x);l.sort(this.ZT);d=x}if(M>1){var k=this.MM.Clrs.v,S=j.qS.ac(this.MM,this.e.y1,this.e.J2),z=j.qS.XZ(this.MM,S,C),U={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:j.qS.NG({t:z&255,L:z>>8&255,X:z>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
U.v.Lctn.v=Math.round(C*4096);k.push(U);k.sort(this.ZT);I=U}}if(I!=null)Q=-1;if(d!=null)c=-1;if(I!=null||d!=null||c>-1||Q>-1){this.G_=d;
this.Pd=I;this.Tl=c;this.kb=Q;this.Kd();this.nA();y.dO(window,this.QA);y.an(window,this.Zh)}};dl.prototype.PJ=function(F){var r=y.Bz(F,this.Ee),$=this.XB,C=(r.x*y.ha()-$.x)/$.r,M=(r.y*y.ha()-$.y)/$.$;
C=Math.max(0,Math.min(1,C));var l=this.MM.Trns.v,k=this.MM.Clrs.v;if(this.G_!=null){var d=this.G_.v;
d.Lctn.v=Math.round(4096*C);var I=l.indexOf(this.G_);if(I!=-1&&M<-1&&l.length>1)l.splice(I,1);if(I==-1&&M>-1)l.push(this.G_);
l.sort(this.ZT)}if(this.Pd!=null){var c=this.Pd.v;c.Lctn.v=Math.round(4096*C);var Q=k.indexOf(this.Pd);
if(Q!=-1&&M>2&&k.length>1)k.splice(Q,1);if(Q==-1&&M<2)k.push(this.Pd);k.sort(this.ZT)}if(this.Tl>-1){var d=l[this.Tl].v;
d.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(C*4096-l[this.Tl-1].v.Lctn.v)/(d.Lctn.v-l[this.Tl-1].v.Lctn.v))))}if(this.kb>-1){var c=k[this.kb].v;
c.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(C*4096-k[this.kb-1].v.Lctn.v)/(c.Lctn.v-k[this.kb-1].v.Lctn.v))))}if(this.G_!=null||this.Pd!=null||this.Tl>-1||this.kb>-1){this.Kd();
this.nA()}};dl.prototype.I$=function(F){y.Fp(window,this.QA);y.gj(window,this.Zh);if(Date.now()-this.Hl<300){if(this.kb!=-1||this.Tl!=-1){var r=(this.kb!=-1?this.MM.Clrs.v[this.kb]:this.MM.Trns.v[this.Tl]).v;
r.Mdpn.v=50;this.Kd();this.nA()}else if(this.Pd!=null)this.yx.aE()}this.Hl=Date.now()};dl.prototype.ZT=function(F,r){return F.v.Lctn.v-r.v.Lctn.v};
function eZ(){fe.call(this,[11,5],"vgradienteditor");this.dT=null;this.h3=new jc;this.h3.parent=this;
this.body.appendChild(this.h3._);this.UP=y.AX(this,this.body)}eZ.prototype=new fe;eZ.prototype.wK=function(F,r){this.dT=r.Xq;
this.h3.o(r.Y)};eZ.prototype.l=function(){fe.prototype.l.call(this);this.h3.l()};eZ.prototype.N1=function(F){this.dT(this.h3.k());
this.close()};function fZ(F){fe.call(this,F=="isize"?[11,10]:[11,3],F);this.amI=F;this.Em=null;var r=y.i("div","form");
y.B(r,"width:20em; margin-bottom:1em; margin-top:-1em;");this.body.appendChild(r);var $=F=="csize";this.aJp=new eu("Hi");
r.appendChild(this.aJp._);y.Hd(r);this.WD=new gd(!0,!0,$,$,!0);if($)this.WD.agU(!1);r.appendChild(this.WD._);
this._o=new jm([12,25,3]);this._o.o(!0);this._o.Q(_.E.V,this.aeC,this);this.vg=new bc(null,[[12,14,2],[12,14,3],[12,14,4]]);
this.vg.o(1);this.$Q=new jA([12,23,2],41);this.$Q.o(4);if(F=="isize"){r.appendChild(this._o._);r.appendChild(this.vg._)}else r.appendChild(this.$Q._);
this.UP=y.AX(this,this.body)}fZ.prototype=new fe;fZ.prototype.R3=function(F,r){return F!=null};fZ.prototype.fV=function(){return!0};
fZ.prototype.fI=function(F){return this.amI=="isize"?!1:[ac.ex,ac.IZ,ac.IS,ac.pU].indexOf(F)!=-1};fZ.prototype.JG=function(F,r,$,C){if(C.D(ac.t7))this.N1();
this.$Q.an4(C.ii())};fZ.prototype.l=function(){fe.prototype.l.call(this);this.WD.l();this._o.l();this.vg.l();
this.$Q.l();this.UP.l()};fZ.prototype.N1=function(F){var r=this.WD.k(),$=r.x,C=r.y,M=new k6(_.E.wG,!0),l=this.WD.xf.k();
if(this.amI=="csize"){if(l){var k=this.WD.IC,d=this.WD.W2;$=d.x-k.x;C=d.y-k.y}M.data=B.i0.aas($,C,this.$Q.k(),l)}else{var I=this.vg.k();
if(!this._o.k())I=null;var c=this.WD.aG6(),Q=this.Em;console.log(c);if(c==1)M.data=B.i0.Di($/Q.x,C/Q.y,this.WD.x7(),I,!0);
else M.data=B.i0.Di($,C,this.WD.x7(),I)}this.close();this.a(M)};fZ.prototype.wK=function(F,r){this.Em=new hx(F.r,F.$);
this.WD.o(this.Em,F.YV);this.WD.Sf();this.aJp.o(dG.get(this.WO)+": "+(F.r*F.$/1e6).toFixed(2)+" MPx")};
fZ.prototype.aeC=function(F){var r=this._o.k(),$=this.WD,C=this.vg;if(r)C.VS();else C.Xg();$.a82(r)};
function ax(){fe.call(this,"Import RAW","importraw");var F=y.i("div","flexrow"),r=y.i("div");y.B(r,"margin-bottom: 1em");
this.body.appendChild(F);this.body.appendChild(r);var $=y.i("div","form");y.B($,"width:18em");F.appendChild($);
var C=y.i("div","form");y.B(C,"width:15em");F.appendChild(C);this.Vh=null;this.Th=null;this.rO=null;
this.eg=null;this.vf=[];var M=[];for(var O=0;O<ax.um.length;O++)M.push(ax.um[O]+" Bits");var l=this.FE=[new gd(!0,null,null,!0),new eT([12,72],1,8),new jm("Last one is Transparency"),new a8([12,34],M),new a8("Byte Order",["12-34","34-12"]),new bc("Guesses",[])];
for(var O=0;O<l.length;O++){var k=l[O];k.parent=this;k.Q(_.E.V,O==5?this.alO:this.ms,this);var d=O==0?$:O==5?r:C;
d.appendChild(k._)}this.Ee=y.i("canvas");this.Tg=this.Ee.getContext("2d");this.body.appendChild(this.Ee);
this.UP=y.AX(this,this.body)}ax.prototype=new fe;ax.prototype.l=function(){fe.prototype.l.call(this);
var F=this.FE;this.UP.l();for(var O=0;O<F.length;O++)F[O].l()};ax.prototype.N1=function(F){this.close();
var r=this.FE[0].k(),$=dN.FS(this.Th,[{data:this.rO,$Y:new cS(0,0,r.x,r.y)}]);if(this.eg)$.Bs=this.eg;
var C=new k6(_.E.c,!0);C.data={R:!0?_.m.K2:_.m.ej,xB:$};this.a(C)};ax.um=[8,16];ax.prototype.wK=function(F,r){this.Vh=new Uint8Array(r.bM);
this.Th=r.fO;var $=this.Vh.length,C=[1,3,4],M=0,l=0,k=1,d=1,I=this.vf=[],c=Math.round(Math.sqrt($)*2);
c=Math.max(c,4e3);for(var Q=0;Q<3;Q++){for(var x=0;x<2;x++){var U=ax.um[x],S=C[Q],z=S*U,V=Math.round($*8/z);
if(V!=$*8/z)continue;for(var t=0;t<=c;t++)for(var Y=0;Y<=c;Y++)if(t*Y==V){var i=0;if(t==Y)i+=64;if(Math.round(t/100)==t/100&&Math.round(Y/100)==Y/100)i+=32;
if(Math.round(t/10)==t/10&&Math.round(Y/10)==Y/10)i+=16;if(Math.round(t/2)==t/2&&Math.round(Y/2)==Y/2)i+=8;
I.push([t,Y,S,U,i])}}}var J=function(G,g){if(g[4]!=G[4])return g[4]-G[4];var W=Math.max(G[0],G[1])/Math.min(G[0],G[1]),L=Math.max(g[0],g[1])/Math.min(g[0],g[1]);
if(W!=L)return W-L;return g[0]-G[0]};I.sort(J);var H=this.FE,v=[];for(var O=0;O<I.length;O++){var n=I[O];
v.push(n[0]+" x "+n[1]+", "+n[2]+"ch, "+n[3]+"-bit")}H[5].Ek(v);H[5].o(0);this.alO(null)};ax.prototype.alO=function(F){var r=this.FE,$=this.vf[this.FE[5].k()];
r[0].o(new hx($[0],$[1]),72);r[1].o($[2]);r[3].o(ax.um.indexOf($[3]));this.ms()};ax.prototype.ms=function(F){var r=this.FE,$=r[0].k(),C=$.x,M=$.y,l=ax.um[r[3].k()],k=this.Vh;
if(l==16&&r[4].k()==1){k=k.slice(0);for(var O=0;O<k.length;O+=2){var d=k[O];k[O]=k[O+1];k[O+1]=d}}var I=this.rO=this.YH(k,C,M,r[1].k(),l,r[2].k()),c=this.Ee,Q=this.Tg,x=[I,new cS(0,0,C,M)];
j.zY(x);for(var O=0;O<x.length;O+=2)if(x[O+1].$<300){I=x[O];C=x[O+1].r;M=x[O+1].$;break}c.width=C;c.height=M;
y.nC(c,C,M);var U=new ImageData(new Uint8ClampedArray(I.buffer),C,M);Q.putImageData(U,0,0)};ax.prototype.YH=function(F,r,$,C,M,l){this.eg=null;
var k=[],d=r*$;for(var I=0;I<C;I++){var c=j.j(d);k.push(c);if(M==8)for(var O=0;O<d;O++)c[O]=F[O*C+I];
else if(M==16)for(var O=0;O<d;O++)c[O]=Math.round((F[(O*C+I)*2]<<8|F[(O*C+I)*2+1])*(255/65535))}var Q=j.j(d*4);
j.A9(Q,4278190080);if(l){j.dr(k.pop(),Q,3);C--}if(C==0){}else if(C==1)j.Wn(k[0],Q);else{j.dr(k[0],Q,0);
j.dr(k[1],Q,1);if(C>2){j.dr(k[2],Q,2);if(C>3){this.eg=[];for(var O=3;O<C;O++){var x=new Z.tp;x.name="Alpha "+(O-2);
x.S=new cS(0,0,r,$);x.G=k[O];this.eg.push(x)}}}}return Q};function gO(F,r,$){au.call(this);this._=y.i("div","");
this.UI=F;this.$c=null;this.h3=r==null?!1:r;this.KQ=null;this.EE=$;this.aee=[];this.rs=[];this.sl=[];
this.bP=[];this.Sw=0;this.$c=this.agO(gO.bP[F]);this.G7();this.ON=null;this.a0R;this.axh}gO.prototype=new au;
gO.prototype.SY=function(F,r,$,C,M){this.ON=M;this.a0R=j.N(this.KQ);if(this.$c.lagl)this.axh=this.$c.lagl.k()[0]};
gO.prototype.GQ=function(F,r,$,C,M){var l=this.ON,k=this.UI,d=this.a0R;if(l==null)return;var I=(M.x-l.x)/F.f.bU,c=(M.y-l.y)/F.f.bU;
if(k=="GrFl"){var Q=j.N(d.Ofst.v);Q.Hrzn.v.val+=I*.5;Q.Vrtc.v.val+=c*.5;this.$c.Ofst.o(Q,!0)}if(k=="patternFill"){var Q=j.N(d.phase.v);
Q.Hrzn.v+=I;Q.Vrtc.v+=c;this.$c.phase.o(Q,!0)}if(k=="DrSh"||k=="IrSh"||k=="ChFX"){var x=d.Dstn.v.val,U=this.axh*Math.PI/180,S=-Math.cos(U)*x+I,z=Math.sin(U)*x+c;
this.$c.Dstn.o(Math.sqrt(S*S+z*z),!0);this.$c.lagl.o([Math.atan2(z,-S)*180/Math.PI],!0)}};gO.prototype.pf=function(F,r,$,C,M){this.ON=null};
gO.prototype.alo=function(){for(var O=0;O<this.bP.length;O++){y.cD(this.bP[O],"selected");if(this.sl[O]instanceof jm)this.sl[O].o(!1)}};
gO.prototype.a5O=function(F){var r=this.ak1.bind(this);for(var O=0;O<this.sl.length;O++){var $=y.i("div","listitem");
this.bP.push($);if(O>0)$.textContent="\u2003";$.appendChild(this.sl[O]._);if(cK.ams.indexOf(this.UI)!=-1){var C=new jC("+");
C.z1();C._.style.float="right";$.appendChild(C._);var M=new jC("\u2B0D");M.z1();M._.style.float="right";
M._.style["margin-right"]="2px";$.appendChild(M._)}$.addEventListener("click",r,!1);F.appendChild($)}};
gO.MH=function(F,r){var $=r.getBoundingClientRect();return(F.clientY-$.top)/$.height};gO.prototype.ak1=function(F){var r=F.target.tagName.toLowerCase();
if(r=="input"){return}if(r=="button"){var $=new k6(_.E.O,!0),C=F.target.textContent=="+",M=C?0:gO.MH(F,F.target)<.5?-1:1;
if(C)$.data={R:"st_dupsingle",z:this.parent.data.z,ru:this.EE};else $.data={R:"st_movsingle",z:this.parent.data.z,ru:this.EE,aBO:M};
$.J=B.Ei;$.vs=!0;this.a($);$=new k6("redrawall",!0);$.data={aBO:M};this.a($);return}y.Dk(F);this.Yv();
this.Sw=this.bP.indexOf(F.currentTarget);this.a(new k6("showme"))};gO.prototype.Yv=function(){if(this.$c.enab&&this.$c.enab.k()==!1)this._Y({Ic:"enab",Y:!0})};
gO.prototype.alU=function(){var F=this.bP[this.Sw];if(F)y.yY(F,"selected");return this.rs[this.Sw]};
gO.prototype.agO=function(F){var r={};for(var O=0;O<F.length;O++){var $=F[O],C=null;if($=="----")C={_:y.i("hr")};
if($=="\n")C={_:y.i("br")};if($=="blOptions")C=new eu([14,10]);if($=="brst")C=new i9([12,72],["R","G","B"]);
if($=="knko")C=new bc("Knockout",[[13,1,0],"Shallow","Deep"]);if($=="enab")C=new jm(cK.names[cK.order.indexOf(this.UI)]);
if($=="lrMd"||$=="Md")C=new bc([12,19,0],dL.X_,dL.rn);if($=="Opct")C=this.h3?new eT([12,0],0,100,"%"):new aS([12,0],0,100,"%");
if($=="iOpa")C=new aS([12,26],0,100,"%");if($=="blIf")C=new j7;if($=="ShdN")C=new aS([12,68],0,100,"%");
var M=this.UI=="St3D"&&$=="lagl";if($=="lagl"||$=="Angl")C=new f3(M?"Light":[12,15],this.UI=="ebbl"||M);
if($=="uglg")C=new jm([12,27]);if($=="Dstn")C=new aS([12,28],0,200,"px");if($=="Ckmt")C=new aS([12,29],0,100,"%");
if($=="Srnk")C=new aS("Shrink",0,100,"%");if($=="Drkn")C=new aS("Darken",0,100,"%");if($=="blur")C=new aS([12,14,0],0,200,"px");
if($=="TrnS"||$=="MpgS")C=new e8([12,21]);if($=="Nose")C=new aS([12,30],0,100,"%");if($=="layerConceals")C=new jm([12,31]);
if($=="Cntn")C=new jm([12,25,4]);if($=="AntA"||$=="antialiasGloss")C=new jm([12,25,1]);if($=="GlwT")C=new bc([12,32],cK._g.names);
if($=="glwS")C=new bc([12,70],cK._g.awr);if($=="Inpr")C=new aS([12,12],1,100,"%");if($=="bvlS")C=new bc([12,22],cK.U7.style);
if($=="bvlT")C=new bc([12,32],cK.U7.av3);if($=="bvlD")C=new bc(null,cK.U7.dir);if($=="srgR")C=new aS([12,34],0,1e3,"%");
if($=="Sftn")C=new aS([12,35],0,20,"px");if($=="Lald")C=r.lagl;if($=="hglM"||$=="sdwM")C=new bc([12,36],dL.X_,dL.rn);
if($=="hglC"||$=="sdwC")C=new a$;if($=="hglO"||$=="sdwO")C=new aS([12,0],0,100,"%");if($=="Invr"||$=="InvT")C=new jm([4,11]);
if($=="overprint")C=new jm("Overprint");if($=="Sz")C=new aS([12,14,0],1,200,"px");if($=="Styl")C=new bc([12,40],cK.stroke.names);
if($=="PntT")C=new bc([12,66],cK.stroke.a4D);if($=="Clr")C=new a$(!0);if($=="Grad"){C=new bl(!0,this.h3?null:[12,37],!0);
C.o(JSON.parse(cK.Hn.ad7).v)}if($=="Rvrs")C=new jm([12,23,0]);if($=="Dthr")C=new jm([12,23,3]);if($=="Type")C=new bc(this.h3?null:[12,22],cK.qS.names.slice(0,this.UI=="FrFX"?6:5));
if($=="Ptrn")C=new a0([12,62]);if($=="Scl")C=new aS([12,38],5,500,"%",0,!0);if($=="Algn")C=new jm([12,39]);
if($=="Ofst")C=new c3(!0);if($=="phase")C=new c3(!1);if($=="useShape")C=new jm([12,21]);if($=="useTexture")C=new jm([12,67]);
if($=="textureDepth")C=new aS([12,34],-300,300,"%");var l=$=="----"||$=="\n"?$+O:$;if(C!=null)r[l]=C}return r};
gO.prototype.aa0=function(F){var r=this.rs[this.Sw];for(var O=0;O<F.length;O++){var $=this.$c[F[O]];
if($&&r.contains($._))r.removeChild($._)}};gO.prototype.ae8=function(F){var r=this.rs[this.Sw];for(var O=0;
O<F.length;O++){var $=this.$c[F[O]];if($&&!r.contains($._))r.appendChild($._)}};gO.prototype.Db=function(F,r){if(this.$c==null)return;
var $=r==d3.BN;if(this.$c.Grad){this.$c.Grad.xr(F.y1,F.J2);if($||r==d3.VV||r==d3.PP)this.$c.Grad.ZK(F.Bl)}if(this.$c.Ptrn){if($||r==d3.ve)this.$c.Ptrn.ZK(F.We)}if(this.$c.TrnS){if($||r==d3.YW)this.$c.TrnS.ZK(F.Ra)}if(this.$c.MpgS){if($||r==d3.YW)this.$c.MpgS.ZK(F.Ra)}};
gO.prototype.l=function(){for(var O=0;O<this.aee.length;O++)this.aee[O].l();for(var F in this.$c)if(this.$c[F]instanceof au)this.$c[F].l()};
gO.prototype.G7=function(){for(var F in this.$c){var r=this.$c[F];r.parent=this;if(r instanceof au)r.Q(_.E.V,this.aGA,this);
if(this.rs.length==0||F=="useShape"||F=="useTexture"){var $=new eu(r.a0J()),C=y.i("div","bordered padded");
if(this.h3==!1){C.appendChild($._);C.appendChild(y.i("hr",""))}this.aee.push($);this.rs.push(C);this.sl.push(r)}else this.rs[this.rs.length-1].appendChild(r._)}};
gO.prototype.update=function(F,r){if(this.$c==null)return;this.KQ=j.N(r);for(var $ in r){if("Opct iOpa hglO sdwO Dstn Ckmt Srnk Drkn blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf($)!=-1)this.$c[$].o(r[$].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn useShape useTexture Ofst phase blIf".split(" ").indexOf($)!=-1){this.$c[$].o(r[$].v,F)}if(["Md","hglM","sdwM"].indexOf($)!=-1)this.$c[$].o(dL.UI.indexOf(r[$].v.BlnM));
if($=="lrMd"){var C=(r.isFolder?[[15,10,27]]:[]).concat(dL.X_),M=(r.isFolder?[1]:[]).concat(dL.rn);this.$c[$].Ek(C,M);
this.$c[$].o(r[$].v)}if($=="Angl")this.$c[$].o([r[$].v.val]);if($=="lagl"){var l=r.uglg&&r.uglg.v?F.e4():r.lagl.v.val;
this.$c[$].o([l])}if($=="Lald"){var l=r.uglg&&r.uglg.v?F.bh():r.Lald.v.val;this.$c[$].o([null,l])}if($=="Type")this.$c[$].o(cK.qS.types.indexOf(r.Type.v.GrdT));
if($=="Styl")this.$c[$].o(cK.stroke.types.indexOf(r.Styl.v.FStl));if($=="PntT"){var k=cK.stroke.s5.indexOf(r.PntT.v.FrFl);
this.$c[$].o(k);if(!this.h3){this.aa0(cK.oz.concat(cK.ap.concat(cK.Vq)));this.ae8([cK.oz,cK.ap,cK.Vq][k])}}if($=="GlwT")this.$c[$].o(cK._g.types.indexOf(r.GlwT.v.BETE));
if($=="glwS")this.$c[$].o(cK._g.aEi.indexOf(r.glwS.v.IGSr));if($=="bvlS")this.$c[$].o(cK.U7.types.indexOf(r.bvlS.v.BESl));
if($=="bvlT")this.$c[$].o(cK.U7.aCj.indexOf(r.bvlT.v.bvlT));if($=="bvlD")this.$c[$].o(["In","Out"].indexOf(r.bvlD.v.BESs))}};
gO.prototype.aGA=function(F){for(var r in this.$c){if(this.$c[r]!=F.target)continue;var $=null,C=!1;
if("Opct iOpa Srnk Drkn hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(r)!=-1)$={type:"#Prc",val:F.target.k()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(r)!=-1)$={type:"#Pxl",val:F.target.k()};if(["Angl","lagl"].indexOf(r)!=-1)$={type:"#Ang",val:F.target.k()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT overprint Ptrn layerConceals Cntn lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(r)!=-1)$=F.target.k();
if(["Md","hglM","sdwM"].indexOf(r)!=-1)$={BlnM:dL.UI[F.target.k()]};if(r=="uglg"){$=F.target.k();C=!0}if(r=="PntT"){$={FrFl:cK.stroke.s5[F.target.k()]};
C=!0}if(r=="Lald")$={type:"#Ang",val:F.target.k()[1]};if(r=="Type")$={GrdT:cK.qS.types[F.target.k()]};
if(r=="Styl")$={FStl:cK.stroke.types[F.target.k()]};if(r=="GlwT")$={BETE:cK._g.types[F.target.k()]};
if(r=="glwS")$={IGSr:cK._g.aEi[F.target.k()]};if(r=="bvlS")$={BESl:cK.U7.types[F.target.k()]};if(r=="bvlT")$={bvlT:cK.U7.aCj[F.target.k()]};
if(r=="bvlD")$={BESs:["In","Out"][F.target.k()]};this._Y({Ic:r,Y:$});if(C){if(this.h3)this.update(null,this.KQ);
else{var M=this.parent,l=M.xB,k=this.EE,d=l.u[M.data.z].add.lmfx[cK.Zb[k[0]]].v[k[1]].v;this.update(l,d)}}}};
gO.prototype._Y=function(F){if(this.KQ&&this.KQ[F.Ic])this.KQ[F.Ic].v=F.Y;if(this.h3){this.a(new k6(_.E.V))}else{F.R="changeprop";
F.z=this.parent.data.z;F.Sc=this.EE;var r=new k6(_.E.O,!0);r.data=F;r.J=B.Ei;r.vs=!0;this.a(r);this.a(new k6("afterchange",!0))}};
gO.prototype.k=function(){return j.N(this.KQ)};gO.bP={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals Cntn".split(" "),St3D:"enab Md Clr Opct Angl Dstn Srnk ---- lagl Lald uglg Drkn".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(cK.oz),GrFl:["enab","Md","Opct"].concat(cK.ap),patternFill:["enab","Md","Opct"].concat(cK.Vq),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","overprint","\n","PntT","\n"].concat(cK.oz.concat(cK.ap.concat(cK.Vq)))};
function dH(){fe.call(this,[11,6],"layerstyle");this.a9i=-1;this.data={};this.xB=null;this.e=null;this.$0=[];
this.eb=[];y.yY(this.body,"flexrow");this.bK=y.i("div","bordered");y.B(this.bK,"min-width:13em;");this.body.appendChild(this.bK);
this.fa=y.i("div","");y.B(this.fa,"width:25em; padding-left: 1em;");this.body.appendChild(this.fa);this.uY=y.i("div","form");
y.B(this.uY,"padding-left: 1em; width:7em;");this.body.appendChild(this.uY);this.UP=y.AX(this,this.uY);
this.agl=new jC([12,87],!0,null,!0);this.agl.Q("click",this.a2S,this);this.uY.appendChild(this.agl._);
this.Cm=new cG;this.Cm.parent=this;this.Cm.Q(_.E.V,this.aoF,this);this.uY.appendChild(this.Cm._);this.Q("closebtn",this.pN,this);
this.Q("redrawall",this.a6o,this)}dH.prototype=new fe;dH.prototype.fV=function(){return!0};dH.prototype.g4=function(){return!0};
dH.prototype.SY=function(F,r,$,C,M){var l=this.I7();if(l)l.SY(F,r,$,C,M)};dH.prototype.GQ=function(F,r,$,C,M){var l=this.I7();
if(l)l.GQ(F,r,$,C,M)};dH.prototype.pf=function(F,r,$,C,M){var l=this.I7();if(l)l.pf(F,r,$,C,M)};dH.prototype.I7=function(F){if(F==null)F=this.data.index;
return F==null?null:F==0?this.$0[0]:this.eb[F[0]][F[1]]};dH.prototype.aoF=function(F){var r=this.Cm.k();
this._Y({R:"setstl",Y:r.Fu});this.a6o(null)};dH.prototype.a2S=function(F){var r=this.xB,$=this.data.z;
if($==null)$=r.K[0];var C=this.xB.u[$],M=en.aJO(C),l=new k6(_.E.c,!0);l.data={R:_.m.WF,TB:"add",jg:d3.aD,bw:[j.N(M)]};
this.a(l)};dH.prototype.agJ=function(F){this.data.index=F.currentTarget.EE;this.uK(F.currentTarget.EE)};
dH.prototype.a6o=function(F){this.wK(this.xB,this.data)};dH.prototype.uK=function(F,r){y.RR(this.fa);
for(var O=0;O<this.$0.length;O++)this.$0[O].alo();var $=this.I7(F);this.fa.appendChild($.alU());if(r)$.Yv();
var C=this.xB;if(C){var M=C.u[this.data.z];this.$0[0].update(C,B.dw.gL(C,M));var l=M.add.lmfx;if(l==null)return;
for(var O=0;O<cK.order.length;O++){var k=l[cK.Zb[O]].v;for(var d=0;d<k.length;d++)this.eb[O][d].update(C,k[d].v)}}if(r)$.Yv()};
dH.prototype.l=function(){fe.prototype.l.call(this);this.agl.l();this.Cm.l();this.UP.l();for(var O=0;
O<this.$0.length;O++)this.$0[O].l()};dH.prototype.wK=function(F,r){var $=r.z==null;this.data.z=r.z;this.data.index=r.index;
r=this.data;this.xB=F;if($)r.z=F.K.length==0?F.u.length-1:F.K[0];y.RR(this.bK);var C=F.u[r.z].add.lmfx;
this.KE();this.$0=[new gO("bops",!1,0)];this.eb=[];for(var O=0;O<cK.order.length;O++){this.eb.push([]);
var M=C==null?[]:C[cK.Zb[O]].v;for(var l=0;l<M.length;l++){var k=new gO(cK.order[O],!1,[O,l]);this.$0.push(k);
this.eb[O].push(k)}if(M.length==0){var k=new gO(cK.order[O],!1,[O,0]);this.$0.push(k);this.eb[O].push(k)}}this.l();
this.aqT(this.e,d3.BN);for(var O=0;O<this.$0.length;O++){this.$0[O].parent=this;this.$0[O].a5O(this.bK);
this.$0[O].Q("showme",this.agJ,this)}if(r.index==null||r.index==0||!$&&C[cK.Zb[r.index[0]]].v.length==0){this.uK(0)}else this.uK(r.index,$);
this.Q("afterchange",this.KE,this)};dH.prototype.KE=function(F){var r=this.xB,$=this.data.z;if($==null)$=r.K[0];
var C=this.xB.u[$],M=en.aJO(C);this.Cm.o(M,r.add.Patt?r.add.Patt:[],r.e4(),r.bh())};dH.prototype.Db=function(F,r){this.e=F;
this.aqT(F,r);if(r==d3.aD||r==d3.BN){this.Cm.ZK([F.md,F.We])}if(r==d3.Xh){}};dH.prototype.aqT=function(F,r){for(var O=0;
O<this.$0.length;O++)this.$0[O].Db(F,r)};dH.prototype.pN=function(F){this._Y({R:"cancel"})};dH.prototype.N1=function(F){this._Y({R:"confirm"});
this.close()};dH.prototype._Y=function(F){F.z=this.data.z;var r=new k6(_.E.O,!0);r.data=F;r.J=B.Ei;r.vs=!0;
this.a(r);this.KE()};dH.aII=function(){var F=function(r){if(r==null||r.K.length==0)return{T:!1};var $=r.u[r.K[0]];
return{T:$.add.lmfx!=null}};return{name:[11,6],NA:!0,sub:[{name:[5,1],T:F},{name:[5,2]},{name:[2,2],T:F}]}};
dH.a4k=function(){return{sub:[{s:_.E.O,J:B.Ei,h:{R:"st_copy"}},{s:_.E.O,J:B.Ei,h:{R:"st_paste"}},{s:_.E.O,J:B.Ei,h:{R:"st_clear"}}]}};
dH.A8=function(F){var r=[{name:[14,10],NA:!0}];for(var O=0;O<cK.names.length;O++)r.push({name:cK.names[O]});
if(F){r[r.length-1].NA=!0;r.push(dH.aII());r.push({name:[6,30,1],T:function($){return{T:$!=null&&$.K.length!=0&&$.u[$.K[0]].uL()}}});
r.push({name:["VAR0 VAR1",[12,49],[9,1]],T:function($){return{T:$!=null&&$.K.length!=0&&$.u[$.K[0]].add.lmfx!=null}}})}return r};
dH.I8=function(F){var r=[{s:_.E.c,h:{R:_.m.Oe,rS:"layerstyle"}}];for(var O=0;O<cK.names.length;O++)r.push({s:_.E.c,h:{R:_.m.Oe,rS:"layerstyle",index:[O,0]}});
if(F){r.push(dH.a4k());r.push({s:_.E.c,h:{R:_.m.Oe,rS:"scaleeffects",Ir:100,fE:{s:_.E.O,J:B.Ei,h:{R:"scaleeffects"}}}});
var $={classID:"Mk",null:cQ.sZ("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
r.push({s:_.E.wG,h:{hE:"make",iH:$}})}return r};dH.amp=function(F){var r=[];if(F)r.push({name:[6,48,0,0],Q5:!0},{name:[6,48,0,1],Q5:!0},{name:[6,48,0,2],Q5:!0,NA:!0});
for(var $ in f0.names)r.push({name:f0.names[$],NA:f0.auw.indexOf($)!=-1,Q5:cW[$]!=null});return r};dH.qH=function(F){var r=[];
if(F){r.push({s:_.E.O,J:B.fA,h:{R:"newfill",wV:0}});for(var O=1;O<3;O++)r.push({s:_.E.wG,h:B.QZ.w8(O)})}for(var $ in f0.names){var C=e9.Mv($);
if(C==null)C={};for(var M in f0.PW)if(f0.PW[M]==$)C.classID=M;var l={hE:"make",iH:{classID:"Mk",null:cQ.sZ("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:C}}}}};
r.push({s:_.E.wG,h:l})}return r};function jI(){fe.call(this,"Merge Channels","mergechannels");this.Mi=null;
var F=y.i("div","form");this.body.appendChild(F);this.FE=[];for(var O=0;O<3;O++){var r=new bc(f0._5[O],[]);
this.FE.push(r);F.appendChild(r._);y.Hd(F)}this.UP=y.AX(this,F)}jI.prototype=new fe;jI.prototype.l=function(){fe.prototype.l.call(this);
this.UP.l();for(var O=0;O<3;O++)this.FE[O].l()};jI.prototype.wK=function(F,r,$,C){this.Mi=$;var M=[];
for(var O=0;O<$.length;O++)M.push($[O].name);for(var O=0;O<3;O++){var l=this.FE[O];l.Ek(M);l.o(Math.min(O,$.length-1))}};
jI.prototype.N1=function(F){var r=this.Mi,$=r[0],C=new k6(_.E.wG,!0);C.data=kQ.q_($.r,$.$,$.YV,"Merged Document","Wht",!1);
this.a(C);var M=[];for(var O=0;O<3;O++)M.push(r[this.FE[O].k()].Ez());var $=r[r.length-1],l=$.u[0],k=l.buffer;
for(var O=0;O<k.length;O+=4){k[O]=M[0][O];k[O+1]=M[1][O];k[O+2]=M[2][O]}l.vM();$.vM();this.close()};
function fk(){fe.call(this,[1,10],"script");var F=y.i("div","form");y.B(F,"width:44em");this.body.appendChild(F);
this.e=null;this.PG=[];this.S0=[];this.aqF;var r=this.xo=new jC([1,2],!1,null,!0);r.Q("click",this.$t,this);
F.appendChild(r._);var $=new jC("JS Reference",!1,null,!0);$.Q("click",this.ayL,this);F.appendChild($._);
F.appendChild(new eu("Demos:")._);this.aB9=[];var C=fk.zO;for(var O=0;O<C.length;O++){var M=new jC(C[O].Nm,!1,null,!0);
this.aB9.push(M);F.appendChild(M._);M.Q("click",this.anY,this)}this.wJ=y.i("textarea");y.mM(this.wJ);
this.wJ.setAttribute("rows",16);y.B(this.wJ,"display:block;tab-size:4; font-family:monospace;width:100%;");
F.appendChild(this.wJ);var l=new jC("Run",!0,null,!0);l.Q("click",this.N1,this);F.appendChild(l._);this.Wy=y.i("div");
F.appendChild(this.Wy)}fk.prototype=new fe;fk.prototype.l=function(){this.xo.l()};fk.prototype.$t=function(){var F=this.aqF;
if(F==null)F="script.jsx";var r=new k6(_.E.c,!0);r.data={R:_.m.Oe,rS:"namewindow",Ir:F.slice(0,F.length-4),Oa:this.a3$.bind(this)};
this.a(r)};fk.prototype.a3$=function(F){var r=this.wJ.value,$=P.V4(r),C=new k6(_.E.c,!0);C.data={R:_.m.Zj,bM:$.buffer,du:F+".jsx",aC4:!0};
this.a(C)};fk.prototype.aJ1=function(F){var O=this.PG.indexOf(F.target),r=this.aqF=this.S0[O],$=this.e.hz.C5[r],C=new Uint8Array($),M=P.qV(C,0,C.length);
this.wJ.value=M};fk.prototype.wK=function(F,r,$){this.wJ.value=fk.zO[0].Zn;this.abz()};fk.prototype.abz=function(){var F=this.e.hz,r=this.Wy;
y.RR(r);this.PG=[];this.S0=[];r.textContent="Saved scripts: ";for(var $ in F.C5){if($.endsWith(".jsx")){var C=new jC($,!1,null,!0);
this.PG.push(C);this.S0.push($);C.Q("click",this.aJ1,this);r.appendChild(C._)}}};fk.prototype.Db=function(F,r){this.e=F;
if(r==d3.ht)this.abz()};fk.prototype.ayL=function(F){var r=new k6(_.E.c,!0);r.data={R:_.m.MN,link:"https://github.com/Adobe-CEP/CEP-Resources/blob/master/Documentation/Product%20specific%20Documentation/Photoshop%20Scripting/photoshop-javascript-ref-2020.pdf"};
this.a(r)};fk.prototype.N1=function(F){var r=this.wJ.value,$=this.e.hz.C5;r=fk.aJR(r,$);var C=new k6(_.E.c,!0);
C.data={R:_.m.y9,ky:r};this.a(C)};fk.aJR=function(F,r){var $=F.split("\n");for(var O=0;O<$.length;O++){var C=$[O].trim();
if(C.startsWith("#include")){var M=C.slice(C.indexOf("\"")+1,C.lastIndexOf("\"")),l=r[M];if(l==null)alert("\""+M+"\" not found in the Local Storage");
$[O]=fk.aJR(P.qV(new Uint8Array(l)),r)}}return $.join("\n")};fk.prototype.anY=function(F){var r=this.aB9.indexOf(F.currentTarget);
this.wJ.value=fk.zO[r].Zn};fk.zO=[{Nm:"Hello",Zn:"\nalert(\"Hello Photopea!\");\n"},{Nm:"Process Layers",Zn:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{Nm:"Clone Layers",Zn:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function cV(){fe.call(this,[11,7],"newproject");this.data=null;this.Mi=null;this.MF=0;var F=this.Qx=y.i("div","flexrow");
this.body.appendChild(F);var r=this.wS=y.i("div","form");F.appendChild(r);this.N3=new gs([12,48],null,10);
r.appendChild(this.N3._);y.Hd(r);this.WD=new gd(!0,null,null,null,!0);this.WD.o(new hx(1280,720),72);
if(gw==1){this.WD.o(new hx(8.3*300,11.7*300),300);this.WD.cm(4)}this.WD.a82(!0,!0);this.WD.Q(_.E.V,this.Ih,this);
r.appendChild(this.WD._);this.kk=new j2;this.kk.parent=this;if(gw==0){y.Hd(r);r.appendChild(this.kk._)}this.Ip=new bc([13,6],kQ.Co);
this.ue=new bc(null,["8 bit","16 bit","32 bit"]);this.a4q=new jm([1,16,1]);if(gw==0){r.appendChild(this.a4q._);
y.Hd(r);r.appendChild(this.Ip._);r.appendChild(this.ue._)}this.N3.Jd();this.WD.Jd();this.kk.Jd();this.Ip.Jd();
this.ue.Jd();this.UP=new jC([12,49],!0,null,!0);this.UP.Q("click",this.N1,this);this.UP._.style.marginBottom="20px";
r.appendChild(this.UP._);var $=this.vf=y.i("div","form");r.appendChild(this.vf);var C=cV.Vh,M=[];for(var O=0;
O<C.length;O++)M.push(C[O].name);this.ro=new a8(null,M);this.ro.Q(_.E.V,this.Vo,this);$.appendChild(this.ro._);
this.fr=new cx(!0);this.fr.Q(_.E.V,this.a5K,this);$.appendChild(this.fr._);this.Vo();this.Be=new iJ;
this.Be.parent=this;y.B(this.Be._,"margin-right:20px");this.Be.Q("tempready",this.acy,this);this.cO=this.vf;
this.a17=new jC([25,0],null,null,!0);this.a17.Q("click",function(){var l;if(this.cO==this.vf){this.cO=this.Be._;
l=[11,10]}else{this.cO=this.vf;l=[25,0]}this.a17.Ck(l);this.Xt(this.a0,this.Y9-.001)},this)}cV.prototype=new fe;
cV.prototype.aJn=function(F){var r=this.sv,$=r.style.display!="none";r.style.display=$?"none":"";this.a95.Ck($?"\u02C5":"\u02C4");
this.Xt(this.a0,this.Y9-.001)};cV.prototype.Db=function(F,r){this.Be.Db(F)};cV.prototype.kX=function(F,r){return new hx(Math.max(0,Math.min(70,(F-690)/2)),F>r?Math.max(0,Math.min(50,(r-400)/2)):0)};
cV.prototype.Xt=function(F,r){if(this.a0==F&&this.Y9==r)return;this.a0=F;this.Y9=r;var $=this.Qx,C=this.vf,M=this.Be._,l=this.wS,k=330,d=500;
y.RR($);if(C.parentNode)C.parentNode.removeChild(C);if(M.parentNode)M.parentNode.removeChild(M);this.fr._.style.height=r-54-(F<730?30:0)+"px";
C.style.marginRight="20px";var I=this.a17._;if(1100<F){d=(F-k)/2-32;$.appendChild(this.Be._);this.Be.Xt(d,r-28);
$.appendChild(C);$.appendChild(this.wS)}else if(520<F){if(F<750)k=280;d=F-k-44;$.appendChild(this.cO);
$.appendChild(I);y.B(I,"position:fixed; right:"+(k+40)+"px; bottom:20px;");$.appendChild(this.wS);if(this.cO==M)this.Be.Xt(d,r-27)}else{k=F-26;
d=k;C.style.marginRight="";l.appendChild(this.cO);l.appendChild(I);y.B(I,"position:fixed; right:16px; bottom:20px;");
$.appendChild(this.wS);var c=r-412+(gw==0?0:120);this.fr._.style.height=c+"px";if(this.cO==M)this.Be.Xt(d,c+27)}y.B(l,"width:"+k+"px; line-height:3em;");
C.style.width=d+"px";this.Vo(null,d)};cV.prototype.Ih=function(){this.Be.o(this.WD.k())};cV.prototype.a5K=function(F){var r=this.fr.k()[0],$=cV.Vh[this.ro.k()].Ry[r],C=$[4];
if(C==0)C=72;var M=$[1],l=$[2],k=["px","%","mm","in"].indexOf($[3]),d=[1,1,25.4/C,1/C][k];M/=d;l/=d;
this.WD.o(new hx(Math.round(M),Math.round(l)),C);this.WD.cm(k);this.Ih();if(Date.now()-this.MF<300)this.N1();
else ht.event("ndoc_Size click",.1);this.MF=Date.now()};cV.prototype.Vo=function(F,r){if(r==null)r=this.a32;
else this.a32=r;if(r==null)return;var $=r<360?2:r<600?3:4,C=(r-5)/$-5,M=cV.Vh[this.ro.k()].Ry,l=[],k=[],d=Math.floor(C*y.ha()),I=Math.floor(C*y.ha()),c=0;
for(var O=0;O<M.length;O++)c=Math.max(c,M[O][1],M[O][2]);for(var O=0;O<M.length;O++){var Q=M[O],x=Q[1]+" x "+Q[2]+" "+Q[3];
if(Q[3]=="in")x=(Q[1]*25.4).toFixed(0)+" x "+(Q[2]*25.4).toFixed(0)+" mm";if(Q[3]=="mm")x=(Q[1]/25.4).toFixed(1)+" x "+(Q[2]/25.4).toFixed(1)+" in";
if(Q[4])x=x+" @ "+Q[4]+" ppi";k.push(x);l.push(cV.SM(Q,d,I,c))}this.fr.pD(l,k,d,I)};cV.SM=function(F,r,$,C){var M=j.q6(r,$),l=Math.round(r/8),k=Math.floor(13*y.ha()),d=F[1],I=F[2];
M.fillStyle="#000000";M.font=Math.round(k*.9)+"px \"Open Sans\", Sans-Serif";var c=d+" x "+I+" "+F[3],Q=M.measureText(c);
M.fillText(c,Math.round((r-Q.width)/2),$-Math.round(l/2));if(F[0]!=null){M.font="bold "+k+"px \"Open Sans\", Sans-Serif";
var c=F[0],Q=M.measureText(c);M.fillText(c,Math.round((r-Q.width)/2),$-Math.round(l/2)-Math.round(k*1.3))}var x=$-Math.round(2.5*k),U=Math.min((r-l)/d,(x-l)/I);
U*=.5+.5*(Math.max(d,I)/C);var S=(r-d*U)/2,z=(x-I*U)/2;M.strokeRect(Math.round(S)+.5,Math.round(z)+.5,Math.round(d*U),Math.round(I*U));
var V=M.getImageData(0,0,r,$).data;return dN.yd(V.buffer,r,$,null,null,!0)};cV.prototype.l=function(){fe.prototype.l.call(this);
this.WD.l();this.N3.l();this.kk.l();this.UP.l();this.N3.o(dG.get([11,7]));this.ro.l();this.Ip.l();this.ue.l();
this.a4q.l();this.Be.l()};cV.prototype.N1=function(F){ht.event("ndoc_Create click",.1);var r=this.WD.k(),$=r.x,C=r.y;
this.close();var M=this.kk.k(),l=kQ.Bk[this.Ip.k()],k=new k6(_.E.wG,!0);k.data=kQ.q_($,C,this.WD.x7(),this.N3.k(),["Wht","Blck","Trns","Clr"][M[0]],this.a4q.k(),M[1],l,8<<this.ue.k());
this.a(k);this.aiW()};cV.prototype.acy=function(F){ht.event("ndoc_Template click",.1);var r=F.data.xB;
r.YV=this.WD.x7();var $=new k6(_.E.c,!0);$.data={R:_.m.K2,xB:r};this.a($);this.close();this.aiW()};cV.prototype.aiW=function(){var F=this.Mi[this.Mi.length-1],r=this.data.atk;
if(r)ia.sf(function(){var $=new XMLHttpRequest,C="https://www.googleapis.com/drive/v3/files?"+ia.aag();
$.open("POST",C,!0);$.setRequestHeader("Content-Type","application/json");$.addEventListener("load",function(M){var l=JSON.parse(M.target.response);
F.$H={file:l,zj:"psd"};alert(F.name+" created in Google Drive")});$.send(JSON.stringify({name:F.name,aqV:[r]}))})};
cV.prototype.wK=function(F,r,$,C){this.Mi=$;if(F!=null&&F.d!=null){var M=new cS(0,0,F.r,F.$).R7(F.d.S);
this.WD.o(new hx(M.r,M.$))}this.data=r;this.Ih();if(y.qI())bF.aF$(this.cu.bind(this))};cV.prototype.cu=function(F){if(F=="granted")bF.GV(this,this.Ol.bind(this))};
cV.prototype.Ol=function(F,r){this.WD.o(new hx(r.r,r.$))};cV.Vh=[{name:"Social",Ry:[["FB Page Cover",1640,664,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Insta Portrait",1080,1350,"px",0],["Youtube Thumbnail",1280,720,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],Ry:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],Ry:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],Ry:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],Ry:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],Ry:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2ᴺ",Ry:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function ah(F,r,$){fe.call(this,r,"sel_"+F);this.R=F;var C=y.i("div","form");this.body.appendChild(C);
this.N3=new eT(r,0,255,null,0,!1,!0);C.appendChild(this.N3._);this.N3.o(1);this.N3.Q(_.E.V,this.Sb,this);
var M=y.i("span");M.textContent=$;C.appendChild(M);y.Hd(C);this.ak4=new jm("Apply at canvas bounds");
if(F!="border")C.appendChild(this.ak4._);this.UP=y.AX(this,C);this.Q("closebtn",this.Pr,this)}ah.prototype=new fe;
ah.prototype.R3=function(F,r){if(F==null)return;if(F.d==null)alert("No selection!");return F.d!=null};
ah.prototype.Pr=function(){var F=new k6(_.E.O,!0);F.J=B.sT;F.data={R:"h_undoredo"};this.a(F)};ah.prototype.Sb=function(F,r,$){if(r==null)this.Pr();
var C=new k6(_.E.wG,!0);C.data=B.u_.hr(this.R,this.N3.k(),this.ak4.k());C.vs=!0;if($!=!0)C.data.aBL=!0;
this.a(C)};ah.prototype.N1=function(F){this.Sb(null,null,!0);this.close()};ah.prototype.l=function(){fe.prototype.l.call(this);
this.UP.l();if(this.N3)this.N3.l()};ah.prototype.wK=function(F,r){this.N3.Sf();this.Sb(null,!0)};function kZ(F,r,$,C,M,l){fe.call(this,$,r);
this.a9J=l;this.Ax=M;this.Vh=null;this.wS=y.i("div","form");this.body.appendChild(this.wS);this.arF=y.i("div");
this.wS.appendChild(this.arF);var k=500;if(C){var d=C.split(",");C=d[0];if(d[1])k=parseFloat(d[1])}this.N3=F==0?new gs($,null,10):F==1?new aS($,0,k,C,1):new gs($,null,24,5);
this.N3.Q(_.E.V,this.Sb,this);this.wS.appendChild(this.N3._);this.UP=y.AX(this,this.wS);this.Q("closebtn",this.pN,this)}kZ.prototype=new fe;
kZ.prototype.kX=function(F,r){return new hx(Math.max(0,Math.min(150,(F-250)/2)),Math.max(0,Math.min(150,(r-120)/2)))};
kZ.prototype.fV=function(){return this.a9J};kZ.prototype.Sb=function(F){var r=this.N3.k();if(this.Ax)this.Sj(r)};
kZ.prototype.pN=function(F){if(this.Ax)this.Sj("cancel")};kZ.prototype.N1=function(F){if(this.Ax)this.Sj("confirm");
else this.Sj(this.N3.k());this.close()};kZ.prototype.Sj=function(F){if(this.Vh.Oa)this.Vh.Oa(F);else if(this.Vh.fE){var r=this.Vh.fE,$=new k6(r.s,!0);
$.J=r.J;$.data=r.h;$.data.Y=F;$.vs=!0;this.a($)}};kZ.prototype.l=function(){fe.prototype.l.call(this);
this.UP.l();if(this.N3)this.N3.l()};kZ.prototype.wK=function(F,r){this.Vh=r;this.N3.o(r.Ir);this.N3.Sf();
this.arF.innerHTML=r.a77?r.a77:"";this.Sb(null)};function cz(){fe.call(this,[1,5],"open_from_url");this.lB=null;
var F=y.i("div","form");this.body.appendChild(F);this.abl=new gs("URL",null,22);F.appendChild(this.abl._);
y.Hd(F);this.azd=new a8([21,0],[[21,2],[21,1]]);F.appendChild(this.azd._);this.UP=y.AX(this,F)}cz.prototype=new fe;
cz.prototype.l=function(){fe.prototype.l.call(this);this.UP.l();this.azd.l()};cz.prototype.wK=function(F,r,$){this.abl.Sf();
this.lB=null;if(F&&$.indexOf(F)!=-1)this.lB=$.indexOf(F)};cz.prototype.N1=function(F){var r=new k6(_.E.c,!0),$=this.abl.k();
r.data={R:_.m.f0,jg:{url:$,aud:!0,lB:this.azd.k()==1?this.lB:null}};this.a(r);this.close()};function kF(){fe.call(this,[12,79],"preferences");
this.e=null;var F=y.i("div","form");this.body.appendChild(F);this.bP=[new jm([8,2]),new a$,new a$,new jm([8,4]),new a$,new bc([12,80,3],[[12,93,3],[12,80,4]]),new aS([12,80,5],.02,100,null,2),new bc(null,j.Om.si),new bc([12,80,6],j.Om.si),new jm("Zoom with Scroll Wheel"),new jm("Glass Menus"),new aS("Cursor Offset",0,200),new gs("Dezgo API Key")];
for(var O=0;O<this.bP.length;O++){var r=this.bP[O];r.parent=this;r.Q(_.E.V,this.Ex,this);if(O==2){var $=new eu("Local guides:");
F.appendChild($._)}F.appendChild(r._);if(O!=0&&O!=1&&O!=3&&O!=4&&O!=6)y.Hd(F);if(O==8)y.ox(F)}}kF.prototype=new fe;
kF.prototype.l=function(){fe.prototype.l.call(this);for(var O=0;O<this.bP.length;O++)this.bP[O].l()};
kF.prototype.wK=function(F,r,$){};kF.prototype.Db=function(F,r){this.e=F;var $=F.AK;this.bP[0].o($.oT);
this.bP[1].ZJ($.da);this.bP[2].ZJ($.d1);this.bP[3].o($.sn);this.bP[4].ZJ($.Kl);this.bP[5].o($.RL);this.bP[6].o($.oS);
this.bP[7].o($.aC);this.bP[8].o($.qU);var C=window.locStor.getItem("__zwh");this.bP[9].o(C==1);var M=window.locStor.getItem("__glm");
this.bP[10].o(M=="1");this.bP[11].o(F.E3);var l=window.locStor.getItem("__dak");this.bP[12].o(l?l:"")};
kF.prototype.Ex=function(F){var r=this.bP;if(F.target==r[9])this.e.Y$=1-this.e.Y$;var $=j.N(this.e.AK);
$.oT=r[0].k();$.da=r[1].Yt();$.d1=r[2].Yt();$.sn=r[3].k();$.Kl=r[4].Yt();$.RL=r[5].k();$.oS=r[6].k();
$.aC=r[7].k();$.qU=r[8].k();var C=window.locStor;C.setItem("__zwh",r[9].k()?"1":"0");C.setItem("__glm",r[10].k()?"1":"0");
this.e.E3=r[11].k();var M=r[12].k();if(M=="")C.removeItem("__dak");else C.setItem("__dak",M);var l=new k6(_.E.c,!0);
l.data={R:_.m.WF,jg:d3.jG,FJ:$};this.a(l)};function iv(){fe.call(this,[11,8],"saveforweb");this.a3W="";
this.Q("closebtn",function(){this.CN.jS()},this);this.xB=null;this.kV=null;this.asz=null;this.e=null;
y.yY(this.body,"flexrow");this.body.style.padding="0";var F=y.i("div");y.B(F,"position:relative;");var r=y.i("div");
this.body.appendChild(F);this.body.appendChild(r);this.V1=y.i("div","imgcont");F.appendChild(this.V1);
this.CN=new aM;this.CN.Xt(512,512);var $=this.bl=y.i("video");$.setAttribute("controls","");$.setAttribute("preload","auto");
$.setAttribute("loop","");this.KK=y.i("div");y.B(this.KK,"position:absolute;  right:0px; bottom:0px; padding: 3px 6px;  background-color:black;");
F.appendChild(this.KK);var C=this.wS=y.i("div","form cell");y.B(C,"width:195px; padding:9px 13px;");
r.appendChild(C);this.Se=new gs([12,48],null,7.6);this.Se.Jd();C.appendChild(this.Se._);var M=dN.$m();
M[M.indexOf("WEBP")]="webP";this.pr=new bc([12,50],M);this.pr._.style.marginRight="0";this.pr.Jd();C.appendChild(this.pr._);
this.pr.Q(_.E.V,this.R0,this);y.Hd(C);this.WD=new gd(!0,!0,!1,!0);this.WD.Jd();this.WD.Q(_.E.V,this.R0,this);
this.WD.Bp._.style.paddingBottom="8px";C.appendChild(this.WD._);this.$F=new ij;this.$F.Q(_.E.V,this.R0,this);
C.appendChild(this.$F._);this.vD=new jC([1,2],!0,null,!0);this.vD.Q("click",this.N1,this);C.appendChild(this.vD._)}iv.prototype=new fe;
iv.prototype.R3=function(F,r){return F!=null};iv.prototype.l=function(){fe.prototype.l.call(this);this.WD.l();
this.Se.l();this.pr.l();this.$F.l();this.vD.l()};iv.prototype.N1=function(F){var r=this.Se.k().trim(),$=dN.$m()[this.pr.k()],C=$=="JPG"||$=="PNG"||$=="GIF"||$=="SVG"||$=="WEBP",M=dN.LD($),l="."+$.toLowerCase(),k=this.kV,d=r+l,I=this.xB,c=I.a3,Q=this.$F.k();
if(I.XF())Q.pop();var x=c.length!=0&&C?Q.pop():0;if(x!=0){var U=[],S={},z=new cS(0,0,I.r,I.$),V=j.Mz(I.Ez(),8);
for(var O=0;O<c.length;O++)U.push(B.ft.ck(c,O));U.reverse();var t=j.S.aGc([0,0,I.r,I.$],U),Y=[];for(var O=0;
O<t.length;O++){var i=t[O],J=new cS(i[0],i[1],i[2]-i[0],i[3]-i[1]),bU=""+(O+1);if(bU.length<2)bU="0"+bU;
bU=r+"_"+bU;if(i[4]!=null&&c[i[4]].v.Nm)bU=c[i[4]].v.Nm.v;var H="images/"+bU+l;Y.push(H);if(x==2&&i[4]==null)continue;
var v=j.j(J.C()*4);j.mR(V,z,v,J);if(S[H]){alert("There are multiple slices with a name \""+bU+"\"");
return}S[H]=new Uint8Array(M.x2([[v.buffer,0,I.YV,I.wM]],J.r,J.$,Q))}Y.push("images/spacer.gif");var n="<html>\n<head>\n<title>"+r+"</title>\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\">\n</head>\n";
n+="<body bgcolor=\"#FFFFFF\" leftmargin=\"0\" topmargin=\"0\" marginwidth=\"0\" marginheight=\"0\">\n";
n+="<!-- Save for Web Slices ("+I.name+") -->\n";n+=j.S.a6G(t,Y,c,x)+"\n";n+="<!-- End Save for Web Slices -->\n";
n+="</body>\n</html>\n";var G=j.j(Math.round(n.length*1.5)),g=P.hm(n,G,0);S["index.html"]=G.slice(0,g);
k=UZIP.encode(S);d=r+".zip"}else if(I.aAV()&&C&&Q.pop()){var W=[],z,V;if(gw==0){z=new cS(0,0,I.r,I.$);
V=j.Mz(I.Ez(),8);var L=I.root.children;for(var O=0;O<L.length;O++){var b=L[O].z;if(b.add.artb==null||!b.rR())continue;
W.push([b.getName(),b.dh()])}}else{z=I.qx();V=new Uint8Array(I.ag2(this.e));var T=I.add.arts;for(var O=0;
O<T.length;O++){var a=T[O];W.push([a.du,j.b.qy(a.sc)])}}var S={};for(var O=0;O<W.length;O++){var R,a=W[O][1];
if($=="SVG")R=new Uint8Array(M.x2(I,a.r,a.$,Q,this.e,O));else{var D=j.j(a.C()*4);console.log(z,a);j.mR(V,z,D,a);
R=new Uint8Array(M.x2([[D.buffer,0,I.YV,I.wM]],a.r,a.$,Q))}S[W[O][0]+l]=R}k=UZIP.encode(S);d=r+".zip"}var h=function(){if(I.zm)bF.uQ("act=1&id="+I.zm);
this.CN.jS();this.close();var l=dN.$m()[this.pr.k()];ht.event("efmt_"+l.toLowerCase(),.1);var X=new k6(_.E.c,!0);
X.data={R:_.m.qM,data:k,name:d};this.a(X)}.bind(this);I.Pv();if(!this.e.Tb||ht._q()){h();return}var K=aG.gU()!=0;
h();var X=new k6(_.E.c,!0),w=b3.iE("3UMe\\ORYBB@EVG9* 08{\"\",-;#a|gfbeVvg^QT[<7AO?/437#:xx%.zv%vgaxh\\WU^fWJB@W6@3K<;30,,+3`uy{sqc\\7"),N=b3.iE(";QJXQ_*II9"),s=function(){X.data={R:_.m.Oe,rS:"account"};
this.a(X)}.bind(this);if(K){w=b3.iE("0^Ne\\ORYLG:<2G&0>||5t{{lqhr<yG\\`bZXJC^SHK?4L868@#3!(&.tn%guakob^RiKME]O@>ENePEr,\"z*x<-\"hxdfzgjdnMMYn_LLVGF>;776>1,5*x!q&d lh\\!eWXMdR@UF;ADL9-CDNOC4r|o(lgs{m^eURiTSORCKTA5K75B!!-738}|lwt}<[XadZ]eDT\\N?9PB:8MO");
s=function(){};N=null}X.data={R:_.m.Oe,rS:b3.wC,Y:w,Oa:s,aaf:N};if(Math.random()<.1||K)this.a(X)};iv.prototype.wK=function(F,r){if(r.$I!=null)this.pr.o(r.$I);
this.xB=F;var $=this.xB.name,C=$.lastIndexOf("."),$=C==-1?$:$.slice(0,C);this.Se.o($);var M=F.r,l=F.$;
if(gw==1){var k=F.qx();M=k.r;l=k.$}var d=M+","+l;if(d!=this.a3W){this.a3W=d;this.WD.o(new hx(M,l),F.YV)}this.$F.am5();
if(r.asL){this.WD.cm(3);this.$F.vc.PDF[3].L1.o(!0)}this.R0(null,!0,r.asL)};iv.prototype.akP=function(F,r){return F<r&&F<660};
iv.prototype.kX=function(F,r){return this.akP(F,r)?new hx(0,0):new hx(Math.max(0,Math.min(150,(F-770)/2)),Math.max(0,Math.min(150,(r-590)/2)))};
iv.prototype.Xt=function(F,r,$){this.a0=F;this.Y9=r;if(this.xB==null)return;var C=this.vD._,M=this.akP(F,r),l,k,U="<span style=\"width:",S="display:inline-block; text-align:right;\">";
if(M){var d=this.wS.getBoundingClientRect().height;l=F;k=r-Math.max(d,252);y.cD(this.body,"flexrow")}else{l=Math.min(512,F-195-2*13);
k=Math.min(512,r-24);y.yY(this.body,"flexrow")}var I=M?F-2*13:195;this.wS.style.width=I+"px";this.Se.qE.style.width=I-77+"px";
this.WD.Xt(I);var c=dN.$m()[this.pr.k()],Q=dN.LD(c);if(Q.FK||Q.RA)y.B(this.V1.firstChild,"display:block; width:"+l+"px; height:"+k+"px;");
else{this.CN.Xt(l,k);this.bl.width=l;this.bl.height=k}if(this.kV==null)return;var x=this.kV.byteLength,z=U+64+"px;"+S+iv.$A(x)+"</span>";
if(l>400)z+=U+90+"px; opacity:"+.5+";"+S+x.toLocaleString()+" B</span>";this.KK.innerHTML=z;if($)setTimeout(function(){this.Xt(this.a0,this.Y9)}.bind(this),20)};
iv.$A=function(F){var r=F.toString(2),$=0;while($+10<r.length)$+=10;var C=(F/Math.pow(2,$)).toFixed(1);
if(C.endsWith(".0"))C=C.slice(0,-2);var M="B KB MB GB TB PB".split(" ")[Math.floor($/10)];return C+" "+M};
iv.prototype.Db=function(F,r){this.e=F};iv.prototype.R0=async function(F,r,$){var C=this.xB,M=this.WD.k(),l=M.x,k=M.y,d=this.pr.k(),I=dN.$m()[d],c=dN.aEe(C)[0].length,Q=["GIF","PNG","WEBP","MP4"].indexOf(I)!=-1&&c>1,t="";
if(Q&&I!="MP4"&&r&&(c>4&&l*k>1024*1024||l*k*c>800*800*50)){var x=1;while(Math.max(l>>>x,k>>>x)>800)x++;
var U=window.confirm("Your animation is large ("+l+" x "+k+" px). Press \"OK\" to scale it to "+(100>>>x)+"%. Press \"Cancel\" to keep the size.");
if(U){this.WD.o(new hx(l>>>x,k>>>x),null,!0);l=l>>>x;k=k>>>x}}var S=C.XF();this.$F.IF(I,Q,C.a3.length!=0,C.aAV(),S!=null);
var z=window.locStor.getItem("sfwPrms");if(z==null)z={};else{z=JSON.parse(z);if(z.MP4&&z.MP4[0]==100)z.MP4[0]=50;
if(z.PDF&&$)z.PDF[3]=!0}var V=this.$F.k();if(F&&F.target==this.$F){z[I]=V;window.locStor.setItem("sfwPrms",JSON.stringify(z))}else if(z[I]){this.$F.o(z[I],!0);
V=this.$F.k()}this.kV=await dN.Ja(C,I,l,k,V,this.e);if(this.kV==null){this.xB=null;return}y.RR(this.V1);
this.CN.jS();var Y=dN.LD(I);if(Y.RA){this.V1.innerHTML="<div></div>"}else if(Y.FK){var i=l,J=k,H;if(I=="PDF"||I=="AI"){H=URL.createObjectURL(new Blob([this.kV],{type:"application/pdf"}))}else{H=URL.createObjectURL(new Blob([this.kV],{type:"image/svg+xml"}))}this.V1.innerHTML="<iframe src=\""+H+"\"></iframe>"}else if(I=="MP4"){var H=URL.createObjectURL(new Blob([this.kV]));
this.bl.setAttribute("src",H);this.V1.appendChild(this.bl)}else{var v=this.asz=Y.mQ?await dN.a2i(Y,this.kV):Y.YH(this.kV),n=v[0],G=n.$Y,i=G.r,J=G.$;
if(n.z$){var g=ICC.R(n.z$.buffer),W=17,L=ICC.U.sampleLUT(g,W);for(var O=0;O<v.length;O++){var b=new Uint8Array(v[O].data);
ICC.U.applyLUT(L,W,b,b)}}this.CN.o(v,v.length>1?V[V.length-3]:0);this.V1.appendChild(this.CN._);t="background: rgba(0,0,0,0);"}y.B(this.V1,"display:block; "+(Y.RA?"background:rgba(0,0,0,0);":"background-size:"+16/y.ha()+"px;")+t);
this.Xt(this.a0,this.Y9,r)};function b5(){fe.call(this,[11,13],"shortcuts");this.e=null;var F=this.Qx=y.i("div","scrollable");
y.B(F,"min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(F);this.Jk()}b5.prototype=new fe;
b5.prototype.l=function(){fe.prototype.l.call(this);this.Jk()};b5.prototype.Db=function(F,r){this.e=F};
b5.prototype.wK=function(F,r,$,C){if(y.D4(this._))this.Jk()};b5.prototype.Jk=function(){var F="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",r="",$=ac,C=$.Xf,M=$.il,l=$.AH;
r+="<h2 style=\"margin-top:0;\">Main Menu</h2>";r+=F;r+=this.Xb([[0,0],"---",[1,0],[C,$.tT],[1,2],[C,$.vi],[1,3],[M,C,$.vi],[1,8],[l,M,C,$.vi],[0,1],"---",[2,0],[M,C,$.zq],[2,1],[C,$.zq],[5,0],[C,$.sa],[5,1],[C,$.gZ],[5,2],[C,$.JC],[2,2],"Delete",[2,3],[l,$.Qh],[10,16],[l,C,$.FM],[12,79],[C,$.pT],[3],"---",[4,1],[C,$.tr],[4,2],[C,$.b7],[4,5],[C,$.eX],[4,11],[C,$.Ey],[0,3],"---",[6,13],[M,C,$.ls],[6,49,0],[C,$.Lt],[6,6,0],[l,C,$.HO],[6,9],[C,$.HO],[6,10],[C,$.E],[0,5],"---",[7,0],[C,$.m],[7,1],[C,$.m8],[7,2],[M,C,$.Ey],[0,7],"---",[8,0],[C,$.Ur],[8,1],[C,$.Qb],[8,3],[C,$.sy],[8,2],[C,$.Nz],[8,4],[C,$.OU],[11,13],"?"]);
r+="</div>";r+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";r+=F;r+=this.Xb(["Vertical scroll","Wheel","Horizontal scroll",[C,"Wheel"],"Zooming",[l,"Wheel"]]);
r+="</div>";r+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
r+=F;r+=this.Xb([[10,11],[C],[10,7],"Space",[10,17],[C,$.iL]]);r+="</div>";r+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
r+=F;var k=[],d=this.e;if(d==null)return;var I=d.W;for(var O=0;O<I.TO.length;O++){var c=I.TO[O],Q=I.keys[O];
for(var x=0;x<c.length;x++)k.push(c[x].J.name,Q?Q.Nm:null)}k=k.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[C,$.EO]]);
r+=this.Xb(k);r+="</div>";this.Qx.innerHTML=r};b5.prototype.Xb=function(F){var r="",$=!0;for(var O=0;
O<F.length;O+=2){var C=F[O],M=ac.Jc(F[O+1]);if(M==null){$=!1;continue}var l=y.im(dG.get(C));if(M=="---"){if(!$)r+="<br/>";
r+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+l+"</div>"}else r+="<div>"+l+" <span style=\"float:right; font-weight:bold;\">"+M+"</span> </div>";
$=!1}return r};function bu(F){fe.call(this,F?"Artboard Options":[8,11,1],(F?"a":"s")+"options");this.W2=null;
this.adJ=F;var r=y.i("div","form");r.style.width="20em";this.body.appendChild(r);this.YS={Nm:[12,48],url:"URL",null:[12,71]};
this.bP={};for(var $ in this.YS){if(F&&$!="Nm")continue;var C=new gs(this.YS[$],null,15);this.bP[$]=C;
r.appendChild(C._)}this.a52=new eu([12,14,0]);r.appendChild(this.a52._);this.fH=new gN(0,!0);r.appendChild(this.fH._);
this.UP=y.AX(this,r)}bu.prototype=new fe;bu.prototype.wK=function(F,r,$){var C=r.Y;this.W2=JSON.stringify(C);
console.log(C);if(C.sc){this.bP.Nm.o(C.du);var M=C.sc,l=M[0],k=M[1];this.fH.o([l,k,M[2]-l,M[3]-k])}else{for(var d in this.YS){this.bP[d].o(C[d]?C[d].v:"")}var I=C.bounds.v,l=I.Left.v,k=I.Top.v;
this.fH.o([l,k,I.Rght.v-l,I.Btom.v-k])}};bu.prototype.N1=function(F){var r=JSON.parse(this.W2),$=new k6(_.E.O,!0),C=this.fH.k(),M=C[0],l=C[1];
console.log(C);if(this.adJ){r.du=this.bP.Nm.k();r.sc=[M,l,M+C[2],l+C[3]];$.J=B.op;$.data={R:"rpl",Y:r}}else{for(var k in this.YS){var d=this.bP[k].k();
r[k]={t:"TEXT",v:d}}var I=r.bounds.v;I.Left.v=M;I.Top.v=l;I.Rght.v=M+C[2];I.Btom.v=l+C[3];$.J=B.Rd;$.data=r}$.vs=!0;
this.a($);this.close()};bu.prototype.l=function(){fe.prototype.l.call(this);this.UP.l();this.a52.l();
this.fH.l()};function km(){fe.call(this,[2,3],"fill");this.oo=null;var F=y.i("div","form padded");F.style.width="22em";
this.body.appendChild(F);this.vH="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.ra=new bc([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],[3,3,2]);
this.ra.Q(_.E.V,this.acQ,this);F.appendChild(this.ra._);this.V1=y.i("span");F.appendChild(this.V1);this.$V=new a$;
this.$V.parent=this;this.$V.ZJ(0);this.fQ=new a0;this.fQ.parent=this;this.a8H=new bc([12,19,0],dL.X_,dL.rn);
F.appendChild(this.a8H._);this.LZ=new aS([12,0],0,100,"%",0,!1);this.LZ.o(100);F.appendChild(this.LZ._);
this.ld=new jm([13,5]);this.ld.o(!1);F.appendChild(this.ld._);this.UP=y.AX(this,this.body)}km.prototype=new fe;
km.prototype.R3=function(F,r){return F!=null};km.prototype.fV=function(){return!0};km.prototype.acQ=function(){var F=this.ra.k(),r=this.$V._,$=this.fQ._,C=this.V1;
if(F==2)C.appendChild(r);else if(C.contains(r))C.removeChild(r);if(F==7)C.appendChild($);else if(C.contains($))C.removeChild($)};
km.prototype.l=function(){fe.prototype.l.call(this);this.ra.l();this.a8H.l();this.LZ.l();this.ld.l();
this.UP.l()};km.prototype.N1=function(F){if(!this.oo.DI())return;var r=new k6(_.E.wG,!0),$=this.ra.k();
r.data=B.k7.w8(this.vH[$],dL.NH[this.a8H.k()],this.LZ.k()/100,this.$V.k(),this.ld.k(),this.fQ.k());this.close();
this.a(r)};km.prototype.wK=function(F,r){this.oo=F};km.prototype.Db=function(F,r){if(r==d3.BN||r==d3.ve){this.fQ.ZK(F.We);
this.fQ.o({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"b4d43394-d71c-11e5-b1ae-a548a96e5f9f",t:"TEXT"}})}};
function iG(){fe.call(this,[14,9],"stroke");this.e=null;this.wS=y.i("div","form");y.B(this.wS,"width:24em");
this.body.appendChild(this.wS);this.hB=new gO("FrFX",!0);this.hB.parent=this;var F=["Sz","Styl","Md","Opct"].concat(cK.oz);
for(var O=0;O<F.length;O++){var r=this.hB.$c[F[O]]._;this.wS.appendChild(r)}this.ct=!1;this.UP=y.AX(this,this.body)}iG.prototype=new fe;
iG.prototype.R3=function(F,r){return F!=null};iG.prototype.fV=function(){return!0};iG.prototype.l=function(){fe.prototype.l.call(this);
this.UP.l();this.hB.l()};iG.prototype.N1=function(F){var r=this.hB.k(),$={classID:"Strk"};$.Md=r.Md;
$.Opct=r.Opct;$.Clr=r.Clr;$.Wdth={t:"long",v:r.Sz.v.val};var C=cK.stroke.types.indexOf(r.Styl.v.FStl);
$.Lctn={t:"enum",v:{StrL:["Insd","Cntr","Otsd"][C]}};var M=new k6(_.E.wG,!0);M.data={hE:"stroke",iH:$};
this.close();this.a(M)};iG.prototype.wK=function(F,r){if(!this.ct){var $=cK.sH[cK.order.indexOf("FrFX")];
$=JSON.parse($);this.hB.update(F,$);this.ct=!0}var $=this.hB.k(),C=this.e.y1;$.Clr.v=j.qS.NG({t:C>>16&255,L:C>>8&255,X:C&255});
this.hB.update(F,$)};iG.prototype.Db=function(F,r){this.e=F};function e0(){fe.call(this,[11,9],"textwarp");
this.bP=new jj;this.bP.Q(_.E.V,this.yE,this);this.bP.parent=this;this.wS=y.i("div","form");y.B(this.wS,"width:20em");
this.body.appendChild(this.wS);this.wS.appendChild(this.bP.UQ._);this.wS.appendChild(this.bP.Ls._);this.wS.appendChild(this.bP.hf._);
this.wS.appendChild(this.bP.G8._);this.wS.appendChild(this.bP.RG._);this.UP=y.AX(this,this.wS);this.Q("closebtn",this.pN,this)}e0.prototype=new fe;
e0.prototype.fV=function(){return!0};e0.prototype.l=function(){fe.prototype.l.call(this);this.UP.l();
this.bP.l()};e0.prototype.yE=function(F){var r=this.bP.k();this.Sj({R:"warp",gd:r})};e0.prototype.Sj=function(F){var r=new k6(_.E.O,!0);
r.J=B.Q_;r.data=F;r.vs=!0;this.a(r)};e0.prototype.pN=function(F){this.Sj({R:"warpCancel"})};e0.prototype.N1=function(F){this.Sj({R:"warpConfirm"});
this.close()};e0.prototype.wK=function(F,r){var $=F.u[F.K[0]];this.bP.o($.add.TySh.xD)};function kB(){fe.call(this,[11,12,0],"trim");
var F=this.wS=y.i("div","form");y.B(this.wS,"width:22em");this.body.appendChild(this.wS);var r=new eu("Color To Trim:");
F.appendChild(r._);this.xC=new i9(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.xC.o([!0]);this.wS.appendChild(this.xC._);var r=new eu("Sides:");F.appendChild(r._);this.MW=new i9(null,["Top","Left","Bottom","Right"]);
this.MW.o([!0,!0,!0,!0]);this.wS.appendChild(this.MW._);this.UP=y.AX(this,this.body)}kB.prototype=new fe;
kB.prototype.R3=function(F,r){return F!=null};kB.prototype.fV=function(){return!0};kB.prototype.l=function(){fe.prototype.l.call(this);
this.xC.l();this.MW.l();this.UP.l()};kB.prototype.N1=function(F){var r=this.xC.k().indexOf(!0),$=this.MW.k(),C=new k6(_.E.wG,!0);
C.data=B.i0.bY(r,$);this.close();this.a(C)};function gB(){fe.call(this,"Raw Photopea","rawpea");this.rO=null;
this.body.style.padding="0";var F=this.zK=new cW["Adobe Camera Raw Filter"](!0),r="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.body.appendChild(F._);this.Ip=new bc("Space",kQ.Co);this.ue=new bc(null,["8 bit","16 bit","32 bit"]);
this.ayi=new jC([1,0],!0,null,!0);this.ayi.Q("click",this.N1,this);this.yi=new jC(r+" JPG",!0,null,!0);
this.yi.Q("click",this.asD,this);F.l4(this.Ip._);F.l4(this.ue._);F.l4(this.ayi._);F.l4(this.yi._)}gB.prototype=new fe;
gB.prototype.kX=function(){return new hx(0,0)};gB.prototype.Xt=function(F,r){this.zK.Xt(F,r)};gB.prototype.Db=function(F,r){this.zK.Db(F,r)};
gB.prototype.l=function(){fe.prototype.l.call(this);this.zK.l()};gB.prototype.asD=function(F){var r=this.zK.a4W(0,8),$=r[1],C=dN.LD("JPG").x2([[r[0].buffer]],$.r,$.$,[85]),M=new k6(_.E.c,!0);
M.data={R:_.m.qM,data:C,name:"photo.jpg"};this.a(M)};gB.prototype.N1=function(F){var r=this.rO,$=8<<this.ue.k(),C=this.Ip.k(),M=hf.LL(r),l=this.zK.a4W(C,$),k=l[1],r={$Y:k,data:l[0].buffer,wM:M,depth:$},d=dN.FS("Raw Photo",[r]);
if(C!=0)d.u4(dN.Sd.get(kQ.lG[C]));var I=new k6(_.E.c,!0);I.data={R:_.m.K2,xB:d};this.a(I);this.WN();
this.close()};gB.prototype.WN=function(){this.rO=null;this.zK.a4J()};gB.prototype.wK=function(F,r,$,C){this.rO=r.gf;
this.zK.ayZ(r.gf)};gB.prototype.fI=function(F){return!0};gB.prototype.JG=function(F,r,$,C){fe.prototype.JG.call(this,F,r,$,C);
this.zK.JG(C)};function c0(F){fe.call(this,F?[11,11,0]:[11,11,1],F?"vbitmap":"rcolors");this.Vh=null;
this.vK=null;this.a6r=null;this.xy=null;this.cd=null;this.aJg=null;this.xB=null;this.e=null;this.FE="";
this.jY=F;this.YT=this.nA.bind(this);this.aDN=!1;this.body.style.padding="0";this.wS=y.i("div","form hbar padded");
this.body.appendChild(this.wS);this.Ty=new i9(null,["Fill","Stroke","Labels"]);this.Ty.Q(_.E.V,this.nA,this);
var r=y.i("span","rangecontFloat form padded"),I=16;r.appendChild(this.Ty._);y.B(r,"position:absolute; width:120px; z-index:2;  padding-right:0px; ");
var $=new au;$._=r;var C=this.RC={cnum:new eT([12,82],2,50,null),nois:new jm([12,81]),mode:new bc(null,["Cartoon","Photo"]),segm:new jm("Segmentize"),cbok:new jm("Coloring book"),poly:new jm("Polygon"),merg:new jm("Merge colors"),polE:new eT("Roughness",2,30,null),dthr:new jm([12,23,3]),vprm:new jC("\u2026",!1,null,!0),ok:y.AX(this,null,!1)},M=this;
for(var l in C){var k=C[l];k.parent=this;if(l=="ok"){}else if(l=="vprm"){k.Q("click",function(Q){var x=C.vprm._.getBoundingClientRect(),U=new k6(_.E.c,!0);
U.data={R:_.m.$a,g$:$,x:x.left,y:x.top+20};M.a(U)})}else k.Q(_.E.V,this.nA,this)}var d=this.cT=y.i("div","flexrow");
this.body.appendChild(d);y.B(d,"background-color:var(--bg-canvas)");this._M=new aM;this._M.Q("viewchange",this.UM,this);
this.eV=new aM;this.Ee=y.i("canvas");y.B(this.Ee,"margin:0 0 0 1px; padding:0; cursor:grab;");this.Tg=this.Ee.getContext("2d");
var c=j.j(16*16*4);j.HG(c,I,I,8);this.CR=j.scale.Ui(c,I,I);this._M.aIA(this.Ee);this._M.NL(this.eV);
this.eV.NL(this._M);d.appendChild(this._M._);if(F)d.appendChild(this.Ee);else d.appendChild(this.eV._)}c0.prototype=new fe;
c0.prototype.kX=function(){return new hx(0,0)};c0.prototype.fV=function(){return!0};c0.prototype.Xt=function(F,r){this.a0=F;
this.Y9=r;r=r-44;if(F<600)r-=29;if(this.Vh==null)return;var $=this.Vh.$Y,C=k4.K6(F,r,$.r,$.$);if(C==1)r-=3;
if(C==0){F=Math.floor(F/2);y.yY(this.cT,"flexrow")}else{r=Math.floor(r/2);y.cD(this.cT,"flexrow")}y.jd(this.Ee,F,r);
this._M.Xt(F,r);if(this.jY)this.UM();else this.eV.Xt(F,r)};c0.prototype.JG=function(F,r,$,C){this._M.JG(C)};
c0.prototype.l=function(){fe.prototype.l.call(this);for(var F in this.RC)this.RC[F].l()};c0.prototype.wK=function(F,r){this.xB=F;
this.cd=null;var $=F.u[F.K[0]],C=j.mG.a2N($.buffer.buffer,$.S.r,$.S.$).a8g,M=C/(($.S.r-2)*($.S.$-2)),l=this.RC;
l.cnum.o(20);l.nois.o(M<.75);l.mode.o(M<.75?1:0);l.segm.o(!1);l.cbok.o(!1);l.poly.o(!1);l.merg.o(!0);
l.polE.o(1);l.dthr.o(!1);var k=$.S.P();k.x=k.y=0;this.Vh={$Y:k,data:$.buffer.buffer.slice(0)};this.vK=null;
this.Xt(this.a0,this.Y9);this._M.o([this.Vh]);this._M.eH();this.aDN=!0;this.Ty.o([!0,!1,!1]);setTimeout(this.YT,20)};
c0.prototype.nA=function(){var F=!0,r=Date.now(),$=this.Vh,C=this.RC,M=C.cnum.k(),l=C.nois.k(),k=C.mode.k(),d=C.segm.k(),I=C.cbok.k(),c=C.poly.k(),Q=C.merg.k(),x=C.polE.k(),L=null;
if(k==0)d=c=I=!1;var U=C.dthr.k(),S=["cnum","nois","mode"];if(k==1){S.push("cbok");if(this.jY){S.push("poly");
if(c)S.push("polE");S.push("vprm")}}if(this.jY)S.push("merg");else S.push("dthr");S.push("ok");y.RR(this.wS);
for(var O=0;O<S.length;O++)this.wS.appendChild(C[S[O]]._);if(F)console.log("---------------------------------------");
var z=l||d,V=l+","+d;if(z&&(this.vK==null||this.FE!=V)){this.FE=V;var t=new Uint8Array($.data),Y=$.$Y.r,i=$.$Y.$;
if(l){if(this.cd==null){this.cd=t.slice(0);j._L.wD=35;j._L.Ix(this.cd,this.cd,Y,i,15,1);if(F){console.log("denoise",Date.now()-r);
r=Date.now()}}t=this.cd.slice(0)}else t=t.slice(0);if(d){var J=j.mG.kU(t,Y,i,40,10),H=J.pT,v=new Uint8Array(H*4);
for(var O=0;O<H;O++){var n=O*4,G=O*6,g=1/J.UB[G+5];v[n]=J.UB[G]*g;v[n+1]=J.UB[G+1]*g;v[n+2]=J.UB[G+2]*g}for(var O=0;
O<t.length;O+=4){var W=J.qG[O>>>2]*4;t[O]=v[W];t[O+1]=v[W+1];t[O+2]=v[W+2]}if(F){console.log("segm",Date.now()-r);
r=Date.now()}}this.vK={$Y:$.$Y.P(),data:t.buffer}}if(z)$=this.vK;var t=new Uint8Array($.data),Y=$.$Y.r,i=$.$Y.$;
for(var O=0;O<t.length;O+=4){if(t[O+3]<10)t[O]=t[O+1]=t[O+2]=t[O+3]=0}if(k==0){L=j.mG.a0u(t,Y,i,M,z?.1:2e-4);
if(F){console.log("quantize",Date.now()-r);r=Date.now()}}if(k!=0||L&&L.va.length<2){L=dD.ajL(t.buffer,M,Y,i,null,I)}if(this.jY){var b=L.qG.slice(0);
for(var O=0;O<b.length;O++)b[O]++;this.rj=j.mG.aHb(L.qG,Y,i);var T=new Uint8Array((Y+2)*(i+2));j.wU(b,new cS(1,1,Y,i),T,new cS(0,0,Y+2,i+2));
if(!c){var a=Math.round((Y+2)*(i+2)/1e4),R=eA.yJ(T.slice(0),Y+2,i+2,Math.min(12,a)),D=eA.Ug(R);if(F){console.log("trace smooth",Date.now()-r);
r=Date.now()}}else{var D=j.b.r1(T,Y+2,i+2,x,F)}var h=D.length,K=new hS(1,0,0,1,-1,-1);for(var O=0;O<h;
O++)j.b.U(D[O].path.n,K,D[O].path.n);this.xy=D;this.a6r=L;for(var O=0;O<h;O++){var X=D[O];if(L.va[X.color-1].est.q[3]>.05)continue;
var w=X.parent;while(w!=-1){var N=D[w];w=N.parent;if(L.va[N.color-1].est.q[3]<.05)break;j.b.concat(N.path,j.b.reverse(X.path))}}if(F){console.log("finding holes",Date.now()-r);
r=Date.now()}for(var O=0;O<D.length;O++){var s=D[O];if(s.parent!=-1){var A=D[s.parent];s.parent=A;if(A.iS==null)A.iS=[];
A.iS.push(s)}s.depth=s.parent==-1?0:s.parent.depth+1}if(Q){function p(i0,e){var f7={},am=0,gf=0;for(var O=0;
O<i0.length;O++){var E=i0[O].color,cC="c"+E;if(E==e)throw E;if(f7[cC]==null)f7[cC]=0;f7[cC]++;if(f7[cC]>am){am=f7[cC];
gf=E}}return gf}var q=[],f=[],e=-1,o=!0;for(var O=0;O<D.length;O++)if(D[O].parent==-1)f.push(D[O]);while(f.length!=0){var E=p(f,e);
e=E;for(var O=0;O<f.length;O++)if(f[O].color==E){var cj=f[O];q.push(cj);f.splice(O,1);O--;if(cj.iS)for(var u=0;
u<cj.iS.length;u++){f.push(cj.iS[u]);if(cj.iS[u].color!=E)o=!1}}}if(o)D=q;else{var cd=[];for(var m=0;
m<500;m++){var aZ=[],R=cd[m-1];cd.push(aZ);for(var O=0;O<D.length;O++){var s=D[O],A=s.parent;if(m==0&&A==-1||m!=0&&R.indexOf(A)!=-1){aZ.push(s);
D.splice(O,1);O--}}aZ.sort(function(i0,f7){return i0.color-f7.color});if(D.length==0)break}for(var O=0;
O<cd.length;O++)D=D.concat(cd[O])}}else{var q=[],jN=[];while(D.length!=0){jN.push(D.shift());while(jN.length!=0){var eh=jN.pop();
q.push(eh);if(eh.iS)for(var O=0;O<eh.iS.length;O++){var s=eh.iS[O];D.splice(D.indexOf(s),1);jN.push(s)}}}D=q}this.xy=D;
for(var O=0;O<D.length;O++){var X=D[O],iA=L.va[X.color-1].est.q;if(iA[3]<=.05){D.splice(O,1);O--;continue}}for(var O=1;
O<D.length;O++){var hd=D[O-1],X=D[O];if(hd.color==X.color&&(Q||hd.parent==X.parent&&hd.depth>=2)){j.b.concat(hd.path,X.path);
D.splice(O,1);O--;continue}}if(F){console.log("reordering layers",Date.now()-r,h,D.length);r=Date.now()}this.UM()}else{var kx=new Uint32Array(Y*i),b0=Y*i,gX=this.aJg=new Uint8Array(kx.buffer);
if(U){var j$=[];for(var O=0;O<L.va.length;O++)j$.push(L.va[O].est.rgba);var W=j.j(Y*i);UPNG.encode.dither(new Uint8Array($.data),Y,i,j$,gX,W)}else{for(var O=0;
O<b0;O++){var E=L.va[L.qG[O]];kx[O]=E.est.rgba}}this.eV.o([{$Y:$.$Y,data:kx.buffer}]);if(this.aDN){this.eV.eH();
this.aDN=!1}}};c0.prototype.UM=function(F){if(this.xy==null)return;var r=this.Ty.k(),$=this.Vh.$Y.r,C=this.Vh.$Y.$,M=this.xy,l=this.a6r.va,k=this.Ee,d=this.Tg,I=this._M.CF(),Q="rgba(0,0,0,0.3)";
d.setTransform(1,0,0,1,0,0);d.clearRect(0,0,k.width,k.height);d.translate(k.width/2,k.height/2);d.scale(I.bU,I.bU);
d.translate(I.p.x/I.bU-$/2,I.p.y/I.bU-C/2);d.scale(1/I.bU,1/I.bU);d.fillStyle=this.CR;d.fillRect(0,0,$*I.bU,C*I.bU);
d.scale(I.bU,I.bU);d.lineWidth=($+C)*5e-4;var c=this.wm();d.strokeStyle=Q;for(var x=0;x<2;x++){if(!r[x])continue;
for(var O=0;O<M.length;O++){var U=M[O],S=c[U.color-1];if(S.xz==0)continue;d.fillStyle=S.Lf;d.beginPath();
Typr.U.pathToContext({crds:U.path.n,cmds:U.path.C0},d);if(x==0)d.fill();else d.stroke()}}if(r[2])this.awm(d,$,C)};
c0.prototype.wm=function(){var F=this.a6r.va,r=[];for(var O=0;O<F.length;O++){var $=F[O].est.q,C={t:Math.round(255*$[0]),L:Math.round(255*$[1]),X:Math.round(255*$[2]),xz:Math.round(255*$[3])};
C.Lf="rgba("+C.t+","+C.L+","+C.X+","+C.xz/255+")";r.push(C)}return r};c0.prototype.awm=function(F,r,$){var C=this.wm(),M=this.av1(r,$,C);
function l(c,Q,x,U){F.font=U+"px sans-serif";c++;var S=F.measureText(c);F.fillText(c,Q-S.width/2,x+U*.25)}F.fillStyle="rgba(0,0,0,0.5)";
var k=this.rj;for(var O=0;O<k.length;O++){var d=k[O];if(d[3]<r*$*5e-4)continue;l(d[2],d[0],d[1],(r+$)*.008)}F.fillStyle="rgba(255,255,255,1)";
F.fillRect(0,0,M,M*C.length);for(var O=0;O<C.length;O++){var I=C[O];F.fillStyle=I.Lf;F.fillRect(M,M*O,M,M);
F.fillStyle="black";l(O,M*.5,M*(O+.5),M*.65)}};c0.prototype.av1=function(F,r,$){var C=$.length*(F+r)/70;
return Math.min(r,C)/$.length};c0.prototype.N1=function(F){var r=this.xB,$=r.K[0],C=r.u[$],M=new k6(_.E.O,!0);
M.vs=!0;M.J=B.pO;var l=this.e.v7,k=this;if(this.jY){var d=this.wm(),Q=0,U=!1;function I(Y,V){var t=r.at();
t.gk=V.xz;t.U4|=16;t.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG(V)}};t.add.vmsk=new Z.kf;t.add.vstk=cK.Ok.Mv(!0);
t.add.vmsk.M=Y;t.ud();t.uH(r);return t}var c=this.Ty.k();for(var O=0;O<3;O++)if(c[O])Q++;if(Q==0){alert("Enable Fill, Stroke or Labels");
return}var x=this.xy;if(Q==1&&c[0]&&x.length==1)U=!0;var S=r.u.slice(0,$);if(!U)S.push(r.fm());if(c[0])for(var O=0;
O<x.length;O++){var z=x[O],V=d[z.color-1];j.b.U(z.path.n,new hS(1,0,0,1,C.S.x,C.S.y),z.path.n);var t=I(j.b.RJ(z.path,!1),V);
t.Da("Path "+O);S.push(t)}if(c[1]){var t=r.at();t.Da("Stroke");S.push(t);t.gk=128;t.U4|=16;t.add.SoCo={classID:"null",Clr:{t:"Objc",v:j.qS.NG({t:0,L:0,X:0})}};
t.add.vmsk=new Z.kf;t.add.vstk=cK.Ok.Mv(!1,!0);var Y=[];for(var O=0;O<x.length;O++){var z=x[O],i=j.b.RJ(z.path,!1);
if(O==0)Y=i;else Y=Y.concat(i.slice(2))}t.add.vmsk.M=Y;t.ud();t.uH(r)}if(c[2]){var J=this.Vh.$Y,H=J.r,v=J.$,n=this.av1(H,v,d);
S.push(r.fm());function G(a,R,D,h){a=1+a+"";var t=r.at();S.push(t);t.gk=h;t.add.lnsr="rend";var K=t.add.TySh=ho.DB(R-n*.2,D+n*.25),X=t.add.TySh.$E,w=ho.RT(X,0,0);
w.Uz.FontSize=Math.round(n*.6);ho.WE(X,0,0,w);ho.uy(X,0,a);t.mf();if(dJ._H(K,l,k)){dJ.Bi(t,l,r);r.vM()}}var g=this.rj;
for(var O=0;O<g.length;O++){var W=g[O];if(W[3]<H*v*5e-4)continue;G(W[2],W[0],W[1],128)}var t=I(j.w.tQ.Rect(0,0,n,n*d.length),{t:255,L:255,X:255,xz:255});
t.Da("white");S.push(t);for(var O=0;O<d.length;O++){var V=d[O],t=I(j.w.tQ.Rect(n,n*O,n,n),V);t.Da("color");
S.push(t);G(O,n/2,n*(O+.5),255)}var t=r.at();t.Da("Labels");t.add.lsct=jR.Xz;t.ww="pass";t.U4=24;S.push(t)}var L=S[S.length-1];
if(!U){var t=r.at();t.Da(C.getName());t.add.lsct=jR.ul;t.ww="pass";t.U4=24;S.push(t);L=t}var b=C.add.lmfx;
if(b)L.add.lmfx=j.N(b);var T=S.length;for(var O=$+1;O<r.u.length;O++)S.push(r.u[O]);M.data={R:Z.IJ,D2:S,xP:[T-1],qc:[11,11,0]}}else{var S=r.u.slice(0),t=r.at();
t.Da(C.getName());S.splice(r.K[0]+1,0,t);t.S=C.S.P();t.buffer=this.aJg;t.vM();M.data={R:Z.IJ,D2:S,xP:[r.K[0]+1],qc:[11,11,1]}}this.a(M);
this.close();r.Zp=!0};c0.prototype.Db=function(F,r){this.e=F};function k4(F){fe.call(this,[[7,11],[7,13]][F],["redge","magiccut"][F]);
this.xC=F;this.Vh={};this.O8=null;this.e=null;this.xB=null;this.Oi=null;this.MC=null;this.body.style.padding="0";
this.yS=[];this.Qz=-1;this.wS=y.i("div","form hbar padded");this.body.appendChild(this.wS);this.vw=new gt;
this.vw.parent=this;this.vw.Q(_.E.V,this.Sx,this);this.wS.appendChild(this.vw._);var r=F==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
r=r.concat("tools/hand","zoomIn","zoomOut");var $=F==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.KJ=new iu(null,r,$,28);this.KJ.Q(_.E.V,this.JG,this);this.wS.appendChild(this.KJ._);this.rG=new eT([7,9],0,50,null);
this.rG.parent=this;this.rG.Q(_.E.V,[this.axD,this.nA][F],this);this.wS.appendChild(this.rG._);var C=this.awp=new jC([2,2],!1,null,!0);
C.Q("click",this.WN,this);this.wS.appendChild(C._);var M=this.rb=y.i("span","form");this.wS.appendChild(M);
var l=this.aIi=new jC([12,90],!1,null,!0);l.Q("click",function(I){alert(F==0?dG.get([15,7,1]):"Mark the object with Green, background with Red. The majority of the area should stay unpainted. Two colors should never touch.",5e3)},this);
M.appendChild(l._);var k=new jC("Tutorial",!1,null,!0);k.Q("click",this.aJ4,this);M.appendChild(k._);
this.dt=new iu([12,46],["checker","#ffffff","#000000"]);this.dt.Q(_.E.V,this.al4,this);M.appendChild(this.dt._);
this.aHD=new bc(null,[[6,13],[6,2],[17,2]]);M.appendChild(this.aHD._);this.UP=y.AX(this,M,!1);var d=this.cT=y.i("div","flexrow");
this.body.appendChild(d);this.mT=new aM(!0);this.FN=new aM;this.mT.NL(this.FN);this.FN.NL(this.mT);this.mT.Q("mousedown",this.Pg,this);
this.mT.Q("mousemove",this.gB,this);this.mT.Q("mouseup",this.$n,this);this.mT.Q("zoom",this.Sx,this);
this.FN.Q("zoom",this.Sx,this);d.appendChild(this.mT._);d.appendChild(this.FN._)}k4.prototype=new fe;
k4.prototype.R3=function(F,r){var $=F!=null&&!F.u[F.K[0]].S.XS();if(!$)alert("The layer is empty.");
return $};k4.prototype.kX=function(){return new hx(0,0)};k4.prototype.fV=function(){return!0};k4.prototype.Xt=function(F,r){this.a0=F;
this.Y9=r;r=r-12-33;if(F<900){y.B(this.rb,"display:block;  text-align:right;");r-=29}else{y.B(this.rb,"position:absolute;  right:0px")}this.dt.Ck(F<440?null:[12,46]);
this.rG.Ck(F<470?null:[7,9]);var $=this.Vh.S;if($){var C=k4.K6(F,r,$.r,$.$);if(C==0){F=Math.floor(F/2);
y.yY(this.cT,"flexrow")}else{r=Math.floor(r/2);y.cD(this.cT,"flexrow")}this.mT.Xt(F,r);this.FN.Xt(F,r)}};
k4.K6=function(F,r,$,C){var M=F/2,l=r/2,k=Math.min(M/$,r/C),d=Math.min(F/$,l/C);return k>d?0:1};k4.prototype.l=function(){fe.prototype.l.call(this);
this.vw.l();this.rG.l();this.UP.l();this.dt.l();this.aHD.l();this.awp.l();this.aIi.l()};k4.prototype.aJ4=function(F){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.xC],"_blank")};
k4.prototype.Db=function(F,r){this.e=F;if(r==d3.UG||r==d3.BN){this.vw.ZK(F.sO);this.vw.o(g9._r(),F.sO.QY,F.sO.fQ)}};
k4.prototype.JG=function(F,r,$,C){var M=this.KJ.k();if(C==null){this.mT.JG(aM.yb(M-3));return}this.Oi=C;
var l=B.k7.YF(this.vw.k(),C);if(l!=null){this.vw.o(l);this.Sx()}else if(C.D(ac.Xf)&&C.D(ac.zq)){var k=this.yS,d=0;
if(C.D(ac.il)){if(this.Qz+1<k.length)d=1}else if(this.Qz>0)d=-1;if(d!=0){this.Qz+=d;var I=this.Qz,c=this.Vh;
if(d==1)j.mR(k[I][2],k[I][0],c.cV,c.S);else j.mR(k[I+1][1],k[I+1][0],c.cV,c.S);c.zT=c.S;this.nA()}}else if(M<3)this.mT.JG(C)};
k4.prototype.Cd=function(F){var r=this.Vh,$=this.yS,C=j.j(F.C()*4);j.mR(r.Au,r.S,C,F);r.Au=null;var M=j.j(F.C()*4);
j.mR(r.cV,r.S,M,F);this.Qz++;$[this.Qz]=[F.P(),C,M];while($.length>this.Qz+1)$.pop();while($.length>50){$=$.slice(1);
this.Qz--}};k4.prototype.Sx=function(){var F=this.e,r=ap.bD(this.vw.k(),F.sO.QY,this.mT.CF().bU);this.mT.GZ(r)};
k4.prototype.Pg=function(F){var r=this.e,$=this.Vh,C=this.Oi,M=this.vw.k(),l=this.mT.L3(),k=[16777215,8421504,0][this.KJ.k()];
this.O8=new ap(M,r.sO.QY,r.sO.fQ,{gz:1,Fh:!0},k,r.J2,$.S);$.Au=$.cV.slice(0);if(C!=null&&C.D(ac.il)&&this.MC){this.O8.moveTo(this.MC.x,this.MC.y);
this.O8.lineTo(l.x,l.y)}else this.O8.moveTo(l.x,l.y);this.aBA()};k4.prototype.gB=function(F){var r=this.Vh,$=this.mT.L3();
this.O8.lineTo($.x,$.y);this.aBA()};k4.prototype.$n=function(F){this.MC=this.mT.L3();this.Cd(this.O8.Hq());
this.nA()};k4.prototype.aBA=function(){var F=this.Vh,r=this.O8,$=r.Z8();if($.XS())return;F.zT=$;j.v.O5("norm",r.Vr(),r.y2(),F.cV,F.S,$,1);
this.acF()};k4.prototype.WN=function(F){var r=this.Vh;r.Au=r.cV.slice(0);r.zT=r.S;j.A9(r.cV,[4278190080,4292730333][this.xC]);
this.Cd(r.S);this.nA()};k4.prototype.wK=function(F,r){this.xB=F;var $=F.u[F.K[0]],C=$.S.P(),M=C.r,l=C.$,I;
this.rG.o(this.xC==0?3:M*l<3e6?3:0);this.KJ.o(F.d==null?0:1);this.rG.Xg();if(this.xC==0&&F.d!=null||this.xC==1)this.rG.VS();
var k=this.xC,d=j.j(C.C());if(k==0&&F.d){j.wU(F.d.G,F.d.S,d,C);var c=j.j(C.C());for(var Q=0;Q<l;Q++)for(var x=0;
x<M;x++){var O=Q*M+x,U=d[O];if(x>0&&d[O-1]!=U||x<M-1&&d[O+1]!=U||Q>0&&d[O-M]!=U||Q<l-1&&d[O+M]!=U)c[O]=255}I=j.style.jh(c,M,l)}else{I=new Float32Array(C.C());
I.fill(1e9)}C.x=C.y=0;this.Vh={S:C,fU:j.Mz($.buffer,8),lS:d,Fc:I,iX:j.j(C.C()*4),kY:j.j(C.C()*4),cV:j.j(C.C()*4),Au:null,h$:null,zT:C,aze:{}};
if(k==0)this.axD();else{this.Vh.aze=B.Ki.aiz(F);var S=this.Vh.cV;j.A9(S,4287137928);var z=j.ng.getSelection(j.Mz($.buffer,8),M,l),V=Math.round(M/60),t=Math.round(.7*l);
for(var Q=0;Q<l;Q++)for(var x=0;x<M;x++){var Y=(Q*M+x)*4,i=z[Y>>>2];i=i>128?255:128;if(Q<V||Q<t&&(x<V||x>M-1-V))i=0;
S[Y]=S[Y+1]=S[Y+2]=i}this.nA()}this.yS=[1];this.Qz=0;var J=this.vw.k();J.Brsh.v.Dmtr.v.val=Math.round(C.r/(k==0?10:20));
this.vw.o(J);this.Sx();this.Xt(this.a0,this.Y9);this.mT.eH()};k4.prototype.axD=function(){var F=this.Vh,r=F.S.C(),$=this.rG.k(),C=F.lS.slice(0);
for(var O=0;O<r;O++)if(F.Fc[O]<$)C[O]=128;F.cV.fill(255);j.dr(C,F.cV,0);j.dr(C,F.cV,1);j.dr(C,F.cV,2);
F.zT=F.S;this.nA()};k4.prototype.nA=function(){var F=this.Vh,M,d,I=0,c=0,Q=0;this.acF();var r=F.S,$=r.r,C=r.$,l=j.j(r.C()),k=F.fU;
j.Eg(F.cV,l,0);for(var O=0;O<l.length;O++){if(k[(O<<2)+3]!=255)continue;var x=l[O];if(x==0)I++;else if(x==255)c++;
else Q++}if(I*c*Q!=0){if(this.xC==0)d=j.ZU.ZU(r,k,l);else{var U=this.KJ.k();for(var S=1;S<C;S++)for(var z=1;
z<$;z++){var O=S*$+z,V=l[O],t=l[O-1];if(V==0&&t==255||V==255&&t==0){M="The Red and Green should never touch! Erase it with Grey.";
break}}var Y=Date.now(),i=this.Vh.aze;j.Jx(l,i.GL);B.Ki.Vt(i,!0,this.xB);var J=Math.ceil(this.rG.k()/2);
if(J==0){d=k.slice(0);j.dr(i.d,d,3)}else{var H=i.d.slice(0),v=i.d.slice(0);for(var n=0;n<J;n++){for(var S=1;
S<C-1;S++)for(var z=1;z<$-1;z++){var O=S*r.r+z,G=H[O];if(H[O-$]!=G||H[O-1]!=G||H[O+1]!=G||H[O+$]!=G)v[O]=128;
else v[O]=G}var g=H;H=v;v=g}for(var S=0;S<C;S++)for(var z=0;z<$;z++){var O=S*$+z;if(l[O]==0||l[O]==255)H[O]=l[O]}d=j.ZU.ZU(r,k,H,20,!1)}}}else{d=k.slice(0);
j.dr(l,d,3)}for(var O=3;O<d.length;O+=4)if(d[O]>k[O])d[O]=k[O];if(r.Mp(F.S))F.h$=d;else j.mR(d,r,F.h$,F.S);
this.al4();if(M)alert(M,4e3)};k4.prototype.acF=function(F){var r=this.Vh,$=r.zT;j.mR(r.fU,r.S,r.iX,r.S,$,!0);
var C=r.cV,M=r.S,l=Date.now();if(this.xC==1){var k=new Uint32Array(256);k[0]=4278190335;k[255]=4278255360;
var d=j.j($.C()*4),I=$.C();j.mR(C,M,d,$);C=d;M=$;var c=new Uint32Array(C.buffer);for(var O=0;O<I;O++)c[O]=k[c[O]&255]}console.log(Date.now()-l);
j.v.O5("norm",C,M,r.iX,r.S,$,.3);this.mT.o([{$Y:r.S,data:r.iX.buffer}],null,null,$)};k4.prototype.al4=function(F){var r=this.Vh;
j.A9(r.kY,[0,4294967295,4278190080][this.dt.k()]);j.v.O5("norm",r.h$,r.S,r.kY,r.S,r.S,1);this.FN.o([{$Y:r.S,data:r.kY.buffer}])};
k4.prototype.N1=function(F){var r=this.xB,$=this.Vh,C=this.aHD.k(),M=r.u[r.K[0]],l=new k6(_.E.O,!0);
l.vs=!0;var k=M.S.P();if(C==0&&M.rR()||C!=0&&!M.rR()){l.J=B.pO;l.data={R:Z.iy,z:r.K[0]};this.a(l)}if(r.d!=null){l.J=B.gI;
l.data={R:"fromAction",NT:B.u_._N()};this.a(l)}if(C==0){var d=r.u.slice(0),I=r.at();I.Da(M.getName());
d.splice(r.K[0]+1,0,I);I.S=k;I.buffer=j.Mz($.h$,r.depth);I.vM();l.J=B.pO;l.data={R:Z.IJ,D2:d,xP:[r.K[0]+1],qc:[7,11]};
this.a(l)}if(C==1){var c=M.rc();l.J=B.pO;l.data={R:Z.jT,aoU:!0};this.a(l);var Q=M.rc();Q.G=j.j(k.C());
Q.S=k;Q.color=0;Q.qX=!0;j.Eg($.h$,Q.G,3);Q.G=j.Mz(Q.G,r.depth);if(c){var x=Q.MV(c);Q.S=x.S;Q.G=x.G;Q.color=x.color}Q.uF();
M.uH(r)}if(C==2){var U={S:k,G:j.j(k.C())};j.Eg($.h$,U.G,3);U.G=j.Mz(U.G,r.depth);l.J=B.gI;l.data={R:"setsel",d:U,qc:this.WO};
this.a(l)}this.close()};function kr(){fe.call(this,[1,13],"locstor");this.e=null;this.Zo=[];var F=this.body,r=y.i("p");
r.textContent="These files are loaded every time you start Photopea.";F.appendChild(r);this.a1S=0;this.auU=y.i("span");
F.appendChild(this.auU);y.B(this.auU,"display:inline-block;  width:12em;  font-weight:bold;");var $=y.i("span","form");
F.appendChild($);this.uj=new jC([5,4],!1,null,!0);this.uj.Q("click",this.qB,this);$.appendChild(this.uj._);
this.q4=new jC("Get all as ZIP",!1,null,!0);this.q4.Q("click",this.$t,this);$.appendChild(this.q4._);
this.GH=new cx(!0);this.GH.parent=this;this.GH.Bm(1);F.appendChild(this.GH._);y.B(this.GH._,"width: 40em; height: 25em")}kr.prototype=new fe;
kr.prototype.l=function(){fe.prototype.l.call(this);this.auU.textContent=dG.get([13,2])+": "+iv.$A(this.a1S);
this.uj.l()};kr.prototype.Db=function(F,r){this.e=F;if(r==d3.ht)this.wK()};kr.prototype.wK=function(F,r){var $=this.e.hz.C5,I=0;
this.Zo=[];for(var C in $)this.Zo.push(C);this.Zo.sort(function(Q,x){Q=Q.split(".");x=x.split(".");return Q[1]==x[1]?Q[0]<x[0]?-1:1:Q[1]<x[1]?-1:1});
var M=Math.floor(100*y.ha()),l=Math.floor(16*y.ha()),k=[],d=[];for(var O=0;O<this.Zo.length;O++){var C=this.Zo[O],c=kr.SM(C,$[C],M,l);
k.push(c);d.push(C);I+=$[C].byteLength}this.GH.pD(k,d,M,l);this.a1S=I;this.l()};kr.prototype.qB=function(F){var r=this.GH.k();
if(r.length==0){alert("Select a file first.");return}this.GH.o([]);var $=this.e.hz.C5;for(var O=0;O<r.length;
O++)delete $[this.Zo[r[O]]];var C=new k6(_.E.c,!0);C.data={R:_.m.WF,jg:d3.ht};this.a(C)};kr.prototype.$t=function(F){var r=this.e.hz.C5,$={};
for(var C in r)$[C]=new Uint8Array(r[C]);var M=UZIP.encode($);bF.save(M,"resources.zip")};kr.SM=function(F,r,$,C){var M=y.i("canvas"),d=0;
M.width=$;M.height=C;var l=M.getContext("2d"),k=F.split(".").pop().toLowerCase();for(var O=0;O<k.length;
O++)d+=k.charCodeAt(O)*613<<8*O;l.fillStyle="#"+j.lN(d&16777215);l.fillRect(0,0,20,C);var I=Math.floor(14*y.ha());
l.fillStyle="#000000";l.font="bold "+I+"px sans-serif";var c=(C-I)/2,Q=iv.$A(r.byteLength),x=l.measureText(Q);
l.fillText(Q,$-12-x.width,C-c);return M.toDataURL()};function iQ(){fe.call(this,[1,15],"pmanager");this.e=null;
this.J0=new bc([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.J0.Q(_.E.V,this.wK,this);
this.body.appendChild(this.J0._);var F=y.i("div","flexrow");this.body.appendChild(F);var r=this.aBj=y.i("div");
F.appendChild(r);var $=y.i("div","form");F.appendChild($);y.B($,"width:140px; margin-left:12px");this.aDl=[d3.UG,d3.PP,d3.ve,d3.aD,d3.Xh,d3.YW];
this.PG=[new gt,new bl,new a0,new cG,new dR,new e8];for(var O=0;O<this.PG.length;O++)this.PG[O].parent=this;
this.g0=[];for(var O=0;O<4;O++){var C=new jC("Hello",!0,null,!0);C.Q("click",this.O1,this);this.g0.push(C);
$.appendChild(C._)}this.wK()}iQ.prototype=new fe;iQ.prototype.fI=function(F){return F==ac.g7||F==ac.Qh};
iQ.prototype.O1=function(F){var O=this.g0.indexOf(F.target);this.PG[this.J0.k()].Y3(O)};iQ.prototype.l=function(){fe.prototype.l.call(this);
this.J0.l();for(var O=0;O<this.PG.length;O++)this.PG[O].l();var F=this.g0,r=this.J0.k(),$=d3.pH[this.aDl[r]],C=$[0].toUpperCase();
F[0].Ck([[23,6],"."+C]);F[1].Ck(["VAR0 ."+C,[1,8]]);F[2].Ck([6,37]);F[3].Ck([5,4])};iQ.prototype.Db=function(F,r){this.e=F;
this.wK()};iQ.prototype.wK=function(F,r){if(!y.D4(this._))return;this.l();y.RR(this.aBj);this.aBj.appendChild(this.PG[this.J0.k()].yC);
var $=this.PG,C=this.e;if(C==null)return;$[0].ZK(C.sO);$[1].xr(C.y1,C.J2);$[1].ZK(C.Bl);$[2].ZK(C.We);
$[3].ZK([C.md,C.We]);$[4].ZK(C.y_);$[5].ZK(C.Ra)};function kW(F,r,$){fe.call(this,r,"cwindow");this.ahH=new hx($[0],$[1]-33);
this.wS=y.i("div","form");y.B(this.wS,"width:"+($[2]-$[0])+"px; height:"+($[3]-$[1])+"px");this.body.appendChild(this.wS)}kW.prototype=new fe;
kW.prototype.kX=function(F,r){return this.ahH.P()};function b9(F){var r=b9.a2e(F);fe.call(this,r,"res"+F);
var $=this.a2w.bind(this);window.addEventListener("message",function(M){if(typeof M.data=="string"&&M.data.startsWith("--et ")){if(ht.WL()==null)return;
console.log(M.data);var l=this.aj2=M.data.slice(5).split(",");l[0]=parseFloat(l[0]);ht.aEy(l[0],l[1],$)}}.bind(this));
this.Se=r;this.$g=F;this.asr=null;this.II=null;this.sA=0;this.S9=null;this.kz=null;this.aj2=null;this.e=null;
y.B(this.body,"padding:0");this.mK=new jC("",null,null,!0);this.body.appendChild(this.mK._);this.mK.Q("click",this.rv,this);
y.B(this.mK._,"position:absolute; margin-top: -28px;  margin-left:150px");this.eA=new jC("\u25BC",null,null,!0);
y.B(this.eA._,"position:absolute; margin-top: -28px;  margin-left:270px");this.eA.Q("click",this.ao9,this);
this.body.appendChild(this.eA._);this.Xr=y.i("span","form");this.body.appendChild(this.Xr);this.g0=[];
for(var O=0;O<9;O++){var C=new jC(b9.a2e(O));this.g0.push(C);if(O==F)C.o(!0);this.Xr.appendChild(C._);
C.Q("click",this.aJo,this)}this.a75=new jC([5,3],null,null,!0);this.a75.Q("click",this.a3c,this);this.a96=new jC("Upload Current Document as a Template",null,null,!0);
this.a96.Q("click",this.amu,this);this.aym=new gs("Creator / Brand name");this.vD=new jC([1,2],null,null,!0);
this.vD.Q("click",this.$t,this);this.Y1=y.i("iframe","scrollable");y.B(this.Y1,"border:none; margin:0; padding:0;");
this.Jo=y.i("div","form scrollable padded");this.Gt=new jL(F);this.Gt.Q("back",this.WN,this);this.Gt.Q("save",this.a8y,this);
this.body.appendChild(this.Y1)}b9.prototype=new fe;b9.a2e=function(F){var r;if(F==0)r=[25,0];else if(F==1)r="Plugins";
else for(var $ in d3.pH)if(d3.pH[$][4]==F)r=d3.pH[$][3];return r};b9.prototype.ao9=function(F){this.Xr.style.display=this.Xr.style.display=="none"?"":"none"};
b9.prototype.aJo=function(F){var O=this.g0.indexOf(F.target);if(O==this.$g)return;this.close();var r=new k6(_.E.c,!0);
r.data={R:_.m.Oe,rS:"res"+O};this.a(r)};b9.prototype.a2w=function(F){this.rv();this.kz=JSON.parse(F.target.response);
this.RE()};b9.prototype.kX=function(F,r){return new hx(0,0)};b9.prototype.Xt=function(F,r){this.a0=F;
this.Y9=r;this.oo=null;r=r-4;F=F;var $=F>820,C="position:absolute; margin-top: -30px;  margin-left:270px;  margin-right:20px;",M="position:absolute; margin-top:   0px;  padding:10px;  display:none;  background-color: var(--base);  width:100%;  text-align:center;";
y.B(this.Xr,$?C:M);this.Xr.style.marginTop=($?-31:0)+"px";this.eA._.style.display=$?"none":"";var l=this.Jo;
l.style.width=F-12+"px";l.style.height=r-12+"px";var l=this.Gt._;l.style.width=F-12+"px";l.style.height=r-12+"px";
var l=this.Y1;l.style.width=F+"px";l.style.height=r+"px";this.Hi()};b9.prototype.Db=function(F,r){this.e=F};
b9.prototype.l=function(){fe.prototype.l.call(this);for(var O=0;O<this.g0.length;O++)this.g0[O].l();
this.a75.l()};b9.prototype.wK=function(F,r,$,C){this.oo=F;this.rv(null,!1)};b9.prototype.rv=function(F,r){var $=r!=null?r:y.D4(this.Y1);
if($){if(!ht.ij()){alert("You need to log in first!");return}var C=ht.fM();if(C==null)C={};this.II=C.tpl?C.tpl.list:[];
this.aym.o(C.tpl&&C.tpl.brnd?C.tpl.brnd:"");this.Hi()}else{this.Y1.setAttribute("src","");this.Y1.setAttribute("src",ht.lQ("templates/index.html?type="+this.$g+""+this.e.bw.join(",")))}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild($?this.Jo:this.Y1);var M=dG.get(this.Se);this.mK.Ck($?"All "+M:"Add "+M)};b9.prototype.Hi=function(){var F=dG.get(this.Se),r=this.II,$=this.$g,d=450;
if(r==null)return;var C=this.Jo;y.RR(C);var M=y.i("h1");C.appendChild(M);M.textContent="Share your "+F+" with the world!";
var l=y.i("ul");C.appendChild(l);var k=y.i("li");l.appendChild(k);k.textContent="By publishing your "+F+", you agree to let others use them for all kinds of purposes, even commercially.";
C.appendChild(this.a75._);if($==0)C.appendChild(this.a96._);y.Hd(C);C.appendChild(this.aym._);C.appendChild(this.vD._);
y.Hd(C);d=(this.a0-20)/Math.max(1,Math.floor(this.a0/d))-42;var I="display:inline-block; width:"+d+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var O=r.length-1;O>=0;O--){var c=r[O];if(c.type==null)c.type=0;if(c.type!=$)continue;var Q=y.i("div");
C.appendChild(Q);y.B(Q,I);var x=y.i("img");Q.appendChild(x);x.setAttribute("src",c.thmb);y.B(x,"float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var U=y.i("h3");Q.appendChild(U);U.textContent=c.name;y.B(U,"margin:0 0 10px 0");var S=y.i("p");Q.appendChild(S);
S.textContent=c.desc;y.B(S,"height:76px;  overflow:hidden; margin-bottom: 6px;");for(var z=0;z<2;z++){var V=new jC(z==0?"Edit":"Delete",null,null,!0);
V.asf=O;V.RE=z==0;V.Q("click",this.ajX,this);Q.appendChild(V._)}}};b9.prototype.amu=function(F){if(this.oo==null){alert("No document opened.");
return}var r=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!r)return;var $=new k6(_.E.c,!0);$.data={R:_.m.EW,$I:"psd",gA:this.adc.bind(this)};this.a($)};b9.prototype.adc=function(F){this.a9h=F;
var r=new k6(_.E.c,!0);r.data={R:_.m.EW,$I:"jpg",gA:this.a2C.bind(this),ajC:1400};this.a(r)};b9.prototype.a2C=function(F){this.S9={type:0,catg:0,desc:"",file:this.a9h,name:this.oo.name.split(".")[0],thmb:F,publ:!0,utme:""};
this.RE()};b9.prototype.a3c=function(F){this.S9={type:0,catg:0,desc:"",file:"",name:"",thmb:"",publ:!0,utme:""};
this.RE()};b9.prototype.ajX=function(F){this.sA=F.target.asf;if(!F.target.RE){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.II.splice(this.sA,1);this.$t();this.Hi();return}this.RE()};b9.prototype.RE=function(){if(y.D4(this.Jo))this.body.removeChild(this.Jo);
this.body.appendChild(this.Gt._);var F=this.S9?this.S9:this.kz?this.kz:this.II[this.sA];if(F.type==null)F.type=0;
this.Gt.o(F)};b9.prototype.a8y=function(F){var r=this.Gt.k();if(this.S9)this.II.push(r);else if(this.kz){var $=this.aj2;
ht.aEy($[0],$[1],this.WN.bind(this),JSON.stringify(r));return}else this.II[this.sA]=r;this.$t();this.WN()};
b9.prototype.WN=function(){var F=this.kz;this.S9=null;this.kz=null;this.body.removeChild(this.Gt._);
this.body.appendChild(this.Jo);this.Hi();if(F)this.rv()};b9.prototype.$t=function(){var F=ht.fM();if(F==null)F={};
if(this.II.length==0)delete F.tpl;else{F.tpl={list:j.N(this.II)};var r=this.aym.k().trim();if(r!="")F.tpl.brnd=r}ht.bx(F,function(){alert("Saved.")})};
function gP(){fe.call(this,"Make Selection","makesel");var F=y.i("div","form");this.body.appendChild(F);
this.Ri=new jm([12,25,1]);this.Ri.o(!0);F.appendChild(this.Ri._);y.Hd(F);this.aj6=new dO(!0);F.appendChild(this.aj6._);
this.UP=y.AX(this,this.body)}gP.prototype=new fe;gP.prototype.l=function(){fe.prototype.l.call(this);
this.aj6.l();this.Ri.l();this.UP.l()};gP.prototype.N1=function(F){var r=new k6(_.E.O,!0);r.J=B.gI;r.data={R:"frompath",Fo:[null,0,this.aj6.k(),this.Ri.k()]};
this.close();this.a(r)};function ku(){fe.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.oo=null;this.Hn=null;
this.afQ=null;var F=this.a4i=y.i("div","form");y.B(F,"width:20em");this.body.appendChild(F);this.cv=new a8([12,50],["PSD","PSB"]);
this.cv.Q(_.E.V,this.R0,this);F.appendChild(this.cv._);y.ox(F);var r=new eu("Minify the file");F.appendChild(r._);
y.Hd(F);var $=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.LV=[];for(var O=0;O<$.length;O++){var C=new jm($[O]);this.LV.push(C);F.appendChild(C._);C.Q(_.E.V,this.R0,this)}y.ox(F);
this.AZ=new eu("aa.psd");this.Vu=new eu("10 kB");F.appendChild(this.Vu._);this.aqa=new eu("1000 B");
F.appendChild(this.aqa._);this.UP=new jC([1,2],!0,null,!0);this.UP.Q("click",this.N1,this);F.appendChild(this.UP._);
this.qv=new jC(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.qv.Q("click",this.N1,this);F.appendChild(this.qv._);
this.Q("closebtn",this.pN,this)}ku.prototype=new fe;ku.prototype.wK=function(F,r,$,C){var M=y.D4(this.qv._),l=F.$H!=null&&F.$H.zj=="psd";
if(l&&!M)this.a4i.appendChild(this.qv._);if(!l&&M)this.a4i.removeChild(this.qv._);for(var O=0;O<this.LV.length;
O++)this.LV[O].o(!1);this.oo=F;this.R0()};ku.prototype.N1=function(F){if(F.target==this.UP)bF.save(this.Hn,this.afQ);
else{if(this.LV[3].k()){alert("You should not save a ZIP as a PSD to Google Drive.");return}ii.aIX(this.oo,this.Hn)}};
ku.prototype.pN=function(){this.oo=null;this.Hn=null};ku.prototype.R0=function(){var F=this.oo,r=[!1,!1,!1,!1];
for(var O=0;O<3;O++)r[O]=this.LV[O].k();var $=this.LV[3].k(),C=r[3]=this.cv.k()==1,M=F.name.slice(0,F.name.length-3),l=this.Hn=dN.LD("PSD").x2(F,0,0,r),bU=this.afQ=M+"ps"+(C?"b":"d");
if($){var k={};k[bU]=new Uint8Array(l);l=this.Hn=UZIP.encode(k);bU=this.afQ=M+"zip"}this.AZ.o(bU);this.Vu.o(iv.$A(l.byteLength));
this.Vu._.style["font-size"]="2em";this.aqa.o(" \u2001 "+l.byteLength+" B");this.UP.Ck(dG.get([1,2])+" \""+bU+"\"")};
ku.prototype.l=function(){fe.prototype.l.call(this);this.cv.l();this.UP.l();this.qv.l()};function e_(){fe.call(this,"Confirm","confirm");
this.Oa=null;var F=y.i("div");y.B(F,"margin-bottom:1em");this.body.appendChild(F);this.N3=y.i("div");
this.N3.textContent="Hello";F.appendChild(this.N3);this.UP=y.AX(this,this.body)}e_.prototype=new fe;
e_.prototype.N1=function(F){if(this.Oa==null)return;console.log("okconfirm");this.close();this.Oa();
this.Oa=null};e_.prototype.l=function(){fe.prototype.l.call(this);this.UP.l()};e_.prototype.wK=function(F,r){if(r.agv||r.ae6)this.N3.innerHTML=r.Y;
else this.N3.textContent=r.Y;if(r.aaf)this.UP.Ck(r.aaf);this.Oa=r.Oa;this.UP._.focus();if(r.agv!=null)this._.style.top=Math.random()*(window.innerHeight-150)+"px";
this.aJ_=r.agv!=null};e_.prototype.kX=function(F,r){return new hx(Math.max(0,(F-500)/2),Math.max(0,Math.min(60,(r-100)/2)))};
e_.prototype.Xt=function(F,r){this.N3.style.width=F-30+"px"};function cc(){fe.call(this,[1,16,2],"newartb");
this.xC=0;this.nH=null;var F=y.i("div","form");F.style.width="260px";this.body.appendChild(F);this.GH=new gd;
F.appendChild(this.GH._);this.UP=y.AX(this,F)}cc.prototype=new fe;cc.prototype.R3=function(F,r){return F!=null};
cc.prototype.N1=function(F){var r=this.GH.k();this.nH.r=r.x;this.nH.$=r.y;var $=new k6(_.E.O,!0);$.J=B.cn;
$.data={a7U:this.nH,IL:this.xC};this.a($);this.close()};cc.prototype.l=function(){fe.prototype.l.call(this);
this.GH.l();this.UP.l()};cc.prototype.wK=function(F,r){this.xC=r.IL;var $=new cS(0,0,F.r,F.$);if(F.K.length!=0){var C=F.u[F.K[0]];
if(C.add.artb){$=C.dh();$.x+=$.r+100}if(r.IL==1)$=B.hL.y2(F)}this.nH=$;this.GH.o(new hx($.r,$.$))};function ie(){fe.call(this,"Storage","storwindow");
y.B(this.body,"padding:0");this.Ng=null;this.Q("closebtn",this.ST,this);this.Q("canclose",this.ST,this)}ie.prototype=new fe;
ie.prototype.Db=function(F,r){if(this.Ng)this.Ng.Db(F,r)};ie.prototype.kX=function(F,r){return new hx(Math.max(0,Math.min(150,(F-980)/2)),Math.max(0,Math.min(150,(r-590)/2)))};
ie.prototype.Xt=function(F,r){this.a0=F;this.Y9=r;F=Math.min(F,980);r=Math.min(r,590);if(this.Ng)this.Ng.Xt(F,r)};
ie.prototype.l=function(){fe.prototype.l.call(this);if(this.Ng)this.Ng.l()};ie.prototype.wK=function(F,r,$,C){this.WO=r.IL==0?"Open from Storage":"Save to Storage";
this.l();if(this.Ng==null){this.Ng=new d9;this.Ng.parent=this;this.body.appendChild(this.Ng._);this.l();
this.Xt(this.a0,this.Y9)}Storage.Bm(r.IL,F?F.name:"");d9.d4(this.Ng)};ie.prototype.ST=function(F){Storage.Bm(0);
d9.N6();if(F.I=="canclose")this.close()};function cH(){fe.call(this,[2,14],"varsdats");var F=this.wS=y.i("div","form");
y.B(F,"width:300px");this.body.appendChild(F);this.oo=null;this.JS=0;this.e=null;this.Cr=new a8(null,[[2,14],"Data Sets",[1,8]]);
this.Cr.Q(_.E.V,this.aDv,this);this.b8=new cH.ir;this.Ul=new cH.Mo;this.b$=new cH.hW;this.Ul.Q("activate",this.Ux,this);
this.b$.Q("export",this.KU,this);this.UP=y.AX(this)}cH.prototype=new fe;cH.prototype.aDv=function(F){var r=this.Cr.k(),$=this.wS;
y.RR($);$.appendChild(this.Cr._);y.ox($);$.appendChild([this.b8,this.Ul,this.b$][r]._);$.appendChild(this.UP._)};
cH.prototype.N1=function(F){var r=new k6(_.E.O,!0);r.J=B.pO;r.data={R:Z.Cw,Y:JSON.stringify([this.b8.k(),this.Ul.k()])};
this.a(r);this.close()};cH.prototype.l=function(){fe.prototype.l.call(this);this.UP.l();this.b$.l()};
cH.prototype.wK=function(F,r){this.oo=F;this.b$.oo=F;if(F==null)return;this.b8.wK(F,r);this.Ul.wK(F,r);
this.Cr.o(0);this.aDv();this.JS=0;this.b$.aGJ()};cH.prototype.Db=function(F,r){this.e=F};cH.prototype.KU=function(F){var r=this.b8.k(),$=this.Ul.k(),C=this.b$.k();
if(r.length==0){alert("There are no variables.");return}if($.length==0){alert("There are no data sets.");
return}var M=dN.aga(this.oo,r,$,this.Ul.a01(),C[0],C[1],C[2],this.e,this);if(M!=null)bF.save(M,"images.zip")};
cH.prototype.Ux=function(F){var r=this.Ul.K,$=this.b8.k(),C=this.Ul.k();if($.length==0){alert("There are no variables.");
return}if(C.length==0){alert("There are no data sets.");return}this.Pr();this.JS+=dN.aDk(this.oo,this,$,C,this.Ul.a01(),r)};
cH.prototype.Pr=function(){var F=new k6(_.E.O,!0);F.J=B.sT;F.data={R:"h_stepbck"};while(this.JS>0){this.a(F);
this.JS--}};cH.hW=function(){au.call(this);var F=this._=y.i("div");this.ae7=new gs("Variable for file names");
F.appendChild(this.ae7._);y.ox(F);this.oo=null;this.xX=["JPG","PNG","PDF"];this.cv=new a8([12,50],this.xX);
this.cv.Q(_.E.V,this.aGJ,this);F.appendChild(this.cv._);this.$F=new ij;F.appendChild(this.$F._);this.q4=new jC("Export all items",!0,null,!0);
this.q4.Q("click",this.KU,this);F.appendChild(this.q4._)};cH.hW.prototype=new au;cH.hW.prototype.l=function(F){this.ae7.l();
this.cv.l();this.q4.l();this.$F.l()};cH.hW.prototype.aGJ=function(F){if(this.oo==null)return;var r=this.xX[this.cv.k()],$=this.oo,C=$.add.artd;
this.$F.IF(r,null,null,C!=null&&C.Cnt.v>1)};cH.hW.prototype.KU=function(F){this.a(new k6("export"))};
cH.hW.prototype.k=function(){var F=this.xX[this.cv.k()];return[F,this.$F.k(),this.ae7.k().trim()]};cH.Mo=function(){au.call(this);
this.Ii=null;this.aGb=[];this.K=0;var F=this._=y.i("div","form");this.a3I=new bH("Import a CSV file");
F.appendChild(this.a3I._);this.a3I.Q(_.E.V,this.alL,this);this.Wy=y.i("div","scrollable");y.B(this.Wy,"overflow:scroll;  height:234px;");
F.appendChild(this.Wy);this.amx=new bH("Source Images",!0);F.appendChild(this.amx._)};cH.Mo.prototype=new au;
cH.Mo.prototype.alL=function(F){var r=this.a3I.k();for(var $ in r){r=r[$];break}this.Ii=k9.CO(P.qV(r));
this.vr()};cH.Mo.prototype.a01=function(){return this.amx.k()};cH.Mo.prototype.wK=function(F,r){var $=this.Ii=j.N(F.Xo);
this.vr()};cH.Mo.prototype.k=function(){return this.Ii};cH.Mo.prototype.vr=function(){var F=this.O2.bind(this),r=this.Ii,C="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.aGb=[];var $=y.i("table");y.B($,"border-collapse: collapse;");for(var O=0;O<r.length;O++){var M=y.i("tr"),l=r[O],k=O==0?"th":"td";
$.appendChild(M);var d=y.i(k);M.appendChild(d);y.B(d,C+"cursor:pointer;");if(O!=0)d.textContent="\u2713";
this.aGb.push(d);d.addEventListener("click",F,!1);for(var I=0;I<l.length;I++){var d=y.i(k);d.textContent=l[I];
M.appendChild(d);y.B(d,C);d.setAttribute("title",l[I])}}y.RR(this.Wy);this.Wy.appendChild($)};cH.Mo.prototype.O2=function(F){this.K=this.aGb.indexOf(F.currentTarget);
this.a(new k6("activate"))};cH.ir=function(){au.call(this);var F=this._=y.i("div","form marged");this.zk=null;
this.Km=[];this.S0=[];this.xU=null;this._I=new bc([0,3],[]);this._I.Q(_.E.V,this.ae5,this);F.appendChild(this._I._);
this.al0=[];var r=["Visibility","Text Content","Pixel Content"];for(var O=0;O<r.length;O++){y.ox(F);
var $=new jm(r[O]);$.Q(_.E.V,this.ms,this);F.appendChild($._);y.Hd(F);var C=new gs("Variable Name");
C.Q(_.E.V,this.ms,this);F.appendChild(C._);this.al0.push($,C)}};cH.ir.prototype=new au;cH.ir.prototype.ms=function(F){var r=this._I.k(),$=this.xU[r],C=this.Km[r],M=this.zk["l"+$],l=this.al0;
if(M==null)this.zk["l"+$]=M=[];while(M.length!=0)M.pop();for(var O=0;O<3;O++){var k=l[2*O+1].k().trim();
if(!l[2*O].k())continue;if(k.indexOf(" ")!=-1){alert("Variable names can not contain spaces. But you can use \".\", \":\", \"-\" or \"_\".",4e3)}k=k.replaceAll(" ","");
var d={varName:k,trait:["visibility","textcontent","fileref"][O]};M.push(d);if(O==2){d.align="center";
d.clip="false";d.placementMethod="fit";d.valign="middle"}}if(M.length==0)delete this.zk["l"+$];this.wK()};
cH.ir.prototype.ae5=function(F){var r=this._I.k(),$=this.xU[r],C=this.Km[r],M=this.zk["l"+$],l=this.al0;
if(M==null)M=[];for(var O=0;O<3;O++){var k=O==0||O==1&&C==0||O==2&&C==1;l[2*O].fC(k);l[2*O].o(!1);l[2*O+1].fC(k);
if(!k)l[2*O+1].o("")}for(var O=0;O<M.length;O++){var d=M[O],I=d.trait,c=["visibility","textcontent","fileref"].indexOf(I);
l[c*2].o(!0);l[c*2+1].o(d.varName)}};cH.ir.prototype.wK=function(F,r){if(F){var $=j.N(F.aS),C=this.zk={};
for(var O=0;O<$.length;O++){var M=$[O],l=M.docRef;l="l"+l.slice(4,l.length-2);if(C[l]==null)C[l]=[];
C[l].push(M)}this.xU=[];this.Km=[];this.S0=[];for(var O=F.u.length-1;O>=0;O--){var k=F.u[O],l=k.add.lyid;
if(k.add.lsct==jR.k9)continue;this.xU.push(l);this.Km.push(k.add.TySh?0:1);this.S0.push(k.getName())}}var d=[],I=this.S0;
for(var O=0;O<I.length;O++){d.push(I[O]+(this.zk["l"+this.xU[O]]?" *":""))}var c=this._I.k();this._I.Ek(d);
this._I.o(c);this.ae5()};cH.ir.prototype.k=function(){var F=this.zk,r=[];for(var $ in F){var C=F[$];
for(var M=0;M<C.length;M++){C[M].docRef="id('"+$.slice(1)+"')";r.push(C[M])}}return r};function l0(){fe.call(this,["VAR0 VAR1",[15,10,22],[8,11,0]],"divslice");
this.aAc=!1;var F=this.tJ=[],r=y.i("div","form");y.B(r,"width:20em");this.body.appendChild(r);for(var O=0;
O<2;O++){var $=new jm([22,4,2+O]);r.appendChild($._);y.Hd(r);var C=new a8(null,[["N equal parts"],["N pixels per part"]]);
r.appendChild(C._);y.Hd(r);var M=new eT("N",0,1e3);M.o(4);M.parent=this;r.appendChild(M._);y.Hd(r);if(O==0)y.ox(r);
F.push($,C,M)}for(var O=0;O<F.length;O++)F[O].Q(_.E.V,this.jz,this);F.push(y.AX(this,r));this.Q("closebtn",this.Pr,this)}l0.prototype=new fe;
l0.prototype.Pr=function(){if(this.aAc){var F=new k6(_.E.O,!0);F.J=B.sT;F.data={R:"h_stepbck"};this.a(F)}};
l0.prototype.jz=function(F){this.Pr();this.aAc=!0;var r=[];for(var O=0;O<6;O++)r.push(this.tJ[O].k());
var $={__name:"Divide",classID:"divide",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"slice",typeID:"Ordn",enum:"Trgt"}}]}};
for(var C=0;C<2;C++){if(!r[C*3])continue;var M=r[C*3+1],l=r[C*3+2];$[["slices","pixels"][M]+["Across","Down"][C]]={t:"long",v:l}}var k=new k6(_.E.wG,!0);
k.data={hE:"divide",iH:$};this.a(k)};l0.prototype.N1=function(F){this.close()};l0.prototype.l=function(){fe.prototype.l.call(this);
var F=this.tJ;for(var O=0;O<F.length;O++)F[O].l()};l0.prototype.wK=function(F,r){this.aAc=!1};function gF(){fe.call(this,"Stroke Path","strokepath");
this.e=null;this.Gh=null;this.a61=null;this.UP=null;this.ahf=[B.pA,B.UG,B.QV,B.XT,B.NQ,B.oG,B.rf,B._a,B.Q2,B.RY,B.KZ,B.$o,B.tH,B.sB,B.At]}gF.prototype=new fe;
gF.prototype.l=function(){fe.prototype.l.call(this);if(this.UP){this.Gh.l();this.UP.l()}};gF.prototype.N1=function(F){var r=this.ahf[this.Gh.k()],$=null;
for(var C in B.m5)if(B.m5[C]==r)$=C;var M=new k6(_.E.wG,!0);M.data=B._J.uA($,this.a61.k());this.close();
this.a(M)};gF.prototype.Db=function(F,r){if(this.e==null){var $=[];for(var O=0;O<this.ahf.length;++O){$.push(F.W.map[this.ahf[O]].J.name)}var C=y.i("div","form");
this.body.appendChild(C);this.Gh=new bc("Tool",$);this.Gh.o(1);C.appendChild(this.Gh._);this.a61=new jm("Simulate Pressure");
y.Hd(C);C.appendChild(this.a61._);this.UP=y.AX(this,this.body)}this.e=F};function hg(){fe.call(this,[1,18],"linkview");
y.yY(this.body,"form");var F=this.RC=[new gs(null,null,17),new jC([5,1],!1,null,!0),new jC([1,0],!1,null,!0)];
for(var O=0;O<3;O++){var r=F[O];this.body.appendChild(r._);if(O!=0)r.Q("click",this.qL,this);if(O==0)y.Hd(this.body)}}hg.prototype=new fe;
hg.prototype.wK=function(F,r){var $=r.aDS;if($.startsWith("https://"))$=$.slice(8);this.RC[0].o($)};
hg.prototype.qL=function(F){var r=this.RC,$=r[0].k(),C=F.target==this.RC[1];if(C){navigator.clipboard.writeText($);
alert("Copied to a clipboard!")}else window.open("https://"+$,"Shared")};function jS(F){fe.call(this,F==0?[[23,6],[17,2]]:["VAR0 VAR1",[1,2],[17,2]],["loadsel","savesel"][F]);
this.Mi=null;this.anE=F;var r=y.i("div","form label8");y.B(r,"max-width:26em");this.body.appendChild(r);
this.j6=new bc("Document",["abc","def"]);this.j6.Q(_.E.V,this.ms,this);r.appendChild(this.j6._);y.Hd(r);
this.rg=new bc([12,4],["abc","def"]);this.rg.Q(_.E.V,this.ms,this);r.appendChild(this.rg._);this.ay5=new jm([4,11]);
this.N3=new gs([12,48]);this.N3.o("Alpha");if(F==0){}else{r.appendChild(this.N3._)}this.Jy=new dO(!0);
r.appendChild(this.Jy._);this.UP=y.AX(this,r)}jS.prototype=new fe;jS.prototype.fV=function(){return!0};
jS.prototype.l=function(){fe.prototype.l.call(this);this.UP.l();this.j6.l();this.rg.l();this.N3.l();
this.ay5.l();this.Jy.l()};jS.prototype.ms=function(F){var r=this.anE;if(F==null||F==this.j6){var $=this.j6.k(),C=this.Mi[$],M=[];
if(r==0)M.push(C.u[C.K[0]].getName()+" Transparency",C.u[C.K[0]].getName()+" Gray");else M.push([5,3]);
for(var O=0;O<C.Bs.length;O++)M.push(C.Bs[O].name);this.rg.Ek(M)}if(r==0)return;var l=this.rg.k();this.N3.fC(l==0);
this.Jy.fC(l!=0)};jS.prototype.wK=function(F,r,$){this.Mi=$;var C=[];for(var O=0;O<$.length;O++){var M=$[O].name;
C.push(M.length<30?M:M.slice(0,27)+"...")}this.j6.Ek(C);this.j6.o($.indexOf(F));this.ms(null)};jS.prototype.N1=function(F){var r=this.anE,$=this.rg.k(),C=this.j6.k(),M=this.Mi[C],l=this.Jy.k(),k,d=!1;
if(r==0){if($==1)d=!0;$=Math.max($-1,0)}if($==0){k=new k6(_.E.wG,!0);if(r==0)k.data=B.u_.$b(l,d?"Gray":"Trsp",M.u[M.K[0]].getName());
else k.data={hE:"duplicate",iH:{classID:"null",Nm:{t:"TEXT",v:this.N3.k()},null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}else{k=new k6(_.E.O,!0);
if(r==0){k.J=B.gI;k.data={R:"fromchannel",Fo:[-4-$,0,l]}}else{k.J=B.pO;k.data={R:Z.mV,vz:"seltochannel",Fo:[$-1,l]}}}this.close();
this.a(k)};function dK(){fe.call(this,"PeaMark","peamark");var F=y.i("span");F.innerHTML="Test your desktop, laptop, phone, tablet, any device! Bigger score is better :)<br /><small>*** connect your laptop to a charger for better results</small><br/><br/>";
this.body.appendChild(F);var r=y.i("div","form");y.B(this.body,"width:300px;");this.body.appendChild(r);
this.aDw=!1;this.Z6=[];this.k$=[];this.aw6=[];for(var O=0;O<3;O++){var F=y.i("div");F.textContent="0";
r.appendChild(F);y.B(F,"text-align:center; font-size:2em");var $=y.i("hr");this.k$.push($);if(O!=2)r.appendChild($);
y.B($,"height:2px; background-color:#00ff00");var C=new jC("Test "+["CPU","GPU","free RAM"][O],!0,null,!0);
r.appendChild(C._);C.Q("click",this.aJ0,this);this.Z6.push(F);this.aw6.push(C)}y.Hd(this.body);this.a0Y=new jC("Browse scores",!1,null,!0);
var M=this.a0Y._;this.body.appendChild(M);this.a0Y.Q("click",this.aAg,this);y.B(M,"position:absolute;top:100px;left:10px;");
this.afS=new jC("Tweet your score!",!1,null,!0);var M=this.afS._;this.body.appendChild(M);this.afS.Q("click",this.aAg,this);
y.B(M,"position:absolute;top:100px;right:10px;");this.TE=y.i("div","scrollable");this.body.appendChild(this.TE);
this.TE.style.height="160px";this.FE=[];this.atx=0;this.aty=this.aua.bind(this);this.a6z()}dK.prototype=new fe;
dK.prototype.aAg=function(F){var r=dK.kq,$;if(F.target==this.a0Y){$="https://twitter.com/hashtag/peamark?f=live"}else{var C=r[r.length-1];
if(Math.min(C[2],C[3])==0){alert("Run both tests first.");return}$="https://twitter.com/intent/tweet?text="+encodeURIComponent("My #peamark score is "+C[2]+"/"+C[3]+"! Test your device at Photopea.com (More - PeaMark)")}window.open($,"_blank")};
dK.prototype.aJ0=function(F){var r=this.aw6.indexOf(F.target),$=1024,C=1024,M=new cS(0,0,$,C),l=this.aty;
if(r==0){var k=j.j(M.C());for(var d=0;d<C;d++)for(var I=0;I<$;I++)k[d*$+I]=((d>>>7)+(I>>>7)&1)*255;this.FE=[r,k,$,C];
for(var O=0;O<4;O++)l(!0)}else if(r==1){var c=j.j(M.C()*4),Q=jp.lt(1,$,C);Q.set(c);j.A9(c,4278190335);
var x=jp.lt(0,$,C);x.set(c);var U=[1,1,-1,0,-1,1,-1,0,-.3333333432674408,-.3333333432674408,-.3333333432674408,0,1,-1,-1,0],S={I:jp.filter.a0A,Hb:new Float32Array([1/$,1/C]),ahZ:0,D6:20,aGq:new Float32Array([0,1]),ax$:new Float32Array([0,0,0]),aHu:new Float32Array(U),acV:new Float32Array(U)};
this.FE=[r,S,c,x,Q];l(!0)}else{if(this.aDw){alert("Close all documents before running this test.");return}this.FE=[r,[]];
l(!0)}this.a65=[[0,0],[0,0],[0,0]];this.atx=Date.now();setTimeout(this.aty,20)};dK.prototype.aua=function(F){var r=this.FE,$=r[0],C=Date.now(),k=!1,d;
if($==0){j.style.jh(r[1],r[2],r[3])}else if($==1){jp.Tt(r[4]);jp.filter.xl(r[1],r[3].VJ);r[4].get(r[2])}if(F)return;
var M=Date.now()-C,l=this.a65[$];l[0]+=M;l[1]++;if($<2){var I=[26,73];d=Math.round(1e3*I[$]/(l[0]/l[1]));
var c=(Date.now()-this.atx)/5e3,k=c>1;this.k$[$].style.width=Math.min(100,c*100)+"%"}else{var Q=128*(1<<20);
try{var x=new Uint8Array(Q);x.fill(117);r[1].push(x)}catch(ac){k=!0;this.FE=null;alert("finished")}d=(r[1].length*Q/(1<<30)).toFixed(2)+" GB"}this.Z6[$].textContent=d;
if(!k)setTimeout(this.aty,20);else{var U=dK.kq;U[U.length-1][2+$]=d;this.a6z()}};dK.prototype.a6z=function(){var F=this.TE,$="",C=" style=\"text-align:right; width:4em;\">";
y.RR(F);var r=dK.kq.slice(0);r.sort(function(I,c){return 1e3*(c[2]-I[2])+(c[3]-I[3])});var M="<td"+C,l="<th"+C;
for(var O=0;O<r.length;O++){var k=r[O],d=null;if((O&1)==0)d="rgba(255,255,255,0.05)";if(k[1]=="Your Device")d="rgba(255,255,0,0.2)";
$+="<tr style=\""+(d?" background-color:"+d:"")+"\"><td>"+k[1]+"</td>"+M+k[2]+"</td>"+M+k[3]+"</td></tr>"}F.innerHTML="<table style=\"line-height:1.5em; border-collapse: collapse;\"><tr><th style=\"width:13.7em;\">Device</th>"+l+"CPU</th>"+l+"GPU</th></tr>"+$+"</table>"};
dK.prototype.wK=function(F,r,$,C){this.aDw=F!=null};dK.kq=[[0,"Ryzen 9 7900X + RTX 3080 Ti",1411,13059],[0,"Raspberry Pi 5",370,17],[0,"Raspberry Pi 400",150,6],[1,"Ryzen 7 5700U",1e3,1e3],[1,"MacBook Air 2017",539,367],[1,"MacBook Pro M1",1394,1856],[1,"MacBook Air M1",1273,971],[2,"iPad Air 4th Gen",1386,386],[3,"iPhone 15 Pro",1700,934],[3,"iPhone 13 Pro Max",1476,556],[3,"iPhone SE 2020",1180,303],[3,"Google Pixel 6a",830,638],[3,"Sony Xperia 1 II",410,720],[3,"iPhone 11",827,207],[3,"LG G4 (2015)",111,87],[3,"Google Nexus 7 2013",48,36],[0,"Your Device",0,0]];
function jk(){fe.call(this,"Measurement Scale","measscale");var F=y.i("div","form label8");F.style.width="300px";
this.body.appendChild(F);var r=this.rj=[new gs("Pixel Length"),new gs("Logical Length"),new gs("Unit Name"),new eu("Hi")];
for(var O=0;O<4;O++){var $=r[O];$.Q(_.E.V,this.ms,this);F.appendChild($._)}this.UP=y.AX(this,F)}jk.prototype=new fe;
jk.prototype.kX=function(F,r){return new hx(Math.max(0,Math.min(150,(F-250)/2)),Math.max(0,Math.min(150,(r-120)/2)))};
jk.prototype.ms=function(F){var r=this.rj;r[3].o(r[0].k()+" pixels = "+r[1].k()+" "+r[2].k())};jk.prototype.N1=function(F){var r=this.rj,$=[];
for(var O=0;O<3;O++)$.push(r[O].k());$[0]=parseFloat($[0]);$[1]=parseFloat($[1]);var C=new k6(_.E.O,!0);
C.J=B.D8;C.data={R:"unit",Y:$};this.a(C);this.close()};jk.prototype.l=function(){fe.prototype.l.call(this);
var F=this.rj;for(var O=0;O<F.length;O++)F[O].l()};jk.prototype.wK=function(F,r){var $=this.rj;$[0].o(Math.round(r.f_));
if(F.ok){var C=F.ok.T.v;console.log(C);$[1].o(C.logicalLength.v);$[2].o(C.logicalUnits.v)}else{$[1].o(1);
$[2].o("unitName")}this.ms()};function df(F,r,$,C){au.call(this);this.name=F;this.ak7=$;this.B5=C;this.PM=y.i("div","");
this.PM.setAttribute("draggable","true");this.H0=y.i("div","pbody");this.rx=new jC("",!1,"");this.rx.parent=this;
this.aJ7=y.i("span","cross gsicon");this.GP=y.i("span","label");var M=this.amv.bind(this);this.PM.addEventListener("mousedown",this.nd.bind(this),!1);
this.PM.addEventListener("contextmenu",M,!1);this.rx._.addEventListener("contextmenu",M,!1);this.aJ7.addEventListener("mousedown",this._v.bind(this),!1);
this.PM.appendChild(this.GP);if(r)this.PM.appendChild(this.aJ7);this.jo=!1;this.GP.textContent=F}df.prototype=new au;
df.prototype.Wx=function(){return null};df.prototype.l=function(){var F=dG.get(this.name),r=!1,$=this.a0==0?22:Math.round(2+this.a0/50);
if(F.endsWith(" *")){r=!0;F=F.slice(0,F.length-2);$-=2}var C=F.length>$;this.GP.textContent=C?F.slice(0,$-2):F;
this.PM.setAttribute("title",F);if(C)for(var M=0;M<2;M++){var l=y.i("span");l.textContent=F.charAt($-2+M);
y.B(l,"opacity:"+(.6-M*.4));this.GP.appendChild(l)}if(r){var l=y.i("span");l.textContent=" *";this.GP.appendChild(l)}var k=F.split(" "),d=k.length==2?k[0].substring(0,2)+k[1][0]:F.substring(0,3);
if(d.charCodeAt(0)>=11776)d=d.substring(0,1);var I=this.ak7;if(I==null)this.rx.Ck(d,F);else{var c;if(I.startsWith("---"))c="<img src=\""+PIMG[I.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(I.startsWith("==="))c="<img src=\""+I.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(I.indexOf("\"")==-1)c="<img src=\""+I+"\" alt=\""+y.im(F).replace(/"/g,"&quot;")+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.rx.Ck(c,F)}};df.prototype.enable=function(){this.H0.className="pbody"};df.prototype.disable=function(){this.H0.className="pbody disabled"};
df.prototype.Db=function(F,r){};df.prototype.wK=function(F,r,$){};df.prototype.U_=function(F){};df.prototype.Xt=function(F,r){};
df.prototype.sz=function(F){this.name=F;this.l()};df.prototype.$x=function(){};df.prototype.nd=function(F){if(F.button==0)this.a(new k6("select",!1));
if(F.button==1)this.qP()};df.prototype.amv=function(F){y.Dk(F);var r=this.B5!=null&&isNaN(this.B5),$=y.Bz(F,document.body),C=this.amZ;
if(C==null){C=this.amZ=new aj(r?[{name:"Uninstall Plugin"}]:[{name:[1,12,0]},{name:"Close All"},{name:"Close Others"}]);
this.amZ.Q("select",this.a3G,this)}C.update(null);C.l();C.parent=this;var M=new k6(_.E.c,!0);M.data={R:_.m.$a,g$:C,x:$.x+1,y:$.y+1};
this.a(M)};df.prototype.qP=function(){if(this.B5!=null){var F=new k6(_.E.c,!0);F.data={R:_.m.GW,g$:this.amZ};
this.a(F);if(isNaN(this.B5)){F.data={R:_.m.WF,jg:d3.q0,abE:this.A6.resID}}else{F.data={R:_.m.WF,jg:d3.GI,Y:parseFloat(this.B5),TB:"del"}}this.a(F)}else if(this.amX())this.a(new k6(_.E.FQ,!1))};
df.prototype.amX=function(F){return!0};df.prototype._v=function(F){if(F.stopPropagation)F.stopPropagation();
this.qP()};df.prototype.a3G=function(F){var O=F.target.qw()[0];if(O==0)this.qP();else{var r=new k6(_.E.FQ,!1);
r.data=O-1;this.a(r)}};df.prototype.SY=function(F,r,$,C,M){};df.prototype.GQ=function(F,r,$,C,M){};df.prototype.pf=function(F,r,$,C,M){};
df.Y_=function(F,r,$){if(F.childElementCount!=0)return;var C=F.textContent;this.f8=this.aIb.bind(this);
this.aFZ=this.ahg.bind(this);this.mt=r;this.ama=$;this.hM=F;this.yv=C;var M=y.i("input","");M.setAttribute("type","text");
M.setAttribute("size","10");M.setAttribute("value",C);y.RR(F);F.appendChild(M);M.select();M.focus();
y.mM(F);F.addEventListener("keyup",this.f8,!1);document.body.addEventListener("mousedown",this.aFZ,!1)};
df.Y_.prototype.aIb=function(F){var r=ac.Dh,$=r(F.code,ac.t7);if(r(F.code,ac.Pl)||$)this.a2V($)};df.Y_.prototype.ahg=function(F){var r=F.target;
if(r.tagName&&r.tagName.toLowerCase()=="input")return;this.a2V(!0)};df.Y_.prototype.a2V=function(F){var r=this.hM,$=r.firstChild.value;
r.removeEventListener("keyup",this.f8);document.body.removeEventListener("mousedown",this.aFZ);if(this.ama||F&&$!=""&&$!=this.yv){this.mt($)}else{y.RR(r);
r.textContent=this.yv}};df.L8=function(){return[0,1,2,3,5,6,7,9,10,16,17,100]};df.awq=function(F){var r=df.L8(),$=[];
for(var O=0;O<F.length;O++)if(r.indexOf(F[O])==-1)$.push(F[O]);for(var O=0;O<r.length;O++)if(F.indexOf(r[O])==-1)$.push(-r[O]);
return $};df.ape=function(F){var r=df.L8();for(var O=0;O<F.length;O++){var $=F[O],C=r.indexOf($);if(C==-1)C=r.indexOf(-$);
if(0<=$&&C==-1)r.push($);if($<0&&C!=-1)r.splice(C,1);if($==0&&C!=-1)r.splice(C,1)}return r};df.sy={sT:"0",ap3:"1",pO:"2",aBR:"3",arZ:"4",VK:"5",CSS:"6",UG:"7",a9m:"8",aye:"9",a0n:"10",aF_:"11",aFs:"12",VV:"13",Nb:"14",adM:"15",aDx:"16",jD:"17",aci:"18",avr:"19",abJ:"20",aD:"21",a8r:"22",axG:"23",aE7:"24",aBs:"25",ah5:"26",a5G:"27"};
function ib(){df.call(this,[9,9],!1,"---panels/actions",df.sy.aF_);this.e=null;this.WW=[0,0]}ib.prototype=new df("");
ib.prototype.hw=function(){if(!y.D4(this.H0))return;if(this.cO){this.vr();return}this.cO=y.i("div","padded scrollable");
y.B(this.cO,"width:260px;  height:260px");this.H0.appendChild(this.cO);this.Q(_.E.V,this.Sb,this);this.nF=y.i("div","lpfoot");
this.H0.appendChild(this.nF);this.PG=[];var F="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",r="</svg>",$=F+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+r,C=F+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+r;
this.ao_=F+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+r;this.agW=F+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+r;
var M=[this.ao_,C,"lrs/folder","lrs/newlayer","lrs/bin",$],l=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var O=0;O<M.length;O++){var k=M[O];if(1<O&&O!=M.length-1)k="<img src=\""+PIMG[M[O]]+"\" class=\"miniscale gsicon\" />";
var d=new jC(k,!1,l[O]);d.Q("click",this.$p,this);this.nF.appendChild(d._);this.PG.push(d)}this.vr()};
ib.prototype.l=function(){df.prototype.l.call(this);if(this.cO==null)return;for(var O=0;O<this.PG.length;
O++)this.PG[O].l()};ib.prototype.$p=function(F){var O=this.PG.indexOf(F.currentTarget),r=this.WW,$=this.e,C=$.HF;
if(O==0){var M,l=$.vV;if(C.length==0){alert("Create an Action Set first.");return}if(r.length<2){alert("Select a target action first.");
return}if(l==null){M=this.agW;l=this.WW}else{M=this.ao_;l=null}this.PG[0].Ck(M);$.vV=l}else if(O==1)this.ay3();
else if(O==2||O==3){var k={qc:"Action Set "+C.length,FL:[],exp:!0};if(O==2||C.length==0){r=[C.length];
C.push(k)}if(O==3){var d=C[r[0]].FL;r=[r[0],d.length];d.push({qc:"Action "+d.length,color:0,FL:[],ahD:!1,shift:!1,exp:!0,Sc:d.length})}this.WW=r;
this.vr()}else if(O==4){var I;if(r.length==1)I=C;else if(r.length==2)I=C[r[0]].FL;else I=C[r[0]].FL[r[1]].FL;
var c=r.length-1;I.splice(r[c],1);if(I.length==0)r.pop();else while(r[c]>=I.length)r[c]--;if(r.length==0)r.push(0);
this.vr()}else if(O==5){if(C.length==0){alert("No Actions Present.");return}var Q=new k6(_.E.c,!0);Q.data={R:_.m.zn,aou:d3.O,qG:[r[0]]};
this.a(Q)}};ib.prototype.Sb=function(F){var r=this.e.HF,$=F.data.R,C=F.data.Wv;if($=="sel")this.WW=C;
if($=="fold"){if(C.length==1)r[C[0]].exp=!r[C[0]].exp;else r[C[0]].FL[C[1]].exp=!r[C[0]].FL[C[1]].exp}if($=="enab"){var M=r[C[0]].FL[C[1]].FL[C[2]];
M.T=!M.T}if($=="nchange"){if(C.length==1)r[C[0]].qc=F.data.PE;else r[C[0]].FL[C[1]].qc=F.data.PE}this.vr()};
ib.prototype.wK=ib.prototype.$x=function(){this.hw()};ib.prototype.Db=function(F,r){this.e=F;if(this.cO==null)return;
if(r==d3.O||r==d3.BN)this.vr()};ib.prototype.vr=function(){if(this.e==null)return;y.RR(this.cO);var F=this.e.HF;
if(F.length==0)return;var r=JSON.stringify(this.WW);for(var O=0;O<F.length;O++){var $=F[O],C=new ib.ed([O],r,$.exp,$.qc.split("=").pop());
C.parent=this;this.cO.appendChild(C._);if(!$.exp)continue;for(var M=0;M<$.FL.length;M++){var l=$.FL[M],C=new ib.ed([O,M],r,l.exp,l.qc.split("=").pop());
C.parent=this;this.cO.appendChild(C._);if(!l.exp)continue;for(var k=0;k<l.FL.length;k++){var d=l.FL[k],C=new ib.ed([O,M,k],r,null,dG.get(cQ.a3h(d)),d.T);
C.parent=this;this.cO.appendChild(C._)}}}};ib.prototype.ay3=function(){var F=this.e.HF,r=this.WW;if(F.length==0){alert("No Actions Present");
return}if(r.length==1){alert("Select an Action first");return}if(this.e.vV!=null){alert("You can not apply actions while recording actions");
return}if(r.length==1)r.push(0);var $=F[r[0]],C=$.FL[r[1]],M=new k6(_.E.c,!0);M.data={R:_.m.Gu,Fo:[C.qc,$.qc]};
this.a(M)};ib.ed=function(F,r,$,C,M){au.call(this);this.Wv=F;var l=this.Wv.length-1;this._=y.i("div","layeritem"+(JSON.stringify(F)==r?" selected":""));
this.MJ=y.i("div","head");this._.appendChild(this.MJ);y.B(this.MJ,"height:24px");this.iP=y.i("div","headL");
this.MJ.appendChild(this.iP);if(l!=0){var k=y.i("div");k.style.width=l*20+"px";this.iP.appendChild(k)}if($!=null){var d=this.arx=y.i("div",$?"open":"closed");
this.iP.appendChild(d)}else{var I=this.ar4=y.i("div","cmark");y.B(I,"background-size:12px 12px; opacity:"+(M?1:.3));
this.iP.appendChild(I)}if(l==0){var c=y.i("div","folder");this.iP.appendChild(c)}var Q=this.GP=y.i("div","label");
Q.textContent=C;this.iP.appendChild(Q);this._.addEventListener("mouseup",this.Ux.bind(this),!1)};ib.ed.prototype=new au;
ib.ed.prototype.Ux=function(F){if(F.detail==1&&F.target.tagName.toLowerCase()!="input"){var r="sel";
if(F.target==this.arx)r="fold";if(F.target==this.ar4)r="enab";var $=new k6(_.E.V,!0);$.data={R:r,Wv:this.Wv};
this.a($)}else if(this.Wv.length<3)var C=new df.Y_(this.GP,this.mt.bind(this))};ib.ed.prototype.mt=function(F){var r=new k6(_.E.V,!0);
r.data={R:"nchange",PE:F,Wv:this.Wv};this.a(r)};function kL(){df.call(this,[3],!1,"---lrs/adj",df.sy.aci)}kL.prototype=new df("");
kL.prototype.hw=function(){if(!y.D4(this.H0)||this.PG)return;y.B(this.H0,"text-align:center;  padding:6px; min-width:220px");
this.PG=[];var O=0;for(var F in f0.names){var r=new jC("<img src=\""+PIMG["adj/"+F]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,f0.names[F]);
r.Q("click",this.Gz,this);this.PG.push(r);this.H0.appendChild(r._);if(O==4||O==10)y.Hd(this.H0);O++}this.l()};
kL.prototype.wK=function(){this.hw()};kL.prototype.$x=function(){this.hw()};kL.prototype.l=function(){df.prototype.l.call(this);
if(this.PG==null)return;for(var O=0;O<this.PG.length;O++)this.PG[O].l()};kL.prototype.Gz=function(F){var r=this.PG.indexOf(F.target),$=dH.qH()[r],C=new k6($.s,!0);
C.data=$.h;this.a(C)};function bg(){df.call(this,[12,22],!1,null,df.sy.aD);this.cO=y.i("div","padded");
this.e=null;this.H0.appendChild(this.cO);this.Cm=new cG(null,17.7,10);this.Cm.parent=this;this.Cm.Q(_.E.V,this.jz,this);
this.cO.appendChild(this.Cm.yC)}bg.prototype=new df("");bg.prototype.jz=function(F){var r=this.Cm.k(),$=new k6(_.E.O,!0);
$.data={R:"setstl",Y:r.Fu};$.J=B.Ei;this.a($);$.data={R:"confirm"};this.a($)};bg.prototype.Db=function(F,r){this.e=F;
if(F==null)return;if(r==d3.BN||r==d3.aD){this.Cm.ZK([F.md,F.We]);this.Cm.Xt()}};bg.prototype.vr=function(){this.Cm.ps()};
bg.prototype.wK=function(){this.vr()};bg.prototype.$x=function(){this.vr()};var bM=function(){function F(){df.call(this,[9,3],!1,"---panels/brush",df.sy.UG);
this.lV=null;this.e=null}F.prototype=new df("");F.prototype.hw=function(){var M=y.i("div","");this.H0.appendChild(M);
this.bK=y.i("div","bordered cell");y.B(this.bK,"width:10em; height:28.5em;");M.appendChild(this.bK);
this.bP=[];this.apG=null;this.O6=[];var l=this.aen.bind(this);this.$0=[new $("basic"),new $("useTipDynamics"),new $("useScatter"),new $("useColorDynamics"),new $("usePaintDynamics")];
for(var O=0;O<this.$0.length;O++){var k=y.i("div","listitem"),d=this.$0[O],c=null;d.parent=this;d.Q("brushchange",this.aHo,this);
var I=d.Ow;if(O==0){this.apG=new eu(I);k.appendChild(this.apG._)}else{c=new jm(I,!1);c.Q(_.E.V,this.a91,this);
k.appendChild(c._)}this.O6.push(c);this.bK.appendChild(k);this.bP.push(k);k.addEventListener("click",l,!1)}this.fa=y.i("div","cell padded");
M.appendChild(this.fa);this.setItem(0);this.Ee=y.i("canvas");this.Ee.height=10;M.appendChild(this.Ee);
this.Tg=this.Ee.getContext("2d");this.nA()};F.prototype.Xt=function(M,l){if(this.a0==M)return;this.a0=M;
this.Y9=l;this.nA()};F.prototype.$x=function(){if(!y.D4(this.H0))return;if(this.bK){this.nA();return}this.hw();
this.l();this.Db(this.e,d3.BN)};F.prototype.l=function(){df.prototype.l.call(this);if(this.bK==null)return;
this.apG.l();for(var O=1;O<this.O6.length;O++)this.O6[O].l();for(var O=0;O<this.$0.length;O++)this.$0[O].l()};
F.prototype.aHo=function(M){var l=this.$0.indexOf(M.currentTarget),k=j.N(this.$0[l].lV),d=new k6(_.E.c,!0);
d.data={R:_.m.WF,jg:d3.$B,lV:k};this.a(d)};F.prototype.a91=function(M){this.aJx(this.O6.indexOf(M.currentTarget),M.currentTarget.s$())};
F.prototype.aen=function(M){var O=this.bP.indexOf(M.currentTarget);if(M.target.tagName.toLowerCase()=="input")return;
if(this.O6[O]&&!this.O6[O].s$()){this.O6[O].z1();this.aJx(O,!0)}this.setItem(O)};F.prototype.aJx=function(M,l){this.$0[M].aoG(l)};
F.prototype.setItem=function(M){for(var O=0;O<this.$0.length;O++)this.bP[O].className="listitem";if(this.fa.firstChild)this.fa.removeChild(this.fa.firstChild);
this.bP[M].className="listitem selected";this.fa.appendChild(this.$0[M]._)};F.prototype.Db=function(M,l){this.e=M;
if(this.bK==null)return;for(var O=0;O<this.$0.length;O++)this.$0[O].Db(M,l);if(l==d3.$B||l==d3.BN){this.lV=M.sO.zU;
this.nA()}if(l==d3.VV)this.nA()};F.prototype.nA=function(){if(this.lV)this.enable();else{this.disable();
return}if(!y.D4(this.H0))return;var M=this.e;for(var O=0;O<this.$0.length;O++){this.$0[O].o(this.lV);
if(this.O6[O])this.O6[O].o(this.$0[O].s$())}var l=j.N(this.lV);l.Brsh.v.Dmtr.v.val=Math.min(l.Brsh.v.Dmtr.v.val,50);
y.jd(this.Ee,this.a0,80);var k=new cS(0,0,this.Ee.width,this.Ee.height),d=this.e.sO,I=new ap(l,d?d.QY:null,d?d.fQ:null,{gz:1},M.y1,M.J2,k,null,0),c=k.$/2,Q=k.r-c*2;
I.moveTo(c,c);for(var O=0;O<=Q;O+=10)I.lineTo(c+O,c+20*Math.sin(2*Math.PI*O/Q));I.finish();var x=new ImageData(k.r,k.$);
j.mR(I.Vr(),I.y2(),x.data,k);this.Tg.putImageData(x,0,0)};function r(M){au.call(this);M=M.split(".")[0];
this.s_=M;var l=this._=y.i("span"),k=["Off","Fade"];k.push(M=="angleDynamics"?"Direction":"Pen Pressure");
var d=this.J0=new bc("Control",k);d.Q(_.E.V,this.ms,this);l.appendChild(d._);var I=this.a3k=new eT(null,0,100,null,null,null,!0);
I.o(50);I.Q(_.E.V,this.ms,this)}r.prototype=new au;r.prototype.o=function(M){M=M<2?M:2;this.J0.o(M);
this.vr()};r.prototype.k=function(){var M=this.J0.k(),l=this.s_;M=M<=1?M:l=="angleDynamics"?6:2;return M};
r.prototype.ms=function(M){this.vr();M.target=M.currentTarget=this;this.a(M)};r.prototype.vr=function(M){this.a3k.fC(this.J0.k()==1)};
function $(M){au.call(this);this._=y.i("div");this.lV=null;var l=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(M);
this.Ow=[[15,0],[15,1],[15,2],[15,3],"Transfer"][l];this.xC=M;this.$c={};this.aJW=null;var k=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter szVr.bVTy szVr.fStp minimumDiameter angleDynamics.jitter angleDynamics.bVTy angleDynamics.fStp roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],"opVr.jitter opVr.bVTy opVr.fStp prVr.jitter prVr.bVTy prVr.fStp".split(" ")][l];
for(var O=0;O<k.length;O++){var d=k[O],I;if(d=="--br"){I=new gt;this._.appendChild(I.yC.firstChild)}else if(d=="Brsh.Dmtr")I=new gm([12,14,0],1,1e3," px",0,!0);
else if(d=="Brsh.Angl")I=new gm([12,15],0,359," \xB0");else if(d=="Brsh.Rndn")I=new gm([12,16],0,100," %");
else if(d=="Brsh.Hrdn")I=new gm([12,17],0,100," %");else if(d=="Brsh.Spcn")I=new gm([12,18],1,300," %");
else if(d=="szVr.jitter")I=new gm([15,4,0],0,100,"%");else if(d=="minimumDiameter")I=new gm([15,4,1],0,100,"%");
else if(d=="angleDynamics.jitter")I=new gm([15,4,2],0,100,"%");else if(d.endsWith("bVTy"))I=new r(d);
else if(d.endsWith("fStp"))I=new eT(null,0,100,null,null,null,!0);else if(d=="roundnessDynamics.jitter")I=new gm([15,4,3],0,100,"%");
else if(d=="minimumRoundness")I=new gm([15,4,4],1,100,"%");else if(d=="scatterDynamics.jitter")I=new gm([15,5,0],0,1e3," %");
else if(d=="Cnt")I=new gm([15,5,1],1,20);else if(d=="countDynamics.jitter")I=new gm([15,5,2],0,100," %");
else if(d=="clVr.jitter")I=new gm([15,6,0],0,100," %");else if(d=="H")I=new gm([15,6,1],0,100," %");
else if(d=="Strt")I=new gm([15,6,2],0,100," %");else if(d=="Brgh")I=new gm([15,6,3],0,100," %");else if(d=="opVr.jitter")I=new gm("Opacity Jitter",0,100," %");
else if(d=="prVr.jitter")I=new gm("Flow Jitter",0,100," %");else throw d;this.$c[d]=I;I.parent=this;
I.Q(_.E.V,this.ms,this)}}$.prototype=new au;$.prototype.awT=function(){this.a(new k6("brushchange"))};
$.prototype.o=function(M){this.lV=j.N(M);this._.className=this.s$()?"":"disabled";this.nA()};$.prototype.l=function(){for(var M in this.$c)this.$c[M].l()};
$.prototype.s$=function(){return!0};$.prototype.Db=function(M,l){if(l==d3.UG||l==d3.BN){var k=this.$c["--br"];
if(k)k.ZK(M.sO)}};$.prototype.ms=function(M){var l=M.target,k=this.$c,d;for(var I in k)if(k[I]==l)d=I;
if(d=="--br"){var c=new k6(_.E.c,!0);c.data={R:_.m.WF,jg:d3.$B,lV:l.k()};this.a(c)}else{var Q=C(this.lV,d),x=l.k();
if(Q){if(d.endsWith("bVTy")||d.endsWith("fStp")||d=="Cnt")Q.v=x;else Q.v.val=x;this.awT()}}};$.prototype.nA=function(){var M=this.lV,l=M.Brsh.v.classID,k=this.$c,d=l!=this.aJW;
this.aJW=l;if(d){y.RR(this._);for(var I in k){if(l!="computedBrush"&&l!="sampledBrush"&&I=="Brsh.Rndn")continue;
if(l!="computedBrush"&&I=="Brsh.Hrdn")continue;var c=k[I],Q=c._;if(I=="--br"){Q=c.kL._;Q.style.width="auto"}this._.appendChild(Q)}}for(var I in k){if(I=="--br")continue;
var x=C(M,I),U;if(x){if(I.endsWith("bVTy")||I.endsWith("fStp")||I=="Cnt")U=x.v;else U=x.v.val;k[I].o(U);
if(I.endsWith("fStp"))k[I].fC(C(M,I.split(".")[0]+".bVTy").v==1)}}};$.prototype.s$=function(){var M=this.xC;
return M=="basic"?!0:this.lV[M].v};$.prototype.aoG=function(M){var l=this.xC;if(l=="basic")return;this.lV[l].v=M;
g9.B9.a9N(this.lV);this.awT()};function C(M,l){var k=l.split(".");M=M[k[0]];for(var O=1;O<k.length;O++){if(M==null)return M;
M=M.v[k[O]]}return M}return F}();function hp(){df.call(this,[9,0],!1,"---panels/history",df.sy.sT);y.B(this.H0,"min-width:200px;");
this.Np=y.i("div","hpbody scrollable");this.Np.style.height="160px";this.H0.appendChild(this.Np);this.aae=-1;
this.a83=[];this.oD="";this.t5=new aj([{name:"Clear History"}],[{s:_.E.O,J:B.sT,h:{R:"h_clear"}}])}hp.prototype=new df("");
hp.prototype.Wx=function(){return this.t5};hp.prototype.Xt=function(F,r){this.$x()};hp.prototype.wK=function(F){if(F==null){y.RR(this.Np);
this.oD="";return}y.RR(this.Np);var r=0;for(var O=0;O<F.history.length;O++)if(O<=F.Qc&&!F.history[O].VN)r=O;
for(var O=0;O<F.history.length;O++){var $=F.history[O];if($.VN)continue;var C=new bT($,O,r);C.parent=this;
this.Np.appendChild(C._);this.a83.push(C)}if(F.Qc==F.history.length-1)this.$x()};hp.prototype.$x=function(){this.Np.scrollTop=this.Np.scrollHeight};
hp.prototype.l=function(){df.prototype.l.call(this);for(var O=0;O<this.a83.length;O++)this.a83[O].l()};
function bT(F,O,r){au.call(this);this.index=O;this._=y.i("div",O==r?"listitem selected":"listitem");
this.Se=F.name;this.l();if(O>r)this._.style.opacity=.4;this._.addEventListener("click",this.SY.bind(this),!1)}bT.prototype=new au;
bT.prototype.l=function(){this._.textContent=dG.get(this.Se)};bT.prototype.SY=function(F){if(this.index==this.parent.aae)return;
this._Y({R:"h_itemchange",index:this.index})};bT.prototype._Y=function(F){var r=new k6(_.E.O,!0);r.data=F;
r.J=B.sT;this.a(r)};function fB(){df.call(this,[9,10],!1,"---panels/histogram",df.sy.arZ);var F=y.i("div","padded");
this.H0.appendChild(F);this.In=new jT(256,!0);F.appendChild(this.In._);this.oo=null}fB.prototype=new df("");
fB.prototype.wK=function(F){this.oo=F;this.vr()};fB.prototype.vr=function(){var F=this.oo;if(!y.D4(this.H0))return;
if(F==null||F.K.length==0){this.In.o(j.DP(j.j(4)));return}var r=F.Ez(),$=new cS(0,0,F.r,F.$),C=$.C();
if(F.d){var M=F.d.S,l=j.j(M.C()*4);j.mR(r,$,l,M);j.Qk(F.d.G,l);r=l;$=M;var k=F.d.G;C=0;for(var O=0;O<k.length;
O++)C+=k[O];C=Math.round(C/255)}var d=j.DP(r);d[0][255]+=3*(C-d[5]);for(var O=1;O<4;O++)d[O][255]+=C-d[5];
this.In.o(d,C)};fB.prototype.Db=function(F,r){this.In.ZJ(at.G1[F.di]["--text-color"])};fB.prototype.l=function(){df.prototype.l.call(this);
this.In.l()};fB.prototype.$x=function(){this.vr()};function kV(){df.call(this,[9,8],!1,"---adj/clrL",df.sy.ap3);
this.cO=y.i("div","padded");this.H0.appendChild(this.cO);this.s7=new ce(10);this.cO.appendChild(this.s7._);
this.iU=new bW;this.iU.parent=this;this.cO.appendChild(this.iU.yC);this.iU.yC.style.marginTop="6px";
this.s7.Q(_.E.V,this.axr,this);this.iU.Q(_.E.V,this.axr,this)}kV.prototype=new df("");kV.prototype.axr=function(F){var r;
if(F.target==this.s7)r=this.s7.k();else{var $=this.iU.k();r=j.Vw($)}var C=new k6(_.E.c,!0);C.data={R:_.m.WF,jg:d3.VV,vz:0,Y:r};
this.a(C)};kV.z2=function(F,r){var $=r==d3.BN,C=F.fc,M=F.YB,l=M.strokeStyleContent.v,k=null;if((r==d3.gv||$)&&C.Ef==1){k=j.qS.MB(C.v$.Clr.v);
k=k.t<<16|k.L<<8|k.X}if((r==d3.NJ||$)&&M.strokeEnabled.v&&l.classID=="solidColorLayer"){k=j.qS.MB(l.Clr.v);
k=k.t<<16|k.L<<8|k.X}if(r==d3.VV||$)k=F.y1;return k};kV.prototype.Db=function(F,r){var $=F.y1,C=r==d3.BN,M=kV.z2(F,r);
if(M!=null){this.s7.o(M);this.iU.o({t:M>>>16&255,L:M>>>8&255,X:M>>>0&255,Rm:"Default/Color #"+j.lN(M)})}if(r==d3.oF||C){var l=F.aAb;
this.iU.ZK(l)}};kV.prototype.Xt=function(F,r){this.iU.yC.children[0].style.width=F-32+"px"};function hi(){df.call(this,[12,72],!1,"---adj/mixr",df.sy.aDx);
this._A=null;this.xB=null;this.Np=y.i("div","lpbody scrollable");this.Np.style.marginTop="4px";this.nF=y.i("div","lpfoot");
this.H0.appendChild(this.Np);this.H0.appendChild(this.nF);this.aaO=[];this.Q("click",this.wg,this);this.xu=[];
hi.zc([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.xu,this.nF,this.St.bind(this),this.cf.bind(this));
this.t5=new aj([{name:"Merge Channels",Q5:!0}],[{s:_.E.c,h:{R:_.m.Oe,rS:"mergechannels"}}])}hi.prototype=new df("");
hi.prototype.Wx=function(){return this.t5};hi.zc=function(F,r,$,C,M){for(var O=0;O<F.length;O++){var l=new jC("W",!1,F[O]);
r.push(l);y.TX(l._,C);$.appendChild(l._);var k=l._;k.addEventListener("drop",M,!1);k.addEventListener("dragover",function(d){d.preventDefault()},!1);
k.addEventListener("dragenter",y.Dk,!1)}};hi.nY=function(F,r){for(var O=0;O<F.length;O++)if(F[O]._==r.currentTarget)return O};
hi.prototype.St=function(F){var r=hi.nY(this.xu,F);if(r==0)this.a(kd.kC(!0,null,F));else{r--;var $=new k6(_.E.wG,!0),C={classID:"null"};
if(r==0)C.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(r==1)C.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else C.null=cQ.sZ("Chnl",!0);$.data={hE:["duplicate","make","delete"][r],iH:C};this.a($)}};hi.prototype.cf=function(F){var r=hi.nY(this.xu,F);
if(r==2){var $=new k6(_.E.wG,!0),C={classID:"null"};C.null=cQ.sZ("Chnl",!0);$.data={hE:"duplicate",iH:C};
this.a($)}else this.St(F)};hi.prototype.L_=function(O){var F=this.aaO,r=F[O];if(r==null){var $=y.i("canvas");
r=$.getContext("2d");F.push(r)}return r};hi.prototype.wg=function(F){var r=this._A.slice(0),$=F.data.Sc,C=r[0]+r[1]+r[2],M=this.xB;
if(-5<$&&$<0){var l=-$-1;if(F.data.TA){if(l==0)r=C==3?[0,0,0]:[1,1,1];else{if(r[l-1]==0)r[l-1]=1;else if(!0)r[l-1]=0}}else{if(l==0)r=[1,1,1];
else{r=[0,0,0];r[l-1]=1}for(var O=0;O<M.Bs.length;O++)M.Bs[O].Nn=!1;M.GY=[]}var k=new k6(_.E.O,!0);k.J=B.H1;
k.data={R:"setcls",BS:r};this.a(k);return}if(-1<$){var d=M.u[$],I=d.Go==1?d.rc():d.WZ(M).Lj;if(F.data.TA)I.Nn=!I.Nn;
else{for(var O=0;O<M.Bs.length;O++)M.Bs[O].Nn=!1;M.GY=[]}}else{var c=-$-5,I=M.Bs[c];if(F.data.TA)I.Nn=!I.Nn;
else{for(var O=0;O<M.Bs.length;O++)M.Bs[O].Nn=!1;I.Nn=!0;M.GY=[c];if(C!=0){var k=new k6(_.E.O,!0);k.J=B.H1;
k.data={R:"setcls",BS:[0,0,0]};this.a(k)}}}M.eD=M.GF=!0};hi.prototype.$x=function(){this.R0()};hi.prototype.wK=function(F){this.xB=F;
this.R0()};hi.prototype.R0=function(){var F=this.xB,r=this.Np,S=4;y.RR(r);if(F==null||!y.D4(r))return;
var $=F.r,C=F.$,M=new cS(0,0,$,C),l=this._A=F.f.BS.slice(0),k=l[0]+l[1]+l[2],d=Math.round(34*y.ha()),I=d;
if($>C)I=Math.round(I*C/$);else d=Math.round(d*$/C);var c=["RGB"].concat(f0._5);for(var O=0;O<4;O++){var Q=this.L_(O);
j.DA.lx(Q,d,I,M,F.Ez(),M,!1,O==0?null:O-1);var x=O==0?k==3:l[O-1]==1,U=new kd(-1-O,!0,!0,Q,c[O],x,x);
U.parent=this;r.appendChild(U._);y._6(Q.canvas)}for(var O=0;O<F.K.length;O++){var z=F.u[F.K[O]],V=z.Go;
if(V!=1&&V!=3)continue;var t=V==1?z.rc():z.WZ(F).Lj,Q=this.L_(S+O);S++;j.DA.hC(Q,d,I,M,t);var U=new kd(F.K[O],!0,!0,Q,z.getName()+(V==1?"":" Filter")+" Mask",!0,t.Nn);
U.parent=this;r.appendChild(U._);y._6(Q.canvas)}for(var O=0;O<F.Bs.length;O++){var t=F.Bs[O],Q=this.L_(S+O);
j.DA.hC(Q,d,I,M,t);var U=new kd(-5-O,!0,t.name=="Quick Mask",Q,t.name,F.GY.indexOf(O)!=-1,t.Nn,B.pO,{R:Z.mV,vz:"rnm",Sc:O});
U.parent=this;r.appendChild(U._);y._6(Q.canvas)}};hi.prototype.Xt=function(F,r){this.Np.style.height=r-30-4+"px";
this.Np.style.width=F+"px"};hi.prototype.l=function(){df.prototype.l.call(this);this.R0();hi.ff(this.xu,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
hi.ff=function(F,r,$){var r=a8.Jl(r,null,"miniscale");for(var O=0;O<F.length;O++)F[O].Ck(r[O],$?$[O]:null)};
function kd(F,r,$,C,M,l,k,d,I){au.call(this);this._=y.i("div");this.aJf=F;this.a0Q=r;this.Tg=C;this.aov=d;
this.ajl=I;this.MJ=y.i("div",l?"head selected":"head");y.B(this.MJ,"height: "+40+"px");var c=y.i("div","headL"),Q=y.i("div","headR"),x=15;
this._.appendChild(this.MJ);this.MJ.appendChild(c);this.MJ.appendChild(Q);this.Sl=y.i("div","eye");if(1<y.ha()&&y.ha()<1.5)x=x/y.ha();
y.B(this.Sl,"background-size: "+x+"px "+x+"px;");this.Sl.style.opacity=k?1:.2;if(r)c.appendChild(this.Sl);
this.KG=y.i("div","thumb");if(C)this.KG.appendChild(C.canvas);c.appendChild(this.KG);this.HQ=y.i("div","label");
if($)this.HQ.style.fontStyle="italic";this.HQ.textContent=dG.get(M);c.appendChild(this.HQ);var U=this.MJ;
U.setAttribute("draggable","true");U.addEventListener("dragstart",function(S){S.stopPropagation();S.dataTransfer.setData("Text","hello")},!1);
U.addEventListener("drop",y.Dk,!1);y.TX(this.MJ,this.aHO.bind(this));if(!$)this.MJ.addEventListener("mouseup",this.ahQ.bind(this),!1)}kd.prototype=new au;
kd.prototype.mt=function(F){var r=new k6(_.E.O,!0);r.J=this.aov;r.data=this.ajl;r.data.name=F;this.a(r)};
kd.prototype.aHO=function(F){var r=F.ctrlKey||F.metaKey,$=this.aJf;if(r&&F.target==this.Tg.canvas){this.a(kd.kC(this.a0Q,$,F))}else{var C=new k6("click",!0);
C.data={Sc:$,TA:F.target==this.Sl,u6:r};this.a(C)}};kd.prototype.ahQ=function(F){if(F.detail==2&&F.target==this.HQ){var r=new df.Y_(this.HQ,this.mt.bind(this))}};
kd.kC=function(F,r,$){var C=0;if($.shiftKey)C++;if($.altKey)C+=2;var M=new k6(_.E.O,!0);M.J=B.gI;if(F){if(-5<r&&r<0){M=new k6(_.E.wG,!0);
M.data=B.u_.$b(C,["RGB","Rd","Grn","Bl"][-1-r])}else M.data={R:"fromchannel",Fo:[r,0,C]}}else M.data={R:"frompath",Fo:[r,0,C]};
return M};function k5(){df.call(this,[8,9],!1,"---panels/paths",df.sy.jD);this._A=null;this.xB=null;
this.Np=y.i("div","lpbody scrollable");this.Np.style.marginTop="4px";this.nF=y.i("div","lpfoot");this.H0.appendChild(this.Np);
this.H0.appendChild(this.nF);this.H0.addEventListener("click",this.a4B.bind(this),!1);this.aaO=[];this.Q("click",this.wg,this);
this.xu=[];hi.zc(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.xu,this.nF,this.St.bind(this),this.cf.bind(this))}k5.prototype=new df("");
k5.prototype.St=function(F,r){var $=hi.nY(this.xu,F),C;if($<2){if($==1&&F.altKey){C=new k6(_.E.c,!0);
C.data={R:_.m.Oe,rS:"strokepath"}}else{C=new k6(_.E.wG,!0);C.data=B._J.uA($==0?null:"PbTl")}}else if($==2)C=kd.kC(!1,null,F);
else if($==3){C=new k6(_.E.wG,!0);C.data=B.u_.ab1()}else if($>3){var C=new k6(_.E.O,!0);C.J=B.I6;C.data={R:"pathedit",vz:["new","del"][$-4],aHz:r}}this.a(C)};
k5.prototype.cf=function(F){this.St(F,!0)};k5.prototype.L_=function(O){var F=this.aaO,r=F[O];if(r==null){var $=y.i("canvas");
r=$.getContext("2d");F.push(r)}return r};k5.prototype.a4B=function(F){if(F.target==this.Np){var r=this.xB;
r.tk=[];r.dy=[];r.GF=!0;r.eD=!0}};k5.prototype.wg=function(F){var r=F.data.Sc,$=this.xB,C=F.data.u6,M=r,l=$.dy,k=$.tk;
if(r<0){M=-1-r;l=$.tk;k=$.dy}if(C){var d=l.indexOf(M);if(d==-1)l.push(M);else l.splice(d,1)}else{while(l.length!=0)l.pop();
while(k.length!=0)k.pop();l.push(M)}$.GF=!0;$.eD=!0};k5.prototype.$x=function(){this.R0()};k5.prototype.wK=function(F){this.xB=F;
this.R0()};k5.prototype.R0=function(){var F=this.xB,r=this.Np;y.RR(r);if(F==null||!y.D4(r))return;var $=F.r,C=F.$,M=new cS(0,0,$,C),l=this._A=F.f.BS.slice(0),k=l[0]+l[1]+l[2],d=Math.round(34*y.ha()),I=d;
if($>C)I=Math.round(I*C/$);else d=Math.round(d*$/C);var c=F.Ug(),Q=c[0];for(var O=0;O<Q.length;O++){var x=Q[O],U=F.D3!=-1&&F.D3==-1-x.Sc,S=this.L_(O);
j.DA.a3i(S,d,I,M,x.add.vmsk,U);var z=new kd(x.Sc,!1,x.Sc>=0||U,S,x.name,c[1].indexOf(O)!=-1,!1,B.I6,{R:"pathedit",vz:"rnm",Sc:x.Sc});
z.parent=this;r.appendChild(z._);y._6(S.canvas)}};k5.prototype.Xt=function(F,r){this.Np.style.height=r-30-4+"px";
this.Np.style.width=F+"px"};k5.prototype.l=function(){df.prototype.l.call(this);this.R0();hi.ff(this.xu,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function ad(F){df.call(this,[9,F?4:5],!1,"---panels/"+(F?"character":"paragraph"),F?df.sy.aye:df.sy.a0n);
y.B(this.H0,"min-width:255px;");this.aCX=F;this.Xn=null;this.e=null}ad.prototype=new df("");ad.prototype.hw=function(){this.Xn=new di;
var F=this.Xn,r=this.H0;F.parent=this;if(this.aCX){var $=y.i("div","marged");r.appendChild($);$.appendChild(F.Su._);
r.appendChild(y.i("hr"));var C=y.i("div","marged");r.appendChild(C);C.appendChild(F.pY._);C.appendChild(F.dE._);
var M=y.i("div","marged");r.appendChild(M);M.appendChild(F.zr._);M.appendChild(F.pn._);r.appendChild(y.i("hr"));
var l=y.i("div","marged");r.appendChild(l);l.appendChild(F.M8._);l.appendChild(F.rT._);var k=y.i("div","marged");
r.appendChild(k);k.appendChild(F.d2._);k.appendChild(F.lI._);k.appendChild(F.BD._);r.appendChild(y.i("hr"));
var d=y.i("div","marged");r.appendChild(d);d.appendChild(F.Je._);d.appendChild(F.a8._);d.appendChild(F.eU._);
d.appendChild(F.VA._);d.appendChild(F.sS._);d.appendChild(F.Lp._);d.appendChild(F.fD._);d.appendChild(F.DV._);
var I=y.i("div","marged");r.appendChild(I);for(var O=0;O<8;O++)I.appendChild(F.gO[O]._)}else{var $=y.i("div","marged");
r.appendChild($);$.appendChild(F.aB3._);$.appendChild(F.avz._);$.appendChild(F.a7k._);$.appendChild(F.aku._);
$.appendChild(F.a6p._);$.appendChild(F.adD._);$.appendChild(F.ana._);r.appendChild(y.i("hr"));var C=y.i("div","marged");
r.appendChild(C);C.appendChild(F.a5._);C.appendChild(F.xE._);C.appendChild(F.kM._);r.appendChild(y.i("hr"));
var M=y.i("div","marged");r.appendChild(M);M.appendChild(F.kw._);M.appendChild(F.NV._);M.appendChild(F.Rs._);
M.appendChild(F.Rc._)}};ad.prototype.$x=function(){if(!y.D4(this.H0))return;if(this.Xn==null){this.hw();
var F=this.e;if(F)this.Xn.o(F.yc,F.v7,F.fz);this.Xn.l()}};ad.prototype.l=function(){df.prototype.l.call(this);
if(this.Xn)this.Xn.l()};ad.prototype.Db=function(F,r){this.e=F;if(r!=d3.BN&&r!=d3.yp&&r!=d3.r3&&r!=d3.Wt)return;
if(this.Xn)this.Xn.o(F.yc,F.v7,F.fz)};function hZ(F){df.call(this,F?"Character Styles":"Paragraph Styles",!1,null,F?df.sy.aE7:df.sy.aBs);
y.B(this.H0,"min-width:240px;");var r=this.Mc=y.i("div","scrollable");this.H0.appendChild(r);y.B(r,"max-height:400px;");
this.NU=null;this.a1$=null;this.tJ=null;this.aCX=F?0:1;this.oo=null;this.e=null;this.aqR=hZ.prototype.ux.bind(this)}hZ.prototype=new df("");
hZ.prototype.wK=function(F,r,$){this.oo=F;this.e=$;this.R0()};hZ.prototype.R0=function(){var F=this.Mc;
y.RR(F);if(!y.D4(this.H0))return;var r=this.oo,$=this.e;if(r==null||$==null)return;var C=$.yc,M=this.NU=[],l={},k=this.a1$=[],d=this.tJ=[],I={},c=this.aCX,Q=c==0?"Style":"Paragraph";
for(var O=0;O<r.u.length;O++){var x=r.u[O].add.TySh;if(x==null)continue;var U=x.$E,S=x.U.w5(),z=U.ResourceDict.FontSet,V=U.EngineDict[Q+"Run"],t=V.RunArray;
for(var Y=0;Y<t.length;Y++){var i=hZ.a7L(t[Y][Q+"Sheet"][c==0?"StyleSheetData":"Properties"],c,z,k,I,S);
if(i.FillColor==null)i.FillColor={Type:1,Values:[1,0,0,0]};var J=JSON.stringify(i);if(l[J]==null){l[J]=!0;
M.push(i)}}}var H=c==0?function(E,cj){return cj.FontSize-E.FontSize}:function(E,cj){return E.Justify-cj.Justify};
M.sort(H);var v=[];if(c==0){var n=[[1,.28,.28,.28],[1,1,1,1],[1,.85,.95,1],[1,.95,.85],[1,0,0,.3],[1,.3,0,0]],G=n.length,g=new Array(G),W=1e9,L=0;
g.fill(1e9);for(var O=0;O<M.length;O++){var b=M[O],z=b.FontSize;W=Math.min(W,z);L=Math.max(L,z);var T=b.FillColor.Values,a=(T[1]+T[2]+T[3])/3;
v[O]=a>.5?[1,.15,.15,.15]:[1,.85,.85,.85]}}var R=hZ.a7L(c==0?C.Uz:C.jv,c,C.WX,k,I,1),D=JSON.stringify(R);
for(var O=0;O<M.length;O++){var h=y.i("div");F.appendChild(h);d.push(h);h.addEventListener("click",this.aqR,!1);
var b=M[O],K=JSON.stringify(b)==D;if(c==0){var X=k[b.Font].Name,w=X.toLowerCase(),N=w.indexOf("bold")!=-1||w.indexOf("-black")!=-1,s=w.indexOf("italic")!=-1||w.indexOf("oblique")!=-1||w.endsWith("-it"),A=w.indexOf("light")!=-1,z=b.FontSize,T=b.FillColor.Values,p=v[O];
if(K){p=p.slice(0);p[1]=Math.min(1,p[1]+.2)}var q=L==W?.5:(z-W)/(L-W),C=10+16*q,e="overflow:hidden; white-space:nowrap; height:38px;  font-size:"+C+"px; color:"+CSS.ix({t:T[1]*255,L:T[2]*255,X:T[3]*255})+"; line-height:"+38+"px; background-color:"+CSS.ix({t:p[1]*255,L:p[2]*255,X:p[3]*255})+";";
if(N)e+=" font-weight:bold;";if(s)e+=" font-style:italic;";if(A)e+=" font-weight:lighter;";y.B(h,e);
var o=y.i("span");h.appendChild(o);y.B(o,"display:inline-block;  width:"+(L>99?50:40)+"px;  text-align:right;  margin-right:5px;");
o.textContent=Math.round(z);o=y.i("span");h.appendChild(o);y.B(o,"display:inline-block;  width:130px; ");
o.textContent=X}}};hZ.prototype.ux=function(F){var r=j.N(this.e.yc),O=this.tJ.indexOf(F.currentTarget),$=this.NU[O];
for(var C in $)if(C!="Font")r.Uz[C]=$[C];ho.jl(r,this.a1$[$.Font].Name);console.log(r);var M=new k6(_.E.c,!0);
M.data={R:_.m.WF,jg:d3.yp,yc:r};this.a(M);var M=new k6(_.E.O,!0);M.J=B.Q_;M.data={R:"updateStyles"};
this.a(M)};hZ.a7L=function(F,r,$,C,M,l){var k=r==0?["Font","FontSize","FillColor"]:[],d={};for(var I=0;
I<k.length;I++)d[k[I]]=F[k[I]];if(r==0){if(d.Font!=null){var c=$[d.Font].Name;if(M[c]==null){M[c]=C.length;
C.push($[d.Font])}d.Font=M[c]}d.FontSize=d.FontSize*l}return d};hZ.prototype.$x=function(){if(!y.D4(this.H0))return};
hZ.prototype.l=function(){df.prototype.l.call(this)};hZ.prototype.Db=function(F,r){this.e=F;this.R0()};
function ks(){df.call(this,[9,13],!1,"---panels/glyphs",df.sy.avr);this.e=null}ks.prototype=new df("");
ks.prototype.hw=function(){this.Xn=new di;this.Xn.parent=this;this.a2R=null;this.azi=null;this.Pc=null;
this.ap2=null;this.xh=Math.round(290*y.ha());this.P9=45;this.k$=4;this.ayB=this.vr.bind(this);this.a4e=0;
this.oZ=new bc(null,["Hi","Hello"]);this.oZ.Q(_.E.V,this.vr,this);var F=this.lH=new jC("-",null,null,!0);
F.Q("click",this.ahB,this);var r=this.alN=new jC("+",null,null,!0);r.Q("click",this.ahB,this);this.kL=new cx(!1);
this.kL.Q(_.E.V,this.nd,this);this.kL._.style.height=250+"px";var $=this.hv=y.i("div","form padded");
this.H0.appendChild($);$.appendChild(this.Xn.Su._);y.Hd($);$.appendChild(this.oZ._);$.appendChild(F._);
$.appendChild(r._);this.H0.appendChild(this.kL._)};ks.prototype.Xt=function(F,r){if(this.a0==F||this.Xn==null)return;
this.a0=F;this.xh=Math.floor((F-13)*y.ha());y.B(this.hv,"width:"+this.xh/y.ha()+"px;");this.kL._.style.height=r-73+"px";
this.vr()};ks.prototype.nd=function(F){var r=this.ap0(),$=Math.round(this.xh/r);r/=y.ha();var C=this.kL.k()[0]*$*this.k$,M=this.kL.amz();
C+=Math.floor(M.y/r)*$;C+=Math.floor(M.x/r);var l=this.Pc[this.oZ.k()];if(C>=l.length)return;var k=l[C],d=this.ap2[k],I=new k6(_.E.O,!0);
I.J=B.Q_;if(d.sM.length==0)I.data={R:"insertGlyph",Y:C+1};else I.data={R:"insertText",Y:String.fromCodePoint(d.sM[0])};
this.a(I)};ks.prototype.ahB=function(F){var r=1.2;if(F.target==this.lH){if(this.P9>20)this.P9/=r}else{if(this.P9<100)this.P9*=r}this.vr()};
ks.prototype.$x=function(){this.Db(this.e)};ks.prototype.Db=function(F,r){this.e=F;if(!y.D4(this.H0))return;
if(this.Xn==null)this.hw();this.Xn.o(F.yc,F.v7,F.fz);var $=F.yc,C=$.Uz.Font,I=0;if(C==null)return;var M=$.WX[C].Name;
if(this.a2R==M)return;var C=F.v7.yV(M);if(C==null)return;var l=C.maxp.numGlyphs,k=this.ap2=new Array(l);
for(var O=0;O<l;O++)k[O]={sM:[]};var d=Date.now(),c=new Uint8Array(1048575);for(var O=0;O<1048575;O++){var Q=Typr.U.codeToGlyph(C,O);
if(Q!=0&&Q<l){c[O]=1;if(k[Q].sM.length==0)I++;k[Q].sM.push(O)}}var x=ks.w2,U=[];for(var O=0;O<x.length;
O++)U.push([]);for(var Q=1;Q<l;Q++){U[0].push(Q);var S=k[Q].sM[0];if(S==null){continue}for(var z=1;z<x.length;
z++){var V=x[z].Tc;for(var O=0;O<V.length;O+=2)if(V[O]<=S&&S<=V[O+1]){U[z].push(Q);break}}}this.Pc=U;
var t=[];for(var O=0;O<x.length;O++)t.push(x[O].Nm+" ("+U[O].length+")");var Y=this.oZ.k();this.oZ.Ek(t);
this.oZ.o(Y);this.a2R=M;this.azi=C;this.vr()};ks.prototype.ap0=function(F){var r=Math.floor(this.xh/this.P9);
return Math.floor(this.xh/r)};ks.prototype.vr=function(F){if(!y.D4(this.H0)||this.Pc==null)return;var r=this.Pc[this.oZ.k()],$=r.length,C=this.azi,M=Typr.U,l=this.ap0(),k=l,d=k*.8,I=k*.8/C.head.unitsPerEm,c=[],Q=Math.floor(this.xh/l),x=Math.ceil($/Q),U=this.k$,S=Date.now();
for(var z=0;z<x;z+=U){var V=y.i("canvas"),t=V.getContext("2d");V.width=l*Q;V.height=k*U;t.fillStyle="white";
t.fillRect(0,0,Q*l,k*U);for(var Y=0;Y<U;Y++){for(var i=0;i<Q;i++){var O=r[(z+Y)*Q+i];if(O==null)break;
var J=M.glyphToPath(C,O),H=j.b.sY(J.crds);t.fillStyle="#252525";if(H.XS()){var v=C.hmtx,n=[],b=170;for(var G in v)n.push(G);
var g=v[n[0]][O],W=v[n[1]][O],L=Math.max(g,W);J={cmds:"M L M L M L".split(" "),crds:[0,0,L,0,0,-b,0,b,L,-b,L,b]};
H.r=L;H.x=0;t.strokeStyle="rgba(0,255,0,1)"}t.beginPath();var T=i*l+(l-H.r*I)*.5-H.x*I,a=Y*k+d;t.translate(T,a);
t.scale(I,-I);M.pathToContext(J,t);t.scale(1/I,-1/I);t.translate(-T,-a);H.XS()?t.stroke():t.fill()}}t.beginPath();
for(var i=0;i<Q;i++){var R=i*l+l+.5;t.moveTo(R,0);t.lineTo(R,k*U)}for(var Y=0;Y<U;Y++){var D=Y*k+k+.5;
t.moveTo(0,D);t.lineTo(Q*l,D)}t.strokeStyle="rgba(0,0,0,0.3)";t.stroke();c.push(V)}this.kL.pD(c,null,l*Q,k*U)};
ks.w2=[{Nm:"All Glyphs"},{Nm:"Basic Latin, Latin 1",Tc:[0,127,128,143]},{Nm:"Latin Extended-A",Tc:[256,383]},{Nm:"Latin Extended-B",Tc:[384,591]},{Nm:"Punctuations",Tc:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{Nm:"Greek",Tc:[880,1023]},{Nm:"Cyrillic",Tc:[1024,1279]},{Nm:"Hebrew",Tc:[1424,1535]},{Nm:"Arabic",Tc:[1536,1791]},{Nm:"Emoji",Tc:[9728,10095,127744,129535]}];
function bK(){df.call(this,[13,0],!1,null,df.sy.VV);this.ka=0;this.azY=0;this.e=null}bK.prototype=new df("");
bK.prototype.hw=function(){if(!y.D4(this.H0)||this.UR)return;var F=y.i("div","flexrow padded");this.H0.appendChild(F);
var r=y.i("div");F.appendChild(r);this.UR=[];for(var O=0;O<2;O++){var $=new a$;this.UR.push($);$.Q("click",this.a43,this);
r.appendChild($._)}this.jy=new ec(192);console.log("hsb picker");this.jy.Q(_.E.V,this.na,this);this.zA=new kn;
this.zA.parent=this;F.appendChild(this.jy._);this.Db(this.e,d3.BN)};bK.prototype.a43=function(F){var r=F.currentTarget,$=this.UR.indexOf(r);
if($==this.ka){this.zA.aE($)}else{this.ka=$;this.vr()}};bK.prototype.na=function(F){var r=this.jy.k();
this.jy.o(r);var $=Math.round(r.t*255)<<16|Math.round(r.L*255)<<8|Math.round(r.X*255),C=new k6(_.E.c,!0);
C.data={R:_.m.WF,jg:d3.VV,vz:this.ka,Y:$};this.a(C);this.azY=Date.now()};bK.prototype.vr=function(){if(this.zA==null)return;
var F=this.e,r=this.ka,$=[F.y1,F.J2];for(var O=0;O<2;O++){var C=this.UR[O],M=C._.style;C.ZJ($[O]);if(O==r)M.filter="drop-shadow(0 0 1px #000000)"}var l=$[r];
if(Date.now()-this.azY>100)this.jy.o({t:(l>>>16)/255,L:(l>>>8&255)/255,X:(l&255)/255})};bK.prototype.Db=function(F,r){this.e=F;
if(this.zA==null)return;if(r==d3.BN||r==d3.VV){this.zA.ahE(F.y1,F.J2);this.vr()}};bK.prototype.wK=function(){this.hw()};
bK.prototype.$x=function(){this.hw();this.vr()};function iP(){df.call(this,"CSS",!1,"---panels/css",df.sy.CSS);
this.oo=null;var F=y.i("div","padded");this.H0.appendChild(F);this.wJ=y.i("textarea");y.mM(this.wJ);
F.appendChild(this.wJ)}iP.prototype=new df("");iP.prototype.Xt=function(F,r){if(this.a0==F)return;this.a0=F;
y.B(this.wJ,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(F-10)+"px; height:"+(r-10)+"px")};
iP.prototype.wK=function(F){this.oo=F;this.vr()};iP.prototype.Db=function(F,r){if(r==d3.r3)this.vr()};
iP.prototype.vr=function(){var F=this.oo;if(F==null||F.K.length==0)return;if(!y.D4(this.H0))return;var r=F.u[F.K[0]],$=CSS.aIu(r,F);
if($.length!=0)this.wJ.value=$.join(";\n")+";";else this.wJ.value=""};iP.prototype.$x=function(){this.vr()};
function cI(){df.call(this,"Text to Image",!1,null,df.sy.axG);this.oo=null;this.lB=0;this.X$={};this.iZ=null;
var F=this.tJ=[new gs("Prompt",null,null,4),new jC([12,49],!0,null,!0)];F[0].o("goat riding a bike");
var r=y.i("div","form padded labfxd");this.H0.appendChild(r);for(var $=0;$<F.length;$++){F[$].parent=this;
r.appendChild(F[$]._);if($==1)F[$].Q("click",this._0,this)}this.In=y.i("div","scrollable");r.appendChild(this.In);
this.a7y=cI.prototype.av7.bind(this)}cI.prototype=new df("");cI.prototype._0=function(){var F=this.tJ,r=F[0].k().trim(),$=function(){var C=k8.a93(r,null,null,this.a7y);
if(C==1)y.yY(this.H0,"disabled")}.bind(this);if(k8.UO(3))$();else k8.$k($)};cI.prototype.av7=function(F){var r=this.tJ;
y.cD(this.H0,"disabled");var $={created:Math.round(Date.now()/1e3),data:[{b64_json:dN.Ml(F.target.response)}]},C=this.X$,M=r[0].k().trim();
if(C[M]==null)C[M]=[];C[M].push($);k8.uS("Generate",3);this.vr()};cI.prototype.Xt=function(F,r){if(this.a0==F)return;
this.a0=F;this.H0.style.width=F-16+"px";this.In.style.height=r-190+"px"};cI.prototype.wK=function(F,r){this.oo=F;
if(F)this.lB=r.indexOf(F);this.vr()};cI.prototype.l=function(F,r){df.prototype.l.call(this);var $=this.tJ,M=" target=\"_blank\" style=\"color:inherit;\">";
for(var C=0;C<$.length;C++)this.tJ[C].l()};cI.prototype.vr=function(){var F=this.In,r=this.X$;y.RR(F);
var $=[];for(var C in r){r[C].sort(function(S,z){return z.created-S.created});$.push([C,r[C]])}$.sort(function(S,z){return z[1][0].created-S[1][0].created});
var M=this.amO.bind(this),l=this.iZ=[[],[]];for(var O=0;O<$.length;O++){var C=$[O][0],k=$[O][1],d=y.i("div");
d.textContent=C;F.appendChild(d);for(var I=0;I<k.length;I++){var c=k[I].data;for(var Q=0;Q<c.length;
Q++){var x=c[Q].b64_json,U=y.i("img");U.setAttribute("src","data:image/png;base64,"+x);U.onclick=M;U.style.width=128/y.ha()+"px";
U.style.marginRight="4px";U.style.cursor="pointer";F.appendChild(U);l[0].push(U);l[1].push(c[Q])}}}};
cI.prototype.amO=function(F){var O=this.iZ[0].indexOf(F.target),r=this.iZ[1][O].b64_json,$=dN.mj(r);
bF.fP({url:"file",lB:this.lB},$,this)};cI.prototype.$x=function(){this.vr()};function cD(){df.call(this,[9,6],!1,"---panels/info",df.sy.aBR);
y.B(this.H0,"min-width:240px;");this.oo=null;this.e=null;this.pW=null;var F=this.bN=[];for(var r=0;r<3;
r++){var $=y.i("div","marged row");this.H0.appendChild($);var C=y.i("div","cell");y.B(C,"width:10em");
$.appendChild(C);var M=y.i("div","cell");y.B(M,"width:10em");$.appendChild(M);var l=[8,4,3][r];for(var O=0;
O<l;O++){var k=new eu("");F.push(k);k.o(0);k._.style.padding="0";var d=O<(r==1?2:4)?C:M;d.appendChild(k._);
y.Hd(d)}if(r<2)y.ox(this.H0)}this.ca=F[8];this.Pb=F[9];this.Bp=F[10];this.Kh=F[11];y.ox(this.H0);this.pW=y.i("div");
y.B(this.pW,"min-width:240px;display:flex;flex-direction:row;flex-wrap:wrap;");this.H0.appendChild(this.pW)}cD.prototype=new df("");
cD.prototype.GQ=function(F,r,$,C,M){if(!y.D4(this.H0)||F==null)return;var l=F.f.Ti(M.x,M.y),k=new hx(Math.floor(l.x),Math.floor(l.y));
if(!M.HY){var d=0,I=0,c=0,Q=0,x=this.bN;if(!M.HY&&!F.adz()&&new cS(0,0,F.r-1,F.$-1).m_(k)){var U=F.Ez(),O=F.r*k.y+k.x<<2;
d=U[O+0];I=U[O+1];c=U[O+2];Q=U[O+3]}var S=j.dm([d/255,I/255,c/255]);x[0].o("R: "+d);x[1].o("G: "+I);
x[2].o("B: "+c);x[3].o("A: "+Q);x[4].o("C: "+Math.round(S[0]*100)+"%");x[5].o("M: "+Math.round(S[1]*100)+"%");
x[6].o("Y: "+Math.round(S[2]*100)+"%");x[7].o("K: "+Math.round(S[3]*100)+"%");var z=j.apa(d,I,c);x[12].o("H: "+Math.round(z.Y9*360)+"\xB0");
x[13].o("S: "+Math.round(z.cG*100)+"%");x[14].o("B: "+Math.round(z.X*100/255)+"%")}var V=F.f.bU>1?new hx(l.x,l.y):k;
this.ca.o("X: "+j.Om.Py(V.x,F.YV,$,F.r));this.Pb.o("Y: "+j.Om.Py(V.y,F.YV,$,F.$));this.Kf()};cD.prototype.Kf=function(){var F=this.oo,r=this.e,$=0,C=0;
if(F&&r){if(F.f.dF){$=F.f.dF.r;C=F.f.dF.$}else if(F.d){$=F.d.S.r;C=F.d.S.$}$=j.Om.Py(Math.abs($),F.YV,r,F.r);
C=j.Om.Py(Math.abs(C),F.YV,r,F.$)}this.Bp.o(dG.get([12,41]).charAt(0)+": "+$);this.Kh.o(dG.get([12,42]).charAt(0)+": "+C)};
cD.prototype.l=function(){df.prototype.l.call(this);this.Kf()};cD.prototype.$x=function(){this.wK(this.oo,null,this.e)};
cD.prototype.wK=function(F,r,$){this.oo=F;this.e=$;if(!y.D4(this.H0))return;console.log("update");this.Kf();
if(F&&F.K.length!=0){var C=F.K[0],M=F.u[C],l=f0.get(M.add)!=null,k=l&&F.K[0]>0;this.pW.innerHTML="";
for(var O=0;O<F.wa.length;O++){var d=F.wa[O],M=F.f.uc(d.x,d.y),I=B.$r.GA(F,M,1,k?1:2),c={t:I>>>16&255,L:I>>>8&255,X:I&255},V="<span style=\"display:inline-block; width:25px; text-align:right\">",t="</span>";
if(k){var Q=F.K[0];F.K[0]=C-1;var x=B.$r.GA(F,M,1,1),U={t:x>>>16&255,L:x>>>8&255,X:x&255};F.K[0]=Q}var S=y.i("div");
y.B(S,"padding: 0.5em 0.5em; width: 40%");var z="<b>#"+(O+1)+"</b>",Y=[c.t,c.L,c.X],i=k?[U.t,U.L,U.X]:null,J=["R","G","B"];
for(var H=0;H<3;H++)z+="<br/>"+V+J[H]+t+": "+(k?V+i[H]+t+" /":"")+V+Y[H]+t;S.innerHTML=z;this.pW.appendChild(S)}}};
function dE(){df.call(this,[9,1],!1,"---panels/layers",df.sy.pO);this.a60=null;this.DR=[];this.xB=null;
this.Mi=null;this.MJ=y.i("div","lphead");this.Np=y.i("div","lpbody scrollable");this.Np.addEventListener("scroll",this.abM.bind(this),!1);
this.nF=y.i("div","lpfoot");var F=this.aAp=y.i("span");y.B(F,"display:inline-block; height:26px");this.MJ.appendChild(F);
this.kp=new bc(null,dL.X_,dL.rn);this.kp.Q(_.E.V,this.aJs,this);this.MJ.appendChild(this.kp._);this.FZ=new eT([12,0],0,100,"%",0);
this.FZ.Q(_.E.V,this.a8v,this);this.FZ.parent=this;this.MJ.appendChild(this.FZ._);this.XM=new i9([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.XM.Q(_.E.V,this.a0C,this);this.MJ.appendChild(this.XM._);this.hn=new eT([12,26],0,100,"%",0);this.hn.Q(_.E.V,this.ajr,this);
this.hn.parent=this;this.MJ.appendChild(this.hn._);this.xu=[];this.zc();if(gw==0)this.H0.appendChild(this.MJ);
this.H0.appendChild(this.Np);this.Np.addEventListener("dragover",function(M){M.preventDefault()},!1);
this.Np.addEventListener("dragenter",y.Dk,!1);this.Np.addEventListener("drop",this.aoe.bind(this),!1);
this.H0.appendChild(this.nF);this.H0.addEventListener("contextmenu",y.Dk,!1);if(gw==0)this.Q("rclick",this.abF,this);
var r=function(M,l,O){return{fT:this.jq[O]==1}}.bind(this);if(gw==0){this.ase=new aj([{name:[0,6],T:r},{name:[14,10],T:r},{name:[6,57,2],T:r,NA:!0},{name:"Long-tap as a right click",T:r,NA:!0},{name:"\u2796 Thumbnail Size"},{name:"\u2795 Thumbnail Size"},{name:"Thumbnails by Layer",T:function(){return{fT:dt.OJ==0,T:!0}}},{name:"Thumbnails by Document",T:function(){return{fT:dt.OJ==1,T:!0}}}]);
this.ase.Q("select",this.aJj,this)}this.jq=[0,1,1,0];var $=window.locStor;if($){var C=$.getItem("lpOpt");
if(C){C=JSON.parse(C);this.jq=C[0];dt.JV=C[1];dt.OJ=C[2]}}this.aJj()}dE.prototype=new df("");dE.nz=function(F){var r=F==null?0:F.K.length;
return{T:r!=0&&(r!=1||F.K[0]!=0)&&(r!=1||!F.u[F.K[0]].EX()||F.u[F.K[0]].rR()),lf:dG.get(r>1||r==1&&F.u[F.K[0]].EX()?[6,12,0]:[6,10])}};
dE.prototype.eC=function(){if(this.aul)return;var F=dH.A8(!0),r=dH.I8(!0);this.aul=new aj(F,r);var F=[{name:[14,10]},{name:[14,11],NA:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],NA:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",T:function(C){return{T:C.u[C.K[0]].add.SoLd!=null}},NA:!0},{name:[6,8],T:dE.auK},{name:[6,34],T:function(C){var M=C.u[C.K[0]];
return{T:M.add.lmfx!=null&&!M.EX()}}},{name:[6,40],NA:!0,T:function(C){var M=C.u[C.K[0]];return{T:M.add.TySh!=null}}},{name:"",NA:!0,T:function(C){var M=C.u[C.K[0]],l=M.add.TySh,k=l?l.$E:null;
return{T:l!=null&&k.Curve==null,lf:dG.get(l&&ho.C9(k)==0?[16,3,1]:[16,3,0])}}},dE.aio(!1),dH.aII(),{name:[6,12,0],T:dE.nz},{name:[6,12,1],NA:!0},{name:[13,0],sub:function(){var C=[];
for(var O=0;O<d2.XI.length;O++)C.push({name:[13,1,O],DA:"#"+j.lN(d2.XI[O])});return C}()}],r=[{s:_.E.c,h:{R:_.m.Oe,rS:"layerstyle"}},{s:_.E.O,J:B.gI,h:{R:"fromlayer",Fo:[null,0,0]}},{s:_.E.O,J:B.pO,h:{R:Z.K7}},{s:_.E.c,h:{R:_.m.Oe,rS:"duplinto"}},{s:_.E.O,J:B.pO,h:{R:Z.O9}},{s:_.E.wG,h:{hE:"newPlacedLayer"}},{s:_.E.O,J:B.pO,h:{R:Z.KP}},{s:_.E.wG,h:{hE:"rasterizeLayer",iH:{classID:"rasterizeLayer",null:cQ.sZ("Lyr",!0)}}},{s:_.E.wG,h:{hE:"rasterizeLayer",iH:{classID:"rasterizeLayer",null:cQ.sZ("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{s:_.E.O,J:B.pO,h:{R:Z.Hy}},{s:_.E.O,J:B.Q_,h:{R:"switchPntPrgr"}},{s:_.E.O,J:B.pO,h:{R:Z.Uw}},dH.a4k(),{s:_.E.wG,h:{hE:"mergeLayersNew",iH:{__name:"Merge Layers",classID:"Mrg2"}}},{s:_.E.wG,h:{hE:"flattenImage"}},{sub:function(){var C=[];
for(var O=0;O<8;O++)C.push({s:_.E.O,J:B.pO,h:{R:Z.Ym,aIk:O}});return C}()}];this.fa=new aj(F,r);var F=[{name:[6,45],T:function(C){var M=C.u[C.K[0]];
return{T:M.WZ(C).Lj==null}}},{name:[6,47]}],r=[{s:_.E.O,J:B.pO,h:{R:Z.Kb}},{s:_.E.O,J:B.pO,h:{R:Z.B6}}];
this.aHK=new aj(F,r);var F=[{name:"enab/disab",T:function(C){return{lf:dG.get(C.u[C.K[0]].rc().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],T:function(C){return{T:C.DI(!1,!0)}}}],r=[{s:_.E.O,J:B.pO,h:{R:Z.nE}},{s:_.E.O,J:B.pO,h:{R:Z._C}},{s:_.E.O,J:B.pO,h:{R:Z.g8}}];
this.aqK=new aj(F,r);var F=[{name:"enab/disab",T:function(C){return{lf:dG.get(C.u[C.K[0]].WZ(C).Lj.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],r=[{s:_.E.O,J:B.pO,h:{R:Z.ba}},{s:_.E.O,J:B.pO,h:{R:Z.MY}}];
this.aCv=new aj(F,r);var F=[{name:"enab/disab",T:function(C){return{lf:dG.get(C.u[C.K[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],$={classID:"rasterizeLayer",null:cQ.sZ("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"vectorMask"}}},r=[{s:_.E.O,J:B.pO,h:{R:Z.dx}},{s:_.E.wG,h:B._J.bC(3)},{s:_.E.wG,h:{hE:"rasterizeLayer",iH:$}}];
this.aCZ=new aj(F,r);this.aqG=new aj(dH.amp(!0),dH.qH(!0));this.ajZ=new aj(dH.A8(),dH.I8())};dE.prototype.abM=function(F){var r=this.Np.scrollTop-600;
for(var O=0;O<this.DR.length;O++){var $=this.DR[O],C=$.Ww;if(r<$.Ww)$.ayD();if($.Ww>r+this.Y9+600)break}};
dE.prototype.Wx=function(){return this.ase};dE.prototype.aJj=function(F){var r=this.jq;if(F){var $=F.target.qw(),O=$[0];
if(O<4)r[O]=1-r[O];else if(O<6){if(O==4&&dt.JV-10>=10)dt.JV-=10;if(O==5&&dt.JV+10<=200)dt.JV+=10;if(this.xB)this.xB.Wk=!0}else{if(O==6)dt.OJ=0;
if(O==7)dt.OJ=1;if(this.xB)this.xB.Wk=!0}var C=window.locStor;if(C)C.setItem("lpOpt",JSON.stringify([r,dt.JV,dt.OJ]))}if(r[0]==1)this.akY();
var M=[[{_:this.aAp}],[this.kp,this.FZ],[this.XM,this.hn]];for(var O=0;O<3;O++)for(var l=0;l<M[O].length;
l++)M[O][l]._.style.display=r[O]==1?"inline-block":"none";this.Xt(this.a0,this.Y9)};dE.prototype.amk=function(){var F=this.bH;
if(F==null)return!1;if(F.k()){var r=this.AT.k(),$=this.aM[r].k();if(r==0)return $.indexOf(!0)!=-1;if(r==1)return $!=""}return!1};
dE.aio=function(F){var r=function(C){var M=C!=null&&C.K.length!=0&&C.u[C.K[0]].p9;return{fT:M,T:C!=null&&C.HC(C.K[0]),h:{s:_.E.wG,h:{hE:M?"ungroup":"groupEvent",iH:{classID:M?"Ungr":"GrpL",null:cQ.sZ("Lyr",!0)}}}}},$={name:[6,6,0],NA:!0,T:r};
if(F)$.J9=[ac.AH,ac.Xf,ac.HO];return $};dE.auK=function(F,r){if(F)for(var O=0;O<F.K.length;O++){var $=F.u[F.K[O]];
if($.add.TySh||$.add.SoLd||$.add.SoCo||$.add.GdFl||$.add.PtFl)return{T:!0}}return{T:!1}};dE.prototype.aoe=function(F){y.Dk(F);
var r=F.dataTransfer.getData("Text"),$=1,C=0;if(r==""){y.Er(F,this,this.Mi.indexOf(this.xB),C+($>.5?0:1))}else if(r!="--panel"){var r=JSON.parse(r),M=r.wV;
if(M=="l")this._Y({R:Z.Um,source:r.ru,target:C,oc:$})}};dE.prototype.abF=function(F){var r=this.xB,$=F.data,M;
if(r.K.indexOf($.z)==-1){var C={R:Z.sJ,z:F.target.hM.index,A0:$.Go};this._Y(C)}if(r.K.indexOf($.z)==-1)return;
this.eC();if($.Go==1){M=this.aqK}else if($.Go==2){M=this.aCZ}else if($.Go==3){M=this.aCv}else if($.Go==4){M=this.aHK}else if($.Go==5){M=this.aul}else{M=this.fa}M.l();
M.update(r);M.parent=this;var l=new k6(_.E.c,!0);l.data={R:_.m.$a,g$:M,x:$.Vl.x+1,y:$.Vl.y+1};this.a(l)};
dE.prototype.l=function(){df.prototype.l.call(this);this.kp.l();this.FZ.l();this.XM.l();this.hn.l();
if(this.bH){this.bH.l();this.aM[0].l()}if(this.xB)this.wK(this.xB);var F="lrs/link lrs/fx lrs/mask lrs/adj lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var O=0;O<this.xu.length;O++){var r=this.xu[O];r.Ck(y.UE(F[O],null,"miniscale"));if(O==1||O==3){r._.style.position="relative";
var $=y.i("img","gsicon");$.setAttribute("src",PIMG["tools/corner"]);y.B($,"position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
r._.appendChild($)}}};dE.prototype.wK=function(F,r){if(F&&!F.Wk)return;if(F==null)y.yY(this.H0,"disabled");
else y.cD(this.H0,"disabled");this.xB=F;this.Mi=r;if(this.a60!=null){y.RR(this.Np);this.a60=null;this.DR=[]}if(F==null)return;
var $=!1;for(var O=0;O<F.Bs.length;O++)if(F.Bs[O].Nn)$=!0;this.a60=new d2(F.root,this,F,{$d:0,aCY:!1},{aAk:$,at5:this.amk()},this.DR,0,new cS(0,0,F.r,F.$));
if(F.K.length==0||F.u[F.K[0]]==null)y.yY(this.MJ,"disabled");else{y.cD(this.MJ,"disabled");if(F.K.length==1&&F.eS){var C=F.K[0];
for(var O=0;O<this.DR.length;O++){var M=this.DR[O];if(M.hM.index==C&&M.MJ.scrollIntoView)M.MJ.scrollIntoView({block:"nearest"})}}var l=F.u[F.K[0]];
if(l.EX()){this.kp.Ek([[15,10,27]].concat(dL.X_),[1].concat(dL.rn));var k=dL.NH.indexOf(l.ww);this.kp.o(k+1)}else{this.kp.Ek(dL.X_,dL.rn);
var k=dL.NH.indexOf(l.ww);this.kp.o(k)}this.FZ.o(Math.round(100*l.gk/255));this.XM.o([l.aV(0),l.aV(1),l.aV(2),l.aV(31)]);
var d=F.lZ();this.kp.fC(!d);this.hn.fC(!d);this.FZ.fC(!d);this.XM.fC(!(d&&!l.aV(31)));this.hn.o(Math.round(100*(l.add.iOpa!=null?l.add.iOpa/255:1)));
this.xu[2].aaQ(dG.get(l.rc()?[6,23]:[6,21]))}this.abM(null)};dE.prototype.Xt=function(F,r){this.a0=F;
this.Y9=r;var $=this.MJ.getBoundingClientRect().height;if(55<$&&$<56)$=60.2;var C=this.nF.getBoundingClientRect().height,M=r-($+C+3);
this.Np.style.height=M+"px";this.Np.style.width=F+"px"};dE.prototype.aJs=function(F){this._Y({R:Z.CC,FJ:this.kp.k()})};
dE.prototype.a8v=function(F){this._Y({R:Z.fs,FJ:Math.round(255*this.FZ.k()/100)})};dE.prototype.a0C=function(F){this._Y({R:Z.fu,FJ:[this.XM.k(),[0,1,2,31]]})};
dE.prototype.ajr=function(F){this._Y({R:Z.RK,FJ:Math.round(255*this.hn.k()/100)})};dE.prototype.Q9=function(F){if(F.target==this.AT)this.akY();
var r=this.bH.k();if(r)y.cD(this.aej,"disabled");else y.yY(this.aej,"disabled");this.l();this.xB.Wk=!0;
this.wK(this.xB);this.xB.Wk=!1};dE.prototype.akY=function(){var F=this.aej;if(F==null){var r=this.aAp,$=this.bH=new jm([0,6]);
$.Q(_.E.V,this.Q9,this);r.appendChild($._);F=this.aej=y.i("span","disabled");r.appendChild(F);this.AT=new bc(null,["Kind",[12,48]],[]);
this.AT.Q(_.E.V,this.Q9,this);var C=this.aM=[new i9(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new gs(null,null,8)];
C[0].Q(_.E.V,this.Q9,this);C[1].Q("input",this.Q9,this)}y.RR(F);F.appendChild(this.AT._);F.appendChild(this.aM[this.AT.k()]._)};
dE.prototype.a4c=function(F){this.eC();this.a6X(F,this.aqG)};dE.prototype.aIG=function(F){this.eC();
this.a6X(F,this.ajZ)};dE.prototype.a6X=function(F,r){var $=F.currentTarget;if(y.D4(r._))return;F.stopPropagation();
var C=$.getBoundingClientRect();r.l();r.update(this.xB);r.parent=this;var M=new k6(_.E.c,!0);M.data={R:_.m.$a,g$:r,x:C.left,y:C.top,aFc:!0};
this.a(M)};dE.prototype.aeU=function(F){this._Y({R:Z.a9a})};dE.prototype.a1l=function(F){this._Y({R:this.xB.K.length>1?Z.dY:Z.HI})};
dE.prototype.ax_=function(F){this._Y({R:Z.M1})};dE.prototype.aJ8=function(F){var r=this.xB;if(r.K.length==0)return;
var $=r.u[r.K[0]],C=$.Go;this._Y({R:C<=0?$.aq?Z.mn:Z.O9:C==3?Z.MY:Z._C})};dE.prototype.avy=function(F){this._Y({R:Z.HW})};
dE.prototype._Y=function(F){var r=new k6(_.E.O,!0);r.data=F;r.J=B.pO;this.a(r)};dE.prototype.zc=function(){var F=[[6,54,0],[11,6],[6,21],[6,1],[6,20],[6,13],[5,4]],r=[this.avy,this.aIG,this.aeU,this.a4c,this.a1l,this.ax_,this.aJ8],$=this.ath.bind(this);
for(var O=0;O<F.length;O++){var C=new jC("W",!1,F[O]);this.xu.push(C);y.TX(C._,r[O].bind(this));if(gw==0||O>3&&O!=5)this.nF.appendChild(C._);
if(O>=F.length-3){var M=C._;M.addEventListener("drop",$,!1);M.addEventListener("dragover",function(l){l.preventDefault()},!1);
M.addEventListener("dragenter",y.Dk,!1)}}};dE.prototype.ath=function(F){y.Dk(F);var r=0,$=this.xu;while($[r]._!=F.currentTarget)r++;
$[r].Ly();var C=F.dataTransfer.getData("Text");if(C=="")return;var C=JSON.parse(C);if(C.wV=="l"){var M={R:[Z.dY,Z.K7,Z.O9][r-4]};
if(this.xB.K.indexOf(C.ru)==-1)M.z=C.ru;this._Y(M)}if(r!=6)return;if(C.wV=="sm"||C.wV=="s"){var l=new k6(_.E.O,!0);
l.J=B.Ei;l.data={R:C.wV=="sm"?"st_clear":"st_delsingle",z:C.ru,ru:C.gx};this.a(l)}if(C.wV=="fm"||C.wV=="f"){this._Y({R:C.wV=="fm"?Z.B6:Z.P1,src:C.ru,gx:C.gx})}if(C.wV=="m"||C.wV=="vm"){this._Y({R:C.wV=="m"?Z._C:Z.mn,z:C.ru})}};
function d2(F,r,$,C,M,l,k,d){au.call(this);this.parent=r;this.Ww=k;this.hM=F;l.push(this);this.xB=$;
this.Rq=C;var I=r.Np,c=F.z,Q=$.K.indexOf(F.index)!=-1,z=null;this.MJ=y.i("div",Q?"head selected":"head");
if(c.add.artb!=null){y.yY(this.MJ,"artb");d=c.dh()}var x=this.apk=Math.floor(10+c.azr/y.ha()),U="height: "+x+"px;";
if(Q&&M.aAk)U+="background-color:rgba(255,50,50,0.4);";y.B(this.MJ,U);this.view=d;var S=this.ak0=this.afD.bind(this),V=M.at5&&!this.aAC();
if(!V){if(F.depth!=0){I.appendChild(this.MJ);k+=x-.3}if(c.uL()||c.XE())if(c.yX()){z=this.a8J=y.i("div","lpineck");
I.appendChild(z);if(c.uL()){z.addEventListener("contextmenu",S,!1);var t=new dE.vF(dG.get([12,1]),"sm","layerstyle",F.depth,0,null);
k+=21;t.parent=this;z.appendChild(t._);var Y=c.add.lmfx,i=Y.masterFXSwitch.v;t.Gj(i);for(var O=0;O<cK.order.length;
O++){var J=Y[cK.Zb[O]].v;if(J.length==0)continue;for(var H=0;H<J.length;H++){var t=new dE.vF(dG.get(cK.names[O]),"s","layerstyle",F.depth,1,[O,H]);
k+=21;t.Gj(i&&J[H].v.enab.v);t.parent=this;z.appendChild(t._)}}}if(c.XE()){var v=c.WZ($).Lj;if(v)this.B2=y.i("div","thumb");
var t=new dE.vF(dG.get([12,55]),"fm",null,F.depth,0,-1,v?this.B2:null,x);k+=v?x:21;t.parent=this;z.appendChild(t._);
this.aC7=t._;this.aC7.addEventListener("contextmenu",S,!1);var Y=c.add.SoLd.filterFX.v,n=Y.filterFXList.v,i=Y.enab.v;
t.Gj(i);for(var O=n.length-1;O>=0;O--){var G=n[O].v,g=e9.hq(G);if(f0.ZH[g])g=f0.ZH[g];var W=G.Nm.v;if(e9.names[g])W=dG.get(e9.names[g]);
if(f0.names[g])W=dG.get(f0.names[g]);var L="afw_"+g,t=new dE.vF(W,"f",L,F.depth,1,O);k+=21;t.Gj(i&&G.enab.v);
t.parent=this;z.appendChild(t._)}}}}var b=c.add.lclr;if(b==null)b=0;b=b==0?C.$d:d2.XI[b];this.adG=b;
if(c.EX()&&(c.add.lsct==jR.ul||M.at5)){var T={$d:b,aCY:C.aCY||c.aV(31)};for(var O=F.children.length-1;
O>=0;O--){var a=new d2(F.children[O],r,$,T,M,l,k,d);k=a.awx}}this.awx=k}d2.prototype=new au;d2.XI=[16777215,16711680,16748544,16763904,4513024,22015,11141375,7829367];
d2.prototype.ayD=function(){if(this.Hx)return;var F=this.hM,r=F.z,$=this.xB,C=this.Rq,x=!0,T=!1;F.SM($,this.view,!0);
var M=y.i("div","headL"),l=y.i("div","headR");this.MJ.appendChild(M);this.MJ.appendChild(l);var k=this.MJ;
k.setAttribute("draggable","true");k.addEventListener("dragstart",this.BX.bind(this),!1);k.addEventListener("drop",this.q7.bind(this),!1);
k.addEventListener("dragover",this.zB.bind(this),!1);k.addEventListener("dragenter",y.Dk,!1);k.addEventListener("dragleave",this.XA.bind(this),!1);
var d=[],I=[null,null,null,null],c=r.rR(),Q=F;while(Q.parent){Q=Q.parent;c=c&&Q.z.rR()}if(r.p9){for(var O=F.index-1;
O>=0;O--){var U=$.u[O];if(!U.p9){x=U.rR();break}}}var S=r.rR()?c&&x?2:1:0;this.Hx=y.i("div");var z=y.i("div",S==0?"sqr":"eye");
this.Hx.appendChild(z);z.style.opacity=[.12,.33,1][S];var V=y.i("div","space");this.HQ=y.i("div","label");
y.B(this.HQ,"max-width:calc(100% - "+(96+F.depth*20)+"px); margin-top:"+(this.apk-19)/2+"px;"+(r.Ge?"text-decoration:underline;":""));
this.HQ.textContent=r.getName();this.acm=y.i("div","lock");this.atw=y.i("div","lrfx");this.jX=y.i("div","arfx");
var t=this.ak0,Y=this.a2P.bind(this);this.MJ.addEventListener("click",Y,!1);this.MJ.addEventListener("contextmenu",t,!1);
var i=this.adG;if(i!=0){var J=[i>>16,i>>8&255,i&255];for(var O=0;O<3;O++){J[O]="calc("+J[O]+"*0.7 + (var(--absc)) * 255 * 0.3)"}y.B(this.Hx,"background-color:rgba("+J.join(",")+",1);")}var H=this.acd.bind(this);
this.Hx.addEventListener("mousedown",H,!1);this.Hx.addEventListener("mouseover",H,!1);this.jX.addEventListener("click",this.ahu.bind(this),!1);
d[0]=this.Hx;d[1]=V;d[10]=this.HQ;if(r.EX()){var v=y.i("div","arrow"),n=y.i("div","folder");this.iV(n);
v.addEventListener("click",this.aEQ.bind(this),!1);d[2]=v;d[3]=n;v.className=r.add.lsct==jR.ul?"open":"closed"}else{this.KG=y.i("div","thumb");
d[5]=this.KG;d2.ne(this.KG,r.i4);this.iV(this.KG);if(f0.get(r.add))y.yY(r.i4.canvas,"gsicon")}var G=r.rc();
if(G){this.A2=y.i("div","chain");this.uV=y.i("div","thumb");d2.ne(this.uV,r.E9,!0);this.A2.style.opacity=G.N9?1:0;
this.A2.addEventListener("click",this.axz.bind(this),!1)}var g=r.Og()&&r.add.vmsk;if(r.add.vmsk&&!g){this.Rx=y.i("div","chain");
this.SR=y.i("div","thumb");d2.ne(this.SR,r.x8,!0);this.Rx.style.opacity=r.add.vmsk.N9?1:0;this.Rx.addEventListener("click",this.aDc.bind(this),!1)}if(r.XE()&&r.yX()&&r.WZ($).Lj){d2.ne(this.B2,r.fB,!1);
this.iV(this.B2);this.B2.addEventListener("click",Y,!1);this.B2.addEventListener("contextmenu",t,!1)}if(F.index==$.K[0]){var W=r.Go,L;
if(W<=0)L=this.KG;else if(W==1)L=this.uV;else if(W==3)L=this.B2;if(L)L.className="thumb active";if(r.aq&&this.SR)this.SR.className="thumb active"}y.B(V,"width:"+Math.max(0,F.depth-1)*18+"px");
var b=r.add.lspf!=null&&r.add.lspf!=0||C.aCY;this.acm.style.opacity=r.aV(31)?1:.5;d[4]=r.p9?y.i("div","clipp"):null;
d[6]=G?this.A2:null;d[7]=G?this.uV:null;d[8]=r.add.vmsk&&!g?this.Rx:null;d[9]=r.add.vmsk&&!g?this.SR:null;
var a=r.Q8,R=$.K;if(a!=0)for(var O=0;O<R.length;O++)if($.u[R[O]].Q8==a){T=!0;break}if(T){I[0]=y.i("div",r.VU?"link":"linkX");
I[0].addEventListener("click",this.alZ.bind(this),!1)}I[1]=b?this.acm:null;I[2]=r.uL()?this.atw:null;
I[3]=r.uL()||r.XE()?this.jX:null;this.jX.className=r.yX()?"arfx open  gsicon":"arfx closed  gsicon";
var D=d;for(var O=0;O<D.length;O++)if(D[O])M.appendChild(D[O]);D=I;for(var O=0;O<D.length;O++)if(D[O])l.appendChild(D[O])};
d2.ne=function(F,r,$){var C=r.canvas;y._6(C);if($)F.setAttribute("draggable","true");F.appendChild(C);
y.B(C,C.getAttribute("style")+"; pointer-events:none")};d2.prototype.iV=function(F){y.TX(F,function(r){if(this.parent.jq[3]==0)return;
y.I0(r);y.an(document.body,function(){clearTimeout(this.abY)}.bind(this));this.abY=setTimeout(function(){var $=new k6("rclick",!0);
$.data={z:this.hM.index,Go:this.Go(r),Vl:y.Bz(r,document.body)};this.a($)}.bind(this),600)}.bind(this))};
d2.MH=function(F,r){var $=r.getBoundingClientRect();return(F.clientY-$.top)/$.height};d2.prototype.BX=function(F){F.stopPropagation();
var r=F.target==this.uV?"m":F.target==this.SR?"vm":"l";F.dataTransfer.setData("Text",JSON.stringify({wV:r,ru:this.hM.index}))};
d2.prototype.XA=function(F){y.Dk(F);this.Cb()};d2.prototype.q7=function(F){y.Dk(F);this.Cb();var r=F.dataTransfer.getData("Text"),$=this.parent.xB,C=d2.MH(F,this.MJ),M=this.hM.index;
if(C>.8){var l=!0,k=$.root.yw(M);while(k.parent!=null){var d=k.parent,I=d.children;if(I.indexOf(k)!=0)l=!1;
k=k.parent}if(l){M=0;C=1}}if(r==""){y.Er(F,this,this.parent.Mi.indexOf($),M+(C>.5?0:1))}else if(r!="--panel"){var r=JSON.parse(r),c=r.wV;
if(c=="l")this._Y({R:Z.Um,source:r.ru,target:M,oc:C});else if(c=="m"||c=="vm")this._Y({R:c=="m"?Z.ahO:Z.zh,src:r.ru,ZQ:M});
else d2.anq(F,r,this)}};d2.anq=function(F,r,$,C){var M=r.wV,l=$.hM.index,k=r.ru;if(M=="s"||M=="sm")$._Y({R:Z.tm,src:k,ZQ:l,gx:r.gx});
if(M=="f"||M=="fm")$._Y({R:Z.a85,src:k,ZQ:l,gx:r.gx,Ad:C==null?0:C})};d2.prototype.zB=function(F){y.Dk(F);
var r=d2.MH(F,this.MJ),$=this.hM.z.EX()&&.5<r&&r<.8;this.Cb();var C="inset 0 "+($?0:r>.5?-3:3)+"px "+($?"6px":0)+" var(--text-color)";
this.MJ.style.boxShadow=C};d2.prototype.Cb=function(F){this.MJ.style.boxShadow=""};d2.aK8=-1;d2.S2=!1;
d2.axd=function(F){d2.S2=!1;document.body.removeEventListener("mouseup",d2.axd)};d2.prototype.acd=function(F){if(F.button!=0)return;
if(F.type=="mousedown"){d2.S2=!0;document.body.addEventListener("mouseup",d2.axd,!1)}if(F.type=="mouseover"&&(!d2.S2||d2.aK8==this.hM.index))return;
y.Dk(F);this._Y({R:Z.iy,z:this.hM.index});d2.aK8=this.hM.index};d2.prototype.aEQ=function(F){y.Dk(F);
this._Y({R:Z.adH,z:this.hM.index})};d2.prototype.axz=function(F){this._Y({R:Z.G9,z:this.hM.index})};
d2.prototype.aDc=function(F){this._Y({R:Z.uw,z:this.hM.index})};d2.Mu=0;d2.sN=null;d2.prototype.mt=function(F){this._Y({R:Z.El,z:this.hM.index,name:F})};
d2.prototype.ahu=function(F){this._Y({R:Z.awi,z:this.hM.index})};d2.prototype.alZ=function(F){this._Y({R:Z.qT,z:this.hM.index})};
d2.prototype.afD=function(F){if(F.button!=2&&!y.anh(F)&&!(F.ctrlKey&&ac.v5()))return;var r=this.Go(F);
if(r!=3&&F.currentTarget==this.aC7)r=4;if(F.target==this.atw||F.currentTarget==this.a8J)r=5;var $=new k6("rclick",!0);
$.data={z:this.hM.index,Go:r,Vl:y.Bz(F,document.body)};this.a($)};d2.prototype.Go=function(F){var r=F.target,$=r;
return $==this.SR?2:$==this.uV?1:$==this.KG?0:$==this.B2?3:-1};d2.prototype.a2P=function(F){var r=F.target,V;
if(r==this.Hx.firstChild||r==this.jX||r==this.A2||r==this.Rx||r.tagName&&r.tagName.toLowerCase()=="input")return;
var $=this.Go(F),C=this.parent.xB,M=this.hM.index,l=C.u[M];if(r==this.acm){this._Y({R:Z.fu,z:M,FJ:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}var k=d2.Mu,d=Date.now()-k<300&&M==d2.sN;d2.Mu=Date.now();d2.sN=M;if(r==this.HQ){if(d){this.MJ.setAttribute("draggable","false");
var I=new df.Y_(this.HQ,this.mt.bind(this))}else this._Y({R:Z.sJ,z:M,A0:$,IM:!0});return}if(gw==0&&F.button==0&&d){if(r==this.HQ)return;
var c=new k6(_.E.O,!0),Q=new k6(_.E.c,!0),x=new k6(_.E.wG,!0);if($==0&&l.add.SoCo){var U=j.qS.MB(l.add.SoCo.Clr.v);
Q.data={R:_.m.Oe,rS:"colorpicker",$d:U.t<<16|U.L<<8|U.X,Xq:function(i){var J=j.qS.NG({X:i&255,L:i>>>8&255,t:i>>16&255});
J={classID:"null",Clr:{t:"Objc",v:J}};var H=new k6(_.E.O,!0);H.J=B.pO;H.data={R:Z.fn,RF:[M],oQ:!0,Y:{Ef:1,v$:J}};
this.a(H)}.bind(this),Yg:!0}}else if($==0&&(f0.get(l.add)||l.add.SoCo||l.add.GdFl||l.add.PtFl))Q.data={R:_.m.KS,rS:df.sy.VK};
else if($!=0&&$!=-1)Q.data={R:_.m.KS,rS:df.sy.VK};else if($==0&&l.add.SoLd){var S=l.add.SoLd,z=S.generativeDocInfo;
if(z)Q.data={R:_.m.KS,rS:df.sy.VK};else x.data={hE:"placedLayerEditContents",iH:{classID:"placedLayerEditContents"}}}else if($==0&&l.add.TySh){c.J=B.Q_;
c.data={R:"editCurr",PS:M}}else Q.data={R:_.m.Oe,rS:"layerstyle",z:M};this.a(x.data?x:Q.data?Q:c);return}if(F.button!=0)return;
if($==1||$==3){var t=$==3?l.WZ(C).Lj:l.rc();V=t.Nn?C.f.BS.join("")=="111"?1:2:0}var Y={R:Z.sJ,z:M,A0:$,a7w:V,IM:!0};
this._Y(Y)};d2.prototype._Y=function(F){var r=new k6(_.E.O,!0);r.data=F;r.J=B.pO;this.a(r)};d2.prototype.aAC=function(){var F=this.hM.z,r=F.add,$=this.parent.AT.k(),C=this.parent.aM[$].k();
if($==0){if(C[0]&&r.SoLd==null&&r.TySh==null&&F.he())return!0;if(C[1]&&f0.get(r)!=null)return!0;if(C[2]&&r.TySh!=null)return!0;
if(C[3]&&r.vstk!=null)return!0;if(C[4]&&r.SoLd!=null)return!0;return!1}if($==1)return F.getName().toLowerCase().indexOf(C.toLowerCase())!=-1};
dE.vF=function(F,r,$,C,M,l,k,d){au.call(this);this.aqO=r;this.aJ=$;this.index=l;this._=y.i("div","styleitem");
this.MJ=y.i("div","head");this.azC=null;if(r=="f"){var I=this.azC=y.i("div","headR");I.textContent="\u2699";
this.MJ.appendChild(I)}this.Hx=y.i("div","eye gsicon");this.HQ=y.i("div","label");this._.appendChild(this.MJ);
this.MJ.appendChild(this.Hx);if(k){this.uV=k;this.MJ.appendChild(k);y.B(this.MJ,"height: "+d+"px")}this.HQ.innerHTML=F;
y.B(this._,"margin-left: "+(24+C*16+M*22)+"px");this.MJ.appendChild(this.HQ);this.Hx.addEventListener("click",this.a2Y.bind(this),!1);
var c=this._;c.setAttribute("draggable","true");c.addEventListener("dragstart",this.BX.bind(this),!1);
if(!0){c.addEventListener("drop",this.q7.bind(this),!1);c.addEventListener("dragover",this.zB.bind(this),!1);
c.addEventListener("dragenter",y.Dk,!1);c.addEventListener("dragleave",this.XA.bind(this),!1)}this._.addEventListener("click",this.pf.bind(this),!1)};
dE.vF.prototype=new au;dE.vF.prototype.BX=function(F){F.stopPropagation();F.dataTransfer.setData("Text",JSON.stringify({wV:this.aqO,ru:this.parent.hM.index,gx:this.index}))};
dE.vF.prototype.XA=function(F){y.Dk(F);this.Cb()};dE.vF.prototype.q7=function(F){y.Dk(F);this.Cb();var r=F.dataTransfer.getData("Text");
if(r=="")return;var r=JSON.parse(r);d2.anq(F,r,this.parent,this.index+(d2.MH(F,this.MJ)>.5?0:1))};dE.vF.prototype.zB=function(F){y.Dk(F);
var r=d2.MH(F,this.MJ)>.5;this.Cb();var $="border-"+(r?"bottom":"top");this.MJ.style[$]="0.2em solid rgba(0,0,0,0.5)"};
dE.vF.prototype.Cb=function(F){this.MJ.style.border="none"};dE.vF.prototype.Gj=function(F){this.Hx.style.opacity=F?1:.2};
dE.vF.prototype.pf=function(F){var r=this.parent.hM.index,$=d2.Mu,C=Date.now()-$<300&&r==d2.sN;d2.Mu=Date.now();
d2.sN=r;if(F.target==this.Hx)return;if(C&&this.aJ!=null){var r=this.parent.hM.index,M=new k6(_.E.c,!0);
if(this.aJ.indexOf("afw_")==0){var l=this.aJ.slice(4),k=cW[l]||e9.W[l],d=F.target==this.azC;if(!d&&!k)return;
M.data=B.TM.QC(d?"blendOptions":l,{z:r,index:this.index})}else M.data={R:_.m.Oe,rS:this.aJ,z:r,index:this.index};
this.a(M)}else{if(F.target.className!="thumb")this.parent._Y({R:Z.sJ,z:r,A0:0})}};dE.vF.prototype.a2Y=function(F){var r={fm:Z.QO,f:Z.j2,sm:Z.o_,s:Z.lc}[this.aqO];
this.parent._Y({R:r,z:this.parent.hM.index,index:this.index})};function cw(){df.call(this,"Guide Guy",!1,"---panels/guideguy",df.sy.adM);
this.oo=null;this.J0=new bc(null,j.Om.si)}cw.prototype=new df("");cw.prototype.hw=function(){this.bN=[];
var F=y.i("div","form padded");this.H0.appendChild(F);y.B(F,"width:200px");this.H0.appendChild(F);var r=y.i("canvas"),$=r.getContext("2d");
r.width=r.height=160;var C=[32,0,16,160,0,32,160,16,0,112,160,16],M="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),l=[0,0,0,0,0,0,0,0,0,0];
F.appendChild(this.J0._);y.Hd(F);for(var O=0;O<10;O++){$.clearRect(0,0,160,160);$.setTransform(1,0,0,1,80,80);
$.rotate((O&3)*Math.PI/2);$.translate(-80,-80);$.fillStyle="rgba(0,0,0,0.3)";if(O<4){for(var k=0;k<12;
k+=4){$.fillStyle=k==0?"#000000":"rgba(0,0,0,0.3)";$.fillRect(C[k],C[k+1],C[k+2],C[k+3])}}else if(O<6){var d=8*6;
$.fillRect(0,0,d,160);$.fillRect(8*7,0,d,160);$.fillStyle="#000000";$.fillRect(8*14,0,d,160)}else if(O<8){$.fillRect(0,0,16,160);
$.fillRect(160-16,0,16,160);$.fillRect(32,0,160-64,160);$.fillStyle="#000000";$.fillRect(32,80-8,160-64,8*1)}else{$.fillRect(0,0,8*7,160);
$.fillRect(8*13,0,160,160);$.fillStyle="#000000";$.fillRect(8*7,80-8,8*6,8*1)}var I="<img src=\""+r.toDataURL()+"\" class=\"autoscale gsicon\" /> ",c=new eT(I,0,200,null,O==4||O==5?0:2,null,null,4,M[O]);
c.parent=this;c.Q(_.E.V,this.a6k,this);c.o(l[O]);c.l();this.bN.push(c);F.appendChild(c._)}var Q=[[11,14],[11,15,0]];
this.PG=[];for(var O=0;O<Q.length;O++){var x=new jC(Q[O],!0,null,!0);this.PG.push(x);x.Q("click",this.O1,this);
F.appendChild(x._)}for(var O=0;O<6;O++){$.setTransform(1,0,0,1,80,80);$.rotate(Math.floor(O/3)*Math.PI/2);
$.translate(-80,-80);$.clearRect(0,0,160,160);$.fillStyle="rgba(0,0,0,0.3)";$.fillRect(0,0,160,160);
$.clearRect(16,16,128,128);$.fillStyle="#000000";var U=O%3;$.fillRect([0,9,18][U]*8,0,16,160);var I="<img src=\""+r.toDataURL()+"\" class=\"autoscale gsicon\" /> ",x=new jC(I,!1,null,!1);
this.PG.push(x);x.Q("click",this.O1,this);F.appendChild(x._)}};cw.prototype.l=function(){df.prototype.l.call(this);
this.J0.l();if(this.bN==null)return;for(var O=0;O<this.PG.length;O++)this.PG[O].l()};cw.prototype.a6k=function(F){var r=this.bN,$=r.indexOf(F.target),C=Math.floor($/2),M=$&1,l=[];
for(var O=0;O<4;O++)l.push(r[2*O+M].k());var k=-1;if(C==2&&l[2]!=0&&l[3]!=0&&l[4]!=0)k=4;if(C==3&&l[3]!=0&&l[2]!=0&&l[4]!=0)k=4;
if(C==4&&l[4]!=0&&l[2]!=0&&l[3]!=0)k=3;if(k!=-1)r[2*k+M].o(0)};cw.prototype.O1=function(F){var r=this.oo,$=this.PG.indexOf(F.target),C=[[],[]];
if(r==null)return;var M=r.d?r.d.S:new cS(0,0,r.r,r.$),l=M.r,k=M.$;if($==0){var d=[[],[]],I=this.J0.k();
for(var O=0;O<this.bN.length;O++){var c=this.bN[O].k();if(O!=4&&O!=5)c=j.Om.Xv(c,r.YV,(O&1)==0?M.r:M.$,I);
d[O&1].push(c)}var Q=[cw.aD_(d[0],M.x,M.x+l),cw.aD_(d[1],M.y,M.y+k)];C=cw.Z9(Q);B.qW.Kn(C,r.Pw())}else if($==1){}else{$-=2;
var x=Math.floor($/3),Q=[[],[]];Q[x].push([M.x,M.x+l/2,M.x+l,M.y,M.y+k/2,M.y+k][$]);C=cw.Z9(Q);B.qW.Kn(C,r.Pw())}this.aE$(C)};
cw.Z9=function(F){var r=[],$=[];for(var C=0;C<2;C++)for(var O=0;O<F[C].length;O++){r.push([C,F[C][O]]);
$.push(-1)}return[r,$]};cw.prototype.apE=function(F){var r=this.aDQ.indexOf(F.target)};cw.prototype.aE$=function(F){var r=new k6(_.E.O,!0);
r.J=B.uo;r.data={R:"gids",jb:F};this.a(r)};cw.aD_=function(F,r,$){var C=[],M=F[2],l=F[3],k=F[4],d=0;
if(M==0)d++;if(l==0)d++;if(k==0)d++;if(d>1&&M==0&&l==0){if(F[0]!=0)C.push(r+F[0]);if(F[1]!=0)C.push($-F[1]);
return C}var I=$-r-F[0]-F[1];if(M==0){if(k==0){M=Math.floor(I/l);k=(I-M*l)/(M-1)}else{M=1;while(l*M+k*(M-1)+l+k<=I)M++}}else if(M!=0&&l!=0){if(M*l>I)M=Math.floor(I/l);
k=(I-M*l)/(M-1)}C.push(r+F[0],$-F[1]);var l=(I-k*(M-1))/M;for(var O=1;O<M;O++){if(k==0)C.push(r+F[0]+O*l);
else C.push(r+F[0]+O*l+(O-1)*k,r+F[0]+O*l+O*k)}return C};cw.prototype.wK=function(F,r,$){this.oo=F};
cw.prototype.$x=function(){if(y.D4(this.H0)&&this.bN==null)this.hw();this.l()};cw.prototype.Db=function(F){this.J0.o(F.AK.qU)};
function et(){df.call(this,[9,2],!1,"---panels/properties",df.sy.VK);this.ahs=null;this.xB=null;this.e=null;
this.ajw=-1;this.cO=null}et.prototype=new df("");et.prototype.Xt=function(F,r){this.a0=F;this.Y9=r;F=F-16;
r=r-30;var $=this.cO;if($){$.style.width=F+"px";$.style.height=r+"px";for(var O=0;O<3;O++)this.aqv[O].Xt(F-12,r)}};
et.prototype.hw=function(){this.cO=y.i("div","padded scrollable");this.H0.appendChild(this.cO);var F=y.i("span");
this.cO.appendChild(F);this._u=[new jC([0,3]),new jC([12,73]),new jC([12,91,0])];for(var O=0;O<this._u.length;
O++){var r=this._u[O];r.Q("click",this.avn,this);F.appendChild(r._);if(O==2)r._.style.marginRight="0"}this.cO.appendChild(y.i("hr"));
this.Af=new et.SE;this.Af.parent=this;this.Qi=new et.uG;this.Qi.parent=this;this.Hz=new et.Lw;this.Hz.parent=this;
this.aqv=[this.Af,this.Qi,this.Hz];this.cO.appendChild(this.Af._);this.nF=y.i("div","lpfoot");this.H0.appendChild(this.nF);
this.xu=[];for(var O=0;O<4;O++){var r=new jC("W");r.Q("click",this.St,this);this.xu.push(r);this.nF.appendChild(r._)}this.Xt(this.a0,this.Y9)};
et.prototype.St=function(F){var O=this.xu.indexOf(F.target);if(O==1){var r=this.xB,$=r.u[r.K[0]],C=f0.get($.add);
this.Af.abH.o(e9.Mv(C));this.Af.afU();return}var M=new k6(_.E.O,!0);M.J=B.pO;if(O==0)M.data={R:Z.Uw};
if(O==2)M.data={R:Z.iy};if(O==3)M.data={R:Z.O9};this.a(M)};et.prototype.avn=function(F){var O=this._u.indexOf(F.currentTarget);
this.CH(O);this.aIF(O==1?this.Qi.Gr:-1)};et.prototype.CH=function(F){for(var O=0;O<3;O++){this._u[O].Ly();
var r=this.aqv[O]._;if(r.parentNode==this.cO&&O!=F)this.cO.removeChild(r);if(r.parentNode!=this.cO&&O==F)this.cO.appendChild(r)}this._u[F].z1()};
et.prototype.aIF=function(F){var r=this.xB.K[0],$=this.xB.u[r],C=F+1;if(F==1&&$.aq)return;var M=new k6(_.E.O,!0);
M.J=B.pO;if(F!=1&&$.aq){M.data={R:Z.sJ,z:r,A0:2};this.a(M)}M.data={R:Z.sJ,z:r,A0:C};this.a(M)};et.prototype.l=function(){df.prototype.l.call(this);
if(this.cO==null)return;this.wK(this.xB);for(var O=0;O<3;O++){this._u[O].l();this.aqv[O].l()}hi.ff(this.xu,["lrs/clipping","reload","lrs/eye","lrs/bin"],[[6,6,0],[1,12,2],[5,5],[6,31]])};
et.prototype.$x=function(){if(!y.D4(this.H0))return;if(this.cO==null){this.hw();this.Db(this.e,d3.BN);
this.wK(this.ahs);this.l()}};et.prototype.wK=function(F){this.ahs=F;if(this.cO==null)return;this.Af.wK(F);
this.Qi.wK(F);this.Hz.wK(F);if(F==null||F.K.length==0||F.u[F.K[0]]==null){y.yY(this.H0,"disabled");this.xB=null;
return}else y.cD(this.H0,"disabled");var r=F.K[0],$=F.u[r];this.xu[0].o($.p9);this.xu[1].fC(f0.get($.add)!=null);
this.xu[2].o($.rR());var C=F.Ug(),M=C[0],l=C[1];if(l.length!=0){var k=M[l[0]],d=k.add.vogk,I=!1;if(d)for(var O=0;
O<d.length;O++){var c=d[O].v;if(!j.EL.qJ(c))continue;I=!0;r=k.Sc}}r+=","+I;if(F!=this.xB||this.ajw!=r){this.xB=F;
this.ajw=r;if(I)this.CH(2);else if($.Go<1&&!$.aq||f0.get($.add))this.CH(0);else this.CH(1)}this._u[1].fC(this.Qi.Gr!=-1);
this._u[2].fC(I)};et.prototype.Db=function(F,r){this.e=F;if(this.Af)this.Af.Db(F,r);if(this.Hz)this.Hz.Db(F,r)};
et.SE=function(){au.call(this);this._=y.i("div","form");this.ark=new eu("Hello");this._.appendChild(this.ark._);
this.rI=null;this.abH=null;this.xB=null;this.e=null;this.ajG=-1;this.a2G=null;this.a1o=null;this.vw=new gN(0,!0,!0);
this.vw.parent=this;this.vw.Q(_.E.V,this.a9p,this);this._.appendChild(this.vw._);this.Tv=new a$(!0);
this.Tv.parent=this;this.Tv.Q(_.E.V,this.aA2,this);this.VG=y.i("div","marged hiline");this.VG.appendChild(this.Tv._);
this.Uc=new gO("GrFl",!0);this.Uc.parent=this;this.Uc.Q(_.E.V,this.aGI,this);this.oV=y.i("div","marged hiline");
var F="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var O=0;O<F.length;O++){var r=this.Uc.$c[F[O]]._;
this.oV.appendChild(r)}this.j_=new gO("patternFill",!0);this.j_.parent=this;this.j_.Q(_.E.V,this.aFR,this);
this.mS=y.i("div","marged hiline");var F=["Ptrn","Angl","Scl","Algn","phase"];for(var O=0;O<F.length;
O++){var r=this.j_.$c[F[O]]._;this.mS.appendChild(r)}this.ug={};for(var $ in f0.names){if(cW[$]==null)continue;
this.ug[$]=new cW[$];this.ug[$].Q(_.E.V,this.afU,this);this.ug[$].parent=this}var C=this.av8=y.i("div","marged hiline");
this.CB=new gN(0,!0);C.appendChild(this.CB._);this.CB.Q(_.E.V,this.bs,this);this.ag7=null;this.Xi=new j2;
this.Xi.parent=this;this.Xi.Q(_.E.V,this.bs,this);C.appendChild(this.Xi._);this.qQ=new fK;this.qQ.parent=this};
et.SE.prototype=new au;et.SE.prototype.a9p=function(F){var r=this.vw.k(),$=this.a1o,C=new cS(r[0],r[1],r[2],r[3]);
if(C.Mp($))return;this.a1o=C;var M=new k6(_.E.O,!0);if($.r==C.r&&$.$==C.$){M.J=B.uo;M.data={R:"trsl",hu:C.x-$.x,PB:C.y-$.y}}else{M.J=B.DJ;
M.data={R:"scl",qc:[2,4],Y:new hx(C.r/$.r,C.$/$.$),lT:0}}this.a(M)};et.SE.prototype.Xt=function(F,r){var $=this.ug;
for(var C in $)$[C].Xt(F,r)};et.SE.prototype.l=function(){for(var F in this.ug)this.ug[F].l();this.Uc.l();
this.j_.l();this.Xi.l();this.CB.l();this.vw.l();this.qQ.l()};et.SE.prototype.bs=function(F){var r=new k6(_.E.O,!0),$=this.CB.k(),C=this.ag7;
if(F.target==this.CB&&$[2]==C[2]&&$[3]==C[3]){r.J=B.uo;r.data={R:"trsl",hu:$[0]-C[0],PB:$[1]-C[1]}}else{var M=Z.Xj(new cS($[0],$[1],$[2],$[3])),l=this.Xi.apo();
l.artboardRect={t:"Objc",v:M};var k=this.xB,d=k.u[k.K[0]],I=d.add.artb.guideIndeces;if(I)l.guideIndeces=j.N(I);
r.J=B.pO;r.data={R:Z.iM,uU:l}}this.a(r)};et.SE.prototype.aA2=function(F){var r=this.xB,$=r.K[0];if(r.u[$].add.SoCo==null)return;
var C=j.N(r.u[$].add.SoCo);C.Clr.v=this.Tv.k();this.tI({Ef:1,v$:C})};et.SE.prototype.aGI=function(F){var r=this.xB,$=r.K[0];
if(r.u[$].add.GdFl==null)return;this.tI({Ef:2,v$:this.Uc.k()})};et.SE.prototype.aFR=function(F){this.tI({Ef:3,v$:this.j_.k()})};
et.SE.prototype.tI=function(F){this.akL(B.pO,{R:Z.fn,RF:[this.xB.K[0]],oQ:!0,Y:F})};et.SE.prototype.afU=function(F){this.akL(B.tZ,{R:"edit_layer",Y:this.abH.k()})};
et.SE.prototype.akL=function(F,r){var $=new k6(_.E.O,!0);$.J=F;$.data=r;this.a($)};et.SE.prototype.wK=function(F,r){var $=dG.get([0,3]),C=!1,M=null;
this.xB=F;if(F&&F.u.length>0&&F.K.length!=0&&F.u[F.K[0]]){var l=F.u[F.K[0]],k=f0.get(l.add);if(k!=null&&this.ug[k]!=null){M=this.ug[k]._;
this.abH=this.ug[k];this.ug[k].o(j.N(l.add[k]));if(F.K[0]!=this.ajG){var d=F.Ez(F.K[0]-1);this.a2G=j.DP(d)}this.ug[k].ZA(this.a2G);
$=dG.get(f0.names[k])}if(k==null&&l.add.artb==null){var I=this.a1o=j.b.LY(B.hL.y2(F));C=!I.XS();var c=F.Ph();
I.x-=c.x;I.y-=c.y;this.vw.o([I.x,I.y,I.r,I.$],[F.YV,F.r,this.e.AK.qU])}if(l.add.SoCo){M=this.VG;this.Tv.o(l.add.SoCo.Clr.v);
$=dG.get([6,48,0,0])}if(l.add.GdFl){M=this.oV;this.Uc.update(F,l.add.GdFl);$=dG.get([6,48,0,1])}if(l.add.PtFl){M=this.mS;
this.j_.update(F,l.add.PtFl);$=dG.get([6,48,0,2])}if(l.add.artb){var Q=l.add.artb,x=l.dh();M=this.av8;
this.Xi.anj(Q);var U=this.ag7=[x.x,x.y,x.r,x.$];this.CB.o(U,[F.YV,F.r,this.e.AK.qU]);$=dG.get([1,16,0])}var S=l.add.SoLd;
if(S&&S.generativeDocInfo){var z=S.Idnt.v,V=F.up(z);this.qQ.o(V.raw.buffer);M=this.qQ._}this.ajG=F.K[0]}if(M!=this.rI){if(this.rI)this._.removeChild(this.rI);
if(M!=null)this._.appendChild(M);this.rI=M}this.ark.o($);this.vw._.style.display=C?"":"none"};et.SE.prototype.Db=function(F,r){this.e=F;
this.Uc.Db(F,r);this.j_.Db(F,r);if(r==d3.jG)this.wK(this.xB,F);for(var $ in this.ug)this.ug[$].Db(F,r)};
et.uG=function(){au.call(this);this._=y.i("div","form");this.xB=null;this.Gr=0;var F=y.i("span","fitem");
this._.appendChild(F);this._u=[new jC([6,2]),new jC([6,3]),new jC([6,50])];for(var O=0;O<this._u.length;
O++){var r=this._u[O];r.Q("click",this.afA,this);F.appendChild(r._)}this.LG=new gm([12,74],0,255);this.LG.Q(_.E.V,this.ms,this);
this._.appendChild(this.LG._);this.AU=new gm([7,6],0,500,"px",2,!0);this.AU.Q(_.E.V,this.ms,this);this._.appendChild(this.AU._);
this.awl=new jC([4,11],null,null,!0);this.awl.Q("click",this.aI3,this)};et.uG.prototype=new au;et.uG.prototype.aI3=function(){var F=new k6(_.E.O,!0);
F.J=B.tZ;F.data={R:"start",yn:"nvrt"};this.a(F)};et.uG.prototype.ms=function(F){var r=this.LG.k(),$=this.AU.k(),C=new k6(_.E.O,!0);
C.J=B.pO;C.data={R:Z.Lv,Kw:this.xB.K[0],W2:{vQ:this.Gr,LG:r,AU:$}};this.a(C)};et.uG.prototype.l=function(){for(var O=0;
O<this._u.length;O++)this._u[O].l();this.LG.l();this.AU.l();this.awl.l()};et.uG.prototype.wK=function(F){this.xB=F;
this.R0()};et.uG.prototype.afA=function(F){this.R0(this._u.indexOf(F.currentTarget));this.parent.aIF(this.Gr)};
et.uG.prototype.R0=function(F){var r=this.xB,$=this._u;for(var O=0;O<3;O++){var C=$[O];C.Ly();C.Xg()}if(r==null||r.u.length==0||r.K.length==0||r.u[r.K[0]]==null)return;
var M=-1,l=r.u[r.K[0]];if(l.XE()&&l.WZ(r).Lj!=null){$[2].VS();M=2}if(l.add.vmsk){$[1].VS();M=1}if(l.rc()){$[0].VS();
M=0}if(F!=null)M=F;else if(l.aq)M=1;else if(l.Go==3)M=2;else if(l.Go==1)M=0;this.Gr=M;if(M==-1){this.LG.Xg();
this.AU.Xg();return}var k=l.MG(M);this.LG.VS();this.AU.VS();this.LG.o(k.LG);this.AU.o(k.AU);$[M].z1();
var d=this.awl._;if(M==0)this._.appendChild(d);else if(d.parentNode==this._)this._.removeChild(d)};et.Lw=function(){au.call(this);
this._=y.i("div","form");this.oo=null;this.e=null;this.s7=-1;this.vw=new gN(0,!1);this.mB=new gm([12,15],-180,180,"\xB0",2);
this.PK=new gN(1,!0);this.JX=new gm([12,94,0],0,100,null,2);this.rU=new gm([12,78],3,30);this.I2=new jC(["\u279C  ",[12,76,0]],null,null,!0);
this.vw.Q(_.E.V,this.kJ,this);this.mB.Q(_.E.V,this.kJ,this);this.PK.Q(_.E.V,this.kJ,this);this.JX.Q(_.E.V,this.kJ,this);
this.rU.Q(_.E.V,this.kJ,this);this.I2.Q("click",this.kJ,this)};et.Lw.prototype=new au;et.Lw.prototype.l=function(){this.vw.l();
this.mB.l();this.PK.l();this.JX.l();this.rU.l()};et.Lw.prototype.kJ=function(F){var r=this.oo,$=j.EL.e0(r),C=F.target.k(),M=[this.vw,this.mB,this.PK,this.JX,this.rU,this.I2].indexOf(F.target);
if(M==0){var l=r.Ph(),k=[],d=k[0]=C[0]+l.x,I=k[1]=C[1]+l.y;k[2]=d+C[2];k[3]=I+C[3];C=k}if(M==1)C=C*Math.PI/180;
var c={0:1,1:2,2:3,3:3,4:4}[M];$[c]=C;var Q=new k6(_.E.O,!0);Q.J=B.pO;Q.data={R:Z.g6,Y:$,aq6:M==5};this.a(Q)};
et.Lw.prototype.wK=function(F){var r=this._;this.oo=F;if(F==null)return;var $=this.e,C=[F.YV,F.r,$.AK.qU],M=j.EL.e0(F),l=M[0],k=M[1];
if(k==null)return;var d=l!=this.s7;this.s7=l;if(d)y.RR(r);if(d)r.appendChild(this.vw._);if(d)r.appendChild(this.mB._);
var I=F.Ph();this.vw.o([k[0]-I.x,k[1]-I.y,k[2]-k[0],k[3]-k[1]],C);this.mB.o(M[2]*180/Math.PI);if(l==2){if(d)r.appendChild(this.PK._);
var c=M[3];this.PK.o(c,C)}if(l==7||l==8){if(d)r.appendChild(this.JX._);this.JX.o(M[3])}if(l==8){if(d)r.appendChild(this.rU._);
this.rU.o(M[4])}r.appendChild(this.I2._)};et.Lw.prototype.Db=function(F,r){this.e=F;this.wK(this.oo)};
function bZ(F){df.call(this,F.name,!0);this.xB=F;this.e=null;this.C$=new d7(this.H0);this.C$.parent=this}bZ.prototype=new df;
bZ.FX=function(){var F=document.createElement("canvas"),r=document.createElement("canvas"),$=document.createElement("canvas"),C=16,M=j.j(16*16*4);
j.HG(M,C,C,8);var l=j.scale.Ui(M,C,C);return{XG:F,axU:r,akZ:$,FL:F.getContext("2d",{willReadFrequently:!0}),ako:r.getContext("2d"),aa8:$.getContext("2d"),CR:l}}();
bZ.prototype.amX=function(){if(this.xB.MO())return window.confirm(dG.get([22,6,3])+" "+this.xB.name+". "+dG.get([22,6,4]));
return!0};bZ.prototype.Db=function(F,r){this.e=F};bZ.prototype.wK=function(F){this.$x();this.vr()};bZ.prototype.Xt=function(F,r){if(F<=0||r<=0)return;
this.a0=F;this.Y9=r;var $=this.xB,C=bZ.FX,M=y.ha();$.f.FL.r=Math.floor(F*M);$.f.FL.$=Math.floor(r*M);
y.jd(C.XG,F,r);y.jd(C.axU,F,r);y.jd(C.akZ,F,r);y.jd(jp.q6(),F,r);if($.f.bU==0)$.f.bU=B.aB._S($.r,$.$,F*M,r*M);
this.vr()};bZ.prototype.$x=function(){var F=this.H0.firstChild,r=bZ.FX,$=jp.mE&&gw==0;if(!$&&F==jp.q6()||$&&F==r.XG)this.H0.removeChild(F);
var C=$?jp.q6():r.XG;if(!y.D4(C))this.H0.appendChild(C)};bZ.prototype.vr=function(){if(this.e==null)return;
var F=this.xB,r=jp.mE&&gw==0;if(r)this.a7F();else this.YT()};bZ.prototype.a7F=function(){if(jp.mE&&bZ.auI==null){var F=bZ.auI=[],r=[0,2,8,32,128];
for(var O=0;O<5;O++)F[O]=[new bZ.xt(!1,r[O],!1),new bZ.xt(!0,r[O],!1)];F.push([new bZ.xt(!1,0,!0),new bZ.xt(!0,0,!0)])}var $=this.xB,C=bZ.FX,z,Y=0,g,W;
if($.QQ==null)return;var M=$.f,l=M.FL.r,k=M.FL.$,d=jp.Tg;C.FL.clearRect(0,0,l,k);var I=this.acM($);if(M.Ye==null||M.Ye.r!=l||M.Ye.$!=k)M.Ye=new jp.fJ(l,k);
if(I){var c=Date.now(),Q=k,x=new Uint8Array(C.FL.getImageData(0,0,l,Q).data.buffer);M.Ye.set(x,new cS(0,0,l,Q));
this.VM=!0}else if(this.e._2){if(this.VM){jp.Tt(M.Ye);jp.E$(1);this.VM=!1}var U=j.Om.sR,x=new Uint8Array($.f.TR.data.buffer);
M.Ye.set(x,new cS(0,0,U,k));var x=new Uint8Array($.f.s6.data.buffer);M.Ye.set(x,new cS(0,0,l,U));var x=new Uint8Array(C.FL.getImageData(0,k-U,l,U).data.buffer);
M.Ye.set(x,new cS(0,k-U,l,U));this.VM=!0}else if(this.VM){jp.Tt(M.Ye);jp.E$(1);this.VM=!1}var S=M.uc(0,0);
if(bZ.aIz==null)bZ.aIz=new Float32Array(4*1024);var V=[0,0,0,0],t=bZ.aIz;if($.add.artd){t.fill(0);V=bZ.Uf($);
var i=$.r,J=$.$,G=0;for(var O=0;O<$.u.length;O++){var H=$.u[O],v=H.add.artb;if(v==null||!H.rR())continue;
var n=H.dh();t[Y]=n.x/i;t[Y+1]=n.y/J;t[Y+2]=n.r/i;t[Y+3]=n.$/J;Y+=4;if(Y==t.length)break}if(Y>2*4)G++;
if(Y>8*4)G++;if(Y>32*4)G++;z=bZ.auI[G+1];t=new Float32Array(t.buffer,0,[2,8,32,128][G]*4)}else z=bZ.auI[$.pc?5:0];
var L=$.o7();if(L==null)z=z[0];else{z=z[1];W=L[$.add.fcmy==1?6:4];g=L[2]}jp.aIL(l,k);jp.E$(0);jp.aIL(l,k);
z.BI();var b=new hS;b.scale(l,k);b.concat(M._c(!0));b.scale(1/$.r,1/$.$);var T=[b.xz,b.X,0,b.gb,b.G0,0,b.P6,b.jw,1];
z.T6(M.Ye.VJ,$.QQ.VJ,new Float32Array(T),new Float32Array([l/8,k/8,S.x/l,S.y/k]),$.r,$.$,1/$.f.bU,l,k,new Float32Array(V),t,new Float32Array(j.t3.Mk(j.t3.aoj(M.BS))),W,g);
d.drawArrays(d.TRIANGLES,0,6)};bZ.Uf=function(F){return[0,0,0,0]};bZ.a4Y=function(F){var r=j.qS.MB(F.v),$=[r.t/255,r.L/255,r.X/255,1];
for(var O=0;O<4;O++)$[O]=Math.min(1,$[O]);return $};bZ.Lf=function(F,r){var $=F[2]*255;if(jp.mE)$=r?0:Math.max(2,$);
return"rgba("+F[0]*255+","+F[1]*255+","+$+","+F[3]+")"};bZ.a6=function(F){var r=F.length;if(jp.mE)for(var O=0;
O<r;O+=4){if(F[O+2]==0)F[O+2]=3}};bZ.prototype.YT=function(){var F=this.xB,r=bZ.FX;if(gw==0&&F.buffer==null)return;
var $=F.f,C=$.FL,M=C.r,l=C.$,k=new cS(0,0,F.r,F.$);r.FL.clearRect(0,0,M,l);var d=F.add.prvw==0;if(gw==1&&d){r.FL.fillStyle="white";
r.FL.fillRect(-5e3,-5e3,2e4,2e4)}var I=$._c(!0),c=I.P();c.v4();if(F.add.artd==null){r.FL.save();var Q=c.pI(new hx(0,0));
c.translate(-Q.x,-Q.y);r.FL.translate(Math.round(Q.x),Math.round(Q.y));r.FL.fillStyle=gw==0?r.CR:"#ffffff";
if(F.pc)r.FL.fillRect(-5e3,-5e3,2e4,2e4);else{var x=F.add.arts;if(gw==1)for(var O=0;O<x.length;O++){var U=j.b.sY(x[O].sc);
this.nK(j.b.Vs(U),c,r.FL);if(d)r.FL.stroke();else r.FL.fill()}else{this.nK(j.b.Vs(k),c,r.FL);r.FL.fill()}}r.FL.restore()}else{r.FL.fillStyle=bZ.Lf(bZ.Uf(F));
r.FL.fillRect(0,0,M,l);r.FL.save();r.FL.setTransform(c.xz,c.X,c.gb,c.G0,c.P6,c.jw);var S=F.root.children;
for(var O=0;O<S.length;O++){var z=S[O].z;if(z.add.artb==null||!z.rR())continue;var V=z.dh(),t=z.tx();
if(t!=0)continue;r.FL.fillStyle=r.CR;r.FL.save();r.FL.scale(1/$.bU,1/$.bU);r.FL.fillRect($.bU*V.x,$.bU*V.y,V.r*$.bU,V.$*$.bU);
r.FL.restore()}r.FL.restore()}var c=$._c(!0);c.v4();if(gw==1){r.FL.save();var Y=j.b.Vs($.FL);j.b.U(Y.n,$._c(!0),Y.n);
var U=j.b.qy(Y.n);r.FL.setTransform(c.xz,c.X,c.gb,c.G0,c.P6,c.jw);F.root.Pu(F,r.FL,this.e,U);r.FL.restore()}else{$.Md();
var i=C,J=F.OX;if(J&&J.qC(k))J=null;if(!F.pc){var H=J;if(H==null)H=k;var v=j.b.Vs(H).n;j.b.U(v,c,v);
var U=j.b.qy(v);i=C.R7(U)}if(!i.XS()){var n=new Uint8Array($.qn.buffer,0,i.C()*4);n.fill(0);j.scale.dq(F.buffer,k,I,n,i,F.pc);
var G=F.o7();if(G)ICC.U.applyLUT(G[F.add.fcmy==1?5:3],G[2],n,n);if($.BS[0]+$.BS[1]+$.BS[2]!=3)j.t3.a1i(n,n,j.t3.aoj($.BS));
if(J)r.aa8.clearRect(i.x,i.y,i.r,i.$);else r.aa8.clearRect(0,0,M,l);r.aa8.putImageData(new ImageData(new Uint8ClampedArray(n.buffer,0,n.length),i.r,i.$),i.x,i.y)}r.FL.drawImage(r.akZ,0,0);
r.FL.getImageData(0,0,1,1)}this.acM(F)};bZ.prototype.acM=function(F){var r=F.f,$=r.BS[0]+r.BS[1]+r.BS[2],C=bZ.FX,M=!1,l=[];
for(var O=0;O<F.K.length;O++){var k=F.u[F.K[O]];if(k==null)continue;var d=k.Go;if(d!=1&&d!=3)continue;
var I=d==1?k.rc():k.WZ(F).Lj;if(I.Nn)l.push(I)}for(var O=0;O<F.Bs.length;O++)if(F.Bs[O].Nn)l.push(F.Bs[O]);
for(var O=0;O<l.length;O++){var I=l[O];this.a5R(I,r,l.length==1&&$==0?2:1,I.color,I.$d);M=!0}var c=this.e;
M=this.ayU(F,C.FL,r,l.length!=0)||M;if(F.d&&c.V$&&c.AK.Xx){this.a5R(F.d,r,0,0,null);M=!0}return M};bZ.prototype.a5R=function(F,r,$,C,M){var l=0;
if(M)l=Math.round(M.X)<<16|Math.round(M.L)<<8|Math.round(M.t);var k=r._c(!0),d=r.FL,I=new cS(0,0,r.xB.r,r.xB.$),c=bZ.FX;
r.Md();r.tP.fill(C);r.qn.fill(0);var Q=F.G,x=F.S;j.scale.U(Q,x,k,r.tP,d);if($==0){var U=new Uint32Array([4278190080,4294967295]);
bZ.a6(new Uint8Array(U.buffer));j.d.a9g(r.tP,r.qn,d,U,y.ha()>1.9)}else{var S=Date.now();j.d.aIf(r.tP,r.qn,d,$,l);
bZ.a6(r.qn)}var z=new ImageData(new Uint8ClampedArray(r.qn.buffer),d.r,d.$);c.ako.putImageData(z,0,0);
c.FL.save();if($!=0){var V=new cS(0,0,I.r,I.$),t=k.P();t.v4();this.nK(j.b.Vs(V),t,c.FL);c.FL.clip()}c.FL.drawImage(c.axU,0,0);
c.FL.restore()};bZ.prototype.ayU=function(F,r,$,C){var M=F.pu.UW!=null||F.pu.nW!=null||F.pu.O_!=null||F.pu.gN!=null||F.pu.NO!=null||F.pu.oj!=null||F.pu.Q0.length!=0||F.pu.oY.length!=0,l=this.e,k=l.AK,d=at.G1[l.di],I=Math.round(12*y.ha()),c=I/F.f.bU,Q=$._c(!0);
Q.v4();r.save();r.setTransform(Q.xz,Q.X,Q.gb,Q.G0,Q.P6,Q.jw);var x=bZ.Uf(F)[0];x=x<.5?x+.5:x-.5;x=""+Math.round(x*255).toString(16);
while(x.length<2)x="0"+x;r.font=c+"px sans-serif";if(F.add.artd){r.fillStyle="#"+x+x+x;for(var O=0;O<F.u.length;
O++){var U=F.u[O];if(U.add.artb==null||!U.rR())continue;var S=U.dh();r.save();r.beginPath();r.rect(S.x,S.y-2*c,S.r,2*c);
r.clip();r.fillText(U.getName(),S.x+2,S.y-c*.7);r.beginPath();r.restore();M=!0}}if(F.add.arts&&l.fp==B.op){var z=F.add.arts;
for(var O=0;O<z.length;O++){var S=z[O],V=j.b.sY(S.sc),t=(O+1+"").padStart(2,"0");t+=" - "+S.du;r.save();
r.beginPath();r.fillStyle=S.K?"#cce6ff":"#dddddd";r.rect(V.x,V.y,r.measureText(t).width+c,c*1.5);r.fill();
r.fillStyle="black";r.fillText(t,V.x+c/2,V.y+c*1.1);r.restore()}M=!0}function Y(es){return es==1||es==2||es==4||es==5}var i=bZ.Lf([.3,.5,1,1]),J=bZ.Lf([1,1,1,1]),H=bZ.Lf([.7,.7,.7,1]);
if(l.V$&&k.S8){r.fillStyle=r.strokeStyle=i;r.lineWidth=1.5/$.bU;var v=F.Ug(),n=v[0],G=v[1];for(var g=0;
g<G.length;g++){var U=n[G[g]],W=U.add.vmsk,L=W.M,b=j.b.oJ(L);this.nK(b,null,r);r.stroke();M=!0;var T=3*y.ha()/$.bU;
for(var O=0;O<W.tn.length;O++){var a=j.w.aop(L,W.tn[O]);if(a==null)continue;var R=a.x,D=a.y;r.beginPath();
var h=O==0;if(W.ag)h=!h;if(h){r.moveTo(R-T,D-T);r.lineTo(R+T,D+T);r.moveTo(R-T,D+T);r.lineTo(R+T,D-T);
r.stroke()}else{r.arc(R,D,T*1,0,2*Math.PI);r.fill()}M=!0}if(F.K.length!=1)continue;var K=-1,X=-1,w=-1;
for(var O=0;O<L.length;O++){if(L[O].I>5)continue;if(L[O].I==0||L[O].I==3){X=O+1;w=L[O].length;if(L[O].ea!=-1)K++;
continue}if(W.K.indexOf(K)!=-1){var R=L[O].Z.x,D=L[O].Z.y;r.fillRect(R-T*.8,D-T*.8,2*T*.8,2*T*.8)}if(W.dP.indexOf(O)!=-1){var N=L[O],s=[N.Z];
r.beginPath();r.moveTo(N.ni.x,N.ni.y);r.lineTo(N.Z.x,N.Z.y);r.lineTo(N.Pj.x,N.Pj.y);var A=X+(O+w-X-1)%w,p=X+(O+w-X+1)%w,q=L[A],f=L[p];
if(q&&Y(q.I)&&W.dP.indexOf(A)==-1){r.moveTo(q.Z.x,q.Z.y);r.lineTo(q.Pj.x,q.Pj.y);s.push(q.Pj)}if(f&&Y(f.I)&&W.dP.indexOf(p)==-1){r.moveTo(f.Z.x,f.Z.y);
r.lineTo(f.ni.x,f.ni.y);s.push(f.ni)}r.stroke();if(!N.Z.Mp(N.ni))s.push(N.ni);if(!N.Z.Mp(N.Pj))s.push(N.Pj);
for(var e=0;e<s.length;e++){var a=s[e],R=a.x,D=a.y;if(e==0&&(N.I==2||N.I==5))r.fillRect(R-1.2*T,D-1.2*T,2.4*T,2.4*T);
else{r.beginPath();r.arc(R,D,T*1.2,0,2*Math.PI);r.fill();if(e!=0)r.fillStyle=J;r.beginPath();r.arc(R,D,T*.8,0,2*Math.PI);
r.fill();r.fillStyle=i}}}M=!0}}if(F.D3!=-1&&[B.UG,B.pA,B.QV].indexOf(l.fp)!=-1){var U=F.S8[F.D3],W=U.add.vmsk,L=W.M,b=j.b.oJ(L);
this.nK(b,null,r);r.stroke();M=!0}}r.lineWidth=1/$.bU;if(F.pu.em){r.fillStyle=r.strokeStyle=i;var f={n:[],C0:[]},o=bZ.a7D;
if(o==null){o=bZ.a7D={n:[1,0],C0:["M"]};for(var O=1;O<30;O++){var E=Math.PI*2*O/30;o.n.push(Math.cos(E),Math.sin(E));
o.C0.push("L")}o.C0.push("Z","M","L","M","L");o.n.push(-.5,0,.5,0,0,-.5,0,.5)}for(var O=0;O<F.pu.em.length;
O++){var q=B.et.atH(F.pu.em[O],$),cj=new hS(q[0],0,0,q[0],q[1],q[2]);j.b.concat(f,o,cj)}this.nK(f,null,r);
r.stroke();M=!0}var u=new hS(1,0,0,1,.5/$.bU,.5/$.bU);if(F.pc){r.fillStyle=r.strokeStyle=i;var f={n:[0,0,F.r,0,F.r,F.$,0,F.$],C0:["M","L","L","L","Z"]};
this.nK(f,u,r);r.stroke();M=!0}if(F.pu.HM){r.fillStyle=r.strokeStyle=bZ.Lf([0,0,0,.5]);this.nK(F.pu.HM,null,r,!0);
r.fill("evenodd")}r.strokeStyle=i;r.fillStyle=J;if(F.pu.O_){this.nK(F.pu.O_,u,r);r.stroke()}if(F.pu.NO){this.nK(F.pu.NO,u,r);
r.lineWidth=y.ha()*3.5/$.bU;r.stroke()}var cd=bZ.UD(F.pu.B0,r,$);r.fill();r.stroke();M=M||cd;r.fillStyle=r.strokeStyle=bZ.Lf([0,0,0,jp.mE&&gw==0?1:.5],!0);
if(F.pu.UW){this.nK(F.pu.UW,null,r);r.fill()}if(F.pu.nW){this.nK(F.pu.nW,u,r);r.stroke()}for(var m in F.pu.n7)if(F.pu.n7[m].nW){this.nK(F.pu.n7[m].nW,null,r);
r.stroke();M=!0}var cd=bZ.UD(F.pu.Ce,r,$);r.stroke();M=M||cd;if(F.pu.gN){this.nK(F.pu.gN,u,r);r.strokeStyle="rgba(0,0,0,0.5)";
r.lineWidth=y.ha()*2.5/$.bU;r.stroke();r.strokeStyle="white";r.lineWidth=y.ha()*2/$.bU;r.stroke()}if(F.pu.Qu.length+F.pu.Lu.length+F.pu.P8.length!=0){M=!0;
r.fillStyle=J;bZ.xQ(F.pu.Qu,r,$,6);r.fill();bZ.xQ(F.pu.Lu,r,$,6);r.fill();r.fillStyle=i;bZ.xQ(F.pu.Qu,r,$,4);
r.fill();bZ.xQ(F.pu.P8,r,$,4);r.fill();r.fillStyle=H;bZ.xQ(F.pu.Lu,r,$,4);r.fill()}if(F.pu.Q0.length!=0){for(var O=0;
O<F.pu.Q0.length;O++){var aZ=F.pu.Q0[O],jN=aZ[1],eh;if(C){eh=r.getImageData(jN.x,jN.y,jN.r,jN.$);j.v.O5("norm",aZ[0],jN,new Uint8Array(eh.data.buffer),jN,jN,1)}else eh=new ImageData(new Uint8ClampedArray(aZ[0].buffer),jN.r,jN.$);
r.putImageData(eh,jN.x,jN.y)}}var iA=.5/$.bU;r.lineWidth=1/$.bU;if(F.pu.Fc){M=!0;var hd=F.pu.Fc,kx=hd.db,b={C0:[],n:[]};
for(var O=0;O<hd.uW.length;O++)j.b.concat(b,j.b.Vs(hd.uW[O]));b.n=b.n.concat(kx);for(var O=0;O<kx.length;
O+=4){b.C0.push("M","L")}for(var O=0;O<b.n.length;O++){b.n[O]+=iA}r.strokeStyle=bZ.Lf([.9,.2,.2,1]);
this.nK(b,null,r);r.stroke();var b0=y.ha(),gX=2/$.bU;r.font=c*.9+"px sans-serif";for(var O=0;O<kx.length;
O+=4){var R=kx[O],D=kx[O+1],j$=kx[O+2],i0=kx[O+3],f7=Math.sqrt((i0-D)*(i0-D)+(j$-R)*(j$-R));f7=j.Om.Py(f7,F.YV,l,D==i0?F.r:F.$);
var am=new hx((R+j$)/2,(D+i0)/2);r.fillStyle=bZ.Lf([.9,.2,.2,1]);var gf=r.measureText(f7).width;r.fillRect(am.x-gf/2-gX*b0,am.y-3.5*gX*b0,gf+2*gX*b0,7*gX*b0);
r.fillStyle=bZ.Lf([1,1,1,1]);r.save();r.translate(am.x-gf/2,am.y+2*gX*b0);r.scale(.1,.1);r.font=c*9+"px sans-serif";
r.fillText(f7,0,0);r.restore()}}if(l.V$){if(k.rL&&F.f.bU>10&&gw==0){this.HG(F,r,1,1,.25,k.RL,16777215);
M=!0}if(k.sn){var cC=j.Om.Xv(k.oS,F.YV,F.r,k.aC),aD=cC;if(k.aC==4)aD*=F.$/F.r;this.HG(F,r,cC,aD,1,k.RL,k.Kl);
M=!0}if(k.oT){var c_=F.Pw(),a9=F.Fv(),jz=Math.max(F.f.FL.r,F.f.FL.$)/F.f.bU;jz=Math.max(Math.max(F.r,F.$)*2,jz);
for(var O=0;O<c_[0].length;O++){var g3=c_[0][O],e3=c_[1][O];if(e3!=-1&&e3!=a9)continue;var c1=$.uc(g3[1],g3[1]),dI=$.Ti(Math.floor(c1.x)+.5,Math.floor(c1.y)+.5),kJ=j.iW(e3==-1?k.da:k.d1);
kJ=[kJ.t/255,kJ.L/255,kJ.X/255,1];r.beginPath();r.strokeStyle=bZ.Lf(kJ);if(g3[0]==0){var cA=dI.x;r.moveTo(cA,-jz);
r.lineTo(cA,jz)}else{var c2=dI.x;r.moveTo(-jz,c2);r.lineTo(jz,c2)}r.stroke();M=!0}}var ee=F.wa;if(ee.length>0&&l.fp==B.aqo){var jN=7/F.f.bU,hF=jN/3,ic=jN*4;
r.strokeStyle=r.fillStyle="black";for(var O=0;O<ee.length;O++){var eH=ee[O];r.fillRect(eH.x-.5*hF,eH.y-.5*ic,hF,ic);
r.fillRect(eH.x-.5*ic,eH.y-.5*hF,ic,hF);r.lineWidth=2.5/F.f.bU;r.beginPath();r.arc(eH.x,eH.y,jN,0,2*Math.PI);
r.stroke();r.font=1.9*jN+"px serif";r.lineWidth=1.25/F.f.bU;r.strokeText(""+(O+1),eH.x+.75*jN,eH.y+2.5*jN)}M=!0}var kz=F.a3;
if(k.a3&&kz.length!=0){r.font=c*.8+"px sans-serif";var kq=[],a7=[];for(var O=0;O<kz.length;O++){var i6=B.ft.ck(kz,O);
kq.push(i6);if(F.hk.indexOf(O)!=-1)a7.push(i6)}kq.reverse();var hm=Date.now();kq=j.S.aGc([0,0,F.r,F.$],kq);
for(var e=0;e<2;e++)for(var O=0;O<kq.length;O++){var bB=kq[O],K=bB[4],w=K!=null?kz[K]:null;if(w&&e==0||w==null&&e==1)continue;
var R=Math.round(bB[0]),D=Math.round(bB[1]),j$=Math.round(bB[2]),i0=Math.round(bB[3]);r.strokeStyle=r.fillStyle=bZ.Lf(w?[0,.7,.7,1]:[.8,.8,.8,1]);
r.strokeRect(R+iA,D+iA,j$-R,i0-D);var iV=O+1,eO=r.measureText(iV),gf=eO.width;r.fillRect(R,D,gf+c/2,c);
r.fillStyle=bZ.Lf([1,1,1,1]);r.fillText(iV,R+c/4,D+c*.8)}var gX=2/F.f.bU,aC=2*gX;for(var O=0;O<a7.length;
O++){var bB=a7[O],R=Math.round(bB[0]),D=Math.round(bB[1]),j$=Math.round(bB[2]),i0=Math.round(bB[3]);
r.strokeStyle=r.fillStyle=bZ.Lf([1,.6,0,1]);r.strokeRect(R+iA,D+iA,j$-R,i0-D);var fq=[R,D,j$,D,j$,i0,R,i0];
for(var bX=0;bX<fq.length;bX+=2){var cA=fq[bX],c2=fq[bX+1],gb=fq[bX+2&7],dX=fq[bX+3&7];r.fillRect(cA-gX,c2-gX,aC,aC);
r.fillRect(Math.round((cA+gb)/2)-gX,Math.round((c2+dX)/2)-gX,aC,aC)}}M=!0}var cb=F.add.Anno;if(cb&&cb.length!=0)for(var O=0;
O<cb.length;O++){var e6=cb[O],kJ=e6[2],cA=e6[0]-iA,c2=e6[1]-iA,aC=30/$.j3,gn=.4*aC,a2=.6*aC;r.beginPath();
r.moveTo(cA,c2+a2);r.lineTo(cA,c2);r.lineTo(cA+aC,c2);r.lineTo(cA+aC,c2+aC);r.lineTo(cA+gn,c2+aC);r.closePath();
r.lineTo(cA+gn,c2+a2);r.lineTo(cA+gn,c2+aC);if(O==F.f.yo){r.lineWidth*=5;r.strokeStyle=bZ.Lf([0,0,0,.5]);
r.stroke();r.lineWidth/=5}r.fillStyle=bZ.Lf([kJ.t/255,kJ.L/255,kJ.X/255,1]);r.fill();r.strokeStyle=bZ.Lf([0,0,0,1]);
r.stroke()}}r.strokeStyle=bZ.Lf([1,0,0,1]);if(F.pu.oj){this.nK(F.pu.oj,u,r);r.stroke()}r.restore();if(l._2){if(F.f.s6==null||F.f.s6.width!=F.f.FL.r||F.f.TR.height!=F.f.FL.$){F.f.s6=new ImageData(F.f.FL.r,j.Om.sR);
F.f.TR=new ImageData(j.Om.sR,F.f.FL.$)}var d=at.G1[l.di],dj=0,hr=0,iB=F.r,dm=F.$;if(F.Fv()!=-1){var S=F.u[F.Fv()].dh();
dj=S.x;hr=S.y;iB=S.r;dm=S.$}dj*=$.bU;hr*=$.bU;var $=F.f,fr=[1,F.YV,F.YV/2.54,F.YV/25.4,iB/100][k.qU],dv=$.bU*F.r/2,hw=$.bU*F.$/2,gT=[$.bU*fr,new hx($.p.x+(dj+dv*fr-dv),$.p.y+(hr+hw*fr-hw))];
if(k.qU==4)fr*=dm/iB;var ha=[$.bU*fr,new hx($.p.x+(dj+dv*fr-dv),$.p.y+(hr+hw*fr-hw))],g1=this.C$.MC;
j.Om.a4T($,d["--text-color"],d["--bg-input"],Math.floor(g1.x),Math.floor(g1.y),gT,ha,k.qU==1?8:10);var gj=aM.aKc($.bU,bZ.Lf([1,1,1,1]),F.r+" \xD7 "+F.$);
bZ.a6(F.f.TR.data);bZ.a6(F.f.s6.data);r.putImageData(F.f.TR,0,0);r.putImageData(F.f.s6,0,0);r.putImageData(gj,0,F.f.FL.$-gj.height)}if(F.pu.oY.length!=0){for(var O=0;
O<F.pu.oY.length;O++){var aZ=F.pu.oY[O],jN=aZ[1];r.putImageData(new ImageData(new Uint8ClampedArray(aZ[0].buffer),jN.r,jN.$),jN.x,jN.y)}}return M};
bZ.prototype.HG=function(F,r,$,C,M,l,k){while($*F.f.bU<4){$*=2;C*=2}var d=F.r,I=F.$,c=.5/F.f.bU;k=j.iW(k);
r.strokeStyle=bZ.Lf([k.t/255,k.L/255,k.X/255,M],!1);r.save();r.rect(0,0,d,I);r.clip();r.beginPath();
for(var Q=0;Q<=d;Q+=$){r.moveTo(Q+c,0);r.lineTo(Q+c,I)}if(l==0){for(var x=0;x<=I;x+=C){r.moveTo(0,x+c);
r.lineTo(d,x+c)}}else{C*=Math.sqrt(4/3);var U=C*Math.floor(d/C),S=d*(C/(2*$));for(var x=-U;x<=I+U;x+=C){r.moveTo(0,x);
r.lineTo(d,x-S);r.moveTo(0,x);r.lineTo(d,x+S)}}r.stroke();r.restore()};bZ.xQ=function(F,r,$,C){r.beginPath();
var M=C*y.ha()/$.bU,l=!1;for(var O=0;O<F.length;O+=2){l=!0;var k=F[O],d=F[O+1];r.moveTo(k+M,d);r.arc(k,d,M,0,2*Math.PI)}return l};
bZ.UD=function(F,r,$,C){r.beginPath();var M=(C?C:1)*(4*y.ha()+.5)/$.bU,l=!1;for(var O=0;O<F.length;O+=2){l=!0;
var k=F[O],d=F[O+1];r.rect(k-M,d-M,2*M,2*M)}return l};bZ.wI=function(F,r,$,C){$.beginPath();if(C)$.rect(-1e5,-1e5,1e6,1e6);
var M=F;if(r){M=j.b.P(F);j.b.U(M.n,r,M.n)}Typr.U.pathToContext({cmds:M.C0,crds:M.n},$)};bZ.prototype.nK=bZ.wI;
bZ.xt=function(F,r,$){jp.HL.call(this);var C=this.avC=r!=0,M=$?"true":"in01(sCoord)",l="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D over;\t\t\tuniform sampler2D image;\t\t\t"+(F?"uniform sampler2D lut;  uniform float N;  "+jp.Aj.aJe:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(C?"uniform vec4 bgClr;  uniform vec4 ars["+r+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+jp.Aj.arh+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(over , tCoord); \t\t\t\tvec4 tgt = texture2D(image, sCoord"+($?"-floor(sCoord)":"")+"); \t\t\t\t"+(F?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(C?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+r+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+M+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+M+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",k="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.G7(l,k)};bZ.xt.prototype=new jp.HL;bZ.xt.prototype.T6=function(F,r,$,C,M,l,k,d,I,c,Q,x,U,S){this.De("tmat gsize over image lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var z=jp.Tg,V=this.eX;z.uniformMatrix3fv(V.tmat,!1,$);z.uniform4fv(V.gsize,C);z.uniform3f(V.contSizeZoom,M,l,k);
z.uniform2f(V.cnvSize,d,I);z.uniformMatrix4fv(V.ctrn,!1,x);if(this.avC){z.uniform4fv(V.ars,Q);z.uniform4fv(V.bgClr,c)}z.uniform1i(V.over,0);
z.uniform1i(V.image,1);z.activeTexture(z.TEXTURE0);z.bindTexture(z.TEXTURE_2D,F);z.activeTexture(z.TEXTURE1);
z.bindTexture(z.TEXTURE_2D,r);if(U){z.uniform1f(V.N,S);z.uniform1i(V.lut,2);z.activeTexture(z.TEXTURE2);
z.bindTexture(z.TEXTURE_2D,U.VJ);var t=z.LINEAR;z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,t);
z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,t)}z.activeTexture(z.TEXTURE0)};function aH(){df.call(this,[9,7],!1,"---panels/layercomps",df.sy.a9m);
y.B(this.H0,"min-width:240px;");this.xB=null;this.Zg=-1;this.DR=[];this.Np=y.i("div","scrollable");this.Np.style.height="160px";
this.H0.appendChild(this.Np);this.nF=y.i("div","lpfoot");this.H0.appendChild(this.nF);this.PG=[];var F=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],r=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var O=0;O<F.length;O++){var $=F[O];if(O>0)$="<img src=\""+PIMG[F[O]]+"\" class=\"miniscale gsicon\" />";
var C=new jC($,!1,r[O]);C.Q("click",this.aBU,this);this.nF.appendChild(C._);this.PG.push(C)}}aH.prototype=new df("");
aH.prototype.Xt=function(F,r){y.B(this.H0,"width:"+(F-2)+"px;");this.Np.style.height=r-28+"px"};aH.prototype._Y=function(F){var r=new k6(_.E.O,!0);
r.data=F;r.J=B.AF;this.a(r)};aH.aKe="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
aH.prototype.aBU=function(F){var O=this.PG.indexOf(F.currentTarget)-1;if(O==-1){var r=new k6(_.E.c,!0);
r.data={R:_.m.y9,ky:aH.aKe};this.a(r);return}if(O!=1)if(this.Zg==-1)return;this._Y({R:["updLC","addLC","delLC"][O],Sc:this.Zg});
if(O==2)this.Zg=-1};aH.prototype.l=function(){df.prototype.l.call(this);for(var O=0;O<this.PG.length;
O++)this.PG[O].l()};aH.prototype.wK=function(F){if(F==null)y.yY(this.H0,"disabled");else y.cD(this.H0,"disabled");
this.xB=F;y.RR(this.Np);if(F==null)return;var r=F.on.lastAppliedComp?F.on.lastAppliedComp.v:0,$=F.on.list.v.slice(0);
$.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var O=0;O<$.length;
O++){var C=$[O].v,M=new aW(C.Nm.v,C.compID.v,C.capturedInfo.v,r,this.Zg);M.Q("activate",this.Ux,this);
M.parent=this;this.Np.appendChild(M._);this.DR.push(M)}};aH.prototype.Ux=function(F){this.Zg=F.currentTarget.Sc;
this.wK(this.xB)};function aW(F,O,r,$,C){au.call(this);this.Sc=O;this._=y.i("div","head listitem"+(O==C?" selected":""));
var M=O==$,l=new jC(M?"\u2713":"\u2014");if(M)l.z1();this._.appendChild(l._);l.Q("click",this.po,this);
var k=this.GP=y.i("span");k.textContent=F;this._.appendChild(k);this.PG=[];if(O!=0){this._.addEventListener("mouseup",this.Ux.bind(this),!1);
this.cx=y.i("span","headR");this._.appendChild(this.cx);var d=["lrs/eye","pos","lrs/fx"],I=["Visibility","Position","Appearance"];
for(var c=0;c<d.length;c++){var Q=new jC("<img src=\""+PIMG[d[c]]+"\" class=\"autoscale gsicon\" />",!1,I[c]);
if((r>>c&1)==0)y.B(Q._,"opacity:0.3");Q.Q("click",this.a2U,this);this.cx.appendChild(Q._);this.PG.push(Q)}}}aW.prototype=new au;
aW.prototype.Ux=function(F){if(F.target!=this.GP&&F.target!=this._)return;if(F.detail==1)this.a(new k6("activate",!1));
else{var r=new df.Y_(this.GP,this.mt.bind(this))}};aW.prototype.a2U=function(F){var O=this.PG.indexOf(F.currentTarget);
this._Y({R:"editLC",acG:O,Sc:this.Sc})};aW.prototype.mt=function(F){this._Y({R:"editLC",PE:F,Sc:this.Sc})};
aW.prototype.po=function(F){this._Y({R:"setLC",Sc:this.Sc})};aW.prototype._Y=function(F){var r=new k6(_.E.O,!0);
r.data=F;r.J=B.AF;this.a(r)};function bm(){df.call(this,[9,11],!1,"---panels/navigator",df.sy.aFs);var F=this.H0;
y.yY(F,"padded");y.B(F,"cursor:grab;");this.Ee=y.i("canvas");F.appendChild(this.Ee);y.Hd(F);y.C7(this.Ee);
y.TX(this.Ee,this.Oh.bind(this));var r=y.i("div","form label6");F.appendChild(r);this.hG=new aS([8,0],2,6400,"%",null,!0);
this.hG.Q(_.E.V,this.aGD,this);r.appendChild(this.hG._);this.hS=new aS([12,15],-180,180,"\xB0");this.hS.Q(_.E.V,this.aGD,this);
r.appendChild(this.hS._);this.aqL=this._l.bind(this);this.aJI=this.HA.bind(this);this.oo=null;this.afC=null;
this.eA=!1}bm.prototype=new df("");bm.prototype.Xt=function(F,r){this.a0=F*1.2;this.Y9=r*1.2;this.vr()};
bm.prototype.aGD=function(F){var r=this.hG.k(),$=this.oo,C=r/100;if(.8<C&&C<1.2)C=1;else if(1.8<C)C=Math.round(C);
$.f.K$=this.hS.k()*Math.PI/180;var M=new k6(_.E.O,!0);M.J=B.Li;M.data={R:"zoom",bU:C};this.a(M)};bm.prototype.Oh=function(F){var r=this.oo;
if(r==null)return;this.eA=!0;y.dO(window,this.aqL);y.an(window,this.aJI)};bm.prototype._l=function(F){var r=y.Bz(F,this.Ee),$=this.oo,C=$.f,M=this.Ee.width,l=this.Ee.height,k=$.r*(r.x*y.ha()-M/2)/M,d=$.$*(r.y*y.ha()-l/2)/l,I=Math.sin(C.K$),c=Math.cos(C.K$),Q=Math.round(-C.bU*(c*k-I*d)),x=Math.round(-C.bU*(I*k+c*d));
B.Uu.Yf($,Q,x)};bm.prototype.HA=function(F){y.Fp(window,this.aqL);y.gj(window,this.aJI);this.eA=!1};
bm.prototype.wK=function(F){if(F==null&&this.oo!=null)this.Ee.width=100;this.oo=F;this.vr()};bm.prototype.ajW=function(){var F=this.oo,r=y.ha(),$=B.aB._S(F.r,F.$,r*(this.a0-10),r*(this.Y9-36)),C=j.apj(F.Ez(),new cS(0,0,F.r,F.$),$);
this.afC=[C.fU,C.S]};bm.prototype.vr=function(){var F=this.oo;if(F==null||F.f.bU==0)return;var r=F.f;
if(!y.D4(this.H0))return;this.hG.o(r.bU*100);var $=r.K$*180/Math.PI;$=(36e5+180+$)%360-180;this.hS.o($);
if(!this.eA)this.ajW();var C=this.afC[0],M=this.afC[1],l=M.r,k=M.$,d=this.Ee;d.width=l;d.height=k;y.nC(d,l,k);
var I=this.H0;I.style.width=this.Ee.style.width+12+"px";var c=d.getContext("2d"),Q=new ImageData(l,k);
j.Jx(C,Q.data);c.putImageData(Q,0,0);c.getImageData(0,0,1,1);var x=l/F.r;c.scale(x,x);c.lineWidth=4/x;
c.strokeStyle="#ff0000";var U=r.FL,S=j.b.Vs(U).n;j.b.U(S,r._c(),S);c.moveTo(S[0],S[1]);for(var O=0;O<4;
O++)c.lineTo(S[O*2],S[O*2+1]);c.closePath();c.stroke()};bm.prototype.Db=function(F,r){};bm.prototype.l=function(){df.prototype.l.call(this);
this.hG.l();this.hS.l()};bm.prototype.$x=function(){this.vr()};function fV(F,r){df.call(this,F.name,!1,F.icon,r);
this.A6=F}fV.prototype=new df("");fV.prototype.hw=function(){var F=this.H0,r=this.A6;if(!y.D4(F)||this.aW)return;
var $=this.aW=y.i("iframe");$.setAttribute("src",r.url);this.H0.appendChild($)};fV.prototype.$x=fV.prototype.wK=function(){this.hw()};
fV.prototype.U_=function(F){if(y.D4(this.aW))this.aW.contentWindow.postMessage(F,"*")};fV.prototype.Xt=function(F,r){if(this.aW==null)return;
if(this.A6.url.indexOf("peasmaker")!=-1&&window.innerWidth>500)F=Math.max(F,Math.min(700,window.innerWidth-320));
y.B(this.aW,"width:"+F+"px; height:"+r+"px")};function af(){df.call(this,[9,12],!1,"---panels/tpreset",df.sy.Nb);
this.e=null;this.ly=new fM(B.UG);this.ly.parent=this;var F=y.i("div","padded");y.B(F,"width:20em");this.H0.appendChild(F);
F.appendChild(this.ly.yC)}af.prototype=new df("");af.prototype.$x=function(){this.ly.ZK(this.e.KM)};
af.prototype.Db=function(F,r){this.e=F;if(r==d3.BN||r==d3.Nb)this.ly.ZK(F.KM)};af.prototype.Xt=function(F,r){this.ly.a8I(this.e.fp)};
af.prototype.l=function(){df.prototype.l.call(this);this.ly.l()};var cT=function(){var F=[],r=null,$=null,C=null,M=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200],[255,100,100]];
function l(){df.call(this,"Memory",!1,null,df.sy.abJ);var S=y.i("div","padded");this.H0.appendChild(S);
$=new jC(["<< VAR0",[0,13,2]],!1,null,!0);$.addEventListener("click",function(z){F.pop();d()});S.appendChild($._);
r=y.i("div","scrollable");y.B(r,"width:20em;  height:26em; margin-top:8px;");S.appendChild(r)}l.prototype=new df("");
l.prototype.wK=function(S,z,V){C=z;this.$x()};l.prototype.$x=function(){$.fC(!1);if(!y.D4(r))return;
var S={du:"Total:",m0:[]};for(var O=0;O<C.length;O++)S.m0.push(c(C[O]));x(S);F=[S];d()};l.prototype.l=function(){df.prototype.l.call(this);
$.l()};function k(S){var z=S.currentTarget,O=0;while((z=z.previousSibling)!=null)O++;F.push(F[F.length-1].m0[O-1]);
d()}function d(){$.fC(F.length>1);var S=F[F.length-1];y.RR(r);I(S,r,0);S.m0.sort(function(z,V){return V._9[0]-z._9[0]});
for(var O=0;O<S.m0.length;O++)I(S.m0[O],r,1)}function I(S,z,V){var t=iv.$A,Y=V!=0&&S.m0,i="margin-left:"+V*10+"px; margin-bottom:8px; padding:3px 5px;";
if(Y)i+="cursor:pointer;";if(S.wV!=null)i+="background-color:rgba("+M[S.wV].join(",")+",0.2);";var J=y.i("div");
z.appendChild(J);y.B(J,i);J.innerHTML=y.im(S.du)+"<br />"+"RAM: <b>"+t(S._9[0])+"</b>\u2001GPU: <b>"+t(S._9[1])+"</b>";
if(Y)J.addEventListener("click",k,!1)}function c(S){var z={du:S.name,m0:[],wV:0},V=jp.mE?1:0,t=1-V,Y=S.depth>>>3,i={du:"History",m0:[],wV:5};
z.m0.push(i);for(var O=1;O<S.history.length;O++){var J=S.history[O];i.m0.push({du:dG.get(J.name),wV:5,_9:[J.pX(),0]})}x(i);
var i={du:"Final Image"+U(S,4,Y),_9:[S.r*S.$*4*Y,V*S.r*S.$*4*Y],wV:2};z.m0.push(i);for(var O=0;O<S.u.length;
O++){var H=Q(S.u[O],Y);if(H.m0.length!=0)z.m0.push(H)}var v=S.add.lnk2;if(v)for(var O=0;O<v.length;O++){var H=v[O],n={du:H.fO,m0:[],wV:4},G=0;
n.m0.push({du:"Raw file",_9:[H.raw.length,0]});if(H.gn)for(var g=0;g<H.gn.length;g+=2)G+=H.gn[g].length;
if(G!=0)n.m0.push({du:"Decoded pixels",_9:[G*Y,0]});x(n);z.m0.push(n)}x(z);return z}function Q(S,z){var V={du:S.getName(),m0:[],wV:1},t=jp.mE?1:0,Y=1-t,i=S.S.C();
if(i!=0)V.m0.push({du:"Layer pixels"+U(S.S,4,z),_9:[i*4*z,t*i*4*z]});if(S.add.lmfx&&S.FM.md.I){var J=S.FM.md.I,G=0;
for(var H in J){var v=0;for(var n=0;n<J[H].length;n++)if(H=="ebbl"){if(J[H][n].uX)v+=J[H][n].uX.W5.C();
if(J[H][n].Sr)v+=J[H][n].Sr.W5.C();if(J[H][n].X2)v+=J[H][n].X2.W5.C();if(J[H][n].iR)v+=J[H][n].iR.W5.C()}else v+=J[H][n].W5.C();
if(v!=0)V.m0.push({du:dG.get(cK.names[cK.order.indexOf(H)]),_9:[Y*v*4*z,t*v*4*z],wV:3})}if(S.FM.iX)G+=i;
if(S.FM.kY)G+=i;if(S.FM.OY)G+=i;if(S.FM.OY)G+=i;if(S.FM.bZ)G+=i;if(S.FM.Rr)G+=i;var g=S.FM.Z3?S.FM.Z3.length:0;
if(G+g!=0)V.m0.push({du:"Additional Blending Data",_9:[(Y*G*4+g)*z,t*G*4*z]})}var W=S.rc(),L=W?W.S.C():0;
if(L!=0){V.m0.push({du:"Raster Mask",_9:[L*z,0]})}var W=S.add.vmsk,L=W&&W.Ci?W.Ci.S.C():0;if(L!=0){V.m0.push({du:"Vector Mask",_9:[L*z,0]})}x(V);
return V}function x(S){S._9=[0,0];for(var O=0;O<S.m0.length;O++){S._9[0]+=S.m0[O]._9[0];S._9[1]+=S.m0[O]._9[1]}}function U(S,z,V){return"\u2001"+S.r+"\xD7"+S.$}return l}();
function hP(){df.call(this,[9,14],!1,"---panels/notes",df.sy.a8r);y.B(this.H0,"min-width:240px;");var F=y.i("div","padded");
this.H0.appendChild(F);this.BF=new gs("Author");F.appendChild(this.BF._);this.wJ=y.i("textarea");y.mM(this.wJ);
F.appendChild(this.wJ);var r=new jC("<<",null,null,!0);F.appendChild(r._);this.aJS=r;var $=new jC(">>",null,null,!0);
F.appendChild($._);r.Q("click",this.cI,this);$.Q("click",this.cI,this);var C=this.aHi=new eu("");F.appendChild(C._)}hP.prototype=new df("");
hP.prototype.cI=function(F){var r=F.target==this.aJS?-1:1,$=this.oo,C=$.add.Anno;if(C==null)return;var M=C.length,l=$.f.yo;
$.f.yo=(l+r+M)%M;$.GF=!0;this.vr()};hP.prototype.vr=function(){var F=this.oo;if(F==null)return;var r=F.add.Anno;
if(r==null||r.length==0)return;var $=F.f.yo,C=r[$];this.wJ.value=C[4];this.aHi.o($+1+" / "+r.length);
this.BF.o(C[3])};hP.prototype.Xt=function(F,r){if(this.a0==F)return;this.a0=F;r=Math.min(r,200);y.B(this.wJ,"display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(F-10)+"px; height:"+(r-66)+"px")};
hP.prototype.wK=function(F,r,$){this.oo=F;this.vr()};function ct(){df.call(this,[1,16,1],!1,"---tools/artb",df.sy.ah5);
this.FH=[];this.Mc=[];this.PG=[];this.cO=null;this.nF=null}ct.prototype=new df("");ct.prototype.hw=function(){this.cO=y.i("div","padded scrollable");
y.B(this.cO,"width:260px;  height:260px");this.H0.appendChild(this.cO);this.nF=y.i("div","lpfoot");this.H0.appendChild(this.nF);
var F=["lrs/newlayer","lrs/bin"],r=[[15,8,2],[5,4]];for(var O=0;O<F.length;O++){var $="<img src=\""+PIMG[F[O]]+"\" class=\"miniscale gsicon\" />",C=new jC($,!1,r[O]);
C.Q("click",this.$p,this);this.nF.appendChild(C._);this.PG.push(C)}};ct.prototype.l=function(){df.prototype.l.call(this);
if(this.cO==null)return;for(var O=0;O<this.PG.length;O++)this.PG[O].l()};ct.prototype.$p=function(F){var O=this.PG.indexOf(F.currentTarget),r=new k6(_.E.O,!0);
r.J=B.op;r.data={R:O==0?"new":"del"};this.a(r);if(O==0)this.aIm(this.FH.length-1)};ct.prototype.wK=ct.prototype.$x=function(F){if(F)this.FH=F.add.arts;
if(!y.D4(this.H0))return;if(this.cO==null)this.hw();this.vr(F)};ct.prototype.qL=function(F){var O=this.Mc.indexOf(F.currentTarget);
if(F.target.tagName=="BUTTON"){this.aIm(O)}var r=this.FH;for(var $=0;$<r.length;$++)r[$].K=!1;r[O].K=!0;
this.vr()};ct.prototype.aIm=function(O){var F=new k6(_.E.c,!0);F.data={R:_.m.Oe,rS:"aoptions",Y:this.FH[O]};
this.a(F)};ct.prototype.vr=function(){y.RR(this.cO);var F=this.FH,r=this.qL.bind(this);this.Mc=[];for(var O=0;
O<F.length;O++){var $=F[O],C=y.i("div","layeritem"+($.K?" selected":""));this.cO.appendChild(C);this.Mc.push(C);
C.addEventListener("click",r);var M=y.i("div","head");C.appendChild(M);y.B(M,"height:24px");var l=y.i("div","headL");
M.appendChild(l);var k=y.i("div","headR");M.appendChild(k);var d=y.i("div","label");d.textContent=O+1+". "+$.du;
l.appendChild(d);var I=new jC("Options",null,null,!0);k.appendChild(I._)}};function kR(){df.call(this,["Vector","Document"][gw]+" Info",!1,"---panels/info",df.sy.a5G);
this.NS=y.i("div","scrollable padded form");this.H0.appendChild(this.NS);y.B(this.NS,"width:260px;  height:200px")}kR.prototype=new df("");
kR.prototype.hw=function(){if(!y.D4(this.H0))return;var F=this.oo,r=this.a41,$=this.NS,M=0,l=0,k=0,d=0;
if(F==null)return;var C=F.UY();for(var O=0;O<C.length;O++){var I=F.u[C[O]],c=I.add.vmsk;if(c==null)continue;
var Q=c.M;for(var x=0;x<Q.length;x++){var U=Q[x],S=U.I;if(6<=S)continue;if(S==0)l++;else if(S==3)M++;
else k++;if(S==0||S==3){var z=Q.slice(0,2).concat(Q.slice(x,x+1+U.length)),V=j.b.oJ(z),Y=0;V=j.b.np(V);
var t=j.b.nT(V),i=t.length-(S==0?0:2);for(var J=0;J<i;J+=2){var H=(J+2)%t.length,v=t[H]-t[J],n=t[H+1]-t[J+1];
Y+=Math.sqrt(v*v+n*n)}d+=Y}}}var G=r.AK.qU;$.innerHTML="Objects:<br/>Paths: "+(M+l)+" ("+M+" open, "+l+" closed, "+k+" points, length = "+j.Om.QX(d,F.YV,F.r,G).toFixed(3)+" "+j.Om.wn[G]+")"};
kR.prototype.wK=function(F,r,$){this.oo=F;this.a41=$;this.hw()};kR.prototype.$x=function(){this.hw()};
kR.prototype.l=function(){df.prototype.l.call(this)};function i3(){au.call(this);this.J=0;this.h6=null;
this._=y.i("div","toolconf");this.ly=null;this.aFP=null;this.body=new y.i("div","body")}i3.prototype=new au;
i3.prototype.aax=function(F,r){this.J=F;this.h6=r;if(B.JJ[F]){var $=this.ly=new fM(F);this._.appendChild($._);
$.parent=this}else{this.aFP=y.i("div");this._.appendChild(this.aFP)}this._.appendChild(this.body);this.l()};
i3.prototype.ahP=function(F,r){};i3.prototype.auC=function(F){};i3.prototype.Db=function(F,r){if(r==d3.BN||r==d3.Nb)if(this.ly)this.ly.ZK(F.KM)};
i3.prototype.W_=function(F){};i3.prototype.l=function(){if(this.ly)this.ly.l();else this.aFP.innerHTML=y.UE(this.h6,null,"toolicon");
this.fG()};i3.prototype.fG=function(){};function fg(){i3.call(this);this.Xi=new j2;this.Xi.Q(_.E.V,this.bs,this);
this.Xi.parent=this;this.body.appendChild(this.Xi._)}fg.prototype=new i3;fg.prototype.fG=function(){this.Xi.l()};
fg.prototype.bs=function(F){var r=new k6(_.E.c,!0);r.data={R:_.m.sd,J:this.J,jg:this.Xi.apo()};this.a(r)};
fg.prototype.W_=function(F){this.Xi.anj(F.U9)};function jJ(F){i3.call(this);if(F==null)return;this.e=null;
this.bN={};if(F.indexOf("brush")!=-1&&F.indexOf("prsr")==-1)F.push("prsr");for(var O=0;O<F.length;O++){var r=F[O],$=null;
if(r=="brush"){$=new gt}if(r=="bmode"){$=new bc([12,19,0],dL.X_,dL.rn)}if(r=="bmode0"){$=new bc([12,19,0],dL.X_.slice(23))}if(r=="emode"){$=new bc([12,36],[[9,3],[10,38]])}if(r=="opacity"){$=new eT([12,0],0,100,"%");
$.o(100)}if(r=="flow"){$=new eT([12,63],0,100,"%");$.o(100)}if(r=="smth"){$=new eT([19,3,0],0,100,"%");
$.o(0)}if(r=="samp"){$=new bc([12,36],[[12,25,4],[12,25,5],[12,46]])}if(r=="wconf"){$=new il;$.o([40,!0,!0])}if(r=="sall"){$=new jm([12,25,2])}if(r=="smode"){$=new bc([12,36],[[19,7,0],[19,7,1]]);
$.o(1)}if(r=="pdetail"){$=new jm([12,65]);$.z1()}if(r=="rng"){$=new bc([12,12],[[19,6,0],[19,6,1],[19,6,2]]);
$.o(1)}if(r=="expo"){$=new eT([12,5],0,100,"%");$.o(50)}if(r=="algnd"){$=new jm([12,75]);$.o(!1)}if(r=="sfrom"){$=new bc([12,70],[[17,1],[17,3],[17,0]])}if(r=="alt"){$=new i9(null,["Alt"],!0,["Select Source"])}if(r=="qsmode"){$=new a8([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(r=="redge"){$=new jC([7,11],!1,null,!0)}if(r=="sesu"){$=new jC("Select Subject",!1,null,!0)}if(r=="setop"){$=new dO}if(r=="patch"){$=new a8(null,[[12,70],[12,71]])}if(r=="strn"){$=new eT([12,64],1,100,"%");
$.o(50)}if(r=="prsr"){$=this.bN.brush.Wo}if(r=="symm"){$=new j0}this.body.appendChild($._);if(r=="prsr")continue;
$.parent=this;this.bN[r]=$;if(r=="brush")$.Q(_.E.V,this.a4N,this);else if(r=="redge"||r=="sesu")$.Q("click",fn.ada,this);
else $.Q(_.E.V,this.SD,this)}}jJ.prototype=new i3;jJ.prototype.ahP=function(F,r){F=F[1];var $=this.bN;
if(F.Md)$.bmode.o(dL.UI.indexOf(F.Md.v.BlnM));if(F.Opct)$.opacity.o(F.Opct.v);if(F.flow)$.flow.o(F.flow.v);
if(F.Brsh)$.brush.o(F,r.sO.QY,r.sO.fQ);if(F.FrgC){var C=j.qS.MB(F.FrgC.v),M=new k6(_.E.c,!0);M.data={R:_.m.WF,jg:d3.VV,vz:0,Y:C.t<<16|C.L<<8|C.X};
this.a(M)}this.a4N();this.SD()};jJ.prototype.auC=function(){if(B.JJ[this.J]==null)return null;var F=this.bN,r;
for(var $ in B.m5)if(B.m5[$]==this.J)r=$;var C=j.N(F.brush.k());C.classID=r;if(F.bmode)C.Md={t:"enum",v:{BlnM:dL.UI[F.bmode.k()]}};
if(F.opacity)C.Opct={t:"long",v:F.opacity.k()};if(F.flow)C.flow={t:"long",v:F.flow.k()};var M=this.e.y1;
M={t:M>>>16,L:M>>>8&255,X:M&255};C.FrgC={t:"Objc",v:j.qS.NG(M)};return["Brush Preset "+C.Brsh.v.Dmtr.v.val,C]};
jJ.prototype.fG=function(){for(var F in this.bN)this.bN[F].l()};jJ.prototype.W_=function(F){if(F.aCs=="showBrushOpts"){this.bN.brush.arB(F.Vl.x,F.Vl.y)}for(var r in F.E2){var $=F.E2[r];
if(r!="qsmode")$*=100;if(this.bN[r])this.bN[r].o($)}};jJ.prototype.Db=function(F,r){i3.prototype.Db.call(this,F,r);
this.e=F;var $=this.bN.brush;if($==null)return;if(r==d3.BN||r==d3.UG)$.ZK(F.sO);if(r==d3.$B){$.o(F.sO.zU,F.sO.QY,F.sO.fQ)}};
jJ.prototype.a4N=function(){var F=new k6(_.E.c,!0);F.data={R:_.m.WF,jg:d3.$B,lV:this.bN.brush.k()};this.a(F)};
jJ.prototype.SD=function(){var F=new k6(_.E.c,!0);F.data={R:_.m.sd,J:this.J};for(var r in this.bN){if(r=="brush"||r=="redge"||r=="symm")continue;
var $=this.bN[r].k();if(["opacity","flow","smth","expo","strn"].indexOf(r)!=-1)F.data[r]=$/100;else if(r=="bmode")F.data.bmode=dL.NH[$];
else if(r=="bmode0")F.data.bmode=dL.NH[23+$];else F.data[r]=$}this.a(F)};function fn(F,r){i3.call(this);
if(F)return;this.bN={};for(var O=0;O<r.length;O++){var $=r[O],C=null;if($=="sesu"&&!y.GD(1))continue;
if($=="binop")C=new dO;if($=="feat"){C=new eT([7,6],0,100,"px");C.o(0)}if($=="redge")C=new jC([7,11],!1,null,!0);
if($=="sesu")C=new jC("Select Subject",!1,null,!0);if($=="wconf")C=new il;if($=="cstr")C=new bA;if($=="anta"){C=new jm([12,25,1]);
C.o(!0)}if($=="sall")C=new jm([12,25,2]);if($=="redge"||$=="sesu")C.Q("click",fn.ada,this);else C.Q(_.E.V,this.SD,this);
C.parent=this;this.body.appendChild(C._);this.bN[$]=C}}fn.prototype=new i3;fn.prototype.W_=function(F){var r=this.bN.cstr;
if(F.Lk!=null)this.bN.binop.o(F.Lk);else if(F.N8){for(var $ in F.N8)if(this.bN[$])this.bN[$].o(F.N8[$])}else if(F.qa){if(r)r.UH(F.qa)}else{var C=fn.Zc;
if(C==null){var M=jo.atQ(!0);C=fn.Zc=new aj(M.items,M.kB)}C.l();C.parent=this;C.update(F.hg,F.e);var l=new k6(_.E.c,!0);
l.data={R:_.m.$a,g$:C,x:F.z6.Rn+2,y:F.z6.WQ+1};this.a(l)}};fn.prototype.fG=function(){for(var F in this.bN)this.bN[F].l()};
fn.ada=function(F){var r=F.target==this.bN.sesu,$=new k6(r?_.E.O:_.E.c,!0);if(r){$.J=B.gI;$.data={R:"bgrm",Y:2}}else $.data={R:_.m.Oe,rS:"redge"};
this.a($)};fn.prototype.SD=function(){var F=new k6(_.E.c,!0);F.data={R:_.m.sd,J:this.J,N8:{}};for(var r in this.bN)F.data.N8[r]=this.bN[r].k();
this.a(F)};function cv(){jJ.call(this,["brush","strn"])}cv.prototype=new jJ;function bd(){jJ.call(this,"brush bmode opacity flow smth prsr symm".split(" "))}bd.prototype=new jJ;
function jM(){jJ.call(this,["brush","bmode0","samp","wconf"])}jM.prototype=new jJ;function fz(){jJ.call(this,["brush"])}fz.prototype=new jJ;
function hR(){jJ.call(this,"brush bmode opacity smth prsr symm".split(" "))}hR.prototype=new jJ;function fQ(){jJ.call(this,["brush","rng","expo"])}fQ.prototype=new jJ;
function aq(){jJ.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}aq.prototype=new jJ;function jq(F){i3.call(this);
if(F==null)return;this._u=[];this.a8e=new jC("\u2026",!1,null,!0);if(!F)this.body.appendChild(this.a8e._);
this.a8e.Q("click",this.Pt,this);this.uf=new au;this.uf.parent=this;var r=this.uf._=y.i("div","floatcont form"),$=[[17,0],[17,1],[11,12,0],[17,2]];
for(var O=0;O<$.length;O++){var C=new jC($[O],!1,null,!0);this._u.push(C);C.Q("click",this.a8f,this);
if(!F||O==1)r.appendChild(C._)}this.mL=new bA(!0);this.mL.Q(_.E.V,this.Z$,this);if(!F)this.body.appendChild(this.mL._);
this.xK=new jC([15,7,6],!1,null,!0);this.xK.Q("click",this.a8f,this);if(!F)this.body.appendChild(this.xK._);
this.RN=new jm([15,7,10]);this.RN.Q(_.E.V,this.Z$,this);if(!F)this.body.appendChild(this.RN._);this.ajg=new jm("Content-Aware");
this.ajg.Q(_.E.V,this.Z$,this);if(!F)this.body.appendChild(this.ajg._);this.yr=new fG;this.yr.Q("click",this.L0,this)}jq.prototype=new i3;
jq.prototype.Pt=function(F){if(y.D4(this.uf._))return;var r=this.a8e._.getBoundingClientRect(),$=new k6(_.E.c,!0);
$.data={R:_.m.$a,g$:this.uf,x:r.left,y:r.top+r.height+4};this.a($)};jq.prototype.fG=function(){this.yr.l();
for(var O=0;O<this._u.length;O++)this._u[O].l();this.mL.l();this.RN.l();this.xK.l()};jq.prototype.W_=function(F){if(F.qa){this.mL.UH(F.qa);
return}var r=this.yr._;if(F.w6)this.body.appendChild(r);else if(this.body.contains(r))this.body.removeChild(r);
if(F.mL)this.mL.o(F.mL)};jq.prototype.L0=function(F){var r={R:_.m.sd,J:this.J,uT:this.yr.k()?"commit":"cancel"},$=new k6(_.E.c,!0);
$.data=r;this.a($)};jq.prototype.a8f=function(F){F.target._.blur();var r={R:_.m.sd,J:this.J,uT:"cropby",adC:this._u.indexOf(F.target)};
if(F.target==this.xK)r.uT="straighten";var $=new k6(_.E.c,!0);$.data={R:_.m.GW,g$:this.uf};this.a($);
$.data=r;this.a($)};jq.prototype.Z$=function(F){var r={R:_.m.sd,J:this.J,uT:"config",N8:{JO:this.mL.k(),hH:this.RN.k(),v3:this.ajg.k()},azK:F.target==this.mL},$=new k6(_.E.c,!0);
$.data=r;this.a($)};function c9(){jq.call(this,!1)}c9.prototype=new jq;function gz(){jq.call(this,!0)}gz.prototype=new jq;
function fE(){jJ.call(this,["brush","rng","expo"])}fE.prototype=new jJ;function bj(){jJ.call(this,"brush emode opacity flow smth prsr symm".split(" "))}bj.prototype=new jJ;
function fL(){jJ.call(this,["brush","samp","wconf"])}fL.prototype=new jJ;function fj(){fn.call(this,!1,["binop","feat","anta","redge","cstr"])}fj.prototype=new fn(!0);
function bO(){i3.call(this);var F=this.bN=[new bc([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new bc([12,70],[[17,1],[17,3],[17,0]]),new jm([12,20,1]),new jm([8,0])];
F[1].o(2);F[2].o(!0);for(var O=0;O<F.length;O++){var r=F[O];r.Q(_.E.V,this.SD,this);this.body.appendChild(r._)}}bO.prototype=new i3;
bO.prototype.SD=function(F){var r=this.bN,$=[];for(var O=0;O<r.length;O++)$[O]=r[O].k();var C=new k6(_.E.c,!0);
C.data={R:_.m.sd,J:this.J,N8:$};this.a(C)};bO.prototype.fG=function(){for(var O=0;O<this.bN.length;O++)this.bN[O].l()};
function bL(){i3.call(this);this.eL=!1;this.Uc=new gO("GrFl",!0);this.Uc.parent=this;this.Uc.update(null,JSON.parse(cK.sH[6]));
this.Uc.Q(_.E.V,this.ms,this);var F="Grad Type Md Opct Rvrs Dthr".split(" ");for(var O=0;O<F.length;
O++)this.body.appendChild(this.Uc.$c[F[O]]._);this.Uc.$c.Grad.ao1=!1;this.zL=new jC([6,48,1],!1,null,!0);
this.zL.Q("click",this.ms,this);this.body.appendChild(this.zL._)}bL.prototype=new i3;bL.prototype.fG=function(F){var F=this.eL;
this.body.children[2].style.display=F?"none":"";this.body.children[3].style.display=F?"none":"";this.Uc.l();
this.zL.l()};bL.prototype.Db=function(F,r){i3.prototype.Db.call(this,F,r);var $=r==d3.VV,C=this.Uc.$c.Grad;
C.xr(F.y1,F.J2);if($||r==d3.PP||r==d3.BN)C.ZK(F.Bl)};bL.prototype.ms=function(F){if(F.target==this.zL){var r=new k6(_.E.wG,!0);
r.data=B.QZ.w8(1);this.a(r);return}this.l();var r=new k6(_.E.c,!0);r.data={R:_.m.sd,J:this.J,jg:this.Uc.k()};
this.a(r)};bL.prototype.W_=function(F){this.eL=F.w;this.l();this.Uc.update(null,F.jg);this.l()};function l2(){i3.call(this);
this.W3=new jm([8,7,1]);this.body.appendChild(this.W3._);this.W3.Q(_.E.V,this.SD,this)}l2.prototype=new i3;
l2.prototype.SD=function(){var F={R:_.m.sd,J:this.J,Ai:this.W3.k()},r=new k6(_.E.c,!0);r.data=F;this.a(r)};
function dY(){i3.call(this);var F=y.i("span","fitem");this.body.appendChild(F);this.J5=[new eT([12,15],-180,180,"\xB0"),new jC([1,12,2],null,null,!0)];
for(var O=0;O<this.J5.length;O++){var r=this.J5[O];r.parent=this;F.appendChild(r._);r.Q(O==1?"click":_.E.V,this.Sb,this)}}dY.prototype=new i3;
dY.prototype.fG=function(){for(var O=0;O<this.J5.length;O++)this.J5[O].l()};dY.prototype.W_=function(F){var r=F.M$*180/Math.PI;
r=(36e5+180+r)%360-180;this.J5[0].o(r)};dY.prototype.Sb=function(F){var r=this.J5.indexOf(F.target),$=new k6(_.E.c,!0);
$.data={R:_.m.sd,J:this.J,M$:r==1?0:F.target.k()*Math.PI/180};this.a($)};function aL(){jJ.call(this,["brush","algnd","sfrom","alt"])}aL.prototype=new jJ;
function iq(){i3.call(this);this.xW=new di;this.xW.parent=this;this.body.appendChild(this.xW.Su._);this.body.appendChild(this.xW.pY._);
this.body.appendChild(this.xW.lI._);this.body.appendChild(this.xW.BD._);var F=y.i("span","fitem");this.body.appendChild(F);
F.appendChild(this.xW.aB3._);F.appendChild(this.xW.avz._);F.appendChild(this.xW.a7k._);this.NE=new bc("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.NE.Q(_.E.V,this.L0,this);this.body.appendChild(this.NE._);this.xq=new bc(null,["\u2191","-","\u2193"],null,["VAR0: VAR1",[12,75],[22,4,1]]);
this.xq.Q(_.E.V,this.L0,this);this.body.appendChild(this.xq._);this.C_=new jC([11,9],!1,null,!0);this.C_.Q("click",this.azf,this);
this.body.appendChild(this.C_._);this.yr=new fG;this.yr.Q("click",this.L0,this)}iq.prototype=new i3;
iq.prototype.fG=function(){this.yr.l();this.xW.l();this.C_.l()};iq.prototype.azf=function(F){var r={R:_.m.sd,J:this.J,uT:"showwarp"},$=new k6(_.E.c,!0);
$.data=r;this.a($)};iq.prototype.W_=function(F){if(F.uT=="showactive")this.body.appendChild(this.yr._);
if(F.uT=="hideactive")this.body.removeChild(this.yr._);if(F.uT=="changeOther"){this.NE.o(F.Ri);this.xq.o([0,2,1][F.NP])}if(F.uT=="showpan"){var r=[{name:[0,1],NA:!0}],$=[{s:_.E.O,J:B.Q_,h:{R:"editCurr",PS:F.PS}}],C=F.z6;
if(F.a3Z){r=[{name:["VAR0: VAR1",[0,5],[7,0]],NA:!0}];$=[{s:_.E.wG,h:B.u_._N(!0)}];var M=jo.avo();r=r.concat(M[0]);
$=$.concat(M[1])}r.push({name:[11,9]});$.push({s:_.E.c,h:{R:_.m.sd,J:this.J,uT:"showwarp"}});var l=new aj(r,$);
l.parent=this;l.l();l.update(F.hg,F.e);var k=new k6(_.E.c,!0);k.data={R:_.m.$a,g$:l,x:C.Rn+2,y:C.WQ+1};
this.a(k)}};iq.prototype.Db=function(F,r){i3.prototype.Db.call(this,F,r);if(r!=d3.BN&&r!=d3.yp&&r!=d3.r3&&r!=d3.Wt)return;
this.xW.o(F.yc,F.v7,F.fz)};iq.prototype.L0=function(F){var r={R:_.m.sd,J:this.J,uT:this.yr.k()?"commit":"cancel"};
if(F.target==this.NE||F.target==this.xq){r.uT="changeOther";r.Ri=this.NE.k();r.NP=[0,2,1][this.xq.k()]}var $=new k6(_.E.c,!0);
$.data=r;this.a($)};function h0(){fn.call(this,!1,["binop","feat","anta","redge"])}h0.prototype=new fn(!0);
function dS(){i3.call(this);var F=[],$="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this._Q=new jm([12,85]);this._Q.o(!0);this._Q.Q(_.E.V,this.SD,this);F.push(this._Q._);this.SZ=new bc(null,[[0,4],[0,3]]);
this.SZ.Q(_.E.V,this.SD,this);this.SZ.o(1);F.push(this.SZ._);this.P4=new jm([20,1]);this.P4.Q(_.E.V,this.SD,this);
F.push(this.P4._);this.zw=new jm([12,83]);this.zw.Q(_.E.V,this.SD,this);F.push(this.zw._);this.uf=new au;
var r=this.uf._=y.i("div","floatcont form");y.B(this.uf._,"max-width: 200px;");this.uf.parent=this;this.aDM=new bc("Scale for exported files",["1x","2x","3x","4x"]);
r.appendChild(this.aDM._);this.Eo=new jC($+" PNG",!1,"Save selected layers as PNG",!0);r.appendChild(this.Eo._);
this.Eo.Q("click",this.d0,this);this.atg=new jC($+" SVG",!1,"Save selected layers as SVG",!0);r.appendChild(this.atg._);
this.atg.Q("click",this.d0,this);var C=new jC($,!1,"Save selected layers",!0);F.push(C._);C.Q("click",function(Q){if(y.D4(this.uf._))return;
var x=C._.getBoundingClientRect(),U=new k6(_.E.c,!0);U.data={R:_.m.$a,g$:this.uf,x:x.left,y:x.top+x.height,Cl:!0};
this.a(U)},this);this.Vp=new au;var M=this.Vp._=y.i("div","floatcont label6");y.B(this.Vp._,"max-width: 180px;");
this.Vp.parent=this;this.yK=new gm("Columns",1,20);this.yK.o(4);M.appendChild(this.yK._);this.DX=new gm("Gap",0,200,null,2,!0);
this.DX.o(8);M.appendChild(this.DX._);this.DX.Q(_.E.V,function(Q){this.Fa.o(this.DX.k())}.bind(this),this);
this.Fa=new gm("Vertical Gap",0,200,null,2,!0);this.Fa.o(8);M.appendChild(this.Fa._);this.ig=new jC([2,10,1],!1,null,!0);
M.appendChild(this.ig._);this.ig.Q("click",this.d0,this);var l=y.i("span","fitem");F.push(l);var k=y.i("span","fitem");
F.push(k);this.PG=[];for(var O=0;O<8;O++){var d=O==3||O==7?[20,4,6]:[20,4,O<3?O:O-1],I=new jC("Hi",!1,d);
(O<4?l:k).appendChild(I._);I.Q("click",this.d0,this);this.PG.push(I)}var c=this.agh=new jC("Hi",!1,"Align to a Grid");
F.push(c._);c.Q("click",function(Q){if(y.D4(this.Vp._))return;var x=c._.getBoundingClientRect(),U=new k6(_.E.c,!0);
U.data={R:_.m.$a,g$:this.Vp,x:x.left,y:x.top+x.height,Cl:!0};this.a(U)},this);for(var O=0;O<F.length;
O++)this.body.appendChild(F[O]);this.ayH=F}dS.prototype=new i3;dS.prototype.W_=function(F){var r=F.U9,$=F.ac8;
this._Q.o(r.PU);this.P4.o(r.Is);this.zw.o(r.Fc);if($){y.RR(this.body);for(var O=0;O<$.length;O++)if($[O]==1&&this.ayH[O])this.body.appendChild(this.ayH[O])}};
dS.prototype.d0=function(F){var r=this.PG.indexOf(F.target),$;if(r!=-1||F.target==this.ig){$=new k6(_.E.O,!0);
$.J=B.uo;$.data={R:"algn",Y:r==-1?8:r,cols:this.yK.k(),ajh:this.DX.k(),ag6:this.Fa.k()}}else{$=new k6(_.E.c,!0);
$.data={R:_.m.sd,J:this.J,vz:F.target==this.Eo?"getPNG":"getSVG",Yw:this.aDM.k()+1}}this.a($)};dS.prototype.SD=function(F){var r=new k6(_.E.c,!0);
r.data={R:_.m.sd,J:this.J,vz:"prms",PU:this._Q.s$(),afh:this.SZ.k(),Is:this.P4.s$(),Fc:this.zw.s$()};
this.a(r)};dS.prototype.fG=function(){this._Q.l();this.SZ.l();this.P4.l();this.zw.l();var F="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var O=0;O<8;O++){this.PG[O].Ck(y.UE("align/"+F[O],null,"autoscale"))}this.agh.Ck(y.UE("split/vh",null,"autoscale"));
this.yK.l();this.DX.l();this.Fa.l();this.ig.l()};function aI(){fn.call(this,!1,"binop feat redge sesu wconf sall".split(" "))}aI.prototype=new fn(!0);
function e4(){jJ.call(this,["setop","patch"])}e4.prototype=new jJ;function an(){jJ.call(this,["setop"])}an.prototype=new jJ;
function h7(F){var r=F==B.arI?[]:["bmode"];jJ.call(this,r.concat(["opacity","wconf","sall"]))}h7.prototype=new jJ;
function dh(){fn.call(this,!1,["binop","feat","anta","redge"])}dh.prototype=new fn(!0);function fY(){fn.call(this,!1,["binop","feat","anta","redge"])}fY.prototype=new fn(!0);
function h2(){fn.call(this,!1,["binop","feat","redge","cstr"])}h2.prototype=new fn(!0);function i4(){i3.call(this);
this.e=null;this.Rq=null;this.WN=!0;this.rj=[new gs("X",null,3.2,null,!0),new gs("Y",null,3.2,null,!0),new gs("W",null,3.2,null,!0),new gs("H",null,3.2,null,!0),new gs("a","\xB0",3.7,null,!0),new gs("l",null,3.5,null,!0),new gs("l",null,3.5,null,!0),new jm("Use custom units:"),new jC("Define Unit",!1,null,!0),new jC([15,7,6],!1,null,!0),new jC([2,2],!1,null,!0)];
this.rj[7]._.style.marginRight="0px";for(var O=0;O<this.rj.length;O++){var F=this.rj[O];this.body.appendChild(F._);
if(O>6)F.Q(O==7?_.E.V:"click",this.zI,this)}this.hS=0}i4.prototype=new i3;i4.prototype.zI=function(F){var r=this.rj.indexOf(F.target),$=new k6(_.E.O,!0),C=this.Rq;
if(r==7){this.W_(C);return}if(r==8){if(this.WN){alert("Draw a line for the new unit");return}this.rj[7].o(!0);
var M=new k6(_.E.c,!0);M.data={R:_.m.Oe,rS:"measscale",f_:hx.BV(C.Nc,C.D_)};this.a(M);return}if(r==9){if(this.hS==0)return;
$.J=B.DJ;$.data={R:"rot",qc:[2,5],Y:-this.hS}}if(r==10){$.J=B.D8;$.data={R:"reset"};this.WN=!0;for(var O=0;
O<6;O++)this.rj[O].o(null)}this.a($)};i4.prototype.W_=function(F){function r(c,Q,x){var U=hx.BV(c,Q),S=hx.BV(Q,x),z=hx.BV(c,x);
return Math.acos((S*S+U*U-z*z)/(2*S*U))}if(F==null)return;this.Rq=F;var $=F.Nc,C=F.D_,M=C.x-$.x,l=C.y-$.y;
this.hS=-Math.atan2(l,M);if(F.f7)this.hS=r(C,$,F.f7);var k=this.rj;k[0].o(this.Wc(F,$.x));k[1].o(this.Wc(F,$.y));
k[2].o(this.Wc(F,M));k[3].o(this.Wc(F,l));k[4].o((this.hS*180/Math.PI).toFixed(2));k[5].o(this.Wc(F,hx.BV($,C)));
this.WN=$.Mp(C);if(F.f7){k[6].o(this.Wc(F,hx.BV($,F.f7)))}else k[6].o("");k[8].Ck("Define");var d=F.ok;
if(d){var I=d.T.v;k[8].Ck(I.logicalUnits.v)}};i4.prototype.Wc=function(F,r){var $=this.Rq.ok,C;if($&&this.rj[7].k()){var M=$.T.v;
C=r*M.logicalLength.v/M.pixelLength.v}else C=j.Om.Py(r,F.YV,this.e,F.a8i,!1);return parseFloat(C).toFixed(2)};
i4.prototype.Db=function(F,r){this.e=F;this.W_(this.Rq)};i4.prototype.fG=function(){var F=this.rj;for(var O=0;
O<F.length;O++)F[O].l();F[4].Ck(dG.get([12,15]).slice(0,1)+":");var r=dG.get([12,80,0]).slice(0,1);F[5].Ck(r+"1:");
F[6].Ck(r+"2:");y.px(F[2],F[3])};function ek(){jJ.call(this,["brush","strn","pdetail"])}ek.prototype=new jJ;
function bQ(){jJ.call(this,["brush","sfrom"]);this.asH=[];var F=[[7,12]];for(var O=0;O<F.length;O++){var r=new jC(F[O],!1,null,!0);
this.asH.push(r);r.parent=this;this.body.appendChild(r._);r.Q("click",this.ac1,this)}}bQ.prototype=new jJ;
bQ.prototype.ac1=function(F){var r=new k6(_.E.wG,!0);r.data=B.k7.w8("contentAware");this.a(r)};function cm(){jJ.call(this,["brush","strn"])}cm.prototype=new jJ;
function fT(){jJ.call(this,["brush","flow","smode"])}fT.prototype=new jJ;function gK(){i3.call(this);
this.v4=!1;var F=y.i("span","fitem");this.body.appendChild(F);this._D=new a8(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
F.appendChild(this._D._);this._D.Q(_.E.V,this.SD,this);this.Jj=new jC([20,2]);this.body.appendChild(this.Jj._);
this.Jj.Q("click",this.anW,this);this.a9f=new jC([20,3]);this.body.appendChild(this.a9f._);this.a9f.Q("click",this.anW,this);
this.W3=new jm([8,7,1]);this.body.appendChild(this.W3._);this.W3.Q(_.E.V,this.SD,this)}gK.prototype=new i3;
gK.prototype.fG=function(){this.Jj.l();this.a9f.l()};gK.prototype.SD=function(){var F={R:_.m.sd,J:this.J,DZ:this._D.k()==0,Ai:this.W3.k()},r=new k6(_.E.c,!0);
r.data=F;this.a(r)};gK.prototype.W_=function(F){if(this.v4!=F.v4)this._D.o(1-this._D.k());this.v4=F.v4};
gK.prototype.anW=function(F){var r=new k6(_.E.O,!0);r.J=B.Li;r.data={R:"adapt",Y:F.target==this.Jj?"pixel":"fitscr"};
this.a(r)};function e1(F,r){i3.call(this);if(F==null)return;this.FE=F;this.RC={};this.aoJ=r;for(var O=0;
O<F.length;O++){var $=F[O],C=null;if($=="vmode"||$=="pmode"){C=new bc(null,[[12,76,1],[12,76,0],[12,76,2]]);
C.o($=="vmode"?0:1);if(r)C.aHk(2)}if($=="make"){C=new a8("Make",[[17,2],[12,76,1]],null,!0)}if($=="anta"){C=new jm([12,25,1]);
C.o(!0)}if($=="binop"){C=new bc(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if($=="pshape")C=new bc(null,[[12,93,0],[12,93,1],[12,93,4],[8,4],[12,93,2]]);
if($=="shape")C=new dR([12,76,1]);if($=="crad"){C=new eT([12,94,0],0,50,"px");C.o(0)}if($=="cstr"){C=new bA}if($=="irad"){C=new eT([12,94,1],0,100,"%");
C.o(40)}if($=="length"){C=new eT([12,80,0],4,40);C.o(4)}if($=="sides"){C=new eT([12,78],3,30);C.o(5)}if($=="width"){C=new eT([12,41],0,100,"px");
C.o(5)}if($=="tolr"){C=new eT([12,24],0,100);C.o(5)}if($=="fstyle"){C=new aF([12,26])}if($=="sstyle"){C=new ca}if($=="psnap"){C=new jm([8,10])}if($=="crnr"){C=new jC("\u2312",!1,[12,94,0],!0)}if($=="aopts"){C=new id;
C.o([!1,!1,50,60,0])}if($=="smplp"){C=new jC([12,94,2],!1,["VAR0 (VAR1)",[12,94,2],[8,9]],!0)}if($=="rows"){C=new eT("Rows",1,20);
C.o(3)}if($=="cols"){C=new eT("Columns",1,20);C.o(4)}if($=="brdr"){C=new eT([7,9],1,20);C.o(8)}C.parent=this;
this.body.appendChild(C._);this.RC[$]=C;C.Q($=="crnr"||$=="smplp"?"click":_.E.V,this.SD,this)}}e1.prototype=new i3;
e1.prototype.W_=function(F){var r=this.RC.cstr;if(F.Lk!=null)this.RC.binop.o(F.Lk);else if(F.vz=="vals")for(var $ in F.aqH)this.RC[$].o(F.aqH[$]);
else if(F.qa){if(r)r.UH(F.qa)}else{var C=e1.Zc,M=function(k){return{T:k!=null&&k.DI(!1)}};if(C==null)C=e1.Zc=new aj([{name:"Remove Anchor Point",T:function(k){var d=k?k.Ug():null;
return{T:k&&d[1].length!=0&&d[0][d[1][0]].add.vmsk.dP.length!=0}}},{name:"Remove Path",T:function(k){var d=k?k.Ug():null;
return{T:k&&d[1].length!=0&&d[0][d[1][0]].add.vmsk.K.length!=0}},NA:!0},{name:"Make Selection"},{name:[2,3],T:M},{name:[14,9],T:M}],[{s:_.E.O,J:B.rz,h:{R:"remove",yj:!0}},{s:_.E.O,J:B.I6,h:{R:"remove"}},{s:_.E.c,h:{R:_.m.Oe,rS:"makesel"}},{s:_.E.wG,h:B._J.uA(null)},{s:_.E.c,h:{R:_.m.Oe,rS:"strokepath"}}]);
C.parent=this;C.update(F.hg,F.e);var l=new k6(_.E.c,!0);l.data={R:_.m.$a,g$:C,x:F.z6.Rn+2,y:F.z6.WQ+1};
this.a(l)}};e1.prototype.awc=function(O){return null};e1.prototype.fG=function(){for(var F in this.RC){this.RC[F].l()}};
e1.prototype.SD=function(F){var r=new k6(_.E.c,!0),$=this.RC;if(F.target==$.crnr){r=new k6(_.E.O,!0);
r.J=B.rz;r.data={R:"crnr"}}else if(F.target==$.smplp){r=new k6(_.E.O,!0);r.J=B.I6;r.data={R:"smplp"}}else if(F.target==$.make){var O=F.target.k();
console.log(O);if(O==0)r.data={R:_.m.Oe,rS:"makesel"};else{r=new k6(_.E.O,!0);r.J=B.fA;r.data={R:"newfill",wV:0}}}else if(F.target==$.fstyle){r.data={R:_.m.WF,jg:d3.gv,Y:$.fstyle.k()}}else if(F.target==$.sstyle){r.data={R:_.m.WF,jg:d3.NJ,Y:$.sstyle.k()}}else if(F.target==$.vmode||F.target==$.pmode){r.data={R:_.m.WF,jg:F.target==$.vmode?d3.mU:d3.nq,Y:F.target.k()}}else{if($.pshape)this.Mx();
r.data={R:_.m.sd,J:this.J};for(var C in $)r.data[C]=$[C].k()}this.a(r)};e1.prototype.Mx=function(){var F=this.RC,r=(F.vmode?F.vmode:F.pmode).k(),$=F.pshape?this.awc(F.pshape.k()):this.FE,C;
if(r==0)C=["anta","make"];if(r==1)C=["anta","fstyle","sstyle"];if(r==2)C=["make","binop","fstyle","sstyle"];
var M=F.binop;if(M){var l=M.k();if(r==0){M.ar5(0)}else{M.aHk(0);if(l==0){M.o(1);this.SD({target:M})}}}y.RR(this.body);
for(var O=0;O<$.length;O++){var k=$[O];if(C.indexOf(k)!=-1)continue;this.body.appendChild(F[k]._)}};
e1.prototype.Db=function(F,r){i3.prototype.Db.call(this,F,r);var $=this.RC.fstyle,C=this.RC.sstyle,M=this.RC.vmode,l=this.RC.pmode;
if($)$.Db(F,r);if(C)C.Db(F,r);if(r==d3.BN||r==d3.Xh)if(F.y_.length!=0&&this.RC.shape){this.RC.shape.ZK(F.y_)}if(r==d3.BN||r==d3.gv)if($)$.o(null,F.fc,F.abo);
if(r==d3.BN||r==d3.NJ)if(C)C.o(null,F.YB,F.awb);if(r==d3.BN||r==d3.mU||r==d3.nq){var k=F.K0,d=F.kx;if(this.aoJ&&d==2)d=0;
if(M){M.o(k);this.Mx()}if(l){l.o(d);this.Mx()}}};function g4(){e1.call(this,["pmode","make","fstyle","sstyle","binop"],!0)}g4.prototype=new e1;
function kS(){e1.call(this,"pmode make anta fstyle sstyle binop".split(" "))}kS.prototype=new e1;function i1(){e1.call(this,["fstyle","sstyle","smplp"]);
this.asY=null;this.a3X=null;this.aeG=null;this.Pm=new bc([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],[4]);
this.eA=new jC("\u25BC");this.eA.z1();this.aCT=new jC("\u25B2");this.aCT.z1();this.avY=[this.Pm,this.eA,this.aCT];
for(var O=0;O<this.avY.length;O++){var F=this.avY[O];this.body.appendChild(F._);F.parent=this;F.Q(O==0?_.E.V:"click",this.jz,this)}}i1.prototype=new e1;
i1.prototype.W_=function(F){if(F.uT=="main"){var r=this.avY,$=F.ey;if($){this.a3X=$.P();this.aeG=JSON.stringify(F.EL);
var C=$.K.slice(0),M=C.length;for(var O=0;O<C.length;O++)C[O]++;C.sort(function(I,c){return I-c});r[0].VS();
r[1].fC(M!=0);r[2].fC(M!=0);r[0].Ck(M==0?"No Paths":M==1?"Path "+C[0]:"Paths "+C.slice(0,3).join(",")+(M>3?"..":""));
if(M!=0){var l=$.K[0],k=j.w.ZZ($.M,l),d=$.M[k];this.Pm.o([3,0,1,2][d.ea])}}else for(var O=0;O<r.length;
O++)r[O].Xg()}else e1.prototype.W_.call(this,F)};i1.prototype.fG=function(){e1.prototype.fG.call(this);
this.Pm.l()};i1.prototype.jz=function(F){if(F.target==this.Pm||F.target==this.eA||F.target==this.aCT){var r={},$=this.a3X,C=$.M,M=$.K,l=j.w.Us(C),k=JSON.parse(this.aeG);
M.sort(function(i,J){return i-J});if(F.target==this.Pm){var d=this.Pm.k();if(d<4)for(var O=0;O<M.length;
O++)C[j.w.ZZ(C,M[O])].ea=[1,2,3,0][d];else{if(l<=1)return;$.M=j.w.SG(C);$.K=$.M.length==2?[]:[0];$.dP=[];
k=[j.EL.E4()]}}else{var I=F.target==this.eA?-1:1,c=[];for(var O=0;O<l;O++){var Q=j.w.ZZ(C,O),x=Q+1+C[Q].length;
c.push(C.slice(Q,x))}var U=M.slice(0);for(var O=0;O<M.length;O++)U[O]=Math.max(O,Math.min(l-1-(M.length-1-O),U[O]+I));
if(M.join(",")==U.join(","))return;var S=j.N(k);for(var O=0;O<M.length;O++){var z=I==-1?O:M.length-1-O,Q=M[z],x=U[z];
if(Q!=x){var V=c[Q];c[Q]=c[x];c[x]=V;V=S[Q];S[Q]=S[x];S[x]=V}}var t=C.slice(0,2);for(var O=0;O<c.length;
O++)t=t.concat(c[O]);$.M=t;$.K=U;k=S}r.ey=$;r.EL=k;var Y=new k6(_.E.c,!0);Y.data={R:_.m.sd,J:this.J,Fo:r};
this.a(Y)}};function ez(){e1.call(this,["fstyle","sstyle","crnr","psnap"])}ez.prototype=new e1;function dn(){e1.call(this,"vmode make anta fstyle sstyle binop cstr crad".split(" "))}dn.prototype=new e1;
function bI(){e1.call(this,"vmode make anta fstyle sstyle binop cstr".split(" "))}bI.prototype=new e1;
function as(){e1.call(this,"vmode make anta fstyle sstyle binop pshape sides irad crad width aopts length rows cols brdr".split(" "));
this.RC.aopts.o([!1,!0,50,60,0])}as.prototype=new e1;as.prototype.awc=function(O){var F=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["rows","cols","brdr"],["length"]];
return"vmode make fstyle sstyle binop pshape".split(" ").concat(F[O])};function f4(){e1.call(this,"vmode make anta fstyle sstyle binop width aopts".split(" "))}f4.prototype=new e1;
function gr(){e1.call(this,"vmode make anta fstyle sstyle binop cstr shape".split(" "))}gr.prototype=new e1;
function aP(){fn.call(this,!1,["binop","feat","redge","sesu"])}aP.prototype=new fn(!0);function iR(){jJ.call(this,["brush","qsmode","redge","sesu"])}iR.prototype=new jJ;
function ex(){i3.call(this);this.WT=[new bA,new jC([8,11,3],null,null,!0),new jC(["VAR0...",[15,10,22]],null,null,!0)];
for(var O=0;O<3;O++){var F=this.WT[O];F.Q(O==0?_.E.V:"click",this.jz,this);this.body.appendChild(F._)}}ex.prototype=new i3;
ex.prototype.jz=function(F){var r=new k6(_.E.c,!0),$=this.WT.indexOf(F.target);if($==0){r.data={R:_.m.sd,J:this.J,mL:F.target.k()}}else if($==1){r=new k6(_.E.wG,!0);
r.data={hE:"make",iH:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}}}else{r.data={R:_.m.Oe,rS:"divslice"}}this.a(r)};
ex.prototype.fG=function(F){for(var O=0;O<this.WT.length;O++)this.WT[O].l()};function eR(){i3.call(this);
var F=this.tJ=[new jC("\u25BC",null,null,!0),new jC("\u25B2",null,null,!0),new jC([5,4],null,null,!0),new jC(["VAR0...",[15,10,22]],null,null,!0)];
for(var O=0;O<4;O++){var r=F[O];this.body.appendChild(r._);r.Q("click",this.jz,this)}}eR.prototype=new i3;
eR.prototype.jz=function(F){var r=this.tJ.indexOf(F.target),$;if(r==3){$=new k6(_.E.c,!0);$.data={R:_.m.Oe,rS:"divslice"}}else{$=new k6(_.E.O,!0);
$.J=B.Rd;$.data={R:r==2?"delete":"reorder",dir:r==0?-1:1}}this.a($)};eR.prototype.l=function(){i3.prototype.l.call(this);
for(var O=0;O<4;O++)this.tJ[O].l()};function b8(F,r){i3.call(this);if(window.Typr==null||F)return;this.atc=r;
this.D7=null;this.ax0=y.i("span","");this.a89=y.i("span","");var $=1,C=this.cU={lT:new jA(null,24),ca:new eT("X",0,0,"px",0,!1,!0,4),Pb:new eT("Y",0,0,"px",0,!1,!0,4),Bp:new eT("W",0,0,["%","px"],2,!1,!0,5),Zl:new jC("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),Kh:new eT("H",0,0,["%","px"],2,!1,!0,5),aAT:new eT("\u2221",0,0,"\xB0",$,!1,!0),aBw:new eT("\u25B1 H",-85,85,"\xB0",$,!1,!0),a3J:new eT("\u25B1 V",-85,85,"\xB0",$,!1,!0),vg:new bc(null,[[12,14,2],[12,14,3],"Bicubic Sharper"]),ad3:new bc("Protect",[])};
C.vg.o(1);C.Zl.o(!0);for(var M in C){var l=C[M],k=!0;if(r&&(l==C.aAT||l==C.aBw||l==C.a3J||l==C.vg))k=!1;
if(!r&&l==C.ad3)k=!1;if(k)this.ax0.appendChild(l._);var d=l==C.Zl?"click":_.E.V;l.Q(d,this.a6j,this)}this.nQ=new a8("Split",a8.Jl(["split/vh","split/v","split/h"]),["Crosswise",[22,4,3],[22,4,2]],null,!0);
this.nQ.o(-1);this.nQ.Q(_.E.V,this.aK7,this);this.dd=new jj(!0,!0,!0);this.dd.Q(_.E.V,this.aK7,this);
this.dd.parent=this;var I=this.a89,c=this.dd;I.appendChild(this.nQ._);I.appendChild(c.UQ._);I.appendChild(c.Ls._);
I.appendChild(c.hf._);I.appendChild(c.G8._);I.appendChild(c.RG._);this.C_=new jC([11,9]);this.C_.Q("click",this.aim,this);
this.yr=new fG;this.yr.Q("click",this.L0,this)}b8.prototype=new i3;b8.prototype.W_=function(F){if(F.z6){var r=b8,$=this.Zc;
if($==null)$=this.Zc=new aj(r.ab7(),r.anJ(this.J));$.l();$.parent=this;$.update(F.hg,F.e);var C=new k6(_.E.c,!0);
C.data={R:_.m.$a,g$:$,x:F.z6.Rn+2,y:F.z6.WQ+1};this.a(C);return}y.RR(this.body);this.D7=F;var M=this.cU;
if(F.cU){var l=F.cU.OV,k=F.cU.VF.P(),d=-Math.atan2(-k.X,k.xz),I=new hS;I.rotate(d);k.concat(I);M.lT.o(F.cU.MT);
M.ca.o(F.cU.u2.x);M.Pb.o(F.cU.u2.y);M.Bp.o(k.xz*(M.Bp.b9()=="%"?100:l.r));M.Kh.o(k.G0*(M.Kh.b9()=="%"?100:l.$));
M.aAT.o(d*180/Math.PI);M.aBw.o(Math.atan(k.gb/k.G0)*180/Math.PI);M.a3J.o(0*180/Math.PI);this.body.appendChild(this.ax0);
this.C_.Ly();if(F.cU.G6!=null)M.Zl.o(F.cU.G6)}if(F.gs){if(F.ayv)this.nQ.o(-1);this.dd.o(F.gs);this.body.appendChild(this.a89);
this.C_.z1()}if(F.Bs)M.ad3.Ek(F.Bs);if(F.a5k&&!this.atc)this.body.appendChild(this.C_._);this.body.appendChild(this.yr._);
M.vg._.style.display=F.afX?"":"none"};b8.prototype.a6j=function(F){var r=this.cU,$=this.D7.cU.OV;if(F.target==r.Zl)r.Zl.o(!r.Zl.k());
else if(r.Zl.s$()){var C=r.Kh,M=r.Bp,l=$.$,k=$.r;if(F.target==r.Bp){C=r.Bp;M=r.Kh;l=$.r;k=$.$}var d=C.k()/(C.b9()=="%"?100:l);
d*=M.b9()=="%"?100:k;M.o(d)}var I=[];for(var c in r)if(r[c]!=r.Zl&&r[c]!=r.lT){var d=r[c].k();if((r[c]==r.Bp||r[c]==r.Kh)&&d==0){d=.1;
r[c].o(d)}if(r[c]==r.Bp&&r[c].b9()=="px")d/=$.r/100;if(r[c]==r.Kh&&r[c].b9()=="px")d/=$.$/100;I.push(d)}var Q=new hx(I[0],I[1]);
if(F.target==r.lT){this.j4({uT:"ctyp",MT:r.lT.k()})}else if(F.target==r.ca||F.target==r.Pb){this.j4({uT:"cen",u2:Q})}else{var x=this.D7.cU.VF.P(),U=x.P(),S=Math.atan2(-x.X,x.xz);
U.translate(-Q.x,-Q.y);U.rotate(-S);var z=new hS(U.xz,U.X,U.gb,U.G0,0,0);z.v4();U.concat(z);var V=I[2]/100,t=I[3]/100;
U.concat(new hS(V,V*Math.tan(I[6]*Math.PI/180),t*Math.tan(I[5]*Math.PI/180),t,0,0));U.rotate(-I[4]*Math.PI/180);
U.translate(Q.x,Q.y);this.D7.cU.VF=U;this.j4({uT:"trn",cU:U,J4:r.vg.k(),eu:r.ad3.k(),G6:r.Zl.k()})}};
b8.prototype.aK7=function(F){var r=this.nQ;this.j4(F.target==r?{uT:"splt",Y:r.k()}:{uT:"wrp",gs:this.dd.k()})};
b8.prototype.aim=function(F){this.j4({uT:"switchWarp"})};b8.prototype.L0=function(F){this.j4({uT:this.yr.k()?"commit":"cancel"})};
b8.prototype.j4=function(F){F.R=_.m.sd;F.J=this.J;var r=new k6(_.E.c,!0);r.data=F;this.a(r)};b8.prototype.fG=function(){var F=this.cU;
for(var r in F)F[r].l();y.px(F.Bp,F.Kh);this.yr.l();this.nQ.l();this.dd.l();this.C_.l()};b8.ab7=function(){var F=function(r){var $=!0;
if(r==null||r.K.length==0)$=!1;else{var C=r.K;for(var O=0;O<C.length;O++){if(r.u[C[O]].add.TySh)$=!1}}return{T:$}};
return[{name:[5,9],J9:"Shift+Alt+Ctrl + T",NA:!0},{name:[12,38]},{name:[2,5]},{name:"Skew"},{name:[24,4],T:F},{name:[2,9],T:F,NA:!0},{name:[11,9],T:function(r){if(r==null||r.K.length!=1)return{T:!1};
var $=r.u[r.K[0]];return{T:$.add.TySh==null&&!$.EX()}},NA:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
b8.anJ=function(F){if(F==null)F=B.DJ;return[{s:_.E.O,J:F,h:{R:"again"}},{s:_.E.c,h:{R:_.m.Td,J:F,U9:{IL:3}}},{s:_.E.c,h:{R:_.m.Td,J:F,U9:{IL:4}}},{s:_.E.c,h:{R:_.m.Td,J:F,U9:{IL:5}}},{s:_.E.c,h:{R:_.m.Td,J:F,U9:{IL:2}}},{s:_.E.c,h:{R:_.m.Td,J:F,U9:{IL:1}}},{s:_.E.c,h:{R:_.m.Td,J:F,U9:{IL:-1}}},{s:_.E.wG,h:B.hL.Gy(!0,90,!0)},{s:_.E.wG,h:B.hL.Gy(!0,-90,!0)},{s:_.E.wG,h:B.hL.Gy(!0,-180,!0)},{s:_.E.wG,h:B.hL.Gy(!1,"Hrzn",!0)},{s:_.E.wG,h:B.hL.Gy(!1,"Vrtc",!0)}]};
function cF(){b8.call(this)}cF.prototype=new b8(!0);function dr(){b8.call(this)}dr.prototype=new b8(!0);
function h$(){b8.call(this,!1,!0)}h$.prototype=new b8(!0);function er(){i3.call(this);var F=this.FE=[new bc([12,36],["Rigid",[15,10,0],[24,4]]),new bc([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new eT([7,4],0,100,"px"),new jm("Show Mesh"),new jC("\u25BC",null,null,!0),new jC("\u25B2",null,null,!0)];
for(var O=0;O<F.length;O++){var r=F[O];r.parent=this;this.body.appendChild(r._);r.Q(O<4?_.E.V:"click",this.a9M,this)}this.yr=new fG;
this.yr.Q("click",this.L0,this);this.body.appendChild(this.yr._)}er.prototype=new i3;er.prototype.fG=function(){var F=this.FE;
for(var O=0;O<4;O++)F[O].l();this.yr.l()};er.prototype.W_=function(F){var F=F.jg;for(var O=0;O<4;O++)this.FE[O].o(F[O])};
er.prototype.a9M=function(F){var r=[];for(var O=0;O<4;O++)r[O]=this.FE[O].k();var $=this.FE.indexOf(F.target);
if($<4)this.j4({uT:"prm",jg:r});else this.j4({uT:"moveDepth",aDT:$==5})};er.prototype.L0=function(F){this.j4({uT:this.yr.k()?"commit":"cancel"})};
er.prototype.j4=function(F){F.R=_.m.sd;F.J=this.J;var r=new k6(_.E.c,!0);r.data=F;this.a(r)};function k1(){i3.call(this);
this.FE=null;this.$g=new bc([12,44],["","","","",""]);this.$g.Q(_.E.V,this.SD,this);this.body.appendChild(this.$g._);
this.S4=new jm("ON");this.S4.Q(_.E.V,this.SD,this);this.body.appendChild(this.S4._);var F=eT;this.jU=[[new F([24,2],0,500)],[new F([24,2],0,500)],[],[new F([24,2],0,500)],[new F("Speed",0,500,"%"),new F("Point Speed",0,500,"px")],[new F([12,15],0,360,"\xB0",null,!0)]];
for(var O=0;O<6;O++)for(var r=0;r<this.jU[O].length;r++){var $=this.jU[O][r];$.parent=this;$.Q(_.E.V,this.SD,this)}this.yr=new fG;
this.yr.Q("click",this.SD,this)}k1.prototype=new i3;k1.prototype.W_=function(F){var r=this.FE=F.jg,$=r[0];
this.aet();this.l()};k1.prototype.SD=function(F){var r=this.FE,$=r[0],C=F.target,M=C.k();if(C==this.yr){}else if(C==this.$g){$=r[0]=M<2?M:M+1;
this.aet($);r[2]=null}else if(C==this.S4){r[1][$]=M;r[2]=null;this.l()}else{var l=this.jU[$];for(var k=0;
k<l.length;k++)r[2][k]=l[k].k()}var d=new k6(_.E.c,!0);d.data={R:_.m.sd,J:this.J,jg:r};if(C==this.yr)d.data.uT=M?"commit":"cancel";
this.a(d)};k1.prototype.aet=function(){var F=this.body,r=this.FE,$=r[0];this.$g.o($<2?$:$-1);this.S4.o(r[1][$]);
while(F.children.length>2)F.removeChild(F.lastChild);var C=this.jU[$];for(var O=0;O<C.length;O++){C[O].fC(r[2]!=null);
if(r[2]!=null)C[O].o(r[2][O]);F.appendChild(C[O]._)}F.appendChild(this.yr._)};k1.prototype.l=function(){var F=[],r=this.FE,$=this.$g;
for(var O=0;O<5;O++){var C=[24,3,12,O];if(r)C=(r[1][O<2?O:O+1]?"\u2713 ":"\u2002\u2002")+dG.get(C);F.push(C)}var M=$.k();
$.Ek(F);$.o(M);var l=this.jU;for(var O=0;O<6;O++){var k=l[O];for(var d=0;d<k.length;d++)k[d].l()}};function a5(){i3.call(this);
var F=this.bN=[new bc([12,20,0],["1x1","3x3","5x5","11x11","31x31"])];for(var O=0;O<F.length;O++){var r=F[O];
r.Q(_.E.V,this.SD,this);this.body.appendChild(r._)}}a5.prototype=new i3;a5.prototype.SD=function(F){var r=this.bN,$=[];
for(var O=0;O<r.length;O++)$[O]=r[O].k();var C=new k6(_.E.c,!0);C.data={R:_.m.sd,J:this.J,N8:$};this.a(C)};
a5.prototype.fG=function(){for(var O=0;O<this.bN.length;O++)this.bN[O].l()};function hB(){fn.call(this,!1,["binop"]);
this.WC=new jC("Remove",!1,null,!0);this.WC.Q("click",this.Gz,this);this.WC._.style.marginRight="2em";
this.RV=new gs("New content");this.Bg=new d8;this.Bg.parent=this;this.if=new jC([18,0],!1,null,!0);this.if.Q("click",this.Gz,this);
this.a6C=new jC("Undo",!1,null,!0);this.a6C.Q("click",this.Gz,this);this.aEo=new jC("?",!1,null,!0);
this.aEo.Q("click",this.Gz,this);this.body.appendChild(this.RV._);this.body.appendChild(this.Bg._);this.body.appendChild(this.if._);
this.body.appendChild(this.WC._);this.body.appendChild(this.a6C._);this.body.appendChild(this.aEo._)}hB.prototype=new fn(!0);
hB.prototype.l=function(){i3.prototype.l.call(this);this.if.l();this.Bg.l()};hB.prototype.Gz=function(F){if(F.target==this.a6C){var r=new k6(_.E.O,!0);
r.J=B.sT;r.data={R:"h_stepbck"};this.a(r);return}if(F.target==this.aEo){window.open("https://x.com/photopeacom/status/1661425407944425494/video/1","_blank");
return}var $=F.target==this.WC,C=$?"empty background":this.RV.k();this.Bg.auJ(C)};function jx(){au.call(this);
this._=y.i("div","cmanager");window.alert=function(C,M){this.ajf(C,M);console.log("Alert: "+C)}.bind(this);
window.onblur=function(C){var M=this;M.rl()}.bind(this);this.a0=0;this.Y9=0;this.Zs=[];this.ac2={};this.Qj=y.i("div","alertcont");
y.B(this.Qj,"pointer-events:none");this._.appendChild(this.Qj);this.ayd=y.i("div","alertcont");this._.appendChild(this.ayd);
this.sG=y.i("div","alertcont");this.avV=0;this.u0=-1;this.af2=null;this.WT=null;var F=this.aF0=y.i("div","alertpanel");
y.B(F,"padding:0.7em 1em 0.1em 1em;");this.sG.appendChild(F);var r=this.qE=y.i("input");r.setAttribute("type","text");
y.mM(r);y.B(r,"background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");r.addEventListener("input",this.aFy.bind(this),!1);
r.addEventListener("keydown",this.atE.bind(this),!1);F.appendChild(r);var $=this.TE=y.i("div","contextpanel scrollable");
y.B($,"text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");$.addEventListener("click",this.ajP.bind(this),!1);
F.appendChild($);y.TX(document.body,this.amS.bind(this))}jx.prototype=new au;jx.prototype.fd=function(){if(y.D4(this.sG))this._.removeChild(this.sG)};
jx.prototype.aqP=function(F,r){var $=this.af2=[],C=r.ayy;for(var O=0;O<jo.data.length;O++){var M=jo.data[O],l=[dG.get(M.name)],k=[O];
jx.wz(M.items,l,k,$,F,r,C==null?null:C[O]==null?0:C[O])}var d=r.W;for(var O=0;O<d.TO.length;O++){var I=d.TO[O],c=d.keys[O];
for(var Q=0;Q<I.length;Q++)$.push([["Tools",dG.get(I[Q].J.name)],[-1,I[Q].J.id],c?c.Nm:null])}this._.appendChild(this.sG);
var x=this.qE;x.focus();x.select();this.vr()};jx.prototype.aFy=function(F){this.u0=-1;this.vr()};jx.prototype.vr=function(){var F=this.qE.value.toLowerCase().trim().replace(/  +/g," "),r=this.af2,$=[],C=[],M=F.split(" ");
if(F!="")for(var O=0;O<r.length;O++){var l=r[O][0],k=[],d=0;for(var I=0;I<l.length;I++)k[I]=-1;for(var c=0;
c<M.length;c++)for(var I=0;I<l.length;I++){var Q=l[I].toLowerCase().indexOf(M[c]);if(Q!=-1){k[I]=[Q,Q+M[c].length];
d++;break}}if(d==M.length){$.push(r[O]);C.push(k)}}var x=[],U=this.TE;y.RR(U);for(var O=0;O<$.length;
O++){var S=$[O],z=S[0],Q=C[O],V="enab",Y="";if(O==this.u0)V+=" active";var t=y.i("div",V);x.push(t);
U.appendChild(t);for(var I=0;I<z.length;I++){var i=Q[I],J=M[I],H=z[I];if(i!=-1)H=H.slice(0,i[0])+"<span style=\"color:black\">"+H.slice(i[0],i[1])+"</span>"+H.slice(i[1]);
Y+=H;if(I<z.length-1)Y+=" \uFE65 "}if(S[2]&&(typeof S[2]!="string"||S[2].length==1))Y+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+ac.Jc(S[2])+"</span>";
t.innerHTML=Y}this.WT=[$,x]};jx.prototype.atE=function(F){var r=ac.Dh,$=F.code;if(r($,ac.Pl))this.fd();
var C=r($,ac.IS),M=r($,ac.pU),l=r($,ac.t7);if(C||M){this.u0=Math.max(0,Math.min(this.WT[0].length-1,this.u0+(C?-1:1)));
this.vr()}if(l&&this.u0!=-1)this.aC9(this.u0)};jx.wz=function(F,r,$,C,M,l,k){if(typeof k=="number"){if(k==0)return;
if(k==1)k=null}for(var O=0;O<F.length;O++){if(k!=null&&(k[O]==0||k[O]==null))continue;var d=F[O],I=r.slice(0),c=$.slice(0),Q=dG.get(d.name);
if(d.T){var x=d.T(M,l,O);if(x.lf)Q=x.lf;if(x.T==!1)continue}I.push(Q);c.push(O);if(d.sub)jx.wz(d.sub,I,c,C,M,l,k?k[O]:null);
else C.push([I,c,d.J9])}};jx.prototype.ajP=function(F){var r=F.target;if(r.tagName.toLowerCase()=="span")r=r.parentNode;
var $=this.WT[1].indexOf(r);if($!=-1)this.aC9($)};jx.prototype.aC9=function(F){var r=this.WT[0][F][1];
if(r[0]==-1){var $=new k6(_.E.c,!0);$.data={R:_.m.Td,J:r[1]};this.a($)}else{var C=jo.data[r[0]].kB[r[1]];
for(var O=2;O<r.length;O++)C=C.sub[r[O]];var M=new k6(C.s,!0);M.J=C.J;M.data=C.h;this.a(M)}this.fd()};
jx.prototype.Xt=function(F,r){this.a0=F;this.Y9=r;this.TE.style["max-height"]=r-120+"px"};jx.prototype.apZ=function(F){var r=y.i("div","alertpanel");
r.textContent=dG.get(F);this.Qj.appendChild(r);this.ac2[JSON.stringify(F)]=r};jx.prototype.avf=function(F){var r=this.ac2[JSON.stringify(F)];
this.Qj.removeChild(r);delete this.ac2[JSON.stringify(F)]};jx.prototype.ajf=function(F,r){var $=this.ayd;
for(var O=0;O<$.children.length;O++)if($.children[O].textContent==F)return;var C=y.i("div","alertpanel tpanel");
C.textContent=F;y.B(C,"opacity:0.5; transform:scale(0.9)\t");$.appendChild(C);if(r==null)r=1500;var M=r,l=Math.max(Date.now()+M,this.avV+M);
setTimeout(function(){y.B(C,"transform:scale(1); opacity:1;")},10);setTimeout(function(){y.B($,"pointer-events:none; margin-top: -3.6em; transform: translateY(3.6em);")},l-Date.now()-30);
setTimeout(function(){$.removeChild($.firstChild);y.B($,"pointer-events:none; transition: transform 0.7s;  margin-top: 5.5em;  transform: translateY(0em);")},l-Date.now());
this.avV=l};jx.prototype.amS=function(F){var r=this.Zs;for(var O=r.length-1;O>=0;O--){var $=r[O],C=F.target;
while(C!=null){if(C==$._){this.rl($);return}C=C.parentNode}}this.rl();var M=F.target;while(M!=this.sG&&M!=document.body)M=M.parentNode;
if(M!=this.sG)this.fd()};jx.prototype.rl=function(F){var r=this.Zs;for(var O=0;O<r.length;O++){if(F&&F.aih(r[O]))continue;
var $=r[O]._;if(!(r[O]instanceof aj))y.E1(r[O],this._);else this._.removeChild($);$.style.height="auto";
y.cD($,"scrollable");r.splice(O,1);O--}};jx.prototype.akx=function(F){this.rl(F.g$);var r=F.g$,$=r._;
if(this.Zs.indexOf(r)!=-1)return;this.Zs.push(r);this._.appendChild($);var C=this.a0,M=this.Y9,l=F.x,k=F.y,d=this._.getBoundingClientRect(),I=r instanceof aj,c=-1,Q=M-2;
if(I||F.Cl){var x=r.eJ(),U=r.adL();if(I)x=Math.min(x,200);var S=C-x-2,z=M-U-2;if(k<z)c=2;else if(l<S)c=1;
else if(0<k-U-2)c=0;else c=3;if(F.aFc)c=0;if(F.a3P)c=2;if(c==2){l=Math.min(l,S)}else if(c==1){k=Math.min(k,z)}else if(c==0){k=k-U-2;
l=Math.min(l,S);Q=F.y}else if(c==3){l=l-x-2;k=Math.min(k,z)}}k=Math.max(2,k);var top=Math.round(k-d.y+this._.offsetTop);
$.style.position="absolute";$.style["z-index"]=10;if(k+r.adL()>Q){$.style.height=Q-k+"px";y.yY($,"scrollable");
if(c==3)l-=10}$.style.left=Math.round(l)+"px";$.style.top=top+"px";if(!(r instanceof aj))y.mb(r)};jx.prototype.aob=function(F){var r=F.g$,$=this.Zs.indexOf(r);
if($==-1)return;this.Zs.splice($,1);var C=r._;if(!(r instanceof aj))y.E1(r,this._);else this._.removeChild(r._)};
jx.prototype.gG=function(){var F=this.Zs;return F.length==0?null:F[F.length-1]};jx.prototype.ai4=function(){this.aob({g$:this.gG()})};
function jO(){au.call(this);this._=y.i("div","confbar")}jO.prototype=new au;jO.prototype.a9b=function(F){F.parent=this;
y.RR(this._);this._.appendChild(F._)};function jW(){au.call(this);var F=this._=y.i("div","toolconf");
F.style.marginLeft="40px";this.a6m=null;this.oo=null;this.$Z=[new gp(0),new gp(1),new eT([14,9],0,100,"px"),new ik(!0),new eT([12,0],0,100,"%",0)];
for(var O=0;O<this.$Z.length;O++){var r=this.$Z[O];r.parent=this;r.Q(_.E.V,this.ah8,this);F.appendChild(r._)}var $=this.Xn=new di;
this.Xn.parent=this;this.axe=new eu("Tt:");var C=this.jZ=y.i("span");F.appendChild(C);C.appendChild(this.axe._);
C.appendChild($.Su._);C.appendChild($.pY._);C.appendChild($.lI._)}jW.prototype=new au;jW.prototype.ah8=function(F){var r=this.$Z.indexOf(F.target),$=F.target.k();
if(r==4){var C=new k6(_.E.O,!0);C.J=B.pO;C.data={R:Z.fs,FJ:Math.round(255*$/100)};this.a(C);return}var M=j.N(this.a6m.Jn);
if(r<2){var l,k=$;if(r==0){l=M.rK;M.rK=k}else{l=M.XX;M.XX=k}if(l.length!=k.length){var d=[1,0,0,1,0,0];
if(l.length==4){d=l[3].slice(0);d[1]*=-1;d[2]*=-1}if(l.length==2){d=l[1][1].slice(0)}if(k.length==4){k[2]=[0,0,0,1,1,0,0];
k[3]=d;d[1]*=-1;d[2]*=-1}if(k.length==2){k[1]=[[0,0,1,1,0,0,0,0,0],d]}}}if(r==2)M.WV=$;if(r==3)M=$;var C=new k6(_.E.c,!0);
C.data={R:_.m.WF,jg:d3.Kv,Y:M};this.a(C)};jW.prototype.l=function(){for(var O=0;O<this.$Z.length;O++)this.$Z[O].l();
this.Xn.l()};jW.prototype.NX=function(F,r){this.oo=F;this.$Z[0].ZK(F);this.$Z[1].ZK(F)};jW.prototype.wK=function(F){if(F.K.length==0)return;
var r=F.u[F.K[0]];this.$Z[4].o(Math.round(r.gk*100/255));y.B(this.jZ,"line-height:1.5em; display:"+(r.add.TySh?"":"none"))};
jW.prototype.Db=function(F,r){this.a6m=F;var $=F.Jn,C=this.oo;this.$Z[0].o($.rK,C);this.$Z[1].o($.XX,C);
if($.WV!=null)this.$Z[2].o($.WV);this.$Z[3].o($);this.Xn.o(F.yc,F.v7,F.fz)};function bF(F){au.call(this);
bF.cO=this;bF.fP=F;this.e=null;this.hc=y.i("input","");this.hc.setAttribute("type","file");this.hc.setAttribute("multiple","");
this.hc.addEventListener("change",function(r){this.VL(r.target.files,null,this.OE,null);this.OE=null}.bind(this),!1);
document.body.appendChild(this.hc);y.B(this.hc,"display:none");this.ajA=[];this.acO=!1;this.aIZ=[];this.aA5=!1;
this.as6={};this.OE=null}bF.prototype=new au;bF.fP=null;bF.w_=function(F){try{var r={};r[F.type]=F;navigator.clipboard.write([new ClipboardItem(r)])}catch(ac){console.error(ac,ac.message)}};
bF.GV=function(F,r){navigator.clipboard.read().then(function($){for(var O=0;O<$.length;O++){try{var C=$[O],M={},l=0,k=0;
for(var d=0;d<C.types.length;d++){var I=C.types[d];l++;C.getType(I).then(function(c){var Q=I;new Response(c).arrayBuffer().then(function(x){M[this.wV]=x;
k++;if(k==l)bF.ajB(M,F,r)}.bind({wV:this.wV}))}.bind({wV:I}))}}catch(ac){console.error(ac,ac.message)}}}).catch(function($){alert("Please, give us permissions to access your clipboard.")})};
bF.aF$=function(F){navigator.permissions.query({name:"clipboard-read"}).then(function(r){F(r.state)})};
bF.ajB=function(F,r,$){var C=["text/plain","image/png","text/html","text/plain"];for(var M in F)console.log(M,M.startsWith("text")?P.qV(new Uint8Array(F[M])).slice(0,100)+"...":F[M]);
for(var l=0;l<C.length;l++){var k=C[l],d=F[k];if(d==null)continue;if(k=="image/png"){bF.fP({name:"image.png"},d,r,$);
return}if(k=="text/plain"){var I=P.qV(new Uint8Array(d));if(l==0)if(!I.startsWith("<!--")&&!I.startsWith("<svg"))continue;
if($&&I.startsWith("<svg"))continue;var c=new k6(_.E.c,!0);c.data={R:_.m.aD8,Y:I};r.a(c);return}if(k=="text/html"){var I=P.qV(new Uint8Array(d)),Q=I.indexOf("src=\"");
if(Q!=-1&&I.slice(Q+5,Q+9)!="http"){var x=Q+10;while(I[x]!="\"")x++;var U=I.slice(Q+5,x);bF.fP({name:"chart.png"},dN.Pf(U).buffer,r,$);
return}}}};bF.prototype.NZ=function(F){if(F==null)F=[23,5];var r=JSON.stringify(F),$=this.as6;if($[r]==null)$[r]=0;
if($[r]==0){var C=new k6(_.E.c,!0);C.data={R:_.m.O7,Sm:F};this.a(C)}$[r]++};bF.prototype.LX=function(F){if(F==null)F=[23,5];
var r=JSON.stringify(F),$=this.as6;if($[r]==null)$[r]=0;$[r]--;if($[r]==0){var C=new k6(_.E.c,!0);C.data={R:_.m.hF,Sm:F};
this.a(C)}};bF.prototype.a9P=function(F,r,$){this.OE=F;var C=window.showOpenFilePicker;if($)C=null;if(C&&window.self==window.top){var M=this;
C({multiple:!0}).then(function(d){var I=[];function c(Q){I.push(Q);if(I.length==d.length){M.VL(I,null,M.OE,null,d);
M.OE=null}else d[I.length].getFile().then(c)}d[I.length].getFile().then(c)});return}var l=this.hc;if(r)l.setAttribute("accept",r);
else l.removeAttribute("accept");var k=document.createEvent("MouseEvents");k.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
l.dispatchEvent(k)};bF.prototype.LQ=function(F){if(F.url.indexOf("photopea.com#i")!=-1||F.url.indexOf("photopea.com/#i")!=-1){this.g2(F.url.split("#i").pop());
return}this.ajA.push(F);this.akD()};bF.prototype.akD=function(){var F=this.ajA;if(F.length==0||this.acO)return;
this.acO=!0;var r=F.shift();this.NZ();if(r.TB==null)r.TB={};var $=new XMLHttpRequest;$.kH=r;var C=r.url;
if(r.aud&&!C.startsWith("data:image"))C=(C);$.open("GET",C);if(r.a03)for(var M in r.a03)$.setRequestHeader(M,r.a03[M]);
$.responseType="arraybuffer";$.onload=this.alp.bind(this);$.send()};bF.prototype.VL=function(F,r,$,C,M){for(var O=0;
O<F.length;O++){this.NZ();var l=F[O],k=new FileReader;k.kH=l;k.kH.lB=$;k.kH.Q7=C;k.a5Q=r;if(M)k.kH.se=M[O];
k.onload=this.alp.bind(this);k.onerror=function(d){this.LX()}.bind(this);this.aIZ.push([k,l])}this.hc.value=null;
this.avQ()};bF.prototype.avQ=function(){var F=this.aIZ;if(F.length==0||this.aA5)return;this.aA5=!0;var r=F.shift();
r[0].readAsArrayBuffer(r[1])};bF.prototype.a1n=function(F,r,$){this.NZ("Saving ...");this.e=r;setTimeout($.bind({$J:F,caller:this}),50)};
bF._w=function(F){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$=new Uint8Array(F),C=$.length,M=C%3,l=C-M,k=[],d=0,I=0,c=0;
for(var O=0;O<l;O+=3){d=$[O];I=$[O+1];c=$[O+2];k.push(r[d>>2]+r[(d&3)<<4|I>>4]+r[(I&15)<<2|c>>6]+r[c&63])}if(M==1){d=$[l];
k.push(r[d>>2]+r[(d&3)<<4]+"==")}if(M==2){d=$[l];I=$[l+1];k.push(r[d>>2]+r[(d&3)<<4|I>>4]+r[(I&15)<<2]+"=")}var Q=k.join("");
return Q};bF.az_=function(F,r){var $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=new Uint8Array(64),d=0,I=0,c=0,x=0;
for(var O=0;O<64;O++)C[O]=$.charCodeAt(O);var M=new Uint8Array(F),l=r%3,k=r-l,Q=new Uint8Array(Math.floor(r/3)*4+(l==0?0:4));
for(var O=0;O<k;O+=3){d=M[O];I=M[O+1];c=M[O+2];Q[x]=C[d>>>2];Q[x+1]=C[(d&3)<<4|I>>>4];Q[x+2]=C[(I&15)<<2|c>>>6];
Q[x+3]=C[c&63];x+=4}if(l==1){d=M[k];Q[x]=C[d>>2];Q[x+1]=C[(d&3)<<4];Q[x+2]=61;Q[x+3]=61}if(l==2){d=M[k];
I=M[k+1];Q[x]=C[d>>2];Q[x+1]=C[(d&3)<<4|I>>4];Q[x+2]=C[(I&15)<<2];Q[x+3]=61}return Q};bF.prototype.alp=function(F){var r,$=F.target.kH;
if(F.target instanceof XMLHttpRequest)r=F.target.response;else r=F.target.result;bF.fP($,r,this,F.target.a5Q);
this.LX();if(F.target instanceof XMLHttpRequest){this.acO=!1;this.akD()}else{this.aA5=!1;this.avQ()}};
bF.agi=function(F,r){var $=new XMLHttpRequest;$.open("POST","https://api.imgur.com/3/image",!0);$.gA=r;
var C=["2c49c3d17cf0ab5","e1d678b8d6a606b","0546b331803cedb","426d743915497b3"],M=Math.floor(Math.random()*C.length);
$.setRequestHeader("Authorization","Client-ID "+C[M]);$.setRequestHeader("Content-type","application/x-www-form-urlencoded");
$.setRequestHeader("Accept","application/json");$.addEventListener("load",bF.a8t);$.send("type=base64&image="+encodeURIComponent(bF._w(F)));
alert("Saving to Imgur ...",4e3)};bF.a8t=function(F){var r=JSON.parse(F.target.response);if(r.success){if(F.target.gA)F.target.gA(r.data.link);
else window.open(r.data.link,"Imgur")}};bF.prototype.g2=function(F,r){this.NZ();var $=new XMLHttpRequest;
$.responseType="arraybuffer";$.open("GET","templates/file/"+(r?"pp-resources":"psdshared")+"/"+F);
$.onload=this.alC.bind(this);$.send();$.Rq=[Date.now(),F,r]};bF.prototype.alC=function(F){var r=F.target.Rq,$=new Uint8Array(F.target.response);
console.log($.length+" B,",Date.now()-r[0]+" ms");for(var O=0;O<$.length;O++)$[O]=255-$[O];$=pako.inflateRaw($);
var C=JSON.parse(P.qV($,0,2e3));bF.fP({name:C.name,zm:r[1]},$.slice(2e3).buffer,this);this.LX();if(!r[2])bF.uQ("act=0&id="+r[1])};
bF.prototype.a7S=function(F,r,$,C){if(!(F instanceof ArrayBuffer))throw"e";F=new Uint8Array(F);var M=new Uint8Array(F.length+2e3),U="";
for(var O=0;O<2e3;O++)M[O]=32;P.hm(JSON.stringify({name:r}),M,0);M.set(F,2e3);F=M;F=pako.deflateRaw(F);
for(var O=0;O<F.length;O++)F[O]=255-F[O];F=F.buffer;var l=F.byteLength,k=iv.$A(l),d=~~(609e5/2),I=~~(209e5/2);
if(l>d){confirm("Your file is "+k+". Our limit is "+iv.$A(d)+". Delete some layers and try again.");
return}if(l>I){var c=confirm("Your file is quite large ("+k+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!c)return}var Q=sha1(F),x=[];for(var O=0;O<20;O++){var S=parseInt(Q.slice(O*2,O*2+2),16);x.push(S);
U+=String.fromCharCode(S)}var z=btoa(U).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(bF.aal(z,C)){console.log("file already exists");
if($)$(z);else window.open("https://www.photopea.com#i"+z+".psd");return}this.NZ("Publishing ...");var V=new XMLHttpRequest;
V.Rq=[F,Q,z,$,C];V.open("GET",ht.lQ("papi/img/publish.php?rnd="+Math.random()+"&id="+z+"&size="+l+"&bname="+C));
V.onload=this.are.bind(this);V.send()};bF.aal=function(F,r){try{var $=new XMLHttpRequest;$.open("HEAD","templates/file/"+r+"/"+F,!1);
$.send();if($.status==200)return!0}catch(ac){return!1}return!1};bF.prototype.are=function(F){console.log(F.target.response);
var r=JSON.parse(F.target.response),$=F.target.Rq,C=new XMLHttpRequest;C.open("POST",r.uploadUrl);C.setRequestHeader("Authorization",r.authorizationToken);
C.setRequestHeader("X-Bz-File-Name",$[2]);C.setRequestHeader("Content-Type","b2/x-auto");C.setRequestHeader("X-Bz-Content-Sha1",$[1]);
C.send(new Blob([$[0]]));C.onload=this.a9A.bind({_s:this,Rq:$})};bF.prototype.a9A=function(F){this._s.LX("Publishing ...");
if(this.Rq[3])this.Rq[3](this.Rq[2]);else window.open("https://www.photopea.com#i"+this.Rq[2]+".psd");
if(this.Rq[4]=="psdshared")bF.uQ("act=2&id="+this.Rq[2]+"&fileId="+JSON.parse(F.target.response).fileId)};
bF.uQ=function(F){var r=new XMLHttpRequest;r.open("GET","/papi/img/update.php?"+F+"&rnd="+Math.random());
r.send()};bF.save=function(F,r){var $=new Uint8Array(F),C=document.createElement("a");if(typeof C.download=="string"){var M=new Blob([$]),l=window.URL.createObjectURL(M);
C.href=l;C.download=r;document.body.appendChild(C);C.click();document.body.removeChild(C)}else{var k="data:application/octet-stream;base64,"+bF._w(F);
window.open(k)}};function eo(){this.size=16;this.data=j.j(16)}eo.prototype.cq=function(F,r){if(F+r<=this.size)return;
var $=this.size;while(F+r>this.size)this.size*=2;var C=j.j(this.size);for(var O=0;O<$;O++)C[O]=this.data[O];
this.data=C};var ii={};ii._K=function(F,r,$,C){var M=r.split(":"),l=M[0];if(M.length==2){if(l=="jpg")C=[Math.round(100*parseFloat(M[1]))];
if(l=="webp")C=[Math.round(100*parseFloat(M[1]))];if(l=="psd")C=[!0,!0,!1,!1,!1];if(l=="svg")C=M[1].split(",").map(function(d){return d=="true"});
if(l=="jpg"||l=="webp")if(F.XF())C.push(!1)}var k=dN.Ja(F,l.toUpperCase(),null,null,C,$);return k};ii.aFS=function(F,r,$){var C=F.Ez(),M=r[0];
return ii._K(F,M,$)};ii.aAR=function(){var F=this.$J,r=this.caller,$=F.TB.YZ,C=$.formats,M,l;F.Ez();
var k=Date.now();if($.version==1){var d=[],I=0,Q=0;for(var O=0;O<C.length;O++){var c=ii._K(F,C[O],r.e);
d.push(c);I+=c.byteLength}M=new Uint8Array(2e3+I);var x="{ \"source\": "+JSON.stringify(F.Xc)+", \"versions\": [\n";
for(var O=0;O<C.length;O++){var U=new Uint8Array(d[O]);x+="\t{\"format\": \""+C[O].split(":")[0]+"\", \"start\": "+Q+", \"size\": "+U.length+" }"+(O+1<C.length?", ":"")+"\n";
M.set(U,2e3+Q);Q+=d[O].byteLength}x+="] }";var S=P.hm(x,M,0);for(var O=S;O<2e3;O++)M[O]=32;l="application/octet-stream"}else{var z=new eo,V=0,t="",Y=encodeURIComponent;
t="p="+Y("{ \"source\": "+JSON.stringify(F.Xc)+", \"versions\": [");P.k6(z,V,t);V+=t.length;for(var O=0;
O<C.length;O++){t=Y(" {\"format\": \""+C[O].split(":")[0]+"\", \"data\": \"");P.k6(z,V,t);V+=t.length;
var c=ii._K(F,C[O],r.e),i=bF.az_(c,c.byteLength),S=i.length;z.cq(V,S);for(var J=0;J<S;J++){z.cq(V,3);
var H=i[J];if(H==43){z.data[V]=37;z.data[V+1]=50;z.data[V+2]=66;V+=3}else if(H==47){z.data[V]=37;z.data[V+1]=50;
z.data[V+2]=70;V+=3}else if(H==61){z.data[V]=37;z.data[V+1]=51;z.data[V+2]=68;V+=3}else{z.data[V]=H;
V++}}t=Y("\" }"+(O+1<C.length?", ":""));P.k6(z,V,t);V+=t.length}t=Y("] }");P.k6(z,V,t);V+=t.length;M=z.data.slice(0,V);
l="application/x-www-form-urlencoded"}var v=new XMLHttpRequest;v.open("POST",$.url,!0);if(l)v.setRequestHeader("Content-Type",l);
v.addEventListener("load",ii.aD9.bind(this));v.send(new Blob([M.buffer]))};ii.aD9=function(F){this.caller.LX("Saving ...");
var r=F.target.response;if(r.charAt(0)=="{"){r=JSON.parse(r);if(r.newSource)this.$J.Xc=r.newSource;if(r.message)alert(r.message,2e3);
if(r.script){var $=new k6(_.E.c,!0);$.data={R:_.m.y9,ky:r.script};this.caller.a($)}}else alert("Saved. Response: "+r,1500)};
ii.auA=function(F){var r=F.BK,$=r[1].split(".").pop(),C=ii._K(F,$,null,$=="psd"&&r[0]==1?[!0,!1,!0,!1]:null),M=Storage.n6(r[0]);
return M.aaK(r[1],C)};ii.aIX=function(F,r){var $=F.$H.zj;if(r==null)r=ii._K(F,$);ia.sf(function(){var C=new XMLHttpRequest,M="https://www.googleapis.com/upload/drive/v3/files/"+F.$H.file.id+"?uploadType=media"+"&"+ia.aag();
C.open("PATCH",M,!0);C.addEventListener("load",function(l){var k=JSON.parse(l.target.response);alert(k.name+" updated")});
C.send(r);alert("Saving \""+F.$H.file.name+"\" to Google Drive ...")})};ii.fP=function(F,r,$,C){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)ii.a3N(F,r,$,C);
else{try{ii.a3N(F,r,$,C)}catch(ac){if(ac=="low_ram"){}else{var M=dN.GN(r),l="Error. Please, send your file to support@photopea.com and we will solve it.";
if(M=="psd")l="Your file is probably damaged :( If you are 100% sure your file is ok, send it to support@photopea.com";
if(dN.GN(r)=="eps")l="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(l,1e4)}}}};ii.a3N=function(F,r,$,C){var M;if(F.name){var l=F.name.lastIndexOf(".");M=l==-1?F.name:F.name.slice(0,l);
if(F.name.slice(l+1)=="psdt")M="Untitled-1"}else{if(F.url.substring(0,5)=="data:")M="image";else{var k=F.url.substring(F.url.lastIndexOf("/")+1).split(".");
M=k[0];if(k[1]=="psdt")M="Untitled-1"}M=M.slice(0,50)}var d=F.name?F.name:F.url,I=new Uint8Array(r),c=dN.GN(r);
if(c!=null&&dN.LD(c))ht.event("fmt_"+c,.1);if(c==null)c=P.BW(I,0,4);if(c=="ai"&&d&&d.toLowerCase().endsWith(".pdf"))c="pdf";
if(d&&d.toLowerCase().endsWith(".aco"))c="aco";if(d&&d.toLowerCase().endsWith(".asv"))c="asv";if(d&&d.toLowerCase().endsWith(".raw")&&c!="tiff"){var Q=new k6(_.E.c,!0);
Q.data={R:_.m.Oe,rS:"importraw",bM:r,fO:d.split("/").pop()};$.a(Q);return}else if(c=="json"){var x="";
for(var O=0;O<I.length;O++)x+=String.fromCharCode(I[O]);x=decodeURIComponent(escape(x));var U=JSON.parse(x);
if(U.name&&U.url){U.resID=F.zm;var Q=new k6(_.E.c,!0);Q.data={R:_.m.arW,Y:U};$.a(Q)}else{alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(U)}return}if(c=="html"){var x=P.qV(I,0,I.length),S=new DOMParser,z=S.parseFromString(x,"text/html"),V=z.getElementsByTagName("meta");
for(var O=0;O<V.length;O++){var t=V[O],Y=t.getAttribute("property"),i=t.getAttribute("content"),J=null;
if(Y=="og:image")J=i;if(Y==null&&i&&i.startsWith("0;url=/imgres?")){var k=i.slice(14).split("&");for(var H=0;
H<k.length;H++)if(k[H].startsWith("imgurl"))J=decodeURIComponent(k[H].slice(7))}if(J==null)continue;
var Q=new k6(_.E.c,!0);Q.data={R:_.m.f0,jg:{url:J,aud:!0,lB:F.lB}};$.a(Q)}return}if(dN.LD(c)){var v,n,G=dN.LD(c);
if(F.lB!=null&&"jpg png gif pdf svg ai psd".split(" ").indexOf(c)!=-1){var Q=new k6(_.E.c,!0);if(0<=F.lB)Q.data={R:_.m.ej,target:F.lB,PS:F.Q7,xB:r,Ow:M};
else{Q=new k6(_.E.O,!0);Q.data={R:Z.Ss,data:new Uint8Array(r),fO:M+"."+c};Q.J=B.pO}$.a(Q);return}var g=[M,G,c,F,$,C,r];
if(G.FK){var W=gw==0?"psd":"ai";v=new kQ(M+(c==W?"":"-"+c)+"."+W);G.YH(r,v,ii.vx,g)}else{n=G.YH(r,null,ii.vx,g,$);
if(n==null)return}if(G.mQ!=!0)ii.vx(v,n,g);else $.NZ();return}var L=new k6(_.E.c,!0);L.data={R:_.m.Zj,bM:r,du:F.name};
var b=F instanceof File&&F.a6_!=!0,Q=new k6(_.E.c,!0);Q.data={R:_.m.WF,TB:"add",jg:null,bw:null,a9u:F.a6_};
if(c=="zip"){var T=Date.now(),a=UZIP.parse(r),R="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var D in a){var h=!1;for(var O=0;O<R.length;O++)if(D.toLowerCase().endsWith("."+R[O]))h=!0;if(D.startsWith("__MACOSX/")||a[D].length==0)h=!0;
if(h)continue;var K=D.split("/").pop();ii.fP({name:K},a[D].buffer,$,C)}}else if(c=="jsx"||d&&d.toLowerCase().endsWith(".jsx")){if(b)$.a(L);
var x=P.qV(new Uint8Array(r));Q.data={R:_.m.y9,ky:x};$.a(Q)}else if(c=="otf"){if(b)$.a(L);var X=Typr.parse(r);
Q.data.jg=d3.r3;for(var O=0;O<X.length;O++){Q.data.bw=X[O];$.a(Q)}}else if(c=="asl"){if(b)$.a(L);var X=eW.CO(r,d);
Q.data.jg=d3.ve;Q.data.bw=X.nG;$.a(Q);Q.data.jg=d3.aD;Q.data.bw=X.nt;$.a(Q)}else if(c=="tpl"){if(b)$.a(L);
var X=bq.CO(r);Q.data.jg=d3.UG;Q.data.bw={QY:X.QY,fQ:X.fQ,list:[]};$.a(Q);if(X.aai.length!=0){Q.data.jg=d3.Xh;
Q.data.bw=X.aai;$.a(Q)}if(X.nt.length!=0){Q.data.jg=d3.aD;Q.data.bw=X.nt;$.a(Q)}Q.data.jg=d3.Nb;Q.data.bw=X.list;
$.a(Q)}else{var w="";for(var N in d3.pH)if(d3.pH[N][0]==c)w=N;if(w!=""){if(b&&!d3.bn[w])$.a(L);Q.data.bw=d3.pH[w][2].CO(r,d);
Q.data.jg=w;$.a(Q)}else if(r.byteLength==0)alert("Empty file (0 Bytes)");else alert("Unknown file format: "+JSON.stringify(c))}};
ii.vx=function(F,r,$){var C=$[0],M=$[1],l=$[2],k=$[3],d=$[4],I=$[5],c=$[6];if(M.mQ)d.LX();if(!M.FK){if(r.length==0)return;
if(r[0].t33421||r[0].t50706){j.raw.normalize(r[0],c);console.log(r[0]);var Q=new k6(_.E.c,!0);Q.data={R:_.m.Oe,rS:"rawpea",gf:r[0]};
d.a(Q);return}if(I){I(new Uint8Array(r[0].data),r[0].$Y);return}F=dN.FS(C,r)}F.zm=k.zm;F.SO=l;F.TB=k.TB;
F.Xc=k.url;F.nR=k.nR;F.$H=k.$H;F.se=k.se;F.BK=k.BK;if(k.se&&k.se.name.endsWith(".psdt"))F.se=null;if(F.$H)F.$H.zj=l;
if(F.u.length!=0){var Q=new k6(_.E.c,!0);Q.data={R:k.lB==null?_.m.K2:_.m.ej,target:k.lB,PS:k.Q7,xB:F};
d.a(Q)}};function bv(F,r){au.call(this);this.f2=bv.f2++;this.kr=F;this.aqZ=this.aij.bind(this);this.akA=this.ale.bind(this);
this.aHQ=this.j7.bind(this);this.a9d=r;this.abT=this.a9E.bind(this);this.aIn=this.a0M.bind(this);this.a9D=this.aln.bind(this);
this.ic=0;this.ak$=0;this.aAr=0;this._=y.i("div","panelblock");this.gh=y.i("div","block");this.Vk=y.i("div","collapsed");
this._.appendChild(this.gh);this.jo=-1;this.su=!0;this.s4=y.i("div","panelhead");this.gh.appendChild(this.s4);
this.$P(this.s4);this.a8a=new jC("\u2261");y.B(this.a8a._,"position:absolute; right:4px;");this.a8a.Q("click",this.atp,this);
this.Np=y.i("div","body");this.gh.appendChild(this.Np);this.bP=[];this.zu=null;this.kF=null}bv.f2=0;
bv.prototype=new au;bv.aI=26.1;bv.prototype.atp=function(F){var r=this.bP[this.jo].Wx(),$=F.currentTarget._.getBoundingClientRect();
r.l();r.update();r.parent=this;var C=new k6(_.E.c,!0);C.data={R:_.m.$a,g$:r,x:$.left,y:$.top+$.height+2};
this.a(C)};bv.prototype.KF=function(F){var r=this.gh,$=this.s4,C=this.Np;if(y.D4($))r.removeChild($);
if(y.D4(C))r.removeChild(C);if(F==0)r.appendChild($);r.appendChild(C);this.aAr=F};bv.Dk=function(F){F.stopPropagation();
F.preventDefault()};bv.prototype.aij=function(F){var r=F.dataTransfer.types;if(r[1]!=null&&r[1]!=this.f2+"")return;
bv.Dk(F);var bU=F.currentTarget;if(F.target==bU)y.yY(bU,"highlight")};bv.prototype.ale=function(F){bv.Dk(F);
var bU=F.currentTarget;if(F.target==bU)y.cD(bU,"highlight")};bv.prototype.$P=function(F){F.addEventListener("dragenter",this.aqZ,!1);
F.addEventListener("dragleave",this.akA,!1);F.addEventListener("dragover",bv.Dk,!1);F.addEventListener("drop",this.aHQ,!1);
F.addEventListener("dragstart",function(r){r.dataTransfer.setData("Text","--panel");r.dataTransfer.setData(this.f2+"","")}.bind(this),!1)};
bv.prototype.j7=function(F){this.akA(F);var r=null,bU=F.currentTarget,$=this.aIQ(bU);if(bU==this.Np&&this.jo!=-1)r=this.jo;
else if(bU==this.s4)r=null;else if($!=-1)r=$;var C=F.dataTransfer.getData("Text");if(C==""||C.startsWith("http")||C.startsWith("data:image/"))y.Er(F,this,r);
else if(C=="--panel"){var M=y.Bz(F,bU),l=this.bP,k=l.slice(0),O=this.jo,d=$==-1?l.length:M.x<bU.getBoundingClientRect().width/2?$:$+1;
if(O==d||O+1==d||bU==this.Np)return;var I=O<d?d-1:d,c=l[O];l.splice(O,1);l.splice(I,0,c);y.RR(this.s4);
for(var Q=0;Q<l.length;Q++)this.s4.appendChild(l[Q].PM);this.ev(I);var x=[];for(var O=0;O<l.length;O++)x[O]=k.indexOf(l[O]);
var U=new k6("shuffleItems",!1);U.data={a4R:x};this.a(U)}else if(r!=null&&this instanceof f9){var U=new k6(_.E.c,!0);
U.data={R:_.m.ap7,a5z:r};this.a(U)}};bv.prototype.HH=function(){return null};bv.prototype.a0U=function(){if(this.HH()){this.s4.style.padding="0px";
this.kF=this.HH();this.Np.appendChild(this.kF);this.mk.fC(!1);var F=new k6(_.E.c,!0);F.data={R:_.m.Xa,Y:1};
this.a(F)}};bv.prototype.ayo=function(){if(this.kF){this.s4.style.padding="";this.Np.removeChild(this.kF);
this.kF=null;this.mk.fC(!0);var F=new k6(_.E.c,!0);F.data={R:_.m.Xa,Y:0};this.a(F)}};bv.prototype.aIQ=function(F){var r=this.bP;
for(var O=0;O<r.length;O++)if(r[O].PM==F)return O;return-1};bv.prototype.sD=function(){for(var O=0;O<this.bP.length;
O++)this.bP[O].rx.Ly()};bv.prototype.Wm=function(){return this.jo};bv.prototype.yU=function(){if(this.su)return;
this.su=!0;this._.removeChild(this.Vk);this._.appendChild(this.gh)};bv.prototype.collapse=function(){if(!this.su)return;
this.su=!1;this._.appendChild(this.Vk);this._.removeChild(this.gh)};bv.prototype.aI=function(){var F=0;
if(this.aAr==0){F=this.s4.getBoundingClientRect().height+1;F=Math.max(F,bv.aI)}return F};bv.prototype.avv=function(){return this.aI()+this.Np.getBoundingClientRect().height};
bv.prototype.Xt=function(F,r){this.s4.style.maxWidth=F+"px";var $=this.aI();if(this.jo!=-1)this.bP[this.jo].Xt(F,r-$);
return r-$};bv.prototype.Db=function(F,r){if(this.jo!=-1)this.bP[this.jo].Db(F,r)};bv.prototype.wK=function(F,r,$){this.bP[this.jo].wK(F,r,$)};
bv.prototype.gc=function(F){this.ayo();if(this.bP.indexOf(F)!=-1){this.ev(this.bP.indexOf(F));return}F.parent=this;
this.bP.push(F);this.s4.appendChild(F.PM);F.PM.addEventListener("mouseover",this.abT,!1);this.$P(F.PM);
this.Vk.appendChild(F.rx._);F.rx.Q("click",this.aoN,this);F.Q("select",this.aup,this);F.Q(_.E.FQ,this.aJJ,this);
this.ev(this.bP.length-1)};bv.prototype.a9E=function(F){if(F.buttons==0)return;var r=F.currentTarget,$=r,O=0;
while(($=$.previousSibling)!=null)O++;this.ak$=O;r.addEventListener("mouseout",this.aIn,!1);this.ic=setTimeout(this.a9D,700)};
bv.prototype.a0M=function(F){var r=F.currentTarget,$=r,O=0;while(($=$.previousSibling)!=null)O++;r.removeEventListener("mouseout",this.aIn);
clearTimeout(this.ic)};bv.prototype.aln=function(F){this.a(new k6(_.E.amG,!1))};bv.prototype.a7c=function(F){return this.ak$};
bv.prototype.ek=function(O){var F=new k6(_.E.FQ,!1);F.data={od:O};this.a(F);var r=this.bP[O];this.bP.splice(O,1);
this.s4.removeChild(r.PM);this.Vk.removeChild(r.rx._);r.PM.className="";r.rx.removeEventListener("click",this.aoN,this);
r.rx.Ly();r.removeEventListener("activate",this.aup);r.removeEventListener(_.E.FQ,this.aJJ);var $=this.jo;
if(O<$)$--;else if(O==$&&O==this.bP.length)$--;if(this.su)this.ev($);if(this.bP.length==0)this.a0U()};
bv.prototype.aIr=function(){return this.bP.length};bv.prototype.qP=function(){if(this.bP.length!=0)this.bP[this.jo].qP()};
bv.prototype.ev=function(F,r){if(r==null)r=!0;for(var O=0;O<this.bP.length;O++)this.bP[O].PM.className="";
if(this.zu)this.Np.removeChild(this.zu);this.zu=null;this.jo=F;if(F==-1)return;var $=this.bP[this.jo];
this.zu=$.H0;this.Np.appendChild($.H0);$.PM.className="active";if(!this.su){this.a(new k6("showFloat"));
this.bP[F].rx.z1()}if(r)this.a(new k6(_.E.V,!1));$.$x();var C=this.a8a._;if(C.parentNode)this.s4.removeChild(C);
if($.Wx())this.s4.appendChild(C);var M=new k6(_.E.c,!0);M.data={R:_.m.X7};this.a(M)};bv.prototype.aup=function(F){if(this.kr&&!this.kr.a8w())return;
var O=this.bP.indexOf(F.currentTarget);this.ev(O)};bv.prototype.aJJ=function(F){var r=this.bP.indexOf(F.currentTarget);
if(F.data!=null){for(var O=this.bP.length-1;O>=0;O--){var $=this.bP[O];if(F.data==1&&O==r)continue;$.qP()}return}if(this.kr&&!this.kr.a8w())return;
this.ek(r)};bv.prototype.aoN=function(F){var r=this.bP.indexOf(F.currentTarget.parent);if(this.bP[r].rx.s$())this.a(new k6("hideFloat"));
else this.ev(r)};bv.prototype.adx=function(F){this.a(F)};function f9(F){bv.call(this,F);this.a0=0;this.Y9=0;
y.an(this.s4,this.afK.bind(this));this.h1=0;this.ew=-2;this.aFq=this.anN.bind(this);this.$P(this.Np);
this.Ox=["default;"];this.mk=new y.PZ(this.Np);this.r6=new d9(!0);this.r6.parent=this;this.Y4=this.r6._;
d9.d4(this.r6)}f9.prototype=new bv;f9.prototype.afK=function(F){if(F.target!=this.s4)return;var r=Date.now()-this.h1<300&&this.ew==-1;
this.h1=Date.now();this.ew=-1;if(!r)return;var $=new k6(_.E.c,!0);$.data={R:_.m.Oe,rS:"newproject"};
this.a($)};f9.prototype.GZ=function(F,r){if(r)this.Ox.push(F);else{var $=this.Ox.length-1;if(this.Ox[$]==F)return;
this.Ox[$]=F}this.TN()};f9.prototype.alA=function(){this.Ox.pop();this.TN()};f9.prototype.TN=function(){var F=this.Ox[this.Ox.length-1];
this.mk.wK(F,this.Ft)};f9.prototype.Db=function(F,r){bv.prototype.Db.call(this,F,r);this.r6.Db(F,r);
if(!F.Tb){}};f9.prototype.l=function(){bv.prototype.l.call(this);this.r6.l()};f9.prototype.wK=function(F,r){for(var O=0;
O<r.length;O++){var $=r[O];this.bP[O].sz($.name+($.depth==8?"":" (RGB/"+$.depth+")")+($.MO()?" *":""))}bv.prototype.wK.call(this,F,r)};
f9.prototype.HH=function(){return this.Y4};f9.prototype.Xt=function(F,r){if(this.bP.length==0)r+=bv.aI-1;
this.a0=F;this.Y9=r;r=bv.prototype.Xt.call(this,F,r);this.Ft="height:"+r+"px; width:"+F+"px; overflow:hidden; position:relative;";
this.TN();this.r6.Xt(F,r)};f9.prototype.gc=function(F){bv.prototype.gc.call(this,F);F.PM.addEventListener("click",this.aFq,!1)};
f9.prototype.ek=function(O){var F=this.bP[O];y.gj(F.PM,this.aFq);bv.prototype.ek.call(this,O)};f9.prototype.anN=function(F){var r=this.aIQ(F.currentTarget),$=Date.now()-this.h1<300&&this.ew==r;
this.h1=Date.now();this.ew=r;if(!$)return;var C=this.bP[r].xB.name,M=new k6(_.E.c,!0),l={s:_.E.O,J:B.pO,h:{R:Z.qt}};
M.data={R:_.m.Oe,rS:"namewindow",Ir:C.slice(0,C.length-4),fE:l};this.a(M)};function iT(F){au.call(this);
if(F)return;at.awB(1);this._=y.i("div","flexrow app");this.Ig=y.i("div");this._.appendChild(this.Ig);
setTimeout(function(){var $=window.hideCap;if($)$()},25e3);this.vl=new ac;window.addEventListener("blur",function($){this.vl.reset()}.bind(this),!1);
window.addEventListener("resize",this.T5.bind(this),!1);var r=this.Ig;this.sX=new dB;this.sX.parent=this;
r.appendChild(this.sX._);this.pL=new jx;this.pL.parent=this;r.appendChild(this.pL._);this.Vb=new kE(!0);
this.Vb.parent=this;r.appendChild(this.Vb._);this.Q(_.E.c,this.SA,this);this.Gn=this.Qt.bind(this);window.requestAnimationFrame(this.Gn)}iT.prototype=new au;
iT.prototype.Qt=function(F){this.$_();window.requestAnimationFrame(this.Gn)};iT.prototype.l=function(){};
iT.prototype.T5=function(F){var r=window.innerWidth,$=window.innerHeight;this.Xt(r,$)};iT.prototype.Xt=function(F,r){this.pL.Xt(F,r);
this.sX.Xt(F,r)};iT.prototype.SA=function(F){var r=F.data.R;if(r==_.m.$a)this.pL.akx(F.data);if(r==_.m.GW)this.pL.aob(F.data);
if(r==_.m.O7)this.pL.apZ(F.data.Sm);if(r==_.m.hF)this.pL.avf(F.data.Sm);if(r==_.m.P$)this.pL.rl()};function hu(){iT.call(this);
this.MC={x:0,y:0,HY:!1};this.V_=!1;this.rX=!1;this.axb=null;this.a6Y=0;this.ay0=!1;this.MF=0;document.body.style.overscrollBehavior="contain";
window.onmessage=function(U){if(Storage.azL(U.source))return;if(U.data instanceof ArrayBuffer){var S=dN.GN(U.data),z=dN.LD(S);
bF.fP({url:"file"},U.data,this);if(z==null)this.Tn()}else if(U.data instanceof Object||U.data.startsWith("{")||U.data.startsWith("amp-")||U.data.startsWith("0=goog")||U.data.startsWith("3PCoo")||U.data.startsWith("ima://")){}else if(U.data.startsWith("--ur ")){var V=U.data.split(" ").pop();
V=V.length==0?[]:V.split(",");var t=new k6(_.E.c,!0);t.data={R:_.m.WF,jg:d3.q0,FJ:V};this.a(t)}else if(U.data.startsWith("--ot ")){if(this.sX.gG())this.sX.gG().close();
this.ce.g2(U.data.split(" ").pop())}else if(U.data.startsWith("--et ")){}else{var t=new k6(_.E.c,!0);
t.data={R:_.m.y9,ky:U.data};this.a(t);this.Tn()}}.bind(this);window.onbeforeunload=function(U){this.a5x();
for(var O=0;O<this.Mi.length;O++)if(this.Mi[O].MO()){return this.Mi[O].name}}.bind(this);if(!aG.Kj())window.setInterval(this.aCB.bind(this),5*60*1e3);
var F=this;if(window.indexedDB){var r={cq:window.indexedDB.open("pp",1)};r.cq.onupgradeneeded=function(U){var S=U.target.result,z=S.createObjectStore("rsrc",{keyPath:"k"})};
r.cq.onsuccess=function(U){var S=F.e.hz.U$=U.target.result,z=S.transaction(["rsrc"],"readwrite").objectStore("rsrc"),V=z.get("fs0");
V.onsuccess=function(U){if(U.target.result){var i=F.e.hz.C5=U.target.result.fset;for(var J in i){if(!J.endsWith(".jsx")&&!J.endsWith(".p"+"sd"))bF.fP({url:J,a6_:!0},i[J],F);
var H=J.split(".").pop(),v="";for(var n in d3.pH)if(d3.pH[n][0]==H)v=n;if(d3.bn[v]&&!J.startsWith("_all_"))delete i[J]}}};
var t=new BroadcastChannel("pp-tabs"),Y=[];t.onmessage=function(U){if(U.data=="id")t.postMessage(F.e.hz.id);
else Y.push(U.data)};t.postMessage("id");setTimeout(function(){var z=S.transaction(["rsrc"],"readwrite").objectStore("rsrc"),i=z.getAllKeys();
i.onsuccess=function(){var J=i.result,H=[],v=0;for(var O=0;O<J.length;O++){if(J[O]=="fs0")continue;if(Y.indexOf(J[O])!=-1)continue;
H.push(J[O])}for(var O=0;O<H.length;O++){var V=z.get(H[O]);V.onsuccess=function(U){if(U.target.result){var n=U.target.result.fset;
for(var G in n){try{bF.fP({url:G,a6_:!0},n[G],F);var g=F.yP();g.ja=g.au6=-1}catch(U){console.log(U)}}v++;
if(v==H.length)for(var O=0;O<H.length;O++){var V=z.delete(H[O])}}}}}},200)}}var $="rwx~#.-(;.]6EF rx'|#1,6><@87f?NO \"|'/-&(0><BBDEEMGrVPb w$,*1)379;<<D>iQW \"|'/-4,6:<>??GAlTZ \"|'/-1)(W?E !#$$,&P72<DBIAKOoTZR %%!-~-&,>AI`HN vx!/-3QV66;`HN \"|'/-M)+3A]BDEEMG *#DGUP%(+48>Kk>FHHVXXW(Z(un03y=p{ *#DGUP%:/5457:=IuF_$Q~le'*p4gr".split(" "),C=y.uJ[b3.yu][b3.a0m];
if(C==null)C=[y.uJ[b3.zF][b3.Ou]];for(var M=0;M<C.length;M++){var l=C[M];for(var O=0;O<$.length;O++){var k=y.kd($[O]);
if(l.indexOf(k)!=-1){var d=y.uJ[b3.zF][b3.Np],I=b3.iE("+TyeVTVF<pR1:444X3!~'tGkgfkdlfi_R%JQCBGs<B>AV:-;#TIBEsx*CVqux}xreyztGc]Pdea1NH;OPL|93&:;81$}p%&\"Qnh[oplgYSFZ[XTD>1EFBE/){01.)ysfz{wvgw;Hamh+F,3#!T6@=# |0odhjb`RKtGPK\\WI3A3.:_A{{#t~x,E{xu)H]ac[YKDm@IDo_/hcS*OYl}w/{!thr|i]seVT[dUHP>UF8<?3(@% ,4r.Gi%jqa_3t~{a^[nNCGIA?1*S&/*Hw$y<kjgpsilhtSU\\ZUI?OKCCALeh+20+~t%!xx#a`]fi_b'vF l");
y.RR(d);d[b3.afi]=I;return}}}this.W=hu.anz();this.e={W:this.W,a1u:!1,fp:null,v8:0,sO:{fQ:[],QY:[],list:[],zU:null},KM:[],aJr:[],Bl:[],Ra:[],Uy:[],We:[],aAb:[],a08:[],Uy:[],y_:[fW.Mv()],md:[],HF:[],vV:null,K0:0,kx:1-gw,Jn:cK.Jn.Mv(),a7n:cK.Jn.Mv(),fc:{Ef:1,v$:j.N(cK.zH[0])},YB:cK.Ok.Mv(),abo:[null].concat(cK.zH),awb:[null].concat(cK.zH),v7:new cR(function(U){var S=new k6(_.E.c,!0);
S.data={R:_.m.f0,jg:{url:ht.Kq("rsrc/fonts/"+U)}};this.a(S)}.bind(this)),yc:{WX:[],Uz:null,jv:null},font:null,fz:[],bw:[],aG1:{},y1:0,J2:16777215,_2:!1,V$:!0,AK:{oT:!0,sn:!1,Xx:!0,S8:!0,rL:!0,a3:!0,oS:20,aC:0,RL:0,qU:0,Kl:8421504,da:65535,d1:33023},oE:!0,p$:[!0,!0,!1,!0,!0],$0:df.L8(),di:1,BQ:!0,a2y:{},Tb:!0,aaU:!1,compact:!1,Y$:1,E3:0,Y4:!0,e5:{},D$:null,hz:{id:"ts"+Math.round(Math.random()*16777215),au3:!1,a3n:!1,C5:{},Hm:{},U$:null},awy:0,a5d:null,TT:null,atA:null,Rz:null};
cR.uP.G7(this);this.aCO={OV:new cS,KV:new hx};this.e.yc=ho.a3L();this.Sp=new jo;this.Wp=new jO;this.yG=new jW;
this.DK=new iw(this.W,!0);this.hi=new gc;this.MS=new f9(this);this.Bc=y.i("div");this.dV=!1;this.a4X=this.azJ.bind(this);
y.yY(this.MS._,"mainblock");this.Vb.parent=this.Sp.parent=this.Wp.parent=this.DK.parent=this.hi.parent=this.MS.parent=this;
this.MS.Q(_.E.V,this.p0,this);this.MS.Q(_.E.FQ,this.axR,this);this.MS.Q("shuffleItems",this.aHH,this);
this.MS.Q(_.E.amG,this.agQ,this);this.Q("mouse",this.amd,this);this.Q(_.E.O,this.Y3,this);this.Q(_.E.wG,this.auQ,this);
document.body.addEventListener("keydown",this.c3.bind(this),!1);window.addEventListener("keyup",this.f8.bind(this),!1);
window.addEventListener("paste",this.aGU.bind(this),!1);window.addEventListener("copy",this.aFz.bind(this),!1);
window.addEventListener("wheel",function(U){if(U.ctrlKey)U.preventDefault()},{passive:!1});window.addEventListener("beforeinstallprompt",function(U){if(window.innerWidth>400)U.preventDefault();
this.e.D$=U}.bind(this));this.a59=0;this.Mi=[];this.ce=new bF(ii.fP);this.ce.parent=this;var c=this.Ig,Q=this.u1=y.i("div");
Q.appendChild(this.Sp._);Q.appendChild(this.Wp._);this.Vb.aeB(Q);var x=this.ah1=y.i("div","flexrow");
c.appendChild(x);x.appendChild(this.DK._);x.appendChild(this.MS._);x.appendChild(this.hi._);this.ce.LQ({url:ht.lQ("rsrc/basic/basic.zip")});
this.la(B.uo);ht.G7(this.awa.bind(this));if(this.mH())return;if(gw==0){ht.event("web_PPea",.01);var l=y.uJ[b3.zF][b3.Ou];
if(l=="")l="di"+"rect";l=l.split("//").pop();if(l.startsWith("w"+"ww."))l=l.slice(4);if(l.endsWith("/"))l=l.slice(0,-1);
if(l.startsWith("go"+"ogle."))l="go"+"ogle.com";if(l.startsWith("baidu.com"))l="baidu.com";if(l.startsWith("photopea.com/templates"))l="photopea.com/templates";
if(l.startsWith("photopea.com/tuts"))l="photopea.com/tuts";if(l.endsWith("search.yahoo.com"))l="search.yahoo.com";
if(l.endsWith("gradio.live"))l="gradio.live";if(l.endsWith("proxy.ru"))l="proxy.ru";if(l.length>28&&l.indexOf("/")!=-1)l=l.split("/")[0];
if(l.length>28)l=l.split(".").slice(1).join(".");if(l.length>28)l=l.split(".").slice(1).join(".");if(l.length>28)l=l.slice(l.length-28);
if(aG.Kj()){ht.event("i"+"fr_"+l,.01,1)}else ht.event("r"+"ef_"+l,.01,1)}if(gw==1)fetch("//www.photopea.com/papi/event.php?id=web_VPea")}hu.prototype=new iT(!0);
hu.prototype.Tn=function(F){var r=new k6(_.E.c);r.data={R:_.m.LS,jg:F?F:"done"};this.a(r)};hu.prototype.aCB=function(){var F=this.e.hz,$=!1;
if(F.U$==null)return;var r=this.Mi;for(var O=0;O<r.length;O++){var C=r[O];if(C.au6!=C.Qc){var M=Date.now(),l=dN.Ja(C,"psd",0,0,[!0,!1,!0,!1,!0]);
C.au6=C.Qc;F.Hm[C.name]=l;$=!0;console.log(Date.now()-M,"saving "+C.name,l.byteLength)}}if($){var k=new k6(_.E.c);
k.data={R:_.m.WF,jg:d3.ht,aDh:!0};this.a(k)}};hu.prototype.awa=function(){y.uJ[b3.Uv](this.a53.bind(this),Math.pow(Math.PI,8)+y.uJ[b3.ahJ][b3.acS]()*1e4);
var F=ht.fM();if(F!=null&&F.globals!=null)this.Nd(F.globals);else{this.ay0=!0;var r=dG.ack();if(r&&r.length!=0){var $=r[0];
dG.a1F($,this.a4X)}}if(!this.mH()){var C=y.a7m();if(C==0)this.aaU=!0;if(C==2)this.e.Tb=!1;if(C!=1&&Math.random()<.002)y.afk()}if(!aG.Kj()||!this.e.Tb){this.alx();
this.hT()}else{var M=y.jJ(y.uJ[b3.zz]);M[b3._z](b3.Mf,this.azj.bind(this));var l=y.iE("_MYOqDLGJa;A:6");
if(gw!=0)l=b3.kd("@C/25N4/9A?C;:iBQRv")+l;M[b3.U5](y.iE("61="),l);M[b3.Iz]()}this.V_=!0;this.Tn();var k=new k6(_.E.c);
k.data={R:_.m.Oe,rS:"peamark",$I:4,index:[10,0]}};hu.prototype.azj=function(F){var r=JSON.parse(F.target[b3.dT]),$=y.uJ[b3.a1P][b3.a3j]()/1e3,C=y.uJ[b3.zF][b3.Ou],M=!1;
for(var l in r)if(l.indexOf(".")!=-1&&C.indexOf(l)!=-1&&parseInt(r[l])>$)M=!0;if(M)this.e.Tb=!1;this.alx();
this.hT();if(C==""){if(this.e.Tb){alert(b3.iE("S[L[PEKNdF640:7'1;\")2tyyz|"))}}};hu.prototype.hT=function(F){this.rX=!0;
if(!this.e.Y4)this.MS.Y4=null;else if(this.Mi.length==0)this.MS.a0U();this.RQ(d3.BN);this.l();this.T5();
this.hi.wK(this.yP(),this.Mi,this.e)};hu.prototype.Nd=function(F){var r=this.e;if(F.fc!=null){r.y1=F.fc;
var $=r.yc.Uz.FillColor;if($){var C=j.iW(r.y1);$.Values=[1,C.t/255,C.L/255,C.X/255]}}if(F.bc!=null)r.J2=F.bc;
if(F.ru!=null)r._2=F.ru==1;if(F.ex!=null)r.V$=F.ex==1;if(F.favFam!=null)r.fz=F.favFam;if(F.ff!=null)r.fz=F.ff.split(",");
if(F.rsrc!=null)r.bw=F.rsrc;if(F.rs!=null)r.bw=F.rs.split(",");if(F.fo!=null)r.yc.WX[0].Name=F.fo;if(F.panels!=null)r.$0=F.panels;
if(F.pd!=null)r.$0=df.ape(F.pd);if(F.as!=null)r.Y$=F.as;if(F.co!=null){r.E3=F.co;if(r.E3!=0)alert("Edit > Preferences > Cursor Offset is not Zero.",2500)}var M=F.ep?F.ep:F.eparams;
if(M){var l=r.AK;if(M.guides!=null)l.oT=M.guides;if(M.grid!=null)l.sn=M.grid;if(M.gsize!=null)l.oS=M.gsize;
if(M.gunits!=null)l.aC=M.gunits;if(M.gtype!=null)l.RL=M.gtype;if(M.runits!=null)l.qU=M.runits;if(M.gcol!=null)l.Kl=M.gcol;
if(M.gucol!=null)l.da=M.gucol;if(M.glcol!=null)l.d1=M.glcol;if(M.sels!=null)l.Xx=M.sels;if(M.paths!=null)l.S8=M.paths;
if(M.pgrid!=null)l.rL=M.pgrid;if(M.slices!=null)l.a3=M.slices;if(M.gc!=null)l.Kl=M.gc;if(M.uc!=null)l.da=M.uc;
if(M.lc!=null)l.d1=M.lc;if(M.gs!=null)l.oS=M.gs;if(M.gu!=null)l.aC=M.gu;if(M.gt!=null)l.RL=M.gt;if(M.ru!=null)l.qU=M.ru;
if(M.gr!=null)l.sn=M.gr==1;if(M.gd!=null)l.oT=M.gd==1;if(M.se!=null)l.Xx=M.se==1;if(M.pa!=null)l.S8=M.pa==1;
if(M.pg!=null)l.rL=M.pg==1;if(M.sl!=null)l.a3=M.sl==1}if(F.lang!=null)dG.a1F(F.lang,this.a4X);if(F.theme!=null)r.di=F.theme;
if(F.to){var k=F.to;for(var O=0;O<k.length;O+=2){var d=this.W.map[k[O]];if(d)d.J.jN(k[O+1],null,this)}}if(F.topt||r.awI){var I=F.topt?F.topt:{},c=r.awI?r.awI:{};
for(var Q in this.W.map){if(Q>=103)continue;var x="t"+Q;if(I[x]||c[x])this.W.map[Q].J.jN(I[x],c[x],this)}}};
hu.prototype.alx=function(){if(this.e.a1u)return;this.e.a1u=!0;var F=null,r=window.location.href,$=r.indexOf("="),C=r.indexOf("#");
if($!=-1)F=r.substring(r.indexOf("?")+1,$);if(C!=-1&&C!=r.length-1){F="p";$=C}if(C!=-1&&r[C+1]=="i"){this.ce.g2(r.slice(C+2,C+10))}else if(r.slice(C+1).startsWith("audit")){}else if(r.slice(C+1).startsWith("goog_rewarded")){}else if(C!=-1&&r[C+1]=="t"){this.ce.g2(r.slice(C+2,C+10).split("").reverse().join(""))}else if(F=="p"||F=="state"){var M=r.substring($+1,r.length);
M=JSON.parse(decodeURIComponent(M));if(F=="p"){var l=M.apis,k=this.e;if(l){if(l.rmbg)k.e5.adq=l.rmbg;
if(l.dezgo)k.e5.ajJ=l.dezgo}if(M.script=="alert(73)")this.e.Tb=!1;if(M.script)j5.a0v(this);if(M.server)this.axb=M.server;
if(M.resources)for(var O=0;O<M.resources.length;O++)this.ce.LQ({url:M.resources[O]});if(M.files)for(var O=0;
O<M.files.length;O++)this.ce.LQ({url:M.files[O],TB:{YZ:M.server,aDs:M.script}});var d=M.environment;
if(d==null)d={};if(d.plugins!=null)this.hi.aqw(d.plugins);if(d.localsave!=null)this.e.BQ=d.localsave;
if(d.customIO!=null)this.e.a2y=d.customIO;if(d.vmode!=null){var I=d.vmode;if(I==1)this.e.compact=!0;
if(I==2)this.aby=!0}if(d.intro!=null)this.e.Y4=d.intro;if(d.menus!=null)this.e.ayy=d.menus;if(d.tmnu!=null)this.e.awI=d.tmnu;
if(d.panels!=null)this.e.$0=d.panels;if(d.showtools!=null){var c=d.showtools,Q=c.indexOf(this.e.fp);
this.e.Jm=c;if(Q==-1)this.la(c[0])}if(d.phrases!=null)dG.abu(d.phrases);if(d.autosave!=null){this.e.Y$=0;
window.setInterval(function(){var S=new k6(_.E.c);S.data={R:_.m.YO};this.a(S)}.bind(this),d.autosave*1e3)}if(d.icons!=null){for(var x in d.icons)if(d.icons[x].indexOf("\"")==-1){if((x==b3.amJ||x==b3.aiu)&&this.e.Tb)continue;
PIMG[x]=d.icons[x];PIMG["__"+x]=!0}}this.Nd(d);if(M.files==null&&M.script){kv.DS(M.script,this);this.Tn()}}else if(F=="state"){var U=this.ce;
if(M.action=="create"){var S=new k6(_.E.c);S.data={R:_.m.Oe,rS:"newproject",atk:M.folderId};this.a(S)}if(M.action=="open"){for(var O=0;
O<M.ids.length;O++)ia.sf(function(){var V="https://www.googleapis.com/drive/v3/files/"+this.a7u,t=new XMLHttpRequest;
t.open("GET",V);t.setRequestHeader("Authorization",ia.a2_());t.send();t.onload=function(Y){var i=JSON.parse(Y.target.response);
U.LQ({url:V+"?alt=media",name:i.name,$H:{file:i,zj:""},a03:{Authorization:ia.a2_()}})}}.bind({a7u:M.ids[O]}));
alert("Loading files from Google Drive ...")}}}else{var z=window.launchQueue;if(z){var U=this.ce;z.setConsumer(function(V){var t=V.files,Y=[];
for(var O=0;O<t.length;O++){var i=t[O];i.getFile().then(function(J){Y.push(J);if(Y.length==t.length)U.VL(Y,null,null,null,t)})}})}}};
hu.prototype.l=function(){var F=null;if(F){var r=!1,$=F.getElementsByTagName("h1")[0],l=0,d=0,I=0;$.textContent="Free Online Photo Editor";
var C=F.getElementsByTagName("p"),M="Photopea: "+y.im(dG.get([0,17,1])),k=["PSD","AI","PDF","SVG","CDR"];
for(var O=0;O<k.length;O++)M=M.replace(k[O],"<b>"+k[O]+"</b>");if(!r)M+=" (<b>Adobe Photoshop</b>, <b>Adobe Illustrator</b>, <b>PDF</b>,  <b>SVG</b>, <b>CorelDRAW</b>).";
C[0].innerHTML=M;M=dG.get([0,17,2])+" "+dG.get([0,17,3]);for(var O=0;O<M.length;O++){var c=M[O];if(c=="<")d++;
if(c==">")I++}if(!r&&d*I==9){var Q=["//github.com/photopea/"+["photo","vector"][gw]+"pea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var O=0;O<3;O++){var x=M.indexOf("<",l),U=M.indexOf(">",l),S=M.slice(0,x)+"<a href=\""+Q[O]+"\" target=\"_blank\">"+M.slice(x+1,U)+"</a>";
l=S.length;M=S+M.slice(U+1)}C[1].innerHTML=M}else C[1].innerHTML=dG.get([0,17,2])}this.Vb.l();this.Sp.l();
this.yG.l();this.hi.l();this.DK.l();this.sX.l();this.MS.l();for(var z in this.W.map)if(this.W.map[z].jC)this.W.map[z].jC.l()};
hu.prototype.mH=function(){var F=y.uJ[b3.yu][b3.a0m];if(F&&F[1]){if(F[1].endsWith(b3.iE("UUPSDm@ID")))return!0}return 4<y.uJ[b3.yu][b3.O3][b3.ao5](b3.iE("'$!|"))||true};
hu.prototype.Xt=function(F,r){F=Math.floor(F);r=Math.floor(r);var $=y.iE("WUMK&AM"),C=b3.UI,M=y.uJ[b3.zF],l=Math.max(F,window.screen.width),k=Math.max(r,window.screen.height),x=0;
if(aG._4==null){aG._4=Math.min(l,k)<500||l<750?0:l<1500?1:2}var d=aG._4,I=!this.rX||this.mH()||!this.e.Tb||ht._q()||y.SV()==b3.iE("eQLZRRM?8a4=8");
if(!I&&aG.Kj()){if(this.aG4==null)this.aG4=Math.random()<.5;I=this.aG4}if(I){if(d!=0&&y.uJ[$]&&this.rX)y.uJ[$]()}else{if(d==0)r-=84;
else F-=d==1?180:320}iT.prototype.Xt.call(this,F,r);if(I&&this.dV){this._[b3.abx](this.Bc);y.RR(this.Bc);
this.dV=!1}if(!I&&!this.dV){var c=function(z){y.uJ[b3.Uv](function(){var t=new k6(_.E.c);t.data={R:_.m.Oe,rS:b3.iE("QZXZLFV")};
if(gw==0&&aG.gU()&&!ht._q())this.a(t)}.bind(this),14720+Math.random()*46351);if(Math.random()<.002){if(gw==0&&aG.gU())ht.event("gota_0")}if(gw==0&&z)y.uJ.___a=!0;
this.aGP(F,r);var V=d==0?M[b3.Np]:this._;V.appendChild(this.Bc);this.Bc[b3.MD](C,y.iE("_MMJLNDfKCAg")+(d==0?10:10)+y.iE("_d$ebOS?I:==Ba-+# }$M"));
this.Bc[C][y.iE("_MMJLND&<:E")]=(d==0?0:19)+y.iE("_d");this.Bc[C][y.iE("i5WJHX")]=d==0?0:1}.bind(this);
function Q(){aG.a81(c)}setTimeout(Q,2800);this.dV=!0}if(y.D4(this.Sp._))x+=31;if(y.D4(this.Wp._))x+=32;
this.Vb.aeT=this.e.Tb&&this.rX;this.Vb.Xt(F,x);var U=r-x,S=y.iE("_d");this.Bc[C][b3.aFx]=(d==0?100>>>1:r-11)+S;
this.Bc[C][b3.a5T]=(d==0?F:6*Math.pow(10,2))+S;if(y.D4(this.DK._))this.DK.Xt(F,U);this.hi.Xt(F,U);this.MS.Xt(F-this.DK.eJ()-this.hi.eJ(),U)};
hu.prototype.aGP=function(F,r){var $=function(){var C=new k6(_.E.c);C.data={R:_.m.Oe,rS:"account"};this.a(C)}.bind(this);
aG.auR(F,r,this.Bc,$)};hu.prototype.aFz=function(F){console.log("systemCopy")};hu.prototype.aGU=function(F){if(y.qI())return;
console.log("systemPaste");if(!F.clipboardData)return;var r=F.target.tagName.toLowerCase(),$=F.clipboardData.items;
if($==null)return;var C=this.a6F.bind(this);for(var O=0;O<$.length;O++){var M=$[O],l=M.getAsFile();if(M.type.indexOf("image")!=-1){if(l.size==this.e.awy)return;
this.e.awy=l.size;if(l){l.name="image.png";this.ce.VL([l],C)}}}};hu.prototype.a6F=function(F,r){var $={buffer:F,S:r},C=this.e;
if(y.qI()){var M=this.aCO,l=M.OV;if(l.r==r.r&&l.$==r.$){$.S=l;$.KV=M.KV}}else{if(C.TT){var k=new k6(_.E.O,!0);
k.J=B.sT;k.data={R:"h_stepbck"};this.a(k)}}C.TT=$;var k=new k6(_.E.c,!0);k.data={R:_.m.qo,aAh:!0};this.a(k)};
hu.prototype.aaj=function(){if(this.sX.gG()!=null)alert(dG.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
hu.prototype.Y3=function(F){var r=this.yP();if(r==null){alert(dG.get([15,7,7]));return}var $=F.J==B.H1||F.J==B.Li;
if(this.sX.fV()&&F.vs!=!0&&!$){this.aaj();return}var C=this.W,M=this.e.fp,l=F.J;if(l==B.Q_&&M==B.LF)l=B.LF;
if(M!=l&&C.map[M].J.fV()&&!$&&!((M==B.qh||M==B.qD)&&l==B.tl)){console.log("disabling",M);C.map[M].J.disable(r,this,this.e,this.vl)}var k=this.W.map[l].J;
k.Y3(F.data,this,r,this.vl,this.e)};hu.prototype.auQ=function(F){var r=this.e;if(F.data.t2!=!0)cQ.as7({hE:F.data.hE,iH:F.data.iH},this,r,this.yP());
var $=r.vV,C=r.HF;if($==null||F.data.aBL)return;var M={aq5:!1,HU:"Step",at_:0,T:!0,exp:!1,hE:F.data.hE};
if($[2]==null)$[2]=C[$[0]].FL[$[1]].FL.length-1;if(F.data.iH)M.iH=F.data.iH;C[$[0]].FL[$[1]].FL.splice($[2]+1,0,M);
$[2]++;this.RQ(d3.O)};hu.prototype.SA=function(F){if(this.aaU){F.data=0;return F.I}var r=F.data&&F.data.R==_.m.Oe&&F.data.rS==b3.a0a,$=F.data&&(F.data.R==_.m.$a||F.data.R==_.m.rC);
if(y.uJ.__csrf&&!ht._q()&&!r&&!$){var C=b3.iE("?XNGVEhYC9EM@;D5'+05,~\")ggs|\"x7YOYOJa\"KGI8>AKF3/=/ y1!tomv((xeeoTO[cB]+J:?8A6E$# ),\"%-2)EdajmcfpkJZbTE?VH@>SG&0#;+z~~mm&ShlnfdVOx");
alert(C,5e3);return}iT.prototype.SA.call(this,F);var M=F.data.R;if(M==_.m.Gu)cQ.a2x(this.yP(),this.e.HF,F.data.Fo[0],F.data.Fo[1],this);
if(M==_.m.ap7){this.ar8(F.data.a5z)}if(M==_.m.aFd){this.l();this.T5()}if(M==_.m.X7)this.T5();if(M==_.m.Eb)if(this.e.D$){this.e.D$.prompt();
this.e.D$=null}if(M==_.m.yz)this.MS.GZ(F.data.P5,F.data.push);if(M==_.m.a7Y)this.MS.alA();if(M==_.m.aH4)this.p0(null,F.data.dir);
if(M==_.m.TD)this.MS.ek(this.Mi.indexOf(F.data.$J?F.data.$J:this.yP()));if(M==_.m.Xa){var l=navigator.keyboard;
if(F.data.Mh&&l)l.lock(["Escape"]);if(F.data.Mh&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}else if(F.data.Mh)document.body.webkitRequestFullScreen();if(F.data.Y!=null)this.KF(F.data.Y)}if(M==_.m.arN){if(F.data.HY)this.vl.DQ(F.data.ane);
else this.vl.RU(F.data.ane);this.JG(F.data.HY?"down":"up")}if(M==_.m.arW){var k=F.data.Y;this.hi.aqw([k]);
this.l()}if(M==_.m.eE){var d=this.yP(),I=d.u[d.K[0]],c=new cS(0,0,d.r,d.$),Q=d.d?d.d.S.P():c,x=j.j(Q.C()*4);
j.mR(d.Ez(),c,x,Q);var U=kQ.Vm()+"-d71c-11e5-b1ae-a548a96e5f9f",S=new k6(_.E.c,!0);if(F.data.jg==0){var z={name:"Default/"+d.name.split(".")[0],id:U,t6:[x,Q]};
S.data={R:_.m.WF,TB:"add",jg:d3.ve,bw:[z]};this.a(S)}if(F.data.jg==1){var V=j.j(Q.C()*4);V.fill(255);
j.v.O5("norm",x,Q,V,Q,Q,1);var t=j.j(Q.C());j.R2(V,t);j.v4(t);var Y=j.BM(t,Q);if(Y.XS())Y=Q;var i=j.j(Y.C());
j.wU(t,Q,i,Y);Y.x=Y.y=0;var J={OV:Y,id:U,t6:[i,Y]},H=g9._r(U),v=H.Brsh.v;v.Dmtr.v.val=Math.max(Y.r,Y.$);
v.Spcn.v.val=10;S.data={R:_.m.WF,TB:"add",jg:d3.UG,bw:{list:[{t:"Objc",v:H}],QY:[J],fQ:[]}};this.a(S);
S.data={R:_.m.WF,jg:d3.$B,lV:H};this.a(S)}if(F.data.jg==2){var n=d.Ug(),G=n[0][n[1][0]],g={tV:"Default/"+I.getName(),Lz:U,M:G.add.vmsk.P().M},W=j.w.t8(g.M),L=new hS(W.r,0,0,W.$,W.x,W.y);
L.v4();j.w.J_(g.M,L);W.x=W.y=0;g.sc=W.P();S.data={R:_.m.WF,TB:"add",jg:d3.Xh,bw:[g]};this.a(S)}}if(M==_.m.f0)this.ce.LQ(F.data.jg);
if(M==_.m.u7){var b=F.data.aiO,T=F.data.kQ;if(b!=!0&&T!=!0&&this.QI("open"))return;var a=this.MS.Wm();
if(T)a=-1-a;this.ce.a9P(b||T?a:null,F.data.ay8,F.data.AS)}if(M==_.m.zn){var R=d3.pH[F.data.aou],x=this.aAO(F.data.aou,F.data.qG);
bF.save(x,R[1]+"."+R[0])}if(M==_.m.Zj){var D=this.e.hz,h=F.data.aC4;if(D.U$&&!D.au3&&!h){D.a3n=window.confirm("Load \""+F.data.du+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
D.au3=!0}if((D.a3n||h)&&D.U$){D.C5[F.data.du]=F.data.bM;var S=new k6(_.E.c);S.data={R:_.m.WF,jg:d3.ht};
this.a(S)}}if(M==_.m.aiL){var d=this.yP(),w="<!DOCTYPE HTML>";if(d==null)return;var K=dN.yd(d.Ez().buffer,d.r,d.$),X=window.open();
w+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";w+="<body><img src=\""+K+"\" /></body>";
w+="</html>";X.document.write(w)}if(M==_.m.EW){if(this.QI("publishOnline"))return;var N=F.data.$I=="jpg"||F.data.$I=="png",d=this.yP();
if(d==null)return;if(!N&&d.zm)return;var C="Your "+(N?"picture":"document")+" will be published at "+(N?"Imgur":["Photo","Vector"][gw]+"pea")+".com under a public URL (known only to you). Proceed?";
if(!N)C+=" We guarantee 6+ months of storage.";var s=F.data.gA?!0:confirm(C);if(s){if(F.data.$I=="psd"){var S=new k6(_.E.O,!0);
S.J=B.pO;S.data={R:Z.Xk};this.a(S);var A=new cS(0,0,d.r,d.$);for(var O=0;O<d.u.length;O++){var I=d.u[O];
if(I.S.XS()||I.EX()||I.rc()||I.HP()||I.Og()||I.add.TySh||I.add.vmsk||I.add.SoLd)continue;var p=A.R7(I.S);
if(!p.Mp(I.S)&&!p.XS()){var q=j.j(p.C()*4);j.mR(I.buffer,I.S,q,p);I.buffer=q;I.S=p}if(!j.DG(I.buffer,I.S.r,I.S.$))continue;
var f=I.rR(),e=I.gk,o=I.ww,E=I.p9;I.Gj(!0);I.gk=255;I.ww="norm";d.K=[O];S.data={R:Z.Ko,$I:"jpg"};this.a(S);
var cj=d.u[O];I.Gj(f);cj.Gj(f);I.gk=cj.gk=e;I.ww=cj.ww=o,I.p9=cj.p9=E}}if(d.OX){d.ol()}var u=d.r,cd=d.$,m=F.data.ajC,aZ;
if(m)while(Math.max(u,cd)>m){u=u>>>1;cd=cd>>>1}console.log(u,cd);if(F.data.$I=="psd")aZ=dN.Ja(d,"psd",0,0,[!0,!0,!0,!1,!0]);
else if(F.data.$I=="ai")aZ=dN.Ja(d,"ai");else if(F.data.$I=="png")aZ=dN.Ja(d,"png",u,cd);else{var jN=dN.Ja(d,"png",u,cd),eh=dN.Ja(d,"jpg",u,cd);
aZ=jN.byteLength<eh.byteLength?jN:eh}var iA=F.data.gA;if(iA==null)iA=function(b_){var cU=N?b_:"https://www."+["photo","vector"][gw]+"pea.com/#i"+b_,S=new k6(_.E.c);
S.data={R:_.m.Oe,rS:"linkview",aDS:cU};this.a(S)}.bind(this);if(N)bF.agi(aZ,iA);else this.ce.a7S(aZ,d.name,iA,"psdshared")}}if(M==_.m.YO){var d=this.yP(),hd=!1;
if(d==null)return;if(d.OX){d.ol()}if(F.data.avH){if(!this.IR(d,F.data.avH))return;var x=ii.aFS(d,F.data.avH,this.e);
this.Tn(x);hd=!0}else if(d.nR){if(this.Mi.indexOf(d.nR.wd)!=-1){var x=new Uint8Array(dN.LD("PSD").x2(d,null,null,[!0,!1])),S=new k6(_.E.O,!0);
S.data={R:Z.Ss,xB:d.nR.wd,data:x,id:d.nR.ayR,fO:d.name};S.J=B.pO;this.a(S);alert("Smart Object updated")}hd=!0}else if(this.QI("save")){hd=!0}else if(d.$H){ii.aIX(d);
hd=!0}else if(d.BK){if(d.BK[0]!=0&&!navigator.onLine){alert("Go online to save this file.");return}var kx=ii.auA(d);
if(kx==1){alert("Already saving another file. Try again later.");return}hd=!0}else if(d.TB&&d.TB.YZ){if(!this.IR(d,d.TB.YZ.formats))return;
this.ce.a1n(d,this.e,ii.aAR);hd=!0}else if(d.se&&(gw==0&&"psd jpg png gif webp svg bmp".split(" ").indexOf(d.SO)!=-1||gw==1&&d.SO=="ai")){this.a0g();
return}if(hd){d.Pv()}else{var S=new k6(_.E.c,!0);S.data={R:_.m.rC};this.a(S)}}if(M==_.m.rC){if(!this.e.BQ){alert("function is disabled");
return}if(this.QI("saveAsPSD"))return;var d=this.yP();if(d==null)return;if(!this.IR(d))return;var S=new k6(_.E.O,!0);
S.data={R:Z.Xk};S.J=B.pO;this.a(S);var b0=d.u.length,gX="Your document has "+d.u.length+" layers.";if(b0>1<<15){alert(gX+" PSD files can have up to "+(1<<15)+" layers.",5e3);
return}if(b0>8e3&&!confirm(gX+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var j$={rY:[]};d.root.a9K([],j$);var i0=j$.rY;if(i0.length>11&&!confirm("One layer is nested "+(i0.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+i0.join(" \uD83E\uDC1A ")+"."))return;
var f7=window.showSaveFilePicker;if(window.parent!=window)f7=null;if(f7&&!F.data.ahy){var am={suggestedName:d.name,types:[{description:["PSD","AI"][gw]+" Files",accept:gw==0?{"image/psd":[".p"+"sd"]}:{"application/pdf":[".ai"]}}]};
f7(am).then(function(F){d.se=F;d.name=F.name;d.GF=!0;d.SO="psd";this.a0g()}.bind(this));return}var gf=window.gtag;
if(d.no()&&gf)gf("event",d.SO+":"+y.kd(ht._q()?"\"'|('61":"w'| "),{event_category:"Formats"});if(d.OX){d.ol()}var cC=gw==0?"PSD":"AI",aD=dN.LD(cC);
ht.event("efmt_"+cC.toLowerCase(),.1);if(F.data.ahy){var x=d.SO=="psd"?aD.x2(d):ii._K(d,d.SO,this.e);
this.apA(x,d,this)}else{var x=aD.x2(d);bF.save(x,d.name);d.Pv()}}if(M==_.m.MN)window.open(F.data.link,"_blank");
if(M==_.m.tK){if(this.sX.fV()){this.aaj();return}var d=this.yP(),I=d.u[d.K[0]],k=d.up(I.add.SoLd.Idnt.v);
for(var O=0;O<this.Mi.length;O++){var c_=this.Mi[O].nR;if(c_!=null&&c_.ayR==k.ar&&c_.wd==d){this.MS.ev(O);
return}}bF.fP({name:k.fO,nR:{ayR:I.add.SoLd.Idnt.v,wd:d}},k.raw.buffer,this)}if(M==_.m.atv){var d=this.yP(),I=d.u[d.K[0]],k=d.up(I.add.SoLd.Idnt.v);
bF.save(k.raw.buffer,k.fO)}if(M==_.m.au2){console.log(F.data);bF.fP({name:F.data.BK[1].split("/").pop(),BK:F.data.BK},F.data.PF,this)}if(M==_.m.ami){var d=this.yP();
d.BK=F.data.BK;d.name=d.BK[1].split("/").pop();var S=new k6(_.E.c);S.data={R:_.m.YO};this.a(S)}if(M==_.m.V8){this.ah3()}if(M==_.m.FR){this.alW(F.data.WK,F.data.Zu,F.data.M_)}if(M==_.m.qo){this.aGH(F.data.aAh,F.data.abB,F.data.M_)}if(M==_.m.aD8){var a9=F.data.Y;
if(this.e.fp==B.Q_&&this.re().fV()){var S=new k6(_.E.O,!0);S.J=B.Q_;S.data={R:"insertText",Y:a9};this.a(S);
return}if(a9.startsWith("vcb;")){var jz=JSON.parse(a9.slice(4));jz[0]=fW.akK(jz[0]);var S=new k6(_.E.O,!0);
S.J=B.I6;S.data={R:"append",qc:"Paste Paths",aa$:jz};this.a(S)}else if(a9.startsWith("lrs;")){var g3=a9.split(";"),e3=this.Mi[parseInt(g3[1])];
if(e3==null)return;var c1=this.yP(),dI=e3.K;e3.K=JSON.parse(g3[2]);var kJ=e3.ZO(null,e3!=c1);e3.K=dI;
var S=new k6(_.E.O,!0);S.data={R:Z._P,u:kJ,wd:e3,eK:c1};S.J=B.pO;this.a(S)}else if(a9.startsWith("<!--")||a9.startsWith("<svg")){var cA=P.V4(a9),c2=dN.LD("svg"),c=new kQ("image.p"+"sd");
c2.YH(cA.buffer,c);if(this.Mi.length!=0){var ee=c.u;if(ee.length==3&&ee[0].getName()=="</Layer group>"&&ee[2].EX())ee=[ee[1]];
var S=new k6(_.E.O,!0);S.J=B.pO;S.data={R:Z._P,u:ee,wd:c,eK:this.yP()};this.a(S)}else this.a9k(c)}}if(M==_.m.y9){kv.DS(F.data.ky,this)}if(M==_.m.LS){if(window.parent!=window)window.parent.postMessage(F.data.jg,"*");
this.hi.U_(F.data.jg)}if(M==_.m.KS){var hF=parseFloat(F.data.rS);if(this.e.$0.indexOf(hF)==-1){var S=new k6(_.E.c,!0);
S.data={R:_.m.WF,jg:d3.GI,Y:hF,TB:"add"};this.a(S)}this.hi.ad2(F.data.rS)}if(M==_.m.sr){this.pL.aqP(this.yP(),this.e)}if(M==_.m.Oe){var ic="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var O=0;O<ic.length;O+=2)if(F.data.rS==ic[O]&&this.QI(ic[O+1]))return;if(!this.e.BQ&&F.data.window=="saveforweb"){alert("function is disabled");
return}this.sX.as1(F.data.rS,this.yP(),F.data,this.Mi,this.vl)}if(M==_.m.qM)bF.save(F.data.data,F.data.name);
if(M==_.m.K2){if(!this.sX.fV()||F.vs)this.a9k(F.data.xB)}if(M==_.m.ej){this.MS.ev(F.data.target);var S=new k6(_.E.O,!0);
S.data={R:Z.a1,xB:F.data.xB,Ow:F.data.Ow,PS:F.data.PS};S.J=B.pO;this.a(S);this.la(B.DJ)}if(M==_.m.am2){jp.mE=!jp.mE;
if(this.Mi.length>0)this.yP().vM()}if(M==_.m.ad9){var eH=ht.fM();if(eH!=null&&eH.globals!=null)this.Nd(eH.globals);
this.hT()}if(M==_.m.js){this.ce.VL(F.data.data,null,F.data.lB,F.data.Q7,F.data.aE_)}if(M==_.m.Td){var kz=this.re();
if(!this.sX.gG()!=null)this.la(F.data.J,F.data.U9);var kq=this.re();if(kq!=kz&&F.data.aCu)kq.SY(this.yP(),this,this.e,this.vl,this.MC)}if(M==_.m.oa){if(this.W.aGx)this.la(this.W.aGx)}if(M==_.m.sd){var a7=this.W.map[F.data.J].J,d=this.yP();
a7.Rg(F.data,this,d,this.vl,this.e);if(d)d.Wk=!0;this.aAQ()}if(M==_.m.Rl){var i6=this.W.map[F.data.J];
this.aGC(i6);i6.jC.W_(F.data)}if(M==_.m.WF){var d=this.yP(),hm,bB=!(d&&d.K.length!=0&&d.u[d.K[0]].add.TySh),iV=F.data.jg,eO=F.data.bw,aC=this.e;
if(F.data.TB=="set"){var kq=B.m5[eO[1].classID];if(aC.fp!=kq)this.la(kq);this.W.map[kq].jC.ahP(eO,aC)}if(F.data.TB=="add"){var R=d3.pH[iV];
if(iV==d3.GI){aC.$0.push(F.data.Y);aC.$0.sort(function(b_,cU){return b_-cU})}else if(R==null){if(eO)aC.v7.acp(eO,F.data.a9u);
if(d)d.eD=!0}else{var fq=this.FO(iV);if(iV==d3.UG){fq.QY=fq.QY.concat(eO.QY);fq.fQ=fq.fQ.concat(eO.fQ);
fq=fq.list;eO=eO.list}if(iV==d3.aD&&d){for(var O=0;O<eO.length;O++){var bX=eO[O].Fu.Lefx;if(bX)en.auV(bX,d,aC.We)}}if(iV==d3.Nb&&eO==null){var c=this.W.map[aC.fp].jC.auC();
if(c==null)return;eO=[c]}if(d3.bn[iV]&&eO[0][0]=="_all_")eO=eO[0][2];for(var O=0;O<eO.length;O++)fq.push(eO[O]);
if(iV==d3.Xh){var gb={};for(var O=0;O<fq.length;O++){var dX=fq[O].tV;while(gb[dX]!=null)dX=fq[O].tV=dX+"X";
gb[dX]=!0}}if(F.data.a9u!=!0)if(fq.length!=eO.length||iV==d3.oF||iV==d3.aD||iV==d3.Dd||iV==d3.O)alert(dG.get(R[3])+" "+dG.get([23,1])+".")}}if(F.data.TB=="del"){if(iV==d3.GI){aC.$0.splice(aC.$0.indexOf(F.data.Y),1)}else{var R=d3.pH[iV],cb=F.data.qG,fq=this.FO(iV);
if(iV==d3.UG)fq=fq.list;for(var O=0;O<cb.length;O++)fq[cb[O]]=null;for(var O=0;O<fq.length;O++)if(fq[O]==null){fq.splice(O,1);
O--}alert(dG.get(R[3])+" deleted.")}}if(F.data.TB=="rnm"){var R=d3.pH[iV],fq=this.FO(iV);if(iV==d3.UG)fq=fq.list;
if(fq[F.data.qG[0]]==null)return;R[2].sz(fq[F.data.qG[0]],(F.data.aCG?F.data.aCG:"")+F.data.Y)}if((F.data.TB!=null||F.data.TB=="mdf")&&d3.bn[iV]){var D=this.e.hz,R=d3.pH[iV];
if(D.U$&&!aG.Kj()){var e6=this.FO(iV),gn=jE.jB(e6,R[2]);D.C5["_all_."+R[0]]=gn.buffer;var S=new k6(_.E.c);
S.data={R:_.m.WF,jg:d3.ht};this.a(S)}}if(iV==d3.gv){var a2=F.data.Y;aC.fc=a2;aC.abo[a2.Ef]=a2.v$}if(iV==d3.NJ){var a2=F.data.Y;
aC.YB=j.N(a2);var kf=cK.XC(a2);aC.awb[kf.Ef]=kf.v$}if(iV==d3.Kv){aC.Jn=F.data.Y;var dj=cK.Jn.Mv(),hr=!0;
for(var c in dj)if(aC.Jn[c]==null)hr=!1;if(hr)aC.a7n=j.N(aC.Jn)}if(iV==d3.mU){aC.K0=F.data.Y}if(iV==d3.nq){aC.kx=F.data.Y}if(iV==d3.yp){aC.yc=F.data.yc;
var iB=aC.yc.Uz.FillColor;if(bB&&iB){var dm=iB.Values,fr={t:dm[1]*255,L:dm[2]*255,X:dm[3]*255},dv=j.Vw(fr);
if(aC.y1!=dv){aC.y1=dv;hm=d3.VV}}}if(iV==d3.$B){var q=j.N(F.data.lV),hw=q.useBrushSize;if(hw&&hw.v){q.Brsh.v.Dmtr.v.val=aC.sO.zU.Brsh.v.Dmtr.v.val;
hw.v=!1}aC.sO.zU=q;if(q.Nm==null)return;var gT={hE:"select",iH:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"name",v:{classID:"Brsh",val:q.Nm.v.split("/").pop()}}]}}},i6=this.re();
i6._s=this;i6.track(gT)}if(iV==d3.Wt){aC.fz=F.data.FJ}if(iV==d3.q0){var cu=F.data.FJ,dd=!0,es=null;if(F.data.abE){cu=aC.bw.slice(0);
cu.splice(cu.indexOf(F.data.abE),1)}var ha=cu,g1=aC.bw;if(g1.length>ha.length){var gj=g1;g1=ha;ha=gj;
dd=!1}for(var O=0;O<ha.length;O++)if(g1.indexOf(ha[O])==-1)es=ha[O];bF.uQ("act=3&id="+es+"&dif="+(dd?1:-1));
alert((dd?"Resource added.":"Resource removed.")+" "+es);if(!dd)if(aC.aG1[es])delete aC.aG1[es];aC.bw=cu}if(iV==d3.VV){var gT,hV="Clrs";
if(F.data.vz<2){var fx=F.data.Y,iK=F.data.vz==0,eX=j.qS.NG(j.iW(fx));if(iK)aC.y1=fx;else aC.J2=fx;hV=iK?"FrgC":"BckC";
gT={hE:"set",iH:{__name:"Set",classID:"setd",T:{t:"Objc",v:eX}}}}if(F.data.vz==2){var gj=aC.y1;aC.y1=aC.J2;
aC.J2=gj;gT={hE:"exchange",iH:{__name:"Exchange",classID:"Exch"}}}if(F.data.vz==3){aC.y1=0;aC.J2=16777215;
if(d!=null&&d.K.length!=0&&d.u[d.K[0]].Go==1){var gj=aC.y1;aC.y1=aC.J2;aC.J2=gj}gT={hE:"reset",iH:{__name:"Reset",classID:"Rset"}}}if(gT){gT.iH.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:hV}}]};
var i6=this.re();i6._s=this;i6.track(gT)}}if(iV==d3.JI){aC._2=!aC._2;this.T5()}if(iV==d3.yh){aC.V$=!aC.V$;
this.T5()}var bo=aC.AK;if(iV==d3.H4){bo.Xx=!bo.Xx;this.T5()}if(iV==d3.jD){bo.S8=!bo.S8;this.T5()}if(iV==d3.cB){bo.oT=!bo.oT;
this.T5()}if(iV==d3.sh){bo.sn=!bo.sn;this.T5()}if(iV==d3.y5){bo.rL=!bo.rL;this.T5()}if(iV==d3.cF){bo.a3=!bo.a3;
this.T5()}if(iV==d3.jG){aC.AK=F.data.FJ;this.T5()}if(iV==d3.aq4){aC.oE=!aC.oE;this.T5()}if(iV==d3.pS){aC.p$[F.data.DO]=!aC.p$[F.data.DO];
this.T5()}if(iV==d3.r5){dG.aB0(F.data.lang,this.a4X)}if(iV==d3.tB){aC.di=F.data.di;this.l()}if(iV==d3.ht&&aC.hz.U$){var f8=aC.hz.U$.transaction(["rsrc"],"readwrite").objectStore("rsrc"),dT={k:"fs0",fset:aC.hz.C5};
if(F.data.aDh)dT={k:aC.hz.id,fset:aC.hz.Hm};var it=Object.keys(dT.fset).length==0?f8.delete(dT.k):f8.put(dT);
it.onerror=function(F){console.log(F);alert("Storing failed. Browser says: "+F.target.error.message,7e3)}}this.RQ(iV);
if(hm)this.RQ(hm)}};hu.prototype.a0g=function(){var F=this.yP();console.log(F.NF);if(F.NF)return;F.NF=!0;
var r=new k6(_.E.c,!0);r.data={R:_.m.O7,Sm:"Saving ..."};this.a(r);setTimeout(function(){var r=new k6(_.E.c,!0);
r.data={R:_.m.rC,ahy:!0};this.a(r)}.bind(this),20)};hu.prototype.apA=function(F,r){r.se.createWritable().then(function($){$.write(F);
return $}).then(function($){return $.close()}).then(function($){r.Pv();r.NF=!1;var C=new k6(_.E.c,!0);
C.data={R:_.m.hF,Sm:"Saving ..."};this.a(C)}.bind(this)).catch(function($){r.NF=!1;var C=new k6(_.E.c,!0);
C.data={R:_.m.hF,Sm:"Saving ..."};this.a(C)}.bind(this))};hu.prototype.axH=function(){var F=this.e,r=F.bw,$=F.aG1;
for(var O=0;O<r.length;O++){var C=r[O];if($[C])continue;$[C]=!0;this.ce.g2(C,!0)}};hu.prototype.azJ=function(){this.l();
this.T5()};hu.prototype.QI=function(F){var r=this.e.a2y[F];if(r){var $=new k6(_.E.c,!0);$.data={R:_.m.y9,ky:r};
this.a($)}return r!=null};hu.prototype.IR=function(F,r){var $=!0,k=15;if(r){$=!1;for(var O=0;O<r.length;
O++)if(r[O].startsWith(y.iE("__M")))$=!0}var C=F.no()||F.nR&&F.nR.wd.no();if(this.mH())C=!1;var M=new y.uJ[b3.a1P],l=(M[y.kd("xy,b-66:")]()&1)*60+M[y.iE("VQ]3LNRN<G")]();
if(C&&!ht._q()&&l>k&&$){var d=y.uJ[y.kd("}$z{2*35")][y.kd("y'|!")],I=y.iE("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
I+="\n\n"+y.iE("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-l+120)+y.iE("nYRTXTBMd");
if(d.indexOf(y.kd("\"|'/-1)(W0?@"))==-1)I=dG.get([0,11+6,3+2]);y.uJ._cwY(I);return!1}return!0};hu.prototype.FO=function(F){var r=this.e,$=[d3.UG,d3.PP,d3.YW,d3.Dd,d3.ve,d3.Xh,d3.aD,d3.oF,d3.O,d3.Nb,d3.SK],C=[r.sO,r.Bl,r.Ra,r.Uy,r.We,r.y_,r.md,r.aAb,r.HF,r.KM,r.aJr];
return C[$.indexOf(F)]};hu.prototype.aAO=function(F,r){var $=this.FO(F);console.log($);if(r){var C=F==d3.UG,M=[];
for(var O=0;O<r.length;O++)M.push((C?$.list:$)[r[O]]);$=C?{fQ:$.fQ,QY:$.QY,list:M}:M}if(F==d3.aD){var l=new kQ;
for(var O=0;O<$.length;O++){var k=$[O].Fu.Lefx;if(k)en.azy(k,l,this.e.We)}$={nG:l.add.Patt?l.add.Patt:[],nt:$}}if(F==d3.Nb){var d=this.e.sO;
$={QY:[],fQ:[],list:$};console.log($)}console.log($);var I=d3.pH[F];return I[2].Ns($)};hu.prototype.ah3=function(){var F=this.alW(),r=this.yP();
if(r==null||r.K.length==0)return;var $=r.u[r.K[0]],C=new k6(_.E.O);if(F==1){C.J=B.I6;C.data={R:"remove",qc:"Cut Paths"}}else{C=new k6(_.E.wG);
C.data={hE:"delete"}}this.a(C)};hu.prototype.alW=function(F,r,$){if(F==null)F=!1;var C=this.e;console.log("doCopy",F,r);
var M=this.yP();if(C.fp==B.Q_&&this.re().fV()){var l=new k6(_.E.O,!0);l.J=B.Q_;l.data={R:"copyText"};
this.a(l);return}if(M==null||M.K.length==0&&!F)return;var k=M.u[r==null?M.K[0]:r],d=M.Ug(),I=d[0],c=d[1],Q=I[c[0]];
if(!F&&Q!=null&&Q.add.vmsk.K.length!=0){var x=B._J.r$(Q.add.vmsk,Q.add.vogk);if(y.qI()){x[0]=fW.aAj(x[0]);
var U="vcb;"+JSON.stringify(x);bF.w_(new Blob([U],{type:"text/plain"}))}else C.Rz=x;return 1}else if(M.d==null){if(y.qI()){var U="lrs;"+this.Mi.indexOf(M)+";"+JSON.stringify(M.K);
bF.w_(new Blob([U],{type:"text/plain"}))}}else{var S,z;if(F){var V=new cS(0,0,M.r,M.$);z=V.R7(M.d.S);
S=j.j(z.C()*4,M.depth);j.mR(M.Ez(),V,S,z);j.PO(M.d.G,M.d.S,S,z)}else if(M.GY.length!=0){z=M.d.S.P();
S=j.j(z.C()*4,M.depth);var t=M.Bs[M.GY[0]],Y=t.JL(z);j.Wn(Y,S);j.dr(M.d.G,S,3)}else{var i=k.d5(M,M.d);
if(i==null){alert("Copied area is empty");return}S=i.PF;z=i.S}var J=M.f.BS,H=J[0]+J[1]+J[2];if(H==1){var v=J.indexOf(1);
for(var O=0;O<S.length;O+=4)S[O]=S[O+1]=S[O+2]=S[O+v]}var n=new hx(M.r,M.$);if(y.qI()&&$!=!0){var G=dN.LD("PNG").axE(S.buffer,z.r,z.$,M.depth);
bF.w_(new Blob([new Uint8Array(G)],{type:"image/png"}));this.aCO={OV:z,KV:n}}else C.TT={buffer:S,S:z,KV:n};
C.a5d=z.P();C.Rz=null}};hu.prototype.aGH=function(F,r,$){if(r)this.aK5=!0;console.log("doPaste");var C=this.e,M=C.TT,I;
if(this.Mi.length==0){if(!F&&y.qI()){bF.GV(this,null);return}if(M){var l=dN.FS("image.p"+"sd",[{data:M.buffer.buffer,$Y:M.S}]),k=new k6(_.E.c);
k.data={R:_.m.K2,xB:l};this.a(k)}return}var l=this.yP();if(C.fp==B.Q_&&this.re().fV()){bF.GV(this,null);
return}var d=l.u[l.K.length==0?l.u.length-1:l.K[0]];if(C.Rz){var c=l.Ug(!0),Q=c[0],x=c[1];I=Q[x[0]]}var k=new k6(_.E.O,!0);
if(C.Rz!=null&&I!=null){k.J=B.I6;k.data={R:"append",qc:"Paste Paths",aa$:C.Rz}}else if(!F&&y.qI()&&$!=!0){bF.GV(this,this.a6F.bind(this));
return}else{if(M==null)return;if(l.DI(!1)&&(l.f.BS.join("")!="111"||l.GY.length!=0||d.Go>0||d.S.XS())){k.J=B.UG;
k.data={R:"draw",aiJ:!0,qc:[5,2]}}else{k.J=B.pO;k.data={R:Z.Y0,aGR:this.aK5};this.aK5=!1}k.data.TT=M;
if(M.S.x==0&&M.S.y==0){var U=l.f.FL,S=l.f.uc(l.r/2,l.$/2),z=l.r-M.S.r,V=l.$-M.S.$;if(U.m_(S)){M.S.x=z>>1;
M.S.y=V>>1}else{S=l.f.Ti(U.r/2,U.$/2);console.log(S);M.S.x=Math.max(0,Math.min(z,Math.round(S.x-M.S.r/2)));
M.S.y=Math.max(0,Math.min(V,Math.round(S.y-M.S.$/2)))}}}this.a(k)};hu.prototype.a6h=function(){var F=this.e.v7;
if(F.ai5())return;for(var O=0;O<this.Mi.length;O++){var r=this.Mi[O];if(!dJ.H$(r,F,this))continue;if(r.Zp)dJ.Gf(r,F,this);
var $=r.add.lnk2;if($)for(var C=0;C<$.length;C++){var M=$[C];if(M.Zp)B.tt.$f(r,M.ar,M,M,F)}if(r.a9_)continue;
r.a9_=!0;if(r.TB&&r.TB.aDs)kv.DS(r.TB.aDs,this);this.Tn();var l=new k6(_.E.O);l.J=B.tl;l.data={R:"start",kh:"blurbTransform"};
var k=new k6(_.E.c);k.data={R:_.m.KS,rS:df.sy.VK};k.data={R:_.m.Oe,rS:"saveforweb",$I:9,index:[10,0]}}};
hu.prototype.RQ=function(F){this.axH();var r=this.e,$=r.fp,d=!1;if(F==d3.$B){if(this.W.map[$].jC)this.W.map[$].jC.Db(r,F)}else for(var C in this.W.map)if(this.W.map[C].jC)this.W.map[C].jC.Db(r,F);
if(F==d3.r3){if($!=B.Q_)this.W.map[B.Q_].J.Db(r,F);this.a6h()}this.MS.Db(r,F);this.DK.Db(r,F);this.sX.Db(r,F);
if(gw==1&&F==d3.Kv){var M=new k6(_.E.O,!0);M.J=B.pO;M.data={R:Z.G4};this.a(M)}else this.re().Db(r,F);
this.hi.Db(r,F);this.Sp.Db(r,F);if(gw==1)this.yG.Db(r,F);if(F==d3.tB||F==d3.BN){at.awB(r.di);this.update(!0)}var l=r.yc,k=l.Uz.Font;
if(F==d3.yp&&k!=null&&l.WX[k].Name!=r.font){r.font=l.WX[k].Name;d=!0}if([d3.GI,d3.Wt,d3.q0,d3.VV,d3.JI,d3.yh,d3.jG,d3.cB,d3.sh,d3.H4,d3.jD,d3.y5,d3.cF,d3.r5,d3.tB].indexOf(F)!=-1||d)this.aAQ()};
hu.prototype.aAQ=function(){if(!this.V_)return;var F=[],r=this.W.map;for(var $ in r){var C=r[$].J;if(C.tY&&C.tY()!=null)F.push(parseInt($),C.tY())}var M=this.e,l=M.AK,k={};
if(l.Kl!=8421504)k.gc=l.Kl;if(l.da!=65535)k.uc=l.da;if(l.d1!=33023)k.lc=l.d1;if(l.oS!=20)k.gs=parseFloat(l.oS.toFixed(2));
if(l.aC!=0)k.gu=l.aC;if(l.RL!=0)k.gt=l.RL;if(l.qU!=0)k.ru=l.qU;if(l.sn!=!1)k.gr=l.sn?1:0;if(l.oT!=!0)k.gd=l.oT?1:0;
if(l.Xx!=!0)k.se=l.Xx?1:0;if(l.S8!=!0)k.pa=l.S8?1:0;if(l.rL!=!0)k.pg=l.rL?1:0;if(l.a3!=!0)k.sl=l.a3?1:0;
var d={};if(M.y1!=0)d.fc=M.y1;if(M.J2!=16777215)d.bc=M.J2;if(M._2!=!1)d.ru=M._2?1:0;if(M.V$!=!0)d.ex=M.V$?1:0;
if(M.fz.length!=0)d.ff=M.fz.join(",");if(M.bw.length!=0)d.rs=M.bw.join(",");if(M.di!=1)d.theme=M.di;
if(M.E3!=0)d.co=M.E3;if(M.font!=null&&M.font!="DejaVuSans")d.fo=M.font;var I=df.awq(M.$0);if(I.length!=0)d.pd=I;
if(F.length!=0)d.to=F;if(dG.ZI()!="en")d.lang=dG.ZI();if(Object.keys(k).length!=0)d.ep=k;var c=ht.fM();
if(c==null)c={};c.globals=d;ht.bx(c)};hu.prototype.IB=function(F){var r=this.vl,$=this.MC,C=this.e.fp,M=this.W.map[C].J,l=null,k=!1;
for(var O=0;O<this.W.a33.length;O++){var d=this.W.a33[O],I=!0;for(var c=0;c<d.J9.length;c++){var Q=d.J9[c];
if(!r.D(Q))I=!1}if(I&&(!d.EJ||!M.fV())&&(d.xJ==null||d.xJ.indexOf(C)!=-1)){l=d.J;k=d.EJ;break}}if((!$.HY||C==B.ov||F)&&this.W.ZX!=l&&(l!=C||!k)){var x=this.yP();
if(this.W.ZX!=null&&l==null)this.re().disable(x,this,this.e,r,!0);this.W.ZX=l;this.re().enable(x,this,this.e,r,l!=null&&l!=C)}};
hu.prototype.Uk=function(F){var r=this.e.fp,$=this.yP();if(r!=null){this.W.map[r].J.disable($,this,this.e,this.vl)}};
hu.prototype.aGC=function(F){if(F.jC==null){F.jC=new F.Z4(F.J.id);F.jC.aax(F.J.id,F.J.h6);F.jC.Db(this.e,d3.BN);
F.jC.l()}};hu.prototype.la=function(F,r){if(F==B.DJ&&this.sX.gG())return;var $=this.yP(),C=this.e;if(this.W.map[F].J.aa($,C,r)){this.Uk();
if(F!=C.fp)this.W.aGx=C.fp?C.fp:B.uo;C.fp=F;this.DK.la(C.fp);var M=this.W.map[F];this.W.ph[M.Mr]=M.a6D;
this.aGC(M);this.Wp.a9b(gw==0?M.jC:this.yG);var l=M.J;l.enable($,this,this.e,this.vl,!1,r);if($)$.Wk=!0;
this.T5();this.Vb.a5e()}};hu.prototype.re=function(F){var r=this.W,$=r.Qo,C=r.ZX,M=this.e.fp;if($)M=$;
else if(C&&F==null)M=C;return r.map[M].J};hu.prototype.a9k=function(F){var r=this.e,$=this.Mi.indexOf(F);
if($!=-1){this.MS.ev($);return}if(this.axb&&(F.TB==null||F.TB.YZ==null)){F.TB={YZ:this.axb}}if(F.Xc==null){F.Xc="local,"+this.a6Y+","+F.name;
this.a6Y++}F.adS=Date.now();if(gw==1&&F.add.arts==null)F.a9Q();if(aG.gU()!=0&&!this.ay0&&y.uJ[y.kd("t$&!'31")].toString().indexOf(y.kd(" u,$4&"))==-1){alert(y.kd("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var O=0;O<F.u.length;O++){var C=F.u[O];if(C.add.SoLd!=null){var M=Date.now()}}var l=F.u.length,k=b3.Zy(),d=Math.PI*(6550<<14)+(y.oK(31)?20:10)*7e7;
if(k>d){var l=F.u.length;F.u=[];return l}if(jp.mE){jp.bW(Math.max(F.r,F.$),F.depth);for(var O=0;O<F.u.length;
O++){var C=F.u[O];if(C.he())jp.bW(Math.max(C.S.r,C.S.$))}}F.CJ();F.mC();if(F.a0l)F.aE2();else F.vM();
F.a0l=!1;this.Mi.push(F);this.MS.gc(new bZ(F));F.Wk=!0;F.eD=!0;this.a6h();if(this.aby)this.KF(1);var I=new k6(_.E.O);
I.J=B.tZ;I.data={R:"auto",N0:2}};hu.prototype.yP=function(){return this.Mi[this.a59]};hu.prototype.a8w=function(){return this.sX.gG()==null};
hu.prototype.p0=function(F,r){this.Uk();var $=this.Mi.length;if(r!=null)this.MS.ev((this.MS.Wm()+r+$)%$);
this.a59=this.MS.Wm();var C=this.yP();this.Sp.NX(C,this.e);if(gw==1)this.yG.NX(C,this.e);this.hi.wK(C,this.Mi,this.e);
this.T5();if(C)C.Wk=!0};hu.prototype.axR=function(F){this.Uk();var r=this.Mi,$=r[F.data.od];r.splice(F.data.od,1);
if(r.length==0){this.p0(F);var C=jp.q6(),M=bZ.FX.XG;if(C.parentNode)C.parentNode.removeChild(C);if(M.parentNode)M.parentNode.removeChild(M)}this.a5x($.name)};
hu.prototype.a5x=function(F){var r=this.e.hz,$=!1;if(r.U$==null)return;for(var C in r.Hm){if(F==null||C==F){delete r.Hm[C];
$=!0}}if($){var M=new k6(_.E.c);M.data={R:_.m.WF,jg:d3.ht,aDh:!0};this.a(M)}};hu.prototype.aHH=function(F){var r=[],$=F.data.a4R;
for(var O=0;O<$.length;O++)r[O]=this.Mi[$[O]];this.Mi=r;this.a59=this.MS.Wm()};hu.prototype.agQ=function(F){var r=this.MS,$=r.a7c(),C=this.re(),M=this.yP();
if($==r.Wm()||!C.aBl())return;this.ar8($,C)};hu.prototype.ar8=function(F,r){console.log("dup2doc");var $=this.e,C=this.MS,M=this.yP(),l=this.Mi[F],k,d=new k6(_.E.O,!0);
d.J=B.pO;if(M.d==null){d.data={R:Z._P,u:M.ZO(null,!0),wd:M,eK:l,asj:r==null};this.a(d)}else k=M.u[M.K[0]].d5(M,M.d);
var I=this.MC,c=$._2;$._2=!1;I=M.f.Ti(I.x,I.y);if(r)r.x1(M,this,$,this.vl);C.ev(F);if(M.d){d.data={R:Z.Y0,TT:{buffer:k.PF,S:k.S}};
this.a(d)}I=l.f.uc(I.x,I.y);if(r)r.SY(l,this,$,this.vl,I);$._2=c};hu.prototype.amd=function(F){var r=this.yP(),$=this.vl,C=this.e,M=F.W4;
if(M)this.MC=M;if(M)M.y-=C.E3;if(this.ahd==null)this.ahd=0;if(F.action=="multidown"){this.ML=F.e6.length;
this.ahd=Date.now()}if(F.action=="up"&&Date.now()-this.ahd<100){var l=new k6(_.E.O);l.J=B.sT;l.data={R:this.ML==2?"h_stepbck":"h_stepfwd"};
this.a(l)}if(F.action.startsWith("multi")){var k=new k6(_.E.O,!0);k.data={R:F.action,e6:F.e6};k.J=B.Li;
this.a(k);return}var d=this.W.map[B.uo].J;if((F.action=="down"||F.action=="rdown")&&C.fp!=B.uo&&this.W.ZX!=B.uo&&d.afs(r,this,C,$,M)){this.W.Qo=B.uo;
d.enable(r,this,C,$,!0)}if(F.action=="idown"){$.DQ("Space");this.IB(!0);F.action="down"}var I=this.sX.gG(),c=I!=null&&I.g4()&&this.W.ZX==null?I:this.re();
if(F.action=="scroll"){var Q=!$.D(ac.Xf)&&F.u6,x=$.D(ac.AH);if(window.locStor.getItem("__zwh")=="1")x=!x;
var k=new k6(_.E.O,!0);k.data={R:"scroll",EB:F.EB.P(),W4:M,ar7:Q};k.J=x||Q?B.Li:B.H1;this.a(k)}if(I!=null&&c!=I&&this.sX.fV()&&c.id!=B.H1&&c.id!=B.Li)return;
if(F.action=="down")c.SY(r,this,C,$,M);if(F.action=="rdown")c.tf(r,this,C,$,M);if(F.action=="move")c.GQ(r,this,C,$,M);
if(F.action=="up"||F.action=="iup"||F.action=="cancellast")c.pf(r,this,C,$,M,F.action=="cancellast");
if(F.action=="rup")c.ql(r,this,C,$,M);if(F.action=="iup"){$.RU("Space");this.IB(!0)}if(F.action=="cancellast"){if(r&&r.history.length!=0&&Date.now()-r.history[r.history.length-1].atl<200){var l=new k6(_.E.O);
l.J=B.sT;l.data={R:"h_stepbck"};this.a(l)}}var U=this.hi;if(F.action=="down")U.SY(r,this,C,$,M);if(F.action=="move")U.GQ(r,this,C,$,M);
if(F.action=="up")U.pf(r,this,C,$,M);if(F.action=="down"||F.action=="up"){this.IB()}if(F.action=="down"||F.action=="up"||F.action=="ctx"){r.Wk=!0}if((F.action=="up"||F.action=="rup")&&this.W.Qo){this.W.Qo=null;
d.disable(r,this,C,$)}if(r&&C._2)r.eD=!0};hu.prototype.$_=function(F){var r=this.yP(),$=this.MC;if(r&&this.re().j0($,this.vl)){var C=r.f,M=C.FL.r,l=C.FL.$,k=0,d=0,I=16;
if($.x<I)k=I-$.x;if($.x>M-I)k=$.x-(M-I);if($.y<I)d=I-$.y;if($.y>l-I)d=$.y-(l-I);var c=this.vl.D(ac.il)?8:1;
if((k!=0||d!=0)&&(r.r*C.bU>M||r.$*C.bU>l)){k=Math.min(5,k*.5)*c;d=Math.min(5,d*.5)*c;if($.x>I)k=-k;if($.y>I)d=-d;
C.p.x+=k;C.p.y+=d;this.amd({W4:this.MC,action:"move"});r.GF=!0}}this.update()};hu.prototype.update=function(F){var r=this.yP();
if(r==null)return;if(gw!=0){if(r.buffer)throw"e"}if(r.Wk){var $=this.W.map;for(var C in $){if($[C].J.zN)$[C].J.zN(r,this,this.e,this.vl)}if(gw==1){$[B.Bh].J.zN(r,this,this.e,this.vl,!0)}}if(r.OX&&gw==0)if(jp.mE)jp.bW(Math.max(r.r,r.$));
if(r.OX&&gw==0){r.ol()}var M=r.f,l=this.MF,k=this.MF=Date.now();if(r.OX||r.Dn||r.eD||r.GF||F||M.j3!=M.bU||!M.b_.Mp(M.p)){var d=M.j3;
if(M.j3!=M.bU){var I=B.aB.al9(M.bU,M.j3>M.bU),c=.12;if(M.j3<M.bU&&M.j3<I)M.j3=I;if(M.j3>M.bU&&M.j3>I)M.j3=I;
var Q=Math.abs(M.bU-I)*(k-l)*.001/c;if(M.j3<M.bU)M.j3=Math.min(M.bU,M.j3+Q);else M.j3=Math.max(M.bU,M.j3-Q)}var x=d==M.bU?0:(M.j3-M.bU)/(d-M.bU);
M.b_.x=M.p.x+x*(M.b_.x-M.p.x);M.b_.y=M.p.y+x*(M.b_.y-M.p.y);this.MS.Db(this.e,null);this.MS.wK(r,this.Mi)}if((r.OX||r.GF||r.Wk)&&(!this.MC.HY||r.Wr)){if(r.Wk)r.mC();
this.hi.wK(r,this.Mi,this.e);this.DK.am1(r,this.vl);if(gw==1)this.yG.wK(r);r.eS=!1}r.Wr=!1;r.Wk=!1;r.OX=null;
r.Dn=r.eD=r.GF=!1};hu.prototype.c3=function(F){var r=F.target.tagName.toLowerCase(),$=F.target.getAttribute("type"),C=ac,M=C.Dh(F.code,C.t7);
if(!((r=="input"||r=="select"||r=="button")&&C.Dh(F.code,C.FV))){if(C.ah$(F)&&r!="select"){F.preventDefault()}this.vl.DQ(C.gp(F));
this.JG("down")}};hu.prototype.f8=function(F){if(F.key==" ")this.vl.mI();if(ac.Dh(F.code,ac.arC))this.vl.reset();
this.vl.RU(ac.gp(F));var r=F.target.tagName.toLowerCase();if(ac.ah$(F)&&r!="select"){F.preventDefault()}this.JG("up")};
hu.prototype.JG=function(F){var r=this.vl,$=this.yP(),C=$!=null&&$.K.length!=0;if(this.pL.gG()!=null){if(r.D(ac.Pl)||r.D(ac.t7)){this.pL.ai4()}return}this.IB();
var M=this.qg(ac.Xf),l=r.D(ac.AH),k=r.D(ac.il);if(M&&r.D(ac.zq)&&F=="down"){var d=new k6(_.E.O),I=new k6(_.E.c);
d.J=B.sT;if(k){d.data={R:"h_stepfwd"}}else{d.data={R:"h_stepbck"}}if(this.sX.gG()!=null&&this.sX.gG().fV()){}else this.a(d)}if(M){var d=new k6(_.E.O),c=new k6(_.E.wG),I=new k6(_.E.c);
if(r.D(ac.Ey)&&r.D(ac.eX)){I.data={R:_.m.Oe,rS:"storwindow"};this.a(I)}if(!l&&F=="down")for(var Q in f0.keys){var x=f0.keys[Q],U=!0;
for(var O=0;O<x.length;O++)if(!r.D(x[O]))U=!1;if(U){d.J=B.tZ;if(Q=="hue2"&&k&&$.u[$.K[0]].add.SoLd==null)d.data={R:"auto",N0:3};
else d.data={R:"start",yn:Q}}}if(r.D(ac.m)){if(l){c.data={hE:"selectAllLayers",iH:{classID:"null",null:cQ.sZ("Lyr",!0)}}}else c.data=B.u_._N(!0)}if(r.D(ac.gZ)){if(l)I.data={R:_.m.Oe,rS:"csize"};
else if($)I.data={R:_.m.FR,WK:k}}if(r.D(ac.m8)&&$.d){c.data=B.u_._N()}if(r.D(ac.E)&&F=="down"){if(k)c.data={hE:"mergeVisible"};
else if(dE.nz($).T)c.data={hE:"mergeLayersNew",iH:{__name:"Merge Layers",classID:"Mrg2"}}}if(r.D(ac.EO)){if(k&&this.e.fp!=B.DJ)I.data={R:_.m.Oe,rS:"afw_fade"};
else if(l){d.J=B.tl;d.data={R:"applylast"}}else I.data={R:_.m.sr}}if(r.D(ac.HO)){if(l&&$&&$.HC($.K[0])){d.J=B.pO;
d.data={R:Z.Uw}}else{d.J=B.pO;d.data={R:Z.dY,kK:k}}}if(gw==1&&r.D(ac.GG)){d.J=B.pO;d.data={R:Z.dY,Ge:!0,kK:l}}if(r.D(ac.Et)){I.data={R:_.m.WF,jg:d3.yh}}if(r.D(ac.Ey)){if(k){d.data=null;
if(l)I.data={R:_.m.Oe,rS:"finfo"};else c.data={hE:"inverse"}}else if(l)I.data={R:_.m.Oe,rS:"isize"}}if(r.D(ac.Lt)){c.data={hE:(k?"cut":"copy")+"ToLayer"}}if(r.D(ac.pT)){I.data={R:_.m.Oe,rS:"preferences"}}if(r.D(ac.ls)){if(k){d.J=B.pO;
d.data={R:Z.M1}}else if(F=="down")I.data={R:_.m.Oe,rS:"newproject"}}if(r.D(ac.tT)){if(l)I.data={R:_.m.Oe,rS:"storwindow",IL:0};
else{I.data={R:_.m.u7};r.reset()}}if(r.D(ac.nh)){I.data={R:_.m.Oe,rS:"saveforweb",$I:3,asL:!0}}if(r.D(ac.sy)){I.data={R:_.m.WF,jg:d3.JI}}if(r.D(ac.vi)&&F=="down"){if(k){if(l)I.data={R:_.m.Oe,rS:"saveforweb"};
else I.data={R:_.m.rC}}else I.data={R:_.m.YO}}if(r.D(ac.FM)){if(k){d.J=B.pO;d.data={R:Z.K7};this.a(d);
d.J=B.DJ;d.data={R:"again"}}else I.data={R:_.m.Td,J:B.DJ}}if(r.D(ac.JC)){I.data={R:_.m.qo}}if(r.D(ac.aml)){this.MS.qP()}if(r.D(ac.sa)&&$&&$.azP()){I.data={R:_.m.V8}}if(r.D(ac.Qw)&&$){d.J=B.Li;
d.data={R:"prvw"}}if(r.D(ac.Sz)||r.D(ac.wv)){d.J=B.pO;d.data={R:Z.ga,vz:0};if(r.D(ac.Sz))d.data.vz=k?3:2;
else d.data.vz=k?0:1}if(r.D(ac.gu)&&$&&$.K.length!=0){var S=$.u[$.K[0]].rR();c.data={hE:S?"hide":"show",iH:{classID:"null",null:{t:"VlLs",v:[cQ.sZ("Lyr",!0)]}}}}if(r.D(ac.t7)&&$){var z=0;
if(k)z++;if(l)z+=2;d.J=B.gI;d.data={R:"frompath",Fo:[null,0,z]}}if(r.D(ac.PV)){c.data=B.i0.bY(0)}if(r.D(ac.FV)){var V=this.Mi.length,t=r.D(ac.il)?-1:1;
if(V>1)this.MS.ev((this.MS.Wm()+V+t)%V)}if(r.D(ac.Nz)){I.data={R:_.m.WF,jg:d3.cB}}if(r.D(ac.OU)){I.data={R:_.m.WF,jg:d3.sh}}B.aB.acL(r,d);
if(this.sX.gG()!=null&&this.sX.gG().fV()){}else{if(d.data)this.a(d);if(c.data)this.a(c);if(I.data)this.a(I)}}if(!M&&l){var Y;
if(r.D(ac.Sz))Y="Bckw";if(r.D(ac.wv))Y="Frwr";if(r.D(ac.gu))Y="Back";if(r.D(ac.PV))Y="Frnt";if(Y){var c=new k6(_.E.wG);
c.data={hE:"select",iH:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:Y}}]},MkVs:{t:"bool",v:!1}}};
this.a(c)}}if($&&$.K.length!=0){var i=$.u[$.K[0]],J=i.Go;if(J==1||J==3||M){var d=new k6(_.E.O),H=J==3?i.WZ($).Lj:i.rc();
if(H){var v=H.Nn?$.f.BS.join("")=="111"?1:2:0;d.J=B.Li;if(H&&r.D(ac.Pl)&&v!=0){d.data={R:"mskView",Y:0}}if(H&&r.D(ac.anO)){d.data={R:"mskView",Y:v==1?0:1}}if(H&&r.D(ac.at6)){d.data={R:"mskView",Y:v==2?0:2}}if(d.data)this.a(d)}}}var n=r.Iy();
if($&&M&&2<=n&&n<=5){var G=[1,1,1];if(n>2){G=[0,0,0];G[n-3]=1}var g=new k6(_.E.O,!0);g.J=B.H1;g.data={R:"setcls",BS:G};
this.a(g)}if(!r.D(ac.Xf)&&!l&&F=="down"){var d=new k6(_.E.O),I=new k6(_.E.c),W=this.W.map[this.e.fp],L=-1;
for(var O=0;O<this.W.keys.length;O++)if(this.W.keys[O]&&this.qg(this.W.keys[O]))L=O;if(L!=-1){var b=null;
if(W.Mr!=L)b=this.W.ph[L];if(W.Mr==L&&k)b=(W.a6D+1)%this.W.TO[L].length;if(b!=null){var T=this.W.TO[L][b].J.id,a=this.e.Jm;
if((a==null||a.indexOf(parseInt(T))!=-1)&&!this.MC.HY)I.data={R:_.m.Td,J:T}}}if(r.D(ac.Et))I.data={R:_.m.Td,J:B.H1};
if(r.D(ac.sy))I.data={R:_.m.Td,J:B.MI};if(r.D(ac.sa))I.data={R:_.m.WF,jg:d3.VV,vz:2};if(r.D(ac.m8))I.data={R:_.m.WF,jg:d3.VV,vz:3};
if(I.data)this.a(I);if(r.D(ac.alq)&&$&&$.K.length==1){var i=$.u[$.K[0]];d.J=B.pO;var R=i.aV(0)||i.aV(1)||i.aV(2)||i.aV(31);
d.data={R:Z.fu,FJ:R?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[0]]};this.a(d)}var n=r.Iy();if(C&&n!=-1&&this.qg(ac.wL[n])){var D=$.K[0],i=$.u[D],h=ac.a8d(Math.round(100*i.gk/255),n);
d.J=B.pO;d.data={R:Z.fs,FJ:Math.round(255*h/100)};this.a(d)}var K=this.e.v8;if(r.D(ac.FV)){I.data={R:_.m.Xa,Y:K==0?1:0};
this.a(I)}if(r.D(ac.EO)||r.D(ac.Pl)&&K==2){var X=document.fullscreenElement!=null==(K==2);I.data={R:_.m.Xa,Y:K==0?2:0,Mh:X};
this.a(I)}if(r.D(ac.ahK)&&!this.MC.HY){d.J=B.gI;d.data={R:"qmask"};this.a(d)}}if(!r.D(ac.Xf)&&!l&&k){var d=new k6(_.E.O),I=new k6(_.E.c);
if(r.D(ac.gu))I.data={R:_.m.Oe,rS:"shortcuts"};if(r.D(ac.aCQ))I.data={R:_.m.Oe,rS:"fill"};if(r.D(ac.aDR))I.data={R:_.m.Oe,rS:"sel_feather"};
if(C&&(r.D(ac.Ur)||r.D(ac.Qb))){var D=$.K[0],i=$.u[D],w=dL.NH,N=w.length,s=w.indexOf(i.ww);d.J=B.pO;
d.data={R:Z.CC,FJ:(s+N+(r.D(ac.Ur)?1:-1))%N};this.a(d)}if(I.data)this.a(I)}var d=new k6(_.E.O),A=F=="down"&&(this.qg(ac.g7)||this.qg(ac.Qh));
if((M||l)&&A){d=new k6(_.E.wG);d.data=B.k7.w8(M?"BckC":"FrgC");this.a(d)}else if(this.sX.gG()==null&&$&&A&&!this.MC.HY){if($.d!=null){d=new k6(_.E.wG);
d.data={hE:"delete"}}else if($.K.length!=0){var i=$.u[$.K[0]];if(i.Go==1)d.data={R:Z._C};else if(i.Go==3)d.data={R:Z.MY};
else d.data={R:Z.O9};d.J=B.pO}this.a(d)}if(this.sX.gG()!=null){if(r.D(ac.Pl)){this.sX.gG().aCz()}else{this.sX.gG().JG($,this,this.e,r)}}if(this.e.fp==null)return;
var W=this.re();if(this.sX.gG()==null||this.W.ZX)W.JG($,this,this.e,r)};hu.prototype.qg=function(F){var r=this.vl,$=this.W.map[this.e.fp].J,top=this.sX.gG(),C=this.yP();
return r.D(F)&&!$.fI(F,C)&&(top==null||!top.fI(F,C))};hu.prototype.KF=function(F){var r=this.ah1,$=this.Ig;
this.e.v8=F;var C=y.D4,M=this.Sp._;if(C(M))this.u1.removeChild(M);var l=this.Wp._;if(C(l))this.u1.removeChild(l);
var k=this.DK._;if(C(k))r.removeChild(k);var d=this.MS._;if(C(d))r.removeChild(d);var I=this.hi._;if(C(I))r.removeChild(I);
if(F==0){this.u1.appendChild(M);this.u1.appendChild(l);$.appendChild(r);r.appendChild(k);r.appendChild(d);
r.appendChild(I)}if(F==1){this.u1.appendChild(M);r.appendChild(d)}if(F==2){r.appendChild(d)}this.MS.KF(F==2?1:0);
this.T5()};hu.prototype.a53=function(F){if(this.mH())return 1;if(y.a7m()==0){this.e={};this.Xt=function(r,$){return Math.sqrt(r*$)}}return-1};
hu.anz=function(){var F=gw==0?[[{J:new B.qW,Z4:dS},{J:new B.et,Z4:fg}],[{J:new B.k0,Z4:h2,qO:0},{J:new B.Kk,Z4:fj,qO:0}],[{J:new B.IV,Z4:h0,qO:0},{J:new B.bi,Z4:dh,qO:0},{J:new B.ry,Z4:fY,qO:0}],[{J:new B.Ny,Z4:aI,qO:0},{J:new B.Ki,Z4:iR,qO:0},{J:new B.dQ,Z4:aP,qO:0}],[{J:new B.ace,Z4:c9},{J:new B.aiI,Z4:gz},{J:new B.ft,Z4:ex,qO:0},{J:new B.dp,Z4:eR,qO:0}],[{J:new B.$r,Z4:bO},{J:new B.zo,Z4:a5,qO:0},{J:new B.pz,Z4:i4}],[{J:new B.lp,Z4:bQ,qO:0},{J:new B.s0,Z4:aL,qO:0},{J:new B.IV(!0),Z4:hB,qO:0},{J:new B._B,Z4:e4,qO:0},{J:new B.a4E,Z4:an,qO:0},{J:new B.$C,Z4:fz,qO:0}],[{J:new B.By,Z4:bd,qO:0},{J:new B.gT,Z4:hR,qO:0},{J:new B.xv,Z4:jM,qO:0}],[{J:new B.WG,Z4:aq,qO:0}],[{J:new B.Dy,Z4:bj,qO:0},{J:new B.bj,Z4:fL,qO:0},{J:new B.OM(!0),Z4:h7,qO:0}],[{J:new B.dC,Z4:bL,qO:0},{J:new B.OM,Z4:h7,qO:0}],[{J:new B.td,Z4:cv,qO:0},{J:new B.VR,Z4:ek,qO:0},{J:new B.P0,Z4:cm,qO:0}],[{J:new B.EU,Z4:fE,qO:0},{J:new B.QB,Z4:fQ,qO:0},{J:new B.Ej,Z4:fT,qO:0}],[{J:new B.zS,Z4:iq},{J:new B.Pi,Z4:iq}],[{J:new B.am(0),Z4:g4},{J:new B.mZ,Z4:kS},{J:new B.am(1),Z4:g4},{J:new B.am(2),Z4:g4},{J:new B.am(3),Z4:g4},{J:new B.am(4),Z4:g4}],[{J:new B.rE,Z4:i1},{J:new B.So,Z4:ez}],[{J:new B.Rect,Z4:dn},{J:new B.jI,Z4:bI},{J:new B.YN,Z4:f4},{J:new B.t0,Z4:as},{J:new B.ZS,Z4:gr}],[{J:new B.Uu,Z4:l2},{J:new B.dv,Z4:dY}],[{J:new B.aB,Z4:gK}]]:[[{J:new B.qW,Z4:dS}],[{J:new B.So,Z4:ez}],[{J:new B.am(0),Z4:g4}],[{J:new B.mZ,Z4:kS}],[{J:new B.zS,Z4:iq},{J:new B.Pi,Z4:iq}],[{J:new B.YN,Z4:f4}],[{J:new B.Rect,Z4:dn},{J:new B.jI,Z4:bI}],[{J:new B.Yz,Z4:l2}],[{J:new B.Fi,Z4:bL}],[{J:new B.$r,Z4:bO}],[{J:new B.Uu,Z4:l2},{J:new B.dv,Z4:dY}],[{J:new B.aB,Z4:gK}]],d="",I="";
if(gw==0&&!y.GD(1))F[6].splice(2,1);var r=gw==0?[ac.JC,ac.b7,ac.tr,ac.aml,ac.gZ,ac.Ey,ac.Lt,ac.Sn,ac.vi,ac.E,ac.HO,null,ac.tT,ac.FM,ac.nh,ac.m,ac.eX,ac.Et,ac.zq]:[ac.JC,ac.m,ac.nh,null,ac.FM,ac.anO,ac.b7,null,ac.HO,ac.Ey,ac.Et,ac.zq],$=[{J:B.Li,EJ:!1,J9:[ac.aqY,ac.iL]},{J:B.Li,EJ:!1,J9:[ac.aqY],xJ:[B.H1]},{J:B.H1,EJ:!1,J9:[ac.iL]},{J:B.Rd,EJ:!0,J9:[ac.Xf],xJ:[B.HX]},{J:B.HX,EJ:!0,J9:[ac.Xf],xJ:[B.Rd]},{J:B.rz,EJ:!0,J9:[ac.Xf],xJ:[B.I6,B.Bh,B.Lc]}];
if(gw==0)$.push({J:B.I6,EJ:!0,J9:[ac.Xf],xJ:[B.rz,B.fA,B.uh,B.EY,B.p5,B.Y7]});$.push({J:B.uo,EJ:!0,J9:[ac.Xf]});
var C={a33:$,TO:F,ph:[],keys:r,DL:[{J:new B.ab4,Z4:cF},{J:new B.a6U,Z4:dr},{J:new B.aFX,Z4:h$},{J:new B.$r(!0),Z4:bO},{J:new B.Wq,Z4:er},{J:new B.mz,Z4:k1}],ad_:[{J:new B.tt},{J:new B.History},{J:new B.Or},{J:new B.dw},{J:new B.Xy},{J:new B.TM}],map:{},aGx:null,ZX:null,Qo:null},M=C.TO;
for(var O=0;O<M.length;O++){var l=M[O];if(dG=="---")continue;for(var k=0;k<l.length;k++)if(l[k].qO!=null&&l[k].qO!=gw){l.splice(k,1);
k--}if(l.length==0){M.splice(O,1);C.keys.splice(O,1);O--}}for(var O=0;O<C.TO.length;O++){var c=C.TO[O];
if(c=="---")continue;var Q=C.keys[O];for(var k=0;k<c.length;k++){C.map[c[k].J.id]=c[k];c[k].Mr=O;c[k].a6D=k;
var x=dG.get(c[k].J.name);I+="<li>"+c[k].J.id+": "+x+"</li>";d+="\t"+JSON.stringify(c[k].J.name)+", "+(Q?"\""+Q.Nm+"\"":"null")+", "+c[k].J.id+", // "+x+"\n"}C.ph[O]=0}for(var O=0;
O<C.DL.length;O++)C.map[C.DL[O].J.id]=C.DL[O];for(var O=0;O<C.ad_.length;O++)C.map[C.ad_[O].J.id]=C.ad_[O];
try{var U=window.locStor.getItem("_ltools");if(U){U=U.split(",");for(var O=0;O<U.length;O++){var S=C.map[U[O]];
if(S&&S.Mr!=null)C.ph[S.Mr]=S.a6D}}}catch(ac){alert("could not load the tool preferences");console.log("Last tools: ",window.locStor.getItem("_ltools"))}return C};
function d1(F){au.call(this);if(F==null)return;this.a0=null;this.Y9=null;this._=y.i("div","sbar"+" "+F);
this.FG=new y.i("div","top");this.FG.innerHTML="> <";this._.appendChild(this.FG);this.cK=1;this.FG.addEventListener("click",this.aaa.bind(this),!1)}d1.prototype=new au;
d1.prototype.aaa=function(F){if(this.a0!=null&&this.a0<500&&this.cK==0)return;if(this.cK==0)this.yU(!0);
else this.collapse(!0)};d1.prototype.a20=function(F){this.cK=F;this.FG.innerHTML=this.cK==0?"< >":"> <"};
d1.prototype.aFr=function(){var F=new k6(_.E.c,!0);F.data={R:_.m.X7};this.a(F)};d1.prototype.yU=function(F){this.a20(1);
if(F)this.aFr()};d1.prototype.collapse=function(F){this.a20(0);if(F)this.aFr()};d1.prototype.O0=function(){return this.cK==1};
function hH(F){d1.call(this,"vcolumn");this.jM=F;this.n_();this.Qx=y.i("div","cont");y.B(this.Qx,"cursor:default;");
this.aC0=this.alz.bind(this);this.a2T=this.a3B.bind(this);this.a87=this.a9V.bind(this);y.TX(this._,this.aC0);
this._.appendChild(this.Qx);this.agH=y.i("div");this.Qx.appendChild(this.agH);this.Si=-1;this.amg=y.i("div","float");
var r=this.nX=y.i("canvas","gsicon"),$=Math.round(12*y.ha());r.width=r.height=$;var C=r.getContext("2d");
C.moveTo(2,2);C.lineTo($-2,$-2);C.moveTo(2,7);C.lineTo($-7,$-2);C.stroke();y.B(this.nX,"position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
y.C7(this.nX);y.TX(this.nX,this.aC0);y._6(r);this.Lb=[];this.axt=[];this.aH8=null;this.Sa=null;this.avl=0}hH.prototype=new d1;
hH.prototype.alz=function(F){var r=F.target==this.nX;if(!r){if(F.target!=this._)return;if(!this.O0())return}else{var $=this.Lb[this.Si].gh;
$.style.pointerEvents="none";var C=$.getBoundingClientRect();this.aH8=[C.width,C.height];this.axt[this.Si]=[C.width,C.height]}F.stopPropagation();
this.Sa=y.Bz(F,document.body);this.avl=this.jM;y.dO(document,this.a2T);y.an(document,this.a87)};hH.prototype.a3B=function(F){var r=y.Bz(F,document.body);
if(this.O0()){this.jM=this.avl+this.Sa.x-r.x;this.n_()}else{var $=this.axt[this.Si],C=this.aH8;$[0]=C[0]+this.Sa.x-r.x;
$[1]=C[1]+r.y-this.Sa.y}var M=new k6(_.E.c,!0);M.data={R:_.m.X7};this.a(M)};hH.prototype.a9V=function(F){if(!this.O0()){var r=this.Lb[this.Si].gh;
r.style.pointerEvents="auto"}y.Fp(document,this.a2T);y.gj(document,this.a87)};hH.prototype.adl=function(F){F.Q("showFloat",this.aIH,this);
F.Q("hideFloat",this.QD,this);this.Lb.push(F);F.parent=this;this.Qx.appendChild(F._)};hH.prototype.a8u=function(O){var F=this.Lb[O];
F.removeEventListener("showFloat",this.aIH,this);F.removeEventListener("hideFloat",this.QD,this);this.Lb.splice(O,1);
F.parent=null;this.Qx.removeChild(F._)};hH.prototype.azV=function(){return this.Lb.length};hH.prototype.sD=function(){for(var O=0;
O<this.Lb.length;O++)this.Lb[O].sD()};hH.prototype.aIH=function(F){this.sD();var r=this.amg;this.agH.appendChild(r);
this.Si=this.Lb.indexOf(F.currentTarget);var $=this.Lb[this.Si].gh;y.RR(r);r.appendChild($);r.appendChild(this.nX);
this.Xt(this.a0,this.Y9)};hH.prototype.QD=function(F){this.sD();if(this.Si!=-1){this.agH.removeChild(this.amg);
this.Si=-1}};hH.prototype.n_=function(){function F(r){return Math.round(r*y.ha())/y.ha()}y.B(this._,"width: "+this.jM+"px; border-left-width:"+F(4)+"px; cursor:ew-resize;")};
hH.prototype.yU=function(F){this.n_();this.QD();for(var O=0;O<this.Lb.length;O++)this.Lb[O].yU();d1.prototype.yU.call(this,F)};
hH.prototype.collapse=function(F){this._.removeAttribute("style");for(var O=0;O<this.Lb.length;O++)this.Lb[O].collapse();
d1.prototype.collapse.call(this,F)};hH.a1g=11;hH.prototype.Xt=function(F,r){this.a0=F;this.Y9=r;r-=hH.a1g;
var $=this.Lb.length;if($==0)return;this.Qx.style.height=r-1+"px";if(!this.O0()){var C=r<400?r:400+(r-400)*.5,M=Math.max(this.jM,(window.innerWidth-350)/3);
for(var O=0;O<$;O++){var l=this.Lb[O],k=this.axt[O];l.Xt(k?k[0]:l.a9d?M:this.jM,k?k[1]:C)}}else{var d=r;
for(var O=0;O<$;O++){var l=this.Lb[O],I=l.avv();if(O==$-1){I=d;l._.style.borderBottom="none"}l.Xt(this.jM,I);
d-=I+4}}};function kE(F){au.call(this);this._=y.i("div");this.Qx=null;this.GS=0;this.gi=0;this.a0_=F;
this.aht=this.Pg.bind(this);this.agy=this.gB.bind(this);this.au8=this.$n.bind(this);this.Bn=null;this.Nr=null;
this.apJ=null;var r=this._,C="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
y.TX(r,this.aht);r.addEventListener("touchmove",y.I0,!1);this.aeT=!0;this.PG=[];var $=this.a9j=y.i("div");
y.B($,"float:right; padding:4px;display:none; position:relative;z-index:1; app-region:no-drag;");r.appendChild($);
var M=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",C+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",C+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",C+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var O=0;O<M.length;O++){var l=new jC(M[O]);this.PG.push(l);y.B(l._,"margin-left:"+(O<7?4:0)+"px;cursor:pointer;");
l.Q("click",this.O1,this)}}kE.prototype=new au;kE.prototype.l=function(){var F=this.a9j;y.RR(F);for(var O=0;
O<this.PG.length;O++){var r=this.PG[O];if(O<5)r.l();F.appendChild(r._)}};kE.prototype.O1=function(F){var O=this.PG.indexOf(F.currentTarget);
if(O==0){if(window.showCap)window.showCap();return}var r=" issues learn blog api twitter facebook".split(" "),$=["","//github.com/photopea/"+["photo","vector"][gw]+"pea/issues","//www.photopea.com/learn","//blog.photopea.com","//www.photopea.com/api","//www.reddit.com/r/photopea","//www.twitter.com/photopeacom","//www.facebook.com/photopea"],C=window.ga;
if(C)C("send","event","Links",r[O]);var M=new k6(_.E.c,!0);M.data={R:_.m.MN,link:$[O]};this.a(M)};kE.prototype.Pg=function(F){if(F.ajH){F.preventDefault();
F.stopPropagation()}var r=window;y.dO(r,this.agy);y.an(r,this.au8);r=this.Qx;this.Bn=new hx(parseInt(r.style.left),parseInt(r.style.top));
this.Nr=y.Bz(F,this._);this.apJ=r.getBoundingClientRect()};kE.prototype.gB=function(F){var r=y.Bz(F,this._),$=this.Bn.x+r.x-this.Nr.x,C=this.Bn.y+r.y-this.Nr.y,M=this.GS-this.apJ.width,l=this.gi-this.apJ.height;
if(this.a0_)this.Qx.style.left=Math.min(0,Math.max(M,$))+"px";else this.Qx.style.top=Math.min(0,Math.max(l,C))+"px";
if($-10>0){this.Nr.x=r.x-10;this.Bn.x=0}if($+10<M){this.Nr.x=r.x+10;this.Bn.x=M}};kE.prototype.$n=function(F){var r=window;
y.Fp(r,this.agy);y.gj(r,this.au8)};kE.prototype.aeB=function(F){if(this.Qx){this._.removeChild(this.Qx)}this.Qx=F;
this._.appendChild(F);F.style.position="absolute";F.style.appRegion="no-drag";if(this.a0_)F.style.left=0;
else F.style.top=0};kE.prototype.Xt=function(F,r){this.GS=F;this.gi=r;y.B(this._,"position:relative; width: "+F+"px; height: "+r+"px; overflow:hidden; white-space: nowrap; app-region:drag;");
var $=this.Qx.firstChild,C=this.a9j,M=$?$.firstChild.getBoundingClientRect().width:1e9,l=170,k=navigator.windowControlsOverlay,d=0,I=0;
if(k&&k.visible){var c=k.getTitlebarAreaRect();I=c.x;d=F-c.width-c.x;if(d<0)d=0;M+=c.x;l+=d}var Q=this.aeT&&F>M+l;
C[b3.UI][b3.aCw]=Q?"":b3.a6E;C[b3.UI][b3.cx]=d+"px";if($){$[b3.UI][b3.ab8]=I+"px";$[b3.UI][b3.a6V]=b3.ahl}var x=this.PG;
for(var O=0;O<x.length;O++){var U=O>4||F-M-l>330?"":b3.a6E,S=x[O];S._.style.display=U}};kE.prototype.a5e=function(){this.Qx.style.left="0";
this.Qx.style.top="0"};function gc(){au.call(this);this.e=null;this.LK=gc.nh;this.aEN="";this._=y.i("div","rightbar");
this.yK=[new hH(300),new hH(268)];this.Lb=[new bv,new bv,new bv,new bv,new bv,new bv,new bv(null,!0)];
this.a94=[]}gc.prototype=new au;gc.prototype.l=function(){var F=this.LK;for(var O=0;O<F.length;O++)F[O].g$.l()};
gc.nh=gw==0?[{g$:new ib,ei:3},{g$:new kL,ei:1},{g$:new bM,ei:4},{g$:new hi,ei:2},{g$:new ad(!0),ei:5},{g$:new hZ(!0),ei:5},{g$:new bK,ei:0},{g$:new ks,ei:5},{g$:new fB,ei:3},{g$:new hp,ei:0},{g$:new cD,ei:3},{g$:new dE,ei:2},{g$:new aH,ei:4},{g$:new bm,ei:3},{g$:new hP,ei:5},{g$:new ad(!1),ei:5},{g$:new k5,ei:2},{g$:new et,ei:3},{g$:new bg,ei:1},{g$:new kV,ei:0},{g$:new af,ei:5},{g$:new kR,ei:4},{g$:new iP,ei:6,IE:!0}]:[{g$:new ct,ei:5},{g$:new ad(!0),ei:5},{g$:new ad(!1),ei:5},{g$:new kR,ei:4},{g$:new ks,ei:5},{g$:new hp,ei:0},{g$:new dE,ei:2},{g$:new iP,ei:6,IE:!0}];
if(y.GD(1))gc.nh.push({g$:new cI,ei:6,IE:!0});gc.nh.push({g$:new cw,ei:6,IE:!0},{g$:new cT,ei:6,IE:!0});
(function(){var F=[{name:"Gallery",url:"//www.photopea.com/plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Peas Maker",url:"//www.photopea.com/plugins/peasmaker"}];
for(var O=0;O<F.length;O++)gc.nh.push({g$:new fV(F[O],""+(100+O)),ei:6,IE:!0})}());gc.prototype.aqw=function(F){for(var O=0;
O<F.length;O++){var r=F[O],$=new fV(r,"plg_"+r.name);this.LK.push({g$:$,ei:6});this.a94.push($.B5)}this.vr()};
gc.prototype.Db=function(F,r){this.e=F;var $=this.LK;for(var O=0;O<$.length;O++)$[O].g$.Db(F,r);if(r==d3.q0||r==d3.GI||r==d3.BN)this.vr()};
gc.prototype.U_=function(F){var r=this.LK;for(var O=0;O<r.length;O++)r[O].g$.U_(F)};gc.prototype.Xt=function(F,r){this.a0=F;
this.Y9=r;this.vr();this.yK[0].Xt(F,r);this.yK[1].Xt(F,r)};gc.prototype.vr=function(){var F=this.e,r=this.a0,$=this.Y9;
if(F==null||r==0)return;var C=this.a94;for(var O=0;O<C.length;O++){var M=this.KY(C[O]),l=M.g$.A6.resID;
if(l!=null&&F.bw.indexOf(l)==-1){C.splice(O,1);O--}}var k=F.$0.concat(C),d=r<500||r<700&&r<$,I=JSON.stringify(k)+","+d;
if(I!=this.aEN){this.aEN=I;y.RR(this._);var c=[];for(var O=0;O<this.yK.length;O++){var Q=this.yK[O];
c[O]=Q.O0();while(Q.azV()!=0)Q.a8u(0);Q.yU()}var x=[];for(var O=0;O<this.Lb.length;O++){var U=this.Lb[O];
U.yU();while(U.aIr()!=0)U.ek(0);x.push(0)}for(var O=0;O<k.length;O++){var M=this.KY(k[O].toString());
if(M==null)continue;this.Lb[M.ei].gc(M.g$);this.Lb[M.ei].ev(0);x[M.ei]++}var S=[];for(var O=0;O<x.length;
O++){if(x[O]==0)continue;var z=O<3||d?1:0,Q=this.yK[z];Q.parent=this;Q.adl(this.Lb[O]);S[z]=!0}for(var O=0;
O<this.yK.length;O++)if(S[O])this._.appendChild(this.yK[O]._);this.yK[0].collapse();if(r<700||this.e.compact||!c[1]){this.yK[1].collapse()}var V=new k6(_.E.c,!0);
V.data={R:_.m.X7};this.a(V)}};gc.prototype.KY=function(F){for(var O=0;O<this.LK.length;O++)if(this.LK[O].g$.B5==F)return this.LK[O]};
gc.prototype.ad2=function(F){var r=this.KY(F);if(r==null)return;this.Lb[r.ei].gc(r.g$)};gc.prototype.wK=function(F,r,$){var C=this.LK;
for(var O=0;O<C.length;O++)C[O].g$.wK(F,r,$)};gc.prototype.SY=function(F,r,$,C,M){var l=this.LK;for(var O=0;
O<l.length;O++)l[O].g$.SY(F,r,$,C,M)};gc.prototype.GQ=function(F,r,$,C,M){var l=this.LK;for(var O=0;
O<l.length;O++)l[O].g$.GQ(F,r,$,C,M)};gc.prototype.pf=function(F,r,$,C,M){var l=this.LK;for(var O=0;
O<l.length;O++)l[O].g$.pf(F,r,$,C,M)};function iw(F,r){d1.call(this,"toolbar");this._.removeChild(this.FG);
this.RM=y.i("div","tools");this._.appendChild(this.RM);this.Jm=null;this.fp=null;this.av2=r;this.Oi=null;
this.oo=null;this.axo=-1;var $=window.locStor.getItem("_ltools");this.iQ=$?$.split(","):[];this.af8=F;
this.W=null;this.bP=null;this.QN=null;this.as2=null;this.t5=new kn;this.t5._.style.marginTop="5px";this.t5._.style.marginBottom="3px";
this.t5.parent=this;this.c1=new jC(y.UE("lrs/mask"),!1,[6,6,1]);this.c1.Q("click",function(k){var d=new k6(_.E.O,!0);
d.J=B.gI;d.data={R:"qmask"};this.a(d)},this);var C=new i9(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
C.Q(_.E.V,this.atP,this);var M=y.i("span","rangecontFloat form padded");M.appendChild(C._);y.B(M,"position:absolute; width:119px; z-index:2;  padding-right:0px; ");
var l=this._;this.aBq=[!1,!1,!1,!1];this.wq=new jC(y.UE("kb"),!1,"Virtual Keys");this.wq.Q("click",function(k){var d=this.wq._.getBoundingClientRect();
M.style.top=d.top-110+"px";M.style.left=d.left+d.width+8+"px";if(y.D4(M)){y.E1({_:M},l)}else{l.appendChild(M);
y.mb({_:M})}},this)}iw.prototype=new d1;iw.prototype.atP=function(F){var r=F.target.k();this.wq.o(r[0]||r[1]||r[2]||r[3]);
var $=new k6(_.E.c,!0);for(var O=0;O<4;O++){if(r[O]!=this.aBq[O]){$.data={R:_.m.arN,HY:r[O],ane:[ac.v5()?"MetaLeft":"ControlLeft","AltLeft","ShiftLeft","NoTouch"][O]};
this.a($)}}this.aBq=r.slice(0)};iw.prototype.am1=function(F,r){this.Oi=r;this.oo=F;if(F==null||F.K.length==0||F.u[F.K[0]]==null)return;
var $=F.c1()!=null,C=F.f.BS,M=F.u[F.K[0]].Go,l=M==1||M==3||$||C[0]+C[1]+C[2]==1;this.t5.aHt(l);this.c1.o($)};
iw.prototype.aHx=function(F,r){var $=F.length,C=[];for(var O=0;O<$;O++)C[O]=F[O].slice(0);F=C;var M=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],l=Math.min(M.length/2,$-r);
for(var O=0;O<l;O++){var k=M[2*O],d=M[2*O+1];F[k]=F[k].concat(F[d]);F[d]=null}for(var O=0;O<F.length;
O++)if(F[O]==null){F.splice(O,1);O--}return F};iw.prototype.a1z=function(F,r){for(var O=0;O<r.length;
O++)for(var $=0;$<r[O].length;$++)if(r[O][$].J.id==F)return O};iw.prototype.azl=function(F){var r=this.af8;
this.bP=[];this.QN=[];this.as2=[];this.W=[];var $=r.TO;if(F!=null&&this.av2)$=this.aHx($,F);var C=this.Jm;
if(C){var M=[];for(var O=0;O<$.length;O++){var l=[];for(var k=0;k<$[O].length;k++){var d=$[O][k];if(C==null||C.indexOf(parseInt(d.J.id))!=-1)l.push(d)}if(l.length>0)M.push(l)}$=M}for(var O=0;
O<$.length;O++){var I=[],c=this.bP.length,Q=null,x=-1;for(var k=0;k<$[O].length;k++){var d=$[O][k].J,U=this.a1z(d.id,r.TO),S=r.keys[U];
if(S==ac.Et&&k==1)S=ac.sy;this.W.push(d);var z=new aa(d.name,S,d.h6,this.bP.length,O,$[O].length>1);
this.bP.push(z);var V=this.iQ.indexOf(d.id);if(V==-1)V=0;if(V>x){x=V;Q=z}z.Q(_.E.V,this.dl,this);z.Q("mover",this.Lg,this);
I.push({name:d.name,DA:d.h6,J9:S?S.Nm:""})}this.QN.push(Q);this.as2.push(I.length==1?null:[I,c])}};iw.prototype.Xt=function(F,r){var $=this.Y9=r,C=20;
if(1<y.ha()&&y.ha()<1.5)C=20/y.ha();C+=12.7;var M=this.Y9>640&&gw==0?2:1,l=34+5+3+M*(C+4),k=Math.floor(($-l)/C);
if(k!=this.axo){this.axo=k;this.azl(k);this.la()}var d=this.QN.length*C+l,I=Math.min(1,$/d);if(.75<=I){y.B(this.RM,"width:34px; transform-origin: top left; transform: scale("+I+","+I+");");
y.B(this._,"height:"+(r-2)+"px;")}else{$-=4;y.B(this.RM,"height: "+$+"px;  width:"+Math.ceil(d/$)*34+"px");
y.B(this._,"")}};iw.prototype.l=function(){if(this.W==null)return;for(var O=0;O<this.bP.length;O++)this.bP[O].l()};
iw.prototype.dl=function(F){var r=new k6(_.E.c,!0);r.data={R:_.m.Td,J:this.W[F.id].id};this.a(r)};iw.prototype.aav=function(F){var r=F.target.akr+F.target.qw()[0];
this.bP[r].$n(null,!0)};iw.prototype.Lg=function(F){var r=this.Oi,$=new k6(_.E.c,!0);$.data={R:_.m.P$};
this.a($);var C=F.target,M=this.as2[C.Mr];if(M==null)return;var l=new aj(M[0],null,!0);l.akr=M[1];l.Mr=C.Mr;
l.Q("select",this.aav,this);l.parent=this;l.l();var k=C._.getBoundingClientRect(),$=new k6(_.E.c,!0);
$.data={R:_.m.$a,g$:l,x:k.left+k.width+8,y:k.top};if(r==null||!(r.D(ac.iL)||r.D(ac.Xf)))this.a($)};iw.prototype.la=function(F){if(F==null)F=this.fp;
this.fp=F;if(this.W==null)return;var r=this.iQ.indexOf(F);if(r!=-1)this.iQ.splice(r,1);this.iQ.push(F);
window.locStor.setItem("_ltools",this.iQ.join(","));var $=-1;for(var O=0;O<this.W.length;O++)if(this.W[O].id==F)$=O;
for(var O=0;O<this.bP.length;O++){var C=this.bP[O];C.a4v($==O)}if($==-1)return;this.QN[this.bP[$].Mr]=this.bP[$];
y.RR(this.RM);var M=this.QN;for(var O=0;O<M.length;O++){this.RM.appendChild(M[O]._)}if(!this.av2)return;
this.RM.appendChild(this.t5._);if(this.Y9>640&&gw==0)this.RM.appendChild(this.c1._);this.RM.appendChild(this.wq._)};
iw.prototype.Db=function(F,r){if(r==d3.BN&&F.Jm){this.Jm=F.Jm;this.azl();this.la()}this.t5.ahE(F.y1,F.J2);
if(gw==1&&(r==d3.Kv||r==d3.BN)){this.t5.azS(F,this.oo)}};function aa(F,r,$,C,M,l){au.call(this);this.ic=0;
this.C$=this.alM.bind(this);this.Mr=M;this.Wv=C;this.Se=F;this.s_=r;this.afL=l;this.h6=$;this._=y.i("button","");
this._.innerHTML=y.UE(this.h6);if(this.afL){var k=y.i("img","gsicon");k.setAttribute("src",PIMG["tools/corner"]);
y.B(k,"position:absolute; right:0;  bottom:0; width:100%; height:100%;");this._.appendChild(k)}this._.addEventListener("touchstart",y.I0,!1);
this.l();y.TX(this._,this.Pg.bind(this));y.an(this._,this.$n.bind(this));this._.addEventListener("contextmenu",this.C$,!1);
this._.addEventListener("contextmenu",aa.Dk,!1)}aa.prototype=new au;aa.Dk=function(F){F.stopPropagation();
F.preventDefault();return!1};aa.prototype.l=function(){var F=this.s_?" ("+this.s_.Nm+")":"";this._.setAttribute("title",dG.get(this.Se)+F)};
aa.prototype.Pg=function(F){aa.s7=this.Wv;this.ic=setTimeout(this.C$,160)};aa.prototype.$n=function(F,r){if(r==null&&aa.s7!=this.Wv)return;
clearTimeout(this.ic);var $=new k6(_.E.V,!1);$.target=this;$.id=this.Wv;this.a($)};aa.prototype.alM=function(F){var r=new k6("mover",!1);
r.target=this;r.id=this.Wv;this.a(r)};aa.prototype.a4v=function(F){this._.className=F?"toolbtn active":"toolbtn"};
function jo(){au.call(this);this._=y.i("div","topbar");this.a4j=y.i("span");this.asE=y.i("span");this.apr=0;
this._.appendChild(this.a4j);this._.appendChild(this.asE);this.xB=null;this.e=null;this.Gm=[];this.$0=[];
var F=this.Pg.bind(this);for(var O=0;O<jo.data.length;O++){var r=y.i("button");this.Gm.push(r);var $=jo.data[O];
r.addEventListener("mouseover",F,!1);y.TX(r,F)}this.cz=new jC([0,13,0],!1,null,!0);this.cz.Q("click",this.MR,this);
this.dk=new jC(y.UE("tools/zoom",null,"autoscale"),!1,[12,86]);this.dk.Q("click",this.MR,this);this.aCJ=new jC("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.aCJ.Q("click",this.MR,this)}jo.prototype=new au;jo.prototype.a6Z=function(){if(this.$0.length!=0)return;
for(var O=0;O<jo.data.length;O++){var F=jo.data[O],r=new aj(F.items,F.kB);r.parent=this;this.$0.push(r)}this.l()};
jo.prototype.l=function(){this.cz.l();this.dk.l();this.aCJ.l();for(var O=0;O<this.Gm.length;O++)this.Gm[O].textContent=dG.get(jo.data[O].name);
this.aCM();for(var O=0;O<this.$0.length;O++)this.$0[O].l()};jo.prototype.MR=function(F){var r=new k6(_.E.c,!0);
if(F.target==this.cz)r.data={R:_.m.Oe,rS:"account"};else if(F.target==this.dk)r.data={R:_.m.sr};else r.data={R:_.m.Xa,Mh:!0};
this.a(r)};jo.prototype.NX=function(F,r){this.xB=F;this.e=r};jo.prototype.Db=function(F,r){this.e=F;
if(r==d3.BN){var $=F.ayy;y.RR(this.a4j);for(var O=0;O<this.Gm.length;O++){var C=jo.data[O];if($==null||$[O]==1||$[O]instanceof Array)this.a4j.appendChild(this.Gm[O]);
if($!=null&&$[O]instanceof Array){this.a6Z();this.$0[O].avO($[O])}}var M=this.asE;y.RR(M);if(F.Tb){M.appendChild(this.cz._)}M.appendChild(this.dk._);
M.appendChild(this.aCJ._)}this.aCM()};jo.prototype.aCM=function(F,r){var $=this.cz,C=12255232;if(ht.WL())C=ht._q()?43520:16755200;
y.B($._,"color:#ffffff; background-color:#"+j.lN(C))};jo.prototype.Pg=function(F){this.a6Z();var O=this.Gm.indexOf(F.currentTarget),r=this.$0[O];
if(F.type=="mouseover"&&!y.D4(this.$0[this.apr]._))return;if(y.D4(r._))return;F.ajH=!0;this.apr=O;for(var O=0;
O<jo.data.length;O++)this.$0[O].update(this.xB,this.e);var $=F.target.getBoundingClientRect(),C=new k6(_.E.c,!0);
C.data={R:_.m.$a,g$:r,x:$.left,y:$.top+$.height+2,a3P:!0};this.a(C)};jo.atQ=function(F){var r=ac,$=r.Xf,C=r.il,M=r.AH,l=function(Y){return{T:Y!=null}},k=function(Y){return{T:Y!=null&&Y.d!=null}},d=function(Y){return{T:Y!=null&&Y.DI(!1)}},I=function(Y){return{T:Y!=null&&Y.DI(!1)&&Y.d!=null}},c=[{name:[7,0],T:l,J9:[$,r.m]},{name:[7,1],J9:[$,r.m8],T:k},{name:[7,2],J9:[C,$,r.Ey],T:k,NA:!0},{name:"Remove BG",T:jo.cW},{name:[7,8],T:l,Q5:!0},{name:[7,13],Q5:!0,T:function(Y){return{T:Y!=null&&Y.K.length!=0&&!Y.u[Y.K[0]].S.XS()}}},{name:"Subject",T:jo.cW,NA:!0},{name:[7,11],Q5:!0,T:function(Y){return{T:Y!=null&&Y.K.length!=0&&!Y.u[Y.K[0]].S.XS()}}},{name:[7,3],T:l,NA:!0,sub:[{name:[7,9],Q5:!0,T:k},{name:[19,3,0],Q5:!0,T:k},{name:[7,4],Q5:!0,T:k},{name:[7,5],Q5:!0,T:k},{name:[7,6],Q5:!0,T:k,J9:"Shift+F6"}]},{name:"Grow",T:k},{name:"Similar",T:k,NA:!0},{name:[7,10],T:k,NA:!0},{name:[6,6,1],T:function(Y){return{T:Y!=null,fT:Y!=null&&Y.c1()!=null}},J9:[r.ahK],NA:!0},{name:[[23,6],[17,2]]},{name:["VAR0 VAR1",[1,2],[17,2]],T:k}],Q=[{s:_.E.wG,h:B.u_._N(!0)},{s:_.E.wG,h:B.u_._N()},{s:_.E.wG,h:{hE:"inverse"}},{s:_.E.O,J:B.gI,h:{R:"bgrm",Y:1}},{s:_.E.c,h:{R:_.m.Oe,rS:"crange"}},{s:_.E.c,h:{R:_.m.Oe,rS:"magiccut"}},{s:_.E.O,J:B.gI,h:{R:"bgrm",Y:2}},{s:_.E.c,h:{R:_.m.Oe,rS:"redge"}},{sub:[{s:_.E.c,h:{R:_.m.Oe,rS:"sel_border"}},{s:_.E.c,h:{R:_.m.Oe,rS:"sel_smoothness"}},{s:_.E.c,h:{R:_.m.Oe,rS:"sel_expand"}},{s:_.E.c,h:{R:_.m.Oe,rS:"sel_contract"}},{s:_.E.c,h:{R:_.m.Oe,rS:"sel_feather"}}]},{s:_.E.wG,h:{hE:"grow",iH:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{s:_.E.wG,h:{hE:"similar",iH:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}},{s:_.E.c,h:{R:_.m.Td,J:B.VB}},{s:_.E.O,J:B.gI,h:{R:"qmask"}},{s:_.E.c,h:{R:_.m.Oe,rS:"loadsel"}},{s:_.E.c,h:{R:_.m.Oe,rS:"savesel"}}];
if(F){var x=[1,2,8,7,"",14,"a","","b","c","d","","e",11,"","f","g"],U={a:[{name:"Make Work Path",T:k},{s:_.E.wG,h:B.u_.ab1()}],b:[{name:[6,49,0],T:k},{s:_.E.wG,h:{hE:"copyToLayer"}}],c:[{name:[6,49,1],T:I},{s:_.E.wG,h:{hE:"cutToLayer"}}],d:[{name:[6,13]},{s:_.E.O,J:B.pO,h:{R:Z.M1}}],e:[{name:[10,16],T:l},{s:_.E.c,h:{R:_.m.Td,J:B.DJ}}],f:[{name:[2,3],T:I,Q5:!0},{s:_.E.c,h:{R:_.m.Oe,rS:"fill"}}],g:[{name:[14,9],T:I,Q5:!0},{s:_.E.c,h:{R:_.m.Oe,rS:"stroke"}}]},S=[],z=[];
for(var O=0;O<x.length;O++){var V=x[O];if(c[V]){var t=c[V];t.NA=!1;delete t.J9;S.push(t);z.push(Q[V])}else if(V==""){S[S.length-1].NA=!0}else if(U[V]){var t=U[V];
S.push(t[0]);z.push(t[1])}}Q=z;c=S}return{name:[0,5],items:c,kB:Q}};jo.cW=function(F){return{T:y.GD(1)&&F!=null&&F.K.length!=0&&!F.u[F.K[0]].S.XS()}};
jo.W8=function(F,r){if(F==null||F.K.length==0)return!1;var $=F.u[F.K[0]];return $.add.TySh!=null&&r.fp==B.Q_};
jo.avo=function(){var F=ac,r=F.Xf,$=F.il,C=F.AH,M=function(l){return{T:l!=null}};return[[{name:[5,0],J9:[r,F.sa],T:function(l,k){return{T:l!=null&&(l.azP()||jo.W8(l,k))}}},{name:[5,1],J9:[r,F.gZ],T:M},{name:[5,2],J9:[r,F.JC],T:function(l,k){return{T:jo.W8()||y.qI()||k.TT!=null||k.Rz!=null||k.a2r!=null}}},{name:[2,2],T:function(l,k){return{T:l!=null&&(l.d!=null||jo.W8(l,k))}},J9:"Delete",NA:!0}],[{s:_.E.c,h:{R:_.m.V8}},{s:_.E.c,h:{R:_.m.FR}},{s:_.E.c,h:{R:_.m.qo}},{s:_.E.wG,h:{hE:"delete"}}]]};
jo.data=function(){var F=ac,r=F.Xf,$=F.il,C=F.AH,M=function(W){return{T:W!=null&&W.K.length!=0}},l=function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].add.SoLd!=null}},k=function(W){return{T:W!=null}},d=function(W){return{T:W!=null&&W.DI(!1)}},I=function(W){return{T:W!=null&&W.DI(!1)&&!W.u[W.K[0]].S.XS()}},c=[],Q=[],x="none maxx avrg medn minn rang stdv summ vari".split(" "),U=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"],Y="assignProfile",i="convertToProfile";
for(var O=0;O<x.length;O++){c.push({name:U[O],T:function(W,L){if(W==null||W.K.length!=1)return{T:!1};
var b=W.u[W.K[0]].add.SoLd;if(b==null)return{T:!1};return{T:!0,fT:b.Impr.v.classID==this.amw}}.bind({amw:x[O]})});
Q.push({s:_.E.O,J:B.pO,h:{R:Z.SH,FJ:x[O]}})}var S=jo.avo(!0),z=[],V=[],t=[],J=function(W,L,O){return{fT:W!=null&&W.ax1()==O,T:!0}};
for(var O=0;O<kQ.Co.length;O++){var H=kQ.Co[O];z.push({name:H,T:J});var v={classID:Y,null:cQ.sZ("Dcmn",!0)};
if(H!="sRGB")v.profile={t:"TEXT",v:kQ.Bk[O]};var n={classID:i,null:cQ.sZ("Dcmn",!0)};n.T={t:"TEXT",v:kQ.Bk[O]};
V.push({s:_.E.wG,h:{hE:Y,iH:v}});t.push({s:_.E.wG,h:{hE:i,iH:n}})}var G=[{name:[0,0],items:[{name:[5,3],J9:[C,r,F.ls],title:[11,7],Q5:!0},{name:[1,0],J9:[r,F.tT],Q5:!0},{name:[1,11],Q5:!0,T:k},{name:["VAR0 VAR1",[1,0],[0,14]],NA:!0,sub:[{name:"From Any Folder"},{name:"Storage",Q5:!0,J9:[C,r,F.tT]},{name:[1,5],Q5:!0},{name:[11,0],Q5:!0},{name:["PSD VAR0",[25,0]],Q5:!0}]},{name:[1,18],NA:!0,T:k,sub:[{name:"PNG",J9:"Imgur.com",T:function(W,L){return{T:W!=null&&L.BQ}}},{name:"JPG",J9:"Imgur.com",T:function(W,L){return{T:W!=null&&L.BQ}}},{name:gw==0?"PSD":"AI",J9:["Photo","Vector"][gw]+"pea.com",T:function(W,L){return{T:W!=null&&L.BQ&&!W.zm}}}]},{name:"Save ...",J9:[r,F.vi],T:function(W,L){var b=dG.get([1,2]),T=!0;
if(W){if(W.nR)b+=" ("+dG.get([6,7,1])+")";if(W.$H)b+=" (Google Drive)";if(W.BK)b+=" ("+Storage.list[W.BK[0]][0]+")";
T="psd jpg png gif webp svg bmp".split(" ").indexOf(W.SO)!=-1;if(gw==1)T=W.SO=="ai"}return{T:W!=null&&(W.BK!=null||W.se!=null&&T||W.nR!=null||W.TB!=null&&W.TB.YZ!=null||W.$H!=null||L.a2y.save!=null),lf:b}}},{name:gw==0?[1,3]:"Save as AI",T:function(W,L){return{T:W!=null&&L.BQ}}},{name:["VAR0 VAR1",[1,2],[0,14]],T:k,sub:[{name:(gw==0?"PSD":"AI")+" to Storage",T:function(W,L){return{T:W!=null&&L.BQ}}},{name:["VAR0 PSD/PSB",[1,2]],Q5:!0,T:function(W,L){return{T:W!=null&&L.BQ}}}]},{name:[1,8],T:k,sub:function(){var W=dN.$m(0),L=[];
for(var O=0;O<W.length;O++)L.push({name:W[O],J9:"."+W[O].toLowerCase()});L.push({name:[0,14],sub:function(){var W=dN.$m(1),L=[];
for(var O=0;O<W.length;O++)L.push({name:W[O],J9:"."+W[O].toLowerCase()});return L}()});return L}()},{name:[1,4],Q5:!0,T:k,NA:!0,J9:[r,F.nh]},{name:[1,9],Q5:!0,T:k},{name:"Export Color Lookup",Q5:!0,T:k,NA:!0},{name:[1,14],Q5:!0,T:k,NA:!0},{name:[1,17],sub:[{name:"Batch",Q5:!0},{name:"PDF Presentation",Q5:!0},{name:"Convert Formats",Q5:!0},{name:"Generate Mockups",Q5:!0,T:k},{name:"Resize Images",Q5:!0,NA:!0},{name:"Crop and Straighten Photos",T:k}]},{name:[1,10],Q5:!0}],kB:[{s:_.E.c,h:{R:_.m.Oe,rS:"newproject"}},{s:_.E.c,h:{R:_.m.u7}},{s:_.E.c,h:{R:_.m.u7,aiO:!0}},{sub:[{s:_.E.c,h:{R:_.m.u7,AS:!0}},{s:_.E.c,h:{R:_.m.Oe,rS:"storwindow",IL:0}},{s:_.E.c,h:{R:_.m.Oe,rS:"open_from_url"}},{s:_.E.c,h:{R:_.m.Oe,rS:"camera"}},{s:_.E.c,h:{R:_.m.Oe,rS:"res0"}}]},{sub:[{s:_.E.c,h:{R:_.m.EW,$I:"png"}},{s:_.E.c,h:{R:_.m.EW,$I:"jpg"}},{s:_.E.c,h:{R:_.m.EW,$I:gw==0?"psd":"ai"}}]},{s:_.E.c,h:{R:_.m.YO}},{s:_.E.c,h:{R:_.m.rC}},{sub:[{s:_.E.c,h:{R:_.m.Oe,rS:"storwindow",IL:1}},{s:_.E.c,h:{R:_.m.Oe,rS:"savepsb"}}]},{sub:function(){var W=dN.$m(0),L=[];
for(var O=0;O<W.length;O++)L.push({s:_.E.c,h:{R:_.m.Oe,rS:"saveforweb",$I:O}});L.push({sub:function(){var b=dN.$m(0).length,W=dN.$m(1),L=[];
for(var O=0;O<W.length;O++)L.push({s:_.E.c,h:{R:_.m.Oe,rS:"saveforweb",$I:b+O}});return L}()});return L}()},{s:_.E.c,h:{R:_.m.Oe,rS:"saveforweb",$I:3,asL:!0}},{s:_.E.c,h:{R:_.m.Oe,rS:"eassets"}},{s:_.E.c,h:{R:_.m.Oe,rS:"exlut"}},{s:_.E.c,h:{R:_.m.Oe,rS:"finfo"}},{sub:[{s:_.E.c,h:{R:_.m.Oe,rS:"batch"}},{s:_.E.c,h:{R:_.m.Oe,rS:"pdfpres"}},{s:_.E.c,h:{R:_.m.Oe,rS:"cformat"}},{s:_.E.c,h:{R:_.m.Oe,rS:"mockups"}},{s:_.E.c,h:{R:_.m.Oe,rS:"resize"}},{s:_.E.O,J:B.mO,h:{R:"cropAndStr"}}]},{s:_.E.c,h:{R:_.m.Oe,rS:"script"}}]},{name:[0,1],items:[{name:[2,8],T:k},{name:[2,0],T:k,J9:[$,r,F.zq]},{name:[2,1],T:k,J9:[r,F.zq],NA:!0},{name:[2,11],J9:[$,r,F.EO],NA:!0,Q5:!0,T:function(W,L){return{T:f6.aux(W)&&L.fp!=B.DJ}}},S[0][0],S[0][1],{name:[5,7],J9:[$,r,F.gZ],T:function(W){return{T:W!=null&&W.d!=null}}},S[0][2],S[0][3],{name:[2,3],T:d,Q5:!0,J9:[$,F.aCQ]},{name:[14,9],T:d,Q5:!0,NA:!0},{name:[10,48],T:d},{name:[10,46],T:function(W){return{T:B.Rv.pV(W)}}},{name:[10,16],T:k,J9:[C,r,F.FM]},{name:[2,4],T:k,sub:b8.ab7()},{name:[2,10,1],T:k},{name:[2,10,0],T:k,NA:!0},{name:"Assign Profile",sub:z},{name:"Convert to Profile",sub:z,NA:!0},{name:[12,87],T:k,sub:[{name:[12,62],T:k},{name:[9,3],T:k},{name:[10,31],T:function(W){return{T:W!=null&&W.Ug()[1].length!=0}}}]},{name:[1,15],Q5:!0},{name:[12,79],Q5:!0,J9:[r,F.pT]},{name:[1,13],Q5:!0}],kB:[{s:_.E.O,J:B.sT,h:{R:"h_undoredo"}},{s:_.E.O,J:B.sT,h:{R:"h_stepfwd"}},{s:_.E.O,J:B.sT,h:{R:"h_stepbck"}},{s:_.E.c,h:{R:_.m.Oe,rS:"afw_fade"}},S[1][0],S[1][1],{s:_.E.c,h:{R:_.m.FR,WK:!0}},S[1][2],S[1][3],{s:_.E.c,h:{R:_.m.Oe,rS:"fill"}},{s:_.E.c,h:{R:_.m.Oe,rS:"stroke"}},{s:_.E.c,h:{R:_.m.Td,J:B.Mw}},{s:_.E.O,J:B.tl,h:{R:"start",kh:"rigidTransform"}},{s:_.E.c,h:{R:_.m.Td,J:B.DJ}},{sub:b8.anJ()},{s:_.E.wG,h:{hE:"align",iH:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{s:_.E.O,J:B.pO,h:{R:Z.axS}},{sub:V},{sub:t},{sub:[{s:_.E.c,h:{R:_.m.eE,jg:0}},{s:_.E.c,h:{R:_.m.eE,jg:1}},{s:_.E.c,h:{R:_.m.eE,jg:2}}]},{s:_.E.c,h:{R:_.m.Oe,rS:"pmanager"}},{s:_.E.c,h:{R:_.m.Oe,rS:"preferences"}},{s:_.E.c,h:{R:_.m.Oe,rS:"locstor"}}]},{name:[0,2],items:[{name:[12,36],T:k,NA:!0,sub:[{name:"RGB",T:function(W){if(W==null)return{T:!1};
return{fT:W.add.fcmy==null,T:!0}}},{name:"CMYK",NA:!0,T:function(W){if(W==null)return{T:!1};return{fT:W.add.fcmy!=null,T:!0}}}].concat(jV?[{name:"8 Bits/Channel",T:function(W){if(W==null)return{T:!1};
return{fT:W.depth==8,T:!0}}},{name:"16 Bits/Channel",T:function(W){if(W==null)return{T:!1};return{fT:W.depth==16,T:!0}}},{name:"32 Bits/Channel",T:function(W){if(W==null)return{T:!1};
return{fT:W.depth==32,T:!0}}}]:[])},{name:[3],T:k,NA:!0,sub:function(){var W=[];for(var L in f0.names){W.push({name:f0.names[L],Q5:cW[L]!=null,J9:f0.keys[L],NA:f0.auw.indexOf(L)!=-1});
if(L=="selc"){W.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],Q5:!0,NA:!0});W.push({name:[19,7,0],J9:[r,$,F.eX],T:d});
W.push({name:[4,18],Q5:!0,T:d})}}return W}()},{name:[4,16,0],T:d},{name:[4,16,1],T:d},{name:[4,16,2],T:d,NA:!0},{name:[11,11,1],T:I,Q5:!0},{name:[11,11,0],T:I,Q5:!0},{name:"Wavelet Decompose",T:I,NA:!0},{name:[11,3],T:k,Q5:!0,J9:[C,r,F.gZ]},{name:[11,10],T:k,Q5:!0,J9:[C,r,F.Ey]},{name:[2,4],T:k,sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],T:function(W){return{T:W!=null&&W.d!=null}}},{name:[11,12,0],T:k,J9:[r,F.PV],Q5:!0},{name:[11,12,2],T:k,NA:!0},{name:[12,53],T:k},{name:[2,12],T:d,Q5:!0,NA:!0},{name:[2,14],T:k,Q5:!0}],kB:[{sub:[{s:_.E.O,J:B.uo,h:{R:"fcmy",Y:0}},{s:_.E.O,J:B.uo,h:{R:"fcmy",Y:1}},{s:_.E.wG,h:{hE:"convertMode",iH:{classID:"CnvM",Dpth:{t:"long",v:8},Mrge:{t:"bool",v:!1}}}},{s:_.E.wG,h:{hE:"convertMode",iH:{classID:"CnvM",Dpth:{t:"long",v:16},Mrge:{t:"bool",v:!1}}}},{s:_.E.wG,h:{hE:"convertMode",iH:{classID:"CnvM",Dpth:{t:"long",v:32},Mrge:{t:"bool",v:!1}}}}]},{sub:function(){var W=[];
for(var L in f0.names){W.push({s:_.E.O,J:B.tZ,h:{R:"start",yn:L}});if(L=="selc"){W.push({s:_.E.O,J:B.tl,h:{R:"start",kh:"adaptCorrect"}});
W.push({s:_.E.wG,h:{hE:"desaturate"}});W.push({s:_.E.O,J:B.tZ,h:{R:"start",yn:"matc"}})}}return W}()},{s:_.E.wG,h:{hE:"levels",iH:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{s:_.E.wG,h:{hE:"levels",iH:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{s:_.E.wG,h:{hE:"levels",iH:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{s:_.E.c,h:{R:_.m.Oe,rS:"rcolors"}},{s:_.E.c,h:{R:_.m.Oe,rS:"vbitmap"}},{s:_.E.O,J:B.pO,h:{R:Z.amT}},{s:_.E.c,h:{R:_.m.Oe,rS:"csize"}},{s:_.E.c,h:{R:_.m.Oe,rS:"isize"}},{sub:[{s:_.E.wG,h:B.hL.Gy(!0,90)},{s:_.E.wG,h:B.hL.Gy(!0,-90)},{s:_.E.wG,h:B.hL.Gy(!0,-180)},{s:_.E.wG,h:B.hL.Gy(!1,"Hrzn")},{s:_.E.wG,h:B.hL.Gy(!1,"Vrtc")}]},{s:_.E.wG,h:{hE:"crop",iH:{__name:"Crop",classID:"Crop"}}},{s:_.E.c,h:{R:_.m.Oe,rS:"trim"}},{s:_.E.wG,h:{hE:"revealAll",iH:{classID:"RvlA"}}},{s:_.E.wG,h:{hE:"duplicate",iH:{classID:"Dplc",null:cQ.sZ("Dcmn",!0)}}},{s:_.E.O,J:B.tZ,h:{R:"start",yn:"aply"}},{s:_.E.c,h:{R:_.m.Oe,rS:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],T:k,sub:[{name:[0,3],J9:[$,r,F.ls]},{name:[0,4]},{name:[1,16,0],Q5:!0},{name:[1,16,3],Q5:!0,NA:!0},{name:[6,49,0],J9:[r,F.Lt]},{name:[6,49,1],J9:[$,r,F.Lt],T:function(W){return{T:W!=null&&W.d!=null&&W.DI(!1)}}}]},{name:[6,0],T:M},{name:[11,4],T:M},{name:[5,4],T:M,NA:!0},{name:"Text",T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].add.TySh!=null}},sub:[{name:[6,40]}]},{name:[11,6],T:M,NA:!0,sub:dH.A8(!0)},{name:[6,48,1],T:k,sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],T:k,NA:!0,sub:dH.amp()},{name:[6,2],T:k,sub:[{name:[6,4],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].rc()==null}}},{name:[6,5,0],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].rc()==null}}},{name:[6,5,1],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].rc()==null&&W.d!=null}}},{name:[6,5,2],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].rc()==null&&W.d!=null}}},{name:[6,5,3],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].rc()==null}},NA:!0},{name:[5,4],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].rc()!=null}}},{name:[5,8],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].rc()!=null&&W.DI(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].rc()!=null}}}]},{name:[6,3],T:k,sub:[{name:[6,4],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].add.vmsk==null}}},{name:[6,5,0],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].add.vmsk==null}}},{name:[12,76,7],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].add.vmsk==null}},NA:!0},{name:[5,4],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],T:function(W){return{T:W!=null&&W.K.length!=0&&W.u[W.K[0]].add.vmsk!=null}}}]},dE.aio(!0),{name:[6,7,1],T:k,NA:!0,sub:[{name:[6,7,0],NA:!0},{name:"Open (Edit Contents)",T:l,Q5:!0},{name:"Replace Contents",T:l,Q5:!0},{name:"Export Contents",T:l,Q5:!0,NA:!0},{name:"Convert to Layers",T:l,Q5:!0,NA:!0},{name:[6,36,4],T:l,sub:c},{name:"Turn into JPG",T:l}]},{name:[6,8],T:dE.auK},{name:[6,34],NA:!0,T:function(W){if(W==null||W.K.length==0)return{T:!1};
var L=W.u[W.K[0]];return{T:L.add.lmfx!=null&&!L.EX()}}},{name:[6,9],T:k,NA:!0,J9:[r,F.HO]},{name:[6,55],T:k,sub:[{name:[6,56,0],J9:[$,r,F.wv]},{name:[6,56,1],J9:[r,F.wv]},{name:[6,56,2],J9:[r,F.Sz]},{name:[6,56,3],J9:[$,r,F.Sz]}]},{name:"Combine Shapes",T:k,NA:!0,sub:[{name:[18,1],DA:"set/union"},{name:[18,2],DA:"set/difference"},{name:[18,3],DA:"set/intersection"},{name:[18,4],DA:"set/xor"}]},{name:[6,58],T:k,NA:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],J9:[r,F.E],T:dE.nz},{name:[6,12,1],T:k},{name:[2,13],T:k}],kB:[{sub:[{s:_.E.O,J:B.pO,h:{R:Z.M1}},{s:_.E.O,J:B.pO,h:{R:Z.HI}},{s:_.E.c,h:{R:_.m.Oe,rS:"newartb",IL:0}},{s:_.E.c,h:{R:_.m.Oe,rS:"newartb",IL:1}},{s:_.E.wG,h:{hE:"copyToLayer"}},{s:_.E.wG,h:{hE:"cutToLayer"}}]},{s:_.E.O,J:B.pO,h:{R:Z.K7}},{s:_.E.c,h:{R:_.m.Oe,rS:"duplinto"}},{s:_.E.O,J:B.pO,h:{R:Z.O9}},{sub:[{s:_.E.O,J:B.pO,h:{R:Z.Hy}}]},{sub:dH.I8(!0)},{sub:[{s:_.E.O,J:B.fA,h:{R:"newfill",wV:0}},{s:_.E.wG,h:B.QZ.w8(1)},{s:_.E.wG,h:B.QZ.w8(2)}]},{sub:dH.qH()},{sub:[{s:_.E.O,J:B.pO,h:{R:Z.jT,IL:"RvlA"}},{s:_.E.O,J:B.pO,h:{R:Z.jT,IL:"HdAl"}},{s:_.E.O,J:B.pO,h:{R:Z.jT,IL:"RvlS"}},{s:_.E.O,J:B.pO,h:{R:Z.jT,IL:"HdSl"}},{s:_.E.O,J:B.pO,h:{R:Z.jT,IL:"Trns"}},{s:_.E.O,J:B.pO,h:{R:Z._C}},{s:_.E.O,J:B.pO,h:{R:Z.g8}},{s:_.E.O,J:B.pO,h:{R:Z.nE}}]},{sub:[{s:_.E.wG,h:B._J.bC(0)},{s:_.E.wG,h:B._J.bC(1)},{s:_.E.wG,h:B._J.bC(2)},{s:_.E.wG,h:B._J.bC(3)},{s:_.E.O,J:B.pO,h:{R:Z.dx}}]},{s:_.E.O,J:B.pO,h:{R:Z.Uw}},{sub:[{s:_.E.wG,h:{hE:"newPlacedLayer"}},{s:_.E.wG,h:{hE:"placedLayerEditContents",iH:{classID:"placedLayerEditContents"}}},{s:_.E.wG,h:{hE:"placedLayerReplaceContents",iH:{classID:"placedLayerReplaceContents"}}},{s:_.E.wG,h:{hE:"placedLayerExportContents",iH:{classID:"placedLayerExportContents"}}},{s:_.E.wG,h:{hE:"placedLayerConvertToLayers",iH:{classID:"placedLayerConvertToLayers"}}},{sub:Q},{s:_.E.O,J:B.pO,h:{R:Z.ai0}}]},{s:_.E.wG,h:{hE:"rasterizeLayer",iH:{classID:"rasterizeLayer",null:cQ.sZ("Lyr",!0)}}},{s:_.E.wG,h:{hE:"rasterizeLayer",iH:{classID:"rasterizeLayer",null:cQ.sZ("Lyr",!0),What:{t:"enum",v:{rasterizeItem:"layerStyle"}}}}},{s:_.E.O,J:B.pO,h:{R:Z.dY}},{sub:[{s:_.E.O,J:B.pO,h:{R:Z.ga,vz:0}},{s:_.E.O,J:B.pO,h:{R:Z.ga,vz:1}},{s:_.E.O,J:B.pO,h:{R:Z.ga,vz:2}},{s:_.E.O,J:B.pO,h:{R:Z.ga,vz:3}}]},{sub:[{s:_.E.O,J:B.pO,h:{R:Z.GC,nu:0}},{s:_.E.O,J:B.pO,h:{R:Z.GC,nu:1}},{s:_.E.O,J:B.pO,h:{R:Z.GC,nu:2}},{s:_.E.O,J:B.pO,h:{R:Z.GC,nu:3}}]},{sub:[{s:_.E.O,J:B.pO,h:{R:Z.yg,vz:"makeframes"}},{s:_.E.O,J:B.pO,h:{R:Z.yg,vz:"unmakeframes"}},{s:_.E.O,J:B.pO,h:{R:Z.yg,vz:"merge"}}]},{s:_.E.wG,h:{hE:"mergeLayersNew",iH:{__name:"Merge Layers",classID:"Mrg2"}}},{s:_.E.wG,h:{hE:"flattenImage"}},{s:_.E.O,J:B.tl,h:{R:"start",kh:"defr"}}]},jo.atQ(!1),function(){var W={name:[0,6],items:[{name:[24,18,4],J9:[C,r,F.EO],T:k,NA:!0}],kB:[{s:_.E.O,J:B.tl,h:{R:"applylast"}}]};
for(var O=0;O<e9.w2.length;O++){var L=e9.w2[O],b=L.Nh;if(L.v$!=null){var T={name:e9.names[L.v$],Q5:!0,NA:L.NA,T:k};
if(L.v$=="VaPo")T.T=d;W.items.push(T);W.kB.push({s:_.E.O,J:B.tl,h:{R:"start",kh:L.v$}});continue}var a={name:L.Rm,sub:[],T:k};
W.items.push(a);var R={sub:[]};W.kB.push(R);for(var D=0;D<b.length;D++){var h=b[D],K=e9.names[h];if(h=="blurbTransform")K=[24,3,12,D];
var X={name:K,Q5:e9.Mv(h)!=null};a.sub.push(X);var w={s:_.E.O,J:B.tl,h:{R:"start",kh:h,Oy:D<2?D:D+1}};
R.sub.push(w)}}return W}(),{name:[0,7],items:[{name:[8,0],T:k,J9:[r,F.Ur]},{name:[8,1],T:k,J9:[r,F.Qb]},{name:[20,3],T:k,J9:[r,F.iq]},{name:[20,2],T:k,J9:[r,F.xF]},{name:[8,14],T:function(W,L){return{T:W!=null,fT:W!=null&&W.pc}},NA:!0},{name:[12,36],NA:!0,sub:[{name:"Fullscreen",T:function(W,L){return{fT:document.fullscreenElement!=null}},NA:!0},{name:"Standard",T:function(W,L){return{fT:L.v8==0}}},{name:"Menu Bar and Canvas",T:function(W,L){return{fT:L.v8==1}}}]},{name:[8,13],J9:[r,F.Et],T:function(W,L){return{fT:L.V$}}},{name:[8,12],NA:!0,sub:[{name:[17,2],T:function(W,L){return{T:L.V$,fT:L.AK.Xx}}},{name:[8,9],T:function(W,L){return{T:L.V$,fT:L.AK.S8}}},{name:[8,2],T:function(W,L){return{T:L.V$,fT:L.AK.oT}},J9:[r,F.Nz]},{name:[8,4],T:function(W,L){return{T:L.V$,fT:L.AK.sn}},J9:[r,F.OU]},{name:[8,8],T:function(W,L){return{T:L.V$,fT:L.AK.rL}}},{name:[8,11,0],T:function(W,L){return{T:L.V$,fT:L.AK.a3}}}]},{name:[8,3],T:function(W,L){return{fT:L._2}},J9:[r,F.sy],NA:!0},{name:[8,5],T:function(W,L){return{fT:L.oE}}},{name:[8,6],NA:!0,sub:[{name:[8,2],T:function(W,L){return{fT:L.p$[0]}}},{name:[8,4],T:function(W,L){return{fT:L.p$[1]}}},{name:[9,1],T:function(W,L){return{fT:L.p$[2]}}},{name:[8,11,0],T:function(W,L){return{fT:L.p$[3]}}},{name:[8,7,0],T:function(W,L){return{fT:L.p$[4]}}}]},{name:[11,15,2],T:function(W,L){return{T:W!=null,fT:W!=null&&W.my}}},{name:[11,15,0],T:k},{name:[11,14],T:k,Q5:!0},{name:[11,15,1],T:function(W,L){return{T:W!=null&&W.K.length!=0}},NA:!0},{name:[8,11,2],T:function(W,L){return{T:W!=null&&W.a3.length!=0}}}],kB:[{s:_.E.O,J:B.Li,h:{R:"zoom",DZ:!0}},{s:_.E.O,J:B.Li,h:{R:"zoom",DZ:!1}},{s:_.E.O,J:B.Li,h:{R:"adapt",Y:"fitscr"}},{s:_.E.O,J:B.Li,h:{R:"adapt",Y:"pixel"}},{s:_.E.O,J:B.uo,h:{R:"pview"}},{sub:[{s:_.E.c,h:{R:_.m.Xa,Mh:!0}},{s:_.E.c,h:{R:_.m.Xa,Y:0}},{s:_.E.c,h:{R:_.m.Xa,Y:1}},{s:_.E.c,h:{R:_.m.Xa,Y:2}}]},{s:_.E.c,h:{R:_.m.WF,jg:d3.yh}},{sub:[{s:_.E.c,h:{R:_.m.WF,jg:d3.H4}},{s:_.E.c,h:{R:_.m.WF,jg:d3.jD}},{s:_.E.c,h:{R:_.m.WF,jg:d3.cB}},{s:_.E.c,h:{R:_.m.WF,jg:d3.sh}},{s:_.E.c,h:{R:_.m.WF,jg:d3.y5}},{s:_.E.c,h:{R:_.m.WF,jg:d3.cF}}]},{s:_.E.c,h:{R:_.m.WF,jg:d3.JI}},{s:_.E.c,h:{R:_.m.WF,jg:d3.aq4}},{sub:[{s:_.E.c,h:{R:_.m.WF,jg:d3.pS,DO:0}},{s:_.E.c,h:{R:_.m.WF,jg:d3.pS,DO:1}},{s:_.E.c,h:{R:_.m.WF,jg:d3.pS,DO:2}},{s:_.E.c,h:{R:_.m.WF,jg:d3.pS,DO:3}},{s:_.E.c,h:{R:_.m.WF,jg:d3.pS,DO:4}}]},{s:_.E.O,J:B.uo,h:{R:"lockguides"}},{s:_.E.O,J:B.uo,h:{R:"gids",jb:[[],[]]}},{s:_.E.c,h:{R:_.m.Oe,rS:"addguides"}},{s:_.E.O,J:B.uo,h:{R:"gidsFromLayer"}},{s:_.E.O,J:B.Rd,h:{R:"deleteAll"}}]},function(){var W={name:[0,8],items:[{name:[0,14],NA:!0,sub:[]},{name:"Plugins",NA:!0}],kB:[{sub:[]},{s:_.E.c,h:{R:_.m.Oe,rS:"res1"}}]};
for(var O=0;O<gc.nh.length;O++){var L=gc.nh[O],b=function(){var T=L.g$.B5;return function(a,R){return{fT:R.$0.indexOf(parseInt(T))!=-1}}}();
(L.IE?W.items[0].sub:W.items).push({name:L.g$.name,T:b});(L.IE?W.kB[0].sub:W.kB).push({s:_.E.c,h:{R:_.m.KS,rS:L.g$.B5}})}return W}(),function(){var W={name:[0,14],items:[],kB:[]},L={name:[0,9],sub:[]};
W.items.push(L);var b={sub:[]};W.kB.push(b);var T=dG.aBD();for(var O=0;O<T.length;O++){var a=T[O],R=a.code,D=dG.a98(R);
L.sub.push({name:a.name,J9:R,T:function(h,K){return{fT:this.J9==dG.ZI()}}});b.sub.push({s:_.E.c,h:{R:_.m.WF,jg:d3.r5,lang:D}})}L.sub.push({name:[0,12]});
b.sub.push({s:_.E.c,h:{R:_.m.MN,link:"https://www.photopea.com/translate/"}});var L={name:[0,15],sub:[]};
W.items.push(L);var b={sub:[]};W.kB.push(b);for(var O=0;O<at.G1.length;O++){L.sub.push({name:at.G1[O].name,T:function(h,K){return{fT:this.name==at.G1[K.di].name}}});
b.sub.push({s:_.E.c,h:{R:_.m.WF,jg:d3.tB,di:O}})}W.items.push({name:gw==0?[0,17,6]:"Install Vectorpea",T:function(h,K){return{T:K.D$!=null}}});
W.kB.push({s:_.E.c,h:{R:_.m.Eb}});if(gw==0){W.items.push({name:[11,13]});W.kB.push({s:_.E.c,h:{R:_.m.Oe,rS:"shortcuts"}});
W.items.push({name:[0,16],T:function(h){return{fT:jp.mE,T:jp.a9t}},NA:!0});W.kB.push({s:_.E.c,h:{R:_.m.am2}})}W.items.push({name:"PeaMark"});
W.kB.push({s:_.E.c,h:{R:_.m.Oe,rS:"peamark"}});W.items.push({name:"",T:function(h,K){return K.Tb?{lf:"About "+["Photopea","Vectorpea"][gw],T:!0}:{lf:"",T:!1}}});
W.kB.push({s:_.E.c,h:{R:_.m.Oe,rS:"aboutpp"}});return W}()],g=[G[0],G[1],{name:"Object",items:[{name:[6,9],T:k,NA:!0,J9:[r,F.HO]},{name:[6,6,0],sub:[{name:[5,5],J9:[r,F.GG]},{name:[5,6],J9:[C,r,F.GG]}]}],kB:[{s:_.E.O,J:B.pO,h:{R:Z.dY}},{sub:[{s:_.E.O,J:B.pO,h:{R:Z.dY,Ge:!0}},{s:_.E.O,J:B.pO,h:{R:Z.dY,Ge:!0,kK:!0}}]}]},{name:[0,7],items:[{name:"Outline View",T:function(W,L){return{fT:W&&W.add.prvw==0,T:W!=null}},NA:!0,J9:[r,F.Qw]},{name:[8,0],T:k,J9:[r,F.Ur]},{name:[8,1],T:k,J9:[r,F.Qb]},{name:[12,36],NA:!0,sub:[{name:"Fullscreen",T:function(W,L){return{fT:document.fullscreenElement!=null}},NA:!0},{name:"Standard",T:function(W,L){return{fT:L.v8==0}}},{name:"Menu Bar and Canvas",T:function(W,L){return{fT:L.v8==1}}}]},{name:[8,3],T:function(W,L){return{fT:L._2}},J9:[r,F.sy]}],kB:[{s:_.E.O,J:B.Li,h:{R:"prvw"}},{s:_.E.O,J:B.Li,h:{R:"zoom",DZ:!0}},{s:_.E.O,J:B.Li,h:{R:"zoom",DZ:!1}},{sub:[{s:_.E.c,h:{R:_.m.Xa,Mh:!0}},{s:_.E.c,h:{R:_.m.Xa,Y:0}},{s:_.E.c,h:{R:_.m.Xa,Y:1}}]},{s:_.E.c,h:{R:_.m.WF,jg:d3.JI}}]},G[7],G[8]];
return gw==0?G:g}();function dB(){au.call(this);this._=y.i("div","");this.GS=0;this.gi=0;this.e=null;
this.ei=y.i("div","");y.B(this.ei,"width:200em; height:100em; position:absolute;");this.jr=[];this.pZ=[];
this.ct={}}dB.prototype=new au;dB.prototype.hw=function(F){var r=Date.now(),$=[];if(F=="-"){$=[new fC,new dK,new eG,new eC("pdfpres"),new eC("cformat"),new eC("batch"),new eC("mockups"),new eC("resize"),new kb,new jI,new iv,new bu,new bu(!0),new cV,new cz,new fk,new fh,new kF,new b5,new jU,new dl,new eZ,new by,new dH,new fZ("isize"),new fZ("csize"),new kB,new ax,new b2,new e0,new hO,new gB,new km,new iG,new c0(!1),new c0(!0),new k4(0),new k4(1),new iH,new h9,new e7,new l0,new kr,new iQ,new b9(0),new b9(1),new b9(2),new b9(3),new b9(4),new b9(5),new b9(6),new b9(7),new b9(8),new gP,new ku,new fd,new jy,new e_,new cc,new ie,new cH,new hg,new jk,new jS(0),new jS(1),new ah("border",[7,9],"px"),new ah("smoothness",[19,3,0],"px"),new ah("expand",[7,4],"px"),new ah("contract",[7,5],"px"),new ah("feather",[7,6],"px"),new kZ(0,"namewindow",[12,48]),new kZ(2,"billto","Bill To"),new kZ(1,"cornerradius",[12,94,0],"px",!0,!0),new kZ(1,"scaleeffects",[6,30,1],"%",!0),new kZ(1,"doczoom","Zoom","%",!0),new kZ(1,"setFPS","Set FPS","fps,120",!1),new kZ(1,"simplifypath",[12,94,2],"%,100",!0,!0)];
if(gw==0){$.push(new gF)}}else $=[new f6(F.slice(4))];this.aFT($);this.ct[F]=!0};dB.prototype.aFT=function(F){var r=this.e;
for(var O=0;O<F.length;O++){var $=F[O];$.parent=this;this.pZ.push($);this.l9($);$.l();if(r)$.Db(r,d3.BN);
$.Q(_.E.FQ,this.Ll,this);y.E1($)}};dB.prototype.Xt=function(F,r){this.GS=F;this.gi=r;for(var O=0;O<this.pZ.length;
O++)this.l9(this.pZ[O])};dB.prototype.l=function(){for(var O=0;O<this.pZ.length;O++)this.pZ[O].l()};
dB.prototype.gG=function(){return this.jr.length==0?null:this.jr[this.jr.length-1]};dB.prototype.fV=function(){for(var O=0;
O<this.jr.length;O++)if(this.jr[O].fV())return!0;return!1};dB.prototype.as1=function(F,r,$,C,M){console.log("Show",F);
var l=F.startsWith("afw_"),k=null;if(!l&&!this.ct["-"])this.hw("-");if(l&&!this.ct[F])this.hw(F);if(typeof F=="object"){k=F;
if(!k.amQ(_.E.FQ,this.Ll))k.Q(_.E.FQ,this.Ll,this);k.parent=this}else for(var O=0;O<this.pZ.length;O++)if(this.pZ[O].id==F)k=this.pZ[O];
if(this.fV()&&k.fV()){alert("Finish the current action first");return}if(!k.R3(r))return;if(this.jr.indexOf(k)!=-1){if(F=="colorpicker")this.Ll(null,k);
else return}var d=this.jr.length-1;if(d>=0)y.yY(this.jr[d]._,"wdisabled");this._.appendChild(k._);this.jr.push(k);
this.l9(k);y.mb(k);k.wK(r,$,C,M)};dB.prototype.l9=function(F){var r=this.GS,$=this.gi,C=F.kX(r,$),M;
if(C!=null){M=C}else{C=new hx(0,0);M=F.aJ3();if(M==null){var l=this.jr.indexOf(F)+1;if(r<450||$<450)M=new hx(0,0);
else M=new hx(l*150,l*150)}}F._.style.left=M.x+"px";F._.style.top=this._.offsetTop+M.y+"px";F.Xt(this.GS-C.x*2,this.gi-C.y*2-34)};
dB.prototype.Db=function(F,r){this.e=F;for(var O=0;O<this.pZ.length;O++)this.pZ[O].Db(F,r)};dB.prototype.Ll=function(F,r){if(r==null){r=this.jr.pop();
y.E1(r,this._)}else{this.jr.splice(this.jr.indexOf(r),1);this._.removeChild(r._);y.cD(r._,"wdisabled")}var $=this.jr.length-1;
if($>=0)y.cD(this.jr[$]._,"wdisabled");if(this.ei.parentNode==this._)this._.removeChild(this.ei)};document.body.appendChild(new hu()._)}())